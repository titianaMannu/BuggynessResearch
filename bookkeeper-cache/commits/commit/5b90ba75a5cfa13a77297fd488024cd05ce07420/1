{"sha":"5b90ba75a5cfa13a77297fd488024cd05ce07420","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1YjkwYmE3NWE1Y2ZhMTNhNzcyOTdmZDQ4ODAyNGNkMDVjZTA3NDIw","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2011-11-30T11:59:57Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2011-11-30T11:59:57Z"},"message":"Fixing CHANGES.txt for new trunk\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/trunk@1208398 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"d3d842e9a12fb2460999991db3cf1c4f2ac05b4e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d3d842e9a12fb2460999991db3cf1c4f2ac05b4e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/5b90ba75a5cfa13a77297fd488024cd05ce07420","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/5b90ba75a5cfa13a77297fd488024cd05ce07420","html_url":"https://github.com/apache/bookkeeper/commit/5b90ba75a5cfa13a77297fd488024cd05ce07420","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/5b90ba75a5cfa13a77297fd488024cd05ce07420/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"814f0ab6b4d43a35992e995c8abd804326ec633b","url":"https://api.github.com/repos/apache/bookkeeper/commits/814f0ab6b4d43a35992e995c8abd804326ec633b","html_url":"https://github.com/apache/bookkeeper/commit/814f0ab6b4d43a35992e995c8abd804326ec633b"}],"stats":{"total":180,"additions":97,"deletions":83},"files":[{"sha":"6ea91edbbd8621d2959ad83ac364dab6c2e0dd9c","filename":"CHANGES.txt","status":"modified","additions":97,"deletions":83,"changes":180,"blob_url":"https://github.com/apache/bookkeeper/blob/5b90ba75a5cfa13a77297fd488024cd05ce07420/CHANGES.txt","raw_url":"https://github.com/apache/bookkeeper/raw/5b90ba75a5cfa13a77297fd488024cd05ce07420/CHANGES.txt","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/CHANGES.txt?ref=5b90ba75a5cfa13a77297fd488024cd05ce07420","patch":"@@ -1,166 +1,180 @@\n+Trunk (unreleased changes)\n+\n+  Non-backward compatible changes:\n+\n+    BUGFIXES:\n+\n+    IMPROVEMENTS:\n+\n+  Backward compatible changes:\n+\n+    BUGFIXES:\n+\n+    IMPROVEMENTS:\n+\n Release 4.0.0 - 2011-11-30\n \n-Non-backward compatible changes:\n+  Non-backward compatible changes:\n \n-BUGFIXES:\n+    BUGFIXES:\n \n- BOOKKEEPER-89: Bookkeeper API changes for initial Bookkeeper release (ivank)\n+      BOOKKEEPER-89: Bookkeeper API changes for initial Bookkeeper release (ivank)\n \n- BOOKKEEPER-108: add configuration support for BK (Sijie via ivank)\n+      BOOKKEEPER-108: add configuration support for BK (Sijie via ivank)\n \n- BOOKKEEPER-90: Hedwig API changes for initial Bookkeeper release (ivank via fpj)\n+      BOOKKEEPER-90: Hedwig API changes for initial Bookkeeper release (ivank via fpj)\n \n-Backward compatible changes:\n+  Backward compatible changes:\n \n-BUGFIXES:\n+    BUGFIXES:\n \n- BOOKKEEPER-124: build has RAT failures (ivank)\n+      BOOKKEEPER-124: build has RAT failures (ivank)\n \n- BOOKKEEPER-121: Review Hedwig client documentation (breed via ivank)\n- \n- BOOKKEEPER-127: Make poms use official zookeeper 3.4.0 (ivank)\n+      BOOKKEEPER-121: Review Hedwig client documentation (breed via ivank)\n+\n+      BOOKKEEPER-127: Make poms use official zookeeper 3.4.0 (ivank)\n \n- BOOKKEEPER-120: Review BookKeeper client documentation (ivank)\n+      BOOKKEEPER-120: Review BookKeeper client documentation (ivank)\n  \n- BOOKKEEPER-122: Review BookKeeper server documentation (fpj & ivank)\n+      BOOKKEEPER-122: Review BookKeeper server documentation (fpj & ivank)\n  \n- BOOKKEEPER-130: Add developer KEYS file to svn (ivank)\n+      BOOKKEEPER-130: Add developer KEYS file to svn (ivank)\n \n- bookkeeper-server/\n+      bookkeeper-server/\n \n-  BOOKKEEPER-1: Static variable makes tests fail (fpj via ivank)\n+        BOOKKEEPER-1: Static variable makes tests fail (fpj via ivank)\n \n-  BOOKKEEPER-19: BookKeeper doesn't support more than 2Gig of memory (ivan via fpj)\n+        BOOKKEEPER-19: BookKeeper doesn't support more than 2Gig of memory (ivan via fpj)\n \n-  BOOKEEPER-22: Exception in LedgerCache causes addEntry request to fail (fpj via fpj)\n+        BOOKEEPER-22: Exception in LedgerCache causes addEntry request to fail (fpj via fpj)\n \n-  BOOKEEPER-5: Issue with Netty in BookKeeper (fpj and ivank via fpj)\n+        BOOKEEPER-5: Issue with Netty in BookKeeper (fpj and ivank via fpj)\n \n-  BOOKKEEPER-30: Test are too noisy (ivank via fpj)\n+        BOOKKEEPER-30: Test are too noisy (ivank via fpj)\n \n-  BOOKKEEPER-11: Read from open ledger (fpj via ivank)\n+        BOOKKEEPER-11: Read from open ledger (fpj via ivank)\n \n-  BOOKKEEPER-27: mvn site failed with unresolved dependencies (ivank via fpj)\n+        BOOKKEEPER-27: mvn site failed with unresolved dependencies (ivank via fpj)\n   \n-  BOOKKEEPER-29: BookieRecoveryTest fails intermittently (fpj via ivank)\n+        BOOKKEEPER-29: BookieRecoveryTest fails intermittently (fpj via ivank)\n \n-  BOOKKEEPER-33: Add length and offset parameter to addEntry (ivank via fpj)\n+        BOOKKEEPER-33: Add length and offset parameter to addEntry (ivank via fpj)\n \n-  BOOKKEEPER-29: BookieRecoveryTest fails intermittently (ivank, fpj via fpj)\n+        BOOKKEEPER-29: BookieRecoveryTest fails intermittently (ivank, fpj via fpj)\n \n-  BOOKKEEPER-38: Bookie Server doesn't exit when its zookeeper session is expired. So the process is hang there. (Sijie Guo via breed)\n+        BOOKKEEPER-38: Bookie Server doesn't exit when its zookeeper session is expired. So the process is hang there. (Sijie Guo via breed)\n \n-  BOOKKEEPER-58: Changes introduced in BK-38 cause BookieClientTest to hang indefinitely. (ivank)\n+        BOOKKEEPER-58: Changes introduced in BK-38 cause BookieClientTest to hang indefinitely. (ivank)\n \n-  BOOKKEEPER-18: maven build is unstable (mmorel, ivank via ivank)\n+        BOOKKEEPER-18: maven build is unstable (mmorel, ivank via ivank)\n \n-  BOOKKEEPER-57: NullPointException at bookie.zk@EntryLogger (xulei via ivank)\n+        BOOKKEEPER-57: NullPointException at bookie.zk@EntryLogger (xulei via ivank)\n \n-  BOOKKEEPER-59: Race condition in netty code allocates and orphans resources (BK-5 revisited) (ivank via fpj)\n+        BOOKKEEPER-59: Race condition in netty code allocates and orphans resources (BK-5 revisited) (ivank via fpj)\n   \n-  BOOKKEEPER-68: Conditional setData (fpj via ivank)\n+        BOOKKEEPER-68: Conditional setData (fpj via ivank)\n \n-  BOOKKEEPER-86: bookkeeper-benchmark fails to compile after BOOKKEEPER-68 (ivank via breed)\n+        BOOKKEEPER-86: bookkeeper-benchmark fails to compile after BOOKKEEPER-68 (ivank via breed)\n \n-  BOOKKEEPER-61: BufferedChannel read endless when the remaining bytes of file is less than the capacity of read buffer (Sijie Guo via breed)\n+        BOOKKEEPER-61: BufferedChannel read endless when the remaining bytes of file is less than the capacity of read buffer (Sijie Guo via breed)\n \n-  BOOKKEEPER-84: Add versioning for ZK metadata (ivank via breed)\n+        BOOKKEEPER-84: Add versioning for ZK metadata (ivank via breed)\n \n-  BOOKKEEPER-92: using wrong context object in readLastConfirmedComplete callback (Sijie Guo via ivank)\n+        BOOKKEEPER-92: using wrong context object in readLastConfirmedComplete callback (Sijie Guo via ivank)\n  \n-  BOOKKEEPER-94: Double callbacks in readLastConfirmedOp which fails readLastConfirmed operation even received enough valid responses. (Sijie Guo via ivank)\n+        BOOKKEEPER-94: Double callbacks in readLastConfirmedOp which fails readLastConfirmed operation even received enough valid responses. (Sijie Guo via ivank)\n \n-  BOOKKEEPER-83: Added versioning and flags to the bookie protocol (ivank)\n+        BOOKKEEPER-83: Added versioning and flags to the bookie protocol (ivank)\n \n-  BOOKKEEPER-93: bookkeeper doesn't work correctly on OpenLedgerNoRecovery (Sijie Guo via ivank)\n+        BOOKKEEPER-93: bookkeeper doesn't work correctly on OpenLedgerNoRecovery (Sijie Guo via ivank)\n \n-  BOOKKEEPER-103: ledgerId and entryId is parsed wrong when addEntry (Sijie Guo via ivank)\n+        BOOKKEEPER-103: ledgerId and entryId is parsed wrong when addEntry (Sijie Guo via ivank)\n \n-  BOOKKEEPER-50: NullPointException at LedgerDescriptor#cmpMasterKey (Sijie Guo via ivank)\n+        BOOKKEEPER-50: NullPointException at LedgerDescriptor#cmpMasterKey (Sijie Guo via ivank)\n \n-  BOOKKEEPER-82: support journal rolling (Sijie Guo via fpj)\n+        BOOKKEEPER-82: support journal rolling (Sijie Guo via fpj)\n \n-  BOOKKEEPER-106: recoveryBookieData can select a recovery bookie which is already in the ledgers ensemble (ivank via fpj)\n+        BOOKKEEPER-106: recoveryBookieData can select a recovery bookie which is already in the ledgers ensemble (ivank via fpj)\n \n-  BOOKKEEPER-101: Add Fencing to Bookkeeper (ivank)\n+        BOOKKEEPER-101: Add Fencing to Bookkeeper (ivank)\n \n-  BOOKKEEPER-104: Add versioning between bookie and its filesystem layout (ivank)\n+        BOOKKEEPER-104: Add versioning between bookie and its filesystem layout (ivank)\n \n-  BOOKKEEPER-81: disk space of garbage collected entry logger files isn't reclaimed util process quit (Sijie Guo via fpj)\n+        BOOKKEEPER-81: disk space of garbage collected entry logger files isn't reclaimed util process quit (Sijie Guo via fpj)\n \n-  BOOKKEEPER-91: Bookkeeper and hedwig clients should not use log4j directly (ivank via fpj)\n+        BOOKKEEPER-91: Bookkeeper and hedwig clients should not use log4j directly (ivank via fpj)\n \n-  BOOKKEEPER-115: LocalBookKeeper fails after BOOKKEEPER-108 (ivank)\n+        BOOKKEEPER-115: LocalBookKeeper fails after BOOKKEEPER-108 (ivank)\n \n-  BOOKKEEPER-114: add a shutdown hook to shut down bookie server safely. (Sijie via ivank)\n+        BOOKKEEPER-114: add a shutdown hook to shut down bookie server safely. (Sijie via ivank)\n \n-  BOOKKEEPER-39: Bookie server failed to restart because of too many ledgers (more than ~50,000 ledgers) (Sijie via ivank)\n+        BOOKKEEPER-39: Bookie server failed to restart because of too many ledgers (more than ~50,000 ledgers) (Sijie via ivank)\n \n-  BOOKKEEPER-125: log4j still used in some places (ivank)\n+        BOOKKEEPER-125: log4j still used in some places (ivank)\n \n-  BOOKKEEPER-62: Bookie can not start when encountering corrupted records (breed via ivank)\n+        BOOKKEEPER-62: Bookie can not start when encountering corrupted records (breed via ivank)\n \n-  BOOKKEEPER-111: Document bookie recovery feature (ivank)\n+        BOOKKEEPER-111: Document bookie recovery feature (ivank)\n \n-  BOOKKEEPER-129: ZK_TIMEOUT typo in client/server configuration (Sijie via ivank)\n+        BOOKKEEPER-129: ZK_TIMEOUT typo in client/server configuration (Sijie via ivank)\n \n-  BOOKKEEPER-22: Exception in LedgerCache causes addEntry request to fail (fpj via fpj)\n+        BOOKKEEPER-22: Exception in LedgerCache causes addEntry request to fail (fpj via fpj)\n \n-  BOOKKEEPER-5: Issue with Netty in BookKeeper (fpj and ivank via fpj)\n+        BOOKKEEPER-5: Issue with Netty in BookKeeper (fpj and ivank via fpj)\n \n- hedwig-server/\n+      hedwig-server/\n \n-  BOOKKEEPER-43: NullPointException when releasing topic (Sijie Guo via breed)\n+        BOOKKEEPER-43: NullPointException when releasing topic (Sijie Guo via breed)\n   \n-  BOOKKEEPER-51: NullPointException at FIFODeliveryManager#deliveryPtrs (xulei via ivank)\n+        BOOKKEEPER-51: NullPointException at FIFODeliveryManager#deliveryPtrs (xulei via ivank)\n \n-  BOOKKEEPER-63: Hedwig PubSubServer must wait for its Zookeeper client to be connected upon startup (mmorel via ivank)\n+        BOOKKEEPER-63: Hedwig PubSubServer must wait for its Zookeeper client to be connected upon startup (mmorel via ivank)\n \n-  BOOKKEEPER-100: Some hedwig tests have build errors (dferro via ivank)\n+        BOOKKEEPER-100: Some hedwig tests have build errors (dferro via ivank)\n \n-  BOOKKEEPER-69: ServerRedirectLoopException when a machine (hosts bookie server & hub server) reboot, which is caused by race condition of topic manager (Sijie, ivank via ivank)\n+        BOOKKEEPER-69: ServerRedirectLoopException when a machine (hosts bookie server & hub server) reboot, which is caused by race condition of topic manager (Sijie, ivank via ivank)\n \n- hedwig-client/\n+      hedwig-client/\n  \n-  BOOKKEEPER-52: Message sequence confuse due to the subscribeMsgQueue@SubscribeResponseHandler (xulei via ivank)\n+        BOOKKEEPER-52: Message sequence confuse due to the subscribeMsgQueue@SubscribeResponseHandler (xulei via ivank)\n \n-  BOOKKEEPER-88: derby doesn't like - in the topic names (breed via ivank)\n+        BOOKKEEPER-88: derby doesn't like - in the topic names (breed via ivank)\n \n-  BOOKKEEPER-71: hedwig c++ client does not build . (ivank)\n+        BOOKKEEPER-71: hedwig c++ client does not build . (ivank)\n \n-  BOOKKEEPER-107: memory leak in HostAddress of hedwig c++ client (Sijie Guo via ivank)\n+        BOOKKEEPER-107: memory leak in HostAddress of hedwig c++ client (Sijie Guo via ivank)\n  \n-  BOOKKEEPER-80: subscription msg queue race condition in hedwig c++ client (Sijie Guo via ivank)\n+        BOOKKEEPER-80: subscription msg queue race condition in hedwig c++ client (Sijie Guo via ivank)\n \n-  BOOKKEEPER-87: TestHedwigHub exhausts direct buffer memory with netty 3.2.4.Final (ivank via fpj)  \n+        BOOKKEEPER-87: TestHedwigHub exhausts direct buffer memory with netty 3.2.4.Final (ivank via fpj)  \n \n-  BOOKKEEPER-79: randomly startDelivery/stopDelivery will core dump in c++ hedwig client (Sijie Guo via ivank)\n+        BOOKKEEPER-79: randomly startDelivery/stopDelivery will core dump in c++ hedwig client (Sijie Guo via ivank)\n \n-  BOOKKEEPER-118: Hedwig client doesn't kill and remove old subscription channel after redirection. (Sijie Guo via ivank)\n+        BOOKKEEPER-118: Hedwig client doesn't kill and remove old subscription channel after redirection. (Sijie Guo via ivank)\n \n-  BOOKKEEPER-117: Support multi threads in hedwig cpp client to leverage multi-core hardware (Sijie Guo via ivank)\n+        BOOKKEEPER-117: Support multi threads in hedwig cpp client to leverage multi-core hardware (Sijie Guo via ivank)\n \n-  BOOKKEEPER-53: race condition of outstandingMsgSet@SubscribeResponseHandler (fpj via breed)\n+        BOOKKEEPER-53: race condition of outstandingMsgSet@SubscribeResponseHandler (fpj via breed)\n \n-IMPROVEMENTS:\n+    IMPROVEMENTS:\n \n- BOOKKEEPER-28: Create useful startup scripts for bookkeeper and hedwig (ivank)\n+      BOOKKEEPER-28: Create useful startup scripts for bookkeeper and hedwig (ivank)\n \n- BOOKKEEPER-26: Indentation is all messed up in the BookKeeper code (ivank via fpj)\n+      BOOKKEEPER-26: Indentation is all messed up in the BookKeeper code (ivank via fpj)\n \n- BOOKKEEPER-41: Generation of packages for distribution (ivank via fpj)\n+      BOOKKEEPER-41: Generation of packages for distribution (ivank via fpj)\n \n- BOOKKEEPER-65: fix dependencies on incompatible versions of netty (mmorel via ivank)\n+      BOOKKEEPER-65: fix dependencies on incompatible versions of netty (mmorel via ivank)\n \n- BOOKKEEPER-102: Make bookkeeper use ZK from temporary repo (ivank)\n+      BOOKKEEPER-102: Make bookkeeper use ZK from temporary repo (ivank)\n \n- BOOKKEEPER-128: pom and script modifications required for generating release packages (ivank)\n+      BOOKKEEPER-128: pom and script modifications required for generating release packages (ivank)\n \n- hedwig-client/\n+      hedwig-client/\n \n-  BOOKKEEPER-44: Reuse publish channel to default server to avoid too many connect requests to default server when lots of producers came in same time (Sijie Guo via breed)\n+        BOOKKEEPER-44: Reuse publish channel to default server to avoid too many connect requests to default server when lots of producers came in same time (Sijie Guo via breed)\n \n-  BOOKKEEPER-109: Add documentation to describe how bookies flushes data (Sijie Guo via fpj)\n+        BOOKKEEPER-109: Add documentation to describe how bookies flushes data (Sijie Guo via fpj)\n \n-  BOOKKEEPER-119: Keys in configuration have inconsistent style (ivank via fpj)\n+        BOOKKEEPER-119: Keys in configuration have inconsistent style (ivank via fpj)\n "}]}

