{"sha":"8df7e0fb18547e9805238f4bb15d3d0d67978422","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4ZGY3ZTBmYjE4NTQ3ZTk4MDUyMzhmNGJiMTVkM2QwZDY3OTc4NDIy","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2015-07-07T06:24:26Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2015-07-07T06:24:26Z"},"message":"BOOKKEEPER-823: Clean up temp files created by hedwig tests (Jia Zhai via sijie)","tree":{"sha":"366e22223b1b45c1bbdecd9af09f2c97646634c3","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/366e22223b1b45c1bbdecd9af09f2c97646634c3"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/8df7e0fb18547e9805238f4bb15d3d0d67978422","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/8df7e0fb18547e9805238f4bb15d3d0d67978422","html_url":"https://github.com/apache/bookkeeper/commit/8df7e0fb18547e9805238f4bb15d3d0d67978422","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/8df7e0fb18547e9805238f4bb15d3d0d67978422/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"35fbcc357970f126b6b9f9a7bf2a453bd3786044","url":"https://api.github.com/repos/apache/bookkeeper/commits/35fbcc357970f126b6b9f9a7bf2a453bd3786044","html_url":"https://github.com/apache/bookkeeper/commit/35fbcc357970f126b6b9f9a7bf2a453bd3786044"}],"stats":{"total":5,"additions":2,"deletions":3},"files":[{"sha":"1ad752a4b0f3c76705b3bf69a2343c181e027027","filename":"hedwig-server/src/test/java/org/apache/hedwig/server/TestPubSubServerStartup.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/apache/bookkeeper/blob/8df7e0fb18547e9805238f4bb15d3d0d67978422/hedwig-server/src/test/java/org/apache/hedwig/server/TestPubSubServerStartup.java","raw_url":"https://github.com/apache/bookkeeper/raw/8df7e0fb18547e9805238f4bb15d3d0d67978422/hedwig-server/src/test/java/org/apache/hedwig/server/TestPubSubServerStartup.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/hedwig-server/src/test/java/org/apache/hedwig/server/TestPubSubServerStartup.java?ref=8df7e0fb18547e9805238f4bb15d3d0d67978422","patch":"@@ -40,6 +40,7 @@\n import org.apache.zookeeper.server.ZooKeeperServer;\n import org.apache.zookeeper.test.ClientBase;\n import org.junit.Test;\n+import org.apache.hedwig.util.FileUtils;\n \n public class TestPubSubServerStartup {\n \n@@ -78,9 +79,7 @@ private void instantiateAndDestroyPubSubServer() throws IOException, Interrupted\n         writeStringToFile(hedwigParams, hedwigConfigFile);\n \n         ClientBase.setupTestEnv();\n-        File zkTmpDir = File.createTempFile(\"zookeeper\", \"test\");\n-        zkTmpDir.delete();\n-        zkTmpDir.mkdir();\n+        File zkTmpDir = FileUtils.createTempDirectory(\"zookeeper\", \"test\");\n \n         ZooKeeperServer zks = new ZooKeeperServer(zkTmpDir, zkTmpDir, zkPort);\n "}]}

