{"sha":"c0746ba1c9569427d5839e3f350f4d8394f01320","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjMDc0NmJhMWM5NTY5NDI3ZDU4MzllM2YzNTBmNGQ4Mzk0ZjAxMzIw","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2012-08-21T09:37:59Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2012-08-21T09:37:59Z"},"message":"BOOKKEEPER-354: [BOOKKEEPER-296] [Documentation] Modify the bookkeeper start script and document the bookkeeper stop command in bookkeeperConfig.xml (Kiran BC via ivank)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/trunk@1375448 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"fcf184b2056dec75f34fa604f64f9f77c773ff14","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/fcf184b2056dec75f34fa604f64f9f77c773ff14"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c0746ba1c9569427d5839e3f350f4d8394f01320","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c0746ba1c9569427d5839e3f350f4d8394f01320","html_url":"https://github.com/apache/bookkeeper/commit/c0746ba1c9569427d5839e3f350f4d8394f01320","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c0746ba1c9569427d5839e3f350f4d8394f01320/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"89e1c0913e70ce4c345c1c82b92ae91fac80b1d2","url":"https://api.github.com/repos/apache/bookkeeper/commits/89e1c0913e70ce4c345c1c82b92ae91fac80b1d2","html_url":"https://github.com/apache/bookkeeper/commit/89e1c0913e70ce4c345c1c82b92ae91fac80b1d2"}],"stats":{"total":15,"additions":13,"deletions":2},"files":[{"sha":"ef165aa4481c95c795691b8df806a3655cb06b98","filename":"CHANGES.txt","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/c0746ba1c9569427d5839e3f350f4d8394f01320/CHANGES.txt","raw_url":"https://github.com/apache/bookkeeper/raw/c0746ba1c9569427d5839e3f350f4d8394f01320/CHANGES.txt","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/CHANGES.txt?ref=c0746ba1c9569427d5839e3f350f4d8394f01320","patch":"@@ -56,6 +56,8 @@ Trunk (unreleased changes)\n \n         BOOKKEEPER-372: Check service name in bookie start/stop script. (nijel via ivank)\n \n+ \tBOOKKEEPER-354: [BOOKKEEPER-296] [Documentation] Modify the bookkeeper start script and document the bookkeeper stop command in bookkeeperConfig.xml (Kiran BC via ivank)\n+ \n       hedwig-client:\n \n         BOOKKEEPER-274: Hedwig cpp client library should not link to cppunit which is just used for test. (sijie via ivank)"},{"sha":"0524b5d45ee87f8493bab0fdfaafa8f264ba6af5","filename":"doc/bookkeeperConfig.textile","status":"modified","additions":11,"deletions":2,"changes":13,"blob_url":"https://github.com/apache/bookkeeper/blob/c0746ba1c9569427d5839e3f350f4d8394f01320/doc/bookkeeperConfig.textile","raw_url":"https://github.com/apache/bookkeeper/raw/c0746ba1c9569427d5839e3f350f4d8394f01320/doc/bookkeeperConfig.textile","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/doc/bookkeeperConfig.textile?ref=c0746ba1c9569427d5839e3f350f4d8394f01320","patch":"@@ -26,12 +26,16 @@ For performance, we require each server to have at least two disks. It is possib\n \n For ZooKeeper, there is no constraint with respect to the number of replicas. Having a single machine running ZooKeeper in standalone mode is sufficient for BookKeeper. For resilience purposes, it might be a good idea to run ZooKeeper in quorum mode with multiple servers. Please refer to the ZooKeeper documentation for detail on how to configure ZooKeeper with multiple replicas.\n \n-h2. Running bookies\n+h2. Starting and Stopping Bookies\n \n-To run a bookie, we execute the following command:\n+To *start* a bookie, execute the following command:\n \n+* To run a bookie in the foreground:\n @bookkeeper-server/bin/bookkeeper bookie@\n \n+* To run a bookie in the background:\n+@bookkeeper-server/bin/bookkeeper-daemon.sh start bookie@\n+\n The configuration parameters can be set in bookkeeper-server/conf/bk_server.conf.\n \n The important parameters are:\n@@ -43,6 +47,11 @@ The important parameters are:\n \n Ideally, @journalDir@ and @ledgerDir@ are each in a different device. See \"Bookie Configuration Parameters\":./bookieConfigParams.html for a full list of configuration parameters.\n \n+To *stop* a bookie running in the background, execute the following command:\n+\n+@bookkeeper-server/bin/bookkeeper-daemon.sh stop bookie [-force]@\n+@-force@ is optional, which is used to stop the bookie forcefully, if the bookie server is not stopped gracefully within the _BOOKIE_STOP_TIMEOUT_ (environment variable), which is 30 seconds, by default.\n+\n h3. Upgrading\n \n From time to time, we may make changes to the filesystem layout of the bookie, which are incompatible with previous versions of bookkeeper and require that directories used with previous versions are upgraded. If you upgrade your bookkeeper software, and an upgrade is required, then the bookie will fail to start and print an error such as:"}]}

