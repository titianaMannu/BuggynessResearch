{"sha":"d33f843a67ad8bc73367259c78170c0bfab24cdc","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkMzNmODQzYTY3YWQ4YmM3MzM2NzI1OWM3ODE3MGMwYmZhYjI0Y2Rj","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2011-11-18T18:06:13Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2011-11-18T18:06:13Z"},"message":"BOOKKEEPER-115: LocalBookKeeper fails after BOOKKEEPER-108 (ivank)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/trunk@1203774 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"84c3c309401e856e80094a18567fa00e5a7ddf22","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/84c3c309401e856e80094a18567fa00e5a7ddf22"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/d33f843a67ad8bc73367259c78170c0bfab24cdc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/d33f843a67ad8bc73367259c78170c0bfab24cdc","html_url":"https://github.com/apache/bookkeeper/commit/d33f843a67ad8bc73367259c78170c0bfab24cdc","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/d33f843a67ad8bc73367259c78170c0bfab24cdc/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"4afc000c193174857925f357a32950ab743490bc","url":"https://api.github.com/repos/apache/bookkeeper/commits/4afc000c193174857925f357a32950ab743490bc","html_url":"https://github.com/apache/bookkeeper/commit/4afc000c193174857925f357a32950ab743490bc"}],"stats":{"total":36,"additions":19,"deletions":17},"files":[{"sha":"d09ff138bbb2017ffa7191e16ae9747a8f40b775","filename":"CHANGES.txt","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/d33f843a67ad8bc73367259c78170c0bfab24cdc/CHANGES.txt","raw_url":"https://github.com/apache/bookkeeper/raw/d33f843a67ad8bc73367259c78170c0bfab24cdc/CHANGES.txt","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/CHANGES.txt?ref=d33f843a67ad8bc73367259c78170c0bfab24cdc","patch":"@@ -76,6 +76,8 @@ BUGFIXES:\n \n   BOOKKEEPER-108: add configuration support for BK (Sijie via ivank)\n \n+  BOOKKEEPER-115: LocalBookKeeper fails after BOOKKEEPER-108 (ivank)\n+\n  hedwig-server/\n \n   BOOKKEEPER-43: NullPointException when releasing topic (Sijie Guo via breed)"},{"sha":"e3a8360de5f34b1c242bba88a3df60534c991c82","filename":"bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ClientConfiguration.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/apache/bookkeeper/blob/d33f843a67ad8bc73367259c78170c0bfab24cdc/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ClientConfiguration.java","raw_url":"https://github.com/apache/bookkeeper/raw/d33f843a67ad8bc73367259c78170c0bfab24cdc/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ClientConfiguration.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ClientConfiguration.java?ref=d33f843a67ad8bc73367259c78170c0bfab24cdc","patch":"@@ -80,7 +80,7 @@ public int getThrottleValue() {\n      * @return client configuration\n      */\n     public ClientConfiguration setThrottleValue(int throttle) {\n-        this.addProperty(THROTTLE, Integer.toString(throttle));\n+        this.setProperty(THROTTLE, Integer.toString(throttle));\n         return this;\n     }\n \n@@ -109,7 +109,7 @@ public DigestType getBookieRecoveryDigestType() {\n      * @return client configuration\n      */\n     public ClientConfiguration setBookieRecoveryDigestType(DigestType digestType) {\n-        this.addProperty(DIGEST_TYPE, digestType.toString());\n+        this.setProperty(DIGEST_TYPE, digestType.toString());\n         return this;\n     }\n \n@@ -138,7 +138,7 @@ public ClientConfiguration setBookieRecoveryDigestType(DigestType digestType) {\n      * @return client configuration\n      */\n     public ClientConfiguration setBookieRecoveryPasswd(byte[] passwd) {\n-        addProperty(PASSWD, new String(passwd));\n+        setProperty(PASSWD, new String(passwd));\n         return this;\n     }\n \n@@ -168,7 +168,7 @@ public boolean getClientTcpNoDelay() {\n      * @return client configuration\n      */\n     public ClientConfiguration setClientTcpNoDelay(boolean noDelay) {\n-        addProperty(CLIENT_TCP_NODELAY, Boolean.toString(noDelay));\n+        setProperty(CLIENT_TCP_NODELAY, Boolean.toString(noDelay));\n         return this;\n     }\n \n@@ -188,7 +188,7 @@ public String getZkServers() {\n      *          ZooKeeper servers to connect\n      */\n     public ClientConfiguration setZkServers(String zkServers) {\n-        addProperty(ZK_SERVERS, zkServers);\n+        setProperty(ZK_SERVERS, zkServers);\n         return this;\n     }\n \n@@ -209,7 +209,7 @@ public int getZkTimeout() {\n      * @return client configuration\n      */\n     public ClientConfiguration setZkTimeout(int zkTimeout) {\n-        addProperty(ZK_SERVERS, Integer.toString(zkTimeout));\n+        setProperty(ZK_SERVERS, Integer.toString(zkTimeout));\n         return this;\n     }\n "},{"sha":"010adfca596d16a66892f392e9285c5525ff50c5","filename":"bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ServerConfiguration.java","status":"modified","additions":11,"deletions":11,"changes":22,"blob_url":"https://github.com/apache/bookkeeper/blob/d33f843a67ad8bc73367259c78170c0bfab24cdc/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ServerConfiguration.java","raw_url":"https://github.com/apache/bookkeeper/raw/d33f843a67ad8bc73367259c78170c0bfab24cdc/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ServerConfiguration.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ServerConfiguration.java?ref=d33f843a67ad8bc73367259c78170c0bfab24cdc","patch":"@@ -88,7 +88,7 @@ public long getEntryLogSizeLimit() {\n      *          new log size limitation\n      */\n     public ServerConfiguration setEntryLogSizeLimit(long logSizeLimit) {\n-        this.addProperty(ENTRY_LOG_SIZE_LIMIT, Long.toString(logSizeLimit));\n+        this.setProperty(ENTRY_LOG_SIZE_LIMIT, Long.toString(logSizeLimit));\n         return this;\n     }\n \n@@ -109,7 +109,7 @@ public long getGcWaitTime() {\n      * @return server configuration\n      */\n     public ServerConfiguration setGcWaitTime(long gcWaitTime) {\n-        this.addProperty(GC_WAIT_TIME, Long.toString(gcWaitTime));\n+        this.setProperty(GC_WAIT_TIME, Long.toString(gcWaitTime));\n         return this;\n     }\n \n@@ -130,7 +130,7 @@ public int getFlushInterval() {\n      * @return server configuration\n      */\n     public ServerConfiguration setFlushInterval(int flushInterval) {\n-        this.addProperty(FLUSH_INTERVAL, Integer.toString(flushInterval));\n+        this.setProperty(FLUSH_INTERVAL, Integer.toString(flushInterval));\n         return this;\n     }\n \n@@ -187,7 +187,7 @@ public long getMaxJournalSize() {\n      * @return server configuration\n      */\n     public ServerConfiguration setMaxJournalSize(long maxJournalSize) {\n-        this.addProperty(MAX_JOURNAL_SIZE, Long.toString(maxJournalSize));\n+        this.setProperty(MAX_JOURNAL_SIZE, Long.toString(maxJournalSize));\n         return this;\n     }\n \n@@ -208,7 +208,7 @@ public int getMaxBackupJournals() {\n      * @return server configuration\n      */\n     public ServerConfiguration setMaxBackupJournals(int maxBackupJournals) {\n-        this.addProperty(MAX_BACKUP_JOURNALS, Integer.toString(maxBackupJournals));\n+        this.setProperty(MAX_BACKUP_JOURNALS, Integer.toString(maxBackupJournals));\n         return this;\n     }\n \n@@ -229,7 +229,7 @@ public int getBookiePort() {\n      * @return server configuration\n      */\n     public ServerConfiguration setBookiePort(int port) {\n-        this.addProperty(BOOKIE_PORT, Integer.toString(port));\n+        this.setProperty(BOOKIE_PORT, Integer.toString(port));\n         return this;\n     }\n \n@@ -250,7 +250,7 @@ public String getJournalDirName() {\n      * @return server configuration\n      */\n     public ServerConfiguration setJournalDirName(String journalDir) {\n-        this.addProperty(JOURNAL_DIR, journalDir);\n+        this.setProperty(JOURNAL_DIR, journalDir);\n         return this;\n     }\n \n@@ -291,7 +291,7 @@ public ServerConfiguration setLedgerDirNames(String[] ledgerDirs) {\n         if (null == ledgerDirs) {\n             return this;\n         }\n-        this.addProperty(LEDGER_DIRS, StringUtils.join(ledgerDirs, SEP));\n+        this.setProperty(LEDGER_DIRS, StringUtils.join(ledgerDirs, SEP));\n         return this;\n     }\n \n@@ -329,7 +329,7 @@ public boolean getServerTcpNoDelay() {\n      * @return server configuration\n      */\n     public ServerConfiguration setServerTcpNoDelay(boolean noDelay) {\n-        addProperty(SERVER_TCP_NODELAY, Boolean.toString(noDelay));\n+        setProperty(SERVER_TCP_NODELAY, Boolean.toString(noDelay));\n         return this;\n     }\n \n@@ -349,7 +349,7 @@ public String getZkServers() {\n      *          ZooKeeper servers to connect\n      */\n     public ServerConfiguration setZkServers(String zkServers) {\n-        addProperty(ZK_SERVERS, zkServers);\n+        setProperty(ZK_SERVERS, zkServers);\n         return this;\n     }\n \n@@ -370,7 +370,7 @@ public int getZkTimeout() {\n      * @return server configuration\n      */\n     public ServerConfiguration setZkTimeout(int zkTimeout) {\n-        addProperty(ZK_SERVERS, Integer.toString(zkTimeout));\n+        setProperty(ZK_SERVERS, Integer.toString(zkTimeout));\n         return this;\n     }\n "}]}

