{"sha":"f7ce39d522827a0359a0183eae02694ebb35bafd","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmN2NlMzlkNTIyODI3YTAzNTlhMDE4M2VhZTAyNjk0ZWJiMzViYWZk","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-01-07T21:53:54Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-01-07T21:53:54Z"},"message":"BOOKKEEPER-534: Flakeyness in AuditorBookieTest (umamahesh via ivank)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/trunk@1430041 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"5a1b332c77adbbbd4a771929c1985a085edc8008","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/5a1b332c77adbbbd4a771929c1985a085edc8008"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f7ce39d522827a0359a0183eae02694ebb35bafd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f7ce39d522827a0359a0183eae02694ebb35bafd","html_url":"https://github.com/apache/bookkeeper/commit/f7ce39d522827a0359a0183eae02694ebb35bafd","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f7ce39d522827a0359a0183eae02694ebb35bafd/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"b625fdc27a429341143e204338cf5deab3188e9e","url":"https://api.github.com/repos/apache/bookkeeper/commits/b625fdc27a429341143e204338cf5deab3188e9e","html_url":"https://github.com/apache/bookkeeper/commit/b625fdc27a429341143e204338cf5deab3188e9e"}],"stats":{"total":7,"additions":4,"deletions":3},"files":[{"sha":"7db1e74203f771cc4cce375c637090db0cadf88e","filename":"CHANGES.txt","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/f7ce39d522827a0359a0183eae02694ebb35bafd/CHANGES.txt","raw_url":"https://github.com/apache/bookkeeper/raw/f7ce39d522827a0359a0183eae02694ebb35bafd/CHANGES.txt","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/CHANGES.txt?ref=f7ce39d522827a0359a0183eae02694ebb35bafd","patch":"@@ -162,6 +162,8 @@ Trunk (unreleased changes)\n \n         BOOKKEEPER-355: Ledger recovery will mark ledger as closed with -1, in case of slow bookie is added to ensemble during recovery add (ivank)\n \n+        BOOKKEEPER-534: Flakeyness in AuditorBookieTest (umamahesh via ivank)\n+\n       hedwig-protocol:\n \n         BOOKKEEPER-394: CompositeException message is not useful (Stu Hood via sijie)"},{"sha":"60041360192efdbc739c523f257a73a88e121ed5","filename":"bookkeeper-server/src/test/java/org/apache/bookkeeper/replication/AuditorBookieTest.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/apache/bookkeeper/blob/f7ce39d522827a0359a0183eae02694ebb35bafd/bookkeeper-server/src/test/java/org/apache/bookkeeper/replication/AuditorBookieTest.java","raw_url":"https://github.com/apache/bookkeeper/raw/f7ce39d522827a0359a0183eae02694ebb35bafd/bookkeeper-server/src/test/java/org/apache/bookkeeper/replication/AuditorBookieTest.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/test/java/org/apache/bookkeeper/replication/AuditorBookieTest.java?ref=f7ce39d522827a0359a0183eae02694ebb35bafd","patch":"@@ -293,12 +293,11 @@ private BookieServer waitForNewAuditor(BookieServer auditor)\n             List<BookieServer> auditors = getAuditorBookie();\n             if (auditors.size() > 0) {\n                 newAuditor = auditors.get(0);\n-                if (auditor == newAuditor) {\n-                    Thread.sleep(500);\n-                } else {\n+                if (auditor != newAuditor) {\n                     break;\n                 }\n             }\n+            Thread.sleep(500);\n             retryCount--;\n         }\n         Assert.assertNotNull("}]}

