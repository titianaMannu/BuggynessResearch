[{"sha":"c8bcecc3fb38932a2e6444d5362ad1d82ee630af","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjOGJjZWNjM2ZiMzg5MzJhMmU2NDQ0ZDUzNjJhZDFkODJlZTYzMGFm","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T08:43:46Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T08:43:46Z"},"message":"Allow bookie to start if failed to load extra server components\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\n`extraServerComponents` provides the flexibility to allow bookie to start with extra server components.\nIt acts as a plugin mechanism to extend the functionality of bookies. However it is okay to allow bookie\nstart up when failed to load extra server components.\n\nThis is a change for allowing starting table service as extra components in bookies.\n\n*Solution*\n\nCatch the exception and log it when failed to load extra server components.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1420 from sijie/allow_start_bookie","tree":{"sha":"0f0ab1be9b299c8230fe48f85a4ed3bbd501cc2a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/0f0ab1be9b299c8230fe48f85a4ed3bbd501cc2a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c8bcecc3fb38932a2e6444d5362ad1d82ee630af","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c8bcecc3fb38932a2e6444d5362ad1d82ee630af","html_url":"https://github.com/apache/bookkeeper/commit/c8bcecc3fb38932a2e6444d5362ad1d82ee630af","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c8bcecc3fb38932a2e6444d5362ad1d82ee630af/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"445347cdc82aef61104bb8afced6b333bfc041b9","url":"https://api.github.com/repos/apache/bookkeeper/commits/445347cdc82aef61104bb8afced6b333bfc041b9","html_url":"https://github.com/apache/bookkeeper/commit/445347cdc82aef61104bb8afced6b333bfc041b9"}]},{"sha":"445347cdc82aef61104bb8afced6b333bfc041b9","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0NDUzNDdjZGM4MmFlZjYxMTA0YmI4YWZjZWQ2YjMzM2JmYzA0MWI5","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T07:27:46Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T07:27:46Z"},"message":"Build stream modules for integration tests\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\napache/bookkeeper#1422 adds table service as part of integration tests. so we need to build stream modules\nin order to run integration tests for apache/bookkeeper#1422\n\n*Solution*\n\nAdd \"-Dstream\" in the maven commands for `precommit-integrationtests` CI job.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>\n\nThis closes #1424 from sijie/compile_stream_module","tree":{"sha":"1669290ec11dcd17cd1d0b6db951ba1cf962be57","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/1669290ec11dcd17cd1d0b6db951ba1cf962be57"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/445347cdc82aef61104bb8afced6b333bfc041b9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/445347cdc82aef61104bb8afced6b333bfc041b9","html_url":"https://github.com/apache/bookkeeper/commit/445347cdc82aef61104bb8afced6b333bfc041b9","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/445347cdc82aef61104bb8afced6b333bfc041b9/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"f6778ab7c1424bc5d71b6b52337649c0b06ae669","url":"https://api.github.com/repos/apache/bookkeeper/commits/f6778ab7c1424bc5d71b6b52337649c0b06ae669","html_url":"https://github.com/apache/bookkeeper/commit/f6778ab7c1424bc5d71b6b52337649c0b06ae669"}]},{"sha":"f6778ab7c1424bc5d71b6b52337649c0b06ae669","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmNjc3OGFiN2MxNDI0YmM1ZDcxYjZiNTIzMzc2NDljMGIwNmFlNjY5","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T05:39:40Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T05:39:40Z"},"message":"Provide a util method to run functions with metadata client driver\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nCurrently `MetadataDrivers` provides util methods to run functions with metadata bookie driver.\nIt is convinient to provide a util method to run functions with metadata client driver as well.\n\n*Solution*\n\nProvide a util method `runFunctionWithMetadataClientDriver` to run functions with metadata client driver.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1421 from sijie/utils_to_run_client_driver","tree":{"sha":"a22657e02b1d9d72c840ccd4aa74d713100cf0c3","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/a22657e02b1d9d72c840ccd4aa74d713100cf0c3"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f6778ab7c1424bc5d71b6b52337649c0b06ae669","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f6778ab7c1424bc5d71b6b52337649c0b06ae669","html_url":"https://github.com/apache/bookkeeper/commit/f6778ab7c1424bc5d71b6b52337649c0b06ae669","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f6778ab7c1424bc5d71b6b52337649c0b06ae669/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"44259ab273589c1ec5d04c7e8653d21d443da34e","url":"https://api.github.com/repos/apache/bookkeeper/commits/44259ab273589c1ec5d04c7e8653d21d443da34e","html_url":"https://github.com/apache/bookkeeper/commit/44259ab273589c1ec5d04c7e8653d21d443da34e"}]},{"sha":"44259ab273589c1ec5d04c7e8653d21d443da34e","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0NDI1OWFiMjczNTg5YzFlYzVkMDRjN2U4NjUzZDIxZDQ0M2RhMzRl","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T05:38:52Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T05:38:52Z"},"message":"Fix dev/check-binary-license on macOS\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\n`dev/check-binary-license` is used for checking whether LICENSE files are updated to reflect the dependencies included in the distribution packages.\nHowever this script doesn't work on macOS, which makes the development on macOS inconvinient.\n\n*Solution*\n\nThe change removes `--wildcards` from tar command. The option only works on linux machines.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>\n\nThis closes #1418 from sijie/fix_check_license_script_master","tree":{"sha":"82b316b29458042ab51bb5ff567b6cc909d5c938","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/82b316b29458042ab51bb5ff567b6cc909d5c938"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/44259ab273589c1ec5d04c7e8653d21d443da34e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/44259ab273589c1ec5d04c7e8653d21d443da34e","html_url":"https://github.com/apache/bookkeeper/commit/44259ab273589c1ec5d04c7e8653d21d443da34e","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/44259ab273589c1ec5d04c7e8653d21d443da34e/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"916cd6655a70407e8c251c74814543ba1dbcf026","url":"https://api.github.com/repos/apache/bookkeeper/commits/916cd6655a70407e8c251c74814543ba1dbcf026","html_url":"https://github.com/apache/bookkeeper/commit/916cd6655a70407e8c251c74814543ba1dbcf026"}]},{"sha":"916cd6655a70407e8c251c74814543ba1dbcf026","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5MTZjZDY2NTVhNzA0MDdlOGMyNTFjNzQ4MTQ1NDNiYTFkYmNmMDI2","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-05-22T02:02:35Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-22T02:02:35Z"},"message":"Issue #570: EntryLogManagerForEntryLogPerLedger implementation\n\nDescriptions of the changes in this PR:\n\nThis is < sub-task6  > of Issue #570\n\nintroducing EntryLogManagerForEntryLogPerLedger, which is the\nimplementation of EntryLogManager for entrylog per ledger\nfeature.\n\nMaster Issue: #570\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Andrey Yegorov <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1391 from reddycharan/entrylogmanagerentrylogperledger, closes #570","tree":{"sha":"4f5fe9fd6686bca6458ce1b183f25022797b31d5","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/4f5fe9fd6686bca6458ce1b183f25022797b31d5"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/916cd6655a70407e8c251c74814543ba1dbcf026","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/916cd6655a70407e8c251c74814543ba1dbcf026","html_url":"https://github.com/apache/bookkeeper/commit/916cd6655a70407e8c251c74814543ba1dbcf026","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/916cd6655a70407e8c251c74814543ba1dbcf026/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"0fd1f4f81ff9acf3ab6776a8afc5f3673b786a2d","url":"https://api.github.com/repos/apache/bookkeeper/commits/0fd1f4f81ff9acf3ab6776a8afc5f3673b786a2d","html_url":"https://github.com/apache/bookkeeper/commit/0fd1f4f81ff9acf3ab6776a8afc5f3673b786a2d"}]},{"sha":"0fd1f4f81ff9acf3ab6776a8afc5f3673b786a2d","node_id":"MDY6Q29tbWl0MTU3NTk1NjowZmQxZjRmODFmZjlhY2YzYWI2Nzc2YThhZmM1ZjM2NzNiNzg2YTJk","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-21T21:54:52Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-21T21:54:52Z"},"message":"Provide zookeeper startup script\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nZooKeeper is a dependency of bookkeeper shipped along with bookkeeper dist package. However we never provide any script to startup zookeeper in the bookkeeper binary package and never test the zookeeper version shipped along with bookkeeper\n\n*Solution*\n\n- add zookeeper in `bin/bookeeper` scripts to start zookeeper using bookkeeper scripts\n- refactor bookkeeper docker scripts to start bookie/zookeeper/standalone\n- use zk adminPort for health check, since 4letters commands are explicitly disabled at 3.5\n\n*Tests*\n\nExisting integration tests test the docker scripts and the bash script changes to start zookeeper.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1416 from sijie/package_zookeeper","tree":{"sha":"6043fe0b50c4cbc32d6a84b345348cdf837f9c72","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/6043fe0b50c4cbc32d6a84b345348cdf837f9c72"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/0fd1f4f81ff9acf3ab6776a8afc5f3673b786a2d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/0fd1f4f81ff9acf3ab6776a8afc5f3673b786a2d","html_url":"https://github.com/apache/bookkeeper/commit/0fd1f4f81ff9acf3ab6776a8afc5f3673b786a2d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/0fd1f4f81ff9acf3ab6776a8afc5f3673b786a2d/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"9ba4c4e0d8be770e03110a958fb8b75a65ae0f59","url":"https://api.github.com/repos/apache/bookkeeper/commits/9ba4c4e0d8be770e03110a958fb8b75a65ae0f59","html_url":"https://github.com/apache/bookkeeper/commit/9ba4c4e0d8be770e03110a958fb8b75a65ae0f59"}]},{"sha":"9ba4c4e0d8be770e03110a958fb8b75a65ae0f59","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5YmE0YzRlMGQ4YmU3NzBlMDMxMTBhOTU4ZmI4Yjc1YTY1YWUwZjU5","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-05-21T21:53:43Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-21T21:53:43Z"},"message":"Bookies should be from different racks in a Writequorum.\n\nDescriptions of the changes in this PR:\n\nIdeally RackAwareEnsemblePlacementPolicy should try to select\nbookies from different racks for a write quorum. So in a\nWriteQuorum, bookies should be from WriteQuorum number of racks,\nprovided there are sufficient number of available racks and\nbookies.\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1397 from reddycharan/configracks","tree":{"sha":"43cb42d5b79b3ab371feae4e383797231856890c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/43cb42d5b79b3ab371feae4e383797231856890c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9ba4c4e0d8be770e03110a958fb8b75a65ae0f59","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9ba4c4e0d8be770e03110a958fb8b75a65ae0f59","html_url":"https://github.com/apache/bookkeeper/commit/9ba4c4e0d8be770e03110a958fb8b75a65ae0f59","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9ba4c4e0d8be770e03110a958fb8b75a65ae0f59/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"5bdfbf6a673b69a9027f85ad4e82c427d41646be","url":"https://api.github.com/repos/apache/bookkeeper/commits/5bdfbf6a673b69a9027f85ad4e82c427d41646be","html_url":"https://github.com/apache/bookkeeper/commit/5bdfbf6a673b69a9027f85ad4e82c427d41646be"}]},{"sha":"5bdfbf6a673b69a9027f85ad4e82c427d41646be","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1YmRmYmY2YTY3M2I2OWE5MDI3Zjg1YWQ0ZTgyYzQyN2Q0MTY0NmJl","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-18T19:49:31Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-18T19:49:31Z"},"message":"Add a docker based `BookKeeperClusterTestBase` for failure related integration tests\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nCurrently we don't have any failure related testing for table service. Since we are using docker as the integration testing infrastructure,\nIt is better to use container for those failure testings, rather than going down the path as what we did before.\n\n*Solution*\n\nThis change provides the basic test base for bookkeeper cluster using dockers. `BookKeeperClusterTestBase` provides the similar functionalities\nto start/stop bookies as what we did in the unit test.\n\n`bookkeeper/tests/containers` in `integration-tests-topologies` provides all the basic containers used for testing.\n`tests/integration/cluster` and `tests/integration/topologies` provides the test base for writing tests using dockerized bookkeeper cluster.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1412 from sijie/docker_cluster_dev","tree":{"sha":"788a6766c9a5a964e6e80ea2ce2c0dedcb362376","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/788a6766c9a5a964e6e80ea2ce2c0dedcb362376"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/5bdfbf6a673b69a9027f85ad4e82c427d41646be","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/5bdfbf6a673b69a9027f85ad4e82c427d41646be","html_url":"https://github.com/apache/bookkeeper/commit/5bdfbf6a673b69a9027f85ad4e82c427d41646be","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/5bdfbf6a673b69a9027f85ad4e82c427d41646be/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"2414ce0526f64663d6ceab1b642862ff6f8eb1fa","url":"https://api.github.com/repos/apache/bookkeeper/commits/2414ce0526f64663d6ceab1b642862ff6f8eb1fa","html_url":"https://github.com/apache/bookkeeper/commit/2414ce0526f64663d6ceab1b642862ff6f8eb1fa"}]},{"sha":"2414ce0526f64663d6ceab1b642862ff6f8eb1fa","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyNDE0Y2UwNTI2ZjY0NjYzZDZjZWFiMWI2NDI4NjJmZjZmOGViMWZh","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-17T08:39:04Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-17T08:39:04Z"},"message":"Add a test docker image for current version only\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nThe current test images don't use any scripts that shipped with official docker image.\nWe basically don't have any test coverage on the official docker image we shipped for each release.\n\n*Solution*\n\nIntroduce a `bookkeeper-current` image representing an image for latest master.\n\nUse `apachebookkeeper/all-versions-image` for BC tests, use `apachebookkeeper/bookkeeper-current` as tests only needs latest master image.\n\nAdd an integration test to test standalone mode using the `bookkeeper-current` image\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1408 from sijie/docker_dev","tree":{"sha":"94d0cf15fcfc2f6a625f85d86f231d1955e50f74","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/94d0cf15fcfc2f6a625f85d86f231d1955e50f74"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2414ce0526f64663d6ceab1b642862ff6f8eb1fa","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2414ce0526f64663d6ceab1b642862ff6f8eb1fa","html_url":"https://github.com/apache/bookkeeper/commit/2414ce0526f64663d6ceab1b642862ff6f8eb1fa","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2414ce0526f64663d6ceab1b642862ff6f8eb1fa/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"8c077a93e50ea844e0c39ca042ed2aa8cbd6d256","url":"https://api.github.com/repos/apache/bookkeeper/commits/8c077a93e50ea844e0c39ca042ed2aa8cbd6d256","html_url":"https://github.com/apache/bookkeeper/commit/8c077a93e50ea844e0c39ca042ed2aa8cbd6d256"}]},{"sha":"8c077a93e50ea844e0c39ca042ed2aa8cbd6d256","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4YzA3N2E5M2U1MGVhODQ0ZTBjMzljYTA0MmVkMmFhOGNiZDZkMjU2","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-05-17T08:38:20Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-17T08:38:20Z"},"message":"IssueÂ #1405: ReplicationWorker should back-off retrying.\n\nDescriptions of the changes in this PR:\n\nReplicationWorker should backoff replication\nafter threshold number of replication failures of a ledger.\n\nCurrently ReplicationWorker will do busy retrials if\nreplication is failed for a ledger, instead it should\nbackoff if replication had failed for threshold\nnumber of times. This can be done by deferring\nreleasing of underreplicated lock by\n'lockReleaseOfFailedLedgerGracePeriod' amount\nof time.\n\nMaster Issue: #1405\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1406 from reddycharan/fixreplicator, closes #1405","tree":{"sha":"bbf63c20229ecc3aee2b892bf97cbd9a77c15f4a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/bbf63c20229ecc3aee2b892bf97cbd9a77c15f4a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/8c077a93e50ea844e0c39ca042ed2aa8cbd6d256","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/8c077a93e50ea844e0c39ca042ed2aa8cbd6d256","html_url":"https://github.com/apache/bookkeeper/commit/8c077a93e50ea844e0c39ca042ed2aa8cbd6d256","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/8c077a93e50ea844e0c39ca042ed2aa8cbd6d256/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"a26747890195549e21d48d3fee4f36251ee613d6","url":"https://api.github.com/repos/apache/bookkeeper/commits/a26747890195549e21d48d3fee4f36251ee613d6","html_url":"https://github.com/apache/bookkeeper/commit/a26747890195549e21d48d3fee4f36251ee613d6"}]},{"sha":"a26747890195549e21d48d3fee4f36251ee613d6","node_id":"MDY6Q29tbWl0MTU3NTk1NjphMjY3NDc4OTAxOTU1NDllMjFkNDhkM2ZlZTRmMzYyNTFlZTYxM2Q2","commit":{"author":{"name":"JV Jujjuri","email":"vjujjuri@salesforce.com","date":"2018-05-17T08:37:28Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-17T08:37:28Z"},"message":"ISSUE #1390 Ensemble change on delayed write error\n\nError on delayed writes are dropped if the addEntry\nis in complete state (ack quorum satisfied).\nThis change records the delayed write failure and forces\nensemble change onthe next write. This saves from having\nextended under replicated status on the ledger and also\navoids unnecessary build up at PCBC channel.\n\nSigned-off-by: Venkateswararao Jujjuri (JV) <vjujjurisalesforce.com>\n\nDescriptions of the changes in this PR:\n\n(PR description content here)...\n\nMaster Issue: #<master-issue-number>\n\nAuthor: JV Jujjuri <vjujjuri@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1395 from jvrao/bk-issue-1390-delayedWriteError, closes #1390","tree":{"sha":"d53717bafa75748dcfb3dd57a0213b2f5a5b96d0","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d53717bafa75748dcfb3dd57a0213b2f5a5b96d0"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/a26747890195549e21d48d3fee4f36251ee613d6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/a26747890195549e21d48d3fee4f36251ee613d6","html_url":"https://github.com/apache/bookkeeper/commit/a26747890195549e21d48d3fee4f36251ee613d6","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/a26747890195549e21d48d3fee4f36251ee613d6/comments","author":{"login":"jvrao","id":41390,"node_id":"MDQ6VXNlcjQxMzkw","avatar_url":"https://avatars.githubusercontent.com/u/41390?v=4","gravatar_id":"","url":"https://api.github.com/users/jvrao","html_url":"https://github.com/jvrao","followers_url":"https://api.github.com/users/jvrao/followers","following_url":"https://api.github.com/users/jvrao/following{/other_user}","gists_url":"https://api.github.com/users/jvrao/gists{/gist_id}","starred_url":"https://api.github.com/users/jvrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvrao/subscriptions","organizations_url":"https://api.github.com/users/jvrao/orgs","repos_url":"https://api.github.com/users/jvrao/repos","events_url":"https://api.github.com/users/jvrao/events{/privacy}","received_events_url":"https://api.github.com/users/jvrao/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7446d5c5d999c88de3cf2b9a36d793295c751a91","url":"https://api.github.com/repos/apache/bookkeeper/commits/7446d5c5d999c88de3cf2b9a36d793295c751a91","html_url":"https://github.com/apache/bookkeeper/commit/7446d5c5d999c88de3cf2b9a36d793295c751a91"}]},{"sha":"7446d5c5d999c88de3cf2b9a36d793295c751a91","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3NDQ2ZDVjNWQ5OTljODhkZTNjZjJiOWEzNmQ3OTMyOTVjNzUxYTkx","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-17T04:00:42Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-17T04:00:42Z"},"message":"Refactor bookkeeper bash scripts and move dlog script to root bin directory\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nSince 4.7, we have moved bash scripts and configuration to the root directory. However the scripts and configurations for dlog and table-service modules are still in their own modules. It is inconvenient and confusing. This change mainly refactor current bookkeeper script to make it reusable for other modules.\n\n*Code Change*\n\nThe main changes are:\n\n- abstract the common logic in `bin/bookkeeper` to `bin/common.sh`. These common logics include:\n   * common definitions on environment variables, such jvm settings, bk conf, log4j conf, classpath and such.\n   * common functions can be reusable, such as find jars, add maven dependencies.\n- simplify `bin/bookkeeper` and `bin/bookkeeper-cli` by reusing `bin/common.sh`\n- remove `stream/distributedlog/core/bin/dlog` to `bin/dlog` and simplify it by reusing `bin/common.sh`\n\n*Tests*\n\nMost of the changes in this PR are tests to ensure this script refactor is done correctly.\n\n- introduced a module `tests/scripts` for testing all the bash scripts in bookkeeper project. This module uses [shUnit2](https://github.com/kward/shunit2) for testing bash scripts. This gives a good test coverage on `bin/common.sh`.\n\n- add a few CLI smoketests under `tests/integration/smoke` to smoke test all CLI tools, including `bin/bookkeeper shell`, `bin/bookkeeper-cli` and `bin/dlog`. This makes sure all the CLI scripts work well after refactor.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>\n\nThis closes #1407 from sijie/include_dlog_library","tree":{"sha":"aed837a794eae71e320326e211ffeeb0ac4eebd9","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/aed837a794eae71e320326e211ffeeb0ac4eebd9"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7446d5c5d999c88de3cf2b9a36d793295c751a91","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7446d5c5d999c88de3cf2b9a36d793295c751a91","html_url":"https://github.com/apache/bookkeeper/commit/7446d5c5d999c88de3cf2b9a36d793295c751a91","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7446d5c5d999c88de3cf2b9a36d793295c751a91/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"92591733c8b778f63cd71a00b2c7ed2c69c41312","url":"https://api.github.com/repos/apache/bookkeeper/commits/92591733c8b778f63cd71a00b2c7ed2c69c41312","html_url":"https://github.com/apache/bookkeeper/commit/92591733c8b778f63cd71a00b2c7ed2c69c41312"}]},{"sha":"92591733c8b778f63cd71a00b2c7ed2c69c41312","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5MjU5MTczM2M4Yjc3OGY2M2NkNzFhMDBiMmM3ZWQyYzY5YzQxMzEy","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-15T18:12:54Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-15T18:12:54Z"},"message":"ISSUE #1403: ArrayIndexOutOfBoundsException is thrown on readLastAddConfirmedAndEntry\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nThere are two bugs in `ReadLastAddConfirmedAndEntry`:\n\n1) a regression was introduced by #657. the long poll read op is attempting to long-poll reading lac. since lac is stored across ensemble, so the retry logic assumes it will attempt over all the bookies in the ensemble. however #657 use a `write-quorum-size` write set for tracking those attempts. this leads to ArrayIndexOutOfBoundsException reported at #1403. The integrate tests added in this PR can easily reproduce this issue.\n\n2) there was a bug on retry logic when a ledger whose ensemble size is larger than write quorum size. when this happens, it will claim lac is not advanced prior to attempt the bookie in the ensemble. so the client will never know lac is advanced if using long poll reads on such ledgers. The integrate tests added in this PR can also catch this issue.\n\ndisclaim: twitter uses long poll reads but never uses `ensembleSize > writeQuorumSize`. so this is not a problem for dlog users.\n\n*Solution*\n\n- introduce a `getWriteSetForLongPoll` call that uses `ensembleSize` for building the write set. this would address problem 1)\n- fix the assignment of `numEmptyResponsesAllowed`, so the long poll reads can work with `ensembleSize > writeQuorumSize`\n- add integration tests for long polling reads\n\nat the same time, also add an integration test for normal tailing reads with\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1404 from sijie/longpoll_tests, closes #1403","tree":{"sha":"e9ff034b65b23f0a1ed287c2032aaf89d7094e27","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e9ff034b65b23f0a1ed287c2032aaf89d7094e27"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/92591733c8b778f63cd71a00b2c7ed2c69c41312","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/92591733c8b778f63cd71a00b2c7ed2c69c41312","html_url":"https://github.com/apache/bookkeeper/commit/92591733c8b778f63cd71a00b2c7ed2c69c41312","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/92591733c8b778f63cd71a00b2c7ed2c69c41312/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"0d862fa42792301f26127addd5cc5a6a0114ce9b","url":"https://api.github.com/repos/apache/bookkeeper/commits/0d862fa42792301f26127addd5cc5a6a0114ce9b","html_url":"https://github.com/apache/bookkeeper/commit/0d862fa42792301f26127addd5cc5a6a0114ce9b"}]},{"sha":"0d862fa42792301f26127addd5cc5a6a0114ce9b","node_id":"MDY6Q29tbWl0MTU3NTk1NjowZDg2MmZhNDI3OTIzMDFmMjYxMjdhZGRkNWNjNWE2YTAxMTRjZTli","commit":{"author":{"name":"Ali Ahmed","email":"alahmed.se@gmail.com","date":"2018-05-15T11:55:36Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-05-15T11:55:36Z"},"message":"Use isEmpty method instead of size check\n\nIn HTTP ListLedgerService use is Empty instead of size check.\n\nAuthor: Ali Ahmed <alahmed.se@gmail.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1371 from aahmed-se/minorRefactor","tree":{"sha":"2716ff9210e3fa09e20ae48a560c2758ec91935c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2716ff9210e3fa09e20ae48a560c2758ec91935c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/0d862fa42792301f26127addd5cc5a6a0114ce9b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/0d862fa42792301f26127addd5cc5a6a0114ce9b","html_url":"https://github.com/apache/bookkeeper/commit/0d862fa42792301f26127addd5cc5a6a0114ce9b","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/0d862fa42792301f26127addd5cc5a6a0114ce9b/comments","author":{"login":"aahmed-se","id":8009085,"node_id":"MDQ6VXNlcjgwMDkwODU=","avatar_url":"https://avatars.githubusercontent.com/u/8009085?v=4","gravatar_id":"","url":"https://api.github.com/users/aahmed-se","html_url":"https://github.com/aahmed-se","followers_url":"https://api.github.com/users/aahmed-se/followers","following_url":"https://api.github.com/users/aahmed-se/following{/other_user}","gists_url":"https://api.github.com/users/aahmed-se/gists{/gist_id}","starred_url":"https://api.github.com/users/aahmed-se/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aahmed-se/subscriptions","organizations_url":"https://api.github.com/users/aahmed-se/orgs","repos_url":"https://api.github.com/users/aahmed-se/repos","events_url":"https://api.github.com/users/aahmed-se/events{/privacy}","received_events_url":"https://api.github.com/users/aahmed-se/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"6a48cd580814d71f931668fd78025f70aecf485c","url":"https://api.github.com/repos/apache/bookkeeper/commits/6a48cd580814d71f931668fd78025f70aecf485c","html_url":"https://github.com/apache/bookkeeper/commit/6a48cd580814d71f931668fd78025f70aecf485c"}]},{"sha":"6a48cd580814d71f931668fd78025f70aecf485c","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2YTQ4Y2Q1ODA4MTRkNzFmOTMxNjY4ZmQ3ODAyNWY3MGFlY2Y0ODVj","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-14T20:03:54Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-14T20:03:54Z"},"message":"Issue #1396: Export metrics in same http server\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nCurrently metrics provider and http admin endpoint are isolated due to the way how things are modularized.\nThis requires two ports to be used, one is for metrics provider to expose metrics, while the other one is used by\nhttp admin endpoint for expose admin endpoints.\n\nWhen implementing a bookkeeper operator on k8s, it becomes confusing on managing those ports and do health checks.\nIt would be good to allow export metrics in same http admin endpoint if it is enabled.\n\n*Solution*\n\n- Introduce a method `writeAllMetrics` in stats provider to allow stats provider exporting metrics.\n- Add a `MetricsService` in bookie http service and export stats provider's metrics under `/metrics` endpoint.\n\nThis fixes #1396\n\nMaster Issue: #1396\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1399 from sijie/same_http_metrics_port, closes #1396","tree":{"sha":"d2afdbd3ff302f907eaeb36d73dfa90e85273161","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d2afdbd3ff302f907eaeb36d73dfa90e85273161"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6a48cd580814d71f931668fd78025f70aecf485c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6a48cd580814d71f931668fd78025f70aecf485c","html_url":"https://github.com/apache/bookkeeper/commit/6a48cd580814d71f931668fd78025f70aecf485c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6a48cd580814d71f931668fd78025f70aecf485c/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"94c7ce0ba535181bc0fa78c4cb4cc612b1d6b773","url":"https://api.github.com/repos/apache/bookkeeper/commits/94c7ce0ba535181bc0fa78c4cb4cc612b1d6b773","html_url":"https://github.com/apache/bookkeeper/commit/94c7ce0ba535181bc0fa78c4cb4cc612b1d6b773"}]},{"sha":"94c7ce0ba535181bc0fa78c4cb4cc612b1d6b773","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5NGM3Y2UwYmE1MzUxODFiYzBmYTc4YzRjYjRjYzYxMmIxZDZiNzcz","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-05-14T06:16:22Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-05-14T06:16:22Z"},"message":"BP-14 forceLedger wire protocol server side implementation\n\nImplementation of the wire protocol for the BP-14 force ledger API on bookie side\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\nAuthor: eolivelli <eolivelli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>,  Venkateswararao Jujjuri (JV) <vjujjuri@salesforce.com>\n\nThis closes #1393 from eolivelli/bp14-simple-force-ledger-proto","tree":{"sha":"818f69a66381907604ed44be85ee391a14f164bf","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/818f69a66381907604ed44be85ee391a14f164bf"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/94c7ce0ba535181bc0fa78c4cb4cc612b1d6b773","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/94c7ce0ba535181bc0fa78c4cb4cc612b1d6b773","html_url":"https://github.com/apache/bookkeeper/commit/94c7ce0ba535181bc0fa78c4cb4cc612b1d6b773","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/94c7ce0ba535181bc0fa78c4cb4cc612b1d6b773/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"cd71e0981dffa92edf51f9665117a30265b1cf4a","url":"https://api.github.com/repos/apache/bookkeeper/commits/cd71e0981dffa92edf51f9665117a30265b1cf4a","html_url":"https://github.com/apache/bookkeeper/commit/cd71e0981dffa92edf51f9665117a30265b1cf4a"}]},{"sha":"cd71e0981dffa92edf51f9665117a30265b1cf4a","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjZDcxZTA5ODFkZmZhOTJlZGY1MWY5NjY1MTE3YTMwMjY1YjFjZjRh","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-12T11:32:57Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-12T11:32:57Z"},"message":"Fix TestSmoke#testTailingReads\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nTestSmoke#testTailingReads is testing the tailing behavior at bookkeeper. However the current testing logic is a bit\nproblematic on checking whether the reader has caught up with the expected last add confirmed. so the read logic break\nearlier before reading the expectedLastConfirmedEntry.\n\n*Solution*\n\nFix the checking logic on breaking the read loop.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1402 from sijie/fix_integration_tests","tree":{"sha":"221602c8ddb5e96a2f4bdb5ce4e72af95b55a6be","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/221602c8ddb5e96a2f4bdb5ce4e72af95b55a6be"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/cd71e0981dffa92edf51f9665117a30265b1cf4a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/cd71e0981dffa92edf51f9665117a30265b1cf4a","html_url":"https://github.com/apache/bookkeeper/commit/cd71e0981dffa92edf51f9665117a30265b1cf4a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/cd71e0981dffa92edf51f9665117a30265b1cf4a/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"eec48c4e21145c361dcbd749ab699922dfc0c68c","url":"https://api.github.com/repos/apache/bookkeeper/commits/eec48c4e21145c361dcbd749ab699922dfc0c68c","html_url":"https://github.com/apache/bookkeeper/commit/eec48c4e21145c361dcbd749ab699922dfc0c68c"}]},{"sha":"eec48c4e21145c361dcbd749ab699922dfc0c68c","node_id":"MDY6Q29tbWl0MTU3NTk1NjplZWM0OGM0ZTIxMTQ1YzM2MWRjYmQ3NDlhYjY5OTkyMmRmYzBjNjhj","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-12T06:45:25Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-12T06:45:25Z"},"message":"Provide a vagrantfile to launch a linux vm for running integration tests\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nCurrently all bookkeeper's integration tests and bc tests are docker based and written\nusing arquillian framework. Due to the network issues in docker and the way how bookies\nadvertise themselves in the cluster, we can *ONLY* run integration tests in a linux\nenvironment. It is inconvinient to people who is using macOS as the development environment.\n\n*Solution*\n\nThis PR is providing a Vagrantfile to lanuch a dev vm that contains all the tools required\nfor running integration tests and bc tests. So people can actually debug and test integration\ntests locally using a linux vm.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1401 from sijie/vagrant_files","tree":{"sha":"44c0fba0363c2ca2b591e531cdd1ecec15bb708e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/44c0fba0363c2ca2b591e531cdd1ecec15bb708e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/eec48c4e21145c361dcbd749ab699922dfc0c68c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/eec48c4e21145c361dcbd749ab699922dfc0c68c","html_url":"https://github.com/apache/bookkeeper/commit/eec48c4e21145c361dcbd749ab699922dfc0c68c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/eec48c4e21145c361dcbd749ab699922dfc0c68c/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"175c8ded8417bb50467218edcce5fc2971f0752e","url":"https://api.github.com/repos/apache/bookkeeper/commits/175c8ded8417bb50467218edcce5fc2971f0752e","html_url":"https://github.com/apache/bookkeeper/commit/175c8ded8417bb50467218edcce5fc2971f0752e"}]},{"sha":"175c8ded8417bb50467218edcce5fc2971f0752e","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxNzVjOGRlZDg0MTdiYjUwNDY3MjE4ZWRjY2U1ZmMyOTcxZjA3NTJl","commit":{"author":{"name":"arunlakshman","email":"arunmuthuravi@gmail.com","date":"2018-05-12T03:13:29Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-12T03:13:29Z"},"message":"ISSUE #1339: Cleanup the directories created by DbLedgerStorageTest\n\nDescriptions of the changes in this PR:\n\n  Cleaned up the directories `dir1` and `dir2` left behind by the test `DbLedgerStorageTest`\n\nMaster Issue: #1339\n\nAuthor: arunlakshman <arunmuthuravi@gmail.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Matteo Merli <mmerli@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #1398 from arunlakshman/issue1339, closes #1339","tree":{"sha":"4784a6868b50f0520340790add49a26cc6778d47","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/4784a6868b50f0520340790add49a26cc6778d47"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/175c8ded8417bb50467218edcce5fc2971f0752e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/175c8ded8417bb50467218edcce5fc2971f0752e","html_url":"https://github.com/apache/bookkeeper/commit/175c8ded8417bb50467218edcce5fc2971f0752e","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/175c8ded8417bb50467218edcce5fc2971f0752e/comments","author":{"login":"arunlakshman","id":2631737,"node_id":"MDQ6VXNlcjI2MzE3Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/2631737?v=4","gravatar_id":"","url":"https://api.github.com/users/arunlakshman","html_url":"https://github.com/arunlakshman","followers_url":"https://api.github.com/users/arunlakshman/followers","following_url":"https://api.github.com/users/arunlakshman/following{/other_user}","gists_url":"https://api.github.com/users/arunlakshman/gists{/gist_id}","starred_url":"https://api.github.com/users/arunlakshman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunlakshman/subscriptions","organizations_url":"https://api.github.com/users/arunlakshman/orgs","repos_url":"https://api.github.com/users/arunlakshman/repos","events_url":"https://api.github.com/users/arunlakshman/events{/privacy}","received_events_url":"https://api.github.com/users/arunlakshman/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"3bd411910b3651e5dcb9df44d1f77cd6f6cd0ca6","url":"https://api.github.com/repos/apache/bookkeeper/commits/3bd411910b3651e5dcb9df44d1f77cd6f6cd0ca6","html_url":"https://github.com/apache/bookkeeper/commit/3bd411910b3651e5dcb9df44d1f77cd6f6cd0ca6"}]},{"sha":"3bd411910b3651e5dcb9df44d1f77cd6f6cd0ca6","node_id":"MDY6Q29tbWl0MTU3NTk1NjozYmQ0MTE5MTBiMzY1MWU1ZGNiOWRmNDRkMWY3N2NkNmY2Y2QwY2E2","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-05-08T09:21:41Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-08T09:21:41Z"},"message":"BP14 - forceLedger bookie side implementation\n\nThis is the bookie side implementation of the force() API as defined in BP-14, without the wire protocol handler.\nWe will introduce a new RPC which allows the client to ensure that all data sent for a  given ledger is persisted durably to the bookie, this is useful for DEFERRED_SYNC writers. In this case we are simulating a regular sync'd write to the journal choosen for the ledger.\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\nAuthor: eolivelli <eolivelli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>, JV Jujjuri <vjujjuri@salesforce.com>\n\nThis closes #1375 from eolivelli/bp14-simple-forceledger","tree":{"sha":"546606a9ad1fb7bcfebcc449ccfa80fc6a764532","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/546606a9ad1fb7bcfebcc449ccfa80fc6a764532"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/3bd411910b3651e5dcb9df44d1f77cd6f6cd0ca6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/3bd411910b3651e5dcb9df44d1f77cd6f6cd0ca6","html_url":"https://github.com/apache/bookkeeper/commit/3bd411910b3651e5dcb9df44d1f77cd6f6cd0ca6","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/3bd411910b3651e5dcb9df44d1f77cd6f6cd0ca6/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"8e7583b4c691dc44bb9057a2fe472a44184346a5","url":"https://api.github.com/repos/apache/bookkeeper/commits/8e7583b4c691dc44bb9057a2fe472a44184346a5","html_url":"https://github.com/apache/bookkeeper/commit/8e7583b4c691dc44bb9057a2fe472a44184346a5"}]},{"sha":"8e7583b4c691dc44bb9057a2fe472a44184346a5","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4ZTc1ODNiNGM2OTFkYzQ0YmI5MDU3YTJmZTQ3MmE0NDE4NDM0NmE1","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-07T08:50:29Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-07T08:50:29Z"},"message":"[TABLE SERVICE] a zk based storage container controller\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nThe original storage container \"controller\" was written in helix. The helix controller's placement is kind of not assuming any properties of shared storage. however the table service is leverage bookkeeper's as its segment/log store. the table service is built in a more `stateless` way, where a storage container can be moved between servers in a much lightweight way.\n\nAlso helix codebase is a bit large, if we eventually going to eliminate zookeeper, the cost of switching it off helix will be much expensive. so this PR is introducing a simple zk based controller for assigning storage containers to servers.\n\n*Solution*\n\nIn this zk base solution, it is comprised of 3 parts: server registration, cluster & storage controller, storage container manager.\n\n**registration**\n\nthis solution leverages existing registration client/manager interfaces. so each storage server registers itself under `/stream/servers/available`.\n\n**cluster & storage controller**\n\nA storage server is elected as a the leader, which runs a ClusterController. The cluster controller reads cluster metadata from zookeeper (the cluster metadata includes like how many containers available in the cluster), and use a storage controller to compute an assignment plan as the ideal state for container assignment mapping, and then update the assignment mapping to zookeeper under `/stream/assignment`.\n\n**storage container manager**\n\nEach storage server runs a storage container manager, which watches the assignment plan in zookeeper. The cluster controller updates the assignment plan. Once it receives watches/updates from the assignment plan that computed by cluster controller, the storage container manager will align itself to the ideal assignment map by starting/stopping storage containers.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1392 from sijie/table_service_manager","tree":{"sha":"2745829fedc824afd4e19959ff902087fe8fa9aa","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2745829fedc824afd4e19959ff902087fe8fa9aa"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/8e7583b4c691dc44bb9057a2fe472a44184346a5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/8e7583b4c691dc44bb9057a2fe472a44184346a5","html_url":"https://github.com/apache/bookkeeper/commit/8e7583b4c691dc44bb9057a2fe472a44184346a5","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/8e7583b4c691dc44bb9057a2fe472a44184346a5/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"0ccde17214168ec1f87741d1053ef66ce2344fff","url":"https://api.github.com/repos/apache/bookkeeper/commits/0ccde17214168ec1f87741d1053ef66ce2344fff","html_url":"https://github.com/apache/bookkeeper/commit/0ccde17214168ec1f87741d1053ef66ce2344fff"}]},{"sha":"0ccde17214168ec1f87741d1053ef66ce2344fff","node_id":"MDY6Q29tbWl0MTU3NTk1NjowY2NkZTE3MjE0MTY4ZWMxZjg3NzQxZDEwNTNlZjY2Y2UyMzQ0ZmZm","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-05-07T08:46:30Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-07T08:46:30Z"},"message":"Enable Prometheus stats provider to use custom http container\n\nThis change enable Prometheus stats provider to:\n- use an user supplied registry\n- do not start internal Jetty server\n\nThe context is to run the Bookie inside a process together with a servlet container (like Apache Tomcat) and use the existing web endpoint instead of opening another http (plain) port\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1394 from eolivelli/prom-use-servlet","tree":{"sha":"1c4e2e523c26a442f359fe2f93b87cf0817f9a19","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/1c4e2e523c26a442f359fe2f93b87cf0817f9a19"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/0ccde17214168ec1f87741d1053ef66ce2344fff","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/0ccde17214168ec1f87741d1053ef66ce2344fff","html_url":"https://github.com/apache/bookkeeper/commit/0ccde17214168ec1f87741d1053ef66ce2344fff","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/0ccde17214168ec1f87741d1053ef66ce2344fff/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"e77a80a74454f25ff315450bc50cf392ed3bc94f","url":"https://api.github.com/repos/apache/bookkeeper/commits/e77a80a74454f25ff315450bc50cf392ed3bc94f","html_url":"https://github.com/apache/bookkeeper/commit/e77a80a74454f25ff315450bc50cf392ed3bc94f"}]},{"sha":"e77a80a74454f25ff315450bc50cf392ed3bc94f","node_id":"MDY6Q29tbWl0MTU3NTk1NjplNzdhODBhNzQ0NTRmMjVmZjMxNTQ1MGJjNTBjZjM5MmVkM2JjOTRm","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-06T12:06:24Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-06T12:06:24Z"},"message":"Add smoke tests for LedgerHandleAdv and TailingReads\n\nDescriptions of the changes in this PR:\n\nAdd two tests:\n\n- basic writes/reads with LedgerHandleAdv\n- tailing reads with LedgerHandle\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1389 from sijie/more_integration_tests","tree":{"sha":"c91e3c1b528f0cc63e9086d8ca520291c73796db","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c91e3c1b528f0cc63e9086d8ca520291c73796db"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/e77a80a74454f25ff315450bc50cf392ed3bc94f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/e77a80a74454f25ff315450bc50cf392ed3bc94f","html_url":"https://github.com/apache/bookkeeper/commit/e77a80a74454f25ff315450bc50cf392ed3bc94f","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/e77a80a74454f25ff315450bc50cf392ed3bc94f/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"acb4e653428f38337af94bcb829956b44e39312d","url":"https://api.github.com/repos/apache/bookkeeper/commits/acb4e653428f38337af94bcb829956b44e39312d","html_url":"https://github.com/apache/bookkeeper/commit/acb4e653428f38337af94bcb829956b44e39312d"}]},{"sha":"acb4e653428f38337af94bcb829956b44e39312d","node_id":"MDY6Q29tbWl0MTU3NTk1NjphY2I0ZTY1MzQyOGYzODMzN2FmOTRiY2I4Mjk5NTZiNDRlMzkzMTJk","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-04T02:09:15Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-04T02:09:15Z"},"message":"Make bookie state manager & registration manager reusable outside of bookie\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nSince 4.6.0, we have already abstracted a pretty good interfaces around registration service and state management. Most of the classes can actually be reused for use cases that have similar service discovery and writable/readonly state transition management.\n\n*Solution*\n\nThe change is try to cleanup `BookieStateManager` and `ZKRegistrationManager` to make them more generic and can be reused for other usage.\n\n*Result*\n\nRegistration Interfaces and StateManager can be used outside of bookie.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1373 from sijie/refactor_bookie_state_manager","tree":{"sha":"fe31d140c16317d66daae1e73c15d58ec5a652cd","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/fe31d140c16317d66daae1e73c15d58ec5a652cd"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/acb4e653428f38337af94bcb829956b44e39312d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/acb4e653428f38337af94bcb829956b44e39312d","html_url":"https://github.com/apache/bookkeeper/commit/acb4e653428f38337af94bcb829956b44e39312d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/acb4e653428f38337af94bcb829956b44e39312d/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"9134401954e860021a1a7314c55861eca0481ae6","url":"https://api.github.com/repos/apache/bookkeeper/commits/9134401954e860021a1a7314c55861eca0481ae6","html_url":"https://github.com/apache/bookkeeper/commit/9134401954e860021a1a7314c55861eca0481ae6"}]},{"sha":"9134401954e860021a1a7314c55861eca0481ae6","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5MTM0NDAxOTU0ZTg2MDAyMWExYTczMTRjNTU4NjFlY2EwNDgxYWU2","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-04T02:08:35Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-04T02:08:35Z"},"message":"[TABLE SERVICE] [DLOG] Fix `ConcurrentModificationException` on accessing component configuration\n\nDescriptions of the changes in this PR:\n\n*Motiviation*\n\nCurrently when running table service in standalone mode, it occasionally throws `ConcurrentModificationException`. Because\nmultiple components are sharing same underlying composite configuration. It causes the contention between copying keys and retrieving keys.\n\n*Solution*\n\nChange the component configuration to use a concurrent hashmap based configuration. Also changed the `loadConf` behavior to copy the keys / sub-keys\ninto the component configuration. This prevents components sharing same underlying composite configuration.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1378 from sijie/fix_conf","tree":{"sha":"9bb11e084eab7d33d4095a39c984e5b6c7ffdb03","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/9bb11e084eab7d33d4095a39c984e5b6c7ffdb03"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9134401954e860021a1a7314c55861eca0481ae6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9134401954e860021a1a7314c55861eca0481ae6","html_url":"https://github.com/apache/bookkeeper/commit/9134401954e860021a1a7314c55861eca0481ae6","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9134401954e860021a1a7314c55861eca0481ae6/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"20e3f6c3e16e409b03d3d0fefad699c856ca3b49","url":"https://api.github.com/repos/apache/bookkeeper/commits/20e3f6c3e16e409b03d3d0fefad699c856ca3b49","html_url":"https://github.com/apache/bookkeeper/commit/20e3f6c3e16e409b03d3d0fefad699c856ca3b49"}]},{"sha":"20e3f6c3e16e409b03d3d0fefad699c856ca3b49","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyMGUzZjZjM2UxNmU0MDliMDNkM2QwZmVmYWQ2OTljODU2Y2EzYjQ5","commit":{"author":{"name":"Andrey Yegorov","email":"ayegorov@salesforce.com","date":"2018-05-04T02:07:27Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-04T02:07:27Z"},"message":"ISSUE #1387: added unit test for LedgerHandleAdv handling of attempts to use LedgerHandle's specific API calls (add without specifying entry id)\n\nDescriptions of the changes in this PR:\n\n- added unit test.\n\nMaster Issue: #1387\n\nAuthor: Andrey Yegorov <ayegorov@salesforce.com>\n\nReviewers: Sijie Guo <sijie@apache.org>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #1388 from dlg99/fix/ISSUE-1387_LedgerHandleAdv_with_nonAdv_usage, closes #1387","tree":{"sha":"8bb8c8a5e190956b33ec01eec0704a004522bbac","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/8bb8c8a5e190956b33ec01eec0704a004522bbac"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/20e3f6c3e16e409b03d3d0fefad699c856ca3b49","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/20e3f6c3e16e409b03d3d0fefad699c856ca3b49","html_url":"https://github.com/apache/bookkeeper/commit/20e3f6c3e16e409b03d3d0fefad699c856ca3b49","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/20e3f6c3e16e409b03d3d0fefad699c856ca3b49/comments","author":null,"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"cf7a72b011378ac5be8e04edd35dfb97e00cedab","url":"https://api.github.com/repos/apache/bookkeeper/commits/cf7a72b011378ac5be8e04edd35dfb97e00cedab","html_url":"https://github.com/apache/bookkeeper/commit/cf7a72b011378ac5be8e04edd35dfb97e00cedab"}]},{"sha":"cf7a72b011378ac5be8e04edd35dfb97e00cedab","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjZjdhNzJiMDExMzc4YWM1YmU4ZTA0ZWRkMzVkZmI5N2UwMGNlZGFi","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-05-03T22:49:30Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T22:49:30Z"},"message":"Refactor EntryLogger class\n\nDescriptions of the changes in this PR:\n\n- Split EntryLogger class into multiple classes.\n- create separate classes for EntryLogManager, EntryLoggerAllocator and EntryLogManagerForSingleEntryLog.\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1365 from reddycharan/refactorentrylogger","tree":{"sha":"c08379ab29ba153ebef4eac96c829cbd921956f6","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c08379ab29ba153ebef4eac96c829cbd921956f6"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/cf7a72b011378ac5be8e04edd35dfb97e00cedab","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/cf7a72b011378ac5be8e04edd35dfb97e00cedab","html_url":"https://github.com/apache/bookkeeper/commit/cf7a72b011378ac5be8e04edd35dfb97e00cedab","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/cf7a72b011378ac5be8e04edd35dfb97e00cedab/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"92525c2ae30f41badb3986e3bc69de3aceb67e2d","url":"https://api.github.com/repos/apache/bookkeeper/commits/92525c2ae30f41badb3986e3bc69de3aceb67e2d","html_url":"https://github.com/apache/bookkeeper/commit/92525c2ae30f41badb3986e3bc69de3aceb67e2d"}]},{"sha":"92525c2ae30f41badb3986e3bc69de3aceb67e2d","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5MjUyNWMyYWUzMGY0MWJhZGIzOTg2ZTNiYzY5ZGUzYWNlYjY3ZTJk","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T22:47:46Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T22:47:46Z"},"message":"Fix TestCompatUpgrade\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\n #1352 update the BC tests to include newer versions, however it removes the flags that used for 4.6.0 to handle badly shutdown.\n This change makes the BC tests become very flaky.\n\n*Solution*\n\n- apply `badlyshutdown` flag to both from 4.6.0 to 4.6.1 and from 4.6.1 to 4.6.2 upgrade\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Matteo Merli <mmerli@apache.org>\n\nThis closes #1386 from sijie/vagrant_files","tree":{"sha":"9e3ed67ea7c923a5b66d82de7306e01eae3bf644","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/9e3ed67ea7c923a5b66d82de7306e01eae3bf644"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/92525c2ae30f41badb3986e3bc69de3aceb67e2d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/92525c2ae30f41badb3986e3bc69de3aceb67e2d","html_url":"https://github.com/apache/bookkeeper/commit/92525c2ae30f41badb3986e3bc69de3aceb67e2d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/92525c2ae30f41badb3986e3bc69de3aceb67e2d/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"0b01c125df58dc85d5f965ce151a278d37ec6d3c","url":"https://api.github.com/repos/apache/bookkeeper/commits/0b01c125df58dc85d5f965ce151a278d37ec6d3c","html_url":"https://github.com/apache/bookkeeper/commit/0b01c125df58dc85d5f965ce151a278d37ec6d3c"}]},{"sha":"0b01c125df58dc85d5f965ce151a278d37ec6d3c","node_id":"MDY6Q29tbWl0MTU3NTk1NjowYjAxYzEyNWRmNThkYzg1ZDVmOTY1Y2UxNTFhMjc4ZDM3ZWM2ZDNj","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T19:31:34Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T19:31:34Z"},"message":"Fix format problem of BP-32\n\nAlso mark BP-32 as accepted.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Charan Reddy Guttapalem <reddycharan18@gmail.com>, Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1383 from sijie/fix_typos","tree":{"sha":"14641ce9a15773b7455b24e9745e2e527d7971d8","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/14641ce9a15773b7455b24e9745e2e527d7971d8"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/0b01c125df58dc85d5f965ce151a278d37ec6d3c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/0b01c125df58dc85d5f965ce151a278d37ec6d3c","html_url":"https://github.com/apache/bookkeeper/commit/0b01c125df58dc85d5f965ce151a278d37ec6d3c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/0b01c125df58dc85d5f965ce151a278d37ec6d3c/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"d47efa9fcc4601228d14219275b8d450256ccca8","url":"https://api.github.com/repos/apache/bookkeeper/commits/d47efa9fcc4601228d14219275b8d450256ccca8","html_url":"https://github.com/apache/bookkeeper/commit/d47efa9fcc4601228d14219275b8d450256ccca8"}]},{"sha":"d47efa9fcc4601228d14219275b8d450256ccca8","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkNDdlZmE5ZmNjNDYwMTIyOGQxNDIxOTI3NWI4ZDQ1MDI1NmNjY2E4","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T19:30:54Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T19:30:54Z"},"message":"ISSUE #1384: Bump checkstyle version\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nmvn build fails on a centos/7 box. Exceptions are thrown as below:\n\n```\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check (checkstyle) on project circe-checksum: Execution checkstyle of goal org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check failed: An API incompatibility was encountered while executing org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check: java.lang.NoSuchMethodError: org.slf4j.spi.LocationAwareLogger.log(Lorg/slf4j/Marker;Ljava/lang/String;ILjava/lang/String;Ljava/lang/Throwable;)V\n```\n\n*Solution*\n\nThe problem was addressed in https://issues.apache.org/jira/browse/MCHECKSTYLE-335. We need to bump the checkstyle plugin version to `3.0.0`\n\nMaster Issue: #1384\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1385 from sijie/vagrant_files, closes #1384","tree":{"sha":"9966dc1388b8d42417908757d30b8bddaae741e4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/9966dc1388b8d42417908757d30b8bddaae741e4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/d47efa9fcc4601228d14219275b8d450256ccca8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/d47efa9fcc4601228d14219275b8d450256ccca8","html_url":"https://github.com/apache/bookkeeper/commit/d47efa9fcc4601228d14219275b8d450256ccca8","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/d47efa9fcc4601228d14219275b8d450256ccca8/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7580ce9dd8449f777e35b580bb6786f12d7703bc","url":"https://api.github.com/repos/apache/bookkeeper/commits/7580ce9dd8449f777e35b580bb6786f12d7703bc","html_url":"https://github.com/apache/bookkeeper/commit/7580ce9dd8449f777e35b580bb6786f12d7703bc"}]},{"sha":"7580ce9dd8449f777e35b580bb6786f12d7703bc","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3NTgwY2U5ZGQ4NDQ5Zjc3N2UzNWI1ODBiYjY3ODZmMTJkNzcwM2Jj","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-05-03T06:38:10Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T06:38:10Z"},"message":"ZKLedgerManager.writeLedgerMetadata should return appropriate error.\n\nDescriptions of the changes in this PR:\n\nZKLedgerManager.writeLedgerMetadata should return\nNoSuchLedgerExistsException error in the case it\ngets KeeperException.Code.NONODE rc value from ZK.\nZKLedgerManager.removeLedgerMetadata does that as well.\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1382 from reddycharan/abstractzkledgermanagerissue","tree":{"sha":"b6a52cbeda9ddaa2f2eae852d0e83a8415d52e05","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b6a52cbeda9ddaa2f2eae852d0e83a8415d52e05"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7580ce9dd8449f777e35b580bb6786f12d7703bc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7580ce9dd8449f777e35b580bb6786f12d7703bc","html_url":"https://github.com/apache/bookkeeper/commit/7580ce9dd8449f777e35b580bb6786f12d7703bc","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7580ce9dd8449f777e35b580bb6786f12d7703bc/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"843dd035b3ed8ff890bad176021319abf4871220","url":"https://api.github.com/repos/apache/bookkeeper/commits/843dd035b3ed8ff890bad176021319abf4871220","html_url":"https://github.com/apache/bookkeeper/commit/843dd035b3ed8ff890bad176021319abf4871220"}]},{"sha":"843dd035b3ed8ff890bad176021319abf4871220","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4NDNkZDAzNWIzZWQ4ZmY4OTBiYWQxNzYwMjEzMTlhYmY0ODcxMjIw","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T04:19:42Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T04:19:42Z"},"message":"[TABLE SERVICE] apply backoff policy to rpc requests if storage container is not found\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nA storage container can move between servers due to failures, or it can take time to start on a server. During that short period of time, it is \"unavailable\" and clients will receive `Status.NOT_FOUND` from grpc channels. The client should retry on this error and attempt to re-locate the storage container again.\n\n*Modification*\n\n- add backoff policy in client settings\n- apply the backoff policy at storage container channel. if it receives `NOT_FOUND` grpc exception, it will reset the server channel, so subsequent requests will re-attempt to relocate the storage container.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>\n\nThis closes #1379 from sijie/rpc_backoffs","tree":{"sha":"933d44a1d040fdaa49bfbd3cc1ffd95195e91813","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/933d44a1d040fdaa49bfbd3cc1ffd95195e91813"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/843dd035b3ed8ff890bad176021319abf4871220","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/843dd035b3ed8ff890bad176021319abf4871220","html_url":"https://github.com/apache/bookkeeper/commit/843dd035b3ed8ff890bad176021319abf4871220","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/843dd035b3ed8ff890bad176021319abf4871220/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"c4af73427378312d9e7d50cc06a9523a78ecaf41","url":"https://api.github.com/repos/apache/bookkeeper/commits/c4af73427378312d9e7d50cc06a9523a78ecaf41","html_url":"https://github.com/apache/bookkeeper/commit/c4af73427378312d9e7d50cc06a9523a78ecaf41"}]},{"sha":"c4af73427378312d9e7d50cc06a9523a78ecaf41","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjNGFmNzM0MjczNzgzMTJkOWU3ZDUwY2MwNmE5NTIzYTc4ZWNhZjQx","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-05-03T03:59:04Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-05-03T03:59:04Z"},"message":"BP-32: Advisory (optimistic) write close\n\nDescriptions of the changes in this PR:\n\ninitial proposal for Advisory (optimisitic) write close\n\nMaster Issue: #1343\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1374 from reddycharan/advwriteclosebp","tree":{"sha":"03b078f34ba157eafb3511434bbb6f96ba7354e2","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/03b078f34ba157eafb3511434bbb6f96ba7354e2"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c4af73427378312d9e7d50cc06a9523a78ecaf41","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c4af73427378312d9e7d50cc06a9523a78ecaf41","html_url":"https://github.com/apache/bookkeeper/commit/c4af73427378312d9e7d50cc06a9523a78ecaf41","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c4af73427378312d9e7d50cc06a9523a78ecaf41/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1f0f92c0c0cfc0cafe0cab976d8c5fbdf34c10d3","url":"https://api.github.com/repos/apache/bookkeeper/commits/1f0f92c0c0cfc0cafe0cab976d8c5fbdf34c10d3","html_url":"https://github.com/apache/bookkeeper/commit/1f0f92c0c0cfc0cafe0cab976d8c5fbdf34c10d3"}]},{"sha":"1f0f92c0c0cfc0cafe0cab976d8c5fbdf34c10d3","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxZjBmOTJjMGMwY2ZjMGNhZmUwY2FiOTc2ZDhjNWZiZGYzNGMxMGQz","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-30T23:29:08Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-30T23:29:08Z"},"message":"OrderedScheduler#chooseThread(key) handle null key\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nIt is more convenient if OrderedScheduler#chooseThread(key) can handle null key. so the applications who is using #chooseThread don't need to worry which method to choose - `chooseThread()` vs `chooseThread(key)`.\n\n*Solution*\n\nin `chooseThread(key)`, fallback to randomly pickup a thread if key is null.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1372 from sijie/order_scheduler_null_key","tree":{"sha":"0d5777f165ffdd9f7009393957ee3984b7dbcc05","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/0d5777f165ffdd9f7009393957ee3984b7dbcc05"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1f0f92c0c0cfc0cafe0cab976d8c5fbdf34c10d3","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1f0f92c0c0cfc0cafe0cab976d8c5fbdf34c10d3","html_url":"https://github.com/apache/bookkeeper/commit/1f0f92c0c0cfc0cafe0cab976d8c5fbdf34c10d3","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1f0f92c0c0cfc0cafe0cab976d8c5fbdf34c10d3/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"a3c141eee827c583828251756d4e52a70398b7af","url":"https://api.github.com/repos/apache/bookkeeper/commits/a3c141eee827c583828251756d4e52a70398b7af","html_url":"https://github.com/apache/bookkeeper/commit/a3c141eee827c583828251756d4e52a70398b7af"}]},{"sha":"a3c141eee827c583828251756d4e52a70398b7af","node_id":"MDY6Q29tbWl0MTU3NTk1NjphM2MxNDFlZWU4MjdjNTgzODI4MjUxNzU2ZDRlNTJhNzAzOThiN2Fm","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-04-27T23:33:49Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-27T23:33:49Z"},"message":"Issue #570: Introduce EntryMemTableWithParallelFlusher\n\nDescriptions of the changes in this PR:\n\nThis is < sub-task4  > of Issue #570\n\nWhen there is going to be entrylog per ledger, then for\nbetter utilizing the availability of multiple entrylogs,\nparallel flush of entrymemtable can be done. In this\nsub-task EntryMemTableWithParallelFlusher is introduced,\nwhich uses OrderedExecutor with \"numOfMemtableFlushThreads\"\nnumber of threads.\n\nMaster Issue: #570\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1358 from reddycharan/memtableparallel, closes #570","tree":{"sha":"d62286dc203f9b8f09b3245276ed3c82f3e1b16c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d62286dc203f9b8f09b3245276ed3c82f3e1b16c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/a3c141eee827c583828251756d4e52a70398b7af","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/a3c141eee827c583828251756d4e52a70398b7af","html_url":"https://github.com/apache/bookkeeper/commit/a3c141eee827c583828251756d4e52a70398b7af","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/a3c141eee827c583828251756d4e52a70398b7af/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"9c3e8c9f835781507ac833473abc39e821bdbf36","url":"https://api.github.com/repos/apache/bookkeeper/commits/9c3e8c9f835781507ac833473abc39e821bdbf36","html_url":"https://github.com/apache/bookkeeper/commit/9c3e8c9f835781507ac833473abc39e821bdbf36"}]},{"sha":"9c3e8c9f835781507ac833473abc39e821bdbf36","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5YzNlOGM5ZjgzNTc4MTUwN2FjODMzNDczYWJjMzllODIxYmRiZjM2","commit":{"author":{"name":"Andrey Yegorov","email":"dlg99@users.noreply.github.com","date":"2018-04-27T03:12:47Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2018-04-27T03:12:47Z"},"message":"ISSUE #1086 (@bug W-4146427@) Client-side backpressure in netty (Fixes: io.netty.util.internal.OutOfDirectMemoryError under continuous heavy load) (#1088)\n\n* ISSUE #1086 (@bug W-4146427@) Client-side backpressure in netty (Fixes: io.netty.util.internal.OutOfDirectMemoryError under continuous heavy load)","tree":{"sha":"bca5c549815cfb8da16092cec30d1c59cd009e45","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/bca5c549815cfb8da16092cec30d1c59cd009e45"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9c3e8c9f835781507ac833473abc39e821bdbf36","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJa4pUvCRBK7hj4Ov3rIwAAdHIIAEnpKEj6B74xCA3TUhJwAPlR\nULuy/65TZV40ctuC1AaNTDy1fRfMEEs0+J1xtk37H1P6lTdYGt+da8hX2cSLo2ZH\nAN26U96e9Z7914ftYy92Qu+xCGTsZfduOlBBbvvAWlvg8z7WyzoB7AQWr5KqFDBB\nDZJMGRnBlr+47lgDrIeb4mRtCPyMDhzcAc1r4vdP58s1avI55dKEobQaUqA4XoFM\nj/8fC9DdOL8MKwLrlXIca3nuN/Yntm0GgzluoPntb0xsxheNkfFuBNBHe3Yq+ag0\nC4Q8r4R3RwnDk066BG2SWyQE9Rlj6Hg1hj/NCyUl4eObdjuyPn1m1ek3NaRC4qs=\n=aJiw\n-----END PGP SIGNATURE-----\n","payload":"tree bca5c549815cfb8da16092cec30d1c59cd009e45\nparent 2edcaa60303270152991307260846c201c57d9b5\nauthor Andrey Yegorov <dlg99@users.noreply.github.com> 1524798767 -0700\ncommitter GitHub <noreply@github.com> 1524798767 -0700\n\nISSUE #1086 (@bug W-4146427@) Client-side backpressure in netty (Fixes: io.netty.util.internal.OutOfDirectMemoryError under continuous heavy load) (#1088)\n\n* ISSUE #1086 (@bug W-4146427@) Client-side backpressure in netty (Fixes: io.netty.util.internal.OutOfDirectMemoryError under continuous heavy load)"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9c3e8c9f835781507ac833473abc39e821bdbf36","html_url":"https://github.com/apache/bookkeeper/commit/9c3e8c9f835781507ac833473abc39e821bdbf36","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9c3e8c9f835781507ac833473abc39e821bdbf36/comments","author":{"login":"dlg99","id":8622884,"node_id":"MDQ6VXNlcjg2MjI4ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/8622884?v=4","gravatar_id":"","url":"https://api.github.com/users/dlg99","html_url":"https://github.com/dlg99","followers_url":"https://api.github.com/users/dlg99/followers","following_url":"https://api.github.com/users/dlg99/following{/other_user}","gists_url":"https://api.github.com/users/dlg99/gists{/gist_id}","starred_url":"https://api.github.com/users/dlg99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlg99/subscriptions","organizations_url":"https://api.github.com/users/dlg99/orgs","repos_url":"https://api.github.com/users/dlg99/repos","events_url":"https://api.github.com/users/dlg99/events{/privacy}","received_events_url":"https://api.github.com/users/dlg99/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"2edcaa60303270152991307260846c201c57d9b5","url":"https://api.github.com/repos/apache/bookkeeper/commits/2edcaa60303270152991307260846c201c57d9b5","html_url":"https://github.com/apache/bookkeeper/commit/2edcaa60303270152991307260846c201c57d9b5"}]},{"sha":"2edcaa60303270152991307260846c201c57d9b5","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyZWRjYWE2MDMwMzI3MDE1Mjk5MTMwNzI2MDg0NmMyMDFjNTdkOWI1","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-25T09:13:28Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-25T09:13:28Z"},"message":"[TABLE SERVICE] Dlog based checkpoint store\n\n*Motivation*\n\nCurrently the table range stores are using local filesystem as a checkpoint store. It is okay for running as standalone mode.\nBut it doesn't work to run in a distributed mode. This change is introducing a dlog based checkpoint store to make sure all\nthe sst files of table ranges are durably checkpointed into bookkeeper itself.\n\n*Solution*\n\nIntroduced a dlog based checkpoint store.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>\n\nThis closes #1366 from sijie/dlog_checkpoint_manager","tree":{"sha":"e97c35b9294522e015a0f785f903eb0e03903742","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e97c35b9294522e015a0f785f903eb0e03903742"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2edcaa60303270152991307260846c201c57d9b5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2edcaa60303270152991307260846c201c57d9b5","html_url":"https://github.com/apache/bookkeeper/commit/2edcaa60303270152991307260846c201c57d9b5","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2edcaa60303270152991307260846c201c57d9b5/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"82ad464d3b40e0f69e55556ae15ad06f29ec5003","url":"https://api.github.com/repos/apache/bookkeeper/commits/82ad464d3b40e0f69e55556ae15ad06f29ec5003","html_url":"https://github.com/apache/bookkeeper/commit/82ad464d3b40e0f69e55556ae15ad06f29ec5003"}]},{"sha":"82ad464d3b40e0f69e55556ae15ad06f29ec5003","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4MmFkNDY0ZDNiNDBlMGY2OWU1NTU1NmFlMTVhZDA2ZjI5ZWM1MDAz","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-04-25T09:11:46Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-25T09:11:46Z"},"message":"IssueÂ #1345: entrylogger.flush should flush currentlog first.\n\nDescriptions of the changes in this PR:\n\nIt is incorrect to call flushrotatedlogs first and\nthen flushcurrentlogs in the EntryLogger\n(EntryLogManager) flush method. It should be other way around.\n\nMaster Issue: #1345\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1360 from reddycharan/elmflushorder, closes #1345","tree":{"sha":"451d08eedfd4da7770583b1995c425e85f10fffb","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/451d08eedfd4da7770583b1995c425e85f10fffb"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/82ad464d3b40e0f69e55556ae15ad06f29ec5003","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/82ad464d3b40e0f69e55556ae15ad06f29ec5003","html_url":"https://github.com/apache/bookkeeper/commit/82ad464d3b40e0f69e55556ae15ad06f29ec5003","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/82ad464d3b40e0f69e55556ae15ad06f29ec5003/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"ed3b0105d0e1adbb118641cc39f886659d140361","url":"https://api.github.com/repos/apache/bookkeeper/commits/ed3b0105d0e1adbb118641cc39f886659d140361","html_url":"https://github.com/apache/bookkeeper/commit/ed3b0105d0e1adbb118641cc39f886659d140361"}]},{"sha":"ed3b0105d0e1adbb118641cc39f886659d140361","node_id":"MDY6Q29tbWl0MTU3NTk1NjplZDNiMDEwNWQwZTFhZGJiMTE4NjQxY2MzOWY4ODY2NTlkMTQwMzYx","commit":{"author":{"name":"Nicolas Michael","email":"nmichael@salesforce.com","date":"2018-04-25T09:09:36Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-25T09:09:36Z"},"message":"Issue #1363: Fast and Garbage-Free Codahale Statistics Timers\n\nThis change introduces a new Codahale-based metrics provider \"FastCodahaleMetricsProvider\" in the codahale-metrics-provider artifact, which can be activated through the \"statsProviderClass\" config parameter (no changes made to the existing \"CodahaleMetricsProvider\"). This new \"FastCodahaleMetricsProvider\" brings a new timer implementation \"FastTimer\", which extends Codahale's Timer class, provides an identical API, is registered in Codahale's timer registry, and can be queried through the existing JettyServices implementation. FastTimer provides similar functionality as Codahale's default timer, but is significantly faster and (nearly) garbage free.\n\nThe improvements of FastTimer over Codahale default Timer with ExponentiallyDecayingReservoirs are:\n* entirely garbage-free Timer updates (only snapshot creations when querying a timer allocate a small number of Java objects)\n* 3x faster Timer updates (i.e. 3x shorter code-path to update a timer)\n* half the memory footprint (in default configuration)\n\nFastTimer reduces GC pause times in our experiments as described in Issue 1363 by half (same as entirely deactivating all timers).\n\nThe primary functional differences between FastTimer and Codahale default Timer with ExponentiallyDecayingReservoirs are:\n* FastTimer keeps values for a fixed, configurable time period (default: 60 seconds) rather than exponentially decaying them\n* FastTimer bucketizes event times rather than storing discrete values. Percentile values depend on the bucket resolution.\n\nDesign Considerations\n---------------------\n\nThe design goals of this timer implementation are for it to be\n - fast (i.e. few instructions to update a timer)\n - scalable (i.e. little synchronization cost for concurrent timer updates)\n - garbage-free for timer updates (i.e. no object allocation for timer updates)\n - space-efficient (i.e. as little memory footprint as possible while achieving first three goals)\n - provide similar functionality as Codahale's default timers with ExponentiallyDecayingReservoirs\n\nThis implementation provides rate and response times over a configurable sliding time window. Data\nis stored in upfront allocated circular arrays, in which each array element holds data\nfor one second. Data is overwritten in a circular fashion without the allocation of new data\nstructures and is therefore garbage-free for all timer updates.\n\nThis implementation does not store individual response times, but instead allocates bucketized counters\nupfront, which are incremented for any event falling into a particular response time bucket. A\nfine-grained bucket definition (intended for capturing successsful events) and a coarse-grained\nbucket definition (intended to capture failure or timed-out events) are provided.\n\nTo improve scalability of concurrent timer updates, most data structures are replicated HASH_SIZE\ntimes, and calling threads updating a timer are hashed to individual instances. Performance tests\n(see below) have shown that this implementation is light-weight enough to achieve slightly better\nscalability than Codahale's default timers even without hashing, and can further improve scalability\nif hashing is used.\n\nTrading off performance and scalability vs. memory footprint, we need to be conservative in the hash\nsize we chose. Different flavors of this timer implementation have been evaluated using JMH\nmicro-benchmarks (see microbenchmarks/src/main/java/org/apache/bookkeeper/stats/TimerBenchmark.java),\ncomparing implementations of FastTimer with a time window of 60 seconds and\n- (DEV1)   a HASH_SIZE of 3 for all data structures (meters, counters, min/max, and response time buckets)\n- (DEV2)   a HASH_SIZE of 1 for all data structures (meters, counters, min/max, and response time buckets)\n- (FINAL)  a HASH_SIZE of 3 for meters, counters, min/max, and no hashing for response time buckets\nto the default timer implementation\n- (BASE-E) Codahale Timer with ExponentiallyDecayingReservoir (default as used by bookkeeper code)\n- (BASE-T) Codahale Timer with SlidingTimeWindowReservoir configured to 60 seconds\n- (BASE-S) Codahale Timer with SlidingWindowReservoir configured to hold 100,000 events.\n\nBased on results below, implementation (FINAL) was chosen as the final FastTimer implementation, as it\nachieves nearly the same throughput as (DEV1) at nearly the same memory footprint as (DEV2), and\nultimately achieves roughly 3x higher throughput and scalability that Codahale's default implementation\nat around half the memory footprint.\n\nThe following results have been collected on an eight core x86 server running at 3.2 GHz (updated\ntimers are shared across 4 threads):\n\n```\nConfig   Timer Impl             Timers   Threads      ops/ms   Alloc B/op   Kb/TimerPair\n----------------------------------------------------------------------------------------\n DEV1    FastTimer (Hash 3)          1         4   11487.904        0                253\n DEV1    FastTimer (Hash 3)         10         4   22621.702        0                253\n DEV1    FastTimer (Hash 3)        100         4   21781.319        0                253\n DEV2    FastTimer (Hash 1)          1         4    5138.143        0                 88\n DEV2    FastTimer (Hash 1)         10         4   22902.195        0                 88\n DEV2    FastTimer (Hash 1)        100         4   19173.085        0                 88\n FINAL   FastTimer (Hash 3/1)        1         4    9291.002        0                 99\n FINAL   FastTimer (Hash 3/1)       10         4   16379.940        0                 99\n FINAL   FastTimer (Hash 3/1)      100         4   16751.020        0                 99\n BASE-E  CodahaleTimer               1         4    3845.187       82.609            189\n BASE-E  CodahaleTimer              10         4    7262.445       35.035            189\n BASE-E  CodahaleTimer             100         4    7051.77        32.843            189\n BASE-T  CodahaleTimer/TimeWindow    1         4     102.479       90.851            174\n BASE-T  CodahaleTimer/TimeWindow   10         4      68.852       84.812            174\n BASE-T  CodahaleTimer/TimeWindow  100         4     153.444      136.436            174\n BASE-S  CodahaleTimer/SlidingWdw    1         4    4670.543        0               2103\n BASE-S  CodahaleTimer/SlidingWdw   10         4   13696.168        0               2103\n BASE-S  CodahaleTimer/SlidingWdw  100         4   12541.936        0               2103\n```\n\n- ops/ms is the number of timer updates per millisecond.\n- Alloc B/op is the number of bytes allocated per timer update\n- Kb/TimerPair is the heap footprint per pair of timers (one with fine-grained, one with coarse-grained buckets)\n\nThe following test results include snapshot creation every 109 timer updates (typically, we would assume\nsnapshot creation to be much less frequent), and show that also with snapshots in the mix, FastTimer outperforms\nCodahale default Timers both with respect to throughput and scalability as well as object allocation:\n\n```\nConfig   Timer Impl             Timers   Threads      ops/ms   Alloc B/op\n-------------------------------------------------------------------------\n FINAL   FastTimer (Hash 3/1)        1         4    1569.953       23.707\n FINAL   FastTimer (Hash 3/1)       10         4    7316.794       24.073\n FINAL   FastTimer (Hash 3/1)      100         4    6498.215       24.073\n BASE-E  CodahaleTimer               1         4     246.953      481.771\n BASE-E  CodahaleTimer              10         4    1989.134      476.807\n BASE-E  CodahaleTimer             100         4    1514.729      468.624\n BASE-T  CodahaleTimer/TimeWindow    1         4       6.063    43795.810\n BASE-T  CodahaleTimer/TimeWindow   10         4      44.651    33916.315\n BASE-T  CodahaleTimer/TimeWindow  100         4     180.431    12330.939\n BASE-S  CodahaleTimer/SlidingWdw    1         4      17.439    14683.756\n BASE-S  CodahaleTimer/SlidingWdw   10         4     107.257    14683.745\n BASE-S  CodahaleTimer/SlidingWdw  100         4     236.538     9767.106\n```\n\nUnfortunately Codahale does not have a Timer interface we can implement, and some Codahale\nbase classes are assuming instances of Timer (for example, our JettyServices instantiate a\nCodahale MetricsServlet, which instantiates a Codahale MetricsModule, which only serializes\ntimers that are instances of Timer class into the json output stream). Unless we wanted to\nreimplement or override all these base classes, we can't just implement Codahale's Metered and Sampling\ninterfaces. Instead we have to extend its Timer class, even though we're not using any of its\ninherited functionality or data structures. The inherited (unused) member variables of Codahale Timer\nconsume slightly less than 512 byte per FastTimer (measured around 425 byte in Codahale 3.1).\nAbove memory footprint results include ~ 1 kb of inherited (unused) data structures, which comprise\naround 1% of FastTimer's overall memory footprint.\n\nIn terms of functionality, FastTimer provides the same functionality as Codahale's timers\n(in default configuration with ExponentiallyDecayingReservoirs), with the following exceptions:\n- Statistics are kept for a fixed amount of time (rather than exponentially decayed), by\n  default 60 seconds. As a consequence, getMeanRate(), getOneMinuteRate(),  getFiveMinuteRate()\n  and getFifteenMinuteRate() all return the same value if FastTimer is configured to use a\n  60 second time window.\n- FastTimer and FastSnapshot only record bucketized instead of discrete response times. As a\n  consequence, the accuracy of percentiles depends on bucket granularity. FastSnapshot also\n  can't return discrete values: getValues() returns an empty array, and size returns 0.\n\nAuthor: Nicolas Michael <nmichael@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1364 from nicmichael/FastTimer, closes #1363","tree":{"sha":"67fc8b3f65c5e3e954e781e35b977023b89c3aa8","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/67fc8b3f65c5e3e954e781e35b977023b89c3aa8"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/ed3b0105d0e1adbb118641cc39f886659d140361","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/ed3b0105d0e1adbb118641cc39f886659d140361","html_url":"https://github.com/apache/bookkeeper/commit/ed3b0105d0e1adbb118641cc39f886659d140361","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/ed3b0105d0e1adbb118641cc39f886659d140361/comments","author":{"login":"nicmichael","id":27270046,"node_id":"MDQ6VXNlcjI3MjcwMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/27270046?v=4","gravatar_id":"","url":"https://api.github.com/users/nicmichael","html_url":"https://github.com/nicmichael","followers_url":"https://api.github.com/users/nicmichael/followers","following_url":"https://api.github.com/users/nicmichael/following{/other_user}","gists_url":"https://api.github.com/users/nicmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/nicmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicmichael/subscriptions","organizations_url":"https://api.github.com/users/nicmichael/orgs","repos_url":"https://api.github.com/users/nicmichael/repos","events_url":"https://api.github.com/users/nicmichael/events{/privacy}","received_events_url":"https://api.github.com/users/nicmichael/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"e021ac31cb1acb8de6d4161a618e76127d04d1c8","url":"https://api.github.com/repos/apache/bookkeeper/commits/e021ac31cb1acb8de6d4161a618e76127d04d1c8","html_url":"https://github.com/apache/bookkeeper/commit/e021ac31cb1acb8de6d4161a618e76127d04d1c8"}]},{"sha":"e021ac31cb1acb8de6d4161a618e76127d04d1c8","node_id":"MDY6Q29tbWl0MTU3NTk1NjplMDIxYWMzMWNiMWFjYjhkZTZkNDE2MWE2MThlNzYxMjdkMDRkMWM4","commit":{"author":{"name":"Nicolas Michael","email":"nmichael@salesforce.com","date":"2018-04-24T10:17:32Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-04-24T10:17:32Z"},"message":"Issue #791: Eliminate byte[] copies in AddEntry code path\n\nThe AddEntry code path in Bookkeeper Client performs several copies of the send buffer before sending it out to bookies, which not only costs CPU cycles for array copying, but also drives up object allocation rate and thus increases young GC frequency.\n\nCurrently, the send buffer is prepared by DigestManager.computeDigestAndPackageForSending(), which wraps the netty ByteBuf containing the data together with a (direct) header buffer into a ByteBufList. So far, we haven't yet allocated or copied any new buffers. But in order to send the buffer to the bookies, PendingAddOp.safeRun() will invoke sendWriteRequest() for each bookie in the write set, which will eventually invoke PerChannelBookieClient.addEntry() for each bookie. In here, we are now allocating two new byte[] and copying the buffer twice per bookie for V3 protocol with protobuf:\n    byte[] toSendArray = toSend.toArray();      // 1st byte[] allocation and copy\n    .setBody(ByteString.copyFrom(toSendArray)); // 2nd byte[] allocation and copy\nIf for example we're using a write set size of 3, then we allocate 6 byte arrays and copy the same buffer 6 times.\n\nAll 6 copies can be eliminated if DigestManager.computeDigestAndPackageForSending() would return a ByteBuf (or ByteBufList) that is backed by an array, which we can access and use without further copying it. PerChannelBookieClient.addEntry() could then wrap this array into a protobuf ByteString without performing any additional copies.\n\nThis change eliminates all byte[] allocations and copies in PCBC by:\n1. allocating a new (pooled) array-backed heap ByteBuf for header, digest, and data in DigestManager.computeDigestAndPackageForSending()\n2. copying the data payload into this newly allocated ByteBuf and returning it wrapped into a ByteBufList of size 1 (instead of header + body separately)\n3. enhancing ByteBufList to give access to the underlying array if it consists of only a single ByteBuf that's backed by an array\n4. extracting the underlying array in PerChannelBookieClient.addEntry() from ByteBufList and wrapping it into protobuf ByteString without copying it.\n\nWith this change, no more object allocations are required in this code path. DigestManager uses a pooled array (1). We're adding one arraycopy in (2) compared to the original code path, trading this against the allocations and copies we save later on.. Later steps, in particular step (4), is free of object allocation and array copies.\nAs a result, the object allocation rate in the AddEntry code path is reduced significantly. In case of a write set size of 3, it is reduced from 6 to 0. This translates into much less frequent young generation garbage collections (in my experiments with write-heavy workload by ~4x overall).\n\nAuthor: Nicolas Michael <nmichael@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1361 from nicmichael/AddEntryNoCopy, closes #791","tree":{"sha":"a3e09e9c0380eb07dfdfef855d02bbb976f8ad31","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/a3e09e9c0380eb07dfdfef855d02bbb976f8ad31"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/e021ac31cb1acb8de6d4161a618e76127d04d1c8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/e021ac31cb1acb8de6d4161a618e76127d04d1c8","html_url":"https://github.com/apache/bookkeeper/commit/e021ac31cb1acb8de6d4161a618e76127d04d1c8","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/e021ac31cb1acb8de6d4161a618e76127d04d1c8/comments","author":{"login":"nicmichael","id":27270046,"node_id":"MDQ6VXNlcjI3MjcwMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/27270046?v=4","gravatar_id":"","url":"https://api.github.com/users/nicmichael","html_url":"https://github.com/nicmichael","followers_url":"https://api.github.com/users/nicmichael/followers","following_url":"https://api.github.com/users/nicmichael/following{/other_user}","gists_url":"https://api.github.com/users/nicmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/nicmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicmichael/subscriptions","organizations_url":"https://api.github.com/users/nicmichael/orgs","repos_url":"https://api.github.com/users/nicmichael/repos","events_url":"https://api.github.com/users/nicmichael/events{/privacy}","received_events_url":"https://api.github.com/users/nicmichael/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"e9aeddd89623bf1cd0c9ecb8ef200c7a3dd47f95","url":"https://api.github.com/repos/apache/bookkeeper/commits/e9aeddd89623bf1cd0c9ecb8ef200c7a3dd47f95","html_url":"https://github.com/apache/bookkeeper/commit/e9aeddd89623bf1cd0c9ecb8ef200c7a3dd47f95"}]},{"sha":"e9aeddd89623bf1cd0c9ecb8ef200c7a3dd47f95","node_id":"MDY6Q29tbWl0MTU3NTk1NjplOWFlZGRkODk2MjNiZjFjZDBjOWVjYjhlZjIwMGM3YTNkZDQ3Zjk1","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-24T05:38:17Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-24T05:38:17Z"},"message":"[RELEASE-4.7.0] update BC tests\n\nDescriptions of the changes in this PR:\n\nadd 4.6.2 and 4.7.0 to BC tests list\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>\n\nThis closes #1352 from sijie/update_bc_tests","tree":{"sha":"4e3a2cb3045bb7d7e183e00d8496a6b5caa541f7","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/4e3a2cb3045bb7d7e183e00d8496a6b5caa541f7"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/e9aeddd89623bf1cd0c9ecb8ef200c7a3dd47f95","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/e9aeddd89623bf1cd0c9ecb8ef200c7a3dd47f95","html_url":"https://github.com/apache/bookkeeper/commit/e9aeddd89623bf1cd0c9ecb8ef200c7a3dd47f95","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/e9aeddd89623bf1cd0c9ecb8ef200c7a3dd47f95/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"f78ea8238b44c8ae52ea6cf9445228afdeffc7aa","url":"https://api.github.com/repos/apache/bookkeeper/commits/f78ea8238b44c8ae52ea6cf9445228afdeffc7aa","html_url":"https://github.com/apache/bookkeeper/commit/f78ea8238b44c8ae52ea6cf9445228afdeffc7aa"}]},{"sha":"f78ea8238b44c8ae52ea6cf9445228afdeffc7aa","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmNzhlYTgyMzhiNDRjOGFlNTJlYTZjZjk0NDUyMjhhZmRlZmZjN2Fh","commit":{"author":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2018-04-24T00:52:05Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-24T00:52:05Z"},"message":"Add config BK_metadataServiceUri for docker\n\nDescriptions of the changes in this PR:\n\nWhile trying docker in 4.7.0 release, found that the new config parameter `metadataServiceUri` was changing leaked, and docker could not run success.\nThis change add the config `BK_metadataServiceUri` for docker config, and make docker 4.7.0 runs success.\n\nAuthor: Jia Zhai <zhaijia@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1362 from jiazhai/docker_conf","tree":{"sha":"86fb442d2d8378fce90ccc79241356eeb33242bf","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/86fb442d2d8378fce90ccc79241356eeb33242bf"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f78ea8238b44c8ae52ea6cf9445228afdeffc7aa","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f78ea8238b44c8ae52ea6cf9445228afdeffc7aa","html_url":"https://github.com/apache/bookkeeper/commit/f78ea8238b44c8ae52ea6cf9445228afdeffc7aa","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f78ea8238b44c8ae52ea6cf9445228afdeffc7aa/comments","author":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"a02b3f494331e830f7b34c9d833069af4db8e81c","url":"https://api.github.com/repos/apache/bookkeeper/commits/a02b3f494331e830f7b34c9d833069af4db8e81c","html_url":"https://github.com/apache/bookkeeper/commit/a02b3f494331e830f7b34c9d833069af4db8e81c"}]},{"sha":"a02b3f494331e830f7b34c9d833069af4db8e81c","node_id":"MDY6Q29tbWl0MTU3NTk1NjphMDJiM2Y0OTQzMzFlODMwZjdiMzRjOWQ4MzMwNjlhZjRkYjhlODFj","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-04-20T08:17:11Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-20T08:17:11Z"},"message":"In EntryLogger.addEntry method, rollLog flag should not be ignored.\n\nIn EntryLogger.addEntry method, rollLog flag should not be ignored.\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1359 from reddycharan/fixrolllogcall","tree":{"sha":"2e7b47ad973d46081a9226cc8bd23b4342ee303b","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2e7b47ad973d46081a9226cc8bd23b4342ee303b"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/a02b3f494331e830f7b34c9d833069af4db8e81c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/a02b3f494331e830f7b34c9d833069af4db8e81c","html_url":"https://github.com/apache/bookkeeper/commit/a02b3f494331e830f7b34c9d833069af4db8e81c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/a02b3f494331e830f7b34c9d833069af4db8e81c/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7fe8427bbd00603ef07f6846f27a6cc4f2fa1376","url":"https://api.github.com/repos/apache/bookkeeper/commits/7fe8427bbd00603ef07f6846f27a6cc4f2fa1376","html_url":"https://github.com/apache/bookkeeper/commit/7fe8427bbd00603ef07f6846f27a6cc4f2fa1376"}]},{"sha":"7fe8427bbd00603ef07f6846f27a6cc4f2fa1376","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3ZmU4NDI3YmJkMDA2MDNlZjA3ZjY4NDZmMjdhNmNjNGYyZmExMzc2","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-19T07:09:12Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-19T07:09:12Z"},"message":"ISSUE #1246: Scripting the whole release procedure\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nReleasing bookkeeper becomes tricky after introducing `circe-checksum`, since we need to ensure linux jni library is shipped as part of `circe-checksum`.\n\n*Solution*\n\n- switch to use docker for generating bookkeeper release\n- scripting the whole release procedure as many as possible\n\nMaster Issue: #1246\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1329 from sijie/release_scripts, closes #1246","tree":{"sha":"8297779ebb392747dd52407d67591caf08de3720","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/8297779ebb392747dd52407d67591caf08de3720"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7fe8427bbd00603ef07f6846f27a6cc4f2fa1376","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7fe8427bbd00603ef07f6846f27a6cc4f2fa1376","html_url":"https://github.com/apache/bookkeeper/commit/7fe8427bbd00603ef07f6846f27a6cc4f2fa1376","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7fe8427bbd00603ef07f6846f27a6cc4f2fa1376/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"c21c53bd7de8341d1e0b5c3c8d5d2e1c33857f93","url":"https://api.github.com/repos/apache/bookkeeper/commits/c21c53bd7de8341d1e0b5c3c8d5d2e1c33857f93","html_url":"https://github.com/apache/bookkeeper/commit/c21c53bd7de8341d1e0b5c3c8d5d2e1c33857f93"}]},{"sha":"c21c53bd7de8341d1e0b5c3c8d5d2e1c33857f93","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjMjFjNTNiZDdkZTgzNDFkMWUwYjVjM2M4ZDVkMmUxYzMzODU3Zjkz","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-19T07:06:28Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-19T07:06:28Z"},"message":"[RELEASE-4.7.0] add integrationtests CI job for branch-4.7\n\nDescriptions of the changes in this PR:\n\nadd integrationtests CI job for branch-4.7\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1353 from sijie/make_it_test_as_postcommit_jobs","tree":{"sha":"c225cdb0556fcb47250b93f11f4d216b1000124d","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c225cdb0556fcb47250b93f11f4d216b1000124d"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c21c53bd7de8341d1e0b5c3c8d5d2e1c33857f93","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c21c53bd7de8341d1e0b5c3c8d5d2e1c33857f93","html_url":"https://github.com/apache/bookkeeper/commit/c21c53bd7de8341d1e0b5c3c8d5d2e1c33857f93","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c21c53bd7de8341d1e0b5c3c8d5d2e1c33857f93/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"325dd9308896cd924bf78f3437824622a91f125a","url":"https://api.github.com/repos/apache/bookkeeper/commits/325dd9308896cd924bf78f3437824622a91f125a","html_url":"https://github.com/apache/bookkeeper/commit/325dd9308896cd924bf78f3437824622a91f125a"}]},{"sha":"325dd9308896cd924bf78f3437824622a91f125a","node_id":"MDY6Q29tbWl0MTU3NTk1NjozMjVkZDkzMDg4OTZjZDkyNGJmNzhmMzQzNzgyNDYyMmE5MWYxMjVh","commit":{"author":{"name":"Nicolas Michael","email":"nmichael@salesforce.com","date":"2018-04-18T17:32:37Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-18T17:32:37Z"},"message":"ISSUE #1354: Spin-Wait for I/O completion wastes CPU time in BK Client\n\nIssue 1354: Spin-Wait for I/O completion wastes CPU time in BK Client (JDK8)\n\nThis bugfix for issue 1354 changes the call of CompletableFuture.get() in SyncCallbackUtils.waitForResult() to CompletableFuture.get(Long.MAX_VALUE, TimeUnit.NANOSECONDS), which leads to the same behavior, but avoids spinning (and thus reduces CPU consumption) in JDK8.\n\nAuthor: Nicolas Michael <nmichael@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1355 from nicmichael/FutureNoSpin, closes #1354","tree":{"sha":"b8a012d00edab184bd45484960018e61eda96562","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b8a012d00edab184bd45484960018e61eda96562"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/325dd9308896cd924bf78f3437824622a91f125a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/325dd9308896cd924bf78f3437824622a91f125a","html_url":"https://github.com/apache/bookkeeper/commit/325dd9308896cd924bf78f3437824622a91f125a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/325dd9308896cd924bf78f3437824622a91f125a/comments","author":{"login":"nicmichael","id":27270046,"node_id":"MDQ6VXNlcjI3MjcwMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/27270046?v=4","gravatar_id":"","url":"https://api.github.com/users/nicmichael","html_url":"https://github.com/nicmichael","followers_url":"https://api.github.com/users/nicmichael/followers","following_url":"https://api.github.com/users/nicmichael/following{/other_user}","gists_url":"https://api.github.com/users/nicmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/nicmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicmichael/subscriptions","organizations_url":"https://api.github.com/users/nicmichael/orgs","repos_url":"https://api.github.com/users/nicmichael/repos","events_url":"https://api.github.com/users/nicmichael/events{/privacy}","received_events_url":"https://api.github.com/users/nicmichael/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"a71da1d1bae1790c913b773cdb14f61374687625","url":"https://api.github.com/repos/apache/bookkeeper/commits/a71da1d1bae1790c913b773cdb14f61374687625","html_url":"https://github.com/apache/bookkeeper/commit/a71da1d1bae1790c913b773cdb14f61374687625"}]},{"sha":"a71da1d1bae1790c913b773cdb14f61374687625","node_id":"MDY6Q29tbWl0MTU3NTk1NjphNzFkYTFkMWJhZTE3OTBjOTEzYjc3M2NkYjE0ZjYxMzc0Njg3NjI1","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-04-18T17:30:16Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-18T17:30:16Z"},"message":"IssueÂ #570: Introducing EntryLogManager.\n\nDescriptions of the changes in this PR:\n\nIntroducing EntryLogManager interface, which abstracts out current activeLogChannel,\nrotatedLogChannels and corresponding lock for activeLogChannel. The current logic of\nhandling logs is moved to EntryLogManagerForSingleEntryLog class, in the\nnext sub-task EntryLogManagerForEntryLogPerLedger will be introduced. Also there\nare minor changes to createNewLog logic and leastUnflushedLogId logic.\n\nThis is < sub-task5  > of Issue #570\n\nMaster Issue: #570\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1281 from reddycharan/entrylogmanager, closes #570","tree":{"sha":"d75f53ee3cee2ffe01bc5e5a825a8d9c100ed2fe","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d75f53ee3cee2ffe01bc5e5a825a8d9c100ed2fe"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/a71da1d1bae1790c913b773cdb14f61374687625","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/a71da1d1bae1790c913b773cdb14f61374687625","html_url":"https://github.com/apache/bookkeeper/commit/a71da1d1bae1790c913b773cdb14f61374687625","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/a71da1d1bae1790c913b773cdb14f61374687625/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1f265385ea03e8ca15693d8547f0fa04062e32bc","url":"https://api.github.com/repos/apache/bookkeeper/commits/1f265385ea03e8ca15693d8547f0fa04062e32bc","html_url":"https://github.com/apache/bookkeeper/commit/1f265385ea03e8ca15693d8547f0fa04062e32bc"}]},{"sha":"1f265385ea03e8ca15693d8547f0fa04062e32bc","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxZjI2NTM4NWVhMDNlOGNhMTU2OTNkODU0N2YwZmEwNDA2MmUzMmJj","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-17T19:59:41Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-17T19:59:41Z"},"message":"[RELEASE-4.7.0] upgrade guide and release notes\n\n- add upgrade for 4.6.x to 4.7.0\n- backfill upgrade guide in old releases\n- add release notes for 4.7.0\n- add 4.7.0 to releases\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>\n\nThis closes #1330 from sijie/update_release_notes","tree":{"sha":"c61cb7225266f2918b883c9ed116dea33e0eb25c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c61cb7225266f2918b883c9ed116dea33e0eb25c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1f265385ea03e8ca15693d8547f0fa04062e32bc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1f265385ea03e8ca15693d8547f0fa04062e32bc","html_url":"https://github.com/apache/bookkeeper/commit/1f265385ea03e8ca15693d8547f0fa04062e32bc","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1f265385ea03e8ca15693d8547f0fa04062e32bc/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"8248a4d790607436c5709b1dca2d929115b47331","url":"https://api.github.com/repos/apache/bookkeeper/commits/8248a4d790607436c5709b1dca2d929115b47331","html_url":"https://github.com/apache/bookkeeper/commit/8248a4d790607436c5709b1dca2d929115b47331"}]},{"sha":"8248a4d790607436c5709b1dca2d929115b47331","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4MjQ4YTRkNzkwNjA3NDM2YzU3MDliMWRjYTJkOTI5MTE1YjQ3MzMx","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-17T18:41:04Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-17T18:41:04Z"},"message":"[RELEASE-4.7.0] update docker file\n\nDescriptions of the changes in this PR:\n\nupdate the release version from 4.6.0 to 4.7.0 and its corresponding gpg key\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1351 from sijie/update_docker_file","tree":{"sha":"b2f6ff930cba6427f5db842131184a6e4c5b2e4e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b2f6ff930cba6427f5db842131184a6e4c5b2e4e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/8248a4d790607436c5709b1dca2d929115b47331","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/8248a4d790607436c5709b1dca2d929115b47331","html_url":"https://github.com/apache/bookkeeper/commit/8248a4d790607436c5709b1dca2d929115b47331","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/8248a4d790607436c5709b1dca2d929115b47331/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1242e3757c3dffd3c846787756c49779aee31d13","url":"https://api.github.com/repos/apache/bookkeeper/commits/1242e3757c3dffd3c846787756c49779aee31d13","html_url":"https://github.com/apache/bookkeeper/commit/1242e3757c3dffd3c846787756c49779aee31d13"}]},{"sha":"1242e3757c3dffd3c846787756c49779aee31d13","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxMjQyZTM3NTdjM2RmZmQzYzg0Njc4Nzc1NmM0OTc3OWFlZTMxZDEz","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-17T06:56:29Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-17T06:56:29Z"},"message":"Provide memory & gc options in bookkeeper script\n\nDescriptions of the changes in this PR:\n\nIt is convenient to provide `MEM_OPTS` and `GC_OPTS` in bookkeeper script and bkenv.sh to allow overriding jvm settings through.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1342 from sijie/gc_settings","tree":{"sha":"e0ef43ae427d4e59a6ef70a5cc23820ebd882010","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e0ef43ae427d4e59a6ef70a5cc23820ebd882010"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1242e3757c3dffd3c846787756c49779aee31d13","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1242e3757c3dffd3c846787756c49779aee31d13","html_url":"https://github.com/apache/bookkeeper/commit/1242e3757c3dffd3c846787756c49779aee31d13","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1242e3757c3dffd3c846787756c49779aee31d13/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7f010d29cbef0cbdf75b472df28cd9ea85f5c419","url":"https://api.github.com/repos/apache/bookkeeper/commits/7f010d29cbef0cbdf75b472df28cd9ea85f5c419","html_url":"https://github.com/apache/bookkeeper/commit/7f010d29cbef0cbdf75b472df28cd9ea85f5c419"}]},{"sha":"7f010d29cbef0cbdf75b472df28cd9ea85f5c419","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3ZjAxMGQyOWNiZWYwY2JkZjc1YjQ3MmRmMjhjZDllYTg1ZjVjNDE5","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-15T22:08:55Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-15T22:08:55Z"},"message":"Update release schedule for 4.8.0\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1341 from sijie/update_release_schedulea","tree":{"sha":"e620fc9504f7e8df72a3c38cc4fba0e9d12f8bdf","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e620fc9504f7e8df72a3c38cc4fba0e9d12f8bdf"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7f010d29cbef0cbdf75b472df28cd9ea85f5c419","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7f010d29cbef0cbdf75b472df28cd9ea85f5c419","html_url":"https://github.com/apache/bookkeeper/commit/7f010d29cbef0cbdf75b472df28cd9ea85f5c419","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7f010d29cbef0cbdf75b472df28cd9ea85f5c419/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"51c26dcf3446ef0bf2bc7c753e5d188e29123ae8","url":"https://api.github.com/repos/apache/bookkeeper/commits/51c26dcf3446ef0bf2bc7c753e5d188e29123ae8","html_url":"https://github.com/apache/bookkeeper/commit/51c26dcf3446ef0bf2bc7c753e5d188e29123ae8"}]},{"sha":"51c26dcf3446ef0bf2bc7c753e5d188e29123ae8","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1MWMyNmRjZjM0NDZlZjBiZjJiYzdjNzUzZTVkMTg4ZTI5MTIzYWU4","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-15T22:07:38Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-15T22:07:38Z"},"message":"Only check ipv6 binding when /sbin/sysctl exists\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\nIf bookkeeper is included in some slim docker images, sysctl might not exists at all.\nIt would fail bookie to start.\n\n*Solution*\n\nOnly check ipv6 binding when /sbin/sysctl exists\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1340 from sijie/disable_ipv6_binding","tree":{"sha":"12347e0e2f2a8e6c03590cdfc5263f69ec516d14","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/12347e0e2f2a8e6c03590cdfc5263f69ec516d14"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/51c26dcf3446ef0bf2bc7c753e5d188e29123ae8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/51c26dcf3446ef0bf2bc7c753e5d188e29123ae8","html_url":"https://github.com/apache/bookkeeper/commit/51c26dcf3446ef0bf2bc7c753e5d188e29123ae8","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/51c26dcf3446ef0bf2bc7c753e5d188e29123ae8/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"c3e96a76be35a0adb6f700491dd0a8786d5b2957","url":"https://api.github.com/repos/apache/bookkeeper/commits/c3e96a76be35a0adb6f700491dd0a8786d5b2957","html_url":"https://github.com/apache/bookkeeper/commit/c3e96a76be35a0adb6f700491dd0a8786d5b2957"}]},{"sha":"c3e96a76be35a0adb6f700491dd0a8786d5b2957","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjM2U5NmE3NmJlMzVhMGFkYjZmNzAwNDkxZGQwYTg3ODZkNWIyOTU3","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-13T16:44:13Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-13T16:44:13Z"},"message":"Fallback to use `getZkServers` and `getZkLedgersPath` when resolving from metadata service uri\n\nDescriptions of the changes in this PR:\n\n*Problme*\n\nDlog tests are failing because dlog is using an external zookeeper client, where both `zkServers` and `metadataServiceUri`\nare not set on client configuration. It will throw NPE when trying to resolve `zkServers` and `zkLedgersRootPath` from metadata service uri.\n\n*Solution*\n\nFallback to use deprecated `getZkServers` and `getZkLedgersPath` when metadata service uri is null\n\nRelated Issues: #1336\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1338 from sijie/fix_dlog_tests","tree":{"sha":"f32b1babbc3e24f6264e3c6eb5a7b975a41afbd6","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f32b1babbc3e24f6264e3c6eb5a7b975a41afbd6"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c3e96a76be35a0adb6f700491dd0a8786d5b2957","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c3e96a76be35a0adb6f700491dd0a8786d5b2957","html_url":"https://github.com/apache/bookkeeper/commit/c3e96a76be35a0adb6f700491dd0a8786d5b2957","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c3e96a76be35a0adb6f700491dd0a8786d5b2957/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"3d39435d316bc05e64c4247aeb8455bcd2a96989","url":"https://api.github.com/repos/apache/bookkeeper/commits/3d39435d316bc05e64c4247aeb8455bcd2a96989","html_url":"https://github.com/apache/bookkeeper/commit/3d39435d316bc05e64c4247aeb8455bcd2a96989"}]},{"sha":"3d39435d316bc05e64c4247aeb8455bcd2a96989","node_id":"MDY6Q29tbWl0MTU3NTk1NjozZDM5NDM1ZDMxNmJjMDVlNjRjNDI0N2FlYjg0NTViY2QyYTk2OTg5","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-12T23:30:09Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-12T23:30:09Z"},"message":"Use metadata service uri rather than zkServers\n\nDescriptions of the changes in this PR:\n\n*Motivation*\n\nMetadata service uri is introduced as part of BP-29. However most of the tests and tools are still assuming `zkServers`.\nThis causes a problem if people configures `metadataServiceUri`, some of the admin tools don't actually work.\n\n*Solution*\n\nThis change changes bookkeeper to use `metadataServiceUri` in all the possible places and provides methods to resolve zkServers\nand zkLedgersRootPath from metadata service uri. This ensures:\n\n1) if users configure `metadataServiceUri`, all the tools would work properly.\n2) if users doesn't configure `metadataServiceUri` and still use `zkServers` and `zkLedgersRootPath`, all the tools would still work.\n\n*Changes*\n\nThe main changes are:\n\n- deprecated direct usage of `getZkServers`, `setZkServers`, `getZkLedgersRootPath`, `setZkLedgersRootPath, `getZkAvailablePath` at AbstractConfiguration\n- provide util methods `resolveZkServers` and `resolverZkLedgersRootPath` in `ZkMetadataDriverBase` for resolving zookeeper specific settings from metadata service uri\n- change the tools to use `getMetadataServiceUri`\n- change the tests to use `getMetadataServiceUri` to ensure code coverage\n\n*NOTES*\n\nThere are a few places still using `getZkServers`, `setZkServers`. those are hard to change at this moment.\n\nRelated Issue:\n- #1335\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1336 from sijie/fix_local_bookkeeper","tree":{"sha":"c16dbd18566adf9a2d71683a493a1ae2b68e4b8d","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c16dbd18566adf9a2d71683a493a1ae2b68e4b8d"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/3d39435d316bc05e64c4247aeb8455bcd2a96989","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/3d39435d316bc05e64c4247aeb8455bcd2a96989","html_url":"https://github.com/apache/bookkeeper/commit/3d39435d316bc05e64c4247aeb8455bcd2a96989","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/3d39435d316bc05e64c4247aeb8455bcd2a96989/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"9921613829dba70a2903ee19ddfc4dc757fb39ab","url":"https://api.github.com/repos/apache/bookkeeper/commits/9921613829dba70a2903ee19ddfc4dc757fb39ab","html_url":"https://github.com/apache/bookkeeper/commit/9921613829dba70a2903ee19ddfc4dc757fb39ab"}]},{"sha":"9921613829dba70a2903ee19ddfc4dc757fb39ab","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5OTIxNjEzODI5ZGJhNzBhMjkwM2VlMTlkZGZjNGRjNzU3ZmIzOWFi","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-12T07:14:37Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-12T07:14:37Z"},"message":"Issue #1335: LocalBookKeeper doesn't work with metadata service uri\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\n`\"zk+hierarchical://localhost:2181/ledgers\"` is invalid because `\"` is an invalid character.\n\n*Solution*\n\nFix the invalid settings in `bk_server.conf`\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1337 from sijie/fix_invalid_settings, closes #1335","tree":{"sha":"8c0361394f612bf49ab2b0425f88a2db834d6c57","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/8c0361394f612bf49ab2b0425f88a2db834d6c57"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9921613829dba70a2903ee19ddfc4dc757fb39ab","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9921613829dba70a2903ee19ddfc4dc757fb39ab","html_url":"https://github.com/apache/bookkeeper/commit/9921613829dba70a2903ee19ddfc4dc757fb39ab","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9921613829dba70a2903ee19ddfc4dc757fb39ab/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"ca4d4e0590a45cb377db348c08f90fb2ec0b0147","url":"https://api.github.com/repos/apache/bookkeeper/commits/ca4d4e0590a45cb377db348c08f90fb2ec0b0147","html_url":"https://github.com/apache/bookkeeper/commit/ca4d4e0590a45cb377db348c08f90fb2ec0b0147"}]},{"sha":"ca4d4e0590a45cb377db348c08f90fb2ec0b0147","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjYTRkNGUwNTkwYTQ1Y2IzNzdkYjM0OGMwOGY5MGZiMmVjMGIwMTQ3","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-11T09:52:31Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-11T09:52:31Z"},"message":"[maven-release-plugin] prepare for next development iteration (missing modules)","tree":{"sha":"bb9a7a5cb3d85e8c3ef4ed64af128cf3a4608220","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/bb9a7a5cb3d85e8c3ef4ed64af128cf3a4608220"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/ca4d4e0590a45cb377db348c08f90fb2ec0b0147","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/ca4d4e0590a45cb377db348c08f90fb2ec0b0147","html_url":"https://github.com/apache/bookkeeper/commit/ca4d4e0590a45cb377db348c08f90fb2ec0b0147","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/ca4d4e0590a45cb377db348c08f90fb2ec0b0147/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"8cd9f91bd49b0453e2ee5e787d5a5729255b466c","url":"https://api.github.com/repos/apache/bookkeeper/commits/8cd9f91bd49b0453e2ee5e787d5a5729255b466c","html_url":"https://github.com/apache/bookkeeper/commit/8cd9f91bd49b0453e2ee5e787d5a5729255b466c"}]},{"sha":"8cd9f91bd49b0453e2ee5e787d5a5729255b466c","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4Y2Q5ZjkxYmQ0OWIwNDUzZTJlZTVlNzg3ZDVhNTcyOTI1NWI0NjZj","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-11T05:47:57Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-11T05:47:57Z"},"message":"Create CI jobs for branch-4.7\n\nDescriptions of the changes in this PR:\n\nWe need to CI jobs running for subsequent minor releases on branch-4.7.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1328 from sijie/create_ci_job_for_4.7","tree":{"sha":"ebde9b6cd8f2d88c1c95b07f488800a9e687562a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/ebde9b6cd8f2d88c1c95b07f488800a9e687562a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/8cd9f91bd49b0453e2ee5e787d5a5729255b466c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/8cd9f91bd49b0453e2ee5e787d5a5729255b466c","html_url":"https://github.com/apache/bookkeeper/commit/8cd9f91bd49b0453e2ee5e787d5a5729255b466c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/8cd9f91bd49b0453e2ee5e787d5a5729255b466c/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"49fda75662b85712d3eae77484cf38b40b74abe1","url":"https://api.github.com/repos/apache/bookkeeper/commits/49fda75662b85712d3eae77484cf38b40b74abe1","html_url":"https://github.com/apache/bookkeeper/commit/49fda75662b85712d3eae77484cf38b40b74abe1"}]},{"sha":"49fda75662b85712d3eae77484cf38b40b74abe1","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0OWZkYTc1NjYyYjg1NzEyZDNlYWU3NzQ4NGNmMzhiNDBiNzRhYmUx","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T19:26:47Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T19:26:47Z"},"message":"[maven-release-plugin] prepare for next development iteration","tree":{"sha":"181aacc5dd5ef931d31c2ca01d22fbfb8420fad6","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/181aacc5dd5ef931d31c2ca01d22fbfb8420fad6"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/49fda75662b85712d3eae77484cf38b40b74abe1","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/49fda75662b85712d3eae77484cf38b40b74abe1","html_url":"https://github.com/apache/bookkeeper/commit/49fda75662b85712d3eae77484cf38b40b74abe1","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/49fda75662b85712d3eae77484cf38b40b74abe1/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"d719bb75dce951547f390a0de42d100fe5289387","url":"https://api.github.com/repos/apache/bookkeeper/commits/d719bb75dce951547f390a0de42d100fe5289387","html_url":"https://github.com/apache/bookkeeper/commit/d719bb75dce951547f390a0de42d100fe5289387"}]},{"sha":"d719bb75dce951547f390a0de42d100fe5289387","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkNzE5YmI3NWRjZTk1MTU0N2YzOTBhMGRlNDJkMTAwZmU1Mjg5Mzg3","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T19:26:36Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T19:26:36Z"},"message":"[maven-release-plugin] prepare branch branch-4.7","tree":{"sha":"15a0a4c81a1f1ad7547ee046be6110b4f410c6c8","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/15a0a4c81a1f1ad7547ee046be6110b4f410c6c8"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/d719bb75dce951547f390a0de42d100fe5289387","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/d719bb75dce951547f390a0de42d100fe5289387","html_url":"https://github.com/apache/bookkeeper/commit/d719bb75dce951547f390a0de42d100fe5289387","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/d719bb75dce951547f390a0de42d100fe5289387/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"61a227b797695fb8dad0d70fe6c2bb256addde29","url":"https://api.github.com/repos/apache/bookkeeper/commits/61a227b797695fb8dad0d70fe6c2bb256addde29","html_url":"https://github.com/apache/bookkeeper/commit/61a227b797695fb8dad0d70fe6c2bb256addde29"}]},{"sha":"61a227b797695fb8dad0d70fe6c2bb256addde29","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2MWEyMjdiNzk3Njk1ZmI4ZGFkMGQ3MGZlNmMyYmIyNTZhZGRkZTI5","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T17:26:12Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T17:26:12Z"},"message":"Prepare 4.7.0 release\n\nDescriptions of the changes in this PR:\n\n- copy the current `docs/latest` as `docs/4.7.0`\n- bump latest development release to 4.8.0 SNAPSHOT release\n\nbeside that, also change stable version to 4.6.2 release\n\nNOTE: this change doesn't put 4.7.0 in the menu. will update menu and releases page after 4.7.0 is released\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1326 from sijie/prepare_release_4.7","tree":{"sha":"e324ccfb267cc254fcf20970b867f289c33965e4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e324ccfb267cc254fcf20970b867f289c33965e4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/61a227b797695fb8dad0d70fe6c2bb256addde29","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/61a227b797695fb8dad0d70fe6c2bb256addde29","html_url":"https://github.com/apache/bookkeeper/commit/61a227b797695fb8dad0d70fe6c2bb256addde29","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/61a227b797695fb8dad0d70fe6c2bb256addde29/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"2af991bceb273eb699b93020961ca26cd72d66af","url":"https://api.github.com/repos/apache/bookkeeper/commits/2af991bceb273eb699b93020961ca26cd72d66af","html_url":"https://github.com/apache/bookkeeper/commit/2af991bceb273eb699b93020961ca26cd72d66af"}]},{"sha":"2af991bceb273eb699b93020961ca26cd72d66af","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyYWY5OTFiY2ViMjczZWI2OTliOTMwMjA5NjFjYTI2Y2Q3MmQ2NmFm","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-04-10T11:17:42Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-04-10T11:17:42Z"},"message":"Update News after release of 4.6.2\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1327 from eolivelli/fix/update-news-462","tree":{"sha":"21d3072f691ace1fc0870ef750f368f7dec2787b","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/21d3072f691ace1fc0870ef750f368f7dec2787b"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2af991bceb273eb699b93020961ca26cd72d66af","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2af991bceb273eb699b93020961ca26cd72d66af","html_url":"https://github.com/apache/bookkeeper/commit/2af991bceb273eb699b93020961ca26cd72d66af","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2af991bceb273eb699b93020961ca26cd72d66af/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"f5a7a2c3ade4a27255551748ded33f724a74d7ca","url":"https://api.github.com/repos/apache/bookkeeper/commits/f5a7a2c3ade4a27255551748ded33f724a74d7ca","html_url":"https://github.com/apache/bookkeeper/commit/f5a7a2c3ade4a27255551748ded33f724a74d7ca"}]},{"sha":"f5a7a2c3ade4a27255551748ded33f724a74d7ca","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmNWE3YTJjM2FkZTRhMjcyNTU1NTE3NDhkZWQzM2Y3MjRhNzRkN2Nh","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T09:24:26Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T09:24:26Z"},"message":"Update missing configuration settings & missing shell commands\n\nDescriptions of the changes in this PR:\n\nUpdate missing configuration settings & missing shell commands for preparing 4.7.0 release.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>\n\nThis closes #1325 from sijie/update_docs","tree":{"sha":"b83f8ce846c2220f4cf7f4fc51c246be86c21330","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b83f8ce846c2220f4cf7f4fc51c246be86c21330"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f5a7a2c3ade4a27255551748ded33f724a74d7ca","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f5a7a2c3ade4a27255551748ded33f724a74d7ca","html_url":"https://github.com/apache/bookkeeper/commit/f5a7a2c3ade4a27255551748ded33f724a74d7ca","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f5a7a2c3ade4a27255551748ded33f724a74d7ca/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"2536c91fde3eefe8f426e4e91e05ccfa26294f03","url":"https://api.github.com/repos/apache/bookkeeper/commits/2536c91fde3eefe8f426e4e91e05ccfa26294f03","html_url":"https://github.com/apache/bookkeeper/commit/2536c91fde3eefe8f426e4e91e05ccfa26294f03"}]},{"sha":"2536c91fde3eefe8f426e4e91e05ccfa26294f03","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyNTM2YzkxZmRlM2VlZmU4ZjQyNmU0ZTkxZTA1Y2NmYTI2Mjk0ZjAz","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T07:03:36Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-10T07:03:36Z"},"message":"Remove WriteFlags from public API\n\nDescriptions of the changes in this PR:\n\n`DeferredSync` is not implemented at server side. So remove `withWriteFlags` from builder API.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1324 from sijie/remove_write_flag","tree":{"sha":"3436db3e2d54d704ee86d760ace122cb0eb44652","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/3436db3e2d54d704ee86d760ace122cb0eb44652"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2536c91fde3eefe8f426e4e91e05ccfa26294f03","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2536c91fde3eefe8f426e4e91e05ccfa26294f03","html_url":"https://github.com/apache/bookkeeper/commit/2536c91fde3eefe8f426e4e91e05ccfa26294f03","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2536c91fde3eefe8f426e4e91e05ccfa26294f03/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"71901bcd8bb27257b8ef574353d6a851ff6e56f7","url":"https://api.github.com/repos/apache/bookkeeper/commits/71901bcd8bb27257b8ef574353d6a851ff6e56f7","html_url":"https://github.com/apache/bookkeeper/commit/71901bcd8bb27257b8ef574353d6a851ff6e56f7"}]},{"sha":"71901bcd8bb27257b8ef574353d6a851ff6e56f7","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3MTkwMWJjZDhiYjI3MjU3YjhlZjU3NDM1M2Q2YTg1MWZmNmU1NmY3","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-09T23:01:23Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-09T23:01:23Z"},"message":"Improve \"Failed to resolve network location\" logging\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\nRackware/Region-Aware is using a script based DNS resolver for resolving network topology. If the network topology script is not configured, the DNS resolver will return `null` as network location. It results in using `default-rack` as the network location and log \"Failed to resolve network location\" for each resolution.\n\n*Solution*\n\nIf a script file is not provided, throw a runtime exception. So the rackaware/region-aware placement policy can fallback to use the default-rack resolver. It would avoid the logging flood.\n\n*Result*\n\nBefore this change, it will log following statement for each DNS resolution:\n\n\"Failed to resolve network location\".\n\nAfter this change, it will only log following statement during initialization:\n\n```\nINFO  - [Time-limited test:RackawareEnsemblePlacementPolicyImpl313] - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver.\njava.lang.RuntimeException: No network topology script is found when using script based DNS resolver.\n\tat org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.setConf(ScriptBasedMapping.java:150)\n\tat org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:122)\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:306)\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:75)\n\tat org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:598)\n\tat org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:490)\n```\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Yiming Zang <yzang2016@gmail.com>, Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1323 from sijie/improve_dns_resolver_logging","tree":{"sha":"b8d7fec9cefc4e1f6fa27efd3887c637711eaf78","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b8d7fec9cefc4e1f6fa27efd3887c637711eaf78"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/71901bcd8bb27257b8ef574353d6a851ff6e56f7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/71901bcd8bb27257b8ef574353d6a851ff6e56f7","html_url":"https://github.com/apache/bookkeeper/commit/71901bcd8bb27257b8ef574353d6a851ff6e56f7","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/71901bcd8bb27257b8ef574353d6a851ff6e56f7/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"c760c566e7ae98d1d4a7a5892c7414480f0c947a","url":"https://api.github.com/repos/apache/bookkeeper/commits/c760c566e7ae98d1d4a7a5892c7414480f0c947a","html_url":"https://github.com/apache/bookkeeper/commit/c760c566e7ae98d1d4a7a5892c7414480f0c947a"}]},{"sha":"c760c566e7ae98d1d4a7a5892c7414480f0c947a","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjNzYwYzU2NmU3YWU5OGQxZDRhN2E1ODkyYzc0MTQ0ODBmMGM5NDdh","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-09T07:34:58Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-09T07:34:58Z"},"message":"Improve logging on ledger dirs monitor to avoid log flooding\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\nWhen a bookie is in readonly mode, the ledger dirs monitor will keep check the disk usage and generate tons of logs if the disk usage is unchanged. This makes debugging much difficult.\n\n*Solution*\n\n- Improve the logging logic in ledger dirs monitor to only log changes when disk usage is changed.\n- Disable logging on checking threshold for high priority writes. Only log changes when high priority writes availability is changed.\n\n*Result*\n\nThis reduces the logging when a bookie is outage in readonly mode.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Yiming Zang <yzang2016@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1322 from sijie/improve_monitor_logging","tree":{"sha":"ca228d6189542aeffac264025ab31ff90fd1294d","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/ca228d6189542aeffac264025ab31ff90fd1294d"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c760c566e7ae98d1d4a7a5892c7414480f0c947a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c760c566e7ae98d1d4a7a5892c7414480f0c947a","html_url":"https://github.com/apache/bookkeeper/commit/c760c566e7ae98d1d4a7a5892c7414480f0c947a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c760c566e7ae98d1d4a7a5892c7414480f0c947a/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"4aec3cefe6d5e59b03d9f27d4a50ee6f4ddccb37","url":"https://api.github.com/repos/apache/bookkeeper/commits/4aec3cefe6d5e59b03d9f27d4a50ee6f4ddccb37","html_url":"https://github.com/apache/bookkeeper/commit/4aec3cefe6d5e59b03d9f27d4a50ee6f4ddccb37"}]},{"sha":"4aec3cefe6d5e59b03d9f27d4a50ee6f4ddccb37","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0YWVjM2NlZmU2ZDVlNTliMDNkOWYyN2Q0YTUwZWU2ZjRkZGNjYjM3","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-04-09T06:50:49Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-04-09T06:50:49Z"},"message":"Release notes for 4.6.2 version\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1297 from eolivelli/fix/releasenotes462","tree":{"sha":"17507985a56d152a182159662c8106f1b6b5d87d","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/17507985a56d152a182159662c8106f1b6b5d87d"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/4aec3cefe6d5e59b03d9f27d4a50ee6f4ddccb37","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/4aec3cefe6d5e59b03d9f27d4a50ee6f4ddccb37","html_url":"https://github.com/apache/bookkeeper/commit/4aec3cefe6d5e59b03d9f27d4a50ee6f4ddccb37","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/4aec3cefe6d5e59b03d9f27d4a50ee6f4ddccb37/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"4939416c68f20c990d5c98ee19d59ba662f1b4a0","url":"https://api.github.com/repos/apache/bookkeeper/commits/4939416c68f20c990d5c98ee19d59ba662f1b4a0","html_url":"https://github.com/apache/bookkeeper/commit/4939416c68f20c990d5c98ee19d59ba662f1b4a0"}]},{"sha":"4939416c68f20c990d5c98ee19d59ba662f1b4a0","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0OTM5NDE2YzY4ZjIwYzk5MGQ1Yzk4ZWUxOWQ1OWJhNjYyZjFiNGEw","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-04-08T18:31:17Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-08T18:31:17Z"},"message":"Allow multiple directories in DbLedgerStorage\n\nIn normal conditions, the max throughput that a bookie can sustain is mostly determined by how fast we can write entries on the journal.\n\nIf we assume a *very* fast journal, for example using multiple journal threads and setting `journalSyncData=false` or with the journal on a RAM disk (there are some cases in which it might make sense), then the LedgerStorage becomes the \"bottleneck\". We need to be able to flush data on disk faster than the incoming rate, otherwise the write cache will get full and then we have to apply backpressure.\n\nIn different testing scenario, the bottleneck has become the LedgerStoarge flush/checkpoint because it's done by a single thread.\n\nFor smaller entries (1KB) the limit is ~250 K write/s and the limitation is due to preparing a batch with the offsets to write into rocksdb. Each insertion in the batch needs to cross JNI boundaries and that is expensive.\n\nFor bigger entries (10KB), the limit is ~50K write/s (or 500MB /s). This mostly because the single flush thread cannot drive 100% IO utilization on the disks (since it's doing the rest of work). Raw disk writes in that test environment (12 HDDs) could reach 1.4GB/s.\n\nThis change is only relative to DbLedgerStorage and it's a simple refactoring that, when configured with multiple directories, it will hash a ledger into a certain directory. Each directory is flushed independently on its own thread.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1289 from merlimat/db-storage-multiple-dirs","tree":{"sha":"65cc36770b9709cebb63029a98c30270bf83a1e4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/65cc36770b9709cebb63029a98c30270bf83a1e4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/4939416c68f20c990d5c98ee19d59ba662f1b4a0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/4939416c68f20c990d5c98ee19d59ba662f1b4a0","html_url":"https://github.com/apache/bookkeeper/commit/4939416c68f20c990d5c98ee19d59ba662f1b4a0","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/4939416c68f20c990d5c98ee19d59ba662f1b4a0/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"ea1a75c0622a93abbd16fd71820f3c0cb5fc3ab0","url":"https://api.github.com/repos/apache/bookkeeper/commits/ea1a75c0622a93abbd16fd71820f3c0cb5fc3ab0","html_url":"https://github.com/apache/bookkeeper/commit/ea1a75c0622a93abbd16fd71820f3c0cb5fc3ab0"}]},{"sha":"ea1a75c0622a93abbd16fd71820f3c0cb5fc3ab0","node_id":"MDY6Q29tbWl0MTU3NTk1NjplYTFhNzVjMDYyMmE5M2FiYmQxNmZkNzE4MjBmM2MwY2I1ZmMzYWIw","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-06T23:39:28Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-06T23:39:28Z"},"message":"ISSUE #1316: A bookie with non-writable dirs should be able to start in readonly mode\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\nBookie failed to start when it doesn't have non-writable dirs. Issue is reported at #1316\n\n*Solution*\n\n- Introduce a setting `minUsageSizeForEntryLogCreation` to allow creating entry logs even when there is no writable dirs. This setting is replacing `getIsForceGCAllowWhenNoSpace` for creating new log, since entry log files are created not only for gc/compaction. It can also happen on startup and also journal replays.\n\n- Defer creating entry log files until first write happens, when there is no writable ledger dirs.\n\n- add bunch of tests for EntryLog and Bookie initialization.\n\nMaster Issue: #1316\nRelated Issue: #190\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Charan Reddy Guttapalem <reddycharan18@gmail.com>\n\nThis closes #1319 from sijie/allow_bookie_to_start_with_no_writable_bookies, closes #1316","tree":{"sha":"085a1cb911353faa5725df37c516db1675cab093","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/085a1cb911353faa5725df37c516db1675cab093"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/ea1a75c0622a93abbd16fd71820f3c0cb5fc3ab0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/ea1a75c0622a93abbd16fd71820f3c0cb5fc3ab0","html_url":"https://github.com/apache/bookkeeper/commit/ea1a75c0622a93abbd16fd71820f3c0cb5fc3ab0","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/ea1a75c0622a93abbd16fd71820f3c0cb5fc3ab0/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"956b37dad75a98b23cff34e8cfe0179e15e6d98a","url":"https://api.github.com/repos/apache/bookkeeper/commits/956b37dad75a98b23cff34e8cfe0179e15e6d98a","html_url":"https://github.com/apache/bookkeeper/commit/956b37dad75a98b23cff34e8cfe0179e15e6d98a"}]},{"sha":"956b37dad75a98b23cff34e8cfe0179e15e6d98a","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5NTZiMzdkYWQ3NWE5OGIyM2NmZjM0ZThjZmUwMTc5ZTE1ZTZkOThh","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-04-06T18:57:48Z"},"committer":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-04-06T18:57:48Z"},"message":"Avoid contention on netty channel promise\n\nWith profiler, I have seen there can be heavy contention between BK threads and Netty IO thread due the the checking for channel write condition that was recently added for monitoring purpose.\n\nThe problem relies in that there is one BK thread that is doing the `writeAndFlush()` on the PCBC and getting the `ChannelFuture`, adding a listener to the future.\n\nThe write operation, though, is completed in the Netty IO thread and the promise gets also triggered from that thread. So, there is contention between current thread adding the listener and the IO threads completing the promise.\n\nIf we add the listener before doing the write on channel, we can avoid the contention. Another option could be to do the write from the Netty IO thread as well.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1321 from merlimat/channel-promise-contention","tree":{"sha":"84ff3d1621c0f72077bf4a67ee897b00cb32a7e5","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/84ff3d1621c0f72077bf4a67ee897b00cb32a7e5"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/956b37dad75a98b23cff34e8cfe0179e15e6d98a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/956b37dad75a98b23cff34e8cfe0179e15e6d98a","html_url":"https://github.com/apache/bookkeeper/commit/956b37dad75a98b23cff34e8cfe0179e15e6d98a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/956b37dad75a98b23cff34e8cfe0179e15e6d98a/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"parents":[{"sha":"e6a3aa7e488b87a6d0d08c5bae8564a944815ad7","url":"https://api.github.com/repos/apache/bookkeeper/commits/e6a3aa7e488b87a6d0d08c5bae8564a944815ad7","html_url":"https://github.com/apache/bookkeeper/commit/e6a3aa7e488b87a6d0d08c5bae8564a944815ad7"}]},{"sha":"e6a3aa7e488b87a6d0d08c5bae8564a944815ad7","node_id":"MDY6Q29tbWl0MTU3NTk1NjplNmEzYWE3ZTQ4OGI4N2E2ZDBkMDhjNWJhZTg1NjRhOTQ0ODE1YWQ3","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2018-04-05T21:40:55Z"},"committer":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-04-05T21:40:55Z"},"message":"y\n\nPreviously it was not duplicating, so the underlying ByteBuf was being\nreturned to the client, and this was having its reader index modified,\nwhich meant that if it was read again, the data could not be read.\n\nBy calling duplicate() on the LedgerEntryImpl, the underlying ByteBuf\nis sliced and retained, so it has a new set of indices. The retention\ndoes nothing, as the buffer is unpooled.\n\nAuthor: Ivan Kelly <ivank@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1318 from ivankelly/dup-mock","tree":{"sha":"491f89c417d009ebe1a65181bb31f12f9cfddfa3","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/491f89c417d009ebe1a65181bb31f12f9cfddfa3"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/e6a3aa7e488b87a6d0d08c5bae8564a944815ad7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/e6a3aa7e488b87a6d0d08c5bae8564a944815ad7","html_url":"https://github.com/apache/bookkeeper/commit/e6a3aa7e488b87a6d0d08c5bae8564a944815ad7","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/e6a3aa7e488b87a6d0d08c5bae8564a944815ad7/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"parents":[{"sha":"08d3cf8f014451dbc1485c8fc4985b2ada30a55c","url":"https://api.github.com/repos/apache/bookkeeper/commits/08d3cf8f014451dbc1485c8fc4985b2ada30a55c","html_url":"https://github.com/apache/bookkeeper/commit/08d3cf8f014451dbc1485c8fc4985b2ada30a55c"}]},{"sha":"08d3cf8f014451dbc1485c8fc4985b2ada30a55c","node_id":"MDY6Q29tbWl0MTU3NTk1NjowOGQzY2Y4ZjAxNDQ1MWRiYzE0ODVjOGZjNDk4NWIyYWRhMzBhNTVj","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-05T07:02:59Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-05T07:02:59Z"},"message":"ISSUE #1314: Provide a mechanism to allow high priority writes to readonly bookies\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\nCurrently we allow fence requests going through readonly bookies, since fence requests are special read requests. However a ledger can only be sealed after it is successfully recovered. If bookies are in readonly, those recovery writes won't go through.\n\nIf there is a bookie outage happened (e.g. all bookies are readonly), all ledgers are not able to be sealed. It might be good to have a similar setting like minUsableSizeForIndexFileCreation for recovery writes.\n\nThis can improve operability during outage.\n\n*Solution*\n\n- add a setting `minUsableSizeForHighPriorityWrites` to allow accepting high priority writes on readonly bookies.\n\nMaster Issue: #1314\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1315 from sijie/allow_high_priority_writes, closes #1314","tree":{"sha":"19ba0a3914184e8af39f5a53a4912a44cc7de498","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/19ba0a3914184e8af39f5a53a4912a44cc7de498"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/08d3cf8f014451dbc1485c8fc4985b2ada30a55c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/08d3cf8f014451dbc1485c8fc4985b2ada30a55c","html_url":"https://github.com/apache/bookkeeper/commit/08d3cf8f014451dbc1485c8fc4985b2ada30a55c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/08d3cf8f014451dbc1485c8fc4985b2ada30a55c/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"bf28ecade1b92204fd97a7cfd9ad3ff885382fbf","url":"https://api.github.com/repos/apache/bookkeeper/commits/bf28ecade1b92204fd97a7cfd9ad3ff885382fbf","html_url":"https://github.com/apache/bookkeeper/commit/bf28ecade1b92204fd97a7cfd9ad3ff885382fbf"}]},{"sha":"bf28ecade1b92204fd97a7cfd9ad3ff885382fbf","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiZjI4ZWNhZGUxYjkyMjA0ZmQ5N2E3Y2ZkOWFkM2ZmODg1MzgyZmJm","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2018-04-05T07:02:06Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-05T07:02:06Z"},"message":"newOpenLedgerOp and ReadHandle implementation for MockBookKeeper\n\nThis will allow users of MockBookKeeper to use the new ReadHandle API.\n\nThere are two implementations of the ReadHandle interface. One pure,\nwhich isn't backed by any production code, and another on\nMockLedgerHandle which passes through to the pure implementation.\n\nAuthor: Ivan Kelly <ivank@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1298 from ivankelly/better-mock","tree":{"sha":"c91fcaf8b0e3a2e1d409e7de56b279c4139f6178","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c91fcaf8b0e3a2e1d409e7de56b279c4139f6178"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/bf28ecade1b92204fd97a7cfd9ad3ff885382fbf","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/bf28ecade1b92204fd97a7cfd9ad3ff885382fbf","html_url":"https://github.com/apache/bookkeeper/commit/bf28ecade1b92204fd97a7cfd9ad3ff885382fbf","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/bf28ecade1b92204fd97a7cfd9ad3ff885382fbf/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7ec5ff3372cde048fa4be464c14ba66bdf6622c7","url":"https://api.github.com/repos/apache/bookkeeper/commits/7ec5ff3372cde048fa4be464c14ba66bdf6622c7","html_url":"https://github.com/apache/bookkeeper/commit/7ec5ff3372cde048fa4be464c14ba66bdf6622c7"}]},{"sha":"7ec5ff3372cde048fa4be464c14ba66bdf6622c7","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3ZWM1ZmYzMzcyY2RlMDQ4ZmE0YmU0NjRjMTRiYTY2YmRmNjYyMmM3","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-04-05T07:01:23Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-05T07:01:23Z"},"message":"Issue #1310: Filter out body and masterKey from ProcessorV3s\n\nDescriptions of the changes in this PR:\n\nIn certain logs instances of ProcessorV3 (for eg WriteEntryProcessorV3) are logged.\n\nLogging entry data and credentials details is not appropriate. Filter out\nthose details\n\n(have to consider other ProcessorV3s as well and testcases to validate this change)\n\nMaster Issue: #1310\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #1311 from reddycharan/filterlogs, closes #1310","tree":{"sha":"0306a35abec3f428e5a14dcf9c822db5f9c51f1e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/0306a35abec3f428e5a14dcf9c822db5f9c51f1e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7ec5ff3372cde048fa4be464c14ba66bdf6622c7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7ec5ff3372cde048fa4be464c14ba66bdf6622c7","html_url":"https://github.com/apache/bookkeeper/commit/7ec5ff3372cde048fa4be464c14ba66bdf6622c7","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7ec5ff3372cde048fa4be464c14ba66bdf6622c7/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"6bb5bd09ab75b66c71827d07eb94c47ab8867c0f","url":"https://api.github.com/repos/apache/bookkeeper/commits/6bb5bd09ab75b66c71827d07eb94c47ab8867c0f","html_url":"https://github.com/apache/bookkeeper/commit/6bb5bd09ab75b66c71827d07eb94c47ab8867c0f"}]},{"sha":"6bb5bd09ab75b66c71827d07eb94c47ab8867c0f","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2YmI1YmQwOWFiNzViNjZjNzE4MjdkMDdlYjk0YzQ3YWI4ODY3YzBm","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-04T00:15:32Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-04T00:15:32Z"},"message":"longPollThreadPool can not be null\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\nThe long polling logic is built with the assumption that there is a thread pool for scheduling deferred reads.\nSo if people happens to set `numLongPollWorkerThreads` to zero or negative, a null value is passed into long poll requests which causes NPE.\n\n*Solution*\n\nIf `numLongPollWorkerThreads` is set to zero or negative, fall back to use read thread pool. If there is no read thread pool, create a thread pool\naligned with num processors.\n\nWith this change, turn the default value of `long poll threads` to zero. so no additional threads are needed if long poll feature is not used (e.g. at pulsar).\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Yiming Zang <yzang2016@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1308 from sijie/validate_number_long_poll_threads","tree":{"sha":"cf03ed414e2614b65542a18cdb3f2012756d3be1","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/cf03ed414e2614b65542a18cdb3f2012756d3be1"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6bb5bd09ab75b66c71827d07eb94c47ab8867c0f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6bb5bd09ab75b66c71827d07eb94c47ab8867c0f","html_url":"https://github.com/apache/bookkeeper/commit/6bb5bd09ab75b66c71827d07eb94c47ab8867c0f","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6bb5bd09ab75b66c71827d07eb94c47ab8867c0f/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"15d583cb6162cf6beb10591ad3d0b6f436c81ea0","url":"https://api.github.com/repos/apache/bookkeeper/commits/15d583cb6162cf6beb10591ad3d0b6f436c81ea0","html_url":"https://github.com/apache/bookkeeper/commit/15d583cb6162cf6beb10591ad3d0b6f436c81ea0"}]},{"sha":"15d583cb6162cf6beb10591ad3d0b6f436c81ea0","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxNWQ1ODNjYjYxNjJjZjZiZWIxMDU5MWFkM2QwYjZmNDM2YzgxZWEw","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-04-03T20:48:23Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-03T20:48:23Z"},"message":"Issue #1304: in listunderreplicated cmd provide option to print missing replicalist\n\nDescriptions of the changes in this PR:\n\nin listunderreplicated bookieshell command,\nprovide option to print missing replicalist\n\nMaster Issue: #1304\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1305 from reddycharan/urlbookies, closes #1304","tree":{"sha":"819a91ad6294881a1ae2ae2ec869540e17a4c627","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/819a91ad6294881a1ae2ae2ec869540e17a4c627"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/15d583cb6162cf6beb10591ad3d0b6f436c81ea0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/15d583cb6162cf6beb10591ad3d0b6f436c81ea0","html_url":"https://github.com/apache/bookkeeper/commit/15d583cb6162cf6beb10591ad3d0b6f436c81ea0","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/15d583cb6162cf6beb10591ad3d0b6f436c81ea0/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"980bf9d0a6073d5294c3a2c3c7a9b7fa12fa89fc","url":"https://api.github.com/repos/apache/bookkeeper/commits/980bf9d0a6073d5294c3a2c3c7a9b7fa12fa89fc","html_url":"https://github.com/apache/bookkeeper/commit/980bf9d0a6073d5294c3a2c3c7a9b7fa12fa89fc"}]},{"sha":"980bf9d0a6073d5294c3a2c3c7a9b7fa12fa89fc","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5ODBiZjlkMGE2MDczZDUyOTRjM2EyYzNjN2E5YjdmYTEyZmE4OWZj","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-04-03T20:45:48Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-03T20:45:48Z"},"message":"Upgrade Maven Assembly Plugin to 3.1.0\n\n- upgrade Maven Assembly Plugin because 2.2.1 version has issues about file permissions\n- explicitly set tarLongFileMode to 'posix' in order to handle user ids with large values\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1313 from eolivelli/upgrade-assembly-master","tree":{"sha":"43f4b58e7ec7d19c2a36950e9ad8f51bb2cd9d0d","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/43f4b58e7ec7d19c2a36950e9ad8f51bb2cd9d0d"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/980bf9d0a6073d5294c3a2c3c7a9b7fa12fa89fc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/980bf9d0a6073d5294c3a2c3c7a9b7fa12fa89fc","html_url":"https://github.com/apache/bookkeeper/commit/980bf9d0a6073d5294c3a2c3c7a9b7fa12fa89fc","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/980bf9d0a6073d5294c3a2c3c7a9b7fa12fa89fc/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"80a135f9e1235527f9112309cd3cbd0601757e98","url":"https://api.github.com/repos/apache/bookkeeper/commits/80a135f9e1235527f9112309cd3cbd0601757e98","html_url":"https://github.com/apache/bookkeeper/commit/80a135f9e1235527f9112309cd3cbd0601757e98"}]},{"sha":"80a135f9e1235527f9112309cd3cbd0601757e98","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4MGExMzVmOWUxMjM1NTI3ZjkxMTIzMDljZDNjYmQwNjAxNzU3ZTk4","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-03T20:43:47Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-03T20:43:47Z"},"message":"BK configuration file updates\n\nDescriptions of the changes in this PR:\n\n- Change two default values: `fileInfoCacheInitialCapacity` to 1/4 of openFileLimit() and `journalRemoveFromPageCache` to true.\n- Fix default values in conf/bk_server.conf to make them consistent with `ServerConfiguration`\n- Organize the settings into sections for both `conf/bk_server.conf` and `site/_data/config/bk_server.yaml`\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1294 from sijie/update_default_values","tree":{"sha":"deb06c254f605bfb3773b4654f5b315067d83cc5","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/deb06c254f605bfb3773b4654f5b315067d83cc5"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/80a135f9e1235527f9112309cd3cbd0601757e98","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/80a135f9e1235527f9112309cd3cbd0601757e98","html_url":"https://github.com/apache/bookkeeper/commit/80a135f9e1235527f9112309cd3cbd0601757e98","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/80a135f9e1235527f9112309cd3cbd0601757e98/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"46171e67e526702487641438144f28b7eb1aa07b","url":"https://api.github.com/repos/apache/bookkeeper/commits/46171e67e526702487641438144f28b7eb1aa07b","html_url":"https://github.com/apache/bookkeeper/commit/46171e67e526702487641438144f28b7eb1aa07b"}]},{"sha":"46171e67e526702487641438144f28b7eb1aa07b","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0NjE3MWU2N2U1MjY3MDI0ODc2NDE0MzgxNDRmMjhiN2ViMWFhMDdi","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-04-03T03:03:12Z"},"committer":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-04-03T03:03:12Z"},"message":"Refactored OrderedSafeExecutor and OrderedScheduler\n\nAs outlined in https://lists.apache.org/thread.html/102383ea42f473f36720637e41af0ee83fc38d9f992736e0d1a7f985%3Cdev.bookkeeper.apache.org%3E\n\nright now `OrderedSafeExecutor` is implemented on top of `OrderedScheduler`.  There are few problems with this approach that are causing impact on performance:\n\n 1. `OrderedScheduler` is a `ScheduledExecutorService` which uses a priority queue for tasks. The priority queue has a single mutex for both publishers/consumers on the queue\n 2. There are many objects created for each task submission, due to listenable future decorators\n\nSince in all cases in critical write/read path we don't need delay task execution or futures, we should try to have a light weight execution for that.\n\n### Modifications\n\n * Inverted the hierarchy between `OrderedSafeExecutor` and `OrderedScheduler`. Now the base class is `OrderedSafeExecutor` and the other extends from it, since it provides additional methods.\n * Moved `OrderedSafeExecutor` in `bookkeeper-common` since `OrderedScheduler` was already there.\n * Moved `OrderedSafeGenericCallback` in its own file, since it needs to be in `bookkeeper-server` module at this point.\n * Changed some method names from `submitOrdered()` into `executeOrdered()` to be consistent with JDK name (`submit()` returns a future while `execute()` returns void).\n * Changed `BookKeeper` instance of `scheduler` into `OrderedScheduler` so that the few cases which were using the `mainWorkerPool` could be easily converted to use the scheduler instead.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Andrey Yegorov <None>, Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1309 from merlimat/refactor-ordered-executor and squashes the following commits:\n\n9af6eadc2 [Matteo Merli] Fixed findbugs configuration to ignore genereted JMH code\nc85ad21e5 [Matteo Merli] Use ImmutableMap\n22eba18c8 [Matteo Merli] Added microbenchmark\n2c67d0e56 [Matteo Merli] Fix for TestMaxSizeWorkersQueue\n54a72ba1b [Matteo Merli] Fix for TestReadAheadEntryReader\n019d5202d [Matteo Merli] More fixes for submitOrdered\nb8175f311 [Matteo Merli] Fixed array initialization type\n5d68d431d [Matteo Merli] Fixed class names in integration tests\n7c529dde7 [Matteo Merli] Fixed submitOrdered in DL code\nc91259b7d [Matteo Merli] Removed \"final\" modifier on checkQueue\nc5f70d5b4 [Matteo Merli] Merge remote-tracking branch 'apache/master' into refactor-ordered-executor\n957c98309 [Matteo Merli] Correctly handle number of tasks in queue check\ne45f78c09 [Matteo Merli] Renamed into OrderedExecutor and OrderedGenericCallback\n926868429 [Matteo Merli] Refactored OrderedSafeExecutor and OrderedScheduler","tree":{"sha":"80fe951da7167c3d531b8b3c49be9745be7cccbf","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/80fe951da7167c3d531b8b3c49be9745be7cccbf"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/46171e67e526702487641438144f28b7eb1aa07b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/46171e67e526702487641438144f28b7eb1aa07b","html_url":"https://github.com/apache/bookkeeper/commit/46171e67e526702487641438144f28b7eb1aa07b","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/46171e67e526702487641438144f28b7eb1aa07b/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"parents":[{"sha":"678b88ca8e7fc313494b34167785b37102e809d0","url":"https://api.github.com/repos/apache/bookkeeper/commits/678b88ca8e7fc313494b34167785b37102e809d0","html_url":"https://github.com/apache/bookkeeper/commit/678b88ca8e7fc313494b34167785b37102e809d0"}]},{"sha":"678b88ca8e7fc313494b34167785b37102e809d0","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2NzhiODhjYThlN2ZjMzEzNDk0YjM0MTY3Nzg1YjM3MTAyZTgwOWQw","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-04-02T01:27:10Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-02T01:27:10Z"},"message":"Make CRC32C_HASH a final static variable and log when we cannot use native crc32c library\n\nFor CRC32c there is a marked performance difference when the JNI library is available versus when it's not, since the fallback involves creating many `ByteBuffer`s and copy payloads.\n\nAdditionally we should set the static variable to `final` so the optimizer can get rid of the `(CRC32C_HASH instanceof Sse42Crc32C)` checks.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1303 from merlimat/crc-final","tree":{"sha":"e9b3d85af9f51e6f6bf5d3133ad24e1e3774c042","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e9b3d85af9f51e6f6bf5d3133ad24e1e3774c042"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/678b88ca8e7fc313494b34167785b37102e809d0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/678b88ca8e7fc313494b34167785b37102e809d0","html_url":"https://github.com/apache/bookkeeper/commit/678b88ca8e7fc313494b34167785b37102e809d0","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/678b88ca8e7fc313494b34167785b37102e809d0/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"f5b4b7866f34939b5cfa96bbdd3ff26a376c9677","url":"https://api.github.com/repos/apache/bookkeeper/commits/f5b4b7866f34939b5cfa96bbdd3ff26a376c9677","html_url":"https://github.com/apache/bookkeeper/commit/f5b4b7866f34939b5cfa96bbdd3ff26a376c9677"}]},{"sha":"f5b4b7866f34939b5cfa96bbdd3ff26a376c9677","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmNWI0Yjc4NjZmMzQ5MzliNWNmYTk2YmJkZDNmZjI2YTM3NmM5Njc3","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-04-02T01:26:11Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-04-02T01:26:11Z"},"message":"Minimize number of thread local instances in CRC32CDigestManager\n\nCRC32CDigestManager uses thread local to store the current crc value (since the crc is computed on the headers and then on the payload).\n\nOne issue is that the thread local instances are per-ledger and are never cleaned up from the thread local storage. As new ledgers get used, we'd have more memory used there.\n\nFor digest we really need 1 single variable\n\nChanges:\n * Use Netty FastThreadLocal instead of JDK ThreadLocal\n * Made the thread local variable static, since one thread is computing the checksum for an entry of a given ledge, before moving to next entry.\n * Minimized thread local `.get()` access since it's more expensive than regular variable access.\n * Removed the usage of `isNewCrc` since initial value for crc32c (as well as crc32) is 0\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1306 from merlimat/impro-crc32c","tree":{"sha":"0729c6234e289d3d46eb69fddd12e94d88566455","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/0729c6234e289d3d46eb69fddd12e94d88566455"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f5b4b7866f34939b5cfa96bbdd3ff26a376c9677","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f5b4b7866f34939b5cfa96bbdd3ff26a376c9677","html_url":"https://github.com/apache/bookkeeper/commit/f5b4b7866f34939b5cfa96bbdd3ff26a376c9677","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f5b4b7866f34939b5cfa96bbdd3ff26a376c9677/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"9df8dac295c875ee3395d78a2bab3cda0c3c9ddd","url":"https://api.github.com/repos/apache/bookkeeper/commits/9df8dac295c875ee3395d78a2bab3cda0c3c9ddd","html_url":"https://github.com/apache/bookkeeper/commit/9df8dac295c875ee3395d78a2bab3cda0c3c9ddd"}]},{"sha":"9df8dac295c875ee3395d78a2bab3cda0c3c9ddd","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5ZGY4ZGFjMjk1Yzg3NWVlMzM5NWQ3OGEyYmFiM2NkYTBjM2M5ZGRk","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-03-29T23:04:37Z"},"committer":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-03-29T23:04:37Z"},"message":"Avoid acquiring closeLock.readLock() on every add/read operation\n\nIn the `BookieClient`, we are always acquiring a readlock when grabbing a connection to use for sending a write/read request.\n\nThe lock is the `closeLock` and it's only acquired in \"write\" mode when the `BookKeeper` instance is closed.\n\nThe problem with the read-lock is that it introduces contention between the threads that are acquiring it (even if all of them in read mode). Multiple threads can be be in read mode in the critical section, though they have contention when they're entering/exiting the section.\n\nAdditionally, the Java implementation of read/write lock is creating and destroying a lot of objects when that contention happens.\n\nMy understanding of the code is that we don't need to acquire the read lock in that point. The reason is that, we are already acquiring the lock in the `lookupClient()` method, although only if the pool is null. Additionally, when `Bookkeeper.close()` is invoked all PCBC will be set to closed as well, so it will not be possibile to create a new connection.\n\nAll the line changes in the patch are just removing the readLock acquire and try/finally, and reducing the indentation level.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1292 from merlimat/bookie-client-rw-lock and squashes the following commits:\n\n2104a3aa7 [Matteo Merli] Converted anonymous classes into lambdas\ncabad14e5 [Matteo Merli] Avoid acquiring closeLock.readLock() on every add/read operation","tree":{"sha":"a40ef6bac4d902ea0d08b1976477bb57a125f371","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/a40ef6bac4d902ea0d08b1976477bb57a125f371"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9df8dac295c875ee3395d78a2bab3cda0c3c9ddd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9df8dac295c875ee3395d78a2bab3cda0c3c9ddd","html_url":"https://github.com/apache/bookkeeper/commit/9df8dac295c875ee3395d78a2bab3cda0c3c9ddd","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9df8dac295c875ee3395d78a2bab3cda0c3c9ddd/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"parents":[{"sha":"d8c95885136b46013ae942b3d32ae0ea66866dd2","url":"https://api.github.com/repos/apache/bookkeeper/commits/d8c95885136b46013ae942b3d32ae0ea66866dd2","html_url":"https://github.com/apache/bookkeeper/commit/d8c95885136b46013ae942b3d32ae0ea66866dd2"}]},{"sha":"d8c95885136b46013ae942b3d32ae0ea66866dd2","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkOGM5NTg4NTEzNmI0NjAxM2FlOTQyYjNkMzJhZTBlYTY2ODY2ZGQy","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-03-29T13:17:15Z"},"committer":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2018-03-29T13:17:15Z"},"message":"Use reflection based CRC32 to pass direct memory pointer\n\nThe crc update with the bytebuffer is very expensive, especially in netty > 4.1.12.\n\n```java\ncrc.get().update(data.nioBuffer());\n```\n\nConverting a direct`ByteBuf` into a `ByteBuffer` with `data.nioBuffer()` is actually resorting to allocating an unpooled `DirectByteBuffer` which is actually killing the GC (since direct memory is freed when the `DirectByteBuffer` instances are GCed, but the pauses are > 1 second).\n\nThis is an adaptation of a change from Yahoo branch at https://github.com/yahoo/bookkeeper/commit/6c01ca2921a998f3bf2e85cacb27867773e7ea28\n\nInitially I though this change was not needed anymore in 4.7 codebase, and that is true for the CRC32c variant. For the regular CRC32, though, we need to avoid the bad behavior of unpooled direct buffers.\n\nAdditionally, as in #1306, the thread local variable was made static to avoid the leakage of instances per each ledger.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Jia Zhai <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1307 from merlimat/crc32-bytebuffer and squashes the following commits:\n\n8b81245a0 [Matteo Merli] Made classed package private\na7ff1573f [Matteo Merli] Use reflection based CRC32 to pass direct memory pointer","tree":{"sha":"073806881c6d428f1f430991d6503cabb55c35e9","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/073806881c6d428f1f430991d6503cabb55c35e9"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/d8c95885136b46013ae942b3d32ae0ea66866dd2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/d8c95885136b46013ae942b3d32ae0ea66866dd2","html_url":"https://github.com/apache/bookkeeper/commit/d8c95885136b46013ae942b3d32ae0ea66866dd2","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/d8c95885136b46013ae942b3d32ae0ea66866dd2/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"parents":[{"sha":"2bd24b7bbd531261bb5ca203b02575b1b1eb4890","url":"https://api.github.com/repos/apache/bookkeeper/commits/2bd24b7bbd531261bb5ca203b02575b1b1eb4890","html_url":"https://github.com/apache/bookkeeper/commit/2bd24b7bbd531261bb5ca203b02575b1b1eb4890"}]},{"sha":"2bd24b7bbd531261bb5ca203b02575b1b1eb4890","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyYmQyNGI3YmJkNTMxMjYxYmI1Y2EyMDNiMDI1NzViMWIxZWI0ODkw","commit":{"author":{"name":"cguttapalem","email":"cguttapalem@salesforce.com","date":"2018-03-29T05:19:37Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-29T05:19:37Z"},"message":"Issue #1282: call to appendLedgersMap in flushCompactionLog\n\nDescriptions of the changes in this PR:\n\nwith this change https://github.com/apache/bookkeeper/commit/3392beee5c70abe36d36604723e14d97b7764be9 compactionlog was introduced. But for compactionlog call to appendLedgersMap (// Append ledgers map at the end of entry log) isn't made.\n\nSo for these logs, getEntryLogMetadata call has to call extractEntryLogMetadataByScanning for getting the metadata of entrylog. Which is a perf hit.\n\nMaster Issue: #1282\n\nAuthor: cguttapalem <cguttapalem@salesforce.com>\n\nReviewers: Yiming Zang <yzang2016@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1283 from reddycharan/compactionlogfix, closes #1282","tree":{"sha":"1a0524cf732752dedea6d5ee85199d5224e89d9e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/1a0524cf732752dedea6d5ee85199d5224e89d9e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2bd24b7bbd531261bb5ca203b02575b1b1eb4890","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2bd24b7bbd531261bb5ca203b02575b1b1eb4890","html_url":"https://github.com/apache/bookkeeper/commit/2bd24b7bbd531261bb5ca203b02575b1b1eb4890","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2bd24b7bbd531261bb5ca203b02575b1b1eb4890/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"db713f32c24cc9345d8b813aeef9d079b254d16a","url":"https://api.github.com/repos/apache/bookkeeper/commits/db713f32c24cc9345d8b813aeef9d079b254d16a","html_url":"https://github.com/apache/bookkeeper/commit/db713f32c24cc9345d8b813aeef9d079b254d16a"}]},{"sha":"db713f32c24cc9345d8b813aeef9d079b254d16a","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkYjcxM2YzMmMyNGNjOTM0NWQ4YjgxM2FlZWY5ZDA3OWIyNTRkMTZh","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-29T05:17:00Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-29T05:17:00Z"},"message":"[DLOG] use Atomic***FieldUpdater and LongAdder if possible\n\nDescriptions of the changes in this PR:\n\nAtomicFieldUpdater + volatile provides similar guarantees as Atomic but use much fewer memory.\nIn dlog, when handling large number of streams, there can be a lot of Atomic fields with `LogHandler`, `SegmentWriter` and such.\nSwitching using Atomic to using AtomicFieldUpdater + volatile will save a lot of memory. See [details](http://normanmaurer.me/blog/2013/10/28/Lesser-known-concurrent-classes-Part-1/)\n\nLongAdder is less contended across threads, which is more preferable to AtomicLong when multiple threads update a common sum. E.g. SampledMovingAverageRate.\nSwitching to use LongAdder if AtomicLong is not needed. See [details](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html)\n\nMaster Issue: #<master-issue-number>\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Philip Su <psu@twitter.com>\n\nThis closes #1299 from sijie/use_atomic_field_updater","tree":{"sha":"d6e46786e9a2e3209210fb3adf29f7c16e4e2c40","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d6e46786e9a2e3209210fb3adf29f7c16e4e2c40"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/db713f32c24cc9345d8b813aeef9d079b254d16a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/db713f32c24cc9345d8b813aeef9d079b254d16a","html_url":"https://github.com/apache/bookkeeper/commit/db713f32c24cc9345d8b813aeef9d079b254d16a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/db713f32c24cc9345d8b813aeef9d079b254d16a/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"c36cf2b8263ccea9e1c21ac36ff0d9aebd3a88a3","url":"https://api.github.com/repos/apache/bookkeeper/commits/c36cf2b8263ccea9e1c21ac36ff0d9aebd3a88a3","html_url":"https://github.com/apache/bookkeeper/commit/c36cf2b8263ccea9e1c21ac36ff0d9aebd3a88a3"}]},{"sha":"c36cf2b8263ccea9e1c21ac36ff0d9aebd3a88a3","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjMzZjZjJiODI2M2NjZWE5ZTFjMjFhYzM2ZmYwZDlhZWJkM2E4OGEz","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-29T05:12:08Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-29T05:12:08Z"},"message":"[DLOG] Fix TestZKLogStreamMetadataStore\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\nAll test cases in `TestZKLogStreamMetadataStore` share same zookeeper cluster. so if the tests\nrun before `testGetMissingPathsRecursive` runs, they might create the missing path components\nfor `testGetMissingPathsRecursive`, which will fail the assertion in `testGetMissingPathsRecursive`\n\n*Solution*\n\nAdd unique suffix to \"/path\" for each test case to avoid conflicts\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Yiming Zang <yzang2016@gmail.com>, Jia Zhai <zhaijia@apache.org>, Philip Su <psu@twitter.com>\n\nThis closes #1300 from sijie/fix_zk_log_stream_metadata_store","tree":{"sha":"2abc70324cc5b6b141a34eb766ec467e3c9a6fbb","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2abc70324cc5b6b141a34eb766ec467e3c9a6fbb"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c36cf2b8263ccea9e1c21ac36ff0d9aebd3a88a3","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c36cf2b8263ccea9e1c21ac36ff0d9aebd3a88a3","html_url":"https://github.com/apache/bookkeeper/commit/c36cf2b8263ccea9e1c21ac36ff0d9aebd3a88a3","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c36cf2b8263ccea9e1c21ac36ff0d9aebd3a88a3/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"23d1e61c5a7fdb41ffc8ada3618cd0f9cae21103","url":"https://api.github.com/repos/apache/bookkeeper/commits/23d1e61c5a7fdb41ffc8ada3618cd0f9cae21103","html_url":"https://github.com/apache/bookkeeper/commit/23d1e61c5a7fdb41ffc8ada3618cd0f9cae21103"}]},{"sha":"23d1e61c5a7fdb41ffc8ada3618cd0f9cae21103","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyM2QxZTYxYzVhN2ZkYjQxZmZjOGFkYTM2MThjZDBmOWNhZTIxMTAz","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-03-29T05:10:31Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-29T05:10:31Z"},"message":"Drop MD5 signatures from Release Guide and add a reference to git sha in VOTE email template\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\n\nReviewers: Jia Zhai <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1301 from eolivelli/drop-md5-release-guide","tree":{"sha":"cf75a90da4a1a8711da9bb0a67a8f2d95003bdc4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/cf75a90da4a1a8711da9bb0a67a8f2d95003bdc4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/23d1e61c5a7fdb41ffc8ada3618cd0f9cae21103","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/23d1e61c5a7fdb41ffc8ada3618cd0f9cae21103","html_url":"https://github.com/apache/bookkeeper/commit/23d1e61c5a7fdb41ffc8ada3618cd0f9cae21103","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/23d1e61c5a7fdb41ffc8ada3618cd0f9cae21103/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7149789b03d392cd7aabc4bb2b07186d657f5986","url":"https://api.github.com/repos/apache/bookkeeper/commits/7149789b03d392cd7aabc4bb2b07186d657f5986","html_url":"https://github.com/apache/bookkeeper/commit/7149789b03d392cd7aabc4bb2b07186d657f5986"}]},{"sha":"7149789b03d392cd7aabc4bb2b07186d657f5986","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3MTQ5Nzg5YjAzZDM5MmNkN2FhYmM0YmIyYjA3MTg2ZDY1N2Y1OTg2","commit":{"author":{"name":"eolivelli","email":"eolivelli@apache.org","date":"2018-03-29T05:09:37Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-29T05:09:37Z"},"message":"Remove references to md5 checksums in download page\n\nAccording to current ASF suggestions, it is better to stop signing release with MD5, so we need to drop the links in the download page.\n\nSee paragraph which states \"MD5 hashes are deprecated; please use SHA for new release\" at https://www.apache.org/dev/release-signing.html\n\nAuthor: eolivelli <eolivelli@apache.org>\n\nReviewers: Jia Zhai <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1302 from eolivelli/dropmd5-download","tree":{"sha":"03f6c3692193a82e1519e75027cf8f9dbff5a43a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/03f6c3692193a82e1519e75027cf8f9dbff5a43a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7149789b03d392cd7aabc4bb2b07186d657f5986","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7149789b03d392cd7aabc4bb2b07186d657f5986","html_url":"https://github.com/apache/bookkeeper/commit/7149789b03d392cd7aabc4bb2b07186d657f5986","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7149789b03d392cd7aabc4bb2b07186d657f5986/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"31b7db6dffd1eb3169e4304c9864462f56866fc9","url":"https://api.github.com/repos/apache/bookkeeper/commits/31b7db6dffd1eb3169e4304c9864462f56866fc9","html_url":"https://github.com/apache/bookkeeper/commit/31b7db6dffd1eb3169e4304c9864462f56866fc9"}]},{"sha":"31b7db6dffd1eb3169e4304c9864462f56866fc9","node_id":"MDY6Q29tbWl0MTU3NTk1NjozMWI3ZGI2ZGZmZDFlYjMxNjllNDMwNGM5ODY0NDYyZjU2ODY2ZmM5","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-03-28T06:33:01Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-28T06:33:01Z"},"message":"Added executeOrdered to complement submitOrdered\n\nIn many cases, we are not interested in the `ListenableFuture` returned by `submitOrdered()` call. In these cases we can avoid creating the future object which will be ignored by calling the `execute()` instead of `submit()` on the underlying executor.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1290 from merlimat/execute-ordered","tree":{"sha":"e859d9c670ffde5521c3c8a219b52d1659e9b55f","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e859d9c670ffde5521c3c8a219b52d1659e9b55f"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/31b7db6dffd1eb3169e4304c9864462f56866fc9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/31b7db6dffd1eb3169e4304c9864462f56866fc9","html_url":"https://github.com/apache/bookkeeper/commit/31b7db6dffd1eb3169e4304c9864462f56866fc9","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/31b7db6dffd1eb3169e4304c9864462f56866fc9/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"837b94429d8aac3c00b4d7f846a3ba770965f6ab","url":"https://api.github.com/repos/apache/bookkeeper/commits/837b94429d8aac3c00b4d7f846a3ba770965f6ab","html_url":"https://github.com/apache/bookkeeper/commit/837b94429d8aac3c00b4d7f846a3ba770965f6ab"}]},{"sha":"837b94429d8aac3c00b4d7f846a3ba770965f6ab","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4MzdiOTQ0MjlkOGFhYzNjMDBiNGQ3Zjg0NmEzYmE3NzA5NjVmNmFi","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-03-28T06:27:45Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-28T06:27:45Z"},"message":"Create 4.6.2 documentation stub\n\nThis change prepares the directory structure for docs of 4.6.2. New pages are not linked from menu.\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\n\nReviewers: Jia Zhai <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #1296 from eolivelli/fix/copy-website-462","tree":{"sha":"cbf471969b92d6045f5412b4e43bef91d4e8ab7e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/cbf471969b92d6045f5412b4e43bef91d4e8ab7e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/837b94429d8aac3c00b4d7f846a3ba770965f6ab","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/837b94429d8aac3c00b4d7f846a3ba770965f6ab","html_url":"https://github.com/apache/bookkeeper/commit/837b94429d8aac3c00b4d7f846a3ba770965f6ab","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/837b94429d8aac3c00b4d7f846a3ba770965f6ab/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"c1947c7b7d7c0a6736b2a35511b5f70072c12972","url":"https://api.github.com/repos/apache/bookkeeper/commits/c1947c7b7d7c0a6736b2a35511b5f70072c12972","html_url":"https://github.com/apache/bookkeeper/commit/c1947c7b7d7c0a6736b2a35511b5f70072c12972"}]},{"sha":"c1947c7b7d7c0a6736b2a35511b5f70072c12972","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjMTk0N2M3YjdkN2MwYTY3MzZiMmEzNTUxMWI1ZjcwMDcyYzEyOTcy","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2018-03-28T06:25:00Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-28T06:25:00Z"},"message":"Add sync variants of all methods in handles\n\nAs discussed on the mailing list [1], this patch removes the\ninconsistency around the naming of the close call on the new handle\nAPIs, by creating sync versions of each async calls, and renaming the\nasync versions to have the suffix \"Async\".\n\nMost of the changes are very mechanical - just a copy of the old\nmethod and some small fixups the javadoc. One thing to note is that\nI've made a copy of the close and closeAsync methods in the\nWriteHandle interface, so that the ReadHandle and Handle javadoc for\nthese methods do not have to talk about what it means to close/seal a\nledger.\n\nAnother change is that I've removed the SneakyThrows from close, that\nwould have also been needed on the other sync methods. Instead, I pass a\nexception handler to FutureUtils which generates a BKException.\n\n[1] https://lists.apache.org/thread.html/c3784cffb949438510d21e5eac8c0351865c6748c42c380e673a60db%3Cdev.bookkeeper.apache.org%3E\n\nAuthor: Ivan Kelly <ivank@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1288 from ivankelly/async-rename","tree":{"sha":"401ee864fc16409944371823b539d7cc98a1a1f0","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/401ee864fc16409944371823b539d7cc98a1a1f0"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c1947c7b7d7c0a6736b2a35511b5f70072c12972","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c1947c7b7d7c0a6736b2a35511b5f70072c12972","html_url":"https://github.com/apache/bookkeeper/commit/c1947c7b7d7c0a6736b2a35511b5f70072c12972","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c1947c7b7d7c0a6736b2a35511b5f70072c12972/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"52cefcfae654e317f341a58da0d0a07e902eefa3","url":"https://api.github.com/repos/apache/bookkeeper/commits/52cefcfae654e317f341a58da0d0a07e902eefa3","html_url":"https://github.com/apache/bookkeeper/commit/52cefcfae654e317f341a58da0d0a07e902eefa3"}]},{"sha":"52cefcfae654e317f341a58da0d0a07e902eefa3","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1MmNlZmNmYWU2NTRlMzE3ZjM0MWE1OGRhMGQwYTA3ZTkwMmVlZmEz","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-27T17:29:45Z"},"committer":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2018-03-27T17:29:45Z"},"message":"Issue #1287: NPE at DNS.reverse\n\nDescriptions of the changes in this PR:\n\n*Problem*\n\nNull value can be returned on retrieving attributes.\n\n*Solution*\n\nIf null value is returned, throw NamingException so cached localhost name is used.\n\nMaster Issue: #1287\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1295 from sijie/fix_dns_reverse, closes #1287","tree":{"sha":"b413c4dd813279fe63ce3e03af93e7d2cde14c36","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b413c4dd813279fe63ce3e03af93e7d2cde14c36"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/52cefcfae654e317f341a58da0d0a07e902eefa3","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/52cefcfae654e317f341a58da0d0a07e902eefa3","html_url":"https://github.com/apache/bookkeeper/commit/52cefcfae654e317f341a58da0d0a07e902eefa3","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/52cefcfae654e317f341a58da0d0a07e902eefa3/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"a36f1ab88034d6b1bdfe75e725886c2e8cca1e85","url":"https://api.github.com/repos/apache/bookkeeper/commits/a36f1ab88034d6b1bdfe75e725886c2e8cca1e85","html_url":"https://github.com/apache/bookkeeper/commit/a36f1ab88034d6b1bdfe75e725886c2e8cca1e85"}]},{"sha":"a36f1ab88034d6b1bdfe75e725886c2e8cca1e85","node_id":"MDY6Q29tbWl0MTU3NTk1NjphMzZmMWFiODgwMzRkNmIxYmRmZTc1ZTcyNTg4NmMyZThjY2ExZTg1","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-03-26T09:40:26Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@apache.org","date":"2018-03-26T09:40:26Z"},"message":"Implement directly ChannelOutboundHandlerAdapter in BookieProtoEncoding#ResponseEncoder\n\nThis change is mostly a clean up/refactor which drops intermediate MessageToMessageEncoder and MessageToMessageDecoder from BookieProtoEncoding\n\nAuthor: Enrico Olivelli <eolivelli@apache.org>\nAuthor: Enrico Olivelli <eolivelli@gmail.com>\n\nReviewers: Ivan Kelly <ivank@apache.org>, Jia Zhai <None>\n\nThis closes #1286 from eolivelli/fix/java9-response-corrupted","tree":{"sha":"b5d0ce153ccb483e8c364bbc7de47b0f8ba55e9a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b5d0ce153ccb483e8c364bbc7de47b0f8ba55e9a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/a36f1ab88034d6b1bdfe75e725886c2e8cca1e85","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/a36f1ab88034d6b1bdfe75e725886c2e8cca1e85","html_url":"https://github.com/apache/bookkeeper/commit/a36f1ab88034d6b1bdfe75e725886c2e8cca1e85","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/a36f1ab88034d6b1bdfe75e725886c2e8cca1e85/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"4fe823ba19b86abecaf575b009c55b5d8da51b90","url":"https://api.github.com/repos/apache/bookkeeper/commits/4fe823ba19b86abecaf575b009c55b5d8da51b90","html_url":"https://github.com/apache/bookkeeper/commit/4fe823ba19b86abecaf575b009c55b5d8da51b90"}]},{"sha":"4fe823ba19b86abecaf575b009c55b5d8da51b90","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0ZmU4MjNiYTE5Yjg2YWJlY2FmNTc1YjAwOWM1NWI1ZDhkYTUxYjkw","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-03-24T21:42:28Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-24T21:42:28Z"},"message":"Refactored logAndConvertStatus() to avoid allocation when debug is off\n\nThe method `logAndConvertStatus(StatusCode status, int defaultStatus, Object... extraInfo)` is being called when processing the response for each write/read request in `PerChannelBookieClient`.\n\nThe logging is only done at debug level and the `extraInfo` is not used otherwise. By taking the `Object...` we're effectively taking a `Object[]` that is allocated each time, along with the boxing for ledgerId/entryId.\n\nRefactored the code separate the logging and the status code conversion, so that we can skip the allocation when debug is off.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1291 from merlimat/log-and-convert-status","tree":{"sha":"eaf904e9d87686872870ecfbe44f98485c438197","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/eaf904e9d87686872870ecfbe44f98485c438197"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/4fe823ba19b86abecaf575b009c55b5d8da51b90","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/4fe823ba19b86abecaf575b009c55b5d8da51b90","html_url":"https://github.com/apache/bookkeeper/commit/4fe823ba19b86abecaf575b009c55b5d8da51b90","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/4fe823ba19b86abecaf575b009c55b5d8da51b90/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1bd2c0eef3af8810e70116633b95c4133183d873","url":"https://api.github.com/repos/apache/bookkeeper/commits/1bd2c0eef3af8810e70116633b95c4133183d873","html_url":"https://github.com/apache/bookkeeper/commit/1bd2c0eef3af8810e70116633b95c4133183d873"}]},{"sha":"1bd2c0eef3af8810e70116633b95c4133183d873","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxYmQyYzBlZWYzYWY4ODEwZTcwMTE2NjMzYjk1YzQxMzMxODNkODcz","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-24T21:41:42Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-24T21:41:42Z"},"message":"Improve FileInfoBackingCache\n\nDescriptions of the changes in this PR:\n\nThere are a couple of issues noticed in FileInfoBackingCache:\n\n1) There is a race condition in loadFileInfo between get-check and put. If concurrent loading happens, there might be a FileInfo loaded into the map after get-check. This can cause incorrect reference count on FileInfo.\n\n2) FileLoader is doing I/O operation which happens under a giant write lock.\n\n3) assert is typically not recommended since it is disabled at production runtime typically.\n\n*Changes*\n\n- Check whether fileinfo exists or not after getting write lock and before put\n- Move any I/O operations out of write lock\n- release the new FileInfo if concurrent puts happen\n- remove the usage of assert\n\nBeside that, switch to use ConcurrentLongHashMap to avoid boxing and unboxing.\n\nRelated Issues:\n\n#913 #832\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Ivan Kelly <ivank@apache.org>\n\nThis closes #1284 from sijie/improve_fileinfo_backing_cache","tree":{"sha":"f7d48cb6e659744fe166df25de97838864e3f639","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f7d48cb6e659744fe166df25de97838864e3f639"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1bd2c0eef3af8810e70116633b95c4133183d873","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1bd2c0eef3af8810e70116633b95c4133183d873","html_url":"https://github.com/apache/bookkeeper/commit/1bd2c0eef3af8810e70116633b95c4133183d873","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1bd2c0eef3af8810e70116633b95c4133183d873/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"dffca1ab4c75f977e6cf96a632fda448b52c46b8","url":"https://api.github.com/repos/apache/bookkeeper/commits/dffca1ab4c75f977e6cf96a632fda448b52c46b8","html_url":"https://github.com/apache/bookkeeper/commit/dffca1ab4c75f977e6cf96a632fda448b52c46b8"}]},{"sha":"dffca1ab4c75f977e6cf96a632fda448b52c46b8","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkZmZjYTFhYjRjNzVmOTc3ZTZjZjk2YTYzMmZkYTQ0OGI1MmM0NmI4","commit":{"author":{"name":"dmsergeevp44","email":"32652957+dmsergeevp44@users.noreply.github.com","date":"2018-03-23T03:14:53Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-23T03:14:53Z"},"message":"Fixed typos in README.md\n\nAuthor: dmsergeevp44 <32652957+dmsergeevp44@users.noreply.github.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1285 from dmsergeevp44/patch-1","tree":{"sha":"74181bb9c7dc908830b21a67e2afe069682aeebb","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/74181bb9c7dc908830b21a67e2afe069682aeebb"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/dffca1ab4c75f977e6cf96a632fda448b52c46b8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/dffca1ab4c75f977e6cf96a632fda448b52c46b8","html_url":"https://github.com/apache/bookkeeper/commit/dffca1ab4c75f977e6cf96a632fda448b52c46b8","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/dffca1ab4c75f977e6cf96a632fda448b52c46b8/comments","author":null,"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1496ebf8cd0753a92be384e019b7ed6ec03e1ad8","url":"https://api.github.com/repos/apache/bookkeeper/commits/1496ebf8cd0753a92be384e019b7ed6ec03e1ad8","html_url":"https://github.com/apache/bookkeeper/commit/1496ebf8cd0753a92be384e019b7ed6ec03e1ad8"}]},{"sha":"1496ebf8cd0753a92be384e019b7ed6ec03e1ad8","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxNDk2ZWJmOGNkMDc1M2E5MmJlMzg0ZTAxOWI3ZWQ2ZWMwM2UxYWQ4","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-03-22T06:17:48Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-22T06:17:48Z"},"message":"Improve write rejection in DbLedgerStorage\n\nThis PR contain 2 changes that are much related to each other.\n\n1. Changed DbLedgerStorage write cache read-write lock into a `StampedLock`\n   Main reason for using `StampedLock` is that this lock is always taken as a \"read\" lock, when putting entries in the the cache. It is protecting for the swapping of the write cache when the flush is triggered. Most of the time, we have many threads acquiring the read-lock. `StampedLock` is better in this scenario because there isn't any contention in the optimistic path (just a double volatile read).\n\n2. Have a configurable throttle timing when the write cache is really full.\n    If we try to write faster than we can put data in the storage device, eventually both write caches will get full and we have to throttle writes. Added here a setting to configure the amount of time to block the thread (who's calling `Bookie.addEntry()`, it could be IO thread or a addEntryWorker depending on configuration).\n   After the timeout, if we still weren't able to flush the write cache and insert the current entry, bookie will reject the write operation, without logging but rather using a counter to keep track of it.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1280 from merlimat/db-storage-stamped-lock","tree":{"sha":"11da5fee271d49dc981f813b0b1c569d03ac7c53","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/11da5fee271d49dc981f813b0b1c569d03ac7c53"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1496ebf8cd0753a92be384e019b7ed6ec03e1ad8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1496ebf8cd0753a92be384e019b7ed6ec03e1ad8","html_url":"https://github.com/apache/bookkeeper/commit/1496ebf8cd0753a92be384e019b7ed6ec03e1ad8","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1496ebf8cd0753a92be384e019b7ed6ec03e1ad8/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"6edbdd905dbb1a20a7e9282047c6a255d1e9f527","url":"https://api.github.com/repos/apache/bookkeeper/commits/6edbdd905dbb1a20a7e9282047c6a255d1e9f527","html_url":"https://github.com/apache/bookkeeper/commit/6edbdd905dbb1a20a7e9282047c6a255d1e9f527"}]},{"sha":"6edbdd905dbb1a20a7e9282047c6a255d1e9f527","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2ZWRiZGQ5MDVkYmIxYTIwYTdlOTI4MjA0N2M2YTI1NWQxZTlmNTI3","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-03-21T00:02:39Z"},"committer":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2018-03-21T00:02:39Z"},"message":"Fixed DbStorage write cache segment index computation\n\nWhen the write cache was merged from `yahoo-4.3` branch into master, an improvement went in around computing the the write cache segment index (doing shift instead of division) and that introduced a problem.\n\nThe write cache is broken into multiple segments (since buffers in JVM can only be at most 2GB). By default we use 1GB segments (or smaller if the write cache is overall smaller).\n\nBecause the shift count was wrong, the entries in the first segment were being ovrridden by entries in the 2nd segment (entries in the other segments were all fine).\n\nThat would lead to write some garbage in the entry log and subsequent read failures.\n\nAuthor: Matteo Merli <mmerli@apache.org>\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1279 from merlimat/fix-write-cache-segment-index","tree":{"sha":"facfc2d332063d952c7576dc569dae22afd3a16c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/facfc2d332063d952c7576dc569dae22afd3a16c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6edbdd905dbb1a20a7e9282047c6a255d1e9f527","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6edbdd905dbb1a20a7e9282047c6a255d1e9f527","html_url":"https://github.com/apache/bookkeeper/commit/6edbdd905dbb1a20a7e9282047c6a255d1e9f527","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6edbdd905dbb1a20a7e9282047c6a255d1e9f527/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"parents":[{"sha":"c4a4318fcd308351b66c39599187c2e79fb0687a","url":"https://api.github.com/repos/apache/bookkeeper/commits/c4a4318fcd308351b66c39599187c2e79fb0687a","html_url":"https://github.com/apache/bookkeeper/commit/c4a4318fcd308351b66c39599187c2e79fb0687a"}]},{"sha":"c4a4318fcd308351b66c39599187c2e79fb0687a","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjNGE0MzE4ZmNkMzA4MzUxYjY2YzM5NTk5MTg3YzJlNzlmYjA2ODdh","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-20T14:54:40Z"},"committer":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2018-03-20T14:54:40Z"},"message":"Implement `toString` method for CheckpointList and BufferedLogChannel\n\nDescriptions of the changes in this PR:\n\n```\nFlushing entry logger 102 back to filesystem, pending for syncing entry loggers : [org.apache.bookkeeper.bookie.EntryLogger$BufferedLogChannel7d98c184].\n\norg.apache.bookkeeper.bookie.SortedLedgerStorage - Reached size org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointListd2c00ea5\n```\n\n`CheckpointList` and `BufferedLogChannel` is missing `toString` implementation.\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <None>\n\nThis closes #1278 from sijie/fix_tostring_issue","tree":{"sha":"547a79d0a565eb66b6be904254e1458b91607ccb","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/547a79d0a565eb66b6be904254e1458b91607ccb"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c4a4318fcd308351b66c39599187c2e79fb0687a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c4a4318fcd308351b66c39599187c2e79fb0687a","html_url":"https://github.com/apache/bookkeeper/commit/c4a4318fcd308351b66c39599187c2e79fb0687a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c4a4318fcd308351b66c39599187c2e79fb0687a/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"parents":[{"sha":"61ed8a697e9c1f6edbd8996819f602f6ca79920d","url":"https://api.github.com/repos/apache/bookkeeper/commits/61ed8a697e9c1f6edbd8996819f602f6ca79920d","html_url":"https://github.com/apache/bookkeeper/commit/61ed8a697e9c1f6edbd8996819f602f6ca79920d"}]},{"sha":"61ed8a697e9c1f6edbd8996819f602f6ca79920d","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2MWVkOGE2OTdlOWMxZjZlZGJkODk5NjgxOWY2MDJmNmNhNzk5MjBk","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-19T20:13:37Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-19T20:13:37Z"},"message":"Fix ByteBuf leaking at Journal\n\nDescriptions of the changes in this PR:\n\nBufferLogChannel uses a pooled bytebuf for buffering writes. However Journal only closes the underlying log file channel, but it doesn't close buffer log channel, which can cause bytebuf leaking.\n\nThis problem get exposed at #1268\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1275 from sijie/fix_bytebuf_leaking_on_journal","tree":{"sha":"65a6b9c2f1568a5757ba40eac5b1548b1d154777","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/65a6b9c2f1568a5757ba40eac5b1548b1d154777"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/61ed8a697e9c1f6edbd8996819f602f6ca79920d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/61ed8a697e9c1f6edbd8996819f602f6ca79920d","html_url":"https://github.com/apache/bookkeeper/commit/61ed8a697e9c1f6edbd8996819f602f6ca79920d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/61ed8a697e9c1f6edbd8996819f602f6ca79920d/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"6667955cd1fd973f9880831b4b59f525663d5ff8","url":"https://api.github.com/repos/apache/bookkeeper/commits/6667955cd1fd973f9880831b4b59f525663d5ff8","html_url":"https://github.com/apache/bookkeeper/commit/6667955cd1fd973f9880831b4b59f525663d5ff8"}]},{"sha":"6667955cd1fd973f9880831b4b59f525663d5ff8","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2NjY3OTU1Y2QxZmQ5NzNmOTg4MDgzMWI0YjU5ZjUyNTY2M2Q1ZmY4","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-19T17:57:42Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2018-03-19T17:57:42Z"},"message":"Fix logging issue on PendingReadOp\n\nDescriptions of the changes in this PR:\n\n`EntryImpl` is recycled after callback is submitted for a given read op. However the object might be referenced after it is recycled, since read callback can come back after the read op is error-out.\n\nThis doesn't affect any operation or correctness. However it might introduce some confused logging.\n\nThis also got exposed by #1268\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1276 from sijie/fix_recycling_entries","tree":{"sha":"27de9affbd91b14c67fe9c4aa651b8c3abeb4299","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/27de9affbd91b14c67fe9c4aa651b8c3abeb4299"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6667955cd1fd973f9880831b4b59f525663d5ff8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6667955cd1fd973f9880831b4b59f525663d5ff8","html_url":"https://github.com/apache/bookkeeper/commit/6667955cd1fd973f9880831b4b59f525663d5ff8","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6667955cd1fd973f9880831b4b59f525663d5ff8/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"c4c8c035df04d702d92b4e57b3fe1e5c1b554afc","url":"https://api.github.com/repos/apache/bookkeeper/commits/c4c8c035df04d702d92b4e57b3fe1e5c1b554afc","html_url":"https://github.com/apache/bookkeeper/commit/c4c8c035df04d702d92b4e57b3fe1e5c1b554afc"}]}]

