[{"sha":"14c9979047bb4ecd30619a9184e446c2e87fec26","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxNGM5OTc5MDQ3YmI0ZWNkMzA2MTlhOTE4NGU0NDZjMmU4N2ZlYzI2","commit":{"author":{"name":"karanmehta93","email":"k.mehta@salesforce.com","date":"2019-10-10T15:31:08Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-10-10T15:31:08Z"},"message":"Add documentation for ByteBuffer lifecycle when adding entries\n\nDescriptions of the changes in this PR:\r\n\r\nAdding documentation for the issue [here](https://github.com/apache/bookkeeper/issues/2138) as discussed [here](https://github.com/apache/bookkeeper/issues/2138#issuecomment-522099668).\r\n\r\nMaster Issue: #2138 \r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2175 from karanmehta93/master","tree":{"sha":"42469c50b22100b6fa0d8a057aedfd02d686b89c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/42469c50b22100b6fa0d8a057aedfd02d686b89c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/14c9979047bb4ecd30619a9184e446c2e87fec26","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/14c9979047bb4ecd30619a9184e446c2e87fec26","html_url":"https://github.com/apache/bookkeeper/commit/14c9979047bb4ecd30619a9184e446c2e87fec26","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/14c9979047bb4ecd30619a9184e446c2e87fec26/comments","author":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"2f996dcf0159f945f7ec97ce7402e5d293009444","url":"https://api.github.com/repos/apache/bookkeeper/commits/2f996dcf0159f945f7ec97ce7402e5d293009444","html_url":"https://github.com/apache/bookkeeper/commit/2f996dcf0159f945f7ec97ce7402e5d293009444"}]},{"sha":"2f996dcf0159f945f7ec97ce7402e5d293009444","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyZjk5NmRjZjAxNTlmOTQ1ZjdlYzk3Y2U3NDAyZTVkMjkzMDA5NDQ0","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-10-02T18:10:16Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-10-02T18:10:16Z"},"message":"Enhance deferLedgerLockReleaseOfFailedLedger in ReplicationWorker\n\nDescriptions of the changes in this PR:\r\n\r\n**Issue:** In the past, ReplicationWorker (RW) retrial logic is enhanced to backoff\r\nreplication after threshold number of replication failures of a ledger. This is\r\nto help in a pathological situation where data (ledger/entry) is unavailable.\r\nBut this is sub-optimal solution, since there is possibility that each RW can\r\ntry recovering a ledger threshold number of times, before a RW defers\r\nledgerLockRelease. Also each time a RW tries to recover it would read entry/fragment\r\nsequentially and writes to new bookies until it finds a missing entry (completely\r\nunavailable) before failing on replication of that ledger. This is done for\r\neach retrial and it bloats the storage and overreplication need to detect and\r\ndelete it, which runs once a day by default. So because of this cluster can\r\nrun out of storage space and may become RO cluster. Also this puts quite a bit of\r\nload on cluster in vain.\r\n\r\n**So the new proposal is to**\r\n- On each RW. remember the state in addition to the counter. State must include the entries which RW failed to read.\r\n- Counter and state must kept around in each RW node. And exponential backup should be used for deferLedgerLockReleaseOfFailedLedger\r\n- During next attempt by RW, try to read the failed entries which is noted in the state. Read must be successful before proceeding replicating.\r\n- With this featureSelection we avoid duplicate copies on each attempt. At the most each RW will create only one copy\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #2166 from reddycharan/enhancereplication","tree":{"sha":"8f1a0ec8aeebc4ae1736b786b2140fc4c66bbbff","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/8f1a0ec8aeebc4ae1736b786b2140fc4c66bbbff"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2f996dcf0159f945f7ec97ce7402e5d293009444","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdlOgICRBK7hj4Ov3rIwAAdHIIAKdf8sL+BbmccmaQunM8Prs+\nOxANHafqJ4EP7gLfkWIyS/6Mc8Cq2Eu9lVQ3SZ2E6bneGzZtpHnQC401QH4Bksog\niDxZd90NrLn5UU5kj7NQnlq8LnqHdxHzvCYjOn+p8e02jkNQd/fsJb7Gg4PkIByI\nPStV+pDZl8xGYSSFXzPRcStKU0GS2R2LIVmhKMt6j2r/1qcuEhIAbI12W2N+u+fP\ni5l8Q5T7u4zvJL6NsB5ZV4+UFKVpfHhDm1N2rkivcDlgYmzuMHq5F1BuwrqxOtwX\nsW3FXxawTRgBWJK2ikKw5Ih6yrxnREMkyV9b8d1W4wspHiscrgXXOCJhnYzzEAo=\n=4jIt\n-----END PGP SIGNATURE-----\n","payload":"tree 8f1a0ec8aeebc4ae1736b786b2140fc4c66bbbff\nparent 1e63d3c83e89d152cb603955e303b5377d8ab8e6\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1570039816 -0700\ncommitter GitHub <noreply@github.com> 1570039816 -0700\n\nEnhance deferLedgerLockReleaseOfFailedLedger in ReplicationWorker\n\nDescriptions of the changes in this PR:\r\n\r\n**Issue:** In the past, ReplicationWorker (RW) retrial logic is enhanced to backoff\r\nreplication after threshold number of replication failures of a ledger. This is\r\nto help in a pathological situation where data (ledger/entry) is unavailable.\r\nBut this is sub-optimal solution, since there is possibility that each RW can\r\ntry recovering a ledger threshold number of times, before a RW defers\r\nledgerLockRelease. Also each time a RW tries to recover it would read entry/fragment\r\nsequentially and writes to new bookies until it finds a missing entry (completely\r\nunavailable) before failing on replication of that ledger. This is done for\r\neach retrial and it bloats the storage and overreplication need to detect and\r\ndelete it, which runs once a day by default. So because of this cluster can\r\nrun out of storage space and may become RO cluster. Also this puts quite a bit of\r\nload on cluster in vain.\r\n\r\n**So the new proposal is to**\r\n- On each RW. remember the state in addition to the counter. State must include the entries which RW failed to read.\r\n- Counter and state must kept around in each RW node. And exponential backup should be used for deferLedgerLockReleaseOfFailedLedger\r\n- During next attempt by RW, try to read the failed entries which is noted in the state. Read must be successful before proceeding replicating.\r\n- With this featureSelection we avoid duplicate copies on each attempt. At the most each RW will create only one copy\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #2166 from reddycharan/enhancereplication"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2f996dcf0159f945f7ec97ce7402e5d293009444","html_url":"https://github.com/apache/bookkeeper/commit/2f996dcf0159f945f7ec97ce7402e5d293009444","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2f996dcf0159f945f7ec97ce7402e5d293009444/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"1e63d3c83e89d152cb603955e303b5377d8ab8e6","url":"https://api.github.com/repos/apache/bookkeeper/commits/1e63d3c83e89d152cb603955e303b5377d8ab8e6","html_url":"https://github.com/apache/bookkeeper/commit/1e63d3c83e89d152cb603955e303b5377d8ab8e6"}]},{"sha":"1e63d3c83e89d152cb603955e303b5377d8ab8e6","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxZTYzZDNjODNlODlkMTUyY2I2MDM5NTVlMzAzYjUzNzdkOGFiOGU2","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2019-10-02T08:05:42Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-10-02T08:05:42Z"},"message":"Avoid throwing exception when doing EntryLogger.internalReadEntry\n\n### Motivation\r\n\r\nIn the refactoring part of #1819, the `internalReadEntry()` behavior was changed into throwing an exception when reading an entry from a different ledger. \r\n\r\nThis is causing a big performance issue when doing read-head from the ledger storage, because we keep reading from the current entry log until we find an entry from a different ledger. \n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2172 from merlimat/read-internal","tree":{"sha":"e2a06f0cf5b05be2036346f2abbaee7d5131f06a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e2a06f0cf5b05be2036346f2abbaee7d5131f06a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1e63d3c83e89d152cb603955e303b5377d8ab8e6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1e63d3c83e89d152cb603955e303b5377d8ab8e6","html_url":"https://github.com/apache/bookkeeper/commit/1e63d3c83e89d152cb603955e303b5377d8ab8e6","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1e63d3c83e89d152cb603955e303b5377d8ab8e6/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"6acb63f91136b5c93bc5a30baf4d06cfaf5eacbf","url":"https://api.github.com/repos/apache/bookkeeper/commits/6acb63f91136b5c93bc5a30baf4d06cfaf5eacbf","html_url":"https://github.com/apache/bookkeeper/commit/6acb63f91136b5c93bc5a30baf4d06cfaf5eacbf"}]},{"sha":"6acb63f91136b5c93bc5a30baf4d06cfaf5eacbf","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2YWNiNjNmOTExMzZiNWM5M2JjNWEzMGJhZjRkMDZjZmFmNWVhY2Jm","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-10-02T08:02:54Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-10-02T08:02:54Z"},"message":"Update bc tests to include versions up to 4.9.x\n\n### Motivation\r\n\r\nWith backward compatibility tests we should cover the compatibility of current version against old versions, current we are only test current version against ancient releases.\r\n\r\nThis change supersedes #1648 from sijie \r\n\r\n### Changes\r\n\r\nChange the list of versions to test clients and bookie upgrade\r\n\r\n\r\n\n\nReviewers: Matteo Merli <mmerli@apache.org>\n\nThis closes #2171 from eolivelli/update_bc_tests","tree":{"sha":"16bb65a1f0f393b66de207dd1af205fb10b396db","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/16bb65a1f0f393b66de207dd1af205fb10b396db"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6acb63f91136b5c93bc5a30baf4d06cfaf5eacbf","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdlFmuCRBK7hj4Ov3rIwAAdHIIAFDOlHqszZLYLw7q4Bnw6NYF\nBmMCa7Kf5F0MI6y9MEeYrfKUHeiCjKuIAkqNFHDdJi8KP6D+K2+QAVax6vPPPQAD\nl3kX69KVDEoO8p1kvJ07hHc0tYtMk1LUT10BiJ93aRyKirit3YqpT6r+ze39RsPu\nzwR9KqftRQzrJ+JisHdbw0THz2CQeMqBBiTWsmI7rKDa8B6ka+tNz3Ar+OvHc1YR\n8BxfCLlLb7xQWaqJis2IMUsCZtms2g7LtyW5w2wXmK2mRZP7neZpTGj0680gdpE6\nzXCFE5aTEi3/Duonpv1vxjvE3VDLULNvuKSTBHJNSNjy9r+B0wZ89azF8NgzHwU=\n=cJBn\n-----END PGP SIGNATURE-----\n","payload":"tree 16bb65a1f0f393b66de207dd1af205fb10b396db\nparent 7071dac225cb2e4924e4c1e75225e572270a7135\nauthor Enrico Olivelli <eolivelli@gmail.com> 1570003374 +0200\ncommitter GitHub <noreply@github.com> 1570003374 +0200\n\nUpdate bc tests to include versions up to 4.9.x\n\n### Motivation\r\n\r\nWith backward compatibility tests we should cover the compatibility of current version against old versions, current we are only test current version against ancient releases.\r\n\r\nThis change supersedes #1648 from sijie \r\n\r\n### Changes\r\n\r\nChange the list of versions to test clients and bookie upgrade\r\n\r\n\r\n\n\nReviewers: Matteo Merli <mmerli@apache.org>\n\nThis closes #2171 from eolivelli/update_bc_tests"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6acb63f91136b5c93bc5a30baf4d06cfaf5eacbf","html_url":"https://github.com/apache/bookkeeper/commit/6acb63f91136b5c93bc5a30baf4d06cfaf5eacbf","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6acb63f91136b5c93bc5a30baf4d06cfaf5eacbf/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"7071dac225cb2e4924e4c1e75225e572270a7135","url":"https://api.github.com/repos/apache/bookkeeper/commits/7071dac225cb2e4924e4c1e75225e572270a7135","html_url":"https://github.com/apache/bookkeeper/commit/7071dac225cb2e4924e4c1e75225e572270a7135"}]},{"sha":"7071dac225cb2e4924e4c1e75225e572270a7135","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3MDcxZGFjMjI1Y2IyZTQ5MjRlNGMxZTc1MjI1ZTU3MjI3MGE3MTM1","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-09-27T14:00:55Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-09-27T14:00:55Z"},"message":"Change Python client version to 4.10.0\n\nAccording to the release guide, before cutting a release we have to remove the 'alpha' qualifier from Python client version\n\nReviewers: Ivan Kelly <ivank@apache.org>\n\nThis closes #2163 from eolivelli/fix/python-client","tree":{"sha":"4c1cee87c97a9c243220ef22a086e3bdaaf59e41","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/4c1cee87c97a9c243220ef22a086e3bdaaf59e41"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7071dac225cb2e4924e4c1e75225e572270a7135","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdjhYXCRBK7hj4Ov3rIwAAdHIIAF3ZvvFNFSuu6rxqpbIgf1/G\nvbf+ucbG5vZsouu21kD4Wt96zsXoyNEFWS/eUGdYEcnueP7hzgTNkBrPgHHu6Sdu\nuu4NTJIiP7b/KW2+dj8KTpb0wkSIT6ND3WJizTZa2WuMWY6O8B6N//xMUwBzBhU/\neXR0RYZsXsVzMWatsBoojJvr7q5qmpoP1yo1F2xahhaCrJmnWODXePAwZEaFcKUE\nOrZB3v65WrkADEw7bSz3mmIRy4PC9dLX1bp+D0yrmR1Hu7jcRmruUYKibPrFXy0C\njg8IYY6SDnLrBoKjpUGbenrTFNGrTqKOEZKGpeU4x+ZnxRg2EsBQdIMVxSEw0B0=\n=89NJ\n-----END PGP SIGNATURE-----\n","payload":"tree 4c1cee87c97a9c243220ef22a086e3bdaaf59e41\nparent cc9d66aa1826f8d583a9b939a9840657877ed275\nauthor Enrico Olivelli <eolivelli@gmail.com> 1569592855 +0200\ncommitter GitHub <noreply@github.com> 1569592855 +0200\n\nChange Python client version to 4.10.0\n\nAccording to the release guide, before cutting a release we have to remove the 'alpha' qualifier from Python client version\n\nReviewers: Ivan Kelly <ivank@apache.org>\n\nThis closes #2163 from eolivelli/fix/python-client"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7071dac225cb2e4924e4c1e75225e572270a7135","html_url":"https://github.com/apache/bookkeeper/commit/7071dac225cb2e4924e4c1e75225e572270a7135","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7071dac225cb2e4924e4c1e75225e572270a7135/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"cc9d66aa1826f8d583a9b939a9840657877ed275","url":"https://api.github.com/repos/apache/bookkeeper/commits/cc9d66aa1826f8d583a9b939a9840657877ed275","html_url":"https://github.com/apache/bookkeeper/commit/cc9d66aa1826f8d583a9b939a9840657877ed275"}]},{"sha":"cc9d66aa1826f8d583a9b939a9840657877ed275","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjYzlkNjZhYTE4MjZmOGQ1ODNhOWI5MzlhOTg0MDY1Nzg3N2VkMjc1","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-09-27T13:59:46Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-09-27T13:59:46Z"},"message":"Fix tests and upgrade libs to make tests pass on JDK13\n\n- Upgrade Mockito and PowerMock with a version that support JDK12+\r\n- Fix bash script tests\n\nReviewers: Ivan Kelly <ivank@apache.org>\n\nThis closes #2169 from eolivelli/fix/make-tests-pass-jdk13","tree":{"sha":"a715060efe9b6c59c92dea699a96e0ad14038fb0","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/a715060efe9b6c59c92dea699a96e0ad14038fb0"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/cc9d66aa1826f8d583a9b939a9840657877ed275","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdjhXSCRBK7hj4Ov3rIwAAdHIIACGYVcQFCw4ljsO2tKsO4X1a\n7NbdIZAgSLu8q7Ik1yn8gwOc8R9kNzFNOnqr4KENK9HohJIOIJ9NZ0A7d7ltwl0S\n54y4V0YdGZ+YvKVsRfj9kLkyhVsbOBWrTOaR6R3TDGojR4MicbnJp3LmM151AFw0\n73pygSPIXdRRvoJuLFo9hYDf6Jp0TuOhWoG+ys9dwwXVLkwr/+yjh8MH4LQjEXMq\naPKYdj/huG2sBCjgJJYgM5gClpvKEByQfgOvgaDOYVwKQTa5QwOmEEvj5HfUUOd6\nHA5ppuTroM0UbEYwK/TT+83udJ6DO93Xhe99zk8WcF8FamkZm7tw/ENReS2qxOM=\n=UuvE\n-----END PGP SIGNATURE-----\n","payload":"tree a715060efe9b6c59c92dea699a96e0ad14038fb0\nparent afd8dbadd8a205fe4de4daa9d0c09680effab49d\nauthor Enrico Olivelli <eolivelli@gmail.com> 1569592786 +0200\ncommitter GitHub <noreply@github.com> 1569592786 +0200\n\nFix tests and upgrade libs to make tests pass on JDK13\n\n- Upgrade Mockito and PowerMock with a version that support JDK12+\r\n- Fix bash script tests\n\nReviewers: Ivan Kelly <ivank@apache.org>\n\nThis closes #2169 from eolivelli/fix/make-tests-pass-jdk13"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/cc9d66aa1826f8d583a9b939a9840657877ed275","html_url":"https://github.com/apache/bookkeeper/commit/cc9d66aa1826f8d583a9b939a9840657877ed275","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/cc9d66aa1826f8d583a9b939a9840657877ed275/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"afd8dbadd8a205fe4de4daa9d0c09680effab49d","url":"https://api.github.com/repos/apache/bookkeeper/commits/afd8dbadd8a205fe4de4daa9d0c09680effab49d","html_url":"https://github.com/apache/bookkeeper/commit/afd8dbadd8a205fe4de4daa9d0c09680effab49d"}]},{"sha":"afd8dbadd8a205fe4de4daa9d0c09680effab49d","node_id":"MDY6Q29tbWl0MTU3NTk1NjphZmQ4ZGJhZGQ4YTIwNWZlNGRlNGRhYTlkMGMwOTY4MGVmZmFiNDlk","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-09-26T07:06:44Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-09-26T07:06:44Z"},"message":"Make the project buildable with JDK12 and JDK13\n\nUpgrade Lombok to 1.18.10\r\nUpgrade Groovy and Groovy Compiler and Maven Compiler plugin\r\nFix an inverted if that prevented **bkctl** to work with JDK11+ and it made GC LOGGING opts not applied with JDK8 (in bkctl command), a regression introduced by #2132\n\nReviewers: Ivan Kelly <ivank@apache.org>\n\nThis closes #2160 from eolivelli/fix/build-jdk12","tree":{"sha":"b9e59802aec78f0ab4b18f4657375da1f1725bb4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b9e59802aec78f0ab4b18f4657375da1f1725bb4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/afd8dbadd8a205fe4de4daa9d0c09680effab49d","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdjGOECRBK7hj4Ov3rIwAAdHIIADTX7lpAFRfnx2bc7VllmDy2\n1ArbvMg/uDl47nvEjaGlwUZVStQk6MjOt5jlMOi7F34nddABW+pLAHxn+Jj8su8M\n9EgqJTFXL1ewei3IAy2X+9skQwjBzxjQcPJZGyvdLgSycBPHGi6VXVDeuJKSL5h1\nx1Vo78pWTMnUh0+La3wAYovDnjNs7MmCeanyGtybHyOBLalh1vS+oA7yv+ABW5ie\nPuCpbvmokz98ZD01pwS5z2CQAYdieaztjJN6ct2kiz4phB3YSNaa7RWDnwHQqMJi\nQm4xip2PUPN0QCnuFQgKl2Aw7/ATDwmbwur24POT2PW8lAUN4sP45IbnaZDVO8c=\n=fDJ5\n-----END PGP SIGNATURE-----\n","payload":"tree b9e59802aec78f0ab4b18f4657375da1f1725bb4\nparent 4c6cf097d9b823c8e839e176a06266a58bcb7bf5\nauthor Enrico Olivelli <eolivelli@gmail.com> 1569481604 +0200\ncommitter GitHub <noreply@github.com> 1569481604 +0200\n\nMake the project buildable with JDK12 and JDK13\n\nUpgrade Lombok to 1.18.10\r\nUpgrade Groovy and Groovy Compiler and Maven Compiler plugin\r\nFix an inverted if that prevented **bkctl** to work with JDK11+ and it made GC LOGGING opts not applied with JDK8 (in bkctl command), a regression introduced by #2132\n\nReviewers: Ivan Kelly <ivank@apache.org>\n\nThis closes #2160 from eolivelli/fix/build-jdk12"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/afd8dbadd8a205fe4de4daa9d0c09680effab49d","html_url":"https://github.com/apache/bookkeeper/commit/afd8dbadd8a205fe4de4daa9d0c09680effab49d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/afd8dbadd8a205fe4de4daa9d0c09680effab49d/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"4c6cf097d9b823c8e839e176a06266a58bcb7bf5","url":"https://api.github.com/repos/apache/bookkeeper/commits/4c6cf097d9b823c8e839e176a06266a58bcb7bf5","html_url":"https://github.com/apache/bookkeeper/commit/4c6cf097d9b823c8e839e176a06266a58bcb7bf5"}]},{"sha":"4c6cf097d9b823c8e839e176a06266a58bcb7bf5","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0YzZjZjA5N2Q5YjgyM2M4ZTgzOWUxNzZhMDYyNjZhNThiY2I3YmY1","commit":{"author":{"name":"Rajan Dhabalia","email":"rdhabalia@apache.org","date":"2019-08-29T18:05:45Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-08-29T18:05:45Z"},"message":"[BOOKIE] auto refresh tls cert at bookie-server\n\n### Motivation\r\n\r\nRight now, if certs are rotated then bookie doesn't pick up refresh cert and we have to restart the bookie. So, we need a way to auto refresh certs into bookie.\r\n\r\n### Modification\r\n\r\n- add configuration `tlsCertFilesRefreshDurationSeconds` to auto refresh cert\r\n- bookie checks last modified date of the cert after auto-refresh duration and refresh certs if requires\r\n\r\n### Result\r\n\r\n- Bookie can refresh certs without restart.\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2154 from rdhabalia/auto_mtls","tree":{"sha":"3ae52605c91bbf1df51ab1bd79ed0b94bfc89416","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/3ae52605c91bbf1df51ab1bd79ed0b94bfc89416"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/4c6cf097d9b823c8e839e176a06266a58bcb7bf5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/4c6cf097d9b823c8e839e176a06266a58bcb7bf5","html_url":"https://github.com/apache/bookkeeper/commit/4c6cf097d9b823c8e839e176a06266a58bcb7bf5","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/4c6cf097d9b823c8e839e176a06266a58bcb7bf5/comments","author":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"4487cee4f14bd495a9b02071e0bdd0fc7df0dbf6","url":"https://api.github.com/repos/apache/bookkeeper/commits/4487cee4f14bd495a9b02071e0bdd0fc7df0dbf6","html_url":"https://github.com/apache/bookkeeper/commit/4487cee4f14bd495a9b02071e0bdd0fc7df0dbf6"}]},{"sha":"4487cee4f14bd495a9b02071e0bdd0fc7df0dbf6","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0NDg3Y2VlNGYxNGJkNDk1YTliMDIwNzFlMGJkZDBmYzdkZjBkYmY2","commit":{"author":{"name":"Fangbin Sun","email":"sunfangbin@gmail.com","date":"2019-08-27T05:47:47Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-08-27T05:47:47Z"},"message":"Issue #2152: Amend disk usage warn log\n\n### Motivation\r\n\r\nFixes #2152\r\n\r\n### Changes\r\n\r\nReplace `diskUsageThreshold` by `diskUsageWarnThreshold` when disk usage threshold doesn't trigger first.\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2153 from murong00/branch-2153, closes #2152","tree":{"sha":"300f3e3c727c3a9e409d023ee4acfec1278dca35","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/300f3e3c727c3a9e409d023ee4acfec1278dca35"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/4487cee4f14bd495a9b02071e0bdd0fc7df0dbf6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/4487cee4f14bd495a9b02071e0bdd0fc7df0dbf6","html_url":"https://github.com/apache/bookkeeper/commit/4487cee4f14bd495a9b02071e0bdd0fc7df0dbf6","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/4487cee4f14bd495a9b02071e0bdd0fc7df0dbf6/comments","author":{"login":"murong00","id":31875453,"node_id":"MDQ6VXNlcjMxODc1NDUz","avatar_url":"https://avatars.githubusercontent.com/u/31875453?v=4","gravatar_id":"","url":"https://api.github.com/users/murong00","html_url":"https://github.com/murong00","followers_url":"https://api.github.com/users/murong00/followers","following_url":"https://api.github.com/users/murong00/following{/other_user}","gists_url":"https://api.github.com/users/murong00/gists{/gist_id}","starred_url":"https://api.github.com/users/murong00/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/murong00/subscriptions","organizations_url":"https://api.github.com/users/murong00/orgs","repos_url":"https://api.github.com/users/murong00/repos","events_url":"https://api.github.com/users/murong00/events{/privacy}","received_events_url":"https://api.github.com/users/murong00/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"171e2f914c05357d9e81c7e951f5c86a0f463a75","url":"https://api.github.com/repos/apache/bookkeeper/commits/171e2f914c05357d9e81c7e951f5c86a0f463a75","html_url":"https://github.com/apache/bookkeeper/commit/171e2f914c05357d9e81c7e951f5c86a0f463a75"}]},{"sha":"171e2f914c05357d9e81c7e951f5c86a0f463a75","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxNzFlMmY5MTRjMDUzNTdkOWU4MWM3ZTk1MWY1Yzg2YTBmNDYzYTc1","commit":{"author":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-08-26T18:16:08Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-08-26T18:16:08Z"},"message":"Improve journal throughput when journalSyncData is disabled.\n\nDescriptions of the changes in this PR:\r\n\r\n### Motivation\r\n\r\nThere was a weird behavior observed: when `journalSyncData` is disabled, the journal throughput decreased with multiple journal dirs on same journal disk.\r\n\r\nThe problem is when `journalSyncData` is disabled, we still sync data to disk when rolling the journal file. The sync time increases to multiple seconds, because it has to flush all the files to disk and wait the whole sync operation to be completed.\r\n\r\n### Changes\r\n\r\nwhen `journalSyncData` is disabled, we trigger callbacks when the data is flushed to filesystem but still enqueue a fsync request to force write queue to make sure we still fsync data frequently.\r\n\r\nAlso added a journal perf tool to do performance testing on journal.\r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Matteo Merli <mmerli@apache.org>\n\nThis closes #2150 from sijie/journal_perf","tree":{"sha":"d54fc0a24b7319ae802f63ba0a93a0eb46a58b3d","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d54fc0a24b7319ae802f63ba0a93a0eb46a58b3d"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/171e2f914c05357d9e81c7e951f5c86a0f463a75","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdZCHoCRBK7hj4Ov3rIwAAdHIIAKuweXGBg4/QTjiTt7xN1O0o\nIvuuNVSUZNEk21iYUOQqUerDPR82nk6sG4N8C1i/AdSkegXd5RnBZyoARy3OcN+A\nNPKIX/1drDFD5i1QA565HzG1BxsG8jNr8+WtNcT0Y0bvICZ0fsBAF7D7z5rOE7K7\nsLzEW4/H7pHgYtFdNgXd9J4ndhv44UxIhsnxpW7QNpAF3VAJ9Ty4MqnQWGVNCWZu\nXvgt1HBTqu/rHDU4NqdI9Ewub8ogsRibeHVsWcWx0r2roN5Izq3H9clWDAGr4sbH\n6hRTl5ZMfa3rFquHeJ3qOCjxZToAo7zh8c2LepFEmbqxRhHLIbd5dynSMf0DKaM=\n=f6EQ\n-----END PGP SIGNATURE-----\n","payload":"tree d54fc0a24b7319ae802f63ba0a93a0eb46a58b3d\nparent f1df81f6590e048b93ec21776f931a28f0468a45\nauthor Sijie Guo <guosijie@gmail.com> 1566843368 -0700\ncommitter GitHub <noreply@github.com> 1566843368 -0700\n\nImprove journal throughput when journalSyncData is disabled.\n\nDescriptions of the changes in this PR:\r\n\r\n### Motivation\r\n\r\nThere was a weird behavior observed: when `journalSyncData` is disabled, the journal throughput decreased with multiple journal dirs on same journal disk.\r\n\r\nThe problem is when `journalSyncData` is disabled, we still sync data to disk when rolling the journal file. The sync time increases to multiple seconds, because it has to flush all the files to disk and wait the whole sync operation to be completed.\r\n\r\n### Changes\r\n\r\nwhen `journalSyncData` is disabled, we trigger callbacks when the data is flushed to filesystem but still enqueue a fsync request to force write queue to make sure we still fsync data frequently.\r\n\r\nAlso added a journal perf tool to do performance testing on journal.\r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Matteo Merli <mmerli@apache.org>\n\nThis closes #2150 from sijie/journal_perf"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/171e2f914c05357d9e81c7e951f5c86a0f463a75","html_url":"https://github.com/apache/bookkeeper/commit/171e2f914c05357d9e81c7e951f5c86a0f463a75","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/171e2f914c05357d9e81c7e951f5c86a0f463a75/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"f1df81f6590e048b93ec21776f931a28f0468a45","url":"https://api.github.com/repos/apache/bookkeeper/commits/f1df81f6590e048b93ec21776f931a28f0468a45","html_url":"https://github.com/apache/bookkeeper/commit/f1df81f6590e048b93ec21776f931a28f0468a45"}]},{"sha":"f1df81f6590e048b93ec21776f931a28f0468a45","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmMWRmODFmNjU5MGUwNDhiOTNlYzIxNzc2ZjkzMWEyOGYwNDY4YTQ1","commit":{"author":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-08-26T18:15:15Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-08-26T18:15:15Z"},"message":"Journal should respect to `flushWhenQueueEmpty` setting\n\n\r\nDescriptions of the changes in this PR:\r\n\r\n*Motivation*\r\n\r\nCurrently journal doesn't respect to `flushWhenQueueEmpty` setting.\r\nEven `flushWhenQueueEmpty` is set to false, we can still see flushes\r\ntriggered due to queue empty.\r\n\r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>\n\nThis closes #2147 from sijie/fix_flush_when_empty","tree":{"sha":"c099a5dab5ff983263faca6a0e39cda4ed777e44","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c099a5dab5ff983263faca6a0e39cda4ed777e44"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f1df81f6590e048b93ec21776f931a28f0468a45","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdZCGzCRBK7hj4Ov3rIwAAdHIIAI5/mbXAmZKSnZZUGjPwYFeM\n+HM+8zbizYkdwPpygbnDTgViGctbRxx7iooLH0ojwlH8PzxWeIbdWUY0hmOSSEg2\nzlF8EcK2U4tJYc0Sl6fU0HIA0B8JDPN3PQNmn+0c5NXTtmRVeALhUaMzP+7sq03j\nqe07lUru0wWrlUY80jzVIrn5SoYbLQ315iY7Wy5G7TPGncUKGI5c8wnc3XCQh56q\ng1bZlCwUOd7RKVh7WOxxxBhJANmmNm06IG4Pqny08wQFz82UUPggLVPsbZuHCxkW\n5xpS4+PAmyK6p6aYsbe4fhUzMOKwxP+ewu560JJHvTkBq+4ckWOn3ze9/qXx1EY=\n=TedR\n-----END PGP SIGNATURE-----\n","payload":"tree c099a5dab5ff983263faca6a0e39cda4ed777e44\nparent 9e34c9a7e75b87441c2455139a715e39ff985f43\nauthor Sijie Guo <guosijie@gmail.com> 1566843315 -0700\ncommitter GitHub <noreply@github.com> 1566843315 -0700\n\nJournal should respect to `flushWhenQueueEmpty` setting\n\n\r\nDescriptions of the changes in this PR:\r\n\r\n*Motivation*\r\n\r\nCurrently journal doesn't respect to `flushWhenQueueEmpty` setting.\r\nEven `flushWhenQueueEmpty` is set to false, we can still see flushes\r\ntriggered due to queue empty.\r\n\r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>\n\nThis closes #2147 from sijie/fix_flush_when_empty"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f1df81f6590e048b93ec21776f931a28f0468a45","html_url":"https://github.com/apache/bookkeeper/commit/f1df81f6590e048b93ec21776f931a28f0468a45","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f1df81f6590e048b93ec21776f931a28f0468a45/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"9e34c9a7e75b87441c2455139a715e39ff985f43","url":"https://api.github.com/repos/apache/bookkeeper/commits/9e34c9a7e75b87441c2455139a715e39ff985f43","html_url":"https://github.com/apache/bookkeeper/commit/9e34c9a7e75b87441c2455139a715e39ff985f43"}]},{"sha":"9e34c9a7e75b87441c2455139a715e39ff985f43","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5ZTM0YzlhN2U3NWI4NzQ0MWMyNDU1MTM5YTcxNWUzOWZmOTg1ZjQz","commit":{"author":{"name":"Sergii Zhevzhyk","email":"vzhikserg@users.noreply.github.com","date":"2019-08-23T11:15:59Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-08-23T11:15:59Z"},"message":"Simplify if statements\n\n### Changes\r\n\r\n* Simplify `if` statements where it is possible (mainly for `if` statements returning boolean values)\r\n* Remove redundant semicolons\r\n* Remove the `close` method where the resource is used withing the try-with-resources block\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2137 from vzhikserg/simplify-if-statements","tree":{"sha":"b0171c093e29896cbe2d9ef41de69a3069419cba","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b0171c093e29896cbe2d9ef41de69a3069419cba"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9e34c9a7e75b87441c2455139a715e39ff985f43","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9e34c9a7e75b87441c2455139a715e39ff985f43","html_url":"https://github.com/apache/bookkeeper/commit/9e34c9a7e75b87441c2455139a715e39ff985f43","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9e34c9a7e75b87441c2455139a715e39ff985f43/comments","author":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"9540d8473ebbe49425ece1088047cd544e8427f9","url":"https://api.github.com/repos/apache/bookkeeper/commits/9540d8473ebbe49425ece1088047cd544e8427f9","html_url":"https://github.com/apache/bookkeeper/commit/9540d8473ebbe49425ece1088047cd544e8427f9"}]},{"sha":"9540d8473ebbe49425ece1088047cd544e8427f9","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5NTQwZDg0NzNlYmJlNDk0MjVlY2UxMDg4MDQ3Y2Q1NDRlODQyN2Y5","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-08-13T17:53:39Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-08-13T17:53:39Z"},"message":"Replicascheck comprehensive testcases.\n\n\r\nDescriptions of the changes in this PR:\r\n\r\n- adding comprehensive testcases for newly added\r\nscrutiny - replicasCheck.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2141 from reddycharan/replicaschecktest","tree":{"sha":"ca4a9551e9722bccdaedf3e7b9dfbe3698eb88f7","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/ca4a9551e9722bccdaedf3e7b9dfbe3698eb88f7"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9540d8473ebbe49425ece1088047cd544e8427f9","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdUvkjCRBK7hj4Ov3rIwAAdHIIADDu3OrrUYtKmmOKi37labg0\n/ujWI78qIKjIjHWqMLGNxXyapkr699+dqQY2XbbvMMi3nP7ey9i49tlxI0gXqO67\nFaeNkk8/C6ouxfZm16YwsgER0J5XDTiF6p61ww/vbfNOq3vaiTpmRNBdxL47iN1/\nWRbEOM0J5KeOB+nJN22BgdwxXs8d3zTmWKny+2tflZmdCohssGKbhBT7huN2qFCc\nk0ZXzBxvQzzP8Z5MD4IWzJITPxhSBMtU0PjQz2ptnbGnbaFjSxs7V263b5MhE1tD\nqKG1zpwTrf7LmBC4cTkMK90TkYzOy/mwnV6qZjfIYIQju+8vDnRHK5ZGh8sRe+k=\n=ryDa\n-----END PGP SIGNATURE-----\n","payload":"tree ca4a9551e9722bccdaedf3e7b9dfbe3698eb88f7\nparent 0034fe684136e318d1a7e8b384968d703d2dd8c4\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1565718819 -0700\ncommitter GitHub <noreply@github.com> 1565718819 -0700\n\nReplicascheck comprehensive testcases.\n\n\r\nDescriptions of the changes in this PR:\r\n\r\n- adding comprehensive testcases for newly added\r\nscrutiny - replicasCheck.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2141 from reddycharan/replicaschecktest"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9540d8473ebbe49425ece1088047cd544e8427f9","html_url":"https://github.com/apache/bookkeeper/commit/9540d8473ebbe49425ece1088047cd544e8427f9","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9540d8473ebbe49425ece1088047cd544e8427f9/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"0034fe684136e318d1a7e8b384968d703d2dd8c4","url":"https://api.github.com/repos/apache/bookkeeper/commits/0034fe684136e318d1a7e8b384968d703d2dd8c4","html_url":"https://github.com/apache/bookkeeper/commit/0034fe684136e318d1a7e8b384968d703d2dd8c4"}]},{"sha":"0034fe684136e318d1a7e8b384968d703d2dd8c4","node_id":"MDY6Q29tbWl0MTU3NTk1NjowMDM0ZmU2ODQxMzZlMzE4ZDFhN2U4YjM4NDk2OGQ3MDNkMmRkOGM0","commit":{"author":{"name":"Sergii Zhevzhyk","email":"vzhikserg@users.noreply.github.com","date":"2019-08-05T14:28:17Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-08-05T14:28:17Z"},"message":"Replace C style array declaration with Java style\n\n### Motivation\r\n\r\nThe C style array definitions look weird for a Java developer.\r\n\r\n### Changes\r\n\r\nAll C style array declarations were updated with the Java array declarations and the stylechecker rule was added to enforce the Java way. \n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2139 from vzhikserg/replace-c-style-array-declaration-with-java-style","tree":{"sha":"4cb1ea5a96f3cc8aa9b47cc05fa0000839e64c9d","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/4cb1ea5a96f3cc8aa9b47cc05fa0000839e64c9d"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/0034fe684136e318d1a7e8b384968d703d2dd8c4","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/0034fe684136e318d1a7e8b384968d703d2dd8c4","html_url":"https://github.com/apache/bookkeeper/commit/0034fe684136e318d1a7e8b384968d703d2dd8c4","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/0034fe684136e318d1a7e8b384968d703d2dd8c4/comments","author":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1df8ae9abd2069d7db7f5551ec7cb1de1b9e3bae","url":"https://api.github.com/repos/apache/bookkeeper/commits/1df8ae9abd2069d7db7f5551ec7cb1de1b9e3bae","html_url":"https://github.com/apache/bookkeeper/commit/1df8ae9abd2069d7db7f5551ec7cb1de1b9e3bae"}]},{"sha":"1df8ae9abd2069d7db7f5551ec7cb1de1b9e3bae","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxZGY4YWU5YWJkMjA2OWQ3ZGI3ZjU1NTFlYzdjYjFkZTFiOWUzYmFl","commit":{"author":{"name":"vzhikserg","email":"vzhikserg@users.noreply.github.com","date":"2019-07-29T11:52:20Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-07-29T11:52:20Z"},"message":"Remove redundant array creation\n\n### Changes\r\n\r\nRemove redundant array creation in log statements to simplify the code.\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2129 from vzhikserg/remove-redundant-array-creation","tree":{"sha":"d7f76dde7ea88eca9fcdea07e8dee3bb1f91c140","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d7f76dde7ea88eca9fcdea07e8dee3bb1f91c140"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1df8ae9abd2069d7db7f5551ec7cb1de1b9e3bae","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1df8ae9abd2069d7db7f5551ec7cb1de1b9e3bae","html_url":"https://github.com/apache/bookkeeper/commit/1df8ae9abd2069d7db7f5551ec7cb1de1b9e3bae","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1df8ae9abd2069d7db7f5551ec7cb1de1b9e3bae/comments","author":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1ff4438858df888141a31e4049ba8ad845c9cc10","url":"https://api.github.com/repos/apache/bookkeeper/commits/1ff4438858df888141a31e4049ba8ad845c9cc10","html_url":"https://github.com/apache/bookkeeper/commit/1ff4438858df888141a31e4049ba8ad845c9cc10"}]},{"sha":"1ff4438858df888141a31e4049ba8ad845c9cc10","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxZmY0NDM4ODU4ZGY4ODgxNDFhMzFlNDA0OWJhOGFkODQ1YzljYzEw","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-29T11:49:00Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-07-29T11:49:00Z"},"message":"Make default Bookie scripts work on JDK11+\n\n- detect new Java versions in bin/common.sh\r\n- use different defaults on JDK8 vs JDK11+\r\n\r\nDescriptions of the changes in this PR:\r\nChange distribution scripts in order to detect a JDK newer then JDK8 and set default JVM options accordingly.\r\n\r\n### Motivation\r\n\r\nBecause I want that BookKeeper tools run out of the box with JDK11\r\n\r\n### Changes\r\n1) detect a JDK newer then JDK8, but checking if exists $JAVA_HOME/bin/jshell (this is quite robust, better then parsing some Java version string)\r\n2) use new defaults for JDK11, in particular do not enable experimental and deprecated options, use the new [Java Unified Logging](https://openjdk.java.net/jeps/158) log system for GC\r\n\r\nPlease note the output of \"Java Unified Logging\" is very different from the old pre-Java9 one and \r\noptions are different, there is no simple port.\r\n\r\nMaster Issue: #1912\r\n\r\n\r\n\n\nReviewers: Sijie Guo <None>\n\nThis closes #2132 from eolivelli/fix/run-jdk11","tree":{"sha":"2c822b9d3cc8fb545fa7e13eec4fd2d3a29f178e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2c822b9d3cc8fb545fa7e13eec4fd2d3a29f178e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1ff4438858df888141a31e4049ba8ad845c9cc10","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1ff4438858df888141a31e4049ba8ad845c9cc10","html_url":"https://github.com/apache/bookkeeper/commit/1ff4438858df888141a31e4049ba8ad845c9cc10","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1ff4438858df888141a31e4049ba8ad845c9cc10/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"60ff4ec791f94362eee9aecc67670cbdbf2b2ee6","url":"https://api.github.com/repos/apache/bookkeeper/commits/60ff4ec791f94362eee9aecc67670cbdbf2b2ee6","html_url":"https://github.com/apache/bookkeeper/commit/60ff4ec791f94362eee9aecc67670cbdbf2b2ee6"}]},{"sha":"60ff4ec791f94362eee9aecc67670cbdbf2b2ee6","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2MGZmNGVjNzkxZjk0MzYyZWVlOWFlY2M2NzY3MGNiZGJmMmIyZWU2","commit":{"author":{"name":"BINLEI XUE","email":"kongpo0412@gmail.com","date":"2019-07-29T06:11:14Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-29T06:11:14Z"},"message":"Issue #2127: Allow user override default SASL service name bookkeeper\n\nDescriptions of the changes in this PR:\r\ndefault SASL service name \"bookkeeper\" can be override by JVM property \"bookkeeper.sasl.servicename\"\r\n\r\n### Motivation\r\n\r\n\r\n\r\n### Changes\r\n\r\nInstead of use a constant value, it would read from JVM property first, if it doesn't exists, then use default value from constant variable SaslConstants.SASL_BOOKKEEPER_PROTOCOL\r\n\r\nMaster Issue: #2127\r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Sijie Guo\n\nThis closes #2128 from 29x10/master, closes #2127","tree":{"sha":"78bbaca434570b99fb8e3119efd55aa09550e3ea","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/78bbaca434570b99fb8e3119efd55aa09550e3ea"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/60ff4ec791f94362eee9aecc67670cbdbf2b2ee6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/60ff4ec791f94362eee9aecc67670cbdbf2b2ee6","html_url":"https://github.com/apache/bookkeeper/commit/60ff4ec791f94362eee9aecc67670cbdbf2b2ee6","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/60ff4ec791f94362eee9aecc67670cbdbf2b2ee6/comments","author":{"login":"29x10","id":895300,"node_id":"MDQ6VXNlcjg5NTMwMA==","avatar_url":"https://avatars.githubusercontent.com/u/895300?v=4","gravatar_id":"","url":"https://api.github.com/users/29x10","html_url":"https://github.com/29x10","followers_url":"https://api.github.com/users/29x10/followers","following_url":"https://api.github.com/users/29x10/following{/other_user}","gists_url":"https://api.github.com/users/29x10/gists{/gist_id}","starred_url":"https://api.github.com/users/29x10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/29x10/subscriptions","organizations_url":"https://api.github.com/users/29x10/orgs","repos_url":"https://api.github.com/users/29x10/repos","events_url":"https://api.github.com/users/29x10/events{/privacy}","received_events_url":"https://api.github.com/users/29x10/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"832853d7c156e3ea76add272627082a4eb653ef0","url":"https://api.github.com/repos/apache/bookkeeper/commits/832853d7c156e3ea76add272627082a4eb653ef0","html_url":"https://github.com/apache/bookkeeper/commit/832853d7c156e3ea76add272627082a4eb653ef0"}]},{"sha":"832853d7c156e3ea76add272627082a4eb653ef0","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4MzI4NTNkN2MxNTZlM2VhNzZhZGQyNzI2MjcwODJhNGViNjUzZWYw","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-29T06:08:44Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-07-29T06:08:44Z"},"message":"Upgrade to latest Maven version 3.6.1\n\n### Motivation\r\n- ASF CI does not support Maven 3.5.0\r\n- Maven 3.5.0 is a very old version\r\n\r\n### Changes\r\n\r\n- update Jenkins DSL files to \"Maven (latest)\"\r\n- update release procedure to Maven 3.6.1\r\n- update docker based dev environment to use Maven 3.6.1 + jdk11 (it was 3.5.0 + legacy jdk9)\r\n\r\n\r\n\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2135 from eolivelli/fix/upgrade-maven","tree":{"sha":"8d18d72a3ae518e60202225227d0297681e9f8cb","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/8d18d72a3ae518e60202225227d0297681e9f8cb"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/832853d7c156e3ea76add272627082a4eb653ef0","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdPo1sCRBK7hj4Ov3rIwAAdHIIAHpe+AXW+XZeSbW0EvkBLmhg\nBNji53VGgXKPntLR9YoT80bZeTxOiT9CjLB+DCFTW3d5mE7yKfvvGz7aGQN/UlnV\nnwA4fnHZSub28X1NCdw/6iZ3DdT/tX3vFcOUyzrkzKLNqA4C4G70WD7SplVnUesv\nwQnQWK7TCDJg5MUYkgvwjx0N84f6/bacgJfq8mEi90JoMTiA/gnU9x1ljg6rm9wi\nyMycZrK/Zup1HYL/hJqcya71jmuyE7ITvzEU0TLwiXJ2i4UJMm8JS4mQPQbkrkJ1\nzHpnNfHArlwIBtmpo40p2/qizfu2i+sIh/rQmK+8k1lIuSqoiWK3oX9NL87JQqo=\n=XZc3\n-----END PGP SIGNATURE-----\n","payload":"tree 8d18d72a3ae518e60202225227d0297681e9f8cb\nparent 38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b\nauthor Enrico Olivelli <eolivelli@gmail.com> 1564380524 +0200\ncommitter GitHub <noreply@github.com> 1564380524 +0200\n\nUpgrade to latest Maven version 3.6.1\n\n### Motivation\r\n- ASF CI does not support Maven 3.5.0\r\n- Maven 3.5.0 is a very old version\r\n\r\n### Changes\r\n\r\n- update Jenkins DSL files to \"Maven (latest)\"\r\n- update release procedure to Maven 3.6.1\r\n- update docker based dev environment to use Maven 3.6.1 + jdk11 (it was 3.5.0 + legacy jdk9)\r\n\r\n\r\n\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2135 from eolivelli/fix/upgrade-maven"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/832853d7c156e3ea76add272627082a4eb653ef0","html_url":"https://github.com/apache/bookkeeper/commit/832853d7c156e3ea76add272627082a4eb653ef0","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/832853d7c156e3ea76add272627082a4eb653ef0/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b","url":"https://api.github.com/repos/apache/bookkeeper/commits/38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b","html_url":"https://github.com/apache/bookkeeper/commit/38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b"}]},{"sha":"38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b","node_id":"MDY6Q29tbWl0MTU3NTk1NjozOGUwYzJkM2NjYzFhM2YzMWM2YzFmNDdjNWFiMDU5OTYyZWIxYThi","commit":{"author":{"name":"Pavan Kumar Chaitanya L","email":"pavan.kumar.chaitanya@gmail.com","date":"2019-07-27T12:48:56Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-27T12:48:56Z"},"message":"Issue #2130 : Fix for broken URLs\n\nFixed broken URLs in README for Programmer Guide, Tutorial and Java API.\r\n\r\nDescriptions of the changes in this PR:\r\n\r\nUpdated the URLs.\r\n\r\n### Motivation\r\nWanted to go through the tutorial when I came to the repo and found the links were broken in the README.\r\n### Changes\r\n\r\n\r\nMaster Issue: #2130\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2131 from pavankumarchaitanya/master, closes #2130","tree":{"sha":"f185e48e9267774d3dd6814f286691d8ab453519","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f185e48e9267774d3dd6814f286691d8ab453519"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b","html_url":"https://github.com/apache/bookkeeper/commit/38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/38e0c2d3ccc1a3f31c6c1f47c5ab059962eb1a8b/comments","author":{"login":"pavankumarchaitanya","id":1131854,"node_id":"MDQ6VXNlcjExMzE4NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1131854?v=4","gravatar_id":"","url":"https://api.github.com/users/pavankumarchaitanya","html_url":"https://github.com/pavankumarchaitanya","followers_url":"https://api.github.com/users/pavankumarchaitanya/followers","following_url":"https://api.github.com/users/pavankumarchaitanya/following{/other_user}","gists_url":"https://api.github.com/users/pavankumarchaitanya/gists{/gist_id}","starred_url":"https://api.github.com/users/pavankumarchaitanya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavankumarchaitanya/subscriptions","organizations_url":"https://api.github.com/users/pavankumarchaitanya/orgs","repos_url":"https://api.github.com/users/pavankumarchaitanya/repos","events_url":"https://api.github.com/users/pavankumarchaitanya/events{/privacy}","received_events_url":"https://api.github.com/users/pavankumarchaitanya/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"5311e00f399ae3b5cb39fe03d8b5dd8c0547de14","url":"https://api.github.com/repos/apache/bookkeeper/commits/5311e00f399ae3b5cb39fe03d8b5dd8c0547de14","html_url":"https://github.com/apache/bookkeeper/commit/5311e00f399ae3b5cb39fe03d8b5dd8c0547de14"}]},{"sha":"5311e00f399ae3b5cb39fe03d8b5dd8c0547de14","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1MzExZTAwZjM5OWFlM2I1Y2IzOWZlMDNkOGI1ZGQ4YzA1NDdkZTE0","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-27T12:47:07Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-07-27T12:47:07Z"},"message":"Make build pass on JDK11, fix javadoc configuration\n\n\r\nDescriptions of the changes in this PR:\r\n\r\n### Motivation\r\n\r\nBuild fails on recent JDK11 versions and on JDK11, see #2133, this is because javadoc has problems with references to core Java API when source version is set to 8.\r\n\r\n### Changes\r\nUpgrade Java doc plugin to latest 3.1.1 and disable auto linking to core Java classes with\r\n`<detectJavaApiLink>false</detectJavaApiLink>\r\n`\r\nCloses #2133\r\n\r\n\r\n\n\nReviewers: Sijie Guo <None>\n\nThis closes #2134 from eolivelli/fix/javadoc-jdk11","tree":{"sha":"143f80827c7b2c3cc734e84a8b39ec4379a60b01","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/143f80827c7b2c3cc734e84a8b39ec4379a60b01"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/5311e00f399ae3b5cb39fe03d8b5dd8c0547de14","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdPEfLCRBK7hj4Ov3rIwAAdHIIAEzmEeivc8iLvVImjI4dwN5s\njE6llN6GTfIgpuiy0djlZmsqwXTDbOjacYLbAp9ylZN+lmaR2VN4M5+Q2wzZxFd9\n2BfR9Pux1as/ZjM0UZIzAfikGkcExsSDIizcG5uuR/ChHu+2afoqgNNYBfgKUSA2\nlCRLCrb81KvwqU++/m0a1DoTO5jepLCzQlQp2j2f2gZ1djmTmYPvRccv76jA0gbc\n9URTF/9UB2iYo/fuDQYr9MbQbu1uksvOw+ORMbUntISUMI6GrPQRsGtAM2DbH9st\nwoxo5temNfE+SF6BqC2+NdeSkoPBuwTaA0Wy7Ty3ckqtFSVgdwBnM3cco3jYm5s=\n=7oWn\n-----END PGP SIGNATURE-----\n","payload":"tree 143f80827c7b2c3cc734e84a8b39ec4379a60b01\nparent 86e8a72c7fcfb38b76bcbf434df586f3dc00a2af\nauthor Enrico Olivelli <eolivelli@gmail.com> 1564231627 +0200\ncommitter GitHub <noreply@github.com> 1564231627 +0200\n\nMake build pass on JDK11, fix javadoc configuration\n\n\r\nDescriptions of the changes in this PR:\r\n\r\n### Motivation\r\n\r\nBuild fails on recent JDK11 versions and on JDK11, see #2133, this is because javadoc has problems with references to core Java API when source version is set to 8.\r\n\r\n### Changes\r\nUpgrade Java doc plugin to latest 3.1.1 and disable auto linking to core Java classes with\r\n`<detectJavaApiLink>false</detectJavaApiLink>\r\n`\r\nCloses #2133\r\n\r\n\r\n\n\nReviewers: Sijie Guo <None>\n\nThis closes #2134 from eolivelli/fix/javadoc-jdk11"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/5311e00f399ae3b5cb39fe03d8b5dd8c0547de14","html_url":"https://github.com/apache/bookkeeper/commit/5311e00f399ae3b5cb39fe03d8b5dd8c0547de14","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/5311e00f399ae3b5cb39fe03d8b5dd8c0547de14/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"86e8a72c7fcfb38b76bcbf434df586f3dc00a2af","url":"https://api.github.com/repos/apache/bookkeeper/commits/86e8a72c7fcfb38b76bcbf434df586f3dc00a2af","html_url":"https://github.com/apache/bookkeeper/commit/86e8a72c7fcfb38b76bcbf434df586f3dc00a2af"}]},{"sha":"86e8a72c7fcfb38b76bcbf434df586f3dc00a2af","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4NmU4YTcyYzdmY2ZiMzhiNzZiY2JmNDM0ZGY1ODZmM2RjMDBhMmFm","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-07-21T20:28:55Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-07-21T20:28:55Z"},"message":"Implementation of new scrutiny - replicas check (Part-1)\n\nDescriptions of the changes in this PR:\r\n\r\n- this is implementation of scrutiny mentioned in\r\nhttps://github.com/apache/bookkeeper/blob/master/site/bps/BP-34-cluster-metadata-checker.md\r\n- In this commit, urLedgersElapsedRecoveryGracePeriod check is added to placementPolicyCheck.\r\n- new scrutiny is added replicasCheck and it is disabled by default.\r\n- this is first part of replicas check, in this part currently metrics are not added and\r\nalso delayed replicas check for potentially faulty ledgers (failure in trying to get\r\ninfo. from Bookie of the ensembles of the ledger) is not added.\r\n- have to add more failure test scenarios for replicas check logic.\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2120 from reddycharan/replicascheck and squashes the following commits:\n\nd4dc81e15 [Sijie Guo] Merge remote-tracking branch 'apache/master' into replicascheck\n5a3fa848f [Matteo Minardi] Issue #2124: Test 'ListBookiesCommand ' is failing\ndf24f672a [vzhikserg] Use bulk operation instead of iteration\n2a1cfe249 [vzhikserg] Fix log statements with incorrect placeholders","tree":{"sha":"07d6273bfb452373f70938f3743b5a7264826576","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/07d6273bfb452373f70938f3743b5a7264826576"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/86e8a72c7fcfb38b76bcbf434df586f3dc00a2af","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdNMsHCRBK7hj4Ov3rIwAAdHIIADbp/hca7uaBD2ST5M5g18ps\nV4bw9ovTSUPeKsY9+DEo5ko1YsOtf4YxOYZU/aX3VjU6saneKceBiQO8ghepockz\nSveCauYMcbyxIJbq4Jc9/lAXufBQJWkVIPDjDmY/IbUKf1GjIAeUB+p/hZrzcV63\nW4+UuLWBYHvj96pmr5WaUMUvmNGCWPWdlHZu8XqmBeAsPCOIYd7mgFQqTUii+LlY\nmrzKQeJZFU1jJ0oEyG6ZfHpIO9mQELUdSwBJUjm5iDoKTT1JPthALWOR7fVru/qP\nH0yUzcsKRWyHFjfIN+F4Sz5BtjM9lG03HXiJfv4Tkn3OC7RCDdSEcsMDQdpiA/E=\n=hrRf\n-----END PGP SIGNATURE-----\n","payload":"tree 07d6273bfb452373f70938f3743b5a7264826576\nparent 5a3fa848f1817d447446f8250de559d631b81487\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1563740935 -0700\ncommitter GitHub <noreply@github.com> 1563740935 -0700\n\nImplementation of new scrutiny - replicas check (Part-1)\n\nDescriptions of the changes in this PR:\r\n\r\n- this is implementation of scrutiny mentioned in\r\nhttps://github.com/apache/bookkeeper/blob/master/site/bps/BP-34-cluster-metadata-checker.md\r\n- In this commit, urLedgersElapsedRecoveryGracePeriod check is added to placementPolicyCheck.\r\n- new scrutiny is added replicasCheck and it is disabled by default.\r\n- this is first part of replicas check, in this part currently metrics are not added and\r\nalso delayed replicas check for potentially faulty ledgers (failure in trying to get\r\ninfo. from Bookie of the ensembles of the ledger) is not added.\r\n- have to add more failure test scenarios for replicas check logic.\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <None>\n\nThis closes #2120 from reddycharan/replicascheck and squashes the following commits:\n\nd4dc81e15 [Sijie Guo] Merge remote-tracking branch 'apache/master' into replicascheck\n5a3fa848f [Matteo Minardi] Issue #2124: Test 'ListBookiesCommand ' is failing\ndf24f672a [vzhikserg] Use bulk operation instead of iteration\n2a1cfe249 [vzhikserg] Fix log statements with incorrect placeholders"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/86e8a72c7fcfb38b76bcbf434df586f3dc00a2af","html_url":"https://github.com/apache/bookkeeper/commit/86e8a72c7fcfb38b76bcbf434df586f3dc00a2af","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/86e8a72c7fcfb38b76bcbf434df586f3dc00a2af/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"5a3fa848f1817d447446f8250de559d631b81487","url":"https://api.github.com/repos/apache/bookkeeper/commits/5a3fa848f1817d447446f8250de559d631b81487","html_url":"https://github.com/apache/bookkeeper/commit/5a3fa848f1817d447446f8250de559d631b81487"}]},{"sha":"5a3fa848f1817d447446f8250de559d631b81487","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1YTNmYTg0OGYxODE3ZDQ0NzQ0NmY4MjUwZGU1NTlkNjMxYjgxNDg3","commit":{"author":{"name":"Matteo Minardi","email":"minardi.matteo@hotmail.it","date":"2019-07-21T06:14:52Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-07-21T06:14:52Z"},"message":"Issue #2124: Test 'ListBookiesCommand ' is failing\n\nIntroduced and fixed the tests involving the ListBookiesCommand\r\n\r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <None>\n\nThis closes #2125 from mino181295/fix/test-cmd-list, closes #2124","tree":{"sha":"52c3749322980dbbdf75ea081d34341871042a5f","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/52c3749322980dbbdf75ea081d34341871042a5f"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/5a3fa848f1817d447446f8250de559d631b81487","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/5a3fa848f1817d447446f8250de559d631b81487","html_url":"https://github.com/apache/bookkeeper/commit/5a3fa848f1817d447446f8250de559d631b81487","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/5a3fa848f1817d447446f8250de559d631b81487/comments","author":{"login":"mino181295","id":7540687,"node_id":"MDQ6VXNlcjc1NDA2ODc=","avatar_url":"https://avatars.githubusercontent.com/u/7540687?v=4","gravatar_id":"","url":"https://api.github.com/users/mino181295","html_url":"https://github.com/mino181295","followers_url":"https://api.github.com/users/mino181295/followers","following_url":"https://api.github.com/users/mino181295/following{/other_user}","gists_url":"https://api.github.com/users/mino181295/gists{/gist_id}","starred_url":"https://api.github.com/users/mino181295/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mino181295/subscriptions","organizations_url":"https://api.github.com/users/mino181295/orgs","repos_url":"https://api.github.com/users/mino181295/repos","events_url":"https://api.github.com/users/mino181295/events{/privacy}","received_events_url":"https://api.github.com/users/mino181295/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"df24f672ae7d0f9503980cd0a8f782470f6e663b","url":"https://api.github.com/repos/apache/bookkeeper/commits/df24f672ae7d0f9503980cd0a8f782470f6e663b","html_url":"https://github.com/apache/bookkeeper/commit/df24f672ae7d0f9503980cd0a8f782470f6e663b"}]},{"sha":"df24f672ae7d0f9503980cd0a8f782470f6e663b","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkZjI0ZjY3MmFlN2QwZjk1MDM5ODBjZDBhOGY3ODI0NzBmNmU2NjNi","commit":{"author":{"name":"vzhikserg","email":"vzhikserg@users.noreply.github.com","date":"2019-07-20T01:15:30Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-07-20T01:15:30Z"},"message":"Use bulk operation instead of iteration\n\n### Changes\r\n\r\n* Use the `addAll` method instead of iteration\n\nReviewers: Sijie Guo <None>\n\nThis closes #2122 from vzhikserg/bulk-call-instead-of-iteration","tree":{"sha":"0356e734daa9dd601cce54bb62c1eaacbe9f5f89","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/0356e734daa9dd601cce54bb62c1eaacbe9f5f89"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/df24f672ae7d0f9503980cd0a8f782470f6e663b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/df24f672ae7d0f9503980cd0a8f782470f6e663b","html_url":"https://github.com/apache/bookkeeper/commit/df24f672ae7d0f9503980cd0a8f782470f6e663b","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/df24f672ae7d0f9503980cd0a8f782470f6e663b/comments","author":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"2a1cfe249830f8dee0570031c8d0c132c32fe24e","url":"https://api.github.com/repos/apache/bookkeeper/commits/2a1cfe249830f8dee0570031c8d0c132c32fe24e","html_url":"https://github.com/apache/bookkeeper/commit/2a1cfe249830f8dee0570031c8d0c132c32fe24e"}]},{"sha":"2a1cfe249830f8dee0570031c8d0c132c32fe24e","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyYTFjZmUyNDk4MzBmOGRlZTA1NzAwMzFjOGQwYzEzMmMzMmZlMjRl","commit":{"author":{"name":"vzhikserg","email":"vzhikserg@users.noreply.github.com","date":"2019-07-20T01:14:26Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-07-20T01:14:26Z"},"message":"Fix log statements with incorrect placeholders\n\n### Changes\r\n\r\nThe following changes were made:\r\n\r\n- remove unused placeholders in the log statements\r\n- add missing placeholders to the log strings to show the complete information\r\n- remove unnecessary initialization of object arrays in the log statements \n\nReviewers: Sijie Guo <None>\n\nThis closes #2123 from vzhikserg/fix-log-statements","tree":{"sha":"e2caf8dffb5b32fc0d0fec89df3a1cad9ddae1b9","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e2caf8dffb5b32fc0d0fec89df3a1cad9ddae1b9"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2a1cfe249830f8dee0570031c8d0c132c32fe24e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2a1cfe249830f8dee0570031c8d0c132c32fe24e","html_url":"https://github.com/apache/bookkeeper/commit/2a1cfe249830f8dee0570031c8d0c132c32fe24e","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2a1cfe249830f8dee0570031c8d0c132c32fe24e/comments","author":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"b182b7478687328126a6aced27d5359fdf280e5c","url":"https://api.github.com/repos/apache/bookkeeper/commits/b182b7478687328126a6aced27d5359fdf280e5c","html_url":"https://github.com/apache/bookkeeper/commit/b182b7478687328126a6aced27d5359fdf280e5c"}]},{"sha":"b182b7478687328126a6aced27d5359fdf280e5c","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiMTgyYjc0Nzg2ODczMjgxMjZhNmFjZWQyN2Q1MzU5ZmRmMjgwZTVj","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-07-19T15:48:40Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-19T15:48:40Z"},"message":"[CI] Prune networks older than 12h\n\nPreviously we were using a filter which matched on the network name of\r\nthe networks we create. However, docker seems to have removed this\r\nfunctionality, so now we just prune all unused networks which are more\r\nthan 12h old (no CI job should be taking more than 12h).\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2126 from ivankelly/ci-failure","tree":{"sha":"eeb1aef589175e79e314ddc2f0cf6ff109c43365","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/eeb1aef589175e79e314ddc2f0cf6ff109c43365"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/b182b7478687328126a6aced27d5359fdf280e5c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/b182b7478687328126a6aced27d5359fdf280e5c","html_url":"https://github.com/apache/bookkeeper/commit/b182b7478687328126a6aced27d5359fdf280e5c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/b182b7478687328126a6aced27d5359fdf280e5c/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"eecb259de2ac2d2995aab0aa29263529a69a698d","url":"https://api.github.com/repos/apache/bookkeeper/commits/eecb259de2ac2d2995aab0aa29263529a69a698d","html_url":"https://github.com/apache/bookkeeper/commit/eecb259de2ac2d2995aab0aa29263529a69a698d"}]},{"sha":"eecb259de2ac2d2995aab0aa29263529a69a698d","node_id":"MDY6Q29tbWl0MTU3NTk1NjplZWNiMjU5ZGUyYWMyZDI5OTVhYWIwYWEyOTI2MzUyOWE2OWE2OThk","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2019-07-17T07:46:05Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-07-17T07:46:05Z"},"message":"Website update for 4.9.2 release\n\nAdded 4.9.2 release to website\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <None>\n\nThis closes #2098 from merlimat/master","tree":{"sha":"f1b57b97b3f044de07312efb9b0f30c8d67be015","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f1b57b97b3f044de07312efb9b0f30c8d67be015"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/eecb259de2ac2d2995aab0aa29263529a69a698d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/eecb259de2ac2d2995aab0aa29263529a69a698d","html_url":"https://github.com/apache/bookkeeper/commit/eecb259de2ac2d2995aab0aa29263529a69a698d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/eecb259de2ac2d2995aab0aa29263529a69a698d/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"ecf1c715f88feb8bcaf08b9063f774b0443f7ead","url":"https://api.github.com/repos/apache/bookkeeper/commits/ecf1c715f88feb8bcaf08b9063f774b0443f7ead","html_url":"https://github.com/apache/bookkeeper/commit/ecf1c715f88feb8bcaf08b9063f774b0443f7ead"}]},{"sha":"ecf1c715f88feb8bcaf08b9063f774b0443f7ead","node_id":"MDY6Q29tbWl0MTU3NTk1NjplY2YxYzcxNWY4OGZlYjhiY2FmMDhiOTA2M2Y3NzRiMDQ0M2Y3ZWFk","commit":{"author":{"name":"Hugo Abreu","email":"6619758+hugomiguelabreu@users.noreply.github.com","date":"2019-07-17T07:41:39Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-07-17T07:41:39Z"},"message":"Issue #1961: Included ZooKeeper client AclId.\n\nDescriptions of the changes in this PR:\r\nIncluded ZooKeeper Acl to the builder.\r\n\r\n### Changes\r\n\r\nIt is now possible to unbind DistributedLog namesapaces.\r\n\r\nMaster Issue: #1961\r\n\r\n\nReviewers: Ivan Kelly <ivank@apache.org>, Sijie Guo <None>\n\nThis closes #2118 from hugomiguelabreu/master, closes #1961","tree":{"sha":"f5abf288eea246f333e999bcc054e539279ff792","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f5abf288eea246f333e999bcc054e539279ff792"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/ecf1c715f88feb8bcaf08b9063f774b0443f7ead","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/ecf1c715f88feb8bcaf08b9063f774b0443f7ead","html_url":"https://github.com/apache/bookkeeper/commit/ecf1c715f88feb8bcaf08b9063f774b0443f7ead","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/ecf1c715f88feb8bcaf08b9063f774b0443f7ead/comments","author":{"login":"hugomiguelabreu","id":6619758,"node_id":"MDQ6VXNlcjY2MTk3NTg=","avatar_url":"https://avatars.githubusercontent.com/u/6619758?v=4","gravatar_id":"","url":"https://api.github.com/users/hugomiguelabreu","html_url":"https://github.com/hugomiguelabreu","followers_url":"https://api.github.com/users/hugomiguelabreu/followers","following_url":"https://api.github.com/users/hugomiguelabreu/following{/other_user}","gists_url":"https://api.github.com/users/hugomiguelabreu/gists{/gist_id}","starred_url":"https://api.github.com/users/hugomiguelabreu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hugomiguelabreu/subscriptions","organizations_url":"https://api.github.com/users/hugomiguelabreu/orgs","repos_url":"https://api.github.com/users/hugomiguelabreu/repos","events_url":"https://api.github.com/users/hugomiguelabreu/events{/privacy}","received_events_url":"https://api.github.com/users/hugomiguelabreu/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1adc93f05954fdb06d7e8b548d606e281831924a","url":"https://api.github.com/repos/apache/bookkeeper/commits/1adc93f05954fdb06d7e8b548d606e281831924a","html_url":"https://github.com/apache/bookkeeper/commit/1adc93f05954fdb06d7e8b548d606e281831924a"}]},{"sha":"1adc93f05954fdb06d7e8b548d606e281831924a","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxYWRjOTNmMDU5NTRmZGIwNmQ3ZThiNTQ4ZDYwNmUyODE4MzE5MjRh","commit":{"author":{"name":"massakam","email":"massakam@yahoo-corp.jp","date":"2019-07-12T08:04:46Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-12T08:04:46Z"},"message":"Issue #2103: Avoid stop of entry log compaction\n\n### Motivation\r\n\r\nAs mentioned in #2103, if an exception occurs during compaction of a specific entry log, `GarbageCollectorThread` does not perform compaction of other entry logs until the bookie server is restarted. As a result, the number of entry logs continues to increase and eventually it will run out of disk space.\r\n\r\n### Changes\r\n\r\nThe cause of the compaction stop is that the `compacting` flag remains true if `compactor.compact(entryLogMeta)` throws some exception.\r\nhttps://github.com/apache/bookkeeper/blob/b2e099bbc7b13f13825fe78ab009ca132cb3a9ba/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/GarbageCollectorThread.java#L504-L519\r\n\r\nTherefore, fixed `GarbageCollectorThread` so that it set the compaction flag to false even if compaction of a specific entry log fails.\r\n\r\nMaster Issue: #2103\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2121 from massakam/entry-log-compaction, closes #2103","tree":{"sha":"aba323b2bf23affec7f49186ffe047076f6a1be9","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/aba323b2bf23affec7f49186ffe047076f6a1be9"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1adc93f05954fdb06d7e8b548d606e281831924a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1adc93f05954fdb06d7e8b548d606e281831924a","html_url":"https://github.com/apache/bookkeeper/commit/1adc93f05954fdb06d7e8b548d606e281831924a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1adc93f05954fdb06d7e8b548d606e281831924a/comments","author":{"login":"massakam","id":22543882,"node_id":"MDQ6VXNlcjIyNTQzODgy","avatar_url":"https://avatars.githubusercontent.com/u/22543882?v=4","gravatar_id":"","url":"https://api.github.com/users/massakam","html_url":"https://github.com/massakam","followers_url":"https://api.github.com/users/massakam/followers","following_url":"https://api.github.com/users/massakam/following{/other_user}","gists_url":"https://api.github.com/users/massakam/gists{/gist_id}","starred_url":"https://api.github.com/users/massakam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massakam/subscriptions","organizations_url":"https://api.github.com/users/massakam/orgs","repos_url":"https://api.github.com/users/massakam/repos","events_url":"https://api.github.com/users/massakam/events{/privacy}","received_events_url":"https://api.github.com/users/massakam/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"6b892a45f02a6d8d0b1d33235d4134d91e3ea111","url":"https://api.github.com/repos/apache/bookkeeper/commits/6b892a45f02a6d8d0b1d33235d4134d91e3ea111","html_url":"https://github.com/apache/bookkeeper/commit/6b892a45f02a6d8d0b1d33235d4134d91e3ea111"}]},{"sha":"6b892a45f02a6d8d0b1d33235d4134d91e3ea111","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2Yjg5MmE0NWYwMmE2ZDhkMGIxZDMzMjM1ZDQxMzRkOTFlM2VhMTEx","commit":{"author":{"name":"Rajan Dhabalia","email":"rdhabalia@apache.org","date":"2019-07-12T08:03:10Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-12T08:03:10Z"},"message":"[BK-SERVER] Clean up over-replicated ledgers owned by different bookies\n\n### Motivation\r\nAs described at: https://github.com/apache/pulsar/issues/4632\r\n- Sometimes due to overreplication, bookie contains ledgers which are not owned by that bookie anymore and that bookie is not part of the ensemble-list of those ledgers. In this case, GC finds out those overreplicated ledgers and \r\n- deletes their index from dbStorage (rocksDB) and \r\n- tries to delete them from entrylog files.\r\n\r\nHowever, bookie doesn't delete them from entry-log files due to change made in [#870](https://github.com/apache/bookkeeper/issues/870) where bookie avoids deleting ledger if znode of that ledger exists.\r\n\r\nBecause of that bookie ends up storing large number entrylog files with ledgers which are owned by different bookies. It also cause OOM when GC tries to deal with large number of entry log files.\r\n\r\n### Modification\r\n\r\nDelete the ledgers if bookie is not part of ensemble list of over-replicated ledgers\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2119 from rdhabalia/overRepl","tree":{"sha":"347878cde63f07ebb10d683a83bd4c28db7af8f5","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/347878cde63f07ebb10d683a83bd4c28db7af8f5"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6b892a45f02a6d8d0b1d33235d4134d91e3ea111","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6b892a45f02a6d8d0b1d33235d4134d91e3ea111","html_url":"https://github.com/apache/bookkeeper/commit/6b892a45f02a6d8d0b1d33235d4134d91e3ea111","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6b892a45f02a6d8d0b1d33235d4134d91e3ea111/comments","author":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"762a61365408d81a20193ef4ae1d44394746c105","url":"https://api.github.com/repos/apache/bookkeeper/commits/762a61365408d81a20193ef4ae1d44394746c105","html_url":"https://github.com/apache/bookkeeper/commit/762a61365408d81a20193ef4ae1d44394746c105"}]},{"sha":"762a61365408d81a20193ef4ae1d44394746c105","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3NjJhNjEzNjU0MDhkODFhMjAxOTNlZjRhZTFkNDQzOTQ3NDZjMTA1","commit":{"author":{"name":"Matteo Minardi","email":"minardi.matteo@hotmail.it","date":"2019-07-12T08:01:55Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-07-12T08:01:55Z"},"message":"Implement a method to get all the Bookies\n\nIn this PR I'm adding a `BokKeeperAdmin#getAllBookies` to retrive all the bookies (cookie) retriving them from the `RegistrationClient`\r\n\r\nThis is still a work in progress, I'm adding some tests in the next commit.\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2117 from mino181295/allbookies","tree":{"sha":"2f868571a5c20cc190f9fda1c246e4b7e5023a99","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2f868571a5c20cc190f9fda1c246e4b7e5023a99"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/762a61365408d81a20193ef4ae1d44394746c105","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/762a61365408d81a20193ef4ae1d44394746c105","html_url":"https://github.com/apache/bookkeeper/commit/762a61365408d81a20193ef4ae1d44394746c105","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/762a61365408d81a20193ef4ae1d44394746c105/comments","author":{"login":"mino181295","id":7540687,"node_id":"MDQ6VXNlcjc1NDA2ODc=","avatar_url":"https://avatars.githubusercontent.com/u/7540687?v=4","gravatar_id":"","url":"https://api.github.com/users/mino181295","html_url":"https://github.com/mino181295","followers_url":"https://api.github.com/users/mino181295/followers","following_url":"https://api.github.com/users/mino181295/following{/other_user}","gists_url":"https://api.github.com/users/mino181295/gists{/gist_id}","starred_url":"https://api.github.com/users/mino181295/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mino181295/subscriptions","organizations_url":"https://api.github.com/users/mino181295/orgs","repos_url":"https://api.github.com/users/mino181295/repos","events_url":"https://api.github.com/users/mino181295/events{/privacy}","received_events_url":"https://api.github.com/users/mino181295/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"b34162a932b93a7e65451dce3f6e10bfda707997","url":"https://api.github.com/repos/apache/bookkeeper/commits/b34162a932b93a7e65451dce3f6e10bfda707997","html_url":"https://github.com/apache/bookkeeper/commit/b34162a932b93a7e65451dce3f6e10bfda707997"}]},{"sha":"b34162a932b93a7e65451dce3f6e10bfda707997","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiMzQxNjJhOTMyYjkzYTdlNjU0NTFkY2UzZjZlMTBiZmRhNzA3OTk3","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-06-25T06:17:52Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-06-25T06:17:52Z"},"message":"Implementation of ZoneawareEnsemblePlacementPolicy\n\n\r\nDescriptions of the changes in this PR:\r\n\r\nImplementation of ZoneawareEnsemblePlacementPolicy\r\n\r\n- This is meant to be used in public cloud infrastructure in which\r\nAvailability zones (AZs) are isolated locations within data center\r\nregions from which public cloud services originate and operate.\r\n- ZoneawareEnsemblePlacementPolicy is a placement policy implementation\r\nwhich uses zone information for placing ensembles.\r\n- In this PlacementPolicy, it is assumed the networktopology/networklocation\r\n is going to be two level tree, where first part indicates zoneid\r\nand the second part indicates upgradedomainid.\r\n- Here upgrade domain is a set of bookies in an AZ that can be brought\r\ndown together for short term maintenance with no impact to the service.\r\nThis would help in enabling parallel patching.\r\n- Upgrade domain is a logic concept/division and it may be mapped to\r\ncloud provider native cluster/grouping like Placement Groups in AWS.\r\n\r\nIntroduce soft PlacementPolicyAdherence\r\n\r\n- for ZoneawarePlacementPolicy if in a writeset the number\r\nof zones are in between minnumofzones and desirednumofzones\r\nthen it is considered MEETS_SOFT.\r\n- if all of the writesets have zones >= desirednumofzones\r\nthen it is considered MEETS_STRICT\r\n- if a writeset contains < minnumofzones then it is considered\r\nFAIL\r\n- add corresponding metric for PlacementPolicyAdherence.MEETS_SOFT\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #2113 from reddycharan/zoneawareplacementpolicycommunitybranch","tree":{"sha":"9be07b4de9df910291d615137706297f253d9899","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/9be07b4de9df910291d615137706297f253d9899"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/b34162a932b93a7e65451dce3f6e10bfda707997","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdEbyQCRBK7hj4Ov3rIwAAdHIIAF9SzP9ly1fkOPKllGdC/quW\nXyaY07MfQELBwYlzVLwSMA8iC6Dy9GQK+4SHFnlPaBmrRCeYFwsHLjbEQ7ldDc+G\nISQ7P5vR4r07y8C9kLNjAHHn3Sa3e1ChIKkFb3hzj9tjH5Jc3w9hiy2vwGbVjjZ0\nMle0bsfJGRuT/eI/yu0hr8xoSneg+BE51gwa3usMoWCQ1GSZL+OzHDnsU/6fvpkX\njvHek4K4bKe3JDTVgPDEHmfpUF2pTYdIwRlNkuzZiv0QPQupeEWGCMhBFVHEmpwX\nzBlXVGvtnO67lebj3yMZUQPV8As6uso4UKPNtyC1pb1uHIPyGPOj8GIHahzhctk=\n=a24n\n-----END PGP SIGNATURE-----\n","payload":"tree 9be07b4de9df910291d615137706297f253d9899\nparent 54ce17312f53c9b2a1ac3ea83303a7bebebc0a31\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1561443472 -0700\ncommitter GitHub <noreply@github.com> 1561443472 -0700\n\nImplementation of ZoneawareEnsemblePlacementPolicy\n\n\r\nDescriptions of the changes in this PR:\r\n\r\nImplementation of ZoneawareEnsemblePlacementPolicy\r\n\r\n- This is meant to be used in public cloud infrastructure in which\r\nAvailability zones (AZs) are isolated locations within data center\r\nregions from which public cloud services originate and operate.\r\n- ZoneawareEnsemblePlacementPolicy is a placement policy implementation\r\nwhich uses zone information for placing ensembles.\r\n- In this PlacementPolicy, it is assumed the networktopology/networklocation\r\n is going to be two level tree, where first part indicates zoneid\r\nand the second part indicates upgradedomainid.\r\n- Here upgrade domain is a set of bookies in an AZ that can be brought\r\ndown together for short term maintenance with no impact to the service.\r\nThis would help in enabling parallel patching.\r\n- Upgrade domain is a logic concept/division and it may be mapped to\r\ncloud provider native cluster/grouping like Placement Groups in AWS.\r\n\r\nIntroduce soft PlacementPolicyAdherence\r\n\r\n- for ZoneawarePlacementPolicy if in a writeset the number\r\nof zones are in between minnumofzones and desirednumofzones\r\nthen it is considered MEETS_SOFT.\r\n- if all of the writesets have zones >= desirednumofzones\r\nthen it is considered MEETS_STRICT\r\n- if a writeset contains < minnumofzones then it is considered\r\nFAIL\r\n- add corresponding metric for PlacementPolicyAdherence.MEETS_SOFT\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #2113 from reddycharan/zoneawareplacementpolicycommunitybranch"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/b34162a932b93a7e65451dce3f6e10bfda707997","html_url":"https://github.com/apache/bookkeeper/commit/b34162a932b93a7e65451dce3f6e10bfda707997","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/b34162a932b93a7e65451dce3f6e10bfda707997/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"54ce17312f53c9b2a1ac3ea83303a7bebebc0a31","url":"https://api.github.com/repos/apache/bookkeeper/commits/54ce17312f53c9b2a1ac3ea83303a7bebebc0a31","html_url":"https://github.com/apache/bookkeeper/commit/54ce17312f53c9b2a1ac3ea83303a7bebebc0a31"}]},{"sha":"54ce17312f53c9b2a1ac3ea83303a7bebebc0a31","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1NGNlMTczMTJmNTNjOWIyYTFhYzNlYTgzMzAzYTdiZWJlYmMwYTMx","commit":{"author":{"name":"Hugo Abreu","email":"6619758+hugomiguelabreu@users.noreply.github.com","date":"2019-06-21T03:22:33Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-06-21T03:22:33Z"},"message":"Added zookeeper host configuration. Closes #1960\n\nDescriptions of the changes in this PR:\r\nAdded host IP binding to sandbox.\r\n\r\n### Motivation\r\nAllowing running the sandbox inside guest machines and be accessible by all system (including other guest machines). When binding 127.0.0.1 other guest machines will experience an error. By allowing to bind the correct IP the namespace will be available and correctly configured for other hosts.\r\n\r\n### Changes\r\nAdded a new argument to the _dlog_ tool allowing to define the host IP to bind ZooKeeper and DistributedLog namespace.\r\n\r\nMaster Issue: #1960\r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2081 from hugomiguelabreu/master, closes #1960","tree":{"sha":"2ea9ab1ceff6c4e2715ba24429cfdb5f45e5484f","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2ea9ab1ceff6c4e2715ba24429cfdb5f45e5484f"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/54ce17312f53c9b2a1ac3ea83303a7bebebc0a31","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/54ce17312f53c9b2a1ac3ea83303a7bebebc0a31","html_url":"https://github.com/apache/bookkeeper/commit/54ce17312f53c9b2a1ac3ea83303a7bebebc0a31","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/54ce17312f53c9b2a1ac3ea83303a7bebebc0a31/comments","author":{"login":"hugomiguelabreu","id":6619758,"node_id":"MDQ6VXNlcjY2MTk3NTg=","avatar_url":"https://avatars.githubusercontent.com/u/6619758?v=4","gravatar_id":"","url":"https://api.github.com/users/hugomiguelabreu","html_url":"https://github.com/hugomiguelabreu","followers_url":"https://api.github.com/users/hugomiguelabreu/followers","following_url":"https://api.github.com/users/hugomiguelabreu/following{/other_user}","gists_url":"https://api.github.com/users/hugomiguelabreu/gists{/gist_id}","starred_url":"https://api.github.com/users/hugomiguelabreu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hugomiguelabreu/subscriptions","organizations_url":"https://api.github.com/users/hugomiguelabreu/orgs","repos_url":"https://api.github.com/users/hugomiguelabreu/repos","events_url":"https://api.github.com/users/hugomiguelabreu/events{/privacy}","received_events_url":"https://api.github.com/users/hugomiguelabreu/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"96fc2e2aac4d026fe336ae8347521d9910165dd5","url":"https://api.github.com/repos/apache/bookkeeper/commits/96fc2e2aac4d026fe336ae8347521d9910165dd5","html_url":"https://github.com/apache/bookkeeper/commit/96fc2e2aac4d026fe336ae8347521d9910165dd5"}]},{"sha":"96fc2e2aac4d026fe336ae8347521d9910165dd5","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5NmZjMmUyYWFjNGQwMjZmZTMzNmFlODM0NzUyMWQ5OTEwMTY1ZGQ1","commit":{"author":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-06-21T03:19:53Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-06-21T03:19:53Z"},"message":"Issue #1970: Ensure getStickyReadBookieIndex returns valid bookie index\n\nDescriptions of the changes in this PR:\r\n\r\nMaster Issue: #1970\r\nRelated Issues: apache/pulsar#3715 apache/pulsar#4526\r\n\r\n*Motivation*\r\n\r\nFixes #1970\r\n\r\nBy default bookie uses a random generator to generate a bookie index as the sticky\r\nread bookie index. However the random generator will generate negative numbers. Hence\r\nit will generate negative bookie indexes in write set and cause ArrayIndexOutOfBoundException\r\nwhen bookkeeper attempts to read entries.\r\n\r\n*Modifications*\r\n\r\nMake sure getStickyReadBookieIndex not return negative number.\r\n\r\n*Verify this change*\r\n\r\nThis problem introduced by a random generator. It is very hard to write a unit test to reproduce this issue.\r\nExisting StickyRead tests are good to cover this code change.\r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Yong Zhang <zhangyong1025.zy@gmail.com>\n\nThis closes #2111 from sijie/fix_sticky_read, closes #1970","tree":{"sha":"f367641f181f05a4863ee5791dfd78bf53e1d6e9","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f367641f181f05a4863ee5791dfd78bf53e1d6e9"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/96fc2e2aac4d026fe336ae8347521d9910165dd5","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdDEzZCRBK7hj4Ov3rIwAAdHIIAB6A0g1EdkEidzBj684jJjVL\nyYhIhv892Gig0i4vo/vSNxfDkk/F3zeCGWM2AR7X9LOkQLgSrpWiOiVCJN7CSt6I\n6bEQyLe5JLGvz61qNMiklNCcsikYw9ccdVocuetHEVqJWQjffdYHT1LykQrrCAZK\nQkIdovPKeRflykInB9pv3him6vbvCMTImHwTvBmqQM6kf6YsdQvzxFE/fyxEOVii\nt+IhCMMLEZrxozKAgBYfIz45rjqoXUYM8L5tZeuC2aOQ2FM0Gnx9bepRmEkXvaYa\nlmrHhf2W4Zyr6cnfPGSv0rgBhLlPW66+Hqtv8JDgZpJiZcZxa/TC5RV4YruLVUg=\n=NYmB\n-----END PGP SIGNATURE-----\n","payload":"tree f367641f181f05a4863ee5791dfd78bf53e1d6e9\nparent 533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf\nauthor Sijie Guo <guosijie@gmail.com> 1561087193 -0700\ncommitter GitHub <noreply@github.com> 1561087193 -0700\n\nIssue #1970: Ensure getStickyReadBookieIndex returns valid bookie index\n\nDescriptions of the changes in this PR:\r\n\r\nMaster Issue: #1970\r\nRelated Issues: apache/pulsar#3715 apache/pulsar#4526\r\n\r\n*Motivation*\r\n\r\nFixes #1970\r\n\r\nBy default bookie uses a random generator to generate a bookie index as the sticky\r\nread bookie index. However the random generator will generate negative numbers. Hence\r\nit will generate negative bookie indexes in write set and cause ArrayIndexOutOfBoundException\r\nwhen bookkeeper attempts to read entries.\r\n\r\n*Modifications*\r\n\r\nMake sure getStickyReadBookieIndex not return negative number.\r\n\r\n*Verify this change*\r\n\r\nThis problem introduced by a random generator. It is very hard to write a unit test to reproduce this issue.\r\nExisting StickyRead tests are good to cover this code change.\r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Yong Zhang <zhangyong1025.zy@gmail.com>\n\nThis closes #2111 from sijie/fix_sticky_read, closes #1970"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/96fc2e2aac4d026fe336ae8347521d9910165dd5","html_url":"https://github.com/apache/bookkeeper/commit/96fc2e2aac4d026fe336ae8347521d9910165dd5","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/96fc2e2aac4d026fe336ae8347521d9910165dd5/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf","url":"https://api.github.com/repos/apache/bookkeeper/commits/533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf","html_url":"https://github.com/apache/bookkeeper/commit/533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf"}]},{"sha":"533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1MzNkZDVkNmU5ZDNhYzliMjRkMjQ2MmY2YWU0ZDQyNDBhNGJmZmRm","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-06-20T12:36:11Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-06-20T12:36:11Z"},"message":"[DLOG] Delete empty inprogress segment on recovery\n\nThis addresses an issue, whereby if a user is using getLastTxId() to\r\nfind the first txnid when starting to write, they will continue to be\r\nable to write if the last segment written by the previous writer was\r\nempty. If the last segment was empty, then the maxTxId would be higher\r\nthan the result of getLastTxId(). maxTxId is read from a znode, while\r\ngetLastTxId() reads the txid of the last persisted record. In the case\r\nof an empty inprogress segment, the maxTxId znode was being updated\r\nwith the expected first transaction id of the segment.\r\n\r\nThis patch addresses the issue with the following changes:\r\n1. The maxTxId znode is only updated when inprogress segment is\r\n   completed, so it's value always refers to a transaction that\r\n   exists.\r\n2. On recovery, if the inprogress segment is empty, delete it. There\r\n   was a TODO comment to do this already there.\r\n3. When generating the sequence number, allow a potential sequence\r\n   number which is equal to the current max sequence number, as this\r\n   can be the case where recovery deleted an inprogress empty segment.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2099 from ivankelly/txnid-issue","tree":{"sha":"15a25d1189a4e56960951622dd8cf9f1a3456ee0","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/15a25d1189a4e56960951622dd8cf9f1a3456ee0"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdC327CRBK7hj4Ov3rIwAAdHIIAAee55JJyKlMH5a2a92WE3Qe\nSLWLEP+DVMFxiZUSCrIp16IpEwCPcB0Lx6oYg/DjterQlsfr3yn1c4Riuh51+TUp\n7lIqVLzpn5Yssv8MAklGMk3hEbFMP8F019uTUdUA5+Xnkv0oevFMD1comwwZjju/\ni/rWy5rb127AHHElFzKBYoEhNhz36WRnHkxt4eSW0yBaT0sgt3U/gBob8n33GyBt\naYKmJLd5uMO/NPUadOzP7NQxkK+7nPYxUE8cC/Zo8057TfiCF9NqjsPvItHsFCm7\ntnyeIU0lDnJDJsgKV/9TKETDFmH77RF2YX3TuXK+hWtWYoJN3KggYCbtsB+U7nQ=\n=AWOo\n-----END PGP SIGNATURE-----\n","payload":"tree 15a25d1189a4e56960951622dd8cf9f1a3456ee0\nparent f719fb002b6f4f1d73c944e7d3a39d39f79b581c\nauthor Ivan Kelly <ivank@apache.org> 1561034171 +0200\ncommitter GitHub <noreply@github.com> 1561034171 +0200\n\n[DLOG] Delete empty inprogress segment on recovery\n\nThis addresses an issue, whereby if a user is using getLastTxId() to\r\nfind the first txnid when starting to write, they will continue to be\r\nable to write if the last segment written by the previous writer was\r\nempty. If the last segment was empty, then the maxTxId would be higher\r\nthan the result of getLastTxId(). maxTxId is read from a znode, while\r\ngetLastTxId() reads the txid of the last persisted record. In the case\r\nof an empty inprogress segment, the maxTxId znode was being updated\r\nwith the expected first transaction id of the segment.\r\n\r\nThis patch addresses the issue with the following changes:\r\n1. The maxTxId znode is only updated when inprogress segment is\r\n   completed, so it's value always refers to a transaction that\r\n   exists.\r\n2. On recovery, if the inprogress segment is empty, delete it. There\r\n   was a TODO comment to do this already there.\r\n3. When generating the sequence number, allow a potential sequence\r\n   number which is equal to the current max sequence number, as this\r\n   can be the case where recovery deleted an inprogress empty segment.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2099 from ivankelly/txnid-issue"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf","html_url":"https://github.com/apache/bookkeeper/commit/533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/533dd5d6e9d3ac9b24d2462f6ae4d4240a4bffdf/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"f719fb002b6f4f1d73c944e7d3a39d39f79b581c","url":"https://api.github.com/repos/apache/bookkeeper/commits/f719fb002b6f4f1d73c944e7d3a39d39f79b581c","html_url":"https://github.com/apache/bookkeeper/commit/f719fb002b6f4f1d73c944e7d3a39d39f79b581c"}]},{"sha":"f719fb002b6f4f1d73c944e7d3a39d39f79b581c","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmNzE5ZmIwMDJiNmY0ZjFkNzNjOTQ0ZTdkM2EzOWQzOWY3OWI1ODFj","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2019-06-13T09:22:09Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-06-13T09:22:09Z"},"message":"Use https for Twitter maven repo\n\n### Motivation\r\n\r\nFetch the maven dependencies through HTTPs \n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2100 from merlimat/merlimat-patch-1","tree":{"sha":"e6eb14a92cb38197e2231c7c8cac0ab36a9b8be0","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e6eb14a92cb38197e2231c7c8cac0ab36a9b8be0"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f719fb002b6f4f1d73c944e7d3a39d39f79b581c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f719fb002b6f4f1d73c944e7d3a39d39f79b581c","html_url":"https://github.com/apache/bookkeeper/commit/f719fb002b6f4f1d73c944e7d3a39d39f79b581c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f719fb002b6f4f1d73c944e7d3a39d39f79b581c/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"6820f890343e51a6b2b1c9544b90dc1c6ca40dea","url":"https://api.github.com/repos/apache/bookkeeper/commits/6820f890343e51a6b2b1c9544b90dc1c6ca40dea","html_url":"https://github.com/apache/bookkeeper/commit/6820f890343e51a6b2b1c9544b90dc1c6ca40dea"}]},{"sha":"6820f890343e51a6b2b1c9544b90dc1c6ca40dea","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2ODIwZjg5MDM0M2U1MWE2YjJiMWM5NTQ0YjkwZGMxYzZjYTQwZGVh","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-06-10T21:57:11Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-06-10T21:57:11Z"},"message":"Testcase for limitStatsLogging.\n\n\r\n\r\nDescriptions of the changes in this PR:\r\n\r\nbd2b16e880d172d4761461fdbf85c1bd19b24e36 had introduced\r\n'limitStatsLogging' feature, which would be used to limit statslogging,\r\nwhere it is needed. eg - we would like to suppress logs from PCBC\r\nin Auditor/ReplicationWorker process.\r\n\r\nIn this commit I'm adding testcases for this feature.\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2109 from reddycharan/testlimitstatslogging","tree":{"sha":"ca49d5da6e20fd19db06f36bd815bfcdd6385808","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/ca49d5da6e20fd19db06f36bd815bfcdd6385808"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6820f890343e51a6b2b1c9544b90dc1c6ca40dea","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJc/tI3CRBK7hj4Ov3rIwAAdHIIADhmkSmlvJYTnyaprLOeBKsb\nAeimQeDP7irOgHd7mzsbh6JePHVz2mHMDqzV3GXnMnD2pKJWjo1g5XQplqSK2386\nM4cxOZM1VYjrODxqTRAlmzLT+8aV1jlxuwLPVpXAGqhWZyADxPeXqGWarxTchVQq\n1n/5pKkQITnNd6wFoakEtNk8TkhjBz3rlMVy5Ms1w9puBfPG2aMJoh946tG2b8M6\nIlz85RlhDRfbglOlcJUX6Av4TIbh3nTpdVc/tGRXv4XcbOgjRhkkuBaVv+9jfUdE\nsS/iNAQTaNnMqxMTzMf84vPfOGeyGQwe6ffXufxnhHDhVjHFB2gzmJGv9GVS7X0=\n=JkDE\n-----END PGP SIGNATURE-----\n","payload":"tree ca49d5da6e20fd19db06f36bd815bfcdd6385808\nparent be3bdd0fa20f818158c25f6b59fcfc89d82c4734\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1560203831 -0700\ncommitter GitHub <noreply@github.com> 1560203831 -0700\n\nTestcase for limitStatsLogging.\n\n\r\n\r\nDescriptions of the changes in this PR:\r\n\r\nbd2b16e880d172d4761461fdbf85c1bd19b24e36 had introduced\r\n'limitStatsLogging' feature, which would be used to limit statslogging,\r\nwhere it is needed. eg - we would like to suppress logs from PCBC\r\nin Auditor/ReplicationWorker process.\r\n\r\nIn this commit I'm adding testcases for this feature.\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2109 from reddycharan/testlimitstatslogging"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6820f890343e51a6b2b1c9544b90dc1c6ca40dea","html_url":"https://github.com/apache/bookkeeper/commit/6820f890343e51a6b2b1c9544b90dc1c6ca40dea","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6820f890343e51a6b2b1c9544b90dc1c6ca40dea/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"be3bdd0fa20f818158c25f6b59fcfc89d82c4734","url":"https://api.github.com/repos/apache/bookkeeper/commits/be3bdd0fa20f818158c25f6b59fcfc89d82c4734","html_url":"https://github.com/apache/bookkeeper/commit/be3bdd0fa20f818158c25f6b59fcfc89d82c4734"}]},{"sha":"be3bdd0fa20f818158c25f6b59fcfc89d82c4734","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiZTNiZGQwZmEyMGY4MTgxNThjMjVmNmI1OWZjZmM4OWQ4MmM0NzM0","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"cguttapalem@salesforce.com","date":"2019-06-07T15:27:04Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-06-07T15:27:04Z"},"message":"Bring back statslogger to BookKeeper client in ReplicationWorker process.\n\n\r\nDescriptions of the changes in this PR:\r\n\r\nbd2b16e880d172d4761461fdbf85c1bd19b24e36 is supposed to fix this issue,\r\nbut it missed passing statsLogger to createBookKeeperClient method.\r\n\r\nFor more info. check desc. of bd2b16e880d172d4761461fdbf85c1bd19b24e36.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2108 from reddycharan/enablebookieclientlogger","tree":{"sha":"08acefb79f42984bb02700f69e8d112cefe4bc6f","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/08acefb79f42984bb02700f69e8d112cefe4bc6f"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/be3bdd0fa20f818158c25f6b59fcfc89d82c4734","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/be3bdd0fa20f818158c25f6b59fcfc89d82c4734","html_url":"https://github.com/apache/bookkeeper/commit/be3bdd0fa20f818158c25f6b59fcfc89d82c4734","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/be3bdd0fa20f818158c25f6b59fcfc89d82c4734/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"839cf3c09add5ed0c33980adbdfced3bb83bba4d","url":"https://api.github.com/repos/apache/bookkeeper/commits/839cf3c09add5ed0c33980adbdfced3bb83bba4d","html_url":"https://github.com/apache/bookkeeper/commit/839cf3c09add5ed0c33980adbdfced3bb83bba4d"}]},{"sha":"839cf3c09add5ed0c33980adbdfced3bb83bba4d","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4MzljZjNjMDlhZGQ1ZWQwYzMzOTgwYWRiZGZjZWQzYmI4M2JiYTRk","commit":{"author":{"name":"karanmehta93","email":"k.mehta@salesforce.com","date":"2019-06-07T15:25:58Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-06-07T15:25:58Z"},"message":"Display filesystem and docker info for all jenkins runs\n\nDescriptions of the changes in this PR:\r\n\r\nChanges to shell commands in few scripts\r\n\r\n### Motivation\r\n\r\nIt was difficult to reproduce jenkins test failures locally and the cause might be due to differences in underlying file system. These commands will output more information to spot the exact differences.\r\n\r\n### Changes\r\n\r\nRunning `df` command with an additional `-T` parameter to output filesystem information\r\nAdded `docker info` command to print docker details before every test run\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2107 from karanmehta93/master","tree":{"sha":"1641b1b12771762448a68bda45446dc5de207ed6","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/1641b1b12771762448a68bda45446dc5de207ed6"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/839cf3c09add5ed0c33980adbdfced3bb83bba4d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/839cf3c09add5ed0c33980adbdfced3bb83bba4d","html_url":"https://github.com/apache/bookkeeper/commit/839cf3c09add5ed0c33980adbdfced3bb83bba4d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/839cf3c09add5ed0c33980adbdfced3bb83bba4d/comments","author":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"fb8b58e9dff3fcdb30cf8faabff442d683922232","url":"https://api.github.com/repos/apache/bookkeeper/commits/fb8b58e9dff3fcdb30cf8faabff442d683922232","html_url":"https://github.com/apache/bookkeeper/commit/fb8b58e9dff3fcdb30cf8faabff442d683922232"}]},{"sha":"fb8b58e9dff3fcdb30cf8faabff442d683922232","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmYjhiNThlOWRmZjNmY2RiMzBjZjhmYWFiZmY0NDJkNjgzOTIyMjMy","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2019-06-06T08:58:43Z"},"committer":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-06-06T08:58:43Z"},"message":"Update distributedlog library to use NoSuchLedgerExistsOnMetadataServer\n\n*Motivation*\r\n\r\nIssue #2066 introduced `NoSuchLedgerExistsOnMetadataServer`. But the distributedlog\r\nlibrary is not updated to reflect to this change.\r\n\r\n*Modifications*\r\n\r\nChange to use `NoSuchLedgerExistsOnMetadataServer` in the right place.\n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2102 from sijie/fix_failure_test","tree":{"sha":"9d70cf61f947cbe286b252d1571b9f5fc8b6bab7","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/9d70cf61f947cbe286b252d1571b9f5fc8b6bab7"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/fb8b58e9dff3fcdb30cf8faabff442d683922232","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/fb8b58e9dff3fcdb30cf8faabff442d683922232","html_url":"https://github.com/apache/bookkeeper/commit/fb8b58e9dff3fcdb30cf8faabff442d683922232","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/fb8b58e9dff3fcdb30cf8faabff442d683922232/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"4fe353425ef6e6df1a04cd1be541139881abae9b","url":"https://api.github.com/repos/apache/bookkeeper/commits/4fe353425ef6e6df1a04cd1be541139881abae9b","html_url":"https://github.com/apache/bookkeeper/commit/4fe353425ef6e6df1a04cd1be541139881abae9b"}]},{"sha":"4fe353425ef6e6df1a04cd1be541139881abae9b","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0ZmUzNTM0MjVlZjZlNmRmMWEwNGNkMWJlNTQxMTM5ODgxYWJhZTli","commit":{"author":{"name":"zhaohaidao","email":"zhaohaidao2008@hotmail.com","date":"2019-06-06T07:31:27Z"},"committer":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-06-06T07:31:27Z"},"message":"ISSUE #1927: fix NoNodeException in LocalBookeeper\n\n### Motivation\r\nIt addresses #1927 where it provides a conf check at the beginning of startLocalBookiesInternal function.\r\n### Changes\r\n\r\n- Add a conf check at the beginning of startLocalBookiesInternal function where non-default zkLedgersRootPath is not allowed.\r\n\r\ncc sijie \n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2082 from zhaohaidao/master, closes #1927","tree":{"sha":"85015cba2f7c50d2aea8db56b89f884a6eb7e657","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/85015cba2f7c50d2aea8db56b89f884a6eb7e657"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/4fe353425ef6e6df1a04cd1be541139881abae9b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/4fe353425ef6e6df1a04cd1be541139881abae9b","html_url":"https://github.com/apache/bookkeeper/commit/4fe353425ef6e6df1a04cd1be541139881abae9b","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/4fe353425ef6e6df1a04cd1be541139881abae9b/comments","author":{"login":"zhaohaidao","id":6216286,"node_id":"MDQ6VXNlcjYyMTYyODY=","avatar_url":"https://avatars.githubusercontent.com/u/6216286?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaohaidao","html_url":"https://github.com/zhaohaidao","followers_url":"https://api.github.com/users/zhaohaidao/followers","following_url":"https://api.github.com/users/zhaohaidao/following{/other_user}","gists_url":"https://api.github.com/users/zhaohaidao/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaohaidao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaohaidao/subscriptions","organizations_url":"https://api.github.com/users/zhaohaidao/orgs","repos_url":"https://api.github.com/users/zhaohaidao/repos","events_url":"https://api.github.com/users/zhaohaidao/events{/privacy}","received_events_url":"https://api.github.com/users/zhaohaidao/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"b88f4b813f5ee5846b4879972e2c8359ac0eb4f2","url":"https://api.github.com/repos/apache/bookkeeper/commits/b88f4b813f5ee5846b4879972e2c8359ac0eb4f2","html_url":"https://github.com/apache/bookkeeper/commit/b88f4b813f5ee5846b4879972e2c8359ac0eb4f2"}]},{"sha":"b88f4b813f5ee5846b4879972e2c8359ac0eb4f2","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiODhmNGI4MTNmNWVlNTg0NmI0ODc5OTcyZTJjODM1OWFjMGViNGYy","commit":{"author":{"name":"Ankit Jain","email":"ankit.mcs@gmail.com","date":"2019-06-01T00:24:55Z"},"committer":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-06-01T00:24:55Z"},"message":"Entries must be acknowledged by bookies in multiple fault domains before being acknowledged to client\n\nDescriptions of the changes in this PR:\r\n\r\nBookkeeper write logic makes sure that there are at least ackQuorumSize\r\nnumber of successful writes before sending ack back to the client. In\r\nmany cases these may fall into the same fault domain. A mechanism to\r\nforce bookkeeper to make sure that there are acks from at least\r\nminNumRacksPerWriteQuorum number of fault domains and a configuration\r\nto enforce this.\r\n\r\nSigned-off-by: Ankit Jain <jain.asalesforce.com>\r\n\r\nMaster Issue: #2095 \n\nReviewers: Charan Reddy Guttapalem <reddycharan18@gmail.com>, Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2096 from ankit-j/ankit-j/enforceFragmentMultipleFaultDomainWrite and squashes the following commits:\n\nc90fd5a3d [Ankit Jain] Addressing review comments\n07deae673 [Ankit Jain] Addressing @reddycharan's review comments\n14164e291 [Ankit Jain] Fixed spacing error in bk_server.yaml\n22c8b3c03 [Ankit Jain] Updated testing.\n917ed1c45 [Ankit Jain] Move readLock.unlock to finally block\n78e0cd501 [Ankit Jain] Modify test to not use default rack for bookies\nca0bc3b8b [Ankit Jain] Entries must be acknowledged by bookies in multiple fault domains before being acknowledged to client\nd35aa22ad [Charan Reddy Guttapalem] Move common placementpolicy components to TopologyAwareEnsemblePlacementPolicy.","tree":{"sha":"878c6b5311400590fa92f84b9629154390298dac","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/878c6b5311400590fa92f84b9629154390298dac"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/b88f4b813f5ee5846b4879972e2c8359ac0eb4f2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/b88f4b813f5ee5846b4879972e2c8359ac0eb4f2","html_url":"https://github.com/apache/bookkeeper/commit/b88f4b813f5ee5846b4879972e2c8359ac0eb4f2","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/b88f4b813f5ee5846b4879972e2c8359ac0eb4f2/comments","author":{"login":"ankit-j","id":6436126,"node_id":"MDQ6VXNlcjY0MzYxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/6436126?v=4","gravatar_id":"","url":"https://api.github.com/users/ankit-j","html_url":"https://github.com/ankit-j","followers_url":"https://api.github.com/users/ankit-j/followers","following_url":"https://api.github.com/users/ankit-j/following{/other_user}","gists_url":"https://api.github.com/users/ankit-j/gists{/gist_id}","starred_url":"https://api.github.com/users/ankit-j/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankit-j/subscriptions","organizations_url":"https://api.github.com/users/ankit-j/orgs","repos_url":"https://api.github.com/users/ankit-j/repos","events_url":"https://api.github.com/users/ankit-j/events{/privacy}","received_events_url":"https://api.github.com/users/ankit-j/received_events","type":"User","site_admin":false},"committer":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"parents":[{"sha":"f89e3fbb751fbef7012e695ed5873eade13ba4f5","url":"https://api.github.com/repos/apache/bookkeeper/commits/f89e3fbb751fbef7012e695ed5873eade13ba4f5","html_url":"https://github.com/apache/bookkeeper/commit/f89e3fbb751fbef7012e695ed5873eade13ba4f5"}]},{"sha":"f89e3fbb751fbef7012e695ed5873eade13ba4f5","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmODllM2ZiYjc1MWZiZWY3MDEyZTY5NWVkNTg3M2VhZGUxM2JhNGY1","commit":{"author":{"name":"karanmehta93","email":"k.mehta@salesforce.com","date":"2019-05-31T14:49:13Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-05-31T14:49:13Z"},"message":"Update lastLogMark to EOF when replaying journal\n\nDescriptions of the changes in this PR:\r\n\r\n### Motivation\r\n \r\nThe [commit](https://github.com/apache/bookkeeper/commit/36be8362399341022c8de64f9319270726df2cb3) caused integration test failure `test101_RegenerateIndex`, with the exception\r\n```\r\n```java.io.IOException: Invalid argument\r\n    at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n    at sun.nio.ch.FileDispatcherImpl.read(FileDispatcherImpl.java:46)\r\n    at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\r\n    at sun.nio.ch.IOUtil.read(IOUtil.java:197)\r\n    at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:159)\r\n    at org.apache.bookkeeper.bookie.JournalChannel.read(JournalChannel.java:257)\r\n    at org.apache.bookkeeper.bookie.Journal.fullRead(Journal.java:1171)\r\n    at org.apache.bookkeeper.bookie.Journal.scanJournal(Journal.java:792)\r\n    at org.apache.bookkeeper.bookie.Bookie.replay(Bookie.java:924)\r\n    at org.apache.bookkeeper.bookie.Bookie.readJournal(Bookie.java:886)\r\n    at org.apache.bookkeeper.bookie.Bookie.start(Bookie.java:943)\r\n    at org.apache.bookkeeper.proto.BookieServer.start(BookieServer.java:141)\r\n    at org.apache.bookkeeper.server.service.BookieService.doStart(BookieService.java:58)\r\n    at org.apache.bookkeeper.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:78)\r\n    at org.apache.bookkeeper.common.component.LifecycleComponentStack.lambda$start$2(LifecycleComponentStack.java:113)\r\n    at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:408)\r\n    at org.apache.bookkeeper.common.component.LifecycleComponentStack.start(LifecycleComponentStack.java:113)\r\n    at org.apache.bookkeeper.common.component.ComponentStarter.startComponent(ComponentStarter.java:80)\r\n    at org.apache.bookkeeper.server.Main.doMain(Main.java:229)\r\n    at org.apache.bookkeeper.server.Main.main(Main.java:203)\r\n```\r\n\r\nAs discussed on slack, it is hard to figure out an exact reason as to why the native JNI call fails with an invalid argument. Hence this PR proposes that the `lastLogMark` is updated to journal EOF instead of an arbitrary LONG.MAX_VALUE. The FileChannel interface defines that the implementors can pass in any long offset and the file handler should return EOF immediately when trying to read it. However it doesn't seem to be working as expected.\r\n\r\n### Changes\r\n\r\nUpdated `Journal#setLastLogMark()` method to accept an `scanOffset` instead of constant `LONG.MAX_VALUE`.\r\n\r\nivankelly eolivelli \n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2105 from karanmehta93/master","tree":{"sha":"53fdaf670022cb7dc1da698abc84fa6eb63e75d7","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/53fdaf670022cb7dc1da698abc84fa6eb63e75d7"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f89e3fbb751fbef7012e695ed5873eade13ba4f5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f89e3fbb751fbef7012e695ed5873eade13ba4f5","html_url":"https://github.com/apache/bookkeeper/commit/f89e3fbb751fbef7012e695ed5873eade13ba4f5","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f89e3fbb751fbef7012e695ed5873eade13ba4f5/comments","author":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"26e8004e6b93f5acaff7f69dba14511a7cf44d58","url":"https://api.github.com/repos/apache/bookkeeper/commits/26e8004e6b93f5acaff7f69dba14511a7cf44d58","html_url":"https://github.com/apache/bookkeeper/commit/26e8004e6b93f5acaff7f69dba14511a7cf44d58"}]},{"sha":"26e8004e6b93f5acaff7f69dba14511a7cf44d58","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyNmU4MDA0ZTZiOTNmNWFjYWZmN2Y2OWRiYTE0NTExYTdjZjQ0ZDU4","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"cguttapalem@salesforce.com","date":"2019-05-20T02:53:36Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-05-20T02:53:36Z"},"message":"Fix flaky testIOVertexHTTPServerEndpointForARWithPrometheusProvider test\n\nDescriptions of the changes in this PR:\r\n\r\n- in testIOVertexHTTPServerEndpointForARWithPrometheusProvider test\r\nit is not correct to assume that Auditor would have been created and\r\nstarted completely when we complete AutoRecoveryMain.start and see it\r\nstatus as started. It would make sure AuditorElector.submitElectionTask\r\nhas submitted election task but not the completion of Auditor.start.\r\nSo instead of relying on Auditor metric (NUM_UNDER_REPLICATED_LEDGERS),\r\nuse ReplicationWorker metric - NUM_FULL_OR_PARTIAL_LEDGERS_REPLICATED.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2093 from reddycharan/fixflakytest","tree":{"sha":"7b5e8fe64e4345f91b04468f3fcdc7ad1963cf39","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/7b5e8fe64e4345f91b04468f3fcdc7ad1963cf39"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/26e8004e6b93f5acaff7f69dba14511a7cf44d58","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/26e8004e6b93f5acaff7f69dba14511a7cf44d58","html_url":"https://github.com/apache/bookkeeper/commit/26e8004e6b93f5acaff7f69dba14511a7cf44d58","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/26e8004e6b93f5acaff7f69dba14511a7cf44d58/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"dba831375ad0f10821c04258fb08f70cce3f4b67","url":"https://api.github.com/repos/apache/bookkeeper/commits/dba831375ad0f10821c04258fb08f70cce3f4b67","html_url":"https://github.com/apache/bookkeeper/commit/dba831375ad0f10821c04258fb08f70cce3f4b67"}]},{"sha":"dba831375ad0f10821c04258fb08f70cce3f4b67","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkYmE4MzEzNzVhZDBmMTA4MjFjMDQyNThmYjA4ZjcwY2NlM2Y0YjY3","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-05-20T02:51:58Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-05-20T02:51:58Z"},"message":"Fallback to use v3 protocol for some types of requests if they are not implemented in v2\n\nDescriptions of the changes in this PR:\r\n\r\n### Motivation\r\n\r\n#2071 \r\n\r\n### Changes\r\n\r\n- Add a client pool use v3 wire protocol\r\n- Obtain client by version\r\n- Currently only support `writeLac` and `readLac`\r\n\r\nMaster Issue: #2071 \n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2085 from zymap/compatible_protocol","tree":{"sha":"fa33874f48ca76db8724d1bbb0f3b27eebdd002d","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/fa33874f48ca76db8724d1bbb0f3b27eebdd002d"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/dba831375ad0f10821c04258fb08f70cce3f4b67","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/dba831375ad0f10821c04258fb08f70cce3f4b67","html_url":"https://github.com/apache/bookkeeper/commit/dba831375ad0f10821c04258fb08f70cce3f4b67","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/dba831375ad0f10821c04258fb08f70cce3f4b67/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7fbd3620a09852e5ac7a4c206bcf2d070151db03","url":"https://api.github.com/repos/apache/bookkeeper/commits/7fbd3620a09852e5ac7a4c206bcf2d070151db03","html_url":"https://github.com/apache/bookkeeper/commit/7fbd3620a09852e5ac7a4c206bcf2d070151db03"}]},{"sha":"7fbd3620a09852e5ac7a4c206bcf2d070151db03","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3ZmJkMzYyMGEwOTg1MmU1YWM3YTRjMjA2YmNmMmQwNzAxNTFkYjAz","commit":{"author":{"name":"hello zepp","email":"jingtianyy@qq.com","date":"2019-05-20T02:45:35Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-05-20T02:45:34Z"},"message":"[SITE] modify nettyMaxFrameSizeBytes Description\n\nDescriptions of the changes in this PR:\r\n\r\nFixes #2079\r\n\r\n### Motivation\r\nwhen the client-side attempt to send more than the default size bytes, it should set up the corresponding parameter `setNettyMaxFrameSizeBytes(int maxSize)`\r\n\r\n(Explain: why you're making that change, what is the problem you're trying to solve)\r\n\r\nMaster Issue: #2079 \r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2086 from hellozepp/issue-2079","tree":{"sha":"b493dd7df1447b39e463201b62fe1baae38289c2","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b493dd7df1447b39e463201b62fe1baae38289c2"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7fbd3620a09852e5ac7a4c206bcf2d070151db03","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7fbd3620a09852e5ac7a4c206bcf2d070151db03","html_url":"https://github.com/apache/bookkeeper/commit/7fbd3620a09852e5ac7a4c206bcf2d070151db03","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7fbd3620a09852e5ac7a4c206bcf2d070151db03/comments","author":{"login":"hellozepp","id":20615623,"node_id":"MDQ6VXNlcjIwNjE1NjIz","avatar_url":"https://avatars.githubusercontent.com/u/20615623?v=4","gravatar_id":"","url":"https://api.github.com/users/hellozepp","html_url":"https://github.com/hellozepp","followers_url":"https://api.github.com/users/hellozepp/followers","following_url":"https://api.github.com/users/hellozepp/following{/other_user}","gists_url":"https://api.github.com/users/hellozepp/gists{/gist_id}","starred_url":"https://api.github.com/users/hellozepp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellozepp/subscriptions","organizations_url":"https://api.github.com/users/hellozepp/orgs","repos_url":"https://api.github.com/users/hellozepp/repos","events_url":"https://api.github.com/users/hellozepp/events{/privacy}","received_events_url":"https://api.github.com/users/hellozepp/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"36be8362399341022c8de64f9319270726df2cb3","url":"https://api.github.com/repos/apache/bookkeeper/commits/36be8362399341022c8de64f9319270726df2cb3","html_url":"https://github.com/apache/bookkeeper/commit/36be8362399341022c8de64f9319270726df2cb3"}]},{"sha":"36be8362399341022c8de64f9319270726df2cb3","node_id":"MDY6Q29tbWl0MTU3NTk1NjozNmJlODM2MjM5OTM0MTAyMmM4ZGU2NGY5MzE5MjcwNzI2ZGYyY2Iz","commit":{"author":{"name":"karanmehta93","email":"k.mehta@salesforce.com","date":"2019-05-17T17:38:43Z"},"committer":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-05-17T17:38:43Z"},"message":"Update and flush lastLogMark when replaying journal\n\nDescriptions of the changes in this PR:\r\n\r\nUpdate `lastLogMark` in memory after replaying each journal\r\nCheck for writable ledger dirs with `minUsableSizeForEntryLogCreation` to flush the `lastMark` file for bookies in ReadOnlyMode\r\nLog line changes\r\n\r\n### Motivation\r\n\r\nMaster Issue: #2087 \r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Charan Reddy Guttapalem <reddycharan18@gmail.com>, Sijie Guo <sijie@apache.org>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #2090 from karanmehta93/master and squashes the following commits:\n\nf802cf6da [Karan Mehta] Fixed small issue in constuctor chaining in BookKeeperClusterTestCase\n407e9f1ff [Karan Mehta] Moved lastLogMark updation logic to Journal.java\n585313196 [Karan Mehta] Fix checkstyle errors\nc3d47014a [Karan Mehta] Fix testJournalLogAddEntryCalledCorrectly test\nc72b7b55e [Karan Mehta] Addressed nit\n5d238f2b7 [Karan Mehta] Refactored code to update lastLogMark only when replaying journal and addressed nits\nb5515697f [Karan Mehta] Issue #2087 Update and flush lastLogMark when replaying journal\nd35aa22ad [Charan Reddy Guttapalem] Move common placementpolicy components to TopologyAwareEnsemblePlacementPolicy.","tree":{"sha":"458747a99f0664e5c56a4708dd90bf03db61a812","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/458747a99f0664e5c56a4708dd90bf03db61a812"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/36be8362399341022c8de64f9319270726df2cb3","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/36be8362399341022c8de64f9319270726df2cb3","html_url":"https://github.com/apache/bookkeeper/commit/36be8362399341022c8de64f9319270726df2cb3","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/36be8362399341022c8de64f9319270726df2cb3/comments","author":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","site_admin":false},"committer":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"parents":[{"sha":"335c2aba9bfd24eff224f1afae393026c17a2d5a","url":"https://api.github.com/repos/apache/bookkeeper/commits/335c2aba9bfd24eff224f1afae393026c17a2d5a","html_url":"https://github.com/apache/bookkeeper/commit/335c2aba9bfd24eff224f1afae393026c17a2d5a"}]},{"sha":"335c2aba9bfd24eff224f1afae393026c17a2d5a","node_id":"MDY6Q29tbWl0MTU3NTk1NjozMzVjMmFiYTliZmQyNGVmZjIyNGYxYWZhZTM5MzAyNmMxN2EyZDVh","commit":{"author":{"name":"Rajan Dhabalia","email":"rdhabalia@apache.org","date":"2019-05-17T07:39:12Z"},"committer":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2019-05-17T07:39:12Z"},"message":"[BK-CLIENT] Check empty ledger-parent node while deleting ledger\n\n### Motivation\r\n\r\nAs discussed at [#4276](https://github.com/apache/pulsar/issues/4276), while deleting ledger, bk-client should check parent node is empty before issuing delete request for parent znode.\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Charan Reddy Guttapalem <reddycharan18@gmail.com>, Matteo Merli <mmerli@apache.org>\n\nThis closes #2097 from rdhabalia/led_del and squashes the following commits:\n\nf5c0ca36c [rdhabalia] return callback with ok\nede5e9403 [rdhabalia] [Bk-Client] Check empty ledger-parent node while deleting ledger\nd35aa22ad [Charan Reddy Guttapalem] Move common placementpolicy components to TopologyAwareEnsemblePlacementPolicy.\nb4ca4537b [Charan Reddy Guttapalem] Move common placementpolicy components to TopologyAwareEnsemblePlacementPolicy.\naa84c7fdd [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation\n10859afb7 [Matteo Merli] Added HTTP handler to expose bookie state\n707ae5c85 [karanmehta93] ISSUE #2075: Bookieshell lastmark command isn't functional, always returning 0-0\n41b39c6ef [Charan Reddy Guttapalem] ISSUE #1967: make ledger creation and removal robust to zk connectionloss\n973d2ab0d [Matteo Merli] Use pure python implementation of MurmurHash\n9bb7e4b82 [Venkateswararao Jujjuri (JV)] Explicit error message if extent is not present on ZK (#2066)\nbd699e61d [mtang01] ISSUE #2067: reduce byte[] allocation in add entry\n7c62e1232 [karanmehta93] ISSUE #2073: ReadOnlyBookieTest#testBookieContinueWritingIfMulti\n42e77802c [Ivan Kelly] DLog Namespace#openLog should declare LogNotFoundException\n86bce12b5 [Yong Zhang] Migrate command `ledgermetadata`\n407cb35e5 [Charan Reddy Guttapalem] ISSUE #1967: make ledger creation and removal robust to zk connectionloss\neaa601404 [Like] Support asynchronous fence request for V2 ReadEntryProcessor\nd23b45ec8 [Ivan Kelly] Fix typo in overview page for 4.8.2\n44ee320b6 [Ivan Kelly] k\n316b71923 [Ivan Kelly] Wait for LAC update even if ledger fenced\n066621507 [Yong Zhang] Migrate command `updatecookie`\n6f3396801 [Yong Zhang] Migrate command `triggeraudit`\n60d993edf [Yong Zhang] Migrate command `autorecovery`\ned008f278 [Yong Zhang] Migrate command `whoisauditor`\n5b8e0971a [Yong Zhang] Migrate command `Whatisinstanceid`\n90c79444d [Yong Zhang] Migrate command `rebuild-db-ledger-locations-index`\n848f8527f [Nicolas Michael] ISSUE #2053: Bugfix for Percentile Calculation in FastCodahale Timer Implementation\n06f2b6f50 [Yong Zhang] Migrate command `updateledgers`\n7ad5849b1 [Yong Zhang] Migrate command `regenerate-interleaved-storage-index-file`\nd4dbb6bfb [Dongfa,Huang] Avoid useless verify if LedgerEntryRequest completed\n5c150f283 [Enrico Olivelli] Release notes for 4.9.1\n1246826ba [Yong Zhang] Migrate command `recover`\n1d4cc71fd [Yong Zhang] Migrate command `localconsistencycheck`\n67f83620e [Yong Zhang] Migrate command `readledger`\nbfbd6b023 [Yong Zhang] Migrate command `decommission`\nd40b8b69f [Yong Zhang] Migrate command `readlog`\n95d145a15 [Yong Zhang] Migrate command `nukeexistingcluster`\ne2b1dc7f3 [Yong Zhang] Migrate command `listunderreplicated`\n0988e12c7 [bd2019us] ISSUE #2023: change cached thread pool to fixed thread pool\n6a6d7bbd9 [Yong Zhang] Migrate command `initnewcluster`\nc391fe58d [Yong Zhang] Migrate command `readlogmetadata`\n120d67737 [Yong Zhang] Migrate command `lostbookierecoverydelay`\nbf66235e5 [Yong Zhang] Migrate command `deleteledger`\n751e55fa4 [Arvin] ISSUE #2020: close db properly to avoid open RocksDB failure at the second time\n138a7ae85 [Yong Zhang] Migrate command `metadataformat`\nb043d1694 [Yong Zhang] Migrate command `listledgers`\n4573285db [Ivan Kelly] Docker autobuild hook\ne3d807a32 [Like] Fix IDE complain as there are multi choices for error code\n9524a9f4a [Yong Zhang] Migrate command `readjournal`\n6c3f33f55 [Yong Zhang] Fix when met unexpect entry id crashed\ne35a108c7 [Like] Fix error message for unrecognized number-of-bookies\n5902ee27b [Boyang Jerry Peng] fix potential NPE when releasing entry that is null\n6aa73ce05 [Ivan Kelly] [RELEASE] Update website to include documentation for 4.8.2\n1448d12aa [Yong Zhang] Migrate command `listfilesondisk`\n4de598379 [Yong Zhang] Issue #1987: Migrate command `convert-to-interleaved-storage`\n468743e7e [Matteo Merli] In DbLedgerStorage use default values when config key is present but empty\nf26a4cae0 [Ivan Kelly] Release notes for v4.8.2\nec2636cd2 [Yong Zhang] Issue #1985: Migrate command `convert-to-db-storage`\n8cc7239ac [Yong Zhang] Issue #1982: Migrate command `bookiesanity`\nfa90f0185 [Yong Zhang] Issue #1980: Migrate command `ledger` from shell to bkctl","tree":{"sha":"29b9c7b0f3a77655b27b5142d5293300ae0a28e7","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/29b9c7b0f3a77655b27b5142d5293300ae0a28e7"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/335c2aba9bfd24eff224f1afae393026c17a2d5a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/335c2aba9bfd24eff224f1afae393026c17a2d5a","html_url":"https://github.com/apache/bookkeeper/commit/335c2aba9bfd24eff224f1afae393026c17a2d5a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/335c2aba9bfd24eff224f1afae393026c17a2d5a/comments","author":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","site_admin":false},"committer":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"parents":[{"sha":"2ff26d69e400d16f533f424c6e95f2f30189e183","url":"https://api.github.com/repos/apache/bookkeeper/commits/2ff26d69e400d16f533f424c6e95f2f30189e183","html_url":"https://github.com/apache/bookkeeper/commit/2ff26d69e400d16f533f424c6e95f2f30189e183"}]},{"sha":"2ff26d69e400d16f533f424c6e95f2f30189e183","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyZmYyNmQ2OWU0MDBkMTZmNTMzZjQyNGM2ZTk1ZjJmMzAxODllMTgz","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2019-05-16T17:35:08Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-05-16T17:35:08Z"},"message":"Added release notes for release 4.9.2\n\n### Motivation\r\n\r\nRelease notes for patch release \n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2088 from merlimat/relnotes-4.9.2","tree":{"sha":"3939d594edc6f524ec34a6ba8f3585be2879f6ad","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/3939d594edc6f524ec34a6ba8f3585be2879f6ad"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2ff26d69e400d16f533f424c6e95f2f30189e183","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJc3Z9MCRBK7hj4Ov3rIwAAdHIIAHHoHzRzjCHgRNwGlNfZIByR\nY04UvI400Tq1EjFdVjM/Gw8ARnePkhx1b5GcfHkPIdX/qZZYvj6kbaQgG9soRlS/\nQIdxvTYa5wEh/F29gf4WAUx0jxY6WU+y2s4zZvqsTw0MHo6G8ONRk0DxdxazoD1I\nUATIQnRbDr6FfZU528iBmqzWkmCFGCWld4T/jDo0rXa6AuF3BlRjAsfI2B2Jh0QW\naQ5p7e0ULfA6NpM5uocF2pes+CoVnfswHwZzLA+o6NvxDBoA9YPcW0nOLAciJLJf\ncNgzJkfd8KuwtykCjLh9y13OGrRZniIaoNuc5RbCqZsgVatfjYyDl9EEbncAvfY=\n=WpoM\n-----END PGP SIGNATURE-----\n","payload":"tree 3939d594edc6f524ec34a6ba8f3585be2879f6ad\nparent f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea\nauthor Matteo Merli <mmerli@apache.org> 1558028108 -0700\ncommitter GitHub <noreply@github.com> 1558028108 -0700\n\nAdded release notes for release 4.9.2\n\n### Motivation\r\n\r\nRelease notes for patch release \n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2088 from merlimat/relnotes-4.9.2"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2ff26d69e400d16f533f424c6e95f2f30189e183","html_url":"https://github.com/apache/bookkeeper/commit/2ff26d69e400d16f533f424c6e95f2f30189e183","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2ff26d69e400d16f533f424c6e95f2f30189e183/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea","url":"https://api.github.com/repos/apache/bookkeeper/commits/f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea","html_url":"https://github.com/apache/bookkeeper/commit/f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea"}]},{"sha":"f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea","node_id":"MDY6Q29tbWl0MTU3NTk1NjpmNWRkYzM2Y2MzMGM1YmFiNWQyZThlYmM1ZmE1NTJjMmFkMGQ2ZWVh","commit":{"author":{"name":"Rajan Dhabalia","email":"rdhabalia@apache.org","date":"2019-05-15T06:35:18Z"},"committer":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-05-15T06:35:18Z"},"message":"[BK-GC] avoid blocking call in gc-thread\n\n### Motivation\r\n\r\nRight now, we have below 3 issues because of which gc thread gets blocked forever and it can't perform gc-task further. Below issues are mainly related to blocking call while doing zk-operation without timeout. \r\n\r\nbug-fixes:\r\n1. right now, [GC - ScanAndCompareGarbageCollector](https://github.com/apache/bookkeeper/blob/master/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/ScanAndCompareGarbageCollector.java#L142) passes timeout in millisecond to [LedgerManager](https://github.com/apache/bookkeeper/blob/master/bookkeeper-server/src/main/java/org/apache/bookkeeper/meta/LongHierarchicalLedgerManager.java#L166) but it \r\ntakes it as second and again try to convert it in millis so, 30Kms timeout becomes [30M ms timeout](https://github.com/apache/bookkeeper/blob/master/bookkeeper-server/src/main/java/org/apache/bookkeeper/util/ZkUtils.java#L245). Sp, fix timeout unit during gc.\r\n\r\n2. Right now, GC makes blocking call to get list of children on ledger znode and sometime zk-call back doesn't comeback which blocks the gc-thread forever. However, recently we added the timeout on the [object-waiting-lock](https://github.com/apache/bookkeeper/blob/master/bookkeeper-server/src/main/java/org/apache/bookkeeper/util/ZkUtils.java#L243-L248) which doesn't work because it's in while loop and `object.wait(timeout)` completes without any exception and GC threads keep running in while loop.\r\n\r\n3. add zk-timeout during delete ledgers in bookie else it can also block the GC thread.\r\n\r\n\r\n\r\n\r\n\r\n### Changes\r\n\r\nadd timeout while bk-gc makes zk-call to verify deleted ledgers.\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>, Rajan Dhabalia <rdhabalia@apache.org>\n\nThis closes #1940 from rdhabalia/verify_gc","tree":{"sha":"aa8bbcefb14bee6c1c6f6523385e9bf00359edd0","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/aa8bbcefb14bee6c1c6f6523385e9bf00359edd0"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea","html_url":"https://github.com/apache/bookkeeper/commit/f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/f5ddc36cc30c5bab5d2e8ebc5fa552c2ad0d6eea/comments","author":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","site_admin":false},"committer":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"d35aa22ade87969a4f8e932d925c5d134feb764b","url":"https://api.github.com/repos/apache/bookkeeper/commits/d35aa22ade87969a4f8e932d925c5d134feb764b","html_url":"https://github.com/apache/bookkeeper/commit/d35aa22ade87969a4f8e932d925c5d134feb764b"}]},{"sha":"d35aa22ade87969a4f8e932d925c5d134feb764b","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkMzVhYTIyYWRlODc5NjlhNGY4ZTkzMmQ5MjVjNWQxMzRmZWI3NjRi","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-05-13T23:06:41Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-05-13T23:06:41Z"},"message":"Move common placementpolicy components to TopologyAwareEnsemblePlacementPolicy.\n\n\r\nDescriptions of the changes in this PR:\r\n\r\n- Moving components/methods which are common in nature with respect to\r\nplacementpolicy from RackawareEnsemblePlacementPolicyImpl to\r\nTopologyAwareEnsemblePlacementPolicy, so that any new placementpolicy\r\nimplementation can extend TopologyAwareEnsemblePlacementPolicy and reuse\r\nthose common components/generic.\r\n- Change signature of methods of RackChangeNotifier interface.\r\n- Delete duplicate methods in RackawareEnsemblePlacementPolicyImpl and\r\nTopologyAwareEnsemblePlacementPolicy (missed removing them in #2089)\r\n- Created separate class for BookieNode\r\n- This change has no functionality change, it is just reorganizing code.\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #2092 from reddycharan/placementpolicyrefactoring","tree":{"sha":"762687d64e6dbf2f48b1065f71698c05e4718f84","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/762687d64e6dbf2f48b1065f71698c05e4718f84"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/d35aa22ade87969a4f8e932d925c5d134feb764b","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJc2fiBCRBK7hj4Ov3rIwAAdHIIAKgVzyXbaGnzAgyGJDx+VsNo\nyA/IBPKBf3LPK/o+B4V30mvO+roSaqblnQunBFDtw7I+0TzshpO9HPW4iuHk7Io3\nsf19YEMFJCS47Youf35cc25ExkAQynWaeDhT3BInGBdITeh6shlqNAYrdBdeXZ/d\nXUgVo+2yUURIUoyNBwXoQBDAP6zb5gJrolDnB2cOfmkWr0toLbRBXPzQN7+LgPqB\nefC6S/3RM2vO4LjGj3ZrLBAbhWU0ZOoChzx3BCuXdYwthHP5mBMzj+j9zyeqYh/3\n3hMJqFbQcRO3X6hQjJqsK+/pXpNZSn1WRvcoq2uairhvy+nJavEaqIqKVtwAHLs=\n=+Maw\n-----END PGP SIGNATURE-----\n","payload":"tree 762687d64e6dbf2f48b1065f71698c05e4718f84\nparent b4ca4537b62e75f71e3329186652f982025175a2\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1557788801 -0700\ncommitter GitHub <noreply@github.com> 1557788801 -0700\n\nMove common placementpolicy components to TopologyAwareEnsemblePlacementPolicy.\n\n\r\nDescriptions of the changes in this PR:\r\n\r\n- Moving components/methods which are common in nature with respect to\r\nplacementpolicy from RackawareEnsemblePlacementPolicyImpl to\r\nTopologyAwareEnsemblePlacementPolicy, so that any new placementpolicy\r\nimplementation can extend TopologyAwareEnsemblePlacementPolicy and reuse\r\nthose common components/generic.\r\n- Change signature of methods of RackChangeNotifier interface.\r\n- Delete duplicate methods in RackawareEnsemblePlacementPolicyImpl and\r\nTopologyAwareEnsemblePlacementPolicy (missed removing them in #2089)\r\n- Created separate class for BookieNode\r\n- This change has no functionality change, it is just reorganizing code.\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #2092 from reddycharan/placementpolicyrefactoring"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/d35aa22ade87969a4f8e932d925c5d134feb764b","html_url":"https://github.com/apache/bookkeeper/commit/d35aa22ade87969a4f8e932d925c5d134feb764b","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/d35aa22ade87969a4f8e932d925c5d134feb764b/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"b4ca4537b62e75f71e3329186652f982025175a2","url":"https://api.github.com/repos/apache/bookkeeper/commits/b4ca4537b62e75f71e3329186652f982025175a2","html_url":"https://github.com/apache/bookkeeper/commit/b4ca4537b62e75f71e3329186652f982025175a2"}]},{"sha":"b4ca4537b62e75f71e3329186652f982025175a2","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiNGNhNDUzN2I2MmU3NWY3MWUzMzI5MTg2NjUyZjk4MjAyNTE3NWEy","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-05-10T16:59:17Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-05-10T16:59:17Z"},"message":"Move common placementpolicy components to TopologyAwareEnsemblePlacementPolicy.\n\nDescriptions of the changes in this PR:\r\n\r\n- Moving components/methods which are common in nature with respect to\r\nplacementpolicy from RackawareEnsemblePlacementPolicyImpl to\r\nTopologyAwareEnsemblePlacementPolicy, so that any new placementpolicy\r\nimplementation can extend TopologyAwareEnsemblePlacementPolicy and reuse\r\nthose common components/generic.\r\n- This change has no functionality change, it is just reorganizing code.\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2089 from reddycharan/3azplacement","tree":{"sha":"51a128cca550d2c4f562e620a2f619c98f341ee2","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/51a128cca550d2c4f562e620a2f619c98f341ee2"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/b4ca4537b62e75f71e3329186652f982025175a2","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJc1a3lCRBK7hj4Ov3rIwAAdHIIADqktT5mxP+sjULCs5DO5ymO\nHD1r0BK3UbpM2xEiwfCxfTZU65pD64EczRIigyNYH+9PABz8V5Ty6fS3yK4cRIFg\ny1QkoUdMehQOEaUr/i/Es8EaC4QQfN5QQ5KdFQ1KEDIZcz+RIbgUNUUkBX0/05+s\nJDTdJ6NIyu8q5Fa5mLfHcWID0HH0NpdyO8/QvOp6JDdP7sSJNRWCJLfKuX5SByKk\nY2tO7GPR7TD1ipegD9gmh5epISHHKfFwQX6G8WCwNkK2QzYVy53DztYFYZHstoYU\nKBSpX6vTkggoWnBkytnsXMvZ4/OzNp6gCOgeiCEiRQAEy2bFsqVd2cPdM0hL35w=\n=1lwY\n-----END PGP SIGNATURE-----\n","payload":"tree 51a128cca550d2c4f562e620a2f619c98f341ee2\nparent aa84c7fdd24a925f57f087670b205a35fb8ef237\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1557507557 -0700\ncommitter GitHub <noreply@github.com> 1557507557 -0700\n\nMove common placementpolicy components to TopologyAwareEnsemblePlacementPolicy.\n\nDescriptions of the changes in this PR:\r\n\r\n- Moving components/methods which are common in nature with respect to\r\nplacementpolicy from RackawareEnsemblePlacementPolicyImpl to\r\nTopologyAwareEnsemblePlacementPolicy, so that any new placementpolicy\r\nimplementation can extend TopologyAwareEnsemblePlacementPolicy and reuse\r\nthose common components/generic.\r\n- This change has no functionality change, it is just reorganizing code.\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2089 from reddycharan/3azplacement"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/b4ca4537b62e75f71e3329186652f982025175a2","html_url":"https://github.com/apache/bookkeeper/commit/b4ca4537b62e75f71e3329186652f982025175a2","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/b4ca4537b62e75f71e3329186652f982025175a2/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"aa84c7fdd24a925f57f087670b205a35fb8ef237","url":"https://api.github.com/repos/apache/bookkeeper/commits/aa84c7fdd24a925f57f087670b205a35fb8ef237","html_url":"https://github.com/apache/bookkeeper/commit/aa84c7fdd24a925f57f087670b205a35fb8ef237"}]},{"sha":"aa84c7fdd24a925f57f087670b205a35fb8ef237","node_id":"MDY6Q29tbWl0MTU3NTk1NjphYTg0YzdmZGQyNGE5MjVmNTdmMDg3NjcwYjIwNWEzNWZiOGVmMjM3","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-05-04T22:28:01Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-05-04T22:28:01Z"},"message":"GetListOfEntriesOfLedger implementation\n\n\r\nDescriptions of the changes in this PR:\r\n\r\nAs described in this BP - https://github.com/apache/bookkeeper/blob/master/site/bps/BP-34-cluster-metadata-checker.md, this request returns list of entries bookie contains for the given ledger in an encoded format. The returned list provides weakly consistent state, of the entries of the ledger.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1931 from reddycharan/getlistofentries and squashes the following commits:\n\n467bb8b73 [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation\n757f99156 [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation\n4e84bcba0 [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation\nf5655bb29 [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation","tree":{"sha":"f2f5febf73f9378d815135ff6ff6e775023293d9","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f2f5febf73f9378d815135ff6ff6e775023293d9"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/aa84c7fdd24a925f57f087670b205a35fb8ef237","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJczhHxCRBK7hj4Ov3rIwAAdHIIAHxZcR8HLhZO07ZemR543J3b\nzDkIGYk1UrFsu3AW/Rt1fqQYd7n9/TwSWd3LUC0mjRJH3dZQ8cO1LaD9qppgl2U4\ng4QmvzjKrLXXesYfZKoTEhsqnizo5ozw52r9hZrpOzzxITi73GrMSd2ROqObQFSU\ntPsQsX1w7l5+Htm4Nz1FcWWQio2M0yCLU03v1Uvof7vC3COFGQqo4105TQldBo90\nax3ZuQdCIzFrGTt7wS2mCLwstxORjGHofJSjnT2ehoQilFlsLZAymusCpS55bWuH\n5rsNhDrITdP8lWgDWPxdN0fGLX3ZGYa0SNRYHZ+QMHFaDS79P22NiMvyu4C3WwY=\n=1cAK\n-----END PGP SIGNATURE-----\n","payload":"tree f2f5febf73f9378d815135ff6ff6e775023293d9\nparent 10859afb7e8f2ee095e70f4e5482959bb5a3067a\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1557008881 -0700\ncommitter GitHub <noreply@github.com> 1557008881 -0700\n\nGetListOfEntriesOfLedger implementation\n\n\r\nDescriptions of the changes in this PR:\r\n\r\nAs described in this BP - https://github.com/apache/bookkeeper/blob/master/site/bps/BP-34-cluster-metadata-checker.md, this request returns list of entries bookie contains for the given ledger in an encoded format. The returned list provides weakly consistent state, of the entries of the ledger.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1931 from reddycharan/getlistofentries and squashes the following commits:\n\n467bb8b73 [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation\n757f99156 [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation\n4e84bcba0 [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation\nf5655bb29 [Charan Reddy Guttapalem] GetListOfEntriesOfLedger implementation"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/aa84c7fdd24a925f57f087670b205a35fb8ef237","html_url":"https://github.com/apache/bookkeeper/commit/aa84c7fdd24a925f57f087670b205a35fb8ef237","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/aa84c7fdd24a925f57f087670b205a35fb8ef237/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"10859afb7e8f2ee095e70f4e5482959bb5a3067a","url":"https://api.github.com/repos/apache/bookkeeper/commits/10859afb7e8f2ee095e70f4e5482959bb5a3067a","html_url":"https://github.com/apache/bookkeeper/commit/10859afb7e8f2ee095e70f4e5482959bb5a3067a"}]},{"sha":"10859afb7e8f2ee095e70f4e5482959bb5a3067a","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxMDg1OWFmYjdlOGYyZWUwOTVlNzBmNGU1NDgyOTU5YmI1YTMwNjdh","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2019-05-03T16:29:24Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-05-03T16:29:24Z"},"message":"Added HTTP handler to expose bookie state\n\n### Motivation\r\n\r\nAllow to check the state of the bookie through HTTP.\r\n\r\nThe main reason is to allow light-weight probes that can be run frequently to establish whether the bookie is running and meets a minimum readiness criteria. One example is to automatically wait until the bookie has completed the startup sequence.\r\n\r\n### Changes\r\n\r\nAdded new HTTP handler that exposes the values from the bookie `StateManager`. \n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #1995 from merlimat/bookie-state","tree":{"sha":"009ca1a6da3eed7d31beb7d6443ec2999168631e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/009ca1a6da3eed7d31beb7d6443ec2999168631e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/10859afb7e8f2ee095e70f4e5482959bb5a3067a","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJczGxkCRBK7hj4Ov3rIwAAdHIIAJUQRqd/Y9D/m5MALRWn/6VL\nrahEv6aY1ENlhjKiGB08m6wWkGljgibaVF+gdf+xqb9yJdEkHG4UqSeCsVX4HUVp\ns5Tf7dKvcr83PsrAQ3kJv1ykbE0hJvHUGNR8yqofz6G/u8sXchYDko4T1GrnjdEg\ni7wbe4DEi+0Y3nxwLSM8nPltT+NtOS1E244aKcMyyvgD6QzEZZX+DOFcsmbSgluz\nzmKrFBIxTK/cxsc0lXk1UeSwzwbrxar5Uqtzz9V43PYcps4+l9kFRqcAZ6iS9IE+\nyFgVXwxrjSwPB1YFGgbLHdD7gmICCrAvh35riNjTt8uh7iPR9kHIMJsoS/YolNc=\n=7oxv\n-----END PGP SIGNATURE-----\n","payload":"tree 009ca1a6da3eed7d31beb7d6443ec2999168631e\nparent 707ae5c8536f967c0369f951d6178670c5dd031d\nauthor Matteo Merli <mmerli@apache.org> 1556900964 -0700\ncommitter GitHub <noreply@github.com> 1556900964 -0700\n\nAdded HTTP handler to expose bookie state\n\n### Motivation\r\n\r\nAllow to check the state of the bookie through HTTP.\r\n\r\nThe main reason is to allow light-weight probes that can be run frequently to establish whether the bookie is running and meets a minimum readiness criteria. One example is to automatically wait until the bookie has completed the startup sequence.\r\n\r\n### Changes\r\n\r\nAdded new HTTP handler that exposes the values from the bookie `StateManager`. \n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #1995 from merlimat/bookie-state"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/10859afb7e8f2ee095e70f4e5482959bb5a3067a","html_url":"https://github.com/apache/bookkeeper/commit/10859afb7e8f2ee095e70f4e5482959bb5a3067a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/10859afb7e8f2ee095e70f4e5482959bb5a3067a/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"707ae5c8536f967c0369f951d6178670c5dd031d","url":"https://api.github.com/repos/apache/bookkeeper/commits/707ae5c8536f967c0369f951d6178670c5dd031d","html_url":"https://github.com/apache/bookkeeper/commit/707ae5c8536f967c0369f951d6178670c5dd031d"}]},{"sha":"707ae5c8536f967c0369f951d6178670c5dd031d","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3MDdhZTVjODUzNmY5NjdjMDM2OWY5NTFkNjE3ODY3MGM1ZGQwMzFk","commit":{"author":{"name":"karanmehta93","email":"k.mehta@salesforce.com","date":"2019-05-02T19:38:31Z"},"committer":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-05-02T19:38:31Z"},"message":"ISSUE #2075: Bookieshell lastmark command isn't functional, always returning 0-0\n\nDescriptions of the changes in this PR:\r\n\r\n\r\n\r\n### Motivation\r\n\r\n`lastmark` shell command is to be used while debugging however currently it cannot be used since it returns incorrect value.\r\n\r\n### Changes\r\n\r\nUpdated `LedgerDirsManager` object initialization to use correct `ledgerDirs`.\r\nMaster Issue: #2075\r\n\r\n\r\n\n\nReviewers: Charan Reddy Guttapalem <reddycharan18@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2076 from karanmehta93/ISSUE-2075, closes #2075","tree":{"sha":"f25f5440071ecb614c960b9b64fbdc12262a998f","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f25f5440071ecb614c960b9b64fbdc12262a998f"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/707ae5c8536f967c0369f951d6178670c5dd031d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/707ae5c8536f967c0369f951d6178670c5dd031d","html_url":"https://github.com/apache/bookkeeper/commit/707ae5c8536f967c0369f951d6178670c5dd031d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/707ae5c8536f967c0369f951d6178670c5dd031d/comments","author":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","site_admin":false},"committer":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"parents":[{"sha":"41b39c6eff249729a698838e880ad77cc0c18c67","url":"https://api.github.com/repos/apache/bookkeeper/commits/41b39c6eff249729a698838e880ad77cc0c18c67","html_url":"https://github.com/apache/bookkeeper/commit/41b39c6eff249729a698838e880ad77cc0c18c67"}]},{"sha":"41b39c6eff249729a698838e880ad77cc0c18c67","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0MWIzOWM2ZWZmMjQ5NzI5YTY5ODgzOGU4ODBhZDc3Y2MwYzE4YzY3","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-05-02T18:42:49Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-05-02T18:42:49Z"},"message":"ISSUE #1967: make ledger creation and removal robust to zk connectionloss\n\n\r\n- fix test failures in TestLedgerMetadataSerDe\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2070 from reddycharan/fixzktestfailures, closes #1967","tree":{"sha":"213f1487156aadf4d55a508411239796b764b1e1","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/213f1487156aadf4d55a508411239796b764b1e1"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/41b39c6eff249729a698838e880ad77cc0c18c67","comment_count":1,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcyzoqCRBK7hj4Ov3rIwAAdHIIABDK0QHYJGs7ES+99kR18Zmb\nDO7TPEWixd1xcDosl0h0RLHBMymZ57yAHCQ06pTNaFNJAVDQzS09BV8Y9V2AnFt0\ntNN7s2VMmmyk3uehUa3Z2xoealGtODD8c/KEVLQ0Gwed2gpR8aszEzm/j4IO1U3b\nbgc7rvhqHIhQQRtp/tHHndKXFPOnukJr9PMHr23Mn1DIljH8Y13Bf73R7dR9gN4z\nomNM+F9OtM1Ha4INfraHQtxDZh6D3dcvPfFPlkrnXOgEG7f/YWvtXes2yCiqE4o4\n+rb64JdPTY3xsYTHG3pRyBG9KQ0lkgrIHirhEkQzNGxO0QqsZ68Q3I7Vjg1caqQ=\n=IB7Z\n-----END PGP SIGNATURE-----\n","payload":"tree 213f1487156aadf4d55a508411239796b764b1e1\nparent 973d2ab0da91e5a24b1d30990ca6bb1484f07f7e\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1556822569 -0700\ncommitter GitHub <noreply@github.com> 1556822569 -0700\n\nISSUE #1967: make ledger creation and removal robust to zk connectionloss\n\n\r\n- fix test failures in TestLedgerMetadataSerDe\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2070 from reddycharan/fixzktestfailures, closes #1967"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/41b39c6eff249729a698838e880ad77cc0c18c67","html_url":"https://github.com/apache/bookkeeper/commit/41b39c6eff249729a698838e880ad77cc0c18c67","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/41b39c6eff249729a698838e880ad77cc0c18c67/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"973d2ab0da91e5a24b1d30990ca6bb1484f07f7e","url":"https://api.github.com/repos/apache/bookkeeper/commits/973d2ab0da91e5a24b1d30990ca6bb1484f07f7e","html_url":"https://github.com/apache/bookkeeper/commit/973d2ab0da91e5a24b1d30990ca6bb1484f07f7e"}]},{"sha":"973d2ab0da91e5a24b1d30990ca6bb1484f07f7e","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5NzNkMmFiMGRhOTFlNWEyNGIxZDMwOTkwY2E2YmIxNDg0ZjA3Zjdl","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2019-05-02T18:37:14Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-05-02T18:37:14Z"},"message":"Use pure python implementation of MurmurHash\n\n### Motivation\r\n\r\nBK table python client is depending on `mmh3` library for MurmurHash. This library wraps a C based function but there are no binaries published on PyPI. Therefore users need to have a GCC installed in order to install the BK client lib, since it compiles it at install time. GCC is typically not available in Docker containers.\r\n\r\n### Modifications\r\n\r\nInclude a pure python implementation of MurmurHash to use if the C based is not found. \r\n\r\nNotes:\r\n * I couldn't find any published pure-python MurmurHash implementations on PyPI\r\n * Importing public-domain code is permitted by ASF\r\n\r\n\n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2069 from merlimat/mmh3","tree":{"sha":"f0487510a9d75c34be68bb7562ae42e54cb91f24","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f0487510a9d75c34be68bb7562ae42e54cb91f24"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/973d2ab0da91e5a24b1d30990ca6bb1484f07f7e","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcyzjaCRBK7hj4Ov3rIwAAdHIIADM0BbnSKUdJTaxEs6nR+zxA\n8g8T4BcKgptyB6ryr2Te20S+YRzouoEFngNvs2Yn7BojywxWkRY30C63bO6FIrwb\niXko9UssPwrd0EoLJQM/acupiQNfPBFpThxRN6iBaMjr1RJsFOekSfxXL0mwjIml\nEt4d0N6uNYCFnn8yMV0GxNHH2AZHotugiFsqFQlD2SUNPnZaSpr275mTb05AJda4\nHEBxLnWMdXV2zFOm5N5sFsSaGPsTQWNeMHIZwHCyKLOd+71VCNSoKx+I23WlomOs\nrfi8n7WQSaKyDv7kvRWa11DbGWEeG4HxIhAkEGRAvD8zqJ8mj1KymHcmHIn5JLU=\n=vMxA\n-----END PGP SIGNATURE-----\n","payload":"tree f0487510a9d75c34be68bb7562ae42e54cb91f24\nparent 9bb7e4b8245507ce1aefc9ff9a316c1407016240\nauthor Matteo Merli <mmerli@apache.org> 1556822234 -0700\ncommitter GitHub <noreply@github.com> 1556822234 -0700\n\nUse pure python implementation of MurmurHash\n\n### Motivation\r\n\r\nBK table python client is depending on `mmh3` library for MurmurHash. This library wraps a C based function but there are no binaries published on PyPI. Therefore users need to have a GCC installed in order to install the BK client lib, since it compiles it at install time. GCC is typically not available in Docker containers.\r\n\r\n### Modifications\r\n\r\nInclude a pure python implementation of MurmurHash to use if the C based is not found. \r\n\r\nNotes:\r\n * I couldn't find any published pure-python MurmurHash implementations on PyPI\r\n * Importing public-domain code is permitted by ASF\r\n\r\n\n\nReviewers: Ivan Kelly <ivank@apache.org>, Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2069 from merlimat/mmh3"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/973d2ab0da91e5a24b1d30990ca6bb1484f07f7e","html_url":"https://github.com/apache/bookkeeper/commit/973d2ab0da91e5a24b1d30990ca6bb1484f07f7e","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/973d2ab0da91e5a24b1d30990ca6bb1484f07f7e/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"9bb7e4b8245507ce1aefc9ff9a316c1407016240","url":"https://api.github.com/repos/apache/bookkeeper/commits/9bb7e4b8245507ce1aefc9ff9a316c1407016240","html_url":"https://github.com/apache/bookkeeper/commit/9bb7e4b8245507ce1aefc9ff9a316c1407016240"}]},{"sha":"9bb7e4b8245507ce1aefc9ff9a316c1407016240","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5YmI3ZTRiODI0NTUwN2NlMWFlZmM5ZmY5YTMxNmMxNDA3MDE2MjQw","commit":{"author":{"name":"Venkateswararao Jujjuri (JV)","email":"jujjuri@gmail.com","date":"2019-05-01T03:20:32Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-05-01T03:20:32Z"},"message":"Explicit error message if extent is not present on ZK (#2066)\n\n* Explicit error message if extent is not present on ZK\r\n\r\nClient can get no extent error in the following two scenarios.\r\n1. When client attempted to read/open an extent that\r\n   is not on ZK (metadata server)\r\n2. When client attempted to read a Ledger which is on metadata\r\n   server, but somehow missing on bookies (Data server)\r\n\r\nIt is quite confusing to get the same error, NoSuchLedgerExists\r\nfor both these cases. This checkin introduced a new error at the\r\nBookKeeper client level, NoSuchLedgerExistsOnMetadataServer if\r\nit is not available on ZK.\r\n\r\nFor errors related to Ledger is not available on bookie,\r\nI left NoSuchLedgerExists as-is(instead of changing it to\r\nNoSuchLedgerExistsOnDataServer) to minimize code changes.\r\n\r\nThis change alone provides enough distinction between these\r\ntwo types of errors.\r\n\r\nSigned-off-by: Venkateswararao Jujjuri (JV) <vjujjuri@salesforce.com>\r\n\r\n* Checkstyle fixes\r\n\r\n* Some more fixes\r\n\r\n* Fixing DL test fixes","tree":{"sha":"b933d2e23581413976aa95047bce0e45b514f53b","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b933d2e23581413976aa95047bce0e45b514f53b"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9bb7e4b8245507ce1aefc9ff9a316c1407016240","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcyRCACRBK7hj4Ov3rIwAAdHIIAFtHhjxJWNBuJkPyzdOAlVLA\nMrUe17urtAs/U3cCaquG4D/klfnpqCKTGkmj24zEBikguTbJATeqw9KIEWZLEomJ\neupzeZc/BYPxI7j8yx4eRm4GX1MVxFEFcTPn0nw+AZcuZueds7sA/5GdRCLvp6Eg\nK9MAqzlDDqORQHlkQogkxoaVjug8FW30CJfkJYl1ToKQL9aj5gpjPoZmMGbzO+lh\ne6azJbJB0MAjBGaaMvt8nCqeJ43JI/rAp9W5NAx5zS8oKfY7SY4XxrXovleNblf2\nXIkEpXfRqwD7VjafR3mG9TbfFapdZ6IVWNjCRMrroLjdELHyRMlI2qYXd1iuAQ8=\n=r0YC\n-----END PGP SIGNATURE-----\n","payload":"tree b933d2e23581413976aa95047bce0e45b514f53b\nparent bd699e61d729f327b5de302089d11bc3dcadfeb8\nauthor Venkateswararao Jujjuri (JV) <jujjuri@gmail.com> 1556680832 -0700\ncommitter GitHub <noreply@github.com> 1556680832 -0700\n\nExplicit error message if extent is not present on ZK (#2066)\n\n* Explicit error message if extent is not present on ZK\r\n\r\nClient can get no extent error in the following two scenarios.\r\n1. When client attempted to read/open an extent that\r\n   is not on ZK (metadata server)\r\n2. When client attempted to read a Ledger which is on metadata\r\n   server, but somehow missing on bookies (Data server)\r\n\r\nIt is quite confusing to get the same error, NoSuchLedgerExists\r\nfor both these cases. This checkin introduced a new error at the\r\nBookKeeper client level, NoSuchLedgerExistsOnMetadataServer if\r\nit is not available on ZK.\r\n\r\nFor errors related to Ledger is not available on bookie,\r\nI left NoSuchLedgerExists as-is(instead of changing it to\r\nNoSuchLedgerExistsOnDataServer) to minimize code changes.\r\n\r\nThis change alone provides enough distinction between these\r\ntwo types of errors.\r\n\r\nSigned-off-by: Venkateswararao Jujjuri (JV) <vjujjuri@salesforce.com>\r\n\r\n* Checkstyle fixes\r\n\r\n* Some more fixes\r\n\r\n* Fixing DL test fixes\r\n"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9bb7e4b8245507ce1aefc9ff9a316c1407016240","html_url":"https://github.com/apache/bookkeeper/commit/9bb7e4b8245507ce1aefc9ff9a316c1407016240","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9bb7e4b8245507ce1aefc9ff9a316c1407016240/comments","author":{"login":"jvrao","id":41390,"node_id":"MDQ6VXNlcjQxMzkw","avatar_url":"https://avatars.githubusercontent.com/u/41390?v=4","gravatar_id":"","url":"https://api.github.com/users/jvrao","html_url":"https://github.com/jvrao","followers_url":"https://api.github.com/users/jvrao/followers","following_url":"https://api.github.com/users/jvrao/following{/other_user}","gists_url":"https://api.github.com/users/jvrao/gists{/gist_id}","starred_url":"https://api.github.com/users/jvrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvrao/subscriptions","organizations_url":"https://api.github.com/users/jvrao/orgs","repos_url":"https://api.github.com/users/jvrao/repos","events_url":"https://api.github.com/users/jvrao/events{/privacy}","received_events_url":"https://api.github.com/users/jvrao/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"bd699e61d729f327b5de302089d11bc3dcadfeb8","url":"https://api.github.com/repos/apache/bookkeeper/commits/bd699e61d729f327b5de302089d11bc3dcadfeb8","html_url":"https://github.com/apache/bookkeeper/commit/bd699e61d729f327b5de302089d11bc3dcadfeb8"}]},{"sha":"bd699e61d729f327b5de302089d11bc3dcadfeb8","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiZDY5OWU2MWQ3MjlmMzI3YjVkZTMwMjA4OWQxMWJjM2RjYWRmZWI4","commit":{"author":{"name":"mtang01","email":"49574764+mtang01@users.noreply.github.com","date":"2019-04-30T02:31:04Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-30T02:31:04Z"},"message":"ISSUE #2067: reduce byte[] allocation in add entry\n\nDescriptions of the changes in this PR:\r\nThis change removes a byte[] copy in DigestManager digest calculation\r\n(computeDigestAndPackageForSending)\r\nthat puts crc header and payload in a continuous buffer. Instead,\r\nit uses protobuf ByteString.concat to concatenate header and payload\r\nwithout copy when building protobuf message.\r\n\r\n\r\n\r\n\r\n### Motivation\r\n\r\nIn add entry code path, I see lots of byte[] allocated to do digest calculation.  It's possible to not allocate byte[]. \r\n\r\n### Changes\r\n\r\nDon't allocate a ByteBuf to copy data. Keep header and data separate, but use ByteString.concat when construct protobuf message.\r\n\r\nMaster Issue: #2067 \r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2068 from mtang01/add_entry_mem, closes #2067","tree":{"sha":"de90f6bce4ec182a4059f752fd14e4a26e055e23","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/de90f6bce4ec182a4059f752fd14e4a26e055e23"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/bd699e61d729f327b5de302089d11bc3dcadfeb8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/bd699e61d729f327b5de302089d11bc3dcadfeb8","html_url":"https://github.com/apache/bookkeeper/commit/bd699e61d729f327b5de302089d11bc3dcadfeb8","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/bd699e61d729f327b5de302089d11bc3dcadfeb8/comments","author":{"login":"mtang01","id":49574764,"node_id":"MDQ6VXNlcjQ5NTc0NzY0","avatar_url":"https://avatars.githubusercontent.com/u/49574764?v=4","gravatar_id":"","url":"https://api.github.com/users/mtang01","html_url":"https://github.com/mtang01","followers_url":"https://api.github.com/users/mtang01/followers","following_url":"https://api.github.com/users/mtang01/following{/other_user}","gists_url":"https://api.github.com/users/mtang01/gists{/gist_id}","starred_url":"https://api.github.com/users/mtang01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtang01/subscriptions","organizations_url":"https://api.github.com/users/mtang01/orgs","repos_url":"https://api.github.com/users/mtang01/repos","events_url":"https://api.github.com/users/mtang01/events{/privacy}","received_events_url":"https://api.github.com/users/mtang01/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7c62e1232cf8063d3b0f0dc59978da69710602b5","url":"https://api.github.com/repos/apache/bookkeeper/commits/7c62e1232cf8063d3b0f0dc59978da69710602b5","html_url":"https://github.com/apache/bookkeeper/commit/7c62e1232cf8063d3b0f0dc59978da69710602b5"}]},{"sha":"7c62e1232cf8063d3b0f0dc59978da69710602b5","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3YzYyZTEyMzJjZjgwNjNkM2IwZjBkYzU5OTc4ZGE2OTcxMDYwMmI1","commit":{"author":{"name":"karanmehta93","email":"karanmehta93@gmail.com","date":"2019-04-30T02:28:35Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-30T02:28:35Z"},"message":"ISSUE #2073: ReadOnlyBookieTest#testBookieContinueWritingIfMulti\n\npleLedgersPresent is flaky\r\n\r\nDescriptions of the changes in this PR:\r\n\r\nUpdated the test to use random port number for bookie startup instead of predefined one.\r\n\r\n### Motivation\r\n\r\nReadOnlyBookieTest#testBookieContinueWritingIfMultipleLedgersPresent test is flaky due to this reason.\r\n\r\n### Changes\r\n\r\n(Describe: what changes you have made)\r\n\r\nMaster Issue: #2073 \r\n\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2074 from karanmehta93/master, closes #2073","tree":{"sha":"c3487e2a4ba7149f684a4c25f005d1de482b6d6a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c3487e2a4ba7149f684a4c25f005d1de482b6d6a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7c62e1232cf8063d3b0f0dc59978da69710602b5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7c62e1232cf8063d3b0f0dc59978da69710602b5","html_url":"https://github.com/apache/bookkeeper/commit/7c62e1232cf8063d3b0f0dc59978da69710602b5","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7c62e1232cf8063d3b0f0dc59978da69710602b5/comments","author":{"login":"karanmehta93","id":6191256,"node_id":"MDQ6VXNlcjYxOTEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6191256?v=4","gravatar_id":"","url":"https://api.github.com/users/karanmehta93","html_url":"https://github.com/karanmehta93","followers_url":"https://api.github.com/users/karanmehta93/followers","following_url":"https://api.github.com/users/karanmehta93/following{/other_user}","gists_url":"https://api.github.com/users/karanmehta93/gists{/gist_id}","starred_url":"https://api.github.com/users/karanmehta93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karanmehta93/subscriptions","organizations_url":"https://api.github.com/users/karanmehta93/orgs","repos_url":"https://api.github.com/users/karanmehta93/repos","events_url":"https://api.github.com/users/karanmehta93/events{/privacy}","received_events_url":"https://api.github.com/users/karanmehta93/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"42e77802c025964d826c3b57e8f18c4bc464c481","url":"https://api.github.com/repos/apache/bookkeeper/commits/42e77802c025964d826c3b57e8f18c4bc464c481","html_url":"https://github.com/apache/bookkeeper/commit/42e77802c025964d826c3b57e8f18c4bc464c481"}]},{"sha":"42e77802c025964d826c3b57e8f18c4bc464c481","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0MmU3NzgwMmMwMjU5NjRkODI2YzNiNTdlOGYxOGM0YmM0NjRjNDgx","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-04-28T02:06:24Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-28T02:06:24Z"},"message":"DLog Namespace#openLog should declare LogNotFoundException\n\nOther methods such as delete do, so openLog should declare it to be\r\nconsistent and to give users a hint that it can be caught.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #2072 from ivankelly/dl-openlog-ex","tree":{"sha":"80dd0bfeb7e5c1731a769aef16db3997cf49b872","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/80dd0bfeb7e5c1731a769aef16db3997cf49b872"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/42e77802c025964d826c3b57e8f18c4bc464c481","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/42e77802c025964d826c3b57e8f18c4bc464c481","html_url":"https://github.com/apache/bookkeeper/commit/42e77802c025964d826c3b57e8f18c4bc464c481","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/42e77802c025964d826c3b57e8f18c4bc464c481/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"86bce12b58f997430f87771abb95854ee41a7248","url":"https://api.github.com/repos/apache/bookkeeper/commits/86bce12b58f997430f87771abb95854ee41a7248","html_url":"https://github.com/apache/bookkeeper/commit/86bce12b58f997430f87771abb95854ee41a7248"}]},{"sha":"86bce12b58f997430f87771abb95854ee41a7248","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4NmJjZTEyYjU4Zjk5NzQzMGY4Nzc3MWFiYjk1ODU0ZWU0MWE3MjQ4","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-24T10:17:04Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-24T10:17:04Z"},"message":"Migrate command `ledgermetadata`\n\nDescriptions of the changes in this PR:\r\n\r\nUsing `bkctl` run command `ledgermetadata`\r\n\r\n### Motivation\r\n\r\n#2018 \r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2019 from zymap/command-ledgermetadata","tree":{"sha":"76944a66b0ed67a4e9b4b7c9e2012f3e6c012321","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/76944a66b0ed67a4e9b4b7c9e2012f3e6c012321"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/86bce12b58f997430f87771abb95854ee41a7248","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/86bce12b58f997430f87771abb95854ee41a7248","html_url":"https://github.com/apache/bookkeeper/commit/86bce12b58f997430f87771abb95854ee41a7248","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/86bce12b58f997430f87771abb95854ee41a7248/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"407cb35e594e2334ae687f7c884651c7642349fa","url":"https://api.github.com/repos/apache/bookkeeper/commits/407cb35e594e2334ae687f7c884651c7642349fa","html_url":"https://github.com/apache/bookkeeper/commit/407cb35e594e2334ae687f7c884651c7642349fa"}]},{"sha":"407cb35e594e2334ae687f7c884651c7642349fa","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0MDdjYjM1ZTU5NGUyMzM0YWU2ODdmN2M4ODQ2NTFjNzY0MjM0OWZh","commit":{"author":{"name":"Charan Reddy Guttapalem","email":"reddycharan18@gmail.com","date":"2019-04-19T17:11:08Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-04-19T17:11:08Z"},"message":"ISSUE #1967: make ledger creation and removal robust to zk connectionloss\n\n\r\nDescriptions of the changes in this PR:\r\n\r\nThe bookkeeper project ZooKeeperClient wrapper for the ZooKeeper client\r\nwill resend zk node creations and removals upon reconnect after a\r\nConnectionLoss event. In the event that the original succeeded, the\r\nresent operation will erroneously return LedgerExistException or\r\nNoSuchLedgerExistsException for creation and removal respectively.\r\n\r\nFor removal, this patch limits the operation by allowing it to always\r\nsucceed if the ledger does not exist in order to make it idempotent.\r\nThis is appears to be the simplest solution as exclusive removal isn't\r\nimportant.\r\n\r\n**Note, the above is an actual change to the bk client semantics**\r\n\r\nFor creation, exclusive creation is cleary important for correctness,\r\nso this patch adds a creator token field to the LedgerMetdata to\r\ndisambiguate the above race from a real race. For\r\nAbstractZkLedgerManager, this is simply a random long value.\r\n\r\nThere's an oportunity for optimization with the above if exclusive\r\nledger creation failures are expected to be common.  You only actually\r\nneed to perform this check if the operation was really resent.  I chose\r\nnot to go this route yet because it would require messing with the\r\nZooKeeperClient interface to surface that information without burdening\r\nother callers.\r\n\r\nIf the client is set to version 2 or older, this field will be ignored\r\nand the old behavior will be retained.  If the client is version 3 or\r\nnewer but creation races with an older client, the new client will\r\ninterpret the nonce to be BLANK and thereby detect the race correctly.\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2006 from reddycharan/zkretrialrobust, closes #1967","tree":{"sha":"c3cedc73460eb2bce1300b1c4d4278bfb5ebb830","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c3cedc73460eb2bce1300b1c4d4278bfb5ebb830"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/407cb35e594e2334ae687f7c884651c7642349fa","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcugEsCRBK7hj4Ov3rIwAAdHIIAGz130dbOiXKO3cUybrZgT0j\n/8Vmzt+o4dVox3rWCFfbEGfjDH/u+YVvLhpfW3kU9aNInUOTZ9afQOSIiti3230W\n0vH+dLxlZuOL3OAuHQd9E3f8HId4kesRelM/l0jEzaMImBxVwLl4pqt5CN4axd4d\nxe+AE7i0S9aUhfpuIUUElaM6ZqD0/R6hMsFHhI65AHMCxvtpDhFnbqwAizhAKQfB\nqssQJ5DkkUCjAlbToYhPyIyr1eauTlXBpvMZAwInvUkpljPNF1XrTTOOmiXfiFYk\nRP+kjrhYa3hnIoNZD873RdO/+tV5raTnETVOh9gZ+/46eHd0qhC0QNEczNR3QxY=\n=Rw1o\n-----END PGP SIGNATURE-----\n","payload":"tree c3cedc73460eb2bce1300b1c4d4278bfb5ebb830\nparent eaa6014049e6bc8253f5b0282e4ace8a3aff92e2\nauthor Charan Reddy Guttapalem <reddycharan18@gmail.com> 1555693868 -0700\ncommitter GitHub <noreply@github.com> 1555693868 -0700\n\nISSUE #1967: make ledger creation and removal robust to zk connectionloss\n\n\r\nDescriptions of the changes in this PR:\r\n\r\nThe bookkeeper project ZooKeeperClient wrapper for the ZooKeeper client\r\nwill resend zk node creations and removals upon reconnect after a\r\nConnectionLoss event. In the event that the original succeeded, the\r\nresent operation will erroneously return LedgerExistException or\r\nNoSuchLedgerExistsException for creation and removal respectively.\r\n\r\nFor removal, this patch limits the operation by allowing it to always\r\nsucceed if the ledger does not exist in order to make it idempotent.\r\nThis is appears to be the simplest solution as exclusive removal isn't\r\nimportant.\r\n\r\n**Note, the above is an actual change to the bk client semantics**\r\n\r\nFor creation, exclusive creation is cleary important for correctness,\r\nso this patch adds a creator token field to the LedgerMetdata to\r\ndisambiguate the above race from a real race. For\r\nAbstractZkLedgerManager, this is simply a random long value.\r\n\r\nThere's an oportunity for optimization with the above if exclusive\r\nledger creation failures are expected to be common.  You only actually\r\nneed to perform this check if the operation was really resent.  I chose\r\nnot to go this route yet because it would require messing with the\r\nZooKeeperClient interface to surface that information without burdening\r\nother callers.\r\n\r\nIf the client is set to version 2 or older, this field will be ignored\r\nand the old behavior will be retained.  If the client is version 3 or\r\nnewer but creation races with an older client, the new client will\r\ninterpret the nonce to be BLANK and thereby detect the race correctly.\r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2006 from reddycharan/zkretrialrobust, closes #1967"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/407cb35e594e2334ae687f7c884651c7642349fa","html_url":"https://github.com/apache/bookkeeper/commit/407cb35e594e2334ae687f7c884651c7642349fa","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/407cb35e594e2334ae687f7c884651c7642349fa/comments","author":{"login":"reddycharan","id":13989266,"node_id":"MDQ6VXNlcjEzOTg5MjY2","avatar_url":"https://avatars.githubusercontent.com/u/13989266?v=4","gravatar_id":"","url":"https://api.github.com/users/reddycharan","html_url":"https://github.com/reddycharan","followers_url":"https://api.github.com/users/reddycharan/followers","following_url":"https://api.github.com/users/reddycharan/following{/other_user}","gists_url":"https://api.github.com/users/reddycharan/gists{/gist_id}","starred_url":"https://api.github.com/users/reddycharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reddycharan/subscriptions","organizations_url":"https://api.github.com/users/reddycharan/orgs","repos_url":"https://api.github.com/users/reddycharan/repos","events_url":"https://api.github.com/users/reddycharan/events{/privacy}","received_events_url":"https://api.github.com/users/reddycharan/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"eaa6014049e6bc8253f5b0282e4ace8a3aff92e2","url":"https://api.github.com/repos/apache/bookkeeper/commits/eaa6014049e6bc8253f5b0282e4ace8a3aff92e2","html_url":"https://github.com/apache/bookkeeper/commit/eaa6014049e6bc8253f5b0282e4ace8a3aff92e2"}]},{"sha":"eaa6014049e6bc8253f5b0282e4ace8a3aff92e2","node_id":"MDY6Q29tbWl0MTU3NTk1NjplYWE2MDE0MDQ5ZTZiYzgyNTNmNWIwMjgyZTRhY2U4YTNhZmY5MmUy","commit":{"author":{"name":"Like","email":"like_0903@163.com","date":"2019-04-19T00:44:54Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-19T00:44:54Z"},"message":"Support asynchronous fence request for V2 ReadEntryProcessor\n\nCurrently, the ```ReadEntryProcessor``` v2 does not support asynchronous fence request, which wait for 1000 milliseconds to wait it done if it's a fencing request. This pull request attempt to support asynchronous response if a thread pool is provided. \r\n\r\nCloses #283\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2021 from liketic/refactor","tree":{"sha":"3b8dd957193a7eee93438735a42525ec1f178b9c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/3b8dd957193a7eee93438735a42525ec1f178b9c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/eaa6014049e6bc8253f5b0282e4ace8a3aff92e2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/eaa6014049e6bc8253f5b0282e4ace8a3aff92e2","html_url":"https://github.com/apache/bookkeeper/commit/eaa6014049e6bc8253f5b0282e4ace8a3aff92e2","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/eaa6014049e6bc8253f5b0282e4ace8a3aff92e2/comments","author":{"login":"liketic","id":3806117,"node_id":"MDQ6VXNlcjM4MDYxMTc=","avatar_url":"https://avatars.githubusercontent.com/u/3806117?v=4","gravatar_id":"","url":"https://api.github.com/users/liketic","html_url":"https://github.com/liketic","followers_url":"https://api.github.com/users/liketic/followers","following_url":"https://api.github.com/users/liketic/following{/other_user}","gists_url":"https://api.github.com/users/liketic/gists{/gist_id}","starred_url":"https://api.github.com/users/liketic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liketic/subscriptions","organizations_url":"https://api.github.com/users/liketic/orgs","repos_url":"https://api.github.com/users/liketic/repos","events_url":"https://api.github.com/users/liketic/events{/privacy}","received_events_url":"https://api.github.com/users/liketic/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"d23b45ec840b75307ebf4a108053d8539c8b349a","url":"https://api.github.com/repos/apache/bookkeeper/commits/d23b45ec840b75307ebf4a108053d8539c8b349a","html_url":"https://github.com/apache/bookkeeper/commit/d23b45ec840b75307ebf4a108053d8539c8b349a"}]},{"sha":"d23b45ec840b75307ebf4a108053d8539c8b349a","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkMjNiNDVlYzg0MGI3NTMwN2ViZjRhMTA4MDUzZDg1MzljOGIzNDlh","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-04-19T00:43:05Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-19T00:43:05Z"},"message":"Fix typo in overview page for 4.8.2\n\nThe release notes link text was saying the latest version rather than\r\n4.8.2.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2048 from ivankelly/doc-typo-relnotes","tree":{"sha":"caeaabfa00e845a40a60555d5823187b1e770b24","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/caeaabfa00e845a40a60555d5823187b1e770b24"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/d23b45ec840b75307ebf4a108053d8539c8b349a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/d23b45ec840b75307ebf4a108053d8539c8b349a","html_url":"https://github.com/apache/bookkeeper/commit/d23b45ec840b75307ebf4a108053d8539c8b349a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/d23b45ec840b75307ebf4a108053d8539c8b349a/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"44ee320b64ee1d47ee8b278a843bd033660b7aa0","url":"https://api.github.com/repos/apache/bookkeeper/commits/44ee320b64ee1d47ee8b278a843bd033660b7aa0","html_url":"https://github.com/apache/bookkeeper/commit/44ee320b64ee1d47ee8b278a843bd033660b7aa0"}]},{"sha":"44ee320b64ee1d47ee8b278a843bd033660b7aa0","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0NGVlMzIwYjY0ZWUxZDQ3ZWU4YjI3OGE4NDNiZDAzMzY2MGI3YWEw","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-04-19T00:40:07Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-19T00:40:07Z"},"message":"k\n\nOtherwise the watch objects will accumulate and eventually cause an\r\nOOM on the bookie, if LAC doesn't progress.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Matteo Merli <mmerli@apache.org>, Venkateswararao Jujjuri (JV) <None>\n\nThis closes #2051 from ivankelly/tme-oom","tree":{"sha":"11fe8d5a9040db446af988505fc3122b8449fca4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/11fe8d5a9040db446af988505fc3122b8449fca4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/44ee320b64ee1d47ee8b278a843bd033660b7aa0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/44ee320b64ee1d47ee8b278a843bd033660b7aa0","html_url":"https://github.com/apache/bookkeeper/commit/44ee320b64ee1d47ee8b278a843bd033660b7aa0","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/44ee320b64ee1d47ee8b278a843bd033660b7aa0/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"316b71923e841c9fdb61159067c4bcf6075d1f21","url":"https://api.github.com/repos/apache/bookkeeper/commits/316b71923e841c9fdb61159067c4bcf6075d1f21","html_url":"https://github.com/apache/bookkeeper/commit/316b71923e841c9fdb61159067c4bcf6075d1f21"}]},{"sha":"316b71923e841c9fdb61159067c4bcf6075d1f21","node_id":"MDY6Q29tbWl0MTU3NTk1NjozMTZiNzE5MjNlODQxYzlmZGI2MTE1OTA2N2M0YmNmNjA3NWQxZjIx","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-04-19T00:32:02Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-19T00:32:02Z"},"message":"Wait for LAC update even if ledger fenced\n\nPrevious behaviour was to return straight away. However, LAC can\r\nchange when the ledger is fenced and there is no guarantee that a\r\nfenced ledger will turn into a closed ledger (fencing client may\r\ncrash), which would cause the client tailing with longpoll LAC to go\r\ninto a tight loop.\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Jia Zhai <zhaijia@apache.org>, Matteo Merli <mmerli@apache.org>, Venkateswararao Jujjuri (JV) <None>, Sijie Guo <sijie@apache.org>\n\nThis closes #2052 from ivankelly/wait-on-fenced","tree":{"sha":"70a6556cad1e4905253ca6b581b14565df90acd9","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/70a6556cad1e4905253ca6b581b14565df90acd9"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/316b71923e841c9fdb61159067c4bcf6075d1f21","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/316b71923e841c9fdb61159067c4bcf6075d1f21","html_url":"https://github.com/apache/bookkeeper/commit/316b71923e841c9fdb61159067c4bcf6075d1f21","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/316b71923e841c9fdb61159067c4bcf6075d1f21/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"066621507f2d40ea67aa7d7ddadbb9304db17993","url":"https://api.github.com/repos/apache/bookkeeper/commits/066621507f2d40ea67aa7d7ddadbb9304db17993","html_url":"https://github.com/apache/bookkeeper/commit/066621507f2d40ea67aa7d7ddadbb9304db17993"}]},{"sha":"066621507f2d40ea67aa7d7ddadbb9304db17993","node_id":"MDY6Q29tbWl0MTU3NTk1NjowNjY2MjE1MDdmMmQ0MGVhNjdhYTdkN2RkYWRiYjkzMDRkYjE3OTkz","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-19T00:30:26Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-19T00:30:26Z"},"message":"Migrate command `updatecookie`\n\nDescriptions of the changes in this PR:\r\n\r\n#2059 \r\n\r\n### Description\r\n\r\nProvide some admin operation about cookie\r\n\r\n```\r\nCommand to update cookie\r\n\r\nUsage:  bkctl cookie admin [flags]\r\n\r\nFlags:\r\n\r\n    -d, --delete\r\n        Delete cookie both locally and in zooKeeper\r\n\r\n    -e, --expandstorage\r\n        Add new empty ledger/index directories\r\n\r\n    -f, --force\r\n        Force delete cookie\r\n\r\n    -host, --hostname\r\n        Expects config useHostNameAsBookieID=true as the option value\r\n\r\n    -l, --list\r\n        List paths of all the cookies present locally and on zooKeeper\r\n\r\n\r\n    -h, --help\r\n        Display help information\r\n```\r\n\r\n### Changes\r\n\r\nUpdate command `updatecookie` to `admin`\r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>\n\nThis closes #2060 from zymap/command-updatecookie","tree":{"sha":"5832c92ab11abab54ad872d1b886fdd39e297e4e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/5832c92ab11abab54ad872d1b886fdd39e297e4e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/066621507f2d40ea67aa7d7ddadbb9304db17993","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/066621507f2d40ea67aa7d7ddadbb9304db17993","html_url":"https://github.com/apache/bookkeeper/commit/066621507f2d40ea67aa7d7ddadbb9304db17993","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/066621507f2d40ea67aa7d7ddadbb9304db17993/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"6f33968019c3452cefc2d78e0258bb3206d78e8a","url":"https://api.github.com/repos/apache/bookkeeper/commits/6f33968019c3452cefc2d78e0258bb3206d78e8a","html_url":"https://github.com/apache/bookkeeper/commit/6f33968019c3452cefc2d78e0258bb3206d78e8a"}]},{"sha":"6f33968019c3452cefc2d78e0258bb3206d78e8a","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2ZjMzOTY4MDE5YzM0NTJjZWZjMmQ3OGUwMjU4YmIzMjA2ZDc4ZThh","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-17T06:32:24Z"},"committer":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2019-04-17T06:32:24Z"},"message":"Migrate command `triggeraudit`\n\nDescriptions of the changes in this PR:\r\n\r\n- Using `bkctl` run command `triggeraudit`\r\n\r\n### Motivation\r\n\r\n#2011 \n\nReviewers: Sijie Guo <sijie@apache.org>, Jia Zhai <zhaijia@apache.org>\n\nThis closes #2012 from zymap/command-triggeraudit and squashes the following commits:\n\n5a4b496ec [Yong Zhang] Fix conflict ---\n236b7d6e5 [Yong Zhang] Fix validation\nb039b637e [Yong Zhang] Rename file\n8bea52522 [Yong Zhang] Remove unused imports\nd39d1e886 [Yong Zhang] Migrate command `triggeraudit`\n60d993edf [Yong Zhang] Migrate command `autorecovery`\ned008f278 [Yong Zhang] Migrate command `whoisauditor`\n5b8e0971a [Yong Zhang] Migrate command `Whatisinstanceid`\n90c79444d [Yong Zhang] Migrate command `rebuild-db-ledger-locations-index`\n848f8527f [Nicolas Michael] ISSUE #2053: Bugfix for Percentile Calculation in FastCodahale Timer Implementation\n06f2b6f50 [Yong Zhang] Migrate command `updateledgers`\n7ad5849b1 [Yong Zhang] Migrate command `regenerate-interleaved-storage-index-file`\nd4dbb6bfb [Dongfa,Huang] Avoid useless verify if LedgerEntryRequest completed\n5c150f283 [Enrico Olivelli] Release notes for 4.9.1\n1246826ba [Yong Zhang] Migrate command `recover`\n1d4cc71fd [Yong Zhang] Migrate command `localconsistencycheck`\n67f83620e [Yong Zhang] Migrate command `readledger`\nbfbd6b023 [Yong Zhang] Migrate command `decommission`\nd40b8b69f [Yong Zhang] Migrate command `readlog`\n95d145a15 [Yong Zhang] Migrate command `nukeexistingcluster`\ne2b1dc7f3 [Yong Zhang] Migrate command `listunderreplicated`\n0988e12c7 [bd2019us] ISSUE #2023: change cached thread pool to fixed thread pool\n6a6d7bbd9 [Yong Zhang] Migrate command `initnewcluster`\nc391fe58d [Yong Zhang] Migrate command `readlogmetadata`\n120d67737 [Yong Zhang] Migrate command `lostbookierecoverydelay`\nbf66235e5 [Yong Zhang] Migrate command `deleteledger`\n751e55fa4 [Arvin] ISSUE #2020: close db properly to avoid open RocksDB failure at the second time\n138a7ae85 [Yong Zhang] Migrate command `metadataformat`\nb043d1694 [Yong Zhang] Migrate command `listledgers`\n4573285db [Ivan Kelly] Docker autobuild hook\ne3d807a32 [Like] Fix IDE complain as there are multi choices for error code\n9524a9f4a [Yong Zhang] Migrate command `readjournal`\n6c3f33f55 [Yong Zhang] Fix when met unexpect entry id crashed\ne35a108c7 [Like] Fix error message for unrecognized number-of-bookies\n5902ee27b [Boyang Jerry Peng] fix potential NPE when releasing entry that is null\n6aa73ce05 [Ivan Kelly] [RELEASE] Update website to include documentation for 4.8.2\n1448d12aa [Yong Zhang] Migrate command `listfilesondisk`\n4de598379 [Yong Zhang] Issue #1987: Migrate command `convert-to-interleaved-storage`\n468743e7e [Matteo Merli] In DbLedgerStorage use default values when config key is present but empty\nf26a4cae0 [Ivan Kelly] Release notes for v4.8.2\nec2636cd2 [Yong Zhang] Issue #1985: Migrate command `convert-to-db-storage`\n8cc7239ac [Yong Zhang] Issue #1982: Migrate command `bookiesanity`\nfa90f0185 [Yong Zhang] Issue #1980: Migrate command `ledger` from shell to bkctl","tree":{"sha":"2589defc6d54471a5fc3491f07855a5d02d2de64","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2589defc6d54471a5fc3491f07855a5d02d2de64"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6f33968019c3452cefc2d78e0258bb3206d78e8a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6f33968019c3452cefc2d78e0258bb3206d78e8a","html_url":"https://github.com/apache/bookkeeper/commit/6f33968019c3452cefc2d78e0258bb3206d78e8a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6f33968019c3452cefc2d78e0258bb3206d78e8a/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"parents":[{"sha":"60d993edf50417ace9777d2f40cc2bbc97510125","url":"https://api.github.com/repos/apache/bookkeeper/commits/60d993edf50417ace9777d2f40cc2bbc97510125","html_url":"https://github.com/apache/bookkeeper/commit/60d993edf50417ace9777d2f40cc2bbc97510125"}]},{"sha":"60d993edf50417ace9777d2f40cc2bbc97510125","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2MGQ5OTNlZGY1MDQxN2FjZTk3NzdkMmY0MGNjMmJiYzk3NTEwMTI1","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-16T08:48:32Z"},"committer":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2019-04-16T08:48:32Z"},"message":"Migrate command `autorecovery`\n\nDescriptions of the changes in this PR:\r\n\r\n- Using `bkctl` run command `autorecovery`\r\n\r\n### Motivation\r\n\r\n#2009 \n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2010 from zymap/command-autorecovery and squashes the following commits:\n\n6fcd96904 [Yong Zhang] Fix validation\ncd383f372 [Yong Zhang] Rename package\nefb573221 [Yong Zhang] Rename command\n89da2852e [Yong Zhang] Fix error in bookieshell\na037501ee [Yong Zhang] Rename args\n4bb36b0b3 [Yong Zhang] Fix imports postion\ne41a742d3 [Yong Zhang] Add unit test for command `autorecovery`\nb0c91f704 [Yong Zhang] Rename file\ncb06f66de [Yong Zhang] Migrate command `autorecovery`\ned008f278 [Yong Zhang] Migrate command `whoisauditor`\n5b8e0971a [Yong Zhang] Migrate command `Whatisinstanceid`\n90c79444d [Yong Zhang] Migrate command `rebuild-db-ledger-locations-index`\n848f8527f [Nicolas Michael] ISSUE #2053: Bugfix for Percentile Calculation in FastCodahale Timer Implementation\n06f2b6f50 [Yong Zhang] Migrate command `updateledgers`\n7ad5849b1 [Yong Zhang] Migrate command `regenerate-interleaved-storage-index-file`\nd4dbb6bfb [Dongfa,Huang] Avoid useless verify if LedgerEntryRequest completed\n5c150f283 [Enrico Olivelli] Release notes for 4.9.1\n1246826ba [Yong Zhang] Migrate command `recover`\n1d4cc71fd [Yong Zhang] Migrate command `localconsistencycheck`\n67f83620e [Yong Zhang] Migrate command `readledger`\nbfbd6b023 [Yong Zhang] Migrate command `decommission`\nd40b8b69f [Yong Zhang] Migrate command `readlog`\n95d145a15 [Yong Zhang] Migrate command `nukeexistingcluster`\ne2b1dc7f3 [Yong Zhang] Migrate command `listunderreplicated`\n0988e12c7 [bd2019us] ISSUE #2023: change cached thread pool to fixed thread pool\n6a6d7bbd9 [Yong Zhang] Migrate command `initnewcluster`\nc391fe58d [Yong Zhang] Migrate command `readlogmetadata`\n120d67737 [Yong Zhang] Migrate command `lostbookierecoverydelay`\nbf66235e5 [Yong Zhang] Migrate command `deleteledger`\n751e55fa4 [Arvin] ISSUE #2020: close db properly to avoid open RocksDB failure at the second time\n138a7ae85 [Yong Zhang] Migrate command `metadataformat`\nb043d1694 [Yong Zhang] Migrate command `listledgers`\n4573285db [Ivan Kelly] Docker autobuild hook\ne3d807a32 [Like] Fix IDE complain as there are multi choices for error code\n9524a9f4a [Yong Zhang] Migrate command `readjournal`\n6c3f33f55 [Yong Zhang] Fix when met unexpect entry id crashed\ne35a108c7 [Like] Fix error message for unrecognized number-of-bookies\n5902ee27b [Boyang Jerry Peng] fix potential NPE when releasing entry that is null\n6aa73ce05 [Ivan Kelly] [RELEASE] Update website to include documentation for 4.8.2\n1448d12aa [Yong Zhang] Migrate command `listfilesondisk`\n4de598379 [Yong Zhang] Issue #1987: Migrate command `convert-to-interleaved-storage`\n468743e7e [Matteo Merli] In DbLedgerStorage use default values when config key is present but empty\nf26a4cae0 [Ivan Kelly] Release notes for v4.8.2\nec2636cd2 [Yong Zhang] Issue #1985: Migrate command `convert-to-db-storage`\n8cc7239ac [Yong Zhang] Issue #1982: Migrate command `bookiesanity`\nfa90f0185 [Yong Zhang] Issue #1980: Migrate command `ledger` from shell to bkctl","tree":{"sha":"bc7034cf47e0accf5453895ea355c4f4c4245743","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/bc7034cf47e0accf5453895ea355c4f4c4245743"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/60d993edf50417ace9777d2f40cc2bbc97510125","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/60d993edf50417ace9777d2f40cc2bbc97510125","html_url":"https://github.com/apache/bookkeeper/commit/60d993edf50417ace9777d2f40cc2bbc97510125","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/60d993edf50417ace9777d2f40cc2bbc97510125/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"parents":[{"sha":"ed008f27807a75ba384246fc7fae6ca3a5a6971f","url":"https://api.github.com/repos/apache/bookkeeper/commits/ed008f27807a75ba384246fc7fae6ca3a5a6971f","html_url":"https://github.com/apache/bookkeeper/commit/ed008f27807a75ba384246fc7fae6ca3a5a6971f"}]},{"sha":"ed008f27807a75ba384246fc7fae6ca3a5a6971f","node_id":"MDY6Q29tbWl0MTU3NTk1NjplZDAwOGYyNzgwN2E3NWJhMzg0MjQ2ZmM3ZmFlNmNhM2E1YTY5NzFm","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-15T06:00:56Z"},"committer":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2019-04-15T06:00:56Z"},"message":"Migrate command `whoisauditor`\n\nDescriptions of the changes in this PR:\r\n\r\n- Using `bkctl` run command `whoisauditor`\r\n\r\n### Motivation\r\n\r\n#2007 \r\n\n\nReviewers: Sijie Guo <sijie@apache.org>, Jia Zhai <zhaijia@apache.org>\n\nThis closes #2008 from zymap/command-whoisauditor","tree":{"sha":"bbef2bc18ae71b729803740ca914abba9f7d9598","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/bbef2bc18ae71b729803740ca914abba9f7d9598"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/ed008f27807a75ba384246fc7fae6ca3a5a6971f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/ed008f27807a75ba384246fc7fae6ca3a5a6971f","html_url":"https://github.com/apache/bookkeeper/commit/ed008f27807a75ba384246fc7fae6ca3a5a6971f","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/ed008f27807a75ba384246fc7fae6ca3a5a6971f/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"parents":[{"sha":"5b8e0971a35f0c0ee3e237b612a52c12a8c4c923","url":"https://api.github.com/repos/apache/bookkeeper/commits/5b8e0971a35f0c0ee3e237b612a52c12a8c4c923","html_url":"https://github.com/apache/bookkeeper/commit/5b8e0971a35f0c0ee3e237b612a52c12a8c4c923"}]},{"sha":"5b8e0971a35f0c0ee3e237b612a52c12a8c4c923","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1YjhlMDk3MWEzNWYwYzBlZTNlMjM3YjYxMmE1MmMxMmE4YzRjOTIz","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-11T02:19:47Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-11T02:19:47Z"},"message":"Migrate command `Whatisinstanceid`\n\nDescriptions of the changes in this PR:\r\n\r\n#2027 \r\n\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2028 from zymap/whatisinstanceid","tree":{"sha":"67ab1835727d08bc3a16d8f7d8c3b0e4de6f8dde","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/67ab1835727d08bc3a16d8f7d8c3b0e4de6f8dde"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/5b8e0971a35f0c0ee3e237b612a52c12a8c4c923","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/5b8e0971a35f0c0ee3e237b612a52c12a8c4c923","html_url":"https://github.com/apache/bookkeeper/commit/5b8e0971a35f0c0ee3e237b612a52c12a8c4c923","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/5b8e0971a35f0c0ee3e237b612a52c12a8c4c923/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"90c79444d6211cd66f4259c04c4e246097821b75","url":"https://api.github.com/repos/apache/bookkeeper/commits/90c79444d6211cd66f4259c04c4e246097821b75","html_url":"https://github.com/apache/bookkeeper/commit/90c79444d6211cd66f4259c04c4e246097821b75"}]},{"sha":"90c79444d6211cd66f4259c04c4e246097821b75","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5MGM3OTQ0NGQ2MjExY2Q2NmY0MjU5YzA0YzRlMjQ2MDk3ODIxYjc1","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-10T11:18:17Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-10T11:18:17Z"},"message":"Migrate command `rebuild-db-ledger-locations-index`\n\nDescriptions of the changes in this PR:\r\n\r\n#2036 \r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2034 from zymap/command-RDBLLI","tree":{"sha":"c36f14c7f4a7384c746dbc20e29ac856f6f1247b","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/c36f14c7f4a7384c746dbc20e29ac856f6f1247b"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/90c79444d6211cd66f4259c04c4e246097821b75","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/90c79444d6211cd66f4259c04c4e246097821b75","html_url":"https://github.com/apache/bookkeeper/commit/90c79444d6211cd66f4259c04c4e246097821b75","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/90c79444d6211cd66f4259c04c4e246097821b75/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"848f8527f9d4745753b2f1e22ac1b8e981ea0d1d","url":"https://api.github.com/repos/apache/bookkeeper/commits/848f8527f9d4745753b2f1e22ac1b8e981ea0d1d","html_url":"https://github.com/apache/bookkeeper/commit/848f8527f9d4745753b2f1e22ac1b8e981ea0d1d"}]},{"sha":"848f8527f9d4745753b2f1e22ac1b8e981ea0d1d","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4NDhmODUyN2Y5ZDQ3NDU3NTNiMmYxZTIyYWMxYjhlOTgxZWEwZDFk","commit":{"author":{"name":"Nicolas Michael","email":"git@nmichael.de","date":"2019-04-10T01:44:52Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-10T01:44:52Z"},"message":"ISSUE #2053: Bugfix for Percentile Calculation in FastCodahale Timer Implementation\n\nThis bugfix for the FastCodahale timer implementation ensures that percentiles provided by a FastSnapshot are calculated correctly even if the total count of events (provided by FastTimer) is out of sync with the recorded events in the percentile buckets.\r\n\r\n### Motivation\r\n\r\nFastCodahale Timer implementation may miscalculate percentiles if snapshots of values are slightly out of sync, and if only few events have been recorded.\r\n\r\nFastCodahale Timers use fine-grained locking and are meant to tolerate that (some) values change while being recorded or while snapshots are created. Currently, the total count of requests is not synchronized with the number of requests recorded in percentile buckets. If a snapshot is created while the total count of the timer has been incremented beyond the sum of values in the percentile buckets, the percentile calculation may produce wrong values.\r\n\r\nFor example, if 3 percentile values have been recorded, but the overall count is 4, then the percentile calculation would be based on 4 values. This becomes most obvious if a percentile > .75 (e.g. p95) is being calculated. For this, the implementation will try to find 0.95 * 4 values, which is more than the 3 values recorded in the buckets. Since no bucket fulfills the criteria, the bound of the last (overflow) bucket will be returned, i.e. Long.MAX_VALUE.\r\n\r\n### Changes\r\n\r\nFastSnapshots now bases the percentile calculation on the sum of values in the percentile buckets rather than a count provided by the caller (i.e. FastTimer). This ensures that percentiles are calculated correctly without the need of having all counters fully synchronized.\r\n\r\nMaster Issue: #2053 \r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2054 from nicmichael/fast-codahale-bugfix, closes #2053","tree":{"sha":"b8dd2c96cab9a83ddb553e27e9c590111ed348cb","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b8dd2c96cab9a83ddb553e27e9c590111ed348cb"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/848f8527f9d4745753b2f1e22ac1b8e981ea0d1d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/848f8527f9d4745753b2f1e22ac1b8e981ea0d1d","html_url":"https://github.com/apache/bookkeeper/commit/848f8527f9d4745753b2f1e22ac1b8e981ea0d1d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/848f8527f9d4745753b2f1e22ac1b8e981ea0d1d/comments","author":{"login":"nicmichael","id":27270046,"node_id":"MDQ6VXNlcjI3MjcwMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/27270046?v=4","gravatar_id":"","url":"https://api.github.com/users/nicmichael","html_url":"https://github.com/nicmichael","followers_url":"https://api.github.com/users/nicmichael/followers","following_url":"https://api.github.com/users/nicmichael/following{/other_user}","gists_url":"https://api.github.com/users/nicmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/nicmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicmichael/subscriptions","organizations_url":"https://api.github.com/users/nicmichael/orgs","repos_url":"https://api.github.com/users/nicmichael/repos","events_url":"https://api.github.com/users/nicmichael/events{/privacy}","received_events_url":"https://api.github.com/users/nicmichael/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"06f2b6f50ca2c6c1ccc630aa9d9fd761abf1becc","url":"https://api.github.com/repos/apache/bookkeeper/commits/06f2b6f50ca2c6c1ccc630aa9d9fd761abf1becc","html_url":"https://github.com/apache/bookkeeper/commit/06f2b6f50ca2c6c1ccc630aa9d9fd761abf1becc"}]},{"sha":"06f2b6f50ca2c6c1ccc630aa9d9fd761abf1becc","node_id":"MDY6Q29tbWl0MTU3NTk1NjowNmYyYjZmNTBjYTJjNmMxY2NjNjMwYWE5ZDlmZDc2MWFiZjFiZWNj","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-10T01:42:04Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-10T01:42:04Z"},"message":"Migrate command `updateledgers`\n\nDescriptions of the changes in this PR:\r\n\r\n#2057 \r\n\r\n```\r\nUpdate bookie id in ledgers (this may take a long time).\r\n\r\nUsage:  bkctl ledger update [flags]\r\n\r\nFlags:\r\n\r\n    -host, --hostname\r\n        Expects configuration useHostNameAsBookieID=true as the optin value\r\n\r\n    -l, --limit\r\n        Maximum number of ledgers of ledgers to update (default: no limit)\r\n\r\n    -p, --printprogress\r\n        Print messages on every configured seconds if verbose turned on\r\n        (default: 10 secs)\r\n\r\n    -v, --verbose\r\n        Print status of the ledger updation (default: false)\r\n\r\n    -s, updatepersec\r\n        Number of ledgers updating per second (default: 5 per sec)\r\n\r\n\r\n    -h, --help\r\n        Display help information\r\n```\r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2058 from zymap/command-updateledgers","tree":{"sha":"7f679be3698b76b6d200a6be6b531ee7d3009722","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/7f679be3698b76b6d200a6be6b531ee7d3009722"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/06f2b6f50ca2c6c1ccc630aa9d9fd761abf1becc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/06f2b6f50ca2c6c1ccc630aa9d9fd761abf1becc","html_url":"https://github.com/apache/bookkeeper/commit/06f2b6f50ca2c6c1ccc630aa9d9fd761abf1becc","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/06f2b6f50ca2c6c1ccc630aa9d9fd761abf1becc/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"7ad5849b1b0d9dbf2274a6fd00ad26f7286f7cff","url":"https://api.github.com/repos/apache/bookkeeper/commits/7ad5849b1b0d9dbf2274a6fd00ad26f7286f7cff","html_url":"https://github.com/apache/bookkeeper/commit/7ad5849b1b0d9dbf2274a6fd00ad26f7286f7cff"}]},{"sha":"7ad5849b1b0d9dbf2274a6fd00ad26f7286f7cff","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3YWQ1ODQ5YjFiMGQ5ZGJmMjI3NGE2ZmQwMGFkMjZmNzI4NmY3Y2Zm","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-09T12:00:26Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-09T12:00:26Z"},"message":"Migrate command `regenerate-interleaved-storage-index-file`\n\nDescriptions of the changes in this PR:\r\n\r\n#2033 \r\n\r\n```\r\nRegenerate an interleaved storage index file, from available entrylogger files.\r\n\r\nUsage:  bkctl bookie regenerate-interleaved-storage-index-file [flags]\r\n\r\nFlags:\r\n\r\n    -b, --b64password\r\n        The password in base64 encoding, for cases where the password is not\r\n        UTF-8.\r\n\r\n    -d, --dryrun\r\n        Process the entryLogger, but don't write anthing.\r\n\r\n    -l, --ledgerids\r\n        Ledger(s) whose index needs to be regenerated. Multiple can be\r\n        specified, comma separated.\r\n\r\n    -p, --password\r\n        The bookie stores the password in the index file, so we need it to\r\n        regenerate.This must match the value in the ledger metadata.\r\n\r\n\r\n    -h, --help\r\n        Display help information\r\n```\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2035 from zymap/command-RISIF","tree":{"sha":"3953b2c86c14300ce7f19116fdbd2caad4e06042","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/3953b2c86c14300ce7f19116fdbd2caad4e06042"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/7ad5849b1b0d9dbf2274a6fd00ad26f7286f7cff","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/7ad5849b1b0d9dbf2274a6fd00ad26f7286f7cff","html_url":"https://github.com/apache/bookkeeper/commit/7ad5849b1b0d9dbf2274a6fd00ad26f7286f7cff","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/7ad5849b1b0d9dbf2274a6fd00ad26f7286f7cff/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"d4dbb6bfb6cd7a56a8baf95472a7f6fc680d0ca2","url":"https://api.github.com/repos/apache/bookkeeper/commits/d4dbb6bfb6cd7a56a8baf95472a7f6fc680d0ca2","html_url":"https://github.com/apache/bookkeeper/commit/d4dbb6bfb6cd7a56a8baf95472a7f6fc680d0ca2"}]},{"sha":"d4dbb6bfb6cd7a56a8baf95472a7f6fc680d0ca2","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkNGRiYjZiZmI2Y2Q3YTU2YThiYWY5NTQ3MmE3ZjZmYzY4MGQwY2Ey","commit":{"author":{"name":"Dongfa,Huang","email":"huangdongfa01@gmail.com","date":"2019-04-09T08:16:44Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-09T08:16:44Z"},"message":"Avoid useless verify if LedgerEntryRequest completed\n\nAvoid useless verify if LedgerEntryRequest completed\r\n\r\nChange-Id: Ifda2a6e218c49105a5627be69566ea2ce4a57699\r\n\r\nDescriptions of the changes in this PR:\r\nPrint misleading logs when the SpeculativeRequestExecutionPolicy is turned on\r\n2019-04-03 18:30:49,839 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: -1 , actual: 602\r\n2019-04-03 18:30:49,839 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: -1 , actual: 606\r\n2019-04-03 18:30:49,839 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: -1 , actual: 610\r\n2019-04-03 18:30:49,839 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: -1 , actual: 614\r\n2019-04-03 18:30:49,843 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 644 , actual: 622\r\n2019-04-03 18:30:49,843 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 640 , actual: 626\r\n2019-04-03 18:30:49,843 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 656 , actual: 630\r\n2019-04-03 18:30:49,843 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 652 , actual: 634\r\n2019-04-03 18:30:49,843 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 648 , actual: 638\r\n2019-04-03 18:30:49,846 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 660 , actual: 642\r\n2019-04-03 18:30:49,846 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 675 , actual: 646\r\n2019-04-03 18:30:49,846 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 671 , actual: 650\r\n2019-04-03 18:30:49,846 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 667 , actual: 654\r\n2019-04-03 18:30:49,846 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 663 , actual: 658\r\n2019-04-03 18:30:49,848 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: -1 , actual: 670\r\n2019-04-03 18:30:49,849 ERROR org.apache.bookkeeper.client.DigestManager: Entry-id mismatch in authenticated message, expected: 692 , actual: 662\r\n\r\n\r\n\r\n### Motivation\r\nAvoid useless verify and redundant logging(caused by the use of recycled `entryImpl`) if LedgerEntryRequest completed\r\n\r\n### Changes\r\nReturn immediately if completed\r\n\r\nMaster Issue: #<master-issue-number>\r\n\r\n\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2061 from huangdongfa/master","tree":{"sha":"2fbad9877cb873d98c1e3e08a8ae40492ba944e7","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2fbad9877cb873d98c1e3e08a8ae40492ba944e7"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/d4dbb6bfb6cd7a56a8baf95472a7f6fc680d0ca2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/d4dbb6bfb6cd7a56a8baf95472a7f6fc680d0ca2","html_url":"https://github.com/apache/bookkeeper/commit/d4dbb6bfb6cd7a56a8baf95472a7f6fc680d0ca2","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/d4dbb6bfb6cd7a56a8baf95472a7f6fc680d0ca2/comments","author":{"login":"huangdongfa","id":4515935,"node_id":"MDQ6VXNlcjQ1MTU5MzU=","avatar_url":"https://avatars.githubusercontent.com/u/4515935?v=4","gravatar_id":"","url":"https://api.github.com/users/huangdongfa","html_url":"https://github.com/huangdongfa","followers_url":"https://api.github.com/users/huangdongfa/followers","following_url":"https://api.github.com/users/huangdongfa/following{/other_user}","gists_url":"https://api.github.com/users/huangdongfa/gists{/gist_id}","starred_url":"https://api.github.com/users/huangdongfa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangdongfa/subscriptions","organizations_url":"https://api.github.com/users/huangdongfa/orgs","repos_url":"https://api.github.com/users/huangdongfa/repos","events_url":"https://api.github.com/users/huangdongfa/events{/privacy}","received_events_url":"https://api.github.com/users/huangdongfa/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"5c150f28339d7b32f351f34ee8a7469d265b8613","url":"https://api.github.com/repos/apache/bookkeeper/commits/5c150f28339d7b32f351f34ee8a7469d265b8613","html_url":"https://github.com/apache/bookkeeper/commit/5c150f28339d7b32f351f34ee8a7469d265b8613"}]},{"sha":"5c150f28339d7b32f351f34ee8a7469d265b8613","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1YzE1MGYyODMzOWQ3YjMyZjM1MWYzNGVlOGE3NDY5ZDI2NWI4NjEz","commit":{"author":{"name":"Enrico Olivelli","email":"eolivelli@gmail.com","date":"2019-04-08T20:15:35Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-04-08T20:15:35Z"},"message":"Release notes for 4.9.1\n\nDescriptions of the changes in this PR:\r\n- Release notes for Apache BookKeeper 4.9.1\r\n- Add Apache BookKeeper docs for 4.9.1 to the website\r\n\r\n\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1992 from eolivelli/fix/releasenotest491","tree":{"sha":"cdece89dbe6835b9bba8338cb484ac327eb9031e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/cdece89dbe6835b9bba8338cb484ac327eb9031e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/5c150f28339d7b32f351f34ee8a7469d265b8613","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcq6vnCRBK7hj4Ov3rIwAAdHIIAAgUjwFvyCnRssQOpWGQA/6n\nbgk8XpTXM/1Shdc8ZxpD5uOOwjKOsLtAeXoyKIgIxL7/9jHX1izMCYGm/XXtb5A8\nnnh1a8oR+ugx3aw93ugLmCZKPu4JfYm9uWggtI9bwa/df69EnIWAzKG0VgjcvsjT\nvDPM/qEhncbL2PSpNOwfUaH6zeAtfh6QiiACyWe3GGP+jR3nfneGEaiq7cyKk0hi\niGbC34vu50eA1JxksX3fWruclWdjn1AitAUbpmKwBMLILJH3KSX9lQkKcaUQVOrT\ngHLtwHUeTrLvWEqoNskpl8atmHjBCwtPuaMqY67j4RJZYVtnKwx1LtQy8Buf7OE=\n=E9D+\n-----END PGP SIGNATURE-----\n","payload":"tree cdece89dbe6835b9bba8338cb484ac327eb9031e\nparent 1246826ba749f57d3d428deb7606dd582836ca69\nauthor Enrico Olivelli <eolivelli@gmail.com> 1554754535 +0200\ncommitter GitHub <noreply@github.com> 1554754535 +0200\n\nRelease notes for 4.9.1\n\nDescriptions of the changes in this PR:\r\n- Release notes for Apache BookKeeper 4.9.1\r\n- Add Apache BookKeeper docs for 4.9.1 to the website\r\n\r\n\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1992 from eolivelli/fix/releasenotest491"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/5c150f28339d7b32f351f34ee8a7469d265b8613","html_url":"https://github.com/apache/bookkeeper/commit/5c150f28339d7b32f351f34ee8a7469d265b8613","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/5c150f28339d7b32f351f34ee8a7469d265b8613/comments","author":{"login":"eolivelli","id":9469110,"node_id":"MDQ6VXNlcjk0NjkxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/9469110?v=4","gravatar_id":"","url":"https://api.github.com/users/eolivelli","html_url":"https://github.com/eolivelli","followers_url":"https://api.github.com/users/eolivelli/followers","following_url":"https://api.github.com/users/eolivelli/following{/other_user}","gists_url":"https://api.github.com/users/eolivelli/gists{/gist_id}","starred_url":"https://api.github.com/users/eolivelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eolivelli/subscriptions","organizations_url":"https://api.github.com/users/eolivelli/orgs","repos_url":"https://api.github.com/users/eolivelli/repos","events_url":"https://api.github.com/users/eolivelli/events{/privacy}","received_events_url":"https://api.github.com/users/eolivelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"1246826ba749f57d3d428deb7606dd582836ca69","url":"https://api.github.com/repos/apache/bookkeeper/commits/1246826ba749f57d3d428deb7606dd582836ca69","html_url":"https://github.com/apache/bookkeeper/commit/1246826ba749f57d3d428deb7606dd582836ca69"}]},{"sha":"1246826ba749f57d3d428deb7606dd582836ca69","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxMjQ2ODI2YmE3NDlmNTdkM2Q0MjhkZWI3NjA2ZGQ1ODI4MzZjYTY5","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-08T04:29:48Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-08T04:29:48Z"},"message":"Migrate command `recover`\n\nDescriptions of the changes in this PR:\r\n\r\n#2055 \n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2056 from zymap/command-recover","tree":{"sha":"f13298dd3b924b277ed01ceb3db426555031727f","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f13298dd3b924b277ed01ceb3db426555031727f"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1246826ba749f57d3d428deb7606dd582836ca69","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1246826ba749f57d3d428deb7606dd582836ca69","html_url":"https://github.com/apache/bookkeeper/commit/1246826ba749f57d3d428deb7606dd582836ca69","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1246826ba749f57d3d428deb7606dd582836ca69/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1d4cc71fd77ab803a3ebec5a8e7f1b8f51de92c9","url":"https://api.github.com/repos/apache/bookkeeper/commits/1d4cc71fd77ab803a3ebec5a8e7f1b8f51de92c9","html_url":"https://github.com/apache/bookkeeper/commit/1d4cc71fd77ab803a3ebec5a8e7f1b8f51de92c9"}]},{"sha":"1d4cc71fd77ab803a3ebec5a8e7f1b8f51de92c9","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxZDRjYzcxZmQ3N2FiODAzYTNlYmVjNWE4ZTdmMWI4ZjUxZGU5MmM5","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-03T13:40:06Z"},"committer":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2019-04-03T13:40:06Z"},"message":"Migrate command `localconsistencycheck`\n\nDescriptions of the changes in this PR:\r\n\r\n#2042 \r\n\r\nUsing bkctl run command localconsistencycheck\r\n\r\n```\r\nValidate Ledger Storage internal metadata\r\nUsage:  bkctl bookie localconsistencycheck [flags]\r\nFlags:\r\n\r\n    -h, --help\r\n        Display help information\r\n```\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2043 from zymap/command-localconsistencycheck and squashes the following commits:\n\nc31f07a00 [Sijie Guo] Merge branch 'master' into command-localconsistencycheck\nc391fe58d [Yong Zhang] Migrate command `readlogmetadata`\n120d67737 [Yong Zhang] Migrate command `lostbookierecoverydelay`\nbf66235e5 [Yong Zhang] Migrate command `deleteledger`\nc9bb4a42c [Yong Zhang] Migrate command `localconsistencycheck`\n751e55fa4 [Arvin] ISSUE #2020: close db properly to avoid open RocksDB failure at the second time\n138a7ae85 [Yong Zhang] Migrate command `metadataformat`\nb043d1694 [Yong Zhang] Migrate command `listledgers`\n4573285db [Ivan Kelly] Docker autobuild hook\ne3d807a32 [Like] Fix IDE complain as there are multi choices for error code\n9524a9f4a [Yong Zhang] Migrate command `readjournal`\n6c3f33f55 [Yong Zhang] Fix when met unexpect entry id crashed\ne35a108c7 [Like] Fix error message for unrecognized number-of-bookies\n5902ee27b [Boyang Jerry Peng] fix potential NPE when releasing entry that is null\n6aa73ce05 [Ivan Kelly] [RELEASE] Update website to include documentation for 4.8.2\n1448d12aa [Yong Zhang] Migrate command `listfilesondisk`\n4de598379 [Yong Zhang] Issue #1987: Migrate command `convert-to-interleaved-storage`\n468743e7e [Matteo Merli] In DbLedgerStorage use default values when config key is present but empty\nf26a4cae0 [Ivan Kelly] Release notes for v4.8.2\nec2636cd2 [Yong Zhang] Issue #1985: Migrate command `convert-to-db-storage`\n8cc7239ac [Yong Zhang] Issue #1982: Migrate command `bookiesanity`\nfa90f0185 [Yong Zhang] Issue #1980: Migrate command `ledger` from shell to bkctl","tree":{"sha":"a7979e4eb46c46c93de1319ac47635016b7656c8","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/a7979e4eb46c46c93de1319ac47635016b7656c8"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1d4cc71fd77ab803a3ebec5a8e7f1b8f51de92c9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1d4cc71fd77ab803a3ebec5a8e7f1b8f51de92c9","html_url":"https://github.com/apache/bookkeeper/commit/1d4cc71fd77ab803a3ebec5a8e7f1b8f51de92c9","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1d4cc71fd77ab803a3ebec5a8e7f1b8f51de92c9/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"parents":[{"sha":"67f83620eb8ed93bf73322293deb1a1bde8d09c7","url":"https://api.github.com/repos/apache/bookkeeper/commits/67f83620eb8ed93bf73322293deb1a1bde8d09c7","html_url":"https://github.com/apache/bookkeeper/commit/67f83620eb8ed93bf73322293deb1a1bde8d09c7"}]},{"sha":"67f83620eb8ed93bf73322293deb1a1bde8d09c7","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2N2Y4MzYyMGViOGVkOTNiZjczMzIyMjkzZGViMWExYmRlOGQwOWM3","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-03T13:30:16Z"},"committer":{"name":"Jia Zhai","email":"zhaijia@apache.org","date":"2019-04-03T13:30:16Z"},"message":"Migrate command `readledger`\n\nDescriptions of the changes in this PR:\r\n\r\n#2040 \r\n\r\n- Using `bkctl` run `readledger`\r\n\r\n```\r\nRead a range of entries from a ledger.\r\n\r\nUsage:  bkctl bookie readledger [flags]\r\n\r\nFlags:\r\n\r\n    -b, --bookie\r\n        Only read from a specific bookie\r\n\r\n    -ef, --entryformatter\r\n        Set entry formatter\r\n\r\n    -fe, --firstentryid\r\n        First Entry ID\r\n\r\n    -r, --force-recovery\r\n        Ensure the ledger is properly closed before reading\r\n\r\n    -le, --lastentryid\r\n        Last Entry ID\r\n\r\n    -l, --ledgerid\r\n        Ledger ID\r\n\r\n    -lf, --ledgeridformatter\r\n        Set ledger id formatter\r\n\r\n    -m, --msg\r\n        Print message body\r\n\r\n\r\n    -h, --help\r\n        Display help information\r\n```\r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2041 from zymap/command-readledger and squashes the following commits:\n\n56b0a4581 [Yong Zhang] Remove unused import\n30dafa85f [Yong Zhang] Merge branch 'master' into command-readledger\nbfbd6b023 [Yong Zhang] Migrate command `decommission`\nd40b8b69f [Yong Zhang] Migrate command `readlog`\n95d145a15 [Yong Zhang] Migrate command `nukeexistingcluster`\ne2b1dc7f3 [Yong Zhang] Migrate command `listunderreplicated`\nc465c4761 [Yong Zhang] Remove unused import\n0988e12c7 [bd2019us] ISSUE #2023: change cached thread pool to fixed thread pool\n6a6d7bbd9 [Yong Zhang] Migrate command `initnewcluster`\n931df8c2c [Sijie Guo] Merge branch 'master' into command-readledger\nc391fe58d [Yong Zhang] Migrate command `readlogmetadata`\n120d67737 [Yong Zhang] Migrate command `lostbookierecoverydelay`\nbf66235e5 [Yong Zhang] Migrate command `deleteledger`\n87e6644f2 [Yong Zhang] Fix some conflict\n5ae05f0d2 [Yong Zhang] Migrate command `readledger`\n751e55fa4 [Arvin] ISSUE #2020: close db properly to avoid open RocksDB failure at the second time\n138a7ae85 [Yong Zhang] Migrate command `metadataformat`\nb043d1694 [Yong Zhang] Migrate command `listledgers`\n4573285db [Ivan Kelly] Docker autobuild hook\ne3d807a32 [Like] Fix IDE complain as there are multi choices for error code\n9524a9f4a [Yong Zhang] Migrate command `readjournal`\n6c3f33f55 [Yong Zhang] Fix when met unexpect entry id crashed\ne35a108c7 [Like] Fix error message for unrecognized number-of-bookies\n5902ee27b [Boyang Jerry Peng] fix potential NPE when releasing entry that is null\n6aa73ce05 [Ivan Kelly] [RELEASE] Update website to include documentation for 4.8.2\n1448d12aa [Yong Zhang] Migrate command `listfilesondisk`\n4de598379 [Yong Zhang] Issue #1987: Migrate command `convert-to-interleaved-storage`\n468743e7e [Matteo Merli] In DbLedgerStorage use default values when config key is present but empty\nf26a4cae0 [Ivan Kelly] Release notes for v4.8.2\nec2636cd2 [Yong Zhang] Issue #1985: Migrate command `convert-to-db-storage`\n8cc7239ac [Yong Zhang] Issue #1982: Migrate command `bookiesanity`\nfa90f0185 [Yong Zhang] Issue #1980: Migrate command `ledger` from shell to bkctl","tree":{"sha":"947878ba73f6f813d73784462164fba0b229c2db","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/947878ba73f6f813d73784462164fba0b229c2db"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/67f83620eb8ed93bf73322293deb1a1bde8d09c7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/67f83620eb8ed93bf73322293deb1a1bde8d09c7","html_url":"https://github.com/apache/bookkeeper/commit/67f83620eb8ed93bf73322293deb1a1bde8d09c7","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/67f83620eb8ed93bf73322293deb1a1bde8d09c7/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","site_admin":false},"parents":[{"sha":"bfbd6b023b68ca0c23bf976274279ac8338181f5","url":"https://api.github.com/repos/apache/bookkeeper/commits/bfbd6b023b68ca0c23bf976274279ac8338181f5","html_url":"https://github.com/apache/bookkeeper/commit/bfbd6b023b68ca0c23bf976274279ac8338181f5"}]},{"sha":"bfbd6b023b68ca0c23bf976274279ac8338181f5","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiZmJkNmIwMjNiNjhjYTBjMjNiZjk3NjI3NDI3OWFjODMzODE4MWY1","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-03T06:18:52Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-03T06:18:52Z"},"message":"Migrate command `decommission`\n\nDescriptions of the changes in this PR:\r\n\r\n#2049 \n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2050 from zymap/command-decommissionbookie","tree":{"sha":"df30d756240dabb5ee4d4374efd855c8cfd6727c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/df30d756240dabb5ee4d4374efd855c8cfd6727c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/bfbd6b023b68ca0c23bf976274279ac8338181f5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/bfbd6b023b68ca0c23bf976274279ac8338181f5","html_url":"https://github.com/apache/bookkeeper/commit/bfbd6b023b68ca0c23bf976274279ac8338181f5","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/bfbd6b023b68ca0c23bf976274279ac8338181f5/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"d40b8b69f1b25f4ad3cd9992db616b847fed54d8","url":"https://api.github.com/repos/apache/bookkeeper/commits/d40b8b69f1b25f4ad3cd9992db616b847fed54d8","html_url":"https://github.com/apache/bookkeeper/commit/d40b8b69f1b25f4ad3cd9992db616b847fed54d8"}]},{"sha":"d40b8b69f1b25f4ad3cd9992db616b847fed54d8","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkNDBiOGI2OWYxYjI1ZjRhZDNjZDk5OTJkYjYxNmI4NDdmZWQ1NGQ4","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-03T06:17:45Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-03T06:17:45Z"},"message":"Migrate command `readlog`\n\nDescriptions of the changes in this PR:\r\n\r\n#2044 \n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2045 from zymap/command-readlog","tree":{"sha":"257d35a542398e7ca48b583dec22c085e7547563","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/257d35a542398e7ca48b583dec22c085e7547563"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/d40b8b69f1b25f4ad3cd9992db616b847fed54d8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/d40b8b69f1b25f4ad3cd9992db616b847fed54d8","html_url":"https://github.com/apache/bookkeeper/commit/d40b8b69f1b25f4ad3cd9992db616b847fed54d8","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/d40b8b69f1b25f4ad3cd9992db616b847fed54d8/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"95d145a15f5410e207ce610b6b4af8758851ab97","url":"https://api.github.com/repos/apache/bookkeeper/commits/95d145a15f5410e207ce610b6b4af8758851ab97","html_url":"https://github.com/apache/bookkeeper/commit/95d145a15f5410e207ce610b6b4af8758851ab97"}]},{"sha":"95d145a15f5410e207ce610b6b4af8758851ab97","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5NWQxNDVhMTVmNTQxMGUyMDdjZTYxMGI2YjRhZjg3NTg4NTFhYjk3","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-03T06:16:23Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-03T06:16:23Z"},"message":"Migrate command `nukeexistingcluster`\n\nDescriptions of the changes in this PR:\r\n\r\n#2029 \r\n\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2030 from zymap/command-nukeexistingcluster","tree":{"sha":"b9af88c901496dd9308a91bbcb0f1687a19601e0","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/b9af88c901496dd9308a91bbcb0f1687a19601e0"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/95d145a15f5410e207ce610b6b4af8758851ab97","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/95d145a15f5410e207ce610b6b4af8758851ab97","html_url":"https://github.com/apache/bookkeeper/commit/95d145a15f5410e207ce610b6b4af8758851ab97","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/95d145a15f5410e207ce610b6b4af8758851ab97/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"e2b1dc7f3197891a437f689c35bff93e4e0c9a5d","url":"https://api.github.com/repos/apache/bookkeeper/commits/e2b1dc7f3197891a437f689c35bff93e4e0c9a5d","html_url":"https://github.com/apache/bookkeeper/commit/e2b1dc7f3197891a437f689c35bff93e4e0c9a5d"}]},{"sha":"e2b1dc7f3197891a437f689c35bff93e4e0c9a5d","node_id":"MDY6Q29tbWl0MTU3NTk1NjplMmIxZGM3ZjMxOTc4OTFhNDM3ZjY4OWMzNWJmZjkzZTRlMGM5YTVk","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-03T06:15:23Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-03T06:15:23Z"},"message":"Migrate command `listunderreplicated`\n\nDescriptions of the changes in this PR:\r\n\r\n- Using `bkctl` run command `listunderreplicated`\r\n\r\n### Motivation\r\n\r\n#2013 \r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2014 from zymap/command-listunderreplicated","tree":{"sha":"65ebce7abfeedd831b7731b52934f751fe5cef55","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/65ebce7abfeedd831b7731b52934f751fe5cef55"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/e2b1dc7f3197891a437f689c35bff93e4e0c9a5d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/e2b1dc7f3197891a437f689c35bff93e4e0c9a5d","html_url":"https://github.com/apache/bookkeeper/commit/e2b1dc7f3197891a437f689c35bff93e4e0c9a5d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/e2b1dc7f3197891a437f689c35bff93e4e0c9a5d/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"0988e12c7a12e1ffae2cdbe932ba414ec06f40cc","url":"https://api.github.com/repos/apache/bookkeeper/commits/0988e12c7a12e1ffae2cdbe932ba414ec06f40cc","html_url":"https://github.com/apache/bookkeeper/commit/0988e12c7a12e1ffae2cdbe932ba414ec06f40cc"}]},{"sha":"0988e12c7a12e1ffae2cdbe932ba414ec06f40cc","node_id":"MDY6Q29tbWl0MTU3NTk1NjowOTg4ZTEyYzdhMTJlMWZmYWUyY2RiZTkzMmJhNDE0ZWMwNmY0MGNj","commit":{"author":{"name":"bd2019us","email":"47727869+bd2019us@users.noreply.github.com","date":"2019-04-02T18:35:23Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-02T18:35:23Z"},"message":"ISSUE #2023: change cached thread pool to fixed thread pool\n\nDescriptions of the changes in this PR:\r\n\r\nchange newCachedThreadPool() to newFixedThreadPool(int)\r\n\r\n### Motivation\r\n\r\nnewFixedThreadPool(int) can be freely configured with the total number of threads, while cached thread pool may cause OutOfMemoryError when there are too many threads need to created.\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2024 from bd2019us/patch, closes #2023","tree":{"sha":"f0d4f12b0e128b253f4b9b5eb79ee152fdf4392a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f0d4f12b0e128b253f4b9b5eb79ee152fdf4392a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/0988e12c7a12e1ffae2cdbe932ba414ec06f40cc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/0988e12c7a12e1ffae2cdbe932ba414ec06f40cc","html_url":"https://github.com/apache/bookkeeper/commit/0988e12c7a12e1ffae2cdbe932ba414ec06f40cc","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/0988e12c7a12e1ffae2cdbe932ba414ec06f40cc/comments","author":{"login":"bd2019us","id":47727869,"node_id":"MDQ6VXNlcjQ3NzI3ODY5","avatar_url":"https://avatars.githubusercontent.com/u/47727869?v=4","gravatar_id":"","url":"https://api.github.com/users/bd2019us","html_url":"https://github.com/bd2019us","followers_url":"https://api.github.com/users/bd2019us/followers","following_url":"https://api.github.com/users/bd2019us/following{/other_user}","gists_url":"https://api.github.com/users/bd2019us/gists{/gist_id}","starred_url":"https://api.github.com/users/bd2019us/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd2019us/subscriptions","organizations_url":"https://api.github.com/users/bd2019us/orgs","repos_url":"https://api.github.com/users/bd2019us/repos","events_url":"https://api.github.com/users/bd2019us/events{/privacy}","received_events_url":"https://api.github.com/users/bd2019us/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"6a6d7bbd995acd55389ec209e42e099647c988fd","url":"https://api.github.com/repos/apache/bookkeeper/commits/6a6d7bbd995acd55389ec209e42e099647c988fd","html_url":"https://github.com/apache/bookkeeper/commit/6a6d7bbd995acd55389ec209e42e099647c988fd"}]},{"sha":"6a6d7bbd995acd55389ec209e42e099647c988fd","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2YTZkN2JiZDk5NWFjZDU1Mzg5ZWMyMDllNDJlMDk5NjQ3Yzk4OGZk","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-02T18:33:16Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-02T18:33:16Z"},"message":"Migrate command `initnewcluster`\n\nDescriptions of the changes in this PR:\r\n\r\n#2046 \n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2047 from zymap/command-initnewcluster","tree":{"sha":"de5437f668c9b1f57e999f0fd54ce0e9c3595667","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/de5437f668c9b1f57e999f0fd54ce0e9c3595667"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6a6d7bbd995acd55389ec209e42e099647c988fd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6a6d7bbd995acd55389ec209e42e099647c988fd","html_url":"https://github.com/apache/bookkeeper/commit/6a6d7bbd995acd55389ec209e42e099647c988fd","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6a6d7bbd995acd55389ec209e42e099647c988fd/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"c391fe58dfdb283e54d809a8d24200c9a34d5dfc","url":"https://api.github.com/repos/apache/bookkeeper/commits/c391fe58dfdb283e54d809a8d24200c9a34d5dfc","html_url":"https://github.com/apache/bookkeeper/commit/c391fe58dfdb283e54d809a8d24200c9a34d5dfc"}]},{"sha":"c391fe58dfdb283e54d809a8d24200c9a34d5dfc","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjMzkxZmU1OGRmZGIyODNlNTRkODA5YThkMjQyMDBjOWEzNGQ1ZGZj","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-02T18:21:14Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-02T18:21:14Z"},"message":"Migrate command `readlogmetadata`\n\nDescriptions of the changes in this PR:\r\n\r\n#2038 \n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2039 from zymap/command-readlogmetadata","tree":{"sha":"db17c3dbf374ba2138dc88678c7856b49e2ade15","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/db17c3dbf374ba2138dc88678c7856b49e2ade15"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/c391fe58dfdb283e54d809a8d24200c9a34d5dfc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/c391fe58dfdb283e54d809a8d24200c9a34d5dfc","html_url":"https://github.com/apache/bookkeeper/commit/c391fe58dfdb283e54d809a8d24200c9a34d5dfc","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/c391fe58dfdb283e54d809a8d24200c9a34d5dfc/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"120d67737f894c8c9ce5d7954c697015f8e7b1e2","url":"https://api.github.com/repos/apache/bookkeeper/commits/120d67737f894c8c9ce5d7954c697015f8e7b1e2","html_url":"https://github.com/apache/bookkeeper/commit/120d67737f894c8c9ce5d7954c697015f8e7b1e2"}]},{"sha":"120d67737f894c8c9ce5d7954c697015f8e7b1e2","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxMjBkNjc3MzdmODk0YzhjOWNlNWQ3OTU0YzY5NzAxNWY4ZTdiMWUy","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-02T08:39:03Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-02T08:39:03Z"},"message":"Migrate command `lostbookierecoverydelay`\n\nDescriptions of the changes in this PR:\r\n\r\n- Using `bkctl` run command `lostbookierecoverydelay`\r\n\r\n### Motivation\r\n\r\n#2015 \n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2016 from zymap/command-lostbookierecoverydelay","tree":{"sha":"f92c9d2ef78ae64b60cf596fffdc79fb315b1144","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/f92c9d2ef78ae64b60cf596fffdc79fb315b1144"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/120d67737f894c8c9ce5d7954c697015f8e7b1e2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/120d67737f894c8c9ce5d7954c697015f8e7b1e2","html_url":"https://github.com/apache/bookkeeper/commit/120d67737f894c8c9ce5d7954c697015f8e7b1e2","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/120d67737f894c8c9ce5d7954c697015f8e7b1e2/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"bf66235e5bfa2aa094d17b7e555d0dd5661a6f4d","url":"https://api.github.com/repos/apache/bookkeeper/commits/bf66235e5bfa2aa094d17b7e555d0dd5661a6f4d","html_url":"https://github.com/apache/bookkeeper/commit/bf66235e5bfa2aa094d17b7e555d0dd5661a6f4d"}]},{"sha":"bf66235e5bfa2aa094d17b7e555d0dd5661a6f4d","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiZjY2MjM1ZTViZmEyYWEwOTRkMTdiN2U1NTVkMGRkNTY2MWE2ZjRk","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-02T08:32:23Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-02T08:32:23Z"},"message":"Migrate command `deleteledger`\n\nDescriptions of the changes in this PR:\r\n\r\n#2025 \r\n\r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2026 from zymap/command-deleteledger","tree":{"sha":"6ac69e2dae2f6e88e4ca006d316027261be1384c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/6ac69e2dae2f6e88e4ca006d316027261be1384c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/bf66235e5bfa2aa094d17b7e555d0dd5661a6f4d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/bf66235e5bfa2aa094d17b7e555d0dd5661a6f4d","html_url":"https://github.com/apache/bookkeeper/commit/bf66235e5bfa2aa094d17b7e555d0dd5661a6f4d","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/bf66235e5bfa2aa094d17b7e555d0dd5661a6f4d/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"751e55fa433172422fb82556ff748c5f6f2bfc41","url":"https://api.github.com/repos/apache/bookkeeper/commits/751e55fa433172422fb82556ff748c5f6f2bfc41","html_url":"https://github.com/apache/bookkeeper/commit/751e55fa433172422fb82556ff748c5f6f2bfc41"}]},{"sha":"751e55fa433172422fb82556ff748c5f6f2bfc41","node_id":"MDY6Q29tbWl0MTU3NTk1Njo3NTFlNTVmYTQzMzE3MjQyMmZiODI1NTZmZjc0OGM1ZjZmMmJmYzQx","commit":{"author":{"name":"Arvin","email":"arvindevel@gmail.com","date":"2019-04-01T16:27:42Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-01T16:27:42Z"},"message":"ISSUE #2020: close db properly to avoid open RocksDB failure at the second time\n\nDescriptions of the changes in this PR:\r\n\r\n### Motivation\r\n\r\nIf not releasing resources of failed/closed asyncStore, new creating of the same store identifier will fail, mainly caused by RocksDBException, like #2020 shows.\r\n\r\n### Changes\r\n\r\nadd scStores to factory's instance variable at the `addstore` method of `MVCCStoreFactoryImpl` class;\r\nrelease store when open fail;\r\n\r\nDescriptions of the changes in this PR:\r\n\r\nMaster Issue: #2020 \r\n\r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2022 from ArvinDevel/issue2020, closes #2020","tree":{"sha":"cd599c8e6baf36baf49202635497181685c81d76","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/cd599c8e6baf36baf49202635497181685c81d76"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/751e55fa433172422fb82556ff748c5f6f2bfc41","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/751e55fa433172422fb82556ff748c5f6f2bfc41","html_url":"https://github.com/apache/bookkeeper/commit/751e55fa433172422fb82556ff748c5f6f2bfc41","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/751e55fa433172422fb82556ff748c5f6f2bfc41/comments","author":{"login":"ArvinDevel","id":16100052,"node_id":"MDQ6VXNlcjE2MTAwMDUy","avatar_url":"https://avatars.githubusercontent.com/u/16100052?v=4","gravatar_id":"","url":"https://api.github.com/users/ArvinDevel","html_url":"https://github.com/ArvinDevel","followers_url":"https://api.github.com/users/ArvinDevel/followers","following_url":"https://api.github.com/users/ArvinDevel/following{/other_user}","gists_url":"https://api.github.com/users/ArvinDevel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArvinDevel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArvinDevel/subscriptions","organizations_url":"https://api.github.com/users/ArvinDevel/orgs","repos_url":"https://api.github.com/users/ArvinDevel/repos","events_url":"https://api.github.com/users/ArvinDevel/events{/privacy}","received_events_url":"https://api.github.com/users/ArvinDevel/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"138a7ae8569fa36b70e03ba61c57104d6ab94f18","url":"https://api.github.com/repos/apache/bookkeeper/commits/138a7ae8569fa36b70e03ba61c57104d6ab94f18","html_url":"https://github.com/apache/bookkeeper/commit/138a7ae8569fa36b70e03ba61c57104d6ab94f18"}]},{"sha":"138a7ae8569fa36b70e03ba61c57104d6ab94f18","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxMzhhN2FlODU2OWZhMzZiNzBlMDNiYTYxYzU3MTA0ZDZhYjk0ZjE4","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-01T16:18:42Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-01T16:18:42Z"},"message":"Migrate command `metadataformat`\n\nDescriptions of the changes in this PR:\r\n\r\n#2031 \r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #2032 from zymap/command-metaformat","tree":{"sha":"72c0918db5532d9c1ab4fce6ebc6150c45fabb00","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/72c0918db5532d9c1ab4fce6ebc6150c45fabb00"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/138a7ae8569fa36b70e03ba61c57104d6ab94f18","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/138a7ae8569fa36b70e03ba61c57104d6ab94f18","html_url":"https://github.com/apache/bookkeeper/commit/138a7ae8569fa36b70e03ba61c57104d6ab94f18","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/138a7ae8569fa36b70e03ba61c57104d6ab94f18/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"b043d1694569a934d9f27347ec2d15180f7a95c0","url":"https://api.github.com/repos/apache/bookkeeper/commits/b043d1694569a934d9f27347ec2d15180f7a95c0","html_url":"https://github.com/apache/bookkeeper/commit/b043d1694569a934d9f27347ec2d15180f7a95c0"}]},{"sha":"b043d1694569a934d9f27347ec2d15180f7a95c0","node_id":"MDY6Q29tbWl0MTU3NTk1NjpiMDQzZDE2OTQ1NjlhOTM0ZDlmMjczNDdlYzJkMTUxODBmN2E5NWMw","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-04-01T16:10:39Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-04-01T16:10:39Z"},"message":"Migrate command `listledgers`\n\nDescriptions of the changes in this PR:\r\n\r\nUsing `bkctl` run command `listledgers`\r\n\r\n### Motivation\r\n\r\n#2004 \r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2005 from zymap/command-listledgers","tree":{"sha":"49c93815dbd67a5b59c332ea88f440bc922a106c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/49c93815dbd67a5b59c332ea88f440bc922a106c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/b043d1694569a934d9f27347ec2d15180f7a95c0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/b043d1694569a934d9f27347ec2d15180f7a95c0","html_url":"https://github.com/apache/bookkeeper/commit/b043d1694569a934d9f27347ec2d15180f7a95c0","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/b043d1694569a934d9f27347ec2d15180f7a95c0/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"4573285db9e027416bf33ab9b959b952d2b0e8d5","url":"https://api.github.com/repos/apache/bookkeeper/commits/4573285db9e027416bf33ab9b959b952d2b0e8d5","html_url":"https://github.com/apache/bookkeeper/commit/4573285db9e027416bf33ab9b959b952d2b0e8d5"}]},{"sha":"4573285db9e027416bf33ab9b959b952d2b0e8d5","node_id":"MDY6Q29tbWl0MTU3NTk1Njo0NTczMjg1ZGI5ZTAyNzQxNmJmMzNhYjliOTU5Yjk1MmQyYjBlOGQ1","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-04-01T12:19:49Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-04-01T12:19:49Z"},"message":"Docker autobuild hook\n\nThis hook will allow docker autobuild to build from the offical tag\r\nand removes the need to update the dockerfile after the release has\r\nbeen made.\r\n\r\nIt also adds a build arg, DISTRO_URL which can be used for testing\r\nrelease candidates.\r\n\r\n```\r\ndocker build --build-arg BK_VERSION=4.9.1\r\n    --build-arg DISTRO_URL=<rc-tarball-url> .\r\n```\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2017 from ivankelly/docker-tag2","tree":{"sha":"24bb016f9733729b6c15710e067770728e9fb6c4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/24bb016f9733729b6c15710e067770728e9fb6c4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/4573285db9e027416bf33ab9b959b952d2b0e8d5","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcogHlCRBK7hj4Ov3rIwAAdHIIAHz/+BtwSx/V7ZkQyNtZ9Ot8\nI2DaEWp/kXQVfOpKqkvsXnDuEzFoxc155RoohZbDLvhse6FTVFtEf1NHEyTP2H6C\nHa2NR35yVRivKEBmnSHrnNDKp42JungutiZdgnl4dL8jsAI46bpm+VGZEl7nGgWA\n5MieIhG9c0As/qLADTbpatXiXDCIZZwOmFreFXsXg/AtVf2fA/M/yyEFIYfhtj07\n1Wuo2iuCG3QS71WzlAnmbnbuU3hfFWXk1cbMYnCDXY6qDGLTOs/Svl80cyWnhlvG\n3t8QW20B7GLLYNFyVM4gcUVUicc+iNeTjuiCSSU9s0CkM3oWmR0cdie5HImQYzE=\n=a/Sx\n-----END PGP SIGNATURE-----\n","payload":"tree 24bb016f9733729b6c15710e067770728e9fb6c4\nparent e3d807a32a0a9b69d0ac8db3ca17398373dbee28\nauthor Ivan Kelly <ivank@apache.org> 1554121189 +0200\ncommitter GitHub <noreply@github.com> 1554121189 +0200\n\nDocker autobuild hook\n\nThis hook will allow docker autobuild to build from the offical tag\r\nand removes the need to update the dockerfile after the release has\r\nbeen made.\r\n\r\nIt also adds a build arg, DISTRO_URL which can be used for testing\r\nrelease candidates.\r\n\r\n```\r\ndocker build --build-arg BK_VERSION=4.9.1\r\n    --build-arg DISTRO_URL=<rc-tarball-url> .\r\n```\r\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #2017 from ivankelly/docker-tag2"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/4573285db9e027416bf33ab9b959b952d2b0e8d5","html_url":"https://github.com/apache/bookkeeper/commit/4573285db9e027416bf33ab9b959b952d2b0e8d5","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/4573285db9e027416bf33ab9b959b952d2b0e8d5/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"e3d807a32a0a9b69d0ac8db3ca17398373dbee28","url":"https://api.github.com/repos/apache/bookkeeper/commits/e3d807a32a0a9b69d0ac8db3ca17398373dbee28","html_url":"https://github.com/apache/bookkeeper/commit/e3d807a32a0a9b69d0ac8db3ca17398373dbee28"}]},{"sha":"e3d807a32a0a9b69d0ac8db3ca17398373dbee28","node_id":"MDY6Q29tbWl0MTU3NTk1NjplM2Q4MDdhMzJhMGE5YjY5ZDBhYzhkYjNjYTE3Mzk4MzczZGJlZTI4","commit":{"author":{"name":"Like","email":"like_0903@163.com","date":"2019-03-29T04:45:33Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-03-29T04:45:33Z"},"message":"Fix IDE complain as there are multi choices for error code\n\nThere are two ```Code``` in ```org.apache.bookkeeper.client. BKException```:\r\n\r\nThe first is https://github.com/apache/bookkeeper/blob/f26a4cae0e9205ad391c6d4d79f2937871864c28/bookkeeper-server/src/main/java/org/apache/bookkeeper/client/BKException.java#L136\r\n\r\nThe second is https://github.com/apache/bookkeeper/blob/f26a4cae0e9205ad391c6d4d79f2937871864c28/bookkeeper-server/src/main/java/org/apache/bookkeeper/client/api/BKException.java#L180\r\n\r\nBKException's subclasses cannot auto choice which ```Code```. \r\n\n\nReviewers: Sijie Guo <sijie@apache.org>\n\nThis closes #1999 from liketic/fix-code","tree":{"sha":"70198f0c062a7c5384edc3786be56d06020e7614","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/70198f0c062a7c5384edc3786be56d06020e7614"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/e3d807a32a0a9b69d0ac8db3ca17398373dbee28","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/e3d807a32a0a9b69d0ac8db3ca17398373dbee28","html_url":"https://github.com/apache/bookkeeper/commit/e3d807a32a0a9b69d0ac8db3ca17398373dbee28","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/e3d807a32a0a9b69d0ac8db3ca17398373dbee28/comments","author":{"login":"liketic","id":3806117,"node_id":"MDQ6VXNlcjM4MDYxMTc=","avatar_url":"https://avatars.githubusercontent.com/u/3806117?v=4","gravatar_id":"","url":"https://api.github.com/users/liketic","html_url":"https://github.com/liketic","followers_url":"https://api.github.com/users/liketic/followers","following_url":"https://api.github.com/users/liketic/following{/other_user}","gists_url":"https://api.github.com/users/liketic/gists{/gist_id}","starred_url":"https://api.github.com/users/liketic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liketic/subscriptions","organizations_url":"https://api.github.com/users/liketic/orgs","repos_url":"https://api.github.com/users/liketic/repos","events_url":"https://api.github.com/users/liketic/events{/privacy}","received_events_url":"https://api.github.com/users/liketic/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"9524a9f4a82dd990aa437a2931bf2e5541ea0a37","url":"https://api.github.com/repos/apache/bookkeeper/commits/9524a9f4a82dd990aa437a2931bf2e5541ea0a37","html_url":"https://github.com/apache/bookkeeper/commit/9524a9f4a82dd990aa437a2931bf2e5541ea0a37"}]},{"sha":"9524a9f4a82dd990aa437a2931bf2e5541ea0a37","node_id":"MDY6Q29tbWl0MTU3NTk1Njo5NTI0YTlmNGE4MmRkOTkwYWE0MzdhMjkzMWJmMmU1NTQxZWEwYTM3","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-03-29T04:44:24Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-03-29T04:44:24Z"},"message":"Migrate command `readjournal`\n\nDescriptions of the changes in this PR:\r\n\r\n- Use `bkctl` execute `readjournal` command\r\n\r\n### Motivation\r\n\r\n- Migrate from bookieshelll\r\n\r\n\r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #2000 from zymap/command-readjournal","tree":{"sha":"ecf109fcef0d7636d75e947b968685c2524c09ec","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/ecf109fcef0d7636d75e947b968685c2524c09ec"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/9524a9f4a82dd990aa437a2931bf2e5541ea0a37","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/9524a9f4a82dd990aa437a2931bf2e5541ea0a37","html_url":"https://github.com/apache/bookkeeper/commit/9524a9f4a82dd990aa437a2931bf2e5541ea0a37","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/9524a9f4a82dd990aa437a2931bf2e5541ea0a37/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"6c3f33f55fc3754925323b1d077108331d027aaf","url":"https://api.github.com/repos/apache/bookkeeper/commits/6c3f33f55fc3754925323b1d077108331d027aaf","html_url":"https://github.com/apache/bookkeeper/commit/6c3f33f55fc3754925323b1d077108331d027aaf"}]},{"sha":"6c3f33f55fc3754925323b1d077108331d027aaf","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2YzNmMzNmNTVmYzM3NTQ5MjUzMjNiMWQwNzcxMDgzMzFkMDI3YWFm","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-03-27T15:35:48Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-03-27T15:35:48Z"},"message":"Fix when met unexpect entry id crashed\n\n\r\nFixes #2001\r\n\r\n*Motivation*\r\n\r\nWhen met a unexpect entry id, db indexes failed cleanup.\r\n\r\n*Modifications*\r\n\r\nCatch the exception and ignore it.\r\n\r\nMaster Issue: #2001 \r\n\r\n\r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Matteo Merli <mmerli@apache.org>\n\nThis closes #2002 from zymap/fixnoentryexception","tree":{"sha":"629ba4b09913c7270e915ed7cbe97c2260f7772a","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/629ba4b09913c7270e915ed7cbe97c2260f7772a"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6c3f33f55fc3754925323b1d077108331d027aaf","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6c3f33f55fc3754925323b1d077108331d027aaf","html_url":"https://github.com/apache/bookkeeper/commit/6c3f33f55fc3754925323b1d077108331d027aaf","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6c3f33f55fc3754925323b1d077108331d027aaf/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"e35a108c7a47d746d5010ee5178712496741cc18","url":"https://api.github.com/repos/apache/bookkeeper/commits/e35a108c7a47d746d5010ee5178712496741cc18","html_url":"https://github.com/apache/bookkeeper/commit/e35a108c7a47d746d5010ee5178712496741cc18"}]},{"sha":"e35a108c7a47d746d5010ee5178712496741cc18","node_id":"MDY6Q29tbWl0MTU3NTk1NjplMzVhMTA4YzdhNDdkNzQ2ZDUwMTBlZTUxNzg3MTI0OTY3NDFjYzE4","commit":{"author":{"name":"Like","email":"like_0903@163.com","date":"2019-03-27T05:11:17Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-03-27T05:11:17Z"},"message":"Fix error message for unrecognized number-of-bookies\n\nCloses #1925 \n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nThis closes #1997 from liketic/fix-issue-1925","tree":{"sha":"d0643ae714bca3fcb782bb37a24de35f9efada91","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d0643ae714bca3fcb782bb37a24de35f9efada91"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/e35a108c7a47d746d5010ee5178712496741cc18","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/e35a108c7a47d746d5010ee5178712496741cc18","html_url":"https://github.com/apache/bookkeeper/commit/e35a108c7a47d746d5010ee5178712496741cc18","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/e35a108c7a47d746d5010ee5178712496741cc18/comments","author":{"login":"liketic","id":3806117,"node_id":"MDQ6VXNlcjM4MDYxMTc=","avatar_url":"https://avatars.githubusercontent.com/u/3806117?v=4","gravatar_id":"","url":"https://api.github.com/users/liketic","html_url":"https://github.com/liketic","followers_url":"https://api.github.com/users/liketic/followers","following_url":"https://api.github.com/users/liketic/following{/other_user}","gists_url":"https://api.github.com/users/liketic/gists{/gist_id}","starred_url":"https://api.github.com/users/liketic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liketic/subscriptions","organizations_url":"https://api.github.com/users/liketic/orgs","repos_url":"https://api.github.com/users/liketic/repos","events_url":"https://api.github.com/users/liketic/events{/privacy}","received_events_url":"https://api.github.com/users/liketic/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"5902ee27be2fb7eeade53f5e8e4afd3fe573ad5c","url":"https://api.github.com/repos/apache/bookkeeper/commits/5902ee27be2fb7eeade53f5e8e4afd3fe573ad5c","html_url":"https://github.com/apache/bookkeeper/commit/5902ee27be2fb7eeade53f5e8e4afd3fe573ad5c"}]},{"sha":"5902ee27be2fb7eeade53f5e8e4afd3fe573ad5c","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1OTAyZWUyN2JlMmZiN2VlYWRlNTNmNWU4ZTRhZmQzZmU1NzNhZDVj","commit":{"author":{"name":"Boyang Jerry Peng","email":"jerry.boyang.peng@gmail.com","date":"2019-03-26T14:33:54Z"},"committer":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-03-26T14:33:54Z"},"message":"fix potential NPE when releasing entry that is null\n\nDescriptions of the changes in this PR:\r\n\r\n### Motivation\r\nA interrupt exception can occur during the poll operation of the blocking and cause a NPE to be thrown\r\n\r\n### Changes\r\nCheck if entry is null before trying to release it\r\n\n\nReviewers: Ivan Kelly <ivank@apache.org>, Sijie Guo <sijie@apache.org>, Matteo Merli <mmerli@apache.org>\n\nThis closes #1998 from jerrypeng/fix_NPE","tree":{"sha":"a0bef3ae8c4bdd3dc842cf50f25c1e01e8ff1e6c","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/a0bef3ae8c4bdd3dc842cf50f25c1e01e8ff1e6c"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/5902ee27be2fb7eeade53f5e8e4afd3fe573ad5c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/5902ee27be2fb7eeade53f5e8e4afd3fe573ad5c","html_url":"https://github.com/apache/bookkeeper/commit/5902ee27be2fb7eeade53f5e8e4afd3fe573ad5c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/5902ee27be2fb7eeade53f5e8e4afd3fe573ad5c/comments","author":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"6aa73ce050feb247f491a489a42f6e3db09961cf","url":"https://api.github.com/repos/apache/bookkeeper/commits/6aa73ce050feb247f491a489a42f6e3db09961cf","html_url":"https://github.com/apache/bookkeeper/commit/6aa73ce050feb247f491a489a42f6e3db09961cf"}]},{"sha":"6aa73ce050feb247f491a489a42f6e3db09961cf","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2YWE3M2NlMDUwZmViMjQ3ZjQ5MWE0ODlhNDJmNmUzZGIwOTk2MWNm","commit":{"author":{"name":"Ivan Kelly","email":"ivank@apache.org","date":"2019-03-26T14:27:23Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2019-03-26T14:27:23Z"},"message":"[RELEASE] Update website to include documentation for 4.8.2\n\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1993 from ivankelly/482site","tree":{"sha":"2859f7c7d03126953f3a4707bed0045e94f43331","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/2859f7c7d03126953f3a4707bed0045e94f43331"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6aa73ce050feb247f491a489a42f6e3db09961cf","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcmjbLCRBK7hj4Ov3rIwAAdHIIAKoRv6NKyPiKGMU8IS1jQBrc\n624K/3rI/Pjf2kvkg54+DNt9ZDqICNdiWCDSTRXnDLhFKtvmbfcWE45Z4uxDXzGf\nNSbJXD81pRLASkXkQnpay2BwY6cZk+DNIl/xGadR6gKk8bErM1Gv3lRt9qBxd1lx\n7HVfWJKntd/v6qWuO53B8pBUwiF8bivtmumM40gfNj+JaTu2zlHX1d7MrEeYA0C7\nnyHZoFLIV+nIQSI93Px0d7D+QyC0LydXVqqRSvNevYSbUWMHTeTjEbS9tP6P6pp3\nJr9QzChXxH9QQZGfkUVEigRJkX3Z8fllgeE/Y6WS+E2iw2gUyTk6mt7GhIHaqmE=\n=Ploo\n-----END PGP SIGNATURE-----\n","payload":"tree 2859f7c7d03126953f3a4707bed0045e94f43331\nparent 1448d12aa6399b64d272b9d3f820fbf128cb371e\nauthor Ivan Kelly <ivank@apache.org> 1553610443 +0100\ncommitter GitHub <noreply@github.com> 1553610443 +0100\n\n[RELEASE] Update website to include documentation for 4.8.2\n\n\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>\n\nThis closes #1993 from ivankelly/482site"}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6aa73ce050feb247f491a489a42f6e3db09961cf","html_url":"https://github.com/apache/bookkeeper/commit/6aa73ce050feb247f491a489a42f6e3db09961cf","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6aa73ce050feb247f491a489a42f6e3db09961cf/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"1448d12aa6399b64d272b9d3f820fbf128cb371e","url":"https://api.github.com/repos/apache/bookkeeper/commits/1448d12aa6399b64d272b9d3f820fbf128cb371e","html_url":"https://github.com/apache/bookkeeper/commit/1448d12aa6399b64d272b9d3f820fbf128cb371e"}]},{"sha":"1448d12aa6399b64d272b9d3f820fbf128cb371e","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxNDQ4ZDEyYWE2Mzk5YjY0ZDI3MmI5ZDNmODIwZmJmMTI4Y2IzNzFl","commit":{"author":{"name":"Yong Zhang","email":"zhangyong1025.zy@gmail.com","date":"2019-03-25T03:14:16Z"},"committer":{"name":"Sijie Guo","email":"guosijie@gmail.com","date":"2019-03-25T03:14:16Z"},"message":"Migrate command `listfilesondisk`\n\nDescriptions of the changes in this PR:\r\n\r\n- Replace command `listfilesondisk` \r\n\r\n### Motivation\r\n\r\n- Use `bkctl` to run command `listfilesondisk`\r\n- #1989 \r\n### Changes\r\n\r\n- Add command in `bkctl`\r\n\n\nReviewers: Jia Zhai <zhaijia@apache.org>, Sijie Guo <sijie@apache.org>\n\nThis closes #1990 from zymap/command-listfilesondisc and squashes the following commits:\n\n922e2b70a [Sijie Guo] Merge branch 'master' into command-listfilesondisc\n8d72a00bd [Yong Zhang] Migrate command `listfilesondisk`","tree":{"sha":"4e1697547840b7507beba295e40a994467b6ce49","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/4e1697547840b7507beba295e40a994467b6ce49"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1448d12aa6399b64d272b9d3f820fbf128cb371e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1448d12aa6399b64d272b9d3f820fbf128cb371e","html_url":"https://github.com/apache/bookkeeper/commit/1448d12aa6399b64d272b9d3f820fbf128cb371e","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1448d12aa6399b64d272b9d3f820fbf128cb371e/comments","author":{"login":"zymap","id":24502569,"node_id":"MDQ6VXNlcjI0NTAyNTY5","avatar_url":"https://avatars.githubusercontent.com/u/24502569?v=4","gravatar_id":"","url":"https://api.github.com/users/zymap","html_url":"https://github.com/zymap","followers_url":"https://api.github.com/users/zymap/followers","following_url":"https://api.github.com/users/zymap/following{/other_user}","gists_url":"https://api.github.com/users/zymap/gists{/gist_id}","starred_url":"https://api.github.com/users/zymap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zymap/subscriptions","organizations_url":"https://api.github.com/users/zymap/orgs","repos_url":"https://api.github.com/users/zymap/repos","events_url":"https://api.github.com/users/zymap/events{/privacy}","received_events_url":"https://api.github.com/users/zymap/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"4de5983793707e764c8dc604cfb6308748664677","url":"https://api.github.com/repos/apache/bookkeeper/commits/4de5983793707e764c8dc604cfb6308748664677","html_url":"https://github.com/apache/bookkeeper/commit/4de5983793707e764c8dc604cfb6308748664677"}]}]

