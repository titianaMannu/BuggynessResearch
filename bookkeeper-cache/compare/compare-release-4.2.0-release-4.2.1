{"url":"https://api.github.com/repos/apache/bookkeeper/compare/release-4.2.0...release-4.2.1","html_url":"https://github.com/apache/bookkeeper/compare/release-4.2.0...release-4.2.1","permalink_url":"https://github.com/apache/bookkeeper/compare/apache:5ef2f7e...apache:6af8f6e","diff_url":"https://github.com/apache/bookkeeper/compare/release-4.2.0...release-4.2.1.diff","patch_url":"https://github.com/apache/bookkeeper/compare/release-4.2.0...release-4.2.1.patch","base_commit":{"sha":"5ef2f7e21497e73ae26811dd483097599926a93a","node_id":"MDY6Q29tbWl0MTU3NTk1Njo1ZWYyZjdlMjE0OTdlNzNhZTI2ODExZGQ0ODMwOTc1OTk5MjZhOTNh","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-01-14T17:29:50Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-01-14T17:29:50Z"},"message":"BookKeeper 4.2.0 release.\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/tags/release-4.2.0@1433000 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"baa133d2e734c49293e22835f6a93bd1b8b405f4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/baa133d2e734c49293e22835f6a93bd1b8b405f4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/5ef2f7e21497e73ae26811dd483097599926a93a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/5ef2f7e21497e73ae26811dd483097599926a93a","html_url":"https://github.com/apache/bookkeeper/commit/5ef2f7e21497e73ae26811dd483097599926a93a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/5ef2f7e21497e73ae26811dd483097599926a93a/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"a1f9e23fd93f554c0a381ac50c229a2ab3079b2a","url":"https://api.github.com/repos/apache/bookkeeper/commits/a1f9e23fd93f554c0a381ac50c229a2ab3079b2a","html_url":"https://github.com/apache/bookkeeper/commit/a1f9e23fd93f554c0a381ac50c229a2ab3079b2a"}]},"merge_base_commit":{"sha":"a1f9e23fd93f554c0a381ac50c229a2ab3079b2a","node_id":"MDY6Q29tbWl0MTU3NTk1NjphMWY5ZTIzZmQ5M2Y1NTRjMGEzODFhYzUwYzIyOWEyYWIzMDc5YjJh","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-01-14T16:30:42Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-01-14T16:30:42Z"},"message":"Fixup for CHANGES.txt (some issues were missing or wrongly placed, also removed tabs)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1432980 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"baa133d2e734c49293e22835f6a93bd1b8b405f4","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/baa133d2e734c49293e22835f6a93bd1b8b405f4"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/a1f9e23fd93f554c0a381ac50c229a2ab3079b2a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/a1f9e23fd93f554c0a381ac50c229a2ab3079b2a","html_url":"https://github.com/apache/bookkeeper/commit/a1f9e23fd93f554c0a381ac50c229a2ab3079b2a","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/a1f9e23fd93f554c0a381ac50c229a2ab3079b2a/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"24dffb3fdde8ef863660af8dec1b54e22c334f8b","url":"https://api.github.com/repos/apache/bookkeeper/commits/24dffb3fdde8ef863660af8dec1b54e22c334f8b","html_url":"https://github.com/apache/bookkeeper/commit/24dffb3fdde8ef863660af8dec1b54e22c334f8b"}]},"status":"diverged","ahead_by":10,"behind_by":1,"total_commits":10,"commits":[{"sha":"84c9de9683ae2b0379805aa4df5dd63466c644aa","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4NGM5ZGU5NjgzYWUyYjAzNzk4MDVhYTRkZjVkZDYzNDY2YzY0NGFh","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-13T17:13:50Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-13T17:13:50Z"},"message":"Bumping version to 4.2.1-SNAPSHOT in branch-4.2\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1445755 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"6f8f1bba2c48d202753d7f7ea88506f70792887e","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/6f8f1bba2c48d202753d7f7ea88506f70792887e"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/84c9de9683ae2b0379805aa4df5dd63466c644aa","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/84c9de9683ae2b0379805aa4df5dd63466c644aa","html_url":"https://github.com/apache/bookkeeper/commit/84c9de9683ae2b0379805aa4df5dd63466c644aa","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/84c9de9683ae2b0379805aa4df5dd63466c644aa/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"a1f9e23fd93f554c0a381ac50c229a2ab3079b2a","url":"https://api.github.com/repos/apache/bookkeeper/commits/a1f9e23fd93f554c0a381ac50c229a2ab3079b2a","html_url":"https://github.com/apache/bookkeeper/commit/a1f9e23fd93f554c0a381ac50c229a2ab3079b2a"}]},{"sha":"1c3f563a4d6860542392c9e20f147a39074b4805","node_id":"MDY6Q29tbWl0MTU3NTk1NjoxYzNmNTYzYTRkNjg2MDU0MjM5MmM5ZTIwZjE0N2EzOTA3NGI0ODA1","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-13T17:37:18Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-13T17:37:18Z"},"message":"BOOKKEEPER-554: fd leaking when move ledger index file (sijie via ivank)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1445763 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"db59c2466673e2c1593887fbd28965ac41ff6932","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/db59c2466673e2c1593887fbd28965ac41ff6932"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/1c3f563a4d6860542392c9e20f147a39074b4805","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/1c3f563a4d6860542392c9e20f147a39074b4805","html_url":"https://github.com/apache/bookkeeper/commit/1c3f563a4d6860542392c9e20f147a39074b4805","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/1c3f563a4d6860542392c9e20f147a39074b4805/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"84c9de9683ae2b0379805aa4df5dd63466c644aa","url":"https://api.github.com/repos/apache/bookkeeper/commits/84c9de9683ae2b0379805aa4df5dd63466c644aa","html_url":"https://github.com/apache/bookkeeper/commit/84c9de9683ae2b0379805aa4df5dd63466c644aa"}]},{"sha":"acfcb0063249ceaf758bb94e7a9e747701d39683","node_id":"MDY6Q29tbWl0MTU3NTk1NjphY2ZjYjAwNjMyNDljZWFmNzU4YmI5NGU3YTllNzQ3NzAxZDM5Njgz","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2013-02-15T04:34:24Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2013-02-15T04:34:24Z"},"message":"BOOKKEEPER-568: NPE during GC with HierarchicalLedgerManager (Matteo via sijie)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1446445 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"d353ca747250a086f16e99215f1c45b26687ebe8","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/d353ca747250a086f16e99215f1c45b26687ebe8"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/acfcb0063249ceaf758bb94e7a9e747701d39683","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/acfcb0063249ceaf758bb94e7a9e747701d39683","html_url":"https://github.com/apache/bookkeeper/commit/acfcb0063249ceaf758bb94e7a9e747701d39683","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/acfcb0063249ceaf758bb94e7a9e747701d39683/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"1c3f563a4d6860542392c9e20f147a39074b4805","url":"https://api.github.com/repos/apache/bookkeeper/commits/1c3f563a4d6860542392c9e20f147a39074b4805","html_url":"https://github.com/apache/bookkeeper/commit/1c3f563a4d6860542392c9e20f147a39074b4805"}]},{"sha":"ddec89aebc9a55966d8bb6bc0ca4644f0d13fb52","node_id":"MDY6Q29tbWl0MTU3NTk1NjpkZGVjODlhZWJjOWE1NTk2NmQ4YmI2YmMwY2E0NjQ0ZjBkMTNmYjUy","commit":{"author":{"name":"Flavio Paiva Junqueira","email":"fpj@apache.org","date":"2013-02-16T14:56:43Z"},"committer":{"name":"Flavio Paiva Junqueira","email":"fpj@apache.org","date":"2013-02-16T14:56:43Z"},"message":"BOOKKEEPER-569: Critical performance bug in InterleavedLedgerStorage (ivank via fpj)\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1446900 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"8ffc3b9797267b21004532fd659e933f05f441d9","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/8ffc3b9797267b21004532fd659e933f05f441d9"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/ddec89aebc9a55966d8bb6bc0ca4644f0d13fb52","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/ddec89aebc9a55966d8bb6bc0ca4644f0d13fb52","html_url":"https://github.com/apache/bookkeeper/commit/ddec89aebc9a55966d8bb6bc0ca4644f0d13fb52","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/ddec89aebc9a55966d8bb6bc0ca4644f0d13fb52/comments","author":{"login":"fpj","id":572920,"node_id":"MDQ6VXNlcjU3MjkyMA==","avatar_url":"https://avatars.githubusercontent.com/u/572920?v=4","gravatar_id":"","url":"https://api.github.com/users/fpj","html_url":"https://github.com/fpj","followers_url":"https://api.github.com/users/fpj/followers","following_url":"https://api.github.com/users/fpj/following{/other_user}","gists_url":"https://api.github.com/users/fpj/gists{/gist_id}","starred_url":"https://api.github.com/users/fpj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fpj/subscriptions","organizations_url":"https://api.github.com/users/fpj/orgs","repos_url":"https://api.github.com/users/fpj/repos","events_url":"https://api.github.com/users/fpj/events{/privacy}","received_events_url":"https://api.github.com/users/fpj/received_events","type":"User","site_admin":false},"committer":{"login":"fpj","id":572920,"node_id":"MDQ6VXNlcjU3MjkyMA==","avatar_url":"https://avatars.githubusercontent.com/u/572920?v=4","gravatar_id":"","url":"https://api.github.com/users/fpj","html_url":"https://github.com/fpj","followers_url":"https://api.github.com/users/fpj/followers","following_url":"https://api.github.com/users/fpj/following{/other_user}","gists_url":"https://api.github.com/users/fpj/gists{/gist_id}","starred_url":"https://api.github.com/users/fpj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fpj/subscriptions","organizations_url":"https://api.github.com/users/fpj/orgs","repos_url":"https://api.github.com/users/fpj/repos","events_url":"https://api.github.com/users/fpj/events{/privacy}","received_events_url":"https://api.github.com/users/fpj/received_events","type":"User","site_admin":false},"parents":[{"sha":"acfcb0063249ceaf758bb94e7a9e747701d39683","url":"https://api.github.com/repos/apache/bookkeeper/commits/acfcb0063249ceaf758bb94e7a9e747701d39683","html_url":"https://github.com/apache/bookkeeper/commit/acfcb0063249ceaf758bb94e7a9e747701d39683"}]},{"sha":"ccc0e237dbb976f03b995a425196de210374c75c","node_id":"MDY6Q29tbWl0MTU3NTk1NjpjY2MwZTIzN2RiYjk3NmYwM2I5OTVhNDI1MTk2ZGUyMTAzNzRjNzVj","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T15:16:56Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T15:16:56Z"},"message":"BOOKKEEPER-548: Document about periodic ledger checker configuration (ivank)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1447757 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"4a500ea255227bcfd497d27e1dd20b5099d31254","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/4a500ea255227bcfd497d27e1dd20b5099d31254"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/ccc0e237dbb976f03b995a425196de210374c75c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/ccc0e237dbb976f03b995a425196de210374c75c","html_url":"https://github.com/apache/bookkeeper/commit/ccc0e237dbb976f03b995a425196de210374c75c","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/ccc0e237dbb976f03b995a425196de210374c75c/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"ddec89aebc9a55966d8bb6bc0ca4644f0d13fb52","url":"https://api.github.com/repos/apache/bookkeeper/commits/ddec89aebc9a55966d8bb6bc0ca4644f0d13fb52","html_url":"https://github.com/apache/bookkeeper/commit/ddec89aebc9a55966d8bb6bc0ca4644f0d13fb52"}]},{"sha":"008d3361d376d91dcf13bef24f75de1c88f9ba35","node_id":"MDY6Q29tbWl0MTU3NTk1NjowMDhkMzM2MWQzNzZkOTFkY2YxM2JlZjI0Zjc1ZGUxYzg4ZjliYTM1","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T15:19:48Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T15:19:48Z"},"message":"BOOKKEEPER-549: Documentation missed for readOnlyMode support (ivank)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1447760 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"59d5ad74f3fd389af97b18dd807b65c7504441f2","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/59d5ad74f3fd389af97b18dd807b65c7504441f2"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/008d3361d376d91dcf13bef24f75de1c88f9ba35","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/008d3361d376d91dcf13bef24f75de1c88f9ba35","html_url":"https://github.com/apache/bookkeeper/commit/008d3361d376d91dcf13bef24f75de1c88f9ba35","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/008d3361d376d91dcf13bef24f75de1c88f9ba35/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"ccc0e237dbb976f03b995a425196de210374c75c","url":"https://api.github.com/repos/apache/bookkeeper/commits/ccc0e237dbb976f03b995a425196de210374c75c","html_url":"https://github.com/apache/bookkeeper/commit/ccc0e237dbb976f03b995a425196de210374c75c"}]},{"sha":"29c81ba05102ee0aee7639a3c7e0af5c0948934f","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyOWM4MWJhMDUxMDJlZTBhZWU3NjM5YTNjN2UwYWY1YzA5NDg5MzRm","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T15:20:56Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T15:20:56Z"},"message":"BOOKKEEPER-549: Documentation missed for readOnlyMode support (ivank) [Update CHANGES.txt]\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1447761 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"a248bc9e4de4ed100ebfea46374f094ae4a8b766","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/a248bc9e4de4ed100ebfea46374f094ae4a8b766"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/29c81ba05102ee0aee7639a3c7e0af5c0948934f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/29c81ba05102ee0aee7639a3c7e0af5c0948934f","html_url":"https://github.com/apache/bookkeeper/commit/29c81ba05102ee0aee7639a3c7e0af5c0948934f","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/29c81ba05102ee0aee7639a3c7e0af5c0948934f/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"008d3361d376d91dcf13bef24f75de1c88f9ba35","url":"https://api.github.com/repos/apache/bookkeeper/commits/008d3361d376d91dcf13bef24f75de1c88f9ba35","html_url":"https://github.com/apache/bookkeeper/commit/008d3361d376d91dcf13bef24f75de1c88f9ba35"}]},{"sha":"2f739ab5282300ba40b5dee2e55c253e71209021","node_id":"MDY6Q29tbWl0MTU3NTk1NjoyZjczOWFiNTI4MjMwMGJhNDBiNWRlZTJlNTVjMjUzZTcxMjA5MDIx","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T15:54:17Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T15:54:17Z"},"message":"BOOKKEEPER-567: ReadOnlyBookieTest hangs on shutdown (sijie via ivank)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1447774 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e3f6f9a8e98df32be7c0642be7237c7a808e2f07","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/e3f6f9a8e98df32be7c0642be7237c7a808e2f07"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/2f739ab5282300ba40b5dee2e55c253e71209021","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/2f739ab5282300ba40b5dee2e55c253e71209021","html_url":"https://github.com/apache/bookkeeper/commit/2f739ab5282300ba40b5dee2e55c253e71209021","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/2f739ab5282300ba40b5dee2e55c253e71209021/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"29c81ba05102ee0aee7639a3c7e0af5c0948934f","url":"https://api.github.com/repos/apache/bookkeeper/commits/29c81ba05102ee0aee7639a3c7e0af5c0948934f","html_url":"https://github.com/apache/bookkeeper/commit/29c81ba05102ee0aee7639a3c7e0af5c0948934f"}]},{"sha":"8d8faf846d0aa210622bed700dcc4bb05765aadd","node_id":"MDY6Q29tbWl0MTU3NTk1Njo4ZDhmYWY4NDZkMGFhMjEwNjIyYmVkNzAwZGNjNGJiMDU3NjVhYWRk","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T18:21:15Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T18:21:15Z"},"message":"Prep for 4.2.1 Release; Update version in pom.xml, CHANGES.txt\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/branches/branch-4.2@1447857 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"651216690c663ed743b5130c992a579c61652e6f","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/651216690c663ed743b5130c992a579c61652e6f"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/8d8faf846d0aa210622bed700dcc4bb05765aadd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/8d8faf846d0aa210622bed700dcc4bb05765aadd","html_url":"https://github.com/apache/bookkeeper/commit/8d8faf846d0aa210622bed700dcc4bb05765aadd","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/8d8faf846d0aa210622bed700dcc4bb05765aadd/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"2f739ab5282300ba40b5dee2e55c253e71209021","url":"https://api.github.com/repos/apache/bookkeeper/commits/2f739ab5282300ba40b5dee2e55c253e71209021","html_url":"https://github.com/apache/bookkeeper/commit/2f739ab5282300ba40b5dee2e55c253e71209021"}]},{"sha":"6af8f6e4824aacc01b218882fdd0360b0884b6e7","node_id":"MDY6Q29tbWl0MTU3NTk1Njo2YWY4ZjZlNDgyNGFhY2MwMWIyMTg4ODJmZGQwMzYwYjA4ODRiNmU3","commit":{"author":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T18:41:29Z"},"committer":{"name":"Ivan Brendan Kelly","email":"ivank@apache.org","date":"2013-02-19T18:41:29Z"},"message":"BookKeeper 4.2.1 release.\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/tags/release-4.2.1@1447864 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"651216690c663ed743b5130c992a579c61652e6f","url":"https://api.github.com/repos/apache/bookkeeper/git/trees/651216690c663ed743b5130c992a579c61652e6f"},"url":"https://api.github.com/repos/apache/bookkeeper/git/commits/6af8f6e4824aacc01b218882fdd0360b0884b6e7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/bookkeeper/commits/6af8f6e4824aacc01b218882fdd0360b0884b6e7","html_url":"https://github.com/apache/bookkeeper/commit/6af8f6e4824aacc01b218882fdd0360b0884b6e7","comments_url":"https://api.github.com/repos/apache/bookkeeper/commits/6af8f6e4824aacc01b218882fdd0360b0884b6e7/comments","author":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"committer":{"login":"ivankelly","id":54955,"node_id":"MDQ6VXNlcjU0OTU1","avatar_url":"https://avatars.githubusercontent.com/u/54955?v=4","gravatar_id":"","url":"https://api.github.com/users/ivankelly","html_url":"https://github.com/ivankelly","followers_url":"https://api.github.com/users/ivankelly/followers","following_url":"https://api.github.com/users/ivankelly/following{/other_user}","gists_url":"https://api.github.com/users/ivankelly/gists{/gist_id}","starred_url":"https://api.github.com/users/ivankelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivankelly/subscriptions","organizations_url":"https://api.github.com/users/ivankelly/orgs","repos_url":"https://api.github.com/users/ivankelly/repos","events_url":"https://api.github.com/users/ivankelly/events{/privacy}","received_events_url":"https://api.github.com/users/ivankelly/received_events","type":"User","site_admin":false},"parents":[{"sha":"8d8faf846d0aa210622bed700dcc4bb05765aadd","url":"https://api.github.com/repos/apache/bookkeeper/commits/8d8faf846d0aa210622bed700dcc4bb05765aadd","html_url":"https://github.com/apache/bookkeeper/commit/8d8faf846d0aa210622bed700dcc4bb05765aadd"}]}],"files":[{"sha":"7470264a2ecb9f077ed03ef43bb6548202c4de69","filename":"CHANGES.txt","status":"modified","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/CHANGES.txt","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/CHANGES.txt","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/CHANGES.txt?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -1,3 +1,23 @@\n+Release 4.2.1 - 2013-02-19\n+\n+  Backward compatible changes:\n+\n+    BUGFIXES:\n+\n+      bookkeeper-server:\n+\n+        BOOKKEEPER-567: ReadOnlyBookieTest hangs on shutdown (sijie via ivank)\n+\n+        BOOKKEEPER-549: Documentation missed for readOnlyMode support (ivank)\n+\n+        BOOKKEEPER-548: Document about periodic ledger checker configuration (ivank)\n+\n+        BOOKKEEPER-554: fd leaking when move ledger index file (sijie via ivank)\n+\n+        BOOKKEEPER-568: NPE during GC with HierarchicalLedgerManager (Matteo via sijie)\n+\n+        BOOKKEEPER-569: Critical performance bug in InterleavedLedgerStorage (ivank via fpj)\n+\n Release 4.2.0 - 2013-01-14\n \n   Non-backward compatible changes:"},{"sha":"1512a16223f5db44dc12ab40ad96b08a24d2e8b1","filename":"bookkeeper-benchmark/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-benchmark/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-benchmark/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-benchmark/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -22,7 +22,7 @@\n   <parent>\n     <artifactId>bookkeeper</artifactId>\n     <groupId>org.apache.bookkeeper</groupId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <groupId>org.apache.bookkeeper</groupId>\n   <artifactId>bookkeeper-benchmark</artifactId>"},{"sha":"427c4304a7b36b27b44a6714d6eb83c70b3b3961","filename":"bookkeeper-server/conf/bk_server.conf","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/conf/bk_server.conf","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/conf/bk_server.conf","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/conf/bk_server.conf?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -159,10 +159,9 @@ zkTimeout=10000\n # the limitation of number of index pages.\n # pageLimit=-1\n \n-#If all ledger directories configured are full, then support only read \n-#requests for clients.\n+#If all ledger directories configured are full, then support only read requests for clients.\n #If \"readOnlyModeEnabled=true\" then on all ledger disks full, bookie will be converted\n-#to read-only mode and serve only read requests. Else bookie will get shutdown.\n+#to read-only mode and serve only read requests. Otherwise the bookie will be shutdown.\n #By default this will be disabled.\n #readOnlyModeEnabled=false\n \n@@ -177,3 +176,10 @@ zkTimeout=10000\n #Disk check interval in milli seconds, interval to check the ledger dirs usage.\n #Default is 10000\n #diskCheckInterval=10000\n+\n+# Interval at which the auditor will do a check of all ledgers in the cluster.\n+# By default this runs once a week. The interval is set in seconds.\n+# To disable the periodic check completely, set this to 0.\n+# Note that periodic checking will put extra load on the cluster, so it should\n+# not be run more frequently than once a day.\n+#auditorPeriodicCheckInterval=604800"},{"sha":"1c7ebf8d6ac0e9f94fcd3cb6c648d434037455ef","filename":"bookkeeper-server/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -21,7 +21,7 @@\n   <parent>\n     <artifactId>bookkeeper</artifactId>\n     <groupId>org.apache.bookkeeper</groupId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <groupId>org.apache.bookkeeper</groupId>\n   <artifactId>bookkeeper-server</artifactId>"},{"sha":"15b15591adec2a9c32ff63553bd673043b288610","filename":"bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/Bookie.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/Bookie.java","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/Bookie.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/Bookie.java?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -353,6 +353,7 @@ public void run() {\n                 }\n             } catch (Throwable t) {\n                 LOG.error(\"Exception in SyncThread\", t);\n+                flushing.set(false);\n                 triggerBookieShutdown(ExitCode.BOOKIE_EXCEPTION);\n             }\n         }"},{"sha":"7cdd59170e98cf0850767dbc4e75435b7608789d","filename":"bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/FileInfo.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/FileInfo.java","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/FileInfo.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/FileInfo.java?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -27,6 +27,7 @@\n import java.nio.ByteBuffer;\n import java.nio.BufferUnderflowException;\n import java.nio.channels.FileChannel;\n+import com.google.common.annotations.VisibleForTesting;\n \n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n@@ -334,6 +335,11 @@ synchronized public void use() {\n         useCount++;\n     }\n \n+    @VisibleForTesting\n+    synchronized int getUseCount() {\n+        return useCount;\n+    }\n+\n     synchronized public void release() {\n         useCount--;\n         if (isClosed && useCount == 0 && fc != null) {"},{"sha":"ea35e0851523c96f9c035f9efbfdf8b7531c8ef5","filename":"bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/InterleavedLedgerStorage.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/InterleavedLedgerStorage.java","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/InterleavedLedgerStorage.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/InterleavedLedgerStorage.java?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -155,7 +155,7 @@ public boolean isFlushRequired() {\n     };\n \n     @Override\n-    public synchronized void flush() throws IOException {\n+    public void flush() throws IOException {\n \n         if (!somethingWritten) {\n             return;"},{"sha":"8606a66853d267361e9e423c79595189cb344e96","filename":"bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/LedgerCacheImpl.java","status":"modified","additions":11,"deletions":4,"changes":15,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/LedgerCacheImpl.java","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/LedgerCacheImpl.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/LedgerCacheImpl.java?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -363,10 +363,17 @@ public void flushLedger(boolean doAll) throws IOException {\n                 // if some new dir detected as full, then move all corresponding\n                 // open index files to new location\n                 for (Long l : dirtyLedgers) {\n-                    FileInfo fi = getFileInfo(l, null);\n-                    File currentDir = getLedgerDirForLedger(fi);\n-                    if (ledgerDirsManager.isDirFull(currentDir)) {\n-                        moveLedgerIndexFile(l, fi);\n+                    FileInfo fi = null;\n+                    try {\n+                        fi = getFileInfo(l, null);\n+                        File currentDir = getLedgerDirForLedger(fi);\n+                        if (ledgerDirsManager.isDirFull(currentDir)) {\n+                            moveLedgerIndexFile(l, fi);\n+                        }\n+                    } finally {\n+                        if (null != fi) {\n+                            fi.release();\n+                        }\n                     }\n                 }\n                 shouldRelocateIndexFile.set(false);"},{"sha":"40069e608430d44290acaf226590bf9ccaa78d50","filename":"bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ServerConfiguration.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ServerConfiguration.java","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ServerConfiguration.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/main/java/org/apache/bookkeeper/conf/ServerConfiguration.java?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -586,9 +586,11 @@ public long getOpenLedgerRereplicationGracePeriod() {\n     }\n \n     /**\n-     * Set the ReadOnlyModeEnabled status\n+     * Set whether the bookie is able to go into read-only mode.\n+     * If this is set to false, the bookie will shutdown on encountering\n+     * an error condition.\n      * \n-     * @param enabled enables read-only mode.\n+     * @param enabled whether to enable read-only mode.\n      * \n      * @return ServerConfiguration \n      */\n@@ -598,7 +600,7 @@ public ServerConfiguration setReadOnlyModeEnabled(boolean enabled) {\n     }\n \n     /**\n-     * Get ReadOnlyModeEnabled status\n+     * Get whether read-only mode is enabled. The default is false.\n      * \n      * @return boolean\n      */\n@@ -652,7 +654,8 @@ public int getDiskCheckInterval() {\n     /**\n      * Set the regularity at which the auditor will run a check\n      * of all ledgers. This should not be run very often, and at most,\n-     * once a day.\n+     * once a day. Setting this to 0 will completely disable the periodic\n+     * check.\n      *\n      * @param interval The interval in seconds. e.g. 86400 = 1 day, 604800 = 1 week\n      */\n@@ -662,10 +665,10 @@ public void setAuditorPeriodicCheckInterval(long interval) {\n \n     /**\n      * Get the regularity at which the auditor checks all ledgers.\n-     * @return The interval in seconds\n+     * @return The interval in seconds. Default is 604800 (1 week).\n      */\n     public long getAuditorPeriodicCheckInterval() {\n-        return getLong(AUDITOR_PERIODIC_CHECK_INTERVAL, 86400);\n+        return getLong(AUDITOR_PERIODIC_CHECK_INTERVAL, 604800);\n     }\n \n     /**"},{"sha":"bb6c184c5902019732b7d23775012904b3c3dbb0","filename":"bookkeeper-server/src/main/java/org/apache/bookkeeper/meta/HierarchicalLedgerManager.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/meta/HierarchicalLedgerManager.java","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/main/java/org/apache/bookkeeper/meta/HierarchicalLedgerManager.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/main/java/org/apache/bookkeeper/meta/HierarchicalLedgerManager.java?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -416,7 +416,7 @@ public boolean hasNext() throws IOException {\n                 if (l1NodesIter == null) {\n                     l1NodesIter = zk.getChildren(ledgerRootPath, null).iterator();\n                     hasMoreElement = nextL1Node();\n-                } else if (!l2NodesIter.hasNext()) {\n+                } else if (l2NodesIter == null || !l2NodesIter.hasNext()) {\n                     hasMoreElement = nextL1Node();\n                 }\n             } catch (Exception e) {"},{"sha":"c748c357573b508645e4d11560097164f81e84ff","filename":"bookkeeper-server/src/test/java/org/apache/bookkeeper/bookie/LedgerCacheTest.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/test/java/org/apache/bookkeeper/bookie/LedgerCacheTest.java","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/test/java/org/apache/bookkeeper/bookie/LedgerCacheTest.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/test/java/org/apache/bookkeeper/bookie/LedgerCacheTest.java?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -282,6 +282,8 @@ public void testLedgerCacheFlushFailureOnDiskFull() throws Exception {\n         ledgerStorage.flush();\n         File after = newFileInfo.getLf();\n \n+        assertEquals(\"Reference counting for the file info should be zero.\", 0, newFileInfo.getUseCount());\n+\n         assertFalse(\"After flush index file should be changed\", before.equals(after));\n         // Verify written entries\n         Assert.assertArrayEquals(generateEntry(1, 1).array(), ledgerStorage.getEntry(1, 1).array());"},{"sha":"a65b11d77b53de4c6c2ac9f6049e05478f419498","filename":"bookkeeper-server/src/test/java/org/apache/bookkeeper/meta/LedgerManagerIteratorTest.java","status":"added","additions":43,"deletions":0,"changes":43,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/test/java/org/apache/bookkeeper/meta/LedgerManagerIteratorTest.java","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/bookkeeper-server/src/test/java/org/apache/bookkeeper/meta/LedgerManagerIteratorTest.java","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/bookkeeper-server/src/test/java/org/apache/bookkeeper/meta/LedgerManagerIteratorTest.java?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -0,0 +1,43 @@\n+/*\n+ *\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ *\n+ */\n+\n+package org.apache.bookkeeper.meta;\n+\n+import org.apache.bookkeeper.meta.LedgerManager.LedgerRangeIterator;\n+import org.junit.Test;\n+\n+public class LedgerManagerIteratorTest extends LedgerManagerTestCase {\n+    public LedgerManagerIteratorTest(Class<? extends LedgerManagerFactory> lmFactoryCls) {\n+        super(lmFactoryCls);\n+    }\n+\n+    @Test(timeout = 60000)\n+    public void testIterateNoLedgers() throws Exception {\n+        LedgerManager lm = getLedgerManager();\n+        LedgerRangeIterator lri = lm.getLedgerRanges();\n+        assertNotNull(lri);\n+        if (lri.hasNext())\n+            lri.next();\n+\n+        assertEquals(false, lri.hasNext());\n+        assertEquals(false, lri.hasNext());\n+    }\n+}"},{"sha":"9c9e9fe2c25de639d8136e75ac3a4a28227e1a94","filename":"compat-deps/bookkeeper-server-compat-4.0.0/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/bookkeeper-server-compat-4.0.0/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/bookkeeper-server-compat-4.0.0/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/compat-deps/bookkeeper-server-compat-4.0.0/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -21,7 +21,7 @@\n   <parent>\n     <artifactId>compat-deps</artifactId>\n     <groupId>org.apache.bookkeeper</groupId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <groupId>org.apache.bookkeeper</groupId>\n   <artifactId>bookkeeper-server-compat400</artifactId>"},{"sha":"deecacf4001a295049811cc357cb61c24f299ac3","filename":"compat-deps/bookkeeper-server-compat-4.1.0/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/bookkeeper-server-compat-4.1.0/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/bookkeeper-server-compat-4.1.0/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/compat-deps/bookkeeper-server-compat-4.1.0/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -21,7 +21,7 @@\n   <parent>\n     <artifactId>compat-deps</artifactId>\n     <groupId>org.apache.bookkeeper</groupId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <groupId>org.apache.bookkeeper</groupId>\n   <artifactId>bookkeeper-server-compat410</artifactId>"},{"sha":"2d88e75f1a6e254200b38010282fa024dd8a8081","filename":"compat-deps/hedwig-server-compat-4.0.0/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/hedwig-server-compat-4.0.0/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/hedwig-server-compat-4.0.0/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/compat-deps/hedwig-server-compat-4.0.0/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -21,7 +21,7 @@\n   <parent>\n     <artifactId>compat-deps</artifactId>\n     <groupId>org.apache.bookkeeper</groupId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <groupId>org.apache.bookkeeper</groupId>\n   <artifactId>hedwig-server-compat400</artifactId>"},{"sha":"8edbc1a2dd77bec2ecfaea8c41ec9fbbcf5b9631","filename":"compat-deps/hedwig-server-compat-4.1.0/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/hedwig-server-compat-4.1.0/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/hedwig-server-compat-4.1.0/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/compat-deps/hedwig-server-compat-4.1.0/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -21,7 +21,7 @@\n   <parent>\n     <artifactId>compat-deps</artifactId>\n     <groupId>org.apache.bookkeeper</groupId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <groupId>org.apache.bookkeeper</groupId>\n   <artifactId>hedwig-server-compat410</artifactId>"},{"sha":"8fc5b4f04ccabf6f73376b571c2e196e72c6882e","filename":"compat-deps/pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/compat-deps/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/compat-deps/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -22,11 +22,11 @@\n   <parent>\n     <artifactId>bookkeeper</artifactId>\n     <groupId>org.apache.bookkeeper</groupId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <modelVersion>4.0.0</modelVersion>\n   <groupId>org.apache.bookkeeper</groupId>\n-  <version>4.2.0</version>\n+  <version>4.2.1</version>\n   <artifactId>compat-deps</artifactId>\n   <packaging>pom</packaging>\n   <name>compability dependencies</name>"},{"sha":"4b9d5534c395372efd29c299c09b2c98781ac6a0","filename":"doc/bookkeeperConfig.textile","status":"modified","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/doc/bookkeeperConfig.textile","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/doc/bookkeeperConfig.textile","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/doc/bookkeeperConfig.textile?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -115,6 +115,22 @@ The mechanism to prevent the bookie from starting up in the case of configuratio\n # A strict subset of the ledger devices (among multiple ledger devices) has been replaced, consequently making the content of the replaced devices unavailable;\n # A strict subset of the ledger directories has been accidentally deleted.\n \n+h3. Full or failing disks\n+\n+A bookie can go into read-only mode if it detects problems with its disks. In read-only mode, the bookie will serve read requests, but will not allow any writes. Any ledger currently writing to the bookie will replace the bookie in its ensemble. No new ledgers will select the read-only bookie for writing.\n+\n+The bookie goes into read-only mode in the following conditions.\n+\n+# All disks are full.\n+# An error occurred flushing to the ledger disks.\n+# An error occurred writing to the journal disk.\n+\n+Important parameters are:\n+\n+* @readOnlyModeEnabled@, whether read-only mode is enabled. If read-only mode is not enabled, the bookie will shutdown on encountering any of the above conditions. By default, read-only mode is disabled.\n+* @diskUsageThreshold@, percentage threshold at which a disk will be considered full. This value must be between 0 and 1.0. By default, the value is 0.95.\n+* @diskCheckInterval@, interval at which the disks are checked to see if they are full. Specified in milliseconds. By default the check occurs every 10000 milliseconds (10 seconds).\n+\n h2. Running Autorecovery nodes\n \n To run autorecovery nodes, we execute the following command in every Bookie node:\n@@ -124,10 +140,13 @@ Configuration parameters for autorecovery can be set in *bookkeeper-server/conf/\n \n Important parameters are:\n \n+* @auditorPeriodicCheckInterval@, interval at which the auditor will do a check of all ledgers in the cluster. By default this runs once a week. The interval is set in seconds. To disable the periodic check completely, set this to 0. Note that periodic checking will put extra load on the cluster, so it should not be run more frequently than once a day.\n+\n * @rereplicationEntryBatchSize@ specifies the number of entries which a replication will rereplicate in parallel. The default value is 10. A larger value for this parameter will increase the speed at which autorecovery occurs but will increate the memory requirement of the autorecovery process, and create more load on the cluster.\n \n * @openLedgerRereplicationGracePeriod@, is the amount of time, in milliseconds, which a recovery worker will wait before recovering a ledger segment which has no defined ended, i.e. the client is still writing to that segment. If the client is still active, it should detect the bookie failure, and start writing to a new ledger segment, and a new ensemble, which doesn't include the failed bookie. Creating new ledger segment will define the end of the previous segment. If, after the grace period, the ledger segment's end has not been defined, we assume the writing client has crashed. The ledger is fenced and the client is blocked from writing any more entries to the ledger. The default value is 30000ms.\n \n+\n h3. Disabling Autorecovery during maintenance\n \n It is useful to disable autorecovery during maintenance, for example, to avoid a Bookie's data being unnecessarily rereplicated when it is only being taken down for a short period to update the software, or change the configuration."},{"sha":"b23ae2e8a2036ecdcc3aee27241d94097f68e081","filename":"hedwig-client/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/hedwig-client/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/hedwig-client/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/hedwig-client/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -22,7 +22,7 @@\n   <parent>\n     <groupId>org.apache.bookkeeper</groupId>\n     <artifactId>bookkeeper</artifactId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <properties>\n       <mainclass>org.apache.hedwig.client.App</mainclass>"},{"sha":"93260063c17bcfbb8a11907bb2baf4a42b699aa0","filename":"hedwig-protocol/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/hedwig-protocol/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/hedwig-protocol/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/hedwig-protocol/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -22,7 +22,7 @@\n   <parent>\n     <groupId>org.apache.bookkeeper</groupId>\n     <artifactId>bookkeeper</artifactId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <artifactId>hedwig-protocol</artifactId>\n   <packaging>jar</packaging>"},{"sha":"56b1a32b3de87c4e46b02bc09bd1d754751e6470","filename":"hedwig-server/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/hedwig-server/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/hedwig-server/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/hedwig-server/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -22,7 +22,7 @@\n   <parent>\n     <groupId>org.apache.bookkeeper</groupId>\n     <artifactId>bookkeeper</artifactId>\n-    <version>4.2.0</version>\n+    <version>4.2.1</version>\n   </parent>\n   <properties>\n       <mainclass>org.apache.hedwig.server.netty.PubSubServer</mainclass>"},{"sha":"b71b0769e305aa6f7c7a72cd0a27d535ff50fc5b","filename":"pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/bookkeeper/blob/6af8f6e4824aacc01b218882fdd0360b0884b6e7/pom.xml","raw_url":"https://github.com/apache/bookkeeper/raw/6af8f6e4824aacc01b218882fdd0360b0884b6e7/pom.xml","contents_url":"https://api.github.com/repos/apache/bookkeeper/contents/pom.xml?ref=6af8f6e4824aacc01b218882fdd0360b0884b6e7","patch":"@@ -26,7 +26,7 @@\n   </parent>\n   <modelVersion>4.0.0</modelVersion>\n   <groupId>org.apache.bookkeeper</groupId>\n-  <version>4.2.0</version>\n+  <version>4.2.1</version>\n   <artifactId>bookkeeper</artifactId>\n   <packaging>pom</packaging>\n   <name>bookkeeper</name>"}]}

