{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12607880","self":"https://issues.apache.org/jira/rest/api/2/issue/12607880","key":"BOOKKEEPER-408","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320244","id":"12320244","description":"Release 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2013-01-19"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"249288","customfield_12312320":null,"customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12319145","id":"12319145","name":"4.1.0","archived":false,"released":true,"releaseDate":"2012-06-13"}],"customfield_12311120":null,"customfield_12313826":null,"issuelinks":[{"id":"12362329","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12362329","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12625161","key":"BOOKKEEPER-525","self":"https://issues.apache.org/jira/rest/api/2/issue/12625161","fields":{"summary":"Should not using Junit Assert in CallBack method in BK test.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314394","id":"12314394","name":"bookkeeper-server","description":"Bookkeeper server."}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"57343","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/BOOKKEEPER-408/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@704bfe37[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4679dd6c[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7d5fe772[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7545c708[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e76f808[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3c347e5d[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3ed26ade[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6574878b[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6c4b8595[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@7312c8d7[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5ebbd8f1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1f324472[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311293","id":"12311293","key":"BOOKKEEPER","name":"Bookkeeper","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311293&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311293&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311293&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311293&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/14780","id":"14780","description":"BookKeeper","name":"BookKeeper"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2012-12-13T17:34:35.586+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/BOOKKEEPER-408/watchers","watchCount":7,"isWatching":false},"created":"2012-09-17T09:28:39.013+0000","updated":"2013-02-13T15:46:27.855+0000","timeoriginalestimate":null,"description":"When I run the tests of BookKeeper, I found that the test running forever and cannot be finished. The log has the exception that is \"junit.framework.AssertionFailedError: Return code is not OK: -6\". \n\nI thought this issuse might be come from the synchronization mechanism used by the BookieReadWriteTest.\n\nfor example in BookieReadWriteTest.TestReadWriteAsyncSingleClient()\n1. when called the function lh.asyncAddEntry(entry.array(), this ,sync), the call back function is addComplete(int, LedgerHandle, long, Object)\n2. we can see that in addComplete(..) the function will be fail when rc != BKException.Code.OK, and the x.counter++ will not be called never.\n3. we assume that the function addComplete(..) is fail. so, in TestReadWriteAsyncSingleClient(), the while loop enter endless loop because sync.counter < numEntriesToWrite is right forever.\n\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12560543","id":"12560543","filename":"0001-BOOKKEEPER-408-BookieReadWriteTest-will-enter-the-en.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"created":"2012-12-12T11:25:45.313+0000","size":13653,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12560543/0001-BOOKKEEPER-408-BookieReadWriteTest-will-enter-the-en.patch"}],"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"BookieReadWriteTest will enter the endless loop and will not leave out","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12311024":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"SUSE System\nZooKeeper server\nthree BookKeepers","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13456929","id":"13456929","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"-6 means NotEnoughBookiesException. Did you have any other log statements about the bookie failure, which causes not enough bookies.\n\nBTW, I am assuming 'fail()' of a unit test would stop the process, not sure why it doesn't quit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-17T10:32:49.258+0000","updated":"2012-09-17T10:32:49.258+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13456944","id":"13456944","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"body":"fail() only works if it's called in the junit thread. In this case it'll be run by the bookkeeper callback thread. These calls to fail are all broken, and need to be rejigged. It would be interesting to see why there aren't enough bookies though.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"created":"2012-09-17T11:06:27.333+0000","updated":"2012-09-17T11:06:27.333+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13456976","id":"13456976","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"ah, got it. thanks Ivan for explanation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-17T12:50:06.080+0000","updated":"2012-09-17T12:50:06.080+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13457536","id":"13457536","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"body":"when we cannot get enough bookies, the operation about add entry will throw exception, then 'fail()' will be called, the callback function will be done. So, the 'counter' cannot be increment, that cause the while loop enter endless loop.\n\nwe must guarantee the test case will be end although we cannot get enough bookies.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-09-18T01:56:53.973+0000","updated":"2012-09-18T01:56:53.973+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13457542","id":"13457542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"The question here is, why there are bookie failures inside?\nAny logs regarding to that failures?\n\nBTW, if you are running it throw eclipse, you just add the below property in eclipse src/test/resource/log4j.properties file. So, that logs will come on eclipse console.\n\nlog4j.rootLogger=TRACE, CONSOLE, ROLLINGFILE, TRACEFILE","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-18T02:07:50.738+0000","updated":"2012-09-18T02:07:50.738+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13457544","id":"13457544","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"Instead of using some syncCounter and increment on each entry write callback, if we use ContDownLatch and set the wait timeout, then test will fail if we are not getting the response in time as well right?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-18T02:10:56.299+0000","updated":"2012-09-18T02:10:56.299+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13457551","id":"13457551","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"or, change it to timed waits and add assertion as expected after that to ensure, loop exited only after counter reaches expected entries, otherwise assertion will fail.\nBut we have to figure out why there are Bookie failure in your tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-18T02:20:33.839+0000","updated":"2012-09-18T02:20:33.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13457580","id":"13457580","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=i0exception","name":"i0exception","key":"i0exception","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aniruddha","active":true,"timeZone":"America/Los_Angeles"},"body":"[~umamahesh] How about using junit test timeouts @Test(timeout=X)? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=i0exception","name":"i0exception","key":"i0exception","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aniruddha","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-18T03:40:41.539+0000","updated":"2012-09-18T03:40:41.539+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13457590","id":"13457590","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"body":"The warn log show that may be ReadTimeOutException, I am looking the reason why could not connect bookkeeper server frequently? \n\n/**\n* the partial log information about the error\n*/\nWARN  - [Hashed wheel timer #4:PerChannelBookieClient@488] - Couldn't connect to bookkeeper server\n     org.jboss.netty.handler.timeout.ReadTimeoutException\n\tat org.jboss.netty.handler.timeout.ReadTimeoutHandler.<clinit>(ReadTimeoutHandler.java:84)\n\tat org.apache.bookkeeper.proto.PerChannelBookieClient.getPipeline(PerChannelBookieClient.java:450)\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:212)\n\tat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:188)\n\tat org.apache.bookkeeper.proto.PerChannelBookieClient.connect(PerChannelBookieClient.java:135)\n\tat org.apache.bookkeeper.proto.PerChannelBookieClient.connectIfNeededAndDoOp(PerChannelBookieClient.java:203)\n\tat org.apache.bookkeeper.proto.BookieClient.addEntry(BookieClient.java:108)\n\tat org.apache.bookkeeper.client.PendingAddOp.sendWriteRequest(PendingAddOp.java:76)\n\tat org.apache.bookkeeper.client.PendingAddOp.initiate(PendingAddOp.java:117)\n\tat org.apache.bookkeeper.client.LedgerHandle$2.safeRun(LedgerHandle.java:539)\n\tat org.apache.bookkeeper.util.SafeRunnable.run(SafeRunnable.java:31)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tat java.lang.Thread.run(Thread.java:662)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=liuyang%40huawei","name":"liuyang@huawei","key":"liuyang@huawei","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=liuyang%40huawei&avatarId=20069","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liuyang%40huawei&avatarId=20069","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liuyang%40huawei&avatarId=20069","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liuyang%40huawei&avatarId=20069"},"displayName":"liuyang","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-09-18T04:17:15.724+0000","updated":"2012-09-18T04:17:15.724+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13457591","id":"13457591","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"Can do it. That will be one good practice, to ensure no tests will block due to flaky behaviours in tests. I used to follow in my tests, ex: see zookeeper/bookkeeper/trunk/bookkeeper-server/src/test/java/org/apache/bookkeeper/replication/TestReplicationWorker.java\nAt the same time, we should not depend 100% depend on that, untill unless we don't have option for proper assertion. Otherwise we may loose the track where we exactly test hanged. If we have an option to track that, we can assert and throw out with the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-18T04:17:49.964+0000","updated":"2012-09-18T04:17:49.964+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13457611","id":"13457611","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"{noformat}\ntestOpenException                        =11.381s\ntestStreamingClients                     =9.793s\ntestReadWriteAsyncSingleClient           =7.660s\ntestReadWriteRangeAsyncSingleClient      =6.944s\ntestReadWriteAsyncSingleClientThrottle   =94.505s\ntestSyncReadAsyncWriteStringsSingleClient=10.330s\ntestReadWriteSyncSingleClient            =57.973s\ntestReadWriteZero                        =75.294s\ntestMultiLedger                          =128.302s\ntestReadWriteAsyncLength                 =6.218s\ntestShutdown                             =899.927s\ntestReadFromOpenLedger                   =32.631s\ntestReadFromOpenLedgerOpenOnce           =13.526s\ntestReadFromOpenLedgerZeroAndOne         =2.478s\ntestLastConfirmedAdd                     =67.694s\n{noformat}\n\nHere is the info ragarding time taken by each test in my local env.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-09-18T05:30:57.465+0000","updated":"2012-09-18T05:30:57.465+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13529854","id":"13529854","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"body":"Removed fail() calls from callbacks as they do nothing there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"created":"2012-12-12T11:25:45.316+0000","updated":"2012-12-12T11:25:45.316+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13530728","id":"13530728","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"the new patch looks good for me. +1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-12-13T06:32:20.736+0000","updated":"2012-12-13T06:32:20.736+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13530729","id":"13530729","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"resubmit the patch to trigger pre-commit job.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-12-13T06:32:42.739+0000","updated":"2012-12-13T06:32:42.739+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13531221","id":"13531221","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"body":"Jenkins has been down for a couple of days, I've run manually with bin/test-patch --jira=BOOKKEEPER-408 --reset-scm and it comes out clean. Committing","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"created":"2012-12-13T17:32:32.518+0000","updated":"2012-12-13T17:32:32.518+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13531223","id":"13531223","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"body":"Committed as r1421401. Thanks for reviewing Sijie.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ikelly","name":"ikelly","key":"ikelly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ivan Kelly","active":true,"timeZone":"Europe/Berlin"},"created":"2012-12-13T17:34:35.601+0000","updated":"2012-12-13T17:34:35.601+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13532101","id":"13532101","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in bookkeeper-trunk #860 (See [https://builds.apache.org/job/bookkeeper-trunk/860/])\n    BOOKKEEPER-408: BookieReadWriteTest will enter the endless loop and will not leave out (ivank) (Revision 1421401)\n\n     Result = FAILURE\nivank : \nFiles : \n* /zookeeper/bookkeeper/trunk/CHANGES.txt\n* /zookeeper/bookkeeper/trunk/bookkeeper-server/src/test/java/org/apache/bookkeeper/test/BookieReadWriteTest.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-14T06:51:27.437+0000","updated":"2012-12-14T06:51:27.437+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13533869","id":"13533869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yians","name":"yians","key":"yians","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Han Xiao","active":true,"timeZone":"Etc/UTC"},"body":"Good revision. I find the BookieWriteLedgerTest also has the problem. Maybe another jira is needed to clean all the problems.\n\nThe source code:\n    @Override\n    public void addComplete(int rc, LedgerHandle lh, long entryId, Object ctx) {\n        if (rc != BKException.Code.OK)\n            fail(\"Return code is not OK: \" + rc);","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yians","name":"yians","key":"yians","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Han Xiao","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-17T11:37:38.754+0000","updated":"2012-12-17T11:37:38.754+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13534851","id":"13534851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yians","name":"yians","key":"yians","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Han Xiao","active":true,"timeZone":"Etc/UTC"},"body":"BookieFailureTest also has same problem.\n\nlike this:\n    public void addComplete(int rc, LedgerHandle lh, long entryId, Object ctx) {\n        if (rc != 0)\n            fail(\"Failed to write entry: \" + entryId);\n        SyncObj x = (SyncObj) ctx;\n        synchronized (x) {\n            x.counter++;\n            x.notify();\n        }\n    }","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yians","name":"yians","key":"yians","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Han Xiao","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-18T12:30:15.973+0000","updated":"2012-12-18T12:30:15.973+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13534854","id":"13534854","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"body":"Do you mind rising a separate JIRA as this is already closed? Thanks for noticing them.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=umamaheswararao","name":"umamaheswararao","key":"umamaheswararao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Uma Maheswara Rao G","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-12-18T12:35:45.038+0000","updated":"2012-12-18T12:35:45.038+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12607880/comment/13539156","id":"13539156","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yians","name":"yians","key":"yians","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Han Xiao","active":true,"timeZone":"Etc/UTC"},"body":"@[~umamaheswararao], I don't know whether it is necessary to do this, cause there are many jiras like this, as BOOKKEEPER-523.\nAnyway, using the 'Junit Assert' in callback is not a good way. It must be revised through all the test project. The jira is created as BOOKKEEPER-525.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yians","name":"yians","key":"yians","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Han Xiao","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-24T02:24:15.202+0000","updated":"2012-12-24T02:24:15.202+0000"}],"maxResults":21,"total":21,"startAt":0},"customfield_12311820":"0|i0a6lr:","customfield_12314139":null}}

