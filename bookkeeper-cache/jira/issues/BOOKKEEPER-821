{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12760061","self":"https://issues.apache.org/jira/rest/api/2/issue/12760061","key":"BOOKKEEPER-821","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12325566","id":"12325566","name":"4.4.0","archived":false,"released":true,"releaseDate":"2016-05-16"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":18000,"timeestimate":18000,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323267","id":"12323267","description":"Release 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2014-02-02"}],"customfield_12311120":null,"customfield_12313826":null,"issuelinks":[],"customfield_12312339":null,"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314394","id":"12314394","name":"bookkeeper-server","description":"Bookkeeper server."}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":18000,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"aggregateprogress":{"progress":0,"total":18000,"percent":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":18000,"percent":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/BOOKKEEPER-821/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@381907f3[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4f02c59c[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ffcca3c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@168bd87a[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@51f20da8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3d1144ff[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1495d44b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@5c1586ab[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1dcb5fcc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2acad636[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@10c768a8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@601794c5[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12311293","id":"12311293","key":"BOOKKEEPER","name":"Bookkeeper","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12311293&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12311293&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12311293&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12311293&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/14780","id":"14780","description":"BookKeeper","name":"BookKeeper"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2015-05-20T06:20:45.397+0000","workratio":0,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/BOOKKEEPER-821/watchers","watchCount":5,"isWatching":false},"created":"2014-12-08T04:43:26.845+0000","updated":"2016-05-16T21:47:44.300+0000","timeoriginalestimate":18000,"description":"At the startup of bookie,   the bookie constructor would call setLastLogId() as this trace:\n\tBookie() -> InterleavedLedgerStorage() -> EntryLogger() -> Initialize() - >createNewLog() -> allocateNewLog() -> setLastLogId().  \n\nIf \"bw.write() and bw.flush()\" in setLastLogId() failed, an IOException would throw and not catch, and cause Bookie constructor fail. \n\t{code}\n\t    private void setLastLogId(File dir, long logId) throws IOException {\n\t        FileOutputStream fos;\n\t        fos = new FileOutputStream(new File(dir, \"lastId\"));\n\t        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos, UTF_8));\n\t        try {     // < ==== original: if write fail in this try, IOException thrown but not catch, and cause bookie startup fail.\n\t            bw.write(Long.toHexString(logId) + \"\\n\");\n\t            bw.flush();\n\t        } finally {\n\t            try {\n\t                bw.close();\n\t            } catch (IOException e) {\n\t                LOG.error(\"Could not close lastId file in {}\", dir.getPath());\n\t            }\n\t        }\n\t    }\n\t{code}\n\nBut failing setLastLogId() could be tolerated, and will not cause any problem in next time Bookie startup.  \nNext time, when calling EntryLogger constructor again, in getLastLogId(), if read ledgerDir.lastId fail, it will walk through all log files to get LastLogID; If reading an old ledgerDir.lastId, which caused by last failure of setLastLogId(), and it happened to be the largest logId, then allocateNewLog() will find the file already exist, and will allocate newlogfile with bigger ID.\n{code}\n       BufferedLogChannel allocateNewLog() throws IOException {\n            List<File> list = ledgerDirsManager.getWritableLedgerDirs();\n            Collections.shuffle(list);\n            // It would better not to overwrite existing entry log files\n            File newLogFile = null;\n            do {\n                String logFileName = Long.toHexString(++preallocatedLogId) + \".log\";\n                for (File dir : list) {\n                    newLogFile = new File(dir, logFileName);\n                    currentDir = dir;\n                    if (newLogFile.exists()) {  < === this will handle last set fail issue, in which LastId update fail, and get a wrong preallocatedLogId.\n                        LOG.warn(\"Found existed entry log \" + newLogFile\n                               + \" when trying to create it as a new log.\");\n                        newLogFile = null;\n                        break;\n                    }\n                }\n            } while (newLogFile == null);\n\n            FileChannel channel = new RandomAccessFile(newLogFile, \"rw\").getChannel();\n            BufferedLogChannel logChannel = new BufferedLogChannel(channel,\n                    conf.getWriteBufferBytes(), conf.getReadBufferBytes(), preallocatedLogId);\n            logChannel.write((ByteBuffer) LOGFILE_HEADER.clear());\n\n            for (File f : list) {\n                setLastLogId(f, preallocatedLogId);\n            }\n            LOG.info(\"Preallocated entry logger {}.\", preallocatedLogId);\n            return logChannel;\n        }\n{code}\n","customfield_10010":null,"timetracking":{"originalEstimate":"5h","remainingEstimate":"5h","originalEstimateSeconds":18000,"remainingEstimateSeconds":18000},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12685742","id":"12685742","filename":"BOOKKEEPER-821_no-prefix.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-08T12:24:00.227+0000","size":658,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12685742/BOOKKEEPER-821_no-prefix.patch"}],"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"Failing to write lastId to ledger directories should not fail startup of bookies","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12311024":null,"customfield_12314138":null,"customfield_12314137":null,"environment":null,"customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":"2014-12-11","customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14237491","id":"14237491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"body":"there is already a test case: testMissingLogId","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-08T06:19:31.781+0000","updated":"2014-12-08T06:19:31.781+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14237496","id":"14237496","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"Testing JIRA BOOKKEEPER-821\n\n\nPatch [BOOKKEEPER-821.patch|https://issues.apache.org/jira/secure/attachment/12685675/BOOKKEEPER-821.patch] downloaded at Mon Dec  8 06:20:25 UTC 2014\n\n----------------------------\n\n{color:red}-1{color} Patch failed to apply to head of branch\n\n----------------------------","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-08T06:24:41.526+0000","updated":"2014-12-08T06:24:41.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14237821","id":"14237821","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"body":" Former patch did not use \"--no-prefix\", and cause a patch fail. Updated the patch again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-08T12:25:18.871+0000","updated":"2014-12-08T12:25:18.871+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14237846","id":"14237846","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"Testing JIRA BOOKKEEPER-821\n\n\nPatch [BOOKKEEPER-821_no-prefix.patch|https://issues.apache.org/jira/secure/attachment/12685742/BOOKKEEPER-821_no-prefix.patch] downloaded at Mon Dec  8 12:30:17 UTC 2014\n\n----------------------------\n\n{color:green}+1 PATCH_APPLIES{color}\n{color:green}+1 CLEAN{color}\n{color:red}-1 RAW_PATCH_ANALYSIS{color}\n.    {color:green}+1{color} the patch does not introduce any @author tags\n.    {color:green}+1{color} the patch does not introduce any tabs\n.    {color:green}+1{color} the patch does not introduce any trailing spaces\n.    {color:green}+1{color} the patch does not introduce any line longer than 120\n.    {color:red}-1{color} the patch does not add/modify any testcase\n{color:green}+1 RAT{color}\n.    {color:green}+1{color} the patch does not seem to introduce new RAT warnings\n{color:green}+1 JAVADOC{color}\n.    {color:green}+1{color} the patch does not seem to introduce new Javadoc warnings\n{color:green}+1 COMPILE{color}\n.    {color:green}+1{color} HEAD compiles\n.    {color:green}+1{color} patch compiles\n.    {color:green}+1{color} the patch does not seem to introduce new javac warnings\n{color:green}+1 FINDBUGS{color}\n.    {color:green}+1{color} the patch does not seem to introduce new Findbugs warnings\n{color:green}+1 TESTS{color}\n.    Tests run: 934\n{color:green}+1 DISTRO{color}\n.    {color:green}+1{color} distro tarball builds with the patch \n\n----------------------------\n{color:red}*-1 Overall result, please check the reported -1(s)*{color}\n\n\nThe full output of the test-patch run is available at\n\n.   https://builds.apache.org/job/bookkeeper-trunk-precommit-build/877/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-08T13:06:01.793+0000","updated":"2014-12-08T13:06:01.793+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14238592","id":"14238592","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Paiva Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"I'm a bit confused about your point, @zhaijia. setLastLogId is outside that loop and there could be a few reasons for IOException to be thrown, so I'm not convinced your proposal is correct.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Paiva Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2014-12-08T22:42:38.033+0000","updated":"2014-12-08T22:42:38.033+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14238923","id":"14238923","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi Flavio,\nThanks for you comments, maybe last Description was not very clear, I updated the description with a more detailed one. \nWould you please help review it again?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-09T03:25:00.576+0000","updated":"2014-12-09T03:25:00.576+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14240522","id":"14240522","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"body":"update description.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-10T02:03:48.413+0000","updated":"2014-12-10T02:03:48.413+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14240743","id":"14240743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"[~fpj], I think this change is valuable. suppose we have 4 disks, if one disk is unfortunately 100% full, while other disks still have space. during startup, it would fail the bookie because failed to setLogId to that 100% full disk, but it isn't necessary, since the bookie still has other spare disks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-12-10T07:05:03.846+0000","updated":"2014-12-10T07:05:03.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14240871","id":"14240871","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Paiva Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"Agreed about the the disk full case, but I don't think this is the only case. In the case the disk is broken it means we lost data so the bookie shouldn't start, no?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Paiva Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2014-12-10T09:58:41.578+0000","updated":"2014-12-10T09:58:41.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14245234","id":"14245234","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi Flavio and Sijie, \nThanks a lot for you comments. \n\"Disk full\" is the case that I met here. Sorry for not considering  \"disk broken\" case here. \nBut from my point of view, \"disk full\" is a more common case than \"disk broken\". In \"disk broken\" case, it is also OK to start bookie, because disk broken could be find later when add entry. \n\nThanks.\n-Jia","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-13T07:26:51.872+0000","updated":"2014-12-13T07:26:51.872+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14247917","id":"14247917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"[~fpj] I don't understand why we shouldn't start bookie if disk is broken. I think the patch here is that lastLogId isn't the critical part, and there is already logic handling losing lastLogId case. if we failed writing lastLogId, we should proceed anyway.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-12-16T08:09:20.559+0000","updated":"2014-12-16T08:09:20.559+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14308731","id":"14308731","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"[~fpj] what is your take for this jira? If no objection, I would go ahead to commit this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-06T07:02:46.193+0000","updated":"2015-02-06T07:02:46.193+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14320794","id":"14320794","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Paiva Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"My bad, I missed the question that was here for me. I need to refresh my cache on this one. \n\nAre we pushing this one for 4.3.2?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Paiva Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2015-02-13T21:33:57.659+0000","updated":"2015-02-13T21:33:57.659+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14320856","id":"14320856","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"yup. it isn't a blocking issue, it is a nice-to-have fix. so I would push it to 4.3.2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-13T22:14:26.181+0000","updated":"2015-02-13T22:14:26.181+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14321179","id":"14321179","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks for taking care of it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaijia","name":"zhaijia","key":"zhaijia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zhaijia&avatarId=21925","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zhaijia&avatarId=21925","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zhaijia&avatarId=21925","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zhaijia&avatarId=21925"},"displayName":"Jia Zhai","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-02-14T02:41:21.237+0000","updated":"2015-02-14T02:41:21.237+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14358242","id":"14358242","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"[~fpj] what is your opinion on this? any objections?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-12T07:54:01.435+0000","updated":"2015-03-12T07:54:01.435+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14366709","id":"14366709","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"[~fpj] ping this again?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-18T06:25:18.408+0000","updated":"2015-03-18T06:25:18.408+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14551892","id":"14551892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"body":"committed as 6286c39 in master. Thanks [~zhaijia] for your patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustlmsp","name":"hustlmsp","key":"hustlmsp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sijie Guo","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-20T06:20:45.454+0000","updated":"2015-05-20T06:20:45.454+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/14551918","id":"14551918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in bookkeeper-master #1061 (See [https://builds.apache.org/job/bookkeeper-master/1061/])\nBOOKKEEPER-821: Failing to write lastId to ledger directories should not fail startup of bookies (zhaijia via sijie) (sijie: rev 6286c39eaa8f7422323fc3405c72f9c6333f444f)\n* CHANGES.txt\n* bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/EntryLogger.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-20T07:02:07.831+0000","updated":"2015-05-20T07:02:07.831+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12760061/comment/15285446","id":"15285446","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmerli","name":"mmerli","key":"mmerli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matteo Merli","active":true,"timeZone":"America/Los_Angeles"},"body":"Closed as part of BookKeeper-4.4.0 release","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mmerli","name":"mmerli","key":"mmerli","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matteo Merli","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-16T21:47:43.670+0000","updated":"2016-05-16T21:47:43.670+0000"}],"maxResults":20,"total":20,"startAt":0},"customfield_12311820":"0|i235x3:","customfield_12314139":null}}

