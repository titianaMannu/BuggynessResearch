{"sha":"951989c2f364e6574fbab5b8087e8fb4dea04fee","node_id":"MDQ6QmxvYjE1NzU5NTY6OTUxOTg5YzJmMzY0ZTY1NzRmYmFiNWI4MDg3ZThmYjRkZWEwNGZlZQ==","size":24624,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/951989c2f364e6574fbab5b8087e8fb4dea04fee","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLm1ldGE7CgppbXBvcnQgb3Jn\nLmFwYWNoZS5ib29ra2VlcGVyLnJlcGxpY2F0aW9uLlJlcGxpY2F0aW9uRW5h\nYmxlQ2I7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucmVwbGljYXRp\nb24uUmVwbGljYXRpb25FeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIucmVwbGljYXRpb24uUmVwbGljYXRpb25FeGNlcHRpb24uVW5h\ndmFpbGFibGVFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVw\nZXIudXRpbC5Cb29rS2VlcGVyQ29uc3RhbnRzOwppbXBvcnQgb3JnLmFwYWNo\nZS5ib29ra2VlcGVyLnV0aWwuWmtVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUu\nYm9va2tlZXBlci5uZXQuRE5TOwoKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tl\nZXBlci5wcm90by5Cb29ra2VlcGVySW50ZXJuYWxDYWxsYmFja3MuR2VuZXJp\nY0NhbGxiYWNrOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnByb3Rv\nLkRhdGFGb3JtYXRzLkxlZGdlclJlcmVwbGljYXRpb25MYXlvdXRGb3JtYXQ7\nCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG8uRGF0YUZvcm1h\ndHMuVW5kZXJyZXBsaWNhdGVkTGVkZ2VyRm9ybWF0OwppbXBvcnQgb3JnLmFw\nYWNoZS5ib29ra2VlcGVyLnByb3RvLkRhdGFGb3JtYXRzLkxvY2tEYXRhRm9y\nbWF0OwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNvbmYuQWJzdHJh\nY3RDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVwZXIu\nWm9vS2VlcGVyOwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVwZXIuV2F0Y2hl\nZEV2ZW50OwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVwZXIuV2F0Y2hlcjsK\naW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLkNyZWF0ZU1vZGU7CmltcG9y\ndCBvcmcuYXBhY2hlLnpvb2tlZXBlci5LZWVwZXJFeGNlcHRpb247CmltcG9y\ndCBvcmcuYXBhY2hlLnpvb2tlZXBlci5kYXRhLlN0YXQ7CmltcG9ydCBvcmcu\nYXBhY2hlLnpvb2tlZXBlci5ab29EZWZzLklkczsKCmltcG9ydCBjb20uZ29v\nZ2xlLnByb3RvYnVmLlRleHRGb3JtYXQ7CmltcG9ydCBjb20uZ29vZ2xlLmNv\nbW1vbi5iYXNlLkpvaW5lcjsKaW1wb3J0IHN0YXRpYyBjb20uZ29vZ2xlLmNv\nbW1vbi5iYXNlLkNoYXJzZXRzLlVURl84OwoKaW1wb3J0IGphdmEubmV0LlVu\na25vd25Ib3N0RXhjZXB0aW9uOwoKaW1wb3J0IGphdmEudXRpbC5jb25jdXJy\nZW50LkNvdW50RG93bkxhdGNoOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJl\nbnQuQ29uY3VycmVudEhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwpp\nbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVj\ndGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOwoKCmltcG9ydCBqYXZh\nLnV0aWwucmVnZXguUGF0dGVybjsKaW1wb3J0IGphdmEudXRpbC5yZWdleC5N\nYXRjaGVyOwoKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcu\nc2xmNGouTG9nZ2VyRmFjdG9yeTsKCi8qKgogKiBab29LZWVwZXIgaW1wbGVt\nZW50YXRpb24gb2YgdW5kZXJyZXBsaWNhdGlvbiBtYW5hZ2VyLgogKiBUaGlz\nIGlzIGltcGxlbWVudGVkIGluIGEgaGVpcmFyY2hpY2FsIGZhc2hpb24sIHNv\nIGl0J2xsIHdvcmsgd2l0aAogKiBGbGF0TGVkZ2VyTWFuYWdlckZhY3Rvcnkg\nYW5kIEhpZXJhcmNoaWNhbExlZGdlck1hbmFnZXJGYWN0b3J5LgogKgogKiBM\nYXlvdXQgaXM6CiAqIC9yb290L3VuZGVycmVwbGljYXRpb24vIExBWU9VVAog\nKiAgICAgICAgICAgICAgICAgICAgICAgICBsZWRnZXJzLyhoaWVyYXJjaGlj\nYWxwYXRoKS91ckwobGVkZ2VySWQpCiAqICAgICAgICAgICAgICAgICAgICAg\nICAgIGxvY2tzLyhsZWRnZXJJZCkKICoKICogVGhlIGhpZXJhcmNoaWNhbCBw\nYXRoIGlzIGNyZWF0ZWQgYnkgc3BsaXR0aW5nIHRoZSBsZWRnZXIgaW50byA0\nIDJieXRlCiAqIHNlZ21lbnRzIHdoaWNoIGFyZSByZXByZXNlbnRlZCBpbiBo\nZXhpZGVjaW1hbC4KICogZS5nLiBGb3IgbGVkZ2VyIGlkIDB4Y2FmZWJlZWYw\nMDAwZmVlZCwgdGhlIHBhdGggaXMKICogIGNhZmUvYmVlZi8wMDAwL2ZlZWQv\nCiAqLwpwdWJsaWMgY2xhc3MgWmtMZWRnZXJVbmRlcnJlcGxpY2F0aW9uTWFu\nYWdlciBpbXBsZW1lbnRzIExlZGdlclVuZGVycmVwbGljYXRpb25NYW5hZ2Vy\nIHsKICAgIHN0YXRpYyBmaW5hbCBMb2dnZXIgTE9HID0gTG9nZ2VyRmFjdG9y\neS5nZXRMb2dnZXIoWmtMZWRnZXJVbmRlcnJlcGxpY2F0aW9uTWFuYWdlci5j\nbGFzcyk7CiAgICBzdGF0aWMgZmluYWwgU3RyaW5nIExBWU9VVD0iQkFTSUMi\nOwogICAgc3RhdGljIGZpbmFsIGludCBMQVlPVVRfVkVSU0lPTj0xOwoKICAg\nIHByaXZhdGUgc3RhdGljIGNsYXNzIExvY2sgewogICAgICAgIHByaXZhdGUg\nZmluYWwgU3RyaW5nIGxvY2taTm9kZTsKICAgICAgICBwcml2YXRlIGZpbmFs\nIGludCBsZWRnZXJaTm9kZVZlcnNpb247CgogICAgICAgIExvY2soU3RyaW5n\nIGxvY2taTm9kZSwgaW50IGxlZGdlclpOb2RlVmVyc2lvbikgewogICAgICAg\nICAgICB0aGlzLmxvY2taTm9kZSA9IGxvY2taTm9kZTsKICAgICAgICAgICAg\ndGhpcy5sZWRnZXJaTm9kZVZlcnNpb24gPSBsZWRnZXJaTm9kZVZlcnNpb247\nCiAgICAgICAgfQoKICAgICAgICBTdHJpbmcgZ2V0TG9ja1pOb2RlKCkgeyBy\nZXR1cm4gbG9ja1pOb2RlOyB9CiAgICAgICAgaW50IGdldExlZGdlclpOb2Rl\nVmVyc2lvbigpIHsgcmV0dXJuIGxlZGdlclpOb2RlVmVyc2lvbjsgfQogICAg\nfTsKICAgIHByaXZhdGUgZmluYWwgTWFwPExvbmcsIExvY2s+IGhlbGRMb2Nr\ncyA9IG5ldyBDb25jdXJyZW50SGFzaE1hcDxMb25nLCBMb2NrPigpOwogICAg\ncHJpdmF0ZSBmaW5hbCBQYXR0ZXJuIGlkRXh0cmFjdGlvblBhdHRlcm47Cgog\nICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcgYmFzZVBhdGg7CiAgICBwcml2YXRl\nIGZpbmFsIFN0cmluZyB1ckxlZGdlclBhdGg7CiAgICBwcml2YXRlIGZpbmFs\nIFN0cmluZyB1ckxvY2tQYXRoOwogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcg\nbGF5b3V0Wk5vZGU7CiAgICBwcml2YXRlIGZpbmFsIExvY2tEYXRhRm9ybWF0\nIGxvY2tEYXRhOwoKICAgIHByaXZhdGUgZmluYWwgWm9vS2VlcGVyIHprYzsK\nCiAgICBwdWJsaWMgWmtMZWRnZXJVbmRlcnJlcGxpY2F0aW9uTWFuYWdlcihB\nYnN0cmFjdENvbmZpZ3VyYXRpb24gY29uZiwgWm9vS2VlcGVyIHprYykKICAg\nICAgICAgICAgdGhyb3dzIEtlZXBlckV4Y2VwdGlvbiwgSW50ZXJydXB0ZWRF\neGNlcHRpb24sIFJlcGxpY2F0aW9uRXhjZXB0aW9uLkNvbXBhdGliaWxpdHlF\neGNlcHRpb24gewogICAgICAgIGJhc2VQYXRoID0gY29uZi5nZXRaa0xlZGdl\ncnNSb290UGF0aCgpICsgJy8nCiAgICAgICAgICAgICAgICArIEJvb2tLZWVw\nZXJDb25zdGFudHMuVU5ERVJfUkVQTElDQVRJT05fTk9ERTsKICAgICAgICBs\nYXlvdXRaTm9kZSA9IGJhc2VQYXRoICsgJy8nICsgQm9va0tlZXBlckNvbnN0\nYW50cy5MQVlPVVRfWk5PREU7CiAgICAgICAgdXJMZWRnZXJQYXRoID0gYmFz\nZVBhdGgKICAgICAgICAgICAgICAgICsgQm9va0tlZXBlckNvbnN0YW50cy5E\nRUZBVUxUX1pLX0xFREdFUlNfUk9PVF9QQVRIOwogICAgICAgIHVyTG9ja1Bh\ndGggPSBiYXNlUGF0aCArICIvbG9ja3MiOwoKICAgICAgICBpZEV4dHJhY3Rp\nb25QYXR0ZXJuID0gUGF0dGVybi5jb21waWxlKCJ1ckwoXFxkKykkIik7CiAg\nICAgICAgdGhpcy56a2MgPSB6a2M7CgogICAgICAgIExvY2tEYXRhRm9ybWF0\nLkJ1aWxkZXIgbG9ja0RhdGFCdWlsZGVyID0gTG9ja0RhdGFGb3JtYXQubmV3\nQnVpbGRlcigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGxvY2tEYXRh\nQnVpbGRlci5zZXRCb29raWVJZChETlMuZ2V0RGVmYXVsdEhvc3QoImRlZmF1\nbHQiKSk7CiAgICAgICAgfSBjYXRjaCAoVW5rbm93bkhvc3RFeGNlcHRpb24g\ndWhlKSB7CiAgICAgICAgICAgIC8vIGlmIHdlIGNhbnQgZ2V0IHRoZSBhZGRy\nZXNzLCBpZ25vcmUuIGl0J3Mgb3B0aW9uYWwKICAgICAgICAgICAgLy8gaW4g\ndGhlIGRhdGEgc3RydWN0dXJlIGluIGFueSBjYXNlCiAgICAgICAgfQogICAg\nICAgIGxvY2tEYXRhID0gbG9ja0RhdGFCdWlsZGVyLmJ1aWxkKCk7CgogICAg\nICAgIGNoZWNrTGF5b3V0KCk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGNo\nZWNrTGF5b3V0KCkKICAgICAgICAgICAgdGhyb3dzIEtlZXBlckV4Y2VwdGlv\nbiwgSW50ZXJydXB0ZWRFeGNlcHRpb24sIFJlcGxpY2F0aW9uRXhjZXB0aW9u\nLkNvbXBhdGliaWxpdHlFeGNlcHRpb24gewogICAgICAgIGlmICh6a2MuZXhp\nc3RzKGJhc2VQYXRoLCBmYWxzZSkgPT0gbnVsbCkgewogICAgICAgICAgICB0\ncnkgewogICAgICAgICAgICAgICAgemtjLmNyZWF0ZShiYXNlUGF0aCwgbmV3\nIGJ5dGVbMF0sIElkcy5PUEVOX0FDTF9VTlNBRkUsIENyZWF0ZU1vZGUuUEVS\nU0lTVEVOVCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlv\nbi5Ob2RlRXhpc3RzRXhjZXB0aW9uIG5lZSkgewogICAgICAgICAgICAgICAg\nLy8gZG8gbm90aGluZywgc29tZW9uZSBlYWNoIGNvdWxkIGhhdmUgY3JlYXRl\nZCBpdAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHdoaWxlICh0\ncnVlKSB7CiAgICAgICAgICAgIGlmICh6a2MuZXhpc3RzKGxheW91dFpOb2Rl\nLCBmYWxzZSkgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgTGVkZ2VyUmVy\nZXBsaWNhdGlvbkxheW91dEZvcm1hdC5CdWlsZGVyIGJ1aWxkZXIKICAgICAg\nICAgICAgICAgICAgICA9IExlZGdlclJlcmVwbGljYXRpb25MYXlvdXRGb3Jt\nYXQubmV3QnVpbGRlcigpOwogICAgICAgICAgICAgICAgYnVpbGRlci5zZXRU\neXBlKExBWU9VVCkuc2V0VmVyc2lvbihMQVlPVVRfVkVSU0lPTik7CiAgICAg\nICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHprYy5jcmVh\ndGUobGF5b3V0Wk5vZGUsIFRleHRGb3JtYXQucHJpbnRUb1N0cmluZyhidWls\nZGVyLmJ1aWxkKCkpLmdldEJ5dGVzKFVURl84KSwKICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIElkcy5PUEVOX0FDTF9VTlNBRkUsIENyZWF0ZU1v\nZGUuUEVSU0lTVEVOVCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChLZWVw\nZXJFeGNlcHRpb24uTm9kZUV4aXN0c0V4Y2VwdGlvbiBubmUpIHsKICAgICAg\nICAgICAgICAgICAgICAvLyBzb21lb25lIGVsc2UgbWFuYWdlZCB0byBjcmVh\ndGUgaXQKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAg\nIGJ5dGVbXSBsYXlvdXREYXRhID0gemtjLmdldERhdGEobGF5b3V0Wk5vZGUs\nIGZhbHNlLCBudWxsKTsKCiAgICAgICAgICAgICAgICBMZWRnZXJSZXJlcGxp\nY2F0aW9uTGF5b3V0Rm9ybWF0LkJ1aWxkZXIgYnVpbGRlcgogICAgICAgICAg\nICAgICAgICAgID0gTGVkZ2VyUmVyZXBsaWNhdGlvbkxheW91dEZvcm1hdC5u\nZXdCdWlsZGVyKCk7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgICAgICAgICBUZXh0Rm9ybWF0Lm1lcmdlKG5ldyBTdHJpbmcobGF5b3V0\nRGF0YSwgVVRGXzgpLCBidWlsZGVyKTsKICAgICAgICAgICAgICAgICAgICBM\nZWRnZXJSZXJlcGxpY2F0aW9uTGF5b3V0Rm9ybWF0IGxheW91dCA9IGJ1aWxk\nZXIuYnVpbGQoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWxheW91dC5n\nZXRUeXBlKCkuZXF1YWxzKExBWU9VVCkKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIHx8IGxheW91dC5nZXRWZXJzaW9uKCkgIT0gTEFZT1VUX1ZFUlNJ\nT04pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlcGxp\nY2F0aW9uRXhjZXB0aW9uLkNvbXBhdGliaWxpdHlFeGNlcHRpb24oCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIkluY29tcGF0aWJsZSBsYXlv\ndXQgZm91bmQgKCIgKyBMQVlPVVQgKyAiOiIgKyBMQVlPVVRfVkVSU0lPTiAr\nICIpIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg\nfSBjYXRjaCAoVGV4dEZvcm1hdC5QYXJzZUV4Y2VwdGlvbiBwZSkgewogICAg\nICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlv\nbi5Db21wYXRpYmlsaXR5RXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIkludmFsaWQgZGF0YSBmb3VuZCIsIHBlKTsKICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9\nCiAgICAgICAgfQogICAgICAgIGlmICh6a2MuZXhpc3RzKHVyTGVkZ2VyUGF0\naCwgZmFsc2UpID09IG51bGwpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgICAgIHprYy5jcmVhdGUodXJMZWRnZXJQYXRoLCBuZXcgYnl0ZVsw\nXSwgSWRzLk9QRU5fQUNMX1VOU0FGRSwgQ3JlYXRlTW9kZS5QRVJTSVNURU5U\nKTsKICAgICAgICAgICAgfSBjYXRjaCAoS2VlcGVyRXhjZXB0aW9uLk5vZGVF\neGlzdHNFeGNlcHRpb24gbmVlKSB7CiAgICAgICAgICAgICAgICAvLyBkbyBu\nb3RoaW5nLCBzb21lb25lIGVhY2ggY291bGQgaGF2ZSBjcmVhdGVkIGl0CiAg\nICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHprYy5leGlzdHMo\ndXJMb2NrUGF0aCwgZmFsc2UpID09IG51bGwpIHsKICAgICAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgICAgIHprYy5jcmVhdGUodXJMb2NrUGF0aCwgbmV3\nIGJ5dGVbMF0sIElkcy5PUEVOX0FDTF9VTlNBRkUsIENyZWF0ZU1vZGUuUEVS\nU0lTVEVOVCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlv\nbi5Ob2RlRXhpc3RzRXhjZXB0aW9uIG5lZSkgewogICAgICAgICAgICAgICAg\nLy8gZG8gbm90aGluZywgc29tZW9uZSBlYWNoIGNvdWxkIGhhdmUgY3JlYXRl\nZCBpdAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHByaXZh\ndGUgbG9uZyBnZXRMZWRnZXJJZChTdHJpbmcgcGF0aCkgdGhyb3dzIE51bWJl\nckZvcm1hdEV4Y2VwdGlvbiB7CiAgICAgICAgTWF0Y2hlciBtID0gaWRFeHRy\nYWN0aW9uUGF0dGVybi5tYXRjaGVyKHBhdGgpOwogICAgICAgIGlmIChtLmZp\nbmQoKSkgewogICAgICAgICAgICByZXR1cm4gTG9uZy52YWx1ZU9mKG0uZ3Jv\ndXAoMSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5l\ndyBOdW1iZXJGb3JtYXRFeGNlcHRpb24oIkNvdWxkbid0IGZpbmQgbGVkZ2Vy\naWQgaW4gcGF0aCIpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3Rh\ndGljIFN0cmluZyBnZXRQYXJlbnRabm9kZVBhdGgoU3RyaW5nIGJhc2UsIGxv\nbmcgbGVkZ2VySWQpIHsKICAgICAgICBTdHJpbmcgc3ViZGlyMSA9IFN0cmlu\nZy5mb3JtYXQoIiUwNHgiLCBsZWRnZXJJZCA+PiA0OCAmIDB4ZmZmZik7CiAg\nICAgICAgU3RyaW5nIHN1YmRpcjIgPSBTdHJpbmcuZm9ybWF0KCIlMDR4Iiwg\nbGVkZ2VySWQgPj4gMzIgJiAweGZmZmYpOwogICAgICAgIFN0cmluZyBzdWJk\naXIzID0gU3RyaW5nLmZvcm1hdCgiJTA0eCIsIGxlZGdlcklkID4+IDE2ICYg\nMHhmZmZmKTsKICAgICAgICBTdHJpbmcgc3ViZGlyNCA9IFN0cmluZy5mb3Jt\nYXQoIiUwNHgiLCBsZWRnZXJJZCAmIDB4ZmZmZik7CgogICAgICAgIHJldHVy\nbiBTdHJpbmcuZm9ybWF0KCIlcy8lcy8lcy8lcy8lcyIsCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgYmFzZSwgc3ViZGlyMSwgc3ViZGlyMiwgc3Vi\nZGlyMywgc3ViZGlyNCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBTdHJp\nbmcgZ2V0VXJMZWRnZXJabm9kZShTdHJpbmcgYmFzZSwgbG9uZyBsZWRnZXJJ\nZCkgewogICAgICAgIHJldHVybiBTdHJpbmcuZm9ybWF0KCIlcy91ckwlMDEw\nZCIsIGdldFBhcmVudFpub2RlUGF0aChiYXNlLCBsZWRnZXJJZCksIGxlZGdl\ncklkKTsKICAgIH0KCiAgICBwcml2YXRlIFN0cmluZyBnZXRVckxlZGdlclpu\nb2RlKGxvbmcgbGVkZ2VySWQpIHsKICAgICAgICByZXR1cm4gZ2V0VXJMZWRn\nZXJabm9kZSh1ckxlZGdlclBhdGgsIGxlZGdlcklkKTsKICAgIH0KCgogICAg\nQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBtYXJrTGVkZ2VyVW5kZXJyZXBs\naWNhdGVkKGxvbmcgbGVkZ2VySWQsIFN0cmluZyBtaXNzaW5nUmVwbGljYSkK\nICAgICAgICAgICAgdGhyb3dzIFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZh\naWxhYmxlRXhjZXB0aW9uIHsKICAgICAgICBMT0cuZGVidWcoIm1hcmtMZWRn\nZXJVbmRlcnJlcGxpY2F0ZWQobGVkZ2VySWQ9e30sIG1pc3NpbmdSZXBsaWNh\nPXt9KSIsIGxlZGdlcklkLCBtaXNzaW5nUmVwbGljYSk7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgU3RyaW5nIHpub2RlID0gZ2V0VXJMZWRnZXJabm9k\nZShsZWRnZXJJZCk7CiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAg\nICAgICAgICAgICBVbmRlcnJlcGxpY2F0ZWRMZWRnZXJGb3JtYXQuQnVpbGRl\nciBidWlsZGVyID0gVW5kZXJyZXBsaWNhdGVkTGVkZ2VyRm9ybWF0Lm5ld0J1\naWxkZXIoKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAg\nICAgICAgYnVpbGRlci5hZGRSZXBsaWNhKG1pc3NpbmdSZXBsaWNhKTsKICAg\nICAgICAgICAgICAgICAgICBaa1V0aWxzLmNyZWF0ZUZ1bGxQYXRoT3B0aW1p\nc3RpYyh6a2MsIHpub2RlLCBUZXh0Rm9ybWF0CiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAucHJpbnRUb1N0cmluZyhidWlsZGVyLmJ1aWxkKCkpLmdl\ndEJ5dGVzKFVURl84KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIElk\ncy5PUEVOX0FDTF9VTlNBRkUsIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7CiAg\nICAgICAgICAgICAgICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24uTm9kZUV4\naXN0c0V4Y2VwdGlvbiBuZWUpIHsKICAgICAgICAgICAgICAgICAgICBTdGF0\nIHMgPSB6a2MuZXhpc3RzKHpub2RlLCBmYWxzZSk7CiAgICAgICAgICAgICAg\nICAgICAgaWYgKHMgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAg\nICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZVtd\nIGJ5dGVzID0gemtjLmdldERhdGEoem5vZGUsIGZhbHNlLCBzKTsKICAgICAg\nICAgICAgICAgICAgICAgICAgYnVpbGRlci5jbGVhcigpOwogICAgICAgICAg\nICAgICAgICAgICAgICBUZXh0Rm9ybWF0Lm1lcmdlKG5ldyBTdHJpbmcoYnl0\nZXMsIFVURl84KSwgYnVpbGRlcik7CiAgICAgICAgICAgICAgICAgICAgICAg\nIFVuZGVycmVwbGljYXRlZExlZGdlckZvcm1hdCBkYXRhID0gYnVpbGRlci5i\ndWlsZCgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5nZXRS\nZXBsaWNhTGlzdCgpLmNvbnRhaW5zKG1pc3NpbmdSZXBsaWNhKSkgewogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBub3RoaW5nIHRv\nIGFkZAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg\nICAgICAgICAgIGJ1aWxkZXIuYWRkUmVwbGljYShtaXNzaW5nUmVwbGljYSk7\nCiAgICAgICAgICAgICAgICAgICAgICAgIHprYy5zZXREYXRhKHpub2RlLAog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZXh0Rm9ybWF0\nLnByaW50VG9TdHJpbmcoYnVpbGRlci5idWlsZCgpKS5nZXRCeXRlcyhVVEZf\nOCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuZ2V0\nVmVyc2lvbigpKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChLZWVw\nZXJFeGNlcHRpb24uTm9Ob2RlRXhjZXB0aW9uIG5uZSkgewogICAgICAgICAg\nICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9\nIGNhdGNoIChLZWVwZXJFeGNlcHRpb24uQmFkVmVyc2lvbkV4Y2VwdGlvbiBi\ndmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAg\nICAgICAgICAgICAgICAgfSBjYXRjaCAoVGV4dEZvcm1hdC5QYXJzZUV4Y2Vw\ndGlvbiBwZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcg\nUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24oCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkludmFsaWQgZGF0YSBm\nb3VuZCIsIHBlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQog\nICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbiBrZSkgewogICAgICAg\nICAgICB0aHJvdyBuZXcgUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFi\nbGVFeGNlcHRpb24oIkVycm9yIGNvbnRhY3Rpbmcgem9va2VlcGVyIiwga2Up\nOwogICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGllKSB7\nCiAgICAgICAgICAgIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuaW50ZXJydXB0\nKCk7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlv\nbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigiSW50ZXJydXB0ZWQgd2hpbGUgY29u\ndGFjdGluZyB6b29rZWVwZXIiLCBpZSk7CiAgICAgICAgfQogICAgfQoKICAg\nIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgbWFya0xlZGdlclJlcGxpY2F0\nZWQobG9uZyBsZWRnZXJJZCkgdGhyb3dzIFJlcGxpY2F0aW9uRXhjZXB0aW9u\nLlVuYXZhaWxhYmxlRXhjZXB0aW9uIHsKICAgICAgICBMT0cuZGVidWcoIm1h\ncmtMZWRnZXJSZXBsaWNhdGVkKGxlZGdlcklkPXt9KSIsIGxlZGdlcklkKTsK\nICAgICAgICB0cnkgewogICAgICAgICAgICBMb2NrIGwgPSBoZWxkTG9ja3Mu\nZ2V0KGxlZGdlcklkKTsKICAgICAgICAgICAgaWYgKGwgIT0gbnVsbCkgewog\nICAgICAgICAgICAgICAgemtjLmRlbGV0ZShnZXRVckxlZGdlclpub2RlKGxl\nZGdlcklkKSwgbC5nZXRMZWRnZXJaTm9kZVZlcnNpb24oKSk7CgogICAgICAg\nICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyBjbGVhbiB1\ncCB0aGUgaGllcmFyY2h5CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHBh\ncnRzW10gPSBnZXRVckxlZGdlclpub2RlKGxlZGdlcklkKS5zcGxpdCgiLyIp\nOwogICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IDQ7\nIGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgcFtdID0g\nQXJyYXlzLmNvcHlPZihwYXJ0cywgcGFydHMubGVuZ3RoIC0gaSk7CiAgICAg\nICAgICAgICAgICAgICAgICAgIFN0cmluZyBwYXRoID0gSm9pbmVyLm9uKCIv\nIikuam9pbihwKTsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhdCBzID0g\nemtjLmV4aXN0cyhwYXRoLCBudWxsKTsKICAgICAgICAgICAgICAgICAgICAg\nICAgaWYgKHMgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgemtjLmRlbGV0ZShwYXRoLCBzLmdldFZlcnNpb24oKSk7CiAgICAgICAg\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAg\nICAgICAgICAgICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24uTm90RW1wdHlF\neGNlcHRpb24gbmVlKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBj\nYW4gaGFwcGVuIHdoZW4gY2xlYW5pbmcgdXAgdGhlIGhpZXJhcmNoeS4KICAg\nICAgICAgICAgICAgICAgICAvLyBJdCdzIHNhZmUgdG8gaWdub3JlLCBpdCBz\naW1wbHkgbWVhbnMgYW5vdGhlcgogICAgICAgICAgICAgICAgICAgIC8vIGxl\nZGdlciBpbiB0aGUgc2FtZSBoaWVyYXJjaHkgaGFzIGJlZW4gbWFya2VkIGFz\nCiAgICAgICAgICAgICAgICAgICAgLy8gdW5kZXJyZXBsaWNhdGVkLgogICAg\nICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAo\nS2VlcGVyRXhjZXB0aW9uLk5vTm9kZUV4Y2VwdGlvbiBubmUpIHsKICAgICAg\nICAgICAgLy8gdGhpcyBpcyBvawogICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4\nY2VwdGlvbi5CYWRWZXJzaW9uRXhjZXB0aW9uIGJ2ZSkgewogICAgICAgICAg\nICAvLyBpZiB0aGlzIGlzIHRoZSBjYXNlLCBzb21lIGhhcyBtYXJrZWQgdGhl\nIGxlZGdlcgogICAgICAgICAgICAvLyBmb3IgcmVyZXBsaWNhdGlvbiBhZ2Fp\nbi4gTGVhdmUgdGhlIHVuZGVycmVwbGljYXRlZAogICAgICAgICAgICAvLyB6\nbm9kZSBpbiBwbGFjZSwgc28gdGhlIGxlZGdlciBpcyBjaGVja2VkLgogICAg\nICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbiBrZSkgewogICAgICAgICAg\nICBMT0cuZXJyb3IoIkVycm9yIGRlbGV0aW5nIHVuZGVycmVwbGljYXRlZCBs\nZWRnZXIgem5vZGUiLCBrZSk7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBs\naWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigiRXJyb3Ig\nY29udGFjdGluZyB6b29rZWVwZXIiLCBrZSk7CiAgICAgICAgfSBjYXRjaCAo\nSW50ZXJydXB0ZWRFeGNlcHRpb24gaWUpIHsKICAgICAgICAgICAgVGhyZWFk\nLmN1cnJlbnRUaHJlYWQoKS5pbnRlcnJ1cHQoKTsKICAgICAgICAgICAgdGhy\nb3cgbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0\naW9uKCJJbnRlcnJ1cHRlZCB3aGlsZSBjb250YWN0aW5nIHpvb2tlZXBlciIs\nIGllKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICByZWxlYXNl\nVW5kZXJyZXBsaWNhdGVkTGVkZ2VyKGxlZGdlcklkKTsKICAgICAgICB9CiAg\nICB9CgogICAgcHJpdmF0ZSBsb25nIGdldExlZGdlclRvUmVyZXBsaWNhdGVG\ncm9tSGllcmFyY2h5KFN0cmluZyBwYXJlbnQsIGxvbmcgZGVwdGgsIFdhdGNo\nZXIgdykKICAgICAgICAgICAgdGhyb3dzIEtlZXBlckV4Y2VwdGlvbiwgSW50\nZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAgIGlmIChkZXB0aCA9PSA0KSB7\nCiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBjaGlsZHJlbjsKICAgICAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gemtjLmdldENo\naWxkcmVuKHBhcmVudCwgdyk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEtlZXBl\nckV4Y2VwdGlvbi5Ob05vZGVFeGNlcHRpb24gbm5lKSB7CiAgICAgICAgICAg\nICAgICAvLyBjYW4gb2NjdXIgaWYgYW5vdGhlciB1bmRlcnJlcGxpY2F0ZWQg\nbGVkZ2VyJ3MKICAgICAgICAgICAgICAgIC8vIGhpZXJhcmNoeSBpcyBiZWlu\nZyBjbGVhbmVkIHVwCiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAg\nICAgICAgIH0KCiAgICAgICAgICAgIENvbGxlY3Rpb25zLnNodWZmbGUoY2hp\nbGRyZW4pOwoKICAgICAgICAgICAgd2hpbGUgKGNoaWxkcmVuLnNpemUoKSA+\nIDApIHsKICAgICAgICAgICAgICAgIFN0cmluZyB0cnlDaGlsZCA9IGNoaWxk\ncmVuLmdldCgwKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAg\nICAgICAgICAgU3RyaW5nIGxvY2tQYXRoID0gdXJMb2NrUGF0aCArICIvIiAr\nIHRyeUNoaWxkOwogICAgICAgICAgICAgICAgICAgIGlmICh6a2MuZXhpc3Rz\nKGxvY2tQYXRoLCB3KSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAg\nICAgIGNoaWxkcmVuLnJlbW92ZSh0cnlDaGlsZCk7CiAgICAgICAgICAgICAg\nICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAg\nICAgICAgICAgICAgICAgICAgU3RhdCBzdGF0ID0gemtjLmV4aXN0cyhwYXJl\nbnQgKyAiLyIgKyB0cnlDaGlsZCwgZmFsc2UpOwogICAgICAgICAgICAgICAg\nICAgIGlmIChzdGF0ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAg\nICAgTE9HLmRlYnVnKCJ7fS97fSBkb2Vzbid0IGV4aXN0IiwgcGFyZW50LCB0\ncnlDaGlsZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnJl\nbW92ZSh0cnlDaGlsZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRp\nbnVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAg\nICAgbG9uZyBsZWRnZXJJZCA9IGdldExlZGdlcklkKHRyeUNoaWxkKTsKICAg\nICAgICAgICAgICAgICAgICB6a2MuY3JlYXRlKGxvY2tQYXRoLCBUZXh0Rm9y\nbWF0LnByaW50VG9TdHJpbmcobG9ja0RhdGEpLmdldEJ5dGVzKFVURl84KSwK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElkcy5PUEVOX0FDTF9V\nTlNBRkUsIENyZWF0ZU1vZGUuRVBIRU1FUkFMKTsKICAgICAgICAgICAgICAg\nICAgICBoZWxkTG9ja3MucHV0KGxlZGdlcklkLCBuZXcgTG9jayhsb2NrUGF0\naCwgc3RhdC5nZXRWZXJzaW9uKCkpKTsKICAgICAgICAgICAgICAgICAgICBy\nZXR1cm4gbGVkZ2VySWQ7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChLZWVw\nZXJFeGNlcHRpb24uTm9kZUV4aXN0c0V4Y2VwdGlvbiBuZWUpIHsKICAgICAg\nICAgICAgICAgICAgICBjaGlsZHJlbi5yZW1vdmUodHJ5Q2hpbGQpOwogICAg\nICAgICAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIG5m\nZSkgewogICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnJlbW92ZSh0cnlD\naGlsZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAg\nICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KCiAgICAgICAgTGlzdDxTdHJp\nbmc+IGNoaWxkcmVuOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNoaWxk\ncmVuID0gemtjLmdldENoaWxkcmVuKHBhcmVudCwgdyk7CiAgICAgICAgfSBj\nYXRjaCAoS2VlcGVyRXhjZXB0aW9uLk5vTm9kZUV4Y2VwdGlvbiBubmUpIHsK\nICAgICAgICAgICAgLy8gY2FuIG9jY3VyIGlmIGFub3RoZXIgdW5kZXJyZXBs\naWNhdGVkIGxlZGdlcidzCiAgICAgICAgICAgIC8vIGhpZXJhcmNoeSBpcyBi\nZWluZyBjbGVhbmVkIHVwCiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAg\nICB9CgogICAgICAgIENvbGxlY3Rpb25zLnNodWZmbGUoY2hpbGRyZW4pOwoK\nICAgICAgICB3aGlsZSAoY2hpbGRyZW4uc2l6ZSgpID4gMCkgewogICAgICAg\nICAgICBTdHJpbmcgdHJ5Q2hpbGQgPSBjaGlsZHJlbi5nZXQoMCk7CiAgICAg\nICAgICAgIFN0cmluZyB0cnlQYXRoID0gcGFyZW50ICsgIi8iICsgdHJ5Q2hp\nbGQ7CiAgICAgICAgICAgIGxvbmcgbGVkZ2VyID0gZ2V0TGVkZ2VyVG9SZXJl\ncGxpY2F0ZUZyb21IaWVyYXJjaHkodHJ5UGF0aCwgZGVwdGggKyAxLCB3KTsK\nICAgICAgICAgICAgaWYgKGxlZGdlciAhPSAtMSkgewogICAgICAgICAgICAg\nICAgcmV0dXJuIGxlZGdlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICBj\naGlsZHJlbi5yZW1vdmUodHJ5Q2hpbGQpOwogICAgICAgIH0KICAgICAgICBy\nZXR1cm4gLTE7CiAgICB9CgoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGxv\nbmcgcG9sbExlZGdlclRvUmVyZXBsaWNhdGUoKSB0aHJvd3MgUmVwbGljYXRp\nb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24gewogICAgICAgIExP\nRy5kZWJ1ZygicG9sbExlZGdlclRvUmVyZXBsaWNhdGUoKSIpOwogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIFdhdGNoZXIgdyA9IG5ldyBXYXRjaGVyKCkg\newogICAgICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHByb2Nlc3MoV2F0\nY2hlZEV2ZW50IGUpIHsgLy8gZG8gbm90aGluZwogICAgICAgICAgICAgICAg\nICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBn\nZXRMZWRnZXJUb1JlcmVwbGljYXRlRnJvbUhpZXJhcmNoeSh1ckxlZGdlclBh\ndGgsIDAsIHcpOwogICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbiBr\nZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmVwbGljYXRpb25FeGNlcHRp\nb24uVW5hdmFpbGFibGVFeGNlcHRpb24oIkVycm9yIGNvbnRhY3Rpbmcgem9v\na2VlcGVyIiwga2UpOwogICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhj\nZXB0aW9uIGllKSB7CiAgICAgICAgICAgIFRocmVhZC5jdXJyZW50VGhyZWFk\nKCkuaW50ZXJydXB0KCk7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNh\ndGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigiSW50ZXJydXB0\nZWQgd2hpbGUgY29ubmVjdGluZyB6b29rZWVwZXIiLCBpZSk7CiAgICAgICAg\nfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGxvbmcgZ2V0TGVk\nZ2VyVG9SZXJlcGxpY2F0ZSgpIHRocm93cyBSZXBsaWNhdGlvbkV4Y2VwdGlv\nbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbiB7CiAgICAgICAgTE9HLmRlYnVnKCJn\nZXRMZWRnZXJUb1JlcmVwbGljYXRlKCkiKTsKICAgICAgICB0cnkgewogICAg\nICAgICAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgICAgICAgICAgd2FpdElm\nTGVkZ2VyUmVwbGljYXRpb25EaXNhYmxlZCgpOwogICAgICAgICAgICAgICAg\nZmluYWwgQ291bnREb3duTGF0Y2ggY2hhbmdlZExhdGNoID0gbmV3IENvdW50\nRG93bkxhdGNoKDEpOwogICAgICAgICAgICAgICAgV2F0Y2hlciB3ID0gbmV3\nIFdhdGNoZXIoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpYyB2\nb2lkIHByb2Nlc3MoV2F0Y2hlZEV2ZW50IGUpIHsKICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIGlmIChlLmdldFR5cGUoKSA9PSBXYXRjaGVyLkV2ZW50\nLkV2ZW50VHlwZS5Ob2RlQ2hpbGRyZW5DaGFuZ2VkCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgfHwgZS5nZXRUeXBlKCkgPT0gV2F0Y2hlci5F\ndmVudC5FdmVudFR5cGUuTm9kZURlbGV0ZWQKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICB8fCBlLmdldFR5cGUoKSA9PSBXYXRjaGVyLkV2ZW50\nLkV2ZW50VHlwZS5Ob2RlQ3JlYXRlZAogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIHx8IGUuZ2V0U3RhdGUoKSA9PSBXYXRjaGVyLkV2ZW50Lktl\nZXBlclN0YXRlLkV4cGlyZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICB8fCBlLmdldFN0YXRlKCkgPT0gV2F0Y2hlci5FdmVudC5LZWVwZXJT\ndGF0ZS5EaXNjb25uZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICBjaGFuZ2VkTGF0Y2guY291bnREb3duKCk7CiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0K\nICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgbG9uZyBs\nZWRnZXIgPSBnZXRMZWRnZXJUb1JlcmVwbGljYXRlRnJvbUhpZXJhcmNoeSh1\nckxlZGdlclBhdGgsIDAsIHcpOwogICAgICAgICAgICAgICAgaWYgKGxlZGdl\nciAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBsZWRnZXI7\nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBub3RoaW5n\nIGZvdW5kLCB3YWl0IGZvciBhIHdhdGNoZXIgdG8gdHJpZ2dlcgogICAgICAg\nICAgICAgICAgY2hhbmdlZExhdGNoLmF3YWl0KCk7CiAgICAgICAgICAgIH0K\nICAgICAgICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24ga2UpIHsKICAgICAg\nICAgICAgdGhyb3cgbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxh\nYmxlRXhjZXB0aW9uKCJFcnJvciBjb250YWN0aW5nIHpvb2tlZXBlciIsIGtl\nKTsKICAgICAgICB9IGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBpZSkg\newogICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgpLmludGVycnVw\ndCgpOwogICAgICAgICAgICB0aHJvdyBuZXcgUmVwbGljYXRpb25FeGNlcHRp\nb24uVW5hdmFpbGFibGVFeGNlcHRpb24oIkludGVycnVwdGVkIHdoaWxlIGNv\nbm5lY3Rpbmcgem9va2VlcGVyIiwgaWUpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwcml2YXRlIHZvaWQgd2FpdElmTGVkZ2VyUmVwbGljYXRpb25EaXNhYmxl\nZCgpIHRocm93cyBVbmF2YWlsYWJsZUV4Y2VwdGlvbiwKICAgICAgICAgICAg\nSW50ZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAgIFJlcGxpY2F0aW9uRW5h\nYmxlQ2IgY2IgPSBuZXcgUmVwbGljYXRpb25FbmFibGVDYigpOwogICAgICAg\nIGlmICghdGhpcy5pc0xlZGdlclJlcGxpY2F0aW9uRW5hYmxlZCgpKSB7CiAg\nICAgICAgICAgIHRoaXMubm90aWZ5TGVkZ2VyUmVwbGljYXRpb25FbmFibGVk\nKGNiKTsKICAgICAgICAgICAgY2IuYXdhaXQoKTsKICAgICAgICB9CiAgICB9\nCgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCByZWxlYXNlVW5kZXJy\nZXBsaWNhdGVkTGVkZ2VyKGxvbmcgbGVkZ2VySWQpIHRocm93cyBSZXBsaWNh\ndGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbiB7CiAgICAgICAg\nTE9HLmRlYnVnKCJyZWxlYXNlTGVkZ2VyKGxlZGdlcklkPXt9KSIsIGxlZGdl\ncklkKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBMb2NrIGwgPSBoZWxk\nTG9ja3MucmVtb3ZlKGxlZGdlcklkKTsKICAgICAgICAgICAgaWYgKGwgIT0g\nbnVsbCkgewogICAgICAgICAgICAgICAgemtjLmRlbGV0ZShsLmdldExvY2ta\nTm9kZSgpLCAtMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChL\nZWVwZXJFeGNlcHRpb24uTm9Ob2RlRXhjZXB0aW9uIG5uZSkgewogICAgICAg\nICAgICAvLyB0aGlzIGlzIG9rCiAgICAgICAgfSBjYXRjaCAoS2VlcGVyRXhj\nZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIExPRy5lcnJvcigiRXJyb3IgZGVs\nZXRpbmcgdW5kZXJyZXBsaWNhdGVkIGxlZGdlciBsb2NrIiwga2UpOwogICAg\nICAgICAgICB0aHJvdyBuZXcgUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFp\nbGFibGVFeGNlcHRpb24oIkVycm9yIGNvbnRhY3Rpbmcgem9va2VlcGVyIiwg\na2UpOwogICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGll\nKSB7CiAgICAgICAgICAgIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuaW50ZXJy\ndXB0KCk7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2Vw\ndGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigiSW50ZXJydXB0ZWQgd2hpbGUg\nY29ubmVjdGluZyB6b29rZWVwZXIiLCBpZSk7CiAgICAgICAgfQogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgY2xvc2UoKSB0aHJvd3Mg\nUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24gewog\nICAgICAgIExPRy5kZWJ1ZygiY2xvc2UoKSIpOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIGZvciAoTWFwLkVudHJ5PExvbmcsIExvY2s+IGUgOiBoZWxk\nTG9ja3MuZW50cnlTZXQoKSkgewogICAgICAgICAgICAgICAgemtjLmRlbGV0\nZShlLmdldFZhbHVlKCkuZ2V0TG9ja1pOb2RlKCksIC0xKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbi5Ob05vZGVF\neGNlcHRpb24gbm5lKSB7CiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2sKICAg\nICAgICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24ga2UpIHsKICAgICAgICAg\nICAgTE9HLmVycm9yKCJFcnJvciBkZWxldGluZyB1bmRlcnJlcGxpY2F0ZWQg\nbGVkZ2VyIGxvY2siLCBrZSk7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBs\naWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigiRXJyb3Ig\nY29udGFjdGluZyB6b29rZWVwZXIiLCBrZSk7CiAgICAgICAgfSBjYXRjaCAo\nSW50ZXJydXB0ZWRFeGNlcHRpb24gaWUpIHsKICAgICAgICAgICAgVGhyZWFk\nLmN1cnJlbnRUaHJlYWQoKS5pbnRlcnJ1cHQoKTsKICAgICAgICAgICAgdGhy\nb3cgbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0\naW9uKCJJbnRlcnJ1cHRlZCB3aGlsZSBjb25uZWN0aW5nIHpvb2tlZXBlciIs\nIGllKTsKICAgICAgICB9CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJs\naWMgdm9pZCBkaXNhYmxlTGVkZ2VyUmVwbGljYXRpb24oKQogICAgICAgICAg\nICB0aHJvd3MgUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNl\ncHRpb24gewogICAgICAgIExPRy5kZWJ1ZygiZGlzYWJsZUxlZGVnZXJSZXBs\naWNhdGlvbigpIik7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgU3RyaW5n\nIHpub2RlID0gYmFzZVBhdGggKyAnLycgKyBCb29rS2VlcGVyQ29uc3RhbnRz\nLkRJU0FCTEVfTk9ERTsKICAgICAgICAgICAgemtjLmNyZWF0ZSh6bm9kZSwg\nIiIuZ2V0Qnl0ZXMoVVRGXzgpLCBJZHMuT1BFTl9BQ0xfVU5TQUZFLCBDcmVh\ndGVNb2RlLlBFUlNJU1RFTlQpOwogICAgICAgICAgICBMT0cuaW5mbygiQXV0\nbyBsZWRnZXIgcmUtcmVwbGljYXRpb24gaXMgZGlzYWJsZWQhIik7CiAgICAg\nICAgfSBjYXRjaCAoS2VlcGVyRXhjZXB0aW9uLk5vZGVFeGlzdHNFeGNlcHRp\nb24ga2UpIHsKICAgICAgICAgICAgTE9HLndhcm4oIkF1dG9SZWNvdmVyeSBp\ncyBhbHJlYWR5IGRpc2FibGVkISIsIGtlKTsKICAgICAgICAgICAgdGhyb3cg\nbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9u\nKAogICAgICAgICAgICAgICAgICAgICJBdXRvUmVjb3ZlcnkgaXMgYWxyZWFk\neSBkaXNhYmxlZCEiLCBrZSk7CiAgICAgICAgfSBjYXRjaCAoS2VlcGVyRXhj\nZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIExPRy5lcnJvcigiRXhjZXB0aW9u\nIHdoaWxlIHN0b3BwaW5nIGF1dG8gbGVkZ2VyIHJlLXJlcGxpY2F0aW9uIiwg\na2UpOwogICAgICAgICAgICB0aHJvdyBuZXcgUmVwbGljYXRpb25FeGNlcHRp\nb24uVW5hdmFpbGFibGVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAg\nIkV4Y2VwdGlvbiB3aGlsZSBzdG9wcGluZyBhdXRvIGxlZGdlciByZS1yZXBs\naWNhdGlvbiIsIGtlKTsKICAgICAgICB9IGNhdGNoIChJbnRlcnJ1cHRlZEV4\nY2VwdGlvbiBpZSkgewogICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVh\nZCgpLmludGVycnVwdCgpOwogICAgICAgICAgICB0aHJvdyBuZXcgUmVwbGlj\nYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24oCiAgICAgICAg\nICAgICAgICAgICAgIkludGVycnVwdGVkIHdoaWxlIHN0b3BwaW5nIGF1dG8g\nbGVkZ2VyIHJlLXJlcGxpY2F0aW9uIiwgaWUpOwogICAgICAgIH0KICAgIH0K\nCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGVuYWJsZUxlZGdlclJl\ncGxpY2F0aW9uKCkKICAgICAgICAgICAgdGhyb3dzIFJlcGxpY2F0aW9uRXhj\nZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9uIHsKICAgICAgICBMT0cuZGVi\ndWcoImVuYWJsZUxlZGVnZXJSZXBsaWNhdGlvbigpIik7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgemtjLmRlbGV0ZShiYXNlUGF0aCArICcvJyArIEJv\nb2tLZWVwZXJDb25zdGFudHMuRElTQUJMRV9OT0RFLCAtMSk7CiAgICAgICAg\nICAgIExPRy5pbmZvKCJSZXN1bWluZyBhdXRvbWF0aWMgbGVkZ2VyIHJlLXJl\ncGxpY2F0aW9uIik7CiAgICAgICAgfSBjYXRjaCAoS2VlcGVyRXhjZXB0aW9u\nLk5vTm9kZUV4Y2VwdGlvbiBrZSkgewogICAgICAgICAgICBMT0cud2Fybigi\nQXV0b1JlY292ZXJ5IGlzIGFscmVhZHkgZW5hYmxlZCEiLCBrZSk7CiAgICAg\nICAgICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWls\nYWJsZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiQXV0b1JlY292\nZXJ5IGlzIGFscmVhZHkgZW5hYmxlZCEiLCBrZSk7CiAgICAgICAgfSBjYXRj\naCAoS2VlcGVyRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIExPRy5lcnJv\ncigiRXhjZXB0aW9uIHdoaWxlIHJlc3VtaW5nIGxlZGdlciByZXBsaWNhdGlv\nbiIsIGtlKTsKICAgICAgICAgICAgdGhyb3cgbmV3IFJlcGxpY2F0aW9uRXhj\nZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAg\nICAgICJFeGNlcHRpb24gd2hpbGUgcmVzdW1pbmcgYXV0byBsZWRnZXIgcmUt\ncmVwbGljYXRpb24iLCBrZSk7CiAgICAgICAgfSBjYXRjaCAoSW50ZXJydXB0\nZWRFeGNlcHRpb24gaWUpIHsKICAgICAgICAgICAgVGhyZWFkLmN1cnJlbnRU\naHJlYWQoKS5pbnRlcnJ1cHQoKTsKICAgICAgICAgICAgdGhyb3cgbmV3IFJl\ncGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9uKAogICAg\nICAgICAgICAgICAgICAgICJJbnRlcnJ1cHRlZCB3aGlsZSByZXN1bWluZyBh\ndXRvIGxlZGdlciByZS1yZXBsaWNhdGlvbiIsIGllKTsKICAgICAgICB9CiAg\nICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgYm9vbGVhbiBpc0xlZGdl\nclJlcGxpY2F0aW9uRW5hYmxlZCgpCiAgICAgICAgICAgIHRocm93cyBSZXBs\naWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbiB7CiAgICAg\nICAgTE9HLmRlYnVnKCJpc0xlZGdlclJlcGxpY2F0aW9uRW5hYmxlZCgpIik7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKG51bGwgIT0gemtjLmV4\naXN0cyhiYXNlUGF0aCArICcvJwogICAgICAgICAgICAgICAgICAgICsgQm9v\na0tlZXBlckNvbnN0YW50cy5ESVNBQkxFX05PREUsIGZhbHNlKSkgewogICAg\nICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAg\nICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4\nY2VwdGlvbiBrZSkgewogICAgICAgICAgICBMT0cuZXJyb3IoIkVycm9yIHdo\naWxlIGNoZWNraW5nIHRoZSBzdGF0ZSBvZiAiCiAgICAgICAgICAgICAgICAg\nICAgKyAibGVkZ2VyIHJlLXJlcGxpY2F0aW9uIiwga2UpOwogICAgICAgICAg\nICB0aHJvdyBuZXcgUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVF\neGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgIkVycm9yIGNvbnRhY3Rp\nbmcgem9va2VlcGVyIiwga2UpOwogICAgICAgIH0gY2F0Y2ggKEludGVycnVw\ndGVkRXhjZXB0aW9uIGllKSB7CiAgICAgICAgICAgIFRocmVhZC5jdXJyZW50\nVGhyZWFkKCkuaW50ZXJydXB0KCk7CiAgICAgICAgICAgIHRocm93IG5ldyBS\nZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigKICAg\nICAgICAgICAgICAgICAgICAiSW50ZXJydXB0ZWQgd2hpbGUgY29udGFjdGlu\nZyB6b29rZWVwZXIiLCBpZSk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVy\ncmlkZQogICAgcHVibGljIHZvaWQgbm90aWZ5TGVkZ2VyUmVwbGljYXRpb25F\nbmFibGVkKGZpbmFsIEdlbmVyaWNDYWxsYmFjazxWb2lkPiBjYikKICAgICAg\nICAgICAgdGhyb3dzIFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxl\nRXhjZXB0aW9uIHsKICAgICAgICBMT0cuZGVidWcoIm5vdGlmeUxlZGdlclJl\ncGxpY2F0aW9uRW5hYmxlZCgpIik7CiAgICAgICAgV2F0Y2hlciB3ID0gbmV3\nIFdhdGNoZXIoKSB7CiAgICAgICAgICAgIHB1YmxpYyB2b2lkIHByb2Nlc3Mo\nV2F0Y2hlZEV2ZW50IGUpIHsKICAgICAgICAgICAgICAgIGlmIChlLmdldFR5\ncGUoKSA9PSBXYXRjaGVyLkV2ZW50LkV2ZW50VHlwZS5Ob2RlRGVsZXRlZCkg\newogICAgICAgICAgICAgICAgICAgIGNiLm9wZXJhdGlvbkNvbXBsZXRlKDAs\nIG51bGwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAg\nICAgfTsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAobnVsbCA9PSB6\na2MuZXhpc3RzKGJhc2VQYXRoICsgJy8nCiAgICAgICAgICAgICAgICAgICAg\nKyBCb29rS2VlcGVyQ29uc3RhbnRzLkRJU0FCTEVfTk9ERSwgdykpIHsKICAg\nICAgICAgICAgICAgIGNiLm9wZXJhdGlvbkNvbXBsZXRlKDAsIG51bGwpOwog\nICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAg\nfSBjYXRjaCAoS2VlcGVyRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIExP\nRy5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgdGhlIHN0YXRlIG9mICIK\nICAgICAgICAgICAgICAgICAgICArICJsZWRnZXIgcmUtcmVwbGljYXRpb24i\nLCBrZSk7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2Vw\ndGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAg\nICAiRXJyb3IgY29udGFjdGluZyB6b29rZWVwZXIiLCBrZSk7CiAgICAgICAg\nfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gaWUpIHsKICAgICAgICAg\nICAgVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5pbnRlcnJ1cHQoKTsKICAgICAg\nICAgICAgdGhyb3cgbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxh\nYmxlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICJJbnRlcnJ1cHRl\nZCB3aGlsZSBjb250YWN0aW5nIHpvb2tlZXBlciIsIGllKTsKICAgICAgICB9\nCiAgICB9Cn0K\n","encoding":"base64"}

