{"sha":"cb92a0aac75fc2d87c396ceb2542e9af531474bc","node_id":"MDQ6QmxvYjE1NzU5NTY6Y2I5MmEwYWFjNzVmYzJkODdjMzk2Y2ViMjU0MmU5YWY1MzE0NzRiYw==","size":16342,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/cb92a0aac75fc2d87c396ceb2542e9af531474bc","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50OwoKLyoKICoK\nICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u\nIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vu\nc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRp\nb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNG\nIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UK\nICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAq\nIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUK\nICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFu\nZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgpp\nbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKaW1wb3J0IGphdmEubmV0Lklu\nZXRTb2NrZXRBZGRyZXNzOwppbXBvcnQgamF2YS5uaW8uQnl0ZUJ1ZmZlcjsK\naW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNvdW50RG93bkxhdGNoOwpp\nbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuVGltZVVuaXQ7CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljSW50ZWdlcjsKCmlt\ncG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuYm9va2llLkJvb2tpZTsKaW1w\nb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5ib29raWUuQm9va2llRXhjZXB0\naW9uOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVudC5Bc3lu\nY0NhbGxiYWNrLkFkZENhbGxiYWNrOwppbXBvcnQgb3JnLmFwYWNoZS5ib29r\na2VlcGVyLmNsaWVudC5Cb29rS2VlcGVyLkRpZ2VzdFR5cGU7CmltcG9ydCBv\ncmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZi5TZXJ2ZXJDb25maWd1cmF0aW9u\nOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnByb3RvLkJvb2trZWVw\nZXJJbnRlcm5hbENhbGxiYWNrcy5Xcml0ZUNhbGxiYWNrOwppbXBvcnQgb3Jn\nLmFwYWNoZS5ib29ra2VlcGVyLnRlc3QuQmFzZVRlc3RDYXNlOwppbXBvcnQg\nb3JnLmp1bml0LlRlc3Q7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyOwppbXBv\ncnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rvcnk7CgovKioKICogVGhpcyB1bml0\nIHRlc3QgdGVzdHMgbGVkZ2VyIHJlY292ZXJ5LgogKgogKi8KCnB1YmxpYyBj\nbGFzcyBMZWRnZXJSZWNvdmVyeVRlc3QgZXh0ZW5kcyBCYXNlVGVzdENhc2Ug\newogICAgc3RhdGljIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5LmdldExv\nZ2dlcihMZWRnZXJSZWNvdmVyeVRlc3QuY2xhc3MpOwoKICAgIERpZ2VzdFR5\ncGUgZGlnZXN0VHlwZTsKCiAgICBwdWJsaWMgTGVkZ2VyUmVjb3ZlcnlUZXN0\nKERpZ2VzdFR5cGUgZGlnZXN0VHlwZSkgewogICAgICAgIHN1cGVyKDMpOwog\nICAgICAgIHRoaXMuZGlnZXN0VHlwZSA9IGRpZ2VzdFR5cGU7CiAgICB9Cgog\nICAgcHJpdmF0ZSB2b2lkIHRlc3RJbnRlcm5hbChpbnQgbnVtRW50cmllcykg\ndGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgLyoKICAgICAgICAgKiBDcmVh\ndGUgbGVkZ2VyLgogICAgICAgICAqLwogICAgICAgIExlZGdlckhhbmRsZSBi\nZWZvcmVsaCA9IG51bGw7CiAgICAgICAgYmVmb3JlbGggPSBia2MuY3JlYXRl\nTGVkZ2VyKGRpZ2VzdFR5cGUsICIiLmdldEJ5dGVzKCkpOwoKICAgICAgICBT\ndHJpbmcgdG1wID0gIkJvb2tLZWVwZXIgaXMgY29vbCEiOwogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgbnVtRW50cmllczsgaSsrKSB7CiAgICAgICAg\nICAgIGJlZm9yZWxoLmFkZEVudHJ5KHRtcC5nZXRCeXRlcygpKTsKICAgICAg\nICB9CgogICAgICAgIGxvbmcgbGVuZ3RoID0gKGxvbmcpIChudW1FbnRyaWVz\nICogdG1wLmxlbmd0aCgpKTsKCiAgICAgICAgLyoKICAgICAgICAgKiBUcnkg\ndG8gb3BlbiBsZWRnZXIuCiAgICAgICAgICovCiAgICAgICAgTGVkZ2VySGFu\nZGxlIGFmdGVybGggPSBia2Mub3BlbkxlZGdlcihiZWZvcmVsaC5nZXRJZCgp\nLCBkaWdlc3RUeXBlLCAiIi5nZXRCeXRlcygpKTsKCiAgICAgICAgLyoKICAg\nICAgICAgKiBDaGVjayBpZiBoYXMgcmVjb3ZlcmVkIHByb3Blcmx5LgogICAg\nICAgICAqLwogICAgICAgIGFzc2VydFRydWUoIkhhcyBub3QgcmVjb3ZlcmVk\nIGNvcnJlY3RseTogIiArIGFmdGVybGguZ2V0TGFzdEFkZENvbmZpcm1lZCgp\nLAogICAgICAgICAgICAgICAgICAgYWZ0ZXJsaC5nZXRMYXN0QWRkQ29uZmly\nbWVkKCkgPT0gbnVtRW50cmllcyAtIDEpOwogICAgICAgIGFzc2VydFRydWUo\nIkhhcyBub3Qgc2V0IHRoZSBsZW5ndGggY29ycmVjdGx5OiAiICsgYWZ0ZXJs\naC5nZXRMZW5ndGgoKSArICIsICIgKyBsZW5ndGgsCiAgICAgICAgICAgICAg\nICAgICBhZnRlcmxoLmdldExlbmd0aCgpID09IGxlbmd0aCk7CiAgICB9Cgog\nICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lkIHRlc3RM\nZWRnZXJSZWNvdmVyeSgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHRl\nc3RJbnRlcm5hbCgxMDApOwoKICAgIH0KCiAgICBAVGVzdCh0aW1lb3V0PTYw\nMDAwKQogICAgcHVibGljIHZvaWQgdGVzdEVtcHR5TGVkZ2VyUmVjb3ZlcnlP\nbmUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICB0ZXN0SW50ZXJuYWwo\nMSk7CiAgICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RFbXB0eUxlZGdlclJlY292ZXJ5KCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdGVzdEludGVybmFsKDApOwogICAgfQoKICAgIEBU\nZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9pZCB0ZXN0TGVkZ2Vy\nUmVjb3ZlcnlXaXRoV3JvbmdQYXNzd29yZCgpIHRocm93cyBFeGNlcHRpb24g\newogICAgICAgIC8vIENyZWF0ZSBhIGxlZGdlcgogICAgICAgIGJ5dGVbXSBs\nZWRnZXJQYXNzd29yZCA9ICJhYWFhIi5nZXRCeXRlcygpOwogICAgICAgIExl\nZGdlckhhbmRsZSBsaCA9IGJrYy5jcmVhdGVMZWRnZXIoZGlnZXN0VHlwZSwg\nbGVkZ2VyUGFzc3dvcmQpOwogICAgICAgIC8vIGJrYy5pbml0TWVzc2FnZURp\nZ2VzdCgiU0hBMSIpOwogICAgICAgIGxvbmcgbGVkZ2VySWQgPSBsaC5nZXRJ\nZCgpOwogICAgICAgIExPRy5pbmZvKCJMZWRnZXIgSUQ6ICIgKyBsaC5nZXRJ\nZCgpKTsKICAgICAgICBTdHJpbmcgdG1wID0gIkJvb2tLZWVwZXIgaXMgY29v\nbCEiOwogICAgICAgIGludCBudW1FbnRyaWVzID0gMzA7CiAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCBudW1FbnRyaWVzOyBpKyspIHsKICAgICAgICAg\nICAgbGguYWRkRW50cnkodG1wLmdldEJ5dGVzKCkpOwogICAgICAgIH0KCiAg\nICAgICAgLy8gVXNpbmcgd3JvbmcgcGFzc3dvcmQKICAgICAgICBsZWRnZXJQ\nYXNzd29yZCA9ICJiYmJiIi5nZXRCeXRlcygpOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIGxoID0gYmtjLm9wZW5MZWRnZXIobGVkZ2VySWQsIGRpZ2Vz\ndFR5cGUsIGxlZGdlclBhc3N3b3JkKTsKICAgICAgICAgICAgZmFpbCgiT3Bl\nbmluZyBsZWRnZXIgd2l0aCB3cm9uZyBwYXNzd29yZCBzaG91bGQgZmFpbCIp\nOwogICAgICAgIH0gY2F0Y2ggKEJLRXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgLy8gc2hvdWxkIGZhaWxlZAogICAgICAgIH0KICAgIH0KCiAgICBAVGVz\ndCh0aW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQgdGVzdExlZGdlclJl\nY292ZXJ5V2l0aE5vdEVub3VnaEJvb2tpZXMoKSB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICBpbnQgbnVtRW50cmllcyA9IDM7CgogICAgICAgIC8vIENy\nZWF0ZSBhIGxlZGdlcgogICAgICAgIExlZGdlckhhbmRsZSBiZWZvcmVsaCA9\nIG51bGw7CiAgICAgICAgYmVmb3JlbGggPSBia2MuY3JlYXRlTGVkZ2VyKDMs\nIDMsIGRpZ2VzdFR5cGUsICIiLmdldEJ5dGVzKCkpOwoKICAgICAgICBTdHJp\nbmcgdG1wID0gIkJvb2tLZWVwZXIgaXMgY29vbCEiOwogICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgbnVtRW50cmllczsgaSsrKSB7CiAgICAgICAgICAg\nIGJlZm9yZWxoLmFkZEVudHJ5KHRtcC5nZXRCeXRlcygpKTsKICAgICAgICB9\nCgogICAgICAgIC8vIHNodXRkb3duIGZpcnN0IGJvb2tpZSBzZXJ2ZXIKICAg\nICAgICBicy5nZXQoMCkuc2h1dGRvd24oKTsKICAgICAgICBicy5yZW1vdmUo\nMCk7CgogICAgICAgIC8qCiAgICAgICAgICogVHJ5IHRvIG9wZW4gbGVkZ2Vy\nLgogICAgICAgICAqLwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGJrYy5v\ncGVuTGVkZ2VyKGJlZm9yZWxoLmdldElkKCksIGRpZ2VzdFR5cGUsICIiLmdl\ndEJ5dGVzKCkpOwogICAgICAgICAgICBmYWlsKCJzaG91bGQgbm90IHJlYWNo\nIGhlcmUhIik7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAg\nICAgICAgICAgLy8gc2hvdWxkIHRocm93biByZWNvdmVyeSBleGNlcHRpb24K\nICAgICAgICB9CgogICAgICAgIC8vIHN0YXJ0IGEgbmV3IGJvb2tpZSBzZXJ2\nZXIKICAgICAgICBzdGFydE5ld0Jvb2tpZSgpOwoKICAgICAgICBMZWRnZXJI\nYW5kbGUgYWZ0ZXJsaCA9IGJrYy5vcGVuTGVkZ2VyKGJlZm9yZWxoLmdldElk\nKCksIGRpZ2VzdFR5cGUsICIiLmdldEJ5dGVzKCkpOwoKICAgICAgICAvKgog\nICAgICAgICAqIENoZWNrIGlmIGhhcyByZWNvdmVyZWQgcHJvcGVybHkuCiAg\nICAgICAgICovCiAgICAgICAgYXNzZXJ0RXF1YWxzKG51bUVudHJpZXMgLSAx\nLCBhZnRlcmxoLmdldExhc3RBZGRDb25maXJtZWQoKSk7CiAgICB9CgogICAg\nQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lkIHRlc3RMZWRn\nZXJSZWNvdmVyeVdpdGhTbG93Qm9va2llKCkgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAg\nICAgICAgTE9HLmluZm8oIlRlc3RMZWRnZXJSZWNvdmVyeVdpdGhBY2tRdW9y\ndW0gQCBzbG93IGJvb2tpZSB7fSIsIGkpOwogICAgICAgICAgICBsZWRnZXJS\nZWNvdmVyeVdpdGhTbG93Qm9va2llKDMsIDMsIDIsIDEsIGkpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwcml2YXRlIHZvaWQgbGVkZ2VyUmVjb3ZlcnlXaXRo\nU2xvd0Jvb2tpZShpbnQgZW5zZW1ibGVTaXplLCBpbnQgd3JpdGVRdW9ydW1T\naXplLAogICAgICAgIGludCBhY2tRdW9ydW1TaXplLCBpbnQgbnVtRW50cmll\ncywgaW50IHNsb3dCb29raWVJZHgpIHRocm93cyBFeGNlcHRpb24gewoKICAg\nICAgICAvLyBDcmVhdGUgYSBsZWRnZXIKICAgICAgICBMZWRnZXJIYW5kbGUg\nYmVmb3JlbGggPSBudWxsOwogICAgICAgIGJlZm9yZWxoID0gYmtjLmNyZWF0\nZUxlZGdlcihlbnNlbWJsZVNpemUsIHdyaXRlUXVvcnVtU2l6ZSwgYWNrUXVv\ncnVtU2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nZGlnZXN0VHlwZSwgIiIuZ2V0Qnl0ZXMoKSk7CgogICAgICAgIC8vIGtpbGwg\nZmlyc3QgYm9va2llIHNlcnZlciB0byBzdGFydCBhIGZha2Ugb25lIHRvIHNp\nbXVsYXRlIGEgc2xvdyBib29raWUKICAgICAgICAvLyBhbmQgZmFpbGVkIHRv\nIGFkZCBlbnRyeSBvbiBjcmFzaAogICAgICAgIC8vIHVudGlsIHdyaXRlIHN1\nY2NlZWQKICAgICAgICBJbmV0U29ja2V0QWRkcmVzcyBob3N0ID0gYmVmb3Jl\nbGguZ2V0TGVkZ2VyTWV0YWRhdGEoKS5jdXJyZW50RW5zZW1ibGUuZ2V0KHNs\nb3dCb29raWVJZHgpOwogICAgICAgIFNlcnZlckNvbmZpZ3VyYXRpb24gY29u\nZiA9IGtpbGxCb29raWUoaG9zdCk7CgogICAgICAgIEJvb2tpZSBmYWtlQm9v\na2llID0gbmV3IEJvb2tpZShjb25mKSB7CiAgICAgICAgICAgIEBPdmVycmlk\nZQogICAgICAgICAgICBwdWJsaWMgdm9pZCBhZGRFbnRyeShCeXRlQnVmZmVy\nIGVudHJ5LCBXcml0ZUNhbGxiYWNrIGNiLCBPYmplY3QgY3R4LCBieXRlW10g\nbWFzdGVyS2V5KQogICAgICAgICAgICAgICAgICAgIHRocm93cyBJT0V4Y2Vw\ndGlvbiwgQm9va2llRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIC8vIGRy\nb3AgcmVxdWVzdCB0byBzaW11bGF0ZSBhIHNsb3cgYW5kIGZhaWxlZCBib29r\naWUKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYnNDb25mcy5h\nZGQoY29uZik7CiAgICAgICAgYnMuYWRkKHN0YXJ0Qm9va2llKGNvbmYsIGZh\na2VCb29raWUpKTsKCiAgICAgICAgLy8gYXZvaWQgbm90LWVub3VnaC1ib29r\naWVzIGNhc2UKICAgICAgICBzdGFydE5ld0Jvb2tpZSgpOwoKICAgICAgICAv\nLyB3cml0ZSB3b3VsZCBzdGlsbCBzdWNjZWVkIHdpdGggMiBib29raWVzIGFj\nawogICAgICAgIFN0cmluZyB0bXAgPSAiQm9va0tlZXBlciBpcyBjb29sISI7\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBudW1FbnRyaWVzOyBpKysp\nIHsKICAgICAgICAgICAgYmVmb3JlbGguYWRkRW50cnkodG1wLmdldEJ5dGVz\nKCkpOwogICAgICAgIH0KCiAgICAgICAgY29uZiA9IGtpbGxCb29raWUoaG9z\ndCk7CiAgICAgICAgYnNDb25mcy5hZGQoY29uZik7CiAgICAgICAgLy8gdGhl\nIGJvb2tpZSBnb2VzIG5vcm1hbGx5CiAgICAgICAgYnMuYWRkKHN0YXJ0Qm9v\na2llKGNvbmYpKTsKCiAgICAgICAgLyoKICAgICAgICAgKiBUcnkgdG8gb3Bl\nbiBsZWRnZXIuCiAgICAgICAgICovCiAgICAgICAgTGVkZ2VySGFuZGxlIGFm\ndGVybGggPSBia2Mub3BlbkxlZGdlcihiZWZvcmVsaC5nZXRJZCgpLCBkaWdl\nc3RUeXBlLCAiIi5nZXRCeXRlcygpKTsKCiAgICAgICAgLyoKICAgICAgICAg\nKiBDaGVjayBpZiBoYXMgcmVjb3ZlcmVkIHByb3Blcmx5LgogICAgICAgICAq\nLwogICAgICAgIGFzc2VydEVxdWFscyhudW1FbnRyaWVzIC0gMSwgYWZ0ZXJs\naC5nZXRMYXN0QWRkQ29uZmlybWVkKCkpOwogICAgfQoKICAgIC8qKgogICAg\nICoge0BsaW5rIGh0dHBzOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93\nc2UvQk9PS0tFRVBFUi0zNTV9CiAgICAgKiBBIHJlY292ZXJ5IGR1cmluZyBh\nIHJvbGxpbmcgcmVzdGFydCBzaG91bGRuJ3QgYWZmZWN0IHRoZSBhYmlsaXR5\nCiAgICAgKiB0byByZWNvdmVyeSB0aGUgbGVkZ2VyIGxhdGVyLgogICAgICog\nV2UgaGF2ZSBhIGxlZGdlciBvbiBlbnNlbWJsZSBCMSxCMixCMy4KICAgICAq\nIFRoZSBzZXF1ZW5jZSBvZiBldmVudHMgaXMKICAgICAqIDEuIEIxIGJyb3Vn\naHQgZG93biBmb3IgbWFpbnRlbmFuY2UKICAgICAqIDIuIExlZGdlciByZWNv\ndmVyeSBzdGFydGVkCiAgICAgKiAzLiBCMiBhbnN3ZXJzIHJlYWQgbGFzdCBj\nb25maXJtZWQuCiAgICAgKiA0LiBCMSByZXBsYWNlZCBpbiBlbnNlbWJsZSBi\neSBCNAogICAgICogNS4gV3JpdGUgdG8gQjQgZmFpbHMgZm9yIHNvbWUgcmVh\nc29uCiAgICAgKiA2LiBCMSBjb21lcyBiYWNrIHVwLgogICAgICogNy4gQjIg\nZ29lcyBkb3duIGZvciBtYWludGVuYW5jZS4KICAgICAqIDguIExlZGdlciBy\nZWNvdmVyeSBzdGFydHMgKGxlZGdlciBpcyBub3cgdW5hdmFpbGFibGUpCiAg\nICAgKi8KICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0TGVkZ2VyUmVjb3ZlcnlXaXRoUm9sbGluZ1Jlc3RhcnQoKSB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICBMZWRnZXJIYW5kbGUgbGhiZWZvcmUg\nPSBia2MuY3JlYXRlTGVkZ2VyKG51bUJvb2tpZXMsIDIsIGRpZ2VzdFR5cGUs\nICIiLmdldEJ5dGVzKCkpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\nKG51bUJvb2tpZXMqMykrMTsgaSsrKSB7CiAgICAgICAgICAgIGxoYmVmb3Jl\nLmFkZEVudHJ5KCJkYXRhIi5nZXRCeXRlcygpKTsKICAgICAgICB9CgogICAg\nICAgIC8vIEFkZCBhIGRlYWQgYm9va2llIHRvIHRoZSBjbHVzdGVyCiAgICAg\nICAgU2VydmVyQ29uZmlndXJhdGlvbiBjb25mID0gbmV3U2VydmVyQ29uZmln\ndXJhdGlvbigpOwogICAgICAgIEJvb2tpZSBkZWFkQm9va2llMSA9IG5ldyBC\nb29raWUoY29uZikgewogICAgICAgICAgICBAT3ZlcnJpZGUKICAgICAgICAg\nICAgcHVibGljIHZvaWQgcmVjb3ZlcnlBZGRFbnRyeShCeXRlQnVmZmVyIGVu\ndHJ5LCBXcml0ZUNhbGxiYWNrIGNiLCBPYmplY3QgY3R4LCBieXRlW10gbWFz\ndGVyS2V5KQogICAgICAgICAgICAgICAgICAgIHRocm93cyBJT0V4Y2VwdGlv\nbiwgQm9va2llRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIC8vIGRyb3Ag\ncmVxdWVzdCB0byBzaW11bGF0ZSBhIHNsb3cgYW5kIGZhaWxlZCBib29raWUK\nICAgICAgICAgICAgICAgIHRocm93IG5ldyBJT0V4Y2VwdGlvbigiQ291bGRu\nJ3Qgd3JpdGUgZm9yIHNvbWUgcmVhc29uIik7CiAgICAgICAgICAgIH0KICAg\nICAgICB9OwogICAgICAgIGJzQ29uZnMuYWRkKGNvbmYpOwogICAgICAgIGJz\nLmFkZChzdGFydEJvb2tpZShjb25mLCBkZWFkQm9va2llMSkpOwoKICAgICAg\nICAvLyBraWxsIGZpcnN0IGJvb2tpZSBzZXJ2ZXIKICAgICAgICBJbmV0U29j\na2V0QWRkcmVzcyBib29raWUxID0gbGhiZWZvcmUuZ2V0TGVkZ2VyTWV0YWRh\ndGEoKS5jdXJyZW50RW5zZW1ibGUuZ2V0KDApOwogICAgICAgIFNlcnZlckNv\nbmZpZ3VyYXRpb24gY29uZjEgPSBraWxsQm9va2llKGJvb2tpZTEpOwoKICAg\nICAgICAvLyBUcnkgdG8gcmVjb3ZlciBhbmQgZmVuY2UgdGhlIGxlZGdlciBh\nZnRlciBraWxsaW5nIG9uZSBib29raWUgaW4gdGhlCiAgICAgICAgLy8gZW5z\nZW1ibGUgaW4gdGhlIGVuc2VtYmxlLCBhbmQgYW5vdGhlciBib29raWUgaXMg\nYXZhaWxhYmxlIGluIHprLCBidXQgbm90IHdyaXR0YWJsZQogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIGJrYy5vcGVuTGVkZ2VyKGxoYmVmb3JlLmdldElk\nKCksIGRpZ2VzdFR5cGUsICIiLmdldEJ5dGVzKCkpOwogICAgICAgICAgICBm\nYWlsKCJTaG91bGRuJ3QgYmUgYWJsZSB0byBvcGVuIGxlZGdlciwgdGhlcmUg\nc2hvdWxkIGJlIGVudHJpZXMgbWlzc2luZyIpOwogICAgICAgIH0gY2F0Y2gg\nKEJLRXhjZXB0aW9uLkJLTGVkZ2VyUmVjb3ZlcnlFeGNlcHRpb24gZSkgewog\nICAgICAgICAgICAvLyBleHBlY3RlZAogICAgICAgIH0KCiAgICAgICAgLy8g\ncmVzdGFydCB0aGUgZmlyc3Qgc2VydmVyLCBraWxsIHRoZSBzZWNvbmQKICAg\nICAgICBic0NvbmZzLmFkZChjb25mMSk7CiAgICAgICAgYnMuYWRkKHN0YXJ0\nQm9va2llKGNvbmYxKSk7CiAgICAgICAgSW5ldFNvY2tldEFkZHJlc3MgYm9v\na2llMiA9IGxoYmVmb3JlLmdldExlZGdlck1ldGFkYXRhKCkuY3VycmVudEVu\nc2VtYmxlLmdldCgxKTsKICAgICAgICBTZXJ2ZXJDb25maWd1cmF0aW9uIGNv\nbmYyID0ga2lsbEJvb2tpZShib29raWUyKTsKCiAgICAgICAgLy8gdXNpbmcg\nYXN5bmMsIGJlY2F1c2UgdGhpcyBjb3VsZCB0cmlnZ2VyIGFuIGFzc2VydGlv\nbgogICAgICAgIGZpbmFsIEF0b21pY0ludGVnZXIgcmV0dXJuQ29kZSA9IG5l\ndyBBdG9taWNJbnRlZ2VyKDApOwogICAgICAgIGZpbmFsIENvdW50RG93bkxh\ndGNoIG9wZW5MYXRjaCA9IG5ldyBDb3VudERvd25MYXRjaCgxKTsKICAgICAg\nICBia2MuYXN5bmNPcGVuTGVkZ2VyKGxoYmVmb3JlLmdldElkKCksIGRpZ2Vz\ndFR5cGUsICIiLmdldEJ5dGVzKCksCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBuZXcgQXN5bmNDYWxsYmFjay5PcGVuQ2FsbGJhY2soKSB7CiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgb3BlbkNv\nbXBsZXRlKGludCByYywgTGVkZ2VySGFuZGxlIGxoLCBPYmplY3QgY3R4KSB7\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkNv\nZGUuc2V0KHJjKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgb3BlbkxhdGNoLmNvdW50RG93bigpOwogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBpZiAocmMgIT0gQktFeGNlcHRpb24uQ29kZS5P\nSykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBsaC5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMT0cuZXJyb3Io\nIkV4Y2VwdGlvbiBjbG9zaW5nIGxlZGdlciBoYW5kbGUiLCBlKTsKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIH0sIG51bGwpOwogICAgICAgIGFzc2VydFRydWUoIk9wZW4gY2FsbCBzaG91\nbGQgaGF2ZSBjb21wbGV0ZWQiLCBvcGVuTGF0Y2guYXdhaXQoNSwgVGltZVVu\naXQuU0VDT05EUykpOwogICAgICAgIGFzc2VydEZhbHNlKCJPcGVuIHNob3Vs\nZCBub3QgaGF2ZSBzdWNjZWVkZWQiLCByZXR1cm5Db2RlLmdldCgpID09IEJL\nRXhjZXB0aW9uLkNvZGUuT0spOwoKICAgICAgICBic0NvbmZzLmFkZChjb25m\nMik7CiAgICAgICAgYnMuYWRkKHN0YXJ0Qm9va2llKGNvbmYyKSk7CgogICAg\nICAgIExlZGdlckhhbmRsZSBsaGFmdGVyID0gYmtjLm9wZW5MZWRnZXIobGhi\nZWZvcmUuZ2V0SWQoKSwgZGlnZXN0VHlwZSwKICAgICAgICAgICAgICAgICIi\nLmdldEJ5dGVzKCkpOwogICAgICAgIGFzc2VydEVxdWFscygiRmVuY2VkIGxl\nZGdlciBzaG91bGQgaGF2ZSBjb3JyZWN0IGxhc3RBZGRDb25maXJtZWQiLAog\nICAgICAgICAgICAgICAgICAgICBsaGJlZm9yZS5nZXRMYXN0QWRkQ29uZmly\nbWVkKCksIGxoYWZ0ZXIuZ2V0TGFzdEFkZENvbmZpcm1lZCgpKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIHtAbGluayBodHRwczovL2lzc3Vlcy5hcGFjaGUu\nb3JnL2ppcmEvYnJvd3NlL0JPT0tLRUVQRVItMzU1fQogICAgICogVmVyaWZ5\nIHRoYXQgaWYgYSByZWNvdmVyeSBoYXBwZW5zIHdpdGggMSByZXBsaWNhIG1p\nc3NpbmcsIGFuZCBpdCdzIHJlcGxhY2VkCiAgICAgKiB3aXRoIGEgZmF1bHR5\nIGJvb2tpZSwgaXQgZG9lc24ndCBicmVhayBmdXR1cmUgcmVjb3ZlcnkgZnJv\nbSBoYXBwZW5pbmcuCiAgICAgKiAxLiBMZWRnZXIgaXMgY3JlYXRlZCB3aXRo\nIHF1b3J1bSBzaXplIGFzIDIsIGFuZCBlbnRyaWVzIGFyZSB3cml0dGVuCiAg\nICAgKiAyLiBOb3cgZmlyc3QgYm9va2llIGlzIGluIHRoZSBlbnNlbWJsZSBp\ncyBicm91Z2h0IGRvd24uCiAgICAgKiAzLiBBbm90aGVyIGNsaWVudCBmZW5j\nZSBhbmQgdHJ5aW5nIHRvIHJlY292ZXIgdGhlIHNhbWUgbGVkZ2VyCiAgICAg\nKiA0LiBEdXJpbmcgdGhpcyB0aW1lIGVuc2VtYmxlIGNoYW5nZSB3aWxsIGhh\ncHBlbgogICAgICogICAgYW5kIG5ldyBib29raWUgd2lsbCBiZSBhZGRlZC4g\nQnV0IHRoaXMgYm9va2llIGlzIG5vdCBhYmxlIHRvIHdyaXRlLgogICAgICog\nNS4gVGhpcyByZWNvdmVyeSB3aWxsIGZhaWwuCiAgICAgKiA3LiBBIG5ldyBu\nb24tZmF1bHR5IGJvb2tpZSBjb21lcyB1cAogICAgICogOC4gQW5vdGhlciBj\nbGllbnQgdHJ5aW5nIHRvIHJlY292ZXIgdGhlIHNhbWUgbGVkZ2VyLgogICAg\nICovCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQg\ndGVzdEJvb2tpZUZhaWx1cmVEdXJpbmdSZWNvdmVyeSgpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIExlZGdlckhhbmRsZSBsaGJlZm9yZSA9IGJrYy5j\ncmVhdGVMZWRnZXIobnVtQm9va2llcywgMiwgZGlnZXN0VHlwZSwgIiIuZ2V0\nQnl0ZXMoKSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAobnVtQm9v\na2llcyozKSsxOyBpKyspIHsKICAgICAgICAgICAgbGhiZWZvcmUuYWRkRW50\ncnkoImRhdGEiLmdldEJ5dGVzKCkpOwogICAgICAgIH0KCiAgICAgICAgLy8g\nQWRkIGEgZGVhZCBib29raWUgdG8gdGhlIGNsdXN0ZXIKICAgICAgICBTZXJ2\nZXJDb25maWd1cmF0aW9uIGNvbmYgPSBuZXdTZXJ2ZXJDb25maWd1cmF0aW9u\nKCk7CiAgICAgICAgQm9va2llIGRlYWRCb29raWUxID0gbmV3IEJvb2tpZShj\nb25mKSB7CiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICBwdWJs\naWMgdm9pZCByZWNvdmVyeUFkZEVudHJ5KEJ5dGVCdWZmZXIgZW50cnksIFdy\naXRlQ2FsbGJhY2sgY2IsIE9iamVjdCBjdHgsIGJ5dGVbXSBtYXN0ZXJLZXkp\nCiAgICAgICAgICAgICAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uLCBCb29r\naWVFeGNlcHRpb24gewogICAgICAgICAgICAgICAgLy8gZHJvcCByZXF1ZXN0\nIHRvIHNpbXVsYXRlIGEgc2xvdyBhbmQgZmFpbGVkIGJvb2tpZQogICAgICAg\nICAgICAgICAgdGhyb3cgbmV3IElPRXhjZXB0aW9uKCJDb3VsZG4ndCB3cml0\nZSBmb3Igc29tZSByZWFzb24iKTsKICAgICAgICAgICAgfQogICAgICAgIH07\nCiAgICAgICAgYnNDb25mcy5hZGQoY29uZik7CiAgICAgICAgYnMuYWRkKHN0\nYXJ0Qm9va2llKGNvbmYsIGRlYWRCb29raWUxKSk7CgogICAgICAgIC8vIGtp\nbGwgZmlyc3QgYm9va2llIHNlcnZlcgogICAgICAgIEluZXRTb2NrZXRBZGRy\nZXNzIGJvb2tpZTEgPSBsaGJlZm9yZS5nZXRMZWRnZXJNZXRhZGF0YSgpLmN1\ncnJlbnRFbnNlbWJsZS5nZXQoMCk7CiAgICAgICAgU2VydmVyQ29uZmlndXJh\ndGlvbiBjb25mMSA9IGtpbGxCb29raWUoYm9va2llMSk7CgogICAgICAgIC8v\nIFRyeSB0byByZWNvdmVyIGFuZCBmZW5jZSB0aGUgbGVkZ2VyIGFmdGVyIGtp\nbGxpbmcgb25lIGJvb2tpZSBpbiB0aGUKICAgICAgICAvLyBlbnNlbWJsZSBp\nbiB0aGUgZW5zZW1ibGUsIGFuZCBhbm90aGVyIGJvb2tpZSBpcyBhdmFpbGFi\nbGUgaW4gemsgYnV0IG5vdCB3cml0dGFibGUKICAgICAgICB0cnkgewogICAg\nICAgICAgICBia2Mub3BlbkxlZGdlcihsaGJlZm9yZS5nZXRJZCgpLCBkaWdl\nc3RUeXBlLCAiIi5nZXRCeXRlcygpKTsKICAgICAgICAgICAgZmFpbCgiU2hv\ndWxkbid0IGJlIGFibGUgdG8gb3BlbiBsZWRnZXIsIHRoZXJlIHNob3VsZCBi\nZSBlbnRyaWVzIG1pc3NpbmciKTsKICAgICAgICB9IGNhdGNoIChCS0V4Y2Vw\ndGlvbi5CS0xlZGdlclJlY292ZXJ5RXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgLy8gZXhwZWN0ZWQKICAgICAgICB9CgogICAgICAgIC8vIHN0YXJ0IGEg\nbmV3IGdvb2Qgc2VydmVyCiAgICAgICAgc3RhcnROZXdCb29raWUoKTsKCiAg\nICAgICAgTGVkZ2VySGFuZGxlIGxoYWZ0ZXIgPSBia2Mub3BlbkxlZGdlcihs\naGJlZm9yZS5nZXRJZCgpLCBkaWdlc3RUeXBlLAogICAgICAgICAgICAgICAg\nIiIuZ2V0Qnl0ZXMoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJGZW5jZWQg\nbGVkZ2VyIHNob3VsZCBoYXZlIGNvcnJlY3QgbGFzdEFkZENvbmZpcm1lZCIs\nCiAgICAgICAgICAgICAgICAgICAgIGxoYmVmb3JlLmdldExhc3RBZGRDb25m\naXJtZWQoKSwgbGhhZnRlci5nZXRMYXN0QWRkQ29uZmlybWVkKCkpOwogICAg\nfQoKICAgIC8qKgogICAgICogVmVyaWZ5IHRoYXQgaXQgZG9lc24ndCBicmVh\nayB0aGUgcmVjb3Zlcnkgd2hlbiBjaGFuZ2luZyBlbnNlbWJsZSBpbgogICAg\nICogcmVjb3ZlcnkgYWRkLgogICAgICovCiAgICBAVGVzdCh0aW1lb3V0ID0g\nNjAwMDApCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW5zZW1ibGVDaGFuZ2VEdXJp\nbmdSZWNvdmVyeSgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIExlZGdl\nckhhbmRsZSBsaCA9IGJrYy5jcmVhdGVMZWRnZXIobnVtQm9va2llcywgMiwg\nMiwgZGlnZXN0VHlwZSwgIiIuZ2V0Qnl0ZXMoKSk7CiAgICAgICAgaW50IG51\nbUVudHJpZXMgPSAobnVtQm9va2llcyAqIDMpICsgMTsKICAgICAgICBmaW5h\nbCBBdG9taWNJbnRlZ2VyIG51bVBlbmRpbmdBZGRzID0gbmV3IEF0b21pY0lu\ndGVnZXIobnVtRW50cmllcyk7CiAgICAgICAgZmluYWwgQ291bnREb3duTGF0\nY2ggYWRkRG9uZSA9IG5ldyBDb3VudERvd25MYXRjaCgxKTsKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IG51bUVudHJpZXM7IGkrKykgewogICAgICAg\nICAgICBsaC5hc3luY0FkZEVudHJ5KCJkYXRhIi5nZXRCeXRlcygpLCBuZXcg\nQWRkQ2FsbGJhY2soKSB7CgogICAgICAgICAgICAgICAgQE92ZXJyaWRlCiAg\nICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBhZGRDb21wbGV0ZShpbnQgcmMs\nIExlZGdlckhhbmRsZSBsaCwgbG9uZyBlbnRyeUlkLCBPYmplY3QgY3R4KSB7\nCiAgICAgICAgICAgICAgICAgICAgaWYgKEJLRXhjZXB0aW9uLkNvZGUuT0sg\nIT0gcmMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWRkRG9uZS5jb3Vu\ndERvd24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAg\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobnVt\nUGVuZGluZ0FkZHMuZGVjcmVtZW50QW5kR2V0KCkgPT0gMCkgewogICAgICAg\nICAgICAgICAgICAgICAgICBhZGREb25lLmNvdW50RG93bigpOwogICAgICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAg\nIH0sIG51bGwpOwogICAgICAgIH0KICAgICAgICBhZGREb25lLmF3YWl0KDEw\nLCBUaW1lVW5pdC5TRUNPTkRTKTsKICAgICAgICBpZiAobnVtUGVuZGluZ0Fk\nZHMuZ2V0KCkgPiAwKSB7CiAgICAgICAgICAgIGZhaWwoIkZhaWxlZCB0byBh\nZGQgIiArIG51bUVudHJpZXMgKyAiIHRvIGxlZGdlciBoYW5kbGUgIiArIGxo\nLmdldElkKCkpOwogICAgICAgIH0KICAgICAgICAvLyBraWxsIGZpcnN0IDIg\nYm9va2llcyB0byByZXBsYWNlIGJvb2tpZXMKICAgICAgICBJbmV0U29ja2V0\nQWRkcmVzcyBib29raWUxID0gbGguZ2V0TGVkZ2VyTWV0YWRhdGEoKS5jdXJy\nZW50RW5zZW1ibGUuZ2V0KDApOwogICAgICAgIFNlcnZlckNvbmZpZ3VyYXRp\nb24gY29uZjEgPSBraWxsQm9va2llKGJvb2tpZTEpOwogICAgICAgIEluZXRT\nb2NrZXRBZGRyZXNzIGJvb2tpZTIgPSBsaC5nZXRMZWRnZXJNZXRhZGF0YSgp\nLmN1cnJlbnRFbnNlbWJsZS5nZXQoMSk7CiAgICAgICAgU2VydmVyQ29uZmln\ndXJhdGlvbiBjb25mMiA9IGtpbGxCb29raWUoYm9va2llMik7CgogICAgICAg\nIC8vIHJlcGxhY2UgdGhlc2UgdHdvIGJvb2tpZXMKICAgICAgICBzdGFydERl\nYWRCb29raWUoY29uZjEpOwogICAgICAgIHN0YXJ0RGVhZEJvb2tpZShjb25m\nMik7CiAgICAgICAgLy8ga2ljayBpbiB0d28gYnJhbmQgbmV3IGJvb2tpZXMK\nICAgICAgICBzdGFydE5ld0Jvb2tpZSgpOwogICAgICAgIHN0YXJ0TmV3Qm9v\na2llKCk7CgogICAgICAgIC8vIHR3byBkZWFkIGJvb2tpZXMgYXJlIHB1dCBp\nbiB0aGUgZW5zZW1ibGUgd2hpY2ggd291bGQgY2F1c2UgZW5zZW1ibGUKICAg\nICAgICAvLyBjaGFuZ2UKICAgICAgICBMZWRnZXJIYW5kbGUgcmVjb3ZlcmVk\nTGggPSBia2Mub3BlbkxlZGdlcihsaC5nZXRJZCgpLCBkaWdlc3RUeXBlLCAi\nIi5nZXRCeXRlcygpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIkZlbmNlZCBs\nZWRnZXIgc2hvdWxkIGhhdmUgY29ycmVjdCBsYXN0QWRkQ29uZmlybWVkIiwg\nbGguZ2V0TGFzdEFkZENvbmZpcm1lZCgpLAogICAgICAgICAgICAgICAgcmVj\nb3ZlcmVkTGguZ2V0TGFzdEFkZENvbmZpcm1lZCgpKTsKICAgIH0KCiAgICBw\ncml2YXRlIHZvaWQgc3RhcnREZWFkQm9va2llKFNlcnZlckNvbmZpZ3VyYXRp\nb24gY29uZikgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgQm9va2llIHJC\nb29raWUgPSBuZXcgQm9va2llKGNvbmYpIHsKICAgICAgICAgICAgQE92ZXJy\naWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJlY292ZXJ5QWRkRW50cnko\nQnl0ZUJ1ZmZlciBlbnRyeSwgV3JpdGVDYWxsYmFjayBjYiwgT2JqZWN0IGN0\neCwgYnl0ZVtdIG1hc3RlcktleSkKICAgICAgICAgICAgICAgICAgICB0aHJv\nd3MgSU9FeGNlcHRpb24sIEJvb2tpZUV4Y2VwdGlvbiB7CiAgICAgICAgICAg\nICAgICAvLyBkcm9wIHJlcXVlc3QgdG8gc2ltdWxhdGUgYSBkZWFkIGJvb2tp\nZQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IElPRXhjZXB0aW9uKCJDb3Vs\nZG4ndCB3cml0ZSBlbnRyaWVzIGZvciBzb21lIHJlYXNvbiIpOwogICAgICAg\nICAgICB9CiAgICAgICAgfTsKICAgICAgICBic0NvbmZzLmFkZChjb25mKTsK\nICAgICAgICBicy5hZGQoc3RhcnRCb29raWUoY29uZiwgckJvb2tpZSkpOwog\nICAgfQp9Cg==\n","encoding":"base64"}

