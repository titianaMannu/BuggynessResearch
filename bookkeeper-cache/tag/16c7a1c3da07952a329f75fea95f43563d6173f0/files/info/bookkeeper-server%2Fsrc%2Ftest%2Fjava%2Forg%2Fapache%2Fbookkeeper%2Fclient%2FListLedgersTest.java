{"sha":"b37a044147aa3fe09fe36c05b633032c589c07f7","node_id":"MDQ6QmxvYjE1NzU5NTY6YjM3YTA0NDE0N2FhM2ZlMDlmZTM2YzA1YjYzMzAzMmM1ODljMDdmNw==","size":3668,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b37a044147aa3fe09fe36c05b633032c589c07f7","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzCiAqIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuIFRoZSBBU0YK\nICogbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hl\nIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91\nIG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3\naXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xp\nY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBh\ncHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdh\ncmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJp\nYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywgV0lUSE9VVAogKiBXQVJSQU5U\nSUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNz\nIG9yIGltcGxpZWQuIFNlZSB0aGUKICogTGljZW5zZSBmb3IgdGhlIHNwZWNp\nZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRh\ndGlvbnMgdW5kZXIKICogdGhlIExpY2Vuc2UuCiAqLwoKcGFja2FnZSBvcmcu\nYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50OwoKaW1wb3J0IGphdmEudXRpbC5J\ndGVyYXRvcjsKCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50\nLkJvb2tLZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0IG9yZy5hcGFjaGUuYm9v\na2tlZXBlci5jb25mLkNsaWVudENvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcu\nYXBhY2hlLmJvb2trZWVwZXIudGVzdC5CYXNlVGVzdENhc2U7CgppbXBvcnQg\nb3JnLmFwYWNoZS56b29rZWVwZXIuS2VlcGVyRXhjZXB0aW9uOwoKaW1wb3J0\nIG9yZy5qdW5pdC5Bc3NlcnQ7CmltcG9ydCBvcmcuanVuaXQuVGVzdDsKaW1w\nb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2Vy\nRmFjdG9yeTsKCnB1YmxpYyBjbGFzcyBMaXN0TGVkZ2Vyc1Rlc3QgZXh0ZW5k\ncyBCYXNlVGVzdENhc2UgewogICAgc3RhdGljIExvZ2dlciBMT0cgPSBMb2dn\nZXJGYWN0b3J5LmdldExvZ2dlcihMaXN0TGVkZ2Vyc1Rlc3QuY2xhc3MpOwoK\nICAgIERpZ2VzdFR5cGUgZGlnZXN0VHlwZTsKCiAgICBwdWJsaWMgTGlzdExl\nZGdlcnNUZXN0IChEaWdlc3RUeXBlIGRpZ2VzdFR5cGUpIHsKICAgICAgICBz\ndXBlcig0KTsKICAgICAgICB0aGlzLmRpZ2VzdFR5cGUgPSBkaWdlc3RUeXBl\nOwogICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0TGlzdExlZGdlcnMoKQogICAgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgaW50IG51bU9mTGVkZ2VycyA9IDEwOwoKICAgICAgICBDbGll\nbnRDb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgQ2xpZW50Q29uZmlndXJhdGlv\nbigpCiAgICAgICAgLnNldFprU2VydmVycyh6a1V0aWwuZ2V0Wm9vS2VlcGVy\nQ29ubmVjdFN0cmluZygpKTsKCiAgICAgICAgQm9va0tlZXBlciBia2MgPSBu\nZXcgQm9va0tlZXBlcihjb25mKTsKICAgICAgICBmb3IgKGludCBpID0gMDsg\naSA8IG51bU9mTGVkZ2VycyA7IGkrKykgewogICAgICAgICAgICBia2MuY3Jl\nYXRlTGVkZ2VyKGRpZ2VzdFR5cGUsICJ0ZXN0UGFzc3dkIi4KICAgICAgICAg\nICAgICAgICAgICBnZXRCeXRlcygpKS5jbG9zZSgpOwogICAgICAgIH0KCiAg\nICAgICAgQm9va0tlZXBlckFkbWluIGFkbWluID0gbmV3IEJvb2tLZWVwZXJB\nZG1pbih6a1V0aWwuCiAgICAgICAgICAgICAgICBnZXRab29LZWVwZXJDb25u\nZWN0U3RyaW5nKCkpOwogICAgICAgIEl0ZXJhYmxlPExvbmc+IGl0ZXJhYmxl\nID0gYWRtaW4ubGlzdExlZGdlcnMoKTsKCiAgICAgICAgaW50IGNvdW50ZXIg\nPSAwOwogICAgICAgIGZvciAoTG9uZyBsSWQ6IGl0ZXJhYmxlKSB7CiAgICAg\nICAgICAgIGNvdW50ZXIrKzsKICAgICAgICB9CgogICAgICAgIEFzc2VydC5h\nc3NlcnRUcnVlKCJXcm9uZyBudW1iZXIgb2YgbGVkZ2VyczogIiArIG51bU9m\nTGVkZ2VycywKICAgICAgICAgICAgICAgIGNvdW50ZXIgPT0gbnVtT2ZMZWRn\nZXJzKTsKICAgIH0KCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAwKQogICAgcHVi\nbGljIHZvaWQgdGVzdEVtcHR5TGlzdCgpCiAgICB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICBDbGllbnRDb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgQ2xp\nZW50Q29uZmlndXJhdGlvbigpCiAgICAgICAgLnNldFprU2VydmVycyh6a1V0\naWwuZ2V0Wm9vS2VlcGVyQ29ubmVjdFN0cmluZygpKTsKCiAgICAgICAgQm9v\na0tlZXBlckFkbWluIGFkbWluID0gbmV3IEJvb2tLZWVwZXJBZG1pbih6a1V0\naWwuCiAgICAgICAgICAgICAgICBnZXRab29LZWVwZXJDb25uZWN0U3RyaW5n\nKCkpOwogICAgICAgIEl0ZXJhYmxlPExvbmc+IGl0ZXJhYmxlID0gYWRtaW4u\nbGlzdExlZGdlcnMoKTsKCiAgICAgICAgTE9HLmluZm8oIkVtcHR5IGxpc3Qg\nYXNzZXJ0aW9uIik7CiAgICAgICAgQXNzZXJ0LmFzc2VydEZhbHNlKCJUaGVy\nZSBzaG91bGQgYmUgbm8gbGVkZ2VyIiwgaXRlcmFibGUuaXRlcmF0b3IoKS5o\nYXNOZXh0KCkpOwogICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0UmVtb3ZlTm90U3VwcG9ydGVkKCkKICAgIHRo\ncm93cyBFeGNlcHRpb24gewogICAgICAgIGludCBudW1PZkxlZGdlcnMgPSAx\nOwoKICAgICAgICBDbGllbnRDb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgQ2xp\nZW50Q29uZmlndXJhdGlvbigpCiAgICAgICAgLnNldFprU2VydmVycyh6a1V0\naWwuZ2V0Wm9vS2VlcGVyQ29ubmVjdFN0cmluZygpKTsKCiAgICAgICAgQm9v\na0tlZXBlciBia2MgPSBuZXcgQm9va0tlZXBlcihjb25mKTsKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IG51bU9mTGVkZ2VycyA7IGkrKykgewogICAg\nICAgICAgICBia2MuY3JlYXRlTGVkZ2VyKGRpZ2VzdFR5cGUsICJ0ZXN0UGFz\nc3dkIi4KICAgICAgICAgICAgICAgICAgICBnZXRCeXRlcygpKS5jbG9zZSgp\nOwogICAgICAgIH0KCiAgICAgICAgQm9va0tlZXBlckFkbWluIGFkbWluID0g\nbmV3IEJvb2tLZWVwZXJBZG1pbih6a1V0aWwuCiAgICAgICAgICAgICAgICBn\nZXRab29LZWVwZXJDb25uZWN0U3RyaW5nKCkpOwogICAgICAgIEl0ZXJhdG9y\nPExvbmc+IGl0ZXJhdG9yID0gYWRtaW4ubGlzdExlZGdlcnMoKS5pdGVyYXRv\ncigpOwogICAgICAgIGl0ZXJhdG9yLm5leHQoKTsKICAgICAgICB0cnl7CiAg\nICAgICAgICAgIGl0ZXJhdG9yLnJlbW92ZSgpOwogICAgICAgIH0gY2F0Y2gg\nKFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgLy8gVGhpcyBleGNlcHRpb24gaXMgZXhwZWN0ZWQKICAgICAgICAgICAg\ncmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgQXNzZXJ0LmZhaWwoIlJlbW92\nZSBpcyBub3Qgc3VwcG9ydGVkLCB3ZSBzaG91bG4ndCBoYXZlIHJlYWNoZWQg\ndGhpcyBwb2ludCIpOwoKICAgIH0KfQo=\n","encoding":"base64"}

