{"sha":"10506d821af6e15a71ec4ab531dc54ccf319e425","node_id":"MDQ6QmxvYjE1NzU5NTY6MTA1MDZkODIxYWY2ZTE1YTcxZWM0YWI1MzFkYzU0Y2NmMzE5ZTQyNQ==","size":16447,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/10506d821af6e15a71ec4ab531dc54ccf319e425","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHkuaW1wbDsKCmlt\ncG9ydCBzdGF0aWMgb3JnLmFwYWNoZS5oZWR3aWcudXRpbC5WYXJBcmdzLnZh\nOwoKaW1wb3J0IGphdmEudXRpbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51\ndGlsLlF1ZXVlOwoKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5h\ncGkuTWVzc2FnZUhhbmRsZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5j\nbGllbnQuY29uZi5DbGllbnRDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFw\nYWNoZS5oZWR3aWcuY2xpZW50LmRhdGEuTWVzc2FnZUNvbnN1bWVEYXRhOwpp\nbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50LmRhdGEuUHViU3ViRGF0\nYTsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5kYXRhLlRvcGlj\nU3Vic2NyaWJlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5l\neGNlcHRpb25zLkFscmVhZHlTdGFydERlbGl2ZXJ5RXhjZXB0aW9uOwppbXBv\ncnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50Lm5ldHR5LkZpbHRlcmFibGVN\nZXNzYWdlSGFuZGxlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVu\ndC5uZXR0eS5IQ2hhbm5lbDsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNs\naWVudC5uZXR0eS5OZXRVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2ln\nLmV4Y2VwdGlvbnMuUHViU3ViRXhjZXB0aW9uLkNsaWVudE5vdFN1YnNjcmli\nZWRFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5maWx0ZXIu\nQ2xpZW50TWVzc2FnZUZpbHRlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2ln\nLnByb3RvY29sLlB1YlN1YlByb3RvY29sLk1lc3NhZ2U7CmltcG9ydCBvcmcu\nYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5NZXNzYWdl\nU2VxSWQ7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJT\ndWJQcm90b2NvbC5QdWJTdWJSZXF1ZXN0OwppbXBvcnQgb3JnLmFwYWNoZS5o\nZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuU3Vic2NyaXB0aW9uRXZl\nbnQ7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQ\ncm90b2NvbC5TdWJzY3JpcHRpb25QcmVmZXJlbmNlczsKaW1wb3J0IG9yZy5h\ncGFjaGUuaGVkd2lnLnByb3RvZXh0ZW5zaW9ucy5NZXNzYWdlSWRVdGlsczsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnByb3RvZXh0ZW5zaW9ucy5TdWJz\nY3JpcHRpb25TdGF0ZVV0aWxzOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNo\nYW5uZWwuQ2hhbm5lbDsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVs\nLkNoYW5uZWxGdXR1cmU7CmltcG9ydCBvcmcuamJvc3MubmV0dHkuY2hhbm5l\nbC5DaGFubmVsRnV0dXJlTGlzdGVuZXI7CmltcG9ydCBvcmcuc2xmNGouTG9n\nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rvcnk7CgovKioKICog\nYW4gYWN0aXZlIHN1YnNjcmliZXIgaGFuZGxlcyBzdWJzY3JpcHRpb24gYWN0\naW9ucyBpbiBhIGNoYW5uZWwuCiAqLwpwdWJsaWMgY2xhc3MgQWN0aXZlU3Vi\nc2NyaWJlciB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9nZ2VyIGxv\nZ2dlciA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKEFjdGl2ZVN1YnNjcmli\nZXIuY2xhc3MpOwoKICAgIHByb3RlY3RlZCBmaW5hbCBDbGllbnRDb25maWd1\ncmF0aW9uIGNmZzsKICAgIHByb3RlY3RlZCBmaW5hbCBBYnN0cmFjdEhDaGFu\nbmVsTWFuYWdlciBjaGFubmVsTWFuYWdlcjsKCiAgICAvLyBTdWJzY3JpYmVy\nIHJlbGF0ZWQgdmFyaWFibGVzCiAgICBwcm90ZWN0ZWQgZmluYWwgVG9waWNT\ndWJzY3JpYmVyIHRvcGljU3Vic2NyaWJlcjsKICAgIHByb3RlY3RlZCBmaW5h\nbCBQdWJTdWJEYXRhIG9wOwogICAgcHJvdGVjdGVkIGZpbmFsIFN1YnNjcmlw\ndGlvblByZWZlcmVuY2VzIHByZWZlcmVuY2VzOwoKICAgIC8vIHRoZSB1bmRl\ncmx5aW5nIG5ldHR5IGNoYW5uZWwgdG8gc2VuZCByZXF1ZXN0CiAgICBwcm90\nZWN0ZWQgZmluYWwgQ2hhbm5lbCBjaGFubmVsOwogICAgcHJvdGVjdGVkIGZp\nbmFsIEhDaGFubmVsIGhDaGFubmVsOwoKICAgIC8vIENvdW50ZXIgZm9yIHRo\nZSBudW1iZXIgb2YgY29uc3VtZWQgbWVzc2FnZXMgc28gZmFyIHRvIGJ1ZmZl\nciB1cCBiZWZvcmUgd2UKICAgIC8vIHNlbmQgdGhlIENvbnN1bWUgbWVzc2Fn\nZSBiYWNrIHRvIHRoZSBzZXJ2ZXIgYWxvbmcgd2l0aCB0aGUgbGFzdC9sYXJn\nZXN0CiAgICAvLyBtZXNzYWdlIHNlcSBJRCBzZWVuIHNvIGZhciBpbiB0aGF0\nIGJhdGNoLgogICAgcHJpdmF0ZSBpbnQgbnVtQ29uc3VtZWRNZXNzYWdlc0lu\nQnVmZmVyID0gMDsKICAgIHByaXZhdGUgTWVzc2FnZVNlcUlkIGxhc3RNZXNz\nYWdlU2VxSWQgPSBudWxsOwoKICAgIC8vIE1lc3NhZ2UgSGFuZGxlcgogICAg\ncHJpdmF0ZSBNZXNzYWdlSGFuZGxlciBtc2dIYW5kbGVyID0gbnVsbDsKCiAg\nICAvLyBRdWV1ZSB1c2VkIGZvciBzdWJzY3JpYmVzIHdoZW4gdGhlIE1lc3Nh\nZ2VIYW5kbGVyIGhhc24ndCBiZWVuIHJlZ2lzdGVyZWQKICAgIC8vIHlldCBi\ndXQgd2UndmUgYWxyZWFkeSByZWNlaXZlZCBzdWJzY3JpcHRpb24gbWVzc2Fn\nZXMgZnJvbSB0aGUgc2VydmVyLgogICAgLy8gVGhpcyB3aWxsIGJlIGxhemls\neSBjcmVhdGVkIGFzIG5lZWRlZC4KICAgIHByaXZhdGUgZmluYWwgUXVldWU8\nTWVzc2FnZT4gbXNnUXVldWUgPSBuZXcgTGlua2VkTGlzdDxNZXNzYWdlPigp\nOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0IGFuIGFjdGl2ZSBzdWJzY3Jp\nYmVyIGluc3RhbmNlLgogICAgICoKICAgICAqIEBwYXJhbSBjZmcKICAgICAq\nICAgICAgICAgIENsaWVudCBjb25maWd1cmF0aW9uIG9iamVjdC4KICAgICAq\nIEBwYXJhbSBjaGFubmVsTWFuYWdlcgogICAgICogICAgICAgICAgQ2hhbm5l\nbCBtYW5hZ2VyIGluc3RhbmNlLgogICAgICogQHBhcmFtIHRzCiAgICAgKiAg\nICAgICAgICBUb3BpYyBzdWJzY3JpYmVyLgogICAgICogQHBhcmFtIG9wCiAg\nICAgKiAgICAgICAgICBQdWIvU3ViIHJlcXVlc3QuCiAgICAgKiBAcGFyYW0g\ncHJlZmVyZW5jZXMKICAgICAqICAgICAgICAgIFN1YnNjcmlwdGlvbiBwcmVm\nZXJlbmNlcyBmb3IgdGhlIHN1YnNjcmliZXIuCiAgICAgKiBAcGFyYW0gY2hh\nbm5lbAogICAgICogICAgICAgICAgTmV0dHkgY2hhbm5lbCB0aGUgc3Vic2Ny\naWJlciBsaXZlZC4KICAgICAqLwogICAgcHVibGljIEFjdGl2ZVN1YnNjcmli\nZXIoQ2xpZW50Q29uZmlndXJhdGlvbiBjZmcsCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBBYnN0cmFjdEhDaGFubmVsTWFuYWdlciBjaGFubmVsTWFu\nYWdlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvcGljU3Vic2Ny\naWJlciB0cywgUHViU3ViRGF0YSBvcCwKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIFN1YnNjcmlwdGlvblByZWZlcmVuY2VzIHByZWZlcmVuY2VzLAog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbm5lbCBjaGFubmVsLAog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgSENoYW5uZWwgaENoYW5uZWwp\nIHsKICAgICAgICB0aGlzLmNmZyA9IGNmZzsKICAgICAgICB0aGlzLmNoYW5u\nZWxNYW5hZ2VyID0gY2hhbm5lbE1hbmFnZXI7CiAgICAgICAgdGhpcy50b3Bp\nY1N1YnNjcmliZXIgPSB0czsKICAgICAgICB0aGlzLm9wID0gb3A7CiAgICAg\nICAgdGhpcy5wcmVmZXJlbmNlcyA9IHByZWZlcmVuY2VzOwogICAgICAgIHRo\naXMuY2hhbm5lbCA9IGNoYW5uZWw7CiAgICAgICAgdGhpcy5oQ2hhbm5lbCA9\nIGhDaGFubmVsOwogICAgfQoKICAgIC8qKgogICAgICogQHJldHVybiBwdWIv\nc3ViIHJlcXVlc3QgZm9yIHRoZSBzdWJzY3JpcHRpb24uCiAgICAgKi8KICAg\nIHB1YmxpYyBQdWJTdWJEYXRhIGdldFB1YlN1YkRhdGEoKSB7CiAgICAgICAg\ncmV0dXJuIHRoaXMub3A7CiAgICB9CgogICAgLyoqCiAgICAgKiBAcmV0dXJu\nIHRvcGljIHN1YnNjcmliZXIgaWQgZm9yIHRoZSBhY3RpdmUgc3Vic2NyaWJl\nci4KICAgICAqLwogICAgcHVibGljIFRvcGljU3Vic2NyaWJlciBnZXRUb3Bp\nY1N1YnNjcmliZXIoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudG9waWNTdWJz\nY3JpYmVyOwogICAgfQoKICAgIC8qKgogICAgICogU3RhcnQgZGVsaXZlcmlu\nZyBtZXNzYWdlcyB1c2luZyBnaXZlbiBtZXNzYWdlIGhhbmRsZXIuCiAgICAg\nKgogICAgICogQHBhcmFtIG1lc3NhZ2VIYW5kbGVyCiAgICAgKiAgICAgICAg\nICBNZXNzYWdlIGhhbmRsZXIgdG8gZGVsaXZlciBtZXNzYWdlcwogICAgICog\nQHRocm93cyBBbHJlYWR5U3RhcnREZWxpdmVyeUV4Y2VwdGlvbiBpZiBzb21l\nb25lIGFscmVhZHkgc3RhcnRlZCBkZWxpdmVyeS4KICAgICAqIEB0aHJvd3Mg\nQ2xpZW50Tm90U3Vic2NyaWJlZEV4Y2VwdGlvbiB3aGVuIHN0YXJ0IGRlbGl2\nZXJ5IGJlZm9yZSBzdWJzY3JpYmUuCiAgICAgKi8KICAgIHB1YmxpYyBzeW5j\naHJvbml6ZWQgdm9pZCBzdGFydERlbGl2ZXJ5KE1lc3NhZ2VIYW5kbGVyIG1l\nc3NhZ2VIYW5kbGVyKQogICAgdGhyb3dzIEFscmVhZHlTdGFydERlbGl2ZXJ5\nRXhjZXB0aW9uLCBDbGllbnROb3RTdWJzY3JpYmVkRXhjZXB0aW9uIHsKICAg\nICAgICBpZiAobnVsbCAhPSB0aGlzLm1zZ0hhbmRsZXIpIHsKICAgICAgICAg\nICAgdGhyb3cgbmV3IEFscmVhZHlTdGFydERlbGl2ZXJ5RXhjZXB0aW9uKCJB\nIG1lc3NhZ2UgaGFuZGxlciAiICsgbXNnSGFuZGxlcgogICAgICAgICAgICAg\nICAgKyAiIGhhcyBiZWVuIHN0YXJ0ZWQgZm9yICIgKyB0b3BpY1N1YnNjcmli\nZXIpOwogICAgICAgIH0KICAgICAgICBpZiAobnVsbCAhPSBtZXNzYWdlSGFu\nZGxlciAmJiBtZXNzYWdlSGFuZGxlciBpbnN0YW5jZW9mIEZpbHRlcmFibGVN\nZXNzYWdlSGFuZGxlcikgewogICAgICAgICAgICBGaWx0ZXJhYmxlTWVzc2Fn\nZUhhbmRsZXIgZmlsdGVyTXNnSGFuZGxlciA9CiAgICAgICAgICAgICAgICAo\nRmlsdGVyYWJsZU1lc3NhZ2VIYW5kbGVyKSBtZXNzYWdlSGFuZGxlcjsKICAg\nICAgICAgICAgaWYgKGZpbHRlck1zZ0hhbmRsZXIuaGFzTWVzc2FnZUZpbHRl\ncigpKSB7CiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBwcmVmZXJlbmNl\ncykgewogICAgICAgICAgICAgICAgICAgIC8vIG5vIHByZWZlcmVuY2VzIG1l\nYW5zIHRhbGtpbmcgdG8gYW4gb2xkIHZlcnNpb24gaHViIHNlcnZlcgogICAg\nICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCJTdGFydCBkZWxpdmVyaW5n\nIG1lc3NhZ2VzIHdpdGggZmlsdGVyIGJ1dCBubyBzdWJzY3JpcHRpb24gIgog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICJwcmVmZXJlbmNlcyBm\nb3VuZC4gSXQgbWlnaHQgZHVlIHRvIHRhbGtpbmcgdG8gYW4gb2xkIHZlcnNp\nb24iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIiBodWIgc2Vy\ndmVyLiIpOwogICAgICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgb3JpZ2lu\nYWwgbWVzc2FnZSBoYW5kbGVyLgogICAgICAgICAgICAgICAgICAgIG1lc3Nh\nZ2VIYW5kbGVyID0gZmlsdGVyTXNnSGFuZGxlci5nZXRNZXNzYWdlSGFuZGxl\ncigpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAg\nICAgICAvLyBwYXNzIHN1YnNjcmlwdGlvbiBwcmVmZXJlbmNlcyB0byBtZXNz\nYWdlIGZpbHRlcgogICAgICAgICAgICAgICAgICAgIGlmIChsb2dnZXIuaXNE\nZWJ1Z0VuYWJsZWQoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBsb2dn\nZXIuZGVidWcoIlN0YXJ0IGRlbGl2ZXJpbmcgbWVzc2FnZXMgd2l0aCBmaWx0\nZXIgb24ge30sIHByZWZlcmVuY2VzOiB7fSIsCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICB2YSh0b3BpY1N1YnNjcmliZXIsCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJzY3JpcHRp\nb25TdGF0ZVV0aWxzLnRvU3RyaW5nKHByZWZlcmVuY2VzKSkpOwogICAgICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBDbGllbnRNZXNz\nYWdlRmlsdGVyIG1zZ0ZpbHRlciA9IGZpbHRlck1zZ0hhbmRsZXIuZ2V0TWVz\nc2FnZUZpbHRlcigpOwogICAgICAgICAgICAgICAgICAgIG1zZ0ZpbHRlci5z\nZXRTdWJzY3JpcHRpb25QcmVmZXJlbmNlcyh0b3BpY1N1YnNjcmliZXIuZ2V0\nVG9waWMoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgdG9waWNTdWJzY3JpYmVyLmdldFN1YnNj\ncmliZXJJZCgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcyk7CiAgICAgICAg\nICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRo\naXMubXNnSGFuZGxlciA9IG1lc3NhZ2VIYW5kbGVyOwogICAgICAgIC8vIE9u\nY2UgdGhlIE1lc3NhZ2VIYW5kbGVyIGlzIHJlZ2lzdGVyZWQsIHNlZSBpZiB3\nZSBoYXZlIGFueSBxdWV1ZWQgdXAKICAgICAgICAvLyBzdWJzY3JpcHRpb24g\nbWVzc2FnZXMgc2VudCB0byB1cyBhbHJlYWR5IGZyb20gdGhlIHNlcnZlci4g\nSWYgc28sCiAgICAgICAgLy8gY29uc3VtZSB0aG9zZSBmaXJzdC4gRG8gdGhp\ncyBvbmx5IGlmIHRoZSBNZXNzYWdlSGFuZGxlciByZWdpc3RlcmVkIGlzCiAg\nICAgICAgLy8gbm90IG51bGwgKHNpbmNlIHRoYXQgd291bGQgYmUgdGhlIEhl\nZHdpZ1N1YnNjcmliZXIuc3RvcERlbGl2ZXJ5CiAgICAgICAgLy8gY2FsbCku\nCiAgICAgICAgaWYgKG51bGwgPT0gbXNnSGFuZGxlcikgewogICAgICAgICAg\nICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChtc2dRdWV1ZS5zaXpl\nKCkgPiAwKSB7CiAgICAgICAgICAgIGlmIChsb2dnZXIuaXNEZWJ1Z0VuYWJs\nZWQoKSkgewogICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCJDb25zdW1p\nbmcge30gcXVldWVkIHVwIG1lc3NhZ2VzIGZvciB7fSIsCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgdmEobXNnUXVldWUuc2l6ZSgpLCB0b3BpY1N1\nYnNjcmliZXIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKE1l\nc3NhZ2UgbWVzc2FnZSA6IG1zZ1F1ZXVlKSB7CiAgICAgICAgICAgICAgICBh\nc3luY01lc3NhZ2VEZWxpdmVyKG1lc3NhZ2UpOwogICAgICAgICAgICB9CiAg\nICAgICAgICAgIC8vIE5vdyB3ZSBjYW4gcmVtb3ZlIHRoZSBxdWV1ZWQgdXAg\nbWVzc2FnZXMgc2luY2UgdGhleSBhcmUgYWxsCiAgICAgICAgICAgIC8vIGNv\nbnN1bWVkLgogICAgICAgICAgICBtc2dRdWV1ZS5jbGVhcigpOwogICAgICAg\nIH0KICAgIH0KCiAgICAvKioKICAgICAqIFN0b3AgZGVsaXZlcmluZyBtZXNz\nYWdlcyB0byB0aGUgc3Vic2NyaWJlci4KICAgICAqLwogICAgcHVibGljIHN5\nbmNocm9uaXplZCB2b2lkIHN0b3BEZWxpdmVyeSgpIHsKICAgICAgICB0aGlz\nLm1zZ0hhbmRsZXIgPSBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogSGFu\nZGxlIHJlY2VpdmVkIG1lc3NhZ2UuCiAgICAgKgogICAgICogQHBhcmFtIG1l\nc3NhZ2UKICAgICAqICAgICAgICAgIFJlY2VpdmVkIG1lc3NhZ2UuCiAgICAg\nKi8KICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgdm9pZCBoYW5kbGVNZXNzYWdl\nKE1lc3NhZ2UgbWVzc2FnZSkgewogICAgICAgIGlmIChudWxsICE9IG1zZ0hh\nbmRsZXIpIHsKICAgICAgICAgICAgYXN5bmNNZXNzYWdlRGVsaXZlcihtZXNz\nYWdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBNZXNzYWdl\nSGFuZGxlciBoYXMgbm90IHlldCBiZWVuIHJlZ2lzdGVyZWQgc28gcXVldWUg\ndXAgdGhlc2UKICAgICAgICAgICAgLy8gbWVzc2FnZXMgZm9yIHRoZSBUb3Bp\nYyBTdWJzY3JpcHRpb24uIE1ha2UgdGhlIGluaXRpYWwgbGF6eQogICAgICAg\nICAgICAvLyBjcmVhdGlvbiBvZiB0aGUgbWVzc2FnZSBxdWV1ZSB0aHJlYWQg\nc2FmZSBqdXN0IHNvIHdlIGRvbid0CiAgICAgICAgICAgIC8vIHJ1biBpbnRv\nIGEgcmFjZSBjb25kaXRpb24gd2hlcmUgdHdvIHNpbXVsdGFuZW91cyB0aHJl\nYWRzIHByb2Nlc3MKICAgICAgICAgICAgLy8gYSByZWNlaXZlZCBtZXNzYWdl\nIGFuZCBib3RoIHRyeSB0byBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YKICAg\nICAgICAgICAgLy8gdGhlIG1lc3NhZ2UgcXVldWUuIFBlcmZvcm1hbmNlIG92\nZXJoZWFkIHNob3VsZCBiZSBva2F5CiAgICAgICAgICAgIC8vIGJlY2F1c2Ug\ndGhlIGRlbGl2ZXJ5IG9mIHRoZSB0b3BpYyBoYXMgbm90IGV2ZW4gc3RhcnRl\nZCB5ZXQKICAgICAgICAgICAgLy8gc28gdGhlc2UgbWVzc2FnZXMgYXJlIG5v\ndCBjb25zdW1lZCBhbmQganVzdCBidWZmZXJlZCB1cCBoZXJlLgogICAgICAg\nICAgICBpZiAobG9nZ2VyLmlzRGVidWdFbmFibGVkKCkpIHsKICAgICAgICAg\nICAgICAgIGxvZ2dlci5kZWJ1ZygiTWVzc2FnZSB7fSBoYXMgYXJyaXZlZCBi\ndXQgbm8gTWVzc2FnZUhhbmRsZXIgcHJvdmlkZWQgZm9yIHt9IgogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICsgIiB5ZXQgc28gcXVldWVpbmcgdXAg\ndGhlIG1lc3NhZ2UuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2\nYShNZXNzYWdlSWRVdGlscy5tc2dJZFRvUmVhZGFibGVTdHJpbmcobWVzc2Fn\nZS5nZXRNc2dJZCgpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICB0b3BpY1N1YnNjcmliZXIpKTsKICAgICAgICAgICAgfQogICAgICAgICAg\nICBtc2dRdWV1ZS5hZGQobWVzc2FnZSk7CiAgICAgICAgfQogICAgfQoKICAg\nIC8qKgogICAgICogRGVsaXZlciBtZXNzYWdlIHRvIHRoZSBjbGllbnQuCiAg\nICAgKgogICAgICogQHBhcmFtIG1lc3NhZ2UKICAgICAqICAgICAgICAgIE1l\nc3NhZ2UgdG8gZGVsaXZlci4KICAgICAqLwogICAgcHVibGljIHN5bmNocm9u\naXplZCB2b2lkIGFzeW5jTWVzc2FnZURlbGl2ZXIoTWVzc2FnZSBtZXNzYWdl\nKSB7CiAgICAgICAgaWYgKG51bGwgPT0gbXNnSGFuZGxlcikgewogICAgICAg\nICAgICBsb2dnZXIuZXJyb3IoIk5vIG1lc3NhZ2UgaGFuZGxlciBmb3VuZCB0\nbyBkZWxpdmVyIG1lc3NhZ2Uge30gdG8ge30uIiwKICAgICAgICAgICAgICAg\nICAgICAgICAgIHZhKE1lc3NhZ2VJZFV0aWxzLm1zZ0lkVG9SZWFkYWJsZVN0\ncmluZyhtZXNzYWdlLmdldE1zZ0lkKCkpLAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgdG9waWNTdWJzY3JpYmVyKSk7CiAgICAgICAgICAgIHJldHVy\nbjsKICAgICAgICB9CiAgICAgICAgaWYgKGxvZ2dlci5pc0RlYnVnRW5hYmxl\nZCgpKSB7CiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygiQ2FsbCB0aGUgY2xp\nZW50IGFwcCdzIE1lc3NhZ2VIYW5kbGVyIGFzeW5jaHJvbm91c2x5IHRvIGRl\nbGl2ZXIgdGhlIG1lc3NhZ2Uge30gdG8ge30iLAogICAgICAgICAgICAgICAg\nICAgICAgICAgdmEobWVzc2FnZSwgdG9waWNTdWJzY3JpYmVyKSk7CiAgICAg\nICAgfQogICAgICAgIHVuc2FmZURlbGl2ZXJNZXNzYWdlKG1lc3NhZ2UpOwog\nICAgfQoKICAgIC8qKgogICAgICogVW5zYWZlIHZlcnNpb24gdG8gZGVsaXZl\nciBtZXNzYWdlIHRvIGEgbWVzc2FnZSBoYW5kbGVyLgogICAgICogQ2FsbGVy\nIG5lZWQgdG8gaGFuZGxlIHN5bmNocm9uaXphdGlvbiBpc3N1ZS4KICAgICAq\nCiAgICAgKiBAcGFyYW0gbWVzc2FnZQogICAgICogICAgICAgICAgTWVzc2Fn\nZSB0byBkZWxpdmVyLgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCB1bnNh\nZmVEZWxpdmVyTWVzc2FnZShNZXNzYWdlIG1lc3NhZ2UpIHsKICAgICAgICBN\nZXNzYWdlQ29uc3VtZURhdGEgbWVzc2FnZUNvbnN1bWVEYXRhID0KICAgICAg\nICAgICAgbmV3IE1lc3NhZ2VDb25zdW1lRGF0YSh0b3BpY1N1YnNjcmliZXIs\nIG1lc3NhZ2UpOwogICAgICAgIG1zZ0hhbmRsZXIuZGVsaXZlcih0b3BpY1N1\nYnNjcmliZXIuZ2V0VG9waWMoKSwgdG9waWNTdWJzY3JpYmVyLmdldFN1YnNj\ncmliZXJJZCgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdl\nLCBjaGFubmVsTWFuYWdlci5nZXRDb25zdW1lQ2FsbGJhY2soKSwKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNvbnN1bWVEYXRhKTsKICAg\nIH0KCiAgICBwcml2YXRlIHN5bmNocm9uaXplZCBib29sZWFuIHVwZGF0ZUxh\nc3RNZXNzYWdlU2VxSWQoTWVzc2FnZVNlcUlkIHNlcUlkKSB7CiAgICAgICAg\naWYgKG51bGwgIT0gbGFzdE1lc3NhZ2VTZXFJZCAmJgogICAgICAgICAgICBz\nZXFJZC5nZXRMb2NhbENvbXBvbmVudCgpIDw9IGxhc3RNZXNzYWdlU2VxSWQu\nZ2V0TG9jYWxDb21wb25lbnQoKSkgewogICAgICAgICAgICByZXR1cm4gZmFs\nc2U7CiAgICAgICAgfQogICAgICAgICsrbnVtQ29uc3VtZWRNZXNzYWdlc0lu\nQnVmZmVyOwogICAgICAgIGxhc3RNZXNzYWdlU2VxSWQgPSBzZXFJZDsKICAg\nICAgICBpZiAobnVtQ29uc3VtZWRNZXNzYWdlc0luQnVmZmVyID49IGNmZy5n\nZXRDb25zdW1lZE1lc3NhZ2VzQnVmZmVyU2l6ZSgpKSB7CiAgICAgICAgICAg\nIG51bUNvbnN1bWVkTWVzc2FnZXNJbkJ1ZmZlciA9IDA7CiAgICAgICAgICAg\nIGxhc3RNZXNzYWdlU2VxSWQgPSBudWxsOwogICAgICAgICAgICByZXR1cm4g\ndHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoK\nICAgIC8qKgogICAgICogQ29uc3VtZSBhIHNwZWNpZmljIG1lc3NhZ2UuCiAg\nICAgKgogICAgICogQHBhcmFtIG1lc3NhZ2VTZXFJZAogICAgICogICAgICAg\nICAgTWVzc2FnZSBzZXEgaWQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIGNv\nbnN1bWUoZmluYWwgTWVzc2FnZVNlcUlkIG1lc3NhZ2VTZXFJZCkgewogICAg\nICAgIFB1YlN1YlJlcXVlc3QuQnVpbGRlciBwdWJzdWJSZXF1ZXN0QnVpbGRl\nciA9CiAgICAgICAgICAgIE5ldFV0aWxzLmJ1aWxkQ29uc3VtZVJlcXVlc3Qo\nY2hhbm5lbE1hbmFnZXIubmV4dFR4bklkKCksCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgdG9waWNTdWJzY3JpYmVyLCBtZXNz\nYWdlU2VxSWQpOwoKICAgICAgICAvLyBGb3IgQ29uc3VtZSByZXF1ZXN0cywg\nd2Ugd2lsbCBzZW5kIHRoZW0gZnJvbSB0aGUgY2xpZW50IGluIGEgZmlyZSBh\nbmQKICAgICAgICAvLyBmb3JnZXQgbWFubmVyLiBXZSBhcmUgbm90IGV4cGVj\ndGluZyB0aGUgc2VydmVyIHRvIHNlbmQgYmFjayBhbiBhY2sKICAgICAgICAv\nLyByZXNwb25zZSBzbyBubyBuZWVkIHRvIHJlZ2lzdGVyIHRoaXMgaW4gdGhl\nIFJlc3BvbnNlSGFuZGxlci4gVGhlcmUKICAgICAgICAvLyBhcmUgbm8gY2Fs\nbGJhY2tzIHRvIGludm9rZSBzaW5jZSB0aGlzIGlzbid0IGEgY2xpZW50IGlu\naXRpYXRlZAogICAgICAgIC8vIGFjdGlvbi4gSW5zdGVhZCwganVzdCBoYXZl\nIGEgZnV0dXJlIGxpc3RlbmVyIHRoYXQgd2lsbCBsb2cgYW4gZXJyb3IKICAg\nICAgICAvLyBtZXNzYWdlIGlmIHRoZXJlIHdhcyBhIHByb2JsZW0gd3JpdGlu\nZyB0aGUgY29uc3VtZSByZXF1ZXN0LgogICAgICAgIGlmIChsb2dnZXIuaXNE\nZWJ1Z0VuYWJsZWQoKSkgewogICAgICAgICAgICBsb2dnZXIuZGVidWcoIldy\naXRpbmcgYSBDb25zdW1lIHJlcXVlc3QgdG8gY2hhbm5lbDoge30gd2l0aCBt\nZXNzYWdlU2VxSWQ6IHt9IGZvciB7fSIsCiAgICAgICAgICAgICAgICAgICAg\nICAgICB2YShjaGFubmVsLCBtZXNzYWdlU2VxSWQsIHRvcGljU3Vic2NyaWJl\ncikpOwogICAgICAgIH0KICAgICAgICBDaGFubmVsRnV0dXJlIGZ1dHVyZSA9\nIGNoYW5uZWwud3JpdGUocHVic3ViUmVxdWVzdEJ1aWxkZXIuYnVpbGQoKSk7\nCiAgICAgICAgZnV0dXJlLmFkZExpc3RlbmVyKG5ldyBDaGFubmVsRnV0dXJl\nTGlzdGVuZXIoKSB7CiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAg\nICBwdWJsaWMgdm9pZCBvcGVyYXRpb25Db21wbGV0ZShDaGFubmVsRnV0dXJl\nIGZ1dHVyZSkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICBp\nZiAoIWZ1dHVyZS5pc1N1Y2Nlc3MoKSkgewogICAgICAgICAgICAgICAgICAg\nIGxvZ2dlci5lcnJvcigiRXJyb3Igd3JpdGluZyBhIENvbnN1bWUgcmVxdWVz\ndCB0byBjaGFubmVsOiB7fSB3aXRoIG1lc3NhZ2VTZXFJZDoge30gZm9yIHt9\nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmEoY2hhbm5l\nbCwgbWVzc2FnZVNlcUlkLCB0b3BpY1N1YnNjcmliZXIpKTsKICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAg\nIC8qKgogICAgICogQXBwbGljYXRpb24gYWNrZWQgdG8gY29uc3VtZSBtZXNz\nYWdlLgogICAgICoKICAgICAqIEBwYXJhbSBtZXNzYWdlCiAgICAgKiAgICAg\nICAgICBNZXNzYWdlIGNvbnN1bWVkIGJ5IGFwcGxpY2F0aW9uLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCBtZXNzYWdlQ29uc3VtZWQoTWVzc2FnZSBtZXNz\nYWdlKSB7CiAgICAgICAgLy8gRm9yIGNvbnN1bWUgcmVzcG9uc2UgdG8gc2Vy\ndmVyLCB0aGVyZSBpcyBhIGNvbmZpZyBwYXJhbSBvbiBob3cgbWFueQogICAg\nICAgIC8vIG1lc3NhZ2VzIHRvIGNvbnN1bWUgYW5kIGJ1ZmZlciB1cCBiZWZv\ncmUgc2VuZGluZyB0aGUgY29uc3VtZSByZXF1ZXN0LgogICAgICAgIC8vIFdl\nIGp1c3QgbmVlZCB0byBrZWVwIGEgY291bnQgb2YgdGhlIG51bWJlciBvZiBt\nZXNzYWdlcyBjb25zdW1lZAogICAgICAgIC8vIGFuZCB0aGUgbGFyZ2VzdC9s\nYXRlc3QgbXNnIElEIHNlZW4gc28gZmFyIGluIHRoaXMgYmF0Y2guIE1lc3Nh\nZ2VzCiAgICAgICAgLy8gc2hvdWxkIGJlIGRlbGl2ZXJlZCBpbiBvcmRlciBh\nbmQgd2l0aG91dCBnYXBzLiBEbyB0aGlzIG9ubHkgaWYKICAgICAgICAvLyBh\ndXRvLXNlbmRpbmcgb2YgY29uc3VtZSBtZXNzYWdlcyBpcyBlbmFibGVkLgog\nICAgICAgIGlmIChjZmcuaXNBdXRvU2VuZENvbnN1bWVNZXNzYWdlRW5hYmxl\nZCgpKSB7CiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGVzZSB2YXJpYWJsZXMg\nb25seSBpZiB3ZSBhcmUgYXV0by1zZW5kaW5nIGNvbnN1bWUKICAgICAgICAg\nICAgLy8gbWVzc2FnZXMgdG8gdGhlIHNlcnZlci4gT3RoZXJ3aXNlIHRoZSBv\nbnVzIGlzIG9uIHRoZSBjbGllbnQgYXBwCiAgICAgICAgICAgIC8vIHRvIGNh\nbGwgdGhlIFN1YnNjcmliZXIgY29uc3VtZSBBUEkgdG8gbGV0IHRoZSBzZXJ2\nZXIga25vdyB3aGljaAogICAgICAgICAgICAvLyBtZXNzYWdlcyBpdCBoYXMg\nc3VjY2Vzc2Z1bGx5IGNvbnN1bWVkLgogICAgICAgICAgICBpZiAodXBkYXRl\nTGFzdE1lc3NhZ2VTZXFJZChtZXNzYWdlLmdldE1zZ0lkKCkpKSB7CiAgICAg\nICAgICAgICAgICAvLyBTZW5kIHRoZSBjb25zdW1lIHJlcXVlc3QgYW5kIHJl\nc2V0IHRoZSBjb25zdW1lZCBtZXNzYWdlcyBidWZmZXIKICAgICAgICAgICAg\nICAgIC8vIHZhcmlhYmxlcy4gV2Ugd2lsbCB1c2UgdGhlIHNhbWUgQ2hhbm5l\nbCBjcmVhdGVkIGZyb20gdGhlCiAgICAgICAgICAgICAgICAvLyBzdWJzY3Jp\nYmUgcmVxdWVzdCBmb3IgdGhlIFRvcGljU3Vic2NyaWJlci4KICAgICAgICAg\nICAgICAgIGlmIChsb2dnZXIuaXNEZWJ1Z0VuYWJsZWQoKSkgewogICAgICAg\nICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygiQ29uc3VtZSBtZXNzYWdlIHt9\nIHdoZW4gcmVhY2hpbmcgY29uc3VtZWQgbWVzc2FnZSBidWZmZXIgbGltaXQu\nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5n\nZXRNc2dJZCgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nIGNvbnN1bWUobWVzc2FnZS5nZXRNc2dJZCgpKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJlc3Vic2NyaWJlIGEg\nc3Vic2NyaWJlciBpZiBuZWNlc3NhcnkuCiAgICAgKgogICAgICogQHBhcmFt\nIGV2ZW50CiAgICAgKiAgICAgICAgICBTdWJzY3JpcHRpb24gRXZlbnQuCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHJlc3Vic2NyaWJlSWZOZWNlc3Nhcnko\nU3Vic2NyaXB0aW9uRXZlbnQgZXZlbnQpIHsKICAgICAgICAvLyBjbGVhciB0\nb3BpYyBvd25lcnNoaXAKICAgICAgICBpZiAoU3Vic2NyaXB0aW9uRXZlbnQu\nVE9QSUNfTU9WRUQgPT0gZXZlbnQpIHsKICAgICAgICAgICAgY2hhbm5lbE1h\nbmFnZXIuY2xlYXJIb3N0Rm9yVG9waWModG9waWNTdWJzY3JpYmVyLmdldFRv\ncGljKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIE5ldFV0aWxzLmdldEhvc3RGcm9tQ2hhbm5lbChjaGFubmVsKSk7\nCiAgICAgICAgfQogICAgICAgIGlmICghb3Aub3B0aW9ucy5nZXRFbmFibGVS\nZXN1YnNjcmliZSgpKSB7CiAgICAgICAgICAgIGNoYW5uZWxNYW5hZ2VyLmdl\ndFN1YnNjcmlwdGlvbkV2ZW50RW1pdHRlcigpLmVtaXRTdWJzY3JpcHRpb25F\ndmVudCgKICAgICAgICAgICAgICAgIHRvcGljU3Vic2NyaWJlci5nZXRUb3Bp\nYygpLCB0b3BpY1N1YnNjcmliZXIuZ2V0U3Vic2NyaWJlcklkKCksIGV2ZW50\nKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyBT\naW5jZSB0aGUgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyIGhvc3QgdGhhdCB3\nYXMgcmVzcG9uc2libGUKICAgICAgICAvLyBmb3IgdGhlIHRvcGljIGRpZWQs\nIHdlIGFyZSBub3Qgc3VyZSBhYm91dCB0aGUgc3RhdGUgb2YgdGhhdAogICAg\nICAgIC8vIHNlcnZlci4gUmVzZW5kIHRoZSBvcmlnaW5hbCBzdWJzY3JpYmUg\ncmVxdWVzdCBkYXRhIHRvIHRoZSBkZWZhdWx0CiAgICAgICAgLy8gc2VydmVy\nIGhvc3QvVklQLiBBbHNvIGNsZWFyIG91dCBhbGwgb2YgdGhlIHNlcnZlcnMg\nd2UndmUKICAgICAgICAvLyBjb250YWN0ZWQgb3IgYXR0ZW1wdGVkIHRvIGZy\nb20gdGhpcyByZXF1ZXN0IGFzIHdlIGFyZSBzdGFydGluZyBhCiAgICAgICAg\nLy8gImZyZXNoIiBzdWJzY3JpYmUgcmVxdWVzdC4KICAgICAgICBvcC5jbGVh\nclNlcnZlcnNMaXN0KCk7CiAgICAgICAgLy8gU2V0IGEgbmV3IHR5cGUgb2Yg\nVm9pZENhbGxiYWNrIGZvciB0aGlzIGFzeW5jIGNhbGwuIFdlIG5lZWQgdGhp\ncwogICAgICAgIC8vIGhvb2sgc28gYWZ0ZXIgdGhlIHJlc3Vic2NyaWJlIGhh\ncyBjb21wbGV0ZWQsIGRlbGl2ZXJ5IGZvcgogICAgICAgIC8vIHRoYXQgdG9w\naWMgc3Vic2NyaWJlciBzaG91bGQgYWxzbyBiZSByZXN0YXJ0ZWQgKGlmIGl0\nIHdhcyB0aGF0CiAgICAgICAgLy8gY2FzZSBiZWZvcmUgdGhlIGNoYW5uZWwg\nZGlzY29ubmVjdCkuCiAgICAgICAgZmluYWwgbG9uZyByZXRyeVdhaXRUaW1l\nID0gY2ZnLmdldFN1YnNjcmliZVJlY29ubmVjdFJldHJ5V2FpdFRpbWUoKTsK\nICAgICAgICBSZXN1YnNjcmliZUNhbGxiYWNrIHJlc3Vic2NyaWJlQ2IgPQog\nICAgICAgICAgICBuZXcgUmVzdWJzY3JpYmVDYWxsYmFjayh0b3BpY1N1YnNj\ncmliZXIsIG9wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICBjaGFubmVsTWFuYWdlciwgcmV0cnlXYWl0VGltZSk7CiAgICAgICAgb3Au\nc2V0Q2FsbGJhY2socmVzdWJzY3JpYmVDYik7CiAgICAgICAgb3Auc2hvdWxk\nQ2xhaW0gPSBmYWxzZTsKICAgICAgICBvcC5jb250ZXh0ID0gbnVsbDsKICAg\nICAgICBvcC5zZXRPcmlnaW5hbENoYW5uZWxGb3JSZXN1YnNjcmliZShoQ2hh\nbm5lbCk7CiAgICAgICAgaWYgKGxvZ2dlci5pc0RlYnVnRW5hYmxlZCgpKSB7\nCiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygiUmVzdWJzY3JpYmUge30gd2l0\naCBvcmlnU3ViRGF0YSB7fSIsCiAgICAgICAgICAgICAgICAgICAgICAgICB2\nYSh0b3BpY1N1YnNjcmliZXIsIG9wKSk7CiAgICAgICAgfQogICAgICAgIC8v\nIHJlc3VibWl0IHRoZSByZXF1ZXN0CiAgICAgICAgY2hhbm5lbE1hbmFnZXIu\nc3VibWl0T3Aob3ApOwogICAgfQp9Cg==\n","encoding":"base64"}

