{"sha":"f2bbc2fc21f0eb64b1440de9dcfaee12f902f06c","node_id":"MDQ6QmxvYjE1NzU5NTY6ZjJiYmMyZmMyMWYwZWI2NGIxNDQwZGU5ZGNmYWVlMTJmOTAyZjA2Yw==","size":4513,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/f2bbc2fc21f0eb64b1440de9dcfaee12f902f06c","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuYm9va2llOwoKLyoKICoK\nICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u\nIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vu\nc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRp\nb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNG\nIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UK\nICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAq\nIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUK\nICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFu\nZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgoK\naW1wb3J0IGphdmEubGFuZy5FeGNlcHRpb247CgpAU3VwcHJlc3NXYXJuaW5n\ncygic2VyaWFsIikKcHVibGljIGFic3RyYWN0IGNsYXNzIEJvb2tpZUV4Y2Vw\ndGlvbiBleHRlbmRzIEV4Y2VwdGlvbiB7CgogICAgcHJpdmF0ZSBpbnQgY29k\nZTsKICAgIHB1YmxpYyBCb29raWVFeGNlcHRpb24oaW50IGNvZGUpIHsKICAg\nICAgICB0aGlzLmNvZGUgPSBjb2RlOwogICAgfQoKICAgIHB1YmxpYyBCb29r\naWVFeGNlcHRpb24oaW50IGNvZGUsIFRocm93YWJsZSB0KSB7CiAgICAgICAg\nc3VwZXIodCk7CiAgICB9CgogICAgcHVibGljIEJvb2tpZUV4Y2VwdGlvbihp\nbnQgY29kZSwgU3RyaW5nIHJlYXNvbikgewogICAgICAgIHN1cGVyKHJlYXNv\nbik7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBCb29raWVFeGNlcHRpb24g\nY3JlYXRlKGludCBjb2RlKSB7CiAgICAgICAgc3dpdGNoKGNvZGUpIHsKICAg\nICAgICBjYXNlIENvZGUuVW5hdXRob3JpemVkQWNjZXNzRXhjZXB0aW9uOgog\nICAgICAgICAgICByZXR1cm4gbmV3IEJvb2tpZVVuYXV0aG9yaXplZEFjY2Vz\nc0V4Y2VwdGlvbigpOwogICAgICAgIGNhc2UgQ29kZS5MZWRnZXJGZW5jZWRF\neGNlcHRpb246CiAgICAgICAgICAgIHJldHVybiBuZXcgTGVkZ2VyRmVuY2Vk\nRXhjZXB0aW9uKCk7CiAgICAgICAgY2FzZSBDb2RlLkludmFsaWRDb29raWVF\neGNlcHRpb246CiAgICAgICAgICAgIHJldHVybiBuZXcgSW52YWxpZENvb2tp\nZUV4Y2VwdGlvbigpOwogICAgICAgIGNhc2UgQ29kZS5VcGdyYWRlRXhjZXB0\naW9uOgogICAgICAgICAgICByZXR1cm4gbmV3IFVwZ3JhZGVFeGNlcHRpb24o\nKTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gbmV3IEJv\nb2tpZUlsbGVnYWxPcEV4Y2VwdGlvbigpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgaW50ZXJmYWNlIENvZGUgewogICAgICAgIGludCBPSyA9IDA7\nCiAgICAgICAgaW50IFVuYXV0aG9yaXplZEFjY2Vzc0V4Y2VwdGlvbiA9IC0x\nOwoKICAgICAgICBpbnQgSWxsZWdhbE9wRXhjZXB0aW9uID0gLTEwMDsKICAg\nICAgICBpbnQgTGVkZ2VyRmVuY2VkRXhjZXB0aW9uID0gLTEwMTsKCiAgICAg\nICAgaW50IEludmFsaWRDb29raWVFeGNlcHRpb24gPSAtMTAyOwogICAgICAg\nIGludCBVcGdyYWRlRXhjZXB0aW9uID0gLTEwMzsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRDb2RlKGludCBjb2RlKSB7CiAgICAgICAgdGhpcy5jb2Rl\nID0gY29kZTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldENvZGUoKSB7CiAg\nICAgICAgcmV0dXJuIHRoaXMuY29kZTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldE1lc3NhZ2UoaW50IGNvZGUpIHsKICAgICAgICBTdHJpbmcgZXJy\nID0gIkludmFsaWQgb3BlcmF0aW9uIjsKICAgICAgICBzd2l0Y2goY29kZSkg\newogICAgICAgIGNhc2UgQ29kZS5PSzoKICAgICAgICAgICAgZXJyID0gIk5v\nIHByb2JsZW0iOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIENv\nZGUuVW5hdXRob3JpemVkQWNjZXNzRXhjZXB0aW9uOgogICAgICAgICAgICBl\ncnIgPSAiRXJyb3Igd2hpbGUgcmVhZGluZyBsZWRnZXIiOwogICAgICAgICAg\nICBicmVhazsKICAgICAgICBjYXNlIENvZGUuTGVkZ2VyRmVuY2VkRXhjZXB0\naW9uOgogICAgICAgICAgICBlcnIgPSAiTGVkZ2VyIGhhcyBiZWVuIGZlbmNl\nZDsgTm8gbW9yZSBlbnRyaWVzIGNhbiBiZSBhZGRlZCI7CiAgICAgICAgICAg\nIGJyZWFrOwogICAgICAgIGNhc2UgQ29kZS5JbnZhbGlkQ29va2llRXhjZXB0\naW9uOgogICAgICAgICAgICBlcnIgPSAiSW52YWxpZCBlbnZpcm9ubWVudCBj\nb29raWUgZm91bmQiOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNl\nIENvZGUuVXBncmFkZUV4Y2VwdGlvbjoKICAgICAgICAgICAgZXJyID0gIkVy\ncm9yIHBlcmZvcm1pbmcgYW4gdXBncmFkZSBvcGVyYXRpb24gIjsKICAgICAg\nICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIFN0cmluZyByZWFzb24g\nPSBzdXBlci5nZXRNZXNzYWdlKCk7CiAgICAgICAgaWYgKHJlYXNvbiA9PSBu\ndWxsKSB7CiAgICAgICAgICAgIGlmIChzdXBlci5nZXRDYXVzZSgpICE9IG51\nbGwpIHsKICAgICAgICAgICAgICAgIHJlYXNvbiA9IHN1cGVyLmdldENhdXNl\nKCkuZ2V0TWVzc2FnZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAg\nICAgIGlmIChyZWFzb24gPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4g\nZXJyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBTdHJp\nbmcuZm9ybWF0KCIlcyBbJXNdIiwgZXJyLCByZWFzb24pOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEJvb2tpZVVuYXV0aG9y\naXplZEFjY2Vzc0V4Y2VwdGlvbiBleHRlbmRzIEJvb2tpZUV4Y2VwdGlvbiB7\nCiAgICAgICAgcHVibGljIEJvb2tpZVVuYXV0aG9yaXplZEFjY2Vzc0V4Y2Vw\ndGlvbigpIHsKICAgICAgICAgICAgc3VwZXIoQ29kZS5VbmF1dGhvcml6ZWRB\nY2Nlc3NFeGNlcHRpb24pOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMg\nc3RhdGljIGNsYXNzIEJvb2tpZUlsbGVnYWxPcEV4Y2VwdGlvbiBleHRlbmRz\nIEJvb2tpZUV4Y2VwdGlvbiB7CiAgICAgICAgcHVibGljIEJvb2tpZUlsbGVn\nYWxPcEV4Y2VwdGlvbigpIHsKICAgICAgICAgICAgc3VwZXIoQ29kZS5VbmF1\ndGhvcml6ZWRBY2Nlc3NFeGNlcHRpb24pOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgc3RhdGljIGNsYXNzIExlZGdlckZlbmNlZEV4Y2VwdGlvbiBl\neHRlbmRzIEJvb2tpZUV4Y2VwdGlvbiB7CiAgICAgICAgcHVibGljIExlZGdl\nckZlbmNlZEV4Y2VwdGlvbigpIHsKICAgICAgICAgICAgc3VwZXIoQ29kZS5M\nZWRnZXJGZW5jZWRFeGNlcHRpb24pOwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIGNsYXNzIEludmFsaWRDb29raWVFeGNlcHRpb24gZXh0\nZW5kcyBCb29raWVFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBJbnZhbGlk\nQ29va2llRXhjZXB0aW9uKCkgewogICAgICAgICAgICB0aGlzKCIiKTsKICAg\nICAgICB9CgogICAgICAgIHB1YmxpYyBJbnZhbGlkQ29va2llRXhjZXB0aW9u\nKFN0cmluZyByZWFzb24pIHsKICAgICAgICAgICAgc3VwZXIoQ29kZS5JbnZh\nbGlkQ29va2llRXhjZXB0aW9uLCByZWFzb24pOwogICAgICAgIH0KCiAgICAg\nICAgcHVibGljIEludmFsaWRDb29raWVFeGNlcHRpb24oVGhyb3dhYmxlIGNh\ndXNlKSB7CiAgICAgICAgICAgIHN1cGVyKENvZGUuSW52YWxpZENvb2tpZUV4\nY2VwdGlvbiwgY2F1c2UpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMg\nc3RhdGljIGNsYXNzIFVwZ3JhZGVFeGNlcHRpb24gZXh0ZW5kcyBCb29raWVF\neGNlcHRpb24gewogICAgICAgIHB1YmxpYyBVcGdyYWRlRXhjZXB0aW9uKCkg\newogICAgICAgICAgICBzdXBlcihDb2RlLlVwZ3JhZGVFeGNlcHRpb24pOwog\nICAgICAgIH0KCiAgICAgICAgcHVibGljIFVwZ3JhZGVFeGNlcHRpb24oVGhy\nb3dhYmxlIGNhdXNlKSB7CiAgICAgICAgICAgIHN1cGVyKENvZGUuVXBncmFk\nZUV4Y2VwdGlvbiwgY2F1c2UpOwogICAgICAgIH0KCiAgICAgICAgcHVibGlj\nIFVwZ3JhZGVFeGNlcHRpb24oU3RyaW5nIHJlYXNvbikgewogICAgICAgICAg\nICBzdXBlcihDb2RlLlVwZ3JhZGVFeGNlcHRpb24sIHJlYXNvbik7CiAgICAg\nICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

