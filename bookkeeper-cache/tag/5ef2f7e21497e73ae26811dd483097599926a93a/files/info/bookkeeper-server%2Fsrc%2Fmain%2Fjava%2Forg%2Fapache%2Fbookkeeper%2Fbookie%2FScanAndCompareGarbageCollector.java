{"sha":"6ed2c0b6411d14652908741f53b62ee9a5822d64","node_id":"MDQ6QmxvYjE1NzU5NTY6NmVkMmMwYjY0MTFkMTQ2NTI5MDg3NDFmNTNiNjJlZTlhNTgyMmQ2NA==","size":4454,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/6ed2c0b6411d14652908741f53b62ee9a5822d64","content":"LyoqCiAqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRv\nciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAq\nIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRo\nZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5z\nZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21w\nbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh\nIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJl\ncXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0\naW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5z\nZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRI\nT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwg\nZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNz\naW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAq\nCiAqLwoKcGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuYm9va2llOwoK\naW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwuTmF2aWdh\nYmxlTWFwOwppbXBvcnQgamF2YS51dGlsLlNldDsKCmltcG9ydCBvcmcuYXBh\nY2hlLmJvb2trZWVwZXIubWV0YS5MZWRnZXJNYW5hZ2VyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5ib29ra2VlcGVyLm1ldGEuTGVkZ2VyTWFuYWdlci5MZWRnZXJS\nYW5nZTsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5tZXRhLkxlZGdl\nck1hbmFnZXIuTGVkZ2VyUmFuZ2VJdGVyYXRvcjsKaW1wb3J0IG9yZy5hcGFj\naGUuYm9va2tlZXBlci51dGlsLlNuYXBzaG90TWFwOwppbXBvcnQgb3JnLnNs\nZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwoK\nLyoqCiAqIEdhcmJhZ2UgY29sbGVjdG9yIGltcGxlbWVudGF0aW9uIHVzaW5n\nIHNjYW4gYW5kIGNvbXBhcmUuCiAqCiAqIDxwPgogKiBHYXJiYWdlIGNvbGxl\nY3Rpb24gaXMgcHJvY2Vzc2VkIGFzIGJlbG93OgogKiA8dWw+CiAqIDxsaT4g\nZmV0Y2ggYWxsIGV4aXN0aW5nIGxlZGdlcnMgZnJvbSB6b29rZWVwZXIgb3Ig\nbWV0YXN0b3JlIGFjY29yZGluZyB0bwogKiB0aGUgTGVkZ2VyTWFuYWdlciwg\nY2FsbGVkIDxiPmdsb2JhbEFjdGl2ZUxlZGdlcnM8L2I+CiAqIDxsaT4gZmV0\nY2ggYWxsIGFjdGl2ZSBsZWRnZXJzIGZyb20gYm9va2llIHNlcnZlciwgc2Fp\nZCA8Yj5ia0FjdGl2ZUxlZGdlcnM8L2I+CiAqIDxsaT4gbG9vcCBvdmVyIDxi\nPmJrQWN0aXZlTGVkZ2VyczwvYj4gdG8gZmluZCB0aG9zZSBsZWRnZXJzIHRo\nYXQgYXJlIG5vdCBpbgogKiA8Yj5nbG9iYWxBY3RpdmVMZWRnZXJzPC9iPiwg\nZG8gZ2FyYmFnZSBjb2xsZWN0aW9uIG9uIHRoZW0uCiAqIDwvdWw+CiAqIDwv\ncD4KICovCnB1YmxpYyBjbGFzcyBTY2FuQW5kQ29tcGFyZUdhcmJhZ2VDb2xs\nZWN0b3IgaW1wbGVtZW50cyBHYXJiYWdlQ29sbGVjdG9yewoKICAgIHN0YXRp\nYyBmaW5hbCBMb2dnZXIgTE9HID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIo\nU2NhbkFuZENvbXBhcmVHYXJiYWdlQ29sbGVjdG9yLmNsYXNzKTsKICAgIHBy\naXZhdGUgU25hcHNob3RNYXA8TG9uZywgQm9vbGVhbj4gYWN0aXZlTGVkZ2Vy\nczsKICAgIHByaXZhdGUgTGVkZ2VyTWFuYWdlciBsZWRnZXJNYW5hZ2VyOwoK\nICAgIHB1YmxpYyBTY2FuQW5kQ29tcGFyZUdhcmJhZ2VDb2xsZWN0b3IoTGVk\nZ2VyTWFuYWdlciBsZWRnZXJNYW5hZ2VyLCBTbmFwc2hvdE1hcDxMb25nLCBC\nb29sZWFuPiBhY3RpdmVMZWRnZXJzKSB7CiAgICAgICAgdGhpcy5sZWRnZXJN\nYW5hZ2VyID0gbGVkZ2VyTWFuYWdlcjsKICAgICAgICB0aGlzLmFjdGl2ZUxl\nZGdlcnMgPSBhY3RpdmVMZWRnZXJzOwogICAgfQoKICAgIEBPdmVycmlkZQog\nICAgcHVibGljIHZvaWQgZ2MoR2FyYmFnZUNsZWFuZXIgZ2FyYmFnZUNsZWFu\nZXIpIHsKICAgICAgICAvLyBjcmVhdGUgYSBzbmFwc2hvdCBmaXJzdAogICAg\nICAgIE5hdmlnYWJsZU1hcDxMb25nLCBCb29sZWFuPiBia0FjdGl2ZUxlZGdl\ncnNTbmFwc2hvdCA9CiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUxlZGdl\ncnMuc25hcHNob3QoKTsKICAgICAgICBMZWRnZXJSYW5nZUl0ZXJhdG9yIGxl\nZGdlclJhbmdlSXRlcmF0b3IgPSBsZWRnZXJNYW5hZ2VyLmdldExlZGdlclJh\nbmdlcygpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIEVtcHR5IGds\nb2JhbCBhY3RpdmUgbGVkZ2VycywgbmVlZCB0byByZW1vdmUgYWxsIGxvY2Fs\nIGFjdGl2ZSBsZWRnZXJzLgogICAgICAgICAgICBpZiAoIWxlZGdlclJhbmdl\nSXRlcmF0b3IuaGFzTmV4dCgpKSB7CiAgICAgICAgICAgICAgICBmb3IgKExv\nbmcgYmtMaWQgOiBia0FjdGl2ZUxlZGdlcnNTbmFwc2hvdC5rZXlTZXQoKSkg\newogICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpdCBmcm9tIGN1cnJl\nbnQgYWN0aXZlIGxlZGdlcgogICAgICAgICAgICAgICAgICAgIGJrQWN0aXZl\nTGVkZ2Vyc1NuYXBzaG90LnJlbW92ZShia0xpZCk7CiAgICAgICAgICAgICAg\nICAgICAgZ2FyYmFnZUNsZWFuZXIuY2xlYW4oYmtMaWQpOwogICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHdoaWxlKGxlZGdl\nclJhbmdlSXRlcmF0b3IuaGFzTmV4dCgpKSB7CiAgICAgICAgICAgICAgICBM\nZWRnZXJSYW5nZSBsUmFuZ2UgPSBsZWRnZXJSYW5nZUl0ZXJhdG9yLm5leHQo\nKTsKICAgICAgICAgICAgICAgIE1hcDxMb25nLCBCb29sZWFuPiBzdWJCa0Fj\ndGl2ZUxlZGdlcnMgPSBudWxsOwogICAgICAgICAgICAgICAgTG9uZyBzdGFy\ndCA9IGxSYW5nZS5zdGFydCgpOwogICAgICAgICAgICAgICAgTG9uZyBlbmQg\nPSBsUmFuZ2UuZW5kKCk7CiAgICAgICAgICAgICAgICBpZiAoZW5kICE9IExl\nZGdlclJhbmdlLk5PTElNSVQpIHsKICAgICAgICAgICAgICAgICAgICBzdWJC\na0FjdGl2ZUxlZGdlcnMgPSBia0FjdGl2ZUxlZGdlcnNTbmFwc2hvdC5zdWJN\nYXAoc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLCBl\nbmQsIHRydWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAg\nICAgICAgICAgICBpZiAoc3RhcnQgIT0gTGVkZ2VyUmFuZ2UuTk9MSU1JVCkg\newogICAgICAgICAgICAgICAgICAgICAgICBzdWJCa0FjdGl2ZUxlZGdlcnMg\nPSBia0FjdGl2ZUxlZGdlcnNTbmFwc2hvdC50YWlsTWFwKHN0YXJ0KTsKICAg\nICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAg\nICAgICBzdWJCa0FjdGl2ZUxlZGdlcnMgPSBia0FjdGl2ZUxlZGdlcnNTbmFw\nc2hvdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgICAgICBTZXQ8TG9uZz4gZ2xvYmFsQWN0aXZlTGVkZ2Vy\ncyA9IGxSYW5nZS5nZXRMZWRnZXJzKCk7CiAgICAgICAgICAgICAgICBMT0cu\nZGVidWcoIkFsbCBhY3RpdmUgbGVkZ2VycyBmb3IgaGFzaCBub2RlIHt9LCBD\ndXJyZW50IGFjdGl2ZSBsZWRnZXJzIGZyb20gQm9va2llIGZvciBoYXNoIG5v\nZGUge30iLAogICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxBY3RpdmVM\nZWRnZXJzLCBzdWJCa0FjdGl2ZUxlZGdlcnMua2V5U2V0KCkpOwogICAgICAg\nICAgICAgICAgZm9yIChMb25nIGJrTGlkIDogc3ViQmtBY3RpdmVMZWRnZXJz\nLmtleVNldCgpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFnbG9iYWxB\nY3RpdmVMZWRnZXJzLmNvbnRhaW5zKGJrTGlkKSkgewogICAgICAgICAgICAg\nICAgICAgICAgICAvLyByZW1vdmUgaXQgZnJvbSBjdXJyZW50IGFjdGl2ZSBs\nZWRnZXIKICAgICAgICAgICAgICAgICAgICAgICAgc3ViQmtBY3RpdmVMZWRn\nZXJzLnJlbW92ZShia0xpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGdh\ncmJhZ2VDbGVhbmVyLmNsZWFuKGJrTGlkKTsKICAgICAgICAgICAgICAgICAg\nICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9\nIGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAvLyBpZ25vcmUg\nZXhjZXB0aW9uLCBjb2xsZWN0aW5nIGdhcmJhZ2UgbmV4dCB0aW1lCiAgICAg\nICAgICAgIExPRy53YXJuKCJFeGNlcHRpb24gd2hlbiBpdGVyYXRpbmcgb3Zl\nciB0aGUgbWV0YWRhdGEge30iLCBlKTsKICAgICAgICB9CiAgICB9Cn0KCgo=\n","encoding":"base64"}

