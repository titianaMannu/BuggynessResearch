{"sha":"5c3a8f9f5faf41055de0be1b636120406a989783","node_id":"MDQ6QmxvYjE1NzU5NTY6NWMzYThmOWY1ZmFmNDEwNTVkZTBiZTFiNjM2MTIwNDA2YTk4OTc4Mw==","size":7653,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/5c3a8f9f5faf41055de0be1b636120406a989783","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZjsKCmltcG9ydCBqYXZh\nLm5ldC5VUkw7CgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmNvbmZpZ3Vy\nYXRpb24uQ29tcG9zaXRlQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUuY29tbW9ucy5jb25maWd1cmF0aW9uLkNvbmZpZ3VyYXRpb247CmltcG9y\ndCBvcmcuYXBhY2hlLmNvbW1vbnMuY29uZmlndXJhdGlvbi5Db25maWd1cmF0\naW9uRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmNvbmZp\nZ3VyYXRpb24uUHJvcGVydGllc0NvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcu\nYXBhY2hlLmNvbW1vbnMuY29uZmlndXJhdGlvbi5TeXN0ZW1Db25maWd1cmF0\naW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5tZXRhLkxlZGdl\nck1hbmFnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLnV0aWwuUmVmbGVjdGlvblV0aWxzOwoKaW1wb3J0IG9yZy5zbGY0ai5Mb2dn\nZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKCi8qKgogKiBB\nYnN0cmFjdCBjb25maWd1cmF0aW9uCiAqLwpwdWJsaWMgYWJzdHJhY3QgY2xh\nc3MgQWJzdHJhY3RDb25maWd1cmF0aW9uIGV4dGVuZHMgQ29tcG9zaXRlQ29u\nZmlndXJhdGlvbiB7CgogICAgc3RhdGljIGZpbmFsIExvZ2dlciBMT0cgPSBM\nb2dnZXJGYWN0b3J5LmdldExvZ2dlcihBYnN0cmFjdENvbmZpZ3VyYXRpb24u\nY2xhc3MpOwoKICAgIHByaXZhdGUgc3RhdGljIENsYXNzTG9hZGVyIGRlZmF1\nbHRMb2FkZXI7CiAgICBzdGF0aWMgewogICAgICAgIGRlZmF1bHRMb2FkZXIg\nPSBUaHJlYWQuY3VycmVudFRocmVhZCgpLmdldENvbnRleHRDbGFzc0xvYWRl\ncigpOwogICAgICAgIGlmIChudWxsID09IGRlZmF1bHRMb2FkZXIpIHsKICAg\nICAgICAgICAgZGVmYXVsdExvYWRlciA9IEFic3RyYWN0Q29uZmlndXJhdGlv\nbi5jbGFzcy5nZXRDbGFzc0xvYWRlcigpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvLyBMZWRnZXIgTWFuYWdlcgogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRp\nYyBTdHJpbmcgTEVER0VSX01BTkFHRVJfVFlQRSA9ICJsZWRnZXJNYW5hZ2Vy\nVHlwZSI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBMRURH\nRVJfTUFOQUdFUl9GQUNUT1JZX0NMQVNTID0gImxlZGdlck1hbmFnZXJGYWN0\nb3J5Q2xhc3MiOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcg\nWktfTEVER0VSU19ST09UX1BBVEggPSAiemtMZWRnZXJzUm9vdFBhdGgiOwog\nICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgQVZBSUxBQkxFX05P\nREUgPSAiYXZhaWxhYmxlIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMg\nU3RyaW5nIFJFUkVQTElDQVRJT05fRU5UUllfQkFUQ0hfU0laRSA9ICJyZXJl\ncGxpY2F0aW9uRW50cnlCYXRjaFNpemUiOwoKICAgIC8vIE1ldGFzdG9yZSBz\nZXR0aW5ncywgb25seSBiZWluZyB1c2VkIHdoZW4gTEVER0VSX01BTkFHRVJf\nRkFDVE9SWV9DTEFTUyBpcyBNU0xlZGdlck1hbmFnZXJGYWN0b3J5CiAgICBw\ncm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBNRVRBU1RPUkVfSU1QTF9D\nTEFTUyA9ICJtZXRhc3RvcmVJbXBsQ2xhc3MiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUVUQVNUT1JFX01BWF9FTlRSSUVTX1BFUl9T\nQ0FOID0gIm1ldGFzdG9yZU1heEVudHJpZXNQZXJTY2FuIjsKCiAgICBwcm90\nZWN0ZWQgQWJzdHJhY3RDb25maWd1cmF0aW9uKCkgewogICAgICAgIHN1cGVy\nKCk7CiAgICAgICAgLy8gYWRkIGNvbmZpZ3VyYXRpb24gZm9yIHN5c3RlbSBw\ncm9wZXJ0aWVzCiAgICAgICAgYWRkQ29uZmlndXJhdGlvbihuZXcgU3lzdGVt\nQ29uZmlndXJhdGlvbigpKTsKICAgIH0KCiAgICAvKioKICAgICAqIFlvdSBj\nYW4gbG9hZCBjb25maWd1cmF0aW9ucyBpbiBwcmVjZWRlbmNlIG9yZGVyLiBU\naGUgZmlyc3Qgb25lIHRha2VzCiAgICAgKiBwcmVjZWRlbmNlIG92ZXIgYW55\nIGxvYWRlZCBsYXRlci4KICAgICAqCiAgICAgKiBAcGFyYW0gY29uZlVSTAog\nICAgICogICAgICAgICAgQ29uZmlndXJhdGlvbiBVUkwKICAgICAqLwogICAg\ncHVibGljIHZvaWQgbG9hZENvbmYoVVJMIGNvbmZVUkwpIHRocm93cyBDb25m\naWd1cmF0aW9uRXhjZXB0aW9uIHsKICAgICAgICBDb25maWd1cmF0aW9uIGxv\nYWRlZENvbmYgPSBuZXcgUHJvcGVydGllc0NvbmZpZ3VyYXRpb24oY29uZlVS\nTCk7CiAgICAgICAgYWRkQ29uZmlndXJhdGlvbihsb2FkZWRDb25mKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFlvdSBjYW4gbG9hZCBjb25maWd1cmF0aW9u\nIGZyb20gb3RoZXIgY29uZmlndXJhdGlvbgogICAgICoKICAgICAqIEBwYXJh\nbSBiYXNlQ29uZgogICAgICogICAgICAgICAgT3RoZXIgQ29uZmlndXJhdGlv\nbgogICAgICovCiAgICBwdWJsaWMgdm9pZCBsb2FkQ29uZihBYnN0cmFjdENv\nbmZpZ3VyYXRpb24gYmFzZUNvbmYpIHsKICAgICAgICBhZGRDb25maWd1cmF0\naW9uKGJhc2VDb25mKTsgCiAgICB9CgogICAgLyoqCiAgICAgKiBMb2FkIGNv\nbmZpZ3VyYXRpb24gZnJvbSBvdGhlciBjb25maWd1cmF0aW9uIG9iamVjdAog\nICAgICoKICAgICAqIEBwYXJhbSBvdGhlckNvbmYKICAgICAqICAgICAgICAg\nIE90aGVyIGNvbmZpZ3VyYXRpb24gb2JqZWN0CiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIGxvYWRDb25mKENvbmZpZ3VyYXRpb24gb3RoZXJDb25mKSB7CiAg\nICAgICAgYWRkQ29uZmlndXJhdGlvbihvdGhlckNvbmYpOwogICAgfQoKICAg\nIC8qKgogICAgICogU2V0IExlZGdlciBNYW5hZ2VyIFR5cGUuCiAgICAgKgog\nICAgICogQHBhcmFtIGxtVHlwZQogICAgICogICAgICAgICAgTGVkZ2VyIE1h\nbmFnZXIgVHlwZQogICAgICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkge0Bs\naW5rICNzZXRMZWRnZXJNYW5hZ2VyRmFjdG9yeUNsYXNzfQogICAgICovCiAg\nICBARGVwcmVjYXRlZAogICAgcHVibGljIHZvaWQgc2V0TGVkZ2VyTWFuYWdl\nclR5cGUoU3RyaW5nIGxtVHlwZSkgewogICAgICAgIHNldFByb3BlcnR5KExF\nREdFUl9NQU5BR0VSX1RZUEUsIGxtVHlwZSk7IAogICAgfQoKICAgIC8qKgog\nICAgICogR2V0IExlZGdlciBNYW5hZ2VyIFR5cGUuCiAgICAgKgogICAgICog\nQHJldHVybiBsZWRnZXIgbWFuYWdlciB0eXBlCiAgICAgKiBAdGhyb3dzIENv\nbmZpZ3VyYXRpb25FeGNlcHRpb24KICAgICAqIEBkZXByZWNhdGVkIHJlcGxh\nY2VkIGJ5IHtAbGluayAjZ2V0TGVkZ2VyTWFuYWdlckZhY3RvcnlDbGFzcygp\nfQogICAgICovCiAgICBARGVwcmVjYXRlZAogICAgcHVibGljIFN0cmluZyBn\nZXRMZWRnZXJNYW5hZ2VyVHlwZSgpIHsKICAgICAgICByZXR1cm4gZ2V0U3Ry\naW5nKExFREdFUl9NQU5BR0VSX1RZUEUpOwogICAgfQoKICAgIC8qKgogICAg\nICogU2V0IExlZGdlciBNYW5hZ2VyIEZhY3RvcnkgQ2xhc3MgTmFtZS4KICAg\nICAqCiAgICAgKiBAcGFyYW0gZmFjdG9yeUNsYXNzTmFtZQogICAgICogICAg\nICAgICAgTGVkZ2VyIE1hbmFnZXIgRmFjdG9yeSBDbGFzcyBOYW1lCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHNldExlZGdlck1hbmFnZXJGYWN0b3J5Q2xh\nc3NOYW1lKFN0cmluZyBmYWN0b3J5Q2xhc3NOYW1lKSB7CiAgICAgICAgc2V0\nUHJvcGVydHkoTEVER0VSX01BTkFHRVJfRkFDVE9SWV9DTEFTUywgZmFjdG9y\neUNsYXNzTmFtZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgTGVkZ2Vy\nIE1hbmFnZXIgRmFjdG9yeSBDbGFzcy4KICAgICAqCiAgICAgKiBAcGFyYW0g\nZmFjdG9yeUNsYXNzCiAgICAgKiAgICAgICAgICBMZWRnZXIgTWFuYWdlciBG\nYWN0b3J5IENsYXNzCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldExlZGdl\nck1hbmFnZXJGYWN0b3J5Q2xhc3MoQ2xhc3M8PyBleHRlbmRzIExlZGdlck1h\nbmFnZXJGYWN0b3J5PiBmYWN0b3J5Q2xhc3MpIHsKICAgICAgICBzZXRQcm9w\nZXJ0eShMRURHRVJfTUFOQUdFUl9GQUNUT1JZX0NMQVNTLCBmYWN0b3J5Q2xh\nc3MuZ2V0TmFtZSgpKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBsZWRn\nZXIgbWFuYWdlciBmYWN0b3J5IGNsYXNzLgogICAgICoKICAgICAqIEByZXR1\ncm4gbGVkZ2VyIG1hbmFnZXIgZmFjdG9yeSBjbGFzcwogICAgICovCiAgICBw\ndWJsaWMgQ2xhc3M8PyBleHRlbmRzIExlZGdlck1hbmFnZXJGYWN0b3J5PiBn\nZXRMZWRnZXJNYW5hZ2VyRmFjdG9yeUNsYXNzKCkKICAgICAgICB0aHJvd3Mg\nQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIFJlZmxl\nY3Rpb25VdGlscy5nZXRDbGFzcyh0aGlzLCBMRURHRVJfTUFOQUdFUl9GQUNU\nT1JZX0NMQVNTLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgbnVsbCwgTGVkZ2VyTWFuYWdlckZhY3RvcnkuY2xhc3MsCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TG9h\nZGVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBaayBMZWRnZXJzIFJv\nb3QgUGF0aC4KICAgICAqCiAgICAgKiBAcGFyYW0gemtMZWRnZXJzUGF0aCB6\nayBsZWRnZXJzIHJvb3QgcGF0aAogICAgICovCiAgICBwdWJsaWMgdm9pZCBz\nZXRaa0xlZGdlcnNSb290UGF0aChTdHJpbmcgemtMZWRnZXJzUGF0aCkgewog\nICAgICAgIHNldFByb3BlcnR5KFpLX0xFREdFUlNfUk9PVF9QQVRILCB6a0xl\nZGdlcnNQYXRoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBaayBMZWRn\nZXJzIFJvb3QgUGF0aC4KICAgICAqCiAgICAgKiBAcmV0dXJuIHprIGxlZGdl\ncnMgcm9vdCBwYXRoCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0WmtM\nZWRnZXJzUm9vdFBhdGgoKSB7CiAgICAgICAgcmV0dXJuIGdldFN0cmluZyha\nS19MRURHRVJTX1JPT1RfUEFUSCwgIi9sZWRnZXJzIik7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBHZXQgdGhlIG5vZGUgdW5kZXIgd2hpY2ggYXZhaWxhYmxl\nIGJvb2tpZXMgYXJlIHN0b3JlZAogICAgICoKICAgICAqIEByZXR1cm4gTm9k\nZSB1bmRlciB3aGljaCBhdmFpbGFibGUgYm9va2llcyBhcmUgc3RvcmVkLgog\nICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFprQXZhaWxhYmxlQm9va2ll\nc1BhdGgoKSB7CiAgICAgICAgcmV0dXJuIGdldFprTGVkZ2Vyc1Jvb3RQYXRo\nKCkgKyAiLyIgKyBBVkFJTEFCTEVfTk9ERTsKICAgIH0KICAgIAogICAgLyoq\nCiAgICAgKiBTZXQgdGhlIG1heCBlbnRyaWVzIHRvIGtlZXAgaW4gZnJhZ21l\nbnQgZm9yIHJlLXJlcGxpY2F0aW9uLiBJZiBmcmFnbWVudAogICAgICogaGFz\nIG1vcmUgZW50cmllcyB0aGFuIHRoaXMgY291bnQsIHRoZW4gdGhlIG9yaWdp\nbmFsIGZyYWdtZW50IHdpbGwgYmUKICAgICAqIHNwbGl0IGludG8gbXVsdGlw\nbGUgc21hbGwgbG9naWNhbCBmcmFnbWVudHMgYnkga2VlcGluZyBtYXggZW50\ncmllcyBjb3VudAogICAgICogdG8gcmVyZXBsaWNhdGlvbkVudHJ5QmF0Y2hT\naXplLiBTbywgcmUtcmVwbGljYXRpb24gd2lsbCBoYXBwZW4gaW4gYmF0Y2hl\ncwogICAgICogd2lzZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0UmVy\nZXBsaWNhdGlvbkVudHJ5QmF0Y2hTaXplKGxvbmcgcmVyZXBsaWNhdGlvbkVu\ndHJ5QmF0Y2hTaXplKSB7CiAgICAgICAgc2V0UHJvcGVydHkoUkVSRVBMSUNB\nVElPTl9FTlRSWV9CQVRDSF9TSVpFLCByZXJlcGxpY2F0aW9uRW50cnlCYXRj\naFNpemUpOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRoZSByZS1yZXBs\naWNhdGlvbiBlbnRyeSBiYXRjaCBzaXplCiAgICAgKi8KICAgIHB1YmxpYyBs\nb25nIGdldFJlcmVwbGljYXRpb25FbnRyeUJhdGNoU2l6ZSgpIHsKICAgICAg\nICByZXR1cm4gZ2V0TG9uZyhSRVJFUExJQ0FUSU9OX0VOVFJZX0JBVENIX1NJ\nWkUsIDEwKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBtZXRhc3RvcmUg\naW1wbGVtZW50YXRpb24gY2xhc3MuCiAgICAgKgogICAgICogQHJldHVybiBt\nZXRhc3RvcmUgaW1wbGVtZW50YXRpb24gY2xhc3MgbmFtZS4KICAgICAqLwog\nICAgcHVibGljIFN0cmluZyBnZXRNZXRhc3RvcmVJbXBsQ2xhc3MoKSB7CiAg\nICAgICAgcmV0dXJuIGdldFN0cmluZyhNRVRBU1RPUkVfSU1QTF9DTEFTUyk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgbWV0YXN0b3JlIGltcGxlbWVu\ndGF0aW9uIGNsYXNzLgogICAgICoKICAgICAqIEBwYXJhbSBtZXRhc3RvcmVJ\nbXBsQ2xhc3MKICAgICAqICAgICAgICAgIE1ldGFzdG9yZSBpbXBsZW1lbnRh\ndGlvbiBDbGFzcyBuYW1lLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRN\nZXRhc3RvcmVJbXBsQ2xhc3MoU3RyaW5nIG1ldGFzdG9yZUltcGxDbGFzcykg\newogICAgICAgIHNldFByb3BlcnR5KE1FVEFTVE9SRV9JTVBMX0NMQVNTLCBt\nZXRhc3RvcmVJbXBsQ2xhc3MpOwogICAgfQoKICAgIC8qKgogICAgICogR2V0\nIG1heCBlbnRyaWVzIHBlciBzY2FuIGluIG1ldGFzdG9yZS4KICAgICAqCiAg\nICAgKiBAcmV0dXJuIG1heCBlbnRyaWVzIHBlciBzY2FuIGluIG1ldGFzdG9y\nZS4KICAgICAqLwogICAgcHVibGljIGludCBnZXRNZXRhc3RvcmVNYXhFbnRy\naWVzUGVyU2NhbigpIHsKICAgICAgICByZXR1cm4gZ2V0SW50KE1FVEFTVE9S\nRV9NQVhfRU5UUklFU19QRVJfU0NBTiwgNTApOwogICAgfQoKICAgIC8qKgog\nICAgICogU2V0IG1heCBlbnRyaWVzIHBlciBzY2FuIGluIG1ldGFzdG9yZS4K\nICAgICAqCiAgICAgKiBAcGFyYW0gbWF4RW50cmllcwogICAgICogICAgICAg\nICAgTWF4IGVudHJpZXMgcGVyIHNjYW4gaW4gbWV0YXN0b3JlLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCBzZXRNZXRhc3RvcmVNYXhFbnRyaWVzUGVyU2Nh\nbihpbnQgbWF4RW50cmllcykgewogICAgICAgIHNldFByb3BlcnR5KE1FVEFT\nVE9SRV9NQVhfRU5UUklFU19QRVJfU0NBTiwgbWF4RW50cmllcyk7CiAgICB9\nCn0K\n","encoding":"base64"}

