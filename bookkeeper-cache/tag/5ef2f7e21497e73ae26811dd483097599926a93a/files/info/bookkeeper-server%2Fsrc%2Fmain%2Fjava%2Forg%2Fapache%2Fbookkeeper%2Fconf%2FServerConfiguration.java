{"sha":"c400786fbdbaa6ba10f3696038f4b4f9bb070268","node_id":"MDQ6QmxvYjE1NzU5NTY6YzQwMDc4NmZiZGJhYTZiYTEwZjM2OTYwMzhmNGI0ZjliYjA3MDI2OA==","size":20250,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/c400786fbdbaa6ba10f3696038f4b4f9bb070268","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZjsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBvcmcu\nYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKCi8qKgogKiBDb25m\naWd1cmF0aW9uIG1hbmFnZXMgc2VydmVyLXNpZGUgc2V0dGluZ3MKICovCnB1\nYmxpYyBjbGFzcyBTZXJ2ZXJDb25maWd1cmF0aW9uIGV4dGVuZHMgQWJzdHJh\nY3RDb25maWd1cmF0aW9uIHsKICAgIC8vIEVudHJ5IExvZyBQYXJhbWV0ZXJz\nCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBFTlRSWV9MT0df\nU0laRV9MSU1JVCA9ICJsb2dTaXplTGltaXQiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUlOT1JfQ09NUEFDVElPTl9JTlRFUlZBTCA9\nICJtaW5vckNvbXBhY3Rpb25JbnRlcnZhbCI7CiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBNSU5PUl9DT01QQUNUSU9OX1RIUkVTSE9MRCA9\nICJtaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUFKT1JfQ09NUEFDVElPTl9JTlRFUlZBTCA9\nICJtYWpvckNvbXBhY3Rpb25JbnRlcnZhbCI7CiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBNQUpPUl9DT01QQUNUSU9OX1RIUkVTSE9MRCA9\nICJtYWpvckNvbXBhY3Rpb25UaHJlc2hvbGQiOwoKICAgIC8vIEdjIFBhcmFt\nZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIEdDX1dB\nSVRfVElNRSA9ICJnY1dhaXRUaW1lIjsKICAgIC8vIFN5bmMgUGFyYW1ldGVy\ncwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgRkxVU0hfSU5U\nRVJWQUwgPSAiZmx1c2hJbnRlcnZhbCI7CiAgICAvLyBCb29raWUgZGVhdGgg\nd2F0Y2ggaW50ZXJ2YWwKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3Ry\naW5nIERFQVRIX1dBVENIX0lOVEVSVkFMID0gImJvb2tpZURlYXRoV2F0Y2hJ\nbnRlcnZhbCI7CiAgICAvLyBMZWRnZXIgQ2FjaGUgUGFyYW1ldGVycwogICAg\ncHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgT1BFTl9GSUxFX0xJTUlU\nID0gIm9wZW5GaWxlTGltaXQiOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRp\nYyBTdHJpbmcgUEFHRV9MSU1JVCA9ICJwYWdlTGltaXQiOwogICAgcHJvdGVj\ndGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgUEFHRV9TSVpFID0gInBhZ2VTaXpl\nIjsKICAgIC8vIEpvdXJuYWwgUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUFYX0pPVVJOQUxfU0laRSA9ICJqb3VybmFs\nTWF4U2l6ZU1CIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5n\nIE1BWF9CQUNLVVBfSk9VUk5BTFMgPSAiam91cm5hbE1heEJhY2t1cHMiOwog\nICAgLy8gQm9va2llIFBhcmFtZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBz\ndGF0aWMgU3RyaW5nIEJPT0tJRV9QT1JUID0gImJvb2tpZVBvcnQiOwogICAg\ncHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgSk9VUk5BTF9ESVIgPSAi\nam91cm5hbERpcmVjdG9yeSI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGlj\nIFN0cmluZyBMRURHRVJfRElSUyA9ICJsZWRnZXJEaXJlY3RvcmllcyI7CiAg\nICAvLyBOSU8gUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRp\nYyBTdHJpbmcgU0VSVkVSX1RDUF9OT0RFTEFZID0gInNlcnZlclRjcE5vRGVs\nYXkiOwogICAgLy8gWm9va2VlcGVyIFBhcmFtZXRlcnMKICAgIHByb3RlY3Rl\nZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFpLX1RJTUVPVVQgPSAiemtUaW1lb3V0\nIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFpLX1NFUlZF\nUlMgPSAiemtTZXJ2ZXJzIjsKICAgIC8vIFN0YXRpc3RpY3MgUGFyYW1ldGVy\ncwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgRU5BQkxFX1NU\nQVRJU1RJQ1MgPSAiZW5hYmxlU3RhdGlzdGljcyI7CiAgICBwcm90ZWN0ZWQg\nZmluYWwgc3RhdGljIFN0cmluZyBPUEVOX0xFREdFUl9SRVJFUExJQ0FUSU9O\nX0dSQUNFX1BFUklPRCA9ICJvcGVuTGVkZ2VyUmVyZXBsaWNhdGlvbkdyYWNl\nUGVyaW9kIjsKICAgIC8vUmVhZE9ubHkgbW9kZSBzdXBwb3J0IG9uIGFsbCBk\naXNrIGZ1bGwKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFJF\nQURfT05MWV9NT0RFX0VOQUJMRUQgPSAicmVhZE9ubHlNb2RlRW5hYmxlZCI7\nCiAgICAvL0Rpc2sgdXRpbGl6YXRpb24KICAgIHByb3RlY3RlZCBmaW5hbCBz\ndGF0aWMgU3RyaW5nIERJU0tfVVNBR0VfVEhSRVNIT0xEID0gImRpc2tVc2Fn\nZVRocmVzaG9sZCI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmlu\nZyBESVNLX0NIRUNLX0lOVEVSVkFMID0gImRpc2tDaGVja0ludGVydmFsIjsK\nICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIEFVRElUT1JfUEVS\nSU9ESUNfQ0hFQ0tfSU5URVJWQUwgPSAiYXVkaXRvclBlcmlvZGljQ2hlY2tJ\nbnRlcnZhbCI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBB\nVVRPX1JFQ09WRVJZX0RBRU1PTl9FTkFCTEVEID0gImF1dG9SZWNvdmVyeURh\nZW1vbkVuYWJsZWQiOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0IGEgZGVm\nYXVsdCBjb25maWd1cmF0aW9uIG9iamVjdAogICAgICovCiAgICBwdWJsaWMg\nU2VydmVyQ29uZmlndXJhdGlvbigpIHsKICAgICAgICBzdXBlcigpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0IGEgY29uZmlndXJhdGlvbiBi\nYXNlZCBvbiBvdGhlciBjb25maWd1cmF0aW9uCiAgICAgKgogICAgICogQHBh\ncmFtIGNvbmYKICAgICAqICAgICAgICAgIE90aGVyIGNvbmZpZ3VyYXRpb24K\nICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24oQWJzdHJh\nY3RDb25maWd1cmF0aW9uIGNvbmYpIHsKICAgICAgICBzdXBlcigpOwogICAg\nICAgIGxvYWRDb25mKGNvbmYpOwogICAgfQoKICAgIC8qKgogICAgICogR2V0\nIGVudHJ5IGxvZ2dlciBzaXplIGxpbWl0YXRpb24KICAgICAqCiAgICAgKiBA\ncmV0dXJuIGVudHJ5IGxvZ2dlciBzaXplIGxpbWl0YXRpb24KICAgICAqLwog\nICAgcHVibGljIGxvbmcgZ2V0RW50cnlMb2dTaXplTGltaXQoKSB7CiAgICAg\nICAgcmV0dXJuIHRoaXMuZ2V0TG9uZyhFTlRSWV9MT0dfU0laRV9MSU1JVCwg\nMiAqIDEwMjQgKiAxMDI0ICogMTAyNEwpOwogICAgfQoKICAgIC8qKgogICAg\nICogU2V0IGVudHJ5IGxvZ2dlciBzaXplIGxpbWl0YXRpb24KICAgICAqCiAg\nICAgKiBAcGFyYW0gbG9nU2l6ZUxpbWl0CiAgICAgKiAgICAgICAgICBuZXcg\nbG9nIHNpemUgbGltaXRhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVy\nQ29uZmlndXJhdGlvbiBzZXRFbnRyeUxvZ1NpemVMaW1pdChsb25nIGxvZ1Np\nemVMaW1pdCkgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoRU5UUllfTE9H\nX1NJWkVfTElNSVQsIExvbmcudG9TdHJpbmcobG9nU2l6ZUxpbWl0KSk7CiAg\nICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQg\nR2FyYmFnZSBjb2xsZWN0aW9uIHdhaXQgdGltZQogICAgICoKICAgICAqIEBy\nZXR1cm4gZ2Mgd2FpdCB0aW1lCiAgICAgKi8KICAgIHB1YmxpYyBsb25nIGdl\ndEdjV2FpdFRpbWUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TG9uZyhH\nQ19XQUlUX1RJTUUsIDEwMDApOwogICAgfQoKICAgIC8qKgogICAgICogU2V0\nIGdhcmJhZ2UgY29sbGVjdGlvbiB3YWl0IHRpbWUKICAgICAqCiAgICAgKiBA\ncGFyYW0gZ2NXYWl0VGltZQogICAgICogICAgICAgICAgZ2Mgd2FpdCB0aW1l\nCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8K\nICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldEdjV2FpdFRpbWUo\nbG9uZyBnY1dhaXRUaW1lKSB7CiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShH\nQ19XQUlUX1RJTUUsIExvbmcudG9TdHJpbmcoZ2NXYWl0VGltZSkpOwogICAg\nICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGZs\ndXNoIGludGVydmFsCiAgICAgKgogICAgICogQHJldHVybiBmbHVzaCBpbnRl\ncnZhbAogICAgICovCiAgICBwdWJsaWMgaW50IGdldEZsdXNoSW50ZXJ2YWwo\nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50KEZMVVNIX0lOVEVSVkFM\nLCAxMDApOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGZsdXNoIGludGVy\ndmFsCiAgICAgKgogICAgICogQHBhcmFtIGZsdXNoSW50ZXJ2YWwKICAgICAq\nICAgICAgICAgIEZsdXNoIEludGVydmFsCiAgICAgKiBAcmV0dXJuIHNlcnZl\nciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25m\naWd1cmF0aW9uIHNldEZsdXNoSW50ZXJ2YWwoaW50IGZsdXNoSW50ZXJ2YWwp\nIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5KEZMVVNIX0lOVEVSVkFMLCBJ\nbnRlZ2VyLnRvU3RyaW5nKGZsdXNoSW50ZXJ2YWwpKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBib29raWUgZGVh\ndGggd2F0Y2ggaW50ZXJ2YWwKICAgICAqCiAgICAgKiBAcmV0dXJuIHdhdGNo\nIGludGVydmFsCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0RGVhdGhXYXRj\naEludGVydmFsKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEludChERUFU\nSF9XQVRDSF9JTlRFUlZBTCwgMTAwMCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBHZXQgb3BlbiBmaWxlIGxpbWl0CiAgICAgKgogICAgICogQHJldHVybiBt\nYXggbnVtYmVyIG9mIGZpbGVzIHRvIG9wZW4KICAgICAqLwogICAgcHVibGlj\nIGludCBnZXRPcGVuRmlsZUxpbWl0KCkgewogICAgICAgIHJldHVybiB0aGlz\nLmdldEludChPUEVOX0ZJTEVfTElNSVQsIDkwMCk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBTZXQgbGltaXRhdGlvbiBvZiBudW1iZXIgb2Ygb3BlbiBmaWxl\ncy4KICAgICAqCiAgICAgKiBAcGFyYW0gZmlsZUxpbWl0CiAgICAgKiAgICAg\nICAgICBMaW1pdGF0aW9uIG9mIG51bWJlciBvZiBvcGVuIGZpbGVzLgogICAg\nICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBw\ndWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRPcGVuRmlsZUxpbWl0KGlu\ndCBmaWxlTGltaXQpIHsKICAgICAgICBzZXRQcm9wZXJ0eShPUEVOX0ZJTEVf\nTElNSVQsIGZpbGVMaW1pdCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBHZXQgbGltaXRhdGlvbiBudW1iZXIgb2YgaW5k\nZXggcGFnZXMgaW4gbGVkZ2VyIGNhY2hlCiAgICAgKgogICAgICogQHJldHVy\nbiBtYXggbnVtYmVyIG9mIGluZGV4IHBhZ2VzIGluIGxlZGdlciBjYWNoZQog\nICAgICovCiAgICBwdWJsaWMgaW50IGdldFBhZ2VMaW1pdCgpIHsKICAgICAg\nICByZXR1cm4gdGhpcy5nZXRJbnQoUEFHRV9MSU1JVCwgLTEpOwogICAgfQoK\nICAgIC8qKgogICAgICogU2V0IGxpbWl0YXRpb24gbnVtYmVyIG9mIGluZGV4\nIHBhZ2VzIGluIGxlZGdlciBjYWNoZS4KICAgICAqCiAgICAgKiBAcGFyYW0g\ncGFnZUxpbWl0CiAgICAgKiAgICAgICAgICBMaW1pdGF0aW9uIG9mIG51bWJl\nciBvZiBpbmRleCBwYWdlcyBpbiBsZWRnZXIgY2FjaGUuCiAgICAgKiBAcmV0\ndXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBT\nZXJ2ZXJDb25maWd1cmF0aW9uIHNldFBhZ2VMaW1pdChpbnQgcGFnZUxpbWl0\nKSB7CiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShQQUdFX0xJTUlULCBwYWdl\nTGltaXQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgog\nICAgICogR2V0IHBhZ2Ugc2l6ZQogICAgICoKICAgICAqIEByZXR1cm4gcGFn\nZSBzaXplIGluIGxlZGdlciBjYWNoZQogICAgICovCiAgICBwdWJsaWMgaW50\nIGdldFBhZ2VTaXplKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEludChQ\nQUdFX1NJWkUsIDgxOTIpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHBh\nZ2Ugc2l6ZQogICAgICoKICAgICAqIEBzZWUgI2dldFBhZ2VTaXplKCkKICAg\nICAqCiAgICAgKiBAcGFyYW0gcGFnZVNpemUKICAgICAqICAgICAgICAgIFBh\nZ2UgU2l6ZQogICAgICogQHJldHVybiBTZXJ2ZXIgQ29uZmlndXJhdGlvbgog\nICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRQYWdl\nU2l6ZShpbnQgcGFnZVNpemUpIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5\nKFBBR0VfU0laRSwgcGFnZVNpemUpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogTWF4IGpvdXJuYWwgZmlsZSBzaXplCiAg\nICAgKgogICAgICogQHJldHVybiBtYXggam91cm5hbCBmaWxlIHNpemUKICAg\nICAqLwogICAgcHVibGljIGxvbmcgZ2V0TWF4Sm91cm5hbFNpemUoKSB7CiAg\nICAgICAgcmV0dXJuIHRoaXMuZ2V0TG9uZyhNQVhfSk9VUk5BTF9TSVpFLCAy\nICogMTAyNCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgbmV3IG1heCBq\nb3VybmFsIGZpbGUgc2l6ZQogICAgICoKICAgICAqIEBwYXJhbSBtYXhKb3Vy\nbmFsU2l6ZQogICAgICogICAgICAgICAgbmV3IG1heCBqb3VybmFsIGZpbGUg\nc2l6ZQogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAg\nICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRNYXhKb3Vy\nbmFsU2l6ZShsb25nIG1heEpvdXJuYWxTaXplKSB7CiAgICAgICAgdGhpcy5z\nZXRQcm9wZXJ0eShNQVhfSk9VUk5BTF9TSVpFLCBMb25nLnRvU3RyaW5nKG1h\neEpvdXJuYWxTaXplKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBNYXggbnVtYmVyIG9mIG9sZGVyIGpvdXJuYWwgZmls\nZXMga2VwdAogICAgICoKICAgICAqIEByZXR1cm4gbWF4IG51bWJlciBvZiBv\nbGRlciBqb3VybmFsIGZpbGVzIHRvIGtlcHQKICAgICAqLwogICAgcHVibGlj\nIGludCBnZXRNYXhCYWNrdXBKb3VybmFscygpIHsKICAgICAgICByZXR1cm4g\ndGhpcy5nZXRJbnQoTUFYX0JBQ0tVUF9KT1VSTkFMUywgNSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgbWF4IG51bWJlciBvZiBvbGRlciBqb3VybmFs\nIGZpbGVzIHRvIGtlcHQKICAgICAqCiAgICAgKiBAcGFyYW0gbWF4QmFja3Vw\nSm91cm5hbHMKICAgICAqICAgICAgICAgIE1heCBudW1iZXIgb2Ygb2xkZXIg\nam91cm5hbCBmaWxlcwogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJh\ndGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBz\nZXRNYXhCYWNrdXBKb3VybmFscyhpbnQgbWF4QmFja3VwSm91cm5hbHMpIHsK\nICAgICAgICB0aGlzLnNldFByb3BlcnR5KE1BWF9CQUNLVVBfSk9VUk5BTFMs\nIEludGVnZXIudG9TdHJpbmcobWF4QmFja3VwSm91cm5hbHMpKTsKICAgICAg\nICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBib29r\naWUgcG9ydCB0aGF0IGJvb2tpZSBzZXJ2ZXIgbGlzdGVuIG9uCiAgICAgKgog\nICAgICogQHJldHVybiBib29raWUgcG9ydAogICAgICovCiAgICBwdWJsaWMg\naW50IGdldEJvb2tpZVBvcnQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0\nSW50KEJPT0tJRV9QT1JULCAzMTgxKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCBuZXcgYm9va2llIHBvcnQgdGhhdCBib29raWUgc2VydmVyIGxpc3Rl\nbiBvbgogICAgICoKICAgICAqIEBwYXJhbSBwb3J0CiAgICAgKiAgICAgICAg\nICBQb3J0IHRvIGxpc3RlbiBvbgogICAgICogQHJldHVybiBzZXJ2ZXIgY29u\nZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJh\ndGlvbiBzZXRCb29raWVQb3J0KGludCBwb3J0KSB7CiAgICAgICAgdGhpcy5z\nZXRQcm9wZXJ0eShCT09LSUVfUE9SVCwgSW50ZWdlci50b1N0cmluZyhwb3J0\nKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBHZXQgZGlyIG5hbWUgdG8gc3RvcmUgam91cm5hbCBmaWxlcwogICAgICoK\nICAgICAqIEByZXR1cm4gam91cm5hbCBkaXIgbmFtZQogICAgICovCiAgICBw\ndWJsaWMgU3RyaW5nIGdldEpvdXJuYWxEaXJOYW1lKCkgewogICAgICAgIHJl\ndHVybiB0aGlzLmdldFN0cmluZyhKT1VSTkFMX0RJUiwgIi90bXAvYmstdHhu\nIik7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgZGlyIG5hbWUgdG8gc3Rv\ncmUgam91cm5hbCBmaWxlcwogICAgICoKICAgICAqIEBwYXJhbSBqb3VybmFs\nRGlyCiAgICAgKiAgICAgICAgICBEaXIgdG8gc3RvcmUgam91cm5hbCBmaWxl\ncwogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICov\nCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRKb3VybmFsRGly\nTmFtZShTdHJpbmcgam91cm5hbERpcikgewogICAgICAgIHRoaXMuc2V0UHJv\ncGVydHkoSk9VUk5BTF9ESVIsIGpvdXJuYWxEaXIpOwogICAgICAgIHJldHVy\nbiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGRpciB0byBzdG9y\nZSBqb3VybmFsIGZpbGVzCiAgICAgKgogICAgICogQHJldHVybiBqb3VybmFs\nIGRpciwgaWYgbm8gam91cm5hbCBkaXIgcHJvdmlkZWQgcmV0dXJuIG51bGwK\nICAgICAqLwogICAgcHVibGljIEZpbGUgZ2V0Sm91cm5hbERpcigpIHsKICAg\nICAgICBTdHJpbmcgam91cm5hbERpck5hbWUgPSBnZXRKb3VybmFsRGlyTmFt\nZSgpOwogICAgICAgIGlmIChudWxsID09IGpvdXJuYWxEaXJOYW1lKSB7CiAg\nICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICByZXR1\ncm4gbmV3IEZpbGUoam91cm5hbERpck5hbWUpOwogICAgfQoKICAgIC8qKgog\nICAgICogR2V0IGRpciBuYW1lcyB0byBzdG9yZSBsZWRnZXIgZGF0YQogICAg\nICoKICAgICAqIEByZXR1cm4gbGVkZ2VyIGRpciBuYW1lcywgaWYgbm90IHBy\nb3ZpZGVkIHJldHVybiBudWxsCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmdb\nXSBnZXRMZWRnZXJEaXJOYW1lcygpIHsKICAgICAgICBTdHJpbmdbXSBsZWRn\nZXJEaXJzID0gdGhpcy5nZXRTdHJpbmdBcnJheShMRURHRVJfRElSUyk7CiAg\nICAgICAgaWYgKG51bGwgPT0gbGVkZ2VyRGlycykgewogICAgICAgICAgICBy\nZXR1cm4gbmV3IFN0cmluZ1tdIHsgIi90bXAvYmstZGF0YSIgfTsKICAgICAg\nICB9CiAgICAgICAgcmV0dXJuIGxlZGdlckRpcnM7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBTZXQgZGlyIG5hbWVzIHRvIHN0b3JlIGxlZGdlciBkYXRhCiAg\nICAgKgogICAgICogQHBhcmFtIGxlZGdlckRpcnMKICAgICAqICAgICAgICAg\nIERpciBuYW1lcyB0byBzdG9yZSBsZWRnZXIgZGF0YQogICAgICogQHJldHVy\nbiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2Vy\ndmVyQ29uZmlndXJhdGlvbiBzZXRMZWRnZXJEaXJOYW1lcyhTdHJpbmdbXSBs\nZWRnZXJEaXJzKSB7CiAgICAgICAgaWYgKG51bGwgPT0gbGVkZ2VyRGlycykg\newogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9CiAgICAgICAg\ndGhpcy5zZXRQcm9wZXJ0eShMRURHRVJfRElSUywgbGVkZ2VyRGlycyk7CiAg\nICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQg\nZGlycyB0aGF0IHN0b3JlcyBsZWRnZXIgZGF0YQogICAgICoKICAgICAqIEBy\nZXR1cm4gbGVkZ2VyIGRpcnMKICAgICAqLwogICAgcHVibGljIEZpbGVbXSBn\nZXRMZWRnZXJEaXJzKCkgewogICAgICAgIFN0cmluZ1tdIGxlZGdlckRpck5h\nbWVzID0gZ2V0TGVkZ2VyRGlyTmFtZXMoKTsKICAgICAgICBpZiAobnVsbCA9\nPSBsZWRnZXJEaXJOYW1lcykgewogICAgICAgICAgICByZXR1cm4gbnVsbDsK\nICAgICAgICB9CiAgICAgICAgRmlsZVtdIGxlZGdlckRpcnMgPSBuZXcgRmls\nZVtsZWRnZXJEaXJOYW1lcy5sZW5ndGhdOwogICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgbGVkZ2VyRGlyTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAg\nICAgICAgbGVkZ2VyRGlyc1tpXSA9IG5ldyBGaWxlKGxlZGdlckRpck5hbWVz\nW2ldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxlZGdlckRpcnM7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBJcyB0Y3AgY29ubmVjdGlvbiBubyBkZWxh\neS4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRjcCBzb2NrZXQgbm9kZWxheSBz\nZXR0aW5nCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdldFNlcnZlclRj\ncE5vRGVsYXkoKSB7CiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW4oU0VSVkVS\nX1RDUF9OT0RFTEFZLCB0cnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ndCBzb2NrZXQgbm9kZWxheSBzZXR0aW5nCiAgICAgKgogICAgICogQHBhcmFt\nIG5vRGVsYXkKICAgICAqICAgICAgICAgIE5vRGVsYXkgc2V0dGluZwogICAg\nICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBw\ndWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRTZXJ2ZXJUY3BOb0RlbGF5\nKGJvb2xlYW4gbm9EZWxheSkgewogICAgICAgIHNldFByb3BlcnR5KFNFUlZF\nUl9UQ1BfTk9ERUxBWSwgQm9vbGVhbi50b1N0cmluZyhub0RlbGF5KSk7CiAg\nICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQg\nem9va2VlcGVyIHNlcnZlcnMgdG8gY29ubmVjdAogICAgICoKICAgICAqIEBy\nZXR1cm4gem9va2VlcGVyIHNlcnZlcnMKICAgICAqLwogICAgcHVibGljIFN0\ncmluZyBnZXRaa1NlcnZlcnMoKSB7CiAgICAgICAgTGlzdDxPYmplY3Q+IHNl\ncnZlcnMgPSBnZXRMaXN0KFpLX1NFUlZFUlMsIG51bGwpOwogICAgICAgIGlm\nIChudWxsID09IHNlcnZlcnMgfHwgMCA9PSBzZXJ2ZXJzLnNpemUoKSkgewog\nICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIFN0cmluZ1V0aWxzLmpvaW4oc2VydmVycywgIiwiKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFNldCB6b29rZWVwZXIgc2VydmVycyB0byBjb25uZWN0\nCiAgICAgKgogICAgICogQHBhcmFtIHprU2VydmVycwogICAgICogICAgICAg\nICAgWm9vS2VlcGVyIHNlcnZlcnMgdG8gY29ubmVjdAogICAgICovCiAgICBw\ndWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRaa1NlcnZlcnMoU3RyaW5n\nIHprU2VydmVycykgewogICAgICAgIHNldFByb3BlcnR5KFpLX1NFUlZFUlMs\nIHprU2VydmVycyk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBHZXQgem9va2VlcGVyIHRpbWVvdXQKICAgICAqCiAgICAg\nKiBAcmV0dXJuIHpvb2tlZXBlciBzZXJ2ZXIgdGltZW91dAogICAgICovCiAg\nICBwdWJsaWMgaW50IGdldFprVGltZW91dCgpIHsKICAgICAgICByZXR1cm4g\nZ2V0SW50KFpLX1RJTUVPVVQsIDEwMDAwKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldCB6b29rZWVwZXIgdGltZW91dAogICAgICoKICAgICAqIEBwYXJh\nbSB6a1RpbWVvdXQKICAgICAqICAgICAgICAgIFpvb0tlZXBlciBzZXJ2ZXIg\ndGltZW91dAogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgog\nICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRaa1Rp\nbWVvdXQoaW50IHprVGltZW91dCkgewogICAgICAgIHNldFByb3BlcnR5KFpL\nX1RJTUVPVVQsIEludGVnZXIudG9TdHJpbmcoemtUaW1lb3V0KSk7CiAgICAg\nICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBJcyBzdGF0\naXN0aWNzIGVuYWJsZWQKICAgICAqCiAgICAgKiBAcmV0dXJuIGlzIHN0YXRp\nc3RpY3MgZW5hYmxlZAogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc1N0\nYXRpc3RpY3NFbmFibGVkKCkgewogICAgICAgIHJldHVybiBnZXRCb29sZWFu\nKEVOQUJMRV9TVEFUSVNUSUNTLCB0cnVlKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFR1cm4gb24vb2ZmIHN0YXRpc3RpY3MKICAgICAqCiAgICAgKiBAcGFy\nYW0gZW5hYmxlZAogICAgICogICAgICAgICAgV2hldGhlciBzdGF0aXN0aWNz\nIGVuYWJsZWQgb3Igbm90LgogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmln\ndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlv\nbiBzZXRTdGF0aXN0aWNzRW5hYmxlZChib29sZWFuIGVuYWJsZWQpIHsKICAg\nICAgICBzZXRQcm9wZXJ0eShFTkFCTEVfU1RBVElTVElDUywgQm9vbGVhbi50\nb1N0cmluZyhlbmFibGVkKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBHZXQgdGhyZXNob2xkIG9mIG1pbm9yIGNvbXBh\nY3Rpb24uCiAgICAgKgogICAgICogRm9yIHRob3NlIGVudHJ5IGxvZyBmaWxl\ncyB3aG9zZSByZW1haW5pbmcgc2l6ZSBwZXJjZW50YWdlIHJlYWNoZXMgYmVs\nb3cKICAgICAqIHRoaXMgdGhyZXNob2xkICB3aWxsIGJlIGNvbXBhY3RlZCBp\nbiBhIG1pbm9yIGNvbXBhY3Rpb24uCiAgICAgKgogICAgICogSWYgaXQgaXMg\nc2V0IHRvIGxlc3MgdGhhbiB6ZXJvLCB0aGUgbWlub3IgY29tcGFjdGlvbiBp\ncyBkaXNhYmxlZC4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRocmVzaG9sZCBv\nZiBtaW5vciBjb21wYWN0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBkb3VibGUg\nZ2V0TWlub3JDb21wYWN0aW9uVGhyZXNob2xkKCkgewogICAgICAgIHJldHVy\nbiBnZXREb3VibGUoTUlOT1JfQ09NUEFDVElPTl9USFJFU0hPTEQsIDAuMmYp\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRocmVzaG9sZCBvZiBtaW5v\nciBjb21wYWN0aW9uCiAgICAgKgogICAgICogQHNlZSAjZ2V0TWlub3JDb21w\nYWN0aW9uVGhyZXNob2xkKCkKICAgICAqCiAgICAgKiBAcGFyYW0gdGhyZXNo\nb2xkCiAgICAgKiAgICAgICAgICBUaHJlc2hvbGQgZm9yIG1pbm9yIGNvbXBh\nY3Rpb24KICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAg\nICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0TWlub3JD\nb21wYWN0aW9uVGhyZXNob2xkKGRvdWJsZSB0aHJlc2hvbGQpIHsKICAgICAg\nICBzZXRQcm9wZXJ0eShNSU5PUl9DT01QQUNUSU9OX1RIUkVTSE9MRCwgdGhy\nZXNob2xkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioK\nICAgICAqIEdldCB0aHJlc2hvbGQgb2YgbWFqb3IgY29tcGFjdGlvbi4KICAg\nICAqCiAgICAgKiBGb3IgdGhvc2UgZW50cnkgbG9nIGZpbGVzIHdob3NlIHJl\nbWFpbmluZyBzaXplIHBlcmNlbnRhZ2UgcmVhY2hlcyBiZWxvdwogICAgICog\ndGhpcyB0aHJlc2hvbGQgIHdpbGwgYmUgY29tcGFjdGVkIGluIGEgbWFqb3Ig\nY29tcGFjdGlvbi4KICAgICAqCiAgICAgKiBJZiBpdCBpcyBzZXQgdG8gbGVz\ncyB0aGFuIHplcm8sIHRoZSBtYWpvciBjb21wYWN0aW9uIGlzIGRpc2FibGVk\nLgogICAgICoKICAgICAqIEByZXR1cm4gdGhyZXNob2xkIG9mIG1ham9yIGNv\nbXBhY3Rpb24KICAgICAqLwogICAgcHVibGljIGRvdWJsZSBnZXRNYWpvckNv\nbXBhY3Rpb25UaHJlc2hvbGQoKSB7CiAgICAgICAgcmV0dXJuIGdldERvdWJs\nZShNQUpPUl9DT01QQUNUSU9OX1RIUkVTSE9MRCwgMC44Zik7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgdGhyZXNob2xkIG9mIG1ham9yIGNvbXBhY3Rp\nb24uCiAgICAgKgogICAgICogQHNlZSAjZ2V0TWFqb3JDb21wYWN0aW9uVGhy\nZXNob2xkKCkKICAgICAqCiAgICAgKiBAcGFyYW0gdGhyZXNob2xkCiAgICAg\nKiAgICAgICAgICBUaHJlc2hvbGQgb2YgbWFqb3IgY29tcGFjdGlvbgogICAg\nICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBw\ndWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRNYWpvckNvbXBhY3Rpb25U\naHJlc2hvbGQoZG91YmxlIHRocmVzaG9sZCkgewogICAgICAgIHNldFByb3Bl\ncnR5KE1BSk9SX0NPTVBBQ1RJT05fVEhSRVNIT0xELCB0aHJlc2hvbGQpOwog\nICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0\nIGludGVydmFsIHRvIHJ1biBtaW5vciBjb21wYWN0aW9uLCBpbiBzZWNvbmRz\nLgogICAgICoKICAgICAqIElmIGl0IGlzIHNldCB0byBsZXNzIHRoYW4gemVy\nbywgdGhlIG1pbm9yIGNvbXBhY3Rpb24gaXMgZGlzYWJsZWQuCiAgICAgKgog\nICAgICogQHJldHVybiB0aHJlc2hvbGQgb2YgbWlub3IgY29tcGFjdGlvbgog\nICAgICovCiAgICBwdWJsaWMgbG9uZyBnZXRNaW5vckNvbXBhY3Rpb25JbnRl\ncnZhbCgpIHsKICAgICAgICByZXR1cm4gZ2V0TG9uZyhNSU5PUl9DT01QQUNU\nSU9OX0lOVEVSVkFMLCAzNjAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ndCBpbnRlcnZhbCB0byBydW4gbWlub3IgY29tcGFjdGlvbgogICAgICoKICAg\nICAqIEBzZWUgI2dldE1pbm9yQ29tcGFjdGlvbkludGVydmFsKCkKICAgICAq\nCiAgICAgKiBAcGFyYW0gaW50ZXJ2YWwKICAgICAqICAgICAgICAgIEludGVy\ndmFsIHRvIHJ1biBtaW5vciBjb21wYWN0aW9uCiAgICAgKiBAcmV0dXJuIHNl\ncnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJD\nb25maWd1cmF0aW9uIHNldE1pbm9yQ29tcGFjdGlvbkludGVydmFsKGxvbmcg\naW50ZXJ2YWwpIHsKICAgICAgICBzZXRQcm9wZXJ0eShNSU5PUl9DT01QQUNU\nSU9OX0lOVEVSVkFMLCBpbnRlcnZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgaW50ZXJ2YWwgdG8gcnVuIG1h\nam9yIGNvbXBhY3Rpb24sIGluIHNlY29uZHMuCiAgICAgKgogICAgICogSWYg\naXQgaXMgc2V0IHRvIGxlc3MgdGhhbiB6ZXJvLCB0aGUgbWFqb3IgY29tcGFj\ndGlvbiBpcyBkaXNhYmxlZC4KICAgICAqCiAgICAgKiBAcmV0dXJuIGhpZ2gg\nd2F0ZXIgbWFyawogICAgICovCiAgICBwdWJsaWMgbG9uZyBnZXRNYWpvckNv\nbXBhY3Rpb25JbnRlcnZhbCgpIHsKICAgICAgICByZXR1cm4gZ2V0TG9uZyhN\nQUpPUl9DT01QQUNUSU9OX0lOVEVSVkFMLCA4NjQwMCk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTZXQgaW50ZXJ2YWwgdG8gcnVuIG1ham9yIGNvbXBhY3Rp\nb24uCiAgICAgKgogICAgICogQHNlZSAjZ2V0TWFqb3JDb21wYWN0aW9uSW50\nZXJ2YWwoKQogICAgICoKICAgICAqIEBwYXJhbSBpbnRlcnZhbAogICAgICog\nICAgICAgICAgSW50ZXJ2YWwgdG8gcnVuIG1ham9yIGNvbXBhY3Rpb24KICAg\nICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAg\ncHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0TWFqb3JDb21wYWN0aW9u\nSW50ZXJ2YWwobG9uZyBpbnRlcnZhbCkgewogICAgICAgIHNldFByb3BlcnR5\nKE1BSk9SX0NPTVBBQ1RJT05fSU5URVJWQUwsIGludGVydmFsKTsKICAgICAg\nICByZXR1cm4gdGhpczsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBTZXQg\ndGhlIGdyYWNlIHBlcmlvZCB3aGljaCB0aGUgcmVyZXBsaWNhdGlvbiB3b3Jr\nZXIgd2lsbCB3YWl0IGJlZm9yZQogICAgICogZmVuY2luZyBhbmQgcmVyZXBs\naWNhdGluZyBhIGxlZGdlciBmcmFnbWVudCB3aGljaCBpcyBzdGlsbCBiZWlu\nZyB3cml0dGVuCiAgICAgKiB0bywgb24gYm9va2llIGZhaWx1cmUuCiAgICAg\nKiAKICAgICAqIFRoZSBncmFjZSBwZXJpb2QgYWxsb3dzIHRoZSB3cml0ZXIg\ndG8gZGV0ZWN0IHRoZSBib29raWUgZmFpbHVyZSwgYW5kCiAgICAgKiBzdGFy\ndCByZXBsaWNhdGluZyB0aGUgbGVkZ2VyIGZyYWdtZW50LiBJZiB0aGUgd3Jp\ndGVyIHdyaXRlcyBub3RoaW5nCiAgICAgKiBkdXJpbmcgdGhlIGdyYWNlIHBl\ncmlvZCwgdGhlIHJlcmVwbGljYXRpb24gd29ya2VyIGFzc3VtZXMgdGhhdCBp\ndCBoYXMKICAgICAqIGNyYXNoZWQgYW5kIGZlbmNlcyB0aGUgbGVkZ2VyLCBw\ncmV2ZW50aW5nIGFueSBmdXJ0aGVyIHdyaXRlcyB0byB0aGF0IAogICAgICog\nbGVkZ2VyLgogICAgICogCiAgICAgKiBAc2VlIG9yZy5hcGFjaGUuYm9va2tl\nZXBlci5jbGllbnQuQm9va0tlZXBlciNvcGVuTGVkZ2VyCiAgICAgKiAKICAg\nICAqIEBwYXJhbSB3YWl0VGltZSB0aW1lIHRvIHdhaXQgYmVmb3JlIHJlcGxp\nY2F0aW5nIGxlZGdlciBmcmFnbWVudAogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXRPcGVuTGVkZ2VyUmVyZXBsaWNhdGlvbkdyYWNlUGVyaW9kKFN0cmlu\nZyB3YWl0VGltZSkgewogICAgICAgIHNldFByb3BlcnR5KE9QRU5fTEVER0VS\nX1JFUkVQTElDQVRJT05fR1JBQ0VfUEVSSU9ELCB3YWl0VGltZSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBHZXQgdGhlIGdyYWNlIHBlcmlvZCB3aGljaCB0\naGUgcmVyZXBsaWNhdGlvbiB3b3JrZXIgdG8gd2FpdCBiZWZvcmUKICAgICAq\nIGZlbmNpbmcgYW5kIHJlcmVwbGljYXRpbmcgYSBsZWRnZXIgZnJhZ21lbnQg\nd2hpY2ggaXMgc3RpbGwgYmVpbmcgd3JpdHRlbgogICAgICogdG8sIG9uIGJv\nb2tpZSBmYWlsdXJlLgogICAgICogCiAgICAgKiBAcmV0dXJuIGxvbmcKICAg\nICAqLwogICAgcHVibGljIGxvbmcgZ2V0T3BlbkxlZGdlclJlcmVwbGljYXRp\nb25HcmFjZVBlcmlvZCgpIHsKICAgICAgICByZXR1cm4gZ2V0TG9uZyhPUEVO\nX0xFREdFUl9SRVJFUExJQ0FUSU9OX0dSQUNFX1BFUklPRCwgMzAwMDApOwog\nICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBSZWFkT25seU1vZGVFbmFi\nbGVkIHN0YXR1cwogICAgICogCiAgICAgKiBAcGFyYW0gZW5hYmxlZCBlbmFi\nbGVzIHJlYWQtb25seSBtb2RlLgogICAgICogCiAgICAgKiBAcmV0dXJuIFNl\ncnZlckNvbmZpZ3VyYXRpb24gCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJD\nb25maWd1cmF0aW9uIHNldFJlYWRPbmx5TW9kZUVuYWJsZWQoYm9vbGVhbiBl\nbmFibGVkKSB7CiAgICAgICAgc2V0UHJvcGVydHkoUkVBRF9PTkxZX01PREVf\nRU5BQkxFRCwgZW5hYmxlZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBHZXQgUmVhZE9ubHlNb2RlRW5hYmxlZCBzdGF0\ndXMKICAgICAqIAogICAgICogQHJldHVybiBib29sZWFuCiAgICAgKi8KICAg\nIHB1YmxpYyBib29sZWFuIGlzUmVhZE9ubHlNb2RlRW5hYmxlZCgpIHsKICAg\nICAgICByZXR1cm4gZ2V0Qm9vbGVhbihSRUFEX09OTFlfTU9ERV9FTkFCTEVE\nLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIERpc2sg\nZnJlZSBzcGFjZSB0aHJlc2hvbGQgYXMgYSBmcmFjdGlvbiBvZiB0aGUgdG90\nYWwKICAgICAqIGFmdGVyIHdoaWNoIGRpc2sgd2lsbCBiZSBjb25zaWRlcmVk\nIGFzIGZ1bGwgZHVyaW5nIGRpc2sgY2hlY2suCiAgICAgKiAKICAgICAqIEBw\nYXJhbSB0aHJlc2hvbGQgdGhyZXNob2xkIHRvIGRlY2xhcmUgYSBkaXNrIGZ1\nbGwKICAgICAqIAogICAgICogQHJldHVybiBTZXJ2ZXJDb25maWd1cmF0aW9u\nCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldERp\nc2tVc2FnZVRocmVzaG9sZChmbG9hdCB0aHJlc2hvbGQpIHsKICAgICAgICBz\nZXRQcm9wZXJ0eShESVNLX1VTQUdFX1RIUkVTSE9MRCwgdGhyZXNob2xkKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIFJl\ndHVybnMgZGlzayBmcmVlIHNwYWNlIHRocmVzaG9sZC4gQnkgZGVmYXVsdCBp\ndCBpcyAwLjk1LgogICAgICogCiAgICAgKiBAcmV0dXJuIGZsb2F0CiAgICAg\nKi8KICAgIHB1YmxpYyBmbG9hdCBnZXREaXNrVXNhZ2VUaHJlc2hvbGQoKSB7\nCiAgICAgICAgcmV0dXJuIGdldEZsb2F0KERJU0tfVVNBR0VfVEhSRVNIT0xE\nLCAwLjk1Zik7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIGRpc2sg\nY2hlY2tlciBpbnRlcnZhbCB0byBtb25pdG9yIGxlZGdlciBkaXNrIHNwYWNl\nCiAgICAgKiAKICAgICAqIEBwYXJhbSBpbnRlcnZhbCBpbnRlcnZhbCBiZXR3\nZWVuIGRpc2sgY2hlY2tzIGZvciBzcGFjZS4KICAgICAqIAogICAgICogQHJl\ndHVybiBTZXJ2ZXJDb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBT\nZXJ2ZXJDb25maWd1cmF0aW9uIHNldERpc2tDaGVja0ludGVydmFsKGludCBp\nbnRlcnZhbCkgewogICAgICAgIHNldFByb3BlcnR5KERJU0tfQ0hFQ0tfSU5U\nRVJWQUwsIGludGVydmFsKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0K\nCiAgICAvKioKICAgICAqIEdldCB0aGUgZGlzayBjaGVja2VyIGludGVydmFs\nCiAgICAgKiAKICAgICAqIEByZXR1cm4gaW50CiAgICAgKi8KICAgIHB1Ymxp\nYyBpbnQgZ2V0RGlza0NoZWNrSW50ZXJ2YWwoKSB7CiAgICAgICAgcmV0dXJu\nIGdldEludChESVNLX0NIRUNLX0lOVEVSVkFMLCAxMCAqIDEwMDApOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0IHRoZSByZWd1bGFyaXR5IGF0IHdoaWNo\nIHRoZSBhdWRpdG9yIHdpbGwgcnVuIGEgY2hlY2sKICAgICAqIG9mIGFsbCBs\nZWRnZXJzLiBUaGlzIHNob3VsZCBub3QgYmUgcnVuIHZlcnkgb2Z0ZW4sIGFu\nZCBhdCBtb3N0LAogICAgICogb25jZSBhIGRheS4KICAgICAqCiAgICAgKiBA\ncGFyYW0gaW50ZXJ2YWwgVGhlIGludGVydmFsIGluIHNlY29uZHMuIGUuZy4g\nODY0MDAgPSAxIGRheSwgNjA0ODAwID0gMSB3ZWVrCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIHNldEF1ZGl0b3JQZXJpb2RpY0NoZWNrSW50ZXJ2YWwobG9u\nZyBpbnRlcnZhbCkgewogICAgICAgIHNldFByb3BlcnR5KEFVRElUT1JfUEVS\nSU9ESUNfQ0hFQ0tfSU5URVJWQUwsIGludGVydmFsKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIEdldCB0aGUgcmVndWxhcml0eSBhdCB3aGljaCB0aGUgYXVk\naXRvciBjaGVja3MgYWxsIGxlZGdlcnMuCiAgICAgKiBAcmV0dXJuIFRoZSBp\nbnRlcnZhbCBpbiBzZWNvbmRzCiAgICAgKi8KICAgIHB1YmxpYyBsb25nIGdl\ndEF1ZGl0b3JQZXJpb2RpY0NoZWNrSW50ZXJ2YWwoKSB7CiAgICAgICAgcmV0\ndXJuIGdldExvbmcoQVVESVRPUl9QRVJJT0RJQ19DSEVDS19JTlRFUlZBTCwg\nODY0MDApOwogICAgfQoKICAgIC8qKgogICAgICogU2V0cyB0aGF0IHdoZXRo\nZXIgdGhlIGF1dG8tcmVjb3Zlcnkgc2VydmljZSBjYW4gc3RhcnQgYWxvbmcg\nd2l0aCBCb29raWUKICAgICAqIHNlcnZlciBpdHNlbGYgb3Igbm90CiAgICAg\nKgogICAgICogQHBhcmFtIGVuYWJsZWQKICAgICAqICAgICAgICAgICAgLSB0\ncnVlIGlmIG5lZWQgdG8gc3RhcnQgYXV0by1yZWNvdmVyeSBzZXJ2aWNlLiBP\ndGhlcndpc2UKICAgICAqICAgICAgICAgICAgZmFsc2UuCiAgICAgKiBAcmV0\ndXJuIFNlcnZlckNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNl\ncnZlckNvbmZpZ3VyYXRpb24gc2V0QXV0b1JlY292ZXJ5RGFlbW9uRW5hYmxl\nZChib29sZWFuIGVuYWJsZWQpIHsKICAgICAgICBzZXRQcm9wZXJ0eShBVVRP\nX1JFQ09WRVJZX0RBRU1PTl9FTkFCTEVELCBlbmFibGVkKTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB3aGV0aGVy\nIHRoZSBCb29raWUgaXRzZWxmIGNhbiBzdGFydCBhdXRvLXJlY292ZXJ5IHNl\ncnZpY2UgYWxzbyBvciBub3QKICAgICAqCiAgICAgKiBAcmV0dXJuIHRydWUg\nLSBpZiBCb29raWUgc2hvdWxkIHN0YXJ0IGF1dG8tcmVjb3Zlcnkgc2Vydmlj\nZSBhbG9uZyB3aXRoCiAgICAgKiAgICAgICAgIGl0LiBmYWxzZSBvdGhlcndp\nc2UuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzQXV0b1JlY292ZXJ5\nRGFlbW9uRW5hYmxlZCgpIHsKICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbihB\nVVRPX1JFQ09WRVJZX0RBRU1PTl9FTkFCTEVELCBmYWxzZSk7CiAgICB9Cn0K\n","encoding":"base64"}

