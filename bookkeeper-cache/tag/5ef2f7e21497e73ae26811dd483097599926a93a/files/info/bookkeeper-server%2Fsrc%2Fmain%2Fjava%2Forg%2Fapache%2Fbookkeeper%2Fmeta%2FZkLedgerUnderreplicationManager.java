{"sha":"bea8a1c6f9920421d68362c40e161ef099fea228","node_id":"MDQ6QmxvYjE1NzU5NTY6YmVhOGExYzZmOTkyMDQyMWQ2ODM2MmM0MGUxNjFlZjA5OWZlYTIyOA==","size":24679,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/bea8a1c6f9920421d68362c40e161ef099fea228","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLm1ldGE7CgppbXBvcnQgb3Jn\nLmFwYWNoZS5ib29ra2VlcGVyLnJlcGxpY2F0aW9uLlJlcGxpY2F0aW9uRW5h\nYmxlQ2I7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucmVwbGljYXRp\nb24uUmVwbGljYXRpb25FeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIucmVwbGljYXRpb24uUmVwbGljYXRpb25FeGNlcHRpb24uVW5h\ndmFpbGFibGVFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVw\nZXIudXRpbC5Cb29rS2VlcGVyQ29uc3RhbnRzOwppbXBvcnQgb3JnLmFwYWNo\nZS5ib29ra2VlcGVyLnV0aWwuWmtVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUu\nYm9va2tlZXBlci5wcm90by5Cb29ra2VlcGVySW50ZXJuYWxDYWxsYmFja3Mu\nR2VuZXJpY0NhbGxiYWNrOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLnByb3RvLkRhdGFGb3JtYXRzLkxlZGdlclJlcmVwbGljYXRpb25MYXlvdXRG\nb3JtYXQ7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG8uRGF0\nYUZvcm1hdHMuVW5kZXJyZXBsaWNhdGVkTGVkZ2VyRm9ybWF0OwppbXBvcnQg\nb3JnLmFwYWNoZS5ib29ra2VlcGVyLnByb3RvLkRhdGFGb3JtYXRzLkxvY2tE\nYXRhRm9ybWF0OwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNvbmYu\nQWJzdHJhY3RDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS56b29r\nZWVwZXIuWm9vS2VlcGVyOwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVwZXIu\nV2F0Y2hlZEV2ZW50OwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVwZXIuV2F0\nY2hlcjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLkNyZWF0ZU1vZGU7\nCmltcG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBlci5LZWVwZXJFeGNlcHRpb247\nCmltcG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBlci5kYXRhLlN0YXQ7CmltcG9y\ndCBvcmcuYXBhY2hlLnpvb2tlZXBlci5ab29EZWZzLklkczsKCmltcG9ydCBj\nb20uZ29vZ2xlLnByb3RvYnVmLlRleHRGb3JtYXQ7CmltcG9ydCBjb20uZ29v\nZ2xlLmNvbW1vbi5iYXNlLkpvaW5lcjsKaW1wb3J0IHN0YXRpYyBjb20uZ29v\nZ2xlLmNvbW1vbi5iYXNlLkNoYXJzZXRzLlVURl84OwoKaW1wb3J0IGphdmEu\nbmV0LkluZXRBZGRyZXNzOwppbXBvcnQgamF2YS5uZXQuVW5rbm93bkhvc3RF\neGNlcHRpb247CgppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ291bnRE\nb3duTGF0Y2g7CmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5Db25jdXJy\nZW50SGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZh\nLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsKaW1w\nb3J0IGphdmEudXRpbC5BcnJheXM7CgoKaW1wb3J0IGphdmEudXRpbC5yZWdl\neC5QYXR0ZXJuOwppbXBvcnQgamF2YS51dGlsLnJlZ2V4Lk1hdGNoZXI7Cgpp\nbXBvcnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dn\nZXJGYWN0b3J5OwoKLyoqCiAqIFpvb0tlZXBlciBpbXBsZW1lbnRhdGlvbiBv\nZiB1bmRlcnJlcGxpY2F0aW9uIG1hbmFnZXIuCiAqIFRoaXMgaXMgaW1wbGVt\nZW50ZWQgaW4gYSBoZWlyYXJjaGljYWwgZmFzaGlvbiwgc28gaXQnbGwgd29y\nayB3aXRoCiAqIEZsYXRMZWRnZXJNYW5hZ2VyRmFjdG9yeSBhbmQgSGllcmFy\nY2hpY2FsTGVkZ2VyTWFuYWdlckZhY3RvcnkuCiAqCiAqIExheW91dCBpczoK\nICogL3Jvb3QvdW5kZXJyZXBsaWNhdGlvbi8gTEFZT1VUCiAqICAgICAgICAg\nICAgICAgICAgICAgICAgIGxlZGdlcnMvKGhpZXJhcmNoaWNhbHBhdGgpL3Vy\nTChsZWRnZXJJZCkKICogICAgICAgICAgICAgICAgICAgICAgICAgbG9ja3Mv\nKGxlZGdlcklkKQogKgogKiBUaGUgaGllcmFyY2hpY2FsIHBhdGggaXMgY3Jl\nYXRlZCBieSBzcGxpdHRpbmcgdGhlIGxlZGdlciBpbnRvIDQgMmJ5dGUKICog\nc2VnbWVudHMgd2hpY2ggYXJlIHJlcHJlc2VudGVkIGluIGhleGlkZWNpbWFs\nLgogKiBlLmcuIEZvciBsZWRnZXIgaWQgMHhjYWZlYmVlZjAwMDBmZWVkLCB0\naGUgcGF0aCBpcwogKiAgY2FmZS9iZWVmLzAwMDAvZmVlZC8KICovCnB1Ymxp\nYyBjbGFzcyBaa0xlZGdlclVuZGVycmVwbGljYXRpb25NYW5hZ2VyIGltcGxl\nbWVudHMgTGVkZ2VyVW5kZXJyZXBsaWNhdGlvbk1hbmFnZXIgewogICAgc3Rh\ndGljIGZpbmFsIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5LmdldExvZ2dl\ncihaa0xlZGdlclVuZGVycmVwbGljYXRpb25NYW5hZ2VyLmNsYXNzKTsKICAg\nIHN0YXRpYyBmaW5hbCBTdHJpbmcgTEFZT1VUPSJCQVNJQyI7CiAgICBzdGF0\naWMgZmluYWwgaW50IExBWU9VVF9WRVJTSU9OPTE7CgogICAgcHJpdmF0ZSBz\ndGF0aWMgY2xhc3MgTG9jayB7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBTdHJp\nbmcgbG9ja1pOb2RlOwogICAgICAgIHByaXZhdGUgZmluYWwgaW50IGxlZGdl\nclpOb2RlVmVyc2lvbjsKCiAgICAgICAgTG9jayhTdHJpbmcgbG9ja1pOb2Rl\nLCBpbnQgbGVkZ2VyWk5vZGVWZXJzaW9uKSB7CiAgICAgICAgICAgIHRoaXMu\nbG9ja1pOb2RlID0gbG9ja1pOb2RlOwogICAgICAgICAgICB0aGlzLmxlZGdl\nclpOb2RlVmVyc2lvbiA9IGxlZGdlclpOb2RlVmVyc2lvbjsKICAgICAgICB9\nCgogICAgICAgIFN0cmluZyBnZXRMb2NrWk5vZGUoKSB7IHJldHVybiBsb2Nr\nWk5vZGU7IH0KICAgICAgICBpbnQgZ2V0TGVkZ2VyWk5vZGVWZXJzaW9uKCkg\neyByZXR1cm4gbGVkZ2VyWk5vZGVWZXJzaW9uOyB9CiAgICB9OwogICAgcHJp\ndmF0ZSBmaW5hbCBNYXA8TG9uZywgTG9jaz4gaGVsZExvY2tzID0gbmV3IENv\nbmN1cnJlbnRIYXNoTWFwPExvbmcsIExvY2s+KCk7CiAgICBwcml2YXRlIGZp\nbmFsIFBhdHRlcm4gaWRFeHRyYWN0aW9uUGF0dGVybjsKCiAgICBwcml2YXRl\nIGZpbmFsIFN0cmluZyBiYXNlUGF0aDsKICAgIHByaXZhdGUgZmluYWwgU3Ry\naW5nIHVyTGVkZ2VyUGF0aDsKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIHVy\nTG9ja1BhdGg7CiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBsYXlvdXRaTm9k\nZTsKICAgIHByaXZhdGUgZmluYWwgTG9ja0RhdGFGb3JtYXQgbG9ja0RhdGE7\nCgogICAgcHJpdmF0ZSBmaW5hbCBab29LZWVwZXIgemtjOwoKICAgIHB1Ymxp\nYyBaa0xlZGdlclVuZGVycmVwbGljYXRpb25NYW5hZ2VyKEFic3RyYWN0Q29u\nZmlndXJhdGlvbiBjb25mLCBab29LZWVwZXIgemtjKQogICAgICAgICAgICB0\naHJvd3MgS2VlcGVyRXhjZXB0aW9uLCBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiwg\nUmVwbGljYXRpb25FeGNlcHRpb24uQ29tcGF0aWJpbGl0eUV4Y2VwdGlvbiB7\nCiAgICAgICAgYmFzZVBhdGggPSBjb25mLmdldFprTGVkZ2Vyc1Jvb3RQYXRo\nKCkgKyAnLycKICAgICAgICAgICAgICAgICsgQm9va0tlZXBlckNvbnN0YW50\ncy5VTkRFUl9SRVBMSUNBVElPTl9OT0RFOwogICAgICAgIGxheW91dFpOb2Rl\nID0gYmFzZVBhdGggKyAnLycgKyBCb29rS2VlcGVyQ29uc3RhbnRzLkxBWU9V\nVF9aTk9ERTsKICAgICAgICB1ckxlZGdlclBhdGggPSBiYXNlUGF0aAogICAg\nICAgICAgICAgICAgKyBCb29rS2VlcGVyQ29uc3RhbnRzLkRFRkFVTFRfWktf\nTEVER0VSU19ST09UX1BBVEg7CiAgICAgICAgdXJMb2NrUGF0aCA9IGJhc2VQ\nYXRoICsgIi9sb2NrcyI7CgogICAgICAgIGlkRXh0cmFjdGlvblBhdHRlcm4g\nPSBQYXR0ZXJuLmNvbXBpbGUoInVyTChcXGQrKSQiKTsKICAgICAgICB0aGlz\nLnprYyA9IHprYzsKCiAgICAgICAgTG9ja0RhdGFGb3JtYXQuQnVpbGRlciBs\nb2NrRGF0YUJ1aWxkZXIgPSBMb2NrRGF0YUZvcm1hdC5uZXdCdWlsZGVyKCk7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbG9ja0RhdGFCdWlsZGVyLnNl\ndEJvb2tpZUlkKEluZXRBZGRyZXNzLmdldExvY2FsSG9zdCgpLmdldEhvc3RB\nZGRyZXNzKCkudG9TdHJpbmcoKSk7CiAgICAgICAgfSBjYXRjaCAoVW5rbm93\nbkhvc3RFeGNlcHRpb24gdWhlKSB7CiAgICAgICAgICAgIC8vIGlmIHdlIGNh\nbnQgZ2V0IHRoZSBhZGRyZXNzLCBpZ25vcmUuIGl0J3Mgb3B0aW9uYWwKICAg\nICAgICAgICAgLy8gaW4gdGhlIGRhdGEgc3RydWN0dXJlIGluIGFueSBjYXNl\nCiAgICAgICAgfQogICAgICAgIGxvY2tEYXRhID0gbG9ja0RhdGFCdWlsZGVy\nLmJ1aWxkKCk7CgogICAgICAgIGNoZWNrTGF5b3V0KCk7CiAgICB9CgogICAg\ncHJpdmF0ZSB2b2lkIGNoZWNrTGF5b3V0KCkKICAgICAgICAgICAgdGhyb3dz\nIEtlZXBlckV4Y2VwdGlvbiwgSW50ZXJydXB0ZWRFeGNlcHRpb24sIFJlcGxp\nY2F0aW9uRXhjZXB0aW9uLkNvbXBhdGliaWxpdHlFeGNlcHRpb24gewogICAg\nICAgIGlmICh6a2MuZXhpc3RzKGJhc2VQYXRoLCBmYWxzZSkgPT0gbnVsbCkg\newogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgemtjLmNyZWF0\nZShiYXNlUGF0aCwgbmV3IGJ5dGVbMF0sIElkcy5PUEVOX0FDTF9VTlNBRkUs\nIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7CiAgICAgICAgICAgIH0gY2F0Y2gg\nKEtlZXBlckV4Y2VwdGlvbi5Ob2RlRXhpc3RzRXhjZXB0aW9uIG5lZSkgewog\nICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZywgc29tZW9uZSBlYWNoIGNv\ndWxkIGhhdmUgY3JlYXRlZCBpdAogICAgICAgICAgICB9CiAgICAgICAgfQog\nICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgIGlmICh6a2MuZXhp\nc3RzKGxheW91dFpOb2RlLCBmYWxzZSkgPT0gbnVsbCkgewogICAgICAgICAg\nICAgICAgTGVkZ2VyUmVyZXBsaWNhdGlvbkxheW91dEZvcm1hdC5CdWlsZGVy\nIGJ1aWxkZXIKICAgICAgICAgICAgICAgICAgICA9IExlZGdlclJlcmVwbGlj\nYXRpb25MYXlvdXRGb3JtYXQubmV3QnVpbGRlcigpOwogICAgICAgICAgICAg\nICAgYnVpbGRlci5zZXRUeXBlKExBWU9VVCkuc2V0VmVyc2lvbihMQVlPVVRf\nVkVSU0lPTik7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAg\nICAgICAgIHprYy5jcmVhdGUobGF5b3V0Wk5vZGUsIFRleHRGb3JtYXQucHJp\nbnRUb1N0cmluZyhidWlsZGVyLmJ1aWxkKCkpLmdldEJ5dGVzKFVURl84KSwK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElkcy5PUEVOX0FDTF9V\nTlNBRkUsIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7CiAgICAgICAgICAgICAg\nICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24uTm9kZUV4aXN0c0V4Y2VwdGlv\nbiBubmUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBzb21lb25lIGVsc2Ug\nbWFuYWdlZCB0byBjcmVhdGUgaXQKICAgICAgICAgICAgICAgICAgICBjb250\naW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsK\nICAgICAgICAgICAgICAgIGJ5dGVbXSBsYXlvdXREYXRhID0gemtjLmdldERh\ndGEobGF5b3V0Wk5vZGUsIGZhbHNlLCBudWxsKTsKCiAgICAgICAgICAgICAg\nICBMZWRnZXJSZXJlcGxpY2F0aW9uTGF5b3V0Rm9ybWF0LkJ1aWxkZXIgYnVp\nbGRlcgogICAgICAgICAgICAgICAgICAgID0gTGVkZ2VyUmVyZXBsaWNhdGlv\nbkxheW91dEZvcm1hdC5uZXdCdWlsZGVyKCk7CgogICAgICAgICAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgICAgICAgICBUZXh0Rm9ybWF0Lm1lcmdlKG5l\ndyBTdHJpbmcobGF5b3V0RGF0YSwgVVRGXzgpLCBidWlsZGVyKTsKICAgICAg\nICAgICAgICAgICAgICBMZWRnZXJSZXJlcGxpY2F0aW9uTGF5b3V0Rm9ybWF0\nIGxheW91dCA9IGJ1aWxkZXIuYnVpbGQoKTsKICAgICAgICAgICAgICAgICAg\nICBpZiAoIWxheW91dC5nZXRUeXBlKCkuZXF1YWxzKExBWU9VVCkKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIHx8IGxheW91dC5nZXRWZXJzaW9uKCkg\nIT0gTEFZT1VUX1ZFUlNJT04pIHsKICAgICAgICAgICAgICAgICAgICAgICAg\ndGhyb3cgbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLkNvbXBhdGliaWxpdHlF\neGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIklu\nY29tcGF0aWJsZSBsYXlvdXQgZm91bmQgKCIgKyBMQVlPVVQgKyAiOiIgKyBM\nQVlPVVRfVkVSU0lPTiArICIpIik7CiAgICAgICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICAgICAgfSBjYXRjaCAoVGV4dEZvcm1hdC5QYXJzZUV4Y2Vw\ndGlvbiBwZSkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXBs\naWNhdGlvbkV4Y2VwdGlvbi5Db21wYXRpYmlsaXR5RXhjZXB0aW9uKAogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgIkludmFsaWQgZGF0YSBmb3VuZCIs\nIHBlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFr\nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICh6a2MuZXhp\nc3RzKHVyTGVkZ2VyUGF0aCwgZmFsc2UpID09IG51bGwpIHsKICAgICAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgICAgIHprYy5jcmVhdGUodXJMZWRnZXJQ\nYXRoLCBuZXcgYnl0ZVswXSwgSWRzLk9QRU5fQUNMX1VOU0FGRSwgQ3JlYXRl\nTW9kZS5QRVJTSVNURU5UKTsKICAgICAgICAgICAgfSBjYXRjaCAoS2VlcGVy\nRXhjZXB0aW9uLk5vZGVFeGlzdHNFeGNlcHRpb24gbmVlKSB7CiAgICAgICAg\nICAgICAgICAvLyBkbyBub3RoaW5nLCBzb21lb25lIGVhY2ggY291bGQgaGF2\nZSBjcmVhdGVkIGl0CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAg\naWYgKHprYy5leGlzdHModXJMb2NrUGF0aCwgZmFsc2UpID09IG51bGwpIHsK\nICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHprYy5jcmVhdGUo\ndXJMb2NrUGF0aCwgbmV3IGJ5dGVbMF0sIElkcy5PUEVOX0FDTF9VTlNBRkUs\nIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7CiAgICAgICAgICAgIH0gY2F0Y2gg\nKEtlZXBlckV4Y2VwdGlvbi5Ob2RlRXhpc3RzRXhjZXB0aW9uIG5lZSkgewog\nICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZywgc29tZW9uZSBlYWNoIGNv\ndWxkIGhhdmUgY3JlYXRlZCBpdAogICAgICAgICAgICB9CiAgICAgICAgfQog\nICAgfQoKICAgIHByaXZhdGUgbG9uZyBnZXRMZWRnZXJJZChTdHJpbmcgcGF0\naCkgdGhyb3dzIE51bWJlckZvcm1hdEV4Y2VwdGlvbiB7CiAgICAgICAgTWF0\nY2hlciBtID0gaWRFeHRyYWN0aW9uUGF0dGVybi5tYXRjaGVyKHBhdGgpOwog\nICAgICAgIGlmIChtLmZpbmQoKSkgewogICAgICAgICAgICByZXR1cm4gTG9u\nZy52YWx1ZU9mKG0uZ3JvdXAoMSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAg\nICAgICAgIHRocm93IG5ldyBOdW1iZXJGb3JtYXRFeGNlcHRpb24oIkNvdWxk\nbid0IGZpbmQgbGVkZ2VyaWQgaW4gcGF0aCIpOwogICAgICAgIH0KICAgIH0K\nCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRQYXJlbnRabm9kZVBhdGgo\nU3RyaW5nIGJhc2UsIGxvbmcgbGVkZ2VySWQpIHsKICAgICAgICBTdHJpbmcg\nc3ViZGlyMSA9IFN0cmluZy5mb3JtYXQoIiUwNHgiLCBsZWRnZXJJZCA+PiA0\nOCAmIDB4ZmZmZik7CiAgICAgICAgU3RyaW5nIHN1YmRpcjIgPSBTdHJpbmcu\nZm9ybWF0KCIlMDR4IiwgbGVkZ2VySWQgPj4gMzIgJiAweGZmZmYpOwogICAg\nICAgIFN0cmluZyBzdWJkaXIzID0gU3RyaW5nLmZvcm1hdCgiJTA0eCIsIGxl\nZGdlcklkID4+IDE2ICYgMHhmZmZmKTsKICAgICAgICBTdHJpbmcgc3ViZGly\nNCA9IFN0cmluZy5mb3JtYXQoIiUwNHgiLCBsZWRnZXJJZCAmIDB4ZmZmZik7\nCiAgICAgICAgCiAgICAgICAgcmV0dXJuIFN0cmluZy5mb3JtYXQoIiVzLyVz\nLyVzLyVzLyVzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNl\nLCBzdWJkaXIxLCBzdWJkaXIyLCBzdWJkaXIzLCBzdWJkaXI0KTsKICAgIH0K\nCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRVckxlZGdlclpub2RlKFN0\ncmluZyBiYXNlLCBsb25nIGxlZGdlcklkKSB7CiAgICAgICAgcmV0dXJuIFN0\ncmluZy5mb3JtYXQoIiVzL3VyTCUwMTBkIiwgZ2V0UGFyZW50Wm5vZGVQYXRo\nKGJhc2UsIGxlZGdlcklkKSwgbGVkZ2VySWQpOwogICAgfQoKICAgIHByaXZh\ndGUgU3RyaW5nIGdldFVyTGVkZ2VyWm5vZGUobG9uZyBsZWRnZXJJZCkgewog\nICAgICAgIHJldHVybiBnZXRVckxlZGdlclpub2RlKHVyTGVkZ2VyUGF0aCwg\nbGVkZ2VySWQpOwogICAgfQoKCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2\nb2lkIG1hcmtMZWRnZXJVbmRlcnJlcGxpY2F0ZWQobG9uZyBsZWRnZXJJZCwg\nU3RyaW5nIG1pc3NpbmdSZXBsaWNhKQogICAgICAgICAgICB0aHJvd3MgUmVw\nbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24gewogICAg\nICAgIExPRy5kZWJ1ZygibWFya0xlZGdlclVuZGVycmVwbGljYXRlZChsZWRn\nZXJJZD17fSwgbWlzc2luZ1JlcGxpY2E9e30pIiwgbGVkZ2VySWQsIG1pc3Np\nbmdSZXBsaWNhKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBTdHJpbmcg\nem5vZGUgPSBnZXRVckxlZGdlclpub2RlKGxlZGdlcklkKTsKICAgICAgICAg\nICAgd2hpbGUgKHRydWUpIHsKICAgICAgICAgICAgICAgIFVuZGVycmVwbGlj\nYXRlZExlZGdlckZvcm1hdC5CdWlsZGVyIGJ1aWxkZXIgPSBVbmRlcnJlcGxp\nY2F0ZWRMZWRnZXJGb3JtYXQubmV3QnVpbGRlcigpOwogICAgICAgICAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBidWlsZGVyLmFkZFJlcGxp\nY2EobWlzc2luZ1JlcGxpY2EpOwogICAgICAgICAgICAgICAgICAgIFprVXRp\nbHMuY3JlYXRlRnVsbFBhdGhPcHRpbWlzdGljKHprYywgem5vZGUsIFRleHRG\nb3JtYXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wcmludFRvU3Ry\naW5nKGJ1aWxkZXIuYnVpbGQoKSkuZ2V0Qnl0ZXMoVVRGXzgpLAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgSWRzLk9QRU5fQUNMX1VOU0FGRSwgQ3Jl\nYXRlTW9kZS5QRVJTSVNURU5UKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2gg\nKEtlZXBlckV4Y2VwdGlvbi5Ob2RlRXhpc3RzRXhjZXB0aW9uIG5lZSkgewog\nICAgICAgICAgICAgICAgICAgIFN0YXQgcyA9IHprYy5leGlzdHMoem5vZGUs\nIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBpZiAocyA9PSBudWxsKSB7\nCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAg\nICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgICAgICAgICBieXRlW10gYnl0ZXMgPSB6a2MuZ2V0RGF0YSh6\nbm9kZSwgZmFsc2UsIHMpOwogICAgICAgICAgICAgICAgICAgICAgICBidWls\nZGVyLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIFRleHRGb3Jt\nYXQubWVyZ2UobmV3IFN0cmluZyhieXRlcywgVVRGXzgpLCBidWlsZGVyKTsK\nICAgICAgICAgICAgICAgICAgICAgICAgVW5kZXJyZXBsaWNhdGVkTGVkZ2Vy\nRm9ybWF0IGRhdGEgPSBidWlsZGVyLmJ1aWxkKCk7CiAgICAgICAgICAgICAg\nICAgICAgICAgIGlmIChkYXRhLmdldFJlcGxpY2FMaXN0KCkuY29udGFpbnMo\nbWlzc2luZ1JlcGxpY2EpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICByZXR1cm47IC8vIG5vdGhpbmcgdG8gYWRkCiAgICAgICAgICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5hZGRS\nZXBsaWNhKG1pc3NpbmdSZXBsaWNhKTsKICAgICAgICAgICAgICAgICAgICAg\nICAgemtjLnNldERhdGEoem5vZGUsCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIFRleHRGb3JtYXQucHJpbnRUb1N0cmluZyhidWlsZGVy\nLmJ1aWxkKCkpLmdldEJ5dGVzKFVURl84KSwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgcy5nZXRWZXJzaW9uKCkpOwogICAgICAgICAg\nICAgICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbi5Ob05vZGVFeGNl\ncHRpb24gbm5lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVl\nOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlv\nbi5CYWRWZXJzaW9uRXhjZXB0aW9uIGJ2ZSkgewogICAgICAgICAgICAgICAg\nICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNo\nIChUZXh0Rm9ybWF0LlBhcnNlRXhjZXB0aW9uIHBlKSB7CiAgICAgICAgICAg\nICAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5V\nbmF2YWlsYWJsZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAiSW52YWxpZCBkYXRhIGZvdW5kIiwgcGUpOwogICAgICAgICAg\nICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoS2VlcGVy\nRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNh\ndGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigiRXJyb3IgY29u\ndGFjdGluZyB6b29rZWVwZXIiLCBrZSk7CiAgICAgICAgfSBjYXRjaCAoSW50\nZXJydXB0ZWRFeGNlcHRpb24gaWUpIHsKICAgICAgICAgICAgVGhyZWFkLmN1\ncnJlbnRUaHJlYWQoKS5pbnRlcnJ1cHQoKTsKICAgICAgICAgICAgdGhyb3cg\nbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9u\nKCJJbnRlcnJ1cHRlZCB3aGlsZSBjb250YWN0aW5nIHpvb2tlZXBlciIsIGll\nKTsKICAgICAgICB9CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMg\ndm9pZCBtYXJrTGVkZ2VyUmVwbGljYXRlZChsb25nIGxlZGdlcklkKSB0aHJv\nd3MgUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24g\newogICAgICAgIExPRy5kZWJ1ZygibWFya0xlZGdlclJlcGxpY2F0ZWQobGVk\nZ2VySWQ9e30pIiwgbGVkZ2VySWQpOwogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIExvY2sgbCA9IGhlbGRMb2Nrcy5nZXQobGVkZ2VySWQpOwogICAgICAg\nICAgICBpZiAobCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB6a2MuZGVs\nZXRlKGdldFVyTGVkZ2VyWm5vZGUobGVkZ2VySWQpLCBsLmdldExlZGdlclpO\nb2RlVmVyc2lvbigpKTsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgICAgIC8vIGNsZWFuIHVwIHRoZSBoaWVyYXJjaHkKICAgICAg\nICAgICAgICAgICAgICBTdHJpbmcgcGFydHNbXSA9IGdldFVyTGVkZ2VyWm5v\nZGUobGVkZ2VySWQpLnNwbGl0KCIvIik7CiAgICAgICAgICAgICAgICAgICAg\nZm9yIChpbnQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7CiAgICAgICAgICAgICAg\nICAgICAgICAgIFN0cmluZyBwW10gPSBBcnJheXMuY29weU9mKHBhcnRzLCBw\nYXJ0cy5sZW5ndGggLSBpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU3Ry\naW5nIHBhdGggPSBKb2luZXIub24oIi8iKS5qb2luKHApOwogICAgICAgICAg\nICAgICAgICAgICAgICBTdGF0IHMgPSB6a2MuZXhpc3RzKHBhdGgsIG51bGwp\nOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocyAhPSBudWxsKSB7CiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICB6a2MuZGVsZXRlKHBhdGgsIHMu\nZ2V0VmVyc2lvbigpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAg\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEtl\nZXBlckV4Y2VwdGlvbi5Ob3RFbXB0eUV4Y2VwdGlvbiBuZWUpIHsKICAgICAg\nICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gd2hlbiBjbGVhbmlu\nZyB1cCB0aGUgaGllcmFyY2h5LgogICAgICAgICAgICAgICAgICAgIC8vIEl0\nJ3Mgc2FmZSB0byBpZ25vcmUsIGl0IHNpbXBseSBtZWFucyBhbm90aGVyCiAg\nICAgICAgICAgICAgICAgICAgLy8gbGVkZ2VyIGluIHRoZSBzYW1lIGhpZXJh\ncmNoeSBoYXMgYmVlbiBtYXJrZWQgYXMKICAgICAgICAgICAgICAgICAgICAv\nLyB1bmRlcnJlcGxpY2F0ZWQuCiAgICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgIH0KICAgICAgICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24uTm9Ob2Rl\nRXhjZXB0aW9uIG5uZSkgewogICAgICAgICAgICAvLyB0aGlzIGlzIG9rCiAg\nICAgICAgfSBjYXRjaCAoS2VlcGVyRXhjZXB0aW9uLkJhZFZlcnNpb25FeGNl\ncHRpb24gYnZlKSB7CiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgdGhlIGNh\nc2UsIHNvbWUgaGFzIG1hcmtlZCB0aGUgbGVkZ2VyCiAgICAgICAgICAgIC8v\nIGZvciByZXJlcGxpY2F0aW9uIGFnYWluLiBMZWF2ZSB0aGUgdW5kZXJyZXBs\naWNhdGVkCiAgICAgICAgICAgIC8vIHpub2RlIGluIHBsYWNlLCBzbyB0aGUg\nbGVkZ2VyIGlzIGNoZWNrZWQuCiAgICAgICAgfSBjYXRjaCAoS2VlcGVyRXhj\nZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIExPRy5lcnJvcigiRXJyb3IgZGVs\nZXRpbmcgdW5kZXJyZXBsaWNhdGVkIGxlZGdlciB6bm9kZSIsIGtlKTsKICAg\nICAgICAgICAgdGhyb3cgbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZh\naWxhYmxlRXhjZXB0aW9uKCJFcnJvciBjb250YWN0aW5nIHpvb2tlZXBlciIs\nIGtlKTsKICAgICAgICB9IGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBp\nZSkgewogICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgpLmludGVy\ncnVwdCgpOwogICAgICAgICAgICB0aHJvdyBuZXcgUmVwbGljYXRpb25FeGNl\ncHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24oIkludGVycnVwdGVkIHdoaWxl\nIGNvbnRhY3Rpbmcgem9va2VlcGVyIiwgaWUpOwogICAgICAgIH0gZmluYWxs\neSB7CiAgICAgICAgICAgIHJlbGVhc2VVbmRlcnJlcGxpY2F0ZWRMZWRnZXIo\nbGVkZ2VySWQpOwogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIGxvbmcg\nZ2V0TGVkZ2VyVG9SZXJlcGxpY2F0ZUZyb21IaWVyYXJjaHkoU3RyaW5nIHBh\ncmVudCwgbG9uZyBkZXB0aCwgV2F0Y2hlciB3KQogICAgICAgICAgICB0aHJv\nd3MgS2VlcGVyRXhjZXB0aW9uLCBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiB7CiAg\nICAgICAgaWYgKGRlcHRoID09IDQpIHsKICAgICAgICAgICAgTGlzdDxTdHJp\nbmc+IGNoaWxkcmVuOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAg\nICAgY2hpbGRyZW4gPSB6a2MuZ2V0Q2hpbGRyZW4ocGFyZW50LCB3KTsKICAg\nICAgICAgICAgfSBjYXRjaCAoS2VlcGVyRXhjZXB0aW9uLk5vTm9kZUV4Y2Vw\ndGlvbiBubmUpIHsKICAgICAgICAgICAgICAgIC8vIGNhbiBvY2N1ciBpZiBh\nbm90aGVyIHVuZGVycmVwbGljYXRlZCBsZWRnZXIncwogICAgICAgICAgICAg\nICAgLy8gaGllcmFyY2h5IGlzIGJlaW5nIGNsZWFuZWQgdXAKICAgICAgICAg\nICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAg\nQ29sbGVjdGlvbnMuc2h1ZmZsZShjaGlsZHJlbik7CgogICAgICAgICAgICB3\naGlsZSAoY2hpbGRyZW4uc2l6ZSgpID4gMCkgewogICAgICAgICAgICAgICAg\nU3RyaW5nIHRyeUNoaWxkID0gY2hpbGRyZW4uZ2V0KDApOwogICAgICAgICAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgbG9ja1Bh\ndGggPSB1ckxvY2tQYXRoICsgIi8iICsgdHJ5Q2hpbGQ7CiAgICAgICAgICAg\nICAgICAgICAgaWYgKHprYy5leGlzdHMobG9ja1BhdGgsIHcpICE9IG51bGwp\nIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucmVtb3ZlKHRy\neUNoaWxkKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAg\nICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTdGF0\nIHN0YXQgPSB6a2MuZXhpc3RzKHBhcmVudCArICIvIiArIHRyeUNoaWxkLCBm\nYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXQgPT0gbnVsbCkg\newogICAgICAgICAgICAgICAgICAgICAgICBMT0cuZGVidWcoInt9L3t9IGRv\nZXNuJ3QgZXhpc3QiLCBwYXJlbnQsIHRyeUNoaWxkKTsKICAgICAgICAgICAg\nICAgICAgICAgICAgY2hpbGRyZW4ucmVtb3ZlKHRyeUNoaWxkKTsKICAgICAg\nICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAg\nICAgfQoKICAgICAgICAgICAgICAgICAgICBsb25nIGxlZGdlcklkID0gZ2V0\nTGVkZ2VySWQodHJ5Q2hpbGQpOwogICAgICAgICAgICAgICAgICAgIHprYy5j\ncmVhdGUobG9ja1BhdGgsIFRleHRGb3JtYXQucHJpbnRUb1N0cmluZyhsb2Nr\nRGF0YSkuZ2V0Qnl0ZXMoVVRGXzgpLAogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgSWRzLk9QRU5fQUNMX1VOU0FGRSwgQ3JlYXRlTW9kZS5FUEhF\nTUVSQUwpOwogICAgICAgICAgICAgICAgICAgIGhlbGRMb2Nrcy5wdXQobGVk\nZ2VySWQsIG5ldyBMb2NrKGxvY2tQYXRoLCBzdGF0LmdldFZlcnNpb24oKSkp\nOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBsZWRnZXJJZDsKICAgICAg\nICAgICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbi5Ob2RlRXhpc3Rz\nRXhjZXB0aW9uIG5lZSkgewogICAgICAgICAgICAgICAgICAgIGNoaWxkcmVu\nLnJlbW92ZSh0cnlDaGlsZCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChO\ndW1iZXJGb3JtYXRFeGNlcHRpb24gbmZlKSB7CiAgICAgICAgICAgICAgICAg\nICAgY2hpbGRyZW4ucmVtb3ZlKHRyeUNoaWxkKTsKICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAg\nICAgfQoKICAgICAgICBMaXN0PFN0cmluZz4gY2hpbGRyZW47CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgY2hpbGRyZW4gPSB6a2MuZ2V0Q2hpbGRyZW4o\ncGFyZW50LCB3KTsKICAgICAgICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24u\nTm9Ob2RlRXhjZXB0aW9uIG5uZSkgewogICAgICAgICAgICAvLyBjYW4gb2Nj\ndXIgaWYgYW5vdGhlciB1bmRlcnJlcGxpY2F0ZWQgbGVkZ2VyJ3MKICAgICAg\nICAgICAgLy8gaGllcmFyY2h5IGlzIGJlaW5nIGNsZWFuZWQgdXAKICAgICAg\nICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KCiAgICAgICAgQ29sbGVjdGlv\nbnMuc2h1ZmZsZShjaGlsZHJlbik7CgogICAgICAgIHdoaWxlIChjaGlsZHJl\nbi5zaXplKCkgPiAwKSB7CiAgICAgICAgICAgIFN0cmluZyB0cnlDaGlsZCA9\nIGNoaWxkcmVuLmdldCgwKTsKICAgICAgICAgICAgU3RyaW5nIHRyeVBhdGgg\nPSBwYXJlbnQgKyAiLyIgKyB0cnlDaGlsZDsKICAgICAgICAgICAgbG9uZyBs\nZWRnZXIgPSBnZXRMZWRnZXJUb1JlcmVwbGljYXRlRnJvbUhpZXJhcmNoeSh0\ncnlQYXRoLCBkZXB0aCArIDEsIHcpOwogICAgICAgICAgICBpZiAobGVkZ2Vy\nICE9IC0xKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbGVkZ2VyOwogICAg\nICAgICAgICB9CiAgICAgICAgICAgIGNoaWxkcmVuLnJlbW92ZSh0cnlDaGls\nZCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAtMTsKICAgIH0KCgogICAg\nQE92ZXJyaWRlCiAgICBwdWJsaWMgbG9uZyBwb2xsTGVkZ2VyVG9SZXJlcGxp\nY2F0ZSgpIHRocm93cyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJs\nZUV4Y2VwdGlvbiB7CiAgICAgICAgTE9HLmRlYnVnKCJwb2xsTGVkZ2VyVG9S\nZXJlcGxpY2F0ZSgpIik7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgV2F0\nY2hlciB3ID0gbmV3IFdhdGNoZXIoKSB7CiAgICAgICAgICAgICAgICAgICAg\ncHVibGljIHZvaWQgcHJvY2VzcyhXYXRjaGVkRXZlbnQgZSkgeyAvLyBkbyBu\nb3RoaW5nCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg\nfTsKICAgICAgICAgICAgcmV0dXJuIGdldExlZGdlclRvUmVyZXBsaWNhdGVG\ncm9tSGllcmFyY2h5KHVyTGVkZ2VyUGF0aCwgMCwgdyk7CiAgICAgICAgfSBj\nYXRjaCAoS2VlcGVyRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIHRocm93\nIG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlv\nbigiRXJyb3IgY29udGFjdGluZyB6b29rZWVwZXIiLCBrZSk7CiAgICAgICAg\nfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gaWUpIHsKICAgICAgICAg\nICAgVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5pbnRlcnJ1cHQoKTsKICAgICAg\nICAgICAgdGhyb3cgbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxh\nYmxlRXhjZXB0aW9uKCJJbnRlcnJ1cHRlZCB3aGlsZSBjb25uZWN0aW5nIHpv\nb2tlZXBlciIsIGllKTsKICAgICAgICB9CiAgICB9CgogICAgQE92ZXJyaWRl\nCiAgICBwdWJsaWMgbG9uZyBnZXRMZWRnZXJUb1JlcmVwbGljYXRlKCkgdGhy\nb3dzIFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9u\nIHsKICAgICAgICBMT0cuZGVidWcoImdldExlZGdlclRvUmVyZXBsaWNhdGUo\nKSIpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7\nCiAgICAgICAgICAgICAgICB3YWl0SWZMZWRnZXJSZXBsaWNhdGlvbkRpc2Fi\nbGVkKCk7CiAgICAgICAgICAgICAgICBmaW5hbCBDb3VudERvd25MYXRjaCBj\naGFuZ2VkTGF0Y2ggPSBuZXcgQ291bnREb3duTGF0Y2goMSk7CiAgICAgICAg\nICAgICAgICBXYXRjaGVyIHcgPSBuZXcgV2F0Y2hlcigpIHsKICAgICAgICAg\nICAgICAgICAgICAgICAgcHVibGljIHZvaWQgcHJvY2VzcyhXYXRjaGVkRXZl\nbnQgZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuZ2V0\nVHlwZSgpID09IFdhdGNoZXIuRXZlbnQuRXZlbnRUeXBlLk5vZGVDaGlsZHJl\nbkNoYW5nZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBl\nLmdldFR5cGUoKSA9PSBXYXRjaGVyLkV2ZW50LkV2ZW50VHlwZS5Ob2RlRGVs\nZXRlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGUuZ2V0\nVHlwZSgpID09IFdhdGNoZXIuRXZlbnQuRXZlbnRUeXBlLk5vZGVDcmVhdGVk\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZS5nZXRTdGF0\nZSgpID09IFdhdGNoZXIuRXZlbnQuS2VlcGVyU3RhdGUuRXhwaXJlZAogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGUuZ2V0U3RhdGUoKSA9\nPSBXYXRjaGVyLkV2ZW50LktlZXBlclN0YXRlLkRpc2Nvbm5lY3RlZCkgewog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRMYXRjaC5j\nb3VudERvd24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAg\nICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07\nCiAgICAgICAgICAgICAgICBsb25nIGxlZGdlciA9IGdldExlZGdlclRvUmVy\nZXBsaWNhdGVGcm9tSGllcmFyY2h5KHVyTGVkZ2VyUGF0aCwgMCwgdyk7CiAg\nICAgICAgICAgICAgICBpZiAobGVkZ2VyICE9IC0xKSB7CiAgICAgICAgICAg\nICAgICAgICAgcmV0dXJuIGxlZGdlcjsKICAgICAgICAgICAgICAgIH0KICAg\nICAgICAgICAgICAgIC8vIG5vdGhpbmcgZm91bmQsIHdhaXQgZm9yIGEgd2F0\nY2hlciB0byB0cmlnZ2VyCiAgICAgICAgICAgICAgICBjaGFuZ2VkTGF0Y2gu\nYXdhaXQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKEtlZXBl\nckV4Y2VwdGlvbiBrZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmVwbGlj\nYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24oIkVycm9yIGNv\nbnRhY3Rpbmcgem9va2VlcGVyIiwga2UpOwogICAgICAgIH0gY2F0Y2ggKElu\ndGVycnVwdGVkRXhjZXB0aW9uIGllKSB7CiAgICAgICAgICAgIFRocmVhZC5j\ndXJyZW50VGhyZWFkKCkuaW50ZXJydXB0KCk7CiAgICAgICAgICAgIHRocm93\nIG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlv\nbigiSW50ZXJydXB0ZWQgd2hpbGUgY29ubmVjdGluZyB6b29rZWVwZXIiLCBp\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgdm9pZCB3YWl0SWZM\nZWRnZXJSZXBsaWNhdGlvbkRpc2FibGVkKCkgdGhyb3dzIFVuYXZhaWxhYmxl\nRXhjZXB0aW9uLAogICAgICAgICAgICBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiB7\nCiAgICAgICAgUmVwbGljYXRpb25FbmFibGVDYiBjYiA9IG5ldyBSZXBsaWNh\ndGlvbkVuYWJsZUNiKCk7CiAgICAgICAgaWYgKCF0aGlzLmlzTGVkZ2VyUmVw\nbGljYXRpb25FbmFibGVkKCkpIHsKICAgICAgICAgICAgdGhpcy5ub3RpZnlM\nZWRnZXJSZXBsaWNhdGlvbkVuYWJsZWQoY2IpOwogICAgICAgICAgICBjYi5h\nd2FpdCgpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgQE92ZXJyaWRlCiAg\nICBwdWJsaWMgdm9pZCByZWxlYXNlVW5kZXJyZXBsaWNhdGVkTGVkZ2VyKGxv\nbmcgbGVkZ2VySWQpIHRocm93cyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2\nYWlsYWJsZUV4Y2VwdGlvbiB7CiAgICAgICAgTE9HLmRlYnVnKCJyZWxlYXNl\nTGVkZ2VyKGxlZGdlcklkPXt9KSIsIGxlZGdlcklkKTsKICAgICAgICB0cnkg\newogICAgICAgICAgICBMb2NrIGwgPSBoZWxkTG9ja3MucmVtb3ZlKGxlZGdl\ncklkKTsKICAgICAgICAgICAgaWYgKGwgIT0gbnVsbCkgewogICAgICAgICAg\nICAgICAgemtjLmRlbGV0ZShsLmdldExvY2taTm9kZSgpLCAtMSk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24uTm9O\nb2RlRXhjZXB0aW9uIG5uZSkgewogICAgICAgICAgICAvLyB0aGlzIGlzIG9r\nCiAgICAgICAgfSBjYXRjaCAoS2VlcGVyRXhjZXB0aW9uIGtlKSB7CiAgICAg\nICAgICAgIExPRy5lcnJvcigiRXJyb3IgZGVsZXRpbmcgdW5kZXJyZXBsaWNh\ndGVkIGxlZGdlciBsb2NrIiwga2UpOwogICAgICAgICAgICB0aHJvdyBuZXcg\nUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24oIkVy\ncm9yIGNvbnRhY3Rpbmcgem9va2VlcGVyIiwga2UpOwogICAgICAgIH0gY2F0\nY2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGllKSB7CiAgICAgICAgICAgIFRo\ncmVhZC5jdXJyZW50VGhyZWFkKCkuaW50ZXJydXB0KCk7CiAgICAgICAgICAg\nIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4\nY2VwdGlvbigiSW50ZXJydXB0ZWQgd2hpbGUgY29ubmVjdGluZyB6b29rZWVw\nZXIiLCBpZSk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAg\ncHVibGljIHZvaWQgY2xvc2UoKSB0aHJvd3MgUmVwbGljYXRpb25FeGNlcHRp\nb24uVW5hdmFpbGFibGVFeGNlcHRpb24gewogICAgICAgIExPRy5kZWJ1Zygi\nY2xvc2UoKSIpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoTWFw\nLkVudHJ5PExvbmcsIExvY2s+IGUgOiBoZWxkTG9ja3MuZW50cnlTZXQoKSkg\newogICAgICAgICAgICAgICAgemtjLmRlbGV0ZShlLmdldFZhbHVlKCkuZ2V0\nTG9ja1pOb2RlKCksIC0xKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0\nY2ggKEtlZXBlckV4Y2VwdGlvbi5Ob05vZGVFeGNlcHRpb24gbm5lKSB7CiAg\nICAgICAgICAgIC8vIHRoaXMgaXMgb2sKICAgICAgICB9IGNhdGNoIChLZWVw\nZXJFeGNlcHRpb24ga2UpIHsKICAgICAgICAgICAgTE9HLmVycm9yKCJFcnJv\nciBkZWxldGluZyB1bmRlcnJlcGxpY2F0ZWQgbGVkZ2VyIGxvY2siLCBrZSk7\nCiAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5V\nbmF2YWlsYWJsZUV4Y2VwdGlvbigiRXJyb3IgY29udGFjdGluZyB6b29rZWVw\nZXIiLCBrZSk7CiAgICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRp\nb24gaWUpIHsKICAgICAgICAgICAgVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5p\nbnRlcnJ1cHQoKTsKICAgICAgICAgICAgdGhyb3cgbmV3IFJlcGxpY2F0aW9u\nRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9uKCJJbnRlcnJ1cHRlZCB3\naGlsZSBjb25uZWN0aW5nIHpvb2tlZXBlciIsIGllKTsKICAgICAgICB9CiAg\nICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBkaXNhYmxlTGVk\nZ2VyUmVwbGljYXRpb24oKQogICAgICAgICAgICB0aHJvd3MgUmVwbGljYXRp\nb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24gewogICAgICAgIExP\nRy5kZWJ1ZygiZGlzYWJsZUxlZGVnZXJSZXBsaWNhdGlvbigpIik7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgWmtVdGlscy5jcmVhdGVGdWxsUGF0aE9w\ndGltaXN0aWMoemtjLCBiYXNlUGF0aCArICcvJwogICAgICAgICAgICAgICAg\nICAgICsgQm9va0tlZXBlckNvbnN0YW50cy5ESVNBQkxFX05PREUsICIiLmdl\ndEJ5dGVzKCksCiAgICAgICAgICAgICAgICAgICAgSWRzLk9QRU5fQUNMX1VO\nU0FGRSwgQ3JlYXRlTW9kZS5QRVJTSVNURU5UKTsKICAgICAgICAgICAgTE9H\nLmluZm8oIkF1dG8gbGVkZ2VyIHJlLXJlcGxpY2F0aW9uIGlzIGRpc2FibGVk\nISIpOwogICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbi5Ob2RlRXhp\nc3RzRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIExPRy53YXJuKCJBdXRv\nUmVjb3ZlcnkgaXMgYWxyZWFkeSBkaXNhYmxlZCEiLCBrZSk7CiAgICAgICAg\nICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJs\nZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAiQXV0b1JlY292ZXJ5\nIGlzIGFscmVhZHkgZGlzYWJsZWQhIiwga2UpOwogICAgICAgIH0gY2F0Y2gg\nKEtlZXBlckV4Y2VwdGlvbiBrZSkgewogICAgICAgICAgICBMT0cuZXJyb3Io\nIkV4Y2VwdGlvbiB3aGlsZSBzdG9wcGluZyBhdXRvIGxlZGdlciByZS1yZXBs\naWNhdGlvbiIsIGtlKTsKICAgICAgICAgICAgdGhyb3cgbmV3IFJlcGxpY2F0\naW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9uKAogICAgICAgICAg\nICAgICAgICAgICJFeGNlcHRpb24gd2hpbGUgc3RvcHBpbmcgYXV0byBsZWRn\nZXIgcmUtcmVwbGljYXRpb24iLCBrZSk7CiAgICAgICAgfSBjYXRjaCAoSW50\nZXJydXB0ZWRFeGNlcHRpb24gaWUpIHsKICAgICAgICAgICAgVGhyZWFkLmN1\ncnJlbnRUaHJlYWQoKS5pbnRlcnJ1cHQoKTsKICAgICAgICAgICAgdGhyb3cg\nbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVuYXZhaWxhYmxlRXhjZXB0aW9u\nKAogICAgICAgICAgICAgICAgICAgICJJbnRlcnJ1cHRlZCB3aGlsZSBzdG9w\ncGluZyBhdXRvIGxlZGdlciByZS1yZXBsaWNhdGlvbiIsIGllKTsKICAgICAg\nICB9CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBlbmFi\nbGVMZWRnZXJSZXBsaWNhdGlvbigpCiAgICAgICAgICAgIHRocm93cyBSZXBs\naWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbiB7CiAgICAg\nICAgTE9HLmRlYnVnKCJlbmFibGVMZWRlZ2VyUmVwbGljYXRpb24oKSIpOwog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIHprYy5kZWxldGUoYmFzZVBhdGgg\nKyAnLycgKyBCb29rS2VlcGVyQ29uc3RhbnRzLkRJU0FCTEVfTk9ERSwgLTEp\nOwogICAgICAgICAgICBMT0cuaW5mbygiUmVzdW1pbmcgYXV0b21hdGljIGxl\nZGdlciByZS1yZXBsaWNhdGlvbiIpOwogICAgICAgIH0gY2F0Y2ggKEtlZXBl\nckV4Y2VwdGlvbi5Ob05vZGVFeGNlcHRpb24ga2UpIHsKICAgICAgICAgICAg\nTE9HLndhcm4oIkF1dG9SZWNvdmVyeSBpcyBhbHJlYWR5IGVuYWJsZWQhIiwg\na2UpOwogICAgICAgICAgICB0aHJvdyBuZXcgUmVwbGljYXRpb25FeGNlcHRp\nb24uVW5hdmFpbGFibGVFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAg\nIkF1dG9SZWNvdmVyeSBpcyBhbHJlYWR5IGVuYWJsZWQhIiwga2UpOwogICAg\nICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbiBrZSkgewogICAgICAgICAg\nICBMT0cuZXJyb3IoIkV4Y2VwdGlvbiB3aGlsZSByZXN1bWluZyBsZWRnZXIg\ncmVwbGljYXRpb24iLCBrZSk7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBs\naWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigKICAgICAg\nICAgICAgICAgICAgICAiRXhjZXB0aW9uIHdoaWxlIHJlc3VtaW5nIGF1dG8g\nbGVkZ2VyIHJlLXJlcGxpY2F0aW9uIiwga2UpOwogICAgICAgIH0gY2F0Y2gg\nKEludGVycnVwdGVkRXhjZXB0aW9uIGllKSB7CiAgICAgICAgICAgIFRocmVh\nZC5jdXJyZW50VGhyZWFkKCkuaW50ZXJydXB0KCk7CiAgICAgICAgICAgIHRo\ncm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5VbmF2YWlsYWJsZUV4Y2Vw\ndGlvbigKICAgICAgICAgICAgICAgICAgICAiSW50ZXJydXB0ZWQgd2hpbGUg\ncmVzdW1pbmcgYXV0byBsZWRnZXIgcmUtcmVwbGljYXRpb24iLCBpZSk7CiAg\nICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGJvb2xl\nYW4gaXNMZWRnZXJSZXBsaWNhdGlvbkVuYWJsZWQoKQogICAgICAgICAgICB0\naHJvd3MgUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRp\nb24gewogICAgICAgIExPRy5kZWJ1ZygiaXNMZWRnZXJSZXBsaWNhdGlvbkVu\nYWJsZWQoKSIpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChudWxs\nICE9IHprYy5leGlzdHMoYmFzZVBhdGggKyAnLycKICAgICAgICAgICAgICAg\nICAgICArIEJvb2tLZWVwZXJDb25zdGFudHMuRElTQUJMRV9OT0RFLCBmYWxz\nZSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAg\nICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGNhdGNo\nIChLZWVwZXJFeGNlcHRpb24ga2UpIHsKICAgICAgICAgICAgTE9HLmVycm9y\nKCJFcnJvciB3aGlsZSBjaGVja2luZyB0aGUgc3RhdGUgb2YgIgogICAgICAg\nICAgICAgICAgICAgICsgImxlZGdlciByZS1yZXBsaWNhdGlvbiIsIGtlKTsK\nICAgICAgICAgICAgdGhyb3cgbmV3IFJlcGxpY2F0aW9uRXhjZXB0aW9uLlVu\nYXZhaWxhYmxlRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICJFcnJv\nciBjb250YWN0aW5nIHpvb2tlZXBlciIsIGtlKTsKICAgICAgICB9IGNhdGNo\nIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBpZSkgewogICAgICAgICAgICBUaHJl\nYWQuY3VycmVudFRocmVhZCgpLmludGVycnVwdCgpOwogICAgICAgICAgICB0\naHJvdyBuZXcgUmVwbGljYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNl\ncHRpb24oCiAgICAgICAgICAgICAgICAgICAgIkludGVycnVwdGVkIHdoaWxl\nIGNvbnRhY3Rpbmcgem9va2VlcGVyIiwgaWUpOwogICAgICAgIH0KICAgIH0K\nCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIG5vdGlmeUxlZGdlclJl\ncGxpY2F0aW9uRW5hYmxlZChmaW5hbCBHZW5lcmljQ2FsbGJhY2s8Vm9pZD4g\nY2IpCiAgICAgICAgICAgIHRocm93cyBSZXBsaWNhdGlvbkV4Y2VwdGlvbi5V\nbmF2YWlsYWJsZUV4Y2VwdGlvbiB7CiAgICAgICAgTE9HLmRlYnVnKCJub3Rp\nZnlMZWRnZXJSZXBsaWNhdGlvbkVuYWJsZWQoKSIpOwogICAgICAgIFdhdGNo\nZXIgdyA9IG5ldyBXYXRjaGVyKCkgewogICAgICAgICAgICBwdWJsaWMgdm9p\nZCBwcm9jZXNzKFdhdGNoZWRFdmVudCBlKSB7CiAgICAgICAgICAgICAgICBp\nZiAoZS5nZXRUeXBlKCkgPT0gV2F0Y2hlci5FdmVudC5FdmVudFR5cGUuTm9k\nZURlbGV0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBjYi5vcGVyYXRpb25D\nb21wbGV0ZSgwLCBudWxsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAg\nICAgfQogICAgICAgIH07CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYg\nKG51bGwgPT0gemtjLmV4aXN0cyhiYXNlUGF0aCArICcvJwogICAgICAgICAg\nICAgICAgICAgICsgQm9va0tlZXBlckNvbnN0YW50cy5ESVNBQkxFX05PREUs\nIHcpKSB7CiAgICAgICAgICAgICAgICBjYi5vcGVyYXRpb25Db21wbGV0ZSgw\nLCBudWxsKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAg\nfQogICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbiBrZSkgewogICAg\nICAgICAgICBMT0cuZXJyb3IoIkVycm9yIHdoaWxlIGNoZWNraW5nIHRoZSBz\ndGF0ZSBvZiAiCiAgICAgICAgICAgICAgICAgICAgKyAibGVkZ2VyIHJlLXJl\ncGxpY2F0aW9uIiwga2UpOwogICAgICAgICAgICB0aHJvdyBuZXcgUmVwbGlj\nYXRpb25FeGNlcHRpb24uVW5hdmFpbGFibGVFeGNlcHRpb24oCiAgICAgICAg\nICAgICAgICAgICAgIkVycm9yIGNvbnRhY3Rpbmcgem9va2VlcGVyIiwga2Up\nOwogICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGllKSB7\nCiAgICAgICAgICAgIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuaW50ZXJydXB0\nKCk7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXBsaWNhdGlvbkV4Y2VwdGlv\nbi5VbmF2YWlsYWJsZUV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAi\nSW50ZXJydXB0ZWQgd2hpbGUgY29udGFjdGluZyB6b29rZWVwZXIiLCBpZSk7\nCiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

