{"sha":"7fdb8bdb22897eb4059534914505487d895a5f61","node_id":"MDQ6QmxvYjE1NzU5NTY6N2ZkYjhiZGIyMjg5N2ViNDA1OTUzNDkxNDUwNTQ4N2Q4OTVhNWY2MQ==","size":2141,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/7fdb8bdb22897eb4059534914505487d895a5f61","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLm1ldGE7CgppbXBv\ncnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnZlcnNpb25pbmcuVmVyc2lvbjsK\naW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci52ZXJzaW9uaW5nLlZlcnNp\nb24uT2NjdXJyZWQ7CgpwdWJsaWMgY2xhc3MgWmtWZXJzaW9uIGltcGxlbWVu\ndHMgVmVyc2lvbiB7CiAgICBpbnQgem5vZGVWZXJzaW9uOwoKICAgIHB1Ymxp\nYyBaa1ZlcnNpb24oaW50IHZlcnNpb24pIHsKICAgICAgICB6bm9kZVZlcnNp\nb24gPSB2ZXJzaW9uOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGlj\nIE9jY3VycmVkIGNvbXBhcmUoVmVyc2lvbiB2KSB7CiAgICAgICAgaWYgKG51\nbGwgPT0gdikgewogICAgICAgICAgICB0aHJvdyBuZXcgTnVsbFBvaW50ZXJF\neGNlcHRpb24oIlZlcnNpb24gaXMgbm90IGFsbG93ZWQgdG8gYmUgbnVsbC4i\nKTsKICAgICAgICB9CiAgICAgICAgaWYgKHYgPT0gVmVyc2lvbi5ORVcpIHsK\nICAgICAgICAgICAgcmV0dXJuIE9jY3VycmVkLkFGVEVSOwogICAgICAgIH0g\nZWxzZSBpZiAodiA9PSBWZXJzaW9uLkFOWSkgewogICAgICAgICAgICByZXR1\ncm4gT2NjdXJyZWQuQ09OQ1VSUkVOVExZOwogICAgICAgIH0gZWxzZSBpZiAo\nISh2IGluc3RhbmNlb2YgWmtWZXJzaW9uKSkgewogICAgICAgICAgICB0aHJv\ndyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJJbnZhbGlkIHZlcnNp\nb24gdHlwZSIpOwogICAgICAgIH0KICAgICAgICBaa1ZlcnNpb24genYgPSAo\nWmtWZXJzaW9uKXY7CiAgICAgICAgaW50IHJlcyA9IHpub2RlVmVyc2lvbiAt\nIHp2Lnpub2RlVmVyc2lvbjsKICAgICAgICBpZiAocmVzID09IDApIHsKICAg\nICAgICAgICAgcmV0dXJuIE9jY3VycmVkLkNPTkNVUlJFTlRMWTsKICAgICAg\nICB9IGVsc2UgaWYgKHJlcyA8IDApIHsKICAgICAgICAgICAgcmV0dXJuIE9j\nY3VycmVkLkJFRk9SRTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBy\nZXR1cm4gT2NjdXJyZWQuQUZURVI7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyBpbnQgZ2V0Wm5vZGVWZXJzaW9uKCkgewogICAgICAgIHJldHVybiB6\nbm9kZVZlcnNpb247CiAgICB9CgogICAgcHVibGljIFprVmVyc2lvbiBzZXRa\nbm9kZVZlcnNpb24oaW50IHpub2RlVmVyc2lvbikgewogICAgICAgIHRoaXMu\nem5vZGVWZXJzaW9uID0gem5vZGVWZXJzaW9uOwogICAgICAgIHJldHVybiB0\naGlzOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmluZyB0\nb1N0cmluZygpIHsKICAgICAgICByZXR1cm4gSW50ZWdlci50b1N0cmluZyh6\nbm9kZVZlcnNpb24sIDEwKTsKICAgIH0KfQo=\n","encoding":"base64"}

