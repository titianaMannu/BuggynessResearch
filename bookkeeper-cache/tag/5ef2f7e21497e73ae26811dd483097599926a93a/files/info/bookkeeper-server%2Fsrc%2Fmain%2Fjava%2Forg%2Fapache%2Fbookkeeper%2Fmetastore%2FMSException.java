{"sha":"a1350dc7d77b18efc32b6460cc1cae85ce9cbffa","node_id":"MDQ6QmxvYjE1NzU5NTY6YTEzNTBkYzdkNzdiMThlZmMzMmI2NDYwY2MxY2FlODVjZTljYmZmYQ==","size":6738,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/a1350dc7d77b18efc32b6460cc1cae85ce9cbffa","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIubWV0YXN0b3JlOwoKaW1wb3J0\nIGphdmEudXRpbC5FbnVtU2V0OwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7\nCmltcG9ydCBqYXZhLnV0aWwuTWFwOwoKQFN1cHByZXNzV2FybmluZ3MoInNl\ncmlhbCIpCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBNU0V4Y2VwdGlvbiBleHRl\nbmRzIEV4Y2VwdGlvbiB7CgogICAgLyoqCiAgICAgKiByZXR1cm4gY29kZXMK\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBlbnVtIENvZGUgewogICAgICAg\nIE9LICgwLCAiT0siKSwKICAgICAgICBCYWRWZXJzaW9uICgtMSwgIlZlcnNp\nb24gY29uZmxpY3QiKSwKICAgICAgICBOb0tleSAoLTIsICJLZXkgZG9lcyBu\nb3QgZXhpc3QiKSwKICAgICAgICBLZXlFeGlzdHMgKC0zLCAiS2V5IGV4aXN0\ncyIpLAogICAgICAgIE5vRW50cmllcyAoLTQsICJObyBlbnRyaWVzIGZvdW5k\nIiksCgogICAgICAgIEludGVycnVwdGVkRXhjZXB0aW9uICgtMTAwLCAiT3Bl\ncmF0aW9uIGludGVycnVwdGVkIiksCiAgICAgICAgSWxsZWdhbE9wICgtMTAx\nLCAiSWxsZWdhbCBvcGVyYXRpb24iKSwKICAgICAgICBTZXJ2aWNlRG93biAo\nLTEwMiwgIk1ldGFkYXRhIHNlcnZpY2UgaXMgZG93biIpLAogICAgICAgIE9w\nZXJhdGlvbkZhaWx1cmUoLTEwMywgIk9wZXJhaW9uIGZhaWxlZCBvbiBtZXRh\nZGF0YSBzdG9yYWdlIHNlcnZlciBzaWRlIik7CgogICAgICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIE1hcDxJbnRlZ2VyLCBDb2RlPiBjb2RlcwogICAgICAg\nICAgICA9IG5ldyBIYXNoTWFwPEludGVnZXIsIENvZGU+KCk7CgogICAgICAg\nIHN0YXRpYyB7CiAgICAgICAgICAgIGZvciAoQ29kZSBjIDogRW51bVNldC5h\nbGxPZihDb2RlLmNsYXNzKSkgewogICAgICAgICAgICAgICAgY29kZXMucHV0\nKGMuY29kZSwgYyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAg\nIHByaXZhdGUgZmluYWwgaW50IGNvZGU7CiAgICAgICAgcHJpdmF0ZSBmaW5h\nbCBTdHJpbmcgZGVzY3JpcHRpb247CgogICAgICAgIHByaXZhdGUgQ29kZShp\nbnQgY29kZSwgU3RyaW5nIGRlc2NyaXB0aW9uKSB7CiAgICAgICAgICAgIHRo\naXMuY29kZSA9IGNvZGU7CiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24g\nPSBkZXNjcmlwdGlvbjsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAg\nICAqIEdldCB0aGUgaW50IHZhbHVlIGZvciBhIHBhcnRpY3VsYXIgQ29kZS4K\nICAgICAgICAgKgogICAgICAgICAqIEByZXR1cm4gZXJyb3IgY29kZSBhcyBp\nbnRlZ2VyCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGludCBnZXRDb2Rl\nKCkgewogICAgICAgICAgICByZXR1cm4gY29kZTsKICAgICAgICB9CgogICAg\nICAgIC8qKgogICAgICAgICAqIEdldCB0aGUgZGVzY3JpcHRpb24gZm9yIGEg\ncGFydGljdWxhciBDb2RlLgogICAgICAgICAqCiAgICAgICAgICogQHJldHVy\nbiBlcnJvciBkZXNjcmlwdGlvbgogICAgICAgICAqLwogICAgICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7CiAgICAgICAgICAgIHJldHVy\nbiBkZXNjcmlwdGlvbjsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAg\nICAqIEdldCB0aGUgQ29kZSB2YWx1ZSBmb3IgYSBwYXJ0aWN1bGFyIGludGVn\nZXIgZXJyb3IgY29kZS4KICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSBj\nb2RlIGludCBlcnJvciBjb2RlCiAgICAgICAgICogQHJldHVybiBDb2RlIHZh\nbHVlIGNvcnJlc3BvbmRpbmcgdG8gc3BlY2lmaWVkIGludCBjb2RlLCBvciBu\ndWxsLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBzdGF0aWMgQ29kZSBn\nZXQoaW50IGNvZGUpIHsKICAgICAgICAgICAgcmV0dXJuIGNvZGVzLmdldChj\nb2RlKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSBmaW5hbCBDb2Rl\nIGNvZGU7CgogICAgTVNFeGNlcHRpb24oQ29kZSBjb2RlLCBTdHJpbmcgZXJy\nTXNnKSB7CiAgICAgICAgc3VwZXIoY29kZS5nZXREZXNjcmlwdGlvbigpICsg\nIiA6ICIgKyBlcnJNc2cpOwogICAgICAgIHRoaXMuY29kZSA9IGNvZGU7CiAg\nICB9CgogICAgTVNFeGNlcHRpb24oQ29kZSBjb2RlLCBTdHJpbmcgZXJyTXNn\nLCBUaHJvd2FibGUgY2F1c2UpIHsKICAgICAgICBzdXBlcihjb2RlLmdldERl\nc2NyaXB0aW9uKCkgKyAiIDogIiArIGVyck1zZywgY2F1c2UpOwogICAgICAg\nIHRoaXMuY29kZSA9IGNvZGU7CiAgICB9CgogICAgcHVibGljIENvZGUgZ2V0\nQ29kZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb2RlOwogICAgfQoKICAg\nIHB1YmxpYyBzdGF0aWMgTVNFeGNlcHRpb24gY3JlYXRlKENvZGUgY29kZSkg\newogICAgICAgIHJldHVybiBjcmVhdGUoY29kZSwgIiIsIG51bGwpOwogICAg\nfQoKICAgIHB1YmxpYyBzdGF0aWMgTVNFeGNlcHRpb24gY3JlYXRlKENvZGUg\nY29kZSwgU3RyaW5nIGVyck1zZykgewogICAgICAgIHJldHVybiBjcmVhdGUo\nY29kZSwgZXJyTXNnLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGlj\nIE1TRXhjZXB0aW9uIGNyZWF0ZShDb2RlIGNvZGUsIFN0cmluZyBlcnJNc2cs\nIFRocm93YWJsZSBjYXVzZSkgewogICAgICAgIHN3aXRjaCAoY29kZSkgewog\nICAgICAgICAgICBjYXNlIEJhZFZlcnNpb246CiAgICAgICAgICAgICAgICBy\nZXR1cm4gbmV3IEJhZFZlcnNpb25FeGNlcHRpb24oZXJyTXNnLCBjYXVzZSk7\nCiAgICAgICAgICAgIGNhc2UgTm9LZXk6CiAgICAgICAgICAgICAgICByZXR1\ncm4gbmV3IE5vS2V5RXhjZXB0aW9uKGVyck1zZywgY2F1c2UpOwogICAgICAg\nICAgICBjYXNlIEtleUV4aXN0czoKICAgICAgICAgICAgICAgIHJldHVybiBu\nZXcgS2V5RXhpc3RzRXhjZXB0aW9uKGVyck1zZywgY2F1c2UpOwogICAgICAg\nICAgICBjYXNlIEludGVycnVwdGVkRXhjZXB0aW9uOgogICAgICAgICAgICAg\nICAgcmV0dXJuIG5ldyBNU0ludGVycnVwdGVkRXhjZXB0aW9uKGVyck1zZywg\nY2F1c2UpOwogICAgICAgICAgICBjYXNlIElsbGVnYWxPcDoKICAgICAgICAg\nICAgICAgIHJldHVybiBuZXcgSWxsZWdhbE9wRXhjZXB0aW9uKGVyck1zZywg\nY2F1c2UpOwogICAgICAgICAgICBjYXNlIFNlcnZpY2VEb3duOgogICAgICAg\nICAgICAgICAgcmV0dXJuIG5ldyBTZXJ2aWNlRG93bkV4Y2VwdGlvbihlcnJN\nc2csIGNhdXNlKTsKICAgICAgICAgICAgY2FzZSBPcGVyYXRpb25GYWlsdXJl\nOgogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRpb25GYWlsdXJl\nRXhjZXB0aW9uKGVyck1zZywgY2F1c2UpOwogICAgICAgICAgICBjYXNlIE9L\nOgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgdGhyb3cg\nbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiSW52YWxpZCBleGNlcHRp\nb24gY29kZSIpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGlj\nIGNsYXNzIEJhZFZlcnNpb25FeGNlcHRpb24gZXh0ZW5kcyBNU0V4Y2VwdGlv\nbiB7CiAgICAgICAgcHVibGljIEJhZFZlcnNpb25FeGNlcHRpb24oU3RyaW5n\nIGVyck1zZykgewogICAgICAgICAgICBzdXBlcihDb2RlLkJhZFZlcnNpb24s\nIGVyck1zZyk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQmFkVmVyc2lv\nbkV4Y2VwdGlvbihTdHJpbmcgZXJyTXNnLCBUaHJvd2FibGUgY2F1c2UpIHsK\nICAgICAgICAgICAgc3VwZXIoQ29kZS5CYWRWZXJzaW9uLCBlcnJNc2csIGNh\ndXNlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBjbGFz\ncyBOb0tleUV4Y2VwdGlvbiBleHRlbmRzIE1TRXhjZXB0aW9uIHsKICAgICAg\nICBwdWJsaWMgTm9LZXlFeGNlcHRpb24oU3RyaW5nIGVyck1zZykgewogICAg\nICAgICAgICBzdXBlcihDb2RlLk5vS2V5LCBlcnJNc2cpOwogICAgICAgIH0K\nCiAgICAgICAgcHVibGljIE5vS2V5RXhjZXB0aW9uKFN0cmluZyBlcnJNc2cs\nIFRocm93YWJsZSBjYXVzZSkgewogICAgICAgICAgICBzdXBlcihDb2RlLk5v\nS2V5LCBlcnJNc2csIGNhdXNlKTsKICAgICAgICB9CiAgICB9CgogICAgLy8g\nRXhjZXB0aW9uIHdvdWxkIGJlIHRocm93biBpbiBhIGN1cnNvciBpZiBubyBl\nbnRyaWVzIGZvdW5kCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIE5vRW50cmll\nc0V4Y2VwdGlvbiBleHRlbmRzIE1TRXhjZXB0aW9uIHsKICAgICAgICBwdWJs\naWMgTm9FbnRyaWVzRXhjZXB0aW9uKFN0cmluZyBlcnJNc2cpIHsKICAgICAg\nICAgICAgc3VwZXIoQ29kZS5Ob0VudHJpZXMsIGVyck1zZyk7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgTm9FbnRyaWVzRXhjZXB0aW9uKFN0cmluZyBl\ncnJNc2csIFRocm93YWJsZSBjYXVzZSkgewogICAgICAgICAgICBzdXBlcihD\nb2RlLk5vRW50cmllcywgZXJyTXNnLCBjYXVzZSk7CiAgICAgICAgfQogICAg\nfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgS2V5RXhpc3RzRXhjZXB0aW9u\nIGV4dGVuZHMgTVNFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBLZXlFeGlz\ndHNFeGNlcHRpb24oU3RyaW5nIGVyck1zZykgewogICAgICAgICAgICBzdXBl\ncihDb2RlLktleUV4aXN0cywgZXJyTXNnKTsKICAgICAgICB9CgogICAgICAg\nIHB1YmxpYyBLZXlFeGlzdHNFeGNlcHRpb24oU3RyaW5nIGVyck1zZywgVGhy\nb3dhYmxlIGNhdXNlKSB7CiAgICAgICAgICAgIHN1cGVyKENvZGUuS2V5RXhp\nc3RzLCBlcnJNc2csIGNhdXNlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVi\nbGljIHN0YXRpYyBjbGFzcyBNU0ludGVycnVwdGVkRXhjZXB0aW9uIGV4dGVu\nZHMgTVNFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBNU0ludGVycnVwdGVk\nRXhjZXB0aW9uKFN0cmluZyBlcnJNc2cpIHsKICAgICAgICAgICAgc3VwZXIo\nQ29kZS5JbnRlcnJ1cHRlZEV4Y2VwdGlvbiwgZXJyTXNnKTsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyBNU0ludGVycnVwdGVkRXhjZXB0aW9uKFN0cmlu\nZyBlcnJNc2csIFRocm93YWJsZSBjYXVzZSkgewogICAgICAgICAgICBzdXBl\ncihDb2RlLkludGVycnVwdGVkRXhjZXB0aW9uLCBlcnJNc2csIGNhdXNlKTsK\nICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBjbGFzcyBJbGxl\nZ2FsT3BFeGNlcHRpb24gZXh0ZW5kcyBNU0V4Y2VwdGlvbiB7CiAgICAgICAg\ncHVibGljIElsbGVnYWxPcEV4Y2VwdGlvbihTdHJpbmcgZXJyTXNnKSB7CiAg\nICAgICAgICAgIHN1cGVyKENvZGUuSWxsZWdhbE9wLCBlcnJNc2cpOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIElsbGVnYWxPcEV4Y2VwdGlvbihTdHJp\nbmcgZXJyTXNnLCBUaHJvd2FibGUgY2F1c2UpIHsKICAgICAgICAgICAgc3Vw\nZXIoQ29kZS5JbGxlZ2FsT3AsIGVyck1zZywgY2F1c2UpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIFNlcnZpY2VEb3duRXhj\nZXB0aW9uIGV4dGVuZHMgTVNFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBT\nZXJ2aWNlRG93bkV4Y2VwdGlvbihTdHJpbmcgZXJyTXNnKSB7CiAgICAgICAg\nICAgIHN1cGVyKENvZGUuU2VydmljZURvd24sIGVyck1zZyk7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgU2VydmljZURvd25FeGNlcHRpb24oU3RyaW5n\nIGVyck1zZywgVGhyb3dhYmxlIGNhdXNlKSB7CiAgICAgICAgICAgIHN1cGVy\nKENvZGUuU2VydmljZURvd24sIGVyck1zZywgY2F1c2UpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIE9wZXJhdGlvbkZhaWx1\ncmVFeGNlcHRpb24gZXh0ZW5kcyBNU0V4Y2VwdGlvbiB7CiAgICAgICAgcHVi\nbGljIE9wZXJhdGlvbkZhaWx1cmVFeGNlcHRpb24oU3RyaW5nIGVyck1zZykg\newogICAgICAgICAgICBzdXBlcihDb2RlLk9wZXJhdGlvbkZhaWx1cmUsIGVy\nck1zZyk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgT3BlcmF0aW9uRmFp\nbHVyZUV4Y2VwdGlvbihTdHJpbmcgZXJyTXNnLCBUaHJvd2FibGUgY2F1c2Up\nIHsKICAgICAgICAgICAgc3VwZXIoQ29kZS5PcGVyYXRpb25GYWlsdXJlLCBl\ncnJNc2csIGNhdXNlKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

