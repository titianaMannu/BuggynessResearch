{"sha":"03b4a6b21721928700551c6997cdf9b083f8fd0e","node_id":"MDQ6QmxvYjE1NzU5NTY6MDNiNGE2YjIxNzIxOTI4NzAwNTUxYzY5OTdjZGY5YjA4M2Y4ZmQwZQ==","size":2974,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/03b4a6b21721928700551c6997cdf9b083f8fd0e","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLnV0aWw7CgppbXBv\ncnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKCmltcG9ydCBvcmcuc2xmNGouTG9n\nZ2VyOwoKLyoqCiAqIEFuIHV0aWxpdHkgY2xhc3MgZm9yIEkvTyByZWxhdGVk\nIGZ1bmN0aW9uYWxpdHkuCiAqLwpwdWJsaWMgY2xhc3MgSU9VdGlscyB7Cgog\nICAgLyoqCiAgICAgKiBDbG9zZSB0aGUgQ2xvc2VhYmxlIG9iamVjdHMgYW5k\nIDxiPmlnbm9yZTwvYj4gYW55IHtAbGluayBJT0V4Y2VwdGlvbn0gb3IKICAg\nICAqIG51bGwgcG9pbnRlcnMuIE11c3Qgb25seSBiZSB1c2VkIGZvciBjbGVh\nbnVwIGluIGV4Y2VwdGlvbiBoYW5kbGVycy4KICAgICAqIAogICAgICogQHBh\ncmFtIGxvZwogICAgICogICAgICAgICAgICB0aGUgbG9nIHRvIHJlY29yZCBw\ncm9ibGVtcyB0byBhdCBkZWJ1ZyBsZXZlbC4gQ2FuIGJlIG51bGwuCiAgICAg\nKiBAcGFyYW0gY2xvc2VhYmxlcwogICAgICogICAgICAgICAgICB0aGUgb2Jq\nZWN0cyB0byBjbG9zZQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQg\nY2xvc2UoTG9nZ2VyIGxvZywgamF2YS5pby5DbG9zZWFibGUuLi4gY2xvc2Vh\nYmxlcykgewogICAgICAgIGZvciAoamF2YS5pby5DbG9zZWFibGUgYyA6IGNs\nb3NlYWJsZXMpIHsKICAgICAgICAgICAgaWYgKGMgIT0gbnVsbCkgewogICAg\nICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjLmNsb3Nl\nKCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7\nCiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZyAhPSBudWxsICYmIGxvZy5p\nc0RlYnVnRW5hYmxlZCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxv\nZy5kZWJ1ZygiRXhjZXB0aW9uIGluIGNsb3NpbmcgIiArIGMsIGUpOwogICAg\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAg\nICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENvbmZpcm0g\ncHJvbXB0IGZvciB0aGUgY29uc29sZSBvcGVyYXRpb25zLgogICAgICogCiAg\nICAgKiBAcGFyYW0gcHJvbXB0CiAgICAgKiAgICAgICAgICAgIFByb21wdCBt\nZXNzYWdlIHRvIGJlIGRpc3BsYXllZCBvbiBjb25zb2xlCiAgICAgKiBAcmV0\ndXJuIFJldHVybnMgdHJ1ZSBpZiBjb25maXJtZWQgYXMgJ1knLCByZXR1cm5z\nIGZhbHNlIGlmIGNvbmZpcm1lZCBhcwogICAgICogICAgICAgICAnTicKICAg\nICAqIEB0aHJvd3MgSU9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBib29sZWFuIGNvbmZpcm1Qcm9tcHQoU3RyaW5nIHByb21wdCkgdGhy\nb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICB3aGlsZSAodHJ1ZSkgewogICAg\nICAgICAgICBTeXN0ZW0ub3V0LnByaW50KHByb21wdCArICIgKFkgb3IgTikg\nIik7CiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgcmVzcG9uc2VCdWlsZGVy\nID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKICAgICAgICAgICAgd2hpbGUgKHRy\ndWUpIHsKICAgICAgICAgICAgICAgIGludCBjID0gU3lzdGVtLmluLnJlYWQo\nKTsKICAgICAgICAgICAgICAgIGlmIChjID09IC0xIHx8IGMgPT0gJ1xyJyB8\nfCBjID09ICdcbicpIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlc3BvbnNlQnVpbGRl\nci5hcHBlbmQoKGNoYXIpIGMpOwogICAgICAgICAgICB9CgogICAgICAgICAg\nICBTdHJpbmcgcmVzcG9uc2UgPSByZXNwb25zZUJ1aWxkZXIudG9TdHJpbmco\nKTsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVxdWFsc0lnbm9yZUNhc2Uo\nInkiKQogICAgICAgICAgICAgICAgICAgIHx8IHJlc3BvbnNlLmVxdWFsc0ln\nbm9yZUNhc2UoInllcyIpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1\nZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5lcXVhbHNJZ25v\ncmVDYXNlKCJuIikKICAgICAgICAgICAgICAgICAgICB8fCByZXNwb25zZS5l\ncXVhbHNJZ25vcmVDYXNlKCJubyIpKSB7CiAgICAgICAgICAgICAgICByZXR1\ncm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgU3lzdGVtLm91\ndC5wcmludGxuKCJJbnZhbGlkIGlucHV0OiAiICsgcmVzcG9uc2UpOwogICAg\nICAgICAgICAvLyBlbHNlIGFzayB0aGVtIGFnYWluCiAgICAgICAgfQogICAg\nfQp9Cg==\n","encoding":"base64"}

