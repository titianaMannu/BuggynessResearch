{"sha":"b6ea86eb47eef847e808f81c307eccfa0dc274b9","node_id":"MDQ6QmxvYjE1NzU5NTY6YjZlYTg2ZWI0N2VlZjg0N2U4MDhmODFjMzA3ZWNjZmEwZGMyNzRiOQ==","size":4040,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b6ea86eb47eef847e808f81c307eccfa0dc274b9","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbDsKCi8qKgogKiBM\naWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFT\nRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBh\nZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQogKiBkaXN0cmlidXRl\nZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgog\nKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGlj\nZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExp\nY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91IG1h\neSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQogKiB3\naXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRo\nZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0\nd2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJl\nc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3Bl\nY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBs\naW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppbXBvcnQgamF2\nYS5pby5JT0V4Y2VwdGlvbjsKaW1wb3J0IGphdmEubmV0LkluZXRTb2NrZXRB\nZGRyZXNzOwoKLyoqCiAqIFByb3ZpZGVkIHV0aWxpdGVzIGZvciBwYXJzaW5n\nIG5ldHdvcmsgYWRkcmVzc2VzLCBsZWRnZXItaWQgZnJvbSBub2RlIHBhdGhz\nCiAqIGV0Yy4KICoKICovCnB1YmxpYyBjbGFzcyBTdHJpbmdVdGlscyB7Cgog\nICAgLy8gTGVkZ2VyIE5vZGUgUHJlZml4CiAgICBzdGF0aWMgcHVibGljIGZp\nbmFsIFN0cmluZyBMRURHRVJfTk9ERV9QUkVGSVggPSAiTCI7CgogICAgLyoq\nCiAgICAgKiBQYXJzZXMgYWRkcmVzcyBpbnRvIElQIGFuZCBwb3J0LgogICAg\nICoKICAgICAqIEBwYXJhbSBhZGRyCiAgICAgKiAgICAgICAgICAgIFN0cmlu\nZwogICAgICovCgogICAgcHVibGljIHN0YXRpYyBJbmV0U29ja2V0QWRkcmVz\ncyBwYXJzZUFkZHIoU3RyaW5nIHMpIHRocm93cyBJT0V4Y2VwdGlvbiB7Cgog\nICAgICAgIFN0cmluZyBwYXJ0c1tdID0gcy5zcGxpdCgiOiIpOwogICAgICAg\nIGlmIChwYXJ0cy5sZW5ndGggIT0gMikgewogICAgICAgICAgICB0aHJvdyBu\nZXcgSU9FeGNlcHRpb24ocyArICIgZG9lcyBub3QgaGF2ZSB0aGUgZm9ybSBo\nb3N0OnBvcnQiKTsKICAgICAgICB9CiAgICAgICAgaW50IHBvcnQ7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgcG9ydCA9IEludGVnZXIucGFyc2VJbnQo\ncGFydHNbMV0pOwogICAgICAgIH0gY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2Vw\ndGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBJT0V4Y2VwdGlvbihz\nICsgIiBkb2VzIG5vdCBoYXZlIHRoZSBmb3JtIGhvc3Q6cG9ydCIpOwogICAg\nICAgIH0KCiAgICAgICAgSW5ldFNvY2tldEFkZHJlc3MgYWRkciA9IG5ldyBJ\nbmV0U29ja2V0QWRkcmVzcyhwYXJ0c1swXSwgcG9ydCk7CiAgICAgICAgcmV0\ndXJuIGFkZHI7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBTdHJpbmcgYWRk\nclRvU3RyaW5nKEluZXRTb2NrZXRBZGRyZXNzIGFkZHIpIHsKICAgICAgICBy\nZXR1cm4gYWRkci5nZXRBZGRyZXNzKCkuZ2V0SG9zdEFkZHJlc3MoKSArICI6\nIiArIGFkZHIuZ2V0UG9ydCgpOwogICAgfQoKICAgIC8qKgogICAgICogRm9y\nbWF0cyBsZWRnZXIgSUQgYWNjb3JkaW5nIHRvIFpvb0tlZXBlciBydWxlcwog\nICAgICoKICAgICAqIEBwYXJhbSBpZAogICAgICogICAgICAgICAgICB6bm9k\nZSBpZAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRaS1N0\ncmluZ0lkKGxvbmcgaWQpIHsKICAgICAgICByZXR1cm4gU3RyaW5nLmZvcm1h\ndCgiJTAxMGQiLCBpZCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhl\nIGhpZXJhcmNoaWNhbCBsZWRnZXIgcGF0aCBhY2NvcmRpbmcgdG8gdGhlIGxl\nZGdlciBpZAogICAgICoKICAgICAqIEBwYXJhbSBsZWRnZXJJZAogICAgICog\nICAgICAgICAgbGVkZ2VyIGlkCiAgICAgKiBAcmV0dXJuIHRoZSBoaWVyYXJj\naGljYWwgcGF0aAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBn\nZXRIaWVyYXJjaGljYWxMZWRnZXJQYXRoKGxvbmcgbGVkZ2VySWQpIHsKICAg\nICAgICBTdHJpbmcgbGVkZ2VySWRTdHIgPSBnZXRaS1N0cmluZ0lkKGxlZGdl\ncklkKTsKICAgICAgICAvLyBkbyAyLTQtNCBzcGxpdAogICAgICAgIFN0cmlu\nZ0J1aWxkZXIgc2IgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwogICAgICAgIHNi\nLmFwcGVuZCgiLyIpCiAgICAgICAgICAuYXBwZW5kKGxlZGdlcklkU3RyLnN1\nYnN0cmluZygwLCAyKSkuYXBwZW5kKCIvIikKICAgICAgICAgIC5hcHBlbmQo\nbGVkZ2VySWRTdHIuc3Vic3RyaW5nKDIsIDYpKS5hcHBlbmQoIi8iKQogICAg\nICAgICAgLmFwcGVuZChMRURHRVJfTk9ERV9QUkVGSVgpCiAgICAgICAgICAu\nYXBwZW5kKGxlZGdlcklkU3RyLnN1YnN0cmluZyg2LCAxMCkpOwogICAgICAg\nIHJldHVybiBzYi50b1N0cmluZygpOwogICAgfQoKICAgIC8qKgogICAgICog\nUGFyc2UgdGhlIGhpZXJhcmNoaWNhbCBsZWRnZXIgcGF0aCB0byBpdHMgbGVk\nZ2VyIGlkCiAgICAgKgogICAgICogQHBhcmFtIGhpZXJhcmNoaWNhbExlZGdl\nclBhdGgKICAgICAqIEByZXR1cm4gdGhlIGxlZGdlciBpZAogICAgICogQHRo\ncm93cyBJT0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGxv\nbmcgc3RyaW5nVG9IaWVyYXJjaGljYWxMZWRnZXJJZChTdHJpbmcgaGllcmFy\nY2hpY2FsTGVkZ2VyUGF0aCkKICAgICAgICAgICAgdGhyb3dzIElPRXhjZXB0\naW9uIHsKICAgICAgICBTdHJpbmdbXSBoaWVyYXJjaGljYWxQYXJ0cyA9IGhp\nZXJhcmNoaWNhbExlZGdlclBhdGguc3BsaXQoIi8iKTsKICAgICAgICBpZiAo\naGllcmFyY2hpY2FsUGFydHMubGVuZ3RoICE9IDMpIHsKICAgICAgICAgICAg\ndGhyb3cgbmV3IElPRXhjZXB0aW9uKCJpdCBpcyBub3QgYSB2YWxpZCBoaWVy\nYXJjaGljYWwgcGF0aCBuYW1lIDogIiArIGhpZXJhcmNoaWNhbExlZGdlclBh\ndGgpOwogICAgICAgIH0KICAgICAgICBoaWVyYXJjaGljYWxQYXJ0c1syXSA9\nCiAgICAgICAgICAgIGhpZXJhcmNoaWNhbFBhcnRzWzJdLnN1YnN0cmluZyhM\nRURHRVJfTk9ERV9QUkVGSVgubGVuZ3RoKCkpOwogICAgICAgIHJldHVybiBz\ndHJpbmdUb0hpZXJhcmNoaWNhbExlZGdlcklkKGhpZXJhcmNoaWNhbFBhcnRz\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBsZWRnZXIgaWQKICAgICAq\nCiAgICAgKiBAcGFyYW0gbGV2ZWxOb2RlcwogICAgICogICAgICAgICAgbGV2\nZWwgb2YgdGhlIGxlZGdlciBwYXRoCiAgICAgKiBAcmV0dXJuIGxlZGdlciBp\nZAogICAgICogQHRocm93cyBJT0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIGxvbmcgc3RyaW5nVG9IaWVyYXJjaGljYWxMZWRnZXJJZChT\ndHJpbmcuLi5sZXZlbE5vZGVzKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgc2IgPSBuZXcg\nU3RyaW5nQnVpbGRlcigpOwogICAgICAgICAgICBmb3IgKFN0cmluZyBub2Rl\nIDogbGV2ZWxOb2RlcykgewogICAgICAgICAgICAgICAgc2IuYXBwZW5kKG5v\nZGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBMb25nLnBh\ncnNlTG9uZyhzYi50b1N0cmluZygpKTsKICAgICAgICB9IGNhdGNoIChOdW1i\nZXJGb3JtYXRFeGNlcHRpb24gZSkgewogICAgICAgICAgICB0aHJvdyBuZXcg\nSU9FeGNlcHRpb24oZSk7CiAgICAgICAgfQogICAgfQoKfQo=\n","encoding":"base64"}

