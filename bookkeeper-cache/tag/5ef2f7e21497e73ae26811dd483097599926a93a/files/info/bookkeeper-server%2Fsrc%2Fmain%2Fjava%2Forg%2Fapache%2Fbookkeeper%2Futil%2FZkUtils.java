{"sha":"05b3d62f4b84965d8aa06e880fd0a0a8b9349eea","node_id":"MDQ6QmxvYjE1NzU5NTY6MDViM2Q2MmY0Yjg0OTY1ZDhhYTA2ZTg4MGZkMGEwYThiOTM0OWVlYQ==","size":8944,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/05b3d62f4b84965d8aa06e880fd0a0a8b9349eea","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCgpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci51dGlsOwoKaW1w\nb3J0IGphdmEuaW8uRmlsZTsKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247\nCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIucHJvdG8uQm9va2tlZXBlckludGVybmFsQ2FsbGJhY2tzLkdl\nbmVyaWNDYWxsYmFjazsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci56\nb29rZWVwZXIuWm9vS2VlcGVyV2F0Y2hlckJhc2U7CmltcG9ydCBvcmcuYXBh\nY2hlLnpvb2tlZXBlci5DcmVhdGVNb2RlOwppbXBvcnQgb3JnLmFwYWNoZS56\nb29rZWVwZXIuQXN5bmNDYWxsYmFjazsKaW1wb3J0IG9yZy5hcGFjaGUuem9v\na2VlcGVyLktlZXBlckV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuem9v\na2VlcGVyLkFzeW5jQ2FsbGJhY2suU3RyaW5nQ2FsbGJhY2s7CmltcG9ydCBv\ncmcuYXBhY2hlLnpvb2tlZXBlci5LZWVwZXJFeGNlcHRpb24uQ29kZTsKaW1w\nb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLmRhdGEuQUNMOwppbXBvcnQgb3Jn\nLmFwYWNoZS56b29rZWVwZXIuWm9vS2VlcGVyOwppbXBvcnQgb3JnLnNsZjRq\nLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwoKLyoq\nCiAqIFByb3ZpZGVkIHV0aWxpdGVzIGZvciB6b29rZWVwZXIgYWNjZXNzLCBl\ndGMuCiAqLwpwdWJsaWMgY2xhc3MgWmtVdGlscyB7CiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBMb2dnZXIgTE9HID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dn\nZXIoWmtVdGlscy5jbGFzcyk7CiAgICAvKioKICAgICAqIENyZWF0ZSB6b29r\nZWVwZXIgcGF0aCByZWN1cnNpdmVseQogICAgICoKICAgICAqIEBwYXJhbSB6\nawogICAgICogICAgICAgICAgWm9va2VlcGVyIGNsaWVudAogICAgICogQHBh\ncmFtIG9yaWdpbmFsUGF0aAogICAgICogICAgICAgICAgWm9va2VlcGVyIGZ1\nbGwgcGF0aAogICAgICogQHBhcmFtIGRhdGEKICAgICAqICAgICAgICAgIFpv\nb2tlZXBlciBkYXRhCiAgICAgKiBAcGFyYW0gYWNsCiAgICAgKiAgICAgICAg\nICBBY2wgb2YgdGhlIHprIHBhdGgKICAgICAqIEBwYXJhbSBjcmVhdGVNb2Rl\nCiAgICAgKiAgICAgICAgICBDcmVhdGUgbW9kZSBvZiB6ayBwYXRoCiAgICAg\nKiBAcGFyYW0gY2FsbGJhY2sKICAgICAqICAgICAgICAgIENhbGxiYWNrCiAg\nICAgKiBAcGFyYW0gY3R4CiAgICAgKiAgICAgICAgICBDb250ZXh0IG9iamVj\ndAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgY3JlYXRlRnVsbFBh\ndGhPcHRpbWlzdGljKAogICAgICAgIGZpbmFsIFpvb0tlZXBlciB6aywgZmlu\nYWwgU3RyaW5nIG9yaWdpbmFsUGF0aCwgZmluYWwgYnl0ZVtdIGRhdGEsCiAg\nICAgICAgZmluYWwgTGlzdDxBQ0w+IGFjbCwgZmluYWwgQ3JlYXRlTW9kZSBj\ncmVhdGVNb2RlLAogICAgICAgIGZpbmFsIEFzeW5jQ2FsbGJhY2suU3RyaW5n\nQ2FsbGJhY2sgY2FsbGJhY2ssIGZpbmFsIE9iamVjdCBjdHgpIHsKCiAgICAg\nICAgemsuY3JlYXRlKG9yaWdpbmFsUGF0aCwgZGF0YSwgYWNsLCBjcmVhdGVN\nb2RlLCBuZXcgU3RyaW5nQ2FsbGJhY2soKSB7CiAgICAgICAgICAgIEBPdmVy\ncmlkZQogICAgICAgICAgICBwdWJsaWMgdm9pZCBwcm9jZXNzUmVzdWx0KGlu\ndCByYywgU3RyaW5nIHBhdGgsIE9iamVjdCBjdHgsIFN0cmluZyBuYW1lKSB7\nCgogICAgICAgICAgICAgICAgaWYgKHJjICE9IENvZGUuTk9OT0RFLmludFZh\nbHVlKCkpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5wcm9jZXNz\nUmVzdWx0KHJjLCBwYXRoLCBjdHgsIG5hbWUpOwogICAgICAgICAgICAgICAg\nICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAg\nICAvLyBTaW5jZSBJIGdvdCBhIG5vbm9kZSwgaXQgbWVhbnMgdGhhdCBteSBw\nYXJlbnRzIGRvbid0IGV4aXN0CiAgICAgICAgICAgICAgICAvLyBjcmVhdGUg\nbW9kZSBpcyBwZXJzaXN0ZW50IHNpbmNlIGVwaGVtZXJhbCBub2RlcyBjYW4n\ndCBiZQogICAgICAgICAgICAgICAgLy8gcGFyZW50cwogICAgICAgICAgICAg\nICAgY3JlYXRlRnVsbFBhdGhPcHRpbWlzdGljKHprLCBuZXcgRmlsZShvcmln\naW5hbFBhdGgpLmdldFBhcmVudCgpLnJlcGxhY2UoIlxcIiwgIi8iKSwgbmV3\nIGJ5dGVbMF0sIGFjbCwKICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRl\nTW9kZS5QRVJTSVNURU5ULCBuZXcgU3RyaW5nQ2FsbGJhY2soKSB7CgogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBwcm9jZXNzUmVzdWx0KGlu\ndCByYywgU3RyaW5nIHBhdGgsIE9iamVjdCBjdHgsIFN0cmluZyBuYW1lKSB7\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJjID09IENv\nZGUuT0suaW50VmFsdWUoKSB8fCByYyA9PSBDb2RlLk5PREVFWElTVFMuaW50\nVmFsdWUoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAvLyBzdWNjZWVkZWQgaW4gY3JlYXRpbmcgdGhlIHBhcmVudCwgbm93CiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0\naGUgb3JpZ2luYWwgcGF0aAogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICBjcmVhdGVGdWxsUGF0aE9wdGltaXN0aWMoemssIG9yaWdpbmFs\nUGF0aCwgZGF0YSwgYWNsLCBjcmVhdGVNb2RlLCBjYWxsYmFjaywKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgpOwog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLnByb2Nl\nc3NSZXN1bHQocmMsIHBhdGgsIGN0eCwgbmFtZSk7CiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCBjdHgpOwogICAgICAg\nICAgICB9CiAgICAgICAgfSwgY3R4KTsKCiAgICB9CgogICAgcHJpdmF0ZSBz\ndGF0aWMgY2xhc3MgR2V0Q2hpbGRyZW5DdHggewogICAgICAgIGludCByYzsK\nICAgICAgICBib29sZWFuIGRvbmUgPSBmYWxzZTsKICAgICAgICBMaXN0PFN0\ncmluZz4gY2hpbGRyZW4gPSBudWxsOwogICAgfQoKICAgIC8qKgogICAgICog\nU3luYyBnZXQgYWxsIGNoaWxkcmVuIHVuZGVyIHNpbmdsZSB6ayBub2RlCiAg\nICAgKgogICAgICogQHBhcmFtIHprCiAgICAgKiAgICAgICAgICB6b29rZWVw\nZXIgY2xpZW50CiAgICAgKiBAcGFyYW0gbm9kZQogICAgICogICAgICAgICAg\nbm9kZSBwYXRoCiAgICAgKiBAcmV0dXJuIGRpcmVjdCBjaGlsZHJlbgogICAg\nICogQHRocm93cyBJbnRlcnJ1cHRlZEV4Y2VwdGlvbgogICAgICogQHRocm93\ncyBJT0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIExpc3Q8\nU3RyaW5nPiBnZXRDaGlsZHJlbkluU2luZ2xlTm9kZShmaW5hbCBab29LZWVw\nZXIgemssIGZpbmFsIFN0cmluZyBub2RlKQogICAgICAgICAgICB0aHJvd3Mg\nSW50ZXJydXB0ZWRFeGNlcHRpb24sIElPRXhjZXB0aW9uIHsKICAgICAgICBm\naW5hbCBHZXRDaGlsZHJlbkN0eCBjdHggPSBuZXcgR2V0Q2hpbGRyZW5DdHgo\nKTsKICAgICAgICBnZXRDaGlsZHJlbkluU2luZ2xlTm9kZSh6aywgbm9kZSwg\nbmV3IEdlbmVyaWNDYWxsYmFjazxMaXN0PFN0cmluZz4+KCkgewogICAgICAg\nICAgICBAT3ZlcnJpZGUKICAgICAgICAgICAgcHVibGljIHZvaWQgb3BlcmF0\naW9uQ29tcGxldGUoaW50IHJjLCBMaXN0PFN0cmluZz4gbGVkZ2Vycykgewog\nICAgICAgICAgICAgICAgc3luY2hyb25pemVkIChjdHgpIHsKICAgICAgICAg\nICAgICAgICAgICBpZiAoQ29kZS5PSy5pbnRWYWx1ZSgpID09IHJjKSB7CiAg\nICAgICAgICAgICAgICAgICAgICAgIGN0eC5jaGlsZHJlbiA9IGxlZGdlcnM7\nCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGN0\neC5yYyA9IHJjOwogICAgICAgICAgICAgICAgICAgIGN0eC5kb25lID0gdHJ1\nZTsKICAgICAgICAgICAgICAgICAgICBjdHgubm90aWZ5QWxsKCk7CiAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAg\nICAgc3luY2hyb25pemVkIChjdHgpIHsKICAgICAgICAgICAgd2hpbGUgKGN0\neC5kb25lID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBjdHgud2FpdCgp\nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChDb2RlLk9L\nLmludFZhbHVlKCkgIT0gY3R4LnJjKSB7CiAgICAgICAgICAgIHRocm93IG5l\ndyBJT0V4Y2VwdGlvbigiRXJyb3Igb24gZ2V0dGluZyBjaGlsZHJlbiBmcm9t\nIG5vZGUgIiArIG5vZGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY3R4\nLmNoaWxkcmVuOwoKICAgIH0KCiAgICAvKioKICAgICAqIEFzeW5jIGdldCBk\naXJlY3QgY2hpbGRyZW4gdW5kZXIgc2luZ2xlIG5vZGUKICAgICAqCiAgICAg\nKiBAcGFyYW0gemsKICAgICAqICAgICAgICAgIHpvb2tlZXBlciBjbGllbnQK\nICAgICAqIEBwYXJhbSBub2RlCiAgICAgKiAgICAgICAgICBub2RlIHBhdGgK\nICAgICAqIEBwYXJhbSBjYgogICAgICogICAgICAgICAgY2FsbGJhY2sgZnVu\nY3Rpb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyB2b2lkIGdldENoaWxk\ncmVuSW5TaW5nbGVOb2RlKGZpbmFsIFpvb0tlZXBlciB6aywgZmluYWwgU3Ry\naW5nIG5vZGUsCiAgICAgICAgICAgIGZpbmFsIEdlbmVyaWNDYWxsYmFjazxM\naXN0PFN0cmluZz4+IGNiKSB7CiAgICAgICAgemsuc3luYyhub2RlLCBuZXcg\nQXN5bmNDYWxsYmFjay5Wb2lkQ2FsbGJhY2soKSB7CiAgICAgICAgICAgIEBP\ndmVycmlkZQogICAgICAgICAgICBwdWJsaWMgdm9pZCBwcm9jZXNzUmVzdWx0\nKGludCByYywgU3RyaW5nIHBhdGgsIE9iamVjdCBjdHgpIHsKICAgICAgICAg\nICAgICAgIGlmIChyYyAhPSBDb2RlLk9LLmludFZhbHVlKCkpIHsKICAgICAg\nICAgICAgICAgICAgICBMT0cuZXJyb3IoIlpLIGVycm9yIHN5bmNpbmcgbm9k\nZXMgd2hlbiBnZXR0aW5nIGNoaWxkcmVuOiAiLCBLZWVwZXJFeGNlcHRpb24K\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jcmVhdGUoS2VlcGVyRXhj\nZXB0aW9uLkNvZGUuZ2V0KHJjKSwgcGF0aCkpOwogICAgICAgICAgICAgICAg\nICAgIGNiLm9wZXJhdGlvbkNvbXBsZXRlKHJjLCBudWxsKTsKICAgICAgICAg\nICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgICAgICB6ay5nZXRDaGlsZHJlbihub2RlLCBmYWxzZSwgbmV3IEFzeW5j\nQ2FsbGJhY2suQ2hpbGRyZW5DYWxsYmFjaygpIHsKICAgICAgICAgICAgICAg\nICAgICBAT3ZlcnJpZGUKICAgICAgICAgICAgICAgICAgICBwdWJsaWMgdm9p\nZCBwcm9jZXNzUmVzdWx0KGludCByYywgU3RyaW5nIHBhdGgsIE9iamVjdCBj\ndHgsIExpc3Q8U3RyaW5nPiBub2RlcykgewogICAgICAgICAgICAgICAgICAg\nICAgICBpZiAocmMgIT0gQ29kZS5PSy5pbnRWYWx1ZSgpKSB7CiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBMT0cuZXJyb3IoIkVycm9yIHBvbGxpbmcg\nWksgZm9yIHRoZSBhdmFpbGFibGUgbm9kZXM6ICIsIEtlZXBlckV4Y2VwdGlv\nbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3JlYXRl\nKEtlZXBlckV4Y2VwdGlvbi5Db2RlLmdldChyYyksIHBhdGgpKTsKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIGNiLm9wZXJhdGlvbkNvbXBsZXRlKHJj\nLCBudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsK\nICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAg\nICAgICAgY2Iub3BlcmF0aW9uQ29tcGxldGUocmMsIG5vZGVzKTsKCiAgICAg\nICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgbnVsbCk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9LCBudWxsKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIEdldCBuZXcgWm9vS2VlcGVyIGNsaWVudC4gV2FpdHMgdGlsbCB0\naGUgY29ubmVjdGlvbiBpcyBjb21wbGV0ZS4gSWYKICAgICAqIGNvbm5lY3Rp\nb24gaXMgbm90IHN1Y2Nlc3NmdWwgd2l0aGluIHRpbWVvdXQsIHRoZW4gdGhy\nb3dzIGJhY2sgZXhjZXB0aW9uLgogICAgICoKICAgICAqIEBwYXJhbSBzZXJ2\nZXJzCiAgICAgKiAgICAgICAgICAgIFpLIHNlcnZlcnMgY29ubmVjdGlvbiBz\ndHJpbmcuCiAgICAgKiBAcGFyYW0gdGltZW91dAogICAgICogICAgICAgICAg\nICBTZXNzaW9uIHRpbWVvdXQuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nWm9vS2VlcGVyIGNyZWF0ZUNvbm5lY3RlZFpvb2tlZXBlckNsaWVudChTdHJp\nbmcgc2VydmVycywKICAgICAgICAgICAgWm9vS2VlcGVyV2F0Y2hlckJhc2Ug\ndykgdGhyb3dzIElPRXhjZXB0aW9uLCBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiwK\nICAgICAgICAgICAgS2VlcGVyRXhjZXB0aW9uIHsKICAgICAgICBpZiAoc2Vy\ndmVycyA9PSBudWxsIHx8IHNlcnZlcnMuaXNFbXB0eSgpKSB7CiAgICAgICAg\nICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oInNlcnZl\ncnMgY2Fubm90IGJlIGVtcHR5Iik7CiAgICAgICAgfQogICAgICAgIGZpbmFs\nIFpvb0tlZXBlciBuZXdaayA9IG5ldyBab29LZWVwZXIoc2VydmVycywgdy5n\nZXRaa1Nlc3Npb25UaW1lT3V0KCksCiAgICAgICAgICAgICAgICB3KTsKICAg\nICAgICB3LndhaXRGb3JDb25uZWN0aW9uKCk7CiAgICAgICAgLy8gUmUtY2hl\nY2tpbmcgem9va2VlcGVyIGNvbm5lY3Rpb24gc3RhdHVzCiAgICAgICAgaWYg\nKCFuZXdaay5nZXRTdGF0ZSgpLmlzQ29ubmVjdGVkKCkpIHsKICAgICAgICAg\nICAgdGhyb3cgS2VlcGVyRXhjZXB0aW9uLmNyZWF0ZShLZWVwZXJFeGNlcHRp\nb24uQ29kZS5DT05ORUNUSU9OTE9TUyk7CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiBuZXdaazsKICAgIH0KCiAgICAvKioKICAgICAqIFV0aWxpdHkgdG8g\nY3JlYXRlIHRoZSBjb21wbGV0ZSB6bm9kZSBwYXRoIHN5bmNocm9ub3VzbHkK\nICAgICAqIAogICAgICogQHBhcmFtIHprYwogICAgICogICAgICAgICAgICAt\nIFpLIGluc3RhbmNlCiAgICAgKiBAcGFyYW0gcGF0aAogICAgICogICAgICAg\nICAgICAtIHpub2RlIHBhdGgKICAgICAqIEBwYXJhbSBkYXRhCiAgICAgKiAg\nICAgICAgICAgIC0gem5vZGUgZGF0YQogICAgICogQHBhcmFtIGFjbAogICAg\nICogICAgICAgICAgICAtIEFjbCBvZiB0aGUgemsgcGF0aAogICAgICogQHBh\ncmFtIGNyZWF0ZU1vZGUKICAgICAqICAgICAgICAgICAgLSBDcmVhdGUgbW9k\nZSBvZiB6ayBwYXRoCiAgICAgKiBAdGhyb3dzIEtlZXBlckV4Y2VwdGlvbgog\nICAgICogICAgICAgICAgICAgaWYgdGhlIHNlcnZlciByZXR1cm5zIGEgbm9u\nLXplcm8gZXJyb3IgY29kZSwgb3IgaW52YWxpZCBBQ0wKICAgICAqIEB0aHJv\nd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24KICAgICAqICAgICAgICAgICAgIGlm\nIHRoZSB0cmFuc2FjdGlvbiBpcyBpbnRlcnJ1cHRlZAogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIHZvaWQgY3JlYXRlRnVsbFBhdGhPcHRpbWlzdGljKFpv\nb0tlZXBlciB6a2MsIFN0cmluZyBwYXRoLAogICAgICAgICAgICBieXRlW10g\nZGF0YSwgZmluYWwgTGlzdDxBQ0w+IGFjbCwgZmluYWwgQ3JlYXRlTW9kZSBj\ncmVhdGVNb2RlKQogICAgICAgICAgICB0aHJvd3MgS2VlcGVyRXhjZXB0aW9u\nLCBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiB7CiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgemtjLmNyZWF0ZShwYXRoLCBkYXRhLCBhY2wsIGNyZWF0ZU1vZGUp\nOwogICAgICAgIH0gY2F0Y2ggKEtlZXBlckV4Y2VwdGlvbi5Ob05vZGVFeGNl\ncHRpb24gbm5lKSB7CiAgICAgICAgICAgIGludCBsYXN0U2xhc2ggPSBwYXRo\nLmxhc3RJbmRleE9mKCcvJyk7CiAgICAgICAgICAgIGlmIChsYXN0U2xhc2gg\nPD0gMCkgewogICAgICAgICAgICAgICAgdGhyb3cgbm5lOwogICAgICAgICAg\nICB9CiAgICAgICAgICAgIFN0cmluZyBwYXJlbnQgPSBwYXRoLnN1YnN0cmlu\nZygwLCBsYXN0U2xhc2gpOwogICAgICAgICAgICBjcmVhdGVGdWxsUGF0aE9w\ndGltaXN0aWMoemtjLCBwYXJlbnQsIG5ldyBieXRlWzBdLCBhY2wsIGNyZWF0\nZU1vZGUpOwogICAgICAgICAgICB6a2MuY3JlYXRlKHBhdGgsIGRhdGEsIGFj\nbCwgY3JlYXRlTW9kZSk7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

