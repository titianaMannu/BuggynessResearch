{"sha":"39ad3e5396df504d8038ddbadc18eae8afa0f5e7","node_id":"MDQ6QmxvYjE1NzU5NTY6MzlhZDNlNTM5NmRmNTA0ZDgwMzhkZGJhZGMxOGVhZThhZmEwZjVlNw==","size":1894,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/39ad3e5396df504d8038ddbadc18eae8afa0f5e7","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLnZlcnNpb25pbmc7\nCgovKioKICogQW4gaW50ZXJmYWNlIHRoYXQgYWxsb3dzIHVzIHRvIGRldGVy\nbWluZSBpZiBhIGdpdmVuIHZlcnNpb24gaGFwcGVuZWQgYmVmb3JlIG9yIGFm\ndGVyIGFub3RoZXIgdmVyc2lvbi4KICovCnB1YmxpYyBpbnRlcmZhY2UgVmVy\nc2lvbiB7CgogICAgLyoqCiAgICAgKiBJbml0aWFsIHZlcnNpb24uCiAgICAg\nKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgVmVyc2lvbiBORVcgPSBuZXcg\nVmVyc2lvbigpIHsKICAgICAgICBAT3ZlcnJpZGUKICAgICAgICBwdWJsaWMg\nT2NjdXJyZWQgY29tcGFyZShWZXJzaW9uIHYpIHsKICAgICAgICAgICAgaWYg\nKG51bGwgPT0gdikgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IE51bGxQ\nb2ludGVyRXhjZXB0aW9uKCJWZXJzaW9uIGlzIG5vdCBhbGxvd2VkIHRvIGJl\nIG51bGwuIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMg\nPT0gdikgewogICAgICAgICAgICAgICAgcmV0dXJuIE9jY3VycmVkLkNPTkNV\nUlJFTlRMWTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gT2Nj\ndXJyZWQuQkVGT1JFOwogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAg\nKiBNYXRjaCBhbnkgdmVyc2lvbi4KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBmaW5hbCBWZXJzaW9uIEFOWSA9IG5ldyBWZXJzaW9uKCkgewogICAgICAg\nIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyBPY2N1cnJlZCBjb21wYXJlKFZl\ncnNpb24gdikgewogICAgICAgICAgICBpZiAobnVsbCA9PSB2KSB7CiAgICAg\nICAgICAgICAgICB0aHJvdyBuZXcgTnVsbFBvaW50ZXJFeGNlcHRpb24oIlZl\ncnNpb24gaXMgbm90IGFsbG93ZWQgdG8gYmUgbnVsbC4iKTsKICAgICAgICAg\nICAgfQogICAgICAgICAgICByZXR1cm4gT2NjdXJyZWQuQ09OQ1VSUkVOVExZ\nOwogICAgICAgIH0KICAgIH07CgogICAgcHVibGljIHN0YXRpYyBlbnVtIE9j\nY3VycmVkIHsKICAgICAgICBCRUZPUkUsIEFGVEVSLCBDT05DVVJSRU5UTFkK\nICAgIH0KCiAgICBwdWJsaWMgT2NjdXJyZWQgY29tcGFyZShWZXJzaW9uIHYp\nOwp9Cg==\n","encoding":"base64"}

