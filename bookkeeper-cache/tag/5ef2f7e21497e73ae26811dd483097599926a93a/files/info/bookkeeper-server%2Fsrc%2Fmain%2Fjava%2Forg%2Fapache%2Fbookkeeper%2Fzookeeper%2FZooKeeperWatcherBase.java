{"sha":"dbe7f7aa24a2b3aca825d32c3658a541487e5a35","node_id":"MDQ6QmxvYjE1NzU5NTY6ZGJlN2Y3YWEyNGEyYjNhY2E4MjVkMzJjMzY1OGE1NDE0ODdlNWEzNQ==","size":3214,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/dbe7f7aa24a2b3aca825d32c3658a541487e5a35","content":"LyoqCiAqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRv\nciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAq\nIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRo\nZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5z\nZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21w\nbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh\nIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJl\ncXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0\naW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5z\nZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRI\nT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwg\nZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNz\naW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAq\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci56b29rZWVwZXI7\nCgppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ291bnREb3duTGF0Y2g7\nCmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5UaW1lVW5pdDsKCmltcG9y\ndCBvcmcuYXBhY2hlLnpvb2tlZXBlci5LZWVwZXJFeGNlcHRpb247CmltcG9y\ndCBvcmcuYXBhY2hlLnpvb2tlZXBlci5XYXRjaGVkRXZlbnQ7CmltcG9ydCBv\ncmcuYXBhY2hlLnpvb2tlZXBlci5XYXRjaGVyOwppbXBvcnQgb3JnLmFwYWNo\nZS56b29rZWVwZXIuV2F0Y2hlci5FdmVudC5FdmVudFR5cGU7CmltcG9ydCBv\ncmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rv\ncnk7CgovKioKICogV2F0Y2hlciBmb3IgcmVjZWl2aW5nIHpvb2tlZXBlciBz\nZXJ2ZXIgY29ubmVjdGlvbiBldmVudHMuCiAqLwpwdWJsaWMgY2xhc3MgWm9v\nS2VlcGVyV2F0Y2hlckJhc2UgaW1wbGVtZW50cyBXYXRjaGVyIHsKICAgIHBy\naXZhdGUgc3RhdGljIGZpbmFsIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5\nCiAgICAgICAgICAgIC5nZXRMb2dnZXIoWm9vS2VlcGVyV2F0Y2hlckJhc2Uu\nY2xhc3MpOwoKICAgIHByaXZhdGUgZmluYWwgaW50IHprU2Vzc2lvblRpbWVP\ndXQ7CiAgICBwcml2YXRlIENvdW50RG93bkxhdGNoIGNsaWVudENvbm5lY3RM\nYXRjaCA9IG5ldyBDb3VudERvd25MYXRjaCgxKTsKCiAgICBwdWJsaWMgWm9v\nS2VlcGVyV2F0Y2hlckJhc2UoaW50IHprU2Vzc2lvblRpbWVPdXQpIHsKICAg\nICAgICB0aGlzLnprU2Vzc2lvblRpbWVPdXQgPSB6a1Nlc3Npb25UaW1lT3V0\nOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgcHJvY2Vz\ncyhXYXRjaGVkRXZlbnQgZXZlbnQpIHsKICAgICAgICAvLyBJZiBldmVudCB0\neXBlIGlzIE5PTkUsIHRoaXMgaXMgYSBjb25uZWN0aW9uIHN0YXR1cyBjaGFu\nZ2UKICAgICAgICBpZiAoZXZlbnQuZ2V0VHlwZSgpICE9IEV2ZW50VHlwZS5O\nb25lKSB7CiAgICAgICAgICAgIExPRy5kZWJ1ZygiUmVjaWV2ZWQgZXZlbnQ6\nIHt9LCBwYXRoOiB7fSBmcm9tIFpvb0tlZXBlciBzZXJ2ZXIiLAogICAgICAg\nICAgICAgICAgICAgIGV2ZW50LmdldFR5cGUoKSwgZXZlbnQuZ2V0UGF0aCgp\nKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgTE9H\nLmRlYnVnKCJSZWNpZXZlZCB7fSBmcm9tIFpvb0tlZXBlciBzZXJ2ZXIiLCBl\ndmVudC5nZXRTdGF0ZSgpKTsKICAgICAgICAvLyBUT0RPOiBOZWVkcyB0byBo\nYW5kbGUgQXV0aEZhaWxlZCwgU2FzbEF1dGhlbnRpY2F0ZWQgZXZlbnRzCiAg\nICAgICAgc3dpdGNoIChldmVudC5nZXRTdGF0ZSgpKSB7CiAgICAgICAgY2Fz\nZSBTeW5jQ29ubmVjdGVkOgogICAgICAgICAgICBjbGllbnRDb25uZWN0TGF0\nY2guY291bnREb3duKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNh\nc2UgRGlzY29ubmVjdGVkOgogICAgICAgICAgICBMT0cuZGVidWcoIklnbm9y\naW5nIERpc2Nvbm5lY3RlZCBldmVudCBmcm9tIFpvb0tlZXBlciBzZXJ2ZXIi\nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBFeHBpcmVkOgog\nICAgICAgICAgICBMT0cuZXJyb3IoIlpvb0tlZXBlciBjbGllbnQgY29ubmVj\ndGlvbiB0byB0aGUgIgogICAgICAgICAgICAgICAgICAgICsgIlpvb0tlZXBl\nciBzZXJ2ZXIgaGFzIGV4cGlyZWQhIik7CiAgICAgICAgICAgIGJyZWFrOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFdhaXRpbmcgZm9yIHRo\nZSBTeW5jQ29ubmVjdGVkIGV2ZW50IGZyb20gdGhlIFpvb0tlZXBlciBzZXJ2\nZXIKICAgICAqIAogICAgICogQHRocm93cyBLZWVwZXJFeGNlcHRpb24KICAg\nICAqICAgICAgICAgICAgIHdoZW4gdGhlcmUgaXMgbm8gY29ubmVjdGlvbgog\nICAgICogQHRocm93cyBJbnRlcnJ1cHRlZEV4Y2VwdGlvbgogICAgICogICAg\nICAgICAgICAgaW50ZXJydXB0ZWQgd2hpbGUgd2FpdGluZyBmb3IgY29ubmVj\ndGlvbgogICAgICovCiAgICBwdWJsaWMgdm9pZCB3YWl0Rm9yQ29ubmVjdGlv\nbigpIHRocm93cyBLZWVwZXJFeGNlcHRpb24sCiAgICAgICAgICAgIEludGVy\ncnVwdGVkRXhjZXB0aW9uIHsKICAgICAgICBpZiAoIWNsaWVudENvbm5lY3RM\nYXRjaC5hd2FpdCh6a1Nlc3Npb25UaW1lT3V0LCBUaW1lVW5pdC5NSUxMSVNF\nQ09ORFMpKSB7CiAgICAgICAgICAgIHRocm93IEtlZXBlckV4Y2VwdGlvbi5j\ncmVhdGUoS2VlcGVyRXhjZXB0aW9uLkNvZGUuQ09OTkVDVElPTkxPU1MpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB6b29rZWVw\nZXIgc2Vzc2lvbiB0aW1lIG91dAogICAgICovCiAgICBwdWJsaWMgaW50IGdl\ndFprU2Vzc2lvblRpbWVPdXQoKSB7CiAgICAgICAgcmV0dXJuIHprU2Vzc2lv\nblRpbWVPdXQ7CiAgICB9Cgp9Cg==\n","encoding":"base64"}

