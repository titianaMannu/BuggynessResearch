{"sha":"6ec48e5c7ebfbcf743ccc701c63473adab6d6904","node_id":"MDQ6QmxvYjE1NzU5NTY6NmVjNDhlNWM3ZWJmYmNmNzQzY2NjNzAxYzYzNDczYWRhYjZkNjkwNA==","size":3429,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/6ec48e5c7ebfbcf743ccc701c63473adab6d6904","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLmJvb2tpZTsKCmltcG9ydCBq\nYXZhLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwoKaW1w\nb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jb25mLlNlcnZlckNvbmZpZ3Vy\nYXRpb247CgppbXBvcnQgb3JnLmp1bml0LlRlc3Q7CmltcG9ydCBvcmcuanVu\naXQuQWZ0ZXI7CmltcG9ydCBvcmcuanVuaXQuQmVmb3JlOwppbXBvcnQganVu\naXQuZnJhbWV3b3JrLkFzc2VydDsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7\nCmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKCnB1YmxpYyBjbGFz\ncyBDcmVhdGVOZXdMb2dUZXN0IHsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFs\nIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5CiAgICAuZ2V0TG9nZ2VyKENy\nZWF0ZU5ld0xvZ1Rlc3QuY2xhc3MpOwogICAgICAgIAogICAgcHJpdmF0ZSBT\ndHJpbmdbXSBsZWRnZXJEaXJzOyAKICAgIHByaXZhdGUgaW50IG51bURpcnMg\nPSAxMDA7CiAgICAKICAgIEBCZWZvcmUKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgdGhyb3dzIEV4Y2VwdGlvbnsKICAgICAgICBsZWRnZXJEaXJzID0gbmV3\nIFN0cmluZ1tudW1EaXJzXTsKICAgICAgICBmb3IoaW50IGkgPSAwOyBpIDwg\nbnVtRGlyczsgaSsrKXsKICAgICAgICAgICAgRmlsZSB0ZW1wID0gRmlsZS5j\ncmVhdGVUZW1wRmlsZSgiYm9va2llIiwgInRlc3QiKTsKICAgICAgICAgICAg\ndGVtcC5kZWxldGUoKTsKICAgICAgICAgICAgdGVtcC5ta2RpcigpOwogICAg\nICAgICAgICBGaWxlIGN1cnJlbnRUZW1wID0gbmV3IEZpbGUodGVtcC5nZXRB\nYnNvbHV0ZUZpbGUoKSArICIvY3VycmVudCIpOwogICAgICAgICAgICBjdXJy\nZW50VGVtcC5ta2RpcigpOwogICAgICAgICAgICBsZWRnZXJEaXJzW2ldID0g\ndGVtcC5nZXRQYXRoKCk7CiAgICAgICAgfSAgICAgICAgCiAgICB9CiAgICAK\nICAgIEBBZnRlcgogICAgcHVibGljIHZvaWQgdGVhckRvd24oKSB0aHJvd3Mg\nRXhjZXB0aW9uewogICAgICAgIGZvcihpbnQgaSA9IDA7IGkgPCBudW1EaXJz\nOyBpKyspewogICAgICAgICAgICBGaWxlIGYgPSBuZXcgRmlsZShsZWRnZXJE\naXJzW2ldKTsKICAgICAgICAgICAgZGVsZXRlUmVjdXJzaXZlKGYpOwogICAg\nICAgIH0KICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIGRlbGV0ZVJlY3Vy\nc2l2ZShGaWxlIGYpIHsKICAgICAgICBpZiAoZi5pc0RpcmVjdG9yeSgpKXsK\nICAgICAgICAgICAgZm9yIChGaWxlIGMgOiBmLmxpc3RGaWxlcygpKXsKICAg\nICAgICAgICAgICAgIGRlbGV0ZVJlY3Vyc2l2ZShjKTsKICAgICAgICAgICAg\nfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmLmRlbGV0ZSgpOwogICAg\nfQogICAgCiAgICAvKioKICAgICAqIENoZWNrcyBpZiBuZXcgbG9nIGZpbGUg\naWQgaXMgdmVyaWZpZWQgYWdhaW5zdCBhbGwgZGlyZWN0b3JpZXMuCiAgICAg\nKiAKICAgICAqIHtAbGluayBodHRwczovL2lzc3Vlcy5hcGFjaGUub3JnL2pp\ncmEvYnJvd3NlL0JPT0tLRUVQRVItNDY1fQogICAgICogCiAgICAgKiBAdGhy\nb3dzIEV4Y2VwdGlvbgogICAgICovCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAw\nKQogICAgcHVibGljIHZvaWQgdGVzdENyZWF0ZU5ld0xvZygpIHRocm93cyBF\neGNlcHRpb24gewogICAgICAgIFNlcnZlckNvbmZpZ3VyYXRpb24gY29uZiA9\nIG5ldyBTZXJ2ZXJDb25maWd1cmF0aW9uKCk7CiAgICAgICAgICAgICAgICAg\nICAgIAogICAgICAgIC8vIENyZWF0aW5nIGEgbmV3IGNvbmZpZ3VyYXRpb24g\nd2l0aCBhIG51bWJlciBvZiAKICAgICAgICAvLyBsZWRnZXIgZGlyZWN0b3Jp\nZXMuCiAgICAgICAgY29uZi5zZXRMZWRnZXJEaXJOYW1lcyhsZWRnZXJEaXJz\nKTsKICAgICAgICBMZWRnZXJEaXJzTWFuYWdlciBsZWRnZXJEaXJzTWFuYWdl\nciA9IG5ldyBMZWRnZXJEaXJzTWFuYWdlcihjb25mKTsKICAgICAgICBFbnRy\neUxvZ2dlciBlbCA9IG5ldyBFbnRyeUxvZ2dlcihjb25mLCBsZWRnZXJEaXJz\nTWFuYWdlcik7CiAgICAgICAgCiAgICAgICAgLy8gRXh0cmFjdGVkIGZyb20g\nY3JlYXRlTmV3TG9nKCkKICAgICAgICBTdHJpbmcgbG9nRmlsZU5hbWUgPSBM\nb25nLnRvSGV4U3RyaW5nKDEpICsgIi5sb2ciOwogICAgICAgIEZpbGUgZGly\nID0gbGVkZ2VyRGlyc01hbmFnZXIucGlja1JhbmRvbVdyaXRhYmxlRGlyKCk7\nCiAgICAgICAgTE9HLmluZm8oIlBpY2tlZCB0aGlzIGRpcmVjdG9yeTogIiAr\nIGRpcik7CiAgICAgICAgRmlsZSBuZXdMb2dGaWxlID0gbmV3IEZpbGUoZGly\nLCBsb2dGaWxlTmFtZSk7CiAgICAgICAgbmV3TG9nRmlsZS5jcmVhdGVOZXdG\naWxlKCk7CiAgICAgICAgCiAgICAgICAgLy8gQ2FsbHMgY3JlYXRlTmV3TG9n\nLCBhbmQgd2l0aCB0aGUgbnVtYmVyIG9mIGRpcmVjdG9yaWVzIHdlCiAgICAg\nICAgLy8gYXJlIHVzaW5nLCBpZiBpdCBwaWNrcyBvbmUgYXQgcmFuZG9tIGl0\nIHdpbGwgZmFpbC4KICAgICAgICBlbC5jcmVhdGVOZXdMb2coKTsKICAgICAg\nICBMT0cuaW5mbygiVGhpcyBpcyB0aGUgY3VycmVudCBsb2cgaWQ6ICIgKyBl\nbC5nZXRDdXJyZW50TG9nSWQoKSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydFRy\ndWUoIldyb25nIGxvZyBpZCIsIGVsLmdldEN1cnJlbnRMb2dJZCgpID4gMSk7\nCiAgICB9Cgp9\n","encoding":"base64"}

