{"sha":"5d9eeb55b7999eb2031e7d17bbcb388095d7575d","node_id":"MDQ6QmxvYjE1NzU5NTY6NWQ5ZWViNTViNzk5OWViMjAzMWU3ZDE3YmJjYjM4ODA5NWQ3NTc1ZA==","size":8747,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/5d9eeb55b7999eb2031e7d17bbcb388095d7575d","content":"LyoqCiAqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRv\nciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAq\nIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRo\nZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5z\nZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21w\nbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh\nIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJl\ncXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0\naW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5z\nZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRI\nT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwg\nZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNz\naW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAq\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5ib29raWU7Cgpp\nbXBvcnQgamF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5GaWxlTm90Rm91\nbmRFeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwppbXBv\ncnQgamF2YS5pby5SYW5kb21BY2Nlc3NGaWxlOwppbXBvcnQgamF2YS5uaW8u\nQnl0ZUJ1ZmZlcjsKCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7\nCgppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmJvb2tpZS5HYXJiYWdl\nQ29sbGVjdG9yVGhyZWFkLkVudHJ5TG9nTWV0YWRhdGE7CmltcG9ydCBvcmcu\nYXBhY2hlLmJvb2trZWVwZXIuYm9va2llLkdhcmJhZ2VDb2xsZWN0b3JUaHJl\nYWQuRXh0cmFjdGlvblNjYW5uZXI7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2tr\nZWVwZXIuY29uZi5TZXJ2ZXJDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmp1\nbml0LkFmdGVyOwppbXBvcnQgb3JnLmp1bml0LkFzc2VydDsKaW1wb3J0IG9y\nZy5qdW5pdC5CZWZvcmU7CmltcG9ydCBvcmcuanVuaXQuVGVzdDsKCmltcG9y\ndCBvcmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZh\nY3Rvcnk7CgpwdWJsaWMgY2xhc3MgRW50cnlMb2dUZXN0IGV4dGVuZHMgVGVz\ndENhc2UgewogICAgc3RhdGljIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5\nLmdldExvZ2dlcihFbnRyeUxvZ1Rlc3QuY2xhc3MpOwoKICAgIEBCZWZvcmUK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAg\nICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lk\nIHRlc3RDb3JydXB0RW50cnlMb2coKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBGaWxlIHRtcERpciA9IEZpbGUuY3JlYXRlVGVtcEZpbGUoImJrVGVz\ndCIsICIuZGlyIik7CiAgICAgICAgdG1wRGlyLmRlbGV0ZSgpOwogICAgICAg\nIHRtcERpci5ta2RpcigpOwogICAgICAgIEZpbGUgY3VyRGlyID0gQm9va2ll\nLmdldEN1cnJlbnREaXJlY3RvcnkodG1wRGlyKTsKICAgICAgICBCb29raWUu\nY2hlY2tEaXJlY3RvcnlTdHJ1Y3R1cmUoY3VyRGlyKTsKCiAgICAgICAgaW50\nIGdjV2FpdFRpbWUgPSAxMDAwOwogICAgICAgIFNlcnZlckNvbmZpZ3VyYXRp\nb24gY29uZiA9IG5ldyBTZXJ2ZXJDb25maWd1cmF0aW9uKCk7CiAgICAgICAg\nY29uZi5zZXRHY1dhaXRUaW1lKGdjV2FpdFRpbWUpOwogICAgICAgIGNvbmYu\nc2V0TGVkZ2VyRGlyTmFtZXMobmV3IFN0cmluZ1tdIHt0bXBEaXIudG9TdHJp\nbmcoKX0pOwogICAgICAgIEJvb2tpZSBib29raWUgPSBuZXcgQm9va2llKGNv\nbmYpOwogICAgICAgIC8vIGNyZWF0ZSBzb21lIGVudHJpZXMKICAgICAgICBF\nbnRyeUxvZ2dlciBsb2dnZXIgPSAoKEludGVybGVhdmVkTGVkZ2VyU3RvcmFn\nZSlib29raWUubGVkZ2VyU3RvcmFnZSkuZW50cnlMb2dnZXI7CiAgICAgICAg\nbG9nZ2VyLmFkZEVudHJ5KDEsIGdlbmVyYXRlRW50cnkoMSwgMSkpOwogICAg\nICAgIGxvZ2dlci5hZGRFbnRyeSgzLCBnZW5lcmF0ZUVudHJ5KDMsIDEpKTsK\nICAgICAgICBsb2dnZXIuYWRkRW50cnkoMiwgZ2VuZXJhdGVFbnRyeSgyLCAx\nKSk7CiAgICAgICAgbG9nZ2VyLmZsdXNoKCk7CiAgICAgICAgLy8gbm93IGxl\ndHMgdHJ1bmNhdGUgdGhlIGZpbGUgdG8gY29ycnVwdCB0aGUgbGFzdCBlbnRy\neSwgd2hpY2ggc2ltdWxhdGVzIGEgcGFydGlhbCB3cml0ZQogICAgICAgIEZp\nbGUgZiA9IG5ldyBGaWxlKGN1ckRpciwgIjAubG9nIik7CiAgICAgICAgUmFu\nZG9tQWNjZXNzRmlsZSByYWYgPSBuZXcgUmFuZG9tQWNjZXNzRmlsZShmLCAi\ncnciKTsKICAgICAgICByYWYuc2V0TGVuZ3RoKHJhZi5sZW5ndGgoKS0xMCk7\nCiAgICAgICAgcmFmLmNsb3NlKCk7CiAgICAgICAgLy8gbm93IHNlZSB3aGlj\naCBsZWRnZXJzIGFyZSBpbiB0aGUgbG9nCiAgICAgICAgbG9nZ2VyID0gbmV3\nIEVudHJ5TG9nZ2VyKGNvbmYsIGJvb2tpZS5nZXRMZWRnZXJEaXJzTWFuYWdl\ncigpKTsKCiAgICAgICAgRW50cnlMb2dNZXRhZGF0YSBtZXRhID0gbmV3IEVu\ndHJ5TG9nTWV0YWRhdGEoMEwpOwogICAgICAgIEV4dHJhY3Rpb25TY2FubmVy\nIHNjYW5uZXIgPSBuZXcgRXh0cmFjdGlvblNjYW5uZXIobWV0YSk7CgogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIGxvZ2dlci5zY2FuRW50cnlMb2coMEws\nIHNjYW5uZXIpOwogICAgICAgICAgICBmYWlsKCJTaG91bGQgbm90IHJlYWNo\nIGhlcmUhIik7CiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gaWUpIHsK\nICAgICAgICB9CgogICAgICAgIExPRy5pbmZvKCJFeHRyYWN0ZWQgTWV0YSBG\ncm9tIEVudHJ5IExvZyB7fSIsIG1ldGEpOwogICAgICAgIGFzc2VydE5vdE51\nbGwobWV0YS5sZWRnZXJzTWFwLmdldCgxTCkpOwogICAgICAgIGFzc2VydE51\nbGwobWV0YS5sZWRnZXJzTWFwLmdldCgyTCkpOwogICAgICAgIGFzc2VydE5v\ndE51bGwobWV0YS5sZWRnZXJzTWFwLmdldCgzTCkpOwogICAgfQoKICAgIHBy\naXZhdGUgQnl0ZUJ1ZmZlciBnZW5lcmF0ZUVudHJ5KGxvbmcgbGVkZ2VyLCBs\nb25nIGVudHJ5KSB7CiAgICAgICAgYnl0ZVtdIGRhdGEgPSAoImxlZGdlci0i\nICsgbGVkZ2VyICsgIi0iICsgZW50cnkpLmdldEJ5dGVzKCk7CiAgICAgICAg\nQnl0ZUJ1ZmZlciBiYiA9IEJ5dGVCdWZmZXIud3JhcChuZXcgYnl0ZVs4ICsg\nOCArIGRhdGEubGVuZ3RoXSk7CiAgICAgICAgYmIucHV0TG9uZyhsZWRnZXIp\nOwogICAgICAgIGJiLnB1dExvbmcoZW50cnkpOwogICAgICAgIGJiLnB1dChk\nYXRhKTsKICAgICAgICBiYi5mbGlwKCk7CiAgICAgICAgcmV0dXJuIGJiOwog\nICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0TWlzc2luZ0xvZ0lkKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgRmlsZSB0bXBEaXIgPSBGaWxlLmNyZWF0ZVRlbXBGaWxlKCJlbnRyeUxv\nZ1Rlc3QiLCAiLmRpciIpOwogICAgICAgIHRtcERpci5kZWxldGUoKTsKICAg\nICAgICB0bXBEaXIubWtkaXIoKTsKICAgICAgICBGaWxlIGN1ckRpciA9IEJv\nb2tpZS5nZXRDdXJyZW50RGlyZWN0b3J5KHRtcERpcik7CiAgICAgICAgQm9v\na2llLmNoZWNrRGlyZWN0b3J5U3RydWN0dXJlKGN1ckRpcik7CgogICAgICAg\nIFNlcnZlckNvbmZpZ3VyYXRpb24gY29uZiA9IG5ldyBTZXJ2ZXJDb25maWd1\ncmF0aW9uKCk7CiAgICAgICAgY29uZi5zZXRMZWRnZXJEaXJOYW1lcyhuZXcg\nU3RyaW5nW10ge3RtcERpci50b1N0cmluZygpfSk7CiAgICAgICAgQm9va2ll\nIGJvb2tpZSA9IG5ldyBCb29raWUoY29uZik7CiAgICAgICAgLy8gY3JlYXRl\nIHNvbWUgZW50cmllcwogICAgICAgIGludCBudW1Mb2dzID0gMzsKICAgICAg\nICBpbnQgbnVtRW50cmllcyA9IDEwOwogICAgICAgIGxvbmdbXVtdIHBvc2l0\naW9ucyA9IG5ldyBsb25nWzIqbnVtTG9nc11bXTsKICAgICAgICBmb3IgKGlu\ndCBpPTA7IGk8bnVtTG9nczsgaSsrKSB7CiAgICAgICAgICAgIHBvc2l0aW9u\nc1tpXSA9IG5ldyBsb25nW251bUVudHJpZXNdOwoKICAgICAgICAgICAgRW50\ncnlMb2dnZXIgbG9nZ2VyID0gbmV3IEVudHJ5TG9nZ2VyKGNvbmYsCiAgICAg\nICAgICAgICAgICAgICAgYm9va2llLmdldExlZGdlckRpcnNNYW5hZ2VyKCkp\nOwogICAgICAgICAgICBmb3IgKGludCBqPTA7IGo8bnVtRW50cmllczsgaisr\nKSB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbnNbaV1bal0gPSBsb2dnZXIu\nYWRkRW50cnkoaSwgZ2VuZXJhdGVFbnRyeShpLCBqKSk7CiAgICAgICAgICAg\nIH0KICAgICAgICAgICAgbG9nZ2VyLmZsdXNoKCk7CiAgICAgICAgfQogICAg\nICAgIC8vIGRlbGV0ZSBsYXN0IGxvZyBpZAogICAgICAgIEZpbGUgbGFzdExv\nZ0lkID0gbmV3IEZpbGUoY3VyRGlyLCAibGFzdElkIik7CiAgICAgICAgbGFz\ndExvZ0lkLmRlbGV0ZSgpOwoKICAgICAgICAvLyB3cml0ZSBhbm90aGVyIGVu\ndHJpZXMKICAgICAgICBmb3IgKGludCBpPW51bUxvZ3M7IGk8MipudW1Mb2dz\nOyBpKyspIHsKICAgICAgICAgICAgcG9zaXRpb25zW2ldID0gbmV3IGxvbmdb\nbnVtRW50cmllc107CgogICAgICAgICAgICBFbnRyeUxvZ2dlciBsb2dnZXIg\nPSBuZXcgRW50cnlMb2dnZXIoY29uZiwKICAgICAgICAgICAgICAgICAgICBi\nb29raWUuZ2V0TGVkZ2VyRGlyc01hbmFnZXIoKSk7CiAgICAgICAgICAgIGZv\nciAoaW50IGo9MDsgajxudW1FbnRyaWVzOyBqKyspIHsKICAgICAgICAgICAg\nICAgIHBvc2l0aW9uc1tpXVtqXSA9IGxvZ2dlci5hZGRFbnRyeShpLCBnZW5l\ncmF0ZUVudHJ5KGksIGopKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBs\nb2dnZXIuZmx1c2goKTsKICAgICAgICB9CgogICAgICAgIEVudHJ5TG9nZ2Vy\nIG5ld0xvZ2dlciA9IG5ldyBFbnRyeUxvZ2dlcihjb25mLAogICAgICAgICAg\nICAgICAgYm9va2llLmdldExlZGdlckRpcnNNYW5hZ2VyKCkpOwogICAgICAg\nIGZvciAoaW50IGk9MDsgaTwoMipudW1Mb2dzKzEpOyBpKyspIHsKICAgICAg\nICAgICAgRmlsZSBsb2dGaWxlID0gbmV3IEZpbGUoY3VyRGlyLCBMb25nLnRv\nSGV4U3RyaW5nKGkpICsgIi5sb2ciKTsKICAgICAgICAgICAgYXNzZXJ0VHJ1\nZShsb2dGaWxlLmV4aXN0cygpKTsKICAgICAgICB9CiAgICAgICAgZm9yIChp\nbnQgaT0wOyBpPDIqbnVtTG9nczsgaSsrKSB7CiAgICAgICAgICAgIGZvciAo\naW50IGo9MDsgajxudW1FbnRyaWVzOyBqKyspIHsKICAgICAgICAgICAgICAg\nIFN0cmluZyBleHBlY3RlZFZhbHVlID0gImxlZGdlci0iICsgaSArICItIiAr\nIGo7CiAgICAgICAgICAgICAgICBieXRlW10gdmFsdWUgPSBuZXdMb2dnZXIu\ncmVhZEVudHJ5KGksIGosIHBvc2l0aW9uc1tpXVtqXSk7CiAgICAgICAgICAg\nICAgICBCeXRlQnVmZmVyIGJ1ZiA9IEJ5dGVCdWZmZXIud3JhcCh2YWx1ZSk7\nCiAgICAgICAgICAgICAgICBsb25nIGxlZGdlcklkID0gYnVmLmdldExvbmco\nKTsKICAgICAgICAgICAgICAgIGxvbmcgZW50cnlJZCA9IGJ1Zi5nZXRMb25n\nKCk7CiAgICAgICAgICAgICAgICBieXRlW10gZGF0YSA9IG5ldyBieXRlW2J1\nZi5yZW1haW5pbmcoKV07CiAgICAgICAgICAgICAgICBidWYuZ2V0KGRhdGEp\nOwogICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGksIGxlZGdlcklkKTsK\nICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscyhqLCBlbnRyeUlkKTsKICAg\nICAgICAgICAgICAgIGFzc2VydEVxdWFscyhleHBlY3RlZFZhbHVlLCBuZXcg\nU3RyaW5nKGRhdGEpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0K\nCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAwKQogICAgLyoqIFRlc3QgdGhhdCBF\nbnRyeUxvZ2dlciBTaG91bGQgZmFpbCB3aXRoIEZORkUsIGlmIGVudHJ5IGxv\nZ2dlciBkaXJlY3RvcmllcyBkb2VzIG5vdCBleGlzdCovCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0RW50cnlMb2dnZXJTaG91bGRUaHJvd0ZORkVJZkRpcmVjdG9y\naWVzRG9lc05vdEV4aXN0KCkKICAgICAgICAgICAgdGhyb3dzIEV4Y2VwdGlv\nbiB7CiAgICAgICAgRmlsZSB0bXBEaXIgPSBGaWxlLmNyZWF0ZVRlbXBGaWxl\nKCJia1Rlc3QiLCAiLmRpciIpOwogICAgICAgIHRtcERpci5kZWxldGUoKTsK\nICAgICAgICBTZXJ2ZXJDb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgU2VydmVy\nQ29uZmlndXJhdGlvbigpOwogICAgICAgIGNvbmYuc2V0TGVkZ2VyRGlyTmFt\nZXMobmV3IFN0cmluZ1tdIHsgdG1wRGlyLnRvU3RyaW5nKCkgfSk7CiAgICAg\nICAgRW50cnlMb2dnZXIgZW50cnlMb2dnZXIgPSBudWxsOwogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIGVudHJ5TG9nZ2VyID0gbmV3IEVudHJ5TG9nZ2Vy\nKGNvbmYsIG5ldyBMZWRnZXJEaXJzTWFuYWdlcihjb25mKSk7CiAgICAgICAg\nICAgIGZhaWwoIkV4cGVjdGluZyBGaWxlTm90Rm91bmRFeGNlcHRpb24iKTsK\nICAgICAgICB9IGNhdGNoIChGaWxlTm90Rm91bmRFeGNlcHRpb24gZSkgewog\nICAgICAgICAgICBhc3NlcnRFcXVhbHMoIkVudHJ5IGxvZyBkaXJlY3Rvcnkg\nZG9lcyBub3QgZXhpc3QiLCBlCiAgICAgICAgICAgICAgICAgICAgLmdldExv\nY2FsaXplZE1lc3NhZ2UoKSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAg\nICAgICAgaWYgKGVudHJ5TG9nZ2VyICE9IG51bGwpIHsKICAgICAgICAgICAg\nICAgIGVudHJ5TG9nZ2VyLnNodXRkb3duKCk7CiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0IHRvIHZlcmlmeSB0\naGUgRGlza0Z1bGwgZHVyaW5nIGFkZEVudHJ5CiAgICAgKi8KICAgIEBUZXN0\nKHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9pZCB0ZXN0QWRkRW50cnlG\nYWlsdXJlT25EaXNrRnVsbCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAg\nIEZpbGUgbGVkZ2VyRGlyMSA9IEZpbGUuY3JlYXRlVGVtcEZpbGUoImJrVGVz\ndCIsICIuZGlyIik7CiAgICAgICAgbGVkZ2VyRGlyMS5kZWxldGUoKTsKICAg\nICAgICBGaWxlIGxlZGdlckRpcjIgPSBGaWxlLmNyZWF0ZVRlbXBGaWxlKCJi\na1Rlc3QiLCAiLmRpciIpOwogICAgICAgIGxlZGdlckRpcjIuZGVsZXRlKCk7\nCiAgICAgICAgU2VydmVyQ29uZmlndXJhdGlvbiBjb25mID0gbmV3IFNlcnZl\nckNvbmZpZ3VyYXRpb24oKTsKICAgICAgICBjb25mLnNldExlZGdlckRpck5h\nbWVzKG5ldyBTdHJpbmdbXSB7IGxlZGdlckRpcjEuZ2V0QWJzb2x1dGVQYXRo\nKCksCiAgICAgICAgICAgICAgICBsZWRnZXJEaXIyLmdldEFic29sdXRlUGF0\naCgpIH0pOwogICAgICAgIEJvb2tpZSBib29raWUgPSBuZXcgQm9va2llKGNv\nbmYpOwogICAgICAgIEVudHJ5TG9nZ2VyIGVudHJ5TG9nZ2VyID0gbmV3IEVu\ndHJ5TG9nZ2VyKGNvbmYsCiAgICAgICAgICAgICAgICBib29raWUuZ2V0TGVk\nZ2VyRGlyc01hbmFnZXIoKSk7CiAgICAgICAgSW50ZXJsZWF2ZWRMZWRnZXJT\ndG9yYWdlIGxlZGdlclN0b3JhZ2UgPSAoKEludGVybGVhdmVkTGVkZ2VyU3Rv\ncmFnZSkgYm9va2llLmxlZGdlclN0b3JhZ2UpOwogICAgICAgIGxlZGdlclN0\nb3JhZ2UuZW50cnlMb2dnZXIgPSBlbnRyeUxvZ2dlcjsKICAgICAgICAvLyBD\ncmVhdGUgbGVkZ2VycwogICAgICAgIGxlZGdlclN0b3JhZ2Uuc2V0TWFzdGVy\nS2V5KDEsICJrZXkiLmdldEJ5dGVzKCkpOwogICAgICAgIGxlZGdlclN0b3Jh\nZ2Uuc2V0TWFzdGVyS2V5KDIsICJrZXkiLmdldEJ5dGVzKCkpOwogICAgICAg\nIGxlZGdlclN0b3JhZ2Uuc2V0TWFzdGVyS2V5KDMsICJrZXkiLmdldEJ5dGVz\nKCkpOwogICAgICAgIC8vIEFkZCBlbnRyaWVzCiAgICAgICAgbGVkZ2VyU3Rv\ncmFnZS5hZGRFbnRyeShnZW5lcmF0ZUVudHJ5KDEsIDEpKTsKICAgICAgICBs\nZWRnZXJTdG9yYWdlLmFkZEVudHJ5KGdlbmVyYXRlRW50cnkoMiwgMSkpOwog\nICAgICAgIC8vIEFkZCBlbnRyeSB3aXRoIGRpc2sgZnVsbCBmYWlsdXJlIHNp\nbXVsYXRpb24KICAgICAgICBib29raWUuZ2V0TGVkZ2VyRGlyc01hbmFnZXIo\nKS5hZGRUb0ZpbGxlZERpcnMoZW50cnlMb2dnZXIuY3VycmVudERpcik7CiAg\nICAgICAgbGVkZ2VyU3RvcmFnZS5hZGRFbnRyeShnZW5lcmF0ZUVudHJ5KDMs\nIDEpKTsKICAgICAgICAvLyBWZXJpZnkgd3JpdHRlbiBlbnRyaWVzCiAgICAg\nICAgQXNzZXJ0LmFzc2VydEFycmF5RXF1YWxzKGdlbmVyYXRlRW50cnkoMSwg\nMSkuYXJyYXkoKSwgbGVkZ2VyU3RvcmFnZQogICAgICAgICAgICAgICAgLmdl\ndEVudHJ5KDEsIDEpLmFycmF5KCkpOwogICAgICAgIEFzc2VydC5hc3NlcnRB\ncnJheUVxdWFscyhnZW5lcmF0ZUVudHJ5KDIsIDEpLmFycmF5KCksIGxlZGdl\nclN0b3JhZ2UKICAgICAgICAgICAgICAgIC5nZXRFbnRyeSgyLCAxKS5hcnJh\neSgpKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0QXJyYXlFcXVhbHMoZ2VuZXJh\ndGVFbnRyeSgzLCAxKS5hcnJheSgpLCBsZWRnZXJTdG9yYWdlCiAgICAgICAg\nICAgICAgICAuZ2V0RW50cnkoMywgMSkuYXJyYXkoKSk7CiAgICB9CgogICAg\nQEFmdGVyCiAgICBwdWJsaWMgdm9pZCB0ZWFyRG93bigpIHRocm93cyBFeGNl\ncHRpb24gewogICAgfQoKfQo=\n","encoding":"base64"}

