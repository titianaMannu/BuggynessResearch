{"sha":"9b48aa1038d084802133c93cb764263abd23568a","node_id":"MDQ6QmxvYjE1NzU5NTY6OWI0OGFhMTAzOGQwODQ4MDIxMzNjOTNjYjc2NDI2M2FiZDIzNTY4YQ==","size":3699,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/9b48aa1038d084802133c93cb764263abd23568a","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50OwoKLyoKICoK\nICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u\nIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vu\nc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRp\nb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNG\nIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UK\nICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAq\nIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUK\nICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFu\nZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgpp\nbXBvcnQgb3JnLmp1bml0Lio7CmltcG9ydCBqYXZhLm5ldC5JbmV0U29ja2V0\nQWRkcmVzczsKaW1wb3J0IGphdmEudXRpbC5FbnVtZXJhdGlvbjsKaW1wb3J0\nIGphdmEudXRpbC5jb25jdXJyZW50LkN5Y2xpY0JhcnJpZXI7CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5Db3VudERvd25MYXRjaDsKaW1wb3J0IGph\ndmEudXRpbC5jb25jdXJyZW50LmF0b21pYy5BdG9taWNCb29sZWFuOwppbXBv\ncnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNvbmYuQ2xpZW50Q29uZmlndXJh\ndGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuQXN5\nbmNDYWxsYmFjay5BZGRDYWxsYmFjazsKCmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIuY2xpZW50LkxlZGdlckhhbmRsZTsKaW1wb3J0IG9yZy5hcGFj\naGUuYm9va2tlZXBlci5jbGllbnQuTGVkZ2VyRW50cnk7CmltcG9ydCBvcmcu\nYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50LkJvb2tLZWVwZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50LkJvb2tLZWVwZXJBZG1pbjsK\naW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuQktFeGNlcHRp\nb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50LkJvb2tL\nZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBl\nci50ZXN0LkJvb2tLZWVwZXJDbHVzdGVyVGVzdENhc2U7CmltcG9ydCBqYXZh\nLnV0aWwuSGFzaFNldDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CgppbXBvcnQg\nb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0\nb3J5OwoKLyoqCiAqIFRoaXMgdW5pdCB0ZXN0IHRlc3RzIGxlZGdlciBmZW5j\naW5nOwogKgogKi8KcHVibGljIGNsYXNzIFRlc3RSZWFkVGltZW91dCBleHRl\nbmRzIEJvb2tLZWVwZXJDbHVzdGVyVGVzdENhc2UgewogICAgc3RhdGljIExv\nZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5LmdldExvZ2dlcihUZXN0UmVhZFRp\nbWVvdXQuY2xhc3MpOwoKICAgIERpZ2VzdFR5cGUgZGlnZXN0VHlwZTsKCiAg\nICBwdWJsaWMgVGVzdFJlYWRUaW1lb3V0KCkgewogICAgICAgIHN1cGVyKDEw\nKTsKICAgICAgICB0aGlzLmRpZ2VzdFR5cGUgPSBEaWdlc3RUeXBlLkNSQzMy\nOwogICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0UmVhZFRpbWVvdXQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBmaW5hbCBBdG9taWNCb29sZWFuIGNvbXBsZXRlZCA9IG5ldyBBdG9t\naWNCb29sZWFuKGZhbHNlKTsKCiAgICAgICAgTGVkZ2VySGFuZGxlIHdyaXRl\nbGggPSBia2MuY3JlYXRlTGVkZ2VyKDMsMyxkaWdlc3RUeXBlLCAidGVzdFBh\nc3N3ZCIuZ2V0Qnl0ZXMoKSk7CiAgICAgICAgU3RyaW5nIHRtcCA9ICJGb29i\nYXIiOwogICAgICAgIAogICAgICAgIGZpbmFsIGludCBudW1FbnRyaWVzID0g\nMTA7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBudW1FbnRyaWVzOyBp\nKyspIHsKICAgICAgICAgICAgd3JpdGVsaC5hZGRFbnRyeSh0bXAuZ2V0Qnl0\nZXMoKSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIFNldDxJbmV0U29j\na2V0QWRkcmVzcz4gYmVmb3JlU2V0ID0gbmV3IEhhc2hTZXQ8SW5ldFNvY2tl\ndEFkZHJlc3M+KCk7CiAgICAgICAgZm9yIChJbmV0U29ja2V0QWRkcmVzcyBh\nZGRyIDogd3JpdGVsaC5nZXRMZWRnZXJNZXRhZGF0YSgpLmdldEVuc2VtYmxl\nKG51bUVudHJpZXMpKSB7CiAgICAgICAgICAgIGJlZm9yZVNldC5hZGQoYWRk\ncik7CiAgICAgICAgfQoKICAgICAgICBmaW5hbCBJbmV0U29ja2V0QWRkcmVz\ncyBib29raWVUb1NsZWVwIAogICAgICAgICAgICA9IHdyaXRlbGguZ2V0TGVk\nZ2VyTWV0YWRhdGEoKS5nZXRFbnNlbWJsZShudW1FbnRyaWVzKS5nZXQoMCk7\nCiAgICAgICAgaW50IHNsZWVwdGltZSA9IGJhc2VDbGllbnRDb25mLmdldFJl\nYWRUaW1lb3V0KCkqMzsKICAgICAgICBDb3VudERvd25MYXRjaCBsYXRjaCA9\nIHNsZWVwQm9va2llKGJvb2tpZVRvU2xlZXAsIHNsZWVwdGltZSk7CiAgICAg\nICAgbGF0Y2guYXdhaXQoKTsKCiAgICAgICAgd3JpdGVsaC5hc3luY0FkZEVu\ndHJ5KHRtcC5nZXRCeXRlcygpLCAKICAgICAgICAgICAgICAgIG5ldyBBZGRD\nYWxsYmFjaygpIHsKICAgICAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBh\nZGRDb21wbGV0ZShpbnQgcmMsIExlZGdlckhhbmRsZSBsaCwgCiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZyBlbnRy\neUlkLCBPYmplY3QgY3R4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNv\nbXBsZXRlZC5zZXQodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAg\nICAgICAgICAgICAgfSwgbnVsbCk7CiAgICAgICAgVGhyZWFkLnNsZWVwKChi\nYXNlQ2xpZW50Q29uZi5nZXRSZWFkVGltZW91dCgpKjMpKjEwMDApOwogICAg\nICAgIEFzc2VydC5hc3NlcnRUcnVlKCJXcml0ZSByZXF1ZXN0IGRpZCBub3Qg\nZmluaXNoIiwgY29tcGxldGVkLmdldCgpKTsKCiAgICAgICAgU2V0PEluZXRT\nb2NrZXRBZGRyZXNzPiBhZnRlclNldCA9IG5ldyBIYXNoU2V0PEluZXRTb2Nr\nZXRBZGRyZXNzPigpOwogICAgICAgIGZvciAoSW5ldFNvY2tldEFkZHJlc3Mg\nYWRkciA6IHdyaXRlbGguZ2V0TGVkZ2VyTWV0YWRhdGEoKS5nZXRFbnNlbWJs\nZShudW1FbnRyaWVzKzEpKSB7CiAgICAgICAgICAgIGFmdGVyU2V0LmFkZChh\nZGRyKTsKICAgICAgICB9CiAgICAgICAgYmVmb3JlU2V0LnJlbW92ZUFsbChh\nZnRlclNldCk7CiAgICAgICAgQXNzZXJ0LmFzc2VydFRydWUoIkJvb2tpZSBz\nZXQgc2hvdWxkIG5vdCBtYXRjaCIsIGJlZm9yZVNldC5zaXplKCkgIT0gMCk7\nCiAgICB9Cn0K\n","encoding":"base64"}

