{"sha":"e21dc7b10dd58e3d33fad2bff9e544f053f36e6a","node_id":"MDQ6QmxvYjE1NzU5NTY6ZTIxZGM3YjEwZGQ1OGUzZDMzZmFkMmJmZjllNTQ0ZjA1M2YzNmU2YQ==","size":2862,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/e21dc7b10dd58e3d33fad2bff9e544f053f36e6a","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIudGVzdDsKCi8qCiAqCiAq\nIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAo\nQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNl\nIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1\ndGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9u\nCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBs\naWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUg\nTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3Ug\nbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAq\nIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBz\nb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAq\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQg\nbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqCiAqLwoKaW1w\nb3J0IG9yZy5qdW5pdC4qOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLmNsaWVudC5MZWRnZXJIYW5kbGU7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2tr\nZWVwZXIuY2xpZW50LkJvb2tLZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0IG9y\nZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9y\neTsKCi8qKgogKiBUaGlzIHVuaXQgdGVzdCB0ZXN0cyBjbG9zaW5nIGxlZGdl\ncnMgc2VxdWVudGlhbGx5LiBJdCBjcmVhdGVzIDQgbGVkZ2VycywgdGhlbgog\nKiB3cml0ZSAxMDAwIGVudHJpZXMgdG8gZWFjaCBsZWRnZXIgYW5kIGNsb3Nl\nIGl0LgogKgogKi8KCnB1YmxpYyBjbGFzcyBDbG9zZVRlc3QgZXh0ZW5kcyBC\nYXNlVGVzdENhc2UgewogICAgc3RhdGljIExvZ2dlciBMT0cgPSBMb2dnZXJG\nYWN0b3J5LmdldExvZ2dlcihDbG9zZVRlc3QuY2xhc3MpOwogICAgRGlnZXN0\nVHlwZSBkaWdlc3RUeXBlOwoKICAgIHB1YmxpYyBDbG9zZVRlc3QoRGlnZXN0\nVHlwZSBkaWdlc3RUeXBlKSB7CiAgICAgICAgc3VwZXIoMyk7CiAgICAgICAg\ndGhpcy5kaWdlc3RUeXBlID0gZGlnZXN0VHlwZTsKICAgIH0KCiAgICBAVGVz\ndCh0aW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQgdGVzdENsb3NlKCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CgogICAgICAgIC8qCiAgICAgICAgICogQ3Jl\nYXRlIDQgbGVkZ2Vycy4KICAgICAgICAgKi8KICAgICAgICBpbnQgbnVtTGVk\nZ2VycyA9IDQ7CiAgICAgICAgaW50IG51bU1zZ3MgPSAxMDA7CgogICAgICAg\nIExlZGdlckhhbmRsZVtdIGxoID0gbmV3IExlZGdlckhhbmRsZVtudW1MZWRn\nZXJzXTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bUxlZGdlcnM7\nIGkrKykgewogICAgICAgICAgICBsaFtpXSA9IGJrYy5jcmVhdGVMZWRnZXIo\nZGlnZXN0VHlwZSwgIiIuZ2V0Qnl0ZXMoKSk7CiAgICAgICAgfQoKICAgICAg\nICBTdHJpbmcgdG1wID0gIkJvb2tLZWVwZXIgaXMgY29vbCEiOwoKICAgICAg\nICAvKgogICAgICAgICAqIFdyaXRlIDEwMDAgZW50cmllcyB0byBsaDEuCiAg\nICAgICAgICovCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBudW1Nc2dz\nOyBpKyspIHsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBudW1M\nZWRnZXJzOyBqKyspIHsKICAgICAgICAgICAgICAgIGxoW2pdLmFkZEVudHJ5\nKHRtcC5nZXRCeXRlcygpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBudW1MZWRnZXJzOyBpKyspIHsK\nCiAgICAgICAgICAgIGxoW2ldLmNsb3NlKCk7CiAgICAgICAgfQogICAgfQoK\nICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nQ2xvc2VCeU90aGVycygpIHRocm93cyBFeGNlcHRpb24gewoKICAgICAgICBp\nbnQgbnVtTGVkZ2VycyA9IDE7CiAgICAgICAgaW50IG51bU1zZ3MgPSAxMDsK\nCiAgICAgICAgTGVkZ2VySGFuZGxlIGxoID0gYmtjLmNyZWF0ZUxlZGdlcihk\naWdlc3RUeXBlLCAiIi5nZXRCeXRlcygpKTsKCiAgICAgICAgU3RyaW5nIHRt\ncCA9ICJCb29rS2VlcGVyIGlzIGNvb2whIjsKCiAgICAgICAgLyoKICAgICAg\nICAgKiBXcml0ZSAxMCBlbnRyaWVzIHRvIGxoLgogICAgICAgICAqLwogICAg\nICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbnVtTXNnczsgaSsrKSB7CiAgICAg\nICAgICAgIGxoLmFkZEVudHJ5KHRtcC5nZXRCeXRlcygpKTsKICAgICAgICB9\nCgogICAgICAgIC8vIG90aGVyIG9uZSBjbG9zZSB0aGUgZW50cmllcwogICAg\nICAgIExlZGdlckhhbmRsZSBsaDIgPSBia2Mub3BlbkxlZGdlcihsaC5nZXRJ\nZCgpLCBkaWdlc3RUeXBlLCAiIi5nZXRCeXRlcygpKTsKCiAgICAgICAgLy8g\nc28gdGhlIGxlZGdlciB3b3VsZCBiZSBjbG9zZWQsIHRoZSBtZXRhZGF0YSBp\ncyBjaGFuZ2VkCiAgICAgICAgLy8gdGhlIG9yaWdpbmFsIGxlZGdlciBoYW5k\nbGUgc2hvdWxkIGJlIGFibGUgdG8gY2xvc2UgaXQgc3VjY2Vzc2Z1bGx5CiAg\nICAgICAgbGgyLmNsb3NlKCk7CiAgICB9Cn0K\n","encoding":"base64"}

