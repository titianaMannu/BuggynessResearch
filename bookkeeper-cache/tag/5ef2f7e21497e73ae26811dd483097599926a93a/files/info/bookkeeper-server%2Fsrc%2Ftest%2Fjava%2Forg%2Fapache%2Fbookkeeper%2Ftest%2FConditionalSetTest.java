{"sha":"ac1b69b76cc87cc454d1f05c821e77d528e8e9f2","node_id":"MDQ6QmxvYjE1NzU5NTY6YWMxYjY5Yjc2Y2M4N2NjNDU0ZDFmMDVjODIxZTc3ZDUyOGU4ZTlmMg==","size":3946,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/ac1b69b76cc87cc454d1f05c821e77d528e8e9f2","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCgpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci50ZXN0OwoKaW1w\nb3J0IGphdmEuaW8uRmlsZTsKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247\nCmltcG9ydCBqYXZhLm5ldC5JbmV0U29ja2V0QWRkcmVzczsKaW1wb3J0IGph\ndmEubmlvLkJ5dGVCdWZmZXI7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0\nOwppbXBvcnQgamF2YS51dGlsLlJhbmRvbTsKaW1wb3J0IGphdmEudXRpbC5j\nb25jdXJyZW50LlNlbWFwaG9yZTsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJy\nZW50LmF0b21pYy5BdG9taWNJbnRlZ2VyOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nYm9va2tlZXBlci5jb25mLkNsaWVudENvbmZpZ3VyYXRpb247CmltcG9ydCBv\ncmcuYXBhY2hlLmJvb2trZWVwZXIuYm9va2llLkJvb2tpZTsKaW1wb3J0IG9y\nZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuQm9va0tlZXBlclRlc3RDbGll\nbnQ7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50LkJLRXhj\nZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVudC5C\nb29rS2VlcGVyOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVu\ndC5MZWRnZXJIYW5kbGU7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIu\nY2xpZW50LkJvb2tLZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0IG9yZy5hcGFj\naGUuYm9va2tlZXBlci5wcm90by5Cb29ra2VlcGVySW50ZXJuYWxDYWxsYmFj\na3MuV3JpdGVDYWxsYmFjazsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVy\nLktlZXBlckV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5qdW5pdC5BZnRlcjsKaW1w\nb3J0IG9yZy5qdW5pdC5CZWZvcmU7CmltcG9ydCBvcmcuanVuaXQuVGVzdDsK\nCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7CmltcG9ydCBvcmcu\nc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rvcnk7\nCgovKioKICogVGVzdHMgY29uZGl0aW9uYWwgc2V0IG9mIHRoZSBsZWRnZXIg\nbWV0YWRhdGEgem5vZGUuCiAqLwpwdWJsaWMgY2xhc3MgQ29uZGl0aW9uYWxT\nZXRUZXN0IGV4dGVuZHMgQmFzZVRlc3RDYXNlIHsKICAgIHN0YXRpYyBMb2dn\nZXIgTE9HID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoQ29uZGl0aW9uYWxT\nZXRUZXN0LmNsYXNzKTsKCiAgICBieXRlW10gZW50cnk7CiAgICBEaWdlc3RU\neXBlIGRpZ2VzdFR5cGU7CiAgICBCb29rS2VlcGVyIGJrY1JlYWRlcjsKCiAg\nICBwdWJsaWMgQ29uZGl0aW9uYWxTZXRUZXN0KERpZ2VzdFR5cGUgZGlnZXN0\nVHlwZSkgewogICAgICAgIHN1cGVyKDMpOwogICAgICAgIHRoaXMuZGlnZXN0\nVHlwZSA9IGRpZ2VzdFR5cGU7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBA\nQmVmb3JlCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBJT0V4Y2Vw\ndGlvbiwgRXhjZXB0aW9uIHsKICAgICAgICBzdXBlci5zZXRVcCgpOwogICAg\nICAgIGVudHJ5ID0gbmV3IGJ5dGVbMTBdOyAvLyBpbml0aWFsaXplIHRoZSBl\nbnRyaWVzIGxpc3QKICAgICAgICB0aGlzLmJrY1JlYWRlciA9IG5ldyBCb29r\nS2VlcGVyVGVzdENsaWVudChiYXNlQ2xpZW50Q29uZik7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBPcGVucyBhIGxlZGdlciBiZWZvcmUgdGhlIGxlZGdlciB3\ncml0ZXIsIHdoaWNoIHRyaWdnZXJzIGxlZGdlciByZWNvdmVyeS4KICAgICAq\nIFdoZW4gdGhlIGxlZGdlciB3cml0ZXIgdHJpZXMgdG8gY2xvc2UgdGhlIGxl\nZGdlciwgdGhlIGNsb3NlIG9wZXJhdGlvbgogICAgICogc2hvdWxkIGZhaWwu\nCiAgICAgKiAKICAgICAqIAogICAgICogQHRocm93cyBJT0V4Y2VwdGlvbgog\nICAgICogQHRocm93cyBJbnRlcnJ1cHRlZEV4Y2VwdGlvbgogICAgICogQHRo\ncm93cyBCS0V4Y2VwdGlvbgogICAgICogQHRocm93cyBLZWVwZXJFeGNlcHRp\nb24KICAgICAqLwoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJs\naWMgdm9pZCB0ZXN0Q29uZGl0aW9uYWxTZXQoKSB0aHJvd3MgSU9FeGNlcHRp\nb24sIEludGVycnVwdGVkRXhjZXB0aW9uLAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBCS0V4Y2VwdGlvbiwgS2VlcGVyRXhjZXB0aW9u\nIHsKICAgICAgICBMZWRnZXJIYW5kbGUgbGhXcml0ZSA9IGJrYy5jcmVhdGVM\nZWRnZXIoZGlnZXN0VHlwZSwgbmV3IGJ5dGVbXSB7ICdhJywKICAgICAgICAg\nICAgICAgICdiJyB9KTsKICAgICAgICBsb25nIGxlZGdlcklkID0gbGhXcml0\nZS5nZXRJZCgpOwogICAgICAgIExPRy5kZWJ1ZygiTGVkZ2VyIElEOiAiICsg\nbGhXcml0ZS5nZXRJZCgpKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIDEwOyBpKyspIHsKICAgICAgICAgICAgTE9HLmRlYnVnKCJBZGRpbmcgZW50\ncnk6ICIgKyBpKTsKICAgICAgICAgICAgbGhXcml0ZS5hZGRFbnRyeShlbnRy\neSk7CiAgICAgICAgfQoKICAgICAgICAvKgogICAgICAgICAqIE9wZW4gYSBs\nZWRnZXIgZm9yIHJlYWRpbmcsIHdoaWNoIHRyaWdnZXJzIHJlY292ZXJ5LCBz\naW5jZSB0aGUgbGVkZ2VyCiAgICAgICAgICogaXMgc3RpbGwgb3Blbi4KICAg\nICAgICAgKi8KICAgICAgICBMT0cuZGVidWcoIkluc3RhbnRpYXRpbmcgbmV3\nIGJvb2trZWVwZXIgY2xpZW50LiIpOwogICAgICAgIExlZGdlckhhbmRsZSBs\naFJlYWQgPSBia2NSZWFkZXIub3BlbkxlZGdlcihsaFdyaXRlLmdldElkKCks\nIGRpZ2VzdFR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICBuZXcgYnl0ZVtdIHsgJ2EnLCAnYicgfSk7CiAgICAgICAgTE9H\nLmRlYnVnKCJPcGVuZWQgdGhlIGxlZGdlciBhbHJlYWR5Iik7CgogICAgICAg\nIC8qCiAgICAgICAgICogV3JpdGVyIHRyaWVzIHRvIGNsb3NlIHRoZSBsZWRn\nZXIsIGFuZCBpZiBzaG91bGQgZmFpbC4KICAgICAgICAgKi8KICAgICAgICB0\ncnl7CiAgICAgICAgICAgIGxoV3JpdGUuY2xvc2UoKTsKICAgICAgICAgICAg\nZmFpbCgiU2hvdWxkIGhhdmUgcmVjZWl2ZWQgYW4gZXhjZXB0aW9uIHdoZW4g\ndHJ5aW5nIHRvIGNsb3NlIHRoZSBsZWRnZXIuIik7CiAgICAgICAgfSBjYXRj\naCAoQktFeGNlcHRpb24gZSkgewogICAgICAgICAgICAvKgogICAgICAgICAg\nICAgKiBDb3JyZWN0bHkgZmFpbGVkIHRvIGNsb3NlIHRoZSBsZWRnZXIKICAg\nICAgICAgICAgICovCiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

