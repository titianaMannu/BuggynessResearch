{"sha":"fe68e29ae582be31fcafbed92eec66a397a50e0e","node_id":"MDQ6QmxvYjE1NzU5NTY6ZmU2OGUyOWFlNTgyYmUzMWZjYWZiZWQ5MmVlYzY2YTM5N2E1MGUwZQ==","size":1868,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/fe68e29ae582be31fcafbed92eec66a397a50e0e","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLnRlc3Q7CgppbXBv\ncnQgamF2YS5uZXQuU2VydmVyU29ja2V0OwppbXBvcnQgamF2YS5pby5JT0V4\nY2VwdGlvbjsKLyoqCiAqIFBvcnQgbWFuYWdlciBhbGxvd3MgYSBiYXNlIHBv\ncnQgdG8gYmUgc3BlY2lmaWVkIG9uIHRoZSBjb21tYW5kbGluZS4KICogVGVz\ndHMgd2lsbCB0aGVuIHVzZSBwb3J0cywgY291bnRpbmcgdXAgZnJvbSB0aGlz\nIGJhc2UgcG9ydC4KICogVGhpcyBhbGxvd3MgbXVsdGlwbGUgaW5zdGFuY2Vz\nIG9mIHRoZSBib29ra2VlcGVyIHRlc3RzIHRvIHJ1biBhdCBvbmNlLgogKi8K\ncHVibGljIGNsYXNzIFBvcnRNYW5hZ2VyIHsKICAgIHByaXZhdGUgc3RhdGlj\nIGludCBuZXh0UG9ydCA9IGdldEJhc2VQb3J0KCk7CgogICAgcHVibGljIHN5\nbmNocm9uaXplZCBzdGF0aWMgaW50IG5leHRGcmVlUG9ydCgpIHsKICAgICAg\nICB3aGlsZSAodHJ1ZSkgewogICAgICAgICAgICBTZXJ2ZXJTb2NrZXQgc3Mg\nPSBudWxsOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaW50\nIHBvcnQgPSBuZXh0UG9ydCsrOwogICAgICAgICAgICAgICAgc3MgPSBuZXcg\nU2VydmVyU29ja2V0KHBvcnQpOwogICAgICAgICAgICAgICAgc3Muc2V0UmV1\nc2VBZGRyZXNzKHRydWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHBvcnQ7\nCiAgICAgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGlvZSkgewogICAg\nICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgaWYgKHNzICE9\nIG51bGwpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAg\nICAgICAgICAgICAgICBzcy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAg\nIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGlvZSkge30KICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRl\nIHN0YXRpYyBpbnQgZ2V0QmFzZVBvcnQoKSB7CiAgICAgICAgcmV0dXJuIElu\ndGVnZXIudmFsdWVPZihTeXN0ZW0uZ2V0UHJvcGVydHkoInRlc3QuYmFzZVBv\ncnQiLCAiMTUwMDAiKSk7CiAgICB9Cn0=\n","encoding":"base64"}

