{"sha":"7ab1b90dedf5f9d827e5824a8be20437d57428c9","node_id":"MDQ6QmxvYjE1NzU5NTY6N2FiMWI5MGRlZGY1ZjlkODI3ZTU4MjRhOGJlMjA0MzdkNTc0MjhjOQ==","size":3206,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/7ab1b90dedf5f9d827e5824a8be20437d57428c9","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbDsKCmltcG9ydCBzdGF0\naWMgb3JnLmp1bml0LkFzc2VydC5hc3NlcnRUcnVlOwoKaW1wb3J0IGphdmEu\naW8uRmlsZTsKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CgppbXBvcnQg\nb3JnLmFwYWNoZS5ib29ra2VlcGVyLnV0aWwuRGlza0NoZWNrZXIuRGlza0Vy\ncm9yRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnV0\naWwuRGlza0NoZWNrZXIuRGlza091dE9mU3BhY2VFeGNlcHRpb247CmltcG9y\ndCBvcmcuanVuaXQuQmVmb3JlOwppbXBvcnQgb3JnLmp1bml0LlRlc3Q7Cgov\nKioKICogVGVzdCB0byB2ZXJpZnkge0BsaW5rIERpc2tDaGVja2VyfQogKiAK\nICovCnB1YmxpYyBjbGFzcyBUZXN0RGlza0NoZWNrZXIgewoKICAgIERpc2tD\naGVja2VyIGRpc2tDaGVja2VyOwoKICAgIEBCZWZvcmUKICAgIHB1YmxpYyB2\nb2lkIHNldHVwKCkgewogICAgICAgIGRpc2tDaGVja2VyID0gbmV3IERpc2tD\naGVja2VyKDAuOTVmKTsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNrIHRo\nZSBkaXNrIGZ1bGwKICAgICAqLwogICAgQFRlc3QoZXhwZWN0ZWQgPSBEaXNr\nT3V0T2ZTcGFjZUV4Y2VwdGlvbi5jbGFzcykKICAgIHB1YmxpYyB2b2lkIHRl\nc3RDaGVja0Rpc2tGdWxsKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAg\nICBGaWxlIGZpbGUgPSBGaWxlLmNyZWF0ZVRlbXBGaWxlKCJEaXNrQ2hlY2si\nLCAidGVzdCIpOwogICAgICAgIGxvbmcgdXNhYmxlU3BhY2UgPSBmaWxlLmdl\ndFVzYWJsZVNwYWNlKCk7CiAgICAgICAgbG9uZyB0b3RhbFNwYWNlID0gZmls\nZS5nZXRUb3RhbFNwYWNlKCk7CiAgICAgICAgZGlza0NoZWNrZXIKICAgICAg\nICAgICAgICAgIC5zZXREaXNrU3BhY2VUaHJlc2hvbGQoKDFmIC0gKChmbG9h\ndCkgdXNhYmxlU3BhY2UgLyAoZmxvYXQpIHRvdGFsU3BhY2UpKSAtIDAuMDVm\nKTsKICAgICAgICBkaXNrQ2hlY2tlci5jaGVja0Rpc2tGdWxsKGZpbGUpOwog\nICAgfQoKICAgIC8qKgogICAgICogQ2hlY2sgZGlzayBmdWxsIG9uIG5vbiBl\neGlzdCBmaWxlLiBpbiB0aGlzIGNhc2UgaXQgc2hvdWxkIGNoZWNrIGZvcgog\nICAgICogcGFyZW50IGZpbGUKICAgICAqLwogICAgQFRlc3QoZXhwZWN0ZWQg\nPSBEaXNrT3V0T2ZTcGFjZUV4Y2VwdGlvbi5jbGFzcykKICAgIHB1YmxpYyB2\nb2lkIHRlc3RDaGVja0Rpc2tGdWxsT25Ob25FeGlzdEZpbGUoKSB0aHJvd3Mg\nSU9FeGNlcHRpb24gewogICAgICAgIEZpbGUgZmlsZSA9IEZpbGUuY3JlYXRl\nVGVtcEZpbGUoIkRpc2tDaGVjayIsICJ0ZXN0Iik7CiAgICAgICAgbG9uZyB1\nc2FibGVTcGFjZSA9IGZpbGUuZ2V0VXNhYmxlU3BhY2UoKTsKICAgICAgICBs\nb25nIHRvdGFsU3BhY2UgPSBmaWxlLmdldFRvdGFsU3BhY2UoKTsKICAgICAg\nICBkaXNrQ2hlY2tlcgogICAgICAgICAgICAgICAgLnNldERpc2tTcGFjZVRo\ncmVzaG9sZCgoMWYgLSAoKGZsb2F0KSB1c2FibGVTcGFjZSAvIChmbG9hdCkg\ndG90YWxTcGFjZSkpIC0gMC4wNWYpOwogICAgICAgIGFzc2VydFRydWUoZmls\nZS5kZWxldGUoKSk7CiAgICAgICAgZGlza0NoZWNrZXIuY2hlY2tEaXNrRnVs\nbChmaWxlKTsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNrIGRpc2sgZXJy\nb3IgZm9yIGZpbGUKICAgICAqLwogICAgQFRlc3QoZXhwZWN0ZWQgPSBEaXNr\nRXJyb3JFeGNlcHRpb24uY2xhc3MpCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q2hl\nY2tEaXNrRXJyb3JGb3JGaWxlKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgRmlsZSBwYXJlbnQgPSBGaWxlLmNyZWF0ZVRlbXBGaWxlKCJEaXNrQ2hl\nY2siLCAidGVzdCIpOwogICAgICAgIHBhcmVudC5kZWxldGUoKTsKICAgICAg\nICBwYXJlbnQubWtkaXIoKTsKICAgICAgICBGaWxlIGNoaWxkID0gRmlsZS5j\ncmVhdGVUZW1wRmlsZSgiRGlza0NoZWNrIiwgInRlc3QiLCBwYXJlbnQpOwog\nICAgICAgIGRpc2tDaGVja2VyLmNoZWNrRGlyKGNoaWxkKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIENoZWNrIGRpc2sgZXJyb3IgZm9yIHZhbGlkIGRpci4K\nICAgICAqLwogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2\nb2lkIHRlc3RDaGVja0Rpc2tFcnJvckZvckRpcigpIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIEZpbGUgcGFyZW50ID0gRmlsZS5jcmVhdGVUZW1wRmls\nZSgiRGlza0NoZWNrIiwgInRlc3QiKTsKICAgICAgICBwYXJlbnQuZGVsZXRl\nKCk7CiAgICAgICAgcGFyZW50Lm1rZGlyKCk7CiAgICAgICAgRmlsZSBjaGls\nZCA9IEZpbGUuY3JlYXRlVGVtcEZpbGUoIkRpc2tDaGVjayIsICJ0ZXN0Iiwg\ncGFyZW50KTsKICAgICAgICBjaGlsZC5kZWxldGUoKTsKICAgICAgICBjaGls\nZC5ta2RpcigpOwogICAgICAgIGRpc2tDaGVja2VyLmNoZWNrRGlyKGNoaWxk\nKTsKICAgIH0KfQo=\n","encoding":"base64"}

