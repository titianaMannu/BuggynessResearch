{"sha":"1c569d70c53b711b86f781800980b3d19014c2b9","node_id":"MDQ6QmxvYjE1NzU5NTY6MWM1NjlkNzBjNTNiNzExYjg2Zjc4MTgwMDk4MGIzZDE5MDE0YzJiOQ==","size":1800,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/1c569d70c53b711b86f781800980b3d19014c2b9","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCgpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci51dGlsOwoKaW1w\nb3J0IGphdmEuaW8uRmlsZTsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Owpp\nbXBvcnQgamF2YS51dGlsLlNldDsKCmltcG9ydCBvcmcuYXBhY2hlLmJvb2tr\nZWVwZXIuYm9va2llLkJvb2tpZTsKCnB1YmxpYyBjbGFzcyBUZXN0VXRpbHMg\newogICAgcHVibGljIHN0YXRpYyBib29sZWFuIGhhc0xvZ0ZpbGVzKEZpbGUg\nbGVkZ2VyRGlyZWN0b3J5LCBib29sZWFuIHBhcnRpYWwsIEludGVnZXIuLi4g\nbG9nc0lkKSB7CiAgICAgICAgYm9vbGVhbiByZXN1bHQgPSBwYXJ0aWFsID8g\nZmFsc2UgOiB0cnVlOwogICAgICAgIFNldDxJbnRlZ2VyPiBsb2dzID0gbmV3\nIEhhc2hTZXQ8SW50ZWdlcj4oKTsKICAgICAgICBmb3IgKEZpbGUgZmlsZSA6\nIEJvb2tpZS5nZXRDdXJyZW50RGlyZWN0b3J5KGxlZGdlckRpcmVjdG9yeSku\nbGlzdEZpbGVzKCkpIHsKICAgICAgICAgICAgaWYgKGZpbGUuaXNGaWxlKCkp\nIHsKICAgICAgICAgICAgICAgIFN0cmluZyBuYW1lID0gZmlsZS5nZXROYW1l\nKCk7CiAgICAgICAgICAgICAgICBpZiAoIW5hbWUuZW5kc1dpdGgoIi5sb2ci\nKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICAgICAgbG9ncy5hZGQoSW50ZWdlci5wYXJz\nZUludChuYW1lLnNwbGl0KCJcXC4iKVswXSwgMTYpKTsKICAgICAgICAgICAg\nfQogICAgICAgIH0KICAgICAgICBmb3IgKEludGVnZXIgbG9nSWQgOiBsb2dz\nSWQpIHsKICAgICAgICAgICAgYm9vbGVhbiBleGlzdCA9IGxvZ3MuY29udGFp\nbnMobG9nSWQpOwogICAgICAgICAgICBpZiAoKHBhcnRpYWwgJiYgZXhpc3Qp\nCiAgICAgICAgICAgICAgICAgICAgfHwgKCFwYXJ0aWFsICYmICFleGlzdCkp\nIHsKICAgICAgICAgICAgICAgIHJldHVybiAhcmVzdWx0OwogICAgICAgICAg\nICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9Cn0K\n","encoding":"base64"}

