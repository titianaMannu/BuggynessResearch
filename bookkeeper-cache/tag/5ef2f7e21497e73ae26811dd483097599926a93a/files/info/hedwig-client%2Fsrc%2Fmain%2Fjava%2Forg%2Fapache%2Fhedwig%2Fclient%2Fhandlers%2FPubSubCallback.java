{"sha":"dacaa7aa715e6099810d58d3831a2a9376d588b0","node_id":"MDQ6QmxvYjE1NzU5NTY6ZGFjYWE3YWE3MTVlNjA5OTgxMGQ1OGQzODMxYTJhOTM3NmQ1ODhiMA==","size":3511,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/dacaa7aa715e6099810d58d3831a2a9376d588b0","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuaGFuZGxlcnM7CgppbXBv\ncnQgb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2w7\nCmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxv\nZ2dlckZhY3Rvcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50\nLmRhdGEuUHViU3ViRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmV4\nY2VwdGlvbnMuUHViU3ViRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5o\nZWR3aWcudXRpbC5DYWxsYmFjazsKCi8qKgogKiBUaGlzIGNsYXNzIGlzIHVz\nZWQgd2hlbiB3ZSBhcmUgZG9pbmcgc3luY2hyb25vdXMgdHlwZSBvZiBvcGVy\nYXRpb25zLiBBbGwKICogdW5kZXJseWluZyBjbGllbnQgb3BzIGluIEhlZHdp\nZyBhcmUgYXN5bmMgc28gdGhpcyBpcyBqdXN0IGEgd2F5IHRvIG1ha2UgdGhl\nCiAqIGFzeW5jIGNhbGxzIHN5bmNocm9ub3VzLgogKgogKi8KcHVibGljIGNs\nYXNzIFB1YlN1YkNhbGxiYWNrIGltcGxlbWVudHMgQ2FsbGJhY2s8UHViU3Vi\nUHJvdG9jb2wuUmVzcG9uc2VCb2R5PiB7CgogICAgcHJpdmF0ZSBzdGF0aWMg\nTG9nZ2VyIGxvZ2dlciA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFB1YlN1\nYkNhbGxiYWNrLmNsYXNzKTsKCiAgICAvLyBQcml2YXRlIG1lbWJlciB2YXJp\nYWJsZXMKICAgIHByaXZhdGUgZmluYWwgUHViU3ViRGF0YSBwdWJTdWJEYXRh\nOwogICAgLy8gQm9vbGVhbiBpbmRpY2F0b3IgdG8gc2VlIGlmIHRoZSBzeW5j\nIFB1YlN1YiBjYWxsIHdhcyBzdWNjZXNzZnVsIG9yIG5vdC4KICAgIHByaXZh\ndGUgYm9vbGVhbiBpc0NhbGxTdWNjZXNzZnVsOwogICAgLy8gRm9yIHN5bmMg\nY2FsbGJhY2tzLCB3ZSdkIGxpa2UgdG8ga25vdyB3aGF0IHRoZSBQdWJTdWJF\neGNlcHRpb24gaXMgdGhyb3duCiAgICAvLyBvbiBmYWlsdXJlLiBUaGlzIGlz\nIHNvIHdlIGNhbiBoYXZlIGEgaGFuZGxlIHRvIHRoZSBleGNlcHRpb24gYW5k\nIHJldGhyb3cKICAgIC8vIGl0IGxhdGVyLgogICAgcHJpdmF0ZSBQdWJTdWJF\neGNlcHRpb24gZmFpbHVyZUV4Y2VwdGlvbjsKCiAgICBwcml2YXRlIFB1YlN1\nYlByb3RvY29sLlJlc3BvbnNlQm9keSByZXNwb25zZUJvZHk7CgogICAgLy8g\nQ29uc3RydWN0b3IKICAgIHB1YmxpYyBQdWJTdWJDYWxsYmFjayhQdWJTdWJE\nYXRhIHB1YlN1YkRhdGEpIHsKICAgICAgICB0aGlzLnB1YlN1YkRhdGEgPSBw\ndWJTdWJEYXRhOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIG9wZXJhdGlvbkZp\nbmlzaGVkKE9iamVjdCBjdHgsIFB1YlN1YlByb3RvY29sLlJlc3BvbnNlQm9k\neSByZXN1bHRPZk9wZXJhdGlvbikgewogICAgICAgIGxvZ2dlci5kZWJ1Zygi\nUHViU3ViIGNhbGwgc3VjY2VlZGVkIGZvciBwdWJTdWJEYXRhOiB7fSIsIHB1\nYlN1YkRhdGEpOwogICAgICAgIC8vIFdha2UgdXAgdGhlIG1haW4gc3luYyBQ\ndWJTdWIgdGhyZWFkIHRoYXQgaXMgd2FpdGluZyBmb3IgdXMgdG8KICAgICAg\nICAvLyBjb21wbGV0ZS4KICAgICAgICBzeW5jaHJvbml6ZWQgKHB1YlN1YkRh\ndGEpIHsKICAgICAgICAgICAgdGhpcy5yZXNwb25zZUJvZHkgPSByZXN1bHRP\nZk9wZXJhdGlvbjsKICAgICAgICAgICAgaXNDYWxsU3VjY2Vzc2Z1bCA9IHRy\ndWU7CiAgICAgICAgICAgIHB1YlN1YkRhdGEuaXNEb25lID0gdHJ1ZTsKICAg\nICAgICAgICAgcHViU3ViRGF0YS5ub3RpZnkoKTsKICAgICAgICB9CiAgICB9\nCgogICAgcHVibGljIHZvaWQgb3BlcmF0aW9uRmFpbGVkKE9iamVjdCBjdHgs\nIFB1YlN1YkV4Y2VwdGlvbiBleGNlcHRpb24pIHsKICAgICAgICBsb2dnZXIu\nZGVidWcoIlB1YlN1YiBjYWxsIGZhaWxlZCB3aXRoIGV4Y2VwdGlvbjoge30s\nIHB1YlN1YkRhdGE6IHt9IiwgZXhjZXB0aW9uLCBwdWJTdWJEYXRhKTsKICAg\nICAgICAvLyBXYWtlIHVwIHRoZSBtYWluIHN5bmMgUHViU3ViIHRocmVhZCB0\naGF0IGlzIHdhaXRpbmcgZm9yIHVzIHRvCiAgICAgICAgLy8gY29tcGxldGUu\nCiAgICAgICAgc3luY2hyb25pemVkIChwdWJTdWJEYXRhKSB7CiAgICAgICAg\nICAgIGlzQ2FsbFN1Y2Nlc3NmdWwgPSBmYWxzZTsKICAgICAgICAgICAgZmFp\nbHVyZUV4Y2VwdGlvbiA9IGV4Y2VwdGlvbjsKICAgICAgICAgICAgcHViU3Vi\nRGF0YS5pc0RvbmUgPSB0cnVlOwogICAgICAgICAgICBwdWJTdWJEYXRhLm5v\ndGlmeSgpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBQdWJsaWMgZ2V0dGVy\nIHRvIGRldGVybWluZSBpZiB0aGUgUHViU3ViIGNhbGxiYWNrIGlzIHN1Y2Nl\nc3NmdWwgb3Igbm90CiAgICAvLyBiYXNlZCBvbiB0aGUgUHViU3ViIGFjayBy\nZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuCiAgICBwdWJsaWMgYm9vbGVhbiBn\nZXRJc0NhbGxTdWNjZXNzZnVsKCkgewogICAgICAgIHJldHVybiBpc0NhbGxT\ndWNjZXNzZnVsOwogICAgfQoKICAgIC8vIFB1YmxpYyBnZXR0ZXIgdG8gcmV0\ncmlldmUgd2hhdCB0aGUgUHViU3ViRXhjZXB0aW9uIHdhcyB0aGF0IG9jY3Vy\ncmVkIHdoZW4KICAgIC8vIHRoZSBvcGVyYXRpb24gZmFpbGVkLgogICAgcHVi\nbGljIFB1YlN1YkV4Y2VwdGlvbiBnZXRGYWlsdXJlRXhjZXB0aW9uKCkgewog\nICAgICAgIHJldHVybiBmYWlsdXJlRXhjZXB0aW9uOwogICAgfQoKCiAgICBw\ndWJsaWMgUHViU3ViUHJvdG9jb2wuUmVzcG9uc2VCb2R5IGdldFJlc3BvbnNl\nQm9keSgpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2VCb2R5OwogICAgfQp9\nCg==\n","encoding":"base64"}

