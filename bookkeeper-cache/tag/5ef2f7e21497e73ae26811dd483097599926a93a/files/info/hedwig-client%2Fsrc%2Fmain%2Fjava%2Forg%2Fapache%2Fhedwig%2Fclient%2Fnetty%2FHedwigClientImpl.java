{"sha":"e4e3912fb3e4e0b12262ed7cb8e04098fdcd198b","node_id":"MDQ6QmxvYjE1NzU5NTY6ZTRlMzkxMmZiM2U0ZTBiMTIyNjJlZDdjYjhlMDQwOThmZGNkMTk4Yg==","size":4559,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/e4e3912fb3e4e0b12262ed7cb8e04098fdcd198b","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHk7CgppbXBvcnQg\namF2YS51dGlsLmNvbmN1cnJlbnQuRXhlY3V0b3JzOwoKaW1wb3J0IG9yZy5z\nbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsK\naW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVsLkNoYW5uZWxGYWN0b3J5\nOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuc29ja2V0Lm5pby5O\naW9DbGllbnRTb2NrZXRDaGFubmVsRmFjdG9yeTsKCmltcG9ydCBjb20uZ29v\nZ2xlLnByb3RvYnVmLkJ5dGVTdHJpbmc7CgppbXBvcnQgb3JnLmFwYWNoZS5o\nZWR3aWcuY2xpZW50LmFwaS5DbGllbnQ7CmltcG9ydCBvcmcuYXBhY2hlLmhl\nZHdpZy5jbGllbnQuY29uZi5DbGllbnRDb25maWd1cmF0aW9uOwppbXBvcnQg\nb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50Lm5ldHR5LmltcGwuc2ltcGxlLlNp\nbXBsZUhDaGFubmVsTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2ln\nLmNsaWVudC5uZXR0eS5pbXBsLm11bHRpcGxleC5NdWx0aXBsZXhIQ2hhbm5l\nbE1hbmFnZXI7CgovKioKICogVGhpcyBpcyBhIHRvcCBsZXZlbCBIZWR3aWcg\nQ2xpZW50IGNsYXNzIHRoYXQgZW5jYXBzdWxhdGVzIHRoZSBjb21tb24KICog\nZnVuY3Rpb25hbGl0eSBuZWVkZWQgZm9yIGJvdGggUHVibGlzaCBhbmQgU3Vi\nc2NyaWJlIG9wZXJhdGlvbnMuCiAqCiAqLwpwdWJsaWMgY2xhc3MgSGVkd2ln\nQ2xpZW50SW1wbCBpbXBsZW1lbnRzIENsaWVudCB7CgogICAgcHJpdmF0ZSBz\ndGF0aWMgZmluYWwgTG9nZ2VyIGxvZ2dlciA9IExvZ2dlckZhY3RvcnkuZ2V0\nTG9nZ2VyKEhlZHdpZ0NsaWVudEltcGwuY2xhc3MpOwoKICAgIC8vIFRoZSBO\nZXR0eSBzb2NrZXQgZmFjdG9yeSBmb3IgbWFraW5nIGNvbm5lY3Rpb25zIHRv\nIHRoZSBzZXJ2ZXIuCiAgICBwcm90ZWN0ZWQgZmluYWwgQ2hhbm5lbEZhY3Rv\ncnkgc29ja2V0RmFjdG9yeTsKICAgIC8vIFdoZXRoZXIgdGhlIHNvY2tldCBm\nYWN0b3J5IGlzIG9uZSB3ZSBjcmVhdGVkIG9yIGlzIG93bmVkIGJ5IHdob2V2\nZXIKICAgIC8vIGluc3RhbnRpYXRlZCB1cy4KICAgIHByb3RlY3RlZCBib29s\nZWFuIG93bkNoYW5uZWxGYWN0b3J5ID0gZmFsc2U7CgogICAgLy8gY2hhbm5l\nbCBtYW5hZ2VyIG1hbmFnZXMgYWxsIHRoZSBjaGFubmVscyBlc3RhYmxpc2hl\nZCBieSB0aGUgY2xpZW50CiAgICBwcm90ZWN0ZWQgZmluYWwgSENoYW5uZWxN\nYW5hZ2VyIGNoYW5uZWxNYW5hZ2VyOwoKICAgIHByaXZhdGUgSGVkd2lnU3Vi\nc2NyaWJlciBzdWI7CiAgICBwcml2YXRlIGZpbmFsIEhlZHdpZ1B1Ymxpc2hl\nciBwdWI7CiAgICBwcml2YXRlIGZpbmFsIENsaWVudENvbmZpZ3VyYXRpb24g\nY2ZnOwoKICAgIHB1YmxpYyBzdGF0aWMgQ2xpZW50IGNyZWF0ZShDbGllbnRD\nb25maWd1cmF0aW9uIGNmZykgewogICAgICAgIHJldHVybiBuZXcgSGVkd2ln\nQ2xpZW50SW1wbChjZmcpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgQ2xp\nZW50IGNyZWF0ZShDbGllbnRDb25maWd1cmF0aW9uIGNmZywgQ2hhbm5lbEZh\nY3Rvcnkgc29ja2V0RmFjdG9yeSkgewogICAgICAgIHJldHVybiBuZXcgSGVk\nd2lnQ2xpZW50SW1wbChjZmcsIHNvY2tldEZhY3RvcnkpOwogICAgfQoKICAg\nIC8vIEJhc2UgY29uc3RydWN0b3IgdGhhdCB0YWtlcyBpbiBhIENvbmZpZ3Vy\nYXRpb24gb2JqZWN0LgogICAgLy8gVGhpcyB3aWxsIGNyZWF0ZSBpdHMgb3du\nIGNsaWVudCBzb2NrZXQgY2hhbm5lbCBmYWN0b3J5LgogICAgcHJvdGVjdGVk\nIEhlZHdpZ0NsaWVudEltcGwoQ2xpZW50Q29uZmlndXJhdGlvbiBjZmcpIHsK\nICAgICAgICB0aGlzKGNmZywgbmV3IE5pb0NsaWVudFNvY2tldENoYW5uZWxG\nYWN0b3J5KAogICAgICAgICAgICAgICAgICBFeGVjdXRvcnMubmV3Q2FjaGVk\nVGhyZWFkUG9vbCgpLCBFeGVjdXRvcnMubmV3Q2FjaGVkVGhyZWFkUG9vbCgp\nKSk7CiAgICAgICAgb3duQ2hhbm5lbEZhY3RvcnkgPSB0cnVlOwogICAgfQoK\nICAgIC8vIENvbnN0cnVjdG9yIHRoYXQgdGFrZXMgaW4gYSBDb25maWd1cmF0\naW9uIG9iamVjdCBhbmQgYSBDaGFubmVsRmFjdG9yeQogICAgLy8gdGhhdCBo\nYXMgYWxyZWFkeSBiZWVuIGluc3RhbnRpYXRlZCBieSB0aGUgY2FsbGVyLgog\nICAgcHJvdGVjdGVkIEhlZHdpZ0NsaWVudEltcGwoQ2xpZW50Q29uZmlndXJh\ndGlvbiBjZmcsIENoYW5uZWxGYWN0b3J5IHNvY2tldEZhY3RvcnkpIHsKICAg\nICAgICB0aGlzLmNmZyA9IGNmZzsKICAgICAgICB0aGlzLnNvY2tldEZhY3Rv\ncnkgPSBzb2NrZXRGYWN0b3J5OwogICAgICAgIGlmIChjZmcuaXNTdWJzY3Jp\ncHRpb25DaGFubmVsU2hhcmluZ0VuYWJsZWQoKSkgewogICAgICAgICAgICBj\naGFubmVsTWFuYWdlciA9IG5ldyBNdWx0aXBsZXhIQ2hhbm5lbE1hbmFnZXIo\nY2ZnLCBzb2NrZXRGYWN0b3J5KTsKICAgICAgICB9IGVsc2UgewogICAgICAg\nICAgICBjaGFubmVsTWFuYWdlciA9IG5ldyBTaW1wbGVIQ2hhbm5lbE1hbmFn\nZXIoY2ZnLCBzb2NrZXRGYWN0b3J5KTsKICAgICAgICB9CiAgICAgICAgcHVi\nID0gbmV3IEhlZHdpZ1B1Ymxpc2hlcih0aGlzKTsKICAgICAgICBzdWIgPSBu\nZXcgSGVkd2lnU3Vic2NyaWJlcih0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMg\nQ2xpZW50Q29uZmlndXJhdGlvbiBnZXRDb25maWd1cmF0aW9uKCkgewogICAg\nICAgIHJldHVybiBjZmc7CiAgICB9CgogICAgcHVibGljIEhDaGFubmVsTWFu\nYWdlciBnZXRIQ2hhbm5lbE1hbmFnZXIoKSB7CiAgICAgICAgcmV0dXJuIGNo\nYW5uZWxNYW5hZ2VyOwogICAgfQoKICAgIHB1YmxpYyBIZWR3aWdTdWJzY3Jp\nYmVyIGdldFN1YnNjcmliZXIoKSB7CiAgICAgICAgcmV0dXJuIHN1YjsKICAg\nIH0KCiAgICAvLyBQcm90ZWN0ZWQgbWV0aG9kIHRvIHNldCB0aGUgc3Vic2Ny\naWJlci4gVGhpcyBpcyBuZWVkZWQgY3VycmVudGx5IGZvciBodWIKICAgIC8v\nIHZlcnNpb25zIG9mIHRoZSBjbGllbnQgc3Vic2NyaWJlci4KICAgIHByb3Rl\nY3RlZCB2b2lkIHNldFN1YnNjcmliZXIoSGVkd2lnU3Vic2NyaWJlciBzdWIp\nIHsKICAgICAgICB0aGlzLnN1YiA9IHN1YjsKICAgIH0KCiAgICBwdWJsaWMg\nSGVkd2lnUHVibGlzaGVyIGdldFB1Ymxpc2hlcigpIHsKICAgICAgICByZXR1\ncm4gcHViOwogICAgfQoKICAgIC8vIFdoZW4gd2UgYXJlIGRvbmUgd2l0aCB0\naGUgY2xpZW50LCB0aGlzIGlzIGEgY2xlYW4gd2F5IHRvIGdyYWNlZnVsbHkg\nY2xvc2UKICAgIC8vIGFsbCBjaGFubmVscy9zb2NrZXRzIGNyZWF0ZWQgYnkg\ndGhlIGNsaWVudCBhbmQgdG8gYWxzbyByZWxlYXNlIGFsbAogICAgLy8gcmVz\nb3VyY2VzIHVzZWQgYnkgbmV0dHkuCiAgICBwdWJsaWMgdm9pZCBjbG9zZSgp\nIHsKICAgICAgICBsb2dnZXIuaW5mbygiU3RvcHBpbmcgdGhlIGNsaWVudCEi\nKTsKCiAgICAgICAgLy8gY2xvc2UgY2hhbm5lbCBtYW5hZ2VyIHRvIHJlbGVh\nc2UgYWxsIGNoYW5uZWxzCiAgICAgICAgY2hhbm5lbE1hbmFnZXIuY2xvc2Uo\nKTsgCgogICAgICAgIC8vIFJlbGVhc2UgcmVzb3VyY2VzIHVzZWQgYnkgdGhl\nIENoYW5uZWxGYWN0b3J5IG9uIHRoZSBjbGllbnQgaWYgd2UgYXJlCiAgICAg\nICAgLy8gdGhlIG93bmVyIHRoYXQgY3JlYXRlZCBpdC4KICAgICAgICBpZiAo\nb3duQ2hhbm5lbEZhY3RvcnkpIHsKICAgICAgICAgICAgc29ja2V0RmFjdG9y\neS5yZWxlYXNlRXh0ZXJuYWxSZXNvdXJjZXMoKTsKICAgICAgICB9CiAgICAg\nICAgbG9nZ2VyLmluZm8oIkNvbXBsZXRlZCBzdG9wcGluZyB0aGUgY2xpZW50\nISIpOwogICAgfQoKfQo=\n","encoding":"base64"}

