{"sha":"ad5c2cd8f745800098faa3e564916bf34f27bcba","node_id":"MDQ6QmxvYjE1NzU5NTY6YWQ1YzJjZDhmNzQ1ODAwMDk4ZmFhM2U1NjQ5MTZiZjM0ZjI3YmNiYQ==","size":16339,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/ad5c2cd8f745800098faa3e564916bf34f27bcba","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHkuaW1wbDsKCmlt\ncG9ydCBqYXZhLm5ldC5JbmV0U29ja2V0QWRkcmVzczsKaW1wb3J0IGphdmEu\ndXRpbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51dGlsLlF1ZXVlOwppbXBv\ncnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudEhhc2hNYXA7Cmlt\ncG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5Db25jdXJyZW50TWFwOwppbXBv\ncnQgamF2YS51dGlsLmNvbmN1cnJlbnQubG9ja3MuUmVlbnRyYW50UmVhZFdy\naXRlTG9jazsKCmltcG9ydCBjb20uZ29vZ2xlLnByb3RvYnVmLkJ5dGVTdHJp\nbmc7CgppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0\nai5Mb2dnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5u\nZWwuQ2hhbm5lbDsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVsLkNo\nYW5uZWxGdXR1cmU7CmltcG9ydCBvcmcuamJvc3MubmV0dHkuY2hhbm5lbC5D\naGFubmVsRnV0dXJlTGlzdGVuZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcuY2xpZW50LmFwaS5NZXNzYWdlSGFuZGxlcjsKaW1wb3J0IG9yZy5hcGFj\naGUuaGVkd2lnLmNsaWVudC5jb25mLkNsaWVudENvbmZpZ3VyYXRpb247Cmlt\ncG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuZGF0YS5NZXNzYWdlQ29u\nc3VtZURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuZGF0\nYS5QdWJTdWJEYXRhOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50\nLmRhdGEuVG9waWNTdWJzY3JpYmVyOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcuY2xpZW50LmV4Y2VwdGlvbnMuQWxyZWFkeVN0YXJ0RGVsaXZlcnlFeGNl\ncHRpb247CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuaGFuZGxl\ncnMuU3Vic2NyaWJlUmVzcG9uc2VIYW5kbGVyOwppbXBvcnQgb3JnLmFwYWNo\nZS5oZWR3aWcuY2xpZW50Lm5ldHR5LkhDaGFubmVsTWFuYWdlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5uZXR0eS5IQ2hhbm5lbDsKaW1w\nb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5uZXR0eS5OZXRVdGlsczsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5uZXR0eS5GaWx0ZXJh\nYmxlTWVzc2FnZUhhbmRsZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5l\neGNlcHRpb25zLlB1YlN1YkV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUu\naGVkd2lnLmV4Y2VwdGlvbnMuUHViU3ViRXhjZXB0aW9uLkNsaWVudEFscmVh\nZHlTdWJzY3JpYmVkRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcuZXhjZXB0aW9ucy5QdWJTdWJFeGNlcHRpb24uQ2xpZW50Tm90U3Vic2Ny\naWJlZEV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmV4Y2Vw\ndGlvbnMuUHViU3ViRXhjZXB0aW9uLlNlcnZpY2VEb3duRXhjZXB0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuZXhjZXB0aW9ucy5QdWJTdWJFeGNl\ncHRpb24uVW5leHBlY3RlZENvbmRpdGlvbkV4Y2VwdGlvbjsKaW1wb3J0IG9y\nZy5hcGFjaGUuaGVkd2lnLmZpbHRlci5DbGllbnRNZXNzYWdlRmlsdGVyOwpp\nbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9j\nb2wuTWVzc2FnZTsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnByb3RvY29s\nLlB1YlN1YlByb3RvY29sLk1lc3NhZ2VTZXFJZDsKaW1wb3J0IG9yZy5hcGFj\naGUuaGVkd2lnLnByb3RvY29sLlB1YlN1YlByb3RvY29sLk9wZXJhdGlvblR5\ncGU7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQ\ncm90b2NvbC5QdWJTdWJSZXF1ZXN0OwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuUHViU3ViUmVzcG9uc2U7Cmlt\ncG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2Nv\nbC5SZXNwb25zZUJvZHk7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90\nb2NvbC5QdWJTdWJQcm90b2NvbC5TdGF0dXNDb2RlOwppbXBvcnQgb3JnLmFw\nYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuU3Vic2NyaWJl\nUmVzcG9uc2U7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5Q\ndWJTdWJQcm90b2NvbC5TdWJzY3JpcHRpb25FdmVudDsKaW1wb3J0IG9yZy5h\ncGFjaGUuaGVkd2lnLnByb3RvY29sLlB1YlN1YlByb3RvY29sLlN1YnNjcmlw\ndGlvblByZWZlcmVuY2VzOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcucHJv\ndG9leHRlbnNpb25zLk1lc3NhZ2VJZFV0aWxzOwppbXBvcnQgb3JnLmFwYWNo\nZS5oZWR3aWcucHJvdG9leHRlbnNpb25zLlN1YnNjcmlwdGlvblN0YXRlVXRp\nbHM7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy51dGlsLkNhbGxiYWNrOwpp\nbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcudXRpbC5FaXRoZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLmhlZHdpZy51dGlsLlN1YnNjcmlwdGlvbkxpc3RlbmVyOwpp\nbXBvcnQgc3RhdGljIG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuVmFyQXJncy52\nYTsKCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFN1YnNjcmliZVJl\nc3BvbnNlSGFuZGxlciBleHRlbmRzIFN1YnNjcmliZVJlc3BvbnNlSGFuZGxl\nciB7CgogICAgcHJpdmF0ZSBzdGF0aWMgTG9nZ2VyIGxvZ2dlciA9CiAgICAg\nICAgTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoQWJzdHJhY3RTdWJzY3JpYmVS\nZXNwb25zZUhhbmRsZXIuY2xhc3MpOwoKICAgIHByb3RlY3RlZCBmaW5hbCBS\nZWVudHJhbnRSZWFkV3JpdGVMb2NrIGRpc2Nvbm5lY3RMb2NrID0KICAgICAg\nICBuZXcgUmVlbnRyYW50UmVhZFdyaXRlTG9jaygpOwoKICAgIHByb3RlY3Rl\nZCBmaW5hbCBDb25jdXJyZW50TWFwPFRvcGljU3Vic2NyaWJlciwgQWN0aXZl\nU3Vic2NyaWJlcj4gc3Vic2NyaXB0aW9ucwogICAgICAgID0gbmV3IENvbmN1\ncnJlbnRIYXNoTWFwPFRvcGljU3Vic2NyaWJlciwgQWN0aXZlU3Vic2NyaWJl\ncj4oKTsKICAgIHByb3RlY3RlZCBmaW5hbCBBYnN0cmFjdEhDaGFubmVsTWFu\nYWdlciBhQ2hhbm5lbE1hbmFnZXI7CgogICAgcHJvdGVjdGVkIEFic3RyYWN0\nU3Vic2NyaWJlUmVzcG9uc2VIYW5kbGVyKENsaWVudENvbmZpZ3VyYXRpb24g\nY2ZnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIEhDaGFubmVsTWFuYWdlciBjaGFubmVsTWFuYWdlcikgewogICAg\nICAgIHN1cGVyKGNmZywgY2hhbm5lbE1hbmFnZXIpOwogICAgICAgIHRoaXMu\nYUNoYW5uZWxNYW5hZ2VyID0gKEFic3RyYWN0SENoYW5uZWxNYW5hZ2VyKSBj\naGFubmVsTWFuYWdlcjsKICAgIH0KCiAgICBwcm90ZWN0ZWQgSENoYW5uZWxN\nYW5hZ2VyIGdldEhDaGFubmVsTWFuYWdlcigpIHsKICAgICAgICByZXR1cm4g\ndGhpcy5jaGFubmVsTWFuYWdlcjsKICAgIH0KCiAgICBwcm90ZWN0ZWQgQ2xp\nZW50Q29uZmlndXJhdGlvbiBnZXRDb25maWd1cmF0aW9uKCkgewogICAgICAg\nIHJldHVybiBjZmc7CiAgICB9CgogICAgcHJvdGVjdGVkIEFjdGl2ZVN1YnNj\ncmliZXIgZ2V0QWN0aXZlU3Vic2NyaWJlcihUb3BpY1N1YnNjcmliZXIgdHMp\nIHsKICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9ucy5nZXQodHMpOwogICAg\nfQoKICAgIHByb3RlY3RlZCBBY3RpdmVTdWJzY3JpYmVyIGNyZWF0ZUFjdGl2\nZVN1YnNjcmliZXIoCiAgICAgICAgQ2xpZW50Q29uZmlndXJhdGlvbiBjZmcs\nIEFic3RyYWN0SENoYW5uZWxNYW5hZ2VyIGNoYW5uZWxNYW5hZ2VyLAogICAg\nICAgIFRvcGljU3Vic2NyaWJlciB0cywgUHViU3ViRGF0YSBvcCwgU3Vic2Ny\naXB0aW9uUHJlZmVyZW5jZXMgcHJlZmVyZW5jZXMsCiAgICAgICAgQ2hhbm5l\nbCBjaGFubmVsLCBIQ2hhbm5lbCBoQ2hhbm5lbCkgewogICAgICAgIHJldHVy\nbiBuZXcgQWN0aXZlU3Vic2NyaWJlcihjZmcsIGNoYW5uZWxNYW5hZ2VyLCB0\ncywgb3AsIHByZWZlcmVuY2VzLCBjaGFubmVsLCBoQ2hhbm5lbCk7CiAgICB9\nCgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBoYW5kbGVSZXNwb25z\nZShQdWJTdWJSZXNwb25zZSByZXNwb25zZSwgUHViU3ViRGF0YSBwdWJTdWJE\nYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbm5lbCBj\naGFubmVsKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAobG9nZ2Vy\nLmlzRGVidWdFbmFibGVkKCkpIHsKICAgICAgICAgICAgbG9nZ2VyLmRlYnVn\nKCJIYW5kbGluZyBhIFN1YnNjcmliZSByZXNwb25zZToge30sIHB1YlN1YkRh\ndGE6IHt9LCBob3N0OiB7fS4iLAogICAgICAgICAgICAgICAgICAgICAgICAg\ndmEocmVzcG9uc2UsIHB1YlN1YkRhdGEsIE5ldFV0aWxzLmdldEhvc3RGcm9t\nQ2hhbm5lbChjaGFubmVsKSkpOwogICAgICAgIH0KICAgICAgICBzd2l0Y2gg\nKHJlc3BvbnNlLmdldFN0YXR1c0NvZGUoKSkgewogICAgICAgIGNhc2UgU1VD\nQ0VTUzoKICAgICAgICAgICAgVG9waWNTdWJzY3JpYmVyIHRzID0gbmV3IFRv\ncGljU3Vic2NyaWJlcihwdWJTdWJEYXRhLnRvcGljLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1YlN1\nYkRhdGEuc3Vic2NyaWJlcklkKTsKICAgICAgICAgICAgU3Vic2NyaXB0aW9u\nUHJlZmVyZW5jZXMgcHJlZmVyZW5jZXMgPSBudWxsOwogICAgICAgICAgICBp\nZiAocmVzcG9uc2UuaGFzUmVzcG9uc2VCb2R5KCkpIHsKICAgICAgICAgICAg\nICAgIFJlc3BvbnNlQm9keSByZXNwQm9keSA9IHJlc3BvbnNlLmdldFJlc3Bv\nbnNlQm9keSgpOwogICAgICAgICAgICAgICAgaWYgKHJlc3BCb2R5Lmhhc1N1\nYnNjcmliZVJlc3BvbnNlKCkpIHsKICAgICAgICAgICAgICAgICAgICBTdWJz\nY3JpYmVSZXNwb25zZSByZXNwID0gcmVzcEJvZHkuZ2V0U3Vic2NyaWJlUmVz\ncG9uc2UoKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5oYXNQcmVm\nZXJlbmNlcygpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZlcmVu\nY2VzID0gcmVzcC5nZXRQcmVmZXJlbmNlcygpOwogICAgICAgICAgICAgICAg\nICAgICAgICBpZiAobG9nZ2VyLmlzRGVidWdFbmFibGVkKCkpIHsKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygiUmVjZWl2ZSBz\ndWJzY3JpcHRpb24gcHJlZmVyZW5jZXMgZm9yIHt9IDoge30iLAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhKHRzLAogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1YnNj\ncmlwdGlvblN0YXRlVXRpbHMudG9TdHJpbmcocHJlZmVyZW5jZXMpKSk7CiAg\nICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAg\nIEVpdGhlcjxTdGF0dXNDb2RlLCBIQ2hhbm5lbD4gcmVzdWx0OwogICAgICAg\nICAgICBTdGF0dXNDb2RlIHN0YXR1c0NvZGU7CiAgICAgICAgICAgIEFjdGl2\nZVN1YnNjcmliZXIgc3MgPSBudWxsOwogICAgICAgICAgICAvLyBTdG9yZSB0\naGUgU3Vic2NyaWJlIHN0YXRlCiAgICAgICAgICAgIGRpc2Nvbm5lY3RMb2Nr\nLnJlYWRMb2NrKCkubG9jaygpOwogICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgcmVzdWx0ID0gaGFuZGxlU3VjY2Vzc1Jlc3BvbnNlKHRzLCBw\ndWJTdWJEYXRhLCBjaGFubmVsKTsKICAgICAgICAgICAgICAgIHN0YXR1c0Nv\nZGUgPSByZXN1bHQubGVmdCgpOwogICAgICAgICAgICAgICAgaWYgKFN0YXR1\nc0NvZGUuU1VDQ0VTUyA9PSBzdGF0dXNDb2RlKSB7CiAgICAgICAgICAgICAg\nICAgICAgc3MgPSBjcmVhdGVBY3RpdmVTdWJzY3JpYmVyKAogICAgICAgICAg\nICAgICAgICAgICAgICBjZmcsIGFDaGFubmVsTWFuYWdlciwgdHMsIHB1YlN1\nYkRhdGEsIHByZWZlcmVuY2VzLCBjaGFubmVsLCByZXN1bHQucmlnaHQoKSk7\nCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9IGFkZFN1YnNjcmlw\ndGlvbih0cywgc3MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9\nIGZpbmFsbHkgewogICAgICAgICAgICAgICAgZGlzY29ubmVjdExvY2sucmVh\nZExvY2soKS51bmxvY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBp\nZiAoU3RhdHVzQ29kZS5TVUNDRVNTID09IHN0YXR1c0NvZGUpIHsKICAgICAg\nICAgICAgICAgIHBvc3RIYW5kbGVTdWNjZXNzUmVzcG9uc2UodHMsIHNzKTsK\nICAgICAgICAgICAgICAgIC8vIFJlc3BvbnNlIHdhcyBzdWNjZXNzIHNvIGlu\ndm9rZSB0aGUgY2FsbGJhY2sncyBvcGVyYXRpb25GaW5pc2hlZAogICAgICAg\nICAgICAgICAgLy8gbWV0aG9kLgogICAgICAgICAgICAgICAgcHViU3ViRGF0\nYS5nZXRDYWxsYmFjaygpLm9wZXJhdGlvbkZpbmlzaGVkKHB1YlN1YkRhdGEu\nY29udGV4dCwgbnVsbCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAg\nICAgICAgICBQdWJTdWJFeGNlcHRpb24gZXhjZXB0aW9uID0gUHViU3ViRXhj\nZXB0aW9uLmNyZWF0ZShzdGF0dXNDb2RlLAogICAgICAgICAgICAgICAgICAg\nICJDbGllbnQgaXMgYWxyZWFkeSBzdWJzY3JpYmVkIGZvciAiICsgdHMpOwog\nICAgICAgICAgICAgICAgcHViU3ViRGF0YS5nZXRDYWxsYmFjaygpLm9wZXJh\ndGlvbkZhaWxlZChwdWJTdWJEYXRhLmNvbnRleHQsIGV4Y2VwdGlvbik7CiAg\nICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBD\nTElFTlRfQUxSRUFEWV9TVUJTQ1JJQkVEOgogICAgICAgICAgICAvLyBGb3Ig\nU3Vic2NyaWJlIHJlcXVlc3RzLCB0aGUgc2VydmVyIHNheXMgdGhhdCB0aGUg\nY2xpZW50IGlzCiAgICAgICAgICAgIC8vIGFscmVhZHkgc3Vic2NyaWJlZCB0\nbyBpdC4KICAgICAgICAgICAgcHViU3ViRGF0YS5nZXRDYWxsYmFjaygpLm9w\nZXJhdGlvbkZhaWxlZChwdWJTdWJEYXRhLmNvbnRleHQsCiAgICAgICAgICAg\nICAgICAgICAgbmV3IENsaWVudEFscmVhZHlTdWJzY3JpYmVkRXhjZXB0aW9u\nKCJDbGllbnQgaXMgYWxyZWFkeSBzdWJzY3JpYmVkIGZvciB0b3BpYzogIgog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICArIHB1YlN1YkRhdGEudG9waWMudG9TdHJpbmdVdGY4KCkg\nKyAiLCBzdWJzY3JpYmVySWQ6ICIKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBwdWJTdWJEYXRh\nLnN1YnNjcmliZXJJZC50b1N0cmluZ1V0ZjgoKSkpOwogICAgICAgICAgICBi\ncmVhazsKICAgICAgICBjYXNlIFNFUlZJQ0VfRE9XTjoKICAgICAgICAgICAg\nLy8gUmVzcG9uc2Ugd2FzIHNlcnZpY2UgZG93biBmYWlsdXJlIHNvIGp1c3Qg\naW52b2tlIHRoZSBjYWxsYmFjaydzCiAgICAgICAgICAgIC8vIG9wZXJhdGlv\nbkZhaWxlZCBtZXRob2QuCiAgICAgICAgICAgIHB1YlN1YkRhdGEuZ2V0Q2Fs\nbGJhY2soKS5vcGVyYXRpb25GYWlsZWQocHViU3ViRGF0YS5jb250ZXh0LCBu\nZXcgU2VydmljZURvd25FeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlNlcnZlciByZXNw\nb25kZWQgd2l0aCBhIFNFUlZJQ0VfRE9XTiBzdGF0dXMiKSk7CiAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgIGNhc2UgTk9UX1JFU1BPTlNJQkxFX0ZPUl9U\nT1BJQzoKICAgICAgICAgICAgLy8gUmVkaXJlY3QgcmVzcG9uc2Ugc28gd2Un\nbGwgbmVlZCB0byByZXBvc3QgdGhlIG9yaWdpbmFsIFN1YnNjcmliZQogICAg\nICAgICAgICAvLyBSZXF1ZXN0CiAgICAgICAgICAgIGhhbmRsZVJlZGlyZWN0\nUmVzcG9uc2UocmVzcG9uc2UsIHB1YlN1YkRhdGEsIGNoYW5uZWwpOwogICAg\nICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAv\nLyBDb25zaWRlciBhbGwgb3RoZXIgc3RhdHVzIGNvZGVzIGFzIGVycm9ycywg\nb3BlcmF0aW9uIGZhaWxlZAogICAgICAgICAgICAvLyBjYXNlcy4KICAgICAg\nICAgICAgbG9nZ2VyLmVycm9yKCJVbmV4cGVjdGVkIGVycm9yIHJlc3BvbnNl\nIGZyb20gc2VydmVyIGZvciBQdWJTdWJSZXNwb25zZTogIiArIHJlc3BvbnNl\nKTsKICAgICAgICAgICAgcHViU3ViRGF0YS5nZXRDYWxsYmFjaygpLm9wZXJh\ndGlvbkZhaWxlZChwdWJTdWJEYXRhLmNvbnRleHQsCiAgICAgICAgICAgICAg\nICAgICAgbmV3IFNlcnZpY2VEb3duRXhjZXB0aW9uKCJTZXJ2ZXIgcmVzcG9u\nZGVkIHdpdGggYSBzdGF0dXMgY29kZSBvZjogIgogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgKyByZXNwb25zZS5nZXRTdGF0dXNDb2RlKCksCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICBQdWJTdWJFeGNlcHRpb24uY3JlYXRl\nKHJlc3BvbnNlLmdldFN0YXR1c0NvZGUoKSwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk9yaWdpbmFsIEV4\nY2VwdGlvbiIpKSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAg\nIH0KCiAgICAvKioKICAgICAqIEhhbmRsZSBzdWNjZXNzIHJlc3BvbnNlIGZv\nciBhIHNwZWNpZmljIFRvcGljU3Vic2NyaWJlciA8Y29kZT50czwvY29kZT4u\nIFRoZSBtZXRob2QKICAgICAqIGlzIHRyaWdnZXJlZCBhZnRlciBzdWJzY3Jp\nYmVkIHN1Y2Nlc3NmdWxseS4KICAgICAqCiAgICAgKiBAcGFyYW0gdHMKICAg\nICAqICAgICAgICAgIFRvcGljIFN1YnNjcmliZXIuCiAgICAgKiBAcGFyYW0g\ncHViU3ViRGF0YQogICAgICogICAgICAgICAgUHViL1N1YiBSZXF1ZXN0IGRh\ndGEgZm9yIHRoaXMgc3Vic2NyaWJlIHJlcXVlc3QuCiAgICAgKiBAcGFyYW0g\nY2hhbm5lbAogICAgICogICAgICAgICAgU3Vic2NyaXB0aW9uIENoYW5uZWwu\nCiAgICAgKiBAcmV0dXJuIHN0YXR1cyBjb2RlIHRvIGluZGljYXRlIHdoYXQg\naGFwcGVuZWQKICAgICAqLwogICAgcHJvdGVjdGVkIGFic3RyYWN0IEVpdGhl\ncjxTdGF0dXNDb2RlLCBIQ2hhbm5lbD4gaGFuZGxlU3VjY2Vzc1Jlc3BvbnNl\nKAogICAgICAgIFRvcGljU3Vic2NyaWJlciB0cywgUHViU3ViRGF0YSBwdWJT\ndWJEYXRhLCBDaGFubmVsIGNoYW5uZWwpOwoKICAgIHByb3RlY3RlZCB2b2lk\nIHBvc3RIYW5kbGVTdWNjZXNzUmVzcG9uc2UoVG9waWNTdWJzY3JpYmVyIHRz\nLCBBY3RpdmVTdWJzY3JpYmVyIHNzKSB7CiAgICAgICAgLy8gZG8gbm90aGlu\nZyBub3cKICAgIH0KCiAgICBwcml2YXRlIFN0YXR1c0NvZGUgYWRkU3Vic2Ny\naXB0aW9uKFRvcGljU3Vic2NyaWJlciB0cywgQWN0aXZlU3Vic2NyaWJlciBz\ncykgewogICAgICAgIEFjdGl2ZVN1YnNjcmliZXIgb2xkU1MgPSBzdWJzY3Jp\ncHRpb25zLnB1dElmQWJzZW50KHRzLCBzcyk7CiAgICAgICAgaWYgKG51bGwg\nIT0gb2xkU1MpIHsKICAgICAgICAgICAgcmV0dXJuIFN0YXR1c0NvZGUuQ0xJ\nRU5UX0FMUkVBRFlfU1VCU0NSSUJFRDsKICAgICAgICB9IGVsc2UgewogICAg\nICAgICAgICByZXR1cm4gU3RhdHVzQ29kZS5TVUNDRVNTOwogICAgICAgIH0K\nICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGhhbmRsZVN1\nYnNjcmliZU1lc3NhZ2UoUHViU3ViUmVzcG9uc2UgcmVzcG9uc2UpIHsKICAg\nICAgICBNZXNzYWdlIG1lc3NhZ2UgPSByZXNwb25zZS5nZXRNZXNzYWdlKCk7\nCiAgICAgICAgVG9waWNTdWJzY3JpYmVyIHRzID0gbmV3IFRvcGljU3Vic2Ny\naWJlcihyZXNwb25zZS5nZXRUb3BpYygpLAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZ2V0U3Vi\nc2NyaWJlcklkKCkpOwogICAgICAgIGlmIChsb2dnZXIuaXNEZWJ1Z0VuYWJs\nZWQoKSkgewogICAgICAgICAgICBsb2dnZXIuZGVidWcoIkhhbmRsaW5nIGEg\nU3Vic2NyaWJlIG1lc3NhZ2UgaW4gcmVzcG9uc2U6IHt9LCB7fSIsCiAgICAg\nICAgICAgICAgICAgICAgICAgICB2YShyZXNwb25zZSwgdHMpKTsKICAgICAg\nICB9CiAgICAgICAgQWN0aXZlU3Vic2NyaWJlciBzcyA9IGdldEFjdGl2ZVN1\nYnNjcmliZXIodHMpOwogICAgICAgIGlmIChudWxsID09IHNzKSB7CiAgICAg\nICAgICAgIGxvZ2dlci5lcnJvcigiU3Vic2NyaWJlciB7fSBpcyBub3QgZm91\nbmQgcmVjZWl2aW5nIGl0cyBtZXNzYWdlIHt9LiIsCiAgICAgICAgICAgICAg\nICAgICAgICAgICB2YSh0cywgTWVzc2FnZUlkVXRpbHMubXNnSWRUb1JlYWRh\nYmxlU3RyaW5nKG1lc3NhZ2UuZ2V0TXNnSWQoKSkpKTsKICAgICAgICAgICAg\ncmV0dXJuOwogICAgICAgIH0KICAgICAgICBzcy5oYW5kbGVNZXNzYWdlKG1l\nc3NhZ2UpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZv\naWQgYXN5bmNNZXNzYWdlRGVsaXZlcihUb3BpY1N1YnNjcmliZXIgdG9waWNT\ndWJzY3JpYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBNZXNzYWdlIG1lc3NhZ2UpIHsKICAgICAgICBBY3RpdmVTdWJzY3Jp\nYmVyIHNzID0gZ2V0QWN0aXZlU3Vic2NyaWJlcih0b3BpY1N1YnNjcmliZXIp\nOwogICAgICAgIGlmIChudWxsID09IHNzKSB7CiAgICAgICAgICAgIGxvZ2dl\nci5lcnJvcigiU3Vic2NyaWJlciB7fSBpcyBub3QgZm91bmQgZGVsaXZlcmlu\nZyBpdHMgbWVzc2FnZSB7fS4iLAogICAgICAgICAgICAgICAgICAgICAgICAg\ndmEodG9waWNTdWJzY3JpYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgTWVzc2FnZUlkVXRpbHMubXNnSWRUb1JlYWRhYmxlU3RyaW5nKG1lc3Nh\nZ2UuZ2V0TXNnSWQoKSkpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAg\nIH0KICAgICAgICBzcy5hc3luY01lc3NhZ2VEZWxpdmVyKG1lc3NhZ2UpOwog\nICAgfQoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgbWVzc2Fn\nZUNvbnN1bWVkKFRvcGljU3Vic2NyaWJlciB0b3BpY1N1YnNjcmliZXIsCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVzc2FnZSBtZXNz\nYWdlKSB7CiAgICAgICAgQWN0aXZlU3Vic2NyaWJlciBzcyA9IGdldEFjdGl2\nZVN1YnNjcmliZXIodG9waWNTdWJzY3JpYmVyKTsKICAgICAgICBpZiAobnVs\nbCA9PSBzcykgewogICAgICAgICAgICBsb2dnZXIud2FybigiU3Vic2NyaWJl\nciB7fSBpcyBub3QgZm91bmQgY29uc3VtZWQgaXRzIG1lc3NhZ2Uge30uIiwK\nICAgICAgICAgICAgICAgICAgICAgICAgdmEodG9waWNTdWJzY3JpYmVyLAog\nICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlSWRVdGlscy5tc2dJ\nZFRvUmVhZGFibGVTdHJpbmcobWVzc2FnZS5nZXRNc2dJZCgpKSkpOwogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChsb2dnZXIu\naXNEZWJ1Z0VuYWJsZWQoKSkgewogICAgICAgICAgICBsb2dnZXIuZGVidWco\nIk1lc3NhZ2UgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNvbnN1bWVkIGJ5IHRo\nZSBjbGllbnQgYXBwIDoge30sIHt9IiwKICAgICAgICAgICAgICAgICAgICAg\nICAgIHZhKG1lc3NhZ2UsIHRvcGljU3Vic2NyaWJlcikpOwogICAgICAgIH0K\nICAgICAgICBzcy5tZXNzYWdlQ29uc3VtZWQobWVzc2FnZSk7CiAgICB9Cgog\nICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBoYW5kbGVTdWJzY3JpcHRp\nb25FdmVudChCeXRlU3RyaW5nIHRvcGljLCBCeXRlU3RyaW5nIHN1YnNjcmli\nZXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIFN1YnNjcmlwdGlvbkV2ZW50IGV2ZW50KSB7CiAgICAgICAgVG9waWNTdWJz\nY3JpYmVyIHRzID0gbmV3IFRvcGljU3Vic2NyaWJlcih0b3BpYywgc3Vic2Ny\naWJlcklkKTsKICAgICAgICBBY3RpdmVTdWJzY3JpYmVyIHNzID0gZ2V0QWN0\naXZlU3Vic2NyaWJlcih0cyk7CiAgICAgICAgaWYgKG51bGwgPT0gc3MpIHsK\nICAgICAgICAgICAgbG9nZ2VyLndhcm4oIk5vIHN1YnNjcmlwdGlvbiB7fSBm\nb3VuZCByZWNlaXZpbmcgc3Vic2NyaXB0aW9uIGV2ZW50IHt9LiIsCiAgICAg\nICAgICAgICAgICAgICAgICAgIHZhKHRzLCBldmVudCkpOwogICAgICAgICAg\nICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChsb2dnZXIuaXNEZWJ1\nZ0VuYWJsZWQoKSkgewogICAgICAgICAgICBsb2dnZXIuZGVidWcoIlJlY2Vp\ndmVkIHN1YnNjcmlwdGlvbiBldmVudCB7fSBmb3IgKHt9KS4iLAogICAgICAg\nICAgICAgICAgICAgICAgICAgdmEoZXZlbnQsIHRzKSk7CiAgICAgICAgfQog\nICAgICAgIHByb2Nlc3NTdWJzY3JpcHRpb25FdmVudChzcywgZXZlbnQpOwog\nICAgfQoKICAgIHByb3RlY3RlZCB2b2lkIHByb2Nlc3NTdWJzY3JpcHRpb25F\ndmVudChBY3RpdmVTdWJzY3JpYmVyIGFzLCBTdWJzY3JpcHRpb25FdmVudCBl\ndmVudCkgewogICAgICAgIHN3aXRjaCAoZXZlbnQpIHsKICAgICAgICAvLyBm\nb3IgYWxsIGNhc2VzIHdlIG5lZWQgdG8gcmVzdWJzY3JpYmUgZm9yIHRoZSBz\ndWJzY3JpcHRpb24KICAgICAgICBjYXNlIFRPUElDX01PVkVEOgogICAgICAg\nIGNhc2UgU1VCU0NSSVBUSU9OX0ZPUkNFRF9DTE9TRUQ6CiAgICAgICAgICAg\nIHJlc3Vic2NyaWJlSWZOZWNlc3NhcnkoYXMsIGV2ZW50KTsKICAgICAgICAg\nICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgbG9nZ2Vy\nLmVycm9yKCJSZWNlaXZlIHVua25vd24gc3Vic2NyaXB0aW9uIGV2ZW50IHt9\nIGZvciB7fS4iLAogICAgICAgICAgICAgICAgICAgICAgICAgdmEoZXZlbnQs\nIGFzLmdldFRvcGljU3Vic2NyaWJlcigpKSk7CiAgICAgICAgfQogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgc3RhcnREZWxpdmVyeShm\naW5hbCBUb3BpY1N1YnNjcmliZXIgdG9waWNTdWJzY3JpYmVyLAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlSGFuZGxlciBtZXNzYWdl\nSGFuZGxlcikKICAgIHRocm93cyBDbGllbnROb3RTdWJzY3JpYmVkRXhjZXB0\naW9uLCBBbHJlYWR5U3RhcnREZWxpdmVyeUV4Y2VwdGlvbiB7CiAgICAgICAg\nQWN0aXZlU3Vic2NyaWJlciBzcyA9IGdldEFjdGl2ZVN1YnNjcmliZXIodG9w\naWNTdWJzY3JpYmVyKTsKICAgICAgICBpZiAobnVsbCA9PSBzcykgewogICAg\nICAgICAgICB0aHJvdyBuZXcgQ2xpZW50Tm90U3Vic2NyaWJlZEV4Y2VwdGlv\nbigiQ2xpZW50IGlzIG5vdCB5ZXQgc3Vic2NyaWJlZCB0byAiICsgdG9waWNT\ndWJzY3JpYmVyKTsKICAgICAgICB9CiAgICAgICAgaWYgKGxvZ2dlci5pc0Rl\nYnVnRW5hYmxlZCgpKSB7CiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygiU3Rh\ncnQgZGVsaXZlcmluZyBtZXNzYWdlIGZvciB7fSB1c2luZyBtZXNzYWdlIGhh\nbmRsZXIge30iLAogICAgICAgICAgICAgICAgICAgICAgICAgdmEodG9waWNT\ndWJzY3JpYmVyLCBtZXNzYWdlSGFuZGxlcikpOwogICAgICAgIH0KICAgICAg\nICBzcy5zdGFydERlbGl2ZXJ5KG1lc3NhZ2VIYW5kbGVyKTsKICAgIH0KCiAg\nICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHN0b3BEZWxpdmVyeShmaW5h\nbCBUb3BpY1N1YnNjcmliZXIgdG9waWNTdWJzY3JpYmVyKQogICAgdGhyb3dz\nIENsaWVudE5vdFN1YnNjcmliZWRFeGNlcHRpb24gewogICAgICAgIEFjdGl2\nZVN1YnNjcmliZXIgc3MgPSBnZXRBY3RpdmVTdWJzY3JpYmVyKHRvcGljU3Vi\nc2NyaWJlcik7CiAgICAgICAgaWYgKG51bGwgPT0gc3MpIHsKICAgICAgICAg\nICAgdGhyb3cgbmV3IENsaWVudE5vdFN1YnNjcmliZWRFeGNlcHRpb24oIkNs\naWVudCBpcyBub3QgeWV0IHN1YnNjcmliZWQgdG8gIiArIHRvcGljU3Vic2Ny\naWJlcik7CiAgICAgICAgfQogICAgICAgIGlmIChsb2dnZXIuaXNEZWJ1Z0Vu\nYWJsZWQoKSkgewogICAgICAgICAgICBsb2dnZXIuZGVidWcoIlN0b3AgZGVs\naXZlcmluZyBtZXNzYWdlcyBmb3Ige30iLCB0b3BpY1N1YnNjcmliZXIpOwog\nICAgICAgIH0KICAgICAgICBzcy5zdG9wRGVsaXZlcnkoKTsKICAgIH0KCiAg\nICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBib29sZWFuIGhhc1N1YnNjcmlwdGlv\nbihUb3BpY1N1YnNjcmliZXIgdG9waWNTdWJzY3JpYmVyKSB7CiAgICAgICAg\ncmV0dXJuIHN1YnNjcmlwdGlvbnMuY29udGFpbnNLZXkodG9waWNTdWJzY3Jp\nYmVyKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGNv\nbnN1bWUoZmluYWwgVG9waWNTdWJzY3JpYmVyIHRvcGljU3Vic2NyaWJlciwK\nICAgICAgICAgICAgICAgICAgICAgICAgZmluYWwgTWVzc2FnZVNlcUlkIG1l\nc3NhZ2VTZXFJZCkgewogICAgICAgIEFjdGl2ZVN1YnNjcmliZXIgc3MgPSBn\nZXRBY3RpdmVTdWJzY3JpYmVyKHRvcGljU3Vic2NyaWJlcik7CiAgICAgICAg\naWYgKG51bGwgPT0gc3MpIHsKICAgICAgICAgICAgbG9nZ2VyLndhcm4oIlN1\nYnNjcmliZXIge30gaXMgbm90IGZvdW5kIGNvbnN1bWluZyBtZXNzYWdlIHt9\nLiIsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhKHRvcGljU3Vic2NyaWJl\nciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVzc2FnZUlkVXRpbHMu\nbXNnSWRUb1JlYWRhYmxlU3RyaW5nKG1lc3NhZ2VTZXFJZCkpKTsKICAgICAg\nICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBzcy5jb25zdW1lKG1l\nc3NhZ2VTZXFJZCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMg\ndm9pZCBvbkNoYW5uZWxEaXNjb25uZWN0ZWQoSW5ldFNvY2tldEFkZHJlc3Mg\naG9zdCwgQ2hhbm5lbCBjaGFubmVsKSB7CiAgICAgICAgZGlzY29ubmVjdExv\nY2sud3JpdGVMb2NrKCkubG9jaygpOwogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIG9uRGlzY29ubmVjdChob3N0KTsKICAgICAgICB9IGZpbmFsbHkgewog\nICAgICAgICAgICBkaXNjb25uZWN0TG9jay53cml0ZUxvY2soKS51bmxvY2so\nKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIG9uRGlzY29u\nbmVjdChJbmV0U29ja2V0QWRkcmVzcyBob3N0KSB7CiAgICAgICAgZm9yIChB\nY3RpdmVTdWJzY3JpYmVyIHNzIDogc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSkg\newogICAgICAgICAgICBvbkRpc2Nvbm5lY3Qoc3MsIGhvc3QpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwcml2YXRlIHZvaWQgb25EaXNjb25uZWN0KEFjdGl2\nZVN1YnNjcmliZXIgc3MsIEluZXRTb2NrZXRBZGRyZXNzIGhvc3QpIHsKICAg\nICAgICBsb2dnZXIuaW5mbygiU3Vic2NyaXB0aW9uIGNoYW5uZWwgZm9yICh7\nfSkgaXMgZGlzY29ubmVjdGVkLiIsIHNzKTsKICAgICAgICByZXN1YnNjcmli\nZUlmTmVjZXNzYXJ5KHNzLCBTdWJzY3JpcHRpb25FdmVudC5UT1BJQ19NT1ZF\nRCk7CiAgICB9CgogICAgcHJvdGVjdGVkIGJvb2xlYW4gcmVtb3ZlU3Vic2Ny\naXB0aW9uKFRvcGljU3Vic2NyaWJlciB0cywgQWN0aXZlU3Vic2NyaWJlciBz\ncykgewogICAgICAgIHJldHVybiBzdWJzY3JpcHRpb25zLnJlbW92ZSh0cywg\nc3MpOwogICAgfQoKICAgIHByb3RlY3RlZCB2b2lkIHJlc3Vic2NyaWJlSWZO\nZWNlc3NhcnkoQWN0aXZlU3Vic2NyaWJlciBzcywgU3Vic2NyaXB0aW9uRXZl\nbnQgZXZlbnQpIHsKICAgICAgICAvLyBpZiBzdWJzY3JpYmVyIGhhcyBiZWVu\nIGNoYW5nZWQsIHdlIGRvbid0IG5lZWQgdG8gcmVzdWJzY3JpYmUKICAgICAg\nICBpZiAoIXJlbW92ZVN1YnNjcmlwdGlvbihzcy5nZXRUb3BpY1N1YnNjcmli\nZXIoKSwgc3MpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAg\nICAgICAgc3MucmVzdWJzY3JpYmVJZk5lY2Vzc2FyeShldmVudCk7CiAgICB9\nCgp9Cg==\n","encoding":"base64"}

