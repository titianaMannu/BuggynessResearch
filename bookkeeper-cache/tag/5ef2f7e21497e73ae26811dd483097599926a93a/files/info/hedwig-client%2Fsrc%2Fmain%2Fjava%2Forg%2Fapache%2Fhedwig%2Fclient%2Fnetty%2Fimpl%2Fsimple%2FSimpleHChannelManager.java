{"sha":"36a6925361a7e3db804d74d772c58f6fb9d5f61f","node_id":"MDQ6QmxvYjE1NzU5NTY6MzZhNjkyNTM2MWE3ZTNkYjgwNGQ3NGQ3NzJjNThmNmZiOWQ1ZjYxZg==","size":16544,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/36a6925361a7e3db804d74d772c58f6fb9d5f61f","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHkuaW1wbC5zaW1w\nbGU7CgppbXBvcnQgamF2YS5uZXQuSW5ldFNvY2tldEFkZHJlc3M7CmltcG9y\ndCBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljSW50ZWdlcjsK\naW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRIYXNoTWFw\nOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudE1hcDsK\nCmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxv\nZ2dlckZhY3Rvcnk7CmltcG9ydCBvcmcuamJvc3MubmV0dHkuY2hhbm5lbC5D\naGFubmVsOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuQ2hhbm5l\nbEZhY3Rvcnk7CmltcG9ydCBvcmcuamJvc3MubmV0dHkuY2hhbm5lbC5DaGFu\nbmVsRnV0dXJlOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuQ2hh\nbm5lbEZ1dHVyZUxpc3RlbmVyOwoKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2ln\nLmV4Y2VwdGlvbnMuUHViU3ViRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5oZWR3aWcuY2xpZW50LmFwaS5NZXNzYWdlSGFuZGxlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5jb25mLkNsaWVudENvbmZpZ3VyYXRp\nb247CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuZGF0YS5Ub3Bp\nY1N1YnNjcmliZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQu\nZGF0YS5QdWJTdWJEYXRhOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xp\nZW50LmV4Y2VwdGlvbnMuQWxyZWFkeVN0YXJ0RGVsaXZlcnlFeGNlcHRpb247\nCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuZXhjZXB0aW9ucy5O\nb1Jlc3BvbnNlSGFuZGxlckV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUu\naGVkd2lnLmNsaWVudC5oYW5kbGVycy5TdWJzY3JpYmVSZXNwb25zZUhhbmRs\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHkuQ2xl\nYW51cENoYW5uZWxNYXA7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGll\nbnQubmV0dHkuSENoYW5uZWw7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5j\nbGllbnQubmV0dHkuTmV0VXRpbHM7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdp\nZy5jbGllbnQubmV0dHkuaW1wbC5BYnN0cmFjdEhDaGFubmVsTWFuYWdlcjsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5uZXR0eS5pbXBsLkNs\naWVudENoYW5uZWxQaXBlbGluZUZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hl\nLmhlZHdpZy5jbGllbnQubmV0dHkuaW1wbC5IQ2hhbm5lbEhhbmRsZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHkuaW1wbC5IQ2hh\nbm5lbEltcGw7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5leGNlcHRpb25z\nLlB1YlN1YkV4Y2VwdGlvbi5DbGllbnROb3RTdWJzY3JpYmVkRXhjZXB0aW9u\nOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuZXhjZXB0aW9ucy5QdWJTdWJF\neGNlcHRpb24uU2VydmljZURvd25FeGNlcHRpb247CmltcG9ydCBvcmcuYXBh\nY2hlLmhlZHdpZy5leGNlcHRpb25zLlB1YlN1YkV4Y2VwdGlvbi5Ub3BpY0J1\nc3lFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2Nv\nbC5QdWJTdWJQcm90b2NvbC5SZXNwb25zZUJvZHk7CmltcG9ydCBvcmcuYXBh\nY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5PcGVyYXRpb25U\neXBlOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcudXRpbC5DYWxsYmFjazsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuRWl0aGVyOwppbXBvcnQg\nc3RhdGljIG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuVmFyQXJncy52YTsKCi8q\nKgogKiBTaW1wbGUgSENoYW5uZWwgTWFuYWdlciB3aGljaCBlc3RhYmxpc2gg\nYSBjb25uZWN0aW9uIGZvciBlYWNoIHN1YnNjcmlwdGlvbi4KICovCnB1Ymxp\nYyBjbGFzcyBTaW1wbGVIQ2hhbm5lbE1hbmFnZXIgZXh0ZW5kcyBBYnN0cmFj\ndEhDaGFubmVsTWFuYWdlciB7CgogICAgcHJpdmF0ZSBzdGF0aWMgTG9nZ2Vy\nIGxvZ2dlciA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFNpbXBsZUhDaGFu\nbmVsTWFuYWdlci5jbGFzcyk7CgogICAgLy8gQ29uY3VycmVudCBNYXAgdG8g\nc3RvcmUgdGhlIGNhY2hlZCBDaGFubmVsIGNvbm5lY3Rpb25zIG9uIHRoZSBj\nbGllbnQgc2lkZQogICAgLy8gdG8gYSBzZXJ2ZXIgaG9zdCBmb3IgYSBnaXZl\nbiBUb3BpYyArIFN1YnNjcmliZXJJZCBjb21iaW5hdGlvbi4gRm9yIGVhY2gK\nICAgIC8vIFRvcGljU3Vic2NyaWJlciwgd2Ugd2FudCBhIHVuaXF1ZSBDaGFu\nbmVsIGNvbm5lY3Rpb24gdG8gdGhlIHNlcnZlciBmb3IKICAgIC8vIGl0LiBX\nZSBjYW4gYWxzbyBnZXQgdGhlIFJlc3BvbnNlSGFuZGxlciB0aWVkIHRvIHRo\nZSBDaGFubmVsIHZpYSB0aGUKICAgIC8vIENoYW5uZWwgUGlwZWxpbmUuCiAg\nICBwcm90ZWN0ZWQgZmluYWwgQ2xlYW51cENoYW5uZWxNYXA8VG9waWNTdWJz\nY3JpYmVyPiB0b3BpY1N1YnNjcmliZXIyQ2hhbm5lbDsKCiAgICAvLyBDb25j\ndXJyZW50IE1hcCB0byBzdG9yZSBNZXNzYWdlIGhhbmRsZXIgZm9yIGVhY2gg\ndG9waWMgKyBzdWIgaWQgY29tYmluYXRpb24uCiAgICAvLyBTdG9yZSBpdCBo\nZXJlIGluc3RlYWQgb2YgaW4gU3Vic2NyaWJlclJlc3BvbnNlSGFuZGxlciBh\ncyB3ZSBkb24ndCB3YW50IHRvIGxvc2UgdGhlIGhhbmRsZXIKICAgIC8vIHVz\nZXIgc2V0IHdoZW4gY29ubmVjdGlvbiBpcyByZWNvdmVyZWQKICAgIHByb3Rl\nY3RlZCBmaW5hbCBDb25jdXJyZW50TWFwPFRvcGljU3Vic2NyaWJlciwgTWVz\nc2FnZUhhbmRsZXI+IHRvcGljU3Vic2NyaWJlcjJNZXNzYWdlSGFuZGxlcgog\nICAgICAgID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwPFRvcGljU3Vic2NyaWJl\nciwgTWVzc2FnZUhhbmRsZXI+KCk7CgogICAgLy8gUGlwZWxpbmVGYWN0b3J5\nIHRvIGNyZWF0ZSBzdWJzY3JpcHRpb24gbmV0dHkgY2hhbm5lbHMgdG8gdGhl\nIGFwcHJvcHJpYXRlIHNlcnZlcgogICAgcHJpdmF0ZSBmaW5hbCBDbGllbnRD\naGFubmVsUGlwZWxpbmVGYWN0b3J5IHN1YnNjcmlwdGlvbkNoYW5uZWxQaXBl\nbGluZUZhY3Rvcnk7CgogICAgcHVibGljIFNpbXBsZUhDaGFubmVsTWFuYWdl\ncihDbGllbnRDb25maWd1cmF0aW9uIGNmZywKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgQ2hhbm5lbEZhY3Rvcnkgc29ja2V0RmFjdG9yeSkg\newogICAgICAgIHN1cGVyKGNmZywgc29ja2V0RmFjdG9yeSk7CiAgICAgICAg\ndG9waWNTdWJzY3JpYmVyMkNoYW5uZWwgPSBuZXcgQ2xlYW51cENoYW5uZWxN\nYXA8VG9waWNTdWJzY3JpYmVyPigpOwogICAgICAgIHRoaXMuc3Vic2NyaXB0\naW9uQ2hhbm5lbFBpcGVsaW5lRmFjdG9yeSA9CiAgICAgICAgICAgIG5ldyBT\naW1wbGVTdWJzY3JpcHRpb25DaGFubmVsUGlwZWxpbmVGYWN0b3J5KGNmZywg\ndGhpcyk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBz\ndWJtaXRPcChmaW5hbCBQdWJTdWJEYXRhIHB1YlN1YkRhdGEpIHsKICAgICAg\nICAvKioKICAgICAgICAgKiBJbiB0aGUgc2ltcGxlIGhjaGFubmVsIGltcGxl\nbWVudGF0aW9uIHRoYXQgaWYgYSBjbGllbnQgY2xvc2VzIGEgc3Vic2NyaXB0\naW9uCiAgICAgICAgICogYW5kIHRyaWVzIHRvIGF0dGFjaCB0byBpdCBpbW1l\nZGlhdGVseSwgaXQgY291bGQgZ2V0IGEgVE9QSUNfQlVTWSByZXNwb25zZS4g\nVGhpcwogICAgICAgICAqIGlzIGJlY2F1c2UsIGEgc3Vic2NyaXB0aW9uIGlz\nIGNsb3NlZCBzaW1wbHkgYnkgY2xvc2luZyB0aGUgY2hhbm5lbCwgYW5kIHRo\nZSBodWIKICAgICAgICAgKiBzaWRlIG1heSBub3QgaGF2ZSBiZWVuIG5vdGlm\naWVkIG9mIHRoZSBjaGFubmVsIGRpc2Nvbm5lY3Rpb24gZXZlbnQgYnkgdGhl\nIHRpbWUKICAgICAgICAgKiB0aGUgbmV3IHN1YnNjcmlwdGlvbiByZXF1ZXN0\nIGNvbWVzIGluLiBUbyBzb2x2ZSB0aGlzLCByZXRyeSB1cCB0byA1IHRpbWVz\nLgogICAgICAgICAqIHtAbGluayBodHRwczovL2lzc3Vlcy5hcGFjaGUub3Jn\nL2ppcmEvYnJvd3NlL0JPT0tLRUVQRVItNTEzfQogICAgICAgICAqLwogICAg\nICAgIGlmIChPcGVyYXRpb25UeXBlLlNVQlNDUklCRS5lcXVhbHMocHViU3Vi\nRGF0YS5vcGVyYXRpb25UeXBlKSkgewogICAgICAgICAgICBmaW5hbCBDYWxs\nYmFjazxSZXNwb25zZUJvZHk+IG9yaWdDYiA9IHB1YlN1YkRhdGEuZ2V0Q2Fs\nbGJhY2soKTsKICAgICAgICAgICAgZmluYWwgQXRvbWljSW50ZWdlciByZXRy\naWVzID0gbmV3IEF0b21pY0ludGVnZXIoNSk7CiAgICAgICAgICAgIGZpbmFs\nIENhbGxiYWNrPFJlc3BvbnNlQm9keT4gd3JhcHBlckNiCiAgICAgICAgICAg\nICAgICA9IG5ldyBDYWxsYmFjazxSZXNwb25zZUJvZHk+KCkgewogICAgICAg\nICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgICAgICBwdWJsaWMgdm9p\nZCBvcGVyYXRpb25GaW5pc2hlZChPYmplY3QgY3R4LAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzcG9uc2VCb2R5\nIHJlc3VsdE9mT3BlcmF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgb3Jp\nZ0NiLm9wZXJhdGlvbkZpbmlzaGVkKGN0eCwgcmVzdWx0T2ZPcGVyYXRpb24p\nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEBPdmVycmlk\nZQogICAgICAgICAgICAgICAgcHVibGljIHZvaWQgb3BlcmF0aW9uRmFpbGVk\nKE9iamVjdCBjdHgsIFB1YlN1YkV4Y2VwdGlvbiBleGNlcHRpb24pIHsKICAg\nICAgICAgICAgICAgICAgICBpZiAoZXhjZXB0aW9uIGluc3RhbmNlb2YgU2Vy\ndmljZURvd25FeGNlcHRpb24KICAgICAgICAgICAgICAgICAgICAgICAgJiYg\nZXhjZXB0aW9uLmdldENhdXNlKCkgaW5zdGFuY2VvZiBUb3BpY0J1c3lFeGNl\ncHRpb24KICAgICAgICAgICAgICAgICAgICAgICAgJiYgcmV0cmllcy5kZWNy\nZW1lbnRBbmRHZXQoKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAg\nbG9nZ2VyLndhcm4oIlRPUElDX0RPV04gZnJvbSBzZXJ2ZXIgdXNpbmcgc2lt\ncGxlIGNoYW5uZWwgc2NoZW1lLiIKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgKyAiVGhpcyBjb3VsZCBiZSBkdWUgdG8gdGhlIGNoYW5u\nZWwgZGlzY29ubmVjdGlvbiBmcm9tIGEgY2xvc2UiCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICsgIiBub3QgaGF2aW5nIGJlZW4gdHJp\nZ2dlcmVkIG9uIHRoZSBzZXJ2ZXIgc2lkZS4gUmV0cnlpbmciKTsKICAgICAg\nICAgICAgICAgICAgICAgICAgU2ltcGxlSENoYW5uZWxNYW5hZ2VyLnN1cGVy\nLnN1Ym1pdE9wKHB1YlN1YkRhdGEpOwogICAgICAgICAgICAgICAgICAgICAg\nICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg\nICAgICAgIG9yaWdDYi5vcGVyYXRpb25GYWlsZWQoY3R4LCBleGNlcHRpb24p\nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAg\nICBwdWJTdWJEYXRhLnNldENhbGxiYWNrKHdyYXBwZXJDYik7CiAgICAgICAg\nfQogICAgICAgIHN1cGVyLnN1Ym1pdE9wKHB1YlN1YkRhdGEpOwogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIENsaWVudENoYW5uZWxQaXBl\nbGluZUZhY3RvcnkgZ2V0U3Vic2NyaXB0aW9uQ2hhbm5lbFBpcGVsaW5lRmFj\ndG9yeSgpIHsKICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uQ2hhbm5lbFBp\ncGVsaW5lRmFjdG9yeTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHByb3Rl\nY3RlZCBIQ2hhbm5lbCBjcmVhdGVBbmRTdG9yZVN1YnNjcmlwdGlvbkNoYW5u\nZWwoQ2hhbm5lbCBjaGFubmVsKSB7CiAgICAgICAgLy8gZm9yIHNpbXBsZSBj\naGFubmVsLCB3ZSBkb24ndCBzdG9yZSBzdWJzY3JpcHRpb24gY2hhbm5lbCBu\nb3cKICAgICAgICAvLyB3ZSBzdG9yZSBpdCB1bnRpbCB3ZSByZWNlaXZlZCBz\ndWNjZXNzIHJlc3BvbnNlCiAgICAgICAgSW5ldFNvY2tldEFkZHJlc3MgaG9z\ndCA9IE5ldFV0aWxzLmdldEhvc3RGcm9tQ2hhbm5lbChjaGFubmVsKTsKICAg\nICAgICByZXR1cm4gbmV3IEhDaGFubmVsSW1wbChob3N0LCBjaGFubmVsLCB0\naGlzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFN1YnNj\ncmlwdGlvbkNoYW5uZWxQaXBlbGluZUZhY3RvcnkoKSk7CiAgICB9CgogICAg\nQE92ZXJyaWRlCiAgICBwcm90ZWN0ZWQgSENoYW5uZWwgY3JlYXRlQW5kU3Rv\ncmVTdWJzY3JpcHRpb25DaGFubmVsKEluZXRTb2NrZXRBZGRyZXNzIGhvc3Qp\nIHsKICAgICAgICAvLyBmb3Igc2ltcGxlIGNoYW5uZWwsIHdlIGRvbid0IHN0\nb3JlIHN1YnNjcmlwdGlvbiBjaGFubmVsIG5vdwogICAgICAgIC8vIHdlIHN0\nb3JlIGl0IHVudGlsIHdlIHJlY2VpdmVkIHN1Y2Nlc3MgcmVzcG9uc2UKICAg\nICAgICByZXR1cm4gbmV3IEhDaGFubmVsSW1wbChob3N0LCB0aGlzLAogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFN1YnNjcmlwdGlvbkNo\nYW5uZWxQaXBlbGluZUZhY3RvcnkoKSk7CiAgICB9CgogICAgcHJvdGVjdGVk\nIEVpdGhlcjxCb29sZWFuLCBIQ2hhbm5lbD4gc3RvcmVTdWJzY3JpcHRpb25D\naGFubmVsKAogICAgICAgIFRvcGljU3Vic2NyaWJlciB0b3BpY1N1YnNjcmli\nZXIsIFB1YlN1YkRhdGEgdHhuLCBDaGFubmVsIGNoYW5uZWwpIHsKICAgICAg\nICBJbmV0U29ja2V0QWRkcmVzcyBob3N0ID0gTmV0VXRpbHMuZ2V0SG9zdEZy\nb21DaGFubmVsKGNoYW5uZWwpOwogICAgICAgIEhDaGFubmVsIG5ld0hDaGFu\nbmVsID0gbmV3IEhDaGFubmVsSW1wbChob3N0LCBjaGFubmVsLCB0aGlzLAog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICBnZXRTdWJzY3JpcHRpb25DaGFubmVsUGlwZWxpbmVGYWN0b3J5KCkpOwog\nICAgICAgIGJvb2xlYW4gcmVwbGFjZWQgPSB0b3BpY1N1YnNjcmliZXIyQ2hh\nbm5lbC5yZXBsYWNlQ2hhbm5lbCgKICAgICAgICAgICAgdG9waWNTdWJzY3Jp\nYmVyLCB0eG4uZ2V0T3JpZ2luYWxDaGFubmVsRm9yUmVzdWJzY3JpYmUoKSwg\nbmV3SENoYW5uZWwpOwogICAgICAgIGlmIChyZXBsYWNlZCkgewogICAgICAg\nICAgICByZXR1cm4gRWl0aGVyLm9mKHJlcGxhY2VkLCBuZXdIQ2hhbm5lbCk7\nCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIEVpdGhlci5v\nZihyZXBsYWNlZCwgbnVsbCk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVy\ncmlkZQogICAgcHJvdGVjdGVkIEhDaGFubmVsIGdldFN1YnNjcmlwdGlvbkNo\nYW5uZWwoSW5ldFNvY2tldEFkZHJlc3MgaG9zdCkgewogICAgICAgIHJldHVy\nbiBudWxsOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIEhD\naGFubmVsIGdldFN1YnNjcmlwdGlvbkNoYW5uZWxCeVRvcGljU3Vic2NyaWJl\ncihUb3BpY1N1YnNjcmliZXIgc3Vic2NyaWJlcikgewogICAgICAgIEhDaGFu\nbmVsIGNoYW5uZWwgPSB0b3BpY1N1YnNjcmliZXIyQ2hhbm5lbC5nZXRDaGFu\nbmVsKHN1YnNjcmliZXIpOwogICAgICAgIGlmIChudWxsICE9IGNoYW5uZWwp\nIHsKICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gY2hhbm5lbCBlc3RhYmxp\nc2hlZCBmb3IgdGhpcyBzdWJzY3JpcHRpb24KICAgICAgICAgICAgcmV0dXJu\nIGNoYW5uZWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgSW5ldFNv\nY2tldEFkZHJlc3MgaG9zdCA9IHRvcGljMkhvc3QuZ2V0KHN1YnNjcmliZXIu\nZ2V0VG9waWMoKSk7CiAgICAgICAgICAgIGlmIChudWxsID09IGhvc3QpIHsK\nICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9IGVs\nc2UgewogICAgICAgICAgICAgICAgY2hhbm5lbCA9IGdldFN1YnNjcmlwdGlv\nbkNoYW5uZWwoaG9zdCk7CiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBj\naGFubmVsKSB7CiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbCA9IGNyZWF0\nZUFuZFN0b3JlU3Vic2NyaXB0aW9uQ2hhbm5lbChob3N0KTsKICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBjaGFubmVsOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAg\ncHJvdGVjdGVkIHZvaWQgb25TdWJzY3JpcHRpb25DaGFubmVsRGlzY29ubmVj\ndGVkKEluZXRTb2NrZXRBZGRyZXNzIGhvc3QsCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbm5lbCBj\naGFubmVsKSB7CiAgICAgICAgbG9nZ2VyLmluZm8oIlN1YnNjcmlwdGlvbiBD\naGFubmVsIHt9IGRpc2Nvbm5lY3RlZCBmcm9tIHt9LiIsCiAgICAgICAgICAg\nICAgICAgICAgdmEoY2hhbm5lbCwgaG9zdCkpOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIC8vIGdldCBoY2hhbm5lbCBoYW5kbGVyCiAgICAgICAgICAg\nIEhDaGFubmVsSGFuZGxlciBjaGFubmVsSGFuZGxlciA9CiAgICAgICAgICAg\nICAgICBIQ2hhbm5lbEltcGwuZ2V0SENoYW5uZWxIYW5kbGVyRnJvbUNoYW5u\nZWwoY2hhbm5lbCk7CiAgICAgICAgICAgIGNoYW5uZWxIYW5kbGVyLmdldFN1\nYnNjcmliZVJlc3BvbnNlSGFuZGxlcigpCiAgICAgICAgICAgICAgICAgICAg\nICAgICAgLm9uQ2hhbm5lbERpc2Nvbm5lY3RlZChob3N0LCBjaGFubmVsKTsK\nICAgICAgICB9IGNhdGNoIChOb1Jlc3BvbnNlSGFuZGxlckV4Y2VwdGlvbiBu\ncmhlKSB7CiAgICAgICAgICAgIGxvZ2dlci53YXJuKCJObyBDaGFubmVsIEhh\nbmRsZXIgZm91bmQgZm9yIGNoYW5uZWwge30gd2hlbiBpdCBkaXNjb25uZWN0\nZWQuIiwKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbCk7CiAgICAg\nICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFN1YnNjcmli\nZVJlc3BvbnNlSGFuZGxlciBnZXRTdWJzY3JpYmVSZXNwb25zZUhhbmRsZXIo\nVG9waWNTdWJzY3JpYmVyIHRvcGljU3Vic2NyaWJlcikgewogICAgICAgIEhD\naGFubmVsIGhDaGFubmVsID0gdG9waWNTdWJzY3JpYmVyMkNoYW5uZWwuZ2V0\nQ2hhbm5lbCh0b3BpY1N1YnNjcmliZXIpOwogICAgICAgIGlmIChudWxsID09\nIGhDaGFubmVsKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAg\nIH0KICAgICAgICBDaGFubmVsIGNoYW5uZWwgPSBoQ2hhbm5lbC5nZXRDaGFu\nbmVsKCk7CiAgICAgICAgaWYgKG51bGwgPT0gY2hhbm5lbCkgewogICAgICAg\nICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgSENoYW5uZWxIYW5kbGVyIGNoYW5uZWxIYW5kbGVyID0KICAg\nICAgICAgICAgICAgIEhDaGFubmVsSW1wbC5nZXRIQ2hhbm5lbEhhbmRsZXJG\ncm9tQ2hhbm5lbChjaGFubmVsKTsKICAgICAgICAgICAgcmV0dXJuIGNoYW5u\nZWxIYW5kbGVyLmdldFN1YnNjcmliZVJlc3BvbnNlSGFuZGxlcigpOwogICAg\nICAgIH0gY2F0Y2ggKE5vUmVzcG9uc2VIYW5kbGVyRXhjZXB0aW9uIG5yaGUp\nIHsKICAgICAgICAgICAgbG9nZ2VyLndhcm4oIk5vIENoYW5uZWwgSGFuZGxl\nciBmb3VuZCBmb3IgY2hhbm5lbCB7fSwgdG9waWMgc3Vic2NyaWJlciB7fS4i\nLAogICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLCB0b3BpY1N1YnNj\ncmliZXIpOwogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9Cgog\nICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgc3RhcnREZWxp\ndmVyeShUb3BpY1N1YnNjcmliZXIgdG9waWNTdWJzY3JpYmVyLAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlSGFuZGxlciBtZXNzYWdl\nSGFuZGxlcikKICAgICAgICB0aHJvd3MgQ2xpZW50Tm90U3Vic2NyaWJlZEV4\nY2VwdGlvbiwgQWxyZWFkeVN0YXJ0RGVsaXZlcnlFeGNlcHRpb24gewogICAg\nICAgIHN0YXJ0RGVsaXZlcnkodG9waWNTdWJzY3JpYmVyLCBtZXNzYWdlSGFu\nZGxlciwgZmFsc2UpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHJvdGVj\ndGVkIHZvaWQgcmVzdGFydERlbGl2ZXJ5KFRvcGljU3Vic2NyaWJlciB0b3Bp\nY1N1YnNjcmliZXIpCiAgICAgICAgdGhyb3dzIENsaWVudE5vdFN1YnNjcmli\nZWRFeGNlcHRpb24sIEFscmVhZHlTdGFydERlbGl2ZXJ5RXhjZXB0aW9uIHsK\nICAgICAgICBzdGFydERlbGl2ZXJ5KHRvcGljU3Vic2NyaWJlciwgbnVsbCwg\ndHJ1ZSk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIHN0YXJ0RGVsaXZlcnko\nVG9waWNTdWJzY3JpYmVyIHRvcGljU3Vic2NyaWJlciwKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VIYW5kbGVyIG1lc3NhZ2VIYW5k\nbGVyLCBib29sZWFuIHJlc3RhcnQpCiAgICAgICAgdGhyb3dzIENsaWVudE5v\ndFN1YnNjcmliZWRFeGNlcHRpb24sIEFscmVhZHlTdGFydERlbGl2ZXJ5RXhj\nZXB0aW9uIHsKICAgICAgICAvLyBNYWtlIHN1cmUgd2Uga25vdyBhYm91dCB0\naGlzIHRvcGljIHN1YnNjcmlwdGlvbiBvbiB0aGUgY2xpZW50IHNpZGUKICAg\nICAgICAvLyBleGlzdHMuIFRoZSBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGNs\naWVudCBzaG91bGQgaGF2ZSBpbiBtZW1vcnkgdGhlCiAgICAgICAgLy8gQ2hh\nbm5lbCBjcmVhdGVkIGZvciB0aGUgVG9waWNTdWJzY3JpYmVyIG9uY2UgdGhl\nIHNlcnZlciBoYXMgc2VudAogICAgICAgIC8vIGFuIGFjayByZXNwb25zZSB0\nbyB0aGUgaW5pdGlhbCBzdWJzY3JpYmUgcmVxdWVzdC4KICAgICAgICBTdWJz\nY3JpYmVSZXNwb25zZUhhbmRsZXIgc3Vic2NyaWJlUmVzcG9uc2VIYW5kbGVy\nID0KICAgICAgICAgICAgZ2V0U3Vic2NyaWJlUmVzcG9uc2VIYW5kbGVyKHRv\ncGljU3Vic2NyaWJlcik7CiAgICAgICAgaWYgKG51bGwgPT0gc3Vic2NyaWJl\nUmVzcG9uc2VIYW5kbGVyIHx8CiAgICAgICAgICAgICFzdWJzY3JpYmVSZXNw\nb25zZUhhbmRsZXIuaGFzU3Vic2NyaXB0aW9uKHRvcGljU3Vic2NyaWJlcikp\nIHsKICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCJDbGllbnQgaXMgbm90IHll\ndCBzdWJzY3JpYmVkIHRvIHt9LiIsIHRvcGljU3Vic2NyaWJlcik7CiAgICAg\nICAgICAgIHRocm93IG5ldyBDbGllbnROb3RTdWJzY3JpYmVkRXhjZXB0aW9u\nKCJDbGllbnQgaXMgbm90IHlldCBzdWJzY3JpYmVkIHRvICIKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyB0\nb3BpY1N1YnNjcmliZXIpOwogICAgICAgIH0KCiAgICAgICAgTWVzc2FnZUhh\nbmRsZXIgZXhpc3RlZE1zZ0hhbmRsZXIgPSB0b3BpY1N1YnNjcmliZXIyTWVz\nc2FnZUhhbmRsZXIuZ2V0KHRvcGljU3Vic2NyaWJlcik7CiAgICAgICAgaWYg\nKHJlc3RhcnQpIHsKICAgICAgICAgICAgLy8gcmVzdGFydCB1c2luZyBleGlz\ndGluZyBtc2cgaGFuZGxlciAKICAgICAgICAgICAgbWVzc2FnZUhhbmRsZXIg\nPSBleGlzdGVkTXNnSGFuZGxlcjsKICAgICAgICB9IGVsc2UgewogICAgICAg\nICAgICAvLyBzb21lIGhhcyBzdGFydGVkIGRlbGl2ZXJ5IGJ1dCBub3Qgc3Rv\ncCBpdAogICAgICAgICAgICBpZiAobnVsbCAhPSBleGlzdGVkTXNnSGFuZGxl\ncikgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFscmVhZHlTdGFydERl\nbGl2ZXJ5RXhjZXB0aW9uKCJBIG1lc3NhZ2UgaGFuZGxlciBoYXMgYmVlbiBz\ndGFydGVkIGZvciB0b3BpYyBzdWJzY3JpYmVyICIgKyB0b3BpY1N1YnNjcmli\nZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChtZXNzYWdlSGFu\nZGxlciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSB0\nb3BpY1N1YnNjcmliZXIyTWVzc2FnZUhhbmRsZXIucHV0SWZBYnNlbnQodG9w\naWNTdWJzY3JpYmVyLCBtZXNzYWdlSGFuZGxlcikpIHsKICAgICAgICAgICAg\nICAgICAgICB0aHJvdyBuZXcgQWxyZWFkeVN0YXJ0RGVsaXZlcnlFeGNlcHRp\nb24oIlNvbWVvbmUgaXMgYWxzbyBzdGFydGluZyBkZWxpdmVyeSBmb3IgdG9w\naWMgc3Vic2NyaWJlciAiICsgdG9waWNTdWJzY3JpYmVyKTsKICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g\ndGVsbCBzdWJzY3JpYmUgcmVzcG9uc2UgaGFuZGxlciB0byBzdGFydCBkZWxp\ndmVyaW5nIG1lc3NhZ2VzIGZvciB0b3BpY1N1YnNjcmliZXIKICAgICAgICBz\ndWJzY3JpYmVSZXNwb25zZUhhbmRsZXIuc3RhcnREZWxpdmVyeSh0b3BpY1N1\nYnNjcmliZXIsIG1lc3NhZ2VIYW5kbGVyKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzdG9wRGVsaXZlcnkoVG9waWNTdWJzY3JpYmVyIHRvcGljU3Vic2Ny\naWJlcikKICAgIHRocm93cyBDbGllbnROb3RTdWJzY3JpYmVkRXhjZXB0aW9u\nIHsKICAgICAgICAvLyBNYWtlIHN1cmUgd2Uga25vdyB0aGF0IHRoaXMgdG9w\naWMgc3Vic2NyaXB0aW9uIG9uIHRoZSBjbGllbnQgc2lkZQogICAgICAgIC8v\nIGV4aXN0cy4gVGhlIGFzc3VtcHRpb24gaXMgdGhhdCB0aGUgY2xpZW50IHNo\nb3VsZCBoYXZlIGluIG1lbW9yeSB0aGUKICAgICAgICAvLyBDaGFubmVsIGNy\nZWF0ZWQgZm9yIHRoZSBUb3BpY1N1YnNjcmliZXIgb25jZSB0aGUgc2VydmVy\nIGhhcyBzZW50CiAgICAgICAgLy8gYW4gYWNrIHJlc3BvbnNlIHRvIHRoZSBp\nbml0aWFsIHN1YnNjcmliZSByZXF1ZXN0LgogICAgICAgIFN1YnNjcmliZVJl\nc3BvbnNlSGFuZGxlciBzdWJzY3JpYmVSZXNwb25zZUhhbmRsZXIgPQogICAg\nICAgICAgICBnZXRTdWJzY3JpYmVSZXNwb25zZUhhbmRsZXIodG9waWNTdWJz\nY3JpYmVyKTsKICAgICAgICBpZiAobnVsbCA9PSBzdWJzY3JpYmVSZXNwb25z\nZUhhbmRsZXIgfHwKICAgICAgICAgICAgIXN1YnNjcmliZVJlc3BvbnNlSGFu\nZGxlci5oYXNTdWJzY3JpcHRpb24odG9waWNTdWJzY3JpYmVyKSkgewogICAg\nICAgICAgICBsb2dnZXIuZXJyb3IoIkNsaWVudCBpcyBub3QgeWV0IHN1YnNj\ncmliZWQgdG8ge30uIiwgdG9waWNTdWJzY3JpYmVyKTsKICAgICAgICAgICAg\ndGhyb3cgbmV3IENsaWVudE5vdFN1YnNjcmliZWRFeGNlcHRpb24oIkNsaWVu\ndCBpcyBub3QgeWV0IHN1YnNjcmliZWQgdG8gIgogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIHRvcGljU3Vi\nc2NyaWJlcik7CiAgICAgICAgfQoKICAgICAgICAvLyB0ZWxsIHN1YnNjcmli\nZSByZXNwb25zZSBoYW5kbGVyIHRvIHN0b3AgZGVsaXZlcmluZyBtZXNzYWdl\ncyBmb3IgYSBnaXZlbiB0b3BpYyBzdWJzY3JpYmVyCiAgICAgICAgdG9waWNT\ndWJzY3JpYmVyMk1lc3NhZ2VIYW5kbGVyLnJlbW92ZSh0b3BpY1N1YnNjcmli\nZXIpOwogICAgICAgIHN1YnNjcmliZVJlc3BvbnNlSGFuZGxlci5zdG9wRGVs\naXZlcnkodG9waWNTdWJzY3JpYmVyKTsKICAgIH0KICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIAoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQg\nYXN5bmNDbG9zZVN1YnNjcmlwdGlvbihmaW5hbCBUb3BpY1N1YnNjcmliZXIg\ndG9waWNTdWJzY3JpYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBmaW5hbCBDYWxsYmFjazxSZXNwb25zZUJvZHk+IGNhbGxi\nYWNrLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBm\naW5hbCBPYmplY3QgY29udGV4dCkgewogICAgICAgIEhDaGFubmVsIGhDaGFu\nbmVsID0gdG9waWNTdWJzY3JpYmVyMkNoYW5uZWwucmVtb3ZlQ2hhbm5lbCh0\nb3BpY1N1YnNjcmliZXIpOwogICAgICAgIGlmIChudWxsID09IGhDaGFubmVs\nKSB7CiAgICAgICAgICAgIGxvZ2dlci53YXJuKCJUcnlpbmcgdG8gY2xvc2Ug\nYSBzdWJzY3JpcHRpb24gd2hlbiB3ZSBkb24ndCBoYXZlIGEgc3Vic2NyaWJl\nIGNoYW5uZWwgY2FjaGVkIGZvciB7fSIsCiAgICAgICAgICAgICAgICAgICAg\nICAgIHRvcGljU3Vic2NyaWJlcik7CiAgICAgICAgICAgIGNhbGxiYWNrLm9w\nZXJhdGlvbkZpbmlzaGVkKGNvbnRleHQsIChSZXNwb25zZUJvZHkpbnVsbCk7\nCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIENoYW5u\nZWwgY2hhbm5lbCA9IGhDaGFubmVsLmdldENoYW5uZWwoKTsKICAgICAgICBp\nZiAobnVsbCA9PSBjaGFubmVsKSB7CiAgICAgICAgICAgIGNhbGxiYWNrLm9w\nZXJhdGlvbkZpbmlzaGVkKGNvbnRleHQsIChSZXNwb25zZUJvZHkpbnVsbCk7\nCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIEhDaGFubmVsSW1wbC5nZXRIQ2hhbm5lbEhhbmRsZXJG\ncm9tQ2hhbm5lbChjaGFubmVsKS5jbG9zZUV4cGxpY2l0bHkoKTsKICAgICAg\nICB9IGNhdGNoIChOb1Jlc3BvbnNlSGFuZGxlckV4Y2VwdGlvbiBucmhlKSB7\nCiAgICAgICAgICAgIGxvZ2dlci53YXJuKCJObyBDaGFubmVsIEhhbmRsZXIg\nZm91bmQgd2hlbiBjbG9zaW5nIHt9J3MgY2hhbm5lbCB7fS4iLAogICAgICAg\nICAgICAgICAgICAgICAgICBjaGFubmVsLCB0b3BpY1N1YnNjcmliZXIpOwog\nICAgICAgIH0KICAgICAgICBDaGFubmVsRnV0dXJlIGZ1dHVyZSA9IGNoYW5u\nZWwuY2xvc2UoKTsKICAgICAgICBmdXR1cmUuYWRkTGlzdGVuZXIobmV3IENo\nYW5uZWxGdXR1cmVMaXN0ZW5lcigpIHsKICAgICAgICAgICAgQE92ZXJyaWRl\nCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9wZXJhdGlvbkNvbXBsZXRlKENo\nYW5uZWxGdXR1cmUgZnV0dXJlKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAg\nICAgICAgICAgIGlmICghZnV0dXJlLmlzU3VjY2VzcygpKSB7CiAgICAgICAg\nICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCJGYWlsZWQgdG8gY2xvc2UgdGhl\nIHN1YnNjcmlwdGlvbiBjaGFubmVsIGZvciB7fSIsCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIHRvcGljU3Vic2NyaWJlcik7CiAgICAgICAg\nICAgICAgICAgICAgY2FsbGJhY2sub3BlcmF0aW9uRmFpbGVkKGNvbnRleHQs\nIG5ldyBTZXJ2aWNlRG93bkV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAg\nICAgICAgIkZhaWxlZCB0byBjbG9zZSB0aGUgc3Vic2NyaXB0aW9uIGNoYW5u\nZWwgZm9yICIgKyB0b3BpY1N1YnNjcmliZXIpKTsKICAgICAgICAgICAgICAg\nIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sub3BlcmF0\naW9uRmluaXNoZWQoY29udGV4dCwgKFJlc3BvbnNlQm9keSludWxsKTsKICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAg\nfQoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgY2hlY2tUaW1l\nb3V0UmVxdWVzdHNPblN1YnNjcmlwdGlvbkNoYW5uZWxzKCkgewogICAgICAg\nIC8vIHRpbWVvdXQgdGFzayBtYXkgYmUgc3RhcnRlZCBiZWZvcmUgY29uc3Ry\ndWN0aW5nIHRvcGljU3Vic2NyaWJlcjJDaGFubmVsCiAgICAgICAgaWYgKG51\nbGwgPT0gdG9waWNTdWJzY3JpYmVyMkNoYW5uZWwpIHsKICAgICAgICAgICAg\ncmV0dXJuOwogICAgICAgIH0KICAgICAgICBmb3IgKEhDaGFubmVsIGNoYW5u\nZWwgOiB0b3BpY1N1YnNjcmliZXIyQ2hhbm5lbC5nZXRDaGFubmVscygpKSB7\nCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBIQ2hhbm5lbEhh\nbmRsZXIgY2hhbm5lbEhhbmRsZXIgPQogICAgICAgICAgICAgICAgICAgIEhD\naGFubmVsSW1wbC5nZXRIQ2hhbm5lbEhhbmRsZXJGcm9tQ2hhbm5lbChjaGFu\nbmVsLmdldENoYW5uZWwoKSk7CiAgICAgICAgICAgICAgICBjaGFubmVsSGFu\nZGxlci5jaGVja1RpbWVvdXRSZXF1ZXN0cygpOwogICAgICAgICAgICB9IGNh\ndGNoIChOb1Jlc3BvbnNlSGFuZGxlckV4Y2VwdGlvbiBucmhlKSB7CiAgICAg\nICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgIH0K\nICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIGNsb3Nl\nU3Vic2NyaXB0aW9uQ2hhbm5lbHMoKSB7CiAgICAgICAgdG9waWNTdWJzY3Jp\nYmVyMkNoYW5uZWwuY2xvc2UoKTsKICAgIH0KfQo=\n","encoding":"base64"}

