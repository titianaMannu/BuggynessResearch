{"sha":"bc417951a1d0921ac565b0733995088540dec95e","node_id":"MDQ6QmxvYjE1NzU5NTY6YmM0MTc5NTFhMWQwOTIxYWM1NjViMDczMzk5NTA4ODU0MGRlYzk1ZQ==","size":4073,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/bc417951a1d0921ac565b0733995088540dec95e","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy51dGlsOwoKaW1wb3J0IGphdmEubmV0\nLkluZXRTb2NrZXRBZGRyZXNzOwoKaW1wb3J0IGp1bml0LmZyYW1ld29yay5U\nZXN0Q2FzZTsKCmltcG9ydCBvcmcuanVuaXQuVGVzdDsKCnB1YmxpYyBjbGFz\ncyBUZXN0SGVkd2lnU29ja2V0QWRkcmVzcyBleHRlbmRzIFRlc3RDYXNlIHsK\nCiAgICAvLyBDb21tb24gdmFsdWVzIHVzZWQgYnkgdGVzdHMKICAgIHByaXZh\ndGUgU3RyaW5nIGhvc3RuYW1lID0gImxvY2FsaG9zdCI7CiAgICBwcml2YXRl\nIGludCBwb3J0ID0gNDA4MDsKICAgIHByaXZhdGUgaW50IHNzbFBvcnQgPSA5\nODc2OwogICAgcHJpdmF0ZSBpbnQgaW52YWxpZFBvcnQgPSAtOTk5OTsKICAg\nIHByaXZhdGUgU3RyaW5nIENPTE9OID0gIjoiOwoKICAgIEBUZXN0KHRpbWVv\ndXQ9NjAwMDApCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q3JlYXRlV2l0aFNTTFBv\ncnQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBIZWR3aWdTb2NrZXRB\nZGRyZXNzIGFkZHIgPSBuZXcgSGVkd2lnU29ja2V0QWRkcmVzcyhob3N0bmFt\nZSwgcG9ydCwgc3NsUG9ydCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShhZGRyLmdl\ndFNvY2tldEFkZHJlc3MoKS5lcXVhbHMobmV3IEluZXRTb2NrZXRBZGRyZXNz\nKGhvc3RuYW1lLCBwb3J0KSkpOwogICAgICAgIGFzc2VydFRydWUoYWRkci5n\nZXRTU0xTb2NrZXRBZGRyZXNzKCkuZXF1YWxzKG5ldyBJbmV0U29ja2V0QWRk\ncmVzcyhob3N0bmFtZSwgc3NsUG9ydCkpKTsKICAgIH0KCiAgICBAVGVzdCh0\naW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQgdGVzdENyZWF0ZVdpdGhO\nb1NTTFBvcnQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBIZWR3aWdT\nb2NrZXRBZGRyZXNzIGFkZHIgPSBuZXcgSGVkd2lnU29ja2V0QWRkcmVzcyho\nb3N0bmFtZSwgcG9ydCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShhZGRyLmdldFNv\nY2tldEFkZHJlc3MoKS5lcXVhbHMobmV3IEluZXRTb2NrZXRBZGRyZXNzKGhv\nc3RuYW1lLCBwb3J0KSkpOwogICAgICAgIGFzc2VydFRydWUoYWRkci5nZXRT\nU0xTb2NrZXRBZGRyZXNzKCkgPT0gbnVsbCk7CiAgICB9CgogICAgQFRlc3Qo\ndGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lkIHRlc3RDcmVhdGVGcm9t\nU3RyaW5nV2l0aFNTTFBvcnQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAg\nICBIZWR3aWdTb2NrZXRBZGRyZXNzIGFkZHIgPSBuZXcgSGVkd2lnU29ja2V0\nQWRkcmVzcyhob3N0bmFtZStDT0xPTitwb3J0K0NPTE9OK3NzbFBvcnQpOwog\nICAgICAgIGFzc2VydFRydWUoYWRkci5nZXRTb2NrZXRBZGRyZXNzKCkuZXF1\nYWxzKG5ldyBJbmV0U29ja2V0QWRkcmVzcyhob3N0bmFtZSwgcG9ydCkpKTsK\nICAgICAgICBhc3NlcnRUcnVlKGFkZHIuZ2V0U1NMU29ja2V0QWRkcmVzcygp\nLmVxdWFscyhuZXcgSW5ldFNvY2tldEFkZHJlc3MoaG9zdG5hbWUsIHNzbFBv\ncnQpKSk7CiAgICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1\nYmxpYyB2b2lkIHRlc3RDcmVhdGVGcm9tU3RyaW5nV2l0aE5vU1NMUG9ydCgp\nIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIEhlZHdpZ1NvY2tldEFkZHJl\nc3MgYWRkciA9IG5ldyBIZWR3aWdTb2NrZXRBZGRyZXNzKGhvc3RuYW1lK0NP\nTE9OK3BvcnQpOwogICAgICAgIGFzc2VydFRydWUoYWRkci5nZXRTb2NrZXRB\nZGRyZXNzKCkuZXF1YWxzKG5ldyBJbmV0U29ja2V0QWRkcmVzcyhob3N0bmFt\nZSwgcG9ydCkpKTsKICAgICAgICBhc3NlcnRUcnVlKGFkZHIuZ2V0U1NMU29j\na2V0QWRkcmVzcygpID09IG51bGwpOwogICAgfQoKICAgIEBUZXN0KHRpbWVv\ndXQ9NjAwMDApCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q3JlYXRlV2l0aEludmFs\naWRSZWd1bGFyUG9ydCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGJv\nb2xlYW4gc3VjY2VzcyA9IGZhbHNlOwogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIG5ldyBIZWR3aWdTb2NrZXRBZGRyZXNzKGhvc3RuYW1lK0NPTE9OK2lu\ndmFsaWRQb3J0KTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKElsbGVnYWxB\ncmd1bWVudEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0\ncnVlOwogICAgICAgIH0KICAgICAgICBhc3NlcnRUcnVlKHN1Y2Nlc3MpOwog\nICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Q3JlYXRlV2l0aEludmFsaWRTU0xQb3J0KCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0gZmFsc2U7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgbmV3IEhlZHdpZ1NvY2tldEFkZHJlc3Mo\naG9zdG5hbWUsIHBvcnQsIGludmFsaWRQb3J0KTsKICAgICAgICB9CiAgICAg\nICAgY2F0Y2ggKElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBlKSB7CiAgICAg\nICAgICAgIHN1Y2Nlc3MgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBhc3Nl\ncnRUcnVlKHN1Y2Nlc3MpOwogICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAw\nMDApCiAgICBwdWJsaWMgdm9pZCB0ZXN0VG9TdHJpbmdDb252ZXJzaW9uKCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgSGVkd2lnU29ja2V0QWRkcmVz\ncyBhZGRyID0gbmV3IEhlZHdpZ1NvY2tldEFkZHJlc3MoaG9zdG5hbWUsIHBv\ncnQsIHNzbFBvcnQpOwogICAgICAgIEhlZHdpZ1NvY2tldEFkZHJlc3MgYWRk\ncjIgPSBuZXcgSGVkd2lnU29ja2V0QWRkcmVzcyhhZGRyLnRvU3RyaW5nKCkp\nOwogICAgICAgIGFzc2VydFRydWUoYWRkci5nZXRTb2NrZXRBZGRyZXNzKCku\nZXF1YWxzKGFkZHIyLmdldFNvY2tldEFkZHJlc3MoKSkpOwogICAgICAgIGFz\nc2VydFRydWUoYWRkci5nZXRTU0xTb2NrZXRBZGRyZXNzKCkuZXF1YWxzKGFk\nZHIyLmdldFNTTFNvY2tldEFkZHJlc3MoKSkpOwogICAgICAgIGFkZHIudG9T\ndHJpbmcoKS5lcXVhbHMoYWRkcjIudG9TdHJpbmcoKSk7CiAgICB9CgogICAg\nQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lkIHRlc3RJc1NT\nTEVuYWJsZWRGbGFnKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgSGVk\nd2lnU29ja2V0QWRkcmVzcyBzc2xBZGRyID0gbmV3IEhlZHdpZ1NvY2tldEFk\nZHJlc3MoaG9zdG5hbWUsIHBvcnQsIHNzbFBvcnQpOwogICAgICAgIGFzc2Vy\ndFRydWUoc3NsQWRkci5pc1NTTEVuYWJsZWQoKSk7CiAgICAgICAgSGVkd2ln\nU29ja2V0QWRkcmVzcyBhZGRyID0gbmV3IEhlZHdpZ1NvY2tldEFkZHJlc3Mo\naG9zdG5hbWUsIHBvcnQpOwogICAgICAgIGFzc2VydEZhbHNlKGFkZHIuaXNT\nU0xFbmFibGVkKCkpOwogICAgfQoKfQo=\n","encoding":"base64"}

