{"sha":"2e8dc0909ae31d579f61c57aa2b05e65ffd72d4b","node_id":"MDQ6QmxvYjE1NzU5NTY6MmU4ZGMwOTA5YWUzMWQ1NzlmNjFjNTdhYTJiMDVlNjVmZmQ3MmQ0Yg==","size":9800,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/2e8dc0909ae31d579f61c57aa2b05e65ffd72d4b","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5leGNlcHRpb25zOwoKaW1wb3J0IGph\ndmEudXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9y\nOwoKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnByb3RvY29sLlB1YlN1YlBy\nb3RvY29sLlN0YXR1c0NvZGU7CgpAU3VwcHJlc3NXYXJuaW5ncygic2VyaWFs\nIikKcHVibGljIGFic3RyYWN0IGNsYXNzIFB1YlN1YkV4Y2VwdGlvbiBleHRl\nbmRzIEV4Y2VwdGlvbiB7CiAgICBwcm90ZWN0ZWQgU3RhdHVzQ29kZSBjb2Rl\nOwoKICAgIHByb3RlY3RlZCBQdWJTdWJFeGNlcHRpb24oU3RhdHVzQ29kZSBj\nb2RlLCBTdHJpbmcgbXNnKSB7CiAgICAgICAgc3VwZXIobXNnKTsKICAgICAg\nICB0aGlzLmNvZGUgPSBjb2RlOwogICAgfQoKICAgIHByb3RlY3RlZCBQdWJT\ndWJFeGNlcHRpb24oU3RhdHVzQ29kZSBjb2RlLCBUaHJvd2FibGUgdCkgewog\nICAgICAgIHN1cGVyKHQpOwogICAgICAgIHRoaXMuY29kZSA9IGNvZGU7CiAg\nICB9CgogICAgcHJvdGVjdGVkIFB1YlN1YkV4Y2VwdGlvbihTdGF0dXNDb2Rl\nIGNvZGUsIFN0cmluZyBtc2csIFRocm93YWJsZSB0KSB7CiAgICAgICAgc3Vw\nZXIobXNnLCB0KTsKICAgICAgICB0aGlzLmNvZGUgPSBjb2RlOwogICAgfQoK\nICAgIHB1YmxpYyBzdGF0aWMgUHViU3ViRXhjZXB0aW9uIGNyZWF0ZShTdGF0\ndXNDb2RlIGNvZGUsIFN0cmluZyBtc2cpIHsKICAgICAgICBpZiAoY29kZSA9\nPSBTdGF0dXNDb2RlLkNMSUVOVF9BTFJFQURZX1NVQlNDUklCRUQpIHsKICAg\nICAgICAgICAgcmV0dXJuIG5ldyBDbGllbnRBbHJlYWR5U3Vic2NyaWJlZEV4\nY2VwdGlvbihtc2cpOwogICAgICAgIH0gZWxzZSBpZiAoY29kZSA9PSBTdGF0\ndXNDb2RlLkNMSUVOVF9OT1RfU1VCU0NSSUJFRCkgewogICAgICAgICAgICBy\nZXR1cm4gbmV3IENsaWVudE5vdFN1YnNjcmliZWRFeGNlcHRpb24obXNnKTsK\nICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT0gU3RhdHVzQ29kZS5NQUxGT1JN\nRURfUkVRVUVTVCkgewogICAgICAgICAgICByZXR1cm4gbmV3IE1hbGZvcm1l\nZFJlcXVlc3RFeGNlcHRpb24obXNnKTsKICAgICAgICB9IGVsc2UgaWYgKGNv\nZGUgPT0gU3RhdHVzQ29kZS5OT19TVUNIX1RPUElDKSB7CiAgICAgICAgICAg\nIHJldHVybiBuZXcgTm9TdWNoVG9waWNFeGNlcHRpb24obXNnKTsKICAgICAg\nICB9IGVsc2UgaWYgKGNvZGUgPT0gU3RhdHVzQ29kZS5OT1RfUkVTUE9OU0lC\nTEVfRk9SX1RPUElDKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgU2VydmVy\nTm90UmVzcG9uc2libGVGb3JUb3BpY0V4Y2VwdGlvbihtc2cpOwogICAgICAg\nIH0gZWxzZSBpZiAoY29kZSA9PSBTdGF0dXNDb2RlLlNFUlZJQ0VfRE9XTikg\newogICAgICAgICAgICByZXR1cm4gbmV3IFNlcnZpY2VEb3duRXhjZXB0aW9u\nKG1zZyk7CiAgICAgICAgfSBlbHNlIGlmIChjb2RlID09IFN0YXR1c0NvZGUu\nQ09VTERfTk9UX0NPTk5FQ1QpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBD\nb3VsZE5vdENvbm5lY3RFeGNlcHRpb24obXNnKTsKICAgICAgICB9IGVsc2Ug\naWYgKGNvZGUgPT0gU3RhdHVzQ29kZS5UT1BJQ19CVVNZKSB7CiAgICAgICAg\nICAgIHJldHVybiBuZXcgVG9waWNCdXN5RXhjZXB0aW9uKG1zZyk7CiAgICAg\nICAgfSBlbHNlIGlmIChjb2RlID09IFN0YXR1c0NvZGUuQkFEX1ZFUlNJT04p\nIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBCYWRWZXJzaW9uRXhjZXB0aW9u\nKG1zZyk7CiAgICAgICAgfSBlbHNlIGlmIChjb2RlID09IFN0YXR1c0NvZGUu\nTk9fVE9QSUNfUEVSU0lTVEVOQ0VfSU5GTykgewogICAgICAgICAgICByZXR1\ncm4gbmV3IE5vVG9waWNQZXJzaXN0ZW5jZUluZm9FeGNlcHRpb24obXNnKTsK\nICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT0gU3RhdHVzQ29kZS5UT1BJQ19Q\nRVJTSVNURU5DRV9JTkZPX0VYSVNUUykgewogICAgICAgICAgICByZXR1cm4g\nbmV3IFRvcGljUGVyc2lzdGVuY2VJbmZvRXhpc3RzRXhjZXB0aW9uKG1zZyk7\nCiAgICAgICAgfSBlbHNlIGlmIChjb2RlID09IFN0YXR1c0NvZGUuTk9fU1VC\nU0NSSVBUSU9OX1NUQVRFKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgTm9T\ndWJzY3JpcHRpb25TdGF0ZUV4Y2VwdGlvbihtc2cpOwogICAgICAgIH0gZWxz\nZSBpZiAoY29kZSA9PSBTdGF0dXNDb2RlLlNVQlNDUklQVElPTl9TVEFURV9F\nWElTVFMpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb25T\ndGF0ZUV4aXN0c0V4Y2VwdGlvbihtc2cpOwogICAgICAgIH0gZWxzZSBpZiAo\nY29kZSA9PSBTdGF0dXNDb2RlLk5PX1RPUElDX09XTkVSX0lORk8pIHsKICAg\nICAgICAgICAgcmV0dXJuIG5ldyBOb1RvcGljT3duZXJJbmZvRXhjZXB0aW9u\nKG1zZyk7CiAgICAgICAgfSBlbHNlIGlmIChjb2RlID09IFN0YXR1c0NvZGUu\nVE9QSUNfT1dORVJfSU5GT19FWElTVFMpIHsKICAgICAgICAgICAgcmV0dXJu\nIG5ldyBUb3BpY093bmVySW5mb0V4aXN0c0V4Y2VwdGlvbihtc2cpOwogICAg\nICAgIH0gZWxzZSBpZiAoY29kZSA9PSBTdGF0dXNDb2RlLklOVkFMSURfTUVT\nU0FHRV9GSUxURVIpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZhbGlk\nTWVzc2FnZUZpbHRlckV4Y2VwdGlvbihtc2cpOwogICAgICAgIH0gZWxzZSBp\nZiAoY29kZSA9PSBTdGF0dXNDb2RlLlJFU1VCU0NSSUJFX0VYQ0VQVElPTikg\newogICAgICAgICAgICByZXR1cm4gbmV3IFJlc3Vic2NyaWJlRXhjZXB0aW9u\nKG1zZyk7CiAgICAgICAgfQogICAgICAgIC8qCiAgICAgICAgICogSW5zZXJ0\nIG5ldyBvbmVzIGhlcmUKICAgICAgICAgKi8KICAgICAgICBlbHNlIGlmIChj\nb2RlID09IFN0YXR1c0NvZGUuVU5DRVJUQUlOX1NUQVRFKSB7CiAgICAgICAg\nICAgIHJldHVybiBuZXcgVW5jZXJ0YWluU3RhdGVFeGNlcHRpb24obXNnKTsK\nICAgICAgICB9CiAgICAgICAgLy8gRmluYWxseSB0aGUgY2F0Y2ggYWxsIGV4\nY2VwdGlvbiAoZm9yIHVuZXhwZWN0ZWQgZXJyb3IgY29uZGl0aW9ucykKICAg\nICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBVbmV4cGVjdGVk\nQ29uZGl0aW9uRXhjZXB0aW9uKCJVbmtub3cgc3RhdHVzIGNvZGU6IiArIGNv\nZGUuZ2V0TnVtYmVyKCkgKyAiLCBtc2c6ICIgKyBtc2cpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgU3RhdHVzQ29kZSBnZXRDb2RlKCkgewogICAg\nICAgIHJldHVybiBjb2RlOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xh\nc3MgQ2xpZW50QWxyZWFkeVN1YnNjcmliZWRFeGNlcHRpb24gZXh0ZW5kcyBQ\ndWJTdWJFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBDbGllbnRBbHJlYWR5\nU3Vic2NyaWJlZEV4Y2VwdGlvbihTdHJpbmcgbXNnKSB7CiAgICAgICAgICAg\nIHN1cGVyKFN0YXR1c0NvZGUuQ0xJRU5UX0FMUkVBRFlfU1VCU0NSSUJFRCwg\nbXNnKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBjbGFz\ncyBDbGllbnROb3RTdWJzY3JpYmVkRXhjZXB0aW9uIGV4dGVuZHMgUHViU3Vi\nRXhjZXB0aW9uIHsKICAgICAgICBwdWJsaWMgQ2xpZW50Tm90U3Vic2NyaWJl\nZEV4Y2VwdGlvbihTdHJpbmcgbXNnKSB7CiAgICAgICAgICAgIHN1cGVyKFN0\nYXR1c0NvZGUuQ0xJRU5UX05PVF9TVUJTQ1JJQkVELCBtc2cpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIFJlc3Vic2NyaWJl\nRXhjZXB0aW9uIGV4dGVuZHMgUHViU3ViRXhjZXB0aW9uIHsKICAgICAgICBw\ndWJsaWMgUmVzdWJzY3JpYmVFeGNlcHRpb24oU3RyaW5nIG1zZykgewogICAg\nICAgICAgICBzdXBlcihTdGF0dXNDb2RlLlJFU1VCU0NSSUJFX0VYQ0VQVElP\nTiwgbXNnKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBj\nbGFzcyBNYWxmb3JtZWRSZXF1ZXN0RXhjZXB0aW9uIGV4dGVuZHMgUHViU3Vi\nRXhjZXB0aW9uIHsKICAgICAgICBwdWJsaWMgTWFsZm9ybWVkUmVxdWVzdEV4\nY2VwdGlvbihTdHJpbmcgbXNnKSB7CiAgICAgICAgICAgIHN1cGVyKFN0YXR1\nc0NvZGUuTUFMRk9STUVEX1JFUVVFU1QsIG1zZyk7CiAgICAgICAgfQogICAg\nfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgTm9TdWNoVG9waWNFeGNlcHRp\nb24gZXh0ZW5kcyBQdWJTdWJFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBO\nb1N1Y2hUb3BpY0V4Y2VwdGlvbihTdHJpbmcgbXNnKSB7CiAgICAgICAgICAg\nIHN1cGVyKFN0YXR1c0NvZGUuTk9fU1VDSF9UT1BJQywgbXNnKTsKICAgICAg\nICB9CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBjbGFzcyBTZXJ2ZXJOb3RS\nZXNwb25zaWJsZUZvclRvcGljRXhjZXB0aW9uIGV4dGVuZHMgUHViU3ViRXhj\nZXB0aW9uIHsKICAgICAgICAvLyBOb3RlIHRoZSBleGNlcHRpb24gbWVzc2Fn\nZSBzZXJ2ZXMgYXMgdGhlIG5hbWUgb2YgdGhlIHJlc3BvbnNpYmxlIGhvc3QK\nICAgICAgICBwdWJsaWMgU2VydmVyTm90UmVzcG9uc2libGVGb3JUb3BpY0V4\nY2VwdGlvbihTdHJpbmcgcmVzcG9uc2libGVIb3N0KSB7CiAgICAgICAgICAg\nIHN1cGVyKFN0YXR1c0NvZGUuTk9UX1JFU1BPTlNJQkxFX0ZPUl9UT1BJQywg\ncmVzcG9uc2libGVIb3N0KTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGlj\nIHN0YXRpYyBjbGFzcyBUb3BpY0J1c3lFeGNlcHRpb24gZXh0ZW5kcyBQdWJT\ndWJFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBUb3BpY0J1c3lFeGNlcHRp\nb24oU3RyaW5nIG1zZykgewogICAgICAgICAgICBzdXBlcihTdGF0dXNDb2Rl\nLlRPUElDX0JVU1ksIG1zZyk7CiAgICAgICAgfQogICAgfQoKICAgIHB1Ymxp\nYyBzdGF0aWMgY2xhc3MgU2VydmljZURvd25FeGNlcHRpb24gZXh0ZW5kcyBQ\ndWJTdWJFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBTZXJ2aWNlRG93bkV4\nY2VwdGlvbihTdHJpbmcgbXNnKSB7CiAgICAgICAgICAgIHN1cGVyKFN0YXR1\nc0NvZGUuU0VSVklDRV9ET1dOLCBtc2cpOwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIFNlcnZpY2VEb3duRXhjZXB0aW9uKEV4Y2VwdGlvbiBlKSB7CiAg\nICAgICAgICAgIHN1cGVyKFN0YXR1c0NvZGUuU0VSVklDRV9ET1dOLCBlKTsK\nICAgICAgICB9CgogICAgICAgIHB1YmxpYyBTZXJ2aWNlRG93bkV4Y2VwdGlv\nbihTdHJpbmcgbXNnLCBUaHJvd2FibGUgdCkgewogICAgICAgICAgICBzdXBl\ncihTdGF0dXNDb2RlLlNFUlZJQ0VfRE9XTiwgbXNnLCB0KTsKICAgICAgICB9\nCiAgICB9CgogICAgcHVibGljIHN0YXRpYyBjbGFzcyBDb3VsZE5vdENvbm5l\nY3RFeGNlcHRpb24gZXh0ZW5kcyBQdWJTdWJFeGNlcHRpb24gewogICAgICAg\nIHB1YmxpYyBDb3VsZE5vdENvbm5lY3RFeGNlcHRpb24oU3RyaW5nIG1zZykg\newogICAgICAgICAgICBzdXBlcihTdGF0dXNDb2RlLkNPVUxEX05PVF9DT05O\nRUNULCBtc2cpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGlj\nIGNsYXNzIEJhZFZlcnNpb25FeGNlcHRpb24gZXh0ZW5kcyBQdWJTdWJFeGNl\ncHRpb24gewogICAgICAgIHB1YmxpYyBCYWRWZXJzaW9uRXhjZXB0aW9uKFN0\ncmluZyBtc2cpIHsKICAgICAgICAgICAgc3VwZXIoU3RhdHVzQ29kZS5CQURf\nVkVSU0lPTiwgbXNnKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyBjbGFzcyBOb1RvcGljUGVyc2lzdGVuY2VJbmZvRXhjZXB0aW9uIGV4\ndGVuZHMgUHViU3ViRXhjZXB0aW9uIHsKICAgICAgICBwdWJsaWMgTm9Ub3Bp\nY1BlcnNpc3RlbmNlSW5mb0V4Y2VwdGlvbihTdHJpbmcgbXNnKSB7CiAgICAg\nICAgICAgIHN1cGVyKFN0YXR1c0NvZGUuTk9fVE9QSUNfUEVSU0lTVEVOQ0Vf\nSU5GTywgbXNnKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0YXRp\nYyBjbGFzcyBUb3BpY1BlcnNpc3RlbmNlSW5mb0V4aXN0c0V4Y2VwdGlvbiBl\neHRlbmRzIFB1YlN1YkV4Y2VwdGlvbiB7CiAgICAgICAgcHVibGljIFRvcGlj\nUGVyc2lzdGVuY2VJbmZvRXhpc3RzRXhjZXB0aW9uKFN0cmluZyBtc2cpIHsK\nICAgICAgICAgICAgc3VwZXIoU3RhdHVzQ29kZS5UT1BJQ19QRVJTSVNURU5D\nRV9JTkZPX0VYSVNUUywgbXNnKTsKICAgICAgICB9CiAgICB9CgogICAgcHVi\nbGljIHN0YXRpYyBjbGFzcyBOb1N1YnNjcmlwdGlvblN0YXRlRXhjZXB0aW9u\nIGV4dGVuZHMgUHViU3ViRXhjZXB0aW9uIHsKICAgICAgICBwdWJsaWMgTm9T\ndWJzY3JpcHRpb25TdGF0ZUV4Y2VwdGlvbihTdHJpbmcgbXNnKSB7CiAgICAg\nICAgICAgIHN1cGVyKFN0YXR1c0NvZGUuTk9fU1VCU0NSSVBUSU9OX1NUQVRF\nLCBtc2cpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNs\nYXNzIFN1YnNjcmlwdGlvblN0YXRlRXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMg\nUHViU3ViRXhjZXB0aW9uIHsKICAgICAgICBwdWJsaWMgU3Vic2NyaXB0aW9u\nU3RhdGVFeGlzdHNFeGNlcHRpb24oU3RyaW5nIG1zZykgewogICAgICAgICAg\nICBzdXBlcihTdGF0dXNDb2RlLlNVQlNDUklQVElPTl9TVEFURV9FWElTVFMs\nIG1zZyk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xh\nc3MgTm9Ub3BpY093bmVySW5mb0V4Y2VwdGlvbiBleHRlbmRzIFB1YlN1YkV4\nY2VwdGlvbiB7CiAgICAgICAgcHVibGljIE5vVG9waWNPd25lckluZm9FeGNl\ncHRpb24oU3RyaW5nIG1zZykgewogICAgICAgICAgICBzdXBlcihTdGF0dXND\nb2RlLk5PX1RPUElDX09XTkVSX0lORk8sIG1zZyk7CiAgICAgICAgfQogICAg\nfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgVG9waWNPd25lckluZm9FeGlz\ndHNFeGNlcHRpb24gZXh0ZW5kcyBQdWJTdWJFeGNlcHRpb24gewogICAgICAg\nIHB1YmxpYyBUb3BpY093bmVySW5mb0V4aXN0c0V4Y2VwdGlvbihTdHJpbmcg\nbXNnKSB7CiAgICAgICAgICAgIHN1cGVyKFN0YXR1c0NvZGUuVE9QSUNfT1dO\nRVJfSU5GT19FWElTVFMsIG1zZyk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyBzdGF0aWMgY2xhc3MgSW52YWxpZE1lc3NhZ2VGaWx0ZXJFeGNlcHRp\nb24gZXh0ZW5kcyBQdWJTdWJFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBJ\nbnZhbGlkTWVzc2FnZUZpbHRlckV4Y2VwdGlvbihTdHJpbmcgbXNnKSB7CiAg\nICAgICAgICAgIHN1cGVyKFN0YXR1c0NvZGUuSU5WQUxJRF9NRVNTQUdFX0ZJ\nTFRFUiwgbXNnKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBJbnZhbGlk\nTWVzc2FnZUZpbHRlckV4Y2VwdGlvbihTdHJpbmcgbXNnLCBUaHJvd2FibGUg\ndCkgewogICAgICAgICAgICBzdXBlcihTdGF0dXNDb2RlLklOVkFMSURfTUVT\nU0FHRV9GSUxURVIsIG1zZywgdCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyBzdGF0aWMgY2xhc3MgVW5jZXJ0YWluU3RhdGVFeGNlcHRpb24gZXh0\nZW5kcyBQdWJTdWJFeGNlcHRpb24gewogICAgICAgIHB1YmxpYyBVbmNlcnRh\naW5TdGF0ZUV4Y2VwdGlvbihTdHJpbmcgbXNnKSB7CiAgICAgICAgICAgIHN1\ncGVyKFN0YXR1c0NvZGUuVU5DRVJUQUlOX1NUQVRFLCBtc2cpOwogICAgICAg\nIH0KICAgIH0KCiAgICAvLyBUaGUgY2F0Y2ggYWxsIGV4Y2VwdGlvbiAoZm9y\nIHVuZXhwZWN0ZWQgZXJyb3IgY29uZGl0aW9ucykKICAgIHB1YmxpYyBzdGF0\naWMgY2xhc3MgVW5leHBlY3RlZENvbmRpdGlvbkV4Y2VwdGlvbiBleHRlbmRz\nIFB1YlN1YkV4Y2VwdGlvbiB7CiAgICAgICAgcHVibGljIFVuZXhwZWN0ZWRD\nb25kaXRpb25FeGNlcHRpb24oU3RyaW5nIG1zZykgewogICAgICAgICAgICBz\ndXBlcihTdGF0dXNDb2RlLlVORVhQRUNURURfQ09ORElUSU9OLCBtc2cpOwog\nICAgICAgIH0KICAgICAgICBwdWJsaWMgVW5leHBlY3RlZENvbmRpdGlvbkV4\nY2VwdGlvbihTdHJpbmcgbXNnLCBUaHJvd2FibGUgdCkgewogICAgICAgICAg\nICBzdXBlcihTdGF0dXNDb2RlLlVORVhQRUNURURfQ09ORElUSU9OLCBtc2cs\nIHQpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBUaGUgY29tcG9zaXRlIGV4\nY2VwdGlvbiAoZm9yIGNvbmN1cnJlbnQgb3BlcmF0aW9ucykuCiAgICBwdWJs\naWMgc3RhdGljIGNsYXNzIENvbXBvc2l0ZUV4Y2VwdGlvbiBleHRlbmRzIFB1\nYlN1YkV4Y2VwdGlvbiB7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBDb2xsZWN0\naW9uPFB1YlN1YkV4Y2VwdGlvbj4gZXhjZXB0aW9uczsKICAgICAgICBwdWJs\naWMgQ29tcG9zaXRlRXhjZXB0aW9uKENvbGxlY3Rpb248UHViU3ViRXhjZXB0\naW9uPiBleGNlcHRpb25zKSB7CiAgICAgICAgICAgIHN1cGVyKFN0YXR1c0Nv\nZGUuQ09NUE9TSVRFLCBjb21wb3NpdGVNZXNzYWdlKGV4Y2VwdGlvbnMpKTsK\nICAgICAgICAgICAgdGhpcy5leGNlcHRpb25zID0gZXhjZXB0aW9uczsKICAg\nICAgICB9CgogICAgICAgIHB1YmxpYyBDb2xsZWN0aW9uPFB1YlN1YkV4Y2Vw\ndGlvbj4gZ2V0RXhjZXB0aW9ucygpIHsKICAgICAgICAgICAgcmV0dXJuIGV4\nY2VwdGlvbnM7CiAgICAgICAgfQoKICAgICAgICAvKiogTWVyZ2VzIHRoZSBt\nZXNzYWdlIGZpZWxkcyBvZiB0aGUgZ2l2ZW4gRXhjZXB0aW9ucyBpbnRvIGEg\nb25lIGxpbmUgc3RyaW5nLiAqLwogICAgICAgIHByaXZhdGUgc3RhdGljIFN0\ncmluZyBjb21wb3NpdGVNZXNzYWdlKENvbGxlY3Rpb248UHViU3ViRXhjZXB0\naW9uPiBleGNlcHRpb25zKSB7CiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIg\nYnVpbGRlciA9IG5ldyBTdHJpbmdCdWlsZGVyKCJDb21wb3NpdGUgZXhjZXB0\naW9uOiBbIik7CiAgICAgICAgICAgIEl0ZXJhdG9yPFB1YlN1YkV4Y2VwdGlv\nbj4gaXRlciA9IGV4Y2VwdGlvbnMuaXRlcmF0b3IoKTsKICAgICAgICAgICAg\naWYgKGl0ZXIuaGFzTmV4dCgpKQogICAgICAgICAgICAgICAgYnVpbGRlci5h\ncHBlbmQoaXRlci5uZXh0KCkuZ2V0TWVzc2FnZSgpKTsKICAgICAgICAgICAg\nd2hpbGUgKGl0ZXIuaGFzTmV4dCgpKQogICAgICAgICAgICAgICAgYnVpbGRl\nci5hcHBlbmQoIiA6OiAiKS5hcHBlbmQoaXRlci5uZXh0KCkuZ2V0TWVzc2Fn\nZSgpKTsKICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIuYXBwZW5kKCJdIiku\ndG9TdHJpbmcoKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHN0YXRp\nYyBjbGFzcyBDbGllbnROb3RTdWJzY3JpYmVkUnVudGltZUV4Y2VwdGlvbiBl\neHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24gewogICAgfQoKfQo=\n","encoding":"base64"}

