{"sha":"5a9cdf78f10ab893e547c206b555855d121e2e6c","node_id":"MDQ6QmxvYjE1NzU5NTY6NWE5Y2RmNzhmMTBhYjg5M2U1NDdjMjA2YjU1NTg1NWQxMjFlMmU2Yw==","size":3217,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/5a9cdf78f10ab893e547c206b555855d121e2e6c","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2V4dGVuc2lvbnM7CgppbXBv\ncnQgY29tLmdvb2dsZS5wcm90b2J1Zi5CeXRlU3RyaW5nOwoKaW1wb3J0IG9y\nZy5hcGFjaGUuaGVkd2lnLmV4Y2VwdGlvbnMuUHViU3ViRXhjZXB0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9j\nb2wuUHJvdG9jb2xWZXJzaW9uOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcu\ncHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuUHViU3ViUmVzcG9uc2U7CmltcG9y\ndCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5S\nZXNwb25zZUJvZHk7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2Nv\nbC5QdWJTdWJQcm90b2NvbC5TdGF0dXNDb2RlOwppbXBvcnQgb3JnLmFwYWNo\nZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuU3Vic2NyaXB0aW9u\nRXZlbnQ7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJT\ndWJQcm90b2NvbC5TdWJzY3JpcHRpb25FdmVudFJlc3BvbnNlOwoKcHVibGlj\nIGNsYXNzIFB1YlN1YlJlc3BvbnNlVXRpbHMgewoKICAgIC8qKgogICAgICog\nQ2hhbmdlIGhlcmUgaWYgYnVtcGluZyB1cCB0aGUgdmVyc2lvbiBudW1iZXIg\ndGhhdCB0aGUgc2VydmVyIHNlbmRzIGJhY2sKICAgICAqLwogICAgcHVibGlj\nIGZpbmFsIHN0YXRpYyBQcm90b2NvbFZlcnNpb24gc2VydmVyVmVyc2lvbiA9\nIFByb3RvY29sVmVyc2lvbi5WRVJTSU9OX09ORTsKCiAgICBzdGF0aWMgUHVi\nU3ViUmVzcG9uc2UuQnVpbGRlciBnZXRCYXNpY0J1aWxkZXIoU3RhdHVzQ29k\nZSBzdGF0dXMpIHsKICAgICAgICByZXR1cm4gUHViU3ViUmVzcG9uc2UubmV3\nQnVpbGRlcigpLnNldFByb3RvY29sVmVyc2lvbihzZXJ2ZXJWZXJzaW9uKS5z\nZXRTdGF0dXNDb2RlKHN0YXR1cyk7CiAgICB9CgogICAgcHVibGljIHN0YXRp\nYyBQdWJTdWJSZXNwb25zZSBnZXRTdWNjZXNzUmVzcG9uc2UobG9uZyB0eG5J\nZCkgewogICAgICAgIHJldHVybiBnZXRCYXNpY0J1aWxkZXIoU3RhdHVzQ29k\nZS5TVUNDRVNTKS5zZXRUeG5JZCh0eG5JZCkuYnVpbGQoKTsKICAgIH0KCiAg\nICBwdWJsaWMgc3RhdGljIFB1YlN1YlJlc3BvbnNlIGdldFN1Y2Nlc3NSZXNw\nb25zZShsb25nIHR4bklkLCBSZXNwb25zZUJvZHkgcmVzcEJvZHkpIHsKICAg\nICAgICByZXR1cm4gZ2V0QmFzaWNCdWlsZGVyKFN0YXR1c0NvZGUuU1VDQ0VT\nUykuc2V0VHhuSWQodHhuSWQpCiAgICAgICAgICAgICAgIC5zZXRSZXNwb25z\nZUJvZHkocmVzcEJvZHkpLmJ1aWxkKCk7CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyBQdWJTdWJSZXNwb25zZSBnZXRSZXNwb25zZUZvckV4Y2VwdGlvbihQ\ndWJTdWJFeGNlcHRpb24gZSwgbG9uZyB0eG5JZCkgewogICAgICAgIHJldHVy\nbiBnZXRCYXNpY0J1aWxkZXIoZS5nZXRDb2RlKCkpLnNldFN0YXR1c01zZyhl\nLmdldE1lc3NhZ2UoKSkuc2V0VHhuSWQodHhuSWQpLmJ1aWxkKCk7CiAgICB9\nCgogICAgcHVibGljIHN0YXRpYyBQdWJTdWJSZXNwb25zZSBnZXRSZXNwb25z\nZUZvclN1YnNjcmlwdGlvbkV2ZW50KEJ5dGVTdHJpbmcgdG9waWMsCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgQnl0ZVN0cmluZyBzdWJzY3JpYmVySWQsCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgU3Vic2NyaXB0aW9uRXZlbnQgZXZlbnQpIHsKICAg\nICAgICBTdWJzY3JpcHRpb25FdmVudFJlc3BvbnNlLkJ1aWxkZXIgZXZlbnRC\ndWlsZGVyID0KICAgICAgICAgICAgU3Vic2NyaXB0aW9uRXZlbnRSZXNwb25z\nZS5uZXdCdWlsZGVyKCkuc2V0RXZlbnQoZXZlbnQpOwogICAgICAgIFJlc3Bv\nbnNlQm9keS5CdWlsZGVyIHJlc3BCdWlsZGVyID0KICAgICAgICAgICAgUmVz\ncG9uc2VCb2R5Lm5ld0J1aWxkZXIoKS5zZXRTdWJzY3JpcHRpb25FdmVudChl\ndmVudEJ1aWxkZXIpOwogICAgICAgIFB1YlN1YlJlc3BvbnNlIHJlc3BvbnNl\nID0gUHViU3ViUmVzcG9uc2UubmV3QnVpbGRlcigpCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAuc2V0UHJvdG9jb2xWZXJzaW9uKFByb3Rv\nY29sVmVyc2lvbi5WRVJTSU9OX09ORSkKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIC5zZXRTdGF0dXNDb2RlKFN0YXR1c0NvZGUuU1VDQ0VT\nUykuc2V0VHhuSWQoMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIC5zZXRUb3BpYyh0b3BpYykuc2V0U3Vic2NyaWJlcklkKHN1YnNjcmli\nZXJJZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRS\nZXNwb25zZUJvZHkocmVzcEJ1aWxkZXIpLmJ1aWxkKCk7CiAgICAgICAgcmV0\ndXJuIHJlc3BvbnNlOwogICAgfQp9Cg==\n","encoding":"base64"}

