{"sha":"7f32036f067b31a1fc594018b18bdbc3b37f3073","node_id":"MDQ6QmxvYjE1NzU5NTY6N2YzMjAzNmYwNjdiMzFhMWZjNTk0MDE4YjE4YmRiYzNiMzdmMzA3Mw==","size":3433,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/7f32036f067b31a1fc594018b18bdbc3b37f3073","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuYmVuY2htYXJrOwoKaW1w\nb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkxpbmtlZEJsb2NraW5nUXVldWU7\nCmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5TZW1hcGhvcmU7CmltcG9y\ndCBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljSW50ZWdlcjsK\naW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LmF0b21pYy5BdG9taWNMb25n\nOwoKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGou\nTG9nZ2VyRmFjdG9yeTsKCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIu\ndXRpbC5NYXRoVXRpbHM7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy51dGls\nLkNvbmN1cnJlbmN5VXRpbHM7CgpwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQWJz\ndHJhY3RCZW5jaG1hcmsgewoKICAgIHN0YXRpYyBmaW5hbCBMb2dnZXIgbG9n\nZ2VyID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoQWJzdHJhY3RCZW5jaG1h\ncmsuY2xhc3MpOwoKICAgIEF0b21pY0xvbmcgdG90YWxMYXRlbmN5ID0gbmV3\nIEF0b21pY0xvbmcoKTsKICAgIExpbmtlZEJsb2NraW5nUXVldWU8Qm9vbGVh\nbj4gZG9uZVNpZ25hbFF1ZXVlID0gbmV3IExpbmtlZEJsb2NraW5nUXVldWU8\nQm9vbGVhbj4oKTsKCiAgICBhYnN0cmFjdCB2b2lkIGRvT3BzKGludCBudW1P\ncHMpIHRocm93cyBFeGNlcHRpb247CiAgICBhYnN0cmFjdCB2b2lkIHRlYXJE\nb3duKCkgdGhyb3dzIEV4Y2VwdGlvbjsKCiAgICBwcm90ZWN0ZWQgY2xhc3Mg\nQWJzdHJhY3RDYWxsYmFjayB7CiAgICAgICAgQXRvbWljSW50ZWdlciBudW1E\nb25lID0gbmV3IEF0b21pY0ludGVnZXIoMCk7CiAgICAgICAgU2VtYXBob3Jl\nIG91dHN0YW5kaW5nOwogICAgICAgIGludCBudW1PcHM7CiAgICAgICAgYm9v\nbGVhbiBsb2dnaW5nOwoKICAgICAgICBwdWJsaWMgQWJzdHJhY3RDYWxsYmFj\nayhTZW1hcGhvcmUgb3V0c3RhbmRpbmcsIGludCBudW1PcHMpIHsKICAgICAg\nICAgICAgdGhpcy5vdXRzdGFuZGluZyA9IG91dHN0YW5kaW5nOwogICAgICAg\nICAgICB0aGlzLm51bU9wcyA9IG51bU9wczsKICAgICAgICAgICAgbG9nZ2lu\nZyA9IEJvb2xlYW4uZ2V0Qm9vbGVhbigicHJvZ3Jlc3MiKTsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyB2b2lkIGhhbmRsZShib29sZWFuIHN1Y2Nlc3Ms\nIE9iamVjdCBjdHgpIHsKICAgICAgICAgICAgb3V0c3RhbmRpbmcucmVsZWFz\nZSgpOwoKICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7CiAgICAgICAgICAg\nICAgICBDb25jdXJyZW5jeVV0aWxzLnB1dChkb25lU2lnbmFsUXVldWUsIGZh\nbHNlKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoK\nICAgICAgICAgICAgdG90YWxMYXRlbmN5LmFkZEFuZEdldChNYXRoVXRpbHMu\nbm93KCkgLSAoTG9uZyljdHgpOwogICAgICAgICAgICBpbnQgbnVtRG9uZUlu\ndCA9IG51bURvbmUuaW5jcmVtZW50QW5kR2V0KCk7CgogICAgICAgICAgICBp\nZiAobG9nZ2luZyAmJiBudW1Eb25lSW50ICUgMTAwMDAgPT0gMCkgewogICAg\nICAgICAgICAgICAgbG9nZ2VyLmluZm8oIkZpbmlzaGVkICIgKyBudW1Eb25l\nSW50ICsgIiBvcHMiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYg\nKG51bU9wcyA9PSBudW1Eb25lSW50KSB7CiAgICAgICAgICAgICAgICBDb25j\ndXJyZW5jeVV0aWxzLnB1dChkb25lU2lnbmFsUXVldWUsIHRydWUpOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJ1\nblBoYXNlKFN0cmluZyBwaGFzZSwgaW50IG51bU9wcykgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgbG9uZyBzdGFydFRpbWUgPSBNYXRoVXRpbHMubm93\nKCk7CgogICAgICAgIGRvT3BzKG51bU9wcyk7CgogICAgICAgIGlmICghZG9u\nZVNpZ25hbFF1ZXVlLnRha2UoKSkgewogICAgICAgICAgICBsb2dnZXIuZXJy\nb3IoIk9uZSBvciBtb3JlIG9wZXJhdGlvbnMgZmFpbGVkIGluIHBoYXNlOiAi\nICsgcGhhc2UpOwogICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2Vw\ndGlvbigpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxvZ2dlci5p\nbmZvKCJQaGFzZTogIiArIHBoYXNlICsgIiBBdmcgbGF0ZW5jeSA6ICIgKyB0\nb3RhbExhdGVuY3kuZ2V0KCkgLyBudW1PcHMgKyAiLCB0cHV0ID0gIiArIChu\ndW1PcHMgKiAxMDAwLyAoTWF0aFV0aWxzLm5vdygpIC0gc3RhcnRUaW1lKSkp\nOwogICAgICAgIH0KICAgIH0KCgoKCgogICAgcHVibGljIHZvaWQgcnVuKCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CgogICAgICAgIGludCBudW1XYXJtdXAgPSBJ\nbnRlZ2VyLmdldEludGVnZXIoIm5XYXJtdXAiLCA1MDAwMCk7CiAgICAgICAg\ncnVuUGhhc2UoIndhcm11cCIsIG51bVdhcm11cCk7CgogICAgICAgIGxvZ2dl\nci5pbmZvKCJTbGVlcGluZyBmb3IgMTAgc2Vjb25kcyIpOwogICAgICAgIFRo\ncmVhZC5zbGVlcCgxMDAwMCk7CiAgICAgICAgLy9yZXNldCBsYXRlbmN5CiAg\nICAgICAgdG90YWxMYXRlbmN5LnNldCgwKTsKCiAgICAgICAgaW50IG51bU9w\ncyA9IEludGVnZXIuZ2V0SW50ZWdlcigibk9wcyIsIDQwMDAwMCk7CiAgICAg\nICAgcnVuUGhhc2UoInJlYWwiLCBudW1PcHMpOwoKICAgICAgICB0ZWFyRG93\nbigpOwogICAgfQp9Cg==\n","encoding":"base64"}

