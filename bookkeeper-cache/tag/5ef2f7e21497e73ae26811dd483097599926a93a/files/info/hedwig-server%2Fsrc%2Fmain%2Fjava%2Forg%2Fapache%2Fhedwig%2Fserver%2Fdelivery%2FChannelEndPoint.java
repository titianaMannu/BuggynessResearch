{"sha":"e7dc1fa0b70e19536aaaef8d23d4b6e64e77295e","node_id":"MDQ6QmxvYjE1NzU5NTY6ZTdkYzFmYTBiNzBlMTk1MzZhYWFlZjhkMjNkNGI2ZTY0ZTc3Mjk1ZQ==","size":2758,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/e7dc1fa0b70e19536aaaef8d23d4b6e64e77295e","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuZGVsaXZlcnk7CgppbXBv\ncnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoK\naW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVsLkNoYW5uZWw7CmltcG9y\ndCBvcmcuamJvc3MubmV0dHkuY2hhbm5lbC5DaGFubmVsRnV0dXJlOwppbXBv\ncnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuQ2hhbm5lbEZ1dHVyZUxpc3Rl\nbmVyOwoKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnByb3RvY29sLlB1YlN1\nYlByb3RvY29sLlB1YlN1YlJlc3BvbnNlOwppbXBvcnQgb3JnLmFwYWNoZS5o\nZWR3aWcuc2VydmVyLmNvbW1vbi5VbmV4cGVjdGVkRXJyb3I7CgpwdWJsaWMg\nY2xhc3MgQ2hhbm5lbEVuZFBvaW50IGltcGxlbWVudHMgRGVsaXZlcnlFbmRQ\nb2ludCwgQ2hhbm5lbEZ1dHVyZUxpc3RlbmVyIHsKCiAgICBDaGFubmVsIGNo\nYW5uZWw7CgogICAgcHVibGljIENoYW5uZWwgZ2V0Q2hhbm5lbCgpIHsKICAg\nICAgICByZXR1cm4gY2hhbm5lbDsKICAgIH0KCiAgICBNYXA8Q2hhbm5lbEZ1\ndHVyZSwgRGVsaXZlcnlDYWxsYmFjaz4gY2FsbGJhY2tzID0gbmV3IEhhc2hN\nYXA8Q2hhbm5lbEZ1dHVyZSwgRGVsaXZlcnlDYWxsYmFjaz4oKTsKCiAgICBw\ndWJsaWMgQ2hhbm5lbEVuZFBvaW50KENoYW5uZWwgY2hhbm5lbCkgewogICAg\nICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgY2xvc2UoKSB7CiAgICAgICAgY2hhbm5lbC5jbG9zZSgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNlbmQoUHViU3ViUmVzcG9uc2UgcmVzcG9u\nc2UsIERlbGl2ZXJ5Q2FsbGJhY2sgY2FsbGJhY2spIHsKICAgICAgICBDaGFu\nbmVsRnV0dXJlIGZ1dHVyZSA9IGNoYW5uZWwud3JpdGUocmVzcG9uc2UpOwog\nICAgICAgIGNhbGxiYWNrcy5wdXQoZnV0dXJlLCBjYWxsYmFjayk7CiAgICAg\nICAgZnV0dXJlLmFkZExpc3RlbmVyKHRoaXMpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIG9wZXJhdGlvbkNvbXBsZXRlKENoYW5uZWxGdXR1cmUgZnV0dXJl\nKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBEZWxpdmVyeUNhbGxiYWNr\nIGNhbGxiYWNrID0gY2FsbGJhY2tzLmdldChmdXR1cmUpOwogICAgICAgIGNh\nbGxiYWNrcy5yZW1vdmUoZnV0dXJlKTsKCiAgICAgICAgaWYgKGNhbGxiYWNr\nID09IG51bGwpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRF\ncnJvcigiQ291bGQgbm90IGxvY2F0ZSBjYWxsYmFjayBmb3IgY2hhbm5lbCBm\ndXR1cmUiKTsKICAgICAgICB9CgogICAgICAgIGlmIChmdXR1cmUuaXNTdWNj\nZXNzKCkpIHsKICAgICAgICAgICAgY2FsbGJhY2suc2VuZGluZ0ZpbmlzaGVk\nKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gdHJlYXQgYWxs\nIGNoYW5uZWwgZXJyb3JzIGFzIHBlcm1hbmVudAogICAgICAgICAgICBjYWxs\nYmFjay5wZXJtYW5lbnRFcnJvck9uU2VuZCgpOwogICAgICAgIH0KCiAgICB9\nCgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVhbHMoT2Jq\nZWN0IG9iaikgewogICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBDaGFubmVs\nRW5kUG9pbnQpIHsKICAgICAgICAgICAgQ2hhbm5lbEVuZFBvaW50IGNoYW5u\nZWxFbmRQb2ludCA9IChDaGFubmVsRW5kUG9pbnQpIG9iajsKICAgICAgICAg\nICAgcmV0dXJuIGNoYW5uZWwuZXF1YWxzKGNoYW5uZWxFbmRQb2ludC5jaGFu\nbmVsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFs\nc2U7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGlj\nIGludCBoYXNoQ29kZSgpIHsKICAgICAgICByZXR1cm4gY2hhbm5lbC5oYXNo\nQ29kZSgpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmlu\nZyB0b1N0cmluZygpIHsKICAgICAgICByZXR1cm4gY2hhbm5lbC50b1N0cmlu\nZygpOwogICAgfQp9Cg==\n","encoding":"base64"}

