{"sha":"5b1d85d8bc3e3b8e000bb9e54b232fbdd4be42ce","node_id":"MDQ6QmxvYjE1NzU5NTY6NWIxZDg1ZDhiYzNlM2I4ZTAwMGJiOWU1NGIyMzJmYmRkNGJlNDJjZQ==","size":8955,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/5b1d85d8bc3e3b8e000bb9e54b232fbdd4be42ce","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuaGFuZGxlcnM7CgppbXBv\ncnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5IYXNo\nU2V0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZhLnV0aWwu\nU2V0OwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudEhh\nc2hNYXA7CgppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5z\nbGY0ai5Mb2dnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNo\nYW5uZWwuQ2hhbm5lbDsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVs\nLkNoYW5uZWxGdXR1cmU7CmltcG9ydCBvcmcuamJvc3MubmV0dHkuY2hhbm5l\nbC5DaGFubmVsRnV0dXJlTGlzdGVuZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5o\nZWR3aWcuY2xpZW50LmRhdGEuVG9waWNTdWJzY3JpYmVyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuUHViU3Vi\nUmVzcG9uc2U7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5Q\ndWJTdWJQcm90b2NvbC5TdWJzY3JpcHRpb25FdmVudDsKaW1wb3J0IG9yZy5h\ncGFjaGUuaGVkd2lnLnByb3RvZXh0ZW5zaW9ucy5QdWJTdWJSZXNwb25zZVV0\naWxzOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcudXRpbC5DYWxsYmFjazsK\naW1wb3J0IHN0YXRpYyBvcmcuYXBhY2hlLmhlZHdpZy51dGlsLlZhckFyZ3Mu\ndmE7CgpwdWJsaWMgY2xhc3MgU3Vic2NyaXB0aW9uQ2hhbm5lbE1hbmFnZXIg\naW1wbGVtZW50cyBDaGFubmVsRGlzY29ubmVjdExpc3RlbmVyIHsKCiAgICBz\ndGF0aWMgTG9nZ2VyIGxvZ2dlciA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2Vy\nKFN1YnNjcmlwdGlvbkNoYW5uZWxNYW5hZ2VyLmNsYXNzKTsKCiAgICBzdGF0\naWMgY2xhc3MgQ2xvc2VTdWJzY3JpcHRpb25MaXN0ZW5lciBpbXBsZW1lbnRz\nIENoYW5uZWxGdXR1cmVMaXN0ZW5lciB7CgogICAgICAgIGZpbmFsIFRvcGlj\nU3Vic2NyaWJlciB0czsKCiAgICAgICAgQ2xvc2VTdWJzY3JpcHRpb25MaXN0\nZW5lcihUb3BpY1N1YnNjcmliZXIgdG9waWNTdWJzY3JpYmVyKSB7CiAgICAg\nICAgICAgIHRoaXMudHMgPSB0b3BpY1N1YnNjcmliZXI7CiAgICAgICAgfQoK\nICAgICAgICBAT3ZlcnJpZGUKICAgICAgICBwdWJsaWMgdm9pZCBvcGVyYXRp\nb25Db21wbGV0ZShDaGFubmVsRnV0dXJlIGZ1dHVyZSkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgIGlmICghZnV0dXJlLmlzU3VjY2VzcygpKSB7\nCiAgICAgICAgICAgICAgICBsb2dnZXIud2FybigiRmFpbGVkIHRvIHdyaXRl\nIHJlc3BvbnNlIHRvIGNsb3NlIG9sZCBzdWJzY3JpcHRpb24ge30uIiwgdHMp\nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9nZ2Vy\nLmRlYnVnKCJDbG9zZSBvbGQgc3Vic2NyaXB0aW9uIHt9IHN1Y2NlZWQuIiwg\ndHMpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICBmaW5h\nbCBMaXN0PFN1YkNoYW5uZWxEaXNjb25uZWN0ZWRMaXN0ZW5lcj4gbGlzdGVu\nZXJzOwoKICAgIHB1YmxpYyBpbnRlcmZhY2UgU3ViQ2hhbm5lbERpc2Nvbm5l\nY3RlZExpc3RlbmVyIHsKICAgICAgICAvKioKICAgICAgICAgKiBBY3Qgb24g\nYSBwYXJ0aWN1bGFyIHRvcGljU3Vic2NyaWJlciBiZWluZyBkaXNjb25uZWN0\nZWQKICAgICAgICAgKiBAcGFyYW0gdG9waWNTdWJzY3JpYmVyCiAgICAgICAg\nICovCiAgICAgICAgcHVibGljIHZvaWQgb25TdWJDaGFubmVsRGlzY29ubmVj\ndGVkKFRvcGljU3Vic2NyaWJlciB0b3BpY1N1YnNjcmliZXIpOwogICAgfQoK\nICAgIGZpbmFsIENvbmN1cnJlbnRIYXNoTWFwPFRvcGljU3Vic2NyaWJlciwg\nQ2hhbm5lbD4gc3ViMkNoYW5uZWw7CiAgICBmaW5hbCBDb25jdXJyZW50SGFz\naE1hcDxDaGFubmVsLCBTZXQ8VG9waWNTdWJzY3JpYmVyPj4gY2hhbm5lbDJz\ndWI7CgogICAgcHVibGljIFN1YnNjcmlwdGlvbkNoYW5uZWxNYW5hZ2VyKCkg\newogICAgICAgIHN1YjJDaGFubmVsID0gbmV3IENvbmN1cnJlbnRIYXNoTWFw\nPFRvcGljU3Vic2NyaWJlciwgQ2hhbm5lbD4oKTsKICAgICAgICBjaGFubmVs\nMnN1YiA9IG5ldyBDb25jdXJyZW50SGFzaE1hcDxDaGFubmVsLCBTZXQ8VG9w\naWNTdWJzY3JpYmVyPj4oKTsKICAgICAgICBsaXN0ZW5lcnMgPSBuZXcgQXJy\nYXlMaXN0PFN1YkNoYW5uZWxEaXNjb25uZWN0ZWRMaXN0ZW5lcj4oKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBhZGRTdWJDaGFubmVsRGlzY29ubmVjdGVk\nTGlzdGVuZXIoU3ViQ2hhbm5lbERpc2Nvbm5lY3RlZExpc3RlbmVyIGxpc3Rl\nbmVyKSB7CiAgICAgICAgaWYgKG51bGwgIT0gbGlzdGVuZXIpIHsKICAgICAg\nICAgICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7CiAgICAgICAgfQogICAg\nfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgY2hhbm5lbERpc2Nv\nbm5lY3RlZChDaGFubmVsIGNoYW5uZWwpIHsKICAgICAgICAvLyBFdmlscyBv\nZiBzeW5jaHJvbml6ZWQgcHJvZ3JhbW1pbmc6IHRoZXJlIGlzIGEgcmFjZSBi\nZXR3ZWVuIGEgY2hhbm5lbAogICAgICAgIC8vIGdldHRpbmcgZGlzY29ubmVj\ndGVkLCBhbmQgdXMgYWRkaW5nIGl0IHRvIHRoZSBtYXBzIHdoZW4gYSBzdWJz\nY3JpYmUKICAgICAgICAvLyBzdWNjZWVkcwogICAgICAgIFNldDxUb3BpY1N1\nYnNjcmliZXI+IHRvcGljU3ViczsKICAgICAgICBzeW5jaHJvbml6ZWQgKGNo\nYW5uZWwpIHsKICAgICAgICAgICAgdG9waWNTdWJzID0gY2hhbm5lbDJzdWIu\ncmVtb3ZlKGNoYW5uZWwpOwogICAgICAgIH0KICAgICAgICBpZiAodG9waWNT\ndWJzICE9IG51bGwpIHsKICAgICAgICAgICAgZm9yIChUb3BpY1N1YnNjcmli\nZXIgdG9waWNTdWIgOiB0b3BpY1N1YnMpIHsKICAgICAgICAgICAgICAgIGxv\nZ2dlci5pbmZvKCJTdWJzY3JpcHRpb24gY2hhbm5lbCB7fSBmb3Ige30gaXMg\nZGlzY29ubmVjdGVkLiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2\nYShjaGFubmVsLmdldFJlbW90ZUFkZHJlc3MoKSwgdG9waWNTdWIpKTsKICAg\nICAgICAgICAgICAgIC8vIHJlbW92ZSBlbnRyeSBvbmx5IGN1cnJlbnRseSBt\nYXBwZWQgdG8gZ2l2ZW4gdmFsdWUuCiAgICAgICAgICAgICAgICBzdWIyQ2hh\nbm5lbC5yZW1vdmUodG9waWNTdWIsIGNoYW5uZWwpOwogICAgICAgICAgICAg\nICAgZm9yIChTdWJDaGFubmVsRGlzY29ubmVjdGVkTGlzdGVuZXIgbGlzdGVu\nZXIgOiBsaXN0ZW5lcnMpIHsKICAgICAgICAgICAgICAgICAgICBsaXN0ZW5l\nci5vblN1YkNoYW5uZWxEaXNjb25uZWN0ZWQodG9waWNTdWIpOwogICAgICAg\nICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBpbnQgZ2V0TnVtU3Vic2NyaXB0aW9uQ2hhbm5lbHMoKSB7CiAg\nICAgICAgcmV0dXJuIGNoYW5uZWwyc3ViLnNpemUoKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldE51bVN1YnNjcmlwdGlvbnMoKSB7CiAgICAgICAgcmV0\ndXJuIHN1YjJDaGFubmVsLnNpemUoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFB1dCA8Y29kZT50b3BpY1N1YjwvY29kZT4gb24gQ2hhbm5lbCA8Y29kZT5j\naGFubmVsPC9jb2RlPi4KICAgICAqCiAgICAgKiBAcGFyYW0gdG9waWNTdWIK\nICAgICAqICAgICAgICAgIFRvcGljIFN1YnNjcmlwdGlvbgogICAgICogQHBh\ncmFtIGNoYW5uZWwKICAgICAqICAgICAgICAgIE5ldHR5IGNoYW5uZWwKICAg\nICAqIEBwYXJhbSBtb2RlCiAgICAgKiAgICAgICAgICBDcmVhdGUgb3IgQXR0\nYWNoIG1vZGUKICAgICAqIEByZXR1cm4gbnVsbCBzdWNjZWVkLCBvdGhlcndp\nc2UgdGhlIG9sZCBleGlzdGVkIGNoYW5uZWwuCiAgICAgKi8KICAgIHB1Ymxp\nYyBDaGFubmVsIHB1dChUb3BpY1N1YnNjcmliZXIgdG9waWNTdWIsIENoYW5u\nZWwgY2hhbm5lbCwgYm9vbGVhbiBmb3JjZUF0dGFjaCkgewogICAgICAgIC8v\nIHJhY2Ugd2l0aCBjaGFubmVsIGdldHRpbmcgZGlzY29ubmVjdGVkIHdoaWxl\nIHdlIGFyZSBhZGRpbmcgaXQKICAgICAgICAvLyB0byB0aGUgMiBtYXBzCiAg\nICAgICAgc3luY2hyb25pemVkIChjaGFubmVsKSB7CiAgICAgICAgICAgIENo\nYW5uZWwgb2xkQ2hhbm5lbCA9IHN1YjJDaGFubmVsLnB1dElmQWJzZW50KHRv\ncGljU3ViLCBjaGFubmVsKTsKICAgICAgICAgICAgLy8gaWYgYSBzdWJzY3Jp\nYmUgcmVxdWVzdCBzZW5kIGZyb20gc2FtZSBjaGFubmVsLAogICAgICAgICAg\nICAvLyB3ZSB0cmVhdGVkIGl0IGEgc3VjY2VzcyBhY3Rpb24uCiAgICAgICAg\nICAgIGlmIChudWxsICE9IG9sZENoYW5uZWwgJiYgIW9sZENoYW5uZWwuZXF1\nYWxzKGNoYW5uZWwpKSB7CiAgICAgICAgICAgICAgICBib29sZWFuIHN1YlN1\nY2Nlc3MgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChmb3JjZUF0dGFj\naCkgewogICAgICAgICAgICAgICAgICAgIC8vIGl0IGlzIHNhZmUgdG8gY2xv\nc2Ugb2xkIHN1YnNjcmlwdGlvbiBoZXJlIHNpbmNlIHRoZSBuZXcgc3Vic2Ny\naXB0aW9uCiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIGNvbWUgZnJvbSBv\ndGhlciBjaGFubmVsIHN1Y2NlZWQuCiAgICAgICAgICAgICAgICAgICAgc3lu\nY2hyb25pemVkIChvbGRDaGFubmVsKSB7CiAgICAgICAgICAgICAgICAgICAg\nICAgIFNldDxUb3BpY1N1YnNjcmliZXI+IG9sZFRvcGljU3VicyA9IGNoYW5u\nZWwyc3ViLmdldChvbGRDaGFubmVsKTsKICAgICAgICAgICAgICAgICAgICAg\nICAgaWYgKG51bGwgIT0gb2xkVG9waWNTdWJzKSB7CiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICBpZiAoIW9sZFRvcGljU3Vicy5yZW1vdmUodG9waWNT\ndWIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2Vy\nLndhcm4oIkZhaWxlZCB0byByZW1vdmUgb2xkIHN1YnNjcmlwdGlvbiAoe30p\nIGR1ZSB0byBpdCBpc24ndCBvbiBjaGFubmVsICh7fSkuIiwKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YSh0b3BpY1N1\nYiwgb2xkQ2hhbm5lbCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nfSBlbHNlIGlmIChvbGRUb3BpY1N1YnMuaXNFbXB0eSgpKSB7CiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbDJzdWIucmVtb3ZlKG9s\nZENoYW5uZWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAg\nICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICAgICAgICAgIFB1YlN1YlJlc3BvbnNlIHJlc3AgPSBQdWJT\ndWJSZXNwb25zZVV0aWxzLmdldFJlc3BvbnNlRm9yU3Vic2NyaXB0aW9uRXZl\nbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcGljU3ViLmdldFRvcGlj\nKCksIHRvcGljU3ViLmdldFN1YnNjcmliZXJJZCgpLAogICAgICAgICAgICAg\nICAgICAgICAgICBTdWJzY3JpcHRpb25FdmVudC5TVUJTQ1JJUFRJT05fRk9S\nQ0VEX0NMT1NFRAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAg\nICAgICAgICAgb2xkQ2hhbm5lbC53cml0ZShyZXNwKS5hZGRMaXN0ZW5lcihu\nZXcgQ2xvc2VTdWJzY3JpcHRpb25MaXN0ZW5lcih0b3BpY1N1YikpOwogICAg\nICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCJTdWJzY3JpYmUgcmVxdWVz\ndCBmb3IgKHt9KSBmcm9tIGNoYW5uZWwgKHt9KSBjbG9zZXMgb2xkIHN1YnNj\ncmlwaXRvbiBvbiBjaGFubmVsICh7fSkuIiwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICB2YSh0b3BpY1N1YiwgY2hhbm5lbCwgb2xkQ2hhbm5l\nbCkpOwogICAgICAgICAgICAgICAgICAgIC8vIHRyeSByZXBsYWNlIHRoZSBv\nbGRDaGFubmVsCiAgICAgICAgICAgICAgICAgICAgLy8gaWYgcmVwbGFjZSBm\nYWlsdXJlLCBpdCBtaWd0aCBjYXVzZWQgYmVjYXVzZSBjaGFubmVsRGlzY29u\nbmVjdCBjYWxsYmFjawogICAgICAgICAgICAgICAgICAgIC8vIGhhcyByZW1v\ndmVkIHRoZSBvbGQgY2hhbm5lbC4KICAgICAgICAgICAgICAgICAgICBpZiAo\nIXN1YjJDaGFubmVsLnJlcGxhY2UodG9waWNTdWIsIG9sZENoYW5uZWwsIGNo\nYW5uZWwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0byBh\nZGQgaXQgbm93LgogICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBhZGQg\nZmFpbHVyZSwgaXQgbWVhbnMgb3RoZXIgb25lIGhhcyBvYnRhaW5lZCB0aGUg\nY2hhbm5lbAogICAgICAgICAgICAgICAgICAgICAgICBvbGRDaGFubmVsID0g\nc3ViMkNoYW5uZWwucHV0SWZBYnNlbnQodG9waWNTdWIsIGNoYW5uZWwpOwog\nICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBvbGRDaGFubmVs\nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJTdWNjZXNzID0g\ndHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg\nICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlN1\nY2Nlc3MgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghc3ViU3VjY2Vzcykgewog\nICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcigiRXJyb3Igc2Vydmlu\nZyBzdWJzY3JpYmUgcmVxdWVzdCBmb3IgKHt9KSBmcm9tICh7fSkgc2luY2Ug\naXQgYWxyZWFkeSBzZXJ2ZWQgb24gKHt9KS4iLAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICB2YSh0b3BpY1N1YiwgY2hhbm5lbCwgb2xkQ2hh\nbm5lbCkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBvbGRDaGFubmVs\nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAg\nIC8vIGNoYW5uZWwyc3ViIGlzIGp1c3QgYSBjYWNoZSwgc28gd2UgY2FuIGFk\nZCB0byBpdAogICAgICAgICAgICAvLyB3aXRob3V0IHN5bmNocm9uaXphdGlv\nbgogICAgICAgICAgICBTZXQ8VG9waWNTdWJzY3JpYmVyPiB0b3BpY1N1YnMg\nPSBjaGFubmVsMnN1Yi5nZXQoY2hhbm5lbCk7CiAgICAgICAgICAgIGlmIChu\ndWxsID09IHRvcGljU3VicykgewogICAgICAgICAgICAgICAgdG9waWNTdWJz\nID0gbmV3IEhhc2hTZXQ8VG9waWNTdWJzY3JpYmVyPigpOwogICAgICAgICAg\nICAgICAgY2hhbm5lbDJzdWIucHV0KGNoYW5uZWwsIHRvcGljU3Vicyk7IAog\nICAgICAgICAgICB9CiAgICAgICAgICAgIHRvcGljU3Vicy5hZGQodG9waWNT\ndWIpOwogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9\nCgogICAgLyoqCiAgICAgKiBSZW1vdmUgPGNvZGU+dG9waWNTdWI8L2NvZGU+\nIGZyb20gQ2hhbm5lbCA8Y29kZT5jaGFubmVsPC9jb2RlPgogICAgICoKICAg\nICAqIEBwYXJhbSB0b3BpY1N1YgogICAgICogICAgICAgICAgVG9waWMgU3Vi\nc2NyaXB0aW9uCiAgICAgKiBAcGFyYW0gY2hhbm5lbAogICAgICogICAgICAg\nICAgTmV0dHkgY2hhbm5lbAogICAgICovCiAgICBwdWJsaWMgdm9pZCByZW1v\ndmUoVG9waWNTdWJzY3JpYmVyIHRvcGljU3ViLCBDaGFubmVsIGNoYW5uZWwp\nIHsKICAgICAgICBzeW5jaHJvbml6ZWQgKGNoYW5uZWwpIHsKICAgICAgICAg\nICAgU2V0PFRvcGljU3Vic2NyaWJlcj4gdG9waWNTdWJzID0gY2hhbm5lbDJz\ndWIuZ2V0KGNoYW5uZWwpOwogICAgICAgICAgICBpZiAobnVsbCAhPSB0b3Bp\nY1N1YnMpIHsKICAgICAgICAgICAgICAgIGlmICghdG9waWNTdWJzLnJlbW92\nZSh0b3BpY1N1YikpIHsKICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2Fy\nbigiRmFpbGVkIHRvIHJlbW92ZSBzdWJzY3JpcHRpb24gKHt9KSBkdWUgdG8g\naXQgaXNuJ3Qgb24gY2hhbm5lbCAoe30pLiIsCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgdmEodG9waWNTdWIsIGNoYW5uZWwpKTsKICAgICAg\nICAgICAgICAgIH0gZWxzZSBpZiAodG9waWNTdWJzLmlzRW1wdHkoKSkgewog\nICAgICAgICAgICAgICAgICAgIGNoYW5uZWwyc3ViLnJlbW92ZShjaGFubmVs\nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAg\nICBpZiAoIXN1YjJDaGFubmVsLnJlbW92ZSh0b3BpY1N1YiwgY2hhbm5lbCkp\nIHsKICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCJGYWlsZWQgdG8gcmVt\nb3ZlIGNoYW5uZWwgKHt9KSBkdWUgdG8gaXQgaXNuJ3QgKHt9KSdzIGNoYW5u\nZWwuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhKGNoYW5uZWws\nIHRvcGljU3ViKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

