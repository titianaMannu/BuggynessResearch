{"sha":"872987c1016860a4c3aafab097bf0f81356c1eaa","node_id":"MDQ6QmxvYjE1NzU5NTY6ODcyOTg3YzEwMTY4NjBhNGMzYWFmYWIwOTdiZjBmODEzNTZjMWVhYQ==","size":31914,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/872987c1016860a4c3aafab097bf0f81356c1eaa","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIucGVyc2lzdGVuY2U7Cgpp\nbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuSGFz\naFNldDsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEu\ndXRpbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0\nIGphdmEudXRpbC5RdWV1ZTsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CmltcG9y\ndCBqYXZhLnV0aWwuU29ydGVkTWFwOwppbXBvcnQgamF2YS51dGlsLlNvcnRl\nZFNldDsKaW1wb3J0IGphdmEudXRpbC5UcmVlTWFwOwppbXBvcnQgamF2YS51\ndGlsLlRyZWVTZXQ7CmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5Db25j\ndXJyZW50SGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNv\nbmN1cnJlbnRNYXA7CmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5CbG9j\na2luZ1F1ZXVlOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuTGlua2Vk\nQmxvY2tpbmdRdWV1ZTsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LlJl\namVjdGVkRXhlY3V0aW9uRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGlsLmNv\nbmN1cnJlbnQuYXRvbWljLkF0b21pY0xvbmc7CmltcG9ydCBqYXZhLnV0aWwu\nY29uY3VycmVudC5hdG9taWMuQXRvbWljSW50ZWdlcjsKCmltcG9ydCBvcmcu\nYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbDsKaW1wb3J0\nIG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFj\ndG9yeTsKCmltcG9ydCBjb20uZ29vZ2xlLnByb3RvYnVmLkJ5dGVTdHJpbmc7\nCgppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnV0aWwuTWF0aFV0aWxz\nOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnV0aWwuT3JkZXJlZFNh\nZmVFeGVjdXRvcjsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci51dGls\nLlNhZmVSdW5uYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmV4Y2Vw\ndGlvbnMuUHViU3ViRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcuZXhjZXB0aW9ucy5QdWJTdWJFeGNlcHRpb24uU2VydmVyTm90UmVzcG9u\nc2libGVGb3JUb3BpY0V4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVk\nd2lnLnByb3RvY29sLlB1YlN1YlByb3RvY29sLk1lc3NhZ2U7CmltcG9ydCBv\ncmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5NZXNz\nYWdlU2VxSWQ7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2V4dGVu\nc2lvbnMuTWVzc2FnZUlkVXRpbHM7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdp\nZy5zZXJ2ZXIuY29tbW9uLlNlcnZlckNvbmZpZ3VyYXRpb247CmltcG9ydCBv\ncmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuY29tbW9uLlVuZXhwZWN0ZWRFcnJv\ncjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5qbXguSGVkd2ln\nSk1YU2VydmljZTsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5q\nbXguSGVkd2lnTUJlYW5JbmZvOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcu\nc2VydmVyLmpteC5IZWR3aWdNQmVhblJlZ2lzdHJ5OwppbXBvcnQgb3JnLmFw\nYWNoZS5oZWR3aWcuc2VydmVyLnBlcnNpc3RlbmNlLlJlYWRBaGVhZENhY2hl\nQmVhbjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuQ2FsbGJhY2s7\nCgpwdWJsaWMgY2xhc3MgUmVhZEFoZWFkQ2FjaGUgaW1wbGVtZW50cyBQZXJz\naXN0ZW5jZU1hbmFnZXIsIEhlZHdpZ0pNWFNlcnZpY2UgewoKICAgIHN0YXRp\nYyBMb2dnZXIgbG9nZ2VyID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoUmVh\nZEFoZWFkQ2FjaGUuY2xhc3MpOwoKICAgIHByb3RlY3RlZCBpbnRlcmZhY2Ug\nQ2FjaGVSZXF1ZXN0IHsKICAgICAgICBwdWJsaWMgdm9pZCBwZXJmb3JtUmVx\ndWVzdCgpOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIHVuZGVybHlpbmcg\ncGVyc2lzdGVuY2UgbWFuYWdlciB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgcGVy\nc2lzdGVuY2UgYW5kCiAgICAgKiBzY2FubmluZyBiZWxvdyB0aGUgY2FjaGUK\nICAgICAqLwogICAgcHJvdGVjdGVkIFBlcnNpc3RlbmNlTWFuYWdlcldpdGhS\nYW5nZVNjYW4gcmVhbFBlcnNpc3RlbmNlTWFuYWdlcjsKCiAgICAvKioKICAg\nICAqIFRoZSBzdHJ1Y3R1cmUgZm9yIHRoZSBjYWNoZQogICAgICovCiAgICBw\ncm90ZWN0ZWQgQ29uY3VycmVudE1hcDxDYWNoZUtleSwgQ2FjaGVWYWx1ZT4g\nY2FjaGUgPQogICAgICAgIG5ldyBDb25jdXJyZW50SGFzaE1hcDxDYWNoZUtl\neSwgQ2FjaGVWYWx1ZT4oKTsKCiAgICAvKioKICAgICAqIFdlIGFsc28gd2Fu\ndCB0byB0cmFjayB0aGUgZW50cmllcyBpbiBzZXEtaWQgb3JkZXIgc28gdGhh\ndCB3ZSBjYW4gY2xlYW4gdXAKICAgICAqIGVudHJpZXMgYWZ0ZXIgdGhlIGxh\nc3Qgc3Vic2NyaWJlcgogICAgICovCiAgICBwcm90ZWN0ZWQgQ29uY3VycmVu\ndE1hcDxCeXRlU3RyaW5nLCBTb3J0ZWRTZXQ8TG9uZz4+IG9yZGVyZWRJbmRl\neE9uU2VxSWQgPQogICAgICAgIG5ldyBDb25jdXJyZW50SGFzaE1hcDxCeXRl\nU3RyaW5nLCBTb3J0ZWRTZXQ8TG9uZz4+KCk7CgogICAgLyoqCiAgICAgKiBQ\nYXJ0aXRpb24gQ2FjaGUgaW50byBTZXJ2ZXJhbCBTZWdtZW50cyBmb3Igc2lt\ncGxpZnkgc3luY2hyb25pemF0aW9uLgogICAgICogRWFjaCBzZWdtZW50IG1h\naW50YWlucyBpdHMgdGltZSBpbmRleCBhbmQgc2VnbWVudCBzaXplLgogICAg\nICovCiAgICBzdGF0aWMgY2xhc3MgQ2FjaGVTZWdtZW50IHsKCiAgICAgICAg\nLyoqCiAgICAgICAgICogV2Ugd2FudCB0byBrZWVwIHRyYWNrIG9mIHdoZW4g\nZW50cmllcyB3ZXJlIGFkZGVkIGluIHRoZSBjYWNoZSwgc28gdGhhdCB3ZQog\nICAgICAgICAqIGNhbiByZW1vdmUgdGhlbSBpbiBhIEZJRk8gZmFzaGlvbgog\nICAgICAgICAqLwogICAgICAgIHByb3RlY3RlZCBTb3J0ZWRNYXA8TG9uZywg\nU2V0PENhY2hlS2V5Pj4gdGltZUluZGV4T2ZBZGRpdGlvbiA9IG5ldyBUcmVl\nTWFwPExvbmcsIFNldDxDYWNoZUtleT4+KCk7CgogICAgICAgIC8qKgogICAg\nICAgICAqIFdlIG1haW50YWluIGFuIGVzdGltYXRlIG9mIHRoZSBjdXJyZW50\nIHNpemUgb2YgZWFjaCBjYWNoZSBzZWdtZW50LAogICAgICAgICAqIHNvIHRo\nYXQgdGhlIHRocmVhZCBrbm93IHdoZW4gdG8gZXZpY3QgZW50cmllcyBmcm9t\nIGNhY2hlIHNlZ21lbnQuCiAgICAgICAgICovCiAgICAgICAgcHJvdGVjdGVk\nIEF0b21pY0xvbmcgcHJlc2VudFNlZ21lbnRTaXplID0gbmV3IEF0b21pY0xv\nbmcoMCk7CgogICAgfQoKICAgIC8qKgogICAgICogV2UgbWFpbnRhaW4gYW4g\nZXN0aW1hdGUgb2YgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgY2FjaGUsIHNv\nIHRoYXQgd2Uga25vdwogICAgICogd2hlbiB0byBldmljdCBlbnRyaWVzLgog\nICAgICovCiAgICBwcm90ZWN0ZWQgQXRvbWljTG9uZyBwcmVzZW50Q2FjaGVT\naXplID0gbmV3IEF0b21pY0xvbmcoMCk7CgogICAgLyoqCiAgICAgKiBOdW0g\ncGVuZGluZyByZXF1ZXN0cy4KICAgICAqLwogICAgcHJvdGVjdGVkIEF0b21p\nY0ludGVnZXIgbnVtUGVuZGluZ1JlcXVlc3RzID0gbmV3IEF0b21pY0ludGVn\nZXIoMCk7CgogICAgLyoqCiAgICAgKiBDYWNoZSBzZWdtZW50IGZvciBkaWZm\nZXJlbnQgdGhyZWFkcwogICAgICovCiAgICBwcm90ZWN0ZWQgZmluYWwgVGhy\nZWFkTG9jYWw8Q2FjaGVTZWdtZW50PiBjYWNoZVNlZ21lbnQgPQogICAgICAg\nIG5ldyBUaHJlYWRMb2NhbDxDYWNoZVNlZ21lbnQ+KCkgewogICAgICAgICAg\nICBAT3ZlcnJpZGUKICAgICAgICAgICAgcHJvdGVjdGVkIENhY2hlU2VnbWVu\ndCBpbml0aWFsVmFsdWUoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3\nIENhY2hlU2VnbWVudCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAg\nICAvKioKICAgICAqIE9uZSBpbnN0YW5jZSBvZiBhIGNhbGxiYWNrIHRoYXQg\nd2Ugd2lsbCBwYXNzIHRvIHRoZSB1bmRlcmx5aW5nCiAgICAgKiBwZXJzaXN0\nZW5jZSBtYW5hZ2VyIHdoZW4gYXNraW5nIGl0IHRvIHBlcnNpc3QgbWVzc2Fn\nZXMKICAgICAqLwogICAgcHJvdGVjdGVkIFBlcnNpc3RDYWxsYmFjayBwZXJz\naXN0Q2FsbGJhY2tJbnN0YW5jZSA9IG5ldyBQZXJzaXN0Q2FsbGJhY2soKTsK\nCiAgICAvKioKICAgICAqIDIga2luZHMgb2YgZXhjZXB0aW9ucyB0aGF0IHdl\nIHdpbGwgdXNlIHRvIHNpZ25hbCBlcnJvciBmcm9tIHJlYWRhaGVhZAogICAg\nICovCiAgICBwcm90ZWN0ZWQgTm9TdWNoU2VxSWRFeGNlcHRpb24gbm9TdWNo\nU2VxSWRFeGNlcHRpb25JbnN0YW5jZSA9IG5ldyBOb1N1Y2hTZXFJZEV4Y2Vw\ndGlvbigpOwogICAgcHJvdGVjdGVkIFJlYWRBaGVhZEV4Y2VwdGlvbiByZWFk\nQWhlYWRFeGNlcHRpb25JbnN0YW5jZSA9IG5ldyBSZWFkQWhlYWRFeGNlcHRp\nb24oKTsKCiAgICBwcm90ZWN0ZWQgU2VydmVyQ29uZmlndXJhdGlvbiBjZmc7\nCiAgICAvLyBCb29sZWFuIGluZGljYXRpbmcgaWYgdGhpcyB0aHJlYWQgc2hv\ndWxkIGNvbnRpbnVlIHJ1bm5pbmcuIFRoaXMgaXMgdXNlZAogICAgLy8gd2hl\nbiB3ZSB3YW50IHRvIHN0b3AgdGhlIHRocmVhZCBkdXJpbmcgYSBQdWJTdWJT\nZXJ2ZXIgc2h1dGRvd24uCiAgICBwcm90ZWN0ZWQgdm9sYXRpbGUgYm9vbGVh\nbiBrZWVwUnVubmluZyA9IHRydWU7CgogICAgcHJvdGVjdGVkIGZpbmFsIE9y\nZGVyZWRTYWZlRXhlY3V0b3IgY2FjaGVXb3JrZXJzOwogICAgcHJvdGVjdGVk\nIGZpbmFsIGludCBudW1DYWNoZVdvcmtlcnM7CiAgICBwcm90ZWN0ZWQgdm9s\nYXRpbGUgbG9uZyBtYXhTZWdtZW50U2l6ZTsKICAgIHByb3RlY3RlZCB2b2xh\ndGlsZSBsb25nIGNhY2hlRW50cnlUVEw7CgogICAgLy8gSk1YIEJlYW5zCiAg\nICBSZWFkQWhlYWRDYWNoZUJlYW4gam14Q2FjaGVCZWFuID0gbnVsbDsKCiAg\nICAvKioKICAgICAqIENvbnN0cnVjdG9yLiBTdGFydHMgdGhlIGNhY2hlIG1h\naW50YWluZXIgdGhyZWFkCiAgICAgKgogICAgICogQHBhcmFtIHJlYWxQZXJz\naXN0ZW5jZU1hbmFnZXIKICAgICAqLwogICAgcHVibGljIFJlYWRBaGVhZENh\nY2hlKFBlcnNpc3RlbmNlTWFuYWdlcldpdGhSYW5nZVNjYW4gcmVhbFBlcnNp\nc3RlbmNlTWFuYWdlciwgU2VydmVyQ29uZmlndXJhdGlvbiBjZmcpIHsKICAg\nICAgICB0aGlzLnJlYWxQZXJzaXN0ZW5jZU1hbmFnZXIgPSByZWFsUGVyc2lz\ndGVuY2VNYW5hZ2VyOwogICAgICAgIHRoaXMuY2ZnID0gY2ZnOwogICAgICAg\nIG51bUNhY2hlV29ya2VycyA9IGNmZy5nZXROdW1SZWFkQWhlYWRDYWNoZVRo\ncmVhZHMoKTsKICAgICAgICBjYWNoZVdvcmtlcnMgPSBuZXcgT3JkZXJlZFNh\nZmVFeGVjdXRvcihudW1DYWNoZVdvcmtlcnMpOwogICAgICAgIHJlbG9hZENv\nbmYoY2ZnKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlbG9hZCBjb25maWd1\ncmF0aW9uCiAgICAgKgogICAgICogQHBhcmFtIGNvbmYKICAgICAqICAgICAg\nICAgIFNlcnZlciBjb25maWd1cmF0aW9uIG9iamVjdAogICAgICovCiAgICBw\ncm90ZWN0ZWQgdm9pZCByZWxvYWRDb25mKFNlcnZlckNvbmZpZ3VyYXRpb24g\nY2ZnKSB7CiAgICAgICAgbWF4U2VnbWVudFNpemUgPSBjZmcuZ2V0TWF4aW11\nbUNhY2hlU2l6ZSgpIC8gbnVtQ2FjaGVXb3JrZXJzOwogICAgICAgIGNhY2hl\nRW50cnlUVEwgPSBjZmcuZ2V0Q2FjaGVFbnRyeVRUTCgpOwogICAgfQoKICAg\nIHB1YmxpYyBSZWFkQWhlYWRDYWNoZSBzdGFydCgpIHsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqID09PT09PT09PT09PT09\nPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09\nPT09PT09PT09PT09PQogICAgICogTWV0aG9kcyBvZiB7QGxpbmsgUGVyc2lz\ndGVuY2VNYW5hZ2VyfSB0aGF0IHdlIHdpbGwgcGFzcyBzdHJhaWdodCBkb3du\nIHRvCiAgICAgKiB0aGUgcmVhbCBwZXJzaXN0ZW5jZSBtYW5hZ2VyLgogICAg\nICovCgogICAgcHVibGljIGxvbmcgZ2V0U2VxSWRBZnRlclNraXBwaW5nKEJ5\ndGVTdHJpbmcgdG9waWMsIGxvbmcgc2VxSWQsIGludCBza2lwQW1vdW50KSB7\nCiAgICAgICAgcmV0dXJuIHJlYWxQZXJzaXN0ZW5jZU1hbmFnZXIuZ2V0U2Vx\nSWRBZnRlclNraXBwaW5nKHRvcGljLCBzZXFJZCwgc2tpcEFtb3VudCk7CiAg\nICB9CgogICAgcHVibGljIE1lc3NhZ2VTZXFJZCBnZXRDdXJyZW50U2VxSWRG\nb3JUb3BpYyhCeXRlU3RyaW5nIHRvcGljKSB0aHJvd3MgU2VydmVyTm90UmVz\ncG9uc2libGVGb3JUb3BpY0V4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIHJl\nYWxQZXJzaXN0ZW5jZU1hbmFnZXIuZ2V0Q3VycmVudFNlcUlkRm9yVG9waWMo\ndG9waWMpOwogICAgfQoKICAgIC8qKgogICAgICogPT09PT09PT09PT09PT09\nPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09\nPT09PT09PT09PT09CiAgICAgKiBPdGhlciBtZXRob2RzIG9mIHtAbGluayBQ\nZXJzaXN0ZW5jZU1hbmFnZXJ9IHRoYXQgdGhlIGNhY2hlIG5lZWRzIHRvIHRh\na2UKICAgICAqIHNvbWUgYWN0aW9uIG9uLgogICAgICoKICAgICAqIDEuIFBl\ncnNpc3Q6IFdlIHBhc3MgaXQgdGhyb3VnaCB0byB0aGUgcmVhbCBwZXJzaXN0\nZW5jZSBtYW5hZ2VyIGJ1dCBpbnNlcnQKICAgICAqIG91ciBjYWxsYmFjayBv\nbiB0aGUgcmV0dXJuIHBhdGgKICAgICAqCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHBlcnNpc3RNZXNzYWdlKFBlcnNpc3RSZXF1ZXN0IHJlcXVlc3QpIHsK\nICAgICAgICAvLyBtYWtlIGEgbmV3IFBlcnNpc3RSZXF1ZXN0IG9iamVjdCBz\nbyB0aGF0IHdlIGNhbiBpbnNlcnQgb3VyIG93bgogICAgICAgIC8vIGNhbGxi\nYWNrIGluIHRoZSBtaWRkbGUuIEFzc2lnbiB0aGUgb3JpZ2luYWwgcmVxdWVz\ndCBhcyB0aGUgY29udGV4dAogICAgICAgIC8vIGZvciB0aGUgY2FsbGJhY2su\nCgogICAgICAgIFBlcnNpc3RSZXF1ZXN0IG5ld1JlcXVlc3QgPSBuZXcgUGVy\nc2lzdFJlcXVlc3QocmVxdWVzdC5nZXRUb3BpYygpLCByZXF1ZXN0LmdldE1l\nc3NhZ2UoKSwKICAgICAgICAgICAgICAgIHBlcnNpc3RDYWxsYmFja0luc3Rh\nbmNlLCByZXF1ZXN0KTsKICAgICAgICByZWFsUGVyc2lzdGVuY2VNYW5hZ2Vy\nLnBlcnNpc3RNZXNzYWdlKG5ld1JlcXVlc3QpOwogICAgfQoKICAgIC8qKgog\nICAgICogVGhlIGNhbGxiYWNrIHRoYXQgd2UgaW5zZXJ0IG9uIHRoZSBwZXJz\naXN0IHJlcXVlc3QgcmV0dXJuIHBhdGguIFRoZQogICAgICogY2FsbGJhY2sg\nc2ltcGx5IGZvcm1zIGEge0BsaW5rIFBlcnNpc3RSZXNwb25zZX0gb2JqZWN0\nIGFuZCBpbnNlcnRzIGl0IGluCiAgICAgKiB0aGUgcmVxdWVzdCBxdWV1ZSB0\nbyBiZSBoYW5kbGVkIHNlcmlhbGx5IGJ5IHRoZSBjYWNoZSBtYWludGFpbmVy\nIHRocmVhZC4KICAgICAqCiAgICAgKi8KICAgIHB1YmxpYyBjbGFzcyBQZXJz\naXN0Q2FsbGJhY2sgaW1wbGVtZW50cyBDYWxsYmFjazxQdWJTdWJQcm90b2Nv\nbC5NZXNzYWdlU2VxSWQ+IHsKCiAgICAgICAgLyoqCiAgICAgICAgICogSW4g\nY2FzZSB0aGVyZSBpcyBhIGZhaWx1cmUgaW4gcGVyc2lzdGluZywganVzdCBw\nYXNzIGl0IHRvIHRoZQogICAgICAgICAqIG9yaWdpbmFsIGNhbGxiYWNrCiAg\nICAgICAgICovCiAgICAgICAgcHVibGljIHZvaWQgb3BlcmF0aW9uRmFpbGVk\nKE9iamVjdCBjdHgsIFB1YlN1YkV4Y2VwdGlvbiBleGNlcHRpb24pIHsKICAg\nICAgICAgICAgUGVyc2lzdFJlcXVlc3Qgb3JpZ2luYWxSZXF1ZXN0ID0gKFBl\ncnNpc3RSZXF1ZXN0KSBjdHg7CiAgICAgICAgICAgIENhbGxiYWNrPFB1YlN1\nYlByb3RvY29sLk1lc3NhZ2VTZXFJZD4gb3JpZ2luYWxDYWxsYmFjayA9IG9y\naWdpbmFsUmVxdWVzdC5nZXRDYWxsYmFjaygpOwogICAgICAgICAgICBPYmpl\nY3Qgb3JpZ2luYWxDb250ZXh0ID0gb3JpZ2luYWxSZXF1ZXN0LmdldEN0eCgp\nOwogICAgICAgICAgICBvcmlnaW5hbENhbGxiYWNrLm9wZXJhdGlvbkZhaWxl\nZChvcmlnaW5hbENvbnRleHQsIGV4Y2VwdGlvbik7CiAgICAgICAgfQoKICAg\nICAgICAvKioKICAgICAgICAgKiBXaGVuIHRoZSBwZXJzaXN0IGZpbmlzaGVz\nLCB3ZSBmaXJzdCBub3RpZnkgdGhlIG9yaWdpbmFsIGNhbGxiYWNrIG9mCiAg\nICAgICAgICogc3VjY2VzcywgYW5kIHRoZW4gb3Bwb3J0dW5pc3RpY2FsbHkg\ndHJlYXQgdGhlIG1lc3NhZ2UgYXMgaWYgaXQganVzdAogICAgICAgICAqIGNh\nbWUgaW4gdGhyb3VnaCBhIHNjYW4KICAgICAgICAgKi8KICAgICAgICBwdWJs\naWMgdm9pZCBvcGVyYXRpb25GaW5pc2hlZChPYmplY3QgY3R4LCBQdWJTdWJQ\ncm90b2NvbC5NZXNzYWdlU2VxSWQgcmVzdWx0T2ZPcGVyYXRpb24pIHsKICAg\nICAgICAgICAgUGVyc2lzdFJlcXVlc3Qgb3JpZ2luYWxSZXF1ZXN0ID0gKFBl\ncnNpc3RSZXF1ZXN0KSBjdHg7CgogICAgICAgICAgICAvLyBMZXRzIGNhbGwg\ndGhlIG9yaWdpbmFsIGNhbGxiYWNrIGZpcnN0IHNvIHRoYXQgdGhlIHB1Ymxp\nc2hlciBjYW4KICAgICAgICAgICAgLy8gaGVhciBzdWNjZXNzCiAgICAgICAg\nICAgIG9yaWdpbmFsUmVxdWVzdC5nZXRDYWxsYmFjaygpLm9wZXJhdGlvbkZp\nbmlzaGVkKG9yaWdpbmFsUmVxdWVzdC5nZXRDdHgoKSwgcmVzdWx0T2ZPcGVy\nYXRpb24pOwoKICAgICAgICAgICAgLy8gT3JpZ2luYWwgbWVzc2FnZSB0aGF0\nIHdhcyBwZXJzaXN0ZWQgZGlkbid0IGhhdmUgdGhlIGxvY2FsIHNlcS1pZC4K\nICAgICAgICAgICAgLy8gTGV0cyBhZGQgdGhhdCBpbgogICAgICAgICAgICBN\nZXNzYWdlIG1lc3NhZ2VXaXRoTG9jYWxTZXFJZCA9IE1lc3NhZ2VJZFV0aWxz\nLm1lcmdlTG9jYWxTZXFJZChvcmlnaW5hbFJlcXVlc3QuZ2V0TWVzc2FnZSgp\nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIHJlc3VsdE9mT3BlcmF0aW9uLmdldExvY2FsQ29tcG9uZW50KCkpOwoKICAg\nICAgICAgICAgLy8gTm93IGVucXVldWUgYSByZXF1ZXN0IHRvIGFkZCB0aGlz\nIG5ld2x5IHBlcnNpc3RlZCBtZXNzYWdlIHRvIG91cgogICAgICAgICAgICAv\nLyBjYWNoZQogICAgICAgICAgICBDYWNoZUtleSBjYWNoZUtleSA9IG5ldyBD\nYWNoZUtleShvcmlnaW5hbFJlcXVlc3QuZ2V0VG9waWMoKSwgcmVzdWx0T2ZP\ncGVyYXRpb24uZ2V0TG9jYWxDb21wb25lbnQoKSk7CgogICAgICAgICAgICBl\nbnF1ZXVlV2l0aG91dEZhaWx1cmVCeVRvcGljKGNhY2hlS2V5LmdldFRvcGlj\nKCksCiAgICAgICAgICAgICAgICAgICAgbmV3IFNjYW5SZXNwb25zZShjYWNo\nZUtleSwgbWVzc2FnZVdpdGhMb2NhbFNlcUlkKSk7CiAgICAgICAgfQoKICAg\nIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBlbnF1ZXVlV2l0aG91dEZhaWx1cmVC\neVRvcGljKEJ5dGVTdHJpbmcgdG9waWMsIGZpbmFsIENhY2hlUmVxdWVzdCBv\nYmopIHsKICAgICAgICBpZiAoIWtlZXBSdW5uaW5nKSB7CiAgICAgICAgICAg\nIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\nbnVtUGVuZGluZ1JlcXVlc3RzLmluY3JlbWVudEFuZEdldCgpOwogICAgICAg\nICAgICBjYWNoZVdvcmtlcnMuc3VibWl0T3JkZXJlZCh0b3BpYywgbmV3IFNh\nZmVSdW5uYWJsZSgpIHsKICAgICAgICAgICAgICAgIEBPdmVycmlkZQogICAg\nICAgICAgICAgICAgcHVibGljIHZvaWQgc2FmZVJ1bigpIHsKICAgICAgICAg\nICAgICAgICAgICBudW1QZW5kaW5nUmVxdWVzdHMuZGVjcmVtZW50QW5kR2V0\nKCk7CiAgICAgICAgICAgICAgICAgICAgb2JqLnBlcmZvcm1SZXF1ZXN0KCk7\nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0g\nY2F0Y2ggKFJlamVjdGVkRXhlY3V0aW9uRXhjZXB0aW9uIHJlZSkgewogICAg\nICAgICAgICBsb2dnZXIuZXJyb3IoIkZhaWxlZCB0byBzdWJtaXQgY2FjaGUg\ncmVxdWVzdCBmb3IgdG9waWMgIiArIHRvcGljLnRvU3RyaW5nVXRmOCgpICsg\nIiA6ICIsIHJlZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog\nQW5vdGhlciBtZXRob2QgZnJvbSB7QGxpbmsgUGVyc2lzdGVuY2VNYW5hZ2Vy\nfS4KICAgICAqCiAgICAgKiAyLiBTY2FuIC0gU2luY2UgdGhlIHNjYW4gbmVl\nZHMgdG8gdG91Y2ggdGhlIGNhY2hlLCB3ZSB3aWxsIGp1c3QgZW5xdWV1ZQog\nICAgICogdGhlIHNjYW4gcmVxdWVzdCBhbmQgbGV0IHRoZSBjYWNoZSBtYWlu\ndGFpbmVyIHRocmVhZCBoYW5kbGUgaXQuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNjYW5TaW5nbGVNZXNzYWdlKFNjYW5SZXF1ZXN0IHJlcXVlc3QpIHsK\nICAgICAgICAvLyBMZXQgdGhlIHNjYW4gcmVxdWVzdHMgYmUgc2VyaWFsaXpl\nZCB0aHJvdWdoIHRoZSBxdWV1ZQogICAgICAgIGVucXVldWVXaXRob3V0RmFp\nbHVyZUJ5VG9waWMocmVxdWVzdC5nZXRUb3BpYygpLAogICAgICAgICAgICAg\nICAgbmV3IFNjYW5SZXF1ZXN0V3JhcHBlcihyZXF1ZXN0KSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBBbm90aGVyIG1ldGhvZCBmcm9tIHtAbGluayBQZXJz\naXN0ZW5jZU1hbmFnZXJ9LgogICAgICoKICAgICAqIDMuIEVucXVldWUgdGhl\nIHJlcXVlc3Qgc28gdGhhdCB0aGUgY2FjaGUgbWFpbnRhaW5lciB0aHJlYWQg\nY2FuIGRlbGV0ZSBhbGwKICAgICAqIG1lc3NhZ2UtaWRzIG9sZGVyIHRoYW4g\ndGhlIG9uZSBzcGVjaWZpZWQKICAgICAqLwogICAgcHVibGljIHZvaWQgZGVs\naXZlcmVkVW50aWwoQnl0ZVN0cmluZyB0b3BpYywgTG9uZyBzZXFJZCkgewog\nICAgICAgIGVucXVldWVXaXRob3V0RmFpbHVyZUJ5VG9waWModG9waWMsIG5l\ndyBEZWxpdmVyZWRVbnRpbCh0b3BpYywgc2VxSWQpKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIEFub3RoZXIgbWV0aG9kIGZyb20ge0BsaW5rIFBlcnNpc3Rl\nbmNlTWFuYWdlcn0uCiAgICAgKgogICAgICogU2luY2UgdGhpcyBpcyBhIGNh\nY2hlIGxheWVyIG9uIHRvcCBvZiBhbiB1bmRlcmx5aW5nIHBlcnNpc3RlbmNl\nIG1hbmFnZXIsCiAgICAgKiB3ZSBjYW4ganVzdCBjYWxsIHRoZSBjb25zdW1l\nZFVudGlsIG1ldGhvZCB0aGVyZS4gVGhlIG1lc3NhZ2VzIG9sZGVyIHRoYW4K\nICAgICAqIHRoZSBsYXRlc3Qgb25lIHBhc3NlZCBoZXJlIHdvbid0IGJlIGFj\nY2Vzc2VkIGFueW1vcmUgc28gdGhleSBzaG91bGQganVzdAogICAgICogZ2V0\nIGFnZWQgb3V0IG9mIHRoZSBjYWNoZSBldmVudHVhbGx5LiBGb3Igbm93LCB0\naGVyZSBpcyBubyBuZWVkIHRvCiAgICAgKiBwcm9hY3RpdmVseSByZW1vdmUg\ndGhvc2UgZW50cmllcyBmcm9tIHRoZSBjYWNoZS4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgY29uc3VtZWRVbnRpbChCeXRlU3RyaW5nIHRvcGljLCBMb25n\nIHNlcUlkKSB7CiAgICAgICAgcmVhbFBlcnNpc3RlbmNlTWFuYWdlci5jb25z\ndW1lZFVudGlsKHRvcGljLCBzZXFJZCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0TWVzc2FnZUJvdW5kKEJ5dGVTdHJpbmcgdG9waWMsIEludGVnZXIg\nYm91bmQpIHsKICAgICAgICByZWFsUGVyc2lzdGVuY2VNYW5hZ2VyLnNldE1l\nc3NhZ2VCb3VuZCh0b3BpYywgYm91bmQpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIGNsZWFyTWVzc2FnZUJvdW5kKEJ5dGVTdHJpbmcgdG9waWMpIHsKICAg\nICAgICByZWFsUGVyc2lzdGVuY2VNYW5hZ2VyLmNsZWFyTWVzc2FnZUJvdW5k\nKHRvcGljKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjb25zdW1lVG9Cb3Vu\nZChCeXRlU3RyaW5nIHRvcGljKSB7CiAgICAgICAgcmVhbFBlcnNpc3RlbmNl\nTWFuYWdlci5jb25zdW1lVG9Cb3VuZCh0b3BpYyk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBTdG9wIHRoZSByZWFkYWhlYWQgY2FjaGUuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHN0b3AoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAga2VlcFJ1bm5pbmcgPSBmYWxzZTsKICAgICAgICAgICAgY2FjaGVXb3Jr\nZXJzLnNodXRkb3duKCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUp\nIHsKICAgICAgICAgICAgbG9nZ2VyLndhcm4oIkZhaWxlZCB0byBzaHV0IGRv\nd24gY2FjaGUgd29ya2VycyA6ICIsIGUpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFRoZSByZWFkYWhlYWQgcG9saWN5IGlzIHNpbXBsZTog\nV2UgY2hlY2sgaWYgYW4gZW50cnkgYWxyZWFkeSBleGlzdHMgZm9yCiAgICAg\nKiB0aGUgbWVzc2FnZSBiZWluZyByZXF1ZXN0ZWQuIElmIGFuIGVudHJ5IGV4\naXN0cywgaXQgbWVhbnMgdGhhdCBlaXRoZXIKICAgICAqIHRoYXQgbWVzc2Fn\nZSBpcyBhbHJlYWR5IGluIHRoZSBjYWNoZSwgb3IgYSByZWFkIGZvciB0aGF0\nIG1lc3NhZ2UgaXMKICAgICAqIG91dHN0YW5kaW5nLiBJbiB0aGF0IGNhc2Us\nIHdlIGxvb2sgYSBsaXR0bGUgYWhlYWQgKGJ5IHJlYWRBaGVhZENvdW50LzIp\nCiAgICAgKiBhbmQgaXNzdWUgYSByYW5nZSByZWFkIG9mIHJlYWRBaGVhZENv\ndW50LzIgbWVzc2FnZXMuIFRoZSBpZGVhIGlzIHRvCiAgICAgKiBlbnN1cmUg\ndGhhdCB0aGUgbmV4dCByZWFkQWhlYWRDb3VudCBtZXNzYWdlcyBhcmUgYWx3\nYXlzIGF2YWlsYWJsZS4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRoZSByYW5n\nZSBzY2FuIHRoYXQgc2hvdWxkIGJlIGlzc3VlZCBmb3IgcmVhZCBhaGVhZAog\nICAgICovCiAgICBwcm90ZWN0ZWQgUmFuZ2VTY2FuUmVxdWVzdCBkb1JlYWRB\naGVhZChTY2FuUmVxdWVzdCByZXF1ZXN0KSB7CiAgICAgICAgQnl0ZVN0cmlu\nZyB0b3BpYyA9IHJlcXVlc3QuZ2V0VG9waWMoKTsKICAgICAgICBMb25nIHNl\ncUlkID0gcmVxdWVzdC5nZXRTdGFydFNlcUlkKCk7CgogICAgICAgIGludCBy\nZWFkQWhlYWRDb3VudCA9IGNmZy5nZXRSZWFkQWhlYWRDb3VudCgpOwogICAg\nICAgIC8vIFRvIHByZXZlbnQgdXMgZnJvbSBnZXR0aW5nIHNjcmV3ZWQgYnkg\nYmFkIGNvbmZpZ3VyYXRpb24KICAgICAgICByZWFkQWhlYWRDb3VudCA9IE1h\ndGgubWF4KDEsIHJlYWRBaGVhZENvdW50KTsKCiAgICAgICAgUmFuZ2VTY2Fu\nUmVxdWVzdCByZWFkQWhlYWRSZXF1ZXN0ID0gZG9SZWFkQWhlYWRTdGFydGlu\nZ0Zyb20odG9waWMsIHNlcUlkLCByZWFkQWhlYWRDb3VudCk7CgogICAgICAg\nIGlmIChyZWFkQWhlYWRSZXF1ZXN0ICE9IG51bGwpIHsKICAgICAgICAgICAg\ncmV0dXJuIHJlYWRBaGVhZFJlcXVlc3Q7CiAgICAgICAgfQoKICAgICAgICAv\nLyBzdGFydCBrZXkgd2FzIGFscmVhZHkgdGhlcmUgaW4gdGhlIGNhY2hlIHNv\nIG5vIHJlYWRhaGVhZCBoYXBwZW5lZCwKICAgICAgICAvLyBsZXRzIGxvb2sg\nYSBsaXR0bGUgYmV5b25kCiAgICAgICAgc2VxSWQgPSByZWFsUGVyc2lzdGVu\nY2VNYW5hZ2VyLmdldFNlcUlkQWZ0ZXJTa2lwcGluZyh0b3BpYywgc2VxSWQs\nIHJlYWRBaGVhZENvdW50IC8gMik7CgogICAgICAgIHJlYWRBaGVhZFJlcXVl\nc3QgPSBkb1JlYWRBaGVhZFN0YXJ0aW5nRnJvbSh0b3BpYywgc2VxSWQsIHJl\nYWRBaGVhZENvdW50IC8gMik7CgogICAgICAgIHJldHVybiByZWFkQWhlYWRS\nZXF1ZXN0OwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBtZXRob2QganVz\ndCBjaGVja3MgaWYgdGhlIHByb3ZpZGVkIHNlcS1pZCBhbHJlYWR5IGV4aXN0\ncyBpbiB0aGUKICAgICAqIGNhY2hlLiBJZiBub3QsIGEgcmFuZ2UgcmVhZCBv\nZiB0aGUgc3BlY2lmaWVkIGFtb3VudCBpcyBpc3N1ZWQuCiAgICAgKgogICAg\nICogQHBhcmFtIHRvcGljCiAgICAgKiBAcGFyYW0gc2VxSWQKICAgICAqIEBw\nYXJhbSByZWFkQWhlYWRDb3VudAogICAgICogQHJldHVybiBUaGUgcmFuZ2Ug\ncmVhZCB0aGF0IHNob3VsZCBiZSBpc3N1ZWQKICAgICAqLwogICAgcHJvdGVj\ndGVkIFJhbmdlU2NhblJlcXVlc3QgZG9SZWFkQWhlYWRTdGFydGluZ0Zyb20o\nQnl0ZVN0cmluZyB0b3BpYywgbG9uZyBzZXFJZCwgaW50IHJlYWRBaGVhZENv\ndW50KSB7CgogICAgICAgIGxvbmcgc3RhcnRTZXFJZCA9IHNlcUlkOwogICAg\nICAgIFF1ZXVlPENhY2hlS2V5PiBpbnN0YWxsZWRTdHVicyA9IG5ldyBMaW5r\nZWRMaXN0PENhY2hlS2V5PigpOwoKICAgICAgICBpbnQgaSA9IDA7CgogICAg\nICAgIGZvciAoOyBpIDwgcmVhZEFoZWFkQ291bnQ7IGkrKykgewogICAgICAg\nICAgICBDYWNoZUtleSBjYWNoZUtleSA9IG5ldyBDYWNoZUtleSh0b3BpYywg\nc2VxSWQpOwoKICAgICAgICAgICAgLy8gRXZlbiBpZiBhIHN0dWIgZXhpc3Rz\nLCBpdCBtZWFucyB0aGF0IGEgc2NhbiBmb3IgdGhhdCBpcwogICAgICAgICAg\nICAvLyBvdXRzdGFuZGluZwogICAgICAgICAgICBpZiAoY2FjaGUuY29udGFp\nbnNLZXkoY2FjaGVLZXkpKSB7CiAgICAgICAgICAgICAgICBicmVhazsKICAg\nICAgICAgICAgfQogICAgICAgICAgICBDYWNoZVZhbHVlIGNhY2hlVmFsdWUg\nPSBuZXcgQ2FjaGVWYWx1ZSgpOwogICAgICAgICAgICBpZiAobnVsbCAhPSBj\nYWNoZS5wdXRJZkFic2VudChjYWNoZUtleSwgY2FjaGVWYWx1ZSkpIHsKICAg\nICAgICAgICAgICAgIGxvZ2dlci53YXJuKCJJdCBpcyB1bmV4cGVjdGVkIHRo\nYXQgbW9yZSB0aGFuIG9uZSB0aHJlYWRzIGFyZSBhZGRpbmcgbWVzc2FnZSB0\nbyBjYWNoZSBrZXkge30iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAr\nIiBhdCB0aGUgc2FtZSB0aW1lLiIsIGNhY2hlS2V5KTsKICAgICAgICAgICAg\nfQoKICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCJBZGRpbmcgY2FjaGUgc3R1\nYiBmb3I6IHt9IiwgY2FjaGVLZXkpOwogICAgICAgICAgICBpbnN0YWxsZWRT\ndHVicy5hZGQoY2FjaGVLZXkpOwoKICAgICAgICAgICAgc2VxSWQgPSByZWFs\nUGVyc2lzdGVuY2VNYW5hZ2VyLmdldFNlcUlkQWZ0ZXJTa2lwcGluZyh0b3Bp\nYywgc2VxSWQsIDEpOwogICAgICAgIH0KCiAgICAgICAgLy8gc28gaG93IG1h\nbnkgZGlkIHdlIGRlY2lkZSB0byByZWFkYWhlYWQKICAgICAgICBpZiAoaSA9\nPSAwKSB7CiAgICAgICAgICAgIC8vIG5vIHJlYWRhaGVhZCwgaGVuY2UgcmV0\ndXJuIGZhbHNlCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0K\nCiAgICAgICAgbG9uZyByZWFkQWhlYWRTaXplTGltaXQgPSBjZmcuZ2V0UmVh\nZEFoZWFkU2l6ZUJ5dGVzKCk7CiAgICAgICAgUmVhZEFoZWFkU2NhbkNhbGxi\nYWNrIGNhbGxiYWNrID0gbmV3IFJlYWRBaGVhZFNjYW5DYWxsYmFjayhpbnN0\nYWxsZWRTdHVicywgdG9waWMpOwogICAgICAgIFJhbmdlU2NhblJlcXVlc3Qg\ncmFuZ2VTY2FuUmVxdWVzdCA9IG5ldyBSYW5nZVNjYW5SZXF1ZXN0KHRvcGlj\nLCBzdGFydFNlcUlkLCBpLCByZWFkQWhlYWRTaXplTGltaXQsIGNhbGxiYWNr\nLAogICAgICAgICAgICAgICAgbnVsbCk7CgogICAgICAgIHJldHVybiByYW5n\nZVNjYW5SZXF1ZXN0OwoKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgaXMg\ndGhlIGNhbGxiYWNrIHRoYXQgaXMgdXNlZCBmb3IgdGhlIHJhbmdlIHNjYW5z\nLgogICAgICovCiAgICBwcm90ZWN0ZWQgY2xhc3MgUmVhZEFoZWFkU2NhbkNh\nbGxiYWNrIGltcGxlbWVudHMgU2NhbkNhbGxiYWNrIHsKICAgICAgICBRdWV1\nZTxDYWNoZUtleT4gaW5zdGFsbGVkU3R1YnM7CiAgICAgICAgQnl0ZVN0cmlu\nZyB0b3BpYzsKCiAgICAgICAgLyoqCiAgICAgICAgICogQ29uc3RydWN0b3IK\nICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSBpbnN0YWxsZWRTdHVicwog\nICAgICAgICAqICAgICAgICAgICAgVGhlIGxpc3Qgb2Ygc3R1YnMgdGhhdCB3\nZXJlIGluc3RhbGxlZCBmb3IgdGhpcyByYW5nZSBzY2FuCiAgICAgICAgICog\nQHBhcmFtIHRvcGljCiAgICAgICAgICovCiAgICAgICAgcHVibGljIFJlYWRB\naGVhZFNjYW5DYWxsYmFjayhRdWV1ZTxDYWNoZUtleT4gaW5zdGFsbGVkU3R1\nYnMsIEJ5dGVTdHJpbmcgdG9waWMpIHsKICAgICAgICAgICAgdGhpcy5pbnN0\nYWxsZWRTdHVicyA9IGluc3RhbGxlZFN0dWJzOwogICAgICAgICAgICB0aGlz\nLnRvcGljID0gdG9waWM7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9p\nZCBtZXNzYWdlU2Nhbm5lZChPYmplY3QgY3R4LCBNZXNzYWdlIG1lc3NhZ2Up\nIHsKCiAgICAgICAgICAgIC8vIEFueSBtZXNzYWdlIHdlIHJlYWQgaXMgcG90\nZW50aWFsbHkgdXNlZnVsIGZvciB1cywgc28gbGV0cyBmaXJzdAogICAgICAg\nICAgICAvLyBlbnF1ZXVlIGl0CiAgICAgICAgICAgIENhY2hlS2V5IGNhY2hl\nS2V5ID0gbmV3IENhY2hlS2V5KHRvcGljLCBtZXNzYWdlLmdldE1zZ0lkKCku\nZ2V0TG9jYWxDb21wb25lbnQoKSk7CiAgICAgICAgICAgIGVucXVldWVXaXRo\nb3V0RmFpbHVyZUJ5VG9waWModG9waWMsIG5ldyBTY2FuUmVzcG9uc2UoY2Fj\naGVLZXksIG1lc3NhZ2UpKTsKCiAgICAgICAgICAgIC8vIE5vdyBsZXRzIHNl\nZSBpZiB0aGlzIG1lc3NhZ2UgaXMgdGhlIG9uZSB3ZSB3ZXJlIGV4cGVjdGlu\nZwogICAgICAgICAgICBDYWNoZUtleSBleHBlY3RlZEtleSA9IGluc3RhbGxl\nZFN0dWJzLnBlZWsoKTsKCiAgICAgICAgICAgIGlmIChleHBlY3RlZEtleSA9\nPSBudWxsKSB7CiAgICAgICAgICAgICAgICAvLyBXYXMgbm90IGV4cGVjdGlu\nZyBhbnkgbW9yZSBtZXNzYWdlcyB0byBjb21lIGluLCBidXQgdGhleSBjYW1l\nCiAgICAgICAgICAgICAgICAvLyBpbiBzbyB3ZSB3aWxsIGtlZXAgdGhlbQog\nICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAg\nICAgICBpZiAoZXhwZWN0ZWRLZXkuZXF1YWxzKGNhY2hlS2V5KSkgewogICAg\nICAgICAgICAgICAgLy8gd2hhdCB3ZSBnb3QgaXMgd2hhdCB3ZSBleHBlY3Rl\nZCwgZGVxdWV1ZSBpdCBzbyB3ZSBnZXQgdGhlCiAgICAgICAgICAgICAgICAv\nLyBuZXh0IGV4cGVjdGVkIG9uZQogICAgICAgICAgICAgICAgaW5zdGFsbGVk\nU3R1YnMucG9sbCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAg\nICAgICB9CgogICAgICAgICAgICAvLyBJZiByZWFjaGVkIGhlcmUsIHdoYXQg\nd2Ugc2Nhbm5lZCB3YXMgbm90IHdoYXQgd2Ugd2VyZSBleHBlY3RpbmcuCiAg\nICAgICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBoYXZlIHdyb25nIHN0\ndWJzIGluc3RhbGxlZCBpbiB0aGUgY2FjaGUuIFdlCiAgICAgICAgICAgIC8v\nIHNob3VsZCByZW1vdmUgdGhlbSwgc28gdGhhdCB3aG9ldmVyIGlzIHdhaXRp\nbmcgb24gdGhlbSBjYW4gcmV0cnkuCiAgICAgICAgICAgIC8vIFRoaXMgc2hv\ndWxkbid0IGJlIGhhcHBlbmluZyB1c3VhbGx5CiAgICAgICAgICAgIGxvZ2dl\nci53YXJuKCJVbmV4cGVjdGVkIG1lc3NhZ2Ugc2VxLWlkOiAiICsgbWVzc2Fn\nZS5nZXRNc2dJZCgpLmdldExvY2FsQ29tcG9uZW50KCkgKyAiIG9uIHRvcGlj\nOiAiCiAgICAgICAgICAgICAgICAgICAgICAgICsgdG9waWMudG9TdHJpbmdV\ndGY4KCkgKyAiIGZyb20gcmVhZGFoZWFkIHNjYW4sIHdhcyBleHBlY3Rpbmcg\nc2VxLWlkOiAiICsgZXhwZWN0ZWRLZXkuc2VxSWQKICAgICAgICAgICAgICAg\nICAgICAgICAgKyAiIHRvcGljOiAiICsgZXhwZWN0ZWRLZXkudG9waWMudG9T\ndHJpbmdVdGY4KCkgKyAiIGluc3RhbGxlZFN0dWJzOiAiICsgaW5zdGFsbGVk\nU3R1YnMpOwogICAgICAgICAgICBlbnF1ZXVlRGVsZXRlT2ZSZW1haW5pbmdT\ndHVicyhub1N1Y2hTZXFJZEV4Y2VwdGlvbkluc3RhbmNlKTsKCiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgdm9pZCBzY2FuRmFpbGVkKE9iamVjdCBjdHgs\nIEV4Y2VwdGlvbiBleGNlcHRpb24pIHsKICAgICAgICAgICAgZW5xdWV1ZURl\nbGV0ZU9mUmVtYWluaW5nU3R1YnMoZXhjZXB0aW9uKTsKICAgICAgICB9Cgog\nICAgICAgIHB1YmxpYyB2b2lkIHNjYW5GaW5pc2hlZChPYmplY3QgY3R4LCBS\nZWFzb25Gb3JGaW5pc2ggcmVhc29uKSB7CiAgICAgICAgICAgIC8vIElmIHRo\nZSBzY2FuIGZpbmlzaGVkIGJlY2F1c2Ugbm8gbW9yZSBtZXNzYWdlcyBhcmUg\ncHJlc2VudCwgaXRzIG9rCiAgICAgICAgICAgIC8vIHRvIGxlYXZlIHRoZSBz\ndHVicyBpbiBwbGFjZSBiZWNhdXNlIHRoZXkgd2lsbCBnZXQgZmlsbGVkIGlu\nIGFzCiAgICAgICAgICAgIC8vIG5ldyBwdWJsaXNoZXMgaGFwcGVuLiBIb3dl\ndmVyLCBpZiB0aGUgc2NhbiBmaW5pc2hlZCBkdWUgdG8gc29tZQogICAgICAg\nICAgICAvLyBvdGhlciByZWFzb24sIGUuZy4sIHJlYWQgYWhlYWQgc2l6ZSBs\naW1pdCB3YXMgcmVhY2hlZCwgd2Ugd2FudCB0bwogICAgICAgICAgICAvLyBk\nZWxldGUgdGhlIHN0dWJzLCBzbyB0aGF0IHdoZW4gdGhlIHRpbWUgY29tZXMs\nIHdlIGNhbiBzY2hlZHVsZQogICAgICAgICAgICAvLyBhbm90aGVyIHJlYWRh\naGVhZCByZXF1ZXN0LgogICAgICAgICAgICBpZiAocmVhc29uICE9IFJlYXNv\nbkZvckZpbmlzaC5OT19NT1JFX01FU1NBR0VTKSB7CiAgICAgICAgICAgICAg\nICBlbnF1ZXVlRGVsZXRlT2ZSZW1haW5pbmdTdHVicyhyZWFkQWhlYWRFeGNl\ncHRpb25JbnN0YW5jZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAg\nICAgIHByaXZhdGUgdm9pZCBlbnF1ZXVlRGVsZXRlT2ZSZW1haW5pbmdTdHVi\ncyhFeGNlcHRpb24gcmVhc29uKSB7CiAgICAgICAgICAgIENhY2hlS2V5IGlu\nc3RhbGxlZFN0dWI7CiAgICAgICAgICAgIHdoaWxlICgoaW5zdGFsbGVkU3R1\nYiA9IGluc3RhbGxlZFN0dWJzLnBvbGwoKSkgIT0gbnVsbCkgewogICAgICAg\nICAgICAgICAgZW5xdWV1ZVdpdGhvdXRGYWlsdXJlQnlUb3BpYyhpbnN0YWxs\nZWRTdHViLmdldFRvcGljKCksCiAgICAgICAgICAgICAgICAgICAgICAgIG5l\ndyBFeGNlcHRpb25PbkNhY2hlS2V5KGluc3RhbGxlZFN0dWIsIHJlYXNvbikp\nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHByb3RlY3Rl\nZCBzdGF0aWMgY2xhc3MgSGFzaFNldENhY2hlS2V5RmFjdG9yeSBpbXBsZW1l\nbnRzIEZhY3Rvcnk8U2V0PENhY2hlS2V5Pj4gewogICAgICAgIHByb3RlY3Rl\nZCBmaW5hbCBzdGF0aWMgSGFzaFNldENhY2hlS2V5RmFjdG9yeSBpbnN0YW5j\nZSA9IG5ldyBIYXNoU2V0Q2FjaGVLZXlGYWN0b3J5KCk7CgogICAgICAgIHB1\nYmxpYyBTZXQ8Q2FjaGVLZXk+IG5ld0luc3RhbmNlKCkgewogICAgICAgICAg\nICByZXR1cm4gbmV3IEhhc2hTZXQ8Q2FjaGVLZXk+KCk7CiAgICAgICAgfQog\nICAgfQoKICAgIHByb3RlY3RlZCBzdGF0aWMgY2xhc3MgVHJlZVNldExvbmdG\nYWN0b3J5IGltcGxlbWVudHMgRmFjdG9yeTxTb3J0ZWRTZXQ8TG9uZz4+IHsK\nICAgICAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFRyZWVTZXRMb25nRmFj\ndG9yeSBpbnN0YW5jZSA9IG5ldyBUcmVlU2V0TG9uZ0ZhY3RvcnkoKTsKCiAg\nICAgICAgcHVibGljIFNvcnRlZFNldDxMb25nPiBuZXdJbnN0YW5jZSgpIHsK\nICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmVlU2V0PExvbmc+KCk7CiAgICAg\nICAgfQogICAgfQoKICAgIC8qKgogICAgICogRm9yIGFkZGluZyB0aGUgbWVz\nc2FnZSB0byB0aGUgY2FjaGUsIHdlIGRvIHNvbWUgYm9va2VlcGluZyBzdWNo\nIGFzIHRoZQogICAgICogdG90YWwgc2l6ZSBvZiBjYWNoZSwgb3JkZXIgaW4g\nd2hpY2ggZW50cmllcyB3ZXJlIGFkZGVkIGV0Yy4gSWYgdGhlIHNpemUKICAg\nICAqIG9mIHRoZSBjYWNoZSBoYXMgZXhjZWVkZWQgb3VyIGJ1ZGdldCwgb2xk\nIGVudHJpZXMgYXJlIGNvbGxlY3RlZC4KICAgICAqCiAgICAgKiBAcGFyYW0g\nY2FjaGVLZXkKICAgICAqIEBwYXJhbSBtZXNzYWdlCiAgICAgKi8KICAgIHBy\nb3RlY3RlZCB2b2lkIGFkZE1lc3NhZ2VUb0NhY2hlKGZpbmFsIENhY2hlS2V5\nIGNhY2hlS2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgZmluYWwgTWVzc2FnZSBtZXNzYWdlLCBmaW5hbCBsb25nIGN1cnJUaW1l\nKSB7CiAgICAgICAgbG9nZ2VyLmRlYnVnKCJBZGRpbmcgbXNnIHt9IHRvIHJl\nYWRhaGVhZCBjYWNoZSIsIGNhY2hlS2V5KTsKCiAgICAgICAgQ2FjaGVWYWx1\nZSBjYWNoZVZhbHVlOwoKICAgICAgICBpZiAoKGNhY2hlVmFsdWUgPSBjYWNo\nZS5nZXQoY2FjaGVLZXkpKSA9PSBudWxsKSB7CiAgICAgICAgICAgIGNhY2hl\nVmFsdWUgPSBuZXcgQ2FjaGVWYWx1ZSgpOwogICAgICAgICAgICBDYWNoZVZh\nbHVlIG9sZFZhbHVlID0gY2FjaGUucHV0SWZBYnNlbnQoY2FjaGVLZXksIGNh\nY2hlVmFsdWUpOwogICAgICAgICAgICBpZiAobnVsbCAhPSBvbGRWYWx1ZSkg\newogICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oIldlaXJkISBTaG91bGQg\nbm90IGhhdmUgdHdvIHRocmVhZHMgYWRkaW5nIG1lc3NhZ2UgdG8gY2FjaGUg\na2V5IHt9IGF0IHRoZSBzYW1lIHRpbWUuIiwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIGNhY2hlS2V5KTsKICAgICAgICAgICAgICAgIGNhY2hlVmFs\ndWUgPSBvbGRWYWx1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAg\nICAgQ2FjaGVTZWdtZW50IHNlZ21lbnQgPSBjYWNoZVNlZ21lbnQuZ2V0KCk7\nCiAgICAgICAgaW50IHNpemUgPSBtZXNzYWdlLmdldEJvZHkoKS5zaXplKCk7\nCgogICAgICAgIC8vIHVwZGF0ZSB0aGUgY2FjaGUgc2l6ZQogICAgICAgIHNl\nZ21lbnQucHJlc2VudFNlZ21lbnRTaXplLmFkZEFuZEdldChzaXplKTsKICAg\nICAgICBwcmVzZW50Q2FjaGVTaXplLmFkZEFuZEdldChzaXplKTsKCiAgICAg\nICAgc3luY2hyb25pemVkIChjYWNoZVZhbHVlKSB7CiAgICAgICAgICAgIC8v\nIGZpbmFsbHkgYWRkIHRoZSBtZXNzYWdlIHRvIHRoZSBjYWNoZQogICAgICAg\nICAgICBjYWNoZVZhbHVlLnNldE1lc3NhZ2VBbmRJbnZva2VDYWxsYmFja3Mo\nbWVzc2FnZSwgY3VyclRpbWUpOwogICAgICAgIH0KCiAgICAgICAgLy8gbWFp\nbnRhaW4gdGhlIGluZGV4IG9mIHNlcS1pZAogICAgICAgIC8vIG5vIGxvY2sg\nc2luY2UgdGhyZWFkcyBhcmUgcGFydGl0aW9uZWQgYnkgdG9waWNzCiAgICAg\nICAgTWFwTWV0aG9kcy5hZGRUb011bHRpTWFwKG9yZGVyZWRJbmRleE9uU2Vx\nSWQsIGNhY2hlS2V5LmdldFRvcGljKCksCiAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIGNhY2hlS2V5LmdldFNlcUlkKCksIFRyZWVTZXRMb25n\nRmFjdG9yeS5pbnN0YW5jZSk7CgogICAgICAgIC8vIG1haW50YWluIHRoZSB0\naW1lIGluZGV4IG9mIGFkZGl0aW9uCiAgICAgICAgTWFwTWV0aG9kcy5hZGRU\nb011bHRpTWFwKHNlZ21lbnQudGltZUluZGV4T2ZBZGRpdGlvbiwgY3VyclRp\nbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlS2V5\nLCBIYXNoU2V0Q2FjaGVLZXlGYWN0b3J5Lmluc3RhbmNlKTsKCiAgICAgICAg\nY29sbGVjdE9sZE9yRXhwaXJlZENhY2hlRW50cmllcyhzZWdtZW50KTsKICAg\nIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCByZW1vdmVNZXNzYWdlRnJvbUNhY2hl\nKGZpbmFsIENhY2hlS2V5IGNhY2hlS2V5LCBFeGNlcHRpb24gZXhjZXB0aW9u\nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBm\naW5hbCBib29sZWFuIG1haW50YWluVGltZUluZGV4LAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbCBib29sZWFuIG1h\naW50YWluU2VxSWRJbmRleCkgewogICAgICAgIENhY2hlVmFsdWUgY2FjaGVW\nYWx1ZSA9IGNhY2hlLnJlbW92ZShjYWNoZUtleSk7CgogICAgICAgIGlmIChj\nYWNoZVZhbHVlID09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAg\nICAgIH0KCiAgICAgICAgQ2FjaGVTZWdtZW50IHNlZ21lbnQgPSBjYWNoZVNl\nZ21lbnQuZ2V0KCk7CgogICAgICAgIGxvbmcgdGltZU9mQWRkaXRpb24gPSAw\nOwogICAgICAgIHN5bmNocm9uaXplZCAoY2FjaGVWYWx1ZSkgewogICAgICAg\nICAgICBpZiAoY2FjaGVWYWx1ZS5pc1N0dWIoKSkgewogICAgICAgICAgICAg\nICAgY2FjaGVWYWx1ZS5zZXRFcnJvckFuZEludm9rZUNhbGxiYWNrcyhleGNl\ncHRpb24pOwogICAgICAgICAgICAgICAgLy8gU3R1YnMgYXJlIG5vdCBwcmVz\nZW50IGluIHRoZSBpbmRleGVzLCBzbyBkb24ndCBuZWVkIHRvIG1haW50YWlu\nCiAgICAgICAgICAgICAgICAvLyBpbmRleGVzIGhlcmUKICAgICAgICAgICAg\nICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaW50IHNp\nemUgPSAwIC0gY2FjaGVWYWx1ZS5nZXRNZXNzYWdlKCkuZ2V0Qm9keSgpLnNp\nemUoKTsKICAgICAgICAgICAgcHJlc2VudENhY2hlU2l6ZS5hZGRBbmRHZXQo\nc2l6ZSk7CiAgICAgICAgICAgIHNlZ21lbnQucHJlc2VudFNlZ21lbnRTaXpl\nLmFkZEFuZEdldChzaXplKTsKICAgICAgICAgICAgdGltZU9mQWRkaXRpb24g\nPSBjYWNoZVZhbHVlLmdldFRpbWVPZkFkZGl0aW9uKCk7CiAgICAgICAgfQoK\nICAgICAgICBpZiAobWFpbnRhaW5TZXFJZEluZGV4KSB7CiAgICAgICAgICAg\nIE1hcE1ldGhvZHMucmVtb3ZlRnJvbU11bHRpTWFwKG9yZGVyZWRJbmRleE9u\nU2VxSWQsIGNhY2hlS2V5LmdldFRvcGljKCksCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlS2V5LmdldFNlcUlkKCkp\nOwogICAgICAgIH0KICAgICAgICBpZiAobWFpbnRhaW5UaW1lSW5kZXgpIHsK\nICAgICAgICAgICAgTWFwTWV0aG9kcy5yZW1vdmVGcm9tTXVsdGlNYXAoc2Vn\nbWVudC50aW1lSW5kZXhPZkFkZGl0aW9uLAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICB0aW1lT2ZBZGRpdGlvbiwgY2FjaGVL\nZXkpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENvbGxlY3Rp\nb24gb2Ygb2xkIGVudHJpZXMgaXMgc2ltcGxlLiBKdXN0IGNvbGxlY3QgaW4g\naW5zZXJ0LXRpbWUgb3JkZXIsCiAgICAgKiBvbGRlc3QgdG8gbmV3ZXN0Lgog\nICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBjb2xsZWN0T2xkT3JFeHBpcmVk\nQ2FjaGVFbnRyaWVzKENhY2hlU2VnbWVudCBzZWdtZW50KSB7CiAgICAgICAg\naWYgKGNhY2hlRW50cnlUVEwgPiAwKSB7CiAgICAgICAgICAgIC8vIGNsZWFy\nIGV4cGlyZWQgZW50cmllcwogICAgICAgICAgICB3aGlsZSAoIXNlZ21lbnQu\ndGltZUluZGV4T2ZBZGRpdGlvbi5pc0VtcHR5KCkpIHsKICAgICAgICAgICAg\nICAgIExvbmcgZWFybGllc3RUaW1lID0gc2VnbWVudC50aW1lSW5kZXhPZkFk\nZGl0aW9uLmZpcnN0S2V5KCk7CiAgICAgICAgICAgICAgICBpZiAoTWF0aFV0\naWxzLm5vdygpIC0gZWFybGllc3RUaW1lIDwgY2FjaGVFbnRyeVRUTCkgewog\nICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICAgICAgY29sbGVjdENhY2hlRW50cmllc0F0VGltZXN0YW1w\nKHNlZ21lbnQsIGVhcmxpZXN0VGltZSk7CiAgICAgICAgICAgIH0KICAgICAg\nICB9CgogICAgICAgIHdoaWxlIChzZWdtZW50LnByZXNlbnRTZWdtZW50U2l6\nZS5nZXQoKSA+IG1heFNlZ21lbnRTaXplICYmCiAgICAgICAgICAgICAgICFz\nZWdtZW50LnRpbWVJbmRleE9mQWRkaXRpb24uaXNFbXB0eSgpKSB7CiAgICAg\nICAgICAgIExvbmcgZWFybGllc3RUaW1lID0gc2VnbWVudC50aW1lSW5kZXhP\nZkFkZGl0aW9uLmZpcnN0S2V5KCk7CiAgICAgICAgICAgIGNvbGxlY3RDYWNo\nZUVudHJpZXNBdFRpbWVzdGFtcChzZWdtZW50LCBlYXJsaWVzdFRpbWUpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIHZvaWQgY29sbGVjdENhY2hl\nRW50cmllc0F0VGltZXN0YW1wKENhY2hlU2VnbWVudCBzZWdtZW50LCBsb25n\nIHRpbWVzdGFtcCkgewogICAgICAgIFNldDxDYWNoZUtleT4gb2xkQ2FjaGVF\nbnRyaWVzID0gc2VnbWVudC50aW1lSW5kZXhPZkFkZGl0aW9uLmdldCh0aW1l\nc3RhbXApOwoKICAgICAgICAvLyBOb3RlOiBvbmx5IGNvbmNyZXRlIGNhY2hl\nIGVudHJpZXMsIGFuZCBub3Qgc3R1YnMgYXJlIGluIHRoZSB0aW1lCiAgICAg\nICAgLy8gaW5kZXguIEhlbmNlIHRoZXJlIGNhbiBiZSBubyBjYWxsYmFja3Mg\ncGVuZGluZyBvbiB0aGVzZSBjYWNoZQogICAgICAgIC8vIGVudHJpZXMuIEhl\nbmNlIHNhZmUgdG8gcmVtb3ZlIHRoZW0gZGlyZWN0bHkuCiAgICAgICAgZm9y\nIChJdGVyYXRvcjxDYWNoZUtleT4gaXRlciA9IG9sZENhY2hlRW50cmllcy5p\ndGVyYXRvcigpOyBpdGVyLmhhc05leHQoKTspIHsKICAgICAgICAgICAgZmlu\nYWwgQ2FjaGVLZXkgY2FjaGVLZXkgPSBpdGVyLm5leHQoKTsKCiAgICAgICAg\nICAgIGxvZ2dlci5kZWJ1ZygiUmVtb3Zpbmcge30gZnJvbSBjYWNoZSBiZWNh\ndXNlIGl0J3MgdGhlIG9sZGVzdC4iLCBjYWNoZUtleSk7CiAgICAgICAgICAg\nIHJlbW92ZU1lc3NhZ2VGcm9tQ2FjaGUoY2FjaGVLZXksIHJlYWRBaGVhZEV4\nY2VwdGlvbkluc3RhbmNlLCAvLwogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIC8vIG1haW50YWluVGltZUluZGV4PQogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIC8vIG1haW50YWluU2VxSWRJbmRleD0KICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTsKICAgICAg\nICB9CgogICAgICAgIHNlZ21lbnQudGltZUluZGV4T2ZBZGRpdGlvbi5yZW1v\ndmUodGltZXN0YW1wKTsKICAgIH0KCiAgICAvKioKICAgICAqID09PT09PT09\nPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09\nPT09PT09PT09PT09PT09PT09PQogICAgICogVGhlIHJlc3QgaXMganVzdCBz\naW1wbGUgd3JhcHBlciBjbGFzc2VzLgogICAgICoKICAgICAqLwoKICAgIHBy\nb3RlY3RlZCBjbGFzcyBFeGNlcHRpb25PbkNhY2hlS2V5IGltcGxlbWVudHMg\nQ2FjaGVSZXF1ZXN0IHsKICAgICAgICBDYWNoZUtleSBjYWNoZUtleTsKICAg\nICAgICBFeGNlcHRpb24gZXhjZXB0aW9uOwoKICAgICAgICBwdWJsaWMgRXhj\nZXB0aW9uT25DYWNoZUtleShDYWNoZUtleSBjYWNoZUtleSwgRXhjZXB0aW9u\nIGV4Y2VwdGlvbikgewogICAgICAgICAgICB0aGlzLmNhY2hlS2V5ID0gY2Fj\naGVLZXk7CiAgICAgICAgICAgIHRoaXMuZXhjZXB0aW9uID0gZXhjZXB0aW9u\nOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogSWYgZm9yIHNv\nbWUgcmVhc29uLCBhbiBvdXRzdGFuZGluZyByZWFkIG9uIGEgY2FjaGUgc3R1\nYiBmYWlscywKICAgICAgICAgKiBleGNlcHRpb24gZm9yIHRoYXQga2V5IGlz\nIGVucXVldWVkIGJ5IHRoZQogICAgICAgICAqIHtAbGluayBSZWFkQWhlYWRT\nY2FuQ2FsbGJhY2t9LiBUbyBoYW5kbGUgdGhpcywgd2Ugc2ltcGx5IHNlbmQg\nZXJyb3IKICAgICAgICAgKiBvbiB0aGUgY2FsbGJhY2tzIHJlZ2lzdGVyZWQg\nZm9yIHRoYXQgc3R1YiwgYW5kIGRlbGV0ZSB0aGUgZW50cnkgZnJvbQogICAg\nICAgICAqIHRoZSBjYWNoZQogICAgICAgICAqLwogICAgICAgIHB1YmxpYyB2\nb2lkIHBlcmZvcm1SZXF1ZXN0KCkgewogICAgICAgICAgICByZW1vdmVNZXNz\nYWdlRnJvbUNhY2hlKGNhY2hlS2V5LCBleGNlcHRpb24sCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFpbnRhaW5UaW1lSW5kZXg9\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwKICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWludGFpblNl\ncUlkSW5kZXg9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\ndHJ1ZSk7CiAgICAgICAgfQoKICAgIH0KCiAgICBAU3VwcHJlc3NXYXJuaW5n\ncygic2VyaWFsIikKICAgIHByb3RlY3RlZCBzdGF0aWMgY2xhc3MgTm9TdWNo\nU2VxSWRFeGNlcHRpb24gZXh0ZW5kcyBFeGNlcHRpb24gewoKICAgICAgICBw\ndWJsaWMgTm9TdWNoU2VxSWRFeGNlcHRpb24oKSB7CiAgICAgICAgICAgIHN1\ncGVyKCJObyBzdWNoIHNlcS1pZCIpOwogICAgICAgIH0KICAgIH0KCiAgICBA\nU3VwcHJlc3NXYXJuaW5ncygic2VyaWFsIikKICAgIHByb3RlY3RlZCBzdGF0\naWMgY2xhc3MgUmVhZEFoZWFkRXhjZXB0aW9uIGV4dGVuZHMgRXhjZXB0aW9u\nIHsKICAgICAgICBwdWJsaWMgUmVhZEFoZWFkRXhjZXB0aW9uKCkgewogICAg\nICAgICAgICBzdXBlcigiUmVhZGFoZWFkIGZhaWxlZCIpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgY2xhc3MgQ2FuY2VsU2NhblJlcXVlc3RPcCBp\nbXBsZW1lbnRzIENhY2hlUmVxdWVzdCB7CgogICAgICAgIGZpbmFsIENhbmNl\nbFNjYW5SZXF1ZXN0IHJlcXVlc3Q7CgogICAgICAgIHB1YmxpYyBDYW5jZWxT\nY2FuUmVxdWVzdE9wKENhbmNlbFNjYW5SZXF1ZXN0IHJlcXVlc3QpIHsKICAg\nICAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDsKICAgICAgICB9Cgog\nICAgICAgIHB1YmxpYyB2b2lkIHBlcmZvcm1SZXF1ZXN0KCkgewogICAgICAg\nICAgICAvLyBjYW5jZWwgc2NhbiByZXF1ZXN0CiAgICAgICAgICAgIGNhbmNl\nbFNjYW5SZXF1ZXN0KHJlcXVlc3QuZ2V0U2NhblJlcXVlc3QoKSk7CiAgICAg\nICAgfQoKICAgICAgICB2b2lkIGNhbmNlbFNjYW5SZXF1ZXN0KFNjYW5SZXF1\nZXN0IHJlcXVlc3QpIHsKICAgICAgICAgICAgaWYgKG51bGwgPT0gcmVxdWVz\ndCkgewogICAgICAgICAgICAgICAgLy8gbm90aGluZyB0byBjYW5jZWwKICAg\nICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAg\nICAgQ2FjaGVLZXkgY2FjaGVLZXkgPSBuZXcgQ2FjaGVLZXkocmVxdWVzdC5n\nZXRUb3BpYygpLCByZXF1ZXN0LmdldFN0YXJ0U2VxSWQoKSk7CiAgICAgICAg\nICAgIENhY2hlVmFsdWUgY2FjaGVWYWx1ZSA9IGNhY2hlLmdldChjYWNoZUtl\neSk7CiAgICAgICAgICAgIGlmIChudWxsID09IGNhY2hlVmFsdWUpIHsKICAg\nICAgICAgICAgICAgIC8vIGNhY2hlIHZhbHVlIGlzIGV2aWN0ZWQKICAgICAg\nICAgICAgICAgIC8vIHNvIGl0J3MgY2FsbGJhY2sgd291bGQgYmUgY2FsbGVk\nLCB3ZSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0CiAgICAgICAgICAgICAg\nICAvLyBjYW5jZWwgaXQuIHNpbmNlIGl0IHdhcyB0cmVhdGVkIGFzIGV4ZWN1\ndGVkLgogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAg\nICAgICAgICAgIGNhY2hlVmFsdWUucmVtb3ZlQ2FsbGJhY2socmVxdWVzdC5n\nZXRDYWxsYmFjaygpLCByZXF1ZXN0LmdldEN0eCgpKTsKICAgICAgICB9CiAg\nICB9CgogICAgcHVibGljIHZvaWQgY2FuY2VsU2NhblJlcXVlc3QoQnl0ZVN0\ncmluZyB0b3BpYywgQ2FuY2VsU2NhblJlcXVlc3QgcmVxdWVzdCkgewogICAg\nICAgIGVucXVldWVXaXRob3V0RmFpbHVyZUJ5VG9waWModG9waWMsIG5ldyBD\nYW5jZWxTY2FuUmVxdWVzdE9wKHJlcXVlc3QpKTsKICAgIH0KCiAgICBwcm90\nZWN0ZWQgY2xhc3MgU2NhblJlc3BvbnNlIGltcGxlbWVudHMgQ2FjaGVSZXF1\nZXN0IHsKICAgICAgICBDYWNoZUtleSBjYWNoZUtleTsKICAgICAgICBNZXNz\nYWdlIG1lc3NhZ2U7CgogICAgICAgIHB1YmxpYyBTY2FuUmVzcG9uc2UoQ2Fj\naGVLZXkgY2FjaGVLZXksIE1lc3NhZ2UgbWVzc2FnZSkgewogICAgICAgICAg\nICB0aGlzLmNhY2hlS2V5ID0gY2FjaGVLZXk7CiAgICAgICAgICAgIHRoaXMu\nbWVzc2FnZSA9IG1lc3NhZ2U7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMg\ndm9pZCBwZXJmb3JtUmVxdWVzdCgpIHsKICAgICAgICAgICAgYWRkTWVzc2Fn\nZVRvQ2FjaGUoY2FjaGVLZXksIG1lc3NhZ2UsIE1hdGhVdGlscy5ub3coKSk7\nCiAgICAgICAgfQoKICAgIH0KCiAgICBwcm90ZWN0ZWQgY2xhc3MgRGVsaXZl\ncmVkVW50aWwgaW1wbGVtZW50cyBDYWNoZVJlcXVlc3QgewogICAgICAgIEJ5\ndGVTdHJpbmcgdG9waWM7CiAgICAgICAgTG9uZyBzZXFJZDsKCiAgICAgICAg\ncHVibGljIERlbGl2ZXJlZFVudGlsKEJ5dGVTdHJpbmcgdG9waWMsIExvbmcg\nc2VxSWQpIHsKICAgICAgICAgICAgdGhpcy50b3BpYyA9IHRvcGljOwogICAg\nICAgICAgICB0aGlzLnNlcUlkID0gc2VxSWQ7CiAgICAgICAgfQoKICAgICAg\nICBwdWJsaWMgdm9pZCBwZXJmb3JtUmVxdWVzdCgpIHsKICAgICAgICAgICAg\nU29ydGVkU2V0PExvbmc+IG9yZGVyZWRTZXFJZHMgPSBvcmRlcmVkSW5kZXhP\nblNlcUlkLmdldCh0b3BpYyk7CiAgICAgICAgICAgIGlmIChvcmRlcmVkU2Vx\nSWRzID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAg\nICAgICAgfQoKICAgICAgICAgICAgLy8gZm9jdXMgb24gdGhlIHNldCBvZiBt\nZXNzYWdlcyB3aXRoIHNlcS1pZHMgPD0gdGhlIG9uZSB0aGF0CiAgICAgICAg\nICAgIC8vIGhhcyBiZWVuIGRlbGl2ZXJlZCB1bnRpbAogICAgICAgICAgICBT\nb3J0ZWRTZXQ8TG9uZz4gaGVhZFNldCA9IG9yZGVyZWRTZXFJZHMuaGVhZFNl\ndChzZXFJZCArIDEpOwoKICAgICAgICAgICAgZm9yIChJdGVyYXRvcjxMb25n\nPiBpdGVyID0gaGVhZFNldC5pdGVyYXRvcigpOyBpdGVyLmhhc05leHQoKTsp\nIHsKICAgICAgICAgICAgICAgIExvbmcgc2VxSWQgPSBpdGVyLm5leHQoKTsK\nICAgICAgICAgICAgICAgIENhY2hlS2V5IGNhY2hlS2V5ID0gbmV3IENhY2hl\nS2V5KHRvcGljLCBzZXFJZCk7CgogICAgICAgICAgICAgICAgbG9nZ2VyLmRl\nYnVnKCJSZW1vdmluZyB7fSBmcm9tIGNhY2hlIGJlY2F1c2UgZXZlcnkgc3Vi\nc2NyaWJlciBoYXMgbW92ZWQgcGFzdCIsCiAgICAgICAgICAgICAgICAgICAg\nY2FjaGVLZXkpOwoKICAgICAgICAgICAgICAgIHJlbW92ZU1lc3NhZ2VGcm9t\nQ2FjaGUoY2FjaGVLZXksIHJlYWRBaGVhZEV4Y2VwdGlvbkluc3RhbmNlLCAv\nLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBt\nYWludGFpblRpbWVJbmRleD0KICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgLy8gbWFpbnRhaW5TZXFJZEluZGV4PQogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSk7CiAgICAgICAg\nICAgICAgICBpdGVyLnJlbW92ZSgpOwogICAgICAgICAgICB9CgogICAgICAg\nICAgICBpZiAob3JkZXJlZFNlcUlkcy5pc0VtcHR5KCkpIHsKICAgICAgICAg\nICAgICAgIG9yZGVyZWRJbmRleE9uU2VxSWQucmVtb3ZlKHRvcGljKTsKICAg\nICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBwcm90ZWN0ZWQgY2xh\nc3MgU2NhblJlcXVlc3RXcmFwcGVyIGltcGxlbWVudHMgQ2FjaGVSZXF1ZXN0\nIHsKICAgICAgICBTY2FuUmVxdWVzdCByZXF1ZXN0OwoKICAgICAgICBwdWJs\naWMgU2NhblJlcXVlc3RXcmFwcGVyKFNjYW5SZXF1ZXN0IHJlcXVlc3QpIHsK\nICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDsKICAgICAgICB9\nCgogICAgICAgIC8qKgogICAgICAgICAqIFRvIGhhbmRsZSBhIHNjYW4gcmVx\ndWVzdCwgd2UgZmlyc3QgdHJ5IHRvIGRvIHJlYWRhaGVhZCAod2hpY2ggbWln\naHQKICAgICAgICAgKiBjYXVzZSBhIHJhbmdlIHJlYWQgdG8gYmUgaXNzdWVk\nIHRvIHRoZSB1bmRlcmx5aW5nIHBlcnNpc3RlbmNlCiAgICAgICAgICogbWFu\nYWdlcikuIFRoZSByZWFkYWhlYWQgd2lsbCBwdXQgYSBzdHViIGluIHRoZSBj\nYWNoZSwgaWYgdGhlIG1lc3NhZ2UKICAgICAgICAgKiBpcyBub3QgYWxyZWFk\neSBwcmVzZW50IGluIHRoZSBjYWNoZS4gVGhlIHNjYW4gY2FsbGJhY2sgdGhh\ndCBpcyBwYXJ0CiAgICAgICAgICogb2YgdGhlIHNjYW4gcmVxdWVzdCBpcyBh\nZGRlZCB0byB0aGlzIHN0dWIsIGFuZCB3aWxsIGJlIGNhbGxlZCBsYXRlcgog\nICAgICAgICAqIHdoZW4gdGhlIG1lc3NhZ2UgYXJyaXZlcyBhcyBhIHJlc3Vs\ndCBvZiB0aGUgcmFuZ2Ugc2NhbiBpc3N1ZWQgdG8gdGhlCiAgICAgICAgICog\ndW5kZXJseWluZyBwZXJzaXN0ZW5jZSBtYW5hZ2VyLgogICAgICAgICAqLwoK\nICAgICAgICBwdWJsaWMgdm9pZCBwZXJmb3JtUmVxdWVzdCgpIHsKCiAgICAg\nICAgICAgIFJhbmdlU2NhblJlcXVlc3QgcmVhZEFoZWFkUmVxdWVzdCA9IGRv\nUmVhZEFoZWFkKHJlcXVlc3QpOwoKICAgICAgICAgICAgLy8gUmVhZCBhaGVh\nZCBtdXN0IGhhdmUgaW5zdGFsbGVkIGF0IGxlYXN0IGEgc3R1YiBmb3IgdXMs\nIHNvIHRoaXMKICAgICAgICAgICAgLy8gY2FuJ3QgYmUgbnVsbAogICAgICAg\nICAgICBDYWNoZUtleSBjYWNoZUtleSA9IG5ldyBDYWNoZUtleShyZXF1ZXN0\nLmdldFRvcGljKCksIHJlcXVlc3QuZ2V0U3RhcnRTZXFJZCgpKTsKICAgICAg\nICAgICAgQ2FjaGVWYWx1ZSBjYWNoZVZhbHVlID0gY2FjaGUuZ2V0KGNhY2hl\nS2V5KTsKICAgICAgICAgICAgaWYgKG51bGwgPT0gY2FjaGVWYWx1ZSkgewog\nICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCJDYWNoZSBrZXkge30gaXMg\ncmVtb3ZlZCBhZnRlciBpbnN0YWxsaW5nIHN0dWIgd2hlbiBzY2FubmluZy4i\nLCBjYWNoZUtleSk7CiAgICAgICAgICAgICAgICAvLyByZWlzc3VlIHRoZSBy\nZXF1ZXN0IAogICAgICAgICAgICAgICAgc2NhblNpbmdsZU1lc3NhZ2UocmVx\ndWVzdCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0K\nCiAgICAgICAgICAgIHN5bmNocm9uaXplZCAoY2FjaGVWYWx1ZSkgewogICAg\nICAgICAgICAgICAgLy8gQWRkIG91ciBjYWxsYmFjayB0byB0aGUgc3R1Yi4g\nSWYgdGhlIGNhY2hlIHZhbHVlIHdhcyBhbHJlYWR5IGEKICAgICAgICAgICAg\nICAgIC8vIGNvbmNyZXRlIG1lc3NhZ2UsIHRoZSBjYWxsYmFjayB3aWxsIGJl\nIGNhbGxlZCByaWdodCBhd2F5CiAgICAgICAgICAgICAgICBjYWNoZVZhbHVl\nLmFkZENhbGxiYWNrKHJlcXVlc3QuZ2V0Q2FsbGJhY2soKSwgcmVxdWVzdC5n\nZXRDdHgoKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChyZWFk\nQWhlYWRSZXF1ZXN0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHJlYWxQ\nZXJzaXN0ZW5jZU1hbmFnZXIuc2Nhbk1lc3NhZ2VzKHJlYWRBaGVhZFJlcXVl\nc3QpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVy\ncmlkZQogICAgcHVibGljIHZvaWQgcmVnaXN0ZXJKTVgoSGVkd2lnTUJlYW5J\nbmZvIHBhcmVudCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGpteENh\nY2hlQmVhbiA9IG5ldyBSZWFkQWhlYWRDYWNoZUJlYW4odGhpcyk7CiAgICAg\nICAgICAgIEhlZHdpZ01CZWFuUmVnaXN0cnkuZ2V0SW5zdGFuY2UoKS5yZWdp\nc3RlcihqbXhDYWNoZUJlYW4sIHBhcmVudCk7CiAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgbG9nZ2VyLndhcm4oIkZhaWxl\nZCB0byByZWdpc3RlciByZWFkYWhlYWQgY2FjaGUgd2l0aCBKTVgiLCBlKTsK\nICAgICAgICAgICAgam14Q2FjaGVCZWFuID0gbnVsbDsKICAgICAgICB9CiAg\nICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCB1bnJlZ2lzdGVy\nSk1YKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChqbXhDYWNo\nZUJlYW4gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgSGVkd2lnTUJlYW5S\nZWdpc3RyeS5nZXRJbnN0YW5jZSgpLnVucmVnaXN0ZXIoam14Q2FjaGVCZWFu\nKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBl\nKSB7CiAgICAgICAgICAgIGxvZ2dlci53YXJuKCJGYWlsZWQgdG8gdW5yZWdp\nc3RlciByZWFkYWhlYWQgY2FjaGUgd2l0aCBKTVgiLCBlKTsKICAgICAgICB9\nCiAgICB9Cn0K\n","encoding":"base64"}

