{"sha":"126155845e250879cae1657dce291d4d5c4860e1","node_id":"MDQ6QmxvYjE1NzU5NTY6MTI2MTU1ODQ1ZTI1MDg3OWNhZTE2NTdkY2UyOTFkNGQ1YzQ4NjBlMQ==","size":6228,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/126155845e250879cae1657dce291d4d5c4860e1","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuc3Vic2NyaXB0aW9uczsK\nCmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGls\nLk1hcDsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRI\nYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuU2NoZWR1bGVk\nRXhlY3V0b3JTZXJ2aWNlOwoKaW1wb3J0IGNvbS5nb29nbGUucHJvdG9idWYu\nQnl0ZVN0cmluZzsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmV4Y2VwdGlv\nbnMuUHViU3ViRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcu\ncHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuU3Vic2NyaXB0aW9uRGF0YTsKaW1w\nb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5jb21tb24uU2VydmVyQ29u\nZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5k\nZWxpdmVyeS5EZWxpdmVyeU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhl\nZHdpZy5zZXJ2ZXIubWV0YS5NZXRhZGF0YU1hbmFnZXJGYWN0b3J5OwppbXBv\ncnQgb3JnLmFwYWNoZS5oZWR3aWcuc2VydmVyLm1ldGEuU3Vic2NyaXB0aW9u\nRGF0YU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIu\ncGVyc2lzdGVuY2UuUGVyc2lzdGVuY2VNYW5hZ2VyOwppbXBvcnQgb3JnLmFw\nYWNoZS5oZWR3aWcuc2VydmVyLnRvcGljcy5Ub3BpY01hbmFnZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLmhlZHdpZy51dGlsLkNhbGxiYWNrOwppbXBvcnQgb3Jn\nLmFwYWNoZS5ib29ra2VlcGVyLnZlcnNpb25pbmcuVmVyc2lvbjsKaW1wb3J0\nIG9yZy5hcGFjaGUuYm9va2tlZXBlci52ZXJzaW9uaW5nLlZlcnNpb25lZDsK\nCi8qKgogKiBNZXRhTWFuYWdlci1iYXNlZCBzdWJzY3JpcHRpb24gbWFuYWdl\nci4KICovCnB1YmxpYyBjbGFzcyBNTVN1YnNjcmlwdGlvbk1hbmFnZXIgZXh0\nZW5kcyBBYnN0cmFjdFN1YnNjcmlwdGlvbk1hbmFnZXIgewoKICAgIFN1YnNj\ncmlwdGlvbkRhdGFNYW5hZ2VyIHN1Yk1hbmFnZXI7CgogICAgcHVibGljIE1N\nU3Vic2NyaXB0aW9uTWFuYWdlcihTZXJ2ZXJDb25maWd1cmF0aW9uIGNmZywK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWV0YWRhdGFNYW5h\nZ2VyRmFjdG9yeSBtZXRhTWFuYWdlckZhY3RvcnksCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIFRvcGljTWFuYWdlciB0b3BpY01nciwgUGVy\nc2lzdGVuY2VNYW5hZ2VyIHBtLAogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICBEZWxpdmVyeU1hbmFnZXIgZG0sCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIFNjaGVkdWxlZEV4ZWN1dG9yU2VydmljZSBzY2hl\nZHVsZXIpIHsKICAgICAgICBzdXBlcihjZmcsIHRvcGljTWdyLCBwbSwgZG0s\nIHNjaGVkdWxlcik7CiAgICAgICAgdGhpcy5zdWJNYW5hZ2VyID0gbWV0YU1h\nbmFnZXJGYWN0b3J5Lm5ld1N1YnNjcmlwdGlvbkRhdGFNYW5hZ2VyKCk7CiAg\nICB9CgogICAgQE92ZXJyaWRlCiAgICBwcm90ZWN0ZWQgdm9pZCByZWFkU3Vi\nc2NyaXB0aW9ucyhmaW5hbCBCeXRlU3RyaW5nIHRvcGljLAogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWwgQ2FsbGJhY2s8TWFw\nPEJ5dGVTdHJpbmcsIEluTWVtb3J5U3Vic2NyaXB0aW9uU3RhdGU+PiBjYiwg\nZmluYWwgT2JqZWN0IGN0eCkgewogICAgICAgIHN1Yk1hbmFnZXIucmVhZFN1\nYnNjcmlwdGlvbnModG9waWMsIG5ldyBDYWxsYmFjazxNYXA8Qnl0ZVN0cmlu\nZywgVmVyc2lvbmVkPFN1YnNjcmlwdGlvbkRhdGE+Pj4oKSB7CiAgICAgICAg\nICAgIEBPdmVycmlkZQogICAgICAgICAgICBwdWJsaWMgdm9pZCBvcGVyYXRp\nb25GYWlsZWQoT2JqZWN0IGN0eCwgUHViU3ViRXhjZXB0aW9uIHBzZSkgewog\nICAgICAgICAgICAgICAgY2Iub3BlcmF0aW9uRmFpbGVkKGN0eCwgcHNlKTsK\nICAgICAgICAgICAgfQogICAgICAgICAgICBAT3ZlcnJpZGUKICAgICAgICAg\nICAgcHVibGljIHZvaWQgb3BlcmF0aW9uRmluaXNoZWQoT2JqZWN0IGN0eCwg\nTWFwPEJ5dGVTdHJpbmcsIFZlcnNpb25lZDxTdWJzY3JpcHRpb25EYXRhPj4g\nc3VicykgewogICAgICAgICAgICAgICAgTWFwPEJ5dGVTdHJpbmcsIEluTWVt\nb3J5U3Vic2NyaXB0aW9uU3RhdGU+IHJlc3VsdHMgPSBuZXcgQ29uY3VycmVu\ndEhhc2hNYXA8Qnl0ZVN0cmluZywgSW5NZW1vcnlTdWJzY3JpcHRpb25TdGF0\nZT4oKTsKICAgICAgICAgICAgICAgIGZvciAoTWFwLkVudHJ5PEJ5dGVTdHJp\nbmcsIFZlcnNpb25lZDxTdWJzY3JpcHRpb25EYXRhPj4gc3ViRW50cnkgOiBz\ndWJzLmVudHJ5U2V0KCkpIHsKICAgICAgICAgICAgICAgICAgICBWZXJzaW9u\nZWQ8U3Vic2NyaXB0aW9uRGF0YT4gdnYgPSBzdWJFbnRyeS5nZXRWYWx1ZSgp\nOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHV0KHN1YkVudHJ5Lmdl\ndEtleSgpLCBuZXcgSW5NZW1vcnlTdWJzY3JpcHRpb25TdGF0ZSh2di5nZXRW\nYWx1ZSgpLCB2di5nZXRWZXJzaW9uKCkpKTsKICAgICAgICAgICAgICAgIH0K\nICAgICAgICAgICAgICAgIGNiLm9wZXJhdGlvbkZpbmlzaGVkKGN0eCwgcmVz\ndWx0cyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCBjdHgpOwogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgcmVhZFN1YnNjcmlw\ndGlvbkRhdGEoZmluYWwgQnl0ZVN0cmluZyB0b3BpYywgZmluYWwgQnl0ZVN0\ncmluZyBzdWJzY3JpYmVySWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICBmaW5hbCBDYWxsYmFjazxJbk1lbW9yeVN1YnNjcmlw\ndGlvblN0YXRlPiBjYiwgZmluYWwgT2JqZWN0IGN0eCkgewogICAgICAgIHN1\nYk1hbmFnZXIucmVhZFN1YnNjcmlwdGlvbkRhdGEodG9waWMsIHN1YnNjcmli\nZXJJZCwgbmV3IENhbGxiYWNrPFZlcnNpb25lZDxTdWJzY3JpcHRpb25EYXRh\nPj4oKSB7CiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICBwdWJs\naWMgdm9pZCBvcGVyYXRpb25GaW5pc2hlZChPYmplY3QgY3R4LAogICAgICAg\nICAgICAgICAgICAgIFZlcnNpb25lZDxTdWJzY3JpcHRpb25EYXRhPiBzdWJE\nYXRhKSB7CiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBzdWJEYXRhKSB7\nCiAgICAgICAgICAgICAgICAgICAgY2Iub3BlcmF0aW9uRmluaXNoZWQoY3R4\nLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbk1lbW9yeVN1\nYnNjcmlwdGlvblN0YXRlKHN1YkRhdGEuZ2V0VmFsdWUoKSwgc3ViRGF0YS5n\nZXRWZXJzaW9uKCkpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAg\nICAgICAgICAgICAgICAgY2Iub3BlcmF0aW9uRmluaXNoZWQoY3R4LCBuZXcg\nSW5NZW1vcnlTdWJzY3JpcHRpb25TdGF0ZSgKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIFN1YnNjcmlwdGlvbkRhdGEuZ2V0RGVmYXVsdEluc3RhbmNl\nKCksIFZlcnNpb24uTkVXKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgIH0KICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1Ymxp\nYyB2b2lkIG9wZXJhdGlvbkZhaWxlZChPYmplY3QgY3R4LCBQdWJTdWJFeGNl\ncHRpb24gZXhjZXB0aW9uKSB7CiAgICAgICAgICAgICAgICBjYi5vcGVyYXRp\nb25GYWlsZWQoY3R4LCBleGNlcHRpb24pOwogICAgICAgICAgICB9CiAgICAg\nICAgfSwgY3R4KTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3Rl\nZCBib29sZWFuIGlzUGFydGlhbFVwZGF0ZVN1cHBvcnRlZCgpIHsKICAgICAg\nICByZXR1cm4gc3ViTWFuYWdlci5pc1BhcnRpYWxVcGRhdGVTdXBwb3J0ZWQo\nKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIGNy\nZWF0ZVN1YnNjcmlwdGlvbkRhdGEoZmluYWwgQnl0ZVN0cmluZyB0b3BpYywg\nZmluYWwgQnl0ZVN0cmluZyBzdWJzY3JpYmVySWQsCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIFN1YnNjcmlwdGlv\nbkRhdGEgc3ViRGF0YSwgZmluYWwgQ2FsbGJhY2s8VmVyc2lvbj4gY2FsbGJh\nY2ssIGZpbmFsIE9iamVjdCBjdHgpIHsKICAgICAgICBzdWJNYW5hZ2VyLmNy\nZWF0ZVN1YnNjcmlwdGlvbkRhdGEodG9waWMsIHN1YnNjcmliZXJJZCwgc3Vi\nRGF0YSwgY2FsbGJhY2ssIGN0eCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAg\nICBwcm90ZWN0ZWQgdm9pZCByZXBsYWNlU3Vic2NyaXB0aW9uRGF0YShmaW5h\nbCBCeXRlU3RyaW5nIHRvcGljLCBmaW5hbCBCeXRlU3RyaW5nIHN1YnNjcmli\nZXJJZCwgZmluYWwgU3Vic2NyaXB0aW9uRGF0YSBzdWJEYXRhLCAKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIFZl\ncnNpb24gdmVyc2lvbiwgZmluYWwgQ2FsbGJhY2s8VmVyc2lvbj4gY2FsbGJh\nY2ssIGZpbmFsIE9iamVjdCBjdHgpIHsKICAgICAgICBzdWJNYW5hZ2VyLnJl\ncGxhY2VTdWJzY3JpcHRpb25EYXRhKHRvcGljLCBzdWJzY3JpYmVySWQsIHN1\nYkRhdGEsIHZlcnNpb24sIGNhbGxiYWNrLCBjdHgpOwogICAgfQoKICAgIEBP\ndmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlU3Vic2NyaXB0aW9u\nRGF0YShmaW5hbCBCeXRlU3RyaW5nIHRvcGljLCBmaW5hbCBCeXRlU3RyaW5n\nIHN1YnNjcmliZXJJZCwgZmluYWwgU3Vic2NyaXB0aW9uRGF0YSBzdWJEYXRh\nLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nZmluYWwgVmVyc2lvbiB2ZXJzaW9uLCBmaW5hbCBDYWxsYmFjazxWZXJzaW9u\nPiBjYWxsYmFjaywgZmluYWwgT2JqZWN0IGN0eCkgewogICAgICAgIHN1Yk1h\nbmFnZXIudXBkYXRlU3Vic2NyaXB0aW9uRGF0YSh0b3BpYywgc3Vic2NyaWJl\ncklkLCBzdWJEYXRhLCB2ZXJzaW9uLCBjYWxsYmFjaywgY3R4KTsKICAgIH0K\nCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIGRlbGV0ZVN1YnNj\ncmlwdGlvbkRhdGEoZmluYWwgQnl0ZVN0cmluZyB0b3BpYywgZmluYWwgQnl0\nZVN0cmluZyBzdWJzY3JpYmVySWQsIFZlcnNpb24gdmVyc2lvbiwKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWwgQ2Fs\nbGJhY2s8Vm9pZD4gY2FsbGJhY2ssIGZpbmFsIE9iamVjdCBjdHgpIHsKICAg\nICAgICBzdWJNYW5hZ2VyLmRlbGV0ZVN1YnNjcmlwdGlvbkRhdGEodG9waWMs\nIHN1YnNjcmliZXJJZCwgdmVyc2lvbiwgY2FsbGJhY2ssIGN0eCk7CiAgICB9\nCgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBzdG9wKCkgewogICAg\nICAgIHN1cGVyLnN0b3AoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBz\ndWJNYW5hZ2VyLmNsb3NlKCk7CiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRp\nb24gaW9lKSB7CiAgICAgICAgICAgIGxvZ2dlci53YXJuKCJFeGNlcHRpb24g\nY2xvc2luZyBzdWJzY3JpcHRpb24gZGF0YSBtYW5hZ2VyIDogIiwgaW9lKTsK\nICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

