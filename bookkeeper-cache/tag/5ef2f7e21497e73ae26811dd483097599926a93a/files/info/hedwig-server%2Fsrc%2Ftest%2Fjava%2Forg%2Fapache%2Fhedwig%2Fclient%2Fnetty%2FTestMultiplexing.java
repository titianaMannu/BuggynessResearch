{"sha":"bfe96e3fdf148599529e1e664b792f1fe9df4c2b","node_id":"MDQ6QmxvYjE1NzU5NTY6YmZlOTZlM2ZkZjE0ODU5OTUyOWUxZTY2NGI3OTJmMWZlOWRmNGMyYg==","size":17885,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/bfe96e3fdf148599529e1e664b792f1fe9df4c2b","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHk7CgppbXBvcnQg\namF2YS51dGlsLmNvbmN1cnJlbnQuQ291bnREb3duTGF0Y2g7CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5UaW1lVW5pdDsKCmltcG9ydCBvcmcuanVu\naXQuQWZ0ZXI7CmltcG9ydCBvcmcuanVuaXQuQmVmb3JlOwppbXBvcnQgb3Jn\nLmp1bml0LlRlc3Q7CgppbXBvcnQgY29tLmdvb2dsZS5wcm90b2J1Zi5CeXRl\nU3RyaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50LmFwaS5N\nZXNzYWdlSGFuZGxlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVu\ndC5jb25mLkNsaWVudENvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLmhlZHdpZy5jbGllbnQuSGVkd2lnQ2xpZW50OwppbXBvcnQgb3JnLmFwYWNo\nZS5oZWR3aWcuY2xpZW50LmFwaS5QdWJsaXNoZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLmhlZHdpZy5jbGllbnQuYXBpLlN1YnNjcmliZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5NZXNzYWdl\nOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJv\ndG9jb2wuTWVzc2FnZVNlcUlkOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcu\ncHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuU3Vic2NyaWJlUmVxdWVzdC5DcmVh\ndGVPckF0dGFjaDsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5I\nZWR3aWdIdWJUZXN0QmFzZTsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNl\ncnZlci5jb21tb24uU2VydmVyQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5h\ncGFjaGUuaGVkd2lnLnV0aWwuQ2FsbGJhY2s7CgpwdWJsaWMgY2xhc3MgVGVz\ndE11bHRpcGxleGluZyBleHRlbmRzIEhlZHdpZ0h1YlRlc3RCYXNlIHsKCiAg\nICBwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgREVGQVVMVF9NU0dfV0lORE9X\nX1NJWkUgPSAxMDsKCiAgICBwcm90ZWN0ZWQgY2xhc3MgVGVzdFNlcnZlckNv\nbmZpZ3VyYXRpb24gZXh0ZW5kcyBIdWJTZXJ2ZXJDb25maWd1cmF0aW9uIHsK\nICAgICAgICBUZXN0U2VydmVyQ29uZmlndXJhdGlvbihpbnQgc2VydmVyUG9y\ndCwgaW50IHNzbFNlcnZlclBvcnQpIHsKICAgICAgICAgICAgc3VwZXIoc2Vy\ndmVyUG9ydCwgc3NsU2VydmVyUG9ydCk7CiAgICAgICAgfQogICAgICAgIEBP\ndmVycmlkZQogICAgICAgIHB1YmxpYyBpbnQgZ2V0RGVmYXVsdE1lc3NhZ2VX\naW5kb3dTaXplKCkgewogICAgICAgICAgICByZXR1cm4gREVGQVVMVF9NU0df\nV0lORE9XX1NJWkU7CiAgICAgICAgfQogICAgfQoKICAgIGNsYXNzIFRlc3RN\nZXNzYWdlSGFuZGxlciBpbXBsZW1lbnRzIE1lc3NhZ2VIYW5kbGVyIHsKCiAg\nICAgICAgaW50IGV4cGVjdGVkOwogICAgICAgIGZpbmFsIGludCBudW1Nc2dz\nQXRGaXJzdFJ1bjsKICAgICAgICBmaW5hbCBpbnQgbnVtTXNnc0F0U2Vjb25k\nUnVuOwogICAgICAgIGZpbmFsIENvdW50RG93bkxhdGNoIGZpcnN0TGF0Y2g7\nCiAgICAgICAgZmluYWwgQ291bnREb3duTGF0Y2ggc2Vjb25kTGF0Y2g7CiAg\nICAgICAgZmluYWwgYm9vbGVhbiByZWNlaXZlU2Vjb25kUnVuOwoKICAgICAg\nICBwdWJsaWMgVGVzdE1lc3NhZ2VIYW5kbGVyKGludCBzdGFydCwgaW50IG51\nbU1zZ3NBdEZpcnN0UnVuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgYm9vbGVhbiByZWNlaXZlU2Vjb25kUnVuLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgaW50IG51bU1zZ3NBdFNlY29uZFJ1bikg\newogICAgICAgICAgICBleHBlY3RlZCA9IHN0YXJ0OwogICAgICAgICAgICB0\naGlzLm51bU1zZ3NBdEZpcnN0UnVuID0gbnVtTXNnc0F0Rmlyc3RSdW47CiAg\nICAgICAgICAgIHRoaXMubnVtTXNnc0F0U2Vjb25kUnVuID0gbnVtTXNnc0F0\nU2Vjb25kUnVuOwogICAgICAgICAgICB0aGlzLnJlY2VpdmVTZWNvbmRSdW4g\nPSByZWNlaXZlU2Vjb25kUnVuOwogICAgICAgICAgICBmaXJzdExhdGNoID0g\nbmV3IENvdW50RG93bkxhdGNoKDEpOwogICAgICAgICAgICBzZWNvbmRMYXRj\naCA9IG5ldyBDb3VudERvd25MYXRjaCgxKTsKICAgICAgICB9CgogICAgICAg\nIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgdm9pZCBk\nZWxpdmVyKEJ5dGVTdHJpbmcgdG9waWMsIEJ5dGVTdHJpbmcgc3Vic2NyaWJl\ncklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIE1lc3NhZ2UgbXNnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIENhbGxiYWNrPFZvaWQ+IGNhbGxiYWNrLCBPYmplY3QgY29u\ndGV4dCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaW50\nIHZhbHVlID0gSW50ZWdlci52YWx1ZU9mKG1zZy5nZXRCb2R5KCkudG9TdHJp\nbmdVdGY4KCkpOwogICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCJSZWNl\naXZlZCBtZXNzYWdlIHt9LiIsIHZhbHVlKTsKCiAgICAgICAgICAgICAgICBp\nZiAodmFsdWUgPT0gZXhwZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAr\nK2V4cGVjdGVkOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAg\nICAgICAgICAgICAvLyBlcnJvciBjb25kaXRpb24KICAgICAgICAgICAgICAg\nICAgICBsb2dnZXIuZXJyb3IoIkRpZCBub3QgcmVjZWl2ZSBleHBlY3RlZCB2\nYWx1ZSwgZXhwZWN0ZWQge30sIGdvdCB7fSIsCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIGV4cGVjdGVkLCB2YWx1ZSk7CiAgICAgICAgICAg\nICAgICAgICAgZXhwZWN0ZWQgPSAwOwogICAgICAgICAgICAgICAgICAgIGZp\ncnN0TGF0Y2guY291bnREb3duKCk7CiAgICAgICAgICAgICAgICAgICAgc2Vj\nb25kTGF0Y2guY291bnREb3duKCk7CiAgICAgICAgICAgICAgICB9CiAgICAg\nICAgICAgICAgICBpZiAobnVtTXNnc0F0Rmlyc3RSdW4gKyAxID09IGV4cGVj\ndGVkKSB7CiAgICAgICAgICAgICAgICAgICAgZmlyc3RMYXRjaC5jb3VudERv\nd24oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChy\nZWNlaXZlU2Vjb25kUnVuKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG51\nbU1zZ3NBdEZpcnN0UnVuICsgbnVtTXNnc0F0U2Vjb25kUnVuICsgMSA9PSBl\neHBlY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRMYXRj\naC5jb3VudERvd24oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChudW1N\nc2dzQXRGaXJzdFJ1biArIDEgPCBleHBlY3RlZCkgewogICAgICAgICAgICAg\nICAgICAgICAgICBzZWNvbmRMYXRjaC5jb3VudERvd24oKTsKICAgICAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg\nICBjYWxsYmFjay5vcGVyYXRpb25GaW5pc2hlZChjb250ZXh0LCBudWxsKTsK\nICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29uc3VtZSh0b3BpYywgc3Vi\nc2NyaWJlcklkLCBtc2cuZ2V0TXNnSWQoKSk7CiAgICAgICAgICAgIH0gY2F0\nY2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgICAgICBsb2dnZXIuZXJy\nb3IoIlJlY2VpdmVkIGJhZCBtZXNzYWdlLiIsIHQpOwogICAgICAgICAgICAg\nICAgZmlyc3RMYXRjaC5jb3VudERvd24oKTsKICAgICAgICAgICAgICAgIHNl\nY29uZExhdGNoLmNvdW50RG93bigpOwogICAgICAgICAgICB9CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgdm9pZCBjaGVja0ZpcnN0UnVuKCkgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIGFzc2VydFRydWUoIlRpbWVkIG91\ndCB3YWl0aW5nIGZvciBtZXNzYWdlcyAiICsgKG51bU1zZ3NBdEZpcnN0UnVu\nICsgMSksCiAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RMYXRjaC5hd2Fp\ndCgxMCwgVGltZVVuaXQuU0VDT05EUykpOwogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoIlNob3VsZCBiZSBleHBlY3RlZCBtZXNzYWdlcyB3aXRoICIgKyAo\nbnVtTXNnc0F0Rmlyc3RSdW4gKyAxKSwKICAgICAgICAgICAgICAgICAgICAg\nICAgIG51bU1zZ3NBdEZpcnN0UnVuICsgMSwgZXhwZWN0ZWQpOwogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIHZvaWQgY2hlY2tTZWNvbmRSdW4oKSB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICAgICAgaWYgKHJlY2VpdmVTZWNvbmRS\ndW4pIHsKICAgICAgICAgICAgICAgIGFzc2VydFRydWUoIlRpbWVkIG91dCB3\nYWl0aW5nIGZvciBtZXNzYWdlcyAiCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICsgKG51bU1zZ3NBdEZpcnN0UnVuICsgbnVtTXNnc0F0U2Vjb25kUnVu\nICsgMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZExhdGNo\nLmF3YWl0KDEwLCBUaW1lVW5pdC5TRUNPTkRTKSk7CiAgICAgICAgICAgICAg\nICBhc3NlcnRFcXVhbHMoIlNob3VsZCBiZSBleHBlY3RlZCBtZXNzYWdlcyB3\naXRoICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIChudW1Nc2dz\nQXRGaXJzdFJ1biArIG51bU1zZ3NBdFNlY29uZFJ1biArIDEpLAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIG51bU1zZ3NBdEZpcnN0UnVuICsgbnVt\nTXNnc0F0U2Vjb25kUnVuICsgMSwgZXhwZWN0ZWQpOwogICAgICAgICAgICB9\nIGVsc2UgewogICAgICAgICAgICAgICAgYXNzZXJ0RmFsc2UoIlJlY2VpdmUg\nbW9yZSBtZXNzYWdlcyB0aGFuICIgKyBudW1Nc2dzQXRGaXJzdFJ1biwKICAg\nICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZExhdGNoLmF3YWl0KDMs\nIFRpbWVVbml0LlNFQ09ORFMpKTsKICAgICAgICAgICAgICAgIGFzc2VydEVx\ndWFscygiU2hvdWxkIGJlIGV4cGVjdGVkIG1lc3NhZ2VzIHdpdGggb255ICIg\nKyAobnVtTXNnc0F0Rmlyc3RSdW4gKyAxKSwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBudW1Nc2dzQXRGaXJzdFJ1biArIDEsIGV4cGVjdGVkKTsK\nICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBjbGFzcyBUaHJv\ndHRsZU1lc3NhZ2VIYW5kbGVyIGltcGxlbWVudHMgTWVzc2FnZUhhbmRsZXIg\newoKICAgICAgICBpbnQgZXhwZWN0ZWQ7CiAgICAgICAgZmluYWwgaW50IG51\nbU1zZ3M7CiAgICAgICAgZmluYWwgaW50IG51bU1zZ3NUaHJvdHRsZTsKICAg\nICAgICBmaW5hbCBDb3VudERvd25MYXRjaCB0aHJvdHRsZUxhdGNoOwogICAg\nICAgIGZpbmFsIENvdW50RG93bkxhdGNoIG5vblRocm90dGxlTGF0Y2g7CiAg\nICAgICAgZmluYWwgYm9vbGVhbiBlbmFibGVUaHJvdHRsZTsKCiAgICAgICAg\ncHVibGljIFRocm90dGxlTWVzc2FnZUhhbmRsZXIoaW50IHN0YXJ0LCBpbnQg\nbnVtTXNncywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICBib29sZWFuIGVuYWJsZVRocm90dGxlLAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIGludCBudW1Nc2dzVGhyb3R0bGUpIHsKICAg\nICAgICAgICAgZXhwZWN0ZWQgPSBzdGFydDsKICAgICAgICAgICAgdGhpcy5u\ndW1Nc2dzID0gbnVtTXNnczsKICAgICAgICAgICAgdGhpcy5lbmFibGVUaHJv\ndHRsZSA9IGVuYWJsZVRocm90dGxlOwogICAgICAgICAgICB0aGlzLm51bU1z\nZ3NUaHJvdHRsZSA9IG51bU1zZ3NUaHJvdHRsZTsKICAgICAgICAgICAgdGhy\nb3R0bGVMYXRjaCA9IG5ldyBDb3VudERvd25MYXRjaCgxKTsKICAgICAgICAg\nICAgbm9uVGhyb3R0bGVMYXRjaCA9IG5ldyBDb3VudERvd25MYXRjaCgxKTsK\nICAgICAgICB9CgogICAgICAgIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyBz\neW5jaHJvbml6ZWQgdm9pZCBkZWxpdmVyKEJ5dGVTdHJpbmcgdG9waWMsIEJ5\ndGVTdHJpbmcgc3Vic2NyaWJlcklkLAogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIE1lc3NhZ2UgbXNnLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbGxiYWNrPFZvaWQ+IGNh\nbGxiYWNrLCBPYmplY3QgY29udGV4dCkgewogICAgICAgICAgICB0cnkgewog\nICAgICAgICAgICAgICAgaW50IHZhbHVlID0gSW50ZWdlci52YWx1ZU9mKG1z\nZy5nZXRCb2R5KCkudG9TdHJpbmdVdGY4KCkpOwogICAgICAgICAgICAgICAg\nbG9nZ2VyLmRlYnVnKCJSZWNlaXZlZCBtZXNzYWdlIHt9LiIsIHZhbHVlKTsK\nCiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gZXhwZWN0ZWQpIHsKICAg\nICAgICAgICAgICAgICAgICArK2V4cGVjdGVkOwogICAgICAgICAgICAgICAg\nfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBlcnJvciBjb25kaXRp\nb24KICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoIkRpZCBub3Qg\ncmVjZWl2ZSBleHBlY3RlZCB2YWx1ZSwgZXhwZWN0ZWQge30sIGdvdCB7fSIs\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkLCB2\nYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQgPSAwOwogICAg\nICAgICAgICAgICAgICAgIHRocm90dGxlTGF0Y2guY291bnREb3duKCk7CiAg\nICAgICAgICAgICAgICAgICAgbm9uVGhyb3R0bGVMYXRjaC5jb3VudERvd24o\nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChleHBl\nY3RlZCA9PSBudW1Nc2dzVGhyb3R0bGUgKyAyKSB7CiAgICAgICAgICAgICAg\nICAgICAgdGhyb3R0bGVMYXRjaC5jb3VudERvd24oKTsKICAgICAgICAgICAg\nICAgIH0KICAgICAgICAgICAgICAgIGlmIChleHBlY3RlZCA9PSBudW1Nc2dz\nICsgMSkgewogICAgICAgICAgICAgICAgICAgIG5vblRocm90dGxlTGF0Y2gu\nY291bnREb3duKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg\nICBjYWxsYmFjay5vcGVyYXRpb25GaW5pc2hlZChjb250ZXh0LCBudWxsKTsK\nICAgICAgICAgICAgICAgIGlmIChlbmFibGVUaHJvdHRsZSkgewogICAgICAg\nICAgICAgICAgICAgIGlmIChleHBlY3RlZCA+IG51bU1zZ3NUaHJvdHRsZSAr\nIDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb25z\ndW1lKHRvcGljLCBzdWJzY3JpYmVySWQsIG1zZy5nZXRNc2dJZCgpKTsKICAg\nICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2Ugewog\nICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29uc3VtZSh0b3BpYywg\nc3Vic2NyaWJlcklkLCBtc2cuZ2V0TXNnSWQoKSk7CiAgICAgICAgICAgICAg\nICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAg\nICAgICAgICAgICBsb2dnZXIuZXJyb3IoIlJlY2VpdmVkIGJhZCBtZXNzYWdl\nLiIsIHQpOwogICAgICAgICAgICAgICAgdGhyb3R0bGVMYXRjaC5jb3VudERv\nd24oKTsKICAgICAgICAgICAgICAgIG5vblRocm90dGxlTGF0Y2guY291bnRE\nb3duKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHB1Ymxp\nYyB2b2lkIGNoZWNrVGhyb3R0bGUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICAgICAgaWYgKGVuYWJsZVRocm90dGxlKSB7CiAgICAgICAgICAgICAg\nICBhc3NlcnRGYWxzZSgiUmVjZWl2ZWQgbW9yZSBtZXNzYWdlcyB0aGFuIHRo\ncm90dGxlIHZhbHVlICIgKyBudW1Nc2dzVGhyb3R0bGUsCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICB0aHJvdHRsZUxhdGNoLmF3YWl0KDMsIFRpbWVV\nbml0LlNFQ09ORFMpKTsKICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscygi\nU2hvdWxkIGJlIGV4cGVjdGVkIG1lc3NhZ2VzIHdpdGggb25seSAiICsgKG51\nbU1zZ3NUaHJvdHRsZSArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIG51bU1zZ3NUaHJvdHRsZSArIDEsIGV4cGVjdGVkKTsKICAgICAgICAg\nICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFzc2VydFRydWUoIlNob3Vs\nZCBub3QgYmUgdGhyb3R0bGVkLiIsIHRocm90dGxlTGF0Y2guYXdhaXQoMTAs\nIFRpbWVVbml0LlNFQ09ORFMpKTsKICAgICAgICAgICAgICAgIGFzc2VydFRy\ndWUoIlRpbWVkIG91dCB3YWl0aW5nIGZvciBtZXNzYWdlcyAiICsgKG51bU1z\nZ3MgKyAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGhyb3R0\nbGVMYXRjaC5hd2FpdCgxMCwgVGltZVVuaXQuU0VDT05EUykpOwogICAgICAg\nICAgICAgICAgYXNzZXJ0RXF1YWxzKCJTaG91bGQgYmUgZXhwZWN0ZWQgbWVz\nc2FnZXMgd2l0aCAiICsgKG51bU1zZ3MgKyAxKSwKICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICBudW1Nc2dzICsgMSwgZXhwZWN0ZWQpOwogICAgICAg\nICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBjaGVja0Fm\ndGVyVGhyb3R0bGUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICAgICAg\naWYgKGVuYWJsZVRocm90dGxlKSB7CiAgICAgICAgICAgICAgICBhc3NlcnRU\ncnVlKCJUaW1lZCBvdXQgd2FpdGluZyBmb3IgbWVzc2FnZXMgIiArIChudW1N\nc2dzICsgMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRocm90\ndGxlTGF0Y2guYXdhaXQoMTAsIFRpbWVVbml0LlNFQ09ORFMpKTsKICAgICAg\nICAgICAgICAgIGFzc2VydEVxdWFscygiU2hvdWxkIGJlIGV4cGVjdGVkIG1l\nc3NhZ2VzIHdpdGggIiArIChudW1Nc2dzICsgMSksCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgbnVtTXNncyArIDEsIGV4cGVjdGVkKTsKICAgICAg\nICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBIZWR3aWdDbGllbnQgY2xp\nZW50OwogICAgUHVibGlzaGVyIHB1Ymxpc2hlcjsKICAgIFN1YnNjcmliZXIg\nc3Vic2NyaWJlcjsKCiAgICBAT3ZlcnJpZGUKICAgIEBCZWZvcmUKICAgIHB1\nYmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAg\nc3VwZXIuc2V0VXAoKTsKICAgICAgICBjbGllbnQgPSBuZXcgSGVkd2lnQ2xp\nZW50KG5ldyBIdWJDbGllbnRDb25maWd1cmF0aW9uKCkgewogICAgICAgICAg\nICBAT3ZlcnJpZGUKICAgICAgICAgICAgcHVibGljIGJvb2xlYW4gaXNTdWJz\nY3JpcHRpb25DaGFubmVsU2hhcmluZ0VuYWJsZWQoKSB7CiAgICAgICAgICAg\nICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBA\nT3ZlcnJpZGUKICAgICAgICAgICAgcHVibGljIGJvb2xlYW4gaXNBdXRvU2Vu\nZENvbnN1bWVNZXNzYWdlRW5hYmxlZCgpIHsKICAgICAgICAgICAgICAgIHJl\ndHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAg\nIHB1Ymxpc2hlciA9IGNsaWVudC5nZXRQdWJsaXNoZXIoKTsKICAgICAgICBz\ndWJzY3JpYmVyID0gY2xpZW50LmdldFN1YnNjcmliZXIoKTsKICAgIH0KCiAg\nICBAT3ZlcnJpZGUKICAgIEBBZnRlcgogICAgcHVibGljIHZvaWQgdGVhckRv\nd24oKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBjbGllbnQuY2xvc2Uo\nKTsKICAgICAgICBzdXBlci50ZWFyRG93bigpOwogICAgfQoKICAgIEBPdmVy\ncmlkZQogICAgcHJvdGVjdGVkIFNlcnZlckNvbmZpZ3VyYXRpb24gZ2V0U2Vy\ndmVyQ29uZmlndXJhdGlvbihpbnQgcG9ydCwgaW50IHNzbFBvcnQpIHsKICAg\nICAgICByZXR1cm4gbmV3IFRlc3RTZXJ2ZXJDb25maWd1cmF0aW9uKHBvcnQs\nIHNzbFBvcnQpOwogICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0U3RvcERlbGl2ZXJ5KCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgQnl0ZVN0cmluZyB0b3BpYzEgPSBCeXRlU3RyaW5n\nLmNvcHlGcm9tVXRmOCgidGVzdFN0b3BEZWxpdmVyeS0xIik7CiAgICAgICAg\nQnl0ZVN0cmluZyB0b3BpYzIgPSBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgi\ndGVzdFN0b3BEZWxpdmVyeS0yIik7CiAgICAgICAgQnl0ZVN0cmluZyBzdWJp\nZDEgPSBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgibXlzdWJpZC0xIik7CiAg\nICAgICAgQnl0ZVN0cmluZyBzdWJpZDIgPSBCeXRlU3RyaW5nLmNvcHlGcm9t\nVXRmOCgibXlzdWJpZC0yIik7CgogICAgICAgIGZpbmFsIGludCBYID0gMjA7\nCgogICAgICAgIFRlc3RNZXNzYWdlSGFuZGxlciBjc0hhbmRsZXIxMSA9CiAg\nICAgICAgICAgIG5ldyBUZXN0TWVzc2FnZUhhbmRsZXIoMSwgWCwgdHJ1ZSwg\nWCk7CiAgICAgICAgVGVzdE1lc3NhZ2VIYW5kbGVyIGNzSGFuZGxlcjEyID0K\nICAgICAgICAgICAgbmV3IFRlc3RNZXNzYWdlSGFuZGxlcigxLCBYLCBmYWxz\nZSwgMCk7CiAgICAgICAgVGVzdE1lc3NhZ2VIYW5kbGVyIGNzSGFuZGxlcjIx\nID0KICAgICAgICAgICAgbmV3IFRlc3RNZXNzYWdlSGFuZGxlcigxLCBYLCBm\nYWxzZSwgMCk7CiAgICAgICAgVGVzdE1lc3NhZ2VIYW5kbGVyIGNzSGFuZGxl\ncjIyID0KICAgICAgICAgICAgbmV3IFRlc3RNZXNzYWdlSGFuZGxlcigxLCBY\nLCB0cnVlLCBYKTsKCiAgICAgICAgc3Vic2NyaWJlci5zdWJzY3JpYmUodG9w\naWMxLCBzdWJpZDEsIENyZWF0ZU9yQXR0YWNoLkNSRUFURSk7CiAgICAgICAg\nc3Vic2NyaWJlci5zdWJzY3JpYmUodG9waWMxLCBzdWJpZDIsIENyZWF0ZU9y\nQXR0YWNoLkNSRUFURSk7CiAgICAgICAgc3Vic2NyaWJlci5zdWJzY3JpYmUo\ndG9waWMyLCBzdWJpZDEsIENyZWF0ZU9yQXR0YWNoLkNSRUFURSk7CiAgICAg\nICAgc3Vic2NyaWJlci5zdWJzY3JpYmUodG9waWMyLCBzdWJpZDIsIENyZWF0\nZU9yQXR0YWNoLkNSRUFURSk7CgogICAgICAgIC8vIHN0YXJ0IGRlbGl2ZXJp\nZXMKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZlcnkodG9waWMxLCBz\ndWJpZDEsIGNzSGFuZGxlcjExKTsKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0\nRGVsaXZlcnkodG9waWMxLCBzdWJpZDIsIGNzSGFuZGxlcjEyKTsKICAgICAg\nICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZlcnkodG9waWMyLCBzdWJpZDEsIGNz\nSGFuZGxlcjIxKTsKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZlcnko\ndG9waWMyLCBzdWJpZDIsIGNzSGFuZGxlcjIyKTsKCiAgICAgICAgLy8gZmly\nc3QgcHVibGlzaAogICAgICAgIGZvciAoaW50IGkgPSAxOyBpPD1YOyBpKysp\nIHsKICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2godG9waWMxLCBNZXNz\nYWdlLm5ld0J1aWxkZXIoKS5zZXRCb2R5KAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KFN0\ncmluZy52YWx1ZU9mKGkpKSkuYnVpbGQoKSk7CiAgICAgICAgICAgIHB1Ymxp\nc2hlci5wdWJsaXNoKHRvcGljMiwgTWVzc2FnZS5uZXdCdWlsZGVyKCkuc2V0\nQm9keSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBC\neXRlU3RyaW5nLmNvcHlGcm9tVXRmOChTdHJpbmcudmFsdWVPZihpKSkpLmJ1\naWxkKCkpOwogICAgICAgIH0KCiAgICAgICAgY3NIYW5kbGVyMTEuY2hlY2tG\naXJzdFJ1bigpOwogICAgICAgIGNzSGFuZGxlcjEyLmNoZWNrRmlyc3RSdW4o\nKTsKICAgICAgICBjc0hhbmRsZXIyMS5jaGVja0ZpcnN0UnVuKCk7CiAgICAg\nICAgY3NIYW5kbGVyMjIuY2hlY2tGaXJzdFJ1bigpOwoKICAgICAgICAvLyBz\ndG9wIGRlbGl2ZXJ5IGZvciA8dG9waWMxLCBzdWJzY3JpYmVyMj4gYW5kIDx0\nb3BpYzIsIHN1YnNjcmliZXIxPgogICAgICAgIHN1YnNjcmliZXIuc3RvcERl\nbGl2ZXJ5KHRvcGljMSwgc3ViaWQyKTsKICAgICAgICBzdWJzY3JpYmVyLnN0\nb3BEZWxpdmVyeSh0b3BpYzIsIHN1YmlkMSk7CgogICAgICAgIC8vIHNlY29u\nZCBwdWJsaXNoCiAgICAgICAgZm9yIChpbnQgaSA9IFgrMTsgaTw9MipYOyBp\nKyspIHsKICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2godG9waWMxLCBN\nZXNzYWdlLm5ld0J1aWxkZXIoKS5zZXRCb2R5KAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIEJ5dGVTdHJpbmcuY29weUZyb21VdGY4\nKFN0cmluZy52YWx1ZU9mKGkpKSkuYnVpbGQoKSk7CiAgICAgICAgICAgIHB1\nYmxpc2hlci5wdWJsaXNoKHRvcGljMiwgTWVzc2FnZS5uZXdCdWlsZGVyKCku\nc2V0Qm9keSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOChTdHJpbmcudmFsdWVPZihpKSkp\nLmJ1aWxkKCkpOwogICAgICAgIH0KCiAgICAgICAgY3NIYW5kbGVyMTEuY2hl\nY2tTZWNvbmRSdW4oKTsKICAgICAgICBjc0hhbmRsZXIyMi5jaGVja1NlY29u\nZFJ1bigpOwogICAgICAgIGNzSGFuZGxlcjEyLmNoZWNrU2Vjb25kUnVuKCk7\nCiAgICAgICAgY3NIYW5kbGVyMjEuY2hlY2tTZWNvbmRSdW4oKTsKICAgIH0K\nCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQgdGVz\ndENsb3NlU3Vic2NyaXB0aW9uKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgQnl0ZVN0cmluZyB0b3BpYzEgPSBCeXRlU3RyaW5nLmNvcHlGcm9tVXRm\nOCgidGVzdENsb3NlU3Vic2NyaXB0aW9uLTEiKTsKICAgICAgICBCeXRlU3Ry\naW5nIHRvcGljMiA9IEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJ0ZXN0Q2xv\nc2VTdWJzY3JpcHRpb24tMiIpOwogICAgICAgIEJ5dGVTdHJpbmcgc3ViaWQx\nID0gQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoIm15c3ViaWQtMSIpOwogICAg\nICAgIEJ5dGVTdHJpbmcgc3ViaWQyID0gQnl0ZVN0cmluZy5jb3B5RnJvbVV0\nZjgoIm15c3ViaWQtMiIpOwoKICAgICAgICBmaW5hbCBpbnQgWCA9IDIwOwoK\nICAgICAgICBUZXN0TWVzc2FnZUhhbmRsZXIgY3NIYW5kbGVyMTEgPQogICAg\nICAgICAgICBuZXcgVGVzdE1lc3NhZ2VIYW5kbGVyKDEsIFgsIHRydWUsIFgp\nOwogICAgICAgIFRlc3RNZXNzYWdlSGFuZGxlciBjc0hhbmRsZXIxMiA9CiAg\nICAgICAgICAgIG5ldyBUZXN0TWVzc2FnZUhhbmRsZXIoMSwgWCwgZmFsc2Us\nIDApOwogICAgICAgIFRlc3RNZXNzYWdlSGFuZGxlciBjc0hhbmRsZXIyMSA9\nCiAgICAgICAgICAgIG5ldyBUZXN0TWVzc2FnZUhhbmRsZXIoMSwgWCwgZmFs\nc2UsIDApOwogICAgICAgIFRlc3RNZXNzYWdlSGFuZGxlciBjc0hhbmRsZXIy\nMiA9CiAgICAgICAgICAgIG5ldyBUZXN0TWVzc2FnZUhhbmRsZXIoMSwgWCwg\ndHJ1ZSwgWCk7CgogICAgICAgIHN1YnNjcmliZXIuc3Vic2NyaWJlKHRvcGlj\nMSwgc3ViaWQxLCBDcmVhdGVPckF0dGFjaC5DUkVBVEUpOwogICAgICAgIHN1\nYnNjcmliZXIuc3Vic2NyaWJlKHRvcGljMSwgc3ViaWQyLCBDcmVhdGVPckF0\ndGFjaC5DUkVBVEUpOwogICAgICAgIHN1YnNjcmliZXIuc3Vic2NyaWJlKHRv\ncGljMiwgc3ViaWQxLCBDcmVhdGVPckF0dGFjaC5DUkVBVEUpOwogICAgICAg\nIHN1YnNjcmliZXIuc3Vic2NyaWJlKHRvcGljMiwgc3ViaWQyLCBDcmVhdGVP\nckF0dGFjaC5DUkVBVEUpOwoKICAgICAgICAvLyBzdGFydCBkZWxpdmVyaWVz\nCiAgICAgICAgc3Vic2NyaWJlci5zdGFydERlbGl2ZXJ5KHRvcGljMSwgc3Vi\naWQxLCBjc0hhbmRsZXIxMSk7CiAgICAgICAgc3Vic2NyaWJlci5zdGFydERl\nbGl2ZXJ5KHRvcGljMSwgc3ViaWQyLCBjc0hhbmRsZXIxMik7CiAgICAgICAg\nc3Vic2NyaWJlci5zdGFydERlbGl2ZXJ5KHRvcGljMiwgc3ViaWQxLCBjc0hh\nbmRsZXIyMSk7CiAgICAgICAgc3Vic2NyaWJlci5zdGFydERlbGl2ZXJ5KHRv\ncGljMiwgc3ViaWQyLCBjc0hhbmRsZXIyMik7CgogICAgICAgIC8vIGZpcnN0\nIHB1Ymxpc2gKICAgICAgICBmb3IgKGludCBpID0gMTsgaTw9WDsgaSsrKSB7\nCiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKHRvcGljMSwgTWVzc2Fn\nZS5uZXdCdWlsZGVyKCkuc2V0Qm9keSgKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOChTdHJp\nbmcudmFsdWVPZihpKSkpLmJ1aWxkKCkpOwogICAgICAgICAgICBwdWJsaXNo\nZXIucHVibGlzaCh0b3BpYzIsIE1lc3NhZ2UubmV3QnVpbGRlcigpLnNldEJv\nZHkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnl0\nZVN0cmluZy5jb3B5RnJvbVV0ZjgoU3RyaW5nLnZhbHVlT2YoaSkpKS5idWls\nZCgpKTsKICAgICAgICB9CgogICAgICAgIGNzSGFuZGxlcjExLmNoZWNrRmly\nc3RSdW4oKTsKICAgICAgICBjc0hhbmRsZXIxMi5jaGVja0ZpcnN0UnVuKCk7\nCiAgICAgICAgY3NIYW5kbGVyMjEuY2hlY2tGaXJzdFJ1bigpOwogICAgICAg\nIGNzSGFuZGxlcjIyLmNoZWNrRmlyc3RSdW4oKTsKCiAgICAgICAgLy8gY2xv\nc2Ugc3Vic2NyaXB0aW9uIGZvciA8dG9waWMxLCBzdWJzY3JpYmVyMj4gYW5k\nIDx0b3BpYzIsIHN1YnNjcmliZXIxPgogICAgICAgIHN1YnNjcmliZXIuY2xv\nc2VTdWJzY3JpcHRpb24odG9waWMxLCBzdWJpZDIpOwogICAgICAgIHN1YnNj\ncmliZXIuY2xvc2VTdWJzY3JpcHRpb24odG9waWMyLCBzdWJpZDEpOwoKICAg\nICAgICAvLyBzZWNvbmQgcHVibGlzaAogICAgICAgIGZvciAoaW50IGkgPSBY\nKzE7IGk8PTIqWDsgaSsrKSB7CiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJs\naXNoKHRvcGljMSwgTWVzc2FnZS5uZXdCdWlsZGVyKCkuc2V0Qm9keSgKICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeXRlU3RyaW5n\nLmNvcHlGcm9tVXRmOChTdHJpbmcudmFsdWVPZihpKSkpLmJ1aWxkKCkpOwog\nICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaCh0b3BpYzIsIE1lc3NhZ2Uu\nbmV3QnVpbGRlcigpLnNldEJvZHkoCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoU3RyaW5n\nLnZhbHVlT2YoaSkpKS5idWlsZCgpKTsKICAgICAgICB9CgogICAgICAgIGNz\nSGFuZGxlcjExLmNoZWNrU2Vjb25kUnVuKCk7CiAgICAgICAgY3NIYW5kbGVy\nMjIuY2hlY2tTZWNvbmRSdW4oKTsKICAgICAgICBjc0hhbmRsZXIxMi5jaGVj\na1NlY29uZFJ1bigpOwogICAgICAgIGNzSGFuZGxlcjIxLmNoZWNrU2Vjb25k\nUnVuKCk7CiAgICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1\nYmxpYyB2b2lkIHRlc3RUaHJvdHRsZSgpIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIEJ5dGVTdHJpbmcgdG9waWMxID0gQnl0ZVN0cmluZy5jb3B5RnJv\nbVV0ZjgoInRlc3RUaHJvdHRsZS0xIik7CiAgICAgICAgQnl0ZVN0cmluZyB0\nb3BpYzIgPSBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgidGVzdFRocm90dGxl\nLTIiKTsKICAgICAgICBCeXRlU3RyaW5nIHN1YmlkMSA9IEJ5dGVTdHJpbmcu\nY29weUZyb21VdGY4KCJteXN1YmlkLTEiKTsKICAgICAgICBCeXRlU3RyaW5n\nIHN1YmlkMiA9IEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJteXN1YmlkLTIi\nKTsKCiAgICAgICAgZmluYWwgaW50IFggPSBERUZBVUxUX01TR19XSU5ET1df\nU0laRTsKCiAgICAgICAgVGhyb3R0bGVNZXNzYWdlSGFuZGxlciBjc0hhbmRs\nZXIxMSA9CiAgICAgICAgICAgIG5ldyBUaHJvdHRsZU1lc3NhZ2VIYW5kbGVy\nKDEsIDMqWCwgZmFsc2UsIFgpOwogICAgICAgIFRocm90dGxlTWVzc2FnZUhh\nbmRsZXIgY3NIYW5kbGVyMTIgPQogICAgICAgICAgICBuZXcgVGhyb3R0bGVN\nZXNzYWdlSGFuZGxlcigxLCAzKlgsIHRydWUsIFgpOwogICAgICAgIFRocm90\ndGxlTWVzc2FnZUhhbmRsZXIgY3NIYW5kbGVyMjEgPQogICAgICAgICAgICBu\nZXcgVGhyb3R0bGVNZXNzYWdlSGFuZGxlcigxLCAzKlgsIHRydWUsIFgpOwog\nICAgICAgIFRocm90dGxlTWVzc2FnZUhhbmRsZXIgY3NIYW5kbGVyMjIgPQog\nICAgICAgICAgICBuZXcgVGhyb3R0bGVNZXNzYWdlSGFuZGxlcigxLCAzKlgs\nIGZhbHNlLCBYKTsKCiAgICAgICAgc3Vic2NyaWJlci5zdWJzY3JpYmUodG9w\naWMxLCBzdWJpZDEsIENyZWF0ZU9yQXR0YWNoLkNSRUFURSk7CiAgICAgICAg\nc3Vic2NyaWJlci5zdWJzY3JpYmUodG9waWMxLCBzdWJpZDIsIENyZWF0ZU9y\nQXR0YWNoLkNSRUFURSk7CiAgICAgICAgc3Vic2NyaWJlci5zdWJzY3JpYmUo\ndG9waWMyLCBzdWJpZDEsIENyZWF0ZU9yQXR0YWNoLkNSRUFURSk7CiAgICAg\nICAgc3Vic2NyaWJlci5zdWJzY3JpYmUodG9waWMyLCBzdWJpZDIsIENyZWF0\nZU9yQXR0YWNoLkNSRUFURSk7CgogICAgICAgIC8vIHN0YXJ0IGRlbGl2ZXJp\nZXMKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZlcnkodG9waWMxLCBz\ndWJpZDEsIGNzSGFuZGxlcjExKTsKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0\nRGVsaXZlcnkodG9waWMxLCBzdWJpZDIsIGNzSGFuZGxlcjEyKTsKICAgICAg\nICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZlcnkodG9waWMyLCBzdWJpZDEsIGNz\nSGFuZGxlcjIxKTsKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZlcnko\ndG9waWMyLCBzdWJpZDIsIGNzSGFuZGxlcjIyKTsKCiAgICAgICAgLy8gcHVi\nbGlzaAogICAgICAgIGZvciAoaW50IGkgPSAxOyBpPD0zKlg7IGkrKykgewog\nICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaCh0b3BpYzEsIE1lc3NhZ2Uu\nbmV3QnVpbGRlcigpLnNldEJvZHkoCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoU3RyaW5n\nLnZhbHVlT2YoaSkpKS5idWlsZCgpKTsKICAgICAgICAgICAgcHVibGlzaGVy\nLnB1Ymxpc2godG9waWMyLCBNZXNzYWdlLm5ld0J1aWxkZXIoKS5zZXRCb2R5\nKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ5dGVT\ndHJpbmcuY29weUZyb21VdGY4KFN0cmluZy52YWx1ZU9mKGkpKSkuYnVpbGQo\nKSk7CiAgICAgICAgfQoKICAgICAgICBjc0hhbmRsZXIxMS5jaGVja1Rocm90\ndGxlKCk7CiAgICAgICAgY3NIYW5kbGVyMTIuY2hlY2tUaHJvdHRsZSgpOwog\nICAgICAgIGNzSGFuZGxlcjIxLmNoZWNrVGhyb3R0bGUoKTsKICAgICAgICBj\nc0hhbmRsZXIyMi5jaGVja1Rocm90dGxlKCk7CgogICAgICAgIC8vIGNvbnN1\nbWUgbWVzc2FnZXMgdG8gbm90IHRocm90dGxlIHRoZW0KICAgICAgICBmb3Ig\nKGludCBpPTE7IGk8PVg7IGkrKykgewogICAgICAgICAgICBNZXNzYWdlU2Vx\nSWQgc2VxSWQgPQogICAgICAgICAgICAgICAgTWVzc2FnZVNlcUlkLm5ld0J1\naWxkZXIoKS5zZXRMb2NhbENvbXBvbmVudChpKS5idWlsZCgpOwogICAgICAg\nICAgICBzdWJzY3JpYmVyLmNvbnN1bWUodG9waWMxLCBzdWJpZDIsIHNlcUlk\nKTsKICAgICAgICAgICAgc3Vic2NyaWJlci5jb25zdW1lKHRvcGljMiwgc3Vi\naWQxLCBzZXFJZCk7CiAgICAgICAgfQoKICAgICAgICBjc0hhbmRsZXIxMS5j\naGVja0FmdGVyVGhyb3R0bGUoKTsKICAgICAgICBjc0hhbmRsZXIyMi5jaGVj\na0FmdGVyVGhyb3R0bGUoKTsKICAgICAgICBjc0hhbmRsZXIxMi5jaGVja0Fm\ndGVyVGhyb3R0bGUoKTsKICAgICAgICBjc0hhbmRsZXIyMS5jaGVja0FmdGVy\nVGhyb3R0bGUoKTsKICAgIH0KfQo=\n","encoding":"base64"}

