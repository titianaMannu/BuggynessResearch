{"sha":"b11500f905847a9ad9a8b197ba9cb27f6f481201","node_id":"MDQ6QmxvYjE1NzU5NTY6YjExNTAwZjkwNTg0N2E5YWQ5YThiMTk3YmE5Y2IyN2Y2ZjQ4MTIwMQ==","size":3353,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b11500f905847a9ad9a8b197ba9cb27f6f481201","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCgpwYWNrYWdlIG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5tZXRhOwoK\naW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CgppbXBvcnQgb3JnLmFwYWNo\nZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuTWFuYWdlck1ldGE7\nCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuY29tbW9uLlNlcnZl\nckNvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy56b29r\nZWVwZXIuWm9vS2VlcGVyVGVzdEJhc2U7CmltcG9ydCBvcmcuYXBhY2hlLmhl\nZHdpZy56b29rZWVwZXIuWmtVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUuem9v\na2VlcGVyLlpvb0tlZXBlcjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVy\nLkNyZWF0ZU1vZGU7CmltcG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBlci5ab29E\nZWZzLklkczsKCmltcG9ydCBvcmcuanVuaXQuVGVzdDsKaW1wb3J0IG9yZy5q\ndW5pdC5Bc3NlcnQ7CgpwdWJsaWMgY2xhc3MgVGVzdEZhY3RvcnlMYXlvdXQg\nZXh0ZW5kcyBab29LZWVwZXJUZXN0QmFzZSB7CgogICAgQFRlc3QodGltZW91\ndD02MDAwMCkKICAgIHB1YmxpYyB2b2lkIHRlc3RGYWN0b3J5TGF5b3V0KCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgU2VydmVyQ29uZmlndXJhdGlv\nbiBjb25mID0gbmV3IFNlcnZlckNvbmZpZ3VyYXRpb24oKTsKICAgICAgICBj\nb25mLnNldE1ldGFkYXRhTWFuYWdlckZhY3RvcnlOYW1lKAogICAgICAgICAg\nICAib3JnLmFwYWNoZS5oZWR3aWcuc2VydmVyLm1ldGEuWmtNZXRhZGF0YU1h\nbmFnZXIiKTsKCiAgICAgICAgRmFjdG9yeUxheW91dCBsYXlvdXQgPSBGYWN0\nb3J5TGF5b3V0LnJlYWRMYXlvdXQoemssIGNvbmYpOwogICAgICAgIEFzc2Vy\ndC5hc3NlcnRUcnVlKCJMYXlvdXQgc2hvdWxkIGJlIG51bGwiLCBsYXlvdXQg\nPT0gbnVsbCk7CgogICAgICAgIFN0cmluZyB0ZXN0TmFtZSA9ICJmb29iYXIi\nOwogICAgICAgIGludCB0ZXN0VmVyc2lvbiA9IDB4ZGVhZGJlZWY7CiAgICAg\nICAgLy8gdXNlIGxheW91dCBkZWZpbmVkIGluIGNvbmZpZ3VyYXRpb24gYWxz\nbyBjcmVhdGUgaXQgaW4gem9va2VlcGVyCiAgICAgICAgd3JpdGVGYWN0b3J5\nTGF5b3V0KGNvbmYsIHRlc3ROYW1lLCB0ZXN0VmVyc2lvbik7CgogICAgICAg\nIGxheW91dCA9IEZhY3RvcnlMYXlvdXQucmVhZExheW91dCh6aywgY29uZik7\nCiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscyh0ZXN0TmFtZSwgbGF5b3V0\nLmdldE1hbmFnZXJNZXRhKCkuZ2V0TWFuYWdlckltcGwoKSk7CiAgICAgICAg\nQXNzZXJ0LmFzc2VydEVxdWFscyh0ZXN0VmVyc2lvbiwgbGF5b3V0LmdldE1h\nbmFnZXJNZXRhKCkuZ2V0TWFuYWdlclZlcnNpb24oKSk7CiAgICB9CgogICAg\ncHJpdmF0ZSB2b2lkIHdyaXRlRmFjdG9yeUxheW91dChTZXJ2ZXJDb25maWd1\ncmF0aW9uIGNvbmYsIFN0cmluZyBtYW5hZ2VyQ2xzLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICBpbnQgbWFuYWdlclZlcnNpb24pCiAg\nICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgTWFuYWdlck1ldGEg\nbWFuYWdlck1ldGEgPSBNYW5hZ2VyTWV0YS5uZXdCdWlsZGVyKCkKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldE1h\nbmFnZXJJbXBsKG1hbmFnZXJDbHMpCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIC5zZXRNYW5hZ2VyVmVyc2lvbihtYW5h\nZ2VyVmVyc2lvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgLmJ1aWxkKCk7CiAgICAgICAgRmFjdG9yeUxheW91dCBs\nYXlvdXQgPSBuZXcgRmFjdG9yeUxheW91dChtYW5hZ2VyTWV0YSk7CiAgICAg\nICAgbGF5b3V0LnN0b3JlKHprLCBjb25mKTsKICAgIH0KCiAgICBAVGVzdCh0\naW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQgdGVzdENvcnJ1cHRlZEZh\nY3RvcnlMYXlvdXQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBTZXJ2\nZXJDb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgU2VydmVyQ29uZmlndXJhdGlv\nbigpOwogICAgICAgIFN0cmluZ0J1aWxkZXIgbXNiID0gbmV3IFN0cmluZ0J1\naWxkZXIoKTsKICAgICAgICBTdHJpbmcgZmFjdG9yeUxheW91dFBhdGggPSBG\nYWN0b3J5TGF5b3V0LmdldEZhY3RvcnlMYXlvdXRQYXRoKG1zYiwgY29uZik7\nCiAgICAgICAgLy8gd3JpdGUgY29ycnVwdGVkIG1hbmFnZXIgbGF5b3V0CiAg\nICAgICAgWmtVdGlscy5jcmVhdGVGdWxsUGF0aE9wdGltaXN0aWMoemssIGZh\nY3RvcnlMYXlvdXRQYXRoLCAiQmFkTGF5b3V0Ii5nZXRCeXRlcygpLAogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElkcy5PUEVO\nX0FDTF9VTlNBRkUsIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7CgogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIEZhY3RvcnlMYXlvdXQucmVhZExheW91dCh6\naywgY29uZik7CiAgICAgICAgICAgIEFzc2VydC5mYWlsKCJTaG91bGRuJ3Qg\ncmVhY2ggaGVyZSEiKTsKICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBp\nZSkgewogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

