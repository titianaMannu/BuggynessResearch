{"sha":"4a88747b88e3b250d4e848257da32ec54d467b3e","node_id":"MDQ6QmxvYjE1NzU5NTY6NGE4ODc0N2I4OGUzYjI1MGQ0ZTg0ODI1N2RhMzJlYzU0ZDQ2N2IzZQ==","size":2835,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/4a88747b88e3b250d4e848257da32ec54d467b3e","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50OwoKLyoqCiAq\nIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAo\nQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNl\nIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1\ndGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9u\nCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBs\naWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUg\nTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3Ug\nbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAq\nIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNv\nZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhw\ncmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBz\ncGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq\nIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmltcG9ydCBv\ncmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbC5NYXRoVXRpbHM7CgovKioKICog\nQSBzcGVjaWZpYyB7QGxpbmsgRGlzdHJpYnV0aW9uU2NoZWR1bGV9IHRoYXQg\ncGxhY2VzIGVudHJpZXMgaW4gcm91bmQtcm9iaW4KICogZmFzaGlvbi4gRm9y\nIGVuc2VtYmxlIHNpemUgMywgYW5kIHF1b3J1bSBzaXplIDIsIEVudHJ5IDAg\nZ29lcyB0byBib29raWUgMCBhbmQKICogMSwgZW50cnkgMSBnb2VzIHRvIGJv\nb2tpZSAxIGFuZCAyLCBhbmQgZW50cnkgMiBnb2VzIHRvIGJvb2tpZSAyIGFu\nZCAwLCBhbmQgc28KICogb24uCiAqCiAqLwpjbGFzcyBSb3VuZFJvYmluRGlz\ndHJpYnV0aW9uU2NoZWR1bGUgaW1wbGVtZW50cyBEaXN0cmlidXRpb25TY2hl\nZHVsZSB7CiAgICBpbnQgcXVvcnVtU2l6ZTsKICAgIGludCBlbnNlbWJsZVNp\nemU7CgogICAgLy8gY292ZXJlZFtpXSBpcyB0cnVlIGlmIHRoZSBxdW9ydW0g\nc3RhcnRpbmcgYXQgYm9va2llIGluZGV4IGkgaGFzIGJlZW4KICAgIC8vIGNv\ndmVyZWQgYnkgYSByZWNvdmVyeSByZXBseQogICAgYm9vbGVhbltdIGNvdmVy\nZWQgPSBudWxsOwogICAgaW50IG51bVF1b3J1bXNVbmNvdmVyZWQ7CgogICAg\ncHVibGljIFJvdW5kUm9iaW5EaXN0cmlidXRpb25TY2hlZHVsZShpbnQgcXVv\ncnVtU2l6ZSwgaW50IGVuc2VtYmxlU2l6ZSkgewogICAgICAgIHRoaXMucXVv\ncnVtU2l6ZSA9IHF1b3J1bVNpemU7CiAgICAgICAgdGhpcy5lbnNlbWJsZVNp\nemUgPSBlbnNlbWJsZVNpemU7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBw\ndWJsaWMgaW50IGdldEJvb2tpZUluZGV4KGxvbmcgZW50cnlJZCwgaW50IHJl\ncGxpY2FJbmRleCkgewogICAgICAgIHJldHVybiAoaW50KSAoKGVudHJ5SWQg\nKyByZXBsaWNhSW5kZXgpICUgZW5zZW1ibGVTaXplKTsKICAgIH0KCiAgICBA\nT3ZlcnJpZGUKICAgIHB1YmxpYyBpbnQgZ2V0UmVwbGljYUluZGV4KGxvbmcg\nZW50cnlJZCwgaW50IGJvb2tpZUluZGV4KSB7CiAgICAgICAgLy8gTk9URTog\nSmF2YSdzICUgb3BlcmF0b3IgcmV0dXJucyB0aGUgc2lnbiBvZiB0aGUgZGl2\naWRlbmQgYW5kIGlzIGhlbmNlCiAgICAgICAgLy8gbm90IGFsd2F5cyBwb3Np\ndGl2ZQoKICAgICAgICBpbnQgcmVwbGljYUluZGV4ID0gTWF0aFV0aWxzLnNp\nZ25TYWZlTW9kKGJvb2tpZUluZGV4IC0gZW50cnlJZCwgZW5zZW1ibGVTaXpl\nKTsKCiAgICAgICAgcmV0dXJuIHJlcGxpY2FJbmRleCA8IHF1b3J1bVNpemUg\nPyByZXBsaWNhSW5kZXggOiAtMTsKCiAgICB9CgogICAgcHVibGljIHN5bmNo\ncm9uaXplZCBib29sZWFuIGNhblByb2NlZWRXaXRoUmVjb3ZlcnkoaW50IGJv\nb2tpZUluZGV4SGVhcmRGcm9tKSB7CiAgICAgICAgaWYgKGNvdmVyZWQgPT0g\nbnVsbCkgewogICAgICAgICAgICBjb3ZlcmVkID0gbmV3IGJvb2xlYW5bZW5z\nZW1ibGVTaXplXTsKICAgICAgICAgICAgbnVtUXVvcnVtc1VuY292ZXJlZCA9\nIGVuc2VtYmxlU2l6ZTsKICAgICAgICB9CgogICAgICAgIGlmIChudW1RdW9y\ndW1zVW5jb3ZlcmVkID09IDApIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7\nCiAgICAgICAgfQoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHF1b3J1\nbVNpemU7IGkrKykgewogICAgICAgICAgICBpbnQgcXVvcnVtU3RhcnRJbmRl\neCA9IE1hdGhVdGlscy5zaWduU2FmZU1vZChib29raWVJbmRleEhlYXJkRnJv\nbSAtIGksIGVuc2VtYmxlU2l6ZSk7CiAgICAgICAgICAgIGlmICghY292ZXJl\nZFtxdW9ydW1TdGFydEluZGV4XSkgewogICAgICAgICAgICAgICAgY292ZXJl\nZFtxdW9ydW1TdGFydEluZGV4XSA9IHRydWU7CiAgICAgICAgICAgICAgICBu\ndW1RdW9ydW1zVW5jb3ZlcmVkLS07CgogICAgICAgICAgICAgICAgaWYgKG51\nbVF1b3J1bXNVbmNvdmVyZWQgPT0gMCkgewogICAgICAgICAgICAgICAgICAg\nIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9\nCgogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgIH0KCn0K\n","encoding":"base64"}

