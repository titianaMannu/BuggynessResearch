{"sha":"12cdcecdcea3e68cd631643b8a1f252f532f9e87","node_id":"MDQ6QmxvYjE1NzU5NTY6MTJjZGNlY2RjZWEzZTY4Y2Q2MzE2NDNiOGExZjI1MmY1MzJmOWU4Nw==","size":10228,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/12cdcecdcea3e68cd631643b8a1f252f532f9e87","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZjsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3Ry\naW5nVXRpbHM7CgovKioKICogQ29uZmlndXJhdGlvbiBtYW5hZ2VzIHNlcnZl\nci1zaWRlIHNldHRpbmdzCiAqLwpwdWJsaWMgY2xhc3MgU2VydmVyQ29uZmln\ndXJhdGlvbiBleHRlbmRzIEFic3RyYWN0Q29uZmlndXJhdGlvbiB7CiAgICAv\nLyBFbnRyeSBMb2cgUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZpbmFsIHN0\nYXRpYyBTdHJpbmcgRU5UUllfTE9HX1NJWkVfTElNSVQgPSAibG9nU2l6ZUxp\nbWl0IjsKCiAgICAvLyBHYyBQYXJhbWV0ZXJzCiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBHQ19XQUlUX1RJTUUgPSAiZ2NXYWl0VGltZSI7\nCiAgICAvLyBTeW5jIFBhcmFtZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBz\ndGF0aWMgU3RyaW5nIEZMVVNIX0lOVEVSVkFMID0gImZsdXNoSW50ZXJ2YWwi\nOwogICAgLy8gQm9va2llIGRlYXRoIHdhdGNoIGludGVydmFsCiAgICBwcm90\nZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBERUFUSF9XQVRDSF9JTlRFUlZB\nTCA9ICJib29raWVEZWF0aFdhdGNoSW50ZXJ2YWwiOwogICAgLy8gTGVkZ2Vy\nIENhY2hlIFBhcmFtZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMg\nU3RyaW5nIE9QRU5fRklMRV9MSU1JVCA9ICJvcGVuRmlsZUxpbWl0IjsKICAg\nIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFBBR0VfTElNSVQgPSAi\ncGFnZUxpbWl0IjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5n\nIFBBR0VfU0laRSA9ICJwYWdlU2l6ZSI7CiAgICAvLyBKb3VybmFsIFBhcmFt\nZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIE1BWF9K\nT1VSTkFMX1NJWkUgPSAiam91cm5hbE1heFNpemVNQiI7CiAgICBwcm90ZWN0\nZWQgZmluYWwgc3RhdGljIFN0cmluZyBNQVhfQkFDS1VQX0pPVVJOQUxTID0g\nImpvdXJuYWxNYXhCYWNrdXBzIjsKICAgIC8vIEJvb2tpZSBQYXJhbWV0ZXJz\nCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBCT09LSUVfUE9S\nVCA9ICJib29raWVQb3J0IjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMg\nU3RyaW5nIEpPVVJOQUxfRElSID0gImpvdXJuYWxEaXJlY3RvcnkiOwogICAg\ncHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgTEVER0VSX0RJUlMgPSAi\nbGVkZ2VyRGlyZWN0b3JpZXMiOwogICAgLy8gTklPIFBhcmFtZXRlcnMKICAg\nIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFNFUlZFUl9UQ1BfTk9E\nRUxBWSA9ICJzZXJ2ZXJUY3BOb0RlbGF5IjsKICAgIC8vIFpvb2tlZXBlciBQ\nYXJhbWV0ZXJzCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBa\nS19USU1FT1VUID0gInprVGltZW91dCI7CiAgICBwcm90ZWN0ZWQgZmluYWwg\nc3RhdGljIFN0cmluZyBaS19TRVJWRVJTID0gInprU2VydmVycyI7CgogICAg\nLy8gc2VwYXJhdG9yIGZvciBsZWRnZXIgZGlyCiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBTRVAgPSAiLCI7CgogICAgLyoqCiAgICAgKiBD\nb25zdHJ1Y3QgYSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb2JqZWN0CiAgICAg\nKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uKCkgewogICAgICAg\nIHN1cGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3QgYSBj\nb25maWd1cmF0aW9uIGJhc2VkIG9uIG90aGVyIGNvbmZpZ3VyYXRpb24KICAg\nICAqCiAgICAgKiBAcGFyYW0gY29uZgogICAgICogICAgICAgICAgT3RoZXIg\nY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmln\ndXJhdGlvbihBYnN0cmFjdENvbmZpZ3VyYXRpb24gY29uZikgewogICAgICAg\nIHN1cGVyKCk7CiAgICAgICAgbG9hZENvbmYoY29uZik7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBHZXQgZW50cnkgbG9nZ2VyIHNpemUgbGltaXRhdGlvbgog\nICAgICoKICAgICAqIEByZXR1cm4gZW50cnkgbG9nZ2VyIHNpemUgbGltaXRh\ndGlvbgogICAgICovCiAgICBwdWJsaWMgbG9uZyBnZXRFbnRyeUxvZ1NpemVM\naW1pdCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMb25nKEVOVFJZX0xP\nR19TSVpFX0xJTUlULCAyICogMTAyNCAqIDEwMjQgKiAxMDI0TCk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBTZXQgZW50cnkgbG9nZ2VyIHNpemUgbGltaXRh\ndGlvbgogICAgICoKICAgICAqIEBwYXJhbSBsb2dTaXplTGltaXQKICAgICAq\nICAgICAgICAgIG5ldyBsb2cgc2l6ZSBsaW1pdGF0aW9uCiAgICAgKi8KICAg\nIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldEVudHJ5TG9nU2l6ZUxp\nbWl0KGxvbmcgbG9nU2l6ZUxpbWl0KSB7CiAgICAgICAgdGhpcy5zZXRQcm9w\nZXJ0eShFTlRSWV9MT0dfU0laRV9MSU1JVCwgTG9uZy50b1N0cmluZyhsb2dT\naXplTGltaXQpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAv\nKioKICAgICAqIEdldCBHYXJiYWdlIGNvbGxlY3Rpb24gd2FpdCB0aW1lCiAg\nICAgKgogICAgICogQHJldHVybiBnYyB3YWl0IHRpbWUKICAgICAqLwogICAg\ncHVibGljIGxvbmcgZ2V0R2NXYWl0VGltZSgpIHsKICAgICAgICByZXR1cm4g\ndGhpcy5nZXRMb25nKEdDX1dBSVRfVElNRSwgMTAwMCk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTZXQgZ2FyYmFnZSBjb2xsZWN0aW9uIHdhaXQgdGltZQog\nICAgICoKICAgICAqIEBwYXJhbSBnY1dhaXRUaW1lCiAgICAgKiAgICAgICAg\nICBnYyB3YWl0IHRpbWUKICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3Vy\nYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24g\nc2V0R2NXYWl0VGltZShsb25nIGdjV2FpdFRpbWUpIHsKICAgICAgICB0aGlz\nLnNldFByb3BlcnR5KEdDX1dBSVRfVElNRSwgTG9uZy50b1N0cmluZyhnY1dh\naXRUaW1lKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBHZXQgZmx1c2ggaW50ZXJ2YWwKICAgICAqCiAgICAgKiBAcmV0\ndXJuIGZsdXNoIGludGVydmFsCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0\nRmx1c2hJbnRlcnZhbCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnQo\nRkxVU0hfSU5URVJWQUwsIDEwMCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgZmx1c2ggaW50ZXJ2YWwKICAgICAqCiAgICAgKiBAcGFyYW0gZmx1c2hJ\nbnRlcnZhbAogICAgICogICAgICAgICAgRmx1c2ggSW50ZXJ2YWwKICAgICAq\nIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVi\nbGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0Rmx1c2hJbnRlcnZhbChpbnQg\nZmx1c2hJbnRlcnZhbCkgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoRkxV\nU0hfSU5URVJWQUwsIEludGVnZXIudG9TdHJpbmcoZmx1c2hJbnRlcnZhbCkp\nOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICog\nR2V0IGJvb2tpZSBkZWF0aCB3YXRjaCBpbnRlcnZhbAogICAgICoKICAgICAq\nIEByZXR1cm4gd2F0Y2ggaW50ZXJ2YWwKICAgICAqLwogICAgcHVibGljIGlu\ndCBnZXREZWF0aFdhdGNoSW50ZXJ2YWwoKSB7CiAgICAgICAgcmV0dXJuIHRo\naXMuZ2V0SW50KERFQVRIX1dBVENIX0lOVEVSVkFMLCAxMDAwKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIEdldCBvcGVuIGZpbGUgbGltaXQKICAgICAqCiAg\nICAgKiBAcmV0dXJuIG1heCBudW1iZXIgb2YgZmlsZXMgdG8gb3BlbgogICAg\nICovCiAgICBwdWJsaWMgaW50IGdldE9wZW5GaWxlTGltaXQoKSB7CiAgICAg\nICAgcmV0dXJuIHRoaXMuZ2V0SW50KE9QRU5fRklMRV9MSU1JVCwgOTAwKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIEdldCBsaW1pdGF0aW9uIG51bWJlciBv\nZiBpbmRleCBwYWdlcyBpbiBsZWRnZXIgY2FjaGUKICAgICAqCiAgICAgKiBA\ncmV0dXJuIG1heCBudW1iZXIgb2YgaW5kZXggcGFnZXMgaW4gbGVkZ2VyIGNh\nY2hlCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0UGFnZUxpbWl0KCkgewog\nICAgICAgIHJldHVybiB0aGlzLmdldEludChQQUdFX0xJTUlULCAtMSk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBHZXQgcGFnZSBzaXplCiAgICAgKgogICAg\nICogQHJldHVybiBwYWdlIHNpemUgaW4gbGVkZ2VyIGNhY2hlCiAgICAgKi8K\nICAgIHB1YmxpYyBpbnQgZ2V0UGFnZVNpemUoKSB7CiAgICAgICAgcmV0dXJu\nIHRoaXMuZ2V0SW50KFBBR0VfU0laRSwgODE5Mik7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBNYXggam91cm5hbCBmaWxlIHNpemUKICAgICAqCiAgICAgKiBA\ncmV0dXJuIG1heCBqb3VybmFsIGZpbGUgc2l6ZQogICAgICovCiAgICBwdWJs\naWMgbG9uZyBnZXRNYXhKb3VybmFsU2l6ZSgpIHsKICAgICAgICByZXR1cm4g\ndGhpcy5nZXRMb25nKE1BWF9KT1VSTkFMX1NJWkUsIDIgKiAxMDI0KTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCBuZXcgbWF4IGpvdXJuYWwgZmlsZSBz\naXplCiAgICAgKgogICAgICogQHBhcmFtIG1heEpvdXJuYWxTaXplCiAgICAg\nKiAgICAgICAgICBuZXcgbWF4IGpvdXJuYWwgZmlsZSBzaXplCiAgICAgKiBA\ncmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1Ymxp\nYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldE1heEpvdXJuYWxTaXplKGxvbmcg\nbWF4Sm91cm5hbFNpemUpIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5KE1B\nWF9KT1VSTkFMX1NJWkUsIExvbmcudG9TdHJpbmcobWF4Sm91cm5hbFNpemUp\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAq\nIE1heCBudW1iZXIgb2Ygb2xkZXIgam91cm5hbCBmaWxlcyBrZXB0CiAgICAg\nKgogICAgICogQHJldHVybiBtYXggbnVtYmVyIG9mIG9sZGVyIGpvdXJuYWwg\nZmlsZXMgdG8ga2VwdAogICAgICovCiAgICBwdWJsaWMgaW50IGdldE1heEJh\nY2t1cEpvdXJuYWxzKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEludChN\nQVhfQkFDS1VQX0pPVVJOQUxTLCA1KTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCBtYXggbnVtYmVyIG9mIG9sZGVyIGpvdXJuYWwgZmlsZXMgdG8ga2Vw\ndAogICAgICoKICAgICAqIEBwYXJhbSBtYXhCYWNrdXBKb3VybmFscwogICAg\nICogICAgICAgICAgTWF4IG51bWJlciBvZiBvbGRlciBqb3VybmFsIGZpbGVz\nCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8K\nICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldE1heEJhY2t1cEpv\ndXJuYWxzKGludCBtYXhCYWNrdXBKb3VybmFscykgewogICAgICAgIHRoaXMu\nc2V0UHJvcGVydHkoTUFYX0JBQ0tVUF9KT1VSTkFMUywgSW50ZWdlci50b1N0\ncmluZyhtYXhCYWNrdXBKb3VybmFscykpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGJvb2tpZSBwb3J0IHRoYXQg\nYm9va2llIHNlcnZlciBsaXN0ZW4gb24KICAgICAqCiAgICAgKiBAcmV0dXJu\nIGJvb2tpZSBwb3J0CiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0Qm9va2ll\nUG9ydCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnQoQk9PS0lFX1BP\nUlQsIDMxODEpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IG5ldyBib29r\naWUgcG9ydCB0aGF0IGJvb2tpZSBzZXJ2ZXIgbGlzdGVuIG9uCiAgICAgKgog\nICAgICogQHBhcmFtIHBvcnQKICAgICAqICAgICAgICAgIFBvcnQgdG8gbGlz\ndGVuIG9uCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAg\nICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldEJvb2tp\nZVBvcnQoaW50IHBvcnQpIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5KEJP\nT0tJRV9QT1JULCBJbnRlZ2VyLnRvU3RyaW5nKHBvcnQpKTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBkaXIgbmFt\nZSB0byBzdG9yZSBqb3VybmFsIGZpbGVzCiAgICAgKgogICAgICogQHJldHVy\nbiBqb3VybmFsIGRpciBuYW1lCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0Sm91cm5hbERpck5hbWUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0\nU3RyaW5nKEpPVVJOQUxfRElSLCAiL3RtcC9iay10eG4iKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFNldCBkaXIgbmFtZSB0byBzdG9yZSBqb3VybmFsIGZp\nbGVzCiAgICAgKgogICAgICogQHBhcmFtIGpvdXJuYWxEaXIKICAgICAqICAg\nICAgICAgIERpciB0byBzdG9yZSBqb3VybmFsIGZpbGVzCiAgICAgKiBAcmV0\ndXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBT\nZXJ2ZXJDb25maWd1cmF0aW9uIHNldEpvdXJuYWxEaXJOYW1lKFN0cmluZyBq\nb3VybmFsRGlyKSB7CiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShKT1VSTkFM\nX0RJUiwgam91cm5hbERpcik7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBHZXQgZGlyIHRvIHN0b3JlIGpvdXJuYWwgZmls\nZXMKICAgICAqCiAgICAgKiBAcmV0dXJuIGpvdXJuYWwgZGlyLCBpZiBubyBq\nb3VybmFsIGRpciBwcm92aWRlZCByZXR1cm4gbnVsbAogICAgICovCiAgICBw\ndWJsaWMgRmlsZSBnZXRKb3VybmFsRGlyKCkgewogICAgICAgIFN0cmluZyBq\nb3VybmFsRGlyTmFtZSA9IGdldEpvdXJuYWxEaXJOYW1lKCk7CiAgICAgICAg\naWYgKG51bGwgPT0gam91cm5hbERpck5hbWUpIHsKICAgICAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgRmlsZShq\nb3VybmFsRGlyTmFtZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgZGly\nIG5hbWVzIHRvIHN0b3JlIGxlZGdlciBkYXRhCiAgICAgKgogICAgICogQHJl\ndHVybiBsZWRnZXIgZGlyIG5hbWVzLCBpZiBub3QgcHJvdmlkZWQgcmV0dXJu\nIG51bGwKICAgICAqLwogICAgcHVibGljIFN0cmluZ1tdIGdldExlZGdlckRp\nck5hbWVzKCkgewogICAgICAgIFN0cmluZyBsZWRnZXJEaXJzID0gdGhpcy5n\nZXRTdHJpbmcoTEVER0VSX0RJUlMsICIvdG1wL2JrLWRhdGEiKTsKICAgICAg\nICBpZiAobnVsbCA9PSBsZWRnZXJEaXJzKSB7CiAgICAgICAgICAgIHJldHVy\nbiBudWxsOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGVkZ2VyRGlycy5z\ncGxpdChTRVApOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGRpciBuYW1l\ncyB0byBzdG9yZSBsZWRnZXIgZGF0YQogICAgICoKICAgICAqIEBwYXJhbSBs\nZWRnZXJEaXJzCiAgICAgKiAgICAgICAgICBEaXIgbmFtZXMgdG8gc3RvcmUg\nbGVkZ2VyIGRhdGEKICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRp\nb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0\nTGVkZ2VyRGlyTmFtZXMoU3RyaW5nW10gbGVkZ2VyRGlycykgewogICAgICAg\nIGlmIChudWxsID09IGxlZGdlckRpcnMpIHsKICAgICAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoTEVE\nR0VSX0RJUlMsIFN0cmluZ1V0aWxzLmpvaW4obGVkZ2VyRGlycywgU0VQKSk7\nCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBH\nZXQgZGlycyB0aGF0IHN0b3JlcyBsZWRnZXIgZGF0YQogICAgICoKICAgICAq\nIEByZXR1cm4gbGVkZ2VyIGRpcnMKICAgICAqLwogICAgcHVibGljIEZpbGVb\nXSBnZXRMZWRnZXJEaXJzKCkgewogICAgICAgIFN0cmluZ1tdIGxlZGdlckRp\nck5hbWVzID0gZ2V0TGVkZ2VyRGlyTmFtZXMoKTsKICAgICAgICBpZiAobnVs\nbCA9PSBsZWRnZXJEaXJOYW1lcykgewogICAgICAgICAgICByZXR1cm4gbnVs\nbDsKICAgICAgICB9CiAgICAgICAgRmlsZVtdIGxlZGdlckRpcnMgPSBuZXcg\nRmlsZVtsZWRnZXJEaXJOYW1lcy5sZW5ndGhdOwogICAgICAgIGZvciAoaW50\nIGkgPSAwOyBpIDwgbGVkZ2VyRGlyTmFtZXMubGVuZ3RoOyBpKyspIHsKICAg\nICAgICAgICAgbGVkZ2VyRGlyc1tpXSA9IG5ldyBGaWxlKGxlZGdlckRpck5h\nbWVzW2ldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxlZGdlckRpcnM7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBJcyB0Y3AgY29ubmVjdGlvbiBubyBk\nZWxheS4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRjcCBzb2NrZXQgbm9kZWxh\neSBzZXR0aW5nCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdldFNlcnZl\nclRjcE5vRGVsYXkoKSB7CiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW4oU0VS\nVkVSX1RDUF9OT0RFTEFZLCB0cnVlKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCBzb2NrZXQgbm9kZWxheSBzZXR0aW5nCiAgICAgKgogICAgICogQHBh\ncmFtIG5vRGVsYXkKICAgICAqICAgICAgICAgIE5vRGVsYXkgc2V0dGluZwog\nICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAg\nICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRTZXJ2ZXJUY3BOb0Rl\nbGF5KGJvb2xlYW4gbm9EZWxheSkgewogICAgICAgIHNldFByb3BlcnR5KFNF\nUlZFUl9UQ1BfTk9ERUxBWSwgQm9vbGVhbi50b1N0cmluZyhub0RlbGF5KSk7\nCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBH\nZXQgem9va2VlcGVyIHNlcnZlcnMgdG8gY29ubmVjdAogICAgICoKICAgICAq\nIEByZXR1cm4gem9va2VlcGVyIHNlcnZlcnMKICAgICAqLwogICAgcHVibGlj\nIFN0cmluZyBnZXRaa1NlcnZlcnMoKSB7CiAgICAgICAgcmV0dXJuIGdldFN0\ncmluZyhaS19TRVJWRVJTLCBudWxsKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCB6b29rZWVwZXIgc2VydmVycyB0byBjb25uZWN0CiAgICAgKgogICAg\nICogQHBhcmFtIHprU2VydmVycwogICAgICogICAgICAgICAgWm9vS2VlcGVy\nIHNlcnZlcnMgdG8gY29ubmVjdAogICAgICovCiAgICBwdWJsaWMgU2VydmVy\nQ29uZmlndXJhdGlvbiBzZXRaa1NlcnZlcnMoU3RyaW5nIHprU2VydmVycykg\newogICAgICAgIHNldFByb3BlcnR5KFpLX1NFUlZFUlMsIHprU2VydmVycyk7\nCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBH\nZXQgem9va2VlcGVyIHRpbWVvdXQKICAgICAqCiAgICAgKiBAcmV0dXJuIHpv\nb2tlZXBlciBzZXJ2ZXIgdGltZW91dAogICAgICovCiAgICBwdWJsaWMgaW50\nIGdldFprVGltZW91dCgpIHsKICAgICAgICByZXR1cm4gZ2V0SW50KFpLX1RJ\nTUVPVVQsIDEwMDAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB6b29r\nZWVwZXIgdGltZW91dAogICAgICoKICAgICAqIEBwYXJhbSB6a1RpbWVvdXQK\nICAgICAqICAgICAgICAgIFpvb0tlZXBlciBzZXJ2ZXIgdGltZW91dAogICAg\nICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBw\ndWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRaa1RpbWVvdXQoaW50IHpr\nVGltZW91dCkgewogICAgICAgIHNldFByb3BlcnR5KFpLX1RJTUVPVVQsIElu\ndGVnZXIudG9TdHJpbmcoemtUaW1lb3V0KSk7CiAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICB9Cgp9Cg==\n","encoding":"base64"}

