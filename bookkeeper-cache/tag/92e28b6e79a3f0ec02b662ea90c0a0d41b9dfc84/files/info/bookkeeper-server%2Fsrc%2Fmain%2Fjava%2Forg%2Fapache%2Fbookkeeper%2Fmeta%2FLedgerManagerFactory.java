{"sha":"b62ad3a9c4acde0075a1301bd1b0995959831a98","node_id":"MDQ6QmxvYjE1NzU5NTY6YjYyYWQzYTljNGFjZGUwMDc1YTEzMDFiZDFiMDk5NTk1OTgzMWE5OA==","size":4275,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b62ad3a9c4acde0075a1301bd1b0995959831a98","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIubWV0YTsKCi8qKgogKiBM\naWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFT\nRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBh\nZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQogKiBkaXN0cmlidXRl\nZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgog\nKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGlj\nZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExp\nY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91IG1h\neSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQogKiB3\naXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRo\nZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0\nd2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJl\nc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3Bl\nY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBs\naW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppbXBvcnQgamF2\nYS5pby5JT0V4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVw\nZXIuY29uZi5BYnN0cmFjdENvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBh\nY2hlLnpvb2tlZXBlci5ab29LZWVwZXI7CmltcG9ydCBvcmcuYXBhY2hlLnpv\nb2tlZXBlci5LZWVwZXJFeGNlcHRpb247CgovKioKICogPGNvZGU+TGVkZ2Vy\nTWFuYWdlckZhY3Rvcnk8L2NvZGU+IHRha2VzIHJlc3BvbnNpYmlsaXR5IG9m\nIGNyZWF0aW5nIG5ldyBsZWRnZXIgbWFuYWdlci4KICovCnB1YmxpYyBjbGFz\ncyBMZWRnZXJNYW5hZ2VyRmFjdG9yeSB7CiAgICAvKioKICAgICAqIENyZWF0\nZSBuZXcgTGVkZ2VyIE1hbmFnZXIuCiAgICAgKgogICAgICogQHBhcmFtIGNv\nbmYKICAgICAqICAgICAgICAgIENvbmZpZ3VyYXRpb24gT2JqZWN0LgogICAg\nICogQHBhcmFtIHprCiAgICAgKiAgICAgICAgICBab29LZWVwZXIgQ2xpZW50\nIEhhbmRsZSwgdGFsayB0byB6ayB0byBrbm93IHdoaWNoIGxlZGdlciBtYW5h\nZ2VyIGlzIHVzZWQuCiAgICAgKiBAcmV0dXJuIG5ldyBsZWRnZXIgbWFuYWdl\ncgogICAgICogQHRocm93cyBJT0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIExlZGdlck1hbmFnZXIgbmV3TGVkZ2VyTWFuYWdlcigKICAg\nICAgICBmaW5hbCBBYnN0cmFjdENvbmZpZ3VyYXRpb24gY29uZiwgZmluYWwg\nWm9vS2VlcGVyIHprKQogICAgICAgICAgICB0aHJvd3MgSU9FeGNlcHRpb24s\nIEtlZXBlckV4Y2VwdGlvbiwgSW50ZXJydXB0ZWRFeGNlcHRpb24gewogICAg\nICAgIFN0cmluZyBsbVR5cGUgPSBjb25mLmdldExlZGdlck1hbmFnZXJUeXBl\nKCk7CiAgICAgICAgU3RyaW5nIGxlZGdlclJvb3RQYXRoID0gY29uZi5nZXRa\na0xlZGdlcnNSb290UGF0aCgpOwogICAgICAgICAgICAKICAgICAgICBpZiAo\nbnVsbCA9PSBsZWRnZXJSb290UGF0aCB8fCBsZWRnZXJSb290UGF0aC5sZW5n\ndGgoKSA9PSAwKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBJT0V4Y2VwdGlv\nbigiRW1wdHkgTGVkZ2VyIFJvb3QgUGF0aC4iKTsKICAgICAgICB9CiAgICAg\nICAgCiAgICAgICAgLy8gaWYgemsgaXMgbnVsbCwgcmV0dXJuIHRoZSBkZWZh\ndWx0IGxlZGdlciBtYW5hZ2VyCiAgICAgICAgaWYgKHprID09IG51bGwpIHsK\nICAgICAgICAgICAgcmV0dXJuIG5ldyBGbGF0TGVkZ2VyTWFuYWdlcihjb25m\nLCB6aywgCiAgICAgICAgICAgICAgICAgICAgbGVkZ2VyUm9vdFBhdGgsIEZs\nYXRMZWRnZXJNYW5hZ2VyLkNVUl9WRVJTSU9OKTsKICAgICAgICB9CgogICAg\nICAgIC8vIGNoZWNrIHRoYXQgdGhlIGNvbmZpZ3VyZWQgbGVkZ2VyIG1hbmFn\nZXIgaXMKICAgICAgICAvLyBjb21wYXRpYmxlIHdpdGggdGhlIGV4aXN0aW5n\nIGxheW91dAogICAgICAgIExlZGdlckxheW91dCBsYXlvdXQgPSBMZWRnZXJM\nYXlvdXQucmVhZExheW91dCh6aywgbGVkZ2VyUm9vdFBhdGgpOwogICAgICAg\nIGlmIChsYXlvdXQgPT0gbnVsbCkgeyAvLyBubyBleGlzdGluZyBsYXlvdXQK\nICAgICAgICAgICAgaWYgKGxtVHlwZSA9PSBudWxsIAogICAgICAgICAgICAg\nICAgfHwgbG1UeXBlLmVxdWFscyhGbGF0TGVkZ2VyTWFuYWdlci5OQU1FKSkg\newogICAgICAgICAgICAgICAgbGF5b3V0ID0gbmV3IExlZGdlckxheW91dChG\nbGF0TGVkZ2VyTWFuYWdlci5OQU1FLCAKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgRmxhdExlZGdlck1hbmFnZXIuQ1VSX1ZF\nUlNJT04pOwogICAgICAgICAgICB9IGVsc2UgaWYgKGxtVHlwZS5lcXVhbHMo\nSGllcmFyY2hpY2FsTGVkZ2VyTWFuYWdlci5OQU1FKSkgewogICAgICAgICAg\nICAgICAgbGF5b3V0ID0gbmV3IExlZGdlckxheW91dChIaWVyYXJjaGljYWxM\nZWRnZXJNYW5hZ2VyLk5BTUUsIAogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBIaWVyYXJjaGljYWxMZWRnZXJNYW5hZ2VyLkNV\nUl9WRVJTSU9OKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAg\nICAgIHRocm93IG5ldyBJT0V4Y2VwdGlvbigiVW5rbm93biBsZWRnZXIgbWFu\nYWdlciB0eXBlICIgKyBsbVR5cGUpOwogICAgICAgICAgICB9CiAgICAgICAg\nICAgIHRyeSB7CiAgICAgICAgICAgICAgICBsYXlvdXQuc3RvcmUoemssIGxl\nZGdlclJvb3RQYXRoKTsKICAgICAgICAgICAgfSBjYXRjaCAoS2VlcGVyRXhj\nZXB0aW9uLk5vZGVFeGlzdHNFeGNlcHRpb24gbmVlKSB7CiAgICAgICAgICAg\nICAgICBMZWRnZXJMYXlvdXQgbGF5b3V0MiA9IExlZGdlckxheW91dC5yZWFk\nTGF5b3V0KHprLCBsZWRnZXJSb290UGF0aCk7CiAgICAgICAgICAgICAgICBp\nZiAoIWxheW91dDIuZXF1YWxzKGxheW91dCkpIHsKICAgICAgICAgICAgICAg\nICAgICB0aHJvdyBuZXcgSU9FeGNlcHRpb24oIkNvbnRlbnRpb24gd3JpdGlu\nZyB0byBsYXlvdXQgdG8gem9va2VlcGVyLCAiCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICArICIgb3RoZXIgbGF5b3V0ICIgKyBsYXlvdXQyICsgIiBp\ncyBpbmNvbXBhdGlibGUgd2l0aCBvdXIgIgogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgKyAibGF5b3V0ICIgKyBsYXlvdXQpOwogICAgICAgICAgICAg\nICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChsbVR5cGUg\nIT0gbnVsbCAmJiAhbGF5b3V0LmdldE1hbmFnZXJUeXBlKCkuZXF1YWxzKGxt\nVHlwZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IElPRXhjZXB0aW9uKCJD\nb25maWd1cmVkIGxheW91dCAiICsgbG1UeXBlCiAgICAgICAgICAgICAgICAg\nICAgKyAiIGRvZXMgbm90IG1hdGNoIGV4aXN0aW5nIGxheW91dCAiICsgbGF5\nb3V0LmdldE1hbmFnZXJUeXBlKCkpOwogICAgICAgIH0KCiAgICAgICAgLy8g\nY3JlYXRlIHRoZSBsZWRnZXIgbWFuYWdlcgogICAgICAgIGlmIChGbGF0TGVk\nZ2VyTWFuYWdlci5OQU1FLmVxdWFscyhsYXlvdXQuZ2V0TWFuYWdlclR5cGUo\nKSkpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBGbGF0TGVkZ2VyTWFuYWdl\ncihjb25mLCB6aywgbGVkZ2VyUm9vdFBhdGgsIAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5nZXRNYW5hZ2VyVmVy\nc2lvbigpKTsKICAgICAgICB9IGVsc2UgaWYgKEhpZXJhcmNoaWNhbExlZGdl\nck1hbmFnZXIuTkFNRS5lcXVhbHMobGF5b3V0LmdldE1hbmFnZXJUeXBlKCkp\nKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgSGllcmFyY2hpY2FsTGVkZ2Vy\nTWFuYWdlcihjb25mLCB6aywgbGVkZ2VyUm9vdFBhdGgsCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQu\nZ2V0TWFuYWdlclZlcnNpb24oKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAg\nICAgICAgdGhyb3cgbmV3IElPRXhjZXB0aW9uKCJVbmtub3duIGxlZGdlciBt\nYW5hZ2VyIHR5cGU6ICIgKyBsbVR5cGUpOwogICAgICAgIH0KICAgIH0KCn0K\n","encoding":"base64"}

