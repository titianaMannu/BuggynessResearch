{"sha":"5706dd869d1987c6201d8451f887e29d5ad94123","node_id":"MDQ6QmxvYjE1NzU5NTY6NTcwNmRkODY5ZDE5ODdjNjIwMWQ4NDUxZjg4N2UyOWQ1YWQ5NDEyMw==","size":8408,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/5706dd869d1987c6201d8451f887e29d5ad94123","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbDsKCi8qKgogKiBM\naWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFT\nRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBh\nZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQogKiBkaXN0cmlidXRl\nZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgog\nKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGlj\nZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExp\nY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91IG1h\neSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQogKiB3\naXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRo\nZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0\nd2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJl\nc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3Bl\nY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBs\naW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppbXBvcnQgamF2\nYS5pby5CdWZmZXJlZFJlYWRlcjsKaW1wb3J0IGphdmEuaW8uRmlsZTsKaW1w\nb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLklucHV0\nU3RyZWFtUmVhZGVyOwppbXBvcnQgamF2YS5pby5PdXRwdXRTdHJlYW07Cmlt\ncG9ydCBqYXZhLm5ldC5JbmV0QWRkcmVzczsKaW1wb3J0IGphdmEubmV0Lklu\nZXRTb2NrZXRBZGRyZXNzOwppbXBvcnQgamF2YS5uZXQuU29ja2V0OwoKaW1w\nb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jb25mLlNlcnZlckNvbmZpZ3Vy\nYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG8uQm9v\na2llU2VydmVyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9y\nZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dl\ncjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwppbXBvcnQgb3Jn\nLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5\nOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5M\nb2dnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVwZXIuQ3Jl\nYXRlTW9kZTsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLktlZXBlckV4\nY2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLldhdGNoZWRF\ndmVudDsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLldhdGNoZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBlci5ab29LZWVwZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLnpvb2tlZXBlci5ab29EZWZzLklkczsKaW1wb3J0IG9yZy5h\ncGFjaGUuem9va2VlcGVyLnNlcnZlci5OSU9TZXJ2ZXJDbnhuRmFjdG9yeTsK\naW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLnNlcnZlci5ab29LZWVwZXJT\nZXJ2ZXI7CgpwdWJsaWMgY2xhc3MgTG9jYWxCb29rS2VlcGVyIHsKICAgIHBy\nb3RlY3RlZCBzdGF0aWMgZmluYWwgTG9nZ2VyIExPRyA9IExvZ2dlckZhY3Rv\ncnkuZ2V0TG9nZ2VyKExvY2FsQm9va0tlZXBlci5jbGFzcyk7CiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIGludCBDT05ORUNUSU9OX1RJTUVPVVQgPSAzMDAw\nMDsKCiAgICBpbnQgbnVtYmVyT2ZCb29raWVzOwoKICAgIHB1YmxpYyBMb2Nh\nbEJvb2tLZWVwZXIoKSB7CiAgICAgICAgbnVtYmVyT2ZCb29raWVzID0gMzsK\nICAgIH0KCiAgICBwdWJsaWMgTG9jYWxCb29rS2VlcGVyKGludCBudW1iZXJP\nZkJvb2tpZXMpIHsKICAgICAgICB0aGlzKCk7CiAgICAgICAgdGhpcy5udW1i\nZXJPZkJvb2tpZXMgPSBudW1iZXJPZkJvb2tpZXM7CiAgICAgICAgTE9HLmlu\nZm8oIlJ1bm5pbmcgIiArIHRoaXMubnVtYmVyT2ZCb29raWVzICsgIiBib29r\naWUocykuIik7CiAgICB9CgogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcgSE9T\nVFBPUlQgPSAiMTI3LjAuMC4xOjIxODEiOwogICAgTklPU2VydmVyQ254bkZh\nY3Rvcnkgc2VydmVyRmFjdG9yeTsKICAgIFpvb0tlZXBlclNlcnZlciB6a3M7\nCiAgICBab29LZWVwZXIgemtjOwogICAgaW50IFpvb0tlZXBlckRlZmF1bHRQ\nb3J0ID0gMjE4MTsKICAgIEZpbGUgWmtUbXBEaXI7CgogICAgLy9Cb29rS2Vl\ncGVyIHZhcmlhYmxlcwogICAgRmlsZSB0bXBEaXJzW107CiAgICBCb29raWVT\nZXJ2ZXIgYnNbXTsKICAgIFNlcnZlckNvbmZpZ3VyYXRpb24gYnNDb25mc1td\nOwogICAgSW50ZWdlciBpbml0aWFsUG9ydCA9IDUwMDA7CgogICAgLyoqCiAg\nICAgKiBAcGFyYW0gYXJncwogICAgICovCgogICAgcHJpdmF0ZSB2b2lkIHJ1\nblpvb2tlZXBlcihpbnQgbWF4Q0MpIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAg\nICAgICAgLy8gY3JlYXRlIGEgWm9vS2VlcGVyIHNlcnZlcihkYXRhRGlyLCBk\nYXRhTG9nRGlyLCBwb3J0KQogICAgICAgIExPRy5pbmZvKCJTdGFydGluZyBa\nSyBzZXJ2ZXIiKTsKICAgICAgICAvL1NlcnZlclN0YXRzLnJlZ2lzdGVyQXND\nb25jcmV0ZSgpOwogICAgICAgIC8vQ2xpZW50QmFzZS5zZXR1cFRlc3RFbnYo\nKTsKICAgICAgICBaa1RtcERpciA9IEZpbGUuY3JlYXRlVGVtcEZpbGUoInpv\nb2tlZXBlciIsICJ0ZXN0Iik7CiAgICAgICAgWmtUbXBEaXIuZGVsZXRlKCk7\nCiAgICAgICAgWmtUbXBEaXIubWtkaXIoKTsKCiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgemtzID0gbmV3IFpvb0tlZXBlclNlcnZlcihaa1RtcERpciwg\nWmtUbXBEaXIsIFpvb0tlZXBlckRlZmF1bHRQb3J0KTsKICAgICAgICAgICAg\nc2VydmVyRmFjdG9yeSA9ICBuZXcgTklPU2VydmVyQ254bkZhY3RvcnkoKTsK\nICAgICAgICAgICAgc2VydmVyRmFjdG9yeS5jb25maWd1cmUobmV3IEluZXRT\nb2NrZXRBZGRyZXNzKFpvb0tlZXBlckRlZmF1bHRQb3J0KSwgbWF4Q0MpOwog\nICAgICAgICAgICBzZXJ2ZXJGYWN0b3J5LnN0YXJ0dXAoemtzKTsKICAgICAg\nICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAvLyBUT0RP\nIEF1dG8tZ2VuZXJhdGVkIGNhdGNoIGJsb2NrCiAgICAgICAgICAgIExPRy5l\ncnJvcigiRXhjZXB0aW9uIHdoaWxlIGluc3RhbnRpYXRpbmcgWm9vS2VlcGVy\nIiwgZSk7CiAgICAgICAgfQoKICAgICAgICBib29sZWFuIGIgPSB3YWl0Rm9y\nU2VydmVyVXAoSE9TVFBPUlQsIENPTk5FQ1RJT05fVElNRU9VVCk7CiAgICAg\nICAgTE9HLmRlYnVnKCJab29LZWVwZXIgc2VydmVyIHVwOiAiICsgYik7CiAg\nICB9CgogICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVab29rZXBlcigpIHsK\nICAgICAgICBMT0cuaW5mbygiSW5zdGFudGlhdGUgWksgQ2xpZW50Iik7CiAg\nICAgICAgLy9pbml0aWFsaXplIHRoZSB6ayBjbGllbnQgd2l0aCB2YWx1ZXMK\nICAgICAgICB0cnkgewogICAgICAgICAgICB6a2MgPSBuZXcgWm9vS2VlcGVy\nKCIxMjcuMC4wLjEiLCBab29LZWVwZXJEZWZhdWx0UG9ydCwgbmV3IGVtcHR5\nV2F0Y2hlcigpKTsKICAgICAgICAgICAgemtjLmNyZWF0ZSgiL2xlZGdlcnMi\nLCBuZXcgYnl0ZVswXSwgSWRzLk9QRU5fQUNMX1VOU0FGRSwgQ3JlYXRlTW9k\nZS5QRVJTSVNURU5UKTsKICAgICAgICAgICAgemtjLmNyZWF0ZSgiL2xlZGdl\ncnMvYXZhaWxhYmxlIiwgbmV3IGJ5dGVbMF0sIElkcy5PUEVOX0FDTF9VTlNB\nRkUsIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7CiAgICAgICAgICAgIC8vIE5v\nIG5lZWQgdG8gY3JlYXRlIGFuIGVudHJ5IGZvciBlYWNoIHJlcXVlc3RlZCBi\nb29raWUgYW55bW9yZSBhcyB0aGUKICAgICAgICAgICAgLy8gQm9va2llU2Vy\ndmVycyB3aWxsIHJlZ2lzdGVyIHRoZW1zZWx2ZXMgd2l0aCBab29LZWVwZXIg\nb24gc3RhcnR1cC4KICAgICAgICB9IGNhdGNoIChLZWVwZXJFeGNlcHRpb24g\nZSkgewogICAgICAgICAgICAvLyBUT0RPIEF1dG8tZ2VuZXJhdGVkIGNhdGNo\nIGJsb2NrCiAgICAgICAgICAgIExPRy5lcnJvcigiRXhjZXB0aW9uIHdoaWxl\nIGNyZWF0aW5nIHpub2RlcyIsIGUpOwogICAgICAgIH0gY2F0Y2ggKEludGVy\ncnVwdGVkRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgLy8gVE9ETyBBdXRv\nLWdlbmVyYXRlZCBjYXRjaCBibG9jawogICAgICAgICAgICBMT0cuZXJyb3Io\nIkludGVycnVwdGVkIHdoaWxlIGNyZWF0aW5nIHpub2RlcyIsIGUpOwogICAg\nICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgLy8g\nVE9ETyBBdXRvLWdlbmVyYXRlZCBjYXRjaCBibG9jawogICAgICAgICAgICBM\nT0cuZXJyb3IoIkV4Y2VwdGlvbiB3aGlsZSBjcmVhdGluZyB6bm9kZXMiLCBl\nKTsKICAgICAgICB9CiAgICB9CiAgICBwcml2YXRlIHZvaWQgcnVuQm9va2ll\ncyhTZXJ2ZXJDb25maWd1cmF0aW9uIGJhc2VDb25mKSAKICAgICAgICAgICAg\ndGhyb3dzIElPRXhjZXB0aW9uLCBLZWVwZXJFeGNlcHRpb24sIEludGVycnVw\ndGVkRXhjZXB0aW9uIHsKICAgICAgICBMT0cuaW5mbygiU3RhcnRpbmcgQm9v\na2llKHMpIik7CiAgICAgICAgLy8gQ3JlYXRlIEJvb2tpZSBTZXJ2ZXJzIChC\nMSwgQjIsIEIzKQoKICAgICAgICB0bXBEaXJzID0gbmV3IEZpbGVbbnVtYmVy\nT2ZCb29raWVzXTsKICAgICAgICBicyA9IG5ldyBCb29raWVTZXJ2ZXJbbnVt\nYmVyT2ZCb29raWVzXTsKICAgICAgICBic0NvbmZzID0gbmV3IFNlcnZlckNv\nbmZpZ3VyYXRpb25bbnVtYmVyT2ZCb29raWVzXTsKCiAgICAgICAgZm9yKGlu\ndCBpID0gMDsgaSA8IG51bWJlck9mQm9va2llczsgaSsrKSB7CiAgICAgICAg\nICAgIHRtcERpcnNbaV0gPSBGaWxlLmNyZWF0ZVRlbXBGaWxlKCJib29raWUi\nICsgSW50ZWdlci50b1N0cmluZyhpKSwgInRlc3QiKTsKICAgICAgICAgICAg\ndG1wRGlyc1tpXS5kZWxldGUoKTsKICAgICAgICAgICAgdG1wRGlyc1tpXS5t\na2RpcigpOwoKICAgICAgICAgICAgYnNDb25mc1tpXSA9IG5ldyBTZXJ2ZXJD\nb25maWd1cmF0aW9uKGJhc2VDb25mKTsKICAgICAgICAgICAgLy8gb3ZlcnJp\nZGUgc2V0dGluZ3MKICAgICAgICAgICAgYnNDb25mc1tpXS5zZXRCb29raWVQ\nb3J0KGluaXRpYWxQb3J0ICsgaSk7CiAgICAgICAgICAgIGJzQ29uZnNbaV0u\nc2V0WmtTZXJ2ZXJzKEluZXRBZGRyZXNzLmdldExvY2FsSG9zdCgpLmdldEhv\nc3RBZGRyZXNzKCkgKyAiOiIKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICsgWm9vS2VlcGVyRGVmYXVsdFBvcnQpOwogICAgICAgICAgICBi\nc0NvbmZzW2ldLnNldEpvdXJuYWxEaXJOYW1lKHRtcERpcnNbaV0uZ2V0UGF0\naCgpKTsKICAgICAgICAgICAgYnNDb25mc1tpXS5zZXRMZWRnZXJEaXJOYW1l\ncyhuZXcgU3RyaW5nW10geyB0bXBEaXJzW2ldLmdldFBhdGgoKSB9KTsKCiAg\nICAgICAgICAgIGJzW2ldID0gbmV3IEJvb2tpZVNlcnZlcihic0NvbmZzW2ld\nKTsKICAgICAgICAgICAgYnNbaV0uc3RhcnQoKTsKICAgICAgICB9CiAgICB9\nCgogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykK\nICAgICAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uLCBLZWVwZXJFeGNlcHRp\nb24sIEludGVycnVwdGVkRXhjZXB0aW9uIHsKICAgICAgICBpZihhcmdzLmxl\nbmd0aCA8IDEpIHsKICAgICAgICAgICAgdXNhZ2UoKTsKICAgICAgICAgICAg\nU3lzdGVtLmV4aXQoLTEpOwogICAgICAgIH0KICAgICAgICBMb2NhbEJvb2tL\nZWVwZXIgbGIgPSBuZXcgTG9jYWxCb29rS2VlcGVyKEludGVnZXIucGFyc2VJ\nbnQoYXJnc1swXSkpOwoKICAgICAgICBTZXJ2ZXJDb25maWd1cmF0aW9uIGNv\nbmYgPSBuZXcgU2VydmVyQ29uZmlndXJhdGlvbigpOwogICAgICAgIGlmIChh\ncmdzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgIFN0cmluZyBjb25mRmls\nZSA9IGFyZ3NbMV07CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAg\nICBjb25mLmxvYWRDb25mKG5ldyBGaWxlKGNvbmZGaWxlKS50b1VSSSgpLnRv\nVVJMKCkpOwogICAgICAgICAgICAgICAgTE9HLmluZm8oIlVzaW5nIGNvbmZp\nZ3VyYXRpb24gZmlsZSAiICsgY29uZkZpbGUpOwogICAgICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgLy8gbG9hZCBj\nb25mIGZhaWxlZAogICAgICAgICAgICAgICAgTE9HLndhcm4oIkVycm9yIGxv\nYWRpbmcgY29uZmlndXJhdGlvbiBmaWxlICIgKyBjb25mRmlsZSwgZSk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGxiLnJ1blpvb2tlZXBl\ncigxMDAwKTsKICAgICAgICBsYi5pbml0aWFsaXplWm9va2VwZXIoKTsKICAg\nICAgICBsYi5ydW5Cb29raWVzKGNvbmYpOwogICAgICAgIHdoaWxlICh0cnVl\nKSB7CiAgICAgICAgICAgIFRocmVhZC5zbGVlcCg1MDAwKTsKICAgICAgICB9\nCiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB1c2FnZSgpIHsKICAg\nICAgICBTeXN0ZW0uZXJyLnByaW50bG4oIlVzYWdlOiBMb2NhbEJvb2tLZWVw\nZXIgbnVtYmVyLW9mLWJvb2tpZXMiKTsKICAgIH0KCiAgICAvKglVc2VyIGZv\nciB0ZXN0aW5nIHB1cnBvc2VzLCB2b2lkICovCiAgICBjbGFzcyBlbXB0eVdh\ndGNoZXIgaW1wbGVtZW50cyBXYXRjaGVyIHsKICAgICAgICBwdWJsaWMgdm9p\nZCBwcm9jZXNzKFdhdGNoZWRFdmVudCBldmVudCkge30KICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIGJvb2xlYW4gd2FpdEZvclNlcnZlclVwKFN0cmluZyBo\ncCwgbG9uZyB0aW1lb3V0KSB7CiAgICAgICAgbG9uZyBzdGFydCA9IFN5c3Rl\nbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAgICAgIFN0cmluZyBzcGxpdFtd\nID0gaHAuc3BsaXQoIjoiKTsKICAgICAgICBTdHJpbmcgaG9zdCA9IHNwbGl0\nWzBdOwogICAgICAgIGludCBwb3J0ID0gSW50ZWdlci5wYXJzZUludChzcGxp\ndFsxXSk7CiAgICAgICAgd2hpbGUgKHRydWUpIHsKICAgICAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgICAgIFNvY2tldCBzb2NrID0gbmV3IFNvY2tldCho\nb3N0LCBwb3J0KTsKICAgICAgICAgICAgICAgIEJ1ZmZlcmVkUmVhZGVyIHJl\nYWRlciA9IG51bGw7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAg\nICAgICAgICAgIE91dHB1dFN0cmVhbSBvdXRzdHJlYW0gPSBzb2NrLmdldE91\ndHB1dFN0cmVhbSgpOwogICAgICAgICAgICAgICAgICAgIG91dHN0cmVhbS53\ncml0ZSgic3RhdCIuZ2V0Qnl0ZXMoKSk7CiAgICAgICAgICAgICAgICAgICAg\nb3V0c3RyZWFtLmZsdXNoKCk7CgogICAgICAgICAgICAgICAgICAgIHJlYWRl\nciA9CiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCdWZmZXJlZFJlYWRl\ncigKICAgICAgICAgICAgICAgICAgICAgICAgbmV3IElucHV0U3RyZWFtUmVh\nZGVyKHNvY2suZ2V0SW5wdXRTdHJlYW0oKSkpOwogICAgICAgICAgICAgICAg\nICAgIFN0cmluZyBsaW5lID0gcmVhZGVyLnJlYWRMaW5lKCk7CiAgICAgICAg\nICAgICAgICAgICAgaWYgKGxpbmUgIT0gbnVsbCAmJiBsaW5lLnN0YXJ0c1dp\ndGgoIlpvb2tlZXBlciB2ZXJzaW9uOiIpKSB7CiAgICAgICAgICAgICAgICAg\nICAgICAgIExPRy5pbmZvKCJTZXJ2ZXIgVVAiKTsKICAgICAgICAgICAgICAg\nICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAg\nICBzb2NrLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWRl\nciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5j\nbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgewogICAg\nICAgICAgICAgICAgLy8gaWdub3JlIGFzIHRoaXMgaXMgZXhwZWN0ZWQKICAg\nICAgICAgICAgICAgIExPRy5pbmZvKCJzZXJ2ZXIgIiArIGhwICsgIiBub3Qg\ndXAgIiArIGUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoU3lz\ndGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkgPiBzdGFydCArIHRpbWVvdXQpIHsK\nICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAg\nICAgIHRyeSB7CiAgICAgICAgICAgICAgICBUaHJlYWQuc2xlZXAoMjUwKTsK\nICAgICAgICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkg\newogICAgICAgICAgICAgICAgLy8gaWdub3JlCiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKfQo=\n","encoding":"base64"}

