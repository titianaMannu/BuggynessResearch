{"sha":"099eb7c0e125e15a0e4265c688662d898f4897d7","node_id":"MDQ6QmxvYjE1NzU5NTY6MDk5ZWI3YzBlMTI1ZTE1YTBlNDI2NWM2ODg2NjJkODk4ZjQ4OTdkNw==","size":8702,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/099eb7c0e125e15a0e4265c688662d898f4897d7","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLm1ldGE7CgppbXBv\ncnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVudC5Cb29rS2VlcGVyLkRp\nZ2VzdFR5cGU7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZi5D\nbGllbnRDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVw\nZXIuV2F0Y2hlZEV2ZW50OwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVwZXIu\nV2F0Y2hlcjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLlpvb0tlZXBl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLkNyZWF0ZU1vZGU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBlci5ab29EZWZzLklkczsKaW1wb3J0\nIGphdmEudXRpbC5jb25jdXJyZW50LkN5Y2xpY0JhcnJpZXI7CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5Db3VudERvd25MYXRjaDsKCmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Cgpp\nbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnRlc3QuQmFzZVRlc3RDYXNl\nOwppbXBvcnQgb3JnLmp1bml0LkFmdGVyOwppbXBvcnQgb3JnLmp1bml0LkJl\nZm9yZTsKaW1wb3J0IG9yZy5qdW5pdC5UZXN0OwppbXBvcnQgb3JnLmp1bml0\nLkFzc2VydC4qOwoKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBv\ncmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKCnB1YmxpYyBjbGFzcyBUZXN0TGVk\nZ2VyTWFuYWdlciBleHRlbmRzIEJhc2VUZXN0Q2FzZSB7CiAgICBzdGF0aWMg\nTG9nZ2VyIExPRyA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFRlc3RMZWRn\nZXJNYW5hZ2VyLmNsYXNzKTsKCiAgICBwdWJsaWMgVGVzdExlZGdlck1hbmFn\nZXIoRGlnZXN0VHlwZSBkaWdlc3RUeXBlKSB7CiAgICAgICAgc3VwZXIoMCk7\nCiAgICB9CgogICAgLyoqIAogICAgICogVGVzdCBiYWQgY2xpZW50IGNvbmZp\nZ3VyYXRpb24KICAgICAqLwogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRl\nc3RCYWRDb25mKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgQ2xpZW50\nQ29uZmlndXJhdGlvbiBjb25mID0gbmV3IENsaWVudENvbmZpZ3VyYXRpb24o\nKTsKICAgICAgICAKICAgICAgICAvLyBzdWNjZXNzIGNhc2UKICAgICAgICBT\ndHJpbmcgcm9vdDAgPSAiL2dvb2Rjb25mMCI7CiAgICAgICAgemtjLmNyZWF0\nZShyb290MCwgbmV3IGJ5dGVbMF0sIAogICAgICAgICAgICAgICAgICAgSWRz\nLk9QRU5fQUNMX1VOU0FGRSwgQ3JlYXRlTW9kZS5QRVJTSVNURU5UKTsKICAg\nICAgICBjb25mLnNldFprTGVkZ2Vyc1Jvb3RQYXRoKHJvb3QwKTsKCiAgICAg\nICAgTGVkZ2VyTWFuYWdlciBtID0gTGVkZ2VyTWFuYWdlckZhY3RvcnkubmV3\nTGVkZ2VyTWFuYWdlcihjb25mLCB6a2MpOwogICAgICAgIGFzc2VydFRydWUo\nIkxlZGdlciBtYW5hZ2VyIGlzIHVuZXhwZWN0ZWQgdHlwZSIsIAogICAgICAg\nICAgICAgICAgICAgKG0gaW5zdGFuY2VvZiBGbGF0TGVkZ2VyTWFuYWdlcikp\nOwoKICAgICAgICAvLyBtaXNtYXRjaGluZyBjb25mCiAgICAgICAgY29uZi5z\nZXRMZWRnZXJNYW5hZ2VyVHlwZShIaWVyYXJjaGljYWxMZWRnZXJNYW5hZ2Vy\nLk5BTUUpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIExlZGdlck1hbmFn\nZXJGYWN0b3J5Lm5ld0xlZGdlck1hbmFnZXIoY29uZiwgemtjKTsKICAgICAg\nICAgICAgZmFpbCgiU2hvdWxkbid0IHJlYWNoIGhlcmUiKTsKICAgICAgICB9\nIGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBhc3NlcnRUcnVl\nKCJJbnZhbGlkIGV4Y2VwdGlvbiIsIAogICAgICAgICAgICAgICAgICAgICAg\nIGUuZ2V0TWVzc2FnZSgpLmNvbnRhaW5zKCJkb2VzIG5vdCBtYXRjaCBleGlz\ndGluZyBsYXlvdXQiKSk7CiAgICAgICAgfQoKICAgICAgICAvLyBpbnZhbGlk\nIGxlZGdlciBtYW5hZ2VyCiAgICAgICAgU3RyaW5nIHJvb3QxID0gIi9iYWRj\nb25mMSI7CiAgICAgICAgemtjLmNyZWF0ZShyb290MSwgbmV3IGJ5dGVbMF0s\nIAogICAgICAgICAgICAgICAgICAgSWRzLk9QRU5fQUNMX1VOU0FGRSwgQ3Jl\nYXRlTW9kZS5QRVJTSVNURU5UKTsKICAgICAgICBjb25mLnNldFprTGVkZ2Vy\nc1Jvb3RQYXRoKHJvb3QxKTsKCiAgICAgICAgY29uZi5zZXRMZWRnZXJNYW5h\nZ2VyVHlwZSgiRG9lc05vdEV4aXN0Iik7CiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgTGVkZ2VyTWFuYWdlckZhY3RvcnkubmV3TGVkZ2VyTWFuYWdlcihj\nb25mLCB6a2MpOwogICAgICAgICAgICBmYWlsKCJTaG91bGRuJ3QgcmVhY2gg\naGVyZSIpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAg\nICAgICAgIGFzc2VydFRydWUoIkludmFsaWQgZXhjZXB0aW9uIiwgCiAgICAg\nICAgICAgICAgICAgICAgZS5nZXRNZXNzYWdlKCkuY29udGFpbnMoIlVua25v\nd24gbGVkZ2VyIG1hbmFnZXIgdHlwZSAiKSk7CiAgICAgICAgfQogICAgfQoK\nICAgIC8qKgogICAgICogVGVzdCBiYWQgemsgY29uZmlndXJhdGlvbgogICAg\nICovCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEJhZFprQ29udGVu\ndHMoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBDbGllbnRDb25maWd1\ncmF0aW9uIGNvbmYgPSBuZXcgQ2xpZW50Q29uZmlndXJhdGlvbigpOwogICAg\nICAgIAogICAgICAgIC8vIGJhZCB0eXBlIGluIHpvb2tlZXBlcgogICAgICAg\nIFN0cmluZyByb290MCA9ICIvYmFkemswIjsKICAgICAgICB6a2MuY3JlYXRl\nKHJvb3QwLCBuZXcgYnl0ZVswXSwgCiAgICAgICAgICAgICAgICAgICBJZHMu\nT1BFTl9BQ0xfVU5TQUZFLCBDcmVhdGVNb2RlLlBFUlNJU1RFTlQpOwogICAg\nICAgIGNvbmYuc2V0WmtMZWRnZXJzUm9vdFBhdGgocm9vdDApOwogICAgICAg\nIAogICAgICAgIG5ldyBMZWRnZXJMYXlvdXQoIkRvZXNOb3RFeGlzdCIsCiAg\nICAgICAgICAgICAgICAgICAgICAgICAweGRlYWRiZWVmKS5zdG9yZSh6a2Ms\nIHJvb3QwKTsKICAgICAgICAKICAgICAgICB0cnkgewogICAgICAgICAgICBM\nZWRnZXJNYW5hZ2VyRmFjdG9yeS5uZXdMZWRnZXJNYW5hZ2VyKGNvbmYsIHpr\nYyk7CiAgICAgICAgICAgIGZhaWwoIlNob3VsZG4ndCByZWFjaCBoZXJlIik7\nCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAg\nYXNzZXJ0VHJ1ZSgiSW52YWxpZCBleGNlcHRpb24iLCAKICAgICAgICAgICAg\nICAgICAgICBlLmdldE1lc3NhZ2UoKS5jb250YWlucygiVW5rbm93biBsZWRn\nZXIgbWFuYWdlciB0eXBlIikpOwogICAgICAgIH0KCiAgICAgICAgLy8gYmFk\nIHZlcnNpb24gaW4gem9va2VlcGVyCiAgICAgICAgU3RyaW5nIHJvb3QxID0g\nIi9iYWR6azEiOwogICAgICAgIHprYy5jcmVhdGUocm9vdDEsIG5ldyBieXRl\nWzBdLCAKICAgICAgICAgICAgICAgICAgIElkcy5PUEVOX0FDTF9VTlNBRkUs\nIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7CiAgICAgICAgY29uZi5zZXRaa0xl\nZGdlcnNSb290UGF0aChyb290MSk7CiAgICAgICAgCiAgICAgICAgbmV3IExl\nZGdlckxheW91dChGbGF0TGVkZ2VyTWFuYWdlci5OQU1FLAogICAgICAgICAg\nICAgICAgICAgICAgICAgMHhkZWFkYmVlZikuc3RvcmUoemtjLCByb290MSk7\nCiAgICAgICAgCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgTGVkZ2VyTWFu\nYWdlckZhY3RvcnkubmV3TGVkZ2VyTWFuYWdlcihjb25mLCB6a2MpOwogICAg\nICAgICAgICBmYWlsKCJTaG91bGRuJ3QgcmVhY2ggaGVyZSIpOwogICAgICAg\nIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGFzc2VydFRy\ndWUoIkludmFsaWQgZXhjZXB0aW9uIiwgCiAgICAgICAgICAgICAgICAgICAg\nZS5nZXRNZXNzYWdlKCkuY29udGFpbnMoIkluY29tcGF0aWJsZSBsYXlvdXQg\ndmVyc2lvbiBmb3VuZCIpKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0\nZSBzdGF0aWMgY2xhc3MgQ3JlYXRlTE1UaHJlYWQgZXh0ZW5kcyBUaHJlYWQg\newogICAgICAgIHByaXZhdGUgYm9vbGVhbiBzdWNjZXNzID0gZmFsc2U7CiAg\nICAgICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcgdHlwZTsKICAgICAgICBwcml2\nYXRlIGZpbmFsIFN0cmluZyByb290OwogICAgICAgIHByaXZhdGUgZmluYWwg\nQ3ljbGljQmFycmllciBiYXJyaWVyOwogICAgICAgIHByaXZhdGUgWm9vS2Vl\ncGVyIHprYzsKICAgICAgICAKICAgICAgICBDcmVhdGVMTVRocmVhZChTdHJp\nbmcgcm9vdCwgU3RyaW5nIHR5cGUsIEN5Y2xpY0JhcnJpZXIgYmFycmllcikg\ndGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHRoaXMudHlwZSA9IHR5\ncGU7CiAgICAgICAgICAgIHRoaXMuYmFycmllciA9IGJhcnJpZXI7CiAgICAg\nICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7CiAgICAgICAgICAgIGZpbmFsIENv\ndW50RG93bkxhdGNoIGxhdGNoID0gbmV3IENvdW50RG93bkxhdGNoKDEpOwog\nICAgICAgICAgICB6a2MgPSBuZXcgWm9vS2VlcGVyKCIxMjcuMC4wLjEiLCAx\nMDAwMCwgbmV3IFdhdGNoZXIoKSB7CiAgICAgICAgICAgICAgICAgICAgcHVi\nbGljIHZvaWQgcHJvY2VzcyhXYXRjaGVkRXZlbnQgZXZlbnQpIHsKICAgICAg\nICAgICAgICAgICAgICAgICAgbGF0Y2guY291bnREb3duKCk7CiAgICAgICAg\nICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAg\nIGxhdGNoLmF3YWl0KCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9p\nZCBydW4oKSB7CiAgICAgICAgICAgIENsaWVudENvbmZpZ3VyYXRpb24gY29u\nZiA9IG5ldyBDbGllbnRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgICAgIGNv\nbmYuc2V0TGVkZ2VyTWFuYWdlclR5cGUodHlwZSk7CgogICAgICAgICAgICB0\ncnkgewogICAgICAgICAgICAgICAgYmFycmllci5hd2FpdCgpOwogICAgICAg\nICAgICAgICAgTGVkZ2VyTWFuYWdlckZhY3RvcnkubmV3TGVkZ2VyTWFuYWdl\ncihjb25mLCB6a2MpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAg\nICBzdWNjZXNzID0gdHJ1ZTsKICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0\naW9uIGUpIHsKICAgICAgICAgICAgICAgIExPRy5lcnJvcigiRmFpbGVkIHRv\nIGNyZWF0ZSBsZWRnZXIgbWFuYWdlciIsIGUpOwogICAgICAgICAgICB9CiAg\nICAgICAgfQoKICAgICAgICBwdWJsaWMgYm9vbGVhbiBpc1N1Y2Nlc3NmdWwo\nKSB7CiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzOwogICAgICAgIH0KICAg\nICAgICAKICAgICAgICBwdWJsaWMgdm9pZCBjbG9zZSgpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgICAgICB6a2MuY2xvc2UoKTsKICAgICAgICB9CiAg\nICB9CgogICAgLy8gdGVzdCBjb25jdXJyZW50CiAgICBAVGVzdAogICAgcHVi\nbGljIHZvaWQgdGVzdENvbmN1cnJlbnQxKCkgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgLy8vIGV2ZXJ5b25lIGNyZWF0ZXMgdGhlIHNhbWUKICAgICAg\nICBpbnQgbnVtVGhyZWFkcyA9IDUwOwogICAgICAgIAogICAgICAgIC8vIGJh\nZCB2ZXJzaW9uIGluIHpvb2tlZXBlcgogICAgICAgIFN0cmluZyByb290MCA9\nICIvbG1yb290MCI7CiAgICAgICAgemtjLmNyZWF0ZShyb290MCwgbmV3IGJ5\ndGVbMF0sIAogICAgICAgICAgICAgICAgICAgSWRzLk9QRU5fQUNMX1VOU0FG\nRSwgQ3JlYXRlTW9kZS5QRVJTSVNURU5UKTsKCiAgICAgICAgQ3ljbGljQmFy\ncmllciBiYXJyaWVyID0gbmV3IEN5Y2xpY0JhcnJpZXIobnVtVGhyZWFkcysx\nKTsKICAgICAgICBMaXN0PENyZWF0ZUxNVGhyZWFkPiB0aHJlYWRzID0gbmV3\nIEFycmF5TGlzdDxDcmVhdGVMTVRocmVhZD4obnVtVGhyZWFkcyk7CiAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBudW1UaHJlYWRzOyBpKyspIHsKICAg\nICAgICAgICAgQ3JlYXRlTE1UaHJlYWQgdCA9IG5ldyBDcmVhdGVMTVRocmVh\nZChyb290MCwgRmxhdExlZGdlck1hbmFnZXIuTkFNRSwgYmFycmllcik7CiAg\nICAgICAgICAgIHQuc3RhcnQoKTsKICAgICAgICAgICAgdGhyZWFkcy5hZGQo\ndCk7CiAgICAgICAgfQoKICAgICAgICBiYXJyaWVyLmF3YWl0KCk7CgogICAg\nICAgIGJvb2xlYW4gc3VjY2VzcyA9IHRydWU7CiAgICAgICAgZm9yIChDcmVh\ndGVMTVRocmVhZCB0IDogdGhyZWFkcykgewogICAgICAgICAgICB0LmpvaW4o\nKTsKICAgICAgICAgICAgdC5jbG9zZSgpOwogICAgICAgICAgICBzdWNjZXNz\nID0gdC5pc1N1Y2Nlc3NmdWwoKSAmJiBzdWNjZXNzOwogICAgICAgIH0KICAg\nICAgICBhc3NlcnRUcnVlKCJOb3QgYWxsIGxlZGdlciBtYW5hZ2VycyBjcmVh\ndGVkIiwgc3VjY2Vzcyk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2\nb2lkIHRlc3RDb25jdXJyZW50MigpIHRocm93cyBFeGNlcHRpb24gewogICAg\nICAgIC8vLyBvZGQgY3JlYXRlIGRpZmZlcmVudAogICAgICAgIGludCBudW1U\naHJlYWRzRWFjaCA9IDI1OwogICAgICAgIAogICAgICAgIC8vIGJhZCB2ZXJz\naW9uIGluIHpvb2tlZXBlcgogICAgICAgIFN0cmluZyByb290MCA9ICIvbG1y\nb290MCI7CiAgICAgICAgemtjLmNyZWF0ZShyb290MCwgbmV3IGJ5dGVbMF0s\nIAogICAgICAgICAgICAgICAgICAgSWRzLk9QRU5fQUNMX1VOU0FGRSwgQ3Jl\nYXRlTW9kZS5QRVJTSVNURU5UKTsKCiAgICAgICAgQ3ljbGljQmFycmllciBi\nYXJyaWVyID0gbmV3IEN5Y2xpY0JhcnJpZXIobnVtVGhyZWFkc0VhY2gqMisx\nKTsKICAgICAgICBMaXN0PENyZWF0ZUxNVGhyZWFkPiB0aHJlYWRzQSA9IG5l\ndyBBcnJheUxpc3Q8Q3JlYXRlTE1UaHJlYWQ+KG51bVRocmVhZHNFYWNoKTsK\nICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bVRocmVhZHNFYWNoOyBp\nKyspIHsKICAgICAgICAgICAgQ3JlYXRlTE1UaHJlYWQgdCA9IG5ldyBDcmVh\ndGVMTVRocmVhZChyb290MCwgRmxhdExlZGdlck1hbmFnZXIuTkFNRSwgYmFy\ncmllcik7CiAgICAgICAgICAgIHQuc3RhcnQoKTsKICAgICAgICAgICAgdGhy\nZWFkc0EuYWRkKHQpOwogICAgICAgIH0KICAgICAgICBMaXN0PENyZWF0ZUxN\nVGhyZWFkPiB0aHJlYWRzQiA9IG5ldyBBcnJheUxpc3Q8Q3JlYXRlTE1UaHJl\nYWQ+KG51bVRocmVhZHNFYWNoKTsKICAgICAgICBmb3IgKGludCBpID0gMDsg\naSA8IG51bVRocmVhZHNFYWNoOyBpKyspIHsKICAgICAgICAgICAgQ3JlYXRl\nTE1UaHJlYWQgdCA9IG5ldyBDcmVhdGVMTVRocmVhZChyb290MCwgCiAgICAg\nICAgICAgICAgICAgICAgSGllcmFyY2hpY2FsTGVkZ2VyTWFuYWdlci5OQU1F\nLCBiYXJyaWVyKTsKICAgICAgICAgICAgdC5zdGFydCgpOwogICAgICAgICAg\nICB0aHJlYWRzQi5hZGQodCk7CiAgICAgICAgfQoKICAgICAgICBiYXJyaWVy\nLmF3YWl0KCk7CgogICAgICAgIGludCBudW1TdWNjZXNzID0gMDsKICAgICAg\nICBpbnQgbnVtRmFpbHMgPSAwOwogICAgICAgIGZvciAoQ3JlYXRlTE1UaHJl\nYWQgdCA6IHRocmVhZHNBKSB7CiAgICAgICAgICAgIHQuam9pbigpOwogICAg\nICAgICAgICB0LmNsb3NlKCk7CiAgICAgICAgICAgIGlmICh0LmlzU3VjY2Vz\nc2Z1bCgpKSB7CiAgICAgICAgICAgICAgICBudW1TdWNjZXNzKys7CiAgICAg\nICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBudW1GYWlscysrOwog\nICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3IgKENyZWF0ZUxN\nVGhyZWFkIHQgOiB0aHJlYWRzQikgewogICAgICAgICAgICB0LmpvaW4oKTsK\nICAgICAgICAgICAgdC5jbG9zZSgpOwogICAgICAgICAgICBpZiAodC5pc1N1\nY2Nlc3NmdWwoKSkgewogICAgICAgICAgICAgICAgbnVtU3VjY2VzcysrOwog\nICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbnVtRmFpbHMr\nKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBhc3NlcnRFcXVh\nbHMoIkluY29ycmVjdCBudW1iZXIgb2Ygc3VjY2Vzc2VzIiwgbnVtVGhyZWFk\nc0VhY2gsIG51bVN1Y2Nlc3MpOwogICAgICAgIGFzc2VydEVxdWFscygiSW5j\nb3JyZWN0IG51bWJlciBvZiBmYWlsdXJlcyIsIG51bVRocmVhZHNFYWNoLCBu\ndW1GYWlscyk7CiAgICB9Cn0=\n","encoding":"base64"}

