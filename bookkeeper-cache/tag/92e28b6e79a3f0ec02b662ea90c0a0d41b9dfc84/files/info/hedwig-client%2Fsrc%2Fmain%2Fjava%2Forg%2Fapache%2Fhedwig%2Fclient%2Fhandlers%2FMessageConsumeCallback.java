{"sha":"0d3a1ff3237a75ce8406fea7776bb4df3da2cd87","node_id":"MDQ6QmxvYjE1NzU5NTY6MGQzYTFmZjMyMzdhNzVjZTg0MDZmZWE3Nzc2YmI0ZGYzZGEyY2Q4Nw==","size":4646,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/0d3a1ff3237a75ce8406fea7776bb4df3da2cd87","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuaGFuZGxlcnM7CgppbXBv\ncnQgamF2YS51dGlsLlRpbWVyVGFzazsKCmltcG9ydCBvcmcuc2xmNGouTG9n\nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rvcnk7CmltcG9ydCBv\ncmcuamJvc3MubmV0dHkuY2hhbm5lbC5DaGFubmVsOwoKaW1wb3J0IG9yZy5h\ncGFjaGUuaGVkd2lnLmNsaWVudC5kYXRhLk1lc3NhZ2VDb25zdW1lRGF0YTsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5kYXRhLlRvcGljU3Vi\nc2NyaWJlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5uZXR0\neS5IZWR3aWdDbGllbnRJbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcu\nZXhjZXB0aW9ucy5QdWJTdWJFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLmhlZHdpZy51dGlsLkNhbGxiYWNrOwoKLyoqCiAqIFRoaXMgaXMgdGhlIENh\nbGxiYWNrIHVzZWQgYnkgdGhlIE1lc3NhZ2VIYW5kbGVycyBvbiB0aGUgY2xp\nZW50IGFwcCB3aGVuCiAqIHRoZXkndmUgZmluaXNoZWQgY29uc3VtaW5nIGEg\nc3Vic2NyaXB0aW9uIG1lc3NhZ2Ugc2VudCBmcm9tIHRoZSBzZXJ2ZXIKICog\nYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FsbGJhY2sgYmFjayB0byB0aGUgY2xp\nZW50IGxpYnMgd2lsbCBiZSBzdGF0ZWxlc3Mgc28gd2UKICogY2FuIHVzZSBh\nIHNpbmdsZXRvbiBmb3IgdGhlIGNsYXNzLiBUaGUgb2JqZWN0IGNvbnRleHQg\ndXNlZCBzaG91bGQgYmUgdGhlCiAqIE1lc3NhZ2VDb25zdW1lRGF0YSB0eXBl\nLiBUaGF0IHdpbGwgY29udGFpbiBhbGwgb2YgdGhlIGluZm9ybWF0aW9uIG5l\nZWRlZCB0bwogKiBjYWxsIHRoZSBtZXNzYWdlIGNvbnN1bWUgbG9naWMgaW4g\ndGhlIGNsaWVudCBsaWIgUmVzcG9uc2VIYW5kbGVyLgogKgogKi8KcHVibGlj\nIGNsYXNzIE1lc3NhZ2VDb25zdW1lQ2FsbGJhY2sgaW1wbGVtZW50cyBDYWxs\nYmFjazxWb2lkPiB7CgogICAgcHJpdmF0ZSBzdGF0aWMgTG9nZ2VyIGxvZ2dl\nciA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKE1lc3NhZ2VDb25zdW1lQ2Fs\nbGJhY2suY2xhc3MpOwoKICAgIHByaXZhdGUgZmluYWwgSGVkd2lnQ2xpZW50\nSW1wbCBjbGllbnQ7CgogICAgcHVibGljIE1lc3NhZ2VDb25zdW1lQ2FsbGJh\nY2soSGVkd2lnQ2xpZW50SW1wbCBjbGllbnQpIHsKICAgICAgICB0aGlzLmNs\naWVudCA9IGNsaWVudDsKICAgIH0KCiAgICBjbGFzcyBNZXNzYWdlQ29uc3Vt\nZVJldHJ5VGFzayBleHRlbmRzIFRpbWVyVGFzayB7CiAgICAgICAgcHJpdmF0\nZSBmaW5hbCBNZXNzYWdlQ29uc3VtZURhdGEgbWVzc2FnZUNvbnN1bWVEYXRh\nOwogICAgICAgIHByaXZhdGUgZmluYWwgVG9waWNTdWJzY3JpYmVyIHRvcGlj\nU3Vic2NyaWJlcjsKCiAgICAgICAgcHVibGljIE1lc3NhZ2VDb25zdW1lUmV0\ncnlUYXNrKE1lc3NhZ2VDb25zdW1lRGF0YSBtZXNzYWdlQ29uc3VtZURhdGEs\nIFRvcGljU3Vic2NyaWJlciB0b3BpY1N1YnNjcmliZXIpIHsKICAgICAgICAg\nICAgdGhpcy5tZXNzYWdlQ29uc3VtZURhdGEgPSBtZXNzYWdlQ29uc3VtZURh\ndGE7CiAgICAgICAgICAgIHRoaXMudG9waWNTdWJzY3JpYmVyID0gdG9waWNT\ndWJzY3JpYmVyOwogICAgICAgIH0KCiAgICAgICAgQE92ZXJyaWRlCiAgICAg\nICAgcHVibGljIHZvaWQgcnVuKCkgewogICAgICAgICAgICAvLyBUcnkgdG8g\nY29uc3VtZSB0aGUgbWVzc2FnZSBhZ2FpbgogICAgICAgICAgICBDaGFubmVs\nIHRvcGljU3Vic2NyaWJlckNoYW5uZWwgPSBjbGllbnQuZ2V0U3Vic2NyaWJl\ncigpLmdldENoYW5uZWxGb3JUb3BpYyh0b3BpY1N1YnNjcmliZXIpOwogICAg\nICAgICAgICBIZWR3aWdDbGllbnRJbXBsLmdldFJlc3BvbnNlSGFuZGxlckZy\nb21DaGFubmVsKHRvcGljU3Vic2NyaWJlckNoYW5uZWwpLmdldFN1YnNjcmli\nZVJlc3BvbnNlSGFuZGxlcigpCiAgICAgICAgICAgIC5hc3luY01lc3NhZ2VD\nb25zdW1lKG1lc3NhZ2VDb25zdW1lRGF0YS5tc2cpOwogICAgICAgIH0KICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBvcGVyYXRpb25GaW5pc2hlZChPYmplY3Qg\nY3R4LCBWb2lkIHJlc3VsdE9mT3BlcmF0aW9uKSB7CiAgICAgICAgTWVzc2Fn\nZUNvbnN1bWVEYXRhIG1lc3NhZ2VDb25zdW1lRGF0YSA9IChNZXNzYWdlQ29u\nc3VtZURhdGEpIGN0eDsKICAgICAgICBUb3BpY1N1YnNjcmliZXIgdG9waWNT\ndWJzY3JpYmVyID0gbmV3IFRvcGljU3Vic2NyaWJlcihtZXNzYWdlQ29uc3Vt\nZURhdGEudG9waWMsIG1lc3NhZ2VDb25zdW1lRGF0YS5zdWJzY3JpYmVySWQp\nOwogICAgICAgIC8vIE1lc3NhZ2UgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNv\nbnN1bWVkIGJ5IHRoZSBjbGllbnQgYXBwIHNvIGNhbGxiYWNrCiAgICAgICAg\nLy8gdG8gdGhlIFJlc3BvbnNlSGFuZGxlciBpbmRpY2F0aW5nIHRoYXQgdGhl\nIG1lc3NhZ2UgaXMgY29uc3VtZWQuCiAgICAgICAgQ2hhbm5lbCB0b3BpY1N1\nYnNjcmliZXJDaGFubmVsID0gY2xpZW50LmdldFN1YnNjcmliZXIoKS5nZXRD\naGFubmVsRm9yVG9waWModG9waWNTdWJzY3JpYmVyKTsKICAgICAgICBIZWR3\naWdDbGllbnRJbXBsLmdldFJlc3BvbnNlSGFuZGxlckZyb21DaGFubmVsKHRv\ncGljU3Vic2NyaWJlckNoYW5uZWwpLmdldFN1YnNjcmliZVJlc3BvbnNlSGFu\nZGxlcigpCiAgICAgICAgLm1lc3NhZ2VDb25zdW1lZChtZXNzYWdlQ29uc3Vt\nZURhdGEubXNnKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBvcGVyYXRpb25G\nYWlsZWQoT2JqZWN0IGN0eCwgUHViU3ViRXhjZXB0aW9uIGV4Y2VwdGlvbikg\newogICAgICAgIC8vIE1lc3NhZ2UgaGFzIE5PVCBiZWVuIHN1Y2Nlc3NmdWxs\neSBjb25zdW1lZCBieSB0aGUgY2xpZW50IGFwcCBzbwogICAgICAgIC8vIGNh\nbGxiYWNrIHRvIHRoZSBSZXNwb25zZUhhbmRsZXIgdG8gdHJ5IHRoZSBhc3lu\nYyBNZXNzYWdlSGFuZGxlcgogICAgICAgIC8vIENvbnN1bWUgbG9naWMgYWdh\naW4uCiAgICAgICAgTWVzc2FnZUNvbnN1bWVEYXRhIG1lc3NhZ2VDb25zdW1l\nRGF0YSA9IChNZXNzYWdlQ29uc3VtZURhdGEpIGN0eDsKICAgICAgICBUb3Bp\nY1N1YnNjcmliZXIgdG9waWNTdWJzY3JpYmVyID0gbmV3IFRvcGljU3Vic2Ny\naWJlcihtZXNzYWdlQ29uc3VtZURhdGEudG9waWMsIG1lc3NhZ2VDb25zdW1l\nRGF0YS5zdWJzY3JpYmVySWQpOwogICAgICAgIGxvZ2dlci5lcnJvcigiTWVz\nc2FnZSB3YXMgbm90IGNvbnN1bWVkIHN1Y2Nlc3NmdWxseSBieSBjbGllbnQg\nTWVzc2FnZUhhbmRsZXI6ICIgKyBtZXNzYWdlQ29uc3VtZURhdGEpOwoKICAg\nICAgICAvLyBTbGVlcCBhIHByZS1jb25maWd1cmVkIGFtb3VudCBvZiB0aW1l\nIChpbiBtaWxsaXNlY29uZHMpIGJlZm9yZSB3ZQogICAgICAgIC8vIGRvIHRo\nZSByZXRyeS4gSW4gdGhlIGZ1dHVyZSwgd2UgY2FuIGhhdmUgbW9yZSBkeW5h\nbWljIGxvZ2ljIG9uCiAgICAgICAgLy8gd2hhdCBkdXJhdGlvbiB0byBzbGVl\ncCBiYXNlZCBvbiBob3cgbWFueSB0aW1lcyB3ZSd2ZSByZXRyaWVkLCBvcgog\nICAgICAgIC8vIHBlcmhhcHMgd2hhdCB0aGUgbGFzdCBhbW91bnQgb2YgdGlt\nZSB3ZSBzbGVwdCB3YXMuIFdlIGNvdWxkIHN0aWNrCiAgICAgICAgLy8gc29t\nZSBvZiB0aGlzIG1ldGEtZGF0YSBpbnRvIHRoZSBNZXNzYWdlQ29uc3VtZURh\ndGEgd2hlbiB3ZSByZXRyeS4KICAgICAgICBjbGllbnQuZ2V0Q2xpZW50VGlt\nZXIoKS5zY2hlZHVsZShuZXcgTWVzc2FnZUNvbnN1bWVSZXRyeVRhc2sobWVz\nc2FnZUNvbnN1bWVEYXRhLCB0b3BpY1N1YnNjcmliZXIpLAogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5nZXRDb25m\naWd1cmF0aW9uKCkuZ2V0TWVzc2FnZUNvbnN1bWVSZXRyeVdhaXRUaW1lKCkp\nOwogICAgfQoKfQo=\n","encoding":"base64"}

