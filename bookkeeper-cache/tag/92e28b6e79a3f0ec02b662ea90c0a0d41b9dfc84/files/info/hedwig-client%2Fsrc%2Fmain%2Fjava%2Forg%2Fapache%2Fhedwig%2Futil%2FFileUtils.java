{"sha":"ad79b468154c54d4171b68c54877eca4b2148592","node_id":"MDQ6QmxvYjE1NzU5NTY6YWQ3OWI0NjgxNTRjNTRkNDE3MWI2OGM1NDg3N2VjYTRiMjE0ODU5Mg==","size":2960,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/ad79b468154c54d4171b68c54877eca4b2148592","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy51dGlsOwoKaW1wb3J0IGphdmEuaW8u\nRmlsZTsKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZh\nLnV0aWwuTGlua2VkTGlzdDsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKaW1w\nb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2Vy\nRmFjdG9yeTsKCnB1YmxpYyBjbGFzcyBGaWxlVXRpbHMgewoKICAgIHN0YXRp\nYyBEaXJEZWxldGVyVGhyZWQgZGlyRGVsZXRlclRocmVhZDsKICAgIHN0YXRp\nYyBMb2dnZXIgbG9nID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoRmlsZVV0\naWxzLmNsYXNzKTsKCiAgICBzdGF0aWMgewogICAgICAgIGRpckRlbGV0ZXJU\naHJlYWQgPSBuZXcgRGlyRGVsZXRlclRocmVkKCk7CiAgICAgICAgUnVudGlt\nZS5nZXRSdW50aW1lKCkuYWRkU2h1dGRvd25Ib29rKGRpckRlbGV0ZXJUaHJl\nYWQpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgRmlsZSBjcmVhdGVUZW1w\nRGlyZWN0b3J5KFN0cmluZyBwcmVmaXgpIHRocm93cyBJT0V4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIGNyZWF0ZVRlbXBEaXJlY3RvcnkocHJlZml4LCBu\ndWxsKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIEZpbGUgY3JlYXRlVGVt\ncERpcmVjdG9yeShTdHJpbmcgcHJlZml4LCBTdHJpbmcgc3VmZml4KSB0aHJv\nd3MgSU9FeGNlcHRpb24gewogICAgICAgIEZpbGUgdGVtcERpciA9IEZpbGUu\nY3JlYXRlVGVtcEZpbGUocHJlZml4LCBzdWZmaXgpOwogICAgICAgIGlmICgh\ndGVtcERpci5kZWxldGUoKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgSU9F\neGNlcHRpb24oIkNvdWxkIG5vdCBkZWxldGUgdGVtcCBmaWxlOiAiICsgdGVt\ncERpci5nZXRBYnNvbHV0ZVBhdGgoKSk7CiAgICAgICAgfQoKICAgICAgICBp\nZiAoIXRlbXBEaXIubWtkaXIoKSkgewogICAgICAgICAgICB0aHJvdyBuZXcg\nSU9FeGNlcHRpb24oIkNvdWxkIG5vdCBjcmVhdGUgdGVtcCBkaXJlY3Rvcnk6\nICIgKyB0ZW1wRGlyLmdldEFic29sdXRlUGF0aCgpKTsKICAgICAgICB9Cgog\nICAgICAgIGRpckRlbGV0ZXJUaHJlYWQuYWRkRGlyVG9EZWxldGUodGVtcERp\ncik7CiAgICAgICAgcmV0dXJuIHRlbXBEaXI7CgogICAgfQoKICAgIHN0YXRp\nYyBjbGFzcyBEaXJEZWxldGVyVGhyZWQgZXh0ZW5kcyBUaHJlYWQgewogICAg\nICAgIExpc3Q8RmlsZT4gZGlyc1RvRGVsZXRlID0gbmV3IExpbmtlZExpc3Q8\nRmlsZT4oKTsKCiAgICAgICAgcHVibGljIHN5bmNocm9uaXplZCB2b2lkIGFk\nZERpclRvRGVsZXRlKEZpbGUgZGlyKSB7CiAgICAgICAgICAgIGRpcnNUb0Rl\nbGV0ZS5hZGQoZGlyKTsKICAgICAgICB9CgogICAgICAgIEBPdmVycmlkZQog\nICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHsKICAgICAgICAgICAgc3luY2hy\nb25pemVkICh0aGlzKSB7CiAgICAgICAgICAgICAgICBmb3IgKEZpbGUgZGly\nIDogZGlyc1RvRGVsZXRlKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRl\nRGlyZWN0b3J5KGRpcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nIH0KICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCB2b2lkIGRlbGV0ZURp\ncmVjdG9yeShGaWxlIGRpcikgewogICAgICAgICAgICBpZiAoZGlyLmlzRmls\nZSgpKSB7CiAgICAgICAgICAgICAgICBpZiAoIWRpci5kZWxldGUoKSkgewog\nICAgICAgICAgICAgICAgICAgIGxvZy5lcnJvcigiQ291bGQgbm90IGRlbGV0\nZSAiICsgZGlyLmdldEFic29sdXRlUGF0aCgpKTsKICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAg\nICAgICAgICAgRmlsZVtdIGZpbGVzID0gZGlyLmxpc3RGaWxlcygpOwogICAg\nICAgICAgICBpZiAoZmlsZXMgPT0gbnVsbCkgewogICAgICAgICAgICAgICAg\ncmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3IgKEZpbGUg\nZiA6IGZpbGVzKSB7CiAgICAgICAgICAgICAgICBkZWxldGVEaXJlY3Rvcnko\nZik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghZGlyLmRlbGV0\nZSgpKSB7CiAgICAgICAgICAgICAgICBsb2cuZXJyb3IoIkNvdWxkIG5vdCBk\nZWxldGUgZGlyZWN0b3J5OiAiICsgZGlyLmdldEFic29sdXRlUGF0aCgpKTsK\nICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgfQoKfQo=\n","encoding":"base64"}

