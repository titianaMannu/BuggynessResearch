{"sha":"c8858c89c1ffbe3be7e85606b873d681e78b1382","node_id":"MDQ6QmxvYjE1NzU5NTY6Yzg4NThjODljMWZmYmUzYmU3ZTg1NjA2Yjg3M2Q2ODFlNzhiMTM4Mg==","size":3953,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/c8858c89c1ffbe3be7e85606b873d681e78b1382","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy51dGlsOwoKaW1wb3J0IGphdmEubmV0\nLkluZXRTb2NrZXRBZGRyZXNzOwoKaW1wb3J0IGp1bml0LmZyYW1ld29yay5U\nZXN0Q2FzZTsKCmltcG9ydCBvcmcuanVuaXQuVGVzdDsKCnB1YmxpYyBjbGFz\ncyBUZXN0SGVkd2lnU29ja2V0QWRkcmVzcyBleHRlbmRzIFRlc3RDYXNlIHsK\nCiAgICAvLyBDb21tb24gdmFsdWVzIHVzZWQgYnkgdGVzdHMKICAgIHByaXZh\ndGUgU3RyaW5nIGhvc3RuYW1lID0gImxvY2FsaG9zdCI7CiAgICBwcml2YXRl\nIGludCBwb3J0ID0gNDA4MDsKICAgIHByaXZhdGUgaW50IHNzbFBvcnQgPSA5\nODc2OwogICAgcHJpdmF0ZSBpbnQgaW52YWxpZFBvcnQgPSAtOTk5OTsKICAg\nIHByaXZhdGUgU3RyaW5nIENPTE9OID0gIjoiOwoKICAgIEBUZXN0CiAgICBw\ndWJsaWMgdm9pZCB0ZXN0Q3JlYXRlV2l0aFNTTFBvcnQoKSB0aHJvd3MgRXhj\nZXB0aW9uIHsKICAgICAgICBIZWR3aWdTb2NrZXRBZGRyZXNzIGFkZHIgPSBu\nZXcgSGVkd2lnU29ja2V0QWRkcmVzcyhob3N0bmFtZSwgcG9ydCwgc3NsUG9y\ndCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShhZGRyLmdldFNvY2tldEFkZHJlc3Mo\nKS5lcXVhbHMobmV3IEluZXRTb2NrZXRBZGRyZXNzKGhvc3RuYW1lLCBwb3J0\nKSkpOwogICAgICAgIGFzc2VydFRydWUoYWRkci5nZXRTU0xTb2NrZXRBZGRy\nZXNzKCkuZXF1YWxzKG5ldyBJbmV0U29ja2V0QWRkcmVzcyhob3N0bmFtZSwg\nc3NsUG9ydCkpKTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQg\ndGVzdENyZWF0ZVdpdGhOb1NTTFBvcnQoKSB0aHJvd3MgRXhjZXB0aW9uIHsK\nICAgICAgICBIZWR3aWdTb2NrZXRBZGRyZXNzIGFkZHIgPSBuZXcgSGVkd2ln\nU29ja2V0QWRkcmVzcyhob3N0bmFtZSwgcG9ydCk7CiAgICAgICAgYXNzZXJ0\nVHJ1ZShhZGRyLmdldFNvY2tldEFkZHJlc3MoKS5lcXVhbHMobmV3IEluZXRT\nb2NrZXRBZGRyZXNzKGhvc3RuYW1lLCBwb3J0KSkpOwogICAgICAgIGFzc2Vy\ndFRydWUoYWRkci5nZXRTU0xTb2NrZXRBZGRyZXNzKCkgPT0gbnVsbCk7CiAg\nICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RDcmVhdGVGcm9t\nU3RyaW5nV2l0aFNTTFBvcnQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAg\nICBIZWR3aWdTb2NrZXRBZGRyZXNzIGFkZHIgPSBuZXcgSGVkd2lnU29ja2V0\nQWRkcmVzcyhob3N0bmFtZStDT0xPTitwb3J0K0NPTE9OK3NzbFBvcnQpOwog\nICAgICAgIGFzc2VydFRydWUoYWRkci5nZXRTb2NrZXRBZGRyZXNzKCkuZXF1\nYWxzKG5ldyBJbmV0U29ja2V0QWRkcmVzcyhob3N0bmFtZSwgcG9ydCkpKTsK\nICAgICAgICBhc3NlcnRUcnVlKGFkZHIuZ2V0U1NMU29ja2V0QWRkcmVzcygp\nLmVxdWFscyhuZXcgSW5ldFNvY2tldEFkZHJlc3MoaG9zdG5hbWUsIHNzbFBv\ncnQpKSk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RD\ncmVhdGVGcm9tU3RyaW5nV2l0aE5vU1NMUG9ydCgpIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIEhlZHdpZ1NvY2tldEFkZHJlc3MgYWRkciA9IG5ldyBI\nZWR3aWdTb2NrZXRBZGRyZXNzKGhvc3RuYW1lK0NPTE9OK3BvcnQpOwogICAg\nICAgIGFzc2VydFRydWUoYWRkci5nZXRTb2NrZXRBZGRyZXNzKCkuZXF1YWxz\nKG5ldyBJbmV0U29ja2V0QWRkcmVzcyhob3N0bmFtZSwgcG9ydCkpKTsKICAg\nICAgICBhc3NlcnRUcnVlKGFkZHIuZ2V0U1NMU29ja2V0QWRkcmVzcygpID09\nIG51bGwpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0\nQ3JlYXRlV2l0aEludmFsaWRSZWd1bGFyUG9ydCgpIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIGJvb2xlYW4gc3VjY2VzcyA9IGZhbHNlOwogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIG5ldyBIZWR3aWdTb2NrZXRBZGRyZXNzKGhv\nc3RuYW1lK0NPTE9OK2ludmFsaWRQb3J0KTsKICAgICAgICB9CiAgICAgICAg\nY2F0Y2ggKElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBlKSB7CiAgICAgICAg\nICAgIHN1Y2Nlc3MgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBhc3NlcnRU\ncnVlKHN1Y2Nlc3MpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Q3JlYXRlV2l0aEludmFsaWRTU0xQb3J0KCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0gZmFsc2U7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgbmV3IEhlZHdpZ1NvY2tldEFkZHJlc3Mo\naG9zdG5hbWUsIHBvcnQsIGludmFsaWRQb3J0KTsKICAgICAgICB9CiAgICAg\nICAgY2F0Y2ggKElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBlKSB7CiAgICAg\nICAgICAgIHN1Y2Nlc3MgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBhc3Nl\ncnRUcnVlKHN1Y2Nlc3MpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMg\ndm9pZCB0ZXN0VG9TdHJpbmdDb252ZXJzaW9uKCkgdGhyb3dzIEV4Y2VwdGlv\nbiB7CiAgICAgICAgSGVkd2lnU29ja2V0QWRkcmVzcyBhZGRyID0gbmV3IEhl\nZHdpZ1NvY2tldEFkZHJlc3MoaG9zdG5hbWUsIHBvcnQsIHNzbFBvcnQpOwog\nICAgICAgIEhlZHdpZ1NvY2tldEFkZHJlc3MgYWRkcjIgPSBuZXcgSGVkd2ln\nU29ja2V0QWRkcmVzcyhhZGRyLnRvU3RyaW5nKCkpOwogICAgICAgIGFzc2Vy\ndFRydWUoYWRkci5nZXRTb2NrZXRBZGRyZXNzKCkuZXF1YWxzKGFkZHIyLmdl\ndFNvY2tldEFkZHJlc3MoKSkpOwogICAgICAgIGFzc2VydFRydWUoYWRkci5n\nZXRTU0xTb2NrZXRBZGRyZXNzKCkuZXF1YWxzKGFkZHIyLmdldFNTTFNvY2tl\ndEFkZHJlc3MoKSkpOwogICAgICAgIGFkZHIudG9TdHJpbmcoKS5lcXVhbHMo\nYWRkcjIudG9TdHJpbmcoKSk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RJc1NTTEVuYWJsZWRGbGFnKCkgdGhyb3dzIEV4Y2VwdGlv\nbiB7CiAgICAgICAgSGVkd2lnU29ja2V0QWRkcmVzcyBzc2xBZGRyID0gbmV3\nIEhlZHdpZ1NvY2tldEFkZHJlc3MoaG9zdG5hbWUsIHBvcnQsIHNzbFBvcnQp\nOwogICAgICAgIGFzc2VydFRydWUoc3NsQWRkci5pc1NTTEVuYWJsZWQoKSk7\nCiAgICAgICAgSGVkd2lnU29ja2V0QWRkcmVzcyBhZGRyID0gbmV3IEhlZHdp\nZ1NvY2tldEFkZHJlc3MoaG9zdG5hbWUsIHBvcnQpOwogICAgICAgIGFzc2Vy\ndEZhbHNlKGFkZHIuaXNTU0xFbmFibGVkKCkpOwogICAgfQoKfQo=\n","encoding":"base64"}

