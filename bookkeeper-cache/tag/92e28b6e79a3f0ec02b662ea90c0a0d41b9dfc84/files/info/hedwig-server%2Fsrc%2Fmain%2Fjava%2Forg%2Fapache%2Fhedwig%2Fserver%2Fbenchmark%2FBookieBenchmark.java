{"sha":"2d78d831bd0dd2933a779962e5d37a32e64d93b6","node_id":"MDQ6QmxvYjE1NzU5NTY6MmQ3OGQ4MzFiZDBkZDI5MzNhNzc5OTYyZTVkMzdhMzJlNjRkOTNiNg==","size":3914,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/2d78d831bd0dd2933a779962e5d37a32e64d93b6","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuYmVuY2htYXJrOwoKaW1w\nb3J0IGphdmEubmV0LkluZXRTb2NrZXRBZGRyZXNzOwppbXBvcnQgamF2YS5u\naW8uQnl0ZUJ1ZmZlcjsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkV4\nZWN1dG9yczsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LlNlbWFwaG9y\nZTsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jb25mLkNsaWVudENv\nbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xp\nZW50LkJLRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLnByb3RvLkJvb2tpZUNsaWVudDsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7\nCmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5h\ncGFjaGUuYm9va2tlZXBlci5wcm90by5Cb29ra2VlcGVySW50ZXJuYWxDYWxs\nYmFja3MuV3JpdGVDYWxsYmFjazsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tl\nZXBlci51dGlsLk9yZGVyZWRTYWZlRXhlY3V0b3I7CmltcG9ydCBvcmcuamJv\nc3MubmV0dHkuYnVmZmVyLkNoYW5uZWxCdWZmZXI7CmltcG9ydCBvcmcuamJv\nc3MubmV0dHkuYnVmZmVyLkNoYW5uZWxCdWZmZXJzOwppbXBvcnQgb3JnLmpi\nb3NzLm5ldHR5LmNoYW5uZWwuc29ja2V0LkNsaWVudFNvY2tldENoYW5uZWxG\nYWN0b3J5OwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuc29ja2V0\nLm5pby5OaW9DbGllbnRTb2NrZXRDaGFubmVsRmFjdG9yeTsKCnB1YmxpYyBj\nbGFzcyBCb29raWVCZW5jaG1hcmsgZXh0ZW5kcyBBYnN0cmFjdEJlbmNobWFy\nayB7CgogICAgc3RhdGljIGZpbmFsIExvZ2dlciBsb2dnZXIgPSBMb2dnZXJG\nYWN0b3J5LmdldExvZ2dlcihCb29ra2VlcGVyQmVuY2htYXJrLmNsYXNzKTsK\nCiAgICBCb29raWVDbGllbnQgYmtjOwogICAgSW5ldFNvY2tldEFkZHJlc3Mg\nYWRkcjsKICAgIENsaWVudFNvY2tldENoYW5uZWxGYWN0b3J5IGNoYW5uZWxG\nYWN0b3J5OwogICAgT3JkZXJlZFNhZmVFeGVjdXRvciBleGVjdXRvciA9IG5l\ndyBPcmRlcmVkU2FmZUV4ZWN1dG9yKDEpOwoKCiAgICBwdWJsaWMgQm9va2ll\nQmVuY2htYXJrKFN0cmluZyBib29raWVIb3N0UG9ydCkgIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIGNoYW5uZWxGYWN0b3J5ID0gbmV3IE5pb0NsaWVu\ndFNvY2tldENoYW5uZWxGYWN0b3J5KEV4ZWN1dG9ycy5uZXdDYWNoZWRUaHJl\nYWRQb29sKCksIEV4ZWN1dG9ycy5uZXdDYWNoZWRUaHJlYWRQb29sKCkpOwog\nICAgICAgIGJrYyA9IG5ldyBCb29raWVDbGllbnQobmV3IENsaWVudENvbmZp\nZ3VyYXRpb24oKSwgY2hhbm5lbEZhY3RvcnksIGV4ZWN1dG9yKTsKICAgICAg\nICBTdHJpbmdbXSBob3N0UG9ydCA9IGJvb2tpZUhvc3RQb3J0LnNwbGl0KCI6\nIik7CiAgICAgICAgYWRkciA9IG5ldyBJbmV0U29ja2V0QWRkcmVzcyhob3N0\nUG9ydFswXSwgSW50ZWdlci5wYXJzZUludChob3N0UG9ydFsxXSkpOwoKICAg\nIH0KCgogICAgQE92ZXJyaWRlCiAgICB2b2lkIGRvT3BzKGZpbmFsIGludCBu\ndW1PcHMpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGludCBudW1PdXRz\ndGFuZGluZyA9IEludGVnZXIuZ2V0SW50ZWdlcigiblBhcnMiLDEwMDApOwog\nICAgICAgIGZpbmFsIFNlbWFwaG9yZSBvdXRzdGFuZGluZyA9IG5ldyBTZW1h\ncGhvcmUobnVtT3V0c3RhbmRpbmcpOwoKCiAgICAgICAgV3JpdGVDYWxsYmFj\nayBjYWxsYmFjayA9IG5ldyBXcml0ZUNhbGxiYWNrKCkgewogICAgICAgICAg\nICBBYnN0cmFjdENhbGxiYWNrIGhhbmRsZXIgPSBuZXcgQWJzdHJhY3RDYWxs\nYmFjayhvdXRzdGFuZGluZywgbnVtT3BzKTsKCiAgICAgICAgICAgIEBPdmVy\ncmlkZQogICAgICAgICAgICBwdWJsaWMgdm9pZCB3cml0ZUNvbXBsZXRlKGlu\ndCByYywgbG9uZyBsZWRnZXJJZCwgbG9uZyBlbnRyeUlkLAogICAgICAgICAg\nICBJbmV0U29ja2V0QWRkcmVzcyBhZGRyLCBPYmplY3QgY3R4KSB7CiAgICAg\nICAgICAgICAgICBoYW5kbGVyLmhhbmRsZShyYyA9PSBCS0V4Y2VwdGlvbi5D\nb2RlLk9LLCBjdHgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAg\nICAgYnl0ZVtdIHBhc3N3ZCA9IG5ldyBieXRlWzIwXTsKICAgICAgICBpbnQg\nc2l6ZSA9IEludGVnZXIuZ2V0SW50ZWdlcigic2l6ZSIsIDEwMjQpOwogICAg\nICAgIGJ5dGVbXSBkYXRhID0gbmV3IGJ5dGVbc2l6ZV07CgogICAgICAgIGZv\nciAoaW50IGk9MDsgaTxudW1PcHM7IGkrKykgewogICAgICAgICAgICBvdXRz\ndGFuZGluZy5hY3F1aXJlKCk7CgogICAgICAgICAgICBCeXRlQnVmZmVyIGJ1\nZmZlciA9IEJ5dGVCdWZmZXIuYWxsb2NhdGUoNDQpOwogICAgICAgICAgICBs\nb25nIGxlZGdlcklkID0gMTAwMDsKICAgICAgICAgICAgYnVmZmVyLnB1dExv\nbmcobGVkZ2VySWQpOwogICAgICAgICAgICBidWZmZXIucHV0TG9uZyhpKTsK\nICAgICAgICAgICAgYnVmZmVyLnB1dExvbmcoMCk7CiAgICAgICAgICAgIGJ1\nZmZlci5wdXQocGFzc3dkKTsKICAgICAgICAgICAgYnVmZmVyLnJld2luZCgp\nOwogICAgICAgICAgICBDaGFubmVsQnVmZmVyIHRvU2VuZCA9IENoYW5uZWxC\ndWZmZXJzLndyYXBwZWRCdWZmZXIoQ2hhbm5lbEJ1ZmZlcnMud3JhcHBlZEJ1\nZmZlcihidWZmZXIuc2xpY2UoKSksIENoYW5uZWxCdWZmZXJzLndyYXBwZWRC\ndWZmZXIoZGF0YSkpOwogICAgICAgICAgICBia2MuYWRkRW50cnkoYWRkciwg\nbGVkZ2VySWQsIHBhc3N3ZCwgaSwgdG9TZW5kLCBjYWxsYmFjaywgU3lzdGVt\nLmN1cnJlbnRUaW1lTWlsbGlzKCksIDApOwogICAgICAgIH0KCiAgICB9Cgog\nICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCB0ZWFyRG93bigpIHsKICAg\nICAgICBia2MuY2xvc2UoKTsKICAgICAgICBjaGFubmVsRmFjdG9yeS5yZWxl\nYXNlRXh0ZXJuYWxSZXNvdXJjZXMoKTsKICAgICAgICBleGVjdXRvci5zaHV0\nZG93bigpOwogICAgfQoKCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihT\ndHJpbmdbXSBhcmdzKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBCb29r\naWVCZW5jaG1hcmsgYmVuY2htYXJrID0gbmV3IEJvb2tpZUJlbmNobWFyayhh\ncmdzWzBdKTsKICAgICAgICBiZW5jaG1hcmsucnVuKCk7CiAgICB9CgoKfQo=\n","encoding":"base64"}

