{"sha":"3c4a56286f76bdc08602177c004da5de5f4ed990","node_id":"MDQ6QmxvYjE1NzU5NTY6M2M0YTU2Mjg2Zjc2YmRjMDg2MDIxNzdjMDA0ZGE1ZGU1ZjRlZDk5MA==","size":3534,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/3c4a56286f76bdc08602177c004da5de5f4ed990","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuY29tbW9uOwoKaW1wb3J0\nIGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLkxpbmtlZExp\nc3Q7CmltcG9ydCBqYXZhLnV0aWwuUXVldWU7CmltcG9ydCBqYXZhLnV0aWwu\nY29uY3VycmVudC5TY2hlZHVsZWRFeGVjdXRvclNlcnZpY2U7CgppbXBvcnQg\nY29tLmdvb2dsZS5wcm90b2J1Zi5CeXRlU3RyaW5nOwppbXBvcnQgb3JnLmFw\nYWNoZS5oZWR3aWcuZXhjZXB0aW9ucy5QdWJTdWJFeGNlcHRpb247CmltcG9y\ndCBvcmcuYXBhY2hlLmhlZHdpZy51dGlsLkNhbGxiYWNrOwoKcHVibGljIGNs\nYXNzIFRvcGljT3BRdWV1ZXIgewogICAgLyoqCiAgICAgKiBNYXAgZnJvbSB0\nb3BpYyB0byB0aGUgcXVldWUgb2Ygb3BlcmF0aW9ucyBmb3IgdGhhdCB0b3Bp\nYy4KICAgICAqLwogICAgcHJvdGVjdGVkIEhhc2hNYXA8Qnl0ZVN0cmluZywg\nUXVldWU8UnVubmFibGU+PiB0b3BpYzJvcHMgPSBuZXcgSGFzaE1hcDxCeXRl\nU3RyaW5nLCBRdWV1ZTxSdW5uYWJsZT4+KCk7CgogICAgcHJvdGVjdGVkIGZp\nbmFsIFNjaGVkdWxlZEV4ZWN1dG9yU2VydmljZSBzY2hlZHVsZXI7CgogICAg\ncHVibGljIFRvcGljT3BRdWV1ZXIoU2NoZWR1bGVkRXhlY3V0b3JTZXJ2aWNl\nIHNjaGVkdWxlcikgewogICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1\nbGVyOwogICAgfQoKICAgIHB1YmxpYyBpbnRlcmZhY2UgT3AgZXh0ZW5kcyBS\ndW5uYWJsZSB7CiAgICB9CgogICAgcHVibGljIGFic3RyYWN0IGNsYXNzIEFz\neW5jaHJvbm91c09wPFQ+IGltcGxlbWVudHMgT3AgewogICAgICAgIGZpbmFs\nIHB1YmxpYyBCeXRlU3RyaW5nIHRvcGljOwogICAgICAgIGZpbmFsIHB1Ymxp\nYyBDYWxsYmFjazxUPiBjYjsKICAgICAgICBmaW5hbCBwdWJsaWMgT2JqZWN0\nIGN0eDsKCiAgICAgICAgcHVibGljIEFzeW5jaHJvbm91c09wKGZpbmFsIEJ5\ndGVTdHJpbmcgdG9waWMsIGZpbmFsIENhbGxiYWNrPFQ+IGNiLCBPYmplY3Qg\nY3R4KSB7CiAgICAgICAgICAgIHRoaXMudG9waWMgPSB0b3BpYzsKICAgICAg\nICAgICAgdGhpcy5jYiA9IG5ldyBDYWxsYmFjazxUPigpIHsKICAgICAgICAg\nICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICAgICAgcHVibGljIHZvaWQg\nb3BlcmF0aW9uRmFpbGVkKE9iamVjdCBjdHgsIFB1YlN1YkV4Y2VwdGlvbiBl\neGNlcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICBjYi5vcGVyYXRpb25G\nYWlsZWQoY3R4LCBleGNlcHRpb24pOwogICAgICAgICAgICAgICAgICAgIHBv\ncEFuZFJ1bk5leHQodG9waWMpOwogICAgICAgICAgICAgICAgfQoKICAgICAg\nICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICAgICAgcHVibGljIHZv\naWQgb3BlcmF0aW9uRmluaXNoZWQoT2JqZWN0IGN0eCwgVCByZXN1bHRPZk9w\nZXJhdGlvbikgewogICAgICAgICAgICAgICAgICAgIGNiLm9wZXJhdGlvbkZp\nbmlzaGVkKGN0eCwgcmVzdWx0T2ZPcGVyYXRpb24pOwogICAgICAgICAgICAg\nICAgICAgIHBvcEFuZFJ1bk5leHQodG9waWMpOwogICAgICAgICAgICAgICAg\nfQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmN0eCA9IGN0eDsK\nICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGFic3RyYWN0IGNsYXNzIFN5\nbmNocm9ub3VzT3AgaW1wbGVtZW50cyBPcCB7CiAgICAgICAgZmluYWwgcHVi\nbGljIEJ5dGVTdHJpbmcgdG9waWM7CgogICAgICAgIHB1YmxpYyBTeW5jaHJv\nbm91c09wKEJ5dGVTdHJpbmcgdG9waWMpIHsKICAgICAgICAgICAgdGhpcy50\nb3BpYyA9IHRvcGljOwogICAgICAgIH0KCiAgICAgICAgQE92ZXJyaWRlCiAg\nICAgICAgcHVibGljIGZpbmFsIHZvaWQgcnVuKCkgewogICAgICAgICAgICBy\ndW5JbnRlcm5hbCgpOwogICAgICAgICAgICBwb3BBbmRSdW5OZXh0KHRvcGlj\nKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBhYnN0cmFjdCB2b2lk\nIHJ1bkludGVybmFsKCk7CgogICAgfQoKICAgIHByb3RlY3RlZCBzeW5jaHJv\nbml6ZWQgdm9pZCBwb3BBbmRSdW5OZXh0KEJ5dGVTdHJpbmcgdG9waWMpIHsK\nICAgICAgICBRdWV1ZTxSdW5uYWJsZT4gb3BzID0gdG9waWMyb3BzLmdldCh0\nb3BpYyk7CiAgICAgICAgaWYgKCFvcHMuaXNFbXB0eSgpKQogICAgICAgICAg\nICBvcHMucmVtb3ZlKCk7CiAgICAgICAgaWYgKCFvcHMuaXNFbXB0eSgpKQog\nICAgICAgICAgICBzY2hlZHVsZXIuc3VibWl0KG9wcy5wZWVrKCkpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHB1c2hBbmRNYXliZVJ1bihCeXRlU3RyaW5n\nIHRvcGljLCBPcCBvcCkgewogICAgICAgIGludCBzaXplOwogICAgICAgIHN5\nbmNocm9uaXplZCAodGhpcykgewogICAgICAgICAgICBRdWV1ZTxSdW5uYWJs\nZT4gb3BzID0gdG9waWMyb3BzLmdldCh0b3BpYyk7CiAgICAgICAgICAgIGlm\nIChvcHMgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgb3BzID0gbmV3IExp\nbmtlZExpc3Q8UnVubmFibGU+KCk7CiAgICAgICAgICAgICAgICB0b3BpYzJv\ncHMucHV0KHRvcGljLCBvcHMpOwogICAgICAgICAgICB9CiAgICAgICAgICAg\nIG9wcy5hZGQob3ApOwogICAgICAgICAgICBzaXplID0gb3BzLnNpemUoKTsK\nICAgICAgICB9CiAgICAgICAgaWYgKHNpemUgPT0gMSkKICAgICAgICAgICAg\nb3AucnVuKCk7CiAgICB9CgogICAgcHVibGljIFJ1bm5hYmxlIHBlZWsoQnl0\nZVN0cmluZyB0b3BpYykgewogICAgICAgIHJldHVybiB0b3BpYzJvcHMuZ2V0\nKHRvcGljKS5wZWVrKCk7CiAgICB9Cn0K\n","encoding":"base64"}

