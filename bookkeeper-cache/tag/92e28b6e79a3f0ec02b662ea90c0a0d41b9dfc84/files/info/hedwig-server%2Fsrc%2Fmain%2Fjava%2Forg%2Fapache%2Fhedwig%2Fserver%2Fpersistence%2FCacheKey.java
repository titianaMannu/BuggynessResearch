{"sha":"26bdb942f8fe1982085f13ffa419290d5ac081e6","node_id":"MDQ6QmxvYjE1NzU5NTY6MjZiZGI5NDJmOGZlMTk4MjA4NWYxM2ZmYTQxOTI5MGQ1YWMwODFlNg==","size":2187,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/26bdb942f8fe1982085f13ffa419290d5ac081e6","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIucGVyc2lzdGVuY2U7Cgpp\nbXBvcnQgY29tLmdvb2dsZS5wcm90b2J1Zi5CeXRlU3RyaW5nOwppbXBvcnQg\nb3JnLmFwYWNoZS5oZWR3aWcuc2VydmVyLmNvbW1vbi5CeXRlU3RyaW5nSW50\nZXJuZXI7CgpwdWJsaWMgY2xhc3MgQ2FjaGVLZXkgewoKICAgIEJ5dGVTdHJp\nbmcgdG9waWM7CiAgICBsb25nIHNlcUlkOwoKICAgIHB1YmxpYyBDYWNoZUtl\neShCeXRlU3RyaW5nIHRvcGljLCBsb25nIHNlcUlkKSB7CiAgICAgICAgdGhp\ncy50b3BpYyA9IEJ5dGVTdHJpbmdJbnRlcm5lci5pbnRlcm4odG9waWMpOwog\nICAgICAgIHRoaXMuc2VxSWQgPSBzZXFJZDsKICAgIH0KCiAgICBwdWJsaWMg\nQnl0ZVN0cmluZyBnZXRUb3BpYygpIHsKICAgICAgICByZXR1cm4gdG9waWM7\nCiAgICB9CgogICAgcHVibGljIGxvbmcgZ2V0U2VxSWQoKSB7CiAgICAgICAg\ncmV0dXJuIHNlcUlkOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGlj\nIGludCBoYXNoQ29kZSgpIHsKICAgICAgICBmaW5hbCBpbnQgcHJpbWUgPSAz\nMTsKICAgICAgICBpbnQgcmVzdWx0ID0gMTsKICAgICAgICByZXN1bHQgPSBw\ncmltZSAqIHJlc3VsdCArIChpbnQpIChzZXFJZCBeIChzZXFJZCA+Pj4gMzIp\nKTsKICAgICAgICByZXN1bHQgPSBwcmltZSAqIHJlc3VsdCArICgodG9waWMg\nPT0gbnVsbCkgPyAwIDogdG9waWMuaGFzaENvZGUoKSk7CiAgICAgICAgcmV0\ndXJuIHJlc3VsdDsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBi\nb29sZWFuIGVxdWFscyhPYmplY3Qgb2JqKSB7CiAgICAgICAgaWYgKHRoaXMg\nPT0gb2JqKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAo\nb2JqID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAg\nICBpZiAoZ2V0Q2xhc3MoKSAhPSBvYmouZ2V0Q2xhc3MoKSkKICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgICAgIENhY2hlS2V5IG90aGVyID0gKENh\nY2hlS2V5KSBvYmo7CiAgICAgICAgaWYgKHNlcUlkICE9IG90aGVyLnNlcUlk\nKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKHRvcGlj\nID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKG90aGVyLnRvcGljICE9IG51\nbGwpCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBl\nbHNlIGlmICghdG9waWMuZXF1YWxzKG90aGVyLnRvcGljKSkKICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsK\nICAgICAgICByZXR1cm4gIigiICsgdG9waWMudG9TdHJpbmdVdGY4KCkgKyAi\nLCIgKyBzZXFJZCArICIpIjsKICAgIH0KCn0K\n","encoding":"base64"}

