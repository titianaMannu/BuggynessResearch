{"sha":"f829611dc4670bb460ec7a700c81afe7a1907d29","node_id":"MDQ6QmxvYjE1NzU5NTY6ZjgyOTYxMWRjNDY3MGJiNDYwZWM3YTcwMGM4MWFmZTdhMTkwN2QyOQ==","size":3064,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/f829611dc4670bb460ec7a700c81afe7a1907d29","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIucGVyc2lzdGVuY2U7Cgpp\nbXBvcnQgamF2YS51dGlsLkxpbmtlZExpc3Q7CmltcG9ydCBqYXZhLnV0aWwu\nUXVldWU7CgppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5z\nbGY0ai5Mb2dnZXJGYWN0b3J5OwoKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2ln\nLnByb3RvY29sLlB1YlN1YlByb3RvY29sLk1lc3NhZ2U7CmltcG9ydCBvcmcu\nYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuY29tbW9uLlVuZXhwZWN0ZWRFcnJvcjsK\nCi8qKgogKiBUaGlzIGNsYXNzIGlzIE5PVCB0aHJlYWQgc2FmZS4gSXQgbmVl\nZCBub3QgYmUgdGhyZWFkLXNhZmUgYmVjYXVzZSBvdXIKICogcmVhZC1haGVh\nZCBjYWNoZSB3aWxsIG9wZXJhdGUgd2l0aCBvbmx5IDEgdGhyZWFkCiAqCiAq\nLwpwdWJsaWMgY2xhc3MgQ2FjaGVWYWx1ZSB7CgogICAgc3RhdGljIExvZ2dl\nciBsb2dnZXIgPSBMb2dnZXJGYWN0b3J5LmdldExvZ2dlcihSZWFkQWhlYWRD\nYWNoZS5jbGFzcyk7CgogICAgUXVldWU8U2NhbkNhbGxiYWNrV2l0aENvbnRl\neHQ+IGNhbGxiYWNrcyA9IG5ldyBMaW5rZWRMaXN0PFNjYW5DYWxsYmFja1dp\ndGhDb250ZXh0PigpOwogICAgTWVzc2FnZSBtZXNzYWdlOwogICAgbG9uZyB0\naW1lT2ZBZGRpdGlvbiA9IDA7CgogICAgcHVibGljIENhY2hlVmFsdWUoKSB7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNTdHViKCkgewogICAgICAg\nIHJldHVybiBtZXNzYWdlID09IG51bGw7CiAgICB9CgogICAgcHVibGljIGxv\nbmcgZ2V0VGltZU9mQWRkaXRpb24oKSB7CiAgICAgICAgaWYgKG1lc3NhZ2Ug\nPT0gbnVsbCkgewogICAgICAgICAgICB0aHJvdyBuZXcgVW5leHBlY3RlZEVy\ncm9yKCJUaW1lIG9mIGFkZCByZXF1ZXN0ZWQgZnJvbSBhIHN0dWIiKTsKICAg\nICAgICB9CiAgICAgICAgcmV0dXJuIHRpbWVPZkFkZGl0aW9uOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldE1lc3NhZ2VBbmRJbnZva2VDYWxsYmFja3Mo\nTWVzc2FnZSBtZXNzYWdlLCBsb25nIGN1cnJUaW1lKSB7CiAgICAgICAgaWYg\nKHRoaXMubWVzc2FnZSAhPSBudWxsKSB7CiAgICAgICAgICAgIC8vIER1cGxp\nY2F0ZSByZWFkIGZvciB0aGUgc2FtZSBtZXNzYWdlIGNvbWluZyBiYWNrCiAg\nICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMubWVz\nc2FnZSA9IG1lc3NhZ2U7CiAgICAgICAgdGhpcy50aW1lT2ZBZGRpdGlvbiA9\nIGN1cnJUaW1lOwogICAgICAgIFNjYW5DYWxsYmFja1dpdGhDb250ZXh0IGNh\nbGxiYWNrV2l0aEN0eDsKICAgICAgICBpZiAobG9nZ2VyLmlzRGVidWdFbmFi\nbGVkKCkpIHsKICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCJJbnZva2luZyAi\nICsgY2FsbGJhY2tzLnNpemUoKSArICIgY2FsbGJhY2tzIGZvciAiICsgIiBt\nZXNzYWdlIGFkZGVkIHRvIGNhY2hlIik7CiAgICAgICAgfQogICAgICAgIHdo\naWxlICgoY2FsbGJhY2tXaXRoQ3R4ID0gY2FsbGJhY2tzLnBvbGwoKSkgIT0g\nbnVsbCkgewogICAgICAgICAgICBjYWxsYmFja1dpdGhDdHguZ2V0U2NhbkNh\nbGxiYWNrKCkubWVzc2FnZVNjYW5uZWQoY2FsbGJhY2tXaXRoQ3R4LmdldEN0\neCgpLCBtZXNzYWdlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZv\naWQgYWRkQ2FsbGJhY2soU2NhbkNhbGxiYWNrIGNhbGxiYWNrLCBPYmplY3Qg\nY3R4KSB7CiAgICAgICAgaWYgKCFpc1N0dWIoKSkgewogICAgICAgICAgICAv\nLyBjYWxsIHRoZSBjYWxsYmFjayByaWdodCBhd2F5CiAgICAgICAgICAgIGNh\nbGxiYWNrLm1lc3NhZ2VTY2FubmVkKGN0eCwgbWVzc2FnZSk7CiAgICAgICAg\nICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGNhbGxiYWNrcy5hZGQo\nbmV3IFNjYW5DYWxsYmFja1dpdGhDb250ZXh0KGNhbGxiYWNrLCBjdHgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgTWVzc2FnZSBnZXRNZXNzYWdlKCkgewogICAg\nICAgIHJldHVybiBtZXNzYWdlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndEVycm9yQW5kSW52b2tlQ2FsbGJhY2tzKEV4Y2VwdGlvbiBleGNlcHRpb24p\nIHsKICAgICAgICBTY2FuQ2FsbGJhY2tXaXRoQ29udGV4dCBjYWxsYmFja1dp\ndGhDdHg7CiAgICAgICAgd2hpbGUgKChjYWxsYmFja1dpdGhDdHggPSBjYWxs\nYmFja3MucG9sbCgpKSAhPSBudWxsKSB7CiAgICAgICAgICAgIGNhbGxiYWNr\nV2l0aEN0eC5nZXRTY2FuQ2FsbGJhY2soKS5zY2FuRmFpbGVkKGNhbGxiYWNr\nV2l0aEN0eC5nZXRDdHgoKSwgZXhjZXB0aW9uKTsKICAgICAgICB9CiAgICB9\nCgp9Cg==\n","encoding":"base64"}

