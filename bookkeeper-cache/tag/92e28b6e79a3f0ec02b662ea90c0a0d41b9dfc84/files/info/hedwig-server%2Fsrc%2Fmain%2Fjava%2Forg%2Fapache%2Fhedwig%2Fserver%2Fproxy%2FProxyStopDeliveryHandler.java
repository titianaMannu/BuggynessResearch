{"sha":"cc95bf3c9316b571ceaf4225c497b08585975f5b","node_id":"MDQ6QmxvYjE1NzU5NTY6Y2M5NWJmM2M5MzE2YjU3MWNlYWY0MjI1YzQ5N2IwODU4NTk3NWY1Yg==","size":2880,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/cc95bf3c9316b571ceaf4225c497b08585975f5b","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIucHJveHk7CgppbXBvcnQg\nb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0\nb3J5OwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuQ2hhbm5lbDsK\nCmltcG9ydCBjb20uZ29vZ2xlLnByb3RvYnVmLkJ5dGVTdHJpbmc7CmltcG9y\ndCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuYXBpLlN1YnNjcmliZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5leGNlcHRpb25zLlB1YlN1YkV4Y2Vw\ndGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmV4Y2VwdGlvbnMuUHVi\nU3ViRXhjZXB0aW9uLkNsaWVudE5vdFN1YnNjcmliZWRFeGNlcHRpb247Cmlt\ncG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2Nv\nbC5QdWJTdWJSZXF1ZXN0OwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuc2Vy\ndmVyLmhhbmRsZXJzLkhhbmRsZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdp\nZy5zZXJ2ZXIubmV0dHkuVW1icmVsbGFIYW5kbGVyOwoKcHVibGljIGNsYXNz\nIFByb3h5U3RvcERlbGl2ZXJ5SGFuZGxlciBpbXBsZW1lbnRzIEhhbmRsZXIg\newoKICAgIHN0YXRpYyBmaW5hbCBMb2dnZXIgbG9nZ2VyID0gTG9nZ2VyRmFj\ndG9yeS5nZXRMb2dnZXIoUHJveHlTdG9wRGVsaXZlcnlIYW5kbGVyLmNsYXNz\nKTsKCiAgICBTdWJzY3JpYmVyIHN1YnNjcmliZXI7CiAgICBDaGFubmVsVHJh\nY2tlciB0cmFja2VyOwoKICAgIHB1YmxpYyBQcm94eVN0b3BEZWxpdmVyeUhh\nbmRsZXIoU3Vic2NyaWJlciBzdWJzY3JpYmVyLCBDaGFubmVsVHJhY2tlciB0\ncmFja2VyKSB7CiAgICAgICAgdGhpcy5zdWJzY3JpYmVyID0gc3Vic2NyaWJl\ncjsKICAgICAgICB0aGlzLnRyYWNrZXIgPSB0cmFja2VyOwogICAgfQoKICAg\nIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgaGFuZGxlUmVxdWVzdChQdWJT\ndWJSZXF1ZXN0IHJlcXVlc3QsIENoYW5uZWwgY2hhbm5lbCkgewogICAgICAg\nIGlmICghcmVxdWVzdC5oYXNTdG9wRGVsaXZlcnlSZXF1ZXN0KCkpIHsKICAg\nICAgICAgICAgVW1icmVsbGFIYW5kbGVyLnNlbmRFcnJvclJlc3BvbnNlVG9N\nYWxmb3JtZWRSZXF1ZXN0KGNoYW5uZWwsIHJlcXVlc3QuZ2V0VHhuSWQoKSwK\nICAgICAgICAgICAgICAgICAgICAiTWlzc2luZyBzdG9wIGRlbGl2ZXJ5IHJl\ncXVlc3QgZGF0YSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoK\nICAgICAgICBmaW5hbCBCeXRlU3RyaW5nIHRvcGljID0gcmVxdWVzdC5nZXRU\nb3BpYygpOwogICAgICAgIGZpbmFsIEJ5dGVTdHJpbmcgc3Vic2NyaWJlcklk\nID0gcmVxdWVzdC5nZXRTdGFydERlbGl2ZXJ5UmVxdWVzdCgpLmdldFN1YnNj\ncmliZXJJZCgpOwoKICAgICAgICBzeW5jaHJvbml6ZWQgKHRyYWNrZXIpIHsK\nICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHRyYWNrZXIuY2hl\nY2tDaGFubmVsTWF0Y2hlcyh0b3BpYywgc3Vic2NyaWJlcklkLCBjaGFubmVs\nKTsKICAgICAgICAgICAgfSBjYXRjaCAoUHViU3ViRXhjZXB0aW9uIGUpIHsK\nICAgICAgICAgICAgICAgIC8vIGludGVudGlvbmFsbHkgaWdub3JlIHRoaXMg\nZXJyb3IsIHNpbmNlIHN0b3AgZGVsaXZlcnkgZG9lc24ndAogICAgICAgICAg\nICAgICAgLy8gc2VuZCBiYWNrIGEgcmVzcG9uc2UKICAgICAgICAgICAgICAg\nIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgICAgIHN1YnNjcmliZXIuc3RvcERlbGl2ZXJ5KHRvcGljLCBz\ndWJzY3JpYmVySWQpOwogICAgICAgICAgICB9IGNhdGNoIChDbGllbnROb3RT\ndWJzY3JpYmVkRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIC8vIFRo\naXMgc2hvdWxkIG5vdCBoYXBwZW4sIHNpbmNlIHdlIGFscmVhZHkgY2hlY2tl\nZCB0aGUgY29ycmVjdAogICAgICAgICAgICAgICAgLy8gY2hhbm5lbCBhbmQg\nc28gb24KICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCJVbmV4cGVjdGVk\nOiBObyBzdWJzY3JpcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIHN0b3AgZGVs\naXZlcnkiLCBlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICB9Cn0K\n","encoding":"base64"}

