{"sha":"c377e04f6097377e7d07a97209a7344a168ce439","node_id":"MDQ6QmxvYjE1NzU5NTY6YzM3N2UwNGY2MDk3Mzc3ZTdkMDdhOTcyMDlhNzM0NGExNjhjZTQzOQ==","size":3305,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/c377e04f6097377e7d07a97209a7344a168ce439","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy56b29rZWVwZXI7CgppbXBvcnQgamF2\nYS51dGlsLkxpc3Q7CgppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0\nIG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS56\nb29rZWVwZXIuQXN5bmNDYWxsYmFjazsKaW1wb3J0IG9yZy5hcGFjaGUuem9v\na2VlcGVyLkNyZWF0ZU1vZGU7CmltcG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBl\nci5LZWVwZXJFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBl\nci5ab29LZWVwZXI7CmltcG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBlci5LZWVw\nZXJFeGNlcHRpb24uQ29kZTsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVy\nLmRhdGEuQUNMOwoKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuUGF0\naFV0aWxzOwoKcHVibGljIGNsYXNzIFprVXRpbHMgewoKICAgIHN0YXRpYyBM\nb2dnZXIgbG9nZ2VyID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoWmtVdGls\ncy5jbGFzcyk7CgogICAgcHVibGljIHN0YXRpYyB2b2lkIGNyZWF0ZUZ1bGxQ\nYXRoT3B0aW1pc3RpYyhmaW5hbCBab29LZWVwZXIgemssIGZpbmFsIFN0cmlu\nZyBvcmlnaW5hbFBhdGgsIGZpbmFsIGJ5dGVbXSBkYXRhLAogICAgICAgICAg\nICBmaW5hbCBMaXN0PEFDTD4gYWNsLCBmaW5hbCBDcmVhdGVNb2RlIGNyZWF0\nZU1vZGUsIGZpbmFsIEFzeW5jQ2FsbGJhY2suU3RyaW5nQ2FsbGJhY2sgY2Fs\nbGJhY2ssCiAgICAgICAgICAgIGZpbmFsIE9iamVjdCBjdHgpIHsKCiAgICAg\nICAgemsuY3JlYXRlKG9yaWdpbmFsUGF0aCwgZGF0YSwgYWNsLCBjcmVhdGVN\nb2RlLCBuZXcgU2FmZUFzeW5jWktDYWxsYmFjay5TdHJpbmdDYWxsYmFjaygp\nIHsKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2\nb2lkIHNhZmVQcm9jZXNzUmVzdWx0KGludCByYywgU3RyaW5nIHBhdGgsIE9i\namVjdCBjdHgsIFN0cmluZyBuYW1lKSB7CgogICAgICAgICAgICAgICAgaWYg\nKHJjICE9IENvZGUuTk9OT0RFLmludFZhbHVlKCkpIHsKICAgICAgICAgICAg\nICAgICAgICBjYWxsYmFjay5wcm9jZXNzUmVzdWx0KHJjLCBwYXRoLCBjdHgs\nIG5hbWUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAg\nICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBTaW5jZSBJIGdvdCBhIG5v\nbm9kZSwgaXQgbWVhbnMgdGhhdCBteSBwYXJlbnRzIGRvbid0IGV4aXN0CiAg\nICAgICAgICAgICAgICAvLyBjcmVhdGUgbW9kZSBpcyBwZXJzaXN0ZW50IHNp\nbmNlIGVwaGVtZXJhbCBub2RlcyBjYW4ndCBiZQogICAgICAgICAgICAgICAg\nLy8gcGFyZW50cwogICAgICAgICAgICAgICAgWmtVdGlscy5jcmVhdGVGdWxs\nUGF0aE9wdGltaXN0aWMoemssIFBhdGhVdGlscy5wYXJlbnQob3JpZ2luYWxQ\nYXRoKSwgbmV3IGJ5dGVbMF0sIGFjbCwKICAgICAgICAgICAgICAgIENyZWF0\nZU1vZGUuUEVSU0lTVEVOVCwgbmV3IFNhZmVBc3luY1pLQ2FsbGJhY2suU3Ry\naW5nQ2FsbGJhY2soKSB7CgogICAgICAgICAgICAgICAgICAgIEBPdmVycmlk\nZQogICAgICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNhZmVQcm9jZXNz\nUmVzdWx0KGludCByYywgU3RyaW5nIHBhdGgsIE9iamVjdCBjdHgsIFN0cmlu\nZyBuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYyA9PSBD\nb2RlLk9LLmludFZhbHVlKCkgfHwgcmMgPT0gQ29kZS5OT0RFRVhJU1RTLmlu\ndFZhbHVlKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1\nY2NlZWRlZCBpbiBjcmVhdGluZyB0aGUgcGFyZW50LCBub3cKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgb3JpZ2luYWwgcGF0\naAogICAgICAgICAgICAgICAgICAgICAgICAgICAgWmtVdGlscy5jcmVhdGVG\ndWxsUGF0aE9wdGltaXN0aWMoemssIG9yaWdpbmFsUGF0aCwgZGF0YSwgYWNs\nLCBjcmVhdGVNb2RlLCBjYWxsYmFjaywKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eCk7\nCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBjYWxsYmFjay5wcm9jZXNzUmVzdWx0KHJjLCBw\nYXRoLCBjdHgsIG5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAg\nICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgY3R4KTsK\nICAgICAgICAgICAgfQogICAgICAgIH0sIGN0eCk7CgogICAgfQoKICAgIHB1\nYmxpYyBzdGF0aWMgS2VlcGVyRXhjZXB0aW9uIGxvZ0Vycm9yQW5kQ3JlYXRl\nWktFeGNlcHRpb24oU3RyaW5nIG1zZywgU3RyaW5nIHBhdGgsIGludCByYykg\newogICAgICAgIEtlZXBlckV4Y2VwdGlvbiBrZSA9IEtlZXBlckV4Y2VwdGlv\nbi5jcmVhdGUoQ29kZS5nZXQocmMpLCBwYXRoKTsKICAgICAgICBsb2dnZXIu\nZXJyb3IobXNnICsgIix6a1BhdGg6ICIgKyBwYXRoLCBrZSk7CiAgICAgICAg\ncmV0dXJuIGtlOwogICAgfQoKfQo=\n","encoding":"base64"}

