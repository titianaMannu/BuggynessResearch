{"sha":"08994de3b25720af73b6d79ac5b661e040c53deb","node_id":"MDQ6QmxvYjE1NzU5NTY6MDg5OTRkZTNiMjU3MjBhZjczYjZkNzlhYzViNjYxZTA0MGM1M2RlYg==","size":9683,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/08994de3b25720af73b6d79ac5b661e040c53deb","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQ7CgppbXBvcnQgamF2YS51\ndGlsLmNvbmN1cnJlbnQuU3luY2hyb25vdXNRdWV1ZTsKCmltcG9ydCBvcmcu\nanVuaXQuQWZ0ZXI7CmltcG9ydCBvcmcuanVuaXQuQmVmb3JlOwppbXBvcnQg\nb3JnLmp1bml0LlRlc3Q7CgppbXBvcnQgY29tLmdvb2dsZS5wcm90b2J1Zi5C\neXRlU3RyaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50LmFw\naS5NZXNzYWdlSGFuZGxlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNs\naWVudC5jb25mLkNsaWVudENvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBh\nY2hlLmhlZHdpZy5jbGllbnQuSGVkd2lnQ2xpZW50OwppbXBvcnQgb3JnLmFw\nYWNoZS5oZWR3aWcuY2xpZW50LmFwaS5QdWJsaXNoZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLmhlZHdpZy5jbGllbnQuYXBpLlN1YnNjcmliZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLmhlZHdpZy5leGNlcHRpb25zLlB1YlN1YkV4Y2VwdGlvbjsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmV4Y2VwdGlvbnMuUHViU3ViRXhj\nZXB0aW9uLkNsaWVudE5vdFN1YnNjcmliZWRFeGNlcHRpb247CmltcG9ydCBv\ncmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5NZXNz\nYWdlOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3Vi\nUHJvdG9jb2wuU3Vic2NyaWJlUmVxdWVzdC5DcmVhdGVPckF0dGFjaDsKaW1w\nb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5QdWJTdWJTZXJ2ZXJTdGFu\nZEFsb25lVGVzdEJhc2U7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy51dGls\nLkNhbGxiYWNrOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcudXRpbC5Db25j\ndXJyZW5jeVV0aWxzOwoKcHVibGljIGNsYXNzIFRlc3RQdWJTdWJDbGllbnQg\nZXh0ZW5kcyBQdWJTdWJTZXJ2ZXJTdGFuZEFsb25lVGVzdEJhc2UgewoKICAg\nIC8vIENsaWVudCBzaWRlIHZhcmlhYmxlcwogICAgcHJvdGVjdGVkIEhlZHdp\nZ0NsaWVudCBjbGllbnQ7CiAgICBwcm90ZWN0ZWQgUHVibGlzaGVyIHB1Ymxp\nc2hlcjsKICAgIHByb3RlY3RlZCBTdWJzY3JpYmVyIHN1YnNjcmliZXI7Cgog\nICAgLy8gU3luY2hyb25vdXNRdWV1ZXMgdG8gdmVyaWZ5IGFzeW5jIGNhbGxz\nCiAgICBwcml2YXRlIGZpbmFsIFN5bmNocm9ub3VzUXVldWU8Qm9vbGVhbj4g\ncXVldWUgPSBuZXcgU3luY2hyb25vdXNRdWV1ZTxCb29sZWFuPigpOwogICAg\ncHJpdmF0ZSBmaW5hbCBTeW5jaHJvbm91c1F1ZXVlPEJvb2xlYW4+IGNvbnN1\nbWVRdWV1ZSA9IG5ldyBTeW5jaHJvbm91c1F1ZXVlPEJvb2xlYW4+KCk7Cgog\nICAgLy8gVGVzdCBpbXBsZW1lbnRhdGlvbiBvZiBDYWxsYmFjayBmb3IgYXN5\nbmMgY2xpZW50IGFjdGlvbnMuCiAgICBjbGFzcyBUZXN0Q2FsbGJhY2sgaW1w\nbGVtZW50cyBDYWxsYmFjazxWb2lkPiB7CgogICAgICAgIEBPdmVycmlkZQog\nICAgICAgIHB1YmxpYyB2b2lkIG9wZXJhdGlvbkZpbmlzaGVkKE9iamVjdCBj\ndHgsIFZvaWQgcmVzdWx0T2ZPcGVyYXRpb24pIHsKICAgICAgICAgICAgbmV3\nIFRocmVhZChuZXcgUnVubmFibGUoKSB7CiAgICAgICAgICAgICAgICBAT3Zl\ncnJpZGUKICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHsKICAg\nICAgICAgICAgICAgICAgICBpZiAobG9nZ2VyLmlzRGVidWdFbmFibGVkKCkp\nCiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygiT3BlcmF0\naW9uIGZpbmlzaGVkISIpOwogICAgICAgICAgICAgICAgICAgIENvbmN1cnJl\nbmN5VXRpbHMucHV0KHF1ZXVlLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0K\nICAgICAgICAgICAgfSkuc3RhcnQoKTsKICAgICAgICB9CgogICAgICAgIEBP\ndmVycmlkZQogICAgICAgIHB1YmxpYyB2b2lkIG9wZXJhdGlvbkZhaWxlZChP\nYmplY3QgY3R4LCBmaW5hbCBQdWJTdWJFeGNlcHRpb24gZXhjZXB0aW9uKSB7\nCiAgICAgICAgICAgIG5ldyBUaHJlYWQobmV3IFJ1bm5hYmxlKCkgewogICAg\nICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgICAgICBwdWJsaWMg\ndm9pZCBydW4oKSB7CiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9y\nKCJPcGVyYXRpb24gZmFpbGVkISIsIGV4Y2VwdGlvbik7CiAgICAgICAgICAg\nICAgICAgICAgQ29uY3VycmVuY3lVdGlscy5wdXQocXVldWUsIGZhbHNlKTsK\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuc3RhcnQoKTsKICAg\nICAgICB9CiAgICB9CgogICAgLy8gVGVzdCBpbXBsZW1lbnRhdGlvbiBvZiBz\ndWJzY3JpYmVyJ3MgbWVzc2FnZSBoYW5kbGVyLgogICAgY2xhc3MgVGVzdE1l\nc3NhZ2VIYW5kbGVyIGltcGxlbWVudHMgTWVzc2FnZUhhbmRsZXIgewogICAg\nICAgIHB1YmxpYyB2b2lkIGRlbGl2ZXIoQnl0ZVN0cmluZyB0b3BpYywgQnl0\nZVN0cmluZyBzdWJzY3JpYmVySWQsIE1lc3NhZ2UgbXNnLCBDYWxsYmFjazxW\nb2lkPiBjYWxsYmFjaywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9i\namVjdCBjb250ZXh0KSB7CiAgICAgICAgICAgIG5ldyBUaHJlYWQobmV3IFJ1\nbm5hYmxlKCkgewogICAgICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAg\nICAgICAgICBwdWJsaWMgdm9pZCBydW4oKSB7CiAgICAgICAgICAgICAgICAg\nICAgaWYgKGxvZ2dlci5pc0RlYnVnRW5hYmxlZCgpKQogICAgICAgICAgICAg\nICAgICAgICAgICBsb2dnZXIuZGVidWcoIkNvbnN1bWUgb3BlcmF0aW9uIGZp\nbmlzaGVkIHN1Y2Nlc3NmdWxseSEiKTsKICAgICAgICAgICAgICAgICAgICBD\nb25jdXJyZW5jeVV0aWxzLnB1dChjb25zdW1lUXVldWUsIHRydWUpOwogICAg\nICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5zdGFydCgpOwogICAgICAg\nICAgICBjYWxsYmFjay5vcGVyYXRpb25GaW5pc2hlZChjb250ZXh0LCBudWxs\nKTsKICAgICAgICB9CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBAQmVmb3Jl\nCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIHN1cGVyLnNldFVwKCk7CiAgICAgICAgY2xpZW50ID0gbmV3IEhl\nZHdpZ0NsaWVudChuZXcgQ2xpZW50Q29uZmlndXJhdGlvbigpKTsKICAgICAg\nICBwdWJsaXNoZXIgPSBjbGllbnQuZ2V0UHVibGlzaGVyKCk7CiAgICAgICAg\nc3Vic2NyaWJlciA9IGNsaWVudC5nZXRTdWJzY3JpYmVyKCk7CiAgICB9Cgog\nICAgQE92ZXJyaWRlCiAgICBAQWZ0ZXIKICAgIHB1YmxpYyB2b2lkIHRlYXJE\nb3duKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgY2xpZW50LmNsb3Nl\nKCk7CiAgICAgICAgc3VwZXIudGVhckRvd24oKTsKICAgIH0KCiAgICBAVGVz\ndAogICAgcHVibGljIHZvaWQgdGVzdFN5bmNQdWJsaXNoKCkgdGhyb3dzIEV4\nY2VwdGlvbiB7CiAgICAgICAgYm9vbGVhbiBwdWJsaXNoU3VjY2VzcyA9IHRy\ndWU7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxp\nc2goQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoIm15U3luY1RvcGljIiksIE1l\nc3NhZ2UubmV3QnVpbGRlcigpLnNldEJvZHkoCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgiSGVs\nbG8gU3luYyBXb3JsZCEiKSkuYnVpbGQoKSk7CiAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcHVibGlzaFN1Y2Nlc3MgPSBm\nYWxzZTsKICAgICAgICB9CiAgICAgICAgYXNzZXJ0VHJ1ZShwdWJsaXNoU3Vj\nY2Vzcyk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RB\nc3luY1B1Ymxpc2goKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBwdWJs\naXNoZXIuYXN5bmNQdWJsaXNoKEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJt\neUFzeW5jVG9waWMiKSwgTWVzc2FnZS5uZXdCdWlsZGVyKCkuc2V0Qm9keSgK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeXRlU3RyaW5n\nLmNvcHlGcm9tVXRmOCgiSGVsbG8gQXN5bmMgV29ybGQhIikpLmJ1aWxkKCks\nIG5ldyBUZXN0Q2FsbGJhY2soKSwgbnVsbCk7CiAgICAgICAgYXNzZXJ0VHJ1\nZShxdWV1ZS50YWtlKCkpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMg\ndm9pZCB0ZXN0TXVsdGlwbGVBc3luY1B1Ymxpc2goKSB0aHJvd3MgRXhjZXB0\naW9uIHsKICAgICAgICBCeXRlU3RyaW5nIHRvcGljMSA9IEJ5dGVTdHJpbmcu\nY29weUZyb21VdGY4KCJteUZpcnN0VG9waWMiKTsKICAgICAgICBCeXRlU3Ry\naW5nIHRvcGljMiA9IEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJteU5ld1Rv\ncGljIik7CgogICAgICAgIHB1Ymxpc2hlci5hc3luY1B1Ymxpc2godG9waWMx\nLCBNZXNzYWdlLm5ld0J1aWxkZXIoKS5zZXRCb2R5KEJ5dGVTdHJpbmcuY29w\neUZyb21VdGY4KCJIZWxsbyBXb3JsZCEiKSkuYnVpbGQoKSwKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIG5ldyBUZXN0Q2FsbGJhY2soKSwgbnVs\nbCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShxdWV1ZS50YWtlKCkpOwogICAgICAg\nIHB1Ymxpc2hlci5hc3luY1B1Ymxpc2godG9waWMyLCBNZXNzYWdlLm5ld0J1\naWxkZXIoKS5zZXRCb2R5KEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJIZWxs\nbyBvbiBuZXcgdG9waWMhIikpCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAuYnVpbGQoKSwgbmV3IFRlc3RDYWxsYmFjaygpLCBudWxsKTsKICAg\nICAgICBhc3NlcnRUcnVlKHF1ZXVlLnRha2UoKSk7CiAgICAgICAgcHVibGlz\naGVyLmFzeW5jUHVibGlzaCh0b3BpYzEsIE1lc3NhZ2UubmV3QnVpbGRlcigp\nLnNldEJvZHkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoIkhlbGxvIEFnYWluIG9uIG9sZCB0\nb3BpYyEiKSkuYnVpbGQoKSwgbmV3IFRlc3RDYWxsYmFjaygpLCBudWxsKTsK\nICAgICAgICBhc3NlcnRUcnVlKHF1ZXVlLnRha2UoKSk7CiAgICB9CgogICAg\nQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RTeW5jU3Vic2NyaWJlKCkgdGhy\nb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgYm9vbGVhbiBzdWJzY3JpYmVTdWNj\nZXNzID0gdHJ1ZTsKICAgICAgICB0cnkgewogICAgICAgICAgICBzdWJzY3Jp\nYmVyLnN1YnNjcmliZShCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgibXlTeW5j\nU3Vic2NyaWJlVG9waWMiKSwgQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoIjEi\nKSwgQ3JlYXRlT3JBdHRhY2guQ1JFQVRFX09SX0FUVEFDSCk7CiAgICAgICAg\nfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgc3Vic2NyaWJl\nU3VjY2VzcyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBhc3NlcnRUcnVl\nKHN1YnNjcmliZVN1Y2Nlc3MpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJs\naWMgdm9pZCB0ZXN0QXN5bmNTdWJzY3JpYmUoKSB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICBzdWJzY3JpYmVyLmFzeW5jU3Vic2NyaWJlKEJ5dGVTdHJp\nbmcuY29weUZyb21VdGY4KCJteUFzeW5jU3Vic2NyaWJlVG9waWMiKSwgQnl0\nZVN0cmluZy5jb3B5RnJvbVV0ZjgoIjEiKSwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIENyZWF0ZU9yQXR0YWNoLkNSRUFURV9PUl9BVFRB\nQ0gsIG5ldyBUZXN0Q2FsbGJhY2soKSwgbnVsbCk7CiAgICAgICAgYXNzZXJ0\nVHJ1ZShxdWV1ZS50YWtlKCkpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJs\naWMgdm9pZCB0ZXN0U3Vic2NyaWJlQW5kQ29uc3VtZSgpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIEJ5dGVTdHJpbmcgdG9waWMgPSBCeXRlU3RyaW5n\nLmNvcHlGcm9tVXRmOCgibXlDb25zdW1lVG9waWMiKTsKICAgICAgICBCeXRl\nU3RyaW5nIHN1YnNjcmliZXJJZCA9IEJ5dGVTdHJpbmcuY29weUZyb21VdGY4\nKCIxIik7CiAgICAgICAgc3Vic2NyaWJlci5hc3luY1N1YnNjcmliZSh0b3Bp\nYywgc3Vic2NyaWJlcklkLCBDcmVhdGVPckF0dGFjaC5DUkVBVEVfT1JfQVRU\nQUNILCBuZXcgVGVzdENhbGxiYWNrKCksIG51bGwpOwogICAgICAgIGFzc2Vy\ndFRydWUocXVldWUudGFrZSgpKTsKCiAgICAgICAgLy8gU3RhcnQgZGVsaXZl\ncnkgZm9yIHRoZSBzdWJzY3JpYmVyCiAgICAgICAgc3Vic2NyaWJlci5zdGFy\ndERlbGl2ZXJ5KHRvcGljLCBzdWJzY3JpYmVySWQsIG5ldyBUZXN0TWVzc2Fn\nZUhhbmRsZXIoKSk7CgogICAgICAgIC8vIE5vdyBwdWJsaXNoIHNvbWUgbWVz\nc2FnZXMgZm9yIHRoZSB0b3BpYyB0byBiZSBjb25zdW1lZCBieSB0aGUKICAg\nICAgICAvLyBzdWJzY3JpYmVyLgogICAgICAgIHB1Ymxpc2hlci5hc3luY1B1\nYmxpc2godG9waWMsIE1lc3NhZ2UubmV3QnVpbGRlcigpLnNldEJvZHkoQnl0\nZVN0cmluZy5jb3B5RnJvbVV0ZjgoIk1lc3NhZ2UgIzEiKSkuYnVpbGQoKSwK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUZXN0Q2FsbGJh\nY2soKSwgbnVsbCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShxdWV1ZS50YWtlKCkp\nOwogICAgICAgIGFzc2VydFRydWUoY29uc3VtZVF1ZXVlLnRha2UoKSk7CiAg\nICAgICAgcHVibGlzaGVyLmFzeW5jUHVibGlzaCh0b3BpYywgTWVzc2FnZS5u\nZXdCdWlsZGVyKCkuc2V0Qm9keShCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgi\nTWVzc2FnZSAjMiIpKS5idWlsZCgpLAogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgbmV3IFRlc3RDYWxsYmFjaygpLCBudWxsKTsKICAgICAgICBh\nc3NlcnRUcnVlKHF1ZXVlLnRha2UoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShj\nb25zdW1lUXVldWUudGFrZSgpKTsKICAgICAgICBwdWJsaXNoZXIuYXN5bmNQ\ndWJsaXNoKHRvcGljLCBNZXNzYWdlLm5ld0J1aWxkZXIoKS5zZXRCb2R5KEJ5\ndGVTdHJpbmcuY29weUZyb21VdGY4KCJNZXNzYWdlICMzIikpLmJ1aWxkKCks\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGVzdENhbGxi\nYWNrKCksIG51bGwpOwogICAgICAgIGFzc2VydFRydWUocXVldWUudGFrZSgp\nKTsKICAgICAgICBhc3NlcnRUcnVlKGNvbnN1bWVRdWV1ZS50YWtlKCkpOwog\nICAgICAgIHB1Ymxpc2hlci5hc3luY1B1Ymxpc2godG9waWMsIE1lc3NhZ2Uu\nbmV3QnVpbGRlcigpLnNldEJvZHkoQnl0ZVN0cmluZy5jb3B5RnJvbVV0Zjgo\nIk1lc3NhZ2UgIzQiKSkuYnVpbGQoKSwKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIG5ldyBUZXN0Q2FsbGJhY2soKSwgbnVsbCk7CiAgICAgICAg\nYXNzZXJ0VHJ1ZShxdWV1ZS50YWtlKCkpOwogICAgICAgIGFzc2VydFRydWUo\nY29uc3VtZVF1ZXVlLnRha2UoKSk7CiAgICAgICAgcHVibGlzaGVyLmFzeW5j\nUHVibGlzaCh0b3BpYywgTWVzc2FnZS5uZXdCdWlsZGVyKCkuc2V0Qm9keShC\neXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgiTWVzc2FnZSAjNSIpKS5idWlsZCgp\nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRlc3RDYWxs\nYmFjaygpLCBudWxsKTsKICAgICAgICBhc3NlcnRUcnVlKHF1ZXVlLnRha2Uo\nKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShjb25zdW1lUXVldWUudGFrZSgpKTsK\nICAgIH0KCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEFzeW5jU3Vi\nc2NyaWJlQW5kVW5zdWJzY3JpYmUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBCeXRlU3RyaW5nIHRvcGljID0gQnl0ZVN0cmluZy5jb3B5RnJvbVV0\nZjgoIm15QXN5bmNVbnN1YlRvcGljIik7CiAgICAgICAgQnl0ZVN0cmluZyBz\ndWJzY3JpYmVySWQgPSBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgiMSIpOwog\nICAgICAgIHN1YnNjcmliZXIuYXN5bmNTdWJzY3JpYmUodG9waWMsIHN1YnNj\ncmliZXJJZCwgQ3JlYXRlT3JBdHRhY2guQ1JFQVRFX09SX0FUVEFDSCwgbmV3\nIFRlc3RDYWxsYmFjaygpLCBudWxsKTsKICAgICAgICBhc3NlcnRUcnVlKHF1\nZXVlLnRha2UoKSk7CiAgICAgICAgc3Vic2NyaWJlci5hc3luY1Vuc3Vic2Ny\naWJlKHRvcGljLCBzdWJzY3JpYmVySWQsIG5ldyBUZXN0Q2FsbGJhY2soKSwg\nbnVsbCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShxdWV1ZS50YWtlKCkpOwogICAg\nfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0U3luY1Vuc3Vic2Ny\naWJlV2l0aG91dFN1YnNjcmlwdGlvbigpIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIGJvb2xlYW4gdW5zdWJzY3JpYmVTdWNjZXNzID0gZmFsc2U7CiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmli\nZShCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgibXlTeW5jVW5zdWJUb3BpYyIp\nLCBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgiMSIpKTsKICAgICAgICB9IGNh\ndGNoIChDbGllbnROb3RTdWJzY3JpYmVkRXhjZXB0aW9uIGUpIHsKICAgICAg\nICAgICAgdW5zdWJzY3JpYmVTdWNjZXNzID0gdHJ1ZTsKICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gZXgpIHsKICAgICAgICAgICAgdW5zdWJzY3JpYmVT\ndWNjZXNzID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGFzc2VydFRydWUo\ndW5zdWJzY3JpYmVTdWNjZXNzKTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVi\nbGljIHZvaWQgdGVzdEFzeW5jU3Vic2NyaWJlQW5kQ2xvc2VTdWJzY3JpcHRp\nb24oKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBCeXRlU3RyaW5nIHRv\ncGljID0gQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoIm15QXN5bmNTdWJBbmRD\nbG9zZVN1YlRvcGljIik7CiAgICAgICAgQnl0ZVN0cmluZyBzdWJzY3JpYmVy\nSWQgPSBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgiMSIpOwogICAgICAgIHN1\nYnNjcmliZXIuYXN5bmNTdWJzY3JpYmUodG9waWMsIHN1YnNjcmliZXJJZCwg\nQ3JlYXRlT3JBdHRhY2guQ1JFQVRFX09SX0FUVEFDSCwgbmV3IFRlc3RDYWxs\nYmFjaygpLCBudWxsKTsKICAgICAgICBhc3NlcnRUcnVlKHF1ZXVlLnRha2Uo\nKSk7CiAgICAgICAgc3Vic2NyaWJlci5jbG9zZVN1YnNjcmlwdGlvbih0b3Bp\nYywgc3Vic2NyaWJlcklkKTsKICAgICAgICBhc3NlcnRUcnVlKHRydWUpOwog\nICAgfQoKfQo=\n","encoding":"base64"}

