{"sha":"8f77a1b8f20ded0482677f40194959c834d04e69","node_id":"MDQ6QmxvYjE1NzU5NTY6OGY3N2ExYjhmMjBkZWQwNDgyNjc3ZjQwMTk0OTU5YzgzNGQwNGU2OQ==","size":4434,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/8f77a1b8f20ded0482677f40194959c834d04e69","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXI7CgppbXBvcnQgamF2YS51\ndGlsLkxpbmtlZExpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9y\ndCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7CgppbXBvcnQgb3JnLnNsZjRq\nLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwppbXBv\ncnQgb3JnLmp1bml0LkFmdGVyOwppbXBvcnQgb3JnLmp1bml0LkJlZm9yZTsK\nCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuY29tbW9uLlNlcnZl\nckNvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2\nZXIubmV0dHkuUHViU3ViU2VydmVyOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcuc2VydmVyLnBlcnNpc3RlbmNlLkJvb2tLZWVwZXJUZXN0QmFzZTsKCi8q\nKgogKiBUaGlzIGlzIGEgYmFzZSBjbGFzcyBmb3IgYW55IHRlc3RzIHRoYXQg\nbmVlZCBhIEhlZHdpZyBIdWIocykgc2V0dXAgd2l0aCBhbgogKiBhc3NvY2lh\ndGVkIEJvb2tLZWVwZXIgYW5kIFpvb0tlZXBlciBpbnN0YW5jZS4KICoKICov\nCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBIZWR3aWdIdWJUZXN0QmFzZSBleHRl\nbmRzIFRlc3RDYXNlIHsKCiAgICBwcm90ZWN0ZWQgc3RhdGljIExvZ2dlciBs\nb2dnZXIgPSBMb2dnZXJGYWN0b3J5LmdldExvZ2dlcihIZWR3aWdIdWJUZXN0\nQmFzZS5jbGFzcyk7CgogICAgLy8gQm9va0tlZXBlciB2YXJpYWJsZXMKICAg\nIC8vIERlZmF1bHQgbnVtYmVyIG9mIGJvb2tpZSBzZXJ2ZXJzIHRvIHNldHVw\nLiBFeHRlbmRpbmcgY2xhc3NlcyBjYW4KICAgIC8vIG92ZXJyaWRlIHRoaXMu\nCiAgICBwcm90ZWN0ZWQgaW50IG51bUJvb2tpZXMgPSAzOwogICAgcHJvdGVj\ndGVkIEJvb2tLZWVwZXJUZXN0QmFzZSBia3RiOwoKICAgIC8vIFB1YlN1YlNl\ncnZlciB2YXJpYWJsZXMKICAgIC8vIERlZmF1bHQgbnVtYmVyIG9mIFB1YlN1\nYlNlcnZlciBodWJzIHRvIHNldHVwLiBFeHRlbmRpbmcgY2xhc3NlcyBjYW4K\nICAgIC8vIG92ZXJyaWRlIHRoaXMuCiAgICBwcm90ZWN0ZWQgaW50IG51bVNl\ncnZlcnMgPSAxOwogICAgcHJvdGVjdGVkIGludCBpbml0aWFsU2VydmVyUG9y\ndCA9IDQwODA7CiAgICBwcm90ZWN0ZWQgaW50IGluaXRpYWxTU0xTZXJ2ZXJQ\nb3J0ID0gOTg3NjsKICAgIHByb3RlY3RlZCBMaXN0PFB1YlN1YlNlcnZlcj4g\nc2VydmVyc0xpc3Q7CgogICAgLy8gRGVmYXVsdCBjaGlsZCBjbGFzcyBvZiB0\naGUgU2VydmVyQ29uZmlndXJhdGlvbiB0byBiZSB1c2VkIGhlcmUuCiAgICAv\nLyBFeHRlbmRpbmcgY2xhc3NlcyBjYW4gZGVmaW5lIHRoZWlyIG93biAocG9z\nc2libHkgZXh0ZW5kaW5nIGZyb20gdGhpcykgYW5kCiAgICAvLyBvdmVycmlk\nZSB0aGUgZ2V0U2VydmVyQ29uZmlndXJhdGlvbiBtZXRob2QgYmVsb3cgdG8g\ncmV0dXJuIHRoZWlyIG93bgogICAgLy8gY29uZmlndXJhdGlvbi4KICAgIHBy\nb3RlY3RlZCBjbGFzcyBIdWJTZXJ2ZXJDb25maWd1cmF0aW9uIGV4dGVuZHMg\nU2VydmVyQ29uZmlndXJhdGlvbiB7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBp\nbnQgc2VydmVyUG9ydCwgc3NsU2VydmVyUG9ydDsKCiAgICAgICAgcHVibGlj\nIEh1YlNlcnZlckNvbmZpZ3VyYXRpb24oaW50IHNlcnZlclBvcnQsIGludCBz\nc2xTZXJ2ZXJQb3J0KSB7CiAgICAgICAgICAgIHRoaXMuc2VydmVyUG9ydCA9\nIHNlcnZlclBvcnQ7CiAgICAgICAgICAgIHRoaXMuc3NsU2VydmVyUG9ydCA9\nIHNzbFNlcnZlclBvcnQ7CiAgICAgICAgfQoKICAgICAgICBAT3ZlcnJpZGUK\nICAgICAgICBwdWJsaWMgaW50IGdldFNlcnZlclBvcnQoKSB7CiAgICAgICAg\nICAgIHJldHVybiBzZXJ2ZXJQb3J0OwogICAgICAgIH0KCiAgICAgICAgQE92\nZXJyaWRlCiAgICAgICAgcHVibGljIGludCBnZXRTU0xTZXJ2ZXJQb3J0KCkg\newogICAgICAgICAgICByZXR1cm4gc3NsU2VydmVyUG9ydDsKICAgICAgICB9\nCgogICAgICAgIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nWmtIb3N0KCkgewogICAgICAgICAgICByZXR1cm4gYmt0Yi5nZXRaa0hvc3RQ\nb3J0KCk7CiAgICAgICAgfQoKICAgICAgICBAT3ZlcnJpZGUKICAgICAgICBw\ndWJsaWMgYm9vbGVhbiBpc1NTTEVuYWJsZWQoKSB7CiAgICAgICAgICAgIHJl\ndHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgQE92ZXJyaWRlCiAgICAg\nICAgcHVibGljIFN0cmluZyBnZXRDZXJ0TmFtZSgpIHsKICAgICAgICAgICAg\ncmV0dXJuICIvc2VydmVyLnAxMiI7CiAgICAgICAgfQoKICAgICAgICBAT3Zl\ncnJpZGUKICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFBhc3N3b3JkKCkgewog\nICAgICAgICAgICByZXR1cm4gImVVeVN2cDJwaE0yV2siOwogICAgICAgIH0K\nICAgIH0KCiAgICAvLyBNZXRob2QgdG8gZ2V0IGEgU2VydmVyQ29uZmlndXJh\ndGlvbiBmb3IgdGhlIFB1YlN1YlNlcnZlcnMgY3JlYXRlZCB1c2luZwogICAg\nLy8gdGhlIHNwZWNpZmllZCBwb3J0cy4gRXh0ZW5kaW5nIGNoaWxkIGNsYXNz\nZXMgY2FuIG92ZXJyaWRlIHRoaXMuIFRoaXMKICAgIC8vIGRlZmF1bHQgaW1w\nbGVtZW50YXRpb24gd2lsbCByZXR1cm4gdGhlIEh1YlNlcnZlckNvbmZpZ3Vy\nYXRpb24gb2JqZWN0CiAgICAvLyBkZWZpbmVkIGFib3ZlLgogICAgcHJvdGVj\ndGVkIFNlcnZlckNvbmZpZ3VyYXRpb24gZ2V0U2VydmVyQ29uZmlndXJhdGlv\nbihpbnQgc2VydmVyUG9ydCwgaW50IHNzbFNlcnZlclBvcnQpIHsKICAgICAg\nICByZXR1cm4gbmV3IEh1YlNlcnZlckNvbmZpZ3VyYXRpb24oc2VydmVyUG9y\ndCwgc3NsU2VydmVyUG9ydCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBA\nQmVmb3JlCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIGxvZ2dlci5pbmZvKCJTVEFSVElORyAiICsgZ2V0TmFt\nZSgpKTsKICAgICAgICBia3RiID0gbmV3IEJvb2tLZWVwZXJUZXN0QmFzZShu\ndW1Cb29raWVzKTsKICAgICAgICBia3RiLnNldFVwKCk7CiAgICAgICAgLy8g\nTm93IGNyZWF0ZSB0aGUgUHViU3ViU2VydmVyIEh1YnMKICAgICAgICBzZXJ2\nZXJzTGlzdCA9IG5ldyBMaW5rZWRMaXN0PFB1YlN1YlNlcnZlcj4oKTsKICAg\nICAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bVNlcnZlcnM7IGkrKykgewog\nICAgICAgICAgICBzZXJ2ZXJzTGlzdC5hZGQobmV3IFB1YlN1YlNlcnZlcihn\nZXRTZXJ2ZXJDb25maWd1cmF0aW9uKGluaXRpYWxTZXJ2ZXJQb3J0ICsgaSwg\naW5pdGlhbFNTTFNlcnZlclBvcnQgKyBpKSkpOwogICAgICAgIH0KICAgICAg\nICBsb2dnZXIuaW5mbygiSGVkd2lnSHViIHRlc3Qgc2V0dXAgZmluaXNoZWQi\nKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIEBBZnRlcgogICAgcHVibGlj\nIHZvaWQgdGVhckRvd24oKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBs\nb2dnZXIuaW5mbygidGVhckRvd24gc3RhcnRpbmciKTsKICAgICAgICAvLyBT\naHV0ZG93biBhbGwgb2YgdGhlIFB1YlN1YlNlcnZlcnMKICAgICAgICBmb3Ig\nKFB1YlN1YlNlcnZlciBzZXJ2ZXIgOiBzZXJ2ZXJzTGlzdCkgewogICAgICAg\nICAgICBzZXJ2ZXIuc2h1dGRvd24oKTsKICAgICAgICB9CiAgICAgICAgYmt0\nYi50ZWFyRG93bigpOwogICAgICAgIGxvZ2dlci5pbmZvKCJGSU5JU0hFRCAi\nICsgZ2V0TmFtZSgpKTsKICAgIH0KCn0K\n","encoding":"base64"}

