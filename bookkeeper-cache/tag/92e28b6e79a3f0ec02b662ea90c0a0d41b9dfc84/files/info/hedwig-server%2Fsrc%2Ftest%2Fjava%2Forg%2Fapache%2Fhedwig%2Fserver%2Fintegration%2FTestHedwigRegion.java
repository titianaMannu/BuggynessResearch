{"sha":"aa09ee98bc7104ff2ffa6b92341eaccbf4293bc8","node_id":"MDQ6QmxvYjE1NzU5NTY6YWEwOWVlOThiYzcxMDRmZjJmZmE2YjkyMzQxZWFjY2JmNDI5M2JjOA==","size":3950,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/aa09ee98bc7104ff2ffa6b92341eaccbf4293bc8","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuaW50ZWdyYXRpb247Cgpp\nbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuU3luY2hyb25vdXNRdWV1ZTsK\nCmltcG9ydCBvcmcuanVuaXQuQWZ0ZXI7CmltcG9ydCBvcmcuanVuaXQuQmVm\nb3JlOwppbXBvcnQgb3JnLmp1bml0LlRlc3Q7CgppbXBvcnQgY29tLmdvb2ds\nZS5wcm90b2J1Zi5CeXRlU3RyaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcuY2xpZW50LkhlZHdpZ0NsaWVudDsKaW1wb3J0IG9yZy5hcGFjaGUuaGVk\nd2lnLmNsaWVudC5hcGkuUHVibGlzaGVyOwppbXBvcnQgb3JnLmFwYWNoZS5o\nZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuTWVzc2FnZTsKaW1wb3J0\nIG9yZy5hcGFjaGUuaGVkd2lnLnByb3RvY29sLlB1YlN1YlByb3RvY29sLlN1\nYnNjcmliZVJlcXVlc3QuQ3JlYXRlT3JBdHRhY2g7CmltcG9ydCBvcmcuYXBh\nY2hlLmhlZHdpZy5zZXJ2ZXIuSGVkd2lnUmVnaW9uVGVzdEJhc2U7CmltcG9y\ndCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuaW50ZWdyYXRpb24uVGVzdEhl\nZHdpZ0h1Yi5UZXN0Q2FsbGJhY2s7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdp\nZy5zZXJ2ZXIuaW50ZWdyYXRpb24uVGVzdEhlZHdpZ0h1Yi5UZXN0TWVzc2Fn\nZUhhbmRsZXI7CgpwdWJsaWMgY2xhc3MgVGVzdEhlZHdpZ1JlZ2lvbiBleHRl\nbmRzIEhlZHdpZ1JlZ2lvblRlc3RCYXNlIHsKCiAgICAvLyBTeW5jaHJvbm91\nc1F1ZXVlcyB0byB2ZXJpZnkgYXN5bmMgY2FsbHMKICAgIHByaXZhdGUgZmlu\nYWwgU3luY2hyb25vdXNRdWV1ZTxCb29sZWFuPiBxdWV1ZSA9IG5ldyBTeW5j\naHJvbm91c1F1ZXVlPEJvb2xlYW4+KCk7CiAgICBwcml2YXRlIGZpbmFsIFN5\nbmNocm9ub3VzUXVldWU8Qm9vbGVhbj4gY29uc3VtZVF1ZXVlID0gbmV3IFN5\nbmNocm9ub3VzUXVldWU8Qm9vbGVhbj4oKTsKCiAgICBAT3ZlcnJpZGUKICAg\nIEBCZWZvcmUKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgbnVtUmVnaW9ucyA9IDM7CiAgICAgICAgbnVtU2Vy\ndmVyc1BlclJlZ2lvbiA9IDQ7CiAgICAgICAgc3VwZXIuc2V0VXAoKTsKICAg\nIH0KCiAgICBAT3ZlcnJpZGUKICAgIEBBZnRlcgogICAgcHVibGljIHZvaWQg\ndGVhckRvd24oKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBzdXBlci50\nZWFyRG93bigpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0\nZXN0TXVsdGlSZWdpb25TdWJzY3JpYmVBbmRDb25zdW1lKCkgdGhyb3dzIEV4\nY2VwdGlvbiB7CiAgICAgICAgaW50IGJhdGNoU2l6ZSA9IDEwOwogICAgICAg\nIC8vIFN1YnNjcmliZSB0byB0b3BpY3MgZm9yIGNsaWVudHMgaW4gYWxsIHJl\nZ2lvbnMKICAgICAgICBmb3IgKEhlZHdpZ0NsaWVudCBjbGllbnQgOiByZWdp\nb25DbGllbnRzTWFwLnZhbHVlcygpKSB7CiAgICAgICAgICAgIGZvciAoaW50\nIGkgPSAwOyBpIDwgYmF0Y2hTaXplOyBpKyspIHsKICAgICAgICAgICAgICAg\nIGNsaWVudC5nZXRTdWJzY3JpYmVyKCkuYXN5bmNTdWJzY3JpYmUoQnl0ZVN0\ncmluZy5jb3B5RnJvbVV0ZjgoIlRvcGljIiArIGkpLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeXRl\nU3RyaW5nLmNvcHlGcm9tVXRmOCgiTG9jYWxTdWJzY3JpYmVyIiksIENyZWF0\nZU9yQXR0YWNoLkNSRUFURV9PUl9BVFRBQ0gsCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUZXN0\nQ2FsbGJhY2socXVldWUpLCBudWxsKTsKICAgICAgICAgICAgICAgIGFzc2Vy\ndFRydWUocXVldWUudGFrZSgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0K\nCiAgICAgICAgLy8gU3RhcnQgZGVsaXZlcnkgZm9yIHRoZSBsb2NhbCBzdWJz\nY3JpYmVycyBpbiBhbGwgcmVnaW9ucwogICAgICAgIGZvciAoSGVkd2lnQ2xp\nZW50IGNsaWVudCA6IHJlZ2lvbkNsaWVudHNNYXAudmFsdWVzKCkpIHsKICAg\nICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBiYXRjaFNpemU7IGkrKykg\newogICAgICAgICAgICAgICAgY2xpZW50LmdldFN1YnNjcmliZXIoKS5zdGFy\ndERlbGl2ZXJ5KEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJUb3BpYyIgKyBp\nKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgiTG9jYWxTdWJz\nY3JpYmVyIiksIG5ldyBUZXN0TWVzc2FnZUhhbmRsZXIoY29uc3VtZVF1ZXVl\nKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIE5vdyBz\ndGFydCBwdWJsaXNoaW5nIG1lc3NhZ2VzIGZvciB0aGUgc3Vic2NyaWJlZCB0\nb3BpY3MgaW4gb25lIG9mIHRoZQogICAgICAgIC8vIHJlZ2lvbnMgYW5kIHZl\ncmlmeSB0aGF0IGl0IGdldHMgZGVsaXZlcmVkIGFuZCBjb25zdW1lZCBpbiBh\nbGwgb2YgdGhlCiAgICAgICAgLy8gb3RoZXIgb25lcy4KICAgICAgICBQdWJs\naXNoZXIgcHVibGlzaGVyID0gcmVnaW9uQ2xpZW50c01hcC52YWx1ZXMoKS5p\ndGVyYXRvcigpLm5leHQoKS5nZXRQdWJsaXNoZXIoKTsKICAgICAgICBmb3Ig\nKGludCBpID0gMDsgaSA8IGJhdGNoU2l6ZTsgaSsrKSB7CiAgICAgICAgICAg\nIHB1Ymxpc2hlci5hc3luY1B1Ymxpc2goQnl0ZVN0cmluZy5jb3B5RnJvbVV0\nZjgoIlRvcGljIiArIGkpLCBNZXNzYWdlLm5ld0J1aWxkZXIoKS5zZXRCb2R5\nKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeXRl\nU3RyaW5nLmNvcHlGcm9tVXRmOCgiTWVzc2FnZSIgKyBpKSkuYnVpbGQoKSwg\nbmV3IFRlc3RDYWxsYmFjayhxdWV1ZSksIG51bGwpOwogICAgICAgICAgICBh\nc3NlcnRUcnVlKHF1ZXVlLnRha2UoKSk7CiAgICAgICAgfQogICAgICAgIC8v\nIE1ha2Ugc3VyZSBlYWNoIHJlZ2lvbiBjb25zdW1lcyB0aGUgc2FtZSBzZXQg\nb2YgcHVibGlzaGVkIG1lc3NhZ2VzLgogICAgICAgIGZvciAoaW50IGkgPSAw\nOyBpIDwgcmVnaW9uQ2xpZW50c01hcC5zaXplKCk7IGkrKykgewogICAgICAg\nICAgICBmb3IgKGludCBqID0gMDsgaiA8IGJhdGNoU2l6ZTsgaisrKSB7CiAg\nICAgICAgICAgICAgICBhc3NlcnRUcnVlKGNvbnN1bWVRdWV1ZS50YWtlKCkp\nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKfQo=\n","encoding":"base64"}

