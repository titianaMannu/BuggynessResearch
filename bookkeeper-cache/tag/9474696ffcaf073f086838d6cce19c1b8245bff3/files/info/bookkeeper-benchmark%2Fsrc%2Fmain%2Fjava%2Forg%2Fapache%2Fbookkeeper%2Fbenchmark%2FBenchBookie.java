{"sha":"258a3fb606b3b47d52b8ebfd8ca4024768a31ab6","node_id":"MDQ6QmxvYjE1NzU5NTY6MjU4YTNmYjYwNmIzYjQ3ZDUyYjhlYmZkOGNhNDAyNDc2OGEzMWFiNg==","size":8462,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/258a3fb606b3b47d52b8ebfd8ca4024768a31ab6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0\naGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z\nIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoKICov\nCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLmJlbmNobWFyazsKCmlt\ncG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGlsLmNv\nbmN1cnJlbnQuRXhlY3V0b3JzOwoKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tl\nZXBlci5uZXQuQm9va2llU29ja2V0QWRkcmVzczsKaW1wb3J0IG9yZy5hcGFj\naGUuYm9va2tlZXBlci5wcm90by5Cb29raWVDbGllbnQ7CmltcG9ydCBvcmcu\nYXBhY2hlLmJvb2trZWVwZXIucHJvdG8uQm9va2llUHJvdG9jb2w7CmltcG9y\ndCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG8uQm9va2tlZXBlckludGVy\nbmFsQ2FsbGJhY2tzLldyaXRlQ2FsbGJhY2s7CmltcG9ydCBvcmcuYXBhY2hl\nLmJvb2trZWVwZXIudXRpbC5PcmRlcmVkU2FmZUV4ZWN1dG9yOwppbXBvcnQg\nb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVudC5Cb29rS2VlcGVyOwppbXBv\ncnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVudC5CS0V4Y2VwdGlvbjsK\naW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuTGVkZ2VySGFu\nZGxlOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNvbmYuQ2xpZW50\nQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5jbGku\nSGVscEZvcm1hdHRlcjsKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5jbGku\nT3B0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmNsaS5PcHRpb25z\nOwppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmNsaS5Db21tYW5kTGluZTsK\naW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5jbGkuQ29tbWFuZExpbmVQYXJz\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMuY2xpLlBvc2l4UGFyc2Vy\nOwppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmNsaS5QYXJzZUV4Y2VwdGlv\nbjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLktlZXBlckV4Y2VwdGlv\nbjsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5idWZmZXIuQ2hhbm5lbEJ1ZmZl\ncjsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5idWZmZXIuQ2hhbm5lbEJ1ZmZl\ncnM7CmltcG9ydCBvcmcuamJvc3MubmV0dHkuY2hhbm5lbC5zb2NrZXQuQ2xp\nZW50U29ja2V0Q2hhbm5lbEZhY3Rvcnk7CmltcG9ydCBvcmcuamJvc3MubmV0\ndHkuY2hhbm5lbC5zb2NrZXQubmlvLk5pb0NsaWVudFNvY2tldENoYW5uZWxG\nYWN0b3J5OwoKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcu\nc2xmNGouTG9nZ2VyRmFjdG9yeTsKCnB1YmxpYyBjbGFzcyBCZW5jaEJvb2tp\nZSB7CiAgICBzdGF0aWMgZmluYWwgTG9nZ2VyIExPRyA9IExvZ2dlckZhY3Rv\ncnkuZ2V0TG9nZ2VyKEJlbmNoQm9va2llLmNsYXNzKTsKCiAgICBzdGF0aWMg\nY2xhc3MgTGF0ZW5jeUNhbGxiYWNrIGltcGxlbWVudHMgV3JpdGVDYWxsYmFj\nayB7CiAgICAgICAgYm9vbGVhbiBjb21wbGV0ZTsKICAgICAgICBAT3ZlcnJp\nZGUKICAgICAgICBzeW5jaHJvbml6ZWQgcHVibGljIHZvaWQgd3JpdGVDb21w\nbGV0ZShpbnQgcmMsIGxvbmcgbGVkZ2VySWQsIGxvbmcgZW50cnlJZCwKICAg\nICAgICAgICAgICAgIEJvb2tpZVNvY2tldEFkZHJlc3MgYWRkciwgT2JqZWN0\nIGN0eCkgewogICAgICAgICAgICBpZiAocmMgIT0gMCkgewogICAgICAgICAg\nICAgICAgTE9HLmVycm9yKCJHb3QgZXJyb3IgIiArIHJjKTsKICAgICAgICAg\nICAgfQogICAgICAgICAgICBjb21wbGV0ZSA9IHRydWU7CiAgICAgICAgICAg\nIG5vdGlmeUFsbCgpOwogICAgICAgIH0KICAgICAgICBzeW5jaHJvbml6ZWQg\ncHVibGljIHZvaWQgcmVzZXRDb21wbGV0ZSgpIHsKICAgICAgICAgICAgY29t\ncGxldGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgc3luY2hyb25pemVk\nIHB1YmxpYyB2b2lkIHdhaXRGb3JDb21wbGV0ZSgpIHRocm93cyBJbnRlcnJ1\ncHRlZEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHdoaWxlKCFjb21wbGV0ZSkg\newogICAgICAgICAgICAgICAgd2FpdCgpOwogICAgICAgICAgICB9CiAgICAg\nICAgfQogICAgfQoKICAgIHN0YXRpYyBjbGFzcyBUaHJvdWdocHV0Q2FsbGJh\nY2sgaW1wbGVtZW50cyBXcml0ZUNhbGxiYWNrIHsKICAgICAgICBpbnQgY291\nbnQ7CiAgICAgICAgaW50IHdhaXRpbmdDb3VudCA9IEludGVnZXIuTUFYX1ZB\nTFVFOwogICAgICAgIHN5bmNocm9uaXplZCBwdWJsaWMgdm9pZCB3cml0ZUNv\nbXBsZXRlKGludCByYywgbG9uZyBsZWRnZXJJZCwgbG9uZyBlbnRyeUlkLAog\nICAgICAgICAgICAgICAgQm9va2llU29ja2V0QWRkcmVzcyBhZGRyLCBPYmpl\nY3QgY3R4KSB7CiAgICAgICAgICAgIGlmIChyYyAhPSAwKSB7CiAgICAgICAg\nICAgICAgICBMT0cuZXJyb3IoIkdvdCBlcnJvciAiICsgcmMpOwogICAgICAg\nICAgICB9CiAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICAgIGlmIChj\nb3VudCA+PSB3YWl0aW5nQ291bnQpIHsKICAgICAgICAgICAgICAgIG5vdGlm\neUFsbCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN5bmNo\ncm9uaXplZCBwdWJsaWMgdm9pZCB3YWl0Rm9yKGludCBjb3VudCkgdGhyb3dz\nIEludGVycnVwdGVkRXhjZXB0aW9uIHsKICAgICAgICAgICAgd2hpbGUodGhp\ncy5jb3VudCA8IGNvdW50KSB7CiAgICAgICAgICAgICAgICB3YWl0aW5nQ291\nbnQgPSBjb3VudDsKICAgICAgICAgICAgICAgIHdhaXQoMTAwMCk7CiAgICAg\nICAgICAgIH0KICAgICAgICAgICAgd2FpdGluZ0NvdW50ID0gSW50ZWdlci5N\nQVhfVkFMVUU7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgc3RhdGlj\nIGxvbmcgZ2V0VmFsaWRMZWRnZXJJZChTdHJpbmcgemtTZXJ2ZXJzKQogICAg\nICAgICAgICB0aHJvd3MgSU9FeGNlcHRpb24sIEJLRXhjZXB0aW9uLCBLZWVw\nZXJFeGNlcHRpb24sIEludGVycnVwdGVkRXhjZXB0aW9uIHsKICAgICAgICBC\nb29rS2VlcGVyIGJrYyA9IG51bGw7CiAgICAgICAgTGVkZ2VySGFuZGxlIGxo\nID0gbnVsbDsKICAgICAgICBsb25nIGlkID0gMDsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBia2MgPW5ldyBCb29rS2VlcGVyKHprU2VydmVycyk7CiAg\nICAgICAgICAgIGxoID0gYmtjLmNyZWF0ZUxlZGdlcigxLCAxLCBCb29rS2Vl\ncGVyLkRpZ2VzdFR5cGUuQ1JDMzIsCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBuZXcgYnl0ZVsyMF0pOwogICAgICAgICAgICBpZCA9IGxo\nLmdldElkKCk7CiAgICAgICAgICAgIHJldHVybiBpZDsKICAgICAgICB9IGZp\nbmFsbHkgewogICAgICAgICAgICBpZiAobGggIT0gbnVsbCkgeyBsaC5jbG9z\nZSgpOyB9CiAgICAgICAgICAgIGlmIChia2MgIT0gbnVsbCkgeyBia2MuY2xv\nc2UoKTsgfQogICAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQHBhcmFt\nIGFyZ3MKICAgICAqIEB0aHJvd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24KICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJn\ncykKICAgICAgICAgICAgdGhyb3dzIEludGVycnVwdGVkRXhjZXB0aW9uLCBQ\nYXJzZUV4Y2VwdGlvbiwgSU9FeGNlcHRpb24sCiAgICAgICAgICAgIEJLRXhj\nZXB0aW9uLCBLZWVwZXJFeGNlcHRpb24gewogICAgICAgIE9wdGlvbnMgb3B0\naW9ucyA9IG5ldyBPcHRpb25zKCk7CiAgICAgICAgb3B0aW9ucy5hZGRPcHRp\nb24oImhvc3QiLCB0cnVlLCAiSG9zdG5hbWUgb3IgSVAgb2YgYm9va2llIHRv\nIGJlbmNobWFyayIpOwogICAgICAgIG9wdGlvbnMuYWRkT3B0aW9uKCJwb3J0\nIiwgdHJ1ZSwgIlBvcnQgb2YgYm9va2llIHRvIGJlbmNobWFyayAoZGVmYXVs\ndCAzMTgxKSIpOwogICAgICAgIG9wdGlvbnMuYWRkT3B0aW9uKCJ6b29rZWVw\nZXIiLCB0cnVlLCAiWm9va2VlcGVyIGVuc2VtYmxlLCAoZGVmYXVsdCBcImxv\nY2FsaG9zdDoyMTgxXCIpIik7CiAgICAgICAgb3B0aW9ucy5hZGRPcHRpb24o\nInNpemUiLCB0cnVlLCAiU2l6ZSBvZiBtZXNzYWdlIHRvIHNlbmQsIGluIGJ5\ndGVzIChkZWZhdWx0IDEwMjQpIik7CiAgICAgICAgb3B0aW9ucy5hZGRPcHRp\nb24oImhlbHAiLCBmYWxzZSwgIlRoaXMgbWVzc2FnZSIpOwoKICAgICAgICBD\nb21tYW5kTGluZVBhcnNlciBwYXJzZXIgPSBuZXcgUG9zaXhQYXJzZXIoKTsK\nICAgICAgICBDb21tYW5kTGluZSBjbWQgPSBwYXJzZXIucGFyc2Uob3B0aW9u\ncywgYXJncyk7CgogICAgICAgIGlmIChjbWQuaGFzT3B0aW9uKCJoZWxwIikg\nfHwgIWNtZC5oYXNPcHRpb24oImhvc3QiKSkgewogICAgICAgICAgICBIZWxw\nRm9ybWF0dGVyIGZvcm1hdHRlciA9IG5ldyBIZWxwRm9ybWF0dGVyKCk7CiAg\nICAgICAgICAgIGZvcm1hdHRlci5wcmludEhlbHAoIkJlbmNoQm9va2llIDxv\ncHRpb25zPiIsIG9wdGlvbnMpOwogICAgICAgICAgICBTeXN0ZW0uZXhpdCgt\nMSk7CiAgICAgICAgfQoKICAgICAgICBTdHJpbmcgYWRkciA9IGNtZC5nZXRP\ncHRpb25WYWx1ZSgiaG9zdCIpOwogICAgICAgIGludCBwb3J0ID0gSW50ZWdl\nci52YWx1ZU9mKGNtZC5nZXRPcHRpb25WYWx1ZSgicG9ydCIsICIzMTgxIikp\nOwogICAgICAgIGludCBzaXplID0gSW50ZWdlci52YWx1ZU9mKGNtZC5nZXRP\ncHRpb25WYWx1ZSgic2l6ZSIsICIxMDI0IikpOwogICAgICAgIFN0cmluZyBz\nZXJ2ZXJzID0gY21kLmdldE9wdGlvblZhbHVlKCJ6b29rZWVwZXIiLCAibG9j\nYWxob3N0OjIxODEiKTsKCgoKICAgICAgICBDbGllbnRTb2NrZXRDaGFubmVs\nRmFjdG9yeSBjaGFubmVsRmFjdG9yeQogICAgICAgICAgICA9IG5ldyBOaW9D\nbGllbnRTb2NrZXRDaGFubmVsRmFjdG9yeShFeGVjdXRvcnMubmV3Q2FjaGVk\nVGhyZWFkUG9vbCgpLCBFeGVjdXRvcnMKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5ld0NhY2hlZFRocmVhZFBv\nb2woKSk7CiAgICAgICAgT3JkZXJlZFNhZmVFeGVjdXRvciBleGVjdXRvciA9\nIG5ldyBPcmRlcmVkU2FmZUV4ZWN1dG9yKDEsICJCZW5jaEJvb2tpZUNsaWVu\ndFNjaGVkdWxlciIpOwoKICAgICAgICBDbGllbnRDb25maWd1cmF0aW9uIGNv\nbmYgPSBuZXcgQ2xpZW50Q29uZmlndXJhdGlvbigpOwogICAgICAgIEJvb2tp\nZUNsaWVudCBiYyA9IG5ldyBCb29raWVDbGllbnQoY29uZiwgY2hhbm5lbEZh\nY3RvcnksIGV4ZWN1dG9yKTsKICAgICAgICBMYXRlbmN5Q2FsbGJhY2sgbGMg\nPSBuZXcgTGF0ZW5jeUNhbGxiYWNrKCk7CgogICAgICAgIFRocm91Z2hwdXRD\nYWxsYmFjayB0YyA9IG5ldyBUaHJvdWdocHV0Q2FsbGJhY2soKTsKICAgICAg\nICBpbnQgd2FybVVwQ291bnQgPSA5OTk7CgogICAgICAgIGxvbmcgbGVkZ2Vy\nID0gZ2V0VmFsaWRMZWRnZXJJZChzZXJ2ZXJzKTsKICAgICAgICBmb3IobG9u\nZyBlbnRyeSA9IDA7IGVudHJ5IDwgd2FybVVwQ291bnQ7IGVudHJ5KyspIHsK\nICAgICAgICAgICAgQ2hhbm5lbEJ1ZmZlciB0b1NlbmQgPSBDaGFubmVsQnVm\nZmVycy5idWZmZXIoc2l6ZSk7CiAgICAgICAgICAgIHRvU2VuZC5yZXNldFJl\nYWRlckluZGV4KCk7CiAgICAgICAgICAgIHRvU2VuZC5yZXNldFdyaXRlcklu\nZGV4KCk7CiAgICAgICAgICAgIHRvU2VuZC53cml0ZUxvbmcobGVkZ2VyKTsK\nICAgICAgICAgICAgdG9TZW5kLndyaXRlTG9uZyhlbnRyeSk7CiAgICAgICAg\nICAgIHRvU2VuZC53cml0ZXJJbmRleCh0b1NlbmQuY2FwYWNpdHkoKSk7CiAg\nICAgICAgICAgIGJjLmFkZEVudHJ5KG5ldyBCb29raWVTb2NrZXRBZGRyZXNz\nKGFkZHIsIHBvcnQpLCBsZWRnZXIsIG5ldyBieXRlWzIwXSwKICAgICAgICAg\nICAgICAgICAgICAgICAgZW50cnksIHRvU2VuZCwgdGMsIG51bGwsIEJvb2tp\nZVByb3RvY29sLkZMQUdfTk9ORSk7CiAgICAgICAgfQogICAgICAgIExPRy5p\nbmZvKCJXYWl0aW5nIGZvciB3YXJtdXAiKTsKICAgICAgICB0Yy53YWl0Rm9y\nKHdhcm1VcENvdW50KTsKCiAgICAgICAgbGVkZ2VyID0gZ2V0VmFsaWRMZWRn\nZXJJZChzZXJ2ZXJzKTsKICAgICAgICBMT0cuaW5mbygiQmVuY2htYXJraW5n\nIGxhdGVuY3kiKTsKICAgICAgICBpbnQgZW50cnlDb3VudCA9IDUwMDA7CiAg\nICAgICAgbG9uZyBzdGFydFRpbWUgPSBTeXN0ZW0ubmFub1RpbWUoKTsKICAg\nICAgICBmb3IobG9uZyBlbnRyeSA9IDA7IGVudHJ5IDwgZW50cnlDb3VudDsg\nZW50cnkrKykgewogICAgICAgICAgICBDaGFubmVsQnVmZmVyIHRvU2VuZCA9\nIENoYW5uZWxCdWZmZXJzLmJ1ZmZlcihzaXplKTsKICAgICAgICAgICAgdG9T\nZW5kLnJlc2V0UmVhZGVySW5kZXgoKTsKICAgICAgICAgICAgdG9TZW5kLnJl\nc2V0V3JpdGVySW5kZXgoKTsKICAgICAgICAgICAgdG9TZW5kLndyaXRlTG9u\nZyhsZWRnZXIpOwogICAgICAgICAgICB0b1NlbmQud3JpdGVMb25nKGVudHJ5\nKTsKICAgICAgICAgICAgdG9TZW5kLndyaXRlckluZGV4KHRvU2VuZC5jYXBh\nY2l0eSgpKTsKICAgICAgICAgICAgbGMucmVzZXRDb21wbGV0ZSgpOwogICAg\nICAgICAgICBiYy5hZGRFbnRyeShuZXcgQm9va2llU29ja2V0QWRkcmVzcyhh\nZGRyLCBwb3J0KSwgbGVkZ2VyLCBuZXcgYnl0ZVsyMF0sCiAgICAgICAgICAg\nICAgICAgICAgICAgIGVudHJ5LCB0b1NlbmQsIGxjLCBudWxsLCBCb29raWVQ\ncm90b2NvbC5GTEFHX05PTkUpOwogICAgICAgICAgICBsYy53YWl0Rm9yQ29t\ncGxldGUoKTsKICAgICAgICB9CiAgICAgICAgbG9uZyBlbmRUaW1lID0gU3lz\ndGVtLm5hbm9UaW1lKCk7CiAgICAgICAgTE9HLmluZm8oIkxhdGVuY3k6ICIg\nKyAoKChkb3VibGUpKGVuZFRpbWUtc3RhcnRUaW1lKSkvKChkb3VibGUpZW50\ncnlDb3VudCkpLzEwMDAwMDAuMCk7CgogICAgICAgIGVudHJ5Q291bnQgPSA1\nMDAwMDsKCiAgICAgICAgbGVkZ2VyID0gZ2V0VmFsaWRMZWRnZXJJZChzZXJ2\nZXJzKTsKICAgICAgICBMT0cuaW5mbygiQmVuY2htYXJraW5nIHRocm91Z2hw\ndXQiKTsKICAgICAgICBzdGFydFRpbWUgPSBTeXN0ZW0uY3VycmVudFRpbWVN\naWxsaXMoKTsKICAgICAgICB0YyA9IG5ldyBUaHJvdWdocHV0Q2FsbGJhY2so\nKTsKICAgICAgICBmb3IobG9uZyBlbnRyeSA9IDA7IGVudHJ5IDwgZW50cnlD\nb3VudDsgZW50cnkrKykgewogICAgICAgICAgICBDaGFubmVsQnVmZmVyIHRv\nU2VuZCA9IENoYW5uZWxCdWZmZXJzLmJ1ZmZlcihzaXplKTsKICAgICAgICAg\nICAgdG9TZW5kLnJlc2V0UmVhZGVySW5kZXgoKTsKICAgICAgICAgICAgdG9T\nZW5kLnJlc2V0V3JpdGVySW5kZXgoKTsKICAgICAgICAgICAgdG9TZW5kLndy\naXRlTG9uZyhsZWRnZXIpOwogICAgICAgICAgICB0b1NlbmQud3JpdGVMb25n\nKGVudHJ5KTsKICAgICAgICAgICAgdG9TZW5kLndyaXRlckluZGV4KHRvU2Vu\nZC5jYXBhY2l0eSgpKTsKICAgICAgICAgICAgYmMuYWRkRW50cnkobmV3IEJv\nb2tpZVNvY2tldEFkZHJlc3MoYWRkciwgcG9ydCksIGxlZGdlciwgbmV3IGJ5\ndGVbMjBdLAogICAgICAgICAgICAgICAgICAgICAgICBlbnRyeSwgdG9TZW5k\nLCB0YywgbnVsbCwgQm9va2llUHJvdG9jb2wuRkxBR19OT05FKTsKICAgICAg\nICB9CiAgICAgICAgdGMud2FpdEZvcihlbnRyeUNvdW50KTsKICAgICAgICBl\nbmRUaW1lID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7CiAgICAgICAg\nTE9HLmluZm8oIlRocm91Z2hwdXQ6ICIgKyAoKGxvbmcpZW50cnlDb3VudCkq\nMTAwMC8oZW5kVGltZS1zdGFydFRpbWUpKTsKCiAgICAgICAgYmMuY2xvc2Uo\nKTsKICAgICAgICBjaGFubmVsRmFjdG9yeS5yZWxlYXNlRXh0ZXJuYWxSZXNv\ndXJjZXMoKTsKICAgICAgICBleGVjdXRvci5zaHV0ZG93bigpOwogICAgfQoK\nfQo=\n","encoding":"base64"}

