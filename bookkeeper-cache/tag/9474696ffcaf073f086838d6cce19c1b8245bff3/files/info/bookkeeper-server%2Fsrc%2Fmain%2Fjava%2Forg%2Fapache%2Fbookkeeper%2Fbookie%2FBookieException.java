{"sha":"b3ee280ffd44251a1564071e0ff4b09d810b7ffd","node_id":"MDQ6QmxvYjE1NzU5NTY6YjNlZTI4MGZmZDQ0MjUxYTE1NjQwNzFlMGZmNGIwOWQ4MTBiN2ZmZA==","size":4566,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b3ee280ffd44251a1564071e0ff4b09d810b7ffd","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuYm9va2llOwoKLyoKICoK\nICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u\nIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vu\nc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRp\nb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNG\nIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UK\nICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAq\nIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUK\nICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFu\nZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgoK\naW1wb3J0IGphdmEubGFuZy5FeGNlcHRpb247CgpAU3VwcHJlc3NXYXJuaW5n\ncygic2VyaWFsIikKcHVibGljIGFic3RyYWN0IGNsYXNzIEJvb2tpZUV4Y2Vw\ndGlvbiBleHRlbmRzIEV4Y2VwdGlvbiB7CgogICAgcHJpdmF0ZSBpbnQgY29k\nZTsKICAgIHB1YmxpYyBCb29raWVFeGNlcHRpb24oaW50IGNvZGUpIHsKICAg\nICAgICB0aGlzLmNvZGUgPSBjb2RlOwogICAgfQoKICAgIHB1YmxpYyBCb29r\naWVFeGNlcHRpb24oaW50IGNvZGUsIFRocm93YWJsZSB0KSB7CiAgICAgICAg\nc3VwZXIodCk7CiAgICB9CgogICAgcHVibGljIEJvb2tpZUV4Y2VwdGlvbihp\nbnQgY29kZSwgU3RyaW5nIHJlYXNvbikgewogICAgICAgIHN1cGVyKHJlYXNv\nbik7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBCb29raWVFeGNlcHRpb24g\nY3JlYXRlKGludCBjb2RlKSB7CiAgICAgICAgc3dpdGNoKGNvZGUpIHsKICAg\nICAgICBjYXNlIENvZGUuVW5hdXRob3JpemVkQWNjZXNzRXhjZXB0aW9uOgog\nICAgICAgICAgICByZXR1cm4gbmV3IEJvb2tpZVVuYXV0aG9yaXplZEFjY2Vz\nc0V4Y2VwdGlvbigpOwogICAgICAgIGNhc2UgQ29kZS5MZWRnZXJGZW5jZWRF\neGNlcHRpb246CiAgICAgICAgICAgIHJldHVybiBuZXcgTGVkZ2VyRmVuY2Vk\nRXhjZXB0aW9uKCk7CiAgICAgICAgY2FzZSBDb2RlLkludmFsaWRDb29raWVF\neGNlcHRpb246CiAgICAgICAgICAgIHJldHVybiBuZXcgSW52YWxpZENvb2tp\nZUV4Y2VwdGlvbigpOwogICAgICAgIGNhc2UgQ29kZS5VcGdyYWRlRXhjZXB0\naW9uOgogICAgICAgICAgICByZXR1cm4gbmV3IFVwZ3JhZGVFeGNlcHRpb24o\nKTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gbmV3IEJv\nb2tpZUlsbGVnYWxPcEV4Y2VwdGlvbigpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgaW50ZXJmYWNlIENvZGUgewogICAgICAgIGludCBPSyA9IDA7\nCiAgICAgICAgaW50IFVuYXV0aG9yaXplZEFjY2Vzc0V4Y2VwdGlvbiA9IC0x\nOwoKICAgICAgICBpbnQgSWxsZWdhbE9wRXhjZXB0aW9uID0gLTEwMDsKICAg\nICAgICBpbnQgTGVkZ2VyRmVuY2VkRXhjZXB0aW9uID0gLTEwMTsKCiAgICAg\nICAgaW50IEludmFsaWRDb29raWVFeGNlcHRpb24gPSAtMTAyOwogICAgICAg\nIGludCBVcGdyYWRlRXhjZXB0aW9uID0gLTEwMzsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRDb2RlKGludCBjb2RlKSB7CiAgICAgICAgdGhpcy5jb2Rl\nID0gY29kZTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldENvZGUoKSB7CiAg\nICAgICAgcmV0dXJuIHRoaXMuY29kZTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldE1lc3NhZ2UoaW50IGNvZGUpIHsKICAgICAgICBTdHJpbmcgZXJy\nOwogICAgICAgIHN3aXRjaChjb2RlKSB7CiAgICAgICAgY2FzZSBDb2RlLk9L\nOgogICAgICAgICAgICBlcnIgPSAiTm8gcHJvYmxlbSI7CiAgICAgICAgICAg\nIGJyZWFrOwogICAgICAgIGNhc2UgQ29kZS5VbmF1dGhvcml6ZWRBY2Nlc3NF\neGNlcHRpb246CiAgICAgICAgICAgIGVyciA9ICJFcnJvciB3aGlsZSByZWFk\naW5nIGxlZGdlciI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2Ug\nQ29kZS5MZWRnZXJGZW5jZWRFeGNlcHRpb246CiAgICAgICAgICAgIGVyciA9\nICJMZWRnZXIgaGFzIGJlZW4gZmVuY2VkOyBObyBtb3JlIGVudHJpZXMgY2Fu\nIGJlIGFkZGVkIjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBD\nb2RlLkludmFsaWRDb29raWVFeGNlcHRpb246CiAgICAgICAgICAgIGVyciA9\nICJJbnZhbGlkIGVudmlyb25tZW50IGNvb2tpZSBmb3VuZCI7CiAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgIGNhc2UgQ29kZS5VcGdyYWRlRXhjZXB0aW9u\nOgogICAgICAgICAgICBlcnIgPSAiRXJyb3IgcGVyZm9ybWluZyBhbiB1cGdy\nYWRlIG9wZXJhdGlvbiAiOwogICAgICAgICAgICBicmVhazsKICAgICAgICBk\nZWZhdWx0OgogICAgICAgICAgICBlcnIgPSAiSW52YWxpZCBvcGVyYXRpb24i\nOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgU3RyaW5n\nIHJlYXNvbiA9IHN1cGVyLmdldE1lc3NhZ2UoKTsKICAgICAgICBpZiAocmVh\nc29uID09IG51bGwpIHsKICAgICAgICAgICAgaWYgKHN1cGVyLmdldENhdXNl\nKCkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcmVhc29uID0gc3VwZXIu\nZ2V0Q2F1c2UoKS5nZXRNZXNzYWdlKCk7CiAgICAgICAgICAgIH0KICAgICAg\nICB9CiAgICAgICAgaWYgKHJlYXNvbiA9PSBudWxsKSB7CiAgICAgICAgICAg\nIHJldHVybiBlcnI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0\ndXJuIFN0cmluZy5mb3JtYXQoIiVzIFslc10iLCBlcnIsIHJlYXNvbik7CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgQm9va2ll\nVW5hdXRob3JpemVkQWNjZXNzRXhjZXB0aW9uIGV4dGVuZHMgQm9va2llRXhj\nZXB0aW9uIHsKICAgICAgICBwdWJsaWMgQm9va2llVW5hdXRob3JpemVkQWNj\nZXNzRXhjZXB0aW9uKCkgewogICAgICAgICAgICBzdXBlcihDb2RlLlVuYXV0\naG9yaXplZEFjY2Vzc0V4Y2VwdGlvbik7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBzdGF0aWMgY2xhc3MgQm9va2llSWxsZWdhbE9wRXhjZXB0aW9u\nIGV4dGVuZHMgQm9va2llRXhjZXB0aW9uIHsKICAgICAgICBwdWJsaWMgQm9v\na2llSWxsZWdhbE9wRXhjZXB0aW9uKCkgewogICAgICAgICAgICBzdXBlcihD\nb2RlLlVuYXV0aG9yaXplZEFjY2Vzc0V4Y2VwdGlvbik7CiAgICAgICAgfQog\nICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgTGVkZ2VyRmVuY2VkRXhj\nZXB0aW9uIGV4dGVuZHMgQm9va2llRXhjZXB0aW9uIHsKICAgICAgICBwdWJs\naWMgTGVkZ2VyRmVuY2VkRXhjZXB0aW9uKCkgewogICAgICAgICAgICBzdXBl\ncihDb2RlLkxlZGdlckZlbmNlZEV4Y2VwdGlvbik7CiAgICAgICAgfQogICAg\nfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgSW52YWxpZENvb2tpZUV4Y2Vw\ndGlvbiBleHRlbmRzIEJvb2tpZUV4Y2VwdGlvbiB7CiAgICAgICAgcHVibGlj\nIEludmFsaWRDb29raWVFeGNlcHRpb24oKSB7CiAgICAgICAgICAgIHRoaXMo\nIiIpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIEludmFsaWRDb29raWVF\neGNlcHRpb24oU3RyaW5nIHJlYXNvbikgewogICAgICAgICAgICBzdXBlcihD\nb2RlLkludmFsaWRDb29raWVFeGNlcHRpb24sIHJlYXNvbik7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgSW52YWxpZENvb2tpZUV4Y2VwdGlvbihUaHJv\nd2FibGUgY2F1c2UpIHsKICAgICAgICAgICAgc3VwZXIoQ29kZS5JbnZhbGlk\nQ29va2llRXhjZXB0aW9uLCBjYXVzZSk7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBzdGF0aWMgY2xhc3MgVXBncmFkZUV4Y2VwdGlvbiBleHRlbmRz\nIEJvb2tpZUV4Y2VwdGlvbiB7CiAgICAgICAgcHVibGljIFVwZ3JhZGVFeGNl\ncHRpb24oKSB7CiAgICAgICAgICAgIHN1cGVyKENvZGUuVXBncmFkZUV4Y2Vw\ndGlvbik7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgVXBncmFkZUV4Y2Vw\ndGlvbihUaHJvd2FibGUgY2F1c2UpIHsKICAgICAgICAgICAgc3VwZXIoQ29k\nZS5VcGdyYWRlRXhjZXB0aW9uLCBjYXVzZSk7CiAgICAgICAgfQoKICAgICAg\nICBwdWJsaWMgVXBncmFkZUV4Y2VwdGlvbihTdHJpbmcgcmVhc29uKSB7CiAg\nICAgICAgICAgIHN1cGVyKENvZGUuVXBncmFkZUV4Y2VwdGlvbiwgcmVhc29u\nKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

