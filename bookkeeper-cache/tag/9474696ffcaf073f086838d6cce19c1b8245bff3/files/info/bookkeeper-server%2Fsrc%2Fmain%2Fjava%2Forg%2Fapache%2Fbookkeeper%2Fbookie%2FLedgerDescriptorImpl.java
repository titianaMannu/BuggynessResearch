{"sha":"d9814b667317517f80917e9fd7e7a370785881fe","node_id":"MDQ6QmxvYjE1NzU5NTY6ZDk4MTRiNjY3MzE3NTE3ZjgwOTE3ZTlmZDdlN2EzNzA3ODU4ODFmZQ==","size":2651,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/d9814b667317517f80917e9fd7e7a370785881fe","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCgpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5ib29raWU7Cgpp\nbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKaW1wb3J0IGphdmEubmlvLkJ5\ndGVCdWZmZXI7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOwoKaW1wb3J0IG9y\nZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9y\neTsKCi8qKgogKiBJbXBsZW1lbnRzIGEgbGVkZ2VyIGluc2lkZSBhIGJvb2tp\nZS4gSW4gcGFydGljdWxhciwgaXQgaW1wbGVtZW50cyBvcGVyYXRpb25zCiAq\nIHRvIHdyaXRlIGVudHJpZXMgdG8gYSBsZWRnZXIgYW5kIHJlYWQgZW50cmll\ncyBmcm9tIGEgbGVkZ2VyLgogKgogKi8KcHVibGljIGNsYXNzIExlZGdlckRl\nc2NyaXB0b3JJbXBsIGV4dGVuZHMgTGVkZ2VyRGVzY3JpcHRvciB7CiAgICBw\ncml2YXRlIGZpbmFsIHN0YXRpYyBMb2dnZXIgTE9HID0gTG9nZ2VyRmFjdG9y\neS5nZXRMb2dnZXIoTGVkZ2VyRGVzY3JpcHRvci5jbGFzcyk7CiAgICBmaW5h\nbCBMZWRnZXJTdG9yYWdlIGxlZGdlclN0b3JhZ2U7CiAgICBwcml2YXRlIGxv\nbmcgbGVkZ2VySWQ7CgogICAgZmluYWwgYnl0ZVtdIG1hc3RlcktleTsKCiAg\nICBMZWRnZXJEZXNjcmlwdG9ySW1wbChieXRlW10gbWFzdGVyS2V5LCBsb25n\nIGxlZGdlcklkLCBMZWRnZXJTdG9yYWdlIGxlZGdlclN0b3JhZ2UpIHsKICAg\nICAgICB0aGlzLm1hc3RlcktleSA9IG1hc3RlcktleTsKICAgICAgICB0aGlz\nLmxlZGdlcklkID0gbGVkZ2VySWQ7CiAgICAgICAgdGhpcy5sZWRnZXJTdG9y\nYWdlID0gbGVkZ2VyU3RvcmFnZTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAg\nIHZvaWQgY2hlY2tBY2Nlc3MoYnl0ZSBtYXN0ZXJLZXlbXSkgdGhyb3dzIEJv\nb2tpZUV4Y2VwdGlvbiwgSU9FeGNlcHRpb24gewogICAgICAgIGlmICghQXJy\nYXlzLmVxdWFscyh0aGlzLm1hc3RlcktleSwgbWFzdGVyS2V5KSkgewogICAg\nICAgICAgICB0aHJvdyBCb29raWVFeGNlcHRpb24uY3JlYXRlKEJvb2tpZUV4\nY2VwdGlvbi5Db2RlLlVuYXV0aG9yaXplZEFjY2Vzc0V4Y2VwdGlvbik7CiAg\nICAgICAgfQogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGxvbmcg\nZ2V0TGVkZ2VySWQoKSB7CiAgICAgICAgcmV0dXJuIGxlZGdlcklkOwogICAg\nfQoKICAgIEBPdmVycmlkZQogICAgYm9vbGVhbiBzZXRGZW5jZWQoKSB0aHJv\nd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVybiBsZWRnZXJTdG9yYWdl\nLnNldEZlbmNlZChsZWRnZXJJZCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAg\nICBib29sZWFuIGlzRmVuY2VkKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gbGVkZ2VyU3RvcmFnZS5pc0ZlbmNlZChsZWRnZXJJZCk7\nCiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBsb25nIGFkZEVudHJ5KEJ5dGVC\ndWZmZXIgZW50cnkpIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgbG9u\nZyBsZWRnZXJJZCA9IGVudHJ5LmdldExvbmcoKTsKCiAgICAgICAgaWYgKGxl\nZGdlcklkICE9IHRoaXMubGVkZ2VySWQpIHsKICAgICAgICAgICAgdGhyb3cg\nbmV3IElPRXhjZXB0aW9uKCJFbnRyeSBmb3IgbGVkZ2VyICIgKyBsZWRnZXJJ\nZCArICIgd2FzIHNlbnQgdG8gIiArIHRoaXMubGVkZ2VySWQpOwogICAgICAg\nIH0KICAgICAgICBlbnRyeS5yZXdpbmQoKTsKCiAgICAgICAgcmV0dXJuIGxl\nZGdlclN0b3JhZ2UuYWRkRW50cnkoZW50cnkpOwogICAgfQoKICAgIEBPdmVy\ncmlkZQogICAgQnl0ZUJ1ZmZlciByZWFkRW50cnkobG9uZyBlbnRyeUlkKSB0\naHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVybiBsZWRnZXJTdG9y\nYWdlLmdldEVudHJ5KGxlZGdlcklkLCBlbnRyeUlkKTsKICAgIH0KfQo=\n","encoding":"base64"}

