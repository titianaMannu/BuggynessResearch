{"sha":"4bf1e050754a974cbdc63a97c7d778b63647a51a","node_id":"MDQ6QmxvYjE1NzU5NTY6NGJmMWUwNTA3NTRhOTc0Y2JkYzYzYTk3YzdkNzc4YjYzNjQ3YTUxYQ==","size":2440,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/4bf1e050754a974cbdc63a97c7d778b63647a51a","content":"LyoqCiAqIENvcHlyaWdodCBUaGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRp\nb24KICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5h\ncGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyBy\nZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3Jp\ndGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vu\nc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU\nSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVp\ndGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9u\ncyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpw\nYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5ib29raWU7CgppbXBvcnQg\namF2YS5uaW8uQnl0ZUJ1ZmZlcjsKCi8qKgogKiBKb3VybmFsIHN0cmVhbSBw\nb3NpdGlvbgogKi8KY2xhc3MgTG9nTWFyayB7CiAgICBsb25nIGxvZ0ZpbGVJ\nZDsKICAgIGxvbmcgbG9nRmlsZU9mZnNldDsKCiAgICBwdWJsaWMgTG9nTWFy\naygpIHsKICAgICAgICBzZXRMb2dNYXJrKDAsIDApOwogICAgfQoKICAgIHB1\nYmxpYyBMb2dNYXJrKExvZ01hcmsgb3RoZXIpIHsKICAgICAgICBzZXRMb2dN\nYXJrKG90aGVyLmdldExvZ0ZpbGVJZCgpLCBvdGhlci5nZXRMb2dGaWxlT2Zm\nc2V0KCkpOwogICAgfQoKICAgIHB1YmxpYyBMb2dNYXJrKGxvbmcgbG9nRmls\nZUlkLCBsb25nIGxvZ0ZpbGVPZmZzZXQpIHsKICAgICAgICBzZXRMb2dNYXJr\nKGxvZ0ZpbGVJZCwgbG9nRmlsZU9mZnNldCk7CiAgICB9CgogICAgcHVibGlj\nIHN5bmNocm9uaXplZCBsb25nIGdldExvZ0ZpbGVJZCgpIHsKICAgICAgICBy\nZXR1cm4gbG9nRmlsZUlkOwogICAgfQoKICAgIHB1YmxpYyBzeW5jaHJvbml6\nZWQgbG9uZyBnZXRMb2dGaWxlT2Zmc2V0KCkgewogICAgICAgIHJldHVybiBs\nb2dGaWxlT2Zmc2V0OwogICAgfQoKICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQg\ndm9pZCByZWFkTG9nTWFyayhCeXRlQnVmZmVyIGJiKSB7CiAgICAgICAgbG9n\nRmlsZUlkID0gYmIuZ2V0TG9uZygpOwogICAgICAgIGxvZ0ZpbGVPZmZzZXQg\nPSBiYi5nZXRMb25nKCk7CiAgICB9CgogICAgcHVibGljIHN5bmNocm9uaXpl\nZCB2b2lkIHdyaXRlTG9nTWFyayhCeXRlQnVmZmVyIGJiKSB7CiAgICAgICAg\nYmIucHV0TG9uZyhsb2dGaWxlSWQpOwogICAgICAgIGJiLnB1dExvbmcobG9n\nRmlsZU9mZnNldCk7CiAgICB9CgogICAgcHVibGljIHN5bmNocm9uaXplZCB2\nb2lkIHNldExvZ01hcmsobG9uZyBsb2dGaWxlSWQsIGxvbmcgbG9nRmlsZU9m\nZnNldCkgewogICAgICAgIHRoaXMubG9nRmlsZUlkID0gbG9nRmlsZUlkOwog\nICAgICAgIHRoaXMubG9nRmlsZU9mZnNldCA9IGxvZ0ZpbGVPZmZzZXQ7CiAg\nICB9CgogICAgcHVibGljIHN5bmNocm9uaXplZCBpbnQgY29tcGFyZShMb2dN\nYXJrIG90aGVyKSB7CiAgICAgICAgbG9uZyByZXQgPSB0aGlzLmxvZ0ZpbGVJ\nZCAtIG90aGVyLmdldExvZ0ZpbGVJZCgpOwogICAgICAgIGlmIChyZXQgPT0g\nMCkgewogICAgICAgICAgICByZXQgPSB0aGlzLmxvZ0ZpbGVPZmZzZXQgLSBv\ndGhlci5nZXRMb2dGaWxlT2Zmc2V0KCk7CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiAocmV0IDwgMCk/IC0xIDogKChyZXQgPiAwKT8gMSA6IDApOwogICAg\nfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHN5bmNocm9uaXplZCBTdHJp\nbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgU3RyaW5nQnVpbGRlciBzYiA9IG5l\ndyBTdHJpbmdCdWlsZGVyKCk7CgogICAgICAgIHNiLmFwcGVuZCgiTG9nTWFy\nazogbG9nRmlsZUlkIC0gIikuYXBwZW5kKGxvZ0ZpbGVJZCkKICAgICAgICAg\nICAgICAgIC5hcHBlbmQoIiAsIGxvZ0ZpbGVPZmZzZXQgLSAiKS5hcHBlbmQo\nbG9nRmlsZU9mZnNldCk7CgogICAgICAgIHJldHVybiBzYi50b1N0cmluZygp\nOwogICAgfQp9Cg==\n","encoding":"base64"}

