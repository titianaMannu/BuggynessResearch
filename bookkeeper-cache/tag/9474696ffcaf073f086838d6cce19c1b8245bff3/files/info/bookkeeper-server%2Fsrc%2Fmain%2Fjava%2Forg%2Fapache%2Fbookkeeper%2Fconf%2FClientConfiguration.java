{"sha":"2f4127a96980c2a893f2e9d6461481f0b87c3fe6","node_id":"MDQ6QmxvYjE1NzU5NTY6MmY0MTI3YTk2OTgwYzJhODkzZjJlOWQ2NDYxNDgxZjBiODdjM2ZlNg==","size":17526,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/2f4127a96980c2a893f2e9d6461481f0b87c3fe6","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZjsKCmltcG9ydCBzdGF0\naWMgY29tLmdvb2dsZS5jb21tb24uYmFzZS5DaGFyc2V0cy5VVEZfODsKCmlt\ncG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJy\nZW50LlRpbWVVbml0OwoKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5j\nbGllbnQuQm9va0tlZXBlci5EaWdlc3RUeXBlOwppbXBvcnQgb3JnLmFwYWNo\nZS5ib29ra2VlcGVyLmNsaWVudC5FbnNlbWJsZVBsYWNlbWVudFBvbGljeTsK\naW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuUmFja2F3YXJl\nRW5zZW1ibGVQbGFjZW1lbnRQb2xpY3k7CmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIudXRpbC5SZWZsZWN0aW9uVXRpbHM7CmltcG9ydCBvcmcuYXBh\nY2hlLmNvbW1vbnMuY29uZmlndXJhdGlvbi5Db25maWd1cmF0aW9uRXhjZXB0\naW9uOwppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5nVXRp\nbHM7CgovKioKICogQ29uZmlndXJhdGlvbiBzZXR0aW5ncyBmb3IgY2xpZW50\nIHNpZGUKICovCnB1YmxpYyBjbGFzcyBDbGllbnRDb25maWd1cmF0aW9uIGV4\ndGVuZHMgQWJzdHJhY3RDb25maWd1cmF0aW9uIHsKCiAgICAvLyBab29rZWVw\nZXIgUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJp\nbmcgWktfVElNRU9VVCA9ICJ6a1RpbWVvdXQiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgWktfU0VSVkVSUyA9ICJ6a1NlcnZlcnMiOwoK\nICAgIC8vIFRocm90dGxlIHZhbHVlCiAgICBwcm90ZWN0ZWQgZmluYWwgc3Rh\ndGljIFN0cmluZyBUSFJPVFRMRSA9ICJ0aHJvdHRsZSI7CgogICAgLy8gRGln\nZXN0IFR5cGUKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIERJ\nR0VTVF9UWVBFID0gImRpZ2VzdFR5cGUiOwogICAgLy8gUGFzc3dkCiAgICBw\ncm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBQQVNTV0QgPSAicGFzc3dk\nIjsKCiAgICAvLyBOSU8gUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZpbmFs\nIHN0YXRpYyBTdHJpbmcgQ0xJRU5UX1RDUF9OT0RFTEFZID0gImNsaWVudFRj\ncE5vRGVsYXkiOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcg\nTlVNX0NIQU5ORUxTX1BFUl9CT09LSUUgPSAibnVtQ2hhbm5lbHNQZXJCb29r\naWUiOwogICAgLy8gUmVhZCBQYXJhbWV0ZXJzCiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBSRUFEX1RJTUVPVVQgPSAicmVhZFRpbWVvdXQi\nOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgU1BFQ1VMQVRJ\nVkVfUkVBRF9USU1FT1VUID0gInNwZWN1bGF0aXZlUmVhZFRpbWVvdXQiOwog\nICAgLy8gVGltZW91dCBTZXR0aW5nCiAgICBwcm90ZWN0ZWQgZmluYWwgc3Rh\ndGljIFN0cmluZyBBRERfRU5UUllfVElNRU9VVF9TRUMgPSAiYWRkRW50cnlU\naW1lb3V0U2VjIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5n\nIFJFQURfRU5UUllfVElNRU9VVF9TRUMgPSAicmVhZEVudHJ5VGltZW91dFNl\nYyI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBUSU1FT1VU\nX1RBU0tfSU5URVJWQUxfTUlMTElTID0gInRpbWVvdXRUYXNrSW50ZXJ2YWxN\naWxsaXMiOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgUENC\nQ19USU1FT1VUX1RJTUVSX1RJQ0tfRFVSQVRJT05fTVMgPSAicGNiY1RpbWVv\ndXRUaW1lclRpY2tEdXJhdGlvbk1zIjsKICAgIHByb3RlY3RlZCBmaW5hbCBz\ndGF0aWMgU3RyaW5nIFBDQkNfVElNRU9VVF9USU1FUl9OVU1fVElDS1MgPSAi\ncGNiY1RpbWVvdXRUaW1lck51bVRpY2tzIjsKCiAgICAvLyBOdW1iZXIgV29r\nZXIgVGhyZWFkcwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcg\nTlVNX1dPUktFUl9USFJFQURTID0gIm51bVdvcmtlclRocmVhZHMiOwoKICAg\nIC8vIEVuc2VtYmxlIFBsYWNlbWVudCBQb2xpY3kKICAgIHByb3RlY3RlZCBm\naW5hbCBzdGF0aWMgU3RyaW5nIEVOU0VNQkxFX1BMQUNFTUVOVF9QT0xJQ1kg\nPSAiZW5zZW1ibGVQbGFjZW1lbnRQb2xpY3kiOwoKICAgIC8qKgogICAgICog\nQ29uc3RydWN0IGEgZGVmYXVsdCBjbGllbnQtc2lkZSBjb25maWd1cmF0aW9u\nCiAgICAgKi8KICAgIHB1YmxpYyBDbGllbnRDb25maWd1cmF0aW9uKCkgewog\nICAgICAgIHN1cGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1\nY3QgYSBjbGllbnQtc2lkZSBjb25maWd1cmF0aW9uIHVzaW5nIGEgYmFzZSBj\nb25maWd1cmF0aW9uCiAgICAgKgogICAgICogQHBhcmFtIGNvbmYKICAgICAq\nICAgICAgICAgIEJhc2UgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJs\naWMgQ2xpZW50Q29uZmlndXJhdGlvbihBYnN0cmFjdENvbmZpZ3VyYXRpb24g\nY29uZikgewogICAgICAgIHN1cGVyKCk7CiAgICAgICAgbG9hZENvbmYoY29u\nZik7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhyb3R0bGUgdmFsdWUK\nICAgICAqCiAgICAgKiBAcmV0dXJuIHRocm90dGxlIHZhbHVlCiAgICAgKiBA\nc2VlICNzZXRUaHJvdHRsZVZhbHVlCiAgICAgKi8KICAgIHB1YmxpYyBpbnQg\nZ2V0VGhyb3R0bGVWYWx1ZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRJ\nbnQoVEhST1RUTEUsIDUwMDApOwogICAgfQoKICAgIC8qKgogICAgICogU2V0\nIHRocm90dGxlIHZhbHVlLgogICAgICoKICAgICAqIFNpbmNlIEJvb2tLZWVw\nZXIgcHJvY2VzcyByZXF1ZXN0cyBpbiBhc3luY2hyb3VzIHdheSwgaXQgd2ls\nbCBob2xkcwogICAgICogdGhvc2UgcGVuZGluZyByZXF1ZXN0IGluIHF1ZXVl\nLiBZb3UgbWF5IGVhc2lseSBydW4gaXQgb3V0IG9mIG1lbW9yeQogICAgICog\naWYgcHJvZHVjaW5nIHRvbyBtYW55IHJlcXVlc3RzIHRoYW4gdGhlIGNhcGFi\naWxpdHkgb2YgYm9va2llIHNlcnZlcnMgY2FuIGhhbmRsZS4KICAgICAqIFRv\nIHByZXZlbnQgdGhhdCBmcm9tIGhhcHBlZGluZywgeW91IGNhbiBzZXQgYSB0\naHJvdHRsZSB2YWx1ZSBoZXJlLgogICAgICoKICAgICAqIEBwYXJhbSB0aHJv\ndHRsZQogICAgICogICAgICAgICAgVGhyb3R0bGUgVmFsdWUKICAgICAqIEBy\nZXR1cm4gY2xpZW50IGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGlj\nIENsaWVudENvbmZpZ3VyYXRpb24gc2V0VGhyb3R0bGVWYWx1ZShpbnQgdGhy\nb3R0bGUpIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5KFRIUk9UVExFLCBJ\nbnRlZ2VyLnRvU3RyaW5nKHRocm90dGxlKSk7CiAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgZGlnZXN0IHR5cGUgdXNl\nZCBpbiBib29ra2VlcGVyIGFkbWluCiAgICAgKgogICAgICogQHJldHVybiBk\naWdlc3QgdHlwZQogICAgICogQHNlZSAjc2V0Qm9va2llUmVjb3ZlcnlEaWdl\nc3RUeXBlCiAgICAgKi8KICAgIHB1YmxpYyBEaWdlc3RUeXBlIGdldEJvb2tp\nZVJlY292ZXJ5RGlnZXN0VHlwZSgpIHsKICAgICAgICByZXR1cm4gRGlnZXN0\nVHlwZS52YWx1ZU9mKHRoaXMuZ2V0U3RyaW5nKERJR0VTVF9UWVBFLCBEaWdl\nc3RUeXBlLkNSQzMyLnRvU3RyaW5nKCkpKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldCBkaWdlc3QgdHlwZSB1c2VkIGluIGJvb2trZWVwZXIgYWRtaW4u\nCiAgICAgKgogICAgICogRGlnZXN0IFR5cGUgYW5kIFBhc3N3ZCB1c2VkIHRv\nIG9wZW4gbGVkZ2VycyBmb3IgYWRtaW4gdG9vbAogICAgICogRm9yIG5vdywg\nYXNzdW1lIHRoYXQgYWxsIGxlZGdlcnMgd2VyZSBjcmVhdGVkIHdpdGggdGhl\nIHNhbWUgRGlnZXN0VHlwZQogICAgICogYW5kIHBhc3N3b3JkLiBJbiB0aGUg\nZnV0dXJlLCB0aGlzIGFkbWluIHRvb2wgd2lsbCBuZWVkIHRvIGtub3cgZm9y\nIGVhY2gKICAgICAqIGxlZGdlciwgd2hhdCB3YXMgdGhlIERpZ2VzdFR5cGUg\nYW5kIHBhc3N3b3JkIHVzZWQgdG8gY3JlYXRlIGl0IGJlZm9yZSBpdAogICAg\nICogY2FuIG9wZW4gaXQuIFRoZXNlIHZhbHVlcyB3aWxsIGNvbWUgZnJvbSBT\neXN0ZW0gcHJvcGVydGllcywgdGhvdWdoIGZpeGVkCiAgICAgKiBkZWZhdWx0\ncyBhcmUgZGVmaW5lZCBoZXJlLgogICAgICoKICAgICAqIEBwYXJhbSBkaWdl\nc3RUeXBlCiAgICAgKiAgICAgICAgICBEaWdlc3QgVHlwZQogICAgICogQHJl\ndHVybiBjbGllbnQgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMg\nQ2xpZW50Q29uZmlndXJhdGlvbiBzZXRCb29raWVSZWNvdmVyeURpZ2VzdFR5\ncGUoRGlnZXN0VHlwZSBkaWdlc3RUeXBlKSB7CiAgICAgICAgdGhpcy5zZXRQ\ncm9wZXJ0eShESUdFU1RfVFlQRSwgZGlnZXN0VHlwZS50b1N0cmluZygpKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdl\ndCBwYXNzd2QgdXNlZCBpbiBib29ra2VlcGVyIGFkbWluCiAgICAgKgogICAg\nICogQHJldHVybiBwYXNzd29yZAogICAgICogQHNlZSAjc2V0Qm9va2llUmVj\nb3ZlcnlQYXNzd2QKICAgICAqLwogICAgcHVibGljIGJ5dGVbXSBnZXRCb29r\naWVSZWNvdmVyeVBhc3N3ZCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRT\ndHJpbmcoUEFTU1dELCAiIikuZ2V0Qnl0ZXMoVVRGXzgpOwogICAgfQoKICAg\nIC8qKgogICAgICogU2V0IHBhc3N3ZCB1c2VkIGluIGJvb2trZWVwZXIgYWRt\naW4uCiAgICAgKgogICAgICogRGlnZXN0IFR5cGUgYW5kIFBhc3N3ZCB1c2Vk\nIHRvIG9wZW4gbGVkZ2VycyBmb3IgYWRtaW4gdG9vbAogICAgICogRm9yIG5v\ndywgYXNzdW1lIHRoYXQgYWxsIGxlZGdlcnMgd2VyZSBjcmVhdGVkIHdpdGgg\ndGhlIHNhbWUgRGlnZXN0VHlwZQogICAgICogYW5kIHBhc3N3b3JkLiBJbiB0\naGUgZnV0dXJlLCB0aGlzIGFkbWluIHRvb2wgd2lsbCBuZWVkIHRvIGtub3cg\nZm9yIGVhY2gKICAgICAqIGxlZGdlciwgd2hhdCB3YXMgdGhlIERpZ2VzdFR5\ncGUgYW5kIHBhc3N3b3JkIHVzZWQgdG8gY3JlYXRlIGl0IGJlZm9yZSBpdAog\nICAgICogY2FuIG9wZW4gaXQuIFRoZXNlIHZhbHVlcyB3aWxsIGNvbWUgZnJv\nbSBTeXN0ZW0gcHJvcGVydGllcywgdGhvdWdoIGZpeGVkCiAgICAgKiBkZWZh\ndWx0cyBhcmUgZGVmaW5lZCBoZXJlLgogICAgICoKICAgICAqIEBwYXJhbSBw\nYXNzd2QKICAgICAqICAgICAgICAgIFBhc3N3b3JkCiAgICAgKiBAcmV0dXJu\nIGNsaWVudCBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBDbGll\nbnRDb25maWd1cmF0aW9uIHNldEJvb2tpZVJlY292ZXJ5UGFzc3dkKGJ5dGVb\nXSBwYXNzd2QpIHsKICAgICAgICBzZXRQcm9wZXJ0eShQQVNTV0QsIG5ldyBT\ndHJpbmcocGFzc3dkLCBVVEZfOCkpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogSXMgdGNwIGNvbm5lY3Rpb24gbm8gZGVs\nYXkuCiAgICAgKgogICAgICogQHJldHVybiB0Y3Agc29ja2V0IG5vZGVsYXkg\nc2V0dGluZwogICAgICogQHNlZSAjc2V0Q2xpZW50VGNwTm9EZWxheQogICAg\nICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRDbGllbnRUY3BOb0RlbGF5KCkg\newogICAgICAgIHJldHVybiBnZXRCb29sZWFuKENMSUVOVF9UQ1BfTk9ERUxB\nWSwgdHJ1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgc29ja2V0IG5v\nZGVsYXkgc2V0dGluZy4KICAgICAqCiAgICAgKiBUaGlzIHNldHRpbmdzIGlz\nIHVzZWQgdG8gZW5hYmxlZC9kaXNhYmxlZCBOYWdsZSdzIGFsZ29yaXRobSwg\nd2hpY2ggaXMgYSBtZWFucyBvZgogICAgICogaW1wcm92aW5nIHRoZSBlZmZp\nY2llbmN5IG9mIFRDUC9JUCBuZXR3b3JrcyBieSByZWR1Y2luZyB0aGUgbnVt\nYmVyIG9mIHBhY2tldHMKICAgICAqIHRoYXQgbmVlZCB0byBiZSBzZW50IG92\nZXIgdGhlIG5ldHdvcmsuIElmIHlvdSBhcmUgc2VuZGluZyBtYW55IHNtYWxs\nIG1lc3NhZ2VzLAogICAgICogc3VjaCB0aGF0IG1vcmUgdGhhbiBvbmUgY2Fu\nIGZpdCBpbiBhIHNpbmdsZSBJUCBwYWNrZXQsIHNldHRpbmcgY2xpZW50LnRj\ncG5vZGVsYXkKICAgICAqIHRvIGZhbHNlIHRvIGVuYWJsZSBOYWdsZSBhbGdv\ncml0aG0gY2FuIHByb3ZpZGUgYmV0dGVyIHBlcmZvcm1hbmNlLgogICAgICog\nPGJyPgogICAgICogRGVmYXVsdCB2YWx1ZSBpcyB0cnVlLgogICAgICoKICAg\nICAqIEBwYXJhbSBub0RlbGF5CiAgICAgKiAgICAgICAgICBOb0RlbGF5IHNl\ndHRpbmcKICAgICAqIEByZXR1cm4gY2xpZW50IGNvbmZpZ3VyYXRpb24KICAg\nICAqLwogICAgcHVibGljIENsaWVudENvbmZpZ3VyYXRpb24gc2V0Q2xpZW50\nVGNwTm9EZWxheShib29sZWFuIG5vRGVsYXkpIHsKICAgICAgICBzZXRQcm9w\nZXJ0eShDTElFTlRfVENQX05PREVMQVksIEJvb2xlYW4udG9TdHJpbmcobm9E\nZWxheSkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgog\nICAgICogR2V0IG51bSBjaGFubmVscyBwZXIgYm9va2llLgogICAgICoKICAg\nICAqIEByZXR1cm4gbnVtIGNoYW5uZWxzIHBlciBib29raWUuCiAgICAgKi8K\nICAgIHB1YmxpYyBpbnQgZ2V0TnVtQ2hhbm5lbHNQZXJCb29raWUoKSB7CiAg\nICAgICAgcmV0dXJuIGdldEludChOVU1fQ0hBTk5FTFNfUEVSX0JPT0tJRSwg\nMSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgbnVtIGNoYW5uZWxzIHBl\nciBib29raWUuCiAgICAgKgogICAgICogQHBhcmFtIG51bUNoYW5uZWxzUGVy\nQm9va2llCiAgICAgKiAgICAgICAgICBudW0gY2hhbm5lbHMgcGVyIGJvb2tp\nZS4KICAgICAqIEByZXR1cm4gY2xpZW50IGNvbmZpZ3VyYXRpb24uCiAgICAg\nKi8KICAgIHB1YmxpYyBDbGllbnRDb25maWd1cmF0aW9uIHNldE51bUNoYW5u\nZWxzUGVyQm9va2llKGludCBudW1DaGFubmVsc1BlckJvb2tpZSkgewogICAg\nICAgIHNldFByb3BlcnR5KE5VTV9DSEFOTkVMU19QRVJfQk9PS0lFLCBudW1D\naGFubmVsc1BlckJvb2tpZSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBHZXQgem9va2VlcGVyIHNlcnZlcnMgdG8gY29u\nbmVjdAogICAgICoKICAgICAqIEByZXR1cm4gem9va2VlcGVyIHNlcnZlcnMK\nICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRaa1NlcnZlcnMoKSB7CiAg\nICAgICAgTGlzdCBzZXJ2ZXJzID0gZ2V0TGlzdChaS19TRVJWRVJTLCBudWxs\nKTsKICAgICAgICBpZiAobnVsbCA9PSBzZXJ2ZXJzIHx8IDAgPT0gc2VydmVy\ncy5zaXplKCkpIHsKICAgICAgICAgICAgcmV0dXJuICJsb2NhbGhvc3QiOwog\nICAgICAgIH0KICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuam9pbihzZXJ2\nZXJzLCAiLCIpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHpvb2tlZXBl\nciBzZXJ2ZXJzIHRvIGNvbm5lY3QKICAgICAqCiAgICAgKiBAcGFyYW0gemtT\nZXJ2ZXJzCiAgICAgKiAgICAgICAgICBab29LZWVwZXIgc2VydmVycyB0byBj\nb25uZWN0CiAgICAgKi8KICAgIHB1YmxpYyBDbGllbnRDb25maWd1cmF0aW9u\nIHNldFprU2VydmVycyhTdHJpbmcgemtTZXJ2ZXJzKSB7CiAgICAgICAgc2V0\nUHJvcGVydHkoWktfU0VSVkVSUywgemtTZXJ2ZXJzKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB6b29rZWVwZXIg\ndGltZW91dAogICAgICoKICAgICAqIEByZXR1cm4gem9va2VlcGVyIGNsaWVu\ndCB0aW1lb3V0CiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0WmtUaW1lb3V0\nKCkgewogICAgICAgIHJldHVybiBnZXRJbnQoWktfVElNRU9VVCwgMTAwMDAp\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHpvb2tlZXBlciB0aW1lb3V0\nCiAgICAgKgogICAgICogQHBhcmFtIHprVGltZW91dAogICAgICogICAgICAg\nICAgWm9vS2VlcGVyIGNsaWVudCB0aW1lb3V0CiAgICAgKiBAcmV0dXJuIGNs\naWVudCBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBDbGllbnRD\nb25maWd1cmF0aW9uIHNldFprVGltZW91dChpbnQgemtUaW1lb3V0KSB7CiAg\nICAgICAgc2V0UHJvcGVydHkoWktfVElNRU9VVCwgSW50ZWdlci50b1N0cmlu\nZyh6a1RpbWVvdXQpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAg\nICAvKioKICAgICAqIEdldCB0aGUgc29ja2V0IHJlYWQgdGltZW91dC4gVGhp\ncyBpcyB0aGUgbnVtYmVyIG9mCiAgICAgKiBzZWNvbmRzIHdlIHdhaXQgd2l0\naG91dCBoZWFyaW5nIGEgcmVzcG9uc2UgZnJvbSBhIGJvb2tpZQogICAgICog\nYmVmb3JlIHdlIGNvbnNpZGVyIGl0IGZhaWxlZC4KICAgICAqCiAgICAgKiBU\naGUgZGVmYXVsdCBpcyA1IHNlY29uZHMuCiAgICAgKgogICAgICogQHJldHVy\nbiB0aGUgY3VycmVudCByZWFkIHRpbWVvdXQgaW4gc2Vjb25kcwogICAgICog\nQGRlcHJlY2F0ZWQgdXNlIHtAbGluayAjZ2V0UmVhZEVudHJ5VGltZW91dCgp\nfSBvciB7QGxpbmsgI2dldEFkZEVudHJ5VGltZW91dCgpfSBpbnN0ZWFkCiAg\nICAgKi8KICAgIEBEZXByZWNhdGVkCiAgICBwdWJsaWMgaW50IGdldFJlYWRU\naW1lb3V0KCkgewogICAgICAgIHJldHVybiBnZXRJbnQoUkVBRF9USU1FT1VU\nLCA1KTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgc29ja2V0IHJl\nYWQgdGltZW91dC4KICAgICAqIEBzZWUgI2dldFJlYWRUaW1lb3V0KCkKICAg\nICAqIEBwYXJhbSB0aW1lb3V0IFRoZSBuZXcgcmVhZCB0aW1lb3V0IGluIHNl\nY29uZHMKICAgICAqIEByZXR1cm4gY2xpZW50IGNvbmZpZ3VyYXRpb24KICAg\nICAqIEBkZXByZWNhdGVkIHVzZSB7QGxpbmsgI3NldFJlYWRFbnRyeVRpbWVv\ndXQoaW50KX0gb3Ige0BsaW5rICNzZXRBZGRFbnRyeVRpbWVvdXQoaW50KX0g\naW5zdGVhZAogICAgICovCiAgICBARGVwcmVjYXRlZAogICAgcHVibGljIENs\naWVudENvbmZpZ3VyYXRpb24gc2V0UmVhZFRpbWVvdXQoaW50IHRpbWVvdXQp\nIHsKICAgICAgICBzZXRQcm9wZXJ0eShSRUFEX1RJTUVPVVQsIEludGVnZXIu\ndG9TdHJpbmcodGltZW91dCkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAg\nfQoKICAgIC8qKgogICAgICogR2V0IHRoZSB0aW1lb3V0IGZvciBhZGQgcmVx\ndWVzdC4gVGhpcyBpcyB0aGUgbnVtYmVyIG9mIHNlY29uZHMgd2Ugd2FpdCB3\naXRob3V0IGhlYXJpbmcKICAgICAqIGEgcmVzcG9uc2UgZm9yIGFkZCByZXF1\nZXN0IGZyb20gYSBib29raWUgYmVmb3JlIHdlIGNvbnNpZGVyIGl0IGZhaWxl\nZC4KICAgICAqCiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyA1IHNlY29u\nZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuCiAgICAgKgogICAgICog\nQHJldHVybiBhZGQgZW50cnkgdGltZW91dC4KICAgICAqLwogICAgQFN1cHBy\nZXNzV2FybmluZ3MoImRlcHJlY2F0aW9uIikKICAgIHB1YmxpYyBpbnQgZ2V0\nQWRkRW50cnlUaW1lb3V0KCkgewogICAgICAgIHJldHVybiBnZXRJbnQoQURE\nX0VOVFJZX1RJTUVPVVRfU0VDLCBnZXRSZWFkVGltZW91dCgpKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFNldCB0aW1lb3V0IGZvciBhZGQgZW50cnkgcmVx\ndWVzdC4KICAgICAqIEBzZWUgI2dldEFkZEVudHJ5VGltZW91dCgpCiAgICAg\nKgogICAgICogQHBhcmFtIHRpbWVvdXQKICAgICAqICAgICAgICAgIFRoZSBu\nZXcgYWRkIGVudHJ5IHRpbWVvdXQgaW4gc2Vjb25kcy4KICAgICAqIEByZXR1\ncm4gY2xpZW50IGNvbmZpZ3VyYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyBD\nbGllbnRDb25maWd1cmF0aW9uIHNldEFkZEVudHJ5VGltZW91dChpbnQgdGlt\nZW91dCkgewogICAgICAgIHNldFByb3BlcnR5KEFERF9FTlRSWV9USU1FT1VU\nX1NFQywgdGltZW91dCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBHZXQgdGhlIHRpbWVvdXQgZm9yIHJlYWQgZW50cnku\nIFRoaXMgaXMgdGhlIG51bWJlciBvZiBzZWNvbmRzIHdlIHdhaXQgd2l0aG91\ndCBoZWFyaW5nCiAgICAgKiBhIHJlc3BvbnNlIGZvciByZWFkIGVudHJ5IHJl\ncXVlc3QgZnJvbSBhIGJvb2tpZSBiZWZvcmUgd2UgY29uc2lkZXIgaXQgZmFp\nbGVkLiBCeSBkZWZhdWx0LAogICAgICogd2UgdXNlIHNvY2tldCB0aW1lb3V0\nIHNwZWNpZmllZCBhdCB7QGxpbmsgI2dldFJlYWRUaW1lb3V0KCl9LgogICAg\nICoKICAgICAqIEByZXR1cm4gcmVhZCBlbnRyeSB0aW1lb3V0LgogICAgICov\nCiAgICBAU3VwcHJlc3NXYXJuaW5ncygiZGVwcmVjYXRpb24iKQogICAgcHVi\nbGljIGludCBnZXRSZWFkRW50cnlUaW1lb3V0KCkgewogICAgICAgIHJldHVy\nbiBnZXRJbnQoUkVBRF9FTlRSWV9USU1FT1VUX1NFQywgZ2V0UmVhZFRpbWVv\ndXQoKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIHRpbWVvdXQg\nZm9yIHJlYWQgZW50cnkgcmVxdWVzdC4KICAgICAqIEBzZWUgI2dldFJlYWRF\nbnRyeVRpbWVvdXQoKQogICAgICoKICAgICAqIEBwYXJhbSB0aW1lb3V0CiAg\nICAgKiAgICAgICAgICBUaGUgbmV3IHJlYWQgZW50cnkgdGltZW91dCBpbiBz\nZWNvbmRzLgogICAgICogQHJldHVybiBjbGllbnQgY29uZmlndXJhdGlvbi4K\nICAgICAqLwogICAgcHVibGljIENsaWVudENvbmZpZ3VyYXRpb24gc2V0UmVh\nZEVudHJ5VGltZW91dChpbnQgdGltZW91dCkgewogICAgICAgIHNldFByb3Bl\ncnR5KFJFQURfRU5UUllfVElNRU9VVF9TRUMsIHRpbWVvdXQpOwogICAgICAg\nIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRoZSBp\nbnRlcnZhbCBiZXR3ZWVuIHN1Y2Nlc3NpdmUgZXhlY3V0aW9ucyBvZiB0aGUg\nUGVyQ2hhbm5lbEJvb2tpZUNsaWVudCdzCiAgICAgKiBUaW1lb3V0VGFzay4g\nVGhpcyB2YWx1ZSBpcyBpbiBtaWxsaXNlY29uZHMuIEV2ZXJ5IFggbWlsbGlz\nZWNvbmRzLCB0aGUgdGltZW91dCB0YXNrCiAgICAgKiB3aWxsIGJlIGV4ZWN1\ndGVkIGFuZCBpdCB3aWxsIGVycm9yIG91dCBlbnRyaWVzIHRoYXQgaGF2ZSB0\naW1lZCBvdXQuCiAgICAgKgogICAgICogV2UgZG8gaXQgbW9yZSBhZ2dyZXNz\naXZlIHRvIG5vdCBhY2N1bXVsYXRlIHBlbmRpbmcgcmVxdWVzdHMgZHVlIHRv\nIHNsb3cgcmVzcG9uc2VzLgogICAgICogQHJldHVybiB0aGUgaW50ZXJ2YWwg\nYXQgd2hpY2ggcmVxdWVzdCB0aW1lb3V0cyB3aWxsIGJlIGNoZWNrZWQKICAg\nICAqLwogICAgQERlcHJlY2F0ZWQKICAgIHB1YmxpYyBsb25nIGdldFRpbWVv\ndXRUYXNrSW50ZXJ2YWxNaWxsaXMoKSB7CiAgICAgICAgcmV0dXJuIGdldExv\nbmcoVElNRU9VVF9UQVNLX0lOVEVSVkFMX01JTExJUywKICAgICAgICAgICAg\nICAgIFRpbWVVbml0LlNFQ09ORFMudG9NaWxsaXMoTWF0aC5taW4oZ2V0QWRk\nRW50cnlUaW1lb3V0KCksIGdldFJlYWRFbnRyeVRpbWVvdXQoKSkpIC8gMik7\nCiAgICB9CgogICAgQERlcHJlY2F0ZWQKICAgIHB1YmxpYyBDbGllbnRDb25m\naWd1cmF0aW9uIHNldFRpbWVvdXRUYXNrSW50ZXJ2YWxNaWxsaXMobG9uZyB0\naW1lb3V0TWlsbGlzKSB7CiAgICAgICAgc2V0UHJvcGVydHkoVElNRU9VVF9U\nQVNLX0lOVEVSVkFMX01JTExJUywgTG9uZy50b1N0cmluZyh0aW1lb3V0TWls\nbGlzKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBHZXQgdGhlIHRpY2sgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzIHRo\nYXQgdXNlZCBmb3IgdGhlCiAgICAgKiB7QGxpbmsgb3JnLmpib3NzLm5ldHR5\nLnV0aWwuSGFzaGVkV2hlZWxUaW1lcn0gdGhhdCB1c2VkIGJ5IFBDQkMgdG8g\ndGltZW91dAogICAgICogcmVxdWVzdHMuCiAgICAgKgogICAgICogQHNlZSBv\ncmcuamJvc3MubmV0dHkudXRpbC5IYXNoZWRXaGVlbFRpbWVyCiAgICAgKgog\nICAgICogQHJldHVybiB0aWNrIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcwog\nICAgICovCiAgICBwdWJsaWMgbG9uZyBnZXRQQ0JDVGltZW91dFRpbWVyVGlj\na0R1cmF0aW9uTXMoKSB7CiAgICAgICAgcmV0dXJuIGdldExvbmcoUENCQ19U\nSU1FT1VUX1RJTUVSX1RJQ0tfRFVSQVRJT05fTVMsIDEwMCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgdGhlIHRpY2sgZHVyYXRpb24gaW4gbWlsbGlz\nZWNvbmRzIHRoYXQgdXNlZCBmb3IKICAgICAqIHtAbGluayBvcmcuamJvc3Mu\nbmV0dHkudXRpbC5IYXNoZWRXaGVlbFRpbWVyfSB0aGF0IHVzZWQgYnkgUENC\nQyB0byB0aW1lb3V0CiAgICAgKiByZXF1ZXN0cy4gQmUgYXdhcmUgb2Yge0Bs\naW5rIG9yZy5qYm9zcy5uZXR0eS51dGlsLkhhc2hlZFdoZWVsVGltZXJ9IGlm\nIHlvdQogICAgICogYXJlIGdvaW5nIHRvIG1vZGlmeSB0aGlzIHNldHRpbmcu\nCiAgICAgKgogICAgICogQHNlZSAjZ2V0UENCQ1RpbWVvdXRUaW1lclRpY2tE\ndXJhdGlvbk1zKCkKICAgICAqCiAgICAgKiBAcGFyYW0gdGlja0R1cmF0aW9u\nCiAgICAgKiAgICAgICAgICB0aWNrIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25k\ncy4KICAgICAqIEByZXR1cm4gY2xpZW50IGNvbmZpZ3VyYXRpb24uCiAgICAg\nKi8KICAgIHB1YmxpYyBDbGllbnRDb25maWd1cmF0aW9uIHNldFBDQkNUaW1l\nb3V0VGltZXJUaWNrRHVyYXRpb25Ncyhsb25nIHRpY2tEdXJhdGlvbikgewog\nICAgICAgIHNldFByb3BlcnR5KFBDQkNfVElNRU9VVF9USU1FUl9USUNLX0RV\nUkFUSU9OX01TLCB0aWNrRHVyYXRpb24pOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IG51bWJlciBvZiB0aWNrcyB0\naGF0IHVzZWQgZm9yCiAgICAgKiB7QGxpbmsgb3JnLmpib3NzLm5ldHR5LnV0\naWwuSGFzaGVkV2hlZWxUaW1lcn0gdGhhdCB1c2VkIGJ5IFBDQkMgdG8gdGlt\nZW91dAogICAgICogcmVxdWVzdHMuCiAgICAgKgogICAgICogQHNlZSBvcmcu\namJvc3MubmV0dHkudXRpbC5IYXNoZWRXaGVlbFRpbWVyCiAgICAgKgogICAg\nICogQHJldHVybiBudW1iZXIgb2YgdGlja3MgdGhhdCB1c2VkIGZvciB0aW1l\nb3V0IHRpbWVyLgogICAgICovCiAgICBwdWJsaWMgaW50IGdldFBDQkNUaW1l\nb3V0VGltZXJOdW1UaWNrcygpIHsKICAgICAgICByZXR1cm4gZ2V0SW50KFBD\nQkNfVElNRU9VVF9USU1FUl9OVU1fVElDS1MsIDEwMjQpOwogICAgfQoKICAg\nIC8qKgogICAgICogU2V0IG51bWJlciBvZiB0aWNrcyB0aGF0IHVzZWQgZm9y\nCiAgICAgKiB7QGxpbmsgb3JnLmpib3NzLm5ldHR5LnV0aWwuSGFzaGVkV2hl\nZWxUaW1lcn0gdGhhdCB1c2VkIGJ5IFBDQkMgdG8gdGltZW91dCByZXF1ZXN0\nLgogICAgICogQmUgYXdhcmUgb2Yge0BsaW5rIG9yZy5qYm9zcy5uZXR0eS51\ndGlsLkhhc2hlZFdoZWVsVGltZXJ9IGlmIHlvdSBhcmUgZ29pbmcgdG8gbW9k\naWZ5CiAgICAgKiB0aGlzIHNldHRpbmcuCiAgICAgKgogICAgICogQHNlZSAj\nZ2V0UENCQ1RpbWVvdXRUaW1lck51bVRpY2tzKCkKICAgICAqCiAgICAgKiBA\ncGFyYW0gbnVtVGlja3MKICAgICAqICAgICAgICAgIG51bWJlciBvZiB0aWNr\ncyB0aGF0IHVzZWQgZm9yIHRpbWVvdXQgdGltZXIuCiAgICAgKiBAcmV0dXJu\nIGNsaWVudCBjb25maWd1cmF0aW9uLgogICAgICovCiAgICBwdWJsaWMgQ2xp\nZW50Q29uZmlndXJhdGlvbiBzZXRQQ0JDVGltZW91dFRpbWVyTnVtVGlja3Mo\naW50IG51bVRpY2tzKSB7CiAgICAgICAgc2V0UHJvcGVydHkoUENCQ19USU1F\nT1VUX1RJTUVSX05VTV9USUNLUywgbnVtVGlja3MpOwogICAgICAgIHJldHVy\nbiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRoZSBudW1iZXIg\nb2Ygd29ya2VyIHRocmVhZHMuIFRoaXMgaXMgdGhlIG51bWJlciBvZgogICAg\nICogd29ya2VyIHRocmVhZHMgdXNlZCBieSBib29ra2VlcGVyIGNsaWVudCB0\nbyBzdWJtaXQgb3BlcmF0aW9ucy4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRo\nZSBudW1iZXIgb2Ygd29ya2VyIHRocmVhZHMKICAgICAqLwogICAgcHVibGlj\nIGludCBnZXROdW1Xb3JrZXJUaHJlYWRzKCkgewogICAgICAgIHJldHVybiBn\nZXRJbnQoTlVNX1dPUktFUl9USFJFQURTLCBSdW50aW1lLmdldFJ1bnRpbWUo\nKS5hdmFpbGFibGVQcm9jZXNzb3JzKCkpOwogICAgfQoKICAgIC8qKgogICAg\nICogU2V0IHRoZSBudW1iZXIgb2Ygd29ya2VyIHRocmVhZHMuCiAgICAgKgog\nICAgICogPHA+CiAgICAgKiBOT1RFOiBzZXR0aW5nIHRoZSBudW1iZXIgb2Yg\nd29ya2VyIHRocmVhZHMgYWZ0ZXIgQm9va0tlZXBlciBvYmplY3QgaXMgY29u\nc3RydWN0ZWQKICAgICAqIHdpbGwgbm90IHRha2UgYW55IGVmZmVjdCBvbiB0\naGUgbnVtYmVyIG9mIHRocmVhZHMgaW4gdGhlIHBvb2wuCiAgICAgKiA8L3A+\nCiAgICAgKgogICAgICogQHNlZSAjZ2V0TnVtV29ya2VyVGhyZWFkcygpCiAg\nICAgKiBAcGFyYW0gbnVtVGhyZWFkcyBudW1iZXIgb2Ygd29ya2VyIHRocmVh\nZHMgdXNlZCBmb3IgYm9va2tlZXBlcgogICAgICogQHJldHVybiBjbGllbnQg\nY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgQ2xpZW50Q29uZmln\ndXJhdGlvbiBzZXROdW1Xb3JrZXJUaHJlYWRzKGludCBudW1UaHJlYWRzKSB7\nCiAgICAgICAgc2V0UHJvcGVydHkoTlVNX1dPUktFUl9USFJFQURTLCBudW1U\naHJlYWRzKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioK\nICAgICAqIEdldCB0aGUgcGVyaW9kIG9mIHRpbWUgYWZ0ZXIgd2hpY2ggYSBz\ncGVjdWxhdGl2ZSBlbnRyeSByZWFkIHNob3VsZCBiZSB0cmlnZ2VyZWQuCiAg\nICAgKiBBIHNwZWN1bGF0aXZlIGVudHJ5IHJlYWQgaXMgc2VudCB0byB0aGUg\nbmV4dCByZXBsaWNhIGJvb2tpZSBiZWZvcmUKICAgICAqIGFuIGVycm9yIG9y\nIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkIGZvciB0aGUgcHJldmlvdXMg\nZW50cnkgcmVhZCByZXF1ZXN0LgogICAgICoKICAgICAqIEEgc3BlY3VsYXRp\ndmUgZW50cnkgcmVhZCBpcyBvbmx5IHNlbnQgaWYgd2UgaGF2ZSBub3QgaGVh\ncmQgZnJvbSB0aGUgY3VycmVudAogICAgICogcmVwbGljYSBib29raWUgZHVy\naW5nIHRoZSBlbnRpcmUgcmVhZCBvcGVyYXRpb24gd2hpY2ggbWF5IGNvbXBy\naXNlIG9mIG1hbnkgZW50cmllcy4KICAgICAqCiAgICAgKiBTcGVjdWxhdGl2\nZSByZWFkcyBhbGxvdyB0aGUgY2xpZW50IHRvIGF2b2lkIGhhdmluZyB0byB3\nYWl0IGZvciB0aGUgY29ubmVjdCB0aW1lb3V0CiAgICAgKiBpbiB0aGUgY2Fz\nZSB0aGF0IGEgYm9va2llIGhhcyBmYWlsZWQuIEl0IGluZHVjZXMgaGlnaGVy\nIGxvYWQgb24gdGhlIG5ldHdvcmsgYW5kIG9uCiAgICAgKiBib29raWVzLiBU\naGlzIHNob3VsZCBiZSB0YWtlbiBpbnRvIGFjY291bnQgYmVmb3JlIGNoYW5n\naW5nIHRoaXMgY29uZmlndXJhdGlvbiB2YWx1ZS4KICAgICAqCiAgICAgKiBA\nc2VlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuTGVkZ2VySGFuZGxl\nI2FzeW5jUmVhZEVudHJpZXMKICAgICAqIEByZXR1cm4gdGhlIHNwZWN1bGF0\naXZlIHJlYWQgdGltZW91dCBpbiBtaWxsaXNlY29uZHMuIERlZmF1bHQgMjAw\nMC4KICAgICAqLwogICAgcHVibGljIGludCBnZXRTcGVjdWxhdGl2ZVJlYWRU\naW1lb3V0KCkgewogICAgICAgIHJldHVybiBnZXRJbnQoU1BFQ1VMQVRJVkVf\nUkVBRF9USU1FT1VULCAyMDAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ndCB0aGUgc3BlY3VsYXRpdmUgcmVhZCB0aW1lb3V0LiBBIGxvd2VyIHRpbWVv\ndXQgd2lsbCByZWR1Y2UgcmVhZCBsYXRlbmN5IGluIHRoZQogICAgICogY2Fz\nZSBvZiBhIGZhaWxlZCBib29raWUsIHdoaWxlIGluY3JlYXNpbmcgdGhlIGxv\nYWQgb24gYm9va2llcyBhbmQgdGhlIG5ldHdvcmsuCiAgICAgKgogICAgICog\nVGhlIGRlZmF1bHQgaXMgMjAwMCBtaWxsaXNlY29uZHMuIEEgdmFsdWUgb2Yg\nMCB3aWxsIGRpc2FibGUgc3BlY3VsYXRpdmUgcmVhZHMKICAgICAqIGNvbXBs\nZXRlbHkuCiAgICAgKgogICAgICogQHNlZSAjZ2V0U3BlY3VsYXRpdmVSZWFk\nVGltZW91dCgpCiAgICAgKiBAcGFyYW0gdGltZW91dCB0aGUgdGltZW91dCB2\nYWx1ZSwgaW4gbWlsbGlzZWNvbmRzCiAgICAgKiBAcmV0dXJuIGNsaWVudCBj\nb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBDbGllbnRDb25maWd1\ncmF0aW9uIHNldFNwZWN1bGF0aXZlUmVhZFRpbWVvdXQoaW50IHRpbWVvdXQp\nIHsKICAgICAgICBzZXRQcm9wZXJ0eShTUEVDVUxBVElWRV9SRUFEX1RJTUVP\nVVQsIHRpbWVvdXQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAg\nIC8qKgogICAgICogR2V0IEVuc2VtYmxlIFBsYWNlbWVudCBQb2xpY3kgQ2xh\nc3MuCiAgICAgKgogICAgICogQHJldHVybiBlbnNlbWJsZSBwbGFjZW1lbnQg\ncG9saWN5IGNsYXNzLgogICAgICovCiAgICBwdWJsaWMgQ2xhc3M8PyBleHRl\nbmRzIEVuc2VtYmxlUGxhY2VtZW50UG9saWN5PiBnZXRFbnNlbWJsZVBsYWNl\nbWVudFBvbGljeSgpCiAgICAgICAgdGhyb3dzIENvbmZpZ3VyYXRpb25FeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBSZWZsZWN0aW9uVXRpbHMuZ2V0Q2xh\nc3ModGhpcywgRU5TRU1CTEVfUExBQ0VNRU5UX1BPTElDWSwKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJhY2thd2FyZUVuc2Vt\nYmxlUGxhY2VtZW50UG9saWN5LmNsYXNzLAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgRW5zZW1ibGVQbGFjZW1lbnRQb2xpY3ku\nY2xhc3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICBkZWZhdWx0TG9hZGVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBF\nbnNlbWJsZSBQbGFjZW1lbnQgUG9saWN5IENsYXNzLgogICAgICoKICAgICAq\nIEBwYXJhbSBwb2xpY3lDbGFzcwogICAgICogICAgICAgICAgRW5zZW1ibGUg\nUGxhY2VtZW50IFBvbGljeSBDbGFzcy4KICAgICAqLwogICAgcHVibGljIENs\naWVudENvbmZpZ3VyYXRpb24gc2V0RW5zZW1ibGVQbGFjZW1lbnRQb2xpY3ko\nQ2xhc3M8PyBleHRlbmRzIEVuc2VtYmxlUGxhY2VtZW50UG9saWN5PiBwb2xp\nY3lDbGFzcykgewogICAgICAgIHNldFByb3BlcnR5KEVOU0VNQkxFX1BMQUNF\nTUVOVF9QT0xJQ1ksIHBvbGljeUNsYXNzLmdldE5hbWUoKSk7CiAgICAgICAg\ncmV0dXJuIHRoaXM7CiAgICB9Cn0K\n","encoding":"base64"}

