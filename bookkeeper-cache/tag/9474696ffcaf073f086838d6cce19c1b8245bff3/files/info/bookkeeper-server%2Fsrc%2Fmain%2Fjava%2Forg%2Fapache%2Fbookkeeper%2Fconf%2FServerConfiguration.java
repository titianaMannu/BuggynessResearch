{"sha":"03b3be49ba96fad8f6065af8e670aad7cf15aa37","node_id":"MDQ6QmxvYjE1NzU5NTY6MDNiM2JlNDliYTk2ZmFkOGY2MDY1YWY4ZTY3MGFhZDdjZjE1YWEzNw==","size":43589,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/03b3be49ba96fad8f6065af8e670aad7cf15aa37","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZjsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBjb20u\nZ29vZ2xlLmNvbW1vbi5hbm5vdGF0aW9ucy5CZXRhOwppbXBvcnQgb3JnLmFw\nYWNoZS5ib29ra2VlcGVyLnN0YXRzLk51bGxTdGF0c1Byb3ZpZGVyOwppbXBv\ncnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnN0YXRzLlN0YXRzUHJvdmlkZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbC5SZWZsZWN0aW9u\nVXRpbHM7CmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMuY29uZmlndXJhdGlv\nbi5Db25maWd1cmF0aW9uRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5j\nb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7CgovKioKICogQ29uZmlndXJhdGlv\nbiBtYW5hZ2VzIHNlcnZlci1zaWRlIHNldHRpbmdzCiAqLwpwdWJsaWMgY2xh\nc3MgU2VydmVyQ29uZmlndXJhdGlvbiBleHRlbmRzIEFic3RyYWN0Q29uZmln\ndXJhdGlvbiB7CiAgICAvLyBFbnRyeSBMb2cgUGFyYW1ldGVycwogICAgcHJv\ndGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgRU5UUllfTE9HX1NJWkVfTElN\nSVQgPSAibG9nU2l6ZUxpbWl0IjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0\naWMgU3RyaW5nIEVOVFJZX0xPR19GSUxFX1BSRUFMTE9DQVRJT05fRU5BQkxF\nRCA9ICJlbnRyeUxvZ0ZpbGVQcmVhbGxvY2F0aW9uRW5hYmxlZCI7CiAgICBw\ncm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBNSU5PUl9DT01QQUNUSU9O\nX0lOVEVSVkFMID0gIm1pbm9yQ29tcGFjdGlvbkludGVydmFsIjsKICAgIHBy\nb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIE1JTk9SX0NPTVBBQ1RJT05f\nVEhSRVNIT0xEID0gIm1pbm9yQ29tcGFjdGlvblRocmVzaG9sZCI7CiAgICBw\ncm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBNQUpPUl9DT01QQUNUSU9O\nX0lOVEVSVkFMID0gIm1ham9yQ29tcGFjdGlvbkludGVydmFsIjsKICAgIHBy\nb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIE1BSk9SX0NPTVBBQ1RJT05f\nVEhSRVNIT0xEID0gIm1ham9yQ29tcGFjdGlvblRocmVzaG9sZCI7CiAgICBw\ncm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBDT01QQUNUSU9OX01BWF9P\nVVRTVEFORElOR19SRVFVRVNUUwogICAgICAgID0gImNvbXBhY3Rpb25NYXhP\ndXRzdGFuZGluZ1JlcXVlc3RzIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0\naWMgU3RyaW5nIENPTVBBQ1RJT05fUkFURSA9ICJjb21wYWN0aW9uUmF0ZSI7\nCgogICAgLy8gR2MgUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZpbmFsIHN0\nYXRpYyBTdHJpbmcgR0NfV0FJVF9USU1FID0gImdjV2FpdFRpbWUiOwogICAg\nLy8gU3luYyBQYXJhbWV0ZXJzCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGlj\nIFN0cmluZyBGTFVTSF9JTlRFUlZBTCA9ICJmbHVzaEludGVydmFsIjsKICAg\nIC8vIEJvb2tpZSBkZWF0aCB3YXRjaCBpbnRlcnZhbAogICAgcHJvdGVjdGVk\nIGZpbmFsIHN0YXRpYyBTdHJpbmcgREVBVEhfV0FUQ0hfSU5URVJWQUwgPSAi\nYm9va2llRGVhdGhXYXRjaEludGVydmFsIjsKICAgIC8vIExlZGdlciBDYWNo\nZSBQYXJhbWV0ZXJzCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmlu\nZyBPUEVOX0ZJTEVfTElNSVQgPSAib3BlbkZpbGVMaW1pdCI7CiAgICBwcm90\nZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBQQUdFX0xJTUlUID0gInBhZ2VM\naW1pdCI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBQQUdF\nX1NJWkUgPSAicGFnZVNpemUiOwogICAgLy8gSm91cm5hbCBQYXJhbWV0ZXJz\nCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBNQVhfSk9VUk5B\nTF9TSVpFID0gImpvdXJuYWxNYXhTaXplTUIiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUFYX0JBQ0tVUF9KT1VSTkFMUyA9ICJqb3Vy\nbmFsTWF4QmFja3VwcyI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0\ncmluZyBKT1VSTkFMX0FEQVBUSVZFX0dST1VQX1dSSVRFUyA9ICJqb3VybmFs\nQWRhcHRpdmVHcm91cFdyaXRlcyI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3Rh\ndGljIFN0cmluZyBKT1VSTkFMX01BWF9HUk9VUF9XQUlUX01TRUMgPSAiam91\ncm5hbE1heEdyb3VwV2FpdE1TZWMiOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0\nYXRpYyBTdHJpbmcgSk9VUk5BTF9CVUZGRVJFRF9XUklURVNfVEhSRVNIT0xE\nID0gImpvdXJuYWxCdWZmZXJlZFdyaXRlc1RocmVzaG9sZCI7CiAgICBwcm90\nZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBKT1VSTkFMX0JVRkZFUkVEX0VO\nVFJJRVNfVEhSRVNIT0xEID0gImpvdXJuYWxCdWZmZXJlZEVudHJpZXNUaHJl\nc2hvbGQiOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgSk9V\nUk5BTF9GTFVTSF9XSEVOX1FVRVVFX0VNUFRZID0gImpvdXJuYWxGbHVzaFdo\nZW5RdWV1ZUVtcHR5IjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3Ry\naW5nIEpPVVJOQUxfUkVNT1ZFX0ZST01fUEFHRV9DQUNIRSA9ICJqb3VybmFs\nUmVtb3ZlRnJvbVBhZ2VDYWNoZSI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3Rh\ndGljIFN0cmluZyBKT1VSTkFMX1BSRV9BTExPQ19TSVpFID0gImpvdXJuYWxQ\ncmVBbGxvY1NpemVNQiI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0\ncmluZyBKT1VSTkFMX1dSSVRFX0JVRkZFUl9TSVpFID0gImpvdXJuYWxXcml0\nZUJ1ZmZlclNpemVLQiI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0\ncmluZyBKT1VSTkFMX0FMSUdOTUVOVF9TSVpFID0gImpvdXJuYWxBbGlnbm1l\nbnRTaXplIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIE5V\nTV9KT1VSTkFMX0NBTExCQUNLX1RIUkVBRFMgPSAibnVtSm91cm5hbENhbGxi\nYWNrVGhyZWFkcyI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmlu\nZyBKT1VSTkFMX0ZPUk1BVF9WRVJTSU9OX1RPX1dSSVRFID0gImpvdXJuYWxG\nb3JtYXRWZXJzaW9uVG9Xcml0ZSI7CiAgICAvLyBCb29raWUgUGFyYW1ldGVy\ncwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgQk9PS0lFX1BP\nUlQgPSAiYm9va2llUG9ydCI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGlj\nIFN0cmluZyBMSVNURU5JTkdfSU5URVJGQUNFID0gImxpc3RlbmluZ0ludGVy\nZmFjZSI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBBTExP\nV19MT09QQkFDSyA9ICJhbGxvd0xvb3BiYWNrIjsKCiAgICBwcm90ZWN0ZWQg\nZmluYWwgc3RhdGljIFN0cmluZyBKT1VSTkFMX0RJUiA9ICJqb3VybmFsRGly\nZWN0b3J5IjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIExF\nREdFUl9ESVJTID0gImxlZGdlckRpcmVjdG9yaWVzIjsKICAgIHByb3RlY3Rl\nZCBmaW5hbCBzdGF0aWMgU3RyaW5nIElOREVYX0RJUlMgPSAiaW5kZXhEaXJl\nY3RvcmllcyI7CiAgICAvLyBOSU8gUGFyYW1ldGVycwogICAgcHJvdGVjdGVk\nIGZpbmFsIHN0YXRpYyBTdHJpbmcgU0VSVkVSX1RDUF9OT0RFTEFZID0gInNl\ncnZlclRjcE5vRGVsYXkiOwogICAgLy8gWm9va2VlcGVyIFBhcmFtZXRlcnMK\nICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFpLX1RJTUVPVVQg\nPSAiemtUaW1lb3V0IjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3Ry\naW5nIFpLX1NFUlZFUlMgPSAiemtTZXJ2ZXJzIjsKICAgIHByb3RlY3RlZCBm\naW5hbCBzdGF0aWMgU3RyaW5nIE9QRU5fTEVER0VSX1JFUkVQTElDQVRJT05f\nR1JBQ0VfUEVSSU9EID0gIm9wZW5MZWRnZXJSZXJlcGxpY2F0aW9uR3JhY2VQ\nZXJpb2QiOwogICAgLy9SZWFkT25seSBtb2RlIHN1cHBvcnQgb24gYWxsIGRp\nc2sgZnVsbAogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgUkVB\nRF9PTkxZX01PREVfRU5BQkxFRCA9ICJyZWFkT25seU1vZGVFbmFibGVkIjsK\nICAgIC8vRGlzayB1dGlsaXphdGlvbgogICAgcHJvdGVjdGVkIGZpbmFsIHN0\nYXRpYyBTdHJpbmcgRElTS19VU0FHRV9USFJFU0hPTEQgPSAiZGlza1VzYWdl\nVGhyZXNob2xkIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5n\nIERJU0tfVVNBR0VfV0FSTl9USFJFU0hPTEQgPSAiZGlza1VzYWdlV2FyblRo\ncmVzaG9sZCI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBE\nSVNLX0NIRUNLX0lOVEVSVkFMID0gImRpc2tDaGVja0ludGVydmFsIjsKICAg\nIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIEFVRElUT1JfUEVSSU9E\nSUNfQ0hFQ0tfSU5URVJWQUwgPSAiYXVkaXRvclBlcmlvZGljQ2hlY2tJbnRl\ncnZhbCI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBBVURJ\nVE9SX1BFUklPRElDX0JPT0tJRV9DSEVDS19JTlRFUlZBTCA9ICJhdWRpdG9y\nUGVyaW9kaWNCb29raWVDaGVja0ludGVydmFsIjsKICAgIHByb3RlY3RlZCBm\naW5hbCBzdGF0aWMgU3RyaW5nIEFVVE9fUkVDT1ZFUllfREFFTU9OX0VOQUJM\nRUQgPSAiYXV0b1JlY292ZXJ5RGFlbW9uRW5hYmxlZCI7CgogICAgLy8gV29y\na2VyIFRocmVhZCBwYXJhbWV0ZXJzLgogICAgcHJvdGVjdGVkIGZpbmFsIHN0\nYXRpYyBTdHJpbmcgTlVNX0FERF9XT1JLRVJfVEhSRUFEUyA9ICJudW1BZGRX\nb3JrZXJUaHJlYWRzIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3Ry\naW5nIE5VTV9SRUFEX1dPUktFUl9USFJFQURTID0gIm51bVJlYWRXb3JrZXJU\naHJlYWRzIjsKCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBS\nRUFEX0JVRkZFUl9TSVpFID0gInJlYWRCdWZmZXJTaXplQnl0ZXMiOwogICAg\ncHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgV1JJVEVfQlVGRkVSX1NJ\nWkUgPSAid3JpdGVCdWZmZXJTaXplQnl0ZXMiOwogICAgLy8gV2hldGhlciB0\naGUgYm9va2llIHNob3VsZCB1c2UgaXRzIGhvc3RuYW1lIG9yIGlwYWRkcmVz\ncyBmb3IgdGhlCiAgICAvLyByZWdpc3RyYXRpb24uCiAgICBwcm90ZWN0ZWQg\nZmluYWwgc3RhdGljIFN0cmluZyBVU0VfSE9TVF9OQU1FX0FTX0JPT0tJRV9J\nRCA9ICJ1c2VIb3N0TmFtZUFzQm9va2llSUQiOwoKICAgIHByb3RlY3RlZCBm\naW5hbCBzdGF0aWMgU3RyaW5nIFNPUlRFRF9MRURHRVJfU1RPUkFHRV9FTkFC\nTEVEID0gInNvcnRlZExlZGdlclN0b3JhZ2VFbmFibGVkIjsKICAgIHByb3Rl\nY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFNLSVBfTElTVF9TSVpFX0xJTUlU\nID0gInNraXBMaXN0U2l6ZUxpbWl0IjsKICAgIHByb3RlY3RlZCBmaW5hbCBz\ndGF0aWMgU3RyaW5nIFNLSVBfTElTVF9DSFVOS19TSVpFX0VOVFJZID0gInNr\naXBMaXN0QXJlbmFDaHVua1NpemUiOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0\nYXRpYyBTdHJpbmcgU0tJUF9MSVNUX01BWF9BTExPQ19FTlRSWSA9ICJza2lw\nTGlzdEFyZW5hTWF4QWxsb2NTaXplIjsKCiAgICAvLyBTdGF0aXN0aWNzIFBh\ncmFtZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIEVO\nQUJMRV9TVEFUSVNUSUNTID0gImVuYWJsZVN0YXRpc3RpY3MiOwogICAgcHJv\ndGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgU1RBVFNfUFJPVklERVJfQ0xB\nU1MgPSAic3RhdHNQcm92aWRlckNsYXNzIjsKCiAgICAvKioKICAgICAqIENv\nbnN0cnVjdCBhIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvYmplY3QKICAgICAq\nLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24oKSB7CiAgICAgICAg\nc3VwZXIoKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdCBhIGNv\nbmZpZ3VyYXRpb24gYmFzZWQgb24gb3RoZXIgY29uZmlndXJhdGlvbgogICAg\nICoKICAgICAqIEBwYXJhbSBjb25mCiAgICAgKiAgICAgICAgICBPdGhlciBj\nb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1\ncmF0aW9uKEFic3RyYWN0Q29uZmlndXJhdGlvbiBjb25mKSB7CiAgICAgICAg\nc3VwZXIoKTsKICAgICAgICBsb2FkQ29uZihjb25mKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIEdldCBlbnRyeSBsb2dnZXIgc2l6ZSBsaW1pdGF0aW9uCiAg\nICAgKgogICAgICogQHJldHVybiBlbnRyeSBsb2dnZXIgc2l6ZSBsaW1pdGF0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBsb25nIGdldEVudHJ5TG9nU2l6ZUxp\nbWl0KCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExvbmcoRU5UUllfTE9H\nX1NJWkVfTElNSVQsIDIgKiAxMDI0ICogMTAyNCAqIDEwMjRMKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFNldCBlbnRyeSBsb2dnZXIgc2l6ZSBsaW1pdGF0\naW9uCiAgICAgKgogICAgICogQHBhcmFtIGxvZ1NpemVMaW1pdAogICAgICog\nICAgICAgICAgbmV3IGxvZyBzaXplIGxpbWl0YXRpb24KICAgICAqLwogICAg\ncHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0RW50cnlMb2dTaXplTGlt\naXQobG9uZyBsb2dTaXplTGltaXQpIHsKICAgICAgICB0aGlzLnNldFByb3Bl\ncnR5KEVOVFJZX0xPR19TSVpFX0xJTUlULCBMb25nLnRvU3RyaW5nKGxvZ1Np\nemVMaW1pdCkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8q\nKgogICAgICogSXMgZW50cnkgbG9nIGZpbGUgcHJlYWxsb2NhdGlvbiBlbmFi\nbGVkLgogICAgICoKICAgICAqIEByZXR1cm4gd2hldGhlciBlbnRyeSBsb2cg\nZmlsZSBwcmVhbGxvY2F0aW9uIGlzIGVuYWJsZWQgb3Igbm90LgogICAgICov\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc0VudHJ5TG9nRmlsZVByZUFsbG9jYXRp\nb25FbmFibGVkKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEJvb2xlYW4o\nRU5UUllfTE9HX0ZJTEVfUFJFQUxMT0NBVElPTl9FTkFCTEVELCB0cnVlKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIEVuYWJsZS9kaXNhYmxlIGVudHJ5IGxv\nZyBmaWxlIHByZWFsbG9jYXRpb24uCiAgICAgKgogICAgICogQHBhcmFtIGVu\nYWJsZWQKICAgICAqICAgICAgICAgIGVuYWJsZS9kaXNhYmxlIGVudHJ5IGxv\nZyBmaWxlIHByZWFsbG9jYXRpb24uCiAgICAgKiBAcmV0dXJuIHNlcnZlciBj\nb25maWd1cmF0aW9uIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIFNlcnZl\nckNvbmZpZ3VyYXRpb24gc2V0RW50cnlMb2dGaWxlUHJlQWxsb2NhdGlvbkVu\nYWJsZWQoYm9vbGVhbiBlbmFibGVkKSB7CiAgICAgICAgdGhpcy5zZXRQcm9w\nZXJ0eShFTlRSWV9MT0dfRklMRV9QUkVBTExPQ0FUSU9OX0VOQUJMRUQsIGVu\nYWJsZWQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgog\nICAgICogR2V0IEdhcmJhZ2UgY29sbGVjdGlvbiB3YWl0IHRpbWUKICAgICAq\nCiAgICAgKiBAcmV0dXJuIGdjIHdhaXQgdGltZQogICAgICovCiAgICBwdWJs\naWMgbG9uZyBnZXRHY1dhaXRUaW1lKCkgewogICAgICAgIHJldHVybiB0aGlz\nLmdldExvbmcoR0NfV0FJVF9USU1FLCAxMDAwKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFNldCBnYXJiYWdlIGNvbGxlY3Rpb24gd2FpdCB0aW1lCiAgICAg\nKgogICAgICogQHBhcmFtIGdjV2FpdFRpbWUKICAgICAqICAgICAgICAgIGdj\nIHdhaXQgdGltZQogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlv\nbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRH\nY1dhaXRUaW1lKGxvbmcgZ2NXYWl0VGltZSkgewogICAgICAgIHRoaXMuc2V0\nUHJvcGVydHkoR0NfV0FJVF9USU1FLCBMb25nLnRvU3RyaW5nKGdjV2FpdFRp\nbWUpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAg\nICAqIEdldCBmbHVzaCBpbnRlcnZhbAogICAgICoKICAgICAqIEByZXR1cm4g\nZmx1c2ggaW50ZXJ2YWwKICAgICAqLwogICAgcHVibGljIGludCBnZXRGbHVz\naEludGVydmFsKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEludChGTFVT\nSF9JTlRFUlZBTCwgMTAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBm\nbHVzaCBpbnRlcnZhbAogICAgICoKICAgICAqIEBwYXJhbSBmbHVzaEludGVy\ndmFsCiAgICAgKiAgICAgICAgICBGbHVzaCBJbnRlcnZhbAogICAgICogQHJl\ndHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMg\nU2VydmVyQ29uZmlndXJhdGlvbiBzZXRGbHVzaEludGVydmFsKGludCBmbHVz\naEludGVydmFsKSB7CiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShGTFVTSF9J\nTlRFUlZBTCwgSW50ZWdlci50b1N0cmluZyhmbHVzaEludGVydmFsKSk7CiAg\nICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQg\nYm9va2llIGRlYXRoIHdhdGNoIGludGVydmFsCiAgICAgKgogICAgICogQHJl\ndHVybiB3YXRjaCBpbnRlcnZhbAogICAgICovCiAgICBwdWJsaWMgaW50IGdl\ndERlYXRoV2F0Y2hJbnRlcnZhbCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5n\nZXRJbnQoREVBVEhfV0FUQ0hfSU5URVJWQUwsIDEwMDApOwogICAgfQoKICAg\nIC8qKgogICAgICogR2V0IG9wZW4gZmlsZSBsaW1pdAogICAgICoKICAgICAq\nIEByZXR1cm4gbWF4IG51bWJlciBvZiBmaWxlcyB0byBvcGVuCiAgICAgKi8K\nICAgIHB1YmxpYyBpbnQgZ2V0T3BlbkZpbGVMaW1pdCgpIHsKICAgICAgICBy\nZXR1cm4gdGhpcy5nZXRJbnQoT1BFTl9GSUxFX0xJTUlULCA5MDApOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0IGxpbWl0YXRpb24gb2YgbnVtYmVyIG9m\nIG9wZW4gZmlsZXMuCiAgICAgKgogICAgICogQHBhcmFtIGZpbGVMaW1pdAog\nICAgICogICAgICAgICAgTGltaXRhdGlvbiBvZiBudW1iZXIgb2Ygb3BlbiBm\naWxlcy4KICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAg\nICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0T3BlbkZp\nbGVMaW1pdChpbnQgZmlsZUxpbWl0KSB7CiAgICAgICAgc2V0UHJvcGVydHko\nT1BFTl9GSUxFX0xJTUlULCBmaWxlTGltaXQpOwogICAgICAgIHJldHVybiB0\naGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGxpbWl0YXRpb24gbnVt\nYmVyIG9mIGluZGV4IHBhZ2VzIGluIGxlZGdlciBjYWNoZQogICAgICoKICAg\nICAqIEByZXR1cm4gbWF4IG51bWJlciBvZiBpbmRleCBwYWdlcyBpbiBsZWRn\nZXIgY2FjaGUKICAgICAqLwogICAgcHVibGljIGludCBnZXRQYWdlTGltaXQo\nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50KFBBR0VfTElNSVQsIC0x\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBsaW1pdGF0aW9uIG51bWJl\nciBvZiBpbmRleCBwYWdlcyBpbiBsZWRnZXIgY2FjaGUuCiAgICAgKgogICAg\nICogQHBhcmFtIHBhZ2VMaW1pdAogICAgICogICAgICAgICAgTGltaXRhdGlv\nbiBvZiBudW1iZXIgb2YgaW5kZXggcGFnZXMgaW4gbGVkZ2VyIGNhY2hlLgog\nICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAg\nICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRQYWdlTGltaXQoaW50\nIHBhZ2VMaW1pdCkgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoUEFHRV9M\nSU1JVCwgcGFnZUxpbWl0KTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0K\nCiAgICAvKioKICAgICAqIEdldCBwYWdlIHNpemUKICAgICAqCiAgICAgKiBA\ncmV0dXJuIHBhZ2Ugc2l6ZSBpbiBsZWRnZXIgY2FjaGUKICAgICAqLwogICAg\ncHVibGljIGludCBnZXRQYWdlU2l6ZSgpIHsKICAgICAgICByZXR1cm4gdGhp\ncy5nZXRJbnQoUEFHRV9TSVpFLCA4MTkyKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldCBwYWdlIHNpemUKICAgICAqCiAgICAgKiBAc2VlICNnZXRQYWdl\nU2l6ZSgpCiAgICAgKgogICAgICogQHBhcmFtIHBhZ2VTaXplCiAgICAgKiAg\nICAgICAgICBQYWdlIFNpemUKICAgICAqIEByZXR1cm4gU2VydmVyIENvbmZp\nZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRp\nb24gc2V0UGFnZVNpemUoaW50IHBhZ2VTaXplKSB7CiAgICAgICAgdGhpcy5z\nZXRQcm9wZXJ0eShQQUdFX1NJWkUsIHBhZ2VTaXplKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIE1heCBqb3VybmFsIGZp\nbGUgc2l6ZQogICAgICoKICAgICAqIEByZXR1cm4gbWF4IGpvdXJuYWwgZmls\nZSBzaXplCiAgICAgKi8KICAgIHB1YmxpYyBsb25nIGdldE1heEpvdXJuYWxT\naXplTUIoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TG9uZyhNQVhfSk9V\nUk5BTF9TSVpFLCAyICogMTAyNCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgbmV3IG1heCBqb3VybmFsIGZpbGUgc2l6ZQogICAgICoKICAgICAqIEBw\nYXJhbSBtYXhKb3VybmFsU2l6ZQogICAgICogICAgICAgICAgbmV3IG1heCBq\nb3VybmFsIGZpbGUgc2l6ZQogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmln\ndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlv\nbiBzZXRNYXhKb3VybmFsU2l6ZU1CKGxvbmcgbWF4Sm91cm5hbFNpemUpIHsK\nICAgICAgICB0aGlzLnNldFByb3BlcnR5KE1BWF9KT1VSTkFMX1NJWkUsIExv\nbmcudG9TdHJpbmcobWF4Sm91cm5hbFNpemUpKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEhvdyBtdWNoIHNwYWNlIHNo\nb3VsZCB3ZSBwcmUtYWxsb2NhdGUgYXQgYSB0aW1lIGluIHRoZSBqb3VybmFs\nCiAgICAgKgogICAgICogQHJldHVybiBqb3VybmFsIHByZS1hbGxvY2F0aW9u\nIHNpemUgaW4gTUIKICAgICAqLwogICAgcHVibGljIGludCBnZXRKb3VybmFs\nUHJlQWxsb2NTaXplTUIoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50\nKEpPVVJOQUxfUFJFX0FMTE9DX1NJWkUsIDE2KTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFNpemUgb2YgdGhlIHdyaXRlIGJ1ZmZlcnMgdXNlZCBmb3IgdGhl\nIGpvdXJuYWwKICAgICAqCiAgICAgKiBAcmV0dXJuIGpvdXJuYWwgd3JpdGUg\nYnVmZmVyIHNpemUgaW4gS0IKICAgICAqLwogICAgcHVibGljIGludCBnZXRK\nb3VybmFsV3JpdGVCdWZmZXJTaXplS0IoKSB7CiAgICAgICAgcmV0dXJuIHRo\naXMuZ2V0SW50KEpPVVJOQUxfV1JJVEVfQlVGRkVSX1NJWkUsIDY0KTsKICAg\nIH0KCiAgICAvKioKICAgICAqIE1heCBudW1iZXIgb2Ygb2xkZXIgam91cm5h\nbCBmaWxlcyBrZXB0CiAgICAgKgogICAgICogQHJldHVybiBtYXggbnVtYmVy\nIG9mIG9sZGVyIGpvdXJuYWwgZmlsZXMgdG8ga2VwdAogICAgICovCiAgICBw\ndWJsaWMgaW50IGdldE1heEJhY2t1cEpvdXJuYWxzKCkgewogICAgICAgIHJl\ndHVybiB0aGlzLmdldEludChNQVhfQkFDS1VQX0pPVVJOQUxTLCA1KTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCBtYXggbnVtYmVyIG9mIG9sZGVyIGpv\ndXJuYWwgZmlsZXMgdG8ga2VwdAogICAgICoKICAgICAqIEBwYXJhbSBtYXhC\nYWNrdXBKb3VybmFscwogICAgICogICAgICAgICAgTWF4IG51bWJlciBvZiBv\nbGRlciBqb3VybmFsIGZpbGVzCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25m\naWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0\naW9uIHNldE1heEJhY2t1cEpvdXJuYWxzKGludCBtYXhCYWNrdXBKb3VybmFs\ncykgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoTUFYX0JBQ0tVUF9KT1VS\nTkFMUywgSW50ZWdlci50b1N0cmluZyhtYXhCYWNrdXBKb3VybmFscykpOwog\nICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQWxs\nIHRoZSBqb3VybmFsIHdyaXRlcyBhbmQgY29tbWl0cyBzaG91bGQgYmUgYWxp\nZ25lZCB0byBnaXZlbiBzaXplLiBJZiBub3QsCiAgICAgKiB6ZXJvcyB3aWxs\nIGJlIHBhZGRlZCB0byBhbGlnbiB0byBnaXZlbiBzaXplLgogICAgICoKICAg\nICAqIEByZXR1cm4gam91cm5hbCBhbGlnbm1lbnQgc2l6ZQogICAgICovCiAg\nICBwdWJsaWMgaW50IGdldEpvdXJuYWxBbGlnbm1lbnRTaXplKCkgewogICAg\nICAgIHJldHVybiB0aGlzLmdldEludChKT1VSTkFMX0FMSUdOTUVOVF9TSVpF\nLCA1MTIpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGpvdXJuYWwgYWxp\nZ25tZW50IHNpemUuCiAgICAgKgogICAgICogQHBhcmFtIHNpemUKICAgICAq\nICAgICAgICAgIGpvdXJuYWwgYWxpZ25tZW50IHNpemUuCiAgICAgKiBAcmV0\ndXJuIHNlcnZlciBjb25maWd1cmF0aW9uLgogICAgICovCiAgICBwdWJsaWMg\nU2VydmVyQ29uZmlndXJhdGlvbiBzZXRKb3VybmFsQWxpZ25tZW50U2l6ZShp\nbnQgc2l6ZSkgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoSk9VUk5BTF9B\nTElHTk1FTlRfU0laRSwgc2l6ZSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBHZXQgam91cm5hbCBmb3JtYXQgdmVyc2lv\nbiB0byB3cml0ZS4KICAgICAqCiAgICAgKiBAcmV0dXJuIGpvdXJuYWwgZm9y\nbWF0IHZlcnNpb24gdG8gd3JpdGUuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQg\nZ2V0Sm91cm5hbEZvcm1hdFZlcnNpb25Ub1dyaXRlKCkgewogICAgICAgIHJl\ndHVybiB0aGlzLmdldEludChKT1VSTkFMX0ZPUk1BVF9WRVJTSU9OX1RPX1dS\nSVRFLCA0KTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBqb3VybmFsIGZv\ncm1hdCB2ZXJzaW9uIHRvIHdyaXRlLgogICAgICoKICAgICAqIEBwYXJhbSB2\nZXJzaW9uCiAgICAgKiAgICAgICAgICBqb3VybmFsIGZvcm1hdCB2ZXJzaW9u\nIHRvIHdyaXRlLgogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlv\nbi4KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0\nSm91cm5hbEZvcm1hdFZlcnNpb25Ub1dyaXRlKGludCB2ZXJzaW9uKSB7CiAg\nICAgICAgdGhpcy5zZXRQcm9wZXJ0eShKT1VSTkFMX0ZPUk1BVF9WRVJTSU9O\nX1RPX1dSSVRFLCB2ZXJzaW9uKTsKICAgICAgICByZXR1cm4gdGhpczsKICAg\nIH0KCiAgICAvKioKICAgICAqIEdldCBib29raWUgcG9ydCB0aGF0IGJvb2tp\nZSBzZXJ2ZXIgbGlzdGVuIG9uCiAgICAgKgogICAgICogQHJldHVybiBib29r\naWUgcG9ydAogICAgICovCiAgICBwdWJsaWMgaW50IGdldEJvb2tpZVBvcnQo\nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50KEJPT0tJRV9QT1JULCAz\nMTgxKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBuZXcgYm9va2llIHBv\ncnQgdGhhdCBib29raWUgc2VydmVyIGxpc3RlbiBvbgogICAgICoKICAgICAq\nIEBwYXJhbSBwb3J0CiAgICAgKiAgICAgICAgICBQb3J0IHRvIGxpc3RlbiBv\nbgogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICov\nCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRCb29raWVQb3J0\nKGludCBwb3J0KSB7CiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShCT09LSUVf\nUE9SVCwgSW50ZWdlci50b1N0cmluZyhwb3J0KSk7CiAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhlIG5ldHdvcmsg\naW50ZXJmYWNlIHRoYXQgdGhlIGJvb2tpZSBzaG91bGQKICAgICAqIGxpc3Rl\nbiBmb3IgY29ubmVjdGlvbnMgb24uIElmIHRoaXMgaXMgbnVsbCwgdGhlbiB0\naGUgYm9va2llCiAgICAgKiB3aWxsIGxpc3RlbiBmb3IgY29ubmVjdGlvbnMg\nb24gYWxsIGludGVyZmFjZXMuCiAgICAgKgogICAgICogQHJldHVybiB0aGUg\nbmV0d29yayBpbnRlcmZhY2UgdG8gbGlzdGVuIG9uLCBlLmcuIGV0aDAsIG9y\nCiAgICAgKiAgICAgICAgIG51bGwgaWYgbm9uZSBpcyBzcGVjaWZpZWQKICAg\nICAqLwogICAgcHVibGljIFN0cmluZyBnZXRMaXN0ZW5pbmdJbnRlcmZhY2Uo\nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nKExJU1RFTklOR19J\nTlRFUkZBQ0UpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBuZXR3\nb3JrIGludGVyZmFjZSB0aGF0IHRoZSBib29raWUgc2hvdWxkIGxpc3RlbiBv\nbi4KICAgICAqIElmIG5vdCBzZXQsIHRoZSBib29raWUgd2lsbCBsaXN0ZW4g\nb24gYWxsIGludGVyZmFjZXMuCiAgICAgKgogICAgICogQHBhcmFtIGlmYWNl\nIHRoZSBpbnRlcmZhY2UgdG8gbGlzdGVuIG9uCiAgICAgKi8KICAgIHB1Ymxp\nYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldExpc3RlbmluZ0ludGVyZmFjZShT\ndHJpbmcgaWZhY2UpIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5KExJU1RF\nTklOR19JTlRFUkZBQ0UsIGlmYWNlKTsKICAgICAgICByZXR1cm4gdGhpczsK\nICAgIH0KCiAgICAvKioKICAgICAqIElzIHRoZSBib29raWUgYWxsb3dlZCB0\nbyB1c2UgYSBsb29wYmFjayBpbnRlcmZhY2UgYXMgaXRzIHByaW1hcnkKICAg\nICAqIGludGVyZmFjZShpLmUuIHRoZSBpbnRlcmZhY2UgaXQgdXNlcyB0byBl\nc3RhYmxpc2ggaXRzIGlkZW50aXR5KT8KICAgICAqCiAgICAgKiBCeSBkZWZh\ndWx0LCBsb29wYmFjayBpbnRlcmZhY2VzIGFyZSBub3QgYWxsb3dlZCBhcyB0\naGUgcHJpbWFyeQogICAgICogaW50ZXJmYWNlLgogICAgICoKICAgICAqIFVz\naW5nIGEgbG9vcGJhY2sgaW50ZXJmYWNlIGFzIHRoZSBwcmltYXJ5IGludGVy\nZmFjZSB1c3VhbGx5IGluZGljYXRlcwogICAgICogYSBjb25maWd1cmF0aW9u\nIGVycm9yLiBGb3IgZXhhbXBsZSwgaXRzIGZhaXJseSBjb21tb24gaW4gc29t\nZSBWUFMgc2V0dXBzCiAgICAgKiB0byBub3QgY29uZmlndXJlIGEgaG9zdG5h\nbWUsIG9yIHRvIGhhdmUgdGhlIGhvc3RuYW1lIHJlc29sdmUgdG8KICAgICAq\nIDEyNy4wLjAuMS4gSWYgdGhpcyBpcyB0aGUgY2FzZSwgdGhlbiBhbGwgYm9v\na2llcyBpbiB0aGUgY2x1c3RlciB3aWxsCiAgICAgKiBlc3RhYmxpc2ggdGhl\naXIgaWRlbnRpdGllcyBhcyAxMjcuMC4wLjE6MzE4MSwgYW5kIG9ubHkgb25l\nIHdpbGwgYmUgYWJsZQogICAgICogdG8gam9pbiB0aGUgY2x1c3Rlci4gRm9y\nIFZQU3MgY29uZmlndXJlZCBsaWtlIHRoaXMsIHlvdSBzaG91bGQgZXhwbGlj\naXRseQogICAgICogc2V0IHRoZSBsaXN0ZW5pbmcgaW50ZXJmYWNlLgogICAg\nICoKICAgICAqIEBzZWUgI3NldExpc3RlbmluZ0ludGVyZmFjZShTdHJpbmcp\nCiAgICAgKiBAcmV0dXJuIHdoZXRoZXIgYSBsb29wYmFjayBpbnRlcmZhY2Ug\nY2FuIGJlIHVzZWQgYXMgdGhlIHByaW1hcnkgaW50ZXJmYWNlCiAgICAgKi8K\nICAgIHB1YmxpYyBib29sZWFuIGdldEFsbG93TG9vcGJhY2soKSB7CiAgICAg\nICAgcmV0dXJuIHRoaXMuZ2V0Qm9vbGVhbihBTExPV19MT09QQkFDSywgZmFs\nc2UpOwogICAgfQoKICAgIC8qKgogICAgICogQ29uZmlndXJlIHRoZSBib29r\naWUgdG8gYWxsb3cgbG9vcGJhY2sgaW50ZXJmYWNlcyB0byBiZSB1c2VkCiAg\nICAgKiBhcyB0aGUgcHJpbWFyeSBib29raWUgaW50ZXJmYWNlLgogICAgICoK\nICAgICAqIEBzZWUgI2dldEFsbG93TG9vcGJhY2sKICAgICAqIEBwYXJhbSBh\nbGxvdyB3aGV0aGVyIHRvIGFsbG93IGxvb3BiYWNrIGludGVyZmFjZXMKICAg\nICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAg\ncHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0QWxsb3dMb29wYmFjayhi\nb29sZWFuIGFsbG93KSB7CiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShBTExP\nV19MT09QQkFDSywgYWxsb3cpOwogICAgICAgIHJldHVybiB0aGlzOwogICAg\nfQoKICAgIC8qKgogICAgICogR2V0IGRpciBuYW1lIHRvIHN0b3JlIGpvdXJu\nYWwgZmlsZXMKICAgICAqCiAgICAgKiBAcmV0dXJuIGpvdXJuYWwgZGlyIG5h\nbWUKICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRKb3VybmFsRGlyTmFt\nZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmcoSk9VUk5BTF9E\nSVIsICIvdG1wL2JrLXR4biIpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0\nIGRpciBuYW1lIHRvIHN0b3JlIGpvdXJuYWwgZmlsZXMKICAgICAqCiAgICAg\nKiBAcGFyYW0gam91cm5hbERpcgogICAgICogICAgICAgICAgRGlyIHRvIHN0\nb3JlIGpvdXJuYWwgZmlsZXMKICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZp\nZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRp\nb24gc2V0Sm91cm5hbERpck5hbWUoU3RyaW5nIGpvdXJuYWxEaXIpIHsKICAg\nICAgICB0aGlzLnNldFByb3BlcnR5KEpPVVJOQUxfRElSLCBqb3VybmFsRGly\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAq\nIEdldCBkaXIgdG8gc3RvcmUgam91cm5hbCBmaWxlcwogICAgICoKICAgICAq\nIEByZXR1cm4gam91cm5hbCBkaXIsIGlmIG5vIGpvdXJuYWwgZGlyIHByb3Zp\nZGVkIHJldHVybiBudWxsCiAgICAgKi8KICAgIHB1YmxpYyBGaWxlIGdldEpv\ndXJuYWxEaXIoKSB7CiAgICAgICAgU3RyaW5nIGpvdXJuYWxEaXJOYW1lID0g\nZ2V0Sm91cm5hbERpck5hbWUoKTsKICAgICAgICBpZiAobnVsbCA9PSBqb3Vy\nbmFsRGlyTmFtZSkgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAg\nICB9CiAgICAgICAgcmV0dXJuIG5ldyBGaWxlKGpvdXJuYWxEaXJOYW1lKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIEdldCBkaXIgbmFtZXMgdG8gc3RvcmUg\nbGVkZ2VyIGRhdGEKICAgICAqCiAgICAgKiBAcmV0dXJuIGxlZGdlciBkaXIg\nbmFtZXMsIGlmIG5vdCBwcm92aWRlZCByZXR1cm4gbnVsbAogICAgICovCiAg\nICBwdWJsaWMgU3RyaW5nW10gZ2V0TGVkZ2VyRGlyTmFtZXMoKSB7CiAgICAg\nICAgU3RyaW5nW10gbGVkZ2VyRGlycyA9IHRoaXMuZ2V0U3RyaW5nQXJyYXko\nTEVER0VSX0RJUlMpOwogICAgICAgIGlmIChudWxsID09IGxlZGdlckRpcnMp\nIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmdbXSB7ICIvdG1wL2Jr\nLWRhdGEiIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiBsZWRnZXJEaXJz\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IGRpciBuYW1lcyB0byBzdG9y\nZSBsZWRnZXIgZGF0YQogICAgICoKICAgICAqIEBwYXJhbSBsZWRnZXJEaXJz\nCiAgICAgKiAgICAgICAgICBEaXIgbmFtZXMgdG8gc3RvcmUgbGVkZ2VyIGRh\ndGEKICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAq\nLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0TGVkZ2VyRGly\nTmFtZXMoU3RyaW5nW10gbGVkZ2VyRGlycykgewogICAgICAgIGlmIChudWxs\nID09IGxlZGdlckRpcnMpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAg\nICAgICAgfQogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoTEVER0VSX0RJUlMs\nIGxlZGdlckRpcnMpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAg\nIC8qKgogICAgICogR2V0IGRpcnMgdGhhdCBzdG9yZXMgbGVkZ2VyIGRhdGEK\nICAgICAqCiAgICAgKiBAcmV0dXJuIGxlZGdlciBkaXJzCiAgICAgKi8KICAg\nIHB1YmxpYyBGaWxlW10gZ2V0TGVkZ2VyRGlycygpIHsKICAgICAgICBTdHJp\nbmdbXSBsZWRnZXJEaXJOYW1lcyA9IGdldExlZGdlckRpck5hbWVzKCk7Cgog\nICAgICAgIEZpbGVbXSBsZWRnZXJEaXJzID0gbmV3IEZpbGVbbGVkZ2VyRGly\nTmFtZXMubGVuZ3RoXTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGxl\nZGdlckRpck5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGxlZGdl\nckRpcnNbaV0gPSBuZXcgRmlsZShsZWRnZXJEaXJOYW1lc1tpXSk7CiAgICAg\nICAgfQogICAgICAgIHJldHVybiBsZWRnZXJEaXJzOwogICAgfQoKICAgIC8q\nKgogICAgICogR2V0IGRpciBuYW1lIHRvIHN0b3JlIGluZGV4IGZpbGVzLgog\nICAgICoKICAgICAqIEByZXR1cm4gbGVkZ2VyIGluZGV4IGRpciBuYW1lLCBp\nZiBubyBpbmRleCBkaXJzIHByb3ZpZGVkIHJldHVybiBudWxsCiAgICAgKi8K\nICAgIHB1YmxpYyBTdHJpbmdbXSBnZXRJbmRleERpck5hbWVzKCkgewogICAg\nICAgIGlmICghdGhpcy5jb250YWluc0tleShJTkRFWF9ESVJTKSkgewogICAg\nICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgcmV0dXJu\nIHRoaXMuZ2V0U3RyaW5nQXJyYXkoSU5ERVhfRElSUyk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTZXQgZGlyIG5hbWUgdG8gc3RvcmUgaW5kZXggZmlsZXMu\nCiAgICAgKgogICAgICogQHBhcmFtIGluZGV4RGlycwogICAgICogICAgICAg\nICAgSW5kZXggZGlyIG5hbWVzCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25m\naWd1cmF0aW9uLgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJh\ndGlvbiBzZXRJbmRleERpck5hbWUoU3RyaW5nW10gaW5kZXhEaXJzKSB7CiAg\nICAgICAgdGhpcy5zZXRQcm9wZXJ0eShJTkRFWF9ESVJTLCBpbmRleERpcnMp\nOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICog\nR2V0IGluZGV4IGRpciB0byBzdG9yZSBsZWRnZXIgaW5kZXggZmlsZXMuCiAg\nICAgKgogICAgICogQHJldHVybiBpbmRleCBkaXJzLCBpZiBubyBpbmRleCBk\naXJzIHByb3ZpZGVkIHJldHVybiBudWxsCiAgICAgKi8KICAgIHB1YmxpYyBG\naWxlW10gZ2V0SW5kZXhEaXJzKCkgewogICAgICAgIFN0cmluZ1tdIGlkeERp\nck5hbWVzID0gZ2V0SW5kZXhEaXJOYW1lcygpOwogICAgICAgIGlmIChudWxs\nID09IGlkeERpck5hbWVzKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwog\nICAgICAgIH0KICAgICAgICBGaWxlW10gaWR4RGlycyA9IG5ldyBGaWxlW2lk\neERpck5hbWVzLmxlbmd0aF07CiAgICAgICAgZm9yIChpbnQgaT0wOyBpPGlk\neERpck5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlkeERpcnNb\naV0gPSBuZXcgRmlsZShpZHhEaXJOYW1lc1tpXSk7CiAgICAgICAgfQogICAg\nICAgIHJldHVybiBpZHhEaXJzOwogICAgfQoKICAgIC8qKgogICAgICogSXMg\ndGNwIGNvbm5lY3Rpb24gbm8gZGVsYXkuCiAgICAgKgogICAgICogQHJldHVy\nbiB0Y3Agc29ja2V0IG5vZGVsYXkgc2V0dGluZwogICAgICovCiAgICBwdWJs\naWMgYm9vbGVhbiBnZXRTZXJ2ZXJUY3BOb0RlbGF5KCkgewogICAgICAgIHJl\ndHVybiBnZXRCb29sZWFuKFNFUlZFUl9UQ1BfTk9ERUxBWSwgdHJ1ZSk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBTZXQgc29ja2V0IG5vZGVsYXkgc2V0dGlu\nZwogICAgICoKICAgICAqIEBwYXJhbSBub0RlbGF5CiAgICAgKiAgICAgICAg\nICBOb0RlbGF5IHNldHRpbmcKICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZp\nZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRp\nb24gc2V0U2VydmVyVGNwTm9EZWxheShib29sZWFuIG5vRGVsYXkpIHsKICAg\nICAgICBzZXRQcm9wZXJ0eShTRVJWRVJfVENQX05PREVMQVksIEJvb2xlYW4u\ndG9TdHJpbmcobm9EZWxheSkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAg\nfQoKICAgIC8qKgogICAgICogR2V0IHpvb2tlZXBlciBzZXJ2ZXJzIHRvIGNv\nbm5lY3QKICAgICAqCiAgICAgKiBAcmV0dXJuIHpvb2tlZXBlciBzZXJ2ZXJz\nCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0WmtTZXJ2ZXJzKCkgewog\nICAgICAgIExpc3Qgc2VydmVycyA9IGdldExpc3QoWktfU0VSVkVSUywgbnVs\nbCk7CiAgICAgICAgaWYgKG51bGwgPT0gc2VydmVycyB8fCAwID09IHNlcnZl\ncnMuc2l6ZSgpKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAg\nIH0KICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuam9pbihzZXJ2ZXJzLCAi\nLCIpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHpvb2tlZXBlciBzZXJ2\nZXJzIHRvIGNvbm5lY3QKICAgICAqCiAgICAgKiBAcGFyYW0gemtTZXJ2ZXJz\nCiAgICAgKiAgICAgICAgICBab29LZWVwZXIgc2VydmVycyB0byBjb25uZWN0\nCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldFpr\nU2VydmVycyhTdHJpbmcgemtTZXJ2ZXJzKSB7CiAgICAgICAgc2V0UHJvcGVy\ndHkoWktfU0VSVkVSUywgemtTZXJ2ZXJzKTsKICAgICAgICByZXR1cm4gdGhp\nczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB6b29rZWVwZXIgdGltZW91\ndAogICAgICoKICAgICAqIEByZXR1cm4gem9va2VlcGVyIHNlcnZlciB0aW1l\nb3V0CiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0WmtUaW1lb3V0KCkgewog\nICAgICAgIHJldHVybiBnZXRJbnQoWktfVElNRU9VVCwgMTAwMDApOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0IHpvb2tlZXBlciB0aW1lb3V0CiAgICAg\nKgogICAgICogQHBhcmFtIHprVGltZW91dAogICAgICogICAgICAgICAgWm9v\nS2VlcGVyIHNlcnZlciB0aW1lb3V0CiAgICAgKiBAcmV0dXJuIHNlcnZlciBj\nb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1\ncmF0aW9uIHNldFprVGltZW91dChpbnQgemtUaW1lb3V0KSB7CiAgICAgICAg\nc2V0UHJvcGVydHkoWktfVElNRU9VVCwgSW50ZWdlci50b1N0cmluZyh6a1Rp\nbWVvdXQpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioK\nICAgICAqIElzIHN0YXRpc3RpY3MgZW5hYmxlZAogICAgICoKICAgICAqIEBy\nZXR1cm4gaXMgc3RhdGlzdGljcyBlbmFibGVkCiAgICAgKi8KICAgIHB1Ymxp\nYyBib29sZWFuIGlzU3RhdGlzdGljc0VuYWJsZWQoKSB7CiAgICAgICAgcmV0\ndXJuIGdldEJvb2xlYW4oRU5BQkxFX1NUQVRJU1RJQ1MsIHRydWUpOwogICAg\nfQoKICAgIC8qKgogICAgICogVHVybiBvbi9vZmYgc3RhdGlzdGljcwogICAg\nICoKICAgICAqIEBwYXJhbSBlbmFibGVkCiAgICAgKiAgICAgICAgICBXaGV0\naGVyIHN0YXRpc3RpY3MgZW5hYmxlZCBvciBub3QuCiAgICAgKiBAcmV0dXJu\nIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2\nZXJDb25maWd1cmF0aW9uIHNldFN0YXRpc3RpY3NFbmFibGVkKGJvb2xlYW4g\nZW5hYmxlZCkgewogICAgICAgIHNldFByb3BlcnR5KEVOQUJMRV9TVEFUSVNU\nSUNTLCBCb29sZWFuLnRvU3RyaW5nKGVuYWJsZWQpKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0aHJlc2hvbGQg\nb2YgbWlub3IgY29tcGFjdGlvbi4KICAgICAqCiAgICAgKiBGb3IgdGhvc2Ug\nZW50cnkgbG9nIGZpbGVzIHdob3NlIHJlbWFpbmluZyBzaXplIHBlcmNlbnRh\nZ2UgcmVhY2hlcyBiZWxvdwogICAgICogdGhpcyB0aHJlc2hvbGQgIHdpbGwg\nYmUgY29tcGFjdGVkIGluIGEgbWlub3IgY29tcGFjdGlvbi4KICAgICAqCiAg\nICAgKiBJZiBpdCBpcyBzZXQgdG8gbGVzcyB0aGFuIHplcm8sIHRoZSBtaW5v\nciBjb21wYWN0aW9uIGlzIGRpc2FibGVkLgogICAgICoKICAgICAqIEByZXR1\ncm4gdGhyZXNob2xkIG9mIG1pbm9yIGNvbXBhY3Rpb24KICAgICAqLwogICAg\ncHVibGljIGRvdWJsZSBnZXRNaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQoKSB7\nCiAgICAgICAgcmV0dXJuIGdldERvdWJsZShNSU5PUl9DT01QQUNUSU9OX1RI\nUkVTSE9MRCwgMC4yZik7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhy\nZXNob2xkIG9mIG1pbm9yIGNvbXBhY3Rpb24KICAgICAqCiAgICAgKiBAc2Vl\nICNnZXRNaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQoKQogICAgICoKICAgICAq\nIEBwYXJhbSB0aHJlc2hvbGQKICAgICAqICAgICAgICAgIFRocmVzaG9sZCBm\nb3IgbWlub3IgY29tcGFjdGlvbgogICAgICogQHJldHVybiBzZXJ2ZXIgY29u\nZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJh\ndGlvbiBzZXRNaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQoZG91YmxlIHRocmVz\naG9sZCkgewogICAgICAgIHNldFByb3BlcnR5KE1JTk9SX0NPTVBBQ1RJT05f\nVEhSRVNIT0xELCB0aHJlc2hvbGQpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogR2V0IHRocmVzaG9sZCBvZiBtYWpvciBj\nb21wYWN0aW9uLgogICAgICoKICAgICAqIEZvciB0aG9zZSBlbnRyeSBsb2cg\nZmlsZXMgd2hvc2UgcmVtYWluaW5nIHNpemUgcGVyY2VudGFnZSByZWFjaGVz\nIGJlbG93CiAgICAgKiB0aGlzIHRocmVzaG9sZCAgd2lsbCBiZSBjb21wYWN0\nZWQgaW4gYSBtYWpvciBjb21wYWN0aW9uLgogICAgICoKICAgICAqIElmIGl0\nIGlzIHNldCB0byBsZXNzIHRoYW4gemVybywgdGhlIG1ham9yIGNvbXBhY3Rp\nb24gaXMgZGlzYWJsZWQuCiAgICAgKgogICAgICogQHJldHVybiB0aHJlc2hv\nbGQgb2YgbWFqb3IgY29tcGFjdGlvbgogICAgICovCiAgICBwdWJsaWMgZG91\nYmxlIGdldE1ham9yQ29tcGFjdGlvblRocmVzaG9sZCgpIHsKICAgICAgICBy\nZXR1cm4gZ2V0RG91YmxlKE1BSk9SX0NPTVBBQ1RJT05fVEhSRVNIT0xELCAw\nLjhmKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aHJlc2hvbGQgb2Yg\nbWFqb3IgY29tcGFjdGlvbi4KICAgICAqCiAgICAgKiBAc2VlICNnZXRNYWpv\nckNvbXBhY3Rpb25UaHJlc2hvbGQoKQogICAgICoKICAgICAqIEBwYXJhbSB0\naHJlc2hvbGQKICAgICAqICAgICAgICAgIFRocmVzaG9sZCBvZiBtYWpvciBj\nb21wYWN0aW9uCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9u\nCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldE1h\nam9yQ29tcGFjdGlvblRocmVzaG9sZChkb3VibGUgdGhyZXNob2xkKSB7CiAg\nICAgICAgc2V0UHJvcGVydHkoTUFKT1JfQ09NUEFDVElPTl9USFJFU0hPTEQs\nIHRocmVzaG9sZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBHZXQgaW50ZXJ2YWwgdG8gcnVuIG1pbm9yIGNvbXBhY3Rp\nb24sIGluIHNlY29uZHMuCiAgICAgKgogICAgICogSWYgaXQgaXMgc2V0IHRv\nIGxlc3MgdGhhbiB6ZXJvLCB0aGUgbWlub3IgY29tcGFjdGlvbiBpcyBkaXNh\nYmxlZC4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRocmVzaG9sZCBvZiBtaW5v\nciBjb21wYWN0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBsb25nIGdldE1pbm9y\nQ29tcGFjdGlvbkludGVydmFsKCkgewogICAgICAgIHJldHVybiBnZXRMb25n\nKE1JTk9SX0NPTVBBQ1RJT05fSU5URVJWQUwsIDM2MDApOwogICAgfQoKICAg\nIC8qKgogICAgICogU2V0IGludGVydmFsIHRvIHJ1biBtaW5vciBjb21wYWN0\naW9uCiAgICAgKgogICAgICogQHNlZSAjZ2V0TWlub3JDb21wYWN0aW9uSW50\nZXJ2YWwoKQogICAgICoKICAgICAqIEBwYXJhbSBpbnRlcnZhbAogICAgICog\nICAgICAgICAgSW50ZXJ2YWwgdG8gcnVuIG1pbm9yIGNvbXBhY3Rpb24KICAg\nICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAg\ncHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0TWlub3JDb21wYWN0aW9u\nSW50ZXJ2YWwobG9uZyBpbnRlcnZhbCkgewogICAgICAgIHNldFByb3BlcnR5\nKE1JTk9SX0NPTVBBQ1RJT05fSU5URVJWQUwsIGludGVydmFsKTsKICAgICAg\nICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBpbnRl\ncnZhbCB0byBydW4gbWFqb3IgY29tcGFjdGlvbiwgaW4gc2Vjb25kcy4KICAg\nICAqCiAgICAgKiBJZiBpdCBpcyBzZXQgdG8gbGVzcyB0aGFuIHplcm8sIHRo\nZSBtYWpvciBjb21wYWN0aW9uIGlzIGRpc2FibGVkLgogICAgICoKICAgICAq\nIEByZXR1cm4gaGlnaCB3YXRlciBtYXJrCiAgICAgKi8KICAgIHB1YmxpYyBs\nb25nIGdldE1ham9yQ29tcGFjdGlvbkludGVydmFsKCkgewogICAgICAgIHJl\ndHVybiBnZXRMb25nKE1BSk9SX0NPTVBBQ1RJT05fSU5URVJWQUwsIDg2NDAw\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBpbnRlcnZhbCB0byBydW4g\nbWFqb3IgY29tcGFjdGlvbi4KICAgICAqCiAgICAgKiBAc2VlICNnZXRNYWpv\nckNvbXBhY3Rpb25JbnRlcnZhbCgpCiAgICAgKgogICAgICogQHBhcmFtIGlu\ndGVydmFsCiAgICAgKiAgICAgICAgICBJbnRlcnZhbCB0byBydW4gbWFqb3Ig\nY29tcGFjdGlvbgogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlv\nbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRN\nYWpvckNvbXBhY3Rpb25JbnRlcnZhbChsb25nIGludGVydmFsKSB7CiAgICAg\nICAgc2V0UHJvcGVydHkoTUFKT1JfQ09NUEFDVElPTl9JTlRFUlZBTCwgaW50\nZXJ2YWwpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgog\nICAgICogU2V0IHRoZSBncmFjZSBwZXJpb2Qgd2hpY2ggdGhlIHJlcmVwbGlj\nYXRpb24gd29ya2VyIHdpbGwgd2FpdCBiZWZvcmUKICAgICAqIGZlbmNpbmcg\nYW5kIHJlcmVwbGljYXRpbmcgYSBsZWRnZXIgZnJhZ21lbnQgd2hpY2ggaXMg\nc3RpbGwgYmVpbmcgd3JpdHRlbgogICAgICogdG8sIG9uIGJvb2tpZSBmYWls\ndXJlLgogICAgICoKICAgICAqIFRoZSBncmFjZSBwZXJpb2QgYWxsb3dzIHRo\nZSB3cml0ZXIgdG8gZGV0ZWN0IHRoZSBib29raWUgZmFpbHVyZSwgYW5kIGFu\nZAogICAgICogc3RhcnQgd3JpdGluZyB0byBhbm90aGVyIGxlZGdlciBmcmFn\nbWVudC4gSWYgdGhlIHdyaXRlciB3cml0ZXMgbm90aGluZwogICAgICogZHVy\naW5nIHRoZSBncmFjZSBwZXJpb2QsIHRoZSByZXJlcGxpY2F0aW9uIHdvcmtl\nciBhc3N1bWVzIHRoYXQgaXQgaGFzCiAgICAgKiBjcmFzaGVkIGFuZCB0aGVy\nZWZvcmUgZmVuY2VzIHRoZSBsZWRnZXIsIHByZXZlbnRpbmcgYW55IGZ1cnRo\nZXIgd3JpdGVzIHRvCiAgICAgKiB0aGF0IGxlZGdlci4KICAgICAqCiAgICAg\nKiBAc2VlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuQm9va0tlZXBl\nciNvcGVuTGVkZ2VyCiAgICAgKgogICAgICogQHBhcmFtIHdhaXRUaW1lIHRp\nbWUgdG8gd2FpdCBiZWZvcmUgcmVwbGljYXRpbmcgbGVkZ2VyIGZyYWdtZW50\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldE9wZW5MZWRnZXJSZXJlcGxp\nY2F0aW9uR3JhY2VQZXJpb2QoU3RyaW5nIHdhaXRUaW1lKSB7CiAgICAgICAg\nc2V0UHJvcGVydHkoT1BFTl9MRURHRVJfUkVSRVBMSUNBVElPTl9HUkFDRV9Q\nRVJJT0QsIHdhaXRUaW1lKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0\naGUgZ3JhY2UgcGVyaW9kIHdoaWNoIHRoZSByZXJlcGxpY2F0aW9uIHdvcmtl\nciB0byB3YWl0IGJlZm9yZQogICAgICogZmVuY2luZyBhbmQgcmVyZXBsaWNh\ndGluZyBhIGxlZGdlciBmcmFnbWVudCB3aGljaCBpcyBzdGlsbCBiZWluZyB3\ncml0dGVuCiAgICAgKiB0bywgb24gYm9va2llIGZhaWx1cmUuCiAgICAgKgog\nICAgICogQHJldHVybiBsb25nCiAgICAgKi8KICAgIHB1YmxpYyBsb25nIGdl\ndE9wZW5MZWRnZXJSZXJlcGxpY2F0aW9uR3JhY2VQZXJpb2QoKSB7CiAgICAg\nICAgcmV0dXJuIGdldExvbmcoT1BFTl9MRURHRVJfUkVSRVBMSUNBVElPTl9H\nUkFDRV9QRVJJT0QsIDMwMDAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdl\ndCB0aGUgbnVtYmVyIG9mIGJ5dGVzIHdlIHNob3VsZCB1c2UgYXMgY2FwYWNp\ndHkgZm9yCiAgICAgKiBvcmcuYXBhY2hlLmJvb2trZWVwZXIuYm9va2llLkJ1\nZmZlcmVkUmVhZENoYW5uZWwKICAgICAqIERlZmF1bHQgaXMgNTEyIGJ5dGVz\nCiAgICAgKiBAcmV0dXJuIHJlYWQgYnVmZmVyIHNpemUKICAgICAqLwogICAg\ncHVibGljIGludCBnZXRSZWFkQnVmZmVyQnl0ZXMoKSB7CiAgICAgICAgcmV0\ndXJuIGdldEludChSRUFEX0JVRkZFUl9TSVpFLCA1MTIpOwogICAgfQoKICAg\nIC8qKgogICAgICogU2V0IHRoZSBudW1iZXIgb2YgYnl0ZXMgd2Ugc2hvdWxk\nIHVzZSBhcyBjYXBhY2l0eSBmb3IKICAgICAqIG9yZy5hcGFjaGUuYm9va2tl\nZXBlci5ib29raWUuQnVmZmVyZWRSZWFkQ2hhbm5lbAogICAgICoKICAgICAq\nIEBwYXJhbSByZWFkQnVmZmVyU2l6ZQogICAgICogICAgICAgICAgUmVhZCBC\ndWZmZXIgU2l6ZQogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlv\nbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRS\nZWFkQnVmZmVyQnl0ZXMoaW50IHJlYWRCdWZmZXJTaXplKSB7CiAgICAgICAg\nc2V0UHJvcGVydHkoUkVBRF9CVUZGRVJfU0laRSwgcmVhZEJ1ZmZlclNpemUp\nOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSBudW1iZXIgb2YgdGhyZWFkcyB0aGF0IHdvdWxkIGhhbmRsZSB3\ncml0ZSByZXF1ZXN0cy4KICAgICAqCiAgICAgKiBAcGFyYW0gbnVtVGhyZWFk\ncwogICAgICogICAgICAgICAgbnVtYmVyIG9mIHRocmVhZHMgdG8gaGFuZGxl\nIHdyaXRlIHJlcXVlc3RzLgogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmln\ndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlv\nbiBzZXROdW1BZGRXb3JrZXJUaHJlYWRzKGludCBudW1UaHJlYWRzKSB7CiAg\nICAgICAgc2V0UHJvcGVydHkoTlVNX0FERF9XT1JLRVJfVEhSRUFEUywgbnVt\nVGhyZWFkcyk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiB0aHJlYWRzIHRoYXQgc2hvdWxk\nIGhhbmRsZSB3cml0ZSByZXF1ZXN0cy4KICAgICAqCiAgICAgKiBAcmV0dXJu\nIHRoZSBudW1iZXIgb2YgdGhyZWFkcyB0aGF0IGhhbmRsZSB3cml0ZSByZXF1\nZXN0cy4KICAgICAqLwogICAgcHVibGljIGludCBnZXROdW1BZGRXb3JrZXJU\naHJlYWRzKCkgewogICAgICAgIHJldHVybiBnZXRJbnQoTlVNX0FERF9XT1JL\nRVJfVEhSRUFEUywgMSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhl\nIG51bWJlciBvZiB0aHJlYWRzIHRoYXQgd291bGQgaGFuZGxlIHJlYWQgcmVx\ndWVzdHMuCiAgICAgKgogICAgICogQHBhcmFtIG51bVRocmVhZHMKICAgICAq\nICAgICAgICAgIE51bWJlciBvZiB0aHJlYWRzIHRvIGhhbmRsZSByZWFkIHJl\ncXVlc3RzLgogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgog\nICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXROdW1S\nZWFkV29ya2VyVGhyZWFkcyhpbnQgbnVtVGhyZWFkcykgewogICAgICAgIHNl\ndFByb3BlcnR5KE5VTV9SRUFEX1dPUktFUl9USFJFQURTLCBudW1UaHJlYWRz\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAq\nIEdldCB0aGUgbnVtYmVyIG9mIHRocmVhZHMgdGhhdCBzaG91bGQgaGFuZGxl\nIHJlYWQgcmVxdWVzdHMuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0TnVt\nUmVhZFdvcmtlclRocmVhZHMoKSB7CiAgICAgICAgcmV0dXJuIGdldEludChO\nVU1fUkVBRF9XT1JLRVJfVEhSRUFEUywgOCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBHZXQgdGhlIG51bWJlciBvZiBieXRlcyB1c2VkIGFzIGNhcGFjaXR5\nIGZvciB0aGUgd3JpdGUgYnVmZmVyLiBEZWZhdWx0IGlzCiAgICAgKiA2NEtC\nLgogICAgICogTk9URTogTWFrZSBzdXJlIHRoaXMgdmFsdWUgaXMgZ3JlYXRl\nciB0aGFuIHRoZSBtYXhpbXVtIG1lc3NhZ2Ugc2l6ZS4KICAgICAqIEByZXR1\ncm4gdGhlIHNpemUgb2YgdGhlIHdyaXRlIGJ1ZmZlciBpbiBieXRlcwogICAg\nICovCiAgICBwdWJsaWMgaW50IGdldFdyaXRlQnVmZmVyQnl0ZXMoKSB7CiAg\nICAgICAgcmV0dXJuIGdldEludChXUklURV9CVUZGRVJfU0laRSwgNjU1MzYp\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBudW1iZXIgb2YgYnl0\nZXMgdXNlZCBhcyBjYXBhY2l0eSBmb3IgdGhlIHdyaXRlIGJ1ZmZlci4KICAg\nICAqCiAgICAgKiBAcGFyYW0gd3JpdGVCdWZmZXJCeXRlcwogICAgICogICAg\nICAgICAgV3JpdGUgQnVmZmVyIEJ5dGVzCiAgICAgKiBAcmV0dXJuIHNlcnZl\nciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25m\naWd1cmF0aW9uIHNldFdyaXRlQnVmZmVyQnl0ZXMoaW50IHdyaXRlQnVmZmVy\nQnl0ZXMpIHsKICAgICAgICBzZXRQcm9wZXJ0eShXUklURV9CVUZGRVJfU0la\nRSwgd3JpdGVCdWZmZXJCeXRlcyk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIG51bWJlciBvZiB0aHJlYWRz\nIHRoYXQgd291bGQgaGFuZGxlIGpvdXJuYWwgY2FsbGJhY2tzLgogICAgICoK\nICAgICAqIEBwYXJhbSBudW1UaHJlYWRzCiAgICAgKiAgICAgICAgICBudW1i\nZXIgb2YgdGhyZWFkcyB0byBoYW5kbGUgam91cm5hbCBjYWxsYmFja3MuCiAg\nICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAg\nIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldE51bUpvdXJuYWxDYWxs\nYmFja1RocmVhZHMoaW50IG51bVRocmVhZHMpIHsKICAgICAgICBzZXRQcm9w\nZXJ0eShOVU1fSk9VUk5BTF9DQUxMQkFDS19USFJFQURTLCBudW1UaHJlYWRz\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAq\nIEdldCB0aGUgbnVtYmVyIG9mIHRocmVhZHMgdGhhdCBzaG91bGQgaGFuZGxl\nIGpvdXJuYWwgY2FsbGJhY2tzLgogICAgICoKICAgICAqIEByZXR1cm4gdGhl\nIG51bWJlciBvZiB0aHJlYWRzIHRoYXQgaGFuZGxlIGpvdXJuYWwgY2FsbGJh\nY2tzLgogICAgICovCiAgICBwdWJsaWMgaW50IGdldE51bUpvdXJuYWxDYWxs\nYmFja1RocmVhZHMoKSB7CiAgICAgICAgcmV0dXJuIGdldEludChOVU1fSk9V\nUk5BTF9DQUxMQkFDS19USFJFQURTLCAxKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldCBzb3J0ZWQtbGVkZ2VyIHN0b3JhZ2UgZW5hYmxlZCBvciBub3QK\nICAgICAqCiAgICAgKiBAcGFyYW0gZW5hYmxlZAogICAgICovCiAgICBwdWJs\naWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRTb3J0ZWRMZWRnZXJTdG9yYWdl\nRW5hYmxlZChib29sZWFuIGVuYWJsZWQpIHsKICAgICAgICB0aGlzLnNldFBy\nb3BlcnR5KFNPUlRFRF9MRURHRVJfU1RPUkFHRV9FTkFCTEVELCBlbmFibGVk\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAq\nIENoZWNrIGlmIHNvcnRlZC1sZWRnZXIgc3RvcmFnZSBlbmFibGVkIChkZWZh\ndWx0IHRydWUpCiAgICAgKgogICAgICogQHJldHVybiB0cnVlIGlmIHNvcnRl\nZCBsZWRnZXIgc3RvcmFnZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UK\nICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0U29ydGVkTGVkZ2VyU3Rv\ncmFnZUVuYWJsZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm9vbGVh\nbihTT1JURURfTEVER0VSX1NUT1JBR0VfRU5BQkxFRCwgdHJ1ZSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBHZXQgc2tpcCBsaXN0IGRhdGEgc2l6ZSBsaW1p\ndGF0aW9uIChkZWZhdWx0IDY0TUIpCiAgICAgKgogICAgICogQHJldHVybiBz\na2lwIGxpc3QgZGF0YSBzaXplIGxpbWl0YXRpb24KICAgICAqLwogICAgcHVi\nbGljIGxvbmcgZ2V0U2tpcExpc3RTaXplTGltaXQoKSB7CiAgICAgICAgcmV0\ndXJuIHRoaXMuZ2V0TG9uZyhTS0lQX0xJU1RfU0laRV9MSU1JVCwgNjQgKiAx\nMDI0ICogMTAyNEwpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHNraXAg\nbGlzdCBzaXplIGxpbWl0LgogICAgICoKICAgICAqIEBwYXJhbSBzaXplIHNr\naXAgbGlzdCBzaXplIGxpbWl0LgogICAgICogQHJldHVybiBzZXJ2ZXIgY29u\nZmlndXJhdGlvbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJD\nb25maWd1cmF0aW9uIHNldFNraXBMaXN0U2l6ZUxpbWl0KGludCBzaXplKSB7\nCiAgICAgICAgc2V0UHJvcGVydHkoU0tJUF9MSVNUX1NJWkVfTElNSVQsIHNp\nemUpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAg\nICogR2V0IHRoZSBudW1iZXIgb2YgYnl0ZXMgd2Ugc2hvdWxkIHVzZSBhcyBj\naHVuayBhbGxvY2F0aW9uIGZvcgogICAgICogb3JnLmFwYWNoZS5ib29ra2Vl\ncGVyLmJvb2tpZS5Ta2lwTGlzdEFyZW5hCiAgICAgKiBEZWZhdWx0IGlzIDQg\nTUIKICAgICAqIEByZXR1cm4gdGhlIG51bWJlciBvZiBieXRlcyB0byB1c2Ug\nZm9yIGVhY2ggY2h1bmsgaW4gdGhlIHNraXBsaXN0IGFyZW5hCiAgICAgKi8K\nICAgIHB1YmxpYyBpbnQgZ2V0U2tpcExpc3RBcmVuYUNodW5rU2l6ZSgpIHsK\nICAgICAgICByZXR1cm4gZ2V0SW50KFNLSVBfTElTVF9DSFVOS19TSVpFX0VO\nVFJZLCA0MDk2ICogMTAyNCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQg\ndGhlIG51bWJlciBvZiBieXRlcyB3IHVzZWQgYXMgY2h1bmsgYWxsb2NhdGlv\nbiBmb3IKICAgICAqIG9yZy5hcGFjaGUuYm9va2tlZXBlci5ib29raWUuU2tp\ncExpc3RBcmVuYQogICAgICoKICAgICAqIEBwYXJhbSBzaXplIGNodW5rIHNp\nemUuCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uIG9iamVj\ndC4KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0\nU2tpcExpc3RBcmVuYUNodW5rU2l6ZShpbnQgc2l6ZSkgewogICAgICAgIHNl\ndFByb3BlcnR5KFNLSVBfTElTVF9DSFVOS19TSVpFX0VOVFJZLCBzaXplKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdl\ndCB0aGUgbWF4IHNpemUgd2Ugc2hvdWxkIGFsbG9jYXRlIGZyb20gdGhlIHNr\naXBsaXN0IGFyZW5hLiBBbGxvY2F0aW9ucwogICAgICogbGFyZ2VyIHRoYW4g\ndGhpcyBzaG91bGQgYmUgYWxsb2NhdGVkIGRpcmVjdGx5IGJ5IHRoZSBWTSB0\nbyBhdm9pZCBmcmFnbWVudGF0aW9uLgogICAgICoKICAgICAqIEByZXR1cm4g\nbWF4IHNpemUgYWxsb2NhdGFibGUgZnJvbSB0aGUgc2tpcGxpc3QgYXJlbmEg\nKERlZmF1bHQgaXMgMTI4IEtCKQogICAgICovCiAgICBwdWJsaWMgaW50IGdl\ndFNraXBMaXN0QXJlbmFNYXhBbGxvY1NpemUoKSB7CiAgICAgICAgcmV0dXJu\nIGdldEludChTS0lQX0xJU1RfTUFYX0FMTE9DX0VOVFJZLCAxMjggKiAxMDI0\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNob3VsZCB3ZSBncm91cCBqb3Vy\nbmFsIGZvcmNlIHdyaXRlcwogICAgICoKICAgICAqIEByZXR1cm4gZ3JvdXAg\nam91cm5hbCBmb3JjZSB3cml0ZXMKICAgICAqLwogICAgcHVibGljIGJvb2xl\nYW4gZ2V0Sm91cm5hbEFkYXB0aXZlR3JvdXBXcml0ZXMoKSB7CiAgICAgICAg\ncmV0dXJuIGdldEJvb2xlYW4oSk9VUk5BTF9BREFQVElWRV9HUk9VUF9XUklU\nRVMsIHRydWUpOwogICAgfQoKICAgIC8qKgogICAgICogRW5hYmxlL2Rpc2Fi\nbGUgZ3JvdXAgam91cm5hbCBmb3JjZSB3cml0ZXMKICAgICAqCiAgICAgKiBA\ncGFyYW0gZW5hYmxlZCBmbGFnIHRvIGVuYWJsZS9kaXNhYmxlIGdyb3VwIGpv\ndXJuYWwgZm9yY2Ugd3JpdGVzCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJD\nb25maWd1cmF0aW9uIHNldEpvdXJuYWxBZGFwdGl2ZUdyb3VwV3JpdGVzKGJv\nb2xlYW4gZW5hYmxlZCkgewogICAgICAgIHNldFByb3BlcnR5KEpPVVJOQUxf\nQURBUFRJVkVfR1JPVVBfV1JJVEVTLCBlbmFibGVkKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIE1heGltdW0gbGF0ZW5j\neSB0byBpbXBvc2Ugb24gYSBqb3VybmFsIHdyaXRlIHRvIGFjaGlldmUgZ3Jv\ndXBpbmcKICAgICAqCiAgICAgKiBAcmV0dXJuIG1heCB3YWl0IGZvciBncm91\ncGluZwogICAgICovCiAgICBwdWJsaWMgbG9uZyBnZXRKb3VybmFsTWF4R3Jv\ndXBXYWl0TVNlYygpIHsKICAgICAgICByZXR1cm4gZ2V0TG9uZyhKT1VSTkFM\nX01BWF9HUk9VUF9XQUlUX01TRUMsIDIwMCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBNYXhpbXVtIGJ5dGVzIHRvIGJ1ZmZlciB0byBpbXBvc2Ugb24gYSBq\nb3VybmFsIHdyaXRlIHRvIGFjaGlldmUgZ3JvdXBpbmcKICAgICAqCiAgICAg\nKiBAcmV0dXJuIG1heCBieXRlcyB0byBidWZmZXIKICAgICAqLwogICAgcHVi\nbGljIGxvbmcgZ2V0Sm91cm5hbEJ1ZmZlcmVkV3JpdGVzVGhyZXNob2xkKCkg\newogICAgICAgIHJldHVybiBnZXRMb25nKEpPVVJOQUxfQlVGRkVSRURfV1JJ\nVEVTX1RIUkVTSE9MRCwgNTEyICogMTAyNCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBNYXhpbXVtIGVudHJpZXMgdG8gYnVmZmVyIHRvIGltcG9zZSBvbiBh\nIGpvdXJuYWwgd3JpdGUgdG8gYWNoaWV2ZSBncm91cGluZy4KICAgICAqIFVz\nZSB7QGxpbmsgI2dldEpvdXJuYWxCdWZmZXJlZFdyaXRlc1RocmVzaG9sZCgp\nfSBpZiB0aGlzIGlzIHNldCB0byB6ZXJvIG9yCiAgICAgKiBsZXNzIHRoYW4g\nemVyby4KICAgICAqCiAgICAgKiBAcmV0dXJuIG1heCBlbnRyaWVzIHRvIGJ1\nZmZlci4KICAgICAqLwogICAgcHVibGljIGxvbmcgZ2V0Sm91cm5hbEJ1ZmZl\ncmVkRW50cmllc1RocmVzaG9sZCgpIHsKICAgICAgICByZXR1cm4gZ2V0TG9u\nZyhKT1VSTkFMX0JVRkZFUkVEX0VOVFJJRVNfVEhSRVNIT0xELCAwKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCBtYXhpbXVtIGVudHJpZXMgdG8gYnVm\nZmVyIHRvIGltcG9zZSBvbiBhIGpvdXJuYWwgd3JpdGUgdG8gYWNoaWV2ZSBn\ncm91cGluZy4KICAgICAqIFVzZSB7QGxpbmsgI2dldEpvdXJuYWxCdWZmZXJl\nZFdyaXRlc1RocmVzaG9sZCgpfSBzZXQgdGhpcyB0byB6ZXJvIG9yIGxlc3Mg\ndGhhbgogICAgICogemVyby4KICAgICAqCiAgICAgKiBAcGFyYW0gbWF4RW50\ncmllcwogICAgICogICAgICAgICAgbWF4aW11bSBlbnRyaWVzIHRvIGJ1ZmZl\nci4KICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24uCiAgICAg\nKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldEpvdXJuYWxC\ndWZmZXJlZEVudHJpZXNUaHJlc2hvbGQoaW50IG1heEVudHJpZXMpIHsKICAg\nICAgICBzZXRQcm9wZXJ0eShKT1VSTkFMX0JVRkZFUkVEX0VOVFJJRVNfVEhS\nRVNIT0xELCBtYXhFbnRyaWVzKTsKICAgICAgICByZXR1cm4gdGhpczsKICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCBpZiB3ZSBzaG91bGQgZmx1c2ggdGhl\nIGpvdXJuYWwgd2hlbiBxdWV1ZSBpcyBlbXB0eQogICAgICovCiAgICBwdWJs\naWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRKb3VybmFsRmx1c2hXaGVuUXVl\ndWVFbXB0eShib29sZWFuIGVuYWJsZWQpIHsKICAgICAgICBzZXRQcm9wZXJ0\neShKT1VSTkFMX0ZMVVNIX1dIRU5fUVVFVUVfRU1QVFksIGVuYWJsZWQpOwog\nICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogU2hv\ndWxkIHdlIGZsdXNoIHRoZSBqb3VybmFsIHdoZW4gcXVldWUgaXMgZW1wdHkK\nICAgICAqCiAgICAgKiBAcmV0dXJuIGZsdXNoIHdoZW4gcXVldWUgaXMgZW1w\ndHkKICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0Sm91cm5hbEZsdXNo\nV2hlblF1ZXVlRW1wdHkoKSB7CiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW4o\nSk9VUk5BTF9GTFVTSF9XSEVOX1FVRVVFX0VNUFRZLCBmYWxzZSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0aGUgYm9va2llIGlzIGFi\nbGUgdG8gZ28gaW50byByZWFkLW9ubHkgbW9kZS4KICAgICAqIElmIHRoaXMg\naXMgc2V0IHRvIGZhbHNlLCB0aGUgYm9va2llIHdpbGwgc2h1dGRvd24gb24g\nZW5jb3VudGVyaW5nCiAgICAgKiBhbiBlcnJvciBjb25kaXRpb24uCiAgICAg\nKgogICAgICogQHBhcmFtIGVuYWJsZWQgd2hldGhlciB0byBlbmFibGUgcmVh\nZC1vbmx5IG1vZGUuCiAgICAgKgogICAgICogQHJldHVybiBTZXJ2ZXJDb25m\naWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0\naW9uIHNldFJlYWRPbmx5TW9kZUVuYWJsZWQoYm9vbGVhbiBlbmFibGVkKSB7\nCiAgICAgICAgc2V0UHJvcGVydHkoUkVBRF9PTkxZX01PREVfRU5BQkxFRCwg\nZW5hYmxlZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBHZXQgd2hldGhlciByZWFkLW9ubHkgbW9kZSBpcyBlbmFibGVk\nLiBUaGUgZGVmYXVsdCBpcyBmYWxzZS4KICAgICAqCiAgICAgKiBAcmV0dXJu\nIGJvb2xlYW4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNSZWFkT25s\neU1vZGVFbmFibGVkKCkgewogICAgICAgIHJldHVybiBnZXRCb29sZWFuKFJF\nQURfT05MWV9NT0RFX0VOQUJMRUQsIGZhbHNlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFNldCB0aGUgd2FybmluZyB0aHJlc2hvbGQgZm9yIGRpc2sgdXNh\nZ2UuCiAgICAgKgogICAgICogQHBhcmFtIHRocmVzaG9sZCB3YXJuaW5nIHRo\ncmVzaG9sZCB0byBmb3JjZSBnYy4KICAgICAqCiAgICAgKiBAcmV0dXJuIFNl\ncnZlckNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNv\nbmZpZ3VyYXRpb24gc2V0RGlza1VzYWdlV2FyblRocmVzaG9sZChmbG9hdCB0\naHJlc2hvbGQpIHsKICAgICAgICBzZXRQcm9wZXJ0eShESVNLX1VTQUdFX1dB\nUk5fVEhSRVNIT0xELCB0aHJlc2hvbGQpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgd2FybmluZyB0\naHJlc2hvbGQgZm9yIGRpc2sgdXNhZ2UuIElmIGRpc2sgdXNhZ2UKICAgICAq\nIGdvZXMgYmV5b25kIHRoaXMsIGEgZ2FyYmFnZSBjb2xsZWN0aW9uIGN5Y2xl\nIHdpbGwgYmUgZm9yY2VkLgogICAgICogQHJldHVybiB0aGUgcGVyY2VudGFn\nZSBhdCB3aGljaCBhIGRpc2sgdXNhZ2Ugd2FybmluZyB3aWxsIHRyaWdnZXIK\nICAgICAqLwogICAgcHVibGljIGZsb2F0IGdldERpc2tVc2FnZVdhcm5UaHJl\nc2hvbGQoKSB7CiAgICAgICAgcmV0dXJuIGdldEZsb2F0KERJU0tfVVNBR0Vf\nV0FSTl9USFJFU0hPTEQsIDAuOTBmKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCB0aGUgRGlzayBmcmVlIHNwYWNlIHRocmVzaG9sZCBhcyBhIGZyYWN0\naW9uIG9mIHRoZSB0b3RhbAogICAgICogYWZ0ZXIgd2hpY2ggZGlzayB3aWxs\nIGJlIGNvbnNpZGVyZWQgYXMgZnVsbCBkdXJpbmcgZGlzayBjaGVjay4KICAg\nICAqCiAgICAgKiBAcGFyYW0gdGhyZXNob2xkIHRocmVzaG9sZCB0byBkZWNs\nYXJlIGEgZGlzayBmdWxsCiAgICAgKgogICAgICogQHJldHVybiBTZXJ2ZXJD\nb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1\ncmF0aW9uIHNldERpc2tVc2FnZVRocmVzaG9sZChmbG9hdCB0aHJlc2hvbGQp\nIHsKICAgICAgICBzZXRQcm9wZXJ0eShESVNLX1VTQUdFX1RIUkVTSE9MRCwg\ndGhyZXNob2xkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybnMgZGlzayBmcmVlIHNwYWNlIHRocmVzaG9sZC4g\nQnkgZGVmYXVsdCBpdCBpcyAwLjk1LgogICAgICoKICAgICAqIEByZXR1cm4g\ndGhlIHBlcmNlbnRhZ2UgYXQgd2hpY2ggYSBkaXNrIHdpbGwgYmUgY29uc2lk\nZXJlZCBmdWxsCiAgICAgKi8KICAgIHB1YmxpYyBmbG9hdCBnZXREaXNrVXNh\nZ2VUaHJlc2hvbGQoKSB7CiAgICAgICAgcmV0dXJuIGdldEZsb2F0KERJU0tf\nVVNBR0VfVEhSRVNIT0xELCAwLjk1Zik7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBTZXQgdGhlIGRpc2sgY2hlY2tlciBpbnRlcnZhbCB0byBtb25pdG9yIGxl\nZGdlciBkaXNrIHNwYWNlCiAgICAgKgogICAgICogQHBhcmFtIGludGVydmFs\nIGludGVydmFsIGJldHdlZW4gZGlzayBjaGVja3MgZm9yIHNwYWNlLgogICAg\nICoKICAgICAqIEByZXR1cm4gU2VydmVyQ29uZmlndXJhdGlvbgogICAgICov\nCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXREaXNrQ2hlY2tJ\nbnRlcnZhbChpbnQgaW50ZXJ2YWwpIHsKICAgICAgICBzZXRQcm9wZXJ0eShE\nSVNLX0NIRUNLX0lOVEVSVkFMLCBpbnRlcnZhbCk7CiAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhlIGRpc2sgY2hl\nY2tlciBpbnRlcnZhbAogICAgICoKICAgICAqIEByZXR1cm4gaW50CiAgICAg\nKi8KICAgIHB1YmxpYyBpbnQgZ2V0RGlza0NoZWNrSW50ZXJ2YWwoKSB7CiAg\nICAgICAgcmV0dXJuIGdldEludChESVNLX0NIRUNLX0lOVEVSVkFMLCAxMCAq\nIDEwMDApOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSByZWd1bGFy\naXR5IGF0IHdoaWNoIHRoZSBhdWRpdG9yIHdpbGwgcnVuIGEgY2hlY2sKICAg\nICAqIG9mIGFsbCBsZWRnZXJzLiBUaGlzIHNob3VsZCBub3QgYmUgcnVuIHZl\ncnkgb2Z0ZW4sIGFuZCBhdCBtb3N0LAogICAgICogb25jZSBhIGRheS4gU2V0\ndGluZyB0aGlzIHRvIDAgd2lsbCBjb21wbGV0ZWx5IGRpc2FibGUgdGhlIHBl\ncmlvZGljCiAgICAgKiBjaGVjay4KICAgICAqCiAgICAgKiBAcGFyYW0gaW50\nZXJ2YWwgVGhlIGludGVydmFsIGluIHNlY29uZHMuIGUuZy4gODY0MDAgPSAx\nIGRheSwgNjA0ODAwID0gMSB3ZWVrCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldEF1ZGl0b3JQZXJpb2RpY0NoZWNrSW50ZXJ2YWwobG9uZyBpbnRlcnZh\nbCkgewogICAgICAgIHNldFByb3BlcnR5KEFVRElUT1JfUEVSSU9ESUNfQ0hF\nQ0tfSU5URVJWQUwsIGludGVydmFsKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIEdldCB0aGUgcmVndWxhcml0eSBhdCB3aGljaCB0aGUgYXVkaXRvciBjaGVj\na3MgYWxsIGxlZGdlcnMuCiAgICAgKiBAcmV0dXJuIFRoZSBpbnRlcnZhbCBp\nbiBzZWNvbmRzLiBEZWZhdWx0IGlzIDYwNDgwMCAoMSB3ZWVrKS4KICAgICAq\nLwogICAgcHVibGljIGxvbmcgZ2V0QXVkaXRvclBlcmlvZGljQ2hlY2tJbnRl\ncnZhbCgpIHsKICAgICAgICByZXR1cm4gZ2V0TG9uZyhBVURJVE9SX1BFUklP\nRElDX0NIRUNLX0lOVEVSVkFMLCA2MDQ4MDApOwogICAgfQoKICAgIC8qKgog\nICAgICogU2V0IHRoZSBpbnRlcnZhbCBiZXR3ZWVuIGF1ZGl0b3IgYm9va2ll\nIGNoZWNrcy4KICAgICAqIFRoZSBhdWRpdG9yIGJvb2tpZSBjaGVjaywgY2hl\nY2tzIGxlZGdlciBtZXRhZGF0YSB0byBzZWUgd2hpY2ggYm9va2llcwogICAg\nICogY29udGFpbiBlbnRyaWVzIGZvciBlYWNoIGxlZGdlci4gSWYgYSBib29r\naWUgd2hpY2ggc2hvdWxkIGNvbnRhaW4gZW50cmllcwogICAgICogaXMgdW5h\ndmFpbGFibGUsIHRoZW4gdGhlIGxlZGdlciBjb250YWluaW5nIHRoYXQgZW50\ncnkgaXMgbWFya2VkIGZvciByZWNvdmVyeS4KICAgICAqIFNldHRpbmcgdGhp\ncyB0byAwIGRpc2FibGVkIHRoZSBwZXJpb2RpYyBjaGVjay4gQm9va2llIGNo\nZWNrcyB3aWxsIHN0aWxsCiAgICAgKiBydW4gd2hlbiBhIGJvb2tpZSBmYWls\ncy4KICAgICAqCiAgICAgKiBAcGFyYW0gaW50ZXJ2YWwgVGhlIHBlcmlvZCBp\nbiBzZWNvbmRzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRBdWRpdG9y\nUGVyaW9kaWNCb29raWVDaGVja0ludGVydmFsKGxvbmcgaW50ZXJ2YWwpIHsK\nICAgICAgICBzZXRQcm9wZXJ0eShBVURJVE9SX1BFUklPRElDX0JPT0tJRV9D\nSEVDS19JTlRFUlZBTCwgaW50ZXJ2YWwpOwogICAgfQoKICAgIC8qKgogICAg\nICogR2V0IHRoZSBpbnRlcnZhbCBiZXR3ZWVuIGF1ZGl0b3IgYm9va2llIGNo\nZWNrIHJ1bnMuCiAgICAgKiBAc2VlICNzZXRBdWRpdG9yUGVyaW9kaWNCb29r\naWVDaGVja0ludGVydmFsKGxvbmcpCiAgICAgKiBAcmV0dXJuIHRoZSBpbnRl\ncnZhbCBiZXR3ZWVuIGJvb2tpZSBjaGVjayBydW5zLCBpbiBzZWNvbmRzLiBE\nZWZhdWx0IGlzIDg2NDAwICg9IDEgZGF5KQogICAgICovCiAgICBwdWJsaWMg\nbG9uZyBnZXRBdWRpdG9yUGVyaW9kaWNCb29raWVDaGVja0ludGVydmFsKCkg\newogICAgICAgIHJldHVybiBnZXRMb25nKEFVRElUT1JfUEVSSU9ESUNfQk9P\nS0lFX0NIRUNLX0lOVEVSVkFMLCA4NjQwMCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBTZXRzIHRoYXQgd2hldGhlciB0aGUgYXV0by1yZWNvdmVyeSBzZXJ2\naWNlIGNhbiBzdGFydCBhbG9uZyB3aXRoIEJvb2tpZQogICAgICogc2VydmVy\nIGl0c2VsZiBvciBub3QKICAgICAqCiAgICAgKiBAcGFyYW0gZW5hYmxlZAog\nICAgICogICAgICAgICAgICAtIHRydWUgaWYgbmVlZCB0byBzdGFydCBhdXRv\nLXJlY292ZXJ5IHNlcnZpY2UuIE90aGVyd2lzZQogICAgICogICAgICAgICAg\nICBmYWxzZS4KICAgICAqIEByZXR1cm4gU2VydmVyQ29uZmlndXJhdGlvbgog\nICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRBdXRv\nUmVjb3ZlcnlEYWVtb25FbmFibGVkKGJvb2xlYW4gZW5hYmxlZCkgewogICAg\nICAgIHNldFByb3BlcnR5KEFVVE9fUkVDT1ZFUllfREFFTU9OX0VOQUJMRUQs\nIGVuYWJsZWQpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8q\nKgogICAgICogR2V0IHdoZXRoZXIgdGhlIEJvb2tpZSBpdHNlbGYgY2FuIHN0\nYXJ0IGF1dG8tcmVjb3Zlcnkgc2VydmljZSBhbHNvIG9yIG5vdAogICAgICoK\nICAgICAqIEByZXR1cm4gdHJ1ZSAtIGlmIEJvb2tpZSBzaG91bGQgc3RhcnQg\nYXV0by1yZWNvdmVyeSBzZXJ2aWNlIGFsb25nIHdpdGgKICAgICAqICAgICAg\nICAgaXQuIGZhbHNlIG90aGVyd2lzZS4KICAgICAqLwogICAgcHVibGljIGJv\nb2xlYW4gaXNBdXRvUmVjb3ZlcnlEYWVtb25FbmFibGVkKCkgewogICAgICAg\nIHJldHVybiBnZXRCb29sZWFuKEFVVE9fUkVDT1ZFUllfREFFTU9OX0VOQUJM\nRUQsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0aGUgbWF4\naW11bSBudW1iZXIgb2YgZW50cmllcyB3aGljaCBjYW4gYmUgY29tcGFjdGVk\nIHdpdGhvdXQgZmx1c2hpbmcuCiAgICAgKiBEZWZhdWx0IGlzIDEwMCwwMDAu\nCiAgICAgKgogICAgICogQHJldHVybiB0aGUgbWF4aW11bSBudW1iZXIgb2Yg\ndW5mbHVzaGVkIGVudHJpZXMKICAgICAqLwogICAgcHVibGljIGludCBnZXRD\nb21wYWN0aW9uTWF4T3V0c3RhbmRpbmdSZXF1ZXN0cygpIHsKICAgICAgICBy\nZXR1cm4gZ2V0SW50KENPTVBBQ1RJT05fTUFYX09VVFNUQU5ESU5HX1JFUVVF\nU1RTLCAxMDAwMDApOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBt\nYXhpbXVtIG51bWJlciBvZiBlbnRyaWVzIHdoaWNoIGNhbiBiZSBjb21wYWN0\nZWQgd2l0aG91dCBmbHVzaGluZy4KICAgICAqCiAgICAgKiBXaGVuIGNvbXBh\nY3RpbmcsIHRoZSBlbnRyaWVzIGFyZSB3cml0dGVuIHRvIHRoZSBlbnRyeWxv\nZyBhbmQgdGhlIG5ldyBvZmZzZXRzCiAgICAgKiBhcmUgY2FjaGVkIGluIG1l\nbW9yeS4gT25jZSB0aGUgZW50cnlsb2cgaXMgZmx1c2hlZCB0aGUgaW5kZXgg\naXMgdXBkYXRlZCB3aXRoCiAgICAgKiB0aGUgbmV3IG9mZnNldHMuIFRoaXMg\ncGFyYW1ldGVyIGNvbnRyb2xzIHRoZSBudW1iZXIgb2YgZW50cmllcyBhZGRl\nZCB0byB0aGUKICAgICAqIGVudHJ5bG9nIGJlZm9yZSBhIGZsdXNoIGlzIGZv\ncmNlZC4gQSBoaWdoZXIgdmFsdWUgZm9yIHRoaXMgcGFyYW1ldGVyIG1lYW5z\nCiAgICAgKiBtb3JlIG1lbW9yeSB3aWxsIGJlIHVzZWQgZm9yIG9mZnNldHMu\nIEVhY2ggb2Zmc2V0IGNvbnNpc3RzIG9mIDMgbG9uZ3MuCiAgICAgKgogICAg\nICogVGhpcyBwYXJhbWV0ZXIgc2hvdWxkIF9ub3RfIGJlIG1vZGlmaWVkIHVu\nbGVzcyB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZy4KICAgICAqIFRoZSBk\nZWZhdWx0IGlzIDEwMCwwMDAuCiAgICAgKgogICAgICogQHBhcmFtIG1heE91\ndHN0YW5kaW5nUmVxdWVzdHMgbnVtYmVyIG9mIGVudHJpZXMgdG8gY29tcGFj\ndCBiZWZvcmUgZmx1c2hpbmcKICAgICAqCiAgICAgKiBAcmV0dXJuIFNlcnZl\nckNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZp\nZ3VyYXRpb24gc2V0Q29tcGFjdGlvbk1heE91dHN0YW5kaW5nUmVxdWVzdHMo\naW50IG1heE91dHN0YW5kaW5nUmVxdWVzdHMpIHsKICAgICAgICBzZXRQcm9w\nZXJ0eShDT01QQUNUSU9OX01BWF9PVVRTVEFORElOR19SRVFVRVNUUywgbWF4\nT3V0c3RhbmRpbmdSZXF1ZXN0cyk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhlIHJhdGUgb2YgY29tcGFjdGlv\nbiBhZGRzLiBEZWZhdWx0IGlzIDEsMDAwLgogICAgICoKICAgICAqIEByZXR1\ncm4gcmF0ZSBvZiBjb21wYWN0aW9uIChhZGRzIHBlciBzZWNvbmQpCiAgICAg\nKi8KICAgIHB1YmxpYyBpbnQgZ2V0Q29tcGFjdGlvblJhdGUoKSB7CiAgICAg\nICAgcmV0dXJuIGdldEludChDT01QQUNUSU9OX1JBVEUsIDEwMDApOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0IHRoZSByYXRlIG9mIGNvbXBhY3Rpb24g\nYWRkcy4KICAgICAqCiAgICAgKiBAcGFyYW0gcmF0ZSByYXRlIG9mIGNvbXBh\nY3Rpb24gYWRkcyAoYWRkcyBwZXIgc2Vjb25kKQogICAgICoKICAgICAqIEBy\nZXR1cm4gU2VydmVyQ29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMg\nU2VydmVyQ29uZmlndXJhdGlvbiBzZXRDb21wYWN0aW9uUmF0ZShpbnQgcmF0\nZSkgewogICAgICAgIHNldFByb3BlcnR5KENPTVBBQ1RJT05fUkFURSwgcmF0\nZSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBTaG91bGQgd2UgcmVtb3ZlIHBhZ2VzIGZyb20gcGFnZSBjYWNoZSBhZnRl\nciBmb3JjZSB3cml0ZQogICAgICoKICAgICAqIEByZXR1cm4gcmVtb3ZlIHBh\nZ2VzIGZyb20gY2FjaGUKICAgICAqLwogICAgQEJldGEKICAgIHB1YmxpYyBi\nb29sZWFuIGdldEpvdXJuYWxSZW1vdmVQYWdlc0Zyb21DYWNoZSgpIHsKICAg\nICAgICByZXR1cm4gZ2V0Qm9vbGVhbihKT1VSTkFMX1JFTU9WRV9GUk9NX1BB\nR0VfQ0FDSEUsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMg\ndGhhdCB3aGV0aGVyIHNob3VsZCB3ZSByZW1vdmUgcGFnZXMgZnJvbSBwYWdl\nIGNhY2hlIGFmdGVyIGZvcmNlIHdyaXRlLgogICAgICoKICAgICAqIEBwYXJh\nbSBlbmFibGVkCiAgICAgKiAgICAgICAgICAgIC0gdHJ1ZSBpZiB3ZSBuZWVk\nIHRvIHJlbW92ZSBwYWdlcyBmcm9tIHBhZ2UgY2FjaGUuIG90aGVyd2lzZSwg\nZmFsc2UKICAgICAqIEByZXR1cm4gU2VydmVyQ29uZmlndXJhdGlvbgogICAg\nICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRKb3VybmFs\nUmVtb3ZlUGFnZXNGcm9tQ2FjaGUoYm9vbGVhbiBlbmFibGVkKSB7CiAgICAg\nICAgc2V0UHJvcGVydHkoSk9VUk5BTF9SRU1PVkVfRlJPTV9QQUdFX0NBQ0hF\nLCBlbmFibGVkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAv\nKioKICAgICAqIEdldCB3aGV0aGVyIGJvb2tpZSBpcyB1c2luZyBob3N0bmFt\nZSBmb3IgcmVnaXN0cmF0aW9uIGFuZCBpbiBsZWRnZXIKICAgICAqIG1ldGFk\nYXRhLiBEZWZhdWx0cyB0byBmYWxzZS4KICAgICAqCiAgICAgKiBAcmV0dXJu\nIHRydWUsIHRoZW4gYm9va2llIHdpbGwgYmUgcmVnaXN0ZXJlZCB3aXRoIGl0\ncyBob3N0bmFtZSBhbmQKICAgICAqICAgICAgICAgaG9zdG5hbWUgd2lsbCBi\nZSB1c2VkIGluIGxlZGdlciBtZXRhZGF0YS4gT3RoZXJ3aXNlIGJvb2tpZSB3\naWxsCiAgICAgKiAgICAgICAgIHVzZSBpdHMgaXBhZGRyZXNzCiAgICAgKi8K\nICAgIHB1YmxpYyBib29sZWFuIGdldFVzZUhvc3ROYW1lQXNCb29raWVJRCgp\nIHsKICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbihVU0VfSE9TVF9OQU1FX0FT\nX0JPT0tJRV9JRCwgZmFsc2UpOwogICAgfQoKICAgIC8qKgogICAgICogQ29u\nZmlndXJlIHRoZSBib29raWUgdG8gdXNlIGl0cyBob3N0bmFtZSB0byByZWdp\nc3RlciB3aXRoIHRoZQogICAgICogY28tb3JkaW5hdGlvbiBzZXJ2aWNlKGVn\nOiB6b29rZWVwZXIpIGFuZCBpbiBsZWRnZXIgbWV0YWRhdGEKICAgICAqCiAg\nICAgKiBAc2VlICNnZXRVc2VIb3N0TmFtZUFzQm9va2llSUQKICAgICAqIEBw\nYXJhbSB1c2VIb3N0TmFtZQogICAgICogICAgICAgICAgICB3aGV0aGVyIHRv\nIHVzZSBob3N0bmFtZSBmb3IgcmVnaXN0cmF0aW9uIGFuZCBpbiBsZWRnZXJt\nZXRhZGF0YQogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgog\nICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRVc2VI\nb3N0TmFtZUFzQm9va2llSUQoYm9vbGVhbiB1c2VIb3N0TmFtZSkgewogICAg\nICAgIHNldFByb3BlcnR5KFVTRV9IT1NUX05BTUVfQVNfQk9PS0lFX0lELCB1\nc2VIb3N0TmFtZSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBHZXQgdGhlIHN0YXRzIHByb3ZpZGVyIHVzZWQgYnkgYm9v\na2llLgogICAgICoKICAgICAqIEByZXR1cm4gc3RhdHMgcHJvdmlkZXIgY2xh\nc3MKICAgICAqIEB0aHJvd3MgQ29uZmlndXJhdGlvbkV4Y2VwdGlvbgogICAg\nICovCiAgICBwdWJsaWMgQ2xhc3M8PyBleHRlbmRzIFN0YXRzUHJvdmlkZXI+\nIGdldFN0YXRzUHJvdmlkZXJDbGFzcygpCiAgICAgICAgdGhyb3dzIENvbmZp\nZ3VyYXRpb25FeGNlcHRpb24gewogICAgICAgIHJldHVybiBSZWZsZWN0aW9u\nVXRpbHMuZ2V0Q2xhc3ModGhpcywgU1RBVFNfUFJPVklERVJfQ0xBU1MsCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdWxsU3Rh\ndHNQcm92aWRlci5jbGFzcywgU3RhdHNQcm92aWRlci5jbGFzcywKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMb2Fk\nZXIpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBzdGF0cyBwcm92\naWRlciB1c2VkIGJ5IGJvb2tpZS4KICAgICAqCiAgICAgKiBAcGFyYW0gcHJv\ndmlkZXJDbGFzcwogICAgICogICAgICAgICAgc3RhdHMgcHJvdmlkZXIgY2xh\nc3MKICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAq\nLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0U3RhdHNQcm92\naWRlckNsYXNzKENsYXNzPD8gZXh0ZW5kcyBTdGF0c1Byb3ZpZGVyPiBwcm92\naWRlckNsYXNzKSB7CiAgICAgICAgc2V0UHJvcGVydHkoU1RBVFNfUFJPVklE\nRVJfQ0xBU1MsIHByb3ZpZGVyQ2xhc3MuZ2V0TmFtZSgpKTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIFZhbGlkYXRlIHRo\nZSBjb25maWd1cmF0aW9uLgogICAgICogQHRocm93cyBDb25maWd1cmF0aW9u\nRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHZhbGlkYXRlKCkg\ndGhyb3dzIENvbmZpZ3VyYXRpb25FeGNlcHRpb24gewogICAgICAgIGlmIChn\nZXRTa2lwTGlzdEFyZW5hQ2h1bmtTaXplKCkgPCBnZXRTa2lwTGlzdEFyZW5h\nTWF4QWxsb2NTaXplKCkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IENvbmZp\nZ3VyYXRpb25FeGNlcHRpb24oIkFyZW5hIG1heCBhbGxvY2F0aW9uIHNpemUg\nc2hvdWxkIGJlIHNtYWxsZXIgdGhhbiB0aGUgY2h1bmsgc2l6ZS4iKTsKICAg\nICAgICB9CiAgICAgICAgaWYgKGdldEpvdXJuYWxBbGlnbm1lbnRTaXplKCkg\nPCA1MTIgfHwgZ2V0Sm91cm5hbEFsaWdubWVudFNpemUoKSAlIDUxMiAhPSAw\nKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBDb25maWd1cmF0aW9uRXhjZXB0\naW9uKCJJbnZhbGlkIGpvdXJuYWwgYWxpZ25tZW50IHNpemUgOiAiICsgZ2V0\nSm91cm5hbEFsaWdubWVudFNpemUoKSk7CiAgICAgICAgfQogICAgICAgIGlm\nIChnZXRKb3VybmFsQWxpZ25tZW50U2l6ZSgpID4gZ2V0Sm91cm5hbFByZUFs\nbG9jU2l6ZU1CKCkgKiAxMDI0ICogMTAyNCkgewogICAgICAgICAgICB0aHJv\ndyBuZXcgQ29uZmlndXJhdGlvbkV4Y2VwdGlvbigiSW52YWxpZCBwcmVhbGxv\nY2F0aW9uIHNpemUgOiAiICsgZ2V0Sm91cm5hbFByZUFsbG9jU2l6ZU1CKCkg\nKyAiIE1CIik7CiAgICAgICAgfQogICAgfQoKfQo=\n","encoding":"base64"}

