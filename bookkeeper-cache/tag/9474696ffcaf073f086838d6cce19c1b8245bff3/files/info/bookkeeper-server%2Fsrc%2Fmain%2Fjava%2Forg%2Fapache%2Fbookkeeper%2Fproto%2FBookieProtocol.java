{"sha":"4dd26d6e6776a2c505da7d8bf0fff6056ff7b863","node_id":"MDQ6QmxvYjE1NzU5NTY6NGRkMjZkNmU2Nzc2YTJjNTA1ZGE3ZDhiZjBmZmY2MDU2ZmY3Yjg2Mw==","size":10301,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/4dd26d6e6776a2c505da7d8bf0fff6056ff7b863","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG87CgovKgogKgog\nKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24g\nKEFTRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5z\nZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQogKiBkaXN0cmli\ndXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlv\nbgogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0Yg\nbGljZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hl\nIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91\nIG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQog\nKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9m\nIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3Jn\nL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBi\neSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICog\nc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlz\ndHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJS\nQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBl\neHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQog\nKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KCmlt\ncG9ydCBvcmcuamJvc3MubmV0dHkuYnVmZmVyLkNoYW5uZWxCdWZmZXI7Cmlt\ncG9ydCBqYXZhLm5pby5CeXRlQnVmZmVyOwoKLyoqCiAqIFRoZSBwYWNrZXRz\nIG9mIHRoZSBCb29raWUgcHJvdG9jb2wgYWxsIGhhdmUgYSA0LWJ5dGUgaW50\nZWdlciBpbmRpY2F0aW5nIHRoZQogKiB0eXBlIG9mIHJlcXVlc3Qgb3IgcmVz\ncG9uc2UgYXQgdGhlIHZlcnkgYmVnaW5uaW5nIG9mIHRoZSBwYWNrZXQgZm9s\nbG93ZWQgYnkgYQogKiBwYXlsb2FkLgogKgogKi8KcHVibGljIGludGVyZmFj\nZSBCb29raWVQcm90b2NvbCB7CgogICAgLyoqCiAgICAgKiBMb3dlc3QgcHJv\ndG9jb2wgdmVyc2lvbiB3aGljaCB3aWxsIHdvcmsgd2l0aCB0aGUgYm9va2ll\nLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGJ5dGUgTE9XRVNU\nX0NPTVBBVF9QUk9UT0NPTF9WRVJTSU9OID0gMDsKCiAgICAvKioKICAgICAq\nIEN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgcHJvdG9jb2wsIHdoaWNoIGNsaWVu\ndCB3aWxsIHVzZS4gCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwg\nYnl0ZSBDVVJSRU5UX1BST1RPQ09MX1ZFUlNJT04gPSAyOwoKICAgIC8qKgog\nICAgICogRW50cnkgRW50cnkgSUQuIFRvIGJlIHVzZWQgd2hlbiBubyB2YWxp\nZCBlbnRyeSBpZCBjYW4gYmUgYXNzaWduZWQuCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgbG9uZyBJTlZBTElEX0VOVFJZX0lEID0gLTE7Cgog\nICAgLyoqCiAgICAgKiBFbnRyeSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyBh\nIHJlcXVlc3QgdG8gb2J0YWluIHRoZSBsYXN0IGFkZCBlbnRyeSBjb25maXJt\nZWQKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBsb25nIExBU1Rf\nQUREX0NPTkZJUk1FRCA9IC0xOwoKICAgIC8qKgogICAgICogVGhlIGxlbmd0\naCBvZiB0aGUgbWFzdGVyIGtleSBpbiBhZGQgcGFja2V0cy4gVGhpcwogICAg\nICogaXMgZml4ZWQgYXQgMjAgZm9yIGhpc3RvcmljIHJlYXNvbnMuIFRoaXMg\naXMgYmVjYXVzZSBpdAogICAgICogaXMgYWx3YXlzIGdlbmVyYXRlZCB1c2lu\nZyB0aGUgTWFjRGlnZXN0TWFuYWdlciByZWdhcmRsZXNzCiAgICAgKiBvZiB3\naGV0aGVyIE1hYyBpcyBiZWluZyB1c2VkIGZvciB0aGUgZGlnZXN0IG9yIG5v\ndAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBNQVNURVJf\nS0VZX0xFTkdUSCA9IDIwOwoKICAgIC8qKiAKICAgICAqIFRoZSBmaXJzdCBp\nbnQgb2YgYSBwYWNrZXQgaXMgdGhlIGhlYWRlci4KICAgICAqIEl0IGNvbnRh\naW5zIHRoZSB2ZXJzaW9uLCBvcENvZGUgYW5kIGZsYWdzLgogICAgICogVGhl\nIGluaXRpYWwgdmVyc2lvbnMgb2YgQksgZGlkbid0IGhhdmUgdGhpcyBzdHJ1\nY3R1cmUKICAgICAqIGFuZCBqdXN0IGhhZCBhbiBpbnQgcmVwcmVzZW50aW5n\nIHRoZSBvcENvZGUgYXMgdGhlIAogICAgICogZmlyc3QgaW50LiBUaGlzIGhh\nbmRsZXMgdGhhdCBjYXNlIGFsc28uIAogICAgICovCiAgICBzdGF0aWMgY2xh\nc3MgUGFja2V0SGVhZGVyIHsKICAgICAgICBmaW5hbCBieXRlIHZlcnNpb247\nCiAgICAgICAgZmluYWwgYnl0ZSBvcENvZGU7CiAgICAgICAgZmluYWwgc2hv\ncnQgZmxhZ3M7CgogICAgICAgIHB1YmxpYyBQYWNrZXRIZWFkZXIoYnl0ZSB2\nZXJzaW9uLCBieXRlIG9wQ29kZSwgc2hvcnQgZmxhZ3MpIHsKICAgICAgICAg\nICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjsKICAgICAgICAgICAgdGhpcy5v\ncENvZGUgPSBvcENvZGU7CiAgICAgICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFn\nczsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaW50IHRvSW50KCkgewog\nICAgICAgICAgICBpZiAodmVyc2lvbiA9PSAwKSB7CiAgICAgICAgICAgICAg\nICByZXR1cm4gKGludClvcENvZGU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAg\nICAgICAgICAgICAgICByZXR1cm4gKCh2ZXJzaW9uICYgMHhGRikgPDwgMjQp\nIAogICAgICAgICAgICAgICAgICAgIHwgKChvcENvZGUgJiAweEZGKSA8PCAx\nNikKICAgICAgICAgICAgICAgICAgICB8IChmbGFncyAmIDB4RkZGRik7CiAg\nICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHN0YXRpYyBQYWNrZXRI\nZWFkZXIgZnJvbUludChpbnQgaSkgewogICAgICAgICAgICBieXRlIHZlcnNp\nb24gPSAoYnl0ZSkoaSA+PiAyNCk7IAogICAgICAgICAgICBieXRlIG9wQ29k\nZSA9IDA7CiAgICAgICAgICAgIHNob3J0IGZsYWdzID0gMDsKICAgICAgICAg\nICAgaWYgKHZlcnNpb24gPT0gMCkgewogICAgICAgICAgICAgICAgb3BDb2Rl\nID0gKGJ5dGUpaTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAg\nICAgIG9wQ29kZSA9IChieXRlKSgoaSA+PiAxNikgJiAweEZGKTsKICAgICAg\nICAgICAgICAgIGZsYWdzID0gKHNob3J0KShpICYgMHhGRkZGKTsKICAgICAg\nICAgICAgfQogICAgICAgICAgICByZXR1cm4gbmV3IFBhY2tldEhlYWRlcih2\nZXJzaW9uLCBvcENvZGUsIGZsYWdzKTsKICAgICAgICB9CgogICAgICAgIGJ5\ndGUgZ2V0VmVyc2lvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHZlcnNpb247\nCiAgICAgICAgfQoKICAgICAgICBieXRlIGdldE9wQ29kZSgpIHsKICAgICAg\nICAgICAgcmV0dXJuIG9wQ29kZTsKICAgICAgICB9CgogICAgICAgIHNob3J0\nIGdldEZsYWdzKCkgewogICAgICAgICAgICByZXR1cm4gZmxhZ3M7CiAgICAg\nICAgfQogICAgfQoKICAgIC8qKgogICAgICogVGhlIEFkZCBlbnRyeSByZXF1\nZXN0IHBheWxvYWQgd2lsbCBiZSBhIGxlZGdlciBlbnRyeSBleGFjdGx5IGFz\nIGl0IHNob3VsZAogICAgICogYmUgbG9nZ2VkLiBUaGUgcmVzcG9uc2UgcGF5\nbG9hZCB3aWxsIGJlIGEgNC1ieXRlIGludGVnZXIgdGhhdCBoYXMgdGhlCiAg\nICAgKiBlcnJvciBjb2RlIGZvbGxvd2VkIGJ5IHRoZSA4LWJ5dGUgbGVkZ2Vy\nIG51bWJlciBhbmQgOC1ieXRlIGVudHJ5IG51bWJlcgogICAgICogb2YgdGhl\nIGVudHJ5IHdyaXR0ZW4uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmlu\nYWwgYnl0ZSBBRERFTlRSWSA9IDE7CiAgICAvKioKICAgICAqIFRoZSBSZWFk\nIGVudHJ5IHJlcXVlc3QgcGF5bG9hZCB3aWxsIGJlIHRoZSBsZWRnZXIgbnVt\nYmVyIGFuZCBlbnRyeSBudW1iZXIKICAgICAqIHRvIHJlYWQuIChUaGUgbGVk\nZ2VyIG51bWJlciBpcyBhbiA4LWJ5dGUgaW50ZWdlciBhbmQgdGhlIGVudHJ5\nIG51bWJlciBpcwogICAgICogYSA4LWJ5dGUgaW50ZWdlci4pIFRoZSByZXNw\nb25zZSBwYXlsb2FkIHdpbGwgYmUgYSA0LWJ5dGUgaW50ZWdlcgogICAgICog\ncmVwcmVzZW50aW5nIGFuIGVycm9yIGNvZGUgYW5kIGEgbGVkZ2VyIGVudHJ5\nIGlmIHRoZSBlcnJvciBjb2RlIGlzIEVPSywKICAgICAqIG90aGVyd2lzZSBp\ndCB3aWxsIGJlIHRoZSA4LWJ5dGUgbGVkZ2VyIG51bWJlciBhbmQgdGhlIDQt\nYnl0ZSBlbnRyeSBudW1iZXIKICAgICAqIHJlcXVlc3RlZC4gKE5vdGUgdGhh\ndCB0aGUgZmlyc3Qgc2l4dGVlbiBieXRlcyBvZiB0aGUgZW50cnkgaGFwcGVu\nIHRvIGJlCiAgICAgKiB0aGUgbGVkZ2VyIG51bWJlciBhbmQgZW50cnkgbnVt\nYmVyIGFzIHdlbGwuKQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIGJ5dGUgUkVBREVOVFJZID0gMjsKCiAgICAvKioKICAgICAqIFRoZSBlcnJv\nciBjb2RlIHRoYXQgaW5kaWNhdGVzIHN1Y2Nlc3MKICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBmaW5hbCBpbnQgRU9LID0gMDsKICAgIC8qKgogICAgICog\nVGhlIGVycm9yIGNvZGUgdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgbGVkZ2Vy\nIGRvZXMgbm90IGV4aXN0CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmlu\nYWwgaW50IEVOT0xFREdFUiA9IDE7CiAgICAvKioKICAgICAqIFRoZSBlcnJv\nciBjb2RlIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIHJlcXVlc3RlZCBlbnRy\neSBkb2VzIG5vdCBleGlzdAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZp\nbmFsIGludCBFTk9FTlRSWSA9IDI7CiAgICAvKioKICAgICAqIFRoZSBlcnJv\nciBjb2RlIHRoYXQgaW5kaWNhdGVzIGFuIGludmFsaWQgcmVxdWVzdCB0eXBl\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEVCQURSRVEg\nPSAxMDA7CiAgICAvKioKICAgICAqIEdlbmVyYWwgZXJyb3Igb2NjdXJyZWQg\nYXQgdGhlIHNlcnZlcgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIGludCBFSU8gPSAxMDE7CgogICAgLyoqCiAgICAgKiBVbmF1dGhvcml6ZWQg\nYWNjZXNzIHRvIGxlZGdlcgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZp\nbmFsIGludCBFVUEgPSAxMDI7CgogICAgLyoqCiAgICAgKiBUaGUgc2VydmVy\nIHZlcnNpb24gaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIGNsaWVudAogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBFQkFEVkVSU0lPTiA9\nIDEwMzsKCiAgICAvKioKICAgICAqIEF0dGVtcHQgdG8gd3JpdGUgdG8gZmVu\nY2VkIGxlZGdlcgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGlu\ndCBFRkVOQ0VEID0gMTA0OwoKICAgIC8qKgogICAgICogVGhlIHNlcnZlciBp\ncyBydW5uaW5nIGFzIHJlYWQtb25seSBtb2RlCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgaW50IEVSRUFET05MWSA9IDEwNTsKCiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIHNob3J0IEZMQUdfTk9ORSA9IDB4MDsKICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgc2hvcnQgRkxBR19ET19GRU5DSU5HID0gMHgw\nMDAxOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBzaG9ydCBGTEFHX1JFQ09W\nRVJZX0FERCA9IDB4MDAwMjsKCiAgICBzdGF0aWMgY2xhc3MgUmVxdWVzdCB7\nCgogICAgICAgIGZpbmFsIGJ5dGUgcHJvdG9jb2xWZXJzaW9uOwogICAgICAg\nIGZpbmFsIGJ5dGUgb3BDb2RlOwogICAgICAgIGZpbmFsIGxvbmcgbGVkZ2Vy\nSWQ7CiAgICAgICAgZmluYWwgbG9uZyBlbnRyeUlkOwogICAgICAgIGZpbmFs\nIHNob3J0IGZsYWdzOwogICAgICAgIGZpbmFsIGJ5dGVbXSBtYXN0ZXJLZXk7\nCgogICAgICAgIHByb3RlY3RlZCBSZXF1ZXN0KGJ5dGUgcHJvdG9jb2xWZXJz\naW9uLCBieXRlIG9wQ29kZSwgbG9uZyBsZWRnZXJJZCwKICAgICAgICAgICAg\nICAgICAgICAgICAgICBsb25nIGVudHJ5SWQsIHNob3J0IGZsYWdzKSB7CiAg\nICAgICAgICAgIHRoaXMocHJvdG9jb2xWZXJzaW9uLCBvcENvZGUsIGxlZGdl\ncklkLCBlbnRyeUlkLCBmbGFncywgbnVsbCk7CiAgICAgICAgfQoKICAgICAg\nICBwcm90ZWN0ZWQgUmVxdWVzdChieXRlIHByb3RvY29sVmVyc2lvbiwgYnl0\nZSBvcENvZGUsIGxvbmcgbGVkZ2VySWQsCiAgICAgICAgICAgICAgICAgICAg\nICAgICAgbG9uZyBlbnRyeUlkLCBzaG9ydCBmbGFncywgYnl0ZVtdIG1hc3Rl\ncktleSkgewogICAgICAgICAgICB0aGlzLnByb3RvY29sVmVyc2lvbiA9IHBy\nb3RvY29sVmVyc2lvbjsKICAgICAgICAgICAgdGhpcy5vcENvZGUgPSBvcENv\nZGU7CiAgICAgICAgICAgIHRoaXMubGVkZ2VySWQgPSBsZWRnZXJJZDsKICAg\nICAgICAgICAgdGhpcy5lbnRyeUlkID0gZW50cnlJZDsKICAgICAgICAgICAg\ndGhpcy5mbGFncyA9IGZsYWdzOwogICAgICAgICAgICB0aGlzLm1hc3Rlcktl\neSA9IG1hc3RlcktleTsKICAgICAgICB9CgogICAgICAgIGJ5dGUgZ2V0UHJv\ndG9jb2xWZXJzaW9uKCkgewogICAgICAgICAgICByZXR1cm4gcHJvdG9jb2xW\nZXJzaW9uOwogICAgICAgIH0KCiAgICAgICAgYnl0ZSBnZXRPcENvZGUoKSB7\nCiAgICAgICAgICAgIHJldHVybiBvcENvZGU7CiAgICAgICAgfQoKICAgICAg\nICBsb25nIGdldExlZGdlcklkKCkgewogICAgICAgICAgICByZXR1cm4gbGVk\nZ2VySWQ7CiAgICAgICAgfQoKICAgICAgICBsb25nIGdldEVudHJ5SWQoKSB7\nCiAgICAgICAgICAgIHJldHVybiBlbnRyeUlkOwogICAgICAgIH0KCiAgICAg\nICAgc2hvcnQgZ2V0RmxhZ3MoKSB7CiAgICAgICAgICAgIHJldHVybiBmbGFn\nczsKICAgICAgICB9CgogICAgICAgIGJvb2xlYW4gaGFzTWFzdGVyS2V5KCkg\newogICAgICAgICAgICByZXR1cm4gbWFzdGVyS2V5ICE9IG51bGw7CiAgICAg\nICAgfQoKICAgICAgICBieXRlW10gZ2V0TWFzdGVyS2V5KCkgewogICAgICAg\nICAgICBhc3NlcnQgaGFzTWFzdGVyS2V5KCk7CiAgICAgICAgICAgIHJldHVy\nbiBtYXN0ZXJLZXk7CiAgICAgICAgfQoKICAgICAgICBAT3ZlcnJpZGUKICAg\nICAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkgewogICAgICAgICAgICBy\nZXR1cm4gU3RyaW5nLmZvcm1hdCgiT3AoJWQpW0xlZGdlcjolZCxFbnRyeTol\nZF0iLCBvcENvZGUsIGxlZGdlcklkLCBlbnRyeUlkKTsKICAgICAgICB9CiAg\nICB9CgogICAgc3RhdGljIGNsYXNzIEFkZFJlcXVlc3QgZXh0ZW5kcyBSZXF1\nZXN0IHsKICAgICAgICBmaW5hbCBDaGFubmVsQnVmZmVyIGRhdGE7CgogICAg\nICAgIEFkZFJlcXVlc3QoYnl0ZSBwcm90b2NvbFZlcnNpb24sIGxvbmcgbGVk\nZ2VySWQsIGxvbmcgZW50cnlJZCwKICAgICAgICAgICAgICAgICAgIHNob3J0\nIGZsYWdzLCBieXRlW10gbWFzdGVyS2V5LCBDaGFubmVsQnVmZmVyIGRhdGEp\nIHsKICAgICAgICAgICAgc3VwZXIocHJvdG9jb2xWZXJzaW9uLCBBRERFTlRS\nWSwgbGVkZ2VySWQsIGVudHJ5SWQsIGZsYWdzLCBtYXN0ZXJLZXkpOwogICAg\nICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIH0KCiAgICAgICAg\nQ2hhbm5lbEJ1ZmZlciBnZXREYXRhKCkgewogICAgICAgICAgICByZXR1cm4g\nZGF0YTsKICAgICAgICB9CgogICAgICAgIEJ5dGVCdWZmZXIgZ2V0RGF0YUFz\nQnl0ZUJ1ZmZlcigpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGEudG9CeXRl\nQnVmZmVyKCkuc2xpY2UoKTsKICAgICAgICB9CgogICAgICAgIGJvb2xlYW4g\naXNSZWNvdmVyeUFkZCgpIHsKICAgICAgICAgICAgcmV0dXJuIChmbGFncyAm\nIEZMQUdfUkVDT1ZFUllfQUREKSA9PSBGTEFHX1JFQ09WRVJZX0FERDsKICAg\nICAgICB9CiAgICB9CgogICAgc3RhdGljIGNsYXNzIFJlYWRSZXF1ZXN0IGV4\ndGVuZHMgUmVxdWVzdCB7CiAgICAgICAgUmVhZFJlcXVlc3QoYnl0ZSBwcm90\nb2NvbFZlcnNpb24sIGxvbmcgbGVkZ2VySWQsIGxvbmcgZW50cnlJZCwgc2hv\ncnQgZmxhZ3MpIHsKICAgICAgICAgICAgc3VwZXIocHJvdG9jb2xWZXJzaW9u\nLCBSRUFERU5UUlksIGxlZGdlcklkLCBlbnRyeUlkLCBmbGFncyk7CiAgICAg\nICAgfQoKICAgICAgICBSZWFkUmVxdWVzdChieXRlIHByb3RvY29sVmVyc2lv\nbiwgbG9uZyBsZWRnZXJJZCwgbG9uZyBlbnRyeUlkLAogICAgICAgICAgICAg\nICAgICAgIHNob3J0IGZsYWdzLCBieXRlW10gbWFzdGVyS2V5KSB7CiAgICAg\nICAgICAgIHN1cGVyKHByb3RvY29sVmVyc2lvbiwgUkVBREVOVFJZLCBsZWRn\nZXJJZCwgZW50cnlJZCwgZmxhZ3MsIG1hc3RlcktleSk7CiAgICAgICAgfQoK\nICAgICAgICBib29sZWFuIGlzRmVuY2luZ1JlcXVlc3QoKSB7CiAgICAgICAg\nICAgIHJldHVybiAoZmxhZ3MgJiBGTEFHX0RPX0ZFTkNJTkcpID09IEZMQUdf\nRE9fRkVOQ0lORzsKICAgICAgICB9CiAgICB9CgogICAgc3RhdGljIGNsYXNz\nIFJlc3BvbnNlIHsKICAgICAgICBmaW5hbCBieXRlIHByb3RvY29sVmVyc2lv\nbjsKICAgICAgICBmaW5hbCBieXRlIG9wQ29kZTsKICAgICAgICBmaW5hbCBp\nbnQgZXJyb3JDb2RlOwogICAgICAgIGZpbmFsIGxvbmcgbGVkZ2VySWQ7CiAg\nICAgICAgZmluYWwgbG9uZyBlbnRyeUlkOwoKICAgICAgICBwcm90ZWN0ZWQg\nUmVzcG9uc2UoYnl0ZSBwcm90b2NvbFZlcnNpb24sIGJ5dGUgb3BDb2RlLAog\nICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgZXJyb3JDb2RlLCBsb25n\nIGxlZGdlcklkLCBsb25nIGVudHJ5SWQpIHsKICAgICAgICAgICAgdGhpcy5w\ncm90b2NvbFZlcnNpb24gPSBwcm90b2NvbFZlcnNpb247CiAgICAgICAgICAg\nIHRoaXMub3BDb2RlID0gb3BDb2RlOwogICAgICAgICAgICB0aGlzLmVycm9y\nQ29kZSA9IGVycm9yQ29kZTsKICAgICAgICAgICAgdGhpcy5sZWRnZXJJZCA9\nIGxlZGdlcklkOwogICAgICAgICAgICB0aGlzLmVudHJ5SWQgPSBlbnRyeUlk\nOwogICAgICAgIH0KCiAgICAgICAgYnl0ZSBnZXRQcm90b2NvbFZlcnNpb24o\nKSB7CiAgICAgICAgICAgIHJldHVybiBwcm90b2NvbFZlcnNpb247CiAgICAg\nICAgfQoKICAgICAgICBieXRlIGdldE9wQ29kZSgpIHsKICAgICAgICAgICAg\ncmV0dXJuIG9wQ29kZTsKICAgICAgICB9CgogICAgICAgIGxvbmcgZ2V0TGVk\nZ2VySWQoKSB7CiAgICAgICAgICAgIHJldHVybiBsZWRnZXJJZDsKICAgICAg\nICB9CgogICAgICAgIGxvbmcgZ2V0RW50cnlJZCgpIHsKICAgICAgICAgICAg\ncmV0dXJuIGVudHJ5SWQ7CiAgICAgICAgfQoKICAgICAgICBpbnQgZ2V0RXJy\nb3JDb2RlKCkgewogICAgICAgICAgICByZXR1cm4gZXJyb3JDb2RlOwogICAg\nICAgIH0KCiAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgcHVibGljIFN0cmlu\nZyB0b1N0cmluZygpIHsKICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mb3Jt\nYXQoIk9wKCVkKVtMZWRnZXI6JWQsRW50cnk6JWQsZXJyb3JDb2RlPSVkXSIs\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wQ29kZSwgbGVk\nZ2VySWQsIGVudHJ5SWQsIGVycm9yQ29kZSk7CiAgICAgICAgfQogICAgfQoK\nICAgIHN0YXRpYyBjbGFzcyBSZWFkUmVzcG9uc2UgZXh0ZW5kcyBSZXNwb25z\nZSB7CiAgICAgICAgZmluYWwgQ2hhbm5lbEJ1ZmZlciBkYXRhOwoKICAgICAg\nICBSZWFkUmVzcG9uc2UoYnl0ZSBwcm90b2NvbFZlcnNpb24sIGludCBlcnJv\nckNvZGUsIGxvbmcgbGVkZ2VySWQsIGxvbmcgZW50cnlJZCkgewogICAgICAg\nICAgICBzdXBlcihwcm90b2NvbFZlcnNpb24sIFJFQURFTlRSWSwgZXJyb3JD\nb2RlLCBsZWRnZXJJZCwgZW50cnlJZCk7CiAgICAgICAgICAgIHRoaXMuZGF0\nYSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBSZWFkUmVzcG9uc2UoYnl0\nZSBwcm90b2NvbFZlcnNpb24sIGludCBlcnJvckNvZGUsIGxvbmcgbGVkZ2Vy\nSWQsIGxvbmcgZW50cnlJZCwgQ2hhbm5lbEJ1ZmZlciBkYXRhKSB7CiAgICAg\nICAgICAgIHN1cGVyKHByb3RvY29sVmVyc2lvbiwgUkVBREVOVFJZLCBlcnJv\nckNvZGUsIGxlZGdlcklkLCBlbnRyeUlkKTsKICAgICAgICAgICAgdGhpcy5k\nYXRhID0gZGF0YTsKICAgICAgICB9CgogICAgICAgIGJvb2xlYW4gaGFzRGF0\nYSgpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGEgIT0gbnVsbDsKICAgICAg\nICB9CgogICAgICAgIENoYW5uZWxCdWZmZXIgZ2V0RGF0YSgpIHsKICAgICAg\nICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgfQogICAgfQoKICAgIHN0YXRp\nYyBjbGFzcyBBZGRSZXNwb25zZSBleHRlbmRzIFJlc3BvbnNlIHsKICAgICAg\nICBBZGRSZXNwb25zZShieXRlIHByb3RvY29sVmVyc2lvbiwgaW50IGVycm9y\nQ29kZSwgbG9uZyBsZWRnZXJJZCwgbG9uZyBlbnRyeUlkKSB7CiAgICAgICAg\nICAgIHN1cGVyKHByb3RvY29sVmVyc2lvbiwgQURERU5UUlksIGVycm9yQ29k\nZSwgbGVkZ2VySWQsIGVudHJ5SWQpOwogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

