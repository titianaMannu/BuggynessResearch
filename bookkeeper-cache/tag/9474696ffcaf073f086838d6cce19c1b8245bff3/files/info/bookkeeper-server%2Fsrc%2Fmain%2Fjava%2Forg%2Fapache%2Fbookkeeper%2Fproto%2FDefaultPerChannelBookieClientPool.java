{"sha":"920515ba098f078bb067034db267d98101b5301c","node_id":"MDQ6QmxvYjE1NzU5NTY6OTIwNTE1YmEwOThmMDc4YmIwNjcwMzRkYjI2N2Q5ODEwMWI1MzAxYw==","size":3165,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/920515ba098f078bb067034db267d98101b5301c","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLnByb3RvOwoKaW1w\nb3J0IGNvbS5nb29nbGUuY29tbW9uLmJhc2UuUHJlY29uZGl0aW9uczsKaW1w\nb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5uZXQuQm9va2llU29ja2V0QWRk\ncmVzczsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5wcm90by5Cb29r\na2VlcGVySW50ZXJuYWxDYWxsYmFja3MuR2VuZXJpY0NhbGxiYWNrOwppbXBv\ncnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnV0aWwuTWF0aFV0aWxzOwppbXBv\ncnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJG\nYWN0b3J5OwoKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LmF0b21pYy5B\ndG9taWNJbnRlZ2VyOwoKLyoqCiAqICBQcm92aWRlIGEgc2ltcGxlIHJvdW5k\nLXJvYmluIHN0eWxlIGNoYW5uZWwgcG9vbC4gV2UgY291bGQgaW1wcm92ZSBp\ndCBsYXRlciB0byBkbyBtb3JlCiAqICBmYW50YXN0aWMgdGhpbmdzLgogKi8K\nY2xhc3MgRGVmYXVsdFBlckNoYW5uZWxCb29raWVDbGllbnRQb29sIGltcGxl\nbWVudHMgUGVyQ2hhbm5lbEJvb2tpZUNsaWVudFBvb2wsCiAgICAgICAgR2Vu\nZXJpY0NhbGxiYWNrPFBlckNoYW5uZWxCb29raWVDbGllbnQ+IHsKCiAgICBz\ndGF0aWMgZmluYWwgTG9nZ2VyIGxvZ2dlciA9IExvZ2dlckZhY3RvcnkuZ2V0\nTG9nZ2VyKERlZmF1bHRQZXJDaGFubmVsQm9va2llQ2xpZW50UG9vbC5jbGFz\ncyk7CgogICAgZmluYWwgUGVyQ2hhbm5lbEJvb2tpZUNsaWVudEZhY3Rvcnkg\nZmFjdG9yeTsKICAgIGZpbmFsIEJvb2tpZVNvY2tldEFkZHJlc3MgYWRkcmVz\nczsKICAgIGZpbmFsIFBlckNoYW5uZWxCb29raWVDbGllbnRbXSBjbGllbnRz\nOwogICAgZmluYWwgQXRvbWljSW50ZWdlciBjb3VudGVyID0gbmV3IEF0b21p\nY0ludGVnZXIoMCk7CgogICAgRGVmYXVsdFBlckNoYW5uZWxCb29raWVDbGll\nbnRQb29sKFBlckNoYW5uZWxCb29raWVDbGllbnRGYWN0b3J5IGZhY3Rvcnks\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQm9va2ll\nU29ja2V0QWRkcmVzcyBhZGRyZXNzLAogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIGludCBjb3JlU2l6ZSkgewogICAgICAgIFByZWNv\nbmRpdGlvbnMuY2hlY2tBcmd1bWVudChjb3JlU2l6ZSA+IDApOwogICAgICAg\nIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7CiAgICAgICAgdGhpcy5hZGRyZXNz\nID0gYWRkcmVzczsKICAgICAgICB0aGlzLmNsaWVudHMgPSBuZXcgUGVyQ2hh\nbm5lbEJvb2tpZUNsaWVudFtjb3JlU2l6ZV07CiAgICAgICAgZm9yIChpbnQg\naSA9IDA7IGkgPCBjb3JlU2l6ZTsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMu\nY2xpZW50c1tpXSA9IGZhY3RvcnkuY3JlYXRlKGFkZHJlc3MpOwogICAgICAg\nIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIG9wZXJh\ndGlvbkNvbXBsZXRlKGludCByYywgUGVyQ2hhbm5lbEJvb2tpZUNsaWVudCBw\nY2JjKSB7CiAgICAgICAgLy8gbm9wCiAgICB9CgogICAgQE92ZXJyaWRlCiAg\nICBwdWJsaWMgdm9pZCBpbnRpYWxpemUoKSB7CiAgICAgICAgZm9yIChQZXJD\naGFubmVsQm9va2llQ2xpZW50IHBjYmMgOiB0aGlzLmNsaWVudHMpIHsKICAg\nICAgICAgICAgcGNiYy5jb25uZWN0SWZOZWVkZWRBbmREb09wKHRoaXMpOwog\nICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lk\nIG9idGFpbihHZW5lcmljQ2FsbGJhY2s8UGVyQ2hhbm5lbEJvb2tpZUNsaWVu\ndD4gY2FsbGJhY2spIHsKICAgICAgICBpZiAoMSA9PSBjbGllbnRzLmxlbmd0\naCkgewogICAgICAgICAgICBjbGllbnRzWzBdLmNvbm5lY3RJZk5lZWRlZEFu\nZERvT3AoY2FsbGJhY2spOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAg\nfQogICAgICAgIGludCBpZHggPSBNYXRoVXRpbHMuc2lnblNhZmVNb2QoY291\nbnRlci5nZXRBbmRJbmNyZW1lbnQoKSwgY2xpZW50cy5sZW5ndGgpOwogICAg\nICAgIGNsaWVudHNbaWR4XS5jb25uZWN0SWZOZWVkZWRBbmREb09wKGNhbGxi\nYWNrKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIGRp\nc2Nvbm5lY3QoYm9vbGVhbiB3YWl0KSB7CiAgICAgICAgZm9yIChQZXJDaGFu\nbmVsQm9va2llQ2xpZW50IHBjYmMgOiBjbGllbnRzKSB7CiAgICAgICAgICAg\nIHBjYmMuZGlzY29ubmVjdCh3YWl0KTsKICAgICAgICB9CiAgICB9CgogICAg\nQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBjbG9zZShib29sZWFuIHdhaXQp\nIHsKICAgICAgICBmb3IgKFBlckNoYW5uZWxCb29raWVDbGllbnQgcGNiYyA6\nIGNsaWVudHMpIHsKICAgICAgICAgICAgcGNiYy5jbG9zZSh3YWl0KTsKICAg\nICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

