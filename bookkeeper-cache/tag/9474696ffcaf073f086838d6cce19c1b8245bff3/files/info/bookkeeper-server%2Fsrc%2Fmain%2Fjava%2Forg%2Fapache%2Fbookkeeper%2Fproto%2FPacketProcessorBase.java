{"sha":"b247616839d306e645899fdb7f6724911547ae24","node_id":"MDQ6QmxvYjE1NzU5NTY6YjI0NzYxNjgzOWQzMDZlNjQ1ODk5ZmRiN2Y2NzI0OTExNTQ3YWUyNA==","size":3048,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b247616839d306e645899fdb7f6724911547ae24","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG87CgppbXBvcnQgb3Jn\nLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVudC5CS0V4Y2VwdGlvbjsKaW1wb3J0\nIG9yZy5hcGFjaGUuYm9va2tlZXBlci5wcm90by5Cb29raWVQcm90b2NvbC5S\nZXF1ZXN0OwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnN0YXRzLk9w\nU3RhdHNMb2dnZXI7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIudXRp\nbC5NYXRoVXRpbHM7CmltcG9ydCBvcmcuamJvc3MubmV0dHkuY2hhbm5lbC5D\naGFubmVsOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5z\nbGY0ai5Mb2dnZXJGYWN0b3J5OwoKYWJzdHJhY3QgY2xhc3MgUGFja2V0UHJv\nY2Vzc29yQmFzZSBpbXBsZW1lbnRzIFJ1bm5hYmxlIHsKICAgIHByaXZhdGUg\nZmluYWwgc3RhdGljIExvZ2dlciBsb2dnZXIgPSBMb2dnZXJGYWN0b3J5Lmdl\ndExvZ2dlcihQYWNrZXRQcm9jZXNzb3JCYXNlLmNsYXNzKTsKICAgIGZpbmFs\nIFJlcXVlc3QgcmVxdWVzdDsKICAgIGZpbmFsIENoYW5uZWwgY2hhbm5lbDsK\nICAgIGZpbmFsIEJvb2tpZVJlcXVlc3RQcm9jZXNzb3IgcmVxdWVzdFByb2Nl\nc3NvcjsKICAgIGZpbmFsIGxvbmcgZW5xdWV1ZU5hbm9zOwoKICAgIFBhY2tl\ndFByb2Nlc3NvckJhc2UoUmVxdWVzdCByZXF1ZXN0LCBDaGFubmVsIGNoYW5u\nZWwsIEJvb2tpZVJlcXVlc3RQcm9jZXNzb3IgcmVxdWVzdFByb2Nlc3Nvcikg\newogICAgICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7CiAgICAgICAgdGhp\ncy5jaGFubmVsID0gY2hhbm5lbDsKICAgICAgICB0aGlzLnJlcXVlc3RQcm9j\nZXNzb3IgPSByZXF1ZXN0UHJvY2Vzc29yOwogICAgICAgIHRoaXMuZW5xdWV1\nZU5hbm9zID0gTWF0aFV0aWxzLm5vd0luTmFubygpOwogICAgfQoKICAgIHBy\nb3RlY3RlZCBib29sZWFuIGlzVmVyc2lvbkNvbXBhdGlibGUoKSB7CiAgICAg\nICAgYnl0ZSB2ZXJzaW9uID0gcmVxdWVzdC5nZXRQcm90b2NvbFZlcnNpb24o\nKTsKICAgICAgICBpZiAodmVyc2lvbiA8IEJvb2tpZVByb3RvY29sLkxPV0VT\nVF9DT01QQVRfUFJPVE9DT0xfVkVSU0lPTgogICAgICAgICAgICAgICAgfHwg\ndmVyc2lvbiA+IEJvb2tpZVByb3RvY29sLkNVUlJFTlRfUFJPVE9DT0xfVkVS\nU0lPTikgewogICAgICAgICAgICBsb2dnZXIuZXJyb3IoIkludmFsaWQgcHJv\ndG9jb2wgdmVyc2lvbiwgZXhwZWN0ZWQgc29tZXRoaW5nIGJldHdlZW4gIgog\nICAgICAgICAgICAgICAgICAgICsgQm9va2llUHJvdG9jb2wuTE9XRVNUX0NP\nTVBBVF9QUk9UT0NPTF9WRVJTSU9OCiAgICAgICAgICAgICAgICAgICAgKyAi\nICYgIiArIEJvb2tpZVByb3RvY29sLkNVUlJFTlRfUFJPVE9DT0xfVkVSU0lP\nTgogICAgICAgICAgICAgICAgICAgICsgIi4gZ290ICIgKyByZXF1ZXN0Lmdl\ndFByb3RvY29sVmVyc2lvbigpKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNl\nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBw\ncm90ZWN0ZWQgdm9pZCBzZW5kUmVzcG9uc2UoaW50IHJjLCBPYmplY3QgcmVz\ncG9uc2UsIE9wU3RhdHNMb2dnZXIgc3RhdHNMb2dnZXIpIHsKICAgICAgICBj\naGFubmVsLndyaXRlKHJlc3BvbnNlKTsKICAgICAgICBpZiAoQm9va2llUHJv\ndG9jb2wuRU9LID09IHJjKSB7CiAgICAgICAgICAgIHN0YXRzTG9nZ2VyLnJl\nZ2lzdGVyU3VjY2Vzc2Z1bEV2ZW50KE1hdGhVdGlscy5lbGFwc2VkTVNlYyhl\nbnF1ZXVlTmFub3MpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBz\ndGF0c0xvZ2dlci5yZWdpc3RlckZhaWxlZEV2ZW50KE1hdGhVdGlscy5lbGFw\nc2VkTVNlYyhlbnF1ZXVlTmFub3MpKTsKICAgICAgICB9CiAgICB9CgogICAg\nQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBydW4oKSB7CiAgICAgICAgaWYg\nKCFpc1ZlcnNpb25Db21wYXRpYmxlKCkpIHsKICAgICAgICAgICAgc2VuZFJl\nc3BvbnNlKEJvb2tpZVByb3RvY29sLkVCQURWRVJTSU9OLAogICAgICAgICAg\nICAgICAgICAgICAgICAgUmVzcG9uc2VCdWlsZGVyLmJ1aWxkRXJyb3JSZXNw\nb25zZShCb29raWVQcm90b2NvbC5FQkFEVkVSU0lPTiwgcmVxdWVzdCksCiAg\nICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UHJvY2Vzc29yLnJlYWRS\nZXF1ZXN0U3RhdHMpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQog\nICAgICAgIHByb2Nlc3NQYWNrZXQoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQg\nYWJzdHJhY3Qgdm9pZCBwcm9jZXNzUGFja2V0KCk7Cn0K\n","encoding":"base64"}

