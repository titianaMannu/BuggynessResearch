{"sha":"ebff52608470235d93f5ca984653b38f81665631","node_id":"MDQ6QmxvYjE1NzU5NTY6ZWJmZjUyNjA4NDcwMjM1ZDkzZjVjYTk4NDY1M2IzOGY4MTY2NTYzMQ==","size":2741,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/ebff52608470235d93f5ca984653b38f81665631","content":"LyoqCiAqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRv\nciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAq\nIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRo\nZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5z\nZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21w\nbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh\nIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJl\ncXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0\naW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5z\nZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRI\nT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwg\nZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNz\naW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAq\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5wcm90bzsKCmlt\ncG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG8uQm9va2tlZXBlclBy\nb3RvY29sLkJLUGFja2V0SGVhZGVyOwppbXBvcnQgb3JnLmFwYWNoZS5ib29r\na2VlcGVyLnByb3RvLkJvb2trZWVwZXJQcm90b2NvbC5Qcm90b2NvbFZlcnNp\nb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG8uQm9va2tl\nZXBlclByb3RvY29sLlJlcXVlc3Q7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2tr\nZWVwZXIucHJvdG8uQm9va2tlZXBlclByb3RvY29sLlN0YXR1c0NvZGU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuc3RhdHMuT3BTdGF0c0xvZ2dl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci51dGlsLk1hdGhVdGls\nczsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVsLkNoYW5uZWw7Cgpw\ndWJsaWMgYWJzdHJhY3QgY2xhc3MgUGFja2V0UHJvY2Vzc29yQmFzZVYzIHsK\nCiAgICBmaW5hbCBSZXF1ZXN0IHJlcXVlc3Q7CiAgICBmaW5hbCBDaGFubmVs\nIGNoYW5uZWw7CiAgICBmaW5hbCBCb29raWVSZXF1ZXN0UHJvY2Vzc29yIHJl\ncXVlc3RQcm9jZXNzb3I7CiAgICBmaW5hbCBsb25nIGVucXVldWVOYW5vczsK\nCiAgICBwdWJsaWMgUGFja2V0UHJvY2Vzc29yQmFzZVYzKFJlcXVlc3QgcmVx\ndWVzdCwgQ2hhbm5lbCBjaGFubmVsLAogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBCb29raWVSZXF1ZXN0UHJvY2Vzc29yIHJlcXVlc3RQcm9j\nZXNzb3IpIHsKICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0OwogICAg\nICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7CiAgICAgICAgdGhpcy5yZXF1\nZXN0UHJvY2Vzc29yID0gcmVxdWVzdFByb2Nlc3NvcjsKICAgICAgICB0aGlz\nLmVucXVldWVOYW5vcyA9IE1hdGhVdGlscy5ub3dJbk5hbm8oKTsKICAgIH0K\nCiAgICBwcm90ZWN0ZWQgdm9pZCBzZW5kUmVzcG9uc2UoU3RhdHVzQ29kZSBj\nb2RlLCBPYmplY3QgcmVzcG9uc2UsIE9wU3RhdHNMb2dnZXIgc3RhdHNMb2dn\nZXIpIHsKICAgICAgICBjaGFubmVsLndyaXRlKHJlc3BvbnNlKTsKICAgICAg\nICBpZiAoU3RhdHVzQ29kZS5FT0sgPT0gY29kZSkgewogICAgICAgICAgICBz\ndGF0c0xvZ2dlci5yZWdpc3RlclN1Y2Nlc3NmdWxFdmVudChNYXRoVXRpbHMu\nZWxhcHNlZE1TZWMoZW5xdWV1ZU5hbm9zKSk7CiAgICAgICAgfSBlbHNlIHsK\nICAgICAgICAgICAgc3RhdHNMb2dnZXIucmVnaXN0ZXJGYWlsZWRFdmVudChN\nYXRoVXRpbHMuZWxhcHNlZE1TZWMoZW5xdWV1ZU5hbm9zKSk7CiAgICAgICAg\nfQogICAgfQoKICAgIHByb3RlY3RlZCBib29sZWFuIGlzVmVyc2lvbkNvbXBh\ndGlibGUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdC5nZXRIZWFk\nZXIoKS5nZXRWZXJzaW9uKCkuZXF1YWxzKFByb3RvY29sVmVyc2lvbi5WRVJT\nSU9OX1RIUkVFKTsKICAgIH0KCiAgICAvKioKICAgICAqIEJ1aWxkIGEgaGVh\nZGVyIHdpdGggcHJvdG9jb2wgdmVyc2lvbiAzIGFuZCB0aGUgb3BlcmF0aW9u\nIHR5cGUgc2FtZSBhcyB3aGF0IHdhcyBpbiB0aGUKICAgICAqIHJlcXVlc3Qu\nCiAgICAgKiBAcmV0dXJuCiAgICAgKi8KICAgIHByb3RlY3RlZCBCS1BhY2tl\ndEhlYWRlciBnZXRIZWFkZXIoKSB7CiAgICAgICAgQktQYWNrZXRIZWFkZXIu\nQnVpbGRlciBoZWFkZXIgPSBCS1BhY2tldEhlYWRlci5uZXdCdWlsZGVyKCk7\nCiAgICAgICAgaGVhZGVyLnNldFZlcnNpb24oUHJvdG9jb2xWZXJzaW9uLlZF\nUlNJT05fVEhSRUUpOwogICAgICAgIGhlYWRlci5zZXRPcGVyYXRpb24ocmVx\ndWVzdC5nZXRIZWFkZXIoKS5nZXRPcGVyYXRpb24oKSk7CiAgICAgICAgaGVh\nZGVyLnNldFR4bklkKHJlcXVlc3QuZ2V0SGVhZGVyKCkuZ2V0VHhuSWQoKSk7\nCiAgICAgICAgcmV0dXJuIGhlYWRlci5idWlsZCgpOwogICAgfQoKfQo=\n","encoding":"base64"}

