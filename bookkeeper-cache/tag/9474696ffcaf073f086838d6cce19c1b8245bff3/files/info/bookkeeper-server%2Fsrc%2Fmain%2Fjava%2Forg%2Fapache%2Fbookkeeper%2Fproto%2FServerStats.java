{"sha":"4920bb9dcddda46db9abf625219c7661740ae890","node_id":"MDQ6QmxvYjE1NzU5NTY6NDkyMGJiOWRjZGRkYTQ2ZGI5YWJmNjI1MjE5Yzc2NjE3NDBhZTg5MA==","size":2797,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/4920bb9dcddda46db9abf625219c7661740ae890","content":"LyoqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVy\nc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2Ug\ndGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vu\nc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBh\ndAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJ\nQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxl\nIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlz\ndHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24g\nYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENP\nTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxp\nZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1\nYWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMg\ndW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKcGFja2FnZSBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIucHJvdG87CgppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLnV0aWwuTWF0aFV0aWxzOwoKcHVibGljIGNsYXNzIFNlcnZlclN0YXRzIHsK\nICAgIHByaXZhdGUgc3RhdGljIFNlcnZlclN0YXRzIGluc3RhbmNlID0gbmV3\nIFNlcnZlclN0YXRzKCk7CiAgICBwcml2YXRlIGxvbmcgcGFja2V0c1NlbnQ7\nCiAgICBwcml2YXRlIGxvbmcgcGFja2V0c1JlY2VpdmVkOwogICAgcHJpdmF0\nZSBsb25nIG1heExhdGVuY3k7CiAgICBwcml2YXRlIGxvbmcgbWluTGF0ZW5j\neSA9IExvbmcuTUFYX1ZBTFVFOwogICAgcHJpdmF0ZSBsb25nIHRvdGFsTGF0\nZW5jeSA9IDA7CiAgICBwcml2YXRlIGxvbmcgY291bnQgPSAwOwoKICAgIHN0\nYXRpYyBwdWJsaWMgU2VydmVyU3RhdHMgZ2V0SW5zdGFuY2UoKSB7CiAgICAg\nICAgcmV0dXJuIGluc3RhbmNlOwogICAgfQoKICAgIHByb3RlY3RlZCBTZXJ2\nZXJTdGF0cygpIHsKICAgIH0KCiAgICAvLyBnZXR0ZXJzCiAgICBzeW5jaHJv\nbml6ZWQgcHVibGljIGxvbmcgZ2V0TWluTGF0ZW5jeSgpIHsKICAgICAgICBy\nZXR1cm4gKG1pbkxhdGVuY3kgPT0gTG9uZy5NQVhfVkFMVUUpID8gMCA6IG1p\nbkxhdGVuY3k7CiAgICB9CgogICAgc3luY2hyb25pemVkIHB1YmxpYyBsb25n\nIGdldEF2Z0xhdGVuY3koKSB7CiAgICAgICAgaWYgKGNvdW50ICE9IDApCiAg\nICAgICAgICAgIHJldHVybiB0b3RhbExhdGVuY3kgLyBjb3VudDsKICAgICAg\nICByZXR1cm4gMDsKICAgIH0KCiAgICBzeW5jaHJvbml6ZWQgcHVibGljIGxv\nbmcgZ2V0TWF4TGF0ZW5jeSgpIHsKICAgICAgICByZXR1cm4gbWF4TGF0ZW5j\neTsKICAgIH0KCgogICAgc3luY2hyb25pemVkIHB1YmxpYyBsb25nIGdldFBh\nY2tldHNSZWNlaXZlZCgpIHsKICAgICAgICByZXR1cm4gcGFja2V0c1JlY2Vp\ndmVkOwogICAgfQoKICAgIHN5bmNocm9uaXplZCBwdWJsaWMgbG9uZyBnZXRQ\nYWNrZXRzU2VudCgpIHsKICAgICAgICByZXR1cm4gcGFja2V0c1NlbnQ7CiAg\nICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5n\nKCkgewogICAgICAgIFN0cmluZ0J1aWxkZXIgc2IgPSBuZXcgU3RyaW5nQnVp\nbGRlcigpOwogICAgICAgIHNiLmFwcGVuZCgiTGF0ZW5jeSBtaW4vYXZnL21h\neDogIiArIGdldE1pbkxhdGVuY3koKSArICIvIiArIGdldEF2Z0xhdGVuY3ko\nKSArICIvIiArIGdldE1heExhdGVuY3koKSArICJcbiIpOwogICAgICAgIHNi\nLmFwcGVuZCgiUmVjZWl2ZWQ6ICIgKyBnZXRQYWNrZXRzUmVjZWl2ZWQoKSAr\nICJcbiIpOwogICAgICAgIHNiLmFwcGVuZCgiU2VudDogIiArIGdldFBhY2tl\ndHNTZW50KCkgKyAiXG4iKTsKICAgICAgICByZXR1cm4gc2IudG9TdHJpbmco\nKTsKICAgIH0KCiAgICBzeW5jaHJvbml6ZWQgdm9pZCB1cGRhdGVMYXRlbmN5\nKGxvbmcgcmVxdWVzdENyZWF0ZVRpbWUpIHsKICAgICAgICBsb25nIGxhdGVu\nY3kgPSBNYXRoVXRpbHMubm93KCkgLSByZXF1ZXN0Q3JlYXRlVGltZTsKICAg\nICAgICB0b3RhbExhdGVuY3kgKz0gbGF0ZW5jeTsKICAgICAgICBjb3VudCsr\nOwogICAgICAgIGlmIChsYXRlbmN5IDwgbWluTGF0ZW5jeSkgewogICAgICAg\nICAgICBtaW5MYXRlbmN5ID0gbGF0ZW5jeTsKICAgICAgICB9CiAgICAgICAg\naWYgKGxhdGVuY3kgPiBtYXhMYXRlbmN5KSB7CiAgICAgICAgICAgIG1heExh\ndGVuY3kgPSBsYXRlbmN5OwogICAgICAgIH0KICAgIH0KCiAgICBzeW5jaHJv\nbml6ZWQgcHVibGljIHZvaWQgcmVzZXRMYXRlbmN5KCkgewogICAgICAgIHRv\ndGFsTGF0ZW5jeSA9IGNvdW50ID0gbWF4TGF0ZW5jeSA9IDA7CiAgICAgICAg\nbWluTGF0ZW5jeSA9IExvbmcuTUFYX1ZBTFVFOwogICAgfQoKICAgIHN5bmNo\ncm9uaXplZCBwdWJsaWMgdm9pZCByZXNldE1heExhdGVuY3koKSB7CiAgICAg\nICAgbWF4TGF0ZW5jeSA9IGdldE1pbkxhdGVuY3koKTsKICAgIH0KCiAgICBz\neW5jaHJvbml6ZWQgcHVibGljIHZvaWQgaW5jcmVtZW50UGFja2V0c1JlY2Vp\ndmVkKCkgewogICAgICAgIHBhY2tldHNSZWNlaXZlZCsrOwogICAgfQoKICAg\nIHN5bmNocm9uaXplZCBwdWJsaWMgdm9pZCBpbmNyZW1lbnRQYWNrZXRzU2Vu\ndCgpIHsKICAgICAgICBwYWNrZXRzU2VudCsrOwogICAgfQoKICAgIHN5bmNo\ncm9uaXplZCBwdWJsaWMgdm9pZCByZXNldFJlcXVlc3RDb3VudGVycygpIHsK\nICAgICAgICBwYWNrZXRzUmVjZWl2ZWQgPSBwYWNrZXRzU2VudCA9IDA7CiAg\nICB9Cgp9Cg==\n","encoding":"base64"}

