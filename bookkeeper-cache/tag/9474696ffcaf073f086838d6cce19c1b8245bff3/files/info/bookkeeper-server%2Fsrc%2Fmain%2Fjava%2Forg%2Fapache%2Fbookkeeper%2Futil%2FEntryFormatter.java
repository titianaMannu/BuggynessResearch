{"sha":"1549a9f045e5af057ace60b2f49ff5e615287f07","node_id":"MDQ6QmxvYjE1NzU5NTY6MTU0OWE5ZjA0NWU1YWYwNTdhY2U2MGIyZjQ5ZmY1ZTYxNTI4N2YwNw==","size":2419,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/1549a9f045e5af057ace60b2f49ff5e615287f07","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCgpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci51dGlsOwoKaW1w\nb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CgppbXBvcnQgb3JnLmFwYWNoZS5j\nb21tb25zLmNvbmZpZ3VyYXRpb24uQ29uZmlndXJhdGlvbjsKCmltcG9ydCBv\ncmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rv\ncnk7CgovKioKICogRm9ybWF0dGVyIHRvIGZvcm1hdCBhbiBlbnRyeQogKi8K\ncHVibGljIGFic3RyYWN0IGNsYXNzIEVudHJ5Rm9ybWF0dGVyIHsKCiAgICBw\ncml2YXRlIGZpbmFsIHN0YXRpYyBMb2dnZXIgTE9HID0gTG9nZ2VyRmFjdG9y\neS5nZXRMb2dnZXIoRW50cnlGb3JtYXR0ZXIuY2xhc3MpOwoKICAgIHByb3Rl\nY3RlZCBDb25maWd1cmF0aW9uIGNvbmY7CgogICAgcHVibGljIHZvaWQgc2V0\nQ29uZihDb25maWd1cmF0aW9uIGNvbmYpIHsKICAgICAgICB0aGlzLmNvbmYg\nPSBjb25mOwogICAgfQoKICAgIC8qKgogICAgICogRm9ybWF0IGFuIGVudHJ5\nIGludG8gYSByZWFkYWJsZSBmb3JtYXQKICAgICAqCiAgICAgKiBAcGFyYW0g\nZGF0YQogICAgICogICAgICAgICAgRGF0YSBQYXlsb2FkCiAgICAgKi8KICAg\nIHB1YmxpYyBhYnN0cmFjdCB2b2lkIGZvcm1hdEVudHJ5KGJ5dGVbXSBkYXRh\nKTsKCiAgICAvKioKICAgICAqIEZvcm1hdCBhbiBlbnRyeSBmcm9tIGEgc3Ry\naW5nIGludG8gYSByZWFkYWJsZSBmb3JtYXQKICAgICAqCiAgICAgKiBAcGFy\nYW0gaW5wdXQKICAgICAqICAgICAgICAgIElucHV0IFN0cmVhbQogICAgICov\nCiAgICBwdWJsaWMgYWJzdHJhY3Qgdm9pZCBmb3JtYXRFbnRyeShqYXZhLmlv\nLklucHV0U3RyZWFtIGlucHV0KTsKCiAgICBwdWJsaWMgZmluYWwgc3RhdGlj\nIEVudHJ5Rm9ybWF0dGVyIFNUUklOR19GT1JNQVRURVIgPSBuZXcgU3RyaW5n\nRW50cnlGb3JtYXR0ZXIoKTsKCiAgICBwdWJsaWMgc3RhdGljIEVudHJ5Rm9y\nbWF0dGVyIG5ld0VudHJ5Rm9ybWF0dGVyKENvbmZpZ3VyYXRpb24gY29uZiwg\nU3RyaW5nIGNsc1Byb3BlcnR5KSB7CiAgICAgICAgU3RyaW5nIGNscyA9IGNv\nbmYuZ2V0U3RyaW5nKGNsc1Byb3BlcnR5LCBTdHJpbmdFbnRyeUZvcm1hdHRl\nci5jbGFzcy5nZXROYW1lKCkpOwogICAgICAgIENsYXNzTG9hZGVyIGNsYXNz\nTG9hZGVyID0gRW50cnlGb3JtYXR0ZXIuY2xhc3MuZ2V0Q2xhc3NMb2FkZXIo\nKTsKICAgICAgICBFbnRyeUZvcm1hdHRlciBmb3JtYXR0ZXI7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgQ2xhc3MgYUNscyA9IGNsYXNzTG9hZGVyLmxv\nYWRDbGFzcyhjbHMpOwogICAgICAgICAgICBmb3JtYXR0ZXIgPSAoRW50cnlG\nb3JtYXR0ZXIpIGFDbHMubmV3SW5zdGFuY2UoKTsKICAgICAgICAgICAgZm9y\nbWF0dGVyLnNldENvbmYoY29uZik7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0\naW9uIGUpIHsKICAgICAgICAgICAgTE9HLndhcm4oIk5vIGZvcm1hdHRlciBj\nbGFzcyBmb3VuZCA6ICIgKyBjbHMsIGUpOwogICAgICAgICAgICBMT0cud2Fy\nbigiVXNpbmcgRGVmYXVsdCBTdHJpbmcgRm9ybWF0dGVyLiIpOwogICAgICAg\nICAgICBmb3JtYXR0ZXIgPSBTVFJJTkdfRk9STUFUVEVSOwogICAgICAgIH0K\nICAgICAgICByZXR1cm4gZm9ybWF0dGVyOwogICAgfQp9Cg==\n","encoding":"base64"}

