{"sha":"5eaf224a42e67bd1cba0e14365a95d6b10609522","node_id":"MDQ6QmxvYjE1NzU5NTY6NWVhZjIyNGE0MmU2N2JkMWNiYTBlMTQzNjVhOTVkNmIxMDYwOTUyMg==","size":8549,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/5eaf224a42e67bd1cba0e14365a95d6b10609522","content":"LyoqCiAqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRv\nciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAq\nIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRo\nZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5z\nZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21w\nbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh\nIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJl\ncXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0\naW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5z\nZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRI\nT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwg\nZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNz\naW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAq\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5ib29raWU7Cgpp\nbXBvcnQgamF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlv\nbjsKaW1wb3J0IGphdmEubmV0LlVua25vd25Ib3N0RXhjZXB0aW9uOwppbXBv\ncnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQganVuaXQuZnJhbWV3b3JrLkFz\nc2VydDsKCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZi5TZXJ2\nZXJDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLnByb3RvLkJvb2tpZVNlcnZlcjsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tl\nZXBlci50ZXN0LkJvb2tLZWVwZXJDbHVzdGVyVGVzdENhc2U7CmltcG9ydCBv\ncmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbC5Cb29rS2VlcGVyQ29uc3RhbnRz\nOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnZlcnNpb25pbmcuVmVy\nc2lvbjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLktlZXBlckV4Y2Vw\ndGlvbjsKaW1wb3J0IG9yZy5qdW5pdC5UZXN0OwppbXBvcnQgb3JnLnNsZjRq\nLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwoKLyoq\nCiAqIFRoaXMgdGVzdHMgJ3VwZGF0ZWNvb2tpZScgc2hlbGwgY29tbWFuZAog\nKi8KcHVibGljIGNsYXNzIFVwZGF0ZUNvb2tpZUNtZFRlc3QgZXh0ZW5kcyBC\nb29rS2VlcGVyQ2x1c3RlclRlc3RDYXNlIHsKCiAgICBwcml2YXRlIGZpbmFs\nIHN0YXRpYyBMb2dnZXIgTE9HID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIo\nVXBkYXRlQ29va2llQ21kVGVzdC5jbGFzcyk7CgogICAgcHVibGljIFVwZGF0\nZUNvb2tpZUNtZFRlc3QoKSB7CiAgICAgICAgc3VwZXIoMSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiB1cGRhdGVjb29raWUgdG8gaG9zdG5hbWUKICAgICAq\nLwogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RVcGRhdGVDb29raWVJ\ncEFkZHJlc3NUb0hvc3RuYW1lKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgdXBkYXRlQ29va2llKCItYm9va2llSWQiLCAiaG9zdG5hbWUiLCB0cnVl\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIHVwZGF0ZWNvb2tpZSB0byBpcGFk\nZHJlc3MKICAgICAqLwogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RV\ncGRhdGVDb29raWVIb3N0bmFtZVRvSXBBZGRyZXNzKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdXBkYXRlQ29va2llKCItYm9va2llSWQiLCAiaG9z\ndG5hbWUiLCB0cnVlKTsKCiAgICAgICAgdXBkYXRlQ29va2llKCItYiIsICJp\ncCIsIGZhbHNlKTsKCiAgICAgICAgLy8gc3RhcnQgYm9va2llIHRvIGVuc3Vy\nZSBldmVyeXRoaW5nIHdvcmtzIGZpbmUKICAgICAgICBTZXJ2ZXJDb25maWd1\ncmF0aW9uIGNvbmYgPSBic0NvbmZzLmdldCgwKTsKICAgICAgICBCb29raWVT\nZXJ2ZXIgcmVzdGFydEJvb2tpZSA9IHN0YXJ0Qm9va2llKGNvbmYpOwogICAg\nICAgIHJlc3RhcnRCb29raWUuc2h1dGRvd24oKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIHVwZGF0ZWNvb2tpZSB0byBpbnZhbGlkIGJvb2tpZSBpZAogICAg\nICovCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFVwZGF0ZUNvb2tp\nZVdpdGhJbnZhbGlkT3B0aW9uKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgU3RyaW5nW10gYXJndiA9IG5ldyBTdHJpbmdbXSB7ICJ1cGRhdGVjb29r\naWUiLCAiLWIiLCAiaW52YWxpZEJvb2tpZUlEIiB9OwogICAgICAgIGZpbmFs\nIFNlcnZlckNvbmZpZ3VyYXRpb24gY29uZiA9IGJzQ29uZnMuZ2V0KDApOwog\nICAgICAgIHVwZGF0ZUNvb2tpZShhcmd2LCAtMSwgY29uZik7CgogICAgICAg\nIGFyZ3YgPSBuZXcgU3RyaW5nW10geyAidXBkYXRlY29va2llIiwgIi1iIiB9\nOwogICAgICAgIHVwZGF0ZUNvb2tpZShhcmd2LCAtMSwgY29uZik7CgogICAg\nICAgIGFyZ3YgPSBuZXcgU3RyaW5nW10geyAidXBkYXRlY29va2llIiB9Owog\nICAgICAgIHVwZGF0ZUNvb2tpZShhcmd2LCAtMSwgY29uZik7CgogICAgICAg\nIC8vIGNvbmYgbm90IHVwZGF0ZWQKICAgICAgICBhcmd2ID0gbmV3IFN0cmlu\nZ1tdIHsgInVwZGF0ZWNvb2tpZSIsICItYiIsICJob3N0bmFtZSIgfTsKICAg\nICAgICBjb25mLnNldFVzZUhvc3ROYW1lQXNCb29raWVJRChmYWxzZSk7CiAg\nICAgICAgdXBkYXRlQ29va2llKGFyZ3YsIC0xLCBjb25mKTsKCiAgICAgICAg\nYXJndiA9IG5ldyBTdHJpbmdbXSB7ICJ1cGRhdGVjb29raWUiLCAiLWIiLCAi\naXAiIH07CiAgICAgICAgY29uZi5zZXRVc2VIb3N0TmFtZUFzQm9va2llSUQo\ndHJ1ZSk7CiAgICAgICAgdXBkYXRlQ29va2llKGFyZ3YsIC0xLCBjb25mKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIER1cmluZyBmaXJzdCB1cGRhdGVjb29r\naWUgaXQgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgdGhlIGhvc3RuYW1lIGNvb2tp\nZSBidXQKICAgICAqIGl0IGZhaWxzIHRvIGRlbGV0ZSB0aGUgb2xkIGlwYWRk\ncmVzcyBjb29raWUuIEhlcmUgdXNlciB3aWxsIGlzc3VlCiAgICAgKiB1cGRh\ndGVjb29raWUgYWdhaW4sIG5vdyBpdCBzaG91bGQgYmUgYWJsZSB0byBkZWxl\ndGUgdGhlIG9sZCBjb29raWUKICAgICAqIGdyYWNlZnVsbHkuCiAgICAgKi8K\nICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0V2hlbkJvdGhJUGFkZHJl\nc3NBbmRIb3N0TmFtZUNvb2tpZXNFeGlzdHMoKSB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICB1cGRhdGVDb29raWUoIi1iIiwgImhvc3RuYW1lIiwgdHJ1\nZSk7CgogICAgICAgIC8vIGNyZWF0ZXMgY29va2llIHdpdGggaXBhZGRyZXNz\nCiAgICAgICAgU2VydmVyQ29uZmlndXJhdGlvbiBjb25mID0gYnNDb25mcy5n\nZXQoMCk7CiAgICAgICAgY29uZi5zZXRVc2VIb3N0TmFtZUFzQm9va2llSUQo\ndHJ1ZSk7IC8vIHNldHMgdG8gaG9zdG5hbWUKICAgICAgICBDb29raWUgY29v\na2llID0gQ29va2llLnJlYWRGcm9tWm9vS2VlcGVyKHprYywgY29uZikuZ2V0\nVmFsdWUoKTsKICAgICAgICBDb29raWUuQnVpbGRlciBjb29raWVCdWlsZGVy\nID0gQ29va2llLm5ld0J1aWxkZXIoY29va2llKTsKICAgICAgICBjb25mLnNl\ndFVzZUhvc3ROYW1lQXNCb29raWVJRChmYWxzZSk7IC8vIHNldHMgdG8gaG9z\ndG5hbWUKICAgICAgICBmaW5hbCBTdHJpbmcgbmV3Qm9va2llSG9zdCA9IEJv\nb2tpZS5nZXRCb29raWVBZGRyZXNzKGNvbmYpLnRvU3RyaW5nKCk7CiAgICAg\nICAgY29va2llQnVpbGRlci5zZXRCb29raWVIb3N0KG5ld0Jvb2tpZUhvc3Qp\nOwogICAgICAgIGNvb2tpZUJ1aWxkZXIuYnVpbGQoKS53cml0ZVRvWm9vS2Vl\ncGVyKHprYywgY29uZiwgVmVyc2lvbi5ORVcpOwogICAgICAgIHZlcmlmeUNv\nb2tpZUluWm9vS2VlcGVyKGNvbmYsIDIpOwoKICAgICAgICAvLyBhZ2FpbiBp\nc3N1ZSBob3N0bmFtZSBjbWQKICAgICAgICBCb29raWVTaGVsbCBia1NoZWxs\nID0gbmV3IEJvb2tpZVNoZWxsKCk7CiAgICAgICAgY29uZi5zZXRVc2VIb3N0\nTmFtZUFzQm9va2llSUQodHJ1ZSk7IC8vIHNldHMgdG8gaG9zdG5hbWUKICAg\nICAgICBia1NoZWxsLnNldENvbmYoY29uZik7CiAgICAgICAgU3RyaW5nW10g\nYXJndiA9IG5ldyBTdHJpbmdbXSB7ICJ1cGRhdGVjb29raWUiLCAiLWIiLCAi\naG9zdG5hbWUiIH07CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscygiRmFp\nbGVkIHRvIHJldHVybiB0aGUgZXJyb3IgY29kZSEiLCAwLCBia1NoZWxsLnJ1\nbihhcmd2KSk7CgogICAgICAgIGNvbmYuc2V0VXNlSG9zdE5hbWVBc0Jvb2tp\nZUlEKHRydWUpOwogICAgICAgIGNvb2tpZSA9IENvb2tpZS5yZWFkRnJvbVpv\nb0tlZXBlcih6a2MsIGNvbmYpLmdldFZhbHVlKCk7CiAgICAgICAgQXNzZXJ0\nLmFzc2VydEZhbHNlKCJDb29raWUgaGFzIGNyZWF0ZWQgd2l0aCBJUCEiLCBj\nb29raWUuaXNCb29raWVIb3N0Q3JlYXRlZEZyb21JcCgpKTsKICAgICAgICAv\nLyBlbnN1cmUgdGhlIG9sZCBjb29raWUgaXMgZGVsZXRlZAogICAgICAgIHZl\ncmlmeUNvb2tpZUluWm9vS2VlcGVyKGNvbmYsIDEpOwogICAgfQoKICAgIC8q\nKgogICAgICogdXBkYXRlY29va2llIHRvIGhvc3RuYW1lCiAgICAgKi8KICAg\nIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0RHVwbGljYXRlVXBkYXRlQ29v\na2llSXBBZGRyZXNzKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgU3Ry\naW5nW10gYXJndiA9IG5ldyBTdHJpbmdbXSB7ICJ1cGRhdGVjb29raWUiLCAi\nLWIiLCAiaXAiIH07CiAgICAgICAgZmluYWwgU2VydmVyQ29uZmlndXJhdGlv\nbiBjb25mID0gYnNDb25mcy5nZXQoMCk7CiAgICAgICAgY29uZi5zZXRVc2VI\nb3N0TmFtZUFzQm9va2llSUQodHJ1ZSk7CiAgICAgICAgdXBkYXRlQ29va2ll\nKGFyZ3YsIC0xLCBjb25mKTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVibGlj\nIHZvaWQgdGVzdFdoZW5Ob0Nvb2tpZUV4aXN0cygpIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIFNlcnZlckNvbmZpZ3VyYXRpb24gY29uZiA9IGJzQ29u\nZnMuZ2V0KDApOwogICAgICAgIEJvb2tpZVNlcnZlciBia3MgPSBicy5nZXQo\nMCk7CiAgICAgICAgYmtzLnNodXRkb3duKCk7CgogICAgICAgIFN0cmluZyB6\na0Nvb2tpZVBhdGggPSBDb29raWUuZ2V0WmtQYXRoKGNvbmYpOwogICAgICAg\nIEFzc2VydC5hc3NlcnROb3ROdWxsKCJDb29raWUgcGF0aCBkb2Vzbid0IHN0\naWxsIGV4aXN0cyEiLCB6a2MuZXhpc3RzKHprQ29va2llUGF0aCwgZmFsc2Up\nKTsKICAgICAgICB6a2MuZGVsZXRlKHprQ29va2llUGF0aCwgLTEpOwogICAg\nICAgIEFzc2VydC5hc3NlcnROdWxsKCJDb29raWUgcGF0aCBzdGlsbCBleGlz\ndHMhIiwgemtjLmV4aXN0cyh6a0Nvb2tpZVBhdGgsIGZhbHNlKSk7CgogICAg\nICAgIEJvb2tpZVNoZWxsIGJrU2hlbGwgPSBuZXcgQm9va2llU2hlbGwoKTsK\nICAgICAgICBjb25mLnNldFVzZUhvc3ROYW1lQXNCb29raWVJRCh0cnVlKTsK\nICAgICAgICBia1NoZWxsLnNldENvbmYoY29uZik7CiAgICAgICAgU3RyaW5n\nW10gYXJndiA9IG5ldyBTdHJpbmdbXSB7ICJ1cGRhdGVjb29raWUiLCAiLWIi\nLCAiaG9zdG5hbWUiIH07CiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscygi\nRmFpbGVkIHRvIHJldHVybiB0aGUgZXJyb3IgY29kZSEiLCAtMSwgYmtTaGVs\nbC5ydW4oYXJndikpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCB2ZXJpZnlD\nb29raWVJblpvb0tlZXBlcihTZXJ2ZXJDb25maWd1cmF0aW9uIGNvbmYsIGlu\ndCBleHBlY3RlZENvdW50KSB0aHJvd3MgS2VlcGVyRXhjZXB0aW9uLAogICAg\nICAgICAgICBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiB7CiAgICAgICAgTGlzdDxT\ndHJpbmc+IGNvb2tpZXM7CiAgICAgICAgU3RyaW5nIGJvb2tpZUNvb2tpZVBh\ndGgxID0gY29uZi5nZXRaa0xlZGdlcnNSb290UGF0aCgpICsgIi8iICsgQm9v\na0tlZXBlckNvbnN0YW50cy5DT09LSUVfTk9ERTsKICAgICAgICBjb29raWVz\nID0gemtjLmdldENoaWxkcmVuKGJvb2tpZUNvb2tpZVBhdGgxLCBmYWxzZSk7\nCiAgICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscygiV3JvbmdseSB1cGRhdGVk\nIHRoZSBjb29raWUhIiwgZXhwZWN0ZWRDb3VudCwgY29va2llcy5zaXplKCkp\nOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCB1cGRhdGVDb29raWUoU3RyaW5n\nIG9wdGlvbiwgU3RyaW5nIG9wdGlvblZhbCwgYm9vbGVhbiB1c2VIb3N0TmFt\nZUFzQm9va2llSUQpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIFNlcnZl\nckNvbmZpZ3VyYXRpb24gY29uZiA9IGJzQ29uZnMuZ2V0KDApOwogICAgICAg\nIEJvb2tpZVNlcnZlciBia3MgPSBicy5nZXQoMCk7CiAgICAgICAgYmtzLnNo\ndXRkb3duKCk7CgogICAgICAgIGNvbmYuc2V0VXNlSG9zdE5hbWVBc0Jvb2tp\nZUlEKCF1c2VIb3N0TmFtZUFzQm9va2llSUQpOwogICAgICAgIENvb2tpZSBj\nb29raWUgPSBDb29raWUucmVhZEZyb21ab29LZWVwZXIoemtjLCBjb25mKS5n\nZXRWYWx1ZSgpOwogICAgICAgIGZpbmFsIGJvb2xlYW4gcHJldmlvdXNCb29r\naWVJRCA9IGNvb2tpZS5pc0Jvb2tpZUhvc3RDcmVhdGVkRnJvbUlwKCk7CiAg\nICAgICAgQXNzZXJ0LmFzc2VydEVxdWFscygiV3JvbmcgY29va2llISIsIHVz\nZUhvc3ROYW1lQXNCb29raWVJRCwgcHJldmlvdXNCb29raWVJRCk7CgogICAg\nICAgIExPRy5pbmZvKCJQZXJmb3JtIHVwZGF0ZWNvb2tpZSBjb21tYW5kIik7\nCiAgICAgICAgU2VydmVyQ29uZmlndXJhdGlvbiBuZXdjb25mID0gbmV3IFNl\ncnZlckNvbmZpZ3VyYXRpb24oY29uZik7CiAgICAgICAgbmV3Y29uZi5zZXRV\nc2VIb3N0TmFtZUFzQm9va2llSUQodXNlSG9zdE5hbWVBc0Jvb2tpZUlEKTsK\nICAgICAgICBCb29raWVTaGVsbCBia1NoZWxsID0gbmV3IEJvb2tpZVNoZWxs\nKCk7CiAgICAgICAgYmtTaGVsbC5zZXRDb25mKG5ld2NvbmYpOwogICAgICAg\nIFN0cmluZ1tdIGFyZ3YgPSBuZXcgU3RyaW5nW10geyAidXBkYXRlY29va2ll\nIiwgb3B0aW9uLCBvcHRpb25WYWwgfTsKICAgICAgICBBc3NlcnQuYXNzZXJ0\nRXF1YWxzKCJGYWlsZWQgdG8gcmV0dXJuIGV4aXQgY29kZSEiLCAwLCBia1No\nZWxsLnJ1bihhcmd2KSk7CgogICAgICAgIG5ld2NvbmYuc2V0VXNlSG9zdE5h\nbWVBc0Jvb2tpZUlEKHVzZUhvc3ROYW1lQXNCb29raWVJRCk7CiAgICAgICAg\nY29va2llID0gQ29va2llLnJlYWRGcm9tWm9vS2VlcGVyKHprYywgbmV3Y29u\nZikuZ2V0VmFsdWUoKTsKICAgICAgICBBc3NlcnQuYXNzZXJ0RXF1YWxzKCJX\ncm9uZ2x5IHVwZGF0ZWQgY29va2llISIsIHByZXZpb3VzQm9va2llSUQsICFj\nb29raWUuaXNCb29raWVIb3N0Q3JlYXRlZEZyb21JcCgpKTsKICAgICAgICBB\nc3NlcnQuYXNzZXJ0RXF1YWxzKCJXcm9uZ2x5IHVwZGF0ZWQgY29va2llISIs\nIHVzZUhvc3ROYW1lQXNCb29raWVJRCwgIWNvb2tpZS5pc0Jvb2tpZUhvc3RD\ncmVhdGVkRnJvbUlwKCkpOwogICAgICAgIHZlcmlmeUNvb2tpZUluWm9vS2Vl\ncGVyKG5ld2NvbmYsIDEpOwoKICAgICAgICBGaWxlIGpvdXJuYWxEaXIgPSBC\nb29raWUuZ2V0Q3VycmVudERpcmVjdG9yeShjb25mLmdldEpvdXJuYWxEaXIo\nKSk7CiAgICAgICAgQ29va2llIGpDb29raWUgPSBDb29raWUucmVhZEZyb21E\naXJlY3Rvcnkoam91cm5hbERpcik7CiAgICAgICAgakNvb2tpZS52ZXJpZnko\nY29va2llKTsKICAgICAgICBGaWxlW10gbGVkZ2VyRGlyID0gQm9va2llLmdl\ndEN1cnJlbnREaXJlY3Rvcmllcyhjb25mLmdldExlZGdlckRpcnMoKSk7CiAg\nICAgICAgZm9yIChGaWxlIGRpciA6IGxlZGdlckRpcikgewogICAgICAgICAg\nICBDb29raWUgbENvb2tpZSA9IENvb2tpZS5yZWFkRnJvbURpcmVjdG9yeShk\naXIpOwogICAgICAgICAgICBsQ29va2llLnZlcmlmeShjb29raWUpOwogICAg\nICAgIH0KICAgIH0KCiAgICBwcml2YXRlIHZvaWQgdXBkYXRlQ29va2llKFN0\ncmluZ1tdIGFyZ3YsIGludCBleGl0Q29kZSwgU2VydmVyQ29uZmlndXJhdGlv\nbiBjb25mKSB0aHJvd3MgS2VlcGVyRXhjZXB0aW9uLAogICAgICAgICAgICBJ\nbnRlcnJ1cHRlZEV4Y2VwdGlvbiwgSU9FeGNlcHRpb24sIFVua25vd25Ib3N0\nRXhjZXB0aW9uLCBFeGNlcHRpb24gewogICAgICAgIEJvb2tpZVNlcnZlciBi\na3MgPSBicy5nZXQoMCk7CiAgICAgICAgYmtzLnNodXRkb3duKCk7CgogICAg\nICAgIExPRy5pbmZvKCJQZXJmb3JtIHVwZGF0ZWNvb2tpZSBjb21tYW5kIik7\nCiAgICAgICAgQm9va2llU2hlbGwgYmtTaGVsbCA9IG5ldyBCb29raWVTaGVs\nbCgpOwogICAgICAgIGJrU2hlbGwuc2V0Q29uZihjb25mKTsKCiAgICAgICAg\nQXNzZXJ0LmFzc2VydEVxdWFscygiRmFpbGVkIHRvIHJldHVybiBleGl0IGNv\nZGUhIiwgZXhpdENvZGUsIGJrU2hlbGwucnVuKGFyZ3YpKTsKICAgIH0KfQo=\n","encoding":"base64"}

