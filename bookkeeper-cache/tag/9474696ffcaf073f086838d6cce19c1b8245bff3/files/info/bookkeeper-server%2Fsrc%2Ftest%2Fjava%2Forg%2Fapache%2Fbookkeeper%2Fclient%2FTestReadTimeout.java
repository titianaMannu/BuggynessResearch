{"sha":"96c5fa872a9feb459cf7d34b7fdf160d68ba96cc","node_id":"MDQ6QmxvYjE1NzU5NTY6OTZjNWZhODcyYTlmZWI0NTljZjdkMzRiN2ZkZjE2MGQ2OGJhOTZjYw==","size":3434,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/96c5fa872a9feb459cf7d34b7fdf160d68ba96cc","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50OwoKLyoKICoK\nICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u\nIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vu\nc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRp\nb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNG\nIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UK\nICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAq\nIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUK\nICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFu\nZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgpp\nbXBvcnQgamF2YS51dGlsLkhhc2hTZXQ7CmltcG9ydCBqYXZhLnV0aWwuU2V0\nOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ291bnREb3duTGF0Y2g7\nCmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljQm9v\nbGVhbjsKCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50LkFz\neW5jQ2FsbGJhY2suQWRkQ2FsbGJhY2s7CmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIuY2xpZW50LkJvb2tLZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0\nIG9yZy5hcGFjaGUuYm9va2tlZXBlci5uZXQuQm9va2llU29ja2V0QWRkcmVz\nczsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci50ZXN0LkJvb2tLZWVw\nZXJDbHVzdGVyVGVzdENhc2U7CmltcG9ydCBvcmcuanVuaXQuQXNzZXJ0Owpp\nbXBvcnQgb3JnLmp1bml0LlRlc3Q7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2Vy\nOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rvcnk7CgovKioKICogVGhp\ncyB1bml0IHRlc3QgdGVzdHMgbGVkZ2VyIGZlbmNpbmc7CiAqCiAqLwpwdWJs\naWMgY2xhc3MgVGVzdFJlYWRUaW1lb3V0IGV4dGVuZHMgQm9va0tlZXBlckNs\ndXN0ZXJUZXN0Q2FzZSB7CiAgICBwcml2YXRlIGZpbmFsIHN0YXRpYyBMb2dn\nZXIgTE9HID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoVGVzdFJlYWRUaW1l\nb3V0LmNsYXNzKTsKCiAgICBEaWdlc3RUeXBlIGRpZ2VzdFR5cGU7CgogICAg\ncHVibGljIFRlc3RSZWFkVGltZW91dCgpIHsKICAgICAgICBzdXBlcigxMCk7\nCiAgICAgICAgdGhpcy5kaWdlc3RUeXBlID0gRGlnZXN0VHlwZS5DUkMzMjsK\nICAgIH0KCiAgICBAU3VwcHJlc3NXYXJuaW5ncygiZGVwcmVjYXRpb24iKQog\nICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lkIHRlc3RS\nZWFkVGltZW91dCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGZpbmFs\nIEF0b21pY0Jvb2xlYW4gY29tcGxldGVkID0gbmV3IEF0b21pY0Jvb2xlYW4o\nZmFsc2UpOwoKICAgICAgICBMZWRnZXJIYW5kbGUgd3JpdGVsaCA9IGJrYy5j\ncmVhdGVMZWRnZXIoMywzLGRpZ2VzdFR5cGUsICJ0ZXN0UGFzc3dkIi5nZXRC\neXRlcygpKTsKICAgICAgICBTdHJpbmcgdG1wID0gIkZvb2JhciI7CiAgICAg\nICAgCiAgICAgICAgZmluYWwgaW50IG51bUVudHJpZXMgPSAxMDsKICAgICAg\nICBmb3IgKGludCBpID0gMDsgaSA8IG51bUVudHJpZXM7IGkrKykgewogICAg\nICAgICAgICB3cml0ZWxoLmFkZEVudHJ5KHRtcC5nZXRCeXRlcygpKTsKICAg\nICAgICB9CiAgICAgICAgCiAgICAgICAgU2V0PEJvb2tpZVNvY2tldEFkZHJl\nc3M+IGJlZm9yZVNldCA9IG5ldyBIYXNoU2V0PEJvb2tpZVNvY2tldEFkZHJl\nc3M+KCk7CiAgICAgICAgZm9yIChCb29raWVTb2NrZXRBZGRyZXNzIGFkZHIg\nOiB3cml0ZWxoLmdldExlZGdlck1ldGFkYXRhKCkuZ2V0RW5zZW1ibGUobnVt\nRW50cmllcykpIHsKICAgICAgICAgICAgYmVmb3JlU2V0LmFkZChhZGRyKTsK\nICAgICAgICB9CgogICAgICAgIGZpbmFsIEJvb2tpZVNvY2tldEFkZHJlc3Mg\nYm9va2llVG9TbGVlcAogICAgICAgICAgICA9IHdyaXRlbGguZ2V0TGVkZ2Vy\nTWV0YWRhdGEoKS5nZXRFbnNlbWJsZShudW1FbnRyaWVzKS5nZXQoMCk7CiAg\nICAgICAgaW50IHNsZWVwdGltZSA9IGJhc2VDbGllbnRDb25mLmdldFJlYWRU\naW1lb3V0KCkqMzsKICAgICAgICBDb3VudERvd25MYXRjaCBsYXRjaCA9IHNs\nZWVwQm9va2llKGJvb2tpZVRvU2xlZXAsIHNsZWVwdGltZSk7CiAgICAgICAg\nbGF0Y2guYXdhaXQoKTsKCiAgICAgICAgd3JpdGVsaC5hc3luY0FkZEVudHJ5\nKHRtcC5nZXRCeXRlcygpLCAKICAgICAgICAgICAgICAgIG5ldyBBZGRDYWxs\nYmFjaygpIHsKICAgICAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBhZGRD\nb21wbGV0ZShpbnQgcmMsIExlZGdlckhhbmRsZSBsaCwgCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZyBlbnRyeUlk\nLCBPYmplY3QgY3R4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBs\nZXRlZC5zZXQodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAg\nICAgICAgICAgfSwgbnVsbCk7CiAgICAgICAgVGhyZWFkLnNsZWVwKChiYXNl\nQ2xpZW50Q29uZi5nZXRSZWFkVGltZW91dCgpKjMpKjEwMDApOwogICAgICAg\nIEFzc2VydC5hc3NlcnRUcnVlKCJXcml0ZSByZXF1ZXN0IGRpZCBub3QgZmlu\naXNoIiwgY29tcGxldGVkLmdldCgpKTsKCiAgICAgICAgU2V0PEJvb2tpZVNv\nY2tldEFkZHJlc3M+IGFmdGVyU2V0ID0gbmV3IEhhc2hTZXQ8Qm9va2llU29j\na2V0QWRkcmVzcz4oKTsKICAgICAgICBmb3IgKEJvb2tpZVNvY2tldEFkZHJl\nc3MgYWRkciA6IHdyaXRlbGguZ2V0TGVkZ2VyTWV0YWRhdGEoKS5nZXRFbnNl\nbWJsZShudW1FbnRyaWVzICsgMSkpIHsKICAgICAgICAgICAgYWZ0ZXJTZXQu\nYWRkKGFkZHIpOwogICAgICAgIH0KICAgICAgICBiZWZvcmVTZXQucmVtb3Zl\nQWxsKGFmdGVyU2V0KTsKICAgICAgICBBc3NlcnQuYXNzZXJ0VHJ1ZSgiQm9v\na2llIHNldCBzaG91bGQgbm90IG1hdGNoIiwgYmVmb3JlU2V0LnNpemUoKSAh\nPSAwKTsKICAgIH0KfQo=\n","encoding":"base64"}

