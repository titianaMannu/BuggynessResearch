{"sha":"c860bef4bd0752d3945ddcb419cd8b219b88f2bf","node_id":"MDQ6QmxvYjE1NzU5NTY6Yzg2MGJlZjRiZDA3NTJkMzk0NWRkY2I0MTljZDhiMjE5Yjg4ZjJiZg==","size":9104,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/c860bef4bd0752d3945ddcb419cd8b219b88f2bf","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIudGVzdDsKCi8qCiAqCiAq\nIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAo\nQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNl\nIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1\ndGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9u\nCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBs\naWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUg\nTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3Ug\nbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAq\nIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBz\nb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAq\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQg\nbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqCiAqLwoKaW1w\nb3J0IGphdmEuaW8uRmlsZTsKaW1wb3J0IGphdmEubmlvLkJ5dGVCdWZmZXI7\nCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLmNv\nbmN1cnJlbnQuRXhlY3V0b3JzOwoKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tl\nZXBlci5jbGllbnQuQktFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIuY29uZi5DbGllbnRDb25maWd1cmF0aW9uOwppbXBvcnQgb3Jn\nLmFwYWNoZS5ib29ra2VlcGVyLmNvbmYuU2VydmVyQ29uZmlndXJhdGlvbjsK\naW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5uZXQuQm9va2llU29ja2V0\nQWRkcmVzczsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jb25mLlRl\nc3RCS0NvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVw\nZXIucHJvdG8uQm9va2llQ2xpZW50OwppbXBvcnQgb3JnLmFwYWNoZS5ib29r\na2VlcGVyLnByb3RvLkJvb2tpZVByb3RvY29sOwppbXBvcnQgb3JnLmFwYWNo\nZS5ib29ra2VlcGVyLnByb3RvLkJvb2tpZVNlcnZlcjsKaW1wb3J0IG9yZy5h\ncGFjaGUuYm9va2tlZXBlci5wcm90by5Cb29ra2VlcGVySW50ZXJuYWxDYWxs\nYmFja3MuUmVhZEVudHJ5Q2FsbGJhY2s7CmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIucHJvdG8uQm9va2tlZXBlckludGVybmFsQ2FsbGJhY2tzLldy\naXRlQ2FsbGJhY2s7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIudXRp\nbC5PcmRlcmVkU2FmZUV4ZWN1dG9yOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5\nLmJ1ZmZlci5DaGFubmVsQnVmZmVyOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5\nLmJ1ZmZlci5DaGFubmVsQnVmZmVyczsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0\neS5jaGFubmVsLnNvY2tldC5DbGllbnRTb2NrZXRDaGFubmVsRmFjdG9yeTsK\naW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVsLnNvY2tldC5uaW8uTmlv\nQ2xpZW50U29ja2V0Q2hhbm5lbEZhY3Rvcnk7CmltcG9ydCBvcmcuanVuaXQu\nQWZ0ZXI7CmltcG9ydCBvcmcuanVuaXQuQmVmb3JlOwppbXBvcnQgb3JnLmp1\nbml0LlRlc3Q7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3Jn\nLnNsZjRqLkxvZ2dlckZhY3Rvcnk7CgppbXBvcnQgc3RhdGljIG9yZy5qdW5p\ndC5Bc3NlcnQuKjsKCnB1YmxpYyBjbGFzcyBCb29raWVDbGllbnRUZXN0IHsK\nICAgIHByaXZhdGUgZmluYWwgc3RhdGljIExvZ2dlciBMT0cgPSBMb2dnZXJG\nYWN0b3J5LmdldExvZ2dlcihCb29raWVDbGllbnRUZXN0LmNsYXNzKTsKICAg\nIEJvb2tpZVNlcnZlciBiczsKICAgIEZpbGUgdG1wRGlyOwogICAgcHVibGlj\nIGludCBwb3J0ID0gMTM2NDU7CiAgICBwdWJsaWMgQ2xpZW50U29ja2V0Q2hh\nbm5lbEZhY3RvcnkgY2hhbm5lbEZhY3Rvcnk7CiAgICBwdWJsaWMgT3JkZXJl\nZFNhZmVFeGVjdXRvciBleGVjdXRvcjsKICAgIFNlcnZlckNvbmZpZ3VyYXRp\nb24gY29uZiA9IFRlc3RCS0NvbmZpZ3VyYXRpb24ubmV3U2VydmVyQ29uZmln\ndXJhdGlvbigpOwoKICAgIEBCZWZvcmUKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgdG1wRGlyID0gRmlsZS5j\ncmVhdGVUZW1wRmlsZSgiYm9va2llIiwgInRlc3QiKTsKICAgICAgICB0bXBE\naXIuZGVsZXRlKCk7CiAgICAgICAgdG1wRGlyLm1rZGlyKCk7CgogICAgICAg\nIC8vIFNpbmNlIHRoaXMgdGVzdCBkb2VzIG5vdCByZWx5IG9uIHRoZSBCb29r\nS2VlcGVyIGNsaWVudCBuZWVkaW5nIHRvCiAgICAgICAgLy8ga25vdyB2aWEg\nWm9vS2VlcGVyIHdoaWNoIEJvb2tpZXMgYXJlIGF2YWlsYWJsZSwgb2theSwg\nc28gcGFzcyBpbiBudWxsCiAgICAgICAgLy8gZm9yIHRoZSB6a1NlcnZlcnMg\naW5wdXQgcGFyYW1ldGVyIHdoZW4gY29uc3RydWN0aW5nIHRoZSBCb29raWVT\nZXJ2ZXIuCiAgICAgICAgU2VydmVyQ29uZmlndXJhdGlvbiBjb25mID0gVGVz\ndEJLQ29uZmlndXJhdGlvbi5uZXdTZXJ2ZXJDb25maWd1cmF0aW9uKCk7CiAg\nICAgICAgY29uZi5zZXRaa1NlcnZlcnMobnVsbCkuc2V0Qm9va2llUG9ydChw\nb3J0KQogICAgICAgICAgICAuc2V0Sm91cm5hbERpck5hbWUodG1wRGlyLmdl\ndFBhdGgoKSkKICAgICAgICAgICAgLnNldExlZGdlckRpck5hbWVzKG5ldyBT\ndHJpbmdbXSB7IHRtcERpci5nZXRQYXRoKCkgfSk7CiAgICAgICAgYnMgPSBu\nZXcgQm9va2llU2VydmVyKGNvbmYpOwogICAgICAgIGJzLnN0YXJ0KCk7CiAg\nICAgICAgY2hhbm5lbEZhY3RvcnkgPSBuZXcgTmlvQ2xpZW50U29ja2V0Q2hh\nbm5lbEZhY3RvcnkoRXhlY3V0b3JzLm5ld0NhY2hlZFRocmVhZFBvb2woKSwg\nRXhlY3V0b3JzCiAgICAgICAgICAgICAgICAubmV3Q2FjaGVkVGhyZWFkUG9v\nbCgpKTsKICAgICAgICBleGVjdXRvciA9IG5ldyBPcmRlcmVkU2FmZUV4ZWN1\ndG9yKDIsICJCS0NsaWVudE9yZGVyZWRTYWZlRXhlY3V0b3IiKTsKICAgIH0K\nCiAgICBAQWZ0ZXIKICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgYnMuc2h1dGRvd24oKTsKICAgICAgICBy\nZWN1cnNpdmVEZWxldGUodG1wRGlyKTsKICAgICAgICBjaGFubmVsRmFjdG9y\neS5yZWxlYXNlRXh0ZXJuYWxSZXNvdXJjZXMoKTsKICAgICAgICBleGVjdXRv\nci5zaHV0ZG93bigpOwogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIHZvaWQg\ncmVjdXJzaXZlRGVsZXRlKEZpbGUgZGlyKSB7CiAgICAgICAgRmlsZSBjaGls\nZHJlbltdID0gZGlyLmxpc3RGaWxlcygpOwogICAgICAgIGlmIChjaGlsZHJl\nbiAhPSBudWxsKSB7CiAgICAgICAgICAgIGZvciAoRmlsZSBjaGlsZCA6IGNo\naWxkcmVuKSB7CiAgICAgICAgICAgICAgICByZWN1cnNpdmVEZWxldGUoY2hp\nbGQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRpci5kZWxl\ndGUoKTsKICAgIH0KCiAgICBzdGF0aWMgY2xhc3MgUmVzdWx0U3RydWN0IHsK\nICAgICAgICBpbnQgcmM7CiAgICAgICAgQnl0ZUJ1ZmZlciBlbnRyeTsKICAg\nIH0KCiAgICBSZWFkRW50cnlDYWxsYmFjayByZWNiID0gbmV3IFJlYWRFbnRy\neUNhbGxiYWNrKCkgewoKICAgICAgICBwdWJsaWMgdm9pZCByZWFkRW50cnlD\nb21wbGV0ZShpbnQgcmMsIGxvbmcgbGVkZ2VySWQsIGxvbmcgZW50cnlJZCwg\nQ2hhbm5lbEJ1ZmZlciBiYiwgT2JqZWN0IGN0eCkgewogICAgICAgICAgICBS\nZXN1bHRTdHJ1Y3QgcnMgPSAoUmVzdWx0U3RydWN0KSBjdHg7CiAgICAgICAg\nICAgIHN5bmNocm9uaXplZCAocnMpIHsKICAgICAgICAgICAgICAgIHJzLnJj\nID0gcmM7CiAgICAgICAgICAgICAgICBpZiAoYmIgIT0gbnVsbCkgewogICAg\nICAgICAgICAgICAgICAgIGJiLnJlYWRlckluZGV4KDE2KTsKICAgICAgICAg\nICAgICAgICAgICBycy5lbnRyeSA9IGJiLnRvQnl0ZUJ1ZmZlcigpOwogICAg\nICAgICAgICAgICAgICAgIHJzLm5vdGlmeUFsbCgpOwogICAgICAgICAgICAg\nICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgIH07CgogICAgV3Jp\ndGVDYWxsYmFjayB3cmNiID0gbmV3IFdyaXRlQ2FsbGJhY2soKSB7CiAgICAg\nICAgcHVibGljIHZvaWQgd3JpdGVDb21wbGV0ZShpbnQgcmMsIGxvbmcgbGVk\nZ2VySWQsIGxvbmcgZW50cnlJZCwgQm9va2llU29ja2V0QWRkcmVzcyBhZGRy\nLCBPYmplY3QgY3R4KSB7CiAgICAgICAgICAgIGlmIChjdHggIT0gbnVsbCkg\newogICAgICAgICAgICAgICAgc3luY2hyb25pemVkIChjdHgpIHsKICAgICAg\nICAgICAgICAgICAgICBjdHgubm90aWZ5QWxsKCk7CiAgICAgICAgICAgICAg\nICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIEBUZXN0\nKHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9pZCB0ZXN0V3JpdGVHYXBz\nKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgZmluYWwgT2JqZWN0IG5v\ndGlmeU9iamVjdCA9IG5ldyBPYmplY3QoKTsKICAgICAgICBieXRlW10gcGFz\nc3dkID0gbmV3IGJ5dGVbMjBdOwogICAgICAgIEFycmF5cy5maWxsKHBhc3N3\nZCwgKGJ5dGUpICdhJyk7CiAgICAgICAgQm9va2llU29ja2V0QWRkcmVzcyBh\nZGRyID0gbmV3IEJvb2tpZVNvY2tldEFkZHJlc3MoIjEyNy4wLjAuMSIsIHBv\ncnQpOwogICAgICAgIFJlc3VsdFN0cnVjdCBhcmMgPSBuZXcgUmVzdWx0U3Ry\ndWN0KCk7CgogICAgICAgIEJvb2tpZUNsaWVudCBiYyA9IG5ldyBCb29raWVD\nbGllbnQobmV3IENsaWVudENvbmZpZ3VyYXRpb24oKSwgY2hhbm5lbEZhY3Rv\ncnksIGV4ZWN1dG9yKTsKICAgICAgICBDaGFubmVsQnVmZmVyIGJiOwogICAg\nICAgIGJiID0gY3JlYXRlQnl0ZUJ1ZmZlcigxLCAxLCAxKTsKICAgICAgICBi\nYy5hZGRFbnRyeShhZGRyLCAxLCBwYXNzd2QsIDEsIGJiLCB3cmNiLCBhcmMs\nIEJvb2tpZVByb3RvY29sLkZMQUdfTk9ORSk7CiAgICAgICAgc3luY2hyb25p\nemVkIChhcmMpIHsKICAgICAgICAgICAgYXJjLndhaXQoMTAwMCk7CiAgICAg\nICAgICAgIGJjLnJlYWRFbnRyeShhZGRyLCAxLCAxLCByZWNiLCBhcmMpOwog\nICAgICAgICAgICBhcmMud2FpdCgxMDAwKTsKICAgICAgICAgICAgYXNzZXJ0\nRXF1YWxzKDAsIGFyYy5yYyk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscygx\nLCBhcmMuZW50cnkuZ2V0SW50KCkpOwogICAgICAgIH0KICAgICAgICBiYiA9\nIGNyZWF0ZUJ5dGVCdWZmZXIoMiwgMSwgMik7CiAgICAgICAgYmMuYWRkRW50\ncnkoYWRkciwgMSwgcGFzc3dkLCAyLCBiYiwgd3JjYiwgbnVsbCwgQm9va2ll\nUHJvdG9jb2wuRkxBR19OT05FKTsKICAgICAgICBiYiA9IGNyZWF0ZUJ5dGVC\ndWZmZXIoMywgMSwgMyk7CiAgICAgICAgYmMuYWRkRW50cnkoYWRkciwgMSwg\ncGFzc3dkLCAzLCBiYiwgd3JjYiwgbnVsbCwgQm9va2llUHJvdG9jb2wuRkxB\nR19OT05FKTsKICAgICAgICBiYiA9IGNyZWF0ZUJ5dGVCdWZmZXIoNSwgMSwg\nNSk7CiAgICAgICAgYmMuYWRkRW50cnkoYWRkciwgMSwgcGFzc3dkLCA1LCBi\nYiwgd3JjYiwgbnVsbCwgQm9va2llUHJvdG9jb2wuRkxBR19OT05FKTsKICAg\nICAgICBiYiA9IGNyZWF0ZUJ5dGVCdWZmZXIoNywgMSwgNyk7CiAgICAgICAg\nYmMuYWRkRW50cnkoYWRkciwgMSwgcGFzc3dkLCA3LCBiYiwgd3JjYiwgbnVs\nbCwgQm9va2llUHJvdG9jb2wuRkxBR19OT05FKTsKICAgICAgICBzeW5jaHJv\nbml6ZWQgKG5vdGlmeU9iamVjdCkgewogICAgICAgICAgICBiYiA9IGNyZWF0\nZUJ5dGVCdWZmZXIoMTEsIDEsIDExKTsKICAgICAgICAgICAgYmMuYWRkRW50\ncnkoYWRkciwgMSwgcGFzc3dkLCAxMSwgYmIsIHdyY2IsIG5vdGlmeU9iamVj\ndCwgQm9va2llUHJvdG9jb2wuRkxBR19OT05FKTsKICAgICAgICAgICAgbm90\naWZ5T2JqZWN0LndhaXQoKTsKICAgICAgICB9CiAgICAgICAgc3luY2hyb25p\nemVkIChhcmMpIHsKICAgICAgICAgICAgYmMucmVhZEVudHJ5KGFkZHIsIDEs\nIDYsIHJlY2IsIGFyYyk7CiAgICAgICAgICAgIGFyYy53YWl0KDEwMDApOwog\nICAgICAgICAgICBhc3NlcnRFcXVhbHMoQktFeGNlcHRpb24uQ29kZS5Ob1N1\nY2hFbnRyeUV4Y2VwdGlvbiwgYXJjLnJjKTsKICAgICAgICB9CiAgICAgICAg\nc3luY2hyb25pemVkIChhcmMpIHsKICAgICAgICAgICAgYmMucmVhZEVudHJ5\nKGFkZHIsIDEsIDcsIHJlY2IsIGFyYyk7CiAgICAgICAgICAgIGFyYy53YWl0\nKDEwMDApOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMCwgYXJjLnJjKTsK\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDcsIGFyYy5lbnRyeS5nZXRJbnQo\nKSk7CiAgICAgICAgfQogICAgICAgIHN5bmNocm9uaXplZCAoYXJjKSB7CiAg\nICAgICAgICAgIGJjLnJlYWRFbnRyeShhZGRyLCAxLCAxLCByZWNiLCBhcmMp\nOwogICAgICAgICAgICBhcmMud2FpdCgxMDAwKTsKICAgICAgICAgICAgYXNz\nZXJ0RXF1YWxzKDAsIGFyYy5yYyk7CiAgICAgICAgICAgIGFzc2VydEVxdWFs\ncygxLCBhcmMuZW50cnkuZ2V0SW50KCkpOwogICAgICAgIH0KICAgICAgICBz\neW5jaHJvbml6ZWQgKGFyYykgewogICAgICAgICAgICBiYy5yZWFkRW50cnko\nYWRkciwgMSwgMiwgcmVjYiwgYXJjKTsKICAgICAgICAgICAgYXJjLndhaXQo\nMTAwMCk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscygwLCBhcmMucmMpOwog\nICAgICAgICAgICBhc3NlcnRFcXVhbHMoMiwgYXJjLmVudHJ5LmdldEludCgp\nKTsKICAgICAgICB9CiAgICAgICAgc3luY2hyb25pemVkIChhcmMpIHsKICAg\nICAgICAgICAgYmMucmVhZEVudHJ5KGFkZHIsIDEsIDMsIHJlY2IsIGFyYyk7\nCiAgICAgICAgICAgIGFyYy53YWl0KDEwMDApOwogICAgICAgICAgICBhc3Nl\ncnRFcXVhbHMoMCwgYXJjLnJjKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKDMsIGFyYy5lbnRyeS5nZXRJbnQoKSk7CiAgICAgICAgfQogICAgICAgIHN5\nbmNocm9uaXplZCAoYXJjKSB7CiAgICAgICAgICAgIGJjLnJlYWRFbnRyeShh\nZGRyLCAxLCA0LCByZWNiLCBhcmMpOwogICAgICAgICAgICBhcmMud2FpdCgx\nMDAwKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKEJLRXhjZXB0aW9uLkNv\nZGUuTm9TdWNoRW50cnlFeGNlcHRpb24sIGFyYy5yYyk7CiAgICAgICAgfQog\nICAgICAgIHN5bmNocm9uaXplZCAoYXJjKSB7CiAgICAgICAgICAgIGJjLnJl\nYWRFbnRyeShhZGRyLCAxLCAxMSwgcmVjYiwgYXJjKTsKICAgICAgICAgICAg\nYXJjLndhaXQoMTAwMCk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscygwLCBh\ncmMucmMpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMTEsIGFyYy5lbnRy\neS5nZXRJbnQoKSk7CiAgICAgICAgfQogICAgICAgIHN5bmNocm9uaXplZCAo\nYXJjKSB7CiAgICAgICAgICAgIGJjLnJlYWRFbnRyeShhZGRyLCAxLCA1LCBy\nZWNiLCBhcmMpOwogICAgICAgICAgICBhcmMud2FpdCgxMDAwKTsKICAgICAg\nICAgICAgYXNzZXJ0RXF1YWxzKDAsIGFyYy5yYyk7CiAgICAgICAgICAgIGFz\nc2VydEVxdWFscyg1LCBhcmMuZW50cnkuZ2V0SW50KCkpOwogICAgICAgIH0K\nICAgICAgICBzeW5jaHJvbml6ZWQgKGFyYykgewogICAgICAgICAgICBiYy5y\nZWFkRW50cnkoYWRkciwgMSwgMTAsIHJlY2IsIGFyYyk7CiAgICAgICAgICAg\nIGFyYy53YWl0KDEwMDApOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoQktF\neGNlcHRpb24uQ29kZS5Ob1N1Y2hFbnRyeUV4Y2VwdGlvbiwgYXJjLnJjKTsK\nICAgICAgICB9CiAgICAgICAgc3luY2hyb25pemVkIChhcmMpIHsKICAgICAg\nICAgICAgYmMucmVhZEVudHJ5KGFkZHIsIDEsIDEyLCByZWNiLCBhcmMpOwog\nICAgICAgICAgICBhcmMud2FpdCgxMDAwKTsKICAgICAgICAgICAgYXNzZXJ0\nRXF1YWxzKEJLRXhjZXB0aW9uLkNvZGUuTm9TdWNoRW50cnlFeGNlcHRpb24s\nIGFyYy5yYyk7CiAgICAgICAgfQogICAgICAgIHN5bmNocm9uaXplZCAoYXJj\nKSB7CiAgICAgICAgICAgIGJjLnJlYWRFbnRyeShhZGRyLCAxLCAxMywgcmVj\nYiwgYXJjKTsKICAgICAgICAgICAgYXJjLndhaXQoMTAwMCk7CiAgICAgICAg\nICAgIGFzc2VydEVxdWFscyhCS0V4Y2VwdGlvbi5Db2RlLk5vU3VjaEVudHJ5\nRXhjZXB0aW9uLCBhcmMucmMpOwogICAgICAgIH0KICAgIH0KCiAgICBwcml2\nYXRlIENoYW5uZWxCdWZmZXIgY3JlYXRlQnl0ZUJ1ZmZlcihpbnQgaSwgbG9u\nZyBsaWQsIGxvbmcgZWlkKSB7CiAgICAgICAgQnl0ZUJ1ZmZlciBiYjsKICAg\nICAgICBiYiA9IEJ5dGVCdWZmZXIuYWxsb2NhdGUoNCArIDE2KTsKICAgICAg\nICBiYi5wdXRMb25nKGxpZCk7CiAgICAgICAgYmIucHV0TG9uZyhlaWQpOwog\nICAgICAgIGJiLnB1dEludChpKTsKICAgICAgICBiYi5mbGlwKCk7CiAgICAg\nICAgcmV0dXJuIENoYW5uZWxCdWZmZXJzLndyYXBwZWRCdWZmZXIoYmIpOwog\nICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Tm9MZWRnZXIoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBS\nZXN1bHRTdHJ1Y3QgYXJjID0gbmV3IFJlc3VsdFN0cnVjdCgpOwogICAgICAg\nIEJvb2tpZVNvY2tldEFkZHJlc3MgYWRkciA9IG5ldyBCb29raWVTb2NrZXRB\nZGRyZXNzKCIxMjcuMC4wLjEiLCBwb3J0KTsKICAgICAgICBCb29raWVDbGll\nbnQgYmMgPSBuZXcgQm9va2llQ2xpZW50KG5ldyBDbGllbnRDb25maWd1cmF0\naW9uKCksIGNoYW5uZWxGYWN0b3J5LCBleGVjdXRvcik7CiAgICAgICAgc3lu\nY2hyb25pemVkIChhcmMpIHsKICAgICAgICAgICAgYmMucmVhZEVudHJ5KGFk\nZHIsIDIsIDEzLCByZWNiLCBhcmMpOwogICAgICAgICAgICBhcmMud2FpdCgx\nMDAwKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKEJLRXhjZXB0aW9uLkNv\nZGUuTm9TdWNoTGVkZ2VyRXhpc3RzRXhjZXB0aW9uLCBhcmMucmMpOwogICAg\nICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

