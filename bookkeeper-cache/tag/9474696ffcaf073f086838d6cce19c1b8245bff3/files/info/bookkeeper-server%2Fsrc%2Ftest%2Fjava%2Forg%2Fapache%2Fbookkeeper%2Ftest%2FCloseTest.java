{"sha":"98c5f10596f0cf568345673815cfeeb41ddcfe19","node_id":"MDQ6QmxvYjE1NzU5NTY6OThjNWYxMDU5NmYwY2Y1NjgzNDU2NzM4MTVjZmVlYjQxZGRjZmUxOQ==","size":2876,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/98c5f10596f0cf568345673815cfeeb41ddcfe19","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIudGVzdDsKCi8qCiAqCiAq\nIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAo\nQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNl\nIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1\ndGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9u\nCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBs\naWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUg\nTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3Ug\nbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAq\nIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBz\nb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAq\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQg\nbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqCiAqLwoKaW1w\nb3J0IG9yZy5qdW5pdC4qOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLmNsaWVudC5MZWRnZXJIYW5kbGU7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2tr\nZWVwZXIuY2xpZW50LkJvb2tLZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0IG9y\nZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9y\neTsKCi8qKgogKiBUaGlzIHVuaXQgdGVzdCB0ZXN0cyBjbG9zaW5nIGxlZGdl\ncnMgc2VxdWVudGlhbGx5LiBJdCBjcmVhdGVzIDQgbGVkZ2VycywgdGhlbgog\nKiB3cml0ZSAxMDAwIGVudHJpZXMgdG8gZWFjaCBsZWRnZXIgYW5kIGNsb3Nl\nIGl0LgogKgogKi8KCnB1YmxpYyBjbGFzcyBDbG9zZVRlc3QgZXh0ZW5kcyBC\nYXNlVGVzdENhc2UgewogICAgcHJpdmF0ZSBmaW5hbCBzdGF0aWMgTG9nZ2Vy\nIExPRyA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKENsb3NlVGVzdC5jbGFz\ncyk7CiAgICBEaWdlc3RUeXBlIGRpZ2VzdFR5cGU7CgogICAgcHVibGljIENs\nb3NlVGVzdChEaWdlc3RUeXBlIGRpZ2VzdFR5cGUpIHsKICAgICAgICBzdXBl\ncigzKTsKICAgICAgICB0aGlzLmRpZ2VzdFR5cGUgPSBkaWdlc3RUeXBlOwog\nICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Q2xvc2UoKSB0aHJvd3MgRXhjZXB0aW9uIHsKCiAgICAgICAgLyoK\nICAgICAgICAgKiBDcmVhdGUgNCBsZWRnZXJzLgogICAgICAgICAqLwogICAg\nICAgIGludCBudW1MZWRnZXJzID0gNDsKICAgICAgICBpbnQgbnVtTXNncyA9\nIDEwMDsKCiAgICAgICAgTGVkZ2VySGFuZGxlW10gbGggPSBuZXcgTGVkZ2Vy\nSGFuZGxlW251bUxlZGdlcnNdOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgbnVtTGVkZ2VyczsgaSsrKSB7CiAgICAgICAgICAgIGxoW2ldID0gYmtj\nLmNyZWF0ZUxlZGdlcihkaWdlc3RUeXBlLCAiIi5nZXRCeXRlcygpKTsKICAg\nICAgICB9CgogICAgICAgIFN0cmluZyB0bXAgPSAiQm9va0tlZXBlciBpcyBj\nb29sISI7CgogICAgICAgIC8qCiAgICAgICAgICogV3JpdGUgMTAwMCBlbnRy\naWVzIHRvIGxoMS4KICAgICAgICAgKi8KICAgICAgICBmb3IgKGludCBpID0g\nMDsgaSA8IG51bU1zZ3M7IGkrKykgewogICAgICAgICAgICBmb3IgKGludCBq\nID0gMDsgaiA8IG51bUxlZGdlcnM7IGorKykgewogICAgICAgICAgICAgICAg\nbGhbal0uYWRkRW50cnkodG1wLmdldEJ5dGVzKCkpOwogICAgICAgICAgICB9\nCiAgICAgICAgfQoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bUxl\nZGdlcnM7IGkrKykgewoKICAgICAgICAgICAgbGhbaV0uY2xvc2UoKTsKICAg\nICAgICB9CiAgICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1\nYmxpYyB2b2lkIHRlc3RDbG9zZUJ5T3RoZXJzKCkgdGhyb3dzIEV4Y2VwdGlv\nbiB7CgogICAgICAgIGludCBudW1MZWRnZXJzID0gMTsKICAgICAgICBpbnQg\nbnVtTXNncyA9IDEwOwoKICAgICAgICBMZWRnZXJIYW5kbGUgbGggPSBia2Mu\nY3JlYXRlTGVkZ2VyKGRpZ2VzdFR5cGUsICIiLmdldEJ5dGVzKCkpOwoKICAg\nICAgICBTdHJpbmcgdG1wID0gIkJvb2tLZWVwZXIgaXMgY29vbCEiOwoKICAg\nICAgICAvKgogICAgICAgICAqIFdyaXRlIDEwIGVudHJpZXMgdG8gbGguCiAg\nICAgICAgICovCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBudW1Nc2dz\nOyBpKyspIHsKICAgICAgICAgICAgbGguYWRkRW50cnkodG1wLmdldEJ5dGVz\nKCkpOwogICAgICAgIH0KCiAgICAgICAgLy8gb3RoZXIgb25lIGNsb3NlIHRo\nZSBlbnRyaWVzCiAgICAgICAgTGVkZ2VySGFuZGxlIGxoMiA9IGJrYy5vcGVu\nTGVkZ2VyKGxoLmdldElkKCksIGRpZ2VzdFR5cGUsICIiLmdldEJ5dGVzKCkp\nOwoKICAgICAgICAvLyBzbyB0aGUgbGVkZ2VyIHdvdWxkIGJlIGNsb3NlZCwg\ndGhlIG1ldGFkYXRhIGlzIGNoYW5nZWQKICAgICAgICAvLyB0aGUgb3JpZ2lu\nYWwgbGVkZ2VyIGhhbmRsZSBzaG91bGQgYmUgYWJsZSB0byBjbG9zZSBpdCBz\ndWNjZXNzZnVsbHkKICAgICAgICBsaDIuY2xvc2UoKTsKICAgIH0KfQo=\n","encoding":"base64"}

