{"sha":"a06accd77058a221616015f9fb4ed0bf0cbb032d","node_id":"MDQ6QmxvYjE1NzU5NTY6YTA2YWNjZDc3MDU4YTIyMTYxNjAxNWY5ZmI0ZWQwYmYwY2JiMDMyZA==","size":3924,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/a06accd77058a221616015f9fb4ed0bf0cbb032d","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLnRlc3Q7CgppbXBv\ncnQgamF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsK\naW1wb3J0IGphdmEubmlvLkJ5dGVCdWZmZXI7CmltcG9ydCBqYXZhLnV0aWwu\nQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLlJhbmRvbTsKaW1wb3J0IGph\ndmEudXRpbC5jb25jdXJyZW50LlNlbWFwaG9yZTsKaW1wb3J0IGphdmEudXRp\nbC5jb25jdXJyZW50LmF0b21pYy5BdG9taWNJbnRlZ2VyOwoKaW1wb3J0IG9y\nZy5hcGFjaGUuYm9va2tlZXBlci5jb25mLkNsaWVudENvbmZpZ3VyYXRpb247\nCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuYm9va2llLkJvb2tpZTsK\naW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuQm9va0tlZXBl\nclRlc3RDbGllbnQ7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xp\nZW50LkJLRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLmNsaWVudC5Cb29rS2VlcGVyOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2Vl\ncGVyLmNsaWVudC5MZWRnZXJIYW5kbGU7CmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIuY2xpZW50LkJvb2tLZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0\nIG9yZy5hcGFjaGUuYm9va2tlZXBlci5wcm90by5Cb29ra2VlcGVySW50ZXJu\nYWxDYWxsYmFja3MuV3JpdGVDYWxsYmFjazsKaW1wb3J0IG9yZy5hcGFjaGUu\nem9va2VlcGVyLktlZXBlckV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5qdW5pdC5B\nZnRlcjsKaW1wb3J0IG9yZy5qdW5pdC5CZWZvcmU7CmltcG9ydCBvcmcuanVu\naXQuVGVzdDsKCmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3Jn\nLnNsZjRqLkxvZ2dlckZhY3Rvcnk7CgppbXBvcnQgc3RhdGljIG9yZy5qdW5p\ndC5Bc3NlcnQuKjsKCi8qKgogKiBUZXN0cyBjb25kaXRpb25hbCBzZXQgb2Yg\ndGhlIGxlZGdlciBtZXRhZGF0YSB6bm9kZS4KICovCnB1YmxpYyBjbGFzcyBD\nb25kaXRpb25hbFNldFRlc3QgZXh0ZW5kcyBCYXNlVGVzdENhc2UgewogICAg\ncHJpdmF0ZSBmaW5hbCBzdGF0aWMgTG9nZ2VyIExPRyA9IExvZ2dlckZhY3Rv\ncnkuZ2V0TG9nZ2VyKENvbmRpdGlvbmFsU2V0VGVzdC5jbGFzcyk7CgogICAg\nYnl0ZVtdIGVudHJ5OwogICAgRGlnZXN0VHlwZSBkaWdlc3RUeXBlOwogICAg\nQm9va0tlZXBlciBia2NSZWFkZXI7CgogICAgcHVibGljIENvbmRpdGlvbmFs\nU2V0VGVzdChEaWdlc3RUeXBlIGRpZ2VzdFR5cGUpIHsKICAgICAgICBzdXBl\ncigzKTsKICAgICAgICB0aGlzLmRpZ2VzdFR5cGUgPSBkaWdlc3RUeXBlOwog\nICAgfQoKICAgIEBPdmVycmlkZQogICAgQEJlZm9yZQogICAgcHVibGljIHZv\naWQgc2V0VXAoKSB0aHJvd3MgSU9FeGNlcHRpb24sIEV4Y2VwdGlvbiB7CiAg\nICAgICAgc3VwZXIuc2V0VXAoKTsKICAgICAgICBlbnRyeSA9IG5ldyBieXRl\nWzEwXTsgLy8gaW5pdGlhbGl6ZSB0aGUgZW50cmllcyBsaXN0CiAgICAgICAg\ndGhpcy5ia2NSZWFkZXIgPSBuZXcgQm9va0tlZXBlclRlc3RDbGllbnQoYmFz\nZUNsaWVudENvbmYpOwogICAgfQoKICAgIC8qKgogICAgICogT3BlbnMgYSBs\nZWRnZXIgYmVmb3JlIHRoZSBsZWRnZXIgd3JpdGVyLCB3aGljaCB0cmlnZ2Vy\ncyBsZWRnZXIgcmVjb3ZlcnkuCiAgICAgKiBXaGVuIHRoZSBsZWRnZXIgd3Jp\ndGVyIHRyaWVzIHRvIGNsb3NlIHRoZSBsZWRnZXIsIHRoZSBjbG9zZSBvcGVy\nYXRpb24KICAgICAqIHNob3VsZCBmYWlsLgogICAgICoKICAgICAqCiAgICAg\nKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAgICAgKiBAdGhyb3dzIEludGVycnVw\ndGVkRXhjZXB0aW9uCiAgICAgKiBAdGhyb3dzIEJLRXhjZXB0aW9uCiAgICAg\nKiBAdGhyb3dzIEtlZXBlckV4Y2VwdGlvbgogICAgICovCgogICAgQFRlc3Qo\ndGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lkIHRlc3RDb25kaXRpb25h\nbFNldCgpIHRocm93cyBJT0V4Y2VwdGlvbiwgSW50ZXJydXB0ZWRFeGNlcHRp\nb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJLRXhj\nZXB0aW9uLCBLZWVwZXJFeGNlcHRpb24gewogICAgICAgIExlZGdlckhhbmRs\nZSBsaFdyaXRlID0gYmtjLmNyZWF0ZUxlZGdlcihkaWdlc3RUeXBlLCBuZXcg\nYnl0ZVtdIHsgJ2EnLAogICAgICAgICAgICAgICAgJ2InIH0pOwogICAgICAg\nIGxvbmcgbGVkZ2VySWQgPSBsaFdyaXRlLmdldElkKCk7CiAgICAgICAgTE9H\nLmRlYnVnKCJMZWRnZXIgSUQ6ICIgKyBsaFdyaXRlLmdldElkKCkpOwogICAg\nICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgICAgICAg\nICBMT0cuZGVidWcoIkFkZGluZyBlbnRyeTogIiArIGkpOwogICAgICAgICAg\nICBsaFdyaXRlLmFkZEVudHJ5KGVudHJ5KTsKICAgICAgICB9CgogICAgICAg\nIC8qCiAgICAgICAgICogT3BlbiBhIGxlZGdlciBmb3IgcmVhZGluZywgd2hp\nY2ggdHJpZ2dlcnMgcmVjb3ZlcnksIHNpbmNlIHRoZSBsZWRnZXIKICAgICAg\nICAgKiBpcyBzdGlsbCBvcGVuLgogICAgICAgICAqLwogICAgICAgIExPRy5k\nZWJ1ZygiSW5zdGFudGlhdGluZyBuZXcgYm9va2tlZXBlciBjbGllbnQuIik7\nCiAgICAgICAgTGVkZ2VySGFuZGxlIGxoUmVhZCA9IGJrY1JlYWRlci5vcGVu\nTGVkZ2VyKGxoV3JpdGUuZ2V0SWQoKSwgZGlnZXN0VHlwZSwKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBieXRlW10geyAn\nYScsICdiJyB9KTsKICAgICAgICBMT0cuZGVidWcoIk9wZW5lZCB0aGUgbGVk\nZ2VyIGFscmVhZHkiKTsKCiAgICAgICAgLyoKICAgICAgICAgKiBXcml0ZXIg\ndHJpZXMgdG8gY2xvc2UgdGhlIGxlZGdlciwgYW5kIGlmIHNob3VsZCBmYWls\nLgogICAgICAgICAqLwogICAgICAgIHRyeXsKICAgICAgICAgICAgbGhXcml0\nZS5jbG9zZSgpOwogICAgICAgICAgICBmYWlsKCJTaG91bGQgaGF2ZSByZWNl\naXZlZCBhbiBleGNlcHRpb24gd2hlbiB0cnlpbmcgdG8gY2xvc2UgdGhlIGxl\nZGdlci4iKTsKICAgICAgICB9IGNhdGNoIChCS0V4Y2VwdGlvbiBlKSB7CiAg\nICAgICAgICAgIC8qCiAgICAgICAgICAgICAqIENvcnJlY3RseSBmYWlsZWQg\ndG8gY2xvc2UgdGhlIGxlZGdlcgogICAgICAgICAgICAgKi8KICAgICAgICB9\nCiAgICB9Cn0K\n","encoding":"base64"}

