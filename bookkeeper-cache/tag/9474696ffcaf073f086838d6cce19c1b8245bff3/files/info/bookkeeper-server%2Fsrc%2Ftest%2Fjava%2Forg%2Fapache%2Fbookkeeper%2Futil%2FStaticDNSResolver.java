{"sha":"a6ffce0288ae2df2178e7d0c67e7ecdf26d3c8d0","node_id":"MDQ6QmxvYjE1NzU5NTY6YTZmZmNlMDI4OGFlMmRmMjE3OGU3ZDBjNjdlN2VjZGYyNmQzYzhkMA==","size":2633,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/a6ffce0288ae2df2178e7d0c67e7ecdf26d3c8d0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFj\naGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1\naXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGlu\nZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2Ug\naXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9V\nVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhl\nciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3Ig\ndGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci51dGlsOwoKaW1wb3J0IGphdmEu\ndXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0\nIGphdmEudXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRIYXNoTWFwOwppbXBv\ncnQgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudE1hcDsKCmltcG9y\ndCBvcmcuYXBhY2hlLmJvb2trZWVwZXIubmV0LkFic3RyYWN0RE5TVG9Td2l0\nY2hNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLm5ldC5E\nTlNUb1N3aXRjaE1hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVw\nZXIubmV0Lk5ldHdvcmtUb3BvbG9neTsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dn\nZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKCi8qKgogKiBJ\nbXBsZW1lbnRzIHtAbGluayBETlNUb1N3aXRjaE1hcHBpbmd9IHZpYSBzdGF0\naWMgbWFwcGluZ3MuIFVzZWQgaW4gdGVzdCBjYXNlcyB0byBzaW11bGF0ZSBy\nYWNrcy4KICovCnB1YmxpYyBjbGFzcyBTdGF0aWNETlNSZXNvbHZlciBleHRl\nbmRzIEFic3RyYWN0RE5TVG9Td2l0Y2hNYXBwaW5nIHsKCiAgICBzdGF0aWMg\nZmluYWwgTG9nZ2VyIExPRyA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKFN0\nYXRpY0ROU1Jlc29sdmVyLmNsYXNzKTsKCiAgICBwcml2YXRlIHN0YXRpYyBm\naW5hbCBDb25jdXJyZW50TWFwPFN0cmluZywgU3RyaW5nPiBuYW1lMlJhY2tz\nID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwPFN0cmluZywgU3RyaW5nPigpOwoK\nICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBhZGROb2RlVG9SYWNrKFN0cmluZyBu\nYW1lLCBTdHJpbmcgcmFjaykgewogICAgICAgIG5hbWUyUmFja3MucHV0KG5h\nbWUsIHJhY2spOwogICAgICAgIGlmIChMT0cuaXNEZWJ1Z0VuYWJsZWQoKSkg\newogICAgICAgICAgICBMT0cuZGVidWcoIkFkZCBub2RlIHt9IHRvIHJhY2sg\ne30uIiwgbmFtZSwgcmFjayk7CiAgICAgICAgfQogICAgfQoKICAgIHB1Ymxp\nYyBzdGF0aWMgU3RyaW5nIGdldFJhY2soU3RyaW5nIG5hbWUpIHsKICAgICAg\nICBTdHJpbmcgcmFjayA9IG5hbWUyUmFja3MuZ2V0KG5hbWUpOwogICAgICAg\nIGlmIChudWxsID09IHJhY2spIHsKICAgICAgICAgICAgcmFjayA9IE5ldHdv\ncmtUb3BvbG9neS5ERUZBVUxUX1JBQ0s7CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiByYWNrOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCByZXNl\ndCgpIHsKICAgICAgICBuYW1lMlJhY2tzLmNsZWFyKCk7CiAgICB9CgogICAg\nQE92ZXJyaWRlCiAgICBwdWJsaWMgTGlzdDxTdHJpbmc+IHJlc29sdmUoTGlz\ndDxTdHJpbmc+IG5hbWVzKSB7CiAgICAgICAgTGlzdDxTdHJpbmc+IHJhY2tz\nID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAgICAgICAgZm9yIChTdHJp\nbmcgbiA6IG5hbWVzKSB7CiAgICAgICAgICAgIFN0cmluZyByYWNrID0gbmFt\nZTJSYWNrcy5nZXQobik7CiAgICAgICAgICAgIGlmIChudWxsID09IHJhY2sp\nIHsKICAgICAgICAgICAgICAgIHJhY2sgPSBOZXR3b3JrVG9wb2xvZ3kuREVG\nQVVMVF9SQUNLOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChMT0cu\naXNEZWJ1Z0VuYWJsZWQoKSkgewogICAgICAgICAgICAgICAgTE9HLmRlYnVn\nKCJSZXNvbHZlIG5hbWUge30gdG8gcmFjayB7fS4iLCBuLCByYWNrKTsKICAg\nICAgICAgICAgfQogICAgICAgICAgICByYWNrcy5hZGQocmFjayk7CiAgICAg\nICAgfQogICAgICAgIHJldHVybiByYWNrczsKICAgIH0KCiAgICBAT3ZlcnJp\nZGUKICAgIHB1YmxpYyB2b2lkIHJlbG9hZENhY2hlZE1hcHBpbmdzKCkgewog\nICAgICAgIC8vIG5vcAogICAgfQoKfQo=\n","encoding":"base64"}

