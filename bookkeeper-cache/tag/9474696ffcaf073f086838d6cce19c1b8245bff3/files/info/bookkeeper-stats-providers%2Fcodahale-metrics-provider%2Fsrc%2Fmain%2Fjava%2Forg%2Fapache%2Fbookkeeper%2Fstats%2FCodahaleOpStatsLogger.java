{"sha":"dbb79b62ba43c3dc349cb51a3002ceb407e222d5","node_id":"MDQ6QmxvYjE1NzU5NTY6ZGJiNzliNjJiYTQzYzNkYzM0OWNiNTFhMzAwMmNlYjQwN2UyMjJkNQ==","size":2445,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/dbb79b62ba43c3dc349cb51a3002ceb407e222d5","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzCiAqIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuIFRoZSBBU0YK\nICogbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hl\nIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91\nIG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3\naXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xp\nY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBh\ncHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdh\ncmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJp\nYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywgV0lUSE9VVAogKiBXQVJSQU5U\nSUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNz\nIG9yIGltcGxpZWQuIFNlZSB0aGUKICogTGljZW5zZSBmb3IgdGhlIHNwZWNp\nZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRh\ndGlvbnMgdW5kZXIKICogdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5h\ncGFjaGUuYm9va2tlZXBlci5zdGF0czsKCmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIuc3RhdHMuT3BTdGF0c0RhdGE7CmltcG9ydCBvcmcuYXBhY2hl\nLmJvb2trZWVwZXIuc3RhdHMuT3BTdGF0c0xvZ2dlcjsKCmltcG9ydCBjb20u\nY29kYWhhbGUubWV0cmljcy5UaW1lcjsKaW1wb3J0IGNvbS5jb2RhaGFsZS5t\nZXRyaWNzLlNuYXBzaG90OwoKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7Cmlt\ncG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJl\nbnQuVGltZVVuaXQ7CgpjbGFzcyBDb2RhaGFsZU9wU3RhdHNMb2dnZXIgaW1w\nbGVtZW50cyBPcFN0YXRzTG9nZ2VyIHsKICAgIGZpbmFsIFRpbWVyIHN1Y2Nl\nc3M7CiAgICBmaW5hbCBUaW1lciBmYWlsOwoKICAgIENvZGFoYWxlT3BTdGF0\nc0xvZ2dlcihUaW1lciBzdWNjZXNzLCBUaW1lciBmYWlsKSB7CiAgICAgICAg\ndGhpcy5zdWNjZXNzID0gc3VjY2VzczsKICAgICAgICB0aGlzLmZhaWwgPSBm\nYWlsOwogICAgfQoKICAgIC8vIE9wU3RhdHNMb2dnZXIgZnVuY3Rpb25zCiAg\nICBwdWJsaWMgdm9pZCByZWdpc3RlckZhaWxlZEV2ZW50KGxvbmcgZXZlbnRM\nYXRlbmN5TWlsbGlzKSB7CiAgICAgICAgZmFpbC51cGRhdGUoZXZlbnRMYXRl\nbmN5TWlsbGlzLCBUaW1lVW5pdC5NSUxMSVNFQ09ORFMpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHJlZ2lzdGVyU3VjY2Vzc2Z1bEV2ZW50KGxvbmcgZXZl\nbnRMYXRlbmN5TWlsbGlzKSB7CiAgICAgICAgc3VjY2Vzcy51cGRhdGUoZXZl\nbnRMYXRlbmN5TWlsbGlzLCBUaW1lVW5pdC5NSUxMSVNFQ09ORFMpOwogICAg\nfQoKICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgdm9pZCBjbGVhcigpIHsKICAg\nICAgICAvLyBjYW4ndCBjbGVhciBhIHRpbWVyCiAgICB9CgogICAgLyoqCiAg\nICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBnbyBhd2F5IHNvb24gKGhvcGVm\ndWxseSkuCiAgICAgKi8KICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgT3BTdGF0\nc0RhdGEgdG9PcFN0YXRzRGF0YSgpIHsKICAgICAgICBsb25nIG51bUZhaWxl\nZCA9IGZhaWwuZ2V0Q291bnQoKTsKICAgICAgICBsb25nIG51bVN1Y2Nlc3Mg\nPSBzdWNjZXNzLmdldENvdW50KCk7CiAgICAgICAgU25hcHNob3QgcyA9IHN1\nY2Nlc3MuZ2V0U25hcHNob3QoKTsKICAgICAgICBkb3VibGUgYXZnTGF0ZW5j\neU1pbGxpcyA9IHMuZ2V0TWVhbigpOwoKICAgICAgICBkb3VibGVbXSBkZWZh\ndWx0X3BlcmNlbnRpbGVzID0gezEwLCA1MCwgOTAsIDk5LCA5OS45LCA5OS45\nOX07CiAgICAgICAgbG9uZ1tdIGxhdGVuY2llc01pbGxpcyA9IG5ldyBsb25n\nW2RlZmF1bHRfcGVyY2VudGlsZXMubGVuZ3RoXTsKICAgICAgICBBcnJheXMu\nZmlsbChsYXRlbmNpZXNNaWxsaXMsIExvbmcuTUFYX1ZBTFVFKTsKICAgICAg\nICBmb3IgKGludCBpID0gMDsgaSA8IGRlZmF1bHRfcGVyY2VudGlsZXMubGVu\nZ3RoOyBpKyspIHsKICAgICAgICAgICAgbGF0ZW5jaWVzTWlsbGlzW2ldID0g\nKGxvbmcpcy5nZXRWYWx1ZShkZWZhdWx0X3BlcmNlbnRpbGVzW2ldKTsKICAg\nICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBPcFN0YXRzRGF0YShudW1TdWNj\nZXNzLCBudW1GYWlsZWQsIGF2Z0xhdGVuY3lNaWxsaXMsIGxhdGVuY2llc01p\nbGxpcyk7CiAgICB9Cn0K\n","encoding":"base64"}

