{"sha":"2ac29da131f51f2733f26395c1b08f98dba554f8","node_id":"MDQ6QmxvYjE1NzU5NTY6MmFjMjlkYTEzMWY1MWYyNzMzZjI2Mzk1YzFiMDhmOThkYmE1NTRmOA==","size":3106,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/2ac29da131f51f2733f26395c1b08f98dba554f8","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuc3RhdHMudHdpdHRlci5zY2ll\nbmNlOwoKaW1wb3J0IGNvbS50d2l0dGVyLmNvbW1vbi5hcHBsaWNhdGlvbi5T\naHV0ZG93blJlZ2lzdHJ5OwppbXBvcnQgY29tLnR3aXR0ZXIuY29tbW9uLmJh\nc2UuU3VwcGxpZXI7CmltcG9ydCBjb20udHdpdHRlci5jb21tb24ubmV0Lmh0\ndHAuaGFuZGxlcnMuVmFyc0hhbmRsZXI7CmltcG9ydCBjb20udHdpdHRlci5j\nb21tb24ubmV0Lmh0dHAuaGFuZGxlcnMuVmFyc0pzb25IYW5kbGVyOwppbXBv\ncnQgY29tLnR3aXR0ZXIuY29tbW9uLnF1YW50aXR5LkFtb3VudDsKaW1wb3J0\nIGNvbS50d2l0dGVyLmNvbW1vbi5xdWFudGl0eS5UaW1lOwppbXBvcnQgY29t\nLnR3aXR0ZXIuY29tbW9uLnN0YXRzLio7CmltcG9ydCBvcmcuZWNsaXBzZS5q\nZXR0eS5zZXJ2ZXIuU2VydmVyOwppbXBvcnQgb3JnLmVjbGlwc2UuamV0dHku\nc2VydmxldC5TZXJ2bGV0Q29udGV4dEhhbmRsZXI7CmltcG9ydCBvcmcuZWNs\naXBzZS5qZXR0eS5zZXJ2bGV0LlNlcnZsZXRIb2xkZXI7CgovKioKICogU3Rh\ncnRzIGEgamV0dHkgc2VydmVyIG9uIGEgY29uZmlndXJhYmxlIHBvcnQgYW5k\nIHRoZSBzYW1wbGVycyB0byBleHBvcnQgc3RhdHMuCiAqLwpwdWJsaWMgY2xh\nc3MgSFRUUFN0YXRzRXhwb3J0ZXIgewogICAgZmluYWwgU2VydmVyIGpldHR5\nU2VydmVyOwogICAgZmluYWwgU2h1dGRvd25SZWdpc3RyeS5TaHV0ZG93blJl\nZ2lzdHJ5SW1wbCBzaHV0RG93blJlZ2lzdHJ5OwogICAgZmluYWwgaW50IHBv\ncnQ7CgogICAgcHVibGljIEhUVFBTdGF0c0V4cG9ydGVyKGludCBwb3J0KSB7\nCiAgICAgICAgLy8gQ3JlYXRlIHRoZSBTaHV0ZG93blJlZ2lzdHJ5IG5lZWRl\nZCBmb3Igb3VyIHNhbXBsZXIKICAgICAgICB0aGlzLnNodXREb3duUmVnaXN0\ncnkgPSBuZXcgU2h1dGRvd25SZWdpc3RyeS5TaHV0ZG93blJlZ2lzdHJ5SW1w\nbCgpOwogICAgICAgIHRoaXMucG9ydCA9IHBvcnQ7CiAgICAgICAgdGhpcy5q\nZXR0eVNlcnZlciA9IG5ldyBTZXJ2ZXIocG9ydCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc3RhcnQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICAv\nLyBTdGFydCB0aGUgc2FtcGxlci4gU2FtcGxlIGV2ZXJ5IDEgc2Vjb25kIGFu\nZCByZXRhaW4gZm9yIDEgaG91cgogICAgICAgIC8vIFRPRE8oQW5pcnVkZGhh\nKTogTWFrZSB0aGlzIGNvbmZpZ3VyYWJsZSBpZiBuZWVkZWQuCiAgICAgICAg\nVGltZVNlcmllc1JlcG9zaXRvcnkgc2FtcGxlciA9IG5ldyBUaW1lU2VyaWVz\nUmVwb3NpdG9yeUltcGwoU3RhdHMuU1RBVF9SRUdJU1RSWSwKICAgICAgICAg\nICAgICAgIEFtb3VudC5vZigxTCwgVGltZS5TRUNPTkRTKSwgQW1vdW50Lm9m\nKDFMLCBUaW1lLkhPVVJTKSk7CiAgICAgICAgc2FtcGxlci5zdGFydCh0aGlz\nLnNodXREb3duUmVnaXN0cnkpOwogICAgICAgIC8vIEV4cG9ydCBKVk0gc3Rh\ndHMKICAgICAgICBKdm1TdGF0cy5leHBvcnQoKTsKICAgICAgICAvLyBDb25m\naWd1cmUgaGFuZGxlcnMKICAgICAgICBTdXBwbGllcjxJdGVyYWJsZTxTdGF0\nPD8+Pj4gc3VwcGxpZXIgPSBuZXcgU3VwcGxpZXI8SXRlcmFibGU8U3RhdDw/\nPj4+KCkgewogICAgICAgICAgICBAT3ZlcnJpZGUKICAgICAgICAgICAgcHVi\nbGljIEl0ZXJhYmxlPFN0YXQ8Pz4+IGdldCgpIHsKICAgICAgICAgICAgICAg\nIHJldHVybiBTdGF0cy5nZXRWYXJpYWJsZXMoKTsKICAgICAgICAgICAgfQog\nICAgICAgIH07CgogICAgICAgIC8vIFN0YXJ0IGpldHR5LgogICAgICAgIFNl\ncnZsZXRDb250ZXh0SGFuZGxlciBjb250ZXh0ID0gbmV3IFNlcnZsZXRDb250\nZXh0SGFuZGxlcigpOwogICAgICAgIGNvbnRleHQuc2V0Q29udGV4dFBhdGgo\nIi8iKTsKICAgICAgICB0aGlzLmpldHR5U2VydmVyLnNldEhhbmRsZXIoY29u\ndGV4dCk7CiAgICAgICAgY29udGV4dC5hZGRTZXJ2bGV0KG5ldyBTZXJ2bGV0\nSG9sZGVyKG5ldyBWYXJzSGFuZGxlcihzdXBwbGllcikpLCAiL3ZhcnMiKTsK\nICAgICAgICBjb250ZXh0LmFkZFNlcnZsZXQobmV3IFNlcnZsZXRIb2xkZXIo\nbmV3IFZhcnNKc29uSGFuZGxlcihzdXBwbGllcikpLCAiL3ZhcnMuanNvbiIp\nOwogICAgICAgIHRoaXMuamV0dHlTZXJ2ZXIuc3RhcnQoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzdG9wKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgdGhpcy5qZXR0eVNlcnZlci5zdG9wKCk7CiAgICAgICAgaWYgKHRoaXMu\nc2h1dERvd25SZWdpc3RyeSAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMu\nc2h1dERvd25SZWdpc3RyeS5leGVjdXRlKCk7CiAgICAgICAgfQogICAgfQp9\nCg==\n","encoding":"base64"}

