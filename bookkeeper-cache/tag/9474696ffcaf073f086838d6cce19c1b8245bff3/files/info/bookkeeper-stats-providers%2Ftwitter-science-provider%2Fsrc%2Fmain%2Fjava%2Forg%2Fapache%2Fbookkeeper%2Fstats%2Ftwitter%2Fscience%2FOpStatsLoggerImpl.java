{"sha":"ac236f6196e0d171d2ee419b715f332c1836c9e6","node_id":"MDQ6QmxvYjE1NzU5NTY6YWMyMzZmNjE5NmUwZDE3MWQyZWU0MTliNzE1ZjMzMmMxODM2YzllNg==","size":3102,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/ac236f6196e0d171d2ee419b715f332c1836c9e6","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzCiAqIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuIFRoZSBBU0YK\nICogbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hl\nIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91\nIG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3\naXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xp\nY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBh\ncHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdh\ncmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJp\nYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywgV0lUSE9VVAogKiBXQVJSQU5U\nSUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNz\nIG9yIGltcGxpZWQuIFNlZSB0aGUKICogTGljZW5zZSBmb3IgdGhlIHNwZWNp\nZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRh\ndGlvbnMgdW5kZXIKICogdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5h\ncGFjaGUuYm9va2tlZXBlci5zdGF0cy50d2l0dGVyLnNjaWVuY2U7CgppbXBv\ncnQgY29tLnR3aXR0ZXIuY29tbW9uLnN0YXRzLio7CmltcG9ydCBvcmcuYXBh\nY2hlLmJvb2trZWVwZXIuc3RhdHMuT3BTdGF0c0RhdGE7CmltcG9ydCBvcmcu\nYXBhY2hlLmJvb2trZWVwZXIuc3RhdHMuT3BTdGF0c0xvZ2dlcjsKCmltcG9y\ndCBqYXZhLnV0aWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1w\nb3J0IGphdmEudXRpbC5jb25jdXJyZW50LlRpbWVVbml0OwoKLyoqCiAqIEFu\nIGltcGxlbWVudGF0aW9uIG9mIHRoZSBPcFN0YXRzTG9nZ2VyIGludGVyZmFj\nZSB0aGF0IGhhbmRsZXMgcGVyIG9wZXJhdGlvbiB0eXBlIHN0YXRzLgogKiBJ\nbnRlcm5hbHMgdXNlIHR3aXR0ZXIuY29tbW9uLnN0YXRzIGZvciBleHBvcnRp\nbmcgbWV0cmljcy4KICovCnB1YmxpYyBjbGFzcyBPcFN0YXRzTG9nZ2VySW1w\nbCBpbXBsZW1lbnRzIE9wU3RhdHNMb2dnZXIgewogICAgcHJpdmF0ZSBmaW5h\nbCBSZXF1ZXN0U3RhdHMgZXZlbnRzOwoKICAgIHB1YmxpYyBPcFN0YXRzTG9n\nZ2VySW1wbChTdHJpbmcgbmFtZSkgewogICAgICAgIHRoaXMuZXZlbnRzID0g\nbmV3IFJlcXVlc3RTdGF0cyhuYW1lKTsKICAgIH0KCiAgICAvLyBPcFN0YXRz\nTG9nZ2VyIGZ1bmN0aW9ucwogICAgcHVibGljIHZvaWQgcmVnaXN0ZXJGYWls\nZWRFdmVudChsb25nIGV2ZW50TGF0ZW5jeU1pbGxpcykgewogICAgICAgIHRo\naXMuZXZlbnRzLmluY0Vycm9ycyhUaW1lVW5pdC5NSUxMSVNFQ09ORFMudG9N\naWNyb3MoZXZlbnRMYXRlbmN5TWlsbGlzKSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgcmVnaXN0ZXJTdWNjZXNzZnVsRXZlbnQobG9uZyBldmVudExhdGVu\nY3lNaWxsaXMpIHsKICAgICAgICB0aGlzLmV2ZW50cy5yZXF1ZXN0Q29tcGxl\ndGUoVGltZVVuaXQuTUlMTElTRUNPTkRTLnRvTWljcm9zKGV2ZW50TGF0ZW5j\neU1pbGxpcykpOwogICAgfQoKICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgdm9p\nZCBjbGVhcigpIHsKICAgICAgICAvL1RPRE8oQW5pcnVkZGhhKTogRmlndXJl\nIG91dCBob3cgdG8gY2xlYXIgUmVxdWVzdFN0YXRzLiBUaWxsIHRoZW4gdGhp\ncyBpcyBhIG5vLW9wCiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGZ1bmN0\naW9uIHNob3VsZCBnbyBhd2F5IHNvb24gKGhvcGVmdWxseSkuCiAgICAgKi8K\nICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgT3BTdGF0c0RhdGEgdG9PcFN0YXRz\nRGF0YSgpIHsKICAgICAgICBsb25nIG51bUZhaWxlZCA9IHRoaXMuZXZlbnRz\nLmdldEVycm9yQ291bnQoKTsKICAgICAgICBsb25nIG51bVN1Y2Nlc3MgPSB0\naGlzLmV2ZW50cy5nZXRTbGlkaW5nU3RhdHMoKS5nZXRFdmVudENvdW50ZXIo\nKS5nZXQoKSAtIG51bUZhaWxlZDsKICAgICAgICBkb3VibGUgYXZnTGF0ZW5j\neU1pbGxpcyA9IHRoaXMuZXZlbnRzLmdldFNsaWRpbmdTdGF0cygpLmdldFBl\nckV2ZW50TGF0ZW5jeSgpLnJlYWQoKSAvIDEwMDAuMDsKICAgICAgICBkb3Vi\nbGVbXSBkZWZhdWx0X3BlcmNlbnRpbGVzID0gezEwLCA1MCwgOTAsIDk5LCA5\nOS45LCA5OS45OX07CiAgICAgICAgbG9uZ1tdIGxhdGVuY2llc01pbGxpcyA9\nIG5ldyBsb25nW2RlZmF1bHRfcGVyY2VudGlsZXMubGVuZ3RoXTsKICAgICAg\nICBBcnJheXMuZmlsbChsYXRlbmNpZXNNaWxsaXMsIExvbmcuTUFYX1ZBTFVF\nKTsKICAgICAgICBNYXA8RG91YmxlLCA/IGV4dGVuZHMgU3RhdD4gcmVhbFBl\ncmNlbnRpbGVMYXRlbmNpZXMgPQogICAgICAgICAgICAgICAgdGhpcy5ldmVu\ndHMuZ2V0UGVyY2VudGlsZSgpLmdldFBlcmNlbnRpbGVzKCk7CiAgICAgICAg\nZm9yIChpbnQgaSA9IDA7IGkgPCBkZWZhdWx0X3BlcmNlbnRpbGVzLmxlbmd0\naDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChyZWFsUGVyY2VudGlsZUxhdGVu\nY2llcy5jb250YWluc0tleShkZWZhdWx0X3BlcmNlbnRpbGVzW2ldKSkgewog\nICAgICAgICAgICAgICAgQFN1cHByZXNzV2FybmluZ3MoInVuY2hlY2tlZCIp\nCiAgICAgICAgICAgICAgICBTdGF0PERvdWJsZT4gbGF0ZW5jeSA9IHJlYWxQ\nZXJjZW50aWxlTGF0ZW5jaWVzLmdldChkZWZhdWx0X3BlcmNlbnRpbGVzW2ld\nKTsKICAgICAgICAgICAgICAgIGxhdGVuY2llc01pbGxpc1tpXSA9IFRpbWVV\nbml0Lk1JQ1JPU0VDT05EUy50b01pbGxpcyhsYXRlbmN5LnJlYWQoKS5sb25n\nVmFsdWUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIG5ldyBPcFN0YXRzRGF0YShudW1TdWNjZXNzLCBudW1GYWlsZWQsIGF2\nZ0xhdGVuY3lNaWxsaXMsIGxhdGVuY2llc01pbGxpcyk7CiAgICB9Cn0K\n","encoding":"base64"}

