{"sha":"8ae0e8207e171f4d8b79ca9e605f573709884ca0","node_id":"MDQ6QmxvYjE1NzU5NTY6OGFlMGU4MjA3ZTE3MWY0ZDhiNzljYTllNjA1ZjU3MzcwOTg4NGNhMA==","size":4799,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/8ae0e8207e171f4d8b79ca9e605f573709884ca0","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHk7CgppbXBvcnQg\namF2YS51dGlsLmNvbmN1cnJlbnQuRXhlY3V0b3JzOwoKaW1wb3J0IG9yZy5z\nbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsK\naW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVsLkNoYW5uZWxGYWN0b3J5\nOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuc29ja2V0Lm5pby5O\naW9DbGllbnRTb2NrZXRDaGFubmVsRmFjdG9yeTsKCmltcG9ydCBjb20uZ29v\nZ2xlLmNvbW1vbi51dGlsLmNvbmN1cnJlbnQuVGhyZWFkRmFjdG9yeUJ1aWxk\nZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50LmFwaS5DbGll\nbnQ7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuY29uZi5DbGll\nbnRDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xp\nZW50Lm5ldHR5LmltcGwuc2ltcGxlLlNpbXBsZUhDaGFubmVsTWFuYWdlcjsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVudC5uZXR0eS5pbXBsLm11\nbHRpcGxleC5NdWx0aXBsZXhIQ2hhbm5lbE1hbmFnZXI7CgovKioKICogVGhp\ncyBpcyBhIHRvcCBsZXZlbCBIZWR3aWcgQ2xpZW50IGNsYXNzIHRoYXQgZW5j\nYXBzdWxhdGVzIHRoZSBjb21tb24KICogZnVuY3Rpb25hbGl0eSBuZWVkZWQg\nZm9yIGJvdGggUHVibGlzaCBhbmQgU3Vic2NyaWJlIG9wZXJhdGlvbnMuCiAq\nCiAqLwpwdWJsaWMgY2xhc3MgSGVkd2lnQ2xpZW50SW1wbCBpbXBsZW1lbnRz\nIENsaWVudCB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9nZ2VyIGxv\nZ2dlciA9IExvZ2dlckZhY3RvcnkuZ2V0TG9nZ2VyKEhlZHdpZ0NsaWVudElt\ncGwuY2xhc3MpOwoKICAgIC8vIFRoZSBOZXR0eSBzb2NrZXQgZmFjdG9yeSBm\nb3IgbWFraW5nIGNvbm5lY3Rpb25zIHRvIHRoZSBzZXJ2ZXIuCiAgICBwcm90\nZWN0ZWQgZmluYWwgQ2hhbm5lbEZhY3Rvcnkgc29ja2V0RmFjdG9yeTsKICAg\nIC8vIFdoZXRoZXIgdGhlIHNvY2tldCBmYWN0b3J5IGlzIG9uZSB3ZSBjcmVh\ndGVkIG9yIGlzIG93bmVkIGJ5IHdob2V2ZXIKICAgIC8vIGluc3RhbnRpYXRl\nZCB1cy4KICAgIHByb3RlY3RlZCBib29sZWFuIG93bkNoYW5uZWxGYWN0b3J5\nID0gZmFsc2U7CgogICAgLy8gY2hhbm5lbCBtYW5hZ2VyIG1hbmFnZXMgYWxs\nIHRoZSBjaGFubmVscyBlc3RhYmxpc2hlZCBieSB0aGUgY2xpZW50CiAgICBw\ncm90ZWN0ZWQgZmluYWwgSENoYW5uZWxNYW5hZ2VyIGNoYW5uZWxNYW5hZ2Vy\nOwoKICAgIHByaXZhdGUgSGVkd2lnU3Vic2NyaWJlciBzdWI7CiAgICBwcml2\nYXRlIGZpbmFsIEhlZHdpZ1B1Ymxpc2hlciBwdWI7CiAgICBwcml2YXRlIGZp\nbmFsIENsaWVudENvbmZpZ3VyYXRpb24gY2ZnOwoKICAgIHB1YmxpYyBzdGF0\naWMgQ2xpZW50IGNyZWF0ZShDbGllbnRDb25maWd1cmF0aW9uIGNmZykgewog\nICAgICAgIHJldHVybiBuZXcgSGVkd2lnQ2xpZW50SW1wbChjZmcpOwogICAg\nfQoKICAgIHB1YmxpYyBzdGF0aWMgQ2xpZW50IGNyZWF0ZShDbGllbnRDb25m\naWd1cmF0aW9uIGNmZywgQ2hhbm5lbEZhY3Rvcnkgc29ja2V0RmFjdG9yeSkg\newogICAgICAgIHJldHVybiBuZXcgSGVkd2lnQ2xpZW50SW1wbChjZmcsIHNv\nY2tldEZhY3RvcnkpOwogICAgfQoKICAgIC8vIEJhc2UgY29uc3RydWN0b3Ig\ndGhhdCB0YWtlcyBpbiBhIENvbmZpZ3VyYXRpb24gb2JqZWN0LgogICAgLy8g\nVGhpcyB3aWxsIGNyZWF0ZSBpdHMgb3duIGNsaWVudCBzb2NrZXQgY2hhbm5l\nbCBmYWN0b3J5LgogICAgcHJvdGVjdGVkIEhlZHdpZ0NsaWVudEltcGwoQ2xp\nZW50Q29uZmlndXJhdGlvbiBjZmcpIHsKICAgICAgICB0aGlzKGNmZywgbmV3\nIE5pb0NsaWVudFNvY2tldENoYW5uZWxGYWN0b3J5KAogICAgICAgICAgICAg\nICAgRXhlY3V0b3JzLm5ld0NhY2hlZFRocmVhZFBvb2wobmV3IFRocmVhZEZh\nY3RvcnlCdWlsZGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgLnNldE5h\nbWVGb3JtYXQoIkhlZHdpZ0NsaWVudC1OSU9Cb3NzLSVkIikuYnVpbGQoKSks\nCiAgICAgICAgICAgICAgICBFeGVjdXRvcnMubmV3Q2FjaGVkVGhyZWFkUG9v\nbChuZXcgVGhyZWFkRmFjdG9yeUJ1aWxkZXIoKQogICAgICAgICAgICAgICAg\nICAgICAgICAuc2V0TmFtZUZvcm1hdCgiSGVkd2lnQ2xpZW50LU5JT1dvcmtl\nci0lZCIpLmJ1aWxkKCkpKSk7CiAgICAgICAgb3duQ2hhbm5lbEZhY3Rvcnkg\nPSB0cnVlOwogICAgfQoKICAgIC8vIENvbnN0cnVjdG9yIHRoYXQgdGFrZXMg\naW4gYSBDb25maWd1cmF0aW9uIG9iamVjdCBhbmQgYSBDaGFubmVsRmFjdG9y\neQogICAgLy8gdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGluc3RhbnRpYXRlZCBi\neSB0aGUgY2FsbGVyLgogICAgcHJvdGVjdGVkIEhlZHdpZ0NsaWVudEltcGwo\nQ2xpZW50Q29uZmlndXJhdGlvbiBjZmcsIENoYW5uZWxGYWN0b3J5IHNvY2tl\ndEZhY3RvcnkpIHsKICAgICAgICB0aGlzLmNmZyA9IGNmZzsKICAgICAgICB0\naGlzLnNvY2tldEZhY3RvcnkgPSBzb2NrZXRGYWN0b3J5OwogICAgICAgIGlm\nIChjZmcuaXNTdWJzY3JpcHRpb25DaGFubmVsU2hhcmluZ0VuYWJsZWQoKSkg\newogICAgICAgICAgICBjaGFubmVsTWFuYWdlciA9IG5ldyBNdWx0aXBsZXhI\nQ2hhbm5lbE1hbmFnZXIoY2ZnLCBzb2NrZXRGYWN0b3J5KTsKICAgICAgICB9\nIGVsc2UgewogICAgICAgICAgICBjaGFubmVsTWFuYWdlciA9IG5ldyBTaW1w\nbGVIQ2hhbm5lbE1hbmFnZXIoY2ZnLCBzb2NrZXRGYWN0b3J5KTsKICAgICAg\nICB9CiAgICAgICAgcHViID0gbmV3IEhlZHdpZ1B1Ymxpc2hlcih0aGlzKTsK\nICAgICAgICBzdWIgPSBuZXcgSGVkd2lnU3Vic2NyaWJlcih0aGlzKTsKICAg\nIH0KCiAgICBwdWJsaWMgQ2xpZW50Q29uZmlndXJhdGlvbiBnZXRDb25maWd1\ncmF0aW9uKCkgewogICAgICAgIHJldHVybiBjZmc7CiAgICB9CgogICAgcHVi\nbGljIEhDaGFubmVsTWFuYWdlciBnZXRIQ2hhbm5lbE1hbmFnZXIoKSB7CiAg\nICAgICAgcmV0dXJuIGNoYW5uZWxNYW5hZ2VyOwogICAgfQoKICAgIHB1Ymxp\nYyBIZWR3aWdTdWJzY3JpYmVyIGdldFN1YnNjcmliZXIoKSB7CiAgICAgICAg\ncmV0dXJuIHN1YjsKICAgIH0KCiAgICAvLyBQcm90ZWN0ZWQgbWV0aG9kIHRv\nIHNldCB0aGUgc3Vic2NyaWJlci4gVGhpcyBpcyBuZWVkZWQgY3VycmVudGx5\nIGZvciBodWIKICAgIC8vIHZlcnNpb25zIG9mIHRoZSBjbGllbnQgc3Vic2Ny\naWJlci4KICAgIHByb3RlY3RlZCB2b2lkIHNldFN1YnNjcmliZXIoSGVkd2ln\nU3Vic2NyaWJlciBzdWIpIHsKICAgICAgICB0aGlzLnN1YiA9IHN1YjsKICAg\nIH0KCiAgICBwdWJsaWMgSGVkd2lnUHVibGlzaGVyIGdldFB1Ymxpc2hlcigp\nIHsKICAgICAgICByZXR1cm4gcHViOwogICAgfQoKICAgIC8vIFdoZW4gd2Ug\nYXJlIGRvbmUgd2l0aCB0aGUgY2xpZW50LCB0aGlzIGlzIGEgY2xlYW4gd2F5\nIHRvIGdyYWNlZnVsbHkgY2xvc2UKICAgIC8vIGFsbCBjaGFubmVscy9zb2Nr\nZXRzIGNyZWF0ZWQgYnkgdGhlIGNsaWVudCBhbmQgdG8gYWxzbyByZWxlYXNl\nIGFsbAogICAgLy8gcmVzb3VyY2VzIHVzZWQgYnkgbmV0dHkuCiAgICBwdWJs\naWMgdm9pZCBjbG9zZSgpIHsKICAgICAgICBsb2dnZXIuaW5mbygiU3RvcHBp\nbmcgdGhlIGNsaWVudCEiKTsKCiAgICAgICAgLy8gY2xvc2UgY2hhbm5lbCBt\nYW5hZ2VyIHRvIHJlbGVhc2UgYWxsIGNoYW5uZWxzCiAgICAgICAgY2hhbm5l\nbE1hbmFnZXIuY2xvc2UoKTsgCgogICAgICAgIC8vIFJlbGVhc2UgcmVzb3Vy\nY2VzIHVzZWQgYnkgdGhlIENoYW5uZWxGYWN0b3J5IG9uIHRoZSBjbGllbnQg\naWYgd2UgYXJlCiAgICAgICAgLy8gdGhlIG93bmVyIHRoYXQgY3JlYXRlZCBp\ndC4KICAgICAgICBpZiAob3duQ2hhbm5lbEZhY3RvcnkpIHsKICAgICAgICAg\nICAgc29ja2V0RmFjdG9yeS5yZWxlYXNlRXh0ZXJuYWxSZXNvdXJjZXMoKTsK\nICAgICAgICB9CiAgICAgICAgbG9nZ2VyLmluZm8oIkNvbXBsZXRlZCBzdG9w\ncGluZyB0aGUgY2xpZW50ISIpOwogICAgfQoKfQo=\n","encoding":"base64"}

