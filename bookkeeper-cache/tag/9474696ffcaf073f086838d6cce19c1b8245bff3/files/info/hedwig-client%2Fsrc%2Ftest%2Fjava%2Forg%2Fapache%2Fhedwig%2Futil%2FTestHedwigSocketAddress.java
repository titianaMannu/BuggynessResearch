{"sha":"b6bb78a5ae44b5ccadc2bf229928d6ad4fa5956b","node_id":"MDQ6QmxvYjE1NzU5NTY6YjZiYjc4YTVhZTQ0YjVjY2FkYzJiZjIyOTkyOGQ2YWQ0ZmE1OTU2Yg==","size":4057,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b6bb78a5ae44b5ccadc2bf229928d6ad4fa5956b","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy51dGlsOwoKaW1wb3J0IGphdmEubmV0\nLkluZXRTb2NrZXRBZGRyZXNzOwoKaW1wb3J0IG9yZy5qdW5pdC5UZXN0OwoK\naW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuQXNzZXJ0Lio7CgpwdWJsaWMgY2xh\nc3MgVGVzdEhlZHdpZ1NvY2tldEFkZHJlc3MgewoKICAgIC8vIENvbW1vbiB2\nYWx1ZXMgdXNlZCBieSB0ZXN0cwogICAgcHJpdmF0ZSBTdHJpbmcgaG9zdG5h\nbWUgPSAibG9jYWxob3N0IjsKICAgIHByaXZhdGUgaW50IHBvcnQgPSA0MDgw\nOwogICAgcHJpdmF0ZSBpbnQgc3NsUG9ydCA9IDk4NzY7CiAgICBwcml2YXRl\nIGludCBpbnZhbGlkUG9ydCA9IC05OTk5OwogICAgcHJpdmF0ZSBTdHJpbmcg\nQ09MT04gPSAiOiI7CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1\nYmxpYyB2b2lkIHRlc3RDcmVhdGVXaXRoU1NMUG9ydCgpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIEhlZHdpZ1NvY2tldEFkZHJlc3MgYWRkciA9IG5l\ndyBIZWR3aWdTb2NrZXRBZGRyZXNzKGhvc3RuYW1lLCBwb3J0LCBzc2xQb3J0\nKTsKICAgICAgICBhc3NlcnRUcnVlKGFkZHIuZ2V0U29ja2V0QWRkcmVzcygp\nLmVxdWFscyhuZXcgSW5ldFNvY2tldEFkZHJlc3MoaG9zdG5hbWUsIHBvcnQp\nKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShhZGRyLmdldFNTTFNvY2tldEFkZHJl\nc3MoKS5lcXVhbHMobmV3IEluZXRTb2NrZXRBZGRyZXNzKGhvc3RuYW1lLCBz\nc2xQb3J0KSkpOwogICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0Q3JlYXRlV2l0aE5vU1NMUG9ydCgpIHRocm93\ncyBFeGNlcHRpb24gewogICAgICAgIEhlZHdpZ1NvY2tldEFkZHJlc3MgYWRk\nciA9IG5ldyBIZWR3aWdTb2NrZXRBZGRyZXNzKGhvc3RuYW1lLCBwb3J0KTsK\nICAgICAgICBhc3NlcnRUcnVlKGFkZHIuZ2V0U29ja2V0QWRkcmVzcygpLmVx\ndWFscyhuZXcgSW5ldFNvY2tldEFkZHJlc3MoaG9zdG5hbWUsIHBvcnQpKSk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZShhZGRyLmdldFNTTFNvY2tldEFkZHJlc3Mo\nKSA9PSBudWxsKTsKICAgIH0KCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAwKQog\nICAgcHVibGljIHZvaWQgdGVzdENyZWF0ZUZyb21TdHJpbmdXaXRoU1NMUG9y\ndCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIEhlZHdpZ1NvY2tldEFk\nZHJlc3MgYWRkciA9IG5ldyBIZWR3aWdTb2NrZXRBZGRyZXNzKGhvc3RuYW1l\nK0NPTE9OK3BvcnQrQ09MT04rc3NsUG9ydCk7CiAgICAgICAgYXNzZXJ0VHJ1\nZShhZGRyLmdldFNvY2tldEFkZHJlc3MoKS5lcXVhbHMobmV3IEluZXRTb2Nr\nZXRBZGRyZXNzKGhvc3RuYW1lLCBwb3J0KSkpOwogICAgICAgIGFzc2VydFRy\ndWUoYWRkci5nZXRTU0xTb2NrZXRBZGRyZXNzKCkuZXF1YWxzKG5ldyBJbmV0\nU29ja2V0QWRkcmVzcyhob3N0bmFtZSwgc3NsUG9ydCkpKTsKICAgIH0KCiAg\nICBAVGVzdCh0aW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQgdGVzdENy\nZWF0ZUZyb21TdHJpbmdXaXRoTm9TU0xQb3J0KCkgdGhyb3dzIEV4Y2VwdGlv\nbiB7CiAgICAgICAgSGVkd2lnU29ja2V0QWRkcmVzcyBhZGRyID0gbmV3IEhl\nZHdpZ1NvY2tldEFkZHJlc3MoaG9zdG5hbWUrQ09MT04rcG9ydCk7CiAgICAg\nICAgYXNzZXJ0VHJ1ZShhZGRyLmdldFNvY2tldEFkZHJlc3MoKS5lcXVhbHMo\nbmV3IEluZXRTb2NrZXRBZGRyZXNzKGhvc3RuYW1lLCBwb3J0KSkpOwogICAg\nICAgIGFzc2VydFRydWUoYWRkci5nZXRTU0xTb2NrZXRBZGRyZXNzKCkgPT0g\nbnVsbCk7CiAgICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1\nYmxpYyB2b2lkIHRlc3RDcmVhdGVXaXRoSW52YWxpZFJlZ3VsYXJQb3J0KCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0g\nZmFsc2U7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbmV3IEhlZHdpZ1Nv\nY2tldEFkZHJlc3MoaG9zdG5hbWUrQ09MT04raW52YWxpZFBvcnQpOwogICAg\nICAgIH0KICAgICAgICBjYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7CiAgICAgICAgfQog\nICAgICAgIGFzc2VydFRydWUoc3VjY2Vzcyk7CiAgICB9CgogICAgQFRlc3Qo\ndGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lkIHRlc3RDcmVhdGVXaXRo\nSW52YWxpZFNTTFBvcnQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBi\nb29sZWFuIHN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICB0cnkgewogICAgICAg\nICAgICBuZXcgSGVkd2lnU29ja2V0QWRkcmVzcyhob3N0bmFtZSwgcG9ydCwg\naW52YWxpZFBvcnQpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoSWxsZWdh\nbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgc3VjY2VzcyA9\nIHRydWU7CiAgICAgICAgfQogICAgICAgIGFzc2VydFRydWUoc3VjY2Vzcyk7\nCiAgICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2\nb2lkIHRlc3RUb1N0cmluZ0NvbnZlcnNpb24oKSB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICBIZWR3aWdTb2NrZXRBZGRyZXNzIGFkZHIgPSBuZXcgSGVk\nd2lnU29ja2V0QWRkcmVzcyhob3N0bmFtZSwgcG9ydCwgc3NsUG9ydCk7CiAg\nICAgICAgSGVkd2lnU29ja2V0QWRkcmVzcyBhZGRyMiA9IG5ldyBIZWR3aWdT\nb2NrZXRBZGRyZXNzKGFkZHIudG9TdHJpbmcoKSk7CiAgICAgICAgYXNzZXJ0\nVHJ1ZShhZGRyLmdldFNvY2tldEFkZHJlc3MoKS5lcXVhbHMoYWRkcjIuZ2V0\nU29ja2V0QWRkcmVzcygpKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShhZGRyLmdl\ndFNTTFNvY2tldEFkZHJlc3MoKS5lcXVhbHMoYWRkcjIuZ2V0U1NMU29ja2V0\nQWRkcmVzcygpKSk7CiAgICAgICAgYWRkci50b1N0cmluZygpLmVxdWFscyhh\nZGRyMi50b1N0cmluZygpKTsKICAgIH0KCiAgICBAVGVzdCh0aW1lb3V0PTYw\nMDAwKQogICAgcHVibGljIHZvaWQgdGVzdElzU1NMRW5hYmxlZEZsYWcoKSB0\naHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBIZWR3aWdTb2NrZXRBZGRyZXNz\nIHNzbEFkZHIgPSBuZXcgSGVkd2lnU29ja2V0QWRkcmVzcyhob3N0bmFtZSwg\ncG9ydCwgc3NsUG9ydCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShzc2xBZGRyLmlz\nU1NMRW5hYmxlZCgpKTsKICAgICAgICBIZWR3aWdTb2NrZXRBZGRyZXNzIGFk\nZHIgPSBuZXcgSGVkd2lnU29ja2V0QWRkcmVzcyhob3N0bmFtZSwgcG9ydCk7\nCiAgICAgICAgYXNzZXJ0RmFsc2UoYWRkci5pc1NTTEVuYWJsZWQoKSk7CiAg\nICB9Cgp9Cg==\n","encoding":"base64"}

