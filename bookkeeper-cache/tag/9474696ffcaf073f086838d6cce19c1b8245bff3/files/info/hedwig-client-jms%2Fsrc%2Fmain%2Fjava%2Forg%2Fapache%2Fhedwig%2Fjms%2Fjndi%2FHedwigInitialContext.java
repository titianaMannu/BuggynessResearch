{"sha":"2e0cddd7ca8d93ba7cfffda620213100b56b1230","node_id":"MDQ6QmxvYjE1NzU5NTY6MmUwY2RkZDdjYThkOTNiYTdjZmZmZGE2MjAyMTMxMDBiNTZiMTIzMA==","size":3981,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/2e0cddd7ca8d93ba7cfffda620213100b56b1230","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5qbXMuam5kaTsKCmltcG9ydCBvcmcu\nYXBhY2hlLmhlZHdpZy5qbXMuc3BpLkhlZHdpZ0Nvbm5lY3Rpb25GYWN0b3J5\nSW1wbDsKCmltcG9ydCBqYXZheC5qbXMuQ29ubmVjdGlvbkZhY3Rvcnk7Cmlt\ncG9ydCBqYXZheC5uYW1pbmcuTmFtZTsKaW1wb3J0IGphdmF4Lm5hbWluZy5O\nYW1pbmdFeGNlcHRpb247CmltcG9ydCBqYXZheC5uYW1pbmcuZGlyZWN0b3J5\nLkluaXRpYWxEaXJDb250ZXh0OwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rp\nb25zOwppbXBvcnQgamF2YS51dGlsLkhhc2hTZXQ7CmltcG9ydCBqYXZhLnV0\naWwuSGFzaHRhYmxlOwppbXBvcnQgamF2YS51dGlsLlNldDsKCi8qKgogKiBC\nYXNlZCAodmVyeSB2ZXJ5IGxvb3NlbHkpIG9uCiAqIDxhIGhyZWY9Imh0dHA6\nLy9kb2NzLm9yYWNsZS5jb20vamF2YXNlLzEuMy9kb2NzL2d1aWRlL2puZGkv\nc3BlYy9zcGkvam5kaXNwaS5mbS5odG1sIj5qbmRpIGd1aWRlPC9hPi4gPGJy\nLz4KICogVGhlIEluaXRpYWxDb250ZXh0IGltcGxlbWVudGF0aW9uIGNsaWVu\ndHMgc2hvdWxkIGJlIHVzaW5nIHRvIGdldCB0byBvdXIgaW1wbGVtZW50YXRp\nb24uIDxici8+CiAqIEl0IGlzIHBvc3NpYmxlIChieSBjb25maWd1cmluZyB2\naWEgYWRtaW5pc3RyYXRpdmUgbWVhbnMgZm9yIGV4YW1wbGUpIHRvIHVzZSBh\nIGRpZmZlcmVudCBEaXJDb250ZXh0CiAqIHRvIGdldCB0byBvdXIgcHJvdmlk\nZXIgaW1wbGVtZW50YXRpb24KICogaWYgdGhlIHZhcmlvdXMgY2xhc3NlcyBl\neHBvc2VkIGFyZSB0aGUgc2FtZSBhcyBleHBvc2VkIHZpYSB0aGlzIERpckNv\nbnRleHQuPGJyLz4KICogPHAvPgogKiBJZGVhbGx5LCB0aGUgZW52IHByb3Bl\ncnR5CiAqIHtAbGluayBqYXZheC5uYW1pbmcuQ29udGV4dC5JTklUSUFMX0NP\nTlRFWFRfRkFDVE9SWX0gImphdmEubmFtaW5nLmZhY3RvcnkuaW5pdGlhbCIg\naXMgc2V0IHRvIG91ciBmYWN0b3J5CiAqIHtAbGluayBIZWR3aWdJbml0aWFs\nQ29udGV4dEZhY3Rvcnl9IGNsYXNzbmFtZSB3aGljaCB3aWxsIHJldHVybiB0\naGlzIEluaXRpYWxEaXJDb250ZXh0LgogKi8KcHVibGljIGNsYXNzIEhlZHdp\nZ0luaXRpYWxDb250ZXh0IGV4dGVuZHMgSW5pdGlhbERpckNvbnRleHQgewoK\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIENPTk5FQ1RJT05fRkFD\nVE9SWV9OQU1FID0gImptcy9Db25uZWN0aW9uRmFjdG9yeSI7CiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIFN0cmluZyBUT1BJQ19DT05ORUNUSU9OX0ZBQ1RP\nUllfTkFNRSA9ICJqbXMvVG9waWNDb25uZWN0aW9uRmFjdG9yeSI7CiAgICAv\nLyBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBRVUVVRV9DT05ORUNUSU9O\nX0ZBQ1RPUllfTkFNRSA9ICJqbXMvUXVldWVDb25uZWN0aW9uRmFjdG9yeSI7\nCgogICAgLy8gSGFyZGNvZGluZyB0byBwb2ludCB0byBIZWR3aWdDb25uZWN0\naW9uRmFjdG9yeUltcGwgYnkgZGVmYXVsdC4KICAgIHByaXZhdGUgc3RhdGlj\nIGZpbmFsIFNldDxTdHJpbmc+IGRlZmF1bHROYW1lc01hcHBpbmc7CiAgICBz\ndGF0aWMgewogICAgICAgIFNldDxTdHJpbmc+IHNldCA9IG5ldyBIYXNoU2V0\nPFN0cmluZz4oOCk7CgogICAgICAgIC8vIFRoZSBhY3R1YWwgbmFtZSdzIGZv\nciB0aGUgdmFyaW91cyBmYWN0b3JpZXMgYXJlIGJvdW5kIGJ5IGFuIGFkbWlu\nLiBGb3IgY29udmluZW5jZSBzYWtlLAogICAgICAgIC8vIHdlIGFyZSBwcm92\naWRpbmcgZGVmYXVsdCBiaW5kaW5ncy4KCiAgICAgICAgLy8gVGhlIGRlZmF1\nbHQgY29ubmVjdGlvbgogICAgICAgIHNldC5hZGQoImptcy9Db25uZWN0aW9u\nRmFjdG9yeSIpOwogICAgICAgIHNldC5hZGQoImptcy9Ub3BpY0Nvbm5lY3Rp\nb25GYWN0b3J5Iik7CiAgICAgICAgLy8gQWRkIGluIGZ1dHVyZSAtIGZvciBu\nb3csIHdlIGRvIG5vdCBzdXBwb3J0IGl0LgogICAgICAgIC8vIHNldC5hZGQo\nImptcy9RdWV1ZUNvbm5lY3Rpb25GYWN0b3J5Iik7CgoKICAgICAgICBzZXQu\nYWRkKCJDb25uZWN0aW9uRmFjdG9yeSIpOwogICAgICAgIHNldC5hZGQoIlRv\ncGljQ29ubmVjdGlvbkZhY3RvcnkiKTsKICAgICAgICAvLyBBZGQgaW4gZnV0\ndXJlIC0gZm9yIG5vdywgd2UgZG8gbm90IHN1cHBvcnQgaXQuCiAgICAgICAg\nLy8gc2V0LmFkZCgiUXVldWVDb25uZWN0aW9uRmFjdG9yeSIpOwogICAgICAg\nIGRlZmF1bHROYW1lc01hcHBpbmcgPSBDb2xsZWN0aW9ucy51bm1vZGlmaWFi\nbGVTZXQoc2V0KTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgSGVkd2lnSW5pdGlh\nbENvbnRleHQoYm9vbGVhbiBsYXp5KSB0aHJvd3MgTmFtaW5nRXhjZXB0aW9u\nIHsKICAgICAgICBzdXBlcihsYXp5KTsKICAgIH0KCiAgICBwdWJsaWMgSGVk\nd2lnSW5pdGlhbENvbnRleHQoKSB0aHJvd3MgTmFtaW5nRXhjZXB0aW9uIHsK\nICAgICAgICBzdXBlcigpOwogICAgfQoKICAgIHB1YmxpYyBIZWR3aWdJbml0\naWFsQ29udGV4dChIYXNodGFibGU8PywgPz4gZW52aXJvbm1lbnQpIHRocm93\ncyBOYW1pbmdFeGNlcHRpb24gewogICAgICAgIHN1cGVyKGVudmlyb25tZW50\nKTsKICAgIH0KCiAgICBwcml2YXRlIENvbm5lY3Rpb25GYWN0b3J5IG91ckxv\nb2t1cChTdHJpbmcgbmFtZSl7CiAgICAgICAgaWYgKGRlZmF1bHROYW1lc01h\ncHBpbmcuY29udGFpbnMobmFtZSkpewogICAgICAgICAgICByZXR1cm4gbmV3\nIEhlZHdpZ0Nvbm5lY3Rpb25GYWN0b3J5SW1wbCgpOwogICAgICAgIH0KCiAg\nICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBw\ndWJsaWMgT2JqZWN0IGxvb2t1cChTdHJpbmcgbmFtZSkgdGhyb3dzIE5hbWlu\nZ0V4Y2VwdGlvbiB7CiAgICAgICAgQ29ubmVjdGlvbkZhY3RvcnkgZmFjdG9y\neSA9IG91ckxvb2t1cChuYW1lKTsKICAgICAgICBpZiAobnVsbCAhPSBmYWN0\nb3J5KSByZXR1cm4gZmFjdG9yeTsKCiAgICAgICAgcmV0dXJuIHN1cGVyLmxv\nb2t1cChuYW1lKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBP\nYmplY3QgbG9va3VwKE5hbWUgbmFtZSkgdGhyb3dzIE5hbWluZ0V4Y2VwdGlv\nbiB7CiAgICAgICAgQ29ubmVjdGlvbkZhY3RvcnkgZmFjdG9yeSA9IG91ckxv\nb2t1cChuYW1lLnRvU3RyaW5nKCkpOwogICAgICAgIGlmIChudWxsICE9IGZh\nY3RvcnkpIHJldHVybiBmYWN0b3J5OwoKICAgICAgICByZXR1cm4gc3VwZXIu\nbG9va3VwKG5hbWUpOwogICAgfQp9\n","encoding":"base64"}

