{"sha":"4db66f7851faec7378f85eed909ba08874ed68c9","node_id":"MDQ6QmxvYjE1NzU5NTY6NGRiNjZmNzg1MWZhZWM3Mzc4Zjg1ZWVkOTA5YmEwODg3NGVkNjhjOQ==","size":2550,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/4db66f7851faec7378f85eed909ba08874ed68c9","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5qbXMuc2VsZWN0b3I7CgppbXBvcnQg\nb3JnLmFwYWNoZS5oZWR3aWcuam1zLm1lc3NhZ2UuTWVzc2FnZUltcGw7Cgov\nKioKICogTG9naWNhbCBjb21wYXJpc29uIGJldHdlZW4gdHdvIGJvb2xlYW5z\nLgogKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIExvZ2ljYWxDb21wYXJpc29u\nRnVuY3Rpb24gZXh0ZW5kcyBCaW5hcnlFeHByRnVuY3Rpb24gewogICAgcHVi\nbGljIHN0YXRpYyBmaW5hbCBMb2dpY2FsQ29tcGFyaXNvbkZ1bmN0aW9uIEFO\nRF9GVU5DVElPTiA9IG5ldyBMb2dpY2FsQ29tcGFyaXNvbkZ1bmN0aW9uKCkg\newogICAgICAgIEBPdmVycmlkZQogICAgICAgIHByb3RlY3RlZCBCb29sZWFu\nIGRvQ29tcGFyaXNvbihCb29sZWFuIGxlZnQsIEJvb2xlYW4gcmlnaHQpIHsK\nICAgICAgICAgICAgaWYgKG51bGwgPT0gbGVmdCB8fCBudWxsID09IHJpZ2h0\nKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gKEJvb2xlYW4uRkFMU0UuZXF1\nYWxzKGxlZnQpIHx8IEJvb2xlYW4uRkFMU0UuZXF1YWxzKHJpZ2h0KSkgPyBm\nYWxzZSA6IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJu\nIGxlZnQgJiYgcmlnaHQ7CiAgICAgICAgfQogICAgfTsKCiAgICBwdWJsaWMg\nc3RhdGljIGZpbmFsIExvZ2ljYWxDb21wYXJpc29uRnVuY3Rpb24gT1JfRlVO\nQ1RJT04gPSBuZXcgTG9naWNhbENvbXBhcmlzb25GdW5jdGlvbigpIHsKICAg\nICAgICBAT3ZlcnJpZGUKICAgICAgICBwcm90ZWN0ZWQgQm9vbGVhbiBkb0Nv\nbXBhcmlzb24oQm9vbGVhbiBsZWZ0LCBCb29sZWFuIHJpZ2h0KSB7CiAgICAg\nICAgICAgIGlmIChudWxsID09IGxlZnQgfHwgbnVsbCA9PSByaWdodCkgewog\nICAgICAgICAgICAgICAgcmV0dXJuIChCb29sZWFuLlRSVUUuZXF1YWxzKGxl\nZnQpIHx8IEJvb2xlYW4uVFJVRS5lcXVhbHMocmlnaHQpKSA/IHRydWUgOiBu\ndWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gbGVmdCB8\nfCByaWdodDsKICAgICAgICB9CiAgICB9OwoKCiAgICBwcm90ZWN0ZWQgYWJz\ndHJhY3QgQm9vbGVhbiBkb0NvbXBhcmlzb24oQm9vbGVhbiBsZWZ0LCBCb29s\nZWFuIHJpZ2h0KTsKCiAgICBwcm90ZWN0ZWQgU2VsZWN0b3JDb25zdGFudCBl\ndmFsdWF0ZUltcGwoU2VsZWN0b3JDb25zdGFudCBsZWZ0LCBTZWxlY3RvckNv\nbnN0YW50IHJpZ2h0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIE1lc3NhZ2VJbXBsIG1lc3NhZ2UpIHRocm93cyBTZWxl\nY3RvckV2YWx1YXRpb25FeGNlcHRpb24gewogICAgICAgIGlmIChTZWxlY3Rv\nckNvbnN0YW50LlNlbGVjdG9yRGF0YVR5cGUuQk9PTEVBTiAhPSBsZWZ0LnR5\ncGUgfHwKICAgICAgICAgICAgU2VsZWN0b3JDb25zdGFudC5TZWxlY3RvckRh\ndGFUeXBlLkJPT0xFQU4gIT0gcmlnaHQudHlwZSkgewogICAgICAgICAgICB0\naHJvdyBuZXcgU2VsZWN0b3JFdmFsdWF0aW9uRXhjZXB0aW9uKGdldENsYXNz\nKCkgKyAiIEludmFsaWQgdmFsdWUgdHlwZSA/ICIgKyBsZWZ0ICsgIiwgIiAr\nIHJpZ2h0KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXcgU2VsZWN0\nb3JDb25zdGFudChkb0NvbXBhcmlzb24obGVmdC5nZXRCb29sVmFsdWUoKSwg\ncmlnaHQuZ2V0Qm9vbFZhbHVlKCkpKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUK\nICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKXsKICAgICAgICByZXR1cm4g\nZ2V0Q2xhc3MoKS5nZXROYW1lKCk7CiAgICB9Cn0K\n","encoding":"base64"}

