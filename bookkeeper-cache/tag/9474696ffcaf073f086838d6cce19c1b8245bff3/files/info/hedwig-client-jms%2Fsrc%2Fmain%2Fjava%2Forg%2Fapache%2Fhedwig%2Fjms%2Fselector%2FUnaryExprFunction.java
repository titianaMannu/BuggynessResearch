{"sha":"c50514be715db173709a8ce9adc0158e6d453504","node_id":"MDQ6QmxvYjE1NzU5NTY6YzUwNTE0YmU3MTVkYjE3MzcwOWE4Y2U5YWRjMDE1OGU2ZDQ1MzUwNA==","size":2466,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/c50514be715db173709a8ce9adc0158e6d453504","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5qbXMuc2VsZWN0b3I7CgppbXBvcnQg\nb3JnLmFwYWNoZS5oZWR3aWcuam1zLm1lc3NhZ2UuTWVzc2FnZUltcGw7Cgov\nKioKICogVW5hcnkgZnVuY3Rpb24ncy4KICovCnB1YmxpYyBhYnN0cmFjdCBj\nbGFzcyBVbmFyeUV4cHJGdW5jdGlvbiBpbXBsZW1lbnRzIEV4cHJGdW5jdGlv\nbiB7CgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBVbmFyeUV4cHJGdW5jdGlv\nbiBOT1RfRlVOQ1RJT04gPSBuZXcgVW5hcnlFeHByRnVuY3Rpb24oKSB7Cgog\nICAgICAgIEBPdmVycmlkZQogICAgICAgIHByb3RlY3RlZCBTZWxlY3RvckNv\nbnN0YW50IGV2YWx1YXRlSW1wbChTZWxlY3RvckNvbnN0YW50IHZhbHVlLCBN\nZXNzYWdlSW1wbCBtZXNzYWdlKQogICAgICAgICAgICB0aHJvd3MgU2VsZWN0\nb3JFdmFsdWF0aW9uRXhjZXB0aW9uIHsKICAgICAgICAgICAgaWYgKFNlbGVj\ndG9yQ29uc3RhbnQuU2VsZWN0b3JEYXRhVHlwZS5CT09MRUFOICE9IHZhbHVl\nLnR5cGUpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZWxlY3RvckV2\nYWx1YXRpb25FeGNlcHRpb24oZ2V0Q2xhc3MoKSArICIgSW52YWxpZCB2YWx1\nZSB0eXBlID8gIiArIHZhbHVlKTsKICAgICAgICAgICAgfQoKICAgICAgICAg\nICAgZmluYWwgQm9vbGVhbiBib29sVmFsdWUgPSB2YWx1ZS5nZXRCb29sVmFs\ndWUoKTsKICAgICAgICAgICAgZmluYWwgQm9vbGVhbiByZXN1bHQgPSBudWxs\nID09IGJvb2xWYWx1ZSA/IG51bGwgOiAhYm9vbFZhbHVlOwogICAgICAgICAg\nICByZXR1cm4gbmV3IFNlbGVjdG9yQ29uc3RhbnQocmVzdWx0KTsKICAgICAg\nICB9CiAgICB9OwoKICAgIHB1YmxpYyB2b2lkIGV2YWx1YXRlKFNlbGVjdG9y\nRXZhbFN0YXRlIHN0YXRlKSB0aHJvd3MgU2VsZWN0b3JFdmFsdWF0aW9uRXhj\nZXB0aW9uIHsKICAgICAgICBpZiAoc3RhdGUuZ2V0U3RhY2soKS5zaXplKCkg\nPCAxKQogICAgICAgICAgICB0aHJvdyBuZXcgU2VsZWN0b3JFdmFsdWF0aW9u\nRXhjZXB0aW9uKGdldENsYXNzKCkgKyAiIHN0YWNrIGNvcnJ1cHRpb24gPyAi\nICsgc3RhdGUuZ2V0U3RhY2soKSk7CgogICAgICAgIFNlbGVjdG9yQ29uc3Rh\nbnQgdmFsdWUgPSBzdGF0ZS5nZXRTdGFjaygpLnBvcCgpOwoKICAgICAgICBT\nZWxlY3RvckNvbnN0YW50IHJlc3VsdCA9IGV2YWx1YXRlSW1wbCh2YWx1ZSwg\nc3RhdGUuZ2V0TWVzc2FnZSgpKTsKCiAgICAgICAgaWYgKG51bGwgIT0gcmVz\ndWx0KSBzdGF0ZS5nZXRTdGFjaygpLnB1c2gocmVzdWx0KTsKICAgICAgICBl\nbHNlCiAgICAgICAgICAgIHRocm93IG5ldyBTZWxlY3RvckV2YWx1YXRpb25F\neGNlcHRpb24oZ2V0Q2xhc3MoKSArCiAgICAgICAgICAgICAgICAiIFVuZXhw\nZWN0ZWQgdG8gcmV0dXJuIGEgbnVsbCByZXNwb25zZSBpbiBiaW5hcnkgZnVu\nY3Rpb24gZXZhbHVhdGlvbiIpOwogICAgfQoKICAgIHByb3RlY3RlZCBhYnN0\ncmFjdCBTZWxlY3RvckNvbnN0YW50IGV2YWx1YXRlSW1wbChTZWxlY3RvckNv\nbnN0YW50IHZhbHVlLCBNZXNzYWdlSW1wbCBtZXNzYWdlKQogICAgICAgIHRo\ncm93cyBTZWxlY3RvckV2YWx1YXRpb25FeGNlcHRpb247CgoKCiAgICBAT3Zl\ncnJpZGUKICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKXsKICAgICAgICBy\nZXR1cm4gZ2V0Q2xhc3MoKS5nZXROYW1lKCk7CiAgICB9Cn0K\n","encoding":"base64"}

