{"sha":"93e0615c450ef57d921e436dcf4a60006ee6a8d4","node_id":"MDQ6QmxvYjE1NzU5NTY6OTNlMDYxNWM0NTBlZjU3ZDkyMWU0MzZkY2Y0YTYwMDA2ZWU2YThkNA==","size":2704,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/93e0615c450ef57d921e436dcf4a60006ee6a8d4","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xOwoKaW1wb3J0IGphdmF4Lmptcy5Db25u\nZWN0aW9uOwppbXBvcnQgamF2YXguam1zLkpNU0V4Y2VwdGlvbjsKaW1wb3J0\nIGphdmF4Lmptcy5NZXNzYWdlOwppbXBvcnQgamF2YXguam1zLk1lc3NhZ2VD\nb25zdW1lcjsKaW1wb3J0IGphdmF4Lmptcy5NZXNzYWdlUHJvZHVjZXI7Cmlt\ncG9ydCBqYXZheC5qbXMuU2Vzc2lvbjsKaW1wb3J0IGphdmF4Lmptcy5Ub3Bp\nYzsKCnB1YmxpYyBjbGFzcyBDb25zdW1lclJlY2VpdmVXaXRoVGltZW91dFRl\nc3QgZXh0ZW5kcyBUZXN0U3VwcG9ydCB7CgogICAgcHJpdmF0ZSBDb25uZWN0\naW9uIGNvbm5lY3Rpb247CgogICAgcHJvdGVjdGVkIHZvaWQgc2V0VXAoKSB0\naHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBzdXBlci5zZXRVcCgpOwogICAg\nICAgIGNvbm5lY3Rpb24gPSBjcmVhdGVDb25uZWN0aW9uKCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBAc2VlIGp1bml0LmZyYW1ld29yay5UZXN0Q2FzZSN0\nZWFyRG93bigpCiAgICAgKi8KICAgIHByb3RlY3RlZCB2b2lkIHRlYXJEb3du\nKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKGNvbm5lY3Rpb24g\nIT0gbnVsbCkgewogICAgICAgICAgICBjb25uZWN0aW9uLmNsb3NlKCk7CiAg\nICAgICAgICAgIGNvbm5lY3Rpb24gPSBudWxsOwogICAgICAgIH0KICAgICAg\nICBzdXBlci50ZWFyRG93bigpOwogICAgfQoKICAgIC8qKgogICAgICogVGVz\ndCB0byBjaGVjayBpZiBjb25zdW1lciB0aHJlYWQgd2FrZXMgdXAgaW5zaWRl\nIGEgcmVjZWl2ZSh0aW1lb3V0KSBhZnRlcgogICAgICogYSBtZXNzYWdlIGlz\nIGRpc3BhdGNoZWQgdG8gdGhlIGNvbnN1bWVyCiAgICAgKgogICAgICogQHRo\ncm93cyBqYXZheC5qbXMuSk1TRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHRlc3RDb25zdW1lclJlY2VpdmVCZWZvcmVNZXNzYWdlRGlzcGF0\nY2hlZCgpIHRocm93cyBKTVNFeGNlcHRpb24gewoKICAgICAgICBjb25uZWN0\naW9uLnN0YXJ0KCk7CgogICAgICAgIGZpbmFsIFNlc3Npb24gc2Vzc2lvbiA9\nIGNvbm5lY3Rpb24uY3JlYXRlU2Vzc2lvbihmYWxzZSwgU2Vzc2lvbi5BVVRP\nX0FDS05PV0xFREdFKTsKICAgICAgICBmaW5hbCBUb3BpYyBxdWV1ZSA9IHNl\nc3Npb24uY3JlYXRlVG9waWMoInRlc3QiKTsKICAgICAgICBNZXNzYWdlQ29u\nc3VtZXIgY29uc3VtZXIgPSBzZXNzaW9uLmNyZWF0ZUNvbnN1bWVyKHF1ZXVl\nKTsKCiAgICAgICAgVGhyZWFkIHQgPSBuZXcgVGhyZWFkKCkgewogICAgICAg\nICAgICBwdWJsaWMgdm9pZCBydW4oKSB7CiAgICAgICAgICAgICAgICB0cnkg\newogICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIDEwIHNlY29uZHMg\ndG8gYWxsb3cgY29uc3VtZXIucmVjZWl2ZSB0byBiZSBydW4KICAgICAgICAg\nICAgICAgICAgICAvLyBmaXJzdAogICAgICAgICAgICAgICAgICAgIFRocmVh\nZC5zbGVlcCgxMDAwMCk7CiAgICAgICAgICAgICAgICAgICAgTWVzc2FnZVBy\nb2R1Y2VyIHByb2R1Y2VyID0gc2Vzc2lvbi5jcmVhdGVQcm9kdWNlcihxdWV1\nZSk7CiAgICAgICAgICAgICAgICAgICAgcHJvZHVjZXIuc2VuZChzZXNzaW9u\nLmNyZWF0ZVRleHRNZXNzYWdlKCJIZWxsbyIpKTsKICAgICAgICAgICAgICAg\nIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICAgICAg\nZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICAgICAgICAgIH0KICAgICAg\nICAgICAgfQogICAgICAgIH07CgogICAgICAgIHQuc3RhcnQoKTsKCiAgICAg\nICAgLy8gQ29uc3VtZSB0aGUgbWVzc2FnZS4uLgogICAgICAgIE1lc3NhZ2Ug\nbXNnID0gY29uc3VtZXIucmVjZWl2ZSg2MDAwMCk7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChtc2cpOwogICAgICAgIHNlc3Npb24uY2xvc2UoKTsKCiAgICB9\nCgp9Cg==\n","encoding":"base64"}

