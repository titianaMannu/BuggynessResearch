{"sha":"cee1698ada8286ea408c2f45ea72f7fe2b4d1a27","node_id":"MDQ6QmxvYjE1NzU5NTY6Y2VlMTY5OGFkYTgyODZlYTQwOGMyZjQ1ZWE3MmY3ZmUyYjRkMWEyNw==","size":16711,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/cee1698ada8286ea408c2f45ea72f7fe2b4d1a27","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xOwoKaW1wb3J0IGphdmEubmV0LlVSSVN5\nbnRheEV4Y2VwdGlvbjsKaW1wb3J0IGphdmEudXRpbC5FbnVtZXJhdGlvbjsK\naW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLlZl\nY3RvcjsKCmltcG9ydCBqYXZheC5qbXMuQnl0ZXNNZXNzYWdlOwppbXBvcnQg\namF2YXguam1zLkNvbm5lY3Rpb25GYWN0b3J5OwppbXBvcnQgamF2YXguam1z\nLkRlbGl2ZXJ5TW9kZTsKaW1wb3J0IGphdmF4Lmptcy5EZXN0aW5hdGlvbjsK\naW1wb3J0IGphdmF4Lmptcy5KTVNFeGNlcHRpb247CmltcG9ydCBqYXZheC5q\nbXMuTWFwTWVzc2FnZTsKaW1wb3J0IGphdmF4Lmptcy5NZXNzYWdlOwppbXBv\ncnQgamF2YXguam1zLk1lc3NhZ2VDb25zdW1lcjsKaW1wb3J0IGphdmF4Lmpt\ncy5NZXNzYWdlRU9GRXhjZXB0aW9uOwppbXBvcnQgamF2YXguam1zLk1lc3Nh\nZ2VGb3JtYXRFeGNlcHRpb247CmltcG9ydCBqYXZheC5qbXMuTWVzc2FnZVBy\nb2R1Y2VyOwppbXBvcnQgamF2YXguam1zLk9iamVjdE1lc3NhZ2U7CmltcG9y\ndCBqYXZheC5qbXMuU2Vzc2lvbjsKaW1wb3J0IGphdmF4Lmptcy5TdHJlYW1N\nZXNzYWdlOwppbXBvcnQgamF2YXguam1zLlRleHRNZXNzYWdlOwoKaW1wb3J0\nIGp1bml0LmZyYW1ld29yay5UZXN0OwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcuam1zLk1lc3NhZ2luZ1Nlc3Npb25GYWNhZGU7CmltcG9ydCBvcmcuYXBh\nY2hlLmhlZHdpZy5qbXMubWVzc2FnZS5TdHJlYW1NZXNzYWdlSW1wbDsKaW1w\nb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmptcy5zcGkuSGVkd2lnQ29ubmVjdGlv\nbkZhY3RvcnlJbXBsOwoKaW1wb3J0IGphdmF4Lmptcy5EZXN0aW5hdGlvbjsK\nCi8qKgogKiBUZXN0IGNhc2VzIHVzZWQgdG8gdGVzdCB0aGUgSk1TIG1lc3Nh\nZ2UgY29uc3VtZXIuCiAqLwpwdWJsaWMgY2xhc3MgSk1TTWVzc2FnZVRlc3Qg\nZXh0ZW5kcyBKbXNUZXN0U3VwcG9ydCB7CgogICAgcHVibGljIERlc3RpbmF0\naW9uIGRlc3RpbmF0aW9uOwogICAgcHVibGljIGludCBkZWxpdmVyeU1vZGUg\nPSBEZWxpdmVyeU1vZGUuTk9OX1BFUlNJU1RFTlQ7CiAgICBwdWJsaWMgaW50\nIHByZWZldGNoOwogICAgcHVibGljIGludCBhY2tNb2RlOwogICAgcHVibGlj\nIE1lc3NhZ2luZ1Nlc3Npb25GYWNhZGUuRGVzdGluYXRpb25UeXBlIGRlc3Rp\nbmF0aW9uVHlwZSA9IE1lc3NhZ2luZ1Nlc3Npb25GYWNhZGUuRGVzdGluYXRp\nb25UeXBlLlRPUElDOwogICAgcHVibGljIGJvb2xlYW4gZHVyYWJsZUNvbnN1\nbWVyOwoKICAgIC8qKgogICAgICogUnVuIGFsbCB0aGVzZSB0ZXN0cyBpbiBi\nb3RoIG1hcnNoYWxpbmcgYW5kIG5vbi1tYXJzaGFsaW5nIG1vZGUuCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIGluaXRDb21ib3MoKSB7CiAgICAgICAgYWRk\nQ29tYmluYXRpb25WYWx1ZXMoImRlbGl2ZXJ5TW9kZSIsIG5ldyBPYmplY3Rb\nXSB7SW50ZWdlci52YWx1ZU9mKERlbGl2ZXJ5TW9kZS5OT05fUEVSU0lTVEVO\nVCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgSW50ZWdlci52YWx1ZU9mKERlbGl2ZXJ5TW9k\nZS5QRVJTSVNURU5UKX0pOwogICAgICAgIGFkZENvbWJpbmF0aW9uVmFsdWVz\nKCJkZXN0aW5hdGlvblR5cGUiLCBuZXcgT2JqZWN0W10ge01lc3NhZ2luZ1Nl\nc3Npb25GYWNhZGUuRGVzdGluYXRpb25UeXBlLlRPUElDfSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdFRleHRNZXNzYWdlKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CgogICAgICAgIC8vIFJlY2VpdmUgYSBtZXNzYWdlIHdpdGggdGhl\nIEpNUyBBUEkKICAgICAgICBjb25uZWN0aW9uLnN0YXJ0KCk7CiAgICAgICAg\nU2Vzc2lvbiBzZXNzaW9uID0gY29ubmVjdGlvbi5jcmVhdGVTZXNzaW9uKGZh\nbHNlLCBTZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOwogICAgICAgIGRlc3Rp\nbmF0aW9uID0gY3JlYXRlRGVzdGluYXRpb24oc2Vzc2lvbiwgZGVzdGluYXRp\nb25UeXBlKTsKICAgICAgICBNZXNzYWdlQ29uc3VtZXIgY29uc3VtZXIgPSBz\nZXNzaW9uLmNyZWF0ZUNvbnN1bWVyKGRlc3RpbmF0aW9uKTsKICAgICAgICBN\nZXNzYWdlUHJvZHVjZXIgcHJvZHVjZXIgPSBzZXNzaW9uLmNyZWF0ZVByb2R1\nY2VyKGRlc3RpbmF0aW9uKTsKCiAgICAgICAgLy8gU2VuZCB0aGUgbWVzc2Fn\nZS4KICAgICAgICB7CiAgICAgICAgICAgIFRleHRNZXNzYWdlIG1lc3NhZ2Ug\nPSBzZXNzaW9uLmNyZWF0ZVRleHRNZXNzYWdlKCk7CiAgICAgICAgICAgIG1l\nc3NhZ2Uuc2V0VGV4dCgiSGkiKTsKICAgICAgICAgICAgcHJvZHVjZXIuc2Vu\nZChtZXNzYWdlKTsKICAgICAgICB9CgogICAgICAgIC8vIENoZWNrIHRoZSBN\nZXNzYWdlCiAgICAgICAgewogICAgICAgICAgICBUZXh0TWVzc2FnZSBtZXNz\nYWdlID0gKFRleHRNZXNzYWdlKWNvbnN1bWVyLnJlY2VpdmUoMTAwMCk7CiAg\nICAgICAgICAgIGFzc2VydE5vdE51bGwobWVzc2FnZSk7CiAgICAgICAgICAg\nIGFzc2VydEVxdWFscygiSGkiLCBtZXNzYWdlLmdldFRleHQoKSk7CiAgICAg\nICAgfQoKICAgICAgICBhc3NlcnROdWxsKGNvbnN1bWVyLnJlY2VpdmVOb1dh\naXQoKSk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBUZXN0IHN1aXRlKCkg\newogICAgICAgIHJldHVybiBzdWl0ZShKTVNNZXNzYWdlVGVzdC5jbGFzcyk7\nCiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10g\nYXJncykgewogICAgICAgIGp1bml0LnRleHR1aS5UZXN0UnVubmVyLnJ1bihz\ndWl0ZSgpKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgQ29ubmVjdGlvbkZhY3Rv\ncnkgY3JlYXRlQ29ubmVjdGlvbkZhY3RvcnkoKSB0aHJvd3MgVVJJU3ludGF4\nRXhjZXB0aW9uIHsKICAgICAgICBIZWR3aWdDb25uZWN0aW9uRmFjdG9yeUlt\ncGwgZmFjdG9yeSA9IG5ldyBIZWR3aWdDb25uZWN0aW9uRmFjdG9yeUltcGwo\nKTsKICAgICAgICByZXR1cm4gZmFjdG9yeTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0Qnl0ZXNNZXNzYWdlTGVuZ3RoKCkgdGhyb3dzIEV4Y2VwdGlv\nbiB7CgogICAgICAgIC8vIFJlY2VpdmUgYSBtZXNzYWdlIHdpdGggdGhlIEpN\nUyBBUEkKICAgICAgICBjb25uZWN0aW9uLnN0YXJ0KCk7CiAgICAgICAgU2Vz\nc2lvbiBzZXNzaW9uID0gY29ubmVjdGlvbi5jcmVhdGVTZXNzaW9uKGZhbHNl\nLCBTZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOwogICAgICAgIGRlc3RpbmF0\naW9uID0gY3JlYXRlRGVzdGluYXRpb24oc2Vzc2lvbiwgZGVzdGluYXRpb25U\neXBlKTsKICAgICAgICBNZXNzYWdlQ29uc3VtZXIgY29uc3VtZXIgPSBzZXNz\naW9uLmNyZWF0ZUNvbnN1bWVyKGRlc3RpbmF0aW9uKTsKICAgICAgICBNZXNz\nYWdlUHJvZHVjZXIgcHJvZHVjZXIgPSBzZXNzaW9uLmNyZWF0ZVByb2R1Y2Vy\nKGRlc3RpbmF0aW9uKTsKCiAgICAgICAgLy8gU2VuZCB0aGUgbWVzc2FnZQog\nICAgICAgIHsKICAgICAgICAgICAgQnl0ZXNNZXNzYWdlIG1lc3NhZ2UgPSBz\nZXNzaW9uLmNyZWF0ZUJ5dGVzTWVzc2FnZSgpOwogICAgICAgICAgICBtZXNz\nYWdlLndyaXRlSW50KDEpOwogICAgICAgICAgICBtZXNzYWdlLndyaXRlSW50\nKDIpOwogICAgICAgICAgICBtZXNzYWdlLndyaXRlSW50KDMpOwogICAgICAg\nICAgICBtZXNzYWdlLndyaXRlSW50KDQpOwogICAgICAgICAgICBwcm9kdWNl\nci5zZW5kKG1lc3NhZ2UpOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2hlY2sg\ndGhlIG1lc3NhZ2UuCiAgICAgICAgewogICAgICAgICAgICBCeXRlc01lc3Nh\nZ2UgbWVzc2FnZSA9IChCeXRlc01lc3NhZ2UpY29uc3VtZXIucmVjZWl2ZSgx\nMDAwKTsKICAgICAgICAgICAgYXNzZXJ0Tm90TnVsbChtZXNzYWdlKTsKICAg\nICAgICAgICAgYXNzZXJ0RXF1YWxzKDE2LCBtZXNzYWdlLmdldEJvZHlMZW5n\ndGgoKSk7CiAgICAgICAgfQoKICAgICAgICBhc3NlcnROdWxsKGNvbnN1bWVy\nLnJlY2VpdmVOb1dhaXQoKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndE9iamVjdE1lc3NhZ2UoKSB0aHJvd3MgRXhjZXB0aW9uIHsKCiAgICAgICAg\nLy8gUmVjZWl2ZSBhIG1lc3NhZ2Ugd2l0aCB0aGUgSk1TIEFQSQogICAgICAg\nIGNvbm5lY3Rpb24uc3RhcnQoKTsKICAgICAgICBTZXNzaW9uIHNlc3Npb24g\nPSBjb25uZWN0aW9uLmNyZWF0ZVNlc3Npb24oZmFsc2UsIFNlc3Npb24uQVVU\nT19BQ0tOT1dMRURHRSk7CiAgICAgICAgZGVzdGluYXRpb24gPSBjcmVhdGVE\nZXN0aW5hdGlvbihzZXNzaW9uLCBkZXN0aW5hdGlvblR5cGUpOwogICAgICAg\nIE1lc3NhZ2VDb25zdW1lciBjb25zdW1lciA9IHNlc3Npb24uY3JlYXRlQ29u\nc3VtZXIoZGVzdGluYXRpb24pOwogICAgICAgIE1lc3NhZ2VQcm9kdWNlciBw\ncm9kdWNlciA9IHNlc3Npb24uY3JlYXRlUHJvZHVjZXIoZGVzdGluYXRpb24p\nOwoKICAgICAgICAvLyBzZW5kIHRoZSBtZXNzYWdlLgogICAgICAgIHsKICAg\nICAgICAgICAgT2JqZWN0TWVzc2FnZSBtZXNzYWdlID0gc2Vzc2lvbi5jcmVh\ndGVPYmplY3RNZXNzYWdlKCk7CiAgICAgICAgICAgIG1lc3NhZ2Uuc2V0T2Jq\nZWN0KCJIaSIpOwogICAgICAgICAgICBwcm9kdWNlci5zZW5kKG1lc3NhZ2Up\nOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2hlY2sgdGhlIG1lc3NhZ2UKICAg\nICAgICB7CiAgICAgICAgICAgIE9iamVjdE1lc3NhZ2UgbWVzc2FnZSA9IChP\nYmplY3RNZXNzYWdlKWNvbnN1bWVyLnJlY2VpdmUoMTAwMCk7CiAgICAgICAg\nICAgIGFzc2VydE5vdE51bGwobWVzc2FnZSk7CiAgICAgICAgICAgIGFzc2Vy\ndEVxdWFscygiSGkiLCBtZXNzYWdlLmdldE9iamVjdCgpKTsKICAgICAgICB9\nCiAgICAgICAgYXNzZXJ0TnVsbChjb25zdW1lci5yZWNlaXZlTm9XYWl0KCkp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RCeXRlc01lc3NhZ2UoKSB0\naHJvd3MgRXhjZXB0aW9uIHsKCiAgICAgICAgLy8gUmVjZWl2ZSBhIG1lc3Nh\nZ2Ugd2l0aCB0aGUgSk1TIEFQSQogICAgICAgIGNvbm5lY3Rpb24uc3RhcnQo\nKTsKICAgICAgICBTZXNzaW9uIHNlc3Npb24gPSBjb25uZWN0aW9uLmNyZWF0\nZVNlc3Npb24oZmFsc2UsIFNlc3Npb24uQVVUT19BQ0tOT1dMRURHRSk7CiAg\nICAgICAgZGVzdGluYXRpb24gPSBjcmVhdGVEZXN0aW5hdGlvbihzZXNzaW9u\nLCBkZXN0aW5hdGlvblR5cGUpOwogICAgICAgIE1lc3NhZ2VDb25zdW1lciBj\nb25zdW1lciA9IHNlc3Npb24uY3JlYXRlQ29uc3VtZXIoZGVzdGluYXRpb24p\nOwogICAgICAgIE1lc3NhZ2VQcm9kdWNlciBwcm9kdWNlciA9IHNlc3Npb24u\nY3JlYXRlUHJvZHVjZXIoZGVzdGluYXRpb24pOwoKICAgICAgICAvLyBTZW5k\nIHRoZSBtZXNzYWdlCiAgICAgICAgewogICAgICAgICAgICBCeXRlc01lc3Nh\nZ2UgbWVzc2FnZSA9IHNlc3Npb24uY3JlYXRlQnl0ZXNNZXNzYWdlKCk7CiAg\nICAgICAgICAgIG1lc3NhZ2Uud3JpdGVCb29sZWFuKHRydWUpOwogICAgICAg\nICAgICBwcm9kdWNlci5zZW5kKG1lc3NhZ2UpOwogICAgICAgIH0KCiAgICAg\nICAgLy8gQ2hlY2sgdGhlIG1lc3NhZ2UKICAgICAgICB7CiAgICAgICAgICAg\nIEJ5dGVzTWVzc2FnZSBtZXNzYWdlID0gKEJ5dGVzTWVzc2FnZSljb25zdW1l\nci5yZWNlaXZlKDEwMDApOwogICAgICAgICAgICBhc3NlcnROb3ROdWxsKG1l\nc3NhZ2UpOwogICAgICAgICAgICBhc3NlcnRUcnVlKG1lc3NhZ2UucmVhZEJv\nb2xlYW4oKSk7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAg\nbWVzc2FnZS5yZWFkQnl0ZSgpOwogICAgICAgICAgICAgICAgZmFpbCgiRXhw\nZWN0ZWQgZXhjZXB0aW9uIG5vdCB0aHJvd24uIik7CiAgICAgICAgICAgIH0g\nY2F0Y2ggKE1lc3NhZ2VFT0ZFeGNlcHRpb24gZSkgewogICAgICAgICAgICB9\nCgogICAgICAgIH0KICAgICAgICBhc3NlcnROdWxsKGNvbnN1bWVyLnJlY2Vp\ndmVOb1dhaXQoKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFN0cmVh\nbU1lc3NhZ2UoKSB0aHJvd3MgRXhjZXB0aW9uIHsKCiAgICAgICAgLy8gUmVj\nZWl2ZSBhIG1lc3NhZ2Ugd2l0aCB0aGUgSk1TIEFQSQogICAgICAgIGNvbm5l\nY3Rpb24uc3RhcnQoKTsKICAgICAgICBTZXNzaW9uIHNlc3Npb24gPSBjb25u\nZWN0aW9uLmNyZWF0ZVNlc3Npb24oZmFsc2UsIFNlc3Npb24uQVVUT19BQ0tO\nT1dMRURHRSk7CiAgICAgICAgZGVzdGluYXRpb24gPSBjcmVhdGVEZXN0aW5h\ndGlvbihzZXNzaW9uLCBkZXN0aW5hdGlvblR5cGUpOwogICAgICAgIE1lc3Nh\nZ2VDb25zdW1lciBjb25zdW1lciA9IHNlc3Npb24uY3JlYXRlQ29uc3VtZXIo\nZGVzdGluYXRpb24pOwogICAgICAgIE1lc3NhZ2VQcm9kdWNlciBwcm9kdWNl\nciA9IHNlc3Npb24uY3JlYXRlUHJvZHVjZXIoZGVzdGluYXRpb24pOwoKICAg\nICAgICAvLyBTZW5kIHRoZSBtZXNzYWdlLgogICAgICAgIHsKICAgICAgICAg\nICAgU3RyZWFtTWVzc2FnZSBtZXNzYWdlID0gc2Vzc2lvbi5jcmVhdGVTdHJl\nYW1NZXNzYWdlKCk7CiAgICAgICAgICAgIG1lc3NhZ2Uud3JpdGVTdHJpbmco\nIlRoaXMgaXMgYSB0ZXN0IHRvIHNlZSBob3cgaXQgd29ya3MuIik7CiAgICAg\nICAgICAgIHByb2R1Y2VyLnNlbmQobWVzc2FnZSk7CiAgICAgICAgfQoKICAg\nICAgICAvLyBDaGVjayB0aGUgbWVzc2FnZS4KICAgICAgICB7CiAgICAgICAg\nICAgIFN0cmVhbU1lc3NhZ2UgbWVzc2FnZSA9IChTdHJlYW1NZXNzYWdlKWNv\nbnN1bWVyLnJlY2VpdmUoMTAwMCk7CiAgICAgICAgICAgIGFzc2VydE5vdE51\nbGwobWVzc2FnZSk7CgogICAgICAgICAgICAvLyBJbnZhbGlkIGNvbnZlcnNp\nb24gc2hvdWxkIHRocm93IGV4Y2VwdGlvbiBhbmQgbm90IG1vdmUgdGhlIHN0\ncmVhbQogICAgICAgICAgICAvLyBwb3NpdGlvbi4KICAgICAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgICAgIG1lc3NhZ2UucmVhZEJ5dGUoKTsKICAgICAg\nICAgICAgICAgIGZhaWwoIlNob3VsZCBoYXZlIHJlY2VpdmVkIE51bWJlckZv\ncm1hdEV4Y2VwdGlvbiIpOwogICAgICAgICAgICB9IGNhdGNoIChOdW1iZXJG\nb3JtYXRFeGNlcHRpb24gZSkgewogICAgICAgICAgICB9IGNhdGNoIChNZXNz\nYWdlRm9ybWF0RXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgfQoKICAgICAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJUaGlzIGlzIGEgdGVzdCB0byBzZWUgaG93\nIGl0IHdvcmtzLiIsIG1lc3NhZ2UucmVhZFN0cmluZygpKTsKCiAgICAgICAg\nICAgIC8vIEludmFsaWQgY29udmVyc2lvbiBzaG91bGQgdGhyb3cgZXhjZXB0\naW9uIGFuZCBub3QgbW92ZSB0aGUgc3RyZWFtCiAgICAgICAgICAgIC8vIHBv\nc2l0aW9uLgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbWVz\nc2FnZS5yZWFkQnl0ZSgpOwogICAgICAgICAgICAgICAgZmFpbCgiU2hvdWxk\nIGhhdmUgcmVjZWl2ZWQgTWVzc2FnZUVPRkV4Y2VwdGlvbiIpOwogICAgICAg\nICAgICB9IGNhdGNoIChNZXNzYWdlRU9GRXhjZXB0aW9uIGUpIHsKICAgICAg\nICAgICAgfQogICAgICAgIH0KICAgICAgICBhc3NlcnROdWxsKGNvbnN1bWVy\nLnJlY2VpdmVOb1dhaXQoKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndE1hcE1lc3NhZ2UoKSB0aHJvd3MgRXhjZXB0aW9uIHsKCiAgICAgICAgLy8g\nUmVjZWl2ZSBhIG1lc3NhZ2Ugd2l0aCB0aGUgSk1TIEFQSQogICAgICAgIGNv\nbm5lY3Rpb24uc3RhcnQoKTsKICAgICAgICBTZXNzaW9uIHNlc3Npb24gPSBj\nb25uZWN0aW9uLmNyZWF0ZVNlc3Npb24oZmFsc2UsIFNlc3Npb24uQVVUT19B\nQ0tOT1dMRURHRSk7CiAgICAgICAgZGVzdGluYXRpb24gPSBjcmVhdGVEZXN0\naW5hdGlvbihzZXNzaW9uLCBkZXN0aW5hdGlvblR5cGUpOwogICAgICAgIE1l\nc3NhZ2VDb25zdW1lciBjb25zdW1lciA9IHNlc3Npb24uY3JlYXRlQ29uc3Vt\nZXIoZGVzdGluYXRpb24pOwogICAgICAgIE1lc3NhZ2VQcm9kdWNlciBwcm9k\ndWNlciA9IHNlc3Npb24uY3JlYXRlUHJvZHVjZXIoZGVzdGluYXRpb24pOwoK\nICAgICAgICAvLyBzZW5kIHRoZSBtZXNzYWdlLgogICAgICAgIHsKICAgICAg\nICAgICAgTWFwTWVzc2FnZSBtZXNzYWdlID0gc2Vzc2lvbi5jcmVhdGVNYXBN\nZXNzYWdlKCk7CiAgICAgICAgICAgIG1lc3NhZ2Uuc2V0Qm9vbGVhbigiYm9v\nbEtleSIsIHRydWUpOwogICAgICAgICAgICBwcm9kdWNlci5zZW5kKG1lc3Nh\nZ2UpOwogICAgICAgIH0KCiAgICAgICAgLy8gZ2V0IHRoZSBtZXNzYWdlLgog\nICAgICAgIHsKICAgICAgICAgICAgTWFwTWVzc2FnZSBtZXNzYWdlID0gKE1h\ncE1lc3NhZ2UpY29uc3VtZXIucmVjZWl2ZSgxMDAwKTsKICAgICAgICAgICAg\nYXNzZXJ0Tm90TnVsbChtZXNzYWdlKTsKICAgICAgICAgICAgYXNzZXJ0VHJ1\nZShtZXNzYWdlLmdldEJvb2xlYW4oImJvb2xLZXkiKSk7CiAgICAgICAgfQog\nICAgICAgIGFzc2VydE51bGwoY29uc3VtZXIucmVjZWl2ZU5vV2FpdCgpKTsK\nICAgIH0KCiAgICBzdGF0aWMgY2xhc3MgRm9yZWlnbk1lc3NhZ2UgaW1wbGVt\nZW50cyBUZXh0TWVzc2FnZSB7CgogICAgICAgIHB1YmxpYyBpbnQgZGVsaXZl\ncnlNb2RlOwoKICAgICAgICBwcml2YXRlIFN0cmluZyBtZXNzYWdlSWQ7CiAg\nICAgICAgcHJpdmF0ZSBsb25nIHRpbWVzdGFtcDsKICAgICAgICBwcml2YXRl\nIFN0cmluZyBjb3JyZWxhdGlvbklkOwogICAgICAgIHByaXZhdGUgRGVzdGlu\nYXRpb24gcmVwbHlUbzsKICAgICAgICBwcml2YXRlIERlc3RpbmF0aW9uIGRl\nc3RpbmF0aW9uOwogICAgICAgIHByaXZhdGUgYm9vbGVhbiByZWRlbGl2ZXJl\nZDsKICAgICAgICBwcml2YXRlIFN0cmluZyB0eXBlOwogICAgICAgIHByaXZh\ndGUgbG9uZyBleHBpcmF0aW9uOwogICAgICAgIHByaXZhdGUgaW50IHByaW9y\naXR5OwogICAgICAgIHByaXZhdGUgU3RyaW5nIHRleHQ7CiAgICAgICAgcHJp\ndmF0ZSBIYXNoTWFwPFN0cmluZywgT2JqZWN0PiBwcm9wcyA9IG5ldyBIYXNo\nTWFwPFN0cmluZywgT2JqZWN0PigpOwoKICAgICAgICBwdWJsaWMgU3RyaW5n\nIGdldEpNU01lc3NhZ2VJRCgpIHRocm93cyBKTVNFeGNlcHRpb24gewogICAg\nICAgICAgICByZXR1cm4gbWVzc2FnZUlkOwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIHZvaWQgc2V0Sk1TTWVzc2FnZUlEKFN0cmluZyBhcmcwKSB0aHJv\nd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICAgICAgbWVzc2FnZUlkID0gYXJn\nMDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBsb25nIGdldEpNU1RpbWVz\ndGFtcCgpIHRocm93cyBKTVNFeGNlcHRpb24gewogICAgICAgICAgICByZXR1\ncm4gdGltZXN0YW1wOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQg\nc2V0Sk1TVGltZXN0YW1wKGxvbmcgYXJnMCkgdGhyb3dzIEpNU0V4Y2VwdGlv\nbiB7CiAgICAgICAgICAgIHRpbWVzdGFtcCA9IGFyZzA7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgYnl0ZVtdIGdldEpNU0NvcnJlbGF0aW9uSURBc0J5\ndGVzKCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgICAgIHJldHVy\nbiBudWxsOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgc2V0Sk1T\nQ29ycmVsYXRpb25JREFzQnl0ZXMoYnl0ZVtdIGFyZzApIHRocm93cyBKTVNF\neGNlcHRpb24gewogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgc2V0\nSk1TQ29ycmVsYXRpb25JRChTdHJpbmcgYXJnMCkgdGhyb3dzIEpNU0V4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQgPSBhcmcwOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIFN0cmluZyBnZXRKTVNDb3JyZWxhdGlv\nbklEKCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgICAgIHJldHVy\nbiBjb3JyZWxhdGlvbklkOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIERl\nc3RpbmF0aW9uIGdldEpNU1JlcGx5VG8oKSB0aHJvd3MgSk1TRXhjZXB0aW9u\nIHsKICAgICAgICAgICAgcmV0dXJuIHJlcGx5VG87CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgdm9pZCBzZXRKTVNSZXBseVRvKERlc3RpbmF0aW9uIGFy\nZzApIHRocm93cyBKTVNFeGNlcHRpb24gewogICAgICAgICAgICByZXBseVRv\nID0gYXJnMDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBEZXN0aW5hdGlv\nbiBnZXRKTVNEZXN0aW5hdGlvbigpIHRocm93cyBKTVNFeGNlcHRpb24gewog\nICAgICAgICAgICByZXR1cm4gZGVzdGluYXRpb247CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgdm9pZCBzZXRKTVNEZXN0aW5hdGlvbihEZXN0aW5hdGlv\nbiBhcmcwKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICAgICAgZGVz\ndGluYXRpb24gPSBhcmcwOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGlu\ndCBnZXRKTVNEZWxpdmVyeU1vZGUoKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsK\nICAgICAgICAgICAgcmV0dXJuIGRlbGl2ZXJ5TW9kZTsKICAgICAgICB9Cgog\nICAgICAgIHB1YmxpYyB2b2lkIHNldEpNU0RlbGl2ZXJ5TW9kZShpbnQgYXJn\nMCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgICAgIGRlbGl2ZXJ5\nTW9kZSA9IGFyZzA7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgYm9vbGVh\nbiBnZXRKTVNSZWRlbGl2ZXJlZCgpIHRocm93cyBKTVNFeGNlcHRpb24gewog\nICAgICAgICAgICByZXR1cm4gcmVkZWxpdmVyZWQ7CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgdm9pZCBzZXRKTVNSZWRlbGl2ZXJlZChib29sZWFuIGFy\nZzApIHRocm93cyBKTVNFeGNlcHRpb24gewogICAgICAgICAgICByZWRlbGl2\nZXJlZCA9IGFyZzA7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgU3RyaW5n\nIGdldEpNU1R5cGUoKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICAg\nICAgcmV0dXJuIHR5cGU7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9p\nZCBzZXRKTVNUeXBlKFN0cmluZyBhcmcwKSB0aHJvd3MgSk1TRXhjZXB0aW9u\nIHsKICAgICAgICAgICAgdHlwZSA9IGFyZzA7CiAgICAgICAgfQoKICAgICAg\nICBwdWJsaWMgbG9uZyBnZXRKTVNFeHBpcmF0aW9uKCkgdGhyb3dzIEpNU0V4\nY2VwdGlvbiB7CiAgICAgICAgICAgIHJldHVybiBleHBpcmF0aW9uOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgc2V0Sk1TRXhwaXJhdGlvbihs\nb25nIGFyZzApIHRocm93cyBKTVNFeGNlcHRpb24gewogICAgICAgICAgICBl\neHBpcmF0aW9uID0gYXJnMDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBp\nbnQgZ2V0Sk1TUHJpb3JpdHkoKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAg\nICAgICAgICAgcmV0dXJuIHByaW9yaXR5OwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIHZvaWQgc2V0Sk1TUHJpb3JpdHkoaW50IGFyZzApIHRocm93cyBK\nTVNFeGNlcHRpb24gewogICAgICAgICAgICBwcmlvcml0eSA9IGFyZzA7CiAg\nICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBjbGVhclByb3BlcnRpZXMo\nKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICB9CgogICAgICAgIHB1\nYmxpYyBib29sZWFuIHByb3BlcnR5RXhpc3RzKFN0cmluZyBhcmcwKSB0aHJv\nd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwog\nICAgICAgIH0KCiAgICAgICAgcHVibGljIGJvb2xlYW4gZ2V0Qm9vbGVhblBy\nb3BlcnR5KFN0cmluZyBhcmcwKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAg\nICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcHVi\nbGljIGJ5dGUgZ2V0Qnl0ZVByb3BlcnR5KFN0cmluZyBhcmcwKSB0aHJvd3Mg\nSk1TRXhjZXB0aW9uIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgc2hvcnQgZ2V0U2hvcnRQcm9wZXJ0eShTdHJp\nbmcgYXJnMCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgICAgIHJl\ndHVybiAwOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGludCBnZXRJbnRQ\ncm9wZXJ0eShTdHJpbmcgYXJnMCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7CiAg\nICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgcHVibGlj\nIGxvbmcgZ2V0TG9uZ1Byb3BlcnR5KFN0cmluZyBhcmcwKSB0aHJvd3MgSk1T\nRXhjZXB0aW9uIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgZmxvYXQgZ2V0RmxvYXRQcm9wZXJ0eShTdHJpbmcg\nYXJnMCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgICAgIHJldHVy\nbiAwOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGRvdWJsZSBnZXREb3Vi\nbGVQcm9wZXJ0eShTdHJpbmcgYXJnMCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7\nCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgcHVi\nbGljIFN0cmluZyBnZXRTdHJpbmdQcm9wZXJ0eShTdHJpbmcgYXJnMCkgdGhy\nb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgICAgIHJldHVybiAoU3RyaW5n\nKXByb3BzLmdldChhcmcwKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBP\nYmplY3QgZ2V0T2JqZWN0UHJvcGVydHkoU3RyaW5nIGFyZzApIHRocm93cyBK\nTVNFeGNlcHRpb24gewogICAgICAgICAgICByZXR1cm4gcHJvcHMuZ2V0KGFy\nZzApOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIEVudW1lcmF0aW9uIGdl\ndFByb3BlcnR5TmFtZXMoKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAg\nICAgICAgcmV0dXJuIG5ldyBWZWN0b3I8U3RyaW5nPihwcm9wcy5rZXlTZXQo\nKSkuZWxlbWVudHMoKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lk\nIHNldEJvb2xlYW5Qcm9wZXJ0eShTdHJpbmcgYXJnMCwgYm9vbGVhbiBhcmcx\nKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICB9CgogICAgICAgIHB1\nYmxpYyB2b2lkIHNldEJ5dGVQcm9wZXJ0eShTdHJpbmcgYXJnMCwgYnl0ZSBh\ncmcxKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICB9CgogICAgICAg\nIHB1YmxpYyB2b2lkIHNldFNob3J0UHJvcGVydHkoU3RyaW5nIGFyZzAsIHNo\nb3J0IGFyZzEpIHRocm93cyBKTVNFeGNlcHRpb24gewogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIHZvaWQgc2V0SW50UHJvcGVydHkoU3RyaW5nIGFyZzAs\nIGludCBhcmcxKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICB9Cgog\nICAgICAgIHB1YmxpYyB2b2lkIHNldExvbmdQcm9wZXJ0eShTdHJpbmcgYXJn\nMCwgbG9uZyBhcmcxKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyB2b2lkIHNldEZsb2F0UHJvcGVydHkoU3RyaW5n\nIGFyZzAsIGZsb2F0IGFyZzEpIHRocm93cyBKTVNFeGNlcHRpb24gewogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgc2V0RG91YmxlUHJvcGVydHko\nU3RyaW5nIGFyZzAsIGRvdWJsZSBhcmcxKSB0aHJvd3MgSk1TRXhjZXB0aW9u\nIHsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHNldFN0cmluZ1By\nb3BlcnR5KFN0cmluZyBhcmcwLCBTdHJpbmcgYXJnMSkgdGhyb3dzIEpNU0V4\nY2VwdGlvbiB7CiAgICAgICAgICAgIHByb3BzLnB1dChhcmcwLCBhcmcxKTsK\nICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHNldE9iamVjdFByb3Bl\ncnR5KFN0cmluZyBhcmcwLCBPYmplY3QgYXJnMSkgdGhyb3dzIEpNU0V4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgIHByb3BzLnB1dChhcmcwLCBhcmcxKTsKICAg\nICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGFja25vd2xlZGdlKCkgdGhy\nb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMg\ndm9pZCBjbGVhckJvZHkoKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsKICAgICAg\nICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHNldFRleHQoU3RyaW5nIGFyZzAp\nIHRocm93cyBKTVNFeGNlcHRpb24gewogICAgICAgICAgICB0ZXh0ID0gYXJn\nMDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGV4dCgp\nIHRocm93cyBKTVNFeGNlcHRpb24gewogICAgICAgICAgICByZXR1cm4gdGV4\ndDsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEZvcmVp\nZ25NZXNzYWdlKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CgogICAgICAgIC8vIFJl\nY2VpdmUgYSBtZXNzYWdlIHdpdGggdGhlIEpNUyBBUEkKICAgICAgICBjb25u\nZWN0aW9uLnN0YXJ0KCk7CiAgICAgICAgU2Vzc2lvbiBzZXNzaW9uID0gY29u\nbmVjdGlvbi5jcmVhdGVTZXNzaW9uKGZhbHNlLCBTZXNzaW9uLkFVVE9fQUNL\nTk9XTEVER0UpOwogICAgICAgIGRlc3RpbmF0aW9uID0gY3JlYXRlRGVzdGlu\nYXRpb24oc2Vzc2lvbiwgZGVzdGluYXRpb25UeXBlKTsKICAgICAgICBNZXNz\nYWdlQ29uc3VtZXIgY29uc3VtZXIgPSBzZXNzaW9uLmNyZWF0ZUNvbnN1bWVy\nKGRlc3RpbmF0aW9uKTsKICAgICAgICBNZXNzYWdlUHJvZHVjZXIgcHJvZHVj\nZXIgPSBzZXNzaW9uLmNyZWF0ZVByb2R1Y2VyKGRlc3RpbmF0aW9uKTsKCiAg\nICAgICAgLy8gU2VuZCB0aGUgbWVzc2FnZS4KICAgICAgICB7CiAgICAgICAg\nICAgIEZvcmVpZ25NZXNzYWdlIG1lc3NhZ2UgPSBuZXcgRm9yZWlnbk1lc3Nh\nZ2UoKTsKICAgICAgICAgICAgbWVzc2FnZS50ZXh0ID0gIkhlbGxvIjsKICAg\nICAgICAgICAgbWVzc2FnZS5zZXRTdHJpbmdQcm9wZXJ0eSgidGVzdCIsICJ2\nYWx1ZSIpOwogICAgICAgICAgICAvLyBsb25nIHRpbWVUb0xpdmUgPSAxMDAw\nMEw7CiAgICAgICAgICAgIGxvbmcgdGltZVRvTGl2ZSA9IDBMOwogICAgICAg\nICAgICBsb25nIHN0YXJ0ID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7\nCiAgICAgICAgICAgIHByb2R1Y2VyLnNlbmQobWVzc2FnZSwgU2Vzc2lvbi5B\nVVRPX0FDS05PV0xFREdFLCA3LCB0aW1lVG9MaXZlKTsKICAgICAgICAgICAg\nbG9uZyBlbmQgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTsKCgogICAg\nICAgICAgICAvL3ZhbGlkYXRlIGptcyBzcGVjIDEuMSBzZWN0aW9uIDMuNC4x\nMSB0YWJsZSAzLjEKICAgICAgICAgICAgLy8gSk1TRGVzdGluYXRpb24sIEpN\nU0RlbGl2ZXJ5TW9kZSwgIEpNU1ByaW9yaXR5LCBKTVNNZXNzYWdlSUQsIGFu\nZCBKTVNUaW1lc3RhbXAKICAgICAgICAgICAgLy9tdXN0IGJlIHNldCBieSBz\nZW5kaW5nIGEgbWVzc2FnZS4KCiAgICAgICAgICAgIC8vIFRoaXMgaXMgTk9U\nIHNwZWNpZmllZCBpbiB0aGUgc3BlYyAhCiAgICAgICAgICAgIC8vIGV4Y2Vw\ndGlvbiBmb3Igam1zIGRlc3RpbmF0aW9uIGFzIHRoZSBmb3JtYXQgaXMgcHJv\ndmlkZXIgZGVmaW5lZCBzbyBpdCBpcyBvbmx5IHNldCBvbiB0aGUgY29weQog\nICAgICAgICAgICAvLyBhc3NlcnROdWxsKG1lc3NhZ2UuZ2V0Sk1TRGVzdGlu\nYXRpb24oKSk7CgogICAgICAgICAgICBhc3NlcnRFcXVhbHMoU2Vzc2lvbi5B\nVVRPX0FDS05PV0xFREdFLCBtZXNzYWdlLmdldEpNU0RlbGl2ZXJ5TW9kZSgp\nKTsKICAgICAgICAgICAgLy8gYXNzZXJ0VHJ1ZShzdGFydCAgKyB0aW1lVG9M\naXZlIDw9IG1lc3NhZ2UuZ2V0Sk1TRXhwaXJhdGlvbigpKTsKICAgICAgICAg\nICAgLy8gYXNzZXJ0VHJ1ZShlbmQgKyB0aW1lVG9MaXZlID49IG1lc3NhZ2Uu\nZ2V0Sk1TRXhwaXJhdGlvbigpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKDcsIG1lc3NhZ2UuZ2V0Sk1TUHJpb3JpdHkoKSk7CiAgICAgICAgICAgIGFz\nc2VydE5vdE51bGwobWVzc2FnZS5nZXRKTVNNZXNzYWdlSUQoKSk7CiAgICAg\nICAgICAgIGFzc2VydFRydWUoc3RhcnQgPD0gbWVzc2FnZS5nZXRKTVNUaW1l\nc3RhbXAoKSk7CiAgICAgICAgICAgIGFzc2VydFRydWUoZW5kID49IG1lc3Nh\nZ2UuZ2V0Sk1TVGltZXN0YW1wKCkpOwogICAgICAgIH0KCiAgICAgICAgLy8g\nVmFsaWRhdGUgbWVzc2FnZSBpcyBPSy4KICAgICAgICB7CiAgICAgICAgICAg\nIFRleHRNZXNzYWdlIG1lc3NhZ2UgPSAoVGV4dE1lc3NhZ2UpY29uc3VtZXIu\ncmVjZWl2ZSgxMDAwKTsKICAgICAgICAgICAgYXNzZXJ0Tm90TnVsbChtZXNz\nYWdlKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJIZWxsbyIsIG1lc3Nh\nZ2UuZ2V0VGV4dCgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWx1\nZSIsIG1lc3NhZ2UuZ2V0U3RyaW5nUHJvcGVydHkoInRlc3QiKSk7CiAgICAg\nICAgfQoKICAgICAgICBhc3NlcnROdWxsKGNvbnN1bWVyLnJlY2VpdmVOb1dh\naXQoKSk7CiAgICB9Cgp9Cg==\n","encoding":"base64"}

