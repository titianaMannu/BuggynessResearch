{"sha":"cadb071d5ade1de32dbf691998e5acb45b1e8948","node_id":"MDQ6QmxvYjE1NzU5NTY6Y2FkYjA3MWQ1YWRlMWRlMzJkYmY2OTE5OThlNWFjYjQ1YjFlODk0OA==","size":4268,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/cadb071d5ade1de32dbf691998e5acb45b1e8948","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xOwoKaW1wb3J0IGphdmF4Lmptcy5EZWxp\ndmVyeU1vZGU7CmltcG9ydCBqYXZheC5qbXMuTWVzc2FnZTsKaW1wb3J0IGph\ndmF4Lmptcy5NZXNzYWdlQ29uc3VtZXI7CmltcG9ydCBqYXZheC5qbXMuTWVz\nc2FnZVByb2R1Y2VyOwppbXBvcnQgamF2YXguam1zLlNlc3Npb247CgppbXBv\ncnQganVuaXQuZnJhbWV3b3JrLlRlc3Q7CgppbXBvcnQgamF2YXguam1zLkRl\nc3RpbmF0aW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmptcy5NZXNz\nYWdpbmdTZXNzaW9uRmFjYWRlOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcu\nam1zLlNlc3Npb25JbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuam1z\nLm1lc3NhZ2UuTWVzc2FnZUltcGw7CgpwdWJsaWMgY2xhc3MgSk1TVXNlY2Fz\nZVRlc3QgZXh0ZW5kcyBKbXNUZXN0U3VwcG9ydCB7CgogICAgcHVibGljIERl\nc3RpbmF0aW9uIGRlc3RpbmF0aW9uOwogICAgcHVibGljIGludCBkZWxpdmVy\neU1vZGU7CiAgICBwdWJsaWMgaW50IHByZWZldGNoOwogICAgcHVibGljIE1l\nc3NhZ2luZ1Nlc3Npb25GYWNhZGUuRGVzdGluYXRpb25UeXBlIGRlc3RpbmF0\naW9uVHlwZTsKICAgIHB1YmxpYyBib29sZWFuIGR1cmFibGVDb25zdW1lcjsK\nCiAgICBwdWJsaWMgc3RhdGljIFRlc3Qgc3VpdGUoKSB7CiAgICAgICAgcmV0\ndXJuIHN1aXRlKEpNU1VzZWNhc2VUZXN0LmNsYXNzKTsKICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAg\nICAganVuaXQudGV4dHVpLlRlc3RSdW5uZXIucnVuKHN1aXRlKCkpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIGluaXRDb21ib3NGb3JUZXN0U2VuZFJlY2Vp\ndmUoKSB7CiAgICAgICAgYWRkQ29tYmluYXRpb25WYWx1ZXMoImRlbGl2ZXJ5\nTW9kZSIsIG5ldyBPYmplY3RbXSB7CiAgICAgICAgICAgICAgICBJbnRlZ2Vy\nLnZhbHVlT2YoRGVsaXZlcnlNb2RlLk5PTl9QRVJTSVNURU5UKSwgSW50ZWdl\nci52YWx1ZU9mKERlbGl2ZXJ5TW9kZS5QRVJTSVNURU5UKX0pOwogICAgICAg\nIGFkZENvbWJpbmF0aW9uVmFsdWVzKCJkZXN0aW5hdGlvblR5cGUiLCBuZXcg\nT2JqZWN0W10ge01lc3NhZ2luZ1Nlc3Npb25GYWNhZGUuRGVzdGluYXRpb25U\neXBlLlRPUElDfSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNlbmRS\nZWNlaXZlKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgLy8gU2VuZCBh\nIG1lc3NhZ2UgdG8gdGhlIGJyb2tlci4KICAgICAgICBjb25uZWN0aW9uLnN0\nYXJ0KCk7CiAgICAgICAgU2Vzc2lvbkltcGwgc2Vzc2lvbiA9IGNvbm5lY3Rp\nb24uY3JlYXRlU2Vzc2lvbihmYWxzZSwgU2Vzc2lvbi5BVVRPX0FDS05PV0xF\nREdFKTsKICAgICAgICBkZXN0aW5hdGlvbiA9IGNyZWF0ZURlc3RpbmF0aW9u\nKHNlc3Npb24sIGRlc3RpbmF0aW9uVHlwZSk7CiAgICAgICAgTWVzc2FnZVBy\nb2R1Y2VyIHByb2R1Y2VyID0gc2Vzc2lvbi5jcmVhdGVQcm9kdWNlcihkZXN0\naW5hdGlvbik7CiAgICAgICAgTWVzc2FnZUNvbnN1bWVyIGNvbnN1bWVyID0g\nc2Vzc2lvbi5jcmVhdGVDb25zdW1lcihkZXN0aW5hdGlvbik7CiAgICAgICAg\nTWVzc2FnZUltcGwgbWVzc2FnZSA9IG5ldyBNZXNzYWdlSW1wbChzZXNzaW9u\nKTsKICAgICAgICBwcm9kdWNlci5zZW5kKG1lc3NhZ2UpOwoKICAgICAgICAv\nLyBNYWtlIHN1cmUgb25seSAxIG1lc3NhZ2Ugd2FzIGRlbGl2ZXJlZC4KICAg\nICAgICBhc3NlcnROb3ROdWxsKGNvbnN1bWVyLnJlY2VpdmUoMTAwMCkpOwog\nICAgICAgIGFzc2VydE51bGwoY29uc3VtZXIucmVjZWl2ZU5vV2FpdCgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBpbml0Q29tYm9zRm9yVGVzdFNlbmRS\nZWNlaXZlVHJhbnNhY3RlZCgpIHsKICAgICAgICBhZGRDb21iaW5hdGlvblZh\nbHVlcygiZGVsaXZlcnlNb2RlIiwgbmV3IE9iamVjdFtdIHsKICAgICAgICAg\nICAgICAgIEludGVnZXIudmFsdWVPZihEZWxpdmVyeU1vZGUuTk9OX1BFUlNJ\nU1RFTlQpLCBJbnRlZ2VyLnZhbHVlT2YoRGVsaXZlcnlNb2RlLlBFUlNJU1RF\nTlQpfSk7CiAgICAgICAgYWRkQ29tYmluYXRpb25WYWx1ZXMoImRlc3RpbmF0\naW9uVHlwZSIsIG5ldyBPYmplY3RbXSB7TWVzc2FnaW5nU2Vzc2lvbkZhY2Fk\nZS5EZXN0aW5hdGlvblR5cGUuVE9QSUN9KTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0U2VuZFJlY2VpdmVUcmFuc2FjdGVkKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgLy8gU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIGJyb2tl\nci4KICAgICAgICBjb25uZWN0aW9uLnN0YXJ0KCk7CiAgICAgICAgU2Vzc2lv\nbiBzZXNzaW9uID0gY29ubmVjdGlvbi5jcmVhdGVTZXNzaW9uKHRydWUsIFNl\nc3Npb24uU0VTU0lPTl9UUkFOU0FDVEVEKTsKICAgICAgICBkZXN0aW5hdGlv\nbiA9IGNyZWF0ZURlc3RpbmF0aW9uKHNlc3Npb24sIGRlc3RpbmF0aW9uVHlw\nZSk7CiAgICAgICAgTWVzc2FnZVByb2R1Y2VyIHByb2R1Y2VyID0gc2Vzc2lv\nbi5jcmVhdGVQcm9kdWNlcihkZXN0aW5hdGlvbik7CiAgICAgICAgTWVzc2Fn\nZUNvbnN1bWVyIGNvbnN1bWVyID0gc2Vzc2lvbi5jcmVhdGVDb25zdW1lcihk\nZXN0aW5hdGlvbik7CiAgICAgICAgcHJvZHVjZXIuc2VuZChzZXNzaW9uLmNy\nZWF0ZVRleHRNZXNzYWdlKCJ0ZXN0IikpOwoKICAgICAgICAvLyBNZXNzYWdl\nIHNob3VsZCBub3QgYmUgZGVsaXZlcmVkIHVudGlsIGNvbW1pdC4KICAgICAg\nICBhc3NlcnROdWxsKGNvbnN1bWVyLnJlY2VpdmVOb1dhaXQoKSk7CiAgICAg\nICAgc2Vzc2lvbi5jb21taXQoKTsKCiAgICAgICAgLy8gTWFrZSBzdXJlIG9u\nbHkgMSBtZXNzYWdlIHdhcyBkZWxpdmVyZWQuCiAgICAgICAgTWVzc2FnZSBt\nZXNzYWdlID0gY29uc3VtZXIucmVjZWl2ZSgxMDAwKTsKICAgICAgICBhc3Nl\ncnROb3ROdWxsKG1lc3NhZ2UpOwogICAgICAgIGFzc2VydEZhbHNlKG1lc3Nh\nZ2UuZ2V0Sk1TUmVkZWxpdmVyZWQoKSk7CiAgICAgICAgYXNzZXJ0TnVsbChj\nb25zdW1lci5yZWNlaXZlTm9XYWl0KCkpOwoKICAgICAgICAvLyBNZXNzYWdl\nIHNob3VsZCBiZSByZWRlbGl2ZXJlZCBpcyByb2xsYmFjayBpcyB1c2VkLgog\nICAgICAgIHNlc3Npb24ucm9sbGJhY2soKTsKCiAgICAgICAgLy8gTWFrZSBz\ndXJlIG9ubHkgMSBtZXNzYWdlIHdhcyBkZWxpdmVyZWQuCiAgICAgICAgbWVz\nc2FnZSA9IGNvbnN1bWVyLnJlY2VpdmUoMjAwMCk7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChtZXNzYWdlKTsKICAgICAgICBhc3NlcnRUcnVlKG1lc3NhZ2Uu\nZ2V0Sk1TUmVkZWxpdmVyZWQoKSk7CiAgICAgICAgYXNzZXJ0TnVsbChjb25z\ndW1lci5yZWNlaXZlTm9XYWl0KCkpOwoKICAgICAgICAvLyBJZiB3ZSBjb21t\naXQgbm93LCB0aGUgbWVzc2FnZSBzaG91bGQgbm90IGJlIHJlZGVsaXZlcmVk\nLgogICAgICAgIHNlc3Npb24uY29tbWl0KCk7CiAgICAgICAgYXNzZXJ0TnVs\nbChjb25zdW1lci5yZWNlaXZlTm9XYWl0KCkpOwogICAgfQoKfQo=\n","encoding":"base64"}

