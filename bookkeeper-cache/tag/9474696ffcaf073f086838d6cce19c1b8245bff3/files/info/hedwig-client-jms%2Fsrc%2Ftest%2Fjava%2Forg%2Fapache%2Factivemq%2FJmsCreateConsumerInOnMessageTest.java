{"sha":"218bbe5dcd873f89ed91bc41a0610613f470ad2d","node_id":"MDQ6QmxvYjE1NzU5NTY6MjE4YmJlNWRjZDg3M2Y4OWVkOTFiYzQxYTA2MTA2MTNmNDcwYWQyZA==","size":3174,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/218bbe5dcd873f89ed91bc41a0610613f470ad2d","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xOwoKaW1wb3J0IGphdmF4Lmptcy5Db25u\nZWN0aW9uOwppbXBvcnQgamF2YXguam1zLk1lc3NhZ2U7CmltcG9ydCBqYXZh\neC5qbXMuTWVzc2FnZUNvbnN1bWVyOwppbXBvcnQgamF2YXguam1zLk1lc3Nh\nZ2VMaXN0ZW5lcjsKaW1wb3J0IGphdmF4Lmptcy5NZXNzYWdlUHJvZHVjZXI7\nCmltcG9ydCBqYXZheC5qbXMuU2Vzc2lvbjsKaW1wb3J0IGphdmF4Lmptcy5U\nb3BpYzsKCnB1YmxpYyBjbGFzcyBKbXNDcmVhdGVDb25zdW1lckluT25NZXNz\nYWdlVGVzdCBleHRlbmRzIFRlc3RTdXBwb3J0IGltcGxlbWVudHMgTWVzc2Fn\nZUxpc3RlbmVyIHsKCiAgICBwcml2YXRlIENvbm5lY3Rpb24gY29ubmVjdGlv\nbjsKICAgIHByaXZhdGUgU2Vzc2lvbiBwdWJsaXNoZXJTZXNzaW9uOwogICAg\ncHJpdmF0ZSBTZXNzaW9uIGNvbnN1bWVyU2Vzc2lvbjsKICAgIHByaXZhdGUg\nTWVzc2FnZUNvbnN1bWVyIGNvbnN1bWVyOwogICAgcHJpdmF0ZSBNZXNzYWdl\nQ29uc3VtZXIgdGVzdENvbnN1bWVyOwogICAgcHJpdmF0ZSBNZXNzYWdlUHJv\nZHVjZXIgcHJvZHVjZXI7CiAgICBwcml2YXRlIFRvcGljIHRvcGljOwogICAg\ncHJpdmF0ZSBPYmplY3QgbG9jayA9IG5ldyBPYmplY3QoKTsKCiAgICAvKgog\nICAgICogQHNlZSBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2Ujc2V0VXAoKQog\nICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIHN1cGVyLnNldFVwKCk7CiAgICAgICAgc3VwZXIu\ndG9waWMgPSB0cnVlOwogICAgICAgIGNvbm5lY3Rpb24gPSBjcmVhdGVDb25u\nZWN0aW9uKGZhbHNlKTsKICAgICAgICBjb25uZWN0aW9uLnNldENsaWVudElE\nKCJjb25uZWN0aW9uOiIgKyBnZXRTdWJqZWN0KCkpOwogICAgICAgIHB1Ymxp\nc2hlclNlc3Npb24gPSBjb25uZWN0aW9uLmNyZWF0ZVNlc3Npb24oZmFsc2Us\nIFNlc3Npb24uQVVUT19BQ0tOT1dMRURHRSk7CiAgICAgICAgY29uc3VtZXJT\nZXNzaW9uID0gY29ubmVjdGlvbi5jcmVhdGVTZXNzaW9uKGZhbHNlLCBTZXNz\naW9uLkFVVE9fQUNLTk9XTEVER0UpOwogICAgICAgIHRvcGljID0gKFRvcGlj\nKXN1cGVyLmNyZWF0ZURlc3RpbmF0aW9uKCJUZXN0LlRvcGljIik7CiAgICAg\nICAgY29uc3VtZXIgPSBjb25zdW1lclNlc3Npb24uY3JlYXRlQ29uc3VtZXIo\ndG9waWMpOwogICAgICAgIGNvbnN1bWVyLnNldE1lc3NhZ2VMaXN0ZW5lcih0\naGlzKTsKICAgICAgICBwcm9kdWNlciA9IHB1Ymxpc2hlclNlc3Npb24uY3Jl\nYXRlUHJvZHVjZXIodG9waWMpOwogICAgICAgIGNvbm5lY3Rpb24uc3RhcnQo\nKTsKICAgIH0KCiAgICAvKgogICAgICogQHNlZSBqdW5pdC5mcmFtZXdvcmsu\nVGVzdENhc2UjdGVhckRvd24oKQogICAgICovCiAgICBwcm90ZWN0ZWQgdm9p\nZCB0ZWFyRG93bigpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGNvbm5l\nY3Rpb24uY2xvc2UoKTsKICAgICAgICBzdXBlci50ZWFyRG93bigpOwogICAg\nfQoKICAgIC8qKgogICAgICogVGVzdHMgaWYgYSBjb25zdW1lciBjYW4gYmUg\nY3JlYXRlZCBhc3luY2hyb251c2x5CiAgICAgKgogICAgICogQHRocm93cyBF\neGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdENyZWF0ZUNv\nbnN1bWVyKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgTWVzc2FnZSBt\nc2cgPSBzdXBlci5jcmVhdGVNZXNzYWdlKCk7CiAgICAgICAgcHJvZHVjZXIu\nc2VuZChtc2cpOwogICAgICAgIGlmICh0ZXN0Q29uc3VtZXIgPT0gbnVsbCkg\newogICAgICAgICAgICBzeW5jaHJvbml6ZWQgKGxvY2spIHsKICAgICAgICAg\nICAgICAgIGxvY2sud2FpdCgzMDAwKTsKICAgICAgICAgICAgfQogICAgICAg\nIH0KICAgICAgICBhc3NlcnRUcnVlKHRlc3RDb25zdW1lciAhPSBudWxsKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFVzZSB0aGUgYXN5bmNocm9ub3VzIHN1\nYnNjcmlwdGlvbiBtZWNoYW5pc20KICAgICAqCiAgICAgKiBAcGFyYW0gbWVz\nc2FnZQogICAgICovCiAgICBwdWJsaWMgdm9pZCBvbk1lc3NhZ2UoTWVzc2Fn\nZSBtZXNzYWdlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdGVzdENv\nbnN1bWVyID0gY29uc3VtZXJTZXNzaW9uLmNyZWF0ZUNvbnN1bWVyKHRvcGlj\nKTsKICAgICAgICAgICAgY29uc3VtZXJTZXNzaW9uLmNyZWF0ZVByb2R1Y2Vy\nKHRvcGljKTsKICAgICAgICAgICAgc3luY2hyb25pemVkIChsb2NrKSB7CiAg\nICAgICAgICAgICAgICBsb2NrLm5vdGlmeSgpOwogICAgICAgICAgICB9CiAg\nICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7CiAgICAgICAgICAgIGV4\nLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgICAgICBhc3NlcnRUcnVlKGZh\nbHNlKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

