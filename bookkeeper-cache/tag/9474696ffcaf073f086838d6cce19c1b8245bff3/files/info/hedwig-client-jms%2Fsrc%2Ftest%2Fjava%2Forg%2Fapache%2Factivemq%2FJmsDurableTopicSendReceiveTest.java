{"sha":"b2e2ed736587d087f9d453d4e3374f88e9a494e5","node_id":"MDQ6QmxvYjE1NzU5NTY6YjJlMmVkNzM2NTg3ZDA4N2Y5ZDQ1M2Q0ZTMzNzRmODhlOWE0OTRlNQ==","size":3470,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b2e2ed736587d087f9d453d4e3374f88e9a494e5","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xOwoKaW1wb3J0IGphdmF4Lmptcy5Db25u\nZWN0aW9uOwppbXBvcnQgamF2YXguam1zLkRlc3RpbmF0aW9uOwppbXBvcnQg\namF2YXguam1zLk1lc3NhZ2U7CmltcG9ydCBqYXZheC5qbXMuTWVzc2FnZUNv\nbnN1bWVyOwppbXBvcnQgamF2YXguam1zLk1lc3NhZ2VQcm9kdWNlcjsKaW1w\nb3J0IGphdmF4Lmptcy5TZXNzaW9uOwppbXBvcnQgamF2YXguam1zLlRleHRN\nZXNzYWdlOwppbXBvcnQgamF2YXguam1zLlRvcGljOwoKaW1wb3J0IG9yZy5h\ncGFjaGUuYWN0aXZlbXEudGVzdC5KbXNUb3BpY1NlbmRSZWNlaXZlVGVzdDsK\naW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9n\nZ2VyRmFjdG9yeTsKCnB1YmxpYyBjbGFzcyBKbXNEdXJhYmxlVG9waWNTZW5k\nUmVjZWl2ZVRlc3QgZXh0ZW5kcyBKbXNUb3BpY1NlbmRSZWNlaXZlVGVzdCB7\nCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2dnZXIgTE9HID0gTG9nZ2Vy\nRmFjdG9yeS5nZXRMb2dnZXIoSm1zRHVyYWJsZVRvcGljU2VuZFJlY2VpdmVU\nZXN0LmNsYXNzKTsKCiAgICBwcm90ZWN0ZWQgQ29ubmVjdGlvbiBjb25uZWN0\naW9uMjsKICAgIHByb3RlY3RlZCBTZXNzaW9uIHNlc3Npb24yOwogICAgcHJv\ndGVjdGVkIFNlc3Npb24gY29uc3VtZVNlc3Npb24yOwogICAgcHJvdGVjdGVk\nIE1lc3NhZ2VDb25zdW1lciBjb25zdW1lcjI7CiAgICBwcm90ZWN0ZWQgTWVz\nc2FnZVByb2R1Y2VyIHByb2R1Y2VyMjsKICAgIHByb3RlY3RlZCBEZXN0aW5h\ndGlvbiBjb25zdW1lckRlc3RpbmF0aW9uMjsKICAgIHByb3RlY3RlZCBEZXN0\naW5hdGlvbiBwcm9kdWNlckRlc3RpbmF0aW9uMjsKCiAgICAvKioKICAgICAq\nIFNldCB1cCBhIGR1cmFibGUgc3VzY3JpYmVyIHRlc3QuCiAgICAgKgogICAg\nICogQHNlZSBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2Ujc2V0VXAoKQogICAg\nICovCiAgICBwcm90ZWN0ZWQgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIHRoaXMuZHVyYWJsZSA9IHRydWU7CiAgICAgICAgc3Vw\nZXIuc2V0VXAoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3QgaWYgYWxs\nIHRoZSBtZXNzYWdlcyBzZW50IGFyZSBiZWluZyByZWNlaXZlZC4KICAgICAq\nCiAgICAgKiBAdGhyb3dzIEV4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0U2VuZFdoaWxlQ2xvc2VkKCkgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgY29ubmVjdGlvbjIgPSBjcmVhdGVDb25uZWN0aW9uKGZhbHNl\nKTsKICAgICAgICBpZiAobnVsbCA9PSBjb25uZWN0aW9uLmdldENsaWVudElE\nKCkpIGNvbm5lY3Rpb24yLnNldENsaWVudElEKGdldE5hbWUoKSArICJ0ZXN0\nIik7CiAgICAgICAgY29ubmVjdGlvbjIuc3RhcnQoKTsKICAgICAgICBzZXNz\naW9uMiA9IGNvbm5lY3Rpb24yLmNyZWF0ZVNlc3Npb24oZmFsc2UsIFNlc3Np\nb24uQVVUT19BQ0tOT1dMRURHRSk7CiAgICAgICAgcHJvZHVjZXIyID0gc2Vz\nc2lvbjIuY3JlYXRlUHJvZHVjZXIobnVsbCk7CiAgICAgICAgcHJvZHVjZXIy\nLnNldERlbGl2ZXJ5TW9kZShkZWxpdmVyeU1vZGUpOwogICAgICAgIHByb2R1\nY2VyRGVzdGluYXRpb24yID0gc2Vzc2lvbjIuY3JlYXRlVG9waWMoZ2V0UHJv\nZHVjZXJTdWJqZWN0KCkgKyAiMiIpOwogICAgICAgIFRocmVhZC5zbGVlcCgx\nMDAwKTsKCiAgICAgICAgY29uc3VtZVNlc3Npb24yID0gY29ubmVjdGlvbjIu\nY3JlYXRlU2Vzc2lvbihmYWxzZSwgU2Vzc2lvbi5BVVRPX0FDS05PV0xFREdF\nKTsKICAgICAgICBjb25zdW1lckRlc3RpbmF0aW9uMiA9IHNlc3Npb24yLmNy\nZWF0ZVRvcGljKGdldENvbnN1bWVyU3ViamVjdCgpICsgIjIiKTsKICAgICAg\nICBjb25zdW1lcjIgPSBjb25zdW1lU2Vzc2lvbjIuY3JlYXRlRHVyYWJsZVN1\nYnNjcmliZXIoKFRvcGljKWNvbnN1bWVyRGVzdGluYXRpb24yLCBnZXROYW1l\nKCkpOwogICAgICAgIFRocmVhZC5zbGVlcCgxMDAwKTsKICAgICAgICBjb25z\ndW1lcjIuY2xvc2UoKTsKICAgICAgICBUZXh0TWVzc2FnZSBtZXNzYWdlID0g\nc2Vzc2lvbjIuY3JlYXRlVGV4dE1lc3NhZ2UoInRlc3QiKTsKICAgICAgICBt\nZXNzYWdlLnNldFN0cmluZ1Byb3BlcnR5KCJ0ZXN0IiwgInRlc3QiKTsKICAg\nICAgICBtZXNzYWdlLnNldEpNU1R5cGUoInRlc3QiKTsKICAgICAgICBwcm9k\ndWNlcjIuc2VuZChwcm9kdWNlckRlc3RpbmF0aW9uMiwgbWVzc2FnZSk7CiAg\nICAgICAgTE9HLmluZm8oIkNyZWF0aW5nIGR1cmFibGUgY29uc3VtZXIiKTsK\nICAgICAgICBjb25zdW1lcjIgPSBjb25zdW1lU2Vzc2lvbjIuY3JlYXRlRHVy\nYWJsZVN1YnNjcmliZXIoKFRvcGljKWNvbnN1bWVyRGVzdGluYXRpb24yLCBn\nZXROYW1lKCkpOwogICAgICAgIE1lc3NhZ2UgbXNnID0gY29uc3VtZXIyLnJl\nY2VpdmUoMTAwMCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChtc2cpOwogICAg\nICAgIGFzc2VydEVxdWFscygoKFRleHRNZXNzYWdlKW1zZykuZ2V0VGV4dCgp\nLCAidGVzdCIpOwogICAgICAgIGFzc2VydEVxdWFscyhtc2cuZ2V0Sk1TVHlw\nZSgpLCAidGVzdCIpOwogICAgICAgIGFzc2VydEVxdWFscyhtc2cuZ2V0U3Ry\naW5nUHJvcGVydHkoInRlc3QiKSwgInRlc3QiKTsKICAgICAgICBjb25uZWN0\naW9uMi5zdG9wKCk7CiAgICAgICAgY29ubmVjdGlvbjIuY2xvc2UoKTsKICAg\nIH0KfQo=\n","encoding":"base64"}

