{"sha":"36f4bebede7af8afa02d6bd3b1cbaebfe5fd4f85","node_id":"MDQ6QmxvYjE1NzU5NTY6MzZmNGJlYmVkZTdhZjhhZmEwMmQ2YmQzYjFjYmFlYmZlNWZkNGY4NQ==","size":4330,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/36f4bebede7af8afa02d6bd3b1cbaebfe5fd4f85","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xOwoKaW1wb3J0IGphdmF4Lmptcy5Ub3Bp\nYzsKaW1wb3J0IGphdmF4Lmptcy5Db25uZWN0aW9uOwppbXBvcnQgb3JnLmFw\nYWNoZS5oZWR3aWcuam1zLnNwaS5IZWR3aWdDb25uZWN0aW9uRmFjdG9yeUlt\ncGw7CmltcG9ydCBqYXZheC5qbXMuRGVsaXZlcnlNb2RlOwppbXBvcnQgamF2\nYXguam1zLkRlc3RpbmF0aW9uOwppbXBvcnQgamF2YXguam1zLkpNU0V4Y2Vw\ndGlvbjsKaW1wb3J0IGphdmF4Lmptcy5NZXNzYWdlQ29uc3VtZXI7CmltcG9y\ndCBqYXZheC5qbXMuU2Vzc2lvbjsKCi8qKgogKiBAdmVyc2lvbgogKi8KcHVi\nbGljIGNsYXNzIEptc1RvcGljU2VuZFJlY2VpdmVXaXRoVHdvQ29ubmVjdGlv\nbnNUZXN0IGV4dGVuZHMgSm1zU2VuZFJlY2VpdmVUZXN0U3VwcG9ydCB7Cgog\nICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgb3JnLmFwYWNoZS5jb21tb25zLmxv\nZ2dpbmcuTG9nIExPRyA9IG9yZy5hcGFjaGUuY29tbW9ucy5sb2dnaW5nLkxv\nZ0ZhY3RvcnkKICAgICAgICAuZ2V0TG9nKEptc1RvcGljU2VuZFJlY2VpdmVX\naXRoVHdvQ29ubmVjdGlvbnNUZXN0LmNsYXNzKTsKCiAgICBwcm90ZWN0ZWQg\nQ29ubmVjdGlvbiBzZW5kQ29ubmVjdGlvbjsKICAgIHByb3RlY3RlZCBDb25u\nZWN0aW9uIHJlY2VpdmVDb25uZWN0aW9uOwogICAgcHJvdGVjdGVkIFNlc3Np\nb24gcmVjZWl2ZVNlc3Npb247CgogICAgcHJvdGVjdGVkIHZvaWQgc2V0VXAo\nKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBzdXBlci5zZXRVcCgpOwoK\nICAgICAgICBjb25uZWN0aW9uRmFjdG9yeSA9IGNyZWF0ZUNvbm5lY3Rpb25G\nYWN0b3J5KCk7CgogICAgICAgIHNlbmRDb25uZWN0aW9uID0gY3JlYXRlU2Vu\nZENvbm5lY3Rpb24oKTsKICAgICAgICBzZW5kQ29ubmVjdGlvbi5zdGFydCgp\nOwoKICAgICAgICByZWNlaXZlQ29ubmVjdGlvbiA9IGNyZWF0ZVJlY2VpdmVD\nb25uZWN0aW9uKCk7CiAgICAgICAgcmVjZWl2ZUNvbm5lY3Rpb24uc3RhcnQo\nKTsKCiAgICAgICAgTE9HLmluZm8oIkNyZWF0ZWQgc2VuZENvbm5lY3Rpb246\nICIgKyBzZW5kQ29ubmVjdGlvbik7CiAgICAgICAgTE9HLmluZm8oIkNyZWF0\nZWQgcmVjZWl2ZUNvbm5lY3Rpb246ICIgKyByZWNlaXZlQ29ubmVjdGlvbik7\nCgogICAgICAgIHNlc3Npb24gPSBjcmVhdGVTZW5kU2Vzc2lvbihzZW5kQ29u\nbmVjdGlvbik7CiAgICAgICAgcmVjZWl2ZVNlc3Npb24gPSBjcmVhdGVSZWNl\naXZlU2Vzc2lvbihyZWNlaXZlQ29ubmVjdGlvbik7CgogICAgICAgIExPRy5p\nbmZvKCJDcmVhdGVkIHNlbmRTZXNzaW9uOiAiICsgc2Vzc2lvbik7CiAgICAg\nICAgTE9HLmluZm8oIkNyZWF0ZWQgcmVjZWl2ZVNlc3Npb246ICIgKyByZWNl\naXZlU2Vzc2lvbik7CgogICAgICAgIHByb2R1Y2VyID0gc2Vzc2lvbi5jcmVh\ndGVQcm9kdWNlcihudWxsKTsKICAgICAgICBwcm9kdWNlci5zZXREZWxpdmVy\neU1vZGUoZGVsaXZlcnlNb2RlKTsKCiAgICAgICAgTE9HLmluZm8oIkNyZWF0\nZWQgcHJvZHVjZXI6ICIgKyBwcm9kdWNlciArICIgZGVsaXZlcnkgbW9kZSA9\nICIKICAgICAgICAgICAgICAgICArIChkZWxpdmVyeU1vZGUgPT0gRGVsaXZl\ncnlNb2RlLlBFUlNJU1RFTlQgPyAiUEVSU0lTVEVOVCIgOiAiTk9OX1BFUlNJ\nU1RFTlQiKSk7CgogICAgICAgIGlmICh0b3BpYykgewogICAgICAgICAgICBj\nb25zdW1lckRlc3RpbmF0aW9uID0gc2Vzc2lvbi5jcmVhdGVUb3BpYyhnZXRD\nb25zdW1lclN1YmplY3QoKSk7CiAgICAgICAgICAgIHByb2R1Y2VyRGVzdGlu\nYXRpb24gPSBzZXNzaW9uLmNyZWF0ZVRvcGljKGdldFByb2R1Y2VyU3ViamVj\ndCgpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdW1lckRl\nc3RpbmF0aW9uID0gc2Vzc2lvbi5jcmVhdGVUb3BpYyhnZXRDb25zdW1lclN1\nYmplY3QoKSk7CiAgICAgICAgICAgIHByb2R1Y2VyRGVzdGluYXRpb24gPSBz\nZXNzaW9uLmNyZWF0ZVRvcGljKGdldFByb2R1Y2VyU3ViamVjdCgpKTsKICAg\nICAgICB9CgogICAgICAgIExPRy5pbmZvKCJDcmVhdGVkICBjb25zdW1lciBk\nZXN0aW5hdGlvbjogIiArIGNvbnN1bWVyRGVzdGluYXRpb24gKyAiIG9mIHR5\ncGU6ICIKICAgICAgICAgICAgICAgICArIGNvbnN1bWVyRGVzdGluYXRpb24u\nZ2V0Q2xhc3MoKSk7CiAgICAgICAgTE9HLmluZm8oIkNyZWF0ZWQgIHByb2R1\nY2VyIGRlc3RpbmF0aW9uOiAiICsgcHJvZHVjZXJEZXN0aW5hdGlvbiArICIg\nb2YgdHlwZTogIgogICAgICAgICAgICAgICAgICsgcHJvZHVjZXJEZXN0aW5h\ndGlvbi5nZXRDbGFzcygpKTsKCiAgICAgICAgY29uc3VtZXIgPSBjcmVhdGVD\nb25zdW1lcihyZWNlaXZlU2Vzc2lvbiwgY29uc3VtZXJEZXN0aW5hdGlvbik7\nCiAgICAgICAgY29uc3VtZXIuc2V0TWVzc2FnZUxpc3RlbmVyKHRoaXMpOwoK\nICAgICAgICBMT0cuaW5mbygiU3RhcnRlZCBjb25uZWN0aW9ucyIpOwogICAg\nfQoKICAgIHByb3RlY3RlZCBTZXNzaW9uIGNyZWF0ZVJlY2VpdmVTZXNzaW9u\nKENvbm5lY3Rpb24gcmVjZWl2ZUNvbm5lY3Rpb24pIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiByZWNlaXZlQ29ubmVjdGlvbi5jcmVhdGVT\nZXNzaW9uKGZhbHNlLCBTZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOwogICAg\nfQoKICAgIHByb3RlY3RlZCBTZXNzaW9uIGNyZWF0ZVNlbmRTZXNzaW9uKENv\nbm5lY3Rpb24gc2VuZENvbm5lY3Rpb24pIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBzZW5kQ29ubmVjdGlvbi5jcmVhdGVTZXNzaW9uKGZh\nbHNlLCBTZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOwogICAgfQoKICAgIHBy\nb3RlY3RlZCBDb25uZWN0aW9uIGNyZWF0ZVJlY2VpdmVDb25uZWN0aW9uKCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbm5l\nY3Rpb24oZmFsc2UpOwogICAgfQoKICAgIHByb3RlY3RlZCBDb25uZWN0aW9u\nIGNyZWF0ZVNlbmRDb25uZWN0aW9uKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIGNyZWF0ZUNvbm5lY3Rpb24oZmFsc2UpOwogICAgfQoK\nICAgIHByb3RlY3RlZCBNZXNzYWdlQ29uc3VtZXIgY3JlYXRlQ29uc3VtZXIo\nU2Vzc2lvbiBzZXNzaW9uLCBEZXN0aW5hdGlvbiBkZXN0KSB0aHJvd3MgSk1T\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gc2Vzc2lvbi5jcmVhdGVDb25z\ndW1lcihkZXN0KTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgSGVkd2lnQ29ubmVj\ndGlvbkZhY3RvcnlJbXBsIGNyZWF0ZUNvbm5lY3Rpb25GYWN0b3J5KCkgdGhy\nb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBIZWR3aWdDb25u\nZWN0aW9uRmFjdG9yeUltcGwoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9p\nZCB0ZWFyRG93bigpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHNlc3Np\nb24uY2xvc2UoKTsKICAgICAgICByZWNlaXZlU2Vzc2lvbi5jbG9zZSgpOwog\nICAgICAgIHNlbmRDb25uZWN0aW9uLmNsb3NlKCk7CiAgICAgICAgcmVjZWl2\nZUNvbm5lY3Rpb24uY2xvc2UoKTsKICAgICAgICBzdXBlci50ZWFyRG93bigp\nOwogICAgfQp9Cg==\n","encoding":"base64"}

