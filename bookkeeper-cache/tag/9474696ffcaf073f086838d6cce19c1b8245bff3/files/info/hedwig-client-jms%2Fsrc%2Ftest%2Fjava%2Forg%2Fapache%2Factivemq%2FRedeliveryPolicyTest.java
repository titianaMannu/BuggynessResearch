{"sha":"002fea04116088f13df2060b81bfbd63d83f7921","node_id":"MDQ6QmxvYjE1NzU5NTY6MDAyZmVhMDQxMTYwODhmMTNkZjIwNjBiODFiZmJkNjNkODNmNzkyMQ==","size":4518,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/002fea04116088f13df2060b81bfbd63d83f7921","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xOwoKaW1wb3J0IGphdmF4Lmptcy5Ub3Bp\nYzsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmptcy5TZXNzaW9uSW1wbDsK\naW1wb3J0IGphdmF4Lmptcy5NZXNzYWdlQ29uc3VtZXI7CmltcG9ydCBqYXZh\neC5qbXMuTWVzc2FnZVByb2R1Y2VyOwppbXBvcnQgamF2YXguam1zLlNlc3Np\nb247CmltcG9ydCBqYXZheC5qbXMuVGV4dE1lc3NhZ2U7CgppbXBvcnQganVu\naXQuZnJhbWV3b3JrLlRlc3Q7CgoKCi8qKgogKiBUZXN0IGNhc2VzIHVzZWQg\ndG8gdGVzdCB0aGUgSk1TIG1lc3NhZ2UgZXhjbHVzaXZlIGNvbnN1bWVycy4K\nICoKICoKICovCnB1YmxpYyBjbGFzcyBSZWRlbGl2ZXJ5UG9saWN5VGVzdCBl\neHRlbmRzIEptc1Rlc3RTdXBwb3J0IHsKCiAgICBwdWJsaWMgc3RhdGljIFRl\nc3Qgc3VpdGUoKSB7CiAgICAgICAgcmV0dXJuIHN1aXRlKFJlZGVsaXZlcnlQ\nb2xpY3lUZXN0LmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZv\naWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAganVuaXQudGV4dHVp\nLlRlc3RSdW5uZXIucnVuKHN1aXRlKCkpOwogICAgfQoKICAgIC8qKgogICAg\nICogQHRocm93cyBFeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHZvaWQg\ndGVzdEV4cG9uZW50aWFsUmVkZWxpdmVyeVBvbGljeURlbGF5c0RlbGl2ZXJ5\nT25Sb2xsYmFjaygpIHRocm93cyBFeGNlcHRpb24gewoKICAgICAgICBjb25u\nZWN0aW9uLnN0YXJ0KCk7CiAgICAgICAgU2Vzc2lvbiBzZXNzaW9uID0gY29u\nbmVjdGlvbi5jcmVhdGVTZXNzaW9uKHRydWUsIFNlc3Npb24uQVVUT19BQ0tO\nT1dMRURHRSk7CiAgICAgICAgVG9waWMgZGVzdGluYXRpb24gPSBTZXNzaW9u\nSW1wbC5hc1RvcGljKGdldE5hbWUoKSk7CiAgICAgICAgTWVzc2FnZVByb2R1\nY2VyIHByb2R1Y2VyID0gc2Vzc2lvbi5jcmVhdGVQcm9kdWNlcihkZXN0aW5h\ndGlvbik7CgogICAgICAgIE1lc3NhZ2VDb25zdW1lciBjb25zdW1lciA9IHNl\nc3Npb24uY3JlYXRlQ29uc3VtZXIoZGVzdGluYXRpb24pOwoKICAgICAgICAv\nLyBTZW5kIHRoZSBtZXNzYWdlcwogICAgICAgIHByb2R1Y2VyLnNlbmQoc2Vz\nc2lvbi5jcmVhdGVUZXh0TWVzc2FnZSgiMXN0IikpOwogICAgICAgIHByb2R1\nY2VyLnNlbmQoc2Vzc2lvbi5jcmVhdGVUZXh0TWVzc2FnZSgiMm5kIikpOwog\nICAgICAgIHNlc3Npb24uY29tbWl0KCk7CgogICAgICAgIFRleHRNZXNzYWdl\nIG07CiAgICAgICAgbSA9IChUZXh0TWVzc2FnZSljb25zdW1lci5yZWNlaXZl\nKDEwMDApOwogICAgICAgIGFzc2VydE5vdE51bGwobSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCIxc3QiLCBtLmdldFRleHQoKSk7CiAgICAgICAgc2Vzc2lv\nbi5yb2xsYmFjaygpOwoKICAgICAgICAvLyBObyBkZWxheSBvbiBmaXJzdCBy\nb2xsYmFjay4uCiAgICAgICAgbSA9IChUZXh0TWVzc2FnZSljb25zdW1lci5y\nZWNlaXZlKDEwMCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChtKTsKICAgICAg\nICBzZXNzaW9uLnJvbGxiYWNrKCk7CgogICAgICAgIG0gPSAoVGV4dE1lc3Nh\nZ2UpY29uc3VtZXIucmVjZWl2ZSg3MDApOwogICAgICAgIGFzc2VydE5vdE51\nbGwobSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCIxc3QiLCBtLmdldFRleHQo\nKSk7CiAgICAgICAgc2Vzc2lvbi5yb2xsYmFjaygpOwoKICAgICAgICAvLyBT\naG93IHJlLWRlbGl2ZXJ5IGRlbGF5IGlzIGluY3JlbWVudGluZyBleHBvbmVu\ndGlhbGx5CiAgICAgICAgbSA9IChUZXh0TWVzc2FnZSljb25zdW1lci5yZWNl\naXZlKDEwMCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChtKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoIjFzdCIsIG0uZ2V0VGV4dCgpKTsKCiAgICAgICAgbSA9\nIChUZXh0TWVzc2FnZSljb25zdW1lci5yZWNlaXZlKDEwMCk7CiAgICAgICAg\nYXNzZXJ0Tm90TnVsbChtKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIjJuZCIs\nIG0uZ2V0VGV4dCgpKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBAdGhyb3dz\nIEV4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW5maW5p\ndGVNYXhpbXVtTnVtYmVyT2ZSZWRlbGl2ZXJpZXMoKSB0aHJvd3MgRXhjZXB0\naW9uIHsKCiAgICAgICAgY29ubmVjdGlvbi5zdGFydCgpOwogICAgICAgIFNl\nc3Npb24gc2Vzc2lvbiA9IGNvbm5lY3Rpb24uY3JlYXRlU2Vzc2lvbih0cnVl\nLCBTZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOwogICAgICAgIFRvcGljIGRl\nc3RpbmF0aW9uID0gU2Vzc2lvbkltcGwuYXNUb3BpYygiVEVTVCIpOwogICAg\nICAgIE1lc3NhZ2VQcm9kdWNlciBwcm9kdWNlciA9IHNlc3Npb24uY3JlYXRl\nUHJvZHVjZXIoZGVzdGluYXRpb24pOwoKICAgICAgICBNZXNzYWdlQ29uc3Vt\nZXIgY29uc3VtZXIgPSBzZXNzaW9uLmNyZWF0ZUNvbnN1bWVyKGRlc3RpbmF0\naW9uKTsKCiAgICAgICAgLy8gU2VuZCB0aGUgbWVzc2FnZXMKICAgICAgICBw\ncm9kdWNlci5zZW5kKHNlc3Npb24uY3JlYXRlVGV4dE1lc3NhZ2UoIjFzdCIp\nKTsKICAgICAgICBwcm9kdWNlci5zZW5kKHNlc3Npb24uY3JlYXRlVGV4dE1l\nc3NhZ2UoIjJuZCIpKTsKICAgICAgICBzZXNzaW9uLmNvbW1pdCgpOwoKICAg\nICAgICBUZXh0TWVzc2FnZSBtOwoKICAgICAgICBtID0gKFRleHRNZXNzYWdl\nKWNvbnN1bWVyLnJlY2VpdmUoMTAwMCk7CiAgICAgICAgYXNzZXJ0Tm90TnVs\nbChtKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIjFzdCIsIG0uZ2V0VGV4dCgp\nKTsKICAgICAgICBzZXNzaW9uLnJvbGxiYWNrKCk7CgogICAgICAgIC8vd2Ug\nc2hvdWxkIGJlIGFibGUgdG8gZ2V0IHRoZSAxc3QgbWVzc2FnZSByZWRlbGl2\nZXJlZCB1bnRpbCBhIHNlc3Npb24uY29tbWl0IGlzIGNhbGxlZAogICAgICAg\nIG0gPSAoVGV4dE1lc3NhZ2UpY29uc3VtZXIucmVjZWl2ZSgxMDAwKTsKICAg\nICAgICBhc3NlcnROb3ROdWxsKG0pOwogICAgICAgIGFzc2VydEVxdWFscygi\nMXN0IiwgbS5nZXRUZXh0KCkpOwogICAgICAgIHNlc3Npb24ucm9sbGJhY2so\nKTsKCiAgICAgICAgbSA9IChUZXh0TWVzc2FnZSljb25zdW1lci5yZWNlaXZl\nKDEwMDApOwogICAgICAgIGFzc2VydE5vdE51bGwobSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCIxc3QiLCBtLmdldFRleHQoKSk7CiAgICAgICAgc2Vzc2lv\nbi5yb2xsYmFjaygpOwoKICAgICAgICBtID0gKFRleHRNZXNzYWdlKWNvbnN1\nbWVyLnJlY2VpdmUoMTAwMCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChtKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoIjFzdCIsIG0uZ2V0VGV4dCgpKTsKICAg\nICAgICBzZXNzaW9uLnJvbGxiYWNrKCk7CgogICAgICAgIG0gPSAoVGV4dE1l\nc3NhZ2UpY29uc3VtZXIucmVjZWl2ZSgxMDAwKTsKICAgICAgICBhc3NlcnRO\nb3ROdWxsKG0pOwogICAgICAgIGFzc2VydEVxdWFscygiMXN0IiwgbS5nZXRU\nZXh0KCkpOwogICAgICAgIHNlc3Npb24ucm9sbGJhY2soKTsKCiAgICAgICAg\nbSA9IChUZXh0TWVzc2FnZSljb25zdW1lci5yZWNlaXZlKDEwMDApOwogICAg\nICAgIGFzc2VydE5vdE51bGwobSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCIx\nc3QiLCBtLmdldFRleHQoKSk7CiAgICAgICAgc2Vzc2lvbi5jb21taXQoKTsK\nCiAgICAgICAgbSA9IChUZXh0TWVzc2FnZSljb25zdW1lci5yZWNlaXZlKDEw\nMDApOwogICAgICAgIGFzc2VydE5vdE51bGwobSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCIybmQiLCBtLmdldFRleHQoKSk7CiAgICAgICAgc2Vzc2lvbi5j\nb21taXQoKTsKCiAgICB9Cn0K\n","encoding":"base64"}

