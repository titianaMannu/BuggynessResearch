{"sha":"4b12ccca1f3252d60241601fe39c3946e23e2847","node_id":"MDQ6QmxvYjE1NzU5NTY6NGIxMmNjY2ExZjMyNTJkNjAyNDE2MDFmZTM5YzM5NDZlMjNlMjg0Nw==","size":3676,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/4b12ccca1f3252d60241601fe39c3946e23e2847","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xOwoKaW1wb3J0IGphdmF4Lmptcy5Ub3Bp\nYzsKaW1wb3J0IGphdmF4Lmptcy5Db25uZWN0aW9uOwoKaW1wb3J0IG9yZy5h\ncGFjaGUuaGVkd2lnLkptc1Rlc3RCYXNlOwppbXBvcnQgb3JnLmFwYWNoZS5o\nZWR3aWcuam1zLnNwaS5IZWR3aWdDb25uZWN0aW9uRmFjdG9yeUltcGw7Cmlt\ncG9ydCBqYXZheC5qbXMuRGVsaXZlcnlNb2RlOwppbXBvcnQgamF2YXguam1z\nLkRlc3RpbmF0aW9uOwppbXBvcnQgamF2YXguam1zLk1lc3NhZ2U7CmltcG9y\ndCBqYXZheC5qbXMuTWVzc2FnZUNvbnN1bWVyOwppbXBvcnQgamF2YXguam1z\nLk1lc3NhZ2VQcm9kdWNlcjsKaW1wb3J0IGphdmF4Lmptcy5TZXNzaW9uOwoK\naW1wb3J0IGp1bml0LmZyYW1ld29yay5UZXN0Q2FzZTsKCgpwdWJsaWMgY2xh\nc3MgVGltZVN0YW1wVGVzdCBleHRlbmRzIEptc1Rlc3RCYXNlIHsKICAgIHB1\nYmxpYyB2b2lkIHRlc3QoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICAv\nLyBDcmVhdGUgYSBDb25uZWN0aW9uRmFjdG9yeQogICAgICAgIEhlZHdpZ0Nv\nbm5lY3Rpb25GYWN0b3J5SW1wbCBjb25uZWN0aW9uRmFjdG9yeSA9CiAgICAg\nICAgICAgIG5ldyBIZWR3aWdDb25uZWN0aW9uRmFjdG9yeUltcGwoKTsKCiAg\nICAgICAgLy8gQ3JlYXRlIGEgQ29ubmVjdGlvbgogICAgICAgIENvbm5lY3Rp\nb24gY29ubmVjdGlvbiA9IGNvbm5lY3Rpb25GYWN0b3J5LmNyZWF0ZUNvbm5l\nY3Rpb24oKTsKICAgICAgICBjb25uZWN0aW9uLnN0YXJ0KCk7CgogICAgICAg\nIC8vIENyZWF0ZSBhIFNlc3Npb24KICAgICAgICBTZXNzaW9uIHNlc3Npb24g\nPSBjb25uZWN0aW9uLmNyZWF0ZVNlc3Npb24oZmFsc2UsIFNlc3Npb24uQVVU\nT19BQ0tOT1dMRURHRSk7CgogICAgICAgIC8vIENyZWF0ZSB0aGUgZGVzdGlu\nYXRpb24gUXVldWUKICAgICAgICBEZXN0aW5hdGlvbiBkZXN0aW5hdGlvbiA9\nIHNlc3Npb24uY3JlYXRlVG9waWMoIlRFU1QuRk9PIik7CgogICAgICAgIC8v\nIENyZWF0ZSBhIE1lc3NhZ2VQcm9kdWNlciBmcm9tIHRoZSBTZXNzaW9uIHRv\nIHRoZSBUb3BpYyBvciBRdWV1ZQogICAgICAgIE1lc3NhZ2VQcm9kdWNlciBw\ncm9kdWNlciA9IHNlc3Npb24uY3JlYXRlUHJvZHVjZXIoZGVzdGluYXRpb24p\nOwogICAgICAgIHByb2R1Y2VyLnNldERlbGl2ZXJ5TW9kZShEZWxpdmVyeU1v\nZGUuTk9OX1BFUlNJU1RFTlQpOwoKICAgICAgICAvLyBDcmVhdGUgYSBNZXNz\nYWdlQ29uc3VtZXIgZnJvbSB0aGUgU2Vzc2lvbiB0byB0aGUgVG9waWMgb3Ig\nUXVldWUKICAgICAgICBNZXNzYWdlQ29uc3VtZXIgY29uc3VtZXIgPSBzZXNz\naW9uLmNyZWF0ZUNvbnN1bWVyKGRlc3RpbmF0aW9uKTsKICAgICAgICAvLyBD\ncmVhdGUgYSBtZXNzYWdlcwogICAgICAgIE1lc3NhZ2Ugc2VudE1lc3NhZ2Ug\nPSBzZXNzaW9uLmNyZWF0ZU1lc3NhZ2UoKTsKCiAgICAgICAgLy8gVGVsbCB0\naGUgcHJvZHVjZXIgdG8gc2VuZCB0aGUgbWVzc2FnZQogICAgICAgIGxvbmcg\nYmVmb3JlU2VuZCA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAg\nICAgIHByb2R1Y2VyLnNlbmQoc2VudE1lc3NhZ2UpOwogICAgICAgIGxvbmcg\nYWZ0ZXJTZW5kID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7CgogICAg\nICAgIC8vIGFzc2VydCBtZXNzYWdlIHRpbWVzdGFtcCBpcyBpbiB3aW5kb3cK\nICAgICAgICBhc3NlcnRUcnVlKGJlZm9yZVNlbmQgPD0gc2VudE1lc3NhZ2Uu\nZ2V0Sk1TVGltZXN0YW1wKCkgJiYgc2VudE1lc3NhZ2UuZ2V0Sk1TVGltZXN0\nYW1wKCkgPD0gYWZ0ZXJTZW5kKTsKCgogICAgICAgIC8vIFdhaXQgZm9yIGEg\nbWVzc2FnZQogICAgICAgIE1lc3NhZ2UgcmVjZWl2ZWRNZXNzYWdlID0gY29u\nc3VtZXIucmVjZWl2ZSgxMDAwKTsKCiAgICAgICAgLy8gYXNzZXJ0IHdlIGdv\ndCB0aGUgc2FtZSBtZXNzYWdlIElEIHdlIHNlbnQKICAgICAgICBhc3NlcnRF\ncXVhbHMoc2VudE1lc3NhZ2UuZ2V0Sk1TTWVzc2FnZUlEKCksIHJlY2VpdmVk\nTWVzc2FnZS5nZXRKTVNNZXNzYWdlSUQoKSk7CgogICAgICAgIC8vIGFzc2Vy\ndCBtZXNzYWdlIHRpbWVzdGFtcCBpcyBpbiB3aW5kb3cKICAgICAgICBhc3Nl\ncnRUcnVlKCJKTVMgTWVzc2FnZSBUaW1lc3RhbXAgc2hvdWxkIGJlIHNldCBk\ndXJpbmcgdGhlIHNlbmQgbWV0aG9kOiBcbiIgKyAiICAgICAgICBiZWZvcmVT\nZW5kID0gIgogICAgICAgICAgICAgICAgICAgKyBiZWZvcmVTZW5kICsgIlxu\nIiArICIgICBnZXRKTVNUaW1lc3RhbXAgPSAiCiAgICAgICAgICAgICAgICAg\nICArIHJlY2VpdmVkTWVzc2FnZS5nZXRKTVNUaW1lc3RhbXAoKSArICJcbiIg\nKyAiICAgICAgICAgYWZ0ZXJTZW5kID0gIgogICAgICAgICAgICAgICAgICAg\nKyBhZnRlclNlbmQgKyAiXG4iLCBiZWZvcmVTZW5kIDw9IHJlY2VpdmVkTWVz\nc2FnZS5nZXRKTVNUaW1lc3RhbXAoKQogICAgICAgICAgICAgICAgICAgJiYg\ncmVjZWl2ZWRNZXNzYWdlLmdldEpNU1RpbWVzdGFtcCgpIDw9IGFmdGVyU2Vu\nZCk7CgogICAgICAgIC8vIGFzc2VydCBtZXNzYWdlIHRpbWVzdGFtcCBpcyB1\nbmNoYW5nZWQKICAgICAgICBhc3NlcnRFcXVhbHMoIkpNUyBNZXNzYWdlIFRp\nbWVzdGFtcCBvZiByZWNpZXZlZCBtZXNzYWdlIHNob3VsZCBiZSB0aGUgc2Ft\nZSBhcyB0aGUgc2VudCBtZXNzYWdlXG4gICAgICAgICIsCiAgICAgICAgICAg\nICAgICAgICAgIHNlbnRNZXNzYWdlLmdldEpNU1RpbWVzdGFtcCgpLCByZWNl\naXZlZE1lc3NhZ2UuZ2V0Sk1TVGltZXN0YW1wKCkpOwoKICAgICAgICAvLyBD\nbGVhbiB1cAogICAgICAgIHByb2R1Y2VyLmNsb3NlKCk7CiAgICAgICAgY29u\nc3VtZXIuY2xvc2UoKTsKICAgICAgICBzZXNzaW9uLmNsb3NlKCk7CiAgICAg\nICAgY29ubmVjdGlvbi5jbG9zZSgpOwogICAgfQp9Cg==\n","encoding":"base64"}

