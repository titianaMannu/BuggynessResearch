{"sha":"f05e4820e15033e9f71b183396b2f8ecd1b0fe1b","node_id":"MDQ6QmxvYjE1NzU5NTY6ZjA1ZTQ4MjBlMTUwMzNlOWY3MWIxODMzOTZiMmY4ZWNkMWIwZmUxYg==","size":3026,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/f05e4820e15033e9f71b183396b2f8ecd1b0fe1b","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xLnBlcmY7CgovKioKICogQSBOdW1iZXJP\nZkRlc3RpbmF0aW9uc1Rlc3QKICoKICovCmltcG9ydCBqYXZheC5qbXMuVG9w\naWM7CmltcG9ydCBqYXZhLmlvLkZpbGU7CmltcG9ydCBqYXZheC5qbXMuQ29u\nbmVjdGlvbjsKaW1wb3J0IGphdmF4Lmptcy5Db25uZWN0aW9uRmFjdG9yeTsK\naW1wb3J0IGphdmF4Lmptcy5EZXN0aW5hdGlvbjsKaW1wb3J0IGphdmF4Lmpt\ncy5KTVNFeGNlcHRpb247CmltcG9ydCBqYXZheC5qbXMuTWVzc2FnZTsKaW1w\nb3J0IGphdmF4Lmptcy5NZXNzYWdlUHJvZHVjZXI7CmltcG9ydCBqYXZheC5q\nbXMuU2Vzc2lvbjsKaW1wb3J0IGp1bml0LmZyYW1ld29yay5UZXN0Q2FzZTsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLkptc1Rlc3RCYXNlOwppbXBvcnQg\nb3JnLmFwYWNoZS5oZWR3aWcuam1zLnNwaS5IZWR3aWdDb25uZWN0aW9uRmFj\ndG9yeUltcGw7CgoKaW1wb3J0IG9yZy5qdW5pdC5JZ25vcmU7CmltcG9ydCBv\ncmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rv\ncnk7CgovLyBGb3Igbm93LCBpZ25vcmUgaXQgLi4uCkBJZ25vcmUKcHVibGlj\nIGNsYXNzIE51bWJlck9mRGVzdGluYXRpb25zVGVzdCBleHRlbmRzIEptc1Rl\nc3RCYXNlIHsKICAgIHByb3RlY3RlZCBzdGF0aWMgZmluYWwgaW50IE1FU1NB\nR0VfQ09VTlQgPSAxOwogICAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbCBpbnQg\nTlVNQkVSX09GX0RFU1RJTkFUSU9OUyA9IDEwMDAwMDsKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5LmdldExv\nZ2dlcihOdW1iZXJPZkRlc3RpbmF0aW9uc1Rlc3QuY2xhc3MpOwogICAgcHJv\ndGVjdGVkIGludCBkZXN0aW5hdGlvbkNvdW50OwoKICAgIHB1YmxpYyB2b2lk\nIHRlc3REZXN0aW5hdGlvbnMoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAg\nICBDb25uZWN0aW9uRmFjdG9yeSBmYWN0b3J5ID0gY3JlYXRlQ29ubmVjdGlv\nbkZhY3RvcnkoKTsKICAgICAgICBDb25uZWN0aW9uIGNvbm5lY3Rpb24gPSBm\nYWN0b3J5LmNyZWF0ZUNvbm5lY3Rpb24oKTsKICAgICAgICBTZXNzaW9uIHNl\nc3Npb24gPSBjb25uZWN0aW9uLmNyZWF0ZVNlc3Npb24oZmFsc2UsIFNlc3Np\nb24uQVVUT19BQ0tOT1dMRURHRSk7CiAgICAgICAgTWVzc2FnZVByb2R1Y2Vy\nIG1wID0gc2Vzc2lvbi5jcmVhdGVQcm9kdWNlcihudWxsKTsKICAgICAgICBm\nb3IgKGludCBqID0gMDsgaiA8IE5VTUJFUl9PRl9ERVNUSU5BVElPTlM7IGor\nKykgewogICAgICAgICAgICBEZXN0aW5hdGlvbiBkZXN0ID0gZ2V0RGVzdGlu\nYXRpb24oc2Vzc2lvbik7CgogICAgICAgICAgICBmb3IgKGludCBpID0gMDsg\naSA8IE1FU1NBR0VfQ09VTlQ7IGkrKykgewogICAgICAgICAgICAgICAgTWVz\nc2FnZSBtc2cgPSBzZXNzaW9uLmNyZWF0ZVRleHRNZXNzYWdlKCJ0ZXN0IiAr\nIGkpOwogICAgICAgICAgICAgICAgbXAuc2VuZChkZXN0LCBtc2cpOwogICAg\nICAgICAgICB9CiAgICAgICAgICAgIGlmIChqICUgNTAwID09IDApIHsKICAg\nICAgICAgICAgICAgIExPRy5pbmZvKCJJdGVyYXRvciAiICsgaik7CiAgICAg\nICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgp\nOwogICAgfQoKICAgIHByb3RlY3RlZCBEZXN0aW5hdGlvbiBnZXREZXN0aW5h\ndGlvbihTZXNzaW9uIHNlc3Npb24pIHRocm93cyBKTVNFeGNlcHRpb24gewog\nICAgICAgIFN0cmluZyB0b3BpY05hbWUgPSBnZXRDbGFzcygpLmdldE5hbWUo\nKSArICIuIiArIGRlc3RpbmF0aW9uQ291bnQrKzsKICAgICAgICByZXR1cm4g\nc2Vzc2lvbi5jcmVhdGVUb3BpYyh0b3BpY05hbWUpOwogICAgfQoKICAgIEBP\ndmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgc2V0VXAoKSB0aHJvd3MgRXhj\nZXB0aW9uIHsKICAgICAgICBzdXBlci5zZXRVcCgpOwogICAgfQoKICAgIEBP\ndmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgdGVhckRvd24oKSB0aHJvd3Mg\nRXhjZXB0aW9uIHsKICAgICAgICBzdXBlci50ZWFyRG93bigpOwogICAgfQoK\nICAgIHByb3RlY3RlZCBIZWR3aWdDb25uZWN0aW9uRmFjdG9yeUltcGwgY3Jl\nYXRlQ29ubmVjdGlvbkZhY3RvcnkoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBIZWR3aWdDb25uZWN0aW9uRmFjdG9yeUltcGwgY2YgPSBuZXcgSGVk\nd2lnQ29ubmVjdGlvbkZhY3RvcnlJbXBsKCk7CiAgICAgICAgcmV0dXJuIGNm\nOwogICAgfQoKfQo=\n","encoding":"base64"}

