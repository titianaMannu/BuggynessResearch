{"sha":"a65b2c0bb70c36a39b39b4c3fb589bd6fc90a452","node_id":"MDQ6QmxvYjE1NzU5NTY6YTY1YjJjMGJiNzBjMzZhMzliMzliNGMzZmI1ODliZDZmYzkwYTQ1Mg==","size":3883,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/a65b2c0bb70c36a39b39b4c3fb589bd6fc90a452","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xLnBlcmY7CgppbXBvcnQgamF2YS51dGls\nLmNvbmN1cnJlbnQuQ291bnREb3duTGF0Y2g7CmltcG9ydCBqYXZhLnV0aWwu\nY29uY3VycmVudC5UaW1lVW5pdDsKaW1wb3J0IGphdmF4Lmptcy5CeXRlc01l\nc3NhZ2U7CmltcG9ydCBqYXZheC5qbXMuQ29ubmVjdGlvbjsKaW1wb3J0IGph\ndmF4Lmptcy5Db25uZWN0aW9uRmFjdG9yeTsKaW1wb3J0IGphdmF4Lmptcy5E\nZXN0aW5hdGlvbjsKaW1wb3J0IGphdmF4Lmptcy5KTVNFeGNlcHRpb247Cmlt\ncG9ydCBqYXZheC5qbXMuTWVzc2FnZVByb2R1Y2VyOwppbXBvcnQgamF2YXgu\nam1zLlNlc3Npb247CgpwdWJsaWMgY2xhc3MgUGVyZlByb2R1Y2VyIGltcGxl\nbWVudHMgUnVubmFibGUgewogICAgcHJvdGVjdGVkIENvbm5lY3Rpb24gY29u\nbmVjdGlvbjsKICAgIHByb3RlY3RlZCBNZXNzYWdlUHJvZHVjZXIgcHJvZHVj\nZXI7CiAgICBwcm90ZWN0ZWQgUGVyZlJhdGUgcmF0ZSA9IG5ldyBQZXJmUmF0\nZSgpOwogICAgcHJpdmF0ZSBmaW5hbCBieXRlW10gcGF5bG9hZDsKICAgIHBy\naXZhdGUgU2Vzc2lvbiBzZXNzaW9uOwogICAgcHJpdmF0ZSBmaW5hbCBDb3Vu\ndERvd25MYXRjaCBzdG9wcGVkID0gbmV3IENvdW50RG93bkxhdGNoKDEpOwog\nICAgcHJpdmF0ZSBib29sZWFuIHJ1bm5pbmc7CiAgICBwcml2YXRlIGZpbmFs\nIGJvb2xlYW4gdHJhbnNhY3RlZDsKICAgIHByaXZhdGUgaW50IHNsZWVwID0g\nMDsKCiAgICBwdWJsaWMgUGVyZlByb2R1Y2VyKENvbm5lY3Rpb25GYWN0b3J5\nIGZhYywgRGVzdGluYXRpb24gZGVzdCwgYnl0ZVtdIHBheWxvYWQpIHRocm93\ncyBKTVNFeGNlcHRpb24gewogICAgICAgIHRoaXMoZmFjLCBkZXN0LCBwYXls\nb2FkLCBmYWxzZSk7CiAgICB9CiAgICBwdWJsaWMgUGVyZlByb2R1Y2VyKENv\nbm5lY3Rpb25GYWN0b3J5IGZhYywgRGVzdGluYXRpb24gZGVzdCwgYnl0ZVtd\nIHBheWxvYWQsIGJvb2xlYW4gdHJhbnNhY3RlZCkKICAgICAgICAgICAgdGhy\nb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgY29ubmVjdGlvbiA9IGZhYy5j\ncmVhdGVDb25uZWN0aW9uKCk7CiAgICAgICAgdGhpcy50cmFuc2FjdGVkID0g\ndHJhbnNhY3RlZDsKICAgICAgICBpZiAodHJhbnNhY3RlZCkgewogICAgICAg\nICAgICBzZXNzaW9uID0gY29ubmVjdGlvbi5jcmVhdGVTZXNzaW9uKHRydWUs\nIFNlc3Npb24uU0VTU0lPTl9UUkFOU0FDVEVEKTsKICAgICAgICB9IGVsc2Ug\newogICAgICAgICAgICBzZXNzaW9uID0gY29ubmVjdGlvbi5jcmVhdGVTZXNz\naW9uKGZhbHNlLCBTZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOwogICAgICAg\nIH0KICAgICAgICBwcm9kdWNlciA9IHNlc3Npb24uY3JlYXRlUHJvZHVjZXIo\nZGVzdCk7CiAgICAgICAgdGhpcy5wYXlsb2FkID0gcGF5bG9hZDsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXREZWxpdmVyeU1vZGUoaW50IG1vZGUpIHRo\ncm93cyBKTVNFeGNlcHRpb24gewogICAgICAgIHByb2R1Y2VyLnNldERlbGl2\nZXJ5TW9kZShtb2RlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUaW1l\nVG9MaXZlKGludCB0dGwpIHRocm93cyBKTVNFeGNlcHRpb24gewogICAgICAg\nIHByb2R1Y2VyLnNldFRpbWVUb0xpdmUodHRsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzaHV0RG93bigpIHRocm93cyBKTVNFeGNlcHRpb24gewogICAg\nICAgIGNvbm5lY3Rpb24uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMgUGVy\nZlJhdGUgZ2V0UmF0ZSgpIHsKICAgICAgICByZXR1cm4gcmF0ZTsKICAgIH0K\nCiAgICBwdWJsaWMgc3luY2hyb25pemVkIHZvaWQgc3RhcnQoKSB0aHJvd3Mg\nSk1TRXhjZXB0aW9uIHsKICAgICAgICBpZiAoIXJ1bm5pbmcpIHsKICAgICAg\nICAgICAgcmF0ZS5yZXNldCgpOwogICAgICAgICAgICBydW5uaW5nID0gdHJ1\nZTsKICAgICAgICAgICAgY29ubmVjdGlvbi5zdGFydCgpOwogICAgICAgICAg\nICBUaHJlYWQgdCA9IG5ldyBUaHJlYWQodGhpcyk7CiAgICAgICAgICAgIHQu\nc2V0TmFtZSgiUHJvZHVjZXIiKTsKICAgICAgICAgICAgdC5zdGFydCgpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9wKCkgdGhyb3dz\nIEpNU0V4Y2VwdGlvbiwgSW50ZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAg\nIHN5bmNocm9uaXplZCAodGhpcykgewogICAgICAgICAgICBydW5uaW5nID0g\nZmFsc2U7CiAgICAgICAgfQogICAgICAgIHN0b3BwZWQuYXdhaXQoMSwgVGlt\nZVVuaXQuU0VDT05EUyk7CiAgICAgICAgY29ubmVjdGlvbi5zdG9wKCk7CiAg\nICB9CgogICAgcHVibGljIHN5bmNocm9uaXplZCBib29sZWFuIGlzUnVubmlu\nZygpIHsKICAgICAgICByZXR1cm4gcnVubmluZzsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBydW4oKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgd2hp\nbGUgKGlzUnVubmluZygpKSB7CiAgICAgICAgICAgICAgICBCeXRlc01lc3Nh\nZ2UgbXNnOwogICAgICAgICAgICAgICAgbXNnID0gc2Vzc2lvbi5jcmVhdGVC\neXRlc01lc3NhZ2UoKTsKICAgICAgICAgICAgICAgIG1zZy53cml0ZUJ5dGVz\nKHBheWxvYWQpOwogICAgICAgICAgICAgICAgcHJvZHVjZXIuc2VuZChtc2cp\nOwogICAgICAgICAgICAgICAgaWYodGhpcy50cmFuc2FjdGVkKSB7CiAgICAg\nICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmNvbW1pdCgpOwogICAgICAg\nICAgICAgICAgfQogICAgICAgICAgICAgICAgcmF0ZS5pbmNyZW1lbnQoKTsK\nICAgICAgICAgICAgICAgIGlmIChzbGVlcCA+IDApIHsKICAgICAgICAgICAg\nICAgICAgICBUaHJlYWQuc2xlZXAoc2xlZXApOwogICAgICAgICAgICAgICAg\nfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIGUp\nIHsKICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICB9\nIGZpbmFsbHkgewogICAgICAgICAgICBzdG9wcGVkLmNvdW50RG93bigpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFNsZWVwKCkgewog\nICAgICAgIHJldHVybiBzbGVlcDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRTbGVlcChpbnQgc2xlZXApIHsKICAgICAgICB0aGlzLnNsZWVwID0gc2xl\nZXA7CiAgICB9Cgp9Cg==\n","encoding":"base64"}

