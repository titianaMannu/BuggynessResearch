{"sha":"2d4a633fa7fe7c79d1496d4ac1eb1785ff4c73a8","node_id":"MDQ6QmxvYjE1NzU5NTY6MmQ0YTYzM2ZhN2ZlN2M3OWQxNDk2ZDRhYzFlYjE3ODVmZjRjNzNhOA==","size":4464,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/2d4a633fa7fe7c79d1496d4ac1eb1785ff4c73a8","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xLnRlc3Q7CgppbXBvcnQgamF2YXguam1z\nLkNvbm5lY3Rpb247CmltcG9ydCBqYXZheC5qbXMuRGVsaXZlcnlNb2RlOwpp\nbXBvcnQgamF2YXguam1zLkpNU0V4Y2VwdGlvbjsKaW1wb3J0IGphdmF4Lmpt\ncy5NZXNzYWdlQ29uc3VtZXI7CmltcG9ydCBqYXZheC5qbXMuU2Vzc2lvbjsK\nCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5qbXMuc3BpLkhlZHdpZ0Nvbm5l\nY3Rpb25GYWN0b3J5SW1wbDsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7Cmlt\ncG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKCnB1YmxpYyBjbGFzcyBK\nbXNUb3BpY1NlbmRSZWNlaXZlV2l0aFR3b0Nvbm5lY3Rpb25zVGVzdCBleHRl\nbmRzIEptc1NlbmRSZWNlaXZlVGVzdFN1cHBvcnQgewoKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5LmdldExv\nZ2dlcihKbXNUb3BpY1NlbmRSZWNlaXZlV2l0aFR3b0Nvbm5lY3Rpb25zVGVz\ndC5jbGFzcyk7CgogICAgcHJvdGVjdGVkIENvbm5lY3Rpb24gc2VuZENvbm5l\nY3Rpb247CiAgICBwcm90ZWN0ZWQgQ29ubmVjdGlvbiByZWNlaXZlQ29ubmVj\ndGlvbjsKICAgIHByb3RlY3RlZCBTZXNzaW9uIHJlY2VpdmVTZXNzaW9uOwoK\nICAgIC8qKgogICAgICogU2V0cyB1cCBhIHRlc3Qgd2hlcmUgdGhlIHByb2R1\nY2VyIGFuZCBjb25zdW1lciBoYXZlIHRoZWlyIG93biBjb25uZWN0aW9uLgog\nICAgICoKICAgICAqIEBzZWUganVuaXQuZnJhbWV3b3JrLlRlc3RDYXNlI3Nl\ndFVwKCkKICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgc2V0VXAoKSB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICBzdXBlci5zZXRVcCgpOwoKICAgICAg\nICBjb25uZWN0aW9uRmFjdG9yeSA9IGNyZWF0ZUNvbm5lY3Rpb25GYWN0b3J5\nKCk7CgogICAgICAgIExPRy5pbmZvKCJDcmVhdGluZyBzZW5kIGNvbm5lY3Rp\nb24iKTsKICAgICAgICBzZW5kQ29ubmVjdGlvbiA9IGNyZWF0ZVNlbmRDb25u\nZWN0aW9uKCk7CiAgICAgICAgTE9HLmluZm8oIlN0YXJ0aW5nIHNlbmQgY29u\nbmVjdGlvbiIpOwogICAgICAgIHNlbmRDb25uZWN0aW9uLnN0YXJ0KCk7Cgog\nICAgICAgIExPRy5pbmZvKCJDcmVhdGluZyByZWNlaXZlIGNvbm5lY3Rpb24i\nKTsKICAgICAgICByZWNlaXZlQ29ubmVjdGlvbiA9IGNyZWF0ZVJlY2VpdmVD\nb25uZWN0aW9uKCk7CiAgICAgICAgTE9HLmluZm8oIlN0YXJ0aW5nIHJlY2Vp\ndmUgY29ubmVjdGlvbiIpOwogICAgICAgIHJlY2VpdmVDb25uZWN0aW9uLnN0\nYXJ0KCk7CgogICAgICAgIExPRy5pbmZvKCJDcmVhdGVkIHNlbmRDb25uZWN0\naW9uOiAiICsgc2VuZENvbm5lY3Rpb24pOwogICAgICAgIExPRy5pbmZvKCJD\ncmVhdGVkIHJlY2VpdmVDb25uZWN0aW9uOiAiICsgcmVjZWl2ZUNvbm5lY3Rp\nb24pOwoKICAgICAgICBzZXNzaW9uID0gc2VuZENvbm5lY3Rpb24uY3JlYXRl\nU2Vzc2lvbihmYWxzZSwgU2Vzc2lvbi5BVVRPX0FDS05PV0xFREdFKTsKICAg\nICAgICByZWNlaXZlU2Vzc2lvbiA9IHJlY2VpdmVDb25uZWN0aW9uLmNyZWF0\nZVNlc3Npb24oZmFsc2UsIFNlc3Npb24uQVVUT19BQ0tOT1dMRURHRSk7Cgog\nICAgICAgIExPRy5pbmZvKCJDcmVhdGVkIHNlbmRTZXNzaW9uOiAiICsgc2Vz\nc2lvbik7CiAgICAgICAgTE9HLmluZm8oIkNyZWF0ZWQgcmVjZWl2ZVNlc3Np\nb246ICIgKyByZWNlaXZlU2Vzc2lvbik7CgogICAgICAgIHByb2R1Y2VyID0g\nc2Vzc2lvbi5jcmVhdGVQcm9kdWNlcihudWxsKTsKICAgICAgICBwcm9kdWNl\nci5zZXREZWxpdmVyeU1vZGUoZGVsaXZlcnlNb2RlKTsKCiAgICAgICAgTE9H\nLmluZm8oIkNyZWF0ZWQgcHJvZHVjZXI6ICIgKyBwcm9kdWNlciArICIgZGVs\naXZlcnkgbW9kZSA9ICIKICAgICAgICAgICAgICAgICArIChkZWxpdmVyeU1v\nZGUgPT0gRGVsaXZlcnlNb2RlLlBFUlNJU1RFTlQgPyAiUEVSU0lTVEVOVCIg\nOiAiTk9OX1BFUlNJU1RFTlQiKSk7CgogICAgICAgIGNvbnN1bWVyRGVzdGlu\nYXRpb24gPSBzZXNzaW9uLmNyZWF0ZVRvcGljKGdldENvbnN1bWVyU3ViamVj\ndCgpKTsKICAgICAgICBwcm9kdWNlckRlc3RpbmF0aW9uID0gc2Vzc2lvbi5j\ncmVhdGVUb3BpYyhnZXRQcm9kdWNlclN1YmplY3QoKSk7CgogICAgICAgIExP\nRy5pbmZvKCJDcmVhdGVkICBjb25zdW1lciBkZXN0aW5hdGlvbjogIiArIGNv\nbnN1bWVyRGVzdGluYXRpb24KICAgICAgICAgICAgICAgICArICIgb2YgdHlw\nZTogIiArIGNvbnN1bWVyRGVzdGluYXRpb24uZ2V0Q2xhc3MoKSk7CiAgICAg\nICAgTE9HLmluZm8oIkNyZWF0ZWQgIHByb2R1Y2VyIGRlc3RpbmF0aW9uOiAi\nICsgcHJvZHVjZXJEZXN0aW5hdGlvbgogICAgICAgICAgICAgICAgICsgIiBv\nZiB0eXBlOiAiICsgcHJvZHVjZXJEZXN0aW5hdGlvbi5nZXRDbGFzcygpKTsK\nCiAgICAgICAgY29uc3VtZXIgPSBjcmVhdGVDb25zdW1lcigpOwogICAgICAg\nIGNvbnN1bWVyLnNldE1lc3NhZ2VMaXN0ZW5lcih0aGlzKTsKCiAgICAgICAg\nTE9HLmluZm8oIlN0YXJ0ZWQgY29ubmVjdGlvbnMiKTsKICAgIH0KCiAgICBw\ncm90ZWN0ZWQgTWVzc2FnZUNvbnN1bWVyIGNyZWF0ZUNvbnN1bWVyKCkgdGhy\nb3dzIEpNU0V4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIHJlY2VpdmVTZXNz\naW9uLmNyZWF0ZUNvbnN1bWVyKGNvbnN1bWVyRGVzdGluYXRpb24pOwogICAg\nfQoKICAgIC8qCiAgICAgKiBAc2VlIGp1bml0LmZyYW1ld29yay5UZXN0Q2Fz\nZSN0ZWFyRG93bigpCiAgICAgKi8KICAgIHByb3RlY3RlZCB2b2lkIHRlYXJE\nb3duKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgc2Vzc2lvbi5jbG9z\nZSgpOwogICAgICAgIHJlY2VpdmVTZXNzaW9uLmNsb3NlKCk7CiAgICAgICAg\nc2VuZENvbm5lY3Rpb24uY2xvc2UoKTsKICAgICAgICByZWNlaXZlQ29ubmVj\ndGlvbi5jbG9zZSgpOwogICAgICAgIHN1cGVyLnRlYXJEb3duKCk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgY29ubmVjdGlvbi4KICAgICAq\nCiAgICAgKiBAcmV0dXJuIENvbm5lY3Rpb24KICAgICAqIEB0aHJvd3MgRXhj\nZXB0aW9uCiAgICAgKi8KICAgIHByb3RlY3RlZCBDb25uZWN0aW9uIGNyZWF0\nZVJlY2VpdmVDb25uZWN0aW9uKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIGNyZWF0ZUNvbm5lY3Rpb24oZmFsc2UpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ3JlYXRlcyBhIGNvbm5lY3Rpb24uCiAgICAgKgogICAg\nICogQHJldHVybiBDb25uZWN0aW9uCiAgICAgKiBAdGhyb3dzIEV4Y2VwdGlv\nbgogICAgICovCiAgICBwcm90ZWN0ZWQgQ29ubmVjdGlvbiBjcmVhdGVTZW5k\nQ29ubmVjdGlvbigpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBjcmVhdGVDb25uZWN0aW9uKGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIENyZWF0ZXMgYW4gSGVkd2lnQ29ubmVjdGlvbkZhY3RvcnlJbXBsLgog\nICAgICoKICAgICAqIEBzZWUgb3JnLmFwYWNoZS5hY3RpdmVtcS50ZXN0LlRl\nc3RTdXBwb3J0I2NyZWF0ZUNvbm5lY3Rpb25GYWN0b3J5KCkKICAgICAqLwog\nICAgcHJvdGVjdGVkIEhlZHdpZ0Nvbm5lY3Rpb25GYWN0b3J5SW1wbCBjcmVh\ndGVDb25uZWN0aW9uRmFjdG9yeSgpIHRocm93cyBFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBuZXcgSGVkd2lnQ29ubmVjdGlvbkZhY3RvcnlJbXBsKCk7\nCiAgICB9Cn0K\n","encoding":"base64"}

