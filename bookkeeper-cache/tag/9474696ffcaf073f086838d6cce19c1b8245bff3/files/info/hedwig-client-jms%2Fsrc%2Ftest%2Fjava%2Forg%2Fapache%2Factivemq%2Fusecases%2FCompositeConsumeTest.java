{"sha":"7ea8cc02573b948e423485472c33262a849d5c52","node_id":"MDQ6QmxvYjE1NzU5NTY6N2VhOGNjMDI1NzNiOTQ4ZTQyMzQ4NTQ3MmMzMzI2MmE4NDlkNWM1Mg==","size":2386,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/7ea8cc02573b948e423485472c33262a849d5c52","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xLnVzZWNhc2VzOwoKaW1wb3J0IGphdmF4\nLmptcy5EZXN0aW5hdGlvbjsKaW1wb3J0IGphdmF4Lmptcy5NZXNzYWdlOwoK\nCmltcG9ydCBvcmcuYXBhY2hlLmFjdGl2ZW1xLnRlc3QuSm1zVG9waWNTZW5k\nUmVjZWl2ZVdpdGhUd29Db25uZWN0aW9uc1Rlc3Q7CgppbXBvcnQgb3JnLmFw\nYWNoZS5oZWR3aWcuam1zLlNlc3Npb25JbXBsOwppbXBvcnQgb3JnLnNsZjRq\nLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwoKcHVi\nbGljIGNsYXNzIENvbXBvc2l0ZUNvbnN1bWVUZXN0IGV4dGVuZHMgSm1zVG9w\naWNTZW5kUmVjZWl2ZVdpdGhUd29Db25uZWN0aW9uc1Rlc3QgewogICAgcHJp\ndmF0ZSBzdGF0aWMgZmluYWwgTG9nZ2VyIExPRyA9IExvZ2dlckZhY3Rvcnku\nZ2V0TG9nZ2VyKENvbXBvc2l0ZUNvbnN1bWVUZXN0LmNsYXNzKTsKCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0U2VuZFJlY2VpdmUoKSB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICBtZXNzYWdlcy5jbGVhcigpOwoKICAgICAgICBEZXN0aW5h\ndGlvbltdIGRlc3RpbmF0aW9ucyA9IGdldERlc3RpbmF0aW9ucygpOwogICAg\nICAgIGludCBkZXN0SWR4ID0gMDsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7\nIGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIE1lc3NhZ2Ug\nbWVzc2FnZSA9IHNlc3Npb24uY3JlYXRlVGV4dE1lc3NhZ2UoZGF0YVtpXSk7\nCgogICAgICAgICAgICBpZiAodmVyYm9zZSkgewogICAgICAgICAgICAgICAg\nTE9HLmluZm8oIkFib3V0IHRvIHNlbmQgYSBtZXNzYWdlOiAiICsgbWVzc2Fn\nZSArICIgd2l0aCB0ZXh0OiAiICsgZGF0YVtpXSk7CiAgICAgICAgICAgIH0K\nCiAgICAgICAgICAgIHByb2R1Y2VyLnNlbmQoZGVzdGluYXRpb25zW2Rlc3RJ\nZHhdLCBtZXNzYWdlKTsKCiAgICAgICAgICAgIGlmICgrK2Rlc3RJZHggPj0g\nZGVzdGluYXRpb25zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZGVzdElk\neCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGFzc2Vy\ndE1lc3NhZ2VzQXJlUmVjZWl2ZWQoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybnMgdGhlIHN1YnNjcmlwdGlvbiBzdWJqZWN0CiAgICAgKi8KICAg\nIHByb3RlY3RlZCBTdHJpbmcgZ2V0U3ViamVjdCgpIHsKICAgICAgICAvLyBy\nZXR1cm4gZ2V0UHJlZml4KCkgKyAiRk9PLkJBUiwiICsgZ2V0UHJlZml4KCkg\nKyAiRk9PLlguWSwiICsgZ2V0UHJlZml4KCkgKyAiQkFSLj4iOwogICAgICAg\nIHJldHVybiBnZXRQcmVmaXgoKSArICJGT08uQkFSIjsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybnMgdGhlIGRlc3RpbmF0aW9ucyBvbiB3aGljaCB3\nZSBwdWJsaXNoCiAgICAgKi8KICAgIHByb3RlY3RlZCBEZXN0aW5hdGlvbltd\nIGdldERlc3RpbmF0aW9ucygpIHsKICAgICAgICByZXR1cm4gbmV3IERlc3Rp\nbmF0aW9uW117U2Vzc2lvbkltcGwuYXNUb3BpYyhnZXRTdWJqZWN0KCkpfTsK\nICAgIH0KCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdldFByZWZpeCgpIHsKICAg\nICAgICByZXR1cm4gc3VwZXIuZ2V0U3ViamVjdCgpICsgIi4iOwogICAgfQp9\nCg==\n","encoding":"base64"}

