{"sha":"0327f664bd02f11b14542e67ce56eb88e6e18d69","node_id":"MDQ6QmxvYjE1NzU5NTY6MDMyN2Y2NjRiZDAyZjExYjE0NTQyZTY3Y2U1NmViODhlNmUxOGQ2OQ==","size":4274,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/0327f664bd02f11b14542e67ce56eb88e6e18d69","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xLnVzZWNhc2VzOwoKaW1wb3J0IGphdmF4\nLmptcy5Db25uZWN0aW9uOwppbXBvcnQgamF2YXguam1zLkRlbGl2ZXJ5TW9k\nZTsKaW1wb3J0IGphdmF4Lmptcy5NZXNzYWdlOwppbXBvcnQgamF2YXguam1z\nLk1lc3NhZ2VQcm9kdWNlcjsKaW1wb3J0IGphdmF4Lmptcy5TZXNzaW9uOwpp\nbXBvcnQgamF2YXguam1zLlRleHRNZXNzYWdlOwppbXBvcnQgamF2YXguam1z\nLlRvcGljOwppbXBvcnQgamF2YXguam1zLlRvcGljU3Vic2NyaWJlcjsKCmlt\ncG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5qbXMuc3BpLkhlZHdpZ0Nvbm5lY3Rp\nb25GYWN0b3J5SW1wbDsKaW1wb3J0IG9yZy5hcGFjaGUuYWN0aXZlbXEudGVz\ndC5UZXN0U3VwcG9ydDsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9y\ndCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKCnB1YmxpYyBjbGFzcyBTdWJz\nY3JpYmVDbG9zZVB1Ymxpc2hUaGVuQ29uc3VtZVRlc3QgZXh0ZW5kcyBUZXN0\nU3VwcG9ydCB7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2dnZXIgTE9H\nID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoU3Vic2NyaWJlQ2xvc2VQdWJs\naXNoVGhlbkNvbnN1bWVUZXN0LmNsYXNzKTsKCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RHVyYWJsZVRvcGljKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAg\nSGVkd2lnQ29ubmVjdGlvbkZhY3RvcnlJbXBsIGNvbm5lY3Rpb25GYWN0b3J5\nID0gbmV3IEhlZHdpZ0Nvbm5lY3Rpb25GYWN0b3J5SW1wbCgpOwoKICAgICAg\nICBTdHJpbmcgdG9waWNOYW1lID0gIlRlc3RUb3BpYyI7CiAgICAgICAgU3Ry\naW5nIGNsaWVudElEID0gZ2V0TmFtZSgpOwogICAgICAgIFN0cmluZyBzdWJz\nY3JpYmVyTmFtZSA9ICJNeVN1YnNjcmliZXI6IiArIFN5c3RlbS5jdXJyZW50\nVGltZU1pbGxpcygpOwoKICAgICAgICBDb25uZWN0aW9uIGNvbm5lY3Rpb24g\nPSBjb25uZWN0aW9uRmFjdG9yeS5jcmVhdGVDb25uZWN0aW9uKCk7CiAgICAg\nICAgY29ubmVjdGlvbi5zZXRDbGllbnRJRChjbGllbnRJRCk7CgogICAgICAg\nIFNlc3Npb24gc2Vzc2lvbiA9IGNvbm5lY3Rpb24uY3JlYXRlU2Vzc2lvbihm\nYWxzZSwgU2Vzc2lvbi5BVVRPX0FDS05PV0xFREdFKTsKICAgICAgICBUb3Bp\nYyB0b3BpYyA9IHNlc3Npb24uY3JlYXRlVG9waWModG9waWNOYW1lKTsKCiAg\nICAgICAgLy8gdGhpcyBzaG91bGQgcmVnaXN0ZXIgYSBkdXJhYmxlIHN1YnNj\ncmliZXIsIHdlIHRoZW4gY2xvc2UgaXQgdG8KICAgICAgICAvLyB0ZXN0IHRo\nYXQgd2UgZ2V0IG1lc3NhZ2VzIGZyb20gdGhlIHByb2R1Y2VyIGxhdGVyIG9u\nCiAgICAgICAgVG9waWNTdWJzY3JpYmVyIHN1YnNjcmliZXIgPSBzZXNzaW9u\nLmNyZWF0ZUR1cmFibGVTdWJzY3JpYmVyKHRvcGljLCBzdWJzY3JpYmVyTmFt\nZSk7CiAgICAgICAgY29ubmVjdGlvbi5zdGFydCgpOwoKICAgICAgICB0b3Bp\nYyA9IG51bGw7CiAgICAgICAgc3Vic2NyaWJlci5jbG9zZSgpOwogICAgICAg\nIHN1YnNjcmliZXIgPSBudWxsOwogICAgICAgIHNlc3Npb24uY2xvc2UoKTsK\nICAgICAgICBzZXNzaW9uID0gbnVsbDsKCiAgICAgICAgLy8gQ3JlYXRlIHRo\nZSBuZXcgY29ubmVjdGlvbiBiZWZvcmUgY2xvc2luZyB0byBhdm9pZCB0aGUg\nYnJva2VyIHNodXR0aW5nCiAgICAgICAgLy8gZG93bi4KICAgICAgICAvLyBu\nb3cgY3JlYXRlIGEgbmV3IENvbm5lY3Rpb24sIFNlc3Npb24gJiBQcm9kdWNl\nciwgc2VuZCBzb21lIG1lc3NhZ2VzICYKICAgICAgICAvLyB0aGVuIGNsb3Nl\nCiAgICAgICAgQ29ubmVjdGlvbiB0ID0gY29ubmVjdGlvbkZhY3RvcnkuY3Jl\nYXRlQ29ubmVjdGlvbigpOwogICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTsK\nICAgICAgICBjb25uZWN0aW9uID0gdDsKCiAgICAgICAgc2Vzc2lvbiA9IGNv\nbm5lY3Rpb24uY3JlYXRlU2Vzc2lvbihmYWxzZSwgU2Vzc2lvbi5BVVRPX0FD\nS05PV0xFREdFKTsKICAgICAgICB0b3BpYyA9IHNlc3Npb24uY3JlYXRlVG9w\naWModG9waWNOYW1lKTsKICAgICAgICBNZXNzYWdlUHJvZHVjZXIgcHJvZHVj\nZXIgPSBzZXNzaW9uLmNyZWF0ZVByb2R1Y2VyKHRvcGljKTsKICAgICAgICBw\ncm9kdWNlci5zZXREZWxpdmVyeU1vZGUoRGVsaXZlcnlNb2RlLlBFUlNJU1RF\nTlQpOwogICAgICAgIFRleHRNZXNzYWdlIHRleHRNZXNzYWdlID0gc2Vzc2lv\nbi5jcmVhdGVUZXh0TWVzc2FnZSgiSGVsbG8gV29ybGQiKTsKICAgICAgICBw\ncm9kdWNlci5zZW5kKHRleHRNZXNzYWdlKTsKICAgICAgICB0ZXh0TWVzc2Fn\nZSA9IG51bGw7CgogICAgICAgIHRvcGljID0gbnVsbDsKICAgICAgICBzZXNz\naW9uLmNsb3NlKCk7CiAgICAgICAgc2Vzc2lvbiA9IG51bGw7CgogICAgICAg\nIC8vIE5vdyAocmUpcmVnaXN0ZXIgdGhlIER1cmFibGUgc3Vic2NyaWJlciwg\nc2V0dXAgYSBsaXN0ZW5lciBhbmQgd2FpdAogICAgICAgIC8vIGZvciBtZXNz\nYWdlcyB0aGF0IHNob3VsZAogICAgICAgIC8vIGhhdmUgYmVlbiBwdWJsaXNo\nZWQgYnkgdGhlIHByZXZpb3VzIHByb2R1Y2VyCiAgICAgICAgdCA9IGNvbm5l\nY3Rpb25GYWN0b3J5LmNyZWF0ZUNvbm5lY3Rpb24oKTsKICAgICAgICBjb25u\nZWN0aW9uLmNsb3NlKCk7CiAgICAgICAgY29ubmVjdGlvbiA9IHQ7CgogICAg\nICAgIGNvbm5lY3Rpb24uc2V0Q2xpZW50SUQoY2xpZW50SUQpOwogICAgICAg\nIHNlc3Npb24gPSBjb25uZWN0aW9uLmNyZWF0ZVNlc3Npb24oZmFsc2UsIFNl\nc3Npb24uQVVUT19BQ0tOT1dMRURHRSk7CiAgICAgICAgdG9waWMgPSBzZXNz\naW9uLmNyZWF0ZVRvcGljKHRvcGljTmFtZSk7CgogICAgICAgIHN1YnNjcmli\nZXIgPSBzZXNzaW9uLmNyZWF0ZUR1cmFibGVTdWJzY3JpYmVyKHRvcGljLCBz\ndWJzY3JpYmVyTmFtZSk7CiAgICAgICAgY29ubmVjdGlvbi5zdGFydCgpOwoK\nICAgICAgICBMT0cuaW5mbygiU3RhcnRlZCBjb25uZWN0aW9uIC0gbm93IGFi\nb3V0IHRvIHRyeSByZWNlaXZlIHRoZSB0ZXh0TWVzc2FnZSIpOwoKICAgICAg\nICBsb25nIHRpbWUgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTsKICAg\nICAgICBNZXNzYWdlIG1lc3NhZ2UgPSBzdWJzY3JpYmVyLnJlY2VpdmUoMTUw\nMDBMKTsKICAgICAgICBsb25nIGVsYXBzZWQgPSBTeXN0ZW0uY3VycmVudFRp\nbWVNaWxsaXMoKSAtIHRpbWU7CgogICAgICAgIExPRy5pbmZvKCJXYWl0ZWQg\nZm9yOiAiICsgZWxhcHNlZCArICIgbWlsbGlzIik7CgogICAgICAgIGFzc2Vy\ndE5vdE51bGwoIlNob3VsZCBoYXZlIHJlY2VpdmVkIHRoZSBtZXNzYWdlIHdl\nIHB1Ymxpc2hlZCBieSBub3ciLCBtZXNzYWdlKTsKICAgICAgICBhc3NlcnRU\ncnVlKCJzaG91bGQgYmUgdGV4dCB0ZXh0TWVzc2FnZSIsIG1lc3NhZ2UgaW5z\ndGFuY2VvZiBUZXh0TWVzc2FnZSk7CiAgICAgICAgdGV4dE1lc3NhZ2UgPSAo\nVGV4dE1lc3NhZ2UpbWVzc2FnZTsKICAgICAgICBhc3NlcnRFcXVhbHMoIkhl\nbGxvIFdvcmxkIiwgdGV4dE1lc3NhZ2UuZ2V0VGV4dCgpKTsKICAgIH0KfQo=\n","encoding":"base64"}

