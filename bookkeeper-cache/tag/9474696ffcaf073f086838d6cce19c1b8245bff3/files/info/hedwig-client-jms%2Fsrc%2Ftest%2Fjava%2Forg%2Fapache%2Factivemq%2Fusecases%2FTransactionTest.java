{"sha":"6b9a2f9c865a0996080489823d0a307e7cc836f3","node_id":"MDQ6QmxvYjE1NzU5NTY6NmI5YTJmOWM4NjVhMDk5NjA4MDQ4OTgyM2QwYTMwN2U3Y2M4MzZmMw==","size":4119,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/6b9a2f9c865a0996080489823d0a307e7cc836f3","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xLnVzZWNhc2VzOwoKaW1wb3J0IGphdmF4\nLmptcy5Ub3BpYzsKCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5KbXNUZXN0\nQmFzZTsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmptcy5TZXNzaW9uSW1w\nbDsKaW1wb3J0IGphdmEudXRpbC5EYXRlOwppbXBvcnQgamF2YS51dGlsLk1h\ncDsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNvdW50RG93bkxhdGNo\nOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuVGltZVVuaXQ7CgppbXBv\ncnQgamF2YXguam1zLkNvbm5lY3Rpb247CmltcG9ydCBqYXZheC5qbXMuRGVz\ndGluYXRpb247CmltcG9ydCBqYXZheC5qbXMuSk1TRXhjZXB0aW9uOwppbXBv\ncnQgamF2YXguam1zLk1lc3NhZ2U7CmltcG9ydCBqYXZheC5qbXMuTWVzc2Fn\nZUNvbnN1bWVyOwppbXBvcnQgamF2YXguam1zLk1lc3NhZ2VMaXN0ZW5lcjsK\naW1wb3J0IGphdmF4Lmptcy5NZXNzYWdlUHJvZHVjZXI7CmltcG9ydCBqYXZh\neC5qbXMuU2Vzc2lvbjsKaW1wb3J0IGphdmF4Lmptcy5UZXh0TWVzc2FnZTsK\nCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7CmltcG9ydCBvcmcu\nYXBhY2hlLmhlZHdpZy5qbXMuc3BpLkhlZHdpZ0Nvbm5lY3Rpb25GYWN0b3J5\nSW1wbDsKCmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNs\nZjRqLkxvZ2dlckZhY3Rvcnk7CgpwdWJsaWMgZmluYWwgY2xhc3MgVHJhbnNh\nY3Rpb25UZXN0IGV4dGVuZHMgSm1zVGVzdEJhc2UgewoKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5LmdldExv\nZ2dlcihUcmFuc2FjdGlvblRlc3QuY2xhc3MpOwoKICAgIHByaXZhdGUgdm9s\nYXRpbGUgU3RyaW5nIHJlY2VpdmVkVGV4dDsKCiAgICBwcml2YXRlIFNlc3Np\nb24gcHJvZHVjZXJTZXNzaW9uOwogICAgcHJpdmF0ZSBTZXNzaW9uIGNvbnN1\nbWVyU2Vzc2lvbjsKICAgIHByaXZhdGUgRGVzdGluYXRpb24gcXVldWU7Cgog\nICAgcHJpdmF0ZSBNZXNzYWdlUHJvZHVjZXIgcHJvZHVjZXI7CiAgICBwcml2\nYXRlIE1lc3NhZ2VDb25zdW1lciBjb25zdW1lcjsKICAgIHByaXZhdGUgQ29u\nbmVjdGlvbiBjb25uZWN0aW9uOwogICAgcHJpdmF0ZSBDb3VudERvd25MYXRj\naCBsYXRjaCA9IG5ldyBDb3VudERvd25MYXRjaCgxKTsKCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0VHJhbnNhY3Rpb24oKSB0aHJvd3MgRXhjZXB0aW9uIHsKCiAg\nICAgICAgSGVkd2lnQ29ubmVjdGlvbkZhY3RvcnlJbXBsIGZhY3RvcnkgPSBu\nZXcgSGVkd2lnQ29ubmVjdGlvbkZhY3RvcnlJbXBsKCk7CiAgICAgICAgY29u\nbmVjdGlvbiA9IGZhY3RvcnkuY3JlYXRlQ29ubmVjdGlvbigpOwogICAgICAg\nIHF1ZXVlID0gU2Vzc2lvbkltcGwuYXNUb3BpYyhnZXRDbGFzcygpLmdldE5h\nbWUoKSArICIuIiArIGdldE5hbWUoKSk7CgogICAgICAgIHByb2R1Y2VyU2Vz\nc2lvbiA9IGNvbm5lY3Rpb24uY3JlYXRlU2Vzc2lvbihmYWxzZSwgU2Vzc2lv\nbi5BVVRPX0FDS05PV0xFREdFKTsKICAgICAgICBjb25zdW1lclNlc3Npb24g\nPSBjb25uZWN0aW9uLmNyZWF0ZVNlc3Npb24odHJ1ZSwgMCk7CgogICAgICAg\nIHByb2R1Y2VyID0gcHJvZHVjZXJTZXNzaW9uLmNyZWF0ZVByb2R1Y2VyKHF1\nZXVlKTsKCiAgICAgICAgY29uc3VtZXIgPSBjb25zdW1lclNlc3Npb24uY3Jl\nYXRlQ29uc3VtZXIocXVldWUpOwogICAgICAgIGNvbnN1bWVyLnNldE1lc3Nh\nZ2VMaXN0ZW5lcihuZXcgTWVzc2FnZUxpc3RlbmVyKCkgewoKICAgICAgICAg\nICAgcHVibGljIHZvaWQgb25NZXNzYWdlKE1lc3NhZ2UgbSkgewogICAgICAg\nICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBUZXh0TWVzc2Fn\nZSB0bSA9IChUZXh0TWVzc2FnZSltOwogICAgICAgICAgICAgICAgICAgIHJl\nY2VpdmVkVGV4dCA9IHRtLmdldFRleHQoKTsKICAgICAgICAgICAgICAgICAg\nICBsYXRjaC5jb3VudERvd24oKTsKCiAgICAgICAgICAgICAgICAgICAgTE9H\nLmluZm8oImNvbnN1bWVyIHJlY2VpdmVkIG1lc3NhZ2UgOiIgKyByZWNlaXZl\nZFRleHQpOwogICAgICAgICAgICAgICAgICAgIGNvbnN1bWVyU2Vzc2lvbi5j\nb21taXQoKTsKICAgICAgICAgICAgICAgICAgICBMT0cuaW5mbygiY29tbWl0\ndGVkIHRyYW5zYWN0aW9uIik7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChK\nTVNFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAg\nICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWVyU2Vzc2lvbi5yb2xsYmFj\naygpOwogICAgICAgICAgICAgICAgICAgICAgICBMT0cuaW5mbygicm9sbGVk\nIGJhY2sgdHJhbnNhY3Rpb24iKTsKICAgICAgICAgICAgICAgICAgICB9IGNh\ndGNoIChKTVNFeGNlcHRpb24gZTEpIHsKICAgICAgICAgICAgICAgICAgICAg\nICAgTE9HLmluZm8oZTEudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAg\nICAgICAgIGUxLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgICAgICAgICAg\nICAgIH0KICAgICAgICAgICAgICAgICAgICBMT0cuaW5mbyhlLnRvU3RyaW5n\nKCkpOwogICAgICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7\nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsK\nCiAgICAgICAgY29ubmVjdGlvbi5zdGFydCgpOwoKICAgICAgICBUZXh0TWVz\nc2FnZSB0bSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdG0g\nPSBwcm9kdWNlclNlc3Npb24uY3JlYXRlVGV4dE1lc3NhZ2UoKTsKICAgICAg\nICAgICAgdG0uc2V0VGV4dCgiSGVsbG8sICIgKyBuZXcgRGF0ZSgpKTsKICAg\nICAgICAgICAgcHJvZHVjZXIuc2VuZCh0bSk7CiAgICAgICAgICAgIExPRy5p\nbmZvKCJwcm9kdWNlciBzZW50IG1lc3NhZ2UgOiIgKyB0bS5nZXRUZXh0KCkp\nOwogICAgICAgIH0gY2F0Y2ggKEpNU0V4Y2VwdGlvbiBlKSB7CiAgICAgICAg\nICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAgICAgICAgfQoKICAgICAgICBM\nT0cuaW5mbygiV2FpdGluZyBmb3IgbGF0Y2giKTsKICAgICAgICBsYXRjaC5h\nd2FpdCgyLFRpbWVVbml0LlNFQ09ORFMpOwogICAgICAgIGFzc2VydE5vdE51\nbGwocmVjZWl2ZWRUZXh0KTsKICAgICAgICBMT0cuaW5mbygidGVzdCBjb21w\nbGV0ZWQsIGRlc3RpbmF0aW9uPSIgKyByZWNlaXZlZFRleHQpOwogICAgfQoK\nICAgIHByb3RlY3RlZCB2b2lkIHRlYXJEb3duKCkgdGhyb3dzIEV4Y2VwdGlv\nbiB7CiAgICAgICAgaWYgKGNvbm5lY3Rpb24gIT0gbnVsbCkgewogICAgICAg\nICAgICBjb25uZWN0aW9uLmNsb3NlKCk7CiAgICAgICAgfQogICAgICAgIHN1\ncGVyLnRlYXJEb3duKCk7CiAgICB9Cn0K\n","encoding":"base64"}

