{"sha":"12dfe3af8a7081186408c9eced3fe503c3037b3e","node_id":"MDQ6QmxvYjE1NzU5NTY6MTJkZmUzYWY4YTcwODExODY0MDhjOWVjZWQzZmU1MDNjMzAzN2IzZQ==","size":2607,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/12dfe3af8a7081186408c9eced3fe503c3037b3e","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUgb3IgbW9yZQogKiBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3Ry\naWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMAogKiAodGhlICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug\nd2l0aAogKiB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLmFjdGl2ZW1xLnV0aWw7CgppbXBvcnQgb3JnLnNsZjRq\nLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwoKaW1w\nb3J0IGphdmF4Lmptcy5EZXN0aW5hdGlvbjsKaW1wb3J0IGphdmF4Lmptcy5K\nTVNFeGNlcHRpb247CmltcG9ydCBqYXZheC5qbXMuTWVzc2FnZTsKaW1wb3J0\nIGphdmF4Lmptcy5NZXNzYWdlUHJvZHVjZXI7CmltcG9ydCBqYXZheC5qbXMu\nU2Vzc2lvbjsKCgpwdWJsaWMgY2xhc3MgUHJvZHVjZXJUaHJlYWQgZXh0ZW5k\ncyBUaHJlYWQgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExvZ2dlciBM\nT0cgPSBMb2dnZXJGYWN0b3J5LmdldExvZ2dlcihQcm9kdWNlclRocmVhZC5j\nbGFzcyk7CgogICAgaW50IG1lc3NhZ2VDb3VudCA9IDEwMDA7CiAgICBEZXN0\naW5hdGlvbiBkZXN0OwogICAgcHJvdGVjdGVkIFNlc3Npb24gc2VzczsKICAg\nIGludCBzbGVlcCA9IDA7CiAgICBpbnQgc2VudENvdW50ID0gMDsKCiAgICBw\ndWJsaWMgUHJvZHVjZXJUaHJlYWQoU2Vzc2lvbiBzZXNzLCBEZXN0aW5hdGlv\nbiBkZXN0KSB7CiAgICAgICAgdGhpcy5kZXN0ID0gZGVzdDsKICAgICAgICB0\naGlzLnNlc3MgPSBzZXNzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJ1bigp\nIHsKICAgICAgICBNZXNzYWdlUHJvZHVjZXIgcHJvZHVjZXIgPSBudWxsOwog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIHByb2R1Y2VyID0gc2Vzcy5jcmVh\ndGVQcm9kdWNlcihkZXN0KTsKICAgICAgICAgICAgZm9yIChzZW50Q291bnQg\nPSAwOyBzZW50Q291bnQgPCBtZXNzYWdlQ291bnQ7IHNlbnRDb3VudCsrKSB7\nCiAgICAgICAgICAgICAgICBwcm9kdWNlci5zZW5kKGNyZWF0ZU1lc3NhZ2Uo\nc2VudENvdW50KSk7CiAgICAgICAgICAgICAgICBMT0cuaW5mbygiU2VudCAn\ndGVzdCBtZXNzYWdlOiAiICsgc2VudENvdW50ICsgIiciKTsKICAgICAgICAg\nICAgICAgIGlmIChzbGVlcCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBU\naHJlYWQuc2xlZXAoc2xlZXApOwogICAgICAgICAgICAgICAgfQogICAgICAg\nICAgICB9CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAg\nICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICB9IGZpbmFsbHkg\newogICAgICAgICAgICBpZiAocHJvZHVjZXIgIT0gbnVsbCkgewogICAgICAg\nICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBwcm9kdWNlci5j\nbG9zZSgpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoSk1TRXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgp\nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQog\nICAgfQoKICAgIHByb3RlY3RlZCBNZXNzYWdlIGNyZWF0ZU1lc3NhZ2UoaW50\nIGkpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHJldHVybiBzZXNzLmNy\nZWF0ZVRleHRNZXNzYWdlKCJ0ZXN0IG1lc3NhZ2U6ICIgKyBpKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRNZXNzYWdlQ291bnQoaW50IG1lc3NhZ2VD\nb3VudCkgewogICAgICAgIHRoaXMubWVzc2FnZUNvdW50ID0gbWVzc2FnZUNv\ndW50OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNsZWVwKGludCBzbGVl\ncCkgewogICAgICAgIHRoaXMuc2xlZXAgPSBzbGVlcDsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldE1lc3NhZ2VDb3VudCgpIHsKICAgICAgICByZXR1cm4g\nbWVzc2FnZUNvdW50OwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0U2VudENv\ndW50KCkgewogICAgICAgIHJldHVybiBzZW50Q291bnQ7CiAgICB9Cn0K\n","encoding":"base64"}

