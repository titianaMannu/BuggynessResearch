{"sha":"8f47c2f59573d50b397bb7d5bc2eeb5e79b72b07","node_id":"MDQ6QmxvYjE1NzU5NTY6OGY0N2MyZjU5NTczZDUwYjM5N2JiN2Q1YmMyZWViNWU3OWI3MmIwNw==","size":4000,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/8f47c2f59573d50b397bb7d5bc2eeb5e79b72b07","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuYmVuY2htYXJrOwoKaW1w\nb3J0IGphdmEubmlvLkJ5dGVCdWZmZXI7CmltcG9ydCBqYXZhLnV0aWwuY29u\nY3VycmVudC5FeGVjdXRvcnM7CmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVu\ndC5TZW1hcGhvcmU7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29u\nZi5DbGllbnRDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5ib29r\na2VlcGVyLmNsaWVudC5CS0V4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUu\nYm9va2tlZXBlci5uZXQuQm9va2llU29ja2V0QWRkcmVzczsKaW1wb3J0IG9y\nZy5hcGFjaGUuYm9va2tlZXBlci5wcm90by5Cb29raWVDbGllbnQ7CmltcG9y\ndCBvcmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZh\nY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJvdG8uQm9v\na2tlZXBlckludGVybmFsQ2FsbGJhY2tzLldyaXRlQ2FsbGJhY2s7CmltcG9y\ndCBvcmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbC5NYXRoVXRpbHM7CmltcG9y\ndCBvcmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbC5PcmRlcmVkU2FmZUV4ZWN1\ndG9yOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmJ1ZmZlci5DaGFubmVsQnVm\nZmVyOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmJ1ZmZlci5DaGFubmVsQnVm\nZmVyczsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVsLnNvY2tldC5D\nbGllbnRTb2NrZXRDaGFubmVsRmFjdG9yeTsKaW1wb3J0IG9yZy5qYm9zcy5u\nZXR0eS5jaGFubmVsLnNvY2tldC5uaW8uTmlvQ2xpZW50U29ja2V0Q2hhbm5l\nbEZhY3Rvcnk7CgpwdWJsaWMgY2xhc3MgQm9va2llQmVuY2htYXJrIGV4dGVu\nZHMgQWJzdHJhY3RCZW5jaG1hcmsgewoKICAgIHN0YXRpYyBmaW5hbCBMb2dn\nZXIgbG9nZ2VyID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoQm9va2tlZXBl\nckJlbmNobWFyay5jbGFzcyk7CgogICAgQm9va2llQ2xpZW50IGJrYzsKICAg\nIEJvb2tpZVNvY2tldEFkZHJlc3MgYWRkcjsKICAgIENsaWVudFNvY2tldENo\nYW5uZWxGYWN0b3J5IGNoYW5uZWxGYWN0b3J5OwogICAgT3JkZXJlZFNhZmVF\neGVjdXRvciBleGVjdXRvciA9IG5ldyBPcmRlcmVkU2FmZUV4ZWN1dG9yKDEs\nICJCb29raWVCZW5jaG1hcmtTY2hlZHVsZXIiKTsKCgogICAgcHVibGljIEJv\nb2tpZUJlbmNobWFyayhTdHJpbmcgYm9va2llSG9zdFBvcnQpICB0aHJvd3Mg\nRXhjZXB0aW9uIHsKICAgICAgICBjaGFubmVsRmFjdG9yeSA9IG5ldyBOaW9D\nbGllbnRTb2NrZXRDaGFubmVsRmFjdG9yeShFeGVjdXRvcnMubmV3Q2FjaGVk\nVGhyZWFkUG9vbCgpLCBFeGVjdXRvcnMubmV3Q2FjaGVkVGhyZWFkUG9vbCgp\nKTsKICAgICAgICBia2MgPSBuZXcgQm9va2llQ2xpZW50KG5ldyBDbGllbnRD\nb25maWd1cmF0aW9uKCksIGNoYW5uZWxGYWN0b3J5LCBleGVjdXRvcik7CiAg\nICAgICAgU3RyaW5nW10gaG9zdFBvcnQgPSBib29raWVIb3N0UG9ydC5zcGxp\ndCgiOiIpOwogICAgICAgIGFkZHIgPSBuZXcgQm9va2llU29ja2V0QWRkcmVz\ncyhob3N0UG9ydFswXSwgSW50ZWdlci5wYXJzZUludChob3N0UG9ydFsxXSkp\nOwogICAgfQoKCiAgICBAT3ZlcnJpZGUKICAgIHZvaWQgZG9PcHMoZmluYWwg\naW50IG51bU9wcykgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgaW50IG51\nbU91dHN0YW5kaW5nID0gSW50ZWdlci5nZXRJbnRlZ2VyKCJuUGFycyIsMTAw\nMCk7CiAgICAgICAgZmluYWwgU2VtYXBob3JlIG91dHN0YW5kaW5nID0gbmV3\nIFNlbWFwaG9yZShudW1PdXRzdGFuZGluZyk7CgoKICAgICAgICBXcml0ZUNh\nbGxiYWNrIGNhbGxiYWNrID0gbmV3IFdyaXRlQ2FsbGJhY2soKSB7CiAgICAg\nICAgICAgIEFic3RyYWN0Q2FsbGJhY2sgaGFuZGxlciA9IG5ldyBBYnN0cmFj\ndENhbGxiYWNrKG91dHN0YW5kaW5nLCBudW1PcHMpOwoKICAgICAgICAgICAg\nQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIHdyaXRlQ29tcGxl\ndGUoaW50IHJjLCBsb25nIGxlZGdlcklkLCBsb25nIGVudHJ5SWQsCiAgICAg\nICAgICAgIEJvb2tpZVNvY2tldEFkZHJlc3MgYWRkciwgT2JqZWN0IGN0eCkg\newogICAgICAgICAgICAgICAgaGFuZGxlci5oYW5kbGUocmMgPT0gQktFeGNl\ncHRpb24uQ29kZS5PSywgY3R4KTsKICAgICAgICAgICAgfQogICAgICAgIH07\nCgogICAgICAgIGJ5dGVbXSBwYXNzd2QgPSBuZXcgYnl0ZVsyMF07CiAgICAg\nICAgaW50IHNpemUgPSBJbnRlZ2VyLmdldEludGVnZXIoInNpemUiLCAxMDI0\nKTsKICAgICAgICBieXRlW10gZGF0YSA9IG5ldyBieXRlW3NpemVdOwoKICAg\nICAgICBmb3IgKGludCBpPTA7IGk8bnVtT3BzOyBpKyspIHsKICAgICAgICAg\nICAgb3V0c3RhbmRpbmcuYWNxdWlyZSgpOwoKICAgICAgICAgICAgQnl0ZUJ1\nZmZlciBidWZmZXIgPSBCeXRlQnVmZmVyLmFsbG9jYXRlKDQ0KTsKICAgICAg\nICAgICAgbG9uZyBsZWRnZXJJZCA9IDEwMDA7CiAgICAgICAgICAgIGJ1ZmZl\nci5wdXRMb25nKGxlZGdlcklkKTsKICAgICAgICAgICAgYnVmZmVyLnB1dExv\nbmcoaSk7CiAgICAgICAgICAgIGJ1ZmZlci5wdXRMb25nKDApOwogICAgICAg\nICAgICBidWZmZXIucHV0KHBhc3N3ZCk7CiAgICAgICAgICAgIGJ1ZmZlci5y\nZXdpbmQoKTsKICAgICAgICAgICAgQ2hhbm5lbEJ1ZmZlciB0b1NlbmQgPSBD\naGFubmVsQnVmZmVycy53cmFwcGVkQnVmZmVyKENoYW5uZWxCdWZmZXJzLndy\nYXBwZWRCdWZmZXIoYnVmZmVyLnNsaWNlKCkpLCBDaGFubmVsQnVmZmVycy53\ncmFwcGVkQnVmZmVyKGRhdGEpKTsKICAgICAgICAgICAgYmtjLmFkZEVudHJ5\nKGFkZHIsIGxlZGdlcklkLCBwYXNzd2QsIGksIHRvU2VuZCwgY2FsbGJhY2ss\nIE1hdGhVdGlscy5ub3coKSwgMCk7CiAgICAgICAgfQoKICAgIH0KCiAgICBA\nT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkgewogICAgICAg\nIGJrYy5jbG9zZSgpOwogICAgICAgIGNoYW5uZWxGYWN0b3J5LnJlbGVhc2VF\neHRlcm5hbFJlc291cmNlcygpOwogICAgICAgIGV4ZWN1dG9yLnNodXRkb3du\nKCk7CiAgICB9CgoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmlu\nZ1tdIGFyZ3MpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIEJvb2tpZUJl\nbmNobWFyayBiZW5jaG1hcmsgPSBuZXcgQm9va2llQmVuY2htYXJrKGFyZ3Nb\nMF0pOwogICAgICAgIGJlbmNobWFyay5ydW4oKTsKICAgIH0KCgp9Cg==\n","encoding":"base64"}

