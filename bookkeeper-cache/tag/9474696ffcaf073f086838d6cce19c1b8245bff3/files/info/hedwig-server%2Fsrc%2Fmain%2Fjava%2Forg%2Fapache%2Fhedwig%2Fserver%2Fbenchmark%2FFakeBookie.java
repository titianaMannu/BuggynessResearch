{"sha":"0261dc9e8f27534a0f333864af6246636cbce7b0","node_id":"MDQ6QmxvYjE1NzU5NTY6MDI2MWRjOWU4ZjI3NTM0YTBmMzMzODY0YWY2MjQ2NjM2Y2JjZTdiMA==","size":4000,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/0261dc9e8f27534a0f333864af6246636cbce7b0","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuYmVuY2htYXJrOwoKaW1w\nb3J0IGphdmEubmV0LkluZXRTb2NrZXRBZGRyZXNzOwppbXBvcnQgamF2YS51\ndGlsLmNvbmN1cnJlbnQuRXhlY3V0b3JzOwoKaW1wb3J0IG9yZy5zbGY0ai5M\nb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKaW1wb3J0\nIG9yZy5qYm9zcy5uZXR0eS5ib290c3RyYXAuU2VydmVyQm9vdHN0cmFwOwpp\nbXBvcnQgb3JnLmpib3NzLm5ldHR5LmJ1ZmZlci5DaGFubmVsQnVmZmVyOwpp\nbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuQ2hhbm5lbEhhbmRsZXJD\nb250ZXh0OwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuQ2hhbm5l\nbFBpcGVsaW5lOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuQ2hh\nbm5lbEhhbmRsZXIuU2hhcmFibGU7CmltcG9ydCBvcmcuamJvc3MubmV0dHku\nY2hhbm5lbC5DaGFubmVsUGlwZWxpbmVGYWN0b3J5OwppbXBvcnQgb3JnLmpi\nb3NzLm5ldHR5LmNoYW5uZWwuQ2hhbm5lbHM7CmltcG9ydCBvcmcuamJvc3Mu\nbmV0dHkuY2hhbm5lbC5NZXNzYWdlRXZlbnQ7CmltcG9ydCBvcmcuamJvc3Mu\nbmV0dHkuY2hhbm5lbC5TaW1wbGVDaGFubmVsSGFuZGxlcjsKaW1wb3J0IG9y\nZy5qYm9zcy5uZXR0eS5jaGFubmVsLnNvY2tldC5TZXJ2ZXJTb2NrZXRDaGFu\nbmVsRmFjdG9yeTsKaW1wb3J0IG9yZy5qYm9zcy5uZXR0eS5jaGFubmVsLnNv\nY2tldC5uaW8uTmlvU2VydmVyU29ja2V0Q2hhbm5lbEZhY3Rvcnk7CmltcG9y\ndCBvcmcuamJvc3MubmV0dHkuaGFuZGxlci5jb2RlYy5mcmFtZS5MZW5ndGhG\naWVsZEJhc2VkRnJhbWVEZWNvZGVyOwppbXBvcnQgb3JnLmpib3NzLm5ldHR5\nLmhhbmRsZXIuY29kZWMuZnJhbWUuTGVuZ3RoRmllbGRQcmVwZW5kZXI7Cmlt\ncG9ydCBvcmcuamJvc3MubmV0dHkubG9nZ2luZy5JbnRlcm5hbExvZ2dlckZh\nY3Rvcnk7CmltcG9ydCBvcmcuamJvc3MubmV0dHkubG9nZ2luZy5Mb2c0Skxv\nZ2dlckZhY3Rvcnk7CgpAU2hhcmFibGUKcHVibGljIGNsYXNzIEZha2VCb29r\naWUgZXh0ZW5kcyBTaW1wbGVDaGFubmVsSGFuZGxlciBpbXBsZW1lbnRzCiAg\nICBDaGFubmVsUGlwZWxpbmVGYWN0b3J5IHsKICAgIHN0YXRpYyBmaW5hbCBM\nb2dnZXIgbG9nZ2VyID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoRmFrZUJv\nb2tpZS5jbGFzcyk7CiAgICBTZXJ2ZXJTb2NrZXRDaGFubmVsRmFjdG9yeSBz\nZXJ2ZXJDaGFubmVsRmFjdG9yeSA9IG5ldyBOaW9TZXJ2ZXJTb2NrZXRDaGFu\nbmVsRmFjdG9yeSgKICAgICAgICBFeGVjdXRvcnMubmV3Q2FjaGVkVGhyZWFk\nUG9vbCgpLCBFeGVjdXRvcnMubmV3Q2FjaGVkVGhyZWFkUG9vbCgpKTsKCiAg\nICBwdWJsaWMgRmFrZUJvb2tpZShpbnQgcG9ydCkgewogICAgICAgIEludGVy\nbmFsTG9nZ2VyRmFjdG9yeS5zZXREZWZhdWx0RmFjdG9yeShuZXcgTG9nNEpM\nb2dnZXJGYWN0b3J5KCkpOwogICAgICAgIFNlcnZlckJvb3RzdHJhcCBib290\nc3RyYXAgPSBuZXcgU2VydmVyQm9vdHN0cmFwKHNlcnZlckNoYW5uZWxGYWN0\nb3J5KTsKCiAgICAgICAgYm9vdHN0cmFwLnNldFBpcGVsaW5lRmFjdG9yeSh0\naGlzKTsKICAgICAgICBib290c3RyYXAuc2V0T3B0aW9uKCJjaGlsZC50Y3BO\nb0RlbGF5IiwgdHJ1ZSk7CiAgICAgICAgYm9vdHN0cmFwLnNldE9wdGlvbigi\nY2hpbGQua2VlcEFsaXZlIiwgdHJ1ZSk7CiAgICAgICAgYm9vdHN0cmFwLnNl\ndE9wdGlvbigicmV1c2VBZGRyZXNzIiwgdHJ1ZSk7CgogICAgICAgIGxvZ2dl\nci5pbmZvKCJHb2luZyBpbnRvIHJlY2VpdmUgbG9vcCIpOwogICAgICAgIC8v\nIEJpbmQgYW5kIHN0YXJ0IHRvIGFjY2VwdCBpbmNvbWluZyBjb25uZWN0aW9u\ncy4KICAgICAgICBib290c3RyYXAuYmluZChuZXcgSW5ldFNvY2tldEFkZHJl\nc3MocG9ydCkpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIENo\nYW5uZWxQaXBlbGluZSBnZXRQaXBlbGluZSgpIHRocm93cyBFeGNlcHRpb24g\newogICAgICAgIENoYW5uZWxQaXBlbGluZSBwaXBlbGluZSA9IENoYW5uZWxz\nLnBpcGVsaW5lKCk7CiAgICAgICAgcGlwZWxpbmUuYWRkTGFzdCgibGVuZ3Ro\nYmFzZWRkZWNvZGVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBM\nZW5ndGhGaWVsZEJhc2VkRnJhbWVEZWNvZGVyKDEwMjQgKiAxMDI0LCAwLCA0\nLCAwLCA0KSk7CiAgICAgICAgcGlwZWxpbmUuYWRkTGFzdCgibGVuZ3RocHJl\ncGVuZGVyIiwgbmV3IExlbmd0aEZpZWxkUHJlcGVuZGVyKDQpKTsKICAgICAg\nICBwaXBlbGluZS5hZGRMYXN0KCJtYWluIiwgdGhpcyk7CiAgICAgICAgcmV0\ndXJuIHBpcGVsaW5lOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGlj\nIHZvaWQgbWVzc2FnZVJlY2VpdmVkKENoYW5uZWxIYW5kbGVyQ29udGV4dCBj\ndHgsIE1lc3NhZ2VFdmVudCBlKQogICAgICAgICAgICB0aHJvd3MgRXhjZXB0\naW9uIHsKICAgICAgICBpZiAoIShlLmdldE1lc3NhZ2UoKSBpbnN0YW5jZW9m\nIENoYW5uZWxCdWZmZXIpKSB7CiAgICAgICAgICAgIGN0eC5zZW5kVXBzdHJl\nYW0oZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAg\nIENoYW5uZWxCdWZmZXIgYnVmZmVyID0gKENoYW5uZWxCdWZmZXIpIGUuZ2V0\nTWVzc2FnZSgpOwoKICAgICAgICBpbnQgdHlwZSA9IGJ1ZmZlci5yZWFkSW50\nKCk7CiAgICAgICAgYnVmZmVyLnJlYWRlckluZGV4KDI0KTsKICAgICAgICBs\nb25nIGxlZGdlcklkID0gYnVmZmVyLnJlYWRMb25nKCk7CiAgICAgICAgbG9u\nZyBlbnRyeUlkID0gYnVmZmVyLnJlYWRMb25nKCk7CgogICAgICAgIENoYW5u\nZWxCdWZmZXIgb3V0QnVmID0gY3R4LmdldENoYW5uZWwoKS5nZXRDb25maWco\nKS5nZXRCdWZmZXJGYWN0b3J5KCkKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIC5nZXRCdWZmZXIoMjQpOwogICAgICAgIG91dEJ1Zi53cml0ZUlu\ndCh0eXBlKTsKICAgICAgICBvdXRCdWYud3JpdGVJbnQoMCk7IC8vIHJjCiAg\nICAgICAgb3V0QnVmLndyaXRlTG9uZyhsZWRnZXJJZCk7CiAgICAgICAgb3V0\nQnVmLndyaXRlTG9uZyhlbnRyeUlkKTsKICAgICAgICBlLmdldENoYW5uZWwo\nKS53cml0ZShvdXRCdWYpOwoKICAgIH0KCgogICAgcHVibGljIHN0YXRpYyB2\nb2lkIG1haW4oU3RyaW5nIGFyZ3NbXSkgewogICAgICAgIG5ldyBGYWtlQm9v\na2llKEludGVnZXIucGFyc2VJbnQoYXJnc1swXSkpOwogICAgfQp9Cg==\n","encoding":"base64"}

