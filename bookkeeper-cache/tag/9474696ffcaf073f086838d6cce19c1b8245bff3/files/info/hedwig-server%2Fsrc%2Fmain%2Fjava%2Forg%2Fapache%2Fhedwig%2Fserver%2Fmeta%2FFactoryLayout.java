{"sha":"6c61a2f9a05f11252d90a96a44163b9a63cfd8b2","node_id":"MDQ6QmxvYjE1NzU5NTY6NmM2MWEyZjlhMDVmMTEyNTJkOTBhOTZhNDQxNjNiOWE2M2NmZDhiMg==","size":5601,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/6c61a2f9a05f11252d90a96a44163b9a63cfd8b2","content":"cGFja2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIubWV0YTsKCi8qKgog\nKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24g\nKEFTRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5z\nZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQogKiBkaXN0cmli\ndXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlv\nbgogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0Yg\nbGljZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hl\nIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91\nIG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQog\nKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9m\nIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBz\nb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUg\nc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAog\nKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppbXBvcnQg\namF2YS5pby5CdWZmZXJlZFJlYWRlcjsKaW1wb3J0IGphdmEuaW8uSU9FeGNl\ncHRpb247CmltcG9ydCBqYXZhLmlvLlN0cmluZ1JlYWRlcjsKCmltcG9ydCBv\ncmcuYXBhY2hlLnpvb2tlZXBlci5DcmVhdGVNb2RlOwppbXBvcnQgb3JnLmFw\nYWNoZS56b29rZWVwZXIuS2VlcGVyRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFw\nYWNoZS56b29rZWVwZXIuWm9vRGVmcy5JZHM7CmltcG9ydCBvcmcuYXBhY2hl\nLnpvb2tlZXBlci5ab29LZWVwZXI7CgppbXBvcnQgb3JnLnNsZjRqLkxvZ2dl\ncjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5OwoKaW1wb3J0IGNv\nbS5nb29nbGUucHJvdG9idWYuVGV4dEZvcm1hdDsKaW1wb3J0IGNvbS5nb29n\nbGUucHJvdG9idWYuSW52YWxpZFByb3RvY29sQnVmZmVyRXhjZXB0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9j\nb2wuTWFuYWdlck1ldGE7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2\nZXIuY29tbW9uLlNlcnZlckNvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBh\nY2hlLmhlZHdpZy56b29rZWVwZXIuWmtVdGlsczsKaW1wb3J0IHN0YXRpYyBj\nb20uZ29vZ2xlLmNvbW1vbi5iYXNlLkNoYXJzZXRzLlVURl84OwoKLyoqCiAq\nIFRoaXMgY2xhc3MgZW5jYXBzdWxhdGVzIG1ldGFkYXRhIG1hbmFnZXIgbGF5\nb3V0IGluZm9ybWF0aW9uCiAqIHRoYXQgaXMgcGVyc2lzdGVudGx5IHN0b3Jl\nZCBpbiB6b29rZWVwZXIuCiAqIEl0IHByb3ZpZGVzIHBhcnNpbmcgYW5kIHNl\ncmlhbGl6YXRpb24gbWV0aG9kcyBvZiBzdWNoIGluZm9ybWF0aW9uLgogKgog\nKi8KcHVibGljIGNsYXNzIEZhY3RvcnlMYXlvdXQgewogICAgc3RhdGljIGZp\nbmFsIExvZ2dlciBsb2dnZXIgPSBMb2dnZXJGYWN0b3J5LmdldExvZ2dlcihG\nYWN0b3J5TGF5b3V0LmNsYXNzKTsKCiAgICAvLyBtZXRhZGF0YSBtYW5hZ2Vy\nIG5hbWUKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIE5BTUUgPSAi\nTUVUQURBVEEiOwogICAgLy8gWm5vZGUgbmFtZSB0byBzdG9yZSBsYXlvdXQg\naW5mb3JtYXRpb24KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIExB\nWU9VVF9aTk9ERSA9ICJMQVlPVVQiOwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBTdHJpbmcgTFNFUCA9ICJcbiI7CgogICAgcHJpdmF0ZSBNYW5hZ2VyTWV0\nYSBtYW5hZ2VyTWV0YTsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdCBtZXRh\nZGF0YSBtYW5hZ2VyIGZhY3RvcnkgbGF5b3V0LgogICAgICoKICAgICAqIEBw\nYXJhbSBtZXRhCiAgICAgKiAgICAgICAgICBNZXRhIGRlc2NyaWJlcyB3aGF0\nIGtpbmQgb2YgZmFjdG9yeSB1c2VkLgogICAgICovCiAgICBwdWJsaWMgRmFj\ndG9yeUxheW91dChNYW5hZ2VyTWV0YSBtZXRhKSB7CiAgICAgICAgdGhpcy5t\nYW5hZ2VyTWV0YSA9IG1ldGE7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBT\ndHJpbmcgZ2V0RmFjdG9yeUxheW91dFBhdGgoU3RyaW5nQnVpbGRlciBzYiwg\nU2VydmVyQ29uZmlndXJhdGlvbiBjZmcpIHsKICAgICAgICByZXR1cm4gY2Zn\nLmdldFprTWFuYWdlcnNQcmVmaXgoc2IpLmFwcGVuZCgiLyIpLmFwcGVuZChO\nQU1FKQogICAgICAgICAgICAgICAuYXBwZW5kKCIvIikuYXBwZW5kKExBWU9V\nVF9aTk9ERSkudG9TdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgTWFuYWdl\nck1ldGEgZ2V0TWFuYWdlck1ldGEoKSB7CiAgICAgICAgcmV0dXJuIG1hbmFn\nZXJNZXRhOwogICAgfQoKICAgIC8qKgogICAgICogU3RvcmUgdGhlIGZhY3Rv\ncnkgbGF5b3V0IGludG8gem9va2VlcGVyCiAgICAgKgogICAgICogQHBhcmFt\nIHprCiAgICAgKiAgICAgICAgICBab29LZWVwZXIgSGFuZGxlCiAgICAgKiBA\ncGFyYW0gY2ZnCiAgICAgKiAgICAgICAgICBTZXJ2ZXIgQ29uZmlndXJhdGlv\nbiBPYmplY3QKICAgICAqIEB0aHJvd3MgS2VlcGVyRXhjZXB0aW9uCiAgICAg\nKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAgICAgKiBAdGhyb3dzIEludGVycnVw\ndGVkRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHN0b3JlKFpv\nb0tlZXBlciB6aywgU2VydmVyQ29uZmlndXJhdGlvbiBjZmcpCiAgICB0aHJv\nd3MgS2VlcGVyRXhjZXB0aW9uLCBJT0V4Y2VwdGlvbiwgSW50ZXJydXB0ZWRF\neGNlcHRpb24gewogICAgICAgIFN0cmluZyBmYWN0b3J5TGF5b3V0UGF0aCA9\nIGdldEZhY3RvcnlMYXlvdXRQYXRoKG5ldyBTdHJpbmdCdWlsZGVyKCksIGNm\nZyk7CgogICAgICAgIGJ5dGVbXSBsYXlvdXREYXRhID0gVGV4dEZvcm1hdC5w\ncmludFRvU3RyaW5nKG1hbmFnZXJNZXRhKS5nZXRCeXRlcyhVVEZfOCk7CiAg\nICAgICAgWmtVdGlscy5jcmVhdGVGdWxsUGF0aE9wdGltaXN0aWMoemssIGZh\nY3RvcnlMYXlvdXRQYXRoLCBsYXlvdXREYXRhLAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgIElkcy5PUEVOX0FDTF9VTlNBRkUs\nIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7CiAgICB9CgogICAgQE92ZXJyaWRl\nCiAgICBwdWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgIHJldHVybiBt\nYW5hZ2VyTWV0YS5oYXNoQ29kZSgpOwogICAgfQoKICAgIEBPdmVycmlkZQog\nICAgcHVibGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvKSB7CiAgICAgICAg\naWYgKG51bGwgPT0gbyB8fAogICAgICAgICAgICAhKG8gaW5zdGFuY2VvZiBG\nYWN0b3J5TGF5b3V0KSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICAgICAgfQogICAgICAgIEZhY3RvcnlMYXlvdXQgb3RoZXIgPSAoRmFjdG9y\neUxheW91dClvOwogICAgICAgIHJldHVybiBtYW5hZ2VyTWV0YS5lcXVhbHMo\nb3RoZXIubWFuYWdlck1ldGEpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAg\ncHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICByZXR1cm4gVGV4\ndEZvcm1hdC5wcmludFRvU3RyaW5nKG1hbmFnZXJNZXRhKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFJlYWQgZmFjdG9yeSBsYXlvdXQgZnJvbSB6b29rZWVw\nZXIKICAgICAqCiAgICAgKiBAcGFyYW0gemsKICAgICAqICAgICAgICAgIFpv\nb0tlZXBlciBDbGllbnQKICAgICAqIEBwYXJhbSBjZmcKICAgICAqICAgICAg\nICAgIFNlcnZlciBjb25maWd1cmF0aW9uIG9iamVjdAogICAgICogQHJldHVy\nbiBGYWN0b3J5IGxheW91dCwgb3IgbnVsbCBpZiBub25lIHNldCBpbiB6b29r\nZWVwZXIKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBGYWN0b3J5TGF5b3V0\nIHJlYWRMYXlvdXQoZmluYWwgWm9vS2VlcGVyIHprLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWwgU2VydmVyQ29u\nZmlndXJhdGlvbiBjZmcpCiAgICB0aHJvd3MgSU9FeGNlcHRpb24sIEtlZXBl\nckV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIGZhY3RvcnlMYXlvdXRQYXRo\nID0gZ2V0RmFjdG9yeUxheW91dFBhdGgobmV3IFN0cmluZ0J1aWxkZXIoKSwg\nY2ZnKTsKICAgICAgICBieXRlW10gbGF5b3V0RGF0YTsKICAgICAgICB0cnkg\newogICAgICAgICAgICBsYXlvdXREYXRhID0gemsuZ2V0RGF0YShmYWN0b3J5\nTGF5b3V0UGF0aCwgZmFsc2UsIG51bGwpOwogICAgICAgIH0gY2F0Y2ggKEtl\nZXBlckV4Y2VwdGlvbi5Ob05vZGVFeGNlcHRpb24gbm5lKSB7CiAgICAgICAg\nICAgIHJldHVybiBudWxsOwogICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVk\nRXhjZXB0aW9uIGllKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBJT0V4Y2Vw\ndGlvbihpZSk7CiAgICAgICAgfQogICAgICAgIE1hbmFnZXJNZXRhIG1ldGE7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgQnVmZmVyZWRSZWFkZXIgcmVh\nZGVyID0gbmV3IEJ1ZmZlcmVkUmVhZGVyKAogICAgICAgICAgICAgICAgICAg\nIG5ldyBTdHJpbmdSZWFkZXIobmV3IFN0cmluZyhsYXlvdXREYXRhLCBVVEZf\nOCkpKTsKICAgICAgICAgICAgTWFuYWdlck1ldGEuQnVpbGRlciBtZXRhQnVp\nbGRlciA9IE1hbmFnZXJNZXRhLm5ld0J1aWxkZXIoKTsKICAgICAgICAgICAg\nVGV4dEZvcm1hdC5tZXJnZShyZWFkZXIsIG1ldGFCdWlsZGVyKTsKICAgICAg\nICAgICAgbWV0YSA9IG1ldGFCdWlsZGVyLmJ1aWxkKCk7CiAgICAgICAgfSBj\nYXRjaCAoSW52YWxpZFByb3RvY29sQnVmZmVyRXhjZXB0aW9uIGlwYmUpIHsK\nICAgICAgICAgICAgdGhyb3cgbmV3IElPRXhjZXB0aW9uKCJDb3JydXB0ZWQg\nZmFjdG9yeSBsYXlvdXQgOiAiLCBpcGJlKTsKICAgICAgICB9CgogICAgICAg\nIHJldHVybiBuZXcgRmFjdG9yeUxheW91dChtZXRhKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJlbW92ZSB0aGUgZmFjdG9yeSBsYXlvdXQgZnJvbSBab29L\nZWVwZXIuCiAgICAgKgogICAgICogQHBhcmFtIHprCiAgICAgKiAgICAgICAg\nICBab29LZWVwZXIgaW5zdGFuY2UKICAgICAqIEBwYXJhbSBjZmcKICAgICAq\nICAgICAgICAgIFNlcnZlciBjb25maWd1cmF0aW9uIG9iamVjdAogICAgICog\nQHRocm93cyBLZWVwZXJFeGNlcHRpb24KICAgICAqIEB0aHJvd3MgSW50ZXJy\ndXB0ZWRFeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyB2b2lk\nIGRlbGV0ZUxheW91dChab29LZWVwZXIgemssIFNlcnZlckNvbmZpZ3VyYXRp\nb24gY2ZnKQogICAgICAgICAgICB0aHJvd3MgS2VlcGVyRXhjZXB0aW9uLCBJ\nbnRlcnJ1cHRlZEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIGZhY3RvcnlM\nYXlvdXRQYXRoID0gZ2V0RmFjdG9yeUxheW91dFBhdGgobmV3IFN0cmluZ0J1\naWxkZXIoKSwgY2ZnKTsKICAgICAgICB6ay5kZWxldGUoZmFjdG9yeUxheW91\ndFBhdGgsIC0xKTsKICAgIH0KCn0K\n","encoding":"base64"}

