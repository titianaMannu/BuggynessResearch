{"sha":"e93ecae64810a8dd79adaac3f22a1e8f92d56b28","node_id":"MDQ6QmxvYjE1NzU5NTY6ZTkzZWNhZTY0ODEwYThkZDc5YWRhYWMzZjIyYTFlOGY5MmQ1NmIyOA==","size":18122,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/e93ecae64810a8dd79adaac3f22a1e8f92d56b28","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQubmV0dHk7CgppbXBvcnQg\namF2YS51dGlsLmNvbmN1cnJlbnQuQ291bnREb3duTGF0Y2g7CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5UaW1lVW5pdDsKCmltcG9ydCBvcmcuanVu\naXQuQWZ0ZXI7CmltcG9ydCBvcmcuanVuaXQuQmVmb3JlOwppbXBvcnQgb3Jn\nLmp1bml0LlRlc3Q7CgppbXBvcnQgY29tLmdvb2dsZS5wcm90b2J1Zi5CeXRl\nU3RyaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuY2xpZW50LmFwaS5N\nZXNzYWdlSGFuZGxlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNsaWVu\ndC5IZWR3aWdDbGllbnQ7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGll\nbnQuYXBpLlB1Ymxpc2hlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmNs\naWVudC5hcGkuU3Vic2NyaWJlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2ln\nLnByb3RvY29sLlB1YlN1YlByb3RvY29sLk1lc3NhZ2U7CmltcG9ydCBvcmcu\nYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5NZXNzYWdl\nU2VxSWQ7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJT\ndWJQcm90b2NvbC5TdWJzY3JpYmVSZXF1ZXN0LkNyZWF0ZU9yQXR0YWNoOwpp\nbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9j\nb2wuU3Vic2NyaXB0aW9uT3B0aW9uczsKaW1wb3J0IG9yZy5hcGFjaGUuaGVk\nd2lnLnNlcnZlci5IZWR3aWdIdWJUZXN0QmFzZTsKaW1wb3J0IG9yZy5hcGFj\naGUuaGVkd2lnLnNlcnZlci5jb21tb24uU2VydmVyQ29uZmlndXJhdGlvbjsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuQ2FsbGJhY2s7CgppbXBv\ncnQgc3RhdGljIG9yZy5qdW5pdC5Bc3NlcnQuKjsKCnB1YmxpYyBjbGFzcyBU\nZXN0TXVsdGlwbGV4aW5nIGV4dGVuZHMgSGVkd2lnSHViVGVzdEJhc2UgewoK\nICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGludCBERUZBVUxUX01TR19XSU5E\nT1dfU0laRSA9IDEwOwoKICAgIHByb3RlY3RlZCBjbGFzcyBUZXN0U2VydmVy\nQ29uZmlndXJhdGlvbiBleHRlbmRzIEh1YlNlcnZlckNvbmZpZ3VyYXRpb24g\newogICAgICAgIFRlc3RTZXJ2ZXJDb25maWd1cmF0aW9uKGludCBzZXJ2ZXJQ\nb3J0LCBpbnQgc3NsU2VydmVyUG9ydCkgewogICAgICAgICAgICBzdXBlcihz\nZXJ2ZXJQb3J0LCBzc2xTZXJ2ZXJQb3J0KTsKICAgICAgICB9CiAgICAgICAg\nQE92ZXJyaWRlCiAgICAgICAgcHVibGljIGludCBnZXREZWZhdWx0TWVzc2Fn\nZVdpbmRvd1NpemUoKSB7CiAgICAgICAgICAgIHJldHVybiBERUZBVUxUX01T\nR19XSU5ET1dfU0laRTsKICAgICAgICB9CiAgICB9CgogICAgY2xhc3MgVGVz\ndE1lc3NhZ2VIYW5kbGVyIGltcGxlbWVudHMgTWVzc2FnZUhhbmRsZXIgewoK\nICAgICAgICBpbnQgZXhwZWN0ZWQ7CiAgICAgICAgZmluYWwgaW50IG51bU1z\nZ3NBdEZpcnN0UnVuOwogICAgICAgIGZpbmFsIGludCBudW1Nc2dzQXRTZWNv\nbmRSdW47CiAgICAgICAgZmluYWwgQ291bnREb3duTGF0Y2ggZmlyc3RMYXRj\naDsKICAgICAgICBmaW5hbCBDb3VudERvd25MYXRjaCBzZWNvbmRMYXRjaDsK\nICAgICAgICBmaW5hbCBib29sZWFuIHJlY2VpdmVTZWNvbmRSdW47CgogICAg\nICAgIHB1YmxpYyBUZXN0TWVzc2FnZUhhbmRsZXIoaW50IHN0YXJ0LCBpbnQg\nbnVtTXNnc0F0Rmlyc3RSdW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICBib29sZWFuIHJlY2VpdmVTZWNvbmRSdW4sCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICBpbnQgbnVtTXNnc0F0U2Vjb25kUnVu\nKSB7CiAgICAgICAgICAgIGV4cGVjdGVkID0gc3RhcnQ7CiAgICAgICAgICAg\nIHRoaXMubnVtTXNnc0F0Rmlyc3RSdW4gPSBudW1Nc2dzQXRGaXJzdFJ1bjsK\nICAgICAgICAgICAgdGhpcy5udW1Nc2dzQXRTZWNvbmRSdW4gPSBudW1Nc2dz\nQXRTZWNvbmRSdW47CiAgICAgICAgICAgIHRoaXMucmVjZWl2ZVNlY29uZFJ1\nbiA9IHJlY2VpdmVTZWNvbmRSdW47CiAgICAgICAgICAgIGZpcnN0TGF0Y2gg\nPSBuZXcgQ291bnREb3duTGF0Y2goMSk7CiAgICAgICAgICAgIHNlY29uZExh\ndGNoID0gbmV3IENvdW50RG93bkxhdGNoKDEpOwogICAgICAgIH0KCiAgICAg\nICAgQE92ZXJyaWRlCiAgICAgICAgcHVibGljIHN5bmNocm9uaXplZCB2b2lk\nIGRlbGl2ZXIoQnl0ZVN0cmluZyB0b3BpYywgQnl0ZVN0cmluZyBzdWJzY3Jp\nYmVySWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgTWVzc2FnZSBtc2csCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgQ2FsbGJhY2s8Vm9pZD4gY2FsbGJhY2ssIE9iamVjdCBj\nb250ZXh0KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBp\nbnQgdmFsdWUgPSBJbnRlZ2VyLnZhbHVlT2YobXNnLmdldEJvZHkoKS50b1N0\ncmluZ1V0ZjgoKSk7CiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoIlJl\nY2VpdmVkIG1lc3NhZ2Uge30uIiwgdmFsdWUpOwoKICAgICAgICAgICAgICAg\nIGlmICh2YWx1ZSA9PSBleHBlY3RlZCkgewogICAgICAgICAgICAgICAgICAg\nICsrZXhwZWN0ZWQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAg\nICAgICAgICAgICAgIC8vIGVycm9yIGNvbmRpdGlvbgogICAgICAgICAgICAg\nICAgICAgIGxvZ2dlci5lcnJvcigiRGlkIG5vdCByZWNlaXZlIGV4cGVjdGVk\nIHZhbHVlLCBleHBlY3RlZCB7fSwgZ290IHt9IiwKICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQsIHZhbHVlKTsKICAgICAgICAg\nICAgICAgICAgICBleHBlY3RlZCA9IDA7CiAgICAgICAgICAgICAgICAgICAg\nZmlyc3RMYXRjaC5jb3VudERvd24oKTsKICAgICAgICAgICAgICAgICAgICBz\nZWNvbmRMYXRjaC5jb3VudERvd24oKTsKICAgICAgICAgICAgICAgIH0KICAg\nICAgICAgICAgICAgIGlmIChudW1Nc2dzQXRGaXJzdFJ1biArIDEgPT0gZXhw\nZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBmaXJzdExhdGNoLmNvdW50\nRG93bigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYg\nKHJlY2VpdmVTZWNvbmRSdW4pIHsKICAgICAgICAgICAgICAgICAgICBpZiAo\nbnVtTXNnc0F0Rmlyc3RSdW4gKyBudW1Nc2dzQXRTZWNvbmRSdW4gKyAxID09\nIGV4cGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZExh\ndGNoLmNvdW50RG93bigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAg\nICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG51\nbU1zZ3NBdEZpcnN0UnVuICsgMSA8IGV4cGVjdGVkKSB7CiAgICAgICAgICAg\nICAgICAgICAgICAgIHNlY29uZExhdGNoLmNvdW50RG93bigpOwogICAgICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nICAgIGNhbGxiYWNrLm9wZXJhdGlvbkZpbmlzaGVkKGNvbnRleHQsIG51bGwp\nOwogICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb25zdW1lKHRvcGljLCBz\ndWJzY3JpYmVySWQsIG1zZy5nZXRNc2dJZCgpKTsKICAgICAgICAgICAgfSBj\nYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgICAgIGxvZ2dlci5l\ncnJvcigiUmVjZWl2ZWQgYmFkIG1lc3NhZ2UuIiwgdCk7CiAgICAgICAgICAg\nICAgICBmaXJzdExhdGNoLmNvdW50RG93bigpOwogICAgICAgICAgICAgICAg\nc2Vjb25kTGF0Y2guY291bnREb3duKCk7CiAgICAgICAgICAgIH0KICAgICAg\nICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGNoZWNrRmlyc3RSdW4oKSB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICAgICAgYXNzZXJ0VHJ1ZSgiVGltZWQg\nb3V0IHdhaXRpbmcgZm9yIG1lc3NhZ2VzICIgKyAobnVtTXNnc0F0Rmlyc3RS\ndW4gKyAxKSwKICAgICAgICAgICAgICAgICAgICAgICBmaXJzdExhdGNoLmF3\nYWl0KDEwLCBUaW1lVW5pdC5TRUNPTkRTKSk7CiAgICAgICAgICAgIGFzc2Vy\ndEVxdWFscygiU2hvdWxkIGJlIGV4cGVjdGVkIG1lc3NhZ2VzIHdpdGggIiAr\nIChudW1Nc2dzQXRGaXJzdFJ1biArIDEpLAogICAgICAgICAgICAgICAgICAg\nICAgICAgbnVtTXNnc0F0Rmlyc3RSdW4gKyAxLCBleHBlY3RlZCk7CiAgICAg\nICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBjaGVja1NlY29uZFJ1bigpIHRo\ncm93cyBFeGNlcHRpb24gewogICAgICAgICAgICBpZiAocmVjZWl2ZVNlY29u\nZFJ1bikgewogICAgICAgICAgICAgICAgYXNzZXJ0VHJ1ZSgiVGltZWQgb3V0\nIHdhaXRpbmcgZm9yIG1lc3NhZ2VzICIKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgKyAobnVtTXNnc0F0Rmlyc3RSdW4gKyBudW1Nc2dzQXRTZWNvbmRS\ndW4gKyAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kTGF0\nY2guYXdhaXQoMTAsIFRpbWVVbml0LlNFQ09ORFMpKTsKICAgICAgICAgICAg\nICAgIGFzc2VydEVxdWFscygiU2hvdWxkIGJlIGV4cGVjdGVkIG1lc3NhZ2Vz\nIHdpdGggIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKG51bU1z\nZ3NBdEZpcnN0UnVuICsgbnVtTXNnc0F0U2Vjb25kUnVuICsgMSksCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgbnVtTXNnc0F0Rmlyc3RSdW4gKyBu\ndW1Nc2dzQXRTZWNvbmRSdW4gKyAxLCBleHBlY3RlZCk7CiAgICAgICAgICAg\nIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhc3NlcnRGYWxzZSgiUmVjZWl2\nZSBtb3JlIG1lc3NhZ2VzIHRoYW4gIiArIG51bU1zZ3NBdEZpcnN0UnVuLAog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kTGF0Y2guYXdhaXQo\nMywgVGltZVVuaXQuU0VDT05EUykpOwogICAgICAgICAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJTaG91bGQgYmUgZXhwZWN0ZWQgbWVzc2FnZXMgd2l0aCBvbnkg\nIiArIChudW1Nc2dzQXRGaXJzdFJ1biArIDEpLAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIG51bU1zZ3NBdEZpcnN0UnVuICsgMSwgZXhwZWN0ZWQp\nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGNsYXNzIFRo\ncm90dGxlTWVzc2FnZUhhbmRsZXIgaW1wbGVtZW50cyBNZXNzYWdlSGFuZGxl\nciB7CgogICAgICAgIGludCBleHBlY3RlZDsKICAgICAgICBmaW5hbCBpbnQg\nbnVtTXNnczsKICAgICAgICBmaW5hbCBpbnQgbnVtTXNnc1Rocm90dGxlOwog\nICAgICAgIGZpbmFsIENvdW50RG93bkxhdGNoIHRocm90dGxlTGF0Y2g7CiAg\nICAgICAgZmluYWwgQ291bnREb3duTGF0Y2ggbm9uVGhyb3R0bGVMYXRjaDsK\nICAgICAgICBmaW5hbCBib29sZWFuIGVuYWJsZVRocm90dGxlOwoKICAgICAg\nICBwdWJsaWMgVGhyb3R0bGVNZXNzYWdlSGFuZGxlcihpbnQgc3RhcnQsIGlu\ndCBudW1Nc2dzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIGJvb2xlYW4gZW5hYmxlVGhyb3R0bGUsCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgaW50IG51bU1zZ3NUaHJvdHRsZSkgewog\nICAgICAgICAgICBleHBlY3RlZCA9IHN0YXJ0OwogICAgICAgICAgICB0aGlz\nLm51bU1zZ3MgPSBudW1Nc2dzOwogICAgICAgICAgICB0aGlzLmVuYWJsZVRo\ncm90dGxlID0gZW5hYmxlVGhyb3R0bGU7CiAgICAgICAgICAgIHRoaXMubnVt\nTXNnc1Rocm90dGxlID0gbnVtTXNnc1Rocm90dGxlOwogICAgICAgICAgICB0\naHJvdHRsZUxhdGNoID0gbmV3IENvdW50RG93bkxhdGNoKDEpOwogICAgICAg\nICAgICBub25UaHJvdHRsZUxhdGNoID0gbmV3IENvdW50RG93bkxhdGNoKDEp\nOwogICAgICAgIH0KCiAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgcHVibGlj\nIHN5bmNocm9uaXplZCB2b2lkIGRlbGl2ZXIoQnl0ZVN0cmluZyB0b3BpYywg\nQnl0ZVN0cmluZyBzdWJzY3JpYmVySWQsCiAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgTWVzc2FnZSBtc2csCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FsbGJhY2s8Vm9pZD4g\nY2FsbGJhY2ssIE9iamVjdCBjb250ZXh0KSB7CiAgICAgICAgICAgIHRyeSB7\nCiAgICAgICAgICAgICAgICBpbnQgdmFsdWUgPSBJbnRlZ2VyLnZhbHVlT2Yo\nbXNnLmdldEJvZHkoKS50b1N0cmluZ1V0ZjgoKSk7CiAgICAgICAgICAgICAg\nICBsb2dnZXIuZGVidWcoIlJlY2VpdmVkIG1lc3NhZ2Uge30uIiwgdmFsdWUp\nOwoKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBleHBlY3RlZCkgewog\nICAgICAgICAgICAgICAgICAgICsrZXhwZWN0ZWQ7CiAgICAgICAgICAgICAg\nICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIGVycm9yIGNvbmRp\ndGlvbgogICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcigiRGlkIG5v\ndCByZWNlaXZlIGV4cGVjdGVkIHZhbHVlLCBleHBlY3RlZCB7fSwgZ290IHt9\nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQs\nIHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBleHBlY3RlZCA9IDA7CiAg\nICAgICAgICAgICAgICAgICAgdGhyb3R0bGVMYXRjaC5jb3VudERvd24oKTsK\nICAgICAgICAgICAgICAgICAgICBub25UaHJvdHRsZUxhdGNoLmNvdW50RG93\nbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGV4\ncGVjdGVkID09IG51bU1zZ3NUaHJvdHRsZSArIDIpIHsKICAgICAgICAgICAg\nICAgICAgICB0aHJvdHRsZUxhdGNoLmNvdW50RG93bigpOwogICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkID09IG51bU1z\nZ3MgKyAxKSB7CiAgICAgICAgICAgICAgICAgICAgbm9uVGhyb3R0bGVMYXRj\naC5jb3VudERvd24oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nICAgIGNhbGxiYWNrLm9wZXJhdGlvbkZpbmlzaGVkKGNvbnRleHQsIG51bGwp\nOwogICAgICAgICAgICAgICAgaWYgKGVuYWJsZVRocm90dGxlKSB7CiAgICAg\nICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkID4gbnVtTXNnc1Rocm90dGxl\nICsgMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNv\nbnN1bWUodG9waWMsIHN1YnNjcmliZXJJZCwgbXNnLmdldE1zZ0lkKCkpOwog\nICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7\nCiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb25zdW1lKHRvcGlj\nLCBzdWJzY3JpYmVySWQsIG1zZy5nZXRNc2dJZCgpKTsKICAgICAgICAgICAg\nICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAg\nICAgICAgICAgICAgIGxvZ2dlci5lcnJvcigiUmVjZWl2ZWQgYmFkIG1lc3Nh\nZ2UuIiwgdCk7CiAgICAgICAgICAgICAgICB0aHJvdHRsZUxhdGNoLmNvdW50\nRG93bigpOwogICAgICAgICAgICAgICAgbm9uVGhyb3R0bGVMYXRjaC5jb3Vu\ndERvd24oKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHVi\nbGljIHZvaWQgY2hlY2tUaHJvdHRsZSgpIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgICAgICBpZiAoZW5hYmxlVGhyb3R0bGUpIHsKICAgICAgICAgICAg\nICAgIGFzc2VydEZhbHNlKCJSZWNlaXZlZCBtb3JlIG1lc3NhZ2VzIHRoYW4g\ndGhyb3R0bGUgdmFsdWUgIiArIG51bU1zZ3NUaHJvdHRsZSwKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIHRocm90dGxlTGF0Y2guYXdhaXQoMywgVGlt\nZVVuaXQuU0VDT05EUykpOwogICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJTaG91bGQgYmUgZXhwZWN0ZWQgbWVzc2FnZXMgd2l0aCBvbmx5ICIgKyAo\nbnVtTXNnc1Rocm90dGxlICsgMSksCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgbnVtTXNnc1Rocm90dGxlICsgMSwgZXhwZWN0ZWQpOwogICAgICAg\nICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYXNzZXJ0VHJ1ZSgiU2hv\ndWxkIG5vdCBiZSB0aHJvdHRsZWQuIiwgdGhyb3R0bGVMYXRjaC5hd2FpdCgx\nMCwgVGltZVVuaXQuU0VDT05EUykpOwogICAgICAgICAgICAgICAgYXNzZXJ0\nVHJ1ZSgiVGltZWQgb3V0IHdhaXRpbmcgZm9yIG1lc3NhZ2VzICIgKyAobnVt\nTXNncyArIDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICBub25UaHJv\ndHRsZUxhdGNoLmF3YWl0KDEwLCBUaW1lVW5pdC5TRUNPTkRTKSk7CiAgICAg\nICAgICAgICAgICBhc3NlcnRFcXVhbHMoIlNob3VsZCBiZSBleHBlY3RlZCBt\nZXNzYWdlcyB3aXRoICIgKyAobnVtTXNncyArIDEpLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIG51bU1zZ3MgKyAxLCBleHBlY3RlZCk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGNoZWNr\nQWZ0ZXJUaHJvdHRsZSgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgICAg\nICBpZiAoZW5hYmxlVGhyb3R0bGUpIHsKICAgICAgICAgICAgICAgIGFzc2Vy\ndFRydWUoIlRpbWVkIG91dCB3YWl0aW5nIGZvciBtZXNzYWdlcyAiICsgKG51\nbU1zZ3MgKyAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9uVGhy\nb3R0bGVMYXRjaC5hd2FpdCgxMCwgVGltZVVuaXQuU0VDT05EUykpOwogICAg\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJTaG91bGQgYmUgZXhwZWN0ZWQg\nbWVzc2FnZXMgd2l0aCAiICsgKG51bU1zZ3MgKyAxKSwKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBudW1Nc2dzICsgMSwgZXhwZWN0ZWQpOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEhlZHdpZ0NsaWVudCBj\nbGllbnQ7CiAgICBQdWJsaXNoZXIgcHVibGlzaGVyOwogICAgU3Vic2NyaWJl\nciBzdWJzY3JpYmVyOwoKICAgIEBPdmVycmlkZQogICAgQEJlZm9yZQogICAg\ncHVibGljIHZvaWQgc2V0VXAoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAg\nICBzdXBlci5zZXRVcCgpOwogICAgICAgIGNsaWVudCA9IG5ldyBIZWR3aWdD\nbGllbnQobmV3IEh1YkNsaWVudENvbmZpZ3VyYXRpb24oKSB7CiAgICAgICAg\nICAgIEBPdmVycmlkZQogICAgICAgICAgICBwdWJsaWMgYm9vbGVhbiBpc1N1\nYnNjcmlwdGlvbkNoYW5uZWxTaGFyaW5nRW5hYmxlZCgpIHsKICAgICAgICAg\nICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAg\nIEBPdmVycmlkZQogICAgICAgICAgICBwdWJsaWMgYm9vbGVhbiBpc0F1dG9T\nZW5kQ29uc3VtZU1lc3NhZ2VFbmFibGVkKCkgewogICAgICAgICAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAg\nICAgcHVibGlzaGVyID0gY2xpZW50LmdldFB1Ymxpc2hlcigpOwogICAgICAg\nIHN1YnNjcmliZXIgPSBjbGllbnQuZ2V0U3Vic2NyaWJlcigpOwogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgQEFmdGVyCiAgICBwdWJsaWMgdm9pZCB0ZWFy\nRG93bigpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGNsaWVudC5jbG9z\nZSgpOwogICAgICAgIHN1cGVyLnRlYXJEb3duKCk7CiAgICB9CgogICAgQE92\nZXJyaWRlCiAgICBwcm90ZWN0ZWQgU2VydmVyQ29uZmlndXJhdGlvbiBnZXRT\nZXJ2ZXJDb25maWd1cmF0aW9uKGludCBwb3J0LCBpbnQgc3NsUG9ydCkgewog\nICAgICAgIHJldHVybiBuZXcgVGVzdFNlcnZlckNvbmZpZ3VyYXRpb24ocG9y\ndCwgc3NsUG9ydCk7CiAgICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkK\nICAgIHB1YmxpYyB2b2lkIHRlc3RTdG9wRGVsaXZlcnkoKSB0aHJvd3MgRXhj\nZXB0aW9uIHsKICAgICAgICBCeXRlU3RyaW5nIHRvcGljMSA9IEJ5dGVTdHJp\nbmcuY29weUZyb21VdGY4KCJ0ZXN0U3RvcERlbGl2ZXJ5LTEiKTsKICAgICAg\nICBCeXRlU3RyaW5nIHRvcGljMiA9IEJ5dGVTdHJpbmcuY29weUZyb21VdGY4\nKCJ0ZXN0U3RvcERlbGl2ZXJ5LTIiKTsKICAgICAgICBCeXRlU3RyaW5nIHN1\nYmlkMSA9IEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJteXN1YmlkLTEiKTsK\nICAgICAgICBCeXRlU3RyaW5nIHN1YmlkMiA9IEJ5dGVTdHJpbmcuY29weUZy\nb21VdGY4KCJteXN1YmlkLTIiKTsKCiAgICAgICAgZmluYWwgaW50IFggPSAy\nMDsKCiAgICAgICAgVGVzdE1lc3NhZ2VIYW5kbGVyIGNzSGFuZGxlcjExID0K\nICAgICAgICAgICAgbmV3IFRlc3RNZXNzYWdlSGFuZGxlcigxLCBYLCB0cnVl\nLCBYKTsKICAgICAgICBUZXN0TWVzc2FnZUhhbmRsZXIgY3NIYW5kbGVyMTIg\nPQogICAgICAgICAgICBuZXcgVGVzdE1lc3NhZ2VIYW5kbGVyKDEsIFgsIGZh\nbHNlLCAwKTsKICAgICAgICBUZXN0TWVzc2FnZUhhbmRsZXIgY3NIYW5kbGVy\nMjEgPQogICAgICAgICAgICBuZXcgVGVzdE1lc3NhZ2VIYW5kbGVyKDEsIFgs\nIGZhbHNlLCAwKTsKICAgICAgICBUZXN0TWVzc2FnZUhhbmRsZXIgY3NIYW5k\nbGVyMjIgPQogICAgICAgICAgICBuZXcgVGVzdE1lc3NhZ2VIYW5kbGVyKDEs\nIFgsIHRydWUsIFgpOwoKICAgICAgICBTdWJzY3JpcHRpb25PcHRpb25zIG9w\ndHMgPSBTdWJzY3JpcHRpb25PcHRpb25zLm5ld0J1aWxkZXIoKQogICAgICAg\nICAgICAuc2V0Q3JlYXRlT3JBdHRhY2goQ3JlYXRlT3JBdHRhY2guQ1JFQVRF\nKS5idWlsZCgpOwoKICAgICAgICBzdWJzY3JpYmVyLnN1YnNjcmliZSh0b3Bp\nYzEsIHN1YmlkMSwgb3B0cyk7CiAgICAgICAgc3Vic2NyaWJlci5zdWJzY3Jp\nYmUodG9waWMxLCBzdWJpZDIsIG9wdHMpOwogICAgICAgIHN1YnNjcmliZXIu\nc3Vic2NyaWJlKHRvcGljMiwgc3ViaWQxLCBvcHRzKTsKICAgICAgICBzdWJz\nY3JpYmVyLnN1YnNjcmliZSh0b3BpYzIsIHN1YmlkMiwgb3B0cyk7CgogICAg\nICAgIC8vIHN0YXJ0IGRlbGl2ZXJpZXMKICAgICAgICBzdWJzY3JpYmVyLnN0\nYXJ0RGVsaXZlcnkodG9waWMxLCBzdWJpZDEsIGNzSGFuZGxlcjExKTsKICAg\nICAgICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZlcnkodG9waWMxLCBzdWJpZDIs\nIGNzSGFuZGxlcjEyKTsKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZl\ncnkodG9waWMyLCBzdWJpZDEsIGNzSGFuZGxlcjIxKTsKICAgICAgICBzdWJz\nY3JpYmVyLnN0YXJ0RGVsaXZlcnkodG9waWMyLCBzdWJpZDIsIGNzSGFuZGxl\ncjIyKTsKCiAgICAgICAgLy8gZmlyc3QgcHVibGlzaAogICAgICAgIGZvciAo\naW50IGkgPSAxOyBpPD1YOyBpKyspIHsKICAgICAgICAgICAgcHVibGlzaGVy\nLnB1Ymxpc2godG9waWMxLCBNZXNzYWdlLm5ld0J1aWxkZXIoKS5zZXRCb2R5\nKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ5dGVT\ndHJpbmcuY29weUZyb21VdGY4KFN0cmluZy52YWx1ZU9mKGkpKSkuYnVpbGQo\nKSk7CiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKHRvcGljMiwgTWVz\nc2FnZS5uZXdCdWlsZGVyKCkuc2V0Qm9keSgKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOChT\ndHJpbmcudmFsdWVPZihpKSkpLmJ1aWxkKCkpOwogICAgICAgIH0KCiAgICAg\nICAgY3NIYW5kbGVyMTEuY2hlY2tGaXJzdFJ1bigpOwogICAgICAgIGNzSGFu\nZGxlcjEyLmNoZWNrRmlyc3RSdW4oKTsKICAgICAgICBjc0hhbmRsZXIyMS5j\naGVja0ZpcnN0UnVuKCk7CiAgICAgICAgY3NIYW5kbGVyMjIuY2hlY2tGaXJz\ndFJ1bigpOwoKICAgICAgICAvLyBzdG9wIGRlbGl2ZXJ5IGZvciA8dG9waWMx\nLCBzdWJzY3JpYmVyMj4gYW5kIDx0b3BpYzIsIHN1YnNjcmliZXIxPgogICAg\nICAgIHN1YnNjcmliZXIuc3RvcERlbGl2ZXJ5KHRvcGljMSwgc3ViaWQyKTsK\nICAgICAgICBzdWJzY3JpYmVyLnN0b3BEZWxpdmVyeSh0b3BpYzIsIHN1Ymlk\nMSk7CgogICAgICAgIC8vIHNlY29uZCBwdWJsaXNoCiAgICAgICAgZm9yIChp\nbnQgaSA9IFgrMTsgaTw9MipYOyBpKyspIHsKICAgICAgICAgICAgcHVibGlz\naGVyLnB1Ymxpc2godG9waWMxLCBNZXNzYWdlLm5ld0J1aWxkZXIoKS5zZXRC\nb2R5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ5\ndGVTdHJpbmcuY29weUZyb21VdGY4KFN0cmluZy52YWx1ZU9mKGkpKSkuYnVp\nbGQoKSk7CiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKHRvcGljMiwg\nTWVzc2FnZS5uZXdCdWlsZGVyKCkuc2V0Qm9keSgKICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICBCeXRlU3RyaW5nLmNvcHlGcm9tVXRm\nOChTdHJpbmcudmFsdWVPZihpKSkpLmJ1aWxkKCkpOwogICAgICAgIH0KCiAg\nICAgICAgY3NIYW5kbGVyMTEuY2hlY2tTZWNvbmRSdW4oKTsKICAgICAgICBj\nc0hhbmRsZXIyMi5jaGVja1NlY29uZFJ1bigpOwogICAgICAgIGNzSGFuZGxl\ncjEyLmNoZWNrU2Vjb25kUnVuKCk7CiAgICAgICAgY3NIYW5kbGVyMjEuY2hl\nY2tTZWNvbmRSdW4oKTsKICAgIH0KCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAw\nKQogICAgcHVibGljIHZvaWQgdGVzdENsb3NlU3Vic2NyaXB0aW9uKCkgdGhy\nb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgQnl0ZVN0cmluZyB0b3BpYzEgPSBC\neXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgidGVzdENsb3NlU3Vic2NyaXB0aW9u\nLTEiKTsKICAgICAgICBCeXRlU3RyaW5nIHRvcGljMiA9IEJ5dGVTdHJpbmcu\nY29weUZyb21VdGY4KCJ0ZXN0Q2xvc2VTdWJzY3JpcHRpb24tMiIpOwogICAg\nICAgIEJ5dGVTdHJpbmcgc3ViaWQxID0gQnl0ZVN0cmluZy5jb3B5RnJvbVV0\nZjgoIm15c3ViaWQtMSIpOwogICAgICAgIEJ5dGVTdHJpbmcgc3ViaWQyID0g\nQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoIm15c3ViaWQtMiIpOwoKICAgICAg\nICBmaW5hbCBpbnQgWCA9IDIwOwoKICAgICAgICBUZXN0TWVzc2FnZUhhbmRs\nZXIgY3NIYW5kbGVyMTEgPQogICAgICAgICAgICBuZXcgVGVzdE1lc3NhZ2VI\nYW5kbGVyKDEsIFgsIHRydWUsIFgpOwogICAgICAgIFRlc3RNZXNzYWdlSGFu\nZGxlciBjc0hhbmRsZXIxMiA9CiAgICAgICAgICAgIG5ldyBUZXN0TWVzc2Fn\nZUhhbmRsZXIoMSwgWCwgZmFsc2UsIDApOwogICAgICAgIFRlc3RNZXNzYWdl\nSGFuZGxlciBjc0hhbmRsZXIyMSA9CiAgICAgICAgICAgIG5ldyBUZXN0TWVz\nc2FnZUhhbmRsZXIoMSwgWCwgZmFsc2UsIDApOwogICAgICAgIFRlc3RNZXNz\nYWdlSGFuZGxlciBjc0hhbmRsZXIyMiA9CiAgICAgICAgICAgIG5ldyBUZXN0\nTWVzc2FnZUhhbmRsZXIoMSwgWCwgdHJ1ZSwgWCk7CgogICAgICAgIFN1YnNj\ncmlwdGlvbk9wdGlvbnMgb3B0cyA9IFN1YnNjcmlwdGlvbk9wdGlvbnMubmV3\nQnVpbGRlcigpCiAgICAgICAgICAgIC5zZXRDcmVhdGVPckF0dGFjaChDcmVh\ndGVPckF0dGFjaC5DUkVBVEUpLmJ1aWxkKCk7CiAgICAgICAgc3Vic2NyaWJl\nci5zdWJzY3JpYmUodG9waWMxLCBzdWJpZDEsIG9wdHMpOwogICAgICAgIHN1\nYnNjcmliZXIuc3Vic2NyaWJlKHRvcGljMSwgc3ViaWQyLCBvcHRzKTsKICAg\nICAgICBzdWJzY3JpYmVyLnN1YnNjcmliZSh0b3BpYzIsIHN1YmlkMSwgb3B0\ncyk7CiAgICAgICAgc3Vic2NyaWJlci5zdWJzY3JpYmUodG9waWMyLCBzdWJp\nZDIsIG9wdHMpOwoKICAgICAgICAvLyBzdGFydCBkZWxpdmVyaWVzCiAgICAg\nICAgc3Vic2NyaWJlci5zdGFydERlbGl2ZXJ5KHRvcGljMSwgc3ViaWQxLCBj\nc0hhbmRsZXIxMSk7CiAgICAgICAgc3Vic2NyaWJlci5zdGFydERlbGl2ZXJ5\nKHRvcGljMSwgc3ViaWQyLCBjc0hhbmRsZXIxMik7CiAgICAgICAgc3Vic2Ny\naWJlci5zdGFydERlbGl2ZXJ5KHRvcGljMiwgc3ViaWQxLCBjc0hhbmRsZXIy\nMSk7CiAgICAgICAgc3Vic2NyaWJlci5zdGFydERlbGl2ZXJ5KHRvcGljMiwg\nc3ViaWQyLCBjc0hhbmRsZXIyMik7CgogICAgICAgIC8vIGZpcnN0IHB1Ymxp\nc2gKICAgICAgICBmb3IgKGludCBpID0gMTsgaTw9WDsgaSsrKSB7CiAgICAg\nICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKHRvcGljMSwgTWVzc2FnZS5uZXdC\ndWlsZGVyKCkuc2V0Qm9keSgKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOChTdHJpbmcudmFs\ndWVPZihpKSkpLmJ1aWxkKCkpOwogICAgICAgICAgICBwdWJsaXNoZXIucHVi\nbGlzaCh0b3BpYzIsIE1lc3NhZ2UubmV3QnVpbGRlcigpLnNldEJvZHkoCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnl0ZVN0cmlu\nZy5jb3B5RnJvbVV0ZjgoU3RyaW5nLnZhbHVlT2YoaSkpKS5idWlsZCgpKTsK\nICAgICAgICB9CgogICAgICAgIGNzSGFuZGxlcjExLmNoZWNrRmlyc3RSdW4o\nKTsKICAgICAgICBjc0hhbmRsZXIxMi5jaGVja0ZpcnN0UnVuKCk7CiAgICAg\nICAgY3NIYW5kbGVyMjEuY2hlY2tGaXJzdFJ1bigpOwogICAgICAgIGNzSGFu\nZGxlcjIyLmNoZWNrRmlyc3RSdW4oKTsKCiAgICAgICAgLy8gY2xvc2Ugc3Vi\nc2NyaXB0aW9uIGZvciA8dG9waWMxLCBzdWJzY3JpYmVyMj4gYW5kIDx0b3Bp\nYzIsIHN1YnNjcmliZXIxPgogICAgICAgIHN1YnNjcmliZXIuY2xvc2VTdWJz\nY3JpcHRpb24odG9waWMxLCBzdWJpZDIpOwogICAgICAgIHN1YnNjcmliZXIu\nY2xvc2VTdWJzY3JpcHRpb24odG9waWMyLCBzdWJpZDEpOwoKICAgICAgICAv\nLyBzZWNvbmQgcHVibGlzaAogICAgICAgIGZvciAoaW50IGkgPSBYKzE7IGk8\nPTIqWDsgaSsrKSB7CiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKHRv\ncGljMSwgTWVzc2FnZS5uZXdCdWlsZGVyKCkuc2V0Qm9keSgKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeXRlU3RyaW5nLmNvcHlG\ncm9tVXRmOChTdHJpbmcudmFsdWVPZihpKSkpLmJ1aWxkKCkpOwogICAgICAg\nICAgICBwdWJsaXNoZXIucHVibGlzaCh0b3BpYzIsIE1lc3NhZ2UubmV3QnVp\nbGRlcigpLnNldEJvZHkoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgQnl0ZVN0cmluZy5jb3B5RnJvbVV0ZjgoU3RyaW5nLnZhbHVl\nT2YoaSkpKS5idWlsZCgpKTsKICAgICAgICB9CgogICAgICAgIGNzSGFuZGxl\ncjExLmNoZWNrU2Vjb25kUnVuKCk7CiAgICAgICAgY3NIYW5kbGVyMjIuY2hl\nY2tTZWNvbmRSdW4oKTsKICAgICAgICBjc0hhbmRsZXIxMi5jaGVja1NlY29u\nZFJ1bigpOwogICAgICAgIGNzSGFuZGxlcjIxLmNoZWNrU2Vjb25kUnVuKCk7\nCiAgICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2\nb2lkIHRlc3RUaHJvdHRsZSgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAg\nIEJ5dGVTdHJpbmcgdG9waWMxID0gQnl0ZVN0cmluZy5jb3B5RnJvbVV0Zjgo\nInRlc3RUaHJvdHRsZS0xIik7CiAgICAgICAgQnl0ZVN0cmluZyB0b3BpYzIg\nPSBCeXRlU3RyaW5nLmNvcHlGcm9tVXRmOCgidGVzdFRocm90dGxlLTIiKTsK\nICAgICAgICBCeXRlU3RyaW5nIHN1YmlkMSA9IEJ5dGVTdHJpbmcuY29weUZy\nb21VdGY4KCJteXN1YmlkLTEiKTsKICAgICAgICBCeXRlU3RyaW5nIHN1Ymlk\nMiA9IEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJteXN1YmlkLTIiKTsKCiAg\nICAgICAgZmluYWwgaW50IFggPSBERUZBVUxUX01TR19XSU5ET1dfU0laRTsK\nCiAgICAgICAgVGhyb3R0bGVNZXNzYWdlSGFuZGxlciBjc0hhbmRsZXIxMSA9\nCiAgICAgICAgICAgIG5ldyBUaHJvdHRsZU1lc3NhZ2VIYW5kbGVyKDEsIDMq\nWCwgZmFsc2UsIFgpOwogICAgICAgIFRocm90dGxlTWVzc2FnZUhhbmRsZXIg\nY3NIYW5kbGVyMTIgPQogICAgICAgICAgICBuZXcgVGhyb3R0bGVNZXNzYWdl\nSGFuZGxlcigxLCAzKlgsIHRydWUsIFgpOwogICAgICAgIFRocm90dGxlTWVz\nc2FnZUhhbmRsZXIgY3NIYW5kbGVyMjEgPQogICAgICAgICAgICBuZXcgVGhy\nb3R0bGVNZXNzYWdlSGFuZGxlcigxLCAzKlgsIHRydWUsIFgpOwogICAgICAg\nIFRocm90dGxlTWVzc2FnZUhhbmRsZXIgY3NIYW5kbGVyMjIgPQogICAgICAg\nICAgICBuZXcgVGhyb3R0bGVNZXNzYWdlSGFuZGxlcigxLCAzKlgsIGZhbHNl\nLCBYKTsKCiAgICAgICAgU3Vic2NyaXB0aW9uT3B0aW9ucyBvcHRzID0gU3Vi\nc2NyaXB0aW9uT3B0aW9ucy5uZXdCdWlsZGVyKCkKICAgICAgICAgICAgLnNl\ndENyZWF0ZU9yQXR0YWNoKENyZWF0ZU9yQXR0YWNoLkNSRUFURSkuYnVpbGQo\nKTsKICAgICAgICBzdWJzY3JpYmVyLnN1YnNjcmliZSh0b3BpYzEsIHN1Ymlk\nMSwgb3B0cyk7CiAgICAgICAgc3Vic2NyaWJlci5zdWJzY3JpYmUodG9waWMx\nLCBzdWJpZDIsIG9wdHMpOwogICAgICAgIHN1YnNjcmliZXIuc3Vic2NyaWJl\nKHRvcGljMiwgc3ViaWQxLCBvcHRzKTsKICAgICAgICBzdWJzY3JpYmVyLnN1\nYnNjcmliZSh0b3BpYzIsIHN1YmlkMiwgb3B0cyk7CgogICAgICAgIC8vIHN0\nYXJ0IGRlbGl2ZXJpZXMKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZl\ncnkodG9waWMxLCBzdWJpZDEsIGNzSGFuZGxlcjExKTsKICAgICAgICBzdWJz\nY3JpYmVyLnN0YXJ0RGVsaXZlcnkodG9waWMxLCBzdWJpZDIsIGNzSGFuZGxl\ncjEyKTsKICAgICAgICBzdWJzY3JpYmVyLnN0YXJ0RGVsaXZlcnkodG9waWMy\nLCBzdWJpZDEsIGNzSGFuZGxlcjIxKTsKICAgICAgICBzdWJzY3JpYmVyLnN0\nYXJ0RGVsaXZlcnkodG9waWMyLCBzdWJpZDIsIGNzSGFuZGxlcjIyKTsKCiAg\nICAgICAgLy8gcHVibGlzaAogICAgICAgIGZvciAoaW50IGkgPSAxOyBpPD0z\nKlg7IGkrKykgewogICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaCh0b3Bp\nYzEsIE1lc3NhZ2UubmV3QnVpbGRlcigpLnNldEJvZHkoCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgQnl0ZVN0cmluZy5jb3B5RnJv\nbVV0ZjgoU3RyaW5nLnZhbHVlT2YoaSkpKS5idWlsZCgpKTsKICAgICAgICAg\nICAgcHVibGlzaGVyLnB1Ymxpc2godG9waWMyLCBNZXNzYWdlLm5ld0J1aWxk\nZXIoKS5zZXRCb2R5KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KFN0cmluZy52YWx1ZU9m\nKGkpKSkuYnVpbGQoKSk7CiAgICAgICAgfQoKICAgICAgICBjc0hhbmRsZXIx\nMS5jaGVja1Rocm90dGxlKCk7CiAgICAgICAgY3NIYW5kbGVyMTIuY2hlY2tU\naHJvdHRsZSgpOwogICAgICAgIGNzSGFuZGxlcjIxLmNoZWNrVGhyb3R0bGUo\nKTsKICAgICAgICBjc0hhbmRsZXIyMi5jaGVja1Rocm90dGxlKCk7CgogICAg\nICAgIC8vIGNvbnN1bWUgbWVzc2FnZXMgdG8gbm90IHRocm90dGxlIHRoZW0K\nICAgICAgICBmb3IgKGludCBpPTE7IGk8PVg7IGkrKykgewogICAgICAgICAg\nICBNZXNzYWdlU2VxSWQgc2VxSWQgPQogICAgICAgICAgICAgICAgTWVzc2Fn\nZVNlcUlkLm5ld0J1aWxkZXIoKS5zZXRMb2NhbENvbXBvbmVudChpKS5idWls\nZCgpOwogICAgICAgICAgICBzdWJzY3JpYmVyLmNvbnN1bWUodG9waWMxLCBz\ndWJpZDIsIHNlcUlkKTsKICAgICAgICAgICAgc3Vic2NyaWJlci5jb25zdW1l\nKHRvcGljMiwgc3ViaWQxLCBzZXFJZCk7CiAgICAgICAgfQoKICAgICAgICBj\nc0hhbmRsZXIxMS5jaGVja0FmdGVyVGhyb3R0bGUoKTsKICAgICAgICBjc0hh\nbmRsZXIyMi5jaGVja0FmdGVyVGhyb3R0bGUoKTsKICAgICAgICBjc0hhbmRs\nZXIxMi5jaGVja0FmdGVyVGhyb3R0bGUoKTsKICAgICAgICBjc0hhbmRsZXIy\nMS5jaGVja0FmdGVyVGhyb3R0bGUoKTsKICAgIH0KfQo=\n","encoding":"base64"}

