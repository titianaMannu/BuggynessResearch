{"sha":"be5722bf30faaedc6829c7f10ce49bee74abcc55","node_id":"MDQ6QmxvYjE1NzU5NTY6YmU1NzIyYmYzMGZhYWVkYzY4MjljN2YxMGNlNDliZWU3NGFiY2M1NQ==","size":3199,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/be5722bf30faaedc6829c7f10ce49bee74abcc55","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXI7CgppbXBvcnQgb3JnLnNs\nZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0b3J5Owpp\nbXBvcnQgb3JnLmp1bml0LkFmdGVyOwppbXBvcnQgb3JnLmp1bml0LkJlZm9y\nZTsKCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIudGVzdC5Qb3J0TWFu\nYWdlcjsKCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuY29uZi5D\nbGllbnRDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcu\nc2VydmVyLmNvbW1vbi5TZXJ2ZXJDb25maWd1cmF0aW9uOwppbXBvcnQgb3Jn\nLmFwYWNoZS5oZWR3aWcuc2VydmVyLm5ldHR5LlB1YlN1YlNlcnZlcjsKaW1w\nb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuSGVkd2lnU29ja2V0QWRkcmVz\nczsKCi8qKgogKiBUaGlzIGlzIGEgYmFzZSBjbGFzcyBmb3IgYW55IHRlc3Rz\nIHRoYXQgbmVlZCBhIFN0YW5kQWxvbmUgUHViU3ViU2VydmVyIHNldHVwLgog\nKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIFB1YlN1YlNlcnZlclN0YW5kQWxv\nbmVUZXN0QmFzZSB7CgogICAgcHJvdGVjdGVkIHN0YXRpYyBMb2dnZXIgbG9n\nZ2VyID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoUHViU3ViU2VydmVyU3Rh\nbmRBbG9uZVRlc3RCYXNlLmNsYXNzKTsKCiAgICBwcm90ZWN0ZWQgY2xhc3Mg\nU3RhbmRBbG9uZVNlcnZlckNvbmZpZ3VyYXRpb24gZXh0ZW5kcyBTZXJ2ZXJD\nb25maWd1cmF0aW9uIHsKICAgICAgICBmaW5hbCBpbnQgcG9ydCA9IFBvcnRN\nYW5hZ2VyLm5leHRGcmVlUG9ydCgpOwogICAgICAgIGZpbmFsIGludCBzc2xQ\nb3J0ID0gUG9ydE1hbmFnZXIubmV4dEZyZWVQb3J0KCk7CgogICAgICAgIEBP\ndmVycmlkZQogICAgICAgIHB1YmxpYyBib29sZWFuIGlzU3RhbmRhbG9uZSgp\nIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAg\nICBAT3ZlcnJpZGUKICAgICAgICBwdWJsaWMgaW50IGdldFNlcnZlclBvcnQo\nKSB7CiAgICAgICAgICAgIHJldHVybiBwb3J0OwogICAgICAgIH0KCiAgICAg\nICAgQE92ZXJyaWRlCiAgICAgICAgcHVibGljIGludCBnZXRTU0xTZXJ2ZXJQ\nb3J0KCkgewogICAgICAgICAgICByZXR1cm4gc3NsUG9ydDsKICAgICAgICB9\nCiAgICB9CgogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gZ2V0U3Rh\nbmRBbG9uZVNlcnZlckNvbmZpZ3VyYXRpb24oKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBTdGFuZEFsb25lU2VydmVyQ29uZmlndXJhdGlvbigpOwogICAgfQoK\nICAgIHByb3RlY3RlZCBQdWJTdWJTZXJ2ZXIgc2VydmVyOwogICAgcHJvdGVj\ndGVkIFNlcnZlckNvbmZpZ3VyYXRpb24gY29uZjsKICAgIHByb3RlY3RlZCBI\nZWR3aWdTb2NrZXRBZGRyZXNzIGRlZmF1bHRBZGRyZXNzOwoKICAgIEBCZWZv\ncmUKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgbG9nZ2VyLmluZm8oIlNUQVJUSU5HICIgKyBnZXRDbGFzcygp\nKTsKICAgICAgICBjb25mID0gZ2V0U3RhbmRBbG9uZVNlcnZlckNvbmZpZ3Vy\nYXRpb24oKTsKICAgICAgICBzdGFydEh1YlNlcnZlcihjb25mKTsKICAgICAg\nICBsb2dnZXIuaW5mbygiU3RhbmRhbG9uZSBQdWJTdWJTZXJ2ZXIgdGVzdCBz\nZXR1cCBmaW5pc2hlZCIpOwogICAgfQoKCiAgICBAQWZ0ZXIKICAgIHB1Ymxp\nYyB2b2lkIHRlYXJEb3duKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAg\nbG9nZ2VyLmluZm8oInRlYXJEb3duIHN0YXJ0aW5nIik7CiAgICAgICAgdGVh\nckRvd25IdWJTZXJ2ZXIoKTsKICAgICAgICBsb2dnZXIuaW5mbygiRklOSVNI\nRUQgIiArIGdldENsYXNzKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBIZWR3\naWdTb2NrZXRBZGRyZXNzIGdldERlZmF1bHRIZWR3aWdBZGRyZXNzKCkgewog\nICAgICAgIHJldHVybiBkZWZhdWx0QWRkcmVzczsKICAgIH0KCiAgICBwcm90\nZWN0ZWQgdm9pZCBzdGFydEh1YlNlcnZlcihTZXJ2ZXJDb25maWd1cmF0aW9u\nIGNvbmYpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGRlZmF1bHRBZGRy\nZXNzID0gbmV3IEhlZHdpZ1NvY2tldEFkZHJlc3MoImxvY2FsaG9zdCIsIGNv\nbmYuZ2V0U2VydmVyUG9ydCgpLAogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgY29uZi5nZXRTU0xTZXJ2ZXJQb3J0\nKCkpOwogICAgICAgIHNlcnZlciA9IG5ldyBQdWJTdWJTZXJ2ZXIoY29uZiwg\nbmV3IENsaWVudENvbmZpZ3VyYXRpb24oKSwgbmV3IExvZ2dpbmdFeGNlcHRp\nb25IYW5kbGVyKCkpOwogICAgICAgIHNlcnZlci5zdGFydCgpOwogICAgfQoK\nICAgIHByb3RlY3RlZCB2b2lkIHRlYXJEb3duSHViU2VydmVyKCkgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgc2VydmVyLnNodXRkb3duKCk7CiAgICB9\nCgp9Cg==\n","encoding":"base64"}

