{"sha":"93f5c2e720cea96656117dedde47891f10f8ba17","node_id":"MDQ6QmxvYjE1NzU5NTY6OTNmNWMyZTcyMGNlYTk2NjU2MTE3ZGVkZGU0Nzg5MWYxMGY4YmExNw==","size":8922,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/93f5c2e720cea96656117dedde47891f10f8ba17","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuaGFuZGxlcnM7CgppbXBv\ncnQgamF2YS51dGlsLkhhc2hTZXQ7CmltcG9ydCBqYXZhLnV0aWwuU2V0Owpp\nbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuRXhlY3V0b3JzOwppbXBvcnQg\namF2YS51dGlsLmNvbmN1cnJlbnQuU2NoZWR1bGVkRXhlY3V0b3JTZXJ2aWNl\nOwoKaW1wb3J0IG9yZy5qdW5pdC5CZWZvcmU7CmltcG9ydCBvcmcuanVuaXQu\nVGVzdDsKCmltcG9ydCBjb20uZ29vZ2xlLnByb3RvYnVmLkJ5dGVTdHJpbmc7\nCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5TdHViQ2FsbGJhY2s7CmltcG9y\ndCBvcmcuYXBhY2hlLmhlZHdpZy5jbGllbnQuZGF0YS5Ub3BpY1N1YnNjcmli\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5leGNlcHRpb25zLlB1YlN1\nYkV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmZpbHRlci5Q\naXBlbGluZUZpbHRlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnByb3Rv\nY29sLlB1YlN1YlByb3RvY29sLk1lc3NhZ2VTZXFJZDsKaW1wb3J0IG9yZy5h\ncGFjaGUuaGVkd2lnLnByb3RvY29sLlB1YlN1YlByb3RvY29sLk9wZXJhdGlv\nblR5cGU7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJT\ndWJQcm90b2NvbC5Qcm90b2NvbFZlcnNpb247CmltcG9ydCBvcmcuYXBhY2hl\nLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5QdWJTdWJSZXF1ZXN0\nOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJv\ndG9jb2wuUHViU3ViUmVzcG9uc2U7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdp\nZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5TdGF0dXNDb2RlOwppbXBvcnQg\nb3JnLmFwYWNoZS5oZWR3aWcucHJvdG9jb2wuUHViU3ViUHJvdG9jb2wuU3Vi\nc2NyaWJlUmVxdWVzdDsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnByb3Rv\nY29sLlB1YlN1YlByb3RvY29sLlN1YnNjcmlwdGlvbkRhdGE7CmltcG9ydCBv\ncmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90b2NvbC5VbnN1\nYnNjcmliZVJlcXVlc3Q7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90\nb2NvbC5QdWJTdWJQcm90b2NvbC5TdWJzY3JpYmVSZXF1ZXN0LkNyZWF0ZU9y\nQXR0YWNoOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuc2VydmVyLmNvbW1v\nbi5TZXJ2ZXJDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3\naWcuc2VydmVyLmRlbGl2ZXJ5LkNoYW5uZWxFbmRQb2ludDsKaW1wb3J0IG9y\nZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5kZWxpdmVyeS5TdHViRGVsaXZlcnlN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcuc2VydmVyLmRlbGl2\nZXJ5LlN0dWJEZWxpdmVyeU1hbmFnZXIuU3RhcnRTZXJ2aW5nUmVxdWVzdDsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5uZXR0eS5Xcml0ZVJl\nY29yZGluZ0NoYW5uZWw7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2\nZXIucGVyc2lzdGVuY2UuTG9jYWxEQlBlcnNpc3RlbmNlTWFuYWdlcjsKaW1w\nb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnNlcnZlci5wZXJzaXN0ZW5jZS5QZXJz\naXN0ZW5jZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2\nZXIuc3Vic2NyaXB0aW9ucy5BbGxUb0FsbFRvcG9sb2d5RmlsdGVyOwppbXBv\ncnQgb3JnLmFwYWNoZS5oZWR3aWcuc2VydmVyLnN1YnNjcmlwdGlvbnMuU3R1\nYlN1YnNjcmlwdGlvbk1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdp\nZy5zZXJ2ZXIudG9waWNzLlRvcGljTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFj\naGUuaGVkd2lnLnNlcnZlci50b3BpY3MuVHJpdmlhbE93bkFsbFRvcGljTWFu\nYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuQ29uY3VycmVu\nY3lVdGlsczsKCmltcG9ydCBzdGF0aWMgb3JnLmp1bml0LkFzc2VydC4qOwoK\ncHVibGljIGNsYXNzIFRlc3RTdWJVbnN1YkhhbmRsZXIgewoKICAgIFN1YnNj\ncmliZUhhbmRsZXIgc2g7CiAgICBTdHViRGVsaXZlcnlNYW5hZ2VyIGRtOwog\nICAgU3R1YlN1YnNjcmlwdGlvbk1hbmFnZXIgc207CiAgICBTdWJzY3JpcHRp\nb25DaGFubmVsTWFuYWdlciBzdWJDaGFubmVsTWdyOwogICAgQnl0ZVN0cmlu\nZyB0b3BpYyA9IEJ5dGVTdHJpbmcuY29weUZyb21VdGY4KCJ0b3BpYyIpOwog\nICAgV3JpdGVSZWNvcmRpbmdDaGFubmVsIGNoYW5uZWw7CgogICAgU3Vic2Ny\naWJlUmVxdWVzdCBzdWJSZXF1ZXN0UHJvdG90eXBlOwogICAgUHViU3ViUmVx\ndWVzdCBwdWJTdWJSZXF1ZXN0UHJvdG90eXBlOwogICAgQnl0ZVN0cmluZyBz\ndWJzY3JpYmVySWQ7CiAgICBVbnN1YnNjcmliZUhhbmRsZXIgdXNoOwoKICAg\nIEBCZWZvcmUKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgU2VydmVyQ29uZmlndXJhdGlvbiBjb25mID0gbmV3\nIFNlcnZlckNvbmZpZ3VyYXRpb24oKTsKICAgICAgICBTY2hlZHVsZWRFeGVj\ndXRvclNlcnZpY2UgZXhlY3V0b3IgPSBFeGVjdXRvcnMubmV3U2luZ2xlVGhy\nZWFkU2NoZWR1bGVkRXhlY3V0b3IoKTsKCiAgICAgICAgVG9waWNNYW5hZ2Vy\nIHRtID0gbmV3IFRyaXZpYWxPd25BbGxUb3BpY01hbmFnZXIoY29uZiwgZXhl\nY3V0b3IpOwogICAgICAgIGRtID0gbmV3IFN0dWJEZWxpdmVyeU1hbmFnZXIo\nKTsKICAgICAgICBQZXJzaXN0ZW5jZU1hbmFnZXIgcG0gPSBMb2NhbERCUGVy\nc2lzdGVuY2VNYW5hZ2VyLmluc3RhbmNlKCk7CiAgICAgICAgc20gPSBuZXcg\nU3R1YlN1YnNjcmlwdGlvbk1hbmFnZXIodG0sIHBtLCBkbSwgY29uZiwgZXhl\nY3V0b3IpOwogICAgICAgIHN1YkNoYW5uZWxNZ3IgPSBuZXcgU3Vic2NyaXB0\naW9uQ2hhbm5lbE1hbmFnZXIoKTsKICAgICAgICBzaCA9IG5ldyBTdWJzY3Jp\nYmVIYW5kbGVyKGNvbmYsIHRtLCBkbSwgcG0sIHNtLCBzdWJDaGFubmVsTWdy\nKTsKICAgICAgICBjaGFubmVsID0gbmV3IFdyaXRlUmVjb3JkaW5nQ2hhbm5l\nbCgpOwoKICAgICAgICBzdWJzY3JpYmVySWQgPSBCeXRlU3RyaW5nLmNvcHlG\ncm9tVXRmOCgic3ViSWQiKTsKCiAgICAgICAgc3ViUmVxdWVzdFByb3RvdHlw\nZSA9IFN1YnNjcmliZVJlcXVlc3QubmV3QnVpbGRlcigpLnNldFN1YnNjcmli\nZXJJZChzdWJzY3JpYmVySWQpLmJ1aWxkKCk7CiAgICAgICAgcHViU3ViUmVx\ndWVzdFByb3RvdHlwZSA9IFB1YlN1YlJlcXVlc3QubmV3QnVpbGRlcigpLnNl\ndFByb3RvY29sVmVyc2lvbihQcm90b2NvbFZlcnNpb24uVkVSU0lPTl9PTkUp\nLnNldFR5cGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICBPcGVyYXRpb25UeXBlLlNVQlNDUklCRSkuc2V0VHhuSWQoMCkuc2V0VG9w\naWModG9waWMpLnNldFN1YnNjcmliZVJlcXVlc3Qoc3ViUmVxdWVzdFByb3Rv\ndHlwZSkuYnVpbGQoKTsKCiAgICAgICAgdXNoID0gbmV3IFVuc3Vic2NyaWJl\nSGFuZGxlcihjb25mLCB0bSwgc20sIGRtLCBzdWJDaGFubmVsTWdyKTsKICAg\nIH0KCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQg\ndGVzdE5vU3Vic2NyaWJlUmVxdWVzdCgpIHsKICAgICAgICBzaC5oYW5kbGVS\nZXF1ZXN0QXRPd25lcihQdWJTdWJSZXF1ZXN0Lm5ld0J1aWxkZXIocHViU3Vi\nUmVxdWVzdFByb3RvdHlwZSkuY2xlYXJTdWJzY3JpYmVSZXF1ZXN0KCkuYnVp\nbGQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVs\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoU3RhdHVzQ29kZS5NQUxGT1JNRURf\nUkVRVUVTVCwgKChQdWJTdWJSZXNwb25zZSkgY2hhbm5lbC5nZXRNZXNzYWdl\nc1dyaXR0ZW4oKS5nZXQoMCkpCiAgICAgICAgICAgICAgICAgICAgIC5nZXRT\ndGF0dXNDb2RlKCkpOwogICAgfQoKICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDAp\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3VjY2Vzc0Nhc2UoKSB7CiAgICAgICAg\nU3R1YkNhbGxiYWNrPFZvaWQ+IGNhbGxiYWNrID0gbmV3IFN0dWJDYWxsYmFj\nazxWb2lkPigpOwogICAgICAgIHNtLmFjcXVpcmVkVG9waWModG9waWMsIGNh\nbGxiYWNrLCBudWxsKTsKICAgICAgICBhc3NlcnROdWxsKENvbmN1cnJlbmN5\nVXRpbHMudGFrZShjYWxsYmFjay5xdWV1ZSkucmlnaHQoKSk7CgogICAgICAg\nIHNoLmhhbmRsZVJlcXVlc3RBdE93bmVyKHB1YlN1YlJlcXVlc3RQcm90b3R5\ncGUsIGNoYW5uZWwpOwogICAgICAgIGFzc2VydEVxdWFscyhTdGF0dXNDb2Rl\nLlNVQ0NFU1MsICgoUHViU3ViUmVzcG9uc2UpIGNoYW5uZWwuZ2V0TWVzc2Fn\nZXNXcml0dGVuKCkuZ2V0KDApKS5nZXRTdGF0dXNDb2RlKCkpOwoKICAgICAg\nICAvLyBtYWtlIHN1cmUgdGhlIGNoYW5uZWwgd2FzIHB1dCBpbiB0aGUgbWFw\ncwogICAgICAgIFNldDxUb3BpY1N1YnNjcmliZXI+IHRvcGljU3VicyA9IG5l\ndyBIYXNoU2V0PFRvcGljU3Vic2NyaWJlcj4oKTsKICAgICAgICB0b3BpY1N1\nYnMuYWRkKG5ldyBUb3BpY1N1YnNjcmliZXIodG9waWMsIHN1YnNjcmliZXJJ\nZCkpOwogICAgICAgIGFzc2VydEVxdWFscyh0b3BpY1N1YnMsCiAgICAgICAg\nICAgICAgICAgICAgIHN1YkNoYW5uZWxNZ3IuY2hhbm5lbDJzdWIuZ2V0KGNo\nYW5uZWwpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoY2hhbm5lbCwKICAgICAg\nICAgICAgICAgICAgICAgc3ViQ2hhbm5lbE1nci5zdWIyQ2hhbm5lbC5nZXQo\nbmV3IFRvcGljU3Vic2NyaWJlcih0b3BpYywgc3Vic2NyaWJlcklkKSkpOwoK\nICAgICAgICAvLyBtYWtlIHN1cmUgZGVsaXZlcnkgd2FzIHN0YXJ0ZWQKICAg\nICAgICBTdGFydFNlcnZpbmdSZXF1ZXN0IHN0YXJ0UmVxdWVzdCA9IChTdGFy\ndFNlcnZpbmdSZXF1ZXN0KSBkbS5sYXN0UmVxdWVzdC5wb2xsKCk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKGNoYW5uZWwsICgoQ2hhbm5lbEVuZFBvaW50KSBz\ndGFydFJlcXVlc3QuZW5kUG9pbnQpLmdldENoYW5uZWwoKSk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKFBpcGVsaW5lRmlsdGVyLmNsYXNzLCBzdGFydFJlcXVl\nc3QuZmlsdGVyLmdldENsYXNzKCkpOwogICAgICAgIFBpcGVsaW5lRmlsdGVy\nIHBmaWx0ZXIgPSAoUGlwZWxpbmVGaWx0ZXIpKHN0YXJ0UmVxdWVzdC5maWx0\nZXIpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBwZmlsdGVyLnNpemUoKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKEFsbFRvQWxsVG9wb2xvZ3lGaWx0ZXIu\nY2xhc3MsIHBmaWx0ZXIuZ2V0Rmlyc3QoKS5nZXRDbGFzcygpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoMSwgc3RhcnRSZXF1ZXN0LnNlcUlkVG9TdGFydEZy\nb20uZ2V0TG9jYWxDb21wb25lbnQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKHN1YnNjcmliZXJJZCwgc3RhcnRSZXF1ZXN0LnN1YnNjcmliZXJJZCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKHRvcGljLCBzdGFydFJlcXVlc3QudG9waWMp\nOwoKICAgICAgICAvLyBtYWtlIHN1cmUgc3Vic2NyaXB0aW9uIHdhcyByZWdp\nc3RlcmVkCiAgICAgICAgU3R1YkNhbGxiYWNrPFN1YnNjcmlwdGlvbkRhdGE+\nIGNhbGxiYWNrMSA9IG5ldyBTdHViQ2FsbGJhY2s8U3Vic2NyaXB0aW9uRGF0\nYT4oKTsKICAgICAgICBzbS5zZXJ2ZVN1YnNjcmliZVJlcXVlc3QodG9waWMs\nIFN1YnNjcmliZVJlcXVlc3QubmV3QnVpbGRlcihzdWJSZXF1ZXN0UHJvdG90\neXBlKS5zZXRDcmVhdGVPckF0dGFjaCgKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIENyZWF0ZU9yQXR0YWNoLkNSRUFURSkuYnVpbGQo\nKSwgTWVzc2FnZVNlcUlkLm5ld0J1aWxkZXIoKS5zZXRMb2NhbENvbXBvbmVu\ndCgxMCkuYnVpbGQoKSwgY2FsbGJhY2sxLAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICBudWxsKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKFB1\nYlN1YkV4Y2VwdGlvbi5DbGllbnRBbHJlYWR5U3Vic2NyaWJlZEV4Y2VwdGlv\nbi5jbGFzcywgQ29uY3VycmVuY3lVdGlscy50YWtlKGNhbGxiYWNrMS5xdWV1\nZSkKICAgICAgICAgICAgICAgICAgICAgLnJpZ2h0KCkuZ2V0Q2xhc3MoKSk7\nCgogICAgICAgIC8vIHRyeWluZyB0byBzdWJzY3JpYmUgYWdhaW4gc2hvdWxk\nIHRocm93IGFuIGVycm9yCiAgICAgICAgV3JpdGVSZWNvcmRpbmdDaGFubmVs\nIGR1cENoYW5uZWwgPSBuZXcgV3JpdGVSZWNvcmRpbmdDaGFubmVsKCk7CiAg\nICAgICAgc2guaGFuZGxlUmVxdWVzdEF0T3duZXIocHViU3ViUmVxdWVzdFBy\nb3RvdHlwZSwgZHVwQ2hhbm5lbCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKFN0\nYXR1c0NvZGUuVE9QSUNfQlVTWSwgKChQdWJTdWJSZXNwb25zZSkgZHVwQ2hh\nbm5lbC5nZXRNZXNzYWdlc1dyaXR0ZW4oKS5nZXQoMCkpLmdldFN0YXR1c0Nv\nZGUoKSk7CgogICAgICAgIC8vIGFmdGVyIGRpc2Nvbm5lY3RpbmcgdGhlIGNo\nYW5uZWwsIHN1YnNjcmliZSBzaG91bGQgd29yayBhZ2FpbgogICAgICAgIHN1\nYkNoYW5uZWxNZ3IuY2hhbm5lbERpc2Nvbm5lY3RlZChjaGFubmVsKTsKCiAg\nICAgICAgZHVwQ2hhbm5lbCA9IG5ldyBXcml0ZVJlY29yZGluZ0NoYW5uZWwo\nKTsKICAgICAgICBzaC5oYW5kbGVSZXF1ZXN0QXRPd25lcihwdWJTdWJSZXF1\nZXN0UHJvdG90eXBlLCBkdXBDaGFubmVsKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoU3RhdHVzQ29kZS5TVUNDRVNTLCAoKFB1YlN1YlJlc3BvbnNlKSBkdXBD\naGFubmVsLmdldE1lc3NhZ2VzV3JpdHRlbigpLmdldCgwKSkuZ2V0U3RhdHVz\nQ29kZSgpKTsKCiAgICAgICAgLy8gdGVzdCB1bnN1YnNjcmliZQogICAgICAg\nIGNoYW5uZWwgPSBuZXcgV3JpdGVSZWNvcmRpbmdDaGFubmVsKCk7CiAgICAg\nICAgdXNoLmhhbmRsZVJlcXVlc3RBdE93bmVyKHB1YlN1YlJlcXVlc3RQcm90\nb3R5cGUsIGNoYW5uZWwpOwogICAgICAgIGFzc2VydEVxdWFscyhTdGF0dXND\nb2RlLk1BTEZPUk1FRF9SRVFVRVNULCAoKFB1YlN1YlJlc3BvbnNlKSBjaGFu\nbmVsLmdldE1lc3NhZ2VzV3JpdHRlbigpLmdldCgwKSkKICAgICAgICAgICAg\nICAgICAgICAgLmdldFN0YXR1c0NvZGUoKSk7CgogICAgICAgIFB1YlN1YlJl\ncXVlc3QgdW5zdWJSZXF1ZXN0ID0gUHViU3ViUmVxdWVzdC5uZXdCdWlsZGVy\nKHB1YlN1YlJlcXVlc3RQcm90b3R5cGUpLnNldFVuc3Vic2NyaWJlUmVxdWVz\ndCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBV\nbnN1YnNjcmliZVJlcXVlc3QubmV3QnVpbGRlcigpLnNldFN1YnNjcmliZXJJ\nZChzdWJzY3JpYmVySWQpKS5idWlsZCgpOwogICAgICAgIGNoYW5uZWwgPSBu\nZXcgV3JpdGVSZWNvcmRpbmdDaGFubmVsKCk7CiAgICAgICAgZG0ubGFzdFJl\ncXVlc3QuY2xlYXIoKTsKCiAgICAgICAgdXNoLmhhbmRsZVJlcXVlc3RBdE93\nbmVyKHVuc3ViUmVxdWVzdCwgY2hhbm5lbCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKFN0YXR1c0NvZGUuU1VDQ0VTUywgKChQdWJTdWJSZXNwb25zZSkgY2hh\nbm5lbC5nZXRNZXNzYWdlc1dyaXR0ZW4oKS5nZXQoMCkpLmdldFN0YXR1c0Nv\nZGUoKSk7CgogICAgICAgIC8vIG1ha2Ugc3VyZSBkZWxpdmVyeSBoYXMgYmVl\nbiBzdG9wcGVkCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBUb3BpY1N1YnNj\ncmliZXIodG9waWMsIHN1YnNjcmliZXJJZCksIGRtLmxhc3RSZXF1ZXN0LnBv\nbGwoKSk7CgogICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgaW5mbyBpcyBnb25l\nIGZyb20gdGhlIHNtCiAgICAgICAgU3R1YkNhbGxiYWNrPFN1YnNjcmlwdGlv\nbkRhdGE+IGNhbGxiYWNrMiA9IG5ldyBTdHViQ2FsbGJhY2s8U3Vic2NyaXB0\naW9uRGF0YT4oKTsKICAgICAgICBzbS5zZXJ2ZVN1YnNjcmliZVJlcXVlc3Qo\ndG9waWMsIFN1YnNjcmliZVJlcXVlc3QubmV3QnVpbGRlcihzdWJSZXF1ZXN0\nUHJvdG90eXBlKS5zZXRDcmVhdGVPckF0dGFjaCgKICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZU9yQXR0YWNoLkFUVEFDSCku\nYnVpbGQoKSwgTWVzc2FnZVNlcUlkLm5ld0J1aWxkZXIoKS5zZXRMb2NhbENv\nbXBvbmVudCgxMCkuYnVpbGQoKSwgY2FsbGJhY2syLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBudWxsKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoUHViU3ViRXhjZXB0aW9uLkNsaWVudE5vdFN1YnNjcmliZWRFeGNlcHRp\nb24uY2xhc3MsIENvbmN1cnJlbmN5VXRpbHMudGFrZShjYWxsYmFjazIucXVl\ndWUpLnJpZ2h0KCkKICAgICAgICAgICAgICAgICAgICAgLmdldENsYXNzKCkp\nOwoKICAgIH0KCn0K\n","encoding":"base64"}

