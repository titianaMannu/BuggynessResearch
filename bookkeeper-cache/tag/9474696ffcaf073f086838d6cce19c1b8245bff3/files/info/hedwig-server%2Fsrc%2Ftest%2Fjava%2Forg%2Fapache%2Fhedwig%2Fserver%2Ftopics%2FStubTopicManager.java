{"sha":"b66196e69b56c9a2c0190dc0ebcdb2b0a2655053","node_id":"MDQ6QmxvYjE1NzU5NTY6YjY2MTk2ZTY5YjU2YzlhMmMwMTkwZGMwZWJjZGIyYjBhMjY1NTA1Mw==","size":2388,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b66196e69b56c9a2c0190dc0ebcdb2b0a2655053","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIudG9waWNzOwoKaW1wb3J0\nIGphdmEubmV0LlVua25vd25Ib3N0RXhjZXB0aW9uOwppbXBvcnQgamF2YS51\ndGlsLmNvbmN1cnJlbnQuRXhlY3V0b3JzOwoKaW1wb3J0IGNvbS5nb29nbGUu\ncHJvdG9idWYuQnl0ZVN0cmluZzsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2ln\nLmV4Y2VwdGlvbnMuUHViU3ViRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5oZWR3aWcuc2VydmVyLmNvbW1vbi5TZXJ2ZXJDb25maWd1cmF0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcudXRpbC5DYWxsYmFjazsKaW1wb3J0\nIG9yZy5hcGFjaGUuaGVkd2lnLnV0aWwuSGVkd2lnU29ja2V0QWRkcmVzczsK\nCnB1YmxpYyBjbGFzcyBTdHViVG9waWNNYW5hZ2VyIGV4dGVuZHMgVHJpdmlh\nbE93bkFsbFRvcGljTWFuYWdlciB7CgogICAgYm9vbGVhbiBzaG91bGRPd25F\ndmVyeU5ld1RvcGljID0gZmFsc2U7CiAgICBib29sZWFuIHNob3VsZEVycm9y\nID0gZmFsc2U7CgogICAgcHVibGljIHZvaWQgc2V0U2hvdWxkT3duRXZlcnlO\nZXdUb3BpYyhib29sZWFuIHNob3VsZE93bkV2ZXJ5TmV3VG9waWMpIHsKICAg\nICAgICB0aGlzLnNob3VsZE93bkV2ZXJ5TmV3VG9waWMgPSBzaG91bGRPd25F\ndmVyeU5ld1RvcGljOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNob3Vs\nZEVycm9yKGJvb2xlYW4gc2hvdWxkRXJyb3IpIHsKICAgICAgICB0aGlzLnNo\nb3VsZEVycm9yID0gc2hvdWxkRXJyb3I7CiAgICB9CgogICAgcHVibGljIFN0\ndWJUb3BpY01hbmFnZXIoU2VydmVyQ29uZmlndXJhdGlvbiBjb25mKSB0aHJv\nd3MgVW5rbm93bkhvc3RFeGNlcHRpb24gewogICAgICAgIHN1cGVyKGNvbmYs\nIEV4ZWN1dG9ycy5uZXdTaW5nbGVUaHJlYWRTY2hlZHVsZWRFeGVjdXRvcigp\nKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIHJl\nYWxHZXRPd25lcihCeXRlU3RyaW5nIHRvcGljLCBib29sZWFuIHNob3VsZENs\nYWltLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbGxiYWNr\nPEhlZHdpZ1NvY2tldEFkZHJlc3M+IGNiLCBPYmplY3QgY3R4KSB7CgogICAg\nICAgIGlmIChzaG91bGRFcnJvcikgewogICAgICAgICAgICBjYi5vcGVyYXRp\nb25GYWlsZWQoY3R4LCBuZXcgUHViU3ViRXhjZXB0aW9uLlNlcnZpY2VEb3du\nRXhjZXB0aW9uKCJBc2tlZCB0byBmYWlsIikpOwogICAgICAgICAgICByZXR1\ncm47CiAgICAgICAgfQogICAgICAgIGlmIChudWxsICE9IHRvcGljcy5nZXRJ\nZlByZXNlbnQodG9waWMpIC8vIGFscmVhZHkgb3duIGl0CiAgICAgICAgICAg\nICAgICB8fCBzaG91bGRPd25FdmVyeU5ld1RvcGljKSB7CiAgICAgICAgICAg\nIHN1cGVyLnJlYWxHZXRPd25lcih0b3BpYywgc2hvdWxkQ2xhaW0sIGNiLCBj\ndHgpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAg\nICAgICAgICAgLy8gcmV0dXJuIHNvbWUgb3RoZXIgYWRkcmVzcwogICAgICAg\nICAgICBjYi5vcGVyYXRpb25GaW5pc2hlZChjdHgsIG5ldyBIZWR3aWdTb2Nr\nZXRBZGRyZXNzKCIxMjQuMzEuMC4xOjgwIikpOwogICAgICAgIH0KICAgIH0K\nCn0K\n","encoding":"base64"}

