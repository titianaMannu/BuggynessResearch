{"sha":"3af3c35387c40710dc4d063a4c9b1713c81da452","node_id":"MDQ6QmxvYjE1NzU5NTY6M2FmM2MzNTM4N2M0MDcxMGRjNGQwNjNhNGM5YjE3MTNjODFkYTQ1Mg==","size":25909,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/3af3c35387c40710dc4d063a4c9b1713c81da452","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZjsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBvcmcu\nYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKCi8qKgogKiBDb25m\naWd1cmF0aW9uIG1hbmFnZXMgc2VydmVyLXNpZGUgc2V0dGluZ3MKICovCnB1\nYmxpYyBjbGFzcyBTZXJ2ZXJDb25maWd1cmF0aW9uIGV4dGVuZHMgQWJzdHJh\nY3RDb25maWd1cmF0aW9uIHsKICAgIC8vIEVudHJ5IExvZyBQYXJhbWV0ZXJz\nCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBFTlRSWV9MT0df\nU0laRV9MSU1JVCA9ICJsb2dTaXplTGltaXQiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUlOT1JfQ09NUEFDVElPTl9JTlRFUlZBTCA9\nICJtaW5vckNvbXBhY3Rpb25JbnRlcnZhbCI7CiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBNSU5PUl9DT01QQUNUSU9OX1RIUkVTSE9MRCA9\nICJtaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUFKT1JfQ09NUEFDVElPTl9JTlRFUlZBTCA9\nICJtYWpvckNvbXBhY3Rpb25JbnRlcnZhbCI7CiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBNQUpPUl9DT01QQUNUSU9OX1RIUkVTSE9MRCA9\nICJtYWpvckNvbXBhY3Rpb25UaHJlc2hvbGQiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgQ09NUEFDVElPTl9NQVhfT1VUU1RBTkRJTkdf\nUkVRVUVTVFMKICAgICAgICA9ICJjb21wYWN0aW9uTWF4T3V0c3RhbmRpbmdS\nZXF1ZXN0cyI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBD\nT01QQUNUSU9OX1JBVEUgPSAiY29tcGFjdGlvblJhdGUiOwoKICAgIC8vIEdj\nIFBhcmFtZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5n\nIEdDX1dBSVRfVElNRSA9ICJnY1dhaXRUaW1lIjsKICAgIC8vIFN5bmMgUGFy\nYW1ldGVycwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgRkxV\nU0hfSU5URVJWQUwgPSAiZmx1c2hJbnRlcnZhbCI7CiAgICAvLyBCb29raWUg\nZGVhdGggd2F0Y2ggaW50ZXJ2YWwKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0\naWMgU3RyaW5nIERFQVRIX1dBVENIX0lOVEVSVkFMID0gImJvb2tpZURlYXRo\nV2F0Y2hJbnRlcnZhbCI7CiAgICAvLyBMZWRnZXIgQ2FjaGUgUGFyYW1ldGVy\ncwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgT1BFTl9GSUxF\nX0xJTUlUID0gIm9wZW5GaWxlTGltaXQiOwogICAgcHJvdGVjdGVkIGZpbmFs\nIHN0YXRpYyBTdHJpbmcgUEFHRV9MSU1JVCA9ICJwYWdlTGltaXQiOwogICAg\ncHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgUEFHRV9TSVpFID0gInBh\nZ2VTaXplIjsKICAgIC8vIEpvdXJuYWwgUGFyYW1ldGVycwogICAgcHJvdGVj\ndGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgTUFYX0pPVVJOQUxfU0laRSA9ICJq\nb3VybmFsTWF4U2l6ZU1CIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMg\nU3RyaW5nIE1BWF9CQUNLVVBfSk9VUk5BTFMgPSAiam91cm5hbE1heEJhY2t1\ncHMiOwogICAgLy8gQm9va2llIFBhcmFtZXRlcnMKICAgIHByb3RlY3RlZCBm\naW5hbCBzdGF0aWMgU3RyaW5nIEJPT0tJRV9QT1JUID0gImJvb2tpZVBvcnQi\nOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgTElTVEVOSU5H\nX0lOVEVSRkFDRSA9ICJsaXN0ZW5pbmdJbnRlcmZhY2UiOwogICAgcHJvdGVj\ndGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgQUxMT1dfTE9PUEJBQ0sgPSAiYWxs\nb3dMb29wYmFjayI7CgogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJp\nbmcgSk9VUk5BTF9ESVIgPSAiam91cm5hbERpcmVjdG9yeSI7CiAgICBwcm90\nZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBMRURHRVJfRElSUyA9ICJsZWRn\nZXJEaXJlY3RvcmllcyI7CiAgICAvLyBOSU8gUGFyYW1ldGVycwogICAgcHJv\ndGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgU0VSVkVSX1RDUF9OT0RFTEFZ\nID0gInNlcnZlclRjcE5vRGVsYXkiOwogICAgLy8gWm9va2VlcGVyIFBhcmFt\nZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFpLX1RJ\nTUVPVVQgPSAiemtUaW1lb3V0IjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0\naWMgU3RyaW5nIFpLX1NFUlZFUlMgPSAiemtTZXJ2ZXJzIjsKICAgIC8vIFN0\nYXRpc3RpY3MgUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRp\nYyBTdHJpbmcgRU5BQkxFX1NUQVRJU1RJQ1MgPSAiZW5hYmxlU3RhdGlzdGlj\ncyI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBPUEVOX0xF\nREdFUl9SRVJFUExJQ0FUSU9OX0dSQUNFX1BFUklPRCA9ICJvcGVuTGVkZ2Vy\nUmVyZXBsaWNhdGlvbkdyYWNlUGVyaW9kIjsKICAgIC8vUmVhZE9ubHkgbW9k\nZSBzdXBwb3J0IG9uIGFsbCBkaXNrIGZ1bGwKICAgIHByb3RlY3RlZCBmaW5h\nbCBzdGF0aWMgU3RyaW5nIFJFQURfT05MWV9NT0RFX0VOQUJMRUQgPSAicmVh\nZE9ubHlNb2RlRW5hYmxlZCI7CiAgICAvL0Rpc2sgdXRpbGl6YXRpb24KICAg\nIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIERJU0tfVVNBR0VfVEhS\nRVNIT0xEID0gImRpc2tVc2FnZVRocmVzaG9sZCI7CiAgICBwcm90ZWN0ZWQg\nZmluYWwgc3RhdGljIFN0cmluZyBESVNLX0NIRUNLX0lOVEVSVkFMID0gImRp\nc2tDaGVja0ludGVydmFsIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMg\nU3RyaW5nIEFVRElUT1JfUEVSSU9ESUNfQ0hFQ0tfSU5URVJWQUwgPSAiYXVk\naXRvclBlcmlvZGljQ2hlY2tJbnRlcnZhbCI7CiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBBVURJVE9SX1BFUklPRElDX0JPT0tJRV9DSEVD\nS19JTlRFUlZBTCA9ICJhdWRpdG9yUGVyaW9kaWNCb29raWVDaGVja0ludGVy\ndmFsIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIEFVVE9f\nUkVDT1ZFUllfREFFTU9OX0VOQUJMRUQgPSAiYXV0b1JlY292ZXJ5RGFlbW9u\nRW5hYmxlZCI7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3QgYSBkZWZhdWx0\nIGNvbmZpZ3VyYXRpb24gb2JqZWN0CiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2\nZXJDb25maWd1cmF0aW9uKCkgewogICAgICAgIHN1cGVyKCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBDb25zdHJ1Y3QgYSBjb25maWd1cmF0aW9uIGJhc2Vk\nIG9uIG90aGVyIGNvbmZpZ3VyYXRpb24KICAgICAqCiAgICAgKiBAcGFyYW0g\nY29uZgogICAgICogICAgICAgICAgT3RoZXIgY29uZmlndXJhdGlvbgogICAg\nICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbihBYnN0cmFjdENv\nbmZpZ3VyYXRpb24gY29uZikgewogICAgICAgIHN1cGVyKCk7CiAgICAgICAg\nbG9hZENvbmYoY29uZik7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgZW50\ncnkgbG9nZ2VyIHNpemUgbGltaXRhdGlvbgogICAgICoKICAgICAqIEByZXR1\ncm4gZW50cnkgbG9nZ2VyIHNpemUgbGltaXRhdGlvbgogICAgICovCiAgICBw\ndWJsaWMgbG9uZyBnZXRFbnRyeUxvZ1NpemVMaW1pdCgpIHsKICAgICAgICBy\nZXR1cm4gdGhpcy5nZXRMb25nKEVOVFJZX0xPR19TSVpFX0xJTUlULCAyICog\nMTAyNCAqIDEwMjQgKiAxMDI0TCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgZW50cnkgbG9nZ2VyIHNpemUgbGltaXRhdGlvbgogICAgICoKICAgICAq\nIEBwYXJhbSBsb2dTaXplTGltaXQKICAgICAqICAgICAgICAgIG5ldyBsb2cg\nc2l6ZSBsaW1pdGF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25m\naWd1cmF0aW9uIHNldEVudHJ5TG9nU2l6ZUxpbWl0KGxvbmcgbG9nU2l6ZUxp\nbWl0KSB7CiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShFTlRSWV9MT0dfU0la\nRV9MSU1JVCwgTG9uZy50b1N0cmluZyhsb2dTaXplTGltaXQpKTsKICAgICAg\nICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBHYXJi\nYWdlIGNvbGxlY3Rpb24gd2FpdCB0aW1lCiAgICAgKgogICAgICogQHJldHVy\nbiBnYyB3YWl0IHRpbWUKICAgICAqLwogICAgcHVibGljIGxvbmcgZ2V0R2NX\nYWl0VGltZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMb25nKEdDX1dB\nSVRfVElNRSwgMTAwMCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgZ2Fy\nYmFnZSBjb2xsZWN0aW9uIHdhaXQgdGltZQogICAgICoKICAgICAqIEBwYXJh\nbSBnY1dhaXRUaW1lCiAgICAgKiAgICAgICAgICBnYyB3YWl0IHRpbWUKICAg\nICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAg\ncHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0R2NXYWl0VGltZShsb25n\nIGdjV2FpdFRpbWUpIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5KEdDX1dB\nSVRfVElNRSwgTG9uZy50b1N0cmluZyhnY1dhaXRUaW1lKSk7CiAgICAgICAg\ncmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgZmx1c2gg\naW50ZXJ2YWwKICAgICAqCiAgICAgKiBAcmV0dXJuIGZsdXNoIGludGVydmFs\nCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0Rmx1c2hJbnRlcnZhbCgpIHsK\nICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnQoRkxVU0hfSU5URVJWQUwsIDEw\nMCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgZmx1c2ggaW50ZXJ2YWwK\nICAgICAqCiAgICAgKiBAcGFyYW0gZmx1c2hJbnRlcnZhbAogICAgICogICAg\nICAgICAgRmx1c2ggSW50ZXJ2YWwKICAgICAqIEByZXR1cm4gc2VydmVyIGNv\nbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3Vy\nYXRpb24gc2V0Rmx1c2hJbnRlcnZhbChpbnQgZmx1c2hJbnRlcnZhbCkgewog\nICAgICAgIHRoaXMuc2V0UHJvcGVydHkoRkxVU0hfSU5URVJWQUwsIEludGVn\nZXIudG9TdHJpbmcoZmx1c2hJbnRlcnZhbCkpOwogICAgICAgIHJldHVybiB0\naGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGJvb2tpZSBkZWF0aCB3\nYXRjaCBpbnRlcnZhbAogICAgICoKICAgICAqIEByZXR1cm4gd2F0Y2ggaW50\nZXJ2YWwKICAgICAqLwogICAgcHVibGljIGludCBnZXREZWF0aFdhdGNoSW50\nZXJ2YWwoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50KERFQVRIX1dB\nVENIX0lOVEVSVkFMLCAxMDAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdl\ndCBvcGVuIGZpbGUgbGltaXQKICAgICAqCiAgICAgKiBAcmV0dXJuIG1heCBu\ndW1iZXIgb2YgZmlsZXMgdG8gb3BlbgogICAgICovCiAgICBwdWJsaWMgaW50\nIGdldE9wZW5GaWxlTGltaXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0\nSW50KE9QRU5fRklMRV9MSU1JVCwgOTAwKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldCBsaW1pdGF0aW9uIG9mIG51bWJlciBvZiBvcGVuIGZpbGVzLgog\nICAgICoKICAgICAqIEBwYXJhbSBmaWxlTGltaXQKICAgICAqICAgICAgICAg\nIExpbWl0YXRpb24gb2YgbnVtYmVyIG9mIG9wZW4gZmlsZXMuCiAgICAgKiBA\ncmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1Ymxp\nYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldE9wZW5GaWxlTGltaXQoaW50IGZp\nbGVMaW1pdCkgewogICAgICAgIHNldFByb3BlcnR5KE9QRU5fRklMRV9MSU1J\nVCwgZmlsZUxpbWl0KTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAg\nICAvKioKICAgICAqIEdldCBsaW1pdGF0aW9uIG51bWJlciBvZiBpbmRleCBw\nYWdlcyBpbiBsZWRnZXIgY2FjaGUKICAgICAqCiAgICAgKiBAcmV0dXJuIG1h\neCBudW1iZXIgb2YgaW5kZXggcGFnZXMgaW4gbGVkZ2VyIGNhY2hlCiAgICAg\nKi8KICAgIHB1YmxpYyBpbnQgZ2V0UGFnZUxpbWl0KCkgewogICAgICAgIHJl\ndHVybiB0aGlzLmdldEludChQQUdFX0xJTUlULCAtMSk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTZXQgbGltaXRhdGlvbiBudW1iZXIgb2YgaW5kZXggcGFn\nZXMgaW4gbGVkZ2VyIGNhY2hlLgogICAgICoKICAgICAqIEBwYXJhbSBwYWdl\nTGltaXQKICAgICAqICAgICAgICAgIExpbWl0YXRpb24gb2YgbnVtYmVyIG9m\nIGluZGV4IHBhZ2VzIGluIGxlZGdlciBjYWNoZS4KICAgICAqIEByZXR1cm4g\nc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZl\nckNvbmZpZ3VyYXRpb24gc2V0UGFnZUxpbWl0KGludCBwYWdlTGltaXQpIHsK\nICAgICAgICB0aGlzLnNldFByb3BlcnR5KFBBR0VfTElNSVQsIHBhZ2VMaW1p\ndCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBHZXQgcGFnZSBzaXplCiAgICAgKgogICAgICogQHJldHVybiBwYWdlIHNp\nemUgaW4gbGVkZ2VyIGNhY2hlCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0\nUGFnZVNpemUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50KFBBR0Vf\nU0laRSwgODE5Mik7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgcGFnZSBz\naXplCiAgICAgKgogICAgICogQHNlZSAjZ2V0UGFnZVNpemUoKQogICAgICoK\nICAgICAqIEBwYXJhbSBwYWdlU2l6ZQogICAgICogICAgICAgICAgUGFnZSBT\naXplCiAgICAgKiBAcmV0dXJuIFNlcnZlciBDb25maWd1cmF0aW9uCiAgICAg\nKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldFBhZ2VTaXpl\nKGludCBwYWdlU2l6ZSkgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoUEFH\nRV9TSVpFLCBwYWdlU2l6ZSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBNYXggam91cm5hbCBmaWxlIHNpemUKICAgICAq\nCiAgICAgKiBAcmV0dXJuIG1heCBqb3VybmFsIGZpbGUgc2l6ZQogICAgICov\nCiAgICBwdWJsaWMgbG9uZyBnZXRNYXhKb3VybmFsU2l6ZSgpIHsKICAgICAg\nICByZXR1cm4gdGhpcy5nZXRMb25nKE1BWF9KT1VSTkFMX1NJWkUsIDIgKiAx\nMDI0KTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBuZXcgbWF4IGpvdXJu\nYWwgZmlsZSBzaXplCiAgICAgKgogICAgICogQHBhcmFtIG1heEpvdXJuYWxT\naXplCiAgICAgKiAgICAgICAgICBuZXcgbWF4IGpvdXJuYWwgZmlsZSBzaXpl\nCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8K\nICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldE1heEpvdXJuYWxT\naXplKGxvbmcgbWF4Sm91cm5hbFNpemUpIHsKICAgICAgICB0aGlzLnNldFBy\nb3BlcnR5KE1BWF9KT1VSTkFMX1NJWkUsIExvbmcudG9TdHJpbmcobWF4Sm91\ncm5hbFNpemUpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAv\nKioKICAgICAqIE1heCBudW1iZXIgb2Ygb2xkZXIgam91cm5hbCBmaWxlcyBr\nZXB0CiAgICAgKgogICAgICogQHJldHVybiBtYXggbnVtYmVyIG9mIG9sZGVy\nIGpvdXJuYWwgZmlsZXMgdG8ga2VwdAogICAgICovCiAgICBwdWJsaWMgaW50\nIGdldE1heEJhY2t1cEpvdXJuYWxzKCkgewogICAgICAgIHJldHVybiB0aGlz\nLmdldEludChNQVhfQkFDS1VQX0pPVVJOQUxTLCA1KTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCBtYXggbnVtYmVyIG9mIG9sZGVyIGpvdXJuYWwgZmls\nZXMgdG8ga2VwdAogICAgICoKICAgICAqIEBwYXJhbSBtYXhCYWNrdXBKb3Vy\nbmFscwogICAgICogICAgICAgICAgTWF4IG51bWJlciBvZiBvbGRlciBqb3Vy\nbmFsIGZpbGVzCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9u\nCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldE1h\neEJhY2t1cEpvdXJuYWxzKGludCBtYXhCYWNrdXBKb3VybmFscykgewogICAg\nICAgIHRoaXMuc2V0UHJvcGVydHkoTUFYX0JBQ0tVUF9KT1VSTkFMUywgSW50\nZWdlci50b1N0cmluZyhtYXhCYWNrdXBKb3VybmFscykpOwogICAgICAgIHJl\ndHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGJvb2tpZSBw\nb3J0IHRoYXQgYm9va2llIHNlcnZlciBsaXN0ZW4gb24KICAgICAqCiAgICAg\nKiBAcmV0dXJuIGJvb2tpZSBwb3J0CiAgICAgKi8KICAgIHB1YmxpYyBpbnQg\nZ2V0Qm9va2llUG9ydCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnQo\nQk9PS0lFX1BPUlQsIDMxODEpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0\nIG5ldyBib29raWUgcG9ydCB0aGF0IGJvb2tpZSBzZXJ2ZXIgbGlzdGVuIG9u\nCiAgICAgKgogICAgICogQHBhcmFtIHBvcnQKICAgICAqICAgICAgICAgIFBv\ncnQgdG8gbGlzdGVuIG9uCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1\ncmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9u\nIHNldEJvb2tpZVBvcnQoaW50IHBvcnQpIHsKICAgICAgICB0aGlzLnNldFBy\nb3BlcnR5KEJPT0tJRV9QT1JULCBJbnRlZ2VyLnRvU3RyaW5nKHBvcnQpKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdl\ndCB0aGUgbmV0d29yayBpbnRlcmZhY2UgdGhhdCB0aGUgYm9va2llIHNob3Vs\nZAogICAgICogbGlzdGVuIGZvciBjb25uZWN0aW9ucyBvbi4gSWYgdGhpcyBp\ncyBudWxsLCB0aGVuIHRoZSBib29raWUKICAgICAqIHdpbGwgbGlzdGVuIGZv\nciBjb25uZWN0aW9ucyBvbiBhbGwgaW50ZXJmYWNlcy4KICAgICAqCiAgICAg\nKiBAcmV0dXJuIHRoZSBuZXR3b3JrIGludGVyZmFjZSB0byBsaXN0ZW4gb24s\nIGUuZy4gZXRoMCwgb3IKICAgICAqICAgICAgICAgbnVsbCBpZiBub25lIGlz\nIHNwZWNpZmllZAogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldExpc3Rl\nbmluZ0ludGVyZmFjZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRTdHJp\nbmcoTElTVEVOSU5HX0lOVEVSRkFDRSk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBTZXQgdGhlIG5ldHdvcmsgaW50ZXJmYWNlIHRoYXQgdGhlIGJvb2tpZSBz\naG91bGQgbGlzdGVuIG9uLgogICAgICogSWYgbm90IHNldCwgdGhlIGJvb2tp\nZSB3aWxsIGxpc3RlbiBvbiBhbGwgaW50ZXJmYWNlcy4KICAgICAqCiAgICAg\nKiBAcGFyYW0gaWZhY2UgdGhlIGludGVyZmFjZSB0byBsaXN0ZW4gb24KICAg\nICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0TGlzdGVu\naW5nSW50ZXJmYWNlKFN0cmluZyBpZmFjZSkgewogICAgICAgIHRoaXMuc2V0\nUHJvcGVydHkoTElTVEVOSU5HX0lOVEVSRkFDRSwgaWZhY2UpOwogICAgICAg\nIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogSXMgdGhlIGJv\nb2tpZSBhbGxvd2VkIHRvIHVzZSBhIGxvb3BiYWNrIGludGVyZmFjZSBhcyBp\ndHMgcHJpbWFyeQogICAgICogaW50ZXJmYWNlKGkuZS4gdGhlIGludGVyZmFj\nZSBpdCB1c2VzIHRvIGVzdGFibGlzaCBpdHMgaWRlbnRpdHkpPwogICAgICoK\nICAgICAqIEJ5IGRlZmF1bHQsIGxvb3BiYWNrIGludGVyZmFjZXMgYXJlIG5v\ndCBhbGxvd2VkIGFzIHRoZSBwcmltYXJ5CiAgICAgKiBpbnRlcmZhY2UuCiAg\nICAgKgogICAgICogVXNpbmcgYSBsb29wYmFjayBpbnRlcmZhY2UgYXMgdGhl\nIHByaW1hcnkgaW50ZXJmYWNlIHVzdWFsbHkgaW5kaWNhdGVzCiAgICAgKiBh\nIGNvbmZpZ3VyYXRpb24gZXJyb3IuIEZvciBleGFtcGxlLCBpdHMgZmFpcmx5\nIGNvbW1vbiBpbiBzb21lIFZQUyBzZXR1cHMKICAgICAqIHRvIG5vdCBjb25m\naWd1cmUgYSBob3N0bmFtZSwgb3IgdG8gaGF2ZSB0aGUgaG9zdG5hbWUgcmVz\nb2x2ZSB0bwogICAgICogMTI3LjAuMC4xLiBJZiB0aGlzIGlzIHRoZSBjYXNl\nLCB0aGVuIGFsbCBib29raWVzIGluIHRoZSBjbHVzdGVyIHdpbGwKICAgICAq\nIGVzdGFibGlzaCB0aGVpciBpZGVudGl0aWVzIGFzIDEyNy4wLjAuMTozMTgx\nLCBhbmQgb25seSBvbmUgd2lsbCBiZSBhYmxlCiAgICAgKiB0byBqb2luIHRo\nZSBjbHVzdGVyLiBGb3IgVlBTcyBjb25maWd1cmVkIGxpa2UgdGhpcywgeW91\nIHNob3VsZCBleHBsaWNpdGx5CiAgICAgKiBzZXQgdGhlIGxpc3RlbmluZyBp\nbnRlcmZhY2UuCiAgICAgKgogICAgICogQHNlZSAjc2V0TGlzdGVuaW5nSW50\nZXJmYWNlKFN0cmluZykKICAgICAqIEByZXR1cm4gd2hldGhlciBhIGxvb3Bi\nYWNrIGludGVyZmFjZSBjYW4gYmUgdXNlZCBhcyB0aGUgcHJpbWFyeSBpbnRl\ncmZhY2UKICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0QWxsb3dMb29w\nYmFjaygpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRCb29sZWFuKEFMTE9X\nX0xPT1BCQUNLLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25m\naWd1cmUgdGhlIGJvb2tpZSB0byBhbGxvdyBsb29wYmFjayBpbnRlcmZhY2Vz\nIHRvIGJlIHVzZWQKICAgICAqIGFzIHRoZSBwcmltYXJ5IGJvb2tpZSBpbnRl\ncmZhY2UuCiAgICAgKgogICAgICogQHNlZSAjZ2V0QWxsb3dMb29wYmFjawog\nICAgICogQHBhcmFtIGFsbG93IHdoZXRoZXIgdG8gYWxsb3cgbG9vcGJhY2sg\naW50ZXJmYWNlcwogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlv\nbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRB\nbGxvd0xvb3BiYWNrKGJvb2xlYW4gYWxsb3cpIHsKICAgICAgICB0aGlzLnNl\ndFByb3BlcnR5KEFMTE9XX0xPT1BCQUNLLCBhbGxvdyk7CiAgICAgICAgcmV0\ndXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgZGlyIG5hbWUg\ndG8gc3RvcmUgam91cm5hbCBmaWxlcwogICAgICoKICAgICAqIEByZXR1cm4g\nam91cm5hbCBkaXIgbmFtZQogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndEpvdXJuYWxEaXJOYW1lKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldFN0\ncmluZyhKT1VSTkFMX0RJUiwgIi90bXAvYmstdHhuIik7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTZXQgZGlyIG5hbWUgdG8gc3RvcmUgam91cm5hbCBmaWxl\ncwogICAgICoKICAgICAqIEBwYXJhbSBqb3VybmFsRGlyCiAgICAgKiAgICAg\nICAgICBEaXIgdG8gc3RvcmUgam91cm5hbCBmaWxlcwogICAgICogQHJldHVy\nbiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2Vy\ndmVyQ29uZmlndXJhdGlvbiBzZXRKb3VybmFsRGlyTmFtZShTdHJpbmcgam91\ncm5hbERpcikgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoSk9VUk5BTF9E\nSVIsIGpvdXJuYWxEaXIpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoK\nICAgIC8qKgogICAgICogR2V0IGRpciB0byBzdG9yZSBqb3VybmFsIGZpbGVz\nCiAgICAgKgogICAgICogQHJldHVybiBqb3VybmFsIGRpciwgaWYgbm8gam91\ncm5hbCBkaXIgcHJvdmlkZWQgcmV0dXJuIG51bGwKICAgICAqLwogICAgcHVi\nbGljIEZpbGUgZ2V0Sm91cm5hbERpcigpIHsKICAgICAgICBTdHJpbmcgam91\ncm5hbERpck5hbWUgPSBnZXRKb3VybmFsRGlyTmFtZSgpOwogICAgICAgIGlm\nIChudWxsID09IGpvdXJuYWxEaXJOYW1lKSB7CiAgICAgICAgICAgIHJldHVy\nbiBudWxsOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3IEZpbGUoam91\ncm5hbERpck5hbWUpOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGRpciBu\nYW1lcyB0byBzdG9yZSBsZWRnZXIgZGF0YQogICAgICoKICAgICAqIEByZXR1\ncm4gbGVkZ2VyIGRpciBuYW1lcywgaWYgbm90IHByb3ZpZGVkIHJldHVybiBu\ndWxsCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmdbXSBnZXRMZWRnZXJEaXJO\nYW1lcygpIHsKICAgICAgICBTdHJpbmdbXSBsZWRnZXJEaXJzID0gdGhpcy5n\nZXRTdHJpbmdBcnJheShMRURHRVJfRElSUyk7CiAgICAgICAgaWYgKG51bGwg\nPT0gbGVkZ2VyRGlycykgewogICAgICAgICAgICByZXR1cm4gbmV3IFN0cmlu\nZ1tdIHsgIi90bXAvYmstZGF0YSIgfTsKICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIGxlZGdlckRpcnM7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgZGly\nIG5hbWVzIHRvIHN0b3JlIGxlZGdlciBkYXRhCiAgICAgKgogICAgICogQHBh\ncmFtIGxlZGdlckRpcnMKICAgICAqICAgICAgICAgIERpciBuYW1lcyB0byBz\ndG9yZSBsZWRnZXIgZGF0YQogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmln\ndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlv\nbiBzZXRMZWRnZXJEaXJOYW1lcyhTdHJpbmdbXSBsZWRnZXJEaXJzKSB7CiAg\nICAgICAgaWYgKG51bGwgPT0gbGVkZ2VyRGlycykgewogICAgICAgICAgICBy\nZXR1cm4gdGhpczsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0\neShMRURHRVJfRElSUywgbGVkZ2VyRGlycyk7CiAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgZGlycyB0aGF0IHN0b3Jl\ncyBsZWRnZXIgZGF0YQogICAgICoKICAgICAqIEByZXR1cm4gbGVkZ2VyIGRp\ncnMKICAgICAqLwogICAgcHVibGljIEZpbGVbXSBnZXRMZWRnZXJEaXJzKCkg\newogICAgICAgIFN0cmluZ1tdIGxlZGdlckRpck5hbWVzID0gZ2V0TGVkZ2Vy\nRGlyTmFtZXMoKTsKICAgICAgICBpZiAobnVsbCA9PSBsZWRnZXJEaXJOYW1l\ncykgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAg\nICAgRmlsZVtdIGxlZGdlckRpcnMgPSBuZXcgRmlsZVtsZWRnZXJEaXJOYW1l\ncy5sZW5ndGhdOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbGVkZ2Vy\nRGlyTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbGVkZ2VyRGly\nc1tpXSA9IG5ldyBGaWxlKGxlZGdlckRpck5hbWVzW2ldKTsKICAgICAgICB9\nCiAgICAgICAgcmV0dXJuIGxlZGdlckRpcnM7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBJcyB0Y3AgY29ubmVjdGlvbiBubyBkZWxheS4KICAgICAqCiAgICAg\nKiBAcmV0dXJuIHRjcCBzb2NrZXQgbm9kZWxheSBzZXR0aW5nCiAgICAgKi8K\nICAgIHB1YmxpYyBib29sZWFuIGdldFNlcnZlclRjcE5vRGVsYXkoKSB7CiAg\nICAgICAgcmV0dXJuIGdldEJvb2xlYW4oU0VSVkVSX1RDUF9OT0RFTEFZLCB0\ncnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBzb2NrZXQgbm9kZWxh\neSBzZXR0aW5nCiAgICAgKgogICAgICogQHBhcmFtIG5vRGVsYXkKICAgICAq\nICAgICAgICAgIE5vRGVsYXkgc2V0dGluZwogICAgICogQHJldHVybiBzZXJ2\nZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29u\nZmlndXJhdGlvbiBzZXRTZXJ2ZXJUY3BOb0RlbGF5KGJvb2xlYW4gbm9EZWxh\neSkgewogICAgICAgIHNldFByb3BlcnR5KFNFUlZFUl9UQ1BfTk9ERUxBWSwg\nQm9vbGVhbi50b1N0cmluZyhub0RlbGF5KSk7CiAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgem9va2VlcGVyIHNlcnZl\ncnMgdG8gY29ubmVjdAogICAgICoKICAgICAqIEByZXR1cm4gem9va2VlcGVy\nIHNlcnZlcnMKICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRaa1NlcnZl\ncnMoKSB7CiAgICAgICAgTGlzdDxPYmplY3Q+IHNlcnZlcnMgPSBnZXRMaXN0\nKFpLX1NFUlZFUlMsIG51bGwpOwogICAgICAgIGlmIChudWxsID09IHNlcnZl\ncnMgfHwgMCA9PSBzZXJ2ZXJzLnNpemUoKSkgewogICAgICAgICAgICByZXR1\ncm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxz\nLmpvaW4oc2VydmVycywgIiwiKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ndCB6b29rZWVwZXIgc2VydmVycyB0byBjb25uZWN0CiAgICAgKgogICAgICog\nQHBhcmFtIHprU2VydmVycwogICAgICogICAgICAgICAgWm9vS2VlcGVyIHNl\ncnZlcnMgdG8gY29ubmVjdAogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29u\nZmlndXJhdGlvbiBzZXRaa1NlcnZlcnMoU3RyaW5nIHprU2VydmVycykgewog\nICAgICAgIHNldFByb3BlcnR5KFpLX1NFUlZFUlMsIHprU2VydmVycyk7CiAg\nICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQg\nem9va2VlcGVyIHRpbWVvdXQKICAgICAqCiAgICAgKiBAcmV0dXJuIHpvb2tl\nZXBlciBzZXJ2ZXIgdGltZW91dAogICAgICovCiAgICBwdWJsaWMgaW50IGdl\ndFprVGltZW91dCgpIHsKICAgICAgICByZXR1cm4gZ2V0SW50KFpLX1RJTUVP\nVVQsIDEwMDAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB6b29rZWVw\nZXIgdGltZW91dAogICAgICoKICAgICAqIEBwYXJhbSB6a1RpbWVvdXQKICAg\nICAqICAgICAgICAgIFpvb0tlZXBlciBzZXJ2ZXIgdGltZW91dAogICAgICog\nQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJs\naWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRaa1RpbWVvdXQoaW50IHprVGlt\nZW91dCkgewogICAgICAgIHNldFByb3BlcnR5KFpLX1RJTUVPVVQsIEludGVn\nZXIudG9TdHJpbmcoemtUaW1lb3V0KSk7CiAgICAgICAgcmV0dXJuIHRoaXM7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBJcyBzdGF0aXN0aWNzIGVuYWJsZWQK\nICAgICAqCiAgICAgKiBAcmV0dXJuIGlzIHN0YXRpc3RpY3MgZW5hYmxlZAog\nICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc1N0YXRpc3RpY3NFbmFibGVk\nKCkgewogICAgICAgIHJldHVybiBnZXRCb29sZWFuKEVOQUJMRV9TVEFUSVNU\nSUNTLCB0cnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFR1cm4gb24vb2Zm\nIHN0YXRpc3RpY3MKICAgICAqCiAgICAgKiBAcGFyYW0gZW5hYmxlZAogICAg\nICogICAgICAgICAgV2hldGhlciBzdGF0aXN0aWNzIGVuYWJsZWQgb3Igbm90\nLgogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJhdGlvbgogICAgICov\nCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRTdGF0aXN0aWNz\nRW5hYmxlZChib29sZWFuIGVuYWJsZWQpIHsKICAgICAgICBzZXRQcm9wZXJ0\neShFTkFCTEVfU1RBVElTVElDUywgQm9vbGVhbi50b1N0cmluZyhlbmFibGVk\nKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBHZXQgdGhyZXNob2xkIG9mIG1pbm9yIGNvbXBhY3Rpb24uCiAgICAgKgog\nICAgICogRm9yIHRob3NlIGVudHJ5IGxvZyBmaWxlcyB3aG9zZSByZW1haW5p\nbmcgc2l6ZSBwZXJjZW50YWdlIHJlYWNoZXMgYmVsb3cKICAgICAqIHRoaXMg\ndGhyZXNob2xkICB3aWxsIGJlIGNvbXBhY3RlZCBpbiBhIG1pbm9yIGNvbXBh\nY3Rpb24uCiAgICAgKgogICAgICogSWYgaXQgaXMgc2V0IHRvIGxlc3MgdGhh\nbiB6ZXJvLCB0aGUgbWlub3IgY29tcGFjdGlvbiBpcyBkaXNhYmxlZC4KICAg\nICAqCiAgICAgKiBAcmV0dXJuIHRocmVzaG9sZCBvZiBtaW5vciBjb21wYWN0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBkb3VibGUgZ2V0TWlub3JDb21wYWN0\naW9uVGhyZXNob2xkKCkgewogICAgICAgIHJldHVybiBnZXREb3VibGUoTUlO\nT1JfQ09NUEFDVElPTl9USFJFU0hPTEQsIDAuMmYpOwogICAgfQoKICAgIC8q\nKgogICAgICogU2V0IHRocmVzaG9sZCBvZiBtaW5vciBjb21wYWN0aW9uCiAg\nICAgKgogICAgICogQHNlZSAjZ2V0TWlub3JDb21wYWN0aW9uVGhyZXNob2xk\nKCkKICAgICAqCiAgICAgKiBAcGFyYW0gdGhyZXNob2xkCiAgICAgKiAgICAg\nICAgICBUaHJlc2hvbGQgZm9yIG1pbm9yIGNvbXBhY3Rpb24KICAgICAqIEBy\nZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGlj\nIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0TWlub3JDb21wYWN0aW9uVGhyZXNo\nb2xkKGRvdWJsZSB0aHJlc2hvbGQpIHsKICAgICAgICBzZXRQcm9wZXJ0eShN\nSU5PUl9DT01QQUNUSU9OX1RIUkVTSE9MRCwgdGhyZXNob2xkKTsKICAgICAg\nICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0aHJl\nc2hvbGQgb2YgbWFqb3IgY29tcGFjdGlvbi4KICAgICAqCiAgICAgKiBGb3Ig\ndGhvc2UgZW50cnkgbG9nIGZpbGVzIHdob3NlIHJlbWFpbmluZyBzaXplIHBl\ncmNlbnRhZ2UgcmVhY2hlcyBiZWxvdwogICAgICogdGhpcyB0aHJlc2hvbGQg\nIHdpbGwgYmUgY29tcGFjdGVkIGluIGEgbWFqb3IgY29tcGFjdGlvbi4KICAg\nICAqCiAgICAgKiBJZiBpdCBpcyBzZXQgdG8gbGVzcyB0aGFuIHplcm8sIHRo\nZSBtYWpvciBjb21wYWN0aW9uIGlzIGRpc2FibGVkLgogICAgICoKICAgICAq\nIEByZXR1cm4gdGhyZXNob2xkIG9mIG1ham9yIGNvbXBhY3Rpb24KICAgICAq\nLwogICAgcHVibGljIGRvdWJsZSBnZXRNYWpvckNvbXBhY3Rpb25UaHJlc2hv\nbGQoKSB7CiAgICAgICAgcmV0dXJuIGdldERvdWJsZShNQUpPUl9DT01QQUNU\nSU9OX1RIUkVTSE9MRCwgMC44Zik7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgdGhyZXNob2xkIG9mIG1ham9yIGNvbXBhY3Rpb24uCiAgICAgKgogICAg\nICogQHNlZSAjZ2V0TWFqb3JDb21wYWN0aW9uVGhyZXNob2xkKCkKICAgICAq\nCiAgICAgKiBAcGFyYW0gdGhyZXNob2xkCiAgICAgKiAgICAgICAgICBUaHJl\nc2hvbGQgb2YgbWFqb3IgY29tcGFjdGlvbgogICAgICogQHJldHVybiBzZXJ2\nZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29u\nZmlndXJhdGlvbiBzZXRNYWpvckNvbXBhY3Rpb25UaHJlc2hvbGQoZG91Ymxl\nIHRocmVzaG9sZCkgewogICAgICAgIHNldFByb3BlcnR5KE1BSk9SX0NPTVBB\nQ1RJT05fVEhSRVNIT0xELCB0aHJlc2hvbGQpOwogICAgICAgIHJldHVybiB0\naGlzOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IGludGVydmFsIHRvIHJ1\nbiBtaW5vciBjb21wYWN0aW9uLCBpbiBzZWNvbmRzLgogICAgICoKICAgICAq\nIElmIGl0IGlzIHNldCB0byBsZXNzIHRoYW4gemVybywgdGhlIG1pbm9yIGNv\nbXBhY3Rpb24gaXMgZGlzYWJsZWQuCiAgICAgKgogICAgICogQHJldHVybiB0\naHJlc2hvbGQgb2YgbWlub3IgY29tcGFjdGlvbgogICAgICovCiAgICBwdWJs\naWMgbG9uZyBnZXRNaW5vckNvbXBhY3Rpb25JbnRlcnZhbCgpIHsKICAgICAg\nICByZXR1cm4gZ2V0TG9uZyhNSU5PUl9DT01QQUNUSU9OX0lOVEVSVkFMLCAz\nNjAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBpbnRlcnZhbCB0byBy\ndW4gbWlub3IgY29tcGFjdGlvbgogICAgICoKICAgICAqIEBzZWUgI2dldE1p\nbm9yQ29tcGFjdGlvbkludGVydmFsKCkKICAgICAqCiAgICAgKiBAcGFyYW0g\naW50ZXJ2YWwKICAgICAqICAgICAgICAgIEludGVydmFsIHRvIHJ1biBtaW5v\nciBjb21wYWN0aW9uCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNl\ndE1pbm9yQ29tcGFjdGlvbkludGVydmFsKGxvbmcgaW50ZXJ2YWwpIHsKICAg\nICAgICBzZXRQcm9wZXJ0eShNSU5PUl9DT01QQUNUSU9OX0lOVEVSVkFMLCBp\nbnRlcnZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBHZXQgaW50ZXJ2YWwgdG8gcnVuIG1ham9yIGNvbXBhY3Rpb24s\nIGluIHNlY29uZHMuCiAgICAgKgogICAgICogSWYgaXQgaXMgc2V0IHRvIGxl\nc3MgdGhhbiB6ZXJvLCB0aGUgbWFqb3IgY29tcGFjdGlvbiBpcyBkaXNhYmxl\nZC4KICAgICAqCiAgICAgKiBAcmV0dXJuIGhpZ2ggd2F0ZXIgbWFyawogICAg\nICovCiAgICBwdWJsaWMgbG9uZyBnZXRNYWpvckNvbXBhY3Rpb25JbnRlcnZh\nbCgpIHsKICAgICAgICByZXR1cm4gZ2V0TG9uZyhNQUpPUl9DT01QQUNUSU9O\nX0lOVEVSVkFMLCA4NjQwMCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQg\naW50ZXJ2YWwgdG8gcnVuIG1ham9yIGNvbXBhY3Rpb24uCiAgICAgKgogICAg\nICogQHNlZSAjZ2V0TWFqb3JDb21wYWN0aW9uSW50ZXJ2YWwoKQogICAgICoK\nICAgICAqIEBwYXJhbSBpbnRlcnZhbAogICAgICogICAgICAgICAgSW50ZXJ2\nYWwgdG8gcnVuIG1ham9yIGNvbXBhY3Rpb24KICAgICAqIEByZXR1cm4gc2Vy\ndmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNv\nbmZpZ3VyYXRpb24gc2V0TWFqb3JDb21wYWN0aW9uSW50ZXJ2YWwobG9uZyBp\nbnRlcnZhbCkgewogICAgICAgIHNldFByb3BlcnR5KE1BSk9SX0NPTVBBQ1RJ\nT05fSU5URVJWQUwsIGludGVydmFsKTsKICAgICAgICByZXR1cm4gdGhpczsK\nICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBTZXQgdGhlIGdyYWNlIHBlcmlv\nZCB3aGljaCB0aGUgcmVyZXBsaWNhdGlvbiB3b3JrZXIgd2lsbCB3YWl0IGJl\nZm9yZQogICAgICogZmVuY2luZyBhbmQgcmVyZXBsaWNhdGluZyBhIGxlZGdl\nciBmcmFnbWVudCB3aGljaCBpcyBzdGlsbCBiZWluZyB3cml0dGVuCiAgICAg\nKiB0bywgb24gYm9va2llIGZhaWx1cmUuCiAgICAgKiAKICAgICAqIFRoZSBn\ncmFjZSBwZXJpb2QgYWxsb3dzIHRoZSB3cml0ZXIgdG8gZGV0ZWN0IHRoZSBi\nb29raWUgZmFpbHVyZSwgYW5kCiAgICAgKiBzdGFydCByZXBsaWNhdGluZyB0\naGUgbGVkZ2VyIGZyYWdtZW50LiBJZiB0aGUgd3JpdGVyIHdyaXRlcyBub3Ro\naW5nCiAgICAgKiBkdXJpbmcgdGhlIGdyYWNlIHBlcmlvZCwgdGhlIHJlcmVw\nbGljYXRpb24gd29ya2VyIGFzc3VtZXMgdGhhdCBpdCBoYXMKICAgICAqIGNy\nYXNoZWQgYW5kIGZlbmNlcyB0aGUgbGVkZ2VyLCBwcmV2ZW50aW5nIGFueSBm\ndXJ0aGVyIHdyaXRlcyB0byB0aGF0IAogICAgICogbGVkZ2VyLgogICAgICog\nCiAgICAgKiBAc2VlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuQm9v\na0tlZXBlciNvcGVuTGVkZ2VyCiAgICAgKiAKICAgICAqIEBwYXJhbSB3YWl0\nVGltZSB0aW1lIHRvIHdhaXQgYmVmb3JlIHJlcGxpY2F0aW5nIGxlZGdlciBm\ncmFnbWVudAogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRPcGVuTGVkZ2Vy\nUmVyZXBsaWNhdGlvbkdyYWNlUGVyaW9kKFN0cmluZyB3YWl0VGltZSkgewog\nICAgICAgIHNldFByb3BlcnR5KE9QRU5fTEVER0VSX1JFUkVQTElDQVRJT05f\nR1JBQ0VfUEVSSU9ELCB3YWl0VGltZSk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBHZXQgdGhlIGdyYWNlIHBlcmlvZCB3aGljaCB0aGUgcmVyZXBsaWNhdGlv\nbiB3b3JrZXIgdG8gd2FpdCBiZWZvcmUKICAgICAqIGZlbmNpbmcgYW5kIHJl\ncmVwbGljYXRpbmcgYSBsZWRnZXIgZnJhZ21lbnQgd2hpY2ggaXMgc3RpbGwg\nYmVpbmcgd3JpdHRlbgogICAgICogdG8sIG9uIGJvb2tpZSBmYWlsdXJlLgog\nICAgICogCiAgICAgKiBAcmV0dXJuIGxvbmcKICAgICAqLwogICAgcHVibGlj\nIGxvbmcgZ2V0T3BlbkxlZGdlclJlcmVwbGljYXRpb25HcmFjZVBlcmlvZCgp\nIHsKICAgICAgICByZXR1cm4gZ2V0TG9uZyhPUEVOX0xFREdFUl9SRVJFUExJ\nQ0FUSU9OX0dSQUNFX1BFUklPRCwgMzAwMDApOwogICAgfQoKICAgIC8qKgog\nICAgICogU2V0IHdoZXRoZXIgdGhlIGJvb2tpZSBpcyBhYmxlIHRvIGdvIGlu\ndG8gcmVhZC1vbmx5IG1vZGUuCiAgICAgKiBJZiB0aGlzIGlzIHNldCB0byBm\nYWxzZSwgdGhlIGJvb2tpZSB3aWxsIHNodXRkb3duIG9uIGVuY291bnRlcmlu\nZwogICAgICogYW4gZXJyb3IgY29uZGl0aW9uLgogICAgICogCiAgICAgKiBA\ncGFyYW0gZW5hYmxlZCB3aGV0aGVyIHRvIGVuYWJsZSByZWFkLW9ubHkgbW9k\nZS4KICAgICAqIAogICAgICogQHJldHVybiBTZXJ2ZXJDb25maWd1cmF0aW9u\nIAogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXRS\nZWFkT25seU1vZGVFbmFibGVkKGJvb2xlYW4gZW5hYmxlZCkgewogICAgICAg\nIHNldFByb3BlcnR5KFJFQURfT05MWV9NT0RFX0VOQUJMRUQsIGVuYWJsZWQp\nOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICog\nR2V0IHdoZXRoZXIgcmVhZC1vbmx5IG1vZGUgaXMgZW5hYmxlZC4gVGhlIGRl\nZmF1bHQgaXMgZmFsc2UuCiAgICAgKiAKICAgICAqIEByZXR1cm4gYm9vbGVh\nbgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc1JlYWRPbmx5TW9kZUVu\nYWJsZWQoKSB7CiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW4oUkVBRF9PTkxZ\nX01PREVfRU5BQkxFRCwgZmFsc2UpOwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSBEaXNrIGZyZWUgc3BhY2UgdGhyZXNob2xkIGFzIGEgZnJhY3Rp\nb24gb2YgdGhlIHRvdGFsCiAgICAgKiBhZnRlciB3aGljaCBkaXNrIHdpbGwg\nYmUgY29uc2lkZXJlZCBhcyBmdWxsIGR1cmluZyBkaXNrIGNoZWNrLgogICAg\nICogCiAgICAgKiBAcGFyYW0gdGhyZXNob2xkIHRocmVzaG9sZCB0byBkZWNs\nYXJlIGEgZGlzayBmdWxsCiAgICAgKiAKICAgICAqIEByZXR1cm4gU2VydmVy\nQ29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmln\ndXJhdGlvbiBzZXREaXNrVXNhZ2VUaHJlc2hvbGQoZmxvYXQgdGhyZXNob2xk\nKSB7CiAgICAgICAgc2V0UHJvcGVydHkoRElTS19VU0FHRV9USFJFU0hPTEQs\nIHRocmVzaG9sZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm5zIGRpc2sgZnJlZSBzcGFjZSB0aHJlc2hvbGQu\nIEJ5IGRlZmF1bHQgaXQgaXMgMC45NS4KICAgICAqIAogICAgICogQHJldHVy\nbiBmbG9hdAogICAgICovCiAgICBwdWJsaWMgZmxvYXQgZ2V0RGlza1VzYWdl\nVGhyZXNob2xkKCkgewogICAgICAgIHJldHVybiBnZXRGbG9hdChESVNLX1VT\nQUdFX1RIUkVTSE9MRCwgMC45NWYpOwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSBkaXNrIGNoZWNrZXIgaW50ZXJ2YWwgdG8gbW9uaXRvciBsZWRn\nZXIgZGlzayBzcGFjZQogICAgICogCiAgICAgKiBAcGFyYW0gaW50ZXJ2YWwg\naW50ZXJ2YWwgYmV0d2VlbiBkaXNrIGNoZWNrcyBmb3Igc3BhY2UuCiAgICAg\nKiAKICAgICAqIEByZXR1cm4gU2VydmVyQ29uZmlndXJhdGlvbgogICAgICov\nCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBzZXREaXNrQ2hlY2tJ\nbnRlcnZhbChpbnQgaW50ZXJ2YWwpIHsKICAgICAgICBzZXRQcm9wZXJ0eShE\nSVNLX0NIRUNLX0lOVEVSVkFMLCBpbnRlcnZhbCk7CiAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhlIGRpc2sgY2hl\nY2tlciBpbnRlcnZhbAogICAgICogCiAgICAgKiBAcmV0dXJuIGludAogICAg\nICovCiAgICBwdWJsaWMgaW50IGdldERpc2tDaGVja0ludGVydmFsKCkgewog\nICAgICAgIHJldHVybiBnZXRJbnQoRElTS19DSEVDS19JTlRFUlZBTCwgMTAg\nKiAxMDAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgcmVndWxh\ncml0eSBhdCB3aGljaCB0aGUgYXVkaXRvciB3aWxsIHJ1biBhIGNoZWNrCiAg\nICAgKiBvZiBhbGwgbGVkZ2Vycy4gVGhpcyBzaG91bGQgbm90IGJlIHJ1biB2\nZXJ5IG9mdGVuLCBhbmQgYXQgbW9zdCwKICAgICAqIG9uY2UgYSBkYXkuIFNl\ndHRpbmcgdGhpcyB0byAwIHdpbGwgY29tcGxldGVseSBkaXNhYmxlIHRoZSBw\nZXJpb2RpYwogICAgICogY2hlY2suCiAgICAgKgogICAgICogQHBhcmFtIGlu\ndGVydmFsIFRoZSBpbnRlcnZhbCBpbiBzZWNvbmRzLiBlLmcuIDg2NDAwID0g\nMSBkYXksIDYwNDgwMCA9IDEgd2VlawogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXRBdWRpdG9yUGVyaW9kaWNDaGVja0ludGVydmFsKGxvbmcgaW50ZXJ2\nYWwpIHsKICAgICAgICBzZXRQcm9wZXJ0eShBVURJVE9SX1BFUklPRElDX0NI\nRUNLX0lOVEVSVkFMLCBpbnRlcnZhbCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBHZXQgdGhlIHJlZ3VsYXJpdHkgYXQgd2hpY2ggdGhlIGF1ZGl0b3IgY2hl\nY2tzIGFsbCBsZWRnZXJzLgogICAgICogQHJldHVybiBUaGUgaW50ZXJ2YWwg\naW4gc2Vjb25kcy4gRGVmYXVsdCBpcyA2MDQ4MDAgKDEgd2VlaykuCiAgICAg\nKi8KICAgIHB1YmxpYyBsb25nIGdldEF1ZGl0b3JQZXJpb2RpY0NoZWNrSW50\nZXJ2YWwoKSB7CiAgICAgICAgcmV0dXJuIGdldExvbmcoQVVESVRPUl9QRVJJ\nT0RJQ19DSEVDS19JTlRFUlZBTCwgNjA0ODAwKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFNldCB0aGUgaW50ZXJ2YWwgYmV0d2VlbiBhdWRpdG9yIGJvb2tp\nZSBjaGVja3MuCiAgICAgKiBUaGUgYXVkaXRvciBib29raWUgY2hlY2ssIGNo\nZWNrcyBsZWRnZXIgbWV0YWRhdGEgdG8gc2VlIHdoaWNoIGJvb2tpZXMKICAg\nICAqIGNvbnRhaW4gZW50cmllcyBmb3IgZWFjaCBsZWRnZXIuIElmIGEgYm9v\na2llIHdoaWNoIHNob3VsZCBjb250YWluIGVudHJpZXMKICAgICAqIGlzIHVu\nYXZhaWxhYmxlLCB0aGVuIHRoZSBsZWRnZXIgY29udGFpbmluZyB0aGF0IGVu\ndHJ5IGlzIG1hcmtlZCBmb3IgcmVjb3ZlcnkuCiAgICAgKiBTZXR0aW5nIHRo\naXMgdG8gMCBkaXNhYmxlZCB0aGUgcGVyaW9kaWMgY2hlY2suIEJvb2tpZSBj\naGVja3Mgd2lsbCBzdGlsbAogICAgICogcnVuIHdoZW4gYSBib29raWUgZmFp\nbHMuCiAgICAgKgogICAgICogQHBhcmFtIGludGVydmFsIFRoZSBwZXJpb2Qg\naW4gc2Vjb25kcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0QXVkaXRv\nclBlcmlvZGljQm9va2llQ2hlY2tJbnRlcnZhbChsb25nIGludGVydmFsKSB7\nCiAgICAgICAgc2V0UHJvcGVydHkoQVVESVRPUl9QRVJJT0RJQ19CT09LSUVf\nQ0hFQ0tfSU5URVJWQUwsIGludGVydmFsKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIEdldCB0aGUgaW50ZXJ2YWwgYmV0d2VlbiBhdWRpdG9yIGJvb2tpZSBj\naGVjayBydW5zLgogICAgICogQHNlZSAjc2V0QXVkaXRvclBlcmlvZGljQm9v\na2llQ2hlY2tJbnRlcnZhbChsb25nKQogICAgICogQHJldHVybiB0aGUgaW50\nZXJ2YWwgYmV0d2VlbiBib29raWUgY2hlY2sgcnVucywgaW4gc2Vjb25kcy4g\nRGVmYXVsdCBpcyA4NjQwMCAoPSAxIGRheSkKICAgICAqLwogICAgcHVibGlj\nIGxvbmcgZ2V0QXVkaXRvclBlcmlvZGljQm9va2llQ2hlY2tJbnRlcnZhbCgp\nIHsKICAgICAgICByZXR1cm4gZ2V0TG9uZyhBVURJVE9SX1BFUklPRElDX0JP\nT0tJRV9DSEVDS19JTlRFUlZBTCwgODY0MDApOwogICAgfQoKICAgIC8qKgog\nICAgICogU2V0cyB0aGF0IHdoZXRoZXIgdGhlIGF1dG8tcmVjb3Zlcnkgc2Vy\ndmljZSBjYW4gc3RhcnQgYWxvbmcgd2l0aCBCb29raWUKICAgICAqIHNlcnZl\nciBpdHNlbGYgb3Igbm90CiAgICAgKgogICAgICogQHBhcmFtIGVuYWJsZWQK\nICAgICAqICAgICAgICAgICAgLSB0cnVlIGlmIG5lZWQgdG8gc3RhcnQgYXV0\nby1yZWNvdmVyeSBzZXJ2aWNlLiBPdGhlcndpc2UKICAgICAqICAgICAgICAg\nICAgZmFsc2UuCiAgICAgKiBAcmV0dXJuIFNlcnZlckNvbmZpZ3VyYXRpb24K\nICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0QXV0\nb1JlY292ZXJ5RGFlbW9uRW5hYmxlZChib29sZWFuIGVuYWJsZWQpIHsKICAg\nICAgICBzZXRQcm9wZXJ0eShBVVRPX1JFQ09WRVJZX0RBRU1PTl9FTkFCTEVE\nLCBlbmFibGVkKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAv\nKioKICAgICAqIEdldCB3aGV0aGVyIHRoZSBCb29raWUgaXRzZWxmIGNhbiBz\ndGFydCBhdXRvLXJlY292ZXJ5IHNlcnZpY2UgYWxzbyBvciBub3QKICAgICAq\nCiAgICAgKiBAcmV0dXJuIHRydWUgLSBpZiBCb29raWUgc2hvdWxkIHN0YXJ0\nIGF1dG8tcmVjb3Zlcnkgc2VydmljZSBhbG9uZyB3aXRoCiAgICAgKiAgICAg\nICAgIGl0LiBmYWxzZSBvdGhlcndpc2UuCiAgICAgKi8KICAgIHB1YmxpYyBi\nb29sZWFuIGlzQXV0b1JlY292ZXJ5RGFlbW9uRW5hYmxlZCgpIHsKICAgICAg\nICByZXR1cm4gZ2V0Qm9vbGVhbihBVVRPX1JFQ09WRVJZX0RBRU1PTl9FTkFC\nTEVELCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhlIG1h\neGltdW0gbnVtYmVyIG9mIGVudHJpZXMgd2hpY2ggY2FuIGJlIGNvbXBhY3Rl\nZCB3aXRob3V0IGZsdXNoaW5nLgogICAgICogRGVmYXVsdCBpcyAxMDAsMDAw\nLgogICAgICoKICAgICAqIEByZXR1cm4gdGhlIG1heGltdW0gbnVtYmVyIG9m\nIHVuZmx1c2hlZCBlbnRyaWVzCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0\nQ29tcGFjdGlvbk1heE91dHN0YW5kaW5nUmVxdWVzdHMoKSB7CiAgICAgICAg\ncmV0dXJuIGdldEludChDT01QQUNUSU9OX01BWF9PVVRTVEFORElOR19SRVFV\nRVNUUywgMTAwMDAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUg\nbWF4aW11bSBudW1iZXIgb2YgZW50cmllcyB3aGljaCBjYW4gYmUgY29tcGFj\ndGVkIHdpdGhvdXQgZmx1c2hpbmcuCiAgICAgKgogICAgICogV2hlbiBjb21w\nYWN0aW5nLCB0aGUgZW50cmllcyBhcmUgd3JpdHRlbiB0byB0aGUgZW50cnls\nb2cgYW5kIHRoZSBuZXcgb2Zmc2V0cwogICAgICogYXJlIGNhY2hlZCBpbiBt\nZW1vcnkuIE9uY2UgdGhlIGVudHJ5bG9nIGlzIGZsdXNoZWQgdGhlIGluZGV4\nIGlzIHVwZGF0ZWQgd2l0aAogICAgICogdGhlIG5ldyBvZmZzZXRzLiBUaGlz\nIHBhcmFtZXRlciBjb250cm9scyB0aGUgbnVtYmVyIG9mIGVudHJpZXMgYWRk\nZWQgdG8gdGhlCiAgICAgKiBlbnRyeWxvZyBiZWZvcmUgYSBmbHVzaCBpcyBm\nb3JjZWQuIEEgaGlnaGVyIHZhbHVlIGZvciB0aGlzIHBhcmFtZXRlciBtZWFu\ncwogICAgICogbW9yZSBtZW1vcnkgd2lsbCBiZSB1c2VkIGZvciBvZmZzZXRz\nLiBFYWNoIG9mZnNldCBjb25zaXN0cyBvZiAzIGxvbmdzLgogICAgICoKICAg\nICAqIFRoaXMgcGFyYW1ldGVyIHNob3VsZCBfbm90XyBiZSBtb2RpZmllZCB1\nbmxlc3MgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuCiAgICAgKiBUaGUg\nZGVmYXVsdCBpcyAxMDAsMDAwLgogICAgICoKICAgICAqIEBwYXJhbSBtYXhP\ndXRzdGFuZGluZ1JlcXVlc3RzIG51bWJlciBvZiBlbnRyaWVzIHRvIGNvbXBh\nY3QgYmVmb3JlIGZsdXNoaW5nCiAgICAgKgogICAgICogQHJldHVybiBTZXJ2\nZXJDb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25m\naWd1cmF0aW9uIHNldENvbXBhY3Rpb25NYXhPdXRzdGFuZGluZ1JlcXVlc3Rz\nKGludCBtYXhPdXRzdGFuZGluZ1JlcXVlc3RzKSB7CiAgICAgICAgc2V0UHJv\ncGVydHkoQ09NUEFDVElPTl9NQVhfT1VUU1RBTkRJTkdfUkVRVUVTVFMsIG1h\neE91dHN0YW5kaW5nUmVxdWVzdHMpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogR2V0IHRoZSByYXRlIG9mIGNvbXBhY3Rp\nb24gYWRkcy4gRGVmYXVsdCBpcyAxLDAwMC4KICAgICAqCiAgICAgKiBAcmV0\ndXJuIHJhdGUgb2YgY29tcGFjdGlvbiAoYWRkcyBwZXIgc2Vjb25kKQogICAg\nICovCiAgICBwdWJsaWMgaW50IGdldENvbXBhY3Rpb25SYXRlKCkgewogICAg\nICAgIHJldHVybiBnZXRJbnQoQ09NUEFDVElPTl9SQVRFLCAxMDAwKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgcmF0ZSBvZiBjb21wYWN0aW9u\nIGFkZHMuCiAgICAgKgogICAgICogQHBhcmFtIHJhdGUgcmF0ZSBvZiBjb21w\nYWN0aW9uIGFkZHMgKGFkZHMgcGVyIHNlY29uZCkKICAgICAqCiAgICAgKiBA\ncmV0dXJuIFNlcnZlckNvbmZpZ3VyYXRpb24KICAgICAqLwogICAgcHVibGlj\nIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0Q29tcGFjdGlvblJhdGUoaW50IHJh\ndGUpIHsKICAgICAgICBzZXRQcm9wZXJ0eShDT01QQUNUSU9OX1JBVEUsIHJh\ndGUpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQp9Cg==\n","encoding":"base64"}

