{"sha":"35f57a69c7ec4d362132273169dc46b4c19d9329","node_id":"MDQ6QmxvYjE1NzU5NTY6MzVmNTdhNjljN2VjNGQzNjIxMzIyNzMxNjlkYzQ2YjRjMTlkOTMyOQ==","size":8895,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/35f57a69c7ec4d362132273169dc46b4c19d9329","content":"LyoqCiAqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRv\nciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAq\nIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRo\nZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5z\nZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21w\nbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh\nIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJl\ncXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0\naW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5z\nZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRI\nT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwg\nZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNz\naW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAq\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci5ib29raWU7Cgpp\nbXBvcnQgamF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5GaWxlTm90Rm91\nbmRFeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwppbXBv\ncnQgamF2YS5pby5SYW5kb21BY2Nlc3NGaWxlOwppbXBvcnQgamF2YS5uaW8u\nQnl0ZUJ1ZmZlcjsKCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7\nCgppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmJvb2tpZS5HYXJiYWdl\nQ29sbGVjdG9yVGhyZWFkLkVudHJ5TG9nTWV0YWRhdGE7CmltcG9ydCBvcmcu\nYXBhY2hlLmJvb2trZWVwZXIuYm9va2llLkdhcmJhZ2VDb2xsZWN0b3JUaHJl\nYWQuRXh0cmFjdGlvblNjYW5uZXI7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2tr\nZWVwZXIuY29uZi5TZXJ2ZXJDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmp1\nbml0LkFmdGVyOwppbXBvcnQgb3JnLmp1bml0LkFzc2VydDsKaW1wb3J0IG9y\nZy5qdW5pdC5CZWZvcmU7CmltcG9ydCBvcmcuanVuaXQuVGVzdDsKCmltcG9y\ndCBvcmcuc2xmNGouTG9nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZh\nY3Rvcnk7CgpwdWJsaWMgY2xhc3MgRW50cnlMb2dUZXN0IGV4dGVuZHMgVGVz\ndENhc2UgewogICAgc3RhdGljIExvZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5\nLmdldExvZ2dlcihFbnRyeUxvZ1Rlc3QuY2xhc3MpOwoKICAgIEBCZWZvcmUK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAg\nICB9CgogICAgQFRlc3QodGltZW91dD02MDAwMCkKICAgIHB1YmxpYyB2b2lk\nIHRlc3RDb3JydXB0RW50cnlMb2coKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBGaWxlIHRtcERpciA9IEZpbGUuY3JlYXRlVGVtcEZpbGUoImJrVGVz\ndCIsICIuZGlyIik7CiAgICAgICAgdG1wRGlyLmRlbGV0ZSgpOwogICAgICAg\nIHRtcERpci5ta2RpcigpOwogICAgICAgIEZpbGUgY3VyRGlyID0gQm9va2ll\nLmdldEN1cnJlbnREaXJlY3RvcnkodG1wRGlyKTsKICAgICAgICBCb29raWUu\nY2hlY2tEaXJlY3RvcnlTdHJ1Y3R1cmUoY3VyRGlyKTsKCiAgICAgICAgaW50\nIGdjV2FpdFRpbWUgPSAxMDAwOwogICAgICAgIFNlcnZlckNvbmZpZ3VyYXRp\nb24gY29uZiA9IG5ldyBTZXJ2ZXJDb25maWd1cmF0aW9uKCk7CiAgICAgICAg\nY29uZi5zZXRBbGxvd0xvb3BiYWNrKHRydWUpOwogICAgICAgIGNvbmYuc2V0\nR2NXYWl0VGltZShnY1dhaXRUaW1lKTsKICAgICAgICBjb25mLnNldExlZGdl\nckRpck5hbWVzKG5ldyBTdHJpbmdbXSB7dG1wRGlyLnRvU3RyaW5nKCl9KTsK\nICAgICAgICBCb29raWUgYm9va2llID0gbmV3IEJvb2tpZShjb25mKTsKICAg\nICAgICAvLyBjcmVhdGUgc29tZSBlbnRyaWVzCiAgICAgICAgRW50cnlMb2dn\nZXIgbG9nZ2VyID0gKChJbnRlcmxlYXZlZExlZGdlclN0b3JhZ2UpYm9va2ll\nLmxlZGdlclN0b3JhZ2UpLmVudHJ5TG9nZ2VyOwogICAgICAgIGxvZ2dlci5h\nZGRFbnRyeSgxLCBnZW5lcmF0ZUVudHJ5KDEsIDEpKTsKICAgICAgICBsb2dn\nZXIuYWRkRW50cnkoMywgZ2VuZXJhdGVFbnRyeSgzLCAxKSk7CiAgICAgICAg\nbG9nZ2VyLmFkZEVudHJ5KDIsIGdlbmVyYXRlRW50cnkoMiwgMSkpOwogICAg\nICAgIGxvZ2dlci5mbHVzaCgpOwogICAgICAgIC8vIG5vdyBsZXRzIHRydW5j\nYXRlIHRoZSBmaWxlIHRvIGNvcnJ1cHQgdGhlIGxhc3QgZW50cnksIHdoaWNo\nIHNpbXVsYXRlcyBhIHBhcnRpYWwgd3JpdGUKICAgICAgICBGaWxlIGYgPSBu\nZXcgRmlsZShjdXJEaXIsICIwLmxvZyIpOwogICAgICAgIFJhbmRvbUFjY2Vz\nc0ZpbGUgcmFmID0gbmV3IFJhbmRvbUFjY2Vzc0ZpbGUoZiwgInJ3Iik7CiAg\nICAgICAgcmFmLnNldExlbmd0aChyYWYubGVuZ3RoKCktMTApOwogICAgICAg\nIHJhZi5jbG9zZSgpOwogICAgICAgIC8vIG5vdyBzZWUgd2hpY2ggbGVkZ2Vy\ncyBhcmUgaW4gdGhlIGxvZwogICAgICAgIGxvZ2dlciA9IG5ldyBFbnRyeUxv\nZ2dlcihjb25mLCBib29raWUuZ2V0TGVkZ2VyRGlyc01hbmFnZXIoKSk7Cgog\nICAgICAgIEVudHJ5TG9nTWV0YWRhdGEgbWV0YSA9IG5ldyBFbnRyeUxvZ01l\ndGFkYXRhKDBMKTsKICAgICAgICBFeHRyYWN0aW9uU2Nhbm5lciBzY2FubmVy\nID0gbmV3IEV4dHJhY3Rpb25TY2FubmVyKG1ldGEpOwoKICAgICAgICB0cnkg\newogICAgICAgICAgICBsb2dnZXIuc2NhbkVudHJ5TG9nKDBMLCBzY2FubmVy\nKTsKICAgICAgICAgICAgZmFpbCgiU2hvdWxkIG5vdCByZWFjaCBoZXJlISIp\nOwogICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGllKSB7CiAgICAgICAg\nfQoKICAgICAgICBMT0cuaW5mbygiRXh0cmFjdGVkIE1ldGEgRnJvbSBFbnRy\neSBMb2cge30iLCBtZXRhKTsKICAgICAgICBhc3NlcnROb3ROdWxsKG1ldGEu\nbGVkZ2Vyc01hcC5nZXQoMUwpKTsKICAgICAgICBhc3NlcnROdWxsKG1ldGEu\nbGVkZ2Vyc01hcC5nZXQoMkwpKTsKICAgICAgICBhc3NlcnROb3ROdWxsKG1l\ndGEubGVkZ2Vyc01hcC5nZXQoM0wpKTsKICAgIH0KCiAgICBwcml2YXRlIEJ5\ndGVCdWZmZXIgZ2VuZXJhdGVFbnRyeShsb25nIGxlZGdlciwgbG9uZyBlbnRy\neSkgewogICAgICAgIGJ5dGVbXSBkYXRhID0gKCJsZWRnZXItIiArIGxlZGdl\nciArICItIiArIGVudHJ5KS5nZXRCeXRlcygpOwogICAgICAgIEJ5dGVCdWZm\nZXIgYmIgPSBCeXRlQnVmZmVyLndyYXAobmV3IGJ5dGVbOCArIDggKyBkYXRh\nLmxlbmd0aF0pOwogICAgICAgIGJiLnB1dExvbmcobGVkZ2VyKTsKICAgICAg\nICBiYi5wdXRMb25nKGVudHJ5KTsKICAgICAgICBiYi5wdXQoZGF0YSk7CiAg\nICAgICAgYmIuZmxpcCgpOwogICAgICAgIHJldHVybiBiYjsKICAgIH0KCiAg\nICBAVGVzdCh0aW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQgdGVzdE1p\nc3NpbmdMb2dJZCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIEZpbGUg\ndG1wRGlyID0gRmlsZS5jcmVhdGVUZW1wRmlsZSgiZW50cnlMb2dUZXN0Iiwg\nIi5kaXIiKTsKICAgICAgICB0bXBEaXIuZGVsZXRlKCk7CiAgICAgICAgdG1w\nRGlyLm1rZGlyKCk7CiAgICAgICAgRmlsZSBjdXJEaXIgPSBCb29raWUuZ2V0\nQ3VycmVudERpcmVjdG9yeSh0bXBEaXIpOwogICAgICAgIEJvb2tpZS5jaGVj\na0RpcmVjdG9yeVN0cnVjdHVyZShjdXJEaXIpOwoKICAgICAgICBTZXJ2ZXJD\nb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgU2VydmVyQ29uZmlndXJhdGlvbigp\nOwogICAgICAgIGNvbmYuc2V0QWxsb3dMb29wYmFjayh0cnVlKTsKICAgICAg\nICBjb25mLnNldExlZGdlckRpck5hbWVzKG5ldyBTdHJpbmdbXSB7dG1wRGly\nLnRvU3RyaW5nKCl9KTsKICAgICAgICBCb29raWUgYm9va2llID0gbmV3IEJv\nb2tpZShjb25mKTsKICAgICAgICAvLyBjcmVhdGUgc29tZSBlbnRyaWVzCiAg\nICAgICAgaW50IG51bUxvZ3MgPSAzOwogICAgICAgIGludCBudW1FbnRyaWVz\nID0gMTA7CiAgICAgICAgbG9uZ1tdW10gcG9zaXRpb25zID0gbmV3IGxvbmdb\nMipudW1Mb2dzXVtdOwogICAgICAgIGZvciAoaW50IGk9MDsgaTxudW1Mb2dz\nOyBpKyspIHsKICAgICAgICAgICAgcG9zaXRpb25zW2ldID0gbmV3IGxvbmdb\nbnVtRW50cmllc107CgogICAgICAgICAgICBFbnRyeUxvZ2dlciBsb2dnZXIg\nPSBuZXcgRW50cnlMb2dnZXIoY29uZiwKICAgICAgICAgICAgICAgICAgICBi\nb29raWUuZ2V0TGVkZ2VyRGlyc01hbmFnZXIoKSk7CiAgICAgICAgICAgIGZv\nciAoaW50IGo9MDsgajxudW1FbnRyaWVzOyBqKyspIHsKICAgICAgICAgICAg\nICAgIHBvc2l0aW9uc1tpXVtqXSA9IGxvZ2dlci5hZGRFbnRyeShpLCBnZW5l\ncmF0ZUVudHJ5KGksIGopKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBs\nb2dnZXIuZmx1c2goKTsKICAgICAgICB9CiAgICAgICAgLy8gZGVsZXRlIGxh\nc3QgbG9nIGlkCiAgICAgICAgRmlsZSBsYXN0TG9nSWQgPSBuZXcgRmlsZShj\ndXJEaXIsICJsYXN0SWQiKTsKICAgICAgICBsYXN0TG9nSWQuZGVsZXRlKCk7\nCgogICAgICAgIC8vIHdyaXRlIGFub3RoZXIgZW50cmllcwogICAgICAgIGZv\nciAoaW50IGk9bnVtTG9nczsgaTwyKm51bUxvZ3M7IGkrKykgewogICAgICAg\nICAgICBwb3NpdGlvbnNbaV0gPSBuZXcgbG9uZ1tudW1FbnRyaWVzXTsKCiAg\nICAgICAgICAgIEVudHJ5TG9nZ2VyIGxvZ2dlciA9IG5ldyBFbnRyeUxvZ2dl\ncihjb25mLAogICAgICAgICAgICAgICAgICAgIGJvb2tpZS5nZXRMZWRnZXJE\naXJzTWFuYWdlcigpKTsKICAgICAgICAgICAgZm9yIChpbnQgaj0wOyBqPG51\nbUVudHJpZXM7IGorKykgewogICAgICAgICAgICAgICAgcG9zaXRpb25zW2ld\nW2pdID0gbG9nZ2VyLmFkZEVudHJ5KGksIGdlbmVyYXRlRW50cnkoaSwgaikp\nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxvZ2dlci5mbHVzaCgpOwog\nICAgICAgIH0KCiAgICAgICAgRW50cnlMb2dnZXIgbmV3TG9nZ2VyID0gbmV3\nIEVudHJ5TG9nZ2VyKGNvbmYsCiAgICAgICAgICAgICAgICBib29raWUuZ2V0\nTGVkZ2VyRGlyc01hbmFnZXIoKSk7CiAgICAgICAgZm9yIChpbnQgaT0wOyBp\nPCgyKm51bUxvZ3MrMSk7IGkrKykgewogICAgICAgICAgICBGaWxlIGxvZ0Zp\nbGUgPSBuZXcgRmlsZShjdXJEaXIsIExvbmcudG9IZXhTdHJpbmcoaSkgKyAi\nLmxvZyIpOwogICAgICAgICAgICBhc3NlcnRUcnVlKGxvZ0ZpbGUuZXhpc3Rz\nKCkpOwogICAgICAgIH0KICAgICAgICBmb3IgKGludCBpPTA7IGk8MipudW1M\nb2dzOyBpKyspIHsKICAgICAgICAgICAgZm9yIChpbnQgaj0wOyBqPG51bUVu\ndHJpZXM7IGorKykgewogICAgICAgICAgICAgICAgU3RyaW5nIGV4cGVjdGVk\nVmFsdWUgPSAibGVkZ2VyLSIgKyBpICsgIi0iICsgajsKICAgICAgICAgICAg\nICAgIGJ5dGVbXSB2YWx1ZSA9IG5ld0xvZ2dlci5yZWFkRW50cnkoaSwgaiwg\ncG9zaXRpb25zW2ldW2pdKTsKICAgICAgICAgICAgICAgIEJ5dGVCdWZmZXIg\nYnVmID0gQnl0ZUJ1ZmZlci53cmFwKHZhbHVlKTsKICAgICAgICAgICAgICAg\nIGxvbmcgbGVkZ2VySWQgPSBidWYuZ2V0TG9uZygpOwogICAgICAgICAgICAg\nICAgbG9uZyBlbnRyeUlkID0gYnVmLmdldExvbmcoKTsKICAgICAgICAgICAg\nICAgIGJ5dGVbXSBkYXRhID0gbmV3IGJ5dGVbYnVmLnJlbWFpbmluZygpXTsK\nICAgICAgICAgICAgICAgIGJ1Zi5nZXQoZGF0YSk7CiAgICAgICAgICAgICAg\nICBhc3NlcnRFcXVhbHMoaSwgbGVkZ2VySWQpOwogICAgICAgICAgICAgICAg\nYXNzZXJ0RXF1YWxzKGosIGVudHJ5SWQpOwogICAgICAgICAgICAgICAgYXNz\nZXJ0RXF1YWxzKGV4cGVjdGVkVmFsdWUsIG5ldyBTdHJpbmcoZGF0YSkpOwog\nICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEBUZXN0KHRpbWVv\ndXQ9NjAwMDApCiAgICAvKiogVGVzdCB0aGF0IEVudHJ5TG9nZ2VyIFNob3Vs\nZCBmYWlsIHdpdGggRk5GRSwgaWYgZW50cnkgbG9nZ2VyIGRpcmVjdG9yaWVz\nIGRvZXMgbm90IGV4aXN0Ki8KICAgIHB1YmxpYyB2b2lkIHRlc3RFbnRyeUxv\nZ2dlclNob3VsZFRocm93Rk5GRUlmRGlyZWN0b3JpZXNEb2VzTm90RXhpc3Qo\nKQogICAgICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBGaWxl\nIHRtcERpciA9IEZpbGUuY3JlYXRlVGVtcEZpbGUoImJrVGVzdCIsICIuZGly\nIik7CiAgICAgICAgdG1wRGlyLmRlbGV0ZSgpOwogICAgICAgIFNlcnZlckNv\nbmZpZ3VyYXRpb24gY29uZiA9IG5ldyBTZXJ2ZXJDb25maWd1cmF0aW9uKCk7\nCiAgICAgICAgY29uZi5zZXRBbGxvd0xvb3BiYWNrKHRydWUpOwogICAgICAg\nIGNvbmYuc2V0TGVkZ2VyRGlyTmFtZXMobmV3IFN0cmluZ1tdIHsgdG1wRGly\nLnRvU3RyaW5nKCkgfSk7CiAgICAgICAgRW50cnlMb2dnZXIgZW50cnlMb2dn\nZXIgPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVudHJ5TG9n\nZ2VyID0gbmV3IEVudHJ5TG9nZ2VyKGNvbmYsIG5ldyBMZWRnZXJEaXJzTWFu\nYWdlcihjb25mKSk7CiAgICAgICAgICAgIGZhaWwoIkV4cGVjdGluZyBGaWxl\nTm90Rm91bmRFeGNlcHRpb24iKTsKICAgICAgICB9IGNhdGNoIChGaWxlTm90\nRm91bmRFeGNlcHRpb24gZSkgewogICAgICAgICAgICBhc3NlcnRFcXVhbHMo\nIkVudHJ5IGxvZyBkaXJlY3RvcnkgZG9lcyBub3QgZXhpc3QiLCBlCiAgICAg\nICAgICAgICAgICAgICAgLmdldExvY2FsaXplZE1lc3NhZ2UoKSk7CiAgICAg\nICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgaWYgKGVudHJ5TG9nZ2VyICE9\nIG51bGwpIHsKICAgICAgICAgICAgICAgIGVudHJ5TG9nZ2VyLnNodXRkb3du\nKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUZXN0IHRvIHZlcmlmeSB0aGUgRGlza0Z1bGwgZHVyaW5nIGFkZEVu\ndHJ5CiAgICAgKi8KICAgIEBUZXN0KHRpbWVvdXQ9NjAwMDApCiAgICBwdWJs\naWMgdm9pZCB0ZXN0QWRkRW50cnlGYWlsdXJlT25EaXNrRnVsbCgpIHRocm93\ncyBFeGNlcHRpb24gewogICAgICAgIEZpbGUgbGVkZ2VyRGlyMSA9IEZpbGUu\nY3JlYXRlVGVtcEZpbGUoImJrVGVzdCIsICIuZGlyIik7CiAgICAgICAgbGVk\nZ2VyRGlyMS5kZWxldGUoKTsKICAgICAgICBGaWxlIGxlZGdlckRpcjIgPSBG\naWxlLmNyZWF0ZVRlbXBGaWxlKCJia1Rlc3QiLCAiLmRpciIpOwogICAgICAg\nIGxlZGdlckRpcjIuZGVsZXRlKCk7CiAgICAgICAgU2VydmVyQ29uZmlndXJh\ndGlvbiBjb25mID0gbmV3IFNlcnZlckNvbmZpZ3VyYXRpb24oKTsKICAgICAg\nICBjb25mLnNldEFsbG93TG9vcGJhY2sodHJ1ZSk7CiAgICAgICAgY29uZi5z\nZXRMZWRnZXJEaXJOYW1lcyhuZXcgU3RyaW5nW10geyBsZWRnZXJEaXIxLmdl\ndEFic29sdXRlUGF0aCgpLAogICAgICAgICAgICAgICAgbGVkZ2VyRGlyMi5n\nZXRBYnNvbHV0ZVBhdGgoKSB9KTsKICAgICAgICBCb29raWUgYm9va2llID0g\nbmV3IEJvb2tpZShjb25mKTsKICAgICAgICBFbnRyeUxvZ2dlciBlbnRyeUxv\nZ2dlciA9IG5ldyBFbnRyeUxvZ2dlcihjb25mLAogICAgICAgICAgICAgICAg\nYm9va2llLmdldExlZGdlckRpcnNNYW5hZ2VyKCkpOwogICAgICAgIEludGVy\nbGVhdmVkTGVkZ2VyU3RvcmFnZSBsZWRnZXJTdG9yYWdlID0gKChJbnRlcmxl\nYXZlZExlZGdlclN0b3JhZ2UpIGJvb2tpZS5sZWRnZXJTdG9yYWdlKTsKICAg\nICAgICBsZWRnZXJTdG9yYWdlLmVudHJ5TG9nZ2VyID0gZW50cnlMb2dnZXI7\nCiAgICAgICAgLy8gQ3JlYXRlIGxlZGdlcnMKICAgICAgICBsZWRnZXJTdG9y\nYWdlLnNldE1hc3RlcktleSgxLCAia2V5Ii5nZXRCeXRlcygpKTsKICAgICAg\nICBsZWRnZXJTdG9yYWdlLnNldE1hc3RlcktleSgyLCAia2V5Ii5nZXRCeXRl\ncygpKTsKICAgICAgICBsZWRnZXJTdG9yYWdlLnNldE1hc3RlcktleSgzLCAi\na2V5Ii5nZXRCeXRlcygpKTsKICAgICAgICAvLyBBZGQgZW50cmllcwogICAg\nICAgIGxlZGdlclN0b3JhZ2UuYWRkRW50cnkoZ2VuZXJhdGVFbnRyeSgxLCAx\nKSk7CiAgICAgICAgbGVkZ2VyU3RvcmFnZS5hZGRFbnRyeShnZW5lcmF0ZUVu\ndHJ5KDIsIDEpKTsKICAgICAgICAvLyBBZGQgZW50cnkgd2l0aCBkaXNrIGZ1\nbGwgZmFpbHVyZSBzaW11bGF0aW9uCiAgICAgICAgYm9va2llLmdldExlZGdl\nckRpcnNNYW5hZ2VyKCkuYWRkVG9GaWxsZWREaXJzKGVudHJ5TG9nZ2VyLmN1\ncnJlbnREaXIpOwogICAgICAgIGxlZGdlclN0b3JhZ2UuYWRkRW50cnkoZ2Vu\nZXJhdGVFbnRyeSgzLCAxKSk7CiAgICAgICAgLy8gVmVyaWZ5IHdyaXR0ZW4g\nZW50cmllcwogICAgICAgIEFzc2VydC5hc3NlcnRBcnJheUVxdWFscyhnZW5l\ncmF0ZUVudHJ5KDEsIDEpLmFycmF5KCksIGxlZGdlclN0b3JhZ2UKICAgICAg\nICAgICAgICAgIC5nZXRFbnRyeSgxLCAxKS5hcnJheSgpKTsKICAgICAgICBB\nc3NlcnQuYXNzZXJ0QXJyYXlFcXVhbHMoZ2VuZXJhdGVFbnRyeSgyLCAxKS5h\ncnJheSgpLCBsZWRnZXJTdG9yYWdlCiAgICAgICAgICAgICAgICAuZ2V0RW50\ncnkoMiwgMSkuYXJyYXkoKSk7CiAgICAgICAgQXNzZXJ0LmFzc2VydEFycmF5\nRXF1YWxzKGdlbmVyYXRlRW50cnkoMywgMSkuYXJyYXkoKSwgbGVkZ2VyU3Rv\ncmFnZQogICAgICAgICAgICAgICAgLmdldEVudHJ5KDMsIDEpLmFycmF5KCkp\nOwogICAgfQoKICAgIEBBZnRlcgogICAgcHVibGljIHZvaWQgdGVhckRvd24o\nKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgIH0KCn0K\n","encoding":"base64"}

