{"sha":"ef03c2767a59358c2f0f7f39bb0a3d75a5482033","node_id":"MDQ6QmxvYjE1NzU5NTY6ZWYwM2MyNzY3YTU5MzU4YzJmMGY3ZjM5YmIwYTNkNzVhNTQ4MjAzMw==","size":3736,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/ef03c2767a59358c2f0f7f39bb0a3d75a5482033","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50OwoKLyoKICoK\nICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u\nIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vu\nc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRp\nb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNG\nIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UK\nICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAq\nIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUK\nICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFu\nZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgpp\nbXBvcnQgb3JnLmp1bml0Lio7CmltcG9ydCBqYXZhLm5ldC5JbmV0U29ja2V0\nQWRkcmVzczsKaW1wb3J0IGphdmEudXRpbC5FbnVtZXJhdGlvbjsKaW1wb3J0\nIGphdmEudXRpbC5jb25jdXJyZW50LkN5Y2xpY0JhcnJpZXI7CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5Db3VudERvd25MYXRjaDsKaW1wb3J0IGph\ndmEudXRpbC5jb25jdXJyZW50LmF0b21pYy5BdG9taWNCb29sZWFuOwppbXBv\ncnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNvbmYuQ2xpZW50Q29uZmlndXJh\ndGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuQXN5\nbmNDYWxsYmFjay5BZGRDYWxsYmFjazsKCmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIuY2xpZW50LkxlZGdlckhhbmRsZTsKaW1wb3J0IG9yZy5hcGFj\naGUuYm9va2tlZXBlci5jbGllbnQuTGVkZ2VyRW50cnk7CmltcG9ydCBvcmcu\nYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50LkJvb2tLZWVwZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50LkJvb2tLZWVwZXJBZG1pbjsK\naW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jbGllbnQuQktFeGNlcHRp\nb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50LkJvb2tL\nZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBl\nci50ZXN0LkJvb2tLZWVwZXJDbHVzdGVyVGVzdENhc2U7CmltcG9ydCBqYXZh\nLnV0aWwuSGFzaFNldDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CgppbXBvcnQg\nb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0\nb3J5OwoKLyoqCiAqIFRoaXMgdW5pdCB0ZXN0IHRlc3RzIGxlZGdlciBmZW5j\naW5nOwogKgogKi8KcHVibGljIGNsYXNzIFRlc3RSZWFkVGltZW91dCBleHRl\nbmRzIEJvb2tLZWVwZXJDbHVzdGVyVGVzdENhc2UgewogICAgc3RhdGljIExv\nZ2dlciBMT0cgPSBMb2dnZXJGYWN0b3J5LmdldExvZ2dlcihUZXN0UmVhZFRp\nbWVvdXQuY2xhc3MpOwoKICAgIERpZ2VzdFR5cGUgZGlnZXN0VHlwZTsKCiAg\nICBwdWJsaWMgVGVzdFJlYWRUaW1lb3V0KCkgewogICAgICAgIHN1cGVyKDEw\nKTsKICAgICAgICB0aGlzLmRpZ2VzdFR5cGUgPSBEaWdlc3RUeXBlLkNSQzMy\nOwogICAgfQoKICAgIEBTdXBwcmVzc1dhcm5pbmdzKCJkZXByZWNhdGlvbiIp\nCiAgICBAVGVzdCh0aW1lb3V0PTYwMDAwKQogICAgcHVibGljIHZvaWQgdGVz\ndFJlYWRUaW1lb3V0KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgZmlu\nYWwgQXRvbWljQm9vbGVhbiBjb21wbGV0ZWQgPSBuZXcgQXRvbWljQm9vbGVh\nbihmYWxzZSk7CgogICAgICAgIExlZGdlckhhbmRsZSB3cml0ZWxoID0gYmtj\nLmNyZWF0ZUxlZGdlcigzLDMsZGlnZXN0VHlwZSwgInRlc3RQYXNzd2QiLmdl\ndEJ5dGVzKCkpOwogICAgICAgIFN0cmluZyB0bXAgPSAiRm9vYmFyIjsKICAg\nICAgICAKICAgICAgICBmaW5hbCBpbnQgbnVtRW50cmllcyA9IDEwOwogICAg\nICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbnVtRW50cmllczsgaSsrKSB7CiAg\nICAgICAgICAgIHdyaXRlbGguYWRkRW50cnkodG1wLmdldEJ5dGVzKCkpOwog\nICAgICAgIH0KICAgICAgICAKICAgICAgICBTZXQ8SW5ldFNvY2tldEFkZHJl\nc3M+IGJlZm9yZVNldCA9IG5ldyBIYXNoU2V0PEluZXRTb2NrZXRBZGRyZXNz\nPigpOwogICAgICAgIGZvciAoSW5ldFNvY2tldEFkZHJlc3MgYWRkciA6IHdy\naXRlbGguZ2V0TGVkZ2VyTWV0YWRhdGEoKS5nZXRFbnNlbWJsZShudW1FbnRy\naWVzKSkgewogICAgICAgICAgICBiZWZvcmVTZXQuYWRkKGFkZHIpOwogICAg\nICAgIH0KCiAgICAgICAgZmluYWwgSW5ldFNvY2tldEFkZHJlc3MgYm9va2ll\nVG9TbGVlcCAKICAgICAgICAgICAgPSB3cml0ZWxoLmdldExlZGdlck1ldGFk\nYXRhKCkuZ2V0RW5zZW1ibGUobnVtRW50cmllcykuZ2V0KDApOwogICAgICAg\nIGludCBzbGVlcHRpbWUgPSBiYXNlQ2xpZW50Q29uZi5nZXRSZWFkVGltZW91\ndCgpKjM7CiAgICAgICAgQ291bnREb3duTGF0Y2ggbGF0Y2ggPSBzbGVlcEJv\nb2tpZShib29raWVUb1NsZWVwLCBzbGVlcHRpbWUpOwogICAgICAgIGxhdGNo\nLmF3YWl0KCk7CgogICAgICAgIHdyaXRlbGguYXN5bmNBZGRFbnRyeSh0bXAu\nZ2V0Qnl0ZXMoKSwgCiAgICAgICAgICAgICAgICBuZXcgQWRkQ2FsbGJhY2so\nKSB7CiAgICAgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgYWRkQ29tcGxl\ndGUoaW50IHJjLCBMZWRnZXJIYW5kbGUgbGgsIAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmcgZW50cnlJZCwgT2Jq\nZWN0IGN0eCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQu\nc2V0KHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nICAgIH0sIG51bGwpOwogICAgICAgIFRocmVhZC5zbGVlcCgoYmFzZUNsaWVu\ndENvbmYuZ2V0UmVhZFRpbWVvdXQoKSozKSoxMDAwKTsKICAgICAgICBBc3Nl\ncnQuYXNzZXJ0VHJ1ZSgiV3JpdGUgcmVxdWVzdCBkaWQgbm90IGZpbmlzaCIs\nIGNvbXBsZXRlZC5nZXQoKSk7CgogICAgICAgIFNldDxJbmV0U29ja2V0QWRk\ncmVzcz4gYWZ0ZXJTZXQgPSBuZXcgSGFzaFNldDxJbmV0U29ja2V0QWRkcmVz\ncz4oKTsKICAgICAgICBmb3IgKEluZXRTb2NrZXRBZGRyZXNzIGFkZHIgOiB3\ncml0ZWxoLmdldExlZGdlck1ldGFkYXRhKCkuZ2V0RW5zZW1ibGUobnVtRW50\ncmllcysxKSkgewogICAgICAgICAgICBhZnRlclNldC5hZGQoYWRkcik7CiAg\nICAgICAgfQogICAgICAgIGJlZm9yZVNldC5yZW1vdmVBbGwoYWZ0ZXJTZXQp\nOwogICAgICAgIEFzc2VydC5hc3NlcnRUcnVlKCJCb29raWUgc2V0IHNob3Vs\nZCBub3QgbWF0Y2giLCBiZWZvcmVTZXQuc2l6ZSgpICE9IDApOwogICAgfQp9\nCg==\n","encoding":"base64"}

