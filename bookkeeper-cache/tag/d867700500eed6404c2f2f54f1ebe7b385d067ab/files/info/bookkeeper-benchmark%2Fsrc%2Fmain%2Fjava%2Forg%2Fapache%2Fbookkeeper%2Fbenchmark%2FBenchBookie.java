{"sha":"0831c0a653ef1e62752b4832a60c2ec0e04ee089","node_id":"MDQ6QmxvYjE1NzU5NTY6MDgzMWMwYTY1M2VmMWU2Mjc1MmI0ODMyYTYwYzJlYzBlMDRlZTA4OQ==","size":8400,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/0831c0a653ef1e62752b4832a60c2ec0e04ee089","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0\naGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z\nIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoKICov\nCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLmJlbmNobWFyazsKCmlt\ncG9ydCBqYXZhLm5ldC5JbmV0U29ja2V0QWRkcmVzczsKaW1wb3J0IGphdmEu\ndXRpbC5jb25jdXJyZW50LkV4ZWN1dG9yczsKCmltcG9ydCBqYXZhLmlvLklP\nRXhjZXB0aW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLktlZXBl\nckV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIucHJv\ndG8uQm9va2llQ2xpZW50OwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLnByb3RvLkJvb2tpZVByb3RvY29sOwppbXBvcnQgb3JnLmFwYWNoZS5ib29r\na2VlcGVyLnByb3RvLkJvb2trZWVwZXJJbnRlcm5hbENhbGxiYWNrcy5Xcml0\nZUNhbGxiYWNrOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnV0aWwu\nT3JkZXJlZFNhZmVFeGVjdXRvcjsKaW1wb3J0IG9yZy5hcGFjaGUuYm9va2tl\nZXBlci5jbGllbnQuQm9va0tlZXBlcjsKaW1wb3J0IG9yZy5hcGFjaGUuYm9v\na2tlZXBlci5jbGllbnQuQktFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLmJvb2trZWVwZXIuY2xpZW50LkxlZGdlckhhbmRsZTsKaW1wb3J0IG9yZy5h\ncGFjaGUuYm9va2tlZXBlci5jb25mLkNsaWVudENvbmZpZ3VyYXRpb247Cmlt\ncG9ydCBvcmcuamJvc3MubmV0dHkuYnVmZmVyLkNoYW5uZWxCdWZmZXI7Cmlt\ncG9ydCBvcmcuamJvc3MubmV0dHkuYnVmZmVyLkNoYW5uZWxCdWZmZXJzOwpp\nbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuc29ja2V0LkNsaWVudFNv\nY2tldENoYW5uZWxGYWN0b3J5OwppbXBvcnQgb3JnLmpib3NzLm5ldHR5LmNo\nYW5uZWwuc29ja2V0Lm5pby5OaW9DbGllbnRTb2NrZXRDaGFubmVsRmFjdG9y\neTsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMuY2xpLkhlbHBGb3JtYXR0\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMuY2xpLk9wdGlvbjsKaW1w\nb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5jbGkuT3B0aW9uczsKaW1wb3J0IG9y\nZy5hcGFjaGUuY29tbW9ucy5jbGkuQ29tbWFuZExpbmU7CmltcG9ydCBvcmcu\nYXBhY2hlLmNvbW1vbnMuY2xpLkNvbW1hbmRMaW5lUGFyc2VyOwppbXBvcnQg\nb3JnLmFwYWNoZS5jb21tb25zLmNsaS5Qb3NpeFBhcnNlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUuY29tbW9ucy5jbGkuUGFyc2VFeGNlcHRpb247CgppbXBvcnQg\nb3JnLnNsZjRqLkxvZ2dlcjsKaW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXJGYWN0\nb3J5OwoKcHVibGljIGNsYXNzIEJlbmNoQm9va2llIHsKICAgIHN0YXRpYyBM\nb2dnZXIgTE9HID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoQmVuY2hCb29r\naWUuY2xhc3MpOwoKICAgIHN0YXRpYyBjbGFzcyBMYXRlbmN5Q2FsbGJhY2sg\naW1wbGVtZW50cyBXcml0ZUNhbGxiYWNrIHsKICAgICAgICBib29sZWFuIGNv\nbXBsZXRlOwogICAgICAgIEBPdmVycmlkZQogICAgICAgIHN5bmNocm9uaXpl\nZCBwdWJsaWMgdm9pZCB3cml0ZUNvbXBsZXRlKGludCByYywgbG9uZyBsZWRn\nZXJJZCwgbG9uZyBlbnRyeUlkLAogICAgICAgICAgICAgICAgSW5ldFNvY2tl\ndEFkZHJlc3MgYWRkciwgT2JqZWN0IGN0eCkgewogICAgICAgICAgICBpZiAo\ncmMgIT0gMCkgewogICAgICAgICAgICAgICAgTE9HLmVycm9yKCJHb3QgZXJy\nb3IgIiArIHJjKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb21wbGV0\nZSA9IHRydWU7CiAgICAgICAgICAgIG5vdGlmeUFsbCgpOwogICAgICAgIH0K\nICAgICAgICBzeW5jaHJvbml6ZWQgcHVibGljIHZvaWQgcmVzZXRDb21wbGV0\nZSgpIHsKICAgICAgICAgICAgY29tcGxldGUgPSBmYWxzZTsKICAgICAgICB9\nCiAgICAgICAgc3luY2hyb25pemVkIHB1YmxpYyB2b2lkIHdhaXRGb3JDb21w\nbGV0ZSgpIHRocm93cyBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiB7CiAgICAgICAg\nICAgIHdoaWxlKCFjb21wbGV0ZSkgewogICAgICAgICAgICAgICAgd2FpdCgp\nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHN0YXRpYyBj\nbGFzcyBUaHJvdWdocHV0Q2FsbGJhY2sgaW1wbGVtZW50cyBXcml0ZUNhbGxi\nYWNrIHsKICAgICAgICBpbnQgY291bnQ7CiAgICAgICAgaW50IHdhaXRpbmdD\nb3VudCA9IEludGVnZXIuTUFYX1ZBTFVFOwogICAgICAgIHN5bmNocm9uaXpl\nZCBwdWJsaWMgdm9pZCB3cml0ZUNvbXBsZXRlKGludCByYywgbG9uZyBsZWRn\nZXJJZCwgbG9uZyBlbnRyeUlkLAogICAgICAgICAgICAgICAgSW5ldFNvY2tl\ndEFkZHJlc3MgYWRkciwgT2JqZWN0IGN0eCkgewogICAgICAgICAgICBpZiAo\ncmMgIT0gMCkgewogICAgICAgICAgICAgICAgTE9HLmVycm9yKCJHb3QgZXJy\nb3IgIiArIHJjKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb3VudCsr\nOwogICAgICAgICAgICBpZiAoY291bnQgPj0gd2FpdGluZ0NvdW50KSB7CiAg\nICAgICAgICAgICAgICBub3RpZnlBbGwoKTsKICAgICAgICAgICAgfQogICAg\nICAgIH0KICAgICAgICBzeW5jaHJvbml6ZWQgcHVibGljIHZvaWQgd2FpdEZv\ncihpbnQgY291bnQpIHRocm93cyBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiB7CiAg\nICAgICAgICAgIHdoaWxlKHRoaXMuY291bnQgPCBjb3VudCkgewogICAgICAg\nICAgICAgICAgd2FpdGluZ0NvdW50ID0gY291bnQ7CiAgICAgICAgICAgICAg\nICB3YWl0KDEwMDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHdhaXRp\nbmdDb3VudCA9IEludGVnZXIuTUFYX1ZBTFVFOwogICAgICAgIH0KICAgIH0K\nCiAgICBwcml2YXRlIHN0YXRpYyBsb25nIGdldFZhbGlkTGVkZ2VySWQoU3Ry\naW5nIHprU2VydmVycykKICAgICAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9u\nLCBCS0V4Y2VwdGlvbiwgS2VlcGVyRXhjZXB0aW9uLCBJbnRlcnJ1cHRlZEV4\nY2VwdGlvbiB7CiAgICAgICAgQm9va0tlZXBlciBia2MgPSBudWxsOwogICAg\nICAgIExlZGdlckhhbmRsZSBsaCA9IG51bGw7CiAgICAgICAgbG9uZyBpZCA9\nIDA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYmtjID1uZXcgQm9va0tl\nZXBlcih6a1NlcnZlcnMpOwogICAgICAgICAgICBsaCA9IGJrYy5jcmVhdGVM\nZWRnZXIoMSwgMSwgQm9va0tlZXBlci5EaWdlc3RUeXBlLkNSQzMyLAogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGJ5dGVbMjBdKTsK\nICAgICAgICAgICAgaWQgPSBsaC5nZXRJZCgpOwogICAgICAgICAgICByZXR1\ncm4gaWQ7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgaWYgKGxo\nICE9IG51bGwpIHsgbGguY2xvc2UoKTsgfQogICAgICAgICAgICBpZiAoYmtj\nICE9IG51bGwpIHsgYmtjLmNsb3NlKCk7IH0KICAgICAgICB9CiAgICB9CiAg\nICAvKioKICAgICAqIEBwYXJhbSBhcmdzCiAgICAgKiBAdGhyb3dzIEludGVy\ncnVwdGVkRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9p\nZCBtYWluKFN0cmluZ1tdIGFyZ3MpCiAgICAgICAgICAgIHRocm93cyBJbnRl\ncnJ1cHRlZEV4Y2VwdGlvbiwgUGFyc2VFeGNlcHRpb24sIElPRXhjZXB0aW9u\nLAogICAgICAgICAgICBCS0V4Y2VwdGlvbiwgS2VlcGVyRXhjZXB0aW9uIHsK\nICAgICAgICBPcHRpb25zIG9wdGlvbnMgPSBuZXcgT3B0aW9ucygpOwogICAg\nICAgIG9wdGlvbnMuYWRkT3B0aW9uKCJob3N0IiwgdHJ1ZSwgIkhvc3RuYW1l\nIG9yIElQIG9mIGJvb2tpZSB0byBiZW5jaG1hcmsiKTsKICAgICAgICBvcHRp\nb25zLmFkZE9wdGlvbigicG9ydCIsIHRydWUsICJQb3J0IG9mIGJvb2tpZSB0\nbyBiZW5jaG1hcmsgKGRlZmF1bHQgMzE4MSkiKTsKICAgICAgICBvcHRpb25z\nLmFkZE9wdGlvbigiem9va2VlcGVyIiwgdHJ1ZSwgIlpvb2tlZXBlciBlbnNl\nbWJsZSwgKGRlZmF1bHQgXCJsb2NhbGhvc3Q6MjE4MVwiKSIpOwogICAgICAg\nIG9wdGlvbnMuYWRkT3B0aW9uKCJzaXplIiwgdHJ1ZSwgIlNpemUgb2YgbWVz\nc2FnZSB0byBzZW5kLCBpbiBieXRlcyAoZGVmYXVsdCAxMDI0KSIpOwogICAg\nICAgIG9wdGlvbnMuYWRkT3B0aW9uKCJoZWxwIiwgZmFsc2UsICJUaGlzIG1l\nc3NhZ2UiKTsKCiAgICAgICAgQ29tbWFuZExpbmVQYXJzZXIgcGFyc2VyID0g\nbmV3IFBvc2l4UGFyc2VyKCk7CiAgICAgICAgQ29tbWFuZExpbmUgY21kID0g\ncGFyc2VyLnBhcnNlKG9wdGlvbnMsIGFyZ3MpOwoKICAgICAgICBpZiAoY21k\nLmhhc09wdGlvbigiaGVscCIpIHx8ICFjbWQuaGFzT3B0aW9uKCJob3N0Iikp\nIHsKICAgICAgICAgICAgSGVscEZvcm1hdHRlciBmb3JtYXR0ZXIgPSBuZXcg\nSGVscEZvcm1hdHRlcigpOwogICAgICAgICAgICBmb3JtYXR0ZXIucHJpbnRI\nZWxwKCJCZW5jaEJvb2tpZSA8b3B0aW9ucz4iLCBvcHRpb25zKTsKICAgICAg\nICAgICAgU3lzdGVtLmV4aXQoLTEpOwogICAgICAgIH0KCiAgICAgICAgU3Ry\naW5nIGFkZHIgPSBjbWQuZ2V0T3B0aW9uVmFsdWUoImhvc3QiKTsKICAgICAg\nICBpbnQgcG9ydCA9IEludGVnZXIudmFsdWVPZihjbWQuZ2V0T3B0aW9uVmFs\ndWUoInBvcnQiLCAiMzE4MSIpKTsKICAgICAgICBpbnQgc2l6ZSA9IEludGVn\nZXIudmFsdWVPZihjbWQuZ2V0T3B0aW9uVmFsdWUoInNpemUiLCAiMTAyNCIp\nKTsKICAgICAgICBTdHJpbmcgc2VydmVycyA9IGNtZC5nZXRPcHRpb25WYWx1\nZSgiem9va2VlcGVyIiwgImxvY2FsaG9zdDoyMTgxIik7CgoKCiAgICAgICAg\nQ2xpZW50U29ja2V0Q2hhbm5lbEZhY3RvcnkgY2hhbm5lbEZhY3RvcnkKICAg\nICAgICAgICAgPSBuZXcgTmlvQ2xpZW50U29ja2V0Q2hhbm5lbEZhY3Rvcnko\nRXhlY3V0b3JzLm5ld0NhY2hlZFRocmVhZFBvb2woKSwgRXhlY3V0b3JzCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIC5uZXdDYWNoZWRUaHJlYWRQb29sKCkpOwogICAgICAgIE9yZGVyZWRTYWZl\nRXhlY3V0b3IgZXhlY3V0b3IgPSBuZXcgT3JkZXJlZFNhZmVFeGVjdXRvcigx\nKTsKCiAgICAgICAgQ2xpZW50Q29uZmlndXJhdGlvbiBjb25mID0gbmV3IENs\naWVudENvbmZpZ3VyYXRpb24oKTsKICAgICAgICBCb29raWVDbGllbnQgYmMg\nPSBuZXcgQm9va2llQ2xpZW50KGNvbmYsIGNoYW5uZWxGYWN0b3J5LCBleGVj\ndXRvcik7CiAgICAgICAgTGF0ZW5jeUNhbGxiYWNrIGxjID0gbmV3IExhdGVu\nY3lDYWxsYmFjaygpOwoKICAgICAgICBUaHJvdWdocHV0Q2FsbGJhY2sgdGMg\nPSBuZXcgVGhyb3VnaHB1dENhbGxiYWNrKCk7CiAgICAgICAgaW50IHdhcm1V\ncENvdW50ID0gOTk5OwoKICAgICAgICBsb25nIGxlZGdlciA9IGdldFZhbGlk\nTGVkZ2VySWQoc2VydmVycyk7CiAgICAgICAgZm9yKGxvbmcgZW50cnkgPSAw\nOyBlbnRyeSA8IHdhcm1VcENvdW50OyBlbnRyeSsrKSB7CiAgICAgICAgICAg\nIENoYW5uZWxCdWZmZXIgdG9TZW5kID0gQ2hhbm5lbEJ1ZmZlcnMuYnVmZmVy\nKHNpemUpOwogICAgICAgICAgICB0b1NlbmQucmVzZXRSZWFkZXJJbmRleCgp\nOwogICAgICAgICAgICB0b1NlbmQucmVzZXRXcml0ZXJJbmRleCgpOwogICAg\nICAgICAgICB0b1NlbmQud3JpdGVMb25nKGxlZGdlcik7CiAgICAgICAgICAg\nIHRvU2VuZC53cml0ZUxvbmcoZW50cnkpOwogICAgICAgICAgICB0b1NlbmQu\nd3JpdGVySW5kZXgodG9TZW5kLmNhcGFjaXR5KCkpOwogICAgICAgICAgICBi\nYy5hZGRFbnRyeShuZXcgSW5ldFNvY2tldEFkZHJlc3MoYWRkciwgcG9ydCks\nIGxlZGdlciwgbmV3IGJ5dGVbMjBdLAogICAgICAgICAgICAgICAgICAgICAg\nICBlbnRyeSwgdG9TZW5kLCB0YywgbnVsbCwgQm9va2llUHJvdG9jb2wuRkxB\nR19OT05FKTsKICAgICAgICB9CiAgICAgICAgTE9HLmluZm8oIldhaXRpbmcg\nZm9yIHdhcm11cCIpOwogICAgICAgIHRjLndhaXRGb3Iod2FybVVwQ291bnQp\nOwoKICAgICAgICBsZWRnZXIgPSBnZXRWYWxpZExlZGdlcklkKHNlcnZlcnMp\nOwogICAgICAgIExPRy5pbmZvKCJCZW5jaG1hcmtpbmcgbGF0ZW5jeSIpOwog\nICAgICAgIGludCBlbnRyeUNvdW50ID0gNTAwMDsKICAgICAgICBsb25nIHN0\nYXJ0VGltZSA9IFN5c3RlbS5uYW5vVGltZSgpOwogICAgICAgIGZvcihsb25n\nIGVudHJ5ID0gMDsgZW50cnkgPCBlbnRyeUNvdW50OyBlbnRyeSsrKSB7CiAg\nICAgICAgICAgIENoYW5uZWxCdWZmZXIgdG9TZW5kID0gQ2hhbm5lbEJ1ZmZl\ncnMuYnVmZmVyKHNpemUpOwogICAgICAgICAgICB0b1NlbmQucmVzZXRSZWFk\nZXJJbmRleCgpOwogICAgICAgICAgICB0b1NlbmQucmVzZXRXcml0ZXJJbmRl\neCgpOwogICAgICAgICAgICB0b1NlbmQud3JpdGVMb25nKGxlZGdlcik7CiAg\nICAgICAgICAgIHRvU2VuZC53cml0ZUxvbmcoZW50cnkpOwogICAgICAgICAg\nICB0b1NlbmQud3JpdGVySW5kZXgodG9TZW5kLmNhcGFjaXR5KCkpOwogICAg\nICAgICAgICBsYy5yZXNldENvbXBsZXRlKCk7CiAgICAgICAgICAgIGJjLmFk\nZEVudHJ5KG5ldyBJbmV0U29ja2V0QWRkcmVzcyhhZGRyLCBwb3J0KSwgbGVk\nZ2VyLCBuZXcgYnl0ZVsyMF0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVu\ndHJ5LCB0b1NlbmQsIGxjLCBudWxsLCBCb29raWVQcm90b2NvbC5GTEFHX05P\nTkUpOwogICAgICAgICAgICBsYy53YWl0Rm9yQ29tcGxldGUoKTsKICAgICAg\nICB9CiAgICAgICAgbG9uZyBlbmRUaW1lID0gU3lzdGVtLm5hbm9UaW1lKCk7\nCiAgICAgICAgTE9HLmluZm8oIkxhdGVuY3k6ICIgKyAoKChkb3VibGUpKGVu\nZFRpbWUtc3RhcnRUaW1lKSkvKChkb3VibGUpZW50cnlDb3VudCkpLzEwMDAw\nMDAuMCk7CgogICAgICAgIGVudHJ5Q291bnQgPSA1MDAwMDsKCiAgICAgICAg\nbGVkZ2VyID0gZ2V0VmFsaWRMZWRnZXJJZChzZXJ2ZXJzKTsKICAgICAgICBM\nT0cuaW5mbygiQmVuY2htYXJraW5nIHRocm91Z2hwdXQiKTsKICAgICAgICBz\ndGFydFRpbWUgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTsKICAgICAg\nICB0YyA9IG5ldyBUaHJvdWdocHV0Q2FsbGJhY2soKTsKICAgICAgICBmb3Io\nbG9uZyBlbnRyeSA9IDA7IGVudHJ5IDwgZW50cnlDb3VudDsgZW50cnkrKykg\newogICAgICAgICAgICBDaGFubmVsQnVmZmVyIHRvU2VuZCA9IENoYW5uZWxC\ndWZmZXJzLmJ1ZmZlcihzaXplKTsKICAgICAgICAgICAgdG9TZW5kLnJlc2V0\nUmVhZGVySW5kZXgoKTsKICAgICAgICAgICAgdG9TZW5kLnJlc2V0V3JpdGVy\nSW5kZXgoKTsKICAgICAgICAgICAgdG9TZW5kLndyaXRlTG9uZyhsZWRnZXIp\nOwogICAgICAgICAgICB0b1NlbmQud3JpdGVMb25nKGVudHJ5KTsKICAgICAg\nICAgICAgdG9TZW5kLndyaXRlckluZGV4KHRvU2VuZC5jYXBhY2l0eSgpKTsK\nICAgICAgICAgICAgYmMuYWRkRW50cnkobmV3IEluZXRTb2NrZXRBZGRyZXNz\nKGFkZHIsIHBvcnQpLCBsZWRnZXIsIG5ldyBieXRlWzIwXSwKICAgICAgICAg\nICAgICAgICAgICAgICAgZW50cnksIHRvU2VuZCwgdGMsIG51bGwsIEJvb2tp\nZVByb3RvY29sLkZMQUdfTk9ORSk7CiAgICAgICAgfQogICAgICAgIHRjLndh\naXRGb3IoZW50cnlDb3VudCk7CiAgICAgICAgZW5kVGltZSA9IFN5c3RlbS5j\ndXJyZW50VGltZU1pbGxpcygpOwogICAgICAgIExPRy5pbmZvKCJUaHJvdWdo\ncHV0OiAiICsgKChsb25nKWVudHJ5Q291bnQpKjEwMDAvKGVuZFRpbWUtc3Rh\ncnRUaW1lKSk7CgogICAgICAgIGJjLmNsb3NlKCk7CiAgICAgICAgY2hhbm5l\nbEZhY3RvcnkucmVsZWFzZUV4dGVybmFsUmVzb3VyY2VzKCk7CiAgICAgICAg\nZXhlY3V0b3Iuc2h1dGRvd24oKTsKICAgIH0KCn0K\n","encoding":"base64"}

