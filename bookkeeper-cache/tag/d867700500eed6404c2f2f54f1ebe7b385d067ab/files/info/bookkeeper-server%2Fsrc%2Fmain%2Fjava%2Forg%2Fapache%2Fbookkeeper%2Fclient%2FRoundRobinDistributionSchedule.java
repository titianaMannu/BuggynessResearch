{"sha":"9c989d8dfa2f1c7b9d2724872addff48e9cd6ac6","node_id":"MDQ6QmxvYjE1NzU5NTY6OWM5ODlkOGRmYTJmMWM3YjlkMjcyNDg3MmFkZGZmNDhlOWNkNmFjNg==","size":3111,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/9c989d8dfa2f1c7b9d2724872addff48e9cd6ac6","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY2xpZW50OwoKLyoqCiAq\nIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAo\nQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNl\nIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1\ndGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9u\nCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBs\naWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUg\nTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3Ug\nbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAq\nIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNv\nZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhw\ncmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBz\ncGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq\nIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmltcG9ydCBv\ncmcuYXBhY2hlLmJvb2trZWVwZXIudXRpbC5NYXRoVXRpbHM7CgovKioKICog\nQSBzcGVjaWZpYyB7QGxpbmsgRGlzdHJpYnV0aW9uU2NoZWR1bGV9IHRoYXQg\ncGxhY2VzIGVudHJpZXMgaW4gcm91bmQtcm9iaW4KICogZmFzaGlvbi4gRm9y\nIGVuc2VtYmxlIHNpemUgMywgYW5kIHF1b3J1bSBzaXplIDIsIEVudHJ5IDAg\nZ29lcyB0byBib29raWUgMCBhbmQKICogMSwgZW50cnkgMSBnb2VzIHRvIGJv\nb2tpZSAxIGFuZCAyLCBhbmQgZW50cnkgMiBnb2VzIHRvIGJvb2tpZSAyIGFu\nZCAwLCBhbmQgc28KICogb24uCiAqCiAqLwpjbGFzcyBSb3VuZFJvYmluRGlz\ndHJpYnV0aW9uU2NoZWR1bGUgaW1wbGVtZW50cyBEaXN0cmlidXRpb25TY2hl\nZHVsZSB7CiAgICBpbnQgcXVvcnVtU2l6ZTsKICAgIGludCBlbnNlbWJsZVNp\nemU7CgoKICAgIHB1YmxpYyBSb3VuZFJvYmluRGlzdHJpYnV0aW9uU2NoZWR1\nbGUoaW50IHF1b3J1bVNpemUsIGludCBlbnNlbWJsZVNpemUpIHsKICAgICAg\nICB0aGlzLnF1b3J1bVNpemUgPSBxdW9ydW1TaXplOwogICAgICAgIHRoaXMu\nZW5zZW1ibGVTaXplID0gZW5zZW1ibGVTaXplOwogICAgfQoKICAgIEBPdmVy\ncmlkZQogICAgcHVibGljIGludCBnZXRCb29raWVJbmRleChsb25nIGVudHJ5\nSWQsIGludCByZXBsaWNhSW5kZXgpIHsKICAgICAgICByZXR1cm4gKGludCkg\nKChlbnRyeUlkICsgcmVwbGljYUluZGV4KSAlIGVuc2VtYmxlU2l6ZSk7CiAg\nICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgaW50IGdldFJlcGxpY2FJ\nbmRleChsb25nIGVudHJ5SWQsIGludCBib29raWVJbmRleCkgewogICAgICAg\nIC8vIE5PVEU6IEphdmEncyAlIG9wZXJhdG9yIHJldHVybnMgdGhlIHNpZ24g\nb2YgdGhlIGRpdmlkZW5kIGFuZCBpcyBoZW5jZQogICAgICAgIC8vIG5vdCBh\nbHdheXMgcG9zaXRpdmUKCiAgICAgICAgaW50IHJlcGxpY2FJbmRleCA9IE1h\ndGhVdGlscy5zaWduU2FmZU1vZChib29raWVJbmRleCAtIGVudHJ5SWQsIGVu\nc2VtYmxlU2l6ZSk7CgogICAgICAgIHJldHVybiByZXBsaWNhSW5kZXggPCBx\ndW9ydW1TaXplID8gcmVwbGljYUluZGV4IDogLTE7CgogICAgfQoKICAgIHBy\naXZhdGUgY2xhc3MgUlJRdW9ydW1Db3ZlcmFnZVNldCBpbXBsZW1lbnRzIFF1\nb3J1bUNvdmVyYWdlU2V0IHsKICAgICAgICAvLyBjb3ZlcmVkW2ldIGlzIHRy\ndWUgaWYgdGhlIHF1b3J1bSBzdGFydGluZyBhdCBib29raWUgaW5kZXggaSBo\nYXMgYmVlbgogICAgICAgIC8vIGNvdmVyZWQgYnkgYSByZWNvdmVyeSByZXBs\neQogICAgICAgIHByaXZhdGUgYm9vbGVhbltdIGNvdmVyZWQgPSBudWxsOwog\nICAgICAgIHByaXZhdGUgaW50IG51bVF1b3J1bXNVbmNvdmVyZWQ7CgogICAg\nICAgIHByaXZhdGUgUlJRdW9ydW1Db3ZlcmFnZVNldCgpIHsKICAgICAgICAg\nICAgY292ZXJlZCA9IG5ldyBib29sZWFuW2Vuc2VtYmxlU2l6ZV07CiAgICAg\nICAgICAgIG51bVF1b3J1bXNVbmNvdmVyZWQgPSBlbnNlbWJsZVNpemU7CiAg\nICAgICAgfQoKICAgICAgICBwdWJsaWMgc3luY2hyb25pemVkIGJvb2xlYW4g\nYWRkQm9va2llQW5kQ2hlY2tDb3ZlcmVkKGludCBib29raWVJbmRleEhlYXJk\nRnJvbSkgewogICAgICAgICAgICBpZiAobnVtUXVvcnVtc1VuY292ZXJlZCA9\nPSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAg\nICAgfQoKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBxdW9ydW1T\naXplOyBpKyspIHsKICAgICAgICAgICAgICAgIGludCBxdW9ydW1TdGFydElu\nZGV4ID0gTWF0aFV0aWxzLnNpZ25TYWZlTW9kKGJvb2tpZUluZGV4SGVhcmRG\ncm9tIC0gaSwgZW5zZW1ibGVTaXplKTsKICAgICAgICAgICAgICAgIGlmICgh\nY292ZXJlZFtxdW9ydW1TdGFydEluZGV4XSkgewogICAgICAgICAgICAgICAg\nICAgIGNvdmVyZWRbcXVvcnVtU3RhcnRJbmRleF0gPSB0cnVlOwogICAgICAg\nICAgICAgICAgICAgIG51bVF1b3J1bXNVbmNvdmVyZWQtLTsKCiAgICAgICAg\nICAgICAgICAgICAgaWYgKG51bVF1b3J1bXNVbmNvdmVyZWQgPT0gMCkgewog\nICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0K\nICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgUXVvcnVtQ292ZXJhZ2VTZXQgZ2V0Q292ZXJhZ2VTZXQoKSB7\nCiAgICAgICAgcmV0dXJuIG5ldyBSUlF1b3J1bUNvdmVyYWdlU2V0KCk7CiAg\nICB9Cn0K\n","encoding":"base64"}

