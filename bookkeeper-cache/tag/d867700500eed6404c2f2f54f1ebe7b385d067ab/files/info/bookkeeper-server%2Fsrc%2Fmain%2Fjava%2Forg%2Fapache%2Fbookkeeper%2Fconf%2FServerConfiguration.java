{"sha":"845a456132869425492a73a8fd5c41b95e2dd337","node_id":"MDQ6QmxvYjE1NzU5NTY6ODQ1YTQ1NjEzMjg2OTQyNTQ5MmE3M2E4ZmQ1YzQxYjk1ZTJkZDMzNw==","size":15340,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/845a456132869425492a73a8fd5c41b95e2dd337","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZjsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBvcmcu\nYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKCi8qKgogKiBDb25m\naWd1cmF0aW9uIG1hbmFnZXMgc2VydmVyLXNpZGUgc2V0dGluZ3MKICovCnB1\nYmxpYyBjbGFzcyBTZXJ2ZXJDb25maWd1cmF0aW9uIGV4dGVuZHMgQWJzdHJh\nY3RDb25maWd1cmF0aW9uIHsKICAgIC8vIEVudHJ5IExvZyBQYXJhbWV0ZXJz\nCiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGljIFN0cmluZyBFTlRSWV9MT0df\nU0laRV9MSU1JVCA9ICJsb2dTaXplTGltaXQiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUlOT1JfQ09NUEFDVElPTl9JTlRFUlZBTCA9\nICJtaW5vckNvbXBhY3Rpb25JbnRlcnZhbCI7CiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBNSU5PUl9DT01QQUNUSU9OX1RIUkVTSE9MRCA9\nICJtaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQiOwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUFKT1JfQ09NUEFDVElPTl9JTlRFUlZBTCA9\nICJtYWpvckNvbXBhY3Rpb25JbnRlcnZhbCI7CiAgICBwcm90ZWN0ZWQgZmlu\nYWwgc3RhdGljIFN0cmluZyBNQUpPUl9DT01QQUNUSU9OX1RIUkVTSE9MRCA9\nICJtYWpvckNvbXBhY3Rpb25UaHJlc2hvbGQiOwoKICAgIC8vIEdjIFBhcmFt\nZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIEdDX1dB\nSVRfVElNRSA9ICJnY1dhaXRUaW1lIjsKICAgIC8vIFN5bmMgUGFyYW1ldGVy\ncwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgRkxVU0hfSU5U\nRVJWQUwgPSAiZmx1c2hJbnRlcnZhbCI7CiAgICAvLyBCb29raWUgZGVhdGgg\nd2F0Y2ggaW50ZXJ2YWwKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3Ry\naW5nIERFQVRIX1dBVENIX0lOVEVSVkFMID0gImJvb2tpZURlYXRoV2F0Y2hJ\nbnRlcnZhbCI7CiAgICAvLyBMZWRnZXIgQ2FjaGUgUGFyYW1ldGVycwogICAg\ncHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgT1BFTl9GSUxFX0xJTUlU\nID0gIm9wZW5GaWxlTGltaXQiOwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRp\nYyBTdHJpbmcgUEFHRV9MSU1JVCA9ICJwYWdlTGltaXQiOwogICAgcHJvdGVj\ndGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgUEFHRV9TSVpFID0gInBhZ2VTaXpl\nIjsKICAgIC8vIEpvdXJuYWwgUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZp\nbmFsIHN0YXRpYyBTdHJpbmcgTUFYX0pPVVJOQUxfU0laRSA9ICJqb3VybmFs\nTWF4U2l6ZU1CIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5n\nIE1BWF9CQUNLVVBfSk9VUk5BTFMgPSAiam91cm5hbE1heEJhY2t1cHMiOwog\nICAgLy8gQm9va2llIFBhcmFtZXRlcnMKICAgIHByb3RlY3RlZCBmaW5hbCBz\ndGF0aWMgU3RyaW5nIEJPT0tJRV9QT1JUID0gImJvb2tpZVBvcnQiOwogICAg\ncHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgSk9VUk5BTF9ESVIgPSAi\nam91cm5hbERpcmVjdG9yeSI7CiAgICBwcm90ZWN0ZWQgZmluYWwgc3RhdGlj\nIFN0cmluZyBMRURHRVJfRElSUyA9ICJsZWRnZXJEaXJlY3RvcmllcyI7CiAg\nICAvLyBOSU8gUGFyYW1ldGVycwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRp\nYyBTdHJpbmcgU0VSVkVSX1RDUF9OT0RFTEFZID0gInNlcnZlclRjcE5vRGVs\nYXkiOwogICAgLy8gWm9va2VlcGVyIFBhcmFtZXRlcnMKICAgIHByb3RlY3Rl\nZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFpLX1RJTUVPVVQgPSAiemtUaW1lb3V0\nIjsKICAgIHByb3RlY3RlZCBmaW5hbCBzdGF0aWMgU3RyaW5nIFpLX1NFUlZF\nUlMgPSAiemtTZXJ2ZXJzIjsKICAgIC8vIFN0YXRpc3RpY3MgUGFyYW1ldGVy\ncwogICAgcHJvdGVjdGVkIGZpbmFsIHN0YXRpYyBTdHJpbmcgRU5BQkxFX1NU\nQVRJU1RJQ1MgPSAiZW5hYmxlU3RhdGlzdGljcyI7CgogICAgLyoqCiAgICAg\nKiBDb25zdHJ1Y3QgYSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb2JqZWN0CiAg\nICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uKCkgewogICAg\nICAgIHN1cGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Qg\nYSBjb25maWd1cmF0aW9uIGJhc2VkIG9uIG90aGVyIGNvbmZpZ3VyYXRpb24K\nICAgICAqCiAgICAgKiBAcGFyYW0gY29uZgogICAgICogICAgICAgICAgT3Ro\nZXIgY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29u\nZmlndXJhdGlvbihBYnN0cmFjdENvbmZpZ3VyYXRpb24gY29uZikgewogICAg\nICAgIHN1cGVyKCk7CiAgICAgICAgbG9hZENvbmYoY29uZik7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBHZXQgZW50cnkgbG9nZ2VyIHNpemUgbGltaXRhdGlv\nbgogICAgICoKICAgICAqIEByZXR1cm4gZW50cnkgbG9nZ2VyIHNpemUgbGlt\naXRhdGlvbgogICAgICovCiAgICBwdWJsaWMgbG9uZyBnZXRFbnRyeUxvZ1Np\nemVMaW1pdCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMb25nKEVOVFJZ\nX0xPR19TSVpFX0xJTUlULCAyICogMTAyNCAqIDEwMjQgKiAxMDI0TCk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBTZXQgZW50cnkgbG9nZ2VyIHNpemUgbGlt\naXRhdGlvbgogICAgICoKICAgICAqIEBwYXJhbSBsb2dTaXplTGltaXQKICAg\nICAqICAgICAgICAgIG5ldyBsb2cgc2l6ZSBsaW1pdGF0aW9uCiAgICAgKi8K\nICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldEVudHJ5TG9nU2l6\nZUxpbWl0KGxvbmcgbG9nU2l6ZUxpbWl0KSB7CiAgICAgICAgdGhpcy5zZXRQ\ncm9wZXJ0eShFTlRSWV9MT0dfU0laRV9MSU1JVCwgTG9uZy50b1N0cmluZyhs\nb2dTaXplTGltaXQpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAg\nICAvKioKICAgICAqIEdldCBHYXJiYWdlIGNvbGxlY3Rpb24gd2FpdCB0aW1l\nCiAgICAgKgogICAgICogQHJldHVybiBnYyB3YWl0IHRpbWUKICAgICAqLwog\nICAgcHVibGljIGxvbmcgZ2V0R2NXYWl0VGltZSgpIHsKICAgICAgICByZXR1\ncm4gdGhpcy5nZXRMb25nKEdDX1dBSVRfVElNRSwgMTAwMCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgZ2FyYmFnZSBjb2xsZWN0aW9uIHdhaXQgdGlt\nZQogICAgICoKICAgICAqIEBwYXJhbSBnY1dhaXRUaW1lCiAgICAgKiAgICAg\nICAgICBnYyB3YWl0IHRpbWUKICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZp\nZ3VyYXRpb24KICAgICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRp\nb24gc2V0R2NXYWl0VGltZShsb25nIGdjV2FpdFRpbWUpIHsKICAgICAgICB0\naGlzLnNldFByb3BlcnR5KEdDX1dBSVRfVElNRSwgTG9uZy50b1N0cmluZyhn\nY1dhaXRUaW1lKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBHZXQgZmx1c2ggaW50ZXJ2YWwKICAgICAqCiAgICAgKiBA\ncmV0dXJuIGZsdXNoIGludGVydmFsCiAgICAgKi8KICAgIHB1YmxpYyBpbnQg\nZ2V0Rmx1c2hJbnRlcnZhbCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRJ\nbnQoRkxVU0hfSU5URVJWQUwsIDEwMCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBTZXQgZmx1c2ggaW50ZXJ2YWwKICAgICAqCiAgICAgKiBAcGFyYW0gZmx1\nc2hJbnRlcnZhbAogICAgICogICAgICAgICAgRmx1c2ggSW50ZXJ2YWwKICAg\nICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwogICAg\ncHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0Rmx1c2hJbnRlcnZhbChp\nbnQgZmx1c2hJbnRlcnZhbCkgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHko\nRkxVU0hfSU5URVJWQUwsIEludGVnZXIudG9TdHJpbmcoZmx1c2hJbnRlcnZh\nbCkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAg\nICogR2V0IGJvb2tpZSBkZWF0aCB3YXRjaCBpbnRlcnZhbAogICAgICoKICAg\nICAqIEByZXR1cm4gd2F0Y2ggaW50ZXJ2YWwKICAgICAqLwogICAgcHVibGlj\nIGludCBnZXREZWF0aFdhdGNoSW50ZXJ2YWwoKSB7CiAgICAgICAgcmV0dXJu\nIHRoaXMuZ2V0SW50KERFQVRIX1dBVENIX0lOVEVSVkFMLCAxMDAwKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIEdldCBvcGVuIGZpbGUgbGltaXQKICAgICAq\nCiAgICAgKiBAcmV0dXJuIG1heCBudW1iZXIgb2YgZmlsZXMgdG8gb3Blbgog\nICAgICovCiAgICBwdWJsaWMgaW50IGdldE9wZW5GaWxlTGltaXQoKSB7CiAg\nICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50KE9QRU5fRklMRV9MSU1JVCwgOTAw\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBsaW1pdGF0aW9uIG9mIG51\nbWJlciBvZiBvcGVuIGZpbGVzLgogICAgICoKICAgICAqIEBwYXJhbSBmaWxl\nTGltaXQKICAgICAqICAgICAgICAgIExpbWl0YXRpb24gb2YgbnVtYmVyIG9m\nIG9wZW4gZmlsZXMuCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNl\ndE9wZW5GaWxlTGltaXQoaW50IGZpbGVMaW1pdCkgewogICAgICAgIHNldFBy\nb3BlcnR5KE9QRU5fRklMRV9MSU1JVCwgZmlsZUxpbWl0KTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBsaW1pdGF0\naW9uIG51bWJlciBvZiBpbmRleCBwYWdlcyBpbiBsZWRnZXIgY2FjaGUKICAg\nICAqCiAgICAgKiBAcmV0dXJuIG1heCBudW1iZXIgb2YgaW5kZXggcGFnZXMg\naW4gbGVkZ2VyIGNhY2hlCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0UGFn\nZUxpbWl0KCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEludChQQUdFX0xJ\nTUlULCAtMSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgbGltaXRhdGlv\nbiBudW1iZXIgb2YgaW5kZXggcGFnZXMgaW4gbGVkZ2VyIGNhY2hlLgogICAg\nICoKICAgICAqIEBwYXJhbSBwYWdlTGltaXQKICAgICAqICAgICAgICAgIExp\nbWl0YXRpb24gb2YgbnVtYmVyIG9mIGluZGV4IHBhZ2VzIGluIGxlZGdlciBj\nYWNoZS4KICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAg\nICAqLwogICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0UGFnZUxp\nbWl0KGludCBwYWdlTGltaXQpIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5\nKFBBR0VfTElNSVQsIHBhZ2VMaW1pdCk7CiAgICAgICAgcmV0dXJuIHRoaXM7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgcGFnZSBzaXplCiAgICAgKgog\nICAgICogQHJldHVybiBwYWdlIHNpemUgaW4gbGVkZ2VyIGNhY2hlCiAgICAg\nKi8KICAgIHB1YmxpYyBpbnQgZ2V0UGFnZVNpemUoKSB7CiAgICAgICAgcmV0\ndXJuIHRoaXMuZ2V0SW50KFBBR0VfU0laRSwgODE5Mik7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTZXQgcGFnZSBzaXplCiAgICAgKgogICAgICogQHNlZSAj\nZ2V0UGFnZVNpemUoKQogICAgICoKICAgICAqIEBwYXJhbSBwYWdlU2l6ZQog\nICAgICogICAgICAgICAgUGFnZSBTaXplCiAgICAgKiBAcmV0dXJuIFNlcnZl\nciBDb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25m\naWd1cmF0aW9uIHNldFBhZ2VTaXplKGludCBwYWdlU2l6ZSkgewogICAgICAg\nIHRoaXMuc2V0UHJvcGVydHkoUEFHRV9TSVpFLCBwYWdlU2l6ZSk7CiAgICAg\nICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBNYXggam91\ncm5hbCBmaWxlIHNpemUKICAgICAqCiAgICAgKiBAcmV0dXJuIG1heCBqb3Vy\nbmFsIGZpbGUgc2l6ZQogICAgICovCiAgICBwdWJsaWMgbG9uZyBnZXRNYXhK\nb3VybmFsU2l6ZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMb25nKE1B\nWF9KT1VSTkFMX1NJWkUsIDIgKiAxMDI0KTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldCBuZXcgbWF4IGpvdXJuYWwgZmlsZSBzaXplCiAgICAgKgogICAg\nICogQHBhcmFtIG1heEpvdXJuYWxTaXplCiAgICAgKiAgICAgICAgICBuZXcg\nbWF4IGpvdXJuYWwgZmlsZSBzaXplCiAgICAgKiBAcmV0dXJuIHNlcnZlciBj\nb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1\ncmF0aW9uIHNldE1heEpvdXJuYWxTaXplKGxvbmcgbWF4Sm91cm5hbFNpemUp\nIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5KE1BWF9KT1VSTkFMX1NJWkUs\nIExvbmcudG9TdHJpbmcobWF4Sm91cm5hbFNpemUpKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIE1heCBudW1iZXIgb2Yg\nb2xkZXIgam91cm5hbCBmaWxlcyBrZXB0CiAgICAgKgogICAgICogQHJldHVy\nbiBtYXggbnVtYmVyIG9mIG9sZGVyIGpvdXJuYWwgZmlsZXMgdG8ga2VwdAog\nICAgICovCiAgICBwdWJsaWMgaW50IGdldE1heEJhY2t1cEpvdXJuYWxzKCkg\newogICAgICAgIHJldHVybiB0aGlzLmdldEludChNQVhfQkFDS1VQX0pPVVJO\nQUxTLCA1KTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBtYXggbnVtYmVy\nIG9mIG9sZGVyIGpvdXJuYWwgZmlsZXMgdG8ga2VwdAogICAgICoKICAgICAq\nIEBwYXJhbSBtYXhCYWNrdXBKb3VybmFscwogICAgICogICAgICAgICAgTWF4\nIG51bWJlciBvZiBvbGRlciBqb3VybmFsIGZpbGVzCiAgICAgKiBAcmV0dXJu\nIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2\nZXJDb25maWd1cmF0aW9uIHNldE1heEJhY2t1cEpvdXJuYWxzKGludCBtYXhC\nYWNrdXBKb3VybmFscykgewogICAgICAgIHRoaXMuc2V0UHJvcGVydHkoTUFY\nX0JBQ0tVUF9KT1VSTkFMUywgSW50ZWdlci50b1N0cmluZyhtYXhCYWNrdXBK\nb3VybmFscykpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8q\nKgogICAgICogR2V0IGJvb2tpZSBwb3J0IHRoYXQgYm9va2llIHNlcnZlciBs\naXN0ZW4gb24KICAgICAqCiAgICAgKiBAcmV0dXJuIGJvb2tpZSBwb3J0CiAg\nICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0Qm9va2llUG9ydCgpIHsKICAgICAg\nICByZXR1cm4gdGhpcy5nZXRJbnQoQk9PS0lFX1BPUlQsIDMxODEpOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0IG5ldyBib29raWUgcG9ydCB0aGF0IGJv\nb2tpZSBzZXJ2ZXIgbGlzdGVuIG9uCiAgICAgKgogICAgICogQHBhcmFtIHBv\ncnQKICAgICAqICAgICAgICAgIFBvcnQgdG8gbGlzdGVuIG9uCiAgICAgKiBA\ncmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1Ymxp\nYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldEJvb2tpZVBvcnQoaW50IHBvcnQp\nIHsKICAgICAgICB0aGlzLnNldFByb3BlcnR5KEJPT0tJRV9QT1JULCBJbnRl\nZ2VyLnRvU3RyaW5nKHBvcnQpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAg\nIH0KCiAgICAvKioKICAgICAqIEdldCBkaXIgbmFtZSB0byBzdG9yZSBqb3Vy\nbmFsIGZpbGVzCiAgICAgKgogICAgICogQHJldHVybiBqb3VybmFsIGRpciBu\nYW1lCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0Sm91cm5hbERpck5h\nbWUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nKEpPVVJOQUxf\nRElSLCAiL3RtcC9iay10eG4iKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ndCBkaXIgbmFtZSB0byBzdG9yZSBqb3VybmFsIGZpbGVzCiAgICAgKgogICAg\nICogQHBhcmFtIGpvdXJuYWxEaXIKICAgICAqICAgICAgICAgIERpciB0byBz\ndG9yZSBqb3VybmFsIGZpbGVzCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25m\naWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0\naW9uIHNldEpvdXJuYWxEaXJOYW1lKFN0cmluZyBqb3VybmFsRGlyKSB7CiAg\nICAgICAgdGhpcy5zZXRQcm9wZXJ0eShKT1VSTkFMX0RJUiwgam91cm5hbERp\ncik7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBHZXQgZGlyIHRvIHN0b3JlIGpvdXJuYWwgZmlsZXMKICAgICAqCiAgICAg\nKiBAcmV0dXJuIGpvdXJuYWwgZGlyLCBpZiBubyBqb3VybmFsIGRpciBwcm92\naWRlZCByZXR1cm4gbnVsbAogICAgICovCiAgICBwdWJsaWMgRmlsZSBnZXRK\nb3VybmFsRGlyKCkgewogICAgICAgIFN0cmluZyBqb3VybmFsRGlyTmFtZSA9\nIGdldEpvdXJuYWxEaXJOYW1lKCk7CiAgICAgICAgaWYgKG51bGwgPT0gam91\ncm5hbERpck5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAg\nICAgfQogICAgICAgIHJldHVybiBuZXcgRmlsZShqb3VybmFsRGlyTmFtZSk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgZGlyIG5hbWVzIHRvIHN0b3Jl\nIGxlZGdlciBkYXRhCiAgICAgKgogICAgICogQHJldHVybiBsZWRnZXIgZGly\nIG5hbWVzLCBpZiBub3QgcHJvdmlkZWQgcmV0dXJuIG51bGwKICAgICAqLwog\nICAgcHVibGljIFN0cmluZ1tdIGdldExlZGdlckRpck5hbWVzKCkgewogICAg\nICAgIFN0cmluZ1tdIGxlZGdlckRpcnMgPSB0aGlzLmdldFN0cmluZ0FycmF5\nKExFREdFUl9ESVJTKTsKICAgICAgICBpZiAobnVsbCA9PSBsZWRnZXJEaXJz\nKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyaW5nW10geyAiL3RtcC9i\nay1kYXRhIiB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGVkZ2VyRGly\nczsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBkaXIgbmFtZXMgdG8gc3Rv\ncmUgbGVkZ2VyIGRhdGEKICAgICAqCiAgICAgKiBAcGFyYW0gbGVkZ2VyRGly\ncwogICAgICogICAgICAgICAgRGlyIG5hbWVzIHRvIHN0b3JlIGxlZGdlciBk\nYXRhCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAg\nKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNldExlZGdlckRp\nck5hbWVzKFN0cmluZ1tdIGxlZGdlckRpcnMpIHsKICAgICAgICBpZiAobnVs\nbCA9PSBsZWRnZXJEaXJzKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwog\nICAgICAgIH0KICAgICAgICB0aGlzLnNldFByb3BlcnR5KExFREdFUl9ESVJT\nLCBsZWRnZXJEaXJzKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAg\nICAvKioKICAgICAqIEdldCBkaXJzIHRoYXQgc3RvcmVzIGxlZGdlciBkYXRh\nCiAgICAgKgogICAgICogQHJldHVybiBsZWRnZXIgZGlycwogICAgICovCiAg\nICBwdWJsaWMgRmlsZVtdIGdldExlZGdlckRpcnMoKSB7CiAgICAgICAgU3Ry\naW5nW10gbGVkZ2VyRGlyTmFtZXMgPSBnZXRMZWRnZXJEaXJOYW1lcygpOwog\nICAgICAgIGlmIChudWxsID09IGxlZGdlckRpck5hbWVzKSB7CiAgICAgICAg\nICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBGaWxlW10gbGVk\nZ2VyRGlycyA9IG5ldyBGaWxlW2xlZGdlckRpck5hbWVzLmxlbmd0aF07CiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBsZWRnZXJEaXJOYW1lcy5sZW5n\ndGg7IGkrKykgewogICAgICAgICAgICBsZWRnZXJEaXJzW2ldID0gbmV3IEZp\nbGUobGVkZ2VyRGlyTmFtZXNbaV0pOwogICAgICAgIH0KICAgICAgICByZXR1\ncm4gbGVkZ2VyRGlyczsKICAgIH0KCiAgICAvKioKICAgICAqIElzIHRjcCBj\nb25uZWN0aW9uIG5vIGRlbGF5LgogICAgICoKICAgICAqIEByZXR1cm4gdGNw\nIHNvY2tldCBub2RlbGF5IHNldHRpbmcKICAgICAqLwogICAgcHVibGljIGJv\nb2xlYW4gZ2V0U2VydmVyVGNwTm9EZWxheSgpIHsKICAgICAgICByZXR1cm4g\nZ2V0Qm9vbGVhbihTRVJWRVJfVENQX05PREVMQVksIHRydWUpOwogICAgfQoK\nICAgIC8qKgogICAgICogU2V0IHNvY2tldCBub2RlbGF5IHNldHRpbmcKICAg\nICAqCiAgICAgKiBAcGFyYW0gbm9EZWxheQogICAgICogICAgICAgICAgTm9E\nZWxheSBzZXR0aW5nCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNl\ndFNlcnZlclRjcE5vRGVsYXkoYm9vbGVhbiBub0RlbGF5KSB7CiAgICAgICAg\nc2V0UHJvcGVydHkoU0VSVkVSX1RDUF9OT0RFTEFZLCBCb29sZWFuLnRvU3Ry\naW5nKG5vRGVsYXkpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAg\nICAvKioKICAgICAqIEdldCB6b29rZWVwZXIgc2VydmVycyB0byBjb25uZWN0\nCiAgICAgKgogICAgICogQHJldHVybiB6b29rZWVwZXIgc2VydmVycwogICAg\nICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFprU2VydmVycygpIHsKICAgICAg\nICBMaXN0PE9iamVjdD4gc2VydmVycyA9IGdldExpc3QoWktfU0VSVkVSUywg\nbnVsbCk7CiAgICAgICAgaWYgKG51bGwgPT0gc2VydmVycyB8fCAwID09IHNl\ncnZlcnMuc2l6ZSgpKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAg\nICAgIH0KICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuam9pbihzZXJ2ZXJz\nLCAiLCIpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHpvb2tlZXBlciBz\nZXJ2ZXJzIHRvIGNvbm5lY3QKICAgICAqCiAgICAgKiBAcGFyYW0gemtTZXJ2\nZXJzCiAgICAgKiAgICAgICAgICBab29LZWVwZXIgc2VydmVycyB0byBjb25u\nZWN0CiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNl\ndFprU2VydmVycyhTdHJpbmcgemtTZXJ2ZXJzKSB7CiAgICAgICAgc2V0UHJv\ncGVydHkoWktfU0VSVkVSUywgemtTZXJ2ZXJzKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB6b29rZWVwZXIgdGlt\nZW91dAogICAgICoKICAgICAqIEByZXR1cm4gem9va2VlcGVyIHNlcnZlciB0\naW1lb3V0CiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0WmtUaW1lb3V0KCkg\newogICAgICAgIHJldHVybiBnZXRJbnQoWktfVElNRU9VVCwgMTAwMDApOwog\nICAgfQoKICAgIC8qKgogICAgICogU2V0IHpvb2tlZXBlciB0aW1lb3V0CiAg\nICAgKgogICAgICogQHBhcmFtIHprVGltZW91dAogICAgICogICAgICAgICAg\nWm9vS2VlcGVyIHNlcnZlciB0aW1lb3V0CiAgICAgKiBAcmV0dXJuIHNlcnZl\nciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25m\naWd1cmF0aW9uIHNldFprVGltZW91dChpbnQgemtUaW1lb3V0KSB7CiAgICAg\nICAgc2V0UHJvcGVydHkoWktfVElNRU9VVCwgSW50ZWdlci50b1N0cmluZyh6\na1RpbWVvdXQpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAv\nKioKICAgICAqIElzIHN0YXRpc3RpY3MgZW5hYmxlZAogICAgICoKICAgICAq\nIEByZXR1cm4gaXMgc3RhdGlzdGljcyBlbmFibGVkCiAgICAgKi8KICAgIHB1\nYmxpYyBib29sZWFuIGlzU3RhdGlzdGljc0VuYWJsZWQoKSB7CiAgICAgICAg\ncmV0dXJuIGdldEJvb2xlYW4oRU5BQkxFX1NUQVRJU1RJQ1MsIHRydWUpOwog\nICAgfQoKICAgIC8qKgogICAgICogVHVybiBvbi9vZmYgc3RhdGlzdGljcwog\nICAgICoKICAgICAqIEBwYXJhbSBlbmFibGVkCiAgICAgKiAgICAgICAgICBX\naGV0aGVyIHN0YXRpc3RpY3MgZW5hYmxlZCBvciBub3QuCiAgICAgKiBAcmV0\ndXJuIHNlcnZlciBjb25maWd1cmF0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBT\nZXJ2ZXJDb25maWd1cmF0aW9uIHNldFN0YXRpc3RpY3NFbmFibGVkKGJvb2xl\nYW4gZW5hYmxlZCkgewogICAgICAgIHNldFByb3BlcnR5KEVOQUJMRV9TVEFU\nSVNUSUNTLCBCb29sZWFuLnRvU3RyaW5nKGVuYWJsZWQpKTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0aHJlc2hv\nbGQgb2YgbWlub3IgY29tcGFjdGlvbi4KICAgICAqCiAgICAgKiBGb3IgdGhv\nc2UgZW50cnkgbG9nIGZpbGVzIHdob3NlIHJlbWFpbmluZyBzaXplIHBlcmNl\nbnRhZ2UgcmVhY2hlcyBiZWxvdwogICAgICogdGhpcyB0aHJlc2hvbGQgIHdp\nbGwgYmUgY29tcGFjdGVkIGluIGEgbWlub3IgY29tcGFjdGlvbi4KICAgICAq\nCiAgICAgKiBJZiBpdCBpcyBzZXQgdG8gbGVzcyB0aGFuIHplcm8sIHRoZSBt\naW5vciBjb21wYWN0aW9uIGlzIGRpc2FibGVkLgogICAgICoKICAgICAqIEBy\nZXR1cm4gdGhyZXNob2xkIG9mIG1pbm9yIGNvbXBhY3Rpb24KICAgICAqLwog\nICAgcHVibGljIGRvdWJsZSBnZXRNaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQo\nKSB7CiAgICAgICAgcmV0dXJuIGdldERvdWJsZShNSU5PUl9DT01QQUNUSU9O\nX1RIUkVTSE9MRCwgMC4yZik7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQg\ndGhyZXNob2xkIG9mIG1pbm9yIGNvbXBhY3Rpb24KICAgICAqCiAgICAgKiBA\nc2VlICNnZXRNaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQoKQogICAgICoKICAg\nICAqIEBwYXJhbSB0aHJlc2hvbGQKICAgICAqICAgICAgICAgIFRocmVzaG9s\nZCBmb3IgbWlub3IgY29tcGFjdGlvbgogICAgICogQHJldHVybiBzZXJ2ZXIg\nY29uZmlndXJhdGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmln\ndXJhdGlvbiBzZXRNaW5vckNvbXBhY3Rpb25UaHJlc2hvbGQoZG91YmxlIHRo\ncmVzaG9sZCkgewogICAgICAgIHNldFByb3BlcnR5KE1JTk9SX0NPTVBBQ1RJ\nT05fVEhSRVNIT0xELCB0aHJlc2hvbGQpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRocmVzaG9sZCBvZiBtYWpv\nciBjb21wYWN0aW9uLgogICAgICoKICAgICAqIEZvciB0aG9zZSBlbnRyeSBs\nb2cgZmlsZXMgd2hvc2UgcmVtYWluaW5nIHNpemUgcGVyY2VudGFnZSByZWFj\naGVzIGJlbG93CiAgICAgKiB0aGlzIHRocmVzaG9sZCAgd2lsbCBiZSBjb21w\nYWN0ZWQgaW4gYSBtYWpvciBjb21wYWN0aW9uLgogICAgICoKICAgICAqIElm\nIGl0IGlzIHNldCB0byBsZXNzIHRoYW4gemVybywgdGhlIG1ham9yIGNvbXBh\nY3Rpb24gaXMgZGlzYWJsZWQuCiAgICAgKgogICAgICogQHJldHVybiB0aHJl\nc2hvbGQgb2YgbWFqb3IgY29tcGFjdGlvbgogICAgICovCiAgICBwdWJsaWMg\nZG91YmxlIGdldE1ham9yQ29tcGFjdGlvblRocmVzaG9sZCgpIHsKICAgICAg\nICByZXR1cm4gZ2V0RG91YmxlKE1BSk9SX0NPTVBBQ1RJT05fVEhSRVNIT0xE\nLCAwLjhmKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aHJlc2hvbGQg\nb2YgbWFqb3IgY29tcGFjdGlvbi4KICAgICAqCiAgICAgKiBAc2VlICNnZXRN\nYWpvckNvbXBhY3Rpb25UaHJlc2hvbGQoKQogICAgICoKICAgICAqIEBwYXJh\nbSB0aHJlc2hvbGQKICAgICAqICAgICAgICAgIFRocmVzaG9sZCBvZiBtYWpv\nciBjb21wYWN0aW9uCiAgICAgKiBAcmV0dXJuIHNlcnZlciBjb25maWd1cmF0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBTZXJ2ZXJDb25maWd1cmF0aW9uIHNl\ndE1ham9yQ29tcGFjdGlvblRocmVzaG9sZChkb3VibGUgdGhyZXNob2xkKSB7\nCiAgICAgICAgc2V0UHJvcGVydHkoTUFKT1JfQ09NUEFDVElPTl9USFJFU0hP\nTEQsIHRocmVzaG9sZCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBHZXQgaW50ZXJ2YWwgdG8gcnVuIG1pbm9yIGNvbXBh\nY3Rpb24sIGluIHNlY29uZHMuCiAgICAgKgogICAgICogSWYgaXQgaXMgc2V0\nIHRvIGxlc3MgdGhhbiB6ZXJvLCB0aGUgbWlub3IgY29tcGFjdGlvbiBpcyBk\naXNhYmxlZC4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRocmVzaG9sZCBvZiBt\naW5vciBjb21wYWN0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBsb25nIGdldE1p\nbm9yQ29tcGFjdGlvbkludGVydmFsKCkgewogICAgICAgIHJldHVybiBnZXRM\nb25nKE1JTk9SX0NPTVBBQ1RJT05fSU5URVJWQUwsIDM2MDApOwogICAgfQoK\nICAgIC8qKgogICAgICogU2V0IGludGVydmFsIHRvIHJ1biBtaW5vciBjb21w\nYWN0aW9uCiAgICAgKgogICAgICogQHNlZSAjZ2V0TWlub3JDb21wYWN0aW9u\nSW50ZXJ2YWwoKQogICAgICoKICAgICAqIEBwYXJhbSBpbnRlcnZhbAogICAg\nICogICAgICAgICAgSW50ZXJ2YWwgdG8gcnVuIG1pbm9yIGNvbXBhY3Rpb24K\nICAgICAqIEByZXR1cm4gc2VydmVyIGNvbmZpZ3VyYXRpb24KICAgICAqLwog\nICAgcHVibGljIFNlcnZlckNvbmZpZ3VyYXRpb24gc2V0TWlub3JDb21wYWN0\naW9uSW50ZXJ2YWwobG9uZyBpbnRlcnZhbCkgewogICAgICAgIHNldFByb3Bl\ncnR5KE1JTk9SX0NPTVBBQ1RJT05fSU5URVJWQUwsIGludGVydmFsKTsKICAg\nICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCBp\nbnRlcnZhbCB0byBydW4gbWFqb3IgY29tcGFjdGlvbiwgaW4gc2Vjb25kcy4K\nICAgICAqCiAgICAgKiBJZiBpdCBpcyBzZXQgdG8gbGVzcyB0aGFuIHplcm8s\nIHRoZSBtYWpvciBjb21wYWN0aW9uIGlzIGRpc2FibGVkLgogICAgICoKICAg\nICAqIEByZXR1cm4gaGlnaCB3YXRlciBtYXJrCiAgICAgKi8KICAgIHB1Ymxp\nYyBsb25nIGdldE1ham9yQ29tcGFjdGlvbkludGVydmFsKCkgewogICAgICAg\nIHJldHVybiBnZXRMb25nKE1BSk9SX0NPTVBBQ1RJT05fSU5URVJWQUwsIDg2\nNDAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBpbnRlcnZhbCB0byBy\ndW4gbWFqb3IgY29tcGFjdGlvbi4KICAgICAqCiAgICAgKiBAc2VlICNnZXRN\nYWpvckNvbXBhY3Rpb25JbnRlcnZhbCgpCiAgICAgKgogICAgICogQHBhcmFt\nIGludGVydmFsCiAgICAgKiAgICAgICAgICBJbnRlcnZhbCB0byBydW4gbWFq\nb3IgY29tcGFjdGlvbgogICAgICogQHJldHVybiBzZXJ2ZXIgY29uZmlndXJh\ndGlvbgogICAgICovCiAgICBwdWJsaWMgU2VydmVyQ29uZmlndXJhdGlvbiBz\nZXRNYWpvckNvbXBhY3Rpb25JbnRlcnZhbChsb25nIGludGVydmFsKSB7CiAg\nICAgICAgc2V0UHJvcGVydHkoTUFKT1JfQ09NUEFDVElPTl9JTlRFUlZBTCwg\naW50ZXJ2YWwpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQp9Cg==\n","encoding":"base64"}

