{"sha":"b222395ec45f4320fd290488f83acd4ec1078ab2","node_id":"MDQ6QmxvYjE1NzU5NTY6YjIyMjM5NWVjNDVmNDMyMGZkMjkwNDg4ZjgzYWNkNGVjMTA3OGFiMg==","size":2645,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b222395ec45f4320fd290488f83acd4ec1078ab2","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLnByb3RvOwoKaW1wb3J0IGph\ndmEubmV0LkluZXRBZGRyZXNzOwppbXBvcnQgamF2YS5uZXQuVW5rbm93bkhv\nc3RFeGNlcHRpb247CgppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNv\nbmYuU2VydmVyQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUuYm9v\na2tlZXBlci5qbXguQktNQmVhbkluZm87CmltcG9ydCBvcmcuYXBhY2hlLmJv\nb2trZWVwZXIucHJvdG8uQktTdGF0czsKaW1wb3J0IG9yZy5hcGFjaGUuYm9v\na2tlZXBlci5wcm90by5CS1N0YXRzLk9wU3RhdHM7CmltcG9ydCBvcmcuYXBh\nY2hlLmJvb2trZWVwZXIucHJvdG8uQktTdGF0cy5PcFN0YXREYXRhOwoKLyoq\nCiAqIEJvb2tpZSBTZXJ2ZXIgQmVhbgogKi8KcHVibGljIGNsYXNzIEJvb2tp\nZVNlcnZlckJlYW4gaW1wbGVtZW50cyBCb29raWVTZXJ2ZXJNWEJlYW4sIEJL\nTUJlYW5JbmZvIHsKCiAgICBwcm90ZWN0ZWQgZmluYWwgQm9va2llU2VydmVy\nIGJrczsKICAgIHByb3RlY3RlZCBmaW5hbCBTZXJ2ZXJDb25maWd1cmF0aW9u\nIGNvbmY7CiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBuYW1lOwoKICAgIHB1\nYmxpYyBCb29raWVTZXJ2ZXJCZWFuKFNlcnZlckNvbmZpZ3VyYXRpb24gY29u\nZiwgQm9va2llU2VydmVyIGJrcykgewogICAgICAgIHRoaXMuY29uZiA9IGNv\nbmY7CiAgICAgICAgdGhpcy5ia3MgPSBia3M7CiAgICAgICAgbmFtZSA9ICJC\nb29raWVTZXJ2ZXJfIiArIGNvbmYuZ2V0Qm9va2llUG9ydCgpOwogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgewog\nICAgICAgIHJldHVybiBuYW1lOwogICAgfQoKICAgIEBPdmVycmlkZQogICAg\ncHVibGljIGJvb2xlYW4gaXNIaWRkZW4oKSB7CiAgICAgICAgcmV0dXJuIGZh\nbHNlOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGxvbmcgZ2V0\nTnVtUGFja2V0c1JlY2VpdmVkKCkgewogICAgICAgIHJldHVybiBTZXJ2ZXJT\ndGF0cy5nZXRJbnN0YW5jZSgpLmdldFBhY2tldHNSZWNlaXZlZCgpOwogICAg\nfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGxvbmcgZ2V0TnVtUGFja2V0\nc1NlbnQoKSB7CiAgICAgICAgcmV0dXJuIFNlcnZlclN0YXRzLmdldEluc3Rh\nbmNlKCkuZ2V0UGFja2V0c1NlbnQoKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUK\nICAgIHB1YmxpYyBPcFN0YXREYXRhIGdldEFkZFN0YXRzKCkgewogICAgICAg\nIHJldHVybiBia3MuYmtTdGF0cy5nZXRPcFN0YXRzKEJLU3RhdHMuU1RBVFNf\nQUREKS50b09wU3RhdERhdGEoKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAg\nIHB1YmxpYyBPcFN0YXREYXRhIGdldFJlYWRTdGF0cygpIHsKICAgICAgICBy\nZXR1cm4gYmtzLmJrU3RhdHMuZ2V0T3BTdGF0cyhCS1N0YXRzLlNUQVRTX1JF\nQUQpLnRvT3BTdGF0RGF0YSgpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAg\ncHVibGljIFN0cmluZyBnZXRTZXJ2ZXJTdGF0ZSgpIHsKICAgICAgICByZXR1\ncm4gYmtzLm5pb1NlcnZlckZhY3Rvcnkuc3RhdHMuZ2V0U2VydmVyU3RhdGUo\nKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nU2VydmVyUG9ydCgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1\ncm4gSW5ldEFkZHJlc3MuZ2V0TG9jYWxIb3N0KCkuZ2V0SG9zdEFkZHJlc3Mo\nKSArICI6IgogICAgICAgICAgICAgICAgICAgICsgY29uZi5nZXRCb29raWVQ\nb3J0KCk7CiAgICAgICAgfSBjYXRjaCAoVW5rbm93bkhvc3RFeGNlcHRpb24g\nZSkgewogICAgICAgICAgICByZXR1cm4gImxvY2FsaG9zdDoiICsgY29uZi5n\nZXRCb29raWVQb3J0KCk7CiAgICAgICAgfQogICAgfQoKfQo=\n","encoding":"base64"}

