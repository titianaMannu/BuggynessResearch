{"sha":"e07c756114b84b7ee872cacfa239e69622bebdba","node_id":"MDQ6QmxvYjE1NzU5NTY6ZTA3Yzc1NjExNGI4NGI3ZWU4NzJjYWNmYTIzOWU2OTYyMmJlYmRiYQ==","size":8708,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/e07c756114b84b7ee872cacfa239e69622bebdba","content":"LyoKICoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICoK\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5ib29ra2VlcGVyLm1ldGE7CgppbXBv\ncnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLmNsaWVudC5Cb29rS2VlcGVyLkRp\nZ2VzdFR5cGU7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZi5D\nbGllbnRDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVw\nZXIuV2F0Y2hlZEV2ZW50OwppbXBvcnQgb3JnLmFwYWNoZS56b29rZWVwZXIu\nV2F0Y2hlcjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLlpvb0tlZXBl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUuem9va2VlcGVyLkNyZWF0ZU1vZGU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLnpvb2tlZXBlci5ab29EZWZzLklkczsKaW1wb3J0\nIGphdmEudXRpbC5jb25jdXJyZW50LkN5Y2xpY0JhcnJpZXI7CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5Db3VudERvd25MYXRjaDsKCmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Cgpp\nbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVyLnRlc3QuQm9va0tlZXBlckNs\ndXN0ZXJUZXN0Q2FzZTsKaW1wb3J0IG9yZy5qdW5pdC5BZnRlcjsKaW1wb3J0\nIG9yZy5qdW5pdC5CZWZvcmU7CmltcG9ydCBvcmcuanVuaXQuVGVzdDsKaW1w\nb3J0IG9yZy5qdW5pdC5Bc3NlcnQuKjsKCmltcG9ydCBvcmcuc2xmNGouTG9n\nZ2VyOwppbXBvcnQgb3JnLnNsZjRqLkxvZ2dlckZhY3Rvcnk7CgpwdWJsaWMg\nY2xhc3MgVGVzdExlZGdlck1hbmFnZXIgZXh0ZW5kcyBCb29rS2VlcGVyQ2x1\nc3RlclRlc3RDYXNlIHsKICAgIHN0YXRpYyBMb2dnZXIgTE9HID0gTG9nZ2Vy\nRmFjdG9yeS5nZXRMb2dnZXIoVGVzdExlZGdlck1hbmFnZXIuY2xhc3MpOwoK\nICAgIHB1YmxpYyBUZXN0TGVkZ2VyTWFuYWdlcigpIHsKICAgICAgICBzdXBl\ncigwKTsKICAgIH0KCiAgICAvKiogCiAgICAgKiBUZXN0IGJhZCBjbGllbnQg\nY29uZmlndXJhdGlvbgogICAgICovCiAgICBAVGVzdAogICAgcHVibGljIHZv\naWQgdGVzdEJhZENvbmYoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBD\nbGllbnRDb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgQ2xpZW50Q29uZmlndXJh\ndGlvbigpOwogICAgICAgIAogICAgICAgIC8vIHN1Y2Nlc3MgY2FzZQogICAg\nICAgIFN0cmluZyByb290MCA9ICIvZ29vZGNvbmYwIjsKICAgICAgICB6a2Mu\nY3JlYXRlKHJvb3QwLCBuZXcgYnl0ZVswXSwgCiAgICAgICAgICAgICAgICAg\nICBJZHMuT1BFTl9BQ0xfVU5TQUZFLCBDcmVhdGVNb2RlLlBFUlNJU1RFTlQp\nOwogICAgICAgIGNvbmYuc2V0WmtMZWRnZXJzUm9vdFBhdGgocm9vdDApOwoK\nICAgICAgICBMZWRnZXJNYW5hZ2VyIG0gPSBMZWRnZXJNYW5hZ2VyRmFjdG9y\neS5uZXdMZWRnZXJNYW5hZ2VyKGNvbmYsIHprYyk7CiAgICAgICAgYXNzZXJ0\nVHJ1ZSgiTGVkZ2VyIG1hbmFnZXIgaXMgdW5leHBlY3RlZCB0eXBlIiwgCiAg\nICAgICAgICAgICAgICAgICAobSBpbnN0YW5jZW9mIEZsYXRMZWRnZXJNYW5h\nZ2VyKSk7CgogICAgICAgIC8vIG1pc21hdGNoaW5nIGNvbmYKICAgICAgICBj\nb25mLnNldExlZGdlck1hbmFnZXJUeXBlKEhpZXJhcmNoaWNhbExlZGdlck1h\nbmFnZXIuTkFNRSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgTGVkZ2Vy\nTWFuYWdlckZhY3RvcnkubmV3TGVkZ2VyTWFuYWdlcihjb25mLCB6a2MpOwog\nICAgICAgICAgICBmYWlsKCJTaG91bGRuJ3QgcmVhY2ggaGVyZSIpOwogICAg\nICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGFzc2Vy\ndFRydWUoIkludmFsaWQgZXhjZXB0aW9uIiwgCiAgICAgICAgICAgICAgICAg\nICAgICAgZS5nZXRNZXNzYWdlKCkuY29udGFpbnMoImRvZXMgbm90IG1hdGNo\nIGV4aXN0aW5nIGxheW91dCIpKTsKICAgICAgICB9CgogICAgICAgIC8vIGlu\ndmFsaWQgbGVkZ2VyIG1hbmFnZXIKICAgICAgICBTdHJpbmcgcm9vdDEgPSAi\nL2JhZGNvbmYxIjsKICAgICAgICB6a2MuY3JlYXRlKHJvb3QxLCBuZXcgYnl0\nZVswXSwgCiAgICAgICAgICAgICAgICAgICBJZHMuT1BFTl9BQ0xfVU5TQUZF\nLCBDcmVhdGVNb2RlLlBFUlNJU1RFTlQpOwogICAgICAgIGNvbmYuc2V0WmtM\nZWRnZXJzUm9vdFBhdGgocm9vdDEpOwoKICAgICAgICBjb25mLnNldExlZGdl\nck1hbmFnZXJUeXBlKCJEb2VzTm90RXhpc3QiKTsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBMZWRnZXJNYW5hZ2VyRmFjdG9yeS5uZXdMZWRnZXJNYW5h\nZ2VyKGNvbmYsIHprYyk7CiAgICAgICAgICAgIGZhaWwoIlNob3VsZG4ndCBy\nZWFjaCBoZXJlIik7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsK\nICAgICAgICAgICAgYXNzZXJ0VHJ1ZSgiSW52YWxpZCBleGNlcHRpb24iLCAK\nICAgICAgICAgICAgICAgICAgICBlLmdldE1lc3NhZ2UoKS5jb250YWlucygi\nVW5rbm93biBsZWRnZXIgbWFuYWdlciB0eXBlICIpKTsKICAgICAgICB9CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUZXN0IGJhZCB6ayBjb25maWd1cmF0aW9u\nCiAgICAgKi8KICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0QmFkWmtD\nb250ZW50cygpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIENsaWVudENv\nbmZpZ3VyYXRpb24gY29uZiA9IG5ldyBDbGllbnRDb25maWd1cmF0aW9uKCk7\nCiAgICAgICAgCiAgICAgICAgLy8gYmFkIHR5cGUgaW4gem9va2VlcGVyCiAg\nICAgICAgU3RyaW5nIHJvb3QwID0gIi9iYWR6azAiOwogICAgICAgIHprYy5j\ncmVhdGUocm9vdDAsIG5ldyBieXRlWzBdLCAKICAgICAgICAgICAgICAgICAg\nIElkcy5PUEVOX0FDTF9VTlNBRkUsIENyZWF0ZU1vZGUuUEVSU0lTVEVOVCk7\nCiAgICAgICAgY29uZi5zZXRaa0xlZGdlcnNSb290UGF0aChyb290MCk7CiAg\nICAgICAgCiAgICAgICAgbmV3IExlZGdlckxheW91dCgiRG9lc05vdEV4aXN0\nIiwKICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZGVhZGJlZWYpLnN0b3Jl\nKHprYywgcm9vdDApOwogICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIExlZGdlck1hbmFnZXJGYWN0b3J5Lm5ld0xlZGdlck1hbmFnZXIoY29u\nZiwgemtjKTsKICAgICAgICAgICAgZmFpbCgiU2hvdWxkbid0IHJlYWNoIGhl\ncmUiKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAg\nICAgICBhc3NlcnRUcnVlKCJJbnZhbGlkIGV4Y2VwdGlvbiIsIAogICAgICAg\nICAgICAgICAgICAgIGUuZ2V0TWVzc2FnZSgpLmNvbnRhaW5zKCJVbmtub3du\nIGxlZGdlciBtYW5hZ2VyIHR5cGUiKSk7CiAgICAgICAgfQoKICAgICAgICAv\nLyBiYWQgdmVyc2lvbiBpbiB6b29rZWVwZXIKICAgICAgICBTdHJpbmcgcm9v\ndDEgPSAiL2JhZHprMSI7CiAgICAgICAgemtjLmNyZWF0ZShyb290MSwgbmV3\nIGJ5dGVbMF0sIAogICAgICAgICAgICAgICAgICAgSWRzLk9QRU5fQUNMX1VO\nU0FGRSwgQ3JlYXRlTW9kZS5QRVJTSVNURU5UKTsKICAgICAgICBjb25mLnNl\ndFprTGVkZ2Vyc1Jvb3RQYXRoKHJvb3QxKTsKICAgICAgICAKICAgICAgICBu\nZXcgTGVkZ2VyTGF5b3V0KEZsYXRMZWRnZXJNYW5hZ2VyLk5BTUUsCiAgICAg\nICAgICAgICAgICAgICAgICAgICAweGRlYWRiZWVmKS5zdG9yZSh6a2MsIHJv\nb3QxKTsKICAgICAgICAKICAgICAgICB0cnkgewogICAgICAgICAgICBMZWRn\nZXJNYW5hZ2VyRmFjdG9yeS5uZXdMZWRnZXJNYW5hZ2VyKGNvbmYsIHprYyk7\nCiAgICAgICAgICAgIGZhaWwoIlNob3VsZG4ndCByZWFjaCBoZXJlIik7CiAg\nICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgYXNz\nZXJ0VHJ1ZSgiSW52YWxpZCBleGNlcHRpb24iLCAKICAgICAgICAgICAgICAg\nICAgICBlLmdldE1lc3NhZ2UoKS5jb250YWlucygiSW5jb21wYXRpYmxlIGxh\neW91dCB2ZXJzaW9uIGZvdW5kIikpOwogICAgICAgIH0KICAgIH0KCiAgICBw\ncml2YXRlIHN0YXRpYyBjbGFzcyBDcmVhdGVMTVRocmVhZCBleHRlbmRzIFRo\ncmVhZCB7CiAgICAgICAgcHJpdmF0ZSBib29sZWFuIHN1Y2Nlc3MgPSBmYWxz\nZTsKICAgICAgICBwcml2YXRlIGZpbmFsIFN0cmluZyB0eXBlOwogICAgICAg\nIHByaXZhdGUgZmluYWwgU3RyaW5nIHJvb3Q7CiAgICAgICAgcHJpdmF0ZSBm\naW5hbCBDeWNsaWNCYXJyaWVyIGJhcnJpZXI7CiAgICAgICAgcHJpdmF0ZSBa\nb29LZWVwZXIgemtjOwogICAgICAgIAogICAgICAgIENyZWF0ZUxNVGhyZWFk\nKFN0cmluZyByb290LCBTdHJpbmcgdHlwZSwgQ3ljbGljQmFycmllciBiYXJy\naWVyKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICAgICAgdGhpcy50eXBl\nID0gdHlwZTsKICAgICAgICAgICAgdGhpcy5iYXJyaWVyID0gYmFycmllcjsK\nICAgICAgICAgICAgdGhpcy5yb290ID0gcm9vdDsKICAgICAgICAgICAgZmlu\nYWwgQ291bnREb3duTGF0Y2ggbGF0Y2ggPSBuZXcgQ291bnREb3duTGF0Y2go\nMSk7CiAgICAgICAgICAgIHprYyA9IG5ldyBab29LZWVwZXIoIjEyNy4wLjAu\nMSIsIDEwMDAwLCBuZXcgV2F0Y2hlcigpIHsKICAgICAgICAgICAgICAgICAg\nICBwdWJsaWMgdm9pZCBwcm9jZXNzKFdhdGNoZWRFdmVudCBldmVudCkgewog\nICAgICAgICAgICAgICAgICAgICAgICBsYXRjaC5jb3VudERvd24oKTsKICAg\nICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAg\nICAgICAgbGF0Y2guYXdhaXQoKTsKICAgICAgICB9CgogICAgICAgIHB1Ymxp\nYyB2b2lkIHJ1bigpIHsKICAgICAgICAgICAgQ2xpZW50Q29uZmlndXJhdGlv\nbiBjb25mID0gbmV3IENsaWVudENvbmZpZ3VyYXRpb24oKTsKICAgICAgICAg\nICAgY29uZi5zZXRMZWRnZXJNYW5hZ2VyVHlwZSh0eXBlKTsKCiAgICAgICAg\nICAgIHRyeSB7CiAgICAgICAgICAgICAgICBiYXJyaWVyLmF3YWl0KCk7CiAg\nICAgICAgICAgICAgICBMZWRnZXJNYW5hZ2VyRmFjdG9yeS5uZXdMZWRnZXJN\nYW5hZ2VyKGNvbmYsIHprYyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAg\nICAgICAgIHN1Y2Nlc3MgPSB0cnVlOwogICAgICAgICAgICB9IGNhdGNoIChF\neGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgTE9HLmVycm9yKCJGYWls\nZWQgdG8gY3JlYXRlIGxlZGdlciBtYW5hZ2VyIiwgZSk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9CgogICAgICAgIHB1YmxpYyBib29sZWFuIGlzU3VjY2Vz\nc2Z1bCgpIHsKICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7CiAgICAgICAg\nfQogICAgICAgIAogICAgICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHprYy5jbG9zZSgpOwogICAgICAg\nIH0KICAgIH0KCiAgICAvLyB0ZXN0IGNvbmN1cnJlbnQKICAgIEBUZXN0CiAg\nICBwdWJsaWMgdm9pZCB0ZXN0Q29uY3VycmVudDEoKSB0aHJvd3MgRXhjZXB0\naW9uIHsKICAgICAgICAvLy8gZXZlcnlvbmUgY3JlYXRlcyB0aGUgc2FtZQog\nICAgICAgIGludCBudW1UaHJlYWRzID0gNTA7CiAgICAgICAgCiAgICAgICAg\nLy8gYmFkIHZlcnNpb24gaW4gem9va2VlcGVyCiAgICAgICAgU3RyaW5nIHJv\nb3QwID0gIi9sbXJvb3QwIjsKICAgICAgICB6a2MuY3JlYXRlKHJvb3QwLCBu\nZXcgYnl0ZVswXSwgCiAgICAgICAgICAgICAgICAgICBJZHMuT1BFTl9BQ0xf\nVU5TQUZFLCBDcmVhdGVNb2RlLlBFUlNJU1RFTlQpOwoKICAgICAgICBDeWNs\naWNCYXJyaWVyIGJhcnJpZXIgPSBuZXcgQ3ljbGljQmFycmllcihudW1UaHJl\nYWRzKzEpOwogICAgICAgIExpc3Q8Q3JlYXRlTE1UaHJlYWQ+IHRocmVhZHMg\nPSBuZXcgQXJyYXlMaXN0PENyZWF0ZUxNVGhyZWFkPihudW1UaHJlYWRzKTsK\nICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bVRocmVhZHM7IGkrKykg\newogICAgICAgICAgICBDcmVhdGVMTVRocmVhZCB0ID0gbmV3IENyZWF0ZUxN\nVGhyZWFkKHJvb3QwLCBGbGF0TGVkZ2VyTWFuYWdlci5OQU1FLCBiYXJyaWVy\nKTsKICAgICAgICAgICAgdC5zdGFydCgpOwogICAgICAgICAgICB0aHJlYWRz\nLmFkZCh0KTsKICAgICAgICB9CgogICAgICAgIGJhcnJpZXIuYXdhaXQoKTsK\nCiAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0gdHJ1ZTsKICAgICAgICBmb3Ig\nKENyZWF0ZUxNVGhyZWFkIHQgOiB0aHJlYWRzKSB7CiAgICAgICAgICAgIHQu\nam9pbigpOwogICAgICAgICAgICB0LmNsb3NlKCk7CiAgICAgICAgICAgIHN1\nY2Nlc3MgPSB0LmlzU3VjY2Vzc2Z1bCgpICYmIHN1Y2Nlc3M7CiAgICAgICAg\nfQogICAgICAgIGFzc2VydFRydWUoIk5vdCBhbGwgbGVkZ2VyIG1hbmFnZXJz\nIGNyZWF0ZWQiLCBzdWNjZXNzKTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVi\nbGljIHZvaWQgdGVzdENvbmN1cnJlbnQyKCkgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgLy8vIG9kZCBjcmVhdGUgZGlmZmVyZW50CiAgICAgICAgaW50\nIG51bVRocmVhZHNFYWNoID0gMjU7CiAgICAgICAgCiAgICAgICAgLy8gYmFk\nIHZlcnNpb24gaW4gem9va2VlcGVyCiAgICAgICAgU3RyaW5nIHJvb3QwID0g\nIi9sbXJvb3QwIjsKICAgICAgICB6a2MuY3JlYXRlKHJvb3QwLCBuZXcgYnl0\nZVswXSwgCiAgICAgICAgICAgICAgICAgICBJZHMuT1BFTl9BQ0xfVU5TQUZF\nLCBDcmVhdGVNb2RlLlBFUlNJU1RFTlQpOwoKICAgICAgICBDeWNsaWNCYXJy\naWVyIGJhcnJpZXIgPSBuZXcgQ3ljbGljQmFycmllcihudW1UaHJlYWRzRWFj\naCoyKzEpOwogICAgICAgIExpc3Q8Q3JlYXRlTE1UaHJlYWQ+IHRocmVhZHNB\nID0gbmV3IEFycmF5TGlzdDxDcmVhdGVMTVRocmVhZD4obnVtVGhyZWFkc0Vh\nY2gpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbnVtVGhyZWFkc0Vh\nY2g7IGkrKykgewogICAgICAgICAgICBDcmVhdGVMTVRocmVhZCB0ID0gbmV3\nIENyZWF0ZUxNVGhyZWFkKHJvb3QwLCBGbGF0TGVkZ2VyTWFuYWdlci5OQU1F\nLCBiYXJyaWVyKTsKICAgICAgICAgICAgdC5zdGFydCgpOwogICAgICAgICAg\nICB0aHJlYWRzQS5hZGQodCk7CiAgICAgICAgfQogICAgICAgIExpc3Q8Q3Jl\nYXRlTE1UaHJlYWQ+IHRocmVhZHNCID0gbmV3IEFycmF5TGlzdDxDcmVhdGVM\nTVRocmVhZD4obnVtVGhyZWFkc0VhY2gpOwogICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgbnVtVGhyZWFkc0VhY2g7IGkrKykgewogICAgICAgICAgICBD\ncmVhdGVMTVRocmVhZCB0ID0gbmV3IENyZWF0ZUxNVGhyZWFkKHJvb3QwLCAK\nICAgICAgICAgICAgICAgICAgICBIaWVyYXJjaGljYWxMZWRnZXJNYW5hZ2Vy\nLk5BTUUsIGJhcnJpZXIpOwogICAgICAgICAgICB0LnN0YXJ0KCk7CiAgICAg\nICAgICAgIHRocmVhZHNCLmFkZCh0KTsKICAgICAgICB9CgogICAgICAgIGJh\ncnJpZXIuYXdhaXQoKTsKCiAgICAgICAgaW50IG51bVN1Y2Nlc3MgPSAwOwog\nICAgICAgIGludCBudW1GYWlscyA9IDA7CiAgICAgICAgZm9yIChDcmVhdGVM\nTVRocmVhZCB0IDogdGhyZWFkc0EpIHsKICAgICAgICAgICAgdC5qb2luKCk7\nCiAgICAgICAgICAgIHQuY2xvc2UoKTsKICAgICAgICAgICAgaWYgKHQuaXNT\ndWNjZXNzZnVsKCkpIHsKICAgICAgICAgICAgICAgIG51bVN1Y2Nlc3MrKzsK\nICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG51bUZhaWxz\nKys7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAoQ3Jl\nYXRlTE1UaHJlYWQgdCA6IHRocmVhZHNCKSB7CiAgICAgICAgICAgIHQuam9p\nbigpOwogICAgICAgICAgICB0LmNsb3NlKCk7CiAgICAgICAgICAgIGlmICh0\nLmlzU3VjY2Vzc2Z1bCgpKSB7CiAgICAgICAgICAgICAgICBudW1TdWNjZXNz\nKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBudW1G\nYWlscysrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGFzc2Vy\ndEVxdWFscygiSW5jb3JyZWN0IG51bWJlciBvZiBzdWNjZXNzZXMiLCBudW1U\naHJlYWRzRWFjaCwgbnVtU3VjY2Vzcyk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJJbmNvcnJlY3QgbnVtYmVyIG9mIGZhaWx1cmVzIiwgbnVtVGhyZWFkc0Vh\nY2gsIG51bUZhaWxzKTsKICAgIH0KfQo=\n","encoding":"base64"}

