{"sha":"eaea75e2cddd8d7137a9ba1742055eff755c7c81","node_id":"MDQ6QmxvYjE1NzU5NTY6ZWFlYTc1ZTJjZGRkOGQ3MTM3YTliYTE3NDIwNTVlZmY3NTVjN2M4MQ==","size":2832,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/eaea75e2cddd8d7137a9ba1742055eff755c7c81","content":"cGFja2FnZSBvcmcuYXBhY2hlLmJvb2trZWVwZXIudGVzdDsKCi8qCiAqCiAq\nIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAo\nQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNl\nIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1\ndGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9u\nCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBs\naWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUg\nTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3Ug\nbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAq\nIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBz\nb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAq\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQg\nbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqCiAqLwoKaW1w\nb3J0IG9yZy5qdW5pdC4qOwppbXBvcnQgb3JnLmFwYWNoZS5ib29ra2VlcGVy\nLmNsaWVudC5MZWRnZXJIYW5kbGU7CmltcG9ydCBvcmcuYXBhY2hlLmJvb2tr\nZWVwZXIuY2xpZW50LkJvb2tLZWVwZXIuRGlnZXN0VHlwZTsKaW1wb3J0IG9y\nZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9y\neTsKCi8qKgogKiBUaGlzIHVuaXQgdGVzdCB0ZXN0cyBjbG9zaW5nIGxlZGdl\ncnMgc2VxdWVudGlhbGx5LiBJdCBjcmVhdGVzIDQgbGVkZ2VycywgdGhlbgog\nKiB3cml0ZSAxMDAwIGVudHJpZXMgdG8gZWFjaCBsZWRnZXIgYW5kIGNsb3Nl\nIGl0LgogKgogKi8KCnB1YmxpYyBjbGFzcyBDbG9zZVRlc3QgZXh0ZW5kcyBC\nYXNlVGVzdENhc2UgewogICAgc3RhdGljIExvZ2dlciBMT0cgPSBMb2dnZXJG\nYWN0b3J5LmdldExvZ2dlcihDbG9zZVRlc3QuY2xhc3MpOwogICAgRGlnZXN0\nVHlwZSBkaWdlc3RUeXBlOwoKICAgIHB1YmxpYyBDbG9zZVRlc3QoRGlnZXN0\nVHlwZSBkaWdlc3RUeXBlKSB7CiAgICAgICAgc3VwZXIoMyk7CiAgICAgICAg\ndGhpcy5kaWdlc3RUeXBlID0gZGlnZXN0VHlwZTsKICAgIH0KCiAgICBAVGVz\ndAogICAgcHVibGljIHZvaWQgdGVzdENsb3NlKCkgdGhyb3dzIEV4Y2VwdGlv\nbiB7CgogICAgICAgIC8qCiAgICAgICAgICogQ3JlYXRlIDQgbGVkZ2Vycy4K\nICAgICAgICAgKi8KICAgICAgICBpbnQgbnVtTGVkZ2VycyA9IDQ7CiAgICAg\nICAgaW50IG51bU1zZ3MgPSAxMDA7CgogICAgICAgIExlZGdlckhhbmRsZVtd\nIGxoID0gbmV3IExlZGdlckhhbmRsZVtudW1MZWRnZXJzXTsKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IG51bUxlZGdlcnM7IGkrKykgewogICAgICAg\nICAgICBsaFtpXSA9IGJrYy5jcmVhdGVMZWRnZXIoZGlnZXN0VHlwZSwgIiIu\nZ2V0Qnl0ZXMoKSk7CiAgICAgICAgfQoKICAgICAgICBTdHJpbmcgdG1wID0g\nIkJvb2tLZWVwZXIgaXMgY29vbCEiOwoKICAgICAgICAvKgogICAgICAgICAq\nIFdyaXRlIDEwMDAgZW50cmllcyB0byBsaDEuCiAgICAgICAgICovCiAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBudW1Nc2dzOyBpKyspIHsKICAgICAg\nICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBudW1MZWRnZXJzOyBqKyspIHsK\nICAgICAgICAgICAgICAgIGxoW2pdLmFkZEVudHJ5KHRtcC5nZXRCeXRlcygp\nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZm9yIChpbnQg\naSA9IDA7IGkgPCBudW1MZWRnZXJzOyBpKyspIHsKCiAgICAgICAgICAgIGxo\nW2ldLmNsb3NlKCk7CiAgICAgICAgfQogICAgfQoKICAgIEBUZXN0CiAgICBw\ndWJsaWMgdm9pZCB0ZXN0Q2xvc2VCeU90aGVycygpIHRocm93cyBFeGNlcHRp\nb24gewoKICAgICAgICBpbnQgbnVtTGVkZ2VycyA9IDE7CiAgICAgICAgaW50\nIG51bU1zZ3MgPSAxMDsKCiAgICAgICAgTGVkZ2VySGFuZGxlIGxoID0gYmtj\nLmNyZWF0ZUxlZGdlcihkaWdlc3RUeXBlLCAiIi5nZXRCeXRlcygpKTsKCiAg\nICAgICAgU3RyaW5nIHRtcCA9ICJCb29rS2VlcGVyIGlzIGNvb2whIjsKCiAg\nICAgICAgLyoKICAgICAgICAgKiBXcml0ZSAxMCBlbnRyaWVzIHRvIGxoLgog\nICAgICAgICAqLwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbnVtTXNn\nczsgaSsrKSB7CiAgICAgICAgICAgIGxoLmFkZEVudHJ5KHRtcC5nZXRCeXRl\ncygpKTsKICAgICAgICB9CgogICAgICAgIC8vIG90aGVyIG9uZSBjbG9zZSB0\naGUgZW50cmllcwogICAgICAgIExlZGdlckhhbmRsZSBsaDIgPSBia2Mub3Bl\nbkxlZGdlcihsaC5nZXRJZCgpLCBkaWdlc3RUeXBlLCAiIi5nZXRCeXRlcygp\nKTsKCiAgICAgICAgLy8gc28gdGhlIGxlZGdlciB3b3VsZCBiZSBjbG9zZWQs\nIHRoZSBtZXRhZGF0YSBpcyBjaGFuZ2VkCiAgICAgICAgLy8gdGhlIG9yaWdp\nbmFsIGxlZGdlciBoYW5kbGUgc2hvdWxkIGJlIGFibGUgdG8gY2xvc2UgaXQg\nc3VjY2Vzc2Z1bGx5CiAgICAgICAgbGgyLmNsb3NlKCk7CiAgICB9Cn0K\n","encoding":"base64"}

