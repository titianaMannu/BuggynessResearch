{"sha":"6ed28b594bec7cfd0ab3a14d79c1185f0a86e47a","node_id":"MDQ6QmxvYjE1NzU5NTY6NmVkMjhiNTk0YmVjN2NmZDBhYjNhMTRkNzljMTE4NWYwYTg2ZTQ3YQ==","size":2620,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/6ed28b594bec7cfd0ab3a14d79c1185f0a86e47a","content":"LyoqCiAqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRv\nciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAq\nIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRo\nZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5z\nZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21w\nbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh\nIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJl\ncXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0\naW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5z\nZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRI\nT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwg\nZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNz\naW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAq\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUuYm9va2tlZXBlci50ZXN0OwoKaW1w\nb3J0IG9yZy5hcGFjaGUuYm9va2tlZXBlci5jb25mLlNlcnZlckNvbmZpZ3Vy\nYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLmJvb2trZWVwZXIuY29uZi5DbGll\nbnRDb25maWd1cmF0aW9uOwoKaW1wb3J0IGp1bml0LmZyYW1ld29yay5UZXN0\nQ2FzZTsKCmltcG9ydCBvcmcuanVuaXQuVGVzdDsKCnB1YmxpYyBjbGFzcyBD\nb25maWd1cmF0aW9uVGVzdCBleHRlbmRzIFRlc3RDYXNlIHsKICAgIEBUZXN0\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29uZmlndXJhdGlvbk92ZXJ3cml0ZSgp\nIHsKICAgICAgICBTeXN0ZW0uY2xlYXJQcm9wZXJ0eSgiemtTZXJ2ZXJzIik7\nCgogICAgICAgIFNlcnZlckNvbmZpZ3VyYXRpb24gY29uZiA9IG5ldyBTZXJ2\nZXJDb25maWd1cmF0aW9uKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKG51bGws\nIGNvbmYuZ2V0WmtTZXJ2ZXJzKCkpOwoKICAgICAgICAvLyBvdmVycmlkZSBz\nZXR0aW5nIGZyb20gcHJvcGVydHkKICAgICAgICBTeXN0ZW0uc2V0UHJvcGVy\ndHkoInprU2VydmVycyIsICJzZXJ2ZXIxIik7CiAgICAgICAgLy8gaXQgYWZm\nZWN0cyBwcmV2aW91cyBjcmVhdGVkIGNvbmZpZ3VyYXRpb25zLCBpZiB0aGUg\nc2V0dGluZyBpcyBub3Qgb3ZlcndyaXRlCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJzZXJ2ZXIxIiwgY29uZi5nZXRaa1NlcnZlcnMoKSk7CgogICAgICAgIFNl\ncnZlckNvbmZpZ3VyYXRpb24gY29uZjIgPSBuZXcgU2VydmVyQ29uZmlndXJh\ndGlvbigpOwogICAgICAgIGFzc2VydEVxdWFscygic2VydmVyMSIsIGNvbmYy\nLmdldFprU2VydmVycygpKTsKCiAgICAgICAgU3lzdGVtLmNsZWFyUHJvcGVy\ndHkoInprU2VydmVycyIpOwoKICAgICAgICAvLyBsb2FkIG90aGVyIGNvbmZp\nZ3VyYXRpb24KICAgICAgICBTZXJ2ZXJDb25maWd1cmF0aW9uIG5ld0NvbmYg\nPSBuZXcgU2VydmVyQ29uZmlndXJhdGlvbigpOwogICAgICAgIGFzc2VydEVx\ndWFscyhudWxsLCBuZXdDb25mLmdldFprU2VydmVycygpKTsKICAgICAgICBu\nZXdDb25mLnNldFprU2VydmVycygibmV3c2VydmVyIik7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJuZXdzZXJ2ZXIiLCBuZXdDb25mLmdldFprU2VydmVycygp\nKTsKICAgICAgICBjb25mMi5sb2FkQ29uZihuZXdDb25mKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoIm5ld3NlcnZlciIsIGNvbmYyLmdldFprU2VydmVycygp\nKTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEdldFpr\nU2VydmVycygpIHsKICAgICAgICBTeXN0ZW0uc2V0UHJvcGVydHkoInprU2Vy\ndmVycyIsICJzZXJ2ZXIxOnBvcnQxLHNlcnZlcjI6cG9ydDIiKTsKICAgICAg\nICBTZXJ2ZXJDb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgU2VydmVyQ29uZmln\ndXJhdGlvbigpOwogICAgICAgIENsaWVudENvbmZpZ3VyYXRpb24gY2xpZW50\nQ29uZiA9IG5ldyBDbGllbnRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJ6b29rZWVwZXIgY29ubmVjdCBzdHJpbmcgZG9lc24ndCBt\nYXRjaCBpbiBzZXJ2ZXIgY29uZmlndXJhdGlvbiIsCiAgICAgICAgICAgICAg\nICAgICAgICJzZXJ2ZXIxOnBvcnQxLHNlcnZlcjI6cG9ydDIiLCBjb25mLmdl\ndFprU2VydmVycygpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInpvb2tlZXBl\nciBjb25uZWN0IHN0cmluZyBkb2Vzbid0IG1hdGNoIGluIGNsaWVudCBjb25m\naWd1cmF0aW9uIiwKICAgICAgICAgICAgICAgICAgICAgInNlcnZlcjE6cG9y\ndDEsc2VydmVyMjpwb3J0MiIsIGNsaWVudENvbmYuZ2V0WmtTZXJ2ZXJzKCkp\nOwogICAgfQp9Cg==\n","encoding":"base64"}

