{"sha":"4189eb66e11887c207a4b9b1ff30285f8f244ae9","node_id":"MDQ6QmxvYjE1NzU5NTY6NDE4OWViNjZlMTE4ODdjMjA3YTRiOWIxZmYzMDI4NWY4ZjI0NGFlOQ==","size":2871,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/4189eb66e11887c207a4b9b1ff30285f8f244ae9","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuaGFuZGxlcnM7CgppbXBv\ncnQgb3JnLmpib3NzLm5ldHR5LmNoYW5uZWwuQ2hhbm5lbDsKCmltcG9ydCBv\ncmcuYXBhY2hlLmhlZHdpZy5leGNlcHRpb25zLlB1YlN1YkV4Y2VwdGlvbjsK\naW1wb3J0IG9yZy5hcGFjaGUuaGVkd2lnLmV4Y2VwdGlvbnMuUHViU3ViRXhj\nZXB0aW9uLlNlcnZlck5vdFJlc3BvbnNpYmxlRm9yVG9waWNFeGNlcHRpb247\nCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90\nb2NvbC5QdWJTdWJSZXF1ZXN0OwppbXBvcnQgb3JnLmFwYWNoZS5oZWR3aWcu\ncHJvdG9leHRlbnNpb25zLlB1YlN1YlJlc3BvbnNlVXRpbHM7CmltcG9ydCBv\ncmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuY29tbW9uLlNlcnZlckNvbmZpZ3Vy\nYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIubmV0dHku\nU2VydmVyU3RhdHM7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIu\ndG9waWNzLlRvcGljTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUuaGVkd2ln\nLnV0aWwuQ2FsbGJhY2s7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy51dGls\nLkhlZHdpZ1NvY2tldEFkZHJlc3M7CgpwdWJsaWMgYWJzdHJhY3QgY2xhc3Mg\nQmFzZUhhbmRsZXIgaW1wbGVtZW50cyBIYW5kbGVyIHsKCiAgICBwcm90ZWN0\nZWQgVG9waWNNYW5hZ2VyIHRvcGljTWdyOwogICAgcHJvdGVjdGVkIFNlcnZl\nckNvbmZpZ3VyYXRpb24gY2ZnOwoKICAgIHByb3RlY3RlZCBCYXNlSGFuZGxl\ncihUb3BpY01hbmFnZXIgdG0sIFNlcnZlckNvbmZpZ3VyYXRpb24gY2ZnKSB7\nCiAgICAgICAgdGhpcy50b3BpY01nciA9IHRtOwogICAgICAgIHRoaXMuY2Zn\nID0gY2ZnOwogICAgfQoKCiAgICBwdWJsaWMgdm9pZCBoYW5kbGVSZXF1ZXN0\nKGZpbmFsIFB1YlN1YlJlcXVlc3QgcmVxdWVzdCwgZmluYWwgQ2hhbm5lbCBj\naGFubmVsKSB7CiAgICAgICAgdG9waWNNZ3IuZ2V0T3duZXIocmVxdWVzdC5n\nZXRUb3BpYygpLCByZXF1ZXN0LmdldFNob3VsZENsYWltKCksCiAgICAgICAg\nbmV3IENhbGxiYWNrPEhlZHdpZ1NvY2tldEFkZHJlc3M+KCkgewogICAgICAg\nICAgICBAT3ZlcnJpZGUKICAgICAgICAgICAgcHVibGljIHZvaWQgb3BlcmF0\naW9uRmFpbGVkKE9iamVjdCBjdHgsIFB1YlN1YkV4Y2VwdGlvbiBleGNlcHRp\nb24pIHsKICAgICAgICAgICAgICAgIGNoYW5uZWwud3JpdGUoUHViU3ViUmVz\ncG9uc2VVdGlscy5nZXRSZXNwb25zZUZvckV4Y2VwdGlvbihleGNlcHRpb24s\nIHJlcXVlc3QuZ2V0VHhuSWQoKSkpOwogICAgICAgICAgICAgICAgU2VydmVy\nU3RhdHMuZ2V0SW5zdGFuY2UoKS5nZXRPcFN0YXRzKHJlcXVlc3QuZ2V0VHlw\nZSgpKS5pbmNyZW1lbnRGYWlsZWRPcHMoKTsKICAgICAgICAgICAgfQoKICAg\nICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9w\nZXJhdGlvbkZpbmlzaGVkKE9iamVjdCBjdHgsIEhlZHdpZ1NvY2tldEFkZHJl\nc3Mgb3duZXIpIHsKICAgICAgICAgICAgICAgIGlmICghb3duZXIuZXF1YWxz\nKGNmZy5nZXRTZXJ2ZXJBZGRyKCkpKSB7CiAgICAgICAgICAgICAgICAgICAg\nY2hhbm5lbC53cml0ZShQdWJTdWJSZXNwb25zZVV0aWxzLmdldFJlc3BvbnNl\nRm9yRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIG5ldyBTZXJ2ZXJOb3RSZXNwb25zaWJsZUZvclRvcGljRXhjZXB0\naW9uKG93bmVyLnRvU3RyaW5nKCkpLCByZXF1ZXN0LmdldFR4bklkKCkpKTsK\nICAgICAgICAgICAgICAgICAgICBTZXJ2ZXJTdGF0cy5nZXRJbnN0YW5jZSgp\nLmluY3JlbWVudFJlcXVlc3RzUmVkaXJlY3QoKTsKICAgICAgICAgICAgICAg\nICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg\nICBoYW5kbGVSZXF1ZXN0QXRPd25lcihyZXF1ZXN0LCBjaGFubmVsKTsKICAg\nICAgICAgICAgfQogICAgICAgIH0sIG51bGwpOwogICAgfQoKICAgIHB1Ymxp\nYyBhYnN0cmFjdCB2b2lkIGhhbmRsZVJlcXVlc3RBdE93bmVyKFB1YlN1YlJl\ncXVlc3QgcmVxdWVzdCwgQ2hhbm5lbCBjaGFubmVsKTsKCn0K\n","encoding":"base64"}

