{"sha":"b04863de58b7a2f225620fdde68ff2139208eb81","node_id":"MDQ6QmxvYjE1NzU5NTY6YjA0ODYzZGU1OGI3YTJmMjI1NjIwZmRkZTY4ZmYyMTM5MjA4ZWI4MQ==","size":3142,"url":"https://api.github.com/repos/apache/bookkeeper/git/blobs/b04863de58b7a2f225620fdde68ff2139208eb81","content":"LyoqCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9y\nIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLmhlZHdpZy5zZXJ2ZXIuc3Vic2NyaXB0aW9uczsK\nCmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5wcm90b2NvbC5QdWJTdWJQcm90\nb2NvbC5NZXNzYWdlU2VxSWQ7CmltcG9ydCBvcmcuYXBhY2hlLmhlZHdpZy5w\ncm90b2NvbC5QdWJTdWJQcm90b2NvbC5TdWJzY3JpcHRpb25TdGF0ZTsKCnB1\nYmxpYyBjbGFzcyBJbk1lbW9yeVN1YnNjcmlwdGlvblN0YXRlIHsKICAgIFN1\nYnNjcmlwdGlvblN0YXRlIHN1YnNjcmlwdGlvblN0YXRlOwogICAgTWVzc2Fn\nZVNlcUlkIGxhc3RDb25zdW1lU2VxSWQ7CgogICAgcHVibGljIEluTWVtb3J5\nU3Vic2NyaXB0aW9uU3RhdGUoU3Vic2NyaXB0aW9uU3RhdGUgc3Vic2NyaXB0\naW9uU3RhdGUsIE1lc3NhZ2VTZXFJZCBsYXN0Q29uc3VtZVNlcUlkKSB7CiAg\nICAgICAgdGhpcy5zdWJzY3JpcHRpb25TdGF0ZSA9IHN1YnNjcmlwdGlvblN0\nYXRlOwogICAgICAgIHRoaXMubGFzdENvbnN1bWVTZXFJZCA9IGxhc3RDb25z\ndW1lU2VxSWQ7CiAgICB9CgogICAgcHVibGljIEluTWVtb3J5U3Vic2NyaXB0\naW9uU3RhdGUoU3Vic2NyaXB0aW9uU3RhdGUgc3Vic2NyaXB0aW9uU3RhdGUp\nIHsKICAgICAgICB0aGlzKHN1YnNjcmlwdGlvblN0YXRlLCBzdWJzY3JpcHRp\nb25TdGF0ZS5nZXRNc2dJZCgpKTsKICAgIH0KCiAgICBwdWJsaWMgU3Vic2Ny\naXB0aW9uU3RhdGUgZ2V0U3Vic2NyaXB0aW9uU3RhdGUoKSB7CiAgICAgICAg\ncmV0dXJuIHN1YnNjcmlwdGlvblN0YXRlOwogICAgfQoKICAgIHB1YmxpYyBN\nZXNzYWdlU2VxSWQgZ2V0TGFzdENvbnN1bWVTZXFJZCgpIHsKICAgICAgICBy\nZXR1cm4gbGFzdENvbnN1bWVTZXFJZDsKICAgIH0KCiAgICAvKioKICAgICAq\nCiAgICAgKiBAcGFyYW0gbGFzdENvbnN1bWVTZXFJZAogICAgICogQHBhcmFt\nIGNvbnN1bWVJbnRlcnZhbAogICAgICogICAgICAgICAgICBUaGUgYW1vdW50\nIG9mIGxhemluZXNzIHdlIHdhbnQgaW4gcGVyc2lzdGluZyB0aGUgY29uc3Vt\nZQogICAgICogICAgICAgICAgICBwb2ludGVycwogICAgICogQHJldHVybiB0\ncnVlIGlmIHRoZSByZXN1bHRpbmcgc3RydWN0dXJlIG5lZWRzIHRvIGJlIHBl\ncnNpc3RlZCwgZmFsc2UKICAgICAqICAgICAgICAgb3RoZXJ3aXNlCiAgICAg\nKi8KICAgIHB1YmxpYyBib29sZWFuIHNldExhc3RDb25zdW1lU2VxSWQoTWVz\nc2FnZVNlcUlkIGxhc3RDb25zdW1lU2VxSWQsIGludCBjb25zdW1lSW50ZXJ2\nYWwpIHsKICAgICAgICBsb25nIGludGVydmFsID0gbGFzdENvbnN1bWVTZXFJ\nZC5nZXRMb2NhbENvbXBvbmVudCgpIC0gc3Vic2NyaXB0aW9uU3RhdGUuZ2V0\nTXNnSWQoKS5nZXRMb2NhbENvbXBvbmVudCgpOwogICAgICAgIGlmIChpbnRl\ncnZhbCA8PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAg\nICB9CgogICAgICAgIC8vIHNldCBjb25zdW1lIHNlcSBpZCB3aGVuIGl0IGlz\nIGxhcmdlcgogICAgICAgIHRoaXMubGFzdENvbnN1bWVTZXFJZCA9IGxhc3RD\nb25zdW1lU2VxSWQ7CiAgICAgICAgaWYgKGludGVydmFsIDwgY29uc3VtZUlu\ndGVydmFsKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9\nCgogICAgICAgIC8vIHN1YnNjcmlwdGlvbiBzdGF0ZSB3aWxsIGJlIHVwZGF0\nZWQsIG1hcmtlZCBpdCBhcyBjbGVhbgogICAgICAgIHN1YnNjcmlwdGlvblN0\nYXRlID0gU3Vic2NyaXB0aW9uU3RhdGUubmV3QnVpbGRlcihzdWJzY3JpcHRp\nb25TdGF0ZSkuc2V0TXNnSWQobGFzdENvbnN1bWVTZXFJZCkuYnVpbGQoKTsK\nICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ndCBsYXN0Q29uc3VtZVNlcUlkIEltbWVkaWF0ZWx5CiAgICAgKgogICAgICog\nQHJldHVybiB0cnVlIGlmIHRoZSByZXN1bHRpbmcgc3RydWN0dXJlIG5lZWRz\nIHRvIGJlIHBlcnNpc3RlZCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAg\nIHB1YmxpYyBib29sZWFuIHNldExhc3RDb25zdW1lU2VxSWRJbW1lZGlhdGVs\neSgpIHsKICAgICAgICBsb25nIGludGVydmFsID0gbGFzdENvbnN1bWVTZXFJ\nZC5nZXRMb2NhbENvbXBvbmVudCgpIC0gc3Vic2NyaXB0aW9uU3RhdGUuZ2V0\nTXNnSWQoKS5nZXRMb2NhbENvbXBvbmVudCgpOwogICAgICAgIC8vIG5vIG5l\nZWQgdG8gc2V0CiAgICAgICAgaWYgKGludGVydmFsIDw9IDApIHsKICAgICAg\nICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBzdWJzY3Jp\ncHRpb25TdGF0ZSA9IFN1YnNjcmlwdGlvblN0YXRlLm5ld0J1aWxkZXIoc3Vi\nc2NyaXB0aW9uU3RhdGUpLnNldE1zZ0lkKGxhc3RDb25zdW1lU2VxSWQpLmJ1\naWxkKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cgp9Cg==\n","encoding":"base64"}

