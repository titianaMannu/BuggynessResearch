{"sha":"0022b991ab84c0425663eb6475c6c2c75dcae0f2","node_id":"MDY6Q29tbWl0MjA2MzY0OjAwMjJiOTkxYWI4NGMwNDI1NjYzZWI2NDc1YzZjMmM3NWRjYWUwZjI=","commit":{"author":{"name":"Milosz Tylenda","email":"mtylenda@apache.org","date":"2011-03-07T15:30:25Z"},"committer":{"name":"Milosz Tylenda","email":"mtylenda@apache.org","date":"2011-03-07T15:30:25Z"},"message":"OPENJPA-1376: Correctly handle the case when sequence increment is > 1.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@1078811 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e94ee2054fc6c8d81286803f895c3940b35de4f8","url":"https://api.github.com/repos/apache/openjpa/git/trees/e94ee2054fc6c8d81286803f895c3940b35de4f8"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/0022b991ab84c0425663eb6475c6c2c75dcae0f2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/0022b991ab84c0425663eb6475c6c2c75dcae0f2","html_url":"https://github.com/apache/openjpa/commit/0022b991ab84c0425663eb6475c6c2c75dcae0f2","comments_url":"https://api.github.com/repos/apache/openjpa/commits/0022b991ab84c0425663eb6475c6c2c75dcae0f2/comments","author":null,"committer":null,"parents":[{"sha":"1d889e3e506fa3f203a9a8559a018f07e4212ea5","url":"https://api.github.com/repos/apache/openjpa/commits/1d889e3e506fa3f203a9a8559a018f07e4212ea5","html_url":"https://github.com/apache/openjpa/commit/1d889e3e506fa3f203a9a8559a018f07e4212ea5"}],"stats":{"total":8,"additions":6,"deletions":2},"files":[{"sha":"955b7f1e55cbdaf4d5000fcd065603fae907b869","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/NativeJDBCSeq.java","status":"modified","additions":6,"deletions":2,"changes":8,"blob_url":"https://github.com/apache/openjpa/blob/0022b991ab84c0425663eb6475c6c2c75dcae0f2/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/NativeJDBCSeq.java","raw_url":"https://github.com/apache/openjpa/raw/0022b991ab84c0425663eb6475c6c2c75dcae0f2/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/NativeJDBCSeq.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/NativeJDBCSeq.java?ref=0022b991ab84c0425663eb6475c6c2c75dcae0f2","patch":"@@ -192,11 +192,15 @@ public void endConfiguration() {\n     protected synchronized Object nextInternal(JDBCStore store, ClassMapping mapping)\n         throws SQLException {\n         if (_nextValue < _maxValue) {\n-            return _nextValue++;\n+            long result = _nextValue;\n+            _nextValue += _increment;\n+            return result;\n         }\n \n         allocateInternal(0, store, mapping);\n-        return _nextValue++;\n+        long result = _nextValue;\n+        _nextValue += _increment;\n+        return result;\n     }\n \n     /**"}]}

