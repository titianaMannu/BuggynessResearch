{"sha":"00934104b355916d092edb1d8482bf504c0f9ece","node_id":"MDY6Q29tbWl0MjA2MzY0OjAwOTM0MTA0YjM1NTkxNmQwOTJlZGIxZDg0ODJiZjUwNGMwZjllY2U=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-03-23T14:59:56Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-03-23T14:59:56Z"},"message":"fix source jar generation in preparation for a 2.0.0-beta3 release, as we need maven-source-plugin in the default build instead of the release profile. Developers can still turn off source jar generation for local builds by setting -DcreateSource=none and -DcreateSources=false\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@926605 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e20a41f653e41eb1140562f9af690888d2e14afd","url":"https://api.github.com/repos/apache/openjpa/git/trees/e20a41f653e41eb1140562f9af690888d2e14afd"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/00934104b355916d092edb1d8482bf504c0f9ece","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/00934104b355916d092edb1d8482bf504c0f9ece","html_url":"https://github.com/apache/openjpa/commit/00934104b355916d092edb1d8482bf504c0f9ece","comments_url":"https://api.github.com/repos/apache/openjpa/commits/00934104b355916d092edb1d8482bf504c0f9ece/comments","author":null,"committer":null,"parents":[{"sha":"bdfd3867a2783fe67544e218ee21a0db704ceef7","url":"https://api.github.com/repos/apache/openjpa/commits/bdfd3867a2783fe67544e218ee21a0db704ceef7","html_url":"https://github.com/apache/openjpa/commit/bdfd3867a2783fe67544e218ee21a0db704ceef7"}],"stats":{"total":36,"additions":19,"deletions":17},"files":[{"sha":"1efffcb015e8a8752256d20a3677372dc2c8deee","filename":"openjpa-all/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/00934104b355916d092edb1d8482bf504c0f9ece/openjpa-all/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/00934104b355916d092edb1d8482bf504c0f9ece/openjpa-all/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-all/pom.xml?ref=00934104b355916d092edb1d8482bf504c0f9ece","patch":"@@ -60,7 +60,7 @@\n                         </goals>\n                         <configuration>\n                             <createDependencyReducedPom>true</createDependencyReducedPom>\n-                            <createSourcesJar>true</createSourcesJar>\n+                            <createSourcesJar>${createSources}</createSourcesJar>\n                             <keepDependenciesWithProvidedScope>true</keepDependenciesWithProvidedScope>\n                             <promoteTransitiveDependencies>true</promoteTransitiveDependencies>\n                             <!-- "},{"sha":"f09230fb9b096649c223e75ec21af5ea333eaf0c","filename":"openjpa/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/00934104b355916d092edb1d8482bf504c0f9ece/openjpa/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/00934104b355916d092edb1d8482bf504c0f9ece/openjpa/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa/pom.xml?ref=00934104b355916d092edb1d8482bf504c0f9ece","patch":"@@ -60,7 +60,7 @@\n                         </goals>\n                         <configuration>\n                             <createDependencyReducedPom>true</createDependencyReducedPom>\n-                            <createSourcesJar>true</createSourcesJar>\n+                            <createSourcesJar>${createSources}</createSourcesJar>\n                             <keepDependenciesWithProvidedScope>true</keepDependenciesWithProvidedScope>\n                             <promoteTransitiveDependencies>true</promoteTransitiveDependencies>\n                             <!--"},{"sha":"3d9d7bade7afa3ccebfa259937c0aea3595b01d4","filename":"pom.xml","status":"modified","additions":17,"deletions":15,"changes":32,"blob_url":"https://github.com/apache/openjpa/blob/00934104b355916d092edb1d8482bf504c0f9ece/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/00934104b355916d092edb1d8482bf504c0f9ece/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/pom.xml?ref=00934104b355916d092edb1d8482bf504c0f9ece","patch":"@@ -63,6 +63,9 @@\n              anything else allows the test to execute normally\n         -->\n         <tests.openjpa.allowfailure>ignore</tests.openjpa.allowfailure>\n+        <!--turn off sources.jar generation by setting to none and false -->\n+        <createSource>verify</createSource>\n+        <createSources>true</createSources>\n         <!-- common JDBC driver versions -->\n         <derby.version>10.5.3.0_1</derby.version>\n         <hsqldb.version>1.8.0.10</hsqldb.version>\n@@ -154,7 +157,6 @@\n     </modules>\n \n     <profiles>\n-\n         <!-- ================ -->\n         <!--  Build Profiles  -->\n         <!-- ================ -->\n@@ -310,20 +312,6 @@\n                                 </excludes>\n                             </configuration>\n                     </plugin>\n-                    <plugin>\n-                        <groupId>org.apache.maven.plugins</groupId>\n-                        <artifactId>maven-source-plugin</artifactId>\n-                        <executions>\n-                            <execution>\n-                                <id>attach-sources</id>\n-                                <phase>verify</phase>\n-                                <goals>\n-                                    <goal>jar</goal>\n-                                    <goal>test-jar</goal>\n-                                </goals>\n-                            </execution>\n-                        </executions>\n-                    </plugin>\n                 </plugins>\n             </build>\n         </profile>\n@@ -1022,6 +1010,20 @@\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-remote-resources-plugin</artifactId>\n             </plugin>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-source-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>attach-sources</id>\n+                        <phase>${createSource}</phase>\n+                        <goals>\n+                            <goal>jar</goal>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n             <plugin>\n                 <groupId>org.codehaus.mojo</groupId>\n                 <artifactId>ianal-maven-plugin</artifactId>"}]}

