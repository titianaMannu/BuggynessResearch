{"sha":"0395328f851e8b3765e67eacbc169007d98e278d","node_id":"MDY6Q29tbWl0MjA2MzY0OjAzOTUzMjhmODUxZThiMzc2NWU2N2VhY2JjMTY5MDA3ZDk4ZTI3OGQ=","commit":{"author":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2008-12-19T02:17:24Z"},"committer":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2008-12-19T02:17:24Z"},"message":"OPENJPA-835 Loading nested toMany EAGER relation resuled in PersistenceException\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.2.x@727894 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"c2e5b6d700c193f7098fa40f03066abd27b37643","url":"https://api.github.com/repos/apache/openjpa/git/trees/c2e5b6d700c193f7098fa40f03066abd27b37643"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/0395328f851e8b3765e67eacbc169007d98e278d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/0395328f851e8b3765e67eacbc169007d98e278d","html_url":"https://github.com/apache/openjpa/commit/0395328f851e8b3765e67eacbc169007d98e278d","comments_url":"https://api.github.com/repos/apache/openjpa/commits/0395328f851e8b3765e67eacbc169007d98e278d/comments","author":null,"committer":null,"parents":[{"sha":"6187079f0a4865eaf6e76481aa19f98f47a2392a","url":"https://api.github.com/repos/apache/openjpa/commits/6187079f0a4865eaf6e76481aa19f98f47a2392a","html_url":"https://github.com/apache/openjpa/commit/6187079f0a4865eaf6e76481aa19f98f47a2392a"}],"stats":{"total":4,"additions":3,"deletions":1},"files":[{"sha":"e990834aa18e201d83dfe96ea09e9927ee0252df","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/0395328f851e8b3765e67eacbc169007d98e278d/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","raw_url":"https://github.com/apache/openjpa/raw/0395328f851e8b3765e67eacbc169007d98e278d/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java?ref=0395328f851e8b3765e67eacbc169007d98e278d","patch":"@@ -355,7 +355,9 @@ protected boolean initializeState(OpenJPAStateManager sm, PCState state,\n                     getMappedByFieldMapping();\n                 Object mappedByObject = info.result.getMappedByValue();\n                 if (mappedByFieldMapping != null && mappedByObject != null)\n-                    if (mappedByObject instanceof OpenJPAId)\n+                    if (mappedByObject instanceof OpenJPAId &&\n+                        mapping.getExtraFieldDataIndex(mappedByFieldMapping.\n+                        getIndex()) != -1)\n                         // The inverse relation can not be set since\n                         // we are eagerly loading this sm for\n                         // a sm owner that is still in the process of "}]}

