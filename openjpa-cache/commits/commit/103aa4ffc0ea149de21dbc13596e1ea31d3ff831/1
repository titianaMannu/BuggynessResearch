{"sha":"103aa4ffc0ea149de21dbc13596e1ea31d3ff831","node_id":"MDY6Q29tbWl0MjA2MzY0OjEwM2FhNGZmYzBlYTE0OWRlMjFkYmMxMzU5NmUxZWEzMWQzZmY4MzE=","commit":{"author":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2012-02-22T22:46:51Z"},"committer":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2012-02-22T22:46:51Z"},"message":"OPENJPA-2140 Update locking tests to use a unique pu name\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@1292564 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e8cebfbc9c37c9c50e098bb3ca488eb413bc8444","url":"https://api.github.com/repos/apache/openjpa/git/trees/e8cebfbc9c37c9c50e098bb3ca488eb413bc8444"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/103aa4ffc0ea149de21dbc13596e1ea31d3ff831","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/103aa4ffc0ea149de21dbc13596e1ea31d3ff831","html_url":"https://github.com/apache/openjpa/commit/103aa4ffc0ea149de21dbc13596e1ea31d3ff831","comments_url":"https://api.github.com/repos/apache/openjpa/commits/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/comments","author":null,"committer":null,"parents":[{"sha":"1cb2f10f6ebac68a64c8b46ffce5691c33c8462f","url":"https://api.github.com/repos/apache/openjpa/commits/1cb2f10f6ebac68a64c8b46ffce5691c33c8462f","html_url":"https://github.com/apache/openjpa/commit/1cb2f10f6ebac68a64c8b46ffce5691c33c8462f"}],"stats":{"total":49,"additions":48,"deletions":1},"files":[{"sha":"40b01e5303465c18b5d5fae0f4a458eedf1dcfb2","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lock/extended/LockScopeTestCase.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lock/extended/LockScopeTestCase.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lock/extended/LockScopeTestCase.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lock/extended/LockScopeTestCase.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -86,6 +86,11 @@\n     protected Map<String, Object> normalProps;\n     protected Map<String, Object> extendedProps;\n \n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+    \n     protected void commonSetUp(Class<?>... eClasses ) {\n         normalProps = new HashMap<String, Object>();\n         extendedProps = new HashMap<String, Object>();"},{"sha":"227d0565869cee9368d454565ff9866cea4503bf","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/SequencedActionsTest.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/SequencedActionsTest.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/SequencedActionsTest.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/SequencedActionsTest.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -81,6 +81,11 @@\n     private String empTableName;\n     private List<TestThread> threads = null;\n \n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+\n     @SuppressWarnings(\"deprecation\")\n     protected void commonSetUp() {\n         empTableName = getMapping(LockEmployee.class).getTable().getFullName();"},{"sha":"a943613c311ee945a6bb260910f062378bc48361","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestLocking.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestLocking.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestLocking.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestLocking.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -32,6 +32,11 @@\n public class TestLocking extends SQLListenerTestCase {\n     String _phone = \"5075555555\";\n \n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+\n     public void setUp() {\n         super.setUp(CLEAR_TABLES, Person.class, PhoneNumber.class\n         // ,\"openjpa.Log\", \"SQL=trace\""},{"sha":"9e35176d498461078030a73a5b81172c3adb8edc","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerLockBasic.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerLockBasic.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerLockBasic.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerLockBasic.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -24,6 +24,12 @@\n  * Test JPA 2.0 em.lock(LockMode) basic behaviors with \"mixed\" lock manager.\n  */\n public class TestMixedLockManagerLockBasic extends SequencedActionsTest {\n+\n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+\n     public void setUp() {\n         setUp(LockEmployee.class\n             , \"openjpa.LockManager\", \"mixed\""},{"sha":"b16ade868c0f2774fe156a80e0ecf7b4cb394d08","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerLockPermutation.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerLockPermutation.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerLockPermutation.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerLockPermutation.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -26,6 +26,12 @@\n  * Test JPA 2.0 LockMode type permutation behaviors with \"mixed\" lock manager.\n  */\n public class TestMixedLockManagerLockPermutation extends SequencedActionsTest {\n+\n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+\n     public void setUp() {\n         setUp(LockEmployee.class\n             , \"openjpa.LockManager\", \"mixed\""},{"sha":"02b67fcf456c2e2e045ec61a61c8554b74fb0139","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerNonVersion.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerNonVersion.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerNonVersion.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestMixedLockManagerNonVersion.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -34,6 +34,11 @@\n \n     private String empTableName;\n \n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+\n     public void setUp() {\n         setUp(LockEmployeeNonVersion.class\n             , \"openjpa.LockManager\", \"mixed\""},{"sha":"7b7b41d9a7273efd3022bf8caeb2496962bc4c0c","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestNamedQueryLockMode.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestNamedQueryLockMode.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestNamedQueryLockMode.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestNamedQueryLockMode.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -40,6 +40,11 @@\n public class TestNamedQueryLockMode extends SQLListenerTestCase {\n     String lockClause = \"FOR UPDATE\";\n     \n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+\n     public void setUp() {\n         super.setUp(CLEAR_TABLES, LockEmployee.class, \n             \"openjpa.LockManager\", \"pessimistic\", "},{"sha":"185e877553bac855b4fbf9c928308d9178570fc4","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestOptimisticNamedQueryLockMode.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestOptimisticNamedQueryLockMode.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestOptimisticNamedQueryLockMode.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestOptimisticNamedQueryLockMode.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -35,6 +35,11 @@\n public class TestOptimisticNamedQueryLockMode extends SQLListenerTestCase {\n     String lockClause = \"FOR UPDATE\"; \n     \n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+\n     public void setUp() {\n         super.setUp(CLEAR_TABLES, LockEmployee.class, \n             \"openjpa.LockManager\", \"pessimistic\""},{"sha":"e74d213f3c7d49d853ddfec059c937bd10d4ba5b","filename":"openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestPessimisticLocks.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestPessimisticLocks.java","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestPessimisticLocks.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/java/org/apache/openjpa/persistence/lockmgr/TestPessimisticLocks.java?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -56,6 +56,11 @@\n     private DBDictionary dict = null;\n     private int lockWaitTime = 2000;\n \n+    @Override\n+    protected String getPersistenceUnitName() {\n+        return \"locking-test\";\n+    }\n+\n     public void setUp() {\n         // Disable tests for any DB that has supportsQueryTimeout==false, like Postgres\n         OpenJPAEntityManagerFactorySPI tempEMF = emf;"},{"sha":"e054231462749b33b702e3861a745f1c19b19e86","filename":"openjpa-persistence-locking/src/test/resources/META-INF/persistence.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/resources/META-INF/persistence.xml","raw_url":"https://github.com/apache/openjpa/raw/103aa4ffc0ea149de21dbc13596e1ea31d3ff831/openjpa-persistence-locking/src/test/resources/META-INF/persistence.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/src/test/resources/META-INF/persistence.xml?ref=103aa4ffc0ea149de21dbc13596e1ea31d3ff831","patch":"@@ -20,7 +20,7 @@\n <persistence xmlns=\"http://java.sun.com/xml/ns/persistence\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     version=\"1.0\">\n-    <persistence-unit name=\"test\">\n+    <persistence-unit name=\"locking-test\">\n         <properties>\n             <!--\n             These properties are instead passed via System properties"}]}

