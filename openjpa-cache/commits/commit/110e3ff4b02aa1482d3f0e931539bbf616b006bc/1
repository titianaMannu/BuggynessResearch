{"sha":"110e3ff4b02aa1482d3f0e931539bbf616b006bc","node_id":"MDY6Q29tbWl0MjA2MzY0OjExMGUzZmY0YjAyYWExNDgyZDNmMGU5MzE1MzliYmY2MTZiMDA2YmM=","commit":{"author":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2008-06-09T22:02:12Z"},"committer":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2008-06-09T22:02:12Z"},"message":"OPENJPA-630 Enforce no statement batching support if batchlimit set to 1.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@665915 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"b76184daac68f1b6a5fa53c4013ae63301a474f4","url":"https://api.github.com/repos/apache/openjpa/git/trees/b76184daac68f1b6a5fa53c4013ae63301a474f4"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/110e3ff4b02aa1482d3f0e931539bbf616b006bc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/110e3ff4b02aa1482d3f0e931539bbf616b006bc","html_url":"https://github.com/apache/openjpa/commit/110e3ff4b02aa1482d3f0e931539bbf616b006bc","comments_url":"https://api.github.com/repos/apache/openjpa/commits/110e3ff4b02aa1482d3f0e931539bbf616b006bc/comments","author":null,"committer":null,"parents":[{"sha":"a4d905f3455ee6b6f2a594baf1961cc73234fffe","url":"https://api.github.com/repos/apache/openjpa/commits/a4d905f3455ee6b6f2a594baf1961cc73234fffe","html_url":"https://github.com/apache/openjpa/commit/a4d905f3455ee6b6f2a594baf1961cc73234fffe"}],"stats":{"total":3,"additions":2,"deletions":1},"files":[{"sha":"8d520e65da8ed3dc8cc283ac9bfe7f5c73c93187","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/BatchingPreparedStatementManagerImpl.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/110e3ff4b02aa1482d3f0e931539bbf616b006bc/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/BatchingPreparedStatementManagerImpl.java","raw_url":"https://github.com/apache/openjpa/raw/110e3ff4b02aa1482d3f0e931539bbf616b006bc/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/BatchingPreparedStatementManagerImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/BatchingPreparedStatementManagerImpl.java?ref=110e3ff4b02aa1482d3f0e931539bbf616b006bc","patch":"@@ -117,7 +117,8 @@ protected void batchOrExecuteRow(RowImpl row) throws SQLException {\n      */\n     private boolean isBatchDisabled(RowImpl row) {\n         boolean rtnVal = true;\n-        if (getBatchLimit() != 0 && !isBatchDisabled()) {\n+        int limit = getBatchLimit();\n+        if ((limit < 0 || limit > 1) && !isBatchDisabled()) {\n             OpenJPAStateManager sm = row.getPrimaryKey();\n             ClassMapping cmd = null;\n             if (sm != null)"}]}

