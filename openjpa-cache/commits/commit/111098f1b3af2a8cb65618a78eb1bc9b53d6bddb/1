{"sha":"111098f1b3af2a8cb65618a78eb1bc9b53d6bddb","node_id":"MDY6Q29tbWl0MjA2MzY0OjExMTA5OGYxYjNhZjJhOGNiNjU2MThhNzhlYjFiYzliNTNkNmJkZGI=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2007-12-10T20:13:20Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2007-12-10T20:13:20Z"},"message":"Shows the failed SQL Statement when things break rather than internal ExpContext object\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@603031 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"30b33a8c63b3eb7ffa5c72005adee774188695a5","url":"https://api.github.com/repos/apache/openjpa/git/trees/30b33a8c63b3eb7ffa5c72005adee774188695a5"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/111098f1b3af2a8cb65618a78eb1bc9b53d6bddb","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/111098f1b3af2a8cb65618a78eb1bc9b53d6bddb","html_url":"https://github.com/apache/openjpa/commit/111098f1b3af2a8cb65618a78eb1bc9b53d6bddb","comments_url":"https://api.github.com/repos/apache/openjpa/commits/111098f1b3af2a8cb65618a78eb1bc9b53d6bddb/comments","author":null,"committer":null,"parents":[{"sha":"38f41d870ee28de236a4bde5fa5331c04771eebf","url":"https://api.github.com/repos/apache/openjpa/commits/38f41d870ee28de236a4bde5fa5331c04771eebf","html_url":"https://github.com/apache/openjpa/commit/38f41d870ee28de236a4bde5fa5331c04771eebf"}],"stats":{"total":5,"additions":3,"deletions":2},"files":[{"sha":"969549a10bd4292b75a38904811839584adc000c","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreQuery.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/111098f1b3af2a8cb65618a78eb1bc9b53d6bddb/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreQuery.java","raw_url":"https://github.com/apache/openjpa/raw/111098f1b3af2a8cb65618a78eb1bc9b53d6bddb/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreQuery.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreQuery.java?ref=111098f1b3af2a8cb65618a78eb1bc9b53d6bddb","patch":"@@ -501,13 +501,14 @@ private Number executeBulkOperation(ClassMetaData[] metas,\n                 try {\n                     stmnt = sql[i].prepareStatement(conn);\n                     count += stmnt.executeUpdate();\n+                } catch (SQLException se) {\n+                    throw SQLExceptions.getStore(se, sql[i].getSQL(), \n+                    \t\t_store.getDBDictionary());\n                 } finally {\n                     if (stmnt != null)\n                         try { stmnt.close(); } catch (SQLException se) {}\n                 }\n             }\n-        } catch (SQLException se) {\n-            throw SQLExceptions.getStore(se, ctx, _store.getDBDictionary());\n         } finally {\n             try { conn.close(); } catch (SQLException se) {}\n         }"}]}

