{"sha":"116797b77cef213e14a57ca1c49c5a53e6d71f9e","node_id":"MDY6Q29tbWl0MjA2MzY0OjExNjc5N2I3N2NlZjIxM2UxNGE1N2NhMWM0OWM1YTUzZTZkNzFmOWU=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-01-25T20:48:59Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-01-25T20:48:59Z"},"message":"move creation of *-tests.jar to modules that actually have tests, otherwise jars with no test and no legal files will get generated and cause the release process to fail\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.0-beta@902968 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"c45a6c808dcba105e5b804ef534a0416f95dc4d5","url":"https://api.github.com/repos/apache/openjpa/git/trees/c45a6c808dcba105e5b804ef534a0416f95dc4d5"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/116797b77cef213e14a57ca1c49c5a53e6d71f9e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/116797b77cef213e14a57ca1c49c5a53e6d71f9e","html_url":"https://github.com/apache/openjpa/commit/116797b77cef213e14a57ca1c49c5a53e6d71f9e","comments_url":"https://api.github.com/repos/apache/openjpa/commits/116797b77cef213e14a57ca1c49c5a53e6d71f9e/comments","author":null,"committer":null,"parents":[{"sha":"4627f6bd06ddbd85f12411d776c7a35f1b45c055","url":"https://api.github.com/repos/apache/openjpa/commits/4627f6bd06ddbd85f12411d776c7a35f1b45c055","html_url":"https://github.com/apache/openjpa/commit/4627f6bd06ddbd85f12411d776c7a35f1b45c055"}],"stats":{"total":129,"additions":107,"deletions":22},"files":[{"sha":"39a734fff0ca3ad6d22a6039e37938d48635b2cd","filename":"openjpa-integration/tck/pom.xml","status":"modified","additions":1,"deletions":10,"changes":11,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-integration/tck/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-integration/tck/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/tck/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -418,16 +418,7 @@ databaseName=${db.name}\n             </plugin>\n           </plugins>\n         </build>\n-        <!-- only used for old JPA 1.0 RI API, which we don't use anymore\n-        <repositories>\n-          <repository>\n-            <id>java.net</id>\n-            <name>Java.net Maven Repository</name>\n-            <url>https://maven-repository.dev.java.net/nonav/repository</url>\n-            <layout>legacy</layout>\n-          </repository>\n-        </repositories>\n-        -->\n+\n         <dependencies>\n           <dependency>\n             <groupId>org.apache.geronimo.specs</groupId>"},{"sha":"6f6ebe9cd66beec259c50a5c75b59c99d49d25c7","filename":"openjpa-integration/validation/pom.xml","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-integration/validation/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-integration/validation/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/validation/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -230,6 +230,19 @@\n \n     <build>\n         <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-jar-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>attach-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-antrun-plugin</artifactId>"},{"sha":"f08444ecba9d8e0905897c5fdd6d37a67cbda18b","filename":"openjpa-jdbc/pom.xml","status":"modified","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-jdbc/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-jdbc/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -78,4 +78,22 @@\n             <scope>test</scope>\n         </dependency>\n     </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-jar-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>attach-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+        </plugins>\n+    </build>\n </project>"},{"sha":"79c4950055a7da0879fec379741567b72947ee8c","filename":"openjpa-kernel/pom.xml","status":"modified","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-kernel/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-kernel/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -125,6 +125,15 @@\n                         </manifestEntries>\n                     </archive>\n                 </configuration>\n+                <executions>\n+                    <execution>\n+                        <id>attach-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n             </plugin>\n         </plugins>\n     </build>"},{"sha":"7a74c6d12404ce2ee0111e9746354137019a2427","filename":"openjpa-lib/pom.xml","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-lib/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-lib/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -115,6 +115,19 @@ openjpa.version=${project.version}</echo>\n                     </execution>\n                 </executions>\n             </plugin>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-jar-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>attach-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n         </plugins>\n     </build>\n </project>"},{"sha":"477c95d69bdca0584f37c7496c49a0e7ba7e0fc3","filename":"openjpa-persistence-jdbc/pom.xml","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-persistence-jdbc/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-persistence-jdbc/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -777,6 +777,13 @@\n                             </includes>\n                         </configuration>\n                     </execution>\n+                    <execution>\n+                        <id>attach-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n                 </executions>\n             </plugin>\n             <plugin>"},{"sha":"3ae761dc05e618fa237e8950fb5bd836d146ea5c","filename":"openjpa-persistence-locking/pom.xml","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-persistence-locking/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-persistence-locking/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -747,6 +747,19 @@\n                     </execution>\n                 </executions>\n             </plugin>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-jar-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>attach-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-surefire-plugin</artifactId>"},{"sha":"b7be93a7967d2712fafafdef172dcdd2387c3b43","filename":"openjpa-persistence/pom.xml","status":"modified","additions":17,"deletions":11,"changes":28,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-persistence/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-persistence/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -73,6 +73,19 @@\n                             </excludes>\n                         </configuration>\n                     </plugin>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-jar-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>attach-tests</id>\n+                                <phase>verify</phase>\n+                                <goals>\n+                                    <goal>test-jar</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n                 </plugins>\n             </build>\n         </profile>\n@@ -86,28 +99,21 @@\n             </activation>\n             <id>jdk6-compiler</id>\n             <build>\n-                <!--\n                 <plugins>\n                     <plugin>\n                         <groupId>org.apache.maven.plugins</groupId>\n-                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <artifactId>maven-jar-plugin</artifactId>\n                         <executions>\n                             <execution>\n-                                <phase>process-classes</phase>\n-                                <configuration>\n-                                    <tasks>\n-                                        <echo file=\"${basedir}/src/main/resources/META-INF/services/javax.annotation.processing.Processor\"\n-                                        message=\"org.apache.openjpa.persistence.meta.AnnotationProcessor6\"/>\n-                                    </tasks>\n-                                </configuration>\n+                                <id>attach-tests</id>\n+                                <phase>verify</phase>\n                                 <goals>\n-                                    <goal>run</goal>\n+                                    <goal>test-jar</goal>\n                                 </goals>\n                             </execution>\n                         </executions>\n                     </plugin>\n                 </plugins>\n-                -->\n             </build>\n         </profile>\n     </profiles>"},{"sha":"09a56ddb002ee07c43fcfe71d0187f6a22ba875c","filename":"openjpa-slice/pom.xml","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-slice/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/openjpa-slice/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -118,6 +118,19 @@\n                     </execution>\n                 </executions>\n             </plugin>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-jar-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>attach-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-surefire-plugin</artifactId>"},{"sha":"2d3481c8674b0ddd1aedf46f0b3387616d3f4fd8","filename":"pom.xml","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/116797b77cef213e14a57ca1c49c5a53e6d71f9e/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/116797b77cef213e14a57ca1c49c5a53e6d71f9e/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/pom.xml?ref=116797b77cef213e14a57ca1c49c5a53e6d71f9e","patch":"@@ -949,6 +949,7 @@\n                     </execution>\n                 </executions>\n             </plugin>\n+            <!-- moved to modules as this causes release builds to break\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-jar-plugin</artifactId>\n@@ -962,7 +963,8 @@\n                     </execution>\n                 </executions>\n             </plugin>\n-\t    </plugins>\n+            -->\n+        </plugins>\n     </build>\n \n     <reporting>"}]}

