{"sha":"137071d9bfc47db884eefa7a48f7dfe38a9a34f7","node_id":"MDY6Q29tbWl0MjA2MzY0OjEzNzA3MWQ5YmZjNDdkYjg4NGVlZmE3YTQ4ZjdkZmUzOGE5YTM0Zjc=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-03-29T18:10:16Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-03-29T18:10:16Z"},"message":"OPENJPA-1597 Migration doc updates to mention the new Compatibility flag.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@928854 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2a9146f9e6ae42e7b91290fcda20eacbbee8ae2d","url":"https://api.github.com/repos/apache/openjpa/git/trees/2a9146f9e6ae42e7b91290fcda20eacbbee8ae2d"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/137071d9bfc47db884eefa7a48f7dfe38a9a34f7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/137071d9bfc47db884eefa7a48f7dfe38a9a34f7","html_url":"https://github.com/apache/openjpa/commit/137071d9bfc47db884eefa7a48f7dfe38a9a34f7","comments_url":"https://api.github.com/repos/apache/openjpa/commits/137071d9bfc47db884eefa7a48f7dfe38a9a34f7/comments","author":null,"committer":null,"parents":[{"sha":"371a31a41a78267170b4af8958578d291e074d5d","url":"https://api.github.com/repos/apache/openjpa/commits/371a31a41a78267170b4af8958578d291e074d5d","html_url":"https://github.com/apache/openjpa/commit/371a31a41a78267170b4af8958578d291e074d5d"}],"stats":{"total":14,"additions":12,"deletions":2},"files":[{"sha":"2eafdeb83c7f866fa05723ac0e4fce5db31d740e","filename":"openjpa-project/src/doc/manual/migration_considerations.xml","status":"modified","additions":12,"deletions":2,"changes":14,"blob_url":"https://github.com/apache/openjpa/blob/137071d9bfc47db884eefa7a48f7dfe38a9a34f7/openjpa-project/src/doc/manual/migration_considerations.xml","raw_url":"https://github.com/apache/openjpa/raw/137071d9bfc47db884eefa7a48f7dfe38a9a34f7/openjpa-project/src/doc/manual/migration_considerations.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/migration_considerations.xml?ref=137071d9bfc47db884eefa7a48f7dfe38a9a34f7","patch":"@@ -163,7 +163,7 @@\n                 <title>\n                     Serialization of Entities\n                 </title>\n-                <!-- See OPENJPA-1097 for details. -->\n+                <!-- See OPENJPA-1097 and OPENJPA-1597 for details. -->\n                 <para>\n                     In 1.x.x releases of OpenJPA, when an entity was serialized\n                     after calling EntityManager.find(), detach() or detachAll()\n@@ -173,7 +173,7 @@\n                     proxy classes were not removed.\n                 </para>\n                 <para>\n-                    Starting with OpenJPA 1.3 and 2.0, this behavior has been\n+                    Starting with OpenJPA 2.0, this behavior has been\n                     modified, so that by default all proxies will be removed\n                     during serialization.  See \n                     <xref linkend=\"ref_guide_pc_scos_proxy_serial\"/> \n@@ -183,6 +183,16 @@\n                     for more details on how to override the default\n                     <literal>DetachedStateField</literal> setting.\n                 </para>\n+                <para>\n+                    Applications that use a 1.0 persistence.xml will\n+                    automatically maintain the old behavior.  It is\n+                    possible for a version 2.0 application to revert back to\n+                    the prior 1.x.x behavior by setting the following\n+                    openjpa.Compatibility property as follows:\n+                    <simplelist>\n+                        <member>IgnoreDetachedStateFieldForProxySerialization=true</member>\n+                    </simplelist>\n+                </para>\n             </section>\n         </section>\n         <section id=\"Disabling AutoOff Collection Tracking\">"}]}

