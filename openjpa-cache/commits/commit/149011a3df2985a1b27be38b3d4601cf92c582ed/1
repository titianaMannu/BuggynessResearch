{"sha":"149011a3df2985a1b27be38b3d4601cf92c582ed","node_id":"MDY6Q29tbWl0MjA2MzY0OjE0OTAxMWEzZGYyOTg1YTFiMjdiZTM4YjNkNDYwMWNmOTJjNTgyZWQ=","commit":{"author":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2007-04-21T18:19:10Z"},"committer":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2007-04-21T18:19:10Z"},"message":"Fixed directory issues to ensure that this build file can be run from a different directory (such as when running the integration-test).\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@531074 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"0edf4474202989fa4a76ce81a23ebf13131d4289","url":"https://api.github.com/repos/apache/openjpa/git/trees/0edf4474202989fa4a76ce81a23ebf13131d4289"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/149011a3df2985a1b27be38b3d4601cf92c582ed","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/149011a3df2985a1b27be38b3d4601cf92c582ed","html_url":"https://github.com/apache/openjpa/commit/149011a3df2985a1b27be38b3d4601cf92c582ed","comments_url":"https://api.github.com/repos/apache/openjpa/commits/149011a3df2985a1b27be38b3d4601cf92c582ed/comments","author":null,"committer":null,"parents":[{"sha":"42f0d50d02b0699d7dd805a25aa6a99dd625c396","url":"https://api.github.com/repos/apache/openjpa/commits/42f0d50d02b0699d7dd805a25aa6a99dd625c396","html_url":"https://github.com/apache/openjpa/commit/42f0d50d02b0699d7dd805a25aa6a99dd625c396"}],"stats":{"total":12,"additions":10,"deletions":2},"files":[{"sha":"729f1f6f490dace31d2183e8a5be4e099c2f1165","filename":"openjpa-examples/src/main/java/reversemapping/build.xml","status":"modified","additions":10,"deletions":2,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/149011a3df2985a1b27be38b3d4601cf92c582ed/openjpa-examples/src/main/java/reversemapping/build.xml","raw_url":"https://github.com/apache/openjpa/raw/149011a3df2985a1b27be38b3d4601cf92c582ed/openjpa-examples/src/main/java/reversemapping/build.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/reversemapping/build.xml?ref=149011a3df2985a1b27be38b3d4601cf92c582ed","patch":"@@ -72,13 +72,21 @@\n         <!-- now run the tool to generate java files from the db schema -->\n         <taskdef name=\"reversemappingtool\" classpathref=\"classpath\"\n             classname=\"org.apache.openjpa.jdbc.ant.ReverseMappingToolTask\"/>\n-        <reversemappingtool package=\"reversemapping\" directory=\".\"\n+        <reversemappingtool package=\"reversemapping\" directory=\"${basedir}\"\n             innerIdentityClasses=\"true\"\n-            customizerProperties=\"reverse-customizer.properties\">\n+            customizerProperties=\"${basedir}/reverse-customizer.properties\">\n             <config connectiondrivername=\"${dbdriver}\" connectionurl=\"${dburl}\"\n                 connectionusername=\"${dbuser}\" connectionpassword=\"${dbpass}\"/>\n             <codeformat tabSpaces=\"4\" spaceBeforeParen=\"false\"\n                 braceOnSameLine=\"true\"/>\n         </reversemappingtool>\n+\n+        <!--\n+            the reverse mapping tool always outputs the orm.xml file to\n+            the current directory; move it to the base directory in case\n+            we are executing this build file from a different directory.\n+        -->\n+        <move file=\"${user.dir}/orm.xml\"\n+            tofile=\"${basedir}/orm.xml\" failonerror=\"false\"/>\n     </target>\n </project>"}]}

