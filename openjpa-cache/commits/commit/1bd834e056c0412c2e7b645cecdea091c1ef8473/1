{"sha":"1bd834e056c0412c2e7b645cecdea091c1ef8473","node_id":"MDY6Q29tbWl0MjA2MzY0OjFiZDgzNGUwNTZjMDQxMmMyZTdiNjQ1Y2VjZGVhMDkxYzFlZjg0NzM=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-05-13T20:52:52Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-05-13T20:52:52Z"},"message":"OPENJPA-600. Porting to the 1.1.0 release branch.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.1.0@656007 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"4f79edfa14b542ceca78b20bc13e488b32ca48ee","url":"https://api.github.com/repos/apache/openjpa/git/trees/4f79edfa14b542ceca78b20bc13e488b32ca48ee"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/1bd834e056c0412c2e7b645cecdea091c1ef8473","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/1bd834e056c0412c2e7b645cecdea091c1ef8473","html_url":"https://github.com/apache/openjpa/commit/1bd834e056c0412c2e7b645cecdea091c1ef8473","comments_url":"https://api.github.com/repos/apache/openjpa/commits/1bd834e056c0412c2e7b645cecdea091c1ef8473/comments","author":null,"committer":null,"parents":[{"sha":"8467b19863d3d476b9ff3e13ba914eac02bf810a","url":"https://api.github.com/repos/apache/openjpa/commits/8467b19863d3d476b9ff3e13ba914eac02bf810a","html_url":"https://github.com/apache/openjpa/commit/8467b19863d3d476b9ff3e13ba914eac02bf810a"}],"stats":{"total":12,"additions":12,"deletions":0},"files":[{"sha":"b564a06625c319705be539b2b95998f0ae13d4d0","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","status":"modified","additions":12,"deletions":0,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/1bd834e056c0412c2e7b645cecdea091c1ef8473/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","raw_url":"https://github.com/apache/openjpa/raw/1bd834e056c0412c2e7b645cecdea091c1ef8473/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java?ref=1bd834e056c0412c2e7b645cecdea091c1ef8473","patch":"@@ -116,6 +116,18 @@ public PCClassFileTransformer(MetaDataRepository repos,\n             return null;\n \n         _transforming = true;\n+\n+        return transform0(className, redef, bytes);\n+    }\n+\n+    /**\n+     * We have to split the transform method into two methods to avoid\n+     * ClassCircularityError when executing method using pure-JIT JVMs\n+     * such as JRockit.\n+     */\n+    private byte[] transform0(String className, Class redef, byte[] bytes)\n+        throws IllegalClassFormatException {\n+\n         try {\n             Boolean enhance = needsEnhance(className, redef, bytes);\n             if (enhance != null && _log.isTraceEnabled())"}]}

