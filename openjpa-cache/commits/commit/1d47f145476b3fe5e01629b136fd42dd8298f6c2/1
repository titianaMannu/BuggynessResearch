{"sha":"1d47f145476b3fe5e01629b136fd42dd8298f6c2","node_id":"MDY6Q29tbWl0MjA2MzY0OjFkNDdmMTQ1NDc2YjNmZTVlMDE2MjliMTM2ZmQ0MmRkODI5OGY2YzI=","commit":{"author":{"name":"A. Abram White","email":"awhite@apache.org","date":"2009-02-11T20:14:24Z"},"committer":{"name":"A. Abram White","email":"awhite@apache.org","date":"2009-02-11T20:14:24Z"},"message":"OPENJPA-913\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@743477 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"99653525053004e70099633eaeaf91c88057cfda","url":"https://api.github.com/repos/apache/openjpa/git/trees/99653525053004e70099633eaeaf91c88057cfda"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/1d47f145476b3fe5e01629b136fd42dd8298f6c2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/1d47f145476b3fe5e01629b136fd42dd8298f6c2","html_url":"https://github.com/apache/openjpa/commit/1d47f145476b3fe5e01629b136fd42dd8298f6c2","comments_url":"https://api.github.com/repos/apache/openjpa/commits/1d47f145476b3fe5e01629b136fd42dd8298f6c2/comments","author":null,"committer":null,"parents":[{"sha":"a1f6b1550fdc7f59abf9da0c39c0c3cc686024d7","url":"https://api.github.com/repos/apache/openjpa/commits/a1f6b1550fdc7f59abf9da0c39c0c3cc686024d7","html_url":"https://github.com/apache/openjpa/commit/a1f6b1550fdc7f59abf9da0c39c0c3cc686024d7"}],"stats":{"total":11,"additions":9,"deletions":2},"files":[{"sha":"97110e3b8d158dcef5f436b2ea15053e626e1589","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/kernel/BrokerImpl.java","status":"modified","additions":9,"deletions":2,"changes":11,"blob_url":"https://github.com/apache/openjpa/blob/1d47f145476b3fe5e01629b136fd42dd8298f6c2/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/BrokerImpl.java","raw_url":"https://github.com/apache/openjpa/raw/1d47f145476b3fe5e01629b136fd42dd8298f6c2/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/BrokerImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/BrokerImpl.java?ref=1d47f145476b3fe5e01629b136fd42dd8298f6c2","patch":"@@ -778,8 +778,15 @@ boolean fireLifecycleEvent(Object src, Object related, ClassMetaData meta,\n         int eventType) {\r\n         if (_lifeEventManager == null)\r\n             return false;\r\n-        handleCallbackExceptions(_lifeEventManager.fireEvent(src, related, \r\n-            meta, eventType), _lifeCallbackMode);\r\n+\r\n+        lock();\r\n+        Exception[] exs;\r\n+        try {\r\n+            exs = _lifeEventManager.fireEvent(src, related, meta, eventType);\r\n+        } finally {\r\n+            unlock();\r\n+        } \r\n+        handleCallbackExceptions(exs, _lifeCallbackMode);\r\n         return true;\r\n     }\r\n \r"}]}

