{"sha":"1e95ee43a8fb375a4a3050bb157486081e0b6438","node_id":"MDY6Q29tbWl0MjA2MzY0OjFlOTVlZTQzYThmYjM3NWE0YTMwNTBiYjE1NzQ4NjA4MWUwYjY0Mzg=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-01-12T16:26:25Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-01-12T16:26:25Z"},"message":"updates to unzip JPA2 TCK required patches file\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@898405 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"874536412bfdd8c9c97ccf6cdc98211d16739712","url":"https://api.github.com/repos/apache/openjpa/git/trees/874536412bfdd8c9c97ccf6cdc98211d16739712"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/1e95ee43a8fb375a4a3050bb157486081e0b6438","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/1e95ee43a8fb375a4a3050bb157486081e0b6438","html_url":"https://github.com/apache/openjpa/commit/1e95ee43a8fb375a4a3050bb157486081e0b6438","comments_url":"https://api.github.com/repos/apache/openjpa/commits/1e95ee43a8fb375a4a3050bb157486081e0b6438/comments","author":null,"committer":null,"parents":[{"sha":"55bf86a4c8d4e7bef9aa7b611a9130011fa27c34","url":"https://api.github.com/repos/apache/openjpa/commits/55bf86a4c8d4e7bef9aa7b611a9130011fa27c34","html_url":"https://github.com/apache/openjpa/commit/55bf86a4c8d4e7bef9aa7b611a9130011fa27c34"}],"stats":{"total":14,"additions":8,"deletions":6},"files":[{"sha":"ade4f05f6d54f0128217491c92ee602ec6f0056f","filename":"openjpa-integration/tck/pom.xml","status":"modified","additions":8,"deletions":6,"changes":14,"blob_url":"https://github.com/apache/openjpa/blob/1e95ee43a8fb375a4a3050bb157486081e0b6438/openjpa-integration/tck/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/1e95ee43a8fb375a4a3050bb157486081e0b6438/openjpa-integration/tck/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/tck/pom.xml?ref=1e95ee43a8fb375a4a3050bb157486081e0b6438","patch":"@@ -109,19 +109,21 @@\n                     <tasks>\n                         <echo>Running Sun JPA 2.0 TCK</echo>\n \n-                        <property name=\"tck.zip\" value=\"${settings.localRepository}/../privaterepos/jpatck-2.0_09-Dec-2009.zip\" />\n-                         <available property=\"tck.available\" file=\"${tck.zip}\" />\n-                        <fail unless=\"tck.available\">The TCK file ${tck.zip} does not exist. This file must be downloaded separately in order to be able to run the JPA TCK</fail>\n-\n+                        <property name=\"tck.level\" value=\"jpatck-2.0_09-Dec-2009\" />\n+                        <property name=\"tck.zip\" value=\"${settings.localRepository}/../privaterepos/${tck.level}.zip\" />\n                         <available property=\"tck.available\" file=\"${tck.zip}\" />\n-                        <fail unless=\"tck.available\">The TCK file specific in the \"tck.zip\" system property (${tck.zip}) does not exist. This file must be downloaded separately in order to be able to run the JPA TCK</fail>\n+                        <fail unless=\"tck.available\">The TCK file specified in the \"tck.zip\" system property (${tck.zip}) does not exist. This file must be downloaded separately in order to be able to run the JPA 2.0 TCK</fail>\n+\n+                        <property name=\"tck_patches.zip\" value=\"${settings.localRepository}/../privaterepos/${tck.level}_patches.zip\" />\n+                        <available property=\"tck_patches.available\" file=\"${tck_patches.zip}\" />\n+                        <fail unless=\"tck_patches.available\">The TCK patches file specified in the \"tck_patches.zip\" system property (${tck_patches.zip}) does not exist. This file must be downloaded separately in order to be able to run the JPA 2.0 TCK</fail>\n \n                         <property name=\"tck.base\" value=\"${basedir}/target/tck\" />\n                         <property name=\"tck.dir\" value=\"${tck.base}/jpatck\" />\n \n                         <delete dir=\"${tck.dir}\" />\n-\n                         <unzip overwrite=\"false\" src=\"${tck.zip}\" dest=\"${tck.base}\" />\n+                        <unzip overwrite=\"true\" src=\"${tck_patches.zip}\" dest=\"${tck.base}\" />\n \n                         <!-- \n                             Setup jpa.classes to only use the Maven artifacts"}]}

