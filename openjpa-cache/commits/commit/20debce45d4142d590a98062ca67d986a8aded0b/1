{"sha":"20debce45d4142d590a98062ca67d986a8aded0b","node_id":"MDY6Q29tbWl0MjA2MzY0OjIwZGViY2U0NWQ0MTQyZDU5MGE5ODA2MmNhNjdkOTg2YThhZGVkMGI=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-03-29T17:40:41Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-03-29T17:40:41Z"},"message":"OPENJPA-1597 Migration doc updates to mention the new Compatibility flag.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@928845 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"19297d3fbb16c3074f739bafe1ae4bd680d26d52","url":"https://api.github.com/repos/apache/openjpa/git/trees/19297d3fbb16c3074f739bafe1ae4bd680d26d52"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/20debce45d4142d590a98062ca67d986a8aded0b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/20debce45d4142d590a98062ca67d986a8aded0b","html_url":"https://github.com/apache/openjpa/commit/20debce45d4142d590a98062ca67d986a8aded0b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/20debce45d4142d590a98062ca67d986a8aded0b/comments","author":null,"committer":null,"parents":[{"sha":"071e698899dda1d7734af04d35e8b138e529f0e2","url":"https://api.github.com/repos/apache/openjpa/commits/071e698899dda1d7734af04d35e8b138e529f0e2","html_url":"https://github.com/apache/openjpa/commit/071e698899dda1d7734af04d35e8b138e529f0e2"}],"stats":{"total":14,"additions":12,"deletions":2},"files":[{"sha":"2eafdeb83c7f866fa05723ac0e4fce5db31d740e","filename":"openjpa-project/src/doc/manual/migration_considerations.xml","status":"modified","additions":12,"deletions":2,"changes":14,"blob_url":"https://github.com/apache/openjpa/blob/20debce45d4142d590a98062ca67d986a8aded0b/openjpa-project/src/doc/manual/migration_considerations.xml","raw_url":"https://github.com/apache/openjpa/raw/20debce45d4142d590a98062ca67d986a8aded0b/openjpa-project/src/doc/manual/migration_considerations.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/migration_considerations.xml?ref=20debce45d4142d590a98062ca67d986a8aded0b","patch":"@@ -163,7 +163,7 @@\n                 <title>\n                     Serialization of Entities\n                 </title>\n-                <!-- See OPENJPA-1097 for details. -->\n+                <!-- See OPENJPA-1097 and OPENJPA-1597 for details. -->\n                 <para>\n                     In 1.x.x releases of OpenJPA, when an entity was serialized\n                     after calling EntityManager.find(), detach() or detachAll()\n@@ -173,7 +173,7 @@\n                     proxy classes were not removed.\n                 </para>\n                 <para>\n-                    Starting with OpenJPA 1.3 and 2.0, this behavior has been\n+                    Starting with OpenJPA 2.0, this behavior has been\n                     modified, so that by default all proxies will be removed\n                     during serialization.  See \n                     <xref linkend=\"ref_guide_pc_scos_proxy_serial\"/> \n@@ -183,6 +183,16 @@\n                     for more details on how to override the default\n                     <literal>DetachedStateField</literal> setting.\n                 </para>\n+                <para>\n+                    Applications that use a 1.0 persistence.xml will\n+                    automatically maintain the old behavior.  It is\n+                    possible for a version 2.0 application to revert back to\n+                    the prior 1.x.x behavior by setting the following\n+                    openjpa.Compatibility property as follows:\n+                    <simplelist>\n+                        <member>IgnoreDetachedStateFieldForProxySerialization=true</member>\n+                    </simplelist>\n+                </para>\n             </section>\n         </section>\n         <section id=\"Disabling AutoOff Collection Tracking\">"}]}

