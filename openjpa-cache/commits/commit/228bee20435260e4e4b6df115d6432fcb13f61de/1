{"sha":"228bee20435260e4e4b6df115d6432fcb13f61de","node_id":"MDY6Q29tbWl0MjA2MzY0OjIyOGJlZTIwNDM1MjYwZTRlNGI2ZGYxMTVkNjQzMmZjYjEzZjYxZGU=","commit":{"author":{"name":"Kevin W. Sutter","email":"kwsutter@apache.org","date":"2006-10-27T16:06:34Z"},"committer":{"name":"Kevin W. Sutter","email":"kwsutter@apache.org","date":"2006-10-27T16:06:34Z"},"message":"Seems like we have some differences in how Sun and IBM (and maybe other) JDK's process the messages returned in a NoClassDefFoundError exception.  To simplify this testcase and make it pass in any environment, I'm just going to test just for the Interface Name (minus the package).\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@468434 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"54d81fc9bbadb6669a2c3829cfbdcae368707126","url":"https://api.github.com/repos/apache/openjpa/git/trees/54d81fc9bbadb6669a2c3829cfbdcae368707126"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/228bee20435260e4e4b6df115d6432fcb13f61de","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/228bee20435260e4e4b6df115d6432fcb13f61de","html_url":"https://github.com/apache/openjpa/commit/228bee20435260e4e4b6df115d6432fcb13f61de","comments_url":"https://api.github.com/repos/apache/openjpa/commits/228bee20435260e4e4b6df115d6432fcb13f61de/comments","author":null,"committer":null,"parents":[{"sha":"1af459a4966d5f5a2c03fdd00331c2cc6a40c277","url":"https://api.github.com/repos/apache/openjpa/commits/1af459a4966d5f5a2c03fdd00331c2cc6a40c277","html_url":"https://github.com/apache/openjpa/commit/1af459a4966d5f5a2c03fdd00331c2cc6a40c277"}],"stats":{"total":9,"additions":4,"deletions":5},"files":[{"sha":"bd0ac40d634a8498d63c477ccc4b6763bba52d2e","filename":"openjpa-kernel/src/test/java/org/apache/openjpa/util/TestWASTransformer.java","status":"modified","additions":4,"deletions":5,"changes":9,"blob_url":"https://github.com/apache/openjpa/blob/228bee20435260e4e4b6df115d6432fcb13f61de/openjpa-kernel/src/test/java/org/apache/openjpa/util/TestWASTransformer.java","raw_url":"https://github.com/apache/openjpa/raw/228bee20435260e4e4b6df115d6432fcb13f61de/openjpa-kernel/src/test/java/org/apache/openjpa/util/TestWASTransformer.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/test/java/org/apache/openjpa/util/TestWASTransformer.java?ref=228bee20435260e4e4b6df115d6432fcb13f61de","patch":"@@ -46,10 +46,9 @@ public void testInterfaceAdded() throws ClassNotFoundException {\n         } catch (NoClassDefFoundError e) {\r\n             msg = e.getMessage();\r\n         }\r\n-        String translatedInterface = Strings.replace(\r\n-            WASTransformer._interface, \".\", \"/\");\r\n-        assertTrue(\"message should have contained \" \r\n-            + translatedInterface + \", but was '\" + msg + \"'\", \r\n-            msg.contains(translatedInterface));\r\n+        String interfaceName = Strings.getClassName(WASTransformer._interface);\r\n+        assertTrue(\"message should have contained \"\r\n+            + interfaceName + \", but was '\" + msg + \"'\",\r\n+            msg.contains(interfaceName));\r\n     }\r\n }\r"}]}

