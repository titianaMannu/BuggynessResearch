{"sha":"2956c90a84ee947dbb91b3347f1a9e35bf910d95","node_id":"MDY6Q29tbWl0MjA2MzY0OjI5NTZjOTBhODRlZTk0N2RiYjkxYjMzNDdmMWE5ZTM1YmY5MTBkOTU=","commit":{"author":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2007-10-13T15:47:47Z"},"committer":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2007-10-13T15:47:47Z"},"message":"OPENJPA-402 Complete .class file read in ZipFileMetaDataIterator\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.0.x@584415 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"4ecd87e9a1082dc5a9bd2539ac85878b61b0c58f","url":"https://api.github.com/repos/apache/openjpa/git/trees/4ecd87e9a1082dc5a9bd2539ac85878b61b0c58f"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/2956c90a84ee947dbb91b3347f1a9e35bf910d95","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/2956c90a84ee947dbb91b3347f1a9e35bf910d95","html_url":"https://github.com/apache/openjpa/commit/2956c90a84ee947dbb91b3347f1a9e35bf910d95","comments_url":"https://api.github.com/repos/apache/openjpa/commits/2956c90a84ee947dbb91b3347f1a9e35bf910d95/comments","author":null,"committer":null,"parents":[{"sha":"9e807991b062850bbc958913cc09bdae47852698","url":"https://api.github.com/repos/apache/openjpa/commits/9e807991b062850bbc958913cc09bdae47852698","html_url":"https://github.com/apache/openjpa/commit/9e807991b062850bbc958913cc09bdae47852698"}],"stats":{"total":7,"additions":6,"deletions":1},"files":[{"sha":"57ae0cfe58f7fb88458cf1c51331457120487014","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipFileMetaDataIterator.java","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/apache/openjpa/blob/2956c90a84ee947dbb91b3347f1a9e35bf910d95/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipFileMetaDataIterator.java","raw_url":"https://github.com/apache/openjpa/raw/2956c90a84ee947dbb91b3347f1a9e35bf910d95/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipFileMetaDataIterator.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipFileMetaDataIterator.java?ref=2956c90a84ee947dbb91b3347f1a9e35bf910d95","patch":"@@ -142,7 +142,12 @@ public String getName() {\n             content = bout.toByteArray();\n         } else {\n             content = new byte[(int) size];\n-            in.read(content);\n+            int offset = 0;\n+            int read;\n+            while (offset < size &&\n+                (read = in.read(content, offset, (int) size - offset)) != -1) {\n+                offset += read;\n+            }\n         }\n         in.close();\n         return content;"}]}

