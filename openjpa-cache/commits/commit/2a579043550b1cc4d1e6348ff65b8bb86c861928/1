{"sha":"2a579043550b1cc4d1e6348ff65b8bb86c861928","node_id":"MDY6Q29tbWl0MjA2MzY0OjJhNTc5MDQzNTUwYjFjYzRkMWU2MzQ4ZmY2NWI4YmI4NmM4NjE5Mjg=","commit":{"author":{"name":"Maxim Solodovnik","email":"solomax666@gmail.com","date":"2020-04-24T22:32:35Z"},"committer":{"name":"Maxim Solodovnik","email":"solomax666@gmail.com","date":"2020-04-24T22:32:35Z"},"message":"[OPENJPA-2810] try-with-resource to check jira-git integration","tree":{"sha":"ee4f04b58741c58b17d680d355b9c6669c95adb4","url":"https://api.github.com/repos/apache/openjpa/git/trees/ee4f04b58741c58b17d680d355b9c6669c95adb4"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/2a579043550b1cc4d1e6348ff65b8bb86c861928","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/2a579043550b1cc4d1e6348ff65b8bb86c861928","html_url":"https://github.com/apache/openjpa/commit/2a579043550b1cc4d1e6348ff65b8bb86c861928","comments_url":"https://api.github.com/repos/apache/openjpa/commits/2a579043550b1cc4d1e6348ff65b8bb86c861928/comments","author":{"login":"solomax","id":3870591,"node_id":"MDQ6VXNlcjM4NzA1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/3870591?v=4","gravatar_id":"","url":"https://api.github.com/users/solomax","html_url":"https://github.com/solomax","followers_url":"https://api.github.com/users/solomax/followers","following_url":"https://api.github.com/users/solomax/following{/other_user}","gists_url":"https://api.github.com/users/solomax/gists{/gist_id}","starred_url":"https://api.github.com/users/solomax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solomax/subscriptions","organizations_url":"https://api.github.com/users/solomax/orgs","repos_url":"https://api.github.com/users/solomax/repos","events_url":"https://api.github.com/users/solomax/events{/privacy}","received_events_url":"https://api.github.com/users/solomax/received_events","type":"User","site_admin":false},"committer":{"login":"solomax","id":3870591,"node_id":"MDQ6VXNlcjM4NzA1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/3870591?v=4","gravatar_id":"","url":"https://api.github.com/users/solomax","html_url":"https://github.com/solomax","followers_url":"https://api.github.com/users/solomax/followers","following_url":"https://api.github.com/users/solomax/following{/other_user}","gists_url":"https://api.github.com/users/solomax/gists{/gist_id}","starred_url":"https://api.github.com/users/solomax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solomax/subscriptions","organizations_url":"https://api.github.com/users/solomax/orgs","repos_url":"https://api.github.com/users/solomax/repos","events_url":"https://api.github.com/users/solomax/events{/privacy}","received_events_url":"https://api.github.com/users/solomax/received_events","type":"User","site_admin":false},"parents":[{"sha":"26b1f6be289f1eacfb72f2998c360ff6dc692920","url":"https://api.github.com/repos/apache/openjpa/commits/26b1f6be289f1eacfb72f2998c360ff6dc692920","html_url":"https://github.com/apache/openjpa/commit/26b1f6be289f1eacfb72f2998c360ff6dc692920"}],"stats":{"total":13,"additions":2,"deletions":11},"files":[{"sha":"82ee8619bb0bb0c919caf364ee31fe0a7c8e37de","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","status":"modified","additions":2,"deletions":11,"changes":13,"blob_url":"https://github.com/apache/openjpa/blob/2a579043550b1cc4d1e6348ff65b8bb86c861928/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/2a579043550b1cc4d1e6348ff65b8bb86c861928/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java?ref=2a579043550b1cc4d1e6348ff65b8bb86c861928","patch":"@@ -4662,11 +4662,9 @@ protected Index newIndex(ResultSet idxMeta)\n             return null;\n \n         beforeMetadataOperation(conn);\n-        ResultSet keys = null;\n-        try {\n-            keys = meta.getImportedKeys(getCatalogNameForMetadata(catalog),\n+        try (ResultSet keys = meta.getImportedKeys(getCatalogNameForMetadata(catalog),\n                 getSchemaNameForMetadata(schemaName),\n-                getTableNameForMetadata(tableName));\n+                getTableNameForMetadata(tableName))) {\n \n             List<ForeignKey> importedKeyList = new ArrayList<>();\n             Map<FKMapKey, ForeignKey> fkMap = new HashMap<>();\n@@ -4685,13 +4683,6 @@ protected Index newIndex(ResultSet idxMeta)\n             }\n             return (ForeignKey[]) importedKeyList.toArray\n                 (new ForeignKey[importedKeyList.size()]);\n-        } finally {\n-            if (keys != null) {\n-                try {\n-                    keys.close();\n-                } catch (Exception e) {\n-                }\n-            }\n         }\n     }\n "}]}

