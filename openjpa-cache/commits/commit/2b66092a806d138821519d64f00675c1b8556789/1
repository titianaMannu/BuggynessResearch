{"sha":"2b66092a806d138821519d64f00675c1b8556789","node_id":"MDY6Q29tbWl0MjA2MzY0OjJiNjYwOTJhODA2ZDEzODgyMTUxOWQ2NGYwMDY3NWMxYjg1NTY3ODk=","commit":{"author":{"name":"Stephen Kim","email":"skim@apache.org","date":"2006-09-02T07:27:13Z"},"committer":{"name":"Stephen Kim","email":"skim@apache.org","date":"2006-09-02T07:27:13Z"},"message":"fix inheritance issue again with interfaces\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@439554 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"d4381dc68a97ea40f4e5920283c8aa1735e502f4","url":"https://api.github.com/repos/apache/openjpa/git/trees/d4381dc68a97ea40f4e5920283c8aa1735e502f4"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/2b66092a806d138821519d64f00675c1b8556789","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/2b66092a806d138821519d64f00675c1b8556789","html_url":"https://github.com/apache/openjpa/commit/2b66092a806d138821519d64f00675c1b8556789","comments_url":"https://api.github.com/repos/apache/openjpa/commits/2b66092a806d138821519d64f00675c1b8556789/comments","author":null,"committer":null,"parents":[{"sha":"fc9b67f556c66a87c4054a19081b31564d66bb46","url":"https://api.github.com/repos/apache/openjpa/commits/fc9b67f556c66a87c4054a19081b31564d66bb46","html_url":"https://github.com/apache/openjpa/commit/fc9b67f556c66a87c4054a19081b31564d66bb46"}],"stats":{"total":7,"additions":3,"deletions":4},"files":[{"sha":"077b5c86e1a44bc84cafe40af5cc84c74e9b276a","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/meta/InheritanceComparator.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/2b66092a806d138821519d64f00675c1b8556789/openjpa-kernel/src/main/java/org/apache/openjpa/meta/InheritanceComparator.java","raw_url":"https://github.com/apache/openjpa/raw/2b66092a806d138821519d64f00675c1b8556789/openjpa-kernel/src/main/java/org/apache/openjpa/meta/InheritanceComparator.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/meta/InheritanceComparator.java?ref=2b66092a806d138821519d64f00675c1b8556789","patch":"@@ -77,6 +77,8 @@ public int compare(Object o1, Object o2) {\n      * Count the levels of inheritance between this class and our base class.\n      */\n     private int levels(Class to) {\n+        if (to.isInterface())\n+            return to.getInterfaces().length;\n         for (int i = 0; to != null; i++, to = to.getSuperclass())\n             if (to == _base)\n                 return i;"},{"sha":"65d429048e5ebd8fae429dba4c3b2b9c39f697e9","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/meta/MetaDataInheritanceComparator.java","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/2b66092a806d138821519d64f00675c1b8556789/openjpa-kernel/src/main/java/org/apache/openjpa/meta/MetaDataInheritanceComparator.java","raw_url":"https://github.com/apache/openjpa/raw/2b66092a806d138821519d64f00675c1b8556789/openjpa-kernel/src/main/java/org/apache/openjpa/meta/MetaDataInheritanceComparator.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/meta/MetaDataInheritanceComparator.java?ref=2b66092a806d138821519d64f00675c1b8556789","patch":"@@ -27,9 +27,6 @@\n     protected Class toClass(Object elem) {\n         if (elem == null)\n             return null;\n-        ClassMetaData meta = (ClassMetaData) elem;\n-        if (meta.getInterfaceImpl() != null)\n-            return meta.getInterfaceImpl();\n-        return meta.getDescribedType();\n+        return ((ClassMetaData) elem).getDescribedType();\n     }\n }"}]}

