{"sha":"35377aace92dfd5554b0e795e8178f93f1878d3a","node_id":"MDY6Q29tbWl0MjA2MzY0OjM1Mzc3YWFjZTkyZGZkNTU1NGIwZTc5NWU4MTc4ZjkzZjE4NzhkM2E=","commit":{"author":{"name":"Richard G. Curtis","email":"curtisr7@apache.org","date":"2009-12-22T14:27:19Z"},"committer":{"name":"Richard G. Curtis","email":"curtisr7@apache.org","date":"2009-12-22T14:27:19Z"},"message":"OPENJPA-1441: Set pcVersionInit FieldMetaData to transient in PCEnhancer.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@893181 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"253e83c90c484667d042eac450c120bec405c31b","url":"https://api.github.com/repos/apache/openjpa/git/trees/253e83c90c484667d042eac450c120bec405c31b"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/35377aace92dfd5554b0e795e8178f93f1878d3a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/35377aace92dfd5554b0e795e8178f93f1878d3a","html_url":"https://github.com/apache/openjpa/commit/35377aace92dfd5554b0e795e8178f93f1878d3a","comments_url":"https://api.github.com/repos/apache/openjpa/commits/35377aace92dfd5554b0e795e8178f93f1878d3a/comments","author":null,"committer":null,"parents":[{"sha":"ac6dab1d076a47319c82aac23a2ef5413fd1ecbe","url":"https://api.github.com/repos/apache/openjpa/commits/ac6dab1d076a47319c82aac23a2ef5413fd1ecbe","html_url":"https://github.com/apache/openjpa/commit/ac6dab1d076a47319c82aac23a2ef5413fd1ecbe"}],"stats":{"total":12,"additions":12,"deletions":0},"files":[{"sha":"2a30d10ea13626669ea921a86491c2f80ffad1be","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCEnhancer.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/35377aace92dfd5554b0e795e8178f93f1878d3a/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCEnhancer.java","raw_url":"https://github.com/apache/openjpa/raw/35377aace92dfd5554b0e795e8178f93f1878d3a/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCEnhancer.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCEnhancer.java?ref=35377aace92dfd5554b0e795e8178f93f1878d3a","patch":"@@ -3702,6 +3702,7 @@ private void addSetMethod(int index, FieldMetaData fmd)\n         if(fmd.isVersion()==true && _addVersionInitFlag){\n             // if we are setting the version, flip the versionInit flag to true\n             FieldMetaData v = _meta.addDeclaredField(VERSION_INIT_STR, boolean.class);\n+            v.setTransient(true);\n             loadManagedInstance(code, true);\n             code.constant().setValue(1);\n             addSetManagedValueCode(code, v);   "},{"sha":"7865c420999671faf5bdcd01e93a36d1ea3f419b","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/serializable/Person.java","status":"modified","additions":11,"deletions":0,"changes":11,"blob_url":"https://github.com/apache/openjpa/blob/35377aace92dfd5554b0e795e8178f93f1878d3a/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/serializable/Person.java","raw_url":"https://github.com/apache/openjpa/raw/35377aace92dfd5554b0e795e8178f93f1878d3a/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/serializable/Person.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/serializable/Person.java?ref=35377aace92dfd5554b0e795e8178f93f1878d3a","patch":"@@ -24,6 +24,7 @@\n import javax.persistence.GeneratedValue;\n import javax.persistence.Id;\n import javax.persistence.Table;\n+import javax.persistence.Version;\n \n @Entity\n @Table(name=\"PERSON_SERIAL\")\n@@ -37,6 +38,8 @@\n     \n     private String lastName;\n \n+    private int version;\n+    \n     @Id\n     @GeneratedValue\n     public int getId() {\n@@ -62,6 +65,14 @@ public String getLastName() {\n     public void setLastName(String lastName) {\n         this.lastName = lastName;\n     }\n+    \n+    @Version\n+    public int getVersion(){\n+        return version;\n+    }\n+    public void setVersion(int v){\n+        version = v;\n+    }\n \n     @Override\n     public int hashCode() {"}]}

