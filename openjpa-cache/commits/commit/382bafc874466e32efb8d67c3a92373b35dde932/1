{"sha":"382bafc874466e32efb8d67c3a92373b35dde932","node_id":"MDY6Q29tbWl0MjA2MzY0OjM4MmJhZmM4NzQ0NjZlMzJlZmI4ZDY3YzNhOTIzNzNiMzVkZGU5MzI=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2009-08-20T20:02:08Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2009-08-20T20:02:08Z"},"message":"OPENJPA-1252 Same updates to this pom as for o-p-j in r806022\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@806333 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"498d2517ace4966d6870299bf769ebab36a1b967","url":"https://api.github.com/repos/apache/openjpa/git/trees/498d2517ace4966d6870299bf769ebab36a1b967"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/382bafc874466e32efb8d67c3a92373b35dde932","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/382bafc874466e32efb8d67c3a92373b35dde932","html_url":"https://github.com/apache/openjpa/commit/382bafc874466e32efb8d67c3a92373b35dde932","comments_url":"https://api.github.com/repos/apache/openjpa/commits/382bafc874466e32efb8d67c3a92373b35dde932/comments","author":null,"committer":null,"parents":[{"sha":"5b9b5d77255684e2f9771f9e88146d85e9ab913e","url":"https://api.github.com/repos/apache/openjpa/commits/5b9b5d77255684e2f9771f9e88146d85e9ab913e","html_url":"https://github.com/apache/openjpa/commit/5b9b5d77255684e2f9771f9e88146d85e9ab913e"}],"stats":{"total":102,"additions":96,"deletions":6},"files":[{"sha":"d31e5563a8e4b1a65cd1e145da459c24fb301bdf","filename":"openjpa-persistence-locking/pom.xml","status":"modified","additions":96,"deletions":6,"changes":102,"blob_url":"https://github.com/apache/openjpa/blob/382bafc874466e32efb8d67c3a92373b35dde932/openjpa-persistence-locking/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/382bafc874466e32efb8d67c3a92373b35dde932/openjpa-persistence-locking/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/pom.xml?ref=382bafc874466e32efb8d67c3a92373b35dde932","patch":"@@ -142,7 +142,9 @@\n             -->\n             <id>test-derbynet</id>\n             <activation>\n-                <property><name>test-derbynet</name></property>\n+                <property>\n+                    <name>test-derbynet</name>\n+                </property>\n             </activation>\n             <dependencies>\n                 <dependency>\n@@ -270,6 +272,11 @@\n                     -Dmssql.artifactid=sqljdbc4\n             -->\n             <id>test-mssql</id>\n+            <activation>\n+                <property>\n+                    <name>test-mssql</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>${mssql.groupid}</groupId>\n@@ -308,6 +315,11 @@\n         <!-- Profile for testing with SQLServer DB using the jTDS driver -->\n         <profile>\n             <id>test-sqlserver</id>\n+            <activation>\n+                <property>\n+                    <name>test-sqlserver</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>net.sourceforge.jtds</groupId>\n@@ -353,7 +365,11 @@\n         <!-- Profile for testing with Ingres DB -->\n         <profile>\n             <id>test-ingres</id>\n-            <activation><property><name>test-ingres</name></property></activation>\n+            <activation>\n+                <property>\n+                    <name>test-ingres</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>com.ingres.jdbc</groupId>\n@@ -406,10 +422,10 @@\n         </profile>\n \n \n-        <!--\n-            Profile for testing with a custom DB using two system jars. Some databases (DB2) use more than one jar for\n-            their JDBC provider. Functionally this is identical to the previous profile, with a second system dependency\n-            added.\n+        <!-- Profile for testing with a custom DB using two system jars.\n+             Some databases (DB2) use more than one jar for their JDBC provider.\n+             Functionally this is identical to the previous profile, with a\n+             second system dependency added.\n         -->\n         <!--\n             For example, to test with DB2, you might run:\n@@ -491,6 +507,11 @@\n                     -Ddb2.version=9.5\n             -->\n             <id>test-db2-jcc</id>\n+            <activation>\n+                <property>\n+                    <name>test-db2-jcc</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>${db2.groupid}</groupId>\n@@ -533,6 +554,65 @@\n             </repositories>\n         </profile>\n \n+        <!-- Profile for testing Apache Derby with the DB2 JCC driver -->\n+        <profile>\n+            <id>test-derbyjcc</id>\n+            <activation>\n+                <property>\n+                    <name>test-derbyjcc</name>\n+                </property>\n+            </activation>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>${db2.groupid}</groupId>\n+                    <artifactId>${db2.driver.artifactid}</artifactId>\n+                    <version>${db2.version}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+                <dependency>\n+                    <groupId>${db2.groupid}</groupId>\n+                    <artifactId>${db2.license.artifactid}</artifactId>\n+                    <version>${db2.version}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <properties>\n+                <db2.maven.repo>http://not.a.real.repository</db2.maven.repo>\n+                <db2.groupid>com.ibm.db2</db2.groupid>\n+                <db2.driver.artifactid>jcc-driver</db2.driver.artifactid>\n+                <db2.license.artifactid>jcc-license</db2.license.artifactid>\n+                <db2.version>9.5</db2.version>\n+                <!--\n+                    Note: DB must be created before using this profile,\n+                    which can be done by running:\n+                        mvn test -Dtest=<testcase> -Ptest-derbynet\n+                -->\n+                <openjpa.derbyjcc.url>jdbc:db2://localhost:1527/openjpa20</openjpa.derbyjcc.url>\n+                <!-- Note: commons-dbcp requires dummy values for uid/pwd -->\n+                <openjpa.derbyjcc.username>uid</openjpa.derbyjcc.username>\n+                <openjpa.derbyjcc.password>pwd</openjpa.derbyjcc.password>\n+                <connection.driver.name>com.ibm.db2.jcc.DB2Driver</connection.driver.name>\n+                <connection.url>${openjpa.derbyjcc.url}</connection.url>\n+                <connection.username>${openjpa.derbyjcc.username}</connection.username>\n+                <connection.password>${openjpa.derbyjcc.password}</connection.password>\n+            </properties>\n+            <repositories>\n+                <repository>\n+                    <id>db2.repository</id>\n+                    <name>DB2 Repository</name>\n+                    <url>${db2.maven.repo}</url>\n+                    <layout>default</layout>\n+                    <snapshots>\n+                        <enabled>false</enabled>\n+                    </snapshots>\n+                    <releases>\n+                        <enabled>true</enabled>\n+                        <checksumPolicy>ignore</checksumPolicy>\n+                    </releases>\n+                </repository>\n+            </repositories>\n+        </profile>\n+\n         <!-- Profile for testing Informix with the DB2 JCC driver -->\n         <profile>\n             <!--\n@@ -559,6 +639,11 @@\n                     -Dids.version=9.5\n             -->\n             <id>test-ids-jcc</id>\n+            <activation>\n+                <property>\n+                    <name>test-ids-jcc</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>${ids.groupid}</groupId>\n@@ -627,6 +712,11 @@\n                     -Doracle.version=10g\n             -->\n             <id>test-oracle</id>\n+            <activation>\n+                <property>\n+                    <name>test-oracle</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>${oracle.groupid}</groupId>"}]}

