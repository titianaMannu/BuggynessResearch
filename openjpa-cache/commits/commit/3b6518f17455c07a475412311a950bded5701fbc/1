{"sha":"3b6518f17455c07a475412311a950bded5701fbc","node_id":"MDY6Q29tbWl0MjA2MzY0OjNiNjUxOGYxNzQ1NWMwN2E0NzU0MTIzMTFhOTUwYmRlZDU3MDFmYmM=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2006-07-28T23:19:43Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2006-07-28T23:19:43Z"},"message":"FetchState is traversed for eagerToMany load/select\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@426702 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"c4ea16c52a144f134bae52748faaecc81be1d4d3","url":"https://api.github.com/repos/apache/openjpa/git/trees/c4ea16c52a144f134bae52748faaecc81be1d4d3"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/3b6518f17455c07a475412311a950bded5701fbc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/3b6518f17455c07a475412311a950bded5701fbc","html_url":"https://github.com/apache/openjpa/commit/3b6518f17455c07a475412311a950bded5701fbc","comments_url":"https://api.github.com/repos/apache/openjpa/commits/3b6518f17455c07a475412311a950bded5701fbc/comments","author":null,"committer":null,"parents":[{"sha":"5698420f656b38a55691742e6b33971fbe068abc","url":"https://api.github.com/repos/apache/openjpa/commits/5698420f656b38a55691742e6b33971fbe068abc","html_url":"https://github.com/apache/openjpa/commit/5698420f656b38a55691742e6b33971fbe068abc"}],"stats":{"total":6,"additions":4,"deletions":2},"files":[{"sha":"963737095d7dc503b69404ea70042e24e3b2be0f","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","status":"modified","additions":4,"deletions":2,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/3b6518f17455c07a475412311a950bded5701fbc/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","raw_url":"https://github.com/apache/openjpa/raw/3b6518f17455c07a475412311a950bded5701fbc/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java?ref=3b6518f17455c07a475412311a950bded5701fbc","patch":"@@ -798,7 +798,8 @@ private void load(ClassMapping mapping, OpenJPAStateManager sm,\n         JDBCFetchState fetchState, Result res) throws SQLException {\n         FieldMapping eagerToMany = load(mapping, sm, fetchState, res, null);\n         if (eagerToMany != null)\n-            eagerToMany.loadEagerJoin(sm, this, fetchState, res);\n+            eagerToMany.loadEagerJoin(sm, this, \n+            \t(JDBCFetchState)fetchState.traverse(eagerToMany), res);\n         if (_active && _lm != null && res.isLocking())\n             _lm.loadedForUpdate(sm);\n     }\n@@ -901,7 +902,8 @@ public boolean select(Select sel, ClassMapping mapping, int subs,\n         // advance the result set and could exhaust it, so no other mappings\n         // can load afterwords\n         if (eagerToMany != null)\n-            eagerToMany.selectEagerJoin(sel, sm, this, fetchState, eager);\n+            eagerToMany.selectEagerJoin(sel, sm, this, \n+            \t\t(JDBCFetchState)fetchState.traverse(eagerToMany), eager);\n \n         // optionally select subclass mappings\n         if (subs == sel.SUBS_JOINABLE || subs == sel.SUBS_ANY_JOINABLE)"}]}

