{"sha":"3c17af735143df69f6bfbc49c028f5b152405c31","node_id":"MDY6Q29tbWl0MjA2MzY0OjNjMTdhZjczNTE0M2RmNjlmNmJmYmM0OWMwMjhmNWIxNTI0MDVjMzE=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2007-08-03T21:17:24Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2007-08-03T21:17:24Z"},"message":"Fatal Bootstarp exception raised by any ProductDerivation will abandon bootstrapping process\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@562584 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"34eebed879921bee38b2c769a60a147a48ec967a","url":"https://api.github.com/repos/apache/openjpa/git/trees/34eebed879921bee38b2c769a60a147a48ec967a"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/3c17af735143df69f6bfbc49c028f5b152405c31","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/3c17af735143df69f6bfbc49c028f5b152405c31","html_url":"https://github.com/apache/openjpa/commit/3c17af735143df69f6bfbc49c028f5b152405c31","comments_url":"https://api.github.com/repos/apache/openjpa/commits/3c17af735143df69f6bfbc49c028f5b152405c31/comments","author":null,"committer":null,"parents":[{"sha":"4150e7f566680cf07ab70a58faa6b12f26b6574a","url":"https://api.github.com/repos/apache/openjpa/commits/4150e7f566680cf07ab70a58faa6b12f26b6574a","html_url":"https://github.com/apache/openjpa/commit/4150e7f566680cf07ab70a58faa6b12f26b6574a"}],"stats":{"total":12,"additions":9,"deletions":3},"files":[{"sha":"13869b506a338e4e809276a4cd73b6fa1e42294f","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ProductDerivations.java","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/3c17af735143df69f6bfbc49c028f5b152405c31/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ProductDerivations.java","raw_url":"https://github.com/apache/openjpa/raw/3c17af735143df69f6bfbc49c028f5b152405c31/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ProductDerivations.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ProductDerivations.java?ref=3c17af735143df69f6bfbc49c028f5b152405c31","patch":"@@ -164,7 +164,8 @@ public static String getConfigurationKey(String partialKey, Map map) {\n \n     /**\n      * Apply {@link ProductDerivation#beforeConfigurationConstruct} callbacks\n-     * to the the given instance. Exceptions are swallowed.\n+     * to the the given instance. Exceptions other than fatal\n+     * {@link BootstrapException} are swallowed.\n      */\n     public static void beforeConfigurationConstruct(ConfigurationProvider cp) {\n         for (int i = 0; i < _derivations.length; i++) {\n@@ -182,7 +183,8 @@ public static void beforeConfigurationConstruct(ConfigurationProvider cp) {\n \n     /**\n      * Apply {@link ProductDerivation#beforeConfigurationLoad} callbacks\n-     * to the the given instance. Exceptions are swallowed.\n+     * to the the given instance. Exceptions other than fatal\n+     * {@link BootstrapException} are swallowed.\n      */\n     public static void beforeConfigurationLoad(Configuration conf) {\n         for (int i = 0; i < _derivations.length; i++) {\n@@ -200,12 +202,16 @@ public static void beforeConfigurationLoad(Configuration conf) {\n \n     /**\n      * Apply {@link ProductDerivation#afterSpecificationSet} callbacks\n-     * to the the given instance. Exceptions are swallowed.\n+     * to the the given instance. Exceptions other than fatal\n+     * {@link BootstrapException} are swallowed.\n      */\n     public static void afterSpecificationSet(Configuration conf) {\n         for (int i = 0; i < _derivations.length; i++) {\n             try {\n                 _derivations[i].afterSpecificationSet(conf);\n+            } catch (BootstrapException be) {\n+            \tif (be.isFatal())\n+            \t\tthrow be;\n             } catch (Exception e) {\n                 // logging not configured yet\n                 e.printStackTrace();"}]}

