{"sha":"4068d5ccb29f65d9a09daebcd232b7c8c1a2ed5a","node_id":"MDY6Q29tbWl0MjA2MzY0OjQwNjhkNWNjYjI5ZjY1ZDlhMDlkYWViY2QyMzJiN2M4YzFhMmVkNWE=","commit":{"author":{"name":"Mark Struberg","email":"struberg@apache.org","date":"2016-11-05T11:50:59Z"},"committer":{"name":"Mark Struberg","email":"struberg@apache.org","date":"2016-11-05T11:50:59Z"},"message":"OPENJPA-2674 properly closing JarFile\n\ntxs to Kaloyan Spiridonov for the catch!\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@1768201 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"ecf047319303e7f03fef0c19b86bf92cfccc6509","url":"https://api.github.com/repos/apache/openjpa/git/trees/ecf047319303e7f03fef0c19b86bf92cfccc6509"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/4068d5ccb29f65d9a09daebcd232b7c8c1a2ed5a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/4068d5ccb29f65d9a09daebcd232b7c8c1a2ed5a","html_url":"https://github.com/apache/openjpa/commit/4068d5ccb29f65d9a09daebcd232b7c8c1a2ed5a","comments_url":"https://api.github.com/repos/apache/openjpa/commits/4068d5ccb29f65d9a09daebcd232b7c8c1a2ed5a/comments","author":{"login":"struberg","id":79310,"node_id":"MDQ6VXNlcjc5MzEw","avatar_url":"https://avatars.githubusercontent.com/u/79310?v=4","gravatar_id":"","url":"https://api.github.com/users/struberg","html_url":"https://github.com/struberg","followers_url":"https://api.github.com/users/struberg/followers","following_url":"https://api.github.com/users/struberg/following{/other_user}","gists_url":"https://api.github.com/users/struberg/gists{/gist_id}","starred_url":"https://api.github.com/users/struberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/struberg/subscriptions","organizations_url":"https://api.github.com/users/struberg/orgs","repos_url":"https://api.github.com/users/struberg/repos","events_url":"https://api.github.com/users/struberg/events{/privacy}","received_events_url":"https://api.github.com/users/struberg/received_events","type":"User","site_admin":false},"committer":{"login":"struberg","id":79310,"node_id":"MDQ6VXNlcjc5MzEw","avatar_url":"https://avatars.githubusercontent.com/u/79310?v=4","gravatar_id":"","url":"https://api.github.com/users/struberg","html_url":"https://github.com/struberg","followers_url":"https://api.github.com/users/struberg/followers","following_url":"https://api.github.com/users/struberg/following{/other_user}","gists_url":"https://api.github.com/users/struberg/gists{/gist_id}","starred_url":"https://api.github.com/users/struberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/struberg/subscriptions","organizations_url":"https://api.github.com/users/struberg/orgs","repos_url":"https://api.github.com/users/struberg/repos","events_url":"https://api.github.com/users/struberg/events{/privacy}","received_events_url":"https://api.github.com/users/struberg/received_events","type":"User","site_admin":false},"parents":[{"sha":"701a4e7d2715b844f3b522400eee2024b1aac049","url":"https://api.github.com/repos/apache/openjpa/commits/701a4e7d2715b844f3b522400eee2024b1aac049","html_url":"https://github.com/apache/openjpa/commit/701a4e7d2715b844f3b522400eee2024b1aac049"}],"stats":{"total":6,"additions":2,"deletions":4},"files":[{"sha":"abd875ea24e2215475aa6f94b67c87170223034e","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/enhance/InstrumentationFactory.java","status":"modified","additions":2,"deletions":4,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/4068d5ccb29f65d9a09daebcd232b7c8c1a2ed5a/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/InstrumentationFactory.java","raw_url":"https://github.com/apache/openjpa/raw/4068d5ccb29f65d9a09daebcd232b7c8c1a2ed5a/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/InstrumentationFactory.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/InstrumentationFactory.java?ref=4068d5ccb29f65d9a09daebcd232b7c8c1a2ed5a","patch":"@@ -369,10 +369,8 @@ private static void loadAgent(Log log, String agentJar, Class<?> vmClass) {\n      * @return True if the provided agentClassName is defined as the Agent-Class\n      *         in the manifest from the provided agentJarFile. False otherwise.\n      */\n-    private static boolean validateAgentJarManifest(File agentJarFile, Log log,\n-        String agentClassName) {\n-        try {\n-            JarFile jar = new JarFile(agentJarFile);\n+    private static boolean validateAgentJarManifest(File agentJarFile, Log log, String agentClassName) {\n+        try (JarFile jar = new JarFile(agentJarFile)) {\n             Manifest manifest = jar.getManifest();\n             if (manifest == null) {\n                 return false;"}]}

