{"sha":"42b0b38815b90afde293c230854b2887d6bd79c8","node_id":"MDY6Q29tbWl0MjA2MzY0OjQyYjBiMzg4MTViOTBhZmRlMjkzYzIzMDg1NGIyODg3ZDZiZDc5Yzg=","commit":{"author":{"name":"Fay Wang","email":"faywang@apache.org","date":"2010-07-20T17:49:25Z"},"committer":{"name":"Fay Wang","email":"faywang@apache.org","date":"2010-07-20T17:49:25Z"},"message":"OPENJPA-1726: fix intermittent failure in TestTimestampVersion. The next bulkUpdate timestamp version should be consistently generated as nextVersion method.  \n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@965928 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"41d1d9b52401d46091eda216080c1657c4f1868f","url":"https://api.github.com/repos/apache/openjpa/git/trees/41d1d9b52401d46091eda216080c1657c4f1868f"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/42b0b38815b90afde293c230854b2887d6bd79c8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/42b0b38815b90afde293c230854b2887d6bd79c8","html_url":"https://github.com/apache/openjpa/commit/42b0b38815b90afde293c230854b2887d6bd79c8","comments_url":"https://api.github.com/repos/apache/openjpa/commits/42b0b38815b90afde293c230854b2887d6bd79c8/comments","author":null,"committer":null,"parents":[{"sha":"9166a7753a1a5091654e46d078164dffe21ac685","url":"https://api.github.com/repos/apache/openjpa/commits/9166a7753a1a5091654e46d078164dffe21ac685","html_url":"https://github.com/apache/openjpa/commit/9166a7753a1a5091654e46d078164dffe21ac685"}],"stats":{"total":2,"additions":1,"deletions":1},"files":[{"sha":"1f1ca333984bd1c993bf1407f91746950878c14f","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/meta/strats/TimestampVersionStrategy.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/42b0b38815b90afde293c230854b2887d6bd79c8/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/meta/strats/TimestampVersionStrategy.java","raw_url":"https://github.com/apache/openjpa/raw/42b0b38815b90afde293c230854b2887d6bd79c8/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/meta/strats/TimestampVersionStrategy.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/meta/strats/TimestampVersionStrategy.java?ref=42b0b38815b90afde293c230854b2887d6bd79c8","patch":"@@ -52,7 +52,7 @@ protected Object nextVersion(Object version) {\n     public Map getBulkUpdateValues() {\n         Column[] cols = vers.getColumns();\n         Map map = new HashMap(cols.length);\n-        Date d = new Date();\n+        Object d = nextVersion(null);\n         for (int i = 0; i < cols.length; i++)\n             map.put(cols[i], d);\n         return map;"}]}

