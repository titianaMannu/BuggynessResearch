{"sha":"438b877006e9d71d683d12f95f975e2355878784","node_id":"MDY6Q29tbWl0MjA2MzY0OjQzOGI4NzcwMDZlOWQ3MWQ2ODNkMTJmOTVmOTc1ZTIzNTU4Nzg3ODQ=","commit":{"author":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2008-03-21T21:46:55Z"},"committer":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2008-03-21T21:46:55Z"},"message":"OPENJPA-541 Generate SQL92 JOIN syntax for Oracle 9 or later releases\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@639874 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"cfdf28fd21c91e25b1b5d5cee6f070eac9e86579","url":"https://api.github.com/repos/apache/openjpa/git/trees/cfdf28fd21c91e25b1b5d5cee6f070eac9e86579"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/438b877006e9d71d683d12f95f975e2355878784","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/438b877006e9d71d683d12f95f975e2355878784","html_url":"https://github.com/apache/openjpa/commit/438b877006e9d71d683d12f95f975e2355878784","comments_url":"https://api.github.com/repos/apache/openjpa/commits/438b877006e9d71d683d12f95f975e2355878784/comments","author":null,"committer":null,"parents":[{"sha":"57ca9afbdd20903f4fab7d14f876f34d6f911e85","url":"https://api.github.com/repos/apache/openjpa/commits/57ca9afbdd20903f4fab7d14f876f34d6f911e85","html_url":"https://github.com/apache/openjpa/commit/57ca9afbdd20903f4fab7d14f876f34d6f911e85"}],"stats":{"total":6,"additions":4,"deletions":2},"files":[{"sha":"9eb9c84a50bbfec3316f4d6c5ff62ec36ff994d2","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","status":"modified","additions":4,"deletions":2,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/438b877006e9d71d683d12f95f975e2355878784/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/438b877006e9d71d683d12f95f975e2355878784/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java?ref=438b877006e9d71d683d12f95f975e2355878784","patch":"@@ -198,18 +198,20 @@ public void connectedConfiguration(Connection conn)\n                 int release = Integer.parseInt(productVersion);\n                 \n                 // warn sql92\n-                if (release == 8) {\n+                if (release <= 8) {\n                     if (joinSyntax == SYNTAX_SQL92 && log.isWarnEnabled())\n                         log.warn(_loc.get(\"oracle-syntax\"));\n                     joinSyntax = SYNTAX_DATABASE;\n                     dateTypeName = \"DATE\"; // added oracle 9\n                     timestampTypeName = \"DATE\"; // added oracle 9\n                     supportsXMLColumn = false;\n                 }\n-                else \n+                else {\n                     // select of an xml column requires \".getStringVal()\"\n                     // suffix. eg. t0.xmlcol.getStringVal()\n                     getStringVal = \".getStringVal()\";\n+                    joinSyntax = SYNTAX_SQL92;\n+                }\n             } else if (metadataClassName.startsWith(\"com.ddtek.\")\n                 || url.indexOf(\"jdbc:datadirect:oracle:\") != -1\n                 || \"Oracle\".equals(driverName)) {"}]}

