{"sha":"459dddcd5946f45baf0a74bc1dfafd795a6d1494","node_id":"MDY6Q29tbWl0MjA2MzY0OjQ1OWRkZGNkNTk0NmY0NWJhZjBhNzRiYzFkZmFmZDc5NWE2ZDE0OTQ=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-07-22T17:15:51Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-07-22T17:15:51Z"},"message":"OPENJPA-1743: anchors in mappingtool config invocation.  Patch from Patrick Linskey.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@966759 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"a2f43aef087ffbc8fd489c0d8dbfd6bc4934ff7f","url":"https://api.github.com/repos/apache/openjpa/git/trees/a2f43aef087ffbc8fd489c0d8dbfd6bc4934ff7f"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/459dddcd5946f45baf0a74bc1dfafd795a6d1494","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/459dddcd5946f45baf0a74bc1dfafd795a6d1494","html_url":"https://github.com/apache/openjpa/commit/459dddcd5946f45baf0a74bc1dfafd795a6d1494","comments_url":"https://api.github.com/repos/apache/openjpa/commits/459dddcd5946f45baf0a74bc1dfafd795a6d1494/comments","author":null,"committer":null,"parents":[{"sha":"30ccdd8dab561bb535878f397a8f959a0a46565f","url":"https://api.github.com/repos/apache/openjpa/commits/30ccdd8dab561bb535878f397a8f959a0a46565f","html_url":"https://github.com/apache/openjpa/commit/30ccdd8dab561bb535878f397a8f959a0a46565f"}],"stats":{"total":9,"additions":8,"deletions":1},"files":[{"sha":"9330dfdaf76974f7640ae760429737739b196f83","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java","status":"modified","additions":8,"deletions":1,"changes":9,"blob_url":"https://github.com/apache/openjpa/blob/459dddcd5946f45baf0a74bc1dfafd795a6d1494/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java","raw_url":"https://github.com/apache/openjpa/raw/459dddcd5946f45baf0a74bc1dfafd795a6d1494/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java?ref=459dddcd5946f45baf0a74bc1dfafd795a6d1494","patch":"@@ -841,7 +841,14 @@ protected boolean isInvalidProperty(String propName) {\n      * <code>properties</code> value with the name of a resource.\n      */\n     public void setProperties(String resourceName) throws IOException {\n-        ProductDerivations.load(resourceName, null, \n+        String anchor = null;\n+        if (resourceName.indexOf(\"#\") != -1)\n+        {\n+            anchor = resourceName.substring(resourceName.lastIndexOf(\"#\") + 1);\n+            resourceName = resourceName.substring(0,\n+                resourceName.length() - anchor.length() - 1);\n+        }\n+        ProductDerivations.load(resourceName, anchor,\n             getClass().getClassLoader()).setInto(this);\n         _auto = resourceName;\n     }"}]}

