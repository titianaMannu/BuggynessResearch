{"sha":"46291a1b1e80cc4d144b82fdbd806756aaaa0dd8","node_id":"MDY6Q29tbWl0MjA2MzY0OjQ2MjkxYTFiMWU4MGNjNGQxNDRiODJmZGJkODA2NzU2YWFhYTBkZDg=","commit":{"author":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2006-11-08T21:29:52Z"},"committer":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2006-11-08T21:29:52Z"},"message":"Fixed to build docbook in the \"process-resources\" phase so that it gets built before the packaging is done.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@472651 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"125877dcf531d2169c186a68390edb0559bde494","url":"https://api.github.com/repos/apache/openjpa/git/trees/125877dcf531d2169c186a68390edb0559bde494"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/46291a1b1e80cc4d144b82fdbd806756aaaa0dd8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/46291a1b1e80cc4d144b82fdbd806756aaaa0dd8","html_url":"https://github.com/apache/openjpa/commit/46291a1b1e80cc4d144b82fdbd806756aaaa0dd8","comments_url":"https://api.github.com/repos/apache/openjpa/commits/46291a1b1e80cc4d144b82fdbd806756aaaa0dd8/comments","author":null,"committer":null,"parents":[{"sha":"42e0745224c06689c515c57ceddfd74ea012df16","url":"https://api.github.com/repos/apache/openjpa/commits/42e0745224c06689c515c57ceddfd74ea012df16","html_url":"https://github.com/apache/openjpa/commit/42e0745224c06689c515c57ceddfd74ea012df16"}],"stats":{"total":17,"additions":12,"deletions":5},"files":[{"sha":"7f09d0c3700db1eb07a7de6a110fa68d07c7d6c0","filename":"openjpa-project/pom.xml","status":"modified","additions":12,"deletions":5,"changes":17,"blob_url":"https://github.com/apache/openjpa/blob/46291a1b1e80cc4d144b82fdbd806756aaaa0dd8/openjpa-project/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/46291a1b1e80cc4d144b82fdbd806756aaaa0dd8/openjpa-project/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/pom.xml?ref=46291a1b1e80cc4d144b82fdbd806756aaaa0dd8","patch":"@@ -129,19 +129,26 @@\n                         <artifactId>maven-antrun-plugin</artifactId>\r\n                         <executions>\r\n                             <execution>\r\n-                                <phase>package</phase>\r\n+                                <phase>process-resources</phase>\r\n                                 <configuration>\r\n                                  <!-- destdir=\"${project.build.directory}/site/manual\" -->\r\n                                     <tasks>\r\n                                     <echo>Building docbook manual</echo>\r\n \r\n                                     <!-- download stylesheets -->\r\n                                     <property name=\"stylesheet\" value=\"1.69.1.tar.bz2\"/>\r\n-                                    <property name=\"stylesheet.dir\" value=\"${project.basedir}/target/stylesheets\"/>\r\n+                                    <!--\r\n+                                    For some reason, this variable will not\r\n+                                    currectly evaluated at runtime: it \r\n+                                    creates a directory called\r\n+                                    '${stylesheet-dir}', rather than\r\n+                                    resolving the property\r\n+                                    <property name=\"stylesheet-dir\" value=\"${project.basedir}/target/stylesheets\"/>\r\n+                                    -->\r\n \r\n-                                    <mkdir dir=\"${stylesheet.dir}\"/>\r\n-                                    <get src=\"http://docbook.sourceforge.net/release/xsl/${stylesheet}\" usetimestamp=\"true\" dest=\"${stylesheet.dir}/${stylesheet}\"/>\r\n-                                    <untar src=\"${stylesheet.dir}/${stylesheet}\" dest=\"${stylesheet.dir}/\" compression=\"bzip2\" overwrite=\"false\"/>\r\n+                                    <mkdir dir=\"${project.basedir}/target/stylesheets\"/>\r\n+                                    <get src=\"http://docbook.sourceforge.net/release/xsl/${stylesheet}\" usetimestamp=\"true\" dest=\"${project.basedir}/target/stylesheets/${stylesheet}\"/>\r\n+                                    <untar src=\"${project.basedir}/target/stylesheets/${stylesheet}\" dest=\"${project.basedir}/target/stylesheets/\" compression=\"bzip2\" overwrite=\"false\"/>\r\n \r\n \r\n                                     <style includes=\"**/manual.xml\"\r"}]}

