{"sha":"4b6258915ea68e5fa554b7ae4457eecfd427005b","node_id":"MDY6Q29tbWl0MjA2MzY0OjRiNjI1ODkxNWVhNjhlNWZhNTU0YjdhZTQ0NTdlZWNmZDQyNzAwNWI=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-04-16T13:55:17Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-04-16T13:55:17Z"},"message":"update tck2 script\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@934874 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"541b09d061aa9d16279dabd16eedf4e29c67ad90","url":"https://api.github.com/repos/apache/openjpa/git/trees/541b09d061aa9d16279dabd16eedf4e29c67ad90"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/4b6258915ea68e5fa554b7ae4457eecfd427005b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/4b6258915ea68e5fa554b7ae4457eecfd427005b","html_url":"https://github.com/apache/openjpa/commit/4b6258915ea68e5fa554b7ae4457eecfd427005b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/4b6258915ea68e5fa554b7ae4457eecfd427005b/comments","author":null,"committer":null,"parents":[{"sha":"f35ed19f7f7200b43e45d283bf20c5c5da436928","url":"https://api.github.com/repos/apache/openjpa/commits/f35ed19f7f7200b43e45d283bf20c5c5da436928","html_url":"https://github.com/apache/openjpa/commit/f35ed19f7f7200b43e45d283bf20c5c5da436928"}],"stats":{"total":19,"additions":15,"deletions":4},"files":[{"sha":"3b023b7f6d7ed1a26d870b554de4d8b821204ecc","filename":"openjpa-integration/tck/pom.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/4b6258915ea68e5fa554b7ae4457eecfd427005b/openjpa-integration/tck/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/4b6258915ea68e5fa554b7ae4457eecfd427005b/openjpa-integration/tck/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/tck/pom.xml?ref=4b6258915ea68e5fa554b7ae4457eecfd427005b","patch":"@@ -73,6 +73,10 @@\n         <version>2.0.0-SNAPSHOT</version>\n     </parent>\n \n+    <properties>\n+        <openjpa.Log>DefaultLevel=WARN</openjpa.Log>\n+    </properties>\n+\n     <profiles>\n       <profile>\n         <!-- JPA 2.0 TCK Profile -->"},{"sha":"321fb2ebbed1a92410debc17e9330cf3b15ade43","filename":"openjpa-integration/tck/tck2.xml","status":"modified","additions":11,"deletions":4,"changes":15,"blob_url":"https://github.com/apache/openjpa/blob/4b6258915ea68e5fa554b7ae4457eecfd427005b/openjpa-integration/tck/tck2.xml","raw_url":"https://github.com/apache/openjpa/raw/4b6258915ea68e5fa554b7ae4457eecfd427005b/openjpa-integration/tck/tck2.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/tck/tck2.xml?ref=4b6258915ea68e5fa554b7ae4457eecfd427005b","patch":"@@ -20,10 +20,11 @@\n \n <!--\n     This ANT build file is used to run the JPA 2.0 TCK. It assumes that you have\n-    the TCK and patches zip files located at:\n+    the TCK, config  and patches zip files located at:\n \n         ${user.home}/.m2/privaterepos/jpatck-2.0_09-Dec-2009.zip\n-        ${user.home}/.m2/privaterepos/jpatck-2.0_20100414_patches.zip\n+        ${user.home}/.m2/privaterepos/jpatck-2.0_09-Dec-2009_config.zip\n+        ${user.home}/.m2/privaterepos/jpatck-2.0_09-Dec-2009_patches.zip\n \n     If you have that file in a different location, it can be specified with\n     the \"tck.zip\" and \"tck_patches.zip\" system property.\n@@ -57,20 +58,26 @@\n         <available property=\"tck.available\" file=\"${tck.zip}\" />\n         <fail unless=\"tck.available\">The TCK file specified in the \"tck.zip\" system property (${tck.zip}) does not exist. This file must be downloaded separately in order to be able to run the JPA 2.0 TCK</fail>\n \n-        <property name=\"tck.patch.level\" value=\"20100414\" />\n-        <property name=\"tck_patches.zip\" value=\"${LOCAL_M2_REPO}/../privaterepos/jpatck-2.0_${tck.patch.level}_patches.zip\" />\n+        <property name=\"tck_config.zip\" value=\"${LOCAL_M2_REPO}/../privaterepos/${tck.level}_config.zip\" />\n+        <available property=\"tck_config.available\" file=\"${tck_config.zip}\" />\n+        <fail unless=\"tck_config.available\">The TCK config file specified in the \"tck_config.zip\" system property (${tck_config.zip}) does not exist. This file must be downloaded separately in order to be able to run the JPA 2.0 TCK</fail>\n+\n+        <property name=\"tck_patches.zip\" value=\"${LOCAL_M2_REPO}/../privaterepos/${tck.level}_patches.zip\" />\n         <available property=\"tck_patches.available\" file=\"${tck_patches.zip}\" />\n         <fail unless=\"tck_patches.available\">The TCK patches file specified in the \"tck_patches.zip\" system property (${tck_patches.zip}) does not exist. This file must be downloaded separately in order to be able to run the JPA 2.0 TCK</fail>\n \n         <delete dir=\"${tck.dir}\" />\n         <unzip overwrite=\"false\" src=\"${tck.zip}\" dest=\"${tck.base}\" />\n+        <unzip overwrite=\"true\" src=\"${tck_config.zip}\" dest=\"${tck.base}\" />\n         <unzip overwrite=\"true\" src=\"${tck_patches.zip}\" dest=\"${tck.base}\" />\n         <copy overwrite=\"true\"\n             file=\"${tck.dir}/bin/ts.jte\" tofile=\"${tck.dir}/bin/ts.jte.orig\" />\n         <copy overwrite=\"true\"\n             file=\"${tck.dir}/bin/ts.jtx\" tofile=\"${tck.dir}/bin/ts.jtx.orig\" />\n         <!-- Pluggability tests using Toplink needs this dir created -->\n         <mkdir dir=\"${tck.dir}/domains/domain1/logs\" />\n+        <!-- create other missing directory -->\n+        <mkdir dir=\"${tck.dir}/weblib\" />\n     </target>\n \n "}]}

