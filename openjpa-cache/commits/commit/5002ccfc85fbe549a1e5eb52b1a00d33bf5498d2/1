{"sha":"5002ccfc85fbe549a1e5eb52b1a00d33bf5498d2","node_id":"MDY6Q29tbWl0MjA2MzY0OjUwMDJjY2ZjODVmYmU1NDlhMWU1ZWI1MmIxYTAwZDMzYmY1NDk4ZDI=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-05-13T20:51:25Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-05-13T20:51:25Z"},"message":"OPENJPA-600. Committing on behalf of Jason Zheng.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.1.x@656006 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e039d76ce341c1dce62199df8d2d2cb064b12ca7","url":"https://api.github.com/repos/apache/openjpa/git/trees/e039d76ce341c1dce62199df8d2d2cb064b12ca7"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/5002ccfc85fbe549a1e5eb52b1a00d33bf5498d2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/5002ccfc85fbe549a1e5eb52b1a00d33bf5498d2","html_url":"https://github.com/apache/openjpa/commit/5002ccfc85fbe549a1e5eb52b1a00d33bf5498d2","comments_url":"https://api.github.com/repos/apache/openjpa/commits/5002ccfc85fbe549a1e5eb52b1a00d33bf5498d2/comments","author":null,"committer":null,"parents":[{"sha":"75309a24472ba244d48b6112daffede1b1c93f04","url":"https://api.github.com/repos/apache/openjpa/commits/75309a24472ba244d48b6112daffede1b1c93f04","html_url":"https://github.com/apache/openjpa/commit/75309a24472ba244d48b6112daffede1b1c93f04"}],"stats":{"total":12,"additions":12,"deletions":0},"files":[{"sha":"b564a06625c319705be539b2b95998f0ae13d4d0","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","status":"modified","additions":12,"deletions":0,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/5002ccfc85fbe549a1e5eb52b1a00d33bf5498d2/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","raw_url":"https://github.com/apache/openjpa/raw/5002ccfc85fbe549a1e5eb52b1a00d33bf5498d2/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java?ref=5002ccfc85fbe549a1e5eb52b1a00d33bf5498d2","patch":"@@ -116,6 +116,18 @@ public PCClassFileTransformer(MetaDataRepository repos,\n             return null;\n \n         _transforming = true;\n+\n+        return transform0(className, redef, bytes);\n+    }\n+\n+    /**\n+     * We have to split the transform method into two methods to avoid\n+     * ClassCircularityError when executing method using pure-JIT JVMs\n+     * such as JRockit.\n+     */\n+    private byte[] transform0(String className, Class redef, byte[] bytes)\n+        throws IllegalClassFormatException {\n+\n         try {\n             Boolean enhance = needsEnhance(className, redef, bytes);\n             if (enhance != null && _log.isTraceEnabled())"}]}

