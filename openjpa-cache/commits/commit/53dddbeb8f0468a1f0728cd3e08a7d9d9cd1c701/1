{"sha":"53dddbeb8f0468a1f0728cd3e08a7d9d9cd1c701","node_id":"MDY6Q29tbWl0MjA2MzY0OjUzZGRkYmViOGYwNDY4YTFmMDcyOGNkM2UwOGE3ZDlkOWNkMWM3MDE=","commit":{"author":{"name":"Fay Wang","email":"faywang@apache.org","date":"2010-03-23T19:27:24Z"},"committer":{"name":"Fay Wang","email":"faywang@apache.org","date":"2010-03-23T19:27:24Z"},"message":"OPENJPA-1596: make valid index name for DB2 zOS\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@926741 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"b9d73bf195c89beddc6d4c191c92be510e80976a","url":"https://api.github.com/repos/apache/openjpa/git/trees/b9d73bf195c89beddc6d4c191c92be510e80976a"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/53dddbeb8f0468a1f0728cd3e08a7d9d9cd1c701","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/53dddbeb8f0468a1f0728cd3e08a7d9d9cd1c701","html_url":"https://github.com/apache/openjpa/commit/53dddbeb8f0468a1f0728cd3e08a7d9d9cd1c701","comments_url":"https://api.github.com/repos/apache/openjpa/commits/53dddbeb8f0468a1f0728cd3e08a7d9d9cd1c701/comments","author":null,"committer":null,"parents":[{"sha":"c4e1b1b339ce41b8b40687efe9e36cc0156c60bd","url":"https://api.github.com/repos/apache/openjpa/commits/c4e1b1b339ce41b8b40687efe9e36cc0156c60bd","html_url":"https://github.com/apache/openjpa/commit/c4e1b1b339ce41b8b40687efe9e36cc0156c60bd"}],"stats":{"total":3,"additions":2,"deletions":1},"files":[{"sha":"41c28ad84889004c9fd754546b15a1d21fc6d4d9","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/53dddbeb8f0468a1f0728cd3e08a7d9d9cd1c701/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","raw_url":"https://github.com/apache/openjpa/raw/53dddbeb8f0468a1f0728cd3e08a7d9d9cd1c701/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java?ref=53dddbeb8f0468a1f0728cd3e08a7d9d9cd1c701","patch":"@@ -912,7 +912,8 @@ public void createIndexIfNecessary(Schema schema, DBIdentifier table,\n             // build the index for the sequence tables\n             // the index name will be the fully qualified table name + _IDX\n             Table tab = schema.getTable(table);\n-            Index idx = tab.addIndex(DBIdentifier.append(tab.getFullIdentifier(), \"IDX\"));\n+            DBIdentifier idxName = DBIdentifier.append(tab.getFullIdentifier(), \"IDX\");\n+            Index idx = tab.addIndex(getValidIndexName(idxName, tab));\n             idx.setUnique(true);\n             idx.addColumn(pkColumn);\n         }"}]}

