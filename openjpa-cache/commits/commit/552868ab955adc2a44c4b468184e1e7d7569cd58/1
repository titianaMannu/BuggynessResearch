{"sha":"552868ab955adc2a44c4b468184e1e7d7569cd58","node_id":"MDY6Q29tbWl0MjA2MzY0OjU1Mjg2OGFiOTU1YWRjMmE0NGM0YjQ2ODE4NGUxZTdkNzU2OWNkNTg=","commit":{"author":{"name":"Michael Dick","email":"mikedd@apache.org","date":"2009-04-30T15:39:42Z"},"committer":{"name":"Michael Dick","email":"mikedd@apache.org","date":"2009-04-30T15:39:42Z"},"message":"OPENJPA-1025 Implementing subList in subclasses of AbstractResultList, based on patch provided by B.J. Reed\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.2.x@770291 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"0e3fe2d9101205dd90ad2de959607d935161fb96","url":"https://api.github.com/repos/apache/openjpa/git/trees/0e3fe2d9101205dd90ad2de959607d935161fb96"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/552868ab955adc2a44c4b468184e1e7d7569cd58","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/552868ab955adc2a44c4b468184e1e7d7569cd58","html_url":"https://github.com/apache/openjpa/commit/552868ab955adc2a44c4b468184e1e7d7569cd58","comments_url":"https://api.github.com/repos/apache/openjpa/commits/552868ab955adc2a44c4b468184e1e7d7569cd58/comments","author":{"login":"mikedd","id":669432,"node_id":"MDQ6VXNlcjY2OTQzMg==","avatar_url":"https://avatars.githubusercontent.com/u/669432?v=4","gravatar_id":"","url":"https://api.github.com/users/mikedd","html_url":"https://github.com/mikedd","followers_url":"https://api.github.com/users/mikedd/followers","following_url":"https://api.github.com/users/mikedd/following{/other_user}","gists_url":"https://api.github.com/users/mikedd/gists{/gist_id}","starred_url":"https://api.github.com/users/mikedd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikedd/subscriptions","organizations_url":"https://api.github.com/users/mikedd/orgs","repos_url":"https://api.github.com/users/mikedd/repos","events_url":"https://api.github.com/users/mikedd/events{/privacy}","received_events_url":"https://api.github.com/users/mikedd/received_events","type":"User","site_admin":false},"committer":{"login":"mikedd","id":669432,"node_id":"MDQ6VXNlcjY2OTQzMg==","avatar_url":"https://avatars.githubusercontent.com/u/669432?v=4","gravatar_id":"","url":"https://api.github.com/users/mikedd","html_url":"https://github.com/mikedd","followers_url":"https://api.github.com/users/mikedd/followers","following_url":"https://api.github.com/users/mikedd/following{/other_user}","gists_url":"https://api.github.com/users/mikedd/gists{/gist_id}","starred_url":"https://api.github.com/users/mikedd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikedd/subscriptions","organizations_url":"https://api.github.com/users/mikedd/orgs","repos_url":"https://api.github.com/users/mikedd/repos","events_url":"https://api.github.com/users/mikedd/events{/privacy}","received_events_url":"https://api.github.com/users/mikedd/received_events","type":"User","site_admin":false},"parents":[{"sha":"ca334ebb76e966848ff21a5279d5148e2018e0ee","url":"https://api.github.com/repos/apache/openjpa/commits/ca334ebb76e966848ff21a5279d5148e2018e0ee","html_url":"https://github.com/apache/openjpa/commit/ca334ebb76e966848ff21a5279d5148e2018e0ee"}],"stats":{"total":44,"additions":41,"deletions":3},"files":[{"sha":"9acd5d656285426d5b7c25d72f1799054a71b654","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/AbstractNonSequentialResultList.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/AbstractNonSequentialResultList.java","raw_url":"https://github.com/apache/openjpa/raw/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/AbstractNonSequentialResultList.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/AbstractNonSequentialResultList.java?ref=552868ab955adc2a44c4b468184e1e7d7569cd58","patch":"@@ -22,6 +22,7 @@\n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Iterator;\n+import java.util.List;\n import java.util.ListIterator;\n import java.util.NoSuchElementException;\n \n@@ -145,6 +146,10 @@ public ListIterator listIterator(int index) {\n         return list.toArray(a);\n     }\n \n+    public List subList(int fromIndex, int toIndex) {\n+        throw new UnsupportedOperationException();\n+    }\n+\n     private class Itr extends AbstractListIterator {\n \n         private int _idx = 0;"},{"sha":"f3a84b9559652279ff4b28b7d95516fdfea29ba8","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/LazyForwardResultList.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/LazyForwardResultList.java","raw_url":"https://github.com/apache/openjpa/raw/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/LazyForwardResultList.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/LazyForwardResultList.java?ref=552868ab955adc2a44c4b468184e1e7d7569cd58","patch":"@@ -152,6 +152,11 @@ public boolean equals(Object other) {\n         return other == this;\n     }\n \n+    public List subList(int fromIndex, int toIndex) {\n+        assertOpen();\n+        return _list.subList(fromIndex, toIndex);\n+    }\n+\n     private class Itr extends AbstractListIterator {\n \n         private int _idx = 0;"},{"sha":"145c164482d6682bdedc3106d244285ece9d773d","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/ListResultList.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/ListResultList.java","raw_url":"https://github.com/apache/openjpa/raw/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/ListResultList.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/rop/ListResultList.java?ref=552868ab955adc2a44c4b468184e1e7d7569cd58","patch":"@@ -120,4 +120,9 @@ public ListIterator listIterator(int index) {\n     public Object writeReplace() {\n         return _list;\n     }\n+\n+    public List subList(int fromIndex, int toIndex) {\n+        assertOpen();\n+        return _list.subList(fromIndex, toIndex);\n+    }\n }"},{"sha":"915580982cc4ee4541b8212d33d8f51c2dc50ee5","filename":"openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/ResultListTest.java","status":"modified","additions":23,"deletions":0,"changes":23,"blob_url":"https://github.com/apache/openjpa/blob/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/ResultListTest.java","raw_url":"https://github.com/apache/openjpa/raw/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/ResultListTest.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/ResultListTest.java?ref=552868ab955adc2a44c4b468184e1e7d7569cd58","patch":"@@ -37,9 +37,16 @@\n \n     private ResultList[] _lists = null;\n \n+    protected boolean subListSupported = false;\n+    \n     public ResultListTest(String test) {\n         super(test);\n     }\n+    \n+    public ResultListTest(String test, boolean supportSubList) {\n+        super(test);\n+        subListSupported = supportSubList;\n+    }\n \n     /**\n      * Return a result list to use with the given provider.\n@@ -269,4 +276,20 @@ public void testEmpty() {\n             assertTrue(list.isEmpty());\n         }\n     }\n+\n+    public void testSubList() {\n+        ResultObjectProvider[] rops = getResultObjectProviders\n+            (Collections.EMPTY_LIST);\n+        for (int i = 0; i < rops.length; i++) {\n+            ResultList list = getResultList(rops[i]);\n+            try {\n+                List subList = list.subList(0, 0);\n+                if (subListSupported == false)\n+                    fail(\"Should not support subList.\");\n+            } catch (UnsupportedOperationException e) {\n+                if (subListSupported == true)\n+                    fail(\"Should support subList.\");\n+            }\n+        }\n+    }\n }"},{"sha":"6e4e22262401ae2aa18c3b69908ddb0416947e71","filename":"openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestEagerResultList.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestEagerResultList.java","raw_url":"https://github.com/apache/openjpa/raw/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestEagerResultList.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestEagerResultList.java?ref=552868ab955adc2a44c4b468184e1e7d7569cd58","patch":"@@ -26,7 +26,7 @@\n public class TestEagerResultList extends ResultListTest {\n \n     public TestEagerResultList(String test) {\n-        super(test);\n+        super(test, true);\n     }\n \n     protected ResultList getResultList(ResultObjectProvider provider) {"},{"sha":"3eb648417cccb91befee06426985b1f0904872f6","filename":"openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestLazyForwardResultList.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestLazyForwardResultList.java","raw_url":"https://github.com/apache/openjpa/raw/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestLazyForwardResultList.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestLazyForwardResultList.java?ref=552868ab955adc2a44c4b468184e1e7d7569cd58","patch":"@@ -26,7 +26,7 @@\n public class TestLazyForwardResultList extends ResultListTest {\n \n     public TestLazyForwardResultList(String test) {\n-        super(test);\n+        super(test, true);\n     }\n \n     protected ResultList getResultList(ResultObjectProvider provider) {"},{"sha":"41e4de4d671d11f19537f5f617eab1e12f8e8cc5","filename":"openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestListResultList.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestListResultList.java","raw_url":"https://github.com/apache/openjpa/raw/552868ab955adc2a44c4b468184e1e7d7569cd58/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestListResultList.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/test/java/org/apache/openjpa/lib/rop/TestListResultList.java?ref=552868ab955adc2a44c4b468184e1e7d7569cd58","patch":"@@ -26,7 +26,7 @@\n public class TestListResultList extends ResultListTest {\n \n     public TestListResultList(String test) {\n-        super(test);\n+        super(test, true);\n     }\n \n     protected ResultList getResultList(ResultObjectProvider provider) {"}]}

