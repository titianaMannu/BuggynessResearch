{"sha":"558446dfe975d67e530e8ec35df976d605d35e0a","node_id":"MDY6Q29tbWl0MjA2MzY0OjU1ODQ0NmRmZTk3NWQ2N2U1MzBlOGVjMzVkZjk3NmQ2MDVkMzVlMGE=","commit":{"author":{"name":"Fay Wang","email":"faywang@apache.org","date":"2009-09-12T14:58:07Z"},"committer":{"name":"Fay Wang","email":"faywang@apache.org","date":"2009-09-12T14:58:07Z"},"message":"OPENJPA-1295: fix the escape character\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@814166 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"5bd69d07eda0041d4166a55fbb5f6209eeabb136","url":"https://api.github.com/repos/apache/openjpa/git/trees/5bd69d07eda0041d4166a55fbb5f6209eeabb136"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/558446dfe975d67e530e8ec35df976d605d35e0a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/558446dfe975d67e530e8ec35df976d605d35e0a","html_url":"https://github.com/apache/openjpa/commit/558446dfe975d67e530e8ec35df976d605d35e0a","comments_url":"https://api.github.com/repos/apache/openjpa/commits/558446dfe975d67e530e8ec35df976d605d35e0a/comments","author":null,"committer":null,"parents":[{"sha":"d7b4296c8f53852894c3681a7f77afe98b56bd55","url":"https://api.github.com/repos/apache/openjpa/commits/d7b4296c8f53852894c3681a7f77afe98b56bd55","html_url":"https://github.com/apache/openjpa/commit/d7b4296c8f53852894c3681a7f77afe98b56bd55"}],"stats":{"total":10,"additions":6,"deletions":4},"files":[{"sha":"d5e717e0620f1842fe4d6a21048a6128df02f791","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/MatchesExpression.java","status":"modified","additions":6,"deletions":4,"changes":10,"blob_url":"https://github.com/apache/openjpa/blob/558446dfe975d67e530e8ec35df976d605d35e0a/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/MatchesExpression.java","raw_url":"https://github.com/apache/openjpa/raw/558446dfe975d67e530e8ec35df976d605d35e0a/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/MatchesExpression.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/MatchesExpression.java?ref=558446dfe975d67e530e8ec35df976d605d35e0a","patch":"@@ -105,10 +105,12 @@ public void appendTo(Select sel, ExpContext ctx, ExpState state,\n \n             // escape out characters by using the database's escape sequence\n             DBDictionary dict = ctx.store.getDBDictionary();\n-            if (_escape != null && _escape.equals(\"\\\\\")) {\n-                buf.append(\" ESCAPE '\").append(dict.searchStringEscape).append(\"'\");\n-            } else\n-                buf.append(\" ESCAPE '\").append(_escape).append(\"'\");\n+            if (_escape != null) {\n+                if (_escape.equals(\"\\\\\")) \n+                    buf.append(\" ESCAPE '\").append(dict.searchStringEscape).append(\"'\");\n+                else\n+                    buf.append(\" ESCAPE '\").append(_escape).append(\"'\");\n+            }\n             \n         }\n         sel.append(buf, state.joins);"}]}

