{"sha":"572d5934274a7f8961e12e3372f5f10f8cdff9d5","node_id":"MDY6Q29tbWl0MjA2MzY0OjU3MmQ1OTM0Mjc0YTdmODk2MWUxMmUzMzcyZjVmMTBmOGNkZmY5ZDU=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2010-03-12T02:35:03Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2010-03-12T02:35:03Z"},"message":"OPENJPA-1561: Cache criteria query\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@922123 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"0c04f454cb83d7eddf485accab862004df58da09","url":"https://api.github.com/repos/apache/openjpa/git/trees/0c04f454cb83d7eddf485accab862004df58da09"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/572d5934274a7f8961e12e3372f5f10f8cdff9d5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/572d5934274a7f8961e12e3372f5f10f8cdff9d5","html_url":"https://github.com/apache/openjpa/commit/572d5934274a7f8961e12e3372f5f10f8cdff9d5","comments_url":"https://api.github.com/repos/apache/openjpa/commits/572d5934274a7f8961e12e3372f5f10f8cdff9d5/comments","author":null,"committer":null,"parents":[{"sha":"f0f89c7e0ed53647ae08b425f10e68536d4ba0ab","url":"https://api.github.com/repos/apache/openjpa/commits/f0f89c7e0ed53647ae08b425f10e68536d4ba0ab","html_url":"https://github.com/apache/openjpa/commit/f0f89c7e0ed53647ae08b425f10e68536d4ba0ab"}],"stats":{"total":6,"additions":3,"deletions":3},"files":[{"sha":"92a495c27f0142e39acde963e3755eadbabeb50a","filename":"openjpa-persistence/src/main/java/org/apache/openjpa/persistence/EntityManagerImpl.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/572d5934274a7f8961e12e3372f5f10f8cdff9d5/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/EntityManagerImpl.java","raw_url":"https://github.com/apache/openjpa/raw/572d5934274a7f8961e12e3372f5f10f8cdff9d5/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/EntityManagerImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/EntityManagerImpl.java?ref=572d5934274a7f8961e12e3372f5f10f8cdff9d5","patch":"@@ -1042,8 +1042,8 @@ public OpenJPAQuery createNativeQuery(String query, String mappingName) {\n         return newQueryImpl(kernelQuery);\n     }\n \n-    protected <X> QueryImpl<X> newQueryImpl(org.apache.openjpa.kernel.Query kernelQuery) {\n-        return new QueryImpl<X>(this, _ret, kernelQuery);\n+    protected <T> QueryImpl<T> newQueryImpl(org.apache.openjpa.kernel.Query kernelQuery) {\n+        return new QueryImpl<T>(this, _ret, kernelQuery);\n     }\n \n     /**\n@@ -1565,7 +1565,7 @@ public void detach(Object entity) {\n         \n         org.apache.openjpa.kernel.Query kernelQuery =_broker.newQuery(CriteriaBuilderImpl.LANG_CRITERIA, criteriaQuery);\n         \n-        QueryImpl<T> facadeQuery = newQueryImpl(kernelQuery);\n+        QueryImpl<T> facadeQuery = newQueryImpl(kernelQuery).setId(criteriaQuery.toString());\n         Set<ParameterExpression<?>> params = criteriaQuery.getParameters();\n         \n         for (ParameterExpression<?> param : params) {"}]}

