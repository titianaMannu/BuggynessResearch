{"sha":"598c21648eac7504dc2894afcad955d0cd450723","node_id":"MDY6Q29tbWl0MjA2MzY0OjU5OGMyMTY0OGVhYzc1MDRkYzI4OTRhZmNhZDk1NWQwY2Q0NTA3MjM=","commit":{"author":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2008-10-24T20:35:29Z"},"committer":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2008-10-24T20:35:29Z"},"message":"OPENJPA-752: Enhance exception message text to improve serviceability.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.2.x@707741 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"3f7a4beb7878b1603aa6e9466d46a0234110f806","url":"https://api.github.com/repos/apache/openjpa/git/trees/3f7a4beb7878b1603aa6e9466d46a0234110f806"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/598c21648eac7504dc2894afcad955d0cd450723","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/598c21648eac7504dc2894afcad955d0cd450723","html_url":"https://github.com/apache/openjpa/commit/598c21648eac7504dc2894afcad955d0cd450723","comments_url":"https://api.github.com/repos/apache/openjpa/commits/598c21648eac7504dc2894afcad955d0cd450723/comments","author":null,"committer":null,"parents":[{"sha":"f81bfefba50e9ebc53b4607d5af6c3a84050375b","url":"https://api.github.com/repos/apache/openjpa/commits/f81bfefba50e9ebc53b4607d5af6c3a84050375b","html_url":"https://github.com/apache/openjpa/commit/f81bfefba50e9ebc53b4607d5af6c3a84050375b"}],"stats":{"total":45,"additions":36,"deletions":9},"files":[{"sha":"9fe2390054558e6e27670c4c2c9739de0f846d3d","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/meta/ProxySetupStateManager.java","status":"modified","additions":31,"deletions":9,"changes":40,"blob_url":"https://github.com/apache/openjpa/blob/598c21648eac7504dc2894afcad955d0cd450723/openjpa-kernel/src/main/java/org/apache/openjpa/meta/ProxySetupStateManager.java","raw_url":"https://github.com/apache/openjpa/raw/598c21648eac7504dc2894afcad955d0cd450723/openjpa-kernel/src/main/java/org/apache/openjpa/meta/ProxySetupStateManager.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/meta/ProxySetupStateManager.java?ref=598c21648eac7504dc2894afcad955d0cd450723","patch":"@@ -25,6 +25,7 @@\n \n import org.apache.openjpa.enhance.PersistenceCapable;\n import org.apache.openjpa.enhance.StateManager;\n+import org.apache.openjpa.lib.util.Localizer;\n import org.apache.openjpa.util.InternalException;\n \n /**\n@@ -37,6 +38,9 @@\n class ProxySetupStateManager\n     implements StateManager {\n \n+\tprivate static final Localizer _loc = Localizer\n+\t\t.forPackage(ProxySetupStateManager.class);\n+\n     private Object _object = null;\n \n     public void setProxyData(PersistenceCapable pc, ClassMetaData meta) {\n@@ -199,39 +203,57 @@ public void settingObjectField(PersistenceCapable pc, int i, Object o,\n     }\n \n     public void providedBooleanField(PersistenceCapable pc, int i, boolean b) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"boolean\"));\n     }\n \n     public void providedCharField(PersistenceCapable pc, int i, char c) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"char\"));\n     }\n \n     public void providedByteField(PersistenceCapable pc, int i, byte b) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"byte\"));\n     }\n \n     public void providedShortField(PersistenceCapable pc, int i, short s) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"short\"));\n     }\n \n     public void providedIntField(PersistenceCapable pc, int i, int i2) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"int\"));\n     }\n \n     public void providedLongField(PersistenceCapable pc, int i, long l) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"long\"));\n     }\n \n     public void providedFloatField(PersistenceCapable pc, int i, float f) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"float\"));\n     }\n \n     public void providedDoubleField(PersistenceCapable pc, int i, double d) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"double\"));\n     }\n \n     public void providedStringField(PersistenceCapable pc, int i, String s) {\n-        throw new InternalException();\n+        throw new InternalException(_loc.get(\n+\t\t\t\t\"unexpected_proxy_sm_attribute_type\", pc.getClass().getName(),\n+\t\t\t\t\"String\"));\n     }\n \n     public void providedObjectField(PersistenceCapable pc, int i, Object o) {"},{"sha":"1446b14175bf1b776d9147f99e076ad7d21e5546","filename":"openjpa-kernel/src/main/resources/org/apache/openjpa/meta/localizer.properties","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/598c21648eac7504dc2894afcad955d0cd450723/openjpa-kernel/src/main/resources/org/apache/openjpa/meta/localizer.properties","raw_url":"https://github.com/apache/openjpa/raw/598c21648eac7504dc2894afcad955d0cd450723/openjpa-kernel/src/main/resources/org/apache/openjpa/meta/localizer.properties","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/resources/org/apache/openjpa/meta/localizer.properties?ref=598c21648eac7504dc2894afcad955d0cd450723","patch":"@@ -316,3 +316,8 @@ interface-load2: Enhanced dynamic implementation of managed \"{0}\" can not be \\\n interface-badenhance: Dynamic implementation of \"{0}\" can not be enhanced.\n bad-externalized-value: Value \"{0}\" was not found in the list of \\\n \tExternalValues for field \"{2}\". Valid values are {1}\n+unexpected_proxy_sm_attribute_type: Unexpected attribute type \"{1}\" for \\\n+\tpersistence-capable class \"{0}\" is detected. If the entity is packaged in \\\n+    a jar file, this may be caused by one or more inherited class of the \\\n+    entity not being packaged in the same jar file. Please check all \\\n+    inherited class(es) are packaged in the same jar file."}]}

