{"sha":"59c81b98aa2730084defb28839661bda5aad8bc3","node_id":"MDY6Q29tbWl0MjA2MzY0OjU5YzgxYjk4YWEyNzMwMDg0ZGVmYjI4ODM5NjYxYmRhNWFhZDhiYzM=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2009-10-20T05:40:40Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2009-10-20T05:40:40Z"},"message":"OPENJPA-1121: Load user-defined Enums.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@826959 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"6cb4ed1dd19c8d42bb7e685627050c571fca876a","url":"https://api.github.com/repos/apache/openjpa/git/trees/6cb4ed1dd19c8d42bb7e685627050c571fca876a"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/59c81b98aa2730084defb28839661bda5aad8bc3","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/59c81b98aa2730084defb28839661bda5aad8bc3","html_url":"https://github.com/apache/openjpa/commit/59c81b98aa2730084defb28839661bda5aad8bc3","comments_url":"https://api.github.com/repos/apache/openjpa/commits/59c81b98aa2730084defb28839661bda5aad8bc3/comments","author":null,"committer":null,"parents":[{"sha":"afb95a595f13314c687b8edab5e495cfadd874ca","url":"https://api.github.com/repos/apache/openjpa/commits/afb95a595f13314c687b8edab5e495cfadd874ca","html_url":"https://github.com/apache/openjpa/commit/afb95a595f13314c687b8edab5e495cfadd874ca"}],"stats":{"total":12,"additions":9,"deletions":3},"files":[{"sha":"22751895173999348a87f2742593a6b9390871f2","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/util/TemporaryClassLoader.java","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/59c81b98aa2730084defb28839661bda5aad8bc3/openjpa-lib/src/main/java/org/apache/openjpa/lib/util/TemporaryClassLoader.java","raw_url":"https://github.com/apache/openjpa/raw/59c81b98aa2730084defb28839661bda5aad8bc3/openjpa-lib/src/main/java/org/apache/openjpa/lib/util/TemporaryClassLoader.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/util/TemporaryClassLoader.java?ref=59c81b98aa2730084defb28839661bda5aad8bc3","patch":"@@ -73,9 +73,15 @@ protected Class loadClass(String name, boolean resolve)\n             // To avoid classloader issues with the JVM (Sun and IBM), we\n             // will not load Enums via the TemporaryClassLoader either.\n             // Reference JIRA Issue OPENJPA-646 for more information.\n-            if (isAnnotation(classBytes) || isEnum(classBytes))\n-                return Class.forName(name, resolve, getClass().\n-                    getClassLoader());\n+            if (isAnnotation(classBytes) || isEnum(classBytes)) {\n+                try {\n+                    Class<?> frameworkClass = Class.forName(name, resolve,\n+                            getClass().getClassLoader());\n+                    return frameworkClass;\n+                } catch (ClassNotFoundException e) {\n+                    // continue, as it must be a user-defined class\n+                }\n+            }\n \n             try {\n                 return defineClass(name, classBytes, 0, classBytes.length);"}]}

