{"sha":"5b9b5d77255684e2f9771f9e88146d85e9ab913e","node_id":"MDY6Q29tbWl0MjA2MzY0OjViOWI1ZDc3MjU1Njg0ZTJmOTc3MWY5ZTg4MTQ2ZDg1ZTlhYjkxM2U=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2009-08-20T02:30:09Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2009-08-20T02:30:09Z"},"message":"OPENJPA-1252  Include a Derby Network Server w/ JCC driver test profile and cleanup some other profiles.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@806022 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2d1882fa69d7ab4f81bf756fd500857885248f6f","url":"https://api.github.com/repos/apache/openjpa/git/trees/2d1882fa69d7ab4f81bf756fd500857885248f6f"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/5b9b5d77255684e2f9771f9e88146d85e9ab913e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/5b9b5d77255684e2f9771f9e88146d85e9ab913e","html_url":"https://github.com/apache/openjpa/commit/5b9b5d77255684e2f9771f9e88146d85e9ab913e","comments_url":"https://api.github.com/repos/apache/openjpa/commits/5b9b5d77255684e2f9771f9e88146d85e9ab913e/comments","author":null,"committer":null,"parents":[{"sha":"21d88cadc79848e5c678069478a036fbac439ddf","url":"https://api.github.com/repos/apache/openjpa/commits/21d88cadc79848e5c678069478a036fbac439ddf","html_url":"https://github.com/apache/openjpa/commit/21d88cadc79848e5c678069478a036fbac439ddf"}],"stats":{"total":94,"additions":92,"deletions":2},"files":[{"sha":"f47ba11980ae6f869245e69fa5ba739a818e44a8","filename":"openjpa-persistence-jdbc/pom.xml","status":"modified","additions":92,"deletions":2,"changes":94,"blob_url":"https://github.com/apache/openjpa/blob/5b9b5d77255684e2f9771f9e88146d85e9ab913e/openjpa-persistence-jdbc/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/5b9b5d77255684e2f9771f9e88146d85e9ab913e/openjpa-persistence-jdbc/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/pom.xml?ref=5b9b5d77255684e2f9771f9e88146d85e9ab913e","patch":"@@ -140,7 +140,9 @@\n             -->\n             <id>test-derbynet</id>\n             <activation>\n-                <property><name>test-derbynet</name></property>\n+                <property>\n+                    <name>test-derbynet</name>\n+                </property>\n             </activation>\n             <dependencies>\n                 <dependency>\n@@ -268,6 +270,11 @@\n                     -Dmssql.artifactid=sqljdbc4\n             -->\n             <id>test-mssql</id>\n+            <activation>\n+                <property>\n+                    <name>test-mssql</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>${mssql.groupid}</groupId>\n@@ -306,6 +313,11 @@\n         <!-- Profile for testing with SQLServer DB using the jTDS driver -->\n         <profile>\n             <id>test-sqlserver</id>\n+            <activation>\n+                <property>\n+                    <name>test-sqlserver</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>net.sourceforge.jtds</groupId>\n@@ -351,7 +363,11 @@\n         <!-- Profile for testing with Ingres DB -->\n         <profile>\n             <id>test-ingres</id>\n-            <activation><property><name>test-ingres</name></property></activation>\n+            <activation>\n+                <property>\n+                    <name>test-ingres</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>com.ingres.jdbc</groupId>\n@@ -489,6 +505,11 @@\n                     -Ddb2.version=9.5\n             -->\n             <id>test-db2-jcc</id>\n+            <activation>\n+                <property>\n+                    <name>test-db2-jcc</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>${db2.groupid}</groupId>\n@@ -531,6 +552,65 @@\n             </repositories>\n         </profile>          \n \n+        <!-- Profile for testing Apache Derby with the DB2 JCC driver -->\n+        <profile>\n+            <id>test-derbyjcc</id>\n+            <activation>\n+                <property>\n+                    <name>test-derbyjcc</name>\n+                </property>\n+            </activation>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>${db2.groupid}</groupId>\n+                    <artifactId>${db2.driver.artifactid}</artifactId>\n+                    <version>${db2.version}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+                <dependency>\n+                    <groupId>${db2.groupid}</groupId>\n+                    <artifactId>${db2.license.artifactid}</artifactId>\n+                    <version>${db2.version}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <properties>\n+                <db2.maven.repo>http://not.a.real.repository</db2.maven.repo>\n+                <db2.groupid>com.ibm.db2</db2.groupid>\n+                <db2.driver.artifactid>jcc-driver</db2.driver.artifactid>\n+                <db2.license.artifactid>jcc-license</db2.license.artifactid>\n+                <db2.version>9.5</db2.version>\n+                <!--\n+                    Note: DB must be created before using this profile,\n+                    which can be done by running:\n+                        mvn test -Dtest=<testcase> -Ptest-derbynet\n+                -->\n+                <openjpa.derbyjcc.url>jdbc:db2://localhost:1527/openjpa20</openjpa.derbyjcc.url>\n+                <!-- Note: commons-dbcp requires dummy values for uid/pwd -->\n+                <openjpa.derbyjcc.username>uid</openjpa.derbyjcc.username>\n+                <openjpa.derbyjcc.password>pwd</openjpa.derbyjcc.password>\n+                <connection.driver.name>com.ibm.db2.jcc.DB2Driver</connection.driver.name>\n+                <connection.url>${openjpa.derbyjcc.url}</connection.url>\n+                <connection.username>${openjpa.derbyjcc.username}</connection.username>\n+                <connection.password>${openjpa.derbyjcc.password}</connection.password>\n+            </properties>\n+            <repositories>\n+                <repository>\n+                    <id>db2.repository</id>\n+                    <name>DB2 Repository</name>\n+                    <url>${db2.maven.repo}</url>\n+                    <layout>default</layout>\n+                    <snapshots>\n+                        <enabled>false</enabled>\n+                    </snapshots>\n+                    <releases>\n+                        <enabled>true</enabled>\n+                        <checksumPolicy>ignore</checksumPolicy>\n+                    </releases>\n+                </repository>\n+            </repositories>\n+        </profile>\n+\n         <!-- Profile for testing Informix with the DB2 JCC driver -->\n         <profile>\n             <!-- \n@@ -557,6 +637,11 @@\n                     -Dids.version=9.5\n             -->\n             <id>test-ids-jcc</id>\n+            <activation>\n+                <property>\n+                    <name>test-ids-jcc</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>${ids.groupid}</groupId>\n@@ -625,6 +710,11 @@\n                     -Doracle.version=10g\n             -->\n             <id>test-oracle</id>\n+            <activation>\n+                <property>\n+                    <name>test-oracle</name>\n+                </property>\n+            </activation>\n             <dependencies>\n                 <dependency>\n                     <groupId>${oracle.groupid}</groupId>"}]}

