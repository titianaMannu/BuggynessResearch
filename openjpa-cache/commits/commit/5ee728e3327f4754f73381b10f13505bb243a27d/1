{"sha":"5ee728e3327f4754f73381b10f13505bb243a27d","node_id":"MDY6Q29tbWl0MjA2MzY0OjVlZTcyOGUzMzI3ZjQ3NTRmNzMzODFiMTBmMTM1MDViYjI0M2EyN2Q=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-06-11T23:58:16Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-06-11T23:58:16Z"},"message":"OPENJPA-600. Merge from ../branches/1.1.x. svn merge -c 656006 ../branches/1.1.x\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@666918 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"16d0f8385eb577c9f11fc2b4549d7ea125298d6b","url":"https://api.github.com/repos/apache/openjpa/git/trees/16d0f8385eb577c9f11fc2b4549d7ea125298d6b"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/5ee728e3327f4754f73381b10f13505bb243a27d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/5ee728e3327f4754f73381b10f13505bb243a27d","html_url":"https://github.com/apache/openjpa/commit/5ee728e3327f4754f73381b10f13505bb243a27d","comments_url":"https://api.github.com/repos/apache/openjpa/commits/5ee728e3327f4754f73381b10f13505bb243a27d/comments","author":null,"committer":null,"parents":[{"sha":"629977fb1c2a25ba7ce2dd38fe0062866f73b48f","url":"https://api.github.com/repos/apache/openjpa/commits/629977fb1c2a25ba7ce2dd38fe0062866f73b48f","html_url":"https://github.com/apache/openjpa/commit/629977fb1c2a25ba7ce2dd38fe0062866f73b48f"}],"stats":{"total":12,"additions":12,"deletions":0},"files":[{"sha":"b564a06625c319705be539b2b95998f0ae13d4d0","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","status":"modified","additions":12,"deletions":0,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/5ee728e3327f4754f73381b10f13505bb243a27d/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","raw_url":"https://github.com/apache/openjpa/raw/5ee728e3327f4754f73381b10f13505bb243a27d/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/enhance/PCClassFileTransformer.java?ref=5ee728e3327f4754f73381b10f13505bb243a27d","patch":"@@ -116,6 +116,18 @@ public PCClassFileTransformer(MetaDataRepository repos,\n             return null;\n \n         _transforming = true;\n+\n+        return transform0(className, redef, bytes);\n+    }\n+\n+    /**\n+     * We have to split the transform method into two methods to avoid\n+     * ClassCircularityError when executing method using pure-JIT JVMs\n+     * such as JRockit.\n+     */\n+    private byte[] transform0(String className, Class redef, byte[] bytes)\n+        throws IllegalClassFormatException {\n+\n         try {\n             Boolean enhance = needsEnhance(className, redef, bytes);\n             if (enhance != null && _log.isTraceEnabled())"}]}

