{"sha":"6234dbddfcb8b17ed3f50221517d5c3823097a5e","node_id":"MDY6Q29tbWl0MjA2MzY0OjYyMzRkYmRkZmNiOGIxN2VkM2Y1MDIyMTUxN2Q1YzM4MjMwOTdhNWU=","commit":{"author":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2010-03-10T20:22:57Z"},"committer":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2010-03-10T20:22:57Z"},"message":"OPENJPA-1560 Committing JDBC escape sequence tests contributed by Dianne Richards.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@921550 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"13df006a49719c377d03c801ceab82d5b32cade5","url":"https://api.github.com/repos/apache/openjpa/git/trees/13df006a49719c377d03c801ceab82d5b32cade5"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/6234dbddfcb8b17ed3f50221517d5c3823097a5e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/6234dbddfcb8b17ed3f50221517d5c3823097a5e","html_url":"https://github.com/apache/openjpa/commit/6234dbddfcb8b17ed3f50221517d5c3823097a5e","comments_url":"https://api.github.com/repos/apache/openjpa/commits/6234dbddfcb8b17ed3f50221517d5c3823097a5e/comments","author":null,"committer":null,"parents":[{"sha":"f69da242687ffaeec7840c587f6f658e2f3cb283","url":"https://api.github.com/repos/apache/openjpa/commits/f69da242687ffaeec7840c587f6f658e2f3cb283","html_url":"https://github.com/apache/openjpa/commit/f69da242687ffaeec7840c587f6f658e2f3cb283"}],"stats":{"total":12,"additions":12,"deletions":0},"files":[{"sha":"30a2e826cd70ce6f73ae89d752780317f369e16b","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/TestJDBCEscapeDate.java","status":"modified","additions":12,"deletions":0,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/6234dbddfcb8b17ed3f50221517d5c3823097a5e/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/TestJDBCEscapeDate.java","raw_url":"https://github.com/apache/openjpa/raw/6234dbddfcb8b17ed3f50221517d5c3823097a5e/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/TestJDBCEscapeDate.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/TestJDBCEscapeDate.java?ref=6234dbddfcb8b17ed3f50221517d5c3823097a5e","patch":"@@ -73,7 +73,19 @@ public void testJDBCEscape() {\n             List results = q.getResultList();\n             Assert.assertEquals(1, results.size());\n         }\n+        \n+        // Test support in HAVING clause.\n+        String[] havingJpql = {\n+            \"select a from Employee a group by a.hireTime having a.hireTime >= {t '00:00:00'}\",\n+            \"select a from Employee a group by a.hireDate having a.hireDate >= {d '2009-08-25'}\",\n+            \"select a from Employee a group by a.hireTimestamp having a.hireTimestamp >= {d '2009-08-25'}\"\n+        };\n \n+        for (int j = 0; j < havingJpql.length; j++) {\n+            Query q = em.createQuery(havingJpql[j]);\n+            List results = q.getResultList();\n+            Assert.assertEquals(1, results.size());\n+        }\n         em.getTransaction().begin();\n         String update = \"update Employee a set a.hireTimestamp = {ts '2009-08-25 00:00:00.123456'} where a.empId = 1\";\n         Query q = em.createQuery(update);"}]}

