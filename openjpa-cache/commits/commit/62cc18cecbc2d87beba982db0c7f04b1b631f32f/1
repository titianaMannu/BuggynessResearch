{"sha":"62cc18cecbc2d87beba982db0c7f04b1b631f32f","node_id":"MDY6Q29tbWl0MjA2MzY0OjYyY2MxOGNlY2JjMmQ4N2JlYmE5ODJkYjBjN2YwNGIxYjYzMWYzMmY=","commit":{"author":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2009-10-28T18:20:12Z"},"committer":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2009-10-28T18:20:12Z"},"message":"OPENJPA-944: Updated test to run on Oracle by setting the dictionary option to use triggers for IDENTITY gen type.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@830709 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"39d16a7ae331e69bcd0ee197046b1ea9e99545f2","url":"https://api.github.com/repos/apache/openjpa/git/trees/39d16a7ae331e69bcd0ee197046b1ea9e99545f2"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/62cc18cecbc2d87beba982db0c7f04b1b631f32f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/62cc18cecbc2d87beba982db0c7f04b1b631f32f","html_url":"https://github.com/apache/openjpa/commit/62cc18cecbc2d87beba982db0c7f04b1b631f32f","comments_url":"https://api.github.com/repos/apache/openjpa/commits/62cc18cecbc2d87beba982db0c7f04b1b631f32f/comments","author":null,"committer":null,"parents":[{"sha":"530a190ebb90ffd97adc3a961c6d85c896ea9f41","url":"https://api.github.com/repos/apache/openjpa/commits/530a190ebb90ffd97adc3a961c6d85c896ea9f41","html_url":"https://github.com/apache/openjpa/commit/530a190ebb90ffd97adc3a961c6d85c896ea9f41"}],"stats":{"total":8,"additions":8,"deletions":0},"files":[{"sha":"d891d81bba011a2c7e0d5ccd99de901d8a05f931","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/kernel/TestIndirectRecursion.java","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/apache/openjpa/blob/62cc18cecbc2d87beba982db0c7f04b1b631f32f/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/kernel/TestIndirectRecursion.java","raw_url":"https://github.com/apache/openjpa/raw/62cc18cecbc2d87beba982db0c7f04b1b631f32f/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/kernel/TestIndirectRecursion.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/kernel/TestIndirectRecursion.java?ref=62cc18cecbc2d87beba982db0c7f04b1b631f32f","patch":"@@ -25,6 +25,9 @@\n import javax.persistence.EntityManager;\n import javax.persistence.Query;\n \n+import org.apache.openjpa.jdbc.conf.JDBCConfiguration;\n+import org.apache.openjpa.jdbc.sql.DBDictionary;\n+import org.apache.openjpa.jdbc.sql.OracleDictionary;\n import org.apache.openjpa.persistence.FetchPlan;\n import org.apache.openjpa.persistence.OpenJPAPersistence;\n import org.apache.openjpa.persistence.kernel.common.apps.State;\n@@ -59,6 +62,11 @@\n \n     public void setUp() {\n         super.setUp(CLEAR_TABLES, State.class, Transition.class);\n+        \n+        DBDictionary dict = ((JDBCConfiguration) emf.getConfiguration()).getDBDictionaryInstance();\n+        if (dict instanceof OracleDictionary) {\n+            ((OracleDictionary) dict).useTriggersForAutoAssign = true;\n+        }\n     }\n \n     public void testFetch() {"}]}

