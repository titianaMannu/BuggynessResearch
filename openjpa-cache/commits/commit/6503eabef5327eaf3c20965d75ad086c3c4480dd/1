{"sha":"6503eabef5327eaf3c20965d75ad086c3c4480dd","node_id":"MDY6Q29tbWl0MjA2MzY0OjY1MDNlYWJlZjUzMjdlYWYzYzIwOTY1ZDc1YWQwODZjM2M0NDgwZGQ=","commit":{"author":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2010-03-12T17:17:23Z"},"committer":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2010-03-12T17:17:23Z"},"message":"OPENJPA-1550: When batchLimit=-1 or >1 and an exception is caused, the params and failedObject are missing from the resultant exception.\navoid NullPointerException for JDBC provider using PureQUery APIs.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@922355 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"1a2ea46a66fdb221bf671e6a4cb00ed8a0b0d1f4","url":"https://api.github.com/repos/apache/openjpa/git/trees/1a2ea46a66fdb221bf671e6a4cb00ed8a0b0d1f4"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/6503eabef5327eaf3c20965d75ad086c3c4480dd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/6503eabef5327eaf3c20965d75ad086c3c4480dd","html_url":"https://github.com/apache/openjpa/commit/6503eabef5327eaf3c20965d75ad086c3c4480dd","comments_url":"https://api.github.com/repos/apache/openjpa/commits/6503eabef5327eaf3c20965d75ad086c3c4480dd/comments","author":null,"committer":null,"parents":[{"sha":"36b9628948cb746696204447d467105a3a67f0bd","url":"https://api.github.com/repos/apache/openjpa/commits/36b9628948cb746696204447d467105a3a67f0bd","html_url":"https://github.com/apache/openjpa/commit/36b9628948cb746696204447d467105a3a67f0bd"}],"stats":{"total":5,"additions":3,"deletions":2},"files":[{"sha":"c09ce814663a63b7b16251cab405189d0afda098","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/BatchingPreparedStatementManagerImpl.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/6503eabef5327eaf3c20965d75ad086c3c4480dd/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/BatchingPreparedStatementManagerImpl.java","raw_url":"https://github.com/apache/openjpa/raw/6503eabef5327eaf3c20965d75ad086c3c4480dd/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/BatchingPreparedStatementManagerImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/BatchingPreparedStatementManagerImpl.java?ref=6503eabef5327eaf3c20965d75ad086c3c4480dd","patch":"@@ -224,9 +224,10 @@ protected void flushBatch() throws SQLException {\n             } finally {\n                 _batchedSql = null;\n                 batchedRows.clear();\n-                //Clear the Params now....should this be done above?\n-                ps.clearParameters();\n                 if (ps != null) {\n+                    //Clear the Params now....should this be done above? No. \n+                    //if JDBC provider using PureQuery, ps is null\n+                    ps.clearParameters();\n                     try {\n                         ps.close();\n                     } catch (SQLException sqex) {"}]}

