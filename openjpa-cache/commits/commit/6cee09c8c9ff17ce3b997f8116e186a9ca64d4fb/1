{"sha":"6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb","node_id":"MDY6Q29tbWl0MjA2MzY0OjZjZWUwOWM4YzlmZjE3Y2UzYjk5N2Y4MTE2ZTE4NmE5Y2E2NGQ0ZmI=","commit":{"author":{"name":"Milosz Tylenda","email":"mtylenda@apache.org","date":"2009-12-12T16:32:02Z"},"committer":{"name":"Milosz Tylenda","email":"mtylenda@apache.org","date":"2009-12-12T16:32:02Z"},"message":"OPENJPA-1248: User manual improvements related to LOB streaming.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@889946 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2caf860eedf5960def762a542a3bd9ff3ab7ed31","url":"https://api.github.com/repos/apache/openjpa/git/trees/2caf860eedf5960def762a542a3bd9ff3ab7ed31"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb","html_url":"https://github.com/apache/openjpa/commit/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb","comments_url":"https://api.github.com/repos/apache/openjpa/commits/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb/comments","author":null,"committer":null,"parents":[{"sha":"9dc10ef15e55486cf2977b283623de4ad799f7f3","url":"https://api.github.com/repos/apache/openjpa/commits/9dc10ef15e55486cf2977b283623de4ad799f7f3","html_url":"https://github.com/apache/openjpa/commit/9dc10ef15e55486cf2977b283623de4ad799f7f3"}],"stats":{"total":81,"additions":59,"deletions":22},"files":[{"sha":"ce66feeb74d7e9e8e97c605476c1f2cf09b531e4","filename":"openjpa-project/src/doc/manual/jpa_overview_mapping.xml","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb/openjpa-project/src/doc/manual/jpa_overview_mapping.xml","raw_url":"https://github.com/apache/openjpa/raw/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb/openjpa-project/src/doc/manual/jpa_overview_mapping.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/jpa_overview_mapping.xml?ref=6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb","patch":"@@ -2827,6 +2827,12 @@ The implementation will serialize the Java value if needed.\n The equivalent XML element is <literal>lob</literal>, which has no children or\n attributes.\n                 </para>\n+                <note>\n+                    <para>\n+OpenJPA also supports LOB streaming. See <xref linkend=\"ref_guide_streamsupport\"/> in\n+the Reference Guide for details.\n+                    </para>\n+                </note>\n             </section>\n             <section id=\"jpa_overview_mapping_enum\">\n                 <title>"},{"sha":"9f310247e19cd0acbe4839cc58c646b7f5d63be9","filename":"openjpa-project/src/doc/manual/ref_guide_mapping.xml","status":"modified","additions":46,"deletions":22,"changes":68,"blob_url":"https://github.com/apache/openjpa/blob/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb/openjpa-project/src/doc/manual/ref_guide_mapping.xml","raw_url":"https://github.com/apache/openjpa/raw/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb/openjpa-project/src/doc/manual/ref_guide_mapping.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_mapping.xml?ref=6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb","patch":"@@ -2792,40 +2792,64 @@ em.persist(o1);\n         </section>\n         <section id=\"ref_guide_streamsupport\">\n             <title>\n-              Stream LOB Support\n+                LOB Streaming\n             </title>\n-              <indexterm zone=\"ref_guide_streamsupport\">\n-                  <primary>\n-                      stream support\n-                  </primary>\n-              </indexterm>\n-              <indexterm zone=\"ref_guide_streamsupport\">\n-                  <primary>\n-                      stream lob support\n-                  </primary>\n-              </indexterm>\n-              <para>\n-Since the 1.1.0 release Apache OpenJPA added support for Streams. This feature\n-makes it possible to stream large amounts of data into and out of fields in\n-objects managed by OpenJPA without ever holding all the data in memory at the\n-same time.\n-              </para>\n-              <para>\n-To persist a stream, use the \n+            <indexterm zone=\"ref_guide_streamsupport\">\n+                <primary>\n+                    lob streaming\n+                </primary>\n+            </indexterm>\n+            <para>\n+Apart from handling LOBs in a standard JPA manner\n+(<classname>LOB</classname> annotation and <literal>lob</literal> XML element),\n+OpenJPA supports LOB streaming. This feature\n+makes it possible to stream large amounts of data into and out of persistent\n+field without ever holding all the data in memory at the same time.\n+            </para>\n+            <para>\n+LOB streaming is supported on the following databases.\n+            </para>\n+            <itemizedlist>\n+                <listitem>\n+                    <para>\n+MySQL\n+                    </para>\n+                </listitem>\n+                <listitem>\n+                    <para>\n+Oracle\n+                    </para>\n+                </listitem>\n+                <listitem>\n+                    <para>\n+PostgreSQL\n+                    </para>\n+                </listitem>\n+            </itemizedlist>\n+            <para>\n+See <xref linkend=\"supported_databases\"/> for possible database-specific\n+restrictions.\n+            </para>\n+            <para>\n+To persist a stream, apply the \n <ulink url=\"../javadoc/org/apache/openjpa/persistence/Persistent.html\">\n <classname>org.apache.openjpa.persistence.Persistent</classname></ulink> \n-annotation.\n-              </para>\n+annotation to either <classname>java.io.InputStream</classname> or\n+<classname>java.io.Reader</classname> field.\n+            </para>\n             <example id=\"ref_guide_streamsupport_example\">\n                 <title>\n-                    Showing annotated InputStream\n+                    Annotated InputStream and Reader\n                 </title>\n <programlisting>\n @Entity\n public class Employee {\n     ...\n     @Persistent\n     private InputStream photoStream;\n+\n+    @Persistent\n+    private Reader photoDescription;\n     ...\n } \n </programlisting>"},{"sha":"4f4aa85f36ea5cd392398c042a4f48f68dfc8632","filename":"openjpa-project/src/doc/manual/supported_databases.xml","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/apache/openjpa/blob/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb/openjpa-project/src/doc/manual/supported_databases.xml","raw_url":"https://github.com/apache/openjpa/raw/6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb/openjpa-project/src/doc/manual/supported_databases.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/supported_databases.xml?ref=6cee09c8c9ff17ce3b997f8116e186a9ca64d4fb","patch":"@@ -1238,6 +1238,13 @@ PostgreSQL cannot store very low and very high dates.\n Empty string/char values are stored as NULL.\n                     </para>\n                 </listitem>\n+                <listitem>\n+                    <para>\n+Persistent fields of type <classname>java.io.Reader</classname> are not\n+supported when using\n+<link linkend=\"ref_guide_streamsupport\">LOB streaming</link>.\n+                    </para>\n+                </listitem>\n             </itemizedlist>\n         </section>\n     </section>"}]}

