{"sha":"6cfe69e1980e79e11378c2511a664a700f94d2ff","node_id":"MDY6Q29tbWl0MjA2MzY0OjZjZmU2OWUxOTgwZTc5ZTExMzc4YzI1MTFhNjY0YTcwMGY5NGQyZmY=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-04-21T18:32:09Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-04-21T18:32:09Z"},"message":"No JIRA issue. Resolved an issue manifested in internal test suites with selection of CLOB field types in some projection select cases.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.1.x@650217 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"c042c75c756dc32029fd707a1494a5f4bb2b9260","url":"https://api.github.com/repos/apache/openjpa/git/trees/c042c75c756dc32029fd707a1494a5f4bb2b9260"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/6cfe69e1980e79e11378c2511a664a700f94d2ff","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/6cfe69e1980e79e11378c2511a664a700f94d2ff","html_url":"https://github.com/apache/openjpa/commit/6cfe69e1980e79e11378c2511a664a700f94d2ff","comments_url":"https://api.github.com/repos/apache/openjpa/commits/6cfe69e1980e79e11378c2511a664a700f94d2ff/comments","author":null,"committer":null,"parents":[{"sha":"abbc41eec57eec8ef1733ce4c60c7c413ee8315c","url":"https://api.github.com/repos/apache/openjpa/commits/abbc41eec57eec8ef1733ce4c60c7c413ee8315c","html_url":"https://github.com/apache/openjpa/commit/abbc41eec57eec8ef1733ce4c60c7c413ee8315c"}],"stats":{"total":3,"additions":2,"deletions":1},"files":[{"sha":"a36c1ed2d16a9cb742ec7be6f6378e1bf07ccbe1","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/meta/strats/HandlerFieldStrategy.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/6cfe69e1980e79e11378c2511a664a700f94d2ff/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/meta/strats/HandlerFieldStrategy.java","raw_url":"https://github.com/apache/openjpa/raw/6cfe69e1980e79e11378c2511a664a700f94d2ff/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/meta/strats/HandlerFieldStrategy.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/meta/strats/HandlerFieldStrategy.java?ref=6cfe69e1980e79e11378c2511a664a700f94d2ff","patch":"@@ -157,7 +157,8 @@ public int select(Select sel, OpenJPAStateManager sm, JDBCStore store,\n \n         if (sm != null && sm.getIntermediate(field.getIndex()) != null)\n             return -1;\n-        if (sel.isDistinct() && _lob && !field.isPrimaryKey())\n+        if (_lob && !field.isPrimaryKey() && (sel.isDistinct() ||\n+                eagerMode == JDBCFetchConfiguration.EAGER_NONE))\n             return -1;\n         sel.select(_cols, field.join(sel));\n         return 1;"}]}

