{"sha":"6e3aca63ec90da0198073a1697a556dbe493cbc2","node_id":"MDY6Q29tbWl0MjA2MzY0OjZlM2FjYTYzZWM5MGRhMDE5ODA3M2ExNjk3YTU1NmRiZTQ5M2NiYzI=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2008-07-16T03:55:45Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2008-07-16T03:55:45Z"},"message":"OPENJPA-349: Validate the row if auto-assigned identity happens to be only column.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@677145 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"7871e5d0a451b0b83282d1811fefa3719ff6dc61","url":"https://api.github.com/repos/apache/openjpa/git/trees/7871e5d0a451b0b83282d1811fefa3719ff6dc61"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/6e3aca63ec90da0198073a1697a556dbe493cbc2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/6e3aca63ec90da0198073a1697a556dbe493cbc2","html_url":"https://github.com/apache/openjpa/commit/6e3aca63ec90da0198073a1697a556dbe493cbc2","comments_url":"https://api.github.com/repos/apache/openjpa/commits/6e3aca63ec90da0198073a1697a556dbe493cbc2/comments","author":null,"committer":null,"parents":[{"sha":"89695ec253f59efcafe9aafb2d14afb6f6fc2edb","url":"https://api.github.com/repos/apache/openjpa/commits/89695ec253f59efcafe9aafb2d14afb6f6fc2edb","html_url":"https://github.com/apache/openjpa/commit/89695ec253f59efcafe9aafb2d14afb6f6fc2edb"}],"stats":{"total":5,"additions":4,"deletions":1},"files":[{"sha":"b59a47c531612cf92cf22d742f26a08e264bb62d","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/RowImpl.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/6e3aca63ec90da0198073a1697a556dbe493cbc2/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/RowImpl.java","raw_url":"https://github.com/apache/openjpa/raw/6e3aca63ec90da0198073a1697a556dbe493cbc2/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/RowImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/RowImpl.java?ref=6e3aca63ec90da0198073a1697a556dbe493cbc2","patch":"@@ -675,8 +675,11 @@ protected void setObject(Column col, Object val, int metaType,\n         throws SQLException {\n         // never set auto increment columns and honor column defaults\n         if (_action == ACTION_INSERT) {\n-            if (col.isAutoAssigned())\n+            if (col.isAutoAssigned()) {\n+            \t// OPENJPA-349: validate because this can be the only column\n+            \tsetValid(true);\n                 return;\n+            }\n             if (!overrideDefault && val == null \n                 && col.getDefaultString() != null)\n                 return;"}]}

