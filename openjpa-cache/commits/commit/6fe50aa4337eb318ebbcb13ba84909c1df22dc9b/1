{"sha":"6fe50aa4337eb318ebbcb13ba84909c1df22dc9b","node_id":"MDY6Q29tbWl0MjA2MzY0OjZmZTUwYWE0MzM3ZWIzMThlYmJjYjEzYmE4NDkwOWMxZGYyMmRjOWI=","commit":{"author":{"name":"David J. Wisneski","email":"wisneskid@apache.org","date":"2007-04-03T20:24:39Z"},"committer":{"name":"David J. Wisneski","email":"wisneskid@apache.org","date":"2007-04-03T20:24:39Z"},"message":"fix to OPENJPA-182 commit\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@525262 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"3a7c836f58737949deff9a5378595e540dc1ae92","url":"https://api.github.com/repos/apache/openjpa/git/trees/3a7c836f58737949deff9a5378595e540dc1ae92"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/6fe50aa4337eb318ebbcb13ba84909c1df22dc9b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/6fe50aa4337eb318ebbcb13ba84909c1df22dc9b","html_url":"https://github.com/apache/openjpa/commit/6fe50aa4337eb318ebbcb13ba84909c1df22dc9b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/6fe50aa4337eb318ebbcb13ba84909c1df22dc9b/comments","author":null,"committer":null,"parents":[{"sha":"4754f0921c4ee9b574e0c5c68b1c83854e9dd43d","url":"https://api.github.com/repos/apache/openjpa/commits/4754f0921c4ee9b574e0c5c68b1c83854e9dd43d","html_url":"https://github.com/apache/openjpa/commit/4754f0921c4ee9b574e0c5c68b1c83854e9dd43d"}],"stats":{"total":12,"additions":7,"deletions":5},"files":[{"sha":"77640bb47f265cefd7eecea45dbb54f53be94a79","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","status":"modified","additions":7,"deletions":5,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/6fe50aa4337eb318ebbcb13ba84909c1df22dc9b/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","raw_url":"https://github.com/apache/openjpa/raw/6fe50aa4337eb318ebbcb13ba84909c1df22dc9b/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java?ref=6fe50aa4337eb318ebbcb13ba84909c1df22dc9b","patch":"@@ -45,6 +45,8 @@\n     private static final String  useKeepUpdateLockClause= \"USE AND KEEP UPDATE LOCKS\";\r\n     private static final String  useKeepExclusiveLockClause=\"USE AND KEEP EXCLUSIVE LOCKS\";\r\n     private static final String  forReadOnlyClause = \"FOR READ ONLY\";\r\n+    public static final String UPDATE_HINT = \"openjpa.hint.updateClause\";\r\n+    public static final String ISOLATION_HINT = \"openjpa.hint.isolationLevel\";\r\n     public DB2Dictionary() {\r\n         platform = \"DB2\";\r\n         validationSQL = \"SELECT DISTINCT(CURRENT TIMESTAMP) FROM \"\r\n@@ -234,20 +236,20 @@ public String getForUpdateClause(JDBCFetchConfiguration fetch, boolean forUpdate\n         try {\r\n             // Determine the update clause/isolationLevel the hint \r\n             // overrides the persistence.xml value\r\n-            if (fetch != null && fetch.getHint(\"openjpa.hint.updateClause\")\r\n+            if (fetch != null && fetch.getHint(UPDATE_HINT)\r\n                 !=null )\r\n                 updateClause = ((Boolean)fetch.\r\n-                    getHint(\"openjpa.hint.updateClause\")).booleanValue();\r\n+                getHint(UPDATE_HINT)).booleanValue();\r\n             else \r\n                 updateClause = forUpdate;\r\n-            if (fetch != null &&fetch.getHint(\"openjpa.hint.isolationLevel\")\r\n+            if (fetch != null &&fetch.getHint(ISOLATION_HINT)\r\n                 !=null )\r\n                 isolationLevel = (String)fetch.\r\n-                    getHint(\"openjpa.hint.isolationLevel\");\r\n+                getHint(ISOLATION_HINT);\r\n             else \r\n                 isolationLevel = conf.getTransactionIsolation();\r\n             if (updateClause == false)\r\n-                //This sql is not for update so add FOR Read Only clause\r\n+                // This sql is not for update so add FOR Read Only clause\r\n                 forUpdateString.append(\" \").append(forReadOnlyClause)\r\n                     .append(\" \");\r\n             else if (updateClause == true){\r"}]}

