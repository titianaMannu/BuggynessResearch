{"sha":"703a2b9b600817f96ed3d7ba1024fabf50184dc9","node_id":"MDY6Q29tbWl0MjA2MzY0OjcwM2EyYjliNjAwODE3Zjk2ZWQzZDdiYTEwMjRmYWJmNTAxODRkYzk=","commit":{"author":{"name":"Fay Wang","email":"faywang@apache.org","date":"2008-10-22T22:12:37Z"},"committer":{"name":"Fay Wang","email":"faywang@apache.org","date":"2008-10-22T22:12:37Z"},"message":"OPENJPA-745: streamline the fix to be consistent with the fix\nin OPENJPA-750\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@707214 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"225c9368b32375345fa18d05bfa741e83baad615","url":"https://api.github.com/repos/apache/openjpa/git/trees/225c9368b32375345fa18d05bfa741e83baad615"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/703a2b9b600817f96ed3d7ba1024fabf50184dc9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/703a2b9b600817f96ed3d7ba1024fabf50184dc9","html_url":"https://github.com/apache/openjpa/commit/703a2b9b600817f96ed3d7ba1024fabf50184dc9","comments_url":"https://api.github.com/repos/apache/openjpa/commits/703a2b9b600817f96ed3d7ba1024fabf50184dc9/comments","author":null,"committer":null,"parents":[{"sha":"e23ea92319dd33ff98dc475f71e8d8a269926113","url":"https://api.github.com/repos/apache/openjpa/commits/e23ea92319dd33ff98dc475f71e8d8a269926113","html_url":"https://github.com/apache/openjpa/commit/e23ea92319dd33ff98dc475f71e8d8a269926113"}],"stats":{"total":17,"additions":4,"deletions":13},"files":[{"sha":"f3f85b7d35edc54459f81dca890f2d219d704086","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","status":"modified","additions":1,"deletions":3,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/703a2b9b600817f96ed3d7ba1024fabf50184dc9/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","raw_url":"https://github.com/apache/openjpa/raw/703a2b9b600817f96ed3d7ba1024fabf50184dc9/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java?ref=703a2b9b600817f96ed3d7ba1024fabf50184dc9","patch":"@@ -916,10 +916,8 @@ private void connect(boolean ref) {\n         try {\n             // connect if the connection is currently null, or if\n             // the connection has been closed out from under us\n-            if (_conn == null){\n+            if (_conn == null)\n                 _conn = connectInternal();\n-                _dict.initializeSettings(_conn);\n-            }\n             if (ref)\n                 _conn.ref();\n         } catch (SQLException se) {"},{"sha":"156512369e2e20397f70164ee14d9ad45f5c94df","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","status":"modified","additions":1,"deletions":5,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/703a2b9b600817f96ed3d7ba1024fabf50184dc9/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/703a2b9b600817f96ed3d7ba1024fabf50184dc9/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java?ref=703a2b9b600817f96ed3d7ba1024fabf50184dc9","patch":"@@ -4562,8 +4562,4 @@ final String checkNameLength(String name, int length, String msgKey) {\n     \t\t\t\tlength));\n     \treturn name;\n     }\n-    \n-    public void initializeSettings(Connection conn) \n-        throws SQLException {\n-    }\n-}\n+}\n\\ No newline at end of file"},{"sha":"81464d5dc75a7b7dfc0b0a10e6701e00a61446a0","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/SybaseDictionary.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/apache/openjpa/blob/703a2b9b600817f96ed3d7ba1024fabf50184dc9/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/SybaseDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/703a2b9b600817f96ed3d7ba1024fabf50184dc9/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/SybaseDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/SybaseDictionary.java?ref=703a2b9b600817f96ed3d7ba1024fabf50184dc9","patch":"@@ -266,11 +266,7 @@ public void endConfiguration() {\n \n     public Connection decorate(Connection conn)\n         throws SQLException {\n-        return new SybaseConnection(super.decorate(conn));\n-    }\n-    \n-    public void initializeSettings(Connection conn)\n-        throws SQLException {\n+        conn = super.decorate(conn);\n         // In order for Sybase to raise the truncation exception when the \n         // string length is greater than the column length for Char, VarChar, \n         // Binary, VarBinary, the \"set string_rtruncation on\" must be executed. \n@@ -281,6 +277,7 @@ public void initializeSettings(Connection conn)\n             stmnt.execute();\n             stmnt.close();\n         }\n+        return new SybaseConnection(conn);\n     }\n \n     /**"}]}

