{"sha":"72b5b4def8efa363969427f24d614d72905e648a","node_id":"MDY6Q29tbWl0MjA2MzY0OjcyYjViNGRlZjhlZmEzNjM5Njk0MjdmMjRkNjE0ZDcyOTA1ZTY0OGE=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2008-07-28T17:29:15Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2008-07-28T17:29:15Z"},"message":"OPENJAP-664: Check length constraint onIndex name, not on the table on which index is created\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@680413 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"dee09dd331dca4ffd10022b5039d138653a78861","url":"https://api.github.com/repos/apache/openjpa/git/trees/dee09dd331dca4ffd10022b5039d138653a78861"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/72b5b4def8efa363969427f24d614d72905e648a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/72b5b4def8efa363969427f24d614d72905e648a","html_url":"https://github.com/apache/openjpa/commit/72b5b4def8efa363969427f24d614d72905e648a","comments_url":"https://api.github.com/repos/apache/openjpa/commits/72b5b4def8efa363969427f24d614d72905e648a/comments","author":null,"committer":null,"parents":[{"sha":"2254791f9b374a141a09782c1ee06bdee567e923","url":"https://api.github.com/repos/apache/openjpa/commits/2254791f9b374a141a09782c1ee06bdee567e923","html_url":"https://github.com/apache/openjpa/commit/2254791f9b374a141a09782c1ee06bdee567e923"}],"stats":{"total":8,"additions":4,"deletions":4},"files":[{"sha":"aa447ecec2450f1f47343537706b94c9962144b7","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/apache/openjpa/blob/72b5b4def8efa363969427f24d614d72905e648a/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/72b5b4def8efa363969427f24d614d72905e648a/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java?ref=72b5b4def8efa363969427f24d614d72905e648a","patch":"@@ -3165,10 +3165,10 @@ protected StringBuffer comment(StringBuffer buf, String comment) {\n         buf.append(\"CREATE \");\n         if (index.isUnique())\n             buf.append(\"UNIQUE \");\n-        buf.append(\"INDEX \").append(index.getName());\n-        String indexName = checkNameLength(getFullName(index.getTable(), false), \n-        \t\tmaxIndexNameLength, \"long-index-name\");\n-        buf.append(\" ON \").append(indexName);\n+        String indexName = checkNameLength(index.getName(), maxIndexNameLength, \n+                \"long-index-name\");\n+        buf.append(\"INDEX \").append(indexName);\n+        buf.append(\" ON \").append(getFullName(index.getTable(), false));\n         buf.append(\" (\").append(Strings.join(index.getColumns(), \", \")).\n             append(\")\");\n "}]}

