{"sha":"77b7ced1d511a8a73a053bf8f3eb171be05fc2cb","node_id":"MDY6Q29tbWl0MjA2MzY0Ojc3YjdjZWQxZDUxMWE4YTczYTA1M2JmOGYzZWIxNzFiZTA1ZmMyY2I=","commit":{"author":{"name":"Milosz Tylenda","email":"mtylenda@apache.org","date":"2011-04-19T20:07:05Z"},"committer":{"name":"Milosz Tylenda","email":"mtylenda@apache.org","date":"2011-04-19T20:07:05Z"},"message":"OPENJPA-1932: Documentation update: Extract entity locking to a new section and add missing lock modes defined in JPA 2.0.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@1095186 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"305057a49367f21942c411371e9360391a61755f","url":"https://api.github.com/repos/apache/openjpa/git/trees/305057a49367f21942c411371e9360391a61755f"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/77b7ced1d511a8a73a053bf8f3eb171be05fc2cb","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/77b7ced1d511a8a73a053bf8f3eb171be05fc2cb","html_url":"https://github.com/apache/openjpa/commit/77b7ced1d511a8a73a053bf8f3eb171be05fc2cb","comments_url":"https://api.github.com/repos/apache/openjpa/commits/77b7ced1d511a8a73a053bf8f3eb171be05fc2cb/comments","author":null,"committer":null,"parents":[{"sha":"c2b3e11a7873aada889b81099794d641328ade34","url":"https://api.github.com/repos/apache/openjpa/commits/c2b3e11a7873aada889b81099794d641328ade34","html_url":"https://github.com/apache/openjpa/commit/c2b3e11a7873aada889b81099794d641328ade34"}],"stats":{"total":154,"additions":107,"deletions":47},"files":[{"sha":"416a333da0365dadc4ad304a72d5272e0fc6f21a","filename":"openjpa-project/src/doc/manual/jpa_overview_em.xml","status":"modified","additions":107,"deletions":47,"changes":154,"blob_url":"https://github.com/apache/openjpa/blob/77b7ced1d511a8a73a053bf8f3eb171be05fc2cb/openjpa-project/src/doc/manual/jpa_overview_em.xml","raw_url":"https://github.com/apache/openjpa/raw/77b7ced1d511a8a73a053bf8f3eb171be05fc2cb/openjpa-project/src/doc/manual/jpa_overview_em.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/jpa_overview_em.xml?ref=77b7ced1d511a8a73a053bf8f3eb171be05fc2cb","patch":"@@ -494,53 +494,6 @@ whose <link linkend=\"jpa_overview_meta_cascade\">cascades</link> include\n                 </para>\n             </listitem>\n         </itemizedlist>\n-<programlisting>\n-public void lock(Object entity, LockModeType mode);\n-</programlisting>\n-        <para>\n-        <indexterm>\n-            <primary>\n-                EntityManager\n-            </primary>\n-            <secondary>\n-                lock\n-            </secondary>\n-        </indexterm>\n-        <indexterm>\n-            <primary>\n-                locking\n-            </primary>\n-            <seealso>\n-                EntityManager\n-            </seealso>\n-        </indexterm>\n-This method locks the given entity using the named mode. The\n-<ulink url=\"http://download.oracle.com/javaee/6/api/javax/persistence/LockModeType.html\">\n-<classname>javax.persistence.LockModeType</classname></ulink> enum defines two\n-modes:\n-        </para>\n-        <itemizedlist>\n-            <listitem>\n-                <para>\n-<literal>READ</literal>: Other transactions may concurrently read the object,\n-but cannot concurrently update it.\n-                </para>\n-            </listitem>\n-            <listitem>\n-                <para>\n-<literal>WRITE</literal>: Other transactions cannot concurrently read or write\n-the object. When a transaction is committed that holds WRITE locks on any\n-entities, those entities will have their version incremented even if the entities\n-themselves did not change in the transaction.\n-                </para>\n-            </listitem>\n-        </itemizedlist>\n-        <note>\n-            <para>\n-OpenJPA has additional APIs for controlling object locking. See\n-<xref linkend=\"ref_guide_locking\"/> in the Reference Guide for details.\n-            </para>\n-        </note>\n         <para>\n The following diagram illustrates the lifecycle of an entity with respect to the\n APIs presented in this section.\n@@ -1025,6 +978,113 @@ language. For relational databases, this is the Structured Query Language (SQL).\n native query support.\n         </para>\n     </section>\n+    <section id=\"jpa_overview_em_locking\">\n+        <title>\n+            Entity Locking\n+        </title>\n+        <indexterm zone=\"jpa_overview_em_locking\">\n+            <primary>\n+                EntityManager\n+            </primary>\n+            <secondary>\n+                locking\n+            </secondary>\n+        </indexterm>\n+<programlisting>\n+public void lock(Object entity, LockModeType mode);\n+</programlisting>\n+        <para>\n+        <indexterm>\n+            <primary>\n+                EntityManager\n+            </primary>\n+            <secondary>\n+                lock\n+            </secondary>\n+        </indexterm>\n+        <indexterm>\n+            <primary>\n+                locking\n+            </primary>\n+            <seealso>\n+                EntityManager\n+            </seealso>\n+        </indexterm>\n+This method locks the given entity using the named mode. The\n+<ulink url=\"http://download.oracle.com/javaee/6/api/javax/persistence/LockModeType.html\">\n+<classname>javax.persistence.LockModeType</classname></ulink> enum defines eight\n+modes:\n+        </para>\n+        <itemizedlist>\n+            <listitem>\n+                <para>\n+<literal>OPTIMISTIC</literal>: Optimistic locking.\n+                </para>\n+            </listitem>\n+            <listitem>\n+                <para>\n+<literal>OPTIMISTIC_FORCE_INCREMENT</literal>: Optimistic locking.\n+When a transaction is committed, the entity's version column\n+will be incremented even if the entity's state did not change in the transaction.\n+                </para>\n+            </listitem>\n+            <listitem>\n+                <para>\n+<literal>PESSIMISTIC_READ</literal>: Pessimistic locking. Other transactions\n+may concurrently read the entity, but cannot concurrently update it.\n+                </para>\n+            </listitem>\n+            <listitem>\n+                <para>\n+<literal>PESSIMISTIC_WRITE</literal>: Pessimistic locking. Other transactions\n+cannot concurrently read or write the entity.\n+                </para>\n+            </listitem>\n+            <listitem>\n+                <para>\n+<literal>PESSIMISTIC_FORCE_INCREMENT</literal>: Pessimistic locking. Other transactions\n+cannot concurrently read or write the entity. \n+When a transaction is committed, the entity's version column\n+will be incremented even if the entity's state did not change in the transaction.\n+                </para>\n+            </listitem>\n+            <listitem>\n+                <para>\n+<literal>READ</literal>: A synonym for <literal>OPTIMISTIC</literal>.\n+                </para>\n+            </listitem>\n+            <listitem>\n+                <para>\n+<literal>WRITE</literal>: A synonym for <literal>OPTIMISTIC_FORCE_INCREMENT</literal>.\n+                </para>\n+            </listitem>\n+            <listitem>\n+                <para>\n+<literal>NONE</literal>: No locking is performed.\n+                </para>\n+            </listitem>\n+        </itemizedlist>\n+        <note>\n+        <itemizedlist>\n+            <listitem>\n+                <para>\n+OpenJPA differentiates between <literal>PESSIMISTIC_READ</literal> and\n+<literal>PESSIMISTIC_WRITE</literal> lock modes only with DB2 databases.\n+While running with other databases, there is no distinction between these\n+two modes because\n+<literal>PESSIMISTIC_READ</literal> lock mode\n+is upgraded to <literal>PESSIMISTIC_WRITE</literal>.\n+                </para>\n+            </listitem>\n+            <listitem>\n+                <para>\n+OpenJPA has additional APIs for controlling entity locking. See\n+<xref linkend=\"ref_guide_locking\"/> in the Reference Guide for details.\n+                </para>\n+            </listitem>\n+        </itemizedlist>\n+        </note>\n+    </section>\n     <section id=\"jpa_overview_em_properties\">\n \t\t<title>\n \t\t\tRetrieving Properties Information"}]}

