{"sha":"7a74bedd70382da65b0e63170bde3158a29a2fe2","node_id":"MDY6Q29tbWl0MjA2MzY0OjdhNzRiZWRkNzAzODJkYTY1YjBlNjMxNzBiZGUzMTU4YTI5YTJmZTI=","commit":{"author":{"name":"A. Abram White","email":"awhite@apache.org","date":"2006-09-22T00:52:08Z"},"committer":{"name":"A. Abram White","email":"awhite@apache.org","date":"2006-09-22T00:52:08Z"},"message":"fix JDBC Abs query function's return type.\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@448757 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"6b645f868b363b32ba8ace95f23cd5104506d747","url":"https://api.github.com/repos/apache/openjpa/git/trees/6b645f868b363b32ba8ace95f23cd5104506d747"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/7a74bedd70382da65b0e63170bde3158a29a2fe2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/7a74bedd70382da65b0e63170bde3158a29a2fe2","html_url":"https://github.com/apache/openjpa/commit/7a74bedd70382da65b0e63170bde3158a29a2fe2","comments_url":"https://api.github.com/repos/apache/openjpa/commits/7a74bedd70382da65b0e63170bde3158a29a2fe2/comments","author":null,"committer":null,"parents":[{"sha":"d090d717f457135a1ba4b86f00b24b04e743d56f","url":"https://api.github.com/repos/apache/openjpa/commits/d090d717f457135a1ba4b86f00b24b04e743d56f","html_url":"https://github.com/apache/openjpa/commit/d090d717f457135a1ba4b86f00b24b04e743d56f"}],"stats":{"total":13,"additions":9,"deletions":4},"files":[{"sha":"71443755bc82010b18feebe58860004327209ee7","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/Abs.java","status":"modified","additions":8,"deletions":2,"changes":10,"blob_url":"https://github.com/apache/openjpa/blob/7a74bedd70382da65b0e63170bde3158a29a2fe2/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/Abs.java","raw_url":"https://github.com/apache/openjpa/raw/7a74bedd70382da65b0e63170bde3158a29a2fe2/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/Abs.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/Abs.java?ref=7a74bedd70382da65b0e63170bde3158a29a2fe2","patch":"@@ -34,8 +34,14 @@ public Abs(Val val) {\n     }\n \n     protected Class getType(Class c) {\n-        if (c == Long.class || c == long.class)\n-            return long.class;\n+        Class wrap = Filters.wrap(c);\n+        if (wrap == Integer.class\n+            || wrap == Float.class\n+            || wrap == Double.class\n+            || wrap == Long.class\n+            || wrap == BigDecimal.class\n+            || wrap == BigInteger.class)\n+            return Filters.unwrap(c);\n         return int.class;\n     }\n "},{"sha":"4f2f04ecf21bd4918b10407ab0b79476f5af3ed6","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/Param.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/7a74bedd70382da65b0e63170bde3158a29a2fe2/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/Param.java","raw_url":"https://github.com/apache/openjpa/raw/7a74bedd70382da65b0e63170bde3158a29a2fe2/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/Param.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/exps/Param.java?ref=7a74bedd70382da65b0e63170bde3158a29a2fe2","patch":"@@ -62,8 +62,7 @@ public Class getType() {\n \n     public void setImplicitType(Class type) {\n         _type = type;\n-        _container = (getMetaData() == null ||\n-            !ImplHelper.isManagedType(type))\n+        _container = (getMetaData() == null || !ImplHelper.isManagedType(type))\n             && (Collection.class.isAssignableFrom(type)\n             || Map.class.isAssignableFrom(type));\n     }"}]}

