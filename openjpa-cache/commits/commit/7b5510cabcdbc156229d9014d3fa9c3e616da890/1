{"sha":"7b5510cabcdbc156229d9014d3fa9c3e616da890","node_id":"MDY6Q29tbWl0MjA2MzY0OjdiNTUxMGNhYmNkYmMxNTYyMjlkOTAxNGQzZmE5YzNlNjE2ZGE4OTA=","commit":{"author":{"name":"Fay Wang","email":"faywang@apache.org","date":"2009-02-04T17:24:35Z"},"committer":{"name":"Fay Wang","email":"faywang@apache.org","date":"2009-02-04T17:24:35Z"},"message":"OPENJPA-873: check in test case\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@740802 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2b4793a70a2266a68b8f49ee15918b04faa5be5d","url":"https://api.github.com/repos/apache/openjpa/git/trees/2b4793a70a2266a68b8f49ee15918b04faa5be5d"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/7b5510cabcdbc156229d9014d3fa9c3e616da890","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/7b5510cabcdbc156229d9014d3fa9c3e616da890","html_url":"https://github.com/apache/openjpa/commit/7b5510cabcdbc156229d9014d3fa9c3e616da890","comments_url":"https://api.github.com/repos/apache/openjpa/commits/7b5510cabcdbc156229d9014d3fa9c3e616da890/comments","author":null,"committer":null,"parents":[{"sha":"4d5a6c5e562e7afa4305703807a9b67bd74688eb","url":"https://api.github.com/repos/apache/openjpa/commits/4d5a6c5e562e7afa4305703807a9b67bd74688eb","html_url":"https://github.com/apache/openjpa/commit/4d5a6c5e562e7afa4305703807a9b67bd74688eb"}],"stats":{"total":311,"additions":311,"deletions":0},"files":[{"sha":"082752f4e7c02116941262960f3871dbc6840780","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/BaseEntity.java","status":"added","additions":34,"deletions":0,"changes":34,"blob_url":"https://github.com/apache/openjpa/blob/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/BaseEntity.java","raw_url":"https://github.com/apache/openjpa/raw/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/BaseEntity.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/BaseEntity.java?ref=7b5510cabcdbc156229d9014d3fa9c3e616da890","patch":"@@ -0,0 +1,34 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+package org.apache.openjpa.persistence.inheritance.mappedsuperclass;\r\n+\r\n+\r\n+/**\r\n+ * Entity used to test MappedSuperClass which does not have IdClass. \r\n+ * \r\n+ * Test case and domain classes were originally part of the reported issue\r\n+ * <A href=\"https://issues.apache.org/jira/browse/OPENJPA-873\">OPENJPA-873</A>\r\n+ *  \r\n+ * @author pioneer_ip@yahoo.com\r\n+ * @author Fay Wang\r\n+ *\r\n+ */\r\n+public class BaseEntity {\r\n+\r\n+}\r"},{"sha":"8d332c57238130d58a51fb3fa6ad5b921212edfb","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/CashBaseEntity.java","status":"added","additions":89,"deletions":0,"changes":89,"blob_url":"https://github.com/apache/openjpa/blob/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/CashBaseEntity.java","raw_url":"https://github.com/apache/openjpa/raw/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/CashBaseEntity.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/CashBaseEntity.java?ref=7b5510cabcdbc156229d9014d3fa9c3e616da890","patch":"@@ -0,0 +1,89 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+package org.apache.openjpa.persistence.inheritance.mappedsuperclass;\r\n+\r\n+import java.util.Date;\r\n+\r\n+import javax.persistence.*;\r\n+\r\n+/**\r\n+ * Entity used to test MappedSuperClass which does not have IdClass. \r\n+ * \r\n+ * Test case and domain classes were originally part of the reported issue\r\n+ * <A href=\"https://issues.apache.org/jira/browse/OPENJPA-873\">OPENJPA-873</A>\r\n+ *  \r\n+ * @author pioneer_ip@yahoo.com\r\n+ * @author Fay Wang\r\n+ *\r\n+ */\r\n+\r\n+@MappedSuperclass\r\n+public abstract class CashBaseEntity extends BaseEntity{\r\n+    @Column(name=\"TRCCRUI\")\r\n+    private String createUser;\r\n+\r\n+    @Column(name=\"TRCCRTS\")\r\n+    private Date createTime;\r\n+\r\n+    @Column(name=\"TRCLUUID\")\r\n+    private String updateUser;\r\n+\r\n+    @Column(name=\"TRCLUTS\")\r\n+    private Date updateTime;\r\n+\r\n+    @Version\r\n+    @Column(name=\"TRCVER\")\r\n+    private int version;\r\n+\r\n+    public String getCreateUser() {\r\n+        return createUser;\r\n+    }\r\n+    \r\n+    public void setCreateUser(String createUser) {\r\n+        this.createUser = createUser;\r\n+    }\r\n+    \r\n+    public Date getCreateTime() {\r\n+        return createTime;\r\n+    }\r\n+    \r\n+    public void setCreateTime(Date createTime) {\r\n+        this.createTime = createTime;\r\n+    }\r\n+    \r\n+    public String getUpdateUser() {\r\n+        return updateUser;\r\n+    }\r\n+    \r\n+    public void setUpdateUser(String updateUser) {\r\n+        this.updateUser = updateUser;\r\n+    }\r\n+\r\n+    public int getVersion() {\r\n+        return version;\r\n+    }\r\n+    \r\n+    public Date getUpdateTime() {\r\n+        return updateTime;\r\n+    }\r\n+    \r\n+    public void setUpdateTime(Date updateTime) {\r\n+        this.updateTime = updateTime;\r\n+    }\r\n+}\r"},{"sha":"764011160252eb1dba752bbce3a5f3a23bb32dd6","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/SituationDA.java","status":"added","additions":92,"deletions":0,"changes":92,"blob_url":"https://github.com/apache/openjpa/blob/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/SituationDA.java","raw_url":"https://github.com/apache/openjpa/raw/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/SituationDA.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/SituationDA.java?ref=7b5510cabcdbc156229d9014d3fa9c3e616da890","patch":"@@ -0,0 +1,92 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+package org.apache.openjpa.persistence.inheritance.mappedsuperclass;\r\n+\r\n+import javax.persistence.*;\r\n+\r\n+/**\r\n+ * Entity used to test MappedSuperClass which does not have IdClass. \r\n+ * \r\n+ * Test case and domain classes were originally part of the reported issue\r\n+ * <A href=\"https://issues.apache.org/jira/browse/OPENJPA-873\">OPENJPA-873</A>\r\n+ *  \r\n+ * @author pioneer_ip@yahoo.com\r\n+ * @author Fay Wang\r\n+ *\r\n+ */\r\n+\r\n+@Entity\r\n+@Table (name = \"cc2SITUATION\")\r\n+@IdClass(SituationDA.SituationId.class)\r\n+public class SituationDA extends CashBaseEntity {\r\n+   \r\n+    @Id\r\n+    @Column(name=\"C2008SRL\")\r\n+    private String cashBoxPeriodSerial;\r\n+   \r\n+    @Id\r\n+    @Column(name=\"C2012TYPE\")\r\n+    private short type;\r\n+    \r\n+    public static class SituationId implements java.io.Serializable{\r\n+        private static final long serialVersionUID = 1L;\r\n+        private String cashBoxPeriodSerial;\r\n+        private short type;\r\n+       \r\n+        public SituationId(){}\r\n+        \r\n+        public SituationId(String cashBoxPeriodSerial, short type){\r\n+            this.cashBoxPeriodSerial = cashBoxPeriodSerial;\r\n+            this.type = type;\r\n+        }\r\n+        \r\n+        \r\n+        public boolean equals(Object other){\r\n+            if (other instanceof SituationId) {\r\n+                final SituationId otherId = (SituationId)other;\r\n+                return ( otherId.cashBoxPeriodSerial.equals(\r\n+                    this.cashBoxPeriodSerial) && otherId.type == this.type );\r\n+                }\r\n+                return false;   \r\n+        }\r\n+       \r\n+        public int hashCode() {\r\n+            return super.hashCode();\r\n+        }\r\n+    }\r\n+    \r\n+    public short getType() {\r\n+        return type;\r\n+    }\r\n+    \r\n+    public void setType(short type) {\r\n+        this.type = type;\r\n+    }\r\n+    \r\n+    public String getCashBoxPeriodSerial() {\r\n+        return cashBoxPeriodSerial;\r\n+    }\r\n+    \r\n+    public void setCashBoxPeriodSerial(String cashBoxPeriodSerial) {\r\n+        this.cashBoxPeriodSerial = cashBoxPeriodSerial;\r\n+    }\r\n+    \r\n+}\r\n+\r\n+\r"},{"sha":"6c298d661787fcb82f6e85ebc30dd70adaa3fe1c","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/TestMappedSuperClass.java","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/apache/openjpa/blob/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/TestMappedSuperClass.java","raw_url":"https://github.com/apache/openjpa/raw/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/TestMappedSuperClass.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/TestMappedSuperClass.java?ref=7b5510cabcdbc156229d9014d3fa9c3e616da890","patch":"@@ -0,0 +1,49 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+package org.apache.openjpa.persistence.inheritance.mappedsuperclass;\r\n+\r\n+import javax.persistence.EntityManager;\r\n+\r\n+import org.apache.openjpa.persistence.test.SingleEMFTestCase;\r\n+\r\n+/**\r\n+ * Test case and domain classes were originally part of the reported issue\r\n+ * <A href=\"https://issues.apache.org/jira/browse/OPENJPA-873\">OPENJPA-873</A>\r\n+ *  \r\n+ * @author pioneer_ip@yahoo.com\r\n+ * @author Fay Wang\r\n+ *\r\n+ */\r\n+public class TestMappedSuperClass extends SingleEMFTestCase {\r\n+\r\n+    public void setUp() {\r\n+        setUp(CashBaseEntity.class, \r\n+              SituationDA.class, ValuableItemDA.class);\r\n+    }\r\n+\r\n+    public void testMappedSuperClass() {\r\n+        EntityManager em = emf.createEntityManager();\r\n+        em.getTransaction().begin();\r\n+        SituationDA s = new SituationDA();\r\n+        s.setCashBoxPeriodSerial(\"test\");\r\n+        s.setType((short)1);\r\n+        em.persist(s);\r\n+        em.getTransaction().commit();\r\n+    }\r\n+}\r"},{"sha":"98675d2adf4f04922440dd51b1cddfcd06a23638","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/ValuableItemDA.java","status":"added","additions":47,"deletions":0,"changes":47,"blob_url":"https://github.com/apache/openjpa/blob/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/ValuableItemDA.java","raw_url":"https://github.com/apache/openjpa/raw/7b5510cabcdbc156229d9014d3fa9c3e616da890/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/ValuableItemDA.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/inheritance/mappedsuperclass/ValuableItemDA.java?ref=7b5510cabcdbc156229d9014d3fa9c3e616da890","patch":"@@ -0,0 +1,47 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+package org.apache.openjpa.persistence.inheritance.mappedsuperclass;\r\n+\r\n+import javax.persistence.*;\r\n+\r\n+/**\r\n+ * Entity used to test MappedSuperClass which does not have IdClass. \r\n+ * \r\n+ * Test case and domain classes were originally part of the reported issue\r\n+ * <A href=\"https://issues.apache.org/jira/browse/OPENJPA-873\">OPENJPA-873</A>\r\n+ *  \r\n+ * @author pioneer_ip@yahoo.com\r\n+ * @author Fay Wang\r\n+ *\r\n+ */\r\n+@Entity\r\n+@Table (name = \"CF2VLUITEM\")\r\n+public class ValuableItemDA extends CashBaseEntity {\r\n+    @Id\r\n+    @Column(name=\"C2001COD\")\r\n+    private short code;\r\n+\r\n+    public void setCode(short code) {\r\n+        this.code = code;\r\n+    }\r\n+    \r\n+    public short getCode() {\r\n+        return code;\r\n+    }\r\n+}\n\\ No newline at end of file"}]}

