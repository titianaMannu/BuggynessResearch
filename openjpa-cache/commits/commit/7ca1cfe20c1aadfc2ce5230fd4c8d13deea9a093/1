{"sha":"7ca1cfe20c1aadfc2ce5230fd4c8d13deea9a093","node_id":"MDY6Q29tbWl0MjA2MzY0OjdjYTFjZmUyMGMxYWFkZmMyY2U1MjMwZmQ0YzhkMTNkZWVhOWEwOTM=","commit":{"author":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2008-02-14T05:43:22Z"},"committer":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2008-02-14T05:43:22Z"},"message":"Enable PersisentProviderImpl subclass to override the default BrokerImpl alias if none is defined in application.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@627668 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"4c74d4f8782d4467c9e01a24392318327a1aa4e2","url":"https://api.github.com/repos/apache/openjpa/git/trees/4c74d4f8782d4467c9e01a24392318327a1aa4e2"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/7ca1cfe20c1aadfc2ce5230fd4c8d13deea9a093","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/7ca1cfe20c1aadfc2ce5230fd4c8d13deea9a093","html_url":"https://github.com/apache/openjpa/commit/7ca1cfe20c1aadfc2ce5230fd4c8d13deea9a093","comments_url":"https://api.github.com/repos/apache/openjpa/commits/7ca1cfe20c1aadfc2ce5230fd4c8d13deea9a093/comments","author":null,"committer":null,"parents":[{"sha":"68f25ced8476904f212e35ace817b706cb4ba453","url":"https://api.github.com/repos/apache/openjpa/commits/68f25ced8476904f212e35ace817b706cb4ba453","html_url":"https://github.com/apache/openjpa/commit/68f25ced8476904f212e35ace817b706cb4ba453"}],"stats":{"total":11,"additions":10,"deletions":1},"files":[{"sha":"b0974da499654dd87cfee8b911f42a3c1befffaa","filename":"openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","status":"modified","additions":10,"deletions":1,"changes":11,"blob_url":"https://github.com/apache/openjpa/blob/7ca1cfe20c1aadfc2ce5230fd4c8d13deea9a093/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","raw_url":"https://github.com/apache/openjpa/raw/7ca1cfe20c1aadfc2ce5230fd4c8d13deea9a093/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java?ref=7ca1cfe20c1aadfc2ce5230fd4c8d13deea9a093","patch":"@@ -136,7 +136,7 @@ public OpenJPAEntityManagerFactory createContainerEntityManagerFactory(\n             if (!Configurations.containsProperty(BrokerValue.KEY,\n                 cp.getProperties())) {\n                 cp.addProperty(\"openjpa.\" + BrokerValue.KEY, \n-                    BrokerValue.NON_FINALIZING_ALIAS);\n+                    getDefaultBrokerAlias());\n             }\n \n             BrokerFactory factory = getBrokerFactory(cp, poolValue,\n@@ -158,6 +158,15 @@ public OpenJPAEntityManagerFactory createContainerEntityManagerFactory(\n             throw PersistenceExceptions.toPersistenceException(e);\n         }\n     }\n+\n+    /*\n+     * Returns a default Broker alias to be used when no openjpa.BrokerImpl\n+     *  is specified. This method allows PersistenceProvider subclass to\n+     *  override the default broker alias.\n+     */\n+    protected String getDefaultBrokerAlias() {\n+        return BrokerValue.NON_FINALIZING_ALIAS;\n+    }\n     \n     /**\n      * Java EE 5 class transformer."}]}

