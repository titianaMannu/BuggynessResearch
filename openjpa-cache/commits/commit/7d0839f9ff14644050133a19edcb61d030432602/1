{"sha":"7d0839f9ff14644050133a19edcb61d030432602","node_id":"MDY6Q29tbWl0MjA2MzY0OjdkMDgzOWY5ZmYxNDY0NDA1MDEzM2ExOWVkY2I2MWQwMzA0MzI2MDI=","commit":{"author":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2007-02-11T02:35:33Z"},"committer":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2007-02-11T02:35:33Z"},"message":"Added extra debugging logic to make sure the default company featureSelection deserailizes from the companies.xml file.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@505825 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"1d435223bb4d65f8ac577b9baf2e76f8c5695f7b","url":"https://api.github.com/repos/apache/openjpa/git/trees/1d435223bb4d65f8ac577b9baf2e76f8c5695f7b"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/7d0839f9ff14644050133a19edcb61d030432602","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/7d0839f9ff14644050133a19edcb61d030432602","html_url":"https://github.com/apache/openjpa/commit/7d0839f9ff14644050133a19edcb61d030432602","comments_url":"https://api.github.com/repos/apache/openjpa/commits/7d0839f9ff14644050133a19edcb61d030432602/comments","author":null,"committer":null,"parents":[{"sha":"ecf428bd69d9c31f08ae3f8dc9cca5573a3ce2bc","url":"https://api.github.com/repos/apache/openjpa/commits/ecf428bd69d9c31f08ae3f8dc9cca5573a3ce2bc","html_url":"https://github.com/apache/openjpa/commit/ecf428bd69d9c31f08ae3f8dc9cca5573a3ce2bc"}],"stats":{"total":16,"additions":13,"deletions":3},"files":[{"sha":"73d41a7b4b4701427c405a07bb3805f1e88eca61","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/CompanyModelTest.java","status":"modified","additions":13,"deletions":3,"changes":16,"blob_url":"https://github.com/apache/openjpa/blob/7d0839f9ff14644050133a19edcb61d030432602/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/CompanyModelTest.java","raw_url":"https://github.com/apache/openjpa/raw/7d0839f9ff14644050133a19edcb61d030432602/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/CompanyModelTest.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/CompanyModelTest.java?ref=7d0839f9ff14644050133a19edcb61d030432602","patch":"@@ -180,9 +180,19 @@ void checkModel() {\n             // the classes statically\n             factoryClasses = impls;\n             try {\n-                Collection obs = (Collection) new XMLDecoder\n-                    (CompanyModelTest.class.\n-                        getResourceAsStream(\"companies.xml\")).readObject();\n+                final List<Exception> exceptions = new LinkedList<Exception>();\n+                XMLDecoder decoder = new XMLDecoder(CompanyModelTest.class.\n+                    getResourceAsStream(\"companies.xml\"));\n+                decoder.setExceptionListener(new ExceptionListener() {\n+                    public void exceptionThrown(Exception e) {\n+                        exceptions.add(e);\n+                    }\n+                });\n+                Collection obs = (Collection) decoder.readObject();\n+\n+                if (exceptions.size() > 0) {\n+                    throw new IllegalStateException(exceptions.get(0));\n+                }\n \n                 assertNotNull(obs);\n "}]}

