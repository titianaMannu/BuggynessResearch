{"sha":"7f523e0ba9a8b62339868a0a7b22f4509e450a72","node_id":"MDY6Q29tbWl0MjA2MzY0OjdmNTIzZTBiYTlhOGI2MjMzOTg2OGEwYTdiMjJmNDUwOWU0NTBhNzI=","commit":{"author":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2007-02-09T03:51:48Z"},"committer":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2007-02-09T03:51:48Z"},"message":"Changes to deal with never version of the TCK.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@505161 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"4d1c2f8d660b52149c7cb7272a32af5adfd7b7b7","url":"https://api.github.com/repos/apache/openjpa/git/trees/4d1c2f8d660b52149c7cb7272a32af5adfd7b7b7"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/7f523e0ba9a8b62339868a0a7b22f4509e450a72","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/7f523e0ba9a8b62339868a0a7b22f4509e450a72","html_url":"https://github.com/apache/openjpa/commit/7f523e0ba9a8b62339868a0a7b22f4509e450a72","comments_url":"https://api.github.com/repos/apache/openjpa/commits/7f523e0ba9a8b62339868a0a7b22f4509e450a72/comments","author":null,"committer":null,"parents":[{"sha":"02f2cedb734be0d4f9b4b340359544fd7707e477","url":"https://api.github.com/repos/apache/openjpa/commits/02f2cedb734be0d4f9b4b340359544fd7707e477","html_url":"https://github.com/apache/openjpa/commit/02f2cedb734be0d4f9b4b340359544fd7707e477"}],"stats":{"total":21,"additions":8,"deletions":13},"files":[{"sha":"784fdab5875590a36c7d6c2ba763fd8199e8a03b","filename":"openjpa-integration/tck/pom.xml","status":"modified","additions":8,"deletions":13,"changes":21,"blob_url":"https://github.com/apache/openjpa/blob/7f523e0ba9a8b62339868a0a7b22f4509e450a72/openjpa-integration/tck/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/7f523e0ba9a8b62339868a0a7b22f4509e450a72/openjpa-integration/tck/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/tck/pom.xml?ref=7f523e0ba9a8b62339868a0a7b22f4509e450a72","patch":"@@ -68,32 +68,22 @@\n                         <property name=\"tck.zip\" value=\n                             \"${settings.localRepository}/../privaterepos/jpa-1_0a-tck.zip\"/>\n \n-                        <!-- patch from Anderson for mappedBy bug -->\n-                        <property name=\"tck.patch\" value=\n-                            \"${settings.localRepository}/../privaterepos/jpa-tck-inheritance-mappedBy.jar\"/>\n-\n                         <available property=\"tck.available\" file=\"${tck.zip}\"/>\n-                        <fail unless=\"tck.available\">The TCK file ${tck.zip} does not exist. This file must be downloaded separately in order to be able to run the JPA TCK</fail>\n-\n-                        <available property=\"tck.patch.available\" file=\"${tck.patch}\"/>\n-                        <fail unless=\"tck.patch.available\">The TCK patch ${tck.patch} does not exist. This file must be downloaded separately in order to be able to run the JPA TCK</fail>\n+                        <fail unless=\"tck.available\">The TCK file specific in the \"tck.zip\" system property (${tck.zip}) does not exist. This file must be downloaded separately in order to be able to run the JPA TCK</fail>\n \n                         <property name=\"tck.base\"\n                             value=\"${basedir}/target/tck\"/>\n                         <property name=\"tck.dir\" value=\"${tck.base}/jpatck\"/>\n \n                         <path id=\"cp\">\n                             <path refid=\"maven.compile.classpath\"/>\n+                            <pathelement path=\"${java.class.path}\"/>\n                         </path>\n                         <pathconvert property=\"cp.property\" refid=\"cp\"/>\n \n                         <unzip overwrite=\"false\"\n                             src=\"${tck.zip}\" dest=\"${tck.base}\"/>\n \n-                        <!-- unpack the patch over the TCK -->\n-                        <unzip overwrite=\"true\"\n-                            src=\"${tck.patch}\" dest=\"${tck.dir}\"/>\n-\n                         <property name=\"db.driver\"\n                             value=\"org.apache.derby.jdbc.EmbeddedDriver\"/>\n                         <property name=\"db.url\"\n@@ -129,6 +119,8 @@ openjpa.jdbc.SchemaFactory: native(ForeignKeys=true)\n                             value=\"${tck.dir}/bin/ts.jte\"/>\n \n                         <echo append=\"true\" file=\"${jpatck.config}\">\n+\n+\n #########################################################################\n ## OpenJPA specific properties follow\n #########################################################################\n@@ -137,12 +129,15 @@ jpa.home=${tck.dir}\n work.dir=${jpatck.work.dir}\n report.dir=${tck.dir}/../reports\n jpa.classes=${cp.property}\n-database.classes=${cp.property}\n+database.classes=$${jpa.classes}\n+# Need to specify java.* classes, both in Windows/UNIX locations as well as Mac\n+sigTestClasspath=$${JAVA_HOME}/lib/rt.jar:$${JAVA_HOME}/../Classes/classes.jar:$${jpa.classes}\n persistence.unit.properties.file.full.path=${openjpa.properties}\n database.user=${db.username}\n database.passwd=${db.password}\n database.url=${db.url}\n database.driver=${db.driver}\n+\n                         </echo>\n \n                         <path id=\"agent.path\">"}]}

