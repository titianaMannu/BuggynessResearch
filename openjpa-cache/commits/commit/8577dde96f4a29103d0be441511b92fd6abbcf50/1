{"sha":"8577dde96f4a29103d0be441511b92fd6abbcf50","node_id":"MDY6Q29tbWl0MjA2MzY0Ojg1NzdkZGU5NmY0YTI5MTAzZDBiZTQ0MTUxMWI5MmZkNmFiYmNmNTA=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-04-28T00:56:50Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2008-04-28T00:56:50Z"},"message":"OPENJPA-522. TestFetchPlanStacks failed on my Mac but passed on the Linux build machine; it seemed to have something to do with FetchConfiguration equality / hashCode implementation. Changed to IdentityHashMap to avoid the issue altogether.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.1.x@652035 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"cf1790ab3069be3a173b65dee7caa9352bdced6b","url":"https://api.github.com/repos/apache/openjpa/git/trees/cf1790ab3069be3a173b65dee7caa9352bdced6b"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/8577dde96f4a29103d0be441511b92fd6abbcf50","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/8577dde96f4a29103d0be441511b92fd6abbcf50","html_url":"https://github.com/apache/openjpa/commit/8577dde96f4a29103d0be441511b92fd6abbcf50","comments_url":"https://api.github.com/repos/apache/openjpa/commits/8577dde96f4a29103d0be441511b92fd6abbcf50/comments","author":null,"committer":null,"parents":[{"sha":"83190655e58bc8d4e769afaedfa50a5f6dcfd84a","url":"https://api.github.com/repos/apache/openjpa/commits/83190655e58bc8d4e769afaedfa50a5f6dcfd84a","html_url":"https://github.com/apache/openjpa/commit/83190655e58bc8d4e769afaedfa50a5f6dcfd84a"}],"stats":{"total":3,"additions":2,"deletions":1},"files":[{"sha":"b29248cd2e85c3ce1f2524a1b8685e0d547e9e3f","filename":"openjpa-persistence/src/main/java/org/apache/openjpa/persistence/EntityManagerImpl.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/8577dde96f4a29103d0be441511b92fd6abbcf50/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/EntityManagerImpl.java","raw_url":"https://github.com/apache/openjpa/raw/8577dde96f4a29103d0be441511b92fd6abbcf50/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/EntityManagerImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/EntityManagerImpl.java?ref=8577dde96f4a29103d0be441511b92fd6abbcf50","patch":"@@ -33,6 +33,7 @@\n import java.util.EnumSet;\r\n import java.util.Map;\r\n import java.util.HashMap;\r\n+import java.util.IdentityHashMap;\r\n import javax.persistence.EntityManager;\r\n import javax.persistence.FlushModeType;\r\n import javax.persistence.LockModeType;\r\n@@ -84,7 +85,7 @@\n     private DelegatingBroker _broker;\r\n     private EntityManagerFactoryImpl _emf;\r\n     private Map<FetchConfiguration,FetchPlan> _plans =\r\n-        new HashMap<FetchConfiguration,FetchPlan>(1);\r\n+        new IdentityHashMap<FetchConfiguration,FetchPlan>(1);\r\n \r\n     private RuntimeExceptionTranslator ret =\r\n         PersistenceExceptions.getRollbackTranslator(this);\r"}]}

