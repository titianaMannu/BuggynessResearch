{"sha":"85b0b0b45b143f28ba4422107708f77aa710b160","node_id":"MDY6Q29tbWl0MjA2MzY0Ojg1YjBiMGI0NWIxNDNmMjhiYTQ0MjIxMDc3MDhmNzdhYTcxMGIxNjA=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2008-07-11T21:14:42Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2008-07-11T21:14:42Z"},"message":"OPENJPA-656: reusing existing error message key from a different package\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@676081 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"1f35fefdd82e354103ba22ffb77ca98633e7c124","url":"https://api.github.com/repos/apache/openjpa/git/trees/1f35fefdd82e354103ba22ffb77ca98633e7c124"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/85b0b0b45b143f28ba4422107708f77aa710b160","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/85b0b0b45b143f28ba4422107708f77aa710b160","html_url":"https://github.com/apache/openjpa/commit/85b0b0b45b143f28ba4422107708f77aa710b160","comments_url":"https://api.github.com/repos/apache/openjpa/commits/85b0b0b45b143f28ba4422107708f77aa710b160/comments","author":null,"committer":null,"parents":[{"sha":"026c96d5138612108237ed46c9b015006ecdf5ce","url":"https://api.github.com/repos/apache/openjpa/commits/026c96d5138612108237ed46c9b015006ecdf5ce","html_url":"https://github.com/apache/openjpa/commit/026c96d5138612108237ed46c9b015006ecdf5ce"}],"stats":{"total":17,"additions":10,"deletions":7},"files":[{"sha":"90f5ae93be1031d13b5840e7a1c76e0eec0a043b","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/DataSourceFactory.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/apache/openjpa/blob/85b0b0b45b143f28ba4422107708f77aa710b160/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/DataSourceFactory.java","raw_url":"https://github.com/apache/openjpa/raw/85b0b0b45b143f28ba4422107708f77aa710b160/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/DataSourceFactory.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/DataSourceFactory.java?ref=85b0b0b45b143f28ba4422107708f77aa710b160","patch":"@@ -60,6 +60,8 @@\n \n     private static final Localizer _loc = Localizer.forPackage\n     \t (DataSourceFactory.class);\n+    protected static Localizer _eloc = \n+    \tLocalizer.forPackage(DelegatingDataSource.class);\n \n     /**\n      * Create a datasource using the given configuration.\n@@ -251,13 +253,11 @@ public static DecoratingDataSource installDBDictionary(DBDictionary dict,\n     \n     static OpenJPAException newConnectException(JDBCConfiguration conf, \n     \t\tboolean factory2, Exception cause) {\n-    \treturn new UserException(_loc.get(\"conn-failed\", factory2 \n+    \treturn new UserException(_eloc.get(\"poolds-null\", factory2 \n           \t  ? new Object[]{conf.getConnection2DriverName(), \n-          \t\t\t         conf.getConnection2URL(), \n-          \t\t\t         conf.getConnection2Properties()}\n+          \t\t\t         conf.getConnection2URL()}\n           \t  : new Object[]{conf.getConnectionDriverName(),\n-          \t\t             conf.getConnectionURL(), \n-          \t\t             conf.getConnectionProperties()}),\n+          \t\t             conf.getConnectionURL()}),\n           \t\t             cause).setFatal(true);\n     }\n "},{"sha":"06a82cb26f92bb0741b5243ec59c0ab0fb87fdd5","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SimpleDriverDataSource.java","status":"modified","additions":5,"deletions":2,"changes":7,"blob_url":"https://github.com/apache/openjpa/blob/85b0b0b45b143f28ba4422107708f77aa710b160/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SimpleDriverDataSource.java","raw_url":"https://github.com/apache/openjpa/raw/85b0b0b45b143f28ba4422107708f77aa710b160/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SimpleDriverDataSource.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SimpleDriverDataSource.java?ref=85b0b0b45b143f28ba4422107708f77aa710b160","patch":"@@ -29,6 +29,7 @@\n import java.util.Properties;\n \n import org.apache.openjpa.jdbc.sql.DBDictionary;\n+import org.apache.openjpa.lib.jdbc.DelegatingDataSource;\n import org.apache.openjpa.lib.util.J2DoPrivHelper;\n import org.apache.openjpa.lib.util.Localizer;\n import org.apache.openjpa.util.StoreException;\n@@ -51,6 +52,8 @@\n     \n     protected static Localizer _loc = \n     \tLocalizer.forPackage(SimpleDriverDataSource.class);\n+    protected static Localizer _eloc = \n+    \tLocalizer.forPackage(DelegatingDataSource.class);\n \n     public Connection getConnection()\n         throws SQLException {\n@@ -77,8 +80,8 @@ public Connection getConnection(Properties props)\n         throws SQLException {\n     \tConnection con = getDriver().connect(_connectionURL, props);\n     \tif (con == null) {\n-        \tthrow new SQLException(_loc.get(\"conn-failed\",\n-        \t\t\t_connectionDriverName, _connectionURL, props).getMessage());\n+        \tthrow new SQLException(_eloc.get(\"poolds-null\",\n+        \t\t\t_connectionDriverName, _connectionURL).getMessage());\n         }\n         return con;\n     }"}]}

