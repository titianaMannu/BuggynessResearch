{"sha":"8c952771dc1852c56b8e2a5e216edc0e5ab9b292","node_id":"MDY6Q29tbWl0MjA2MzY0OjhjOTUyNzcxZGMxODUyYzU2YjhlMmE1ZTIxNmVkYzBlNWFiOWIyOTI=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2009-11-12T08:10:05Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2009-11-12T08:10:05Z"},"message":"OPENJPA-1047: Prohibit Table annotation or XML descriptor element for MappedSuperclass.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@835292 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"69beae4dd9517df743ad54d7ae352283c1b9d8b3","url":"https://api.github.com/repos/apache/openjpa/git/trees/69beae4dd9517df743ad54d7ae352283c1b9d8b3"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/8c952771dc1852c56b8e2a5e216edc0e5ab9b292","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/8c952771dc1852c56b8e2a5e216edc0e5ab9b292","html_url":"https://github.com/apache/openjpa/commit/8c952771dc1852c56b8e2a5e216edc0e5ab9b292","comments_url":"https://api.github.com/repos/apache/openjpa/commits/8c952771dc1852c56b8e2a5e216edc0e5ab9b292/comments","author":null,"committer":null,"parents":[{"sha":"965c997c24c50a52a95492ada112d11a4c50fab7","url":"https://api.github.com/repos/apache/openjpa/commits/965c997c24c50a52a95492ada112d11a4c50fab7","html_url":"https://github.com/apache/openjpa/commit/965c997c24c50a52a95492ada112d11a4c50fab7"}],"stats":{"total":12,"additions":9,"deletions":3},"files":[{"sha":"93627d6271317377c9a5d7c7c4ce12e7178d24fb","filename":"openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/XMLPersistenceMappingParser.java","status":"modified","additions":5,"deletions":2,"changes":7,"blob_url":"https://github.com/apache/openjpa/blob/8c952771dc1852c56b8e2a5e216edc0e5ab9b292/openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/XMLPersistenceMappingParser.java","raw_url":"https://github.com/apache/openjpa/raw/8c952771dc1852c56b8e2a5e216edc0e5ab9b292/openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/XMLPersistenceMappingParser.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/XMLPersistenceMappingParser.java?ref=8c952771dc1852c56b8e2a5e216edc0e5ab9b292","patch":"@@ -62,6 +62,7 @@\n import org.apache.openjpa.persistence.XMLPersistenceMetaDataParser;\n import org.apache.openjpa.util.InternalException;\n import org.apache.openjpa.util.MetaDataException;\n+import org.apache.openjpa.util.UserException;\n import org.xml.sax.Attributes;\n import org.xml.sax.Locator;\n import org.xml.sax.SAXException;\n@@ -781,11 +782,13 @@ private FieldMapping getAttributeOverrideForEmbeddable(FieldMapping fm,\n      */\n     private boolean startTable(Attributes attrs)\n         throws SAXException {\n+        ClassMapping mapping = (ClassMapping) currentElement();\n+        if (mapping.isAbstract())\n+            throw new UserException(_loc.get(\"table-not-allowed\", mapping));\n         String table = toTableName(attrs.getValue(\"schema\"),\n             attrs.getValue(\"name\"));\n         if (table != null)\n-            ((ClassMapping) currentElement()).getMappingInfo().setTableName\n-                (table);\n+            mapping.getMappingInfo().setTableName(table);\n         return true;\n     }\n "},{"sha":"17812a68cbbad5ffeff98ad8747455a771556658","filename":"openjpa-persistence-jdbc/src/main/resources/org/apache/openjpa/persistence/jdbc/localizer.properties","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/8c952771dc1852c56b8e2a5e216edc0e5ab9b292/openjpa-persistence-jdbc/src/main/resources/org/apache/openjpa/persistence/jdbc/localizer.properties","raw_url":"https://github.com/apache/openjpa/raw/8c952771dc1852c56b8e2a5e216edc0e5ab9b292/openjpa-persistence-jdbc/src/main/resources/org/apache/openjpa/persistence/jdbc/localizer.properties","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/main/resources/org/apache/openjpa/persistence/jdbc/localizer.properties?ref=8c952771dc1852c56b8e2a5e216edc0e5ab9b292","patch":"@@ -59,4 +59,7 @@ discriminator-on-abstract-class: A discriminator value has been specified for \\\n implicit-non-default-fk: While parsing \"{0}\" from \"{1}\", found a @ForeignKey \\\n \twith implicit attribute set to true but one or more other attributes of \\\n \tForeignKey is set to their non-default value. You can not specify any \\\n-\tnon-default value for an implicit ForeignKey.  \t    \n\\ No newline at end of file\n+\tnon-default value for an implicit ForeignKey. \n+table-not-allowed: You have specified Table annotation or XML descriptor element \\\n+\tfor MappedSuperclass \"{0}\". A class designated as a mapped superclass can not \\\n+\thave a separate table defined for it. \t    \n\\ No newline at end of file"}]}

