{"sha":"92fcf33575d4cae403591dde8737e4ce53ab9bc5","node_id":"MDY6Q29tbWl0MjA2MzY0OjkyZmNmMzM1NzVkNGNhZTQwMzU5MWRkZTg3MzdlNGNlNTNhYjliYzU=","commit":{"author":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2009-08-15T00:30:09Z"},"committer":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2009-08-15T00:30:09Z"},"message":"OPENJPA-1185 Subquery restructure code\ncleanup comments in testcase\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@804418 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"78425491bdb026088417daeb9a177b5a572e9b2d","url":"https://api.github.com/repos/apache/openjpa/git/trees/78425491bdb026088417daeb9a177b5a572e9b2d"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/92fcf33575d4cae403591dde8737e4ce53ab9bc5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/92fcf33575d4cae403591dde8737e4ce53ab9bc5","html_url":"https://github.com/apache/openjpa/commit/92fcf33575d4cae403591dde8737e4ce53ab9bc5","comments_url":"https://api.github.com/repos/apache/openjpa/commits/92fcf33575d4cae403591dde8737e4ce53ab9bc5/comments","author":null,"committer":null,"parents":[{"sha":"25d3c8247b325c2ef1b5f4b776155684469db928","url":"https://api.github.com/repos/apache/openjpa/commits/25d3c8247b325c2ef1b5f4b776155684469db928","html_url":"https://github.com/apache/openjpa/commit/25d3c8247b325c2ef1b5f4b776155684469db928"}],"stats":{"total":14,"additions":7,"deletions":7},"files":[{"sha":"e1ad64e1a43e55f5221d16ee0e38b39864ec774b","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/embed/TestEmbeddable.java","status":"modified","additions":7,"deletions":7,"changes":14,"blob_url":"https://github.com/apache/openjpa/blob/92fcf33575d4cae403591dde8737e4ce53ab9bc5/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/embed/TestEmbeddable.java","raw_url":"https://github.com/apache/openjpa/raw/92fcf33575d4cae403591dde8737e4ce53ab9bc5/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/embed/TestEmbeddable.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/embed/TestEmbeddable.java?ref=92fcf33575d4cae403591dde8737e4ce53ab9bc5","patch":"@@ -1621,9 +1621,9 @@ public void queryEntityA_Embed_Embed() {\n         }\n         for (int i = 0; i < query2.length; i++) {\n             try {\n-            rs = em.createQuery(query2[i]).getResultList();\n+                rs = em.createQuery(query2[i]).getResultList();\n             } catch(ArgumentException e) {\n-                // as expected\n+                // as expected: comparison over embedded object is not allowed\n             }\n         }\n         EntityTransaction tran = em.getTransaction();\n@@ -1692,7 +1692,7 @@ public void queryEntityA_Coll_Embed_Embed() {\n                 \" from EntityA_Coll_Embed_Embed a1, in (a1.embeds) e2) \" +\n                 \" order by e.intVal3\",\n             // non-corelated subquery:\n-            // TODO: known problem in table alias resolution for subquery\n+            // Fixed in OPENJPA-1185: known problem in table alias resolution for subquery\n             //       the genarated SQL subquery should be non-corelated,\n             //       but generated corelated subquery.\n             \"select e, e.intVal1, e.embed.intVal2 from \" +\n@@ -1717,7 +1717,7 @@ public void queryEntityA_Coll_Embed_Embed() {\n                 \" from EntityA_Coll_Embed_Embed a, in (a.embeds) e) \" +\n                 \" order by e.intVal3\",\n             // corelated subquery:\n-            // TODO: known problem in table alias resolution for subquery\n+            // Fixed in OPENJPA-1185: known problem in table alias resolution for subquery\n             //       the genarated SQL subquery should be corelated,\n             //       but generated non-corelated subquery.\n             \"select e, e.intVal1, e.embed.intVal2 from \" +\n@@ -1777,7 +1777,7 @@ public void queryEntityA_Coll_Embed_Embed() {\n             try {\n             rs = em.createQuery(query3[i]).setParameter(1, obj).getResultList();\n             } catch(ArgumentException e) {\n-                // as expected\n+                // as expected: comparison over embedded object is not allowed\n             }\n         }\n \n@@ -1855,7 +1855,7 @@ public void queryEntityA_Embed_Coll_Embed() {\n                 setParameter(1, (Embed) obj).\n                 getResultList();\n             } catch (ArgumentException e) {\n-                // expected exception\n+                // expected exception: comparison over embedded object is not allowed\n             }\n         }\n         try {\n@@ -1865,7 +1865,7 @@ public void queryEntityA_Embed_Coll_Embed() {\n                 setParameter(1, ea.getEmbed()).\n                 getResultList();\n         } catch (ArgumentException e) {\n-            // expected exception\n+            // expected exception: comparison over embedded object is not allowed\n         }\n         em.clear();\n "}]}

