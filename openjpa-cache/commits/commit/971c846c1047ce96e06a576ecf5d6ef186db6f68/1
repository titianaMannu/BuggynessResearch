{"sha":"971c846c1047ce96e06a576ecf5d6ef186db6f68","node_id":"MDY6Q29tbWl0MjA2MzY0Ojk3MWM4NDZjMTA0N2NlOTZlMDZhNTc2ZWNmNWQ2ZWYxODZkYjZmNjg=","commit":{"author":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2006-10-28T04:06:11Z"},"committer":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2006-10-28T04:06:11Z"},"message":"Added very simple openjpa-examples package that contains a helloworld example (which will be included in the distribtion zip file)\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@468629 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e03a7000b0b1e337ae95e6167d9c3adf95d00ffb","url":"https://api.github.com/repos/apache/openjpa/git/trees/e03a7000b0b1e337ae95e6167d9c3adf95d00ffb"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/971c846c1047ce96e06a576ecf5d6ef186db6f68","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/971c846c1047ce96e06a576ecf5d6ef186db6f68","html_url":"https://github.com/apache/openjpa/commit/971c846c1047ce96e06a576ecf5d6ef186db6f68","comments_url":"https://api.github.com/repos/apache/openjpa/commits/971c846c1047ce96e06a576ecf5d6ef186db6f68/comments","author":null,"committer":null,"parents":[{"sha":"2ed7c2db2abb03d34a9855b3cdf473226f3511e7","url":"https://api.github.com/repos/apache/openjpa/commits/2ed7c2db2abb03d34a9855b3cdf473226f3511e7","html_url":"https://github.com/apache/openjpa/commit/2ed7c2db2abb03d34a9855b3cdf473226f3511e7"}],"stats":{"total":351,"additions":350,"deletions":1},"files":[{"sha":"c9964662284e00727348da04917b489d4c6052ad","filename":"openjpa-examples/pom.xml","status":"added","additions":88,"deletions":0,"changes":88,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/pom.xml?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -0,0 +1,88 @@\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <groupId>org.apache.openjpa</groupId>\n+    <artifactId>openjpa-examples</artifactId>\n+    <packaging>jar</packaging>\n+    <name>OpenJPA Persistence Examples</name>\n+    <description>OpenJPA Persistence Examples</description>\n+    <url>http://incubator.apache.org/projects/openjpa</url>\n+    <parent>\n+        <groupId>org.apache.openjpa</groupId>\n+        <artifactId>openjpa</artifactId>\n+        <version>0.9.6-incubating-SNAPSHOT</version>\n+    </parent>\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.openjpa</groupId>\n+            <artifactId>openjpa-persistence-jdbc</artifactId>\n+            <version>${pom.version}</version>\n+            <scope>compile</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.derby</groupId>\n+            <artifactId>derby</artifactId>\n+            <version>10.1.3.1</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>commons-dbcp</groupId>\n+            <artifactId>commons-dbcp</artifactId>\n+            <version>1.2.1</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>commons-collections</groupId>\n+            <artifactId>commons-collections</artifactId>\n+            <version>3.1</version>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-compiler-plugin</artifactId>\n+                <configuration>\n+                    <source>1.5</source>\n+                    <target>1.5</target>\n+                </configuration>\n+            </plugin>\n+            <!-- ###\n+            <plugin>\n+                <artifactId>maven-antrun-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <phase>test-compile</phase>\n+                        <configuration>\n+                            <tasks>\n+                                <path id=\"cp\">\n+                                    <path refid=\"maven.test.classpath\"/>\n+                                    <path refid=\"maven.compile.classpath\"/>\n+                                    <path refid=\"maven.dependency.classpath\"/>\n+                                </path>\n+\t\t\t\t\t\t\t\t<taskdef name=\"openjpac\" classname=\n+                                    \"org.apache.openjpa.ant.PCEnhancerTask\">\n+\t\t\t\t\t\t\t\t\t<classpath refid=\"cp\"/>\n+\t\t\t\t\t\t\t\t</taskdef>\n+                                <fileset id=\"enhance.path.ref\"\n+                                    dir=\"${project.build.testOutputDirectory}\">\n+                                    <include name=\"**/*.class\"/>\n+                                </fileset>\n+\t\t\t\t\t\t\t\t<openjpac>\n+\t\t\t\t\t\t\t\t\t<classpath refid=\"cp\"/>\n+\t\t\t\t\t\t\t\t\t<fileset refid=\"enhance.path.ref\"/>\n+\t\t\t\t\t\t\t\t</openjpac>\n+                            </tasks>\n+                        </configuration>\n+                        <goals>\n+                            <goal>run</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            -->\n+        </plugins>\n+    </build>\n+</project>"},{"sha":"d0851b73ab1331ab3d1f3898277f0502849bd47c","filename":"openjpa-examples/src/main/java/META-INF/persistence.xml","status":"added","additions":40,"deletions":0,"changes":40,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/META-INF/persistence.xml","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/META-INF/persistence.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/META-INF/persistence.xml?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -0,0 +1,40 @@\n+<?xml version=\"1.0\"?>\n+<persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"1.0\">\n+    <!--\n+        A persistence unit is a set of listed persistent entities as well\n+        the configuration of an EntityManagerFactory. We configure each\n+        example in a separate persistence-unit.\n+    -->\n+    <persistence-unit name=\"hellojpa\" transaction-type=\"RESOURCE_LOCAL\">\n+        <!--\n+            The default provider can be OpenJPA, or some other product.\n+            This element is optional if OpenJPA is the only JPA provider\n+            in the current classloading environment.\n+        -->\n+        <provider>\n+            org.apache.openjpa.persistence.PersistenceProviderImpl\n+        </provider>\n+\n+        <!-- We must enumerate each entity in the persistence unit -->\n+        <class>hellojpa.Message</class>\n+\n+        <properties>\n+            <!--\n+                We can configure the default OpenJPA properties here. They\n+                happen to be commented out here since the provided examples\n+                all specify the values via System properties.\n+            -->\n+\n+            <!--\n+            <property name=\"openjpa.ConnectionURL\" \n+                value=\"jdbc:derby:openjpa-database;create=true\"/>\n+            <property name=\"openjpa.ConnectionDriverName\" \n+                value=\"org.apache.derby.jdbc.EmbeddedDriver\"/>\n+            <property name=\"openjpa.ConnectionUserName\" \n+                value=\"user\"/>\n+            <property name=\"openjpa.ConnectionPassword\" \n+                value=\"secret\"/>\n+            -->\n+        </properties>\n+    </persistence-unit>\n+</persistence>"},{"sha":"6756c7e3031be61f6db57b2f675a1aa14257884c","filename":"openjpa-examples/src/main/java/build.xml","status":"added","additions":89,"deletions":0,"changes":89,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/build.xml","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/build.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/build.xml?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -0,0 +1,89 @@\n+<project default=\"usagewarning\">\n+\n+    <property name=\"parent\" value=\"${basedir}/..\"/>\n+    <property name=\"root\" value=\"${parent}/..\"/>\n+\n+    <target name=\"usagewarning\">\n+        <fail>\n+Please traverse to a sub-directory and run \"ant\" from there.\n+        </fail>\n+    </target>\n+\n+    <path id=\"classpath\"\n+        description=\"The classpath to use for compiling and running\">\n+        <pathelement path=\"${parent}\"/>\n+        <fileset dir=\"${root}\">\n+            <include name=\"**/*.jar\"/>\n+        </fileset>\n+    </path>\n+\n+    <path id=\"javaagent\">\n+        <fileset dir=\"${root}\">\n+            <include name=\"openjpa-*.jar\"/>\n+        </fileset>\n+    </path>\n+    <pathconvert property=\"javaagent\" refid=\"javaagent\"/>\n+\n+    <target name=\"clean\"\n+        description=\"Clean up compiled files and generated database files\">\n+        <delete includeemptydirs=\"true\">\n+            <fileset dir=\"${basedir}\">\n+                <include name=\"*.class\"/>\n+                <include name=\"*.log\"/>\n+                <include name=\"${example}-database/**/*\"/>\n+                <include name=\"${example}-database\"/>\n+            </fileset>\n+        </delete>\n+    </target>\n+\n+    <target name=\"compile\" description=\"Compile the example java files\">\n+        <javac srcdir=\"${parent}\" classpathref=\"classpath\"\n+            includes=\"${example}/**.java\"/>\n+    </target>\n+\n+    <target name=\"run\" depends=\"compile\"\n+        description=\"Run the example Main program\">\n+\n+        <java classname=\"${example}.Main\" classpathref=\"classpath\" fork=\"yes\">\n+            <!--\n+                Specifying the openjpa jar as the javaagent argument is\n+                necessary in order for automatic class-enhancement to work.\n+            -->\n+            <jvmarg value=\"-javaagent:${javaagent}\"/>\n+\n+            <!--\n+                Specify the system properties to use when configuring\n+                OpenJPA. Note that these will only be used becuase in the\n+                examples, the call to \"Persistence.createEntityManagerFactory\"\n+                is passed \"System.getProperties()\".\n+            -->\n+\n+            <!--\n+                By default, use the stand-alone Derby database (provided).\n+                This can easily be changes to use your own database's driver,\n+                provided you ensure it is accessible in the classpath.\n+            -->\n+            <sysproperty key=\"openjpa.ConnectionDriverName\"\n+                value=\"org.apache.derby.jdbc.EmbeddedDriver\"/>\n+            <sysproperty key=\"openjpa.ConnectionURL\"\n+                value=\"jdbc:derby:${example}-database;create=true\"/>\n+\n+            <!--\n+                Tell OpenJPA to automatically create tables in the database\n+                for entities. Note that this should be disabled when\n+                running against a production database, since you probably\n+                don't want to be altering the schema at runtime.\n+            -->\n+            <sysproperty key=\"openjpa.jdbc.SynchronizeMappings\"\n+                value=\"buildSchema\"/>\n+\n+            <!--\n+                Output all the SQL for educational purposes, but set the\n+                general logging level to only show warnings.\n+            -->\n+            <sysproperty key=\"openjpa.Log\"\n+                value=\"DefaultLevel=WARN,SQL=TRACE\"/>\n+        </java>\n+    </target>\n+</project>\n+"},{"sha":"1eecfb8b3e912c9628634a1e58cace104667d17e","filename":"openjpa-examples/src/main/java/hellojpa/Main.java","status":"added","additions":58,"deletions":0,"changes":58,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/hellojpa/Main.java","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/hellojpa/Main.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/hellojpa/Main.java?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -0,0 +1,58 @@\n+package hellojpa;\n+\n+import java.util.*;\n+import javax.persistence.*;\n+\n+\n+/** \n+ * A very simple, stand-alone program that stores a new entity in the\n+ * database and then performs a query to retrieve it.\n+ */\n+public class Main {\n+\n+    @SuppressWarnings(\"unchecked\")\n+    public static void main(String[] args) {\n+        // Create a new EntityManagerFactory using the System properties.\n+        // The \"hellojpa\" name will be used to configure based on the\n+        // corresponding name in the META-INF/persistence.xml file\n+        EntityManagerFactory factory = Persistence.\n+            createEntityManagerFactory(\"hellojpa\", System.getProperties());\n+\n+        // Create a new EntityManager from the EntityManagerFactory. The\n+        // EntityManager is the main object in the persistence API, and is\n+        // used to create, delete, and query objects, as well as access\n+        // the current transaction\n+        EntityManager em = factory.createEntityManager();\n+\n+        // Begin a new local transaction so that we can persist a new entity\n+        em.getTransaction().begin();\n+\n+        // Create and persist a new Message entity\n+        em.persist(new Message(\"Hello Persistence!\"));\n+\n+        // Commit the transaction, which will cause the entity to\n+        // be stored in the database\n+        em.getTransaction().commit();\n+\n+        // It is always good practice to close the EntityManager so that\n+        // resources are conserved.\n+        em.close();\n+\n+        // Create a fresh, new EntityManager\n+        EntityManager em2 = factory.createEntityManager();\n+\n+        // Perform a simple query for all the Message entities\n+        Query q = em2.createQuery(\"select m from Message m\");\n+\n+        // Go through each of the entities and print out each of their\n+        // messages, as well as the date on which it was created \n+        for (Message m : (List<Message>)q.getResultList()) {\n+            System.out.println(m.getMessage()\n+                + \" (created on: \" + m.getCreated() + \")\"); \n+        }\n+\n+        // Again, it is always good to clean up after ourselves\n+        em2.close();\n+        factory.close();\n+    }\n+}"},{"sha":"1a06490d5c8d665af6a989fa648be8aedae2387c","filename":"openjpa-examples/src/main/java/hellojpa/Message.java","status":"added","additions":54,"deletions":0,"changes":54,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/hellojpa/Message.java","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/hellojpa/Message.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/hellojpa/Message.java?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -0,0 +1,54 @@\n+package hellojpa;\n+\n+import java.util.*;\n+import javax.persistence.*;\n+\n+\n+/** \n+ * A very simple persistent entity that holds a \"message\", has a\n+ * \"created\" field that is initialized to the time at which the\n+ * object was created, and an id field that is initialized to the\n+ * current time.\n+ */\n+@Entity\n+public class Message {\n+    @Id\n+    private long id = System.currentTimeMillis();\n+\n+    @Basic\n+    private String message;\n+\n+    @Basic\n+    private Date created = new Date();\n+\n+    public Message() {\n+    }\n+\n+    public Message(String msg) {\n+        message = msg;\n+    }\n+\n+    public void setId(long val) {\n+        id = val;\n+    }\n+\n+    public long getId() {\n+        return id;\n+    }\n+\n+    public void setMessage(String msg) {\n+        message = msg;\n+    }\n+\n+    public String getMessage() {\n+        return message;\n+    }\n+\n+    public void setCreated(Date date) {\n+        created = date;\n+    }\n+\n+    public Date getCreated() {\n+        return created;\n+    }\n+}"},{"sha":"a671d1f0f8904cd002e1e757e12f442f1789e816","filename":"openjpa-examples/src/main/java/hellojpa/build.xml","status":"added","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/hellojpa/build.xml","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-examples/src/main/java/hellojpa/build.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/hellojpa/build.xml?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -0,0 +1,4 @@\n+<project default=\"run\">\n+    <property name=\"example\" value=\"hellojpa\"/>\n+    <import file=\"../build.xml\"/>\n+</project>"},{"sha":"4045fed2e97182f8e16ee782079be02854590180","filename":"openjpa-project/assembly.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-project/assembly.xml","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-project/assembly.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/assembly.xml?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -52,6 +52,10 @@\n             <directory>../target/site/apidocs</directory>\r\n             <outputDirectory>docs/javadoc</outputDirectory>\r\n         </fileSet>\r\n+        <fileSet>\r\n+            <directory>../openjpa-examples/src/main/java</directory>\r\n+            <outputDirectory>examples</outputDirectory>\r\n+        </fileSet>\r\n     </fileSets>\r\n     <dependencySets>\r\n         <dependencySet>\r"},{"sha":"1e635b3860006e0084b159d58e5a224b4cb84349","filename":"openjpa-project/pom.xml","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-project/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/openjpa-project/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/pom.xml?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -370,6 +370,11 @@\n             <artifactId>openjpa-xmlstore</artifactId>\r\n             <version>${pom.version}</version>\r\n         </dependency>\r\n+        <dependency>\r\n+            <groupId>org.apache.openjpa</groupId>\r\n+            <artifactId>openjpa-examples</artifactId>\r\n+            <version>${pom.version}</version>\r\n+        </dependency>\r\n \r\n         <!-- included so we can include it in the distribution -->\r\n         <dependency>\r"},{"sha":"a23715f55e05b44a52d66d514e23e18ab42f4d77","filename":"pom.xml","status":"modified","additions":8,"deletions":1,"changes":9,"blob_url":"https://github.com/apache/openjpa/blob/971c846c1047ce96e06a576ecf5d6ef186db6f68/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/971c846c1047ce96e06a576ecf5d6ef186db6f68/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/pom.xml?ref=971c846c1047ce96e06a576ecf5d6ef186db6f68","patch":"@@ -110,6 +110,7 @@\n                 <module>openjpa-kernel-4</module>\n                 <module>openjpa-kernel-5</module>\n                 <module>openjpa-jdbc-5</module>\n+                <module>openjpa-examples</module>\n             </modules>\n         </profile>\n         <profile>\n@@ -208,12 +209,18 @@\n                         </archive>\n                     </configuration>\n                 </plugin>\n+                <plugin>\n+                    <groupId>org.apache.maven.plugins</groupId>\n+                    <artifactId>maven-surefire-plugin</artifactId>\n+                    <configuration>\n+                        <useFile>false</useFile>\n+                    </configuration>\n+                </plugin>\n             </plugins>\n         </pluginManagement>\n     </build>\n     <reporting>\n         <plugins>\n-\n             <plugin>\n                 <artifactId>maven-project-info-reports-plugin</artifactId>\n                 <reportSets>"}]}

