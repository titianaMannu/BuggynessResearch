{"sha":"97b23ebb90401a82d1d010f1286bb162ab74d4ac","node_id":"MDY6Q29tbWl0MjA2MzY0Ojk3YjIzZWJiOTA0MDFhODJkMWQwMTBmMTI4NmJiMTYyYWI3NGQ0YWM=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-01-17T01:57:07Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-01-17T01:57:07Z"},"message":"Resolve jar scanning issue by avoiding certain probably-buggy ZipInputStream methods\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@496912 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"f20b443375029fb7e9f97b57755832ff45c3634e","url":"https://api.github.com/repos/apache/openjpa/git/trees/f20b443375029fb7e9f97b57755832ff45c3634e"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/97b23ebb90401a82d1d010f1286bb162ab74d4ac","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/97b23ebb90401a82d1d010f1286bb162ab74d4ac","html_url":"https://github.com/apache/openjpa/commit/97b23ebb90401a82d1d010f1286bb162ab74d4ac","comments_url":"https://api.github.com/repos/apache/openjpa/commits/97b23ebb90401a82d1d010f1286bb162ab74d4ac/comments","author":null,"committer":null,"parents":[{"sha":"a6e07e50409f33e648a85095869174eb16db9c17","url":"https://api.github.com/repos/apache/openjpa/commits/a6e07e50409f33e648a85095869174eb16db9c17","html_url":"https://github.com/apache/openjpa/commit/a6e07e50409f33e648a85095869174eb16db9c17"}],"stats":{"total":14,"additions":4,"deletions":10},"files":[{"sha":"e05c5712e2c43e15bdd5d0569aa6e72bdd3745ce","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipStreamMetaDataIterator.java","status":"modified","additions":4,"deletions":10,"changes":14,"blob_url":"https://github.com/apache/openjpa/blob/97b23ebb90401a82d1d010f1286bb162ab74d4ac/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipStreamMetaDataIterator.java","raw_url":"https://github.com/apache/openjpa/raw/97b23ebb90401a82d1d010f1286bb162ab74d4ac/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipStreamMetaDataIterator.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipStreamMetaDataIterator.java?ref=97b23ebb90401a82d1d010f1286bb162ab74d4ac","patch":"@@ -112,16 +112,10 @@ public String getName() {\n     public byte[] getContent() throws IOException {\n         // buffer content so that future calls to getInputStream can read\n         // the same data\n-        int size = (int) _entry.getSize();\n-        if (size < 0) {\n-            ByteArrayOutputStream bout = new ByteArrayOutputStream();\n-            byte[] buf = new byte[1024];\n-            for (int r; (r = _stream.read(buf)) != -1; bout.write(buf, 0, r)) ;\n-            _buf = bout.toByteArray();\n-        } else {\n-            _buf = new byte[size];\n-            _stream.read(_buf);\n-        }\n+        ByteArrayOutputStream bout = new ByteArrayOutputStream();\n+        byte[] buf = new byte[1024];\n+        for (int r; (r = _stream.read(buf)) != -1; bout.write(buf, 0, r)) ;\n+        _buf = bout.toByteArray();\n         _stream.closeEntry();\n         return _buf;\n     }"}]}

