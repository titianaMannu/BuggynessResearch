{"sha":"9eb0175249040873a2679ddd8c50c653c472347b","node_id":"MDY6Q29tbWl0MjA2MzY0OjllYjAxNzUyNDkwNDA4NzNhMjY3OWRkZDhjNTBjNjUzYzQ3MjM0N2I=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-03-23T20:03:21Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-03-23T20:03:21Z"},"message":"OPENJPA-1596 Index name too long for DB2 zOS\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@926758 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"19f2c7f2afa1fbb9ea31ca9a022dd874ce911dca","url":"https://api.github.com/repos/apache/openjpa/git/trees/19f2c7f2afa1fbb9ea31ca9a022dd874ce911dca"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/9eb0175249040873a2679ddd8c50c653c472347b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/9eb0175249040873a2679ddd8c50c653c472347b","html_url":"https://github.com/apache/openjpa/commit/9eb0175249040873a2679ddd8c50c653c472347b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/9eb0175249040873a2679ddd8c50c653c472347b/comments","author":null,"committer":null,"parents":[{"sha":"ff857f1cc550f50a24bdabb3c590c5fe757333e3","url":"https://api.github.com/repos/apache/openjpa/commits/ff857f1cc550f50a24bdabb3c590c5fe757333e3","html_url":"https://github.com/apache/openjpa/commit/ff857f1cc550f50a24bdabb3c590c5fe757333e3"}],"stats":{"total":6,"additions":5,"deletions":1},"files":[{"sha":"41c28ad84889004c9fd754546b15a1d21fc6d4d9","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/9eb0175249040873a2679ddd8c50c653c472347b/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","raw_url":"https://github.com/apache/openjpa/raw/9eb0175249040873a2679ddd8c50c653c472347b/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java?ref=9eb0175249040873a2679ddd8c50c653c472347b","patch":"@@ -912,7 +912,8 @@ public void createIndexIfNecessary(Schema schema, DBIdentifier table,\n             // build the index for the sequence tables\n             // the index name will be the fully qualified table name + _IDX\n             Table tab = schema.getTable(table);\n-            Index idx = tab.addIndex(DBIdentifier.append(tab.getFullIdentifier(), \"IDX\"));\n+            DBIdentifier idxName = DBIdentifier.append(tab.getFullIdentifier(), \"IDX\");\n+            Index idx = tab.addIndex(getValidIndexName(idxName, tab));\n             idx.setUnique(true);\n             idx.addColumn(pkColumn);\n         }"},{"sha":"76c38ec3a3e9d2e1fd76f4acf2565f761492a1ea","filename":"openjpa-project/CHANGES.txt","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/9eb0175249040873a2679ddd8c50c653c472347b/openjpa-project/CHANGES.txt","raw_url":"https://github.com/apache/openjpa/raw/9eb0175249040873a2679ddd8c50c653c472347b/openjpa-project/CHANGES.txt","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/CHANGES.txt?ref=9eb0175249040873a2679ddd8c50c653c472347b","patch":"@@ -216,6 +216,7 @@ Bug\n     * [OPENJPA-1581] - getCache() should throw IllegalStateException if the EMF has been closed. \n     * [OPENJPA-1583] - Update by query fails on entities using Timestamp as Version field\n     * [OPENJPA-1588] - modify 925451 revision for setProperty processing for enums\n+    * [OPENJPA-1596] - Index name too long for DB2 zOS\n \n Improvement\n -----------"},{"sha":"331f1318e01134c5a1cb6aaa83e89f43bc2a102c","filename":"openjpa-project/RELEASE-NOTES.html","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/9eb0175249040873a2679ddd8c50c653c472347b/openjpa-project/RELEASE-NOTES.html","raw_url":"https://github.com/apache/openjpa/raw/9eb0175249040873a2679ddd8c50c653c472347b/openjpa-project/RELEASE-NOTES.html","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/RELEASE-NOTES.html?ref=9eb0175249040873a2679ddd8c50c653c472347b","patch":"@@ -326,6 +326,8 @@ <h4>Bug</h4>\n </li>\n <li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-1588'>OPENJPA-1588</a>] -         modify 925451 revision for setProperty processing for enums\n </li>\n+<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-1596'>OPENJPA-1596</a>] -         Index name too long for DB2 zOS\n+</li>\n </ul>\n     \n <h4>Improvement</h4>"}]}

