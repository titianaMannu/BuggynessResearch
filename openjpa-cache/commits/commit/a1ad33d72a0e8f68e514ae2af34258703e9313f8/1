{"sha":"a1ad33d72a0e8f68e514ae2af34258703e9313f8","node_id":"MDY6Q29tbWl0MjA2MzY0OmExYWQzM2Q3MmEwZThmNjhlNTE0YWUyYWYzNDI1ODcwM2U5MzEzZjg=","commit":{"author":{"name":"Richard G. Curtis","email":"curtisr7@apache.org","date":"2010-03-05T16:54:43Z"},"committer":{"name":"Richard G. Curtis","email":"curtisr7@apache.org","date":"2010-03-05T16:54:43Z"},"message":"OPENJPA-1545: Make new instance var transient in BrokerImpl.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@919491 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"7ad1c6a09a23e94a82a2e774c1e506907349e784","url":"https://api.github.com/repos/apache/openjpa/git/trees/7ad1c6a09a23e94a82a2e774c1e506907349e784"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/a1ad33d72a0e8f68e514ae2af34258703e9313f8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/a1ad33d72a0e8f68e514ae2af34258703e9313f8","html_url":"https://github.com/apache/openjpa/commit/a1ad33d72a0e8f68e514ae2af34258703e9313f8","comments_url":"https://api.github.com/repos/apache/openjpa/commits/a1ad33d72a0e8f68e514ae2af34258703e9313f8/comments","author":null,"committer":null,"parents":[{"sha":"73d4992a2f9898a84a252d258e0ef176b939964b","url":"https://api.github.com/repos/apache/openjpa/commits/73d4992a2f9898a84a252d258e0ef176b939964b","html_url":"https://github.com/apache/openjpa/commit/73d4992a2f9898a84a252d258e0ef176b939964b"}],"stats":{"total":5,"additions":4,"deletions":1},"files":[{"sha":"b670f93a490f08fe4c53afedc30e02c71fb649fc","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/kernel/BrokerImpl.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/a1ad33d72a0e8f68e514ae2af34258703e9313f8/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/BrokerImpl.java","raw_url":"https://github.com/apache/openjpa/raw/a1ad33d72a0e8f68e514ae2af34258703e9313f8/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/BrokerImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/BrokerImpl.java?ref=a1ad33d72a0e8f68e514ae2af34258703e9313f8","patch":"@@ -247,7 +247,7 @@\n     private LifecycleEventManager _lifeEventManager = null;\n     private int _lifeCallbackMode = 0;\n \n-    private DetachManagerLite _dmLite = new DetachManagerLite();\n+    private transient DetachManagerLite _dmLite = new DetachManagerLite();\n     \n     private transient boolean _initializeWasInvoked = false;\n     private transient boolean _fromWriteBehindCallback = false;\n@@ -3353,6 +3353,9 @@ private void detachAllInternalLite() {\n         if (_transAdditions != null) {\n             _transAdditions.clear();\n         }\n+        if (_dmLite == null) {\n+            _dmLite = new DetachManagerLite();\n+        }\n         _dmLite.detachAll(states);\n     }\n     public Object attach(Object obj, boolean copyNew, OpCallbacks call) {"}]}

