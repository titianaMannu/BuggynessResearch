{"sha":"a1e0cd78a7870332e54bc125c3db9aa78373a75e","node_id":"MDY6Q29tbWl0MjA2MzY0OmExZTBjZDc4YTc4NzAzMzJlNTRiYzEyNWMzZGI5YWE3ODM3M2E3NWU=","commit":{"author":{"name":"Michael Dick","email":"mikedd@apache.org","date":"2008-09-17T16:19:15Z"},"committer":{"name":"Michael Dick","email":"mikedd@apache.org","date":"2008-09-17T16:19:15Z"},"message":"OPENJPA-724 committing patch provided by Milosz Tylenda. Merging revision 696350 to 1.2.x branch\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.2.x@696360 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"334aa3f1d1d19ada7dcdb85d8c84b80712eacd09","url":"https://api.github.com/repos/apache/openjpa/git/trees/334aa3f1d1d19ada7dcdb85d8c84b80712eacd09"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/a1e0cd78a7870332e54bc125c3db9aa78373a75e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/a1e0cd78a7870332e54bc125c3db9aa78373a75e","html_url":"https://github.com/apache/openjpa/commit/a1e0cd78a7870332e54bc125c3db9aa78373a75e","comments_url":"https://api.github.com/repos/apache/openjpa/commits/a1e0cd78a7870332e54bc125c3db9aa78373a75e/comments","author":{"login":"mikedd","id":669432,"node_id":"MDQ6VXNlcjY2OTQzMg==","avatar_url":"https://avatars.githubusercontent.com/u/669432?v=4","gravatar_id":"","url":"https://api.github.com/users/mikedd","html_url":"https://github.com/mikedd","followers_url":"https://api.github.com/users/mikedd/followers","following_url":"https://api.github.com/users/mikedd/following{/other_user}","gists_url":"https://api.github.com/users/mikedd/gists{/gist_id}","starred_url":"https://api.github.com/users/mikedd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikedd/subscriptions","organizations_url":"https://api.github.com/users/mikedd/orgs","repos_url":"https://api.github.com/users/mikedd/repos","events_url":"https://api.github.com/users/mikedd/events{/privacy}","received_events_url":"https://api.github.com/users/mikedd/received_events","type":"User","site_admin":false},"committer":{"login":"mikedd","id":669432,"node_id":"MDQ6VXNlcjY2OTQzMg==","avatar_url":"https://avatars.githubusercontent.com/u/669432?v=4","gravatar_id":"","url":"https://api.github.com/users/mikedd","html_url":"https://github.com/mikedd","followers_url":"https://api.github.com/users/mikedd/followers","following_url":"https://api.github.com/users/mikedd/following{/other_user}","gists_url":"https://api.github.com/users/mikedd/gists{/gist_id}","starred_url":"https://api.github.com/users/mikedd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikedd/subscriptions","organizations_url":"https://api.github.com/users/mikedd/orgs","repos_url":"https://api.github.com/users/mikedd/repos","events_url":"https://api.github.com/users/mikedd/events{/privacy}","received_events_url":"https://api.github.com/users/mikedd/received_events","type":"User","site_admin":false},"parents":[{"sha":"4bd326f8cedd4fcc3e2a7e56e25f57d22187d280","url":"https://api.github.com/repos/apache/openjpa/commits/4bd326f8cedd4fcc3e2a7e56e25f57d22187d280","html_url":"https://github.com/apache/openjpa/commit/4bd326f8cedd4fcc3e2a7e56e25f57d22187d280"}],"stats":{"total":91,"additions":57,"deletions":34},"files":[{"sha":"f8c9f656b18beb864a26cce6931de19fe4d5398e","filename":"openjpa-project/src/doc/manual/jpa_overview_mapping.xml","status":"modified","additions":9,"deletions":5,"changes":14,"blob_url":"https://github.com/apache/openjpa/blob/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/jpa_overview_mapping.xml","raw_url":"https://github.com/apache/openjpa/raw/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/jpa_overview_mapping.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/jpa_overview_mapping.xml?ref=a1e0cd78a7870332e54bc125c3db9aa78373a75e","patch":"@@ -4115,6 +4115,7 @@ The same metadata expressed in XML:\n             &lt;join-table name=\"MAG_ARTS\"&gt;\n                 &lt;join-column name=\"MAG_ISBN\" referenced-column-name=\"ISBN\"/&gt;\n                 &lt;join-column name=\"MAG_TITLE\" referenced-column-name=\"TITLE\"/&gt;\n+                &lt;inverse-join-column name=\"ART_ID\" referenced-column-name=\"ID\"/&gt;\n             &lt;/join-table&gt;\n         &lt;/one-to-many&gt;\n         ...\n@@ -4124,12 +4125,15 @@ The same metadata expressed in XML:\n     &lt;table name=\"ART\"/&gt;\n         &lt;attributes&gt;\n             &lt;id name=\"id\"/&gt;\n-            &lt;many-to-many name=\"articles\"&gt;\n+            &lt;many-to-many name=\"authors\"&gt;\n                 &lt;order-by&gt;lastName, firstName&lt;/order-by&gt;\n                 &lt;join-table name=\"ART_AUTHS\"&gt;\n                     &lt;join-column name=\"ART_ID\" referenced-column-name=\"ID\"/&gt;\n                     &lt;inverse-join-column name=\"AUTH_ID\" referenced-column-name=\"AID\"/&gt;\n                 &lt;/join-table&gt;\n+            &lt;cascade&gt;\n+                &lt;cascade-persist/&gt;\n+            &lt;/cascade&gt;\n             &lt;/many-to-many&gt;\n             ...\n        &lt;/attributes&gt;\n@@ -4170,7 +4174,7 @@ complete mappings below:\n             <itemizedlist>\n                 <listitem>\n                     <para>\n-<literal>Magazine.publisher</literal> and <literal>Company.ags</literal>.\n+<literal>Magazine.publisher</literal> and <literal>Company.mags</literal>.\n                     </para>\n                 </listitem>\n                 <listitem>\n@@ -4264,9 +4268,9 @@ The same metadata expressed in XML:\n         ...\n         &lt;one-to-many name=\"items\"&gt;\n             &lt;map-key name=\"num\"&gt;\n-            &lt;join-table name=\"MAG_ARTS\"&gt;\n-                &lt;join-column name=\"MAG_ISBN\" referenced-column-name=\"ISBN\"/&gt;\n-                &lt;join-column name=\"MAG_TITLE\" referenced-column-name=\"TITLE\"/&gt;\n+            &lt;join-table name=\"SUB_ITEMS\" schema=\"CNTRCT\"&gt;\n+                &lt;join-column name=\"SUB_ID\"/&gt;\n+                &lt;inverse-join-column name=\"ITEM_ID\"/&gt;\n             &lt;/join-table&gt;\n             &lt;cascade&gt;\n                 &lt;cascade-persist/&gt;"},{"sha":"9a21a71feeb026374294a16b01cbbe5e20047072","filename":"openjpa-project/src/doc/manual/jpa_overview_query.xml","status":"modified","additions":21,"deletions":20,"changes":41,"blob_url":"https://github.com/apache/openjpa/blob/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/jpa_overview_query.xml","raw_url":"https://github.com/apache/openjpa/raw/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/jpa_overview_query.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/jpa_overview_query.xml?ref=a1e0cd78a7870332e54bc125c3db9aa78373a75e","patch":"@@ -130,7 +130,7 @@ Keywords in JPQL expressions are case-insensitive, but entity, identifier, and\n member names are not. For example, the expression above could also be expressed\n as:\n             </para>\n-<programlisting>SELECT x FROM Magazine x WHERE x.title = 'JDJ'</programlisting>\n+<programlisting>select x from Magazine x where x.title = 'JDJ'</programlisting>\n             <para>\n But it could not be expressed as:\n             </para>\n@@ -175,18 +175,18 @@ they are evaluated. This is similar to how parentheses are used in Java. For\n example:\n             </para>\n <programlisting>\n-SELECT x FROM Magazine x WHERE (x.price &gt; 3.00 AND x.price &lt;= 5.00) OR x.price = 7.00\n+SELECT x FROM Magazine x WHERE (x.price &gt; 3.00 AND x.price &lt;= 5.00) OR x.price &lt; 7.00\n </programlisting>\n             <para>\n-This expression would match magazines whose price is 4.00, 5.00, or 7.00, but\n-not 6.00. Alternately:\n+This expression would match magazines whose price is less than 7.00.\n+Alternately:\n             </para>\n <programlisting>\n-SELECT x FROM Magazine x WHERE x.price &gt; 3.00 AND (x.price &lt;= 5.00 OR x.price = 7.00)\n+SELECT x FROM Magazine x WHERE x.price &gt; 3.00 AND (x.price &lt;= 5.00 OR x.price &lt; 7.00)\n </programlisting>\n             <para>\n-This expression will magazines whose price is 5.00 or 7.00, but not 4.00 or\n-6.00.\n+This expression would match magazines whose price is 4.00, 5.00 or 6.00, but not\n+1.00, 2.00 or 3.00.\n             </para>\n             <para>\n JPQL also includes the following conditionals:\n@@ -2247,7 +2247,7 @@ for '_foo' and false for 'bar'\n                         <listitem>\n                             <para>\n <programlisting>address.phone NOT LIKE '12%3'</programlisting> is false for\n-'123' and '12993' and true for '1234' If the value of the string_expression or\n+'123' and '12993' and true for '1234'. If the value of the string_expression or\n pattern_value is <literal>NULL</literal> or unknown, the value of the <literal>\n LIKE</literal> expression is unknown. If the escape_character is specified and\n is <literal>NULL</literal>, the value of the <literal>LIKE</literal> expression\n@@ -2301,8 +2301,10 @@ comparison expression is unknown.\n                     JPQL Collection Member Expressions\n                 </title>\n                 <para>\n-The use of the comparison collection_member_expression is as follows: syntax for\n-the operator <literal>MEMBER OF</literal> in an <itemizedlist><listitem><para>\n+The use of the comparison collection_member_expression is as follows:\n+                    <itemizedlist>\n+                        <listitem>\n+                            <para>\n collection_member_expression ::= entity_expression [NOT] MEMBER [OF]\n collection_valued_path_expression\n                             </para>\n@@ -2331,6 +2333,9 @@ single-valued association-field path expression in the collection member\n expression is <literal>NULL</literal> or unknown, the value of the collection\n member expression is unknown.\n                 </para>\n+                <para>\n+The use of the reserved word OF is optional in this expression.\n+                </para>\n             </section>\n             <section id=\"jpa_langref_exists\">\n                 <title>\n@@ -2346,9 +2351,6 @@ exists_expression ::= [NOT] EXISTS (subquery)\n                     </itemizedlist>\n                 </para>\n                 <para>\n-The use of the reserved word OF is optional in this expression.\n-                </para>\n-                <para>\n Example: <programlisting>SELECT DISTINCT auth FROM Author auth\n     WHERE EXISTS\n         (SELECT spouseAuthor FROM Author spouseAuthor WHERE spouseAuthor = auth.spouse)\n@@ -2802,7 +2804,10 @@ COUNT</literal> can be applied, the result of the aggregate function is 0.\n                 <para>\n The argument to an aggregate function may be preceded by the keyword <literal>\n DISTINCT</literal> to specify that duplicate values are to be eliminated before\n-the aggregate function is applied. Null values are eliminated before the\n+the aggregate function is applied.\n+It is legal to specify <literal>DISTINCT</literal> with <literal>MAX</literal>\n+or <literal>MIN</literal>, but it does not affect the result.\n+Null values are eliminated before the\n aggregate function is applied, regardless of whether the keyword <literal>\n DISTINCT</literal> is specified.\n                 </para>\n@@ -2813,7 +2818,7 @@ DISTINCT</literal> is specified.\n                     <para>\n The following query returns the average price of all magazines:\n <programlisting>SELECT AVG(mag.price) FROM Magazine mag</programlisting> The\n-following query returns the sum total cost of all the prices from all the\n+following query returns the sum of all the prices from all the\n magazines published by 'Larry': <programlisting>SELECT SUM(mag.price) FROM Publisher pub JOIN pub.magazines mag pub.firstName = 'Larry'\n </programlisting> The following query returns the total number of magazines:\n <programlisting>SELECT COUNT(mag) FROM Magazine mag</programlisting>\n@@ -2843,16 +2848,12 @@ orderby_item ::= state_field_path_expression [ASC | DESC]\n                 </itemizedlist>\n             </para>\n             <para>\n-It is legal to specify <literal>DISTINCT</literal> with <literal>MAX</literal>\n-or <literal>MIN</literal>, but it does not affect the result.\n-            </para>\n-            <para>\n When the <literal>ORDER BY</literal> clause is used in a query, each element of\n the <literal>SELECT</literal> clause of the query must be one of the following:\n an identification variable x, optionally denoted as <literal>OBJECT(x)</literal>\n , a single_valued_association_path_expression, or a state_field_path_expression.\n For example: <programlisting>\n-SELECT pub FROM Publisher pub JOIN pub.magazines mag ORDER BY o.revenue, o.name\n+SELECT pub FROM Publisher pub ORDER BY pub.revenue, pub.name\n </programlisting> If more than one orderby_item is specified, the left-to-right\n sequence of the orderby_item elements determines the precedence, whereby the\n leftmost orderby_item has highest precedence. The keyword <literal>ASC</literal>"},{"sha":"c30123171871d95b7aa46876fdbab86d353c6b29","filename":"openjpa-project/src/doc/manual/ref_guide_dbsetup.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/ref_guide_dbsetup.xml","raw_url":"https://github.com/apache/openjpa/raw/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/ref_guide_dbsetup.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_dbsetup.xml?ref=a1e0cd78a7870332e54bc125c3db9aa78373a75e","patch":"@@ -3471,7 +3471,7 @@ SQL 92 syntax or a database-specific syntax with outer join support.\n         </para>\n         <para>\n The <link linkend=\"openjpa.jdbc.DBDictionary\"><literal>\n-openjpa.jdbc.DBDictionary</literal></link> plugin accepts the the <literal>\n+openjpa.jdbc.DBDictionary</literal></link> plugin accepts the <literal>\n JoinSyntax</literal> property to set the system's default syntax. The available\n values are:\n         </para>"},{"sha":"b21762e71d63958e7f23e39885db5cd1f0b38925","filename":"openjpa-project/src/doc/manual/ref_guide_pc.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/ref_guide_pc.xml","raw_url":"https://github.com/apache/openjpa/raw/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/ref_guide_pc.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_pc.xml?ref=a1e0cd78a7870332e54bc125c3db9aa78373a75e","patch":"@@ -634,9 +634,9 @@ method:\n                     Finding an Entity with an Entity Identity Field\n                 </title>\n <programlisting>\n-public Delivery createDelivery(EntityManager em, Order order) {\n+public Delivery createDelivery(Order order) {\n     Delivery delivery = new Delivery();\n-    delivery.setId(o);\n+    delivery.setId(order);\n     delivery.setDelivered(new Date());\n     return delivery;\n }"},{"sha":"aa4c2eb765f391acec35a61d6bf6bae9316adf0d","filename":"openjpa-project/src/doc/manual/ref_guide_remote.xml","status":"modified","additions":19,"deletions":1,"changes":20,"blob_url":"https://github.com/apache/openjpa/blob/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/ref_guide_remote.xml","raw_url":"https://github.com/apache/openjpa/raw/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/ref_guide_remote.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_remote.xml?ref=a1e0cd78a7870332e54bc125c3db9aa78373a75e","patch":"@@ -570,6 +570,15 @@ construction. For example, you might set the <literal>java.naming.provider.url\n To configure a factory to use the JMS provider, your properties might look like\n the following:\n                 </para>\n+                <example id=\"ref_guide_event_conf_jmsex\">\n+                    <title>\n+                        JMS Remote Commit Provider Configuration\n+                    </title>\n+<programlisting>\n+&lt;property name=\"openjpa.RemoteCommitProvider\"\n+    value=\"jms(ExceptionReconnectAttempts=5)\"/&gt;\n+</programlisting>\n+                </example>\n                 <note>\n                     <para>\n Because of the nature of JMS, it is important that you invoke <methodname>\n@@ -631,7 +640,7 @@ which notifications should be sent. No default value.\n <literal>NumBroadcastThreads</literal>: The number of threads to create for the\n purpose of transmitting events to peers. You sould increase this value as the\n number of concurrent transactions increases. The maximum number of concurrent\n-transactions is a function of the size of the connection pool. See the the\n+transactions is a function of the size of the connection pool. See the\n <literal>MaxActive</literal> property of <literal>\n openjpa.ConnectionFactoryProperties</literal> in\n <xref linkend=\"ref_guide_dbsetup_builtin\"/>. Setting a value of 0 will\n@@ -709,6 +718,15 @@ persisted object ids as well.\n To transmit persisted object ids in our remote commit events using the JMS\n provider, we modify the previous example as follows:\n                 </para>\n+                <example id=\"ref_guide_event_conf_jms2ex\">\n+                    <title>\n+                        JMS Remote Commit Provider transmitting Persisted Object Ids\n+                    </title>\n+<programlisting>\n+&lt;property name=\"openjpa.RemoteCommitProvider\"\n+    value=\"jms(ExceptionReconnectAttempts=5, TransmitPersistedObjectIds=true)\"/&gt;\n+</programlisting>\n+                </example>\n             </section>\n         </section>\n         <section id=\"ref_guide_event_customization\">"},{"sha":"8298bfe4218a27bf68ee19502239b361296c7a67","filename":"openjpa-project/src/doc/manual/ref_guide_slice.xml","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/apache/openjpa/blob/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/ref_guide_slice.xml","raw_url":"https://github.com/apache/openjpa/raw/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/ref_guide_slice.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_slice.xml?ref=a1e0cd78a7870332e54bc125c3db9aa78373a75e","patch":"@@ -174,13 +174,13 @@\n          <section><title>Distributed Transaction</title>\r\n             <para> \r\n             The database slices participate in a global transaction provided\r\n-            each slice is configured with a XA-complaint JDBC driver, even\r\n+            each slice is configured with a XA-compliant JDBC driver, even\r\n             when the persistence unit is configured for <code>RESOURCE_LOCAL</code>\r\n             transaction.\r\n             </para>\r\n             <para>\r\n             <warning>\r\n-            If any of the configured slices is not XA-complaint <emphasis>and</emphasis> \r\n+            If any of the configured slices is not XA-compliant <emphasis>and</emphasis> \r\n             the persistence unit is configured for <code>RESOURCE_LOCAL</code>\r\n             transaction then each slice is committed without any two-phase\r\n             commit protocol. If commit on any slice fails, then atomic nature of\r\n@@ -512,13 +512,13 @@ the JDBC connection URL of a slice.\n       or rolls back transaction on individual\r\n       slices using a two-phase commit protocol. The prerequisite to use this scheme\r\n       is, of course, that all the slices must be configured to use\r\n-      XA-complaint JDBC driver. \r\n+      XA-compliant JDBC driver. \r\n       </para>\r\n       <para>\r\n       The <code>jndi</code> policy employs a Transaction Manager by looking up the\r\n       JNDI context. The prerequisite to use this transaction\r\n       manager is, of course, that all the slices must be configured to use\r\n-      XA-complaint JDBC driver. \r\n+      XA-compliant JDBC driver. \r\n       <warning>This JNDI based policy is not available currently.</warning>\r\n       </para>\r\n     </section>\r"},{"sha":"fa9d9c74ec9c31745fa208e17d257ce6a18170d7","filename":"openjpa-project/src/doc/manual/supported_databases.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/supported_databases.xml","raw_url":"https://github.com/apache/openjpa/raw/a1e0cd78a7870332e54bc125c3db9aa78373a75e/openjpa-project/src/doc/manual/supported_databases.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/supported_databases.xml?ref=a1e0cd78a7870332e54bc125c3db9aa78373a75e","patch":"@@ -839,7 +839,7 @@ openjpa.ConnectionURL: jdbc:oracle:thin:@SERVER_NAME:1521:DB_NAME\n Oracle has support for \"query hints\", which are formatted comments embedded in\n SQL that provide some hint for how the query should be executed. These hints are\n usually designed to provide suggestions to the Oracle query optimizer for how to\n-efficiently perform a certainly query, and aren't typically needed for any but\n+efficiently perform a certain query, and aren't typically needed for any but\n the most intensive queries.\n             </para>\n             <example id=\"dbsupport_oracle_query_hints_ex\">"}]}

