{"sha":"a3fccb40e3f0e3708932f13e99fc52596eac592e","node_id":"MDY6Q29tbWl0MjA2MzY0OmEzZmNjYjQwZTNmMGUzNzA4OTMyZjEzZTk5ZmM1MjU5NmVhYzU5MmU=","commit":{"author":{"name":"Jody Grassel","email":"jgrassel@apache.org","date":"2013-09-27T16:05:01Z"},"committer":{"name":"Jody Grassel","email":"jgrassel@apache.org","date":"2013-09-27T16:05:01Z"},"message":"OPENJPA-2432: MySQL dictionary can't be found from a valid connection\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@1526968 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"5544ed6fbbfc39c0f6353ca7aa35be85aa70311d","url":"https://api.github.com/repos/apache/openjpa/git/trees/5544ed6fbbfc39c0f6353ca7aa35be85aa70311d"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/a3fccb40e3f0e3708932f13e99fc52596eac592e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/a3fccb40e3f0e3708932f13e99fc52596eac592e","html_url":"https://github.com/apache/openjpa/commit/a3fccb40e3f0e3708932f13e99fc52596eac592e","comments_url":"https://api.github.com/repos/apache/openjpa/commits/a3fccb40e3f0e3708932f13e99fc52596eac592e/comments","author":null,"committer":null,"parents":[{"sha":"9f8a682a037f3f92ef6401f82418f3751fe6e4c8","url":"https://api.github.com/repos/apache/openjpa/commits/9f8a682a037f3f92ef6401f82418f3751fe6e4c8","html_url":"https://github.com/apache/openjpa/commit/9f8a682a037f3f92ef6401f82418f3751fe6e4c8"}],"stats":{"total":5,"additions":4,"deletions":1},"files":[{"sha":"213513579bbbe4088389485596ab271ea6b98fa4","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionaryFactory.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/a3fccb40e3f0e3708932f13e99fc52596eac592e/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionaryFactory.java","raw_url":"https://github.com/apache/openjpa/raw/a3fccb40e3f0e3708932f13e99fc52596eac592e/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionaryFactory.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionaryFactory.java?ref=a3fccb40e3f0e3708932f13e99fc52596eac592e","patch":"@@ -95,7 +95,10 @@ public static DBDictionary newDBDictionary(JDBCConfiguration conf,\n                 dclass = dictionaryClassForString(getProtocol(meta.getURL()), conf);\n             if (dclass != null && dclass.contains(\"MySQL\")) {\n                 // MariaDB returns \"MySQL\" for product name, need to verify by looking at product version.\n-                dclass = dictionaryClassForString(meta.getDatabaseProductVersion(), conf);\n+                final String checkMariaDB = dictionaryClassForString(meta.getDatabaseProductVersion(), conf);\n+                if (checkMariaDB != null) {\n+                    dclass = checkMariaDB;\n+                }\n             }\n             if (dclass == null)\n                 dclass = DBDictionary.class.getName();"}]}

