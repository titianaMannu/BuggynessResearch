{"sha":"a6f62b829c605518e6404f5a63d52a5fbe4b74fc","node_id":"MDY6Q29tbWl0MjA2MzY0OmE2ZjYyYjgyOWM2MDU1MThlNjQwNGY1YTYzZDUyYTVmYmU0Yjc0ZmM=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2010-07-22T02:43:16Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2010-07-22T02:43:16Z"},"message":"resolves OPENJPA-1743: anchors in mappingtool config invocation\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@966482 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"59aab1deafaeb26f69e22f6fbe89899ae2af8329","url":"https://api.github.com/repos/apache/openjpa/git/trees/59aab1deafaeb26f69e22f6fbe89899ae2af8329"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/a6f62b829c605518e6404f5a63d52a5fbe4b74fc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/a6f62b829c605518e6404f5a63d52a5fbe4b74fc","html_url":"https://github.com/apache/openjpa/commit/a6f62b829c605518e6404f5a63d52a5fbe4b74fc","comments_url":"https://api.github.com/repos/apache/openjpa/commits/a6f62b829c605518e6404f5a63d52a5fbe4b74fc/comments","author":null,"committer":null,"parents":[{"sha":"b0b74b2b58f143d74a99543f99e7d5239fc2e761","url":"https://api.github.com/repos/apache/openjpa/commits/b0b74b2b58f143d74a99543f99e7d5239fc2e761","html_url":"https://github.com/apache/openjpa/commit/b0b74b2b58f143d74a99543f99e7d5239fc2e761"}],"stats":{"total":9,"additions":8,"deletions":1},"files":[{"sha":"1f655ab7808fcfb809283c3c3646e3d610ac75e1","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java","status":"modified","additions":8,"deletions":1,"changes":9,"blob_url":"https://github.com/apache/openjpa/blob/a6f62b829c605518e6404f5a63d52a5fbe4b74fc/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java","raw_url":"https://github.com/apache/openjpa/raw/a6f62b829c605518e6404f5a63d52a5fbe4b74fc/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/conf/ConfigurationImpl.java?ref=a6f62b829c605518e6404f5a63d52a5fbe4b74fc","patch":"@@ -840,7 +840,14 @@ protected boolean isInvalidProperty(String propName) {\n      * <code>properties</code> value with the name of a resource.\n      */\n     public void setProperties(String resourceName) throws IOException {\n-        ProductDerivations.load(resourceName, null, \n+        String anchor = null;\n+        if (resourceName.indexOf(\"#\") != -1)\n+        {\n+            anchor = resourceName.substring(resourceName.lastIndexOf(\"#\") + 1);\n+            resourceName = resourceName.substring(0,\n+                resourceName.length() - anchor.length() - 1);\n+        }\n+        ProductDerivations.load(resourceName, anchor,\n             getClass().getClassLoader()).setInto(this);\n         _auto = resourceName;\n     }"}]}

