{"sha":"ab032d8f737fab385234abf1240e501d6d147733","node_id":"MDY6Q29tbWl0MjA2MzY0OmFiMDMyZDhmNzM3ZmFiMzg1MjM0YWJmMTI0MGU1MDFkNmQxNDc3MzM=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2010-01-15T05:26:43Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2010-01-15T05:26:43Z"},"message":"Add constructor for more flexible signature\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@899532 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"48fb3643acfe861d55ebec644e75d4d9b844ac05","url":"https://api.github.com/repos/apache/openjpa/git/trees/48fb3643acfe861d55ebec644e75d4d9b844ac05"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/ab032d8f737fab385234abf1240e501d6d147733","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/ab032d8f737fab385234abf1240e501d6d147733","html_url":"https://github.com/apache/openjpa/commit/ab032d8f737fab385234abf1240e501d6d147733","comments_url":"https://api.github.com/repos/apache/openjpa/commits/ab032d8f737fab385234abf1240e501d6d147733/comments","author":null,"committer":null,"parents":[{"sha":"342c27dfd58e6c6d954b9335bca4e6f8ee16cb0c","url":"https://api.github.com/repos/apache/openjpa/commits/342c27dfd58e6c6d954b9335bca4e6f8ee16cb0c","html_url":"https://github.com/apache/openjpa/commit/342c27dfd58e6c6d954b9335bca4e6f8ee16cb0c"}],"stats":{"total":17,"additions":16,"deletions":1},"files":[{"sha":"7f23a9808d438224e3bcb132cd00fcfc49187e99","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/kernel/FillStrategy.java","status":"modified","additions":16,"deletions":1,"changes":17,"blob_url":"https://github.com/apache/openjpa/blob/ab032d8f737fab385234abf1240e501d6d147733/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/FillStrategy.java","raw_url":"https://github.com/apache/openjpa/raw/ab032d8f737fab385234abf1240e501d6d147733/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/FillStrategy.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/FillStrategy.java?ref=ab032d8f737fab385234abf1240e501d6d147733","patch":"@@ -120,8 +120,23 @@ public NewInstance(Class<T> cls) {\n             try {\n                 return cls.getConstructor(types);\n             } catch (Exception e) {\n-                throw new RuntimeException(_loc.get(\"fill-ctor-none\", cls, Arrays.toString(types)).getMessage());\n+                Constructor<?>[] constructors = cls.getConstructors();\n+                for (Constructor<?> cons : constructors) {\n+                    Class<?>[] paramTypes = cons.getParameterTypes();\n+                    boolean match = false;\n+                    if (paramTypes.length == types.length) {\n+                        for (int i = 0; i < paramTypes.length; i++) {\n+                            match = paramTypes[i].isAssignableFrom(Filters.wrap(types[i]));\n+                            if (!match)\n+                                break;\n+                            }\n+                        }\n+                        if (match) {\n+                            return (Constructor<X>)cons;\n+                        }\n+                }\n             }\n+            throw new RuntimeException(_loc.get(\"fill-ctor-none\", cls, Arrays.toString(types)).getMessage());\n         }\n         \n         public T fill(Object[] values, Class<?>[] types, String[] aliases) {"}]}

