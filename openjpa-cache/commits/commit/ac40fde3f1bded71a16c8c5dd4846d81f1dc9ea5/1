{"sha":"ac40fde3f1bded71a16c8c5dd4846d81f1dc9ea5","node_id":"MDY6Q29tbWl0MjA2MzY0OmFjNDBmZGUzZjFiZGVkNzFhMTZjOGM1ZGQ0ODQ2ZDgxZjFkYzllYTU=","commit":{"author":{"name":"Fay Wang","email":"faywang@apache.org","date":"2008-10-21T02:11:41Z"},"committer":{"name":"Fay Wang","email":"faywang@apache.org","date":"2008-10-21T02:11:41Z"},"message":"OPENJPA-745: raise string right truncation error for Sybase. Move\nthe call to _dict.initializedSettings inside the block of \nchecking whether _conn is null in JDBCStoreManager.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@706494 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"cb477de7beb1a84a815977e8c5d6eddee747fc8e","url":"https://api.github.com/repos/apache/openjpa/git/trees/cb477de7beb1a84a815977e8c5d6eddee747fc8e"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/ac40fde3f1bded71a16c8c5dd4846d81f1dc9ea5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/ac40fde3f1bded71a16c8c5dd4846d81f1dc9ea5","html_url":"https://github.com/apache/openjpa/commit/ac40fde3f1bded71a16c8c5dd4846d81f1dc9ea5","comments_url":"https://api.github.com/repos/apache/openjpa/commits/ac40fde3f1bded71a16c8c5dd4846d81f1dc9ea5/comments","author":null,"committer":null,"parents":[{"sha":"1e4aa60859d0a2a6ef90ab1d6c56dfb90ea7805b","url":"https://api.github.com/repos/apache/openjpa/commits/1e4aa60859d0a2a6ef90ab1d6c56dfb90ea7805b","html_url":"https://github.com/apache/openjpa/commit/1e4aa60859d0a2a6ef90ab1d6c56dfb90ea7805b"}],"stats":{"total":5,"additions":3,"deletions":2},"files":[{"sha":"889c0ba9a5227aba42ee9b61e97de178796fe4fd","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/ac40fde3f1bded71a16c8c5dd4846d81f1dc9ea5/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","raw_url":"https://github.com/apache/openjpa/raw/ac40fde3f1bded71a16c8c5dd4846d81f1dc9ea5/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/JDBCStoreManager.java?ref=ac40fde3f1bded71a16c8c5dd4846d81f1dc9ea5","patch":"@@ -916,11 +916,12 @@ private void connect(boolean ref) {\n         try {\n             // connect if the connection is currently null, or if\n             // the connection has been closed out from under us\n-            if (_conn == null)\n+            if (_conn == null){\n                 _conn = connectInternal();\n+                _dict.initializeSettings(_conn);\n+            }\n             if (ref)\n                 _conn.ref();\n-            _dict.initializeSettings(_conn);\n         } catch (SQLException se) {\n             throw SQLExceptions.getStore(se, _dict);\n         } finally {"}]}

