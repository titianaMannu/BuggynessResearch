{"sha":"add24283b4e0bf63b3ee0df65490d1e361edc410","node_id":"MDY6Q29tbWl0MjA2MzY0OmFkZDI0MjgzYjRlMGJmNjNiM2VlMGRmNjU0OTBkMWUzNjFlZGM0MTA=","commit":{"author":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2009-09-17T17:19:09Z"},"committer":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2009-09-17T17:19:09Z"},"message":"OPENJPA-1249 Make insertBlobForStreamingLoad method usage consistent for Oracle DB to eliminate NPE in updateBlob path.  \n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@816287 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"847992c341a07b8f069c84858a04c8926f86d3ae","url":"https://api.github.com/repos/apache/openjpa/git/trees/847992c341a07b8f069c84858a04c8926f86d3ae"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/add24283b4e0bf63b3ee0df65490d1e361edc410","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/add24283b4e0bf63b3ee0df65490d1e361edc410","html_url":"https://github.com/apache/openjpa/commit/add24283b4e0bf63b3ee0df65490d1e361edc410","comments_url":"https://api.github.com/repos/apache/openjpa/commits/add24283b4e0bf63b3ee0df65490d1e361edc410/comments","author":null,"committer":null,"parents":[{"sha":"1c4a61758ace44c766491f32193ad5d4612a958f","url":"https://api.github.com/repos/apache/openjpa/commits/1c4a61758ace44c766491f32193ad5d4612a958f","html_url":"https://github.com/apache/openjpa/commit/1c4a61758ace44c766491f32193ad5d4612a958f"}],"stats":{"total":10,"additions":10,"deletions":0},"files":[{"sha":"59eacd06dd6cf9a8ea44551412b7b6992aa6bc80","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/apache/openjpa/blob/add24283b4e0bf63b3ee0df65490d1e361edc410/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/add24283b4e0bf63b3ee0df65490d1e361edc410/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java?ref=add24283b4e0bf63b3ee0df65490d1e361edc410","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.openjpa.jdbc.sql;\n \n+import java.io.ByteArrayInputStream;\n import java.lang.reflect.InvocationTargetException;\n import java.lang.reflect.Method;\n import java.security.AccessController;\n@@ -40,6 +41,7 @@\n import java.util.Set;\n \n import org.apache.openjpa.jdbc.kernel.JDBCFetchConfiguration;\n+import org.apache.openjpa.jdbc.kernel.JDBCStore;\n import org.apache.openjpa.jdbc.kernel.exps.FilterValue;\n import org.apache.openjpa.jdbc.meta.JavaSQLTypes;\n import org.apache.openjpa.jdbc.schema.Column;\n@@ -1191,4 +1193,12 @@ protected Boolean matchErrorState(int subtype, Set<String> errorStates,\n         }\n         return recoverable;\n     }\n+    \n+    @Override\n+    public void insertBlobForStreamingLoad(Row row, Column col, \n+        JDBCStore store, Object ob, Select sel) throws SQLException {\n+        if (ob == null)\n+            col.setType(Types.OTHER);\n+        row.setNull(col);\n+    }    \n }"}]}

