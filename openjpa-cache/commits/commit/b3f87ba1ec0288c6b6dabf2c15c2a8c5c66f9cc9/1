{"sha":"b3f87ba1ec0288c6b6dabf2c15c2a8c5c66f9cc9","node_id":"MDY6Q29tbWl0MjA2MzY0OmIzZjg3YmExZWMwMjg4YzZiNmRhYmYyYzE1YzJhOGM1YzY2ZjljYzk=","commit":{"author":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2008-05-21T03:17:04Z"},"committer":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2008-05-21T03:17:04Z"},"message":"OPENJPA-596 ClassCastException during in-memory update with Informix IDS 10.0\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@658541 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"61d423456900af16386582e8e1f346977498bfc3","url":"https://api.github.com/repos/apache/openjpa/git/trees/61d423456900af16386582e8e1f346977498bfc3"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/b3f87ba1ec0288c6b6dabf2c15c2a8c5c66f9cc9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/b3f87ba1ec0288c6b6dabf2c15c2a8c5c66f9cc9","html_url":"https://github.com/apache/openjpa/commit/b3f87ba1ec0288c6b6dabf2c15c2a8c5c66f9cc9","comments_url":"https://api.github.com/repos/apache/openjpa/commits/b3f87ba1ec0288c6b6dabf2c15c2a8c5c66f9cc9/comments","author":null,"committer":null,"parents":[{"sha":"3a5e61238d9e472053230df7a46e79f9ec3c3c37","url":"https://api.github.com/repos/apache/openjpa/commits/3a5e61238d9e472053230df7a46e79f9ec3c3c37","html_url":"https://github.com/apache/openjpa/commit/3a5e61238d9e472053230df7a46e79f9ec3c3c37"}],"stats":{"total":4,"additions":3,"deletions":1},"files":[{"sha":"695118e6b22f9edfbcc1630019d20f4b3a4dcf01","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/kernel/QueryImpl.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/b3f87ba1ec0288c6b6dabf2c15c2a8c5c66f9cc9/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/QueryImpl.java","raw_url":"https://github.com/apache/openjpa/raw/b3f87ba1ec0288c6b6dabf2c15c2a8c5c66f9cc9/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/QueryImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/QueryImpl.java?ref=b3f87ba1ec0288c6b6dabf2c15c2a8c5c66f9cc9","patch":"@@ -39,6 +39,7 @@\n import org.apache.openjpa.kernel.exps.FilterListener;\r\n import org.apache.openjpa.kernel.exps.Constant;\r\n import org.apache.openjpa.kernel.exps.Literal;\r\n+import org.apache.openjpa.kernel.exps.Path;\r\n import org.apache.openjpa.kernel.exps.Val;\r\n import org.apache.openjpa.lib.log.Log;\r\n import org.apache.openjpa.lib.rop.EagerResultList;\r\n@@ -1066,7 +1067,8 @@ private void updateInMemory(Object ob, Object[] params) {\n         for (Iterator it = getUpdates().entrySet().iterator();\r\n             it.hasNext();) {\r\n             Map.Entry e = (Map.Entry) it.next();\r\n-            FieldMetaData fmd = (FieldMetaData) e.getKey();\r\n+            Path path = (Path) e.getKey();\r\n+            FieldMetaData fmd = (FieldMetaData) path.last();\r\n \r\n             Object val;\r\n             Object value = e.getValue();\r"}]}

