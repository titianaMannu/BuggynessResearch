{"sha":"b8e6cb6011059d826e9cb9f24ff67efa4c35ea64","node_id":"MDY6Q29tbWl0MjA2MzY0OmI4ZTZjYjYwMTEwNTlkODI2ZTljYjlmMjRmZjY3ZWZhNGMzNWVhNjQ=","commit":{"author":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2008-03-21T21:46:55Z"},"committer":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2008-03-21T21:46:55Z"},"message":"OPENJPA-541 Generate SQL92 JOIN syntax for Oracle 9 or later releases\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.0.x@639874 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"71005b3bbb426061b95b95c40f30744fe83292d0","url":"https://api.github.com/repos/apache/openjpa/git/trees/71005b3bbb426061b95b95c40f30744fe83292d0"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/b8e6cb6011059d826e9cb9f24ff67efa4c35ea64","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/b8e6cb6011059d826e9cb9f24ff67efa4c35ea64","html_url":"https://github.com/apache/openjpa/commit/b8e6cb6011059d826e9cb9f24ff67efa4c35ea64","comments_url":"https://api.github.com/repos/apache/openjpa/commits/b8e6cb6011059d826e9cb9f24ff67efa4c35ea64/comments","author":null,"committer":null,"parents":[{"sha":"7c3235e4dbf7023210c7be03fc962af8ff6e5478","url":"https://api.github.com/repos/apache/openjpa/commits/7c3235e4dbf7023210c7be03fc962af8ff6e5478","html_url":"https://github.com/apache/openjpa/commit/7c3235e4dbf7023210c7be03fc962af8ff6e5478"}],"stats":{"total":6,"additions":4,"deletions":2},"files":[{"sha":"65977fcb3cc4395cceb7ad58dc609701ff5f60cd","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","status":"modified","additions":4,"deletions":2,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/b8e6cb6011059d826e9cb9f24ff67efa4c35ea64/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/b8e6cb6011059d826e9cb9f24ff67efa4c35ea64/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java?ref=b8e6cb6011059d826e9cb9f24ff67efa4c35ea64","patch":"@@ -191,18 +191,20 @@ public void connectedConfiguration(Connection conn)\n                 int release = Integer.parseInt(productVersion);\n                 \n                 // warn sql92\n-                if (release == 8) {\n+                if (release <= 8) {\n                     if (joinSyntax == SYNTAX_SQL92 && log.isWarnEnabled())\n                         log.warn(_loc.get(\"oracle-syntax\"));\n                     joinSyntax = SYNTAX_DATABASE;\n                     dateTypeName = \"DATE\"; // added oracle 9\n                     timestampTypeName = \"DATE\"; // added oracle 9\n                     supportsXMLColumn = false;\n                 }\n-                else \n+                else {\n                     // select of an xml column requires \".getStringVal()\"\n                     // suffix. eg. t0.xmlcol.getStringVal()\n                     getStringVal = \".getStringVal()\";\n+                    joinSyntax = SYNTAX_SQL92;\n+                }\n             } else if (metadataClassName.startsWith(\"com.ddtek.\")\n                 || url.indexOf(\"jdbc:datadirect:oracle:\") != -1\n                 || \"Oracle\".equals(driverName)) {"}]}

