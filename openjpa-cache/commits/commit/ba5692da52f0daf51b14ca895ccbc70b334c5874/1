{"sha":"ba5692da52f0daf51b14ca895ccbc70b334c5874","node_id":"MDY6Q29tbWl0MjA2MzY0OmJhNTY5MmRhNTJmMGRhZjUxYjE0Y2E4OTVjY2JjNzBiMzM0YzU4NzQ=","commit":{"author":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2009-09-11T15:27:39Z"},"committer":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2009-09-11T15:27:39Z"},"message":"OPENJPA-1292 - Committing contribution submitted by Tim McConnell.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@813879 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"41fba47243470447ecad45d6bd435a4b853e012d","url":"https://api.github.com/repos/apache/openjpa/git/trees/41fba47243470447ecad45d6bd435a4b853e012d"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/ba5692da52f0daf51b14ca895ccbc70b334c5874","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/ba5692da52f0daf51b14ca895ccbc70b334c5874","html_url":"https://github.com/apache/openjpa/commit/ba5692da52f0daf51b14ca895ccbc70b334c5874","comments_url":"https://api.github.com/repos/apache/openjpa/commits/ba5692da52f0daf51b14ca895ccbc70b334c5874/comments","author":null,"committer":null,"parents":[{"sha":"b573799fc3176ef578951fd8e0e8eced0ee82328","url":"https://api.github.com/repos/apache/openjpa/commits/b573799fc3176ef578951fd8e0e8eced0ee82328","html_url":"https://github.com/apache/openjpa/commit/b573799fc3176ef578951fd8e0e8eced0ee82328"}],"stats":{"total":8,"additions":4,"deletions":4},"files":[{"sha":"1e1d9fc53f8d287c52cf5e5d23336554883fc5ae","filename":"openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/apache/openjpa/blob/ba5692da52f0daf51b14ca895ccbc70b334c5874/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","raw_url":"https://github.com/apache/openjpa/raw/ba5692da52f0daf51b14ca895ccbc70b334c5874/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java?ref=ba5692da52f0daf51b14ca895ccbc70b334c5874","patch":"@@ -95,9 +95,7 @@ public OpenJPAEntityManagerFactory createEntityManagerFactory(String name,\n             BrokerFactory factory = getBrokerFactory(cp, poolValue, null);\n             OpenJPAConfiguration conf = factory.getConfiguration();\n             _log = conf.getLog(OpenJPAConfiguration.LOG_RUNTIME);\n-            if(pd.checkPuNameCollisions(_log,name)==true) {\n-                ;//return null;\n-            }\n+            pd.checkPuNameCollisions(_log,name);\n             \n             loadAgent(_log, conf);\n             \n@@ -107,7 +105,9 @@ public OpenJPAEntityManagerFactory createEntityManagerFactory(String name,\n             \n             return JPAFacadeHelper.toEntityManagerFactory(factory);\n         } catch (Exception e) {\n-            _log.error(_loc.get(\"create-emf-error\", name), e);\n+            if (_log != null) {\n+                _log.error(_loc.get(\"create-emf-error\", name), e);\n+            }\n             /*\n              * Maintain 1.x behavior of throwing exceptions, even though\n              * JPA2 9.2 - createEMF \"must\" return null for PU it can't handle"}]}

