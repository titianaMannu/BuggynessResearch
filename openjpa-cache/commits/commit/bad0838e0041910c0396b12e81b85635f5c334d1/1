{"sha":"bad0838e0041910c0396b12e81b85635f5c334d1","node_id":"MDY6Q29tbWl0MjA2MzY0OmJhZDA4MzhlMDA0MTkxMGMwMzk2YjEyZTgxYjg1NjM1ZjVjMzM0ZDE=","commit":{"author":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2010-01-21T04:30:33Z"},"committer":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2010-01-21T04:30:33Z"},"message":"OPENJPA-1115 Fix problem with sequence schema matching due to extraneous spaces and fix some testcase failures on non-Derby DB platforms that are caused by naming collisions.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@901525 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2452364e602291bdc0feedf84096a48b35dfa34e","url":"https://api.github.com/repos/apache/openjpa/git/trees/2452364e602291bdc0feedf84096a48b35dfa34e"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/bad0838e0041910c0396b12e81b85635f5c334d1","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/bad0838e0041910c0396b12e81b85635f5c334d1","html_url":"https://github.com/apache/openjpa/commit/bad0838e0041910c0396b12e81b85635f5c334d1","comments_url":"https://api.github.com/repos/apache/openjpa/commits/bad0838e0041910c0396b12e81b85635f5c334d1/comments","author":null,"committer":null,"parents":[{"sha":"3042900de18bd5f37011455050f5ab9078bb4b76","url":"https://api.github.com/repos/apache/openjpa/commits/3042900de18bd5f37011455050f5ab9078bb4b76","html_url":"https://github.com/apache/openjpa/commit/3042900de18bd5f37011455050f5ab9078bb4b76"}],"stats":{"total":10,"additions":6,"deletions":4},"files":[{"sha":"780f41bc754d5e85b446132085608935da6445db","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","status":"modified","additions":4,"deletions":2,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/bad0838e0041910c0396b12e81b85635f5c334d1/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/bad0838e0041910c0396b12e81b85635f5c334d1/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java?ref=bad0838e0041910c0396b12e81b85635f5c334d1","patch":"@@ -3961,8 +3961,10 @@ protected Table newTable(ResultSet tableMeta)\n     protected Sequence newSequence(ResultSet sequenceMeta)\n         throws SQLException {\n         Sequence seq = new Sequence();\n-        seq.setSchemaIdentifier(fromDBName(sequenceMeta.getString(\"SEQUENCE_SCHEMA\"), DBIdentifierType.SCHEMA));\n-        seq.setIdentifier(fromDBName(sequenceMeta.getString(\"SEQUENCE_NAME\"), DBIdentifierType.SEQUENCE));\n+        seq.setSchemaIdentifier(fromDBName(StringUtils.stripEnd(sequenceMeta.getString(\"SEQUENCE_SCHEMA\"), null),\n+            DBIdentifierType.SCHEMA));\n+        seq.setIdentifier(fromDBName(StringUtils.stripEnd(sequenceMeta.getString(\"SEQUENCE_NAME\"), null),\n+            DBIdentifierType.SEQUENCE));\n         return seq;\n     }\n "},{"sha":"cc69e715d22add2c7bb4bb76a386d158c2fcd0c7","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/delimited/identifiers/noschema/EntityE.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/bad0838e0041910c0396b12e81b85635f5c334d1/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/delimited/identifiers/noschema/EntityE.java","raw_url":"https://github.com/apache/openjpa/raw/bad0838e0041910c0396b12e81b85635f5c334d1/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/delimited/identifiers/noschema/EntityE.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/delimited/identifiers/noschema/EntityE.java?ref=bad0838e0041910c0396b12e81b85635f5c334d1","patch":"@@ -31,7 +31,7 @@\n public class EntityE {\n     @Id\n     @SequenceGenerator(name=\"entityE_seq_gen_name\", \n-        sequenceName=\"\\\"entityE seq gen\\\"\")\n+        sequenceName=\"\\\"entityE nsseq gen\\\"\")\n     @GeneratedValue(strategy=GenerationType.SEQUENCE, \n         generator=\"entityE_seq_gen_name\")\n     private int id;"},{"sha":"4e3b2646f7589bd930924c654f52a04a8a298214","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/delimited/identifiers/noschema/EntityF.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/bad0838e0041910c0396b12e81b85635f5c334d1/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/delimited/identifiers/noschema/EntityF.java","raw_url":"https://github.com/apache/openjpa/raw/bad0838e0041910c0396b12e81b85635f5c334d1/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/delimited/identifiers/noschema/EntityF.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/delimited/identifiers/noschema/EntityF.java?ref=bad0838e0041910c0396b12e81b85635f5c334d1","patch":"@@ -43,7 +43,7 @@\n @SecondaryTable(name=\"\\\"nssecondary entityF\\\"\",\n     uniqueConstraints=\n         @UniqueConstraint(name=\"\\\"nssec unq\\\"\", \n-            columnNames={\"\\\"nssecondary name\\\"\"}))         \n+            columnNames={\"\\\"nssecondary name\\\"\"}))\n public class EntityF {\n     @TableGenerator(name = \"f_id_gen\", table = \"\\\"nsf id gen\\\"\", \n         pkColumnName = \"\\\"nsgen pk\\\"\", valueColumnName = \"\\\"nsgen value\\\"\")"}]}

