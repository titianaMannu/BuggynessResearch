{"sha":"c13e2baab7aa0c71ad6fafbc9c6527e1393a2894","node_id":"MDY6Q29tbWl0MjA2MzY0OmMxM2UyYmFhYjdhYTBjNzFhZDZmYWZiYzljNjUyN2UxMzkzYTI4OTQ=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2007-02-06T17:46:33Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2007-02-06T17:46:33Z"},"message":"Dynamic implementation class of a subInterface is loaded with the classloader of the dynamic implementaion of the superInterface.\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@504216 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"9b88f9a6a743e7fe745cb084125aad94fc864f14","url":"https://api.github.com/repos/apache/openjpa/git/trees/9b88f9a6a743e7fe745cb084125aad94fc864f14"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/c13e2baab7aa0c71ad6fafbc9c6527e1393a2894","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/c13e2baab7aa0c71ad6fafbc9c6527e1393a2894","html_url":"https://github.com/apache/openjpa/commit/c13e2baab7aa0c71ad6fafbc9c6527e1393a2894","comments_url":"https://api.github.com/repos/apache/openjpa/commits/c13e2baab7aa0c71ad6fafbc9c6527e1393a2894/comments","author":null,"committer":null,"parents":[{"sha":"326df83bb224167f9abc408ac90173666d146d78","url":"https://api.github.com/repos/apache/openjpa/commits/326df83bb224167f9abc408ac90173666d146d78","html_url":"https://github.com/apache/openjpa/commit/326df83bb224167f9abc408ac90173666d146d78"}],"stats":{"total":7,"additions":5,"deletions":2},"files":[{"sha":"e1f49091a05ee7bec15fd6340fcdd7e70100c6b5","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/meta/InterfaceImplGenerator.java","status":"modified","additions":5,"deletions":2,"changes":7,"blob_url":"https://github.com/apache/openjpa/blob/c13e2baab7aa0c71ad6fafbc9c6527e1393a2894/openjpa-kernel/src/main/java/org/apache/openjpa/meta/InterfaceImplGenerator.java","raw_url":"https://github.com/apache/openjpa/raw/c13e2baab7aa0c71ad6fafbc9c6527e1393a2894/openjpa-kernel/src/main/java/org/apache/openjpa/meta/InterfaceImplGenerator.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/meta/InterfaceImplGenerator.java?ref=c13e2baab7aa0c71ad6fafbc9c6527e1393a2894","patch":"@@ -73,11 +73,15 @@ public synchronized Class createImpl(ClassMetaData meta) {\n \n         ClassLoader parentLoader = iface.getClassLoader();\n         BCClassLoader loader = new BCClassLoader(_project, parentLoader);\n+        BCClassLoader enhLoader = new BCClassLoader(_enhProject, parentLoader);\n         BCClass bc = _project.loadClass(getClassName(meta));\n         bc.declareInterface(iface);\n         ClassMetaData sup = meta.getPCSuperclassMetaData();\n-        if (sup != null)\n+        if (sup != null) {\n             bc.setSuperclass(sup.getInterfaceImpl());\n+            enhLoader = new BCClassLoader(_enhProject, \n+            \t\tsup.getInterfaceImpl().getClassLoader());\n+        }\n \n         FieldMetaData[] fields = meta.getDeclaredFields();\n         Set methods = new HashSet();\n@@ -103,7 +107,6 @@ public synchronized Class createImpl(ClassMetaData meta) {\n         if (result != PCEnhancer.ENHANCE_PC)\n             throw new InternalException(_loc.get(\"interface-badenhance\", \n                 iface)).setFatal(true);\n-        BCClassLoader enhLoader = new BCClassLoader(_enhProject, parentLoader);\n         try{\n             // load the class for real.\n             impl = Class.forName(bc.getName(), true, enhLoader);"}]}

