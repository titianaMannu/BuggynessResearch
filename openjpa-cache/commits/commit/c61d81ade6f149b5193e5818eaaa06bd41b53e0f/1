{"sha":"c61d81ade6f149b5193e5818eaaa06bd41b53e0f","node_id":"MDY6Q29tbWl0MjA2MzY0OmM2MWQ4MWFkZTZmMTQ5YjUxOTNlNTgxOGVhYWEwNmJkNDFiNTNlMGY=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2008-02-07T04:51:08Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2008-02-07T04:51:08Z"},"message":"Change property name prefix from 'slice.*' to 'openjpa.slice.*' + Apache License Header \n\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@619263 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"0d9998a9fa286735f5a4bd3017130e1974d82e80","url":"https://api.github.com/repos/apache/openjpa/git/trees/0d9998a9fa286735f5a4bd3017130e1974d82e80"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/c61d81ade6f149b5193e5818eaaa06bd41b53e0f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/c61d81ade6f149b5193e5818eaaa06bd41b53e0f","html_url":"https://github.com/apache/openjpa/commit/c61d81ade6f149b5193e5818eaaa06bd41b53e0f","comments_url":"https://api.github.com/repos/apache/openjpa/commits/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/comments","author":null,"committer":null,"parents":[{"sha":"fd7eae62104e624c16ee22695293f77c82259991","url":"https://api.github.com/repos/apache/openjpa/commits/fd7eae62104e624c16ee22695293f77c82259991","html_url":"https://github.com/apache/openjpa/commit/fd7eae62104e624c16ee22695293f77c82259991"}],"stats":{"total":391,"additions":195,"deletions":196},"files":[{"sha":"d39f2acb9104b3f6746254e85c2de7c14c5cd299","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/ExecutorServiceValue.java","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/ExecutorServiceValue.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/ExecutorServiceValue.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/ExecutorServiceValue.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -20,18 +20,13 @@\n \r\n import java.util.Arrays;\r\n import java.util.List;\r\n-import java.util.concurrent.BlockingQueue;\r\n-import java.util.concurrent.Callable;\r\n import java.util.concurrent.ExecutorService;\r\n import java.util.concurrent.Executors;\r\n import java.util.concurrent.PriorityBlockingQueue;\r\n-import java.util.concurrent.RejectedExecutionHandler;\r\n import java.util.concurrent.ThreadFactory;\r\n import java.util.concurrent.ThreadPoolExecutor;\r\n import java.util.concurrent.TimeUnit;\r\n \r\n-import org.apache.openjpa.event.RemoteCommitEventManager;\r\n-import org.apache.openjpa.event.RemoteCommitProvider;\r\n import org.apache.openjpa.lib.conf.Configuration;\r\n import org.apache.openjpa.lib.conf.Configurations;\r\n import org.apache.openjpa.lib.conf.PluginValue;\r"},{"sha":"299149ab9216487c720eaf2d7095da29c21f472b","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/ProductDerivation.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/ProductDerivation.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/ProductDerivation.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/ProductDerivation.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -41,7 +41,7 @@ public void putBrokerFactoryAliases(Map m) {\n \t}\r\n \r\n \tpublic String getConfigurationPrefix() {\r\n-\t\treturn \"slice\";\r\n+\t\treturn \"openjpa.slice\";\r\n \t}\r\n \r\n \tpublic int getType() {\r"},{"sha":"28b444dc1b8bfb633bc46d0afce881083047d852","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/SliceVersion.java","status":"removed","additions":0,"deletions":55,"changes":55,"blob_url":"https://github.com/apache/openjpa/blob/fd7eae62104e624c16ee22695293f77c82259991/openjpa-slice/src/main/java/org/apache/openjpa/slice/SliceVersion.java","raw_url":"https://github.com/apache/openjpa/raw/fd7eae62104e624c16ee22695293f77c82259991/openjpa-slice/src/main/java/org/apache/openjpa/slice/SliceVersion.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/SliceVersion.java?ref=fd7eae62104e624c16ee22695293f77c82259991","patch":"@@ -1,55 +0,0 @@\n-/*\r\n- * Licensed to the Apache Software Foundation (ASF) under one\r\n- * or more contributor license agreements.  See the NOTICE file\r\n- * distributed with this work for additional information\r\n- * regarding copyright ownership.  The ASF licenses this file\r\n- * to you under the Apache License, Version 2.0 (the\r\n- * \"License\"); you may not use this file except in compliance\r\n- * with the License.  You may obtain a copy of the License at\r\n- *\r\n- * http://www.apache.org/licenses/LICENSE-2.0\r\n- *\r\n- * Unless required by applicable law or agreed to in writing,\r\n- * software distributed under the License is distributed on an\r\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n- * KIND, either express or implied.  See the License for the\r\n- * specific language governing permissions and limitations\r\n- * under the License.    \r\n- */\r\n-package org.apache.openjpa.slice;\r\n-\r\n-import java.io.InputStream;\r\n-import java.util.Properties;\r\n-\r\n-public class SliceVersion  {\r\n-    public static final String VERSION;\r\n-    public static final String REVISION;\r\n-    \r\n-    static {\r\n-        Properties revisionProps = new Properties();\r\n-        try {\r\n-            InputStream in = SliceVersion.class.getResourceAsStream\r\n-                (\"/META-INF/org.apache.openjpa.slice.revision.properties\");\r\n-            if (in != null) {\r\n-                try {\r\n-                    revisionProps.load(in);\r\n-                } finally {\r\n-                    in.close();\r\n-                }\r\n-            }\r\n-        } catch (Exception e) {\r\n-        }\r\n-\r\n-        VERSION = revisionProps.getProperty(\"slice.version\", \"0.0.0\");\r\n-        REVISION = revisionProps.getProperty(\"revision.number\");\r\n-    }\r\n-    \r\n-    public static void main(String[] args) {\r\n-        System.out.println(new SliceVersion());\r\n-    }\r\n-    \r\n-    public String toString() {\r\n-        return \"Slice Version \" + VERSION + \" [revision \"+REVISION+\"]\";\r\n-    }\r\n-\r\n-}\r"},{"sha":"4b815d31c0c04924e093cb360969b7bffc260f17","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/AggregateResultObjectProvider.java","status":"removed","additions":0,"deletions":120,"changes":120,"blob_url":"https://github.com/apache/openjpa/blob/fd7eae62104e624c16ee22695293f77c82259991/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/AggregateResultObjectProvider.java","raw_url":"https://github.com/apache/openjpa/raw/fd7eae62104e624c16ee22695293f77c82259991/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/AggregateResultObjectProvider.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/AggregateResultObjectProvider.java?ref=fd7eae62104e624c16ee22695293f77c82259991","patch":"@@ -1,120 +0,0 @@\n-/*\r\n- * Licensed to the Apache Software Foundation (ASF) under one\r\n- * or more contributor license agreements.  See the NOTICE file\r\n- * distributed with this work for additional information\r\n- * regarding copyright ownership.  The ASF licenses this file\r\n- * to you under the Apache License, Version 2.0 (the\r\n- * \"License\"); you may not use this file except in compliance\r\n- * with the License.  You may obtain a copy of the License at\r\n- *\r\n- * http://www.apache.org/licenses/LICENSE-2.0\r\n- *\r\n- * Unless required by applicable law or agreed to in writing,\r\n- * software distributed under the License is distributed on an\r\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n- * KIND, either express or implied.  See the License for the\r\n- * specific language governing permissions and limitations\r\n- * under the License.    \r\n- */\r\n-package org.apache.openjpa.slice.jdbc;\r\n-\r\n-import org.apache.openjpa.kernel.StoreQuery;\r\n-import org.apache.openjpa.kernel.exps.QueryExpressions;\r\n-import org.apache.openjpa.kernel.exps.Value;\r\n-import org.apache.openjpa.lib.rop.ResultObjectProvider;\r\n-import org.apache.openjpa.util.InternalException;\r\n-\r\n-public class AggregateResultObjectProvider implements ResultObjectProvider {\r\n-    private final ResultObjectProvider[] _rops;\r\n-    private final StoreQuery _query;\r\n-    private final QueryExpressions[] _exps;\r\n-    private Object _single;\r\n-    private boolean _opened;\r\n-\r\n-    public AggregateResultObjectProvider(ResultObjectProvider[] rops, \r\n-            StoreQuery q, QueryExpressions[] exps) {\r\n-        _rops = rops;\r\n-        _query = q;\r\n-        _exps = exps;\r\n-    }\r\n-    \r\n-    public boolean absolute(int pos) throws Exception {\r\n-        return false;\r\n-    }\r\n-\r\n-    public void close() throws Exception {\r\n-        _opened = false;\r\n-        for (ResultObjectProvider rop:_rops)\r\n-            rop.close();\r\n-    }\r\n-\r\n-    public Object getResultObject() throws Exception {\r\n-        if (!_opened)\r\n-            throw new InternalException(this + \" not-open\");\r\n-        return _single;\r\n-    }\r\n-\r\n-    public void handleCheckedException(Exception e) {\r\n-        _rops[0].handleCheckedException(e);\r\n-    }\r\n-\r\n-    public boolean next() throws Exception {\r\n-        if (!_opened) {\r\n-            open();\r\n-        }\r\n-            \r\n-        if (_single != null)\r\n-            return false;\r\n-        \r\n-        Value[] values = _exps[0].projections;\r\n-        Object[] single = new Object[values.length]; \r\n-        for (int i=0; i<values.length; i++) {\r\n-            Value v = values[i];\r\n-            boolean isAggregate = v.isAggregate();\r\n-            int op = decideOperationType(v);\r\n-            for (ResultObjectProvider rop:_rops) {\r\n-                rop.next();\r\n-                Object[] row = (Object[]) rop.getResultObject();\r\n-                switch (op) {\r\n-                case 2: single[i] = count(single[i],row[i]);\r\n-                break;\r\n-                default : single[i] = row[i];\r\n-                }\r\n-            } \r\n-        }\r\n-        \r\n-        _single = single;\r\n-        return true;\r\n-    }\r\n-    \r\n-    int decideOperationType(Value v) {\r\n-        String cls = v.getClass().getName();\r\n-        if (cls.equals(\"org.apache.openjpa.jdbc.kernel.exps.Sum\"))\r\n-            return 1;\r\n-        if (cls.equals(\"org.apache.openjpa.jdbc.kernel.exps.Count\"))\r\n-            return 2;\r\n-        return 0;\r\n-    }\r\n-    long count(Object current, Object other) {\r\n-        if (current == null)\r\n-            return (Long) other;\r\n-        return (Long)current + (Long)other;\r\n-    }\r\n-\r\n-    public void open() throws Exception {\r\n-        for (ResultObjectProvider rop:_rops)\r\n-            rop.open();\r\n-        _opened = true;\r\n-    }\r\n-\r\n-    public void reset() throws Exception {\r\n-    }\r\n-\r\n-    public int size() throws Exception {\r\n-        return 1;\r\n-    }\r\n-\r\n-    public boolean supportsRandomAccess() {\r\n-         return false;\r\n-    }\r\n-}\r"},{"sha":"ab3a4792940b5016c63eb656439bbc381228c4a5","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedJDBCBrokerFactory.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedJDBCBrokerFactory.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedJDBCBrokerFactory.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedJDBCBrokerFactory.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -27,7 +27,6 @@\n import org.apache.openjpa.kernel.StoreManager;\r\n import org.apache.openjpa.lib.conf.ConfigurationProvider;\r\n import org.apache.openjpa.lib.util.Localizer;\r\n-import org.apache.openjpa.slice.SliceVersion;\r\n \r\n /**\r\n  * A factory for distributed JDBC datastores.\r\n@@ -102,6 +101,6 @@ protected StoreManager newStoreManager() {\n \t\r\n     @Override\r\n     protected Object getFactoryInitializationBanner() {\r\n-        return _loc.get(\"factory-init\", new SliceVersion());\r\n+        return _loc.get(\"factory-init\", OpenJPAVersion.VERSION_NUMBER);\r\n     }\r\n }\r"},{"sha":"0f156947218ca70f67704a29fc3ffe1f29a33c07","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedJDBCConfigurationImpl.java","status":"modified","additions":14,"deletions":8,"changes":22,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedJDBCConfigurationImpl.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedJDBCConfigurationImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedJDBCConfigurationImpl.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -37,6 +37,7 @@\n import org.apache.openjpa.jdbc.schema.DataSourceFactory;\r\n import org.apache.openjpa.lib.conf.BooleanValue;\r\n import org.apache.openjpa.lib.conf.ConfigurationProvider;\r\n+import org.apache.openjpa.lib.conf.Configurations;\r\n import org.apache.openjpa.lib.conf.PluginValue;\r\n import org.apache.openjpa.lib.conf.StringListValue;\r\n import org.apache.openjpa.lib.conf.StringValue;\r\n@@ -50,7 +51,6 @@\n import org.apache.openjpa.slice.DistributionPolicy;\r\n import org.apache.openjpa.slice.ExecutorServiceValue;\r\n import org.apache.openjpa.slice.Slice;\r\n-import org.apache.openjpa.slice.SliceVersion;\r\n import org.apache.openjpa.util.UserException;\r\n \r\n /**\r\n@@ -74,10 +74,12 @@\n     protected ExecutorServiceValue executorServicePlugin;\r\n     protected PluginValue distributionPolicyPlugin;\r\n \r\n+    public static final String PREFIX_SLICE = \"openjpa.slice.\";\r\n+    public static final String PREFIX_OPENJPA = \"openjpa.\";\r\n+    public static final String REGEX_DOT = \"\\\\.\";\r\n+    public static final String DOT = \".\";\r\n     private static Localizer _loc =\r\n             Localizer.forPackage(DistributedJDBCConfigurationImpl.class);\r\n-    public static final String PREFIX_SLICE = \"slice.\";\r\n-    public static final String PREFIX_OPENJPA = \"openjpa.\";\r\n \r\n     /**\r\n      * Configure itself as well as underlying slices.\r\n@@ -89,7 +91,6 @@ public DistributedJDBCConfigurationImpl(ConfigurationProvider cp) {\n         String pUnit = getPersistenceUnitName(p);\r\n         setDiagnosticContext(pUnit);\r\n         Log log = getConfigurationLog();\r\n-        log.info(_loc.get(\"config-init\", SliceVersion.VERSION));\r\n         \r\n         brokerPlugin.setString(DistributedBrokerImpl.class.getName());\r\n         \r\n@@ -188,6 +189,8 @@ public Slice getSlice(String name) {\n \r\n     public DistributionPolicy getDistributionPolicyInstance() {\r\n         if (distributionPolicyPlugin.get() == null) {\r\n+//            Configurations.getProperty(distributionPolicyPlugin.getProperty(), m)\r\n+//            distributionPolicyPlugin.setString(toProperties(false).get(key))\r\n             distributionPolicyPlugin.instantiate(DistributionPolicy.class,\r\n                     this, true);\r\n         }\r\n@@ -366,16 +369,20 @@ void setSlices(Map original) {\n         List<String> sliceNames = new ArrayList<String>();\r\n         for (Object o : p.keySet()) {\r\n             String key = o.toString();\r\n-            if (key.startsWith(PREFIX_SLICE) && key.split(\"\\\\.\").length > 2) {\r\n+            if (key.startsWith(PREFIX_SLICE) && getPartCount(key) > 3) {\r\n                 String sliceName =\r\n-                    chopTail(chopHead(o.toString(), PREFIX_SLICE), \".\");\r\n+                    chopTail(chopHead(o.toString(), PREFIX_SLICE), DOT);\r\n                 if (!sliceNames.contains(sliceName))\r\n                     sliceNames.add(sliceName);\r\n             }\r\n         }\r\n         return sliceNames;\r\n     }\r\n \r\n+    static int getPartCount(String s) {\r\n+        return (s == null) ? 0 : s.split(REGEX_DOT).length;\r\n+    }\r\n+    \r\n     static String chopHead(String s, String head) {\r\n         if (s.startsWith(head))\r\n             return s.substring(head.length());\r\n@@ -407,7 +414,7 @@ static String chopTail(String s, String tail) {\n      */\r\n     Map createSliceProperties(Map original, String slice) {\r\n         Map result = new Properties();\r\n-        String prefix = PREFIX_SLICE + slice + \".\";\r\n+        String prefix = PREFIX_SLICE + slice + DOT;\r\n         for (Object o : original.keySet()) {\r\n             String key = o.toString();\r\n             if (key.startsWith(prefix)) {\r\n@@ -476,5 +483,4 @@ public ExecutorService getExecutorServiceInstance() {\n         }\r\n         return (ExecutorService) executorServicePlugin.get();\r\n     }\r\n-    \r\n }\r"},{"sha":"402782babc07fe916625b8831bc831689deaa65b","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedStoreQuery.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedStoreQuery.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedStoreQuery.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/DistributedStoreQuery.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -24,7 +24,6 @@\n import java.util.concurrent.Callable;\r\n import java.util.concurrent.ExecutionException;\r\n import java.util.concurrent.ExecutorService;\r\n-import java.util.concurrent.Executors;\r\n import java.util.concurrent.Future;\r\n \r\n import org.apache.openjpa.jdbc.kernel.JDBCStore;\r\n@@ -137,8 +136,8 @@ public ResultObjectProvider executeQuery(StoreQuery q,\n         \tboolean isAscending = ascending.length > 0;\r\n         \tboolean isUnique    = q.getContext().isUnique();\r\n         \tif (isUnique) {\r\n-        \t    \r\n-        \t    return new UniqueResultObjectProvider(tmp, q, getQueryExpressions());\r\n+        \t    return new UniqueResultObjectProvider(tmp, q, \r\n+        \t            getQueryExpressions());\r\n         \t}\r\n         \tif (isAscending) {\r\n         \t    return new OrderingMergedResultObjectProvider(tmp, ascending, \r"},{"sha":"476095d439f00d6bf2aa9fc4071dde6870e6c679","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/UniqueResultObjectProvider.java","status":"modified","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/UniqueResultObjectProvider.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/UniqueResultObjectProvider.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/UniqueResultObjectProvider.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,21 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.    \r\n+ */\r\n package org.apache.openjpa.slice.jdbc;\r\n \r\n import org.apache.openjpa.kernel.StoreQuery;\r"},{"sha":"476d4053eea80a14d962e33c2d8ad01b59948bf2","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/package.html","status":"modified","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/package.html","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/package.html","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/jdbc/package.html?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,21 @@\n+<!--\r\n+ Licensed to the Apache Software Foundation (ASF) under one\r\n+ or more contributor license agreements.  See the NOTICE file\r\n+ distributed with this work for additional information\r\n+ regarding copyright ownership.  The ASF licenses this file\r\n+ to you under the Apache License, Version 2.0 (the\r\n+ \"License\"); you may not use this file except in compliance\r\n+ with the License.  You may obtain a copy of the License at\r\n+ \r\n+ http://www.apache.org/licenses/LICENSE-2.0\r\n+ \r\n+ Unless required by applicable law or agreed to in writing,\r\n+ software distributed under the License is distributed on an\r\n+ \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ KIND, either express or implied.  See the License for the\r\n+ specific language governing permissions and limitations\r\n+ under the License.   \r\n+-->\r\n <HTML>\r\n <BODY>\r\n Implements Distributed version of JDBCStoreManager and JDBCStoreQuery. \r"},{"sha":"4a79d92884e12f579a561c40c6fbc5009f247809","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/package.html","status":"modified","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/package.html","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/package.html","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/package.html?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,21 @@\n+<!--\r\n+ Licensed to the Apache Software Foundation (ASF) under one\r\n+ or more contributor license agreements.  See the NOTICE file\r\n+ distributed with this work for additional information\r\n+ regarding copyright ownership.  The ASF licenses this file\r\n+ to you under the Apache License, Version 2.0 (the\r\n+ \"License\"); you may not use this file except in compliance\r\n+ with the License.  You may obtain a copy of the License at\r\n+ \r\n+ http://www.apache.org/licenses/LICENSE-2.0\r\n+ \r\n+ Unless required by applicable law or agreed to in writing,\r\n+ software distributed under the License is distributed on an\r\n+ \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ KIND, either express or implied.  See the License for the\r\n+ specific language governing permissions and limitations\r\n+ under the License.   \r\n+-->\r\n <HTML>\r\n <BODY>\r\n Extended OpenJPA Interfaces for distributed databases.\r"},{"sha":"c9706bc03e91ae1b4d558a6753caa98817faebd3","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/DistributedNaiveTransaction.java","status":"modified","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/DistributedNaiveTransaction.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/DistributedNaiveTransaction.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/DistributedNaiveTransaction.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,21 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.    \r\n+ */\r\n package org.apache.openjpa.slice.transaction;\r\n \r\n import java.util.Collections;\r"},{"sha":"2139245de3f3bf6b7cda7ea11fc54ee7303b6ba6","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/DistributedXATransaction.java","status":"modified","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/DistributedXATransaction.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/DistributedXATransaction.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/DistributedXATransaction.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,21 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.    \r\n+ */\r\n package org.apache.openjpa.slice.transaction;\r\n \r\n import java.util.Collections;\r"},{"sha":"a858224b66275e1bd5e6ed0b07dce954048079ff","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/NaiveTransactionManager.java","status":"modified","additions":19,"deletions":1,"changes":20,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/NaiveTransactionManager.java","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/NaiveTransactionManager.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/NaiveTransactionManager.java?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,21 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ * http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.    \r\n+ */\r\n package org.apache.openjpa.slice.transaction;\r\n \r\n import java.util.Set;\r\n@@ -42,7 +60,7 @@ public void commit() throws HeuristicMixedException,\n         DistributedNaiveTransaction txn = getTransaction(false);\r\n         Set<SliceStoreManager> slices = txn.getEnlistedResources();\r\n         for (SliceStoreManager slice : slices) {\r\n-            slice.commit();\r\n+                slice.commit();\r\n         }\r\n     }\r\n \r"},{"sha":"1133ca0552ee11d885d31718d026eaa38f001f9c","filename":"openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/package.html","status":"modified","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/package.html","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/package.html","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/java/org/apache/openjpa/slice/transaction/package.html?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,21 @@\n+<!--\r\n+ Licensed to the Apache Software Foundation (ASF) under one\r\n+ or more contributor license agreements.  See the NOTICE file\r\n+ distributed with this work for additional information\r\n+ regarding copyright ownership.  The ASF licenses this file\r\n+ to you under the Apache License, Version 2.0 (the\r\n+ \"License\"); you may not use this file except in compliance\r\n+ with the License.  You may obtain a copy of the License at\r\n+ \r\n+ http://www.apache.org/licenses/LICENSE-2.0\r\n+ \r\n+ Unless required by applicable law or agreed to in writing,\r\n+ software distributed under the License is distributed on an\r\n+ \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ KIND, either express or implied.  See the License for the\r\n+ specific language governing permissions and limitations\r\n+ under the License.   \r\n+-->\r\n <HTML>\r\n <BODY>\r\n Implements TransactionManager to manage transactions across the database\r"},{"sha":"60c2222a6e492b9716b033aaf3e6027d6c7abd82","filename":"openjpa-slice/src/main/resources/org/apache/openjpa/slice/jdbc/localizer.properties","status":"modified","additions":18,"deletions":1,"changes":19,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/resources/org/apache/openjpa/slice/jdbc/localizer.properties","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/resources/org/apache/openjpa/slice/jdbc/localizer.properties","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/resources/org/apache/openjpa/slice/jdbc/localizer.properties?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,20 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\r\n+# or more contributor license agreements.  See the NOTICE file\r\n+# distributed with this work for additional information\r\n+# regarding copyright ownership.  The ASF licenses this file\r\n+# to you under the Apache License, Version 2.0 (the\r\n+# \"License\"); you may not use this file except in compliance\r\n+# with the License.  You may obtain a copy of the License at\r\n+#\r\n+# http://www.apache.org/licenses/LICENSE-2.0\r\n+#\r\n+# Unless required by applicable law or agreed to in writing,\r\n+# software distributed under the License is distributed on an\r\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+# KIND, either express or implied.  See the License for the\r\n+# specific language governing permissions and limitations\r\n+# under the License.  \r\n+\r\n slice-not-found: No slice named \"{0}\" can be found. Available slices are \"{1}\"\r\n slice-no-url: Slice \"{0}\" has no database URL. Specify a valid database URL \\\r\n \tas the value of \"slice.{0}.ConnectionURL\" property. ConnectionURL is the \\\r\n@@ -31,7 +48,7 @@ slice-xa-disabled: Not all active slices \"{0}\" is XA-complaint and hence store \\\n \tglobal transaction but otherwise the atomic nature of commit across all \\\r\n \tslices is not guaranteed.  \r\n two-phase: \"{3}\".{0}\"(xid=[{4}]] Connection={1} XAConnection={2} \r\n-factory-init: Starting {0}\r\n+factory-init: Starting OpenJPA Slice {0}\r\n config-init: Configuring Slice {0}\r\n no-slice-names: Slice identifiers are not listed in [slice.Names] property. \\\r\n \tThe configuration will be scanned to determine slice identifiers.\r"},{"sha":"9d81452018e36a0c072af9eac313128c269b3d81","filename":"openjpa-slice/src/main/resources/org/apache/openjpa/slice/localizer.properties","status":"modified","additions":16,"deletions":0,"changes":16,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/resources/org/apache/openjpa/slice/localizer.properties","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/resources/org/apache/openjpa/slice/localizer.properties","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/resources/org/apache/openjpa/slice/localizer.properties?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\r\n+# or more contributor license agreements.  See the NOTICE file\r\n+# distributed with this work for additional information\r\n+# regarding copyright ownership.  The ASF licenses this file\r\n+# to you under the Apache License, Version 2.0 (the\r\n+# \"License\"); you may not use this file except in compliance\r\n+# with the License.  You may obtain a copy of the License at\r\n+#\r\n+# http://www.apache.org/licenses/LICENSE-2.0\r\n+#\r\n+# Unless required by applicable law or agreed to in writing,\r\n+# software distributed under the License is distributed on an\r\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+# KIND, either express or implied.  See the License for the\r\n+# specific language governing permissions and limitations\r\n+# under the License.  \r\n bad-policy-slice:Distribution policy \"{0}\" has returned invalid slice \\\r\n \t\"{1}\" for \"{2}\". The valid slices are {3}. This error may happen \\\r\n \twhen one or more of the originally configured slices are unavailable \\\r"},{"sha":"b374bd4c441c87e8b48de32252544d6aeb6f02fb","filename":"openjpa-slice/src/main/resources/org/apache/openjpa/slice/transaction/localizer.properties","status":"modified","additions":16,"deletions":0,"changes":16,"blob_url":"https://github.com/apache/openjpa/blob/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/resources/org/apache/openjpa/slice/transaction/localizer.properties","raw_url":"https://github.com/apache/openjpa/raw/c61d81ade6f149b5193e5818eaaa06bd41b53e0f/openjpa-slice/src/main/resources/org/apache/openjpa/slice/transaction/localizer.properties","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/src/main/resources/org/apache/openjpa/slice/transaction/localizer.properties?ref=c61d81ade6f149b5193e5818eaaa06bd41b53e0f","patch":"@@ -1,3 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\r\n+# or more contributor license agreements.  See the NOTICE file\r\n+# distributed with this work for additional information\r\n+# regarding copyright ownership.  The ASF licenses this file\r\n+# to you under the Apache License, Version 2.0 (the\r\n+# \"License\"); you may not use this file except in compliance\r\n+# with the License.  You may obtain a copy of the License at\r\n+#\r\n+# http://www.apache.org/licenses/LICENSE-2.0\r\n+#\r\n+# Unless required by applicable law or agreed to in writing,\r\n+# software distributed under the License is distributed on an\r\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+# KIND, either express or implied.  See the License for the\r\n+# specific language governing permissions and limitations\r\n+# under the License.  \r\n no-txn-on-thread: No transaction is associated with current thread \"{0}\"\r\n prepare-failed: one or more XA-complaint resources have failed to prepare for \\\r\n \tcommit during the first phase of a two-phase commit protocol.\n\\ No newline at end of file"}]}

