{"sha":"cc25d2a53624e545694a63467de78969bafffa01","node_id":"MDY6Q29tbWl0MjA2MzY0OmNjMjVkMmE1MzYyNGU1NDU2OTRhNjM0NjdkZTc4OTY5YmFmZmZhMDE=","commit":{"author":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2006-09-29T22:08:28Z"},"committer":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2006-09-29T22:08:28Z"},"message":"Changed revision checking system to spawn the \"svnversion\" command rather than directly parsiong the .svn/entries file. This gives a more accurate revision number, and it also deals with the new subversion format, which is no longer XML.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@451471 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"7b54922f4690079ec053178c19251d028d7e307a","url":"https://api.github.com/repos/apache/openjpa/git/trees/7b54922f4690079ec053178c19251d028d7e307a"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/cc25d2a53624e545694a63467de78969bafffa01","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/cc25d2a53624e545694a63467de78969bafffa01","html_url":"https://github.com/apache/openjpa/commit/cc25d2a53624e545694a63467de78969bafffa01","comments_url":"https://api.github.com/repos/apache/openjpa/commits/cc25d2a53624e545694a63467de78969bafffa01/comments","author":null,"committer":null,"parents":[{"sha":"5eb55ee87ae11f41c4bf3f7b617ef742f5b9d28c","url":"https://api.github.com/repos/apache/openjpa/commits/5eb55ee87ae11f41c4bf3f7b617ef742f5b9d28c","html_url":"https://github.com/apache/openjpa/commit/5eb55ee87ae11f41c4bf3f7b617ef742f5b9d28c"}],"stats":{"total":14,"additions":11,"deletions":3},"files":[{"sha":"9f717b153883cd9a7f3b3e0029048579a5cc1a22","filename":"openjpa-lib/pom.xml","status":"modified","additions":11,"deletions":3,"changes":14,"blob_url":"https://github.com/apache/openjpa/blob/cc25d2a53624e545694a63467de78969bafffa01/openjpa-lib/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cc25d2a53624e545694a63467de78969bafffa01/openjpa-lib/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/pom.xml?ref=cc25d2a53624e545694a63467de78969bafffa01","patch":"@@ -91,10 +91,18 @@\n \n                                 <property name=\"outdir\" value=\"${tmpdir}\"/>\n \n-                                <xmlproperty file=\"${basedir}/.svn/entries\"\n-                                    collapseAttributes=\"true\"/>\n+                                <property name=\"svnversion.executable\"\n+                                    value=\"svnversion\"/>\n+                                <exec outputproperty=\"subversion.revision\"\n+                                    failonerror=\"false\"\n+                                    failifexecutionfails=\"false\"\n+                                    executable=\"${svnversion.executable}\">\n+                                    <arg line=\"-c ${basedir}/..\"/>\n+                                </exec>\n                                 <property name=\"subversion.revision\"\n-                                    value=\"${wc-entries.entry.revision}\"/>\n+                                    value=\"unknown\"/>\n+                                <echo>Revision: ${subversion.revision}</echo>\n+                                    \n                                 <mkdir dir=\"${outdir}/META-INF\"/>\n                                 <echo file=\"${outdir}/META-INF/revision.properties\">revision.number=${subversion.revision}</echo>\n                                 <delete dir=\"${tmpdir}\"/>"}]}

