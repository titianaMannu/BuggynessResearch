{"sha":"cc5e5a36fa28670e6e6bb1a74eae359a2c6cd8ab","node_id":"MDY6Q29tbWl0MjA2MzY0OmNjNWU1YTM2ZmEyODY3MGU2ZTZiYjFhNzRlYWUzNTlhMmM2Y2Q4YWI=","commit":{"author":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2007-10-13T16:12:35Z"},"committer":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2007-10-13T16:12:35Z"},"message":"OPENJPA-402 Complete .class file read in ZipFileMetaDataIterator\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@584420 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"d76bc19a10dac722c1745572b6b94478fb228978","url":"https://api.github.com/repos/apache/openjpa/git/trees/d76bc19a10dac722c1745572b6b94478fb228978"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/cc5e5a36fa28670e6e6bb1a74eae359a2c6cd8ab","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/cc5e5a36fa28670e6e6bb1a74eae359a2c6cd8ab","html_url":"https://github.com/apache/openjpa/commit/cc5e5a36fa28670e6e6bb1a74eae359a2c6cd8ab","comments_url":"https://api.github.com/repos/apache/openjpa/commits/cc5e5a36fa28670e6e6bb1a74eae359a2c6cd8ab/comments","author":null,"committer":null,"parents":[{"sha":"2d6fbb5d13861f3b2f28fbd2ad7b604a19c96904","url":"https://api.github.com/repos/apache/openjpa/commits/2d6fbb5d13861f3b2f28fbd2ad7b604a19c96904","html_url":"https://github.com/apache/openjpa/commit/2d6fbb5d13861f3b2f28fbd2ad7b604a19c96904"}],"stats":{"total":7,"additions":6,"deletions":1},"files":[{"sha":"57ae0cfe58f7fb88458cf1c51331457120487014","filename":"openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipFileMetaDataIterator.java","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/apache/openjpa/blob/cc5e5a36fa28670e6e6bb1a74eae359a2c6cd8ab/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipFileMetaDataIterator.java","raw_url":"https://github.com/apache/openjpa/raw/cc5e5a36fa28670e6e6bb1a74eae359a2c6cd8ab/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipFileMetaDataIterator.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/src/main/java/org/apache/openjpa/lib/meta/ZipFileMetaDataIterator.java?ref=cc5e5a36fa28670e6e6bb1a74eae359a2c6cd8ab","patch":"@@ -142,7 +142,12 @@ public String getName() {\n             content = bout.toByteArray();\n         } else {\n             content = new byte[(int) size];\n-            in.read(content);\n+            int offset = 0;\n+            int read;\n+            while (offset < size &&\n+                (read = in.read(content, offset, (int) size - offset)) != -1) {\n+                offset += read;\n+            }\n         }\n         in.close();\n         return content;"}]}

