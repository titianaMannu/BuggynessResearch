{"sha":"cc6759b1cef5d58051275cd14f247304f539b881","node_id":"MDY6Q29tbWl0MjA2MzY0OmNjNjc1OWIxY2VmNWQ1ODA1MTI3NWNkMTRmMjQ3MzA0ZjUzOWI4ODE=","commit":{"author":{"name":"Michael Dick","email":"mikedd@apache.org","date":"2009-02-24T19:54:35Z"},"committer":{"name":"Michael Dick","email":"mikedd@apache.org","date":"2009-02-24T19:54:35Z"},"message":"OPENJPA-881 OPENJPA-876. Merging to 1.0.x\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.0.x@747531 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"3cf92afbec234183d9fd77abf4f74c062e46ca5c","url":"https://api.github.com/repos/apache/openjpa/git/trees/3cf92afbec234183d9fd77abf4f74c062e46ca5c"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/cc6759b1cef5d58051275cd14f247304f539b881","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/cc6759b1cef5d58051275cd14f247304f539b881","html_url":"https://github.com/apache/openjpa/commit/cc6759b1cef5d58051275cd14f247304f539b881","comments_url":"https://api.github.com/repos/apache/openjpa/commits/cc6759b1cef5d58051275cd14f247304f539b881/comments","author":{"login":"mikedd","id":669432,"node_id":"MDQ6VXNlcjY2OTQzMg==","avatar_url":"https://avatars.githubusercontent.com/u/669432?v=4","gravatar_id":"","url":"https://api.github.com/users/mikedd","html_url":"https://github.com/mikedd","followers_url":"https://api.github.com/users/mikedd/followers","following_url":"https://api.github.com/users/mikedd/following{/other_user}","gists_url":"https://api.github.com/users/mikedd/gists{/gist_id}","starred_url":"https://api.github.com/users/mikedd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikedd/subscriptions","organizations_url":"https://api.github.com/users/mikedd/orgs","repos_url":"https://api.github.com/users/mikedd/repos","events_url":"https://api.github.com/users/mikedd/events{/privacy}","received_events_url":"https://api.github.com/users/mikedd/received_events","type":"User","site_admin":false},"committer":{"login":"mikedd","id":669432,"node_id":"MDQ6VXNlcjY2OTQzMg==","avatar_url":"https://avatars.githubusercontent.com/u/669432?v=4","gravatar_id":"","url":"https://api.github.com/users/mikedd","html_url":"https://github.com/mikedd","followers_url":"https://api.github.com/users/mikedd/followers","following_url":"https://api.github.com/users/mikedd/following{/other_user}","gists_url":"https://api.github.com/users/mikedd/gists{/gist_id}","starred_url":"https://api.github.com/users/mikedd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikedd/subscriptions","organizations_url":"https://api.github.com/users/mikedd/orgs","repos_url":"https://api.github.com/users/mikedd/repos","events_url":"https://api.github.com/users/mikedd/events{/privacy}","received_events_url":"https://api.github.com/users/mikedd/received_events","type":"User","site_admin":false},"parents":[{"sha":"39a48606417d3cf9fbd907477275646199bb78a3","url":"https://api.github.com/repos/apache/openjpa/commits/39a48606417d3cf9fbd907477275646199bb78a3","html_url":"https://github.com/apache/openjpa/commit/39a48606417d3cf9fbd907477275646199bb78a3"}],"stats":{"total":446,"additions":251,"deletions":195},"files":[{"sha":"ccc31f1082770d5d407f25bd6b568455f6494226","filename":"openjpa-persistence-jdbc/pom.xml","status":"modified","additions":251,"deletions":195,"changes":446,"blob_url":"https://github.com/apache/openjpa/blob/cc6759b1cef5d58051275cd14f247304f539b881/openjpa-persistence-jdbc/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cc6759b1cef5d58051275cd14f247304f539b881/openjpa-persistence-jdbc/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/pom.xml?ref=cc6759b1cef5d58051275cd14f247304f539b881","patch":"@@ -35,6 +35,15 @@\n     </parent>\n     <properties>\n         <openjpa.loglevel>INFO</openjpa.loglevel>\n+        <!-- to set debug arguments, you might set the following at the command line:\n+            -Dtest.jvm.arguments=\"-Xmx500m -agentlib:jdwp=transport=dt_socket,server=y,address=8000\"\n+        -->\n+        <test.jvm.arguments>-Xmx500m</test.jvm.arguments>\n+        <dbcp.maxActive>10</dbcp.maxActive>\n+        <dbcp.maxIdle>5</dbcp.maxIdle>\n+        <dbcp.minIdle>2</dbcp.minIdle>\n+        <dbcp.maxWait>10000</dbcp.maxWait>\n+        <dbcp.args>MaxActive=${dbcp.maxActive},MaxIdle=${dbcp.maxIdle},MinIdle=${dbcp.minIdle},MaxWait=${dbcp.maxWait}</dbcp.args>\n     </properties>\n     <profiles>\n \n@@ -49,45 +58,18 @@\n                 <dependency>\n                     <groupId>org.apache.derby</groupId>\n                     <artifactId>derby</artifactId>\n-                    <version>10.2.2.0</version>\n                     <scope>test</scope>\n+                    <version>10.2.2.0</version>\n                 </dependency>\n             </dependencies>\n-\n-            <build>\n-                <pluginManagement>\n-                    <plugins>\n-                        <plugin>\n-                            <groupId>org.apache.maven.plugins</groupId>\n-                            <artifactId>maven-surefire-plugin</artifactId>\n-                            <configuration>\n-                                <argLine>-Xmx500m</argLine>\n-                                <systemProperties>\n-                                    <property>\n-                                        <name>openjpa.Log</name>\n-                                        <value>DefaultLevel=${openjpa.loglevel}</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionDriverName</name>\n-                                        <value>org.apache.commons.dbcp.BasicDataSource</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>derby.stream.error.file</name>\n-                                        <value>target/derby.log</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionProperties</name>\n-                                        <value>DriverClassName=org.apache.derby.jdbc.EmbeddedDriver,Url=jdbc:derby:target/database/openjpa-derby-database;create=true,MaxActive=100,MaxIdle=0,MaxWait=10000,TestOnBorrow=true</value>\n-                                    </property>\n-                                </systemProperties>\n-                            </configuration>\n-                        </plugin>\n-                    </plugins>\n-                </pluginManagement>\n-            </build>\n+            <properties>\n+                <connection.driver.name>org.apache.derby.jdbc.EmbeddedDriver</connection.driver.name>\n+                <connection.url>jdbc:derby:target/database/openjpa-derby-database;create=true</connection.url>\n+                <connection.username />\n+                <connection.password />\n+            </properties>\n         </profile>\n \n-\n         <!-- Profile for testing with HSQL DB -->\n         <profile>\n             <id>test-hsqldb</id>\n@@ -100,35 +82,14 @@\n                     <scope>test</scope>\n                 </dependency>\n             </dependencies>\n-            <build>\n-                <pluginManagement>\n-                    <plugins>\n-                        <plugin>\n-                            <groupId>org.apache.maven.plugins</groupId>\n-                            <artifactId>maven-surefire-plugin</artifactId>\n-                            <configuration>\n-                                <systemProperties>\n-                                    <property>\n-                                        <name>openjpa.Log</name>\n-                                        <value>DefaultLevel=${openjpa.loglevel}</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionDriverName</name>\n-                                        <value>org.apache.commons.dbcp.BasicDataSource</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionProperties</name>\n-                                        <value>DriverClassName=org.hsqldb.jdbcDriver,Url=jdbc:hsqldb:target/database/openjpa-hsqldb-database;create=true,MaxActive=100,MaxWait=10000,TestOnBorrow=true</value>\n-                                    </property>\n-                                </systemProperties>\n-                            </configuration>\n-                        </plugin>\n-                    </plugins>\n-                </pluginManagement>\n-            </build>\n+             <properties>\n+                <connection.driver.name>org.hsqldb.jdbcDriver</connection.driver.name>\n+                <connection.url>jdbc:hsqldb:target/database/openjpa-hsqldb-database;create=true</connection.url>\n+                <connection.username>sa</connection.username>\n+                <connection.password />\n+            </properties>\n         </profile>\n \n-\n         <!-- Profile for testing with MySQL DB -->\n         <profile>\n             <id>test-mysql</id>\n@@ -141,35 +102,14 @@\n                     <scope>test</scope>\n                 </dependency>\n             </dependencies>\n-            <build>\n-                <pluginManagement>\n-                    <plugins>\n-                        <plugin>\n-                            <groupId>org.apache.maven.plugins</groupId>\n-                            <artifactId>maven-surefire-plugin</artifactId>\n-                            <configuration>\n-                                <systemProperties>\n-                                    <property>\n-                                        <name>openjpa.Log</name>\n-                                        <value>DefaultLevel=${openjpa.loglevel}</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionDriverName</name>\n-                                        <value>org.apache.commons.dbcp.BasicDataSource</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionProperties</name>\n-                                        <value>DriverClassName=com.mysql.jdbc.Driver,Url=${openjpa.mysql.url},MaxActive=100,MaxWait=10000,TestOnBorrow=true,Username=${openjpa.mysql.username},Password=${openjpa.mysql.password}</value>\n-                                    </property>\n-                                </systemProperties>\n-                            </configuration>\n-                        </plugin>\n-                    </plugins>\n-                </pluginManagement>\n-            </build>\n+            <properties>\n+                <connection.driver.name>com.mysql.jdbc.Driver</connection.driver.name>\n+                <connection.url>${openjpa.mysql.url}</connection.url>\n+                <connection.username>${openjpa.mysql.username}</connection.username>\n+                <connection.password>${openjpa.mysql.password}</connection.password>\n+            </properties>\n         </profile>\n \n-\n         <!-- Profile for testing with PostgreSQL DB -->\n         <profile>\n             <id>test-postgresql</id>\n@@ -182,35 +122,14 @@\n                     <scope>test</scope>\n                 </dependency>\n             </dependencies>\n-            <build>\n-                <pluginManagement>\n-                    <plugins>\n-                        <plugin>\n-                            <groupId>org.apache.maven.plugins</groupId>\n-                            <artifactId>maven-surefire-plugin</artifactId>\n-                            <configuration>\n-                                <systemProperties>\n-                                    <property>\n-                                        <name>openjpa.Log</name>\n-                                        <value>DefaultLevel=${openjpa.loglevel}</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionDriverName</name>\n-                                        <value>org.apache.commons.dbcp.BasicDataSource</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionProperties</name>\n-                                        <value>DriverClassName=org.postgresql.Driver,Url=${openjpa.postgresql.url},MaxActive=100,MaxWait=10000,TestOnBorrow=true,Username=${openjpa.postgresql.username},Password=${openjpa.postgresql.password}</value>\n-                                    </property>\n-                                </systemProperties>\n-                            </configuration>\n-                        </plugin>\n-                    </plugins>\n-                </pluginManagement>\n-            </build>\n+            <properties>\n+                <connection.driver.name>org.postgresql.Driver</connection.driver.name>\n+                <connection.url>${openjpa.postgresql.url}</connection.url>\n+                <connection.username>${openjpa.postgresql.username}</connection.username>\n+                <connection.password>${openjpa.postgresql.password}</connection.password>\n+            </properties>\n         </profile>\n \n-\n         <!-- Profile for testing with SQLServer DB using the jTDS driver -->\n         <profile>\n             <id>test-sqlserver</id>\n@@ -223,35 +142,14 @@\n                     <scope>test</scope>\n                 </dependency>\n             </dependencies>\n-            <build>\n-                <pluginManagement>\n-                    <plugins>\n-                        <plugin>\n-                            <groupId>org.apache.maven.plugins</groupId>\n-                            <artifactId>maven-surefire-plugin</artifactId>\n-                            <configuration>\n-                                <systemProperties>\n-                                    <property>\n-                                        <name>openjpa.Log</name>\n-                                        <value>DefaultLevel=${openjpa.loglevel}</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionDriverName</name>\n-                                        <value>org.apache.commons.dbcp.BasicDataSource</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionProperties</name>\n-                                        <value>DriverClassName=net.sourceforge.jtds.jdbc.Driver,Url=${openjpa.sqlserver.url},MaxActive=100,MaxWait=10000,TestOnBorrow=true,Username=${openjpa.sqlserver.username},Password=${openjpa.sqlserver.password}</value>\n-                                    </property>\n-                                </systemProperties>\n-                            </configuration>\n-                        </plugin>\n-                    </plugins>\n-                </pluginManagement>\n-            </build>\n+            <properties>\n+                <connection.driver.name>net.sourceforge.jtds.jdbc.Driver</connection.driver.name>\n+                <connection.url>${openjpa.sqlserver.url}</connection.url>\n+                <connection.username>${openjpa.sqlserver.username}</connection.username>\n+                <connection.password>${openjpa.sqlserver.password}</connection.password>\n+            </properties>\n         </profile>\n \n-\n         <!-- Profile for testing with Sybase DB using the jTDS driver -->\n         <profile>\n             <id>test-sybase</id>\n@@ -264,32 +162,12 @@\n                     <scope>test</scope>\n                 </dependency>\n             </dependencies>\n-            <build>\n-                <pluginManagement>\n-                    <plugins>\n-                        <plugin>\n-                            <groupId>org.apache.maven.plugins</groupId>\n-                            <artifactId>maven-surefire-plugin</artifactId>\n-                            <configuration>\n-                                <systemProperties>\n-                                    <property>\n-                                        <name>openjpa.Log</name>\n-                                        <value>DefaultLevel=${openjpa.loglevel}</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionDriverName</name>\n-                                        <value>org.apache.commons.dbcp.BasicDataSource</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionProperties</name>\n-                                        <value>DriverClassName=net.sourceforge.jtds.jdbc.Driver,Url=${openjpa.sybase.url},MaxActive=100,MaxWait=10000,TestOnBorrow=true,Username=${openjpa.sybase.username},Password=${openjpa.sybase.password}</value>\n-                                    </property>\n-                                </systemProperties>\n-                            </configuration>\n-                        </plugin>\n-                    </plugins>\n-                </pluginManagement>\n-            </build>\n+            <properties>\n+                <connection.driver.name>net.sourceforge.jtds.jdbc.Driver</connection.driver.name>\n+                <connection.url>${openjpa.sybase.url}</connection.url>\n+                <connection.username>${openjpa.sybase.username}</connection.username>\n+                <connection.password>${openjpa.sybase.password}</connection.password>\n+            </properties>\n         </profile>\n \n         <!-- Profile for testing with a custom DB using a system jar -->\n@@ -314,37 +192,190 @@\n                     <systemPath>${openjpa.custom.driverjar}</systemPath>\n                 </dependency>\n             </dependencies>\n-            <build>\n-                <pluginManagement>\n-                    <plugins>\n-                        <plugin>\n-                            <groupId>org.apache.maven.plugins</groupId>\n-                            <artifactId>maven-surefire-plugin</artifactId>\n-                            <configuration>\n-                                <systemProperties>\n-                                    <property>\n-                                        <name>openjpa.Log</name>\n-                                        <value>DefaultLevel=${openjpa.loglevel}</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionDriverName</name>\n-                                        <value>org.apache.commons.dbcp.BasicDataSource</value>\n-                                    </property>\n-                                    <property>\n-                                        <name>openjpa.ConnectionProperties</name>\n-                                        <value>DriverClassName=${openjpa.custom.driverclass},Url=${openjpa.custom.url},MaxActive=100,MaxWait=10000,TestOnBorrow=true,Username=${openjpa.custom.username},Password=${openjpa.custom.password}</value>\n-                                    </property>\n-                                </systemProperties>\n-                            </configuration>\n-                        </plugin>\n-                    </plugins>\n-                </pluginManagement>\n-            </build>\n+            <properties>\n+                <connection.driver.name>${openjpa.custom.driverclass}</connection.driver.name>\n+                <connection.url>${openjpa.custom.url}</connection.url>\n+                <connection.username>${openjpa.custom.username}</connection.username>\n+                <connection.password>${openjpa.custom.password}</connection.password>\n+            </properties>\n         </profile>\n \n-    </profiles>\n+        <!-- Profile for testing with a custom DB using two system jars.\n+             Some databases (DB2) use more than one jar for their JDBC provider.\n+             Functionally this is identical to the previous profile, with a\n+             second system dependency added.\n+          -->\n+        <!--\n+            For example, to test with DB2, you might run:\n+        mvn test -Dtest=TestPersistence -Ptest-custom2 \\\n+          -Dopenjpa.custom.driverjar1=$(pwd)/drivers/db2jcc.jar \\\n+          -Dopenjpa.custom.driverjar2=$(pwd)/drviers/db2jcc_license_cu.jar \\\n+          -Dopenjpa.custom.driverclass=com.ibm.db2.jcc.DB2Driver \\\n+          -Dopenjpa.custom.url=jdbc:db2://HOST:PORT/DBNAME \\\n+          -Dopenjpa.custom.username=USERNAME \\\n+          -Dopenjpa.custom.password=PASSWORD\n+        -->\n+        <profile>\n+            <id>test-custom2</id>\n+            <activation><property><name>test-custom2</name></property></activation>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>openjpa.customdriver1</groupId>\n+                    <artifactId>openjpa.customdriver1</artifactId>\n+                    <version>1.0</version>\n+                    <scope>system</scope>\n+                    <systemPath>${openjpa.custom.driverjar1}</systemPath>\n+                </dependency>\n+                <dependency>\n+                    <groupId>openjpa.customdriver2</groupId>\n+                    <artifactId>openjpa.customdriver2</artifactId>\n+                    <version>1.0</version>\n+                    <scope>system</scope>\n+                    <systemPath>${openjpa.custom.driverjar2}</systemPath>\n+                </dependency>\n+            </dependencies>\n+            <properties>\n+                <connection.driver.name>${openjpa.custom.driverclass}</connection.driver.name>\n+                <connection.url>${openjpa.custom.url}</connection.url>\n+                <connection.username>${openjpa.custom.username}</connection.username>\n+                <connection.password>${openjpa.custom.password}</connection.password>\n+            </properties>\n+        </profile>\n+        \n+        <!--  \n+            The test-custom2 profile does not work very well when used with a \n+            continuous build system. As a convenience I've added profiles for \n+            some of the proprietary databases to make testing easier. \n+          -->\n+        <profile>\n+            <!-- \n+                Example db2 profile. You can use this profile if you:\n+                1) have the DB2 artifacts installed in a local repo and supply\n+                the URL:\n+                   -Ddb2.maven.repo=http://my.local.repo\n+                2) have a copy of the DB2 JCC driver and run the following\n+                commands :\n+                    mvn install:install-file -Dfile=${path to db2jcc.jar} \\\n+                                             -DgroupId=com.ibm.db2 \\\n+                                             -DartifactId=jcc-driver \\ \n+                                             -Dversion=9.5 \\\n+                                             -Dpackaging=jar\n+                                         \n+                    mvn install:install-file -Dfile=${path to db2jcc_license.jar} \\\n+                                             -DgroupId=com.ibm.db2 \\\n+                                             -DartifactId=jcc-license \\ \n+                                             -Dversion=9.5 \\\n+                                             -Dpackaging=jar\n \n+                You must also set the following properties:\n+                    -Dopenjpa.db2.url=jdbc:db2://<HOST>:<PORT>/<DBNAME>\n+                    -Dopenjpa.db2.username=<db2_uid>\n+                    -Dopenjpa.db2.password=<db2_pwd>\n \n+                Optionally, you can override the default DB2 groupId and version\n+                by also supplying the following properties:\n+                    -Ddb2.groupid=com.ibm.db2\n+                    -Ddb2.version=9.5\n+            -->\n+            <id>test-db2-jcc</id>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>${db2.groupid}</groupId>\n+                    <artifactId>jcc-driver</artifactId>\n+                    <version>${db2.version}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+                <dependency>\n+                    <groupId>${db2.groupid}</groupId>\n+                    <artifactId>jcc-license</artifactId>\n+                    <version>${db2.version}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <properties>\n+                <db2.maven.repo>http://not.a.real.repository</db2.maven.repo>\n+                <db2.groupid>com.ibm.db2</db2.groupid>\n+                <db2.version>9.5</db2.version>\n+                <connection.driver.name>com.ibm.db2.jcc.DB2Driver</connection.driver.name>\n+                <connection.url>${openjpa.db2.url}</connection.url>\n+                <connection.username>${openjpa.db2.username}</connection.username>\n+                <connection.password>${openjpa.db2.password}</connection.password>\n+            </properties>\n+            <repositories>\n+                <repository>\n+                    <id>db2.repository</id>\n+                    <name>DB2 Repository</name>\n+                    <url>${db2.maven.repo}</url>\n+                    <layout>default</layout>\n+                    <snapshots>\n+                        <enabled>false</enabled>\n+                    </snapshots>\n+                    <releases>\n+                        <enabled>true</enabled>\n+                        <checksumPolicy>ignore</checksumPolicy>\n+                    </releases>\n+                </repository>\n+            </repositories>\n+        </profile>          \n+        <profile>\n+            <!-- \n+                Example oracle profile. You can use this profile if you:\n+                1) have the Oracle artifacts installed in a local repo and\n+                supply the URL:\n+                    -Doracle.maven.repo=http://my.local.repo\n+                2) have a copy of the Oracle driver and run the following\n+                command:\n+                    mvn install:install-file -Dfile=${path to ojdbc.jar} \\\n+                                             -DgroupId=com.oracle \\\n+                                             -DartifactId=jdbc-driver \\ \n+                                             -Dversion=10g \\\n+                                             -Dpackaging=jar\n+                                         \n+                You must also set the following properties:\n+                    -Dopenjpa.oracle.url\n+                    -Dopenjpa.oracle.username\n+                    -Dopenjpa.oracle.password\n+\n+                Optionally, you can override the default Oracle groupId and\n+                version by also supplying the following properties:\n+                    -Doracle.groupid=com.oracle\n+                    -Doracle.version=10g\n+            -->\n+            <id>test-oracle</id>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>${oracle.groupid}</groupId>\n+                    <artifactId>jdbc-driver</artifactId>\n+                    <version>${oracle.version}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <properties>\n+                <oracle.maven.repo>http://not.a.real.repository</oracle.maven.repo>\n+                <oracle.groupid>com.oracle</oracle.groupid>\n+                <oracle.version>10g</oracle.version>\n+                <connection.driver.name>oracle.jdbc.driver.OracleDriver</connection.driver.name>\n+                <connection.url>${openjpa.oracle.url}</connection.url>\n+                <connection.username>${openjpa.oracle.username}</connection.username>\n+                <connection.password>${openjpa.oracle.password}</connection.password>\n+            </properties>\n+            <repositories>\n+                <repository>\n+                    <id>oracle.repository</id>\n+                    <name>Oracle Repository</name>\n+                    <url>${oracle.maven.repo}</url>\n+                    <layout>default</layout>\n+                    <snapshots>\n+                        <enabled>false</enabled>\n+                    </snapshots>\n+                    <releases>\n+                        <enabled>true</enabled>\n+                        <checksumPolicy>ignore</checksumPolicy>\n+                    </releases>\n+                </repository>\n+            </repositories>\n+        </profile>  \n+    </profiles>\n \n     <dependencies>\n         <dependency>\n@@ -401,6 +432,31 @@\n                     </execution>\n                 </executions>\n             </plugin>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-surefire-plugin</artifactId>\n+                <configuration>\n+                    <argLine>${test.jvm.arguments}</argLine>\n+                    <systemProperties>\n+                        <property>\n+                            <name>openjpa.Log</name>\n+                            <value>DefaultLevel=${openjpa.loglevel}</value>\n+                        </property>\n+                        <property>\n+                            <name>openjpa.ConnectionDriverName</name>\n+                            <value>org.apache.commons.dbcp.BasicDataSource</value>\n+                        </property>\n+                        <property>\n+                            <name>derby.stream.error.file</name>\n+                            <value>target/derby.log</value>\n+                        </property>\n+                        <property>\n+                            <name>openjpa.ConnectionProperties</name>\n+                            <value>DriverClassName=${connection.driver.name},Url=${connection.url},Username=${connection.username},Password=${connection.password},${dbcp.args}</value>\n+                        </property>\n+                    </systemProperties>\n+                </configuration>\n+            </plugin>\n         </plugins>\n     </build>\n </project>"}]}

