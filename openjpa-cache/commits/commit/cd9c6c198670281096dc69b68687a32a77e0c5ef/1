{"sha":"cd9c6c198670281096dc69b68687a32a77e0c5ef","node_id":"MDY6Q29tbWl0MjA2MzY0OmNkOWM2YzE5ODY3MDI4MTA5NmRjNjliNjg2ODdhMzJhNzdlMGM1ZWY=","commit":{"author":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2006-08-29T09:53:48Z"},"committer":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2006-08-29T09:53:48Z"},"message":"Moved build number generation into openjpa-lib, since having it in the top-level pom causes the plugin to be executed multiple times in each module (bug reported at MNG-2221)\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@438035 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"638a9879ba0f3863663a3f664e2b5ce3a1fbabf7","url":"https://api.github.com/repos/apache/openjpa/git/trees/638a9879ba0f3863663a3f664e2b5ce3a1fbabf7"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/cd9c6c198670281096dc69b68687a32a77e0c5ef","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/cd9c6c198670281096dc69b68687a32a77e0c5ef","html_url":"https://github.com/apache/openjpa/commit/cd9c6c198670281096dc69b68687a32a77e0c5ef","comments_url":"https://api.github.com/repos/apache/openjpa/commits/cd9c6c198670281096dc69b68687a32a77e0c5ef/comments","author":null,"committer":null,"parents":[{"sha":"de9352568f505999397c84d55766e1926b75db2a","url":"https://api.github.com/repos/apache/openjpa/commits/de9352568f505999397c84d55766e1926b75db2a","html_url":"https://github.com/apache/openjpa/commit/de9352568f505999397c84d55766e1926b75db2a"}],"stats":{"total":101,"additions":50,"deletions":51},"files":[{"sha":"5aeb3e9e261ecc04a47f063abe6fdd0450346b9b","filename":"openjpa-lib/pom.xml","status":"modified","additions":39,"deletions":0,"changes":39,"blob_url":"https://github.com/apache/openjpa/blob/cd9c6c198670281096dc69b68687a32a77e0c5ef/openjpa-lib/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cd9c6c198670281096dc69b68687a32a77e0c5ef/openjpa-lib/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-lib/pom.xml?ref=cd9c6c198670281096dc69b68687a32a77e0c5ef","patch":"@@ -67,6 +67,45 @@\n                     <target>1.3</target>\n                 </configuration>\n             </plugin>\n+            <!--\n+                get the svn revision number and set it in the\n+                subversion.revision setting - disabled for now\n+                since we need to be able to build from sources\n+                zip (when there is no .svn/ metadata)\n+            -->\n+            <plugin>\n+                <artifactId>maven-antrun-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>set subversion revision</id>\n+                        <phase>package</phase>\n+                        <configuration>\n+                            <tasks>\n+                                <property name=\"tmpdir\"\n+                                    value=\"${java.io.tmpdir}/openjpamvntmp\"/>\n+                                <condition property=\"outdir\"\n+                                    value=\"${project.build.outputDirectory}\">\n+                                    <available type=\"dir\"\n+                                    file=\"${project.build.outputDirectory}\"/>\n+                                </condition>\n+\n+                                <property name=\"outdir\" value=\"${tmpdir}\"/>\n+\n+                                <xmlproperty file=\"${basedir}/.svn/entries\"\n+                                    collapseAttributes=\"true\"/>\n+                                <property name=\"subversion.revision\"\n+                                    value=\"${wc-entries.entry.revision}\"/>\n+                                <mkdir dir=\"${outdir}/META-INF\"/>\n+                                <echo file=\"${outdir}/META-INF/revision.properties\">revision.number=${subversion.revision}</echo>\n+                                <delete dir=\"${tmpdir}\"/>\n+                            </tasks>\n+                        </configuration>\n+                        <goals>\n+                            <goal>run</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n         </plugins>\n     </build>\n </project>"},{"sha":"ab95020a61cc36570b6c0713ba32ef8a16a86585","filename":"openjpa-persistence-jdbc/pom.xml","status":"modified","additions":11,"deletions":12,"changes":23,"blob_url":"https://github.com/apache/openjpa/blob/cd9c6c198670281096dc69b68687a32a77e0c5ef/openjpa-persistence-jdbc/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cd9c6c198670281096dc69b68687a32a77e0c5ef/openjpa-persistence-jdbc/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/pom.xml?ref=cd9c6c198670281096dc69b68687a32a77e0c5ef","patch":"@@ -62,22 +62,21 @@\n                         <phase>test-compile</phase>\n                         <configuration>\n                             <tasks>\n-\t\t\t\t\t\t\t\t<taskdef name=\"openjpac\" classname=\"org.apache.openjpa.ant.PCEnhancerTask\">\n-\t\t\t\t\t\t\t\t\t<classpath>\n-\t                                    <path refid=\"maven.dependency.classpath\"/>\n-    \t                                <path refid=\"maven.compile.classpath\"/>\n-        \t                            <path refid=\"maven.test.classpath\"/>\n-\t\t\t\t\t\t\t\t\t</classpath>\n+                                <path id=\"cp\">\n+                                    <path refid=\"maven.test.classpath\"/>\n+                                    <path refid=\"maven.compile.classpath\"/>\n+                                    <path refid=\"maven.dependency.classpath\"/>\n+                                </path>\n+\t\t\t\t\t\t\t\t<taskdef name=\"openjpac\" classname=\n+                                    \"org.apache.openjpa.ant.PCEnhancerTask\">\n+\t\t\t\t\t\t\t\t\t<classpath refid=\"cp\"/>\n \t\t\t\t\t\t\t\t</taskdef>\n-                                <fileset id=\"enhance.path.ref\" dir=\"${project.build.testOutputDirectory}\">\n+                                <fileset id=\"enhance.path.ref\"\n+                                    dir=\"${project.build.testOutputDirectory}\">\n                                     <include name=\"**/*.class\"/>\n                                 </fileset>\n \t\t\t\t\t\t\t\t<openjpac>\n-\t\t\t\t\t\t\t\t\t<classpath>\n-                                        <path refid=\"maven.dependency.classpath\"/>\n-                                        <path refid=\"maven.compile.classpath\"/>\n-                                        <path refid=\"maven.test.classpath\"/>\n-\t\t\t\t\t\t\t\t\t</classpath>\n+\t\t\t\t\t\t\t\t\t<classpath refid=\"cp\"/>\n \t\t\t\t\t\t\t\t\t<fileset refid=\"enhance.path.ref\"/>\n \t\t\t\t\t\t\t\t</openjpac>\n                             </tasks>"},{"sha":"2fe67a7b9f283248c299d85692a5b9fc42f166af","filename":"pom.xml","status":"modified","additions":0,"deletions":39,"changes":39,"blob_url":"https://github.com/apache/openjpa/blob/cd9c6c198670281096dc69b68687a32a77e0c5ef/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cd9c6c198670281096dc69b68687a32a77e0c5ef/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/pom.xml?ref=cd9c6c198670281096dc69b68687a32a77e0c5ef","patch":"@@ -154,45 +154,6 @@\n                     <target>1.5</target>\n                 </configuration>\n             </plugin>\n-            <!--\n-                get the svn revision number and set it in the\n-                subversion.revision setting - disabled for now\n-                since we need to be able to build from sources\n-                zip (when there is no .svn/ metadata)\n-            -->\n-            <plugin>\n-                <artifactId>maven-antrun-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>set subversion revision</id>\n-                        <phase>package</phase>\n-                        <configuration>\n-                            <tasks>\n-                                <property name=\"tmpdir\"\n-                                    value=\"${java.io.tmpdir}/openjpamvntmp\"/>\n-                                <condition property=\"outdir\"\n-                                    value=\"${project.build.outputDirectory}\">\n-                                    <available type=\"dir\"\n-                                    file=\"${project.build.outputDirectory}\"/>\n-                                </condition>\n-\n-                                <property name=\"outdir\" value=\"${tmpdir}\"/>\n-\n-                                <xmlproperty file=\"${basedir}/.svn/entries\"\n-                                    collapseAttributes=\"true\"/>\n-                                <property name=\"subversion.revision\"\n-                                    value=\"${wc-entries.entry.revision}\"/>\n-                                <mkdir dir=\"${outdir}/META-INF\"/>\n-                                <echo file=\"${outdir}/META-INF/revision.properties\">revision.number=${subversion.revision}</echo>\n-                                <delete dir=\"${tmpdir}\"/>\n-                            </tasks>\n-                        </configuration>\n-                        <goals>\n-                            <goal>run</goal>\n-                        </goals>\n-                    </execution>\n-                </executions>\n-            </plugin>\n         </plugins>\n     </build>\n     <reporting>"}]}

