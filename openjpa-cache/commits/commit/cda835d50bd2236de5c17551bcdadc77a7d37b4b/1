{"sha":"cda835d50bd2236de5c17551bcdadc77a7d37b4b","node_id":"MDY6Q29tbWl0MjA2MzY0OmNkYTgzNWQ1MGJkMjIzNmRlNWMxNzU1MWJjZGFkYzc3YTdkMzdiNGI=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-02-23T17:27:27Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-02-23T17:27:27Z"},"message":"OPENJPA-1528 Upgrade to MySQL 5.1.12 driver.  Include dbcp overrides needed for MySQL.  Moved common dbcp and junit properties to parent pom to simplify maintenance.  Add some blank lines in a couple poms to improve readability.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@915448 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"29d28d7d03c8edd0e56d52b55aa84e41774450eb","url":"https://api.github.com/repos/apache/openjpa/git/trees/29d28d7d03c8edd0e56d52b55aa84e41774450eb"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/cda835d50bd2236de5c17551bcdadc77a7d37b4b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/cda835d50bd2236de5c17551bcdadc77a7d37b4b","html_url":"https://github.com/apache/openjpa/commit/cda835d50bd2236de5c17551bcdadc77a7d37b4b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/cda835d50bd2236de5c17551bcdadc77a7d37b4b/comments","author":null,"committer":null,"parents":[{"sha":"fa4b72d7f50174238a6d97ead9a736b161271609","url":"https://api.github.com/repos/apache/openjpa/commits/fa4b72d7f50174238a6d97ead9a736b161271609","html_url":"https://github.com/apache/openjpa/commit/fa4b72d7f50174238a6d97ead9a736b161271609"}],"stats":{"total":89,"additions":46,"deletions":43},"files":[{"sha":"fff22d934c417e16fc4086ebeb0ffaa45d12cbc0","filename":"openjpa-persistence-jdbc/pom.xml","status":"modified","additions":15,"deletions":26,"changes":41,"blob_url":"https://github.com/apache/openjpa/blob/cda835d50bd2236de5c17551bcdadc77a7d37b4b/openjpa-persistence-jdbc/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cda835d50bd2236de5c17551bcdadc77a7d37b4b/openjpa-persistence-jdbc/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/pom.xml?ref=cda835d50bd2236de5c17551bcdadc77a7d37b4b","patch":"@@ -21,35 +21,22 @@\n     Maven release plugin requires the project tag to be on a single line. \n -->\n <project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+\n     <modelVersion>4.0.0</modelVersion>\n-    <groupId>org.apache.openjpa</groupId>\n-    <artifactId>openjpa-persistence-jdbc</artifactId>\n-    <packaging>jar</packaging>\n-    <name>OpenJPA Persistence JDBC</name>\n-    <description>OpenJPA Persistence JDBC</description>\n-    <url>http://openjpa.apache.org</url>\n+\n     <parent>\n         <groupId>org.apache.openjpa</groupId>\n         <artifactId>openjpa-parent</artifactId>\n         <version>2.0.0-SNAPSHOT</version>\n     </parent>\n-    <properties>\n-        <openjpa.loglevel>INFO</openjpa.loglevel>\n-        <dbcp.maxActive>10</dbcp.maxActive>\n-        <dbcp.maxIdle>5</dbcp.maxIdle>\n-        <dbcp.minIdle>2</dbcp.minIdle>\n-        <dbcp.maxWait>10000</dbcp.maxWait>\n-        <dbcp.args>MaxActive=${dbcp.maxActive},MaxIdle=${dbcp.maxIdle},MinIdle=${dbcp.minIdle},MaxWait=${dbcp.maxWait}</dbcp.args>\n-        <derby.locks.waitTimeout>10</derby.locks.waitTimeout>        \n-        <derby.locks.deadlockTimeout>5</derby.locks.deadlockTimeout>\n-        <!-- @AllowFailure options:  ignore = silently skip test,\n-             log = execute test and log results but don't fail the test,\n-             anything else allows the test to execute normally\n-        -->\n-        <tests.openjpa.allowfailure>ignore</tests.openjpa.allowfailure>\n-    </properties>\n-    <profiles>\n \n+    <groupId>org.apache.openjpa</groupId>\n+    <artifactId>openjpa-persistence-jdbc</artifactId>\n+    <packaging>jar</packaging>\n+    <name>OpenJPA Persistence JDBC</name>\n+    <description>OpenJPA Persistence JDBC</description>\n+\n+    <profiles>\n         <!-- Profile for testing with test-dynamic-enhancer -->\n         <profile>\n             <id>test-dynamic-enhancer</id>\n@@ -63,7 +50,7 @@\n             </properties>\n             <build>\n             <plugins>\n-               <plugin>\n+              <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-surefire-plugin</artifactId>\n                 <configuration>\n@@ -95,8 +82,8 @@\n                     </systemProperties>\n                 </configuration>\n             </plugin>\n-        </plugins>\n-        </build>\n+          </plugins>\n+          </build>\n         </profile>\n \n         <!-- Profile for testing with HSQL DB -->\n@@ -141,11 +128,13 @@\n                 </dependency>\n             </dependencies>\n             <properties>\n-                <mysql.version>5.1.6</mysql.version>\n                 <connection.driver.name>com.mysql.jdbc.Driver</connection.driver.name>\n                 <connection.url>${openjpa.mysql.url}</connection.url>\n                 <connection.username>${openjpa.mysql.username}</connection.username>\n                 <connection.password>${openjpa.mysql.password}</connection.password>\n+                <!-- DBCP overrides for MySQL testing -->\n+                <dbcp.maxIdle>0</dbcp.maxIdle>\n+                <dbcp.minIdle>0</dbcp.minIdle>\n             </properties>\n         </profile>\n "},{"sha":"f95151bd7b0b11299051826108a976ce0c19cc71","filename":"openjpa-persistence-locking/pom.xml","status":"modified","additions":5,"deletions":13,"changes":18,"blob_url":"https://github.com/apache/openjpa/blob/cda835d50bd2236de5c17551bcdadc77a7d37b4b/openjpa-persistence-locking/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cda835d50bd2236de5c17551bcdadc77a7d37b4b/openjpa-persistence-locking/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/pom.xml?ref=cda835d50bd2236de5c17551bcdadc77a7d37b4b","patch":"@@ -21,6 +21,7 @@\n     Maven release plugin requires the project tag to be on a single line.\n -->\n <project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+\n     <modelVersion>4.0.0</modelVersion>\n \n     <parent>\n@@ -36,25 +37,14 @@\n     <description>OpenJPA Persistence Locking Tests</description>\n \n     <properties>\n-        <openjpa.loglevel>INFO</openjpa.loglevel>\n-        <dbcp.maxActive>10</dbcp.maxActive>\n-        <dbcp.maxIdle>5</dbcp.maxIdle>\n-        <dbcp.minIdle>2</dbcp.minIdle>\n-        <dbcp.maxWait>10000</dbcp.maxWait>\n-        <dbcp.args>MaxActive=${dbcp.maxActive},MaxIdle=${dbcp.maxIdle},MinIdle=${dbcp.minIdle},MaxWait=${dbcp.maxWait}</dbcp.args>\n         <!-- have to use a larger waitTimeout to avoid lockmgr test failures -->\n         <derby.locks.waitTimeout>60</derby.locks.waitTimeout>\n         <derby.locks.deadlockTimeout>5</derby.locks.deadlockTimeout>\n-        <!-- @AllowFailure options:  ignore = silently skip test,\n-             log = execute test and log results but don't fail the test,\n-             anything else allows the test to execute normally\n-        -->\n-        <tests.openjpa.allowfailure>ignore</tests.openjpa.allowfailure>\n         <!-- set this =** on cmdline to skip all tests -->\n         <surefire.excludes.locking />\n     </properties>\n-    <profiles>\n \n+    <profiles>\n         <!-- Profile for testing with test-dynamic-enhancer -->\n         <profile>\n             <id>test-dynamic-enhancer</id>\n@@ -148,11 +138,13 @@\n                 </dependency>\n             </dependencies>\n             <properties>\n-                <mysql.version>5.1.6</mysql.version>\n                 <connection.driver.name>com.mysql.jdbc.Driver</connection.driver.name>\n                 <connection.url>${openjpa.mysql.url}</connection.url>\n                 <connection.username>${openjpa.mysql.username}</connection.username>\n                 <connection.password>${openjpa.mysql.password}</connection.password>\n+                <!-- DBCP overrides for MySQL testing -->\n+                <dbcp.maxIdle>0</dbcp.maxIdle>\n+                <dbcp.minIdle>0</dbcp.minIdle>\n             </properties>\n         </profile>\n "},{"sha":"df22a2e91c45f14c5a923a424681e5b4d32f1eef","filename":"openjpa-slice/pom.xml","status":"modified","additions":9,"deletions":1,"changes":10,"blob_url":"https://github.com/apache/openjpa/blob/cda835d50bd2236de5c17551bcdadc77a7d37b4b/openjpa-slice/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cda835d50bd2236de5c17551bcdadc77a7d37b4b/openjpa-slice/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-slice/pom.xml?ref=cda835d50bd2236de5c17551bcdadc77a7d37b4b","patch":"@@ -21,17 +21,21 @@\n     Maven release plugin requires the project tag to be on a single line.\n -->\n <project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+\n     <modelVersion>4.0.0</modelVersion>\n+\n     <parent>\n         <groupId>org.apache.openjpa</groupId>\n         <artifactId>openjpa-parent</artifactId>\n         <version>2.0.0-SNAPSHOT</version>\n     </parent>\n+\n     <groupId>org.apache.openjpa</groupId>\n     <artifactId>openjpa-slice</artifactId>\n     <packaging>jar</packaging>\n     <name>OpenJPA Slice</name>\n     <description>OpenJPA Slice</description>\n+\n     <dependencies>\n         <dependency>\n             <groupId>org.apache.openjpa</groupId>\n@@ -62,6 +66,7 @@\n             <scope>test</scope>\n         </dependency>\n     </dependencies>\n+\n     <profiles>\n         <!-- Default is to test with Embedded Derby, which is setup in\n              persistence.xml to create the required slices -->\n@@ -85,14 +90,17 @@\n                 </dependency>\n             </dependencies>\n             <properties>\n-                <mysql.version>5.1.6</mysql.version>\n                 <connection.driver.name>com.mysql.jdbc.Driver</connection.driver.name>\n                 <connection.url>${openjpa.mysql.url}</connection.url>\n                 <connection.username>${openjpa.mysql.username}</connection.username>\n                 <connection.password>${openjpa.mysql.password}</connection.password>\n+                <!-- DBCP overrides for MySQL testing -->\n+                <dbcp.maxIdle>0</dbcp.maxIdle>\n+                <dbcp.minIdle>0</dbcp.minIdle>\n             </properties>\n         </profile>\n     </profiles>\n+\n     <build>\n         <plugins>\n             <plugin>"},{"sha":"62929f12d03fd14c2f4ff4ce4fb1184ffd6e14f1","filename":"pom.xml","status":"modified","additions":17,"deletions":3,"changes":20,"blob_url":"https://github.com/apache/openjpa/blob/cda835d50bd2236de5c17551bcdadc77a7d37b4b/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/cda835d50bd2236de5c17551bcdadc77a7d37b4b/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/pom.xml?ref=cda835d50bd2236de5c17551bcdadc77a7d37b4b","patch":"@@ -43,15 +43,29 @@\n     <properties>\n         <openjpa.version>${pom.version}</openjpa.version>\n         <openjpa.loglevel>INFO</openjpa.loglevel>\n+        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n+        <checkstyle.config.location>../openjpa-project/checkstyle.xml</checkstyle.config.location>\n+        <!-- the test settings can be overridden my specific profiles -->\n         <test.jvm.maxpermsize>512m</test.jvm.maxpermsize>\n         <test.jvm.maxheapsize>1024m</test.jvm.maxheapsize>\n         <test.jvm.arguments>-Xmx${test.jvm.maxheapsize} -XX:MaxPermSize=${test.jvm.maxpermsize}</test.jvm.arguments>\n-        <!-- the sufire.jvm.args can be overridden my specific profiles -->\n         <surefire.jvm.args>${test.jvm.arguments}</surefire.jvm.args>\n-        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n-        <checkstyle.config.location>../openjpa-project/checkstyle.xml</checkstyle.config.location>\n+        <dbcp.maxActive>10</dbcp.maxActive>\n+        <dbcp.maxIdle>5</dbcp.maxIdle>\n+        <dbcp.minIdle>2</dbcp.minIdle>\n+        <dbcp.maxWait>10000</dbcp.maxWait>\n+        <dbcp.args>MaxActive=${dbcp.maxActive},MaxIdle=${dbcp.maxIdle},MinIdle=${dbcp.minIdle},MaxWait=${dbcp.maxWait}</dbcp.args>\n+        <derby.locks.waitTimeout>10</derby.locks.waitTimeout>\n+        <derby.locks.deadlockTimeout>5</derby.locks.deadlockTimeout>\n+        <!-- Testcase @AllowFailure options:  ignore = silently skip test,\n+             log = execute test and log results but don't fail the test,\n+             anything else allows the test to execute normally\n+        -->\n+        <tests.openjpa.allowfailure>ignore</tests.openjpa.allowfailure>\n+        <!-- common JDBC driver versions -->\n         <derby.version>10.5.3.0_1</derby.version>\n         <hsqldb.version>1.8.0.10</hsqldb.version>\n+        <mysql.version>5.1.12</mysql.version>\n     </properties>\n \n     <licenses>"}]}

