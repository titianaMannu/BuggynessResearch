{"sha":"ce937180b47ab142cdc9467719ba02ffe14ad0e8","node_id":"MDY6Q29tbWl0MjA2MzY0OmNlOTM3MTgwYjQ3YWIxNDJjZGM5NDY3NzE5YmEwMmZmZTE0YWQwZTg=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2006-09-23T22:48:14Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2006-09-23T22:48:14Z"},"message":"wrap types before deciding whether or not a cast is needed.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@449322 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"54f3ea6fb0a8c9ede7e5ff2e8d5686bf9181863e","url":"https://api.github.com/repos/apache/openjpa/git/trees/54f3ea6fb0a8c9ede7e5ff2e8d5686bf9181863e"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/ce937180b47ab142cdc9467719ba02ffe14ad0e8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/ce937180b47ab142cdc9467719ba02ffe14ad0e8","html_url":"https://github.com/apache/openjpa/commit/ce937180b47ab142cdc9467719ba02ffe14ad0e8","comments_url":"https://api.github.com/repos/apache/openjpa/commits/ce937180b47ab142cdc9467719ba02ffe14ad0e8/comments","author":null,"committer":null,"parents":[{"sha":"aa6309af3504e477306917de68dc0fa4c7fb8b67","url":"https://api.github.com/repos/apache/openjpa/commits/aa6309af3504e477306917de68dc0fa4c7fb8b67","html_url":"https://github.com/apache/openjpa/commit/aa6309af3504e477306917de68dc0fa4c7fb8b67"}],"stats":{"total":8,"additions":4,"deletions":4},"files":[{"sha":"6bf715d08ea68c9182d84f8a70c384c27342a32e","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/apache/openjpa/blob/ce937180b47ab142cdc9467719ba02ffe14ad0e8/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/ce937180b47ab142cdc9467719ba02ffe14ad0e8/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DBDictionary.java?ref=ce937180b47ab142cdc9467719ba02ffe14ad0e8","patch":"@@ -2303,8 +2303,8 @@ public void mathFunction(SQLBuffer buf, String op, FilterValue lhs,\n         FilterValue rhs) {\n         boolean castlhs = false;\n         boolean castrhs = false;\n-        Class lc = lhs.getType();\n-        Class rc = rhs.getType();\n+        Class lc = Filters.wrap(lhs.getType());\n+        Class rc = Filters.wrap(rhs.getType());\n         int type = 0;\n         if (requiresCastForMathFunctions && (lc != rc\n             || (lhs.isConstant() && rhs.isConstant()))) {\n@@ -2355,8 +2355,8 @@ public void comparison(SQLBuffer buf, String op, FilterValue lhs,\n         FilterValue rhs) {\n         boolean castlhs = false;\n         boolean castrhs = false;\n-        Class lc = lhs.getType();\n-        Class rc = rhs.getType();\n+        Class lc = Filters.wrap(lhs.getType());\n+        Class rc = Filters.wrap(rhs.getType());\n         int type = 0;\n         if (requiresCastForComparisons && (lc != rc\n             || (lhs.isConstant() && rhs.isConstant()))) {"}]}

