{"sha":"d1d356c151f8cd6d7f5c047d9c6641ea93c624fe","node_id":"MDY6Q29tbWl0MjA2MzY0OmQxZDM1NmMxNTFmOGNkNmQ3ZjVjMDQ3ZDljNjY0MWVhOTNjNjI0ZmU=","commit":{"author":{"name":"Milosz Tylenda","email":"mtylenda@apache.org","date":"2011-04-25T07:49:27Z"},"committer":{"name":"Milosz Tylenda","email":"mtylenda@apache.org","date":"2011-04-25T07:49:27Z"},"message":"OPENJPA-1932: Documentation update: Add information about other lock-related methods to the entity locking section.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@1096425 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"1cf37e8d789dffdb16bc8924452d71d3e9f9890b","url":"https://api.github.com/repos/apache/openjpa/git/trees/1cf37e8d789dffdb16bc8924452d71d3e9f9890b"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/d1d356c151f8cd6d7f5c047d9c6641ea93c624fe","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/d1d356c151f8cd6d7f5c047d9c6641ea93c624fe","html_url":"https://github.com/apache/openjpa/commit/d1d356c151f8cd6d7f5c047d9c6641ea93c624fe","comments_url":"https://api.github.com/repos/apache/openjpa/commits/d1d356c151f8cd6d7f5c047d9c6641ea93c624fe/comments","author":null,"committer":null,"parents":[{"sha":"045818b05df6886bb4176bb4878007e8f40e92a6","url":"https://api.github.com/repos/apache/openjpa/commits/045818b05df6886bb4176bb4878007e8f40e92a6","html_url":"https://github.com/apache/openjpa/commit/045818b05df6886bb4176bb4878007e8f40e92a6"}],"stats":{"total":23,"additions":23,"deletions":0},"files":[{"sha":"3b7a44c03e0ba570d4b6582cc2855d3c84420a42","filename":"openjpa-project/src/doc/manual/jpa_overview_em.xml","status":"modified","additions":23,"deletions":0,"changes":23,"blob_url":"https://github.com/apache/openjpa/blob/d1d356c151f8cd6d7f5c047d9c6641ea93c624fe/openjpa-project/src/doc/manual/jpa_overview_em.xml","raw_url":"https://github.com/apache/openjpa/raw/d1d356c151f8cd6d7f5c047d9c6641ea93c624fe/openjpa-project/src/doc/manual/jpa_overview_em.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/jpa_overview_em.xml?ref=d1d356c151f8cd6d7f5c047d9c6641ea93c624fe","patch":"@@ -84,6 +84,11 @@ Cache management.\n         </listitem>\n         <listitem>\n             <para>\n+Entity locking.\n+            </para>\n+        </listitem>\n+        <listitem>\n+            <para>\n Closing.\n             </para>\n         </listitem>\n@@ -990,6 +995,10 @@ native query support.\n                 locking\n             </secondary>\n         </indexterm>\n+        <para>\n+In the area of concurrency control, the JPA specification supports\n+optimistic and pessimistic locking.\n+        </para>\n <programlisting>\n public void lock(Object entity, LockModeType mode);\n </programlisting>\n@@ -1064,6 +1073,20 @@ will be incremented even if the entity's state did not change in the transaction\n                 </para>\n             </listitem>\n         </itemizedlist>\n+        <para>\n+Entities can also be locked at the time when entity state gets loaded from the datastore.\n+This is achieved by supplying a lock mode to the respective versions of\n+<methodname>find</methodname> and <methodname>refresh</methodname> methods.\n+If an entity state is to be loaded by a query, a lock mode can be passed to the\n+<methodname>Query.setLockMode</methodname> and <methodname>TypedQuery.setLockMode</methodname>\n+methods.\n+        </para>\n+<programlisting>\n+public LockModeType getLockMode(Object entity);\n+</programlisting>\n+        <para>\n+Returns the lock mode currently held by the given entity.\n+        </para>\n         <note>\n         <itemizedlist>\n             <listitem>"}]}

