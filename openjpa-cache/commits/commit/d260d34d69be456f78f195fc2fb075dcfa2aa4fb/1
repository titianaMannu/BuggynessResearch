{"sha":"d260d34d69be456f78f195fc2fb075dcfa2aa4fb","node_id":"MDY6Q29tbWl0MjA2MzY0OmQyNjBkMzRkNjliZTQ1NmY3OGYxOTVmYzJmYjA3NWRjZmEyYWE0ZmI=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-08-07T21:32:06Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-08-07T21:32:06Z"},"message":"Oops; fixing NPE caused by previous short-circuiting.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@563664 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"c44ff90f271686d8ddc87637e62248dbcf815f21","url":"https://api.github.com/repos/apache/openjpa/git/trees/c44ff90f271686d8ddc87637e62248dbcf815f21"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/d260d34d69be456f78f195fc2fb075dcfa2aa4fb","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/d260d34d69be456f78f195fc2fb075dcfa2aa4fb","html_url":"https://github.com/apache/openjpa/commit/d260d34d69be456f78f195fc2fb075dcfa2aa4fb","comments_url":"https://api.github.com/repos/apache/openjpa/commits/d260d34d69be456f78f195fc2fb075dcfa2aa4fb/comments","author":null,"committer":null,"parents":[{"sha":"fa39addf827a6ef14492389574e89055906efd49","url":"https://api.github.com/repos/apache/openjpa/commits/fa39addf827a6ef14492389574e89055906efd49","html_url":"https://github.com/apache/openjpa/commit/fa39addf827a6ef14492389574e89055906efd49"}],"stats":{"total":12,"additions":8,"deletions":4},"files":[{"sha":"01563e37a3da46d0603b2fc35507435eb320a972","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","status":"modified","additions":8,"deletions":4,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/d260d34d69be456f78f195fc2fb075dcfa2aa4fb/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","raw_url":"https://github.com/apache/openjpa/raw/d260d34d69be456f78f195fc2fb075dcfa2aa4fb/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java?ref=d260d34d69be456f78f195fc2fb075dcfa2aa4fb","patch":"@@ -49,6 +49,8 @@\n public class TestXMLCustomerOrder\n     extends SQLListenerTestCase {\n \n+    private boolean enabled = false;\n+\n     public void setUp() {\n         OpenJPAEntityManagerFactory emf = createEMF();\n         DBDictionary dict = ((JDBCConfiguration) emf.getConfiguration())\n@@ -58,6 +60,8 @@ public void setUp() {\n         if (!dict.supportsXMLColumn)\n             return;\n \n+        enabled = true;\n+\n         setUp(org.apache.openjpa.persistence.xmlmapping.entities.Customer.class\n             , org.apache.openjpa.persistence.xmlmapping.entities.Customer\n                 .CustomerKey.class\n@@ -71,15 +75,15 @@ public static void main(String[] args) {\n     }\n \n     public void testXMLCustomerOrder() {\t\n+        // skip if dictionary has no support for XML column type\n+        if (!enabled)\n+            return;\n+\n         OpenJPAEntityManager em =\n             OpenJPAPersistence.cast(emf.createEntityManager());\n         DBDictionary dict = ((JDBCConfiguration) em.getConfiguration())\n             .getDBDictionaryInstance();\n \n-        // skip if dictionary has no support for XML column type \n-        if (!dict.supportsXMLColumn)\n-            return;\n-\n         String sqllog = TestXMLCustomerOrder.class.getName();\n         sqllog = sqllog.replace('.', '/');\n         sqllog = \"./\" + sqllog;"}]}

