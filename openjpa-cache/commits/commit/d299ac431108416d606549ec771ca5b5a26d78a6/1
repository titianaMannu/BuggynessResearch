{"sha":"d299ac431108416d606549ec771ca5b5a26d78a6","node_id":"MDY6Q29tbWl0MjA2MzY0OmQyOTlhYzQzMTEwODQxNmQ2MDY1NDllYzc3MWNhNWI1YTI2ZDc4YTY=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-01-22T03:34:57Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-01-22T03:34:57Z"},"message":"OPENJPA-1410 Undo removal of code that was added by OPENJPA-1460\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@901968 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"36417dd633efaf16ff9bb13830e248b0057ee8ef","url":"https://api.github.com/repos/apache/openjpa/git/trees/36417dd633efaf16ff9bb13830e248b0057ee8ef"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/d299ac431108416d606549ec771ca5b5a26d78a6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/d299ac431108416d606549ec771ca5b5a26d78a6","html_url":"https://github.com/apache/openjpa/commit/d299ac431108416d606549ec771ca5b5a26d78a6","comments_url":"https://api.github.com/repos/apache/openjpa/commits/d299ac431108416d606549ec771ca5b5a26d78a6/comments","author":null,"committer":null,"parents":[{"sha":"55d7af6e23c915f7dc418dc196cc132641c26c68","url":"https://api.github.com/repos/apache/openjpa/commits/55d7af6e23c915f7dc418dc196cc132641c26c68","html_url":"https://github.com/apache/openjpa/commit/55d7af6e23c915f7dc418dc196cc132641c26c68"}],"stats":{"total":5,"additions":5,"deletions":0},"files":[{"sha":"885efd42ebfc013d35e987683709a52d952a8761","filename":"openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/d299ac431108416d606549ec771ca5b5a26d78a6/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","raw_url":"https://github.com/apache/openjpa/raw/d299ac431108416d606549ec771ca5b5a26d78a6/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/PersistenceProviderImpl.java?ref=d299ac431108416d606549ec771ca5b5a26d78a6","patch":"@@ -187,6 +187,11 @@ public OpenJPAEntityManagerFactory createContainerEntityManagerFactory(Persisten\n                 }\n             }\n \n+            OpenJPAConfiguration conf = factory.getConfiguration();\n+            // OPENJPA-1460 Fix scope visibility of orm.xml when it is packaged in both ear file and war file\n+            conf.setPersistenceUnitRootUrl(pui.getPersistenceUnitRootUrl());\n+            _log = conf.getLog(OpenJPAConfiguration.LOG_RUNTIME);\n+\n             // Create appropriate LifecycleEventManager\n             loadValidator(factory);\n             "}]}

