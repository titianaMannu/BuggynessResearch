{"sha":"d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","node_id":"MDY6Q29tbWl0MjA2MzY0OmQyYzc0OGQxMDk0ZjI5NTI0M2M3YTNiOWVmZTJiOTM3ZDhiYzliMGI=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-03-06T23:57:29Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-03-06T23:57:29Z"},"message":"OPENJPA-121: Table name defaults to the class name instead of the entity name. The key change is in PersistenceMappingDefaults; other changes include a new test case and removal of spurious @Table annotations from previous workaround.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@515375 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"57cf601cee47866ba59123a1426fdd4a2bcc873f","url":"https://api.github.com/repos/apache/openjpa/git/trees/57cf601cee47866ba59123a1426fdd4a2bcc873f"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","html_url":"https://github.com/apache/openjpa/commit/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/comments","author":null,"committer":null,"parents":[{"sha":"1af233a0b3b7ad19ed14aa1b0a297269f7905e97","url":"https://api.github.com/repos/apache/openjpa/commits/1af233a0b3b7ad19ed14aa1b0a297269f7905e97","html_url":"https://github.com/apache/openjpa/commit/1af233a0b3b7ad19ed14aa1b0a297269f7905e97"}],"stats":{"total":100,"additions":68,"deletions":32},"files":[{"sha":"913f46d1adceed93cf774591af4becea0e10111c","filename":"openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/PersistenceMappingDefaults.java","status":"modified","additions":5,"deletions":1,"changes":6,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/PersistenceMappingDefaults.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/PersistenceMappingDefaults.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/PersistenceMappingDefaults.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -114,7 +114,11 @@ public Object getStrategy(Discriminator disc, boolean adapt) {\n \n     @Override\n     public String getTableName(ClassMapping cls, Schema schema) {\n-        return Strings.getClassName(cls.getDescribedType()).replace('$', '_');\n+        if (cls.getTypeAlias() != null)\n+            return cls.getTypeAlias();\n+        else\n+            return Strings.getClassName(\n+                cls.getDescribedType()).replace('$', '_');\n     }\n \n     @Override"},{"sha":"4cf6bb63f5bfaa4fad787554bc1ecc1b1ec90f3f","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/kernel/TestQueryCompilationCache.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/kernel/TestQueryCompilationCache.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/kernel/TestQueryCompilationCache.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/kernel/TestQueryCompilationCache.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -26,7 +26,7 @@\n import org.apache.openjpa.persistence.OpenJPAEntityManagerFactory;\n import org.apache.openjpa.persistence.OpenJPAPersistence;\n import org.apache.openjpa.persistence.OpenJPAQuery;\n-import org.apache.openjpa.persistence.query.NamedEntity;\n+import org.apache.openjpa.persistence.simple.NamedEntity;\n \n import junit.framework.TestCase;\n \n@@ -53,7 +53,7 @@ public void testDynamicJPQLWithNamedEntity() {\n         \n         // dig into the entry and check its internal state\n         Compilation comp = (Compilation) cache.values().iterator().next();\n-        assertEquals(NamedEntity.class, \n+        assertEquals(NamedEntity.class,\n             ((ParsedJPQL) comp.storeData).getCandidateType());\n         \n         emf.close();"},{"sha":"95f89a802e9f0480a93610206c0d0f957975028f","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Address.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Address.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Address.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Address.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"BAS_Address\")\n-@Table(name=\"BAS_Address\") // OPENJPA-121\n public class Address implements IAddress {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"2f91f706fc46a79efb222cdb78c26c7056f9d38a","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Company.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Company.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Company.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Company.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"BAS_Company\")\n-@Table(name=\"BAS_Company\") // OPENJPA-121\n public class Company implements ICompany {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"041f31bda29de2e3c1be66f7596e55142be3e1e1","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/LineItem.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/LineItem.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/LineItem.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/LineItem.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"BAS_LineItem\")\n-@Table(name=\"BAS_LineItem\") // OPENJPA-121\n public class LineItem implements ILineItem {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"a9911b32e894cc1708e2c46a48b7a74894c38332","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Person.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Person.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Person.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Person.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"BAS_Person\")\n-@Table(name=\"BAS_Person\") // OPENJPA-121\n @Inheritance(strategy=InheritanceType.SINGLE_TABLE)\n public abstract class Person implements IPerson {\n     private static long idCounter = System.currentTimeMillis();"},{"sha":"a939203a0d7860c31c58ef2da36c56b46b427862","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Product.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Product.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Product.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/Product.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"BAS_Product\")\n-@Table(name=\"BAS_Product\") // OPENJPA-121\n public class Product implements IProduct {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"68f314cd5aaa5d567babdbb2d1703630db512258","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/ProductOrder.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/ProductOrder.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/ProductOrder.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/basic/ProductOrder.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"BAS_ProductOrder\")\n-@Table(name=\"BAS_ProductOrder\") // OPENJPA-121\n public class ProductOrder implements IProductOrder {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"966d23018f3381fdf3ffd19822d8ac12d8b834f5","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Address.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Address.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Address.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Address.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"LAZ_Address\")\n-@Table(name=\"LAZ_Address\") // OPENJPA-121\n public class Address implements IAddress {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"48e026eff062adf76f1b54e94e8f7a198bf579f0","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Company.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Company.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Company.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Company.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"LAZ_Company\")\n-@Table(name=\"LAZ_Company\") // OPENJPA-121\n public class Company implements ICompany {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"b4f154fb6ff6c8733b5ed282f90556d61b2cc25c","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/LineItem.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/LineItem.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/LineItem.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/LineItem.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"LAZ_LineItem\")\n-@Table(name=\"LAZ_LineItem\") // OPENJPA-121\n public class LineItem implements ILineItem {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"94a9e42c14f5a05f4aa472b1b9cce1bcdf6914ef","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Person.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Person.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Person.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Person.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"LAZ_Person\")\n-@Table(name=\"LAZ_Person\") // OPENJPA-121\n @Inheritance(strategy=InheritanceType.SINGLE_TABLE)\n public abstract class Person implements IPerson {\n     private static long idCounter = System.currentTimeMillis();"},{"sha":"875fb90ddcbe24559c1f285b194debab9b303f2b","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Product.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Product.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Product.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/Product.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"LAZ_Product\")\n-@Table(name=\"LAZ_Product\") // OPENJPA-121\n public class Product implements IProduct {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"6612d5f31054bbe1ded3ab8695ef219b75e1c78f","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/ProductOrder.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/ProductOrder.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/ProductOrder.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/fetchlazy/ProductOrder.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"LAZ_ProductOrder\")\n-@Table(name=\"LAZ_ProductOrder\") // OPENJPA-121\n public class ProductOrder implements IProductOrder {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"53097fb07a939c38f5d92d37addb7789152a120e","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Address.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Address.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Address.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Address.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"IDC_Address\")\n-@Table(name=\"IDC_Address\") // OPENJPA-121\n public class Address implements IAddress {\n     private static int ids = 1;\n "},{"sha":"2097a71a5e055c4787ec598748626b320cf39ab0","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Company.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Company.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Company.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Company.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"IDC_Company\")\n-@Table(name=\"IDC_Company\") // OPENJPA-121\n public class Company implements ICompany {\n     private static int ids = 1;\n "},{"sha":"32314dc709260a5a1a53b4963b739e35970fc670","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/LineItem.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/LineItem.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/LineItem.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/LineItem.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"IDC_LineItem\")\n-@Table(name=\"IDC_LineItem\") // OPENJPA-121\n public class LineItem implements ILineItem {\n     private static int ids = 1;\n "},{"sha":"280adaa2b4efa9ef6c70a35b1d4a4ee6062303ed","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Person.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Person.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Person.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Person.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"IDC_Person\")\n-@Table(name=\"IDC_Person\") // OPENJPA-121\n @Inheritance(strategy=InheritanceType.SINGLE_TABLE)\n public abstract class Person implements IPerson {\n     private static int ids = 1;"},{"sha":"c94e64096dc29f2179a1c44abc82b806b1996d83","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Product.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Product.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Product.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/Product.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"IDC_Product\")\n-@Table(name=\"IDC_Product\") // OPENJPA-121\n public class Product implements IProduct {\n     private static int ids = 1;\n "},{"sha":"c59e86e6c6ca8ada7273fc4cee05fc265a472f81","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/ProductOrder.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/ProductOrder.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/ProductOrder.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/idclass/ProductOrder.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"IDC_ProductOrder\")\n-@Table(name=\"IDC_ProductOrder\") // OPENJPA-121\n public class ProductOrder implements IProductOrder {\n     private static int ids = 1;\n "},{"sha":"60170e006f4d78131b17e7845535db40923aca77","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Address.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Address.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Address.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Address.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_Address\")\n-@Table(name=\"JI_Address\") // OPENJPA-121\n public class Address implements IAddress {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"2cbaf8d6fbea27086ee848d4f8bcf9c290036a9f","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Company.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Company.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Company.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Company.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_Company\")\n-@Table(name=\"JI_Company\") // OPENJPA-121\n public class Company implements ICompany {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"2e86a379f8fd8f97c310201c0b398dd012284e7d","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Customer.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Customer.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Customer.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Customer.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_Customer\")\n-@Table(name=\"JI_Customer\") // OPENJPA-121\n @Inheritance(strategy=InheritanceType.JOINED)\n public class Customer extends Person implements ICustomer {\n     @OneToMany(mappedBy=\"customer\")"},{"sha":"f22a2fea4f69d1b8fb54271b078dbe3780165c10","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Employee.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Employee.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Employee.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Employee.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_Employee\")\n-@Table(name=\"JI_Employee\") // OPENJPA-121\n @Inheritance(strategy=InheritanceType.JOINED)\n public abstract class Employee extends Person implements IEmployee {\n     @OneToOne"},{"sha":"c0907631f688ad3087f0c916f2755b90ce986541","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/FullTimeEmployee.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/FullTimeEmployee.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/FullTimeEmployee.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/FullTimeEmployee.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_FullTimeEmployee\")\n-@Table(name=\"JI_FullTimeEmployee\") // OPENJPA-121\n @Inheritance(strategy=InheritanceType.JOINED)\n public class FullTimeEmployee extends Employee\n     implements IFullTimeEmployee {"},{"sha":"0f598175bc91c1926675e929d375dde841914e02","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/LineItem.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/LineItem.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/LineItem.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/LineItem.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_LineItem\")\n-@Table(name=\"JI_LineItem\") // OPENJPA-121\n public class LineItem implements ILineItem {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"1c47dcb7ce690ace0029b03001306a48d2f4d368","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/PartTimeEmployee.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/PartTimeEmployee.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/PartTimeEmployee.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/PartTimeEmployee.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_PartTimeEmployee\")\n-@Table(name=\"JI_PartTimeEmployee\") // OPENJPA-121\n @Inheritance(strategy=InheritanceType.JOINED)\n public class PartTimeEmployee extends Employee\n     implements IPartTimeEmployee {"},{"sha":"e74eb1db448a372e40f34d64e4505b9317ca358d","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Person.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Person.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Person.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Person.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -19,7 +19,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_Person\")\n-@Table(name=\"JI_Person\") // OPENJPA-121\n @Inheritance(strategy=InheritanceType.JOINED)\n public abstract class Person implements IPerson {\n     private static long idCounter = System.currentTimeMillis();"},{"sha":"f28dc1de7d1a1fafc349d1a708a975b83d585d2a","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Product.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Product.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Product.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/Product.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_Product\")\n-@Table(name=\"JI_Product\") // OPENJPA-121\n public class Product implements IProduct {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"05bb5146aa689d302cac5b965fe4e8c5f1e24383","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/ProductOrder.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/ProductOrder.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/ProductOrder.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/models/company/joined/ProductOrder.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -20,7 +20,6 @@\n import org.apache.openjpa.persistence.models.company.*;\n \n @Entity(name=\"JI_ProductOrder\")\n-@Table(name=\"JI_ProductOrder\") // OPENJPA-121\n public class ProductOrder implements IProductOrder {\n     private static long idCounter = System.currentTimeMillis();\n "},{"sha":"3a34850782e93c234fd063eb7d17efe95a407630","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/TestAbstractSchemaName.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/TestAbstractSchemaName.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/TestAbstractSchemaName.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/TestAbstractSchemaName.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -24,6 +24,7 @@\n \n import junit.framework.TestCase;\n import junit.textui.TestRunner;\n+import org.apache.openjpa.persistence.simple.NamedEntity;\n \n /**\n  * Test that we can query by an entity's abstract schema name."},{"sha":"8ac3a1c82035b26dba534b1777980b64424d167e","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/simple/NamedEntity.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/simple/NamedEntity.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/simple/NamedEntity.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/simple/NamedEntity.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -13,7 +13,7 @@\n  * See the License for the specific language governing permissions and\r\n  * limitations under the License.\r\n  */\r\n-package org.apache.openjpa.persistence.query;\r\n+package org.apache.openjpa.persistence.simple;\r\n \r\n import javax.persistence.Entity;\r\n import javax.persistence.GeneratedValue;\r","previous_filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/query/NamedEntity.java"},{"sha":"3c6458b4d844d6cd8769656663f83363ffa55c2f","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/simple/TestTableNamesDefaultToEntityNames.java","status":"added","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/simple/TestTableNamesDefaultToEntityNames.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/simple/TestTableNamesDefaultToEntityNames.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/simple/TestTableNamesDefaultToEntityNames.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -0,0 +1,20 @@\n+package org.apache.openjpa.persistence.simple;\n+\n+import org.apache.openjpa.persistence.OpenJPAPersistence;\n+import org.apache.openjpa.persistence.test.PersistenceTestCase;\n+import org.apache.openjpa.jdbc.meta.ClassMapping;\n+\n+public class TestTableNamesDefaultToEntityNames\n+    extends PersistenceTestCase {\n+\n+    @Override\n+    protected Class[] getEntityTypes() {\n+        return new Class[] { NamedEntity.class };\n+    }\n+\n+    public void testEntityNames() {\n+        ClassMapping cm = (ClassMapping) OpenJPAPersistence.getMetaData(\n+            getEntityManagerFactory(), NamedEntity.class);\n+        assertEquals(\"named\", cm.getTable().getName());\n+    }\n+}"},{"sha":"45fec7c1b7d1c619f20969c334c3608da78905be","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/test/PersistenceTestCase.java","status":"added","additions":39,"deletions":0,"changes":39,"blob_url":"https://github.com/apache/openjpa/blob/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/test/PersistenceTestCase.java","raw_url":"https://github.com/apache/openjpa/raw/d2c748d1094f295243c7a3b9efe2b937d8bc9b0b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/test/PersistenceTestCase.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/test/PersistenceTestCase.java?ref=d2c748d1094f295243c7a3b9efe2b937d8bc9b0b","patch":"@@ -0,0 +1,39 @@\n+package org.apache.openjpa.persistence.test;\n+\n+import java.util.Map;\n+import java.util.HashMap;\n+import javax.persistence.Persistence;\n+\n+import junit.framework.TestCase;\n+import org.apache.openjpa.persistence.OpenJPAEntityManagerFactory;\n+\n+public abstract class PersistenceTestCase\n+    extends TestCase {\n+\n+    protected OpenJPAEntityManagerFactory emf;\n+\n+    protected Class[] getEntityTypes() {\n+        return new Class[0];\n+    }\n+\n+    public void setUp() {\n+        Map props = new HashMap(System.getProperties());\n+        Class[] types = getEntityTypes();\n+        if (types != null && types.length > 0) {\n+            StringBuffer buf = new StringBuffer();\n+            for (int i = 0; i < types.length; i++) {\n+                buf.append(types[i].getName());\n+                if (i != types.length - 1)\n+                    buf.append(\",\");\n+            }\n+            props.put(\"openjpa.MetaDataFactory\",\n+                \"jpa(Types=\" + buf.toString() + \")\");\n+        }\n+        emf = (OpenJPAEntityManagerFactory)\n+            Persistence.createEntityManagerFactory(\"test\", props);\n+    }\n+\n+    public OpenJPAEntityManagerFactory getEntityManagerFactory() {\n+        return emf;\n+    }\n+}"}]}

