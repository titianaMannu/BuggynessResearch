{"sha":"d4e978f5aeb420aa295a166e0f35770e5b181932","node_id":"MDY6Q29tbWl0MjA2MzY0OmQ0ZTk3OGY1YWViNDIwYWEyOTVhMTY2ZTBmMzU3NzBlNWIxODE5MzI=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-11-20T03:05:36Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-11-20T03:05:36Z"},"message":"OPENJPA-447. It looks like some of our DBDictionaries might not be handling ranging properly even after this fix.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@596523 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"086b128e044110ef46ab0875991b6e6b61dff835","url":"https://api.github.com/repos/apache/openjpa/git/trees/086b128e044110ef46ab0875991b6e6b61dff835"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/d4e978f5aeb420aa295a166e0f35770e5b181932","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/d4e978f5aeb420aa295a166e0f35770e5b181932","html_url":"https://github.com/apache/openjpa/commit/d4e978f5aeb420aa295a166e0f35770e5b181932","comments_url":"https://api.github.com/repos/apache/openjpa/commits/d4e978f5aeb420aa295a166e0f35770e5b181932/comments","author":null,"committer":null,"parents":[{"sha":"1dcd7b1d7508133a9fc805dace7a7f49355e58f2","url":"https://api.github.com/repos/apache/openjpa/commits/1dcd7b1d7508133a9fc805dace7a7f49355e58f2","html_url":"https://github.com/apache/openjpa/commit/1dcd7b1d7508133a9fc805dace7a7f49355e58f2"}],"stats":{"total":15,"additions":10,"deletions":5},"files":[{"sha":"1d88edf4a83e70f989e368c7ab0b8aed616c65b0","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/AbstractSQLServerDictionary.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/AbstractSQLServerDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/AbstractSQLServerDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/AbstractSQLServerDictionary.java?ref=d4e978f5aeb420aa295a166e0f35770e5b181932","patch":"@@ -108,7 +108,8 @@ else if (colType == Types.BLOB)\n             super.setNull(stmnt, idx, colType, col);\n     }\n \n-    protected void appendSelectRange(SQLBuffer buf, long start, long end) {\n+    protected void appendSelectRange(SQLBuffer buf, long start, long end,\n+        boolean subselect) {\n         // cannot use a value here, since SQLServer does not support\n         // bound parameters in a \"TOP\" clause\n         buf.append(\" TOP \").append(Long.toString(end));"},{"sha":"6c0b90c18e1a5df9af5149ebf1f6c4e55073ac9b","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/H2Dictionary.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/H2Dictionary.java","raw_url":"https://github.com/apache/openjpa/raw/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/H2Dictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/H2Dictionary.java?ref=d4e978f5aeb420aa295a166e0f35770e5b181932","patch":"@@ -185,7 +185,8 @@ protected String getSequencesSQL(String schemaName, String sequenceName) {\n         return cols;\n     }\n \n-    protected void appendSelectRange(SQLBuffer buf, long start, long end) {\n+    protected void appendSelectRange(SQLBuffer buf, long start, long end,\n+        boolean subselect) {\n         if (end != Long.MAX_VALUE)\n             buf.append(\" LIMIT \").appendValue(end - start);\n         if (start != 0)"},{"sha":"fc8d7560548aa13637f45bbda8da6ab189a29cdd","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/HSQLDictionary.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/HSQLDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/HSQLDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/HSQLDictionary.java?ref=d4e978f5aeb420aa295a166e0f35770e5b181932","patch":"@@ -250,7 +250,8 @@ public void setBigDecimal(PreparedStatement stmnt, int idx, BigDecimal val,\n         }\n     }\n \n-    protected void appendSelectRange(SQLBuffer buf, long start, long end) {\n+    protected void appendSelectRange(SQLBuffer buf, long start, long end,\n+        boolean subselect) {\n         // HSQL doesn't parameters in range\n         buf.append(\" LIMIT \").append(String.valueOf(start)).append(\" \");\n         if (end == Long.MAX_VALUE)"},{"sha":"e359a114b6cae7c96c63e2ae658371541bb239be","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/MySQLDictionary.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/MySQLDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/MySQLDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/MySQLDictionary.java?ref=d4e978f5aeb420aa295a166e0f35770e5b181932","patch":"@@ -162,7 +162,8 @@ protected String getForeignKeyConstraintSQL(ForeignKey fk) {\n         }\n     }\n \n-    protected void appendSelectRange(SQLBuffer buf, long start, long end) {\n+    protected void appendSelectRange(SQLBuffer buf, long start, long end,\n+        boolean subselect) {\n         buf.append(\" LIMIT \").appendValue(start).append(\", \");\n         if (end == Long.MAX_VALUE)\n             buf.appendValue(Long.MAX_VALUE);"},{"sha":"306f90fd6f5ec23a4e16f996ae9081523cff0d35","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/PostgresDictionary.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/PostgresDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/d4e978f5aeb420aa295a166e0f35770e5b181932/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/PostgresDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/PostgresDictionary.java?ref=d4e978f5aeb420aa295a166e0f35770e5b181932","patch":"@@ -241,7 +241,8 @@ public void setNull(PreparedStatement stmnt, int idx, int colType,\n         stmnt.setNull(idx, colType);\n     }\n \n-    protected void appendSelectRange(SQLBuffer buf, long start, long end) {\n+    protected void appendSelectRange(SQLBuffer buf, long start, long end,\n+        boolean subselect) {\n         if (end != Long.MAX_VALUE)\n             buf.append(\" LIMIT \").appendValue(end - start);\n         if (start != 0)"}]}

