{"sha":"d72a5ad309c7641a3f8a84931004c93c5a9d070d","node_id":"MDY6Q29tbWl0MjA2MzY0OmQ3MmE1YWQzMDljNzY0MWEzZjhhODQ5MzEwMDRjOTNjNWE5ZDA3MGQ=","commit":{"author":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2007-06-13T05:41:16Z"},"committer":{"name":"Marc Prud'hommeaux","email":"mprudhom@apache.org","date":"2007-06-13T05:41:16Z"},"message":"Fixed JDK-1.5-specific Array.toString() call.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@546743 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"282c98ab2046b7c58b3902624c78dc88d0a931e5","url":"https://api.github.com/repos/apache/openjpa/git/trees/282c98ab2046b7c58b3902624c78dc88d0a931e5"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/d72a5ad309c7641a3f8a84931004c93c5a9d070d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/d72a5ad309c7641a3f8a84931004c93c5a9d070d","html_url":"https://github.com/apache/openjpa/commit/d72a5ad309c7641a3f8a84931004c93c5a9d070d","comments_url":"https://api.github.com/repos/apache/openjpa/commits/d72a5ad309c7641a3f8a84931004c93c5a9d070d/comments","author":null,"committer":null,"parents":[{"sha":"43eb43898a43f2419cd86564a50c2e661f65e5b2","url":"https://api.github.com/repos/apache/openjpa/commits/43eb43898a43f2419cd86564a50c2e661f65e5b2","html_url":"https://github.com/apache/openjpa/commit/43eb43898a43f2419cd86564a50c2e661f65e5b2"}],"stats":{"total":12,"additions":9,"deletions":3},"files":[{"sha":"6564a11d716b6c555ae7f2c7c5a6555ebc08bed5","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/d72a5ad309c7641a3f8a84931004c93c5a9d070d/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","raw_url":"https://github.com/apache/openjpa/raw/d72a5ad309c7641a3f8a84931004c93c5a9d070d/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/DB2Dictionary.java?ref=d72a5ad309c7641a3f8a84931004c93c5a9d070d","patch":"@@ -391,10 +391,16 @@ private String appendExtendedExceptionMsg(String msg, SQLException sqle){\n             getMethod(\"getSqlWarn\", null);\r\n             Method  getSqlErrdMethd = sqlca.getClass().\r\n             getMethod(\"getSqlErrd\", null);\r\n+            StringBuffer errdStr = new StringBuffer();\r\n+\r\n+            int[] errds = (int[]) getSqlErrdMethd.invoke(sqlca, new Object[]{});\r\n+            for (int i = 0; i < errds.length; i++)\r\n+                errdStr.append(errdStr.length() > 0 ? \", \" : \"\").\r\n+                    append(errds[i]);\r\n             exceptionMsg = exceptionMsg.concat( \"SQLCA OUTPUT\" +\r\n-                    \"[Errp=\" +getSqlErrpMethd.invoke(sqlca,new Object[]{})\r\n-                    + \", Errd=\" + Arrays.toString((int[])\r\n-                            (getSqlErrdMethd.invoke(sqlca, new Object[]{}))));\r\n+                    \"[Errp=\" + getSqlErrpMethd.invoke(sqlca, new Object[]{})\r\n+                    + \", Errd=\" + errdStr);\r\n+\r\n             String Warn = new String((char[])getSqlWarnMethd.\r\n                     invoke(sqlca, new Object[]{}));\r\n             if(Warn.trim().length() != 0)\r"}]}

