{"sha":"d82add658d2dd767680978e038501895005a3eb3","node_id":"MDY6Q29tbWl0MjA2MzY0OmQ4MmFkZDY1OGQyZGQ3Njc2ODA5NzhlMDM4NTAxODk1MDA1YTNlYjM=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2010-02-16T17:46:00Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2010-02-16T17:46:00Z"},"message":"OPENJPA-1503:Metamodel reflection  with security manager\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@910617 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"41b30b33406f0cb47f749fc3994e0aebbf5a0f12","url":"https://api.github.com/repos/apache/openjpa/git/trees/41b30b33406f0cb47f749fc3994e0aebbf5a0f12"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/d82add658d2dd767680978e038501895005a3eb3","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/d82add658d2dd767680978e038501895005a3eb3","html_url":"https://github.com/apache/openjpa/commit/d82add658d2dd767680978e038501895005a3eb3","comments_url":"https://api.github.com/repos/apache/openjpa/commits/d82add658d2dd767680978e038501895005a3eb3/comments","author":null,"committer":null,"parents":[{"sha":"ad106583e804914433e0ff9d3644b6e8894d821c","url":"https://api.github.com/repos/apache/openjpa/commits/ad106583e804914433e0ff9d3644b6e8894d821c","html_url":"https://github.com/apache/openjpa/commit/ad106583e804914433e0ff9d3644b6e8894d821c"}],"stats":{"total":4,"additions":2,"deletions":2},"files":[{"sha":"ab63ae71891224d7da4f5b0840ad86682b3c1185","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/meta/MetaDataRepository.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/apache/openjpa/blob/d82add658d2dd767680978e038501895005a3eb3/openjpa-kernel/src/main/java/org/apache/openjpa/meta/MetaDataRepository.java","raw_url":"https://github.com/apache/openjpa/raw/d82add658d2dd767680978e038501895005a3eb3/openjpa-kernel/src/main/java/org/apache/openjpa/meta/MetaDataRepository.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/meta/MetaDataRepository.java?ref=d82add658d2dd767680978e038501895005a3eb3","patch":"@@ -1837,8 +1837,8 @@ public void setMetaModel(ClassMetaData meta, Class<?> m2) {\n             return _metamodel.get(entity);\n         String m2 = _factory.getMetaModelClassName(entity.getName());\n         try {\n-            Class<?> m2cls = AccessController.doPrivileged(\n-                    J2DoPrivHelper.getForNameAction(m2, true, entity.getClassLoader()));\n+            ClassLoader loader = AccessController.doPrivileged(J2DoPrivHelper.getClassLoaderAction(entity));\n+            Class<?> m2cls = AccessController.doPrivileged(J2DoPrivHelper.getForNameAction(m2, true, loader));\n             _metamodel.put(entity, m2cls);\n             return m2cls;\n         } catch (Throwable t) {"}]}

