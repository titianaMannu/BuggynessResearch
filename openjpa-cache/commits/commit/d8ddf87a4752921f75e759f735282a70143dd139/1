{"sha":"d8ddf87a4752921f75e759f735282a70143dd139","node_id":"MDY6Q29tbWl0MjA2MzY0OmQ4ZGRmODdhNDc1MjkyMWY3NWU3NTlmNzM1MjgyYTcwMTQzZGQxMzk=","commit":{"author":{"name":"Mark Struberg","email":"struberg@apache.org","date":"2019-04-05T21:04:44Z"},"committer":{"name":"Mark Struberg","email":"struberg@apache.org","date":"2019-04-05T21:04:44Z"},"message":"OPENJPA-2555 add docs for DateFractionDigits","tree":{"sha":"d9dd9d8a9301318e5ca8e657a46ffcb7f49dd65b","url":"https://api.github.com/repos/apache/openjpa/git/trees/d9dd9d8a9301318e5ca8e657a46ffcb7f49dd65b"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/d8ddf87a4752921f75e759f735282a70143dd139","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/d8ddf87a4752921f75e759f735282a70143dd139","html_url":"https://github.com/apache/openjpa/commit/d8ddf87a4752921f75e759f735282a70143dd139","comments_url":"https://api.github.com/repos/apache/openjpa/commits/d8ddf87a4752921f75e759f735282a70143dd139/comments","author":{"login":"struberg","id":79310,"node_id":"MDQ6VXNlcjc5MzEw","avatar_url":"https://avatars.githubusercontent.com/u/79310?v=4","gravatar_id":"","url":"https://api.github.com/users/struberg","html_url":"https://github.com/struberg","followers_url":"https://api.github.com/users/struberg/followers","following_url":"https://api.github.com/users/struberg/following{/other_user}","gists_url":"https://api.github.com/users/struberg/gists{/gist_id}","starred_url":"https://api.github.com/users/struberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/struberg/subscriptions","organizations_url":"https://api.github.com/users/struberg/orgs","repos_url":"https://api.github.com/users/struberg/repos","events_url":"https://api.github.com/users/struberg/events{/privacy}","received_events_url":"https://api.github.com/users/struberg/received_events","type":"User","site_admin":false},"committer":{"login":"struberg","id":79310,"node_id":"MDQ6VXNlcjc5MzEw","avatar_url":"https://avatars.githubusercontent.com/u/79310?v=4","gravatar_id":"","url":"https://api.github.com/users/struberg","html_url":"https://github.com/struberg","followers_url":"https://api.github.com/users/struberg/followers","following_url":"https://api.github.com/users/struberg/following{/other_user}","gists_url":"https://api.github.com/users/struberg/gists{/gist_id}","starred_url":"https://api.github.com/users/struberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/struberg/subscriptions","organizations_url":"https://api.github.com/users/struberg/orgs","repos_url":"https://api.github.com/users/struberg/repos","events_url":"https://api.github.com/users/struberg/events{/privacy}","received_events_url":"https://api.github.com/users/struberg/received_events","type":"User","site_admin":false},"parents":[{"sha":"a7969c120bfba06b883f319788fc50ca0ef06b69","url":"https://api.github.com/repos/apache/openjpa/commits/a7969c120bfba06b883f319788fc50ca0ef06b69","html_url":"https://github.com/apache/openjpa/commit/a7969c120bfba06b883f319788fc50ca0ef06b69"}],"stats":{"total":41,"additions":41,"deletions":0},"files":[{"sha":"6de9dacfd829942f3152eddac358cbcc012d5582","filename":"openjpa-project/src/doc/manual/ref_guide_dbsetup.xml","status":"modified","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/apache/openjpa/blob/d8ddf87a4752921f75e759f735282a70143dd139/openjpa-project/src/doc/manual/ref_guide_dbsetup.xml","raw_url":"https://github.com/apache/openjpa/raw/d8ddf87a4752921f75e759f735282a70143dd139/openjpa-project/src/doc/manual/ref_guide_dbsetup.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_dbsetup.xml?ref=d8ddf87a4752921f75e759f735282a70143dd139","patch":"@@ -1423,6 +1423,27 @@ The SQL function call to obtain the current timestamp from the database.\n Defaults to <literal>\"CURRENT_TIMESTAMP\"</literal>.\n                     </para>\n                 </listitem>\n+                <listitem id=\"DBDictionary.DateFractionDigits\">\n+                    <para>\n+                        <indexterm>\n+                            <primary>\n+                                JDBC\n+                            </primary>\n+                            <secondary>\n+                                DateFractionDigits\n+                            </secondary>\n+                        </indexterm>\n+                        <literal>DateFractionDigits</literal>\n+                        Some databases support to store sub-second fraction values.\n+                        The digits to store can sometimes be configured.\n+                        This value defines the default number of digits to store in the database.\n+                        A <code>dateFractionDigits=3</code> will e.g. lead to a <code>DATETIME(3)</code> on some databases.\n+\n+                        Note that this default can be overwritten to an integer value n per column via\n+                        <code>@Column(scale=n)</code>.\n+                        A <code>@Column(scale=-1)</code> will set the fraction digits to zero.\n+                    </para>\n+                </listitem>\n                 <listitem id=\"DBDictionary.DatePrecision\">\n                     <para>\n                     <indexterm>\n@@ -3897,6 +3918,26 @@ The <literal>mysql</literal> dictionary also understands the following\n properties:\n             </para>\n             <itemizedlist>\n+                <listitem id=\"MySQLDictionary.DateFractionDigits\">\n+                    <para>\n+                        <indexterm>\n+                            <primary>\n+                                MySQL\n+                            </primary>\n+                            <secondary>\n+                                DateFractionDigits\n+                            </secondary>\n+                        </indexterm>\n+                        <literal>DateFractionDigits</literal>:\n+                        Since MySQL 5.8 a timestamp (<code>DATETIME</code>) can store up to 6 sub-second fractions.\n+                        The default in MySQL and OpenJPA is 0 for backward compatibility reasons.\n+                        This default can be changed by setting <literal>DateFractionDigits</literal> to the number of\n+                        sub-second fraction digits to be stored. This will e.g. result in a <code>DATETIME(6)</code> column.\n+                        The number of fraction digits to be generated can also be tweaked via the\n+                        <code>@Column(scale=n)</code> annotation, where n is the number of digits.\n+                        This setting has primarily an impact on the generated SQL.\n+                    </para>\n+                </listitem>\n                 <listitem id=\"MySQLDictionary.DriverDeserializesBlobs\">\n                     <para>\n                     <indexterm>"}]}

