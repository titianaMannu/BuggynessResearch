{"sha":"dad4ad195225eaa68e6e3bed942822f0ea86d434","node_id":"MDY6Q29tbWl0MjA2MzY0OmRhZDRhZDE5NTIyNWVhYTY4ZTZlM2JlZDk0MjgyMmYwZWE4NmQ0MzQ=","commit":{"author":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2010-01-15T05:12:44Z"},"committer":{"name":"Catalina Wei","email":"fancy@apache.org","date":"2010-01-15T05:12:44Z"},"message":"OPENJPA-1461: Incorrect Oracle CREATE TABLE DDL for XML column\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@899528 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"39860a14f697bb19e8cb2fed5ed3a300c1e2f0a8","url":"https://api.github.com/repos/apache/openjpa/git/trees/39860a14f697bb19e8cb2fed5ed3a300c1e2f0a8"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/dad4ad195225eaa68e6e3bed942822f0ea86d434","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/dad4ad195225eaa68e6e3bed942822f0ea86d434","html_url":"https://github.com/apache/openjpa/commit/dad4ad195225eaa68e6e3bed942822f0ea86d434","comments_url":"https://api.github.com/repos/apache/openjpa/commits/dad4ad195225eaa68e6e3bed942822f0ea86d434/comments","author":null,"committer":null,"parents":[{"sha":"61cacd5df6a77aa7426dfa03546d9f89fa24a0fb","url":"https://api.github.com/repos/apache/openjpa/commits/61cacd5df6a77aa7426dfa03546d9f89fa24a0fb","html_url":"https://github.com/apache/openjpa/commit/61cacd5df6a77aa7426dfa03546d9f89fa24a0fb"}],"stats":{"total":7,"additions":4,"deletions":3},"files":[{"sha":"26e6e78af8d0b384caa646ffd2a62b45019c9953","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/dad4ad195225eaa68e6e3bed942822f0ea86d434/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","raw_url":"https://github.com/apache/openjpa/raw/dad4ad195225eaa68e6e3bed942822f0ea86d434/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/sql/OracleDictionary.java?ref=dad4ad195225eaa68e6e3bed942822f0ea86d434","patch":"@@ -897,7 +897,7 @@ else if (\"NCHAR\".equalsIgnoreCase(cols[i].getTypeName()))\n     @Override\n     public int getJDBCType(int metaTypeCode, boolean lob, int precis, \n         int scale, boolean xml) {        \n-        return getJDBCType(metaTypeCode, lob && !xml, precis, scale);        \n+        return getJDBCType(metaTypeCode, lob || xml, precis, scale);        \n     }\n \n "},{"sha":"b72ff2339599de3fb044dd025318081970367b0a","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/jdbc/kernel/TestUpdateWithSubSelect.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/dad4ad195225eaa68e6e3bed942822f0ea86d434/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/jdbc/kernel/TestUpdateWithSubSelect.java","raw_url":"https://github.com/apache/openjpa/raw/dad4ad195225eaa68e6e3bed942822f0ea86d434/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/jdbc/kernel/TestUpdateWithSubSelect.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/jdbc/kernel/TestUpdateWithSubSelect.java?ref=dad4ad195225eaa68e6e3bed942822f0ea86d434","patch":"@@ -64,7 +64,8 @@ public void testUpdateBySubSelect() {\n         assertEquals(1,sql.size());\n         String sqlString = sql.get(0).toUpperCase().trim();\n         assertTrue(sqlString.startsWith(\"UPDATE\"));\n-        assertTrue(sqlString.indexOf(\"JOIN\") != -1);\n+        // assert JOIN condition\n+        assertTrue(sqlString.indexOf(\"T0.ADDRESS_ID = T1.ID\") != -1);\n     }\n \n }"},{"sha":"9c787c7b3131aea9fca1a868a36c2d06f1d41aab","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/dad4ad195225eaa68e6e3bed942822f0ea86d434/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","raw_url":"https://github.com/apache/openjpa/raw/dad4ad195225eaa68e6e3bed942822f0ea86d434/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java?ref=dad4ad195225eaa68e6e3bed942822f0ea86d434","patch":"@@ -63,7 +63,7 @@\n \n     public void setUp() {\n         setUp(Customer.class, Customer.CustomerKey.class, Order.class,\n-            EAddress.class, CLEAR_TABLES);\n+            EAddress.class, DROP_TABLES);  // test create table DDL for XML column\n \n         // skip test if dictionary has no support for XML column type\n         setTestsDisabled(!dictionarySupportsXMLColumn());"}]}

