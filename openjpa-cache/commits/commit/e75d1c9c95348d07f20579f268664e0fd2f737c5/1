{"sha":"e75d1c9c95348d07f20579f268664e0fd2f737c5","node_id":"MDY6Q29tbWl0MjA2MzY0OmU3NWQxYzljOTUzNDhkMDdmMjA1NzlmMjY4NjY0ZTBmZDJmNzM3YzU=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-01-15T21:36:44Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-01-15T21:36:44Z"},"message":"OPENJPA-1091 Fix SQL handling in reversemapping example.  Still doesn't create all the Java classes from the DB...\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@899821 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"9301b250d2d11c13521b73c1528d1a59f89c5fd1","url":"https://api.github.com/repos/apache/openjpa/git/trees/9301b250d2d11c13521b73c1528d1a59f89c5fd1"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/e75d1c9c95348d07f20579f268664e0fd2f737c5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/e75d1c9c95348d07f20579f268664e0fd2f737c5","html_url":"https://github.com/apache/openjpa/commit/e75d1c9c95348d07f20579f268664e0fd2f737c5","comments_url":"https://api.github.com/repos/apache/openjpa/commits/e75d1c9c95348d07f20579f268664e0fd2f737c5/comments","author":null,"committer":null,"parents":[{"sha":"fadd48fe5b68577a3a75d86fb7e51746d6662c3b","url":"https://api.github.com/repos/apache/openjpa/commits/fadd48fe5b68577a3a75d86fb7e51746d6662c3b","html_url":"https://github.com/apache/openjpa/commit/fadd48fe5b68577a3a75d86fb7e51746d6662c3b"}],"stats":{"total":74,"additions":54,"deletions":20},"files":[{"sha":"5caf82ac25061e65cbc75f7c11f7194f2061c322","filename":"openjpa-examples/src/main/java/build.xml","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/e75d1c9c95348d07f20579f268664e0fd2f737c5/openjpa-examples/src/main/java/build.xml","raw_url":"https://github.com/apache/openjpa/raw/e75d1c9c95348d07f20579f268664e0fd2f737c5/openjpa-examples/src/main/java/build.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/build.xml?ref=e75d1c9c95348d07f20579f268664e0fd2f737c5","patch":"@@ -52,6 +52,7 @@ Please traverse to a sub-directory, like hellojpa, and run \"ant\" from there.\n \n     <target name=\"all\" depends=\"init\">\n         <exec dir=\"${basedir}/hellojpa\" executable=\"ant${platform.script.ext}\"/>\n+        <exec dir=\"${basedir}/embeddables\" executable=\"ant${platform.script.ext}\"/>\n         <exec dir=\"${basedir}/relations\" executable=\"ant${platform.script.ext}\"/>\n         <exec dir=\"${basedir}/reversemapping\" executable=\"ant${platform.script.ext}\"/>\n     </target>"},{"sha":"680bba9e9a1d32dfa7ad2d036826e1f0c5364c1a","filename":"openjpa-examples/src/main/java/reversemapping/build.xml","status":"modified","additions":5,"deletions":20,"changes":25,"blob_url":"https://github.com/apache/openjpa/blob/e75d1c9c95348d07f20579f268664e0fd2f737c5/openjpa-examples/src/main/java/reversemapping/build.xml","raw_url":"https://github.com/apache/openjpa/raw/e75d1c9c95348d07f20579f268664e0fd2f737c5/openjpa-examples/src/main/java/reversemapping/build.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/reversemapping/build.xml?ref=e75d1c9c95348d07f20579f268664e0fd2f737c5","patch":"@@ -43,27 +43,12 @@\n         description=\"Pre-compilation phase\">\n     </target>\n \n-    <target name=\"initialize-db\" unless=\"initialize-db-skip\"\n+    <target name=\"initialize-db\" depends=\"init,clean\" unless=\"initialize-db-skip\"\n         description=\"Drop then re-create the database\">\n-        <!-- first make sure the database is empty -->\n-        <sql src=\"schema/dropdb.sql\"\n-            driver=\"${dbdriver}\" url=\"${dburl}\"\n-            userid=\"${dbuser}\" password=\"${dbpass}\"\n-            onerror=\"continue\" classpathref=\"classpath\"/>\n-\n-        <!-- build the database -->\n-        <sql\n-            driver=\"${dbdriver}\" url=\"${dburl}\"\n-            userid=\"${dbuser}\" password=\"${dbpass}\" classpathref=\"classpath\">\n-            <transaction src=\"schema/ToursDB_schema.sql\"/>\n-            <transaction src=\"schema/loadCOUNTRIES.sql\"/>\n-            <transaction src=\"schema/loadCITIES.sql\"/>\n-            <transaction src=\"schema/loadAIRLINES.sql\"/>\n-            <transaction src=\"schema/loadFLIGHTS1.sql\"/>\n-            <transaction src=\"schema/loadFLIGHTS2.sql\"/>\n-            <transaction src=\"schema/loadFLIGHTAVAILABILITY1.sql\"/>\n-            <transaction src=\"schema/loadFLIGHTAVAILABILITY2.sql\"/>\n-        </sql>\n+        <exec executable=\"ant${platform.script.ext}\">\n+            <arg line=\"-f db.xml\"/>\n+        </exec>\n+        <sleep seconds=\"5\"/>\n     </target>\n \n     <target name=\"reverse-map-schema\" depends=\"initialize-db\""},{"sha":"cbbb501414cd5e8db648418f7a74f482df657ab3","filename":"openjpa-examples/src/main/java/reversemapping/db.xml","status":"added","additions":48,"deletions":0,"changes":48,"blob_url":"https://github.com/apache/openjpa/blob/e75d1c9c95348d07f20579f268664e0fd2f737c5/openjpa-examples/src/main/java/reversemapping/db.xml","raw_url":"https://github.com/apache/openjpa/raw/e75d1c9c95348d07f20579f268664e0fd2f737c5/openjpa-examples/src/main/java/reversemapping/db.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/reversemapping/db.xml?ref=e75d1c9c95348d07f20579f268664e0fd2f737c5","patch":"@@ -0,0 +1,48 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+ Licensed to the Apache Software Foundation (ASF) under one\n+ or more contributor license agreements.  See the NOTICE file\n+ distributed with this work for additional information\n+ regarding copyright ownership.  The ASF licenses this file\n+ to you under the Apache License, Version 2.0 (the\n+ \"License\"); you may not use this file except in compliance\n+ with the License.  You may obtain a copy of the License at\n+ \n+ http://www.apache.org/licenses/LICENSE-2.0\n+ \n+ Unless required by applicable law or agreed to in writing,\n+ software distributed under the License is distributed on an\n+ \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ KIND, either express or implied.  See the License for the\n+ specific language governing permissions and limitations\n+ under the License.   \n+-->\n+<project name=\"hellojpa-db\" default=\"initialize-db\">\n+    <property name=\"example\" value=\"reversemapping\"/>\n+    <import file=\"../build.xml\"/>\n+\n+\n+    <target name=\"initialize-db\" unless=\"initialize-db-skip\"\n+        description=\"Drop then re-create the database\">\n+        <!-- first make sure the database is empty -->\n+        <sql src=\"schema/dropdb.sql\"\n+            driver=\"${dbdriver}\" url=\"${dburl}\"\n+            userid=\"${dbuser}\" password=\"${dbpass}\"\n+            onerror=\"continue\" classpathref=\"classpath\"/>\n+\n+        <!-- build the database -->\n+        <sql\n+            driver=\"${dbdriver}\" url=\"${dburl}\"\n+            userid=\"${dbuser}\" password=\"${dbpass}\" classpathref=\"classpath\">\n+            <transaction src=\"schema/ToursDB_schema.sql\"/>\n+            <transaction src=\"schema/loadCOUNTRIES.sql\"/>\n+            <transaction src=\"schema/loadCITIES.sql\"/>\n+            <transaction src=\"schema/loadAIRLINES.sql\"/>\n+            <transaction src=\"schema/loadFLIGHTS1.sql\"/>\n+            <transaction src=\"schema/loadFLIGHTS2.sql\"/>\n+            <transaction src=\"schema/loadFLIGHTAVAILABILITY1.sql\"/>\n+            <transaction src=\"schema/loadFLIGHTAVAILABILITY2.sql\"/>\n+        </sql>\n+    </target>\n+\n+</project>"}]}

