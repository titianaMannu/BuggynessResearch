{"sha":"ea81e824352cfcaf5753b467c8477c667a3a1902","node_id":"MDY6Q29tbWl0MjA2MzY0OmVhODFlODI0MzUyY2ZjYWY1NzUzYjQ2N2M4NDc3YzY2N2EzYTE5MDI=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2006-10-27T05:41:03Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2006-10-27T05:41:03Z"},"message":"changed test case to include more debug info in failures. This test case does not pass on my machine.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/openjpa/trunk@468283 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"1b2a8bd75289bcf745773548a8fe810db662717b","url":"https://api.github.com/repos/apache/openjpa/git/trees/1b2a8bd75289bcf745773548a8fe810db662717b"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/ea81e824352cfcaf5753b467c8477c667a3a1902","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/ea81e824352cfcaf5753b467c8477c667a3a1902","html_url":"https://github.com/apache/openjpa/commit/ea81e824352cfcaf5753b467c8477c667a3a1902","comments_url":"https://api.github.com/repos/apache/openjpa/commits/ea81e824352cfcaf5753b467c8477c667a3a1902/comments","author":null,"committer":null,"parents":[{"sha":"27563987ef2d4d4dc88e22070a8c3152ae310ca0","url":"https://api.github.com/repos/apache/openjpa/commits/27563987ef2d4d4dc88e22070a8c3152ae310ca0","html_url":"https://github.com/apache/openjpa/commit/27563987ef2d4d4dc88e22070a8c3152ae310ca0"}],"stats":{"total":16,"additions":7,"deletions":9},"files":[{"sha":"4ef964f9052ff8a4951b5be58074ea943ed8333b","filename":"openjpa-kernel/src/test/java/org/apache/openjpa/util/TestWASTransformer.java","status":"modified","additions":7,"deletions":9,"changes":16,"blob_url":"https://github.com/apache/openjpa/blob/ea81e824352cfcaf5753b467c8477c667a3a1902/openjpa-kernel/src/test/java/org/apache/openjpa/util/TestWASTransformer.java","raw_url":"https://github.com/apache/openjpa/raw/ea81e824352cfcaf5753b467c8477c667a3a1902/openjpa-kernel/src/test/java/org/apache/openjpa/util/TestWASTransformer.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/test/java/org/apache/openjpa/util/TestWASTransformer.java?ref=ea81e824352cfcaf5753b467c8477c667a3a1902","patch":"@@ -37,18 +37,16 @@\n      */\r\n     public void testInterfaceAdded()throws ClassNotFoundException {\r\n \r\n-        boolean caughtExpectedException = false;\r\n-\r\n-        Class syncClass = null;\r\n+        String msg = null;\r\n \r\n         try {\r\n-             syncClass = Class.forName(WASTransformer._class);\r\n+            Class.forName(WASTransformer._class);\r\n+            fail(\"expected an exception to be thrown\");\r\n         } catch (NoClassDefFoundError e) {\r\n-            if (e.getMessage().contains(WASTransformer._interface)) {\r\n-                caughtExpectedException = true;\r\n-            }\r\n+            msg = e.getMessage();\r\n         }\r\n-        assertNull(syncClass);\r\n-        assertTrue(caughtExpectedException);\r\n+        assertTrue(\"message should have contained WASTransformer._interface, \"\r\n+            + \" but was '\" + msg + \"'\", \r\n+            msg.contains(WASTransformer._interface));\r\n     }\r\n }\r"}]}

