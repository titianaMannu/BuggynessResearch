{"sha":"ebd07c943a3d8ad2bf88496d949a45b8cd33ae86","node_id":"MDY6Q29tbWl0MjA2MzY0OmViZDA3Yzk0M2EzZDhhZDJiZjg4NDk2ZDk0OWE0NWI4Y2QzM2FlODY=","commit":{"author":{"name":"Richard G. Curtis","email":"curtisr7@apache.org","date":"2010-05-20T18:05:01Z"},"committer":{"name":"Richard G. Curtis","email":"curtisr7@apache.org","date":"2010-05-20T18:05:01Z"},"message":"OPENJPA-1673: Update 2.0.x docs for MetaDataRepository.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@946733 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"1f959eb693723de6917cf4d5136eca0f6096cc8e","url":"https://api.github.com/repos/apache/openjpa/git/trees/1f959eb693723de6917cf4d5136eca0f6096cc8e"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86","html_url":"https://github.com/apache/openjpa/commit/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86","comments_url":"https://api.github.com/repos/apache/openjpa/commits/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86/comments","author":null,"committer":null,"parents":[{"sha":"33315f649621011ba98fcc5d85af2bd675edf1a4","url":"https://api.github.com/repos/apache/openjpa/commits/33315f649621011ba98fcc5d85af2bd675edf1a4","html_url":"https://github.com/apache/openjpa/commit/33315f649621011ba98fcc5d85af2bd675edf1a4"}],"stats":{"total":34,"additions":22,"deletions":12},"files":[{"sha":"fc7bc0a4829b77d8ae7f08112a95c605d68a5d37","filename":"openjpa-project/src/doc/manual/ref_guide_meta.xml","status":"modified","additions":6,"deletions":11,"changes":17,"blob_url":"https://github.com/apache/openjpa/blob/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86/openjpa-project/src/doc/manual/ref_guide_meta.xml","raw_url":"https://github.com/apache/openjpa/raw/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86/openjpa-project/src/doc/manual/ref_guide_meta.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_meta.xml?ref=ebd07c943a3d8ad2bf88496d949a45b8cd33ae86","patch":"@@ -126,23 +126,18 @@ scanned for annotated JPA entities.\n \t\t<itemizedlist>\n \t\t<listitem><para>\n \t\t\t<literal>Preload</literal>: A boolean property. If true, OpenJPA will eagerly load the repository on \n-\t\t\tEntityManagerFactory creation. As a result, all Entity classes will be eagerly loaded by the JVM. If \n-\t\t\tfalse, the repository will be lazily loaded as Entity classes are loaded by the JVM. The default value \n-\t\t\tis false.\n+\t\t\tEntityManagerFactory creation. As a result, all Entity classes will be eagerly loaded by the JVM. \n+                        Once MetaData preloading completes, all locking is removed from the MetaDataRepository and this will \n+                        result in a much more scalable repository. If false, the repository will be lazily loaded as Entity \n+                        classes are loaded by the JVM. The default value is false.\n \t\t\t</para>\n-            \t</listitem>\n-\t\t<listitem><para>\n-\t\t\t<literal>NoLock</literal>: If true, the repository will be treated as a read only data structure and \n-\t\t\tminimal locking will be imposed on users. Preload must be set to true for OpenJPA to honor setting \n-\t\t\tNoLock to true. The default value is false.\n-\t\t\t</para>\n-            \t</listitem>            \t\n+            \t</listitem>           \t\n             \t</itemizedlist>\n         \t\n \t        <title>Metadata Repository</title>\n \t        <example id=\"ref_guide_meta_repo\">\n <programlisting>\n-&lt;property name=\"openjpa.MetaDataRepository\" value=\"Preload=true,NoLock=true\"/&gt;\n+&lt;property name=\"openjpa.MetaDataRepository\" value=\"Preload=true\"/&gt;\n </programlisting>\n \t        </example>\n \t</section>"},{"sha":"4e2b2fae70d967f43ad16bc6d59d4fcdceff3cd1","filename":"openjpa-project/src/doc/manual/ref_guide_optimization.xml","status":"modified","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/apache/openjpa/blob/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86/openjpa-project/src/doc/manual/ref_guide_optimization.xml","raw_url":"https://github.com/apache/openjpa/raw/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86/openjpa-project/src/doc/manual/ref_guide_optimization.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_optimization.xml?ref=ebd07c943a3d8ad2bf88496d949a45b8cd33ae86","patch":"@@ -606,6 +606,21 @@ scalability problems. You can disable this protective behavior by setting the\n linkend=\"ref_guide_runtime_broker_finalization\"/> for details.\n                     </entry>\n                 </row>\n+                <row>\n+                    <entry colname=\"name\">\n+                        <emphasis role=\"bold\">\n+                            Preload MetaDataRepository\n+                        </emphasis>\n+                        <para>\n+<emphasis>scalability</emphasis>\n+                        </para>\n+                    </entry>\n+                    <entry colname=\"desc\">\n+By default, the MetaDataRepository is lazily loaded which means that fair amounts of locking\n+is used to ensure that metadata is processed properly. Enabling preloading allows OpenJPA to\n+load metadata upfront and remove locking. See <xref linkend=\"ref_guide_meta_repository\"/> for details.\n+                    </entry>\n+                </row>                \n             </tbody>\n         </tgroup>\n     </table>"},{"sha":"d6a22fc8e2cbfa0cf57d5d560431ff9adeed967a","filename":"openjpa-project/src/doc/manual/ref_guide_remote.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86/openjpa-project/src/doc/manual/ref_guide_remote.xml","raw_url":"https://github.com/apache/openjpa/raw/ebd07c943a3d8ad2bf88496d949a45b8cd33ae86/openjpa-project/src/doc/manual/ref_guide_remote.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/src/doc/manual/ref_guide_remote.xml?ref=ebd07c943a3d8ad2bf88496d949a45b8cd33ae86","patch":"@@ -354,7 +354,7 @@ use detached state managers, as determined by the settings above.\n DetachState setting.</emphasis> Detach all fields and relations as described by the loaded \n property when an explicit detach is requested or when a \n single Entity is being detached as part of serialization. When the entire \n-persistence context is being auto-detached(@See openjpa.AutoDetach), \n+persistence context is being auto-detached ( <literal>openjpa.AutoDetach</literal> ), \n the minimal amount of work will be completed to disassociate all Entities from \n the persistence context. <emphasis role=\"bold\">It is highly recommended that all Entities have a \n @Version field when using this property</emphasis>. In addition, care needs to be taken "}]}

