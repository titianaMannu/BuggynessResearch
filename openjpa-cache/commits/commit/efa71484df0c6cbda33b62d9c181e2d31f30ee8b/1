{"sha":"efa71484df0c6cbda33b62d9c181e2d31f30ee8b","node_id":"MDY6Q29tbWl0MjA2MzY0OmVmYTcxNDg0ZGYwYzZjYmRhMzNiNjJkOWMxODFlMmQzMWYzMGVlOGI=","commit":{"author":{"name":"Ravi Prakash Palacherla","email":"rpalache@apache.org","date":"2010-06-15T17:47:02Z"},"committer":{"name":"Ravi Prakash Palacherla","email":"rpalache@apache.org","date":"2010-06-15T17:47:02Z"},"message":"OPENJPA-1695 OutOfMemoryError from CacheMarshallerImpl.setInputUrlFromResourceLocation\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@954979 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"bd37a56bdfb802244b63bfa75754a0cc15c7b95e","url":"https://api.github.com/repos/apache/openjpa/git/trees/bd37a56bdfb802244b63bfa75754a0cc15c7b95e"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/efa71484df0c6cbda33b62d9c181e2d31f30ee8b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/efa71484df0c6cbda33b62d9c181e2d31f30ee8b","html_url":"https://github.com/apache/openjpa/commit/efa71484df0c6cbda33b62d9c181e2d31f30ee8b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/efa71484df0c6cbda33b62d9c181e2d31f30ee8b/comments","author":null,"committer":null,"parents":[{"sha":"152e5d2d4fc50e8d8d946efff95c09c513b7fbe4","url":"https://api.github.com/repos/apache/openjpa/commits/152e5d2d4fc50e8d8d946efff95c09c513b7fbe4","html_url":"https://github.com/apache/openjpa/commit/152e5d2d4fc50e8d8d946efff95c09c513b7fbe4"}],"stats":{"total":14,"additions":11,"deletions":3},"files":[{"sha":"93169177e61634fcf592d3bfa7e2d5709011a515","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/conf/CacheMarshallerImpl.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/efa71484df0c6cbda33b62d9c181e2d31f30ee8b/openjpa-kernel/src/main/java/org/apache/openjpa/conf/CacheMarshallerImpl.java","raw_url":"https://github.com/apache/openjpa/raw/efa71484df0c6cbda33b62d9c181e2d31f30ee8b/openjpa-kernel/src/main/java/org/apache/openjpa/conf/CacheMarshallerImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/conf/CacheMarshallerImpl.java?ref=efa71484df0c6cbda33b62d9c181e2d31f30ee8b","patch":"@@ -223,7 +223,7 @@ private void setInputUrlFromResourceLocation() {\n             List list = new ArrayList();\n             for (Enumeration e = cl.getResources(_inputResourceLocation);\n                 e.hasMoreElements(); )\n-                list.add(e);\n+                list.add(e.nextElement());\n \n             if (list.size() > 1) {\n                 if (_consumeErrors) {"},{"sha":"0babde4cf6547de9ffd585d8f81f6e759ec7b029","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/conf/TestCacheMarshaller.java","status":"modified","additions":10,"deletions":2,"changes":12,"blob_url":"https://github.com/apache/openjpa/blob/efa71484df0c6cbda33b62d9c181e2d31f30ee8b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/conf/TestCacheMarshaller.java","raw_url":"https://github.com/apache/openjpa/raw/efa71484df0c6cbda33b62d9c181e2d31f30ee8b/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/conf/TestCacheMarshaller.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/conf/TestCacheMarshaller.java?ref=efa71484df0c6cbda33b62d9c181e2d31f30ee8b","patch":"@@ -31,8 +31,9 @@ public void setUp() {\n             \"default(Id=\" + getClass().getName() + \", ValidationPolicy=\"\n                 + OpenJPAVersionAndConfigurationTypeValidationPolicy.class\n                     .getName()\n-                + \", InputURL=file:target/\" + getClass().getName() + \".ser\"\n-                + \", OutputFile=target/\"\n+                + \", InputURL=file:target/test-classes/\" \n+                + getClass().getName() + \".ser\"\n+                + \", OutputFile=target/test-classes/\"\n                 + getClass().getName() + \".ser)\"\n         });\n         emf.createEntityManager().close();\n@@ -67,4 +68,11 @@ public void testRoundTrip() {\n         cm.store(o);\n         assertEquals(o, cm.load());\n     }\n+    \n+    public void testendConfiguration() {\n+        ((CacheMarshallerImpl)cm).setInputURL(null);\n+        ((CacheMarshallerImpl)cm)\n+            .setInputResource(getClass().getName() + \".ser\");\n+        ((CacheMarshallerImpl)cm).endConfiguration();\n+    }\n }"}]}

