{"sha":"f35ed19f7f7200b43e45d283bf20c5c5da436928","node_id":"MDY6Q29tbWl0MjA2MzY0OmYzNWVkMTlmN2Y3MjAwYjQzZTQ1ZDI4M2JmMjBjNWM1ZGE0MzY5Mjg=","commit":{"author":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2010-04-15T19:39:31Z"},"committer":{"name":"Jeremy Bauer","email":"jrbauer@apache.org","date":"2010-04-15T19:39:31Z"},"message":"OPENJPA-1605 Correct regression issue with table generation issue in schema generator.  Only the first table name returned in a generic DBMD query was used to populate the schema.  This broke the reverse mapping tool, which uses a generic query by default.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@934564 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"7883a6514348a247661a032a15792925b3545d27","url":"https://api.github.com/repos/apache/openjpa/git/trees/7883a6514348a247661a032a15792925b3545d27"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/f35ed19f7f7200b43e45d283bf20c5c5da436928","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/f35ed19f7f7200b43e45d283bf20c5c5da436928","html_url":"https://github.com/apache/openjpa/commit/f35ed19f7f7200b43e45d283bf20c5c5da436928","comments_url":"https://api.github.com/repos/apache/openjpa/commits/f35ed19f7f7200b43e45d283bf20c5c5da436928/comments","author":null,"committer":null,"parents":[{"sha":"31cd0eb04ec448c6c30df89e03ad7bdcd13563ac","url":"https://api.github.com/repos/apache/openjpa/commits/31cd0eb04ec448c6c30df89e03ad7bdcd13563ac","html_url":"https://github.com/apache/openjpa/commit/31cd0eb04ec448c6c30df89e03ad7bdcd13563ac"}],"stats":{"total":5,"additions":4,"deletions":1},"files":[{"sha":"a741595919941bb9a2530bf357426255058104eb","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SchemaGenerator.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/f35ed19f7f7200b43e45d283bf20c5c5da436928/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SchemaGenerator.java","raw_url":"https://github.com/apache/openjpa/raw/f35ed19f7f7200b43e45d283bf20c5c5da436928/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SchemaGenerator.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SchemaGenerator.java?ref=f35ed19f7f7200b43e45d283bf20c5c5da436928","patch":"@@ -572,9 +572,12 @@ public void generateTables(DBIdentifier schemaName, DBIdentifier tableName,\n         Schema schema;\n         Table table;\n         DBIdentifier tableSchema = DBIdentifier.NULL;\n+        DBIdentifier baseTableName = (tableName == null) ? DBIdentifier.NULL : tableName.clone();\n         for (int i = 0; cols != null && i < cols.length; i++) {\n-            if (DBIdentifier.isNull(tableName) || tableName.equals(\"%\")) {\n+            if (DBIdentifier.isNull(baseTableName) || baseTableName.equals(\"%\")) {\n                 tableName = cols[i].getTableIdentifier();\n+            } else {\n+            \ttableName = baseTableName;\n             }\n             if (DBIdentifier.isNull(schemaName)) {\n                 tableSchema = DBIdentifier.trimToNull(cols[i].getSchemaIdentifier());"}]}

