{"sha":"f364f83a9c702eb17b6064050343fbed1118b245","node_id":"MDY6Q29tbWl0MjA2MzY0OmYzNjRmODNhOWM3MDJlYjE3YjYwNjQwNTAzNDNmYmVkMTExOGIyNDU=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-08-25T18:12:40Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-08-25T18:12:40Z"},"message":"[maven-scm] copy for tag 2.0.1\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/tags/2.0.1@989275 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"bf329645a447dc9354f01eeb22088c7dca7bfb20","url":"https://api.github.com/repos/apache/openjpa/git/trees/bf329645a447dc9354f01eeb22088c7dca7bfb20"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/f364f83a9c702eb17b6064050343fbed1118b245","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/f364f83a9c702eb17b6064050343fbed1118b245","html_url":"https://github.com/apache/openjpa/commit/f364f83a9c702eb17b6064050343fbed1118b245","comments_url":"https://api.github.com/repos/apache/openjpa/commits/f364f83a9c702eb17b6064050343fbed1118b245/comments","author":null,"committer":null,"parents":[{"sha":"61f7483b826f6c9d849c0f993ad95cdafad6f3be","url":"https://api.github.com/repos/apache/openjpa/commits/61f7483b826f6c9d849c0f993ad95cdafad6f3be","html_url":"https://github.com/apache/openjpa/commit/61f7483b826f6c9d849c0f993ad95cdafad6f3be"},{"sha":"5f8fdfd1c66002ed7479c221645bab1848122121","url":"https://api.github.com/repos/apache/openjpa/commits/5f8fdfd1c66002ed7479c221645bab1848122121","html_url":"https://github.com/apache/openjpa/commit/5f8fdfd1c66002ed7479c221645bab1848122121"}],"stats":{"total":616,"additions":291,"deletions":325},"files":[{"sha":"03f36f2e35c3e3c0c40948ffd13ff26a15aad099","filename":"openjpa-all/pom.xml","status":"modified","additions":11,"deletions":22,"changes":33,"blob_url":"https://github.com/apache/openjpa/blob/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-all/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-all/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-all/pom.xml?ref=f364f83a9c702eb17b6064050343fbed1118b245","patch":"@@ -42,29 +42,17 @@\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-javadoc-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>attach-javadocs</id>\n-                        <phase>none</phase>\n-                        <goals>\n-                            <goal>jar</goal>\n-                        </goals>\n-                    </execution>\n-                </executions>\n-            </plugin>\n-            <!--\n-                 Need to disable source plugin here, as it overwrites the shade\n-                 plugin created sources jar.\n-            -->\n+                <configuration>\n+                    <skip>true</skip>\n+                </configuration>\n+            </plugin>   \n+            <!-- disable creating source jars for this module -->\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-source-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>attach-sources</id>\n-                        <phase>none</phase>\n-                    </execution>\n-                </executions>\n+                <configuration>\n+                    <attach>false</attach>\n+                </configuration>\n             </plugin>\n             <!--\n                  Need to disable jar plugin here, as it overwrites the shade\n@@ -75,11 +63,12 @@\n                 <artifactId>maven-jar-plugin</artifactId>\n                 <executions>\n                     <execution>\n-                        <id>attach-tests</id>\n+                        <id>default-jar</id>\n                         <phase>none</phase>\n                     </execution>\n                 </executions>\n             </plugin>\n+\n             <!-- Create our aggregate all JAR -->\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n@@ -92,7 +81,7 @@\n                         </goals>\n                         <configuration>\n                             <createDependencyReducedPom>true</createDependencyReducedPom>\n-                            <createSourcesJar>true</createSourcesJar>\n+                            <createSourcesJar>${createSources}</createSourcesJar>\n                             <keepDependenciesWithProvidedScope>true</keepDependenciesWithProvidedScope>\n                             <promoteTransitiveDependencies>true</promoteTransitiveDependencies>\n                             <!-- "},{"sha":"bad462b0e299c405c9f4437f5152ff94d6c07463","filename":"openjpa-integration/pom.xml","status":"modified","additions":13,"deletions":16,"changes":29,"blob_url":"https://github.com/apache/openjpa/blob/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-integration/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-integration/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/pom.xml?ref=f364f83a9c702eb17b6064050343fbed1118b245","patch":"@@ -44,21 +44,18 @@\n     </modules>\n \n     <build>\n-        <plugins>\n-            <!-- disable creating javadoc for all sub-modules -->\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-javadoc-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>attach-javadocs</id>\n-                        <phase>none</phase>\n-                        <goals>\n-                            <goal>jar</goal>\n-                        </goals>\n-                    </execution>\n-                </executions>\n-            </plugin>\n-        </plugins>\n+        <pluginManagement>\n+            <plugins>\n+                <!-- disable creating javadoc for these modules -->\n+                <plugin>\n+                    <groupId>org.apache.maven.plugins</groupId>\n+                    <artifactId>maven-javadoc-plugin</artifactId>\n+                    <configuration>\n+                        <skip>true</skip>\n+                    </configuration>\n+                    <inherited>true</inherited>\n+                </plugin>\n+            </plugins>\n+        </pluginManagement>\n     </build>\n </project>"},{"sha":"e26dd0edc2dc88ed0c3f2f87373384e5994eacd9","filename":"openjpa-integration/validation/pom.xml","status":"modified","additions":28,"deletions":1,"changes":29,"blob_url":"https://github.com/apache/openjpa/blob/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-integration/validation/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-integration/validation/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/validation/pom.xml?ref=f364f83a9c702eb17b6064050343fbed1118b245","patch":"@@ -181,7 +181,7 @@\n         </dependency>\n         <dependency>\n             <groupId>org.apache.openjpa</groupId>\n-            <artifactId>openjpa-testsupport</artifactId>\n+            <artifactId>openjpa-persistence-jdbc</artifactId>\n             <version>${project.version}</version>\n             <type>test-jar</type>\n             <scope>test</scope>\n@@ -205,6 +205,33 @@\n \n     <build>\n         <plugins>\n+            <!-- Extract the common test support files from o-p-j-tests.jar -->\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-dependency-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>unpack</id>\n+                        <phase>test-compile</phase>\n+                        <goals>\n+                            <goal>unpack</goal>\n+                        </goals>\n+                        <configuration>\n+                            <artifactItems>\n+                                <artifactItem>\n+                                    <groupId>org.apache.openjpa</groupId>\n+                                    <artifactId>openjpa-persistence-jdbc</artifactId>\n+                                    <version>${project.version}</version>\n+                                    <type>test-jar</type>\n+                                    <outputDirectory>${project.build.testOutputDirectory}</outputDirectory>\n+                                    <includes>org/apache/openjpa/persistence/test/*.class</includes>\n+                                </artifactItem>\n+                            </artifactItems>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-antrun-plugin</artifactId>"},{"sha":"ccf0e1a280b898a485ae3fbc72038e5cd9ea9491","filename":"openjpa-persistence-locking/pom.xml","status":"modified","additions":26,"deletions":4,"changes":30,"blob_url":"https://github.com/apache/openjpa/blob/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-persistence-locking/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-persistence-locking/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-locking/pom.xml?ref=f364f83a9c702eb17b6064050343fbed1118b245","patch":"@@ -692,7 +692,7 @@\n         </dependency>\n         <dependency>\n             <groupId>org.apache.openjpa</groupId>\n-            <artifactId>openjpa-testsupport</artifactId>\n+            <artifactId>openjpa-persistence-jdbc</artifactId>\n             <version>${project.version}</version>\n             <type>test-jar</type>\n             <scope>test</scope>\n@@ -720,16 +720,38 @@\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-javadoc-plugin</artifactId>\n+                <configuration>\n+                    <skip>true</skip>\n+                </configuration>\n+            </plugin>\n+\n+            <!-- Extract the common test support files from o-p-j-tests.jar -->\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-dependency-plugin</artifactId>\n                 <executions>\n                     <execution>\n-                        <id>attach-javadocs</id>\n-                        <phase>none</phase>\n+                        <id>unpack</id>\n+                        <phase>test-compile</phase>\n                         <goals>\n-                            <goal>jar</goal>\n+                            <goal>unpack</goal>\n                         </goals>\n+                        <configuration>\n+                            <artifactItems>\n+                                <artifactItem>\n+                                    <groupId>org.apache.openjpa</groupId>\n+                                    <artifactId>openjpa-persistence-jdbc</artifactId>\n+                                    <version>${project.version}</version>\n+                                    <type>test-jar</type>\n+                                    <outputDirectory>${project.build.testOutputDirectory}</outputDirectory>\n+                                    <includes>org/apache/openjpa/persistence/test/*.class</includes>\n+                                </artifactItem>\n+                            </artifactItems>\n+                        </configuration>\n                     </execution>\n                 </executions>\n             </plugin>\n+\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-antrun-plugin</artifactId>"},{"sha":"8c062fa712a8f1b986d49685fd74bf20a4edd42e","filename":"openjpa-project/source-assembly.xml","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-project/source-assembly.xml","raw_url":"https://github.com/apache/openjpa/raw/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-project/source-assembly.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/source-assembly.xml?ref=f364f83a9c702eb17b6064050343fbed1118b245","patch":"@@ -36,6 +36,8 @@\n             <excludes>\n                 <exclude>**/target/**</exclude>\n                 <exclude>**/*.log</exclude>\n+                <exclude>**/.*</exclude>\n+                <exclude>**/.*/**</exclude>\n             </excludes>\n         </fileSet>\n "},{"sha":"ea3fceb24b27d8b67be18b152d10af6680e2e6a8","filename":"openjpa-testsupport/pom.xml","status":"removed","additions":0,"deletions":159,"changes":159,"blob_url":"https://github.com/apache/openjpa/blob/61f7483b826f6c9d849c0f993ad95cdafad6f3be/openjpa-testsupport/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/61f7483b826f6c9d849c0f993ad95cdafad6f3be/openjpa-testsupport/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-testsupport/pom.xml?ref=61f7483b826f6c9d849c0f993ad95cdafad6f3be","patch":"@@ -1,159 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<!--\n- Licensed to the Apache Software Foundation (ASF) under one\n- or more contributor license agreements.  See the NOTICE file\n- distributed with this work for additional information\n- regarding copyright ownership.  The ASF licenses this file\n- to you under the Apache License, Version 2.0 (the\n- \"License\"); you may not use this file except in compliance\n- with the License.  You may obtain a copy of the License at\n- \n- http://www.apache.org/licenses/LICENSE-2.0\n- \n- Unless required by applicable law or agreed to in writing,\n- software distributed under the License is distributed on an\n- \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- KIND, either express or implied.  See the License for the\n- specific language governing permissions and limitations\n- under the License.   \n--->\n-<!-- \n-    Please keep the project tag on one line to avoid confusing \n-    the release plugin.\n--->\n-<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n-\n-    <modelVersion>4.0.0</modelVersion>\n-\n-    <parent>\n-        <groupId>org.apache.openjpa</groupId>\n-        <artifactId>openjpa-parent</artifactId>\n-        <version>2.0.1</version>\n-    </parent>\n-\n-    <groupId>org.apache.openjpa</groupId>\n-    <artifactId>openjpa-testsupport</artifactId>\n-    <packaging>jar</packaging>\n-    <name>OpenJPA Test Support Jar</name>\n-\n-    <dependencies>\n-        <dependency>\n-            <groupId>org.apache.openjpa</groupId>\n-            <artifactId>openjpa-persistence-jdbc</artifactId>\n-            <version>${project.version}</version>\n-            <scope>test</scope>\n-        </dependency>\n-        <dependency>\n-            <groupId>org.apache.openjpa</groupId>\n-            <artifactId>openjpa-persistence-jdbc</artifactId>\n-            <version>${project.version}</version>\n-            <type>test-jar</type>\n-            <scope>test</scope>\n-        </dependency>\n-        <dependency>\n-            <groupId>jakarta-regexp</groupId>\n-            <artifactId>jakarta-regexp</artifactId>\n-            <scope>test</scope>\n-        </dependency>\n-    </dependencies>\n-\n-    <build>\n-        <plugins>\n-            <!-- disable creating source jars for this module -->\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-source-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>attach-sources</id>\n-                        <phase>none</phase>\n-                        <goals>\n-                            <goal>jar</goal>\n-                            <goal>test-jar</goal>\n-                        </goals>\n-                    </execution>\n-                </executions>\n-            </plugin>\n-            <!-- disable creating javadoc for this module -->\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-javadoc-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>attach-javadocs</id>\n-                        <phase>none</phase>\n-                        <goals>\n-                            <goal>jar</goal>\n-                        </goals>\n-                    </execution>\n-                </executions>\n-            </plugin>\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-dependency-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>unpack</id>\n-                        <phase>test-compile</phase>\n-                        <goals>\n-                            <goal>unpack</goal>\n-                        </goals>\n-                        <configuration>\n-                            <artifactItems>\n-                                <artifactItem>\n-                                    <groupId>org.apache.openjpa</groupId>\n-                                    <artifactId>openjpa-persistence-jdbc</artifactId>\n-                                    <version>${project.version}</version>\n-                                    <type>test-jar</type>\n-                                    <overWrite>true</overWrite>\n-                                    <outputDirectory>${project.build.testOutputDirectory}</outputDirectory>\n-                                </artifactItem>\n-                            </artifactItems>\n-                        </configuration>\n-                    </execution>\n-                </executions>\n-            </plugin>\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-jar-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>default-jar</id>\n-                        <phase>none</phase>\n-                        <goals>\n-                            <goal>jar</goal>\n-                        </goals>\n-                    </execution>\n-                    <execution>\n-                        <id>attach-tests</id>\n-                        <goals>\n-                            <goal>test-jar</goal>\n-                        </goals>\n-                        <configuration>\n-                            <includes>\n-                                <!-- Note: Including entities in this jar will\n-                                     cause problems for any modules that need\n-                                     to enhance their own entities.\n-                                -->\n-                                <include>org/apache/openjpa/persistence/test/*.class</include>\n-                                <include>META-INF/LICENSE*</include>\n-                                <include>META-INF/NOTICE*</include>\n-                                <include>META-INF/persistence.xml</include>\n-                            </includes>\n-                        </configuration>\n-                    </execution>\n-                </executions>\n-            </plugin>\n-            <!-- Don't run any of the extracted tests here... -->\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-surefire-plugin</artifactId>\n-                <configuration>\n-                    <excludes>\n-                        <exclude>**</exclude>\n-                    </excludes>\n-                </configuration>\n-            </plugin>\n-        </plugins>\n-    </build>\n-</project>"},{"sha":"5c85d5b63c21eca253e349d1de72c9e547d86a09","filename":"openjpa-xmlstore/pom.xml","status":"modified","additions":28,"deletions":1,"changes":29,"blob_url":"https://github.com/apache/openjpa/blob/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-xmlstore/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/f364f83a9c702eb17b6064050343fbed1118b245/openjpa-xmlstore/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-xmlstore/pom.xml?ref=f364f83a9c702eb17b6064050343fbed1118b245","patch":"@@ -50,7 +50,7 @@\n         </dependency>\n         <dependency>\n             <groupId>org.apache.openjpa</groupId>\n-            <artifactId>openjpa-testsupport</artifactId>\n+            <artifactId>openjpa-persistence-jdbc</artifactId>\n             <version>${project.version}</version>\n             <type>test-jar</type>\n             <scope>test</scope>\n@@ -59,6 +59,33 @@\n \n     <build>\n         <plugins>\n+            <!-- Extract the common test support files from o-p-j-tests.jar -->\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-dependency-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>unpack</id>\n+                        <phase>test-compile</phase>\n+                        <goals>\n+                            <goal>unpack</goal>\n+                        </goals>\n+                        <configuration>\n+                            <artifactItems>\n+                                <artifactItem>\n+                                    <groupId>org.apache.openjpa</groupId>\n+                                    <artifactId>openjpa-persistence-jdbc</artifactId>\n+                                    <version>${project.version}</version>\n+                                    <type>test-jar</type>\n+                                    <outputDirectory>${project.build.testOutputDirectory}</outputDirectory>\n+                                    <includes>org/apache/openjpa/persistence/test/*.class</includes>\n+                                </artifactItem>\n+                            </artifactItems>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+\n             <!-- new way of using openjpa-maven-plugin to enhance classes -->\n             <plugin>\n                 <groupId>org.codehaus.mojo</groupId>"},{"sha":"96d4849032942e2a5e051c19f779065523d80038","filename":"openjpa/pom.xml","status":"modified","additions":8,"deletions":21,"changes":29,"blob_url":"https://github.com/apache/openjpa/blob/f364f83a9c702eb17b6064050343fbed1118b245/openjpa/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/f364f83a9c702eb17b6064050343fbed1118b245/openjpa/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa/pom.xml?ref=f364f83a9c702eb17b6064050343fbed1118b245","patch":"@@ -41,30 +41,17 @@\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-javadoc-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>attach-javadocs</id>\n-                        <phase>none</phase>\n-                        <goals>\n-                            <goal>jar</goal>\n-                        </goals>\n-                    </execution>\n-                </executions>\n+                <configuration>\n+                    <skip>true</skip>\n+                </configuration>\n             </plugin>\n-\n-            <!--\n-                 Need to disable source plugin here, as it overwrites the shade\n-                 plugin created sources jar.\n-            -->\n+            <!-- disable creating source jars for this module -->\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-source-plugin</artifactId>\n-                <executions>\n-                    <execution>\n-                        <id>attach-sources</id>\n-                        <phase>none</phase> \n-                    </execution>\n-                </executions>\n+                <configuration>\n+                    <attach>false</attach>\n+                </configuration>\n             </plugin>\n \n             <!-- Create our aggregate JAR -->\n@@ -79,7 +66,7 @@\n                         </goals>\n                         <configuration>\n                             <createDependencyReducedPom>true</createDependencyReducedPom>\n-                            <createSourcesJar>true</createSourcesJar>\n+                            <createSourcesJar>${createSources}</createSourcesJar>\n                             <keepDependenciesWithProvidedScope>true</keepDependenciesWithProvidedScope>\n                             <promoteTransitiveDependencies>true</promoteTransitiveDependencies>\n                             <!--"},{"sha":"03d4dd6b92acf97a59b1feaae3f1cb48630f7904","filename":"pom.xml","status":"modified","additions":175,"deletions":101,"changes":276,"blob_url":"https://github.com/apache/openjpa/blob/f364f83a9c702eb17b6064050343fbed1118b245/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/f364f83a9c702eb17b6064050343fbed1118b245/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/pom.xml?ref=f364f83a9c702eb17b6064050343fbed1118b245","patch":"@@ -7,9 +7,9 @@\n  to you under the Apache License, Version 2.0 (the\n  \"License\"); you may not use this file except in compliance\n  with the License.  You may obtain a copy of the License at\n- \n+\n  http://www.apache.org/licenses/LICENSE-2.0\n- \n+\n  Unless required by applicable law or agreed to in writing,\n  software distributed under the License is distributed on an\n  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n@@ -65,19 +65,40 @@\n              anything else allows the test to execute normally\n         -->\n         <tests.openjpa.allowfailure>ignore</tests.openjpa.allowfailure>\n+        <!--turn off sources.jar generation by setting to none and false -->\n+        <createSource>verify</createSource>\n+        <createSources>true</createSources>\n         <!-- common JDBC driver versions -->\n         <derby.version>10.5.3.0_1</derby.version>\n         <hsqldb.version>1.8.0.10</hsqldb.version>\n         <mysql.version>5.1.12</mysql.version>\n     </properties>\n \n+    <licenses>\n+        <license>\n+            <name>Apache Software License 2.0</name>\n+            <url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>\n+            <distribution>repo</distribution>\n+        </license>\n+    </licenses>\n+\n+    <organization>\n+        <name>Apache Software Foundation</name>\n+        <url>http://www.apache.org</url>\n+    </organization>\n+\n     <url>http://openjpa.apache.org</url>\n \n     <issueManagement>\n         <system>jira</system>\n         <url>http://issues.apache.org/jira/browse/OPENJPA</url>\n     </issueManagement>\n \n+    <ciManagement>\n+        <system>Hudson</system>\n+        <url>https://hudson.apache.org/hudson/job/OpenJPA-20x-deploy/</url>\n+    </ciManagement>\n+\n     <inceptionYear>2006</inceptionYear>\n \n     <mailingLists>\n@@ -123,7 +144,6 @@\n         <module>openjpa-jdbc</module>\n         <module>openjpa-persistence</module>\n         <module>openjpa-persistence-jdbc</module>\n-        <module>openjpa-testsupport</module>\n         <module>openjpa-persistence-locking</module>\n         <module>openjpa-xmlstore</module>\n         <module>openjpa-slice</module>\n@@ -139,11 +159,53 @@\n         <!--  Build Profiles  -->\n         <!-- ================ -->\n \n-        <!-- Release profile is inherited from parent apache-7.pom\n+        <!-- Override some release settings inherited from apache-7.pom -->\n         <profile>\n             <id>apache-release</id>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.rat</groupId>\n+                        <artifactId>apache-rat-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <phase>verify</phase>\n+                                <goals>\n+                                    <goal>check</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                        <configuration>\n+                            <excludeSubProjects>false</excludeSubProjects>\n+                            <numUnapprovedLicenses>0</numUnapprovedLicenses>\n+                            <excludes>\n+                                <!-- comments are usupported in services files -->\n+                                <exclude>**/javax.persistence.spi.PersistenceProvider</exclude>\n+                                <exclude>**/javax.annotation.processing.Processor</exclude>\n+                                <!-- comments are usupported by our rsrc parser -->\n+                                <exclude>**/*.rsrc</exclude>\n+                                <!-- comments are usupported in these files -->\n+                                <exclude>**/org.apache.openjpa.revision.properties</exclude>\n+                                <exclude>scripts/*.list</exclude>\n+                                <exclude>scripts/*.options</exclude>\n+                                <exclude>scripts/*.dict</exclude>\n+                                <!-- generated content -->\n+                                <exclude>**/.*/**</exclude>\n+                                <exclude>**/target/**/*</exclude>\n+                                <exclude>**/dependency-reduced-pom.xml</exclude>\n+                                <exclude>**/*.log</exclude>\n+                                <exclude>**/maven-eclipse.xml</exclude>\n+                                <exclude>**/rat.txt</exclude>\n+                                <exclude>release.properties</exclude>\n+                                <exclude>DEPENDENCIES</exclude>\n+                                <!-- Exclude internal build-only repository -->\n+                                <exclude>**/internal-repository/**</exclude>\n+                            </excludes>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n         </profile>\n-        -->\n \n         <profile>\n             <id>sign-release</id>\n@@ -200,17 +262,6 @@\n                     <plugin>\n                         <groupId>org.apache.maven.plugins</groupId>\n                         <artifactId>maven-javadoc-plugin</artifactId>\n-                        <configuration>\n-                            <encoding>${project.build.sourceEncoding}</encoding>\n-                        </configuration>\n-                        <executions>\n-                            <execution>\n-                                <id>attach-javadocs</id>\n-                                <goals>\n-                                    <goal>jar</goal>\n-                                </goals>\n-                            </execution>\n-                        </executions>\n                     </plugin>\n                 </plugins>\n             </build>\n@@ -542,19 +593,47 @@\n                 <artifactId>jmock-junit3</artifactId>\n                 <version>2.5.1</version>\n             </dependency>\n+            <dependency>\n+                <groupId>junit</groupId>\n+                <artifactId>junit</artifactId>\n+                <version>3.8.1</version>\n+            </dependency>\n+            <dependency>\n+                <groupId>net.sourceforge.findbugs</groupId>\n+                <artifactId>annotations</artifactId>\n+                <version>1.3.2</version>\n+            </dependency>\n         </dependencies>\n     </dependencyManagement>\n \n     <dependencies>\n+        <dependency>\n+            <groupId>net.sourceforge.findbugs</groupId>\n+            <artifactId>annotations</artifactId>\n+            <scope>provided</scope>\n+        </dependency>\n         <dependency>\n             <groupId>junit</groupId>\n             <artifactId>junit</artifactId>\n-            <version>3.8.1</version>\n             <scope>test</scope>\n         </dependency>\n     </dependencies>\n \n     <build>\n+        <defaultGoal>install</defaultGoal>\n+\n+        <resources>\n+            <resource>\n+                <directory>src/main/resources</directory>\n+            </resource>\n+        </resources>\n+\n+        <testResources>\n+            <testResource>\n+                <directory>src/test/resources</directory>\n+            </testResource>\n+        </testResources>\n+\n         <pluginManagement>\n             <plugins>\n                 <!-- apache-7.pom default of 2.0.2 fails for JDK5 testing -->\n@@ -571,7 +650,7 @@\n                 <plugin>\n                     <groupId>org.apache.maven.plugins</groupId>\n                     <artifactId>maven-surefire-plugin</artifactId>\n-                    <version>2.5</version>\n+                    <version>2.6</version>\n                     <configuration>\n                         <argLine>${surefire.jvm.args}</argLine>\n                         <useFile>false</useFile>\n@@ -610,41 +689,6 @@\n                     <groupId>org.apache.rat</groupId>\n                     <artifactId>apache-rat-plugin</artifactId>\n                     <version>0.7</version>\n-                    <executions>\n-                        <execution>\n-                            <phase>verify</phase>\n-                            <goals>\n-                                <goal>check</goal>\n-                            </goals>\n-                        </execution>\n-                    </executions>\n-                    <configuration>\n-                        <excludeSubProjects>false</excludeSubProjects>\n-                        <numUnapprovedLicenses>0</numUnapprovedLicenses>\n-                        <excludes>\n-                            <!-- comments are usupported in services files -->\n-                            <exclude>**/javax.persistence.spi.PersistenceProvider</exclude>\n-                            <exclude>**/javax.annotation.processing.Processor</exclude>\n-                            <!-- comments are usupported by our rsrc parser -->\n-                            <exclude>**/*.rsrc</exclude>\n-                            <!-- comments are usupported in these files -->\n-                            <exclude>**/org.apache.openjpa.revision.properties</exclude>\n-                            <exclude>scripts/*.list</exclude>\n-                            <exclude>scripts/*.options</exclude>\n-                            <exclude>scripts/*.dict</exclude>\n-                            <!-- generated content -->\n-                            <exclude>**/.*/**</exclude>\n-                            <exclude>**/target/**/*</exclude>\n-                            <exclude>**/dependency-reduced-pom.xml</exclude>\n-                            <exclude>**/*.log</exclude>\n-                            <exclude>**/maven-eclipse.xml</exclude>\n-                            <exclude>**/rat.txt</exclude>\n-                            <exclude>release.properties</exclude>\n-                            <exclude>DEPENDENCIES</exclude>\n-                            <!-- Exclude internal build-only repository -->\n-                            <exclude>**/internal-repository/**</exclude>\n-                        </excludes>\n-                    </configuration>\n                 </plugin>\n                 <plugin>\n                     <groupId>org.apache.maven.plugins</groupId>\n@@ -758,30 +802,46 @@\n                     <artifactId>openjpa-maven-plugin</artifactId>\n                     <version>1.1</version>\n                 </plugin>\n-                <plugin>\n-                    <groupId>org.codehaus.mojo</groupId>\n-                    <artifactId>findbugs-maven-plugin</artifactId>\n-                    <version>2.3.1</version>\n-                </plugin>\n                 <plugin>\n                     <groupId>org.apache.maven.plugins</groupId>\n                     <artifactId>maven-javadoc-plugin</artifactId>\n                     <configuration>\n                         <encoding>${project.build.sourceEncoding}</encoding>\n-                        <additionalparam>\n-                            ${javadoc.additionalparam}\n-                        </additionalparam>\n-                        <aggregate>true</aggregate>\n-                        <subpackages>org.apache.openjpa</subpackages>\n-                        <!-- <linksource>true</linksource> -->\n-                        <verbose>false</verbose>\n-                        <maxmemory>512m</maxmemory>\n-                        <links>\n-                            <link>http://java.sun.com/j2se/1.5.0/docs/api</link>\n-                            <link>http://java.sun.com/javaee/6/docs/api</link>\n-                            <link>http://jakarta.apache.org/commons/collections/api-release</link>\n-                        </links>\n                     </configuration>\n+                    <executions>\n+                        <execution>\n+                            <id>attach-javadoc</id>\n+                            <phase>package</phase>\n+                            <goals>\n+                                <goal>jar</goal>\n+                            </goals>\n+                        </execution>\n+                        <execution>\n+                            <phase>process-classes</phase>\n+                            <goals>\n+                                <goal>javadoc</goal>\n+                            </goals>\n+                            <configuration>\n+                                <additionalparam>\n+                                    ${javadoc.additionalparam}\n+                                </additionalparam>\n+                                <aggregate>true</aggregate>\n+                                <subpackages>org.apache.openjpa</subpackages>\n+                                <verbose>false</verbose>\n+                                <maxmemory>512m</maxmemory>\n+                                <links>\n+                                    <link>http://java.sun.com/j2se/1.5.0/docs/api</link>\n+                                    <link>http://java.sun.com/javaee/6/docs/api</link>\n+                                    <link>http://jakarta.apache.org/commons/collections/api-release</link>\n+                                </links>\n+                            </configuration>\n+                        </execution>\n+                    </executions>\n+                </plugin>\n+                <plugin>\n+                    <groupId>org.codehaus.mojo</groupId>\n+                    <artifactId>findbugs-maven-plugin</artifactId>\n+                    <version>2.3.1</version>\n                 </plugin>\n             </plugins>\n         </pluginManagement>\n@@ -797,6 +857,7 @@\n                 <executions>\n                     <execution>\n                         <id>attach-sources</id>\n+                        <phase>${createSource}</phase>\n                         <goals>\n                             <goal>jar</goal>\n                             <goal>test-jar</goal>\n@@ -856,6 +917,37 @@\n             <plugin>\n                 <groupId>org.apache.rat</groupId>\n                 <artifactId>apache-rat-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>check</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+                <configuration>\n+                    <excludeSubProjects>false</excludeSubProjects>\n+                    <numUnapprovedLicenses>0</numUnapprovedLicenses>\n+                    <excludes>\n+                        <!-- generated content -->\n+                        <exclude>**/.*/**</exclude>\n+                        <exclude>**/target/**/*</exclude>\n+                    </excludes>\n+                    <includes>\n+                        <!-- only check common source files -->\n+                        <include>**/src/**/*.bat</include>\n+                        <include>**/src/**/*.css</include>\n+                        <include>**/src/**/*.html</include>\n+                        <include>**/src/**/*.java</include>\n+                        <include>**/src/**/*.js</include>\n+                        <include>**/src/**/*.jsp</include>\n+                        <include>**/src/**/*.properties</include>\n+                        <include>**/src/**/*.sh</include>\n+                        <include>**/src/**/*.txt</include>\n+                        <include>**/src/**/*.vm</include>\n+                        <include>**/src/**/*.xml</include>\n+                    </includes>\n+                </configuration>\n             </plugin>\n         </plugins>\n     </build>\n@@ -865,25 +957,21 @@\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-project-info-reports-plugin</artifactId>\n-                <reportSets>\n-                    <reportSet>\n-                        <reports>\n-                            <report>jdepend-maven-plugin</report>\n-                            <!-- <report>jxr-maven-plugin</report> -->\n-                            <report>surefire-report-maven-plugin</report>\n-                            <report>maven-javadoc-plugin</report>\n-                            <report>mailing-list</report>\n-                            <report>issue-tracking</report>\n-                            <report>license</report>\n-                        </reports>\n-                    </reportSet>\n-                </reportSets>\n+                <version>2.1.1</version>\n             </plugin>\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-javadoc-plugin</artifactId>\n+                <version>2.6</version>\n                 <configuration>\n-                    <encoding>${project.build.sourceEncoding}</encoding>\n+                    <show>package</show>\n+                    <quiet>true</quiet>\n+                    <source>1.5</source>\n+                    <links>\n+                        <link>http://java.sun.com/j2se/1.5.0/docs/api</link>\n+                        <link>http://java.sun.com/javaee/6/docs/api</link>\n+                        <link>http://jakarta.apache.org/commons/collections/api-release</link>\n+                    </links>\n                 </configuration>\n                 <reportSets>\n                     <reportSet>\n@@ -893,28 +981,14 @@\n                     </reportSet>\n                 </reportSets>\n             </plugin>\n-            <plugin>\n-                <groupId>org.codehaus.mojo</groupId>\n-                <artifactId>jdepend-maven-plugin</artifactId>\n-                <version>2.0-beta-2</version>\n-            </plugin>\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-surefire-plugin</artifactId>\n             </plugin>\n             <plugin>\n                 <groupId>org.codehaus.mojo</groupId>\n-                <artifactId>taglist-maven-plugin</artifactId>\n-            </plugin>\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-checkstyle-plugin</artifactId>\n-                <version>2.2</version>\n-                <configuration>\n-                    <configLocation>${checkstyle.config.location}</configLocation>\n-                    <includeTestSourceDirectory>true</includeTestSourceDirectory> \n-                    <excludes>**/*_.java</excludes>\n-                </configuration>\n+                <artifactId>jdepend-maven-plugin</artifactId>\n+                <version>2.0-beta-2</version>\n             </plugin>\n         </plugins>\n     </reporting>"}]}

