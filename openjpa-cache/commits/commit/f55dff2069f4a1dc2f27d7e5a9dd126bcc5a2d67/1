{"sha":"f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67","node_id":"MDY6Q29tbWl0MjA2MzY0OmY1NWRmZjIwNjlmNGExZGMyZjI3ZDdlNWE5ZGQxMjZiY2M1YTJkNjc=","commit":{"author":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2008-11-04T21:56:35Z"},"committer":{"name":"Albert Lee","email":"allee8285@apache.org","date":"2008-11-04T21:56:35Z"},"message":"OPENJPA-761 - test for null column object and post a more meaning message to the warning log in SchemaGenerator.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@711432 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"cb4424c94a83eccd31074e32709d0b1231f88b90","url":"https://api.github.com/repos/apache/openjpa/git/trees/cb4424c94a83eccd31074e32709d0b1231f88b90"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67","html_url":"https://github.com/apache/openjpa/commit/f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67","comments_url":"https://api.github.com/repos/apache/openjpa/commits/f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67/comments","author":null,"committer":null,"parents":[{"sha":"7e24608f524188e5b019777d85d01a2b4dd62d9a","url":"https://api.github.com/repos/apache/openjpa/commits/7e24608f524188e5b019777d85d01a2b4dd62d9a","html_url":"https://github.com/apache/openjpa/commit/7e24608f524188e5b019777d85d01a2b4dd62d9a"}],"stats":{"total":10,"additions":8,"deletions":2},"files":[{"sha":"1ef75518e8ffe6b429eb8f20685268ea4f25451d","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SchemaGenerator.java","status":"modified","additions":7,"deletions":2,"changes":9,"blob_url":"https://github.com/apache/openjpa/blob/f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SchemaGenerator.java","raw_url":"https://github.com/apache/openjpa/raw/f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SchemaGenerator.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/schema/SchemaGenerator.java?ref=f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67","patch":"@@ -791,8 +791,13 @@ public void generateForeignKeys(String schemaName, String tableName,\n \n             if (invalids == null || !invalids.contains(fk)) {\n                 try {\n-                    fk.join(table.getColumn(fkColName),\n-                        pkTable.getColumn(pkColName));\n+                    Column fkCol = table.getColumn(fkColName);\n+                    if (fkCol == null) {\n+                        throw new IllegalArgumentException(_loc.get(\n+                            \"no-column\", fkColName, table.getName())\n+                            .getMessage());\n+                    }\n+                    fk.join(fkCol, pkTable.getColumn(pkColName));\n                 } catch (IllegalArgumentException iae) {\n                     if (_log.isWarnEnabled())\n                         _log.warn(_loc.get(\"bad-join\", iae.toString()));"},{"sha":"cd7f846b3df0877e56b5cb4cfe4479beb0fbc4d8","filename":"openjpa-jdbc/src/main/resources/org/apache/openjpa/jdbc/schema/localizer.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/apache/openjpa/blob/f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67/openjpa-jdbc/src/main/resources/org/apache/openjpa/jdbc/schema/localizer.properties","raw_url":"https://github.com/apache/openjpa/raw/f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67/openjpa-jdbc/src/main/resources/org/apache/openjpa/jdbc/schema/localizer.properties","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/resources/org/apache/openjpa/jdbc/schema/localizer.properties?ref=f55dff2069f4a1dc2f27d7e5a9dd126bcc5a2d67","patch":"@@ -151,3 +151,4 @@ set-auto-commit: DataSource connection setAutoCommit to \"{0}\"\n conn-failed: Failed to connect to DataSource. Verify Driver \"{0}\", URL \"{1}\" \\\n \tand connection properties \"{2}\" are correct. See the nested exception for \\\n \tfurther details.\n+no-column: Can not find column \"{0}\" in table \"{1}\""}]}

