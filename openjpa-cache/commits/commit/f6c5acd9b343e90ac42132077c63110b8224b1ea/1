{"sha":"f6c5acd9b343e90ac42132077c63110b8224b1ea","node_id":"MDY6Q29tbWl0MjA2MzY0OmY2YzVhY2Q5YjM0M2U5MGFjNDIxMzIwNzdjNjMxMTBiODIyNGIxZWE=","commit":{"author":{"name":"Heath Thomann","email":"hthomann@apache.org","date":"2015-04-13T20:32:10Z"},"committer":{"name":"Heath Thomann","email":"hthomann@apache.org","date":"2015-04-13T20:32:10Z"},"message":"OPENJPA-1988: Made an update to the test case for this JIRA, i.e. merged r1641906 from 2.2.x to trunk.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@1673276 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"b9e4f2a48c84656f272edc576efc974e92faadad","url":"https://api.github.com/repos/apache/openjpa/git/trees/b9e4f2a48c84656f272edc576efc974e92faadad"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/f6c5acd9b343e90ac42132077c63110b8224b1ea","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/f6c5acd9b343e90ac42132077c63110b8224b1ea","html_url":"https://github.com/apache/openjpa/commit/f6c5acd9b343e90ac42132077c63110b8224b1ea","comments_url":"https://api.github.com/repos/apache/openjpa/commits/f6c5acd9b343e90ac42132077c63110b8224b1ea/comments","author":null,"committer":null,"parents":[{"sha":"a4ae8a61e123cb4a866f865d59b7903664d80c93","url":"https://api.github.com/repos/apache/openjpa/commits/a4ae8a61e123cb4a866f865d59b7903664d80c93","html_url":"https://github.com/apache/openjpa/commit/a4ae8a61e123cb4a866f865d59b7903664d80c93"}],"stats":{"total":20,"additions":20,"deletions":0},"files":[{"sha":"83b964fc93dac1de592a582d7661aa4b1c837a43","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/cascade/pudefault/TestPUDefaultCascadePersist.java","status":"modified","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/apache/openjpa/blob/f6c5acd9b343e90ac42132077c63110b8224b1ea/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/cascade/pudefault/TestPUDefaultCascadePersist.java","raw_url":"https://github.com/apache/openjpa/raw/f6c5acd9b343e90ac42132077c63110b8224b1ea/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/cascade/pudefault/TestPUDefaultCascadePersist.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/cascade/pudefault/TestPUDefaultCascadePersist.java?ref=f6c5acd9b343e90ac42132077c63110b8224b1ea","patch":"@@ -31,6 +31,26 @@ public void setUp() throws Exception {\n         emf = OpenJPAPersistence.\n                 createEntityManagerFactory(\"TestPUDefaultCascadePersist\", \n                     \"org/apache/openjpa/persistence/cascade/pudefault/META-INF/persistence.xml\");\n+        \n+        EntityManager em = emf.createEntityManager();\n+        try {\n+            em.getTransaction().begin();\n+            em.createQuery(\"DELETE FROM PUDEntityA01\").executeUpdate();\n+            em.createQuery(\"DELETE FROM PUDEntityA02\").executeUpdate();\n+            em.createQuery(\"DELETE FROM PUDEntityAE01\").executeUpdate();\n+            em.createQuery(\"DELETE FROM PUDEntityB\").executeUpdate();\n+            em.createQuery(\"DELETE FROM PUDEntityA01_PUDEntityB\").executeUpdate();\n+            em.createQuery(\"DELETE FROM PUDEntityA02_PUDEntityB\").executeUpdate();\n+            em.createQuery(\"DELETE FROM PUDEntityAE01_PUDEntityB\").executeUpdate();\n+            em.getTransaction().commit();\n+        } catch (Throwable t) {\n+            // Swallow\n+        } finally {\n+            if (em.getTransaction().isActive()) {\n+                em.getTransaction().rollback();\n+            }\n+            em.close();\n+        }\n //        super.setUp(PUDEntityA01.class, PUDEntityB.class,\n //            \"org/apache/openjpa/persistence/cascade/pudefault/META-INF/cascadepersistorm.xml\",\n //            CLEAR_TABLES);"}]}

