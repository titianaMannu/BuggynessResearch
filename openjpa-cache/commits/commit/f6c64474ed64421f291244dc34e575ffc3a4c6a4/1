{"sha":"f6c64474ed64421f291244dc34e575ffc3a4c6a4","node_id":"MDY6Q29tbWl0MjA2MzY0OmY2YzY0NDc0ZWQ2NDQyMWYyOTEyNDRkYzM0ZTU3NWZmYzNhNGM2YTQ=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2009-05-15T21:11:20Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2009-05-15T21:11:20Z"},"message":"OPENJPA-1088 fix new all target for Windows users\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@775344 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"5ee757a03c7abf4f86b7fce664b55465d3fd87b5","url":"https://api.github.com/repos/apache/openjpa/git/trees/5ee757a03c7abf4f86b7fce664b55465d3fd87b5"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/f6c64474ed64421f291244dc34e575ffc3a4c6a4","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/f6c64474ed64421f291244dc34e575ffc3a4c6a4","html_url":"https://github.com/apache/openjpa/commit/f6c64474ed64421f291244dc34e575ffc3a4c6a4","comments_url":"https://api.github.com/repos/apache/openjpa/commits/f6c64474ed64421f291244dc34e575ffc3a4c6a4/comments","author":null,"committer":null,"parents":[{"sha":"a5f85ac7f83690b8e896709b4b8f5c5a1351d515","url":"https://api.github.com/repos/apache/openjpa/commits/a5f85ac7f83690b8e896709b4b8f5c5a1351d515","html_url":"https://github.com/apache/openjpa/commit/a5f85ac7f83690b8e896709b4b8f5c5a1351d515"}],"stats":{"total":22,"additions":18,"deletions":4},"files":[{"sha":"55dc44947a98143d5935cfee2aa584537548b240","filename":"openjpa-examples/src/main/java/build.xml","status":"modified","additions":18,"deletions":4,"changes":22,"blob_url":"https://github.com/apache/openjpa/blob/f6c64474ed64421f291244dc34e575ffc3a4c6a4/openjpa-examples/src/main/java/build.xml","raw_url":"https://github.com/apache/openjpa/raw/f6c64474ed64421f291244dc34e575ffc3a4c6a4/openjpa-examples/src/main/java/build.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-examples/src/main/java/build.xml?ref=f6c64474ed64421f291244dc34e575ffc3a4c6a4","patch":"@@ -36,10 +36,24 @@ Please traverse to a sub-directory, like hellojpa, and run \"ant\" from there.\n         </fail>\n     </target>\n \n-    <target name=\"all\">\n-        <exec dir=\"${basedir}/hellojpa\" executable=\"ant\" />\n-        <exec dir=\"${basedir}/relations\" executable=\"ant\" />\n-        <exec dir=\"${basedir}/reversemapping\" executable=\"ant\" />\n+    <target name=\"init\" depends=\"init:discover, init:windows, init:unix\">\n+    </target>\n+    <target name=\"init:discover\">\n+        <condition property=\"isWindows\">\n+            <os family=\"windows\"/>\n+        </condition>\n+    </target>\n+    <target name=\"init:windows\" if=\"isWindows\">\n+        <property name=\"platform.script.ext\" value=\".bat\"/>\n+    </target>\n+    <target name=\"init:unix\" unless=\"isWindows\">\n+        <property name=\"platform.script.ext\" value=\"\"/>\n+    </target>\n+\n+    <target name=\"all\" depends=\"init\">\n+        <exec dir=\"${basedir}/hellojpa\" executable=\"ant${platform.script.ext}\"/>\n+        <exec dir=\"${basedir}/relations\" executable=\"ant${platform.script.ext}\"/>\n+        <exec dir=\"${basedir}/reversemapping\" executable=\"ant${platform.script.ext}\"/>\n     </target>\n \n     <path id=\"classpath\""}]}

