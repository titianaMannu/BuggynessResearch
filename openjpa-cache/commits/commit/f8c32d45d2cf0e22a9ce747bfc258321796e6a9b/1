{"sha":"f8c32d45d2cf0e22a9ce747bfc258321796e6a9b","node_id":"MDY6Q29tbWl0MjA2MzY0OmY4YzMyZDQ1ZDJjZjBlMjJhOWNlNzQ3YmZjMjU4MzIxNzk2ZTZhOWI=","commit":{"author":{"name":"Fay Wang","email":"faywang@apache.org","date":"2010-07-19T18:26:13Z"},"committer":{"name":"Fay Wang","email":"faywang@apache.org","date":"2010-07-19T18:26:13Z"},"message":"OPENJPA-1726: fix Criteria Trim expression when running on Postgres.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@965575 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"da5edf28f1962269abd65285fbd52c2e21e52cd6","url":"https://api.github.com/repos/apache/openjpa/git/trees/da5edf28f1962269abd65285fbd52c2e21e52cd6"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/f8c32d45d2cf0e22a9ce747bfc258321796e6a9b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/f8c32d45d2cf0e22a9ce747bfc258321796e6a9b","html_url":"https://github.com/apache/openjpa/commit/f8c32d45d2cf0e22a9ce747bfc258321796e6a9b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/f8c32d45d2cf0e22a9ce747bfc258321796e6a9b/comments","author":null,"committer":null,"parents":[{"sha":"b4782910c56f5001ad142ed2726dda6e5a8d0f4c","url":"https://api.github.com/repos/apache/openjpa/commits/b4782910c56f5001ad142ed2726dda6e5a8d0f4c","html_url":"https://github.com/apache/openjpa/commit/b4782910c56f5001ad142ed2726dda6e5a8d0f4c"}],"stats":{"total":2,"additions":2,"deletions":0},"files":[{"sha":"a5621bc503085e37c3af1488f72aeb073a620c13","filename":"openjpa-persistence/src/main/java/org/apache/openjpa/persistence/criteria/Expressions.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/f8c32d45d2cf0e22a9ce747bfc258321796e6a9b/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/criteria/Expressions.java","raw_url":"https://github.com/apache/openjpa/raw/f8c32d45d2cf0e22a9ce747bfc258321796e6a9b/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/criteria/Expressions.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence/src/main/java/org/apache/openjpa/persistence/criteria/Expressions.java?ref=f8c32d45d2cf0e22a9ce747bfc258321796e6a9b","patch":"@@ -629,6 +629,8 @@ public Value toValue(ExpressionFactory factory, CriteriaQueryImpl<?> q) {\n                 case BOTH     : spec = null;  break;\n                 }\n             }\n+            Character t = (Character)((Constant<Character>)e2).arg;\n+            Constant<String> e2 = new Constant<String>(String.class, t.toString());\n             return factory.trim(\n                 Expressions.toValue(e1, factory, q), \n                 Expressions.toValue(e2, factory, q), spec);"}]}

