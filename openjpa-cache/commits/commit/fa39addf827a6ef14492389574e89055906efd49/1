{"sha":"fa39addf827a6ef14492389574e89055906efd49","node_id":"MDY6Q29tbWl0MjA2MzY0OmZhMzlhZGRmODI3YTZlZjE0NDkyMzg5NTc0ZTg5MDU1OTA2ZWZkNDk=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-08-07T21:16:55Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-08-07T21:16:55Z"},"message":"Prevent this class from attempting to build its schema when using a database that doesn't support XML datatypes.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/trunk@563661 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"28b4a463c3d5e4203cbe97fbe107e9e5759a7638","url":"https://api.github.com/repos/apache/openjpa/git/trees/28b4a463c3d5e4203cbe97fbe107e9e5759a7638"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/fa39addf827a6ef14492389574e89055906efd49","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/fa39addf827a6ef14492389574e89055906efd49","html_url":"https://github.com/apache/openjpa/commit/fa39addf827a6ef14492389574e89055906efd49","comments_url":"https://api.github.com/repos/apache/openjpa/commits/fa39addf827a6ef14492389574e89055906efd49/comments","author":null,"committer":null,"parents":[{"sha":"09e13c4ad887fbcec2532d175e6f761f1fe5b72e","url":"https://api.github.com/repos/apache/openjpa/commits/09e13c4ad887fbcec2532d175e6f761f1fe5b72e","html_url":"https://github.com/apache/openjpa/commit/09e13c4ad887fbcec2532d175e6f761f1fe5b72e"}],"stats":{"total":9,"additions":9,"deletions":0},"files":[{"sha":"0d723294aa142bd5c4d38036fd2d75d4e99be992","filename":"openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","status":"modified","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/apache/openjpa/blob/fa39addf827a6ef14492389574e89055906efd49/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","raw_url":"https://github.com/apache/openjpa/raw/fa39addf827a6ef14492389574e89055906efd49/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/xmlmapping/query/TestXMLCustomerOrder.java?ref=fa39addf827a6ef14492389574e89055906efd49","patch":"@@ -34,6 +34,7 @@\n import org.apache.openjpa.jdbc.sql.SQLServerDictionary;\n import org.apache.openjpa.persistence.OpenJPAEntityManager;\n import org.apache.openjpa.persistence.OpenJPAPersistence;\n+import org.apache.openjpa.persistence.OpenJPAEntityManagerFactory;\n import org.apache.openjpa.persistence.test.SQLListenerTestCase;\n import org.apache.openjpa.persistence.xmlmapping.xmlbindings.myaddress.*;\n import org.apache.openjpa.persistence.xmlmapping.entities.*;\n@@ -49,6 +50,14 @@\n     extends SQLListenerTestCase {\n \n     public void setUp() {\n+        OpenJPAEntityManagerFactory emf = createEMF();\n+        DBDictionary dict = ((JDBCConfiguration) emf.getConfiguration())\n+            .getDBDictionaryInstance();\n+\n+        // skip if dictionary has no support for XML column type\n+        if (!dict.supportsXMLColumn)\n+            return;\n+\n         setUp(org.apache.openjpa.persistence.xmlmapping.entities.Customer.class\n             , org.apache.openjpa.persistence.xmlmapping.entities.Customer\n                 .CustomerKey.class"}]}

