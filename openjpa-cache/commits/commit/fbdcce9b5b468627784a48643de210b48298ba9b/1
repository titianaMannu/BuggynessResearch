{"sha":"fbdcce9b5b468627784a48643de210b48298ba9b","node_id":"MDY6Q29tbWl0MjA2MzY0OmZiZGNjZTliNWI0Njg2Mjc3ODRhNDg2NDNkZTIxMGI0ODI5OGJhOWI=","commit":{"author":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-08-25T17:37:04Z"},"committer":{"name":"Donald Woods","email":"dwoods@apache.org","date":"2010-08-25T17:37:04Z"},"message":"OPENJPA-1712 Add createSource options back in and remove test-javadoc reports which we don't need and take way too long to build\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@989243 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"8a5d2742cb7e8dbff973d359e6d7f1cf756c1c48","url":"https://api.github.com/repos/apache/openjpa/git/trees/8a5d2742cb7e8dbff973d359e6d7f1cf756c1c48"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/fbdcce9b5b468627784a48643de210b48298ba9b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/fbdcce9b5b468627784a48643de210b48298ba9b","html_url":"https://github.com/apache/openjpa/commit/fbdcce9b5b468627784a48643de210b48298ba9b","comments_url":"https://api.github.com/repos/apache/openjpa/commits/fbdcce9b5b468627784a48643de210b48298ba9b/comments","author":null,"committer":null,"parents":[{"sha":"d85b6191bb3b8e91cd9c8ea4e599fbc7389db862","url":"https://api.github.com/repos/apache/openjpa/commits/d85b6191bb3b8e91cd9c8ea4e599fbc7389db862","html_url":"https://github.com/apache/openjpa/commit/d85b6191bb3b8e91cd9c8ea4e599fbc7389db862"}],"stats":{"total":99,"additions":65,"deletions":34},"files":[{"sha":"e9b7c6062e1a409666d48cd4643c2c9fe9a2fd3e","filename":"openjpa-all/pom.xml","status":"modified","additions":18,"deletions":18,"changes":36,"blob_url":"https://github.com/apache/openjpa/blob/fbdcce9b5b468627784a48643de210b48298ba9b/openjpa-all/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/fbdcce9b5b468627784a48643de210b48298ba9b/openjpa-all/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-all/pom.xml?ref=fbdcce9b5b468627784a48643de210b48298ba9b","patch":"@@ -36,23 +36,6 @@\n     <packaging>jar</packaging>\n     <name>OpenJPA Aggregate Jar with Dependencies</name>\n \n-    <dependencies>\n-        <!--\n-            Start with openjpa.jar and let the maven-shade-plugin\n-            determine the transitive dependencies to include from it.\n-        -->\n-        <dependency>\n-            <groupId>org.apache.openjpa</groupId>\n-            <artifactId>openjpa</artifactId>\n-            <version>${project.version}</version>\n-        </dependency>\n-        <!-- include commons-logging -->\n-        <dependency>\n-            <groupId>commons-logging</groupId>\n-            <artifactId>commons-logging</artifactId>\n-        </dependency>\n-    </dependencies>\n-\n     <build>\n         <plugins>\n             <!-- disable creating javadoc for this module -->\n@@ -98,7 +81,7 @@\n                         </goals>\n                         <configuration>\n                             <createDependencyReducedPom>true</createDependencyReducedPom>\n-                            <createSourcesJar>true</createSourcesJar>\n+                            <createSourcesJar>${createSources}</createSourcesJar>\n                             <keepDependenciesWithProvidedScope>true</keepDependenciesWithProvidedScope>\n                             <promoteTransitiveDependencies>true</promoteTransitiveDependencies>\n                             <!-- \n@@ -133,4 +116,21 @@\n             </plugin>\n         </plugins>\n     </build>\n+\n+    <dependencies>\n+        <!--\n+            Start with openjpa.jar and let the maven-shade-plugin\n+            determine the transitive dependencies to include from it.\n+        -->\n+        <dependency>\n+            <groupId>org.apache.openjpa</groupId>\n+            <artifactId>openjpa</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+        <!-- include commons-logging -->\n+        <dependency>\n+            <groupId>commons-logging</groupId>\n+            <artifactId>commons-logging</artifactId>\n+        </dependency>\n+    </dependencies>\n </project>"},{"sha":"4c3a9321c81adaaae906aa12aee01033137f824b","filename":"openjpa-integration/pom.xml","status":"modified","additions":13,"deletions":10,"changes":23,"blob_url":"https://github.com/apache/openjpa/blob/fbdcce9b5b468627784a48643de210b48298ba9b/openjpa-integration/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/fbdcce9b5b468627784a48643de210b48298ba9b/openjpa-integration/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-integration/pom.xml?ref=fbdcce9b5b468627784a48643de210b48298ba9b","patch":"@@ -44,15 +44,18 @@\n     </modules>\n \n     <build>\n-        <plugins>\n-            <!-- disable creating javadoc for these modules -->\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-javadoc-plugin</artifactId>\n-                <configuration>\n-                    <skip>true</skip>\n-                </configuration>\n-            </plugin>\n-        </plugins>\n+        <pluginManagement>\n+            <plugins>\n+                <!-- disable creating javadoc for these modules -->\n+                <plugin>\n+                    <groupId>org.apache.maven.plugins</groupId>\n+                    <artifactId>maven-javadoc-plugin</artifactId>\n+                    <configuration>\n+                        <skip>true</skip>\n+                    </configuration>\n+                    <inherited>true</inherited>\n+                </plugin>\n+            </plugins>\n+        </pluginManagement>\n     </build>\n </project>"},{"sha":"8c062fa712a8f1b986d49685fd74bf20a4edd42e","filename":"openjpa-project/source-assembly.xml","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/fbdcce9b5b468627784a48643de210b48298ba9b/openjpa-project/source-assembly.xml","raw_url":"https://github.com/apache/openjpa/raw/fbdcce9b5b468627784a48643de210b48298ba9b/openjpa-project/source-assembly.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-project/source-assembly.xml?ref=fbdcce9b5b468627784a48643de210b48298ba9b","patch":"@@ -36,6 +36,8 @@\n             <excludes>\n                 <exclude>**/target/**</exclude>\n                 <exclude>**/*.log</exclude>\n+                <exclude>**/.*</exclude>\n+                <exclude>**/.*/**</exclude>\n             </excludes>\n         </fileSet>\n "},{"sha":"1e7279c1e55a5bcb1fddb7956f688d38b8718605","filename":"openjpa/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/apache/openjpa/blob/fbdcce9b5b468627784a48643de210b48298ba9b/openjpa/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/fbdcce9b5b468627784a48643de210b48298ba9b/openjpa/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa/pom.xml?ref=fbdcce9b5b468627784a48643de210b48298ba9b","patch":"@@ -66,7 +66,7 @@\n                         </goals>\n                         <configuration>\n                             <createDependencyReducedPom>true</createDependencyReducedPom>\n-                            <createSourcesJar>true</createSourcesJar>\n+                            <createSourcesJar>${createSources}</createSourcesJar>\n                             <keepDependenciesWithProvidedScope>true</keepDependenciesWithProvidedScope>\n                             <promoteTransitiveDependencies>true</promoteTransitiveDependencies>\n                             <!--"},{"sha":"8087499b461dd7300e407af5fb7181f969172594","filename":"pom.xml","status":"modified","additions":31,"deletions":5,"changes":36,"blob_url":"https://github.com/apache/openjpa/blob/fbdcce9b5b468627784a48643de210b48298ba9b/pom.xml","raw_url":"https://github.com/apache/openjpa/raw/fbdcce9b5b468627784a48643de210b48298ba9b/pom.xml","contents_url":"https://api.github.com/repos/apache/openjpa/contents/pom.xml?ref=fbdcce9b5b468627784a48643de210b48298ba9b","patch":"@@ -7,9 +7,9 @@\n  to you under the Apache License, Version 2.0 (the\n  \"License\"); you may not use this file except in compliance\n  with the License.  You may obtain a copy of the License at\n- \n+\n  http://www.apache.org/licenses/LICENSE-2.0\n- \n+\n  Unless required by applicable law or agreed to in writing,\n  software distributed under the License is distributed on an\n  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n@@ -65,6 +65,9 @@\n              anything else allows the test to execute normally\n         -->\n         <tests.openjpa.allowfailure>ignore</tests.openjpa.allowfailure>\n+        <!--turn off sources.jar generation by setting to none and false -->\n+        <createSource>verify</createSource>\n+        <createSources>true</createSources>\n         <!-- common JDBC driver versions -->\n         <derby.version>10.5.3.0_1</derby.version>\n         <hsqldb.version>1.8.0.10</hsqldb.version>\n@@ -250,7 +253,7 @@\n \n         <profile>\n             <!--                        \n-                Aggregate Javadoc profile. Docs can be built by running:\n+                Javadoc profile. Docs can be built by running:\n                     mvn process-resources -Dtest=false -Pjavadoc-profile\n             -->  \n             <id>javadoc-profile</id>\n@@ -590,14 +593,28 @@\n                 <artifactId>jmock-junit3</artifactId>\n                 <version>2.5.1</version>\n             </dependency>\n+            <dependency>\n+                <groupId>junit</groupId>\n+                <artifactId>junit</artifactId>\n+                <version>3.8.1</version>\n+            </dependency>\n+            <dependency>\n+                <groupId>net.sourceforge.findbugs</groupId>\n+                <artifactId>annotations</artifactId>\n+                <version>1.3.2</version>\n+            </dependency>\n         </dependencies>\n     </dependencyManagement>\n \n     <dependencies>\n+        <dependency>\n+            <groupId>net.sourceforge.findbugs</groupId>\n+            <artifactId>annotations</artifactId>\n+            <scope>provided</scope>\n+        </dependency>\n         <dependency>\n             <groupId>junit</groupId>\n             <artifactId>junit</artifactId>\n-            <version>3.8.1</version>\n             <scope>test</scope>\n         </dependency>\n     </dependencies>\n@@ -821,6 +838,11 @@\n                         </execution>\n                     </executions>\n                 </plugin>\n+                <plugin>\n+                    <groupId>org.codehaus.mojo</groupId>\n+                    <artifactId>findbugs-maven-plugin</artifactId>\n+                    <version>2.3.1</version>\n+                </plugin>\n             </plugins>\n         </pluginManagement>\n \n@@ -835,6 +857,7 @@\n                 <executions>\n                     <execution>\n                         <id>attach-sources</id>\n+                        <phase>${createSource}</phase>\n                         <goals>\n                             <goal>jar</goal>\n                             <goal>test-jar</goal>\n@@ -954,11 +977,14 @@\n                     <reportSet>\n                         <reports>\n                             <report>javadoc</report>\n-                            <report>test-javadoc</report>\n                         </reports>\n                     </reportSet>\n                 </reportSets>\n             </plugin>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-surefire-plugin</artifactId>\n+            </plugin>\n             <plugin>\n                 <groupId>org.codehaus.mojo</groupId>\n                 <artifactId>jdepend-maven-plugin</artifactId>"}]}

