{"sha":"fc4a875fc69ec23e8db054a454eaf73c24567df8","node_id":"MDY6Q29tbWl0MjA2MzY0OmZjNGE4NzVmYzY5ZWMyM2U4ZGIwNTRhNDU0ZWFmNzNjMjQ1NjdkZjg=","commit":{"author":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2010-04-08T21:18:12Z"},"committer":{"name":"Pinaki Poddar","email":"ppoddar@apache.org","date":"2010-04-08T21:18:12Z"},"message":"OPENJPA-703: Use weak map for caches\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/2.0.x@932118 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"a8c80db9f98766853edb05b1e80a2d58d01c65e4","url":"https://api.github.com/repos/apache/openjpa/git/trees/a8c80db9f98766853edb05b1e80a2d58d01c65e4"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/fc4a875fc69ec23e8db054a454eaf73c24567df8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/fc4a875fc69ec23e8db054a454eaf73c24567df8","html_url":"https://github.com/apache/openjpa/commit/fc4a875fc69ec23e8db054a454eaf73c24567df8","comments_url":"https://api.github.com/repos/apache/openjpa/commits/fc4a875fc69ec23e8db054a454eaf73c24567df8/comments","author":null,"committer":null,"parents":[{"sha":"b7010472cc2d1aedf88fde71e44fff997245bc99","url":"https://api.github.com/repos/apache/openjpa/commits/b7010472cc2d1aedf88fde71e44fff997245bc99","html_url":"https://github.com/apache/openjpa/commit/b7010472cc2d1aedf88fde71e44fff997245bc99"}],"stats":{"total":5,"additions":3,"deletions":2},"files":[{"sha":"d6d969bc5f5189d01ffe009a2e66ca5b558be555","filename":"openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/PreparedQueryCacheImpl.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/apache/openjpa/blob/fc4a875fc69ec23e8db054a454eaf73c24567df8/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/PreparedQueryCacheImpl.java","raw_url":"https://github.com/apache/openjpa/raw/fc4a875fc69ec23e8db054a454eaf73c24567df8/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/PreparedQueryCacheImpl.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-jdbc/src/main/java/org/apache/openjpa/jdbc/kernel/PreparedQueryCacheImpl.java?ref=fc4a875fc69ec23e8db054a454eaf73c24567df8","patch":"@@ -39,6 +39,7 @@\n import org.apache.openjpa.lib.conf.Configuration;\n import org.apache.openjpa.lib.log.Log;\n import org.apache.openjpa.lib.util.Localizer;\n+import org.apache.openjpa.util.CacheMap;\n \n /**\n  * An implementation of the cache of {@link PreparedQuery prepared queries}. \n@@ -62,8 +63,8 @@\n     private static Localizer _loc = Localizer.forPackage(PreparedQueryCacheImpl.class);\n     \n \tpublic PreparedQueryCacheImpl() {\n-\t\t_delegate = new HashMap<String, PreparedQuery>();\n-\t\t_uncachables = new HashMap<String, Exclusion>();\n+\t\t_delegate = new CacheMap();\n+\t\t_uncachables = new CacheMap();\n \t\t_stats = new QueryStatistics.Default<String>();\n \t\t_exclusionPatterns = new ArrayList<Exclusion>();\n \t}"}]}

