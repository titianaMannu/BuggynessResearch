{"sha":"ff13fe7b6ad33457aff4302606b22b3b2b43d76d","node_id":"MDY6Q29tbWl0MjA2MzY0OmZmMTNmZTdiNmFkMzM0NTdhZmY0MzAyNjA2YjIyYjNiMmI0M2Q3NmQ=","commit":{"author":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-08-22T00:08:32Z"},"committer":{"name":"Patrick Linskey","email":"pcl@apache.org","date":"2007-08-22T00:08:32Z"},"message":"OPENJPA-325. Unit test to come later.\n\ngit-svn-id: https://svn.apache.org/repos/asf/openjpa/branches/1.0.0@568338 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"591a2cb861218653833380f57c0a3107110d64a3","url":"https://api.github.com/repos/apache/openjpa/git/trees/591a2cb861218653833380f57c0a3107110d64a3"},"url":"https://api.github.com/repos/apache/openjpa/git/commits/ff13fe7b6ad33457aff4302606b22b3b2b43d76d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/apache/openjpa/commits/ff13fe7b6ad33457aff4302606b22b3b2b43d76d","html_url":"https://github.com/apache/openjpa/commit/ff13fe7b6ad33457aff4302606b22b3b2b43d76d","comments_url":"https://api.github.com/repos/apache/openjpa/commits/ff13fe7b6ad33457aff4302606b22b3b2b43d76d/comments","author":null,"committer":null,"parents":[{"sha":"ef56ba140684756696414a848f0d5179c950af07","url":"https://api.github.com/repos/apache/openjpa/commits/ef56ba140684756696414a848f0d5179c950af07","html_url":"https://github.com/apache/openjpa/commit/ef56ba140684756696414a848f0d5179c950af07"}],"stats":{"total":3,"additions":3,"deletions":0},"files":[{"sha":"dab3e4d24bde5691db561b77fc10b0db726d9778","filename":"openjpa-kernel/src/main/java/org/apache/openjpa/datacache/DataCacheStoreManager.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/apache/openjpa/blob/ff13fe7b6ad33457aff4302606b22b3b2b43d76d/openjpa-kernel/src/main/java/org/apache/openjpa/datacache/DataCacheStoreManager.java","raw_url":"https://github.com/apache/openjpa/raw/ff13fe7b6ad33457aff4302606b22b3b2b43d76d/openjpa-kernel/src/main/java/org/apache/openjpa/datacache/DataCacheStoreManager.java","contents_url":"https://api.github.com/repos/apache/openjpa/contents/openjpa-kernel/src/main/java/org/apache/openjpa/datacache/DataCacheStoreManager.java?ref=ff13fe7b6ad33457aff4302606b22b3b2b43d76d","patch":"@@ -380,6 +380,9 @@ public boolean load(OpenJPAStateManager sm, BitSet fields,\n             return false;\n         if (!_ctx.getPopulateDataCache())\n             return true;\n+        // Do not load changes into cache if the instance has been flushed\n+        if (sm.isFlushed())\n+            return true;\n \n         // make sure that we're not trying to cache an old version\n         cache.writeLock();"}]}

