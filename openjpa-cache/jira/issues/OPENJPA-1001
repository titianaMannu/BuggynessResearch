{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12421510","self":"https://issues.apache.org/jira/rest/api/2/issue/12421510","key":"OPENJPA-1001","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314517","id":"12314517","description":"OpenJPA 1.2.3 Release","name":"1.2.3","archived":false,"released":true,"releaseDate":"2013-04-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313326","id":"12313326","description":"","name":"1.3.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314802","id":"12314802","description":"2.0.0 Beta 2","name":"2.0.0-beta2","archived":false,"released":true,"releaseDate":"2010-02-27"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"161298","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313328","id":"12313328","description":"","name":"1.2.1","archived":false,"released":true,"releaseDate":"2009-03-18"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311300","id":"12311300","name":"jdbc","description":"jdbc interface"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"204191","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakr","name":"rakr","key":"rakr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Rak","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakr","name":"rakr","key":"rakr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Rak","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-1001/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7bf4696b[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2880bd76[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@13d2b2d0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3e94d6d1[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@799fdb84[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1be70b0e[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1d257e90[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@59f11bb[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2dba977[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@21476d59[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1720461f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@6acf8f89[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2010-02-11T23:14:42.386+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-1001/watchers","watchCount":1,"isWatching":false},"created":"2009-03-29T20:03:01.844+0000","updated":"2010-03-09T18:31:12.494+0000","timeoriginalestimate":null,"description":"I am hitting the following exception when executing the given test case:\n\nCaused by: java.lang.IndexOutOfBoundsException: Index: 1, Size: 1\n\tat java.util.ArrayList.RangeCheck(ArrayList.java:546)\n\tat java.util.ArrayList.get(ArrayList.java:321)\n\tat org.apache.openjpa.jdbc.sql.SQLBuffer.setParameters(SQLBuffer.java:615)\n\tat org.apache.openjpa.jdbc.sql.SQLBuffer.prepareStatement(SQLBuffer.java:515)\n\tat org.apache.openjpa.jdbc.sql.SQLBuffer.prepareStatement(SQLBuffer.java:471)\n\tat org.apache.openjpa.jdbc.sql.SelectImpl.prepareStatement(SelectImpl.java:463)\n\tat org.apache.openjpa.jdbc.sql.SelectImpl.execute(SelectImpl.java:379)\n\tat org.apache.openjpa.jdbc.sql.SelectImpl.execute(SelectImpl.java:325)\n\tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.getInitializeStateResult(JDBCStoreManager.java:503)\n\tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:322)\n\tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:278)\n\tat org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\n\tat org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:57)\n\tat org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:894)\n\tat org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:852)\n\t... 53 more\n<openjpa-1.2.1-rexported nonfatal general error> org.apache.openjpa.persistence.PersistenceException: Index: 1, Size: 1\n\tat org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:875)\n\tat org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:774)\n\tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.find(JDBCStoreManager.java:951)\n\tat org.apache.openjpa.jdbc.meta.strats.RelationFieldStrategy.load(RelationFieldStrategy.java:609)\n\tat org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:819)\n\tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:688)\n\tat org.apache.openjpa.kernel.DelegatingStoreManager.load(DelegatingStoreManager.java:116)\n\tat org.apache.openjpa.kernel.ROPStoreManager.load(ROPStoreManager.java:78)\n\tat org.apache.openjpa.kernel.StateManagerImpl.loadFields(StateManagerImpl.java:2921)\n\tat org.apache.openjpa.kernel.StateManagerImpl.loadField(StateManagerImpl.java:2999)\n\tat org.apache.openjpa.kernel.StateManagerImpl.fetchObjectField(StateManagerImpl.java:2242)\n\tat org.apache.openjpa.jdbc.meta.strats.RelationFieldStrategy.delete(RelationFieldStrategy.java:256)\n\tat org.apache.openjpa.jdbc.meta.FieldMapping.delete(FieldMapping.java:589)\n\tat org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.delete(AbstractUpdateManager.java:238)\n\tat org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.delete(AbstractUpdateManager.java:252)\n\tat org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.populateRowManager(AbstractUpdateManager.java:143)\n\tat org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:85)\n\tat org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:72)\n\tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.flush(JDBCStoreManager.java:717)\n\tat org.apache.openjpa.kernel.DelegatingStoreManager.flush(DelegatingStoreManager.java:130)\n\tat org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:2010)\n\tat org.apache.openjpa.kernel.BrokerImpl.flushSafe(BrokerImpl.java:1908)\n\tat org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:1679)\n\tat org.apache.openjpa.kernel.QueryImpl.isInMemory(QueryImpl.java:956)\n\tat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:796)\n\tat org.apache.openjpa.kernel.QueryImpl.deleteAll(QueryImpl.java:872)\n\tat org.apache.openjpa.kernel.QueryImpl.deleteAll(QueryImpl.java:868)\n\tat org.apache.openjpa.kernel.DelegatingQuery.deleteAll(DelegatingQuery.java:541)\n\tat org.apache.openjpa.persistence.QueryImpl.executeUpdate(QueryImpl.java:331)\n\tat org.apache.openjpa.persistence.test.PersistenceTestCase.clear(PersistenceTestCase.java:232)\n\tat org.apache.openjpa.persistence.test.PersistenceTestCase.clear(PersistenceTestCase.java:205)\n\tat org.apache.openjpa.persistence.test.SingleEMFTestCase.tearDown(SingleEMFTestCase.java:71)\n\tat junit.framework.TestCase.runBare(TestCase.java:130)\n\n...","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12404095","id":"12404095","filename":"IncompleteRelationshipChildEntity.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakr","name":"rakr","key":"rakr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Rak","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-29T20:05:22.535+0000","size":4806,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12404095/IncompleteRelationshipChildEntity.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12404096","id":"12404096","filename":"IncompleteRelationshipParentEntity.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakr","name":"rakr","key":"rakr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Rak","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-29T20:05:22.538+0000","size":5568,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12404096/IncompleteRelationshipParentEntity.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12404097","id":"12404097","filename":"IncompleteRelationshipSubclass.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakr","name":"rakr","key":"rakr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Rak","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-29T20:05:53.068+0000","size":1427,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12404097/IncompleteRelationshipSubclass.java"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12427185","id":"12427185","filename":"OPENJPA-1001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bjreed","name":"bjreed","key":"bjreed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Barrett Jay Reed","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-07T15:18:36.229+0000","size":21461,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12427185/OPENJPA-1001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12404094","id":"12404094","filename":"TestIncompleteRelationship.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakr","name":"rakr","key":"rakr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Rak","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-29T20:05:22.501+0000","size":3453,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12404094/TestIncompleteRelationship.java"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"java.lang.IndexOutOfBoundsException when executing attached test case","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"Can reproduce on Max OS X and Linux","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12421510/comment/12694681","id":"12694681","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakr","name":"rakr","key":"rakr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Rak","active":true,"timeZone":"Etc/UTC"},"body":"I've done some more digging around, and the issue *appears* to be:\n\nSelectImpl.wherePrimaryKey(ClassMapping mapping, Column[] toCols, \n    \tColumn[] fromCols, Object oid, JDBCStore store, PathJoins pj,\n    \tSQLBuffer buf, List parmList)\n\nThis method is adding the primary key values to the parameter list.  It is adding a NULL value to the parameter list, and is also adding \"IS NULL\" to the SQLBuffer.\n\nThen, when SQLBuffer calls setParameters(PreparedStatement ps, List cacheParams), it is finding that NULL value in the cacheParams list, and is throwing the IndexOutOfBoundsException when attempting to find the column name for the null value.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakr","name":"rakr","key":"rakr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Rak","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-01T18:39:27.872+0000","updated":"2009-04-01T18:39:27.872+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12421510/comment/12695388","id":"12695388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"Simply guarding for null when we add to the list appears to resolve the problem and it didn't break any other tests. The results look identical to what I get when running on trunk which has Pinaki's version of SQL caching. \n\nIt seems to me that there's a better way to fix the problem, but I haven't been able to dig in and find it. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2009-04-03T13:52:10.033+0000","updated":"2009-04-03T13:52:10.033+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12421510/comment/12695563","id":"12695563","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"body":"> The results look identical to what I get when running on trunk which has Pinaki's version of SQL caching. \nDoes that imply the test passed with 'Pinaki's version of SQL caching'?\n\nThe test passed on trunk for me.\n\n*If* this test is failing with previous SQLCaching (not pinaki's version of  SQL caching which is better be referred as Prepared Query caching -- because that more accurately reflects what it is) that brings up again the long-standing issue with QuerySQLCache. \n\nThough Prepared Query Cache has no resemblance to  QuerySQLCache in terms of its design and its solution approach -- I still agreed to retain the same moniker to configure it because I saw it as a replacement for a potentially risky (and costly) mistake that has entered our released service stream. \n\nI am aware of the concerns/risks of backporting a rather large change such as Prepared Query Cache  in a released service stream. But If Prepared Query Cache were not written by me, I would have voiced my opinion more strongly to backport it as a replacement for existing QuerySQLCache. The risk of regression with PQC changes are minimal both because of its design as well as it has been operation/tested in one way or other in different scenarios. \n\nEffectively, In my view (which can be accused of bias in this case), the cost of retaining existing QuerySQLCache in the service stream outweighs the risks of injecting PQC in the stream -- \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-04-03T20:31:46.844+0000","updated":"2009-04-03T20:31:46.844+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12421510/comment/12695568","id":"12695568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"Sorry I wasn't clear with my earlier remarks. The testcase passed for me with trunk, and also passed with a simple guard for null. I just haven't had a chance to dig deeper (don't want to just band aid a fix in). \n\nPinaki, taking a closer look at Prepared Query Caching is on my ever growing list to things to do, but I don't want to sidetrack this issue any more than I already have :-)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2009-04-03T20:41:10.748+0000","updated":"2009-04-03T20:41:10.748+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12421510/comment/12786939","id":"12786939","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bjreed","name":"bjreed","key":"bjreed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Barrett Jay Reed","active":true,"timeZone":"Etc/UTC"},"body":"This issue has been fixed in trunk with OPENJPA-703 revision 739123.  Unfortunately, that commit was very large (> 60 files).\n\nI've been able to reduce the patch down to 5 files....seems that any more changes from this point break other JUnit test cases\n\nMike, when committing this patch to 1.2.x, also commit the TestIncompleteRelationship test case and I suggest committing the test case to trunk as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bjreed","name":"bjreed","key":"bjreed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Barrett Jay Reed","active":true,"timeZone":"Etc/UTC"},"created":"2009-12-07T15:18:36.269+0000","updated":"2009-12-07T15:18:36.269+0000"}],"maxResults":5,"total":5,"startAt":0},"customfield_12311820":"0|i0zbnr:","customfield_12314139":null}}

