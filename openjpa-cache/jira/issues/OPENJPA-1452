{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12444508","self":"https://issues.apache.org/jira/rest/api/2/issue/12444508","key":"OPENJPA-1452","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314149","id":"12314149","description":"2.0.0 Beta","name":"2.0.0-beta","archived":false,"released":true,"releaseDate":"2010-01-28"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"161717","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314148","id":"12314148","description":"Early Access 3","name":"2.0.0-M3","archived":false,"released":true,"releaseDate":"2009-10-12"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drwoods","name":"drwoods","key":"drwoods","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drwoods&avatarId=20433","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drwoods&avatarId=20433","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drwoods&avatarId=20433","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drwoods&avatarId=20433"},"displayName":"Donald Woods","active":true,"timeZone":"America/New_York"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311304","id":"12311304","name":"jpa","description":"Java Persistence API interface"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"204209","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-1452/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@a5a2329[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@13b9ed16[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@246ebe09[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@78e326cf[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2b950770[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@60650886[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@312a7c75[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@501ef1c1[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5333c235[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1bdad1ed[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7971df37[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5ec6a921[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2010-01-08T18:23:49.951+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-1452/watchers","watchCount":1,"isWatching":false},"created":"2010-01-02T18:53:10.523+0000","updated":"2010-04-28T22:43:47.067+0000","timeoriginalestimate":null,"description":"OpenJPA Attempts to modiy an umodifiable map in Glassfish.\n\nSimilar issue to:\nhttps://issues.apache.org/jira/browse/OPENJPA-498\n\nTo reproduce:\n+ Place the open jpa libs in [glassfish]/domain/domains1/lib\n+ Deploy any app or jar using openjpa as the persistence provider\n    <provider>org.apache.openjpa.persistence.PersistenceProviderImpl</provider>\n\ntrace:\n[#|2010-01-02T19:42:27.581+0100|INFO|sun-glassfish-comms-server1.5|javax.enterprise.system.tools.deployment|_ThreadID=17;_ThreadName=Timer-12;|deployed with moduleid = gs-apps_EJB|#]\n\n[#|2010-01-02T19:42:27.834+0100|WARNING|sun-glassfish-comms-server1.5|javax.enterprise.system.core.classloading|_ThreadID=17;_ThreadName=Timer-12;_RequestID=68741cc4-049e-4f05-a6f5-fab7d336f48e;|The log message is null.\njava.lang.UnsupportedOperationException\n\tat java.util.Collections$UnmodifiableMap.remove(Collections.java:1288)\n\tat org.apache.openjpa.lib.conf.Configurations.removeProperty(Configurations.java:681)\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:157)\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:59)\n\tat com.sun.enterprise.server.PersistenceUnitLoaderImpl.load(PersistenceUnitLoaderImpl.java:149)\n\tat com.sun.enterprise.server.PersistenceUnitLoaderImpl.load(PersistenceUnitLoaderImpl.java:84)\n\tat com.sun.enterprise.server.AbstractLoader.loadPersistenceUnits(AbstractLoader.java:895)\n\tat com.sun.enterprise.server.EJBModuleLoader.doLoad(EJBModuleLoader.java:165)\n\tat com.sun.enterprise.server.AbstractLoader.load(AbstractLoader.java:238)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:233)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:188)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:420)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.invokeModuleDeployEventListener(AdminEventMulticaster.java:1005)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.handleModuleDeployEvent(AdminEventMulticaster.java:992)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.processEvent(AdminEventMulticaster.java:470)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.multicastEvent(AdminEventMulticaster.java:182)\n\tat com.sun.enterprise.admin.server.core.DeploymentNotificationHelper.multicastEvent(DeploymentNotificationHelper.java:308)\n\tat com.sun.enterprise.deployment.phasing.DeploymentServiceUtils.multicastEvent(DeploymentServiceUtils.java:231)\n\tat com.sun.enterprise.deployment.phasing.ServerDeploymentTarget.sendStartEvent(ServerDeploymentTarget.java:298)\n\tat com.sun.enterprise.deployment.phasing.ApplicationStartPhase.runPhase(ApplicationStartPhase.java:132)\n\tat com.sun.enterprise.deployment.phasing.DeploymentPhase.executePhase(DeploymentPhase.java:108)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.executePhases(PEDeploymentService.java:966)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.deploy(PEDeploymentService.java:280)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.deploy(PEDeploymentService.java:298)\n\tat com.sun.enterprise.admin.mbeans.ApplicationsConfigMBean.deploy(ApplicationsConfigMBean.java:584)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat com.sun.enterprise.admin.MBeanHelper.invokeOperationInBean(MBeanHelper.java:381)\n\tat com.sun.enterprise.admin.MBeanHelper.invokeOperationInBean(MBeanHelper.java:364)\n\tat com.sun.enterprise.admin.config.BaseConfigMBean.invoke(BaseConfigMBean.java:477)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)\n\tat sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat com.sun.enterprise.admin.util.proxy.ProxyClass.invoke(ProxyClass.java:90)\n\tat $Proxy1.invoke(Unknown Source)\n\tat com.sun.enterprise.admin.server.core.jmx.SunoneInterceptor.invoke(SunoneInterceptor.java:304)\n\tat com.sun.enterprise.interceptor.DynamicInterceptor.invoke(DynamicInterceptor.java:174)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.invokeDeploymentService(AutoDeployer.java:583)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deployJavaEEArchive(AutoDeployer.java:564)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deploy(AutoDeployer.java:495)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deployAll(AutoDeployer.java:270)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployControllerImpl$AutoDeployTask.run(AutoDeployControllerImpl.java:374)\n\tat java.util.TimerThread.mainLoop(Timer.java:512)\n\tat java.util.TimerThread.run(Timer.java:462)\n|#]\n\n[#|2010-01-02T19:42:27.837+0100|WARNING|sun-glassfish-comms-server1.5|javax.enterprise.system.core|_ThreadID=17;_ThreadName=Timer-12;_RequestID=68741cc4-049e-4f05-a6f5-fab7d336f48e;|CORE5020: Error while loading ejb module|#]\n\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12429283","id":"12429283","filename":"Configurations.java","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-02T20:20:37.042+0000","size":28039,"mimeType":"text/x-java","content":"https://issues.apache.org/jira/secure/attachment/12429283/Configurations.java"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"OpenJPA 2.0.0-M3 attempts to mutate unmodifiable map in Glassfish","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"Ubuntu-karmic koala\nSLES 10.2\n\nUsing sailfin v1 b60g (based on glassfish v2.1)","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12795898","id":"12795898","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"body":"list of jars added to the [GLASFFISH]/domains/domain1/lib directory:\ncommons-collections-3.2.1.jar  \ncommons-pool-1.5.2.jar  ext\nopenjpa-all-2.0.0-M3.jar\ncommons-lang-2.1.jar\nserp-1.13.1.jar\n\nNote that I had to put the openjpa-all jar and not openjpa-2.0.0-M3, otherwise I was getting a Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/persistence/spi/ProviderUtil.  That is the case even if I deploy the libs in the [GLASSFISH]/lib directory.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-02T18:58:07.470+0000","updated":"2010-01-02T18:58:07.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12795910","id":"12795910","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"body":"Hi,\n\nI took a subversion snapshot of the source code and reintroduced the change in Configurations.java:\nIndex: Configurations.java\n===================================================================\n--- Configurations.java    (revision 895268) \n+++ Configurations.java    (working copy) \n@@ -677,8 +677,10 @@\n     public static Object removeProperty(String partialKey, Map props) {\n         if (partialKey == null || props == null || props.isEmpty())\n             return null;\n-        String fullKey = ProductDerivations.getConfigurationKey(partialKey, props); \n-        return props.remove(fullKey); \n+     if (containsProperty(partialKey, props)) \n+        return props.remove(ProductDerivations.getConfigurationKey(partialKey, props)); \n+    else  \n+        return null; \n     }\n \n     /**\n\nRecompile the project and used the new open-jpa jar generated.\n\nNow I get this:\n[#|2010-01-02T21:15:39.566+0100|WARNING|sun-glassfish-comms-server2.0|javax.enterprise.system.stream.err|_ThreadID=16;_ThreadName=Timer-7;_RequestID=e78ed0fe-72e4-4798-8ab5-1430c502d733;|\njava.lang.NoSuchMethodError: javax.persistence.spi.PersistenceUnitInfo.getValidationMode()Ljavax/persistence/ValidationMode;\n\tat org.apache.openjpa.persistence.PersistenceUnitInfoImpl.toOpenJPAProperties(PersistenceUnitInfoImpl.java:457)\n\tat org.apache.openjpa.persistence.PersistenceProductDerivation.load(PersistenceProductDerivation.java:260)\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:158)\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:59)\n\tat com.sun.enterprise.server.PersistenceUnitLoaderImpl.load(PersistenceUnitLoaderImpl.java:149)\n\tat com.sun.enterprise.server.PersistenceUnitLoaderImpl.load(PersistenceUnitLoaderImpl.java:84)\n\tat com.sun.enterprise.server.AbstractLoader.loadPersistenceUnits(AbstractLoader.java:915)\n\tat com.sun.enterprise.server.EJBModuleLoader.doLoad(EJBModuleLoader.java:165)\n\tat com.sun.enterprise.server.AbstractLoader.load(AbstractLoader.java:240)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:233)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:188)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:420)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.invokeModuleDeployEventListener(AdminEventMulticaster.java:1005)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.handleModuleDeployEvent(AdminEventMulticaster.java:992)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.processEvent(AdminEventMulticaster.java:470)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.multicastEvent(AdminEventMulticaster.java:182)\n\tat com.sun.enterprise.admin.server.core.DeploymentNotificationHelper.multicastEvent(DeploymentNotificationHelper.java:308)\n\tat com.sun.enterprise.deployment.phasing.DeploymentServiceUtils.multicastEvent(DeploymentServiceUtils.java:231)\n\tat com.sun.enterprise.deployment.phasing.ServerDeploymentTarget.sendStartEvent(ServerDeploymentTarget.java:298)\n\tat com.sun.enterprise.deployment.phasing.ApplicationStartPhase.runPhase(ApplicationStartPhase.java:132)\n\tat com.sun.enterprise.deployment.phasing.DeploymentPhase.executePhase(DeploymentPhase.java:108)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.executePhases(PEDeploymentService.java:966)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.deploy(PEDeploymentService.java:280)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.deploy(PEDeploymentService.java:298)\n\tat com.sun.enterprise.admin.mbeans.ApplicationsConfigMBean.deploy(ApplicationsConfigMBean.java:584)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat com.sun.enterprise.admin.MBeanHelper.invokeOperationInBean(MBeanHelper.java:390)\n\tat com.sun.enterprise.admin.MBeanHelper.invokeOperationInBean(MBeanHelper.java:373)\n\tat com.sun.enterprise.admin.config.BaseConfigMBean.invoke(BaseConfigMBean.java:477)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)\n\tat sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat com.sun.enterprise.admin.util.proxy.ProxyClass.invoke(ProxyClass.java:90)\n\tat $Proxy1.invoke(Unknown Source)\n\tat com.sun.enterprise.admin.server.core.jmx.SunoneInterceptor.invoke(SunoneInterceptor.java:304)\n\tat com.sun.enterprise.interceptor.DynamicInterceptor.invoke(DynamicInterceptor.java:170)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.invokeDeploymentService(AutoDeployer.java:583)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deployJavaEEArchive(AutoDeployer.java:564)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deploy(AutoDeployer.java:495)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deployAll(AutoDeployer.java:270)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployControllerImpl$AutoDeployTask.run(AutoDeployControllerImpl.java:374)\n\tat java.util.TimerThread.mainLoop(Timer.java:512)\n\tat java.util.TimerThread.run(Timer.java:462)\n|#]\n\n\nSeems there are lots of problem running openJPA 2 on glassfish...\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-02T20:18:40.619+0000","updated":"2010-01-02T20:18:40.619+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12795912","id":"12795912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"body":"Updated Configurations,java, fixes the unmodifiable exception but triggers another....\n\njava.lang.NoSuchMethodError: javax.persistence.spi.PersistenceUnitInfo.getValidationMode()Ljavax/persistence/ValidationMode","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-02T20:20:37.072+0000","updated":"2010-01-02T20:20:37.072+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12798050","id":"12798050","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drwoods","name":"drwoods","key":"drwoods","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drwoods&avatarId=20433","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drwoods&avatarId=20433","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drwoods&avatarId=20433","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drwoods&avatarId=20433"},"displayName":"Donald Woods","active":true,"timeZone":"America/New_York"},"body":"Testing the patch now against trunk.\n\nAs far as the ValidationMode problem, the M3 release used the JPA 2.0 PFD2 APIs, which there were some changes to the API dealing with the location of the validation interfaces in the final spec.  Maybe your level of Glassfish is using the final JPA2 spec apis?  If so, you'll have to grab a nightly 2.0.0-SNAPSHOT build from trunk, which uses the final JPA2 APIs.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drwoods","name":"drwoods","key":"drwoods","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drwoods&avatarId=20433","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drwoods&avatarId=20433","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drwoods&avatarId=20433","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drwoods&avatarId=20433"},"displayName":"Donald Woods","active":true,"timeZone":"America/New_York"},"created":"2010-01-08T16:05:34.241+0000","updated":"2010-01-08T16:05:34.241+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12798117","id":"12798117","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drwoods","name":"drwoods","key":"drwoods","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drwoods&avatarId=20433","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drwoods&avatarId=20433","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drwoods&avatarId=20433","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drwoods&avatarId=20433"},"displayName":"Donald Woods","active":true,"timeZone":"America/New_York"},"body":"Returned code back to what was in 1.2/1.3, which called containsProperty()","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drwoods","name":"drwoods","key":"drwoods","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drwoods&avatarId=20433","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drwoods&avatarId=20433","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drwoods&avatarId=20433","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drwoods&avatarId=20433"},"displayName":"Donald Woods","active":true,"timeZone":"America/New_York"},"created":"2010-01-08T18:23:49.939+0000","updated":"2010-01-08T18:23:49.939+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12804297","id":"12804297","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"body":"I tired again with the latest nightly build and the error is still there.\nApache svn revision: 422266:897056\n\njava.lang.UnsupportedOperationException\nat java.util.Collections$UnmodifiableMap.remove(Collections.java:1288)\nat org.apache.openjpa.lib.conf.Configurations.removeProperty(Configurations.java:681)\nat org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:157)\nat org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:59)\nat com.sun.enterprise.server.PersistenceUnitLoaderImpl.load(PersistenceUnitLoaderImpl.java:149)\nat com.sun.enterprise.server.PersistenceUnitLoaderImpl.load(PersistenceUnitLoaderImpl.java:84)\nat com.sun.enterprise.server.AbstractLoader.loadPersistenceUnits(AbstractLoader.java:895)\nat com.sun.enterprise.server.EJBModuleLoader.doLoad(EJBModuleLoader.java:165)\nat com.sun.enterprise.server.AbstractLoader.load(AbstractLoader.java:238)\nat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:233) \n\nShould I reopen this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-24T20:43:45.967+0000","updated":"2010-01-24T20:43:45.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12804301","id":"12804301","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"body":"Tried tp download the latest svn repository files and build from there.  The original problem is gone.  But I still get:\n[#|2010-01-24T22:00:56.608+0100|WARNING|sun-glassfish-comms-server1.5|javax.enterprise.system.stream.err|_ThreadID=16;_ThreadName=Timer-7;_RequestID=ac39b253-89d1-4910-b76b-a305b28e5877;|java.lang.NoSuchMethodError: javax.persistence.spi.PersistenceUnitInfo.getValidationMode()Ljavax/persistence/ValidationMode;\n\tat org.apache.openjpa.persistence.PersistenceUnitInfoImpl.toOpenJPAProperties(PersistenceUnitInfoImpl.java:457)\n\tat org.apache.openjpa.persistence.PersistenceProductDerivation.load(PersistenceProductDerivation.java:313)\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:158)\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:62)\n\tat com.sun.enterprise.server.PersistenceUnitLoaderImpl.load(PersistenceUnitLoaderImpl.java:149)\n\tat com.sun.enterprise.server.PersistenceUnitLoaderImpl.load(PersistenceUnitLoaderImpl.java:84)\n\tat com.sun.enterprise.server.AbstractLoader.loadPersistenceUnits(AbstractLoader.java:895)\n\tat com.sun.enterprise.server.EJBModuleLoader.doLoad(EJBModuleLoader.java:165)\n\tat com.sun.enterprise.server.AbstractLoader.load(AbstractLoader.java:238)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:233)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:188)\n\tat com.sun.enterprise.server.StandAloneEJBModulesManager.moduleDeployed(StandAloneEJBModulesManager.java:420)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.invokeModuleDeployEventListener(AdminEventMulticaster.java:1005)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.handleModuleDeployEvent(AdminEventMulticaster.java:992)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.processEvent(AdminEventMulticaster.java:470)\n\tat com.sun.enterprise.admin.event.AdminEventMulticaster.multicastEvent(AdminEventMulticaster.java:182)\n\tat com.sun.enterprise.admin.server.core.DeploymentNotificationHelper.multicastEvent(DeploymentNotificationHelper.java:308)\n\tat com.sun.enterprise.deployment.phasing.DeploymentServiceUtils.multicastEvent(DeploymentServiceUtils.java:231)\n\tat com.sun.enterprise.deployment.phasing.ServerDeploymentTarget.sendStartEvent(ServerDeploymentTarget.java:298)\n\tat com.sun.enterprise.deployment.phasing.ApplicationStartPhase.runPhase(ApplicationStartPhase.java:132)\n\tat com.sun.enterprise.deployment.phasing.DeploymentPhase.executePhase(DeploymentPhase.java:108)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.executePhases(PEDeploymentService.java:966)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.deploy(PEDeploymentService.java:280)\n\tat com.sun.enterprise.deployment.phasing.PEDeploymentService.deploy(PEDeploymentService.java:298)\n\tat com.sun.enterprise.admin.mbeans.ApplicationsConfigMBean.deploy(ApplicationsConfigMBean.java:584)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat com.sun.enterprise.admin.MBeanHelper.invokeOperationInBean(MBeanHelper.java:381)\n\tat com.sun.enterprise.admin.MBeanHelper.invokeOperationInBean(MBeanHelper.java:364)\n\tat com.sun.enterprise.admin.config.BaseConfigMBean.invoke(BaseConfigMBean.java:477)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)\n\tat sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat com.sun.enterprise.admin.util.proxy.ProxyClass.invoke(ProxyClass.java:90)\n\tat $Proxy1.invoke(Unknown Source)\n\tat com.sun.enterprise.admin.server.core.jmx.SunoneInterceptor.invoke(SunoneInterceptor.java:304)\n\tat com.sun.enterprise.interceptor.DynamicInterceptor.invoke(DynamicInterceptor.java:174)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.invokeDeploymentService(AutoDeployer.java:583)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deployJavaEEArchive(AutoDeployer.java:564)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deploy(AutoDeployer.java:495)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployer.deployAll(AutoDeployer.java:270)\n\tat com.sun.enterprise.deployment.autodeploy.AutoDeployControllerImpl$AutoDeployTask.run(AutoDeployControllerImpl.java:374)\n\tat java.util.TimerThread.mainLoop(Timer.java:512)\n\tat java.util.TimerThread.run(Timer.java:462)\n|#]\n\n\nRaise new issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-24T21:03:17.858+0000","updated":"2010-01-24T21:03:17.858+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12804586","id":"12804586","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=techhusky","name":"techhusky","key":"techhusky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Bauer","active":true,"timeZone":"America/Chicago"},"body":"Does the version of Glassfish you are using support JPA 2.0/EE6?  It looks like you are trying to use OpenJPA 2.0 with JPA 1.0 level spec API.  The 2.0 level spec API jar  (either from Geronimo or a version provided by Sun) is required to run OpenJPA 2.0.\n\nNote:  The OpenJPA M3 release does not match the final JPA 2.0 specification, but the most current trunk level code does.  If you get an EE6 version of Glassfish, be sure to use the most current OpenJPA trunk level code.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=techhusky","name":"techhusky","key":"techhusky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Bauer","active":true,"timeZone":"America/Chicago"},"created":"2010-01-25T16:14:33.020+0000","updated":"2010-01-25T16:14:33.020+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12806485","id":"12806485","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"body":"Glassfish 2.1 does not support EE6/JPA 2.0.\nSo no openJPA for us then... I would have thought that OpenJPA 2 would be backward compatible with JPA 2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"created":"2010-01-29T20:27:24.664+0000","updated":"2010-01-29T20:27:24.664+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12806511","id":"12806511","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=techhusky","name":"techhusky","key":"techhusky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Bauer","active":true,"timeZone":"America/Chicago"},"body":"OpenJPA 2.0 is backward compatible with OpenJPA 1.0 from an application standpoint  (ie. your apps that run on OpenJPA 1.x will continue to run on OpenJPA 2.0), but not from an environment perspective.  Your runtime environment must have the correct libraries and versions of those libraries required by OpenJPA 2.0.  This typically isn't a problem in JSE environments since you just include the required jars in your classpath and run the app.  However, it is often a problem in JEE environments since the app server vendors provide the libraries for whatever JEE spec level they support and typically don't provide a way to plug in a newer spec level of those libraries.  Thus, you need to pick up a new release of the app server with support for the newer spec level.  OpenJPA 2.0 should work with the JEE6 version of Glassfish.  (But, I haven't tried it)  There's also a WebSphere JPA 2.0 alpha[1] available that is based on OpenJPA 2.0.\n\n[1]  https://www14.software.ibm.com/iwm/web/cc/earlyprograms/websphere/wsasjpaoa/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=techhusky","name":"techhusky","key":"techhusky","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Bauer","active":true,"timeZone":"America/Chicago"},"created":"2010-01-29T21:35:50.052+0000","updated":"2010-01-29T21:35:50.052+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12830499","id":"12830499","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"body":"Verified with latest nightly build.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=baboune","name":"baboune","key":"baboune","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"seyvet@yahoo.com","active":true,"timeZone":"Etc/UTC"},"created":"2010-02-06T09:55:18.304+0000","updated":"2010-02-06T09:55:18.304+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444508/comment/12861975","id":"12861975","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"body":"> Glassfish 2.1 does not support EE6/JPA 2.0.\n> So no openJPA for us then... I would have thought that OpenJPA 2 would be backward compatible with JPA 2\n\nTo run OpenJPA 2.0 (or possibly other JPA 2.0 compliant JPA provider, my observations/experiments are based on OpenJPA only), please try the following\n\n  1. Grab a JPA 2.0 Specification JAR from somewhere. JPA 2.0 specifcation jar is not only a set of interface classes but also has concrete implementation classes. \n      The errors reported in this issue can be traced to the fact that \n          a) Glassfish V2.x includes EclipseLink library which in turn includes JPA spec classes \n          b) those spec classes are JPA 1.0 \n\n  2. Place that jar (say jpa-spec-2.0.jar) into <root>/domains/domain1/lib/ext \n      where <root> is glassfish v2.x install point\n                 domain1 is the name of the domain\n\n      That lib/ext directory is also a good place for common libraries such as JDBC driver\n\n  3. Place openjpa 2.x libraries into <root>/domains/domain1/applibs. \n\n  4. Deploy your application with --libraries option. The options should specify openjpa 2.x library name(s). You can do the same from the web-based admin console on the page\n(Web Applications -> Deploy) and fill-in 'Libraries' field.  \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-28T22:43:47.020+0000","updated":"2010-04-28T22:43:47.020+0000"}],"maxResults":12,"total":12,"startAt":0},"customfield_12311820":"0|i0zbrr:","customfield_12314139":null}}

