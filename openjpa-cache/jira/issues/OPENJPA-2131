{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12542592","self":"https://issues.apache.org/jira/rest/api/2/issue/12542592","key":"OPENJPA-2131","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315257","id":"12315257","description":"OpenJPA 2.0.x Maintenance Release","name":"2.0.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12317142","id":"12317142","description":"","name":"2.1.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12323484","id":"12323484","description":"OpenJPA 2.2.1.x Maintenance Release","name":"2.2.1.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324305","id":"12324305","description":"OpenJPA 2.2.x Maintenance Release","name":"2.2.3","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12319463","id":"12319463","description":"OpenJPA 2.3.0","name":"2.3.0","archived":false,"released":true,"releaseDate":"2013-11-24"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"227878","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316191","id":"12316191","description":"OpenJPA 2.1.x maintenance release","name":"2.1.1","archived":false,"released":true,"releaseDate":"2011-07-25"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311300","id":"12311300","name":"jdbc","description":"jdbc interface"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"201344","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zilin_chen","name":"zilin_chen","key":"zilin_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zilin Chen","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zilin_chen","name":"zilin_chen","key":"zilin_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zilin Chen","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2131/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@2eaf6f64[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@79b43583[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@64a4bd5c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3c649466[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2ca1f048[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@341e7aa7[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@75917f25[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6d4e1255[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ece8c04[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@9421c38[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@77d43262[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@6a155a77[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2012-04-05T14:07:01.345+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2131/watchers","watchCount":1,"isWatching":false},"created":"2012-02-14T20:23:53.905+0000","updated":"2016-09-21T14:38:23.229+0000","timeoriginalestimate":null,"description":"We have generate query with \n\nQuery q = em.createQuery(\"select e._name, e._id, sum(case when e._status=:pending then e._count else 0 end) from Exceptions e, Historty h where e._guid = :guid and .....\nthen set paramenters for both :pending (in select) and :guid (in where), and call q.setMaxResults(100);\n\nwith DB2, everything works fine, and DBDictionary.getSelects() and SQLBuffer.append() will invoke correctly and set parameter of :pending\n\nwith Oracle implementation, OracleDictionary.getSelects(Select sel, boolean distinctIdentifiers, boolean forUpdate) will invoke and SQLBuffer.getSQL() get to call (as two if checks are not satisfied and gos to create a new SQLBuffer instance), but this time :pending parameter will missing to add to _param List,\nEventually, we'll get Missing IN or OUT parameter exception from to execute query by preparedStatement \n\nThis bug exist in both this branch and trunk.\nWe have a work around, after SQLBuffer.getSQL() call, add some code to reset _param list.","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12521344","id":"12521344","filename":"OPENJPA-2131.22x.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"created":"2012-04-04T17:12:12.551+0000","size":3238,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12521344/OPENJPA-2131.22x.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12514711","id":"12514711","filename":"OracleInOutParameterIssue.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zilin_chen","name":"zilin_chen","key":"zilin_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zilin Chen","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-15T21:27:39.611+0000","size":2606,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12514711/OracleInOutParameterIssue.patch"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10042","value":"Patch Available","id":"10042","disabled":false}],"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"Missing IN or OUT parameter exception with OracleDictionary","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"Windows with Oracle 11g","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542592/comment/13208795","id":"13208795","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zilin_chen","name":"zilin_chen","key":"zilin_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zilin Chen","active":true,"timeZone":"Etc/UTC"},"body":"Here is code snapshot of our work around\n\n1, in the method below of org.apache.openjpa.jdbc.sql.OracleDictionary.java  (branch 2.1.x)\n\nprotected SQLBuffer getSelects(Select sel, boolean distinctIdentifiers,\n        boolean forUpdate) { \n....\n            if (alias instanceof SQLBuffer){\n                asString = ((SQLBuffer) alias).getSQL();   \n                selectSQL.appendParamOnly((SQLBuffer) alias); //add line to set parameters\n            }else{\n                asString = alias.toString();\n            }\n\n\n2, org.apache.openjpa.jdbc.sql.SQLBuffer.java  (branch 2.1.x)\n\nFrom line 110 - 136\n add a work around method appendParamOnly() and overload method append() to call updated append(SQLBuffer buf, int sqlIndex, int paramIndex,\n        boolean subsels, boolean paramOnly)  which will append _sql based on passin boolean paramOnly.\n  \n    /** \n     * Append parameters only of the given buffer at the given positions.\n     */\n    public SQLBuffer appendParamOnly(SQLBuffer buf) {\n    \tappend(buf, _sql.length(), (_params == null) ? 0 : _params.size(),\n                true, true);\n        return this;\n    }\n    \n    /**\n     * Append all SQL and parameters of the given buffer at the given positions.\n     */\n    private void append(SQLBuffer buf, int sqlIndex, int paramIndex,\n        boolean subsels) {\n    \tappend(buf, sqlIndex, paramIndex, subsels, false);\n    }\n\n    /**\n     * Append parameters and/or SQL of the given buffer at the given positions.\n     */\n    private void append(SQLBuffer buf, int sqlIndex, int paramIndex,\n        boolean subsels, boolean paramOnly) {\n        if (subsels) {\n            // only allow appending of buffers with subselects, not insertion\n            if (_subsels != null && !_subsels.isEmpty()\n                && sqlIndex != _sql.length())\n                throw new IllegalStateException();\n            if (buf._subsels != null && !buf._subsels.isEmpty()) {\n                if (sqlIndex != _sql.length())\n                    throw new IllegalStateException();\n                if (_subsels == null)\n                    _subsels = new ArrayList(buf._subsels.size());\n                for (int i = 0; i < buf._subsels.size(); i++)\n                    _subsels.add(((Subselect) buf._subsels.get(i)).\n                        clone(sqlIndex, paramIndex));\n            }\n        }\n        if(!paramOnly){\n\t        if (sqlIndex == _sql.length())\n\t            _sql.append(buf._sql.toString());\n\t        else\n\t            _sql.insert(sqlIndex, buf._sql.toString());\n        }\n.....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zilin_chen","name":"zilin_chen","key":"zilin_chen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zilin Chen","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-15T21:06:13.030+0000","updated":"2012-02-15T21:06:13.030+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542592/comment/13245598","id":"13245598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"body":"Zilin,\n\nI tried your patch and the junit passed for most dbs including Oracle 10g. However I got the 13 additional errors in TestComplexQueries using Oracle 11g with a stack similar to the following:\n\nTestComplexQueries.testComplex1 (org.apache.openjpa.persistence.query)\n    « Hide stacktrace\n    <openjpa-2.2.1-SNAPSHOT-r422266:1309047M nonfatal user error> org.apache.openjpa.persistence.ArgumentException: null\n        at org.apache.openjpa.kernel.QueryImpl.deleteInMemory(QueryImpl.java:1042)\n        at org.apache.openjpa.kernel.ExpressionStoreQuery$DataStoreExecutor.executeDelete(ExpressionStoreQuery.java:792)\n        at org.apache.openjpa.kernel.QueryImpl.delete(QueryImpl.java:1025)\n        at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:822)\n        at org.apache.openjpa.kernel.QueryImpl.deleteAll(QueryImpl.java:888)\n        at org.apache.openjpa.kernel.QueryImpl.deleteAll(QueryImpl.java:884)\n        at org.apache.openjpa.kernel.DelegatingQuery.deleteAll(DelegatingQuery.java:558)\n        at org.apache.openjpa.persistence.QueryImpl.executeUpdate(QueryImpl.java:374)\n        at org.apache.openjpa.persistence.common.utils.AbstractTestCase.deleteAll(AbstractTestCase.java:191)\n        at org.apache.openjpa.persistence.common.utils.AbstractTestCase.deleteAll(AbstractTestCase.java:202)\n        at org.apache.openjpa.persistence.query.TestComplexQueries.clear(TestComplexQueries.java:66)\n        at org.apache.openjpa.persistence.query.TestComplexQueries.setUp(TestComplexQueries.java:57)\n        at junit.framework.TestCase.runBare(TestCase.java:125)\n        at org.apache.openjpa.persistence.test.AbstractPersistenceTestCase.runBare(AbstractPersistenceTestCase.java:566)\n        at org.apache.openjpa.persistence.test.AbstractPersistenceTestCase.runBare(AbstractPersistenceTestCase.java:542)\n        at junit.framework.TestResult$1.protect(TestResult.java:106)\n        at junit.framework.TestResult.runProtected(TestResult.java:124)\n        at junit.framework.TestResult.run(TestResult.java:109)\n        at junit.framework.TestCase.run(TestCase.java:118)\n        at org.apache.openjpa.persistence.test.AbstractPersistenceTestCase.run(AbstractPersistenceTestCase.java:206)\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\n        at junit.framework.TestSuite.run(TestSuite.java:203)\n        at sun.reflect.GeneratedMethodAccessor54.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:600)\n        at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:213)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:115)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:102)\n        at org.apache.maven.surefire.Surefire.run(Surefire.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:600)\n        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:350)\n        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1021)\n    Caused by: java.lang.ArrayIndexOutOfBoundsException\n        at oracle.jdbc.driver.T4CSocketInputStreamWrapper.readLongMSB(T4CSocketInputStreamWrapper.java:201)\n        at oracle.jdbc.driver.T4CMAREngine.buffer2Value(T4CMAREngine.java:2413)\n        at oracle.jdbc.driver.T4CMAREngine.unmarshalUB4(T4CMAREngine.java:1353)\n        at oracle.jdbc.driver.T4CMAREngine.unmarshalSB4(T4CMAREngine.java:1331)\n        at oracle.jdbc.driver.T4CTTIoac.unmarshal(T4CTTIoac.java:201)\n        at oracle.jdbc.driver.T4C8TTIuds.unmarshal(T4C8TTIuds.java:139)\n        at oracle.jdbc.driver.T4CTTIdcb.receiveCommon(T4CTTIdcb.java:200)\n        at oracle.jdbc.driver.T4CTTIdcb.receive(T4CTTIdcb.java:144)\n        at oracle.jdbc.driver.T4C8Oall.readDCB(T4C8Oall.java:771)\n        at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:346)\n        at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)\n        at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:521)\n        at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:205)\n        at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:861)\n        at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1145)\n        at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1267)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3449)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3493)\n        at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1491)\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)\n        at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:267)\n        at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator$LoggingConnection$LoggingPreparedStatement.executeQuery(LoggingConnectionDecorator.java:1116)\n        at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:265)\n        at org.apache.openjpa.jdbc.kernel.JDBCStoreManager$CancelPreparedStatement.executeQuery(JDBCStoreManager.java:1750)\n        at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:255)\n        at org.apache.openjpa.jdbc.sql.SelectImpl.executeQuery(SelectImpl.java:499)\n        at org.apache.openjpa.jdbc.sql.SelectImpl.execute(SelectImpl.java:424)\n        at org.apache.openjpa.jdbc.sql.SelectImpl.execute(SelectImpl.java:391)\n        at org.apache.openjpa.jdbc.sql.LogicalUnion$UnionSelect.execute(LogicalUnion.java:427)\n        at org.apache.openjpa.jdbc.sql.LogicalUnion.execute(LogicalUnion.java:230)\n        at org.apache.openjpa.jdbc.sql.LogicalUnion.execute(LogicalUnion.java:220)\n        at org.apache.openjpa.jdbc.kernel.SelectResultObjectProvider.open(SelectResultObjectProvider.java:94)\n        at org.apache.openjpa.lib.rop.EagerResultList.<init>(EagerResultList.java:34)\n        at org.apache.openjpa.kernel.QueryImpl.toResult(QueryImpl.java:1251)\n        at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:1007)\n        at org.apache.openjpa.kernel.QueryImpl.deleteInMemory(QueryImpl.java:1031)\n        ... 34 more\n    ------- Stderr: -------\n    0  TestConv  INFO   [main] openjpa.Runtime - Starting OpenJPA 2.2.1-SNAPSHOT\n    1  TestConv  INFO   [main] openjpa.jdbc.JDBC - Using dictionary class \"org.apache.openjpa.jdbc.sql.OracleDictionary\".\n    71  TestConv  WARN   [main] openjpa.MetaData - OpenJPA cannot map field \"org.apache.openjpa.persistence.query.common.apps.RuntimeTest1.selfOneMany\" efficiently.  It is of an unsupported type. The field value will be serialized to a BLOB by default.\n\nAlbert Lee.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"created":"2012-04-03T18:59:07.867+0000","updated":"2012-04-03T18:59:07.867+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542592/comment/13246477","id":"13246477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"body":"The additional failures have nothing to do with the fix. It is caused by a JAXB problem got fixed in jaxb 2.1 (See http://www.java.net/node/661561).\n\nAfter updated openjpa pom.xml to use 2.2.1 version of jaxb, the problem goes away.\n\nAlbert Lee.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"created":"2012-04-04T17:08:08.896+0000","updated":"2012-04-04T17:08:08.896+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542592/comment/13246484","id":"13246484","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"body":"Commit Zilin patch in 2.3.0. Attach 2.2.1 patch here for posterity.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"created":"2012-04-04T17:12:12.686+0000","updated":"2012-04-04T17:12:12.686+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542592/comment/14081100","id":"14081100","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 1614935 from [~jpaheath] in branch 'openjpa/branches/2.1.x'\n[ https://svn.apache.org/r1614935 ]\n\nOPENJPA-2131: Missing IN or OUT parameter exception with OracleDictionary - back ported Albert Lee's trunk commit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-31T16:47:49.815+0000","updated":"2014-07-31T16:47:49.815+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542592/comment/14081122","id":"14081122","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 1614937 from [~jpaheath] in branch 'openjpa/branches/2.2.1.x'\n[ https://svn.apache.org/r1614937 ]\n\nOPENJPA-2131: Missing IN or OUT parameter exception with OracleDictionary - back ported Albert Lee's trunk commit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-31T17:05:30.963+0000","updated":"2014-07-31T17:05:30.963+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542592/comment/14081140","id":"14081140","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 1614939 from [~jpaheath] in branch 'openjpa/branches/2.2.x'\n[ https://svn.apache.org/r1614939 ]\n\nOPENJPA-2131: Missing IN or OUT parameter exception with OracleDictionary - back ported Albert Lee's trunk commit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-31T17:16:25.765+0000","updated":"2014-07-31T17:16:25.765+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12542592/comment/14230026","id":"14230026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 1642710 from [~fyrewyld] in branch 'openjpa/branches/2.2.x'\n[ https://svn.apache.org/r1642710 ]\n\nOPENJPA-2131: Missing IN or OUT parameter exception with OracleDictionary - added generated serialversionid","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-01T16:49:42.680+0000","updated":"2014-12-01T16:49:42.680+0000"}],"maxResults":8,"total":8,"startAt":0},"customfield_12311820":"0|i0yu33:","customfield_12314139":null}}

