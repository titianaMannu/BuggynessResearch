{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12600145","self":"https://issues.apache.org/jira/rest/api/2/issue/12600145","key":"OPENJPA-2240","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323356","id":"12323356","description":"OpenJPA 2.2.2 Release","name":"2.2.2","archived":false,"released":true,"releaseDate":"2013-04-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12319463","id":"12319463","description":"OpenJPA 2.3.0","name":"2.3.0","archived":false,"released":true,"releaseDate":"2013-11-24"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"240126","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":["enhancement","hyperjaxb3","jpa","stubs","xsd"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315910","id":"12315910","description":"OpenJPA 2.2.0 Release","name":"2.2.0","archived":false,"released":true,"releaseDate":"2012-02-20"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12319943","id":"12319943","description":"OpenJPA 2.2.1 Release","name":"2.2.1","archived":false,"released":true,"releaseDate":"2012-11-01"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12319463","id":"12319463","description":"OpenJPA 2.3.0","name":"2.3.0","archived":false,"released":true,"releaseDate":"2013-11-24"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[{"id":"12358596","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12358596","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12541722","key":"OPENJPA-2122","self":"https://issues.apache.org/jira/rest/api/2/issue/12541722","fields":{"summary":"VerifyError with Java 7 when using javaagent or dynamic container enhancement","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313630","id":"12313630","name":"Enhance","description":"Issues related to Entity enhancement. "}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"3359","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2240/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@1027efea[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@609a5448[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@599fb678[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6b959117[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4e56aad5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7af5fbb0[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5e7dbee0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@19a78111[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@625c90f2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3721cf72[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@418fdc8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@21124b53[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2013-04-10T16:03:52.760+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2240/watchers","watchCount":2,"isWatching":false},"created":"2012-07-25T10:32:53.558+0000","updated":"2013-04-10T16:03:59.387+0000","timeoriginalestimate":null,"description":"We are facing a problem with class enhancing generated by hyperjaxb3.\n\n\"Caused by: java.lang.VerifyError: JVMVRFY012 stack shape inconsistent; class=foo/Bar, metoda=pcgetDataTimeItem()Ljava/util/Date;, pc=7\"\n\nThe problem occurs on every usage of non JPA compatible type like XMLGregorianCalendar.\nFor those types, the hyperjaxb3 plugin creates a kind of \"proxy\" setter/getter that uses JPA capable type.\n\nExample of such proxy getter/setter:\n<code>\n        @Basic\n        @Column(name = \"DATATIMEITEM\")\n        @Temporal(TemporalType.TIMESTAMP)\n        public Date getDataTimeItem() {\n            return XmlAdapterUtils.unmarshall(XMLGregorianCalendarAsDateTime.class, this.getDataTime());\n        }\n</code>\n\nthen the XmlAdapterUtils.unmarshall looks like:\n\n<code>\n\tpublic static <ValueType, BoundType> BoundType unmarshall(\n\t\t\tClass<? extends XmlAdapter<ValueType, BoundType>> xmlAdapterClass,\n\t\t\tValueType v) {\n\t\ttry {\n\t\t\tfinal XmlAdapter<ValueType, BoundType> xmlAdapter = getXmlAdapter(xmlAdapterClass);\n\t\t\treturn xmlAdapter.unmarshal(v);\n\t\t} catch (Exception ex) {\n\t\t\tthrow new RuntimeException(ex);\n\t\t}\n\t}\n</code>\n\nI have found that the problem occurs only because of the type of XmlAdapterUtils.unmarshall method. The problem is that it's 1st type is a \"Class\". Changing the 1st type from Class type to any other like Object solves the problem but it is not a solution.\n\nI think the problem is somewhere in serp project as after the enhancment process of classes containing non JPA capable XSD types, each call of that class generates the JVMVRFY012 exception- even during junit tests.\n\nPlease note, that this bug is a blocker for my project.","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12542932","id":"12542932","filename":"mvn.out","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-08-29T15:32:31.615+0000","size":1668,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12542932/mvn.out"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12543056","id":"12543056","filename":"OpenJpa2240BugTestProject_v1.1.tar.gz","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-08-30T08:01:46.369+0000","size":3725,"mimeType":"application/x-gzip","content":"https://issues.apache.org/jira/secure/attachment/12543056/OpenJpa2240BugTestProject_v1.1.tar.gz"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12543430","id":"12543430","filename":"serp-1.14.1.jar","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-09-01T15:12:28.066+0000","size":206514,"mimeType":"application/java-archive","content":"https://issues.apache.org/jira/secure/attachment/12543430/serp-1.14.1.jar"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12543431","id":"12543431","filename":"serp-1.14.1.pom","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-09-01T15:12:28.067+0000","size":4601,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12543431/serp-1.14.1.pom"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"JVMVRFY012 when using openjpa together with hyperjaxb3","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"IBM-JDK, SUN-JDK","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13422470","id":"13422470","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Hmmm...  The error you reported sounds identical to the Java 7 class format errors that were corrected via https://issues.apache.org/jira/browse/OPENJPA-2122 and https://issues.apache.org/jira/browse/OPENJPA-2085.  But, both of these were resolved before the 2.2.0 release was cut...\n\nIn your Environment, you mention both the IBM and Sun JDKs.  What version of Java are you using?  I will assume Java 7 since we never experienced the VerifyError before that.  Is it possible for you to try Java 6?  I'm just looking for a quick workaround for you since figuring out the necessary changes to ASM and/or Serp will take some time (if this is a new problem).\n\nYou also mention that this affects OpenJPA 2.2.0.  Can you verify that this version is actually in use in your scenario.  And, have you tried to turn on Trace during the enhancement process to verify that ASM is getting invoked to \"clean up\" these StackMapTable issues?\n\nThanks for your help in attempting to debug this problem.\n\nKevin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-07-25T18:11:57.997+0000","updated":"2012-07-25T18:11:57.997+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13422940","id":"13422940","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"Hi Kevin,\n\nThanks for quick reply.\n\nI am using IBM-JDK as follows:\njava version \"1.6.0\"\nJava(TM) SE Runtime Environment (build pxa6460sr10-20111208_01(SR10))\nIBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 Linux amd64-64 jvmxa6460sr10-20111207_96808 (JIT enabled, AOT enabled)\nJ9VM - 20111207_096808\nJIT  - r9_20111107_21307ifx1\nGC   - 20110519_AA)\nJCL  - 20111104_02\n\nI've been testing the problem with following OpenJPA versions: 2.2.0, 2.3.0-SNAPSHOT.\nI have also tried with serp 1.14.2 w/o success.\n\nAs i said the problem disappears after removing all Class type parameters from methods invoked from enriched entities.\n\nI will try to provide some debug info in about 2 days as i have much different \"todos\" right now.\n\nGreetings\nPiotr Klimczak","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-07-26T07:21:01.555+0000","updated":"2012-07-26T07:21:01.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13422959","id":"13422959","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"As i \"cannot sleep\" because of that bug, i have tried to trace is as you wish.\nUnfortunately i have found nothing interesting:\n\n122  INFO   [main] openjpa.Tool - Enhancer running on type \"class pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\".\n133  TRACE  [main] openjpa.MetaData - Loading metadata for \"class pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\" under mode \"[META]\".\n133  TRACE  [main] openjpa.MetaData - Parsing class \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\".\n150  TRACE  [main] openjpa.MetaData - Generating default metadata for type \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\".\n151  TRACE  [main] openjpa.MetaData - Using reflection for metadata generation.\n159  TRACE  [main] openjpa.MetaData - Set persistence-capable superclass of \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\" to \"null\".\n159  TRACE  [main] openjpa.MetaData - Resolving metadata for \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne@1436046744\".\n160  TRACE  [main] openjpa.MetaData -   Resolving field \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne@1436046744.dataTimeItem\".\n163  TRACE  [main] openjpa.MetaData -   Resolving field \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne@1436046744.hjid\".\n163  TRACE  [main] openjpa.MetaData -   Resolving field \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne@1436046744.offlineId\".\n163  TRACE  [main] openjpa.MetaData -   Resolving field \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne@1436046744.retry\".\n164  TRACE  [main] openjpa.MetaData - Preparing mapping for \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\".\n164  TRACE  [main] openjpa.MetaData - Resolving mapping for \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne@1436046744\".\n164  TRACE  [main] openjpa.Enhance - Enhancing type \"class pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\" loaded by java.net.URLClassLoader@71a371a3.\n173  WARN   [main] openjpa.Enhance - Detected the following possible violations of the restrictions placed on property access persistent types:\n\"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\" uses property access, but its field \"offlineId\" is accessed directly in method \"copyTo\" defined in \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\".\n\"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\" uses property access, but its field \"offlineId\" is accessed directly in method \"copyTo\" defined in \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\".\n\"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\" uses property access, but its field \"retry\" is accessed directly in method \"copyTo\" defined in \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\".\n\"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\" uses property access, but its field \"retry\" is accessed directly in method \"copyTo\" defined in \"pl.com.bgk.smx.kgapi.contract.basics.types.BasicResponseData$Offilne\".\n\n\nThe class enhance is successful. The problem occurs on every each usage of this class by an app. Even during junit test case.\n\nIf you need more debug info i will do my best to provide it.\n\nGreetings,\nPiotr","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-07-26T08:23:42.949+0000","updated":"2012-07-26T08:23:42.949+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13423115","id":"13423115","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Thanks for the info, Piotr.  I was surprised to see that you are running Java 6.  I hadn't seen the VerifyError with Java 6, only Java 7.  In Java 7, the class verification was turned on by default.  In Java 6, this class verification was supposed to be optional.  Is there any chance that you running with class verification?  If so, can you turn it off?  Since we introduced a dependency on ASM to correct these StackMapTable errors with Java 7, is there any chance you could build/enhance with Java 7.  If that helps, then maybe we can just enable ASM for Java 6 class files as well as Java 7.  In the mean time, if I have time, I will try to reproduce the issue locally with your submitted entity definitions.  Thanks.\n\nKevin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-07-26T14:42:08.153+0000","updated":"2012-07-26T14:42:08.153+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13423133","id":"13423133","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"No problem. Will try to reproduce the problem with IBM JDK 7 tomorrow morning.\n\nPiotr","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-07-26T15:10:03.808+0000","updated":"2012-07-26T15:10:03.808+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13423441","id":"13423441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"I have been trying to reproduce the situation with no luck.  Granted, I don't have the hyperjaxb and the associated XML libraries.  But, from your description, it sounded like I should be able to reproduce the VerifyError with an extra helper getter method that called a utility method passing in a .class as the first parameter.  Just something to complicate the getter method just enough to screw up the StackMapTables.  But, I have had no luck.  As an example, here's what I added to a simple Entity class:\n\n    @Basic\n    @Column(name = \"DATATIMEITEM\")\n    @Temporal(TemporalType.TIMESTAMP)\n    public Date getDataTimeItem() {\n        //  return XmlAdapterUtils.unmarshall(XMLGregorianCalendarAsDateTime.class, this.getDataTime()); \n        return unmarshall(XMLGregorianCalendar.class, this.getDateField());\n    }\n\n    private Date unmarshall(Class<XMLGregorianCalendar> class1, Date dateField2) {\n        // TODO Auto-generated method stub\n        return dateField2;\n    }\n\nI tried this with Java6sr9 (my current default), Java6sr10 (your current Java), and Java7.  No luck with reproducing.  If you can help with narrowing down the scenario with a simpler testcase, or maybe provide the Entity classes and needed libraries to reproduce it, I'm very interested in tracking down this problem.  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-07-26T20:37:26.582+0000","updated":"2012-07-26T20:37:26.582+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13423753","id":"13423753","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"Hi Kevin!\n\nThanks again for your help.\n\nAccording to your test It is possible you have no luck because the method with Class type parameter was a static method placed in different class/file.\nIn my situation an entity getter calls:\n\n<code>\n            return XmlAdapterUtils.unmarshall(XMLGregorianCalendarAsDateTime.class, this.getDataTime());\n</code>\n\nPlease also note, the the unmarshall method was generic.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-07-27T08:50:21.102+0000","updated":"2012-07-27T08:50:21.102+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13423756","id":"13423756","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"There is very same problem on Java7.\n\nCaused by: java.lang.VerifyError: JVMVRFY012 niespójny kształt stosu; klasa=foo/BasicResponseData$Offilne, metoda=pcgetDataTimeItem()Ljava/util/Date;, pc=7\n        at java.lang.J9VMInternals.verifyImpl(Native Method)\n        at java.lang.J9VMInternals.verify(J9VMInternals.java:85)\n        at java.lang.J9VMInternals.initialize(J9VMInternals.java:162)\n        at java.lang.Class.forNameImpl(Native Method)\n        at java.lang.Class.forName(Class.java:139)\n.......\n\nTested with:\njava version \"1.7.0\"\nJava(TM) SE Runtime Environment (build pxa6470sr1-20120330_01(SR1))\nIBM J9 VM (build 2.6, JRE 1.7.0 Linux amd64-64 20120322_106209 (JIT enabled, AOT enabled)\nJ9VM - R26_Java726_SR1_20120322_1720_B106209\nJIT  - r11_20120322_22976\nGC   - R26_Java726_SR1_20120322_1720_B106209\nJ9CL - 20120322_106209)\nJCL - 20120322_01 based on Oracle 7u3-b05\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-07-27T09:02:14.150+0000","updated":"2012-07-27T09:02:21.986+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13423912","id":"13423912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Hi Piotr,\nStill no luck with reproducing the problem.  I created a separate Utility class and created this static unmarshall() method.  Still works just fine.\n\nAnd, it wasn't good to hear that your problem still exists with the Java 7 build environment.  That means that the ASM solution we put in place for Java 7 doesn't help in your situation either.  You did re-build and re-enhance with Java 7, correct?  That's where the ASM \"magic\" occurs is with the enhancement processing.\n\nCan you provide the actual Entity classes (before and after enhancement)?  If you can also provide the utility classes that would allow us to load the classes to reproduce the problem, that would be great.  Thanks!\n\nKevin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-07-27T14:58:16.041+0000","updated":"2012-07-27T14:58:16.041+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13435006","id":"13435006","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"A quick simple project reproducing reported bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-08-15T12:08:40.186+0000","updated":"2012-08-15T12:08:40.186+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13435009","id":"13435009","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"Hi Kevin,\n\nSorry for late answer- I have just returned from holidays.\nAs you can see, I have uploaded simple maven project reproducing reported bug.\n\nThe bug occurs on very simple test case that creates an instance of \"Page\" class which contains xsd:dateTime type as an XMLGregorianCalendar.\n\nI've tested it on:\n\njava version \"1.6.0_31\"\nJava(TM) SE Runtime Environment (build 1.6.0_31-b04)\nJava HotSpot(TM) 64-Bit Server VM (build 20.6-b01, mixed mode)\n\nThe result is a little different than above. Probably because of different JDK.\n-------------------------------------------------------------------------------\nTest set: pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest\n-------------------------------------------------------------------------------\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.079 sec <<< FAILURE!\ntest(pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest)  Time elapsed: 0.039 sec  <<< ERROR!\njava.lang.VerifyError: (class: pl/klimczakowie/site/dev/site/domain/Page, method: pcgetLastModItem signature: ()Ljava/util/Date;) Incompatible argument to function\n        at pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest.test(OpenJPA2240bugTest.java:34)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.junit.runners.featureSelection.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n        at org.junit.internal.runners.featureSelection.ReflectiveCallable.run(ReflectiveCallable.java:15)\n        at org.junit.runners.featureSelection.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n        at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:138)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:125)\n        at org.apache.maven.surefire.Surefire.run(Surefire.java:132)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:308)\n        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:879)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-08-15T12:11:40.695+0000","updated":"2012-08-15T14:09:15.348+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13435130","id":"13435130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"The result of uploaded project on IBM JDK 6:\n\njava version \"1.6.0\"\nJava(TM) SE Runtime Environment (build pxa6460sr9fp2-20110625_01(SR9 FP2))\nIBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 Linux amd64-64 jvmxa6460sr9-20110624_85526 (JIT enabled, AOT enabled)\nJ9VM - 20110624_085526\nJIT  - r9_20101028_17488ifx17\nGC   - 20101027_AA)\nJCL  - 20110530_01\n\nResult:\n-------------------------------------------------------------------------------\nTest set: pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest\n-------------------------------------------------------------------------------\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.103 sec <<< FAILURE!\ntest(pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest)  Time elapsed: 0.06 sec  <<< ERROR!\njava.lang.VerifyError: JVMVRFY012 stack shape inconsistent; class=pl/klimczakowie/site/dev/site/domain/Page, method=pcgetLastModItem()Ljava/util/Date;, pc=7\n        at java.lang.J9VMInternals.verifyImpl(Native Method)\n        at java.lang.J9VMInternals.verify(J9VMInternals.java:72)\n        at java.lang.J9VMInternals.initialize(J9VMInternals.java:134)\n        at pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest.test(OpenJPA2240bugTest.java:34)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n        at java.lang.reflect.Method.invoke(Method.java:611)\n        at org.junit.runners.featureSelection.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n        at org.junit.internal.runners.featureSelection.ReflectiveCallable.run(ReflectiveCallable.java:15)\n        at org.junit.runners.featureSelection.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n        at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:138)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:125)\n        at org.apache.maven.surefire.Surefire.run(Surefire.java:132)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n        at java.lang.reflect.Method.invoke(Method.java:611)\n        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:308)\n        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:879)\n\n\n\nThe result of uploaded project on IBM JDK 7:\n\njava version \"1.7.0\"\nJava(TM) SE Runtime Environment (build pxa6470sr1-20120330_01(SR1))\nIBM J9 VM (build 2.6, JRE 1.7.0 Linux amd64-64 20120322_106209 (JIT enabled, AOT enabled)\nJ9VM - R26_Java726_SR1_20120322_1720_B106209\nJIT  - r11_20120322_22976\nGC   - R26_Java726_SR1_20120322_1720_B106209\nJ9CL - 20120322_106209)\nJCL - 20120322_01 based on Oracle 7u3-b05\n\n\nResult:\n-------------------------------------------------------------------------------\nTest set: pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest\n-------------------------------------------------------------------------------\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.089 sec <<< FAILURE!\ntest(pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest)  Time elapsed: 0.048 sec  <<< ERROR!\njava.lang.VerifyError: JVMVRFY012 stack shape inconsistent; class=pl/klimczakowie/site/dev/site/domain/Page, method=pcgetLastModItem()Ljava/util/Date;, pc=7\n        at java.lang.J9VMInternals.verifyImpl(Native Method)\n        at java.lang.J9VMInternals.verify(J9VMInternals.java:85)\n        at java.lang.J9VMInternals.initialize(J9VMInternals.java:162)\n        at pl.klimczakowie.site.dev.site.domain.OpenJPA2240bugTest.test(OpenJPA2240bugTest.java:34)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n        at java.lang.reflect.Method.invoke(Method.java:613)\n        at org.junit.runners.featureSelection.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n        at org.junit.internal.runners.featureSelection.ReflectiveCallable.run(ReflectiveCallable.java:15)\n        at org.junit.runners.featureSelection.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n        at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:138)\n        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:125)\n        at org.apache.maven.surefire.Surefire.run(Surefire.java:132)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n        at java.lang.reflect.Method.invoke(Method.java:613)\n        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:308)\n        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:879)\n\n\nEach time running #mvn clean install.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-08-15T14:07:57.276+0000","updated":"2012-08-15T14:07:57.276+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13442980","id":"13442980","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"Hi Kevin!\n\nThank you for your help!\n\nDid you succeed with bug reproduction using my example project?\nDo you want me to provide more examples? Or maybe to simplify the example?\n\nGreetings,\nPiotr Klimczak\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-08-28T06:13:15.453+0000","updated":"2012-08-28T06:13:15.453+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13444060","id":"13444060","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Thank you, Piotr, for the sample.  I was out on vacation recently and just missed these updates.  I will try to reproduce with your sample and, hopefully, figure out a solution quickly...  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-08-29T13:44:40.470+0000","updated":"2012-08-29T13:44:40.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13444141","id":"13444141","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"My \"mvn clean install\" output...  Can't do some of the mvn processing...  Maybe due to an older version of maven?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-08-29T15:32:31.617+0000","updated":"2012-08-29T15:32:31.617+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13444202","id":"13444202","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Piotr, As you can see by the attachment, I tried your \"simple\" project and I seem to be having an issue with attempting to override the output directory...  I did some searching and it doesn't look like this was supposed to be overridable...  But, maybe that changed in some later version of maven?  Anyway, I don't have the project running yet...  I can see where this is a bit more involved than what I had hoped...  Running with jaxb generated entities and the XML types complicates the example just a bit...  Hopefully, you have some ideas on how to quickly get the project building.  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-08-29T16:58:02.363+0000","updated":"2012-08-29T16:58:02.363+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13444773","id":"13444773","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"Fixed Spring dep. missing form jaxb2 plugin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-08-30T08:01:46.370+0000","updated":"2012-08-30T08:01:46.370+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13444783","id":"13444783","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"I am using maven 3.0.4.\nI have reuploaded the project with one small fix- added spring-context dep. to jaxb plugin which fixes possible ClassNotFoundException during stubs generation.\n\nAccording to outputDirectory- yes, it is not docummented, but it works in older versions of maven and is extremely helpful (2.0.2 for example). In newer version 2.2+ there is a generatedSourcesDirectory which is doing same thing as outputDirectory in older versions.\nSo you can comment this line if you want or change it to \"generatedSourcesDirectory\" (if you are using newer compiler plugin), as it is responsible only for overriding the output directory of entities metamodel sources, to let them be easily accessible by eclipse (in target/jaxws as all other stubs).\n\nGreetings,\nPiotr Klimczak","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-08-30T08:16:53.279+0000","updated":"2012-08-30T08:17:46.461+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13444972","id":"13444972","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Piotr, I have now reproduced the problem.  Good news!  I did end up changing the errant outputDirectory to the generatedSourcesDirectory in the pom.xml.  I'll now take a closer look at the VerifyError.  Thanks for the sample project.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-08-30T14:08:18.604+0000","updated":"2012-08-30T14:08:18.604+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13446369","id":"13446369","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Piotr, I have found the problem.  It's in the Serp enhancement code.  It looks like Serp never expected a Class constant to be loaded via an ldc operation.  In the second edition of the JVM, the ldc was limited to loading int, long, float, double, and String.  Sometime later, this was expanded to allow loading of Class objects from the constant pool.  Serp was never updated to allow for this.\n\nYour Page.class required the loading of a Class constant for that first parameter to the unmarshall() method.  When we used Serp to create the pcgetLastMod() method, the code that was transferred over from the original getLastMod() method didn't transfer correctly because this loading of Class constants was not recognized properly.\n\nI have done a quick patch in my own environment and I can now load your enhanced Page.class.  I'm going to try our Junit bucket to see what I am going to break with this type of change.  And, then I need to figure out how to get a fix into the Serp code.  :-)  It's been so solid for so many years that nobody has had to update it.  As soon as I get something I am comfortable with, I'll post a patch so that you might try it out in your environment as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-08-31T20:58:09.197+0000","updated":"2012-08-31T20:58:09.197+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13446732","id":"13446732","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Piotr, I found an even easier solution (I hope)...  As I was checking into the updating of the Serp code, I noticed there was a later version of Serp (1.14.1) that stated, \"Fix class constant copying bug.\"  Sounds familiar, huh? So, I re-built a local copy of OpenJPA 2.2.0  and a local copy of Serp 1.14.1.  Tried your test project and all is working.  I also verified that all of the JUnits are also working.  The problem is that this version of Serp is not in the Maven Central repo...  And, I'm not exactly sure how to get it there...  It's a SourceForge project.  If anybody has any insights on how to get it published to the maven repo, let me know.  Otherwise, I'll dig into it further this weekend.\n\nIn the mean time, I'll upload a copy of the Serp 1.14.1 jar and pom in case you want to install it into your local repo and try some testing.  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-09-01T15:10:48.159+0000","updated":"2012-09-01T15:10:48.159+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13446733","id":"13446733","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Serp 1.14.1 jar and pom until we figure out how to publish these to the maven repo...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-09-01T15:12:28.068+0000","updated":"2012-09-01T15:12:28.068+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13447149","id":"13447149","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"body":"Hi Kevin!\n\nI am very happy to hear the problem is solved! :) THANKS!\n\nNow i have to wait for serp to be available in public repo. Unfortunately due to security reasons I cannot use other repos than public ones so i have to wait.\nDo you know which version of openjpa will fix the problem (public available version) and when it will be available?\n\nOnce again thanks...\nPiotr","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nannou9","name":"nannou9","key":"nannou9","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Piotr Klimczak","active":true,"timeZone":"Europe/London"},"created":"2012-09-03T07:21:18.459+0000","updated":"2012-09-03T07:21:18.459+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13449131","id":"13449131","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Piotr,\nI have figured out a way to update Maven Central with the updated Serp.  I will be fixing this dependency in OpenJPA Trunk (2.3.0-SNAPSHOT).  I have pinged the owners of the service branches (2.0.x, 2.1.x, and 2.2.x) that this issue also applies to those releases.  The tricky part is the updating of a dependency in a service stream and how that dependency update may affect other unrelated processing.  Basically, it will require additional testing -- more than the basic JUnit bucket that I will be using before integrating the change into Trunk.\n\nIf Trunk (2.3.0-SNAPSHOT) will work for you, then great, we're done.  If you require this change in a service stream (ie. 2.2.x), please indicate which one so that the appropriate changes, decisions, and testing can be done.  Thank you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-09-05T21:02:33.625+0000","updated":"2012-09-05T21:02:33.625+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600145/comment/13449639","id":"13449639","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"For future reference, I have documented how to update Serp in Maven Central as part of this JIRA:  http://openjpa.apache.org/publishing-serp-to-maven-central-repository.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2012-09-06T13:25:11.569+0000","updated":"2012-09-06T13:25:11.569+0000"}],"maxResults":25,"total":25,"startAt":0},"customfield_12311820":"0|i00xhz:","customfield_12314139":null}}

