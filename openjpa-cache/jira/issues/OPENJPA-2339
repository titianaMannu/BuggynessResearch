{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12633817","self":"https://issues.apache.org/jira/rest/api/2/issue/12633817","key":"OPENJPA-2339","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12319943","id":"12319943","description":"OpenJPA 2.2.1 Release","name":"2.2.1","archived":false,"released":true,"releaseDate":"2012-11-01"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"314311","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315910","id":"12315910","description":"OpenJPA 2.2.0 Release","name":"2.2.0","archived":false,"released":true,"releaseDate":"2012-02-20"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12319943","id":"12319943","description":"OpenJPA 2.2.1 Release","name":"2.2.1","archived":false,"released":true,"releaseDate":"2012-11-01"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[{"id":"12364938","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12364938","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12616445","key":"OPENJPA-2298","self":"https://issues.apache.org/jira/rest/api/2/issue/12616445","fields":{"summary":"VerifyError/Stack underflow due to extra 'return' statements generated by PCEnhancer.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12365194","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12365194","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12623425","key":"OPENJPA-2305","self":"https://issues.apache.org/jira/rest/api/2/issue/12623425","fields":{"summary":"Canonical MetaModel class generation should not use inhertence","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"314656","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2339/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5f90e46a[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@9d0debb[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1a71efe4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@155bcf17[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7ad5ab08[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6fd99593[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7a424943[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@31aa126b[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@66f062bd[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@45a616fd[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2dc6475b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@4c1e31c2[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2013-03-05T19:53:52.445+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2339/watchers","watchCount":3,"isWatching":false},"created":"2013-02-24T21:47:59.373+0000","updated":"2013-03-05T19:53:52.486+0000","timeoriginalestimate":null,"description":"I have a project which uses JaCoCo for code-coverage testing. Some of the tests load JPA Entities.\n\nAny JPA entities cause error messages \"Missing or invalid stackmap frames.\" in JaCoCo code, which the developers of JaCoco indicate is a problem in the code enhancing the .class file before, i.e. here Open JPA Enhancer. \n\nOPENJPA-2085 seems related, but it is fixed in 2.2.0, which I am using. Was this only fixed for Java 7?\n\nI also upgraded to serp-1.14.1, which seems to have some related fixes, but the problem persists.\n\nSee https://github.com/jacoco/eclemma/issues/35 for a related discussion.\n\nSee the attached sample project/ant-file which reproduces the problem. Simply run \"ant test\" to trigger the error.\n\nA full stacktrace is \n\n    [junit] Running MandantTest\n    [junit] java.lang.instrument.IllegalClassFormatException: Error while instrumenting class Mandant.\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.CoverageTransformer.transform(CoverageTransformer.java:91)\n    [junit]     at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    [junit]     at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:385)\n    [junit]     at java.lang.ClassLoader.defineClass1(Native Method)\n    [junit]     at java.lang.ClassLoader.defineClass(ClassLoader.java:634)\n    [junit]     at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    [junit]     at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)\n    [junit]     at java.net.URLClassLoader.access$000(URLClassLoader.java:73)\n    [junit]     at java.net.URLClassLoader$1.run(URLClassLoader.java:212)\n    [junit]     at java.security.AccessController.doPrivileged(Native Method)\n    [junit]     at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n    [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:321)\n    [junit]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\n    [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:266)\n    [junit]     at MandantTest.test(MandantTest.java:10)\n    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    [junit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    [junit]     at java.lang.reflect.Method.invoke(Method.java:616)\n    [junit]     at org.junit.runners.featureSelection.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    [junit]     at org.junit.internal.runners.featureSelection.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    [junit]     at org.junit.runners.featureSelection.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    [junit]     at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    [junit]     at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\n    [junit]     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\n    [junit]     at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\n    [junit]     at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    [junit]     at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    [junit]     at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    [junit]     at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    [junit]     at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    [junit]     at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:541)\n    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1064)\n    [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:923)\n    [junit] Caused by: java.lang.IllegalStateException: Missing or invalid stackmap frames.\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.core.internal.instr.FrameTracker.assertValidFrames(FrameTracker.java:613)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.core.internal.instr.FrameTracker.pop(FrameTracker.java:602)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.core.internal.instr.FrameTracker.visitVarInsn(FrameTracker.java:386)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.asm.MethodVisitor.visitVarInsn(Unknown Source)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.asm.MethodVisitor.visitVarInsn(Unknown Source)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.asm.tree.VarInsnNode.accept(Unknown Source)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.asm.tree.InsnList.accept(Unknown Source)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.asm.tree.MethodNode.accept(Unknown Source)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.core.internal.flow.ClassProbesAdapter$1.visitEnd(ClassProbesAdapter.java:124)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.asm.ClassReader.b(Unknown Source)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.asm.ClassReader.accept(Unknown Source)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.asm.ClassReader.accept(Unknown Source)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.core.instr.Instrumenter.instrument(Instrumenter.java:74)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.core.instr.Instrumenter.instrument(Instrumenter.java:87)\n    [junit]     at org.jacoco.agent.rt.internal_f6710df.CoverageTransformer.transform(CoverageTransformer.java:89)\n    [junit]     ... 34 more\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12570688","id":"12570688","filename":"TestJaCoCoProblem.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"created":"2013-02-24T21:53:06.142+0000","size":6368031,"mimeType":"application/zip","content":"https://issues.apache.org/jira/secure/attachment/12570688/TestJaCoCoProblem.zip"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"OpenJPA Ant enhancer task generates .class files with missing stackmap frame","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"OpenJPA 2.2.0 & 2.2.1, JaCoCo latest from git, Java 6","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13586110","id":"13586110","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Could this be related to JIRA https://issues.apache.org/jira/browse/OPENJPA-2298?  Although this issue was discovered in the Java 7 environment, your JaCoCo environment may be doing more class verification (similar to Java 7) and could have stumbled across this condition.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2013-02-25T18:40:08.324+0000","updated":"2013-02-25T18:40:08.324+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13588253","id":"13588253","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"body":"I don't know much about the things going on here, but according to https://github.com/jacoco/eclemma/issues/35 my problem is caused by missing stackmap frame information in the .class file, so it is not directly related to the bytecode-instructions, which OPENJPA-2298 seems to relate to...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"created":"2013-02-27T12:02:04.750+0000","updated":"2013-02-27T12:02:04.750+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13588454","id":"13588454","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"I should have looked at your jacoco issue #35 a bit closer...  The call stack indicates that you are using Data Nucleus, not Apache OpenJPA.  You'll have to follow up with the Data Nucleus team.  Good luck.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2013-02-27T15:50:59.327+0000","updated":"2013-02-27T15:50:59.327+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13588687","id":"13588687","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"body":"No, i am actually using OpenJPA, i just used the reference to The bug as sample what The jacoco Team thinks causes such issues. OpenJPA and data nucleus cause the same problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"created":"2013-02-27T19:52:52.921+0000","updated":"2013-02-27T19:52:52.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13588719","id":"13588719","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"body":"Have you tried running on Java7?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"created":"2013-02-27T20:29:57.447+0000","updated":"2013-02-27T20:29:57.447+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13588810","id":"13588810","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"It would seem that your JoCoCo project is doing more validation of the class files than normal Java 6 runtime processing.  The stackmap issues became apparent when customers moved to the more stringent Java 7.  If you google this topic, you'll find that just all bytecode manipulation utilities (asm, serp, etc) had issues when first running with Java 7.  Java 6 (and previous versions) had been more tolerant of stackmap inconsistencies.  But, that was no longer the case with Java 7.\n\nSo, to support Java 7, OpenJPA introduced the use of ASM to clean up our stackmap table entries after Serp did the initial bytecode enhancement.  But, we only do this extra processing when we detect a Java 7 class file.  Thus, Rick's suggestion of trying Java 7 is probably worthwhile.\n\nAlso, just to explain the changes in openjpa-2298...  These changes would apply to either Java 6 or Java 7 environments.  But, based on your stated issues, I doubt that this change alone would get you up and running.  You'll probably need the ASM post-processing cleanup of the stackmap tables.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2013-02-27T21:42:13.590+0000","updated":"2013-02-27T21:42:13.590+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13590640","id":"13590640","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"body":"Hi, thanks for the comments, I just tried it with Java 7 and with that it runs without any error, so your analysis seems to be correct. I'll do some more testing to see if Java 7 works for the whole project, there are still some open issues in JIRA, hopefully I do not trigger any of those.\n\nBTW, I get the following warning during enhancement, seems the OpenJPA enhancer still does not state that it support Java 7\n\n    warning: Supported source version 'RELEASE_6' from annotation processor 'org.apache.openjpa.persistence.meta.AnnotationProcessor6' less than -source '1.7'\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"created":"2013-03-01T15:39:50.764+0000","updated":"2013-03-01T15:40:06.893+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13590883","id":"13590883","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"The annotation processor message you referenced is from the MetaModel code generation that is performed for the Criteria API.  You're right -- that warning looks like it was missed.  Good thing is that it's benign and can be ignored.  If you want to open a child task for this, we can get that cleaned up.  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2013-03-01T19:47:24.111+0000","updated":"2013-03-01T19:47:24.111+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13593629","id":"13593629","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"It looks like Pinaki removed the @SupportedSourceVersion annotation via openjpa-2305.  This change is currently only in trunk (2.3.0-SNAPSHOT).  This change removes that warning about only supporting Java 6 source files...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2013-03-05T17:31:30.423+0000","updated":"2013-03-05T17:31:30.423+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13593637","id":"13593637","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Hi Dominik,\nSo, what should we do with this JIRA?  Are you able to move up to Java 7?  Introducing a new dependency (ASM) into older service releases is difficult and not normally looked kindly on by users.  So, we would prefer that you can move up to Java 7.  Java 7 also has several new features and performance improvements, so it should be a worthwhile exercise.  Are you okay with resolving this issue?  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2013-03-05T17:34:55.366+0000","updated":"2013-03-05T17:34:55.366+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12633817/comment/13593833","id":"13593833","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"body":"I am fine with updating to Java 7, Java 6 is out of service now anyway and this was the missing push that gott me started on migratin, therefore setting this to fixed, thanks for the support.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dominik.stadler%40gmx.at","name":"dominik.stadler@gmx.at","key":"dominik.stadler@gmx.at","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dominik Stadler","active":true,"timeZone":"Europe/Vienna"},"created":"2013-03-05T19:53:52.473+0000","updated":"2013-03-05T19:53:52.473+0000"}],"maxResults":11,"total":11,"startAt":0},"customfield_12311820":"0|i1i8mf:","customfield_12314139":null}}

