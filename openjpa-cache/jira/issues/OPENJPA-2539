{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12750258","self":"https://issues.apache.org/jira/rest/api/2/issue/12750258","key":"OPENJPA-2539","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317142","id":"12317142","description":"","name":"2.1.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12323484","id":"12323484","description":"OpenJPA 2.2.1.x Maintenance Release","name":"2.2.1.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324305","id":"12324305","description":"OpenJPA 2.2.x Maintenance Release","name":"2.2.3","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12332295","id":"12332295","description":"OpenJPA 2.4.1","name":"2.4.1","archived":false,"released":true,"releaseDate":"2016-02-21"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"9223372036854775807","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314542","id":"12314542","description":"","name":"2.1.0","archived":false,"released":true,"releaseDate":"2011-02-21"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311310","id":"12311310","name":"sql","description":"Issues to do with SQL, including generation of SQL. Issues that have to do with JDBC (i.e., execution of SQL statements and result set processing) should be filed in the jdbc component."}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2539/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@46ca9072[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@99c69b[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@69ea106b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@2709bed3[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@53f2b236[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@22011419[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1bd1217a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@71c4fbf5[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@37e184f9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1deaefc0[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@fa2c7f6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@596f9ea4[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2015-08-26T21:50:39.392+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2539/watchers","watchCount":4,"isWatching":false},"created":"2014-10-24T02:39:01.083+0000","updated":"2015-08-26T21:50:51.171+0000","timeoriginalestimate":null,"description":"I found the following issue after a few months of production of my client.\n\nI write a java batch job to process some account data for my client. \n\nAnd I found out that the JPQL interpret wrong randomly and it is not always having the same result for the same of data and code.\n\nJPQL statement:\nSELECT B\nFROM EntityA_PO A, EntityB_PO B  \nWHERE A.deletingDateTime IS NULL and A.statusCode= :app and A.someId in (:ids)  \nand B.deletingDateTime IS NULL and B.statusCode= :app2 and A.headerId = B.headerId  \nORDER BY B.someId\n\n\ntranslated to unexpected SQL:\n\nSELECT t1.HEADER_ID, t1.SOME_ID \nFROM EntityB t0 JOIN EntityB t1 ON (1 = 1) \nWHERE (t0.DELETING_DATE_TIME IS NULL AND t0.STATUS_CODE = ? AND t0.SOME_ID IN (?)\nAND t1.DELETING_DATE_TIME IS NULL AND t1.STATUS_CODE = ? AND t1.HEADER_ID = t0.HEADER_ID) \nORDER BY t1.SOME_ID ASC\n\n\nthe correct translated SQL:\n\nSELECT t1.HEADER_ID, t1.SOME_ID \nFROM EntityA t0 JOIN EntityB t1 ON (1 = 1) \nWHERE (t0.DELETING_DATE_TIME IS NULL AND t0.STATUS_CODE = ? AND t0.SOME_ID IN (?) \nAND t1.DELETING_DATE_TIME IS NULL AND t1.STATUS_CODE = ? AND t1.HEADER_ID = t0.HEADER_ID) \nORDER BY t1.SOME_ID ASC \n\nDetail:\nThe two EntityA_PO and EntityB_PO do not have any mapped relation. They are joined by a column called headerId in where clause only. \n\nThe problem and correct generated native SQL is different by one is to=Entity A , and other is to=Entity B.\n\nI don't know why the wrong one joining Entity B itself without any Entity A involvement. This situation seems to be existed randomly. I can't catch the pattern of it.\n\nIf there is any fix or workaround for this case, please let me know. Thanks","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12699414","id":"12699414","filename":"OPENJPA-2539-2.1.x_v2.test","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"created":"2015-02-18T04:11:52.914+0000","size":17461,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12699414/OPENJPA-2539-2.1.x_v2.test"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12704048","id":"12704048","filename":"OPENJPA-2539-2.1.x_v3.test","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"created":"2015-03-11T23:19:02.403+0000","size":17795,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12704048/OPENJPA-2539-2.1.x_v3.test"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12680969","id":"12680969","filename":"OPENJPA-2539-2.1.x.test","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"created":"2014-11-12T01:29:21.649+0000","size":16823,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12680969/OPENJPA-2539-2.1.x.test"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12680968","id":"12680968","filename":"schema_and_testing_sql.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"created":"2014-11-12T01:29:21.643+0000","size":6862,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12680968/schema_and_testing_sql.txt"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"JPQL interpret wrongly for inner join table (without mapped relation)","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"WebSphere v8.0","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14182802","id":"14182802","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"body":"For giggles, can you try to disable the QuerySqlCache?\n\n<property name=\"openjpa.jdbc.QuerySQLCache\" value=\"false\">\n\nIf that doesn't work, I'm going to suggest to open a PMR.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"created":"2014-10-24T14:07:23.110+0000","updated":"2014-10-24T14:07:23.110+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14186668","id":"14186668","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"body":"PMR has been opened. I am here to see whether there is any more information \nIs it really related to cached of querySQLCache ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-28T10:02:00.111+0000","updated":"2014-10-28T10:02:28.951+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14186754","id":"14186754","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"body":"Honestly I didn't have much time to dig into your issue... The reason I suggested that property is that I seem to remember seeing a number of issues when using 'IS NULL' JPQL and getting different SQL on different executions.\n\nDid you try the property see if it helped your scenario?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"created":"2014-10-28T12:25:29.127+0000","updated":"2014-10-28T12:25:29.127+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14187890","id":"14187890","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"body":"Since my client in banking field, I can't remote the testing machine to test the property easily.  I would like to gather more info so that I am confident enough to do more test on the problem. \n\nYou have mentioned that 'IS NULL' , can you evaluate more on that ? why it is a problem to use \"is null\" ? do there any example or fix on that ? Thank in advance.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-29T01:49:40.448+0000","updated":"2014-10-29T01:49:40.448+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14190119","id":"14190119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"body":"After looking a bit closer at the JPQL, I am not certain that this is related to the QuerySQLCache. It's hard to say without more data.\n\nIs this problem fairly easily repeatable? If so, posting a unit-ish test will make it much easier to diagnose the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"created":"2014-10-30T14:27:22.044+0000","updated":"2014-10-30T14:27:22.044+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14191246","id":"14191246","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"body":"This problem is not repeatable easily. I need to loop this SQL about 200k+ times to reproduce it on client machine. \nSince I am using \"in\" in the where clause,  this sql can't be cached as seem in the log of openjpa.\nI am not sure the root clause of this behavior and how to reproduce it in easier way.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"created":"2014-10-31T03:10:57.380+0000","updated":"2014-10-31T03:10:57.380+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14207487","id":"14207487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"body":"Hey Rick!  Benson sent to me a \"test\" by other means than this JIRA.  I've ran his test as-is (a simply JSE test packaged with necessary jars).  I was NOT able to recreate the issue described on my Windows machine.  As I understand it, Benson is not able to recreate on Windows either, rather he can occasionally recreate on AIX.  I've taken Benson's test and put it into a standard OpenJPA test which you can apply.  I'm also including an SQL script which you can run to set up the tables and necessary data.  I've ran the SQL against my DB2.  This is what Benson is using as well.  \n\nBenson - can you verify that you can only recreate on AIX??\n\nThanks,\n\nHeath","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"created":"2014-11-12T01:29:21.657+0000","updated":"2014-11-12T01:29:21.657+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14209829","id":"14209829","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"body":"I successfully ran the test last night against trunk on osx and mysql. I also modified the test slightly to have multiple threads execute this query in parallel. I'll try to find some time this evening to run the same scenario against 2.1.x.\n\nBenson -- Have you tried to disable the QuerySQLCache as I mentioned before? That might help us narrow in on where the problem is.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"created":"2014-11-13T14:26:14.311+0000","updated":"2014-11-13T14:26:14.311+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14209840","id":"14209840","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"body":"Rick:\nI have not tried to disable QuerySQLCache.\n\nAs the JPQL has \"in\" statement in where clause, the SQL interpreted can not be cached as stated in openJPA log.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-13T14:38:01.466+0000","updated":"2014-11-13T14:38:01.466+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14218953","id":"14218953","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"body":"Hi Rick, Health,\n\nDo you have update for me ? Please let me know your progress. Thanks\n\nBenson","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zechs","name":"zechs","key":"zechs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benson So","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-20T03:37:01.374+0000","updated":"2014-11-20T03:37:01.374+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14220337","id":"14220337","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"body":"Benson -- Sorry but I have not been able to recreate your issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=curtisr7","name":"curtisr7","key":"curtisr7","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard G. Curtis","active":true,"timeZone":"America/Chicago"},"created":"2014-11-21T01:01:00.140+0000","updated":"2014-11-21T01:01:00.140+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14325381","id":"14325381","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"body":"I have gotten to the bottom of this very tricky issue!  For history sake, or for the curious reader, I will post in great detail the means by which this issue occurs.  The details are very long, so first I'd like to provide a quick summary and get right to what I think is a solution.  For my quick summary, and your convenience, please look at method 'compilationFromCache() ' in QueryImpl here:\n\nhttp://svn.apache.org/viewvc/openjpa/branches/2.1.x/openjpa-kernel/src/main/java/org/apache/openjpa/kernel/QueryImpl.java?revision=1035834&view=markup\n\nNotice in this method we do a 'compCache.get(key)'.  In other words, we are getting a Compilation from the cache with a \"key\".  If we do not find a Compilation with the given key, we can see that in this method we will create a Compilation and at the end of the method put it into the 'compCache' using the key.  Now, imagine the case where two threads access the cache at the same time, with the same key, and there is no Compilation for the key.  BOTH threads will create one and put it into the compCache, where the last thread to put its Compilation \"wins\".  This is potentially bad because now you have two threads each with its own Compilation for the same key.  Later on when the \"losing\" thread accesses the cache to get a Compilation, it will get the one from the \"winning\" thread, not the one it had created.  As I understand it, there should only ever be one Compilation per key.  I will explain below why this becomes a problem.\nMy thinking is that 'compCache' in 'compilationFromCache' needs to be synchronized.\n\nWith that shorter introduction, let me dive into the details on why this cache issue would have an effect on generated SQL.  Apply the provided test (OPENJPA-2539-2.1.x_v2.test), and test data (schema_and_testing_sql.txt).  Let me start by looking at the spot where we have a potential race condition.  First, In QueryImpl, put a break point here:\n\ncompCache.put(key, comp)\n\n\nRun the test in debug mode, and with two threads, and you will notice that both threads will break here.  Notice that in the containing method (compilationFromCache()) that we have this code before the compCache.put:\n\n\nCompilationKey key = new CompilationKey();\n......\nCompilation comp = (Compilation) compCache.get(key);\n        \n\nAs you can see, if one thread is running slower than the other, the second thread should get the Compilation from the cache for the same key.  However, since I've deliberately set a break point at compCache.put, both threads break here and they will both put a Compilation into compCache with THE SAME key.  So, the thread which executes the 'put' last effectively wins.  \n\nNow, under most circumstances I don't think this is so bad (although ultimately I think the intentions are that only one Compilation per key would ever be added).  If it was bad we'd likely see more issues.  However, I think we need to have one more 'timing'/race condition to occur, as I'll explain, along with a few other specific things.  To help explain, I would suggest putting the following println after compCache.put:\n\n// START - ALLOW PRINT STATEMENTS\nSystem.out.println(Thread.currentThread() + \": \" + this.getClass() + \".compilationFromCache(), put a comp into the cache.\"\n                 + \" comp = \" + comp + \" and comp.datastore = \" + comp.datastore);\n// STOP - ALLOW PRINT STATEMENTS\n\nThis will tell us the Compilation instance added per thread which we will use later.  After adding this println, rerun the test (in debug mode) and take note of which thread added to the cache LAST.\n\nNext, put a break point on this line in QueryImpl, method 'compileForDataStore':\n\n(#1) if (comp.datastore == null){\n(#2)    comp.datastore = createExecutor(false);\n\nAt this time, both threads should be still stopped at compCache.put.  Allow each thread to run, which should allow them both to break on the break point at the 'if' block in 'compileForDataStore' (i.e. #1).  Notice that comp.datastore will be assigned a value returned by 'createExecutor' (keep this in mind for later).\n\n\nNext, add the following to compileForExecutor in QueryImpl (likely you'll need to re-run the test and get back to the break point in the 'if' block in 'compileForDataStore'):\n\n    private StoreQuery.Executor compileForExecutor() {\n        Compilation comp = compileForCompilation();\n        // START - ALLOW PRINT STATEMENTS\n (#3)   System.out.println(Thread.currentThread() + \": \" + this.getClass() \n          + \".compileForExecutor: comp = \" + comp + \", comp.datastore = \" + comp.datastore);\n        // STOP - ALLOW PRINT STATEMENTS\n\nPreviously I mentioned that we needed to take note of the thread which added to the compCache LAST (call it T0).  Don't run this thread, allow the OTHER thread to run (call it T1).  When you run this thread, 'comp.datastore' will be assigned a value (#2 above), and the println (#3) we just added to 'compileForExecutor' will show that T1 gets from 'compileForCompilation()' (which calls to get the Compilation from the cache) the Compilation that it put into the Compilation cache.  So at this point, T1 has worked with the Compilation it created, and the Compilation.datastore (#2) has been assigned a value.  \nNext, continue to allow thread T1 to run again.  Notice that flow will come back to #1 above, thus the break point hit.  Also notice that, the println in #3 will have made a print, meaning we executed 'compileForCompilation()', and thus got a Compilation from the cache.  Comparing the println from this thread (T1) should show that it is using the Compilation from T0!  And we know that thread T0 has just been sitting (breaking) at #1 above, so its 'comp.datastore' is null!  That means, we have to go through the 'createExecutor'!!  If thread T1 got its own Compilation, 'comp.datastore' would be non-null, and we simply would have returned!  This seems to be at the root of the issue.\n\nNow, at this point you might be wondering how in the world this would effect something as far \"downstream\" as SQL generation.  Well, to see this I'm going to skip way ahead in the test to the point where the test causes 'DBDictionary.toSQL92Join'.  Oh, you must run this test with a DB that supports SLQ92 (like DB2).  Put a break point here and let thread T1 run to this point.  In this method you will see that 'join.getTable1()' returns a 'CFP_PLAN_HEADER', but it should be 'CTR_CFP_CURRENT'.  Because of this, we generate 'FROM CFP_PLAN_HEADER t0 JOIN CFP_PLAN_HEADER t1'.  \n\nThe latter paragraph described the end results, that is, the point at which we generate the wrong SQL.  The prior part of this post describes the problem at its root with the Compilation cache.  To tie these two together would require far more details.  However, it became an exercise to walk backwards in the code to determine where the value returned by 'join.getTable1()' came from.  Basically this is set as the \"candidate type\" in the PCPath.  In this case, because the test uses a TypedQuery, at the very end of creating a TypedQuery, we set the type.  I don't think this issue exists when the test changes to Query from TypedQuery.  Anyway, the fact that this type was set, and the fact that 'createExecutor' is executed a second time (as described above) ultimately caused the issue.\n\nMy proposed fix would be to synchronize the compCache as follows:\n\n    protected Compilation compilationFromCache() {\n+        Compilation comp = null;\n        Map compCache = _broker.getConfiguration().getQueryCompilationCacheInstance();\n\n        if (compCache == null || !isParsedQuery()) {\n            return newCompilation();\n        } else {\n+            synchronized (compCache) {\n                .......<remained of method removed for brevity>......\n+            }\n        }\n        return comp;\n    }\n\nThanks,\n\nHeath","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"created":"2015-02-18T04:11:05.846+0000","updated":"2015-02-18T04:11:05.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14357785","id":"14357785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"body":"For history sake, I'm adding a final version of the test (OPENJPA-2539-2.1.x_v3.test).  Before running the test, run the schema_and_testing_sql.txt file to create the tables/data.  \n\nThanks,\n\nHeath Thomann ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jpaheath","name":"jpaheath","key":"jpaheath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Heath Thomann","active":true,"timeZone":"America/Denver"},"created":"2015-03-11T23:19:02.411+0000","updated":"2015-03-11T23:19:02.411+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14596169","id":"14596169","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 1686894 from [~jpaheath] in branch 'openjpa/branches/2.1.x'\n[ https://svn.apache.org/r1686894 ]\n\nOPENJPA-2539: Query Compilation causing inner join table to be randomly generated incorrectly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-22T16:27:06.626+0000","updated":"2015-06-22T16:27:06.626+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14596357","id":"14596357","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 1686910 from [~jpaheath] in branch 'openjpa/branches/2.2.1.x'\n[ https://svn.apache.org/r1686910 ]\n\nOPENJPA-2539: Query Compilation causing inner join table to be randomly generated incorrectly - ported changes to 2.2.1.x.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-22T18:17:50.629+0000","updated":"2015-06-22T18:17:50.629+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14596361","id":"14596361","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 1686911 from [~jpaheath] in branch 'openjpa/branches/2.2.x'\n[ https://svn.apache.org/r1686911 ]\n\nOPENJPA-2539: Query Compilation causing inner join table to be randomly generated incorrectly - ported changes to 2.2.x.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-22T18:20:54.003+0000","updated":"2015-06-22T18:20:54.003+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12750258/comment/14596374","id":"14596374","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"body":"Commit 1686913 from [~jpaheath] in branch 'openjpa/trunk'\n[ https://svn.apache.org/r1686913 ]\n\nOPENJPA-2539: Query Compilation causing inner join table to be randomly generated incorrectly - ported changes to trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","key":"jira-bot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-22T18:31:08.934+0000","updated":"2015-06-22T18:31:08.934+0000"}],"maxResults":17,"total":17,"startAt":0},"customfield_12311820":"0|i21j1j:","customfield_12314139":null}}

