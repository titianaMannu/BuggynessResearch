{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13241314","self":"https://issues.apache.org/jira/rest/api/2/issue/13241314","key":"OPENJPA-2791","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12343403","id":"12343403","name":"2.4.4","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343421","id":"12343421","description":"","name":"3.1.0","archived":false,"released":true,"releaseDate":"2019-04-14"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"9223372036854775807","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":"Exception in thread \"main\" javax.persistence.PersistenceException: Explicit persistence provider error(s) occurred for \"sccPU\" after trying the following discovered implementations: org.apache.openjpa.persistence.PersistenceProviderImpl from provider: org.apache.openjpa.persistence.PersistenceProviderImpl\r\n\tat javax.persistence.Persistence.createPersistenceException(Persistence.java:241)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:183)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:72)\r\n\tat rfpeake.sccdata.app.Main.createEntityManagerFactory(Main.java:72)\r\n\tat rfpeake.sccdata.app.Main.main(Main.java:46)\r\nCaused by: <openjpa-2.4.3-r422266:1833086 nonfatal general error> org.apache.openjpa.util.GeneralException: org.xml.sax.SAXException: file:/home/robert/git/sccdata/target/classes/META-INF/persistence.xml [Location: Line: 5, C: 64]: org.xml.sax.SAXParseException; systemId: http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd; lineNumber: 1; columnNumber: 1; Premature end of file.\r\n\tat org.apache.openjpa.lib.meta.XMLMetaDataParser.parseNewResource(XMLMetaDataParser.java:426)\r\n\tat org.apache.openjpa.lib.meta.XMLMetaDataParser.parse(XMLMetaDataParser.java:346)\r\n\tat org.apache.openjpa.lib.meta.XMLMetaDataParser.parse(XMLMetaDataParser.java:323)\r\n\tat org.apache.openjpa.lib.meta.XMLMetaDataParser.parse(XMLMetaDataParser.java:296)\r\n\tat org.apache.openjpa.persistence.PersistenceProductDerivation$ConfigurationParser.parse(PersistenceProductDerivation.java:811)\r\n\tat org.apache.openjpa.persistence.PersistenceProductDerivation.parseResources(PersistenceProductDerivation.java:576)\r\n\tat org.apache.openjpa.persistence.PersistenceProductDerivation.load(PersistenceProductDerivation.java:528)\r\n\tat org.apache.openjpa.persistence.PersistenceProductDerivation.load(PersistenceProductDerivation.java:339)\r\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createEntityManagerFactory(PersistenceProviderImpl.java:87)\r\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createEntityManagerFactory(PersistenceProviderImpl.java:155)\r\n\tat org.apache.openjpa.persistence.PersistenceProviderImpl.createEntityManagerFactory(PersistenceProviderImpl.java:63)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:149)\r\n\t... 3 more\r\n","customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["build"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12338939","id":"12338939","description":"OpenJPA 2.4.3","name":"2.4.3","archived":false,"released":true,"releaseDate":"2018-06-12"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[{"id":"12564122","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12564122","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"inwardIssue":{"id":"13223173","key":"OPENJPA-2781","self":"https://issues.apache.org/jira/rest/api/2/issue/13223173","fields":{"summary":"OpenJPA need internet connection to read the persistence.xml","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12313825":null,"assignee":null,"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311640","id":"12311640","name":"build / infrastructure","description":"Issues related to the OpenJPA build system and related development infrastructure"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12311304","id":"12311304","name":"jpa","description":"Java Persistence API interface"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10431","value":"Important","id":"10431","disabled":false}],"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2791/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7c734f96[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@49ee5b4[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4f73fcce[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3cb303d1[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ed8d846[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3777be30[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6732a19c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@433b9b20[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4b2961e9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@4125d082[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3369b77b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2c14d8ad[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2019-06-26T08:11:21.290+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-2791/watchers","watchCount":4,"isWatching":false},"created":"2019-06-24T17:58:11.321+0000","updated":"2019-06-26T15:30:24.713+0000","timeoriginalestimate":null,"description":"XMLMetaDataParser in org.apache.openjpa.lib.meta uses the SaxParser to read persistence.xml. Just within the last few days, it has begun to throw this error:\r\n{quote}org.xml.sax.SAXException: [file:/home/robert/git/sccdata/target/classes/META-INF/persistence.xml|file:///home/robert/git/sccdata/target/classes/META-INF/persistence.xml] [Location: Line: 5, C: 64]: org.xml.sax.SAXParseException; systemId: [http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd]; lineNumber: 1; columnNumber: 1; Premature end of file.\r\n{quote}\r\nResorting to XML Copy Editor to validate the schema shows the error actually involved: Fatal Error at line 0, column 0: unsupported protocol in URL. It seems that Oracle's web site has switched from HTTP to HTTPS, which is a protocol that parser cannot handle, as explained in this post:\r\n\r\n{color:#000000}[article|[https://knowledgebase.progress.com/articles/Article/Unsupported-protocol-in-URL-reading-XML-from-a-URI].]{color}\r\n\r\n{color:#000000} {color}\r\n\r\n{color:#000000}The problem has been reported elsewhere [Stack Overflow|https://stackoverflow.com/questions/56728487/org-xml-sax-saxparseexceptionpublicid-http-xmlns-jcp-org-xml-ns-persistence-p/56741356#56741356].{color}\r\n\r\n ","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"Parsing persistence.xml throws premature end of file error","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"Linux Ubuntu 18.04","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16872265","id":"16872265","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"What about simply replacing\r\n\r\nhttp://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\r\n\r\nwith\r\n\r\nhttps://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\r\n\r\nin your {{persistence.xml}}?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-25T10:58:33.194+0000","updated":"2019-06-25T10:58:33.194+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16872372","id":"16872372","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"body":"This approach has been effective for some environments, see [StackOverflow|[https://stackoverflow.com/questions/56736674/web-xml-saxparseexception-error-when-running-a-project-in-glassfish-server].] It doesn't work here because the root of the problem is that the SAXParser cannot handle the HTTPS protocol (either directly or by redirection). Others have noted that if they revert to JPA 1.0, the parser works, but probably because the request is not redirected to HTTPS (yet). Compare: \r\n\r\nrobert@matx:~$ curl -v [http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd]\r\n *   Trying 156.151.59.19...\r\n * TCP_NODELAY set\r\n * Connected to java.sun.com (156.151.59.19) port 80 (#0)\r\n > GET /xml/ns/persistence/persistence_1_0.xsd HTTP/1.1\r\n > Host: java.sun.com\r\n > User-Agent: curl/7.58.0\r\n > Accept: */*\r\n >\r\n * HTTP 1.0, assume close after body\r\n < HTTP/1.0 301 Moved Permanently\r\n < Location: [http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_1_0.xsd]\r\n < Server: BigIP\r\n < Connection: close\r\n < Content-Length: 0\r\n <\r\n * Closing connection 0\r\n\r\nwith:\r\n\r\nrobert@matx:~$ curl -v [http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd]\r\n *   Trying 104.100.103.148...\r\n * TCP_NODELAY set\r\n * Connected to xmlns.jcp.org (104.100.103.148) port 80 (#0)\r\n > GET /xml/ns/persistence/persistence_2_1.xsd HTTP/1.1\r\n > Host: xmlns.jcp.org\r\n > User-Agent: curl/7.58.0\r\n > Accept: */*\r\n > \r\n < HTTP/1.1 301 Moved Permanently\r\n < Server: AkamaiGHost\r\n < Content-Length: 0\r\n < Location: [https://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd]\r\n < Cache-Control: max-age=0\r\n < Expires: Tue, 25 Jun 2019 13:47:06 GMT\r\n < Date: Tue, 25 Jun 2019 13:47:06 GMT\r\n < Connection: keep-alive\r\n <\r\n * Connection #0 to host xmlns.jcp.org left intact\r\n\r\nNote the line Location: [http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence] in one case and [https://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd.]\r\n\r\nin the other.\r\n\r\nThe error thrown remains the same: premature end of file.\r\n\r\n<openjpa-2.4.3-r422266:1833086 nonfatal general error> org.apache.openjpa.util.GeneralException: org.xml.sax.SAXException: [file:/home/robert/git/sccdata/target/classes/META-INF/persistence.xml|file:///home/robert/git/sccdata/target/classes/META-INF/persistence.xml] [Location: Line: 5, C: 65]: org.xml.sax.SAXParseException; systemId: [https://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd]; lineNumber: 1; columnNumber: 1; Premature end of file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"created":"2019-06-25T13:59:34.716+0000","updated":"2019-06-25T15:23:36.615+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16872442","id":"16872442","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"{quote}It doesn't work here because the root of the problem is that the SAXParser cannot handle the HTTPS protocol (either directly or by redirection)\r\n{quote}\r\nThe problem seems to be more following redirects rather than https; if you put\r\n\r\n[https://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd]\r\n\r\nrather than\r\n\r\n[https://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd]\r\n\r\nit should work - at least, it works on some simple spike I've made locally:\r\n\r\n{code}\r\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n        Schema schema = schemaFactory.newSchema(\r\n                new URL(\"https://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd\"));\r\n\r\n        SAXSource source = new SAXSource(new InputSource(App.class.getResourceAsStream(\"/persistence.xml\")));\r\n\r\n        Validator validator = schema.newValidator();\r\n        validator.validate(source);\r\n{code}\r\n\r\nworks fine, while putting\r\n\r\n{code}\r\nhttps://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\r\n{code}\r\n\r\nraises the \"premature end of file\" exception as reported above.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-25T15:28:45.668+0000","updated":"2019-06-25T15:28:45.668+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16872451","id":"16872451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"This (more close to OpenJPA's {{XMLMetaDataParser}}) is also working fine:\r\n\r\n{code}\r\n        SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\r\n        saxParserFactory.setNamespaceAware(true);\r\n        saxParserFactory.setValidating(true);\r\n\r\n        SAXParser parser = saxParserFactory.newSAXParser();\r\n        parser.setProperty(\r\n                \"http://java.sun.com/xml/jaxp/properties/schemaLanguage\",\r\n                \"http://www.w3.org/2001/XMLSchema\");\r\n        parser.setProperty(\r\n                \"http://java.sun.com/xml/jaxp/properties/schemaSource\",\r\n                \"https://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd\");\r\n\r\n        parser.parse(App.class.getResourceAsStream(\"/persistence.xml\"), new DefaultHandler() {\r\n\r\n            @Override\r\n            public void error(final SAXParseException e) throws SAXException {\r\n                throw e;\r\n            }\r\n        });\r\n{code}\r\n\r\nwhile putting\r\n\r\n{code}\r\nhttps://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\r\n{code}\r\n\r\nraises again the exception as above.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-25T15:41:06.703+0000","updated":"2019-06-25T15:41:06.703+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16872538","id":"16872538","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"body":"Debugging, the actual code is effectively identical to your example until the final setProperty method. Instead of a String giving the url of the xsd file, a schema object is passed containing an input stream and a jarURLConnection, which points to the jar file at:\r\napache-tomee-webprofile-7.1.1/lib/openjpa-2.4.3.jar!/org/apache/openjpa/persistence/persistence-xsd.rsrc. That file contains the xsd schema for JPA 1.0. So the focus of investigation would seem to be how the schema object is assembled and why it is not getting the right url. The implementation is not available in the source code, as far as I can tell.\r\nLet me know if there is anything else I can check.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"created":"2019-06-25T17:06:23.269+0000","updated":"2019-06-25T17:06:23.269+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16872576","id":"16872576","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"body":"Problem solved. I replaced https://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd with https://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd and the program now builds normally. Many thanks for your help.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"created":"2019-06-25T17:58:58.426+0000","updated":"2019-06-25T17:58:58.426+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873018","id":"16873018","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"{quote}\r\nProblem solved. I replaced https://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd with https://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd and the program now builds normally. Many thanks for your help.\r\n{quote}\r\n\r\nGlad that it solves your immediate need, but I see it more as a workaround.\r\n\r\nSince the problem seems to be fetching the actual xsd content (due to multiple redirects) rather than actual SAX validation, I have re-elaborated the snippet above as follows:\r\n\r\n{code}\r\n        // first get actual xsd via httpclient, which correctly follows redirects\r\n        CloseableHttpClient httpclient = HttpClients.createDefault();\r\n        HttpGet httpget = new HttpGet(\"http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\");\r\n        CloseableHttpResponse response = httpclient.execute(httpget);\r\n\r\n        // then obtain a Schema instance for the fetched xsd content\r\n        SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n        Schema schema = schemaFactory.newSchema(new StreamSource(response.getEntity().getContent()));\r\n\r\n        // finally do SAX parsing, with validation against the Schema instance obtained above\r\n        SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\r\n        saxParserFactory.setNamespaceAware(true);\r\n        saxParserFactory.setSchema(schema);\r\n\r\n        SAXParser parser = saxParserFactory.newSAXParser();\r\n        parser.parse(App.class.getResourceAsStream(\"/persistence.xml\"), new DefaultHandler() {\r\n\r\n            @Override\r\n            public void error(final SAXParseException e) throws SAXException {\r\n                throw e;\r\n            }\r\n        });\r\n{code}\r\n\r\nThis works either in case of valid and invalid {{persistence.xml}}.\r\n\r\nHence, the actual fix for the current issue could be changing {{XMLMetaDataParser}} to work as above, but I have some doubts, especially about:\r\n\r\n# adding dependency on commons-hc\r\n# making an explicit http connection, where we might be checking if there is an HTTP proxy configured\r\n\r\n[~struberg], [~romain.manni-bucau] what do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-26T07:37:44.630+0000","updated":"2019-06-26T07:37:44.630+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873031","id":"16873031","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"{quote}\r\nmaking an explicit http connection, where we might be checking if there is an HTTP proxy configured\r\n{quote}\r\n\r\nIt seems that replacing\r\n\r\n{code}\r\n        CloseableHttpClient httpclient = HttpClients.createDefault();\r\n{code}\r\n\r\nwith\r\n\r\n{code}\r\n        CloseableHttpClient httpclient = HttpClients.createSystem();\r\n{code}\r\n\r\nshould do the trick.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-26T07:47:23.932+0000","updated":"2019-06-26T07:47:23.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873040","id":"16873040","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"body":"[~ilgrosso] think we can rewrite the xsd on the fly - we do it in tomee javaeejaxb - and ensure we use one we can resolve - likely locally. Wdyt?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"created":"2019-06-26T07:59:09.775+0000","updated":"2019-06-26T07:59:09.775+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873051","id":"16873051","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"[~romain.manni-bucau] so your proposal would be to have the {{persistence_2_1.xsd}} file into {{openjpa-lib}}'s JAR and to resolve any http*://*/persistence_2_1.xsd with that one?\r\n\r\nThis sounds interesting (and efficient), but it hasn't been done so far for other persistence xsd versions (no persistence xsd in the source tree): could that be a problem?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-26T08:06:54.829+0000","updated":"2019-06-26T08:06:54.829+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873053","id":"16873053","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"Ah no, sorry: [https://github.com/apache/openjpa/blob/2.4.x/openjpa-persistence/src/main/resources/org/apache/openjpa/persistence/persistence-xsd.rsrc]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-26T08:07:41.559+0000","updated":"2019-06-26T08:07:41.559+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873056","id":"16873056","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"Just found OPENJPA-2781, it seems OpenJPA 2.4.4 (not yet released) and 3.1.0 already bear the needed fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-26T08:09:46.446+0000","updated":"2019-06-26T08:09:46.446+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873057","id":"16873057","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=solomax","name":"solomax","key":"solomax","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=solomax&avatarId=21731","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=solomax&avatarId=21731","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=solomax&avatarId=21731","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=solomax&avatarId=21731"},"displayName":"Maxim Solodovnik","active":true,"timeZone":"Asia/Bangkok"},"body":"I have added additional xsd for master while ago","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=solomax","name":"solomax","key":"solomax","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=solomax&avatarId=21731","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=solomax&avatarId=21731","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=solomax&avatarId=21731","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=solomax&avatarId=21731"},"displayName":"Maxim Solodovnik","active":true,"timeZone":"Asia/Bangkok"},"created":"2019-06-26T08:09:51.791+0000","updated":"2019-06-26T08:09:51.791+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873059","id":"16873059","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"body":"Yes [~solomax] just noticed, I am going to close this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ilgrosso","name":"ilgrosso","key":"ilgrosso","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ilgrosso&avatarId=13240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ilgrosso&avatarId=13240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ilgrosso&avatarId=13240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ilgrosso&avatarId=13240"},"displayName":"Francesco Chicchiriccò","active":true,"timeZone":"Europe/Rome"},"created":"2019-06-26T08:11:05.752+0000","updated":"2019-06-26T08:11:05.752+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873119","id":"16873119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"body":"think so yes","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"created":"2019-06-26T09:07:51.462+0000","updated":"2019-06-26T09:07:51.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13241314/comment/16873434","id":"16873434","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"body":"So, as I understand it, your goal is to use an httpclient that can handle redirection. But if all else fails, use a static xsd file in OpenJPA, just not version 1.0, as presently implemented.  Having been out of commission for a couple of days because of this issue, I'm all in favor of a bullet-proof fall-back.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=OldSplice","name":"OldSplice","key":"oldsplice","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert F. Peake","active":true,"timeZone":"America/Phoenix"},"created":"2019-06-26T15:30:24.713+0000","updated":"2019-06-26T15:30:24.713+0000"}],"maxResults":16,"total":16,"startAt":0},"customfield_12311820":"0|z041yg:","customfield_12314139":null}}

