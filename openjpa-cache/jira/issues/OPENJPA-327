{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12376633","self":"https://issues.apache.org/jira/rest/api/2/issue/12376633","key":"OPENJPA-327","fields":{"fixVersions":[],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"160652","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312341","id":"12312341","description":"","name":"1.0.0","archived":false,"released":true,"releaseDate":"2007-08-28"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[{"id":"12325567","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12325567","type":{"id":"10020","name":"Cloners","inward":"is cloned by","outward":"is a clone of","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10020"},"inwardIssue":{"id":"12405004","key":"OPENJPA-732","self":"https://issues.apache.org/jira/rest/api/2/issue/12405004","fields":{"summary":"Updates to entities via Lifecycle callback methods ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12325566","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12325566","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12405004","key":"OPENJPA-732","self":"https://issues.apache.org/jira/rest/api/2/issue/12405004","fields":{"summary":"Updates to entities via Lifecycle callback methods ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311304","id":"12311304","name":"jpa","description":"Java Persistence API interface"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"202600","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hlai","name":"hlai","key":"hlai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Lai","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hlai","name":"hlai","key":"hlai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Lai","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-327/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@11c86347[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4fdcf7aa[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3acc25d0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1285e484[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@56880cc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@8275b2d[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@539e0d5c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6e02726f[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2fade183[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1de12968[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e362365[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@435aafc6[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2009-07-21T03:22:27.441+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-327/watchers","watchCount":3,"isWatching":false},"created":"2007-08-22T21:04:15.789+0000","updated":"2010-03-09T18:35:38.406+0000","timeoriginalestimate":null,"description":"entitylistener callback that modifies property value of the entity throws exception\n\nThe following test code produces the following exception\n\n<1.0.0-SNAPSHOT-SNAPSHOT fatal user error> org.apache.openjpa.persistence.InvalidStateException: Attempt to set column \"T1ENTITY.VER_ID\" to two different values: (class java.lang.Integer)\"2\", (class java.lang.Integer)\"3\" This can occur when you fail to set both sides of a two-sided relation between objects, or when you map different fields to the same column, but you do not keep the values of these fields in synch.\n\tat org.apache.openjpa.jdbc.sql.PrimaryRow.setObject(PrimaryRow.java:338)\n\tat org.apache.openjpa.jdbc.sql.RowImpl.setObject(RowImpl.java:505)\n\n\n\t/**\n\t * for entity with version field, and if the lifecycle listener such as\n\t * pre-persist, post-persist handler modifies the entity\n\t * then when flush is invoke, results in optimistic lock exception\n\t * \n\t * this test failes in openjpa 0.9.6\n\t * this test failes in openjpa 0.9.7\n\t * this test failes in openjpa 1.0.0\n\t * \n\t * This test case will past with either of following changes\n\t * 1) comment out em.flush();\n\t * 2) uncomment <post-update method-name=\"postUpdate\"/> in the orm.xml file \n\t *\n\t */\n\n\tpublic void testMultipleInsertWithEntityListener(){\n\t\t\n\t\tPersistenceProviderImpl openJPA = new PersistenceProviderImpl();\n\t\tEntityManagerFactory factory = \n\t\t\topenJPA.createEntityManagerFactory(\"test\", \"ptp/test/issue1/persistence.xml\",\n\t\t\t\t\t\tSystem.getProperties() );\n\t\t\n        EntityManager em = factory.createEntityManager();\n        em.getTransaction().begin();\n        T1Entity e1 = new T1Entity();\t\t\n        T1Entity e2 = new T1Entity();\t\t\n        e1.setName(\"Mickey\");\n        e2.setName(\"Goofy\");\n        \n        em.persist(e1);\n        em.flush();\t\t\t// works if this line is commented out\n        \n        em.persist(e2);\n        em.getTransaction().commit();\n        em.close();\n\t}\n\n\n\n\n\npackage ptp.test.issue1;\n\nimport java.sql.Timestamp;\n\npublic class T1EntityListener {\n\n  static int count;\n  int instNum;\n\n  public T1EntityListener() {\n\t instNum = count++;\n    System.out.println(\"T1EntityListener=\" + this + \", instance=\" + instNum );\n  }\n\n  public void preUpdate(Object entity) {\n    audit( \"preUpdate\", entity);\n  }\n\n  public void postUpdate(Object entity) {\n    audit( \"postUpdate\", entity);\n  }\n\n  public void prePersist(Object entity) {\n\t    audit( \"prePersist\", entity);\n\t  }\n\n\t  public void postPersist(Object entity) {\n\t    audit( \"postPersist\", entity);\n\t  }\n\n  public void audit(String eventName, Object entity) {\n    if (entity instanceof IAudit) {\n      IAudit auditEntity = (IAudit) entity;\n      System.out.println(\"****T1EntityListener inst=\" + instNum + \", event=\" + eventName + \", entity=\" + auditEntity + \", ver=\" + auditEntity.getVerId());\n\n      try {\n        auditEntity.setModifyDateTime(createTimeStamp());\n      } catch (Exception e) {\n        throw new RuntimeException(e);\n      }\n    }\n  }\n  \n  private Timestamp createTimeStamp() {\n\t    return new Timestamp(System.currentTimeMillis());\n\t  }\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12412879","id":"12412879","filename":"OPENJPA327-1.0.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bjreed","name":"bjreed","key":"bjreed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Barrett Jay Reed","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-08T15:53:02.639+0000","size":22619,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12412879/OPENJPA327-1.0.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12412878","id":"12412878","filename":"OPENJPA327-1.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bjreed","name":"bjreed","key":"bjreed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Barrett Jay Reed","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-08T15:53:02.587+0000","size":22247,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12412878/OPENJPA327-1.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12364354","id":"12364354","filename":"ptpissue1.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hlai","name":"hlai","key":"hlai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Lai","active":true,"timeZone":"Etc/UTC"},"created":"2007-08-22T21:06:42.423+0000","size":3763,"mimeType":"application/zip","content":"https://issues.apache.org/jira/secure/attachment/12364354/ptpissue1.zip"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"EntityListener that modify property value of a entity, causes invalid state exception","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"windows xp, jdk 5\ncode was build time enhanced","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12376633/comment/12521929","id":"12521929","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hlai","name":"hlai","key":"hlai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Lai","active":true,"timeZone":"Etc/UTC"},"body":"test case and mapping files to reproduce bug","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hlai","name":"hlai","key":"hlai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Lai","active":true,"timeZone":"Etc/UTC"},"created":"2007-08-22T21:06:42.450+0000","updated":"2007-08-22T21:06:42.450+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12376633/comment/12669593","id":"12669593","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adam.hardy%40cyberspaceroad.com","name":"adam.hardy@cyberspaceroad.com","key":"adam.hardy@cyberspaceroad.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Hardy","active":true,"timeZone":"Etc/UTC"},"body":"This bug completely disables auditing, or at least auditing based on a \"last_modified\" timestamp field with an entity listener. \n\nIt prevents users from having pre-persist, pre-update, post-persist and post-update EntityListeners with versioning.\n\nVery surprising that this issue is still outstanding in version 1.2.0 when to my untrained eye it seems as if it's not a difficult fix.\n\nHere are a few of the threads discussing it, none of which give any hint of a fix in the pipeline:\n\nhttp://n2.nabble.com/Does-anyone-meet-the-conflict-values-in-version-column--tt209013.html#none\n\nhttp://n2.nabble.com/InvalidStateException%3A-Attempt-to-set-column-%22client.version%22-to-two-different-values-tt210609.html\n\nhttp://n2.nabble.com/-jira--Created%3A-%28OPENJPA-327%29-EntityListener-that-modify-property-value-of-a-entity%2C-causes-invalid-state-exception-tt215677.html#a215679\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adam.hardy%40cyberspaceroad.com","name":"adam.hardy@cyberspaceroad.com","key":"adam.hardy@cyberspaceroad.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Hardy","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-02T13:31:11.522+0000","updated":"2009-02-02T13:31:11.522+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12376633/comment/12672539","id":"12672539","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"body":"This test case passes with Oracle on trunk version of OpenJPA.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-11T07:41:08.412+0000","updated":"2009-02-11T07:41:08.412+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12376633/comment/12675594","id":"12675594","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adam.hardy%40cyberspaceroad.com","name":"adam.hardy@cyberspaceroad.com","key":"adam.hardy@cyberspaceroad.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Hardy","active":true,"timeZone":"Etc/UTC"},"body":"I see it with mySQL and Derby. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adam.hardy%40cyberspaceroad.com","name":"adam.hardy@cyberspaceroad.com","key":"adam.hardy@cyberspaceroad.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Hardy","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-21T20:22:51.124+0000","updated":"2009-02-21T20:22:51.124+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12376633/comment/12728754","id":"12728754","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bjreed","name":"bjreed","key":"bjreed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Barrett Jay Reed","active":true,"timeZone":"Etc/UTC"},"body":"This test case is working in trunk.  Looks like the fix for https://issues.apache.org/jira/browse/OPENJPA-732 will work for this.  The above is the change to BrokerImpl and the test case....slight changes in what worked on trunk and the patch for 1.0.x and 1.2.x.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bjreed","name":"bjreed","key":"bjreed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Barrett Jay Reed","active":true,"timeZone":"Etc/UTC"},"created":"2009-07-08T15:53:02.643+0000","updated":"2009-07-08T15:53:02.643+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12376633/comment/12729300","id":"12729300","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"Hi B.J. I'm going to reattach your patches to OPENJPA-732 and apply the fix under that JIRA. It's a shame that we didn't mark 732 as a duplicate of this one when we first fixed it but I don't want to have two separate issues which essentially fix the same problem (just different releases). It'll be a little easier to just track the single issue (at least for me). \n\nThanks for the patches though!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2009-07-09T15:39:35.080+0000","updated":"2009-07-09T15:39:35.080+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12376633/comment/12729302","id":"12729302","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"Linking to OPENJPA-732 which contains the fix for this issue. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2009-07-09T15:44:53.776+0000","updated":"2009-07-09T15:44:53.776+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12376633/comment/12733456","id":"12733456","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"Resolved under OPENJPA-732. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2009-07-21T03:22:27.428+0000","updated":"2009-07-21T03:22:27.428+0000"}],"maxResults":8,"total":8,"startAt":0},"customfield_12311820":"0|i0z1u7:","customfield_12314139":null}}

