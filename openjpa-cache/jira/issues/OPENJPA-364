{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12377993","self":"https://issues.apache.org/jira/rest/api/2/issue/12377993","key":"OPENJPA-364","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312344","id":"12312344","description":"","name":"1.1.0","archived":false,"released":true,"releaseDate":"2008-05-22"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"160687","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312344","id":"12312344","description":"","name":"1.1.0","archived":false,"released":true,"releaseDate":"2008-05-22"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[{"id":"12317542","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12317542","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12377170","key":"OPENJPA-345","self":"https://issues.apache.org/jira/rest/api/2/issue/12377170","fields":{"summary":"\"openjpa\" maven module has unnecessary dependencies on other openjpa modules","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12313825":null,"assignee":null,"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311640","id":"12311640","name":"build / infrastructure","description":"Issues related to the OpenJPA build system and related development infrastructure"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"204127","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-364/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5421cc84[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5f7fe06f[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2cc4d43c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@c983553[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@9325eb8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@24d8031a[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2eb75689[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6348cca1[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@789489ee[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1cb08535[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@8279b34[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2daf6355[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2008-04-28T13:23:47.171+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-364/watchers","watchCount":0,"isWatching":false},"created":"2007-09-11T18:57:37.861+0000","updated":"2010-03-09T18:32:39.332+0000","timeoriginalestimate":null,"description":"From the dev mailing list. (http://www.nabble.com/order-of-build-modules-isn%27t-quite-right-tf4416976.html).\n\nIn short, we are building the aggregate jar before we have built the 1.5 modules.  Details follow...  BTW, this only seems to apply to the trunk (1.1.0 snapshot).  \n\n============================================================\n\n> Yes, that sounds about right.  This just recently started to happen...\n\nMaybe if we create two profiles, one for 1.4 only and one for 5.0, and\njust enable the appropriate one of them? This would increase\nrepetition (we could address that with XML entities, of course), but\nmight get things to run right.\n- Hide quoted text -\n\n-Patrick\n\nOn 9/10/07, Kevin Sutter <kwsutter@gmail.com> wrote:\n> On 9/10/07, Patrick Linskey <plinskey@gmail.com> wrote:\n> >\n> > > So, I'm not sure what has to change in our pom.xml files to allow one to\n> > > build, package, and install our aggregrate jar on the first try.  Any\n> > maven\n> > > experts that can help with this?\n> >\n> > Sadly, Marc probably knows the most, and he's on top of Mt Kilimanjaro\n> > or thereabouts right now.\n>\n>\n> Yep, and my resident build expert (Mike) is on vacation this week as well..\n> :-)\n>\n> Might this have started happening with the recent move from how the\n> > dependencies are set up, for the purposes of keeping our mvn\n> > dependencies clean?\n>\n>\n> Yes, that sounds about right.  This just recently started to happen...\n>\n> Kevin\n>\n> -Patrick\n> >\n> > On 9/10/07, Kevin Sutter <kwsutter@gmail.com> wrote:\n> > > Hi,\n> > > I'm the first to admit that I'm not a maven build expert, so I'm not\n> > exactly\n> > > sure what needs to be changed.  But, here's the problem...\n> > >\n> > > If I only want to build the artifacts and install them into my maven\n> > > repository, I issue the following maven command.  (BTW, this only\n> > happens on\n> > > a truly clean environment.  Either just pull the contents from svn or do\n> > a\n> > > separate \"mvn clean\" first like I demonstrate below.)\n> > >\n> > > > mvn clean\n> > > > mvn install\n> > >\n> > > But, when I do this, I get the following build report.  Although\n> > everything\n> > > builds okay, look at the order of the modules getting built.  We are\n> > > building the aggregrate jar and distribution jars before we build kernel\n> > 1.5,\n> > > jpa, and jpa jdbc.  Thus, the aggregrate jar that we build does not have\n> > all\n> > > of the required contents (because I have a clean environment to start\n> > with).\n> > >\n> > > [INFO]\n> > > ------------------------------------------------------------------------\n> > > [INFO] Reactor Summary:\n> > > [INFO]\n> > > ------------------------------------------------------------------------\n> > > [INFO] OpenJPA ............................................... SUCCESS [\n> > > 1.328s]\n> > > [INFO] OpenJPA Utilities ..................................... SUCCESS [\n> > > 12.265s]\n> > >\n> > > [INFO] OpenJPA Kernel ........................................ SUCCESS [\n> > > 17.703s]\n> > >\n> > > [INFO] OpenJPA JDBC .......................................... SUCCESS [\n> > > 10.063s]\n> > >\n> > > [INFO] OpenJPA XML Store ..................................... SUCCESS [\n> > > 0.969s]\n> > > [INFO] OpenJPA Aggregate Jar ................................. SUCCESS [\n> > > 17.218s]\n> > >\n> > > [INFO] OpenJPA Distribution .................................. SUCCESS [\n> > > 19.860s]\n> > >\n> > > [INFO] OpenJPA Integration Tests ............................. SUCCESS [\n> > > 0.015s]\n> > > [INFO] OpenJPA Examples Integration Tests .................... SUCCESS [\n> > > 0.016s]\n> > > [INFO] OpenJPA JPA TCK Integration Tests ..................... SUCCESS [\n> > > 0.016s]\n> > > [INFO] OpenJPA Kernel 1.5 .................................... SUCCESS [\n> > > 0.718s]\n> > > [INFO] OpenJPA JPA ........................................... SUCCESS [\n> > > 4.719s]\n> > > [INFO] OpenJPA JDBC 1.5 ...................................... SUCCESS [\n> > > 0.625s]\n> > > [INFO] OpenJPA JPA JDBC ...................................... SUCCESS [\n> > > 17.437s]\n> > >\n> > > [INFO] OpenJPA Persistence Examples .......................... SUCCESS [\n> > > 0.547s]\n> > > [INFO]\n> > > ------------------------------------------------------------------------\n> > > [INFO]\n> > > ------------------------------------------------------------------------\n> > >\n> > > I looked at our pom.xml at our root level of trunk and I see the\n> > following\n> > > <module> listing, which maps to the order of the build above:\n> > >\n> > >     <modules>\n> > >         <module>openjpa-lib</module>\n> > >         <module>openjpa-kernel</module>\n> > >         <module>openjpa-jdbc</module>\n> > >         <module>openjpa-xmlstore</module>\n> > >         <module>openjpa-all</module>\n> > >         <module>openjpa-project</module>\n> > >         <module>openjpa-integration</module>\n> > >     </modules>\n> > >\n> > > The rest of our modules are listed under the jdk1.5 profile and don't\n> > get\n> > > built until after these 1.4 modules are built.  If I re-run the exact\n> > same\n> > > invocation (without starting from scratch with the \"mvn clean\"), then\n> > > everything works since the 1.5 modules are all built and pulled into the\n> > > aggregrate jar.\n> > >\n> > > So, I'm not sure what has to change in our pom.xml files to allow one to\n> > > build, package, and install our aggregrate jar on the first try.  Any\n> > maven\n> > > experts that can help with this?\n> > >\n> > > Thanks,\n> > > Kevin\n> > >\n> >\n> >\n> > --\n> > Patrick Linskey\n> > 202 669 5907\n> >\n>\n\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12365671","id":"12365671","filename":"OPENJPA-364.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2007-09-12T20:36:47.911+0000","size":1264,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12365671/OPENJPA-364.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12365585","id":"12365585","filename":"OPENJPA-364.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fancy","name":"fancy","key":"fancy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Catalina Wei","active":true,"timeZone":"Etc/UTC"},"created":"2007-09-11T19:23:23.529+0000","size":4283,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12365585/OPENJPA-364.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12365973","id":"12365973","filename":"OPENJPA-364-3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djencks","name":"djencks","key":"djencks","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Jencks","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-09-17T04:22:33.756+0000","size":5358,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12365973/OPENJPA-364-3.patch"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"maven build order is incorrect","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":null,"customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12526564","id":"12526564","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fancy","name":"fancy","key":"fancy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Catalina Wei","active":true,"timeZone":"Etc/UTC"},"body":"my mvn knowledge is limited, but this patch seems to solve the build problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fancy","name":"fancy","key":"fancy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Catalina Wei","active":true,"timeZone":"Etc/UTC"},"created":"2007-09-11T19:23:23.640+0000","updated":"2007-09-11T19:23:23.640+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12526613","id":"12526613","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=clr","name":"clr","key":"clr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=clr&avatarId=38583","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=clr&avatarId=38583","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=clr&avatarId=38583","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=clr&avatarId=38583"},"displayName":"Craig L Russell","active":true,"timeZone":"America/Los_Angeles"},"body":"IIRC, the reason we recently changed the build was to avoid having the aggregate jar declare dependencies at runtime on the other jars, which leads to the situation where a user downloads the aggregate jar which then causes all of the other jars to be downloaded and added to the path as well. \n\nSo, can you verify that if you have a simple project that has a dependency on the aggregate jar, the only jar downloaded is the aggregate jar?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=clr","name":"clr","key":"clr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=clr&avatarId=38583","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=clr&avatarId=38583","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=clr&avatarId=38583","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=clr&avatarId=38583"},"displayName":"Craig L Russell","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-09-11T21:36:30.018+0000","updated":"2007-09-11T21:36:30.018+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12526831","id":"12526831","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Catalina's suggested patch fixes the build order, but it basically re-instates the problem that was resolved by OPENJPA-345.  Actually, if you look at the patches for these two Issues, they cancel each other out.  So, we have more work to do...\n\nKevin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2007-09-12T16:00:50.711+0000","updated":"2007-09-12T16:00:50.711+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12526904","id":"12526904","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Question:  Why do we even have the \"jdk1.5\" profile in the trunk's pom file?  I think at one time, we were attempting to use this to force the compilation of some modules with jdk1.5 and others with jdk1.4.  But, now that each of the individual module's pom files have the jdk level configured, I don't see where we need the jdk1.5 profile any longer.\n\nAs a test, I removed the jdk 1.5 profile and moved those modules to the top-level module list in the trunk's pom file.  Like Catalina's previous patch, things are working better now, but is this the \"right solution\"?\n\nI've attached the patch in case anybody wants to check it out.\n\nKevin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2007-09-12T20:36:47.993+0000","updated":"2007-09-12T20:36:47.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12527940","id":"12527940","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djencks","name":"djencks","key":"djencks","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Jencks","active":true,"timeZone":"America/Los_Angeles"},"body":"I'm not sure what the previous patch that modifies the root pom is supposed to do but I can't see why it would affect this issue.  I think what you want is to use maven scopes.  The attached patch uses scope \"provided\" for all the dependencies which basically makes them non-transitive.  In addition to not wanting to have dependencies on openjpa \"mini-jars\" I really doubt you want dependencies on the geronimo spec implementation jars.  I don't know about serp.... in my patch I left it out also.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djencks","name":"djencks","key":"djencks","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Jencks","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-09-17T04:22:33.811+0000","updated":"2007-09-17T04:22:33.811+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12528388","id":"12528388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"Thanks for the patch David!\n\nDavid's approach worked for me so I've gone ahead and committed it with one change. I didn't change the scope of serp to be provided. I think it makes sense for serp to be included since OpenJPA won't run without it. \n\nI'm a bit ambivalent regarding the geronimo specs. Its likely that users will have their own copy of these dependencies and they might prefer to pick up the version that matches their deploy environment. For JEE  this would be the app server's j2ee.jar. For JSE users will have to download a particular version. \n\nI'm leaving the JIRA open so we can discuss whether users should be expected to provide j2ee.jar (or the individual spec jars). ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2007-09-18T14:16:31.630+0000","updated":"2007-09-18T14:16:31.630+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12528430","id":"12528430","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"This one doesn't apply to the 1.0.x stream...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2007-09-18T16:25:54.505+0000","updated":"2007-09-18T16:25:54.505+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12528439","id":"12528439","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=clr","name":"clr","key":"clr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=clr&avatarId=38583","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=clr&avatarId=38583","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=clr&avatarId=38583","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=clr&avatarId=38583"},"displayName":"Craig L Russell","active":true,"timeZone":"America/Los_Angeles"},"body":"When we remove the spec jars from explicit dependency, we expose the user to class not found exceptions unless the user's pom.xml references them. \n\nIn an app server environment, this is absolutely not an issue, but in Java SE don't we need the user's pom to depend on them?\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=clr","name":"clr","key":"clr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=clr&avatarId=38583","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=clr&avatarId=38583","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=clr&avatarId=38583","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=clr&avatarId=38583"},"displayName":"Craig L Russell","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-09-18T16:55:09.240+0000","updated":"2007-09-18T16:55:09.240+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12528572","id":"12528572","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"In a JSE environment they will need the spec jars, or a copy of j2ee.jar from an app server. \n\nThe main reason I didn't include the spec jars as \"normal\" dependencies is that they're rather tough to remove. If another maven project depends on OpenJPA we would always add the Geronimo spec jars to the classpath. If for some reason that project didn't want the Geronimo implementation they'd have to manipulate maven so that a different version is loaded first. Theoretically this is as simple as listing the other dependency first, but that might depend on the maven dependency resolver. If the user wants to use the Geronimo spec jars then they don't have to do anything. \n\nThe way it currently works the user has to provide their own version of the spec jars (or j2ee.jar). They can add whichever dependency(ies) they want into pom.xml and won't have to worry about the order on the classpath. The only reason I can think of for doing this is if you're running the app in JSE to test it prior to deploying on an app server and you want to use the same version of the spec jars that are part of the app server. This is probably a corner case, but I can be persuaded otherwise. \n\nAll that being said I'd prefer to include the spec jars as \"normal\" dependencies. I think that the Geronimo implementation is TCK compliant and there shouldn't be any difference between vendors in the spec jars. Unless there are other reasons to leave them out I'll go ahead and put them back in. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2007-09-18T21:26:56.288+0000","updated":"2007-09-18T21:26:56.288+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12528891","id":"12528891","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=clr","name":"clr","key":"clr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=clr&avatarId=38583","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=clr&avatarId=38583","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=clr&avatarId=38583","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=clr&avatarId=38583"},"displayName":"Craig L Russell","active":true,"timeZone":"America/Los_Angeles"},"body":"> The main reason I didn't include the spec jars as \"normal\" dependencies is that they're rather tough to remove. \n> ...\n> The way it currently works the user has to provide their own version of the spec jars (or j2ee.jar). They can add whichever dependency(ies) they want into pom.xml and won't have to worry about the order on the classpath. \n\nAnyway, the pom.xml isn't used for deployment in a server, so this is *just* for Java SE environments.\n\n1. The user does have a choice of where to get the API definitions (from Geronimo spec jars or javaee jar or persistence jar). \n\n2. OpenJPA doesn't have a hard dependency on any of them (all OpenJPA cares about is that the definitions of the APIs are the same, which in this case they are). \n\n3. Maven will put into the classpath whatever the user's pom.xml says to.\n\nTherefore, I'd prefer to provide some good sample pom.xml dependencies but not to explicitly depend on Geronimo jars. I looked at our distributed pom.xml and they're pretty obscure. We should probably include the spec dependencies in the docs and see about adding some pom.xml examples that are really simple.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=clr","name":"clr","key":"clr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=clr&avatarId=38583","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=clr&avatarId=38583","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=clr&avatarId=38583","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=clr&avatarId=38583"},"displayName":"Craig L Russell","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-09-19T20:51:31.453+0000","updated":"2007-09-19T20:51:31.453+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12592686","id":"12592686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pcl","name":"pcl","key":"pcl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Linskey","active":true,"timeZone":"America/Los_Angeles"},"body":"This is probably a non-issue now that we've gotten rid of the multiple-java-version support.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pcl","name":"pcl","key":"pcl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Linskey","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-04-27T22:20:01.495+0000","updated":"2008-04-27T22:20:01.495+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377993/comment/12592804","id":"12592804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"I agree.  This Issue can go away.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2008-04-28T13:23:47.149+0000","updated":"2008-04-28T13:23:47.149+0000"}],"maxResults":12,"total":12,"startAt":0},"customfield_12311820":"0|i0zb9j:","customfield_12314139":null}}

