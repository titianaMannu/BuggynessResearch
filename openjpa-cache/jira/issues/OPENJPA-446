{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12382814","self":"https://issues.apache.org/jira/rest/api/2/issue/12382814","key":"OPENJPA-446","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312846","id":"12312846","description":"","name":"1.0.2","archived":false,"released":true,"releaseDate":"2008-02-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312344","id":"12312344","description":"","name":"1.1.0","archived":false,"released":true,"releaseDate":"2008-05-22"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"160768","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312687","id":"12312687","description":"","name":"1.0.1","archived":false,"released":true,"releaseDate":"2007-11-09"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[],"customfield_12313825":null,"assignee":null,"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311304","id":"12311304","name":"jpa","description":"Java Persistence API interface"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12311302","id":"12311302","name":"kernel","description":"Kernel"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"202630","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-446/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@72fe6226[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@44814e33[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@59bba1dc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@17059c0e[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6765eb3c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@177d9865[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@13cc6e17[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2892658c[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@60e647a9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1ba35560[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6b6f3cd5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@50ea8a31[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2007-11-20T16:35:20.876+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-446/watchers","watchCount":1,"isWatching":false},"created":"2007-11-19T19:50:59.699+0000","updated":"2010-03-09T18:32:42.143+0000","timeoriginalestimate":null,"description":"I would like to report some strange behavior with detach and merge. To me it looks like a bug.\n\nI'm trying implement the following strategy:\n \npersistence context A:\n  1. get persistent object\n  2. detach the object\nno persistence context:\n  3. modify the (detached) object\npersistence context B:\n  4. attach (merge) the object\n\nThis is quite simple and straight forward. It generally works except in one situation. When committing the merge() (step 4) an \"optimistic locking error\" is is thrown under the following condition: (step 3) a (String) field is set to the same text that it already contains but using a different String instance. In other words, when the following expressions are true:\n    \n    newString.equals(oldString)\n    newString != oldString\n\nI have written some test code that reproduces this effect (see Attachment).\n\nThe tests are using the same code except for one line:\n\nTest 1 sets the String to a different one than the object contains:\n    record.setContent(\"a text different than the one in the record\");\n\nTest 2 sets the String to the same instance the object contains:\n  record.setContent(record.getContent());\n\nTest 3 sets the String to the same text but as a different String instance:\n  record.setContent(record.getContent()+\"\");\n\n This is the result (output of the test run):\n----------------------------------\nTest 1: SUCCESS\nTest 2: SUCCESS\nTest 3: FAILED (Optimistic locking errors were detected when flushing \n                to the data store. The following objects may have been\n                concurrently modified in another transaction: \n                [test.Record-1])\n----------------------------------\n\nWhile doing some debugging I noticed two things:\n\n1. When setting the value:\n\nClass: org.apache.openjpa.kernel.DetachedStateManager\nLine: 555\nMethod: settingStringField()\n\n        if (cur == next || !_loaded.get(idx))\n          return;\n\nHere the old and the new value (String) is compared with the == operator.\nThe expression can be false with the same text (but different instances). I find this interesting as it matches exacly the problematic condition. I think an .equals() would fix the issue I am having. But I suppose there is something going wrong at another place as well.\n\n2. Here is the point where execution splits into different ways when calling commit().\n\nClass: org.apache.openjpa.jdbc.kernel.AbstractUpdateManager\nLine: 151\nMethod: populateRowManager()\n\n    } else if ((dirty = ImplHelper.getUpdateFields(sm)) != null) {\n\nIn the tests that succeed \"ImplHelper.getUpdateFields(sm)\" will return a BitSet. So the condition is true.\nIn the tests that fail \"ImplHelper.getUpdateFields(sm)\" will return null. So the condition is false.\n\nNote: the problem persist with OpenJPA 1.1.0-SNAPSHOT. When run without enhancing the Record class, all tests will succeed though (printing this message â€žINFO   [main] openjpa.Enhance - Creating subclass for \"[class test.Record]\". This means that your application will be less efficient and will consume more memory than it would if you ran the OpenJPA enhancer. Additionally, lazy loading will not be available for one-to-one and many-to-one persistent attributes in types using field access; they will be loaded eagerly instead.\")\n\nRegards\nJonas\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12369829","id":"12369829","filename":"detach-attach-fix.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-19T22:55:50.046+0000","size":679,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12369829/detach-attach-fix.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12369860","id":"12369860","filename":"detach-attach-fix-proper.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-20T10:11:00.787+0000","size":711,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12369860/detach-attach-fix-proper.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12369812","id":"12369812","filename":"DetachAttachTest.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-19T19:53:12.524+0000","size":2461,"mimeType":"application/force-download","content":"https://issues.apache.org/jira/secure/attachment/12369812/DetachAttachTest.zip"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12369932","id":"12369932","filename":"DetachAttachTest-updated.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-20T23:25:29.201+0000","size":2812,"mimeType":"application/octetstream","content":"https://issues.apache.org/jira/secure/attachment/12369932/DetachAttachTest-updated.zip"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"Problem when setting String fields of detached objects","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"OpenJPA 1.0.1\nJava 1.5.0_13\nMySQL Server 5.0\nMySQL Connector Java 5.0.6","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12543657","id":"12543657","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"body":"Sourcecode to reproduce the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-19T19:53:12.664+0000","updated":"2007-11-19T19:53:12.664+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12543723","id":"12543723","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"body":"I have fixed the DetachedStateManager so it correctly compares the strings (as described in \"1. When setting the value:\").\n\nI have rebuilt OpenJPA and ran all maven tests successfully.\n\nMy DetachAttachTest runs all successfull as well now.\n\nI'm attaching a patch.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-19T22:55:50.158+0000","updated":"2007-11-19T22:55:50.158+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12543839","id":"12543839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"body":"I'm sorry, the patch that I posted (detach-attach-fix.patch) is bad. I'm posting a proper one: detach-attach-fix-proper.patch.\n\nThe problem was that it did not consider a String field set to null before setting it to another value.\n\nMaybe a TestCase checking all the different situations would be a good idea.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-20T10:11:00.949+0000","updated":"2007-11-20T10:11:00.949+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12543938","id":"12543938","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"The attached patch looks good, thanks Jonas!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2007-11-20T16:35:20.829+0000","updated":"2007-11-20T16:35:20.829+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12544020","id":"12544020","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pcl","name":"pcl","key":"pcl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Linskey","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the debugging work on this.\n\nIs it ok for us to put the DetachAttachTest.zip test files into OpenJPA under the ASL license?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pcl","name":"pcl","key":"pcl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Linskey","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-11-20T19:34:29.674+0000","updated":"2007-11-20T19:34:29.674+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12544116","id":"12544116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"body":"Thanks for reviewing. It's fine for me if you put the DetachAttachTest.zip test files into OpenJPA under the ASL license. You may want to use the extended one that I just attached instead though. It also tests the null conditions and does some assertion for each test.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jop","name":"jop","key":"jop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jonas Petersen","active":true,"timeZone":"Etc/UTC"},"created":"2007-11-20T23:25:29.371+0000","updated":"2007-11-20T23:25:29.371+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12548322","id":"12548322","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sdroscher","name":"sdroscher","key":"sdroscher","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Droscher","active":true,"timeZone":"Etc/UTC"},"body":"Any reason why the same change shouldn't be made to the settingObjectField() method of DetachedStateManager ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sdroscher","name":"sdroscher","key":"sdroscher","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Droscher","active":true,"timeZone":"Etc/UTC"},"created":"2007-12-04T17:52:24.586+0000","updated":"2007-12-04T17:52:24.586+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12548941","id":"12548941","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pcl","name":"pcl","key":"pcl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Linskey","active":true,"timeZone":"America/Los_Angeles"},"body":"I think that this patch should be applied for any non-primitive setting*Field() methods.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pcl","name":"pcl","key":"pcl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Linskey","active":true,"timeZone":"America/Los_Angeles"},"created":"2007-12-06T07:04:54.388+0000","updated":"2007-12-06T07:04:54.388+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12612817","id":"12612817","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nickcodefresh","name":"nickcodefresh","key":"nickcodefresh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nick Smith","active":true,"timeZone":"Etc/UTC"},"body":"Can someone definately confirm that this has been fixed in v1.0.2? I'm experiencing the same issue but am unable to upgrade to v1.1.0 due to an incompatability with BEA Kodo.\n\nNick","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nickcodefresh","name":"nickcodefresh","key":"nickcodefresh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nick Smith","active":true,"timeZone":"Etc/UTC"},"created":"2008-07-11T09:35:26.397+0000","updated":"2008-07-11T09:35:26.397+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12382814/comment/12612890","id":"12612890","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"body":"Nick,\nTwo things you can look at.  One is the \"fix versions\".  On this JIRA Issue, the 1.0.2 version is listed as being a \"fix version\".  The other thing you can look at is the specific SVN Commits.  The changes were put into the 1.0.x release via svn revision #596737.  The 1.0.2 release was tagged at revision #628944.  So, yes, this change has been put into the 1.0.2 release.\n\nKevin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kwsutter","name":"kwsutter","key":"kwsutter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin W. Sutter","active":true,"timeZone":"America/Chicago"},"created":"2008-07-11T14:34:48.857+0000","updated":"2008-07-11T14:34:48.857+0000"}],"maxResults":10,"total":10,"startAt":0},"customfield_12311820":"0|i0z20v:","customfield_12314139":null}}

