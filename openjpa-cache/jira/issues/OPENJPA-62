{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12352341","self":"https://issues.apache.org/jira/rest/api/2/issue/12352341","key":"OPENJPA-62","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312340","id":"12312340","description":"","name":"0.9.7","archived":true,"released":true,"releaseDate":"2007-04-27"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"160399","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[],"customfield_12313825":null,"assignee":null,"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311309","id":"12311309","name":"query","description":"Issues related to query execution, including the JPQL parser and internal query representation."}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"203335","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ghongell","name":"ghongell","key":"ghongell","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Hongell","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ghongell","name":"ghongell","key":"ghongell","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Hongell","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-62/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@4220b6d3[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@14e6407[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@76228188[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@43ead17[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ba493d8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@63057490[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1c987b9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@70eec482[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1f3ba314[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@5752e597[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1aeb548b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1c274980[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2007-03-01T02:20:04.942+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-62/watchers","watchCount":0,"isWatching":false},"created":"2006-10-04T01:33:57.000+0000","updated":"2007-03-01T02:20:04.937+0000","timeoriginalestimate":null,"description":"Each of the following queries, when run by itself in a new persistence context where EmpBean and  DeptBean are not populated, \nis showing null values for DeptBean and EmpBean respectively which should be impossible for an inner join.\nOuter join queries have similar results.\nThe DataBase is populated.\nWhether or not the query is run in a transaction context does not matter.\n\nselect d,e from DeptBean d join d.emps e where e.bonus<100.02 or e.name='name2' \nselect d,e from EmpBean e join e.dept d where e.bonus<100.02 or e.name='name6' \n\n TEST1; select d,e from DeptBean d join d.emps e where e.bonus<100.02 or e.name='name2' \nDeptBean EmpBean \n~~~~~~~~ ~~~~~~~ \n  null     [1]   \n  null     [3]   \n  null     [5]   \n  null     [6]   \n [100]     [8]   \n [200]     [4]   \n [210]     [2]   \n [210]     [7]   \n [210]     [9]   \n TEST1; 9 tuples\n\n\n TEST1; select d,e from EmpBean e join e.dept d where e.bonus<100.02 or e.name='name6' \nDeptBean EmpBean \n~~~~~~~~ ~~~~~~~ \n [100]     [8]   \n [100]    null   \n [200]     [3]   \n [200]    null   \n [210]    null   \n [210]    null   \n [210]    null   \n [210]    null   \n [220]    null   \n TEST1; 9 tuples\n\nFurthermore, if either of these queries is run twice in a new persistence context, \nthe second query gets a Cannot load object with id \"1\" error.  \n\n   ACTUAL(\n TEST2; select d,e from EmpBean e join e.dept d where e.bonus<100.02 or e.name='name6' \n                                                                                                                                               d                                                                                                                                                \n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ \nCannot load object with id \"1\".  Instance \"com.ibm.ws.query.entities.objectgrid.annotated.DeptBean-1\" with the same id already exists in the L1 cache.  This can occur when you assign an existing id to a new instance, and before flushing attempt to load the existing instance for that id. \n TEST2; 1 tuple\n\nHowever, if\nselect d,e from DeptBean d join d.emps e where e.bonus<100.02 or e.name='name2' \nis proceeded by \nselect d from DeptBean d\nit gets the correct result.\nand if select d,e from EmpBean e join e.dept d where e.bonus<100.02 or e.name='name6' \nis proceeded by \nselect e from EmpBean e \nit gets the correct result.\nshould be\n TEST2; select d,e from EmpBean e join e.dept d where e.bonus<100.02 or e.name='name6' \nDeptBean EmpBean \n~~~~~~~~ ~~~~~~~ \n [100]     [6]   \n [100]     [8]   \n [200]     [3]   \n [200]     [4]   \n [210]     [1]   \n [210]     [2]   \n [210]     [7]   \n [210]     [9]   \n [220]     [5]   \n TEST2; 9 tuples)\n\n TEST2; select d,e from DeptBean d join d.emps e where e.bonus<100.02 or e.name='name2' \nDeptBean EmpBean \n~~~~~~~~ ~~~~~~~ \n [100]     [6]   \n [100]     [8]   \n [200]     [3]   \n [200]     [4]   \n [210]     [1]   \n [210]     [2]   \n [210]     [7]   \n [210]     [9]   \n [220]     [5]   \n TEST2; 9 tuples)\n\nthe database shows\nselect t0.empid, t0.dept_deptno, t0.name, t0.bonus, t0.home_street, t0.work_street FROM EmpBean t0\nEMPID :DEPT_DEPTNO :NAME :BONUS :HOME_STREET :WORK_STREET :\n1 :210 :david :0.0 :1780 Mercury Way :555 Silicon Valley Drive :\n2 :210 :andrew :0.0 :1780 Mercury Way :555 Silicon Valley Drive :\n3 :200 :minmei :0.0 :1780 Mercury Way :555 Silicon Valley Drive :\n4 :200 :george :0.0 :512 Venus Drive :555 Silicon Valley Drive :\n5 :220 :ritika :0.0 :12440 Vulcan Avenue :555 Silicon Valley Drive :\n6 :100 :ahmad :0.0 :4983 Plutonium Avenue :4983 Plutonium Avenue :\n7 :210 :charlene :0.0 :182 Martian Street :555 Silicon Valley Drive :\n8 :100 :Tom Rayburn :0.0 :6200 Vegas Drive :555 Silicon Valley Drive :\n9 :210 :harry :0.0 :150 North First Apt E1 :8900 Jupiter Park :\n10 : SQL_NULL :Catalina Wei :0.0 : SQL_NULL :555 Silicon Valley Drive :\n\nselect * from deptbean\nDEPTNO :BUDGET :NAME :MGR_EMPID :REPORTSTO_DEPTNO :\n210 :2.1 :Development :3 :200 :\n220 :2.1 :Service :4 :200 :\n300 :2.1 :Sales :6 :100 :\n200 :2.1 :Admin :8 :100 :\n100 :2.1 :CEO :10 :100 :\n\nsimple ejb queries are always correct\n TEST1; select e from EmpBean e \nEmpBean \n~~~~~~~ \n  [1]   \n  [2]   \n  [3]   \n  [4]   \n  [5]   \n  [6]   \n  [7]   \n  [8]   \n  [9]   \n [10]   \n TEST1; 10 tuples)\n\n\n TEST1; select d from DeptBean d\nDeptBean \n~~~~~~~~ \n [100]   \n [200]   \n [210]   \n [220]   \n [300]   \n TEST1; 5 tuples)\n\nthe trace statements\nfor select d,e from DeptBean d join d.emps e where e.bonus<100.02 or e.name='name2' \n359  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 615523504 SELECT t0.deptno, t1.empid, t1.bonus, t1.dept_deptno, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.home_street, t1.isManager, t1.name, t1.salary, t1.work_street FROM DeptBean t0 INNER JOIN EmpBean t1 ON t0.deptno = t1.dept_deptno WHERE ((CAST(t1.bonus AS DOUBLE) < ? OR t1.name = ?)) [params=(BigDecimal) 100.02, (String) name2]\n406  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 380245674 SELECT t0.bonus, t1.deptno, t1.budget, t1.name, t0.execLevel, t0.hireDate, t0.hireTime, t0.hireTimestamp, t2.street, t2.city, t2.state, t2.zip, t0.isManager, t0.name, t0.salary, t3.street, t3.city, t3.state, t3.zip FROM EmpBean t0 LEFT OUTER JOIN DeptBean t1 ON t0.dept_deptno = t1.deptno LEFT OUTER JOIN AddressBean t2 ON t0.home_street = t2.street LEFT OUTER JOIN AddressBean t3 ON t0.work_street = t3.street WHERE t0.empid = ? [params=(int) 100]\n469  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1021328608 SELECT t0.budget, t0.name FROM DeptBean t0 WHERE t0.deptno = ? [params=(int) 100]\n484  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1420580012 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 4983 Plutonium Avenue]\n562  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 799027104 SELECT t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary FROM DeptBean t0 INNER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid WHERE t0.deptno = ? [params=(int) 100]\n609  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 931018622 SELECT t1.deptno, t1.budget, t1.name FROM DeptBean t0 INNER JOIN DeptBean t1 ON t0.reportsTo_deptno = t1.deptno WHERE t0.deptno = ? [params=(int) 100]\n625  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1703830926 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 6200 Vegas Drive]\n625  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 494935424 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 555 Silicon Valley Drive]\n625  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1753245824 SELECT t0.bonus, t1.deptno, t1.budget, t1.name, t0.execLevel, t0.hireDate, t0.hireTime, t0.hireTimestamp, t2.street, t2.city, t2.state, t2.zip, t0.isManager, t0.name, t0.salary, t3.street, t3.city, t3.state, t3.zip FROM EmpBean t0 LEFT OUTER JOIN DeptBean t1 ON t0.dept_deptno = t1.deptno LEFT OUTER JOIN AddressBean t2 ON t0.home_street = t2.street LEFT OUTER JOIN AddressBean t3 ON t0.work_street = t3.street WHERE t0.empid = ? [params=(int) 200]\n640  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1718773362 SELECT t0.budget, t0.name FROM DeptBean t0 WHERE t0.deptno = ? [params=(int) 200]\n656  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 252841746 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 1780 Mercury Way]\n656  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1000749990 SELECT t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary FROM DeptBean t0 INNER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid WHERE t0.deptno = ? [params=(int) 200]\n656  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 2040035736 SELECT t1.deptno, t1.budget, t1.name FROM DeptBean t0 INNER JOIN DeptBean t1 ON t0.reportsTo_deptno = t1.deptno WHERE t0.deptno = ? [params=(int) 200]\n672  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 441981528 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 512 Venus Drive]\n672  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1135756210 SELECT t0.bonus, t1.deptno, t1.budget, t1.name, t0.execLevel, t0.hireDate, t0.hireTime, t0.hireTimestamp, t2.street, t2.city, t2.state, t2.zip, t0.isManager, t0.name, t0.salary, t3.street, t3.city, t3.state, t3.zip FROM EmpBean t0 LEFT OUTER JOIN DeptBean t1 ON t0.dept_deptno = t1.deptno LEFT OUTER JOIN AddressBean t2 ON t0.home_street = t2.street LEFT OUTER JOIN AddressBean t3 ON t0.work_street = t3.street WHERE t0.empid = ? [params=(int) 210]\n687  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1956672672 SELECT t0.budget, t0.name FROM DeptBean t0 WHERE t0.deptno = ? [params=(int) 210]\n687  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 497163682 SELECT t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary FROM DeptBean t0 INNER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid WHERE t0.deptno = ? [params=(int) 210]\n734  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1160398122 SELECT t1.deptno, t1.budget, t1.name FROM DeptBean t0 INNER JOIN DeptBean t1 ON t0.reportsTo_deptno = t1.deptno WHERE t0.deptno = ? [params=(int) 210]\n734  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1948939306 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 182 Martian Street]\n750  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1117667998 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 150 North First Apt E1]\n750  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1403016096 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 8900 Jupiter Park]\n765  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 1997174538 SELECT t0.bonus, t1.deptno, t1.budget, t1.name, t0.execLevel, t0.hireDate, t0.hireTime, t0.hireTimestamp, t2.street, t2.city, t2.state, t2.zip, t0.isManager, t0.name, t0.salary, t3.street, t3.city, t3.state, t3.zip FROM EmpBean t0 LEFT OUTER JOIN DeptBean t1 ON t0.dept_deptno = t1.deptno LEFT OUTER JOIN AddressBean t2 ON t0.home_street = t2.street LEFT OUTER JOIN AddressBean t3 ON t0.work_street = t3.street WHERE t0.empid = ? [params=(int) 220]\n765  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 658908998 SELECT t0.budget, t0.name FROM DeptBean t0 WHERE t0.deptno = ? [params=(int) 220]\n765  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1279413314> [0 ms] executing prepstmnt 947140724 SELECT t0.city, t0.state, t0.zip FROM AddressBean t0 WHERE t0.street = ? [params=(String) 12440 Vulcan Avenue]\n\n\nthe trace statements\nfor select d,e from EmpBean e join e.dept e where e.bonus<100.02 or e.name='name2' \n312  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 784346816 SELECT t1.deptno, t1.budget, t1.mgr_empid, t1.name, t1.reportsTo_deptno, t0.empid FROM EmpBean t0 INNER JOIN DeptBean t1 ON t0.dept_deptno = t1.deptno WHERE ((CAST(t0.bonus AS DOUBLE) < ? OR t0.name = ?)) [params=(BigDecimal) 100.02, (String) name6]\n343  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1902276962 SELECT t0.bonus, t0.execLevel, t0.hireDate, t0.hireTime, t0.hireTimestamp, t0.isManager, t0.name, t0.salary FROM EmpBean t0 WHERE t0.empid = ? [params=(int) 3]\n359  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 692463942 SELECT t0.budget, t0.name FROM DeptBean t0 WHERE t0.deptno = ? [params=(int) 200]\n375  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 288493874 SELECT t0.budget, t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary, t0.name, t2.deptno, t2.budget, t2.name FROM DeptBean t0 LEFT OUTER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid LEFT OUTER JOIN DeptBean t2 ON t0.reportsTo_deptno = t2.deptno WHERE t0.deptno = ? [params=(int) 1]\n375  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1962964224 SELECT t0.budget, t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary, t0.name, t2.deptno, t2.budget, t2.name FROM DeptBean t0 LEFT OUTER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid LEFT OUTER JOIN DeptBean t2 ON t0.reportsTo_deptno = t2.deptno WHERE t0.deptno = ? [params=(int) 2]\n375  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1125139216 SELECT t0.bonus, t0.execLevel, t0.hireDate, t0.hireTime, t0.hireTimestamp, t0.isManager, t0.name, t0.salary FROM EmpBean t0 WHERE t0.empid = ? [params=(int) 8]\n375  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1682728012 SELECT t0.budget, t0.name FROM DeptBean t0 WHERE t0.deptno = ? [params=(int) 100]\n390  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 485498096 SELECT t1.deptno, t1.budget, t1.name FROM EmpBean t0 INNER JOIN DeptBean t1 ON t0.dept_deptno = t1.deptno WHERE t0.empid = ? [params=(int) 3]\n437  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 495459720 SELECT t1.street, t1.city, t1.state, t1.zip FROM EmpBean t0 INNER JOIN AddressBean t1 ON t0.home_street = t1.street WHERE t0.empid = ? [params=(int) 3]\n468  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1370640818 SELECT t1.street, t1.city, t1.state, t1.zip FROM EmpBean t0 INNER JOIN AddressBean t1 ON t0.work_street = t1.street WHERE t0.empid = ? [params=(int) 3]\n484  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 492576092 SELECT t0.budget, t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary, t0.name, t2.deptno, t2.budget, t2.name FROM DeptBean t0 LEFT OUTER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid LEFT OUTER JOIN DeptBean t2 ON t0.reportsTo_deptno = t2.deptno WHERE t0.deptno = ? [params=(int) 4]\n500  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1356091604 SELECT t0.bonus, t0.execLevel, t0.hireDate, t0.hireTime, t0.hireTimestamp, t0.isManager, t0.name, t0.salary FROM EmpBean t0 WHERE t0.empid = ? [params=(int) 4]\n500  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1002191804 SELECT t0.budget, t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary, t0.name, t2.deptno, t2.budget, t2.name FROM DeptBean t0 LEFT OUTER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid LEFT OUTER JOIN DeptBean t2 ON t0.reportsTo_deptno = t2.deptno WHERE t0.deptno = ? [params=(int) 5]\n515  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1076117540 SELECT t0.bonus, t0.execLevel, t0.hireDate, t0.hireTime, t0.hireTimestamp, t0.isManager, t0.name, t0.salary FROM EmpBean t0 WHERE t0.empid = ? [params=(int) 10]\n515  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 104728126 SELECT t0.budget, t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary, t0.name, t2.deptno, t2.budget, t2.name FROM DeptBean t0 LEFT OUTER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid LEFT OUTER JOIN DeptBean t2 ON t0.reportsTo_deptno = t2.deptno WHERE t0.deptno = ? [params=(int) 6]\n531  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [16 ms] executing prepstmnt 591274814 SELECT t0.budget, t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary, t0.name, t2.deptno, t2.budget, t2.name FROM DeptBean t0 LEFT OUTER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid LEFT OUTER JOIN DeptBean t2 ON t0.reportsTo_deptno = t2.deptno WHERE t0.deptno = ? [params=(int) 7]\n531  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 2091941040 SELECT t1.deptno, t1.budget, t1.name FROM EmpBean t0 INNER JOIN DeptBean t1 ON t0.dept_deptno = t1.deptno WHERE t0.empid = ? [params=(int) 8]\n531  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 747777170 SELECT t1.street, t1.city, t1.state, t1.zip FROM EmpBean t0 INNER JOIN AddressBean t1 ON t0.home_street = t1.street WHERE t0.empid = ? [params=(int) 8]\n531  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 1392268028 SELECT t1.street, t1.city, t1.state, t1.zip FROM EmpBean t0 INNER JOIN AddressBean t1 ON t0.work_street = t1.street WHERE t0.empid = ? [params=(int) 8]\n546  TRACE  [main] openjpa.jdbc.SQL - <t 1094861122, conn 1164199268> [0 ms] executing prepstmnt 335680514 SELECT t0.budget, t1.empid, t1.bonus, t1.execLevel, t1.hireDate, t1.hireTime, t1.hireTimestamp, t1.isManager, t1.name, t1.salary, t0.name, t2.deptno, t2.budget, t2.name FROM DeptBean t0 LEFT OUTER JOIN EmpBean t1 ON t0.mgr_empid = t1.empid LEFT OUTER JOIN DeptBean t2 ON t0.reportsTo_deptno = t2.deptno WHERE t0.deptno = ? [params=(int) 9]\n\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12342227","id":"12342227","filename":"failureEntities.zip","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ghongell","name":"ghongell","key":"ghongell","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Hongell","active":true,"timeZone":"Etc/UTC"},"created":"2006-10-04T01:35:56.000+0000","size":7071,"mimeType":"application/x-zip-compressed","content":"https://issues.apache.org/jira/secure/attachment/12342227/failureEntities.zip"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"Ejbql join queries show invalid null Entities when run in a new persistence context where no entity instances exist.","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":"openjpa  version 443432, derby, db2","customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352341/comment/12439700","id":"12439700","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ghongell","name":"ghongell","key":"ghongell","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Hongell","active":true,"timeZone":"Etc/UTC"},"body":"attachment included to help recreate issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ghongell","name":"ghongell","key":"ghongell","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"George Hongell","active":true,"timeZone":"Etc/UTC"},"created":"2006-10-04T01:35:56.000+0000","updated":"2006-10-04T01:35:56.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352341/comment/12469307","id":"12469307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wisneskid","name":"wisneskid","key":"wisneskid","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Wisneski","active":true,"timeZone":"Etc/UTC"},"body":"fixed in recent code","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wisneskid","name":"wisneskid","key":"wisneskid","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Wisneski","active":true,"timeZone":"Etc/UTC"},"created":"2007-02-01T02:17:18.119+0000","updated":"2007-02-01T02:17:18.119+0000"}],"maxResults":2,"total":2,"startAt":0},"customfield_12311820":"0|i0z6dj:","customfield_12314139":null}}

