{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12409567","self":"https://issues.apache.org/jira/rest/api/2/issue/12409567","key":"OPENJPA-801","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313624","id":"12313624","description":"OpenJPA 2.0.0 Milestone 1","name":"2.0.0-M1","archived":false,"released":true,"releaseDate":"2009-01-29"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"161107","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313624","id":"12313624","description":"OpenJPA 2.0.0 Milestone 1","name":"2.0.0-M1","archived":false,"released":true,"releaseDate":"2009-01-29"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312619","id":"12312619","name":"slice","description":"Extends OpenJPA to work with horizontally partitioned distributed databases."}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"201729","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-801/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@44e6159b[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@36315d54[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5763eaa0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6b04d6e5[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@51351b99[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@19ec11b3[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5112cec4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@1cec99fd[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@65fcb02a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1ce454af[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5bc7dd19[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@231c84ed[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2008-12-10T12:33:15.396+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-801/watchers","watchCount":0,"isWatching":false},"created":"2008-12-01T18:18:19.630+0000","updated":"2010-03-09T18:31:04.578+0000","timeoriginalestimate":null,"description":"I get this exception when running with slices, but no exception when running without slices.  Not sure why.  Any ideas? Clues?\n\nIt looks to be expecting a \"Val\" object, but gets a \"PCPath\" object.\n\n\n\n<openjpa-2.0.0-SNAPSHOT-r422266:722060M nonfatal user error> org.apache.openjpa.persistence.ArgumentException: Failed to execute query \"select this from com.protrade.fandom.data.entities.CheerStatus this  where this.teamId = :p0 order by this.createTime desc\". Check the query syntax for correctness. See nested exception for details. \n\tat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:857)\n\tat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:779)\n\tat org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:525)\n\tat org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:257)\n\tat org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:429)\n\tat com.protrade.common.persistence.JPAUtil.execute(JPAUtil.java:192)\n\tat com.protrade.common.persistence.JPAUtil.execute(JPAUtil.java:166)\n\tat com.protrade.common.persistence.JPAUtil.executeList(JPAUtil.java:151)\n\tat com.protrade.common.persistence.JPADQuery.list(JPADQuery.java:24)\n\tat com.protrade.common.persistence.BaseRootDAOBase.runListQueryNCS(BaseRootDAOBase.java:266)\n\tat com.protrade.common.persistence.BaseDAOBase.runListQueryNCS(BaseDAOBase.java:116)\n\tat com.protrade.fandom.data.CheersDAO.getLatestCheerStatusByTeam(CheersDAO.java:61)\n\tat com.protrade.fanwars.base.components.cheer.CheerInbox.setupRender(CheerInbox.java:90)\n\tat com.protrade.fanwars.base.components.cheer.CheerInbox.setupRender(CheerInbox.java)\n\tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl$13$1.run(ComponentPageElementImpl.java:490)\n\tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl.invoke(ComponentPageElementImpl.java:912)\n\tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl.access$200(ComponentPageElementImpl.java:50)\n\tat org.apache.tapestry5.internal.structure.ComponentPageElementImpl$13.render(ComponentPageElementImpl.java:494)\n\tat org.apache.tapestry5.internal.services.RenderQueueImpl.run(RenderQueueImpl.java:72)\n\tat org.apache.tapestry5.internal.services.PageRenderQueueImpl.render(PageRenderQueueImpl.java:121)\n\tat $PageRenderQueue_11df3c111bb.render($PageRenderQueue_11df3c111bb.java)\n\tat $PageRenderQueue_11df3c111b1.render($PageRenderQueue_11df3c111b1.java)\n\tat org.apache.tapestry5.services.TapestryModule$19.renderMarkup(TapestryModule.java:1208)\n\tat com.protrade.tapestry5.base.services.GoogleAdManagerServices$GoogleAdManagerMarkupRenderFilter.renderMarkup(GoogleAdManagerServices.java:84)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat com.protrade.tapestry5.base.services.BaseTapestryModule$4.renderMarkup(BaseTapestryModule.java:186)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat com.protrade.tapestry5.base.services.BaseTapestryModule$3.renderMarkup(BaseTapestryModule.java:176)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat com.protrade.facebook.base.services.UnifiedSocialFacebookBaseModule$1.renderMarkup(UnifiedSocialFacebookBaseModule.java:65)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat org.apache.tapestry5.services.TapestryModule$26.renderMarkup(TapestryModule.java:1529)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat com.protrade.tapestry5.base.services.BaseTapestryModule$2.renderMarkup(BaseTapestryModule.java:168)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat org.apache.tapestry5.services.TapestryModule$28.renderMarkup(TapestryModule.java:1566)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat org.apache.tapestry5.services.TapestryModule$27.renderMarkup(TapestryModule.java:1547)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat com.protrade.pageproxy.services.PageProxyModule$1.renderMarkup(PageProxyModule.java:74)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat com.protrade.tapestry5.base.services.BaseTapestryModule$1.renderMarkup(BaseTapestryModule.java:160)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat org.apache.tapestry5.services.TapestryModule$25.renderMarkup(TapestryModule.java:1509)\n\tat $MarkupRenderer_11df3c111bd.renderMarkup($MarkupRenderer_11df3c111bd.java)\n\tat $MarkupRenderer_11df3c111b9.renderMarkup($MarkupRenderer_11df3c111b9.java)\n\tat org.apache.tapestry5.internal.services.PageMarkupRendererImpl.renderPageMarkup(PageMarkupRendererImpl.java:64)\n\tat $PageMarkupRenderer_11df3c111b7.renderPageMarkup($PageMarkupRenderer_11df3c111b7.java)\n\tat org.apache.tapestry5.internal.services.PageResponseRendererImpl.renderPageResponse(PageResponseRendererImpl.java:57)\n\tat $PageResponseRenderer_11df3c1106c.renderPageResponse($PageResponseRenderer_11df3c1106c.java)\n\tat org.apache.tapestry5.internal.services.PageRenderRequestHandlerImpl.handle(PageRenderRequestHandlerImpl.java:59)\n\tat com.protrade.facebook.base.services.FacebookAuthFilterImpl.handle(FacebookAuthFilterImpl.java:51)\n\tat $PageRenderRequestHandler_11df3c1106d.handle($PageRenderRequestHandler_11df3c1106d.java)\n\tat org.apache.tapestry5.services.TapestryModule$33.handle(TapestryModule.java:1747)\n\tat $PageRenderRequestHandler_11df3c1106d.handle($PageRenderRequestHandler_11df3c1106d.java)\n\tat com.protrade.facebook.base.services.FbForceModeFilter.handle(FbForceModeFilter.java:75)\n\tat $PageRenderRequestHandler_11df3c1106d.handle($PageRenderRequestHandler_11df3c1106d.java)\n\tat com.protrade.tapestry5.base.services.RequestLogFilter.handle(RequestLogFilter.java:23)\n\tat $PageRenderRequestHandler_11df3c1106d.handle($PageRenderRequestHandler_11df3c1106d.java)\n\tat com.protrade.opensocial.base.services.OsForceTypeFilter.handle(OsForceTypeFilter.java:75)\n\tat $PageRenderRequestHandler_11df3c1106d.handle($PageRenderRequestHandler_11df3c1106d.java)\n\tat $PageRenderRequestHandler_11df3c1105e.handle($PageRenderRequestHandler_11df3c1105e.java)\n\tat org.apache.tapestry5.internal.services.PageRenderDispatcher.process(PageRenderDispatcher.java:92)\n\tat org.apache.tapestry5.internal.services.PageRenderDispatcher.dispatch(PageRenderDispatcher.java:71)\n\tat $Dispatcher_11df3c11065.dispatch($Dispatcher_11df3c11065.java)\n\tat $Dispatcher_11df3c11057.dispatch($Dispatcher_11df3c11057.java)\n\tat org.apache.tapestry5.services.TapestryModule$17.service(TapestryModule.java:1034)\n\tat org.apache.tapestry5.internal.services.LocalizationFilter.service(LocalizationFilter.java:42)\n\tat $RequestHandler_11df3c11058.service($RequestHandler_11df3c11058.java)\n\tat org.apache.tapestry5.internal.services.RequestErrorFilter.service(RequestErrorFilter.java:26)\n\tat $RequestHandler_11df3c11058.service($RequestHandler_11df3c11058.java)\n\tat org.apache.tapestry5.services.TapestryModule$3.service(TapestryModule.java:626)\n\tat $RequestHandler_11df3c11058.service($RequestHandler_11df3c11058.java)\n\tat org.apache.tapestry5.services.TapestryModule$2.service(TapestryModule.java:616)\n\tat $RequestHandler_11df3c11058.service($RequestHandler_11df3c11058.java)\n\tat org.apache.tapestry5.internal.services.StaticFilesFilter.service(StaticFilesFilter.java:85)\n\tat $RequestHandler_11df3c11058.service($RequestHandler_11df3c11058.java)\n\tat com.protrade.pageproxy.services.PageProxyServices$PageProxyRequestFilter.service(PageProxyServices.java:265)\n\tat $RequestHandler_11df3c11058.service($RequestHandler_11df3c11058.java)\n\tat org.apache.tapestry5.internal.services.CheckForUpdatesFilter$2.invoke(CheckForUpdatesFilter.java:93)\n\tat org.apache.tapestry5.internal.services.CheckForUpdatesFilter$2.invoke(CheckForUpdatesFilter.java:84)\n\tat org.apache.tapestry5.ioc.internal.util.ConcurrentBarrier.withRead(ConcurrentBarrier.java:83)\n\tat org.apache.tapestry5.internal.services.CheckForUpdatesFilter.service(CheckForUpdatesFilter.java:106)\n\tat $RequestHandler_11df3c11058.service($RequestHandler_11df3c11058.java)\n\tat $RequestHandler_11df3c1104f.service($RequestHandler_11df3c1104f.java)\n\tat org.apache.tapestry5.services.TapestryModule$16.service(TapestryModule.java:1012)\n\tat org.apache.tapestry5.upload.internal.services.MultipartServletRequestFilter.service(MultipartServletRequestFilter.java:44)\n\tat $HttpServletRequestHandler_11df3c11050.service($HttpServletRequestHandler_11df3c11050.java)\n\tat org.apache.tapestry5.internal.services.IgnoredPathsFilter.service(IgnoredPathsFilter.java:62)\n\tat $HttpServletRequestFilter_11df3c1104e.service($HttpServletRequestFilter_11df3c1104e.java)\n\tat $HttpServletRequestHandler_11df3c11050.service($HttpServletRequestHandler_11df3c11050.java)\n\tat com.protrade.pageproxy.services.PageProxyServices$PageProxyHttpServletRequestFilter.service(PageProxyServices.java:202)\n\tat $HttpServletRequestHandler_11df3c11050.service($HttpServletRequestHandler_11df3c11050.java)\n\tat $HttpServletRequestHandler_11df3c1104c.service($HttpServletRequestHandler_11df3c1104c.java)\n\tat org.apache.tapestry5.TapestryFilter.doFilter(TapestryFilter.java:179)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat com.protrade.unifiedsocial.filters.NoUserSplashPageFilter.doFilter(NoUserSplashPageFilter.java:54)\n\tat com.protrade.common.web.ProtradeFilter.doFilter(ProtradeFilter.java:50)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat com.protrade.unifiedsocial.filters.USSPFilter.doFilter(USSPFilter.java:34)\n\tat com.protrade.common.web.ProtradeFilter.doFilter(ProtradeFilter.java:50)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat com.protrade.common.web.PCachedSessionStoreFilter.doFilter(PCachedSessionStoreFilter.java:39)\n\tat com.protrade.common.web.ProtradeFilter.doFilter(ProtradeFilter.java:50)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat com.protrade.pageproxy.filter.PageProxyAssetFilter.doFilter(PageProxyAssetFilter.java:53)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat com.protrade.fanwars.base.filters.FandomContextFilter.doFilter(FandomContextFilter.java:56)\n\tat com.protrade.common.web.ProtradeFilter.doFilter(ProtradeFilter.java:50)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat com.protrade.common.spring.OpenDSFilter$1.run(OpenDSFilter.java:43)\n\tat com.protrade.common.spring.OpenEMFilter$BindThreadRunnable.run(OpenEMFilter.java:129)\n\tat com.protrade.common.spring.OpenEMFilter$BindThreadRunnable.run(OpenEMFilter.java:129)\n\tat com.protrade.common.spring.OpenDSFilter.doFilter(OpenDSFilter.java:54)\n\tat com.protrade.common.web.ProtradeFilter.doFilter(ProtradeFilter.java:50)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat com.protrade.common.web.P3PFilter.doFilter(P3PFilter.java:15)\n\tat com.protrade.common.web.ProtradeFilter.doFilter(ProtradeFilter.java:50)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat com.protrade.common.web.CharsetFilter.doFilter(CharsetFilter.java:34)\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:361)\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n\tat org.mortbay.jetty.Server.handle(Server.java:324)\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:879)\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:741)\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:213)\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:403)\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)\nCaused by: java.lang.ClassCastException: org.apache.openjpa.jdbc.kernel.exps.PCPath\n\tat org.apache.openjpa.kernel.ExpressionStoreQuery$DataStoreExecutor.getOrderingValue(ExpressionStoreQuery.java:734)\n\tat org.apache.openjpa.kernel.OrderingMergedResultObjectProvider.getOrderingValue(OrderingMergedResultObjectProvider.java:62)\n\tat org.apache.openjpa.lib.rop.MergedResultObjectProvider.next(MergedResultObjectProvider.java:172)\n\tat org.apache.openjpa.lib.rop.RangeResultObjectProvider.next(RangeResultObjectProvider.java:102)\n\tat org.apache.openjpa.lib.rop.EagerResultList.<init>(EagerResultList.java:35)\n\tat org.apache.openjpa.kernel.QueryImpl.toResult(QueryImpl.java:1233)\n\tat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:995)\n\tat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:848)\n\t... 136 more\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"slices: basic query is failing on sort..  not sure why","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":null,"customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409567/comment/12652509","id":"12652509","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"body":"Let me do a cleaner write up:\n\nIt's complaining about the ordering value for some reason.  The code that fails is copied below.  It is trying to acquire the \"ordering value\" used in the query.  It looks like it's expecting a \"Val\" object that it calls \"evaluate\" on to get the actual ordering value.  But in Slices, it gets a \"PCPath\" object.  Not sure how this is happening, but I guess that this method should just be fixed to work with either \"Val\" or \"Path\" objects.  I would propose a patch, but I don't know how to evaluate a Path to get the value it points to..\n\nExpressionStoreQuery$DataStoreExecutor.getOrderingValue :\n......\n            // use the parsed ordering expression to extract the ordering value\n            Val val = (Val) _inMemOrdering[orderIndex];\n            return val.evaluate(resultObject, resultObject,\n                q.getContext().getStoreContext(), params);\n        }\n....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-02T21:10:17.252+0000","updated":"2008-12-02T21:10:17.252+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409567/comment/12652524","id":"12652524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"body":"This is confusing me.\n\nI'm reviewing the code, and it looks like _inMemOrdering is a copy of QueryExpressions.ordering.  Then I searched the whole code base for who modified QueryExpressions.ordering and I only found one place: JPQLQueryExpressionBuilder.evalOrderingClauses (code below).  But that's weird because it looks like this method will ALWAYS fill the \"odering\" field with PCPath objects.  But reviewing the rest of the code, it looks like everyone expects a \"Val\" object.  So I'm not sure who coverts and replaces these \"PCPath\" objects with \"Val\" objects.\n\nPlease, any clues??","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-02T21:44:41.777+0000","updated":"2008-12-02T21:44:41.777+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409567/comment/12653143","id":"12653143","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"body":"So I reviewed the code again, and for some reason I must have been blind before, but it looks like PCPath does indeed implement the \"Val\" interface.  So you should be able to cast  \"PCPath\" to a \"Val\".\n\nSo sadly, this might be some sort of class loading issue.. and I'm not sure how this could come about.  The openjpa libraries are included only by my WEB-INF/lib, so there should only be one classloader involved right?  I am running with Jetty, but that should not be an issue.\n\nIs OpenJPA doing something funky with class loaders and Plugins??","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-04T03:04:54.832+0000","updated":"2008-12-04T03:04:54.832+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409567/comment/12653550","id":"12653550","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"body":"I am still at a loss, any help would be appreciated; here are more queries that are failing.. all for the same root exception\n\nselect this from com.protrade.fandom.data.entities.fanwire.ArticleLink this  where this.team = :p0 AND this.active = :p1 AND this.createTime > :p2 order by this.numBumps desc, this.createTime desc\n\nselect this from com.protrade.fandom.data.entities.fanwire.ArticleLinkComment this  where this.articleLink = :p0 AND this.active = :p1 order by this.createTime asc\n\n\n\n.....\n.....\nCaused by: java.lang.ClassCastException: org.apache.openjpa.jdbc.kernel.exps.PCPath\nat org.apache.openjpa.kernel.ExpressionStoreQuery$DataStoreExecutor.getOrderingValue(ExpressionStoreQuery.java:734)\nat org.apache.openjpa.kernel.OrderingMergedResultObjectProvider.getOrderingValue(OrderingMergedResultObjectProvider.java:62)\nat org.apache.openjpa.lib.rop.MergedResultObjectProvider.next(MergedResultObjectProvider.java:172)\nat org.apache.openjpa.lib.rop.RangeResultObjectProvider.next(RangeResultObjectProvider.java:102)\nat org.apache.openjpa.lib.rop.EagerResultList.<init>(EagerResultList.java:35)\nat org.apache.openjpa.kernel.QueryImpl.toResult(QueryImpl.java:1233)\nat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:995)\nat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:848)\n... 136 more \n.....\n.....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fern","name":"fern","key":"fern","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fernando Padilla","active":true,"timeZone":"Etc/UTC"},"created":"2008-12-04T23:48:00.676+0000","updated":"2008-12-04T23:48:00.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409567/comment/12654939","id":"12654939","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"body":"I have committed a change 724856 -- which makes PCPath a CandidatePath. \nThis is a departure from the common practice of other JDBC expressions *not* inheriting from equivalent kernel expressions. \nI am assuming that there must be a strong reason behind this decision of not extending  kernel expressions. \nHowever, as the test corpus did not complain of the change and extraction of ordering value from an instance is non-trivial code in CandiddatePath, I have committed the change, but with some reservation. \n\nWill rollback on any objection to this change.\n\nMore importantly, will someone illuminate why JDBC expressions do not inherit kernel expressions?    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ppoddar%40apache.org","name":"ppoddar@apache.org","key":"ppoddar@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pinaki Poddar","active":true,"timeZone":"America/Los_Angeles"},"created":"2008-12-09T20:16:22.516+0000","updated":"2008-12-09T20:16:22.516+0000"}],"maxResults":5,"total":5,"startAt":0},"customfield_12311820":"0|i0ywgn:","customfield_12314139":null}}

