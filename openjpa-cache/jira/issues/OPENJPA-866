{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12413092","self":"https://issues.apache.org/jira/rest/api/2/issue/12413092","key":"OPENJPA-866","fields":{"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313326","id":"12313326","description":"","name":"1.3.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313483","id":"12313483","description":"Early Access 2","name":"2.0.0-M2","archived":false,"released":true,"releaseDate":"2009-06-03"}],"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12312323":null,"customfield_12312320":null,"customfield_12310420":"161168","customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313102","id":"12313102","description":"","name":"1.2.0","archived":false,"released":true,"releaseDate":"2008-08-12"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313326","id":"12313326","description":"","name":"1.3.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313483","id":"12313483","description":"Early Access 2","name":"2.0.0-M2","archived":false,"released":true,"releaseDate":"2009-06-03"}],"customfield_12311120":null,"customfield_12313826":null,"customfield_12312339":null,"issuelinks":[{"id":"12332978","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12332978","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12469241","key":"OPENJPA-1725","self":"https://issues.apache.org/jira/rest/api/2/issue/12469241","fields":{"summary":"Schemaname wrongly included in DBDictionary.checkNameLength after Tablename correctly truncated","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12313825":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"201820","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-866/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@1546248c[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@34f6fd47[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@73d18d1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@4a2d1b4[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7d2c393c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@77e8475[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@68eaefdb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@7ad7bc03[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@662e8fbc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1580f220[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2a2b437c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@6ddbc59e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310351","id":"12310351","key":"OPENJPA","name":"OpenJPA","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310351&avatarId=10043","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310351&avatarId=10043","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310351&avatarId=10043","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310351&avatarId=10043"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10252","id":"10252","description":"","name":"OpenJPA"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":"2009-03-12T21:32:55.145+0000","workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/OPENJPA-866/watchers","watchCount":0,"isWatching":false},"created":"2009-01-23T14:53:51.903+0000","updated":"2010-07-14T15:57:05.340+0000","timeoriginalestimate":null,"description":"Per Alan Raison's post to the dev mailing list there appears to be a problem with trimming table names when SynchronizeMappings is used. \n\nHere's the email that started the conversation : \nI have been writing a DBDictionary for the Ingres database and have been running the test cases.  Ingres supports 32 character table names, and this has been set in the dictionary.  However some tests have hit an error whereby the table name is too long for the database.\n\nI notice in the DBDictionary class there is a method called \"getValidTableName\" but this clearly isn't being used since it is trying to use a table name which is too long.  Other databases (such as Oracle) also have quite a short maximum length for table names, so this problem must be able to overcome, but I can't see anything in other Dictionary classes.\n\nIs there anything special I should be doing to run the tests?  I am currently running through mvn test.\n\nMy draft DBDictionary class is attached along with a sample surefire report (with my username and password removed!)\n\nThe full thread can be seen here : http://n2.nabble.com/OpenJPA-1.2.0-Test-Cases---Table-Name-too-Long-td2197132.html\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12402071","id":"12402071","filename":"OPENJPA-866_4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-12T18:20:12.888+0000","size":17090,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12402071/OPENJPA-866_4.patch"}],"customfield_12312340":null,"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12310041":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"DBDictionary.maxTableNameLength is not checked when using SynchronizeMappings","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12314138":null,"customfield_12314137":null,"environment":null,"customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12677884","id":"12677884","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"body":"Adding a patch to check that the table name is valid before adding it to the schema. This fixes the problem for Oracle, which has only a 30-character maximum table length name, but should work for Ingres as well. I'll install and test with Ingres tomorrow just to be sure.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-02T04:05:10.600+0000","updated":"2009-03-02T04:05:10.600+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12677959","id":"12677959","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"body":"You'll need the Ingres DBDictionary, which can be found at http://code.ingres.com/apps/openjpa/.\n\nI'm not sure that's 100% up to date, however, so I'll run on my own machine and let you know.\n\nThanks\n\nAlan","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-02T11:20:42.781+0000","updated":"2009-03-02T11:20:42.781+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12678029","id":"12678029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"body":"I've just tried to run the test \"org.apache.openjpa.enhance.TestDataCachingAndUnenhancedPropertyAccess\" with the patched sources, but I still get:\n\nTable name \"UnenhancedIdentityIdPropertyAccess\" is 34-character long. The database allows maximum 32-character for a table name.\n\nHow did you test the patch?  Let me know and I will try to replicate that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-02T16:12:35.579+0000","updated":"2009-03-02T16:12:35.579+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12679045","id":"12679045","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"body":"Attaching another patch to check the length of the table and column names when dynamically creating the database schema. It also includes a JUnit testcase to demonstrate the failure on multiple databases.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T02:54:06.064+0000","updated":"2009-03-05T02:54:06.064+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12679048","id":"12679048","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"body":"Hi Alan, I've been testing this failure on the following databases: MySQL, PostgreSQL, DB2, Derby, and Oracle. Unfortunately, I've haven't been able to get the Ingres database working with OpenJPA using your dictionary. This second patch improves the maven build very significantly with the Oracle database, which has only a 30-character table and column limit. BTW, did you know that you have the maxColumnNameLength defined twice in your IngreDictionary class ??","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T03:05:00.324+0000","updated":"2009-03-05T03:05:00.324+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12679170","id":"12679170","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"body":"Tim\n\nI've tried your patch and although it improves things somewhat, in that there are no more \"table name too long\" errors, I still get a number of schema-related errors.  For example, with the aforementioned TestDataCachingAndUnenhancedPropertyAccess test, I get errors along the lines of:\n\nTable 'unenhancedidentityidpropertyacc1' does not exist or is not owned by you. {DELETE FROM UNENHANCEDIDENTITYIDPROPERTYACC1}\n\nI am, however getting some previously failing tests to pass; org.apache.openjpa.enhance.TestUnenhancedCompoundPK.testCompoundPKFieldAccessOpenJPADefined passes whereas the other three in that class do not.\n\nBTW apologies for claiming that your first patch did nothing; the problem was with maven/eclipse.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T11:59:58.496+0000","updated":"2009-03-05T11:59:58.496+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12679252","id":"12679252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"body":"Hi Alan, thanks for the feedback. I'll look at your remaining problem(s) later today/tonight to see if I can figure out what's going on.....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T17:30:45.961+0000","updated":"2009-03-05T17:30:45.961+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12679253","id":"12679253","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"body":"It appears that the table has beenn created with the name \"UNENHANCEDIDENTITYIDPROPERTYACCE\" but OpenJPA is trying to access it as \"UNENHANCEDIDENTITYIDPROPERTYACC1\" (one letter shorter with a digit added)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T17:38:19.155+0000","updated":"2009-03-05T17:38:19.155+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12679302","id":"12679302","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"body":"Regarding the entity for the testcase could we change the field names to be something shorter (ie under the 80 column limit) and use the @Column annotation if they need to be longer (which can be split across multiple lines). ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikedd","name":"mikedd","key":"mikedd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Dick","active":true,"timeZone":"America/Chicago"},"created":"2009-03-05T18:58:44.543+0000","updated":"2009-03-05T18:58:44.543+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12679318","id":"12679318","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"body":"Sure Michael, I'll take care of that in the next patch once I get Alan's remaining problem(s) fixed......","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-05T19:35:38.854+0000","updated":"2009-03-05T19:35:38.854+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12679820","id":"12679820","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"body":"Here is the final (hopefully) patch to fix this problem. It basically checks the dictionary before adding tables to dynamic schemas and columns to those tables. If either exceeds the maximum length specified in the dictionary the table/column names are made valid using the same dictionary. There are still problems related to reserved words for table/column names but I'll address that problem with another patch for that JIRA. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-07T03:40:04.481+0000","updated":"2009-03-07T03:40:04.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12680126","id":"12680126","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"body":"Tim - thanks for that, it works a treat.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan_raison","name":"alan_raison","key":"alan_raison","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Raison","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-09T11:00:37.658+0000","updated":"2009-03-09T11:00:37.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12680872","id":"12680872","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"body":"I tried apply the patch against the trunk but mvn clean install consistently failied in:\n\nResults :\n\nTests in error:\n  testCacheMarshallerEndToEnd(org.apache.openjpa.conf.TestCacheMarshallerEndToEnd)\n\nTests run: 1374, Failures: 0, Errors: 1, Skipped: 0\n\nI ran the with and without the patch twice and still failed the same say.\n\nCan you take a look and see what may be causing the problem ?\n\nThanks,\nAlbert Lee.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=allee8285","name":"allee8285","key":"allee8285","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Albert Lee","active":true,"timeZone":"America/Chicago"},"created":"2009-03-11T14:03:47.160+0000","updated":"2009-03-11T14:03:47.160+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12681174","id":"12681174","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"body":"Hi Albert, This was my fault. I will attach another patch tomorrow and will be more thorough in testing my patches. Thanks much....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-12T06:10:27.977+0000","updated":"2009-03-12T06:10:27.977+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12681428","id":"12681428","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"body":"Another patch which to fixex the serialization problem. The DynamicTable inner class is now non-static like the DynamicColumn inner class in DynamicSchemaFactory. All JUnit testcases in the build (i.e., Derby database) work fine now....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcconne","name":"mcconne","key":"mcconne","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim McConnell","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-12T18:20:12.937+0000","updated":"2009-03-12T18:20:12.937+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12413092/comment/12713037","id":"12713037","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drwoods","name":"drwoods","key":"drwoods","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drwoods&avatarId=20433","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drwoods&avatarId=20433","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drwoods&avatarId=20433","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drwoods&avatarId=20433"},"displayName":"Donald Woods","active":true,"timeZone":"America/New_York"},"body":"also included in 1.3.x as Rev778727","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drwoods","name":"drwoods","key":"drwoods","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drwoods&avatarId=20433","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drwoods&avatarId=20433","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drwoods&avatarId=20433","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drwoods&avatarId=20433"},"displayName":"Donald Woods","active":true,"timeZone":"America/New_York"},"created":"2009-05-26T14:52:34.413+0000","updated":"2009-05-26T14:52:34.413+0000"}],"maxResults":16,"total":16,"startAt":0},"customfield_12311820":"0|i0yx0v:","customfield_12314139":null}}

