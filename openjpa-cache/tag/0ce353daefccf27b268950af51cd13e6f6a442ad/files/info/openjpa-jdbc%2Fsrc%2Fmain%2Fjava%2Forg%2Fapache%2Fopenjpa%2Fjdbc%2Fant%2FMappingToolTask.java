{"sha":"36a711133d35c8afd9ddddaee174acee8fc806da","node_id":"MDQ6QmxvYjIwNjM2NDozNmE3MTExMzNkMzVjOGFmZDlkZGRkYWVlMTc0YWNlZThmYzgwNmRh","size":6358,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/36a711133d35c8afd9ddddaee174acee8fc806da","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmFudDsKCmltcG9ydCBvcmcuYXBhY2hlLnRvb2xzLmFu\ndC5CdWlsZEV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUudG9vbHMuYW50\nLnR5cGVzLkVudW1lcmF0ZWRBdHRyaWJ1dGU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5jb25mLkpEQkNDb25maWd1cmF0aW9uOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlv\nbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLk1h\ncHBpbmdUb29sOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2No\nZW1hLlNjaGVtYVRvb2w7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGli\nLmFudC5BYnN0cmFjdFRhc2s7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmNvbmYuQ29uZmlndXJhdGlvbkltcGw7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLnV0aWwuRmlsZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnV0aWwuTXVsdGlMb2FkZXJDbGFzc1Jlc29sdmVyOwoKLyoqCiAq\nIEV4ZWN1dGVzIHRoZSB7QGxpbmsgTWFwcGluZ1Rvb2x9IG9uIHRoZSBzcGVj\naWZpZWQgZmlsZXMuCiAqIFRoaXMgdGFzayBjYW4gdGFrZSB0aGUgZm9sbG93\naW5nIGFyZ3VtZW50czoKICogPHVsPgogKiA8bGk+PGNvZGU+YWN0aW9uPC9j\nb2RlPjwvbGk+CiAqIDxsaT48Y29kZT5tZXRhPC9jb2RlPjwvbGk+CiAqIDxs\naT48Y29kZT5zY2hlbWFBY3Rpb248L2NvZGU+PC9saT4KICogPGxpPjxjb2Rl\nPmRyb3BUYWJsZXM8L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPmlnbm9yZUVy\ncm9yczwvY29kZT48L2xpPgogKiA8bGk+PGNvZGU+cmVhZFNjaGVtYTwvY29k\nZT48L2xpPgogKiA8bGk+PGNvZGU+cHJpbWFyeUtleXM8L2NvZGU+PC9saT4K\nICogPGxpPjxjb2RlPmZvcmVpZ25LZXlzPC9jb2RlPjwvbGk+CiAqIDxsaT48\nY29kZT5pbmRleGVzPC9jb2RlPjwvbGk+CiAqIDxsaT48Y29kZT5maWxlPC9j\nb2RlPjwvbGk+CiAqIDxsaT48Y29kZT5zY2hlbWFGaWxlPC9jb2RlPjwvbGk+\nCiAqIDxsaT48Y29kZT5zcWxGaWxlPC9jb2RlPjwvbGk+CiAqIDwvdWw+IE9m\nIHRoZXNlIGFyZ3VtZW50cywgb25seSA8Y29kZT5hY3Rpb248L2NvZGU+IGlz\nIHJlcXVpcmVkLgogKi8KcHVibGljIGNsYXNzIE1hcHBpbmdUb29sVGFzawog\nICAgZXh0ZW5kcyBBYnN0cmFjdFRhc2sgewoKICAgIHByaXZhdGUgc3RhdGlj\nIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2thZ2UK\nICAgICAgICAoTWFwcGluZ1Rvb2xUYXNrLmNsYXNzKTsKCiAgICBwcm90ZWN0\nZWQgTWFwcGluZ1Rvb2wuRmxhZ3MgZmxhZ3MgPSBuZXcgTWFwcGluZ1Rvb2wu\nRmxhZ3MoKTsKICAgIHByb3RlY3RlZCBTdHJpbmcgZmlsZSA9IG51bGw7CiAg\nICBwcm90ZWN0ZWQgU3RyaW5nIHNjaGVtYUZpbGUgPSBudWxsOwogICAgcHJv\ndGVjdGVkIFN0cmluZyBzcWxGaWxlID0gbnVsbDsKCiAgICAvKioKICAgICAq\nIFNldCB0aGUgZW51bWVyYXRlZCBNYXBwaW5nVG9vbCBhY3Rpb24gdHlwZS4K\nICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0QWN0aW9uKEFjdGlvbiBhY3Qp\nIHsKICAgICAgICBmbGFncy5hY3Rpb24gPSBhY3QuZ2V0VmFsdWUoKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgZW51bWVyYXRlZCBTY2hlbWFU\nb29sIGFjdGlvbiB0eXBlLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRT\nY2hlbWFBY3Rpb24oU2NoZW1hQWN0aW9uIGFjdCkgewogICAgICAgIGZsYWdz\nLnNjaGVtYUFjdGlvbiA9IGFjdC5nZXRWYWx1ZSgpOwogICAgfQoKICAgIC8q\nKgogICAgICogU2V0IHdoZXRoZXIgdGhlIE1hcHBpbmdUb29sIHNob3VsZCBy\nZWFkIHRoZSBmdWxsIHNjaGVtYS4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0UmVhZFNjaGVtYShib29sZWFuIHJlYWRTY2hlbWEpIHsKICAgICAgICBm\nbGFncy5yZWFkU2NoZW1hID0gcmVhZFNjaGVtYTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFNldCB3aGV0aGVyIHdlIHdhbnQgdGhlIE1hcHBpbmdUb29sIHRv\nIGlnbm9yZSBTUUwgZXJyb3JzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBz\nZXRJZ25vcmVFcnJvcnMoYm9vbGVhbiBpZ25vcmVFcnJvcnMpIHsKICAgICAg\nICBmbGFncy5pZ25vcmVFcnJvcnMgPSBpZ25vcmVFcnJvcnM7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0aGUgTWFwcGluZ1Rvb2wgc2hv\ndWxkIGRyb3AgdGFibGVzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRE\ncm9wVGFibGVzKGJvb2xlYW4gZHJvcFRhYmxlcykgewogICAgICAgIGZsYWdz\nLmRyb3BUYWJsZXMgPSBkcm9wVGFibGVzOwogICAgfQoKICAgIC8qKgogICAg\nICogU2V0IHdoZXRoZXIgdG8gZHJvcCBPcGVuSlBBIHRhYmxlcy4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0T3BlbkpQQVRhYmxlcyhib29sZWFuIG9w\nZW5qcGFUYWJsZXMpIHsKICAgICAgICBmbGFncy5vcGVuanBhVGFibGVzID0g\nb3BlbmpwYVRhYmxlczsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB3aGV0\naGVyIHRoZSBNYXBwaW5nVG9vbCBzaG91bGQgZHJvcCBzZXF1ZW5jZXMuCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldERyb3BTZXF1ZW5jZXMoYm9vbGVh\nbiBkcm9wU2VxdWVuY2VzKSB7CiAgICAgICAgZmxhZ3MuZHJvcFNlcXVlbmNl\ncyA9IGRyb3BTZXF1ZW5jZXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQg\nd2hldGhlciB0aGUgTWFwcGluZ1Rvb2wgc2hvdWxkIG1hbmlwdWxhdGUgc2Vx\ndWVuY2VzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRTZXF1ZW5jZXMo\nYm9vbGVhbiBzZXF1ZW5jZXMpIHsKICAgICAgICBmbGFncy5zZXF1ZW5jZXMg\nPSBzZXF1ZW5jZXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhl\nciB0byBnZW5lcmF0ZSBwcmltYXJ5IGtleSBpbmZvcm1hdGlvbi4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0UHJpbWFyeUtleXMoYm9vbGVhbiBwa3Mp\nIHsKICAgICAgICBmbGFncy5wcmltYXJ5S2V5cyA9IHBrczsKICAgIH0KCiAg\nICAvKioKICAgICAqIFNldCB3aGV0aGVyIHRvIGdlbmVyYXRlIGZvcmVpZ24g\na2V5IGluZm9ybWF0aW9uLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRG\nb3JlaWduS2V5cyhib29sZWFuIGZrcykgewogICAgICAgIGZsYWdzLmZvcmVp\nZ25LZXlzID0gZmtzOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHdoZXRo\nZXIgdG8gZ2VuZXJhdGUgaW5kZXggaW5mb3JtYXRpb24uCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldEluZGV4ZXMoYm9vbGVhbiBpZHhzKSB7CiAgICAg\nICAgZmxhZ3MuaW5kZXhlcyA9IGlkeHM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBTZXQgdGhlIG91dHB1dCBmaWxlIHdlIHdhbnQgdGhlIE1hcHBpbmdUb29s\nIHRvIHdyaXRlIHRvLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRGaWxl\nKFN0cmluZyBmaWxlKSB7CiAgICAgICAgdGhpcy5maWxlID0gZmlsZTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgb3V0cHV0IGZpbGUgZm9yIGFu\nIFhNTCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGxhbm5lZCBzY2hlbWEuCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNjaGVtYUZpbGUoU3RyaW5nIHNj\naGVtYUZpbGUpIHsKICAgICAgICB0aGlzLnNjaGVtYUZpbGUgPSBzY2hlbWFG\naWxlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBvdXRwdXQgZmls\nZSB3ZSB3YW50IHRoZSBNYXBwaW5nVG9vbCB0byB3cml0ZSBhIFNRTCBzY3Jp\ncHQgdG8uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNRTEZpbGUoU3Ry\naW5nIHNxbEZpbGUpIHsKICAgICAgICB0aGlzLnNxbEZpbGUgPSBzcWxGaWxl\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHdoZXRoZXIgdGhpcyBhY3Rp\nb24gYXBwbGllcyB0byBtZXRhZGF0YSBhcyB3ZWxsIGFzIG1hcHBpbmdzLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRNZXRhKGJvb2xlYW4gbWV0YSkg\newogICAgICAgIGZsYWdzLm1ldGEgPSBtZXRhOwogICAgfQoKICAgIHByb3Rl\nY3RlZCBDb25maWd1cmF0aW9uSW1wbCBuZXdDb25maWd1cmF0aW9uKCkgewog\nICAgICAgIHJldHVybiBuZXcgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKCk7CiAg\nICB9CgogICAgcHJvdGVjdGVkIHZvaWQgZXhlY3V0ZU9uKFN0cmluZ1tdIGZp\nbGVzKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmIChN\nYXBwaW5nVG9vbC5BQ1RJT05fSU1QT1JULmVxdWFscyhmbGFncy5hY3Rpb24p\nKQogICAgICAgICAgICBhc3NlcnRGaWxlcyhmaWxlcyk7CgogICAgICAgIENs\nYXNzTG9hZGVyIGxvYWRlciA9IGdldENsYXNzTG9hZGVyKCk7CiAgICAgICAg\naWYgKGZsYWdzLm1ldGEgJiYgTWFwcGluZ1Rvb2wuQUNUSU9OX0FERC5lcXVh\nbHMoZmxhZ3MuYWN0aW9uKSkKICAgICAgICAgICAgZmxhZ3MubWV0YURhdGFG\naWxlID0gRmlsZXMuZ2V0RmlsZShmaWxlLCBsb2FkZXIpOwogICAgICAgIGVs\nc2UKICAgICAgICAgICAgZmxhZ3MubWFwcGluZ1dyaXRlciA9IEZpbGVzLmdl\ndFdyaXRlcihmaWxlLCBsb2FkZXIpOwogICAgICAgIGZsYWdzLnNjaGVtYVdy\naXRlciA9IEZpbGVzLmdldFdyaXRlcihzY2hlbWFGaWxlLCBsb2FkZXIpOwog\nICAgICAgIGZsYWdzLnNxbFdyaXRlciA9IEZpbGVzLmdldFdyaXRlcihzcWxG\naWxlLCBsb2FkZXIpOwoKICAgICAgICBNdWx0aUxvYWRlckNsYXNzUmVzb2x2\nZXIgcmVzb2x2ZXIgPSBuZXcgTXVsdGlMb2FkZXJDbGFzc1Jlc29sdmVyKCk7\nCiAgICAgICAgcmVzb2x2ZXIuYWRkQ2xhc3NMb2FkZXIobG9hZGVyKTsKICAg\nICAgICByZXNvbHZlci5hZGRDbGFzc0xvYWRlcihNYXBwaW5nVG9vbC5jbGFz\ncy5nZXRDbGFzc0xvYWRlcigpKTsKICAgICAgICBKREJDQ29uZmlndXJhdGlv\nbiBjb25mID0gKEpEQkNDb25maWd1cmF0aW9uKSBnZXRDb25maWd1cmF0aW9u\nKCk7CiAgICAgICAgY29uZi5zZXRDbGFzc1Jlc29sdmVyKHJlc29sdmVyKTsK\nCiAgICAgICAgaWYgKCFNYXBwaW5nVG9vbC5ydW4oY29uZiwgZmlsZXMsIGZs\nYWdzLCBsb2FkZXIpKQogICAgICAgICAgICB0aHJvdyBuZXcgQnVpbGRFeGNl\ncHRpb24oX2xvYy5nZXQoImJhZC1jb25mIiwgIk1hcHBpbmdUb29sVGFzayIp\nCiAgICAgICAgICAgICAgICAuZ2V0TWVzc2FnZSgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIGNsYXNzIEFjdGlvbgogICAgICAgIGV4dGVuZHMgRW51\nbWVyYXRlZEF0dHJpYnV0ZSB7CgogICAgICAgIHB1YmxpYyBTdHJpbmdbXSBn\nZXRWYWx1ZXMoKSB7CiAgICAgICAgICAgIHJldHVybiBNYXBwaW5nVG9vbC5B\nQ1RJT05TOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNs\nYXNzIFNjaGVtYUFjdGlvbgogICAgICAgIGV4dGVuZHMgRW51bWVyYXRlZEF0\ndHJpYnV0ZSB7CgogICAgICAgIHB1YmxpYyBTdHJpbmdbXSBnZXRWYWx1ZXMo\nKSB7CiAgICAgICAgICAgIFN0cmluZ1tdIGFjdGlvbnMgPSBuZXcgU3RyaW5n\nW1NjaGVtYVRvb2wuQUNUSU9OUy5sZW5ndGggKyAxXTsKICAgICAgICAgICAg\nU3lzdGVtLmFycmF5Y29weShTY2hlbWFUb29sLkFDVElPTlMsIDAsIGFjdGlv\nbnMsIDAsCiAgICAgICAgICAgICAgICBTY2hlbWFUb29sLkFDVElPTlMubGVu\nZ3RoKTsKICAgICAgICAgICAgYWN0aW9uc1thY3Rpb25zLmxlbmd0aCAtIDFd\nID0gIm5vbmUiOwogICAgICAgICAgICByZXR1cm4gYWN0aW9uczsKICAgICAg\nICB9CiAgICB9Cn0KCg==\n","encoding":"base64"}

