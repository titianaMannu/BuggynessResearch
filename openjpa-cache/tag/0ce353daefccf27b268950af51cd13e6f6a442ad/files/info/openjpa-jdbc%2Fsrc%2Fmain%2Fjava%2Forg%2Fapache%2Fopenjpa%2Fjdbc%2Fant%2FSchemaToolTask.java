{"sha":"c3242bf59298b8020afeca21a1902fc9b25ffbe8","node_id":"MDQ6QmxvYjIwNjM2NDpjMzI0MmJmNTkyOThiODAyMGFmZWNhMjFhMTkwMmZjOWIyNWZmYmU4","size":4301,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c3242bf59298b8020afeca21a1902fc9b25ffbe8","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmFudDsKCmltcG9ydCBvcmcuYXBhY2hlLnRvb2xzLmFu\ndC5CdWlsZEV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUudG9vbHMuYW50\nLnR5cGVzLkVudW1lcmF0ZWRBdHRyaWJ1dGU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5jb25mLkpEQkNDb25maWd1cmF0aW9uOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlv\nbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEu\nU2NoZW1hVG9vbDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuYW50\nLkFic3RyYWN0VGFzazsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\nY29uZi5Db25maWd1cmF0aW9uSW1wbDsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIudXRpbC5GaWxlczsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIudXRpbC5Mb2NhbGl6ZXI7CgovKioKICogRXhlY3V0ZXMgdGhlIHtA\nbGluayBTY2hlbWFUb29sfSBvbiB0aGUgc3BlY2lmaWVkIFhNTCBzY2hlbWEg\nZGVmaW5pdGlvbgogKiBmaWxlcy4gVGhpcyB0YXNrIGNhbiB0YWtlIHRoZSBm\nb2xsb3dpbmcgYXJndW1lbnRzOgogKiA8dWw+CiAqIDxsaT48Y29kZT5hY3Rp\nb248L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPmlnbm9yZUVycm9yczwvY29k\nZT48L2xpPgogKiA8bGk+PGNvZGU+ZHJvcFRhYmxlczwvY29kZT48L2xpPgog\nKiA8bGk+PGNvZGU+ZHJvcFNlcXVlbmNlczwvY29kZT48L2xpPgogKiA8bGk+\nPGNvZGU+b3BlbmpwYVRhYmxlczwvY29kZT48L2xpPgogKiA8bGk+PGNvZGU+\ncHJpbWFyeUtleXM8L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPmZvcmVpZ25L\nZXlzPC9jb2RlPjwvbGk+CiAqIDxsaT48Y29kZT5pbmRleGVzPC9jb2RlPjwv\nbGk+CiAqIDxsaT48Y29kZT5zZXF1ZW5jZXM8L2NvZGU+PC9saT4KICogPGxp\nPjxjb2RlPnJlY29yZDwvY29kZT48L2xpPgogKiA8bGk+PGNvZGU+ZmlsZTwv\nY29kZT48L2xpPgogKiA8L3VsPiBPZiB0aGVzZSBhcmd1bWVudHMsIG9ubHkg\nPGNvZGU+YWN0aW9uPC9jb2RlPiBpcyByZXF1aXJlZC4KICovCnB1YmxpYyBj\nbGFzcyBTY2hlbWFUb29sVGFzawogICAgZXh0ZW5kcyBBYnN0cmFjdFRhc2sg\newoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0g\nTG9jYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAoU2NoZW1hVG9vbFRhc2su\nY2xhc3MpOwoKICAgIHByb3RlY3RlZCBTY2hlbWFUb29sLkZsYWdzIGZsYWdz\nID0gbmV3IFNjaGVtYVRvb2wuRmxhZ3MoKTsKICAgIHByb3RlY3RlZCBTdHJp\nbmcgZmlsZSA9IG51bGw7CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIGVudW1l\ncmF0ZWQgU2NoZW1hVG9vbCBhY3Rpb24gdHlwZS4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgc2V0QWN0aW9uKEFjdGlvbiBhY3QpIHsKICAgICAgICBmbGFn\ncy5hY3Rpb24gPSBhY3QuZ2V0VmFsdWUoKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldCB3aGV0aGVyIHdlIHdhbnQgdGhlIFNjaGVtYVRvb2wgdG8gaWdu\nb3JlIFNRTCBlcnJvcnMuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEln\nbm9yZUVycm9ycyhib29sZWFuIGlnbm9yZUVycm9ycykgewogICAgICAgIGZs\nYWdzLmlnbm9yZUVycm9ycyA9IGlnbm9yZUVycm9yczsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCB3aGV0aGVyIHRvIGRyb3Agb3IgcmVmbGVjdCBvbiBP\ncGVuSlBBIHRhYmxlcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0T3Bl\nbkpQQVRhYmxlcyhib29sZWFuIG9wZW5qcGFUYWJsZXMpIHsKICAgICAgICBm\nbGFncy5vcGVuanBhVGFibGVzID0gb3BlbmpwYVRhYmxlczsKICAgIH0KCiAg\nICAvKioKICAgICAqIFNldCB3aGV0aGVyIHRoZSBTY2hlbWFUb29sIHNob3Vs\nZCBkcm9wIHNlcXVlbmNlcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nRHJvcFNlcXVlbmNlcyhib29sZWFuIGRyb3BTZXF1ZW5jZXMpIHsKICAgICAg\nICBmbGFncy5kcm9wU2VxdWVuY2VzID0gZHJvcFNlcXVlbmNlczsKICAgIH0K\nCiAgICAvKioKICAgICAqIFNldCB3aGV0aGVyIHRoZSBTY2hlbWFUb29sIHNo\nb3VsZCBtYW5pcHVsYXRlIHNlcXVlbmNlcy4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgc2V0U2VxdWVuY2VzKGJvb2xlYW4gc2VxdWVuY2VzKSB7CiAgICAg\nICAgZmxhZ3Muc2VxdWVuY2VzID0gc2VxdWVuY2VzOwogICAgfQoKICAgIC8q\nKgogICAgICogU2V0IHdoZXRoZXIgdG8gZ2VuZXJhdGUgcHJpbWFyeSBrZXkg\naW5mb3JtYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFByaW1h\ncnlLZXlzKGJvb2xlYW4gcGtzKSB7CiAgICAgICAgZmxhZ3MucHJpbWFyeUtl\neXMgPSBwa3M7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0\nbyBnZW5lcmF0ZSBmb3JlaWduIGtleSBpbmZvcm1hdGlvbi4KICAgICAqLwog\nICAgcHVibGljIHZvaWQgc2V0Rm9yZWlnbktleXMoYm9vbGVhbiBma3MpIHsK\nICAgICAgICBmbGFncy5mb3JlaWduS2V5cyA9IGZrczsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCB3aGV0aGVyIHRvIGdlbmVyYXRlIGluZGV4IGluZm9y\nbWF0aW9uLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRJbmRleGVzKGJv\nb2xlYW4gaWR4cykgewogICAgICAgIGZsYWdzLmluZGV4ZXMgPSBpZHhzOwog\nICAgfQoKICAgIC8qKgogICAgICogU2V0IHdoZXRoZXIgdGhlIFNjaGVtYVRv\nb2wgc2hvdWxkIHJlY29yZCB0byB0aGUgc2NoZW1hIGZhY3RvcnkuCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHNldFJlY29yZChib29sZWFuIHJlY29yZCkg\newogICAgICAgIGZsYWdzLnJlY29yZCA9IHJlY29yZDsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCB0aGUgb3V0cHV0IGZpbGUgd2Ugd2FudCB0aGUgU2No\nZW1hVG9vbCB0byB3cml0ZSB0by4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0RmlsZShTdHJpbmcgZmlsZSkgewogICAgICAgIHRoaXMuZmlsZSA9IGZp\nbGU7CiAgICB9CgogICAgcHJvdGVjdGVkIENvbmZpZ3VyYXRpb25JbXBsIG5l\nd0NvbmZpZ3VyYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIG5ldyBKREJDQ29u\nZmlndXJhdGlvbkltcGwoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBl\neGVjdXRlT24oU3RyaW5nW10gZmlsZXMpCiAgICAgICAgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgYXNzZXJ0RmlsZXMoZmlsZXMpOwoKICAgICAgICBD\nbGFzc0xvYWRlciBsb2FkZXIgPSBnZXRDbGFzc0xvYWRlcigpOwogICAgICAg\nIGZsYWdzLndyaXRlciA9IEZpbGVzLmdldFdyaXRlcihmaWxlLCBsb2FkZXIp\nOwogICAgICAgIGlmICghU2NoZW1hVG9vbC5ydW4oKEpEQkNDb25maWd1cmF0\naW9uKSBnZXRDb25maWd1cmF0aW9uKCksIGZpbGVzLAogICAgICAgICAgICBm\nbGFncywgbG9hZGVyKSkKICAgICAgICAgICAgdGhyb3cgbmV3IEJ1aWxkRXhj\nZXB0aW9uKF9sb2MuZ2V0KCJiYWQtY29uZiIsICJTY2hlbWFUb29sVGFzayIp\nCiAgICAgICAgICAgICAgICAuZ2V0TWVzc2FnZSgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIGNsYXNzIEFjdGlvbgogICAgICAgIGV4dGVuZHMgRW51\nbWVyYXRlZEF0dHJpYnV0ZSB7CgogICAgICAgIHB1YmxpYyBTdHJpbmdbXSBn\nZXRWYWx1ZXMoKSB7CiAgICAgICAgICAgIHJldHVybiBTY2hlbWFUb29sLkFD\nVElPTlM7CiAgICAgICAgfQogICAgfQp9Cgo=\n","encoding":"base64"}

