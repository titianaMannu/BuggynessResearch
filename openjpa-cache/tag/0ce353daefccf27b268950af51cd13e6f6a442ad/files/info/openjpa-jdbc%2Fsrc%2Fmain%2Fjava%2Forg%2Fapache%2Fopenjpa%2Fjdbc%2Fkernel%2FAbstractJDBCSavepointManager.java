{"sha":"a068c9a8a77c7583e396307eda8089722270a9a8","node_id":"MDQ6QmxvYjIwNjM2NDphMDY4YzlhOGE3N2M3NTgzZTM5NjMwN2VkYTgwODk3MjIyNzBhOWE4","size":4196,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a068c9a8a77c7583e396307eda8089722270a9a8","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbDsKCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0\naW9uOwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CgppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNvbmZpZ3VyYXRpb247Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJyb2tlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuT3BlbkpQQVNhdmVwb2ludDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuUmVzdG9yZVN0YXRl\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5TYXZlcG9pbnRN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNv\nbmZpZ3VyYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29u\nZi5Db25maWd1cmF0aW9uOwoKLyoqCiAqIEFic3RyYWN0IHtAbGluayBTYXZl\ncG9pbnRNYW5hZ2VyfSBpbXBsZW1lbnRhdGlvbiB0aGF0CiAqIGRlbGVnYXRl\ncyB0byB0aGUgc3ViY2xhc3MgZm9yIHNhdmVwb2ludCBvcGVyYXRpb25zIG9u\nIHRoZSBhY3RpdmUKICoge0BsaW5rIENvbm5lY3Rpb259LiBUaGlzIGltcGxl\nbWVudGF0aW9uIGlzc3VlcyBhIGZsdXNoIGFuZCByZWxpZXMKICogb24gdGhl\nIGRyaXZlci9kYiB0byByZXN0b3JlIGJhY2sgdG8gdGhlIGZsdXNoZWQgc3Rh\ndGUuCiAqCiAqIEBhdXRob3IgU3RldmUgS2ltCiAqIEBzaW5jZSAwLjMuNAog\nKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIEFic3RyYWN0SkRCQ1NhdmVwb2lu\ndE1hbmFnZXIKICAgIGltcGxlbWVudHMgU2F2ZXBvaW50TWFuYWdlciwgQ29u\nZmlndXJhYmxlIHsKCiAgICBwcml2YXRlIGJvb2xlYW4gX3Jlc3RvcmUgPSBm\nYWxzZTsKCiAgICBwdWJsaWMgdm9pZCBzdGFydENvbmZpZ3VyYXRpb24oKSB7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29uZmlndXJhdGlvbihDb25m\naWd1cmF0aW9uIGNvbmYpIHsKICAgICAgICBfcmVzdG9yZSA9ICgoT3BlbkpQ\nQUNvbmZpZ3VyYXRpb24pIGNvbmYpLmdldFJlc3RvcmVTdGF0ZUNvbnN0YW50\nKCkKICAgICAgICAgICAgIT0gUmVzdG9yZVN0YXRlLlJFU1RPUkVfTk9ORTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBlbmRDb25maWd1cmF0aW9uKCkgewog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHdoZXRoZXIgdG8gcmV0YWlu\nIGluLW1lbW9yeSBjb3BpZXMgb2YgZmllbGQgdmFsdWVzIGZvciByZXN0b3Jl\nCiAgICAgKiBvbiByb2xsYmFjay4gRGVmYXVsdHMgdG8ge0BsaW5rIE9wZW5K\nUEFDb25maWd1cmF0aW9uI2dldFJlc3RvcmVTdGF0ZSkuCiAgICAgKi8KICAg\nIHB1YmxpYyBib29sZWFuIGdldFJlc3RvcmVGaWVsZFN0YXRlKCkgewogICAg\nICAgIHJldHVybiBfcmVzdG9yZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ndCB3aGV0aGVyIHRvIHJldGFpbiBpbi1tZW1vcnkgY29waWVzIG9mIGZpZWxk\nIHZhbHVlcyBmb3IgcmVzdG9yZQogICAgICogb24gcm9sbGJhY2suIERlZmF1\nbHRzIHRvIHtAbGluayBPcGVuSlBBQ29uZmlndXJhdGlvbiNnZXRSZXN0b3Jl\nU3RhdGV9LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRSZXN0b3JlRmll\nbGRTdGF0ZShib29sZWFuIHJlc3RvcmUpIHsKICAgICAgICBfcmVzdG9yZSA9\nIHJlc3RvcmU7CiAgICB9CgogICAgcHVibGljIE9wZW5KUEFTYXZlcG9pbnQg\nbmV3U2F2ZXBvaW50KFN0cmluZyBuYW1lLCBCcm9rZXIgYnJva2VyKSB7CiAg\nICAgICAgLy8gZmx1c2ggYWZ0ZXIgY3JlYXRpbmcgc2F2ZXBvaW50IGIvYyBm\nbHVzaCBtYXkgYWRkL2NoYW5nZSBzdGF0ZXMKICAgICAgICBPcGVuSlBBU2F2\nZXBvaW50IHNhdmUgPSBuZXcgQ29ubmVjdGlvblNhdmVwb2ludChicm9rZXIs\nIG5hbWUsIF9yZXN0b3JlKTsKICAgICAgICBicm9rZXIuZmx1c2goKTsKICAg\nICAgICByZXR1cm4gc2F2ZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBz\ndXBwb3J0c0luY3JlbWVudGFsRmx1c2goKSB7CiAgICAgICAgcmV0dXJuIHRy\ndWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSb2xsYmFjayB0aGUgZGF0YXN0\nb3JlIHNhdmVwb2ludC4KICAgICAqLwogICAgcHJvdGVjdGVkIGFic3RyYWN0\nIHZvaWQgcm9sbGJhY2tEYXRhU3RvcmUoQ29ubmVjdGlvblNhdmVwb2ludCBz\nYXZlcG9pbnQpOwoKICAgIC8qKgogICAgICogU2V0IHRoZSBkYXRhc3RvcmUg\nc2F2ZXBvaW50LgogICAgICovCiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgdm9p\nZCBzZXREYXRhU3RvcmUoQ29ubmVjdGlvblNhdmVwb2ludCBzYXZlcG9pbnQp\nOwoKICAgIC8qKgogICAgICogQSBzYXZlcG9pbnQgd2hpY2ggcHJvdmlkZXMg\nYWNjZXNzIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uYWwKICAgICAqIGNv\nbm5lY3Rpb24uCiAgICAgKi8KICAgIHByb3RlY3RlZCBjbGFzcyBDb25uZWN0\naW9uU2F2ZXBvaW50IGV4dGVuZHMgT3BlbkpQQVNhdmVwb2ludCB7CgogICAg\nICAgIHByaXZhdGUgT2JqZWN0IF9zYXZlcG9pbnQ7CgogICAgICAgIHB1Ymxp\nYyBDb25uZWN0aW9uU2F2ZXBvaW50KEJyb2tlciBicm9rZXIsIFN0cmluZyBu\nYW1lLCBib29sZWFuIGNvcHkpIHsKICAgICAgICAgICAgc3VwZXIoYnJva2Vy\nLCBuYW1lLCBjb3B5KTsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAg\nICAqIFJldHVybiB0aGUgc3RvcmVkIHNhdmVwb2ludCBvYmplY3QKICAgICAg\nICAgKi8KICAgICAgICBwdWJsaWMgT2JqZWN0IGdldERhdGFTdG9yZVNhdmVw\nb2ludCgpIHsKICAgICAgICAgICAgcmV0dXJuIF9zYXZlcG9pbnQ7CiAgICAg\nICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBTZXQgdGhlIGltcGxlbWVu\ndGF0aW9uIHNwZWNpZmljIHNhdmVwb2ludCBvYmplY3QKICAgICAgICAgKi8K\nICAgICAgICBwdWJsaWMgdm9pZCBzZXREYXRhU3RvcmVTYXZlcG9pbnQoT2Jq\nZWN0IHNhdmVwb2ludCkgewogICAgICAgICAgICBfc2F2ZXBvaW50ID0gc2F2\nZXBvaW50OwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogUmV0\ndXJuIHRoZSBjdXJyZW50IHtAbGluayBDb25uZWN0aW9ufSBmb3IgdGhpcyBz\nYXZlcG9pbnQuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIENvbm5lY3Rp\nb24gZ2V0Q29ubmVjdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuICgoSkRC\nQ1N0b3JlTWFuYWdlcikgZ2V0QnJva2VyKCkuZ2V0U3RvcmVNYW5hZ2VyKCku\nCiAgICAgICAgICAgICAgICBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpKS5nZXRD\nb25uZWN0aW9uKCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQ29sbGVj\ndGlvbiByb2xsYmFjayhDb2xsZWN0aW9uIHByZXZpb3VzKSB7CiAgICAgICAg\nICAgIEFic3RyYWN0SkRCQ1NhdmVwb2ludE1hbmFnZXIudGhpcy5yb2xsYmFj\na0RhdGFTdG9yZSh0aGlzKTsKICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnJv\nbGxiYWNrKHByZXZpb3VzKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2\nb2lkIHNhdmUoQ29sbGVjdGlvbiBzdGF0ZXMpIHsKICAgICAgICAgICAgQWJz\ndHJhY3RKREJDU2F2ZXBvaW50TWFuYWdlci50aGlzLnNldERhdGFTdG9yZSh0\naGlzKTsKICAgICAgICAgICAgc3VwZXIuc2F2ZShzdGF0ZXMpOwogICAgICAg\nIH0KICAgIH0KfQo=\n","encoding":"base64"}

