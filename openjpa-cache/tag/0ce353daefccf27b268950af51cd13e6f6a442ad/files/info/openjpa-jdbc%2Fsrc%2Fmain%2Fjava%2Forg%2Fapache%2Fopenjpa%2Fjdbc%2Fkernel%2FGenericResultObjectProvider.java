{"sha":"8e93e74e37adfdee62a5445e1432f81110f84461","node_id":"MDQ6QmxvYjIwNjM2NDo4ZTkzZTc0ZTM3YWRmZGVlNjJhNTQ0NWUxNDMyZjgxMTEwZjg0NDYx","size":3921,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8e93e74e37adfdee62a5445e1432f81110f84461","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbDsKCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNl\ncHRpb247CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5D\nbGFzc01hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5z\ncWwuUmVzdWx0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3Fs\nLlNRTEV4Y2VwdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2Vy\nbmVsLlN0b3JlQ29udGV4dDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIucm9wLlJlc3VsdE9iamVjdFByb3ZpZGVyOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnV0aWwuU3RvcmVFeGNlcHRpb247CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEudXRpbC5VbnN1cHBvcnRlZEV4Y2VwdGlvbjsKCi8qKgog\nKiBPYmplY3QgcHJvdmlkZXIgaW1wbGVtZW50YXRpb24gd3JhcHBlZCBhcm91\nbmQgYSBnZW5lcmljIHtAbGluayBSZXN1bHR9LgogKgogKiBAYXV0aG9yIEFi\nZSBXaGl0ZQogKi8KcHVibGljIGNsYXNzIEdlbmVyaWNSZXN1bHRPYmplY3RQ\ncm92aWRlcgogICAgaW1wbGVtZW50cyBSZXN1bHRPYmplY3RQcm92aWRlciB7\nCgogICAgcHJpdmF0ZSBmaW5hbCBDbGFzc01hcHBpbmcgX21hcHBpbmc7CiAg\nICBwcml2YXRlIGZpbmFsIEpEQkNTdG9yZSBfc3RvcmU7CiAgICBwcml2YXRl\nIGZpbmFsIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gX2ZldGNoOwogICAgcHJp\ndmF0ZSBmaW5hbCBSZXN1bHQgX3JlczsKCiAgICAvKioKICAgICAqIENvbnN0\ncnVjdG9yLgogICAgICoKICAgICAqIEBwYXJhbSBwY0NsYXNzIHRoZSBiYXNl\nIGNsYXNzIG9mIHRoZSByZXN1bHQgb2JqZWN0cwogICAgICogQHBhcmFtIHN0\nb3JlIHRoZSBzdG9yZSBtYW5hZ2VyIHRvIGRlbGVnYXRlIGxvYWRpbmcgdG8K\nICAgICAqIEBwYXJhbSBmZXRjaCB0aGUgZmV0Y2ggY29uZmlndXJhdGlvbiwg\nb3IgbnVsbCBmb3IgZGVmYXVsdAogICAgICogQHBhcmFtIHJlcyB0aGUgcmVz\ndWx0IGNvbnRhaW5pbmcgdGhlIGRhdGEKICAgICAqLwogICAgcHVibGljIEdl\nbmVyaWNSZXN1bHRPYmplY3RQcm92aWRlcihDbGFzcyBwY0NsYXNzLAogICAg\nICAgIEpEQkNTdG9yZSBzdG9yZSwgSkRCQ0ZldGNoQ29uZmlndXJhdGlvbiBm\nZXRjaCwgUmVzdWx0IHJlcykgewogICAgICAgIHRoaXMoc3RvcmUuZ2V0Q29u\nZmlndXJhdGlvbigpLmdldE1hcHBpbmdSZXBvc2l0b3J5SW5zdGFuY2UoKS5n\nZXRNYXBwaW5nCiAgICAgICAgICAgIChwY0NsYXNzLCBzdG9yZS5nZXRDb250\nZXh0KCkuZ2V0Q2xhc3NMb2FkZXIoKSwgdHJ1ZSksCiAgICAgICAgICAgIHN0\nb3JlLCBmZXRjaCwgcmVzKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0\ncnVjdG9yLgogICAgICoKICAgICAqIEBwYXJhbSBtYXBwaW5nIHRoZSBtYXBw\naW5nIGZvciB0aGUgYmFzZSBjbGFzcyBvZiB0aGUgcmVzdWx0IG9iamVjdHMK\nICAgICAqIEBwYXJhbSBzdG9yZSB0aGUgc3RvcmUgbWFuYWdlciB0byBkZWxl\nZ2F0ZSBsb2FkaW5nIHRvCiAgICAgKiBAcGFyYW0gZmV0Y2ggdGhlIGZldGNo\nIGNvbmZpZ3VyYXRpb24sIG9yIG51bGwgZm9yIGRlZmF1bHQKICAgICAqIEBw\nYXJhbSByZXMgdGhlIHJlc3VsdCBjb250YWluaW5nIHRoZSBkYXRhCiAgICAg\nKi8KICAgIHB1YmxpYyBHZW5lcmljUmVzdWx0T2JqZWN0UHJvdmlkZXIoQ2xh\nc3NNYXBwaW5nIG1hcHBpbmcsCiAgICAgICAgSkRCQ1N0b3JlIHN0b3JlLCBK\nREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLCBSZXN1bHQgcmVzKSB7CiAg\nICAgICAgX21hcHBpbmcgPSBtYXBwaW5nOwogICAgICAgIF9zdG9yZSA9IHN0\nb3JlOwogICAgICAgIGlmIChmZXRjaCA9PSBudWxsKQogICAgICAgICAgICBf\nZmV0Y2ggPSBzdG9yZS5nZXRGZXRjaENvbmZpZ3VyYXRpb24oKTsKICAgICAg\nICBlbHNlCiAgICAgICAgICAgIF9mZXRjaCA9IGZldGNoOwogICAgICAgIF9y\nZXMgPSByZXM7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gc3VwcG9ydHNS\nYW5kb21BY2Nlc3MoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIF9yZXMuc3VwcG9ydHNSYW5kb21BY2Nlc3MoKTsKICAgICAgICB9IGNh\ndGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7\nCiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIG9wZW4oKSB7CiAg\nICB9CgogICAgcHVibGljIE9iamVjdCBnZXRSZXN1bHRPYmplY3QoKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIC8vIHJhdGhlciB0\naGFuIHVzZSB0aGUgc3RhbmRhcmQgcmVzdWx0LmxvYWQoKSwgd2UgZ28gZGly\nZWN0IHRvCiAgICAgICAgLy8gdGhlIHN0b3JlIG1hbmFnZXIgc28gd2UgY2Fu\nIHRlbGwgaXQgbm90IHRvIGxvYWQgYW55dGhpbmcgYWRkaXRpb25hbAogICAg\nICAgIHJldHVybiAoKEpEQkNTdG9yZU1hbmFnZXIpIF9zdG9yZSkubG9hZChf\nbWFwcGluZywgX2ZldGNoLAogICAgICAgICAgICBTdG9yZUNvbnRleHQuRVhD\nTFVERV9BTEwsIF9yZXMpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIG5l\neHQoKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBfcmVzLm5leHQoKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBh\nYnNvbHV0ZShpbnQgcG9zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzLmFic29sdXRlKHBvcyk7CiAgICB9Cgog\nICAgcHVibGljIGludCBzaXplKCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICBpZiAoX2ZldGNoLmdldExSU1NpemUoKSA9PSBMUlNT\naXplcy5TSVpFX1VOS05PV04KICAgICAgICAgICAgfHwgIXN1cHBvcnRzUmFu\nZG9tQWNjZXNzKCkpCiAgICAgICAgICAgIHJldHVybiBJbnRlZ2VyLk1BWF9W\nQUxVRTsKICAgICAgICByZXR1cm4gX3Jlcy5zaXplKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgcmVzZXQoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgY2xv\nc2UoKSB7CiAgICAgICAgX3Jlcy5jbG9zZSgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIGhhbmRsZUNoZWNrZWRFeGNlcHRpb24oRXhjZXB0aW9uIGUpIHsK\nICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFNRTEV4Y2VwdGlvbikKICAgICAg\nICAgICAgdGhyb3cgU1FMRXhjZXB0aW9ucy5nZXRTdG9yZSgoU1FMRXhjZXB0\naW9uKSBlLAogICAgICAgICAgICAgICAgX3N0b3JlLmdldERCRGljdGlvbmFy\neSgpKTsKICAgICAgICB0aHJvdyBuZXcgU3RvcmVFeGNlcHRpb24oZSk7CiAg\nICB9Cn0K\n","encoding":"base64"}

