{"sha":"06ab0b9274449b63fc55b95f3273acb53ac852fb","node_id":"MDQ6QmxvYjIwNjM2NDowNmFiMGI5Mjc0NDQ5YjYzZmM1NWI5NWYzMjczYWNiNTNhYzg1MmZi","size":4178,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/06ab0b9274449b63fc55b95f3273acb53ac852fb","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbDsKCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0\naW9uOwppbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7CmltcG9y\ndCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9ydCBqYXZhLnV0aWwuQ29s\nbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5MaW5rZWRMaXN0OwoKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuQ2xhc3NNYXBwaW5nOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25h\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuUm93Owpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlJvd0ltcGw7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FMRXhjZXB0aW9u\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuT3BlbkpQQVN0\nYXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRp\nbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5P\ncGVuSlBBRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0\naWwuT3B0aW1pc3RpY0V4Y2VwdGlvbjsKCi8qKgogKiBCYXNpYyBwcmVwYXJl\nZCBzdGF0ZW1lbnQgbWFuYWdlciBpbXBsZW1lbnRhdGlvbi4KICoKICogQGF1\ndGhvciBBYmUgV2hpdGUKICovCmNsYXNzIFByZXBhcmVkU3RhdGVtZW50TWFu\nYWdlckltcGwgCiAgICBpbXBsZW1lbnRzIFByZXBhcmVkU3RhdGVtZW50TWFu\nYWdlciB7CgogICAgcHJpdmF0ZSBmaW5hbCBzdGF0aWMgTG9jYWxpemVyIF9s\nb2MgPSBMb2NhbGl6ZXIKICAgICAgICAuZm9yUGFja2FnZShQcmVwYXJlZFN0\nYXRlbWVudE1hbmFnZXJJbXBsLmNsYXNzKTsKCiAgICBwcml2YXRlIGZpbmFs\nIEpEQkNTdG9yZSBfc3RvcmU7CiAgICBwcml2YXRlIGZpbmFsIENvbm5lY3Rp\nb24gX2Nvbm47CiAgICBwcml2YXRlIGZpbmFsIERCRGljdGlvbmFyeSBfZGlj\ndDsKCiAgICAvLyB0cmFjayBleGNlcHRpb25zCiAgICBwcml2YXRlIGZpbmFs\nIENvbGxlY3Rpb24gX2V4Y2VwdGlvbnMgPSBuZXcgTGlua2VkTGlzdCgpOwoK\nICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuIFN1cHBseSBjb25uZWN0aW9u\nLgogICAgICovCiAgICBwdWJsaWMgUHJlcGFyZWRTdGF0ZW1lbnRNYW5hZ2Vy\nSW1wbChKREJDU3RvcmUgc3RvcmUsIENvbm5lY3Rpb24gY29ubikgewogICAg\nICAgIF9zdG9yZSA9IHN0b3JlOwogICAgICAgIF9kaWN0ID0gc3RvcmUuZ2V0\nREJEaWN0aW9uYXJ5KCk7CiAgICAgICAgX2Nvbm4gPSBjb25uOwogICAgfQoK\nICAgIHB1YmxpYyBDb2xsZWN0aW9uIGdldEV4Y2VwdGlvbnMoKSB7CiAgICAg\nICAgcmV0dXJuIF9leGNlcHRpb25zOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIGZsdXNoKFJvd0ltcGwgcm93KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgZmx1c2hJbnRlcm5hbChyb3cpOwogICAgICAgIH0gY2F0Y2ggKFNRTEV4\nY2VwdGlvbiBzZSkgewogICAgICAgICAgICBfZXhjZXB0aW9ucy5hZGQoU1FM\nRXhjZXB0aW9ucy5nZXRTdG9yZShzZSwgX2RpY3QpKTsKICAgICAgICB9IGNh\ndGNoIChPcGVuSlBBRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIF9leGNl\ncHRpb25zLmFkZChrZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAg\nICogRmx1c2ggdGhlIGdpdmVuIHJvdy4KICAgICAqLwogICAgcHJpdmF0ZSB2\nb2lkIGZsdXNoSW50ZXJuYWwoUm93SW1wbCByb3cpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIC8vIGNhbid0IGJhdGNoIHJvd3Mgd2l0aCBhdXRv\nLWluYyBjb2x1bW5zCiAgICAgICAgQ29sdW1uW10gYXV0b0Fzc2lnbiA9IG51\nbGw7CiAgICAgICAgaWYgKHJvdy5nZXRBY3Rpb24oKSA9PSBSb3cuQUNUSU9O\nX0lOU0VSVCkKICAgICAgICAgICAgYXV0b0Fzc2lnbiA9IHJvdy5nZXRUYWJs\nZSgpLmdldEF1dG9Bc3NpZ25lZENvbHVtbnMoKTsKCiAgICAgICAgLy8gcHJl\ncGFyZSBzdGF0ZW1lbnQKICAgICAgICBTdHJpbmcgc3FsID0gcm93LmdldFNR\nTChfZGljdCk7CiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RtbnQgPSBf\nY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbCk7CgogICAgICAgIC8vIHNldHVw\nIHBhcmFtZXRlcnMgYW5kIGV4ZWN1dGUgc3RhdGVtZW50CiAgICAgICAgcm93\nLmZsdXNoKHN0bW50LCBfZGljdCwgX3N0b3JlKTsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBpbnQgY291bnQgPSBzdG1udC5leGVjdXRlVXBkYXRlKCk7\nCiAgICAgICAgICAgIGlmIChjb3VudCAhPSAxKSB7CiAgICAgICAgICAgICAg\nICBPYmplY3QgZmFpbGVkID0gcm93LmdldEZhaWxlZE9iamVjdCgpOwogICAg\nICAgICAgICAgICAgaWYgKGZhaWxlZCAhPSBudWxsKQogICAgICAgICAgICAg\nICAgICAgIF9leGNlcHRpb25zLmFkZChuZXcgT3B0aW1pc3RpY0V4Y2VwdGlv\nbihmYWlsZWQpKTsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJvdy5nZXRB\nY3Rpb24oKSA9PSBSb3cuQUNUSU9OX0lOU0VSVCkKICAgICAgICAgICAgICAg\nICAgICB0aHJvdyBuZXcgU1FMRXhjZXB0aW9uKF9sb2MuZ2V0KAogICAgICAg\nICAgICAgICAgICAgICAgICAidXBkYXRlLWZhaWxlZC1uby1mYWlsZWQtb2Jq\nIiwgU3RyaW5nLnZhbHVlT2YoY291bnQpLAogICAgICAgICAgICAgICAgICAg\nICAgICBzcWwpLmdldE1lc3NhZ2UoKSk7CiAgICAgICAgICAgIH0KICAgICAg\nICB9IGNhdGNoIChTUUxFeGNlcHRpb24gc2UpIHsKICAgICAgICAgICAgdGhy\nb3cgU1FMRXhjZXB0aW9ucy5nZXRTdG9yZShzZSwgcm93LmdldEZhaWxlZE9i\namVjdCgpLCBfZGljdCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAg\nICAgdHJ5IHsgc3RtbnQuY2xvc2UoKTsgfSBjYXRjaCAoU1FMRXhjZXB0aW9u\nIHNlKSB7fQogICAgICAgIH0KCiAgICAgICAgLy8gc2V0IGF1dG8gYXNzaWdu\nIHZhbHVlcwogICAgICAgIGlmIChhdXRvQXNzaWduICE9IG51bGwgJiYgYXV0\nb0Fzc2lnbi5sZW5ndGggPiAwCiAgICAgICAgICAgICYmIHJvdy5nZXRQcmlt\nYXJ5S2V5KCkgIT0gbnVsbCkgewogICAgICAgICAgICBPcGVuSlBBU3RhdGVN\nYW5hZ2VyIHNtID0gcm93LmdldFByaW1hcnlLZXkoKTsKICAgICAgICAgICAg\nQ2xhc3NNYXBwaW5nIG1hcHBpbmcgPSAoQ2xhc3NNYXBwaW5nKSBzbS5nZXRN\nZXRhRGF0YSgpOwogICAgICAgICAgICBPYmplY3QgdmFsOwogICAgICAgICAg\nICBmb3IgKGludCBpID0gMDsgaSA8IGF1dG9Bc3NpZ24ubGVuZ3RoOyBpKysp\nIHsKICAgICAgICAgICAgICAgIHZhbCA9IF9kaWN0LmdldEdlbmVyYXRlZEtl\neShhdXRvQXNzaWduW2ldLCBfY29ubik7CiAgICAgICAgICAgICAgICBtYXBw\naW5nLmFzc2VydEpvaW5hYmxlKGF1dG9Bc3NpZ25baV0pLnNldEF1dG9Bc3Np\nZ25lZFZhbHVlKHNtLAogICAgICAgICAgICAgICAgICAgIF9zdG9yZSwgYXV0\nb0Fzc2lnbltpXSwgdmFsKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBmbHVzaCgpIHsKICAgIH0KfQo=\n","encoding":"base64"}

