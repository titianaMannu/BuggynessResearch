{"sha":"a5177e1d4610bba21557ee965ebddf965b2feaa4","node_id":"MDQ6QmxvYjIwNjM2NDphNTE3N2UxZDQ2MTBiYmEyMTU1N2VlOTY1ZWJkZGY5NjViMmZlYWE0","size":3186,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a5177e1d4610bba21557ee965ebddf965b2feaa4","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzOwoKaW1wb3J0IGphdmEudXRpbC5N\nYXA7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEJ1\nZmZlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TZWxl\nY3Q7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkZpbHRlcnM7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRXhwcmVz\nc2lvblZpc2l0b3I7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0\naWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwu\nVXNlckV4Y2VwdGlvbjsKCi8qKgogKiBDb21wYXJlcyB0d28gdmFsdWVzLgog\nKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KY2xhc3MgQ29tcGFyZUV4cHJl\nc3Npb24KICAgIGltcGxlbWVudHMgRXhwIHsKCiAgICBwdWJsaWMgc3RhdGlj\nIGZpbmFsIFN0cmluZyBMRVNTID0gIjwiOwogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBTdHJpbmcgR1JFQVRFUiA9ICI+IjsKICAgIHB1YmxpYyBzdGF0aWMg\nZmluYWwgU3RyaW5nIExFU1NfRVFVQUwgPSAiPD0iOwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgR1JFQVRFUl9FUVVBTCA9ICI+PSI7CgogICAg\ncHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6\nZXIuZm9yUGFja2FnZQogICAgICAgIChDb21wYXJlRXhwcmVzc2lvbi5jbGFz\ncyk7CgogICAgcHJpdmF0ZSBmaW5hbCBWYWwgX3ZhbDE7CiAgICBwcml2YXRl\nIGZpbmFsIFZhbCBfdmFsMjsKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIF9v\ncDsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLiBTdXBwbHkgdmFsdWVz\nIGFuZCBvcGVyYXRvci4KICAgICAqLwogICAgcHVibGljIENvbXBhcmVFeHBy\nZXNzaW9uKFZhbCB2YWwxLCBWYWwgdmFsMiwgU3RyaW5nIG9wKSB7CiAgICAg\nICAgX3ZhbDEgPSB2YWwxOwogICAgICAgIF92YWwyID0gdmFsMjsKICAgICAg\nICBfb3AgPSBvcDsKICAgIH0KCiAgICBwdWJsaWMgRXhwU3RhdGUgaW5pdGlh\nbGl6ZShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgTWFwIGNvbnRhaW5z\nKSB7CiAgICAgICAgRXhwU3RhdGUgczEgPSBfdmFsMS5pbml0aWFsaXplKHNl\nbCwgY3R4LCAwKTsKICAgICAgICBFeHBTdGF0ZSBzMiA9IF92YWwyLmluaXRp\nYWxpemUoc2VsLCBjdHgsIDApOwogICAgICAgIHJldHVybiBuZXcgQmluYXJ5\nT3BFeHBTdGF0ZShzZWwuYW5kKHMxLmpvaW5zLCBzMi5qb2lucyksIHMxLCBz\nMik7CiAgICB9CgogICAgcHVibGljIHZvaWQgYXBwZW5kVG8oU2VsZWN0IHNl\nbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBT\nUUxCdWZmZXIgYnVmKSB7CiAgICAgICAgQmluYXJ5T3BFeHBTdGF0ZSBic3Rh\ndGUgPSAoQmluYXJ5T3BFeHBTdGF0ZSkgc3RhdGU7CiAgICAgICAgX3ZhbDEu\nY2FsY3VsYXRlVmFsdWUoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTEsIF92YWwy\nLCBic3RhdGUuc3RhdGUyKTsKICAgICAgICBfdmFsMi5jYWxjdWxhdGVWYWx1\nZShzZWwsIGN0eCwgYnN0YXRlLnN0YXRlMiwgX3ZhbDEsIGJzdGF0ZS5zdGF0\nZTEpOwogICAgICAgIGlmICghRmlsdGVycy5jYW5Db252ZXJ0KF92YWwxLmdl\ndFR5cGUoKSwgX3ZhbDIuZ2V0VHlwZSgpLCBmYWxzZSkKICAgICAgICAgICAg\nJiYgIUZpbHRlcnMuY2FuQ29udmVydChfdmFsMi5nZXRUeXBlKCksIF92YWwx\nLmdldFR5cGUoKSwgZmFsc2UpKQogICAgICAgICAgICB0aHJvdyBuZXcgVXNl\nckV4Y2VwdGlvbihfbG9jLmdldCgiY2FudC1jb252ZXJ0IiwgX3ZhbDEuZ2V0\nVHlwZSgpLAogICAgICAgICAgICAgICAgX3ZhbDIuZ2V0VHlwZSgpKSk7Cgog\nICAgICAgIGN0eC5zdG9yZS5nZXREQkRpY3Rpb25hcnkoKS5jb21wYXJpc29u\nKGJ1ZiwgX29wLAogICAgICAgICAgICBuZXcgRmlsdGVyVmFsdWVJbXBsKHNl\nbCwgY3R4LCBic3RhdGUuc3RhdGUxLCBfdmFsMSksCiAgICAgICAgICAgIG5l\ndyBGaWx0ZXJWYWx1ZUltcGwoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTIsIF92\nYWwyKSk7CiAgICAgICAgc2VsLmFwcGVuZChidWYsIHN0YXRlLmpvaW5zKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZWxlY3RDb2x1bW5zKFNlbGVjdCBz\nZWwsIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSwgCiAgICAgICAg\nYm9vbGVhbiBwa3MpIHsKICAgICAgICBCaW5hcnlPcEV4cFN0YXRlIGJzdGF0\nZSA9IChCaW5hcnlPcEV4cFN0YXRlKSBzdGF0ZTsKICAgICAgICBfdmFsMS5z\nZWxlY3RDb2x1bW5zKHNlbCwgY3R4LCBic3RhdGUuc3RhdGUxLCB0cnVlKTsK\nICAgICAgICBfdmFsMi5zZWxlY3RDb2x1bW5zKHNlbCwgY3R4LCBic3RhdGUu\nc3RhdGUyLCB0cnVlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhY2NlcHRW\naXNpdChFeHByZXNzaW9uVmlzaXRvciB2aXNpdG9yKSB7CiAgICAgICAgdmlz\naXRvci5lbnRlcih0aGlzKTsKICAgICAgICBfdmFsMS5hY2NlcHRWaXNpdCh2\naXNpdG9yKTsKICAgICAgICBfdmFsMi5hY2NlcHRWaXNpdCh2aXNpdG9yKTsK\nICAgICAgICB2aXNpdG9yLmV4aXQodGhpcyk7CiAgICB9Cn0K\n","encoding":"base64"}

