{"sha":"cc292d68e618d1b161f8c887fdb78e6dfa75d6ca","node_id":"MDQ6QmxvYjIwNjM2NDpjYzI5MmQ2OGU2MThkMWIxNjFmOGM4ODdmZGI3OGU2ZGZhNzVkNmNh","size":4843,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cc292d68e618d1b161f8c887fdb78e6dfa75d6ca","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzOwoKaW1wb3J0IGphdmEubGFuZy5N\nYXRoOwppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuSmF2YVNRTFR5cGVzOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5SZXN1bHQ7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FMQnVmZmVyOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNlbGVjdDsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuRmlsdGVyczsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5FeHByZXNzaW9uVmlz\naXRvcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0\nYURhdGE7CgovKioKICogQ29uY2F0ZW5hdGUgb25lIHN0cmluZyB3aXRoIGFu\nb3RoZXIuCiAqCiAqIEBhdXRob3IgTWFyYyBQcnVkJ2hvbW1lYXV4CiAqLwpj\nbGFzcyBDb25jYXQKICAgIGV4dGVuZHMgQWJzdHJhY3RWYWwgewoKICAgIHBy\naXZhdGUgZmluYWwgVmFsIF92YWwxOwogICAgcHJpdmF0ZSBmaW5hbCBWYWwg\nX3ZhbDI7CiAgICBwcml2YXRlIENsYXNzTWV0YURhdGEgX21ldGEgPSBudWxs\nOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuIFByb3ZpZGUgdGhlIHN0\ncmluZ3MgdG8gb3BlcmF0ZSBvbi4KICAgICAqLwogICAgcHVibGljIENvbmNh\ndChWYWwgdmFsMSwgVmFsIHZhbDIpIHsKICAgICAgICBfdmFsMSA9IHZhbDE7\nCiAgICAgICAgX3ZhbDIgPSB2YWwyOwogICAgfQoKICAgIHB1YmxpYyBDbGFz\nc01ldGFEYXRhIGdldE1ldGFEYXRhKCkgewogICAgICAgIHJldHVybiBfbWV0\nYTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNZXRhRGF0YShDbGFzc01l\ndGFEYXRhIG1ldGEpIHsKICAgICAgICBfbWV0YSA9IG1ldGE7CiAgICB9Cgog\nICAgcHVibGljIENsYXNzIGdldFR5cGUoKSB7CiAgICAgICAgcmV0dXJuIFN0\ncmluZy5jbGFzczsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJbXBsaWNp\ndFR5cGUoQ2xhc3MgdHlwZSkgewogICAgfQoKICAgIHB1YmxpYyBFeHBTdGF0\nZSBpbml0aWFsaXplKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBpbnQg\nZmxhZ3MpIHsKICAgICAgICBFeHBTdGF0ZSBzMSA9IF92YWwxLmluaXRpYWxp\nemUoc2VsLCBjdHgsIDApOwogICAgICAgIEV4cFN0YXRlIHMyID0gX3ZhbDIu\naW5pdGlhbGl6ZShzZWwsIGN0eCwgMCk7CiAgICAgICAgcmV0dXJuIG5ldyBC\naW5hcnlPcEV4cFN0YXRlKHNlbC5hbmQoczEuam9pbnMsIHMyLmpvaW5zKSwg\nczEsIHMyKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZWxlY3QoU2VsZWN0\nIHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAg\nICBib29sZWFuIHBrcykgewogICAgICAgIHNlbC5zZWxlY3QobmV3U1FMQnVm\nZmVyKHNlbCwgY3R4LCBzdGF0ZSksIHRoaXMpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNlbGVjdENvbHVtbnMoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBj\ndHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBib29sZWFuIHBrcykgewog\nICAgICAgIEJpbmFyeU9wRXhwU3RhdGUgYnN0YXRlID0gKEJpbmFyeU9wRXhw\nU3RhdGUpIHN0YXRlOwogICAgICAgIF92YWwxLnNlbGVjdENvbHVtbnMoc2Vs\nLCBjdHgsIGJzdGF0ZS5zdGF0ZTEsIHRydWUpOwogICAgICAgIF92YWwyLnNl\nbGVjdENvbHVtbnMoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTIsIHRydWUpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIGdyb3VwQnkoU2VsZWN0IHNlbCwgRXhw\nQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAgICAgc2VsLmdy\nb3VwQnkobmV3U1FMQnVmZmVyKHNlbCwgY3R4LCBzdGF0ZSkpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIG9yZGVyQnkoU2VsZWN0IHNlbCwgRXhwQ29udGV4\ndCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBib29sZWFuIGFzYykg\newogICAgICAgIHNlbC5vcmRlckJ5KG5ld1NRTEJ1ZmZlcihzZWwsIGN0eCwg\nc3RhdGUpLCBhc2MsIGZhbHNlKTsKICAgIH0KCiAgICBwcml2YXRlIFNRTEJ1\nZmZlciBuZXdTUUxCdWZmZXIoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgs\nIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAgICAgY2FsY3VsYXRlVmFsdWUoc2Vs\nLCBjdHgsIHN0YXRlLCBudWxsLCBudWxsKTsKICAgICAgICBTUUxCdWZmZXIg\nYnVmID0gbmV3IFNRTEJ1ZmZlcihjdHguc3RvcmUuZ2V0REJEaWN0aW9uYXJ5\nKCkpOwogICAgICAgIGFwcGVuZFRvKHNlbCwgY3R4LCBzdGF0ZSwgYnVmLCAw\nKTsKICAgICAgICByZXR1cm4gYnVmOwogICAgfQoKICAgIHB1YmxpYyBPYmpl\nY3QgbG9hZChFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3RhdGUsIFJlc3Vs\ndCByZXMpIAogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBGaWx0ZXJzLmNvbnZlcnQocmVzLmdldE9iamVjdCh0aGlzLAog\nICAgICAgICAgICBKYXZhU1FMVHlwZXMuSkRCQ19ERUZBVUxULCBudWxsKSwg\nZ2V0VHlwZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjYWxjdWxhdGVW\nYWx1ZShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3Rh\ndGUsIAogICAgICAgIFZhbCBvdGhlciwgRXhwU3RhdGUgb3RoZXJTdGF0ZSkg\newogICAgICAgIEJpbmFyeU9wRXhwU3RhdGUgYnN0YXRlID0gKEJpbmFyeU9w\nRXhwU3RhdGUpIHN0YXRlOwogICAgICAgIF92YWwxLmNhbGN1bGF0ZVZhbHVl\nKHNlbCwgY3R4LCBic3RhdGUuc3RhdGUxLCBudWxsLCBudWxsKTsKICAgICAg\nICBfdmFsMi5jYWxjdWxhdGVWYWx1ZShzZWwsIGN0eCwgYnN0YXRlLnN0YXRl\nMiwgbnVsbCwgbnVsbCk7CiAgICB9CgogICAgcHVibGljIGludCBsZW5ndGgo\nU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlKSB7\nCiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgcHVibGljIHZvaWQgYXBw\nZW5kVG8oU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0\nYXRlLCAKICAgICAgICBTUUxCdWZmZXIgc3FsLCBpbnQgaW5kZXgpIHsKICAg\nICAgICBCaW5hcnlPcEV4cFN0YXRlIGJzdGF0ZSA9IChCaW5hcnlPcEV4cFN0\nYXRlKSBzdGF0ZTsKICAgICAgICBfdmFsMS5jYWxjdWxhdGVWYWx1ZShzZWws\nIGN0eCwgYnN0YXRlLnN0YXRlMSwgbnVsbCwgbnVsbCk7CiAgICAgICAgX3Zh\nbDIuY2FsY3VsYXRlVmFsdWUoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTIsIG51\nbGwsIG51bGwpOwoKICAgICAgICBEQkRpY3Rpb25hcnkgZGljdCA9IGN0eC5z\ndG9yZS5nZXREQkRpY3Rpb25hcnkoKTsKICAgICAgICBTdHJpbmcgZnVuYyA9\nIGRpY3QuY29uY2F0ZW5hdGVGdW5jdGlvbjsKICAgICAgICBkaWN0LmFzc2Vy\ndFN1cHBvcnQoZnVuYyAhPSBudWxsLCAiQ29uY2F0ZW5hdGVGdW5jdGlvbiIp\nOwogICAgICAgIGludCBwYXJ0MWlkeCA9IGZ1bmMuaW5kZXhPZigiezB9Iik7\nCiAgICAgICAgaW50IHBhcnQyaWR4ID0gZnVuYy5pbmRleE9mKCJ7MX0iKTsK\nICAgICAgICBTdHJpbmcgcGFydDEgPSBmdW5jLnN1YnN0cmluZygwLCBNYXRo\nLm1pbihwYXJ0MWlkeCwgcGFydDJpZHgpKTsKICAgICAgICBTdHJpbmcgcGFy\ndDIgPSBmdW5jLnN1YnN0cmluZyhNYXRoLm1pbihwYXJ0MWlkeCwgcGFydDJp\nZHgpICsgMywKICAgICAgICAgICAgTWF0aC5tYXgocGFydDFpZHgsIHBhcnQy\naWR4KSk7CiAgICAgICAgU3RyaW5nIHBhcnQzID0gZnVuYy5zdWJzdHJpbmco\nTWF0aC5tYXgocGFydDFpZHgsIHBhcnQyaWR4KSArIDMpOwoKICAgICAgICBz\ncWwuYXBwZW5kKHBhcnQxKTsKICAgICAgICBfdmFsMS5hcHBlbmRUbyhzZWws\nIGN0eCwgYnN0YXRlLnN0YXRlMSwgc3FsLCAwKTsKICAgICAgICBzcWwuYXBw\nZW5kKHBhcnQyKTsKICAgICAgICBfdmFsMi5hcHBlbmRUbyhzZWwsIGN0eCwg\nYnN0YXRlLnN0YXRlMiwgc3FsLCAwKTsKICAgICAgICBzcWwuYXBwZW5kKHBh\ncnQzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhY2NlcHRWaXNpdChFeHBy\nZXNzaW9uVmlzaXRvciB2aXNpdG9yKSB7CiAgICAgICAgdmlzaXRvci5lbnRl\ncih0aGlzKTsKICAgICAgICBfdmFsMS5hY2NlcHRWaXNpdCh2aXNpdG9yKTsK\nICAgICAgICBfdmFsMi5hY2NlcHRWaXNpdCh2aXNpdG9yKTsKICAgICAgICB2\naXNpdG9yLmV4aXQodGhpcyk7CiAgICB9Cn0KCg==\n","encoding":"base64"}

