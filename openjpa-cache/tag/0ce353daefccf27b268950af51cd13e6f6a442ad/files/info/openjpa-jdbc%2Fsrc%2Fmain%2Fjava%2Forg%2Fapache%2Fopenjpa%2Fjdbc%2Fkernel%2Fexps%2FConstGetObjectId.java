{"sha":"36190901b1a4a5882728e7b4fb3954ace9f2b146","node_id":"MDQ6QmxvYjIwNjM2NDozNjE5MDkwMWIxYTRhNTg4MjcyOGU3YjRmYjM5NTRhY2U5ZjJiMTQ2","size":3448,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/36190901b1a4a5882728e7b4fb3954ace9f2b146","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5lbmhhbmNlLlBlcnNpc3RlbmNlQ2FwYWJsZTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TUUxCdWZmZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU2VsZWN0OwoKLyoqCiAqIE9i\ndGFpbmluZyB0aGUgb2JqZWN0IGlkIG9mIGEgY29uc3RhbnQuCiAqCiAqIEBh\ndXRob3IgQWJlIFdoaXRlCiAqLwpjbGFzcyBDb25zdEdldE9iamVjdElkCiAg\nICBleHRlbmRzIENvbnN0IHsKCiAgICBwcml2YXRlIGZpbmFsIENvbnN0IF9j\nb25zdGFudDsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLiBTdXBwbHkg\nY29uc3RhbnQgdG8gdHJhdmVyc2UuCiAgICAgKi8KICAgIHB1YmxpYyBDb25z\ndEdldE9iamVjdElkKENvbnN0IGNvbnN0YW50KSB7CiAgICAgICAgX2NvbnN0\nYW50ID0gY29uc3RhbnQ7CiAgICB9CgogICAgcHVibGljIENsYXNzIGdldFR5\ncGUoKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC5jbGFzczsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRJbXBsaWNpdFR5cGUoQ2xhc3MgdHlwZSkgewog\nICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0VmFsdWUoT2JqZWN0W10gcGFy\nYW1zKSB7CiAgICAgICAgT2JqZWN0IG8gPSBfY29uc3RhbnQuZ2V0VmFsdWUo\ncGFyYW1zKTsKICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgUGVyc2lzdGVu\nY2VDYXBhYmxlKSkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAg\ncmV0dXJuICgoUGVyc2lzdGVuY2VDYXBhYmxlKSBvKS5wY0ZldGNoT2JqZWN0\nSWQoKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldFZhbHVlKEV4cENv\nbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSkgewogICAgICAgIHJldHVybiBj\ndHguc3RvcmUuZ2V0Q29udGV4dCgpLmdldE9iamVjdElkKF9jb25zdGFudC5n\nZXRWYWx1ZShjdHgsIAogICAgICAgICAgICAoKENvbnN0R2V0T2JqZWN0SWRF\neHBTdGF0ZSkgc3RhdGUpLmNvbnN0YW50U3RhdGUpKTsKICAgIH0KCiAgICBw\ndWJsaWMgRXhwU3RhdGUgaW5pdGlhbGl6ZShTZWxlY3Qgc2VsLCBFeHBDb250\nZXh0IGN0eCwgaW50IGZsYWdzKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDb25z\ndEdldE9iamVjdElkRXhwU3RhdGUoX2NvbnN0YW50LmluaXRpYWxpemUoc2Vs\nLCBjdHgsIDApKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldFNRTFZh\nbHVlKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0\nZSkgewogICAgICAgIHJldHVybiAoKENvbnN0R2V0T2JqZWN0SWRFeHBTdGF0\nZSkgc3RhdGUpLnNxbFZhbHVlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNh\nbGN1bGF0ZVZhbHVlKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBT\ndGF0ZSBzdGF0ZSwgCiAgICAgICAgVmFsIG90aGVyLCBFeHBTdGF0ZSBvdGhl\nclN0YXRlKSB7CiAgICAgICAgc3VwZXIuY2FsY3VsYXRlVmFsdWUoc2VsLCBj\ndHgsIHN0YXRlLCBvdGhlciwgb3RoZXJTdGF0ZSk7CiAgICAgICAgQ29uc3RH\nZXRPYmplY3RJZEV4cFN0YXRlIGNzdGF0ZSA9IChDb25zdEdldE9iamVjdElk\nRXhwU3RhdGUpIHN0YXRlOwogICAgICAgIF9jb25zdGFudC5jYWxjdWxhdGVW\nYWx1ZShzZWwsIGN0eCwgY3N0YXRlLmNvbnN0YW50U3RhdGUsIG51bGwsIG51\nbGwpOwogICAgICAgIE9iamVjdCBvaWQgPSBjdHguc3RvcmUuZ2V0Q29udGV4\ndCgpLmdldE9iamVjdElkKF9jb25zdGFudC5nZXRWYWx1ZShjdHgsIAogICAg\nICAgICAgICBjc3RhdGUuY29uc3RhbnRTdGF0ZSkpOwogICAgICAgIGlmIChv\ndGhlciAhPSBudWxsKSB7CiAgICAgICAgICAgIGNzdGF0ZS5zcWxWYWx1ZSA9\nIG90aGVyLnRvRGF0YVN0b3JlVmFsdWUoc2VsLCBjdHgsIG90aGVyU3RhdGUs\nIG9pZCk7CiAgICAgICAgICAgIGNzdGF0ZS5vdGhlckxlbmd0aCA9IG90aGVy\nLmxlbmd0aChzZWwsIGN0eCwgb3RoZXJTdGF0ZSk7CiAgICAgICAgfSBlbHNl\nCiAgICAgICAgICAgIGNzdGF0ZS5zcWxWYWx1ZSA9IG9pZDsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBhcHBlbmRUbyhTZWxlY3Qgc2VsLCBFeHBDb250ZXh0\nIGN0eCwgRXhwU3RhdGUgc3RhdGUsIAogICAgICAgIFNRTEJ1ZmZlciBzcWws\nIGludCBpbmRleCkgewogICAgICAgIENvbnN0R2V0T2JqZWN0SWRFeHBTdGF0\nZSBjc3RhdGUgPSAoQ29uc3RHZXRPYmplY3RJZEV4cFN0YXRlKSBzdGF0ZTsK\nICAgICAgICBpZiAoY3N0YXRlLm90aGVyTGVuZ3RoID4gMSkKICAgICAgICAg\nICAgc3FsLmFwcGVuZFZhbHVlKCgoT2JqZWN0W10pIGNzdGF0ZS5zcWxWYWx1\nZSlbaW5kZXhdLCAKICAgICAgICAgICAgICAgIGNzdGF0ZS5nZXRDb2x1bW4o\naW5kZXgpKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHNxbC5hcHBlbmRW\nYWx1ZShjc3RhdGUuc3FsVmFsdWUsIGNzdGF0ZS5nZXRDb2x1bW4oaW5kZXgp\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIEV4cHJlc3Npb24gc3RhdGUuCiAg\nICAgKi8KICAgIHByaXZhdGUgc3RhdGljIGNsYXNzIENvbnN0R2V0T2JqZWN0\nSWRFeHBTdGF0ZSAKICAgICAgICBleHRlbmRzIENvbnN0RXhwU3RhdGUgewoK\nICAgICAgICBwdWJsaWMgZmluYWwgRXhwU3RhdGUgY29uc3RhbnRTdGF0ZTsK\nICAgICAgICBwdWJsaWMgT2JqZWN0IHNxbFZhbHVlID0gbnVsbDsKICAgICAg\nICBwdWJsaWMgaW50IG90aGVyTGVuZ3RoID0gMDsKCiAgICAgICAgcHVibGlj\nIENvbnN0R2V0T2JqZWN0SWRFeHBTdGF0ZShFeHBTdGF0ZSBjb25zdGFudFN0\nYXRlKSB7CiAgICAgICAgICAgIHRoaXMuY29uc3RhbnRTdGF0ZSA9IGNvbnN0\nYW50U3RhdGU7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

