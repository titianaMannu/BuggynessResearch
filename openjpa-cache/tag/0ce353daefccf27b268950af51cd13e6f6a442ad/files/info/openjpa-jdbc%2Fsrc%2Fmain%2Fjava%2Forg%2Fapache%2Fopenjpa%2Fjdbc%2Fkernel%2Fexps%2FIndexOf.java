{"sha":"56cf879ae1320cfbaf6b30630c08fa2835f82b00","node_id":"MDQ6QmxvYjIwNjM2NDo1NmNmODc5YWUxMzIwY2ZiYWY2YjMwNjMwYzA4ZmEyODM1ZjgyYjAw","size":4535,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/56cf879ae1320cfbaf6b30630c08fa2835f82b00","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzOwoKaW1wb3J0IGphdmEuc3FsLlNR\nTEV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5t\nZXRhLkphdmFTUUxUeXBlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5SZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuU1FMQnVmZmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlNlbGVjdDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJu\nZWwuRmlsdGVyczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nZXhwcy5FeHByZXNzaW9uVmlzaXRvcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CgovKioKICogRmluZCB0aGUgaW5k\nZXggb2Ygb25lIHN0cmluZyB3aXRoaW4gYW5vdGhlci4KICoKICogQGF1dGhv\nciBBYmUgV2hpdGUKICovCmNsYXNzIEluZGV4T2YKICAgIGV4dGVuZHMgQWJz\ndHJhY3RWYWwgewoKICAgIHByaXZhdGUgZmluYWwgVmFsIF92YWwxOwogICAg\ncHJpdmF0ZSBmaW5hbCBWYWwgX3ZhbDI7CiAgICBwcml2YXRlIENsYXNzTWV0\nYURhdGEgX21ldGEgPSBudWxsOwogICAgcHJpdmF0ZSBDbGFzcyBfY2FzdCA9\nIG51bGw7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4gUHJvdmlkZSB0\naGUgc3RyaW5ncyB0byBvcGVyYXRlIG9uLgogICAgICovCiAgICBwdWJsaWMg\nSW5kZXhPZihWYWwgdmFsMSwgVmFsIHZhbDIpIHsKICAgICAgICBfdmFsMSA9\nIHZhbDE7CiAgICAgICAgX3ZhbDIgPSB2YWwyOwogICAgfQoKICAgIHB1Ymxp\nYyBDbGFzc01ldGFEYXRhIGdldE1ldGFEYXRhKCkgewogICAgICAgIHJldHVy\nbiBfbWV0YTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNZXRhRGF0YShD\nbGFzc01ldGFEYXRhIG1ldGEpIHsKICAgICAgICBfbWV0YSA9IG1ldGE7CiAg\nICB9CgogICAgcHVibGljIENsYXNzIGdldFR5cGUoKSB7CiAgICAgICAgaWYg\nKF9jYXN0ICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBfY2FzdDsKICAg\nICAgICByZXR1cm4gaW50LmNsYXNzOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldEltcGxpY2l0VHlwZShDbGFzcyB0eXBlKSB7CiAgICAgICAgX2Nhc3Qg\nPSB0eXBlOwogICAgfQoKICAgIHB1YmxpYyBFeHBTdGF0ZSBpbml0aWFsaXpl\nKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBpbnQgZmxhZ3MpIHsKICAg\nICAgICBFeHBTdGF0ZSBzMSA9IF92YWwxLmluaXRpYWxpemUoc2VsLCBjdHgs\nIDApOwogICAgICAgIEV4cFN0YXRlIHMyID0gX3ZhbDIuaW5pdGlhbGl6ZShz\nZWwsIGN0eCwgMCk7CiAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlPcEV4cFN0\nYXRlKHNlbC5hbmQoczEuam9pbnMsIHMyLmpvaW5zKSwgczEsIHMyKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZWxlY3QoU2VsZWN0IHNlbCwgRXhwQ29u\ndGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBib29sZWFuIHBr\ncykgewogICAgICAgIHNlbC5zZWxlY3QobmV3U1FMQnVmZmVyKHNlbCwgY3R4\nLCBzdGF0ZSksIHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNlbGVj\ndENvbHVtbnMoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRl\nIHN0YXRlLCAKICAgICAgICBib29sZWFuIHBrcykgewogICAgICAgIEJpbmFy\neU9wRXhwU3RhdGUgYnN0YXRlID0gKEJpbmFyeU9wRXhwU3RhdGUpIHN0YXRl\nOwogICAgICAgIF92YWwxLnNlbGVjdENvbHVtbnMoc2VsLCBjdHgsIGJzdGF0\nZS5zdGF0ZTEsIHRydWUpOwogICAgICAgIF92YWwyLnNlbGVjdENvbHVtbnMo\nc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTIsIHRydWUpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGdyb3VwQnkoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgs\nIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAgICAgc2VsLmdyb3VwQnkobmV3U1FM\nQnVmZmVyKHNlbCwgY3R4LCBzdGF0ZSkpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIG9yZGVyQnkoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0\nYXRlIHN0YXRlLCAKICAgICAgICBib29sZWFuIGFzYykgewogICAgICAgIHNl\nbC5vcmRlckJ5KG5ld1NRTEJ1ZmZlcihzZWwsIGN0eCwgc3RhdGUpLCBhc2Ms\nIGZhbHNlKTsKICAgIH0KCiAgICBwcml2YXRlIFNRTEJ1ZmZlciBuZXdTUUxC\ndWZmZXIoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0\nYXRlKSB7CiAgICAgICAgY2FsY3VsYXRlVmFsdWUoc2VsLCBjdHgsIHN0YXRl\nLCBudWxsLCBudWxsKTsKICAgICAgICBTUUxCdWZmZXIgYnVmID0gbmV3IFNR\nTEJ1ZmZlcihjdHguc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkpOwogICAgICAg\nIGFwcGVuZFRvKHNlbCwgY3R4LCBzdGF0ZSwgYnVmLCAwKTsKICAgICAgICBy\nZXR1cm4gYnVmOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgbG9hZChFeHBD\nb250ZXh0IGN0eCwgRXhwU3RhdGUgc3RhdGUsIFJlc3VsdCByZXMpIAogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBGaWx0\nZXJzLmNvbnZlcnQocmVzLmdldE9iamVjdCh0aGlzLCBKYXZhU1FMVHlwZXMu\nSkRCQ19ERUZBVUxULCAKICAgICAgICAgICAgbnVsbCksIGdldFR5cGUoKSk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgY2FsY3VsYXRlVmFsdWUoU2VsZWN0\nIHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAg\nICBWYWwgb3RoZXIsIEV4cFN0YXRlIG90aGVyU3RhdGUpIHsKICAgICAgICBC\naW5hcnlPcEV4cFN0YXRlIGJzdGF0ZSA9IChCaW5hcnlPcEV4cFN0YXRlKSBz\ndGF0ZTsKICAgICAgICBfdmFsMS5jYWxjdWxhdGVWYWx1ZShzZWwsIGN0eCwg\nYnN0YXRlLnN0YXRlMSwgbnVsbCwgbnVsbCk7CiAgICAgICAgX3ZhbDIuY2Fs\nY3VsYXRlVmFsdWUoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTIsIG51bGwsIG51\nbGwpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgbGVuZ3RoKFNlbGVjdCBzZWws\nIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSkgewogICAgICAgIHJl\ndHVybiAxOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFwcGVuZFRvKFNlbGVj\ndCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSwgCiAgICAg\nICAgU1FMQnVmZmVyIHNxbCwgaW50IGluZGV4KSB7CiAgICAgICAgQmluYXJ5\nT3BFeHBTdGF0ZSBic3RhdGUgPSAoQmluYXJ5T3BFeHBTdGF0ZSkgc3RhdGU7\nCiAgICAgICAgRmlsdGVyVmFsdWUgc3RyID0gbmV3IEZpbHRlclZhbHVlSW1w\nbChzZWwsIGN0eCwgYnN0YXRlLnN0YXRlMSwgX3ZhbDEpOwogICAgICAgIEZp\nbHRlclZhbHVlIHNlYXJjaDsKICAgICAgICBGaWx0ZXJWYWx1ZSBzdGFydCA9\nIG51bGw7CiAgICAgICAgaWYgKF92YWwyIGluc3RhbmNlb2YgQXJncykgewog\nICAgICAgICAgICBGaWx0ZXJWYWx1ZVtdIGZpbHRzID0gKChBcmdzKSBfdmFs\nMikubmV3RmlsdGVyVmFsdWVzKHNlbCwgY3R4LCAKICAgICAgICAgICAgICAg\nIGJzdGF0ZS5zdGF0ZTIpOwogICAgICAgICAgICBzZWFyY2ggPSBmaWx0c1sw\nXTsKICAgICAgICAgICAgc3RhcnQgPSBmaWx0c1sxXTsKICAgICAgICB9IGVs\nc2UKICAgICAgICAgICAgc2VhcmNoID0gbmV3IEZpbHRlclZhbHVlSW1wbChz\nZWwsIGN0eCwgYnN0YXRlLnN0YXRlMiwgX3ZhbDIpOwoKICAgICAgICBjdHgu\nc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkuaW5kZXhPZihzcWwsIHN0ciwgc2Vh\ncmNoLCBzdGFydCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgYWNjZXB0Vmlz\naXQoRXhwcmVzc2lvblZpc2l0b3IgdmlzaXRvcikgewogICAgICAgIHZpc2l0\nb3IuZW50ZXIodGhpcyk7CiAgICAgICAgX3ZhbDEuYWNjZXB0VmlzaXQodmlz\naXRvcik7CiAgICAgICAgX3ZhbDIuYWNjZXB0VmlzaXQodmlzaXRvcik7CiAg\nICAgICAgdmlzaXRvci5leGl0KHRoaXMpOwogICAgfQp9Cgo=\n","encoding":"base64"}

