{"sha":"35e32cfdaefd3a528d0158776899351d1c8bebfe","node_id":"MDQ6QmxvYjIwNjM2NDozNWUzMmNmZGFlZmQzYTUyOGQwMTU4Nzc2ODk5MzUxZDFjOGJlYmZl","size":12475,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/35e32cfdaefd3a528d0158776899351d1c8bebfe","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMubWV0YS5KYXZhU1FMVHlwZXM7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuREJEaWN0aW9uYXJ5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLkFnZ3JlZ2F0ZUxp\nc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBz\nLkFyZ3VtZW50czsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nZXhwcy5FeHByZXNzaW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtl\ncm5lbC5leHBzLkV4cHJlc3Npb25GYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5leHBzLkZpbHRlckxpc3RlbmVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLkxpdGVyYWw7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuUGFyYW1ldGVyOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLlBhdGg7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuU3VicXVlcnk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuVmFsdWU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0\nYTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlVzZXJFeGNlcHRp\nb247CgovKioKICogRXhwcmVzc2lvbiBmYWN0b3J5IGltcGxlbWVudGF0aW9u\nIHRoYXQgY2FuIGJlIHVzZWQgdG8gZXhlY3V0ZSBxdWVyaWVzCiAqIHZpYSBT\nUUwuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MKICov\nCnB1YmxpYyBjbGFzcyBKREJDRXhwcmVzc2lvbkZhY3RvcnkKICAgIGltcGxl\nbWVudHMgRXhwcmVzc2lvbkZhY3RvcnkgewoKICAgIHByaXZhdGUgc3RhdGlj\nIGZpbmFsIFZhbCBOVUxMID0gbmV3IE51bGwoKTsKICAgIHByaXZhdGUgc3Rh\ndGljIGZpbmFsIFZhbCBDVVJSRU5UX0RBVEUgPSBuZXcgQ3VycmVudERhdGUo\nSmF2YVNRTFR5cGVzLkRBVEUpOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwg\nVmFsIENVUlJFTlRfVElNRSA9IG5ldyBDdXJyZW50RGF0ZShKYXZhU1FMVHlw\nZXMuVElNRSk7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBWYWwgQ1VSUkVO\nVF9USU1FU1RBTVAgPQogICAgICAgIG5ldyBDdXJyZW50RGF0ZShKYXZhU1FM\nVHlwZXMuVElNRVNUQU1QKTsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBM\nb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAg\nKEpEQkNFeHByZXNzaW9uRmFjdG9yeS5jbGFzcyk7CgogICAgcHJpdmF0ZSBm\naW5hbCBDbGFzc01hcHBpbmcgX3R5cGU7CiAgICBwcml2YXRlIGZpbmFsIFNl\nbGVjdENvbnN0cnVjdG9yIF9jb25zID0gbmV3IFNlbGVjdENvbnN0cnVjdG9y\nKCk7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4gU3VwcGx5IHRoZSB0\neXBlIHdlJ3JlIHF1ZXJ5aW5nIGFnYWluc3QuCiAgICAgKi8KICAgIHB1Ymxp\nYyBKREJDRXhwcmVzc2lvbkZhY3RvcnkoQ2xhc3NNYXBwaW5nIHR5cGUpIHsK\nICAgICAgICBfdHlwZSA9IHR5cGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBV\nc2UgdG8gY3JlYXRlIFNRTCBzZWxlY3QuCiAgICAgKi8KICAgIHB1YmxpYyBT\nZWxlY3RDb25zdHJ1Y3RvciBnZXRTZWxlY3RDb25zdHJ1Y3RvcigpIHsKICAg\nICAgICByZXR1cm4gX2NvbnM7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Np\nb24gZW1wdHlFeHByZXNzaW9uKCkgewogICAgICAgIHJldHVybiBuZXcgRW1w\ndHlFeHByZXNzaW9uKCk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24g\nYXNFeHByZXNzaW9uKFZhbHVlIHYpIHsKICAgICAgICByZXR1cm4gZXF1YWwo\ndiwgbmV3TGl0ZXJhbChCb29sZWFuLlRSVUUsIExpdGVyYWwuVFlQRV9CT09M\nRUFOKSk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gZXF1YWwoVmFs\ndWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgLy8gaWYgd2UncmUgY29tcGFy\naW5nIGFuIHVuYWNjZXNzZWQgYm91bmQgdmFyaWFibGUsIGxpa2UgaW46CiAg\nICAgICAgLy8gY29sbC5jb250YWlucyAodmFyKSAmJiB2YXIgPT0geCwgdGhl\nbiB0cmFuc2xhdGUgaW50bzoKICAgICAgICAvLyBjb2xsLmNvbnRhaW5zICh4\nKQogICAgICAgIGlmICh2MSBpbnN0YW5jZW9mIFBDUGF0aCAmJiAoKFBDUGF0\naCkgdjEpLmlzVW5hY2Nlc3NlZFZhcmlhYmxlKCkpCiAgICAgICAgICAgIHJl\ndHVybiBjb250YWlucyh2MSwgdjIpOwogICAgICAgIGlmICh2MiBpbnN0YW5j\nZW9mIFBDUGF0aCAmJiAoKFBDUGF0aCkgdjIpLmlzVW5hY2Nlc3NlZFZhcmlh\nYmxlKCkpCiAgICAgICAgICAgIHJldHVybiBjb250YWlucyh2MiwgdjEpOwog\nICAgICAgIHJldHVybiBuZXcgRXF1YWxFeHByZXNzaW9uKChWYWwpIHYxLCAo\nVmFsKSB2Mik7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gbm90RXF1\nYWwoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBO\nb3RFcXVhbEV4cHJlc3Npb24oKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0K\nCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBsZXNzVGhhbihWYWx1ZSB2MSwgVmFs\ndWUgdjIpIHsKICAgICAgICByZXR1cm4gbmV3IENvbXBhcmVFeHByZXNzaW9u\nKChWYWwpIHYxLCAoVmFsKSB2MiwKICAgICAgICAgICAgQ29tcGFyZUV4cHJl\nc3Npb24uTEVTUyk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gZ3Jl\nYXRlclRoYW4oVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBDb21wYXJlRXhwcmVzc2lvbigoVmFsKSB2MSwgKFZhbCkgdjIsCiAg\nICAgICAgICAgIENvbXBhcmVFeHByZXNzaW9uLkdSRUFURVIpOwogICAgfQoK\nICAgIHB1YmxpYyBFeHByZXNzaW9uIGxlc3NUaGFuRXF1YWwoVmFsdWUgdjEs\nIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJlRXhwcmVz\nc2lvbigoVmFsKSB2MSwgKFZhbCkgdjIsCiAgICAgICAgICAgIENvbXBhcmVF\neHByZXNzaW9uLkxFU1NfRVFVQUwpOwogICAgfQoKICAgIHB1YmxpYyBFeHBy\nZXNzaW9uIGdyZWF0ZXJUaGFuRXF1YWwoVmFsdWUgdjEsIFZhbHVlIHYyKSB7\nCiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJlRXhwcmVzc2lvbigoVmFsKSB2\nMSwgKFZhbCkgdjIsCiAgICAgICAgICAgIENvbXBhcmVFeHByZXNzaW9uLkdS\nRUFURVJfRVFVQUwpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGlz\nRW1wdHkoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBJc0VtcHR5\nRXhwcmVzc2lvbigoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBFeHBy\nZXNzaW9uIGlzTm90RW1wdHkoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBJc05vdEVtcHR5RXhwcmVzc2lvbigoVmFsKSB2YWwpOwogICAgfQoK\nICAgIHB1YmxpYyBFeHByZXNzaW9uIGNvbnRhaW5zKFZhbHVlIG1hcCwgVmFs\ndWUgYXJnKSB7CiAgICAgICAgaWYgKG1hcCBpbnN0YW5jZW9mIENvbnN0KQog\nICAgICAgICAgICByZXR1cm4gbmV3IEluRXhwcmVzc2lvbigoVmFsKSBhcmcs\nIChDb25zdCkgbWFwKTsKICAgICAgICBpZiAobWFwIGluc3RhbmNlb2YgU3Vi\nUSkKICAgICAgICAgICAgcmV0dXJuIG5ldyBJblN1YlFFeHByZXNzaW9uKChW\nYWwpIGFyZywgKFN1YlEpIG1hcCk7CiAgICAgICAgcmV0dXJuIG5ldyBDb250\nYWluc0V4cHJlc3Npb24oKFZhbCkgbWFwLCAoVmFsKSBhcmcpOwogICAgfQoK\nICAgIHB1YmxpYyBFeHByZXNzaW9uIGNvbnRhaW5zS2V5KFZhbHVlIG1hcCwg\nVmFsdWUgYXJnKSB7CiAgICAgICAgaWYgKG1hcCBpbnN0YW5jZW9mIENvbnN0\nKQogICAgICAgICAgICByZXR1cm4gbmV3IEluS2V5RXhwcmVzc2lvbigoVmFs\nKSBhcmcsIChDb25zdCkgbWFwKTsKICAgICAgICByZXR1cm4gbmV3IENvbnRh\naW5zS2V5RXhwcmVzc2lvbigoVmFsKSBtYXAsIChWYWwpIGFyZyk7CiAgICB9\nCgogICAgcHVibGljIEV4cHJlc3Npb24gY29udGFpbnNWYWx1ZShWYWx1ZSBt\nYXAsIFZhbHVlIGFyZykgewogICAgICAgIGlmIChtYXAgaW5zdGFuY2VvZiBD\nb25zdCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBJblZhbHVlRXhwcmVzc2lv\nbigoVmFsKSBhcmcsIChDb25zdCkgbWFwKTsKICAgICAgICByZXR1cm4gbmV3\nIENvbnRhaW5zRXhwcmVzc2lvbigoVmFsKSBtYXAsIChWYWwpIGFyZyk7CiAg\nICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gaXNJbnN0YW5jZShWYWx1ZSB2\nYWwsIENsYXNzIGMpIHsKICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgQ29u\nc3QpCiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uc3RJbnN0YW5jZW9mRXhw\ncmVzc2lvbigoQ29uc3QpIHZhbCwgYyk7CiAgICAgICAgcmV0dXJuIG5ldyBJ\nbnN0YW5jZW9mRXhwcmVzc2lvbigoUENQYXRoKSB2YWwsIGMpOwogICAgfQoK\nICAgIHB1YmxpYyBFeHByZXNzaW9uIGFuZChFeHByZXNzaW9uIGV4cDEsIEV4\ncHJlc3Npb24gZXhwMikgewogICAgICAgIGlmIChleHAxIGluc3RhbmNlb2Yg\nQmluZFZhcmlhYmxlRXhwcmVzc2lvbikKICAgICAgICAgICAgcmV0dXJuIG5l\ndyBCaW5kVmFyaWFibGVBbmRFeHByZXNzaW9uKChCaW5kVmFyaWFibGVFeHBy\nZXNzaW9uKSBleHAxLAogICAgICAgICAgICAgICAgKEV4cCkgZXhwMik7CiAg\nICAgICAgaWYgKGV4cDIgaW5zdGFuY2VvZiBCaW5kVmFyaWFibGVFeHByZXNz\naW9uKQogICAgICAgICAgICByZXR1cm4gbmV3IEJpbmRWYXJpYWJsZUFuZEV4\ncHJlc3Npb24oKEJpbmRWYXJpYWJsZUV4cHJlc3Npb24pIGV4cDIsCiAgICAg\nICAgICAgICAgICAoRXhwKSBleHAxKTsKICAgICAgICByZXR1cm4gbmV3IEFu\nZEV4cHJlc3Npb24oKEV4cCkgZXhwMSwgKEV4cCkgZXhwMik7CiAgICB9Cgog\nICAgcHVibGljIEV4cHJlc3Npb24gb3IoRXhwcmVzc2lvbiBleHAxLCBFeHBy\nZXNzaW9uIGV4cDIpIHsKICAgICAgICByZXR1cm4gbmV3IE9yRXhwcmVzc2lv\nbigoRXhwKSBleHAxLCAoRXhwKSBleHAyKTsKICAgIH0KCiAgICBwdWJsaWMg\nRXhwcmVzc2lvbiBub3QoRXhwcmVzc2lvbiBleHApIHsKICAgICAgICBpZiAo\nSGFzQ29udGFpbnNFeHByZXNzaW9uVmlzaXRvci5oYXNDb250YWlucyhleHAp\nKQogICAgICAgICAgICByZXR1cm4gbmV3IE5vdENvbnRhaW5zRXhwcmVzc2lv\nbigoRXhwKSBleHApOwogICAgICAgIHJldHVybiBuZXcgTm90RXhwcmVzc2lv\nbigoRXhwKSBleHApOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGJp\nbmRWYXJpYWJsZShWYWx1ZSB2YXIsIFZhbHVlIHZhbCkgewogICAgICAgIC8v\nIGhhbmRsZSB0aGUgc3RyYW5nZSBjYXNlIG9mIHVzaW5nIGEgY29uc3RhbnQg\ncGF0aCB0byBiaW5kIGEKICAgICAgICAvLyB2YXJpYWJsZTsgaW4gdGhlc2Ug\nY2FzZXMgdGhlIHZhcmlhYmxlIGFjdHMgbGlrZSBhbiB1bmJvdW5kCiAgICAg\nICAgLy8gdmFyaWFibGUgdGhhdCB3ZSBsaW1pdCBieSB1c2luZyBhbiBJTiBj\nbGF1c2Ugb24gdGhlIGNvbnN0YW50CiAgICAgICAgLy8gdmFsdWUgY29sbGVj\ndGlvbgogICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBDb25zdCkgewogICAg\nICAgICAgICBQQ1BhdGggcGF0aCA9IG5ldyBQQ1BhdGgoX3R5cGUsIChWYXJp\nYWJsZSkgdmFyKTsKICAgICAgICAgICAgcGF0aC5zZXRNZXRhRGF0YSh2YXIu\nZ2V0TWV0YURhdGEoKSk7CiAgICAgICAgICAgIHJldHVybiBuZXcgSW5FeHBy\nZXNzaW9uKHBhdGgsIChDb25zdCkgdmFsKTsKICAgICAgICB9CiAgICAgICAg\ncmV0dXJuIG5ldyBCaW5kVmFyaWFibGVFeHByZXNzaW9uKChWYXJpYWJsZSkg\ndmFyLCAoUENQYXRoKSB2YWwsIGZhbHNlKTsKICAgIH0KCiAgICBwdWJsaWMg\nRXhwcmVzc2lvbiBiaW5kS2V5VmFyaWFibGUoVmFsdWUgdmFyLCBWYWx1ZSB2\nYWwpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIHN0cmFuZ2UgY2FzZSBvZiB1\nc2luZyBhIGNvbnN0YW50IHBhdGggdG8gYmluZCBhCiAgICAgICAgLy8gdmFy\naWFibGU7IGluIHRoZXNlIGNhc2VzIHRoZSB2YXJpYWJsZSBhY3RzIGxpa2Ug\nYW4gdW5ib3VuZAogICAgICAgIC8vIHZhcmlhYmxlIHRoYXQgd2UgbGltaXQg\nYnkgdXNpbmcgYW4gSU4gY2xhdXNlIG9uIHRoZSBjb25zdGFudAogICAgICAg\nIC8vIHZhbHVlIGNvbGxlY3Rpb24KICAgICAgICBpZiAodmFsIGluc3RhbmNl\nb2YgQ29uc3QpIHsKICAgICAgICAgICAgUENQYXRoIHBhdGggPSBuZXcgUENQ\nYXRoKF90eXBlLCAoVmFyaWFibGUpIHZhcik7CiAgICAgICAgICAgIHBhdGgu\nc2V0TWV0YURhdGEodmFyLmdldE1ldGFEYXRhKCkpOwogICAgICAgICAgICBy\nZXR1cm4gbmV3IEluS2V5RXhwcmVzc2lvbihwYXRoLCAoQ29uc3QpIHZhbCk7\nCiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgQmluZFZhcmlhYmxlRXhw\ncmVzc2lvbigoVmFyaWFibGUpIHZhciwgKFBDUGF0aCkgdmFsLCB0cnVlKTsK\nICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBiaW5kVmFsdWVWYXJpYWJs\nZShWYWx1ZSB2YXIsIFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBiaW5k\nVmFyaWFibGUodmFyLCB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNz\naW9uIHN0YXJ0c1dpdGgoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBTdGFydHNXaXRoRXhwcmVzc2lvbigoVmFsKSB2MSwgKFZh\nbCkgdjIpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGVuZHNXaXRo\nKFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBuZXcgRW5k\nc1dpdGhFeHByZXNzaW9uKChWYWwpIHYxLCAoVmFsKSB2Mik7CiAgICB9Cgog\nICAgcHVibGljIEV4cHJlc3Npb24gbm90TWF0Y2hlcyhWYWx1ZSB2MSwgVmFs\ndWUgdjIsCiAgICAgICAgU3RyaW5nIHNpbmdsZSwgU3RyaW5nIG11bHRpLCBT\ndHJpbmcgZXNjKSB7CiAgICAgICAgcmV0dXJuIG5vdChtYXRjaGVzKHYxLCB2\nMiwgc2luZ2xlLCBtdWx0aSwgZXNjKSk7CiAgICB9CgogICAgcHVibGljIEV4\ncHJlc3Npb24gbWF0Y2hlcyhWYWx1ZSB2MSwgVmFsdWUgdjIsCiAgICAgICAg\nU3RyaW5nIHNpbmdsZSwgU3RyaW5nIG11bHRpLCBTdHJpbmcgZXNjKSB7CiAg\nICAgICAgaWYgKCEodjIgaW5zdGFuY2VvZiBDb25zdCkpCiAgICAgICAgICAg\nIHRocm93IG5ldyBVc2VyRXhjZXB0aW9uKF9sb2MuZ2V0KCJjb25zdC1vbmx5\nIiwgIm1hdGNoZXMiKSk7CiAgICAgICAgcmV0dXJuIG5ldyBNYXRjaGVzRXhw\ncmVzc2lvbigoVmFsKSB2MSwgKENvbnN0KSB2Miwgc2luZ2xlLCBtdWx0aSwK\nICAgICAgICAgICAgZXNjICE9IG51bGwgPyBlc2MgOiBfdHlwZS5nZXRNYXBw\naW5nUmVwb3NpdG9yeSgpLgogICAgICAgICAgICAgICAgZ2V0REJEaWN0aW9u\nYXJ5KCkuc2VhcmNoU3RyaW5nRXNjYXBlKTsKICAgIH0KCiAgICBwdWJsaWMg\nU3VicXVlcnkgbmV3U3VicXVlcnkoQ2xhc3NNZXRhRGF0YSBjYW5kaWRhdGUs\nIGJvb2xlYW4gc3VicywKICAgICAgICBTdHJpbmcgYWxpYXMpIHsKICAgICAg\nICBEQkRpY3Rpb25hcnkgZGljdCA9IF90eXBlLmdldE1hcHBpbmdSZXBvc2l0\nb3J5KCkuZ2V0REJEaWN0aW9uYXJ5KCk7CiAgICAgICAgZGljdC5hc3NlcnRT\ndXBwb3J0KGRpY3Quc3VwcG9ydHNTdWJzZWxlY3QsICJTdXBwb3J0c1N1YnNl\nbGVjdCIpOwogICAgICAgIHJldHVybiBuZXcgU3ViUSgoQ2xhc3NNYXBwaW5n\nKSBjYW5kaWRhdGUsIHN1YnMsIGFsaWFzKTsKICAgIH0KCiAgICBwdWJsaWMg\nUGF0aCBuZXdQYXRoKCkgewogICAgICAgIHJldHVybiBuZXcgUENQYXRoKF90\neXBlKTsKICAgIH0KCiAgICBwdWJsaWMgUGF0aCBuZXdQYXRoKFZhbHVlIHZh\nbCkgewogICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBDb25zdCkKICAgICAg\nICAgICAgcmV0dXJuIG5ldyBDb25zdFBhdGgoKENvbnN0KSB2YWwpOwogICAg\nICAgIGlmICh2YWwgaW5zdGFuY2VvZiBTdWJRKQogICAgICAgICAgICByZXR1\ncm4gbmV3IFBDUGF0aCgoU3ViUSkgdmFsKTsKICAgICAgICByZXR1cm4gbmV3\nIFBDUGF0aChfdHlwZSwgKFZhcmlhYmxlKSB2YWwpOwogICAgfQoKICAgIHB1\nYmxpYyBMaXRlcmFsIG5ld0xpdGVyYWwoT2JqZWN0IHZhbCwgaW50IHB0eXBl\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBMaXQodmFsLCBwdHlwZSk7CiAgICB9\nCgogICAgcHVibGljIFZhbHVlIGdldFRoaXMoKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBQQ1BhdGgoX3R5cGUpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBn\nZXROdWxsKCkgewogICAgICAgIHJldHVybiBOVUxMOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSBnZXRDdXJyZW50RGF0ZSgpIHsKICAgICAgICByZXR1cm4g\nQ1VSUkVOVF9EQVRFOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXRDdXJy\nZW50VGltZSgpIHsKICAgICAgICByZXR1cm4gQ1VSUkVOVF9USU1FOwogICAg\nfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXRDdXJyZW50VGltZXN0YW1wKCkgewog\nICAgICAgIHJldHVybiBDVVJSRU5UX1RJTUVTVEFNUDsKICAgIH0KCiAgICBw\ndWJsaWMgUGFyYW1ldGVyIG5ld1BhcmFtZXRlcihTdHJpbmcgbmFtZSwgQ2xh\nc3MgdHlwZSkgewogICAgICAgIHJldHVybiBuZXcgUGFyYW0obmFtZSwgdHlw\nZSk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIG5ld0V4dGVuc2lvbihGaWx0\nZXJMaXN0ZW5lciBsaXN0ZW5lciwgVmFsdWUgdGFyZ2V0LAogICAgICAgIFZh\nbHVlIGFyZykgewogICAgICAgIHJldHVybiBuZXcgRXh0ZW5zaW9uKChKREJD\nRmlsdGVyTGlzdGVuZXIpIGxpc3RlbmVyLAogICAgICAgICAgICAoVmFsKSB0\nYXJnZXQsIChWYWwpIGFyZywgX3R5cGUpOwogICAgfQoKICAgIHB1YmxpYyBW\nYWx1ZSBuZXdBZ2dyZWdhdGUoQWdncmVnYXRlTGlzdGVuZXIgbGlzdGVuZXIs\nIFZhbHVlIGFyZykgewogICAgICAgIHJldHVybiBuZXcgQWdncmVnYXRlKChK\nREJDQWdncmVnYXRlTGlzdGVuZXIpIGxpc3RlbmVyLAogICAgICAgICAgICAo\nVmFsKSBhcmcsIF90eXBlKTsKICAgIH0KCiAgICBwdWJsaWMgQXJndW1lbnRz\nIG5ld0FyZ3VtZW50TGlzdChWYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAgICAg\nICByZXR1cm4gbmV3IEFyZ3MoKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0K\nCiAgICBwdWJsaWMgVmFsdWUgbmV3VW5ib3VuZFZhcmlhYmxlKFN0cmluZyBu\nYW1lLCBDbGFzcyB0eXBlKSB7CiAgICAgICAgcmV0dXJuIG5ldyBWYXJpYWJs\nZShuYW1lLCB0eXBlKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgbmV3Qm91\nbmRWYXJpYWJsZShTdHJpbmcgbmFtZSwgQ2xhc3MgdHlwZSkgewogICAgICAg\nIHJldHVybiBuZXdVbmJvdW5kVmFyaWFibGUobmFtZSwgdHlwZSk7CiAgICB9\nCgogICAgcHVibGljIFZhbHVlIGNhc3QoVmFsdWUgdmFsLCBDbGFzcyBjbHMp\nIHsKICAgICAgICB2YWwuc2V0SW1wbGljaXRUeXBlKGNscyk7CiAgICAgICAg\ncmV0dXJuIHZhbDsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgYWRkKFZhbHVl\nIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBuZXcgTWF0aCgoVmFs\nKSB2MSwgKFZhbCkgdjIsIE1hdGguQUREKTsKICAgIH0KCiAgICBwdWJsaWMg\nVmFsdWUgc3VidHJhY3QoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBNYXRoKChWYWwpIHYxLCAoVmFsKSB2MiwgTWF0aC5TVUJU\nUkFDVCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIG11bHRpcGx5KFZhbHVl\nIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBuZXcgTWF0aCgoVmFs\nKSB2MSwgKFZhbCkgdjIsIE1hdGguTVVMVElQTFkpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSBkaXZpZGUoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBNYXRoKChWYWwpIHYxLCAoVmFsKSB2MiwgTWF0aC5E\nSVZJREUpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBtb2QoVmFsdWUgdjEs\nIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXRoKChWYWwpIHYx\nLCAoVmFsKSB2MiwgTWF0aC5NT0QpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1\nZSBhYnMoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBYnMoKFZh\nbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgaW5kZXhPZihWYWx1\nZSB2MSwgVmFsdWUgdjIpIHsKICAgICAgICByZXR1cm4gbmV3IEluZGV4T2Yo\nKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUg\nY29uY2F0KFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBu\nZXcgQ29uY2F0KChWYWwpIHYxLCAoVmFsKSB2Mik7CiAgICB9CgogICAgcHVi\nbGljIFZhbHVlIHN0cmluZ0xlbmd0aChWYWx1ZSBzdHIpIHsKICAgICAgICBy\nZXR1cm4gbmV3IFN0cmluZ0xlbmd0aCgoVmFsKSBzdHIpOwogICAgfQoKICAg\nIHB1YmxpYyBWYWx1ZSB0cmltKFZhbHVlIHN0ciwgVmFsdWUgdHJpbUNoYXIs\nIEJvb2xlYW4gd2hlcmUpIHsKICAgICAgICByZXR1cm4gbmV3IFRyaW0oKFZh\nbCkgc3RyLCAoVmFsKSB0cmltQ2hhciwgd2hlcmUpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSBzcXJ0KFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBu\nZXcgU3FydCgoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBz\ndWJzdHJpbmcoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBTdWJzdHJpbmcoKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0KCiAg\nICBwdWJsaWMgVmFsdWUgdG9VcHBlckNhc2UoVmFsdWUgdmFsKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBUb1VwcGVyQ2FzZSgoVmFsKSB2YWwpOwogICAgfQoK\nICAgIHB1YmxpYyBWYWx1ZSB0b0xvd2VyQ2FzZShWYWx1ZSB2YWwpIHsKICAg\nICAgICByZXR1cm4gbmV3IFRvTG93ZXJDYXNlKChWYWwpIHZhbCk7CiAgICB9\nCgogICAgcHVibGljIFZhbHVlIGF2ZyhWYWx1ZSB2YWwpIHsKICAgICAgICBy\nZXR1cm4gbmV3IEF2ZygoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBW\nYWx1ZSBjb3VudChWYWx1ZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3IENv\ndW50KChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGRpc3Rp\nbmN0KFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBuZXcgRGlzdGluY3Qo\nKFZhbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgbWF4KFZhbHVl\nIHZhbCkgewogICAgICAgIHJldHVybiBuZXcgTWF4KChWYWwpIHZhbCk7CiAg\nICB9CgogICAgcHVibGljIFZhbHVlIG1pbihWYWx1ZSB2YWwpIHsKICAgICAg\nICByZXR1cm4gbmV3IE1pbigoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1Ymxp\nYyBWYWx1ZSBzdW0oVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBT\ndW0oKFZhbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgYW55KFZh\nbHVlIHZhbCkgewogICAgICAgIHJldHVybiBuZXcgQW55KChWYWwpIHZhbCk7\nCiAgICB9CgogICAgcHVibGljIFZhbHVlIGFsbChWYWx1ZSB2YWwpIHsKICAg\nICAgICByZXR1cm4gbmV3IEFsbCgoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSBzaXplKFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBu\nZXcgU2l6ZSgoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBn\nZXRPYmplY3RJZChWYWx1ZSB2YWwpIHsKICAgICAgICBpZiAodmFsIGluc3Rh\nbmNlb2YgQ29uc3QpCiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uc3RHZXRP\nYmplY3RJZCgoQ29uc3QpIHZhbCk7CiAgICAgICAgcmV0dXJuIG5ldyBHZXRP\nYmplY3RJZCgoUENQYXRoKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1\nZSBnZXRNYXBWYWx1ZShWYWx1ZSBtYXAsIFZhbHVlIGFyZykgewogICAgICAg\nIHJldHVybiBuZXcgR2V0TWFwVmFsdWUoKFZhbCkgbWFwLCAoVmFsKSBhcmcp\nOwogICAgfQp9Cg==\n","encoding":"base64"}

