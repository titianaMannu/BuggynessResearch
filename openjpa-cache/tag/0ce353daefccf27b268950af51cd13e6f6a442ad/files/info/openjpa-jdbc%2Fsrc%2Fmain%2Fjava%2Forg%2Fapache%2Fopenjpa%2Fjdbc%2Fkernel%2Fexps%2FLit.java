{"sha":"71d05965f66e116deb9466c34d572210a2ec70ed","node_id":"MDQ6QmxvYjIwNjM2NDo3MWQwNTk2NWY2NmUxMTZkZWI5NDY2YzM0ZDU3MjIxMGEyZWM3MGVk","size":2778,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/71d05965f66e116deb9466c34d572210a2ec70ed","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbC5TUUxCdWZmZXI7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5zcWwuU2VsZWN0OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5GaWx0ZXJzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmtlcm5lbC5leHBzLkxpdGVyYWw7CgovKioKICogQSBsaXRlcmFsIHZh\nbHVlIGluIGEgZmlsdGVyLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8K\nY2xhc3MgTGl0CiAgICBleHRlbmRzIENvbnN0CiAgICBpbXBsZW1lbnRzIExp\ndGVyYWwgewoKICAgIHByaXZhdGUgT2JqZWN0IF92YWw7CiAgICBwcml2YXRl\nIGludCBfcHR5cGU7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4gU3Vw\ncGx5IGxpdGVyYWwgdmFsdWUuCiAgICAgKi8KICAgIHB1YmxpYyBMaXQoT2Jq\nZWN0IHZhbCwgaW50IHB0eXBlKSB7CiAgICAgICAgX3ZhbCA9IHZhbDsKICAg\nICAgICBfcHR5cGUgPSBwdHlwZTsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3Mg\nZ2V0VHlwZSgpIHsKICAgICAgICByZXR1cm4gKF92YWwgPT0gbnVsbCkgPyBP\nYmplY3QuY2xhc3MgOiBfdmFsLmdldENsYXNzKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0SW1wbGljaXRUeXBlKENsYXNzIHR5cGUpIHsKICAgICAg\nICBfdmFsID0gRmlsdGVycy5jb252ZXJ0KF92YWwsIHR5cGUpOwogICAgfQoK\nICAgIHB1YmxpYyBpbnQgZ2V0UGFyc2VUeXBlKCkgewogICAgICAgIHJldHVy\nbiBfcHR5cGU7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRWYWx1ZSgp\nIHsgCiAgICAgICAgcmV0dXJuIF92YWw7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0VmFsdWUoT2JqZWN0IHZhbCkgewogICAgICAgIF92YWwgPSB2YWw7\nCiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRWYWx1ZShPYmplY3RbXSBw\nYXJhbXMpIHsKICAgICAgICByZXR1cm4gZ2V0VmFsdWUoKTsKICAgIH0KCiAg\nICBwdWJsaWMgRXhwU3RhdGUgaW5pdGlhbGl6ZShTZWxlY3Qgc2VsLCBFeHBD\nb250ZXh0IGN0eCwgaW50IGZsYWdzKSB7CiAgICAgICAgcmV0dXJuIG5ldyBM\naXRFeHBTdGF0ZSgpOwogICAgfQoKICAgIC8qKgogICAgICogRXhwcmVzc2lv\nbiBzdGF0ZS4KICAgICAqLwogICAgcHJpdmF0ZSBzdGF0aWMgY2xhc3MgTGl0\nRXhwU3RhdGUKICAgICAgICBleHRlbmRzIENvbnN0RXhwU3RhdGUgewoKICAg\nICAgICBwdWJsaWMgT2JqZWN0IHNxbFZhbHVlOwogICAgICAgIHB1YmxpYyBp\nbnQgb3RoZXJMZW5ndGg7IAogICAgfSAKCiAgICBwdWJsaWMgdm9pZCBjYWxj\ndWxhdGVWYWx1ZShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3Rh\ndGUgc3RhdGUsIAogICAgICAgIFZhbCBvdGhlciwgRXhwU3RhdGUgb3RoZXJT\ndGF0ZSkgewogICAgICAgIHN1cGVyLmNhbGN1bGF0ZVZhbHVlKHNlbCwgY3R4\nLCBzdGF0ZSwgb3RoZXIsIG90aGVyU3RhdGUpOwogICAgICAgIExpdEV4cFN0\nYXRlIGxzdGF0ZSA9IChMaXRFeHBTdGF0ZSkgc3RhdGU7CiAgICAgICAgaWYg\nKG90aGVyICE9IG51bGwpIHsKICAgICAgICAgICAgbHN0YXRlLnNxbFZhbHVl\nID0gb3RoZXIudG9EYXRhU3RvcmVWYWx1ZShzZWwsIGN0eCwgb3RoZXJTdGF0\nZSxfdmFsKTsKICAgICAgICAgICAgbHN0YXRlLm90aGVyTGVuZ3RoID0gb3Ro\nZXIubGVuZ3RoKHNlbCwgY3R4LCBvdGhlclN0YXRlKTsKICAgICAgICB9IGVs\nc2UKICAgICAgICAgICAgbHN0YXRlLnNxbFZhbHVlID0gX3ZhbDsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBhcHBlbmRUbyhTZWxlY3Qgc2VsLCBFeHBDb250\nZXh0IGN0eCwgRXhwU3RhdGUgc3RhdGUsIAogICAgICAgIFNRTEJ1ZmZlciBz\ncWwsIGludCBpbmRleCkgewogICAgICAgIExpdEV4cFN0YXRlIGxzdGF0ZSA9\nIChMaXRFeHBTdGF0ZSkgc3RhdGU7CiAgICAgICAgaWYgKGxzdGF0ZS5vdGhl\nckxlbmd0aCA+IDEpCiAgICAgICAgICAgIHNxbC5hcHBlbmRWYWx1ZSgoKE9i\namVjdFtdKSBsc3RhdGUuc3FsVmFsdWUpW2luZGV4XSwgCiAgICAgICAgICAg\nICAgICBsc3RhdGUuZ2V0Q29sdW1uKGluZGV4KSk7CiAgICAgICAgZWxzZQog\nICAgICAgICAgICBzcWwuYXBwZW5kVmFsdWUobHN0YXRlLnNxbFZhbHVlLCBs\nc3RhdGUuZ2V0Q29sdW1uKGluZGV4KSk7CiAgICB9Cn0K\n","encoding":"base64"}

