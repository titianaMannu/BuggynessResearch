{"sha":"e1fab303667783610dc8bc99f381b229bbf8cac8","node_id":"MDQ6QmxvYjIwNjM2NDplMWZhYjMwMzY2Nzc4MzYxMGRjOGJjOTlmMzgxYjIyOWJiZjhjYWM4","size":4632,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e1fab303667783610dc8bc99f381b229bbf8cac8","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzOwoKaW1wb3J0IGphdmEuc3FsLlNR\nTEV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5t\nZXRhLkphdmFTUUxUeXBlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5SZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuU1FMQnVmZmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlNlbGVjdDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJu\nZWwuRmlsdGVyczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nZXhwcy5FeHByZXNzaW9uVmlzaXRvcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CgovKioKICogVmFsdWUgcHJvZHVj\nZWQgYnkgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMu\nCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpjbGFzcyBNYXRoCiAgICBl\neHRlbmRzIEFic3RyYWN0VmFsIHsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFN0cmluZyBBREQgPSAiKyI7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0\ncmluZyBTVUJUUkFDVCA9ICItIjsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwg\nU3RyaW5nIE1VTFRJUExZID0gIioiOwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBTdHJpbmcgRElWSURFID0gIi8iOwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBTdHJpbmcgTU9EID0gIk1PRCI7CgogICAgcHJpdmF0ZSBmaW5hbCBWYWwg\nX3ZhbDE7CiAgICBwcml2YXRlIGZpbmFsIFZhbCBfdmFsMjsKICAgIHByaXZh\ndGUgZmluYWwgU3RyaW5nIF9vcDsKICAgIHByaXZhdGUgQ2xhc3NNZXRhRGF0\nYSBfbWV0YSA9IG51bGw7CiAgICBwcml2YXRlIENsYXNzIF9jYXN0ID0gbnVs\nbDsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLiBQcm92aWRlIHRoZSB2\nYWx1ZXMgdG8gb3BlcmF0ZSBvbiwgYW5kIHRoZSBvcGVyYXRvci4KICAgICAq\nLwogICAgcHVibGljIE1hdGgoVmFsIHZhbDEsIFZhbCB2YWwyLCBTdHJpbmcg\nb3ApIHsKICAgICAgICBfdmFsMSA9IHZhbDE7CiAgICAgICAgX3ZhbDIgPSB2\nYWwyOwogICAgICAgIF9vcCA9IG9wOwogICAgfQoKICAgIHB1YmxpYyBDbGFz\nc01ldGFEYXRhIGdldE1ldGFEYXRhKCkgewogICAgICAgIHJldHVybiBfbWV0\nYTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNZXRhRGF0YShDbGFzc01l\ndGFEYXRhIG1ldGEpIHsKICAgICAgICBfbWV0YSA9IG1ldGE7CiAgICB9Cgog\nICAgcHVibGljIENsYXNzIGdldFR5cGUoKSB7CiAgICAgICAgaWYgKF9jYXN0\nICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBfY2FzdDsKICAgICAgICBD\nbGFzcyBjMSA9IF92YWwxLmdldFR5cGUoKTsKICAgICAgICBDbGFzcyBjMiA9\nIF92YWwyLmdldFR5cGUoKTsKICAgICAgICByZXR1cm4gRmlsdGVycy5wcm9t\nb3RlKGMxLCBjMik7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SW1wbGlj\naXRUeXBlKENsYXNzIHR5cGUpIHsKICAgICAgICBfY2FzdCA9IHR5cGU7CiAg\nICB9CgogICAgcHVibGljIEV4cFN0YXRlIGluaXRpYWxpemUoU2VsZWN0IHNl\nbCwgRXhwQ29udGV4dCBjdHgsIGludCBmbGFncykgewogICAgICAgIEV4cFN0\nYXRlIHMxID0gX3ZhbDEuaW5pdGlhbGl6ZShzZWwsIGN0eCwgMCk7CiAgICAg\nICAgRXhwU3RhdGUgczIgPSBfdmFsMi5pbml0aWFsaXplKHNlbCwgY3R4LCAw\nKTsKICAgICAgICByZXR1cm4gbmV3IEJpbmFyeU9wRXhwU3RhdGUoc2VsLmFu\nZChzMS5qb2lucywgczIuam9pbnMpLCBzMSwgczIpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNlbGVjdChTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwg\nRXhwU3RhdGUgc3RhdGUsIAogICAgICAgIGJvb2xlYW4gcGtzKSB7CiAgICAg\nICAgc2VsLnNlbGVjdChuZXdTUUxCdWZmZXIoc2VsLCBjdHgsIHN0YXRlKSwg\ndGhpcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2VsZWN0Q29sdW1ucyhT\nZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3RhdGUsIAog\nICAgICAgIGJvb2xlYW4gcGtzKSB7CiAgICAgICAgQmluYXJ5T3BFeHBTdGF0\nZSBic3RhdGUgPSAoQmluYXJ5T3BFeHBTdGF0ZSkgc3RhdGU7CiAgICAgICAg\nX3ZhbDEuc2VsZWN0Q29sdW1ucyhzZWwsIGN0eCwgYnN0YXRlLnN0YXRlMSwg\ndHJ1ZSk7CiAgICAgICAgX3ZhbDIuc2VsZWN0Q29sdW1ucyhzZWwsIGN0eCwg\nYnN0YXRlLnN0YXRlMiwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nZ3JvdXBCeShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUg\nc3RhdGUpIHsKICAgICAgICBzZWwuZ3JvdXBCeShuZXdTUUxCdWZmZXIoc2Vs\nLCBjdHgsIHN0YXRlKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgb3JkZXJC\neShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3RhdGUs\nIAogICAgICAgIGJvb2xlYW4gYXNjKSB7CiAgICAgICAgc2VsLm9yZGVyQnko\nbmV3U1FMQnVmZmVyKHNlbCwgY3R4LCBzdGF0ZSksIGFzYywgZmFsc2UpOwog\nICAgfQoKICAgIHByaXZhdGUgU1FMQnVmZmVyIG5ld1NRTEJ1ZmZlcihTZWxl\nY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3RhdGUpIHsKICAg\nICAgICBjYWxjdWxhdGVWYWx1ZShzZWwsIGN0eCwgc3RhdGUsIG51bGwsIG51\nbGwpOwogICAgICAgIFNRTEJ1ZmZlciBidWYgPSBuZXcgU1FMQnVmZmVyKGN0\neC5zdG9yZS5nZXREQkRpY3Rpb25hcnkoKSk7CiAgICAgICAgYXBwZW5kVG8o\nc2VsLCBjdHgsIHN0YXRlLCBidWYsIDApOwogICAgICAgIHJldHVybiBidWY7\nCiAgICB9CgogICAgcHVibGljIE9iamVjdCBsb2FkKEV4cENvbnRleHQgY3R4\nLCBFeHBTdGF0ZSBzdGF0ZSwgUmVzdWx0IHJlcykKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gRmlsdGVycy5jb252ZXJ0\nKHJlcy5nZXRPYmplY3QodGhpcywgSmF2YVNRTFR5cGVzLkpEQkNfREVGQVVM\nVCwgCiAgICAgICAgICAgIG51bGwpLCBnZXRUeXBlKCkpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIGNhbGN1bGF0ZVZhbHVlKFNlbGVjdCBzZWwsIEV4cENv\nbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSwgCiAgICAgICAgVmFsIG90aGVy\nLCBFeHBTdGF0ZSBvdGhlclN0YXRlKSB7CiAgICAgICAgQmluYXJ5T3BFeHBT\ndGF0ZSBic3RhdGUgPSAoQmluYXJ5T3BFeHBTdGF0ZSkgc3RhdGU7CiAgICAg\nICAgX3ZhbDEuY2FsY3VsYXRlVmFsdWUoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0\nZTEsIF92YWwyLCBic3RhdGUuc3RhdGUyKTsKICAgICAgICBfdmFsMi5jYWxj\ndWxhdGVWYWx1ZShzZWwsIGN0eCwgYnN0YXRlLnN0YXRlMiwgX3ZhbDEsIGJz\ndGF0ZS5zdGF0ZTEpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgbGVuZ3RoKFNl\nbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSkgewog\nICAgICAgIHJldHVybiAxOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFwcGVu\nZFRvKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0\nZSwgCiAgICAgICAgU1FMQnVmZmVyIHNxbCwgaW50IGluZGV4KSB7CiAgICAg\nICAgQmluYXJ5T3BFeHBTdGF0ZSBic3RhdGUgPSAoQmluYXJ5T3BFeHBTdGF0\nZSkgc3RhdGU7CiAgICAgICAgY3R4LnN0b3JlLmdldERCRGljdGlvbmFyeSgp\nLm1hdGhGdW5jdGlvbihzcWwsIF9vcCwKICAgICAgICAgICAgbmV3IEZpbHRl\nclZhbHVlSW1wbChzZWwsIGN0eCwgYnN0YXRlLnN0YXRlMSwgX3ZhbDEpLAog\nICAgICAgICAgICBuZXcgRmlsdGVyVmFsdWVJbXBsKHNlbCwgY3R4LCBic3Rh\ndGUuc3RhdGUyLCBfdmFsMikpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFj\nY2VwdFZpc2l0KEV4cHJlc3Npb25WaXNpdG9yIHZpc2l0b3IpIHsKICAgICAg\nICB2aXNpdG9yLmVudGVyKHRoaXMpOwogICAgICAgIF92YWwxLmFjY2VwdFZp\nc2l0KHZpc2l0b3IpOwogICAgICAgIF92YWwyLmFjY2VwdFZpc2l0KHZpc2l0\nb3IpOwogICAgICAgIHZpc2l0b3IuZXhpdCh0aGlzKTsKICAgIH0KfQoK\n","encoding":"base64"}

