{"sha":"5540c5ad7f0193bc945b122e9fd92ec983f9c4ff","node_id":"MDQ6QmxvYjIwNjM2NDo1NTQwYzVhZDdmMDE5M2JjOTQ1YjEyMmU5ZmQ5MmVjOTgzZjljNGZm","size":4176,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5540c5ad7f0193bc945b122e9fd92ec983f9c4ff","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzOwoKaW1wb3J0IGphdmEuc3FsLlNR\nTEV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5t\nZXRhLkphdmFTUUxUeXBlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5SZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuU1FMQnVmZmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlNlbGVjdDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJu\nZWwuRmlsdGVyczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nZXhwcy5FeHByZXNzaW9uVmlzaXRvcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CgovKioKICogVmFsdWUgcHJvZHVj\nZWQgYnkgYSB1bmFyeSBvcGVyYXRpb24gb24gYSB2YWx1ZS4KICoKICogQGF1\ndGhvciBBYmUgV2hpdGUKICovCmFic3RyYWN0IGNsYXNzIFVuYXJ5T3AKICAg\nIGV4dGVuZHMgQWJzdHJhY3RWYWwgewoKICAgIHByaXZhdGUgZmluYWwgVmFs\nIF92YWw7CiAgICBwcml2YXRlIENsYXNzTWV0YURhdGEgX21ldGEgPSBudWxs\nOwogICAgcHJpdmF0ZSBDbGFzcyBfY2FzdCA9IG51bGw7CgogICAgLyoqCiAg\nICAgKiBDb25zdHJ1Y3Rvci4gUHJvdmlkZSB0aGUgdmFsdWUgdG8gb3BlcmF0\nZSBvbi4KICAgICAqLwogICAgcHVibGljIFVuYXJ5T3AoVmFsIHZhbCkgewog\nICAgICAgIF92YWwgPSB2YWw7CiAgICB9CgogICAgcHJvdGVjdGVkIFZhbCBn\nZXRWYWx1ZSgpIHsKICAgICAgICByZXR1cm4gX3ZhbDsKICAgIH0KCiAgICBw\ndWJsaWMgQ2xhc3NNZXRhRGF0YSBnZXRNZXRhRGF0YSgpIHsKICAgICAgICBy\nZXR1cm4gX21ldGE7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWV0YURh\ndGEoQ2xhc3NNZXRhRGF0YSBtZXRhKSB7CiAgICAgICAgX21ldGEgPSBtZXRh\nOwogICAgfQoKICAgIHB1YmxpYyBDbGFzcyBnZXRUeXBlKCkgewogICAgICAg\nIGlmIChfY2FzdCAhPSBudWxsKQogICAgICAgICAgICByZXR1cm4gX2Nhc3Q7\nCiAgICAgICAgcmV0dXJuIGdldFR5cGUoX3ZhbC5nZXRUeXBlKCkpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldEltcGxpY2l0VHlwZShDbGFzcyB0eXBl\nKSB7CiAgICAgICAgX2Nhc3QgPSB0eXBlOwogICAgfQoKICAgIHB1YmxpYyBF\neHBTdGF0ZSBpbml0aWFsaXplKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4\nLCBpbnQgZmxhZ3MpIHsKICAgICAgICByZXR1cm4gaW5pdGlhbGl6ZVZhbHVl\nKHNlbCwgY3R4LCBmbGFncyk7CiAgICB9CgogICAgcHJvdGVjdGVkIEV4cFN0\nYXRlIGluaXRpYWxpemVWYWx1ZShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0\neCwgaW50IGZsYWdzKSB7CiAgICAgICAgcmV0dXJuIF92YWwuaW5pdGlhbGl6\nZShzZWwsIGN0eCwgZmxhZ3MpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\nbGVjdChTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3Rh\ndGUsIAogICAgICAgIGJvb2xlYW4gcGtzKSB7CiAgICAgICAgc2VsLnNlbGVj\ndChuZXdTUUxCdWZmZXIoc2VsLCBjdHgsIHN0YXRlKSwgdGhpcyk7CiAgICAg\nICAgaWYgKGlzQWdncmVnYXRlKCkpCiAgICAgICAgICAgIHNlbC5zZXRBZ2dy\nZWdhdGUodHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2VsZWN0Q29s\ndW1ucyhTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3Rh\ndGUsIAogICAgICAgIGJvb2xlYW4gcGtzKSB7CiAgICAgICAgX3ZhbC5zZWxl\nY3RDb2x1bW5zKHNlbCwgY3R4LCBzdGF0ZSwgdHJ1ZSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgZ3JvdXBCeShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0\neCwgRXhwU3RhdGUgc3RhdGUpIHsKICAgICAgICBzZWwuZ3JvdXBCeShuZXdT\nUUxCdWZmZXIoc2VsLCBjdHgsIHN0YXRlKSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgb3JkZXJCeShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhw\nU3RhdGUgc3RhdGUsIAogICAgICAgIGJvb2xlYW4gYXNjKSB7CiAgICAgICAg\nc2VsLm9yZGVyQnkobmV3U1FMQnVmZmVyKHNlbCwgY3R4LCBzdGF0ZSksIGFz\nYywgZmFsc2UpOwogICAgfQoKICAgIHByaXZhdGUgU1FMQnVmZmVyIG5ld1NR\nTEJ1ZmZlcihTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUg\nc3RhdGUpIHsKICAgICAgICBjYWxjdWxhdGVWYWx1ZShzZWwsIGN0eCwgc3Rh\ndGUsIG51bGwsIG51bGwpOwogICAgICAgIFNRTEJ1ZmZlciBidWYgPSBuZXcg\nU1FMQnVmZmVyKGN0eC5zdG9yZS5nZXREQkRpY3Rpb25hcnkoKSk7CiAgICAg\nICAgYXBwZW5kVG8oc2VsLCBjdHgsIHN0YXRlLCBidWYsIDApOwogICAgICAg\nIHJldHVybiBidWY7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBsb2FkKEV4\ncENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSwgUmVzdWx0IHJlcykKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gRmls\ndGVycy5jb252ZXJ0KHJlcy5nZXRPYmplY3QodGhpcywKICAgICAgICAgICAg\nSmF2YVNRTFR5cGVzLkpEQkNfREVGQVVMVCwgbnVsbCksIGdldFR5cGUoKSk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgY2FsY3VsYXRlVmFsdWUoU2VsZWN0\nIHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAg\nICBWYWwgb3RoZXIsIEV4cFN0YXRlIG90aGVyU3RhdGUpIHsKICAgICAgICBf\ndmFsLmNhbGN1bGF0ZVZhbHVlKHNlbCwgY3R4LCBzdGF0ZSwgbnVsbCwgbnVs\nbCk7CiAgICB9CgogICAgcHVibGljIGludCBsZW5ndGgoU2VsZWN0IHNlbCwg\nRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAgICAgcmV0\ndXJuIDE7CiAgICB9CgogICAgcHVibGljIHZvaWQgYXBwZW5kVG8oU2VsZWN0\nIHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAg\nICBTUUxCdWZmZXIgc3FsLCBpbnQgaW5kZXgpIHsKICAgICAgICBzcWwuYXBw\nZW5kKGdldE9wZXJhdG9yKCkpOwogICAgICAgIHNxbC5hcHBlbmQoIigiKTsK\nICAgICAgICBfdmFsLmFwcGVuZFRvKHNlbCwgY3R4LCBzdGF0ZSwgc3FsLCAw\nKTsKICAgICAgICBzcWwuYXBwZW5kKCIpIik7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gdGhlIHR5cGUgb2YgdGhpcyB2YWx1ZSBiYXNlZCBvbiB0\naGUgYXJndW1lbnQgdHlwZS4gUmV0dXJucwogICAgICogdGhlIGFyZ3VtZW50\nIHR5cGUgYnkgZGVmYXVsdC4KICAgICAqLwogICAgcHJvdGVjdGVkIENsYXNz\nIGdldFR5cGUoQ2xhc3MgYykgewogICAgICAgIHJldHVybiBjOwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBuYW1lIG9mIHRoaXMgb3BlcmF0\nb3IuCiAgICAgKi8KICAgIHByb3RlY3RlZCBhYnN0cmFjdCBTdHJpbmcgZ2V0\nT3BlcmF0b3IoKTsKCiAgICBwdWJsaWMgdm9pZCBhY2NlcHRWaXNpdChFeHBy\nZXNzaW9uVmlzaXRvciB2aXNpdG9yKSB7CiAgICAgICAgdmlzaXRvci5lbnRl\ncih0aGlzKTsKICAgICAgICBfdmFsLmFjY2VwdFZpc2l0KHZpc2l0b3IpOwog\nICAgICAgIHZpc2l0b3IuZXhpdCh0aGlzKTsKICAgIH0KfQoK\n","encoding":"base64"}

