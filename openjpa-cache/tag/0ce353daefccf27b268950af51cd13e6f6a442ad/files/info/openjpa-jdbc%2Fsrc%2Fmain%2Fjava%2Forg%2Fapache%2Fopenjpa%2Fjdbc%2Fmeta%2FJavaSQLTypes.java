{"sha":"fa8ed6c9e34c7ecc525fd111cf26201bdc353fa4","node_id":"MDQ6QmxvYjIwNjM2NDpmYThlZDZjOWUzNGM3ZWNjNTI1ZmQxMTFjZjI2MjAxYmRjMzUzZmE0","size":5685,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fa8ed6c9e34c7ecc525fd111cf26201bdc353fa4","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGE7CgppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2lt\nYWw7CmltcG9ydCBqYXZhLm1hdGguQmlnSW50ZWdlcjsKaW1wb3J0IGphdmEu\nc3FsLlRpbWU7CmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7CgppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwppbXBvcnQgc2Vy\ncC51dGlsLk51bWJlcnM7CgovKioKICogSmF2YSBTUUwgdHlwZSBjb25zdGFu\ndHMuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3Mg\nSmF2YVNRTFR5cGVzCiAgICBleHRlbmRzIEphdmFUeXBlcyB7CgogICAgLy8g\nY29uc3RhbnRzIGZvciB0aGUgc3FsIHR5cGVzIHRoYXQgYXJlbid0IGRpcmVj\ndGx5IHN1cHBvcnRlZCBieQogICAgLy8gT3BlbkpQQTsgbWFrZSBzdXJlIHRo\nZXNlIGRvbid0IGNvbmZsaWN0IHdpdGggb3VyIHN0YW5kYXJkIG1ldGFkYXRh\nIHR5cGVzCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBTUUxfQVJSQVkg\nPSAxMDAwOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgQVNDSUlfU1RS\nRUFNID0gMTAwMTsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEJJTkFS\nWV9TVFJFQU0gPSAxMDAyOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQg\nQkxPQiA9IDEwMDM7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBCWVRF\nUyA9IDEwMDQ7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBDSEFSX1NU\nUkVBTSA9IDEwMDU7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBDTE9C\nID0gMTAwNjsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFNRTF9EQVRF\nID0gMTAwNzsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFNRTF9PQkpF\nQ1QgPSAxMDA4OwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgUkVGID0g\nMTAwOTsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFRJTUUgPSAxMDEw\nOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVElNRVNUQU1QID0gMTAx\nMTsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEpEQkNfREVGQVVMVCA9\nIDEwMTI7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQnl0ZSBaRVJPX0JZ\nVEUgPSBuZXcgQnl0ZSgoYnl0ZSkgMCk7CiAgICBwcml2YXRlIHN0YXRpYyBm\naW5hbCBDaGFyYWN0ZXIgWkVST19DSEFSID0gbmV3IENoYXJhY3RlcigoY2hh\ncikgMCk7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBEb3VibGUgWkVST19E\nT1VCTEUgPSBuZXcgRG91YmxlKDBkKTsKICAgIHByaXZhdGUgc3RhdGljIGZp\nbmFsIEZsb2F0IFpFUk9fRkxPQVQgPSBuZXcgRmxvYXQoMGYpOwogICAgcHJp\ndmF0ZSBzdGF0aWMgZmluYWwgU2hvcnQgWkVST19TSE9SVCA9IG5ldyBTaG9y\ndCgoc2hvcnQpIDApOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQmlnRGVj\naW1hbCBaRVJPX0JJR0RFQ0lNQUwgPSBuZXcgQmlnRGVjaW1hbCgwZCk7Cgog\nICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQnl0ZSBOT05aRVJPX0JZVEUgPSBu\nZXcgQnl0ZSgoYnl0ZSkgMSk7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBD\naGFyYWN0ZXIgTk9OWkVST19DSEFSID0gbmV3IENoYXJhY3RlcigoY2hhcikg\nJ2EnKTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIERvdWJsZSBOT05aRVJP\nX0RPVUJMRSA9IG5ldyBEb3VibGUoMWQpOwogICAgcHJpdmF0ZSBzdGF0aWMg\nZmluYWwgRmxvYXQgTk9OWkVST19GTE9BVCA9IG5ldyBGbG9hdCgxZik7CiAg\nICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTaG9ydCBOT05aRVJPX1NIT1JUID0g\nbmV3IFNob3J0KChzaG9ydCkgMSk7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5h\nbCBCaWdJbnRlZ2VyIE5PTlpFUk9fQklHSU5URUdFUiA9IG5ldyBCaWdJbnRl\nZ2VyKCIxIik7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBCaWdEZWNpbWFs\nIE5PTlpFUk9fQklHREVDSU1BTCA9IG5ldyBCaWdEZWNpbWFsKDFkKTsKCiAg\nICAvKioKICAgICAqIFJldHVybiB0aGUgcHJvcGVyIGRhdGUgdHlwZWNvZGUu\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgaW50IGdldERhdGVUeXBlQ29k\nZShDbGFzcyBkdHlwZSkgewogICAgICAgIGlmIChkdHlwZSA9PSBqYXZhLnV0\naWwuRGF0ZS5jbGFzcykKICAgICAgICAgICAgcmV0dXJuIERBVEU7CiAgICAg\nICAgaWYgKGR0eXBlID09IGphdmEuc3FsLkRhdGUuY2xhc3MpCiAgICAgICAg\nICAgIHJldHVybiBTUUxfREFURTsKICAgICAgICBpZiAoZHR5cGUgPT0gVGlt\nZXN0YW1wLmNsYXNzKQogICAgICAgICAgICByZXR1cm4gVElNRVNUQU1QOwog\nICAgICAgIGlmIChkdHlwZSA9PSBUaW1lLmNsYXNzKQogICAgICAgICAgICBy\nZXR1cm4gVElNRTsKICAgICAgICByZXR1cm4gT0JKRUNUOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIGFuIGVtcHR5IHZhbHVlIG9iamVjdCBmb3Ig\ndGhlIGdpdmVuIHR5cGUgY29kZS4KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBPYmplY3QgZ2V0RW1wdHlWYWx1ZShpbnQgdHlwZSkgewogICAgICAgIHN3\naXRjaCAodHlwZSkgewogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5TVFJJ\nTkc6CiAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkJPT0xFQU46CiAgICAgICAgICAgIGNhc2UgSmF2YVR5\ncGVzLkJPT0xFQU5fT0JKOgogICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xl\nYW4uRkFMU0U7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZVEU6CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZVEVfT0JKOgogICAgICAgICAg\nICAgICAgcmV0dXJuIFpFUk9fQllURTsKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuQ0hBUjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQ0hBUl9P\nQko6CiAgICAgICAgICAgICAgICByZXR1cm4gWkVST19DSEFSOwogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5ET1VCTEU6CiAgICAgICAgICAgIGNhc2Ug\nSmF2YVR5cGVzLkRPVUJMRV9PQko6CiAgICAgICAgICAgICAgICByZXR1cm4g\nWkVST19ET1VCTEU7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkZMT0FU\nOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5GTE9BVF9PQko6CiAgICAg\nICAgICAgICAgICByZXR1cm4gWkVST19GTE9BVDsKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuSU5UOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5J\nTlRfT0JKOgogICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcnMudmFsdWVP\nZigwKTsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTE9ORzoKICAgICAg\nICAgICAgY2FzZSBKYXZhVHlwZXMuTE9OR19PQko6CiAgICAgICAgICAgICAg\nICByZXR1cm4gTnVtYmVycy52YWx1ZU9mKDBMKTsKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuU0hPUlQ6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLlNIT1JUX09CSjoKICAgICAgICAgICAgICAgIHJldHVybiBaRVJPX1NIT1JU\nOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CSUdJTlRFR0VSOgogICAg\nICAgICAgICAgICAgcmV0dXJuIEJpZ0ludGVnZXIuWkVSTzsKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuQklHREVDSU1BTDoKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuTlVNQkVSOgogICAgICAgICAgICAgICAgcmV0dXJuIFpF\nUk9fQklHREVDSU1BTDsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAg\nICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiBhIG5vbi1lbXB0eSB2YWx1ZSBvYmplY3QgZm9yIHRo\nZSBnaXZlbiB0eXBlIGNvZGUuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nT2JqZWN0IGdldE5vbkVtcHR5VmFsdWUoaW50IHR5cGUpIHsKICAgICAgICBz\nd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuU1RS\nSU5HOgogICAgICAgICAgICAgICAgcmV0dXJuICJ4IjsKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuQk9PTEVBTjoKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuQk9PTEVBTl9PQko6CiAgICAgICAgICAgICAgICByZXR1cm4gQm9v\nbGVhbi5UUlVFOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CWVRFOgog\nICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CWVRFX09CSjoKICAgICAgICAg\nICAgICAgIHJldHVybiBOT05aRVJPX0JZVEU7CiAgICAgICAgICAgIGNhc2Ug\nSmF2YVR5cGVzLkNIQVI6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkNI\nQVJfT0JKOgogICAgICAgICAgICAgICAgcmV0dXJuIE5PTlpFUk9fQ0hBUjsK\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRE9VQkxFOgogICAgICAgICAg\nICBjYXNlIEphdmFUeXBlcy5ET1VCTEVfT0JKOgogICAgICAgICAgICAgICAg\ncmV0dXJuIE5PTlpFUk9fRE9VQkxFOwogICAgICAgICAgICBjYXNlIEphdmFU\neXBlcy5GTE9BVDoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRkxPQVRf\nT0JKOgogICAgICAgICAgICAgICAgcmV0dXJuIE5PTlpFUk9fRkxPQVQ7CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklOVDoKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuSU5UX09CSjoKICAgICAgICAgICAgICAgIHJldHVybiBO\ndW1iZXJzLnZhbHVlT2YoMSk7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLkxPTkc6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxPTkdfT0JKOgog\nICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcnMudmFsdWVPZigxTCk7CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAgICAgICAgICBj\nYXNlIEphdmFUeXBlcy5TSE9SVF9PQko6CiAgICAgICAgICAgICAgICByZXR1\ncm4gTk9OWkVST19TSE9SVDsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMu\nQklHSU5URUdFUjoKICAgICAgICAgICAgICAgIHJldHVybiBOT05aRVJPX0JJ\nR0lOVEVHRVI7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJJR0RFQ0lN\nQUw6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLk5VTUJFUjoKICAgICAg\nICAgICAgICAgIHJldHVybiBOT05aRVJPX0JJR0RFQ0lNQUw7CiAgICAgICAg\nICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAg\nICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

