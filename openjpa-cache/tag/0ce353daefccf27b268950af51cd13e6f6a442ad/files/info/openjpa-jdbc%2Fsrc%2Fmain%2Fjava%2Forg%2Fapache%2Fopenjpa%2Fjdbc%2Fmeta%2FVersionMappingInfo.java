{"sha":"c464e07a5f9975ff3b35b8e02f0944175184264b","node_id":"MDQ6QmxvYjIwNjM2NDpjNDY0ZTA3YTVmOTk3NWZmM2IzNWI4ZTAyZjA5NDQxNzUxODQyNjRi","size":3200,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c464e07a5f9975ff3b35b8e02f0944175184264b","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGE7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMubWV0YS5zdHJhdHMuTm9uZVZlcnNpb25TdHJhdGVneTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzLlN1cGVyY2xh\nc3NWZXJzaW9uU3RyYXRlZ3k7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuc2NoZW1hLkluZGV4OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuc2NoZW1hLlNjaGVtYUdyb3VwOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLlRhYmxlOwoKLyoqCiAqIEluZm9ybWF0aW9u\nIGFib3V0IHRoZSBtYXBwaW5nIGZyb20gYSB2ZXJzaW9uIGluZGljYXRvciB0\nbyB0aGUgc2NoZW1hLCBpbgogKiByYXcgZm9ybS4gVGhlIGNvbHVtbnMgYW5k\nIHRhYmxlcyB1c2VkIGluIG1hcHBpbmcgaW5mbyB3aWxsIG5vdCBiZSBwYXJ0\nIG9mCiAqIHRoZSB7QGxpbmsgU2NoZW1hR3JvdXB9IHVzZWQgYXQgcnVudGlt\nZS4gUmF0aGVyLCB0aGV5IHdpbGwgYmUgc3RydWN0cwogKiB3aXRoIHRoZSBy\nZWxldmFudCBwaWVjZXMgb2YgaW5mb3JtYXRpb24gZmlsbGVkIGluLgogKgog\nKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNsYXNzIFZlcnNpb25N\nYXBwaW5nSW5mbwogICAgZXh0ZW5kcyBNYXBwaW5nSW5mbyB7CgogICAgLyoq\nCiAgICAgKiBSZXR1cm4gdGhlIGNvbHVtbnMgc2V0IGZvciB0aGlzIHZlcnNp\nb24sIGJhc2VkIG9uIHRoZSBnaXZlbiB0ZW1wbGF0ZXMuCiAgICAgKi8KICAg\nIHB1YmxpYyBDb2x1bW5bXSBnZXRDb2x1bW5zKFZlcnNpb24gdmVyc2lvbiwg\nQ29sdW1uW10gdG1wbGF0ZXMsCiAgICAgICAgYm9vbGVhbiBhZGFwdCkgewog\nICAgICAgIFRhYmxlIHRhYmxlID0gdmVyc2lvbi5nZXRDbGFzc01hcHBpbmco\nKS5nZXRUYWJsZSgpOwogICAgICAgIHZlcnNpb24uZ2V0TWFwcGluZ1JlcG9z\naXRvcnkoKS5nZXRNYXBwaW5nRGVmYXVsdHMoKS5wb3B1bGF0ZUNvbHVtbnMK\nICAgICAgICAgICAgKHZlcnNpb24sIHRhYmxlLCB0bXBsYXRlcyk7CiAgICAg\nICAgcmV0dXJuIGNyZWF0ZUNvbHVtbnModmVyc2lvbiwgbnVsbCwgdG1wbGF0\nZXMsIHRhYmxlLCBhZGFwdCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1\ncm4gdGhlIGluZGV4IHRvIHNldCBvbiB0aGUgdmVyc2lvbiBjb2x1bW5zLCBv\nciBudWxsIGlmIG5vbmUuCiAgICAgKi8KICAgIHB1YmxpYyBJbmRleCBnZXRJ\nbmRleChWZXJzaW9uIHZlcnNpb24sIENvbHVtbltdIGNvbHMsIGJvb2xlYW4g\nYWRhcHQpIHsKICAgICAgICBJbmRleCBpZHggPSBudWxsOwogICAgICAgIGlm\nIChjb2xzLmxlbmd0aCA+IDApCiAgICAgICAgICAgIGlkeCA9IHZlcnNpb24u\nZ2V0TWFwcGluZ1JlcG9zaXRvcnkoKS5nZXRNYXBwaW5nRGVmYXVsdHMoKS4K\nICAgICAgICAgICAgICAgIGdldEluZGV4KHZlcnNpb24sIGNvbHNbMF0uZ2V0\nVGFibGUoKSwgY29scyk7CiAgICAgICAgcmV0dXJuIGNyZWF0ZUluZGV4KHZl\ncnNpb24sIG51bGwsIGlkeCwgY29scywgYWRhcHQpOwogICAgfQoKICAgIC8q\nKgogICAgICogU3luY2hyb25pemUgaW50ZXJuYWwgaW5mb3JtYXRpb24gd2l0\naCB0aGUgbWFwcGluZyBkYXRhIGZvciB0aGUgZ2l2ZW4KICAgICAqIHZlcnNp\nb24uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHN5bmNXaXRoKFZlcnNpb24g\ndmVyc2lvbikgewogICAgICAgIGNsZWFyKGZhbHNlKTsKCiAgICAgICAgQ2xh\nc3NNYXBwaW5nIGNscyA9IHZlcnNpb24uZ2V0Q2xhc3NNYXBwaW5nKCk7CiAg\nICAgICAgQ29sdW1uW10gY29scyA9IHZlcnNpb24uZ2V0Q29sdW1ucygpOwoK\nICAgICAgICBzZXRDb2x1bW5JTyh2ZXJzaW9uLmdldENvbHVtbklPKCkpOwog\nICAgICAgIHN5bmNDb2x1bW5zKHZlcnNpb24sIGNvbHMsIGZhbHNlKTsKICAg\nICAgICBzeW5jSW5kZXgodmVyc2lvbiwgdmVyc2lvbi5nZXRJbmRleCgpKTsK\nCiAgICAgICAgaWYgKHZlcnNpb24uZ2V0U3RyYXRlZ3koKSA9PSBudWxsCiAg\nICAgICAgICAgIHx8IHZlcnNpb24uZ2V0U3RyYXRlZ3koKWluc3RhbmNlb2Yg\nU3VwZXJjbGFzc1ZlcnNpb25TdHJhdGVneSkKICAgICAgICAgICAgcmV0dXJu\nOwoKICAgICAgICAvLyBleHBsaWNpdCB2ZXJzaW9uIHN0cmF0ZWd5IGlmOgog\nICAgICAgIC8vIC0gdW5tYXBwZWQgY2xhc3MgYW5kIHZlcnNpb24gbWFwcGVk\nCiAgICAgICAgLy8gLSBtYXBwZWQgYmFzZSBjbGFzcwogICAgICAgIC8vIC0g\nbWFwcGVkIHN1YmNsYXNzIHRoYXQgZG9lc24ndCByZWx5IG9uIHN1cGVyY2xh\nc3MgdmVyc2lvbgogICAgICAgIFN0cmluZyBzdHJhdCA9IHZlcnNpb24uZ2V0\nU3RyYXRlZ3koKS5nZXRBbGlhcygpOwogICAgICAgIGlmICgoIWNscy5pc01h\ncHBlZCgpICYmICFOb25lVmVyc2lvblN0cmF0ZWd5LkFMSUFTLmVxdWFscyhz\ndHJhdCkpCiAgICAgICAgICAgIHx8IChjbHMuaXNNYXBwZWQoKQogICAgICAg\nICAgICAmJiBjbHMuZ2V0Sm9pbmFibGVQQ1N1cGVyY2xhc3NNYXBwaW5nKCkg\nPT0gbnVsbCkpCiAgICAgICAgICAgIHNldFN0cmF0ZWd5KHN0cmF0KTsKICAg\nIH0KfQo=\n","encoding":"base64"}

