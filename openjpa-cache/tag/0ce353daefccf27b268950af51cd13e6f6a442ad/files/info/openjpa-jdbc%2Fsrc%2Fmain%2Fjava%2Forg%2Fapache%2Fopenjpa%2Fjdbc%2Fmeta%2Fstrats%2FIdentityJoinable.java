{"sha":"87379f0dd80267eaee4770a4faaf7aa7a210bbaf","node_id":"MDQ6QmxvYjIwNjM2NDo4NzM3OWYwZGQ4MDI2N2VhZWU0NzcwYTRmYWFmN2FhN2EyMTBiYmFm","size":2569,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/87379f0dd80267eaee4770a4faaf7aa7a210bbaf","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzOwoKaW1wb3J0IGphdmEuc3FsLlNR\nTEV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5r\nZXJuZWwuSkRCQ1N0b3JlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5DbGFzc01hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5tZXRhLkpvaW5hYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc2NoZW1hLkNvbHVtbjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNjaGVtYS5Gb3JlaWduS2V5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc3FsLkpvaW5zOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLlJlc3VsdDsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5rZXJuZWwuT3BlbkpQQVN0YXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS51dGlsLklkOwppbXBvcnQgc2VycC51dGlsLk51bWJl\ncnM7CgovKioKICoge0BsaW5rIEpvaW5hYmxlfSBmb3IgdGhlIGRhdGFzdG9y\nZSBpZGVudGl0eSBjb2x1bW4uCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAq\nLwpjbGFzcyBJZGVudGl0eUpvaW5hYmxlCiAgICBpbXBsZW1lbnRzIEpvaW5h\nYmxlIHsKCiAgICBwcml2YXRlIGZpbmFsIENsYXNzTWFwcGluZyBtYXBwaW5n\nOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBkYXRhc3Rv\ncmUgaWRlbnRpdHkgbWFwcGluZy4KICAgICAqLwogICAgcHVibGljIElkZW50\naXR5Sm9pbmFibGUoQ2xhc3NNYXBwaW5nIG1hcHBpbmcpIHsKICAgICAgICB0\naGlzLm1hcHBpbmcgPSBtYXBwaW5nOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nZ2V0RmllbGRJbmRleCgpIHsKICAgICAgICByZXR1cm4gLTE7CiAgICB9Cgog\nICAgcHVibGljIE9iamVjdCBnZXRQcmltYXJ5S2V5VmFsdWUoUmVzdWx0IHJl\ncywgQ29sdW1uW10gY29scywgRm9yZWlnbktleSBmaywKICAgICAgICBKREJD\nU3RvcmUgc3RvcmUsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIENvbHVtbiBjb2wgPSBjb2xzWzBdOwogICAg\nICAgIGlmIChmayAhPSBudWxsKQogICAgICAgICAgICBjb2wgPSBmay5nZXRD\nb2x1bW4oY29sKTsKICAgICAgICBsb25nIGlkID0gcmVzLmdldExvbmcoY29s\nKTsKICAgICAgICBpZiAoaWQgPT0gMCAmJiByZXMud2FzTnVsbCgpKQogICAg\nICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICByZXR1cm4gTnVtYmVycy52\nYWx1ZU9mKGlkKTsKICAgIH0KCiAgICBwdWJsaWMgQ29sdW1uW10gZ2V0Q29s\ndW1ucygpIHsKICAgICAgICByZXR1cm4gbWFwcGluZy5nZXRQcmltYXJ5S2V5\nQ29sdW1ucygpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0Sm9pblZh\nbHVlKE9iamVjdCB2YWwsIENvbHVtbiBjb2wsIEpEQkNTdG9yZSBzdG9yZSkg\newogICAgICAgIHJldHVybiB2YWw7CiAgICB9CgogICAgcHVibGljIE9iamVj\ndCBnZXRKb2luVmFsdWUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgQ29sdW1u\nIGNvbCwKICAgICAgICBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAgICBJZCBp\nZCA9IChJZCkgc20uZ2V0T2JqZWN0SWQoKTsKICAgICAgICByZXR1cm4gKGlk\nID09IG51bGwpID8gbnVsbCA6IGlkLmdldElkT2JqZWN0KCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0QXV0b0Fzc2lnbmVkVmFsdWUoT3BlbkpQQVN0\nYXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLAogICAgICAgIENvbHVt\nbiBjb2wsIE9iamVjdCBhdXRvZ2VuKSB7CiAgICAgICAgbG9uZyBpZCA9ICgo\nTnVtYmVyKSBhdXRvZ2VuKS5sb25nVmFsdWUoKTsKICAgICAgICBzbS5zZXRP\nYmplY3RJZChzdG9yZS5uZXdEYXRhU3RvcmVJZChpZCwgKENsYXNzTWFwcGlu\nZykKICAgICAgICAgICAgc20uZ2V0TWV0YURhdGEoKSwgdHJ1ZSkpOwogICAg\nfQp9Cg==\n","encoding":"base64"}

