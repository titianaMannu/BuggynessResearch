{"sha":"6c1ccfc7fc5070f7873acb7f226521e03432a38e","node_id":"MDQ6QmxvYjIwNjM2NDo2YzFjY2ZjN2ZjNTA3MGY3ODczYWNiN2YyMjY1MjFlMDM0MzJhMzhl","size":3528,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6c1ccfc7fc5070f7873acb7f226521e03432a38e","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzOwoKaW1wb3J0IGphdmEuc3FsLlJl\nc3VsdFNldDsKaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsKCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuSkRCQ1N0b3JlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFy\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Sb3c7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FMRXhjZXB0aW9u\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuT3BlbkpQQVN0\nYXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRp\nbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5K\nYXZhVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5NZXRh\nRGF0YUV4Y2VwdGlvbjsKCi8qKgogKiBNYXBwaW5nIGZvciBzZXJpYWxpemVk\nIGZpZWxkcyBvbiBhIGRpY3Rpb25hcnkgdGhhdCBoYXMgYSBtYXhpbXVtIGVt\nYmVkZGVkCiAqIEJMT0Igc2l6ZS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUK\nICogQG5vamF2YWRvYwogKiBAc2luY2UgMC40LjAKICovCnB1YmxpYyBjbGFz\ncyBNYXhFbWJlZGRlZEJsb2JGaWVsZFN0cmF0ZWd5CiAgICBleHRlbmRzIE1h\neEVtYmVkZGVkTG9iRmllbGRTdHJhdGVneSB7CgogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2Fn\nZQogICAgICAgIChNYXhFbWJlZGRlZEJsb2JGaWVsZFN0cmF0ZWd5LmNsYXNz\nKTsKCiAgICBwcml2YXRlIGludCBfbWF4U2l6ZSA9IDA7CgogICAgcHJvdGVj\ndGVkIGludCBnZXRFeHBlY3RlZEphdmFUeXBlKCkgewogICAgICAgIHJldHVy\nbiBKYXZhVHlwZXMuT0JKRUNUOwogICAgfQoKICAgIHByb3RlY3RlZCB2b2lk\nIHVwZGF0ZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBSb3cgcm93KQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGJ5dGVbXSBiID0g\nKGJ5dGVbXSkgc20uZ2V0SW1wbERhdGEoZmllbGQuZ2V0SW5kZXgoKSk7CiAg\nICAgICAgaWYgKGIgPT0gbnVsbCB8fCBiLmxlbmd0aCA+IF9tYXhTaXplKQog\nICAgICAgICAgICByb3cuc2V0TnVsbChmaWVsZC5nZXRDb2x1bW5zKClbMF0s\nIHRydWUpOwogICAgICAgIGVsc2UgewogICAgICAgICAgICBzbS5zZXRJbXBs\nRGF0YShmaWVsZC5nZXRJbmRleCgpLCBudWxsKTsKICAgICAgICAgICAgREJE\naWN0aW9uYXJ5LlNlcmlhbGl6ZWREYXRhIGRhdCA9CiAgICAgICAgICAgICAg\nICBuZXcgREJEaWN0aW9uYXJ5LlNlcmlhbGl6ZWREYXRhKGIpOwogICAgICAg\nICAgICByb3cuc2V0T2JqZWN0KGZpZWxkLmdldENvbHVtbnMoKVswXSwgZGF0\nKTsKICAgICAgICB9CiAgICB9CgogICAgcHJvdGVjdGVkIEJvb2xlYW4gaXND\ndXN0b20oT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3Jl\nKSB7CiAgICAgICAgLy8gaGF2ZSB3ZSBhbHJlYWR5IHN0b3JlZCBvdXIgc2Vy\naWFsaXplZCBkYXRhPwogICAgICAgIGJ5dGVbXSBiID0gKGJ5dGVbXSkgc20u\nZ2V0SW1wbERhdGEoZmllbGQuZ2V0SW5kZXgoKSk7CiAgICAgICAgaWYgKGIg\nPT0gbnVsbCkgewogICAgICAgICAgICBPYmplY3QgbyA9IHNtLmZldGNoKGZp\nZWxkLmdldEluZGV4KCkpOwogICAgICAgICAgICBpZiAobyA9PSBudWxsKQog\nICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4uRkFMU0U7CgogICAgICAg\nICAgICAvLyBzZXJpYWxpemUgZmllbGQgdmFsdWUKICAgICAgICAgICAgREJE\naWN0aW9uYXJ5IGRpY3QgPSBmaWVsZC5nZXRNYXBwaW5nUmVwb3NpdG9yeSgp\nLmdldERCRGljdGlvbmFyeSgpOwogICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgYiA9IGRpY3Quc2VyaWFsaXplKG8sIHN0b3JlKTsKICAgICAg\nICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlKSB7CiAgICAgICAgICAg\nICAgICB0aHJvdyBTUUxFeGNlcHRpb25zLmdldFN0b3JlKHNlLCBkaWN0KTsK\nICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gc2V0IGluIGltcGwgZGF0\nYSBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gcmUtc2VyaWFsaXplIG9uIHN0\nb3JlCiAgICAgICAgICAgIHNtLnNldEltcGxEYXRhKGZpZWxkLmdldEluZGV4\nKCksIGIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKGIubGVuZ3RoID4g\nX21heFNpemUpID8gbnVsbCA6IEJvb2xlYW4uRkFMU0U7CiAgICB9CgogICAg\ncHJvdGVjdGVkIHZvaWQgcHV0RGF0YShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNt\nLCBSZXN1bHRTZXQgcnMsCiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3QpCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgYnl0ZVtdIGIg\nPSAoYnl0ZVtdKSBzbS5zZXRJbXBsRGF0YShmaWVsZC5nZXRJbmRleCgpLCBu\ndWxsKTsKICAgICAgICBPYmplY3QgYmxvYiA9IHJzLmdldEJsb2IoMSk7CiAg\nICAgICAgZGljdC5wdXRCeXRlcyhibG9iLCBiKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBtYXAoYm9vbGVhbiBhZGFwdCkgewogICAgICAgIGlmICghZmll\nbGQuaXNTZXJpYWxpemVkKCkpCiAgICAgICAgICAgIHRocm93IG5ldyBNZXRh\nRGF0YUV4Y2VwdGlvbihfbG9jLmdldCgibm90LXNlcmlhbGl6ZWQiLCBmaWVs\nZCkpOwogICAgICAgIHN1cGVyLm1hcChhZGFwdCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgaW5pdGlhbGl6ZSgpIHsKICAgICAgICBEQkRpY3Rpb25hcnkg\nZGljdCA9IGZpZWxkLmdldE1hcHBpbmdSZXBvc2l0b3J5KCkuZ2V0REJEaWN0\naW9uYXJ5KCk7CiAgICAgICAgX21heFNpemUgPSBkaWN0Lm1heEVtYmVkZGVk\nQmxvYlNpemU7CiAgICAgICAgZmllbGQuc2V0VXNlc0ltcGxEYXRhKEJvb2xl\nYW4uVFJVRSk7CiAgICB9Cn0K\n","encoding":"base64"}

