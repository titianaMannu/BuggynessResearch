{"sha":"267cb3e7549c7793bbd043b7f134174d3fe3a944","node_id":"MDQ6QmxvYjIwNjM2NDoyNjdjYjNlNzU0OWM3NzkzYmJkMDQzYjdmMTM0MTc0ZDNmZTNhOTQ0","size":3156,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/267cb3e7549c7793bbd043b7f134174d3fe3a944","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzOwoKaW1wb3J0IGphdmEubGFuZy5y\nZWZsZWN0LkFycmF5OwppbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0OwppbXBv\ncnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDU3RvcmU7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5tZXRhLkphdmFTUUxUeXBlczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW47CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuREJEaWN0aW9uYXJ5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkpvaW5zOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlJlc3VsdDsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Sb3c7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLk9wZW5KUEFTdGF0ZU1hbmFnZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuTWV0YURhdGFFeGNlcHRpb247\nCgovKioKICogTWFwcGluZyBmb3IgYnl0ZSBhcnJheSBmaWVsZHMgb24gYSBk\naWN0aW9uYXJ5IHRoYXQgaGFzIGEgbWF4aW11bSBlbWJlZGRlZAogKiBCTE9C\nIHNpemUuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MK\nICogQHNpbmNlIDAuNC4wCiAqLwpwdWJsaWMgY2xhc3MgTWF4RW1iZWRkZWRC\neXRlQXJyYXlGaWVsZFN0cmF0ZWd5CiAgICBleHRlbmRzIE1heEVtYmVkZGVk\nTG9iRmllbGRTdHJhdGVneSB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwg\nTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAg\nIChNYXhFbWJlZGRlZEJ5dGVBcnJheUZpZWxkU3RyYXRlZ3kuY2xhc3MpOwoK\nICAgIHByaXZhdGUgaW50IF9tYXhTaXplID0gMDsKCiAgICBwcm90ZWN0ZWQg\naW50IGdldEV4cGVjdGVkSmF2YVR5cGUoKSB7CiAgICAgICAgcmV0dXJuIEph\ndmFTUUxUeXBlcy5CWVRFUzsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCB1\ncGRhdGUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgUm93IHJvdykKICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBieXRlW10gYiA9IFBy\naW1pdGl2ZVdyYXBwZXJBcnJheXMudG9CeXRlQXJyYXkoc20uZmV0Y2hPYmpl\nY3QKICAgICAgICAgICAgKGZpZWxkLmdldEluZGV4KCkpKTsKICAgICAgICBp\nZiAoYiA9PSBudWxsIHx8IGIubGVuZ3RoID4gX21heFNpemUpCiAgICAgICAg\nICAgIHJvdy5zZXRCeXRlcyhmaWVsZC5nZXRDb2x1bW5zKClbMF0sIG51bGwp\nOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcm93LnNldEJ5dGVzKGZpZWxk\nLmdldENvbHVtbnMoKVswXSwgYik7CiAgICB9CgogICAgcHJvdGVjdGVkIEJv\nb2xlYW4gaXNDdXN0b20oT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0\nb3JlIHN0b3JlKSB7CiAgICAgICAgT2JqZWN0IHZhbCA9IHNtLmZldGNoT2Jq\nZWN0KGZpZWxkLmdldEluZGV4KCkpOwogICAgICAgIHJldHVybiAodmFsICE9\nIG51bGwgJiYgQXJyYXkuZ2V0TGVuZ3RoKHZhbCkgPiBfbWF4U2l6ZSkgPyBu\ndWxsCiAgICAgICAgICAgIDogQm9vbGVhbi5GQUxTRTsKICAgIH0KCiAgICBw\ncm90ZWN0ZWQgdm9pZCBwdXREYXRhKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20s\nIFJlc3VsdFNldCBycywKICAgICAgICBEQkRpY3Rpb25hcnkgZGljdCkKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBPYmplY3QgYmxv\nYiA9IHJzLmdldEJsb2IoMSk7CiAgICAgICAgZGljdC5wdXRCeXRlcyhibG9i\nLCBQcmltaXRpdmVXcmFwcGVyQXJyYXlzLnRvQnl0ZUFycmF5KHNtLmZldGNo\nT2JqZWN0CiAgICAgICAgICAgIChmaWVsZC5nZXRJbmRleCgpKSkpOwogICAg\nfQoKICAgIHByb3RlY3RlZCBPYmplY3QgbG9hZChDb2x1bW4gY29sLCBSZXN1\nbHQgcmVzLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gUHJpbWl0aXZlV3JhcHBlckFycmF5cy50\nb09iamVjdFZhbHVlKGZpZWxkLAogICAgICAgICAgICAoYnl0ZVtdKSByZXMu\nZ2V0Qnl0ZXMoY29sLCBqb2lucykpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIG1hcChib29sZWFuIGFkYXB0KSB7CiAgICAgICAgaWYgKGZpZWxkLmdldFR5\ncGUoKSAhPSBieXRlW10uY2xhc3MgJiYgZmllbGQuZ2V0VHlwZSgpICE9IEJ5\ndGVbXS5jbGFzcykKICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGFEYXRhRXhj\nZXB0aW9uKF9sb2MuZ2V0KCJub3QtYnl0ZXMiLCBmaWVsZCkpOwogICAgICAg\nIHN1cGVyLm1hcChhZGFwdCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgaW5p\ndGlhbGl6ZSgpIHsKICAgICAgICBEQkRpY3Rpb25hcnkgZGljdCA9IGZpZWxk\nLmdldE1hcHBpbmdSZXBvc2l0b3J5KCkuZ2V0REJEaWN0aW9uYXJ5KCk7CiAg\nICAgICAgX21heFNpemUgPSBkaWN0Lm1heEVtYmVkZGVkQmxvYlNpemU7CiAg\nICB9Cn0K\n","encoding":"base64"}

