{"sha":"fc8d230dbeb809dbf53f89d233459c27edc74625","node_id":"MDQ6QmxvYjIwNjM2NDpmYzhkMjMwZGJlYjgwOWRiZjUzZjg5ZDIzMzQ1OWMyN2VkYzc0NjI1","size":3719,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fc8d230dbeb809dbf53f89d233459c27edc74625","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzOwoKaW1wb3J0IGphdmEuaW8uQ2hh\nckFycmF5UmVhZGVyOwppbXBvcnQgamF2YS5pby5DaGFyQXJyYXlXcml0ZXI7\nCmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwppbXBvcnQgamF2YS5pby5S\nZWFkZXI7CmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5BcnJheTsKaW1wb3J0\nIGphdmEuc3FsLlJlc3VsdFNldDsKaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2Vw\ndGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwu\nSkRCQ1N0b3JlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0\nYS5KYXZhU1FMVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNxbC5Kb2luczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5SZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuUm93OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5P\ncGVuSlBBU3RhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS51dGlsLk1ldGFEYXRhRXhjZXB0aW9uOwoKLyoqCiAqIE1hcHBpbmcgZm9y\nIENMT0IgY2hhcmFjdGVyIGFycmF5IG9uIGEgZGljdGlvbmFyeSB0aGF0IGhh\ncyBhIG1heGltdW0KICogZW1iZWRkZWQgQ0xPQiBzaXplLgogKgogKiBAYXV0\naG9yIEFiZSBXaGl0ZQogKiBAbm9qYXZhZG9jCiAqIEBzaW5jZSAwLjQuMAog\nKi8KcHVibGljIGNsYXNzIE1heEVtYmVkZGVkQ2hhckFycmF5RmllbGRTdHJh\ndGVneQogICAgZXh0ZW5kcyBNYXhFbWJlZGRlZExvYkZpZWxkU3RyYXRlZ3kg\newoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0g\nTG9jYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAoTWF4RW1iZWRkZWRDaGFy\nQXJyYXlGaWVsZFN0cmF0ZWd5LmNsYXNzKTsKCiAgICBwcml2YXRlIGludCBf\nbWF4U2l6ZSA9IDA7CgogICAgcHJvdGVjdGVkIGludCBnZXRFeHBlY3RlZEph\ndmFUeXBlKCkgewogICAgICAgIHJldHVybiBKYXZhU1FMVHlwZXMuQ0hBUl9T\nVFJFQU07CiAgICB9CgogICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlKE9wZW5K\nUEFTdGF0ZU1hbmFnZXIgc20sIFJvdyByb3cpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgY2hhcltdIGMgPSBQcmltaXRpdmVXcmFw\ncGVyQXJyYXlzLgogICAgICAgICAgICB0b0NoYXJBcnJheShzbS5mZXRjaE9i\namVjdChmaWVsZC5nZXRJbmRleCgpKSk7CiAgICAgICAgaWYgKGMgPT0gbnVs\nbCB8fCBjLmxlbmd0aCA+IF9tYXhTaXplKQogICAgICAgICAgICByb3cuc2V0\nTnVsbChmaWVsZC5nZXRDb2x1bW5zKClbMF0sIHRydWUpOwogICAgICAgIGVs\nc2UKICAgICAgICAgICAgcm93LnNldENoYXJhY3RlclN0cmVhbShmaWVsZC5n\nZXRDb2x1bW5zKClbMF0sCiAgICAgICAgICAgICAgICBuZXcgQ2hhckFycmF5\nUmVhZGVyKGMpLCBjLmxlbmd0aCk7CiAgICB9CgogICAgcHJvdGVjdGVkIEJv\nb2xlYW4gaXNDdXN0b20oT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0\nb3JlIHN0b3JlKSB7CiAgICAgICAgT2JqZWN0IHZhbCA9IHNtLmZldGNoT2Jq\nZWN0KGZpZWxkLmdldEluZGV4KCkpOwogICAgICAgIHJldHVybiAodmFsICE9\nIG51bGwgJiYgQXJyYXkuZ2V0TGVuZ3RoKHZhbCkgPiBfbWF4U2l6ZSkgPyBu\ndWxsCiAgICAgICAgICAgIDogQm9vbGVhbi5GQUxTRTsKICAgIH0KCiAgICBw\ncm90ZWN0ZWQgdm9pZCBwdXREYXRhKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20s\nIFJlc3VsdFNldCBycywKICAgICAgICBEQkRpY3Rpb25hcnkgZGljdCkKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBPYmplY3QgY2xv\nYiA9IHJzLmdldENsb2IoMSk7CiAgICAgICAgZGljdC5wdXRDaGFycyhjbG9i\nLCBQcmltaXRpdmVXcmFwcGVyQXJyYXlzLgogICAgICAgICAgICB0b0NoYXJB\ncnJheShzbS5mZXRjaE9iamVjdChmaWVsZC5nZXRJbmRleCgpKSkpOwogICAg\nfQoKICAgIHByb3RlY3RlZCBPYmplY3QgbG9hZChDb2x1bW4gY29sLCBSZXN1\nbHQgcmVzLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICBSZWFkZXIgcmVhZGVyID0gcmVzLmdldENoYXJhY3Rl\nclN0cmVhbShjb2wsIGpvaW5zKTsKICAgICAgICBpZiAocmVhZGVyID09IG51\nbGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICB0cnkgewog\nICAgICAgICAgICBDaGFyQXJyYXlXcml0ZXIgd3JpdGVyID0gbmV3IENoYXJB\ncnJheVdyaXRlcigpOwogICAgICAgICAgICBmb3IgKGludCBjOyAoYyA9IHJl\nYWRlci5yZWFkKCkpICE9IC0xOykKICAgICAgICAgICAgICAgIHdyaXRlci53\ncml0ZShjKTsKICAgICAgICAgICAgcmV0dXJuIFByaW1pdGl2ZVdyYXBwZXJB\ncnJheXMudG9PYmplY3RWYWx1ZShmaWVsZCwKICAgICAgICAgICAgICAgIHdy\naXRlci50b0NoYXJBcnJheSgpKTsKICAgICAgICB9IGNhdGNoIChJT0V4Y2Vw\ndGlvbiBpb2UpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFNRTEV4Y2VwdGlv\nbihpb2UudG9TdHJpbmcoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIG1hcChib29sZWFuIGFkYXB0KSB7CiAgICAgICAgaWYgKGZpZWxk\nLmdldFR5cGUoKSAhPSBjaGFyW10uY2xhc3MKICAgICAgICAgICAgJiYgZmll\nbGQuZ2V0VHlwZSgpICE9IENoYXJhY3RlcltdLmNsYXNzKQogICAgICAgICAg\nICB0aHJvdyBuZXcgTWV0YURhdGFFeGNlcHRpb24oX2xvYy5nZXQoIm5vdC1j\naGFycyIsIGZpZWxkKSk7CiAgICAgICAgc3VwZXIubWFwKGFkYXB0KTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKCkgewogICAgICAgIERC\nRGljdGlvbmFyeSBkaWN0ID0gZmllbGQuZ2V0TWFwcGluZ1JlcG9zaXRvcnko\nKS5nZXREQkRpY3Rpb25hcnkoKTsKICAgICAgICBfbWF4U2l6ZSA9IGRpY3Qu\nbWF4RW1iZWRkZWRDbG9iU2l6ZTsKICAgIH0KfQo=\n","encoding":"base64"}

