{"sha":"d310c8f8705cac0b68f94b44ae511e70aaf24fb5","node_id":"MDQ6QmxvYjIwNjM2NDpkMzEwYzhmODcwNWNhYzBiNjhmOTRiNDRhZTUxMWU3MGFhZjI0ZmI1","size":2617,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d310c8f8705cac0b68f94b44ae511e70aaf24fb5","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzOwoKaW1wb3J0IGphdmEuc3FsLlJl\nc3VsdFNldDsKaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsKCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuSkRCQ1N0b3JlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFy\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Sb3c7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLk9wZW5KUEFTdGF0ZU1h\nbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9j\nYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5\ncGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuTWV0YURhdGFF\neGNlcHRpb247CgovKioKICogTWFwcGluZyBmb3IgQ0xPQiBzdHJpbmcgb24g\nYSBkaWN0aW9uYXJ5IHRoYXQgaGFzIGEgbWF4aW11bSBlbWJlZGRlZAogKiBD\nTE9CIHNpemUuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFk\nb2MKICogQHNpbmNlIDAuNC4wCiAqLwpwdWJsaWMgY2xhc3MgTWF4RW1iZWRk\nZWRDbG9iRmllbGRTdHJhdGVneQogICAgZXh0ZW5kcyBNYXhFbWJlZGRlZExv\nYkZpZWxkU3RyYXRlZ3kgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExv\nY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAo\nTWF4RW1iZWRkZWRDbG9iRmllbGRTdHJhdGVneS5jbGFzcyk7CgogICAgcHJp\ndmF0ZSBpbnQgX21heFNpemUgPSAwOwoKICAgIHByb3RlY3RlZCBpbnQgZ2V0\nRXhwZWN0ZWRKYXZhVHlwZSgpIHsKICAgICAgICByZXR1cm4gSmF2YVR5cGVz\nLlNUUklORzsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGUoT3Bl\nbkpQQVN0YXRlTWFuYWdlciBzbSwgUm93IHJvdykKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICBTdHJpbmcgcyA9IHNtLmZldGNoU3Ry\naW5nKGZpZWxkLmdldEluZGV4KCkpOwogICAgICAgIGlmIChzID09IG51bGwg\nfHwgcy5sZW5ndGgoKSA+IF9tYXhTaXplKQogICAgICAgICAgICByb3cuc2V0\nTnVsbChmaWVsZC5nZXRDb2x1bW5zKClbMF0sIHRydWUpOwogICAgICAgIGVs\nc2UKICAgICAgICAgICAgcm93LnNldFN0cmluZyhmaWVsZC5nZXRDb2x1bW5z\nKClbMF0sIHMpOwogICAgfQoKICAgIHByb3RlY3RlZCBCb29sZWFuIGlzQ3Vz\ndG9tKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSkg\newogICAgICAgIFN0cmluZyBzID0gc20uZmV0Y2hTdHJpbmcoZmllbGQuZ2V0\nSW5kZXgoKSk7CiAgICAgICAgcmV0dXJuIChzICE9IG51bGwgJiYgcy5sZW5n\ndGgoKSA+IF9tYXhTaXplKSA/IG51bGwgOiBCb29sZWFuLkZBTFNFOwogICAg\nfQoKICAgIHByb3RlY3RlZCB2b2lkIHB1dERhdGEoT3BlbkpQQVN0YXRlTWFu\nYWdlciBzbSwgUmVzdWx0U2V0IHJzLAogICAgICAgIERCRGljdGlvbmFyeSBk\naWN0KQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIE9i\namVjdCBjbG9iID0gcnMuZ2V0Q2xvYigxKTsKICAgICAgICBkaWN0LnB1dFN0\ncmluZyhjbG9iLCBzbS5mZXRjaFN0cmluZyhmaWVsZC5nZXRJbmRleCgpKSk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgbWFwKGJvb2xlYW4gYWRhcHQpIHsK\nICAgICAgICBpZiAoZmllbGQuZ2V0VHlwZUNvZGUoKSAhPSBKYXZhVHlwZXMu\nU1RSSU5HKQogICAgICAgICAgICB0aHJvdyBuZXcgTWV0YURhdGFFeGNlcHRp\nb24oX2xvYy5nZXQoIm5vdC1jbG9ic3RyaW5nIiwgZmllbGQpKTsKICAgICAg\nICBzdXBlci5tYXAoYWRhcHQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGlu\naXRpYWxpemUoKSB7CiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3QgPSBmaWVs\nZC5nZXRNYXBwaW5nUmVwb3NpdG9yeSgpLmdldERCRGljdGlvbmFyeSgpOwog\nICAgICAgIF9tYXhTaXplID0gZGljdC5tYXhFbWJlZGRlZENsb2JTaXplOwog\nICAgfQp9Cg==\n","encoding":"base64"}

