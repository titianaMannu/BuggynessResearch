{"sha":"1f6f337fc460e64eb83290ef77faf73bdc59f7d4","node_id":"MDQ6QmxvYjIwNjM2NDoxZjZmMzM3ZmM0NjBlNjRlYjgzMjkwZWY3N2ZhZjczYmRjNTlmN2Q0","size":8751,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1f6f337fc460e64eb83290ef77faf73bdc59f7d4","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzOwoKaW1wb3J0IGphdmEuc3FsLlNR\nTEV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5r\nZXJuZWwuSkRCQ0ZldGNoQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDU3RvcmU7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkVtYmVkZGFibGU7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkZpZWxkTWFwcGluZzsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuSm9pbmFibGU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLlZhbHVlTWFwcGlu\nZ0luZm87CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEu\nQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1h\nLkNvbHVtbklPOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2No\nZW1hLkZvcmVpZ25LZXk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zY2hlbWEuUHJpbWFyeUtleTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNxbC5Kb2luczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5SZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuUm93OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3Fs\nLlJvd01hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5z\ncWwuU1FMQnVmZmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nc3FsLlNlbGVjdDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nT3BlbkpQQVN0YXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubWV0YS5KYXZhVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbWV0YS5WYWx1ZVN0cmF0ZWdpZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEudXRpbC5NZXRhRGF0YUV4Y2VwdGlvbjsKCi8qKgogKiBEaXJlY3QgbWFw\ncGluZyBmcm9tIGEgc3RyaW5nIHZhbHVlIHRvIGEgY29sdW1uLgogKgogKiBA\nYXV0aG9yIEFiZSBXaGl0ZQogKiBAc2luY2UgMC40LjAKICovCnB1YmxpYyBj\nbGFzcyBTdHJpbmdGaWVsZFN0cmF0ZWd5CiAgICBleHRlbmRzIEFic3RyYWN0\nRmllbGRTdHJhdGVneQogICAgaW1wbGVtZW50cyBKb2luYWJsZSwgRW1iZWRk\nYWJsZSB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9s\nb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgIChTdHJpbmdGaWVs\nZFN0cmF0ZWd5LmNsYXNzKTsKCiAgICBwdWJsaWMgdm9pZCBtYXAoYm9vbGVh\nbiBhZGFwdCkgewogICAgICAgIGlmIChmaWVsZC5nZXRUeXBlQ29kZSgpICE9\nIEphdmFUeXBlcy5TVFJJTkcpCiAgICAgICAgICAgIHRocm93IG5ldyBNZXRh\nRGF0YUV4Y2VwdGlvbihfbG9jLmdldCgibm90LXN0cmluZyIsIGZpZWxkKSk7\nCiAgICAgICAgYXNzZXJ0Tm90TWFwcGVkQnkoKTsKCiAgICAgICAgLy8gbWFw\nIGpvaW4ga2V5LCBpZiBhbnkKICAgICAgICBmaWVsZC5tYXBKb2luKGFkYXB0\nLCBmYWxzZSk7CiAgICAgICAgZmllbGQuZ2V0S2V5TWFwcGluZygpLmdldFZh\nbHVlSW5mbygpLmFzc2VydE5vU2NoZW1hQ29tcG9uZW50cwogICAgICAgICAg\nICAoZmllbGQuZ2V0S2V5KCksICFhZGFwdCk7CiAgICAgICAgZmllbGQuZ2V0\nRWxlbWVudE1hcHBpbmcoKS5nZXRWYWx1ZUluZm8oKS5hc3NlcnROb1NjaGVt\nYUNvbXBvbmVudHMKICAgICAgICAgICAgKGZpZWxkLmdldEVsZW1lbnQoKSwg\nIWFkYXB0KTsKCiAgICAgICAgVmFsdWVNYXBwaW5nSW5mbyB2aW5mbyA9IGZp\nZWxkLmdldFZhbHVlSW5mbygpOwogICAgICAgIHZpbmZvLmFzc2VydE5vSm9p\nbihmaWVsZCwgdHJ1ZSk7CiAgICAgICAgdmluZm8uYXNzZXJ0Tm9Gb3JlaWdu\nS2V5KGZpZWxkLCAhYWRhcHQpOwoKICAgICAgICAvLyBnZXQgdmFsdWUgY29s\ndW1ucwogICAgICAgIENvbHVtbiB0bXBDb2wgPSBuZXcgQ29sdW1uKCk7CiAg\nICAgICAgdG1wQ29sLnNldE5hbWUoZmllbGQuZ2V0TmFtZSgpKTsKICAgICAg\nICB0bXBDb2wuc2V0SmF2YVR5cGUoZmllbGQuZ2V0VHlwZUNvZGUoKSk7Cgog\nICAgICAgIENvbHVtbltdIGNvbHMgPSB2aW5mby5nZXRDb2x1bW5zKGZpZWxk\nLCBmaWVsZC5nZXROYW1lKCksCiAgICAgICAgICAgIG5ldyBDb2x1bW5bXXsg\ndG1wQ29sIH0sIGZpZWxkLmdldFRhYmxlKCksIGFkYXB0KTsKICAgICAgICBp\nZiAoZmllbGQuZ2V0VmFsdWVTdHJhdGVneSgpID09IFZhbHVlU3RyYXRlZ2ll\ncy5BVVRPQVNTSUdOKQogICAgICAgICAgICBjb2xzWzBdLnNldEF1dG9Bc3Np\nZ25lZCh0cnVlKTsKCiAgICAgICAgZmllbGQuc2V0Q29sdW1ucyhjb2xzKTsK\nICAgICAgICBmaWVsZC5zZXRDb2x1bW5JTyh2aW5mby5nZXRDb2x1bW5JTygp\nKTsKICAgICAgICBmaWVsZC5tYXBDb25zdHJhaW50cyhmaWVsZC5nZXROYW1l\nKCksIGFkYXB0KTsKCiAgICAgICAgLy8gYWRkIHByaW1hcnkga2V5IGNvbHVt\nbnMgdG8gdGFibGUgcGsgaWYgbG9naWNhbAogICAgICAgIGZpZWxkLm1hcFBy\naW1hcnlLZXkoYWRhcHQpOwogICAgICAgIFByaW1hcnlLZXkgcGsgPSBmaWVs\nZC5nZXRUYWJsZSgpLmdldFByaW1hcnlLZXkoKTsKICAgICAgICBpZiAoZmll\nbGQuaXNQcmltYXJ5S2V5KCkgJiYgcGsgIT0gbnVsbCAmJiAoYWRhcHQgfHwg\ncGsuaXNMb2dpY2FsKCkpKQogICAgICAgICAgICBway5hZGRDb2x1bW4oY29s\nc1swXSk7CgogICAgICAgIC8vIHNldCBqb2luYWJsZQogICAgICAgIGZpZWxk\nLmdldERlZmluaW5nTWFwcGluZygpLnNldEpvaW5hYmxlKGZpZWxkLmdldENv\nbHVtbnMoKVswXSwgdGhpcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgaW5z\nZXJ0KE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwg\nUm93TWFuYWdlciBybSkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICBTdHJpbmcgc3RyID0gKFN0cmluZykgdG9EYXRhU3RvcmVWYWx1\nZShzbS5mZXRjaFN0cmluZwogICAgICAgICAgICAoZmllbGQuZ2V0SW5kZXgo\nKSksIHN0b3JlKTsKICAgICAgICBpZiAoZmllbGQuZ2V0Q29sdW1uSU8oKS5p\nc0luc2VydGFibGUoMCwgc3RyID09IG51bGwpKSB7CiAgICAgICAgICAgIFJv\ndyByb3cgPSBmaWVsZC5nZXRSb3coc20sIHN0b3JlLCBybSwgUm93LkFDVElP\nTl9JTlNFUlQpOwogICAgICAgICAgICBpZiAocm93ICE9IG51bGwpCiAgICAg\nICAgICAgICAgICByb3cuc2V0U3RyaW5nKGZpZWxkLmdldENvbHVtbnMoKVsw\nXSwgc3RyKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgdXBk\nYXRlKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwg\nUm93TWFuYWdlciBybSkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICBTdHJpbmcgc3RyID0gKFN0cmluZykgdG9EYXRhU3RvcmVWYWx1\nZShzbS5mZXRjaFN0cmluZwogICAgICAgICAgICAoZmllbGQuZ2V0SW5kZXgo\nKSksIHN0b3JlKTsKICAgICAgICBpZiAoZmllbGQuZ2V0Q29sdW1uSU8oKS5p\nc1VwZGF0YWJsZSgwLCBzdHIgPT0gbnVsbCkpIHsKICAgICAgICAgICAgUm93\nIHJvdyA9IGZpZWxkLmdldFJvdyhzbSwgc3RvcmUsIHJtLCBSb3cuQUNUSU9O\nX1VQREFURSk7CiAgICAgICAgICAgIGlmIChyb3cgIT0gbnVsbCkKICAgICAg\nICAgICAgICAgIHJvdy5zZXRTdHJpbmcoZmllbGQuZ2V0Q29sdW1ucygpWzBd\nLCBzdHIpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBkZWxl\ndGUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLCBS\nb3dNYW5hZ2VyIHJtKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIGZpZWxkLmRlbGV0ZVJvdyhzbSwgc3RvcmUsIHJtKTsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IHRvRGF0YVN0b3JlVmFsdWUoT2JqZWN0IHZh\nbCwgSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAgaWYgKHZhbCAhPSBudWxs\nKQogICAgICAgICAgICByZXR1cm4gdmFsOwoKICAgICAgICBpZiAoZmllbGQu\nZ2V0TnVsbFZhbHVlKCkgIT0gRmllbGRNYXBwaW5nLk5VTExfREVGQVVMVCkK\nICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgaWYgKGZpZWxkLmdl\ndENvbHVtbnMoKVswXS5nZXREZWZhdWx0U3RyaW5nKCkgIT0gbnVsbCkKICAg\nICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgLy8gaG9ub3IgdGhlIHVz\nZXIncyBudWxsLXZhbHVlPWRlZmF1bHQKICAgICAgICByZXR1cm4gIiI7CiAg\nICB9CgogICAgcHVibGljIGludCBzdXBwb3J0c1NlbGVjdChTZWxlY3Qgc2Vs\nLCBpbnQgdHlwZSwgT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwKICAgICAgICBK\nREJDU3RvcmUgc3RvcmUsIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gp\nIHsKICAgICAgICBpZiAodHlwZSA9PSBTZWxlY3QuVFlQRV9KT0lOTEVTUyAm\nJiBzZWwuaXNTZWxlY3RlZChmaWVsZC5nZXRUYWJsZSgpKSkKICAgICAgICAg\nICAgcmV0dXJuIDE7CiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgcHVi\nbGljIGludCBzZWxlY3QoU2VsZWN0IHNlbCwgT3BlbkpQQVN0YXRlTWFuYWdl\nciBzbSwgSkRCQ1N0b3JlIHN0b3JlLAogICAgICAgIEpEQkNGZXRjaENvbmZp\nZ3VyYXRpb24gZmV0Y2gsIGludCBlYWdlck1vZGUpIHsKICAgICAgICBzZWwu\nc2VsZWN0KGZpZWxkLmdldENvbHVtbnMoKVswXSwgZmllbGQuam9pbihzZWwp\nKTsKICAgICAgICByZXR1cm4gMTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBs\nb2FkKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwK\nICAgICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLCBSZXN1bHQg\ncmVzKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIENv\nbHVtbiBjb2wgPSBmaWVsZC5nZXRDb2x1bW5zKClbMF07CiAgICAgICAgaWYg\nKHJlcy5jb250YWlucyhjb2wpKQogICAgICAgICAgICBzbS5zdG9yZVN0cmlu\nZyhmaWVsZC5nZXRJbmRleCgpLCByZXMuZ2V0U3RyaW5nKGNvbCkpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIGFwcGVuZElzTnVsbChTUUxCdWZmZXIgc3Fs\nLCBTZWxlY3Qgc2VsLCBKb2lucyBqb2lucykgewogICAgICAgIGpvaW5zID0g\nam9pbihqb2lucywgZmFsc2UpOwogICAgICAgIHNxbC5hcHBlbmQoc2VsLmdl\ndENvbHVtbkFsaWFzKGZpZWxkLmdldENvbHVtbnMoKVswXSwgam9pbnMpKS4K\nICAgICAgICAgICAgYXBwZW5kKCIgSVMgIikuYXBwZW5kVmFsdWUobnVsbCwg\nZmllbGQuZ2V0Q29sdW1ucygpWzBdKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBhcHBlbmRJc05vdE51bGwoU1FMQnVmZmVyIHNxbCwgU2VsZWN0IHNlbCwg\nSm9pbnMgam9pbnMpIHsKICAgICAgICBqb2lucyA9IGpvaW4oam9pbnMsIGZh\nbHNlKTsKICAgICAgICBzcWwuYXBwZW5kKHNlbC5nZXRDb2x1bW5BbGlhcyhm\naWVsZC5nZXRDb2x1bW5zKClbMF0sIGpvaW5zKSkuCiAgICAgICAgICAgIGFw\ncGVuZCgiIElTIE5PVCAiKS5hcHBlbmRWYWx1ZShudWxsLCBmaWVsZC5nZXRD\nb2x1bW5zKClbMF0pOwogICAgfQoKICAgIHB1YmxpYyBKb2lucyBqb2luKEpv\naW5zIGpvaW5zLCBib29sZWFuIGZvcmNlT3V0ZXIpIHsKICAgICAgICByZXR1\ncm4gZmllbGQuam9pbihqb2lucywgZm9yY2VPdXRlciwgZmFsc2UpOwogICAg\nfQoKICAgIHB1YmxpYyBPYmplY3QgbG9hZFByb2plY3Rpb24oSkRCQ1N0b3Jl\nIHN0b3JlLCBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLAogICAgICAg\nIFJlc3VsdCByZXMsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiByZXMuZ2V0U3RyaW5nKGZpZWxk\nLmdldENvbHVtbnMoKVswXSwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGlzVmVyc2lvbmFibGUoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgd2hlcmUoT3BlbkpQQVN0YXRlTWFu\nYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLCBSb3dNYW5hZ2VyIHJtLAogICAg\nICAgIE9iamVjdCBwcmV2VmFsdWUpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgUm93IHJvdyA9IGZpZWxkLmdldFJvdyhzbSwgc3Rv\ncmUsIHJtLCBSb3cuQUNUSU9OX1VQREFURSk7CiAgICAgICAgaWYgKHJvdyA9\nPSBudWxsKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIENvbHVtbiBj\nb2wgPSBmaWVsZC5nZXRDb2x1bW5zKClbMF07CiAgICAgICAgaWYgKHByZXZW\nYWx1ZSA9PSBudWxsKQogICAgICAgICAgICByb3cud2hlcmVOdWxsKGNvbCk7\nCiAgICAgICAgZWxzZQogICAgICAgICAgICByb3cud2hlcmVTdHJpbmcoY29s\nLCBwcmV2VmFsdWUudG9TdHJpbmcoKSk7CiAgICB9CgogICAgLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBKb2luYWJsZSBpbXBsZW1lbnRh\ndGlvbgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVi\nbGljIGludCBnZXRGaWVsZEluZGV4KCkgewogICAgICAgIHJldHVybiBmaWVs\nZC5nZXRJbmRleCgpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0UHJp\nbWFyeUtleVZhbHVlKFJlc3VsdCByZXMsIENvbHVtbltdIGNvbHMsIEZvcmVp\nZ25LZXkgZmssCiAgICAgICAgSkRCQ1N0b3JlIHN0b3JlLCBKb2lucyBqb2lu\ncykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBDb2x1\nbW4gY29sID0gY29sc1swXTsKICAgICAgICBpZiAoZmsgIT0gbnVsbCkKICAg\nICAgICAgICAgY29sID0gZmsuZ2V0Q29sdW1uKGNvbCk7CiAgICAgICAgcmV0\ndXJuIHJlcy5nZXRTdHJpbmcoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVi\nbGljIENvbHVtbltdIGdldENvbHVtbnMoKSB7CiAgICAgICAgcmV0dXJuIGZp\nZWxkLmdldENvbHVtbnMoKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdl\ndEpvaW5WYWx1ZShPYmplY3QgZmllbGRWYWwsIENvbHVtbiBjb2wsIEpEQkNT\ndG9yZSBzdG9yZSkgewogICAgICAgIHJldHVybiBmaWVsZFZhbDsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IGdldEpvaW5WYWx1ZShPcGVuSlBBU3RhdGVN\nYW5hZ2VyIHNtLCBDb2x1bW4gY29sLAogICAgICAgIEpEQkNTdG9yZSBzdG9y\nZSkgewogICAgICAgIHJldHVybiBzbS5mZXRjaChmaWVsZC5nZXRJbmRleCgp\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRBdXRvQXNzaWduZWRWYWx1\nZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBKREJDU3RvcmUgc3RvcmUsCiAg\nICAgICAgQ29sdW1uIGNvbCwgT2JqZWN0IGF1dG9JbmMpIHsKICAgICAgICBT\ndHJpbmcgc3RyID0gKGF1dG9JbmMgPT0gbnVsbCkgPyBudWxsIDogYXV0b0lu\nYy50b1N0cmluZygpOwogICAgICAgIHNtLnN0b3JlU3RyaW5nKGZpZWxkLmdl\ndEluZGV4KCksIHN0cik7CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8KICAgIC8vIEVtYmVkZGFibGUgaW1wbGVtZW50YXRpb24K\nICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGlj\nIENvbHVtbklPIGdldENvbHVtbklPKCkgewogICAgICAgIHJldHVybiBmaWVs\nZC5nZXRDb2x1bW5JTygpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3RbXSBn\nZXRSZXN1bHRBcmd1bWVudHMoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAg\nICB9CgogICAgcHVibGljIE9iamVjdCB0b0VtYmVkZGVkRGF0YVN0b3JlVmFs\ndWUoT2JqZWN0IHZhbCwgSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAgcmV0\ndXJuIHRvRGF0YVN0b3JlVmFsdWUodmFsLCBzdG9yZSk7CiAgICB9CgogICAg\ncHVibGljIE9iamVjdCB0b0VtYmVkZGVkT2JqZWN0VmFsdWUoT2JqZWN0IHZh\nbCkgewogICAgICAgIHJldHVybiB2YWw7CiAgICB9CgogICAgcHVibGljIHZv\naWQgbG9hZEVtYmVkZGVkKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNT\ndG9yZSBzdG9yZSwKICAgICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZl\ndGNoLCBPYmplY3QgdmFsKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHNtLnN0b3JlU3RyaW5nKGZpZWxkLmdldEluZGV4KCksIChT\ndHJpbmcpIHZhbCk7CiAgICB9Cn0K\n","encoding":"base64"}

