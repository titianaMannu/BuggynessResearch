{"sha":"85ee9433c4ce694f21bb77b83f0921e0cd416e5f","node_id":"MDQ6QmxvYjIwNjM2NDo4NWVlOTQzM2M0Y2U2OTRmMjFiYjc3YjgzZjA5MjFlMGNkNDE2ZTVm","size":4713,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/85ee9433c4ce694f21bb77b83f0921e0cd416e5f","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYTsKCi8qKgogKiBBIHRhYmxlIGNvbnN0cmFp\nbnQuIFRoaXMgY2xhc3MgaXMgY2xvc2VseSBhbGlnbmVkIHdpdGggdGhlIGNv\nbnN0cmFpbnQKICogaW5mb3JtYXRpb24gYXZhaWxhYmxlIGZyb20ge0BsaW5r\nIGphdmEuc3FsLkRhdGFiYXNlTWV0YURhdGF9LgogKgogKiBAYXV0aG9yIEFi\nZSBXaGl0ZQogKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIENvbnN0cmFpbnQK\nICAgIGV4dGVuZHMgUmVmZXJlbmNlQ291bnRlciB7CgogICAgcHJpdmF0ZSBT\ndHJpbmcgX25hbWUgPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcgX2Z1bGxO\nYW1lID0gbnVsbDsKICAgIHByaXZhdGUgVGFibGUgX3RhYmxlID0gbnVsbDsK\nICAgIHByaXZhdGUgU3RyaW5nIF90YWJsZU5hbWUgPSBudWxsOwogICAgcHJp\ndmF0ZSBTdHJpbmcgX3NjaGVtYU5hbWUgPSBudWxsOwogICAgcHJpdmF0ZSBT\ndHJpbmcgX2NvbHVtbk5hbWUgPSBudWxsOwogICAgcHJpdmF0ZSBib29sZWFu\nIF9kZWZlcnJlZCA9IGZhbHNlOwoKICAgIC8qKgogICAgICogRGVmYXVsdCBj\nb25zdHJ1Y3Rvci4KICAgICAqLwogICAgQ29uc3RyYWludCgpIHsKICAgIH0K\nCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLgogICAgICoKICAgICAqIEBw\nYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBjb25zdHJhaW50LCBvciBudWxs\nIGlmIG5vbmUKICAgICAqIEBwYXJhbSB0YWJsZSB0aGUgbG9jYWwgdGFibGUg\nb2YgdGhlIGNvbnN0cmFpbnQKICAgICAqLwogICAgQ29uc3RyYWludChTdHJp\nbmcgbmFtZSwgVGFibGUgdGFibGUpIHsKICAgICAgICBzZXROYW1lKG5hbWUp\nOwogICAgICAgIGlmICh0YWJsZSAhPSBudWxsKSB7CiAgICAgICAgICAgIHNl\ndFRhYmxlTmFtZSh0YWJsZS5nZXROYW1lKCkpOwogICAgICAgICAgICBzZXRT\nY2hlbWFOYW1lKHRhYmxlLmdldFNjaGVtYU5hbWUoKSk7CiAgICAgICAgfQog\nICAgICAgIF90YWJsZSA9IHRhYmxlOwogICAgfQoKICAgIC8qKgogICAgICog\nQ2FsbGVkIHdoZW4gdGhlIGNvbnN0cmFpbnQgaXMgcmVtb3ZlZCBmcm9tIHRo\nZSBvd25pbmcgdGFibGUuCiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgY29uc3Ry\nYWludC4KICAgICAqLwogICAgdm9pZCByZW1vdmUoKSB7CiAgICAgICAgX3Rh\nYmxlID0gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUg\ndGFibGUgb2YgdGhpcyBjb25zdHJhaW50LgogICAgICovCiAgICBwdWJsaWMg\nVGFibGUgZ2V0VGFibGUoKSB7CiAgICAgICAgcmV0dXJuIF90YWJsZTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgY29sdW1uJ3MgdGFibGUg\nbmFtZS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRUYWJsZU5hbWUo\nKSB7CiAgICAgICAgcmV0dXJuIF90YWJsZU5hbWU7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBTZXQgdGhlIGNvbHVtbidzIHRhYmxlIG5hbWUuIFlvdSBjYW4g\nb25seSBjYWxsIHRoaXMgbWV0aG9kIG9uCiAgICAgKiBjb2x1bW5zIHdob3Nl\nIHRhYmxlIG9iamVjdCBpcyBub3Qgc2V0LgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCBzZXRUYWJsZU5hbWUoU3RyaW5nIG5hbWUpIHsKICAgICAgICBpZiAo\nZ2V0VGFibGUoKSAhPSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgSWxs\nZWdhbFN0YXRlRXhjZXB0aW9uKCk7CiAgICAgICAgX3RhYmxlTmFtZSA9IG5h\nbWU7CiAgICAgICAgX2Z1bGxOYW1lID0gbnVsbDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiB0aGUgY29sdW1uIHRhYmxlJ3Mgc2NoZW1hIG5hbWUu\nCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0U2NoZW1hTmFtZSgpIHsK\nICAgICAgICByZXR1cm4gX3NjaGVtYU5hbWU7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBTZXQgdGhlIGNvbHVtbiB0YWJsZSdzIHNjaGVtYSBuYW1lLiBZb3Ug\nY2FuIG9ubHkgY2FsbCB0aGlzIG1ldGhvZCBvbgogICAgICogY29sdW1ucyB3\naG9zZSB0YmFsZSBvYmplY3QgaXMgbm90IHNldC4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgc2V0U2NoZW1hTmFtZShTdHJpbmcgc2NoZW1hKSB7CiAgICAg\nICAgaWYgKGdldFRhYmxlKCkgIT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cg\nbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOwogICAgICAgIF9zY2hlbWFO\nYW1lID0gc2NoZW1hOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRo\nZSBjb2x1bW4ncyBuYW1lLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndENvbHVtbk5hbWUoKSB7CiAgICAgICAgcmV0dXJuIF9jb2x1bW5OYW1lOwog\nICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBjb2x1bW4ncyBuYW1lLiBZ\nb3UgY2FuIG9ubHkgY2FsbCB0aGlzIG1ldGhvZCBvbgogICAgICogY29sdW1u\ncyB3aG9zZSB0YWJsZSBvYmplY3QgaXMgbm90IHNldC4KICAgICAqLwogICAg\ncHVibGljIHZvaWQgc2V0Q29sdW1uTmFtZShTdHJpbmcgbmFtZSkgewogICAg\nICAgIGlmIChnZXRUYWJsZSgpICE9IG51bGwpCiAgICAgICAgICAgIHRocm93\nIG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsKICAgICAgICBfY29sdW1u\nTmFtZSA9IG5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhl\nIG5hbWUgb2YgdGhlIGNvbnN0cmFpbnQuCiAgICAgKi8KICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0TmFtZSgpIHsKICAgICAgICByZXR1cm4gX25hbWU7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBTZXQgdGhlIG5hbWUgb2YgdGhlIGNvbnN0cmFp\nbnQuIFRoaXMgbWV0aG9kIGNhbm5vdCBiZSBjYWxsZWQgaWYgdGhlCiAgICAg\nKiBjb25zdHJhaW50IGFscmVhZHkgYmVsb25ncyB0byBhIHRhYmxlLgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7CiAg\nICAgICAgaWYgKGdldFRhYmxlKCkgIT0gbnVsbCkKICAgICAgICAgICAgdGhy\nb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOwogICAgICAgIF9uYW1l\nID0gbmFtZTsKICAgICAgICBfZnVsbE5hbWUgPSBudWxsOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIHRoZSBmdWxsIG5hbWUgb2YgdGhlIGNvbnN0\ncmFpbnQuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RnVsbE5hbWUo\nKSB7CiAgICAgICAgaWYgKF9mdWxsTmFtZSA9PSBudWxsKSB7CiAgICAgICAg\nICAgIFN0cmluZyBuYW1lID0gZ2V0TmFtZSgpOwogICAgICAgICAgICBpZiAo\nbmFtZSA9PSBudWxsKQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAg\nICAgICAgICAgIFN0cmluZyB0bmFtZSA9IGdldFRhYmxlTmFtZSgpOwogICAg\nICAgICAgICBpZiAodG5hbWUgPT0gbnVsbCkKICAgICAgICAgICAgICAgIHJl\ndHVybiBuYW1lOwogICAgICAgICAgICBfZnVsbE5hbWUgPSB0bmFtZSArICIu\nIiArIG5hbWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBfZnVsbE5hbWU7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIGNv\nbnN0cmFpbnQgaXMgYSBsb2dpY2FsIGNvbnN0cmFpbnQgb25seTsgaS5lLgog\nICAgICogaWYgaXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGRhdGFiYXNlLgog\nICAgICovCiAgICBwdWJsaWMgYWJzdHJhY3QgYm9vbGVhbiBpc0xvZ2ljYWwo\nKTsKCiAgICAvKioKICAgICAqIFJldHVybiB0cnVlIGlmIHRoaXMgaXMgYSBk\nZWZlcnJlZCBjb25zdHJhaW50LgogICAgICovCiAgICBwdWJsaWMgYm9vbGVh\nbiBpc0RlZmVycmVkKCkgewogICAgICAgIHJldHVybiBfZGVmZXJyZWQ7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBNYWtlIHRoaXMgY29uc3RyYWluIGRlZmVy\ncmVkLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXREZWZlcnJlZChib29s\nZWFuIGRlZmVycmVkKSB7CiAgICAgICAgX2RlZmVycmVkID0gZGVmZXJyZWQ7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAg\nICBpZiAoZ2V0TmFtZSgpICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBn\nZXROYW1lKCk7CgogICAgICAgIFN0cmluZyBuYW1lID0gZ2V0Q2xhc3MoKS5n\nZXROYW1lKCk7CiAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKG5hbWUu\nbGFzdEluZGV4T2YoJy4nKSArIDEpOwogICAgICAgIHJldHVybiAiPCIgKyBu\nYW1lLnRvTG93ZXJDYXNlKCkgKyAiPiI7CiAgICB9Cn0K\n","encoding":"base64"}

