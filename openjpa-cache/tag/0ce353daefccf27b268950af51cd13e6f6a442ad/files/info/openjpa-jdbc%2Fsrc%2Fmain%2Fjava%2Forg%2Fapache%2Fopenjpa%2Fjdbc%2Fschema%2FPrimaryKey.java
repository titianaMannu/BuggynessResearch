{"sha":"83522fb091a6fb3c3ef49297dc73ad661a4a0655","node_id":"MDQ6QmxvYjIwNjM2NDo4MzUyMmZiMDkxYTZmYjNjM2VmNDkyOTdkYzczYWQ2NjFhNGEwNjU1","size":2348,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/83522fb091a6fb3c3ef49297dc73ad661a4a0655","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYTsKCi8qKgogKiBSZXByZXNlbnRzIGEgdGFi\nbGUgcHJpbWFyeSBrZXkuIEl0IGNhbiBhbHNvIHJlcHJlc2VudCBhIHBhcnRp\nYWwga2V5LAogKiBhbGlnbmluZyB3aXRoIHRoZSBrZXkgaW5mb3JtYXRpb24g\nYXZhaWxhYmxlIGZyb20KICoge0BsaW5rIGphdmEuc3FsLkRhdGFiYXNlTWV0\nYURhdGF9LgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNs\nYXNzIFByaW1hcnlLZXkKICAgIGV4dGVuZHMgTG9jYWxDb25zdHJhaW50IHsK\nCiAgICBwcml2YXRlIGJvb2xlYW4gX2xvZ2ljYWwgPSBmYWxzZTsKCiAgICAv\nKioKICAgICAqIERlZmF1bHQgY29uc3RydWN0b3IuCiAgICAgKi8KICAgIHB1\nYmxpYyBQcmltYXJ5S2V5KCkgewogICAgfQoKICAgIC8qKgogICAgICogQ29u\nc3RydWN0b3IuCiAgICAgKgogICAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUg\nb2YgdGhlIHByaW1hcnkga2V5LCBpZiBhbnkKICAgICAqIEBwYXJhbSB0YWJs\nZSB0aGUgdGFibGUgb2YgdGhlIHByaW1hcnkga2V5CiAgICAgKi8KICAgIHB1\nYmxpYyBQcmltYXJ5S2V5KFN0cmluZyBuYW1lLCBUYWJsZSB0YWJsZSkgewog\nICAgICAgIHN1cGVyKG5hbWUsIHRhYmxlKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBpc0xvZ2ljYWwoKSB7CiAgICAgICAgcmV0dXJuIF9sb2dpY2Fs\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExvZ2ljYWwoYm9vbGVhbiBs\nb2dpY2FsKSB7CiAgICAgICAgX2xvZ2ljYWwgPSBsb2dpY2FsOwogICAgfQoK\nICAgIHZvaWQgcmVtb3ZlKCkgewogICAgICAgIC8vIGNoZWNrIGFsbCBmb3Jl\naWduIGtleXMgaW4gdGhlIHNjaGVtYSBncm91cCwgcmVtb3Zpbmcgb25lcyB0\naGF0CiAgICAgICAgLy8gcmVmZXJlbmNlIHRoaXMgcHJpbWFyeSBrZXkKICAg\nICAgICBUYWJsZSB0YWJsZSA9IGdldFRhYmxlKCk7CiAgICAgICAgaWYgKHRh\nYmxlICE9IG51bGwgJiYgdGFibGUuZ2V0U2NoZW1hKCkgIT0gbnVsbAogICAg\nICAgICAgICAmJiB0YWJsZS5nZXRTY2hlbWEoKS5nZXRTY2hlbWFHcm91cCgp\nICE9IG51bGwpIHsKICAgICAgICAgICAgRm9yZWlnbktleVtdIGZrcyA9IHRh\nYmxlLmdldFNjaGVtYSgpLmdldFNjaGVtYUdyb3VwKCkuCiAgICAgICAgICAg\nICAgICBmaW5kRXhwb3J0ZWRGb3JlaWduS2V5cyh0aGlzKTsKICAgICAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBma3MubGVuZ3RoOyBpKyspCiAgICAg\nICAgICAgICAgICBma3NbaV0uZ2V0VGFibGUoKS5yZW1vdmVGb3JlaWduS2V5\nKGZrc1tpXSk7CiAgICAgICAgfQogICAgICAgIHN1cGVyLnJlbW92ZSgpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIGFkZENvbHVtbihDb2x1bW4gY29sKSB7\nCiAgICAgICAgc3VwZXIuYWRkQ29sdW1uKGNvbCk7CiAgICAgICAgY29sLnNl\ndFByaW1hcnlLZXkodHJ1ZSk7CiAgICAgICAgaWYgKCFfbG9naWNhbCkKICAg\nICAgICAgICAgY29sLnNldE5vdE51bGwodHJ1ZSk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgc3RydWN0dXJlIG9mIHRoaXMg\ncHJpbWFyeSBrZXkgbWF0Y2hlcyB0aGF0IG9mCiAgICAgKiB0aGUgZ2l2ZW4g\nb25lIChzYW1lIHRhYmxlLCBzYW1lIGNvbHVtbnMpLgogICAgICovCiAgICBw\ndWJsaWMgYm9vbGVhbiBlcXVhbHNQcmltYXJ5S2V5KFByaW1hcnlLZXkgcGsp\nIHsKICAgICAgICByZXR1cm4gZXF1YWxzTG9jYWxDb25zdHJhaW50KHBrKTsK\nICAgIH0KfQo=\n","encoding":"base64"}

