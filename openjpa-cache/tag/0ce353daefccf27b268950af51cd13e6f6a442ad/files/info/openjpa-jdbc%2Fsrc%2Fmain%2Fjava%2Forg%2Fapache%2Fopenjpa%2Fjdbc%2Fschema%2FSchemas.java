{"sha":"fa641cacc75d58620e042200a20175681f790bb1","node_id":"MDQ6QmxvYjIwNjM2NDpmYTY0MWNhY2M3NWQ1ODYyMGUwNDIyMDBhMjAxNzU2ODFmNzkwYmIx","size":7898,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fa641cacc75d58620e042200a20175681f790bb1","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYTsKCmltcG9ydCBqYXZhLnNxbC5UeXBlczsK\naW1wb3J0IGphdmEudXRpbC5EYXRlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247CgovKioKICogSGVs\ncGVyIGNsYXNzIHRvIGRlYWwgd2l0aCBzY2hlbWFzLgogKgogKiBAYXV0aG9y\nIEFiZSBXaGl0ZQogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgU2No\nZW1hcyB7CgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBDb2x1bW5bXSBFTVBU\nWV9DT0xVTU5TID0gbmV3IENvbHVtblswXTsKICAgIHB1YmxpYyBzdGF0aWMg\nZmluYWwgRm9yZWlnbktleVtdIEVNUFRZX0ZPUkVJR05fS0VZUyA9IG5ldyBG\nb3JlaWduS2V5WzBdOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBJbmRleFtd\nIEVNUFRZX0lOREVYRVMgPSBuZXcgSW5kZXhbMF07CiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIFVuaXF1ZVtdIEVNUFRZX1VOSVFVRVMgPSBuZXcgVW5pcXVl\nWzBdOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBPYmplY3RbXSBFTVBUWV9W\nQUxVRVMgPSBuZXcgT2JqZWN0WzBdOwoKICAgIC8qKgogICAgICogUmV0dXJu\nIHRoZSBzY2hlbWEgbmFtZSB0aGF0IHNob3VsZCBiZSB1c2VkIGZvciBuZXcg\ndGFibGVzLCBvciBudWxsIGlmCiAgICAgKiBub25lLgogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIFN0cmluZyBnZXROZXdUYWJsZVNjaGVtYShKREJDQ29u\nZmlndXJhdGlvbiBjb25mKSB7CiAgICAgICAgaWYgKGNvbmYuZ2V0U2NoZW1h\nKCkgIT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIGNvbmYuZ2V0U2NoZW1h\nKCk7CgogICAgICAgIFN0cmluZ1tdIHNjaGVtYXMgPSBjb25mLmdldFNjaGVt\nYXNMaXN0KCk7CiAgICAgICAgaWYgKHNjaGVtYXMubGVuZ3RoID09IDApCiAg\nICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIGludCBkb3RJZHggPSBz\nY2hlbWFzWzBdLmxhc3RJbmRleE9mKCcuJyk7CiAgICAgICAgaWYgKGRvdElk\neCA9PSAwKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBpZiAo\nZG90SWR4ID09IC0xKQogICAgICAgICAgICByZXR1cm4gc2NoZW1hc1swXTsK\nICAgICAgICByZXR1cm4gc2NoZW1hc1swXS5zdWJzdHJpbmcoMCwgZG90SWR4\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgU1FMIHR5cGUg\nbmFtZSBmb3IgdGhlIGdpdmVuIHtAbGluayBUeXBlc30gY29uc3RhbnQuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIGdldEpEQkNOYW1lKGlu\ndCB0eXBlKSB7CiAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICAg\nIGNhc2UgVHlwZXMuQVJSQVk6CiAgICAgICAgICAgICAgICByZXR1cm4gImFy\ncmF5IjsKICAgICAgICAgICAgY2FzZSBUeXBlcy5CSUdJTlQ6CiAgICAgICAg\nICAgICAgICByZXR1cm4gImJpZ2ludCI7CiAgICAgICAgICAgIGNhc2UgVHlw\nZXMuQklOQVJZOgogICAgICAgICAgICAgICAgcmV0dXJuICJiaW5hcnkiOwog\nICAgICAgICAgICBjYXNlIFR5cGVzLkJJVDoKICAgICAgICAgICAgICAgIHJl\ndHVybiAiYml0IjsKICAgICAgICAgICAgY2FzZSBUeXBlcy5CTE9COgogICAg\nICAgICAgICAgICAgcmV0dXJuICJibG9iIjsKICAgICAgICAgICAgY2FzZSBU\neXBlcy5DSEFSOgogICAgICAgICAgICAgICAgcmV0dXJuICJjaGFyIjsKICAg\nICAgICAgICAgY2FzZSBUeXBlcy5DTE9COgogICAgICAgICAgICAgICAgcmV0\ndXJuICJjbG9iIjsKICAgICAgICAgICAgY2FzZSBUeXBlcy5EQVRFOgogICAg\nICAgICAgICAgICAgcmV0dXJuICJkYXRlIjsKICAgICAgICAgICAgY2FzZSBU\neXBlcy5ERUNJTUFMOgogICAgICAgICAgICAgICAgcmV0dXJuICJkZWNpbWFs\nIjsKICAgICAgICAgICAgY2FzZSBUeXBlcy5ESVNUSU5DVDoKICAgICAgICAg\nICAgICAgIHJldHVybiAiZGlzdGluY3QiOwogICAgICAgICAgICBjYXNlIFR5\ncGVzLkRPVUJMRToKICAgICAgICAgICAgICAgIHJldHVybiAiZG91YmxlIjsK\nICAgICAgICAgICAgY2FzZSBUeXBlcy5GTE9BVDoKICAgICAgICAgICAgICAg\nIHJldHVybiAiZmxvYXQiOwogICAgICAgICAgICBjYXNlIFR5cGVzLklOVEVH\nRVI6CiAgICAgICAgICAgICAgICByZXR1cm4gImludGVnZXIiOwogICAgICAg\nICAgICBjYXNlIFR5cGVzLkpBVkFfT0JKRUNUOgogICAgICAgICAgICAgICAg\ncmV0dXJuICJqYXZhX29iamVjdCI7CiAgICAgICAgICAgIGNhc2UgVHlwZXMu\nTE9OR1ZBUkJJTkFSWToKICAgICAgICAgICAgICAgIHJldHVybiAibG9uZ3Zh\ncmJpbmFyeSI7CiAgICAgICAgICAgIGNhc2UgVHlwZXMuTE9OR1ZBUkNIQVI6\nCiAgICAgICAgICAgICAgICByZXR1cm4gImxvbmd2YXJjaGFyIjsKICAgICAg\nICAgICAgY2FzZSBUeXBlcy5OVUxMOgogICAgICAgICAgICAgICAgcmV0dXJu\nICJudWxsIjsKICAgICAgICAgICAgY2FzZSBUeXBlcy5OVU1FUklDOgogICAg\nICAgICAgICAgICAgcmV0dXJuICJudW1lcmljIjsKICAgICAgICAgICAgY2Fz\nZSBUeXBlcy5PVEhFUjoKICAgICAgICAgICAgICAgIHJldHVybiAib3RoZXIi\nOwogICAgICAgICAgICBjYXNlIFR5cGVzLlJFQUw6CiAgICAgICAgICAgICAg\nICByZXR1cm4gInJlYWwiOwogICAgICAgICAgICBjYXNlIFR5cGVzLlJFRjoK\nICAgICAgICAgICAgICAgIHJldHVybiAicmVmIjsKICAgICAgICAgICAgY2Fz\nZSBUeXBlcy5TTUFMTElOVDoKICAgICAgICAgICAgICAgIHJldHVybiAic21h\nbGxpbnQiOwogICAgICAgICAgICBjYXNlIFR5cGVzLlNUUlVDVDoKICAgICAg\nICAgICAgICAgIHJldHVybiAic3RydWN0IjsKICAgICAgICAgICAgY2FzZSBU\neXBlcy5USU1FOgogICAgICAgICAgICAgICAgcmV0dXJuICJ0aW1lIjsKICAg\nICAgICAgICAgY2FzZSBUeXBlcy5USU1FU1RBTVA6CiAgICAgICAgICAgICAg\nICByZXR1cm4gInRpbWVzdGFtcCI7CiAgICAgICAgICAgIGNhc2UgVHlwZXMu\nVElOWUlOVDoKICAgICAgICAgICAgICAgIHJldHVybiAidGlueWludCI7CiAg\nICAgICAgICAgIGNhc2UgVHlwZXMuVkFSQklOQVJZOgogICAgICAgICAgICAg\nICAgcmV0dXJuICJ2YXJiaW5hcnkiOwogICAgICAgICAgICBjYXNlIFR5cGVz\nLlZBUkNIQVI6CiAgICAgICAgICAgICAgICByZXR1cm4gInZhcmNoYXIiOwog\nICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuICJ1\nbmtub3duKCIgKyB0eXBlICsgIikiOwogICAgICAgIH0KICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiB0aGUge0BsaW5rIFR5cGVzfSBjb25zdGFudCBm\nb3IgdGhlIGdpdmVuIFNRTCB0eXBlIG5hbWUuCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgaW50IGdldEpEQkNUeXBlKFN0cmluZyBuYW1lKSB7CiAgICAg\nICAgaWYgKCJhcnJheSIuZXF1YWxzSWdub3JlQ2FzZShuYW1lKSkKICAgICAg\nICAgICAgcmV0dXJuIFR5cGVzLkFSUkFZOwogICAgICAgIGlmICgiYmlnaW50\nIi5lcXVhbHNJZ25vcmVDYXNlKG5hbWUpKQogICAgICAgICAgICByZXR1cm4g\nVHlwZXMuQklHSU5UOwogICAgICAgIGlmICgiYmluYXJ5Ii5lcXVhbHNJZ25v\ncmVDYXNlKG5hbWUpKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuQklOQVJZ\nOwogICAgICAgIGlmICgiYml0Ii5lcXVhbHNJZ25vcmVDYXNlKG5hbWUpKQog\nICAgICAgICAgICByZXR1cm4gVHlwZXMuQklUOwogICAgICAgIGlmICgiYmxv\nYiIuZXF1YWxzSWdub3JlQ2FzZShuYW1lKSkKICAgICAgICAgICAgcmV0dXJu\nIFR5cGVzLkJMT0I7CiAgICAgICAgaWYgKCJjaGFyIi5lcXVhbHNJZ25vcmVD\nYXNlKG5hbWUpKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuQ0hBUjsKICAg\nICAgICBpZiAoImNsb2IiLmVxdWFsc0lnbm9yZUNhc2UobmFtZSkpCiAgICAg\nICAgICAgIHJldHVybiBUeXBlcy5DTE9COwogICAgICAgIGlmICgiZGF0ZSIu\nZXF1YWxzSWdub3JlQ2FzZShuYW1lKSkKICAgICAgICAgICAgcmV0dXJuIFR5\ncGVzLkRBVEU7CiAgICAgICAgaWYgKCJkZWNpbWFsIi5lcXVhbHNJZ25vcmVD\nYXNlKG5hbWUpKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuREVDSU1BTDsK\nICAgICAgICBpZiAoImRpc3RpbmN0Ii5lcXVhbHNJZ25vcmVDYXNlKG5hbWUp\nKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuRElTVElOQ1Q7CiAgICAgICAg\naWYgKCJkb3VibGUiLmVxdWFsc0lnbm9yZUNhc2UobmFtZSkpCiAgICAgICAg\nICAgIHJldHVybiBUeXBlcy5ET1VCTEU7CiAgICAgICAgaWYgKCJmbG9hdCIu\nZXF1YWxzSWdub3JlQ2FzZShuYW1lKSkKICAgICAgICAgICAgcmV0dXJuIFR5\ncGVzLkZMT0FUOwogICAgICAgIGlmICgiaW50ZWdlciIuZXF1YWxzSWdub3Jl\nQ2FzZShuYW1lKSkKICAgICAgICAgICAgcmV0dXJuIFR5cGVzLklOVEVHRVI7\nCiAgICAgICAgaWYgKCJqYXZhX29iamVjdCIuZXF1YWxzSWdub3JlQ2FzZShu\nYW1lKSkKICAgICAgICAgICAgcmV0dXJuIFR5cGVzLkpBVkFfT0JKRUNUOwog\nICAgICAgIGlmICgibG9uZ3ZhcmJpbmFyeSIuZXF1YWxzSWdub3JlQ2FzZShu\nYW1lKSkKICAgICAgICAgICAgcmV0dXJuIFR5cGVzLkxPTkdWQVJCSU5BUlk7\nCiAgICAgICAgaWYgKCJsb25ndmFyY2hhciIuZXF1YWxzSWdub3JlQ2FzZShu\nYW1lKSkKICAgICAgICAgICAgcmV0dXJuIFR5cGVzLkxPTkdWQVJDSEFSOwog\nICAgICAgIGlmICgibnVsbCIuZXF1YWxzSWdub3JlQ2FzZShuYW1lKSkKICAg\nICAgICAgICAgcmV0dXJuIFR5cGVzLk5VTEw7CiAgICAgICAgaWYgKCJudW1l\ncmljIi5lcXVhbHNJZ25vcmVDYXNlKG5hbWUpKQogICAgICAgICAgICByZXR1\ncm4gVHlwZXMuTlVNRVJJQzsKICAgICAgICBpZiAoIm90aGVyIi5lcXVhbHNJ\nZ25vcmVDYXNlKG5hbWUpKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuT1RI\nRVI7CiAgICAgICAgaWYgKCJyZWFsIi5lcXVhbHNJZ25vcmVDYXNlKG5hbWUp\nKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuUkVBTDsKICAgICAgICBpZiAo\nInJlZiIuZXF1YWxzSWdub3JlQ2FzZShuYW1lKSkKICAgICAgICAgICAgcmV0\ndXJuIFR5cGVzLlJFRjsKICAgICAgICBpZiAoInNtYWxsaW50Ii5lcXVhbHNJ\nZ25vcmVDYXNlKG5hbWUpKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuU01B\nTExJTlQ7CiAgICAgICAgaWYgKCJzdHJ1Y3QiLmVxdWFsc0lnbm9yZUNhc2Uo\nbmFtZSkpCiAgICAgICAgICAgIHJldHVybiBUeXBlcy5TVFJVQ1Q7CiAgICAg\nICAgaWYgKCJ0aW1lIi5lcXVhbHNJZ25vcmVDYXNlKG5hbWUpKQogICAgICAg\nICAgICByZXR1cm4gVHlwZXMuVElNRTsKICAgICAgICBpZiAoInRpbWVzdGFt\ncCIuZXF1YWxzSWdub3JlQ2FzZShuYW1lKSkKICAgICAgICAgICAgcmV0dXJu\nIFR5cGVzLlRJTUVTVEFNUDsKICAgICAgICBpZiAoInRpbnlpbnQiLmVxdWFs\nc0lnbm9yZUNhc2UobmFtZSkpCiAgICAgICAgICAgIHJldHVybiBUeXBlcy5U\nSU5ZSU5UOwogICAgICAgIGlmICgidmFyYmluYXJ5Ii5lcXVhbHNJZ25vcmVD\nYXNlKG5hbWUpKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuVkFSQklOQVJZ\nOwogICAgICAgIGlmICgidmFyY2hhciIuZXF1YWxzSWdub3JlQ2FzZShuYW1l\nKSkKICAgICAgICAgICAgcmV0dXJuIFR5cGVzLlZBUkNIQVI7CiAgICAgICAg\naWYgKG5hbWUgPT0gbnVsbCB8fCBuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRz\nV2l0aCgidW5rbm93biIpKQogICAgICAgICAgICByZXR1cm4gVHlwZXMuT1RI\nRVI7CiAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlv\nbigibmFtZSA9ICIgKyBuYW1lKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJl\ndHVybiB0aGUgamF2YSB0eXBlIGZvciB0aGUgZ2l2ZW4gU1FMIHR5cGUgZnJv\nbSB7QGxpbmsgVHlwZXN9LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIENs\nYXNzIGdldEphdmFUeXBlKGludCB0eXBlLCBpbnQgc2l6ZSwgaW50IGRlY2lt\nYWxzKSB7CiAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICAgIGNh\nc2UgVHlwZXMuQ0hBUjoKICAgICAgICAgICAgICAgIGlmIChzaXplID09IDEp\nCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXIuY2xhc3M7CiAgICAg\nICAgICAgICAgICAvLyBubyBicmVhawogICAgICAgICAgICBjYXNlIFR5cGVz\nLlZBUkNIQVI6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuTE9OR1ZBUkNIQVI6\nCiAgICAgICAgICAgIGNhc2UgVHlwZXMuQ0xPQjoKICAgICAgICAgICAgICAg\nIHJldHVybiBTdHJpbmcuY2xhc3M7CiAgICAgICAgICAgIGNhc2UgVHlwZXMu\nQklUOgogICAgICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW4uY2xhc3M7CiAg\nICAgICAgICAgIGNhc2UgVHlwZXMuVElOWUlOVDoKICAgICAgICAgICAgICAg\nIHJldHVybiBieXRlLmNsYXNzOwogICAgICAgICAgICBjYXNlIFR5cGVzLlNN\nQUxMSU5UOgogICAgICAgICAgICAgICAgcmV0dXJuIHNob3J0LmNsYXNzOwog\nICAgICAgICAgICBjYXNlIFR5cGVzLklOVEVHRVI6CiAgICAgICAgICAgICAg\nICByZXR1cm4gaW50LmNsYXNzOwogICAgICAgICAgICBjYXNlIFR5cGVzLkJJ\nR0lOVDoKICAgICAgICAgICAgICAgIHJldHVybiBsb25nLmNsYXNzOwogICAg\nICAgICAgICBjYXNlIFR5cGVzLlJFQUw6CiAgICAgICAgICAgIGNhc2UgVHlw\nZXMuRkxPQVQ6CiAgICAgICAgICAgICAgICByZXR1cm4gZmxvYXQuY2xhc3M7\nCiAgICAgICAgICAgIGNhc2UgVHlwZXMuRE9VQkxFOgogICAgICAgICAgICBj\nYXNlIFR5cGVzLk5VTUVSSUM6CiAgICAgICAgICAgICAgICByZXR1cm4gZG91\nYmxlLmNsYXNzOwogICAgICAgICAgICBjYXNlIFR5cGVzLkRFQ0lNQUw6CiAg\nICAgICAgICAgICAgICAvLyBvcmFjbGUgdXNlcyB0aGlzIGZvciBldmVyeXRo\naW5nLCBzbyBsb29rIGF0IHNpemUgYW5kIGRlY2ltYWxzCiAgICAgICAgICAg\nICAgICBpZiAoZGVjaW1hbHMgPT0gMCAmJiBzaXplIDwgMTApCiAgICAgICAg\nICAgICAgICAgICAgcmV0dXJuIGludC5jbGFzczsKICAgICAgICAgICAgICAg\nIGVsc2UgaWYgKGRlY2ltYWxzID09IDApCiAgICAgICAgICAgICAgICAgICAg\ncmV0dXJuIGxvbmcuY2xhc3M7CiAgICAgICAgICAgICAgICByZXR1cm4gZG91\nYmxlLmNsYXNzOwogICAgICAgICAgICAgICAgLy8gIyMjIHJldHVybiBhIEJp\nZ0RlY2ltYWwgaWYgdGhlIHNpemUgaWYgb3V0IG9mIGRvdWJsZSByYW5nZT8K\nICAgICAgICAgICAgY2FzZSBUeXBlcy5EQVRFOgogICAgICAgICAgICBjYXNl\nIFR5cGVzLlRJTUU6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuVElNRVNUQU1Q\nOgogICAgICAgICAgICAgICAgcmV0dXJuIERhdGUuY2xhc3M7CiAgICAgICAg\nICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmNs\nYXNzOwogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

