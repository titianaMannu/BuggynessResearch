{"sha":"b5e2d5b19a9e83779c5b33c79b6982782fae9b21","node_id":"MDQ6QmxvYjIwNjM2NDpiNWUyZDViMTlhOWU4Mzc3OWM1YjMzYzc5YjY5ODI3ODJmYWU5YjIx","size":4728,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b5e2d5b19a9e83779c5b33c79b6982782fae9b21","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYTsKCmltcG9ydCBqYXZhLmlvLkZpbGU7Cgpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5tZXRhLlNvdXJjZVRyYWNr\nZXI7CgovKioKICogUmVwcmVzZW50cyBhIGRhdGFiYXNlIHNlcXVlbmNlLgog\nKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNsYXNzIFNlcXVl\nbmNlCiAgICBleHRlbmRzIFJlZmVyZW5jZUNvdW50ZXIKICAgIGltcGxlbWVu\ndHMgQ29tcGFyYWJsZSwgU291cmNlVHJhY2tlciB7CgogICAgcHJpdmF0ZSBT\ndHJpbmcgX25hbWUgPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcgX2Z1bGxO\nYW1lID0gbnVsbDsKICAgIHByaXZhdGUgU2NoZW1hIF9zY2hlbWEgPSBudWxs\nOwogICAgcHJpdmF0ZSBTdHJpbmcgX3NjaGVtYU5hbWUgPSBudWxsOwogICAg\ncHJpdmF0ZSBpbnQgX2luaXRpYWwgPSAxOwogICAgcHJpdmF0ZSBpbnQgX2lu\nY3JlbWVudCA9IDE7CiAgICBwcml2YXRlIGludCBfY2FjaGUgPSAwOwoKICAg\nIC8vIGtlZXAgdHJhY2sgb2Ygc291cmNlCiAgICBwcml2YXRlIEZpbGUgX3Nv\ndXJjZSA9IG51bGw7CiAgICBwcml2YXRlIGludCBfc3JjVHlwZSA9IFNSQ19P\nVEhFUjsKCiAgICAvKioKICAgICAqIERlZmF1bHQgY29uc3RydWN0b3IuCiAg\nICAgKi8KICAgIHB1YmxpYyBTZXF1ZW5jZSgpIHsKICAgIH0KCiAgICAvKioK\nICAgICAqIENvbnN0cnVjdG9yLgogICAgICoKICAgICAqIEBwYXJhbSBuYW1l\nIHRoZSBzZXF1ZW5jZSBuYW1lCiAgICAgKiBAcGFyYW0gc2NoZW1hIHRoZSBz\nZXF1ZW5jZSBzY2hlbWEKICAgICAqLwogICAgcHVibGljIFNlcXVlbmNlKFN0\ncmluZyBuYW1lLCBTY2hlbWEgc2NoZW1hKSB7CiAgICAgICAgc2V0TmFtZShu\nYW1lKTsKICAgICAgICBpZiAoc2NoZW1hICE9IG51bGwpCiAgICAgICAgICAg\nIHNldFNjaGVtYU5hbWUoc2NoZW1hLmdldE5hbWUoKSk7CiAgICAgICAgX3Nj\naGVtYSA9IHNjaGVtYTsKICAgIH0KCiAgICAvKioKICAgICAqIENhbGxlZCB3\naGVuIHRoZSBzZXF1ZW5jZSBpcyByZW1vdmVkIGZyb20gaXRzIHNjaGVtYS4K\nICAgICAqLwogICAgdm9pZCByZW1vdmUoKSB7CiAgICAgICAgX3NjaGVtYSA9\nIG51bGw7CiAgICAgICAgX2Z1bGxOYW1lID0gbnVsbDsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiB0aGUgc2NoZW1hIGZvciB0aGUgc2VxdWVuY2Uu\nCiAgICAgKi8KICAgIHB1YmxpYyBTY2hlbWEgZ2V0U2NoZW1hKCkgewogICAg\nICAgIHJldHVybiBfc2NoZW1hOwogICAgfQoKICAgIC8qKgogICAgICogVGhl\nIHNlcXVlbmNlJ3Mgc2NoZW1hIG5hbWUuCiAgICAgKi8KICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0U2NoZW1hTmFtZSgpIHsKICAgICAgICByZXR1cm4gX3NjaGVt\nYU5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgc2VxdWVuY2UncyBz\nY2hlbWEgbmFtZS4gWW91IGNhbiBvbmx5IGNhbGwgdGhpcyBtZXRob2Qgb24g\nc2VxdWVuY2VzCiAgICAgKiB3aG9zZSBzY2hlbWEgb2JqZWN0IGlzIG5vdCBz\nZXQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNjaGVtYU5hbWUoU3Ry\naW5nIG5hbWUpIHsKICAgICAgICBpZiAoZ2V0U2NoZW1hKCkgIT0gbnVsbCkK\nICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigp\nOwogICAgICAgIF9zY2hlbWFOYW1lID0gbmFtZTsKICAgICAgICBfZnVsbE5h\nbWUgPSBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBu\nYW1lIG9mIHRoZSBzZXF1ZW5jZS4KICAgICAqLwogICAgcHVibGljIFN0cmlu\nZyBnZXROYW1lKCkgewogICAgICAgIHJldHVybiBfbmFtZTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFNldCB0aGUgbmFtZSBvZiB0aGUgc2VxdWVuY2UuIFRo\naXMgbWV0aG9kIGNhbiBvbmx5IGJlIGNhbGxlZCBvbgogICAgICogc2VxdWVu\nY2VzIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIGEgc2NoZW1hLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAg\naWYgKGdldFNjaGVtYSgpICE9IG51bGwpCiAgICAgICAgICAgIHRocm93IG5l\ndyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsKICAgICAgICBfbmFtZSA9IG5h\nbWU7CiAgICAgICAgX2Z1bGxOYW1lID0gbnVsbDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiB0aGUgc2VxdWVuY2UgbmFtZSwgaW5jbHVkaW5nIHNj\naGVtYSwgdXNpbmcgJy4nIGFzIHRoZQogICAgICogY2F0YWxvZyBzZXBhcmF0\nb3IuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RnVsbE5hbWUoKSB7\nCiAgICAgICAgaWYgKF9mdWxsTmFtZSA9PSBudWxsKSB7CiAgICAgICAgICAg\nIFNjaGVtYSBzY2hlbWEgPSBnZXRTY2hlbWEoKTsKICAgICAgICAgICAgaWYg\nKHNjaGVtYSA9PSBudWxsIHx8IHNjaGVtYS5nZXROYW1lKCkgPT0gbnVsbCkK\nICAgICAgICAgICAgICAgIF9mdWxsTmFtZSA9IGdldE5hbWUoKTsKICAgICAg\nICAgICAgZWxzZQogICAgICAgICAgICAgICAgX2Z1bGxOYW1lID0gc2NoZW1h\nLmdldE5hbWUoKSArICIuIiArIGdldE5hbWUoKTsKICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIF9mdWxsTmFtZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRo\nZSBzZXF1ZW5jZSdzIGluaXRpYWwgdmFsdWUuCiAgICAgKi8KICAgIHB1Ymxp\nYyBpbnQgZ2V0SW5pdGlhbFZhbHVlKCkgewogICAgICAgIHJldHVybiBfaW5p\ndGlhbDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzZXF1ZW5jZSdzIGlu\naXRpYWwgdmFsdWUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEluaXRp\nYWxWYWx1ZShpbnQgaW5pdGlhbCkgewogICAgICAgIF9pbml0aWFsID0gaW5p\ndGlhbDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzZXF1ZW5jZSdzIGlu\nY3JlbWVudC4KICAgICAqLwogICAgcHVibGljIGludCBnZXRJbmNyZW1lbnQo\nKSB7CiAgICAgICAgcmV0dXJuIF9pbmNyZW1lbnQ7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBUaGUgc2VxdWVuY2UncyBpbmNyZW1lbnQuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldEluY3JlbWVudChpbnQgaW5jcmVtZW50KSB7CiAg\nICAgICAgX2luY3JlbWVudCA9IGluY3JlbWVudDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFRoZSBzZXF1ZW5jZSdzIGNhY2hlIHNpemUuCiAgICAgKi8KICAg\nIHB1YmxpYyBpbnQgZ2V0QWxsb2NhdGUoKSB7CiAgICAgICAgcmV0dXJuIF9j\nYWNoZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzZXF1ZW5jZSdzIGNh\nY2hlIHNpemUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEFsbG9jYXRl\nKGludCBjYWNoZSkgewogICAgICAgIF9jYWNoZSA9IGNhY2hlOwogICAgfQoK\nICAgIHB1YmxpYyBGaWxlIGdldFNvdXJjZUZpbGUoKSB7CiAgICAgICAgcmV0\ndXJuIF9zb3VyY2U7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRTb3Vy\nY2VTY29wZSgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldFNvdXJjZVR5cGUoKSB7CiAgICAgICAgcmV0dXJuIF9z\ncmNUeXBlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNvdXJjZShGaWxl\nIHNvdXJjZSwgaW50IHNyY1R5cGUpIHsKICAgICAgICBfc291cmNlID0gc291\ncmNlOwogICAgICAgIF9zcmNUeXBlID0gc3JjVHlwZTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldFJlc291cmNlTmFtZSgpIHsKICAgICAgICByZXR1\ncm4gZ2V0RnVsbE5hbWUoKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGNvbXBh\ncmVUbyhPYmplY3Qgb3RoZXIpIHsKICAgICAgICBTdHJpbmcgbmFtZSA9IGdl\ndEZ1bGxOYW1lKCk7CiAgICAgICAgU3RyaW5nIG90aGVyTmFtZSA9ICgoU2Vx\ndWVuY2UpIG90aGVyKS5nZXRGdWxsTmFtZSgpOwogICAgICAgIGlmIChuYW1l\nID09IG51bGwgJiYgb3RoZXJOYW1lID09IG51bGwpCiAgICAgICAgICAgIHJl\ndHVybiAwOwogICAgICAgIGlmIChuYW1lID09IG51bGwpCiAgICAgICAgICAg\nIHJldHVybiAxOwogICAgICAgIGlmIChvdGhlck5hbWUgPT0gbnVsbCkKICAg\nICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIHJldHVybiBuYW1lLmNvbXBh\ncmVUbyhvdGhlck5hbWUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgdG9T\ndHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIGdldEZ1bGxOYW1lKCk7CiAgICB9\nCn0K\n","encoding":"base64"}

