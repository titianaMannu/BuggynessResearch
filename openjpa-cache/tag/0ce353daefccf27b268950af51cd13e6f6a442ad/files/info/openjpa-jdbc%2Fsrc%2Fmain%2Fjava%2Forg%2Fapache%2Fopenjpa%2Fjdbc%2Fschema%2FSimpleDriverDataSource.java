{"sha":"cba51c3658c4783e9455b3a350334532843c8793","node_id":"MDQ6QmxvYjIwNjM2NDpjYmE1MWMzNjU4YzQ3ODNlOTQ1NWIzYTM1MDMzNDUzMjg0M2M4Nzkz","size":4802,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cba51c3658c4783e9455b3a350334532843c8793","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYTsKCmltcG9ydCBqYXZhLmlvLlByaW50V3Jp\ndGVyOwppbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEu\nc3FsLkRyaXZlcjsKaW1wb3J0IGphdmEuc3FsLkRyaXZlck1hbmFnZXI7Cmlt\ncG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9ydCBqYXZhLnV0aWwu\nTGlzdDsKaW1wb3J0IGphdmEudXRpbC5Qcm9wZXJ0aWVzOwoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5TdG9yZUV4Y2VwdGlvbjsKCi8q\nKgogKiBOb24tcG9vbGluZyBkcml2ZXIgZGF0YSBzb3VyY2UuCiAqLwpwdWJs\naWMgY2xhc3MgU2ltcGxlRHJpdmVyRGF0YVNvdXJjZQogICAgaW1wbGVtZW50\ncyBEcml2ZXJEYXRhU291cmNlIHsKCiAgICBwcml2YXRlIFN0cmluZyBfY29u\nbmVjdGlvbkRyaXZlck5hbWU7CiAgICBwcml2YXRlIFN0cmluZyBfY29ubmVj\ndGlvblVSTDsKICAgIHByaXZhdGUgU3RyaW5nIF9jb25uZWN0aW9uVXNlck5h\nbWU7CiAgICBwcml2YXRlIFN0cmluZyBfY29ubmVjdGlvblBhc3N3b3JkOwog\nICAgcHJpdmF0ZSBQcm9wZXJ0aWVzIF9jb25uZWN0aW9uUHJvcGVydGllczsK\nICAgIHByaXZhdGUgUHJvcGVydGllcyBfY29ubmVjdGlvbkZhY3RvcnlQcm9w\nZXJ0aWVzOwogICAgcHJpdmF0ZSBEcml2ZXIgX2RyaXZlcjsKICAgIHByaXZh\ndGUgQ2xhc3NMb2FkZXIgX2NsYXNzTG9hZGVyOwoKICAgIHB1YmxpYyBDb25u\nZWN0aW9uIGdldENvbm5lY3Rpb24oKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBnZXRDb25uZWN0aW9uKG51bGwpOwog\nICAgfQoKICAgIHB1YmxpYyBDb25uZWN0aW9uIGdldENvbm5lY3Rpb24oU3Ry\naW5nIHVzZXJuYW1lLCBTdHJpbmcgcGFzc3dvcmQpCiAgICAgICAgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgUHJvcGVydGllcyBwcm9wcyA9IG5l\ndyBQcm9wZXJ0aWVzKCk7CiAgICAgICAgaWYgKHVzZXJuYW1lID09IG51bGwp\nCiAgICAgICAgICAgIHVzZXJuYW1lID0gX2Nvbm5lY3Rpb25Vc2VyTmFtZTsK\nICAgICAgICBpZiAodXNlcm5hbWUgIT0gbnVsbCkKICAgICAgICAgICAgcHJv\ncHMucHV0KCJ1c2VyIiwgdXNlcm5hbWUpOwoKICAgICAgICBpZiAocGFzc3dv\ncmQgPT0gbnVsbCkKICAgICAgICAgICAgcGFzc3dvcmQgPSBfY29ubmVjdGlv\nblBhc3N3b3JkOwogICAgICAgIGlmIChwYXNzd29yZCAhPSBudWxsKQogICAg\nICAgICAgICBwcm9wcy5wdXQoInBhc3N3b3JkIiwgcGFzc3dvcmQpOwoKICAg\nICAgICByZXR1cm4gZ2V0Q29ubmVjdGlvbihwcm9wcyk7CiAgICB9CgogICAg\ncHVibGljIENvbm5lY3Rpb24gZ2V0Q29ubmVjdGlvbihQcm9wZXJ0aWVzIHBy\nb3BzKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBnZXREcml2ZXIoKS5jb25uZWN0KF9jb25uZWN0aW9uVVJMLCBwcm9w\ncyk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRMb2dpblRpbWVvdXQoKSB7\nCiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nTG9naW5UaW1lb3V0KGludCBzZWNvbmRzKSB7CiAgICB9CgogICAgcHVibGlj\nIFByaW50V3JpdGVyIGdldExvZ1dyaXRlcigpIHsKICAgICAgICByZXR1cm4g\nRHJpdmVyTWFuYWdlci5nZXRMb2dXcml0ZXIoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRMb2dXcml0ZXIoUHJpbnRXcml0ZXIgb3V0KSB7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgaW5pdERCRGljdGlvbmFyeShEQkRpY3Rpb25h\ncnkgZGljdCkgewogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rp\nb25VUkwoU3RyaW5nIGNvbm5lY3Rpb25VUkwpIHsKICAgICAgICBfY29ubmVj\ndGlvblVSTCA9IGNvbm5lY3Rpb25VUkw7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRDb25uZWN0aW9uVVJMKCkgewogICAgICAgIHJldHVybiBfY29u\nbmVjdGlvblVSTDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0\naW9uVXNlck5hbWUoU3RyaW5nIGNvbm5lY3Rpb25Vc2VyTmFtZSkgewogICAg\nICAgIF9jb25uZWN0aW9uVXNlck5hbWUgPSBjb25uZWN0aW9uVXNlck5hbWU7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uVXNlck5h\nbWUoKSB7CiAgICAgICAgcmV0dXJuIF9jb25uZWN0aW9uVXNlck5hbWU7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvblBhc3N3b3JkKFN0\ncmluZyBjb25uZWN0aW9uUGFzc3dvcmQpIHsKICAgICAgICBfY29ubmVjdGlv\nblBhc3N3b3JkID0gY29ubmVjdGlvblBhc3N3b3JkOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldENvbm5lY3Rpb25Qcm9wZXJ0aWVzKFByb3BlcnRpZXMg\ncHJvcHMpIHsKICAgICAgICBfY29ubmVjdGlvblByb3BlcnRpZXMgPSBwcm9w\nczsKICAgIH0KCiAgICBwdWJsaWMgUHJvcGVydGllcyBnZXRDb25uZWN0aW9u\nUHJvcGVydGllcygpIHsKICAgICAgICByZXR1cm4gX2Nvbm5lY3Rpb25Qcm9w\nZXJ0aWVzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25G\nYWN0b3J5UHJvcGVydGllcyhQcm9wZXJ0aWVzIHByb3BzKSB7CiAgICAgICAg\nX2Nvbm5lY3Rpb25GYWN0b3J5UHJvcGVydGllcyA9IHByb3BzOwogICAgfQoK\nICAgIHB1YmxpYyBQcm9wZXJ0aWVzIGdldENvbm5lY3Rpb25GYWN0b3J5UHJv\ncGVydGllcygpIHsKICAgICAgICByZXR1cm4gX2Nvbm5lY3Rpb25GYWN0b3J5\nUHJvcGVydGllczsKICAgIH0KCiAgICBwdWJsaWMgTGlzdCBjcmVhdGVDb25u\nZWN0aW9uRGVjb3JhdG9ycygpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDbGFzc0xvYWRlcihDbGFzc0xvYWRl\nciBjbGFzc0xvYWRlcikgewogICAgICAgIF9jbGFzc0xvYWRlciA9IGNsYXNz\nTG9hZGVyOwogICAgfQoKICAgIHB1YmxpYyBDbGFzc0xvYWRlciBnZXRDbGFz\nc0xvYWRlcigpIHsKICAgICAgICByZXR1cm4gX2NsYXNzTG9hZGVyOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25Ecml2ZXJOYW1lKFN0\ncmluZyBjb25uZWN0aW9uRHJpdmVyTmFtZSkgewogICAgICAgIF9jb25uZWN0\naW9uRHJpdmVyTmFtZSA9IGNvbm5lY3Rpb25Ecml2ZXJOYW1lOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbkRyaXZlck5hbWUoKSB7\nCiAgICAgICAgcmV0dXJuIF9jb25uZWN0aW9uRHJpdmVyTmFtZTsKICAgIH0K\nCiAgICBwcml2YXRlIERyaXZlciBnZXREcml2ZXIoKSB7CiAgICAgICAgaWYg\nKF9kcml2ZXIgIT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIF9kcml2ZXI7\nCgogICAgICAgIHRyeSB7IAogICAgICAgICAgICBfZHJpdmVyID0gRHJpdmVy\nTWFuYWdlci5nZXREcml2ZXIoX2Nvbm5lY3Rpb25VUkwpOwogICAgICAgICAg\nICBpZiAoX2RyaXZlciAhPSBudWxsKQogICAgICAgICAgICAgICAgcmV0dXJu\nIF9kcml2ZXI7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAg\nICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIENsYXNzLmZvck5h\nbWUoX2Nvbm5lY3Rpb25Ecml2ZXJOYW1lLCB0cnVlLCBfY2xhc3NMb2FkZXIp\nOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgfQog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9kcml2ZXIgPSBEcml2ZXJNYW5h\nZ2VyLmdldERyaXZlcihfY29ubmVjdGlvblVSTCk7CiAgICAgICAgICAgIGlm\nIChfZHJpdmVyICE9IG51bGwpCiAgICAgICAgICAgICAgICByZXR1cm4gX2Ry\naXZlcjsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAg\nIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RyaXZlciA9IChEcml2\nZXIpIENsYXNzLmZvck5hbWUoX2Nvbm5lY3Rpb25Ecml2ZXJOYW1lLAogICAg\nICAgICAgICAgICAgdHJ1ZSwgX2NsYXNzTG9hZGVyKS5uZXdJbnN0YW5jZSgp\nOwogICAgICAgICAgICByZXR1cm4gX2RyaXZlcjsKICAgICAgICB9IGNhdGNo\nIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9m\nIFJ1bnRpbWVFeGNlcHRpb24pCiAgICAgICAgICAgICAgICB0aHJvdyhSdW50\naW1lRXhjZXB0aW9uKSBlOwogICAgICAgICAgICB0aHJvdyBuZXcgU3RvcmVF\neGNlcHRpb24oZSk7CiAgICAgICAgfQogICAgfQp9Cgo=\n","encoding":"base64"}

