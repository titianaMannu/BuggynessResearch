{"sha":"64dbbefac184ac21ccd796fba6369d6d6640ac44","node_id":"MDQ6QmxvYjIwNjM2NDo2NGRiYmVmYWMxODRhYzIxY2NkNzk2ZmJhNjM2OWQ2ZDY2NDBhYzQ0","size":16302,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/64dbbefac184ac21ccd796fba6369d6d6640ac44","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYTsKCmltcG9ydCBqYXZhLmlvLklPRXhjZXB0\naW9uOwppbXBvcnQgamF2YS5pby5TdHJpbmdSZWFkZXI7CmltcG9ydCBqYXZh\nLmlvLlN0cmluZ1dyaXRlcjsKaW1wb3J0IGphdmEuaW8uV3JpdGVyOwppbXBv\ncnQgamF2YS5zcWwuQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEuc3FsLlByZXBh\ncmVkU3RhdGVtZW50OwppbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0OwppbXBv\ncnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwppbXBvcnQgamF2YS5zcWwuVHlw\nZXM7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJD\nQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb25JbXBsOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TUUxCdWZmZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FMRXhjZXB0aW9uczsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmFibGU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlv\nbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1\ncmF0aW9uczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxv\nZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuT3B0aW9u\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkphdmFUeXBlczsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkdlbmVyYWxFeGNlcHRp\nb247CmltcG9ydCBzZXJwLnV0aWwuTnVtYmVyczsKaW1wb3J0IHNlcnAudXRp\nbC5TdHJpbmdzOwoKLyoqCiAqIEZhY3RvcnkgdGhhdCB1c2VzIGFuIFhNTCBz\nY2hlbWEgZGVmaW5pdGlvbiBzdG9yZWQgaW4gYSBkYXRhYmFzZSB0YWJsZQog\nKiB0byByZWNvcmQgdGhlIHN5c3RlbSBzY2hlbWEuCiAqCiAqIEBhdXRob3Ig\nQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgVGFibGVTY2hlbWFGYWN0b3J5\nCiAgICBpbXBsZW1lbnRzIFNjaGVtYUZhY3RvcnksIENvbmZpZ3VyYWJsZSB7\nCgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQUNUSU9OX0FERCA9\nICJhZGQiOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQUNUSU9O\nX0RST1AgPSAiZHJvcCI7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9j\nYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgIChU\nYWJsZVNjaGVtYUZhY3RvcnkuY2xhc3MpOwogICAgcHJpdmF0ZSBzdGF0aWMg\nYm9vbGVhbiBfcmVmcmVzaGVkVGFibGUgPSBmYWxzZTsKCiAgICBwcml2YXRl\nIEpEQkNDb25maWd1cmF0aW9uIF9jb25mID0gbnVsbDsKICAgIHByaXZhdGUg\nTG9nIF9sb2cgPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcgX3RhYmxlID0g\nIk9QRU5KUEFfU0NIRU1BIjsKICAgIHByaXZhdGUgU3RyaW5nIF9wa0NvbHVt\nbk5hbWUgPSAiSUQiOwogICAgcHJpdmF0ZSBTdHJpbmcgX3NjaGVtYUNvbHVt\nbk5hbWUgPSAiU0NIRU1BX0RFRiI7CiAgICBwcml2YXRlIENvbHVtbiBfcGtD\nb2x1bW4gPSBudWxsOwogICAgcHJpdmF0ZSBDb2x1bW4gX3NjaGVtYUNvbHVt\nbiA9IG51bGw7CgogICAgLyoqCiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc2No\nZW1hIGRlZmluaXRpb24gdGFibGUuIERlZmF1bHRzIHRvCiAgICAgKiA8Y29k\nZT5PUEVOSlBBX1NDSEVNQTwvY29kZT4uCiAgICAgKi8KICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0VGFibGUoKSB7CiAgICAgICAgcmV0dXJuIF90YWJsZTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRoZSBuYW1lIG9mIHRoZSBzY2hlbWEgZGVm\naW5pdGlvbiB0YWJsZS4gRGVmYXVsdHMgdG8KICAgICAqIDxjb2RlPk9QRU5K\nUEFfU0NIRU1BPC9jb2RlPi4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nVGFibGUoU3RyaW5nIG5hbWUpIHsKICAgICAgICBfdGFibGUgPSBuYW1lOwog\nICAgfQoKICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayAj\nc2V0VGFibGV9LiBSZXRhaW5lZCBmb3IKICAgICAqIGJhY2t3YXJkcy1jb21w\nYXRpYmxlIGF1dG8tY29uZmlndXJhdGlvbi4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgc2V0VGFibGVOYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgc2V0\nVGFibGUobmFtZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgbmFtZSBv\nZiB0aGUgcHJpbWFyeSBrZXkgY29sdW1uIG9uIHRoZSBzY2hlbWEgZGVmaW5p\ndGlvbiB0YWJsZS4KICAgICAqIERlZmF1bHRzIHRvIDxjb2RlPklEPC9jb2Rl\nPi4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0UHJpbWFyeUtleUNvbHVt\nbihTdHJpbmcgbmFtZSkgewogICAgICAgIF9wa0NvbHVtbk5hbWUgPSBuYW1l\nOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG5hbWUgb2YgdGhlIHByaW1h\ncnkga2V5IGNvbHVtbiBvbiB0aGUgc2NoZW1hIGRlZmluaXRpb24gdGFibGUu\nCiAgICAgKiBEZWZhdWx0cyB0byA8Y29kZT5JRDwvY29kZT4uCiAgICAgKi8K\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0UHJpbWFyeUtleUNvbHVtbigpIHsKICAg\nICAgICByZXR1cm4gX3BrQ29sdW1uTmFtZTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFRoZSBuYW1lIG9mIHRoZSBzY2hlbWEgY29sdW1uIG9uIHRoZSBzY2hl\nbWEgZGVmaW5pdGlvbiB0YWJsZS4KICAgICAqIERlZmF1bHRzIHRvIDxjb2Rl\nPlNDSEVNQV9ERUY8L2NvZGU+LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBz\nZXRTY2hlbWFDb2x1bW4oU3RyaW5nIG5hbWUpIHsKICAgICAgICBfc2NoZW1h\nQ29sdW1uTmFtZSA9IG5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUg\nbmFtZSBvZiB0aGUgc2NoZW1hIGNvbHVtbiBvbiB0aGUgc2NoZW1hIGRlZmlu\naXRpb24gdGFibGUuCiAgICAgKiBEZWZhdWx0cyB0byA8Y29kZT5TQ0hFTUFf\nREVGPC9jb2RlPi4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRTY2hl\nbWFDb2x1bW4oKSB7CiAgICAgICAgcmV0dXJuIF9zY2hlbWFDb2x1bW5OYW1l\nOwogICAgfQoKICAgIHB1YmxpYyBKREJDQ29uZmlndXJhdGlvbiBnZXRDb25m\naWd1cmF0aW9uKCkgewogICAgICAgIHJldHVybiBfY29uZjsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRDb25maWd1cmF0aW9uKENvbmZpZ3VyYXRpb24g\nY29uZikgewogICAgICAgIF9jb25mID0gKEpEQkNDb25maWd1cmF0aW9uKSBj\nb25mOwogICAgICAgIF9sb2cgPSBfY29uZi5nZXRMb2coSkRCQ0NvbmZpZ3Vy\nYXRpb24uTE9HX1NDSEVNQSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3Rh\ncnRDb25maWd1cmF0aW9uKCkgewogICAgfQoKICAgIHB1YmxpYyB2b2lkIGVu\nZENvbmZpZ3VyYXRpb24oKSB7CiAgICAgICAgYnVpbGRUYWJsZSgpOwogICAg\nfQoKICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgU2NoZW1hR3JvdXAgcmVhZFNj\naGVtYSgpIHsKICAgICAgICBTdHJpbmcgc2NoZW1hID0gbnVsbDsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBzY2hlbWEgPSByZWFkU2NoZW1hQ29sdW1u\nKCk7CiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlKSB7CiAgICAg\nICAgICAgIGlmIChfbG9nLmlzV2FybkVuYWJsZWQoKSkKICAgICAgICAgICAg\nICAgIF9sb2cud2FybihfbG9jLmdldCgiYmFkLXNjaC1yZWFkIiwgc2UpKTsK\nICAgICAgICB9CiAgICAgICAgaWYgKHNjaGVtYSA9PSBudWxsKQogICAgICAg\nICAgICByZXR1cm4gbmV3IFNjaGVtYUdyb3VwKCk7CgogICAgICAgIFhNTFNj\naGVtYVBhcnNlciBwYXJzZXIgPSBuZXcgWE1MU2NoZW1hUGFyc2VyKF9jb25m\nKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBwYXJzZXIucGFyc2UobmV3\nIFN0cmluZ1JlYWRlcihzY2hlbWEpLAogICAgICAgICAgICAgICAgX3NjaGVt\nYUNvbHVtbi5nZXRGdWxsTmFtZSgpKTsKICAgICAgICB9IGNhdGNoIChJT0V4\nY2VwdGlvbiBpb2UpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEdlbmVyYWxF\neGNlcHRpb24oaW9lKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhcnNl\nci5nZXRTY2hlbWFHcm91cCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0\nb3JlU2NoZW1hKFNjaGVtYUdyb3VwIHNjaGVtYSkgewogICAgICAgIFhNTFNj\naGVtYVNlcmlhbGl6ZXIgc2VyID0gbmV3IFhNTFNjaGVtYVNlcmlhbGl6ZXIo\nX2NvbmYpOwogICAgICAgIHNlci5hZGRBbGwoc2NoZW1hKTsKICAgICAgICBX\ncml0ZXIgd3JpdGVyID0gbmV3IFN0cmluZ1dyaXRlcigpOwogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHNlci5zZXJpYWxpemUod3JpdGVyLCBzZXIuQ09N\nUEFDVCk7CiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gaW9lKSB7CiAg\nICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXhjZXB0aW9uKGlvZSk7CiAg\nICAgICAgfQoKICAgICAgICBTdHJpbmcgc2NoZW1hU3RyID0gd3JpdGVyLnRv\nU3RyaW5nKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgd3JpdGVTY2hl\nbWFDb2x1bW4oc2NoZW1hU3RyKTsKICAgICAgICB9IGNhdGNoIChTUUxFeGNl\ncHRpb24gc2UpIHsKICAgICAgICAgICAgaWYgKF9sb2cuaXNXYXJuRW5hYmxl\nZCgpKQogICAgICAgICAgICAgICAgX2xvZy53YXJuKF9sb2MuZ2V0KCJiYWQt\nc2NoLXdyaXRlLTEiLCBzZSkpOwoKICAgICAgICAgICAgLy8gbWF5YmUgdGhl\nIHVwZGF0ZSBmYWlsZWQgYi9jIHRoZSBzZXF1ZW5jZSB0YWJsZSBkb2Vzbid0\nCiAgICAgICAgICAgIC8vIGV4aXN0IHlldDsgY3JlYXRlIGl0IG5vdzsgbm90\nZSB0aGF0IHRob3VnaCB3ZSBzeW5jaHJvbml6ZQogICAgICAgICAgICAvLyBo\nZXJlLCBvdGhlciBKVk1zIGNhbiBzdGlsbCBiZSB0cnlpbmcgdG8gY3JlYXRl\nIHRoZSB0YWJsZSBhdAogICAgICAgICAgICAvLyB0aGUgc2FtZSB0aW1lICh1\nbmxpa2VseSwgc2luY2UgdGhpcyBpcyBhIGRldi10b29sIG9wKQogICAgICAg\nICAgICBzeW5jaHJvbml6ZWQgKFRhYmxlU2NoZW1hRmFjdG9yeS5jbGFzcykg\newogICAgICAgICAgICAgICAgaWYgKCFfcmVmcmVzaGVkVGFibGUpIHsKICAg\nICAgICAgICAgICAgICAgICBfcmVmcmVzaGVkVGFibGUgPSB0cnVlOwogICAg\nICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAg\nIHJlZnJlc2hUYWJsZSgpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gg\nKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChf\nbG9nLmlzV2FybkVuYWJsZWQoKSkKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIF9sb2cud2FybihfbG9jLmdldCgiYmFkLXNjaC1yZWYiLCBlKSk7CiAg\nICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAg\nICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgd3JpdGVTY2hl\nbWFDb2x1bW4oc2NoZW1hU3RyKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2gg\nKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF9sb2cu\naXNXYXJuRW5hYmxlZCgpKQogICAgICAgICAgICAgICAgICAgICAgICBfbG9n\nLndhcm4oX2xvYy5nZXQoImJhZC1zY2gtd3JpdGUtMiIpKTsKCiAgICAgICAg\nICAgICAgICAgICAgLy8gdGhyb3cgb3JpZ2luYWwgZXhjZXB0aW9uCiAgICAg\nICAgICAgICAgICAgICAgdGhyb3cgU1FMRXhjZXB0aW9ucy5nZXRTdG9yZShz\nZSwKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbmYuZ2V0REJEaWN0aW9u\nYXJ5SW5zdGFuY2UoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nIH0KICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIHRo\nZSBzY2hlbWEgdGFibGUgaW4gdGhlIERCLgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCByZWZyZXNoVGFibGUoKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIGlmIChfbG9nLmlzSW5mb0VuYWJsZWQoKSkKICAgICAg\nICAgICAgX2xvZy5pbmZvKF9sb2MuZ2V0KCJtYWtlLXNjaC10YWJsZSIpKTsK\nCiAgICAgICAgLy8gY3JlYXRlIHRoZSB0YWJsZQogICAgICAgIFNjaGVtYVRv\nb2wgdG9vbCA9IG5ldyBTY2hlbWFUb29sKF9jb25mKTsKICAgICAgICB0b29s\nLnNldElnbm9yZUVycm9ycyh0cnVlKTsKICAgICAgICB0b29sLmNyZWF0ZVRh\nYmxlKF9wa0NvbHVtbi5nZXRUYWJsZSgpKTsKCiAgICAgICAgLy8gaW5zZXJ0\nIGFuIGVtcHR5IHNjaGVtYQogICAgICAgIENvbm5lY3Rpb24gY29ubiA9IGdl\ndENvbm5lY3Rpb24oKTsKICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBzdG1u\ndCA9IG51bGw7CiAgICAgICAgYm9vbGVhbiB3YXNBdXRvID0gdHJ1ZTsKICAg\nICAgICB0cnkgewogICAgICAgICAgICB3YXNBdXRvID0gY29ubi5nZXRBdXRv\nQ29tbWl0KCk7CiAgICAgICAgICAgIGlmICghd2FzQXV0bykKICAgICAgICAg\nICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdCh0cnVlKTsKCiAgICAgICAgICAg\nIERCRGljdGlvbmFyeSBkaWN0ID0gX2NvbmYuZ2V0REJEaWN0aW9uYXJ5SW5z\ndGFuY2UoKTsKICAgICAgICAgICAgc3RtbnQgPSBjb25uLnByZXBhcmVTdGF0\nZW1lbnQoIklOU0VSVCBJTlRPICIKICAgICAgICAgICAgICAgICsgZGljdC5n\nZXRGdWxsTmFtZShfcGtDb2x1bW4uZ2V0VGFibGUoKSwgZmFsc2UpCiAgICAg\nICAgICAgICAgICArICIgKCIgKyBfcGtDb2x1bW4gKyAiLCAiICsgX3NjaGVt\nYUNvbHVtbiArICIpIFZBTFVFUyAoPywgPykiKTsKICAgICAgICAgICAgZGlj\ndC5zZXRJbnQoc3RtbnQsIDEsIDEsIF9wa0NvbHVtbik7CiAgICAgICAgICAg\nIGRpY3Quc2V0TnVsbChzdG1udCwgMiwgX3NjaGVtYUNvbHVtbi5nZXRUeXBl\nKCksIF9zY2hlbWFDb2x1bW4pOwoKICAgICAgICAgICAgc3RtbnQuZXhlY3V0\nZVVwZGF0ZSgpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGlm\nIChzdG1udCAhPSBudWxsKQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgICAgICAgICBzdG1udC5jbG9zZSgpOwogICAgICAgICAgICAgICAg\nfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlKSB7CiAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgIGlmICghd2FzQXV0bykKICAgICAgICAgICAgICAgIGNv\nbm4uc2V0QXV0b0NvbW1pdChmYWxzZSk7CiAgICAgICAgICAgIHRyeSB7CiAg\nICAgICAgICAgICAgICBjb25uLmNsb3NlKCk7CiAgICAgICAgICAgIH0gY2F0\nY2ggKFNRTEV4Y2VwdGlvbiBzZSkgewogICAgICAgICAgICB9CiAgICAgICAg\nfQogICAgfQoKICAgIC8qKgogICAgICogRHJvcHMgdGhlIHNlcXVlbmNlIHRh\nYmxlIGluIHRoZSBEQi4KICAgICAqLwogICAgcHVibGljIHZvaWQgZHJvcFRh\nYmxlKCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBp\nZiAoX2xvZy5pc0luZm9FbmFibGVkKCkpCiAgICAgICAgICAgIF9sb2cuaW5m\nbyhfbG9jLmdldCgiZHJvcC1zY2gtdGFibGUiKSk7CgogICAgICAgIC8vIGRy\nb3AgdGhlIHRhYmxlCiAgICAgICAgU2NoZW1hVG9vbCB0b29sID0gbmV3IFNj\naGVtYVRvb2woX2NvbmYpOwogICAgICAgIHRvb2wuc2V0SWdub3JlRXJyb3Jz\nKHRydWUpOwogICAgICAgIHRvb2wuZHJvcFRhYmxlKF9wa0NvbHVtbi5nZXRU\nYWJsZSgpKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHNj\naGVtYSBhcyBhbiBYTUwgc3RyaW5nLgogICAgICovCiAgICBwdWJsaWMgU3Ry\naW5nIHJlYWRTY2hlbWFDb2x1bW4oKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIERCRGljdGlvbmFyeSBkaWN0ID0gX2NvbmYuZ2V0\nREJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsKICAgICAgICBTUUxCdWZmZXIgc2Vs\nID0gbmV3IFNRTEJ1ZmZlcihkaWN0KS5hcHBlbmQoX3NjaGVtYUNvbHVtbik7\nCiAgICAgICAgU1FMQnVmZmVyIHdoZXJlID0gbmV3IFNRTEJ1ZmZlcihkaWN0\nKS5hcHBlbmQoX3BrQ29sdW1uKS5hcHBlbmQoIiA9ICIpLgogICAgICAgICAg\nICBhcHBlbmRWYWx1ZShOdW1iZXJzLnZhbHVlT2YoMSksIF9wa0NvbHVtbik7\nCiAgICAgICAgU1FMQnVmZmVyIHRhYmxlcyA9IG5ldyBTUUxCdWZmZXIoZGlj\ndCkuYXBwZW5kKF9wa0NvbHVtbi5nZXRUYWJsZSgpKTsKCiAgICAgICAgU1FM\nQnVmZmVyIHNlbGVjdCA9IGRpY3QudG9TZWxlY3Qoc2VsLCBudWxsLCB0YWJs\nZXMsIHdoZXJlLCBudWxsLAogICAgICAgICAgICBudWxsLCBudWxsLCBmYWxz\nZSwgZmFsc2UsIDAsIExvbmcuTUFYX1ZBTFVFKTsKCiAgICAgICAgQ29ubmVj\ndGlvbiBjb25uID0gZ2V0Q29ubmVjdGlvbigpOwogICAgICAgIFByZXBhcmVk\nU3RhdGVtZW50IHN0bW50ID0gbnVsbDsKICAgICAgICBSZXN1bHRTZXQgcnMg\nPSBudWxsOwogICAgICAgIGJvb2xlYW4gd2FzQXV0byA9IHRydWU7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgd2FzQXV0byA9IGNvbm4uZ2V0QXV0b0Nv\nbW1pdCgpOwogICAgICAgICAgICBpZiAoIXdhc0F1dG8pCiAgICAgICAgICAg\nICAgICBjb25uLnNldEF1dG9Db21taXQodHJ1ZSk7CgogICAgICAgICAgICBz\ndG1udCA9IHNlbGVjdC5wcmVwYXJlU3RhdGVtZW50KGNvbm4pOwogICAgICAg\nICAgICBycyA9IHN0bW50LmV4ZWN1dGVRdWVyeSgpOwogICAgICAgICAgICBy\ncy5uZXh0KCk7CiAgICAgICAgICAgIFN0cmluZyBzY2hlbWEgPSAoX3NjaGVt\nYUNvbHVtbi5nZXRUeXBlKCkgPT0gVHlwZXMuQ0xPQikgPwogICAgICAgICAg\nICAgICAgZGljdC5nZXRDbG9iU3RyaW5nKHJzLCAxKSA6IGRpY3QuZ2V0U3Ry\naW5nKHJzLCAxKTsKICAgICAgICAgICAgcmV0dXJuIHNjaGVtYTsKICAgICAg\nICB9IGZpbmFsbHkgewogICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkKICAg\nICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgcnMuY2xv\nc2UoKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBz\nZSkgewogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc3RtbnQg\nIT0gbnVsbCkKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAg\nICAgICAgc3RtbnQuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2gg\nKFNRTEV4Y2VwdGlvbiBzZSkgewogICAgICAgICAgICAgICAgfQogICAgICAg\nICAgICBpZiAoIXdhc0F1dG8pCiAgICAgICAgICAgICAgICBjb25uLnNldEF1\ndG9Db21taXQoZmFsc2UpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAg\nICAgICAgY29ubi5jbG9zZSgpOwogICAgICAgICAgICB9IGNhdGNoIChTUUxF\neGNlcHRpb24gc2UpIHsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0K\nCiAgICAvKioKICAgICAqIFdyaXRlcyB0aGUgc2NoZW1hIGFzIGEgc3RyaW5n\nIHRvIHRoZSBkYXRhYmFzZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgd3Jp\ndGVTY2hlbWFDb2x1bW4oU3RyaW5nIHNjaGVtYSkKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICAvLyBhbHdheXMgdXNlIHNwZWNpYWwg\nY2xvYiBoYW5kbGluZyB3aGVuIGRpY3QgaGFzIG1heCBlbWJlZGRlZCBzaXpl\nOwogICAgICAgIC8vIGZvciBzb21lIHJlYXNvbiBvcHRpbWl6aW5nIGZvciBz\ndHJpbmcgbGVuZ3RoIGNhdXNlcyBlcnJvcnMKICAgICAgICBEQkRpY3Rpb25h\ncnkgZGljdCA9IF9jb25mLmdldERCRGljdGlvbmFyeUluc3RhbmNlKCk7CiAg\nICAgICAgYm9vbGVhbiBlbWJlZGRlZCA9IGRpY3QubWF4RW1iZWRkZWRDbG9i\nU2l6ZSA9PSAtMTsKICAgICAgICBTdHJpbmcgdXBkYXRlOwogICAgICAgIGlm\nIChlbWJlZGRlZCkKICAgICAgICAgICAgdXBkYXRlID0gIlVQREFURSAiICsg\nZGljdC5nZXRGdWxsTmFtZShfcGtDb2x1bW4uZ2V0VGFibGUoKSwgZmFsc2Up\nCiAgICAgICAgICAgICAgICArICIgU0VUICIgKyBfc2NoZW1hQ29sdW1uICsg\nIiA9ID8gIFdIRVJFICIgKyBfcGtDb2x1bW4gKyAiID0gPyI7CiAgICAgICAg\nZWxzZQogICAgICAgICAgICB1cGRhdGUgPSAiU0VMRUNUICIgKyBfc2NoZW1h\nQ29sdW1uICsgIiBGUk9NICIKICAgICAgICAgICAgICAgICsgZGljdC5nZXRG\ndWxsTmFtZShfcGtDb2x1bW4uZ2V0VGFibGUoKSwgZmFsc2UpCiAgICAgICAg\nICAgICAgICArICIgV0hFUkUgIiArIF9wa0NvbHVtbiArICIgPSA/IjsKCiAg\nICAgICAgQ29ubmVjdGlvbiBjb25uID0gZ2V0Q29ubmVjdGlvbigpOwogICAg\nICAgIFByZXBhcmVkU3RhdGVtZW50IHN0bW50ID0gbnVsbDsKICAgICAgICBS\nZXN1bHRTZXQgcnMgPSBudWxsOwogICAgICAgIGJvb2xlYW4gd2FzQXV0byA9\nIHRydWU7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gaWYgZW1iZWRk\nZWQgd2Ugd2FudCBhdXRvY29tbWl0IHRydWUsIGVsc2UgZmFsc2UKICAgICAg\nICAgICAgd2FzQXV0byA9IGNvbm4uZ2V0QXV0b0NvbW1pdCgpOwogICAgICAg\nICAgICBpZiAod2FzQXV0byAhPSBlbWJlZGRlZCkKICAgICAgICAgICAgICAg\nIGNvbm4uc2V0QXV0b0NvbW1pdChlbWJlZGRlZCk7CgogICAgICAgICAgICBp\nZiAoZW1iZWRkZWQpIHsKICAgICAgICAgICAgICAgIHN0bW50ID0gY29ubi5w\ncmVwYXJlU3RhdGVtZW50KHVwZGF0ZSk7CiAgICAgICAgICAgICAgICBpZiAo\nc2NoZW1hID09IG51bGwpCiAgICAgICAgICAgICAgICAgICAgZGljdC5zZXRO\ndWxsKHN0bW50LCAxLCBfc2NoZW1hQ29sdW1uLmdldFR5cGUoKSwKICAgICAg\nICAgICAgICAgICAgICAgICAgX3NjaGVtYUNvbHVtbik7CiAgICAgICAgICAg\nICAgICBlbHNlIGlmIChfc2NoZW1hQ29sdW1uLmdldFR5cGUoKSA9PSBUeXBl\ncy5DTE9CKQogICAgICAgICAgICAgICAgICAgIGRpY3Quc2V0Q2xvYlN0cmlu\nZyhzdG1udCwgMSwgc2NoZW1hLCBfc2NoZW1hQ29sdW1uKTsKICAgICAgICAg\nICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBkaWN0LnNldFN0cmlu\nZyhzdG1udCwgMSwgc2NoZW1hLCBfc2NoZW1hQ29sdW1uKTsKICAgICAgICAg\nICAgICAgIGRpY3Quc2V0SW50KHN0bW50LCAyLCAxLCBfcGtDb2x1bW4pOwog\nICAgICAgICAgICAgICAgc3RtbnQuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAg\nICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3RtbnQgPSBjb25uLnBy\nZXBhcmVTdGF0ZW1lbnQodXBkYXRlLAogICAgICAgICAgICAgICAgICAgIFJl\nc3VsdFNldC5UWVBFX1NDUk9MTF9JTlNFTlNJVElWRSwKICAgICAgICAgICAg\nICAgICAgICBSZXN1bHRTZXQuQ09OQ1VSX1VQREFUQUJMRSk7CiAgICAgICAg\nICAgICAgICBkaWN0LnNldEludChzdG1udCwgMSwgMSwgX3BrQ29sdW1uKTsK\nICAgICAgICAgICAgICAgIHJzID0gc3RtbnQuZXhlY3V0ZVF1ZXJ5KCk7CiAg\nICAgICAgICAgICAgICBycy5uZXh0KCk7CiAgICAgICAgICAgICAgICBkaWN0\nLnB1dFN0cmluZyhycy5nZXRDbG9iKDEpLCBzY2hlbWEpOwogICAgICAgICAg\nICAgICAgY29ubi5jb21taXQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0K\nICAgICAgICBmaW5hbGx5IHsKICAgICAgICAgICAgaWYgKHJzICE9IG51bGwp\nCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHJz\nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRp\nb24gc2UpIHsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHN0\nbW50ICE9IG51bGwpCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAg\nICAgICAgICAgIHN0bW50LmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9IGNh\ndGNoIChTUUxFeGNlcHRpb24gc2UpIHsKICAgICAgICAgICAgICAgIH0KICAg\nICAgICAgICAgaWYgKHdhc0F1dG8gIT0gZW1iZWRkZWQpCiAgICAgICAgICAg\nICAgICBjb25uLnNldEF1dG9Db21taXQod2FzQXV0byk7CiAgICAgICAgICAg\nIHRyeSB7CiAgICAgICAgICAgICAgICBjb25uLmNsb3NlKCk7CiAgICAgICAg\nICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBzZSkgewogICAgICAgICAgICB9\nCiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQ3JlYXRlcyB0aGUg\nb2JqZWN0LWxldmVsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzZXF1ZW5jZSB0\nYWJsZS4KICAgICAqLwogICAgcHJpdmF0ZSB2b2lkIGJ1aWxkVGFibGUoKSB7\nCiAgICAgICAgU3RyaW5nIHRhYmxlTmFtZSA9IFN0cmluZ3MuZ2V0Q2xhc3NO\nYW1lKF90YWJsZSk7CiAgICAgICAgU3RyaW5nIHNjaGVtYU5hbWUgPSBTdHJp\nbmdzLmdldFBhY2thZ2VOYW1lKF90YWJsZSk7CiAgICAgICAgaWYgKHNjaGVt\nYU5hbWUubGVuZ3RoKCkgPT0gMCkKICAgICAgICAgICAgc2NoZW1hTmFtZSA9\nIFNjaGVtYXMuZ2V0TmV3VGFibGVTY2hlbWEoX2NvbmYpOwoKICAgICAgICAv\nLyBidWlsZCB0aGUgdGFibGUgaW4gb25lIG9mIHRoZSBkZXNpZ25hdGVkIHNj\naGVtYXMKICAgICAgICBTY2hlbWFHcm91cCBncm91cCA9IG5ldyBTY2hlbWFH\ncm91cCgpOwogICAgICAgIFNjaGVtYSBzY2hlbWEgPSBncm91cC5hZGRTY2hl\nbWEoc2NoZW1hTmFtZSk7CgogICAgICAgIFRhYmxlIHRhYmxlID0gc2NoZW1h\nLmFkZFRhYmxlKHRhYmxlTmFtZSk7CiAgICAgICAgUHJpbWFyeUtleSBwayA9\nIHRhYmxlLmFkZFByaW1hcnlLZXkoKTsKCiAgICAgICAgREJEaWN0aW9uYXJ5\nIGRpY3QgPSBfY29uZi5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpOwogICAg\nICAgIF9wa0NvbHVtbiA9IHRhYmxlLmFkZENvbHVtbihkaWN0LmdldFZhbGlk\nQ29sdW1uTmFtZQogICAgICAgICAgICAoX3BrQ29sdW1uTmFtZSwgdGFibGUp\nKTsKICAgICAgICBfcGtDb2x1bW4uc2V0VHlwZShkaWN0LmdldFByZWZlcnJl\nZFR5cGUoVHlwZXMuVElOWUlOVCkpOwogICAgICAgIF9wa0NvbHVtbi5zZXRK\nYXZhVHlwZShKYXZhVHlwZXMuSU5UKTsKICAgICAgICBway5hZGRDb2x1bW4o\nX3BrQ29sdW1uKTsKCiAgICAgICAgX3NjaGVtYUNvbHVtbiA9IHRhYmxlLmFk\nZENvbHVtbihkaWN0LmdldFZhbGlkQ29sdW1uTmFtZQogICAgICAgICAgICAo\nX3NjaGVtYUNvbHVtbk5hbWUsIHRhYmxlKSk7CiAgICAgICAgX3NjaGVtYUNv\nbHVtbi5zZXRUeXBlKGRpY3QuZ2V0UHJlZmVycmVkVHlwZShUeXBlcy5DTE9C\nKSk7CiAgICAgICAgX3NjaGVtYUNvbHVtbi5zZXRKYXZhVHlwZShKYXZhVHlw\nZXMuU1RSSU5HKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIGNv\nbm5lY3Rpb24gdG8gdXNlLgogICAgICovCiAgICBwcml2YXRlIENvbm5lY3Rp\nb24gZ2V0Q29ubmVjdGlvbigpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIF9jb25mLmdldERhdGFTb3VyY2UyKG51bGwp\nLmdldENvbm5lY3Rpb24oKTsKICAgIH0KCiAgICAvLy8vLy8vLy8KICAgIC8v\nIE1haW4KICAgIC8vLy8vLy8vLwoKICAgIC8qKgogICAgICogVXNhZ2U6IGph\ndmEgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLlRhYmxlU2NoZW1h\nRmFjdG9yeQogICAgICogW29wdGlvbl0qIC1hY3Rpb24vLWEgJmx0O2FkZCB8\nIGRyb3AmZ3Q7CiAgICAgKiAgV2hlcmUgdGhlIGZvbGxvd2luZyBvcHRpb25z\nIGFyZSByZWNvZ25pemVkLgogICAgICogPHVsPgogICAgICogPGxpPjxpPi1w\ncm9wZXJ0aWVzLy1wICZsdDtwcm9wZXJ0aWVzIGZpbGUgb3IgcmVzb3VyY2Um\nZ3Q7PC9pPjogVGhlCiAgICAgKiBwYXRoIG9yIHJlc291cmNlIG5hbWUgb2Yg\nYSBPcGVuSlBBIHByb3BlcnRpZXMgZmlsZSBjb250YWluaW5nCiAgICAgKiBp\nbmZvcm1hdGlvbiBzdWNoIGFzIHRoZSBsaWNlbnNlIGtleQlhbmQgY29ubmVj\ndGlvbiBkYXRhIGFzCiAgICAgKiBvdXRsaW5lZCBpbiB7QGxpbmsgSkRCQ0Nv\nbmZpZ3VyYXRpb259LiBPcHRpb25hbC48L2xpPgogICAgICogPGxpPjxpPi0m\nbHQ7cHJvcGVydHkgbmFtZSZndDsgJmx0O3Byb3BlcnR5IHZhbHVlJmd0Ozwv\naT46IEFsbCBiZWFuCiAgICAgKiBwcm9wZXJ0aWVzIG9mIHRoZSBPcGVuSlBB\nIHtAbGluayBKREJDQ29uZmlndXJhdGlvbn0gY2FuIGJlIHNldCBieQogICAg\nICogdXNpbmcgdGhlaXIJbmFtZXMgYW5kIHN1cHBseWluZyBhIHZhbHVlLiBG\nb3IgZXhhbXBsZToKICAgICAqIDxjb2RlPi1saWNlbnNlS2V5IGFkc2xmamE4\nM3IzbGthZGY8L2NvZGU+PC9saT4KICAgICAqIDwvdWw+CiAgICAgKiAgVGhl\nIHZhcmlvdXMgYWN0aW9ucyBhcmUgYXMgZm9sbG93cy4KICAgICAqIDx1bD4K\nICAgICAqIDxsaT48aT5hZGQ8L2k+OiBDcmVhdGUgdGhlIHNjaGVtYSB0YWJs\nZS48L2xpPgogICAgICogPGxpPjxpPmRyb3A8L2k+OiBEcm9wIHRoZSBzY2hl\nbWEgdGFibGUuPC9saT4KICAgICAqIDwvdWw+CiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpCiAgICAgICAgdGhy\nb3dzIElPRXhjZXB0aW9uLCBTUUxFeGNlcHRpb24gewogICAgICAgIE9wdGlv\nbnMgb3B0cyA9IG5ldyBPcHRpb25zKCk7CiAgICAgICAgYXJncyA9IG9wdHMu\nc2V0RnJvbUNtZExpbmUoYXJncyk7CiAgICAgICAgSkRCQ0NvbmZpZ3VyYXRp\nb24gY29uZiA9IG5ldyBKREJDQ29uZmlndXJhdGlvbkltcGwoKTsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBpZiAoIXJ1bihjb25mLCBhcmdzLCBvcHRz\nKSkKICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihfbG9jLmdl\ndCgic2NoLXVzYWdlIikpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAg\nICAgIGNvbmYuY2xvc2UoKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSdW4gdGhlIHRvb2wuIFJldHVybnMgZmFsc2UgaWYgaW52YWxpZCBv\ncHRpb25zIHdlcmUgZ2l2ZW4uCiAgICAgKgogICAgICogQHNlZSAjbWFpbgog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gcnVuKEpEQkNDb25m\naWd1cmF0aW9uIGNvbmYsIFN0cmluZ1tdIGFyZ3MsCiAgICAgICAgT3B0aW9u\ncyBvcHRzKQogICAgICAgIHRocm93cyBJT0V4Y2VwdGlvbiwgU1FMRXhjZXB0\naW9uIHsKICAgICAgICBpZiAob3B0cy5jb250YWluc0tleSgiaGVscCIpIHx8\nIG9wdHMuY29udGFpbnNLZXkoIi1oZWxwIikpCiAgICAgICAgICAgIHJldHVy\nbiBmYWxzZTsKCiAgICAgICAgU3RyaW5nIGFjdGlvbiA9IG9wdHMucmVtb3Zl\nUHJvcGVydHkoImFjdGlvbiIsICJhIiwgbnVsbCk7CiAgICAgICAgQ29uZmln\ndXJhdGlvbnMucG9wdWxhdGVDb25maWd1cmF0aW9uKGNvbmYsIG9wdHMpOwog\nICAgICAgIHJldHVybiBydW4oY29uZiwgYWN0aW9uKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJ1biB0aGUgdG9vbC4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBib29sZWFuIHJ1bihKREJDQ29uZmlndXJhdGlvbiBjb25mLCBTdHJp\nbmcgYWN0aW9uKQogICAgICAgIHRocm93cyBJT0V4Y2VwdGlvbiwgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICAvLyBydW4gdGhlIGFjdGlvbgogICAgICAgIFRh\nYmxlU2NoZW1hRmFjdG9yeSBmYWN0b3J5ID0gbmV3IFRhYmxlU2NoZW1hRmFj\ndG9yeSgpOwogICAgICAgIFN0cmluZyBwcm9wcyA9IENvbmZpZ3VyYXRpb25z\nLmdldFByb3BlcnRpZXMoY29uZi5nZXRTY2hlbWFGYWN0b3J5KCkpOwogICAg\nICAgIENvbmZpZ3VyYXRpb25zLmNvbmZpZ3VyZUluc3RhbmNlKGZhY3Rvcnks\nIGNvbmYsIHByb3BzKTsKCiAgICAgICAgaWYgKEFDVElPTl9EUk9QLmVxdWFs\ncyhhY3Rpb24pKQogICAgICAgICAgICBmYWN0b3J5LmRyb3BUYWJsZSgpOwog\nICAgICAgIGVsc2UgaWYgKEFDVElPTl9BREQuZXF1YWxzKGFjdGlvbikpCiAg\nICAgICAgICAgIGZhY3RvcnkucmVmcmVzaFRhYmxlKCk7CiAgICAgICAgZWxz\nZQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRy\ndWU7CiAgICB9Cn0K\n","encoding":"base64"}

