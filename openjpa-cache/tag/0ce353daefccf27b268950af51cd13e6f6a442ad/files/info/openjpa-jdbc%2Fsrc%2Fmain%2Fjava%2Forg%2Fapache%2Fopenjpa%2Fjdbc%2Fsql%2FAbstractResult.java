{"sha":"de4ce9da4dcdf83c77c41bfc57a5cfd6d9e1cfaa","node_id":"MDQ6QmxvYjIwNjM2NDpkZTRjZTlkYTRkY2RmODNjNzdjNDFiZmM1N2E1Y2ZkNmQ5ZTFjZmFh","size":25897,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/de4ce9da4dcdf83c77c41bfc57a5cfd6d9e1cfaa","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbDsKCmltcG9ydCBqYXZhLmlvLklucHV0U3RyZWFt\nOwppbXBvcnQgamF2YS5pby5SZWFkZXI7CmltcG9ydCBqYXZhLmlvLlN0cmlu\nZ1JlYWRlcjsKaW1wb3J0IGphdmEubWF0aC5CaWdEZWNpbWFsOwppbXBvcnQg\namF2YS5tYXRoLkJpZ0ludGVnZXI7CmltcG9ydCBqYXZhLnNxbC5BcnJheTsK\naW1wb3J0IGphdmEuc3FsLkJsb2I7CmltcG9ydCBqYXZhLnNxbC5DbG9iOwpp\nbXBvcnQgamF2YS5zcWwuUmVmOwppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0\naW9uOwppbXBvcnQgamF2YS5zcWwuVGltZTsKaW1wb3J0IGphdmEuc3FsLlRp\nbWVzdGFtcDsKaW1wb3J0IGphdmEudXRpbC5DYWxlbmRhcjsKaW1wb3J0IGph\ndmEudXRpbC5EYXRlOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9y\ndCBqYXZhLnV0aWwuSXRlcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuTG9jYWxl\nOwppbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5rZXJuZWwuSkRCQ0ZldGNoQ29uZmlndXJhdGlvbjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDU3RvcmU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuSkRCQ1N0\nb3JlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1l\ndGEuQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5GaWVsZE1hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5tZXRhLkphdmFTUUxUeXBlczsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW47CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5zY2hlbWEuRm9yZWlnbktleTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5UYWJsZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIudXRpbC5DbG9zZWFibGU7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubWV0YS5KYXZhVHlwZXM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEudXRpbC5VbnN1cHBvcnRlZEV4Y2VwdGlvbjsKaW1wb3J0\nIHNlcnAudXRpbC5TdHJpbmdzOwoKLyoqCiAqIEEge0BsaW5rIFJlc3VsdH0g\naW1wbGVtZW50YXRpb24gZGVzaWduZWQgdG8gYmUgc3ViY2xhc3NlZCBlYXNp\nbHkgYnkKICogaW1wbGVtZW50YXRpb25zLiBBbGwgPGNvZGU+Z2V0Jmx0O3R5\ncGUmZ3Q7PC9jb2RlPiBjYWxscyBhcmUgZGVsZWdhdGVkIHRvCiAqIHRoZSB7\nQGxpbmsgI2dldE9iamVjdEludGVybmFsKE9iamVjdCxpbnQsT2JqZWN0LEpv\naW5zKX0gbWV0aG9kLCB3aGljaAogKiBzaG91bGQgYmUgaW1wbGVtZW50ZWQg\nYnkgc3ViY2xhc3NlcyBhbG9uZyB3aXRoIHtAbGluayAjbmV4dEludGVybmFs\nfSwKICoge0BsaW5rICNjb250YWluc0ludGVybmFsfSwgYW5kIHtAbGluayBS\nZXN1bHQjc2l6ZX0uCiAqICBNb3N0IG9mIHRoZSBtZXRob2RzIG9mIHRoaXMg\nY2xhc3Mgd2lsbCBhY2NlcHQgcmV0dXJuIHZhbHVlcyBmcm9tCiAqIHtAbGlu\nayAjZ2V0T2JqZWN0SW50ZXJuYWwoT2JqZWN0LGludCxPYmplY3QsSm9pbnMp\nfSB0aGF0IGFyZSBub3QgZXhhY3RseQogKiB0aGUgcmlnaHQgdHlwZS4gRm9y\nIGV4YW1wbGUsIGFueSBudW1lcmljIHR5cGUgY2FuIGJlIHJldHVybmVkIGFz\nIGFueQogKiB7QGxpbmsgTnVtYmVyfSB0eXBlLCBhbmQgZGF0ZXMsIGxvY2Fs\nZXMsIGNoYXJhY3RlcnMsIGFuZCBib29sZWFucyBjYW4gYmUKICogcmV0dXJu\nZWQgYXMgc3RyaW5ncy4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQHNl\nZSBSZXN1bHRTZXRSZXN1bHQKICovCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBB\nYnN0cmFjdFJlc3VsdAogICAgaW1wbGVtZW50cyBSZXN1bHQgewoKICAgIHBy\naXZhdGUgc3RhdGljIGZpbmFsIEpvaW5zIEpPSU5TID0gbmV3IE5vT3BKb2lu\ncygpOwoKICAgIHByaXZhdGUgTWFwIF9lYWdlciA9IG51bGw7CiAgICBwcml2\nYXRlIENsYXNzTWFwcGluZyBfYmFzZSA9IG51bGw7CiAgICBwcml2YXRlIGlu\ndCBfaW5kZXggPSAwOwogICAgcHJpdmF0ZSBib29sZWFuIF9nb3RFYWdlciA9\nIGZhbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF93YXNOdWxsID0gZmFsc2U7\nCiAgICBwcml2YXRlIGJvb2xlYW4gX2xvY2tpbmcgPSBmYWxzZTsKICAgIHBy\naXZhdGUgYm9vbGVhbiBfaWdub3JlTmV4dCA9IGZhbHNlOwogICAgcHJpdmF0\nZSBib29sZWFuIF9sYXN0ID0gZmFsc2U7CgogICAgcHVibGljIE9iamVjdCBn\nZXRFYWdlcihGaWVsZE1hcHBpbmcga2V5KSB7CiAgICAgICAgTWFwIG1hcCA9\nIGdldEVhZ2VyTWFwKHRydWUpOwogICAgICAgIHJldHVybiAobWFwID09IG51\nbGwpID8gbnVsbCA6IG1hcC5nZXQoa2V5KTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBwdXRFYWdlcihGaWVsZE1hcHBpbmcga2V5LCBPYmplY3QgcmVzKSB7\nCiAgICAgICAgTWFwIG1hcCA9IGdldEVhZ2VyTWFwKGZhbHNlKTsKICAgICAg\nICBpZiAobWFwID09IG51bGwpIHsKICAgICAgICAgICAgbWFwID0gbmV3IEhh\nc2hNYXAoKTsKICAgICAgICAgICAgc2V0RWFnZXJNYXAobWFwKTsKICAgICAg\nICB9CiAgICAgICAgbWFwLnB1dChrZXksIHJlcyk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSYXcgZWFnZXIgaW5mb3JtYXRpb24uIE1heSBiZSBudWxsLgog\nICAgICoKICAgICAqIEBwYXJhbSBjbGllbnQgd2hldGhlciB0aGUgY2xpZW50\nIGlzIGFjY2Vzc2luZyBlYWdlciBpbmZvcm1hdGlvbgogICAgICovCiAgICBw\ncm90ZWN0ZWQgTWFwIGdldEVhZ2VyTWFwKGJvb2xlYW4gY2xpZW50KSB7CiAg\nICAgICAgaWYgKGNsaWVudCkKICAgICAgICAgICAgX2dvdEVhZ2VyID0gdHJ1\nZTsKICAgICAgICByZXR1cm4gX2VhZ2VyOwogICAgfQoKICAgIC8qKgogICAg\nICogUmF3IGVhZ2VyIGluZm9ybWF0aW9uLgogICAgICovCiAgICBwcm90ZWN0\nZWQgdm9pZCBzZXRFYWdlck1hcChNYXAgZWFnZXIpIHsKICAgICAgICBfZWFn\nZXIgPSBlYWdlcjsKICAgIH0KCiAgICAvKioKICAgICAqIENsb3NlcyBhbGwg\nZWFnZXIgcmVzdWx0cy4KICAgICAqLwogICAgcHVibGljIHZvaWQgY2xvc2Uo\nKSB7CiAgICAgICAgY2xvc2VFYWdlck1hcChfZWFnZXIpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ2xvc2UgYWxsIHJlc3VsdHMgaW4gZWFnZXIgbWFwLgog\nICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBjbG9zZUVhZ2VyTWFwKE1hcCBl\nYWdlcikgewogICAgICAgIGlmIChlYWdlciAhPSBudWxsKSB7CiAgICAgICAg\nICAgIE9iamVjdCByZXM7CiAgICAgICAgICAgIGZvciAoSXRlcmF0b3IgaXRy\nID0gZWFnZXIudmFsdWVzKCkuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTsp\nIHsKICAgICAgICAgICAgICAgIHJlcyA9IGl0ci5uZXh0KCk7CiAgICAgICAg\nICAgICAgICBpZiAocmVzICE9IHRoaXMgJiYgcmVzIGluc3RhbmNlb2YgQ2xv\nc2VhYmxlKQogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAg\nICAgICAgICAgICAgICgoQ2xvc2VhYmxlKSByZXMpLmNsb3NlKCk7CiAgICAg\nICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9\nCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGZhbHNlIGJ5IGRlZmF1bHQuCiAg\nICAgKi8KICAgIHB1YmxpYyBib29sZWFuIHN1cHBvcnRzUmFuZG9tQWNjZXNz\nKCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gYWJzb2x1dGUo\naW50IHJvdykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICBfZ290RWFnZXIgPSBmYWxzZTsKICAgICAgICByZXR1cm4gYWJzb2x1dGVJ\nbnRlcm5hbChyb3cpOwogICAgfQoKICAgIC8qKgogICAgICogVGhyb3dzIGFu\nIGV4Y2VwdGlvbiBieSBkZWZhdWx0LgogICAgICovCiAgICBwcm90ZWN0ZWQg\nYm9vbGVhbiBhYnNvbHV0ZUludGVybmFsKGludCByb3cpCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gbmV4\ndCgpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX2dv\ndEVhZ2VyID0gZmFsc2U7CiAgICAgICAgaWYgKF9pZ25vcmVOZXh0KSB7CiAg\nICAgICAgICAgIF9pZ25vcmVOZXh0ID0gZmFsc2U7CiAgICAgICAgICAgIHJl\ndHVybiBfbGFzdDsKICAgICAgICB9CiAgICAgICAgX2xhc3QgPSBuZXh0SW50\nZXJuYWwoKTsKICAgICAgICByZXR1cm4gX2xhc3Q7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBBZHZhbmNlIHRoaXMgcm93LgogICAgICovCiAgICBwcm90ZWN0\nZWQgYWJzdHJhY3QgYm9vbGVhbiBuZXh0SW50ZXJuYWwoKQogICAgICAgIHRo\ncm93cyBTUUxFeGNlcHRpb247CgogICAgcHVibGljIHZvaWQgcHVzaEJhY2so\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9pZ25v\ncmVOZXh0ID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMg\nYSBuby1vcCBqb2lucyBvYmplY3QgYnkgZGVmYXVsdC4KICAgICAqLwogICAg\ncHVibGljIEpvaW5zIG5ld0pvaW5zKCkgewogICAgICAgIHJldHVybiBKT0lO\nUzsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBjb250YWlucyhPYmplY3Qg\nb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBjb250YWluc0ludGVybmFsKG9iaiwgbnVsbCk7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gY29udGFpbnNBbGwoT2JqZWN0W10gb2JqcykKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gY29u\ndGFpbnNBbGxJbnRlcm5hbChvYmpzLCBudWxsKTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBjb250YWlucyhDb2x1bW4gY29sLCBKb2lucyBqb2lucykK\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nY29udGFpbnNJbnRlcm5hbChjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBjb250YWluc0FsbChDb2x1bW5bXSBjb2xzLCBKb2lucyBq\nb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gY29udGFpbnNBbGxJbnRlcm5hbChjb2xzLCBqb2lucyk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIHJlc3VsdCBj\nb250YWlucyBkYXRhIGZvciB0aGUgZ2l2ZW4gaWQgb3IgY29sdW1uLgogICAg\nICogVGhlIGlkIG9yIGNvbHVtbiBoYXMgbm90IGJlZWQgcGFzc2VkIHRocm91\nZ2gge0BsaW5rICN0cmFuc2xhdGV9LgogICAgICovCiAgICBwcm90ZWN0ZWQg\nYWJzdHJhY3QgYm9vbGVhbiBjb250YWluc0ludGVybmFsKE9iamVjdCBvYmos\nIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb247Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIHJlc3VsdCBjb250\nYWlucyBkYXRhIGZvciBhbGwgdGhlIGdpdmVuIGlkcyBvcgogICAgICogY29s\ndW1ucy4gVGhlIGlkcyBvciBjb2x1bW5zIGhhdmUgbm90IGJlZW4gcGFzc2Vk\nIHRocm91Z2gKICAgICAqIHtAbGluayAjdHJhbnNsYXRlfS4gRGVsZWdhdGVz\nIHRvIHtAbGluayAjY29udGFpbnNJbnRlcm5hbH0gYnkgZGVmYXVsdC4KICAg\nICAqLwogICAgcHJvdGVjdGVkIGJvb2xlYW4gY29udGFpbnNBbGxJbnRlcm5h\nbChPYmplY3RbXSBvYmpzLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG9i\nanMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGlmICghY29udGFpbnNJbnRl\ncm5hbChvYmpzW2ldLCBqb2lucykpCiAgICAgICAgICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcHVibGlj\nIENsYXNzTWFwcGluZyBnZXRCYXNlTWFwcGluZygpIHsKICAgICAgICAvLyBp\nZiB3ZSd2ZSByZXR1cm5lZCBhbiBlYWdlciByZXN1bHQgdGhpcyBjYWxsIG1p\nZ2h0IGJlIGZvciB0aGF0IGVhZ2VyCiAgICAgICAgLy8gcmVzdWx0IGluc3Rl\nYWQgb2Ygb3VyIHByaW1hcnkgbWFwcGluZywgc28gcmV0dXJuIG51bGwKICAg\nICAgICByZXR1cm4gKF9nb3RFYWdlcikgPyBudWxsIDogX2Jhc2U7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0QmFzZU1hcHBpbmcoQ2xhc3NNYXBwaW5n\nIGJhc2UpIHsKICAgICAgICBfYmFzZSA9IGJhc2U7CiAgICB9CgogICAgcHVi\nbGljIGludCBpbmRleE9mKCkgewogICAgICAgIHJldHVybiBfaW5kZXg7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0SW5kZXhPZihpbnQgaWR4KSB7CiAg\nICAgICAgX2luZGV4ID0gaWR4OwogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nbG9hZChDbGFzc01hcHBpbmcgbWFwcGluZywgSkRCQ1N0b3JlIHN0b3JlLAog\nICAgICAgIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGxvYWQobWFw\ncGluZywgc3RvcmUsIGZldGNoLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMg\nT2JqZWN0IGxvYWQoQ2xhc3NNYXBwaW5nIG1hcHBpbmcsIEpEQkNTdG9yZSBz\ndG9yZSwKICAgICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gKChKREJDU3RvcmVNYW5hZ2VyKSBzdG9yZSkubG9hZCht\nYXBwaW5nLCBmZXRjaCwgbnVsbCwgdGhpcyk7CiAgICB9CgogICAgcHVibGlj\nIEFycmF5IGdldEFycmF5KE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldEFycmF5SW50ZXJuYWwo\ndHJhbnNsYXRlKG9iaiwgbnVsbCksIG51bGwpOwogICAgfQoKICAgIHB1Ymxp\nYyBBcnJheSBnZXRBcnJheShDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gZ2V0\nQXJyYXlJbnRlcm5hbCh0cmFuc2xhdGUoY29sLCBqb2lucyksIGpvaW5zKTsK\nICAgIH0KCiAgICBwcm90ZWN0ZWQgQXJyYXkgZ2V0QXJyYXlJbnRlcm5hbChP\nYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gKEFycmF5KSBjaGVja051bGwoZ2V0\nT2JqZWN0SW50ZXJuYWwob2JqLAogICAgICAgICAgICBKYXZhU1FMVHlwZXMu\nU1FMX0FSUkFZLCBudWxsLCBqb2lucykpOwogICAgfQoKICAgIHB1YmxpYyBJ\nbnB1dFN0cmVhbSBnZXRBc2NpaVN0cmVhbShPYmplY3Qgb2JqKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBnZXRBc2Np\naVN0cmVhbUludGVybmFsKHRyYW5zbGF0ZShvYmosIG51bGwpLCBudWxsKTsK\nICAgIH0KCiAgICBwdWJsaWMgSW5wdXRTdHJlYW0gZ2V0QXNjaWlTdHJlYW0o\nQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldEFzY2lpU3RyZWFtSW50ZXJu\nYWwodHJhbnNsYXRlKGNvbCwgam9pbnMpLCBqb2lucyk7CiAgICB9CgogICAg\ncHJvdGVjdGVkIElucHV0U3RyZWFtIGdldEFzY2lpU3RyZWFtSW50ZXJuYWwo\nT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIChJbnB1dFN0cmVhbSkgY2hlY2tO\ndWxsKGdldE9iamVjdEludGVybmFsKG9iaiwKICAgICAgICAgICAgSmF2YVNR\nTFR5cGVzLkFTQ0lJX1NUUkVBTSwgbnVsbCwgam9pbnMpKTsKICAgIH0KCiAg\nICBwdWJsaWMgQmlnRGVjaW1hbCBnZXRCaWdEZWNpbWFsKE9iamVjdCBvYmop\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIGdldEJpZ0RlY2ltYWxJbnRlcm5hbCh0cmFuc2xhdGUob2JqLCBudWxsKSwg\nbnVsbCk7CiAgICB9CgogICAgcHVibGljIEJpZ0RlY2ltYWwgZ2V0QmlnRGVj\naW1hbChDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gZ2V0QmlnRGVjaW1hbElu\ndGVybmFsKHRyYW5zbGF0ZShjb2wsIGpvaW5zKSwgam9pbnMpOwogICAgfQoK\nICAgIHByb3RlY3RlZCBCaWdEZWNpbWFsIGdldEJpZ0RlY2ltYWxJbnRlcm5h\nbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICBPYmplY3QgdmFsID0gY2hlY2tOdWxsKGdl\ndE9iamVjdEludGVybmFsKG9iaiwKICAgICAgICAgICAgSmF2YVR5cGVzLkJJ\nR0RFQ0lNQUwsIG51bGwsIGpvaW5zKSk7CiAgICAgICAgaWYgKHZhbCA9PSBu\ndWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBpZiAodmFs\nIGluc3RhbmNlb2YgQmlnRGVjaW1hbCkKICAgICAgICAgICAgcmV0dXJuIChC\naWdEZWNpbWFsKSB2YWw7CiAgICAgICAgcmV0dXJuIG5ldyBCaWdEZWNpbWFs\nKHZhbC50b1N0cmluZygpKTsKICAgIH0KCiAgICBwdWJsaWMgQmlnSW50ZWdl\nciBnZXRCaWdJbnRlZ2VyKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldEJpZ0ludGVnZXJJbnRl\ncm5hbCh0cmFuc2xhdGUob2JqLCBudWxsKSwgbnVsbCk7CiAgICB9CgogICAg\ncHVibGljIEJpZ0ludGVnZXIgZ2V0QmlnSW50ZWdlcihDb2x1bW4gY29sLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gZ2V0QmlnSW50ZWdlckludGVybmFsKHRyYW5zbGF0ZShj\nb2wsIGpvaW5zKSwgam9pbnMpOwogICAgfQoKICAgIHByb3RlY3RlZCBCaWdJ\nbnRlZ2VyIGdldEJpZ0ludGVnZXJJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lu\ncyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICBPYmplY3QgdmFsID0gY2hlY2tOdWxsKGdldE9iamVjdEludGVybmFsKG9i\naiwKICAgICAgICAgICAgSmF2YVR5cGVzLkJJR0lOVEVHRVIsIG51bGwsIGpv\naW5zKSk7CiAgICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAgICAgICBy\nZXR1cm4gbnVsbDsKICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgQmlnSW50\nZWdlcikKICAgICAgICAgICAgcmV0dXJuIChCaWdJbnRlZ2VyKSB2YWw7CiAg\nICAgICAgcmV0dXJuIG5ldyBCaWdJbnRlZ2VyKHZhbC50b1N0cmluZygpKTsK\nICAgIH0KCiAgICBwdWJsaWMgSW5wdXRTdHJlYW0gZ2V0QmluYXJ5U3RyZWFt\nKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIGdldEJpbmFyeVN0cmVhbUludGVybmFsKHRyYW5zbGF0\nZShvYmosIG51bGwpLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgSW5wdXRT\ndHJlYW0gZ2V0QmluYXJ5U3RyZWFtKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5z\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBnZXRCaW5hcnlTdHJlYW1JbnRlcm5hbCh0cmFuc2xhdGUoY29sLCBqb2lu\ncyksIGpvaW5zKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgSW5wdXRTdHJlYW0g\nZ2V0QmluYXJ5U3RyZWFtSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9p\nbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIChJbnB1dFN0cmVhbSkgY2hlY2tOdWxsKGdldE9iamVjdEludGVybmFs\nKG9iaiwKICAgICAgICAgICAgSmF2YVNRTFR5cGVzLkJJTkFSWV9TVFJFQU0s\nIG51bGwsIGpvaW5zKSk7CiAgICB9CgogICAgcHVibGljIEJsb2IgZ2V0Qmxv\nYihPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBnZXRCbG9iSW50ZXJuYWwodHJhbnNsYXRlKG9iaiwg\nbnVsbCksIG51bGwpOwogICAgfQoKICAgIHB1YmxpYyBCbG9iIGdldEJsb2Io\nQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldEJsb2JJbnRlcm5hbCh0cmFu\nc2xhdGUoY29sLCBqb2lucyksIGpvaW5zKTsKICAgIH0KCiAgICBwcm90ZWN0\nZWQgQmxvYiBnZXRCbG9iSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9p\nbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIChCbG9iKSBjaGVja051bGwoZ2V0T2JqZWN0SW50ZXJuYWwob2JqLCBK\nYXZhU1FMVHlwZXMuQkxPQiwKICAgICAgICAgICAgbnVsbCwgam9pbnMpKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRCb29sZWFuKE9iamVjdCBv\nYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIGdldEJvb2xlYW5JbnRlcm5hbCh0cmFuc2xhdGUob2JqLCBudWxsKSwg\nbnVsbCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZ2V0Qm9vbGVhbihD\nb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbkludGVybmFsKHRy\nYW5zbGF0ZShjb2wsIGpvaW5zKSwgam9pbnMpOwogICAgfQoKICAgIHByb3Rl\nY3RlZCBib29sZWFuIGdldEJvb2xlYW5JbnRlcm5hbChPYmplY3Qgb2JqLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICBPYmplY3QgdmFsID0gY2hlY2tOdWxsKGdldE9iamVjdEludGVybmFs\nKG9iaiwgSmF2YVR5cGVzLkJPT0xFQU4sCiAgICAgICAgICAgIG51bGwsIGpv\naW5zKSk7CiAgICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAgICAgICBy\nZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIEJvb2xlYW4udmFsdWVPZih2\nYWwudG9TdHJpbmcoKSkuYm9vbGVhblZhbHVlKCk7CiAgICB9CgogICAgcHVi\nbGljIGJ5dGUgZ2V0Qnl0ZShPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBnZXRCeXRlSW50ZXJuYWwo\ndHJhbnNsYXRlKG9iaiwgbnVsbCksIG51bGwpOwogICAgfQoKICAgIHB1Ymxp\nYyBieXRlIGdldEJ5dGUoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldEJ5\ndGVJbnRlcm5hbCh0cmFuc2xhdGUoY29sLCBqb2lucyksIGpvaW5zKTsKICAg\nIH0KCiAgICBwcm90ZWN0ZWQgYnl0ZSBnZXRCeXRlSW50ZXJuYWwoT2JqZWN0\nIG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgTnVtYmVyIHZhbCA9IChOdW1iZXIpIGNoZWNrTnVsbChn\nZXRPYmplY3RJbnRlcm5hbChvYmosCiAgICAgICAgICAgIEphdmFUeXBlcy5C\nWVRFLCBudWxsLCBqb2lucykpOwogICAgICAgIHJldHVybiAodmFsID09IG51\nbGwpID8gMCA6IHZhbC5ieXRlVmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMg\nYnl0ZVtdIGdldEJ5dGVzKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldEJ5dGVzSW50ZXJuYWwo\ndHJhbnNsYXRlKG9iaiwgbnVsbCksIG51bGwpOwogICAgfQoKICAgIHB1Ymxp\nYyBieXRlW10gZ2V0Qnl0ZXMoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdl\ndEJ5dGVzSW50ZXJuYWwodHJhbnNsYXRlKGNvbCwgam9pbnMpLCBqb2lucyk7\nCiAgICB9CgogICAgcHJvdGVjdGVkIGJ5dGVbXSBnZXRCeXRlc0ludGVybmFs\nKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiAoYnl0ZVtdKSBjaGVja051bGwo\nZ2V0T2JqZWN0SW50ZXJuYWwob2JqLAogICAgICAgICAgICBKYXZhU1FMVHlw\nZXMuQllURVMsIG51bGwsIGpvaW5zKSk7CiAgICB9CgogICAgcHVibGljIENh\nbGVuZGFyIGdldENhbGVuZGFyKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldENhbGVuZGFySW50\nZXJuYWwodHJhbnNsYXRlKG9iaiwgbnVsbCksIG51bGwpOwogICAgfQoKICAg\nIHB1YmxpYyBDYWxlbmRhciBnZXRDYWxlbmRhcihDb2x1bW4gY29sLCBKb2lu\ncyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gZ2V0Q2FsZW5kYXJJbnRlcm5hbCh0cmFuc2xhdGUoY29sLCBq\nb2lucyksIGpvaW5zKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgQ2FsZW5kYXIg\nZ2V0Q2FsZW5kYXJJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykK\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBPYmplY3Qg\ndmFsID0gY2hlY2tOdWxsKGdldE9iamVjdEludGVybmFsKG9iaiwgSmF2YVR5\ncGVzLkNBTEVOREFSLAogICAgICAgICAgICBudWxsLCBqb2lucykpOwogICAg\nICAgIGlmICh2YWwgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7\nCiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIENhbGVuZGFyKQogICAgICAg\nICAgICByZXR1cm4gKENhbGVuZGFyKSB2YWw7CgogICAgICAgIENhbGVuZGFy\nIGNhbCA9IENhbGVuZGFyLmdldEluc3RhbmNlKCk7CiAgICAgICAgY2FsLnNl\ndFRpbWUobmV3IERhdGUodmFsLnRvU3RyaW5nKCkpKTsKICAgICAgICByZXR1\ncm4gY2FsOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIGdldENoYXIoT2JqZWN0\nIG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gZ2V0Q2hhckludGVybmFsKHRyYW5zbGF0ZShvYmosIG51bGwpLCBu\ndWxsKTsKICAgIH0KCiAgICBwdWJsaWMgY2hhciBnZXRDaGFyKENvbHVtbiBj\nb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBnZXRDaGFySW50ZXJuYWwodHJhbnNsYXRlKGNv\nbCwgam9pbnMpLCBqb2lucyk7CiAgICB9CgogICAgcHJvdGVjdGVkIGNoYXIg\nZ2V0Q2hhckludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIE9iamVjdCB2YWwg\nPSBjaGVja051bGwoZ2V0T2JqZWN0SW50ZXJuYWwob2JqLCBKYXZhVHlwZXMu\nQ0hBUiwKICAgICAgICAgICAgbnVsbCwgam9pbnMpKTsKICAgICAgICBpZiAo\ndmFsID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIGlm\nICh2YWwgaW5zdGFuY2VvZiBDaGFyYWN0ZXIpCiAgICAgICAgICAgIHJldHVy\nbiAoKENoYXJhY3RlcikgdmFsKS5jaGFyVmFsdWUoKTsKCiAgICAgICAgU3Ry\naW5nIHN0ciA9IHZhbC50b1N0cmluZygpOwogICAgICAgIHJldHVybiAoc3Ry\nLmxlbmd0aCgpID09IDApID8gMCA6IHN0ci5jaGFyQXQoMCk7CiAgICB9Cgog\nICAgcHVibGljIFJlYWRlciBnZXRDaGFyYWN0ZXJTdHJlYW0oT2JqZWN0IG9i\naikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gZ2V0Q2hhcmFjdGVyU3RyZWFtSW50ZXJuYWwodHJhbnNsYXRlKG9iaiwg\nbnVsbCksIG51bGwpOwogICAgfQoKICAgIHB1YmxpYyBSZWFkZXIgZ2V0Q2hh\ncmFjdGVyU3RyZWFtKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBnZXRDaGFy\nYWN0ZXJTdHJlYW1JbnRlcm5hbCh0cmFuc2xhdGUoY29sLCBqb2lucyksIGpv\naW5zKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgUmVhZGVyIGdldENoYXJhY3Rl\nclN0cmVhbUludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIE9iamVjdCB2YWwg\nPSBjaGVja051bGwoZ2V0T2JqZWN0SW50ZXJuYWwob2JqLAogICAgICAgICAg\nICBKYXZhU1FMVHlwZXMuQ0hBUl9TVFJFQU0sIG51bGwsIGpvaW5zKSk7CiAg\nICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVs\nbDsKICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgUmVhZGVyKQogICAgICAg\nICAgICByZXR1cm4gKFJlYWRlcikgdmFsOwogICAgICAgIHJldHVybiBuZXcg\nU3RyaW5nUmVhZGVyKHZhbC50b1N0cmluZygpKTsKICAgIH0KCiAgICBwdWJs\naWMgQ2xvYiBnZXRDbG9iKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldENsb2JJbnRlcm5hbCh0\ncmFuc2xhdGUob2JqLCBudWxsKSwgbnVsbCk7CiAgICB9CgogICAgcHVibGlj\nIENsb2IgZ2V0Q2xvYihDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gZ2V0Q2xv\nYkludGVybmFsKHRyYW5zbGF0ZShjb2wsIGpvaW5zKSwgam9pbnMpOwogICAg\nfQoKICAgIHByb3RlY3RlZCBDbG9iIGdldENsb2JJbnRlcm5hbChPYmplY3Qg\nb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICByZXR1cm4gKENsb2IpIGNoZWNrTnVsbChnZXRPYmplY3RJ\nbnRlcm5hbChvYmosIEphdmFTUUxUeXBlcy5DTE9CLAogICAgICAgICAgICBu\ndWxsLCBqb2lucykpOwogICAgfQoKICAgIHB1YmxpYyBEYXRlIGdldERhdGUo\nT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gZ2V0RGF0ZUludGVybmFsKHRyYW5zbGF0ZShvYmosIG51\nbGwpLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgRGF0ZSBnZXREYXRlKENv\nbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBnZXREYXRlSW50ZXJuYWwodHJhbnNs\nYXRlKGNvbCwgam9pbnMpLCBqb2lucyk7CiAgICB9CgogICAgcHJvdGVjdGVk\nIERhdGUgZ2V0RGF0ZUludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5z\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIE9iamVj\ndCB2YWwgPSBjaGVja051bGwoZ2V0T2JqZWN0SW50ZXJuYWwob2JqLCBKYXZh\nVHlwZXMuREFURSwKICAgICAgICAgICAgbnVsbCwgam9pbnMpKTsKICAgICAg\nICBpZiAodmFsID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwog\nICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBEYXRlKQogICAgICAgICAgICBy\nZXR1cm4gKERhdGUpIHZhbDsKICAgICAgICByZXR1cm4gbmV3IERhdGUodmFs\nLnRvU3RyaW5nKCkpOwogICAgfQoKICAgIHB1YmxpYyBqYXZhLnNxbC5EYXRl\nIGdldERhdGUoT2JqZWN0IG9iaiwgQ2FsZW5kYXIgY2FsKQogICAgICAgIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBnZXREYXRlSW50\nZXJuYWwodHJhbnNsYXRlKG9iaiwgbnVsbCksIGNhbCwgbnVsbCk7CiAgICB9\nCgogICAgcHVibGljIGphdmEuc3FsLkRhdGUgZ2V0RGF0ZShDb2x1bW4gY29s\nLCBDYWxlbmRhciBjYWwsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBnZXREYXRlSW50ZXJuYWwo\ndHJhbnNsYXRlKGNvbCwgam9pbnMpLCBjYWwsIGpvaW5zKTsKICAgIH0KCiAg\nICBwcm90ZWN0ZWQgamF2YS5zcWwuRGF0ZSBnZXREYXRlSW50ZXJuYWwoT2Jq\nZWN0IG9iaiwgQ2FsZW5kYXIgY2FsLAogICAgICAgIEpvaW5zIGpvaW5zKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiAo\namF2YS5zcWwuRGF0ZSkgY2hlY2tOdWxsKGdldE9iamVjdEludGVybmFsKG9i\naiwKICAgICAgICAgICAgSmF2YVNRTFR5cGVzLlNRTF9EQVRFLCBjYWwsIGpv\naW5zKSk7CiAgICB9CgogICAgcHVibGljIGRvdWJsZSBnZXREb3VibGUoT2Jq\nZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gZ2V0RG91YmxlSW50ZXJuYWwodHJhbnNsYXRlKG9iaiwgbnVs\nbCksIG51bGwpOwogICAgfQoKICAgIHB1YmxpYyBkb3VibGUgZ2V0RG91Ymxl\nKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBnZXREb3VibGVJbnRlcm5hbCh0\ncmFuc2xhdGUoY29sLCBqb2lucyksIGpvaW5zKTsKICAgIH0KCiAgICBwcm90\nZWN0ZWQgZG91YmxlIGdldERvdWJsZUludGVybmFsKE9iamVjdCBvYmosIEpv\naW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIE51bWJlciB2YWwgPSAoTnVtYmVyKSBjaGVja051bGwoZ2V0T2JqZWN0\nSW50ZXJuYWwob2JqLAogICAgICAgICAgICBKYXZhVHlwZXMuRE9VQkxFLCBu\ndWxsLCBqb2lucykpOwogICAgICAgIHJldHVybiAodmFsID09IG51bGwpID8g\nMCA6IHZhbC5kb3VibGVWYWx1ZSgpOwogICAgfQoKICAgIHB1YmxpYyBmbG9h\ndCBnZXRGbG9hdChPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBnZXRGbG9hdEludGVybmFsKHRyYW5z\nbGF0ZShvYmosIG51bGwpLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgZmxv\nYXQgZ2V0RmxvYXQoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldEZsb2F0\nSW50ZXJuYWwodHJhbnNsYXRlKGNvbCwgam9pbnMpLCBqb2lucyk7CiAgICB9\nCgogICAgcHJvdGVjdGVkIGZsb2F0IGdldEZsb2F0SW50ZXJuYWwoT2JqZWN0\nIG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgTnVtYmVyIHZhbCA9IChOdW1iZXIpIGNoZWNrTnVsbChn\nZXRPYmplY3RJbnRlcm5hbChvYmosCiAgICAgICAgICAgIEphdmFUeXBlcy5G\nTE9BVCwgbnVsbCwgam9pbnMpKTsKICAgICAgICByZXR1cm4gKHZhbCA9PSBu\ndWxsKSA/IDAgOiB2YWwuZmxvYXRWYWx1ZSgpOwogICAgfQoKICAgIHB1Ymxp\nYyBpbnQgZ2V0SW50KE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldEludEludGVybmFsKHRyYW5z\nbGF0ZShvYmosIG51bGwpLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgaW50\nIGdldEludChDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gZ2V0SW50SW50ZXJu\nYWwodHJhbnNsYXRlKGNvbCwgam9pbnMpLCBqb2lucyk7CiAgICB9CgogICAg\ncHJvdGVjdGVkIGludCBnZXRJbnRJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lu\ncyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICBOdW1iZXIgdmFsID0gKE51bWJlcikgY2hlY2tOdWxsKGdldE9iamVjdElu\ndGVybmFsKG9iaiwKICAgICAgICAgICAgSmF2YVR5cGVzLklOVCwgbnVsbCwg\nam9pbnMpKTsKICAgICAgICByZXR1cm4gKHZhbCA9PSBudWxsKSA/IDAgOiB2\nYWwuaW50VmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgTG9jYWxlIGdldExv\nY2FsZShPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBnZXRMb2NhbGVJbnRlcm5hbCh0cmFuc2xhdGUo\nb2JqLCBudWxsKSwgbnVsbCk7CiAgICB9CgogICAgcHVibGljIExvY2FsZSBn\nZXRMb2NhbGUoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldExvY2FsZUlu\ndGVybmFsKHRyYW5zbGF0ZShjb2wsIGpvaW5zKSwgam9pbnMpOwogICAgfQoK\nICAgIHByb3RlY3RlZCBMb2NhbGUgZ2V0TG9jYWxlSW50ZXJuYWwoT2JqZWN0\nIG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgT2JqZWN0IHZhbCA9IGNoZWNrTnVsbChnZXRPYmplY3RJ\nbnRlcm5hbChvYmosIEphdmFUeXBlcy5MT0NBTEUsCiAgICAgICAgICAgIG51\nbGwsIGpvaW5zKSk7CiAgICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAg\nICAgICByZXR1cm4gbnVsbDsKICAgICAgICBpZiAodmFsIGluc3RhbmNlb2Yg\nTG9jYWxlKQogICAgICAgICAgICByZXR1cm4gKExvY2FsZSkgdmFsOwogICAg\nICAgIFN0cmluZ1tdIHZhbHMgPSBTdHJpbmdzLnNwbGl0KHZhbC50b1N0cmlu\nZygpLCAiXyIsIDApOwogICAgICAgIGlmICh2YWxzLmxlbmd0aCA8IDIpCiAg\nICAgICAgICAgIHRocm93IG5ldyBTUUxFeGNlcHRpb24odmFsLnRvU3RyaW5n\nKCkpOwogICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PSAyKQogICAgICAgICAg\nICByZXR1cm4gbmV3IExvY2FsZSh2YWxzWzBdLCB2YWxzWzFdKTsKICAgICAg\nICByZXR1cm4gbmV3IExvY2FsZSh2YWxzWzBdLCB2YWxzWzFdLCB2YWxzWzJd\nKTsKICAgIH0KCiAgICBwdWJsaWMgbG9uZyBnZXRMb25nKE9iamVjdCBvYmop\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIGdldExvbmdJbnRlcm5hbCh0cmFuc2xhdGUob2JqLCBudWxsKSwgbnVsbCk7\nCiAgICB9CgogICAgcHVibGljIGxvbmcgZ2V0TG9uZyhDb2x1bW4gY29sLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gZ2V0TG9uZ0ludGVybmFsKHRyYW5zbGF0ZShjb2wsIGpv\naW5zKSwgam9pbnMpOwogICAgfQoKICAgIHByb3RlY3RlZCBsb25nIGdldExv\nbmdJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBOdW1iZXIgdmFsID0gKE51\nbWJlcikgY2hlY2tOdWxsKGdldE9iamVjdEludGVybmFsKG9iaiwKICAgICAg\nICAgICAgSmF2YVR5cGVzLklOVCwgbnVsbCwgam9pbnMpKTsKICAgICAgICBy\nZXR1cm4gKHZhbCA9PSBudWxsKSA/IDAgOiB2YWwuaW50VmFsdWUoKTsKICAg\nIH0KCiAgICBwdWJsaWMgTnVtYmVyIGdldE51bWJlcihPYmplY3Qgb2JqKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBn\nZXROdW1iZXJJbnRlcm5hbCh0cmFuc2xhdGUob2JqLCBudWxsKSwgbnVsbCk7\nCiAgICB9CgogICAgcHVibGljIE51bWJlciBnZXROdW1iZXIoQ29sdW1uIGNv\nbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIGdldE51bWJlckludGVybmFsKHRyYW5zbGF0ZShj\nb2wsIGpvaW5zKSwgam9pbnMpOwogICAgfQoKICAgIHByb3RlY3RlZCBOdW1i\nZXIgZ2V0TnVtYmVySW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMp\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgT2JqZWN0\nIHZhbCA9IGNoZWNrTnVsbChnZXRPYmplY3RJbnRlcm5hbChvYmosCiAgICAg\nICAgICAgIEphdmFUeXBlcy5OVU1CRVIsIG51bGwsIGpvaW5zKSk7CiAgICAg\nICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsK\nICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgTnVtYmVyKQogICAgICAgICAg\nICByZXR1cm4gKE51bWJlcikgdmFsOwogICAgICAgIHJldHVybiBuZXcgQmln\nRGVjaW1hbCh2YWwudG9TdHJpbmcoKSk7CiAgICB9CgogICAgcHVibGljIE9i\namVjdCBnZXRPYmplY3QoT2JqZWN0IG9iaiwgaW50IG1ldGFUeXBlLCBPYmpl\nY3QgYXJnKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBnZXRPYmplY3RJbnRlcm5hbCh0cmFuc2xhdGUob2JqLCBudWxs\nKSwgbWV0YVR5cGUsIGFyZywgbnVsbCk7CiAgICB9CgogICAgcHVibGljIE9i\namVjdCBnZXRPYmplY3QoQ29sdW1uIGNvbCwgT2JqZWN0IGFyZywgSm9pbnMg\nam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIGdldE9iamVjdEludGVybmFsKHRyYW5zbGF0ZShjb2wsIGpvaW5z\nKSwgY29sLmdldEphdmFUeXBlKCksCiAgICAgICAgICAgIGFyZywgam9pbnMp\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSB2YWx1ZSBzdG9y\nZWQgaW4gdGhlIGdpdmVuIGlkIG9yIGNvbHVtbi4KICAgICAqLwogICAgcHJv\ndGVjdGVkIGFic3RyYWN0IE9iamVjdCBnZXRPYmplY3RJbnRlcm5hbChPYmpl\nY3Qgb2JqLCBpbnQgbWV0YVR5cGUsCiAgICAgICAgT2JqZWN0IGFyZywgSm9p\nbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbjsKCiAgICBw\ndWJsaWMgT2JqZWN0IGdldFNRTE9iamVjdChPYmplY3Qgb2JqLCBNYXAgbWFw\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBnZXRTUUxPYmplY3RJbnRlcm5hbCh0cmFuc2xhdGUob2JqLCBudWxsKSwg\nbWFwLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldFNRTE9i\namVjdChDb2x1bW4gY29sLCBNYXAgbWFwLCBKb2lucyBqb2lucykKICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gZ2V0U1FM\nT2JqZWN0SW50ZXJuYWwodHJhbnNsYXRlKGNvbCwgam9pbnMpLCBtYXAsIGpv\naW5zKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgT2JqZWN0IGdldFNRTE9iamVj\ndEludGVybmFsKE9iamVjdCBvYmosIE1hcCBtYXAsIEpvaW5zIGpvaW5zKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBj\naGVja051bGwoZ2V0T2JqZWN0SW50ZXJuYWwob2JqLCBKYXZhU1FMVHlwZXMu\nU1FMX09CSkVDVCwKICAgICAgICAgICAgbWFwLCBqb2lucykpOwogICAgfQoK\nICAgIHB1YmxpYyBSZWYgZ2V0UmVmKE9iamVjdCBvYmosIE1hcCBtYXApCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdl\ndFJlZkludGVybmFsKHRyYW5zbGF0ZShvYmosIG51bGwpLCBtYXAsIG51bGwp\nOwogICAgfQoKICAgIHB1YmxpYyBSZWYgZ2V0UmVmKENvbHVtbiBjb2wsIE1h\ncCBtYXAsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBnZXRSZWZJbnRlcm5hbCh0cmFuc2xhdGUo\nY29sLCBqb2lucyksIG1hcCwgam9pbnMpOwogICAgfQoKICAgIHByb3RlY3Rl\nZCBSZWYgZ2V0UmVmSW50ZXJuYWwoT2JqZWN0IG9iaiwgTWFwIG1hcCwgSm9p\nbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIChSZWYpIGNoZWNrTnVsbChnZXRPYmplY3RJbnRlcm5hbChv\nYmosIEphdmFTUUxUeXBlcy5SRUYsCiAgICAgICAgICAgIG1hcCwgam9pbnMp\nKTsKICAgIH0KCiAgICBwdWJsaWMgc2hvcnQgZ2V0U2hvcnQoT2JqZWN0IG9i\naikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gZ2V0U2hvcnRJbnRlcm5hbCh0cmFuc2xhdGUob2JqLCBudWxsKSwgbnVs\nbCk7CiAgICB9CgogICAgcHVibGljIHNob3J0IGdldFNob3J0KENvbHVtbiBj\nb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBnZXRTaG9ydEludGVybmFsKHRyYW5zbGF0ZShj\nb2wsIGpvaW5zKSwgam9pbnMpOwogICAgfQoKICAgIHByb3RlY3RlZCBzaG9y\ndCBnZXRTaG9ydEludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIE51bWJlciB2\nYWwgPSAoTnVtYmVyKSBjaGVja051bGwoZ2V0T2JqZWN0SW50ZXJuYWwob2Jq\nLAogICAgICAgICAgICBKYXZhVHlwZXMuU0hPUlQsIG51bGwsIGpvaW5zKSk7\nCiAgICAgICAgcmV0dXJuICh2YWwgPT0gbnVsbCkgPyAwIDogdmFsLnNob3J0\nVmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFN0cmluZyhP\nYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBnZXRTdHJpbmdJbnRlcm5hbCh0cmFuc2xhdGUob2JqLCBu\ndWxsKSwgbnVsbCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTdHJp\nbmcoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldFN0cmluZ0ludGVybmFs\nKHRyYW5zbGF0ZShjb2wsIGpvaW5zKSwgam9pbnMpOwogICAgfQoKICAgIHBy\nb3RlY3RlZCBTdHJpbmcgZ2V0U3RyaW5nSW50ZXJuYWwoT2JqZWN0IG9iaiwg\nSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgT2JqZWN0IHZhbCA9IGNoZWNrTnVsbChnZXRPYmplY3RJbnRlcm5h\nbChvYmosIEphdmFUeXBlcy5TVFJJTkcsCiAgICAgICAgICAgIG51bGwsIGpv\naW5zKSk7CiAgICAgICAgcmV0dXJuICh2YWwgPT0gbnVsbCkgPyBudWxsIDog\ndmFsLnRvU3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIFRpbWUgZ2V0VGlt\nZShPYmplY3Qgb2JqLCBDYWxlbmRhciBjYWwpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldFRpbWVJbnRlcm5hbCh0\ncmFuc2xhdGUob2JqLCBudWxsKSwgY2FsLCBudWxsKTsKICAgIH0KCiAgICBw\ndWJsaWMgVGltZSBnZXRUaW1lKENvbHVtbiBjb2wsIENhbGVuZGFyIGNhbCwg\nSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIGdldFRpbWVJbnRlcm5hbCh0cmFuc2xhdGUoY29sLCBq\nb2lucyksIGNhbCwgam9pbnMpOwogICAgfQoKICAgIHByb3RlY3RlZCBUaW1l\nIGdldFRpbWVJbnRlcm5hbChPYmplY3Qgb2JqLCBDYWxlbmRhciBjYWwsIEpv\naW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiAoVGltZSkgY2hlY2tOdWxsKGdldE9iamVjdEludGVybmFs\nKG9iaiwgSmF2YVNRTFR5cGVzLlRJTUUsCiAgICAgICAgICAgIGNhbCwgam9p\nbnMpKTsKICAgIH0KCiAgICBwdWJsaWMgVGltZXN0YW1wIGdldFRpbWVzdGFt\ncChPYmplY3Qgb2JqLCBDYWxlbmRhciBjYWwpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldFRpbWVzdGFtcEludGVy\nbmFsKHRyYW5zbGF0ZShvYmosIG51bGwpLCBjYWwsIG51bGwpOwogICAgfQoK\nICAgIHB1YmxpYyBUaW1lc3RhbXAgZ2V0VGltZXN0YW1wKENvbHVtbiBjb2ws\nIENhbGVuZGFyIGNhbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdldFRpbWVzdGFtcEludGVy\nbmFsKHRyYW5zbGF0ZShjb2wsIGpvaW5zKSwgY2FsLCBqb2lucyk7CiAgICB9\nCgogICAgcHJvdGVjdGVkIFRpbWVzdGFtcCBnZXRUaW1lc3RhbXBJbnRlcm5h\nbChPYmplY3Qgb2JqLCBDYWxlbmRhciBjYWwsCiAgICAgICAgSm9pbnMgam9p\nbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIChUaW1lc3RhbXApIGNoZWNrTnVsbChnZXRPYmplY3RJbnRlcm5hbChv\nYmosCiAgICAgICAgICAgIEphdmFTUUxUeXBlcy5USU1FU1RBTVAsIGNhbCwg\nam9pbnMpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiB3YXNOdWxsKCkK\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nX3dhc051bGw7CiAgICB9CgogICAgcHJvdGVjdGVkIE9iamVjdCBjaGVja051\nbGwoT2JqZWN0IHZhbCkgewogICAgICAgIF93YXNOdWxsID0gKHZhbCA9PSBu\ndWxsKTsKICAgICAgICByZXR1cm4gdmFsOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldExvY2tpbmcoYm9vbGVhbiBsb2NraW5nKSB7CiAgICAgICAgX2xv\nY2tpbmcgPSBsb2NraW5nOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlz\nTG9ja2luZygpIHsKICAgICAgICByZXR1cm4gX2xvY2tpbmc7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RhcnREYXRhUmVxdWVzdChPYmplY3QgbWFwcGlu\nZykgewogICAgfQoKICAgIHB1YmxpYyB2b2lkIGVuZERhdGFSZXF1ZXN0KCkg\newogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNsYXRlIHRoZSB1c2VyLWdp\ndmVuIGlkIG9yIGNvbHVtbi4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJlZm9y\nZQogICAgICogZGVsZWdhdGluZyB0byBhbnkgPGNvZGU+Z2V0KkludGVybmFs\nPC9jb2RlPiBtZXRob2RzLiBSZXR1cm4gdGhlCiAgICAgKiBvcmlnaW5hbCB2\nYWx1ZSBieSBkZWZhdWx0LgogICAgICovCiAgICBwcm90ZWN0ZWQgT2JqZWN0\nIHRyYW5zbGF0ZShPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gb2JqOwogICAg\nfQoKICAgIC8qKgogICAgICogRG8tbm90aGluZyBqb2lucyBpbXBsZW1lbnRh\ndGlvbi4KICAgICAqLwogICAgcHJpdmF0ZSBzdGF0aWMgY2xhc3MgTm9PcEpv\naW5zCiAgICAgICAgaW1wbGVtZW50cyBKb2lucyB7CgogICAgICAgIHB1Ymxp\nYyBib29sZWFuIGlzRW1wdHkoKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVl\nOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGJvb2xlYW4gaXNPdXRlcigp\nIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAg\nICAgcHVibGljIEpvaW5zIGNyb3NzSm9pbihUYWJsZSBsb2NhbFRhYmxlLCBU\nYWJsZSBmb3JlaWduVGFibGUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7\nCiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgSm9pbnMgam9pbihGb3JlaWdu\nS2V5IGZrLCBib29sZWFuIGludmVyc2UsIGJvb2xlYW4gdG9NYW55KSB7CiAg\nICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgcHVi\nbGljIEpvaW5zIG91dGVySm9pbihGb3JlaWduS2V5IGZrLCBib29sZWFuIGlu\ndmVyc2UsIGJvb2xlYW4gdG9NYW55KSB7CiAgICAgICAgICAgIHJldHVybiB0\naGlzOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIEpvaW5zIGpvaW5SZWxh\ndGlvbihTdHJpbmcgbmFtZSwgRm9yZWlnbktleSBmaywgCiAgICAgICAgICAg\nIENsYXNzTWFwcGluZyB0YXJnZXQsIGludCBzdWJzLCBib29sZWFuIGludmVy\nc2UsIGJvb2xlYW4gdG9NYW55KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlz\nOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIEpvaW5zIG91dGVySm9pblJl\nbGF0aW9uKFN0cmluZyBuYW1lLCBGb3JlaWduS2V5IGZrLAogICAgICAgICAg\nICBDbGFzc01hcHBpbmcgdGFyZ2V0LCBpbnQgc3VicywgYm9vbGVhbiBpbnZl\ncnNlLCBib29sZWFuIHRvTWFueSkgewogICAgICAgICAgICByZXR1cm4gdGhp\nczsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBKb2lucyBzZXRWYXJpYWJs\nZShTdHJpbmcgdmFyKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIEpvaW5zIHNldFN1YnNlbGVjdChTdHJp\nbmcgYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgdm9pZCBhcHBlbmRUbyhTUUxCdWZmZXIgYnVm\nKSB7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

