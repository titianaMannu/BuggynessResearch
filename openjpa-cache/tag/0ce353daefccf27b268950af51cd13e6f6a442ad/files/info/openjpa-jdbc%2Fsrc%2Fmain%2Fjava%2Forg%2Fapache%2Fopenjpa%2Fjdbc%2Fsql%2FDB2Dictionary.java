{"sha":"a86ac033b47064c4b0882ac3caf76874311de231","node_id":"MDQ6QmxvYjIwNjM2NDphODZhYzAzM2I0NzA2NGM0YjA4ODJhYzNjYWY3Njg3NDMxMWRlMjMx","size":6261,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a86ac033b47064c4b0882ac3caf76874311de231","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbDsKCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9u\nOwppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwppbXBvcnQgamF2YS51\ndGlsLkFycmF5czsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5z\nY2hlbWEuU2VxdWVuY2U7CgovKioKICogRGljdGlvbmFyeSBmb3IgSUJNIERC\nMiBkYXRhYmFzZS4KICovCnB1YmxpYyBjbGFzcyBEQjJEaWN0aW9uYXJ5CiAg\nICBleHRlbmRzIEFic3RyYWN0REIyRGljdGlvbmFyeSB7CgogICAgcHVibGlj\nIERCMkRpY3Rpb25hcnkoKSB7CiAgICAgICAgcGxhdGZvcm0gPSAiREIyIjsK\nICAgICAgICB2YWxpZGF0aW9uU1FMID0gIlNFTEVDVCBESVNUSU5DVChDVVJS\nRU5UIFRJTUVTVEFNUCkgRlJPTSAiCiAgICAgICAgICAgICsgIlNZU0lCTS5T\nWVNUQUJMRVMiOwogICAgICAgIHN1cHBvcnRzU2VsZWN0RW5kSW5kZXggPSB0\ncnVlOwoKICAgICAgICBuZXh0U2VxdWVuY2VRdWVyeSA9ICJWQUxVRVMgTkVY\nVFZBTCBGT1IgezB9IjsKCiAgICAgICAgYmluYXJ5VHlwZU5hbWUgPSAiQkxP\nQigxTSkiOwogICAgICAgIGxvbmdWYXJiaW5hcnlUeXBlTmFtZSA9ICJCTE9C\nKDFNKSI7CiAgICAgICAgdmFyYmluYXJ5VHlwZU5hbWUgPSAiQkxPQigxTSki\nOwogICAgICAgIGNsb2JUeXBlTmFtZSA9ICJDTE9CKDFNKSI7CiAgICAgICAg\nbG9uZ1ZhcmNoYXJUeXBlTmFtZSA9ICJMT05HIFZBUkNIQVIiOwoKICAgICAg\nICBmaXhlZFNpemVUeXBlTmFtZVNldC5hZGRBbGwoQXJyYXlzLmFzTGlzdChu\nZXcgU3RyaW5nW117CiAgICAgICAgICAgICJMT05HIFZBUkNIQVIgRk9SIEJJ\nVCBEQVRBIiwgIkxPTkcgVkFSQ0hBUiIsICJMT05HIFZBUkdSQVBISUMiLAog\nICAgICAgIH0pKTsKCiAgICAgICAgbWF4Q29uc3RyYWludE5hbWVMZW5ndGgg\nPSAxODsKICAgICAgICBtYXhJbmRleE5hbWVMZW5ndGggPSAxODsKICAgICAg\nICBtYXhDb2x1bW5OYW1lTGVuZ3RoID0gMzA7CiAgICAgICAgc3VwcG9ydHNE\nZWZlcnJlZENvbnN0cmFpbnRzID0gZmFsc2U7CiAgICAgICAgc3VwcG9ydHNE\nZWZhdWx0RGVsZXRlQWN0aW9uID0gZmFsc2U7CiAgICAgICAgc3VwcG9ydHNB\nbHRlclRhYmxlV2l0aERyb3BDb2x1bW4gPSBmYWxzZTsKCiAgICAgICAgc3Vw\ncG9ydHNOdWxsVGFibGVGb3JHZXRDb2x1bW5zID0gZmFsc2U7CgogICAgICAg\nIHJlc2VydmVkV29yZFNldC5hZGRBbGwoQXJyYXlzLmFzTGlzdChuZXcgU3Ry\naW5nW117CiAgICAgICAgICAgICJBRlRFUiIsICJBTElBUyIsICJBTExPVyIs\nICJBUFBMSUNBVElPTiIsICJBU1NPQ0lBVEUiLCAiQVNVVElNRSIsCiAgICAg\nICAgICAgICJBVURJVCIsICJBVVgiLCAiQVVYSUxJQVJZIiwgIkJFRk9SRSIs\nICJCSU5BUlkiLCAiQlVGRkVSUE9PTCIsCiAgICAgICAgICAgICJDQUNIRSIs\nICJDQUxMIiwgIkNBTExFRCIsICJDQVBUVVJFIiwgIkNBUkRJTkFMSVRZIiwg\nIkNDU0lEIiwKICAgICAgICAgICAgIkNMVVNURVIiLCAiQ09MTEVDVElPTiIs\nICJDT0xMSUQiLCAiQ09NTUVOVCIsICJDT05DQVQiLAogICAgICAgICAgICAi\nQ09ORElUSU9OIiwgIkNPTlRBSU5TIiwgIkNPVU5UX0JJRyIsICJDVVJSRU5U\nX0xDX0NUWVBFIiwKICAgICAgICAgICAgIkNVUlJFTlRfUEFUSCIsICJDVVJS\nRU5UX1NFUlZFUiIsICJDVVJSRU5UX1RJTUVaT05FIiwgIkNZQ0xFIiwKICAg\nICAgICAgICAgIkRBVEEiLCAiREFUQUJBU0UiLCAiREFZUyIsICJEQjJHRU5F\nUkFMIiwgIkRCMkdFTlJMIiwgIkRCMlNRTCIsCiAgICAgICAgICAgICJEQklO\nRk8iLCAiREVGQVVMVFMiLCAiREVGSU5JVElPTiIsICJERVRFUk1JTklTVElD\nIiwgIkRJU0FMTE9XIiwKICAgICAgICAgICAgIkRPIiwgIkRTTkhBVFRSIiwg\nIkRTU0laRSIsICJEWU5BTUlDIiwgIkVBQ0giLCAiRURJVFBST0MiLCAiRUxT\nRUlGIiwKICAgICAgICAgICAgIkVOQ09ESU5HIiwgIkVORC1FWEVDMSIsICJF\nUkFTRSIsICJFWENMVURJTkciLCAiRVhJVCIsICJGRU5DRUQiLAogICAgICAg\nICAgICAiRklFTERQUk9DIiwgIkZJTEUiLCAiRklOQUwiLCAiRlJFRSIsICJG\nVU5DVElPTiIsICJHRU5FUkFMIiwKICAgICAgICAgICAgIkdFTkVSQVRFRCIs\nICJHUkFQSElDIiwgIkhBTkRMRVIiLCAiSE9MRCIsICJIT1VSUyIsICJJRiIs\nCiAgICAgICAgICAgICJJTkNMVURJTkciLCAiSU5DUkVNRU5UIiwgIklOREVY\nIiwgIklOSEVSSVQiLCAiSU5PVVQiLCAiSU5URUdSSVRZIiwKICAgICAgICAg\nICAgIklTT0JJRCIsICJJVEVSQVRFIiwgIkpBUiIsICJKQVZBIiwgIkxBQkVM\nIiwgIkxDX0NUWVBFIiwgIkxFQVZFIiwKICAgICAgICAgICAgIkxJTktUWVBF\nIiwgIkxPQ0FMRSIsICJMT0NBVE9SIiwgIkxPQ0FUT1JTIiwgIkxPQ0siLCAi\nTE9DS01BWCIsCiAgICAgICAgICAgICJMT0NLU0laRSIsICJMT05HIiwgIkxP\nT1AiLCAiTUFYVkFMVUUiLCAiTUlDUk9TRUNPTkQiLAogICAgICAgICAgICAi\nTUlDUk9TRUNPTkRTIiwgIk1JTlVURVMiLCAiTUlOVkFMVUUiLCAiTU9ERSIs\nICJNT0RJRklFUyIsICJNT05USFMiLAogICAgICAgICAgICAiTkVXIiwgIk5F\nV19UQUJMRSIsICJOT0NBQ0hFIiwgIk5PQ1lDTEUiLCAiTk9ERU5BTUUiLCAi\nTk9ERU5VTUJFUiIsCiAgICAgICAgICAgICJOT01BWFZBTFVFIiwgIk5PTUlO\nVkFMVUUiLCAiTk9PUkRFUiIsICJOVUxMUyIsICJOVU1QQVJUUyIsICJPQklE\nIiwKICAgICAgICAgICAgIk9MRCIsICJPTERfVEFCTEUiLCAiT1BUSU1JWkFU\nSU9OIiwgIk9QVElNSVpFIiwgIk9VVCIsICJPVkVSUklESU5HIiwKICAgICAg\nICAgICAgIlBBQ0tBR0UiLCAiUEFSQU1FVEVSIiwgIlBBUlQiLCAiUEFSVElU\nSU9OIiwgIlBBVEgiLCAiUElFQ0VTSVpFIiwKICAgICAgICAgICAgIlBMQU4i\nLCAiUFJJUVRZIiwgIlBST0dSQU0iLCAiUFNJRCIsICJRVUVSWU5PIiwgIlJF\nQURTIiwgIlJFQ09WRVJZIiwKICAgICAgICAgICAgIlJFRkVSRU5DSU5HIiwg\nIlJFTEVBU0UiLCAiUkVOQU1FIiwgIlJFUEVBVCIsICJSRVNFVCIsICJSRVNJ\nR05BTCIsCiAgICAgICAgICAgICJSRVNUQVJUIiwgIlJFU1VMVCIsICJSRVNV\nTFRfU0VUX0xPQ0FUT1IiLCAiUkVUVVJOIiwgIlJFVFVSTlMiLAogICAgICAg\nICAgICAiUk9VVElORSIsICJST1ciLCAiUlJOIiwgIlJVTiIsICJTQVZFUE9J\nTlQiLCAiU0NSQVRDSFBBRCIsCiAgICAgICAgICAgICJTRUNPTkRTIiwgIlNF\nQ1FUWSIsICJTRUNVUklUWSIsICJTRU5TSVRJVkUiLCAiU0lHTkFMIiwgIlNJ\nTVBMRSIsCiAgICAgICAgICAgICJTT1VSQ0UiLCAiU1BFQ0lGSUMiLCAiU1FM\nSUQiLCAiU1RBTkRBUkQiLCAiU1RBUlQiLCAiU1RBVElDIiwKICAgICAgICAg\nICAgIlNUQVkiLCAiU1RPR1JPVVAiLCAiU1RPUkVTIiwgIlNUWUxFIiwgIlNV\nQlBBR0VTIiwgIlNZTk9OWU0iLAogICAgICAgICAgICAiU1lTRlVOIiwgIlNZ\nU0lCTSIsICJTWVNQUk9DIiwgIlNZU1RFTSIsICJUQUJMRVNQQUNFIiwgIlRS\nSUdHRVIiLAogICAgICAgICAgICAiVFlQRSIsICJVTkRPIiwgIlVOVElMIiwg\nIlZBTElEUFJPQyIsICJWQVJJQUJMRSIsICJWQVJJQU5UIiwgIlZDQVQiLAog\nICAgICAgICAgICAiVk9MVU1FUyIsICJXSElMRSIsICJXTE0iLCAiWUVBUlMi\nLAogICAgICAgIH0pKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBzdXBw\nb3J0c1JhbmRvbUFjY2Vzc1Jlc3VsdFNldChTZWxlY3Qgc2VsLAogICAgICAg\nIGJvb2xlYW4gZm9yVXBkYXRlKSB7CiAgICAgICAgcmV0dXJuICFmb3JVcGRh\ndGUKICAgICAgICAgICAgJiYgc3VwZXIuc3VwcG9ydHNSYW5kb21BY2Nlc3NS\nZXN1bHRTZXQoc2VsLCBmb3JVcGRhdGUpOwogICAgfQoKICAgIHByb3RlY3Rl\nZCB2b2lkIGFwcGVuZFNlbGVjdFJhbmdlKFNRTEJ1ZmZlciBidWYsIGxvbmcg\nc3RhcnQsIGxvbmcgZW5kKSB7CiAgICAgICAgLy8gYXBwZW5kcyB0aGUgbGl0\nZXJhbCByYW5nZSBzdHJpbmcsIHNpbmNlIERCMiBpcyB1bmFibGUgdG8gaGFu\nZGxlCiAgICAgICAgLy8gYSBib3VuZCBwYXJhbWV0ZXIgZm9yIGl0CiAgICAg\nICAgYnVmLmFwcGVuZCgiIEZFVENIIEZJUlNUICIpLmFwcGVuZChMb25nLnRv\nU3RyaW5nKGVuZCkpLgogICAgICAgICAgICBhcHBlbmQoIiBST1dTIE9OTFki\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nW10gZ2V0Q3JlYXRlU2VxdWVu\nY2VTUUwoU2VxdWVuY2Ugc2VxKSB7CiAgICAgICAgU3RyaW5nW10gc3FsID0g\nc3VwZXIuZ2V0Q3JlYXRlU2VxdWVuY2VTUUwoc2VxKTsKICAgICAgICBpZiAo\nc2VxLmdldEFsbG9jYXRlKCkgPiAxKQogICAgICAgICAgICBzcWxbMF0gKz0g\nIiBDQUNIRSAiICsgc2VxLmdldEFsbG9jYXRlKCk7CiAgICAgICAgcmV0dXJu\nIHNxbDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdldFNlcXVlbmNl\nc1NRTChTdHJpbmcgc2NoZW1hTmFtZSwgU3RyaW5nIHNlcXVlbmNlTmFtZSkg\newogICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVy\nKCk7CiAgICAgICAgYnVmLmFwcGVuZCgiU0VMRUNUIFNFUVNDSEVNQSBBUyBT\nRVFVRU5DRV9TQ0hFTUEsICIpLgogICAgICAgICAgICBhcHBlbmQoIlNFUU5B\nTUUgQVMgU0VRVUVOQ0VfTkFNRSBGUk9NIFNZU0NBVC5TRVFVRU5DRVMiKTsK\nICAgICAgICBpZiAoc2NoZW1hTmFtZSAhPSBudWxsIHx8IHNlcXVlbmNlTmFt\nZSAhPSBudWxsKQogICAgICAgICAgICBidWYuYXBwZW5kKCIgV0hFUkUgIik7\nCiAgICAgICAgaWYgKHNjaGVtYU5hbWUgIT0gbnVsbCkgewogICAgICAgICAg\nICBidWYuYXBwZW5kKCJTRVFTQ0hFTUEgPSA/Iik7CiAgICAgICAgICAgIGlm\nIChzZXF1ZW5jZU5hbWUgIT0gbnVsbCkKICAgICAgICAgICAgICAgIGJ1Zi5h\ncHBlbmQoIiBBTkQgIik7CiAgICAgICAgfQogICAgICAgIGlmIChzZXF1ZW5j\nZU5hbWUgIT0gbnVsbCkKICAgICAgICAgICAgYnVmLmFwcGVuZCgiU0VRTkFN\nRSA9ID8iKTsKICAgICAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7CiAgICB9\nCgogICAgcHVibGljIENvbm5lY3Rpb24gZGVjb3JhdGUoQ29ubmVjdGlvbiBj\nb25uKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIC8v\nIHNvbWUgdmVyc2lvbnMgb2YgdGhlIERCMiBkcml2ZXIgc2VlbSB0byBkZWZh\ndWx0IHRvCiAgICAgICAgLy8gUkVBRF9VTkNPTU1JVFRFRCwgd2hpY2ggd2ls\nbCBwcmV2ZW50IGxvY2tpbmcgZnJvbSB3b3JraW5nCiAgICAgICAgLy8gKG11\nbHRpcGxlIFNFTEVDVCAuLi4gRk9SIFVQREFURSBzdGF0ZW1lbnRzIGFyZSBh\nbGxvd2VkIG9uCiAgICAgICAgLy8gdGhlIHNhbWUgaW5zdGFuY2UpOyBpZiB3\nZSBoYXZlIG5vdCBvdmVycmlkZGVuIHRoZQogICAgICAgIC8vIHRyYW5zYWN0\naW9uIGlzb2xhdGlvbiBpbiB0aGUgY29uZmlndXJhdGlvbiwgZGVmYXVsdCB0\nbwogICAgICAgIC8vIFRSQU5TQUNUSU9OX1JFQURfQ09NTUlUVEVECiAgICAg\nICAgY29ubiA9IHN1cGVyLmRlY29yYXRlKGNvbm4pOwoKICAgICAgICBpZiAo\nY29uZi5nZXRUcmFuc2FjdGlvbklzb2xhdGlvbkNvbnN0YW50KCkgPT0gLTEK\nICAgICAgICAgICAgJiYgY29ubi5nZXRUcmFuc2FjdGlvbklzb2xhdGlvbigp\nIDwgY29ubi5UUkFOU0FDVElPTl9SRUFEX0NPTU1JVFRFRCkKICAgICAgICAg\nICAgY29ubi5zZXRUcmFuc2FjdGlvbklzb2xhdGlvbihjb25uLlRSQU5TQUNU\nSU9OX1JFQURfQ09NTUlUVEVEKTsKCiAgICAgICAgcmV0dXJuIGNvbm47CiAg\nICB9Cn0K\n","encoding":"base64"}

