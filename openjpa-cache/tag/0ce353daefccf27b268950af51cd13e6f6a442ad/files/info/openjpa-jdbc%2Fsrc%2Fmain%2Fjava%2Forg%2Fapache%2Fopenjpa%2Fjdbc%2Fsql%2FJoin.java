{"sha":"c8e678029533fe6acefd4c2767cc778569693f4d","node_id":"MDQ6QmxvYjIwNjM2NDpjOGU2NzgwMjk1MzNmZTZhY2VmZDRjMjc2N2NjNzc4NTY5NjkzZjRk","size":4550,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c8e678029533fe6acefd4c2767cc778569693f4d","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5tZXRhLkNsYXNzTWFwcGluZzsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNjaGVtYS5Gb3JlaWduS2V5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc2NoZW1hLlRhYmxlOwoKLyoqCiAqIFJlcHJlc2Vu\ndHMgYSBTUUwgam9pbi4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1\nYmxpYyBjbGFzcyBKb2luCiAgICBpbXBsZW1lbnRzIENsb25lYWJsZSwgSm9p\nblN5bnRheGVzIHsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBUWVBF\nX0lOTkVSID0gMDsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFRZUEVf\nT1VURVIgPSAxOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9D\nUk9TUyA9IDI7CgogICAgcHJpdmF0ZSBpbnQgX3R5cGUgPSBUWVBFX0lOTkVS\nOwoKICAgIHByaXZhdGUgaW50IF9hbGlhczE7CiAgICBwcml2YXRlIGludCBf\nYWxpYXMyOwogICAgcHJpdmF0ZSBUYWJsZSBfdGFibGUxOwogICAgcHJpdmF0\nZSBUYWJsZSBfdGFibGUyOwogICAgcHJpdmF0ZSBGb3JlaWduS2V5IF9mazsK\nICAgIHByaXZhdGUgQ2xhc3NNYXBwaW5nIF90YXJnZXQ7CiAgICBwcml2YXRl\nIGludCBfc3ViczsKICAgIHByaXZhdGUgSm9pbnMgX2pvaW5zOwogICAgcHJp\ndmF0ZSBib29sZWFuIF9pbnZlcnNlOwoKICAgIC8qKgogICAgICogQ29uc3Ry\ndWN0b3IgZm9yIGlubmVyIGFuZCBvdXRlciBqb2lucy4KICAgICAqLwogICAg\nSm9pbihUYWJsZSB0YWJsZTEsIGludCBhbGlhczEsIFRhYmxlIHRhYmxlMiwg\naW50IGFsaWFzMiwgRm9yZWlnbktleSBmaywKICAgICAgICBib29sZWFuIGlu\ndmVyc2UpIHsKICAgICAgICBfdGFibGUxID0gdGFibGUxOwogICAgICAgIF9h\nbGlhczEgPSBhbGlhczE7CiAgICAgICAgX3RhYmxlMiA9IHRhYmxlMjsKICAg\nICAgICBfYWxpYXMyID0gYWxpYXMyOwogICAgICAgIF9mayA9IGZrOwogICAg\nICAgIF9pbnZlcnNlID0gaW52ZXJzZTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFByaXZhdGUgZGVmYXVsdCBjb25zdHJ1Y3Rvci4KICAgICAqLwogICAgcHJp\ndmF0ZSBKb2luKCkgewogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0VHlwZSgp\nIHsKICAgICAgICByZXR1cm4gX3R5cGU7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0VHlwZShpbnQgdHlwZSkgewogICAgICAgIF90eXBlID0gdHlwZTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEFsaWFzMSgpIHsKICAgICAg\nICByZXR1cm4gU2VsZWN0SW1wbC50b0FsaWFzKF9hbGlhczEpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWxpYXMyKCkgewogICAgICAgIHJldHVy\nbiBTZWxlY3RJbXBsLnRvQWxpYXMoX2FsaWFzMik7CiAgICB9CgogICAgaW50\nIGdldEluZGV4MSgpIHsKICAgICAgICByZXR1cm4gX2FsaWFzMTsKICAgIH0K\nCiAgICBpbnQgZ2V0SW5kZXgyKCkgewogICAgICAgIHJldHVybiBfYWxpYXMy\nOwogICAgfQoKICAgIHB1YmxpYyBUYWJsZSBnZXRUYWJsZTEoKSB7CiAgICAg\nICAgcmV0dXJuIF90YWJsZTE7CiAgICB9CgogICAgcHVibGljIFRhYmxlIGdl\ndFRhYmxlMigpIHsKICAgICAgICByZXR1cm4gX3RhYmxlMjsKICAgIH0KCiAg\nICBwdWJsaWMgRm9yZWlnbktleSBnZXRGb3JlaWduS2V5KCkgewogICAgICAg\nIHJldHVybiBfZms7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNGb3Jl\naWduS2V5SW52ZXJzZWQoKSB7CiAgICAgICAgcmV0dXJuIF9pbnZlcnNlOwog\nICAgfQoKICAgIC8qKgogICAgICogSWYgam9pbmluZyBhIHJlbGF0aW9uLCB0\naGUgdGFyZ2V0IHR5cGUuICAKICAgICAqLwogICAgcHVibGljIENsYXNzTWFw\ncGluZyBnZXRSZWxhdGlvblRhcmdldCgpIHsKICAgICAgICByZXR1cm4gX3Rh\ncmdldDsKICAgIH0KCiAgICAvKioKICAgICAqIElmIGpvaW5pbmcgYSByZWxh\ndGlvbiwgaG93IHRvIGRlYWwgd2l0aCBzdWJjbGFzc2VzLiAgU2VlIHN1YmNs\nYXNzCiAgICAgKiBjb25zdGFudHMgaW4ge0BsaW5rIFNlbGVjdH0uCiAgICAg\nKi8KICAgIHB1YmxpYyBpbnQgZ2V0U3ViY2xhc3NlcygpIHsKICAgICAgICBy\nZXR1cm4gX3N1YnM7CiAgICB9CgogICAgLyoqCiAgICAgKiBJZiBqb2luaW5n\nIGEgcmVsYXRpb24sIHRoZSBqb2lucyBsZWFkaW5nIHRvIHRoZSByZWxhdGlv\nbi4KICAgICAqLwogICAgcHVibGljIEpvaW5zIGdldFJlbGF0aW9uSm9pbnMo\nKSB7CiAgICAgICAgcmV0dXJuIF9qb2luczsKICAgIH0KCiAgICAvKioKICAg\nICAqIFdoZW4gam9pbmluZyBhIHJlbGF0aW9uLCBzZXQgdGFyZ2V0IHR5cGUg\nYW5kIGhvdyB0byBkZWFsIHdpdGgKICAgICAqIHN1YmNsYXNzZXMuICBTZWUg\nc3ViY2xhc3MgY29uc3RhbnRzIGluIHtAbGluayAjU2VsZWN0fS4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0UmVsYXRpb24oQ2xhc3NNYXBwaW5nIHRh\ncmdldCwgaW50IHN1YnMsIEpvaW5zIGpvaW5zKSB7CiAgICAgICAgX3Rhcmdl\ndCA9IHRhcmdldDsKICAgICAgICBfc3VicyA9IHN1YnM7CiAgICAgICAgX2pv\naW5zID0gam9pbnM7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBq\nb2luIHRoYXQgaXMgdGhpcyBqb2luIGluIHJldmVyc2UuCiAgICAgKi8KICAg\nIHB1YmxpYyBKb2luIHJldmVyc2UoKSB7CiAgICAgICAgSm9pbiBqb2luID0g\nbmV3IEpvaW4oKTsKICAgICAgICBqb2luLl90eXBlID0gX3R5cGU7CiAgICAg\nICAgam9pbi5fdGFibGUxID0gX3RhYmxlMjsKICAgICAgICBqb2luLl9hbGlh\nczEgPSBfYWxpYXMyOwogICAgICAgIGpvaW4uX3RhYmxlMiA9IF90YWJsZTE7\nCiAgICAgICAgam9pbi5fYWxpYXMyID0gX2FsaWFzMTsKICAgICAgICBqb2lu\nLl9pbnZlcnNlID0gIV9pbnZlcnNlOwogICAgICAgIGpvaW4uX2ZrID0gX2Zr\nOwogICAgICAgIGpvaW4uX3RhcmdldCA9IF90YXJnZXQ7CiAgICAgICAgam9p\nbi5fc3VicyA9IF9zdWJzOwogICAgICAgIGpvaW4uX2pvaW5zID0gX2pvaW5z\nOwogICAgICAgIHJldHVybiBqb2luOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\naGFzaENvZGUoKSB7CiAgICAgICAgcmV0dXJuIF9hbGlhczEgXiBfYWxpYXMy\nOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb3Ro\nZXIpIHsKICAgICAgICBpZiAob3RoZXIgPT0gdGhpcykKICAgICAgICAgICAg\ncmV0dXJuIHRydWU7CiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBK\nb2luKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICBKb2lu\nIGogPSAoSm9pbikgb3RoZXI7CiAgICAgICAgcmV0dXJuIChfYWxpYXMxID09\nIGouX2FsaWFzMSAmJiBfYWxpYXMyID09IGouX2FsaWFzMikKICAgICAgICAg\nICAgfHwgKF9hbGlhczEgPT0gai5fYWxpYXMyICYmIF9hbGlhczIgPT0gai5f\nYWxpYXMxKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkg\newogICAgICAgIFN0cmluZyB0eXBlU3RyaW5nOwogICAgICAgIGlmIChfdHlw\nZSA9PSBUWVBFX0NST1NTKQogICAgICAgICAgICB0eXBlU3RyaW5nID0gImNy\nb3NzIjsKICAgICAgICBlbHNlIGlmIChfdHlwZSA9PSBUWVBFX0lOTkVSKQog\nICAgICAgICAgICB0eXBlU3RyaW5nID0gImlubmVyIjsKICAgICAgICBlbHNl\nCiAgICAgICAgICAgIHR5cGVTdHJpbmcgPSAib3V0ZXIiOwogICAgICAgIHJl\ndHVybiAiPCIgKyBTeXN0ZW0uaWRlbnRpdHlIYXNoQ29kZSh0aGlzKSArICI+\nIHQiCiAgICAgICAgICAgICsgX2FsaWFzMSArICItPnQiICsgX2FsaWFzMiAr\nICIgKCIgKyB0eXBlU3RyaW5nICsgIikiOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgY2xvbmUoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIHN1cGVyLmNsb25lKCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAg\nfQp9Cgo=\n","encoding":"base64"}

