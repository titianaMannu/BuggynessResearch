{"sha":"6e763a1a17e4b38190d6c4e3f6bc79c39610556d","node_id":"MDQ6QmxvYjIwNjM2NDo2ZTc2M2ExYTE3ZTRiMzgxOTBkNmM0ZTNmNmJjNzljMzk2MTA1NTZk","size":14543,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6e763a1a17e4b38190d6c4e3f6bc79c39610556d","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbDsKCmltcG9ydCBqYXZhLmlvLklucHV0U3RyZWFt\nOwppbXBvcnQgamF2YS5pby5SZWFkZXI7CmltcG9ydCBqYXZhLm1hdGguQmln\nRGVjaW1hbDsKaW1wb3J0IGphdmEubWF0aC5CaWdJbnRlZ2VyOwppbXBvcnQg\namF2YS5zcWwuQXJyYXk7CmltcG9ydCBqYXZhLnNxbC5CbG9iOwppbXBvcnQg\namF2YS5zcWwuQ2xvYjsKaW1wb3J0IGphdmEuc3FsLlJlZjsKaW1wb3J0IGph\ndmEuc3FsLlNRTEV4Y2VwdGlvbjsKaW1wb3J0IGphdmEuc3FsLlRpbWU7Cmlt\ncG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7CmltcG9ydCBqYXZhLnV0aWwuQ2Fs\nZW5kYXI7CmltcG9ydCBqYXZhLnV0aWwuQ29tcGFyYXRvcjsKaW1wb3J0IGph\ndmEudXRpbC5EYXRlOwppbXBvcnQgamF2YS51dGlsLkxvY2FsZTsKaW1wb3J0\nIGphdmEudXRpbC5NYXA7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMua2VybmVsLkpEQkNGZXRjaENvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuSkRCQ1N0b3JlOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5DbGFzc01hcHBpbmc7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkZpZWxkTWFwcGlu\nZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1\nbW47CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5VbnN1cHBvcnRl\nZEV4Y2VwdGlvbjsKCi8qKgogKiBSZXN1bHQgdGhhdCBtZXJnZXMgbXVsdGlw\nbGUgcmVzdWx0IGRlbGVnYXRlcy4gU3VwcG9ydCBleGlzdHMgZm9yCiAqIG1h\naW50YWluaW5nIG9yZGVyaW5nIG9mIHRoZSBpbnRlcm5hbGx5LWhlbGQgcmVz\ndWx0cywgcHJvdmlkZWQgdGhhdCBlYWNoCiAqIG9mIHRoZSBpbmRpdmlkdWFs\nIHJlc3VsdHMgaXMgaXRzZWxmIG9yZGVyZWQuCiAqCiAqIEBhdXRob3IgQWJl\nIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgTWVyZ2VkUmVzdWx0CiAgICBpbXBs\nZW1lbnRzIFJlc3VsdCB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgYnl0\nZSBORVhUID0gMDsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGJ5dGUgQ1VS\nUkVOVCA9IDE7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBieXRlIERPTkUg\nPSAyOwoKICAgIHByaXZhdGUgZmluYWwgUmVzdWx0W10gX3JlczsKICAgIHBy\naXZhdGUgZmluYWwgYnl0ZVtdIF9zdGF0dXM7CiAgICBwcml2YXRlIGZpbmFs\nIFJlc3VsdENvbXBhcmF0b3IgX2NvbXA7CiAgICBwcml2YXRlIGZpbmFsIE9i\namVjdFtdIF9vcmRlcjsKICAgIHByaXZhdGUgaW50IF9pZHggPSAwOwogICAg\ncHJpdmF0ZSBib29sZWFuIF9wdXNoZWRCYWNrID0gZmFsc2U7CgogICAgLyoq\nCiAgICAgKiBDb25zdHJ1Y3Rvcjsgc3VwcGx5IGRlbGVnYXRlcy4KICAgICAq\nLwogICAgcHVibGljIE1lcmdlZFJlc3VsdChSZXN1bHRbXSByZXMpIHsKICAg\nICAgICB0aGlzKHJlcywgbnVsbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBD\nb25zdHJ1Y3Rvcjsgc3VwcGx5IGRlbGVnYXRlcyBhbmQgY29tcGFyYXRvciBm\nb3Igb3JkZXJpbmcgcmVzdWx0cy4KICAgICAqLwogICAgcHVibGljIE1lcmdl\nZFJlc3VsdChSZXN1bHRbXSByZXMsIFJlc3VsdENvbXBhcmF0b3IgY29tcCkg\newogICAgICAgIF9yZXMgPSByZXM7CiAgICAgICAgX2NvbXAgPSBjb21wOwog\nICAgICAgIF9vcmRlciA9IChjb21wID09IG51bGwpID8gbnVsbCA6IG5ldyBP\nYmplY3RbcmVzLmxlbmd0aF07CiAgICAgICAgX3N0YXR1cyA9IChjb21wID09\nIG51bGwpID8gbnVsbCA6IG5ldyBieXRlW3Jlcy5sZW5ndGhdOwogICAgfQoK\nICAgIHB1YmxpYyBPYmplY3QgZ2V0RWFnZXIoRmllbGRNYXBwaW5nIGtleSkg\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEVhZ2VyKGtleSk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgcHV0RWFnZXIoRmllbGRNYXBwaW5nIGtl\neSwgT2JqZWN0IHJlcykgewogICAgICAgIF9yZXNbX2lkeF0ucHV0RWFnZXIo\na2V5LCByZXMpOwogICAgfQoKICAgIHB1YmxpYyBKb2lucyBuZXdKb2lucygp\nIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5uZXdKb2lucygpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgewogICAgICAgIGZvciAoaW50\nIGkgPSAwOyBpIDwgX3Jlcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgX3Jl\nc1tpXS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzTG9j\na2luZygpIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5pc0xvY2tpbmco\nKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBzdXBwb3J0c1JhbmRvbUFj\nY2VzcygpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGFic29s\ndXRlKGludCByb3cpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gbmV4dCgpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKF9wdXNoZWRCYWNrKSB7CiAgICAg\nICAgICAgIF9wdXNoZWRCYWNrID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVy\nbiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKF9jb21wID09IG51bGwp\nIHsKICAgICAgICAgICAgd2hpbGUgKCFfcmVzW19pZHhdLm5leHQoKSkgewog\nICAgICAgICAgICAgICAgaWYgKF9pZHggPT0gX3Jlcy5sZW5ndGggLSAxKQog\nICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAg\nICAgIF9pZHgrKzsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4g\ndHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIG9yZGVyaW5nIGlzIGludm9s\ndmVkOyBleHRyYWN0IG9yZGVyIHZhbHVlcyBmcm9tIGVhY2ggcmVzdWx0CiAg\nICAgICAgYm9vbGVhbiBoYXNWYWx1ZSA9IGZhbHNlOwogICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgX3N0YXR1cy5sZW5ndGg7IGkrKykgewogICAgICAg\nICAgICBzd2l0Y2ggKF9zdGF0dXNbaV0pIHsKICAgICAgICAgICAgICAgIGNh\nc2UgTkVYVDoKICAgICAgICAgICAgICAgICAgICBpZiAoX3Jlc1tpXS5uZXh0\nKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVl\nOwogICAgICAgICAgICAgICAgICAgICAgICBfc3RhdHVzW2ldID0gQ1VSUkVO\nVDsKICAgICAgICAgICAgICAgICAgICAgICAgX29yZGVyW2ldID0gX2NvbXAu\nZ2V0T3JkZXJpbmdWYWx1ZShfcmVzW2ldLCBpKTsKICAgICAgICAgICAgICAg\nICAgICB9IGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgX3N0YXR1c1tp\nXSA9IERPTkU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAg\nICAgICAgICBjYXNlIENVUlJFTlQ6CiAgICAgICAgICAgICAgICAgICAgaGFz\nVmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAg\nICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBhbGwgcmVzdWx0cyBl\neGhhdXN0ZWQKICAgICAgICBpZiAoIWhhc1ZhbHVlKQogICAgICAgICAgICBy\nZXR1cm4gZmFsc2U7CgogICAgICAgIC8vIGZvciBhbGwgcmVzdWx0cyB3aXRo\nIHZhbHVlcywgZmluZCB0aGUgJ2xlYXN0JyBvbmUgYWNjb3JkaW5nIHRvCiAg\nICAgICAgLy8gdGhlIGNvbXBhcmF0b3IKICAgICAgICBpbnQgbGVhc3QgPSAt\nMTsKICAgICAgICBPYmplY3Qgb3JkZXJWYWwgPSBudWxsOwogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgX29yZGVyLmxlbmd0aDsgaSsrKSB7CiAgICAg\nICAgICAgIGlmIChfc3RhdHVzW2ldICE9IENVUlJFTlQpCiAgICAgICAgICAg\nICAgICBjb250aW51ZTsKICAgICAgICAgICAgaWYgKGxlYXN0ID09IC0xIHx8\nIF9jb21wLmNvbXBhcmUoX29yZGVyW2ldLCBvcmRlclZhbCkgPCAwKSB7CiAg\nICAgICAgICAgICAgICBsZWFzdCA9IGk7CiAgICAgICAgICAgICAgICBvcmRl\nclZhbCA9IF9vcmRlcltpXTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAg\nICAgICAgLy8gbWFrZSB0aGUgY3VycmVudCByZXN1bHQgdGhlIG9uZSB3aXRo\nIHRoZSBsZWFzdCB2YWx1ZSwgYW5kIGNsZWFyCiAgICAgICAgLy8gdGhlIGNh\nY2hlZCB2YWx1ZSBmb3IgdGhhdCByZXN1bHQKICAgICAgICBfaWR4ID0gbGVh\nc3Q7CiAgICAgICAgX29yZGVyW2xlYXN0XSA9IG51bGw7CiAgICAgICAgX3N0\nYXR1c1tsZWFzdF0gPSBORVhUOwogICAgICAgIHJldHVybiB0cnVlOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHB1c2hCYWNrKCkKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICBfcHVzaGVkQmFjayA9IHRydWU7CiAg\nICB9CgogICAgcHVibGljIGludCBzaXplKCkKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICBpbnQgc2l6ZSA9IDA7CiAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCBfcmVzLmxlbmd0aDsgaSsrKQogICAgICAgICAg\nICBzaXplICs9IF9yZXNbaV0uc2l6ZSgpOwogICAgICAgIHJldHVybiBzaXpl\nOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGNvbnRhaW5zKE9iamVjdCBv\nYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIF9yZXNbX2lkeF0uY29udGFpbnMob2JqKTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBjb250YWluc0FsbChPYmplY3RbXSBvYmpzKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19p\nZHhdLmNvbnRhaW5zQWxsKG9ianMpOwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGNvbnRhaW5zKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19p\nZHhdLmNvbnRhaW5zKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGNvbnRhaW5zQWxsKENvbHVtbltdIGNvbHMsIEpvaW5zIGpvaW5z\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfcmVzW19pZHhdLmNvbnRhaW5zQWxsKGNvbHMsIGpvaW5zKTsKICAgIH0K\nCiAgICBwdWJsaWMgQ2xhc3NNYXBwaW5nIGdldEJhc2VNYXBwaW5nKCkgewog\nICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJhc2VNYXBwaW5nKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0QmFzZU1hcHBpbmcoQ2xhc3NNYXBw\naW5nIG1hcHBpbmcpIHsKICAgICAgICBfcmVzW19pZHhdLnNldEJhc2VNYXBw\naW5nKG1hcHBpbmcpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgaW5kZXhPZigp\nIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5pbmRleE9mKCk7CiAgICB9\nCgogICAgcHVibGljIE9iamVjdCBsb2FkKENsYXNzTWFwcGluZyBtYXBwaW5n\nLCBKREJDU3RvcmUgc3RvcmUsCiAgICAgICAgSkRCQ0ZldGNoQ29uZmlndXJh\ndGlvbiBmZXRjaCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5sb2FkKG1hcHBpbmcsIHN0b3JlLCBm\nZXRjaCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBsb2FkKENsYXNzTWFw\ncGluZyBtYXBwaW5nLCBKREJDU3RvcmUgc3RvcmUsCiAgICAgICAgSkRCQ0Zl\ndGNoQ29uZmlndXJhdGlvbiBmZXRjaCwgSm9pbnMgam9pbnMpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0ubG9hZChtYXBwaW5nLCBzdG9yZSwgZmV0Y2gsIGpvaW5zKTsKICAgIH0K\nCiAgICBwdWJsaWMgQXJyYXkgZ2V0QXJyYXkoT2JqZWN0IG9iaikKICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tf\naWR4XS5nZXRBcnJheShvYmopOwogICAgfQoKICAgIHB1YmxpYyBJbnB1dFN0\ncmVhbSBnZXRBc2NpaVN0cmVhbShPYmplY3Qgb2JqKQogICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdl\ndEFzY2lpU3RyZWFtKG9iaik7CiAgICB9CgogICAgcHVibGljIEJpZ0RlY2lt\nYWwgZ2V0QmlnRGVjaW1hbChPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJp\nZ0RlY2ltYWwob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgQmlnSW50ZWdlciBn\nZXRCaWdJbnRlZ2VyKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0QmlnSW50\nZWdlcihvYmopOwogICAgfQoKICAgIHB1YmxpYyBJbnB1dFN0cmVhbSBnZXRC\naW5hcnlTdHJlYW0oT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRCaW5hcnlT\ndHJlYW0ob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgQmxvYiBnZXRCbG9iKE9i\namVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0QmxvYihvYmopOwogICAgfQoKICAg\nIHB1YmxpYyBib29sZWFuIGdldEJvb2xlYW4oT2JqZWN0IG9iaikKICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tf\naWR4XS5nZXRCb29sZWFuKG9iaik7CiAgICB9CgogICAgcHVibGljIGJ5dGUg\nZ2V0Qnl0ZShPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJ5dGUob2JqKTsK\nICAgIH0KCiAgICBwdWJsaWMgYnl0ZVtdIGdldEJ5dGVzKE9iamVjdCBvYmop\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIF9yZXNbX2lkeF0uZ2V0Qnl0ZXMob2JqKTsKICAgIH0KCiAgICBwdWJsaWMg\nQ2FsZW5kYXIgZ2V0Q2FsZW5kYXIoT2JqZWN0IG9iaikKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5n\nZXRDYWxlbmRhcihvYmopOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIGdldENo\nYXIoT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRDaGFyKG9iaik7CiAgICB9\nCgogICAgcHVibGljIFJlYWRlciBnZXRDaGFyYWN0ZXJTdHJlYW0oT2JqZWN0\nIG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gX3Jlc1tfaWR4XS5nZXRDaGFyYWN0ZXJTdHJlYW0ob2JqKTsKICAg\nIH0KCiAgICBwdWJsaWMgQ2xvYiBnZXRDbG9iKE9iamVjdCBvYmopCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNb\nX2lkeF0uZ2V0Q2xvYihvYmopOwogICAgfQoKICAgIHB1YmxpYyBEYXRlIGdl\ndERhdGUoT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXREYXRlKG9iaik7CiAg\nICB9CgogICAgcHVibGljIGphdmEuc3FsLkRhdGUgZ2V0RGF0ZShPYmplY3Qg\nb2JqLCBDYWxlbmRhciBjYWwpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0RGF0ZShvYmosIGNh\nbCk7CiAgICB9CgogICAgcHVibGljIGRvdWJsZSBnZXREb3VibGUoT2JqZWN0\nIG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gX3Jlc1tfaWR4XS5nZXREb3VibGUob2JqKTsKICAgIH0KCiAgICBw\ndWJsaWMgZmxvYXQgZ2V0RmxvYXQoT2JqZWN0IG9iaikKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5n\nZXRGbG9hdChvYmopOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0SW50KE9i\namVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0SW50KG9iaik7CiAgICB9CgogICAg\ncHVibGljIExvY2FsZSBnZXRMb2NhbGUoT2JqZWN0IG9iaikKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4\nXS5nZXRMb2NhbGUob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgbG9uZyBnZXRM\nb25nKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0TG9uZyhvYmopOwogICAg\nfQoKICAgIHB1YmxpYyBOdW1iZXIgZ2V0TnVtYmVyKE9iamVjdCBvYmopCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uZ2V0TnVtYmVyKG9iaik7CiAgICB9CgogICAgcHVibGljIE9i\namVjdCBnZXRPYmplY3QoT2JqZWN0IG9iaiwgaW50IG1ldGFUeXBlLCBPYmpl\nY3QgYXJnKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBfcmVzW19pZHhdLmdldE9iamVjdChvYmosIG1ldGFUeXBlLCBh\ncmcpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0U1FMT2JqZWN0KE9i\namVjdCBvYmosIE1hcCBtYXApCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0U1FMT2JqZWN0KG9i\naiwgbWFwKTsKICAgIH0KCiAgICBwdWJsaWMgUmVmIGdldFJlZihPYmplY3Qg\nb2JqLCBNYXAgbWFwKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldFJlZihvYmosIG1hcCk7CiAg\nICB9CgogICAgcHVibGljIHNob3J0IGdldFNob3J0KE9iamVjdCBvYmopCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uZ2V0U2hvcnQob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldFN0cmluZyhPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldFN0cmlu\nZyhvYmopOwogICAgfQoKICAgIHB1YmxpYyBUaW1lIGdldFRpbWUoT2JqZWN0\nIG9iaiwgQ2FsZW5kYXIgY2FsKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldFRpbWUob2JqLCBj\nYWwpOwogICAgfQoKICAgIHB1YmxpYyBUaW1lc3RhbXAgZ2V0VGltZXN0YW1w\nKE9iamVjdCBvYmosIENhbGVuZGFyIGNhbCkKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRUaW1l\nc3RhbXAob2JqLCBjYWwpOwogICAgfQoKICAgIHB1YmxpYyBBcnJheSBnZXRB\ncnJheShDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRB\ncnJheShjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgSW5wdXRTdHJl\nYW0gZ2V0QXNjaWlTdHJlYW0oQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uZ2V0QXNjaWlTdHJlYW0oY29sLCBqb2lucyk7CiAgICB9Cgog\nICAgcHVibGljIEJpZ0RlY2ltYWwgZ2V0QmlnRGVjaW1hbChDb2x1bW4gY29s\nLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRCaWdEZWNpbWFsKGNvbCwg\nam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBCaWdJbnRlZ2VyIGdldEJpZ0lu\ndGVnZXIoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0\nQmlnSW50ZWdlcihjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgSW5w\ndXRTdHJlYW0gZ2V0QmluYXJ5U3RyZWFtKENvbHVtbiBjb2wsIEpvaW5zIGpv\naW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBfcmVzW19pZHhdLmdldEJpbmFyeVN0cmVhbShjb2wsIGpvaW5zKTsK\nICAgIH0KCiAgICBwdWJsaWMgQmxvYiBnZXRCbG9iKENvbHVtbiBjb2wsIEpv\naW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJsb2IoY29sLCBqb2lucyk7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gZ2V0Qm9vbGVhbihDb2x1bW4gY29s\nLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRCb29sZWFuKGNvbCwgam9p\nbnMpOwogICAgfQoKICAgIHB1YmxpYyBieXRlIGdldEJ5dGUoQ29sdW1uIGNv\nbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0Qnl0ZShjb2wsIGpvaW5z\nKTsKICAgIH0KCiAgICBwdWJsaWMgYnl0ZVtdIGdldEJ5dGVzKENvbHVtbiBj\nb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJ5dGVzKGNvbCwgam9p\nbnMpOwogICAgfQoKICAgIHB1YmxpYyBDYWxlbmRhciBnZXRDYWxlbmRhcihD\nb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRDYWxlbmRh\ncihjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgY2hhciBnZXRDaGFy\nKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldENoYXIo\nY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIFJlYWRlciBnZXRDaGFy\nYWN0ZXJTdHJlYW0oQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0uZ2V0Q2hhcmFjdGVyU3RyZWFtKGNvbCwgam9pbnMpOwogICAgfQoKICAg\nIHB1YmxpYyBDbG9iIGdldENsb2IoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMp\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIF9yZXNbX2lkeF0uZ2V0Q2xvYihjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBw\ndWJsaWMgRGF0ZSBnZXREYXRlKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBf\ncmVzW19pZHhdLmdldERhdGUoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVi\nbGljIGphdmEuc3FsLkRhdGUgZ2V0RGF0ZShDb2x1bW4gY29sLCBDYWxlbmRh\nciBjYWwsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldERhdGUoY29sLCBj\nYWwsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgZG91YmxlIGdldERvdWJs\nZShDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXREb3Vi\nbGUoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIGZsb2F0IGdldEZs\nb2F0KENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEZs\nb2F0KGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0SW50\nKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEludChj\nb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgTG9jYWxlIGdldExvY2Fs\nZShDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRMb2Nh\nbGUoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIGxvbmcgZ2V0TG9u\nZyhDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRMb25n\nKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBOdW1iZXIgZ2V0TnVt\nYmVyKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldE51\nbWJlcihjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdl\ndE9iamVjdChDb2x1bW4gY29sLCBPYmplY3QgYXJnLCBKb2lucyBqb2lucykK\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nX3Jlc1tfaWR4XS5nZXRPYmplY3QoY29sLCBhcmcsIGpvaW5zKTsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IGdldFNRTE9iamVjdChDb2x1bW4gY29sLCBN\nYXAgbWFwLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRTUUxPYmplY3Qo\nY29sLCBtYXAsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgUmVmIGdldFJl\nZihDb2x1bW4gY29sLCBNYXAgbWFwLCBKb2lucyBqb2lucykKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4\nXS5nZXRSZWYoY29sLCBtYXAsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMg\nc2hvcnQgZ2V0U2hvcnQoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNb\nX2lkeF0uZ2V0U2hvcnQoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRTdHJpbmcoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uZ2V0U3RyaW5nKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1\nYmxpYyBUaW1lIGdldFRpbWUoQ29sdW1uIGNvbCwgQ2FsZW5kYXIgY2FsLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRUaW1lKGNvbCwgY2FsLCBqb2lu\ncyk7CiAgICB9CgogICAgcHVibGljIFRpbWVzdGFtcCBnZXRUaW1lc3RhbXAo\nQ29sdW1uIGNvbCwgQ2FsZW5kYXIgY2FsLCBKb2lucyBqb2lucykKICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tf\naWR4XS5nZXRUaW1lc3RhbXAoY29sLCBjYWwsIGpvaW5zKTsKICAgIH0KCiAg\nICBwdWJsaWMgYm9vbGVhbiB3YXNOdWxsKCkKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS53YXNOdWxs\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RhcnREYXRhUmVxdWVzdChP\nYmplY3QgbWFwcGluZykgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\nX3Jlcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgX3Jlc1tpXS5zdGFydERh\ndGFSZXF1ZXN0KG1hcHBpbmcpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGVu\nZERhdGFSZXF1ZXN0KCkgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\nX3Jlcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgX3Jlc1tpXS5lbmREYXRh\nUmVxdWVzdCgpOwogICAgfQoKICAgIC8qKgogICAgICogQ29tcGFyYXRvciBm\nb3Igb3JkZXJpbmcgcmVzdWx0IHJvd3MuCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgaW50ZXJmYWNlIFJlc3VsdENvbXBhcmF0b3IKICAgICAgICBleHRl\nbmRzIENvbXBhcmF0b3IgewoKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1\ncm4gdGhlIG9yZGVyaW5nIHZhbHVlIG9mIHRoZSBjdXJyZW50IHJvdyBvZiB0\naGUgZ2l2ZW4gcmVzdWx0LgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBP\nYmplY3QgZ2V0T3JkZXJpbmdWYWx1ZShSZXN1bHQgcmVzLCBpbnQgaWR4KTsK\nICAgIH0KfQo=\n","encoding":"base64"}

