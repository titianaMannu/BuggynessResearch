{"sha":"286c93b027a17a9ca72c7f31e5289af625c77d64","node_id":"MDQ6QmxvYjIwNjM2NDoyODZjOTNiMDI3YTE3YTljYTcyYzdmMzFlNTI4OWFmNjI1Yzc3ZDY0","size":3068,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/286c93b027a17a9ca72c7f31e5289af625c77d64","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzOwoKaW1wb3J0IGphdmEubGFuZy5y\nZWZsZWN0Lk1ldGhvZDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5rZXJuZWwuSkRCQ1N0b3JlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMubWV0YS5WYWx1ZU1hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbklPOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnV0aWwuTWV0YURhdGFFeGNlcHRpb247CgovKioKICogVmFsdWUg\naGFuZGxlciBmb3IgSkRLMS41IGVudW0gZmllbGQgdHlwZXMuCiAqCiAqIEBu\nb2phdmFkb2MKICovCnB1YmxpYyBjbGFzcyBFbnVtVmFsdWVIYW5kbGVyCiAg\nICBleHRlbmRzIEFic3RyYWN0VmFsdWVIYW5kbGVyIHsKCiAgICBwcml2YXRl\nIEVudW1bXSBfdmFscyA9IG51bGw7CiAgICBwcml2YXRlIGJvb2xlYW4gX29y\nZGluYWwgPSBmYWxzZTsKCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gc3Rv\ncmUgdGhlIGVudW0gdmFsdWUgYXMgaXRzIG9yZGluYWwuCiAgICAgKi8KICAg\nIHB1YmxpYyBib29sZWFuIGdldFN0b3JlT3JkaW5hbCgpIHsKICAgICAgICBy\nZXR1cm4gX29yZGluYWw7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVy\nIHRvIHN0b3JlIHRoZSBlbnVtIHZhbHVlIGFzIGl0cyBvcmRpbmFsLgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBzZXRTdG9yZU9yZGluYWwoYm9vbGVhbiBv\ncmRpbmFsKSB7CiAgICAgICAgX29yZGluYWwgPSBvcmRpbmFsOwogICAgfQoK\nICAgIHB1YmxpYyBDb2x1bW5bXSBtYXAoVmFsdWVNYXBwaW5nIHZtLCBTdHJp\nbmcgbmFtZSwgQ29sdW1uSU8gaW8sCiAgICAgICAgYm9vbGVhbiBhZGFwdCkg\newogICAgICAgIC8vIGFsbCBlbnVtIGNsYXNzZXMgaGF2ZSBhIHN0YXRpYyBt\nZXRob2QgY2FsbGVkICd2YWx1ZXMoKScKICAgICAgICAvLyB0aGF0IHJldHVy\nbnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBlbnVtIHZhbHVlcwogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIE1ldGhvZCBtID0gdm0uZ2V0VHlwZSgpLmdldE1l\ndGhvZCgidmFsdWVzIiwgKENsYXNzW10pIG51bGwpOwogICAgICAgICAgICBf\ndmFscyA9IChFbnVtW10pIG0uaW52b2tlKG51bGwsIChPYmplY3RbXSkgbnVs\nbCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgdGhyb3cgbmV3IE1ldGFEYXRhRXhjZXB0aW9uKCkuc2V0Q2F1c2UoZSk7\nCiAgICAgICAgfQoKICAgICAgICBDb2x1bW4gY29sID0gbmV3IENvbHVtbigp\nOwogICAgICAgIGNvbC5zZXROYW1lKG5hbWUpOwogICAgICAgIGlmIChfb3Jk\naW5hbCkKICAgICAgICAgICAgY29sLnNldEphdmFUeXBlKEphdmFUeXBlcy5T\nSE9SVCk7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIGxvb2sgZm9y\nIHRoZSBsb25nZXN0IGVudW0gdmFsdWUgbmFtZTsgdXNlIDIwIGFzIG1pbiBs\nZW5ndGggdG8KICAgICAgICAgICAgLy8gbGVhdmUgcm9vbSBmb3IgZnV0dXJl\nIGxvbmcgbmFtZXMKICAgICAgICAgICAgaW50IGxlbiA9IDIwOwogICAgICAg\nICAgICBmb3IgKGludCBpID0gMDsgaSA8IF92YWxzLmxlbmd0aDsgaSsrKQog\nICAgICAgICAgICAgICAgbGVuID0gTWF0aC5tYXgoX3ZhbHNbaV0ubmFtZSgp\nLmxlbmd0aCgpLCBsZW4pOwoKICAgICAgICAgICAgY29sLnNldEphdmFUeXBl\nKEphdmFUeXBlcy5TVFJJTkcpOwogICAgICAgICAgICBjb2wuc2V0U2l6ZShs\nZW4pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3IENvbHVtbltdeyBj\nb2wgfTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1ZlcnNpb25hYmxl\nKCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgdG9EYXRhU3RvcmVWYWx1ZShWYWx1ZU1hcHBpbmcgdm0sIE9iamVj\ndCB2YWwsCiAgICAgICAgSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAgaWYg\nKHZhbCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAg\nICBpZiAoX29yZGluYWwpCiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZWdl\ncigoKEVudW0pIHZhbCkub3JkaW5hbCgpKTsKICAgICAgICByZXR1cm4gKChF\nbnVtKSB2YWwpLm5hbWUoKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IHRv\nT2JqZWN0VmFsdWUoVmFsdWVNYXBwaW5nIHZtLCBPYmplY3QgdmFsKSB7CiAg\nICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVs\nbDsKICAgICAgICBpZiAoX29yZGluYWwpCiAgICAgICAgICAgIHJldHVybiBf\ndmFsc1soKE51bWJlcikgdmFsKS5pbnRWYWx1ZSgpXTsKICAgICAgICByZXR1\ncm4gRW51bS52YWx1ZU9mKHZtLmdldFR5cGUoKSwgKFN0cmluZykgdmFsKTsK\nICAgIH0KfQo=\n","encoding":"base64"}

