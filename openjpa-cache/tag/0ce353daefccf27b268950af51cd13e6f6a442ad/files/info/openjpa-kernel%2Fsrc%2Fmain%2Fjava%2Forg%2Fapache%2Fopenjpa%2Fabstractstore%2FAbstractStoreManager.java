{"sha":"a1277e71ed06ac83f06f4bcd9c88c784b5be7106","node_id":"MDQ6QmxvYjIwNjM2NDphMTI3N2U3MWVkMDZhYzgzZjA2ZjRiY2Q5Yzg4Yzc4NGI1YmU3MTA2","size":20931,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a1277e71ed06ac83f06f4bcd9c88c784b5be7106","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5hYnN0cmFjdHN0b3JlOwoKaW1wb3J0IGphdmEudXRpbC5CaXRT\nZXQ7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEu\ndXRpbC5Db2xsZWN0aW9uczsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Owpp\nbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxp\nbmtlZExpc3Q7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3Bl\nbkpQQUNvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nY29uZi5PcGVuSlBBQ29uZmlndXJhdGlvbkltcGw7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLkZldGNoQ29uZmlndXJhdGlvbjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuRmV0Y2hDb25maWd1cmF0aW9u\nSW1wbDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuT3BlbkpQ\nQVN0YXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJu\nZWwuUENTdGF0ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nU2VxOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5TdG9yZUNv\nbnRleHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0b3Jl\nTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuU3Rv\ncmVRdWVyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIucm9wLlJl\nc3VsdE9iamVjdFByb3ZpZGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLm1ldGEuQ2xhc3NNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5tZXRhLkZpZWxkTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubWV0YS5KYXZhVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbWV0YS5WYWx1ZVN0cmF0ZWdpZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEudXRpbC5BcHBsaWNhdGlvbklkczsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS51dGlsLklkOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwu\nSW1wbEhlbHBlcjsKCi8qKgogKiBBYnN0cmFjdCBzdG9yZSBtYW5hZ2VyIGlt\ncGxlbWVudGF0aW9uIHRvIGVhc2UgZGV2ZWxvcG1lbnQgb2YgY3VzdG9tCiAq\nIE9wZW5KUEEgYmFjay1lbmRzLiBBIGNvbmNyZXRlIHN1YmNsYXNzIG11c3Qg\nZGVmaW5lIGltcGxlbWVudGF0aW9ucyBmb3IgdGhlCiAqIGZvbGxvd2luZyBt\nZXRob2RzOgogKiA8dWw+CiAqIDxsaT57QGxpbmsgU3RvcmVNYW5hZ2VyI2V4\naXN0c308L2xpPgogKiA8bGk+e0BsaW5rICNpbml0aWFsaXplfTwvbGk+CiAq\nIDxsaT57QGxpbmsgI2xvYWR9PC9saT4KICogPGxpPntAbGluawogKiAjZmx1\nc2goQ29sbGVjdGlvbixDb2xsZWN0aW9uLENvbGxlY3Rpb24sQ29sbGVjdGlv\nbixDb2xsZWN0aW9uKX08L2xpPgogKiA8bGk+e0BsaW5rICNleGVjdXRlRXh0\nZW50fTwvbGk+CiAqIDwvdWw+IEFkZGl0aW9uYWxseSwgc3ViY2xhc3NlcyBz\naG91bGQgbm90IGF0dGVtcHQgdG8gYWNxdWlyZSByZXNvdXJjZXMKICogdW50\naWwge0BsaW5rICNvcGVufSBoYXMgYmVlbiBjYWxsZWQuIFN0b3JlIG1hbmFn\nZXIgaW5zdGFuY2VzIG1pZ2h0IGJlCiAqIGNyZWF0ZWQgdG8gY2FsbCBtZXRh\nZGF0YSBtZXRob2RzIHN1Y2ggYXMge0BsaW5rICNuZXdDb25maWd1cmF0aW9u\nfSBvcgogKiB7QGxpbmsgI2dldFVuc3VwcG9ydGVkT3B0aW9uc30gYW5kIG5l\ndmVyIG9wZW5lZC4gVGhlc2UgaW5zdGFuY2VzIHNob3VsZAogKiBub3QgY29u\nc3VtZSBhbnkgZGF0YSBzdG9yZSByZXNvdXJjZXMuCiAqICBOb3RlczoKICog\nPHVsPgogKiA8bGk+VGhlIHtAbGluayBTdG9yZU1hbmFnZXIjaW5pdGlhbGl6\nZX0gbWV0aG9kIGlzIHJlc3BvbnNpYmxlCiAqIGZvciBjcmVhdGluZyBuZXcg\naW5zdGFuY2VzIG9mIG9iamVjdHMgZnJlc2hseSBsb2FkZWQgZnJvbSB0aGUK\nICogZGF0YWJhc2UuIFRoZSBtZXRob2Qgd2lsbCBiZSBpbnZva2VkIHdpdGgg\nYSB7QGxpbmsgT3BlbkpQQVN0YXRlTWFuYWdlcn0KICogdGhhdCB0aGUgbmV3\nbHktbG9hZGVkIG9iamVjdCBzaG91bGQgYmUgYXNzb2NpYXRlZCB3aXRoLiBU\nbyBjcmVhdGUgdGhlCiAqIG5ldyBvYmplY3QgYW5kIHNldCB1cCB0aGlzIGFz\nc29jaWF0aW9uIGNvcnJlY3RseSwgdGhlIGltcGxlbWVudGF0aW9uCiAqIHNo\nb3VsZCB1c2UgdGhlIHtAbGluayBPcGVuSlBBU3RhdGVNYW5hZ2VyI2luaXRp\nYWxpemV9IG1ldGhvZC48L2xpPgogKiA8bGk+SWYgeW91ciBkYXRhIHN0b3Jl\nIHN1cHBvcnRzIHNvbWUgc29ydCBvZiB0cmFuc2FjdGlvbiBvcgogKiB1bml0\nIG9mIHdvcmssIHlvdSBzaG91bGQgb3ZlcnJpZGUgdGhlIHtAbGluayAjYmVn\naW59LCB7QGxpbmsgI2NvbW1pdH0sCiAqIGFuZCB7QGxpbmsgI3JvbGxiYWNr\nfSBtZXRob2RzLjwvbGk+CiAqIDxsaT5UaGlzIGNsYXNzIHByb3ZpZGVzIG5v\nIGluZnJhc3RydWN0dXJlIHN1cHBvcnQgZm9yIG9wdGltaXN0aWMKICogdHJh\nbnNhY3Rpb25zLiBUbyBwcm92aWRlIG9wdGltaXN0aWMgdHJhbnNhY3Rpb24g\nc3VwcG9ydDoKICogPHVsPgogKiA8bGk+T3ZlcnJpZGUge0BsaW5rICNiZWdp\nbk9wdGltaXN0aWN9LCB7QGxpbmsgI3JvbGxiYWNrT3B0aW1pc3RpY30sCiAq\nIGFuZCB7QGxpbmsgI3N5bmNWZXJzaW9ufS48L2xpPgogKiA8bGk+T3ZlcnJp\nZGUge0BsaW5rICNnZXRVbnN1cHBvcnRlZE9wdGlvbnN9IHRvIG5vdCBpbmNs\ndWRlIHtAbGluawogKiBPcGVuSlBBQ29uZmlndXJhdGlvbiNPUFRJT05fT1BU\nSU1JU1RJQ30gaW4gdGhlIGxpc3Qgb2YgdW5zdXBwb3J0ZWQKICogb3B0aW9u\ncy48L2xpPgogKiA8bGk+RW5zdXJlIHRoYXQgeW91ciBmbHVzaCBpbXBsZW1l\nbnRhdGlvbiBzZXRzIHRoZSBuZXh0CiAqIHZlcnNpb24gZm9yIGVhY2ggbW9k\naWZpZWQgb2JqZWN0IHZpYSB0aGUge0BsaW5rCiAqIE9wZW5KUEFTdGF0ZU1h\nbmFnZXIjc2V0TmV4dFZlcnNpb259IG1ldGhvZC48L2xpPgogKiA8bGk+SWYg\neW91ciB2ZXJzaW9uIG9iamVjdCBkb2VzIG5vdCBpbXBsZW1lbnQge0BsaW5r\nIENvbXBhcmFibGV9LAogKiBvdmVycmlkZSB7QGxpbmsgI2NvbXBhcmVWZXJz\naW9ufSwgd2hpY2ggcmVsaWVzIG9uIHRoZQogKiB7QGxpbmsgQ29tcGFyYWJs\nZSNjb21wYXJlVG99IG1ldGhvZC48L2xpPgogKiA8L3VsPjwvbGk+CiAqIDxs\naT5JZiB5b3VyIGRhdGEgc3RvcmUgc3VwcG9ydHMgYSBtZWNoYW5pc20gZm9y\nIGF1dG9tYXRpY2FsbHkKICogZ2VuZXJhdGluZyBhbmQgbWFuYWdpbmcgaWRl\nbnRpdHkgdmFsdWVzIChvciBpZiB5b3Ugd2FudCB0bwogKiBwcm92aWRlIHRo\nYXQgZmFjaWxpdHkgb24gdG9wIG9mIHlvdXIgZGF0YSBzdG9yZSksIGltcGxl\nbWVudAogKiB0aGUge0BsaW5rICNnZXREYXRhU3RvcmVJZFNlcXVlbmNlfSBt\nZXRob2QgaWYgeW91IHdhbnQgdG8gdXNlIGEKICogPGNvZGU+bG9uZzwvY29k\nZT4gYXMgeW91ciBkYXRhc3RvcmUgaWRlbnRpdHkgdHlwZSBhbmQgYXJlCiAq\nIGhhcHB5IHdpdGggT3BlbkpQQSdzIHtAbGluayBJZH0gY2xhc3MuIFRvIHVz\nZSBhbm90aGVyIGRhdGFzdG9yZSBpZGVudGl0eQogKiB0eXBlLCBvdmVycmlk\nZSB7QGxpbmsgI2dldE1hbmFnZWRUeXBlfSwKICoge0BsaW5rICNnZXREYXRh\nU3RvcmVJZFR5cGV9LCB7QGxpbmsgI2NvcHlEYXRhU3RvcmVJZH0sIGFuZAog\nKiB7QGxpbmsgI25ld0RhdGFTdG9yZUlkfSBpbnN0ZWFkLiBJbiBlaXRoZXIg\nY2FzZSwgb3ZlcnJpZGUKICoge0BsaW5rICNnZXRVbnN1cHBvcnRlZE9wdGlv\nbnN9IHRvIG5vdCBpbmNsdWRlCiAqIHtAbGluayBPcGVuSlBBQ29uZmlndXJh\ndGlvbiNPUFRJT05fSURfREFUQVNUT1JFfSBpbiB0aGUgbGlzdCBvZgogKiB1\nbnN1cHBvcnRlZCBvcHRpb25zLjwvbGk+CiAqIDxsaT5JZiB5b3VyIGRhdGEg\nc3RvcmUgZG9lcyBub3Qgc3VwcG9ydCBxdWVyaWVzIChvciBpZiB5b3UgZG8K\nICogbm90IHdhbnQgdG8gY29udmVydCBPcGVuSlBBJ3MgcXVlcnkgcGFyc2Ug\ndHJlZSBpbnRvIGEKICogZGF0YXN0b3JlLXNwZWNpZmljIHF1ZXJ5KSwgeW91\nIHN0aWxsIGhhdmUgdHdvIG9wdGlvbnMgaW4gdGVybXMKICogb2YgcXVlcnkg\nZXhlY3V0aW9uOgogKiA8dWw+CiAqIDxsaT48ZW0+SW4tbWVtb3J5IGV4ZWN1\ndGlvbjwvZW0+OiBJZiB5b3UKICogZXhlY3V0ZSBhIHF1ZXJ5IGFnYWluc3Qg\nYW4gZXh0ZW50IG9yIGEgY2xhc3MsIE9wZW5KUEEgd2lsbAogKiBhdXRvbWF0\naWNhbGx5IGxvYWQgdGhlIGZ1bGwgZXh0ZW50IG9mIG9iamVjdHMgaW50byBt\nZW1vcnkgYW5kCiAqIGV4ZWN1dGUgdGhlIHF1ZXJ5IGluIG1lbW9yeS48L2xp\nPgogKiA8bGk+PGVtPm9wZW5qcGEuTWV0aG9kUUw8L2VtPjogTWV0aG9kUUwg\nYWxsb3dzCiAqIHlvdSB0byB1c2UgdGhlIHF1ZXJ5IEFQSXMgdG8gZXhlY3V0\nZSBhIG1ldGhvZCB0aGF0IGZpbmRzCiAqIGRhdGEgaW4geW91ciBiYWNrLWVu\nZCBhbmQgcmV0dXJucyB0aGF0IGRhdGEgYXMgYQogKiB7QGxpbmsgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi5yb3AuUmVzdWx0TGlzdH0uIEZvciBtb3JlIGRl\ndGFpbHMgb24KICogTWV0aG9kUUwsIHNlZSB0aGUgT3BlbkpQQSBSZWZlcmVu\nY2UgR3VpZGUuPC9saT4KICogPC91bD48L2xpPgogKiA8L3VsPgogKgogKiBA\nc2luY2UgMC4zLjEKICovCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBBYnN0cmFj\ndFN0b3JlTWFuYWdlcgogICAgaW1wbGVtZW50cyBTdG9yZU1hbmFnZXIgewoK\nICAgIHByb3RlY3RlZCBTdG9yZUNvbnRleHQgY3R4OwoKICAgIHB1YmxpYyBm\naW5hbCB2b2lkIHNldENvbnRleHQoU3RvcmVDb250ZXh0IGN0eCkgewogICAg\nICAgIHRoaXMuY3R4ID0gY3R4OwogICAgICAgIG9wZW4oKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFJldHVybnMgdGhlIHtAbGluayBTdG9yZUNvbnRleHR9\nIHRoYXQgdGhpcyBzdG9yZSBtYW5hZ2VyIGlzCiAgICAgKiBhc3NvY2lhdGVk\nIHdpdGguCiAgICAgKi8KICAgIHB1YmxpYyBTdG9yZUNvbnRleHQgZ2V0Q29u\ndGV4dCgpIHsKICAgICAgICByZXR1cm4gY3R4OwogICAgfQoKICAgIC8qKgog\nICAgICogTm8tb3AgaW1wbGVtZW50YXRpb24uIFJlYWR5IHRoaXMgc3RvcmUg\nbWFuYWdlciBmb3IgcGVyc2lzdGVudCBvcGVyYXRpb25zLgogICAgICovCiAg\nICBwcm90ZWN0ZWQgdm9pZCBvcGVuKCkgewogICAgfQoKICAgIC8qKgogICAg\nICogTm8tb3AgaW1wbGVtZW50YXRpb24uIE92ZXJyaWRlIHRoaXMgbWV0aG9k\nIHRvIHByb3ZpZGUgb3B0aW1pc3RpYwogICAgICogbG9ja2luZyBzZW1hbnRp\nY3MgZm9yIHlvdXIgZGF0YSBzdG9yZSBpZiB5b3UgbmVlZCBub3RpZmljYXRp\nb24gb2YKICAgICAqIHRoZSBiZWdpbm5pbmcgb2YgYW4gb3B0aW1pc3RpYyB0\ncmFuc2FjdGlvbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgYmVnaW5PcHRp\nbWlzdGljKCkgewogICAgfQoKICAgIC8qKgogICAgICogTm8tb3AgaW1wbGVt\nZW50YXRpb24uIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHByb3ZpZGUgb3B0\naW1pc3RpYwogICAgICogbG9ja2luZyBzZW1hbnRpY3MgZm9yIHlvdXIgZGF0\nYSBzdG9yZSBpZiB5b3UgbmVlZCBub3RpZmljYXRpb24gb2YKICAgICAqIGEg\ncm9sbGJhY2sgb2YgYW4gb3B0aW1pc3RpYyB0cmFuc2FjdGlvbiBiZWZvcmUg\ne0BsaW5rICNiZWdpbn0gaXMgaW52b2tlZC4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgcm9sbGJhY2tPcHRpbWlzdGljKCkgewogICAgfQoKICAgIC8qKgog\nICAgICogT3BlbkpQQSBhc3N1bWVzIHRoYXQgYWZ0ZXIgdGhpcyBtZXRob2Qg\naXMgaW52b2tlZCwgYWxsIGRhdGEKICAgICAqIGFjY2Vzc2VzIHRocm91Z2gg\ndGhpcyBzdG9yZSBtYW5hZ2VyIHdpbGwgYmUgcGFydCBvZiBhIHNpbmdsZQog\nICAgICogdW5pdCBvZiB3b3JrIHRoYXQgY2FuIGJlIHJvbGxlZCBiYWNrLgog\nICAgICogIFRoaXMgaXMgYSBuby1vcCBpbXBsZW1lbnRhdGlvbi4gSWYgeW91\nciBkYXRhIHN0b3JlIGRvZXMgbm90CiAgICAgKiBzdXBwb3J0IGFueSBjb25j\nZXB0IG9mIGxvY2tpbmcgb3IgdHJhbnNhY3Rpb25zLCB5b3UgbmVlZCBub3QK\nICAgICAqIG92ZXJyaWRlIHRoaXMgbWV0aG9kLgogICAgICovCiAgICBwdWJs\naWMgdm9pZCBiZWdpbigpIHsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMg\naXMgYSBuby1vcCBpbXBsZW1lbnRhdGlvbi4gSWYgeW91ciBkYXRhIHN0b3Jl\nIGRvZXMgbm90CiAgICAgKiBoYXZlIGEgY29uY2VwdCBvZiB0cmFuc2FjdGlv\nbnMgb3IgYSB1bml0IG9mIHdvcmssIHlvdSBuZWVkIG5vdAogICAgICogb3Zl\ncnJpZGUgdGhpcyBtZXRob2QuIElmIGl0IGRvZXMsIHRoZW4gb3ZlcnJpZGUg\ndGhpcyBtZXRob2QgdG8KICAgICAqIG5vdGlmeSB0aGUgZGF0YSBzdG9yZSB0\naGF0IHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uIHNob3VsZCBiZSBjb21taXR0\nZWQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIGNvbW1pdCgpIHsKICAgIH0K\nCiAgICAvKioKICAgICAqIFRoaXMgaXMgYSBuby1vcCBpbXBsZW1lbnRhdGlv\nbi4gSWYgeW91ciBkYXRhIHN0b3JlIGRvZXMgbm90CiAgICAgKiBoYXZlIGEg\nY29uY2VwdCBvZiB0cmFuc2FjdGlvbnMgb3IgYSB1bml0IG9mIHdvcmssIHlv\ndSBuZWVkIG5vdAogICAgICogb3ZlcnJpZGUgdGhpcyBtZXRob2QuIElmIGl0\nIGRvZXMsIHRoZW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8KICAgICAqIG5v\ndGlmeSB0aGUgZGF0YSBzdG9yZSB0aGF0IHRoZSBjdXJyZW50IHRyYW5zYWN0\naW9uIHNob3VsZCBiZSByb2xsZWQgYmFjay4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgcm9sbGJhY2soKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBTaW5j\nZSB0aGlzIHN0b3JlIG1hbmFnZXIgZG9lcyBub3QgcHJvdmlkZSBvcHRpbWlz\ndGljIGxvY2tpbmcKICAgICAqIHN1cHBvcnQsIHRoaXMgbWV0aG9kIGFsd2F5\ncyByZXR1cm5zIDxjb2RlPnRydWU8L2NvZGU+LgogICAgICovCiAgICBwdWJs\naWMgYm9vbGVhbiBzeW5jVmVyc2lvbihPcGVuSlBBU3RhdGVNYW5hZ2VyIHNt\nLCBPYmplY3QgY29udGV4dCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAg\nfQoKICAgIC8qKgogICAgICogVGhpcyBtZXRob2QgaXMgaW52b2tlZCB3aGVu\nIE9wZW5KUEEgbmVlZHMgdG8gbG9hZCBhbiBvYmplY3Qgd2hvc2UKICAgICAq\nIGlkZW50aXR5IGlzIGtub3duIGJ1dCB3aGljaCBoYXMgbm90IHlldCBiZWVu\nIGxvYWRlZCBmcm9tIHRoZSBkYXRhCiAgICAgKiBzdG9yZS4gPGNvZGU+c208\nL2NvZGU+IGlzIGEgcGFydGlhbGx5LXNldC11cCBzdGF0ZSBtYW5hZ2VyIGZv\nciB0aGlzCiAgICAgKiBvYmplY3QuIFRoZSBJRCBhbmQgbGVhc3QtZGVyaXZl\nZCB0eXBlIGluZm9ybWF0aW9uIGZvciB0aGUgaW5zdGFuY2UKICAgICAqIHRv\nIGxvYWQgY2FuIGJlIG9idGFpbmVkIGJ5IGludm9raW5nCiAgICAgKiA8Y29k\nZT5zbS5nZXRPYmplY3RJZCgpPC9jb2RlPiBhbmQgPGNvZGU+c20uZ2V0TWV0\nYURhdGEoKTwvY29kZT4uCiAgICAgKiAKICAgICAqICBXaGVuIGltcGxlbWVu\ndGluZyB0aGlzIG1ldGhvZCwgbG9hZCB0aGUgZGF0YSBmb3IgdGhpcyBvYmpl\nY3QgZnJvbQogICAgICogdGhlIGRhdGEgc3RvcmUsIGRldGVybWluZSB0aGUg\nbW9zdC1kZXJpdmVkIHN1YmNsYXNzIG9mIHRoZSBuZXdseS1sb2FkZWQKICAg\nICAqIGRhdGEsIGFuZCB0aGVuIHVzZSB0aGUge0BsaW5rIE9wZW5KUEFTdGF0\nZU1hbmFnZXIjaW5pdGlhbGl6ZX0gbWV0aG9kIHRvCiAgICAgKiBwb3B1bGF0\nZSA8Y29kZT5zbTwvY29kZT4gd2l0aCBhIG5ldyBpbnN0YW5jZSBvZiB0aGUg\nYXBwcm9wcmlhdGUgdHlwZS4KICAgICAqIE9uY2Uge0BsaW5rIE9wZW5KUEFT\ndGF0ZU1hbmFnZXIjaW5pdGlhbGl6ZX0gaGFzIGJlZW4gaW52b2tlZCwgcHJv\nY2VlZCB0bwogICAgICogbG9hZCBmaWVsZCBkYXRhIGludG8gPGNvZGU+c208\nL2NvZGU+IGFzIGluIHRoZSB7QGxpbmsgI2xvYWR9IG1ldGhvZCwgYnkKICAg\nICAqIHVzaW5nIHtAbGluayBPcGVuSlBBU3RhdGVNYW5hZ2VyI3N0b3JlfSAo\nb3IgdGhlIGFwcHJvcHJpYXRlCiAgICAgKiA8Y29kZT5PcGVuSlBBU3RhdGVN\nYW5hZ2VyLnN0b3JlPGVtPnR5cGU8L2VtPjwvY29kZT4gbWV0aG9kKSB0byBw\ndXQgdGhlCiAgICAgKiBkYXRhIGludG8gdGhlIG9iamVjdC4KICAgICAqLwog\nICAgcHVibGljIGFic3RyYWN0IGJvb2xlYW4gaW5pdGlhbGl6ZShPcGVuSlBB\nU3RhdGVNYW5hZ2VyIHNtLCBQQ1N0YXRlIHN0YXRlLAogICAgICAgIEZldGNo\nQ29uZmlndXJhdGlvbiBmZXRjaCwgT2JqZWN0IGNvbnRleHQpOwoKICAgIC8q\nKgogICAgICogVGhpcyBtZXRob2QgaXMgaW52b2tlZCB3aGVuIE9wZW5KUEEg\nbmVlZHMgdG8gbG9hZCBhZGRpdGlvbmFsIGRhdGEKICAgICAqIGludG8gYW4g\nb2JqZWN0IHRoYXQgaGFzIGFscmVhZHkgYmVlbiBhdCBsZWFzdCBwYXJ0aWFs\nbHkgbG9hZGVkIGJ5CiAgICAgKiBhIHByZXZpb3VzIHtAbGluayAjaW5pdGlh\nbGl6ZX0gaW52b2NhdGlvbi4KICAgICAqICBMb2FkIGRhdGEgaW50byA8Y29k\nZT5zbTwvY29kZT4gYnkgdXNpbmcge0BsaW5rCiAgICAgKiBPcGVuSlBBU3Rh\ndGVNYW5hZ2VyI3N0b3JlfSAob3IgdGhlIGFwcHJvcHJpYXRlCiAgICAgKiA8\nY29kZT5PcGVuSlBBU3RhdGVNYW5hZ2VyLnN0b3JlPGVtPnR5cGU8L2VtPjwv\nY29kZT4gbWV0aG9kKSB0byBwdXQgdGhlCiAgICAgKiBkYXRhIGludG8gdGhl\nIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIGFic3RyYWN0IGJvb2xlYW4g\nbG9hZChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBCaXRTZXQgZmllbGRzLAog\nICAgICAgIEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCwgaW50IGxvY2tMZXZl\nbCwgT2JqZWN0IGNvbnRleHQpOwoKICAgIC8qKgogICAgICogVGhpcyBpbXBs\nZW1lbnRhdGlvbiBqdXN0IGRlbGVnYXRlcyB0byB0aGUgcHJvcGVyIHNpbmd1\nbGFyCiAgICAgKiBtZXRob2QgKHtAbGluayBTdG9yZU1hbmFnZXIjaW5pdGlh\nbGl6ZX0gb3Ige0BsaW5rIFN0b3JlTWFuYWdlciNsb2FkfSkKICAgICAqIGRl\ncGVuZGluZyBvbiBlYWNoIHN0YXRlIG1hbmFnZXIncyBzdGF0ZS4gSWYgeW91\nciBkYXRhIHN0b3JlIHByb3ZpZGVzCiAgICAgKiBidWxrIGxvYWRpbmcgQVBJ\ncywgb3ZlcnJpZGluZyB0aGlzIG1ldGhvZCB0byBiZSBtb3JlIGNsZXZlciBt\nYXkgYmUKICAgICAqIGFkdmFudGFnZW91cy4KICAgICAqLwogICAgcHVibGlj\nIENvbGxlY3Rpb24gbG9hZEFsbChDb2xsZWN0aW9uIHNtcywgUENTdGF0ZSBz\ndGF0ZSwgaW50IGxvYWQsCiAgICAgICAgRmV0Y2hDb25maWd1cmF0aW9uIGZl\ndGNoLCBPYmplY3QgY29udGV4dCkgewogICAgICAgIHJldHVybiBJbXBsSGVs\ncGVyLmxvYWRBbGwoc21zLCB0aGlzLCBzdGF0ZSwgbG9hZCwgZmV0Y2gsIGNv\nbnRleHQpOwogICAgfQoKICAgIC8qKgogICAgICogQnJlYWtzIGRvd24gPGNv\nZGU+c3RhdGVzPC9jb2RlPiBiYXNlZCBvbiB0aGUgb2JqZWN0cycgY3VycmVu\ndAogICAgICogc3RhdGVzLCBhbmQgZGVsZWdhdGVzIHRvCiAgICAgKiB7QGxp\nbmsgI2ZsdXNoKENvbGxlY3Rpb24sQ29sbGVjdGlvbixDb2xsZWN0aW9uLENv\nbGxlY3Rpb24sQ29sbGVjdGlvbil9LgogICAgICovCiAgICBwdWJsaWMgQ29s\nbGVjdGlvbiBmbHVzaChDb2xsZWN0aW9uIHNtcykgewogICAgICAgIC8vIGJy\nZWFrIGRvd24gc3RhdGUgbWFuYWdlcnMgYnkgc3RhdGU7IGluaXRpYWxpemUg\nYXMgZW1wdHkgbGlzdHM7CiAgICAgICAgLy8gdXNlIGNvbnN0YW50cyBmb3Ig\nZWZmaWNpZW5jeQogICAgICAgIENvbGxlY3Rpb24gcE5ldyA9IG5ldyBMaW5r\nZWRMaXN0KCk7CiAgICAgICAgQ29sbGVjdGlvbiBwTmV3VXBkYXRlZCA9IG5l\ndyBMaW5rZWRMaXN0KCk7CiAgICAgICAgQ29sbGVjdGlvbiBwTmV3Rmx1c2hl\nZERlbGV0ZWQgPSBuZXcgTGlua2VkTGlzdCgpOwogICAgICAgIENvbGxlY3Rp\nb24gcERpcnR5ID0gbmV3IExpbmtlZExpc3QoKTsKICAgICAgICBDb2xsZWN0\naW9uIHBEZWxldGVkID0gbmV3IExpbmtlZExpc3QoKTsKCiAgICAgICAgT3Bl\nbkpQQVN0YXRlTWFuYWdlciBzbTsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0\nciA9IHNtcy5pdGVyYXRvcigpOyBpdHIuaGFzTmV4dCgpOykgewogICAgICAg\nICAgICBzbSA9IChPcGVuSlBBU3RhdGVNYW5hZ2VyKSBpdHIubmV4dCgpOwog\nICAgICAgICAgICBpZiAoc20uZ2V0UENTdGF0ZSgpID09IFBDU3RhdGUuUE5F\nVyAmJiAhc20uaXNGbHVzaGVkKCkpCiAgICAgICAgICAgICAgICBwTmV3LmFk\nZChzbSk7CiAgICAgICAgICAgIGVsc2UgaWYgKHNtLmdldFBDU3RhdGUoKSA9\nPSBQQ1N0YXRlLlBORVcgJiYgc20uaXNGbHVzaGVkKCkpCiAgICAgICAgICAg\nICAgICBwTmV3VXBkYXRlZC5hZGQoc20pOwogICAgICAgICAgICBlbHNlIGlm\nIChzbS5nZXRQQ1N0YXRlKCkgPT0gUENTdGF0ZS5QTkVXRkxVU0hFRERFTEVU\nRUQpCiAgICAgICAgICAgICAgICBwTmV3Rmx1c2hlZERlbGV0ZWQuYWRkKHNt\nKTsKICAgICAgICAgICAgZWxzZSBpZiAoc20uZ2V0UENTdGF0ZSgpID09IFBD\nU3RhdGUuUERJUlRZKQogICAgICAgICAgICAgICAgcERpcnR5LmFkZChzbSk7\nCiAgICAgICAgICAgIGVsc2UgaWYgKHNtLmdldFBDU3RhdGUoKSA9PSBQQ1N0\nYXRlLlBERUxFVEVEKQogICAgICAgICAgICAgICAgcERlbGV0ZWQuYWRkKHNt\nKTsKICAgICAgICB9CgogICAgICAgIC8vIG5vIGRpcnR5IGluc3RhbmNlcyB0\nbyBmbHVzaD8KICAgICAgICBpZiAocE5ldy5pc0VtcHR5KCkgJiYgcE5ld1Vw\nZGF0ZWQuaXNFbXB0eSgpCiAgICAgICAgICAgICYmIHBOZXdGbHVzaGVkRGVs\nZXRlZC5pc0VtcHR5KCkgJiYgcERpcnR5LmlzRW1wdHkoKQogICAgICAgICAg\nICAmJiBwRGVsZXRlZC5pc0VtcHR5KCkpCiAgICAgICAgICAgIHJldHVybiBD\nb2xsZWN0aW9ucy5FTVBUWV9MSVNUOwoKICAgICAgICByZXR1cm4gZmx1c2go\ncE5ldywgcE5ld1VwZGF0ZWQsIHBOZXdGbHVzaGVkRGVsZXRlZCwgcERpcnR5\nLCBwRGVsZXRlZCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgYmVmb3JlU3Rh\ndGVDaGFuZ2UoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgUENTdGF0ZSBmcm9t\nU3RhdGUsCiAgICAgICAgUENTdGF0ZSB0b1N0YXRlKSB7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gYXNzaWduT2JqZWN0SWQoT3BlbkpQQVN0YXRlTWFu\nYWdlciBzbSwgYm9vbGVhbiBwcmVGbHVzaCkgewogICAgICAgIENsYXNzTWV0\nYURhdGEgbWV0YSA9IHNtLmdldE1ldGFEYXRhKCk7CiAgICAgICAgaWYgKG1l\ndGEuZ2V0SWRlbnRpdHlUeXBlKCkgPT0gQ2xhc3NNZXRhRGF0YS5JRF9BUFBM\nSUNBVElPTikKICAgICAgICAgICAgcmV0dXJuIEFwcGxpY2F0aW9uSWRzLmFz\nc2lnbihzbSwgdGhpcywgcHJlRmx1c2gpOwoKICAgICAgICAvLyBkYXRhc3Rv\ncmUgaWRlbnRpdHkKICAgICAgICBPYmplY3QgdmFsID0gSW1wbEhlbHBlci5n\nZW5lcmF0ZUlkZW50aXR5VmFsdWUoY3R4LCBtZXRhLAogICAgICAgICAgICBK\nYXZhVHlwZXMuTE9ORyk7CiAgICAgICAgcmV0dXJuIGFzc2lnbkRhdGFTdG9y\nZUlkKHNtLCB2YWwpOwogICAgfQoKICAgIC8qKgogICAgICogQXNzaWduIGEg\nbmV3IGRhdGFzdG9yZSBpZGVudGl0eSB0byB0aGUgZ2l2ZW4gaW5zdGFuY2Uu\nIFRoaXMgZ2l2ZW4KICAgICAqIHZhbHVlIG1heSBiZSBudWxsLgogICAgICov\nCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBhc3NpZ25EYXRhU3RvcmVJZChPcGVu\nSlBBU3RhdGVNYW5hZ2VyIHNtLCBPYmplY3QgdmFsKSB7CiAgICAgICAgQ2xh\nc3NNZXRhRGF0YSBtZXRhID0gc20uZ2V0TWV0YURhdGEoKTsKICAgICAgICBp\nZiAodmFsID09IG51bGwgJiYgbWV0YS5nZXRJZGVudGl0eVN0cmF0ZWd5KCkg\nIT0gVmFsdWVTdHJhdGVnaWVzLk5BVElWRSkKICAgICAgICAgICAgcmV0dXJu\nIGZhbHNlOwogICAgICAgIGlmICh2YWwgPT0gbnVsbCkKICAgICAgICAgICAg\ndmFsID0gZ2V0RGF0YVN0b3JlSWRTZXF1ZW5jZShtZXRhKS5uZXh0KGN0eCwg\nbWV0YSk7CiAgICAgICAgc20uc2V0T2JqZWN0SWQobmV3RGF0YVN0b3JlSWQo\ndmFsLCBtZXRhKSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gYXNzaWduRmllbGQoT3BlbkpQQVN0YXRlTWFuYWdl\nciBzbSwgaW50IGZpZWxkLAogICAgICAgIGJvb2xlYW4gcHJlRmx1c2gpIHsK\nICAgICAgICBGaWVsZE1ldGFEYXRhIGZtZCA9IHNtLmdldE1ldGFEYXRhKCku\nZ2V0RmllbGQoZmllbGQpOwogICAgICAgIE9iamVjdCB2YWwgPSBJbXBsSGVs\ncGVyLmdlbmVyYXRlRmllbGRWYWx1ZShjdHgsIGZtZCk7CiAgICAgICAgaWYg\nKHZhbCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAg\nICAgc20uc3RvcmUoZmllbGQsIHZhbCk7CiAgICAgICAgcmV0dXJuIHRydWU7\nCiAgICB9CgogICAgcHVibGljIENsYXNzIGdldE1hbmFnZWRUeXBlKE9iamVj\ndCBvaWQpIHsKICAgICAgICBpZiAob2lkIGluc3RhbmNlb2YgSWQpCiAgICAg\nICAgICAgIHJldHVybiAoKElkKSBvaWQpLmdldFR5cGUoKTsKICAgICAgICBy\nZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3MgZ2V0RGF0YVN0\nb3JlSWRUeXBlKENsYXNzTWV0YURhdGEgbWV0YSkgewogICAgICAgIHJldHVy\nbiBJZC5jbGFzczsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGNvcHlEYXRh\nU3RvcmVJZChPYmplY3Qgb2lkLCBDbGFzc01ldGFEYXRhIG1ldGEpIHsKICAg\nICAgICBJZCBpZCA9IChJZCkgb2lkOwogICAgICAgIHJldHVybiBuZXcgSWQo\nbWV0YS5nZXREZXNjcmliZWRUeXBlKCksIGlkLmdldElkKCksCiAgICAgICAg\nICAgIGlkLmhhc1N1YmNsYXNzZXMoKSk7CiAgICB9CgogICAgcHVibGljIE9i\namVjdCBuZXdEYXRhU3RvcmVJZChPYmplY3QgdmFsLCBDbGFzc01ldGFEYXRh\nIG1ldGEpIHsKICAgICAgICAvLyB3ZSB1c2UgYmFzZSB0eXBlcyBmb3IgYWxs\nIG9pZHMKICAgICAgICB3aGlsZSAobWV0YS5nZXRQQ1N1cGVyY2xhc3MoKSAh\nPSBudWxsKQogICAgICAgICAgICBtZXRhID0gbWV0YS5nZXRQQ1N1cGVyY2xh\nc3NNZXRhRGF0YSgpOwogICAgICAgIHJldHVybiBJZC5uZXdJbnN0YW5jZSht\nZXRhLmdldERlc2NyaWJlZFR5cGUoKSwgdmFsKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIE92ZXJyaWRlIHRvIHJldGFpbiBhIGRlZGljYXRlZCBjb25uZWN0\naW9uLgogICAgICovCiAgICBwdWJsaWMgdm9pZCByZXRhaW5Db25uZWN0aW9u\nKCkgewogICAgfQoKICAgIC8qKgogICAgICogT3ZlcnJpZGUgdG8gcmVsZWFz\nZSBwcmV2aW91c2x5LXJldGFpbmVkIGNvbm5lY3Rpb24uCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHJlbGVhc2VDb25uZWN0aW9uKCkgewogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJucyA8Y29kZT5udWxsPC9jb2RlPi4gSWYgeW91\nciBkYXRhIHN0b3JlIGNhbiBwcm92aWRlIGEKICAgICAqIGRpc3RpbmN0IGNv\nbm5lY3Rpb24gb2JqZWN0LCByZXR1cm4gaXQgaGVyZS4KICAgICAqLwogICAg\ncHVibGljIE9iamVjdCBnZXRDbGllbnRDb25uZWN0aW9uKCkgewogICAgICAg\nIHJldHVybiBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogQ3JlYXRlIGEg\ne0BsaW5rIFJlc3VsdE9iamVjdFByb3ZpZGVyfSB0aGF0IGNhbiByZXR1cm4g\nYWxsIGluc3RhbmNlcwogICAgICogb2YgPGNvZGU+dHlwZTwvY29kZT4sIG9w\ndGlvbmFsbHkgaW5jbHVkaW5nIHN1YmNsYXNzZXMgYXMgZGVmaW5lZAogICAg\nICogYnkgPGNvZGU+c3ViY2xhc3NlczwvY29kZT4uCiAgICAgKiAgVGhlIGlt\ncGxlbWVudGF0aW9uIG9mIHRoZSByZXN1bHQgcHJvdmlkZXIgd2lsbCB0eXBp\nY2FsbHkgZXhlY3V0ZQogICAgICogc29tZSBzb3J0IG9mIGRhdGEgc3RvcmUg\ncXVlcnkgdG8gZmluZCBhbGwgdGhlIGFwcGxpY2FibGUgb2JqZWN0cywgbG9v\ncAogICAgICogdGhyb3VnaCB0aGUgcmV0dXJuZWQgZGF0YSwgZXh0cmFjdGlu\nZyBvYmplY3QgSURzIGZyb20gdGhlIGRhdGEsIGFuZAogICAgICogaW52b2tp\nbmcgCiAgICAgKiB7QGxpbmsgU3RvcmVDb250ZXh0I2ZpbmQoT2JqZWN0LEZl\ndGNoQ29uZmlndXJhdGlvbixCaXRTZXQsT2JqZWN0LGludCl9CiAgICAgKiBv\nbiBlYWNoIE9JRC4gV2hlbiBpbnZva2luZyB0aGlzIG1ldGhvZCwgdGhlIGZp\ncnN0IGFyZ3VtZW50IGlzIHRoZSBPSUQuCiAgICAgKiBUaGUgc2Vjb25kIGlz\nIHRoZSBnaXZlbiBmZXRjaCBjb25maWd1cmF0aW9uLiBUaGUKICAgICAqIHRo\naXJkIGFyZ3VtZW50IGlzIGEgbWFzayBvZiBmaWVsZHMgdG8gZXhjbHVkZSBm\ncm9tIGxvYWRpbmc7IGl0IHdpbGwKICAgICAqIHR5cGljYWxseSBiZSBudWxs\nLiBUaGUgbGFzdCBhcmd1bWVudCBpcyBhbiBvYmplY3QgdGhhdCB3aWxsIGJl\nIHBhc3NlZAogICAgICogdGhyb3VnaCB0byB7QGxpbmsgI2luaXRpYWxpemV9\nIG9yIHtAbGluayAjbG9hZH0sIGFuZCB0eXBpY2FsbHkgd2lsbAogICAgICog\nY29udGFpbiB0aGUgYWN0dWFsIGRhdGEgdG8gbG9hZC4gRm9yIGV4YW1wbGUs\nIGZvciBhIEpEQkMtYmFzZWQgc3RvcmUKICAgICAqIG1hbmFnZXIsIHRoaXMg\nbWlnaHQgYmUgdGhlIHJlc3VsdCBzZXQgdGhhdCBpcyBiZWluZyBpdGVyYXRl\nZCBvdmVyLiBJZgogICAgICogdGhpcyBhcmd1bWVudCBpcyA8Y29kZT5udWxs\nPC9jb2RlPiwgdGhlbiB0aGUge0BsaW5rICNpbml0aWFsaXplfSBvcgogICAg\nICoge0BsaW5rICNsb2FkfSBtZXRob2Qgd2lsbCBoYXZlIHRvIGlzc3VlIGFu\nb3RoZXIgY29tbWFuZCB0byB0aGUgZGF0YQogICAgICogc3RvcmUgaW4gb3Jk\nZXIgdG8gZmV0Y2ggdGhlIGRhdGEgdG8gYmUgbG9hZGVkLgogICAgICovCiAg\nICBwdWJsaWMgYWJzdHJhY3QgUmVzdWx0T2JqZWN0UHJvdmlkZXIgZXhlY3V0\nZUV4dGVudChDbGFzc01ldGFEYXRhIG1ldGEsCiAgICAgICAgYm9vbGVhbiBz\ndWJzLCBGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpOwoKICAgIHB1YmxpYyBT\ndG9yZVF1ZXJ5IG5ld1F1ZXJ5KFN0cmluZyBsYW5ndWFnZSkgewogICAgICAg\nIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyBGZXRjaENvbmZpZ3Vy\nYXRpb24gbmV3RmV0Y2hDb25maWd1cmF0aW9uKCkgewogICAgICAgIHJldHVy\nbiBuZXcgRmV0Y2hDb25maWd1cmF0aW9uSW1wbCgpOwogICAgfQoKICAgIC8q\nKgogICAgICogQ2FzdHMgPGNvZGU+djE8L2NvZGU+IGFuZCA8Y29kZT52Mjwv\nY29kZT4gdG8ge0BsaW5rIENvbXBhcmFibGV9LCBhbmQKICAgICAqIGludm9r\nZXMgPGNvZGU+djEuY29tcGFyZVRvICh2Mik8L2NvZGU+LiBJZiA8Y29kZT52\nMTwvY29kZT4gaXMgbGVzcwogICAgICogdGhhbiA8Y29kZT52MjwvY29kZT4s\nIHJldHVybnMge0BsaW5rICNWRVJTSU9OX0VBUkxJRVJ9LiBJZiB0aGUgc2Ft\nZSwKICAgICAqIHJldHVybnMge0BsaW5rICNWRVJTSU9OX1NBTUV9LiBPdGhl\ncndpc2UsIHJldHVybnMge0BsaW5rCiAgICAgKiAjVkVSU0lPTl9MQVRFUn0u\nIElmIGVpdGhlciA8Y29kZT52MTwvY29kZT4gb3IgPGNvZGU+djI8L2NvZGU+\nIGFyZQogICAgICogPGNvZGU+bnVsbDwvY29kZT4sIHJldHVybnMge0BsaW5r\nICNWRVJTSU9OX0RJRkZFUkVOVH0uCiAgICAgKi8KICAgIHB1YmxpYyBpbnQg\nY29tcGFyZVZlcnNpb24oT3BlbkpQQVN0YXRlTWFuYWdlciBzdGF0ZSwgT2Jq\nZWN0IHYxLCBPYmplY3QgdjIpIHsKICAgICAgICBpZiAodjEgPT0gbnVsbCB8\nfCB2MiA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gVkVSU0lPTl9ESUZG\nRVJFTlQ7CgogICAgICAgIGludCBjb21wYXJlID0gKChDb21wYXJhYmxlKSB2\nMSkuY29tcGFyZVRvKChDb21wYXJhYmxlKSB2Mik7CiAgICAgICAgaWYgKGNv\nbXBhcmUgPCAwKQogICAgICAgICAgICByZXR1cm4gVkVSU0lPTl9FQVJMSUVS\nOwogICAgICAgIGlmIChjb21wYXJlID09IDApCiAgICAgICAgICAgIHJldHVy\nbiBWRVJTSU9OX1NBTUU7CiAgICAgICAgcmV0dXJuIFZFUlNJT05fTEFURVI7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBzeXN0ZW0tY29u\nZmlndXJlZCBzZXF1ZW5jZS4gVG8gdXNlIHNvbWUgb3RoZXIgc29ydAogICAg\nICogb2YgZGF0YXN0b3JlIGlkZW50aWZpZXIgKGEgR1VJRCwgc3RyaW5nLCBv\nciBzb21ldGluZyBvZiB0aGF0IG5hdHVyZSksCiAgICAgKiBvdmVycmlkZSB7\nQGxpbmsgI2dldE1hbmFnZWRUeXBlfSwKICAgICAqIHtAbGluayAjZ2V0RGF0\nYVN0b3JlSWRUeXBlfSwge0BsaW5rICNjb3B5RGF0YVN0b3JlSWR9LAogICAg\nICoge0BsaW5rICNuZXdEYXRhU3RvcmVJZH0uCiAgICAgKi8KICAgIHB1Ymxp\nYyBTZXEgZ2V0RGF0YVN0b3JlSWRTZXF1ZW5jZShDbGFzc01ldGFEYXRhIGZv\nckNsYXNzKSB7CiAgICAgICAgcmV0dXJuIGN0eC5nZXRDb25maWd1cmF0aW9u\nKCkuZ2V0U2VxdWVuY2VJbnN0YW5jZSgpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJucyBudWxsLgogICAgICovCiAgICBwdWJsaWMgU2VxIGdldFZh\nbHVlU2VxdWVuY2UoRmllbGRNZXRhRGF0YSBmb3JGaWVsZCkgewogICAgICAg\nIHJldHVybiBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyA8\nY29kZT5mYWxzZTwvY29kZT4uIElmIHlvdXIgZGF0YSBzdG9yZSBzdXBwb3J0\ncwogICAgICogY2FuY2VsbGluZyBxdWVyaWVzLCB0aGlzIG1ldGhvZCBzaG91\nbGQgY2FuY2VsIGFueQogICAgICogY3VycmVudGx5LXJ1bm5pbmcgcXVlcmll\ncyBhbmQgcmV0dXJuIDxjb2RlPnRydWU8L2NvZGU+IGlmIGFueQogICAgICog\nd2VyZSBjYW5jZWxsZWQuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGNh\nbmNlbEFsbCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgY2xvc2UoKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXNwb25zaWJsZSBmb3Igd3JpdGluZyBtb2RpZmljYXRpb25zIGhhcHBlbmVk\nIGJhY2sgdG8gdGhlIGRhdGEKICAgICAqIHN0b3JlLiBJZiB5b3UgZG8gbm90\nIHJlbW92ZSB0aGUKICAgICAqIHtAbGluayBPcGVuSlBBQ29uZmlndXJhdGlv\nbiNPUFRJT05fSU5DX0ZMVVNIfSBvcHRpb24gaW4KICAgICAqIHtAbGluayAj\nZ2V0VW5zdXBwb3J0ZWRPcHRpb25zfSwgdGhpcyB3aWxsIGJlIGNhbGxlZCBv\nbmx5IG9uY2UgYXQgdGhlCiAgICAgKiBlbmQJb2YgYSB0cmFuc2FjdGlvbi4g\nT3RoZXJ3aXNlLCBpdCBtYXkgYmUgY2FsbGVkIHBlcmlvZGljYWxseQogICAg\nICogdGhyb3VnaG91dCB0aGUgY291cnNlIG9mIGEgdHJhbnNhY3Rpb24uCiAg\nICAgKiAgSWYgdGhpcyBzdG9yZSBtYW5hZ2VyIHN1cHBvcnRzIG9wdGltaXN0\naWMgdHJhbnNhY3Rpb25zLCBkYXRhc3RvcmUKICAgICAqIHZlcnNpb24gaW5m\nb3JtYXRpb24gc2hvdWxkIGJlIHVwZGF0ZWQgZHVyaW5nIGZsdXNoLCBhbmQg\ndGhlIHN0YXRlCiAgICAgKiBtYW5hZ2VyJ3MgdmVyc2lvbiBpbmRpY2F0b3Ig\nc2hvdWxkIGJlIHVwZGF0ZWQgdGhyb3VnaCB0aGUKICAgICAqIHtAbGluayBP\ncGVuSlBBU3RhdGVNYW5hZ2VyI3NldE5leHRWZXJzaW9ufSBtZXRob2QuCiAg\nICAgKiAgVGhpcyBtZXRob2Qgd2lsbCBvbmx5IGJlIGludm9rZWQgaWYgdGhl\ncmUgYXJlIG1lYW5pbmdmdWwgY2hhbmdlcwogICAgICogdG8gc3RvcmUuIFRo\naXMgZGlmZmVycyBmcm9tIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgU3RvcmVN\nYW5hZ2VyI2ZsdXNofSwKICAgICAqIHdoaWNoIG1heSBiZSBpbnZva2VkIHdp\ndGggYSBjb2xsZWN0aW9uIG9mIG9iamVjdHMgaW4gc3RhdGVzIHRoYXQKICAg\nICAqIGRvIG5vdCByZXF1aXJlIGFueSBkYXRhc3RvcmUgYWN0aW9uIChmb3Ig\nZXhhbXBsZSwgb2JqZWN0cyBpbiB0aGUKICAgICAqIHRyYW5zaWVudC10cmFu\nc2FjdGlvbmFsIHN0YXRlKS4KICAgICAqCiAgICAgKiBAcGFyYW0gcE5ldyBP\nYmplY3RzIHRoYXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBzdG9yZSwKICAg\nICAqIGFuZCB0aGF0IGhhdmUgbm90IHByZXZpb3VzbHkgYmVlbiBmbHVzaGVk\nLgogICAgICogQHBhcmFtIHBOZXdVcGRhdGVkIE5ldyBvYmplY3RzIHRoYXQg\naGF2ZSBiZWVuIG1vZGlmaWVkIHNpbmNlCiAgICAgKiB0aGV5IHdlcmUgaW5p\ndGlhbGx5IGZsdXNoZWQuIFRoZXNlIHdlcmUKICAgICAqIGluIDxjb2RlPnBl\ncnNpc3RlbnROZXc8L2NvZGU+IGluIGFuIGVhcmxpZXIgZmx1c2ggaW52b2Nh\ndGlvbi4KICAgICAqIEBwYXJhbSBwTmV3Rmx1c2hlZERlbGV0ZWQgTmV3IG9i\namVjdHMgdGhhdCBoYXZlIGJlZW4gZGVsZXRlZCBzaW5jZQogICAgICogdGhl\neSB3ZXJlIGluaXRpYWxseSBmbHVzaGVkLiBUaGVzZSB3ZXJlCiAgICAgKiBp\nbiA8Y29kZT5wZXJzaXN0ZW50TmV3PC9jb2RlPiBpbiBhbiBlYXJsaWVyIGZs\ndXNoIGludm9jYXRpb24uCiAgICAgKiBAcGFyYW0gcERpcnR5IE9iamVjdHMg\ndGhhdCB3ZXJlIGxvYWRlZCBmcm9tIHRoZSBkYXRhCiAgICAgKiBzdG9yZSBh\nbmQgaGF2ZSBzaW5jZSBiZWVuIG1vZGlmaWVkLgogICAgICogQHBhcmFtIHBE\nZWxldGVkIE9iamVjdHMgdGhhdCB3ZXJlIGxvYWRlZCBmcm9tIHRoZSBkYXRh\nCiAgICAgKiBzdG9yZSBhbmQgaGF2ZSBzaW5jZSBiZWVuIGRlbGV0ZWQuIFRo\nZXNlCiAgICAgKiBtYXkgaGF2ZSBiZWVuIGluIGEgcHJldmlvdXMgZmx1c2gg\naW52b2NhdGlvbidzIHBlcnNpc3RlbnREaXJ0eSBsaXN0LgogICAgICogQHJl\ndHVybiBhIGNvbGxlY3Rpb24gb2YgZXhjZXB0aW9ucyBlbmNvdW50ZXJlZCBk\ndXJpbmcgZmx1c2hpbmcuCiAgICAgKi8KICAgIHByb3RlY3RlZCBhYnN0cmFj\ndCBDb2xsZWN0aW9uIGZsdXNoKENvbGxlY3Rpb24gcE5ldywKICAgICAgICBD\nb2xsZWN0aW9uIHBOZXdVcGRhdGVkLCBDb2xsZWN0aW9uIHBOZXdGbHVzaGVk\nRGVsZXRlZCwKICAgICAgICBDb2xsZWN0aW9uIHBEaXJ0eSwgQ29sbGVjdGlv\nbiBwRGVsZXRlZCk7CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBuZXcgY29u\nZmlndXJhdGlvbiBpbnN0YW5jZSBmb3IgdGhpcyBydW50aW1lLiBDb25maWd1\ncmF0aW9uCiAgICAgKiBkYXRhIGlzIG1haW50YWluZWQgYXQgdGhlIGZhY3Rv\ncnkgbGV2ZWwgYW5kIGlzIGF2YWlsYWJsZSB0byBhbGwgT3BlbkpQQQogICAg\nICogY29tcG9uZW50czsgdGhlcmVmb3JlIGl0IGlzIGEgZ29vZCBwbGFjZSB0\nbyBtYWludGFpbiBzaGFyZWQgcmVzb3VyY2VzCiAgICAgKiBzdWNoIGFzIGNv\nbm5lY3Rpb24gcG9vbHMsIGV0Yy4KICAgICAqLwogICAgcHJvdGVjdGVkIE9w\nZW5KUEFDb25maWd1cmF0aW9uIG5ld0NvbmZpZ3VyYXRpb24oKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwoKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgYSBzZXQgb2Ygb3B0aW9uIG5h\nbWVzIHRoYXQgdGhpcyBzdG9yZSBtYW5hZ2VyIGRvZXMKICAgICAqIG5vdCBz\ndXBwb3J0LiBCeSBkZWZhdWx0LCByZXR1cm5zIHRoZSBmb2xsb3dpbmc6CiAg\nICAgKiA8dWw+CiAgICAgKiA8bGk+e0BsaW5rIE9wZW5KUEFDb25maWd1cmF0\naW9uI09QVElPTl9PUFRJTUlTVElDfTwvbGk+CiAgICAgKiA8bGk+e0BsaW5r\nIE9wZW5KUEFDb25maWd1cmF0aW9uI09QVElPTl9JRF9EQVRBU1RPUkV9PC9s\naT4KICAgICAqIDxsaT57QGxpbmsgT3BlbkpQQUNvbmZpZ3VyYXRpb24jT1BU\nSU9OX0lOQ19GTFVTSH08L2xpPgogICAgICogPGxpPntAbGluayBPcGVuSlBB\nQ29uZmlndXJhdGlvbiNPUFRJT05fVkFMVUVfQVVUT0FTU0lHTn08L2xpPgog\nICAgICogPGxpPntAbGluayBPcGVuSlBBQ29uZmlndXJhdGlvbiNPUFRJT05f\nVkFMVUVfSU5DUkVNRU5UfTwvbGk+CiAgICAgKiA8bGk+e0BsaW5rIE9wZW5K\nUEFDb25maWd1cmF0aW9uI09QVElPTl9EQVRBU1RPUkVfQ09OTkVDVElPTn08\nL2xpPgogICAgICogPC91bD4KICAgICAqLwogICAgcHJvdGVjdGVkIENvbGxl\nY3Rpb24gZ2V0VW5zdXBwb3J0ZWRPcHRpb25zKCkgewogICAgICAgIENvbGxl\nY3Rpb24gYyA9IG5ldyBIYXNoU2V0KCk7CiAgICAgICAgYy5hZGQoT3BlbkpQ\nQUNvbmZpZ3VyYXRpb24uT1BUSU9OX09QVElNSVNUSUMpOwogICAgICAgIGMu\nYWRkKE9wZW5KUEFDb25maWd1cmF0aW9uLk9QVElPTl9JRF9EQVRBU1RPUkUp\nOwogICAgICAgIGMuYWRkKE9wZW5KUEFDb25maWd1cmF0aW9uLk9QVElPTl9J\nTkNfRkxVU0gpOwogICAgICAgIGMuYWRkKE9wZW5KUEFDb25maWd1cmF0aW9u\nLk9QVElPTl9WQUxVRV9BVVRPQVNTSUdOKTsKICAgICAgICBjLmFkZChPcGVu\nSlBBQ29uZmlndXJhdGlvbi5PUFRJT05fVkFMVUVfSU5DUkVNRU5UKTsKICAg\nICAgICBjLmFkZChPcGVuSlBBQ29uZmlndXJhdGlvbi5PUFRJT05fREFUQVNU\nT1JFX0NPTk5FQ1RJT04pOwogICAgICAgIHJldHVybiBjOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJucyBhIHN0cmluZyBuYW1lIHRvIGlkZW50aWZ5\nIHRoZSBwbGF0Zm9ybSBvZiB0aGlzCiAgICAgKiBzdG9yZSBtYW5hZ2VyLiBS\nZXR1cm5zIHRoZSBjbGFzcyBuYW1lIG9mIHRoaXMgc3RvcmUgbWFuYWdlciBi\neSBkZWZhdWx0LgogICAgICovCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdldFBs\nYXRmb3JtICgpCgl7CgkJcmV0dXJuIGdldENsYXNzICgpLmdldE5hbWUgKCk7\nCgl9Cn0K\n","encoding":"base64"}

