{"sha":"720833b4f5947e6684340d74e5e3c5e576e766ac","node_id":"MDQ6QmxvYjIwNjM2NDo3MjA4MzNiNGY1OTQ3ZTY2ODQzNDBkNzRlNWUzYzVlNTc2ZTc2NmFj","size":2751,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/720833b4f5947e6684340d74e5e3c5e576e766ac","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5hbnQ7CgppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKaW1w\nb3J0IGphdmEuaW8uUHJpbnRXcml0ZXI7CgppbXBvcnQgb3JnLmFwYWNoZS50\nb29scy5hbnQuQnVpbGRFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLnRv\nb2xzLmFudC50eXBlcy5FbnVtZXJhdGVkQXR0cmlidXRlOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNvbmZpZ3VyYXRpb247Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZi5PcGVuSlBBQ29uZmlndXJh\ndGlvbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmFudC5B\nYnN0cmFjdFRhc2s7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNv\nbmYuQ29uZmlndXJhdGlvbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubGliLnV0aWwuRmlsZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLm1ldGEuTWV0YURhdGFUb29sOwoKLyoqCiAqIEV4ZWN1dGVzIHRoZSBtZXRh\nZGF0YSB0b29sIG9uIHRoZSBzcGVjaWZpZWQgZmlsZXMuIFRoaXMgdGFzayBj\nYW4KICogdGFrZSB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czoKICogPHVsPgog\nKiA8bGk+PGNvZGU+ZmlsZTwvY29kZT48L2xpPgogKiA8L3VsPgogKi8KcHVi\nbGljIGNsYXNzIE1ldGFEYXRhVG9vbFRhc2sKICAgIGV4dGVuZHMgQWJzdHJh\nY3RUYXNrIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIg\nX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKE1ldGFEYXRh\nVG9vbFRhc2suY2xhc3MpOwoKICAgIHByb3RlY3RlZCBNZXRhRGF0YVRvb2wu\nRmxhZ3MgZmxhZ3MgPSBuZXcgTWV0YURhdGFUb29sLkZsYWdzKCk7CiAgICBw\ncm90ZWN0ZWQgU3RyaW5nIGZpbGVOYW1lID0gbnVsbDsKCiAgICAvKioKICAg\nICAqIFNldCB0aGUgdG9vbCBhY3Rpb24uCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldEFjdGlvbihBY3Rpb24gYWN0KSB7CiAgICAgICAgZmxhZ3MuYWN0\naW9uID0gYWN0LmdldFZhbHVlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgdGhlIGZpbGUgdG8gd3JpdGUgdGhlIG1ldGFkYXRhIHRvLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCBzZXRGaWxlKFN0cmluZyBmaWxlTmFtZSkgewog\nICAgICAgIHRoaXMuZmlsZU5hbWUgPSBmaWxlTmFtZTsKICAgIH0KCiAgICBw\ncm90ZWN0ZWQgQ29uZmlndXJhdGlvbkltcGwgbmV3Q29uZmlndXJhdGlvbigp\nIHsKICAgICAgICByZXR1cm4gbmV3IE9wZW5KUEFDb25maWd1cmF0aW9uSW1w\nbCgpOwogICAgfQoKICAgIHByb3RlY3RlZCB2b2lkIGV4ZWN1dGVPbihTdHJp\nbmdbXSBmaWxlcykKICAgICAgICB0aHJvd3MgSU9FeGNlcHRpb24gewogICAg\nICAgIENsYXNzTG9hZGVyIGxvYWRlciA9IGdldENsYXNzTG9hZGVyKCk7CiAg\nICAgICAgaWYgKCJzdGRvdXQiLmVxdWFscyhmaWxlTmFtZSkpCiAgICAgICAg\nICAgIGZsYWdzLndyaXRlciA9IG5ldyBQcmludFdyaXRlcihTeXN0ZW0ub3V0\nKTsKICAgICAgICBlbHNlIGlmICgic3RkZXJyIi5lcXVhbHMoZmlsZU5hbWUp\nKQogICAgICAgICAgICBmbGFncy53cml0ZXIgPSBuZXcgUHJpbnRXcml0ZXIo\nU3lzdGVtLmVycik7CiAgICAgICAgZWxzZSBpZiAoZmlsZU5hbWUgIT0gbnVs\nbCkKICAgICAgICAgICAgZmxhZ3MuZmlsZSA9IEZpbGVzLmdldEZpbGUoZmls\nZU5hbWUsIGxvYWRlcik7CiAgICAgICAgaWYgKCFNZXRhRGF0YVRvb2wucnVu\nKChPcGVuSlBBQ29uZmlndXJhdGlvbikgZ2V0Q29uZmlndXJhdGlvbigpLCBm\naWxlcywKICAgICAgICAgICAgZmxhZ3MsIG51bGwsIGxvYWRlcikpCiAgICAg\nICAgICAgIHRocm93IG5ldyBCdWlsZEV4Y2VwdGlvbihfbG9jLmdldCgiYmFk\nLWNvbmYiLCAiTWV0YURhdGFUb29sVGFzayIpCiAgICAgICAgICAgICAgICAu\nZ2V0TWVzc2FnZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNsYXNz\nIEFjdGlvbgogICAgICAgIGV4dGVuZHMgRW51bWVyYXRlZEF0dHJpYnV0ZSB7\nCgogICAgICAgIHB1YmxpYyBTdHJpbmdbXSBnZXRWYWx1ZXMoKSB7CiAgICAg\nICAgICAgIHJldHVybiBNZXRhRGF0YVRvb2wuQUNUSU9OUzsKICAgICAgICB9\nCgl9Cn0K\n","encoding":"base64"}

