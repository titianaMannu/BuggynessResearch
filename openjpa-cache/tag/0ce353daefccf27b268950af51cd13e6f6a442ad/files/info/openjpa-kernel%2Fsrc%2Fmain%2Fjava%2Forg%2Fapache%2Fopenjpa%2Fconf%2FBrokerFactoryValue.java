{"sha":"066f21438ef686c610a418ae30d70da1e2db62df","node_id":"MDQ6QmxvYjIwNjM2NDowNjZmMjE0MzhlZjY4NmM2MTBhNDE4YWUzMGQ3MGRhMWUyZGI2MmRm","size":3026,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/066f21438ef686c610a418ae30d70da1e2db62df","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5jb25mOwoKaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOwppbXBv\ncnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuYWJzdHJhY3RzdG9yZS5BYnN0\ncmFjdFN0b3JlQnJva2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5rZXJuZWwuQnJva2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uUHJvdmlkZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuUGx1Z2luVmFsdWU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuUHJvZHVjdERlcml2\nYXRpb25zOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLlBy\nb2R1Y3REZXJpdmF0aW9uOwoKLyoqCiAqIFZhbHVlIHR5cGUgdXNlZCB0byBy\nZXByZXNlbnQgdGhlIHtAbGluayBCcm9rZXJGYWN0b3J5fS4gVGhpcyB0eXBl\nIGlzCiAqIGRlZmluZWQgc2VwYXJhdGVseSBzbyB0aGF0IGl0IGNhbiBiZSB1\nc2VkIGJvdGggaW4gdGhlIGdsb2JhbCBjb25maWd1cmF0aW9uCiAqIGFuZCBp\nbiB7QGxpbmsgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5Cb290c3RyYXB9\nIHdpdGggdGhlIHNhbWUKICogZW5jYXBzdWxhdGVkIGNvbmZpZ3VyYXRpb24u\nCiAqCiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBjbGFzcyBCcm9rZXJGYWN0\nb3J5VmFsdWUKICAgIGV4dGVuZHMgUGx1Z2luVmFsdWUgewoKICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgU3RyaW5nIEtFWSA9ICJCcm9rZXJGYWN0b3J5IjsK\nCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSBfYWxpYXNlczsK\nICAgIHN0YXRpYyB7CiAgICAgICAgTWFwIGFsaWFzZXMgPSBuZXcgSGFzaE1h\ncCgpOwogICAgICAgIGFsaWFzZXMucHV0KCJhYnN0cmFjdHN0b3JlIiwgCiAg\nICAgICAgICAgIEFic3RyYWN0U3RvcmVCcm9rZXJGYWN0b3J5LmNsYXNzLmdl\ndE5hbWUoKSk7CiAgICAgICAgUHJvZHVjdERlcml2YXRpb25bXSBkcyA9IFBy\nb2R1Y3REZXJpdmF0aW9ucy5nZXRQcm9kdWN0RGVyaXZhdGlvbnMoKTsKICAg\nICAgICBmb3IgKGludCBpID0gMDsgaSA8IGRzLmxlbmd0aDsgaSsrKSB7CiAg\nICAgICAgICAgIGlmIChkc1tpXSBpbnN0YW5jZW9mIE9wZW5KUEFQcm9kdWN0\nRGVyaXZhdGlvbikKICAgICAgICAgICAgICAgICgoT3BlbkpQQVByb2R1Y3RE\nZXJpdmF0aW9uKSBkc1tpXSkucHV0QnJva2VyRmFjdG9yeUFsaWFzZXMKICAg\nICAgICAgICAgICAgICAgICAoYWxpYXNlcyk7CiAgICAgICAgfQoKICAgICAg\nICBfYWxpYXNlcyA9IG5ldyBTdHJpbmdbYWxpYXNlcy5zaXplKCkgKiAyXTsK\nICAgICAgICBpbnQgaSA9IDA7CiAgICAgICAgZm9yIChJdGVyYXRvciBpdGVy\nID0gYWxpYXNlcy5lbnRyeVNldCgpLml0ZXJhdG9yKCk7IGl0ZXIuaGFzTmV4\ndCgpOyApIHsKICAgICAgICAgICAgTWFwLkVudHJ5IGUgPSAoTWFwLkVudHJ5\nKSBpdGVyLm5leHQoKTsKICAgICAgICAgICAgX2FsaWFzZXNbaSsrXSA9IChT\ndHJpbmcpIGUuZ2V0S2V5KCk7CiAgICAgICAgICAgIF9hbGlhc2VzW2krK10g\nPSAoU3RyaW5nKSBlLmdldFZhbHVlKCk7CiAgICAgICAgfQogICAgfQoKICAg\nIC8qKgogICAgICogRXh0cmFjdCB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0\neSBpZiBzZXQgaW4gdGhlIGdpdmVuIHByb3ZpZGVyLgogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIE9iamVjdCBnZXQoQ29uZmlndXJhdGlvblByb3ZpZGVy\nIGNwKSB7CiAgICAgICAgU3RyaW5nW10gcHJlZml4ZXMgPSBQcm9kdWN0RGVy\naXZhdGlvbnMuZ2V0Q29uZmlndXJhdGlvblByZWZpeGVzKCk7CiAgICAgICAg\nTWFwIHByb3BzID0gY3AuZ2V0UHJvcGVydGllcygpOwogICAgICAgIE9iamVj\ndCBiZjsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHByZWZpeGVzLmxl\nbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGJmID0gcHJvcHMuZ2V0KHByZWZp\neGVzW2ldICsgIi4iICsgS0VZKTsKICAgICAgICAgICAgaWYgKGJmICE9IG51\nbGwpCiAgICAgICAgICAgICAgICByZXR1cm4gIGJmOwogICAgICAgIH0KICAg\nICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0\naGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSBpbiB0aGUgZ2l2ZW4gcHJvdmlk\nZXIuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoQ29uZmln\ndXJhdGlvblByb3ZpZGVyIGNwLCBTdHJpbmcgdmFsdWUpIHsKICAgICAgICBj\ncC5hZGRQcm9wZXJ0eSgib3BlbmpwYS4iICsgS0VZLCB2YWx1ZSk7CiAgICB9\nCgogICAgcHVibGljIEJyb2tlckZhY3RvcnlWYWx1ZSgpIHsKICAgICAgICBz\ndXBlcihLRVksIGZhbHNlKTsKICAgICAgICBzZXRBbGlhc2VzKF9hbGlhc2Vz\nKTsKICAgIH0KfQo=\n","encoding":"base64"}

