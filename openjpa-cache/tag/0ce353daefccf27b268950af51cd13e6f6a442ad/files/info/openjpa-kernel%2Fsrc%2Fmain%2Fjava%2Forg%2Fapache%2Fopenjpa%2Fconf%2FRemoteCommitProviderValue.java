{"sha":"95bf5733bf6537d40486c7e6973744e4c1d0334c","node_id":"MDQ6QmxvYjIwNjM2NDo5NWJmNTczM2JmNjUzN2Q0MDQ4NmM3ZTY5NzM3NDRlNGMxZDAzMzRj","size":4208,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/95bf5733bf6537d40486c7e6973744e4c1d0334c","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5jb25mOwoKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5sYW5n\nLlN0cmluZ1V0aWxzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmV2ZW50\nLlJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5ldmVudC5SZW1vdGVDb21taXRQcm92aWRlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRpb25z\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLlBsdWdpblZh\nbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLk9wdGlv\nbnM7CgovKioKICogVmFsdWUgdHlwZSB1c2VkIHRvIHJlcHJlc2VudCBhIHtA\nbGluayBSZW1vdGVDb21taXRQcm92aWRlcn0uIFRoaXMKICogcGx1Z2luIGFs\nbG93cyB1c2VycyB0byBzcGVjaWZ5IHdoZXRoZXIgdG8gdHJhbnNtaXQgdGhl\nIGlkcyBvZiBhZGRlZCBvYmplY3RzCiAqIGluIHRoZSByZW1vdGUgY29tbWl0\nIGV2ZW50cyBkaXN0cmlidXRlZC4KICoKICogQGF1dGhvciBBYmUgV2hpdGUK\nICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIFJlbW90ZUNvbW1pdFBy\nb3ZpZGVyVmFsdWUKICAgIGV4dGVuZHMgUGx1Z2luVmFsdWUgewoKICAgIHBy\naXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZ1tdIEFMSUFTRVMgPSBuZXcgU3Ry\naW5nW117CiAgICAgICAgInNqdm0iLCAib3JnLmFwYWNoZS5vcGVuanBhLmV2\nZW50LlNpbmdsZUpWTVJlbW90ZUNvbW1pdFByb3ZpZGVyIiwKICAgICAgICAi\nam1zIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5KTVNSZW1vdGVDb21t\naXRQcm92aWRlciIsCiAgICAgICAgInRjcCIsICJvcmcuYXBhY2hlLm9wZW5q\ncGEuZXZlbnQuVENQUmVtb3RlQ29tbWl0UHJvdmlkZXIiLAogICAgfTsKCiAg\nICBwcml2YXRlIE9wdGlvbnMgX29wdHMgPSBudWxsOwogICAgcHJpdmF0ZSBC\nb29sZWFuIF90cmFuc21pdFBlcnNJZHMgPSBudWxsOwoKICAgIHB1YmxpYyBS\nZW1vdGVDb21taXRQcm92aWRlclZhbHVlKCkgewogICAgICAgIHN1cGVyKCJS\nZW1vdGVDb21taXRQcm92aWRlciIsIHRydWUpOwogICAgICAgIHNldEFsaWFz\nZXMoQUxJQVNFUyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UHJvcGVy\ndGllcyhTdHJpbmcgcHJvcHMpIHsKICAgICAgICBzdXBlci5zZXRQcm9wZXJ0\naWVzKHByb3BzKTsKICAgICAgICBfb3B0cyA9IG51bGw7CiAgICAgICAgX3Ry\nYW5zbWl0UGVyc0lkcyA9IG51bGw7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0U3RyaW5nKFN0cmluZyBzdHIpIHsKICAgICAgICBzdXBlci5zZXRTdHJp\nbmcoc3RyKTsKICAgICAgICBfb3B0cyA9IG51bGw7CiAgICAgICAgX3RyYW5z\nbWl0UGVyc0lkcyA9IG51bGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUg\nY2FjaGVkIHByb3ZpZGVyLgogICAgICovCiAgICBwdWJsaWMgUmVtb3RlQ29t\nbWl0UHJvdmlkZXIgZ2V0UHJvdmlkZXIoKSB7CiAgICAgICAgcmV0dXJuIChS\nZW1vdGVDb21taXRQcm92aWRlcikgZ2V0KCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUaGUgY2FjaGVkIHByb3ZpZGVyLgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCBzZXRQcm92aWRlcihSZW1vdGVDb21taXRQcm92aWRlciBwcm92aWRl\ncikgewogICAgICAgIHNldChwcm92aWRlcik7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBXaGV0aGVyIHRvIHRyYW5zbWl0IHBlcnNpc3RlZCBvYmplY3QgaWRz\nIGluIHJlbW90ZSBjb21taXQgZXZlbnRzLgogICAgICovCiAgICBwdWJsaWMg\nYm9vbGVhbiBnZXRUcmFuc21pdFBlcnNpc3RlZE9iamVjdElkcygpIHsKICAg\nICAgICByZXR1cm4gQm9vbGVhbi5UUlVFLmVxdWFscyhfdHJhbnNtaXRQZXJz\nSWRzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBjYWNoZWQgZGVjb3Jh\ndG9ycy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0VHJhbnNtaXRQZXJz\naXN0ZWRPYmplY3RJZHMoYm9vbGVhbiB0cmFuc21pdCkgewogICAgICAgIF90\ncmFuc21pdFBlcnNJZHMgPSAodHJhbnNtaXQpID8gQm9vbGVhbi5UUlVFIDog\nQm9vbGVhbi5GQUxTRTsKICAgIH0KCiAgICAvKioKICAgICAqIEluc3RhbnRp\nYXRlIHRoZSBwcm92aWRlci4KICAgICAqLwogICAgcHVibGljIFJlbW90ZUNv\nbW1pdFByb3ZpZGVyIGluc3RhbnRpYXRlUHJvdmlkZXIoQ29uZmlndXJhdGlv\nbiBjb25mKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlUHJvdmlkZXIo\nY29uZiwgdHJ1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnN0YW50aWF0\nZSB0aGUgcHJvdmlkZXIuCiAgICAgKi8KICAgIHB1YmxpYyBSZW1vdGVDb21t\naXRQcm92aWRlciBpbnN0YW50aWF0ZVByb3ZpZGVyKENvbmZpZ3VyYXRpb24g\nY29uZiwKICAgICAgICBib29sZWFuIGZhdGFsKSB7CiAgICAgICAgcmV0dXJu\nIChSZW1vdGVDb21taXRQcm92aWRlcikgaW5zdGFudGlhdGUoUmVtb3RlQ29t\nbWl0UHJvdmlkZXIuY2xhc3MsCiAgICAgICAgICAgIGNvbmYsIGZhdGFsKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIENvbmZpZ3VyZSB0aGUgcmVtb3RlIGV2\nZW50IG1hbmFnZXIuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIGNvbmZpZ3Vy\nZUV2ZW50TWFuYWdlcihSZW1vdGVDb21taXRFdmVudE1hbmFnZXIgbWdyKSB7\nCiAgICAgICAgcGFyc2VPcHRpb25zKCk7CiAgICAgICAgaWYgKF90cmFuc21p\ndFBlcnNJZHMgIT0gbnVsbCkKICAgICAgICAgICAgbWdyLnNldFRyYW5zbWl0\nUGVyc2lzdGVkT2JqZWN0SWRzKF90cmFuc21pdFBlcnNJZHMuYm9vbGVhblZh\nbHVlKCkpOwogICAgfQoKICAgIC8qKgogICAgICogT3ZlcnJpZGUgdG8ga2Vl\ncCBkZWNvcmF0b3JzIG91dCBvZiB0cmFuc3BvcnQgY29uZmlndXJhdGlvbi4K\nICAgICAqLwogICAgcHVibGljIE9iamVjdCBpbnN0YW50aWF0ZShDbGFzcyB0\neXBlLCBDb25maWd1cmF0aW9uIGNvbmYsIGJvb2xlYW4gZmF0YWwpIHsKICAg\nICAgICBPYmplY3Qgb2JqID0gbmV3SW5zdGFuY2UoZ2V0Q2xhc3NOYW1lKCks\nIHR5cGUsIGNvbmYsIGZhdGFsKTsKICAgICAgICBwYXJzZU9wdGlvbnMoKTsK\nICAgICAgICBDb25maWd1cmF0aW9ucy5jb25maWd1cmVJbnN0YW5jZShvYmos\nIGNvbmYsIF9vcHRzLCBnZXRQcm9wZXJ0eSgpKTsKICAgICAgICBzZXQob2Jq\nLCB0cnVlKTsKICAgICAgICByZXR1cm4gb2JqOwogICAgfQoKICAgIHByaXZh\ndGUgdm9pZCBwYXJzZU9wdGlvbnMoKSB7CiAgICAgICAgaWYgKF9vcHRzICE9\nIG51bGwpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgX29wdHMgPSBD\nb25maWd1cmF0aW9ucy5wYXJzZVByb3BlcnRpZXMoZ2V0UHJvcGVydGllcygp\nKTsKICAgICAgICBTdHJpbmcgdHJhbnNtaXQgPSBTdHJpbmdVdGlscy50cmlt\nVG9OdWxsKF9vcHRzLnJlbW92ZVByb3BlcnR5CiAgICAgICAgICAgICgidHJh\nbnNtaXRQZXJzaXN0ZWRPYmplY3RJZHMiLCAiVHJhbnNtaXRQZXJzaXN0ZWRP\nYmplY3RJZHMiLCBudWxsKSk7CiAgICAgICAgaWYgKHRyYW5zbWl0ICE9IG51\nbGwpCiAgICAgICAgICAgIF90cmFuc21pdFBlcnNJZHMgPSBCb29sZWFuLnZh\nbHVlT2YgKHRyYW5zbWl0KTsKCX0KfQo=\n","encoding":"base64"}

