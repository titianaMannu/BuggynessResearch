{"sha":"eb2a6e19e2ec8adfacfbd1bd9d6129d31d188aad","node_id":"MDQ6QmxvYjIwNjM2NDplYjJhNmUxOWUyZWM4YWRmYWNmYmQxYmQ5ZDYxMjlkMzFkMTg4YWFk","size":4736,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/eb2a6e19e2ec8adfacfbd1bd9d6129d31d188aad","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5kYXRhY2FjaGU7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmV2ZW50LlJlbW90ZUNvbW1pdExpc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS51dGlsLkNhY2hlTWFwOwoKLyoqCiAqIEEge0BsaW5rIERh\ndGFDYWNoZX0gaW1wbGVtZW50YXRpb24gdGhhdCBpcyBvcHRpbWl6ZWQgZm9y\nIGNvbmN1cnJlbnQKICogYWNjZXNzLiBXaGVuIHRoZSBjYWNoZSBmaWxscyB1\ncCwgdmFsdWVzIHRvIHJlbW92ZSBmcm9tIGNhY2hlIGFyZSBjaG9zZW4KICog\ncmFuZG9tbHkuIER1ZSB0byByYWNlIGNvbmRpdGlvbnMsIGl0IGlzIHBvc3Np\nYmxlIHRoYXQgYSBnZXQgY2FsbCBtaWdodCBub3QKICogcmV0dXJuIGEgY2Fj\naGVkIGluc3RhbmNlIGlmIHRoYXQgaW5zdGFuY2UgaXMgYmVpbmcgdHJhbnNm\nZXJyZWQgYmV0d2VlbgogKiBpbnRlcm5hbCBkYXRhc3RydWN0dXJlcy4KICoK\nICogQHNpbmNlIDAuNC4wCiAqLwpwdWJsaWMgY2xhc3MgQ29uY3VycmVudERh\ndGFDYWNoZQogICAgZXh0ZW5kcyBBYnN0cmFjdERhdGFDYWNoZQogICAgaW1w\nbGVtZW50cyBSZW1vdGVDb21taXRMaXN0ZW5lciB7CgogICAgcHJpdmF0ZSBz\ndGF0aWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFj\na2FnZQogICAgICAgIChDb25jdXJyZW50RGF0YUNhY2hlLmNsYXNzKTsKCiAg\nICBwcml2YXRlIGZpbmFsIENhY2hlTWFwIF9jYWNoZSA9IG5ld0NhY2hlTWFw\nKCk7CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIHtA\nbGluayBDYWNoZU1hcH0gdGhhdCB0aGlzIGNhY2hlIGlzIHVzaW5nLgogICAg\nICogVGhpcyBpcyBub3QgYW4gdW5tb2RpZmlhYmxlIHZpZXcgb24gdGhlIG1h\ncCwgc28gY2FyZSBzaG91bGQgYmUgdGFrZW4KICAgICAqIHdpdGggdGhpcyBy\nZWZlcmVuY2UuIEltcGxlbWVudGF0aW9ucyBzaG91bGQgcHJvYmFibHkgbm90\nIG1vZGlmeSB0aGUKICAgICAqIGNvbnRlbnRzIG9mIHRoZSBjYWNoZSwgYnV0\nIHNob3VsZCBvbmx5IHVzZSB0aGlzIHJlZmVyZW5jZSB0bwogICAgICogb2J0\nYWluIGNhY2hlIG1ldHJpY3MuCiAgICAgKi8KICAgIHB1YmxpYyBDYWNoZU1h\ncCBnZXRDYWNoZU1hcCgpIHsKICAgICAgICByZXR1cm4gX2NhY2hlOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0cyB0aGUgbWF4aW11bSBudW1iZXIgb2Yg\ndW5waW5uZWQgb2JqZWN0cyB0byBrZWVwIGhhcmQKICAgICAqIHJlZmVyZW5j\nZXMgdG8uIElmIHRoZSBtYXAgY29udGFpbnMgbW9yZSB1bnBpbm5lZCBvYmpl\nY3RzIHRoYW4KICAgICAqIDxjb2RlPnNpemU8L2NvZGU+LCB0aGVuIHRoaXMg\nbWV0aG9kIHdpbGwgcmVzdWx0IGluIHRoZSBjYWNoZQogICAgICogZmx1c2hp\nbmcgb2xkIHZhbHVlcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0Q2Fj\naGVTaXplKGludCBzaXplKSB7CiAgICAgICAgX2NhY2hlLnNldENhY2hlU2l6\nZShzaXplKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG1h\neGltdW0gbnVtYmVyIG9mIHVucGlubmVkIG9iamVjdHMgdG8ga2VlcCBoYXJk\nCiAgICAgKiByZWZlcmVuY2VzIHRvLgogICAgICovCiAgICBwdWJsaWMgaW50\nIGdldENhY2hlU2l6ZSgpIHsKICAgICAgICByZXR1cm4gX2NhY2hlLmdldENh\nY2hlU2l6ZSgpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0cyB0aGUgbWF4\naW11bSBudW1iZXIgb2YgdW5waW5uZWQgb2JqZWN0cyB0byBrZWVwIHNvZnQK\nICAgICAqIHJlZmVyZW5jZXMgdG8uIElmIHRoZSBtYXAgY29udGFpbnMgbW9y\nZSBzb2Z0IHJlZmVyZW5jZXMgdGhhbgogICAgICogPGNvZGU+c2l6ZTwvY29k\nZT4sIHRoZW4gdGhpcyBtZXRob2Qgd2lsbCByZXN1bHQgaW4gdGhlIGNhY2hl\nCiAgICAgKiBmbHVzaGluZyB2YWx1ZXMuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldFNvZnRSZWZlcmVuY2VTaXplKGludCBzaXplKSB7CiAgICAgICAg\nX2NhY2hlLnNldFNvZnRSZWZlcmVuY2VTaXplKHNpemUpOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJucyB0aGUgbWF4aW11bSBudW1iZXIgb2YgdW5w\naW5uZWQgb2JqZWN0cyB0byBrZWVwIHNvZnQKICAgICAqIHJlZmVyZW5jZXMg\ndG8uIERlZmF1bHRzIHRvIDxjb2RlPi0xPC9jb2RlPi4KICAgICAqLwogICAg\ncHVibGljIGludCBnZXRTb2Z0UmVmZXJlbmNlU2l6ZSgpIHsKICAgICAgICBy\nZXR1cm4gX2NhY2hlLmdldFNvZnRSZWZlcmVuY2VTaXplKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShEYXRhQ2FjaGVNYW5hZ2VyIG1n\ncikgewogICAgICAgIHN1cGVyLmluaXRpYWxpemUobWdyKTsKICAgICAgICBj\nb25mLmdldFJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlcigpLmFkZExpc3RlbmVy\nKHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHVucGluQWxsKENsYXNz\nIGNscywgYm9vbGVhbiBzdWJzKSB7CiAgICAgICAgaWYgKGxvZy5pc1dhcm5F\nbmFibGVkKCkpCiAgICAgICAgICAgIGxvZy53YXJuKF9sb2MuZ2V0KCJjYWNo\nZS1jbGFzcy11bnBpbi1hbGwiLCBnZXROYW1lKCkpKTsKICAgICAgICB1bnBp\nbkFsbChfY2FjaGUuZ2V0UGlubmVkS2V5cygpKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB3cml0ZUxvY2soKSB7CiAgICAgICAgX2NhY2hlLndyaXRlTG9j\naygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHdyaXRlVW5sb2NrKCkgewog\nICAgICAgIF9jYWNoZS53cml0ZVVubG9jaygpOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIHRoZSBtYXAgdG8gdXNlIGFzIGFuIGludGVybmFsIGNh\nY2hlOyBlbnRyeSBleHBpcmF0aW9ucyBtdXN0CiAgICAgKiBpbnZva2Uge0Bs\naW5rIEFic3RyYWN0RGF0YUNhY2hlI2tleVJlbW92ZWR9LgogICAgICovCiAg\nICBwcm90ZWN0ZWQgQ2FjaGVNYXAgbmV3Q2FjaGVNYXAoKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBDYWNoZU1hcCgpIHsKICAgICAgICAgICAgcHJvdGVjdGVk\nIHZvaWQgZW50cnlSZW1vdmVkKE9iamVjdCBrZXksIE9iamVjdCB2YWx1ZSwK\nICAgICAgICAgICAgICAgIGJvb2xlYW4gZXhwaXJlZCkgewogICAgICAgICAg\nICAgICAga2V5UmVtb3ZlZChrZXksIGV4cGlyZWQpOwogICAgICAgICAgICB9\nCiAgICAgICAgfTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgRGF0YUNhY2hlUENE\nYXRhIGdldEludGVybmFsKE9iamVjdCBrZXkpIHsKICAgICAgICByZXR1cm4g\nKERhdGFDYWNoZVBDRGF0YSkgX2NhY2hlLmdldChrZXkpOwogICAgfQoKICAg\nIHByb3RlY3RlZCBEYXRhQ2FjaGVQQ0RhdGEgcHV0SW50ZXJuYWwoT2JqZWN0\nIGtleSwgRGF0YUNhY2hlUENEYXRhIHBjKSB7CiAgICAgICAgcmV0dXJuIChE\nYXRhQ2FjaGVQQ0RhdGEpIF9jYWNoZS5wdXQoa2V5LCBwYyk7CiAgICB9Cgog\nICAgcHJvdGVjdGVkIERhdGFDYWNoZVBDRGF0YSByZW1vdmVJbnRlcm5hbChP\nYmplY3Qga2V5KSB7CiAgICAgICAgcmV0dXJuIChEYXRhQ2FjaGVQQ0RhdGEp\nIF9jYWNoZS5yZW1vdmUoa2V5KTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9p\nZCByZW1vdmVBbGxJbnRlcm5hbChDbGFzcyBjbHMsIGJvb2xlYW4gc3Vicykg\newogICAgICAgIC8vIHdlIGNvdWxkIGtlZXAgYSBoaXN0b2dyYW0gb2YgdGhl\nIGNvdW50cyBvZiBjb250YWluZWQgY2xhc3NlcyBhbmQKICAgICAgICAvLyBv\nbmx5IGNsZWFyIGlmIHdlIGhhdmUgdGhlIGNsYXNzLCBidXQgdGhhdCBzdGls\nbCB3b3VsZG4ndCBzdXBwb3J0IHN1YnMKICAgICAgICAvLyB3ZWxsLCB3b3Vs\nZCBpbnZvbHZlIHN5bmNoaW5nLCBhbmQgd29uJ3QgeWllbGQgbXVjaCBiZW5l\nZml0IHdoZW4gd2UncmUKICAgICAgICAvLyB1c2VkIGFzIGEgcHJpbWFyeSBj\nYWNoZQogICAgICAgIF9jYWNoZS5jbGVhcigpOwogICAgfQoKICAgIHByb3Rl\nY3RlZCB2b2lkIGNsZWFySW50ZXJuYWwoKSB7CiAgICAgICAgX2NhY2hlLmNs\nZWFyKCk7CiAgICB9CgogICAgcHJvdGVjdGVkIGJvb2xlYW4gcGluSW50ZXJu\nYWwoT2JqZWN0IGtleSkgewogICAgICAgIHJldHVybiBfY2FjaGUucGluKGtl\neSk7CiAgICB9CgogICAgcHJvdGVjdGVkIGJvb2xlYW4gdW5waW5JbnRlcm5h\nbChPYmplY3Qga2V5KSB7CiAgICAgICAgcmV0dXJuIF9jYWNoZS51bnBpbiAo\na2V5KTsKCX0KfQo=\n","encoding":"base64"}

