{"sha":"a9081c021755b7253844452d7b405a21426d27a1","node_id":"MDQ6QmxvYjIwNjM2NDphOTA4MWMwMjE3NTViNzI1Mzg0NDQ1MmQ3YjQwNWEyMTQyNmQyN2Ex","size":4224,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a9081c021755b7253844452d7b405a21426d27a1","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5kYXRhY2FjaGU7CgppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rp\nb247CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmV2ZW50LlJlbW90ZUNv\nbW1pdExpc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwu\nQ2FjaGVNYXA7CgovKioKICogQSB7QGxpbmsgUXVlcnlDYWNoZX0gaW1wbGVt\nZW50YXRpb24gdGhhdCBpcyBvcHRpbWl6ZWQgZm9yIGNvbmN1cnJlbnQKICog\nYWNjZXNzLiBXaGVuIHRoZSBjYWNoZSBmaWxsIHVwLCB2YWx1ZXMgdG8gcmVt\nb3ZlIGZyb20gdGhlIGNhY2hlIGFyZSBjaG9zZW4KICogcmFuZG9tbHkuIER1\nZSB0byByYWNlIGNvbmRpdGlvbnMsIGl0IGlzIHBvc3NpYmxlIHRoYXQgYSBn\nZXQgY2FsbCBtaWdodCBub3QKICogcmV0dXIgYSBjYWNoZWQgaW5zdGFuY2Ug\naWYgdGhhdCBpbnN0YW5jZSBpcyBiZWluZyB0cmFuc2ZlcnJlZCBiZXR3ZWVu\nCiAqIGludGVybmFsIGRhdGFzdHJ1Y3R1cmVzLgogKgogKiBAc2luY2UgMC40\nLjEKICovCnB1YmxpYyBjbGFzcyBDb25jdXJyZW50UXVlcnlDYWNoZQogICAg\nZXh0ZW5kcyBBYnN0cmFjdFF1ZXJ5Q2FjaGUKICAgIGltcGxlbWVudHMgUmVt\nb3RlQ29tbWl0TGlzdGVuZXIgewoKICAgIHByaXZhdGUgQ2FjaGVNYXAgX2Nh\nY2hlID0gbmV3Q2FjaGVNYXAoKTsKCiAgICAvKioKICAgICAqIFJldHVybnMg\ndGhlIHVuZGVybHlpbmcge0BsaW5rIENhY2hlTWFwfSB0aGF0IHRoaXMgY2Fj\naGUgaXMgdXNpbmcuCiAgICAgKiBUaGlzIGlzIG5vdCBhbiB1bm1vZGlmaWFi\nbGUgdmlldyBvbiB0aGUgbWFwLCBzbyBjYXJlIHNob3VsZCBiZSB0YWtlbgog\nICAgICogd2l0aCB0aGlzIHJlZmVyZW5jZS4gSW1wbGVtZW50YXRpb25zIHNo\nb3VsZCBwcm9iYWJseSBub3QgbW9kaWZ5IHRoZQogICAgICogY29udGVudHMg\nb2YgdGhlIGNhY2hlLCBidXQgc2hvdWxkIG9ubHkgdXNlIHRoaXMgcmVmZXJl\nbmNlCiAgICAgKiB0byBvYnRhaW4gY2FjaGUgbWV0cmljcy4gQWRkaXRpb25h\nbGx5LCB0aGlzIG1hcCBtYXkgY29udGFpbgogICAgICogZXhwaXJlZCBkYXRh\nLiBSZW1vdmFsIG9mIHRpbWVkLW91dCBkYXRhIGlzIGRvbmUgaW4gYSBsYXp5\nCiAgICAgKiBmYXNoaW9uLCBzbyB0aGUgYWN0dWFsIHNpemUgb2YgdGhlIG1h\ncCBtYXkgYmUgZ3JlYXRlciB0aGFuIHRoZQogICAgICogbnVtYmVyIG9mIG5v\nbi1leHBpcmVkIHF1ZXJ5IHJlc3VsdHMgaW4gY2FjaGUuCiAgICAgKi8KICAg\nIHB1YmxpYyBDYWNoZU1hcCBnZXRDYWNoZU1hcCgpIHsKICAgICAgICByZXR1\ncm4gX2NhY2hlOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUg\nbWF4aW11bSBudW1iZXIgb2YgdW5waW5uZWQgb2JqZWN0cyB0byBrZWVwIGhh\ncmQKICAgICAqIHJlZmVyZW5jZXMgdG8uCiAgICAgKi8KICAgIHB1YmxpYyBp\nbnQgZ2V0Q2FjaGVTaXplKCkgewogICAgICAgIHJldHVybiBfY2FjaGUuZ2V0\nQ2FjaGVTaXplKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBt\nYXhpbXVtIG51bWJlciBvZiB1bnBpbm5lZCBvYmplY3RzIHRvIGtlZXAgaGFy\nZAogICAgICogcmVmZXJlbmNlcyB0by4gSWYgdGhlIG1hcCBjb250YWlucyBt\nb3JlIHVucGlubmVkIG9iamVjdHMgdGhhbgogICAgICogPGNvZGU+c2l6ZTwv\nY29kZT4sIHRoZW4gdGhpcyBtZXRob2Qgd2lsbCByZXN1bHQgaW4gdGhlIGNh\nY2hlCiAgICAgKiBmbHVzaGluZyBvbGQgdmFsdWVzLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXRDYWNoZVNpemUoaW50IHNpemUpIHsKICAgICAgICBf\nY2FjaGUuc2V0Q2FjaGVTaXplKHNpemUpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJucyB0aGUgbWF4aW11bSBudW1iZXIgb2YgdW5waW5uZWQgb2Jq\nZWN0cyB0byBrZWVwIHNvZnQKICAgICAqIHJlZmVyZW5jZXMgdG8uIERlZmF1\nbHRzIHRvIDxjb2RlPi0xPC9jb2RlPi4KICAgICAqLwogICAgcHVibGljIGlu\ndCBnZXRTb2Z0UmVmZXJlbmNlU2l6ZSgpIHsKICAgICAgICByZXR1cm4gX2Nh\nY2hlLmdldFNvZnRSZWZlcmVuY2VTaXplKCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBTZXRzIHRoZSBtYXhpbXVtIG51bWJlciBvZiB1bnBpbm5lZCBvYmpl\nY3RzIHRvIGtlZXAgc29mdAogICAgICogcmVmZXJlbmNlcyB0by4gSWYgdGhl\nIG1hcCBjb250YWlucyBtb3JlIHNvZnQgcmVmZXJlbmNlcyB0aGFuCiAgICAg\nKiA8Y29kZT5zaXplPC9jb2RlPiwgdGhlbiB0aGlzIG1ldGhvZCB3aWxsIHJl\nc3VsdCBpbiB0aGUgY2FjaGUKICAgICAqIGZsdXNoaW5nIHZhbHVlcy4KICAg\nICAqLwogICAgcHVibGljIHZvaWQgc2V0U29mdFJlZmVyZW5jZVNpemUoaW50\nIHNpemUpIHsKICAgICAgICBfY2FjaGUuc2V0U29mdFJlZmVyZW5jZVNpemUo\nc2l6ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShEYXRh\nQ2FjaGVNYW5hZ2VyIG1ncikgewogICAgICAgIHN1cGVyLmluaXRpYWxpemUo\nbWdyKTsKICAgICAgICBjb25mLmdldFJlbW90ZUNvbW1pdEV2ZW50TWFuYWdl\ncigpLmFkZExpc3RlbmVyKHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHdyaXRlTG9jaygpIHsKICAgICAgICAvLyBkZWxlZ2F0ZSBhY3R1YWxseSBk\nb2VzIG5vdGhpbmcsIGJ1dCBpbiBjYXNlIHRoYXQgY2hhbmdlcy4uLgogICAg\nICAgIF9jYWNoZS53cml0ZUxvY2soKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB3cml0ZVVubG9jaygpIHsKICAgICAgICAvLyBkZWxlZ2F0ZSBhY3R1YWxs\neSBkb2VzIG5vdGhpbmcsIGJ1dCBpbiBjYXNlIHRoYXQgY2hhbmdlcy4uLgog\nICAgICAgIF9jYWNoZS53cml0ZVVubG9jaygpOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIHRoZSBtYXAgdG8gdXNlIGFzIGFuIGludGVybmFsIGNh\nY2hlLgogICAgICovCiAgICBwcm90ZWN0ZWQgQ2FjaGVNYXAgbmV3Q2FjaGVN\nYXAoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDYWNoZU1hcCgpOwogICAgfQoK\nICAgIHByb3RlY3RlZCBRdWVyeVJlc3VsdCBnZXRJbnRlcm5hbChRdWVyeUtl\neSBxaykgewogICAgICAgIHJldHVybiAoUXVlcnlSZXN1bHQpIF9jYWNoZS5n\nZXQocWspOwogICAgfQoKICAgIHByb3RlY3RlZCBRdWVyeVJlc3VsdCBwdXRJ\nbnRlcm5hbChRdWVyeUtleSBxaywgUXVlcnlSZXN1bHQgcmVzdWx0KSB7CiAg\nICAgICAgcmV0dXJuIChRdWVyeVJlc3VsdCkgX2NhY2hlLnB1dChxaywgcmVz\ndWx0KTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgUXVlcnlSZXN1bHQgcmVtb3Zl\nSW50ZXJuYWwoUXVlcnlLZXkgcWspIHsKICAgICAgICByZXR1cm4gKFF1ZXJ5\nUmVzdWx0KSBfY2FjaGUucmVtb3ZlKHFrKTsKICAgIH0KCiAgICBwcm90ZWN0\nZWQgdm9pZCBjbGVhckludGVybmFsKCkgewogICAgICAgIF9jYWNoZS5jbGVh\ncigpOwogICAgfQoKICAgIHByb3RlY3RlZCBib29sZWFuIHBpbkludGVybmFs\nKFF1ZXJ5S2V5IHFrKSB7CiAgICAgICAgcmV0dXJuIF9jYWNoZS5waW4ocWsp\nOwogICAgfQoKICAgIHByb3RlY3RlZCBib29sZWFuIHVucGluSW50ZXJuYWwo\nUXVlcnlLZXkgcWspIHsKICAgICAgICByZXR1cm4gX2NhY2hlLnVucGluKHFr\nKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgQ29sbGVjdGlvbiBrZXlTZXQoKSB7\nCiAgICAgICAgcmV0dXJuIF9jYWNoZS5rZXlTZXQgKCk7Cgl9Cn0K\n","encoding":"base64"}

