{"sha":"3f57664c5c3c755fe0c3be2c6f1eabcf7fac9b38","node_id":"MDQ6QmxvYjIwNjM2NDozZjU3NjY0YzVjM2M3NTVmZTBjM2JlMmM2ZjFlYWJjZjdmYWM5YjM4","size":6150,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3f57664c5c3c755fe0c3be2c6f1eabcf7fac9b38","content":"LyoNCiAqIENvcHlyaWdodCAyMDA2IFRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbi4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExp\nY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBt\nYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0\naCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0\naGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9s\naWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBi\neSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29m\ndHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQN\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICovDQpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5lZTsNCg0KaW1wb3J0IGphdmEudXRp\nbC5MaW5rZWRMaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KaW1wb3J0\nIGphdmF4LnRyYW5zYWN0aW9uLlRyYW5zYWN0aW9uTWFuYWdlcjsNCg0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmFibGU7\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3Vy\nYXRpb247DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxv\nY2FsaXplcjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5JbnZh\nbGlkU3RhdGVFeGNlcHRpb247DQoNCi8qKg0KICogSW1wbGVtZW50YXRpb24g\nb2YgdGhlIHtAbGluayBNYW5hZ2VkUnVudGltZX0gaW50ZXJmYWNlIHRoYXQg\nc2VhcmNoZXMNCiAqIHRocm91Z2ggYSBzZXQgb2Yga25vd24gSk5ESSBsb2Nh\ndGlvbnMgYW5kIG1ldGhvZCBpbnZvY2F0aW9ucyB0byBsb2NhdGUgdGhlDQog\nKiBhcHByb3ByaWF0ZSBtZWNoYW5pc20gZm9yIG9idGFpbmluZyBhIFRyYW5z\nYWN0aW9uTWFuYWdlci4NCiAqICBCdWlsdCBpbiBzdXBwb3J0IGlzIHByb3Zp\nZGVkIGZvciB0aGUgZm9sbG93aW5nIEFwcGxpY2F0aW9uIFNlcnZlcnM6DQog\nKiA8dWw+DQogKiA8bGk+Qmx1ZXN0b25lPC9saT4NCiAqIDxsaT5IUCBBcHBs\naWNhdGlvbiBTZXJ2ZXI8L2xpPg0KICogPGxpPkpCb3NzPC9saT4NCiAqIDxs\naT5KUnVuPC9saT4NCiAqIDxsaT5PcGVuRUpCPC9saT4NCiAqIDxsaT5PcmFj\nbGUgQXBwbGljYXRpb24gU2VydmVyPC9saT4NCiAqIDxsaT5PcmlvbjwvbGk+\nDQogKiA8bGk+U3VuT05FPC9saT4NCiAqIDxsaT5XZWJsb2dpYzwvbGk+DQog\nKiA8bGk+V2Vic3BoZXJlPC9saT4NCiAqIDwvdWw+DQogKg0KICogQGF1dGhv\nciBNYXJjIFBydWQnaG9tbWVhdXgNCiAqLw0KcHVibGljIGNsYXNzIEF1dG9t\nYXRpY01hbmFnZWRSdW50aW1lDQogICAgaW1wbGVtZW50cyBNYW5hZ2VkUnVu\ndGltZSwgQ29uZmlndXJhYmxlIHsNCg0KICAgIHByaXZhdGUgc3RhdGljIGZp\nbmFsIFN0cmluZyBbXSBKTkRJX0xPQ1MgPSBuZXcgU3RyaW5nIFtdew0KICAg\nICAgICAiamF2YXgudHJhbnNhY3Rpb24uVHJhbnNhY3Rpb25NYW5hZ2VyIiwg\nLy8gd2VibG9naWMNCiAgICAgICAgImphdmE6L1RyYW5zYWN0aW9uTWFuYWdl\nciIsIC8vIGpib3NzICYganJ1bg0KICAgICAgICAiamF2YTovRGVmYXVsdERv\nbWFpbi9UcmFuc2FjdGlvbk1hbmFnZXIiLCAvLyBqcnVuIHRvbw0KICAgICAg\nICAiamF2YTpjb21wL3BtL1RyYW5zYWN0aW9uTWFuYWdlciIsIC8vIG9yaW9u\nICYgb3JhY2xlDQogICAgICAgICJqYXZhOmNvbXAvVHJhbnNhY3Rpb25NYW5h\nZ2VyIiwgLy8gZ2VuZXJpYw0KICAgICAgICAiamF2YTpwbS9UcmFuc2FjdGlv\nbk1hbmFnZXIiLCAvLyBib3JsYW5kDQogICAgfTsNCiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgW10gTUVUSE9EUyA9IG5ldyBTdHJpbmdbXXsN\nCiAgICAgICAgImNvbS5hcmp1bmEuanRhLkpUQV9UcmFuc2FjdGlvbk1hbmFn\nZXIudHJhbnNhY3Rpb25NYW5hZ2VyIiwgLy8gaHANCiAgICAgICAgImNvbS5i\nbHVlc3RvbmUuanRhLlNhVHJhbnNhY3Rpb25NYW5hZ2VyRmFjdG9yeS5TYUdl\ndFRyYW5zYWN0aW9uTWFuYWdlciIsDQogICAgICAgICJvcmcub3BlbmVqYi5P\ncGVuRUpCLmdldFRyYW5zYWN0aW9uTWFuYWdlciIsDQogICAgICAgICJjb20u\nc3VuLmp0cy5qdGEuVHJhbnNhY3Rpb25NYW5hZ2VySW1wbC5nZXRUcmFuc2Fj\ndGlvbk1hbmFnZXJJbXBsIiwNCiAgICAgICAgImNvbS5pbnByaXNlLnZpc2l0\ncmFuc2FjdC5qdGEuVHJhbnNhY3Rpb25NYW5hZ2VySW1wbC4iDQogICAgICAg\nICAgICArICJnZXRUcmFuc2FjdGlvbk1hbmFnZXJJbXBsIiwgLy8gYm9ybGFu\nZA0KICAgIH07DQogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgV0xTTWFuYWdl\nZFJ1bnRpbWUgV0xTOw0KICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN1bk9u\nZU1hbmFnZWRSdW50aW1lIFNVTk9ORTsNCiAgICBwcml2YXRlIHN0YXRpYyBm\naW5hbCBXQVNNYW5hZ2VkUnVudGltZSBXQVM7DQoNCiAgICBwcml2YXRlIHN0\nYXRpYyBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlDQog\nICAgICAgIChBdXRvbWF0aWNNYW5hZ2VkUnVudGltZS5jbGFzcyk7DQoNCiAg\nICBzdGF0aWMgew0KICAgICAgICBNYW5hZ2VkUnVudGltZSBtciA9IG51bGw7\nDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBtciA9IG5ldyBXTFNNYW5h\nZ2VkUnVudGltZSgpOw0KICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkg\new0KICAgICAgICB9DQogICAgICAgIFdMUyA9IChXTFNNYW5hZ2VkUnVudGlt\nZSkgbXI7DQoNCiAgICAgICAgbXIgPSBudWxsOw0KICAgICAgICB0cnkgew0K\nICAgICAgICAgICAgbXIgPSBuZXcgU3VuT25lTWFuYWdlZFJ1bnRpbWUoKTsN\nCiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsNCiAgICAgICAgfQ0K\nICAgICAgICBTVU5PTkUgPSAoU3VuT25lTWFuYWdlZFJ1bnRpbWUpIG1yOw0K\nDQogICAgICAgIG1yID0gbnVsbDsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAg\nICAgIG1yID0gbmV3IFdBU01hbmFnZWRSdW50aW1lKCk7DQogICAgICAgIH0N\nCiAgICAgICAgY2F0Y2goVGhyb3dhYmxlIHQpIHsNCiAgICAgICAgfQ0KICAg\nICAgICBXQVM9IChXQVNNYW5hZ2VkUnVudGltZSkgbXI7DQogICAgfQ0KDQog\nICAgcHJpdmF0ZSBDb25maWd1cmF0aW9uIF9jb25mID0gbnVsbDsNCiAgICBw\ncml2YXRlIE1hbmFnZWRSdW50aW1lIF9ydW50aW1lID0gbnVsbDsNCg0KICAg\nIHB1YmxpYyBUcmFuc2FjdGlvbk1hbmFnZXIgZ2V0VHJhbnNhY3Rpb25NYW5h\nZ2VyKCkNCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIGlm\nIChfcnVudGltZSAhPSBudWxsKQ0KICAgICAgICAgICAgcmV0dXJuIF9ydW50\naW1lLmdldFRyYW5zYWN0aW9uTWFuYWdlcigpOw0KDQogICAgICAgIExpc3Qg\nZXJyb3JzID0gbmV3IExpbmtlZExpc3QoKTsNCiAgICAgICAgVHJhbnNhY3Rp\nb25NYW5hZ2VyIHRtID0gbnVsbDsNCg0KICAgICAgICBpZiAoV0xTICE9IG51\nbGwpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdG0g\nPSBXTFMuZ2V0VHJhbnNhY3Rpb25NYW5hZ2VyKCk7DQogICAgICAgICAgICB9\nIGNhdGNoIChUaHJvd2FibGUgdCkgew0KICAgICAgICAgICAgICAgIGVycm9y\ncy5hZGQodCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodG0g\nIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIF9ydW50aW1lID0gV0xTOw0K\nICAgICAgICAgICAgICAgIHJldHVybiB0bTsNCiAgICAgICAgICAgIH0NCiAg\nICAgICAgfQ0KDQogICAgICAgIGlmIChXQVMgIT0gbnVsbCkgew0KICAgICAg\nICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBXQVMuc2V0Q29uZmlndXJh\ndGlvbihfY29uZik7DQogICAgICAgICAgICAgICAgV0FTLnN0YXJ0Q29uZmln\ndXJhdGlvbigpOw0KICAgICAgICAgICAgICAgIFdBUy5lbmRDb25maWd1cmF0\naW9uKCk7DQogICAgICAgICAgICAgICAgdG0gPSBXQVMuZ2V0VHJhbnNhY3Rp\nb25NYW5hZ2VyKCk7DQogICAgICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUg\ndCkgew0KICAgICAgICAgICAgICAgIGVycm9ycy5hZGQodCk7DQogICAgICAg\nICAgICB9DQogICAgICAgICAgICBpZiAodG0gIT0gbnVsbCkgew0KICAgICAg\nICAgICAgICAgIF9ydW50aW1lID0gV0FTOw0KICAgICAgICAgICAgICAgIHJl\ndHVybiB0bTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAg\nIC8vIHRyeSB0byBmaW5kIGEgam5kaSBydW50aW1lDQogICAgICAgIEpORElN\nYW5hZ2VkUnVudGltZSBqbXIgPSBuZXcgSk5ESU1hbmFnZWRSdW50aW1lKCk7\nDQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgSk5ESV9MT0NTLmxlbmd0\naDsgaSsrKSB7DQogICAgICAgICAgICBqbXIuc2V0VHJhbnNhY3Rpb25NYW5h\nZ2VyTmFtZShKTkRJX0xPQ1NbaV0pOw0KICAgICAgICAgICAgdHJ5IHsNCiAg\nICAgICAgICAgICAgICB0bSA9IGptci5nZXRUcmFuc2FjdGlvbk1hbmFnZXIo\nKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7DQogICAg\nICAgICAgICAgICAgZXJyb3JzLmFkZCh0KTsNCiAgICAgICAgICAgIH0NCiAg\nICAgICAgICAgIGlmICh0bSAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAg\nX3J1bnRpbWUgPSBqbXI7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRtOw0K\nICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gbG9vayBm\nb3IgYSBtZXRob2QgcnVudGltZQ0KICAgICAgICBJbnZvY2F0aW9uTWFuYWdl\nZFJ1bnRpbWUgaW1yID0gbmV3IEludm9jYXRpb25NYW5hZ2VkUnVudGltZSgp\nOw0KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IE1FVEhPRFMubGVuZ3Ro\nOyBpKyspIHsNCiAgICAgICAgICAgIGltci5zZXRDb25maWd1cmF0aW9uKF9j\nb25mKTsNCiAgICAgICAgICAgIGltci5zZXRUcmFuc2FjdGlvbk1hbmFnZXJN\nZXRob2QoTUVUSE9EU1tpXSk7DQogICAgICAgICAgICB0cnkgew0KICAgICAg\nICAgICAgICAgIHRtID0gaW1yLmdldFRyYW5zYWN0aW9uTWFuYWdlcigpOw0K\nICAgICAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsNCiAgICAgICAg\nICAgICAgICBlcnJvcnMuYWRkKHQpOw0KICAgICAgICAgICAgfQ0KICAgICAg\nICAgICAgaWYgKHRtICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBfcnVu\ndGltZSA9IGltcjsNCiAgICAgICAgICAgICAgICByZXR1cm4gdG07DQogICAg\nICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoU1VOT05FICE9\nIG51bGwpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAg\ndG0gPSBTVU5PTkUuZ2V0VHJhbnNhY3Rpb25NYW5hZ2VyKCk7DQogICAgICAg\nICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgew0KICAgICAgICAgICAgICAg\nIGVycm9ycy5hZGQodCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBp\nZiAodG0gIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIF9ydW50aW1lID0g\nU1VOT05FOw0KICAgICAgICAgICAgICAgIHJldHVybiB0bTsNCiAgICAgICAg\nICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIFRocm93YWJsZVtdIHQgPSAo\nVGhyb3dhYmxlIFtdKSBlcnJvcnMudG9BcnJheSgNCiAgICAgICAgICAgIG5l\ndyBUaHJvd2FibGUgW2Vycm9ycy5zaXplKCldKTsNCiAgICAgICAgdGhyb3cg\nbmV3IEludmFsaWRTdGF0ZUV4Y2VwdGlvbihfbG9jLmdldCgidG0tbm90LWZv\ndW5kIikpLg0KICAgICAgICAgICAgc2V0RmF0YWwodHJ1ZSkuc2V0TmVzdGVk\nVGhyb3dhYmxlcyh0KTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRD\nb25maWd1cmF0aW9uKENvbmZpZ3VyYXRpb24gY29uZikgew0KICAgICAgICBf\nY29uZiA9IGNvbmY7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc3RhcnRD\nb25maWd1cmF0aW9uKCkgew0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIGVu\nZENvbmZpZ3VyYXRpb24oKSB7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

