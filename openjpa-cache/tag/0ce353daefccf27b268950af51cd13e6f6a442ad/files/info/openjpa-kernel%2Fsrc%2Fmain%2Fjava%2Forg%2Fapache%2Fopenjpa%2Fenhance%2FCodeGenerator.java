{"sha":"bd9c21f91a5f438347a11fda400041036240c28c","node_id":"MDQ6QmxvYjIwNjM2NDpiZDljMjFmOTFhNWY0MzgzNDdhMTFmZGE0MDAwNDEwMzYyNDBjMjhj","size":18313,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bd9c21f91a5f438347a11fda400041036240c28c","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5lbmhhbmNlOwoKaW1wb3J0IGphdmEuaW8uRmlsZTsKaW1wb3J0\nIGphdmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLldyaXRlcjsK\naW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5T\nZXQ7CmltcG9ydCBqYXZhLnV0aWwuVHJlZVNldDsKCmltcG9ydCBvcmcuYXBh\nY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5jb25mLk9wZW5KUEFDb25maWd1cmF0aW9uOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkNvZGVGb3JtYXQ7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuRmlsZXM7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuUGFyYW1ldGVyVGVtcGxhdGU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRh\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuRmllbGRNZXRhRGF0\nYTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkphdmFUeXBlczsK\naW1wb3J0IHNlcnAudXRpbC5TdHJpbmdzOwoKLyoqCiAqIEdlbmVyYXRlcyBK\nYXZhIGNsYXNzIGNvZGUgZnJvbSBtZXRhZGF0YS4KICoKICogQGF1dGhvciBB\nYmUgV2hpdGUKICogQGF1dGhvciBTdGVwaGVuIEtpbQogKiBAc2luY2UgMC4z\nLjAKICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIENvZGVHZW5lcmF0\nb3IgewoKICAgIHByaXZhdGUgRmlsZSBfZGlyID0gbnVsbDsKICAgIHByaXZh\ndGUgQ29kZUZvcm1hdCBfZm9ybWF0ID0gbnVsbDsKICAgIHByaXZhdGUgQ2xh\nc3NNZXRhRGF0YSBfbWV0YSA9IG51bGw7CiAgICBwcml2YXRlIENsYXNzIF90\neXBlID0gbnVsbDsKICAgIHByaXZhdGUgUGFyYW1ldGVyVGVtcGxhdGUgX2Nv\nZGUgPSBudWxsOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuIFN1cHBs\neSBjb25maWd1cmF0aW9uIGFuZCBjbGFzcyB0byBnZW5lcmF0ZSBjb2RlIGZv\nci4KICAgICAqLwogICAgcHVibGljIENvZGVHZW5lcmF0b3IoT3BlbkpQQUNv\nbmZpZ3VyYXRpb24gY29uZiwgQ2xhc3MgdHlwZSkgewogICAgICAgIHRoaXMo\nY29uZi5uZXdNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgpLgogICAgICAg\nICAgICBnZXRNZXRhRGF0YSh0eXBlLCBudWxsLCB0cnVlKSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4gU3VwcGx5IGNvbmZpZ3VyYXRp\nb24gYW5kIG1ldGFkYXRhIHRvIGdlbmVyYXRlIGNvZGUgZm9yLgogICAgICov\nCiAgICBwdWJsaWMgQ29kZUdlbmVyYXRvcihDbGFzc01ldGFEYXRhIG1ldGEp\nIHsKICAgICAgICBfbWV0YSA9IG1ldGE7CiAgICAgICAgX3R5cGUgPSBtZXRh\nLmdldERlc2NyaWJlZFR5cGUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRo\nZSBkaXJlY3RvcnkgdG8gd3JpdGUgc291cmNlIHRvLiBEZWZhdWx0cyB0byB0\naGUgY3VycmVudCBkaXJlY3RvcnkuCiAgICAgKiBJZiB0aGUgZ2l2ZW4gZGly\nZWN0b3J5IGRvZXMgbm90IG1hdGNoIHRoZSBwYWNrYWdlIG9mIHRoZSBtZXRh\nZGF0YSwgdGhlCiAgICAgKiBwYWNrYWdlIHN0cnVjdHVyZSB3aWxsIGJlIGNy\nZWF0ZWQgYmVsb3cgdGhlIGRpcmVjdG9yeS4KICAgICAqLwogICAgcHVibGlj\nIEZpbGUgZ2V0Q29kZURpcmVjdG9yeSgpIHsKICAgICAgICByZXR1cm4gX2Rp\ncjsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBkaXJlY3RvcnkgdG8gd3Jp\ndGUgc291cmNlIHRvLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudCBkaXJlY3Rv\ncnkuCiAgICAgKiBJZiB0aGUgZ2l2ZW4gZGlyZWN0b3J5IGRvZXMgbm90IG1h\ndGNoIHRoZSBwYWNrYWdlIG9mIHRoZSBtZXRhZGF0YSwgdGhlCiAgICAgKiBw\nYWNrYWdlIHN0cnVjdHVyZSB3aWxsIGJlIGNyZWF0ZWQgYmVsb3cgdGhlIGRp\ncmVjdG9yeS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0RGlyZWN0b3J5\nKEZpbGUgZGlyKSB7CiAgICAgICAgX2RpciA9IGRpcjsKICAgIH0KCiAgICAv\nKioKICAgICAqIFRoZSBjb2RlIGZvcm1hdHRlciBmb3IgdGhlIGdlbmVyYXRl\nZCBKYXZhIGNvZGUuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGdl\ndENvZGVGb3JtYXQoKSB7CiAgICAgICAgcmV0dXJuIF9mb3JtYXQ7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBTZXQgdGhlIGNvZGUgZm9ybWF0dGVyIGZvciB0\naGUgZ2VuZXJhdGVkIEphdmEgY29kZS4KICAgICAqLwogICAgcHVibGljIHZv\naWQgc2V0Q29kZUZvcm1hdChDb2RlRm9ybWF0IGZvcm1hdCkgewogICAgICAg\nIF9mb3JtYXQgPSBmb3JtYXQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1\ncm4gdGhlIHR5cGUgYmVpbmcgZ2VuZXJhdGVkLgogICAgICovCiAgICBwdWJs\naWMgQ2xhc3MgZ2V0VHlwZSgpIHsKICAgICAgICByZXR1cm4gX3R5cGU7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gbWV0YWRhdGEgZm9yIHRoZSB0\neXBlIGJlaW5nIGdlbmVyYXRlZC4KICAgICAqLwogICAgcHVibGljIENsYXNz\nTWV0YURhdGEgZ2V0TWV0YURhdGEoKSB7CiAgICAgICAgcmV0dXJuIF9tZXRh\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBnZW5lcmF0ZWQg\nY29kZSwgb3IgbnVsbCBpZiB7QGxpbmsgI2dlbmVyYXRlQ29kZX0gaGFzIG5v\ndAogICAgICogYmVlbiBjYWxsZWQuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0Q29kZSgpIHsKICAgICAgICByZXR1cm4gKF9jb2RlID09IG51bGwp\nID8gbnVsbCA6IF9jb2RlLnRvU3RyaW5nKCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBXcml0ZXMgdGhlIGdlbmVyYXRlZCBjb2RlIHRvIHRoZSBwcm9wZXIg\nZGlyZWN0b3J5LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBnZW5lcmF0ZUNv\nZGUoKSB7CiAgICAgICAgLy8gc2V0dXAgcGFyYW1ldGVycwogICAgICAgIFN0\ncmluZyBjbGFzc05hbWUgPSBTdHJpbmdzLmdldENsYXNzTmFtZShfdHlwZSk7\nCiAgICAgICAgU3RyaW5nIHBhY2thZ2VOYW1lID0gU3RyaW5ncy5nZXRQYWNr\nYWdlTmFtZShfdHlwZSk7CiAgICAgICAgU3RyaW5nIHBhY2thZ2VEZWMgPSAi\nIjsKICAgICAgICBpZiAocGFja2FnZU5hbWUubGVuZ3RoKCkgPiAwKQogICAg\nICAgICAgICBwYWNrYWdlRGVjID0gInBhY2thZ2UgIiArIHBhY2thZ2VOYW1l\nICsgIjsiOwoKICAgICAgICBTdHJpbmcgZXh0ZW5kc0RlYyA9ICIiOwogICAg\nICAgIFN0cmluZyBleHRlbmRzTmFtZSA9ICIiOwogICAgICAgIGlmICghX3R5\ncGUuZ2V0U3VwZXJjbGFzcygpLmdldE5hbWUoKS5lcXVhbHMoT2JqZWN0LmNs\nYXNzLmdldE5hbWUoKSkpIHsKICAgICAgICAgICAgZXh0ZW5kc05hbWUgPSBT\ndHJpbmdzLmdldENsYXNzTmFtZShfdHlwZS5nZXRTdXBlcmNsYXNzKCkpOwog\nICAgICAgICAgICBleHRlbmRzRGVjID0gImV4dGVuZHMgIiArIGV4dGVuZHNO\nYW1lOwogICAgICAgIH0KCiAgICAgICAgU3RyaW5nIGltcG9ydHMgPSBnZXRJ\nbXBvcnRzKCk7CiAgICAgICAgU3RyaW5nW10gZmllbGRDb2RlID0gZ2V0Rmll\nbGRDb2RlKCk7CiAgICAgICAgU3RyaW5nIGNvbnN0cnVjdG9yID0gZ2V0Q29u\nc3RydWN0b3IoKTsKCiAgICAgICAgLy8gZ2V0IGNvZGUgdGVtcGxhdGUKICAg\nICAgICBfY29kZSA9IG5ldyBQYXJhbWV0ZXJUZW1wbGF0ZSgpOwogICAgICAg\nIFN0cmluZyBjb2RlU3RyID0gZ2V0Q2xhc3NDb2RlKCk7CiAgICAgICAgaWYg\nKGNvZGVTdHIgIT0gbnVsbCkgewogICAgICAgICAgICBfY29kZS5hcHBlbmQo\nY29kZVN0cik7CiAgICAgICAgICAgIF9jb2RlLnNldFBhcmFtZXRlcigicGFj\na2FnZURlYyIsIHBhY2thZ2VEZWMpOwogICAgICAgICAgICBfY29kZS5zZXRQ\nYXJhbWV0ZXIoImltcG9ydHMiLCBpbXBvcnRzKTsKICAgICAgICAgICAgX2Nv\nZGUuc2V0UGFyYW1ldGVyKCJjbGFzc05hbWUiLCBjbGFzc05hbWUpOwogICAg\nICAgICAgICBfY29kZS5zZXRQYXJhbWV0ZXIoImV4dGVuZHNEZWMiLCBleHRl\nbmRzRGVjKTsKICAgICAgICAgICAgX2NvZGUuc2V0UGFyYW1ldGVyKCJjb25z\ndHJ1Y3RvciIsIGNvbnN0cnVjdG9yKTsKICAgICAgICAgICAgX2NvZGUuc2V0\nUGFyYW1ldGVyKCJmaWVsZERlY3MiLCBmaWVsZENvZGVbMF0pOwogICAgICAg\nICAgICBfY29kZS5zZXRQYXJhbWV0ZXIoImZpZWxkQ29kZSIsIGZpZWxkQ29k\nZVsxXSk7CiAgICAgICAgfSBlbHNlCiAgICAgICAgICAgIF9jb2RlLmFwcGVu\nZChnZXRDbGFzc0NvZGUocGFja2FnZURlYywgaW1wb3J0cywgY2xhc3NOYW1l\nLAogICAgICAgICAgICAgICAgZXh0ZW5kc05hbWUsIGNvbnN0cnVjdG9yLCBm\naWVsZENvZGVbMF0sIGZpZWxkQ29kZVsxXSkpOwogICAgfQoKICAgIC8qKgog\nICAgICogV3JpdGUgdGhlIGdlbmVyYXRlZCBjb2RlIHRvIHRoZSBwcm9wZXIg\nZmlsZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgd3JpdGVDb2RlKCkKICAg\nICAgICB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIGlmIChfY29kZSA9\nPSBudWxsKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIEZpbGUgZmls\nZSA9IGdldEZpbGUoKTsKICAgICAgICBGaWxlcy5iYWNrdXAoZmlsZSwgZmFs\nc2UpOwogICAgICAgIF9jb2RlLndyaXRlKGZpbGUpOwogICAgfQoKICAgIC8q\nKgogICAgICogV3JpdGUgdGhlIGNvZGUgdG8gdGhlIHNwZWNpZmllZCB7QGxp\nbmsgV3JpdGVyfS4KICAgICAqLwogICAgcHVibGljIHZvaWQgd3JpdGVDb2Rl\nKFdyaXRlciBvdXQpCiAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAg\nICAgICBpZiAoX2NvZGUgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwoK\nICAgICAgICBfY29kZS53cml0ZShvdXQpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSBuZWNlc3NhcnkgaW1wb3J0cyBmb3IgdGhlIGNsYXNz\nLgogICAgICovCiAgICBwcml2YXRlIFN0cmluZyBnZXRJbXBvcnRzKCkgewog\nICAgICAgIFNldCBwa2dzID0gZ2V0SW1wb3J0UGFja2FnZXMoKTsKCiAgICAg\nICAgQ29kZUZvcm1hdCBpbXBvcnRzID0gbmV3Q29kZUZvcm1hdCgpOwogICAg\nICAgIFN0cmluZyBiYXNlID0gU3RyaW5ncy5nZXRQYWNrYWdlTmFtZShfdHlw\nZSk7CiAgICAgICAgU3RyaW5nIHBrZzsKICAgICAgICBmb3IgKEl0ZXJhdG9y\nIGl0ciA9IHBrZ3MuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspIHsKICAg\nICAgICAgICAgcGtnID0gKFN0cmluZykgaXRyLm5leHQoKTsKICAgICAgICAg\nICAgaWYgKHBrZy5sZW5ndGgoKSA+IDAgJiYgISJqYXZhLmxhbmciLmVxdWFs\ncyhwa2cpCiAgICAgICAgICAgICAgICAmJiAhYmFzZS5lcXVhbHMocGtnKSkg\newogICAgICAgICAgICAgICAgaWYgKGltcG9ydHMubGVuZ3RoKCkgPiAwKQog\nICAgICAgICAgICAgICAgICAgIGltcG9ydHMuZW5kbCgpOwogICAgICAgICAg\nICAgICAgaW1wb3J0cy5hcHBlbmQoImltcG9ydCAiKS5hcHBlbmQocGtnKS5h\ncHBlbmQoIi4qOyIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAg\nIHJldHVybiBpbXBvcnRzLnRvU3RyaW5nKCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm5zIHRoZSBzZXQgb2YgcGFja2FnZXMgdGhhdCBuZWVkcyB0\nbyBiZSBpbXBvcnRlZCBmb3IgdGhpcyBjb2RlLgogICAgICovCiAgICBwdWJs\naWMgU2V0IGdldEltcG9ydFBhY2thZ2VzKCkgewogICAgICAgIFNldCBwa2dz\nID0gbmV3IFRyZWVTZXQoKTsKICAgICAgICBwa2dzLmFkZChTdHJpbmdzLmdl\ndFBhY2thZ2VOYW1lKF90eXBlLmdldFN1cGVyY2xhc3MoKSkpOwoKICAgICAg\nICBGaWVsZE1ldGFEYXRhW10gZmllbGRzID0gX21ldGEuZ2V0RGVjbGFyZWRG\naWVsZHMoKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGZpZWxkcy5s\nZW5ndGg7IGkrKykKICAgICAgICAgICAgcGtncy5hZGQoU3RyaW5ncy5nZXRQ\nYWNrYWdlTmFtZShmaWVsZHNbaV0uZ2V0RGVjbGFyZWRUeXBlKCkpKTsKCiAg\nICAgICAgZmllbGRzID0gX21ldGEuZ2V0UHJpbWFyeUtleUZpZWxkcygpOwog\nICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsr\nKQogICAgICAgICAgICBwa2dzLmFkZChTdHJpbmdzLmdldFBhY2thZ2VOYW1l\nKGZpZWxkc1tpXS5nZXREZWNsYXJlZFR5cGUoKSkpOwoKICAgICAgICByZXR1\ncm4gcGtnczsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBjb2RlIGZv\nciBhIHByaW1hcnkga2V5IGNvbnN0cnVjdG9yIGZvciB0aGUgZ2l2ZW4gY2xh\nc3MuCiAgICAgKi8KICAgIHByaXZhdGUgU3RyaW5nIGdldENvbnN0cnVjdG9y\nKCkgewogICAgICAgIEZpZWxkTWV0YURhdGFbXSBmaWVsZHMgPSBfbWV0YS5n\nZXRQcmltYXJ5S2V5RmllbGRzKCk7CiAgICAgICAgaWYgKGZpZWxkcy5sZW5n\ndGggPT0gMCkKICAgICAgICAgICAgcmV0dXJuICIiOwoKICAgICAgICBDb2Rl\nRm9ybWF0IGNvbnMgPSBuZXdDb2RlRm9ybWF0KCk7CiAgICAgICAgQ29kZUZv\ncm1hdCBib2R5ID0gbmV3Q29kZUZvcm1hdCgpOwoKICAgICAgICAvLyBwdWJs\naWMgPGNsYXNzPiAoCiAgICAgICAgY29ucy50YWIoKS5hcHBlbmQoInB1Ymxp\nYyAiKS5hcHBlbmQoU3RyaW5ncy5nZXRDbGFzc05hbWUoX3R5cGUpKTsKICAg\nICAgICBjb25zLm9wZW5QYXJlbih0cnVlKTsKCiAgICAgICAgLy8gYXBwZW5k\nIGFyZ3MgdG8gY29uc3RydWN0b3IsIGFuZCBidWlsZCB1cCBib2R5IGF0IHNh\nbWUgdGltZQogICAgICAgIFN0cmluZyBwcm9wZXJ0eU5hbWU7CiAgICAgICAg\nU3RyaW5nIGZpZWxkVHlwZTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIGZpZWxkcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwcm9wZXJ0eU5h\nbWUgPSBmaWVsZHNbaV0uZ2V0TmFtZSgpOwogICAgICAgICAgICBpZiAocHJv\ncGVydHlOYW1lLnN0YXJ0c1dpdGgoIl8iKSkKICAgICAgICAgICAgICAgIHBy\nb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZS5zdWJzdHJpbmcoMSk7CiAgICAg\nICAgICAgIGZpZWxkVHlwZSA9IFN0cmluZ3MuZ2V0Q2xhc3NOYW1lKGZpZWxk\nc1tpXS5nZXREZWNsYXJlZFR5cGUoKSk7CgogICAgICAgICAgICBpZiAoaSA+\nIDApCiAgICAgICAgICAgICAgICBjb25zLmFwcGVuZCgiLCAiKTsKICAgICAg\nICAgICAgY29ucy5hcHBlbmQoZmllbGRUeXBlKS5hcHBlbmQoIiAiKS5hcHBl\nbmQocHJvcGVydHlOYW1lKTsKCiAgICAgICAgICAgIGlmIChfbWV0YS5nZXRQ\nQ1N1cGVyY2xhc3MoKSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBpZiAo\naSA+IDApCiAgICAgICAgICAgICAgICAgICAgYm9keS5lbmRsKCk7CiAgICAg\nICAgICAgICAgICBib2R5LnRhYigyKTsKICAgICAgICAgICAgICAgIGlmIChw\ncm9wZXJ0eU5hbWUuZXF1YWxzKGZpZWxkc1tpXS5nZXROYW1lKCkpKQogICAg\nICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kKCJ0aGlzLiIpOwogICAgICAg\nICAgICAgICAgYm9keS5hcHBlbmQoZmllbGRzW2ldLmdldE5hbWUoKSk7CiAg\nICAgICAgICAgICAgICBib2R5LmFwcGVuZCgiID0gIikuYXBwZW5kKHByb3Bl\ncnR5TmFtZSkuYXBwZW5kKCI7Iik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAg\nICAgICAgICAgICAgICAvLyBzdXBlciAoLi4uKTsKICAgICAgICAgICAgICAg\nIGlmIChpID09IDApCiAgICAgICAgICAgICAgICAgICAgYm9keS50YWIoMiku\nYXBwZW5kKCJzdXBlciIpLm9wZW5QYXJlbih0cnVlKTsKICAgICAgICAgICAg\nICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZCgiLCAi\nKTsKICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kKHByb3BlcnR5TmFtZSk7\nCiAgICAgICAgICAgICAgICBpZiAoaSA9PSBmaWVsZHMubGVuZ3RoIC0gMSkK\nICAgICAgICAgICAgICAgICAgICBib2R5LmNsb3NlUGFyZW4oKS5hcHBlbmQo\nIjsiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjb25zLmNs\nb3NlUGFyZW4oKTsKCiAgICAgICAgY29ucy5vcGVuQnJhY2UoMikuZW5kbCgp\nOwogICAgICAgIGNvbnMuYXBwZW5kKGJvZHkudG9TdHJpbmcoKSkuZW5kbCgp\nOwogICAgICAgIGNvbnMuY2xvc2VCcmFjZSgyKTsKICAgICAgICByZXR1cm4g\nY29ucy50b1N0cmluZygpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\ncyB0aGUgSmF2YSBkZWNsYXJhdGlvbiBhbmQgYWNjZXNzIG1ldGhvZCBjb2Rl\nIGZvciBhbGwgZGVjbGFyZWQKICAgICAqIGZpZWxkcy4KICAgICAqLwogICAg\ncHJpdmF0ZSBTdHJpbmdbXSBnZXRGaWVsZENvZGUoKSB7CiAgICAgICAgQ29k\nZUZvcm1hdCBkZWNzID0gbmV3Q29kZUZvcm1hdCgpOwogICAgICAgIENvZGVG\nb3JtYXQgY29kZSA9IG5ld0NvZGVGb3JtYXQoKTsKCiAgICAgICAgRmllbGRN\nZXRhRGF0YVtdIGZpZWxkcyA9IF9tZXRhLmdldERlY2xhcmVkRmllbGRzKCk7\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBp\nKyspCiAgICAgICAgICAgIGFwcGVuZEZpZWxkQ29kZShmaWVsZHNbaV0sIGRl\nY3MsIGNvZGUpOwogICAgICAgIGZpZWxkcyA9IF9tZXRhLmdldERlY2xhcmVk\nVW5tYW5hZ2VkRmllbGRzKCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkg\nPCBmaWVsZHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGFwcGVuZEZpZWxk\nQ29kZShmaWVsZHNbaV0sIGRlY3MsIGNvZGUpOwogICAgICAgIHJldHVybiBu\nZXcgU3RyaW5nW117IGRlY3MudG9TdHJpbmcoKSwgY29kZS50b1N0cmluZygp\nIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGRlY2xhcmF0\naW9uIGFuZCBjb2RlIGZvciB0aGUgZ2l2ZW4gZmllbGQgdG8gdGhlIGdpdmVu\nIGJ1ZmZlcnMuCiAgICAgKi8KICAgIHByaXZhdGUgdm9pZCBhcHBlbmRGaWVs\nZENvZGUoRmllbGRNZXRhRGF0YSBmbWQsIENvZGVGb3JtYXQgZGVjcywKICAg\nICAgICBDb2RlRm9ybWF0IGNvZGUpIHsKICAgICAgICBTdHJpbmcgZmllbGRO\nYW1lID0gZm1kLmdldE5hbWUoKTsKICAgICAgICBTdHJpbmcgY2FwRmllbGRO\nYW1lID0gU3RyaW5nVXRpbHMuY2FwaXRhbGl6ZShmaWVsZE5hbWUpOwogICAg\nICAgIFN0cmluZyBwcm9wZXJ0eU5hbWUgPSBmaWVsZE5hbWU7CiAgICAgICAg\naWYgKHByb3BlcnR5TmFtZS5zdGFydHNXaXRoKCJfIikpCiAgICAgICAgICAg\nIHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZS5zdWJzdHJpbmcoMSk7CiAg\nICAgICAgU3RyaW5nIGZpZWxkVHlwZSA9IFN0cmluZ3MuZ2V0Q2xhc3NOYW1l\nKGZtZC5nZXREZWNsYXJlZFR5cGUoKSk7CgogICAgICAgIFN0cmluZyBmaWVs\nZFZhbHVlID0gZ2V0SW5pdGlhbFZhbHVlKGZtZCk7CiAgICAgICAgaWYgKGZp\nZWxkVmFsdWUgPT0gbnVsbCkgewogICAgICAgICAgICBpZiAoIlNldCIuZXF1\nYWxzKGZpZWxkVHlwZSkpCiAgICAgICAgICAgICAgICBmaWVsZFZhbHVlID0g\nIm5ldyBIYXNoU2V0IiArIGRlY3MuZ2V0UGFyZW5zKCk7CiAgICAgICAgICAg\nIGVsc2UgaWYgKCJUcmVlU2V0Ii5lcXVhbHMoZmllbGRUeXBlKSkKICAgICAg\nICAgICAgICAgIGZpZWxkVmFsdWUgPSAibmV3IFRyZWVTZXQiICsgZGVjcy5n\nZXRQYXJlbnMoKTsKICAgICAgICAgICAgZWxzZSBpZiAoIkNvbGxlY3Rpb24i\nLmVxdWFscyhmaWVsZFR5cGUpKQogICAgICAgICAgICAgICAgZmllbGRWYWx1\nZSA9ICJuZXcgQXJyYXlMaXN0IiArIGRlY3MuZ2V0UGFyZW5zKCk7CiAgICAg\nICAgICAgIGVsc2UgaWYgKCJNYXAiLmVxdWFscyhmaWVsZFR5cGUpKQogICAg\nICAgICAgICAgICAgZmllbGRWYWx1ZSA9ICJuZXcgSGFzaE1hcCIgKyBkZWNz\nLmdldFBhcmVucygpOwogICAgICAgICAgICBlbHNlIGlmICgiVHJlZU1hcCIu\nZXF1YWxzKGZpZWxkVHlwZSkpCiAgICAgICAgICAgICAgICBmaWVsZFZhbHVl\nID0gIm5ldyBUcmVlTWFwIiArIGRlY3MuZ2V0UGFyZW5zKCk7CiAgICAgICAg\nICAgIGVsc2UgaWYgKGZtZC5nZXREZWNsYXJlZFR5cGVDb2RlKCkgPT0gSmF2\nYVR5cGVzLkNPTExFQ1RJT04KICAgICAgICAgICAgICAgIHx8IGZtZC5nZXRE\nZWNsYXJlZFR5cGVDb2RlKCkgPT0gSmF2YVR5cGVzLk1BUCkKICAgICAgICAg\nICAgICAgIGZpZWxkVmFsdWUgPSAibmV3ICIgKyBmaWVsZFR5cGUgKyBkZWNz\nLmdldFBhcmVucygpOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAg\nICBmaWVsZFZhbHVlID0gIiI7CiAgICAgICAgfQogICAgICAgIGlmIChmaWVs\nZFZhbHVlLmxlbmd0aCgpID4gMCkKICAgICAgICAgICAgZmllbGRWYWx1ZSA9\nICIgPSAiICsgZmllbGRWYWx1ZTsKCiAgICAgICAgU3RyaW5nIGN1c3RvbSA9\nIGdldERlY2xhcmF0aW9uKGZtZCk7CiAgICAgICAgaWYgKGRlY3MubGVuZ3Ro\nKCkgPiAwKQogICAgICAgICAgICBkZWNzLmVuZGwoKTsKICAgICAgICBQYXJh\nbWV0ZXJUZW1wbGF0ZSB0ZW1wbDsKICAgICAgICBpZiAoY3VzdG9tICE9IG51\nbGwpIHsKICAgICAgICAgICAgdGVtcGwgPSBuZXcgUGFyYW1ldGVyVGVtcGxh\ndGUoKTsKICAgICAgICAgICAgdGVtcGwuYXBwZW5kKGN1c3RvbSk7CiAgICAg\nICAgICAgIHRlbXBsLnNldFBhcmFtZXRlcigiZmllbGROYW1lIiwgZmllbGRO\nYW1lKTsKICAgICAgICAgICAgdGVtcGwuc2V0UGFyYW1ldGVyKCJjYXBGaWVs\nZE5hbWUiLCBjYXBGaWVsZE5hbWUpOwogICAgICAgICAgICB0ZW1wbC5zZXRQ\nYXJhbWV0ZXIoInByb3BlcnR5TmFtZSIsIHByb3BlcnR5TmFtZSk7CiAgICAg\nICAgICAgIHRlbXBsLnNldFBhcmFtZXRlcigiZmllbGRUeXBlIiwgZmllbGRU\neXBlKTsKICAgICAgICAgICAgdGVtcGwuc2V0UGFyYW1ldGVyKCJmaWVsZFZh\nbHVlIiwgZmllbGRWYWx1ZSk7CiAgICAgICAgICAgIGRlY3MuYXBwZW5kKHRl\nbXBsLnRvU3RyaW5nKCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAg\nIGRlY3MudGFiKCkuYXBwZW5kKCJwcml2YXRlICIpLmFwcGVuZChmaWVsZFR5\ncGUpLgogICAgICAgICAgICAgICAgYXBwZW5kKCIgIikuYXBwZW5kKGZpZWxk\nTmFtZSkuYXBwZW5kKGZpZWxkVmFsdWUpLgogICAgICAgICAgICAgICAgYXBw\nZW5kKCI7Iik7CiAgICAgICAgfQoKICAgICAgICBjdXN0b20gPSBnZXRGaWVs\nZENvZGUoZm1kKTsKICAgICAgICBpZiAoY29kZS5sZW5ndGgoKSA+IDApCiAg\nICAgICAgICAgIGNvZGUuYWZ0ZXJTZWN0aW9uKCk7CiAgICAgICAgaWYgKGN1\nc3RvbSAhPSBudWxsKSB7CiAgICAgICAgICAgIHRlbXBsID0gbmV3IFBhcmFt\nZXRlclRlbXBsYXRlKCk7CiAgICAgICAgICAgIHRlbXBsLmFwcGVuZChjdXN0\nb20pOwogICAgICAgICAgICB0ZW1wbC5zZXRQYXJhbWV0ZXIoImZpZWxkTmFt\nZSIsIGZpZWxkTmFtZSk7CiAgICAgICAgICAgIHRlbXBsLnNldFBhcmFtZXRl\ncigiY2FwRmllbGROYW1lIiwgY2FwRmllbGROYW1lKTsKICAgICAgICAgICAg\ndGVtcGwuc2V0UGFyYW1ldGVyKCJwcm9wZXJ0eU5hbWUiLCBwcm9wZXJ0eU5h\nbWUpOwogICAgICAgICAgICB0ZW1wbC5zZXRQYXJhbWV0ZXIoImZpZWxkVHlw\nZSIsIGZpZWxkVHlwZSk7CiAgICAgICAgICAgIHRlbXBsLnNldFBhcmFtZXRl\ncigiZmllbGRWYWx1ZSIsIGZpZWxkVmFsdWUpOwogICAgICAgICAgICBjb2Rl\nLmFwcGVuZCh0ZW1wbC50b1N0cmluZygpKTsKICAgICAgICB9IGVsc2Ugewog\nICAgICAgICAgICAvLyBnZXR0ZXIKICAgICAgICAgICAgY29kZS50YWIoKS5h\ncHBlbmQoInB1YmxpYyAiKS5hcHBlbmQoZmllbGRUeXBlKS5hcHBlbmQoIiAi\nKTsKICAgICAgICAgICAgaWYgKCJib29sZWFuIi5lcXVhbHNJZ25vcmVDYXNl\nKGZpZWxkVHlwZSkpCiAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZCgiaXMi\nKTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgY29kZS5hcHBl\nbmQoImdldCIpOwogICAgICAgICAgICBjb2RlLmFwcGVuZChjYXBGaWVsZE5h\nbWUpLnBhcmVucygpOwogICAgICAgICAgICBjb2RlLm9wZW5CcmFjZSgyKS5l\nbmRsKCk7CiAgICAgICAgICAgIGNvZGUudGFiKDIpLmFwcGVuZCgicmV0dXJu\nICIpLmFwcGVuZChmaWVsZE5hbWUpLgogICAgICAgICAgICAgICAgYXBwZW5k\nKCI7IikuZW5kbCgpOwogICAgICAgICAgICBjb2RlLmNsb3NlQnJhY2UoMiku\nYWZ0ZXJTZWN0aW9uKCk7CgogICAgICAgICAgICAvLyBzZXR0ZXIKICAgICAg\nICAgICAgY29kZS50YWIoKS5hcHBlbmQoInB1YmxpYyB2b2lkIHNldCIpLmFw\ncGVuZChjYXBGaWVsZE5hbWUpOwogICAgICAgICAgICBjb2RlLm9wZW5QYXJl\nbih0cnVlKS5hcHBlbmQoZmllbGRUeXBlKS5hcHBlbmQoIiAiKS4KICAgICAg\nICAgICAgICAgIGFwcGVuZChwcm9wZXJ0eU5hbWUpLmNsb3NlUGFyZW4oKTsK\nICAgICAgICAgICAgY29kZS5vcGVuQnJhY2UoMikuZW5kbCgpOwogICAgICAg\nICAgICBjb2RlLnRhYigyKTsKICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFt\nZS5lcXVhbHMoZmllbGROYW1lKSkKICAgICAgICAgICAgICAgIGNvZGUuYXBw\nZW5kKCJ0aGlzLiIpOwogICAgICAgICAgICBjb2RlLmFwcGVuZChmaWVsZE5h\nbWUpLmFwcGVuZCgiID0gIikuYXBwZW5kKHByb3BlcnR5TmFtZSkuCiAgICAg\nICAgICAgICAgICBhcHBlbmQoIjsiKS5lbmRsKCk7CiAgICAgICAgICAgIGNv\nZGUuY2xvc2VCcmFjZSgyKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gYSBjb2RlIHRlbXBsYXRlIGZvciBhIGdlbmVyYXRlZCBK\nYXZhIGNsYXNzLgogICAgICovCiAgICBwcml2YXRlIFN0cmluZyBnZXRDbGFz\nc0NvZGUoU3RyaW5nIHBhY2thZ2VEZWMsIFN0cmluZyBpbXBvcnRzLAogICAg\nICAgIFN0cmluZyBjbGFzc05hbWUsIFN0cmluZyBleHRlbmRzTmFtZSwgU3Ry\naW5nIGNvbnN0cnVjdG9yLAogICAgICAgIFN0cmluZyBmaWVsZERlY3MsIFN0\ncmluZyBmaWVsZENvZGUpIHsKICAgICAgICBDb2RlRm9ybWF0IGNvZGUgPSBu\nZXdDb2RlRm9ybWF0KCk7CiAgICAgICAgaWYgKHBhY2thZ2VEZWMubGVuZ3Ro\nKCkgPiAwKQogICAgICAgICAgICBjb2RlLmFwcGVuZChwYWNrYWdlRGVjKS5h\nZnRlclNlY3Rpb24oKTsKICAgICAgICBpZiAoaW1wb3J0cy5sZW5ndGgoKSA+\nIDApCiAgICAgICAgICAgIGNvZGUuYXBwZW5kKGltcG9ydHMpLmFmdGVyU2Vj\ndGlvbigpOwoKICAgICAgICBjb2RlLmFwcGVuZCgiLyoqIikuZW5kbCgpLgog\nICAgICAgICAgICBhcHBlbmQoIiAqIEF1dG8tZ2VuZXJhdGVkIGJ5OiIpLmVu\nZGwoKS4KICAgICAgICAgICAgYXBwZW5kKCIgKiAiKS5hcHBlbmQoZ2V0Q2xh\nc3MoKS5nZXROYW1lKCkpLmVuZGwoKS4KICAgICAgICAgICAgYXBwZW5kKCIg\nKi8iKS5lbmRsKCk7CgogICAgICAgIGNvZGUuYXBwZW5kKCJwdWJsaWMgY2xh\nc3MgIikuYXBwZW5kKGNsYXNzTmFtZSk7CiAgICAgICAgaWYgKGV4dGVuZHNO\nYW1lLmxlbmd0aCgpID4gMCkKICAgICAgICAgICAgY29kZS5leHRlbmRzRGVj\nKDEpLmFwcGVuZCgiICIpLmFwcGVuZChleHRlbmRzTmFtZSk7CiAgICAgICAg\nb3BlbkNsYXNzQnJhY2UoY29kZSk7CgogICAgICAgIGlmIChmaWVsZERlY3Mu\nbGVuZ3RoKCkgPiAwKQogICAgICAgICAgICBjb2RlLmFwcGVuZChmaWVsZERl\nY3MpLmFmdGVyU2VjdGlvbigpOwoKICAgICAgICAvLyBkZWZhdWx0IGNvbnN0\ncnVjdG9yCiAgICAgICAgY29kZS50YWIoKS5hcHBlbmQoInB1YmxpYyAiKS5h\ncHBlbmQoY2xhc3NOYW1lKS5wYXJlbnMoKTsKICAgICAgICBjb2RlLm9wZW5C\ncmFjZSgyKS5lbmRsKCkuY2xvc2VCcmFjZSgyKTsKCiAgICAgICAgaWYgKGNv\nbnN0cnVjdG9yLmxlbmd0aCgpID4gMCkKICAgICAgICAgICAgY29kZS5hZnRl\nclNlY3Rpb24oKS5hcHBlbmQoY29uc3RydWN0b3IpOwogICAgICAgIGlmIChm\naWVsZENvZGUubGVuZ3RoKCkgPiAwKQogICAgICAgICAgICBjb2RlLmFmdGVy\nU2VjdGlvbigpLmFwcGVuZChmaWVsZENvZGUpOwogICAgICAgIGNvZGUuZW5k\nbCgpOwoKICAgICAgICBjbG9zZUNsYXNzQnJhY2UoY29kZSk7CgogICAgICAg\nIHJldHVybiBjb2RlLnRvU3RyaW5nKCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBBcHBlbmQgdGhlIG9wZW5pbmcgY29kZS1sZXZlbCBicmFjZSB0byB0aGUg\nY29kZTsgdGhpcyBjYW4gYmUKICAgICAqIG92ZXJyaWRkZW4gdG8gYWRkIGNv\nZGUgdG8gdGhlIHRvcCBvZiB0aGUgY2xhc3MuCiAgICAgKi8KICAgIHByb3Rl\nY3RlZCB2b2lkIG9wZW5DbGFzc0JyYWNlKENvZGVGb3JtYXQgY29kZSkgewog\nICAgICAgIGNvZGUub3BlbkJyYWNlKDEpLmVuZGwoKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIEFwcGVuZCB0aGUgY2xvc2luZyBjb2RlLWxldmVsIGJyYWNl\nIHRvIHRoZSBjb2RlOyB0aGlzIGNhbiBiZQogICAgICogb3ZlcnJpZGRlbiB0\nbyBhZGQgY29kZSB0byB0aGUgYm90dG9tIG9mIHRoZSBjbGFzcy4KICAgICAq\nLwogICAgcHJvdGVjdGVkIHZvaWQgY2xvc2VDbGFzc0JyYWNlKENvZGVGb3Jt\nYXQgY29kZSkgewogICAgICAgIGNvZGUuY2xvc2VCcmFjZSgxKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiBKYXZhIGZpbGUgdG8gd3JpdGUgdG8u\nCiAgICAgKi8KICAgIHB1YmxpYyBGaWxlIGdldEZpbGUoKSB7CiAgICAgICAg\nU3RyaW5nIHBhY2thZ2VOYW1lID0gU3RyaW5ncy5nZXRQYWNrYWdlTmFtZShf\ndHlwZSk7CiAgICAgICAgU3RyaW5nIGZpbGVOYW1lID0gU3RyaW5ncy5nZXRD\nbGFzc05hbWUoX3R5cGUpICsgIi5qYXZhIjsKCiAgICAgICAgRmlsZSBkaXIg\nPSBGaWxlcy5nZXRQYWNrYWdlRmlsZShfZGlyLCBwYWNrYWdlTmFtZSwgdHJ1\nZSk7CiAgICAgICAgcmV0dXJuIG5ldyBGaWxlKGRpciwgZmlsZU5hbWUpOwog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgY29weSBvZiB0aGUgaW50\nZXJuYWwgY29kZSBmb3JtYXQuCiAgICAgKi8KICAgIHByb3RlY3RlZCBDb2Rl\nRm9ybWF0IG5ld0NvZGVGb3JtYXQoKSB7CiAgICAgICAgaWYgKF9mb3JtYXQg\nPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2RlRm9ybWF0KCk7\nCiAgICAgICAgcmV0dXJuIChDb2RlRm9ybWF0KSBfZm9ybWF0LmNsb25lKCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBjb2RlIHRlbXBsYXRl\nIGZvciB0aGUgZ2l2ZW4gY2xhc3MsIG9yIG51bGwgdG8gdXNlIHRoZSBzdGFu\nZGFyZAogICAgICogc3lzdGVtLWdlbmVyYXRlZCBKYXZhIGNvZGUuIFRvIGZh\nY2lsaXRhdGUgdGVtcGxhdGUgcmV1c2UsIHRoZQogICAgICogZm9sbG93aW5n\nIHBhcmFtZXRlcnMgY2FuIGFwcGVhciBpbiB0aGUgdGVtcGxhdGU7IHRoZSBw\ncm9wZXIgdmFsdWVzCiAgICAgKiB3aWxsIGJlIHN1YnRpdHV0ZWQgYnkgdGhl\nIHN5c3RlbToKICAgICAqIDx1bD4KICAgICAqIDxsaT4ke3BhY2thZ2VEZWN9\nOiBUaGUgcGFja2FnZSBkZWNsYXJhdGlvbiwgaW4gdGhlIGZvcm0KICAgICAq\nICJwYWNrYWdlICZsdDtwYWNrYWdlIG5hbWUgJmd0OzsiLCBvciBlbXB0eSBz\ndHJpbmcgaWYgbm8gcGFja2FnZS48L2xpPgogICAgICogPGxpPiR7aW1wb3J0\nc306IEltcG9ydHMgZm9yIHRoZSBwYWNrYWdlcyB1c2VkIGJ5IHRoZSBkZWNs\nYXJlZAogICAgICogZmllbGQgdHlwZXMuPC9saT4KICAgICAqIDxsaT4ke2Ns\nYXNzTmFtZX06IFRoZSBuYW1lIG9mIHRoZSBjbGFzcywgd2l0aG91dCBwYWNr\nYWdlLjwvbGk+CiAgICAgKiA8bGk+JHtleHRlbmRzRGVjfTogRXh0ZW5kcyBk\nZWNsYXJhdGlvbiwgaW4gdGhlIGZvcm0KICAgICAqICJleHRlbmRzICZsdDtz\ndXBlcmNsYXNzJmd0OyIsIG9yIGVtcHR5IHN0cmluZyBpZiBubyBzdXBlcmNs\nYXNzLjwvbGk+CiAgICAgKiA8bGk+JHtjb25zdHJ1Y3Rvcn06IEEgY29uc3Ry\ndWN0b3IgdGhhdCB0YWtlcyBpbiBhbGwgcHJpbWFyeSBrZXkgZmllbGRzCiAg\nICAgKiBvZiB0aGUgY2xhc3MsIG9yIGVtcHR5IHN0cmluZyBpZiB0aGUgY2xh\nc3MgdXNlcyBkYXRhc3RvcmUgaWRlbnRpdHkuPC9saT4KICAgICAqIDxsaT4k\ne2ZpZWxkRGVjc306IERlY2xhcmF0aW9ucyBvZiBhbGwgdGhlIGRlY2xhcmVk\nIGZpZWxkcy48L2xpPgogICAgICogPGxpPiR7ZmllbGRDb2RlfTogR2V0L3Nl\ndCBtZXRob2RzIGZvciBhbGwgdGhlIGRlY2xhcmVkIGZpZWxkcy48L2xpPgog\nICAgICogPC91bD4gUmV0dXJucyBudWxsIGJ5IGRlZmF1bHQuCiAgICAgKi8K\nICAgIHByb3RlY3RlZCBTdHJpbmcgZ2V0Q2xhc3NDb2RlKCkgewogICAgICAg\nIHJldHVybiBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGNv\nZGUgZm9yIHRoZSBpbml0aWFsIHZhbHVlIGZvciB0aGUgZ2l2ZW4gZmllbGQs\nIG9yIG51bGwgdG8gdXNlCiAgICAgKiB0aGUgZGVmYXVsdCBnZW5lcmF0ZWQg\nYnkgdGhlIHN5c3RlbS4gUmV0dXJucyBudWxsIGJ5IGRlZmF1bHQuCiAgICAg\nKi8KICAgIHByb3RlY3RlZCBTdHJpbmcgZ2V0SW5pdGlhbFZhbHVlKEZpZWxk\nTWV0YURhdGEgZmllbGQpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiBhIGNvZGUgdGVtcGxhdGUgZm9yIHRo\nZSBkZWNsYXJhdGlvbiBvZiB0aGUgZ2l2ZW4gZmllbGQsIG9yIG51bGwKICAg\nICAqIHRvIHVzZSB0aGUgc3lzdGVtLWdlbmVyYXRlZCBkZWZhdWx0IEphdmEg\nY29kZS4KICAgICAqIFRvIGZhY2lsaXRhdGUgdGVtcGxhdGUgcmV1c2UsIHRo\nZSBmb2xsb3dpbmcgcGFyYW1ldGVycyBjYW4gYXBwZWFyIGluCiAgICAgKiB5\nb3VyIHRlbXBsYXRlOyB0aGUgcHJvcGVyIHZhbHVlcyB3aWxsIGJlIHN1YnRp\ndHV0ZWQgYnkgdGhlIHN5c3RlbToKICAgICAqIDx1bD4KICAgICAqIDxsaT4k\ne2ZpZWxkTmFtZX06IFRoZSBuYW1lIG9mIHRoZSBmaWVsZC48L2xpPgogICAg\nICogPGxpPiR7Y2FwRmllbGROYW1lfTogVGhlIGNhcGl0YWxpemVkIGZpZWxk\nIG5hbWUuPC9saT4KICAgICAqIDxsaT4ke3Byb3BlcnR5TmFtZX06IFRoZSBm\naWVsZCBuYW1lIHdpdGhvdXQgbGVhZGluZyAnXycsIGlmIGFueS48L2xpPgog\nICAgICogPGxpPiR7ZmllbGRUeXBlfTogVGhlIGZpZWxkJ3MgdHlwZSBuYW1l\nLjwvbGk+CiAgICAgKiA8bGk+JHtmaWVsZFZhbHVlfTogVGhlIGZpZWxkJ3Mg\naW5pdGlhbCB2YWx1ZSwgaW4gdGhlIGZvcm0KICAgICAqICIgPSAmbHQ7dmFs\ndWUmZ3Q7Iiwgb3IgZW1wdHkgc3RyaW5nIGlmIG5vbmUuPC9saT4KICAgICAq\nIDwvdWw+IFJldHVybnMgbnVsbCBieSBkZWZhdWx0LgogICAgICovCiAgICBw\ncm90ZWN0ZWQgU3RyaW5nIGdldERlY2xhcmF0aW9uKEZpZWxkTWV0YURhdGEg\nZmllbGQpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiBhIGNvZGUgdGVtcGxhdGUgZm9yIHRoZSBnZXQvc2V0\nIG1ldGhvZHMgb2YgdGhlIGdpdmVuIGZpZWxkLCBvcgogICAgICogbnVsbCB0\nbyB1c2UgdGhlIHN5c3RlbS1nZW5lcmF0ZWQgZGVmYXVsdCBKYXZhIGNvZGUu\nCiAgICAgKiBUbyBmYWNpbGl0YXRlIHRlbXBsYXRlIHJldXNlLCB0aGUgZm9s\nbG93aW5nIHBhcmFtZXRlcnMgY2FuIGFwcGVhciBpbgogICAgICogeW91ciB0\nZW1wbGF0ZTsgdGhlIHByb3BlciB2YWx1ZXMgd2lsbCBiZSBzdWJ0aXR1dGVk\nIGJ5IHRoZSBzeXN0ZW06CiAgICAgKiA8dWw+CiAgICAgKiA8bGk+JHtmaWVs\nZE5hbWV9OiBUaGUgbmFtZSBvZiB0aGUgZmllbGQuPC9saT4KICAgICAqIDxs\naT4ke2NhcEZpZWxkTmFtZX06IFRoZSBjYXBpdGFsaXplZCBmaWVsZCBuYW1l\nLjwvbGk+CiAgICAgKiA8bGk+JHtwcm9wZXJ0eU5hbWV9OiBUaGUgZmllbGQg\nbmFtZSB3aXRob3V0IGxlYWRpbmcgJ18nLCBpZiBhbnkuPC9saT4KICAgICAq\nIDxsaT4ke2ZpZWxkVHlwZX06IFRoZSBmaWVsZCdzIHR5cGUgbmFtZS48L2xp\nPgogICAgICogPGxpPiR7ZmllbGRWYWx1ZX06IFRoZSBmaWVsZCdzIGluaXRp\nYWwgdmFsdWUsIGluIHRoZSBmb3JtCiAgICAgKiAiPSAmbHQ7dmFsdWUmZ3Q7\nIiwgb3IgZW1wdHkgc3RyaW5nIGlmIG5vbmUuPC9saT4KICAgICAqIDwvdWw+\nCiAgICAgKi8KICAgIHByb3RlY3RlZCBTdHJpbmcgZ2V0RmllbGRDb2RlIChG\naWVsZE1ldGFEYXRhIGZpZWxkKQoJewoJCXJldHVybiBudWxsOwoJfQp9Cg==\n","encoding":"base64"}

