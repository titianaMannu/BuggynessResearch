{"sha":"397d31cd861dda52603c907bab3f66ba331f2721","node_id":"MDQ6QmxvYjIwNjM2NDozOTdkMzFjZDg2MWRkYTUyNjAzYzkwN2JhYjNmNjZiYTMzMWYyNzIx","size":4726,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/397d31cd861dda52603c907bab3f66ba331f2721","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5yb3AuUmVzdWx0T2JqZWN0UHJvdmlkZXI7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLm1ldGEuTWV0YURhdGFSZXBvc2l0b3J5OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnV0aWwuT2JqZWN0Tm90Rm91bmRFeGNlcHRpb247\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5TdG9yZUV4Y2VwdGlv\nbjsKCi8qKgogKiBBYnN0cmFjdCBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsg\nUENSZXN1bHRPYmplY3RQcm92aWRlcn0KICogdGhhdCBpbXBsZW1lbnRzIHtA\nbGluayBSZXN1bHRPYmplY3RQcm92aWRlciNnZXRSZXN1bHRPYmplY3R9CiAq\nIGJ5IGFzc2VtYmxpbmcgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiBhYm91\ndCB0aGUgb2JqZWN0IHRvIGJlIGxvYWRlZC4KICoKICogQGF1dGhvciBQYXRy\naWNrIExpbnNrZXkKICovCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBBYnN0cmFj\ndFBDUmVzdWx0T2JqZWN0UHJvdmlkZXIKICAgIGltcGxlbWVudHMgUENSZXN1\nbHRPYmplY3RQcm92aWRlciB7CgogICAgLyoqCiAgICAgKiBUaGUge0BsaW5r\nIFN0b3JlQ29udGV4dH0gdGhhdCB0aGlzIHJlc3VsdCBvYmplY3QKICAgICAq\nIHByb3ZpZGVyIHdpbGwgbG9hZCBvYmplY3RzIGludG8uCiAgICAgKi8KICAg\nIHByb3RlY3RlZCBmaW5hbCBTdG9yZUNvbnRleHQgY3R4OwoKICAgIC8qKgog\nICAgICogQ3JlYXRlIGEgbmV3IHByb3ZpZGVyIGZvciBsb2FkaW5nIFBDIG9i\namVjdHMgZnJvbSB0aGUgaW5wdXQKICAgICAqIGludG8gPGNvZGU+Y3R4PC9j\nb2RlPi4KICAgICAqLwogICAgcHVibGljIEFic3RyYWN0UENSZXN1bHRPYmpl\nY3RQcm92aWRlcihTdG9yZUNvbnRleHQgY3R4KSB7CiAgICAgICAgdGhpcy5j\ndHggPSBjdHg7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGNv\nbnRleHQgdGhpcyBwcm92aWRlciB3YXMgY29uc3RydWN0ZWQgd2l0aC4KICAg\nICAqLwogICAgcHVibGljIFN0b3JlQ29udGV4dCBnZXRDb250ZXh0KCkgewog\nICAgICAgIHJldHVybiBjdHg7CiAgICB9CgogICAgcHVibGljIHZvaWQgaW5p\ndGlhbGl6ZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBQQ1N0YXRlIHN0YXRl\nLAogICAgICAgIEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCkKICAgICAgICB0\naHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBzbS5pbml0aWFsaXplKGdldFBD\nVHlwZSgpLCBzdGF0ZSk7CiAgICAgICAgbG9hZChzbSwgZmV0Y2gpOwogICAg\nfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0UmVzdWx0T2JqZWN0KCkKICAgICAg\nICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBDbGFzcyB0eXBlID0gZ2V0\nUENUeXBlKCk7CiAgICAgICAgTWV0YURhdGFSZXBvc2l0b3J5IHJlcG9zID0g\nY3R4LmdldENvbmZpZ3VyYXRpb24oKS4KICAgICAgICAgICAgZ2V0TWV0YURh\ndGFSZXBvc2l0b3J5SW5zdGFuY2UoKTsKICAgICAgICBDbGFzc01ldGFEYXRh\nIG1ldGEgPSByZXBvcy5nZXRNZXRhRGF0YQogICAgICAgICAgICAodHlwZSwg\nY3R4LmdldENsYXNzTG9hZGVyKCksIHRydWUpOwoKICAgICAgICBPYmplY3Qg\nb2lkID0gZ2V0T2JqZWN0SWQobWV0YSk7CiAgICAgICAgT2JqZWN0IHJlcyA9\nIGN0eC5maW5kKG9pZCwgbnVsbCwgbnVsbCwgdGhpcywgMCk7CiAgICAgICAg\naWYgKHJlcyA9PSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0\nTm90Rm91bmRFeGNlcHRpb24ob2lkKTsKICAgICAgICByZXR1cm4gcmVzOwog\nICAgfQoKICAgIC8qKgogICAgICogSW1wbGVtZW50IHRoaXMgbWV0aG9kIHRv\nIGV4dHJhY3QgdGhlIG9iamVjdCBpZCB2YWx1ZSBmcm9tIHRoZQogICAgICog\nY3VycmVudCByZWNvcmQgb2YgdGhlIGlucHV0LgogICAgICovCiAgICBwcm90\nZWN0ZWQgYWJzdHJhY3QgT2JqZWN0IGdldE9iamVjdElkKENsYXNzTWV0YURh\ndGEgbWV0YSkKICAgICAgICB0aHJvd3MgRXhjZXB0aW9uOwoKICAgIC8qKgog\nICAgICogSW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIGV4dHJhY3QgdGhlIHR5\ncGUgb2YgdGhlIHBjIHN0b3JlZAogICAgICogaW4gdGhlIGN1cnJlbnQgcmVj\nb3JkIG9mIHRoZSBpbnB1dC4KICAgICAqLwogICAgcHJvdGVjdGVkIGFic3Ry\nYWN0IENsYXNzIGdldFBDVHlwZSgpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlv\nbjsKCiAgICAvKioKICAgICAqIExvYWQgZGF0YSBmcm9tIHRoZSBjdXJyZW50\nIGlucHV0IHJlY29yZCBpbnRvIHRoZSBnaXZlbiBzdGF0ZQogICAgICogbWFu\nYWdlci4gUmVtZW1iZXIgdG8gY2FsbCB7QGxpbmsgT3BlbkpQQVN0YXRlTWFu\nYWdlciNzZXRWZXJzaW9ufSB0byBzZXQKICAgICAqIHRoZSBvcHRpbWlzdGlj\nIHZlcnNpb25pbmcgaW5mb3JtYXRpb24sIGlmIGl0IGhhcyBhbnkuCiAgICAg\nKi8KICAgIHByb3RlY3RlZCBhYnN0cmFjdCB2b2lkIGxvYWQoT3BlbkpQQVN0\nYXRlTWFuYWdlciBzbSwgCiAgICAgICAgRmV0Y2hDb25maWd1cmF0aW9uIGZl\ndGNoKQogICAgICAgIHRocm93cyBFeGNlcHRpb247CgogICAgLyoqCiAgICAg\nKiBPdmVycmlkZSBpZiBkZXNpcmVkLiBEb2VzIG5vdGhpbmcgYnkgZGVmYXVs\ndC4KICAgICAqLwogICAgcHVibGljIHZvaWQgb3BlbigpCiAgICAgICAgdGhy\nb3dzIEV4Y2VwdGlvbiB7CiAgICB9CgogICAgLyoqCiAgICAgKiBPdmVycmlk\nZSBpZiBkZXNpcmVkLiBSZXR1cm5zIGZhbHNlIGJ5IGRlZmF1bHQuCiAgICAg\nKgogICAgICogQHNlZSBSZXN1bHRPYmplY3RQcm92aWRlciNzdXBwb3J0c1Jh\nbmRvbUFjY2VzcwogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBzdXBwb3J0\nc1JhbmRvbUFjY2VzcygpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBJbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gYWR2\nYW5jZSB0aGUgaW5wdXQuCiAgICAgKgogICAgICogQHNlZSBSZXN1bHRPYmpl\nY3RQcm92aWRlciNuZXh0CiAgICAgKi8KICAgIHB1YmxpYyBhYnN0cmFjdCBi\nb29sZWFuIG5leHQoKQogICAgICAgIHRocm93cyBFeGNlcHRpb247CgogICAg\nLyoqCiAgICAgKiBPdmVycmlkZSBpZiBkZXNpcmVkLiBUaHJvd3MgYW4gZXhj\nZXB0aW9uIGJ5IGRlZmF1bHQuCiAgICAgKgogICAgICogQHNlZSBSZXN1bHRP\nYmplY3RQcm92aWRlciNhYnNvbHV0ZQogICAgICovCiAgICBwdWJsaWMgYm9v\nbGVhbiBhYnNvbHV0ZShpbnQgcG9zKQogICAgICAgIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIC8qKgogICAgICogT3ZlcnJpZGUgaWYg\nZGVzaXJlZC4gUmV0dXJucyB7QGxpbmsgSW50ZWdlciNNQVhfVkFMVUV9IGJ5\nIGRlZmF1bHQuCiAgICAgKgogICAgICogQHNlZSBSZXN1bHRPYmplY3RQcm92\naWRlciNzaXplCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgc2l6ZSgpCiAgICAg\nICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIEludGVnZXIu\nTUFYX1ZBTFVFOwogICAgfQoKICAgIC8qKgogICAgICogT3ZlcnJpZGUgaWYg\nZGVzaXJlZC4gVGhyb3dzIGFuIGV4Y2VwdGlvbiBieSBkZWZhdWx0LgogICAg\nICoKICAgICAqIEBzZWUgUmVzdWx0T2JqZWN0UHJvdmlkZXIjcmVzZXQKICAg\nICAqLwogICAgcHVibGljIHZvaWQgcmVzZXQoKQogICAgICAgIHRocm93cyBF\neGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIC8qKgogICAgICogT3ZlcnJp\nZGUgaWYgZGVzaXJlZC4gRG9lcyBub3RoaW5nIGJ5IGRlZmF1bHQuCiAgICAg\nKgogICAgICogQHNlZSBSZXN1bHRPYmplY3RQcm92aWRlciNjbG9zZQogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBjbG9zZSgpCiAgICAgICAgdGhyb3dzIEV4\nY2VwdGlvbiB7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaHJvd3MgYSB7QGxp\nbmsgU3RvcmVFeGNlcHRpb259IGJ5IGRlZmF1bHQuCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIGhhbmRsZUNoZWNrZWRFeGNlcHRpb24oRXhjZXB0aW9uIGUp\nIHsKICAgICAgICB0aHJvdyBuZXcgU3RvcmVFeGNlcHRpb24gKGUpOwoJfQp9\nCg==\n","encoding":"base64"}

