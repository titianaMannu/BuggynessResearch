{"sha":"9aac60d75fb86ee1cd8573a5b81d7656de124059","node_id":"MDQ6QmxvYjIwNjM2NDo5YWFjNjBkNzVmYjg2ZWUxY2Q4NTczYTViODFkNzY1NmRlMTI0MDU5","size":5200,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9aac60d75fb86ee1cd8573a5b81d7656de124059","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgamF2YS51dGlsLlByb3BlcnRpZXM7\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNvbmZp\nZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5SdW50\naW1lRXhjZXB0aW9uVHJhbnNsYXRvcjsKCi8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwov\nLyBOT1RFOiB3aGVuIGFkZGluZyBhIHB1YmxpYyBBUEkgbWV0aG9kLCBiZSBz\ndXJlIHRvIGFkZCBpdCB0byAKLy8gSkRPIGFuZCBKUEEgZmFjYWRlcyEKLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vCgovKioKICogRGVsZWdhdGluZyBicm9rZXIgZmFj\ndG9yeSB0aGF0IGNhbiBhbHNvIHBlcmZvcm0gZXhjZXB0aW9uIHRyYW5zbGF0\naW9uCiAqIGZvciB1c2UgaW4gZmFjYWRlcy4KICoKICogQHNpbmNlIDAuNC4w\nCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MKICovCnB1Ymxp\nYyBjbGFzcyBEZWxlZ2F0aW5nQnJva2VyRmFjdG9yeQogICAgaW1wbGVtZW50\ncyBCcm9rZXJGYWN0b3J5IHsKCiAgICBwcml2YXRlIGZpbmFsIEJyb2tlckZh\nY3RvcnkgX2ZhY3Rvcnk7CiAgICBwcml2YXRlIGZpbmFsIERlbGVnYXRpbmdC\ncm9rZXJGYWN0b3J5IF9kZWw7CiAgICBwcml2YXRlIGZpbmFsIFJ1bnRpbWVF\neGNlcHRpb25UcmFuc2xhdG9yIF90cmFuczsKCiAgICAvKioKICAgICAqIENv\nbnN0cnVjdG9yOyBzdXBwbHkgZGVsZWdhdGUuCiAgICAgKi8KICAgIHB1Ymxp\nYyBEZWxlZ2F0aW5nQnJva2VyRmFjdG9yeShCcm9rZXJGYWN0b3J5IGZhY3Rv\ncnkpIHsKICAgICAgICB0aGlzKGZhY3RvcnksIG51bGwpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBkZWxlZ2F0ZSBhbmQg\nZXhjZXB0aW9uIHRyYW5zbGF0b3IuCiAgICAgKi8KICAgIHB1YmxpYyBEZWxl\nZ2F0aW5nQnJva2VyRmFjdG9yeShCcm9rZXJGYWN0b3J5IGZhY3RvcnksCiAg\nICAgICAgUnVudGltZUV4Y2VwdGlvblRyYW5zbGF0b3IgdHJhbnMpIHsKICAg\nICAgICBfZmFjdG9yeSA9IGZhY3Rvcnk7CiAgICAgICAgaWYgKGZhY3Rvcnkg\naW5zdGFuY2VvZiBEZWxlZ2F0aW5nQnJva2VyRmFjdG9yeSkKICAgICAgICAg\nICAgX2RlbCA9IChEZWxlZ2F0aW5nQnJva2VyRmFjdG9yeSkgZmFjdG9yeTsK\nICAgICAgICBlbHNlCiAgICAgICAgICAgIF9kZWwgPSBudWxsOwogICAgICAg\nIF90cmFucyA9IHRyYW5zOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIHRoZSBkaXJlY3QgZGVsZWdhdGUuCiAgICAgKi8KICAgIHB1YmxpYyBCcm9r\nZXJGYWN0b3J5IGdldERlbGVnYXRlKCkgewogICAgICAgIHJldHVybiBfZmFj\ndG9yeTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgbmF0aXZl\nIGRlbGVnYXRlLgogICAgICovCiAgICBwdWJsaWMgQnJva2VyRmFjdG9yeSBn\nZXRJbm5lcm1vc3REZWxlZ2F0ZSgpIHsKICAgICAgICByZXR1cm4gKF9kZWwg\nPT0gbnVsbCkgPyBfZmFjdG9yeSA6IF9kZWwuZ2V0SW5uZXJtb3N0RGVsZWdh\ndGUoKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAg\nICAgIHJldHVybiBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpLmhhc2hDb2RlKCk7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvdGhl\ncikgewogICAgICAgIGlmIChvdGhlciA9PSB0aGlzKQogICAgICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBEZWxl\nZ2F0aW5nQnJva2VyRmFjdG9yeSkKICAgICAgICAgICAgb3RoZXIgPSAoKERl\nbGVnYXRpbmdCcm9rZXJGYWN0b3J5KSBvdGhlcikuZ2V0SW5uZXJtb3N0RGVs\nZWdhdGUoKTsKICAgICAgICByZXR1cm4gZ2V0SW5uZXJtb3N0RGVsZWdhdGUo\nKS5lcXVhbHMob3RoZXIpOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNs\nYXRlIHRoZSBPcGVuSlBBIGV4Y2VwdGlvbi4KICAgICAqLwogICAgcHJvdGVj\ndGVkIFJ1bnRpbWVFeGNlcHRpb24gdHJhbnNsYXRlKFJ1bnRpbWVFeGNlcHRp\nb24gcmUpIHsKICAgICAgICByZXR1cm4gKF90cmFucyA9PSBudWxsKSA/IHJl\nIDogX3RyYW5zLnRyYW5zbGF0ZShyZSk7CiAgICB9CgogICAgcHVibGljIE9w\nZW5KUEFDb25maWd1cmF0aW9uIGdldENvbmZpZ3VyYXRpb24oKSB7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9mYWN0b3J5LmdldENvbmZp\nZ3VyYXRpb24oKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9u\nIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAg\nICAgfQogICAgfQoKICAgIHB1YmxpYyBQcm9wZXJ0aWVzIGdldFByb3BlcnRp\nZXMoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9mYWN0\nb3J5LmdldFByb3BlcnRpZXMoKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1l\nRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShy\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgcHV0VXNl\nck9iamVjdChPYmplY3Qga2V5LCBPYmplY3QgdmFsKSB7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgcmV0dXJuIF9mYWN0b3J5LnB1dFVzZXJPYmplY3Qo\na2V5LCB2YWwpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24g\ncmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAg\nICB9CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRVc2VyT2JqZWN0KE9i\namVjdCBrZXkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4g\nX2ZhY3RvcnkuZ2V0VXNlck9iamVjdChrZXkpOwogICAgICAgIH0gY2F0Y2gg\nKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJh\nbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIEJyb2tl\nciBuZXdCcm9rZXIoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIF9mYWN0b3J5Lm5ld0Jyb2tlcigpOwogICAgICAgIH0gY2F0Y2ggKFJ1\nbnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNs\nYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIEJyb2tlciBu\nZXdCcm9rZXIoU3RyaW5nIHVzZXIsIFN0cmluZyBwYXNzLCBib29sZWFuIG1h\nbmFnZWQsCiAgICAgICAgaW50IGNvbm5SZXRhaW5Nb2RlLCBib29sZWFuIGZp\nbmRFeGlzdGluZykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVy\nbiBfZmFjdG9yeS5uZXdCcm9rZXIodXNlciwgcGFzcywgbWFuYWdlZCwgY29u\nblJldGFpbk1vZGUsCiAgICAgICAgICAgICAgICBmaW5kRXhpc3RpbmcpOwog\nICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAg\nICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgYWRkTGlmZWN5Y2xlTGlzdGVuZXIoT2JqZWN0IGxp\nc3RlbmVyLCBDbGFzc1tdIGNsYXNzZXMpIHsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBfZmFjdG9yeS5hZGRMaWZlY3ljbGVMaXN0ZW5lcihsaXN0ZW5l\nciwgY2xhc3Nlcyk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlv\nbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAg\nICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZW1vdmVMaWZlY3ljbGVM\naXN0ZW5lcihPYmplY3QgbGlzdGVuZXIpIHsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBfZmFjdG9yeS5yZW1vdmVMaWZlY3ljbGVMaXN0ZW5lcihsaXN0\nZW5lcik7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkg\newogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbG9zZSgpIHsKICAgICAgICB0cnkg\newogICAgICAgICAgICBfZmFjdG9yeS5jbG9zZSgpOwogICAgICAgIH0gY2F0\nY2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cg\ndHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gaXNDbG9zZWQoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\ncmV0dXJuIF9mYWN0b3J5LmlzQ2xvc2VkKCk7CiAgICAgICAgfSBjYXRjaCAo\nUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFu\nc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBs\nb2NrKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9mYWN0b3J5Lmxv\nY2soKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHVubG9jaygpIHsKICAgICAgICB0cnkg\newogICAgICAgICAgICBfZmFjdG9yeS51bmxvY2soKTsKICAgICAgICB9IGNh\ndGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93\nIHRyYW5zbGF0ZShyZSk7CgkJfQoJfQp9Cg==\n","encoding":"base64"}

