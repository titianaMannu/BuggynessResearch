{"sha":"178b545e8d0299a6f2c4c113a090750b379b2b4d","node_id":"MDQ6QmxvYjIwNjM2NDoxNzhiNTQ1ZThkMDI5OWE2ZjJjNGMxMTNhMDkwNzUwYjM3OWIyYjRk","size":12034,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/178b545e8d0299a6f2c4c113a090750b379b2b4d","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247\nCmltcG9ydCBqYXZhLnV0aWwuU2V0OwoKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIucm9wLlJlc3VsdExpc3Q7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLnJvcC5SZXN1bHRPYmplY3RQcm92aWRlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5tZXRhLkZpZWxkTWV0YURhdGE7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEudXRpbC5SdW50aW1lRXhjZXB0aW9uVHJhbnNs\nYXRvcjsKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwovLyBOT1RFOiB3aGVuIGFkZGlu\nZyBhIHB1YmxpYyBBUEkgbWV0aG9kLCBiZSBzdXJlIHRvIGFkZCBpdCB0byAK\nLy8gSkRPIGFuZCBKUEEgZmFjYWRlcyEKLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgov\nKioKICogRGVsZWdhdGluZyBmZXRjaCBjb25maWd1cmF0aW9uIHRoYXQgY2Fu\nIGFsc28gcGVyZm9ybSBleGNlcHRpb24KICogdHJhbnNsYXRpb24gZm9yIHVz\nZSBpbiBmYWNhZGVzLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAbm9q\nYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgRGVsZWdhdGluZ0ZldGNoQ29uZmln\ndXJhdGlvbgogICAgaW1wbGVtZW50cyBGZXRjaENvbmZpZ3VyYXRpb24gewoK\nICAgIHByaXZhdGUgZmluYWwgRmV0Y2hDb25maWd1cmF0aW9uIF9mZXRjaDsK\nICAgIHByaXZhdGUgZmluYWwgRGVsZWdhdGluZ0ZldGNoQ29uZmlndXJhdGlv\nbiBfZGVsOwogICAgcHJpdmF0ZSBmaW5hbCBSdW50aW1lRXhjZXB0aW9uVHJh\nbnNsYXRvciBfdHJhbnM7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvcjsg\nc3VwcGx5IGRlbGVnYXRlLgogICAgICovCiAgICBwdWJsaWMgRGVsZWdhdGlu\nZ0ZldGNoQ29uZmlndXJhdGlvbihGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gp\nIHsKICAgICAgICB0aGlzKGZldGNoLCBudWxsKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIENvbnN0cnVjdG9yOyBzdXBwbHkgZGVsZWdhdGUgYW5kIGV4Y2Vw\ndGlvbiB0cmFuc2xhdG9yLgogICAgICovCiAgICBwdWJsaWMgRGVsZWdhdGlu\nZ0ZldGNoQ29uZmlndXJhdGlvbihGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gs\nCiAgICAgICAgUnVudGltZUV4Y2VwdGlvblRyYW5zbGF0b3IgdHJhbnMpIHsK\nICAgICAgICBfZmV0Y2ggPSBmZXRjaDsKICAgICAgICBpZiAoZmV0Y2ggaW5z\ndGFuY2VvZiBEZWxlZ2F0aW5nRmV0Y2hDb25maWd1cmF0aW9uKQogICAgICAg\nICAgICBfZGVsID0gKERlbGVnYXRpbmdGZXRjaENvbmZpZ3VyYXRpb24pIGZl\ndGNoOwogICAgICAgIGVsc2UKICAgICAgICAgICAgX2RlbCA9IG51bGw7CiAg\nICAgICAgX3RyYW5zID0gdHJhbnM7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gdGhlIGRpcmVjdCBkZWxlZ2F0ZS4KICAgICAqLwogICAgcHVibGlj\nIEZldGNoQ29uZmlndXJhdGlvbiBnZXREZWxlZ2F0ZSgpIHsKICAgICAgICBy\nZXR1cm4gX2ZldGNoOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRo\nZSBuYXRpdmUgZGVsZWdhdGUuCiAgICAgKi8KICAgIHB1YmxpYyBGZXRjaENv\nbmZpZ3VyYXRpb24gZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKSB7CiAgICAgICAg\ncmV0dXJuIChfZGVsID09IG51bGwpID8gX2ZldGNoIDogX2RlbC5nZXRJbm5l\ncm1vc3REZWxlZ2F0ZSgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgaGFzaENv\nZGUoKSB7CiAgICAgICAgcmV0dXJuIGdldElubmVybW9zdERlbGVnYXRlKCku\naGFzaENvZGUoKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVhbHMo\nT2JqZWN0IG90aGVyKSB7CiAgICAgICAgaWYgKG90aGVyID09IHRoaXMpCiAg\nICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIGlmIChvdGhlciBpbnN0\nYW5jZW9mIERlbGVnYXRpbmdGZXRjaENvbmZpZ3VyYXRpb24pCiAgICAgICAg\nICAgIG90aGVyID0gKChEZWxlZ2F0aW5nRmV0Y2hDb25maWd1cmF0aW9uKSBv\ndGhlcikuCiAgICAgICAgICAgICAgICBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgp\nOwogICAgICAgIHJldHVybiBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpLmVxdWFs\ncyhvdGhlcik7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2xhdGUgdGhl\nIE9wZW5KUEEgZXhjZXB0aW9uLgogICAgICovCiAgICBwcm90ZWN0ZWQgUnVu\ndGltZUV4Y2VwdGlvbiB0cmFuc2xhdGUoUnVudGltZUV4Y2VwdGlvbiByZSkg\newogICAgICAgIHJldHVybiAoX3RyYW5zID09IG51bGwpID8gcmUgOiBfdHJh\nbnMudHJhbnNsYXRlKHJlKTsKICAgIH0KCiAgICBwdWJsaWMgU3RvcmVDb250\nZXh0IGdldENvbnRleHQoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\ncmV0dXJuIF9mZXRjaC5nZXRDb250ZXh0KCk7CiAgICAgICAgfSBjYXRjaCAo\nUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFu\nc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRDb250ZXh0KFN0b3JlQ29udGV4dCBjdHgpIHsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBfZmV0Y2guc2V0Q29udGV4dChjdHgpOwogICAgICAgIH0g\nY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhy\nb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGlj\nIGludCBnZXRGZXRjaEJhdGNoU2l6ZSgpIHsKICAgICAgICB0cnkgewogICAg\nICAgICAgICByZXR1cm4gX2ZldGNoLmdldEZldGNoQmF0Y2hTaXplKCk7CiAg\nICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAg\nICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgRmV0Y2hDb25maWd1cmF0aW9uIHNldEZldGNoQmF0Y2hTaXpl\nKGludCBmZXRjaEJhdGNoU2l6ZSkgewogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIF9mZXRjaC5zZXRGZXRjaEJhdGNoU2l6ZShmZXRjaEJhdGNoU2l6ZSk7\nCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0gY2F0Y2ggKFJ1\nbnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNs\nYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGludCBnZXRN\nYXhGZXRjaERlcHRoKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJl\ndHVybiBfZmV0Y2guZ2V0TWF4RmV0Y2hEZXB0aCgpOwogICAgICAgIH0gY2F0\nY2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cg\ndHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIEZl\ndGNoQ29uZmlndXJhdGlvbiBzZXRNYXhGZXRjaERlcHRoKGludCBkZXB0aCkg\newogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9mZXRjaC5zZXRNYXhGZXRj\naERlcHRoKGRlcHRoKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAg\nICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAg\nICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgU2V0IGdldFJvb3RJbnN0YW5jZXMoKSB7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgcmV0dXJuIF9mZXRjaC5nZXRSb290SW5zdGFuY2VzKCk7\nCiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAg\nICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0K\nCiAgICBwdWJsaWMgRmV0Y2hDb25maWd1cmF0aW9uIHNldFJvb3RJbnN0YW5j\nZXMoQ29sbGVjdGlvbiByb290cykgewogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIF9mZXRjaC5zZXRSb290SW5zdGFuY2VzKHJvb3RzKTsKICAgICAgICAg\nICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2Vw\ndGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgU2V0IGdldFJvb3RDbGFzc2Vz\nKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZmV0Y2gu\nZ2V0Um9vdENsYXNzZXMoKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhj\nZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7\nCiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBGZXRjaENvbmZpZ3VyYXRp\nb24gc2V0Um9vdENsYXNzZXMoQ29sbGVjdGlvbiByb290cykgewogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIF9mZXRjaC5zZXRSb290Q2xhc3Nlcyhyb290\ncyk7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0gY2F0Y2gg\nKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJh\nbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGJvb2xl\nYW4gZ2V0UXVlcnlDYWNoZSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAg\nICByZXR1cm4gX2ZldGNoLmdldFF1ZXJ5Q2FjaGUoKTsKICAgICAgICB9IGNh\ndGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93\nIHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBG\nZXRjaENvbmZpZ3VyYXRpb24gc2V0UXVlcnlDYWNoZShib29sZWFuIGNhY2hl\nKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2ZldGNoLnNldFF1ZXJ5\nQ2FjaGUoY2FjaGUpOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAg\nICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAg\nIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyBpbnQgZ2V0Rmx1c2hCZWZvcmVRdWVyaWVzKCkgewogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHJldHVybiBfZmV0Y2guZ2V0Rmx1c2hCZWZvcmVR\ndWVyaWVzKCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiBy\nZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hDb25maWd1cmF0aW9uIHNldEZs\ndXNoQmVmb3JlUXVlcmllcyhpbnQgZmx1c2gpIHsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBfZmV0Y2guc2V0Rmx1c2hCZWZvcmVRdWVyaWVzKGZsdXNo\nKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSBjYXRjaCAo\nUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFu\nc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgU2V0IGdl\ndEZldGNoR3JvdXBzKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJl\ndHVybiBfZmV0Y2guZ2V0RmV0Y2hHcm91cHMoKTsKICAgICAgICB9IGNhdGNo\nIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRy\nYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGhhc0ZldGNoR3JvdXAoU3RyaW5nIGdyb3VwKSB7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgcmV0dXJuIF9mZXRjaC5oYXNGZXRjaEdyb3VwKGdy\nb3VwKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQog\nICAgfQoKICAgIHB1YmxpYyBGZXRjaENvbmZpZ3VyYXRpb24gYWRkRmV0Y2hH\ncm91cChTdHJpbmcgZ3JvdXApIHsKICAgICAgICB0cnkgewogICAgICAgICAg\nICBfZmV0Y2guYWRkRmV0Y2hHcm91cChncm91cCk7CiAgICAgICAgICAgIHJl\ndHVybiB0aGlzOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24g\ncmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAg\nICB9CiAgICB9CgogICAgcHVibGljIEZldGNoQ29uZmlndXJhdGlvbiBhZGRG\nZXRjaEdyb3VwcyhDb2xsZWN0aW9uIGdyb3VwcykgewogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIF9mZXRjaC5hZGRGZXRjaEdyb3Vwcyhncm91cHMpOwog\nICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9IGNhdGNoIChSdW50\naW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0\nZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBGZXRjaENvbmZp\nZ3VyYXRpb24gcmVtb3ZlRmV0Y2hHcm91cChTdHJpbmcgZ3JvdXApIHsKICAg\nICAgICB0cnkgewogICAgICAgICAgICBfZmV0Y2gucmVtb3ZlRmV0Y2hHcm91\ncChncm91cCk7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0g\nY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhy\nb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGlj\nIEZldGNoQ29uZmlndXJhdGlvbiByZW1vdmVGZXRjaEdyb3VwcyhDb2xsZWN0\naW9uIGdyb3VwcykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9mZXRj\naC5yZW1vdmVGZXRjaEdyb3Vwcyhncm91cHMpOwogICAgICAgICAgICByZXR1\ncm4gdGhpczsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJl\nKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAg\nfQogICAgfQoKICAgIHB1YmxpYyBGZXRjaENvbmZpZ3VyYXRpb24gY2xlYXJG\nZXRjaEdyb3VwcygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZmV0\nY2guY2xlYXJGZXRjaEdyb3VwcygpOwogICAgICAgICAgICByZXR1cm4gdGhp\nczsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAg\nICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAg\nfQoKICAgIHB1YmxpYyBGZXRjaENvbmZpZ3VyYXRpb24gcmVzZXRGZXRjaEdy\nb3VwcygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZmV0Y2gucmVz\nZXRGZXRjaEdyb3VwcygpOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAg\nICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAg\nICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBTZXQgZ2V0RmllbGRzKCkgewogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIHJldHVybiBfZmV0Y2guZ2V0RmllbGRzKCk7CiAgICAgICAgfSBj\nYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJv\ndyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBoYXNGaWVsZChTdHJpbmcgZmllbGQpIHsKICAgICAgICB0cnkg\newogICAgICAgICAgICByZXR1cm4gX2ZldGNoLmhhc0ZpZWxkKGZpZWxkKTsK\nICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAg\nICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyBGZXRjaENvbmZpZ3VyYXRpb24gYWRkRmllbGQoU3RyaW5n\nIGZpZWxkKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2ZldGNoLmFk\nZEZpZWxkKGZpZWxkKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAg\nICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAg\nICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgRmV0Y2hDb25maWd1cmF0aW9uIGFkZEZpZWxkcyhDb2xsZWN0aW9u\nIGZpZWxkcykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9mZXRjaC5h\nZGRGaWVsZHMoZmllbGRzKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAg\nICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAg\nICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgRmV0Y2hDb25maWd1cmF0aW9uIHJlbW92ZUZpZWxkKFN0cmlu\nZyBmaWVsZCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9mZXRjaC5y\nZW1vdmVGaWVsZChmaWVsZCk7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwog\nICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAg\nICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIEZldGNoQ29uZmlndXJhdGlvbiByZW1vdmVGaWVsZHMoQ29s\nbGVjdGlvbiBmaWVsZHMpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBf\nZmV0Y2gucmVtb3ZlRmllbGRzKGZpZWxkcyk7CiAgICAgICAgICAgIHJldHVy\nbiB0aGlzOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUp\nIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9\nCiAgICB9CgogICAgcHVibGljIEZldGNoQ29uZmlndXJhdGlvbiBjbGVhckZp\nZWxkcygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZmV0Y2guY2xl\nYXJGaWVsZHMoKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAg\nfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0\naHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJs\naWMgaW50IGdldExvY2tUaW1lb3V0KCkgewogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIHJldHVybiBfZmV0Y2guZ2V0TG9ja1RpbWVvdXQoKTsKICAgICAg\nICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAg\nIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyBGZXRjaENvbmZpZ3VyYXRpb24gc2V0TG9ja1RpbWVvdXQoaW50IHRp\nbWVvdXQpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZmV0Y2guc2V0\nTG9ja1RpbWVvdXQodGltZW91dCk7CiAgICAgICAgICAgIHJldHVybiB0aGlz\nOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAg\nICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9\nCgogICAgcHVibGljIGludCBnZXRSZWFkTG9ja0xldmVsKCkgewogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZmV0Y2guZ2V0UmVhZExvY2tM\nZXZlbCgpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUp\nIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9\nCiAgICB9CgogICAgcHVibGljIEZldGNoQ29uZmlndXJhdGlvbiBzZXRSZWFk\nTG9ja0xldmVsKGludCBsZXZlbCkgewogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIF9mZXRjaC5zZXRSZWFkTG9ja0xldmVsKGxldmVsKTsKICAgICAgICAg\nICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2Vw\ndGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFdyaXRlTG9ja0xl\ndmVsKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZmV0\nY2guZ2V0V3JpdGVMb2NrTGV2ZWwoKTsKICAgICAgICB9IGNhdGNoIChSdW50\naW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0\nZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBGZXRjaENvbmZp\nZ3VyYXRpb24gc2V0V3JpdGVMb2NrTGV2ZWwoaW50IGxldmVsKSB7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgX2ZldGNoLnNldFdyaXRlTG9ja0xldmVs\nKGxldmVsKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSBj\nYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJv\ndyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMg\nUmVzdWx0TGlzdCBuZXdSZXN1bHRMaXN0KFJlc3VsdE9iamVjdFByb3ZpZGVy\nIHJvcCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZmV0\nY2gubmV3UmVzdWx0TGlzdChyb3ApOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRp\nbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRl\nKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgY29weShG\nZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpIHsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBfZmV0Y2guY29weShmZXRjaCk7CiAgICAgICAgfSBjYXRjaCAo\nUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFu\nc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0\nIGNsb25lKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBf\nZmV0Y2guY2xvbmUoKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0\naW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEhpbnQoU3RyaW5n\nIG5hbWUsIE9iamVjdCB2YWx1ZSkgewogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIF9mZXRjaC5zZXRIaW50KG5hbWUsIHZhbHVlKTsKICAgICAgICB9IGNh\ndGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93\nIHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgZ2V0SGludChTdHJpbmcgbmFtZSkgewogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIHJldHVybiBfZmV0Y2guZ2V0SGludChuYW1lKTsKICAgICAg\nICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAg\nIHRocm93IHRyYW5zbGF0ZShyZSk7CgkJfQoJfQoKICAgIHB1YmxpYyBib29s\nZWFuIHJlcXVpcmVzRmV0Y2goRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAg\nICB0cnkgewogICAgICAgICAgICByZXR1cm4gX2ZldGNoLnJlcXVpcmVzRmV0\nY2goZm1kKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJl\nKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAg\nfQogICAgfQoKICAgIHB1YmxpYyBGZXRjaENvbmZpZ3VyYXRpb24gdHJhdmVy\nc2UoRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAgICB0cnkgewogICAgICAg\nICAgICByZXR1cm4gX2ZldGNoLnRyYXZlcnNlKGZtZCk7CiAgICAgICAgfSBj\nYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJv\ndyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0gCiAgICB9CgogICAgcHVibGlj\nIHZvaWQgbG9jaygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZmV0\nY2gubG9jaygpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24g\ncmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKCQl9Cgl9\nCgogICAgcHVibGljIHZvaWQgdW5sb2NrKCkgewogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIF9mZXRjaC51bmxvY2soKTsKICAgICAgICB9IGNhdGNoIChS\ndW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5z\nbGF0ZShyZSk7CgkJfQoJfQp9Cg==\n","encoding":"base64"}

