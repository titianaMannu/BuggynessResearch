{"sha":"13037f548345e067d7d41710650c87e5b9695224","node_id":"MDQ6QmxvYjIwNjM2NDoxMzAzN2Y1NDgzNDVlMDY3ZDdkNDE3MTA2NTBjODdlNWI5Njk1MjI0","size":10697,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/13037f548345e067d7d41710650c87e5b9695224","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgamF2YS5pby5PYmplY3RTdHJlYW1F\neGNlcHRpb247CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0\nIGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5MaXN0Owpp\nbXBvcnQgamF2YS51dGlsLkxpc3RJdGVyYXRvcjsKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLnJvcC5SZXN1bHRMaXN0OwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnV0aWwuUnVudGltZUV4Y2VwdGlvblRyYW5zbGF0b3I7\nCgovKioKICogRGVsZWdhdGluZyByZXN1bHQgbGlzdCB0aGF0IGNhbiBhbHNv\nIHBlcmZvcm0gZXhjZXB0aW9uIHRyYW5zbGF0aW9uCiAqIGZvciB1c2UgaW4g\nZmFjYWRlcy4KICoKICogQHNpbmNlIDAuNC4wCiAqIEBhdXRob3IgTWFyYyBQ\ncnVkJ2hvbW1lYXV4CiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBjbGFzcyBE\nZWxlZ2F0aW5nUmVzdWx0TGlzdAogICAgaW1wbGVtZW50cyBSZXN1bHRMaXN0\nIHsKCiAgICBwcml2YXRlIGZpbmFsIFJlc3VsdExpc3QgX2RlbDsKICAgIHBy\naXZhdGUgZmluYWwgUnVudGltZUV4Y2VwdGlvblRyYW5zbGF0b3IgX3RyYW5z\nOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBkZWxlZ2F0\nZS4KICAgICAqLwogICAgcHVibGljIERlbGVnYXRpbmdSZXN1bHRMaXN0KFJl\nc3VsdExpc3QgbGlzdCkgewogICAgICAgIHRoaXMobGlzdCwgbnVsbCk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvcjsgc3VwcGx5IGRlbGVn\nYXRlIGFuZCBleGNlcHRpb24gdHJhbnNsYXRvci4KICAgICAqLwogICAgcHVi\nbGljIERlbGVnYXRpbmdSZXN1bHRMaXN0KFJlc3VsdExpc3QgbGlzdCwKICAg\nICAgICBSdW50aW1lRXhjZXB0aW9uVHJhbnNsYXRvciB0cmFucykgewogICAg\nICAgIF9kZWwgPSBsaXN0OwogICAgICAgIF90cmFucyA9IHRyYW5zOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBkaXJlY3QgZGVsZWdhdGUu\nCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHRMaXN0IGdldERlbGVnYXRlKCkg\newogICAgICAgIHJldHVybiBfZGVsOwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIHRoZSBuYXRpdmUgZGVsZWdhdGUuCiAgICAgKi8KICAgIHB1Ymxp\nYyBSZXN1bHRMaXN0IGdldElubmVybW9zdERlbGVnYXRlKCkgewogICAgICAg\nIHJldHVybiBfZGVsIGluc3RhbmNlb2YgRGVsZWdhdGluZ1Jlc3VsdExpc3QK\nICAgICAgICAgICAgPyAoKERlbGVnYXRpbmdSZXN1bHRMaXN0KSBfZGVsKS5n\nZXRJbm5lcm1vc3REZWxlZ2F0ZSgpIDogX2RlbDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFdyaXRlcyBkZWxlZ2F0ZSwgd2hpY2ggbWF5IGluIHR1cm4gd3Jp\ndGUgYSBub3JtYWwgbGlzdC4KICAgICAqLwogICAgcHVibGljIE9iamVjdCB3\ncml0ZVJlcGxhY2UoKQogICAgICAgIHRocm93cyBPYmplY3RTdHJlYW1FeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBfZGVsOwogICAgfQoKICAgIHB1Ymxp\nYyBpbnQgaGFzaENvZGUoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\ncmV0dXJuIGdldElubmVybW9zdERlbGVnYXRlKCkuaGFzaENvZGUoKTsKICAg\nICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAg\nICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb3RoZXIpIHsKICAgICAg\nICBpZiAob3RoZXIgPT0gdGhpcykKICAgICAgICAgICAgcmV0dXJuIHRydWU7\nCiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgRGVsZWdhdGluZ1Jlc3Vs\ndExpc3QpCiAgICAgICAgICAgIG90aGVyID0gKChEZWxlZ2F0aW5nUmVzdWx0\nTGlzdCkgb3RoZXIpLmdldElubmVybW9zdERlbGVnYXRlKCk7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgcmV0dXJuIGdldElubmVybW9zdERlbGVnYXRl\nKCkuZXF1YWxzKG90aGVyKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhj\nZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7\nCiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNsYXRlIHRo\nZSBPcGVuSlBBIGV4Y2VwdGlvbi4KICAgICAqLwogICAgcHJvdGVjdGVkIFJ1\nbnRpbWVFeGNlcHRpb24gdHJhbnNsYXRlKFJ1bnRpbWVFeGNlcHRpb24gcmUp\nIHsKICAgICAgICByZXR1cm4gKF90cmFucyA9PSBudWxsKSA/IHJlIDogX3Ry\nYW5zLnRyYW5zbGF0ZShyZSk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4g\naXNQcm92aWRlck9wZW4oKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\ncmV0dXJuIF9kZWwuaXNQcm92aWRlck9wZW4oKTsKICAgICAgICB9IGNhdGNo\nIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRy\nYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIGNsb3NlKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9kZWwuY2xv\nc2UoKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzQ2xvc2VkKCkgewogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLmlzQ2xvc2VkKCk7CiAg\nICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAg\nICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgaW50IHNpemUoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgcmV0dXJuIF9kZWwuc2l6ZSgpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRp\nbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRl\nKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNF\nbXB0eSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gX2Rl\nbC5pc0VtcHR5KCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlv\nbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAg\nICAgIH0KICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBjb250YWlucyhPYmpl\nY3QgbykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZGVs\nLmNvbnRhaW5zKG8pOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRp\nb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIEl0ZXJhdG9yIGl0ZXJhdG9yKCkg\newogICAgICAgIHJldHVybiBsaXN0SXRlcmF0b3IoKTsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0W10gdG9BcnJheSgpIHsKICAgICAgICB0cnkgewogICAg\nICAgICAgICByZXR1cm4gX2RlbC50b0FycmF5KCk7CiAgICAgICAgfSBjYXRj\naCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0\ncmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgT2Jq\nZWN0W10gdG9BcnJheShPYmplY3RbXSBhKSB7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgcmV0dXJuIF9kZWwudG9BcnJheShhKTsKICAgICAgICB9IGNh\ndGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93\nIHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGFkZChPYmplY3QgbykgewogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIHJldHVybiBfZGVsLmFkZChvKTsKICAgICAgICB9IGNhdGNoIChSdW50\naW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0\nZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIHJl\nbW92ZShPYmplY3QgbykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJl\ndHVybiBfZGVsLnJlbW92ZShvKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1l\nRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShy\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGNvbnRh\naW5zQWxsKENvbGxlY3Rpb24gYykgewogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIHJldHVybiBfZGVsLmNvbnRhaW5zQWxsKGMpOwogICAgICAgIH0gY2F0\nY2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cg\ndHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gYWRkQWxsKENvbGxlY3Rpb24gYykgewogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIHJldHVybiBfZGVsLmFkZEFsbChjKTsKICAgICAgICB9IGNh\ndGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93\nIHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGFkZEFsbChpbnQgaW5kZXgsIENvbGxlY3Rpb24gYykgewogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLmFkZEFsbChpbmRl\neCwgYyk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkg\newogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiByZW1vdmVBbGwoQ29sbGVjdGlv\nbiBjKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9kZWwu\ncmVtb3ZlQWxsKGMpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRp\nb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gcmV0YWluQWxsKENv\nbGxlY3Rpb24gYykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVy\nbiBfZGVsLnJldGFpbkFsbChjKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1l\nRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShy\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNsZWFyKCkg\newogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9kZWwuY2xlYXIoKTsKICAg\nICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAg\nICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBPYmplY3QgZ2V0KGludCBpbmRleCkgewogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIHJldHVybiBfZGVsLmdldChpbmRleCk7CiAgICAgICAg\nfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0\naHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJs\naWMgT2JqZWN0IHNldChpbnQgaW5kZXgsIE9iamVjdCBlbGVtZW50KSB7CiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9kZWwuc2V0KGluZGV4\nLCBlbGVtZW50KTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9u\nIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAg\nICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFkZChpbnQgaW5kZXgsIE9i\namVjdCBlbGVtZW50KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2Rl\nbC5hZGQoaW5kZXgsIGVsZW1lbnQpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRp\nbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRl\nKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIE9iamVjdCByZW1v\ndmUoaW50IGluZGV4KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIF9kZWwucmVtb3ZlKGluZGV4KTsKICAgICAgICB9IGNhdGNoIChSdW50\naW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0\nZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBpbnQgaW5kZXhP\nZihPYmplY3QgbykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVy\nbiBfZGVsLmluZGV4T2Yobyk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4\nY2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUp\nOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgaW50IGxhc3RJbmRleE9m\nKE9iamVjdCBvKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJu\nIF9kZWwubGFzdEluZGV4T2Yobyk7CiAgICAgICAgfSBjYXRjaCAoUnVudGlt\nZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUo\ncmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgTGlzdEl0ZXJhdG9y\nIGxpc3RJdGVyYXRvcigpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBy\nZXR1cm4gbmV3IERlbGVnYXRpbmdMaXN0SXRlcmF0b3IoX2RlbC5saXN0SXRl\ncmF0b3IoKSk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiBy\nZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwdWJsaWMgTGlzdEl0ZXJhdG9yIGxpc3RJdGVyYXRv\ncihpbnQgaW5kZXgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1\ncm4gbmV3IERlbGVnYXRpbmdMaXN0SXRlcmF0b3IoX2RlbC5saXN0SXRlcmF0\nb3IoaW5kZXgpKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9u\nIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAg\nICAgfQogICAgfQoKICAgIHB1YmxpYyBMaXN0IHN1Ykxpc3QoaW50IGZyb21J\nbmRleCwgaW50IHRvSW5kZXgpIHsKICAgICAgICB0cnkgewogICAgICAgICAg\nICByZXR1cm4gX2RlbC5zdWJMaXN0KGZyb21JbmRleCwgdG9JbmRleCk7CiAg\nICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAg\nICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIERlbGVnYXRpbmcgaXRlcmF0b3IgdGhhdCBhbHNvIHBl\ncmZvcm1zIGV4Y2VwdGlvbiB0cmFuc2xhdGlvbi4KICAgICAqLwogICAgcHVi\nbGljIGNsYXNzIERlbGVnYXRpbmdMaXN0SXRlcmF0b3IKICAgICAgICBpbXBs\nZW1lbnRzIExpc3RJdGVyYXRvciB7CgogICAgICAgIHByaXZhdGUgZmluYWwg\nTGlzdEl0ZXJhdG9yIF9kZWw7CgogICAgICAgIC8qKgogICAgICAgICAqIENv\nbnN0cnVjdG9yOyBzdXBwbHkgZGVsZWdhdGUuCiAgICAgICAgICovCiAgICAg\nICAgcHVibGljIERlbGVnYXRpbmdMaXN0SXRlcmF0b3IoTGlzdEl0ZXJhdG9y\nIGl0KSB7CiAgICAgICAgICAgIF9kZWwgPSBpdDsKICAgICAgICB9CgogICAg\nICAgIC8qKgogICAgICAgICAqIFJldHVybiB0aGUgZGlyZWN0IGRlbGVnYXRl\nLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBMaXN0SXRlcmF0b3IgZ2V0\nRGVsZWdhdGUoKSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsOwogICAgICAg\nIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogUmV0dXJuIHRoZSBuYXRpdmUg\nZGVsZWdhdGUuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIExpc3RJdGVy\nYXRvciBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpIHsKICAgICAgICAgICAgcmV0\ndXJuIF9kZWwgaW5zdGFuY2VvZiBEZWxlZ2F0aW5nTGlzdEl0ZXJhdG9yCiAg\nICAgICAgICAgICAgICA/ICgoRGVsZWdhdGluZ0xpc3RJdGVyYXRvcikgX2Rl\nbCkuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKSA6IF9kZWw7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgICAgICB0\ncnkgewogICAgICAgICAgICAgICAgcmV0dXJuIGdldElubmVybW9zdERlbGVn\nYXRlKCkuaGFzaENvZGUoKTsKICAgICAgICAgICAgfSBjYXRjaCAoUnVudGlt\nZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICAgICAgdGhyb3cgdHJhbnNs\nYXRlKHJlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHVi\nbGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvdGhlcikgewogICAgICAgICAg\nICBpZiAob3RoZXIgPT0gdGhpcykKICAgICAgICAgICAgICAgIHJldHVybiB0\ncnVlOwogICAgICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBEZWxlZ2F0\naW5nTGlzdEl0ZXJhdG9yKQogICAgICAgICAgICAgICAgb3RoZXIgPSAoKERl\nbGVnYXRpbmdMaXN0SXRlcmF0b3IpIG90aGVyKS4KICAgICAgICAgICAgICAg\nICAgICBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpOwogICAgICAgICAgICB0cnkg\newogICAgICAgICAgICAgICAgcmV0dXJuIGdldElubmVybW9zdERlbGVnYXRl\nKCkuZXF1YWxzKG90aGVyKTsKICAgICAgICAgICAgfSBjYXRjaCAoUnVudGlt\nZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICAgICAgdGhyb3cgdHJhbnNs\nYXRlKHJlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHVi\nbGljIGJvb2xlYW4gaGFzTmV4dCgpIHsKICAgICAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgICAgIHJldHVybiBfZGVsLmhhc05leHQoKTsKICAgICAgICAg\nICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAg\nICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICAgICAgfQogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIE9iamVjdCBuZXh0KCkgewogICAgICAg\nICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIF9kZWwubmV4dCgp\nOwogICAgICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAg\nICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgYm9vbGVhbiBoYXNQ\ncmV2aW91cygpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAg\nIHJldHVybiBfZGVsLmhhc1ByZXZpb3VzKCk7CiAgICAgICAgICAgIH0gY2F0\nY2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgICAgIHRo\ncm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9Cgog\nICAgICAgIHB1YmxpYyBPYmplY3QgcHJldmlvdXMoKSB7CiAgICAgICAgICAg\nIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX2RlbC5wcmV2aW91cygp\nOwogICAgICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAg\nICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgaW50IG5leHRJbmRl\neCgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVy\nbiBfZGVsLm5leHRJbmRleCgpOwogICAgICAgICAgICB9IGNhdGNoIChSdW50\naW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgICAgICB0aHJvdyB0cmFu\nc2xhdGUocmUpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBw\ndWJsaWMgaW50IHByZXZpb3VzSW5kZXgoKSB7CiAgICAgICAgICAgIHRyeSB7\nCiAgICAgICAgICAgICAgICByZXR1cm4gX2RlbC5wcmV2aW91c0luZGV4KCk7\nCiAgICAgICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsK\nICAgICAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAg\nICAgIH0KICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHJlbW92ZSgp\nIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIF9kZWwucmVt\nb3ZlKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24g\ncmUpIHsKICAgICAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHNl\ndChPYmplY3QgbykgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAg\nICAgX2RlbC5zZXQobyk7CiAgICAgICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVF\neGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgICAgIHRocm93IHRyYW5zbGF0\nZShyZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHB1Ymxp\nYyB2b2lkIGFkZChPYmplY3QgbykgewogICAgICAgICAgICB0cnkgewogICAg\nICAgICAgICAgICAgX2RlbC5hZGQobyk7CiAgICAgICAgICAgIH0gY2F0Y2gg\nKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgICAgIHRocm93\nIHRyYW5zbGF0ZSAocmUpOwoJCQl9CgkJfQoJfQp9Cgo=\n","encoding":"base64"}

