{"sha":"63b9d4e083bf2d2a37478b40e94b8f3c1b9e12a5","node_id":"MDQ6QmxvYjIwNjM2NDo2M2I5ZDRlMDgzYmYyZDJhMzc0NzhiNDBlOTRiOGYzYzFiOWUxMmE1","size":3507,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/63b9d4e083bf2d2a37478b40e94b8f3c1b9e12a5","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1l\ndGEuQ2xhc3NNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51\ndGlsLlJ1bnRpbWVFeGNlcHRpb25UcmFuc2xhdG9yOwoKLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vCi8vIE5PVEU6IHdoZW4gYWRkaW5nIGEgcHVibGljIEFQSSBtZXRo\nb2QsIGJlIHN1cmUgdG8gYWRkIGl0IHRvIAovLyBKRE8gYW5kIEpQQSBmYWNh\nZGVzIQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCi8qKgogKiBEZWxlZ2F0aW5nIHNl\ncXVlbmNlIHRoYXQgY2FuIGFsc28gcGVyZm9ybSBleGNlcHRpb24gdHJhbnNs\nYXRpb24gZm9yIHVzZQogKiBpbiBmYWNhZGVzLgogKgogKiBAYXV0aG9yIEFi\nZSBXaGl0ZQogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgRGVsZWdh\ndGluZ1NlcQogICAgaW1wbGVtZW50cyBTZXEgewoKICAgIHByaXZhdGUgZmlu\nYWwgU2VxIF9zZXE7CiAgICBwcml2YXRlIGZpbmFsIERlbGVnYXRpbmdTZXEg\nX2RlbDsKICAgIHByaXZhdGUgZmluYWwgUnVudGltZUV4Y2VwdGlvblRyYW5z\nbGF0b3IgX3RyYW5zOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1\ncHBseSBkZWxlZ2F0ZS4KICAgICAqLwogICAgcHVibGljIERlbGVnYXRpbmdT\nZXEoU2VxIHNlcSkgewogICAgICAgIHRoaXMoc2VxLCBudWxsKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yOyBzdXBwbHkgZGVsZWdhdGUg\nYW5kIGV4Y2VwdGlvbiB0cmFuc2xhdG9yLgogICAgICovCiAgICBwdWJsaWMg\nRGVsZWdhdGluZ1NlcShTZXEgc2VxLCBSdW50aW1lRXhjZXB0aW9uVHJhbnNs\nYXRvciB0cmFucykgewogICAgICAgIF9zZXEgPSBzZXE7CiAgICAgICAgaWYg\nKHNlcSBpbnN0YW5jZW9mIERlbGVnYXRpbmdTZXEpCiAgICAgICAgICAgIF9k\nZWwgPSAoRGVsZWdhdGluZ1NlcSkgc2VxOwogICAgICAgIGVsc2UKICAgICAg\nICAgICAgX2RlbCA9IG51bGw7CiAgICAgICAgX3RyYW5zID0gdHJhbnM7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGRpcmVjdCBkZWxlZ2F0\nZS4KICAgICAqLwogICAgcHVibGljIFNlcSBnZXREZWxlZ2F0ZSgpIHsKICAg\nICAgICByZXR1cm4gX3NlcTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbiB0aGUgbmF0aXZlIGRlbGVnYXRlLgogICAgICovCiAgICBwdWJsaWMgU2Vx\nIGdldElubmVybW9zdERlbGVnYXRlKCkgewogICAgICAgIHJldHVybiAoX2Rl\nbCA9PSBudWxsKSA/IF9zZXEgOiBfZGVsLmdldElubmVybW9zdERlbGVnYXRl\nKCk7CiAgICB9CgogICAgcHVibGljIGludCBoYXNoQ29kZSgpIHsKICAgICAg\nICByZXR1cm4gZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKS5oYXNoQ29kZSgpOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb3RoZXIp\nIHsKICAgICAgICBpZiAob3RoZXIgPT0gdGhpcykKICAgICAgICAgICAgcmV0\ndXJuIHRydWU7CiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgRGVsZWdh\ndGluZ1NlcSkKICAgICAgICAgICAgb3RoZXIgPSAoKERlbGVnYXRpbmdTZXEp\nIG90aGVyKS5nZXRJbm5lcm1vc3REZWxlZ2F0ZSgpOwogICAgICAgIHJldHVy\nbiBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpLmVxdWFscyhvdGhlcik7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBUcmFuc2xhdGUgdGhlIE9wZW5KUEEgZXhjZXB0\naW9uLgogICAgICovCiAgICBwcm90ZWN0ZWQgUnVudGltZUV4Y2VwdGlvbiB0\ncmFuc2xhdGUoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgIHJldHVy\nbiAoX3RyYW5zID09IG51bGwpID8gcmUgOiBfdHJhbnMudHJhbnNsYXRlKHJl\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUeXBlKGludCB0eXBlKSB7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX3NlcS5zZXRUeXBlKHR5cGUp\nOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAg\nICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9\nCgogICAgcHVibGljIE9iamVjdCBuZXh0KFN0b3JlQ29udGV4dCBjdHgsIENs\nYXNzTWV0YURhdGEgbWV0YSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIHJldHVybiBfc2VxLm5leHQoY3R4LCBtZXRhKTsKICAgICAgICB9IGNhdGNo\nIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRy\nYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBPYmpl\nY3QgY3VycmVudChTdG9yZUNvbnRleHQgY3R4LCBDbGFzc01ldGFEYXRhIG1l\ndGEpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gX3NlcS5j\ndXJyZW50KGN0eCwgbWV0YSk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4\nY2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUp\nOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhbGxvY2F0ZShp\nbnQgYWRkaXRpb25hbCwgU3RvcmVDb250ZXh0IGN0eCwgQ2xhc3NNZXRhRGF0\nYSBtZXRhKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX3NlcS5hbGxv\nY2F0ZShhZGRpdGlvbmFsLCBjdHgsIG1ldGEpOwogICAgICAgIH0gY2F0Y2gg\nKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJh\nbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQg\nY2xvc2UoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX3NlcS5jbG9z\nZSgpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsK\nICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKCQl9Cgl9Cn0K\n","encoding":"base64"}

