{"sha":"c48787068c862bc3cb36c67d3dc9fce657dedfe6","node_id":"MDQ6QmxvYjIwNjM2NDpjNDg3ODcwNjhjODYyYmMzY2IzNmM2N2QzZGM5ZmNlNjU3ZGVkZmU2","size":5558,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c48787068c862bc3cb36c67d3dc9fce657dedfe6","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgamF2YS51dGlsLkJpdFNldDsKaW1w\nb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIucm9wLlJlc3VsdE9iamVjdFByb3ZpZGVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0YTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkZpZWxkTWV0YURhdGE7CgovKioK\nICogQmFzZSBjbGFzcyBmb3Igc3RvcmUgbWFuYWdlciBkZWNvcmF0b3JzIHRo\nYXQgZGVsZWdhdGUgdG8gYW5vdGhlcgogKiBzdG9yZSBtYW5hZ2VyIGZvciBz\nb21lIG9wZXJhdGlvbnMuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpw\ndWJsaWMgYWJzdHJhY3QgY2xhc3MgRGVsZWdhdGluZ1N0b3JlTWFuYWdlcgog\nICAgaW1wbGVtZW50cyBTdG9yZU1hbmFnZXIgewoKICAgIHByaXZhdGUgZmlu\nYWwgU3RvcmVNYW5hZ2VyIF9zdG9yZTsKICAgIHByaXZhdGUgZmluYWwgRGVs\nZWdhdGluZ1N0b3JlTWFuYWdlciBfZGVsOwoKICAgIC8qKgogICAgICogQ29u\nc3RydWN0b3IuIFN1cHBseSBkZWxlZ2F0ZS4KICAgICAqLwogICAgcHVibGlj\nIERlbGVnYXRpbmdTdG9yZU1hbmFnZXIoU3RvcmVNYW5hZ2VyIHN0b3JlKSB7\nCiAgICAgICAgX3N0b3JlID0gc3RvcmU7CiAgICAgICAgaWYgKHN0b3JlIGlu\nc3RhbmNlb2YgRGVsZWdhdGluZ1N0b3JlTWFuYWdlcikKICAgICAgICAgICAg\nX2RlbCA9IChEZWxlZ2F0aW5nU3RvcmVNYW5hZ2VyKSBfc3RvcmU7CiAgICAg\nICAgZWxzZQogICAgICAgICAgICBfZGVsID0gbnVsbDsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiB0aGUgd3JhcHBlZCBzdG9yZSBtYW5hZ2VyLgog\nICAgICovCiAgICBwdWJsaWMgU3RvcmVNYW5hZ2VyIGdldERlbGVnYXRlKCkg\newogICAgICAgIHJldHVybiBfc3RvcmU7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gdGhlIGJhc2UgdW5kZXJseWluZyBuYXRpdmUgc3RvcmUgbWFu\nYWdlci4KICAgICAqLwogICAgcHVibGljIFN0b3JlTWFuYWdlciBnZXRJbm5l\ncm1vc3REZWxlZ2F0ZSgpIHsKICAgICAgICByZXR1cm4gKF9kZWwgPT0gbnVs\nbCkgPyBfc3RvcmUgOiBfZGVsLmdldElubmVybW9zdERlbGVnYXRlKCk7CiAg\nICB9CgogICAgcHVibGljIGludCBoYXNoQ29kZSgpIHsKICAgICAgICByZXR1\ncm4gZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKS5oYXNoQ29kZSgpOwogICAgfQoK\nICAgIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb3RoZXIpIHsKICAg\nICAgICBpZiAob3RoZXIgPT0gdGhpcykKICAgICAgICAgICAgcmV0dXJuIHRy\ndWU7CiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgRGVsZWdhdGluZ1N0\nb3JlTWFuYWdlcikKICAgICAgICAgICAgb3RoZXIgPSAoKERlbGVnYXRpbmdT\ndG9yZU1hbmFnZXIpIG90aGVyKS5nZXRJbm5lcm1vc3REZWxlZ2F0ZSgpOwog\nICAgICAgIHJldHVybiBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpLmVxdWFscyhv\ndGhlcik7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29udGV4dChTdG9y\nZUNvbnRleHQgY3R4KSB7CiAgICAgICAgX3N0b3JlLnNldENvbnRleHQoY3R4\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBiZWdpbk9wdGltaXN0aWMoKSB7\nCiAgICAgICAgX3N0b3JlLmJlZ2luT3B0aW1pc3RpYygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHJvbGxiYWNrT3B0aW1pc3RpYygpIHsKICAgICAgICBf\nc3RvcmUucm9sbGJhY2tPcHRpbWlzdGljKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgYmVnaW4oKSB7CiAgICAgICAgX3N0b3JlLmJlZ2luKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgY29tbWl0KCkgewogICAgICAgIF9zdG9yZS5j\nb21taXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByb2xsYmFjaygpIHsK\nICAgICAgICBfc3RvcmUucm9sbGJhY2soKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBleGlzdHMoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgT2JqZWN0\nIGNvbnRleHQpIHsKICAgICAgICByZXR1cm4gX3N0b3JlLmV4aXN0cyhzbSwg\nY29udGV4dCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gc3luY1ZlcnNp\nb24oT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgT2JqZWN0IGNvbnRleHQpIHsK\nICAgICAgICByZXR1cm4gX3N0b3JlLnN5bmNWZXJzaW9uKHNtLCBjb250ZXh0\nKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpbml0aWFsaXplKE9wZW5K\nUEFTdGF0ZU1hbmFnZXIgc20sIFBDU3RhdGUgc3RhdGUsCiAgICAgICAgRmV0\nY2hDb25maWd1cmF0aW9uIGZldGNoLCBPYmplY3QgY29udGV4dCkgewogICAg\nICAgIHJldHVybiBfc3RvcmUuaW5pdGlhbGl6ZShzbSwgc3RhdGUsIGZldGNo\nLCBjb250ZXh0KTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBsb2FkKE9w\nZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEJpdFNldCBmaWVsZHMsCiAgICAgICAg\nRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLCBpbnQgbG9ja0xldmVsLCBPYmpl\nY3QgY29udGV4dCkgewogICAgICAgIHJldHVybiBfc3RvcmUubG9hZChzbSwg\nZmllbGRzLCBmZXRjaCwgbG9ja0xldmVsLCBjb250ZXh0KTsKICAgIH0KCiAg\nICBwdWJsaWMgQ29sbGVjdGlvbiBsb2FkQWxsKENvbGxlY3Rpb24gc21zLCBQ\nQ1N0YXRlIHN0YXRlLCBpbnQgbG9hZCwKICAgICAgICBGZXRjaENvbmZpZ3Vy\nYXRpb24gZmV0Y2gsIE9iamVjdCBjb250ZXh0KSB7CiAgICAgICAgcmV0dXJu\nIF9zdG9yZS5sb2FkQWxsKHNtcywgc3RhdGUsIGxvYWQsIGZldGNoLCBjb250\nZXh0KTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBiZWZvcmVTdGF0ZUNoYW5n\nZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBQQ1N0YXRlIGZyb21TdGF0ZSwK\nICAgICAgICBQQ1N0YXRlIHRvU3RhdGUpIHsKICAgICAgICBfc3RvcmUuYmVm\nb3JlU3RhdGVDaGFuZ2Uoc20sIGZyb21TdGF0ZSwgdG9TdGF0ZSk7CiAgICB9\nCgogICAgcHVibGljIENvbGxlY3Rpb24gZmx1c2goQ29sbGVjdGlvbiBzbXMp\nIHsKICAgICAgICByZXR1cm4gX3N0b3JlLmZsdXNoKHNtcyk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gYXNzaWduT2JqZWN0SWQoT3BlbkpQQVN0YXRl\nTWFuYWdlciBzbSwgYm9vbGVhbiBwcmVGbHVzaCkgewogICAgICAgIHJldHVy\nbiBfc3RvcmUuYXNzaWduT2JqZWN0SWQoc20sIHByZUZsdXNoKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBhc3NpZ25GaWVsZChPcGVuSlBBU3RhdGVN\nYW5hZ2VyIHNtLCBpbnQgZmllbGQsCiAgICAgICAgYm9vbGVhbiBwcmVGbHVz\naCkgewogICAgICAgIHJldHVybiBfc3RvcmUuYXNzaWduRmllbGQoc20sIGZp\nZWxkLCBwcmVGbHVzaCk7CiAgICB9CgogICAgcHVibGljIENsYXNzIGdldE1h\nbmFnZWRUeXBlKE9iamVjdCBvaWQpIHsKICAgICAgICByZXR1cm4gX3N0b3Jl\nLmdldE1hbmFnZWRUeXBlKG9pZCk7CiAgICB9CgogICAgcHVibGljIENsYXNz\nIGdldERhdGFTdG9yZUlkVHlwZShDbGFzc01ldGFEYXRhIG1ldGEpIHsKICAg\nICAgICByZXR1cm4gX3N0b3JlLmdldERhdGFTdG9yZUlkVHlwZShtZXRhKTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGNvcHlEYXRhU3RvcmVJZChPYmpl\nY3Qgb2lkLCBDbGFzc01ldGFEYXRhIG1ldGEpIHsKICAgICAgICByZXR1cm4g\nX3N0b3JlLmNvcHlEYXRhU3RvcmVJZChvaWQsIG1ldGEpOwogICAgfQoKICAg\nIHB1YmxpYyBPYmplY3QgbmV3RGF0YVN0b3JlSWQoT2JqZWN0IG9pZFZhbCwg\nQ2xhc3NNZXRhRGF0YSBtZXRhKSB7CiAgICAgICAgcmV0dXJuIF9zdG9yZS5u\nZXdEYXRhU3RvcmVJZChvaWRWYWwsIG1ldGEpOwogICAgfQoKICAgIHB1Ymxp\nYyBPYmplY3QgZ2V0Q2xpZW50Q29ubmVjdGlvbigpIHsKICAgICAgICByZXR1\ncm4gX3N0b3JlLmdldENsaWVudENvbm5lY3Rpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCByZXRhaW5Db25uZWN0aW9uKCkgewogICAgICAgIF9zdG9y\nZS5yZXRhaW5Db25uZWN0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ncmVsZWFzZUNvbm5lY3Rpb24oKSB7CiAgICAgICAgX3N0b3JlLnJlbGVhc2VD\nb25uZWN0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFJlc3VsdE9iamVjdFBy\nb3ZpZGVyIGV4ZWN1dGVFeHRlbnQoQ2xhc3NNZXRhRGF0YSBtZXRhLAogICAg\nICAgIGJvb2xlYW4gc3ViY2xhc3NlcywgRmV0Y2hDb25maWd1cmF0aW9uIGZl\ndGNoKSB7CiAgICAgICAgcmV0dXJuIF9zdG9yZS5leGVjdXRlRXh0ZW50KG1l\ndGEsIHN1YmNsYXNzZXMsIGZldGNoKTsKICAgIH0KCiAgICBwdWJsaWMgU3Rv\ncmVRdWVyeSBuZXdRdWVyeShTdHJpbmcgbGFuZ3VhZ2UpIHsKICAgICAgICBy\nZXR1cm4gX3N0b3JlLm5ld1F1ZXJ5KGxhbmd1YWdlKTsKICAgIH0KCiAgICBw\ndWJsaWMgRmV0Y2hDb25maWd1cmF0aW9uIG5ld0ZldGNoQ29uZmlndXJhdGlv\nbigpIHsKICAgICAgICByZXR1cm4gX3N0b3JlLm5ld0ZldGNoQ29uZmlndXJh\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgewogICAg\nICAgIF9zdG9yZS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgY29t\ncGFyZVZlcnNpb24oT3BlbkpQQVN0YXRlTWFuYWdlciBzdGF0ZSwgT2JqZWN0\nIHYxLCBPYmplY3QgdjIpIHsKICAgICAgICByZXR1cm4gX3N0b3JlLmNvbXBh\ncmVWZXJzaW9uKHN0YXRlLCB2MSwgdjIpOwogICAgfQoKICAgIHB1YmxpYyBT\nZXEgZ2V0RGF0YVN0b3JlSWRTZXF1ZW5jZShDbGFzc01ldGFEYXRhIGZvckNs\nYXNzKSB7CiAgICAgICAgcmV0dXJuIF9zdG9yZS5nZXREYXRhU3RvcmVJZFNl\ncXVlbmNlKGZvckNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgU2VxIGdldFZh\nbHVlU2VxdWVuY2UoRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAgICByZXR1\ncm4gX3N0b3JlLmdldFZhbHVlU2VxdWVuY2UoZm1kKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBjYW5jZWxBbGwoKSB7CiAgICAgICAgcmV0dXJuIF9z\ndG9yZS5jYW5jZWxBbGwoKTsKCX0KfQo=\n","encoding":"base64"}

