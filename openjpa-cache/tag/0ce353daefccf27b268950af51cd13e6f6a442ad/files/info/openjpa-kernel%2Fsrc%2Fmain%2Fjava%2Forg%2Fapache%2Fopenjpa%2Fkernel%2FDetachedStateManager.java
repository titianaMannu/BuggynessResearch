{"sha":"6a44c041d26435540ea76d34fff505cdd35e7b48","node_id":"MDQ6QmxvYjIwNjM2NDo2YTQ0YzA0MWQyNjQzNTU0MGVhNzZkMzRmZmY1MDVjZGQzNWU3YjQ4","size":27572,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6a44c041d26435540ea76d34fff505cdd35e7b48","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsK\naW1wb3J0IGphdmEuaW8uT2JqZWN0T3V0cHV0OwppbXBvcnQgamF2YS5pby5T\nZXJpYWxpemFibGU7CmltcG9ydCBqYXZhLnV0aWwuQml0U2V0OwppbXBvcnQg\namF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNlLlBlcnNpc3RlbmNl\nQ2FwYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNlLlN0\nYXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRp\nbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0\naWwuY29uY3VycmVudC5SZWVudHJhbnRMb2NrOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5tZXRhLkZpZWxkTWV0YURhdGE7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubWV0YS5KYXZhVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubWV0YS5WYWx1ZU1ldGFEYXRhOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnV0aWwuUHJveHk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEudXRpbC5VbnN1cHBvcnRlZEV4Y2VwdGlvbjsKCi8qKgogKiBJbnRlcm5h\nbCBzdGF0ZSBtYW5hZ2VyIGZvciBkZXRhY2hlZCBpbnN0YW5jZXMuIERvZXMg\nbm90IGZ1bGx5CiAqIGltcGxlbWVudCB7QGxpbmsgT3BlbkpQQVN0YXRlTWFu\nYWdlcn0gY29udHJhY3QgdG8gYWxsb3cgZm9yIHNlcmlhbGl6YXRpb24uCiAq\nCiAqIEBhdXRob3IgU3RldmUgS2ltCiAqIEBub2phdmFkb2MKICovCnB1Ymxp\nYyBjbGFzcyBEZXRhY2hlZFN0YXRlTWFuYWdlcgogICAgZXh0ZW5kcyBBdHRh\nY2hTdHJhdGVneQogICAgaW1wbGVtZW50cyBPcGVuSlBBU3RhdGVNYW5hZ2Vy\nLCBTZXJpYWxpemFibGUgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExv\nY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAo\nRGV0YWNoZWRTdGF0ZU1hbmFnZXIuY2xhc3MpOwoKICAgIHByaXZhdGUgZmlu\nYWwgUGVyc2lzdGVuY2VDYXBhYmxlIF9wYzsKICAgIHByaXZhdGUgZmluYWwg\nYm9vbGVhbiBfZW1iZWRkZWQ7CiAgICBwcml2YXRlIGZpbmFsIGJvb2xlYW4g\nX2FjY2VzczsKICAgIHByaXZhdGUgZmluYWwgQml0U2V0IF9sb2FkZWQ7CiAg\nICBwcml2YXRlIGZpbmFsIEJpdFNldCBfZGlydHk7CiAgICBwcml2YXRlIGZp\nbmFsIE9iamVjdCBfb2lkOwogICAgcHJpdmF0ZSBmaW5hbCBPYmplY3QgX3Zl\ncnNpb247CiAgICBwcml2YXRlIGZpbmFsIFJlZW50cmFudExvY2sgX2xvY2s7\nCgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4KICAgICAqCiAgICAgKiBA\ncGFyYW0gcGMgdGhlIG1hbmFnZWQgaW5zdGFuY2UKICAgICAqIEBwYXJhbSBz\nbSB0aGUgaW5zdGFuY2UncyBzdGF0ZSBtYW5hZ2VyCiAgICAgKiBAcGFyYW0g\nbG9hZCB0aGUgc2V0IG9mIGRldGFjaGVkIGZpZWxkIGluZGV4ZXMKICAgICAq\nIEBwYXJhbSBhY2Nlc3Mgd2hldGhlciB0byBhbGxvdyBhY2Nlc3MgdG8gdW5s\nb2FkZWQgZmllbGRzCiAgICAgKiBAcGFyYW0gbXVsdGl0aHJlYWRlZCB3aGV0\naGVyIHRoZSBpbnN0YW5jZSB3aWxsIGJlIHVzZWQgY29uY3VycmVudGx5CiAg\nICAgKiBieSBtdWx0aXBsZSB0aHJlYWRzCiAgICAgKi8KICAgIHB1YmxpYyBE\nZXRhY2hlZFN0YXRlTWFuYWdlcihQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIE9w\nZW5KUEFTdGF0ZU1hbmFnZXIgc20sCiAgICAgICAgQml0U2V0IGxvYWQsIGJv\nb2xlYW4gYWNjZXNzLCBib29sZWFuIG11bHRpdGhyZWFkZWQpIHsKICAgICAg\nICBfcGMgPSBwYzsKICAgICAgICBfZW1iZWRkZWQgPSBzbS5pc0VtYmVkZGVk\nKCk7CiAgICAgICAgX2xvYWRlZCA9IGxvYWQ7CiAgICAgICAgX2FjY2VzcyA9\nIGFjY2VzczsKICAgICAgICBfZGlydHkgPSBuZXcgQml0U2V0KF9sb2FkZWQu\nbGVuZ3RoKCkpOwogICAgICAgIF9vaWQgPSBzbS5mZXRjaE9iamVjdElkKCk7\nCiAgICAgICAgX3ZlcnNpb24gPSBzbS5nZXRWZXJzaW9uKCk7CiAgICAgICAg\naWYgKG11bHRpdGhyZWFkZWQpCiAgICAgICAgICAgIF9sb2NrID0gbmV3IFJl\nZW50cmFudExvY2soKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIF9sb2Nr\nID0gbnVsbDsKICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8KICAgIC8vIEF0dGFjaFN0cmF0ZWd5IGltcGxlbWVudGF0aW9u\nCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBw\ndWJsaWMgT2JqZWN0IGF0dGFjaChBdHRhY2hNYW5hZ2VyIG1hbmFnZXIsIE9i\namVjdCB0b0F0dGFjaCwKICAgICAgICBDbGFzc01ldGFEYXRhIG1ldGEsIFBl\ncnNpc3RlbmNlQ2FwYWJsZSBpbnRvLCBPcGVuSlBBU3RhdGVNYW5hZ2VyIG93\nbmVyLAogICAgICAgIFZhbHVlTWV0YURhdGEgb3duZXJNZXRhLCBib29sZWFu\nIGV4cGxpY2l0KSB7CiAgICAgICAgQnJva2VySW1wbCBicm9rZXIgPSBtYW5h\nZ2VyLmdldEJyb2tlcigpOwogICAgICAgIFN0YXRlTWFuYWdlckltcGwgc20g\nPSBudWxsOwogICAgICAgIGlmIChfZW1iZWRkZWQpIHsKICAgICAgICAgICAg\nc20gPSAoU3RhdGVNYW5hZ2VySW1wbCkgYnJva2VyLmVtYmVkKF9wYywgX29p\nZCwgb3duZXIsIG93bmVyTWV0YSk7CiAgICAgICAgICAgICgoUGVyc2lzdGVu\nY2VDYXBhYmxlKSB0b0F0dGFjaCkucGNSZXBsYWNlU3RhdGVNYW5hZ2VyKHRo\naXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFBDU3RhdGUgc3Rh\ndGUgPSAoX2RpcnR5Lmxlbmd0aCgpID4gMCkgPyBQQ1N0YXRlLlBESVJUWQog\nICAgICAgICAgICAgICAgOiBQQ1N0YXRlLlBDTEVBTjsKICAgICAgICAgICAg\nc20gPSAoU3RhdGVNYW5hZ2VySW1wbCkgYnJva2VyLmNvcHkodGhpcywgc3Rh\ndGUpOwogICAgICAgIH0KICAgICAgICBQZXJzaXN0ZW5jZUNhcGFibGUgcGMg\nPSBzbS5nZXRQZXJzaXN0ZW5jZUNhcGFibGUoKTsKICAgICAgICBtYW5hZ2Vy\nLnNldEF0dGFjaGVkQ29weSh0b0F0dGFjaCwgcGMpOwoKICAgICAgICBtYW5h\nZ2VyLmZpcmVCZWZvcmVBdHRhY2godG9BdHRhY2gsIG1ldGEpOwoKICAgICAg\nICAvLyBwcmUtbG9hZCBmb3IgZWZmaWNpZW5jeTogY3VycmVudCBmaWVsZCB2\nYWx1ZXMgZm9yIHJlc3RvcmUsIGRlcGVuZGVudAogICAgICAgIC8vIGZvciBk\nZWxldGUKICAgICAgICBGaWVsZE1ldGFEYXRhW10gZmllbGRzID0gbWV0YS5n\nZXRGaWVsZHMoKTsKICAgICAgICBpbnQgcmVzdG9yZSA9IGJyb2tlci5nZXRS\nZXN0b3JlU3RhdGUoKTsKICAgICAgICBpZiAoX2RpcnR5Lmxlbmd0aCgpID4g\nMCkgewogICAgICAgICAgICBCaXRTZXQgbG9hZCA9IChCaXRTZXQpIF9kaXJ0\neS5jbG9uZSgpOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGZp\nZWxkcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKCFsb2Fk\nLmdldChpKSkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAg\nICAgICAgICAgICBzd2l0Y2ggKGZpZWxkc1tpXS5nZXREZWNsYXJlZFR5cGVD\nb2RlKCkpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5B\nUlJBWToKICAgICAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DT0xM\nRUNUSU9OOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdG9yZSA9\nPSBSZXN0b3JlU3RhdGUuUkVTVE9SRV9BTEwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIHx8IGZpZWxkc1tpXS5nZXRFbGVtZW50KCkuZ2V0Q2FzY2Fk\nZURlbGV0ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PSBWYWx1\nZU1ldGFEYXRhLkNBU0NBREVfQVVUTykKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIGxvYWQuc2V0KGkpOwogICAgICAgICAgICAgICAgICAgICAgICBi\ncmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5NQVA6\nCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN0b3JlID09IFJlc3Rv\ncmVTdGF0ZS5SRVNUT1JFX0FMTAogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgfHwgZmllbGRzW2ldLmdldEVsZW1lbnQoKS5nZXRDYXNjYWRlRGVsZXRl\nKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgID09IFZhbHVlTWV0YURh\ndGEuQ0FTQ0FERV9BVVRPCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8\nfCBmaWVsZHNbaV0uZ2V0S2V5KCkuZ2V0Q2FzY2FkZURlbGV0ZSgpCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICA9PSBWYWx1ZU1ldGFEYXRhLkNBU0NB\nREVfQVVUTykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQuc2V0\nKGkpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAg\nICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICBp\nZiAocmVzdG9yZSAhPSBSZXN0b3JlU3RhdGUuUkVTVE9SRV9OT05FCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICB8fCBmaWVsZHNbaV0uZ2V0Q2FzY2Fk\nZURlbGV0ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PSBWYWx1\nZU1ldGFEYXRhLkNBU0NBREVfQVVUTykKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIGxvYWQuc2V0KGkpOwogICAgICAgICAgICAgICAgfQogICAgICAg\nICAgICB9CiAgICAgICAgICAgIEZldGNoQ29uZmlndXJhdGlvbiBmYyA9IGJy\nb2tlci5nZXRGZXRjaENvbmZpZ3VyYXRpb24oKTsKICAgICAgICAgICAgc20u\nbG9hZEZpZWxkcyhsb2FkLCBmYywgZmMuZ2V0V3JpdGVMb2NrTGV2ZWwoKSwg\nbnVsbCwgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIHNtLnNldFZlcnNpb24o\nX3ZlcnNpb24pOwoKICAgICAgICBCaXRTZXQgbG9hZGVkID0gc20uZ2V0TG9h\nZGVkKCk7CiAgICAgICAgaW50IHNldCA9IFN0YXRlTWFuYWdlci5TRVRfQVRU\nQUNIOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0\naDsgaSsrKSB7CiAgICAgICAgICAgIGlmICghX2xvYWRlZC5nZXQoaSkpCiAg\nICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgLy8gZG9uJ3Qg\ncmVsb2FkIGFscmVhZHkgbG9hZGVkIG5vbi1tdXRhYmxlIG9iamVjdHMKICAg\nICAgICAgICAgaWYgKCFfZGlydHkuZ2V0KGkpICYmIGxvYWRlZC5nZXQoaSkg\nJiYgaWdub3JlTG9hZGVkKGZpZWxkc1tpXSkpCiAgICAgICAgICAgICAgICBj\nb250aW51ZTsKCiAgICAgICAgICAgIHByb3ZpZGVGaWVsZChpKTsKICAgICAg\nICAgICAgc3dpdGNoIChmaWVsZHNbaV0uZ2V0RGVjbGFyZWRUeXBlQ29kZSgp\nKSB7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFOOgog\nICAgICAgICAgICAgICAgICAgIGlmIChfZGlydHkuZ2V0KGkpKQogICAgICAg\nICAgICAgICAgICAgICAgICBzbS5zZXR0aW5nQm9vbGVhbkZpZWxkKHBjLCBp\nLCAoIWxvYWRlZC5nZXQoaSkpID8gZmFsc2UKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIDogc20uZmV0Y2hCb29sZWFuRmllbGQoaSksIGxvbmd2YWwg\nPT0gMSwgc2V0KTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAg\nICAgICAgICAgICAgICAgIHNtLnN0b3JlQm9vbGVhbkZpZWxkKGksIGxvbmd2\nYWwgPT0gMSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5CWVRFOgogICAgICAgICAgICAgICAg\nICAgIGlmIChfZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgICAg\nICBzbS5zZXR0aW5nQnl0ZUZpZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkp\nID8gKGJ5dGUpIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc20u\nZmV0Y2hCeXRlRmllbGQoaSksIChieXRlKSBsb25ndmFsLCBzZXQpOwogICAg\nICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAg\nc20uc3RvcmVCeXRlRmllbGQoaSwgKGJ5dGUpIGxvbmd2YWwpOwogICAgICAg\nICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuQ0hBUjoKICAgICAgICAgICAgICAgICAgICBpZiAoX2RpcnR5Lmdl\ndChpKSkKICAgICAgICAgICAgICAgICAgICAgICAgc20uc2V0dGluZ0NoYXJG\naWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0KGkpKSA/IChjaGFyKSAwCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICA6IHNtLmZldGNoQ2hhckZpZWxkKGkp\nLCAoY2hhcikgbG9uZ3ZhbCwgc2V0KTsKICAgICAgICAgICAgICAgICAgICBl\nbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0b3JlQ2hhckZpZWxk\nKGksIChjaGFyKSBsb25ndmFsKTsKICAgICAgICAgICAgICAgICAgICBicmVh\nazsKICAgICAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklOVDoKICAgICAg\nICAgICAgICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAgICAg\nICAgICAgICAgICAgc20uc2V0dGluZ0ludEZpZWxkKHBjLCBpLCAoIWxvYWRl\nZC5nZXQoaSkpID8gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBz\nbS5mZXRjaEludEZpZWxkKGkpLCAoaW50KSBsb25ndmFsLCBzZXQpOwogICAg\nICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAg\nc20uc3RvcmVJbnRGaWVsZChpLCAoaW50KSBsb25ndmFsKTsKICAgICAgICAg\nICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSmF2YVR5\ncGVzLkxPTkc6CiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5nZXQo\naSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRpbmdMb25nRmll\nbGQocGMsIGksICghbG9hZGVkLmdldChpKSkgPyAwTAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgOiBzbS5mZXRjaExvbmdGaWVsZChpKSwgbG9uZ3Zh\nbCwgc2V0KTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAg\nICAgICAgICAgICAgIHNtLnN0b3JlTG9uZ0ZpZWxkKGksIGxvbmd2YWwpOwog\nICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuU0hPUlQ6CiAgICAgICAgICAgICAgICAgICAgaWYgKF9k\naXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRp\nbmdTaG9ydEZpZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gKHNob3J0\nKSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNtLmZldGNoU2hv\ncnRGaWVsZChpKSwgKHNob3J0KSBsb25ndmFsLCBzZXQpOwogICAgICAgICAg\nICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgc20uc3Rv\ncmVTaG9ydEZpZWxkKGksIChzaG9ydCkgbG9uZ3ZhbCk7CiAgICAgICAgICAg\nICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5GTE9BVDoKICAgICAgICAgICAgICAgICAgICBpZiAoX2RpcnR5LmdldChp\nKSkKICAgICAgICAgICAgICAgICAgICAgICAgc20uc2V0dGluZ0Zsb2F0Rmll\nbGQocGMsIGksICghbG9hZGVkLmdldChpKSkgPyAwRgogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgOiBzbS5mZXRjaEZsb2F0RmllbGQoaSksIChmbG9h\ndCkgZGJsdmFsLCBzZXQpOwogICAgICAgICAgICAgICAgICAgIGVsc2UKICAg\nICAgICAgICAgICAgICAgICAgICAgc20uc3RvcmVGbG9hdEZpZWxkKGksIChm\nbG9hdCkgZGJsdmFsKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAg\nICAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkRPVUJMRToKICAgICAgICAg\nICAgICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAgICAgICAg\nICAgICAgICAgc20uc2V0dGluZ0RvdWJsZUZpZWxkKHBjLCBpLCAoIWxvYWRl\nZC5nZXQoaSkpID8gMEQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDog\nc20uZmV0Y2hEb3VibGVGaWVsZChpKSwgZGJsdmFsLCBzZXQpOwogICAgICAg\nICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgc20u\nc3RvcmVEb3VibGVGaWVsZChpLCBkYmx2YWwpOwogICAgICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuU1RS\nSU5HOgogICAgICAgICAgICAgICAgICAgIGlmIChfZGlydHkuZ2V0KGkpKQog\nICAgICAgICAgICAgICAgICAgICAgICBzbS5zZXR0aW5nU3RyaW5nRmllbGQo\ncGMsIGksICghbG9hZGVkLmdldChpKSkgPyBudWxsCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICA6IHNtLmZldGNoU3RyaW5nRmllbGQoaSksIChTdHJp\nbmcpIG9ianZhbCwgc2V0KTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAg\nICAgICAgICAgICAgICAgICAgICAgIHNtLnN0b3JlU3RyaW5nRmllbGQoaSwg\nKFN0cmluZykgb2JqdmFsKTsKICAgICAgICAgICAgICAgICAgICBvYmp2YWwg\nPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAg\nICAgICAgY2FzZSBKYXZhVHlwZXMuUEM6CiAgICAgICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5QQ19VTlRZUEVEOgogICAgICAgICAgICAgICAgICAgIGlm\nIChmaWVsZHNbaV0uZ2V0Q2FzY2FkZUF0dGFjaCgpID09IFZhbHVlTWV0YURh\ndGEKICAgICAgICAgICAgICAgICAgICAgICAgLkNBU0NBREVfTk9ORSkKICAg\nICAgICAgICAgICAgICAgICAgICAgb2JqdmFsID0gZ2V0UmVmZXJlbmNlKG1h\nbmFnZXIsIG9ianZhbCwgc20sIGZpZWxkc1tpXSk7CiAgICAgICAgICAgICAg\nICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFBlcnNpc3Rl\nbmNlQ2FwYWJsZSB0b1BDID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAg\nICAgaWYgKG9ianZhbCAhPSBudWxsICYmIGZpZWxkc1tpXS5pc0VtYmVkZGVk\nUEMoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvUEMgPSAoUGVy\nc2lzdGVuY2VDYXBhYmxlKSBvYmp2YWw7CiAgICAgICAgICAgICAgICAgICAg\nICAgIG9ianZhbCA9IG1hbmFnZXIuYXR0YWNoKG9ianZhbCwgdG9QQywgc20s\nIGZpZWxkc1tpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNl\nKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg\naWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNt\nLnNldHRpbmdPYmplY3RGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0KGkpKSA/\nIG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc20uZmV0Y2hP\nYmplY3RGaWVsZChpKSwgb2JqdmFsLCBzZXQpOwogICAgICAgICAgICAgICAg\nICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgc20uc3RvcmVPYmpl\nY3RGaWVsZChpLCBvYmp2YWwpOwogICAgICAgICAgICAgICAgICAgIG9ianZh\nbCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5DT0xMRUNUSU9OOgogICAgICAgICAg\nICAgICAgICAgIENvbGxlY3Rpb24gY29sbCA9IChDb2xsZWN0aW9uKSBvYmp2\nYWw7CiAgICAgICAgICAgICAgICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAg\nICAgICAgICAgICAgICBpZiAoY29sbCAhPSBudWxsKQogICAgICAgICAgICAg\nICAgICAgICAgICBjb2xsID0gYXR0YWNoQ29sbGVjdGlvbihtYW5hZ2VyLCBj\nb2xsLCBzbSwgZmllbGRzW2ldKTsKICAgICAgICAgICAgICAgICAgICBpZiAo\nX2RpcnR5LmdldChpKSkKICAgICAgICAgICAgICAgICAgICAgICAgc20uc2V0\ndGluZ09iamVjdEZpZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gbnVs\nbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaE9iamVj\ndEZpZWxkKGkpLCBjb2xsLCBzZXQpOwogICAgICAgICAgICAgICAgICAgIGVs\nc2UKICAgICAgICAgICAgICAgICAgICAgICAgc20uc3RvcmVPYmplY3RGaWVs\nZChpLCBjb2xsKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLk1BUDoKICAgICAgICAgICAgICAg\nICAgICBNYXAgbWFwID0gKE1hcCkgb2JqdmFsOwogICAgICAgICAgICAgICAg\nICAgIG9ianZhbCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1h\ncCAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgICAgICBtYXAgPSBhdHRh\nY2hNYXAobWFuYWdlciwgbWFwLCBzbSwgZmllbGRzW2ldKTsKICAgICAgICAg\nICAgICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAgICAgICAg\nICAgICAgICAgc20uc2V0dGluZ09iamVjdEZpZWxkKHBjLCBpLCAoIWxvYWRl\nZC5nZXQoaSkpID8gbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nOiBzbS5mZXRjaE9iamVjdEZpZWxkKGkpLCBtYXAsIHNldCk7CiAgICAgICAg\nICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBzbS5z\ndG9yZU9iamVjdEZpZWxkKGksIG1hcCk7CiAgICAgICAgICAgICAgICAgICAg\nYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAg\nICAgICAgIGlmIChfZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAg\nICAgICBzbS5zZXR0aW5nT2JqZWN0RmllbGQocGMsIGksICghbG9hZGVkLmdl\ndChpKSkgPyBudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNt\nLmZldGNoT2JqZWN0RmllbGQoaSksIG9ianZhbCwgc2V0KTsKICAgICAgICAg\nICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0\nb3JlT2JqZWN0RmllbGQoaSwgb2JqdmFsKTsKICAgICAgICAgICAgICAgICAg\nICBvYmp2YWwgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAg\nICAgIHBjLnBjUmVwbGFjZVN0YXRlTWFuYWdlcihzbSk7CiAgICAgICAgcmV0\ndXJuIHNtLmdldE1hbmFnZWRJbnN0YW5jZSgpOwogICAgfQoKICAgIHByb3Rl\nY3RlZCBPYmplY3QgZ2V0RGV0YWNoZWRPYmplY3RJZChBdHRhY2hNYW5hZ2Vy\nIG1hbmFnZXIsCiAgICAgICAgT2JqZWN0IHRvQXR0YWNoKSB7CiAgICAgICAg\ncmV0dXJuIF9vaWQ7CiAgICB9CgogICAgdm9pZCBwcm92aWRlRmllbGQoaW50\nIGZpZWxkKSB7CiAgICAgICAgX3BjLnBjUHJvdmlkZUZpZWxkKGZpZWxkKTsK\nICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBwcm92aWRlRmllbGQoT2JqZWN0\nIHRvQXR0YWNoLCBTdGF0ZU1hbmFnZXJJbXBsIHNtLAogICAgICAgIGludCBm\naWVsZCkgewogICAgICAgIHByb3ZpZGVGaWVsZChmaWVsZCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBJZ25vcmUgaWYgdGhlIGZpZWxkIGlzIG5vdCBkaXJ0\neSBidXQgbG9hZGVkCiAgICAgKi8KICAgIHByb3RlY3RlZCBzdGF0aWMgYm9v\nbGVhbiBpZ25vcmVMb2FkZWQoRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAg\nICBzd2l0Y2ggKGZtZC5nZXRUeXBlQ29kZSgpKSB7CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkJPT0xFQU46CiAgICAgICAgICAgIGNhc2UgSmF2YVR5\ncGVzLkJPT0xFQU5fT0JKOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5C\nWVRFOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CWVRFX09CSjoKICAg\nICAgICAgICAgY2FzZSBKYXZhVHlwZXMuSU5UOgogICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5JTlRfT0JKOgogICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5MT05HOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5MT05HX09CSjoK\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuU0hPUlQ6CiAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLlNIT1JUX09CSjoKICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuRE9VQkxFOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5E\nT1VCTEVfT0JKOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5GTE9BVDoK\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRkxPQVRfT0JKOgogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5DSEFSOgogICAgICAgICAgICBjYXNlIEph\ndmFUeXBlcy5DSEFSX09CSjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMu\nU1RSSU5HOgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAg\nfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBTdGF0ZU1hbmFnZXIgaW1w\nbGVtZW50YXRpb24KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8KCiAgICBwdWJsaWMgT2JqZWN0IGdldEdlbmVyaWNDb250ZXh0KCkgewog\nICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyBieXRlIHJl\ncGxhY2VGbGFncygpIHsKICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VDYXBh\nYmxlLk1FRElBVEVfV1JJVEU7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBn\nZXRQQ1ByaW1hcnlLZXkoT2JqZWN0IG9pZCwgaW50IGZpZWxkKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIFN0YXRlTWFuYWdlciByZXBsYWNlU3RhdGVN\nYW5hZ2VyKFN0YXRlTWFuYWdlciBzbSkgewogICAgICAgIHJldHVybiBzbTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldFZlcnNpb24oKSB7CiAgICAg\nICAgcmV0dXJuIF92ZXJzaW9uOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFZlcnNpb24oT2JqZWN0IHZlcnNpb24pIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRFeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9v\nbGVhbiBpc0RpcnR5KCkgewogICAgICAgIHJldHVybiBfZGlydHkubGVuZ3Ro\nKCkgIT0gMDsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1RyYW5zYWN0\naW9uYWwoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGlzUGVyc2lzdGVudCgpIHsKICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNOZXcoKSB7CiAg\nICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFu\nIGlzRGVsZXRlZCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gaXNEZXRhY2hlZCgpIHsKICAgICAgICByZXR1\ncm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1ZlcnNpb25V\ncGRhdGVSZXF1aXJlZCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gaXNWZXJzaW9uQ2hlY2tSZXF1aXJlZCgp\nIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIHZv\naWQgZGlydHkoU3RyaW5nIGZpZWxkKSB7CiAgICAgICAgLy8gc2hvdWxkIHdl\nIHN0b3JlIENsYXNzTWV0YURhdGE/CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBm\nZXRjaE9iamVjdElkKCkgewogICAgICAgIHJldHVybiBfb2lkOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIGFjY2Vzc2luZ0ZpZWxkKGludCBpZHgpIHsKICAg\nICAgICBpZiAoIV9hY2Nlc3MgJiYgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAg\nICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oX2xvYy5n\nZXQoInVubG9hZGVkLWRldGFjaGVkIiwKICAgICAgICAgICAgICAgIF9wYyku\nZ2V0TWVzc2FnZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBzZXJp\nYWxpemluZygpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gd3JpdGVEZXRhY2hlZChPYmplY3RPdXRwdXQgb3V0\nKQogICAgICAgIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgb3V0Lndy\naXRlT2JqZWN0KF9wYy5wY0dldERldGFjaGVkU3RhdGUoKSk7CiAgICAgICAg\nb3V0LndyaXRlT2JqZWN0KHRoaXMpOwogICAgICAgIHJldHVybiBmYWxzZTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm94eURldGFjaGVkRGVzZXJpYWxp\nemVkKGludCBpZHgpIHsKICAgICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgX3BjLnBjUHJvdmlkZUZpZWxkKGlkeCk7CiAgICAgICAg\nICAgIGlmIChvYmp2YWwgaW5zdGFuY2VvZiBQcm94eSkKICAgICAgICAgICAg\nICAgICgoUHJveHkpIG9ianZhbCkuc2V0T3duZXIodGhpcywgaWR4KTsKICAg\nICAgICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAgICB9IGZpbmFsbHkgewog\nICAgICAgICAgICB1bmxvY2soKTsKICAgICAgICB9CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0dGluZ0Jvb2xlYW5GaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgsCiAgICAgICAgYm9vbGVhbiBjdXIsIGJvb2xlYW4g\nbmV4dCwgaW50IHNldCkgewogICAgICAgIGFjY2Vzc2luZ0ZpZWxkKGlkeCk7\nCiAgICAgICAgaWYgKGN1ciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdldChpZHgp\nKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAg\nICAgbG9uZ3ZhbCA9IG5leHQgPyAxIDogMDsKICAgICAgICAgICAgcGMucGNS\nZXBsYWNlRmllbGQoaWR4KTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAg\nICAgICB1bmxvY2soKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0dGluZ0NoYXJGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGlu\ndCBpZHgsIGNoYXIgY3VyLAogICAgICAgIGNoYXIgbmV4dCwgaW50IHNldCkg\newogICAgICAgIGFjY2Vzc2luZ0ZpZWxkKGlkeCk7CiAgICAgICAgaWYgKGN1\nciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdldChpZHgpKQogICAgICAgICAgICBy\nZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAgICAgbG9uZ3ZhbCA9IG5l\neHQ7CiAgICAgICAgICAgIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7CiAgICAg\nICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdW5sb2NrKCk7CiAgICAgICAg\nfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdCeXRlRmllbGQoUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBieXRlIGN1ciwKICAgICAg\nICBieXRlIG5leHQsIGludCBzZXQpIHsKICAgICAgICBhY2Nlc3NpbmdGaWVs\nZChpZHgpOwogICAgICAgIGlmIChjdXIgPT0gbmV4dCB8fCAhX2xvYWRlZC5n\nZXQoaWR4KSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGxvY2soKTsK\nICAgICAgICB0cnkgewogICAgICAgICAgICBfZGlydHkuc2V0KGlkeCk7CiAg\nICAgICAgICAgIGxvbmd2YWwgPSBuZXh0OwogICAgICAgICAgICBwYy5wY1Jl\ncGxhY2VGaWVsZChpZHgpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAg\nICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXR0aW5nU2hvcnRGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGlu\ndCBpZHgsIHNob3J0IGN1ciwKICAgICAgICBzaG9ydCBuZXh0LCBpbnQgc2V0\nKSB7CiAgICAgICAgYWNjZXNzaW5nRmllbGQoaWR4KTsKICAgICAgICBpZiAo\nY3VyID09IG5leHQgfHwgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgICAg\nIHJldHVybjsKICAgICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgX2RpcnR5LnNldChpZHgpOwogICAgICAgICAgICBsb25ndmFsID0g\nbmV4dDsKICAgICAgICAgICAgcGMucGNSZXBsYWNlRmllbGQoaWR4KTsKICAg\nICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2soKTsKICAgICAg\nICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGluZ0ludEZpZWxkKFBl\ncnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgaW50IGN1ciwKICAgICAg\nICBpbnQgbmV4dCwgaW50IHNldCkgewogICAgICAgIGFjY2Vzc2luZ0ZpZWxk\nKGlkeCk7CiAgICAgICAgaWYgKGN1ciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdl\ndChpZHgpKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgbG9jaygpOwog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAg\nICAgICAgICAgbG9uZ3ZhbCA9IG5leHQ7CiAgICAgICAgICAgIHBjLnBjUmVw\nbGFjZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAg\nICAgdW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldHRpbmdMb25nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQg\naWR4LCBsb25nIGN1ciwKICAgICAgICBsb25nIG5leHQsIGludCBzZXQpIHsK\nICAgICAgICBhY2Nlc3NpbmdGaWVsZChpZHgpOwogICAgICAgIGlmIChjdXIg\nPT0gbmV4dCB8fCAhX2xvYWRlZC5nZXQoaWR4KSkKICAgICAgICAgICAgcmV0\ndXJuOwogICAgICAgIGxvY2soKTsKICAgICAgICB0cnkgewogICAgICAgICAg\nICBfZGlydHkuc2V0KGlkeCk7CiAgICAgICAgICAgIGxvbmd2YWwgPSBuZXh0\nOwogICAgICAgICAgICBwYy5wY1JlcGxhY2VGaWVsZChpZHgpOwogICAgICAg\nIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nRmxvYXRGaWVsZChQZXJz\naXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGZsb2F0IGN1ciwKICAgICAg\nICBmbG9hdCBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgYWNjZXNzaW5nRmll\nbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09IG5leHQgfHwgIV9sb2FkZWQu\nZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBsb2NrKCk7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5LnNldChpZHgpOwog\nICAgICAgICAgICBkYmx2YWwgPSBuZXh0OwogICAgICAgICAgICBwYy5wY1Jl\ncGxhY2VGaWVsZChpZHgpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAg\nICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXR0aW5nRG91YmxlRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBp\nbnQgaWR4LCBkb3VibGUgY3VyLAogICAgICAgIGRvdWJsZSBuZXh0LCBpbnQg\nc2V0KSB7CiAgICAgICAgYWNjZXNzaW5nRmllbGQoaWR4KTsKICAgICAgICBp\nZiAoY3VyID09IG5leHQgfHwgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAg\nICAgIHJldHVybjsKICAgICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgX2RpcnR5LnNldChpZHgpOwogICAgICAgICAgICBkYmx2YWwg\nPSBuZXh0OwogICAgICAgICAgICBwYy5wY1JlcGxhY2VGaWVsZChpZHgpOwog\nICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAg\nICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nU3RyaW5nRmll\nbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBTdHJpbmcgY3Vy\nLAogICAgICAgIFN0cmluZyBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgYWNj\nZXNzaW5nRmllbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09IG5leHQgfHwg\nIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVybjsKICAgICAg\nICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5LnNl\ndChpZHgpOwogICAgICAgICAgICBvYmp2YWwgPSBuZXh0OwogICAgICAgICAg\nICBwYy5wY1JlcGxhY2VGaWVsZChpZHgpOwogICAgICAgIH0gZmluYWxseSB7\nCiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgICAgICBvYmp2YWwgPSBu\ndWxsOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5n\nT2JqZWN0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBP\nYmplY3QgY3VyLAogICAgICAgIE9iamVjdCBuZXh0LCBpbnQgc2V0KSB7CiAg\nICAgICAgYWNjZXNzaW5nRmllbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09\nIG5leHQgfHwgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVy\nbjsKICAgICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\nX2RpcnR5LnNldChpZHgpOwogICAgICAgICAgICBvYmp2YWwgPSBuZXh0Owog\nICAgICAgICAgICBwYy5wY1JlcGxhY2VGaWVsZChpZHgpOwogICAgICAgIH0g\nZmluYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgICAgICBv\nYmp2YWwgPSBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBwcm92aWRlZEJvb2xlYW5GaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMs\nIGludCBpZHgsCiAgICAgICAgYm9vbGVhbiBjdXIpIHsKICAgICAgICBsb25n\ndmFsID0gY3VyID8gMSA6IDA7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJv\ndmlkZWRDaGFyRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4\nLCBjaGFyIGN1cikgewogICAgICAgIGxvbmd2YWwgPSBjdXI7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgcHJvdmlkZWRCeXRlRmllbGQoUGVyc2lzdGVuY2VD\nYXBhYmxlIHBjLCBpbnQgaWR4LCBieXRlIGN1cikgewogICAgICAgIGxvbmd2\nYWwgPSBjdXI7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRTaG9y\ndEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgc2hvcnQg\nY3VyKSB7CiAgICAgICAgbG9uZ3ZhbCA9IGN1cjsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBwcm92aWRlZEludEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBw\nYywgaW50IGlkeCwgaW50IGN1cikgewogICAgICAgIGxvbmd2YWwgPSBjdXI7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRMb25nRmllbGQoUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBsb25nIGN1cikgewogICAg\nICAgIGxvbmd2YWwgPSBjdXI7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJv\ndmlkZWRGbG9hdEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlk\neCwgZmxvYXQgY3VyKSB7CiAgICAgICAgZGJsdmFsID0gY3VyOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkRG91YmxlRmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIGRvdWJsZSBjdXIpIHsK\nICAgICAgICBkYmx2YWwgPSBjdXI7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ncHJvdmlkZWRTdHJpbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGlu\ndCBpZHgsCiAgICAgICAgU3RyaW5nIGN1cikgewogICAgICAgIG9ianZhbCA9\nIGN1cjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZE9iamVjdEZp\nZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAgICBP\nYmplY3QgY3VyKSB7CiAgICAgICAgb2JqdmFsID0gY3VyOwogICAgfQoKICAg\nIHB1YmxpYyBib29sZWFuIHJlcGxhY2VCb29sZWFuRmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgcmV0dXJuIGxvbmd2\nYWwgPT0gMTsKICAgIH0KCiAgICBwdWJsaWMgY2hhciByZXBsYWNlQ2hhckZp\nZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAgICAg\nIHJldHVybiAoY2hhcikgbG9uZ3ZhbDsKICAgIH0KCiAgICBwdWJsaWMgYnl0\nZSByZXBsYWNlQnl0ZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50\nIGlkeCkgewogICAgICAgIHJldHVybiAoYnl0ZSkgbG9uZ3ZhbDsKICAgIH0K\nCiAgICBwdWJsaWMgc2hvcnQgcmVwbGFjZVNob3J0RmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgcmV0dXJuIChzaG9y\ndCkgbG9uZ3ZhbDsKICAgIH0KCiAgICBwdWJsaWMgaW50IHJlcGxhY2VJbnRG\naWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAg\nICByZXR1cm4gKGludCkgbG9uZ3ZhbDsKICAgIH0KCiAgICBwdWJsaWMgbG9u\nZyByZXBsYWNlTG9uZ0ZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50\nIGlkeCkgewogICAgICAgIHJldHVybiBsb25ndmFsOwogICAgfQoKICAgIHB1\nYmxpYyBmbG9hdCByZXBsYWNlRmxvYXRGaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4gKGZsb2F0KSBkYmx2\nYWw7CiAgICB9CgogICAgcHVibGljIGRvdWJsZSByZXBsYWNlRG91YmxlRmll\nbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAg\ncmV0dXJuIGRibHZhbDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIHJlcGxh\nY2VTdHJpbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgp\nIHsKICAgICAgICBTdHJpbmcgc3RyID0gKFN0cmluZykgb2JqdmFsOwogICAg\nICAgIG9ianZhbCA9IG51bGw7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IHJlcGxhY2VPYmplY3RGaWVsZChQZXJzaXN0\nZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICBPYmplY3QgcmV0\nID0gb2JqdmFsOwogICAgICAgIG9ianZhbCA9IG51bGw7CiAgICAgICAgcmV0\ndXJuIHJldDsKICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLwogICAgLy8gT3BlbkpQQVN0YXRlTWFuYWdlciBpbXBs\nZW1lbnRhdGlvbgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8KCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKENsYXNzIGZv\nclR5cGUsIFBDU3RhdGUgc3RhdGUpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBsb2FkKEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCkgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0TWFuYWdlZEluc3RhbmNl\nKCkgewogICAgICAgIHJldHVybiBfcGM7CiAgICB9CgogICAgcHVibGljIFBl\ncnNpc3RlbmNlQ2FwYWJsZSBnZXRQZXJzaXN0ZW5jZUNhcGFibGUoKSB7CiAg\nICAgICAgcmV0dXJuIF9wYzsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3NNZXRh\nRGF0YSBnZXRNZXRhRGF0YSgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nT3BlbkpQQVN0YXRlTWFuYWdlciBnZXRPd25lcigpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgVmFsdWVNZXRhRGF0YSBnZXRPd25lck1ldGFEYXRhKCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRW1iZWRkZWQo\nKSB7CiAgICAgICAgcmV0dXJuIF9lbWJlZGRlZDsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBpc0ZsdXNoZWQoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gaXNGbHVzaGVkRGlydHkoKSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gaXNQcm92aXNpb25hbCgpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgQml0U2V0IGdldExvYWRlZCgpIHsKICAgICAgICBy\nZXR1cm4gX2xvYWRlZDsKICAgIH0KCiAgICBwdWJsaWMgQml0U2V0IGdldERp\ncnR5KCkgewogICAgICAgIHJldHVybiBfZGlydHk7CiAgICB9CgogICAgcHVi\nbGljIEJpdFNldCBnZXRGbHVzaGVkKCkgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyBCaXRTZXQgZ2V0VW5sb2FkZWQoRmV0Y2hDb25maWd1cmF0aW9uIGZl\ndGNoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBuZXdQcm94\neShpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0\nIG5ld0ZpZWxkUHJveHkoaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gaXNEZWZhdWx0VmFsdWUoaW50IGZpZWxkKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIFN0b3JlQ29udGV4dCBnZXRDb250ZXh0\nKCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyBQ\nQ1N0YXRlIGdldFBDU3RhdGUoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIE9iamVjdCBnZXRPYmplY3RJZCgpIHsKICAgICAgICByZXR1cm4gX29pZDsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRPYmplY3RJZChPYmplY3Qgb2lk\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gYXNzaWduT2Jq\nZWN0SWQoYm9vbGVhbiBmbHVzaCkgewogICAgICAgIHJldHVybiB0cnVlOwog\nICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0SWQoKSB7CiAgICAgICAgcmV0\ndXJuIGdldE9iamVjdElkKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBn\nZXRMb2NrKCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExv\nY2soT2JqZWN0IGxvY2spIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXROZXh0VmVyc2lvbihPYmplY3QgdmVyc2lvbikgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0SW1wbERhdGEoKSB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIE9iamVjdCBzZXRJbXBsRGF0YShPYmplY3QgZGF0\nYSwgYm9vbGVhbiBjYWNoZWFibGUpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBpc0ltcGxEYXRhQ2FjaGVhYmxlKCkgewogICAgICAgIHJl\ndHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldEltcGxE\nYXRhKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmpl\nY3Qgc2V0SW1wbERhdGEoaW50IGZpZWxkLCBPYmplY3QgZGF0YSkgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzSW1wbERhdGFDYWNoZWFi\nbGUoaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVj\ndCBnZXRJbnRlcm1lZGlhdGUoaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0SW50ZXJtZWRpYXRlKGludCBmaWVsZCwgT2Jq\nZWN0IGRhdGEpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZW1v\ndmVkKGludCBmaWVsZCwgT2JqZWN0IHJlbW92ZWQsIGJvb2xlYW4ga2V5KSB7\nCiAgICAgICAgZGlydHkoZmllbGQpOwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGJlZm9yZVJlZnJlc2goYm9vbGVhbiBhbGwpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBkaXJ0eShpbnQgZmllbGQpIHsKICAgICAgICBs\nb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5LnNldChm\naWVsZCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdW5sb2Nr\nKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlQm9v\nbGVhbihpbnQgZmllbGQsIGJvb2xlYW4gZXh0VmFsKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc3RvcmVCeXRlKGludCBmaWVsZCwgYnl0ZSBl\neHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUNo\nYXIoaW50IGZpZWxkLCBjaGFyIGV4dFZhbCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHN0b3JlSW50KGludCBmaWVsZCwgaW50IGV4dFZhbCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlU2hvcnQoaW50\nIGZpZWxkLCBzaG9ydCBleHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzdG9yZUxvbmcoaW50IGZpZWxkLCBsb25nIGV4dFZhbCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlRmxvYXQoaW50IGZp\nZWxkLCBmbG9hdCBleHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzdG9yZURvdWJsZShpbnQgZmllbGQsIGRvdWJsZSBleHRWYWwpIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZVN0cmluZyhpbnQg\nZmllbGQsIFN0cmluZyBleHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzdG9yZU9iamVjdChpbnQgZmllbGQsIE9iamVjdCBleHRWYWwp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZShpbnQgZmll\nbGQsIE9iamVjdCBleHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzdG9yZUZpZWxkKGludCBmaWVsZCwgT2JqZWN0IHZhbHVlKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZmV0Y2hCb29sZWFuKGlu\ndCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBieXRlIGZldGNo\nQnl0ZShpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgY2hh\nciBmZXRjaENoYXIoaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIHNob3J0IGZldGNoU2hvcnQoaW50IGZpZWxkKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIGludCBmZXRjaEludChpbnQgZmllbGQpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgbG9uZyBmZXRjaExvbmcoaW50IGZpZWxkKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIGZsb2F0IGZldGNoRmxvYXQoaW50\nIGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGRvdWJsZSBmZXRj\naERvdWJsZShpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nU3RyaW5nIGZldGNoU3RyaW5nKGludCBmaWVsZCkgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyBPYmplY3QgZmV0Y2hPYmplY3QoaW50IGZpZWxkKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRjaChpbnQgZmllbGQp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoRmllbGQo\naW50IGZpZWxkLCBib29sZWFuIHRyYW5zaXRpb25zKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIE9iamVjdCBmZXRjaEluaXRpYWxGaWVsZChpbnQgZmll\nbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSZW1vdGUo\naW50IGZpZWxkLCBPYmplY3QgdmFsdWUpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBsb2NrKCkgewogICAgICAgIGlmIChfbG9jayAhPSBudWxs\nKQogICAgICAgICAgICBfbG9jay5sb2NrKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdW5sb2NrKCkgewogICAgICAgIGlmIChfbG9jayAhPSBudWxsKQog\nICAgICAgICAgICBfbG9jay51bmxvY2soKTsKCX0KfQo=\n","encoding":"base64"}

