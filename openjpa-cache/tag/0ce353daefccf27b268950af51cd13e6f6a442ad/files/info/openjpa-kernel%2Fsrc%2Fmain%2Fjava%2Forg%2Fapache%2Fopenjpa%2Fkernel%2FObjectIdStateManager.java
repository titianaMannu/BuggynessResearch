{"sha":"bd293f2ea1d250ed0bf0ae4174eae0366b353bfd","node_id":"MDQ6QmxvYjIwNjM2NDpiZDI5M2YyZWExZDI1MGVkMGJmMGFlNDE3NGVhZTAzNjZiMzUzYmZk","size":20798,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bd293f2ea1d250ed0bf0ae4174eae0366b353bfd","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsK\naW1wb3J0IGphdmEuaW8uT2JqZWN0T3V0cHV0OwppbXBvcnQgamF2YS5sYW5n\nLnJlZmxlY3QuRmllbGQ7CmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5NZXRo\nb2Q7CmltcG9ydCBqYXZhLnV0aWwuQml0U2V0OwoKaW1wb3J0IG9yZy5hcGFj\naGUuY29tbW9ucy5sYW5nLlN0cmluZ1V0aWxzOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmVuaGFuY2UuUGVyc2lzdGVuY2VDYXBhYmxlOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmVuaGFuY2UuU3RhdGVNYW5hZ2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0YTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkZpZWxkTWV0YURhdGE7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5KYXZhVHlwZXM7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5WYWx1ZU1ldGFEYXRhOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuR2VuZXJhbEV4Y2VwdGlvbjsK\naW1wb3J0IHNlcnAudXRpbC5OdW1iZXJzOwoKLyoqCiAqIFN0YXRlIG1hbmFn\nZXIgdXNlZCB0byBhY2Nlc3Mgc3RhdGUgb2YgZW1iZWRkZWQgb2JqZWN0IGlk\nIHByaW1hcnkga2V5IGZpZWxkcy4KICoKICogQGF1dGhvciBBYmUgV2hpdGUK\nICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIE9iamVjdElkU3RhdGVN\nYW5hZ2VyCiAgICBpbXBsZW1lbnRzIE9wZW5KUEFTdGF0ZU1hbmFnZXIgewoK\nICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIEJ5dGUgWkVST19CWVRFID0gbmV3\nIEJ5dGUoKGJ5dGUpIDApOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQ2hh\ncmFjdGVyIFpFUk9fQ0hBUiA9IG5ldyBDaGFyYWN0ZXIoKGNoYXIpIDApOwog\nICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgRG91YmxlIFpFUk9fRE9VQkxFID0g\nbmV3IERvdWJsZSgwKTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIEZsb2F0\nIFpFUk9fRkxPQVQgPSBuZXcgRmxvYXQoMCk7CiAgICBwcml2YXRlIHN0YXRp\nYyBmaW5hbCBTaG9ydCBaRVJPX1NIT1JUID0gbmV3IFNob3J0KChzaG9ydCkg\nMCk7CgogICAgcHJpdmF0ZSBPYmplY3QgX29pZDsKICAgIHByaXZhdGUgZmlu\nYWwgT3BlbkpQQVN0YXRlTWFuYWdlciBfb3duZXI7CiAgICBwcml2YXRlIGZp\nbmFsIFZhbHVlTWV0YURhdGEgX3ZtZDsKCiAgICAvKioKICAgICAqIENvbnN0\ncnVjdG9yOyBzdXBwbHkgZW1iZWRkZWQgb2JqZWN0IGlkIGFuZCBpdHMgb3du\nZXIuCiAgICAgKgogICAgICogQHBhcmFtIG93bmVyIG1heSBiZSBudWxsCiAg\nICAgKi8KICAgIHB1YmxpYyBPYmplY3RJZFN0YXRlTWFuYWdlcihPYmplY3Qg\nb2lkLCBPcGVuSlBBU3RhdGVNYW5hZ2VyIG93bmVyLAogICAgICAgIFZhbHVl\nTWV0YURhdGEgb3duZXJWYWwpIHsKICAgICAgICBfb2lkID0gb2lkOwogICAg\nICAgIF9vd25lciA9IG93bmVyOwogICAgICAgIF92bWQgPSBvd25lclZhbDsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldEdlbmVyaWNDb250ZXh0KCkg\newogICAgICAgIHJldHVybiAoX293bmVyID09IG51bGwpID8gbnVsbCA6IF9v\nd25lci5nZXRHZW5lcmljQ29udGV4dCgpOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgZ2V0UENQcmltYXJ5S2V5KE9iamVjdCBvaWQsIGludCBmaWVsZCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBieXRlIHJlcGxhY2VGbGFncygp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgU3RhdGVNYW5hZ2VyIHJlcGxh\nY2VTdGF0ZU1hbmFnZXIoU3RhdGVNYW5hZ2VyIHNtKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIE9iamVjdCBnZXRWZXJzaW9uKCkgewogICAgICAgIHJl\ndHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFZlcnNpb24o\nT2JqZWN0IHZlcnNpb24pIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9v\nbGVhbiBpc0RpcnR5KCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc1RyYW5zYWN0aW9uYWwoKSB7CiAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlz\nUGVyc2lzdGVudCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gaXNOZXcoKSB7CiAgICAgICAgcmV0dXJuIGZh\nbHNlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRGVsZXRlZCgpIHsK\nICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xl\nYW4gaXNEZXRhY2hlZCgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc1ZlcnNpb25VcGRhdGVSZXF1aXJlZCgp\nIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gaXNWZXJzaW9uQ2hlY2tSZXF1aXJlZCgpIHsKICAgICAgICByZXR1\ncm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIHZvaWQgZGlydHkoU3RyaW5n\nIGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRj\naE9iamVjdElkKCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIGFjY2Vzc2luZ0ZpZWxkKGludCBpZHgpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBzZXJpYWxpemluZygpIHsKICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24o\nKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiB3cml0ZURldGFjaGVkKE9i\namVjdE91dHB1dCBvdXQpCiAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm94eURldGFjaGVkRGVz\nZXJpYWxpemVkKGludCBpZHgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXR0aW5nQm9vbGVhbkZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBw\nYywgaW50IGlkeCwKICAgICAgICBib29sZWFuIGN1ciwgYm9vbGVhbiBuZXh0\nLCBpbnQgc2V0KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\ndGluZ0NoYXJGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgs\nIGNoYXIgY3VyLAogICAgICAgIGNoYXIgbmV4dCwgaW50IHNldCkgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdCeXRlRmllbGQoUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBieXRlIGN1ciwKICAgICAg\nICBieXRlIG5leHQsIGludCBzZXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXR0aW5nU2hvcnRGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUg\ncGMsIGludCBpZHgsIHNob3J0IGN1ciwKICAgICAgICBzaG9ydCBuZXh0LCBp\nbnQgc2V0KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGlu\nZ0ludEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgaW50\nIGN1ciwKICAgICAgICBpbnQgbmV4dCwgaW50IHNldCkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdMb25nRmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBsb25nIGN1ciwKICAgICAgICBsb25n\nIG5leHQsIGludCBzZXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXR0aW5nRmxvYXRGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGlu\ndCBpZHgsIGZsb2F0IGN1ciwKICAgICAgICBmbG9hdCBuZXh0LCBpbnQgc2V0\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGluZ0RvdWJs\nZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgZG91Ymxl\nIGN1ciwKICAgICAgICBkb3VibGUgbmV4dCwgaW50IHNldCkgewogICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdTdHJpbmdGaWVsZChQZXJz\naXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIFN0cmluZyBjdXIsCiAgICAg\nICAgU3RyaW5nIG5leHQsIGludCBzZXQpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXR0aW5nT2JqZWN0RmllbGQoUGVyc2lzdGVuY2VDYXBh\nYmxlIHBjLCBpbnQgaWR4LCBPYmplY3QgY3VyLAogICAgICAgIE9iamVjdCBu\nZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ncHJvdmlkZWRCb29sZWFuRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBp\nbnQgaWR4LAogICAgICAgIGJvb2xlYW4gY3VyKSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgcHJvdmlkZWRDaGFyRmllbGQoUGVyc2lzdGVuY2VD\nYXBhYmxlIHBjLCBpbnQgaWR4LCBjaGFyIGN1cikgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkQnl0ZUZpZWxkKFBlcnNpc3RlbmNl\nQ2FwYWJsZSBwYywgaW50IGlkeCwgYnl0ZSBjdXIpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZFNob3J0RmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBzaG9ydCBjdXIpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZEludEZpZWxkKFBlcnNpc3Rl\nbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgaW50IGN1cikgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkTG9uZ0ZpZWxkKFBlcnNpc3Rl\nbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgbG9uZyBjdXIpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZEZsb2F0RmllbGQoUGVyc2lz\ndGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBmbG9hdCBjdXIpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZERvdWJsZUZpZWxkKFBl\ncnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAgICBkb3VibGUg\nY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRT\ndHJpbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsCiAg\nICAgICAgU3RyaW5nIGN1cikgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHByb3ZpZGVkT2JqZWN0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBj\nLCBpbnQgaWR4LAogICAgICAgIE9iamVjdCBjdXIpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiByZXBsYWNlQm9vbGVhbkZpZWxkKFBlcnNp\nc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyBjaGFyIHJlcGxhY2VDaGFyRmllbGQoUGVyc2lzdGVuY2VDYXBh\nYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJ5\ndGUgcmVwbGFjZUJ5dGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGlu\ndCBpZHgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgc2hvcnQgcmVwbGFj\nZVNob3J0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIGludCByZXBsYWNlSW50RmllbGQo\nUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIGxvbmcgcmVwbGFjZUxvbmdGaWVsZChQZXJzaXN0ZW5j\nZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgZmxvYXQgcmVwbGFjZUZsb2F0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxl\nIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGRvdWJs\nZSByZXBsYWNlRG91YmxlRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBp\nbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyByZXBs\nYWNlU3RyaW5nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCByZXBsYWNlT2Jq\nZWN0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8KICAgIC8vIE9wZW5KUEFTdGF0ZU1hbmFnZXIgaW1wbGVtZW50YXRp\nb24KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgog\nICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShDbGFzcyBmb3JUeXBlLCBQQ1N0\nYXRlIHN0YXRlKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgbG9h\nZChGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpIHsKICAgICAgICB0aHJvdyBu\nZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAg\nICBwdWJsaWMgT2JqZWN0IGdldE1hbmFnZWRJbnN0YW5jZSgpIHsKICAgICAg\nICByZXR1cm4gX29pZDsKICAgIH0KCiAgICBwdWJsaWMgUGVyc2lzdGVuY2VD\nYXBhYmxlIGdldFBlcnNpc3RlbmNlQ2FwYWJsZSgpIHsKICAgICAgICByZXR1\ncm4gKFBlcnNpc3RlbmNlQ2FwYWJsZSkgX29pZDsKICAgIH0KCiAgICBwdWJs\naWMgQ2xhc3NNZXRhRGF0YSBnZXRNZXRhRGF0YSgpIHsKICAgICAgICByZXR1\ncm4gX3ZtZC5nZXRFbWJlZGRlZE1ldGFEYXRhKCk7CiAgICB9CgogICAgcHVi\nbGljIE9wZW5KUEFTdGF0ZU1hbmFnZXIgZ2V0T3duZXIoKSB7CiAgICAgICAg\ncmV0dXJuIF9vd25lcjsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWVNZXRhRGF0\nYSBnZXRPd25lck1ldGFEYXRhKCkgewogICAgICAgIHJldHVybiBfdm1kOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRW1iZWRkZWQoKSB7CiAgICAg\nICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNG\nbHVzaGVkKCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBpc0ZsdXNoZWREaXJ0eSgpIHsKICAgICAgICByZXR1\ncm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNQcm92aXNp\nb25hbCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVi\nbGljIEJpdFNldCBnZXRMb2FkZWQoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIEJpdFNldCBnZXREaXJ0eSgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgQml0U2V0IGdldEZsdXNoZWQoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIEJpdFNldCBnZXRVbmxvYWRlZChGZXRjaENvbmZpZ3VyYXRpb24gZmV0\nY2gpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IG5ld1Byb3h5\nKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nbmV3RmllbGRQcm94eShpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBpc0RlZmF1bHRWYWx1ZShpbnQgZmllbGQpIHsKICAg\nICAgICBPYmplY3QgdmFsID0gZ2V0VmFsdWUoZmllbGQpOwogICAgICAgIGlm\nICh2YWwgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIHRydWU7CgogICAg\nICAgIEZpZWxkTWV0YURhdGEgZm1kID0gZ2V0TWV0YURhdGEoKS5nZXRGaWVs\nZChmaWVsZCk7CiAgICAgICAgc3dpdGNoIChmbWQuZ2V0RGVjbGFyZWRUeXBl\nQ29kZSgpKSB7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJPT0xFQU46\nCiAgICAgICAgICAgICAgICByZXR1cm4gQm9vbGVhbi5GQUxTRS5lcXVhbHMo\ndmFsKTsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQ0hBUjoKICAgICAg\nICAgICAgICAgIHJldHVybiAoKENoYXJhY3RlcikgdmFsKS5jaGFyVmFsdWUo\nKSA9PSAwOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CWVRFOgogICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5ET1VCTEU6CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkZMT0FUOgogICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5JTlQ6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxPTkc6CiAgICAg\nICAgICAgIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAgICAgICAgICAgICAg\ncmV0dXJuICgoTnVtYmVyKSB2YWwpLmludFZhbHVlKCkgPT0gMDsKICAgICAg\nICAgICAgY2FzZSBKYXZhVHlwZXMuU1RSSU5HOgogICAgICAgICAgICAgICAg\ncmV0dXJuICIiLmVxdWFscyh2YWwpOwogICAgICAgICAgICBkZWZhdWx0Ogog\nICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0K\nCiAgICBwdWJsaWMgU3RvcmVDb250ZXh0IGdldENvbnRleHQoKSB7CiAgICAg\nICAgcmV0dXJuIChfb3duZXIgPT0gbnVsbCkgPyBudWxsIDogX293bmVyLmdl\ndENvbnRleHQoKTsKICAgIH0KCiAgICBwdWJsaWMgUENTdGF0ZSBnZXRQQ1N0\nYXRlKCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0T2Jq\nZWN0SWQoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0T2JqZWN0SWQoT2JqZWN0IG9pZCkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGFzc2lnbk9iamVjdElkKGJvb2xlYW4g\nZmx1c2gpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldElk\nKCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgZ2V0TG9jaygpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRMb2NrKE9iamVjdCBsb2NrKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TmV4dFZlcnNpb24oT2JqZWN0\nIHZlcnNpb24pIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdl\ndEltcGxEYXRhKCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAg\nIHB1YmxpYyBPYmplY3Qgc2V0SW1wbERhdGEoT2JqZWN0IGRhdGEsIGJvb2xl\nYW4gY2FjaGVhYmxlKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xl\nYW4gaXNJbXBsRGF0YUNhY2hlYWJsZSgpIHsKICAgICAgICByZXR1cm4gZmFs\nc2U7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRJbXBsRGF0YShpbnQg\nZmllbGQpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJs\naWMgT2JqZWN0IHNldEltcGxEYXRhKGludCBmaWVsZCwgT2JqZWN0IGRhdGEp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0ltcGxEYXRh\nQ2FjaGVhYmxlKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBmYWxzZTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldEludGVybWVkaWF0ZShpbnQg\nZmllbGQpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRJbnRlcm1lZGlhdGUoaW50IGZpZWxkLCBPYmplY3QgZGF0\nYSkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlbW92ZWQoaW50\nIGZpZWxkLCBPYmplY3QgcmVtb3ZlZCwgYm9vbGVhbiBrZXkpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBiZWZvcmVSZWZyZXNoKGJvb2xl\nYW4gYWxsKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgZGlydHko\naW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3Rv\ncmVCb29sZWFuKGludCBmaWVsZCwgYm9vbGVhbiBleHRWYWwpIHsKICAgICAg\nICBzZXRWYWx1ZShmaWVsZCwgKGV4dFZhbCkgPyBCb29sZWFuLlRSVUUgOiBC\nb29sZWFuLkZBTFNFLCB0cnVlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\ndG9yZUJ5dGUoaW50IGZpZWxkLCBieXRlIGV4dFZhbCkgewogICAgICAgIHNl\ndFZhbHVlKGZpZWxkLCBuZXcgQnl0ZShleHRWYWwpLCB0cnVlKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzdG9yZUNoYXIoaW50IGZpZWxkLCBjaGFyIGV4\ndFZhbCkgewogICAgICAgIHNldFZhbHVlKGZpZWxkLCBuZXcgQ2hhcmFjdGVy\nKGV4dFZhbCksIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3Jl\nSW50KGludCBmaWVsZCwgaW50IGV4dFZhbCkgewogICAgICAgIHNldFZhbHVl\nKGZpZWxkLCBOdW1iZXJzLnZhbHVlT2YoZXh0VmFsKSwgdHJ1ZSk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc3RvcmVTaG9ydChpbnQgZmllbGQsIHNob3J0\nIGV4dFZhbCkgewogICAgICAgIHNldFZhbHVlKGZpZWxkLCBuZXcgU2hvcnQo\nZXh0VmFsKSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVM\nb25nKGludCBmaWVsZCwgbG9uZyBleHRWYWwpIHsKICAgICAgICBzZXRWYWx1\nZShmaWVsZCwgTnVtYmVycy52YWx1ZU9mKGV4dFZhbCksIHRydWUpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlRmxvYXQoaW50IGZpZWxkLCBmbG9h\ndCBleHRWYWwpIHsKICAgICAgICBzZXRWYWx1ZShmaWVsZCwgbmV3IEZsb2F0\nKGV4dFZhbCksIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3Jl\nRG91YmxlKGludCBmaWVsZCwgZG91YmxlIGV4dFZhbCkgewogICAgICAgIHNl\ndFZhbHVlKGZpZWxkLCBuZXcgRG91YmxlKGV4dFZhbCksIHRydWUpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlU3RyaW5nKGludCBmaWVsZCwgU3Ry\naW5nIGV4dFZhbCkgewogICAgICAgIHNldFZhbHVlKGZpZWxkLCBleHRWYWws\nIGV4dFZhbCAhPSBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9y\nZU9iamVjdChpbnQgZmllbGQsIE9iamVjdCBleHRWYWwpIHsKICAgICAgICBz\nZXRWYWx1ZShmaWVsZCwgZXh0VmFsLCBleHRWYWwgIT0gbnVsbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc3RvcmUoaW50IGZpZWxkLCBPYmplY3QgZXh0\nVmFsKSB7CiAgICAgICAgYm9vbGVhbiBmb3JjZUluc3QgPSB0cnVlOwogICAg\nICAgIGlmIChleHRWYWwgPT0gbnVsbCkgewogICAgICAgICAgICBleHRWYWwg\nPSBnZXREZWZhdWx0VmFsdWUoZmllbGQpOwogICAgICAgICAgICBmb3JjZUlu\nc3QgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgc2V0VmFsdWUoZmllbGQs\nIGV4dFZhbCwgZm9yY2VJbnN0KTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\ndG9yZUJvb2xlYW5GaWVsZChpbnQgZmllbGQsIGJvb2xlYW4gZXh0VmFsKSB7\nCiAgICAgICAgc3RvcmVCb29sZWFuKGZpZWxkLCBleHRWYWwpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHN0b3JlQnl0ZUZpZWxkKGludCBmaWVsZCwgYnl0\nZSBleHRWYWwpIHsKICAgICAgICBzdG9yZUJ5dGUoZmllbGQsIGV4dFZhbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVDaGFyRmllbGQoaW50IGZp\nZWxkLCBjaGFyIGV4dFZhbCkgewogICAgICAgIHN0b3JlQ2hhcihmaWVsZCwg\nZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUludEZpZWxk\nKGludCBmaWVsZCwgaW50IGV4dFZhbCkgewogICAgICAgIHN0b3JlSW50KGZp\nZWxkLCBleHRWYWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlU2hv\ncnRGaWVsZChpbnQgZmllbGQsIHNob3J0IGV4dFZhbCkgewogICAgICAgIHN0\nb3JlU2hvcnQoZmllbGQsIGV4dFZhbCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc3RvcmVMb25nRmllbGQoaW50IGZpZWxkLCBsb25nIGV4dFZhbCkgewog\nICAgICAgIHN0b3JlTG9uZyhmaWVsZCwgZXh0VmFsKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzdG9yZUZsb2F0RmllbGQoaW50IGZpZWxkLCBmbG9hdCBl\neHRWYWwpIHsKICAgICAgICBzdG9yZUZsb2F0KGZpZWxkLCBleHRWYWwpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlRG91YmxlRmllbGQoaW50IGZp\nZWxkLCBkb3VibGUgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVEb3VibGUoZmll\nbGQsIGV4dFZhbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVTdHJp\nbmdGaWVsZChpbnQgZmllbGQsIFN0cmluZyBleHRWYWwpIHsKICAgICAgICBz\ndG9yZVN0cmluZyhmaWVsZCwgZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzdG9yZU9iamVjdEZpZWxkKGludCBmaWVsZCwgT2JqZWN0IGV4dFZh\nbCkgewogICAgICAgIHN0b3JlT2JqZWN0KGZpZWxkLCBleHRWYWwpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlRmllbGQoaW50IGZpZWxkLCBPYmpl\nY3QgdmFsdWUpIHsKICAgICAgICBzdG9yZShmaWVsZCwgdmFsdWUpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGZldGNoQm9vbGVhbihpbnQgZmllbGQp\nIHsKICAgICAgICByZXR1cm4gKChCb29sZWFuKSBnZXRWYWx1ZShmaWVsZCkp\nLmJvb2xlYW5WYWx1ZSgpOwogICAgfQoKICAgIHB1YmxpYyBieXRlIGZldGNo\nQnl0ZShpbnQgZmllbGQpIHsKICAgICAgICByZXR1cm4gKChOdW1iZXIpIGdl\ndFZhbHVlKGZpZWxkKSkuYnl0ZVZhbHVlKCk7CiAgICB9CgogICAgcHVibGlj\nIGNoYXIgZmV0Y2hDaGFyKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAo\nKENoYXJhY3RlcikgZ2V0VmFsdWUoZmllbGQpKS5jaGFyVmFsdWUoKTsKICAg\nIH0KCiAgICBwdWJsaWMgc2hvcnQgZmV0Y2hTaG9ydChpbnQgZmllbGQpIHsK\nICAgICAgICByZXR1cm4gKChOdW1iZXIpIGdldFZhbHVlKGZpZWxkKSkuc2hv\ncnRWYWx1ZSgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZmV0Y2hJbnQoaW50\nIGZpZWxkKSB7CiAgICAgICAgcmV0dXJuICgoTnVtYmVyKSBnZXRWYWx1ZShm\naWVsZCkpLmludFZhbHVlKCk7CiAgICB9CgogICAgcHVibGljIGxvbmcgZmV0\nY2hMb25nKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAoKE51bWJlcikg\nZ2V0VmFsdWUoZmllbGQpKS5sb25nVmFsdWUoKTsKICAgIH0KCiAgICBwdWJs\naWMgZmxvYXQgZmV0Y2hGbG9hdChpbnQgZmllbGQpIHsKICAgICAgICByZXR1\ncm4gKChOdW1iZXIpIGdldFZhbHVlKGZpZWxkKSkuZmxvYXRWYWx1ZSgpOwog\nICAgfQoKICAgIHB1YmxpYyBkb3VibGUgZmV0Y2hEb3VibGUoaW50IGZpZWxk\nKSB7CiAgICAgICAgcmV0dXJuICgoTnVtYmVyKSBnZXRWYWx1ZShmaWVsZCkp\nLmRvdWJsZVZhbHVlKCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBmZXRj\naFN0cmluZyhpbnQgZmllbGQpIHsKICAgICAgICByZXR1cm4gKFN0cmluZykg\nZ2V0VmFsdWUoZmllbGQpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZmV0\nY2hPYmplY3QoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGdldFZhbHVl\nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoKGludCBm\naWVsZCkgewogICAgICAgIE9iamVjdCByZXQgPSBnZXRWYWx1ZShmaWVsZCk7\nCiAgICAgICAgaWYgKHJldCA9PSBudWxsKQogICAgICAgICAgICByZXQgPSBn\nZXREZWZhdWx0VmFsdWUoZmllbGQpOwogICAgICAgIHJldHVybiByZXQ7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gZmV0Y2hCb29sZWFuRmllbGQoaW50\nIGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoQm9vbGVhbihmaWVsZCk7\nCiAgICB9CgogICAgcHVibGljIGJ5dGUgZmV0Y2hCeXRlRmllbGQoaW50IGZp\nZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoQnl0ZShmaWVsZCk7CiAgICB9\nCgogICAgcHVibGljIGNoYXIgZmV0Y2hDaGFyRmllbGQoaW50IGZpZWxkKSB7\nCiAgICAgICAgcmV0dXJuIGZldGNoQ2hhcihmaWVsZCk7CiAgICB9CgogICAg\ncHVibGljIHNob3J0IGZldGNoU2hvcnRGaWVsZChpbnQgZmllbGQpIHsKICAg\nICAgICByZXR1cm4gZmV0Y2hTaG9ydChmaWVsZCk7CiAgICB9CgogICAgcHVi\nbGljIGludCBmZXRjaEludEZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJl\ndHVybiBmZXRjaEludChmaWVsZCk7CiAgICB9CgogICAgcHVibGljIGxvbmcg\nZmV0Y2hMb25nRmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZl\ndGNoTG9uZyhmaWVsZCk7CiAgICB9CgogICAgcHVibGljIGZsb2F0IGZldGNo\nRmxvYXRGaWVsZChpbnQgZmllbGQpIHsKICAgICAgICByZXR1cm4gZmV0Y2hG\nbG9hdChmaWVsZCk7CiAgICB9CgogICAgcHVibGljIGRvdWJsZSBmZXRjaERv\ndWJsZUZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBmZXRjaERv\ndWJsZShmaWVsZCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBmZXRjaFN0\ncmluZ0ZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBmZXRjaFN0\ncmluZyhmaWVsZCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRjaE9i\namVjdEZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBmZXRjaChm\naWVsZCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRjaEZpZWxkKGlu\ndCBmaWVsZCwgYm9vbGVhbiB0cmFuc2l0aW9ucykgewogICAgICAgIHJldHVy\nbiBmZXRjaChmaWVsZCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRj\naEluaXRpYWxGaWVsZChpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRSZW1vdGUoaW50IGZpZWxkLCBPYmplY3QgdmFsdWUp\nIHsKICAgICAgICBzdG9yZShmaWVsZCwgdmFsdWUpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGxvY2soKSB7CiAgICB9CgogICAgcHVibGljIHZvaWQgdW5s\nb2NrKCkgewogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBkZWZh\ndWx0IHZhbHVlIG9mIHRoZSBnaXZlbiBmaWVsZCBiYXNlZCBvbiBpdHMgdHlw\nZS4KICAgICAqLwogICAgcHJpdmF0ZSBPYmplY3QgZ2V0RGVmYXVsdFZhbHVl\nKGludCBmaWVsZCkgewogICAgICAgIEZpZWxkTWV0YURhdGEgZm1kID0gZ2V0\nTWV0YURhdGEoKS5nZXRGaWVsZChmaWVsZCk7CiAgICAgICAgc3dpdGNoIChm\nbWQuZ2V0RGVjbGFyZWRUeXBlQ29kZSgpKSB7CiAgICAgICAgICAgIGNhc2Ug\nSmF2YVR5cGVzLkJPT0xFQU46CiAgICAgICAgICAgICAgICByZXR1cm4gQm9v\nbGVhbi5GQUxTRTsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQllURToK\nICAgICAgICAgICAgICAgIHJldHVybiBaRVJPX0JZVEU7CiAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLkNIQVI6CiAgICAgICAgICAgICAgICByZXR1cm4g\nWkVST19DSEFSOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5ET1VCTEU6\nCiAgICAgICAgICAgICAgICByZXR1cm4gWkVST19ET1VCTEU7CiAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLkZMT0FUOgogICAgICAgICAgICAgICAgcmV0\ndXJuIFpFUk9fRkxPQVQ7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklO\nVDoKICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXJzLnZhbHVlT2YoMCk7\nCiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxPTkc6CiAgICAgICAgICAg\nICAgICByZXR1cm4gTnVtYmVycy52YWx1ZU9mKDBMKTsKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuU0hPUlQ6CiAgICAgICAgICAgICAgICByZXR1cm4g\nWkVST19TSE9SVDsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAg\nICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIHVzaW5n\nIHJlZmxlY3Rpb24uCiAgICAgKiBSZWxpZXMgb24gdGhlIGZhY3QgdGhhdCBh\nbGwgb2lkIGZpZWxkcy9wcm9wZXJ0aWVzIGFyZSBtYWRlIHB1YmxpYwogICAg\nICogZHVyaW5nIGVuaGFuY2VtZW50LgogICAgICovCiAgICBwcml2YXRlIE9i\namVjdCBnZXRWYWx1ZShpbnQgZmllbGQpIHsKICAgICAgICBpZiAoX29pZCA9\nPSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAgRmll\nbGRNZXRhRGF0YSBmbWQgPSBnZXRNZXRhRGF0YSgpLmdldEZpZWxkKGZpZWxk\nKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoZm1kLmdldEJhY2tp\nbmdNZW1iZXIoKSBpbnN0YW5jZW9mIEZpZWxkKQogICAgICAgICAgICAgICAg\ncmV0dXJuICgoRmllbGQpIGZtZC5nZXRCYWNraW5nTWVtYmVyKCkpLmdldChf\nb2lkKTsKICAgICAgICAgICAgaWYgKGZtZC5nZXRCYWNraW5nTWVtYmVyKCkg\naW5zdGFuY2VvZiBNZXRob2QpCiAgICAgICAgICAgICAgICByZXR1cm4gKChN\nZXRob2QpIGZtZC5nZXRCYWNraW5nTWVtYmVyKCkpLgogICAgICAgICAgICAg\nICAgICAgIGludm9rZShfb2lkLCAoT2JqZWN0W10pIG51bGwpOwoKICAgICAg\nICAgICAgaWYgKGZtZC5nZXREZWZpbmluZ01ldGFEYXRhKCkuZ2V0QWNjZXNz\nVHlwZSgpCiAgICAgICAgICAgICAgICA9PSBDbGFzc01ldGFEYXRhLkFDQ0VT\nU19GSUVMRCkKICAgICAgICAgICAgICAgIHJldHVybiBfb2lkLmdldENsYXNz\nKCkuZ2V0RmllbGQoZm1kLmdldE5hbWUoKSkuZ2V0KF9vaWQpOwoKICAgICAg\nICAgICAgLy8gcHJvcGVydHkKICAgICAgICAgICAgTWV0aG9kIG1ldGg7CiAg\nICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBtZXRoID0gX29pZC5n\nZXRDbGFzcygpLmdldE1ldGhvZCgiZ2V0IgogICAgICAgICAgICAgICAgICAg\nICsgU3RyaW5nVXRpbHMuY2FwaXRhbGl6ZShmbWQuZ2V0TmFtZSgpKSwgKENs\nYXNzW10pIG51bGwpOwogICAgICAgICAgICB9IGNhdGNoIChOb1N1Y2hNZXRo\nb2RFeGNlcHRpb24gbnNtZSkgewogICAgICAgICAgICAgICAgbWV0aCA9IF9v\naWQuZ2V0Q2xhc3MoKS5nZXRNZXRob2QoImlzIgogICAgICAgICAgICAgICAg\nICAgICsgU3RyaW5nVXRpbHMuY2FwaXRhbGl6ZShmbWQuZ2V0TmFtZSgpKSwg\nKENsYXNzW10pIG51bGwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJl\ndHVybiBtZXRoLmludm9rZShfb2lkLCAoT2JqZWN0W10pIG51bGwpOwogICAg\nICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93\nIG5ldyBHZW5lcmFsRXhjZXB0aW9uKGUpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxk\nIHVzaW5nIHJlZmxlY3Rpb24uCiAgICAgKiBSZWxpZXMgb24gdGhlIGZhY3Qg\ndGhhdCBhbGwgb2lkIGZpZWxkcy9wcm9wZXJ0aWVzIGFyZSBtYWRlIHB1Ymxp\nYwogICAgICogZHVyaW5nIGVuaGFuY2VtZW50LgogICAgICovCiAgICBwcml2\nYXRlIHZvaWQgc2V0VmFsdWUoaW50IGZpZWxkLCBPYmplY3QgdmFsLCBib29s\nZWFuIGZvcmNlSW5zdCkgewogICAgICAgIGlmIChfb2lkID09IG51bGwgJiYg\nZm9yY2VJbnN0KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAg\nICBfb2lkID0gZ2V0TWV0YURhdGEoKS5nZXREZXNjcmliZWRUeXBlKCkubmV3\nSW5zdGFuY2UoKTsKICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUp\nIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXhjZXB0aW9u\nKGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChfb2lkID09\nIG51bGwpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgRmllbGRNZXRh\nRGF0YSBmbWQgPSBnZXRNZXRhRGF0YSgpLmdldEZpZWxkKGZpZWxkKTsKICAg\nICAgICB0cnkgewogICAgICAgICAgICBpZiAoZm1kLmdldEJhY2tpbmdNZW1i\nZXIoKSBpbnN0YW5jZW9mIEZpZWxkKQogICAgICAgICAgICAgICAgKChGaWVs\nZCkgZm1kLmdldEJhY2tpbmdNZW1iZXIoKSkuc2V0KF9vaWQsIHZhbCk7CiAg\nICAgICAgICAgIGVsc2UgaWYgKGZtZC5nZXREZWZpbmluZ01ldGFEYXRhKCku\nZ2V0QWNjZXNzVHlwZSgpCiAgICAgICAgICAgICAgICA9PSBDbGFzc01ldGFE\nYXRhLkFDQ0VTU19GSUVMRCkKICAgICAgICAgICAgICAgIF9vaWQuZ2V0Q2xh\nc3MoKS5nZXRGaWVsZChmbWQuZ2V0TmFtZSgpKS5zZXQoX29pZCwgdmFsKTsK\nICAgICAgICAgICAgZWxzZSAvLyBwcm9wZXJ0eQogICAgICAgICAgICAgICAg\nX29pZC5nZXRDbGFzcygpLmdldE1ldGhvZCgic2V0IiArIFN0cmluZ1V0aWxz\nLmNhcGl0YWxpemUKICAgICAgICAgICAgICAgICAgICAoZm1kLmdldE5hbWUo\nKSksIG5ldyBDbGFzc1tdeyBmbWQuZ2V0RGVjbGFyZWRUeXBlKCkgfSkuCiAg\nICAgICAgICAgICAgICAgICAgaW52b2tlKF9vaWQsIG5ldyBPYmplY3RbXXsg\ndmFsIH0pOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAg\nICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXhjZXB0aW9uKGUpOwogICAgICAg\nIH0KCX0KfQo=\n","encoding":"base64"}

