{"sha":"da581b5f7961fb4c71ccfc02515d4ccdac07f0ef","node_id":"MDQ6QmxvYjIwNjM2NDpkYTU4MWI1Zjc5NjFmYjRjNzFjY2ZjMDI1MTVkNGNjZGFjMDdmMGVm","size":2795,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/da581b5f7961fb4c71ccfc02515d4ccdac07f0ef","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWw7CgppbXBvcnQgamF2YS51dGlsLkJpdFNldDsKCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5PcGVuSlBBRXhjZXB0aW9u\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuU3RvcmVFeGNlcHRp\nb247CgovKioKICogV3JhcHMgdGhlIG5hdGl2ZSBzdG9yZSBtYW5hZ2VyIHRv\nIGhhbmRsZSBjYWxscyB1c2luZyBjdXN0b20KICoge0BsaW5rIFBDUmVzdWx0\nT2JqZWN0UHJvdmlkZXJ9cy4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICov\nCmNsYXNzIFJPUFN0b3JlTWFuYWdlcgogICAgZXh0ZW5kcyBEZWxlZ2F0aW5n\nU3RvcmVNYW5hZ2VyIHsKCiAgICBwdWJsaWMgUk9QU3RvcmVNYW5hZ2VyKFN0\nb3JlTWFuYWdlciBkZWxlZ2F0ZSkgewogICAgICAgIHN1cGVyKGRlbGVnYXRl\nKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBleGlzdHMoT3BlbkpQQVN0\nYXRlTWFuYWdlciBzbSwgT2JqZWN0IGNvbnRleHQpIHsKICAgICAgICBpZiAo\nY29udGV4dCBpbnN0YW5jZW9mIFBDUmVzdWx0T2JqZWN0UHJvdmlkZXIpCiAg\nICAgICAgICAgIGNvbnRleHQgPSBudWxsOwogICAgICAgIHJldHVybiBzdXBl\nci5leGlzdHMoc20sIGNvbnRleHQpOwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGluaXRpYWxpemUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgUENTdGF0\nZSBzdGF0ZSwKICAgICAgICBGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gsIE9i\namVjdCBjb250ZXh0KSB7CiAgICAgICAgaWYgKGNvbnRleHQgaW5zdGFuY2Vv\nZiBQQ1Jlc3VsdE9iamVjdFByb3ZpZGVyKSB7CiAgICAgICAgICAgIHRyeSB7\nCiAgICAgICAgICAgICAgICAoKFBDUmVzdWx0T2JqZWN0UHJvdmlkZXIpIGNv\nbnRleHQpLmluaXRpYWxpemUoc20sIHN0YXRlLCBmZXRjaCk7CiAgICAgICAg\nICAgIH0gY2F0Y2ggKE9wZW5KUEFFeGNlcHRpb24ga2UpIHsKICAgICAgICAg\nICAgICAgIHRocm93IGtlOwogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRp\nb24gZSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0b3JlRXhjZXB0\naW9uKGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVl\nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3VwZXIuaW5pdGlhbGl6ZShz\nbSwgc3RhdGUsIGZldGNoLCBjb250ZXh0KTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBzeW5jVmVyc2lvbihPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBP\nYmplY3QgY29udGV4dCkgewogICAgICAgIC8vIHRoZSBvbmx5IHdheSB0aGlz\nIGdldHMgY2FsbGVkIHdpdGggYSByb3AgY29udGV4dCBpcyBpZiB0aGUKICAg\nICAgICAvLyByb3AgZGlkbid0IGxvYWQgYW55IHZlcnNpb24gaW5mbyBvbiBp\nbml0aWFsaXplLCBzbyBqdXN0IG51bGwKICAgICAgICAvLyBpdCBvdXQgc28g\nd2UgZG9uJ3QgZ2V0IHVuZXhwZWN0ZWQgcmVzdWx0cyB3aGVuIG91ciBkZWxl\nZ2F0ZQogICAgICAgIC8vIGV4cGVjdGVzIGEgZGlmZmVyZW50IGNvbnRleHQg\ndHlwZQogICAgICAgIGlmIChjb250ZXh0IGluc3RhbmNlb2YgUENSZXN1bHRP\nYmplY3RQcm92aWRlcikKICAgICAgICAgICAgY29udGV4dCA9IG51bGw7CiAg\nICAgICAgcmV0dXJuIHN1cGVyLnN5bmNWZXJzaW9uKHNtLCBjb250ZXh0KTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBsb2FkKE9wZW5KUEFTdGF0ZU1h\nbmFnZXIgc20sIEJpdFNldCBmaWVsZHMsCiAgICAgICAgRmV0Y2hDb25maWd1\ncmF0aW9uIGZldGNoLCBpbnQgbG9ja0xldmVsLCBPYmplY3QgY29udGV4dCkg\newogICAgICAgIC8vIHRoZSBvbmx5IHdheSB0aGlzIGdldHMgY2FsbGVkIHdp\ndGggYSByb3AgY29udGV4dCBpcyBpZiB0aGUKICAgICAgICAvLyByb3AgZGlk\nbid0IGxvYWQgdGhlIGZpZWxkIG9uIGluaXRpYWxpemUsIHNvIGp1c3QgbnVs\nbAogICAgICAgIC8vIGl0IG91dCBzbyB3ZSBkb24ndCBnZXQgdW5leHBlY3Rl\nZCByZXN1bHRzIHdoZW4gb3VyIGRlbGVnYXRlCiAgICAgICAgLy8gZXhwZWN0\nZXMgYSBkaWZmZXJlbnQgY29udGV4dCB0eXBlCiAgICAgICAgaWYgKGNvbnRl\neHQgaW5zdGFuY2VvZiBQQ1Jlc3VsdE9iamVjdFByb3ZpZGVyKQogICAgICAg\nICAgICBjb250ZXh0ID0gbnVsbDsKICAgICAgICByZXR1cm4gc3VwZXIubG9h\nZChzbSwgZmllbGRzLCBmZXRjaCwgbG9ja0xldmVsLCBjb250ZXh0KTsKICAg\nIH0KfQo=\n","encoding":"base64"}

