{"sha":"68c7cddfc1788bca85700d58c2def1a70e93c89c","node_id":"MDQ6QmxvYjIwNjM2NDo2OGM3Y2RkZmMxNzg4YmNhODU3MDBkNThjMmRlZjFhNzBlOTNjODlj","size":2828,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/68c7cddfc1788bca85700d58c2def1a70e93c89c","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWwuZXhwczsKCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVj\ndGlvbjsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsKCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0b3JlQ29udGV4dDsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Vc2VyRXhjZXB0aW9uOwoKLyoq\nCiAqIEEgdmFsdWUgcHJvZHVjZWQgZnJvbSBldmFsdWF0aW5nIGEgcmVzdWx0\nIGFnZ3JlZ2F0ZS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCmNsYXNz\nIEFnZ3JlZ2F0ZQogICAgZXh0ZW5kcyBWYWwgewoKICAgIHByaXZhdGUgc3Rh\ndGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2th\nZ2UoQWdncmVnYXRlLmNsYXNzKTsKCiAgICBwcml2YXRlIGZpbmFsIEFnZ3Jl\nZ2F0ZUxpc3RlbmVyIF9saXN0ZW5lcjsKICAgIHByaXZhdGUgZmluYWwgVmFs\nIF9hcmc7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4gU3VwcGx5IGFn\nZ3JlZ2F0ZSBsaXN0ZW5lciBhbmQgaXRzIGFyZ3VtZW50IHZhbHVlLCBpZiBh\nbnkuCiAgICAgKi8KICAgIHB1YmxpYyBBZ2dyZWdhdGUoQWdncmVnYXRlTGlz\ndGVuZXIgbGlzdGVuZXIsIFZhbCBhcmcpIHsKICAgICAgICBfbGlzdGVuZXIg\nPSBsaXN0ZW5lcjsKICAgICAgICBfYXJnID0gYXJnOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGlzQWdncmVnYXRlKCkgewogICAgICAgIHJldHVybiB0\ncnVlOwogICAgfQoKICAgIHB1YmxpYyBDbGFzcyBnZXRUeXBlKCkgewogICAg\nICAgIHJldHVybiBfbGlzdGVuZXIuZ2V0VHlwZShnZXRBcmdUeXBlcygpKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJbXBsaWNpdFR5cGUoQ2xhc3Mg\ndHlwZSkgewogICAgfQoKICAgIHByb3RlY3RlZCBPYmplY3QgZXZhbChPYmpl\nY3QgY2FuZGlkYXRlLCBPYmplY3Qgb3JpZywKICAgICAgICBTdG9yZUNvbnRl\neHQgY3R4LCBPYmplY3RbXSBwYXJhbXMpIHsKICAgICAgICBpZiAoY2FuZGlk\nYXRlID09IG51bGwpCiAgICAgICAgICAgIGNhbmRpZGF0ZSA9IENvbGxlY3Rp\nb25zLkVNUFRZX0xJU1Q7CgogICAgICAgIC8vIGFsbG93IGFnZ3JlZ2F0ZXMg\ndG8gYmUgdXNlZCBpbiBmaWx0ZXIgZXhwcmVzc2lvbnMgc28gbG9uZyBhcyBh\nCiAgICAgICAgLy8gY29sbGVjdGlvbiBpcyBwYXNzZWQgaW4KICAgICAgICBp\nZiAoY2FuZGlkYXRlIGluc3RhbmNlb2YgQ29sbGVjdGlvbikKICAgICAgICAg\nICAgcmV0dXJuIGV2YWwoKENvbGxlY3Rpb24pIGNhbmRpZGF0ZSwgb3JpZywg\nY3R4LCBwYXJhbXMpLgogICAgICAgICAgICAgICAgaXRlcmF0b3IoKS5uZXh0\nKCk7CiAgICAgICAgdGhyb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQo\nImFnZy1pbi1maWx0ZXIiKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIENvbGxl\nY3Rpb24gZXZhbChDb2xsZWN0aW9uIGNhbmRpZGF0ZXMsIE9iamVjdCBvcmln\nLAogICAgICAgIFN0b3JlQ29udGV4dCBjdHgsIE9iamVjdFtdIHBhcmFtcykg\newogICAgICAgIENvbGxlY3Rpb24gYXJncyA9IG51bGw7CiAgICAgICAgaWYg\nKF9hcmcgIT0gbnVsbCkKICAgICAgICAgICAgYXJncyA9IF9hcmcuZXZhbChj\nYW5kaWRhdGVzLCBvcmlnLCBjdHgsIHBhcmFtcyk7CiAgICAgICAgT2JqZWN0\nIGFnZyA9IF9saXN0ZW5lci5ldmFsdWF0ZShhcmdzLCBnZXRBcmdUeXBlcygp\nLCBjYW5kaWRhdGVzLAogICAgICAgICAgICBjdHgpOwogICAgICAgIHJldHVy\nbiBDb2xsZWN0aW9ucy5zaW5nbGV0b24oYWdnKTsKICAgIH0KCiAgICBwcml2\nYXRlIENsYXNzW10gZ2V0QXJnVHlwZXMoKSB7CiAgICAgICAgaWYgKF9hcmcg\nPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgaWYg\nKF9hcmcgaW5zdGFuY2VvZiBBcmdzKQogICAgICAgICAgICByZXR1cm4gKChB\ncmdzKSBfYXJnKS5nZXRUeXBlcygpOwogICAgICAgIHJldHVybiBuZXcgQ2xh\nc3NbXXsgX2FyZy5nZXRUeXBlKCkgfTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBhY2NlcHRWaXNpdChFeHByZXNzaW9uVmlzaXRvciB2aXNpdG9yKSB7CiAg\nICAgICAgdmlzaXRvci5lbnRlcih0aGlzKTsKICAgICAgICBpZiAoX2FyZyAh\nPSBudWxsKQogICAgICAgICAgICBfYXJnLmFjY2VwdFZpc2l0KHZpc2l0b3Ip\nOwogICAgICAgIHZpc2l0b3IuZXhpdCh0aGlzKTsKICAgIH0KfQo=\n","encoding":"base64"}

