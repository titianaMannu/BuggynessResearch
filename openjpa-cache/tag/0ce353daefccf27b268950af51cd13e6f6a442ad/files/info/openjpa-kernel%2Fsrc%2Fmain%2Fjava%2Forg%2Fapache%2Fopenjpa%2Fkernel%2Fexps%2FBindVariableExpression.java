{"sha":"29b1bfb2d485d9bdad3fecd2da9c7ae6726be763","node_id":"MDQ6QmxvYjIwNjM2NDoyOWIxYmZiMmQ0ODVkOWJkYWQzZmVjZDJkYTljN2FlNjcyNmJlNzYz","size":2639,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/29b1bfb2d485d9bdad3fecd2da9c7ae6726be763","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWwuZXhwczsKCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVj\ndGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0b3Jl\nQ29udGV4dDsKCi8qKgogKiBCaW5kcyBhIHZhcmlhYmxlIHRvIGEgY29sbGVj\ndGlvbi4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCmNsYXNzIEJpbmRW\nYXJpYWJsZUV4cHJlc3Npb24KICAgIGV4dGVuZHMgRXhwIHsKCiAgICBwcml2\nYXRlIGZpbmFsIEJvdW5kVmFyaWFibGUgX3ZhcjsKICAgIHByaXZhdGUgZmlu\nYWwgVmFsIF92YWw7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4KICAg\nICAqCiAgICAgKiBAcGFyYW0gdmFyIHRoZSBib3VuZCB2YXJpYWJsZQogICAg\nICogQHBhcmFtIHZhbCB0aGUgdmFsdWUgdGhlIHZhcmlhYmxlIGlzIGJvdW5k\nIHRvCiAgICAgKi8KICAgIHB1YmxpYyBCaW5kVmFyaWFibGVFeHByZXNzaW9u\nKEJvdW5kVmFyaWFibGUgdmFyLCBWYWwgdmFsKSB7CiAgICAgICAgX3ZhciA9\nIHZhcjsKICAgICAgICBfdmFsID0gdmFsOwogICAgfQoKICAgIHB1YmxpYyBC\nb3VuZFZhcmlhYmxlIGdldFZhcmlhYmxlKCkgewogICAgICAgIHJldHVybiBf\ndmFyOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBwb3NzaWJs\nZSB2YWx1ZXMgdGhhdCB2YXJpYWJsZSBjYW4gdGFrZS4KICAgICAqLwogICAg\ncHVibGljIENvbGxlY3Rpb24gZ2V0VmFyaWFibGVWYWx1ZXMoT2JqZWN0IGNh\nbmRpZGF0ZSwgT2JqZWN0IG9yaWcsCiAgICAgICAgU3RvcmVDb250ZXh0IGN0\neCwgT2JqZWN0W10gcGFyYW1zKSB7CiAgICAgICAgT2JqZWN0IHZhbHVlcyA9\nIF92YWwuZXZhbChjYW5kaWRhdGUsIG9yaWcsIGN0eCwgcGFyYW1zKTsKICAg\nICAgICByZXR1cm4gZ2V0Q29sbGVjdGlvbih2YWx1ZXMpOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIGEgY29sbGVjdGlvbiBmb3IgdGhlIGdpdmVu\nIG9iamVjdCwgcHJvZHVjZWQgYnkKICAgICAqIDxjb2RlPmV2YWw8L2NvZGU+\nJ2luZyB0aGUgdmFsdWUgb2YgdGhpcyBleHByZXNzaW9uLiBTaW1wbHkgY2Fz\ndHMKICAgICAqIHRoZSBvYmplY3QgdG8gYSBjb2xsZWN0aW9uIGJ5IGRlZmF1\nbHQuCiAgICAgKi8KICAgIHByb3RlY3RlZCBDb2xsZWN0aW9uIGdldENvbGxl\nY3Rpb24oT2JqZWN0IHZhbHVlcykgewogICAgICAgIHJldHVybiAoQ29sbGVj\ndGlvbikgdmFsdWVzOwogICAgfQoKICAgIHByb3RlY3RlZCBib29sZWFuIGV2\nYWwoT2JqZWN0IGNhbmRpZGF0ZSwgT2JqZWN0IG9yaWcsCiAgICAgICAgU3Rv\ncmVDb250ZXh0IGN0eCwgT2JqZWN0W10gcGFyYW1zKSB7CiAgICAgICAgLy8g\naWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkgbm8gcG9zc2libGUgdmFyaWFi\nbGUgZXZhbHMgdG8gdHJ1ZQogICAgICAgIENvbGxlY3Rpb24gdmFscyA9IGdl\ndFZhcmlhYmxlVmFsdWVzKGNhbmRpZGF0ZSwgb3JpZywgY3R4LCBwYXJhbXMp\nOwogICAgICAgIGlmICh2YWxzID09IG51bGwgfHwgdmFscy5pc0VtcHR5KCkp\nCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gdHJ1\nZTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBldmFsKENvbGxlY3Rp\nb24gY2FuZGlkYXRlcywgU3RvcmVDb250ZXh0IGN0eCwKICAgICAgICBPYmpl\nY3RbXSBwYXJhbXMpIHsKICAgICAgICBpZiAoY2FuZGlkYXRlcyA9PSBudWxs\nIHx8IGNhbmRpZGF0ZXMuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICAgICAgT2JqZWN0IG9iaiA9IGNhbmRpZGF0ZXMuaXRlcmF0\nb3IoKS5uZXh0KCk7CiAgICAgICAgcmV0dXJuIGV2YWwob2JqLCBvYmosIGN0\neCwgcGFyYW1zKTsKCX0KCiAgICBwdWJsaWMgdm9pZCBhY2NlcHRWaXNpdChF\neHByZXNzaW9uVmlzaXRvciB2aXNpdG9yKSB7CiAgICAgICAgdmlzaXRvci5l\nbnRlcih0aGlzKTsKICAgICAgICBfdmFyLmFjY2VwdFZpc2l0KHZpc2l0b3Ip\nOwogICAgICAgIF92YWwuYWNjZXB0VmlzaXQodmlzaXRvcik7CiAgICAgICAg\ndmlzaXRvci5leGl0KHRoaXMpOwogICAgfQp9Cgo=\n","encoding":"base64"}

