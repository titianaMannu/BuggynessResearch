{"sha":"6bd60745ffbb4e8c983d0a1189a1fcedd4f1189d","node_id":"MDQ6QmxvYjIwNjM2NDo2YmQ2MDc0NWZmYmI0ZThjOTgzZDBhMTE4OWExZmNlZGQ0ZjExODlk","size":2472,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6bd60745ffbb4e8c983d0a1189a1fcedd4f1189d","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWwuZXhwczsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi51dGlsLlNpbXBsZVJlZ2V4OwppbXBvcnQgc2VycC51dGlsLlN0\ncmluZ3M7CgovKioKICogRXhwcmVzc2lvbiB0aGF0IGNvbXBhcmVzIHR3byBv\ndGhlcnMuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpjbGFzcyBNYXRj\naGVzRXhwcmVzc2lvbgogICAgZXh0ZW5kcyBDb21wYXJlRXhwcmVzc2lvbiB7\nCgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBM\nb2NhbGl6ZXIuZm9yUGFja2FnZSgKICAgICAgICBNYXRjaGVzRXhwcmVzc2lv\nbi5jbGFzcyk7CiAgICAKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIF9zaW5n\nbGU7CiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBfbXVsdGk7CiAgICBwcml2\nYXRlIGZpbmFsIGJvb2xlYW4gX2FmZmlybWF0aW9uOwoKICAgIC8qKgogICAg\nICogQ29uc3RydWN0b3IuIFN1cHBseSB2YWx1ZXMgdG8gY29tcGFyZS4KICAg\nICAqLwogICAgcHVibGljIE1hdGNoZXNFeHByZXNzaW9uKFZhbCB2YWwxLCBW\nYWwgdmFsMiwKICAgICAgICBTdHJpbmcgc2luZ2xlLCBTdHJpbmcgbXVsdGks\nIFN0cmluZyBlc2NhcGUsIGJvb2xlYW4gYWZmaXJtYXRpb24pIHsKICAgICAg\nICBzdXBlcih2YWwxLCB2YWwyKTsKICAgICAgICBfc2luZ2xlID0gc2luZ2xl\nOwogICAgICAgIF9tdWx0aSA9IG11bHRpOwogICAgICAgIGlmIChlc2NhcGUg\nIT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVu\ndEV4Y2VwdGlvbihfbG9jLmdldCgKICAgICAgICAgICAgICAgICJlc2NhcGUt\nZm9yLWlubWVtLXF1ZXJ5LW5vdC1zdXBwb3J0ZWQiKS5nZXRNZXNzYWdlKCkp\nOwogICAgICAgIF9hZmZpcm1hdGlvbiA9IGFmZmlybWF0aW9uOwogICAgfQoK\nICAgIHByb3RlY3RlZCBib29sZWFuIGNvbXBhcmUoT2JqZWN0IG8xLCBPYmpl\nY3QgbzIpIHsKICAgICAgICBpZiAobzEgPT0gbnVsbCB8fCBvMiA9PSBudWxs\nKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICAgIC8vIGNhc2Ug\naW5zZW5zaXRpdmU/CiAgICAgICAgU3RyaW5nIHN0ciA9IG8yLnRvU3RyaW5n\nKCk7CiAgICAgICAgaW50IGlkeCA9IHN0ci5pbmRleE9mKCIoP2kpIik7CiAg\nICAgICAgYm9vbGVhbiB1bmNhc2UgPSBmYWxzZTsKICAgICAgICBpZiAoaWR4\nICE9IC0xKSB7CiAgICAgICAgICAgIHVuY2FzZSA9IHRydWU7CiAgICAgICAg\nICAgIGlmIChpZHggKyA0IDwgc3RyLmxlbmd0aCgpKQogICAgICAgICAgICAg\nICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBpZHgpICsgc3RyLnN1YnN0cmlu\nZyhpZHggKyA0KTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAg\nc3RyID0gc3RyLnN1YnN0cmluZygwLCBpZHgpOwogICAgICAgIH0KCiAgICAg\nICAgLy8gbm93IHRyYW5zbGF0ZSBmcm9tIHRoZSBzaW5nbGUgYW5kIG11bHRp\nIGNoYXJhY3RlciBlc2NhcGUKICAgICAgICAvLyBzZXF1ZW5jZXMgaW50byBh\nbiBlc2NhcGUgdGhhdCBjb25mb3JtcyB0byB0aGUgcmVnZXhwIHN5bnRheAog\nICAgICAgIHN0ciA9IFN0cmluZ3MucmVwbGFjZShzdHIsIF9tdWx0aSwgIi4q\nIik7CiAgICAgICAgc3RyID0gU3RyaW5ncy5yZXBsYWNlKHN0ciwgX3Npbmds\nZSwgIi4iKTsKCiAgICAgICAgU2ltcGxlUmVnZXggcmUgPSBuZXcgU2ltcGxl\nUmVnZXgoc3RyLCB1bmNhc2UpOwogICAgICAgIGJvb2xlYW4gbWF0Y2hlcyA9\nIHJlLm1hdGNoZXMobzEudG9TdHJpbmcoKSk7CiAgICAgICAgcmV0dXJuIF9h\nZmZpcm1hdGlvbiA/IG1hdGNoZXMgOiAhbWF0Y2hlczsKICAgIH0KfQoK\n","encoding":"base64"}

