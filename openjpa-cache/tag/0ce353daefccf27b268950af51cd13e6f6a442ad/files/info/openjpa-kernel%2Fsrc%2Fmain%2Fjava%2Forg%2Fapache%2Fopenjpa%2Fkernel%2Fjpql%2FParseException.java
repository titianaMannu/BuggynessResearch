{"sha":"b52babca5c622a3d48f258645fd7c901103dd5d6","node_id":"MDQ6QmxvYjIwNjM2NDpiNTJiYWJjYTVjNjIyYTNkNDhmMjU4NjQ1ZmQ3YzkwMTEwM2RkNWQ2","size":5550,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b52babca5c622a3d48f258645fd7c901103dd5d6","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWwuanBxbDsKCmltcG9ydCBqYXZhLnV0aWwuVHJlZVNl\ndDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxp\nemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2Fs\naXplci5NZXNzYWdlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwu\nVXNlckV4Y2VwdGlvbjsKCi8qKgogKiBTaWduaWZpZXMgdGhhdCBhIGxleGlj\nYWwgZXJyb3Igb2NjdXJyZWQgd2hlbiBwYXJzaW5nIHRoZSBKUFFMIHN0YXRl\nbWVudC4KICoKICogQGF1dGhvciBNYXJjIFBydWQnaG9tbWVhdXgKICovCnB1\nYmxpYyBjbGFzcyBQYXJzZUV4Y2VwdGlvbgogICAgZXh0ZW5kcyBVc2VyRXhj\nZXB0aW9uIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIg\nX2xvYyA9CiAgICAgICAgTG9jYWxpemVyLmZvclBhY2thZ2UoUGFyc2VFeGNl\ncHRpb24uY2xhc3MpOwoKICAgIC8qKgogICAgICogVGhpcyBjb25zdHJ1Y3Rv\nciBpcyB1c2VkIGJ5IHRoZSBtZXRob2QgImdlbmVyYXRlUGFyc2VFeGNlcHRp\nb24iCiAgICAgKiBpbiB0aGUgZ2VuZXJhdGVkIHBhcnNlci4gQ2FsbGluZyB0\naGlzIGNvbnN0cnVjdG9yIGdlbmVyYXRlcwogICAgICogYSBuZXcgb2JqZWN0\nIG9mIHRoaXMgdHlwZSB3aXRoIHRoZSBmaWVsZHMgImN1cnJlbnRUb2tlbiIs\nCiAgICAgKiAiZXhwZWN0ZWRUb2tlblNlcXVlbmNlcyIsIGFuZCAidG9rZW5J\nbWFnZSIgc2V0LgogICAgICogVGhpcyBjb25zdHJ1Y3RvciBjYWxscyBpdHMg\nc3VwZXIgY2xhc3Mgd2l0aCB0aGUgZW1wdHkgc3RyaW5nCiAgICAgKiB0byBm\nb3JjZSB0aGUgInRvU3RyaW5nIiBtZXRob2Qgb2YgcGFyZW50IGNsYXNzICJU\naHJvd2FibGUiIHRvCiAgICAgKiBwcmludCB0aGUgZXJyb3IgbWVzc2FnZSBp\nbiB0aGUgZm9ybToKICAgICAqIFBhcnNlRXhjZXB0aW9uOiA8cmVzdWx0IG9m\nIGdldE1lc3NhZ2U+CiAgICAgKi8KICAgIHB1YmxpYyBQYXJzZUV4Y2VwdGlv\nbihUb2tlbiBjdXJyZW50VG9rZW5WYWwsCiAgICAgICAgaW50W11bXWV4cGVj\ndGVkVG9rZW5TZXF1ZW5jZXNWYWwsIFN0cmluZ1tddG9rZW5JbWFnZVZhbCkg\newogICAgICAgIHN1cGVyKGluaXRNZXNzYWdlKGN1cnJlbnRUb2tlblZhbCwK\nICAgICAgICAgICAgZXhwZWN0ZWRUb2tlblNlcXVlbmNlc1ZhbCwgdG9rZW5J\nbWFnZVZhbCkpOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGZvbGxvd2lu\nZyBjb25zdHJ1Y3RvcnMgYXJlIGZvciB1c2UgYnkgeW91IGZvciB3aGF0ZXZl\ncgogICAgICogcHVycG9zZSB5b3UgY2FuIHRoaW5rIG9mLiBDb25zdHJ1Y3Rp\nbmcgdGhlIGV4Y2VwdGlvbiBpbiB0aGlzCiAgICAgKiBtYW5uZXIgbWFrZXMg\ndGhlIGV4Y2VwdGlvbiBiZWhhdmUgaW4gdGhlIG5vcm1hbCB3YXkgLSBpLmUu\nLCBhcwogICAgICogZG9jdW1lbnRlZCBpbiB0aGUgY2xhc3MgIlRocm93YWJs\nZSIuIFRoZSBmaWVsZHMgImVycm9yVG9rZW4iLAogICAgICogImV4cGVjdGVk\nVG9rZW5TZXF1ZW5jZXMiLCBhbmQgInRva2VuSW1hZ2UiIGRvIG5vdCBjb250\nYWluCiAgICAgKiByZWxldmFudCBpbmZvcm1hdGlvbi4gVGhlIEphdmFDQyBn\nZW5lcmF0ZWQgY29kZSBkb2VzIG5vdCB1c2UKICAgICAqIHRoZXNlIGNvbnN0\ncnVjdG9ycy4KICAgICAqLwogICAgcHVibGljIFBhcnNlRXhjZXB0aW9uKCkg\newogICAgICAgIHN1cGVyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlz\nIG1ldGhvZCBoYXMgdGhlIHN0YW5kYXJkIGJlaGF2aW9yIHdoZW4gdGhpcyBv\nYmplY3QgaGFzIGJlZW4KICAgICAqIGNyZWF0ZWQgdXNpbmcgdGhlIHN0YW5k\nYXJkIGNvbnN0cnVjdG9ycy4gT3RoZXJ3aXNlLCBpdCB1c2VzCiAgICAgKiAi\nY3VycmVudFRva2VuIiBhbmQgImV4cGVjdGVkVG9rZW5TZXF1ZW5jZXMiIHRv\nIGdlbmVyYXRlIGEgcGFyc2UKICAgICAqIGVycm9yIG1lc3NhZ2UgYW5kIHJl\ndHVybnMgaXQuIElmIHRoaXMgb2JqZWN0IGhhcyBiZWVuIGNyZWF0ZWQKICAg\nICAqIGR1ZSB0byBhIHBhcnNlIGVycm9yLCBhbmQgeW91IGRvIG5vdCBjYXRj\naCBpdCAoaXQgZ2V0cyB0aHJvd24KICAgICAqIGZyb20gdGhlIHBhcnNlciks\nIHRoZW4gdGhpcyBtZXRob2QgaXMgY2FsbGVkIGR1cmluZyB0aGUgcHJpbnRp\nbmcKICAgICAqIG9mIHRoZSBmaW5hbCBzdGFjayB0cmFjZSwgYW5kIGhlbmNl\nIHRoZSBjb3JyZWN0IGVycm9yIG1lc3NhZ2UKICAgICAqIGdldHMgZGlzcGxh\neWVkLgogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBNZXNzYWdlIGluaXRN\nZXNzYWdlKFRva2VuIGN1cnJlbnRUb2tlbiwKICAgICAgICBpbnRbXVtdZXhw\nZWN0ZWRUb2tlblNlcXVlbmNlcywgU3RyaW5nW110b2tlbkltYWdlKSB7CiAg\nICAgICAgVHJlZVNldCBleHBlY3RlZCA9IG5ldyBUcmVlU2V0KCk7CgogICAg\nICAgIGludCBtYXhTaXplID0gMDsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7\nIGkgPCBleHBlY3RlZFRva2VuU2VxdWVuY2VzLmxlbmd0aDsgaSsrKSB7CiAg\nICAgICAgICAgIGlmIChtYXhTaXplIDwgZXhwZWN0ZWRUb2tlblNlcXVlbmNl\nc1tpXS5sZW5ndGgpCiAgICAgICAgICAgICAgICBtYXhTaXplID0gZXhwZWN0\nZWRUb2tlblNlcXVlbmNlc1tpXS5sZW5ndGg7CgogICAgICAgICAgICBmb3Ig\nKGludCBqID0gMDsgaiA8IGV4cGVjdGVkVG9rZW5TZXF1ZW5jZXNbaV0ubGVu\nZ3RoOyBqKyspCiAgICAgICAgICAgICAgICBleHBlY3RlZC5hZGQodG9rZW5J\nbWFnZVtleHBlY3RlZFRva2VuU2VxdWVuY2VzW2ldW2pdXSk7CiAgICAgICAg\nfQoKICAgICAgICBUb2tlbiB0b2sgPSBjdXJyZW50VG9rZW4ubmV4dDsKCiAg\nICAgICAgU3RyaW5nIGN1cnRvayA9ICIiOwogICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgbWF4U2l6ZTsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpICE9\nIDApCiAgICAgICAgICAgICAgICBjdXJ0b2sgKz0gIiAiOwogICAgICAgICAg\nICBpZiAodG9rLmtpbmQgPT0gMCkgewogICAgICAgICAgICAgICAgY3VydG9r\nICs9IHRva2VuSW1hZ2VbMF07CiAgICAgICAgICAgICAgICBicmVhazsKICAg\nICAgICAgICAgfQoKICAgICAgICAgICAgY3VydG9rICs9IGVzY2FwZSh0b2su\naW1hZ2UpOwogICAgICAgICAgICB0b2sgPSB0b2submV4dDsKICAgICAgICB9\nCgogICAgICAgIHJldHVybiBfbG9jLmdldCgiYmFkLXBhcnNlIiwgbmV3IE9i\namVjdFtdeyBjdXJ0b2ssCiAgICAgICAgICAgIG5ldyBJbnRlZ2VyKGN1cnJl\nbnRUb2tlbi5uZXh0LmJlZ2luQ29sdW1uKSwgZXhwZWN0ZWQgfSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBVc2VkIHRvIGNvbnZlcnQgcmF3IGNoYXJhY3Rl\ncnMgdG8gdGhlaXIgZXNjYXBlZCB2ZXJzaW9uCiAgICAgKiB3aGVuIHRoZXNl\nIHJhdyB2ZXJzaW9uIGNhbm5vdCBiZSB1c2VkIGFzIHBhcnQgb2YgYW4gQVND\nSUkgc3RyaW5nIGxpdGVyYWwuCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGlj\nIFN0cmluZyBlc2NhcGUoU3RyaW5nIHN0cikgewogICAgICAgIFN0cmluZ0J1\nZmZlciByZXR2YWwgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CiAgICAgICAgY2hh\nciBjaDsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzdHIubGVuZ3Ro\nKCk7IGkrKykgewogICAgICAgICAgICBzd2l0Y2ggKHN0ci5jaGFyQXQoaSkp\nIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAg\nICBjb250aW51ZTsKICAgICAgICAgICAgICAgIGNhc2UgJ1xiJzoKICAgICAg\nICAgICAgICAgICAgICByZXR2YWwuYXBwZW5kKCJcXGIiKTsKICAgICAgICAg\nICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIGNhc2UgJ1x0\nJzoKICAgICAgICAgICAgICAgICAgICByZXR2YWwuYXBwZW5kKCJcXHQiKTsK\nICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAg\nIGNhc2UgJ1xuJzoKICAgICAgICAgICAgICAgICAgICByZXR2YWwuYXBwZW5k\nKCJcXG4iKTsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAg\nICAgICAgICAgIGNhc2UgJ1xmJzoKICAgICAgICAgICAgICAgICAgICByZXR2\nYWwuYXBwZW5kKCJcXGYiKTsKICAgICAgICAgICAgICAgICAgICBjb250aW51\nZTsKICAgICAgICAgICAgICAgIGNhc2UgJ1xyJzoKICAgICAgICAgICAgICAg\nICAgICByZXR2YWwuYXBwZW5kKCJcXHIiKTsKICAgICAgICAgICAgICAgICAg\nICBjb250aW51ZTsKICAgICAgICAgICAgICAgIGNhc2UgJ1wiJzoKICAgICAg\nICAgICAgICAgICAgICByZXR2YWwuYXBwZW5kKCJcXFwiIik7CiAgICAgICAg\nICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICBjYXNlICdc\nJyc6CiAgICAgICAgICAgICAgICAgICAgcmV0dmFsLmFwcGVuZCgiXFxcJyIp\nOwogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAg\nICAgY2FzZSAnXFwnOgogICAgICAgICAgICAgICAgICAgIHJldHZhbC5hcHBl\nbmQoIlxcXFwiKTsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAg\nICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgaWYg\nKChjaCA9IHN0ci5jaGFyQXQoaSkpIDwgMHgyMCB8fCBjaCA+IDB4N2UpIHsK\nICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHMgPSAiMDAwMCIgKyBJ\nbnRlZ2VyLnRvU3RyaW5nKGNoLCAxNik7CgogICAgICAgICAgICAgICAgICAg\nICAgICByZXR2YWwuYXBwZW5kKCJcXHUiICsgcy5zdWJzdHJpbmcocy5sZW5n\ndGgoKSAtIDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmxlbmd0\naCgpKSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAg\nICAgICAgICAgICAgICAgcmV0dmFsLmFwcGVuZChjaCk7CiAgICAgICAgICAg\nICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXR2YWwudG9T\ndHJpbmcoKTsKCX0KCn0K\n","encoding":"base64"}

