{"sha":"2b3eaf2ce4d5543cddb61be28d71d764ac793acc","node_id":"MDQ6QmxvYjIwNjM2NDoyYjNlYWYyY2U0ZDU1NDNjZGRiNjFiZTI4ZDcxZDc2NGFjNzkzYWNj","size":3421,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2b3eaf2ce4d5543cddb61be28d71d764ac793acc","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5tZXRhOwoKaW1wb3J0IGphdmEudXRpbC5Db21wYXJhdG9yOwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNlLlBlcnNpc3RlbmNl\nQ2FwYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuT3Bl\nbkpQQVN0YXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51\ndGlsLkFwcGxpY2F0aW9uSWRzOwoKLyoqCiAqIE9yZGVyIGJ5IHRoZSBmaWVs\nZCB2YWx1ZSBpbiBtZW1vcnkuIElmIHRoZSBmaWVsZCBjb250YWlucwogKiB7\nQGxpbmsgUGVyc2lzdGVuY2VDYXBhYmxlfSBvYmplY3RzLCBvcmRlciBvbiB0\naGVpciBwcmltYXJ5IGtleSB2YWx1ZXMuCiAqIFJlbGllcyBvbiBwcmltYXJ5\nIGtleSB2YWx1ZXMsIGluY2x1ZGluZyBkYXRhc3RvcmUgb2lkIG9iamVjdHMs\nIGJlaW5nCiAqIHtAbGluayBDb21wYXJhYmxlfS4KICoKICogQGF1dGhvciBB\nYmUgV2hpdGUKICovCmNsYXNzIEluTWVtb3J5VmFsdWVPcmRlcgogICAgaW1w\nbGVtZW50cyBPcmRlciwgQ29tcGFyYXRvciB7CgogICAgcHJpdmF0ZSBmaW5h\nbCBib29sZWFuIF9hc2M7CgogICAgcHVibGljIEluTWVtb3J5VmFsdWVPcmRl\ncihib29sZWFuIGFzYykgewogICAgICAgIF9hc2MgPSBhc2M7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgewogICAgICAgIHJldHVybiBP\ncmRlci5FTEVNRU5UOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzQXNj\nZW5kaW5nKCkgewogICAgICAgIHJldHVybiBfYXNjOwogICAgfQoKICAgIHB1\nYmxpYyBDb21wYXJhdG9yIGdldENvbXBhcmF0b3IoKSB7CiAgICAgICAgcmV0\ndXJuIHRoaXM7CiAgICB9CgogICAgcHVibGljIGludCBjb21wYXJlKE9iamVj\ndCBvMSwgT2JqZWN0IG8yKSB7CiAgICAgICAgaWYgKG8xID09IG8yKQogICAg\nICAgICAgICByZXR1cm4gMDsKICAgICAgICBpZiAobzEgPT0gbnVsbCkKICAg\nICAgICAgICAgcmV0dXJuIChfYXNjKSA/IC0xIDogMTsKICAgICAgICBpZiAo\nbzIgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIChfYXNjKSA/IDEgOiAt\nMTsKCiAgICAgICAgLy8gbm9uLXBjIHZhbHVlcyBtdXN0IGJlIGNvbXBhcmFi\nbGUKICAgICAgICBpbnQgY21wOwogICAgICAgIGlmICghKG8xIGluc3RhbmNl\nb2YgUGVyc2lzdGVuY2VDYXBhYmxlKQogICAgICAgICAgICB8fCAhKG8yIGlu\nc3RhbmNlb2YgUGVyc2lzdGVuY2VDYXBhYmxlKSkgewogICAgICAgICAgICBj\nbXAgPSAoKENvbXBhcmFibGUpIG8xKS5jb21wYXJlVG8obzIpOwogICAgICAg\nICAgICByZXR1cm4gKF9hc2MpID8gY21wIDogLWNtcDsKICAgICAgICB9Cgog\nICAgICAgIC8vIG9yZGVyIG9uIHByaW1hcnkga2V5IHZhbHVlcwogICAgICAg\nIFBlcnNpc3RlbmNlQ2FwYWJsZSBwYzEgPSAoUGVyc2lzdGVuY2VDYXBhYmxl\nKSBvMTsKICAgICAgICBQZXJzaXN0ZW5jZUNhcGFibGUgcGMyID0gKFBlcnNp\nc3RlbmNlQ2FwYWJsZSkgbzI7CiAgICAgICAgT3BlbkpQQVN0YXRlTWFuYWdl\nciBzbTEgPSAoT3BlbkpQQVN0YXRlTWFuYWdlcikgcGMxLnBjR2V0U3RhdGVN\nYW5hZ2VyKCk7CiAgICAgICAgT3BlbkpQQVN0YXRlTWFuYWdlciBzbTIgPSAo\nT3BlbkpQQVN0YXRlTWFuYWdlcikgcGMyLnBjR2V0U3RhdGVNYW5hZ2VyKCk7\nCiAgICAgICAgaWYgKHNtMSA9PSBudWxsIHx8IHNtMiA9PSBudWxsKQogICAg\nICAgICAgICByZXR1cm4gMDsKCiAgICAgICAgT2JqZWN0W10gcGsxID0gdG9Q\nS1ZhbHVlcyhzbTEpOwogICAgICAgIE9iamVjdFtdIHBrMiA9IHRvUEtWYWx1\nZXMoc20yKTsKICAgICAgICBpbnQgbGVuID0gTWF0aC5taW4ocGsxLmxlbmd0\naCwgcGsyLmxlbmd0aCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBs\nZW47IGkrKykgewogICAgICAgICAgICBpZiAocGsxW2ldID09IHBrMltpXSkK\nICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICBpZiAocGsx\nW2ldID09IG51bGwpCiAgICAgICAgICAgICAgICByZXR1cm4gKF9hc2MpID8g\nLTEgOiAxOwogICAgICAgICAgICBpZiAocGsyW2ldID09IG51bGwpCiAgICAg\nICAgICAgICAgICByZXR1cm4gKF9hc2MpID8gMSA6IC0xOwogICAgICAgICAg\nICBjbXAgPSAoKENvbXBhcmFibGUpIHBrMVtpXSkuY29tcGFyZVRvKHBrMltp\nXSk7CiAgICAgICAgICAgIGlmIChjbXAgIT0gMCkKICAgICAgICAgICAgICAg\nIHJldHVybiAoX2FzYykgPyBjbXAgOiAtY21wOwogICAgICAgIH0KCiAgICAg\nICAgY21wID0gcGsxLmxlbmd0aCAtIHBrMi5sZW5ndGg7CiAgICAgICAgcmV0\ndXJuIChfYXNjKSA/IGNtcCA6IC1jbXA7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBDb252ZXJ0IHRoZSBnaXZlbiBzdGF0ZSBtYW5hZ2VyJ3Mgb2lkIHRvIGFu\nIGFycmF5IG9mIChwb3NzaWJseSBudWxsKQogICAgICogcHJpbWFyeSBrZXkg\ndmFsdWVzLgogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBPYmplY3RbXSB0\nb1BLVmFsdWVzKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20pIHsKICAgICAgICBp\nZiAoc20uZ2V0TWV0YURhdGEoKS5nZXRJZGVudGl0eVR5cGUoKSAhPSBDbGFz\nc01ldGFEYXRhLklEX0FQUExJQ0FUSU9OKQogICAgICAgICAgICByZXR1cm4g\nbmV3IE9iamVjdFtdeyBzbS5nZXRPYmplY3RJZCgpIH07CgogICAgICAgIE9i\namVjdFtdIHBrcyA9IEFwcGxpY2F0aW9uSWRzLnRvUEtWYWx1ZXMoc20uZ2V0\nT2JqZWN0SWQoKSwKICAgICAgICAgICAgc20uZ2V0TWV0YURhdGEoKSk7CiAg\nICAgICAgaWYgKHBrcyA9PSBudWxsKQogICAgICAgICAgICBwa3MgPSBuZXcg\nT2JqZWN0W117IG51bGwgfTsKICAgICAgICByZXR1cm4gcGtzOwogICAgfQp9\nCg==\n","encoding":"base64"}

