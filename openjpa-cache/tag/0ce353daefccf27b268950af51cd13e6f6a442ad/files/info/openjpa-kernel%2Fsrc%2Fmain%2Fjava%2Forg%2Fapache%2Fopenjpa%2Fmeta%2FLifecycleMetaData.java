{"sha":"df7df1e91e163dd242eecdcfc62051814a07923b","node_id":"MDQ6QmxvYjIwNjM2NDpkZjdkZjFlOTFlMTYzZGQyNDJlZWNkY2ZjNjIwNTE4MTRhMDc5MjNi","size":8668,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/df7df1e91e163dd242eecdcfc62051814a07923b","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5tZXRhOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmV2ZW50LkxpZmVjeWNsZUNhbGxiYWNr\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5MaWZlY3ljbGVF\ndmVudDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2Nh\nbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5JbnRlcm5h\nbEV4Y2VwdGlvbjsKCi8qKgogKiBJbmZvcm1hdGlvbiBhYm91dCBsaWZlY3lj\nbGUgZXZlbnRzIGZvciBhIG1hbmFnZWQgdHlwZS4KICoKICogQGF1dGhvciBT\ndGV2ZSBLaW0KICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFz\ncyBMaWZlY3ljbGVNZXRhRGF0YSB7CgogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBpbnQgSUdOT1JFX05PTkUgPSAwOwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBpbnQgSUdOT1JFX0hJR0ggPSAyIDw8IDA7CiAgICBwdWJsaWMgc3RhdGlj\nIGZpbmFsIGludCBJR05PUkVfTE9XID0gMiA8PCAxOwoKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIExpZmVjeWNsZUNhbGxiYWNrc1tdIEVNUFRZX0NBTExC\nQUNLUyA9CiAgICAgICAgbmV3IExpZmVjeWNsZUNhbGxiYWNrc1swXTsKICAg\nIHByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxp\nemVyLmZvclBhY2thZ2UKICAgICAgICAoTGlmZWN5Y2xlTWV0YURhdGEuY2xh\nc3MpOwoKICAgIHByaXZhdGUgZmluYWwgQ2xhc3NNZXRhRGF0YSBfbWV0YTsK\nICAgIHByaXZhdGUgTGlmZWN5Y2xlQ2FsbGJhY2tzW11bXSBfZGVjbGFyZWQg\nPSBudWxsOwogICAgcHJpdmF0ZSBMaWZlY3ljbGVDYWxsYmFja3NbXVtdIF9z\ndXBlciA9IG51bGw7CiAgICBwcml2YXRlIExpZmVjeWNsZUNhbGxiYWNrc1td\nW10gX2FsbCA9IG51bGw7CiAgICBwcml2YXRlIGludFtdIF9oaWdoID0gbnVs\nbDsKICAgIHByaXZhdGUgaW50W10gX3N1cGVySGlnaCA9IG51bGw7CiAgICBw\ncml2YXRlIGJvb2xlYW4gX3Jlc29sdmVkID0gZmFsc2U7CiAgICBwcml2YXRl\nIGJvb2xlYW4gX2lnbm9yZVN5c3RlbSA9IGZhbHNlOwogICAgcHJpdmF0ZSBp\nbnQgX2lnbm9yZVN1cHMgPSAwOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0\nIHdpdGggb3duaW5nIG1ldGFkYXRhLgogICAgICovCiAgICBMaWZlY3ljbGVN\nZXRhRGF0YShDbGFzc01ldGFEYXRhIG1ldGEpIHsKICAgICAgICBfbWV0YSA9\nIG1ldGE7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIGV4Y2x1\nZGUgc3lzdGVtIGxpc3RlbmVycyBmcm9tIGV2ZW50cy4KICAgICAqLwogICAg\ncHVibGljIGJvb2xlYW4gZ2V0SWdub3JlU3lzdGVtTGlzdGVuZXJzKCkgewog\nICAgICAgIHJldHVybiBfaWdub3JlU3lzdGVtOwogICAgfQoKICAgIC8qKgog\nICAgICogV2hldGhlciB0byBleGNsdWRlIHN5c3RlbSBsaXN0ZW5lcnMgZnJv\nbSBldmVudHMuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldElnbm9yZVN5\nc3RlbUxpc3RlbmVycyhib29sZWFuIGlnbm9yZSkgewogICAgICAgIF9pZ25v\ncmVTeXN0ZW0gPSBpZ25vcmU7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0\naGVyIHRvIGV4Y2x1ZGUgc3VwZXJjbGFzcyBjYWxsYmFja3MgZnJvbSBldmVu\ndHMuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0SWdub3JlU3VwZXJjbGFz\nc0NhbGxiYWNrcygpIHsKICAgICAgICByZXR1cm4gX2lnbm9yZVN1cHM7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIGV4Y2x1ZGUgc3VwZXJj\nbGFzcyBjYWxsYmFja3MgZnJvbSBldmVudHMuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldElnbm9yZVN1cGVyY2xhc3NDYWxsYmFja3MoaW50IGlnbm9y\nZSkgewogICAgICAgIF9pZ25vcmVTdXBzID0gaWdub3JlOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIHRoZSBkZWNsYXJlZCBjYWxsYmFja3MgZm9y\nIHRoZSBnaXZlbiBldmVudCB0eXBlLgogICAgICovCiAgICBwdWJsaWMgTGlm\nZWN5Y2xlQ2FsbGJhY2tzW10gZ2V0RGVjbGFyZWRDYWxsYmFja3MoaW50IGV2\nZW50VHlwZSkgewogICAgICAgIHJldHVybiAoX2RlY2xhcmVkID09IG51bGwg\nfHwgX2RlY2xhcmVkW2V2ZW50VHlwZV0gPT0gbnVsbCkKICAgICAgICAgICAg\nPyBFTVBUWV9DQUxMQkFDS1MgOiBfZGVjbGFyZWRbZXZlbnRUeXBlXTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhbGwgY2FsbGJhY2tzIGZvciB0\naGUgZ2l2ZW4gZXZlbnQgdHlwZSwgaW5jbHVkaW5nIHN1cGVyY2xhc3MKICAg\nICAqIGNhbGxiYWNrcyBpZiBhcHByb3ByaWF0ZS4KICAgICAqLwogICAgcHVi\nbGljIExpZmVjeWNsZUNhbGxiYWNrc1tdIGdldENhbGxiYWNrcyhpbnQgZXZl\nbnRUeXBlKSB7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIHJldHVybiAo\nX2FsbCA9PSBudWxsIHx8IF9hbGxbZXZlbnRUeXBlXSA9PSBudWxsKQogICAg\nICAgICAgICA/IEVNUFRZX0NBTExCQUNLUyA6IF9hbGxbZXZlbnRUeXBlXTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgY2FsbGJhY2tzIGZvciB0\naGUgZ2l2ZW4gZXZlbnQgdHlwZS4KICAgICAqCiAgICAgKiBAcGFyYW0gaGln\naFByaW9yaXR5IHRoZSBmaXJzdCBOIGdpdmVuIGNhbGxiYWNrcyBhcmUgaGln\naCBwcmlvcml0eTsKICAgICAqIGhpZ2ggcHJpb3JpdHkgY2FsbGJhY2tzIHdp\nbGwgYmUgcmV0dXJuZWQgYmVmb3JlCiAgICAgKiBub24taGlnaC1wcmlvcml0\neSBzdXBlcmNsYXNzIGNhbGxiYWNrcwogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXREZWNsYXJlZENhbGxiYWNrcyhpbnQgZXZlbnRUeXBlLAogICAgICAg\nIExpZmVjeWNsZUNhbGxiYWNrc1tdIGNhbGxiYWNrcywgaW50IGhpZ2hQcmlv\ncml0eSkgewogICAgICAgIGlmIChfcmVzb2x2ZWQpCiAgICAgICAgICAgIHRo\ncm93IG5ldyBJbnRlcm5hbEV4Y2VwdGlvbihfbG9jLmdldCgibGlmZWN5Y2xl\nLXJlc29sdmVkIiwKICAgICAgICAgICAgICAgIF9tZXRhLCBBcnJheXMuYXNM\naXN0KGNhbGxiYWNrcykpKTsKCiAgICAgICAgaWYgKF9kZWNsYXJlZCA9PSBu\ndWxsKSB7CiAgICAgICAgICAgIF9kZWNsYXJlZCA9IG5ldyBMaWZlY3ljbGVD\nYWxsYmFja3MKICAgICAgICAgICAgICAgIFtMaWZlY3ljbGVFdmVudC5BTExf\nRVZFTlRTLmxlbmd0aF1bXTsKICAgICAgICAgICAgX2hpZ2ggPSBuZXcgaW50\nW0xpZmVjeWNsZUV2ZW50LkFMTF9FVkVOVFMubGVuZ3RoXTsKICAgICAgICB9\nCiAgICAgICAgX2RlY2xhcmVkW2V2ZW50VHlwZV0gPSBjYWxsYmFja3M7CiAg\nICAgICAgX2hpZ2hbZXZlbnRUeXBlXSA9IGhpZ2hQcmlvcml0eTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgY2FsbGJhY2tzIGZvciB0aGUg\nbm9uLVBDIHN1cGVyY2xhc3MuCiAgICAgKi8KICAgIHB1YmxpYyBMaWZlY3lj\nbGVDYWxsYmFja3NbXSBnZXROb25QQ1N1cGVyY2xhc3NDYWxsYmFja3MKICAg\nICAgICAoaW50IGV2ZW50VHlwZSkgewogICAgICAgIHJldHVybiAoX3N1cGVy\nID09IG51bGwgfHwgX3N1cGVyW2V2ZW50VHlwZV0gPT0gbnVsbCkKICAgICAg\nICAgICAgPyBFTVBUWV9DQUxMQkFDS1MgOiBfc3VwZXJbZXZlbnRUeXBlXTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgY2FsbGJhY2tzIGZvciB0\naGUgZ2l2ZW4gZXZlbnQgdHlwZSBmb3Igbm9uLXBlcnNpc3RlbnQKICAgICAq\nIHN1cGVyY2xhc3MuIE5vdGUgdGhlc2UgY2FsbGJhY2tzIHdpbGwgb25seSBi\nZSB1c2VkIHdoZXJlIHRoZQogICAgICogbm9uLXBlcnNpc3RlbnQgc3VwZXJj\nbGFzcyBpcyB0aGUgZGlyZWN0IGFuY2VzdG9yIG9mIHRoZSBkZXNjcmliZWQg\nY2xhc3MuCiAgICAgKgogICAgICogQHBhcmFtIGhpZ2hQcmlvcml0eSB0aGUg\nZmlyc3QgTiBnaXZlbiBjYWxsYmFja3MgYXJlIGhpZ2ggcHJpb3JpdHk7CiAg\nICAgKiBoaWdoIHByaW9yaXR5IGNhbGxiYWNrcyB3aWxsIGJlIHJldHVybmVk\nIGJlZm9yZQogICAgICogbm9uLWhpZ2gtcHJpb3JpdHkgc3VwZXJjbGFzcyBj\nYWxsYmFja3MKICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0Tm9uUENTdXBl\ncmNsYXNzQ2FsbGJhY2tzKGludCBldmVudFR5cGUsCiAgICAgICAgTGlmZWN5\nY2xlQ2FsbGJhY2tzW10gY2FsbGJhY2tzLCBpbnQgaGlnaFByaW9yaXR5KSB7\nCiAgICAgICAgaWYgKF9yZXNvbHZlZCkKICAgICAgICAgICAgdGhyb3cgbmV3\nIEludGVybmFsRXhjZXB0aW9uKF9sb2MuZ2V0KCJsaWZlY3ljbGUtcmVzb2x2\nZWQiLAogICAgICAgICAgICAgICAgX21ldGEsIEFycmF5cy5hc0xpc3QoY2Fs\nbGJhY2tzKSkpOwoKICAgICAgICBpZiAoX3N1cGVyID09IG51bGwpIHsKICAg\nICAgICAgICAgX3N1cGVyID0gbmV3IExpZmVjeWNsZUNhbGxiYWNrcwogICAg\nICAgICAgICAgICAgW0xpZmVjeWNsZUV2ZW50LkFMTF9FVkVOVFMubGVuZ3Ro\nXVtdOwogICAgICAgICAgICBfc3VwZXJIaWdoID0gbmV3IGludFtMaWZlY3lj\nbGVFdmVudC5BTExfRVZFTlRTLmxlbmd0aF07CiAgICAgICAgfQogICAgICAg\nIF9zdXBlcltldmVudFR5cGVdID0gY2FsbGJhY2tzOwogICAgICAgIF9zdXBl\nckhpZ2hbZXZlbnRUeXBlXSA9IGhpZ2hQcmlvcml0eTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJlc29sdmUgYWxsIGNhbGxiYWNrcy4KICAgICAqLwogICAg\ndm9pZCByZXNvbHZlKCkgewogICAgICAgIGlmICghX3Jlc29sdmVkKSB7CiAg\nICAgICAgICAgIF9hbGwgPSBjb21iaW5lQ2FsbGJhY2tzKCk7CiAgICAgICAg\nICAgIF9yZXNvbHZlZCA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogQ29tYmluZSBvdXIgY2FsbGJhY2tzIHdpdGggc3VwZXJjbGFz\ncyBjYWxsYmFja3MgYXMgbmVjZXNzYXJ5LgogICAgICogVGhpcyBtZXRob2Qg\naGFzIHRoZSBzaWRlIGVmZmVjdCBvZiBtYW5pcHVsYXRpbmcgdGhlIF9oaWdo\nIGFycmF5IHRvCiAgICAgKiByZWZsZWN0IHRoZSBjb21iaW5lZCBjYWxsYmFj\na3MgcmF0aGVyIHRoYW4gdGhlIGRlY2xhcmVkIG9uZXMuCiAgICAgKi8KICAg\nIHByaXZhdGUgTGlmZWN5Y2xlQ2FsbGJhY2tzW11bXSBjb21iaW5lQ2FsbGJh\nY2tzKCkgewogICAgICAgIGlmIChfaWdub3JlU3VwcyA9PSAoSUdOT1JFX0hJ\nR0ggfCBJR05PUkVfTE9XKSkKICAgICAgICAgICAgcmV0dXJuIF9kZWNsYXJl\nZDsKCiAgICAgICAgTGlmZWN5Y2xlTWV0YURhdGEgc3VwTWV0YSA9IChfbWV0\nYS5nZXRQQ1N1cGVyY2xhc3MoKSA9PSBudWxsKSA/IG51bGwKICAgICAgICAg\nICAgOiBfbWV0YS5nZXRQQ1N1cGVyY2xhc3NNZXRhRGF0YSgpLmdldExpZmVj\neWNsZU1ldGFEYXRhKCk7CiAgICAgICAgaWYgKHN1cE1ldGEgPT0gbnVsbCAm\nJiBfc3VwZXIgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIF9kZWNsYXJl\nZDsKCiAgICAgICAgaWYgKHN1cE1ldGEgIT0gbnVsbCkgewogICAgICAgICAg\nICBzdXBNZXRhLnJlc29sdmUoKTsKICAgICAgICAgICAgaWYgKHN1cE1ldGEu\nX2FsbCA9PSBudWxsKQogICAgICAgICAgICAgICAgcmV0dXJuIF9kZWNsYXJl\nZDsKICAgICAgICAgICAgaWYgKF9kZWNsYXJlZCA9PSBudWxsICYmIF9pZ25v\ncmVTdXBzID09IDApIHsKICAgICAgICAgICAgICAgIF9oaWdoID0gc3VwTWV0\nYS5faGlnaDsKICAgICAgICAgICAgICAgIHJldHVybiBzdXBNZXRhLl9hbGw7\nCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gZG9uJ3QgaG9sZCBzdHJv\nbmcgcmVmcyBvbnRvIHJlZHVuZGFudCBpbmZvCiAgICAgICAgICAgIF9zdXBl\nciA9IG51bGw7CiAgICAgICAgICAgIF9zdXBlckhpZ2ggPSBudWxsOwogICAg\nICAgIH0KCiAgICAgICAgTGlmZWN5Y2xlQ2FsbGJhY2tzW11bXSBhbGwgPSBu\nZXcgTGlmZWN5Y2xlQ2FsbGJhY2tzCiAgICAgICAgICAgIFtMaWZlY3ljbGVF\ndmVudC5BTExfRVZFTlRTLmxlbmd0aF1bXTsKICAgICAgICBMaWZlY3ljbGVD\nYWxsYmFja3NbXSBkZWNzLCBzdXBzOwogICAgICAgIGludCBzdXBTdGFydCwg\nc3VwRW5kLCBzdXBIaWdoOwogICAgICAgIGludCBjb3VudDsKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKykgewogICAgICAg\nICAgICBkZWNzID0gZ2V0RGVjbGFyZWRDYWxsYmFja3MoaSk7CiAgICAgICAg\nICAgIGlmIChzdXBNZXRhID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHN1\ncHMgPSAoX3N1cGVyW2ldID09IG51bGwpID8gRU1QVFlfQ0FMTEJBQ0tTIDog\nX3N1cGVyW2ldOwogICAgICAgICAgICAgICAgc3VwSGlnaCA9IChfc3VwZXJI\naWdoID09IG51bGwpID8gMCA6IF9zdXBlckhpZ2hbaV07CiAgICAgICAgICAg\nIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzdXBzID0gc3VwTWV0YS5nZXRD\nYWxsYmFja3MoaSk7CiAgICAgICAgICAgICAgICBzdXBIaWdoID0gKHN1cE1l\ndGEuX2hpZ2ggPT0gbnVsbCkgPyAwIDogc3VwTWV0YS5faGlnaFtpXTsKICAg\nICAgICAgICAgfQogICAgICAgICAgICBzdXBTdGFydCA9ICgoX2lnbm9yZVN1\ncHMgJiBJR05PUkVfSElHSCkgIT0gMCkgPyBzdXBIaWdoIDogMDsKICAgICAg\nICAgICAgc3VwRW5kID0gKChfaWdub3JlU3VwcyAmIElHTk9SRV9MT1cpICE9\nIDApID8gc3VwSGlnaCA6IHN1cHMubGVuZ3RoOwoKICAgICAgICAgICAgaWYg\nKHN1cEVuZCAtIHN1cFN0YXJ0ID09IDApCiAgICAgICAgICAgICAgICBhbGxb\naV0gPSBkZWNzOwogICAgICAgICAgICBlbHNlIGlmIChkZWNzLmxlbmd0aCA9\nPSAwKSB7CiAgICAgICAgICAgICAgICBpZiAoc3VwRW5kIC0gc3VwU3RhcnQg\nPT0gc3Vwcy5sZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgYWxsW2ldID0g\nc3VwczsKICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAg\nICAgIGFsbFtpXSA9IG5ldyBMaWZlY3ljbGVDYWxsYmFja3Nbc3VwRW5kIC0g\nc3VwU3RhcnRdOwogICAgICAgICAgICAgICAgICAgIFN5c3RlbS5hcnJheWNv\ncHkoc3Vwcywgc3VwU3RhcnQsIGFsbFtpXSwgMCwgYWxsW2ldLmxlbmd0aCk7\nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoX2hpZ2gg\nPT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICBfaGlnaCA9IG5ldyBpbnRb\nYWxsLmxlbmd0aF07CiAgICAgICAgICAgICAgICBfaGlnaFtpXSA9IHN1cEhp\nZ2ggLSBzdXBTdGFydDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAg\nICAgICAgIGFsbFtpXSA9CiAgICAgICAgICAgICAgICAgICAgbmV3IExpZmVj\neWNsZUNhbGxiYWNrc1tkZWNzLmxlbmd0aCArIHN1cEVuZCAtIHN1cFN0YXJ0\nXTsKICAgICAgICAgICAgICAgIGNvdW50ID0gMDsKCiAgICAgICAgICAgICAg\nICAvLyBhZGQgc3VwZXJjbGFzcyBoaWdoIHByaW9yaXR5IGNhbGxiYWNrcyBm\naXJzdAogICAgICAgICAgICAgICAgaWYgKChfaWdub3JlU3VwcyAmIElHTk9S\nRV9ISUdIKSA9PSAwKQogICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGog\nPSAwOyBqIDwgc3VwSGlnaDsgaisrKQogICAgICAgICAgICAgICAgICAgICAg\nICBhbGxbaV1bY291bnQrK10gPSBzdXBzW2pdOwogICAgICAgICAgICAgICAg\nLy8gdGhlbiBvdXIgaGlnaCBwcmlvcml0eQogICAgICAgICAgICAgICAgZm9y\nIChpbnQgaiA9IDA7IGogPCBfaGlnaFtpXTsgaisrKQogICAgICAgICAgICAg\nICAgICAgIGFsbFtpXVtjb3VudCsrXSA9IGRlY3Nbal07CiAgICAgICAgICAg\nICAgICAvLyB0aGVuIHN1cGVyY2xhc3MgbG93IHByaW9yaXR5CiAgICAgICAg\nICAgICAgICBpZiAoKF9pZ25vcmVTdXBzICYgSUdOT1JFX0xPVykgPT0gMCkK\nICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBqID0gc3VwSGlnaDsgaiA8\nIHN1cHMubGVuZ3RoOyBqKyspCiAgICAgICAgICAgICAgICAgICAgICAgIGFs\nbFtpXVtjb3VudCsrXSA9IHN1cHNbal07CiAgICAgICAgICAgICAgICAvLyB0\naGVuIG91ciBsb3cgcHJpb3JpdHkKICAgICAgICAgICAgICAgIGZvciAoaW50\nIGogPSBfaGlnaFtpXTsgaiA8IGRlY3MubGVuZ3RoOyBqKyspCiAgICAgICAg\nICAgICAgICAgICAgYWxsW2ldW2NvdW50KytdID0gZGVjc1tqXTsKCiAgICAg\nICAgICAgICAgICBpZiAoKF9pZ25vcmVTdXBzICYgSUdOT1JFX0hJR0gpID09\nIDApCiAgICAgICAgICAgICAgICAgICAgX2hpZ2hbaV0gKz0gc3VwSGlnaDsK\nCQkJfQoJCX0KCQlyZXR1cm4gYWxsOwoJfQp9Cg==\n","encoding":"base64"}

