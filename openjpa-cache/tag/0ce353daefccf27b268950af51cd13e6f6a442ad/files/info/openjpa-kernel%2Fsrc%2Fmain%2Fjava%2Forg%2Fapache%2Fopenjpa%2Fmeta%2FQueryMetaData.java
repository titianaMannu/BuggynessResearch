{"sha":"af91487373ba567eeec986b8144111511dfef1ce","node_id":"MDQ6QmxvYjIwNjM2NDphZjkxNDg3MzczYmE1NjdlZWVjOTg2YjgxNDQxMTE1MTFkZmVmMWNl","size":6342,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/af91487373ba567eeec986b8144111511dfef1ce","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5tZXRhOwoKaW1wb3J0IGphdmEuaW8uRmlsZTsKaW1wb3J0IGph\ndmEudXRpbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7Cgpp\nbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlF1ZXJ5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5tZXRhLlNvdXJjZVRyYWNrZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnhtbC5Db21tZW50YWJsZTsK\nCi8qKgogKiBIb2xkcyBtZXRhZGF0YSBhYm91dCBuYW1lZCBxdWVyaWVzLgog\nKiAgSW5mb3JtYXRpb24gc3RvcmVkIGluIHRoaXMgaW5zdGFuY2UgZ2V0cyB0\ncmFuc2ZlcmVkIHRvCiAqIG5ldyB7QGxpbmsgUXVlcnl9IGluc3RhbmNlcy4K\nICoKICogQGF1dGhvciBTdGV2ZSBLaW0KICovCnB1YmxpYyBjbGFzcyBRdWVy\neU1ldGFEYXRhCiAgICBpbXBsZW1lbnRzIE1ldGFEYXRhTW9kZXMsIFNvdXJj\nZVRyYWNrZXIsIENvbW1lbnRhYmxlIHsKCiAgICBwcml2YXRlIHN0YXRpYyBm\naW5hbCBTdHJpbmdbXSBFTVBUWV9LRVlTID0gbmV3IFN0cmluZ1swXTsKICAg\nIHByaXZhdGUgc3RhdGljIGZpbmFsIE9iamVjdFtdIEVNUFRZX1ZBTFMgPSBu\nZXcgT2JqZWN0WzBdOwoKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIF9uYW1l\nOwogICAgcHJpdmF0ZSBCb29sZWFuIF9yZWFkT25seTsKICAgIHByaXZhdGUg\nRmlsZSBfZmlsZTsKICAgIHByaXZhdGUgT2JqZWN0IF9zY29wZTsKICAgIHBy\naXZhdGUgaW50IF9zcmNUeXBlOwogICAgcHJpdmF0ZSBpbnQgX21vZGUgPSBN\nT0RFX1FVRVJZOwogICAgcHJpdmF0ZSBTdHJpbmcgX2xhbmd1YWdlOwogICAg\ncHJpdmF0ZSBDbGFzcyBfY2xhc3M7CiAgICBwcml2YXRlIENsYXNzIF9jYW5k\naWRhdGU7CiAgICBwcml2YXRlIENsYXNzIF9yZXM7CiAgICBwcml2YXRlIFN0\ncmluZyBfcXVlcnk7CiAgICBwcml2YXRlIFN0cmluZ1tdIF9jb21tZW50czsK\nICAgIHByaXZhdGUgTGlzdCBfaGludEtleXM7CiAgICBwcml2YXRlIExpc3Qg\nX2hpbnRWYWxzOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0IHdpdGggdGhl\nIGdpdmVuIG5hbWUuCiAgICAgKi8KICAgIHByb3RlY3RlZCBRdWVyeU1ldGFE\nYXRhKFN0cmluZyBuYW1lKSB7CiAgICAgICAgX25hbWUgPSBuYW1lOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBuYW1lIGZvciB0aGlzIHF1\nZXJ5LgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7CiAg\nICAgICAgcmV0dXJuIF9uYW1lOwogICAgfQoKICAgIC8qKgogICAgICogVGhl\nIGNsYXNzIHRoYXQgZGVmaW5lcyB0aGlzIHF1ZXJ5LCBvciBudWxsIGlmIG5v\nbmUuCiAgICAgKi8KICAgIHB1YmxpYyBDbGFzcyBnZXREZWZpbmluZ1R5cGUo\nKSB7CiAgICAgICAgcmV0dXJuIF9jbGFzczsKICAgIH0KCiAgICAvKioKICAg\nICAqIFRoZSBjbGFzcyB0aGF0IGRlZmluZXMgdGhpcyBxdWVyeSwgb3IgbnVs\nbCBpZiBub25lLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXREZWZpbmlu\nZ1R5cGUoQ2xhc3MgY2xzKSB7CiAgICAgICAgX2NsYXNzID0gY2xzOwogICAg\nfQoKICAgIC8qKgogICAgICogV2hldGhlciB0aGUgcXVlcnkgaGFzIGJlZW4g\nbWFya2VkIHJlYWQtb25seS4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4g\naXNSZWFkT25seSgpIHsKICAgICAgICByZXR1cm4gX3JlYWRPbmx5ICE9IG51\nbGwgJiYgX3JlYWRPbmx5LmJvb2xlYW5WYWx1ZSgpOwogICAgfQoKICAgIC8q\nKgogICAgICogV2hldGhlciB0aGUgcXVlcnkgaGFzIGJlZW4gbWFya2VkIHJl\nYWQtb25seS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0UmVhZE9ubHko\nYm9vbGVhbiByZWFkT25seSkgewogICAgICAgIF9yZWFkT25seSA9IChyZWFk\nT25seSkgPyBCb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFOwogICAgfQoK\nICAgIC8qKgogICAgICogVGhlIHF1ZXJ5IGNhbmRpZGF0ZSBjbGFzcywgb3Ig\nbnVsbCBpZiBub25lLgogICAgICovCiAgICBwdWJsaWMgQ2xhc3MgZ2V0Q2Fu\nZGlkYXRlVHlwZSgpIHsKICAgICAgICByZXR1cm4gX2NhbmRpZGF0ZTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRoZSBxdWVyeSByZXN1bHQgY2xhc3MsIG9y\nIG51bGwgaWYgbm9uZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0Q2Fu\nZGlkYXRlVHlwZShDbGFzcyBjbHMpIHsKICAgICAgICBfY2FuZGlkYXRlID0g\nY2xzOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIHF1ZXJ5IHJlc3VsdCBj\nbGFzcywgb3IgbnVsbCBpZiBub25lLgogICAgICovCiAgICBwdWJsaWMgQ2xh\nc3MgZ2V0UmVzdWx0VHlwZSgpIHsKICAgICAgICByZXR1cm4gX3JlczsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRoZSBxdWVyeSByZXN1bHQgY2xhc3MsIG9y\nIG51bGwgaWYgbm9uZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0UmVz\ndWx0VHlwZShDbGFzcyBjbHMpIHsKICAgICAgICBfcmVzID0gY2xzOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBxdWVyeSBsYW5ndWFnZS4K\nICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRMYW5ndWFnZSgpIHsKICAg\nICAgICByZXR1cm4gX2xhbmd1YWdlOwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSBsYW5ndWFnZSBmb3IgdGhpcyBxdWVyeS4KICAgICAqLwogICAg\ncHVibGljIHZvaWQgc2V0TGFuZ3VhZ2UoU3RyaW5nIGxhbmd1YWdlKSB7CiAg\nICAgICAgX2xhbmd1YWdlID0gbGFuZ3VhZ2U7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUaGUgZnVsbCBxdWVyeSBzdHJpbmcsIG9yIG51bGwgaWYgbm9uZS4K\nICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRRdWVyeVN0cmluZygpIHsK\nICAgICAgICByZXR1cm4gX3F1ZXJ5OwogICAgfQoKICAgIC8qKgogICAgICog\nVGhlIGZ1bGwgcXVlcnkgc3RyaW5nLCBvciBudWxsIGlmIG5vbmUuCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHNldFF1ZXJ5U3RyaW5nKFN0cmluZyBxdWVy\neSkgewogICAgICAgIF9xdWVyeSA9IHF1ZXJ5OwogICAgfQoKICAgIC8qKgog\nICAgICogUXVlcnkgaGludHMuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmdb\nXSBnZXRIaW50S2V5cygpIHsKICAgICAgICByZXR1cm4gKF9oaW50S2V5cyA9\nPSBudWxsKSA/IEVNUFRZX0tFWVMKICAgICAgICAgICAgOiAoU3RyaW5nW10p\nIF9oaW50S2V5cy50b0FycmF5KG5ldyBTdHJpbmdbX2hpbnRLZXlzLnNpemUo\nKV0pOwogICAgfQoKICAgIC8qKgogICAgICogUXVlcnkgaGludHMuCiAgICAg\nKi8KICAgIHB1YmxpYyBPYmplY3RbXSBnZXRIaW50VmFsdWVzKCkgewogICAg\nICAgIHJldHVybiAoX2hpbnRWYWxzID09IG51bGwpID8gRU1QVFlfVkFMUyA6\nIF9oaW50VmFscy50b0FycmF5KCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBB\nZGQgYSBxdWVyeSBoaW50LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBhZGRI\naW50KFN0cmluZyBrZXksIE9iamVjdCB2YWx1ZSkgewogICAgICAgIGlmIChf\naGludEtleXMgPT0gbnVsbCkgewogICAgICAgICAgICBfaGludEtleXMgPSBu\nZXcgTGlua2VkTGlzdCgpOwogICAgICAgICAgICBfaGludFZhbHMgPSBuZXcg\nTGlua2VkTGlzdCgpOwogICAgICAgIH0KICAgICAgICBfaGludEtleXMuYWRk\nKGtleSk7CiAgICAgICAgX2hpbnRWYWxzLmFkZCh2YWx1ZSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgcXVlcnkgdGVtcGxhdGUgaW5mb3JtYXRpb24g\naW50byB0aGUgZ2l2ZW4gY29uY3JldGUKICAgICAqIHF1ZXJ5IGluc3RhbmNl\nLiBIb3dldmVyLCB0aGUgbGFuZ3VhZ2UsIHF1ZXJ5IHN0cmluZywgYW5kCiAg\nICAgKiBjYW5kaWRhdGUgY2xhc3MgYXJlIGFzc3VtZWQgdG8gYmUgZGVjbGFy\nZWQgaW4gdGhlIHF1ZXJ5CiAgICAgKiBpbnN0YW50aWF0aW9uLCBhbmQgaGlu\ndHMgYXJlIG5vdCB0cmFuc2ZlcnJlZC4KICAgICAqLwogICAgcHVibGljIHZv\naWQgc2V0SW50byhRdWVyeSBxdWVyeSkgewogICAgICAgIGlmIChfY2FuZGlk\nYXRlICE9IG51bGwpCiAgICAgICAgICAgIHF1ZXJ5LnNldENhbmRpZGF0ZVR5\ncGUoX2NhbmRpZGF0ZSwgdHJ1ZSk7CiAgICAgICAgaWYgKCFTdHJpbmdVdGls\ncy5pc0VtcHR5KF9xdWVyeSkpCiAgICAgICAgICAgIHF1ZXJ5LnNldFF1ZXJ5\nKF9xdWVyeSk7CiAgICAgICAgaWYgKF9yZXMgIT0gbnVsbCkKICAgICAgICAg\nICAgcXVlcnkuc2V0UmVzdWx0VHlwZShfcmVzKTsKICAgICAgICBpZiAoX3Jl\nYWRPbmx5ICE9IG51bGwpCiAgICAgICAgICAgIHF1ZXJ5LnNldFJlYWRPbmx5\nKF9yZWFkT25seS5ib29sZWFuVmFsdWUoKSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBJbml0aWFsaXplIHRoaXMgaW5zdGFuY2UgZnJvbSB0aGUgdmFsdWVz\nIGhlbGQgaW4gdGhlCiAgICAgKiBzcGVjaWZpZWQge0BsaW5rIFF1ZXJ5fS4K\nICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0RnJvbShRdWVyeSBxdWVyeSkg\newogICAgICAgIF9sYW5ndWFnZSA9IHF1ZXJ5LmdldExhbmd1YWdlKCk7CiAg\nICAgICAgX2NhbmRpZGF0ZSA9IHF1ZXJ5LmdldENhbmRpZGF0ZVR5cGUoKTsK\nICAgICAgICBfcmVzID0gcXVlcnkuZ2V0UmVzdWx0VHlwZSgpOwogICAgICAg\nIF9xdWVyeSA9IHF1ZXJ5LmdldFF1ZXJ5U3RyaW5nKCk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUaGUgc291cmNlIG1vZGUgb2YgdGhpcyBxdWVyeS4KICAg\nICAqLwogICAgcHVibGljIGludCBnZXRTb3VyY2VNb2RlKCkgewogICAgICAg\nIHJldHVybiBfbW9kZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzb3Vy\nY2UgbW9kZSBvZiB0aGlzIHF1ZXJ5LgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXRTb3VyY2VNb2RlKGludCBtb2RlKSB7CiAgICAgICAgX21vZGUgPSBt\nb2RlOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAg\nICAgICAgcmV0dXJuIF9uYW1lOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8v\nLwogICAgLy8gQ29tbWVudGFibGUKICAgIC8vLy8vLy8vLy8vLy8vLwoKICAg\nIHB1YmxpYyBTdHJpbmdbXSBnZXRDb21tZW50cygpIHsKICAgICAgICByZXR1\ncm4gKF9jb21tZW50cyA9PSBudWxsKSA/IEVNUFRZX0NPTU1FTlRTIDogX2Nv\nbW1lbnRzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbW1lbnRzKFN0\ncmluZ1tdIGNvbW1lbnRzKSB7CiAgICAgICAgX2NvbW1lbnRzID0gY29tbWVu\ndHM7CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8KICAgIC8vIFNvdXJjZVRyYWNrZXIgaW1wbGVtZW50YXRpb24KICAgIC8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIEZp\nbGUgZ2V0U291cmNlRmlsZSgpIHsKICAgICAgICByZXR1cm4gX2ZpbGU7CiAg\nICB9CgogICAgcHVibGljIE9iamVjdCBnZXRTb3VyY2VTY29wZSgpIHsKICAg\nICAgICByZXR1cm4gX3Njb3BlOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0\nU291cmNlVHlwZSgpIHsKICAgICAgICByZXR1cm4gX3NyY1R5cGU7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0U291cmNlKEZpbGUgZmlsZSwgT2JqZWN0\nIHNjb3BlLCBpbnQgc3JjVHlwZSkgewogICAgICAgIF9maWxlID0gZmlsZTsK\nICAgICAgICBfc2NvcGUgPSBzY29wZTsKICAgICAgICBfc3JjVHlwZSA9IHNy\nY1R5cGU7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRSZXNvdXJjZU5h\nbWUoKSB7CiAgICAgICAgcmV0dXJuIChfY2xhc3MgPT0gbnVsbCkgPyBfbmFt\nZSA6IF9jbGFzcy5nZXROYW1lICgpICsgIjoiICsgX25hbWU7Cgl9Cn0K\n","encoding":"base64"}

