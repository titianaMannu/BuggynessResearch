{"sha":"42a8034fdbd6f36284812d60a3aebbfe31cac4fb","node_id":"MDQ6QmxvYjIwNjM2NDo0MmE4MDM0ZmRiZDZmMzYyODQ4MTJkNjBhM2FlYmJmZTMxY2FjNGZi","size":2589,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/42a8034fdbd6f36284812d60a3aebbfe31cac4fb","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5tZXRhOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7CmltcG9y\ndCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmxpYi51dGlsLlN0cmluZ0Rpc3RhbmNlOwoKLyoqCiAqIFN0cmF0ZWdpZXMg\nZm9yIHBlcnNpc3RlbnQgdmFsdWUgdXBkYXRlcy4KICoKICogQGF1dGhvciBB\nYmUgV2hpdGUKICogQHNpbmNlIDAuNC4wCiAqLwpwdWJsaWMgY2xhc3MgVXBk\nYXRlU3RyYXRlZ2llcyB7CgogICAgLyoqCiAgICAgKiBObyB1cGRhdGUgc3Ry\nYXRlZ3kuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IE5P\nTkUgPSAwOwoKICAgIC8qKgogICAgICogSWdub3JlIHVwZGF0ZXM7IGZpZWxk\nIGlzIGFsd2F5cyBjb25zaWRlcmVkIGNsZWFuLgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIGludCBJR05PUkUgPSAxOwoKICAgIC8qKgogICAg\nICogVGhyb3cgYW4gZXhjZXB0aW9uIG9uIGF0dGVtcHQgdG8gdXBkYXRlLgog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBSRVNUUklDVCA9\nIDI7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9sb2Mg\nPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgIChVcGRhdGVTdHJhdGVn\naWVzLmNsYXNzKTsKCiAgICAvKioKICAgICAqIENvbnZlcnQgdGhlIGdpdmVu\nIHN0cmF0ZWd5IHRvIGEgbmFtZS4KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBTdHJpbmcgZ2V0TmFtZShpbnQgc3RyYXRlZ3kpIHsKICAgICAgICBzd2l0\nY2ggKHN0cmF0ZWd5KSB7CiAgICAgICAgICAgIGNhc2UgTk9ORToKICAgICAg\nICAgICAgICAgIHJldHVybiAibm9uZSI7CiAgICAgICAgICAgIGNhc2UgSUdO\nT1JFOgogICAgICAgICAgICAgICAgcmV0dXJuICJpZ25vcmUiOwogICAgICAg\nICAgICBjYXNlIFJFU1RSSUNUOgogICAgICAgICAgICAgICAgcmV0dXJuICJy\nZXN0cmljdCI7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAg\nICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFN0cmluZy52\nYWx1ZU9mKHN0cmF0ZWd5KSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgog\nICAgICogQ29udmVydCB0aGUgZ2l2ZW4gc3RyYXRlZ3kgbmFtZSB0byBpdHMg\nY29uc3RhbnQuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgaW50IGdldENv\nZGUoU3RyaW5nIHZhbCwgT2JqZWN0IGNvbnRleHQpIHsKICAgICAgICBpZiAo\nIm5vbmUiLmVxdWFscyh2YWwpKQogICAgICAgICAgICByZXR1cm4gTk9ORTsK\nICAgICAgICBpZiAoImlnbm9yZSIuZXF1YWxzKHZhbCkpCiAgICAgICAgICAg\nIHJldHVybiBJR05PUkU7CiAgICAgICAgaWYgKCJyZXN0cmljdCIuZXF1YWxz\nKHZhbCkpCiAgICAgICAgICAgIHJldHVybiBSRVNUUklDVDsKCiAgICAgICAg\nTGlzdCBvcHRzID0gQXJyYXlzLmFzTGlzdChuZXcgU3RyaW5nW117ICJub25l\nIiwgImlnbm9yZSIsICJyZXN0cmljdCIgfSk7CiAgICAgICAgU3RyaW5nIGNs\nb3Nlc3QgPSBTdHJpbmdEaXN0YW5jZS5nZXRDbG9zZXN0TGV2ZW5zaHRlaW5E\naXN0YW5jZSh2YWwsCiAgICAgICAgICAgIG9wdHMsIC41Rik7CiAgICAgICAg\nU3RyaW5nIG1zZzsKICAgICAgICBpZiAoY2xvc2VzdCAhPSBudWxsKQogICAg\nICAgICAgICBtc2cgPSBfbG9jLmdldCgiYmFkLXVwZGF0ZS1zdHJhdGVneS1o\naW50IiwgbmV3IE9iamVjdFtdewogICAgICAgICAgICAgICAgY29udGV4dCwg\ndmFsLCBjbG9zZXN0LCBvcHRzIH0pLmdldE1lc3NhZ2UoKTsKICAgICAgICBl\nbHNlCiAgICAgICAgICAgIG1zZyA9IF9sb2MuZ2V0KCJiYWQtdXBkYXRlLXN0\ncmF0ZWd5IiwgY29udGV4dCwgdmFsLCBvcHRzKQogICAgICAgICAgICAgICAg\nLmdldE1lc3NhZ2UoKTsKICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3Vt\nZW50RXhjZXB0aW9uKG1zZyk7Cgl9Cn0K\n","encoding":"base64"}

