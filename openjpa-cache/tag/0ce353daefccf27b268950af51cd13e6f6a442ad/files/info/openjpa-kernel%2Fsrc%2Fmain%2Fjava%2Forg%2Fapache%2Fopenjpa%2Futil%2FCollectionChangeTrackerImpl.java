{"sha":"e88fb144ddd234de7a6bc675a6d583a8aa556cb2","node_id":"MDQ6QmxvYjIwNjM2NDplODhmYjE0NGRkZDIzNGRlN2E2YmM2NzVhNmQ1ODNhOGFhNTU2Y2Iy","size":3331,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e88fb144ddd234de7a6bc675a6d583a8aa556cb2","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS51dGlsOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Cmlt\ncG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuY29uZi5PcGVuSlBBQ29uZmlndXJhdGlvbjsKCi8qKgogKiBE\nZWZhdWx0IHtAbGluayBDb2xsZWN0aW9uQ2hhbmdlVHJhY2tlcn0uCiAqCiAq\nIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBj\nbGFzcyBDb2xsZWN0aW9uQ2hhbmdlVHJhY2tlckltcGwKICAgIGV4dGVuZHMg\nQWJzdHJhY3RDaGFuZ2VUcmFja2VyCiAgICBpbXBsZW1lbnRzIENvbGxlY3Rp\nb25DaGFuZ2VUcmFja2VyIHsKCiAgICBwcml2YXRlIGZpbmFsIENvbGxlY3Rp\nb24gX2NvbGw7CiAgICBwcml2YXRlIGZpbmFsIGJvb2xlYW4gX2R1cHM7CiAg\nICBwcml2YXRlIGZpbmFsIGJvb2xlYW4gX29yZGVyOwoKICAgIC8qKgogICAg\nICogQ29uc3RydWN0b3IuCiAgICAgKgogICAgICogQHBhcmFtIGNvbGwgdGhl\nIGNvbGxlY3Rpb24gdG8gZGVsZWdhdGUgdG8KICAgICAqIEBwYXJhbSBkdXBz\nIHRydWUgaWYgdGhlIGNvbGxlY3Rpb24gYWxsb3dzIGR1cGxpY2F0ZXMsIGZh\nbHNlIG90aGVyd2lzZQogICAgICogQHBhcmFtIG9yZGVyIHRydWUgaWYgdGhl\nIGNvbGxlY3Rpb24gaXMgb3JkZXJlZCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAg\nKi8KICAgIHB1YmxpYyBDb2xsZWN0aW9uQ2hhbmdlVHJhY2tlckltcGwoQ29s\nbGVjdGlvbiBjb2xsLCBib29sZWFuIGR1cHMsCiAgICAgICAgYm9vbGVhbiBv\ncmRlciwgT3BlbkpQQUNvbmZpZ3VyYXRpb24gY29uZikgewogICAgICAgIF9j\nb2xsID0gY29sbDsKICAgICAgICBfZHVwcyA9IGR1cHM7CiAgICAgICAgX29y\nZGVyID0gb3JkZXI7CiAgICB9CgogICAgcHVibGljIHZvaWQgYWRkZWQoT2Jq\nZWN0IGVsZW0pIHsKICAgICAgICBzdXBlci5hZGRlZChlbGVtKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCByZW1vdmVkKE9iamVjdCBlbGVtKSB7CiAgICAg\nICAgc3VwZXIucmVtb3ZlZChlbGVtKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQg\naW50IGluaXRpYWxTZXF1ZW5jZSgpIHsKICAgICAgICBpZiAoX29yZGVyKQog\nICAgICAgICAgICByZXR1cm4gX2NvbGwuc2l6ZSgpOwogICAgICAgIHJldHVy\nbiBzdXBlci5pbml0aWFsU2VxdWVuY2UoKTsKICAgIH0KCiAgICBwcm90ZWN0\nZWQgdm9pZCBhZGQoT2JqZWN0IGVsZW0pIHsKICAgICAgICBpZiAocmVtID09\nIG51bGwgfHwgIXJlbS5yZW1vdmUoZWxlbSkpIHsKICAgICAgICAgICAgLy8g\nYWZ0ZXIgYSBwb2ludCBpdCdzIGluZWZmaWNpZW50IHRvIGtlZXAgdHJhY2tp\nbmcKICAgICAgICAgICAgaWYgKGdldEF1dG9PZmYoKQogICAgICAgICAgICAg\nICAgJiYgZ2V0QWRkZWQoKS5zaXplKCkgKyBnZXRSZW1vdmVkKCkuc2l6ZSgp\nID49IF9jb2xsLnNpemUoKSkKICAgICAgICAgICAgICAgIHN0b3BUcmFja2lu\nZygpOwogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChh\nZGQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGlmIChfZHVwcyB8\nfCBfb3JkZXIpCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZCA9IG5ldyBB\ncnJheUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAg\nICAgICAgICAgICAgICAgIGFkZCA9IG5ld1NldCgpOwogICAgICAgICAgICAg\nICAgfQogICAgICAgICAgICAgICAgYWRkLmFkZChlbGVtKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0gZWxzZSBpZiAoX29yZGVyKQogICAgICAgICAgICBz\ndG9wVHJhY2tpbmcoKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYg\nKGNoYW5nZSA9PSBudWxsKQogICAgICAgICAgICAgICAgY2hhbmdlID0gbmV3\nU2V0KCk7CiAgICAgICAgICAgIGNoYW5nZS5hZGQoZWxlbSk7CiAgICAgICAg\nfQogICAgfQoKICAgIHByb3RlY3RlZCB2b2lkIHJlbW92ZShPYmplY3QgZWxl\nbSkgewogICAgICAgIC8vIGlmIHRoZSBjb2xsZWN0aW9uIGNvbnRhaW5zIG11\nbHRpcGxlIGNvcGllcyBvZiB0aGUgZWxlbSwgd2UgY2FuJ3QKICAgICAgICAv\nLyB1c2UgY2hhbmdlIHRyYWNraW5nIGJlY2F1c2Ugc29tZSBiYWNrLWVuZHMg\nY2FuJ3QganVzdCBkZWxldGUgYQogICAgICAgIC8vIHNpbmdsZSBjb3B5IG9m\nIGEgZWxlbQogICAgICAgIGlmIChfZHVwcyAmJiBnZXRBdXRvT2ZmKCkgJiYg\nX2NvbGwuY29udGFpbnMoZWxlbSkpCiAgICAgICAgICAgIHN0b3BUcmFja2lu\nZygpOwogICAgICAgIGVsc2UgaWYgKGFkZCA9PSBudWxsIHx8ICFhZGQucmVt\nb3ZlKGVsZW0pKSB7CiAgICAgICAgICAgIC8vIGFmdGVyIGEgcG9pbnQgaXQn\ncyBpbmVmZmljaWVudCB0byBrZWVwIHRyYWNraW5nCiAgICAgICAgICAgIGlm\nIChnZXRBdXRvT2ZmKCkKICAgICAgICAgICAgICAgICYmIGdldFJlbW92ZWQo\nKS5zaXplKCkgKyBnZXRBZGRlZCgpLnNpemUoKSA+PSBfY29sbC5zaXplKCkp\nCiAgICAgICAgICAgICAgICBzdG9wVHJhY2tpbmcoKTsKICAgICAgICAgICAg\nZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAocmVtID09IG51bGwpCiAgICAg\nICAgICAgICAgICAgICAgcmVtID0gbmV3U2V0KCk7CiAgICAgICAgICAgICAg\nICByZW0uYWRkKGVsZW0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAg\nfQoKICAgIHByb3RlY3RlZCB2b2lkIGNoYW5nZShPYmplY3QgZWxlbSkgewog\nICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEV4Y2VwdGlvbigpOwogICAgfQp9\nCg==\n","encoding":"base64"}

