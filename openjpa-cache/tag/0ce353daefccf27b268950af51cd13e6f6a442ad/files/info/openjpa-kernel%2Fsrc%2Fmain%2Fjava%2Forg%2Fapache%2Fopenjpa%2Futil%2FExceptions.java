{"sha":"93059c9d70ab5f22121b2f5c7e29758051ae9c72","node_id":"MDQ6QmxvYjIwNjM2NDo5MzA1OWM5ZDcwYWI1ZjIyMTIxYjJmNWM3ZTI5NzU4MDUxYWU5Yzcy","size":8528,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/93059c9d70ab5f22121b2f5c7e29758051ae9c72","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS51dGlsOwoKaW1wb3J0IGphdmEuaW8uT2JqZWN0T3V0cHV0U3Ry\nZWFtOwppbXBvcnQgamF2YS5pby5PdXRwdXRTdHJlYW07CmltcG9ydCBqYXZh\nLmlvLlByaW50U3RyZWFtOwppbXBvcnQgamF2YS5pby5QcmludFdyaXRlcjsK\naW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwppbXBvcnQgamF2YS51dGls\nLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQVZlcnNpb247Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5QZXJzaXN0ZW5jZUNh\ncGFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuSmF2\nYVZlcnNpb25zOwoKLyoqCiAqIFV0aWxpdHkgbWV0aG9kcyBmb3IgZXh0ZXJu\nYWxpemluZyBhbmQgaGFuZGxpbmcgZXhjZXB0aW9ucy4KICoKICogQGF1dGhv\nciBNYXJjIFBydWQnaG9tbWVhdXgKICogQHNpbmNlIDAuMi41CiAqIEBub2ph\ndmFkb2MKICovCnB1YmxpYyBjbGFzcyBFeGNlcHRpb25zIHsKCiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIFRocm93YWJsZVtdIEVNUFRZX1RIUk9XQUJMRVMg\nPSBuZXcgVGhyb3dhYmxlWzBdOwoKICAgIHN0YXRpYyBmaW5hbCBTdHJpbmcg\nU0VQID0gU3lzdGVtLmdldFByb3BlcnR5KCJsaW5lLnNlcGFyYXRvciIpOwoK\nICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIE91dHB1dFN0cmVhbSBERVZfTlVM\nTCA9IG5ldyBPdXRwdXRTdHJlYW0oKSB7CiAgICAgICAgcHVibGljIHZvaWQg\nd3JpdGUoaW50IGIpIHsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAg\nICogVGVzdCB0byBzZWUgaWYgdGhlIHNwZWNpZmllZCBvYmplY3Qgd2lsbCBi\nZSBhYmxlIHRvIGJlIHNlcmlhbGl6ZWQuIFRoaXMKICAgICAqIHdpbGwgY2hl\nY2sgaWYgdGhlIG9iamVjdCBpbXBsZW1lbnRzIHtAbGluayBTZXJpYWxpemFi\nbGV9LCBhbmQgaWYgc28sCiAgICAgKiB3aWxsIHRyeSB0byBwZXJmb3JtIGFu\nIGFjdHVhbCBzZXJpYWxpemF0aW9uLiBUaGlzIGlzIGluIGNhc2UgdGhlIG9i\namVjdAogICAgICogaGFzIGZpZWxkcyB3aGljaCwgaW4gdHVybiwgYXJlIG5v\ndCBzZXJpYWxpemFibGUuCiAgICAgKgogICAgICogQHBhcmFtIG9iIHRoZSBv\nYmplY3QgdG8gdGVzdAogICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBvYmpl\nY3Qgd2lsbCBiZSBhYmxlIHRvIGJlIHNlcmlhbGl6ZWQKICAgICAqLwogICAg\ncHJpdmF0ZSBzdGF0aWMgYm9vbGVhbiBpc1NlcmlhbGl6YWJsZShPYmplY3Qg\nb2IpIHsKICAgICAgICBpZiAoIShvYiBpbnN0YW5jZW9mIFNlcmlhbGl6YWJs\nZSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAgLy8gZG9u\nJ3Qgc2VyaWFsaXplIHBlcnNpc3RlbnQgb2JqZWN0cyBleGNlcHRpb25zIHRv\nIHByZXZlbnQKICAgICAgICAvLyByZWFkaW5nIGluIGFsbCB0aGUgc3RhdGUK\nICAgICAgICBpZiAoIUltcGxIZWxwZXIuaXNNYW5hZ2VkVHlwZShvYi5nZXRD\nbGFzcygpKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAv\nLyBub3cgZG8gYW4gYWN0dWFsIHRlc3QgdG8gc2VlIGlmIHdlIHdpbGwgYmUK\nICAgICAgICAvLyBhYmxlIHRvIHBlcmZvcm0gdGhlIHNlcmlhbGl6YXRpb24K\nICAgICAgICB0cnkgewogICAgICAgICAgICBuZXcgT2JqZWN0T3V0cHV0U3Ry\nZWFtKERFVl9OVUxMKS53cml0ZU9iamVjdChvYik7CiAgICAgICAgICAgIHJl\ndHVybiB0cnVlOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAg\nICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTYWZlbHkgc3RyaW5naWZ5IHRoZSBnaXZlbiBvYmplY3Qu\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIHRvU3RyaW5nKE9i\namVjdCBvYikgewogICAgICAgIGlmIChvYiA9PSBudWxsKQogICAgICAgICAg\nICByZXR1cm4gIm51bGwiOwoKICAgICAgICAvLyBkb24ndCB0YWtlIG9pZCBv\nZiBuZXcgb2JqZWN0cyBzaW5jZSBpdCBjYW4gY2F1c2UgYSBmbHVzaCBpZiBh\ndXRvLWluYwogICAgICAgIC8vIGFuZCB0aGUgaWQgaXMgbWVhbmluZ2xlc3Mg\nYW55d2F5CiAgICAgICAgT2JqZWN0IG9pZCA9IGdldE9iamVjdElkKG9iKTsK\nCiAgICAgICAgaWYgKG9pZCAhPSBudWxsKSB7CiAgICAgICAgICAgIGlmIChv\naWQgaW5zdGFuY2VvZiBJZCkKICAgICAgICAgICAgICAgIHJldHVybiBvaWQu\ndG9TdHJpbmcoKTsKICAgICAgICAgICAgcmV0dXJuIG9iLmdldENsYXNzKCku\nZ2V0TmFtZSgpICsgIi0iICsgb2lkLnRvU3RyaW5nKCk7CiAgICAgICAgfQoK\nICAgICAgICBpZiAoSW1wbEhlbHBlci5pc01hbmFnZWRUeXBlKG9iLmdldENs\nYXNzKCkpKSB7CiAgICAgICAgICAgIC8vIG5ldmVyIGNhbGwgdG9TdHJpbmco\nKSBvbiBhIFBlcnNpc3RlbmNlQ2FwYWJsZSwgc2luY2UKICAgICAgICAgICAg\nLy8gaXQgbWF5IGFjY2VzcyBwZXJzaXN0ZW50IGZpZWxkczsgZmFsbC1iYWNr\nIHRvIHVzaW5nCiAgICAgICAgICAgIC8vIHRoZSBzdGFuZGFyZCBvYmplY3Qg\nc3RyaW5naWZpY2F0aW9uIG1lY2hhbmlzbS4gTmV3CiAgICAgICAgICAgIC8v\nIGluc3RhbmNlcyB0aGF0IHVzZSBwcm94eWluZyAocHJvcGVydHktYWNjZXNz\nIGluc3RhbmNlcywKICAgICAgICAgICAgLy8gZm9yIGV4YW1wbGUpIHRoYXQg\nd2VyZSBjcmVhdGVkIHdpdGggdGhlICduZXcnIGtleXdvcmQKICAgICAgICAg\nICAgLy8gd2lsbCBub3QgZW5kIHVwIGluIHRoaXMgY29kZSwgd2hpY2ggaXMg\nb2sgc2luY2UgdGhleQogICAgICAgICAgICAvLyBkb24ndCBkbyBsYXp5IGxv\nYWRpbmcgYW55d2F5cywgc28gdGhleSB3aWxsIHN0cmluZ2lmeQogICAgICAg\nICAgICAvLyBzYWZlbHkuCiAgICAgICAgICAgIHJldHVybiBvYi5nZXRDbGFz\ncygpLmdldE5hbWUoKSArICJAIgogICAgICAgICAgICAgICAgKyBJbnRlZ2Vy\nLnRvSGV4U3RyaW5nKFN5c3RlbS5pZGVudGl0eUhhc2hDb2RlKG9iKSk7CiAg\nICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICBTdHJpbmcgcyA9\nIG9iLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIGlmIChzLmluZGV4T2Yob2Iu\nZ2V0Q2xhc3MoKS5nZXROYW1lKCkpID09IC0xKQogICAgICAgICAgICAgICAg\ncyArPSAiIFsiICsgb2IuZ2V0Q2xhc3MoKS5nZXROYW1lKCkgKyAiXSI7CiAg\nICAgICAgICAgIHJldHVybiBzOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJs\nZSB0KSB7CiAgICAgICAgICAgIHJldHVybiBvYi5nZXRDbGFzcygpLmdldE5h\nbWUoKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBTYWZlbHkg\nc3RyaW5naWZ5IHRoZSBnaXZlbiBvYmplY3RzLgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIFN0cmluZyB0b1N0cmluZyhDb2xsZWN0aW9uIGZhaWxlZCkg\newogICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVy\nKCk7CiAgICAgICAgYnVmLmFwcGVuZCgiWyIpOwogICAgICAgIGZvciAoSXRl\ncmF0b3IgaXRyID0gZmFpbGVkLml0ZXJhdG9yKCk7IGl0ci5oYXNOZXh0KCk7\nKSB7CiAgICAgICAgICAgIGJ1Zi5hcHBlbmQoRXhjZXB0aW9ucy50b1N0cmlu\nZyhpdHIubmV4dCgpKSk7CiAgICAgICAgICAgIGlmIChpdHIuaGFzTmV4dCgp\nKQogICAgICAgICAgICAgICAgYnVmLmFwcGVuZCgiLCAiKTsKICAgICAgICB9\nCiAgICAgICAgYnVmLmFwcGVuZCgiXSIpOwogICAgICAgIHJldHVybiBidWYu\ndG9TdHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFN0cmluZ2lmeSB0\naGUgZ2l2ZW4gZXhjZXB0aW9uLgogICAgICovCiAgICBwdWJsaWMgc3RhdGlj\nIFN0cmluZyB0b1N0cmluZyhFeGNlcHRpb25JbmZvIGUpIHsKICAgICAgICBT\ndHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAg\nIGJ1Zi5hcHBlbmQoIjwiKS5hcHBlbmQoZS5nZXRUeXBlKCkpLgogICAgICAg\nICAgICBhcHBlbmQoJ3wnKS5hcHBlbmQoZS5pc0ZhdGFsKCkpLgogICAgICAg\nICAgICBhcHBlbmQoJ3wnKS5hcHBlbmQoT3BlbkpQQVZlcnNpb24uVkVSU0lP\nTl9OVU1CRVIpLgogICAgICAgICAgICBhcHBlbmQoIj4gIik7CiAgICAgICAg\nYnVmLmFwcGVuZChlLmdldENsYXNzKCkuZ2V0TmFtZSgpKS5hcHBlbmQoIjog\nIikuCiAgICAgICAgICAgIGFwcGVuZChlLmdldE1lc3NhZ2UoKSk7CiAgICAg\nICAgT2JqZWN0IGZhaWxlZCA9IGUuZ2V0RmFpbGVkT2JqZWN0KCk7CiAgICAg\nICAgaWYgKGZhaWxlZCAhPSBudWxsKQogICAgICAgICAgICBidWYuYXBwZW5k\nKFNFUCkuYXBwZW5kKCJGYWlsZWRPYmplY3Q6ICIpLgogICAgICAgICAgICAg\nICAgYXBwZW5kKHRvU3RyaW5nKGZhaWxlZCkpOwogICAgICAgIHJldHVybiBi\ndWYudG9TdHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFByaW50IHRo\nZSBzdGFjayB0cmFjZSBvZiB0aGUgZXhjZXB0aW9uJ3MgbmVzdGVkIHRocm93\nYWJsZXMuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBwcmludE5l\nc3RlZFRocm93YWJsZXMoRXhjZXB0aW9uSW5mbyBlLCBQcmludFN0cmVhbSBv\ndXQpIHsKICAgICAgICAvLyBpZiB0aGlzIGlzIEphdmEgMS40IGFuZCB0aGVy\nZSBpcyBleGFjdGx5IGEgc2luZ2xlCiAgICAgICAgLy8gZXhjZXB0aW9uLCB0\naGVuIGRlZmVyIHRvIDEuNCdzIGJlaGF2aW9yIG9mIHByaW50aW5nCiAgICAg\nICAgLy8gb3V0IHRoZSByZXN1bHQgb2YgZ2V0Q2F1c2UoKS4gVGhpcyBkZWZl\ncnJhbCBoYXBwZW5zIGluCiAgICAgICAgLy8gdGhlIGNhbGxpbmcgY29kZS4K\nICAgICAgICBUaHJvd2FibGVbXSBuZXN0ZWQgPSBlLmdldE5lc3RlZFRocm93\nYWJsZXMoKTsKICAgICAgICBpbnQgaSA9IChKYXZhVmVyc2lvbnMuVkVSU0lP\nTiA+PSA0KSA/IDEgOiAwOwogICAgICAgIGlmIChpIDwgbmVzdGVkLmxlbmd0\naCkgewogICAgICAgICAgICBvdXQucHJpbnRsbigiTmVzdGVkVGhyb3dhYmxl\nczoiKTsKICAgICAgICAgICAgZm9yICg7IGkgPCBuZXN0ZWQubGVuZ3RoOyBp\nKyspCiAgICAgICAgICAgICAgICBuZXN0ZWRbaV0ucHJpbnRTdGFja1RyYWNl\nKG91dCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUHJpbnQg\ndGhlIHN0YWNrIHRyYWNlIG9mIHRoZSBleGNlcHRpb24ncyBuZXN0ZWQgdGhy\nb3dhYmxlcy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyB2b2lkIHByaW50\nTmVzdGVkVGhyb3dhYmxlcyhFeGNlcHRpb25JbmZvIGUsIFByaW50V3JpdGVy\nIG91dCkgewogICAgICAgIC8vIGlmIHRoaXMgaXMgSmF2YSAxLjQgYW5kIHRo\nZXJlIGlzIGV4YWN0bHkgYSBzaW5nbGUKICAgICAgICAvLyBleGNlcHRpb24s\nIHRoZW4gZGVmZXIgdG8gMS40J3MgYmVoYXZpb3Igb2YgcHJpbnRpbmcKICAg\nICAgICAvLyBvdXQgdGhlIHJlc3VsdCBvZiBnZXRDYXVzZSgpLiBUaGlzIGRl\nZmVycmFsIGhhcHBlbnMgaW4KICAgICAgICAvLyB0aGUgY2FsbGluZyBjb2Rl\nLgogICAgICAgIFRocm93YWJsZVtdIG5lc3RlZCA9IGUuZ2V0TmVzdGVkVGhy\nb3dhYmxlcygpOwogICAgICAgIGludCBpID0gKEphdmFWZXJzaW9ucy5WRVJT\nSU9OID49IDQpID8gMSA6IDA7CiAgICAgICAgaWYgKGkgPCBuZXN0ZWQubGVu\nZ3RoKSB7CiAgICAgICAgICAgIG91dC5wcmludGxuKCJOZXN0ZWRUaHJvd2Fi\nbGVzOiIpOwogICAgICAgICAgICBmb3IgKDsgaSA8IG5lc3RlZC5sZW5ndGg7\nIGkrKykKICAgICAgICAgICAgICAgIG5lc3RlZFtpXS5wcmludFN0YWNrVHJh\nY2Uob3V0KTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDb252\nZXJ0IHRoZSBzcGVjaWZpZWQgZmFpbGVkIG9iamVjdCBpbnRvIGEgc2VyaWFs\naXphYmxlCiAgICAgKiBvYmplY3QgZm9yIHdoZW4gd2UgYXJlIHNlcmlhbGl6\naW5nIGFuIEV4Y2VwdGlvbi4gSXQgd2lsbAogICAgICogdHJ5IHRoZSBmb2xs\nb3dpbmc6CiAgICAgKiA8dWw+CiAgICAgKiA8bGk+aWYgdGhlIG9iamVjdCBj\nYW4gYmUgc2VyaWFsaXplZCwgcmV0dXJuIHRoZSBvYmplY3QgaXRzZWxmPC9s\naT4KICAgICAqIDxsaT5pZiB0aGUgb2JqZWN0IGhhcyBhIHNlcmlhbGl6YWJs\nZSBvaWQsIHJldHVybiB0aGUgb2lkPC9saT4KICAgICAqIDxsaT5pZiB0aGUg\nb2JqZWN0IGhhcyBhIG5vbi1zZXJpYWxpemFibGUgb2lkLCByZXR1cm4gdGhl\nIG9pZCdzCiAgICAgKiB0b1N0cmluZyBhbmQgdGhlIG9iamVjdCBjbGFzczwv\nbGk+CiAgICAgKiA8bGk+cmV0dXJuIHRoZSBvYmplY3QncyB0b1N0cmluZzwv\nbGk+CiAgICAgKiA8L3VsPgogICAgICoKICAgICAqIEBwYXJhbSBvYiB0aGUg\nb2JqZWN0IHRvIGNvbnZlcnQKICAgICAqIEByZXR1cm4gc29tZSBzZXJpYWxp\nemVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QKICAgICAqLwogICAg\ncHVibGljIHN0YXRpYyBPYmplY3QgcmVwbGFjZUZhaWxlZE9iamVjdChPYmpl\nY3Qgb2IpIHsKICAgICAgICBpZiAob2IgPT0gbnVsbCkKICAgICAgICAgICAg\ncmV0dXJuIG51bGw7CiAgICAgICAgaWYgKGlzU2VyaWFsaXphYmxlKG9iKSkK\nICAgICAgICAgICAgcmV0dXJuIG9iOwoKICAgICAgICAvLyBkb24ndCB0YWtl\nIG9pZCBvZiBuZXcgb2JqZWN0cyBzaW5jZSBpdCBjYW4gY2F1c2UgYSBmbHVz\naCBpZiBhdXRvLWluYwogICAgICAgIC8vIGFuZCB0aGUgaWQgaXMgbWVhbmlu\nZ2xlc3MgYW55d2F5CiAgICAgICAgT2JqZWN0IG9pZCA9IGdldE9iamVjdElk\nKG9iKTsKICAgICAgICBpZiAob2lkICE9IG51bGwgJiYgaXNTZXJpYWxpemFi\nbGUob2lkKSkKICAgICAgICAgICAgcmV0dXJuIG9pZDsKCiAgICAgICAgLy8g\nbGFzdCBkaXRjaDogc3RyaW5naWZ5IHRoZSBvYmplY3QKICAgICAgICByZXR1\ncm4gdG9TdHJpbmcob2IpOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVy\ndCB0aGUgc3BlY2lmaWVkIHRocm93YWJsZXMgaW50byBhIHNlcmlhbHphYmxl\nIGFycmF5LiBJZgogICAgICogYW55IG9mIHRoZSBuZXN0ZWQgdGhyb3dhYmxl\ncyBjYW5ub3QgYmUgc2VyaWFsaXplZCwgdGhleSB3aWxsCiAgICAgKiBiZSBj\nb252ZXJ0ZWQgaW50byBhIEV4Y2VwdGlvbiB3aXRoIHRoZSBvcmlnaW5hbCBt\nZXNzYWdlLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFRocm93YWJsZVtd\nIHJlcGxhY2VOZXN0ZWRUaHJvd2FibGVzKFRocm93YWJsZVtdIG5lc3RlZCkg\newogICAgICAgIGlmIChuZXN0ZWQgPT0gbnVsbCB8fCBuZXN0ZWQubGVuZ3Ro\nID09IDApCiAgICAgICAgICAgIHJldHVybiBuZXN0ZWQ7CiAgICAgICAgaWYg\nKGlzU2VyaWFsaXphYmxlKG5lc3RlZCkpCiAgICAgICAgICAgIHJldHVybiBu\nZXN0ZWQ7CgogICAgICAgIFRocm93YWJsZVtdIG5ld05lc3RlZCA9IG5ldyBU\naHJvd2FibGVbbmVzdGVkLmxlbmd0aF07CiAgICAgICAgZm9yIChpbnQgaSA9\nIDA7IGkgPCBuZXN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYg\nKGlzU2VyaWFsaXphYmxlKG5lc3RlZFtpXSkpCiAgICAgICAgICAgICAgICBu\nZXdOZXN0ZWRbaV0gPSBuZXN0ZWRbaV07CiAgICAgICAgICAgIGVsc2UKICAg\nICAgICAgICAgICAgIG5ld05lc3RlZFtpXSA9IG5ldyBFeGNlcHRpb24obmVz\ndGVkW2ldLnRvU3RyaW5nKCkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4g\nbmV3TmVzdGVkOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBv\nYmplY3QgaWQgZm9yIDxjb2RlPm9iPC9jb2RlPiBpZiBpdCBoYXMgb25lLCBv\ncgogICAgICogPGNvZGU+bnVsbDwvY29kZT4gb3RoZXJ3aXNlLgogICAgICov\nCiAgICBwcml2YXRlIHN0YXRpYyBPYmplY3QgZ2V0T2JqZWN0SWQoT2JqZWN0\nIG9iKSB7CiAgICAgICAgaWYgKG9iIGluc3RhbmNlb2YgUGVyc2lzdGVuY2VD\nYXBhYmxlCiAgICAgICAgICAgICYmICEoKFBlcnNpc3RlbmNlQ2FwYWJsZSkg\nb2IpLnBjSXNOZXcoKSkKICAgICAgICAgICAgcmV0dXJuICgoUGVyc2lzdGVu\nY2VDYXBhYmxlKSBvYikucGNGZXRjaE9iamVjdElkKCk7CiAgICAgICAgZWxz\nZQoJCQlyZXR1cm4gbnVsbDsKCX0KfQo=\n","encoding":"base64"}

