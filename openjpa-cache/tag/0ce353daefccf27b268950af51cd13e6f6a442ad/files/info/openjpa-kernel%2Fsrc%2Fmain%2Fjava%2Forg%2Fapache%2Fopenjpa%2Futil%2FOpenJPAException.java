{"sha":"0ff99ccf307cc79c5771a44180d236e4cff51d4f","node_id":"MDQ6QmxvYjIwNjM2NDowZmY5OWNjZjMwN2NjNzljNTc3MWE0NDE4MGQyMzZlNGNmZjUxZDRm","size":4847,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0ff99ccf307cc79c5771a44180d236e4cff51d4f","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS51dGlsOwoKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247Cmlt\ncG9ydCBqYXZhLmlvLk9iamVjdElucHV0U3RyZWFtOwppbXBvcnQgamF2YS5p\nby5PYmplY3RPdXRwdXRTdHJlYW07CmltcG9ydCBqYXZhLmlvLlByaW50U3Ry\nZWFtOwppbXBvcnQgamF2YS5pby5QcmludFdyaXRlcjsKaW1wb3J0IGphdmEu\naW8uU2VyaWFsaXphYmxlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIudXRpbC5Mb2NhbGl6ZXIuTWVzc2FnZTsKCi8qKgogKiBFeGNlcHRpb24g\ndHlwZSBmb3IgYWxsIE9wZW5KUEEgZXhjZXB0aW9ucy4gTWVhbnQgdG8gYmUg\nZWFzaWx5CiAqIHRyYW5zZm9ybWVkIGludG8gYW4gYXBwcm9wcmlhdGUgZXhj\nZXB0aW9uIGF0IHRoZSBBUEkgbGF5ZXIsIHNpbmNlIG1vc3QgQVBJcwogKiBk\nZWZpbmUgdGhlaXIgb3duIGV4Y2VwdGlvbiB0eXBlcy4KICoKICogQGF1dGhv\nciBBYmUgV2hpdGUKICogQHNpbmNlIDAuNC4wCiAqLwpwdWJsaWMgYWJzdHJh\nY3QgY2xhc3MgT3BlbkpQQUV4Y2VwdGlvbgogICAgZXh0ZW5kcyBSdW50aW1l\nRXhjZXB0aW9uCiAgICBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZSwgRXhjZXB0\naW9uSW5mbyB7CgogICAgcHJpdmF0ZSB0cmFuc2llbnQgYm9vbGVhbiBfZmF0\nYWwgPSBmYWxzZTsKICAgIHByaXZhdGUgdHJhbnNpZW50IE9iamVjdCBfZmFp\nbGVkID0gbnVsbDsKICAgIHByaXZhdGUgdHJhbnNpZW50IFRocm93YWJsZVtd\nIF9uZXN0ZWQgPSBudWxsOwoKICAgIC8qKgogICAgICogRGVmYXVsdCBjb25z\ndHJ1Y3Rvci4KICAgICAqLwogICAgcHVibGljIE9wZW5KUEFFeGNlcHRpb24o\nKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvcjsgc3VwcGx5\nIG1lc3NhZ2UuCiAgICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBRXhjZXB0aW9u\nKFN0cmluZyBtc2cpIHsKICAgICAgICBzdXBlcihtc2cpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBtZXNzYWdlLgogICAg\nICovCiAgICBwdWJsaWMgT3BlbkpQQUV4Y2VwdGlvbihNZXNzYWdlIG1zZykg\newogICAgICAgIHN1cGVyKG1zZy5nZXRNZXNzYWdlKCkpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ29uc3RydWN0IHdpdGggY2F1c2UuCiAgICAgKi8KICAg\nIHB1YmxpYyBPcGVuSlBBRXhjZXB0aW9uKFRocm93YWJsZSBjYXVzZSkgewog\nICAgICAgIHRoaXMoY2F1c2UuZ2V0TWVzc2FnZSgpLCBjYXVzZSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Qgd2l0aCBtZXNzYWdlIGFuZCBj\nYXVzZS4KICAgICAqLwogICAgcHVibGljIE9wZW5KUEFFeGNlcHRpb24oU3Ry\naW5nIG1zZywgVGhyb3dhYmxlIGNhdXNlKSB7CiAgICAgICAgc3VwZXIobXNn\nKTsKICAgICAgICBzZXRDYXVzZShjYXVzZSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBDb25zdHJ1Y3Qgd2l0aCBtZXNzYWdlIGFuZCBjYXVzZS4KICAgICAq\nLwogICAgcHVibGljIE9wZW5KUEFFeGNlcHRpb24oTWVzc2FnZSBtc2csIFRo\ncm93YWJsZSBjYXVzZSkgewogICAgICAgIHN1cGVyKG1zZy5nZXRNZXNzYWdl\nKCkpOwogICAgICAgIHNldENhdXNlKGNhdXNlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIEV4Y2VwdGlvbiB0eXBlLgogICAgICovCiAgICBwdWJsaWMgYWJz\ndHJhY3QgaW50IGdldFR5cGUoKTsKCiAgICAvKioKICAgICAqIEV4Y2VwdGlv\nbiBzdWJ0eXBlLgogICAgICovCiAgICBwdWJsaWMgaW50IGdldFN1YnR5cGUo\nKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgLyoqCiAgICAgKiBX\naGV0aGVyIHRoaXMgZXJyb3IgaXMgZmF0YWwuCiAgICAgKi8KICAgIHB1Ymxp\nYyBib29sZWFuIGlzRmF0YWwoKSB7CiAgICAgICAgcmV0dXJuIF9mYXRhbDsK\nICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhpcyBlcnJvciBpcyBm\nYXRhbC4KICAgICAqLwogICAgcHVibGljIE9wZW5KUEFFeGNlcHRpb24gc2V0\nRmF0YWwoYm9vbGVhbiBmYXRhbCkgewogICAgICAgIF9mYXRhbCA9IGZhdGFs\nOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJucyB0aGUgZmlyc3Qge0BsaW5rIFRocm93YWJsZX0gZnJvbSB7QGxp\nbmsgI2dldE5lc3RlZFRocm93YWJsZXN9CiAgICAgKiBpbiBvcmRlciB0byBj\nb25mb3JtIHRvIHtAbGluayBUaHJvd2FibGUjZ2V0Q2F1c2V9IGluIEphdmEg\nMS40Ky4KICAgICAqCiAgICAgKiBAc2VlIFRocm93YWJsZSNnZXRDYXVzZQog\nICAgICovCiAgICBwdWJsaWMgVGhyb3dhYmxlIGdldENhdXNlKCkgewogICAg\nICAgIGlmIChfbmVzdGVkID09IG51bGwgfHwgX25lc3RlZC5sZW5ndGggPT0g\nMCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgZWxzZQogICAg\nICAgICAgICByZXR1cm4gX25lc3RlZFswXTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFRoZSBmaXJzdCBuZXN0ZWQgdGhyb3dhYmxlLgogICAgICovCiAgICBw\ndWJsaWMgT3BlbkpQQUV4Y2VwdGlvbiBzZXRDYXVzZShUaHJvd2FibGUgbmVz\ndGVkKSB7CiAgICAgICAgaWYgKF9uZXN0ZWQgIT0gbnVsbCkKICAgICAgICAg\nICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOwogICAgICAg\nIGlmIChuZXN0ZWQgIT0gbnVsbCkKICAgICAgICAgICAgX25lc3RlZCA9IG5l\ndyBUaHJvd2FibGVbXXsgbmVzdGVkIH07CiAgICAgICAgcmV0dXJuIHRoaXM7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgbmVzdGVkIHRocm93YWJsZXMu\nCiAgICAgKi8KICAgIHB1YmxpYyBUaHJvd2FibGVbXSBnZXROZXN0ZWRUaHJv\nd2FibGVzKCkgewogICAgICAgIHJldHVybiAoX25lc3RlZCA9PSBudWxsKSA/\nIEV4Y2VwdGlvbnMuRU1QVFlfVEhST1dBQkxFUyA6IF9uZXN0ZWQ7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBUaGUgbmVzdGVkIHRocm93YWJsZXMuCiAgICAg\nKi8KICAgIHB1YmxpYyBPcGVuSlBBRXhjZXB0aW9uIHNldE5lc3RlZFRocm93\nYWJsZXMoVGhyb3dhYmxlW10gbmVzdGVkKSB7CiAgICAgICAgX25lc3RlZCA9\nIG5lc3RlZDsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioK\nICAgICAqIFRoZSBmYWlsZWQgb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMg\nT2JqZWN0IGdldEZhaWxlZE9iamVjdCgpIHsKICAgICAgICByZXR1cm4gX2Zh\naWxlZDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBmYWlsZWQgb2JqZWN0\nLgogICAgICovCiAgICBwdWJsaWMgT3BlbkpQQUV4Y2VwdGlvbiBzZXRGYWls\nZWRPYmplY3QoT2JqZWN0IGZhaWxlZCkgewogICAgICAgIF9mYWlsZWQgPSBm\nYWlsZWQ7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICByZXR1cm4gRXhjZXB0aW9u\ncy50b1N0cmluZyh0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcmlu\ndFN0YWNrVHJhY2UoKSB7CiAgICAgICAgcHJpbnRTdGFja1RyYWNlKFN5c3Rl\nbS5lcnIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByaW50U3RhY2tUcmFj\nZShQcmludFN0cmVhbSBvdXQpIHsKICAgICAgICBzdXBlci5wcmludFN0YWNr\nVHJhY2Uob3V0KTsKICAgICAgICBFeGNlcHRpb25zLnByaW50TmVzdGVkVGhy\nb3dhYmxlcyh0aGlzLCBvdXQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHBy\naW50U3RhY2tUcmFjZShQcmludFdyaXRlciBvdXQpIHsKICAgICAgICBzdXBl\nci5wcmludFN0YWNrVHJhY2Uob3V0KTsKICAgICAgICBFeGNlcHRpb25zLnBy\naW50TmVzdGVkVGhyb3dhYmxlcyh0aGlzLCBvdXQpOwogICAgfQoKICAgIHBy\naXZhdGUgdm9pZCB3cml0ZU9iamVjdChPYmplY3RPdXRwdXRTdHJlYW0gb3V0\nKQogICAgICAgIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgb3V0Lndy\naXRlQm9vbGVhbihfZmF0YWwpOwogICAgICAgIG91dC53cml0ZU9iamVjdChF\neGNlcHRpb25zLnJlcGxhY2VGYWlsZWRPYmplY3QoX2ZhaWxlZCkpOwogICAg\nICAgIG91dC53cml0ZU9iamVjdChFeGNlcHRpb25zLnJlcGxhY2VOZXN0ZWRU\naHJvd2FibGVzKF9uZXN0ZWQpKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQg\ncmVhZE9iamVjdChPYmplY3RJbnB1dFN0cmVhbSBpbikKICAgICAgICB0aHJv\nd3MgSU9FeGNlcHRpb24sIENsYXNzTm90Rm91bmRFeGNlcHRpb24gewogICAg\nICAgIF9mYXRhbCA9IGluLnJlYWRCb29sZWFuKCk7CiAgICAgICAgX2ZhaWxl\nZCA9IGluLnJlYWRPYmplY3QoKTsKICAgICAgICBfbmVzdGVkID0gKFRocm93\nYWJsZVtdKSBpbi5yZWFkT2JqZWN0ICgpOwoJfQp9Cgo=\n","encoding":"base64"}

