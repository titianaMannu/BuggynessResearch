{"sha":"99f367ede600bcaebf0682cc6b1a63cb9f9f5931","node_id":"MDQ6QmxvYjIwNjM2NDo5OWYzNjdlZGU2MDBiY2FlYmYwNjgyY2M2YjFhNjNjYjlmOWY1OTMx","size":3152,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/99f367ede600bcaebf0682cc6b1a63cb9f9f5931","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS51dGlsOwoKaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwoK\nLyoqCiAqIElkZW50aXR5IGNsYXNzIGV4dGVuZGVkIGJ5IGJ1aWx0aW4gT3Bl\nbkpQQSBpZGVudGl0eSBvYmplY3RzLgogKgogKiBAYXV0aG9yIFN0ZXZlIEtp\nbQogKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIE9wZW5KUEFJZAogICAgaW1w\nbGVtZW50cyBDb21wYXJhYmxlLCBTZXJpYWxpemFibGUgewoKICAgIHByb3Rl\nY3RlZCBDbGFzcyB0eXBlOwogICAgcHJvdGVjdGVkIGJvb2xlYW4gc3VicyA9\nIHRydWU7CgogICAgLy8gdHlwZSBoYXMgaGlzIGJhc2VkIG9uIHRoZSBsZWFz\ndC1kZXJpdmVkIG5vbi1vYmplY3QgY2xhc3Mgc28gdGhhdAogICAgLy8gdXNl\nci1naXZlbiBpZHMgd2l0aCBub24tZXhhY3QgdHlwZXMgbWF0Y2ggaWRzIHdp\ndGggZXhhY3QgdHlwZXMKICAgIHByaXZhdGUgdHJhbnNpZW50IGludCBfdHlw\nZUhhc2ggPSAwOwoKICAgIHByb3RlY3RlZCBPcGVuSlBBSWQoKSB7CiAgICB9\nCgogICAgcHJvdGVjdGVkIE9wZW5KUEFJZChDbGFzcyB0eXBlKSB7CiAgICAg\nICAgdGhpcy50eXBlID0gdHlwZTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgT3Bl\nbkpQQUlkKENsYXNzIHR5cGUsIGJvb2xlYW4gc3VicykgewogICAgICAgIHRo\naXMudHlwZSA9IHR5cGU7CiAgICAgICAgdGhpcy5zdWJzID0gc3ViczsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgcGVyc2l0ZW50IGNsYXNz\nIHdoaWNoIHRoaXMgaWQgaW5zdGFuY2UgcmVwcmVzZW50cy4KICAgICAqLwog\nICAgcHVibGljIENsYXNzIGdldFR5cGUoKSB7CiAgICAgICAgcmV0dXJuIHR5\ncGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgb2lkIG1p\nZ2h0IGJlIGZvciBhIHN1YmNsYXNzIG9mIHRoZSBnaXZlbiB0eXBlLgogICAg\nICogRGVmYXVsdHMgdG8gdHJ1ZS4KICAgICAqLwogICAgcHVibGljIGJvb2xl\nYW4gaGFzU3ViY2xhc3NlcygpIHsKICAgICAgICByZXR1cm4gc3ViczsKICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgZXhhY3QgdHlwZSBvZiB0aGUg\nZGVzY3JpYmVkIGluc3RhbmNlIG9uY2UgaXQgaXMga25vd24uCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldE1hbmFnZWRJbnN0YW5jZVR5cGUoQ2xhc3Mg\ndHlwZSkgewogICAgICAgIHRoaXMudHlwZSA9IHR5cGU7CiAgICAgICAgdGhp\ncy5zdWJzID0gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4g\ndGhlIGlkZW50aXR5IHZhbHVlIGFzIGFuIG9iamVjdC4KICAgICAqLwogICAg\ncHVibGljIGFic3RyYWN0IE9iamVjdCBnZXRJZE9iamVjdCgpOwoKICAgIC8q\nKgogICAgICogUmV0dXJuIHRoZSBpZCdzIGhhc2ggY29kZS4KICAgICAqLwog\nICAgcHJvdGVjdGVkIGFic3RyYWN0IGludCBpZEhhc2goKTsKCiAgICAvKioK\nICAgICAqIENvbXBhcmUgdGhlIGlkIHRvIHRoZSBpZCBvZiB0aGUgZ2l2ZW4g\naW5zdGFuY2UuCiAgICAgKi8KICAgIHByb3RlY3RlZCBhYnN0cmFjdCBib29s\nZWFuIGlkRXF1YWxzKE9wZW5KUEFJZCBvdGhlcik7CgogICAgcHVibGljIGlu\ndCBoYXNoQ29kZSgpIHsKICAgICAgICBpZiAoX3R5cGVIYXNoID09IDApIHsK\nICAgICAgICAgICAgQ2xhc3MgYmFzZSA9IHR5cGU7CiAgICAgICAgICAgIHdo\naWxlIChiYXNlLmdldFN1cGVyY2xhc3MoKSAhPSBudWxsCiAgICAgICAgICAg\nICAgICAmJiBiYXNlLmdldFN1cGVyY2xhc3MoKSAhPSBPYmplY3QuY2xhc3Mp\nCiAgICAgICAgICAgICAgICBiYXNlID0gYmFzZS5nZXRTdXBlcmNsYXNzKCk7\nCiAgICAgICAgICAgIF90eXBlSGFzaCA9IGJhc2UuaGFzaENvZGUoKTsKICAg\nICAgICB9CiAgICAgICAgcmV0dXJuIF90eXBlSGFzaCBeIGlkSGFzaCgpOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgbykgewog\nICAgICAgIGlmIChvID09IHRoaXMpCiAgICAgICAgICAgIHJldHVybiB0cnVl\nOwogICAgICAgIGlmIChvID09IG51bGwgfHwgZ2V0Q2xhc3MoKSAhPSBvLmdl\ndENsYXNzKCkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAg\nT3BlbkpQQUlkIGlkID0gKE9wZW5KUEFJZCkgbzsKICAgICAgICByZXR1cm4g\naWRFcXVhbHMoaWQpICYmIChpZC50eXBlLmlzQXNzaWduYWJsZUZyb20odHlw\nZSkKICAgICAgICAgICAgfHwgKHN1YnMgJiYgdHlwZS5pc0Fzc2lnbmFibGVG\ncm9tKGlkLnR5cGUpKSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyB0b1N0\ncmluZygpIHsKICAgICAgICByZXR1cm4gdHlwZS5nZXROYW1lKCkgKyAiLSIg\nKyBnZXRJZE9iamVjdCgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgY29tcGFy\nZVRvKE9iamVjdCBvdGhlcikgewogICAgICAgIGlmIChvdGhlciA9PSB0aGlz\nKQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICBpZiAob3RoZXIgPT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgcmV0dXJuICgo\nQ29tcGFyYWJsZSkgZ2V0SWRPYmplY3QoKSkuY29tcGFyZVRvKCgoT3BlbkpQ\nQUlkKSBvdGhlcikuCiAgICAgICAgICAgIGdldElkT2JqZWN0ICgpKTsKCX0K\nfQo=\n","encoding":"base64"}

