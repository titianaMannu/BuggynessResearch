{"sha":"ab05c71b99ac3ea00f6147567bb7be8270c70c71","node_id":"MDQ6QmxvYjIwNjM2NDphYjA1YzcxYjk5YWMzZWEwMGY2MTQ3NTY3YmI3YmU4MjcwYzcwYzcx","size":2735,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ab05c71b99ac3ea00f6147567bb7be8270c70c71","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS51dGlsOwoKaW1wb3J0IGphdmEuaW8uT2JqZWN0U3RyZWFtRXhj\nZXB0aW9uOwppbXBvcnQgamF2YS5zcWwuVGltZTsKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLk9wZW5KUEFTdGF0ZU1hbmFnZXI7CgovKioK\nICogRXh0ZW5zaW9uIG9mIHRoZSB7QGxpbmsgVGltZX0gdHlwZSB0aGF0IGNh\nbGxzIHRoZSA8Y29kZT5kaXJ0eTwvY29kZT4KICogbWV0aG9kIG9uIGl0cyBv\nd25pbmcgcGVyc2lzdGVuY2UgY2FwYWJsZSBpbnN0YW5jZSBvbiBtb2RpZmlj\nYXRpb24uIFRoaXMKICogY2xhc3MgZG9lcyBub3Qgc3VwcG9ydCBtb2RpZmlj\nYXRpb24gdmlhIGFueSBkZXByZWNhdGVkIG1ldGhvZCBvZiB0aGUKICogZGF0\nZSBjbGFzcy4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQG5vamF2YWRv\nYwogKi8KcHVibGljIGNsYXNzIFByb3h5VGltZQogICAgZXh0ZW5kcyBUaW1l\nCiAgICBpbXBsZW1lbnRzIFByb3h5RGF0ZSB7CgogICAgcHJpdmF0ZSB0cmFu\nc2llbnQgT3BlbkpQQVN0YXRlTWFuYWdlciBfc20gPSBudWxsOwogICAgcHJp\ndmF0ZSB0cmFuc2llbnQgaW50IF9maWVsZCA9IC0xOwoKICAgIHB1YmxpYyBQ\ncm94eVRpbWUoKSB7CiAgICAgICAgc3VwZXIoU3lzdGVtLmN1cnJlbnRUaW1l\nTWlsbGlzKCkpOwogICAgfQoKICAgIHB1YmxpYyBQcm94eVRpbWUobG9uZyB0\naW1lKSB7CiAgICAgICAgc3VwZXIodGltZSk7CiAgICB9CgogICAgcHVibGlj\nIFByb3h5RGF0ZSBuZXdJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gbmV3\nIFByb3h5VGltZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE93bmVy\nKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIGludCBmaWVsZCkgewogICAgICAg\nIF9zbSA9IHNtOwogICAgICAgIF9maWVsZCA9IGZpZWxkOwogICAgfQoKICAg\nIHB1YmxpYyBPcGVuSlBBU3RhdGVNYW5hZ2VyIGdldE93bmVyKCkgewogICAg\nICAgIHJldHVybiBfc207CiAgICB9CgogICAgcHVibGljIGludCBnZXRPd25l\nckZpZWxkKCkgewogICAgICAgIHJldHVybiBfZmllbGQ7CiAgICB9CgogICAg\ncHVibGljIENoYW5nZVRyYWNrZXIgZ2V0Q2hhbmdlVHJhY2tlcigpIHsKICAg\nICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGNv\ncHkoT2JqZWN0IG9yaWcpIHsKICAgICAgICByZXR1cm4gbmV3IFRpbWUoKChU\naW1lKSBvcmlnKS5nZXRUaW1lKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFllYXIoaW50IHZhbCkgewogICAgICAgIFByb3hpZXMuZGlydHkodGhp\ncyk7CiAgICAgICAgc3VwZXIuc2V0WWVhcih2YWwpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldE1vbnRoKGludCB2YWwpIHsKICAgICAgICBQcm94aWVz\nLmRpcnR5KHRoaXMpOwogICAgICAgIHN1cGVyLnNldE1vbnRoKHZhbCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0ZShpbnQgdmFsKSB7CiAgICAg\nICAgUHJveGllcy5kaXJ0eSh0aGlzKTsKICAgICAgICBzdXBlci5zZXREYXRl\nKHZhbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SG91cnMoaW50IHZh\nbCkgewogICAgICAgIFByb3hpZXMuZGlydHkodGhpcyk7CiAgICAgICAgc3Vw\nZXIuc2V0SG91cnModmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRN\naW51dGVzKGludCB2YWwpIHsKICAgICAgICBQcm94aWVzLmRpcnR5KHRoaXMp\nOwogICAgICAgIHN1cGVyLnNldE1pbnV0ZXModmFsKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRTZWNvbmRzKGludCB2YWwpIHsKICAgICAgICBQcm94\naWVzLmRpcnR5KHRoaXMpOwogICAgICAgIHN1cGVyLnNldFNlY29uZHModmFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUaW1lKGxvbmcgbWlsbGlz\nKSB7CiAgICAgICAgUHJveGllcy5kaXJ0eSh0aGlzKTsKICAgICAgICBzdXBl\nci5zZXRUaW1lKG1pbGxpcyk7CiAgICB9CgogICAgcHJvdGVjdGVkIE9iamVj\ndCB3cml0ZVJlcGxhY2UoKQogICAgICAgIHRocm93cyBPYmplY3RTdHJlYW1F\neGNlcHRpb24gewogICAgICAgIGlmIChfc20gIT0gbnVsbCAmJiBfc20uaXNE\nZXRhY2hlZCgpKQogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICBy\nZXR1cm4gbmV3IFRpbWUoZ2V0VGltZSgpKTsKICAgIH0KfQo=\n","encoding":"base64"}

