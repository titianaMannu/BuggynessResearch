{"sha":"6b374032009efd59363b998d1c0450d60116e923","node_id":"MDQ6QmxvYjIwNjM2NDo2YjM3NDAzMjAwOWVmZDU5MzYzYjk5OGQxYzA0NTBkNjAxMTZlOTIz","size":3332,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6b374032009efd59363b998d1c0450d60116e923","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIuamRiYzsKCmltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVy\nOwppbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEuc3Fs\nLlNRTEV4Y2VwdGlvbjsKaW1wb3J0IGphdmF4LnNxbC5EYXRhU291cmNlOwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5DbG9zZWFibGU7\nCgovKioKICogV3JhcHBlciBhcm91bmQgYW4gZXhpc3RpbmcgZGF0YSBzb3Vy\nY2UuIFN1YmNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoZQogKiBtZXRob2RzIHdo\nb3NlIGJlaGF2aW9yIHRoZXkgbWVhbiB0byBjaGFuZ2UuIFRoZSA8Y29kZT5l\ncXVhbHM8L2NvZGU+IGFuZAogKiA8Y29kZT5oYXNoQ29kZTwvY29kZT4gbWV0\naG9kcyBwYXNzIHRocm91Z2ggdG8gdGhlIGJhc2UgdW5kZXJseWluZyBkYXRh\nIHN0b3JlLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNs\nYXNzIERlbGVnYXRpbmdEYXRhU291cmNlIGltcGxlbWVudHMgRGF0YVNvdXJj\nZSwgQ2xvc2VhYmxlIHsKCiAgICBwcml2YXRlIGZpbmFsIERhdGFTb3VyY2Ug\nX2RzOwogICAgcHJpdmF0ZSBmaW5hbCBEZWxlZ2F0aW5nRGF0YVNvdXJjZSBf\nZGVsOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuIFN1cHBseSB3cmFw\ncGVkIGRhdGEgc291cmNlLgogICAgICovCiAgICBwdWJsaWMgRGVsZWdhdGlu\nZ0RhdGFTb3VyY2UoRGF0YVNvdXJjZSBkcykgewogICAgICAgIF9kcyA9IGRz\nOwoKICAgICAgICBpZiAoX2RzIGluc3RhbmNlb2YgRGVsZWdhdGluZ0RhdGFT\nb3VyY2UpCiAgICAgICAgICAgIF9kZWwgPSAoRGVsZWdhdGluZ0RhdGFTb3Vy\nY2UpIF9kczsKICAgICAgICBlbHNlCiAgICAgICAgICAgIF9kZWwgPSBudWxs\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSB3cmFwcGVkIGRh\ndGEgc291cmNlLgogICAgICovCiAgICBwdWJsaWMgRGF0YVNvdXJjZSBnZXRE\nZWxlZ2F0ZSgpIHsKICAgICAgICByZXR1cm4gX2RzOwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIHRoZSBpbm5lci1tb3N0IHdyYXBwZWQgZGVsZWdh\ndGUuCiAgICAgKi8KICAgIHB1YmxpYyBEYXRhU291cmNlIGdldElubmVybW9z\ndERlbGVnYXRlKCkgewogICAgICAgIHJldHVybiAoX2RlbCA9PSBudWxsKSA/\nIF9kcyA6IF9kZWwuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKTsKICAgIH0KCiAg\nICBwdWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgIHJldHVybiBnZXRJ\nbm5lcm1vc3REZWxlZ2F0ZSgpLmhhc2hDb2RlKCk7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvdGhlcikgewogICAgICAgIGlm\nIChvdGhlciA9PSB0aGlzKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAg\nICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBEZWxlZ2F0aW5nRGF0YVNvdXJj\nZSkKICAgICAgICAgICAgb3RoZXIgPSAoKERlbGVnYXRpbmdEYXRhU291cmNl\nKSBvdGhlcikuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKTsKICAgICAgICByZXR1\ncm4gZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKS5lcXVhbHMob3RoZXIpOwogICAg\nfQoKICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgU3Ry\naW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoImRhdGFzb3VyY2Ug\nIikuIGFwcGVuZChoYXNoQ29kZSgpKTsKICAgICAgICBhcHBlbmRJbmZvKGJ1\nZik7CiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAgfQoKICAg\nIHByb3RlY3RlZCB2b2lkIGFwcGVuZEluZm8oU3RyaW5nQnVmZmVyIGJ1Zikg\newogICAgICAgIGlmIChfZGVsICE9IG51bGwpCiAgICAgICAgICAgIF9kZWwu\nYXBwZW5kSW5mbyhidWYpOwogICAgfQoKICAgIHB1YmxpYyBQcmludFdyaXRl\nciBnZXRMb2dXcml0ZXIoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gX2RzLmdldExvZ1dyaXRlcigpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldExvZ1dyaXRlcihQcmludFdyaXRlciBvdXQpIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIF9kcy5zZXRMb2dXcml0ZXIob3V0KTsK\nICAgIH0KCiAgICBwdWJsaWMgaW50IGdldExvZ2luVGltZW91dCgpIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZHMuZ2V0TG9naW5U\naW1lb3V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TG9naW5UaW1l\nb3V0KGludCB0aW1lb3V0KSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICBfZHMuc2V0TG9naW5UaW1lb3V0KHRpbWVvdXQpOwogICAgfQoKICAgIHB1\nYmxpYyBDb25uZWN0aW9uIGdldENvbm5lY3Rpb24oKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX2RzLmdldENvbm5lY3Rpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgQ29ubmVjdGlvbiBnZXRDb25uZWN0aW9uKFN0\ncmluZyB1c2VyLCBTdHJpbmcgcGFzcykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICBpZiAodXNlciA9PSBudWxsICYmIHBhc3MgPT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuIF9kcy5nZXRDb25uZWN0aW9uKCk7\nCiAgICAgICAgcmV0dXJuIF9kcy5nZXRDb25uZWN0aW9uKHVzZXIsIHBhc3Mp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgaWYgKF9kcyBpbnN0YW5jZW9mIENsb3NlYWJsZSkK\nICAgICAgICAgICAgKChDbG9zZWFibGUpIF9kcykuY2xvc2UoKTsKICAgIH0K\nfQo=\n","encoding":"base64"}

