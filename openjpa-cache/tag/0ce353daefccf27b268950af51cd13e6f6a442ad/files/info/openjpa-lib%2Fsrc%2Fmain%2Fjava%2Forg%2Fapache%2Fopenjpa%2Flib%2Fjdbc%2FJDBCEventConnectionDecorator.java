{"sha":"46d51f8cc052a1eb39eb84b94f71e75872164a5f","node_id":"MDQ6QmxvYjIwNjM2NDo0NmQ1MWY4Y2MwNTJhMWViMzllYjg0Yjk0ZjcxZTc1ODcyMTY0YTVm","size":10289,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/46d51f8cc052a1eb39eb84b94f71e75872164a5f","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIuamRiYzsKCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9u\nOwppbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7CmltcG9ydCBq\nYXZhLnNxbC5SZXN1bHRTZXQ7CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRp\nb247CmltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi51dGlsLmNvbmN1cnJlbnQuQWJzdHJhY3RDb25j\ndXJyZW50RXZlbnRNYW5hZ2VyOwoKLyoqCiAqIE1hbmFnZXMgdGhlIGZpcmlu\nZyBvZiB7QGxpbmsgSkRCQ0V2ZW50fXMuCiAqCiAqIEBhdXRob3IgQWJlIFdo\naXRlCiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBjbGFzcyBKREJDRXZlbnRD\nb25uZWN0aW9uRGVjb3JhdG9yIGV4dGVuZHMgQWJzdHJhY3RDb25jdXJyZW50\nRXZlbnRNYW5hZ2VyCiAgICBpbXBsZW1lbnRzIENvbm5lY3Rpb25EZWNvcmF0\nb3IgewoKICAgIHB1YmxpYyBDb25uZWN0aW9uIGRlY29yYXRlKENvbm5lY3Rp\nb24gY29ubikgewogICAgICAgIGlmICghaGFzTGlzdGVuZXJzKCkpCiAgICAg\nICAgICAgIHJldHVybiBjb25uOwogICAgICAgIHJldHVybiBuZXcgRXZlbnRD\nb25uZWN0aW9uKGNvbm4pOwogICAgfQoKICAgIC8qKgogICAgICogRmlyZSB0\naGUgZ2l2ZW4gZXZlbnQgdG8gYWxsIGxpc3RlbmVycy4gUHJldmVudHMgY3Jl\nYXRpb24gb2YgYW4KICAgICAqIGV2ZW50IG9iamVjdCB3aGVuIHRoZXJlIGFy\nZSBubyBsaXN0ZW5lcnMuCiAgICAgKi8KICAgIHByaXZhdGUgSkRCQ0V2ZW50\nIGZpcmVFdmVudChDb25uZWN0aW9uIHNvdXJjZSwgc2hvcnQgdHlwZSwKICAg\nICAgICBKREJDRXZlbnQgYXNzb2NpYXRlZEV2ZW50LCBTdGF0ZW1lbnQgc3Rt\nbnQsIFN0cmluZyBzcWwpIHsKICAgICAgICBpZiAoIWhhc0xpc3RlbmVycygp\nKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAgSkRCQ0V2ZW50\nIGV2ZW50ID0gbmV3IEpEQkNFdmVudChzb3VyY2UsIHR5cGUsIGFzc29jaWF0\nZWRFdmVudCwKICAgICAgICAgICAgc3RtbnQsIHNxbCk7CiAgICAgICAgZmly\nZUV2ZW50KGV2ZW50KTsKICAgICAgICByZXR1cm4gZXZlbnQ7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBGaXJlIHRoZSBnaXZlbiBldmVudCB0byBhbGwgbGlz\ndGVuZXJzLgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBmaXJlRXZlbnQo\nT2JqZWN0IGV2ZW50LCBPYmplY3QgbGlzdGVuZXIpIHsKICAgICAgICBKREJD\nTGlzdGVuZXIgbGlzdGVuID0gKEpEQkNMaXN0ZW5lcikgbGlzdGVuZXI7CiAg\nICAgICAgSkRCQ0V2ZW50IGV2ID0gKEpEQkNFdmVudCkgZXZlbnQ7CiAgICAg\nICAgc3dpdGNoIChldi5nZXRUeXBlKCkpIHsKICAgICAgICAgICAgY2FzZSBK\nREJDRXZlbnQuQkVGT1JFX1BSRVBBUkVfU1RBVEVNRU5UOgogICAgICAgICAg\nICAgICAgbGlzdGVuLmJlZm9yZVByZXBhcmVTdGF0ZW1lbnQoZXYpOwogICAg\nICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgSkRCQ0V2ZW50\nLkFGVEVSX1BSRVBBUkVfU1RBVEVNRU5UOgogICAgICAgICAgICAgICAgbGlz\ndGVuLmFmdGVyUHJlcGFyZVN0YXRlbWVudChldik7CiAgICAgICAgICAgICAg\nICBicmVhazsKICAgICAgICAgICAgY2FzZSBKREJDRXZlbnQuQkVGT1JFX0NS\nRUFURV9TVEFURU1FTlQ6CiAgICAgICAgICAgICAgICBsaXN0ZW4uYmVmb3Jl\nQ3JlYXRlU3RhdGVtZW50KGV2KTsKICAgICAgICAgICAgICAgIGJyZWFrOwog\nICAgICAgICAgICBjYXNlIEpEQkNFdmVudC5BRlRFUl9DUkVBVEVfU1RBVEVN\nRU5UOgogICAgICAgICAgICAgICAgbGlzdGVuLmFmdGVyQ3JlYXRlU3RhdGVt\nZW50KGV2KTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBj\nYXNlIEpEQkNFdmVudC5CRUZPUkVfRVhFQ1VURV9TVEFURU1FTlQ6CiAgICAg\nICAgICAgICAgICBsaXN0ZW4uYmVmb3JlRXhlY3V0ZVN0YXRlbWVudChldik7\nCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBKREJD\nRXZlbnQuQUZURVJfRVhFQ1VURV9TVEFURU1FTlQ6CiAgICAgICAgICAgICAg\nICBsaXN0ZW4uYWZ0ZXJFeGVjdXRlU3RhdGVtZW50KGV2KTsKICAgICAgICAg\nICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIEpEQkNFdmVudC5CRUZP\nUkVfQ09NTUlUOgogICAgICAgICAgICAgICAgbGlzdGVuLmJlZm9yZUNvbW1p\ndChldik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2Fz\nZSBKREJDRXZlbnQuQUZURVJfQ09NTUlUOgogICAgICAgICAgICAgICAgbGlz\ndGVuLmFmdGVyQ29tbWl0KGV2KTsKICAgICAgICAgICAgICAgIGJyZWFrOwog\nICAgICAgICAgICBjYXNlIEpEQkNFdmVudC5CRUZPUkVfUk9MTEJBQ0s6CiAg\nICAgICAgICAgICAgICBsaXN0ZW4uYmVmb3JlUm9sbGJhY2soZXYpOwogICAg\nICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgSkRCQ0V2ZW50\nLkFGVEVSX1JPTExCQUNLOgogICAgICAgICAgICAgICAgbGlzdGVuLmFmdGVy\nUm9sbGJhY2soZXYpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAg\nICAgIGNhc2UgSkRCQ0V2ZW50LkFGVEVSX0NPTk5FQ1Q6CiAgICAgICAgICAg\nICAgICBsaXN0ZW4uYWZ0ZXJDb25uZWN0KGV2KTsKICAgICAgICAgICAgICAg\nIGJyZWFrOwogICAgICAgICAgICBjYXNlIEpEQkNFdmVudC5CRUZPUkVfQ0xP\nU0U6CiAgICAgICAgICAgICAgICBsaXN0ZW4uYmVmb3JlQ2xvc2UoZXYpOwog\nICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogRmlyZXMgZXZlbnRzIGFzIGFwcHJvcHJpYXRlLgogICAgICov\nCiAgICBwcml2YXRlIGNsYXNzIEV2ZW50Q29ubmVjdGlvbiBleHRlbmRzIERl\nbGVnYXRpbmdDb25uZWN0aW9uIHsKCiAgICAgICAgcHVibGljIEV2ZW50Q29u\nbmVjdGlvbihDb25uZWN0aW9uIGNvbm4pIHsKICAgICAgICAgICAgc3VwZXIo\nY29ubik7CiAgICAgICAgICAgIGZpcmVFdmVudChnZXREZWxlZ2F0ZSgpLCBK\nREJDRXZlbnQuQUZURVJfQ09OTkVDVCwgbnVsbCwgbnVsbCwgbnVsbCk7CiAg\nICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBjb21taXQoKSB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICAgICAgSkRCQ0V2ZW50IGJlZm9yZSA9\nIGZpcmVFdmVudChnZXREZWxlZ2F0ZSgpLAogICAgICAgICAgICAgICAgSkRC\nQ0V2ZW50LkJFRk9SRV9DT01NSVQsIG51bGwsIG51bGwsIG51bGwpOwogICAg\nICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgc3VwZXIuY29tbWl0KCk7\nCiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBmaXJl\nRXZlbnQoZ2V0RGVsZWdhdGUoKSwgSkRCQ0V2ZW50LkFGVEVSX0NPTU1JVCwg\nYmVmb3JlLAogICAgICAgICAgICAgICAgICAgIG51bGwsIG51bGwpOwogICAg\nICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCByb2xs\nYmFjaygpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgICAgICBKREJD\nRXZlbnQgYmVmb3JlID0gZmlyZUV2ZW50KGdldERlbGVnYXRlKCksCiAgICAg\nICAgICAgICAgICBKREJDRXZlbnQuQkVGT1JFX1JPTExCQUNLLCBudWxsLCBu\ndWxsLCBudWxsKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAg\nIHN1cGVyLnJvbGxiYWNrKCk7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAg\nICAgICAgICAgICAgICBmaXJlRXZlbnQoZ2V0RGVsZWdhdGUoKSwgSkRCQ0V2\nZW50LkFGVEVSX1JPTExCQUNLLCBiZWZvcmUsCiAgICAgICAgICAgICAgICAg\nICAgbnVsbCwgbnVsbCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAg\nICAgIHByb3RlY3RlZCBTdGF0ZW1lbnQgY3JlYXRlU3RhdGVtZW50KGJvb2xl\nYW4gd3JhcCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIEpE\nQkNFdmVudCBiZWZvcmUgPSBmaXJlRXZlbnQoZ2V0RGVsZWdhdGUoKSwKICAg\nICAgICAgICAgICAgIEpEQkNFdmVudC5CRUZPUkVfQ1JFQVRFX1NUQVRFTUVO\nVCwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAgICAgICAgIFN0YXRlbWVudCBz\ndG1udCA9IG51bGw7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAg\nICBzdG1udCA9IG5ldyBFdmVudFN0YXRlbWVudChzdXBlci5jcmVhdGVTdGF0\nZW1lbnQoZmFsc2UpLAogICAgICAgICAgICAgICAgICAgIEV2ZW50Q29ubmVj\ndGlvbi50aGlzKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAg\nICAgICAgIGZpcmVFdmVudChnZXREZWxlZ2F0ZSgpLCBKREJDRXZlbnQuQUZU\nRVJfQ1JFQVRFX1NUQVRFTUVOVCwKICAgICAgICAgICAgICAgICAgICBiZWZv\ncmUsIHN0bW50LCBudWxsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBy\nZXR1cm4gc3RtbnQ7CiAgICAgICAgfQoKICAgICAgICBwcm90ZWN0ZWQgU3Rh\ndGVtZW50IGNyZWF0ZVN0YXRlbWVudChpbnQgcnNUeXBlLCBpbnQgcnNDb25j\ndXIsCiAgICAgICAgICAgIGJvb2xlYW4gd3JhcCkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgIEpEQkNFdmVudCBiZWZvcmUgPSBmaXJlRXZl\nbnQoZ2V0RGVsZWdhdGUoKSwKICAgICAgICAgICAgICAgIEpEQkNFdmVudC5C\nRUZPUkVfQ1JFQVRFX1NUQVRFTUVOVCwgbnVsbCwgbnVsbCwgbnVsbCk7CiAg\nICAgICAgICAgIFN0YXRlbWVudCBzdG1udCA9IG51bGw7CiAgICAgICAgICAg\nIHRyeSB7CiAgICAgICAgICAgICAgICBzdG1udCA9IG5ldyBFdmVudFN0YXRl\nbWVudChzdXBlci5jcmVhdGVTdGF0ZW1lbnQKICAgICAgICAgICAgICAgICAg\nICAocnNUeXBlLCByc0NvbmN1ciwgZmFsc2UpLCBFdmVudENvbm5lY3Rpb24u\ndGhpcyk7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAg\nICBmaXJlRXZlbnQoZ2V0RGVsZWdhdGUoKSwgSkRCQ0V2ZW50LkFGVEVSX0NS\nRUFURV9TVEFURU1FTlQsCiAgICAgICAgICAgICAgICAgICAgYmVmb3JlLCBz\ndG1udCwgbnVsbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJu\nIHN0bW50OwogICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIFByZXBhcmVk\nU3RhdGVtZW50IHByZXBhcmVTdGF0ZW1lbnQoU3RyaW5nIHNxbCwgYm9vbGVh\nbiB3cmFwKQogICAgICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICAgICAgSkRCQ0V2ZW50IGJlZm9yZSA9IGZpcmVFdmVudChnZXREZWxl\nZ2F0ZSgpLAogICAgICAgICAgICAgICAgSkRCQ0V2ZW50LkJFRk9SRV9QUkVQ\nQVJFX1NUQVRFTUVOVCwgbnVsbCwgbnVsbCwgc3FsKTsKICAgICAgICAgICAg\nUHJlcGFyZWRTdGF0ZW1lbnQgc3RtbnQgPSBudWxsOwogICAgICAgICAgICB0\ncnkgewogICAgICAgICAgICAgICAgc3RtbnQgPSBuZXcgRXZlbnRQcmVwYXJl\nZFN0YXRlbWVudChzdXBlci5wcmVwYXJlU3RhdGVtZW50CiAgICAgICAgICAg\nICAgICAgICAgKHNxbCwgZmFsc2UpLCBFdmVudENvbm5lY3Rpb24udGhpcywg\nc3FsKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAg\nIGZpcmVFdmVudChnZXREZWxlZ2F0ZSgpLCBKREJDRXZlbnQuQUZURVJfUFJF\nUEFSRV9TVEFURU1FTlQsCiAgICAgICAgICAgICAgICAgICAgYmVmb3JlLCBz\ndG1udCwgc3FsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4g\nc3RtbnQ7CiAgICAgICAgfQoKICAgICAgICBwcm90ZWN0ZWQgUHJlcGFyZWRT\ndGF0ZW1lbnQgcHJlcGFyZVN0YXRlbWVudChTdHJpbmcgc3FsLCBpbnQgcnNU\neXBlLAogICAgICAgICAgICBpbnQgcnNDb25jdXIsIGJvb2xlYW4gd3JhcCkg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIEpEQkNFdmVudCBi\nZWZvcmUgPSBmaXJlRXZlbnQoZ2V0RGVsZWdhdGUoKSwKICAgICAgICAgICAg\nICAgIEpEQkNFdmVudC5CRUZPUkVfUFJFUEFSRV9TVEFURU1FTlQsIG51bGws\nIG51bGwsIHNxbCk7CiAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHN0\nbW50ID0gbnVsbDsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAg\nIHN0bW50ID0gbmV3IEV2ZW50UHJlcGFyZWRTdGF0ZW1lbnQoc3VwZXIucHJl\ncGFyZVN0YXRlbWVudAogICAgICAgICAgICAgICAgICAgIChzcWwsIHJzVHlw\nZSwgcnNDb25jdXIsIGZhbHNlKSwgRXZlbnRDb25uZWN0aW9uLnRoaXMsIHNx\nbCk7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBm\naXJlRXZlbnQoZ2V0RGVsZWdhdGUoKSwgSkRCQ0V2ZW50LkFGVEVSX1BSRVBB\nUkVfU1RBVEVNRU5ULAogICAgICAgICAgICAgICAgICAgIGJlZm9yZSwgc3Rt\nbnQsIHNxbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHN0\nbW50OwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgY2xvc2UoKSB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgICAgIGZpcmVFdmVudChnZXREZWxlZ2F0ZSgpLCBKREJDRXZlbnQu\nQkVGT1JFX0NMT1NFLAogICAgICAgICAgICAgICAgICAgIG51bGwsIG51bGws\nIG51bGwpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAg\nICAgc3VwZXIuY2xvc2UoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAg\nIH0KCiAgICAvKioKICAgICAqIEZpcmVzIGV2ZW50cyBhcyBhcHByb3ByaWF0\nZS4KICAgICAqLwogICAgcHJpdmF0ZSBjbGFzcyBFdmVudFByZXBhcmVkU3Rh\ndGVtZW50IGV4dGVuZHMgRGVsZWdhdGluZ1ByZXBhcmVkU3RhdGVtZW50IHsK\nCiAgICAgICAgcHJpdmF0ZSBmaW5hbCBFdmVudENvbm5lY3Rpb24gX2Nvbm47\nCiAgICAgICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcgX3NxbDsKCiAgICAgICAg\ncHVibGljIEV2ZW50UHJlcGFyZWRTdGF0ZW1lbnQoUHJlcGFyZWRTdGF0ZW1l\nbnQgcHMsCiAgICAgICAgICAgIEV2ZW50Q29ubmVjdGlvbiBjb25uLCBTdHJp\nbmcgc3FsKSB7CiAgICAgICAgICAgIHN1cGVyKHBzLCBjb25uKTsKICAgICAg\nICAgICAgX2Nvbm4gPSBjb25uOwogICAgICAgICAgICBfc3FsID0gc3FsOwog\nICAgICAgIH0KCiAgICAgICAgcHVibGljIGludCBleGVjdXRlVXBkYXRlKCkg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIEpEQkNFdmVudCBi\nZWZvcmUgPSBmaXJlRXZlbnQoX2Nvbm4uZ2V0RGVsZWdhdGUoKSwKICAgICAg\nICAgICAgICAgIEpEQkNFdmVudC5CRUZPUkVfRVhFQ1VURV9TVEFURU1FTlQs\nIG51bGwsIGdldERlbGVnYXRlKCksIF9zcWwpOwogICAgICAgICAgICB0cnkg\newogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmV4ZWN1dGVVcGRhdGUo\nKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIGZp\ncmVFdmVudChfY29ubi5nZXREZWxlZ2F0ZSgpLAogICAgICAgICAgICAgICAg\nICAgIEpEQkNFdmVudC5BRlRFUl9FWEVDVVRFX1NUQVRFTUVOVCwgYmVmb3Jl\nLAogICAgICAgICAgICAgICAgICAgIGdldERlbGVnYXRlKCksIF9zcWwpOwog\nICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwcm90ZWN0ZWQgUmVz\ndWx0U2V0IGV4ZWN1dGVRdWVyeShib29sZWFuIHdyYXApIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgICAgICBKREJDRXZlbnQgYmVmb3JlID0gZmly\nZUV2ZW50KF9jb25uLmdldERlbGVnYXRlKCksCiAgICAgICAgICAgICAgICBK\nREJDRXZlbnQuQkVGT1JFX0VYRUNVVEVfU1RBVEVNRU5ULCBudWxsLCBnZXRE\nZWxlZ2F0ZSgpLCBfc3FsKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgICAgIHJldHVybiBzdXBlci5leGVjdXRlUXVlcnkod3JhcCk7CiAgICAg\nICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBmaXJlRXZlbnQo\nX2Nvbm4uZ2V0RGVsZWdhdGUoKSwKICAgICAgICAgICAgICAgICAgICBKREJD\nRXZlbnQuQUZURVJfRVhFQ1VURV9TVEFURU1FTlQsIGJlZm9yZSwKICAgICAg\nICAgICAgICAgICAgICBnZXREZWxlZ2F0ZSgpLCBfc3FsKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0KCiAgICAgICAgcHVibGljIGludFtdIGV4ZWN1dGVC\nYXRjaCgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgICAgICBKREJD\nRXZlbnQgYmVmb3JlID0gZmlyZUV2ZW50KF9jb25uLmdldERlbGVnYXRlKCks\nCiAgICAgICAgICAgICAgICBKREJDRXZlbnQuQkVGT1JFX0VYRUNVVEVfU1RB\nVEVNRU5ULCBudWxsLCBnZXREZWxlZ2F0ZSgpLCBfc3FsKTsKICAgICAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5leGVjdXRl\nQmF0Y2goKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAg\nICAgIGZpcmVFdmVudChfY29ubi5nZXREZWxlZ2F0ZSgpLAogICAgICAgICAg\nICAgICAgICAgIEpEQkNFdmVudC5BRlRFUl9FWEVDVVRFX1NUQVRFTUVOVCwg\nYmVmb3JlLAogICAgICAgICAgICAgICAgICAgIGdldERlbGVnYXRlKCksIF9z\ncWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8qKgog\nICAgICogRmlyZXMgZXZlbnRzIGFzIGFwcHJvcHJpYXRlLgogICAgICovCiAg\nICBwcml2YXRlIGNsYXNzIEV2ZW50U3RhdGVtZW50IGV4dGVuZHMgRGVsZWdh\ndGluZ1N0YXRlbWVudCB7CgogICAgICAgIHByaXZhdGUgZmluYWwgRXZlbnRD\nb25uZWN0aW9uIF9jb25uOwoKICAgICAgICBwdWJsaWMgRXZlbnRTdGF0ZW1l\nbnQoU3RhdGVtZW50IHN0bW50LCBFdmVudENvbm5lY3Rpb24gY29ubikgewog\nICAgICAgICAgICBzdXBlcihzdG1udCwgY29ubik7CiAgICAgICAgICAgIF9j\nb25uID0gY29ubjsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBpbnQgZXhl\nY3V0ZVVwZGF0ZShTdHJpbmcgc3FsKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICAgICAgSkRCQ0V2ZW50IGJlZm9yZSA9IGZpcmVFdmVudChfY29u\nbi5nZXREZWxlZ2F0ZSgpLAogICAgICAgICAgICAgICAgSkRCQ0V2ZW50LkJF\nRk9SRV9FWEVDVVRFX1NUQVRFTUVOVCwgbnVsbCwgZ2V0RGVsZWdhdGUoKSwg\nc3FsKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVy\nbiBzdXBlci5leGVjdXRlVXBkYXRlKHNxbCk7CiAgICAgICAgICAgIH0gZmlu\nYWxseSB7CiAgICAgICAgICAgICAgICBmaXJlRXZlbnQoX2Nvbm4uZ2V0RGVs\nZWdhdGUoKSwKICAgICAgICAgICAgICAgICAgICBKREJDRXZlbnQuQUZURVJf\nRVhFQ1VURV9TVEFURU1FTlQsIGJlZm9yZSwKICAgICAgICAgICAgICAgICAg\nICBnZXREZWxlZ2F0ZSgpLCBzcWwpOwogICAgICAgICAgICB9CiAgICAgICAg\nfQoKICAgICAgICBwcm90ZWN0ZWQgUmVzdWx0U2V0IGV4ZWN1dGVRdWVyeShT\ndHJpbmcgc3FsLCBib29sZWFuIHdyYXApCiAgICAgICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgICAgICBKREJDRXZlbnQgYmVmb3JlID0g\nZmlyZUV2ZW50KF9jb25uLmdldERlbGVnYXRlKCksCiAgICAgICAgICAgICAg\nICBKREJDRXZlbnQuQkVGT1JFX0VYRUNVVEVfU1RBVEVNRU5ULCBudWxsLCBn\nZXREZWxlZ2F0ZSgpLCBzcWwpOwogICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgcmV0dXJuIHN1cGVyLmV4ZWN1dGVRdWVyeShzcWwsIHdyYXAp\nOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgZmly\nZUV2ZW50KF9jb25uLmdldERlbGVnYXRlKCksCiAgICAgICAgICAgICAgICAg\nICAgSkRCQ0V2ZW50LkFGVEVSX0VYRUNVVEVfU1RBVEVNRU5ULCBiZWZvcmUs\nCiAgICAgICAgICAgICAgICAgICAgZ2V0RGVsZWdhdGUoKSwgc3FsKTsKICAg\nICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

