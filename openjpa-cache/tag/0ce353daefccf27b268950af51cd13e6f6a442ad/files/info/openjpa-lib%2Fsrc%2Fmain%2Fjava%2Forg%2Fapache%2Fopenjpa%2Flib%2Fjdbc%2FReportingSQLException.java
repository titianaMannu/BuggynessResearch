{"sha":"e03157d258171757eadb8f0e50f9786a31a5c318","node_id":"MDQ6QmxvYjIwNjM2NDplMDMxNTdkMjU4MTcxNzU3ZWFkYjhmMGU1MGY5Nzg2YTMxYTVjMzE4","size":2749,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e03157d258171757eadb8f0e50f9786a31a5c318","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIuamRiYzsKCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRp\nb247CmltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7CgovKioKICogQSB7QGxp\nbmsgU1FMRXhjZXB0aW9ufSB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFi\nb3V0CiAqIHRoZSB7QGxpbmsgU3RhdGVtZW50fSBTUUwgdGhhdCBjYXVzZWQg\ndGhlIGV4Y2VwdGlvbi4KICoKICogQGF1dGhvciBNYXJjIFBydWQnaG9tbWVh\ndXgKICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIFJlcG9ydGluZ1NR\nTEV4Y2VwdGlvbiBleHRlbmRzIFNRTEV4Y2VwdGlvbiB7CgogICAgcHJpdmF0\nZSBmaW5hbCB0cmFuc2llbnQgU3RhdGVtZW50IF9zdG1udDsKICAgIHByaXZh\ndGUgZmluYWwgU1FMRXhjZXB0aW9uIF9zcWxlOwoKICAgIHB1YmxpYyBSZXBv\ncnRpbmdTUUxFeGNlcHRpb24oU1FMRXhjZXB0aW9uIHNxbGUsIFN0YXRlbWVu\ndCBzdG1udCwKICAgICAgICBTdHJpbmcgc3FsKSB7CiAgICAgICAgc3VwZXIo\nZ2V0RXhjZXB0aW9uTWVzc2FnZShzcWxlLCBzdG1udCwgc3FsKSk7CiAgICAg\nICAgdGhpcy5fc3FsZSA9IHNxbGU7CiAgICAgICAgdGhpcy5fc3RtbnQgPSBz\ndG1udDsKICAgICAgICBzZXROZXh0RXhjZXB0aW9uKHNxbGUpOwogICAgfQoK\nICAgIHB1YmxpYyBSZXBvcnRpbmdTUUxFeGNlcHRpb24oU1FMRXhjZXB0aW9u\nIHNxbGUsIFN0cmluZyBzcWwpIHsKICAgICAgICB0aGlzKHNxbGUsIG51bGws\nIHNxbCk7CiAgICB9CgogICAgcHVibGljIFJlcG9ydGluZ1NRTEV4Y2VwdGlv\nbihTUUxFeGNlcHRpb24gc3FsZSwgU3RhdGVtZW50IHN0bW50KSB7CiAgICAg\nICAgdGhpcyhzcWxlLCBzdG1udCwgbnVsbCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm5zIHRoZSBTUUwgc3RhdGUgb2YgdGhlIHVuZGVybHlpbmcg\ne0BsaW5rIFNRTEV4Y2VwdGlvbn0uCiAgICAgKi8KICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0U1FMU3RhdGUoKSB7CiAgICAgICAgcmV0dXJuIF9zcWxlLmdldFNR\nTFN0YXRlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBl\ncnJvciBjb2RlIG9mIHRoZSB1bmRlcmx5aW5nIHtAbGluayBTUUxFeGNlcHRp\nb259LgogICAgICovCiAgICBwdWJsaWMgaW50IGdldEVycm9yQ29kZSgpIHsK\nICAgICAgICByZXR1cm4gX3NxbGUuZ2V0RXJyb3JDb2RlKCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgU3RhdGVtZW50fSB0\naGF0IGNhdXNlZCB0aGUgZXhjZXB0aW9uLgogICAgICovCiAgICBwdWJsaWMg\nU3RhdGVtZW50IGdldFN0YXRlbWVudCgpIHsKICAgICAgICByZXR1cm4gX3N0\nbW50OwogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBnZXRFeGNl\ncHRpb25NZXNzYWdlKFNRTEV4Y2VwdGlvbiBzcWxlLAogICAgICAgIFN0YXRl\nbWVudCBzdG1udCwgU3RyaW5nIHNxbCkgewogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIGlmIChzdG1udCAhPSBudWxsKQogICAgICAgICAgICAgICAgcmV0\ndXJuIHNxbGUuZ2V0TWVzc2FnZSgpICsgIiB7IiArIHN0bW50ICsgIn0gIgog\nICAgICAgICAgICAgICAgICAgICsgIltjb2RlPSIgKyBzcWxlLmdldEVycm9y\nQ29kZSgpICsgIiwgc3RhdGU9IgogICAgICAgICAgICAgICAgICAgICsgc3Fs\nZS5nZXRTUUxTdGF0ZSgpICsgIl0iOwogICAgICAgICAgICBlbHNlIGlmIChz\ncWwgIT0gbnVsbCkKICAgICAgICAgICAgICAgIHJldHVybiBzcWxlLmdldE1l\nc3NhZ2UoKSArICIgeyIgKyBzcWwgKyAifSAiCiAgICAgICAgICAgICAgICAg\nICAgKyAiW2NvZGU9IiArIHNxbGUuZ2V0RXJyb3JDb2RlKCkgKyAiLCBzdGF0\nZT0iCiAgICAgICAgICAgICAgICAgICAgKyBzcWxlLmdldFNRTFN0YXRlKCkg\nKyAiXSI7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHJldHVy\nbiBzcWxlLmdldE1lc3NhZ2UoKSArICIgIgogICAgICAgICAgICAgICAgICAg\nICsgIltjb2RlPSIgKyBzcWxlLmdldEVycm9yQ29kZSgpICsgIiwgc3RhdGU9\nIgogICAgICAgICAgICAgICAgICAgICsgc3FsZS5nZXRTUUxTdGF0ZSgpICsg\nIl0iOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAg\nICAgIHJldHVybiBzcWxlLmdldE1lc3NhZ2UoKTsKICAgICAgICB9CiAgICB9\nCn0KCg==\n","encoding":"base64"}

