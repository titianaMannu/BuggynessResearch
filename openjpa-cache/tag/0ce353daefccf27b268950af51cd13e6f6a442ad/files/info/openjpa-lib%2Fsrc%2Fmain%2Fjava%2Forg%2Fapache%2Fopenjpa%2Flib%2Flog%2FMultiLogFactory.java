{"sha":"c1b7806e1bc5b05411347c487a3d60f55d10f2d7","node_id":"MDQ6QmxvYjIwNjM2NDpjMWI3ODA2ZTFiYzViMDU0MTEzNDdjNDg3YTNkNjBmNTVkMTBmMmQ3","size":5438,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c1b7806e1bc5b05411347c487a3d60f55d10f2d7","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIubG9nOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7\nCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkl0\nZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi51dGlsLmNvbmN1cnJlbnQuQ29weU9uV3JpdGVB\ncnJheUxpc3Q7CgovKioKICogQSBMb2dGYWN0b3J5IGltcGxlbWVudGF0aW9u\nIHRvIHBhc3MgZXZlbnRzIHRocm91Z2ggbXVsdGlwbGUKICogTG9nRmFjdG9y\neSBpbXBsZW1lbnRhdGlvbnMoc3VjaCBhcyBsb2c0aiBhbmQgTG9nUGFuZWxG\nYWN0b3J5KS4KICoKICogQGF1dGhvciBTdGV2ZSBLaW0KICovCnB1YmxpYyBj\nbGFzcyBNdWx0aUxvZ0ZhY3RvcnkgaW1wbGVtZW50cyBMb2dGYWN0b3J5IHsK\nCiAgICBwcml2YXRlIExpc3QgX2RlbGVnYXRlczsKCiAgICAvKioKICAgICAq\nIENyZWF0ZSBhbiBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBkZWxlZ2F0ZXMu\nCiAgICAgKi8KICAgIHB1YmxpYyBNdWx0aUxvZ0ZhY3RvcnkoTG9nRmFjdG9y\neSBkMSwgTG9nRmFjdG9yeSBkMikgewogICAgICAgIHRoaXMobmV3IExvZ0Zh\nY3RvcnlbXXsgZDEsIGQyIH0pOwogICAgfQoKICAgIC8qKgogICAgICogQ3Jl\nYXRlIGFuIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIGRlbGVnYXRlcy4KICAg\nICAqLwogICAgcHVibGljIE11bHRpTG9nRmFjdG9yeShMb2dGYWN0b3J5IGQx\nLCBMb2dGYWN0b3J5IGQyLCBMb2dGYWN0b3J5IGQzKSB7CiAgICAgICAgdGhp\ncyhuZXcgTG9nRmFjdG9yeVtdeyBkMSwgZDIsIGQzIH0pOwogICAgfQoKICAg\nIC8qKgogICAgICogQ3JlYXRlIGFuIGluc3RhbmNlIHdpdGggdGhlIGdpdmVu\nIGRlbGVnYXRlcy4KICAgICAqLwogICAgcHVibGljIE11bHRpTG9nRmFjdG9y\neShMb2dGYWN0b3J5W10gZGVsZWdhdGVzKSB7CiAgICAgICAgX2RlbGVnYXRl\ncyA9IG5ldyBDb3B5T25Xcml0ZUFycmF5TGlzdChBcnJheXMuYXNMaXN0KGRl\nbGVnYXRlcykpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFkZExvZ0ZhY3Rv\ncnkoTG9nRmFjdG9yeSBmYWN0b3J5KSB7CiAgICAgICAgX2RlbGVnYXRlcy5h\nZGQoZmFjdG9yeSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcmVtb3ZlTG9n\nRmFjdG9yeShMb2dGYWN0b3J5IGZhY3RvcnkpIHsKICAgICAgICBfZGVsZWdh\ndGVzLnJlbW92ZShmYWN0b3J5KTsKICAgIH0KCiAgICAvKioKICAgICAqIFJl\ndHVybnMgdGhlIGRlbGVnYXRlcyB0aGF0IHRoaXMgTXVsdGlMb2dGYWN0b3J5\nIGRlbGVnYXRlcyBtZXNzYWdlcyB0by4KICAgICAqLwogICAgcHVibGljIExv\nZ0ZhY3RvcnlbXSBnZXREZWxlZ2F0ZXMoKSB7CiAgICAgICAgcmV0dXJuIChM\nb2dGYWN0b3J5W10pIF9kZWxlZ2F0ZXMudG9BcnJheShuZXcgTG9nRmFjdG9y\neVswXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgTG9nIGlt\ncGwgdGhhdCBjb21iaW5lcyBhbGwgbG9ncy4KICAgICAqLwogICAgcHVibGlj\nIHN5bmNocm9uaXplZCBMb2cgZ2V0TG9nKFN0cmluZyBjaGFubmVsKSB7CiAg\nICAgICAgTGlzdCBsb2dzID0gbmV3IEFycmF5TGlzdChfZGVsZWdhdGVzLnNp\nemUoKSk7CiAgICAgICAgZm9yIChJdGVyYXRvciBpID0gX2RlbGVnYXRlcy5p\ndGVyYXRvcigpOyBpLmhhc05leHQoKTspIHsKICAgICAgICAgICAgTG9nRmFj\ndG9yeSBmID0gKExvZ0ZhY3RvcnkpIGkubmV4dCgpOwogICAgICAgICAgICBp\nZiAoZiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBMb2cgbCA9IGYuZ2V0\nTG9nKGNoYW5uZWwpOwogICAgICAgICAgICAgICAgaWYgKGwgIT0gbnVsbCkK\nICAgICAgICAgICAgICAgICAgICBsb2dzLmFkZChsKTsKICAgICAgICAgICAg\nfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3IE11bHRpTG9nKChMb2db\nXSkgbG9ncy50b0FycmF5KG5ldyBMb2dbbG9ncy5zaXplKCldKSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBDb21iaW5hdG9yeSBMb2cgaW1wbC4KICAgICAq\nLwogICAgcHJpdmF0ZSBzdGF0aWMgY2xhc3MgTXVsdGlMb2cgaW1wbGVtZW50\ncyBMb2cgewoKICAgICAgICBwcml2YXRlIExvZ1tdIF9sb2dzOwoKICAgICAg\nICBwdWJsaWMgTXVsdGlMb2coTG9nW10gbG9ncykgewogICAgICAgICAgICBf\nbG9ncyA9IGxvZ3M7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAg\nKiBSZXR1cm4gdGhlIGxvZ3MgdGhhdCB0aGlzIGxvZyBkZWxlZ2F0ZXMgdG8u\nCiAgICAgICAgICovCiAgICAgICAgcHVibGljIExvZ1tdIGdldERlbGVnYXRl\ncygpIHsKICAgICAgICAgICAgcmV0dXJuIF9sb2dzOwogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIHZvaWQgdHJhY2UoT2JqZWN0IG1zZykgewogICAgICAg\nICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0aDsgaSsrKQog\nICAgICAgICAgICAgICAgX2xvZ3NbaV0udHJhY2UobXNnKTsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyB2b2lkIHRyYWNlKE9iamVjdCBtc2csIFRocm93\nYWJsZSB0KSB7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xv\nZ3MubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICBfbG9nc1tpXS50cmFj\nZShtc2csIHQpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgaW5m\nbyhPYmplY3QgbXNnKSB7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgX2xvZ3MubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICBfbG9nc1tp\nXS5pbmZvKG1zZyk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBp\nbmZvKE9iamVjdCBtc2csIFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgX2xvZ3MubGVuZ3RoOyBpKyspCiAgICAgICAg\nICAgICAgICBfbG9nc1tpXS5pbmZvKG1zZywgdCk7CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgdm9pZCB3YXJuKE9iamVjdCBtc2cpIHsKICAgICAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbG9ncy5sZW5ndGg7IGkrKykKICAg\nICAgICAgICAgICAgIF9sb2dzW2ldLndhcm4obXNnKTsKICAgICAgICB9Cgog\nICAgICAgIHB1YmxpYyB2b2lkIHdhcm4oT2JqZWN0IG1zZywgVGhyb3dhYmxl\nIHQpIHsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbG9ncy5s\nZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIF9sb2dzW2ldLndhcm4obXNn\nLCB0KTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGVycm9yKE9i\namVjdCBtc2cpIHsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBf\nbG9ncy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIF9sb2dzW2ldLmVy\ncm9yKG1zZyk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBlcnJv\ncihPYmplY3QgbXNnLCBUaHJvd2FibGUgdCkgewogICAgICAgICAgICBmb3Ig\nKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0aDsgaSsrKQogICAgICAgICAg\nICAgICAgX2xvZ3NbaV0uZXJyb3IobXNnLCB0KTsKICAgICAgICB9CgogICAg\nICAgIHB1YmxpYyB2b2lkIGZhdGFsKE9iamVjdCBtc2cpIHsKICAgICAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbG9ncy5sZW5ndGg7IGkrKykKICAg\nICAgICAgICAgICAgIF9sb2dzW2ldLmZhdGFsKG1zZyk7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgdm9pZCBmYXRhbChPYmplY3QgbXNnLCBUaHJvd2Fi\nbGUgdCkgewogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dz\nLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgX2xvZ3NbaV0uZmF0YWwo\nbXNnLCB0KTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBib29sZWFuIGlz\nVHJhY2VFbmFibGVkKCkgewogICAgICAgICAgICBmb3IgKGludCBpID0gMDsg\naSA8IF9sb2dzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgaWYgKF9s\nb2dzW2ldLmlzVHJhY2VFbmFibGVkKCkpCiAgICAgICAgICAgICAgICAgICAg\ncmV0dXJuIHRydWU7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAg\nICB9CgogICAgICAgIHB1YmxpYyBib29sZWFuIGlzSW5mb0VuYWJsZWQoKSB7\nCiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xvZ3MubGVuZ3Ro\nOyBpKyspCiAgICAgICAgICAgICAgICBpZiAoX2xvZ3NbaV0uaXNJbmZvRW5h\nYmxlZCgpKQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAg\nICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBwdWJs\naWMgYm9vbGVhbiBpc1dhcm5FbmFibGVkKCkgewogICAgICAgICAgICBmb3Ig\nKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0aDsgaSsrKQogICAgICAgICAg\nICAgICAgaWYgKF9sb2dzW2ldLmlzV2FybkVuYWJsZWQoKSkKICAgICAgICAg\nICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIGZh\nbHNlOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGJvb2xlYW4gaXNFcnJv\nckVuYWJsZWQoKSB7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\nX2xvZ3MubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICBpZiAoX2xvZ3Nb\naV0uaXNFcnJvckVuYWJsZWQoKSkKICAgICAgICAgICAgICAgICAgICByZXR1\ncm4gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0K\nCiAgICAgICAgcHVibGljIGJvb2xlYW4gaXNGYXRhbEVuYWJsZWQoKSB7CiAg\nICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xvZ3MubGVuZ3RoOyBp\nKyspCiAgICAgICAgICAgICAgICBpZiAoX2xvZ3NbaV0uaXNGYXRhbEVuYWJs\nZWQoKSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAg\nICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

