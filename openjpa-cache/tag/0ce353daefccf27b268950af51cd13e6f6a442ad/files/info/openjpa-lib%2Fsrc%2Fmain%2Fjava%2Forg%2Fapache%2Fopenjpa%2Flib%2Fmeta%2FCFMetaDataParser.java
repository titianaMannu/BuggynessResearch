{"sha":"6a1ec4c2a14b5177f96cce230415e7ed6cc06682","node_id":"MDQ6QmxvYjIwNjM2NDo2YTFlYzRjMmExNGI1MTc3Zjk2Y2NlMjMwNDE1ZTdlZDZjYzA2Njgy","size":10034,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6a1ec4c2a14b5177f96cce230415e7ed6cc06682","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIubWV0YTsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMu\nbGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcueG1sLnNheC5BdHRyaWJ1\ndGVzOwppbXBvcnQgb3JnLnhtbC5zYXguU0FYRXhjZXB0aW9uOwppbXBvcnQg\nc2VycC51dGlsLlN0cmluZ3M7CgovKioKICogQ3VzdG9tIFNBWCBwYXJzZXIg\ndXNlZCBieSB0aGUgc3lzdGVtIHRvIHF1aWNrbHkgcGFyc2UgbWV0YWRhdGEg\nZmlsZXMKICogZm9yIGNsYXNzZXMuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRl\nCiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBjbGFzcyBDRk1ldGFEYXRhUGFy\nc2VyIGV4dGVuZHMgWE1MTWV0YURhdGFQYXJzZXIgewoKICAgIHN0YXRpYyBm\naW5hbCBTdHJpbmdbXSBQQUNLQUdFUyA9IG5ldyBTdHJpbmdbXXsKICAgICAg\nICAiamF2YS5sYW5nLiIsICJqYXZhLnV0aWwuIiwgImphdmEubWF0aC4iIH07\nCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExv\nY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKENGTWV0YURhdGFQYXJzZXIu\nY2xhc3MpOwoKICAgIC8vIHRoZSBjdXJyZW50IHBhY2thZ2UgYW5kIGNsYXNz\nIGJlaW5nIHBhcnNlZAogICAgcHJpdmF0ZSBTdHJpbmcgX3BhY2thZ2UgPSBu\ndWxsOwogICAgcHJpdmF0ZSBTdHJpbmcgX2NsYXNzID0gbnVsbDsKCiAgICBw\ndWJsaWMgQ0ZNZXRhRGF0YVBhcnNlcigpIHsKICAgICAgICBzZXRQYXJzZVRl\neHQoZmFsc2UpOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG5hbWUgb2Yg\ndGhlIHBhY2thZ2UgZWxlbWVudC4gRGVmYXVsdHMgdG8gInBhY2thZ2UiLgog\nICAgICovCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBpc1BhY2thZ2VFbGVtZW50\nTmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIHJldHVybiAicGFja2FnZSIu\nZXF1YWxzKG5hbWUpOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGF0dHJp\nYnV0ZSBvZiB0aGUgcGFja2FnZSBlbGVtZW50IHRoYXQgaG9sZHMgdGhlIG5h\nbWUsIG9yIG51bGwgdG8KICAgICAqIHVzZSB0aGUgZWxlbWVudCB0ZXh0LiBE\nZWZhdWx0cyB0byAibmFtZSIuCiAgICAgKi8KICAgIHByb3RlY3RlZCBTdHJp\nbmcgZ2V0UGFja2FnZUF0dHJpYnV0ZU5hbWUoKSB7CiAgICAgICAgcmV0dXJu\nICJuYW1lIjsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBkZXB0aCBvZiB0\naGUgcGFja2FnZSBlbGVtZW50LiBEZWZhdWx0cyB0byAxLgogICAgICovCiAg\nICBwcm90ZWN0ZWQgaW50IGdldFBhY2thZ2VFbGVtZW50RGVwdGgoKSB7CiAg\nICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgbmFt\nZSBvZiB0aGUgY2xhc3MgZWxlbWVudC4gRGVmYXVsdHMgdG8gImNsYXNzIi4K\nICAgICAqLwogICAgcHJvdGVjdGVkIGJvb2xlYW4gaXNDbGFzc0VsZW1lbnRO\nYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgcmV0dXJuICJjbGFzcyIuZXF1\nYWxzKG5hbWUpOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGF0dHJpYnV0\nZSBvZiB0aGUgY2xhc3MgZWxlbWVudCB0aGF0IGhvbGRzIHRoZSBuYW1lLCBv\nciBudWxsIHRvCiAgICAgKiB1c2UgdGhlIGVsZW1lbnQgdGV4dC4gRGVmYXVs\ndHMgdG8gIm5hbWUiLgogICAgICovCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdl\ndENsYXNzQXR0cmlidXRlTmFtZSgpIHsKICAgICAgICByZXR1cm4gIm5hbWUi\nOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGRlcHRoIG9mIHRoZSBjbGFz\ncyBlbGVtZW50LiBEZWZhdWx0cyB0byAyLgogICAgICovCiAgICBwcm90ZWN0\nZWQgaW50IGdldENsYXNzRWxlbWVudERlcHRoKCkgewogICAgICAgIHJldHVy\nbiAyOwogICAgfQoKICAgIHByb3RlY3RlZCBib29sZWFuIHN0YXJ0RWxlbWVu\ndChTdHJpbmcgbmFtZSwgQXR0cmlidXRlcyBhdHRycykKICAgICAgICB0aHJv\nd3MgU0FYRXhjZXB0aW9uIHsKICAgICAgICAvLyBza2lwIHJvb3QgZWxlbWVu\ndAogICAgICAgIGludCBkZXB0aCA9IGN1cnJlbnREZXB0aCgpOwogICAgICAg\nIGlmIChkZXB0aCA9PSAwKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKCiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKGRlcHRoID09IGdldFBhY2th\nZ2VFbGVtZW50RGVwdGgoKQogICAgICAgICAgICAgICAgJiYgaXNQYWNrYWdl\nRWxlbWVudE5hbWUobmFtZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gc3Rh\ncnRQYWNrYWdlKG5hbWUsIGF0dHJzKTsKICAgICAgICAgICAgaWYgKGRlcHRo\nID09IGdldENsYXNzRWxlbWVudERlcHRoKCkgJiYgaXNDbGFzc0VsZW1lbnRO\nYW1lKG5hbWUpKQogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0Q2xhc3Mo\nbmFtZSwgYXR0cnMpOwogICAgICAgICAgICBpZiAoZGVwdGggPiBnZXRDbGFz\nc0VsZW1lbnREZXB0aCgpICYmIF9jbGFzcyAhPSBudWxsCiAgICAgICAgICAg\nICAgICAmJiBnZXRDbGFzc0F0dHJpYnV0ZU5hbWUoKSAhPSBudWxsKQogICAg\nICAgICAgICAgICAgcmV0dXJuIHN0YXJ0Q2xhc3NFbGVtZW50KG5hbWUsIGF0\ndHJzKTsKICAgICAgICAgICAgaWYgKGRlcHRoID4gZ2V0UGFja2FnZUVsZW1l\nbnREZXB0aCgpICYmIF9wYWNrYWdlICE9IG51bGwKICAgICAgICAgICAgICAg\nICYmIGdldFBhY2thZ2VBdHRyaWJ1dGVOYW1lKCkgIT0gbnVsbCkKICAgICAg\nICAgICAgICAgIHJldHVybiBzdGFydFBhY2thZ2VFbGVtZW50KG5hbWUsIGF0\ndHJzKTsKICAgICAgICAgICAgcmV0dXJuIHN0YXJ0U3lzdGVtRWxlbWVudChu\nYW1lLCBhdHRycyk7CiAgICAgICAgfSBjYXRjaCAoU0FYRXhjZXB0aW9uIHNl\nKSB7CiAgICAgICAgICAgIHRocm93IHNlOwogICAgICAgIH0gY2F0Y2ggKE51\nbGxQb2ludGVyRXhjZXB0aW9uIG5wZSkgewogICAgICAgICAgICB0aHJvdyBn\nZXRFeGNlcHRpb24oX2xvYy5nZXQoInBhcnNlLWVycm9yIiwgbmFtZSksIG5w\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIHByb3RlY3RlZCB2b2lkIGVuZEVs\nZW1lbnQoU3RyaW5nIG5hbWUpIHRocm93cyBTQVhFeGNlcHRpb24gewogICAg\nICAgIC8vIHNraXAgcm9vdCBlbGVtZW50CiAgICAgICAgaW50IGRlcHRoID0g\nY3VycmVudERlcHRoKCk7CiAgICAgICAgaWYgKGRlcHRoID09IDApCiAgICAg\nICAgICAgIHJldHVybjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYg\nKGRlcHRoID09IGdldFBhY2thZ2VFbGVtZW50RGVwdGgoKQogICAgICAgICAg\nICAgICAgJiYgaXNQYWNrYWdlRWxlbWVudE5hbWUobmFtZSkpCiAgICAgICAg\nICAgICAgICBlbmRQYWNrYWdlKG5hbWUpOwogICAgICAgICAgICBlbHNlIGlm\nIChkZXB0aCA9PSBnZXRDbGFzc0VsZW1lbnREZXB0aCgpCiAgICAgICAgICAg\nICAgICAmJiBpc0NsYXNzRWxlbWVudE5hbWUobmFtZSkpCiAgICAgICAgICAg\nICAgICBlbmRDbGFzcyhuYW1lKTsKICAgICAgICAgICAgZWxzZSBpZiAoZGVw\ndGggPiBnZXRDbGFzc0VsZW1lbnREZXB0aCgpICYmIF9jbGFzcyAhPSBudWxs\nCiAgICAgICAgICAgICAgICAmJiBnZXRDbGFzc0F0dHJpYnV0ZU5hbWUoKSAh\nPSBudWxsKQogICAgICAgICAgICAgICAgZW5kQ2xhc3NFbGVtZW50KG5hbWUp\nOwogICAgICAgICAgICBlbHNlIGlmIChkZXB0aCA+IGdldFBhY2thZ2VFbGVt\nZW50RGVwdGgoKSAmJiBfcGFja2FnZSAhPSBudWxsCiAgICAgICAgICAgICAg\nICAmJiBnZXRQYWNrYWdlQXR0cmlidXRlTmFtZSgpICE9IG51bGwpCiAgICAg\nICAgICAgICAgICBlbmRQYWNrYWdlRWxlbWVudChuYW1lKTsKICAgICAgICAg\nICAgZWxzZQogICAgICAgICAgICAgICAgZW5kU3lzdGVtRWxlbWVudChuYW1l\nKTsKICAgICAgICB9IGNhdGNoIChTQVhFeGNlcHRpb24gc2UpIHsKICAgICAg\nICAgICAgdGhyb3cgc2U7CiAgICAgICAgfSBjYXRjaCAoTnVsbFBvaW50ZXJF\neGNlcHRpb24gbnBlKSB7CiAgICAgICAgICAgIHRocm93IGdldEV4Y2VwdGlv\nbihfbG9jLmdldCgicGFyc2UtZXJyb3IiLCBuYW1lKSwgbnBlKTsKICAgICAg\nICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBTdGFydCBhIHBhY2thZ2UuIFBh\ncnNlcyBvdXQgcGFja2FnZSBhdHRyaWJ1dGUgYnkgZGVmYXVsdC4KICAgICAq\nIFJldHVybiBmYWxzZSB0byBza2lwIHBhY2thZ2UgZWxlbWVudCBhbmQgaXRz\nIGNvbnRlbnRzLgogICAgICovCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBzdGFy\ndFBhY2thZ2UoU3RyaW5nIGVsZW0sIEF0dHJpYnV0ZXMgYXR0cnMpCiAgICAg\nICAgdGhyb3dzIFNBWEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKGdldFBhY2th\nZ2VBdHRyaWJ1dGVOYW1lKCkgIT0gbnVsbCkgewogICAgICAgICAgICBfcGFj\na2FnZSA9IGF0dHJzLmdldFZhbHVlKGdldFBhY2thZ2VBdHRyaWJ1dGVOYW1l\nKCkpOwogICAgICAgICAgICBpZiAoX3BhY2thZ2UgPT0gbnVsbCkKICAgICAg\nICAgICAgICAgIF9wYWNrYWdlID0gIiI7CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRW5kIGEgcGFja2Fn\nZS4gUGFyc2VzIGNvbnRhaW5lZCB0ZXh0IGJ5IGRlZmF1bHQuCiAgICAgKi8K\nICAgIHByb3RlY3RlZCB2b2lkIGVuZFBhY2thZ2UoU3RyaW5nIGVsZW0pIHsK\nICAgICAgICBpZiAoZ2V0UGFja2FnZUF0dHJpYnV0ZU5hbWUoKSAhPSBudWxs\nKQogICAgICAgICAgICBfcGFja2FnZSA9IG51bGw7CiAgICAgICAgZWxzZQog\nICAgICAgICAgICBfcGFja2FnZSA9IGN1cnJlbnRUZXh0KCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTdGFydCBhIGNsYXNzLiBQYXJzZXMgb3V0IGNsYXNz\nIG5hbWUgYnkgZGVmYXVsdC4gUmV0dXJuCiAgICAgKiBmYWxzZSB0byBza2lw\nIGNsYXNzIGVsZW1lbnQgYW5kIGl0cyBjb250ZW50cy4KICAgICAqLwogICAg\ncHJvdGVjdGVkIGJvb2xlYW4gc3RhcnRDbGFzcyhTdHJpbmcgZWxlbSwgQXR0\ncmlidXRlcyBhdHRycykKICAgICAgICB0aHJvd3MgU0FYRXhjZXB0aW9uIHsK\nICAgICAgICBpZiAoZ2V0Q2xhc3NBdHRyaWJ1dGVOYW1lKCkgIT0gbnVsbCkg\newogICAgICAgICAgICBfY2xhc3MgPSBhdHRycy5nZXRWYWx1ZShnZXRDbGFz\nc0F0dHJpYnV0ZU5hbWUoKSk7CiAgICAgICAgICAgIGlmICghU3RyaW5nVXRp\nbHMuaXNFbXB0eShfcGFja2FnZSkgJiYgX2NsYXNzLmluZGV4T2YoJy4nKSA9\nPSAtMSkKICAgICAgICAgICAgICAgIF9jbGFzcyA9IF9wYWNrYWdlICsgIi4i\nICsgX2NsYXNzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAg\nIH0KCiAgICAvKioKICAgICAqIEVuZCBhIGNsYXNzLiBQYXJzZXMgY29udGFp\nbmVkIHRleHQgYnkgZGVmYXVsdC4KICAgICAqLwogICAgcHJvdGVjdGVkIHZv\naWQgZW5kQ2xhc3MoU3RyaW5nIGVsZW0pIHRocm93cyBTQVhFeGNlcHRpb24g\newogICAgICAgIGlmIChnZXRDbGFzc0F0dHJpYnV0ZU5hbWUoKSAhPSBudWxs\nKQogICAgICAgICAgICBfY2xhc3MgPSBudWxsOwogICAgICAgIGVsc2Ugewog\nICAgICAgICAgICBfY2xhc3MgPSBjdXJyZW50VGV4dCgpOwogICAgICAgICAg\nICBpZiAoIVN0cmluZ1V0aWxzLmlzRW1wdHkoX3BhY2thZ2UpICYmIF9jbGFz\ncy5pbmRleE9mKCcuJykgPT0gLTEpCiAgICAgICAgICAgICAgICBfY2xhc3Mg\nPSBfcGFja2FnZSArICIuIiArIF9jbGFzczsKICAgICAgICB9CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCBtYXJraW5nIHRo\nZSBzdGFydCBvZiBhbiBlbGVtZW50IG91dHNpZGUgb2YgYW55CiAgICAgKiBw\nYWNrYWdlIG9yIGNsYXNzLgogICAgICovCiAgICBwcm90ZWN0ZWQgYm9vbGVh\nbiBzdGFydFN5c3RlbUVsZW1lbnQoU3RyaW5nIG5hbWUsIEF0dHJpYnV0ZXMg\nYXR0cnMpCiAgICAgICAgdGhyb3dzIFNBWEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogT3ZlcnJpZGUg\ndGhpcyBtZXRob2QgbWFya2luZyB0aGUgZW5kIG9mIGFuIGVsZW1lbnQgb3V0\nc2lkZSBvZiBhbnkKICAgICAqIHBhY2thZ2Ugb3IgY2xhc3MuCiAgICAgKi8K\nICAgIHByb3RlY3RlZCB2b2lkIGVuZFN5c3RlbUVsZW1lbnQoU3RyaW5nIG5h\nbWUpIHRocm93cyBTQVhFeGNlcHRpb24gewogICAgfQoKICAgIC8qKgogICAg\nICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgbWFya2luZyB0aGUgc3RhcnQgb2Yg\nYW4gZWxlbWVudCB3aXRoaW4gYSBkZWNsYXJlZAogICAgICogcGFja2FnZS4K\nICAgICAqLwogICAgcHJvdGVjdGVkIGJvb2xlYW4gc3RhcnRQYWNrYWdlRWxl\nbWVudChTdHJpbmcgbmFtZSwgQXR0cmlidXRlcyBhdHRycykKICAgICAgICB0\naHJvd3MgU0FYRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCBtYXJr\naW5nIHRoZSBlbmQgb2YgYW4gZWxlbWVudCB3aXRoaW4gYSBkZWNsYXJlZAog\nICAgICogcGFja2FnZS4KICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgZW5k\nUGFja2FnZUVsZW1lbnQoU3RyaW5nIG5hbWUpIHRocm93cyBTQVhFeGNlcHRp\nb24gewogICAgfQoKICAgIC8qKgogICAgICogT3ZlcnJpZGUgdGhpcyBtZXRo\nb2QgbWFya2luZyB0aGUgc3RhcnQgb2YgYW4gZWxlbWVudCB3aXRoaW4gYSBk\nZWNsYXJlZAogICAgICogY2xhc3MuCiAgICAgKi8KICAgIHByb3RlY3RlZCBi\nb29sZWFuIHN0YXJ0Q2xhc3NFbGVtZW50KFN0cmluZyBuYW1lLCBBdHRyaWJ1\ndGVzIGF0dHJzKQogICAgICAgIHRocm93cyBTQVhFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIE92ZXJy\naWRlIHRoaXMgbWV0aG9kIG1hcmtpbmcgdGhlIGVuZCBvZiBhbiBlbGVtZW50\nIHdpdGhpbiBhIGRlY2xhcmVkCiAgICAgKiBjbGFzcy4KICAgICAqLwogICAg\ncHJvdGVjdGVkIHZvaWQgZW5kQ2xhc3NFbGVtZW50KFN0cmluZyBuYW1lKSB0\naHJvd3MgU0FYRXhjZXB0aW9uIHsKICAgIH0KCiAgICAvKioKICAgICAqIE92\nZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGNsZWFyIGFueSBzdGF0ZSBhbmQgcmVh\nZHkgdGhlIHBhcnNlciBmb3IKICAgICAqIGEgbmV3IGRvY3VtZW50LiBTdWJj\nbGFzc2VzIHNob3VsZCBjYWxsCiAgICAgKiA8Y29kZT5zdXBlci5yZXNldCgp\nPC9jb2RlPiB0byBjbGVhciBzdXBlcmNsYXNzIHN0YXRlLgogICAgICovCiAg\nICBwcm90ZWN0ZWQgdm9pZCByZXNldCgpIHsKICAgICAgICBzdXBlci5yZXNl\ndCgpOwogICAgICAgIF9wYWNrYWdlID0gbnVsbDsKICAgICAgICBfY2xhc3Mg\nPSBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBjdXJy\nZW50IGNsYXNzIGJlaW5nIHBhcnNlZDsgdGhlIHJldHVybmVkIG5hbWUgd2ls\nbAogICAgICogYmUgZnVsbHkgcXVhbGlmaWVkLgogICAgICovCiAgICBwcm90\nZWN0ZWQgU3RyaW5nIGN1cnJlbnRDbGFzc05hbWUoKSB7CiAgICAgICAgcmV0\ndXJuIF9jbGFzczsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUg\nY3VycmVudCBwYWNrYWdlIGJlaW5nIHBhcnNlZC4KICAgICAqLwogICAgcHJv\ndGVjdGVkIFN0cmluZyBjdXJyZW50UGFja2FnZSgpIHsKICAgICAgICByZXR1\ncm4gX3BhY2thZ2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBIZWxwZXIgbWV0\naG9kIHRvIGNyZWF0ZSB0aGUge0BsaW5rIENsYXNzfSBmb3IgdGhlIGdpdmVu\nIG5hbWUsCiAgICAgKiB0YWtpbmcgaW50byBhY2NvdW50IHRoZSBwYWNrYWdl\nIGN1cnJlbnRseSBiZWluZyBwYXJzZWQgZm9yIHJlbGF0aXZlCiAgICAgKiBj\nbGFzcyBuYW1lcy4KICAgICAqLwogICAgcHJvdGVjdGVkIENsYXNzIGNsYXNz\nRm9yTmFtZShTdHJpbmcgbmFtZSwgYm9vbGVhbiByZXNvbHZlKQogICAgICAg\nIHRocm93cyBTQVhFeGNlcHRpb24gewogICAgICAgIGlmIChuYW1lID09IG51\nbGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIENsYXNzIGNs\ncyA9IGNsYXNzRm9yTmFtZShuYW1lLCBfcGFja2FnZSwgcmVzb2x2ZSwgY3Vy\ncmVudENsYXNzTG9hZGVyKCkpOwogICAgICAgIGlmIChjbHMgPT0gbnVsbCkK\nICAgICAgICAgICAgdGhyb3cgZ2V0RXhjZXB0aW9uKF9sb2MuZ2V0KCJpbnZh\nbGlkLWNsYXNzIiwgbmFtZSkuZ2V0TWVzc2FnZSgpKTsKICAgICAgICByZXR1\ncm4gY2xzOwogICAgfQoKICAgIC8qKgogICAgICogTG9hZCB0aGUgZ2l2ZW4g\nY2xhc3MgbmFtZSBhZ2FpbnN0IHRoZSBnaXZlbiBwYWNrYWdlIGFuZCB0aGUg\nc2V0CiAgICAgKiBvZiBhY2NlcHRlZCBzdGFuZGFyZCBwYWNrYWdlcy4gUmV0\ndXJuIG51bGwgaWYgdGhlIGNsYXNzIGNhbm5vdCBiZSBsb2FkZWQuCiAgICAg\nKi8KICAgIHB1YmxpYyBzdGF0aWMgQ2xhc3MgY2xhc3NGb3JOYW1lKFN0cmlu\nZyBuYW1lLCBTdHJpbmcgcGtnLAogICAgICAgIGJvb2xlYW4gcmVzb2x2ZSwg\nQ2xhc3NMb2FkZXIgbG9hZGVyKSB7CiAgICAgICAgaWYgKFN0cmluZ1V0aWxz\nLmlzRW1wdHkobmFtZSkpCiAgICAgICAgICAgIHJldHVybiBudWxsOwoKICAg\nICAgICBpZiAobG9hZGVyID09IG51bGwpCiAgICAgICAgICAgIGxvYWRlciA9\nIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuZ2V0Q29udGV4dENsYXNzTG9hZGVy\nKCk7CiAgICAgICAgYm9vbGVhbiBmdWxsTmFtZSA9IG5hbWUuaW5kZXhPZign\nLicpICE9IC0xOwogICAgICAgIGJvb2xlYW4gbm9QYWNrYWdlID0gU3RyaW5n\nVXRpbHMuaXNFbXB0eShwa2cpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIGlmIChmdWxsTmFtZSB8fCBub1BhY2thZ2UpCiAgICAgICAgICAgICAgICBy\nZXR1cm4gU3RyaW5ncy50b0NsYXNzKG5hbWUsIHJlc29sdmUsIGxvYWRlcik7\nCiAgICAgICAgICAgIHJldHVybiBTdHJpbmdzLnRvQ2xhc3MocGtnICsgIi4i\nICsgbmFtZSwgcmVzb2x2ZSwgbG9hZGVyKTsKICAgICAgICB9IGNhdGNoIChS\ndW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgfQoKICAgICAgICAvLyBp\nZiBub3QgYSBmdWxsIG5hbWUsIG5vdyB0cnkgdGhlIG5hbWUgd2l0aG91dCBh\nIHBhY2thZ2UKICAgICAgICBpZiAoIWZ1bGxOYW1lICYmICFub1BhY2thZ2Up\nIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBT\ndHJpbmdzLnRvQ2xhc3MobmFtZSwgcmVzb2x2ZSwgbG9hZGVyKTsKICAgICAg\nICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAg\nICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyB0cnkgd2l0aCBzdGFuZGFy\nZCBwYWNrYWdlcwogICAgICAgIGlmICghZnVsbE5hbWUpIHsKICAgICAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBQQUNLQUdFUy5sZW5ndGg7IGkrKykg\newogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBy\nZXR1cm4gU3RyaW5ncy50b0NsYXNzKFBBQ0tBR0VTW2ldICsgbmFtZSwgcmVz\nb2x2ZSwgbG9hZGVyKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFJ1bnRp\nbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgICAgIH0KICAgICAgICAg\nICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQo=\n","encoding":"base64"}

