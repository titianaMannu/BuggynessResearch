{"sha":"1e47e3739a8cf7438558f444fa62b05c8b9543f1","node_id":"MDQ6QmxvYjIwNjM2NDoxZTQ3ZTM3MzlhOGNmNzQzODU1OGY0NDRmYTYyYjA1YzhiOTU0M2Yx","size":3149,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1e47e3739a8cf7438558f444fa62b05c8b9543f1","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIubWV0YTsKCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlv\nbjsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRp\nbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBv\ncmcuYXBhY2hlLmNvbW1vbnMuY29sbGVjdGlvbnMubWFwLkxpbmtlZE1hcDsK\naW1wb3J0IG9yZy54bWwuc2F4LlNBWEV4Y2VwdGlvbjsKCi8qKgogKiBIZWxw\ncyBzZXJpYWxpemUgbWV0YWRhdGEgb2JqZWN0cyB0byBwYWNrYWdlIGFuZCBj\nbGFzcyBlbGVtZW50cy4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQG5v\namF2YWRvYwogKiBAc2VlIENGTWV0YURhdGFQYXJzZXIKICovCnB1YmxpYyBh\nYnN0cmFjdCBjbGFzcyBDRk1ldGFEYXRhU2VyaWFsaXplciBleHRlbmRzIFhN\nTE1ldGFEYXRhU2VyaWFsaXplciB7CgogICAgcHJpdmF0ZSBTdHJpbmcgX3Bh\nY2thZ2UgPSBudWxsOwoKICAgIC8qKgogICAgICogVGhlIGRlZmF1bHQgcGFj\na2FnZSBmb3Igb2JqZWN0cyBiZWluZyBzZXJpYWxpemVkLgogICAgICovCiAg\nICBwcm90ZWN0ZWQgU3RyaW5nIGdldFBhY2thZ2UoKSB7CiAgICAgICAgcmV0\ndXJuIF9wYWNrYWdlOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGRlZmF1\nbHQgcGFja2FnZSBmb3Igb2JqZWN0cyBiZWluZyBzZXJpYWxpemVkLgogICAg\nICovCiAgICBwcm90ZWN0ZWQgdm9pZCBzZXRQYWNrYWdlKFN0cmluZyBwa2cp\nIHsKICAgICAgICBfcGFja2FnZSA9IHBrZzsKICAgIH0KCiAgICAvKioKICAg\nICAqIEhlbHBlciBtZXRob2QgdG8gZ3JvdXAgb2JqZWN0cyBieSBwYWNrYWdl\nLgogICAgICoKICAgICAqIEByZXR1cm4gbWFwcGluZyBvZiBwYWNrYWdlIG5h\nbWUgdG8gYSBjb2xsZWN0aW9uIG9mIG9iamVjdHMgaW4KICAgICAqIHRoYXQg\ncGFja2FnZQogICAgICovCiAgICBwcm90ZWN0ZWQgTWFwIGdyb3VwQnlQYWNr\nYWdlKENvbGxlY3Rpb24gb2JqcykgdGhyb3dzIFNBWEV4Y2VwdGlvbiB7CiAg\nICAgICAgTWFwIHBhY2thZ2VzID0gbmV3IExpbmtlZE1hcCgpOwogICAgICAg\nIFN0cmluZyBwYWNrYWdlTmFtZTsKICAgICAgICBDb2xsZWN0aW9uIHBhY2th\nZ2VPYmpzOwogICAgICAgIE9iamVjdCBvYmo7CiAgICAgICAgZm9yIChJdGVy\nYXRvciBpdHIgPSBvYmpzLml0ZXJhdG9yKCk7IGl0ci5oYXNOZXh0KCk7KSB7\nCiAgICAgICAgICAgIG9iaiA9IGl0ci5uZXh0KCk7CiAgICAgICAgICAgIHBh\nY2thZ2VOYW1lID0gZ2V0UGFja2FnZShvYmopOwogICAgICAgICAgICBwYWNr\nYWdlT2JqcyA9IChDb2xsZWN0aW9uKSBwYWNrYWdlcy5nZXQocGFja2FnZU5h\nbWUpOwogICAgICAgICAgICBpZiAocGFja2FnZU9ianMgPT0gbnVsbCkgewog\nICAgICAgICAgICAgICAgcGFja2FnZU9ianMgPSBuZXcgTGlua2VkTGlzdCgp\nOwogICAgICAgICAgICAgICAgcGFja2FnZXMucHV0KHBhY2thZ2VOYW1lLCBw\nYWNrYWdlT2Jqcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcGFja2Fn\nZU9ianMuYWRkKG9iaik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYWNr\nYWdlczsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgcGFja2Fn\nZSBuYW1lIG9mIHRoZSBnaXZlbiBvYmplY3QsIG9yIG51bGwgaWYgbm90IGlu\nIGEKICAgICAqIHBhY2thZ2UuIFVzZWQgYnkge0BsaW5rICNncm91cEJ5UGFj\na2FnZX0uIFJldHVybnMgbnVsbCBieSBkZWZhdWx0LgogICAgICovCiAgICBw\ncm90ZWN0ZWQgU3RyaW5nIGdldFBhY2thZ2UoT2JqZWN0IG9iaikgewogICAg\nICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\ncyB0aGUgZ2l2ZW4gY2xhc3MgbmFtZSwgc3RyaXBwaW5nIHRoZSBwYWNrYWdl\nIGlmIGl0IGlzIG5vdCBuZWVkZWQuCiAgICAgKi8KICAgIHByb3RlY3RlZCBT\ndHJpbmcgZ2V0Q2xhc3NOYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgLy8g\nY2hlY2sgaWYgaW4gY3VycmVudCBwYWNrYWdlOyBtYWtlIHN1cmUgbm90IGlu\nIGEgc3ViLXBhY2thZ2UKICAgICAgICBpZiAoX3BhY2thZ2UgIT0gbnVsbCAm\nJiBuYW1lLmxhc3RJbmRleE9mKCcuJykgPT0gX3BhY2thZ2UubGVuZ3RoKCkK\nICAgICAgICAgICAgJiYgbmFtZS5zdGFydHNXaXRoKF9wYWNrYWdlKSkKICAg\nICAgICAgICAgcmV0dXJuIG5hbWUuc3Vic3RyaW5nKF9wYWNrYWdlLmxlbmd0\naCgpICsgMSk7CgogICAgICAgIC8vIGNoZWNrIG90aGVyIGtub3duIHBhY2th\nZ2VzCiAgICAgICAgU3RyaW5nW10gcGFja2FnZXMgPSBDRk1ldGFEYXRhUGFy\nc2VyLlBBQ0tBR0VTOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcGFj\na2FnZXMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGlmIChuYW1lLnN0YXJ0\nc1dpdGgocGFja2FnZXNbaV0pCiAgICAgICAgICAgICAgICAmJiBuYW1lLmxh\nc3RJbmRleE9mKCcuJykgPT0gcGFja2FnZXNbaV0ubGVuZ3RoKCkgLSAxKQog\nICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUuc3Vic3RyaW5nKHBhY2thZ2Vz\nW2ldLmxlbmd0aCgpKTsKICAgICAgICByZXR1cm4gbmFtZTsKICAgIH0KfQo=\n","encoding":"base64"}

