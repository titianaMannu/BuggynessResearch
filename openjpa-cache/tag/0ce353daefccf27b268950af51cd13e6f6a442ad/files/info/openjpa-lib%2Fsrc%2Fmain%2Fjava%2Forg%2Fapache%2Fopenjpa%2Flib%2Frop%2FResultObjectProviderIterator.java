{"sha":"7bfb009ba74d120483f77abd5fec9052473e7e0e","node_id":"MDQ6QmxvYjIwNjM2NDo3YmZiMDA5YmE3NGQxMjA0ODNmNzdhYmQ1ZmVjOTA1MjQ3M2U3ZTBl","size":2857,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7bfb009ba74d120483f77abd5fec9052473e7e0e","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIucm9wOwoKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsK\naW1wb3J0IGphdmEudXRpbC5Ob1N1Y2hFbGVtZW50RXhjZXB0aW9uOwoKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5DbG9zZWFibGU7Cgov\nKioKICogSXRlcmF0b3Igd3JhcHBlZCBhcm91bmQgYSB7QGxpbmsgUmVzdWx0\nT2JqZWN0UHJvdmlkZXJ9LgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBA\nbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgUmVzdWx0T2JqZWN0UHJvdmlk\nZXJJdGVyYXRvciBpbXBsZW1lbnRzIEl0ZXJhdG9yLCBDbG9zZWFibGUgewoK\nICAgIHByaXZhdGUgZmluYWwgUmVzdWx0T2JqZWN0UHJvdmlkZXIgX3JvcDsK\nICAgIHByaXZhdGUgQm9vbGVhbiBfaGFzTmV4dCA9IG51bGw7CiAgICBwcml2\nYXRlIEJvb2xlYW4gX29wZW4gPSBudWxsOwoKICAgIC8qKgogICAgICogQ29u\nc3RydWN0b3IuIFN1cHBseSBvYmplY3QgcHJvdmlkZXIuCiAgICAgKi8KICAg\nIHB1YmxpYyBSZXN1bHRPYmplY3RQcm92aWRlckl0ZXJhdG9yKFJlc3VsdE9i\namVjdFByb3ZpZGVyIHJvcCkgewogICAgICAgIF9yb3AgPSByb3A7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBDbG9zZSB0aGUgdW5kZXJseWluZyByZXN1bHQg\nb2JqZWN0IHByb3ZpZGVyLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBjbG9z\nZSgpIHsKICAgICAgICBpZiAoX29wZW4gPT0gQm9vbGVhbi5UUlVFKSB7CiAg\nICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBfcm9wLmNsb3NlKCk7\nCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAg\nICAgIH0KICAgICAgICAgICAgX29wZW4gPSBCb29sZWFuLkZBTFNFOwogICAg\nICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZW1vdmUoKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaGFzTmV4dCgpIHsKICAgICAg\nICBpZiAoX29wZW4gPT0gQm9vbGVhbi5GQUxTRSkKICAgICAgICAgICAgcmV0\ndXJuIGZhbHNlOwoKICAgICAgICBpZiAoX2hhc05leHQgPT0gbnVsbCkgewog\nICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKF9vcGVuID09\nIG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBfcm9wLm9wZW4oKTsKICAg\nICAgICAgICAgICAgICAgICBfb3BlbiA9IEJvb2xlYW4uVFJVRTsKICAgICAg\nICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9oYXNOZXh0ID0gKF9yb3Au\nbmV4dCgpKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xlYW4uRkFMU0U7CiAgICAg\nICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAg\nICAgICAgICAgIGNsb3NlKCk7CiAgICAgICAgICAgICAgICB0aHJvdyByZTsK\nICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgICAgIGNsb3NlKCk7CiAgICAgICAgICAgICAgICBfcm9wLmhhbmRsZUNo\nZWNrZWRFeGNlcHRpb24oZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFs\nc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGNsb3Nl\nIGlmIHdlIHJlYWNoIHRoZSBlbmQgb2YgdGhlIGxpc3QKICAgICAgICBpZiAo\nIV9oYXNOZXh0LmJvb2xlYW5WYWx1ZSgpKSB7CiAgICAgICAgICAgIGNsb3Nl\nKCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBuZXh0\nKCkgewogICAgICAgIGlmICghaGFzTmV4dCgpKQogICAgICAgICAgICB0aHJv\ndyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbigpOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIE9iamVjdCByZXQgPSBfcm9wLmdldFJlc3VsdE9iamVj\ndCgpOwogICAgICAgICAgICBfaGFzTmV4dCA9IG51bGw7CiAgICAgICAgICAg\nIHJldHVybiByZXQ7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlv\nbiByZSkgewogICAgICAgICAgICBjbG9zZSgpOwogICAgICAgICAgICB0aHJv\ndyByZTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAg\nICAgICBjbG9zZSgpOwogICAgICAgICAgICBfcm9wLmhhbmRsZUNoZWNrZWRF\neGNlcHRpb24oZSk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAg\nIH0KICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBmaW5hbGl6ZSgpIHsKICAg\nICAgICBjbG9zZSgpOwogICAgfQp9Cg==\n","encoding":"base64"}

