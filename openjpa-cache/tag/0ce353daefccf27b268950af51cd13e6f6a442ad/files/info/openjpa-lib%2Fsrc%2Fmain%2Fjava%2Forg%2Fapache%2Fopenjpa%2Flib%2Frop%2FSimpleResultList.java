{"sha":"3e48c186a73fea5c58601dceb995b0fdbb854fcb","node_id":"MDQ6QmxvYjIwNjM2NDozZTQ4YzE4NmE3M2ZlYTVjNTg2MDFkY2ViOTk1YjBmZGJiODU0ZmNi","size":2973,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3e48c186a73fea5c58601dceb995b0fdbb854fcb","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIucm9wOwoKaW1wb3J0IGphdmEuaW8uT2JqZWN0U3RyZWFt\nRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0\nIGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoK\nLyoqCiAqIEFuIGFsbW9zdCBzdGF0ZWxlc3Mge0BsaW5rIFJlc3VsdExpc3R9\nIGRlc2lnbmVkIGZvciB1c2Ugd2l0aCByZXN1bHQKICogb2JqZWN0IHByb3Zp\nZGVycyBiYWNrZWQgYnkgZWZmaWNpZW50IHJhbmRvbS1hY2Nlc3MgZGF0YSBz\ndHJ1Y3R1cmVzLCBzdWNoCiAqIGFzIHRoZSB7QGxpbmsgTGlzdFJlc3VsdE9i\namVjdFByb3ZpZGVyfS4gVGhpcyByZXN1bHQgbGlzdCBkb2VzIG5vdAogKiBw\nZXJmb3JtIGFueSBjYWNoaW5nLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQog\nKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgU2ltcGxlUmVzdWx0TGlz\ndCBleHRlbmRzIEFic3RyYWN0Tm9uU2VxdWVudGlhbFJlc3VsdExpc3QgewoK\nICAgIHByaXZhdGUgZmluYWwgdHJhbnNpZW50IFJlc3VsdE9iamVjdFByb3Zp\nZGVyIF9yb3A7CiAgICBwcml2YXRlIGJvb2xlYW4gX2Nsb3NlZCA9IGZhbHNl\nOwogICAgcHJpdmF0ZSBpbnQgX3NpemUgPSAtMTsKCiAgICBwdWJsaWMgU2lt\ncGxlUmVzdWx0TGlzdChSZXN1bHRPYmplY3RQcm92aWRlciByb3ApIHsKICAg\nICAgICBfcm9wID0gcm9wOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9y\nb3Aub3BlbigpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24g\ncmUpIHsKICAgICAgICAgICAgY2xvc2UoKTsKICAgICAgICAgICAgdGhyb3cg\ncmU7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgY2xvc2UoKTsKICAgICAgICAgICAgX3JvcC5oYW5kbGVDaGVja2VkRXhj\nZXB0aW9uKGUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiBpc1Byb3ZpZGVyT3BlbigpIHsKICAgICAgICByZXR1cm4gIV9jbG9zZWQ7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNDbG9zZWQoKSB7CiAgICAg\nICAgcmV0dXJuIF9jbG9zZWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgY2xv\nc2UoKSB7CiAgICAgICAgaWYgKCFfY2xvc2VkKSB7CiAgICAgICAgICAgIF9j\nbG9zZWQgPSB0cnVlOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAg\nICAgX3JvcC5jbG9zZSgpOwogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRp\nb24gZSkgewogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3QgZ2V0SW50ZXJuYWwoaW50IGluZGV4KSB7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgaWYgKCFfcm9wLmFic29sdXRlKGluZGV4KSkK\nICAgICAgICAgICAgICAgIHJldHVybiBQQVNUX0VORDsKICAgICAgICAgICAg\ncmV0dXJuIF9yb3AuZ2V0UmVzdWx0T2JqZWN0KCk7CiAgICAgICAgfSBjYXRj\naCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICBjbG9zZSgp\nOwogICAgICAgICAgICB0aHJvdyByZTsKICAgICAgICB9IGNhdGNoIChFeGNl\ncHRpb24gZSkgewogICAgICAgICAgICBjbG9zZSgpOwogICAgICAgICAgICBf\ncm9wLmhhbmRsZUNoZWNrZWRFeGNlcHRpb24oZSk7CiAgICAgICAgICAgIHJl\ndHVybiBQQVNUX0VORDsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGlu\ndCBzaXplKCkgewogICAgICAgIGFzc2VydE9wZW4oKTsKICAgICAgICBpZiAo\nX3NpemUgIT0gLTEpCiAgICAgICAgICAgIHJldHVybiBfc2l6ZTsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBfc2l6ZSA9IF9yb3Auc2l6ZSgpOwogICAg\nICAgICAgICByZXR1cm4gX3NpemU7CiAgICAgICAgfSBjYXRjaCAoUnVudGlt\nZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICBjbG9zZSgpOwogICAgICAg\nICAgICB0aHJvdyByZTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkg\newogICAgICAgICAgICBjbG9zZSgpOwogICAgICAgICAgICBfcm9wLmhhbmRs\nZUNoZWNrZWRFeGNlcHRpb24oZSk7CiAgICAgICAgICAgIHJldHVybiAtMTsK\nICAgICAgICB9CiAgICB9CgogICAgcHVibGljIE9iamVjdCB3cml0ZVJlcGxh\nY2UoKSB0aHJvd3MgT2JqZWN0U3RyZWFtRXhjZXB0aW9uIHsKICAgICAgICBp\nZiAoX2Nsb3NlZCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgogICAgICAg\nIC8vIGxvYWQgcmVzdWx0cyBpbnRvIGxpc3QKICAgICAgICBMaXN0IGxpc3Qg\nPSBuZXcgQXJyYXlMaXN0KCk7CiAgICAgICAgZm9yIChJdGVyYXRvciBpdHIg\nPSBpdGVyYXRvcigpOyBpdHIuaGFzTmV4dCgpOykKICAgICAgICAgICAgbGlz\ndC5hZGQoaXRyLm5leHQoKSk7CiAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICB9\nCn0K\n","encoding":"base64"}

