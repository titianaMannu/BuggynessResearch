{"sha":"aa3353c5545632a8dc6eea5d26b18a995a2a93c6","node_id":"MDQ6QmxvYjIwNjM2NDphYTMzNTNjNTU0NTYzMmE4ZGM2ZWVhNWQyNmIxOGE5OTVhMmE5M2M2","size":4713,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/aa3353c5545632a8dc6eea5d26b18a995a2a93c6","content":"LyoNCiAqIENvcHlyaWdodCAyMDAzLTIwMDYgVGhlIEFwYWNoZSBTb2Z0d2Fy\nZSBGb3VuZGF0aW9uLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFj\naGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICog\neW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5j\nZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5\nIG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogICAgICBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3Mg\ncmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdy\naXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGlj\nZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICog\nV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQs\nIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vu\nc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlz\nc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4N\nCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7DQoN\nCi8qKg0KICogVGhpcyBjbGFzcyBjYW1lIGZyb20gdGhlIEFwYWNoZSBDb21t\nb25zIElkIHNhbmRib3ggcHJvamVjdCBpbiBzdXBwb3J0DQogKiBvZiB0aGUg\nVVVJREdlbmVyYXRvciBpbXBsZW1lbnRhdGlvbi4NCiAqDQogKiA8cD5TdGF0\naWMgbWV0aG9kcyBmb3IgbWFuYWdpbmcgYnl0ZSBhcnJheXMgKGFsbCBtZXRo\nb2RzIGZvbGxvdyBCaWcNCiAqIEVuZGlhbiBvcmRlciB3aGVyZSBtb3N0IHNp\nZ25pZmljYW50IGJpdHMgYXJlIGluIGZyb250KS48L3A+DQogKi8NCnB1Ymxp\nYyBmaW5hbCBjbGFzcyBCeXRlcyB7DQoNCiAgICAvKioNCiAgICAgKiA8cD5I\naWRlIGNvbnN0cnVjdG9yIGluIHV0aWxpdHkgY2xhc3MuPC9wPg0KICAgICAq\nLw0KICAgIHByaXZhdGUgQnl0ZXMoKSB7DQogICAgfQ0KDQogICAgLyoqDQog\nICAgICogQXBwZW5kcyB0d28gYnl0ZXMgYXJyYXkgaW50byBvbmUuDQogICAg\nICoNCiAgICAgKiBAcGFyYW0gYSBBIGJ5dGVbXS4NCiAgICAgKiBAcGFyYW0g\nYiBBIGJ5dGVbXS4NCiAgICAgKiBAcmV0dXJuIEEgYnl0ZVtdLg0KICAgICAq\nLw0KICAgIHB1YmxpYyBzdGF0aWMgYnl0ZVtdIGFwcGVuZChieXRlW10gYSwg\nYnl0ZVtdIGIpIHsNCiAgICAgICAgYnl0ZVtdIHogPSBuZXcgYnl0ZVthLmxl\nbmd0aCArIGIubGVuZ3RoXTsNCiAgICAgICAgU3lzdGVtLmFycmF5Y29weShh\nLCAwLCB6LCAwLCBhLmxlbmd0aCk7DQogICAgICAgIFN5c3RlbS5hcnJheWNv\ncHkoYiwgMCwgeiwgYS5sZW5ndGgsIGIubGVuZ3RoKTsNCiAgICAgICAgcmV0\ndXJuIHo7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogUmV0dXJucyBhIDgt\nYnl0ZSBhcnJheSBidWlsdCBmcm9tIGEgbG9uZy4NCiAgICAgKg0KICAgICAq\nIEBwYXJhbSBuIFRoZSBudW1iZXIgdG8gY29udmVydC4NCiAgICAgKiBAcmV0\ndXJuIEEgYnl0ZVtdLg0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgYnl0\nZVtdIHRvQnl0ZXMobG9uZyBuKSB7DQogICAgICAgIHJldHVybiB0b0J5dGVz\nKG4sIG5ldyBieXRlWzhdKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBC\ndWlsZCBhIDgtYnl0ZSBhcnJheSBmcm9tIGEgbG9uZy4gIE5vIGNoZWNrIGlz\nIHBlcmZvcm1lZCBvbiB0aGUNCiAgICAgKiBhcnJheSBsZW5ndGguDQogICAg\nICoNCiAgICAgKiBAcGFyYW0gbiBUaGUgbnVtYmVyIHRvIGNvbnZlcnQuDQog\nICAgICogQHBhcmFtIGIgVGhlIGFycmF5IHRvIGZpbGwuDQogICAgICogQHJl\ndHVybiBBIGJ5dGVbXS4NCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIGJ5\ndGVbXSB0b0J5dGVzKGxvbmcgbiwgYnl0ZVtdIGIpIHsNCiAgICAgICAgYls3\nXSA9IChieXRlKSAobik7DQogICAgICAgIG4gPj4+PSA4Ow0KICAgICAgICBi\nWzZdID0gKGJ5dGUpIChuKTsNCiAgICAgICAgbiA+Pj49IDg7DQogICAgICAg\nIGJbNV0gPSAoYnl0ZSkgKG4pOw0KICAgICAgICBuID4+Pj0gODsNCiAgICAg\nICAgYls0XSA9IChieXRlKSAobik7DQogICAgICAgIG4gPj4+PSA4Ow0KICAg\nICAgICBiWzNdID0gKGJ5dGUpIChuKTsNCiAgICAgICAgbiA+Pj49IDg7DQog\nICAgICAgIGJbMl0gPSAoYnl0ZSkgKG4pOw0KICAgICAgICBuID4+Pj0gODsN\nCiAgICAgICAgYlsxXSA9IChieXRlKSAobik7DQogICAgICAgIG4gPj4+PSA4\nOw0KICAgICAgICBiWzBdID0gKGJ5dGUpIChuKTsNCg0KICAgICAgICByZXR1\ncm4gYjsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBCdWlsZCBhIGxvbmcg\nZnJvbSBmaXJzdCA4IGJ5dGVzIG9mIHRoZSBhcnJheS4NCiAgICAgKg0KICAg\nICAqIEBwYXJhbSBiIFRoZSBieXRlW10gdG8gY29udmVydC4NCiAgICAgKiBA\ncmV0dXJuIEEgbG9uZy4NCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIGxv\nbmcgdG9Mb25nKGJ5dGVbXSBiKSB7DQogICAgICAgIHJldHVybiAoKCgobG9u\nZykgYls3XSkgJiAweEZGKQ0KICAgICAgICAgICAgICAgICsgKCgoKGxvbmcp\nIGJbNl0pICYgMHhGRikgPDwgOCkNCiAgICAgICAgICAgICAgICArICgoKChs\nb25nKSBiWzVdKSAmIDB4RkYpIDw8IDE2KQ0KICAgICAgICAgICAgICAgICsg\nKCgoKGxvbmcpIGJbNF0pICYgMHhGRikgPDwgMjQpDQogICAgICAgICAgICAg\nICAgKyAoKCgobG9uZykgYlszXSkgJiAweEZGKSA8PCAzMikNCiAgICAgICAg\nICAgICAgICArICgoKChsb25nKSBiWzJdKSAmIDB4RkYpIDw8IDQwKQ0KICAg\nICAgICAgICAgICAgICsgKCgoKGxvbmcpIGJbMV0pICYgMHhGRikgPDwgNDgp\nDQogICAgICAgICAgICAgICAgKyAoKCgobG9uZykgYlswXSkgJiAweEZGKSA8\nPCA1NikpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICogQ29tcGFyZXMgdHdv\nIGJ5dGUgYXJyYXlzIGZvciBlcXVhbGl0eS4NCiAgICAqDQogICAgKiBAcGFy\nYW0gYSBBIGJ5dGVbXS4NCiAgICAqIEBwYXJhbSBiIEEgYnl0ZVtdLg0KICAg\nICogQHJldHVybiBUcnVlIGlmIHRoZSBhcnJheXMgaGF2ZSBpZGVudGljYWwg\nY29udGVudHMuDQogICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4g\nYXJlRXF1YWwoYnl0ZVtdIGEsIGJ5dGVbXSBiKSB7DQogICAgICAgIGludCBh\nTGVuZ3RoID0gYS5sZW5ndGg7DQogICAgICAgIGlmIChhTGVuZ3RoICE9IGIu\nbGVuZ3RoKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAg\nIH0NCg0KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGFMZW5ndGg7IGkr\nKykgew0KICAgICAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkgew0KICAgICAg\nICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAg\nICAgfQ0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICAvKioN\nCiAgICAgKiA8cD5Db21wYXJlcyB0d28gYnl0ZSBhcnJheXMgYXMgc3BlY2lm\naWVkIGJ5IDxjb2RlPkNvbXBhcmFibGU8L2NvZGU+Lg0KICAgICAqDQogICAg\nICogQHBhcmFtIGxocyAtIGxlZnQgaGFuZCB2YWx1ZSBpbiB0aGUgY29tcGFy\naXNvbiBvcGVyYXRpb24uDQogICAgICogQHBhcmFtIHJocyAtIHJpZ2h0IGhh\nbmQgdmFsdWUgaW4gdGhlIGNvbXBhcmlzb24gb3BlcmF0aW9uLg0KICAgICAq\nIEByZXR1cm4gIGEgbmVnYXRpdmUgaW50ZWdlciwgemVybywgb3IgYSBwb3Np\ndGl2ZSBpbnRlZ2VyIGFzIA0KICAgICAqIDxjb2RlPmxoczwvY29kZT4gaXMg\nbGVzcyB0aGFuLCBlcXVhbCB0bywgb3IgZ3JlYXRlciB0aGFuIA0KICAgICAq\nIDxjb2RlPnJoczwvY29kZT4uDQogICAgICovDQogICAgcHVibGljIHN0YXRp\nYyBpbnQgY29tcGFyZVRvKGJ5dGVbXSBsaHMsIGJ5dGVbXSByaHMpIHsNCiAg\nICAgICAgaWYgKGxocyA9PSByaHMpIHsNCiAgICAgICAgICAgIHJldHVybiAw\nOw0KICAgICAgICB9DQogICAgICAgIGlmIChsaHMgPT0gbnVsbCkgew0KICAg\nICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICB9DQogICAgICAgIGlmIChy\naHMgPT0gbnVsbCkgew0KICAgICAgICAgICAgcmV0dXJuICsxOw0KICAgICAg\nICB9DQogICAgICAgIGlmIChsaHMubGVuZ3RoICE9IHJocy5sZW5ndGgpIHsN\nCiAgICAgICAgICAgIHJldHVybiAoKGxocy5sZW5ndGggPCByaHMubGVuZ3Ro\nKSA/IC0xIDogKzEpOw0KICAgICAgICB9DQogICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgbGhzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAo\nbGhzW2ldIDwgcmhzW2ldKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIC0x\nOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChsaHNbaV0gPiByaHNbaV0pIHsN\nCiAgICAgICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgICAgIH0NCiAg\nICAgICAgfQ0KICAgICAgICByZXR1cm4gMDsNCiAgICB9DQoNCiAgICAvKioN\nCiAgICAgKiBCdWlsZCBhIHNob3J0IGZyb20gZmlyc3QgMiBieXRlcyBvZiB0\naGUgYXJyYXkuDQogICAgICoNCiAgICAgKiBAcGFyYW0gYiBUaGUgYnl0ZVtd\nIHRvIGNvbnZlcnQuDQogICAgICogQHJldHVybiBBIHNob3J0Lg0KICAgICAq\nLw0KICAgIHB1YmxpYyBzdGF0aWMgc2hvcnQgdG9TaG9ydChieXRlW10gYikg\new0KICAgICAgICByZXR1cm4gIChzaG9ydCkgKChiWzFdICYgMHhGRikgKyAo\nKGJbMF0gJiAweEZGKSA8PCA4KSk7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

