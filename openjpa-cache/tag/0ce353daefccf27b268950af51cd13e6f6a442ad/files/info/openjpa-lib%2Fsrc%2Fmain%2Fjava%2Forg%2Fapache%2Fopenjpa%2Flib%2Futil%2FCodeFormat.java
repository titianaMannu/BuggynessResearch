{"sha":"22276249101056e9652e088f1a7189fcdb9b1054","node_id":"MDQ6QmxvYjIwNjM2NDoyMjI3NjI0OTEwMTA1NmU5NjUyZTA4OGYxYTcxODlmY2RiOWIxMDU0","size":14960,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/22276249101056e9652e088f1a7189fcdb9b1054","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIudXRpbDsKCi8qKgogKiBFbmNhcHN1bGF0ZXMgc29tZSBj\nb21tb24gSmF2YSBzb3VyY2UgY29kZSBmb3JtYXR0aW5nIG9wdGlvbnMuIFRo\nZQogKiBjbGFzcyBjYW4gYWxzbyBiZSB1c2VkIGFzIGEgYnVmZmVyIGZvciBm\nb3JtYXR0ZWQgSmF2YSBjb2RlLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQog\nKi8KcHVibGljIGZpbmFsIGNsYXNzIENvZGVGb3JtYXQgaW1wbGVtZW50cyBD\nbG9uZWFibGUgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBf\nc2VwID0gU3lzdGVtLmdldFByb3BlcnR5KCJsaW5lLnNlcGFyYXRvciIpOwoK\nICAgIHByaXZhdGUgU3RyaW5nIF90YWIgPSAiXHQiOwogICAgcHJpdmF0ZSBi\nb29sZWFuIF9zcGFjZUJlZm9yZVBhcmVuID0gZmFsc2U7CiAgICBwcml2YXRl\nIGJvb2xlYW4gX3NwYWNlSW5QYXJlbiA9IGZhbHNlOwogICAgcHJpdmF0ZSBi\nb29sZWFuIF9icmFjZU9uU2FtZUxpbmUgPSB0cnVlOwogICAgcHJpdmF0ZSBi\nb29sZWFuIF9icmFjZUF0U2FtZVRhYkxldmVsID0gZmFsc2U7CiAgICBwcml2\nYXRlIGJvb2xlYW4gX3Njb3JlQmVmb3JlRmllbGROYW1lID0gZmFsc2U7CiAg\nICBwcml2YXRlIGludCBfbGluZXNCZXR3ZWVuU2VjdGlvbnMgPSAxOwoKICAg\nIHByaXZhdGUgU3RyaW5nQnVmZmVyIF9idWYgPSBuZXcgU3RyaW5nQnVmZmVy\nKCk7CgogICAgLyoqCiAgICAgKiBUaGUgbnVtYmVyIG9mIHNwYWNlcyB0byB1\nc2UgZm9yIHRhYnM7IDAgbWVhbnMgdG8gdXNlIGFjdHVhbCB0YWIKICAgICAq\nIGNoYXJhY3RlcnMuIERlZmF1bHRzIHRvIDAuCiAgICAgKi8KICAgIHB1Ymxp\nYyBpbnQgZ2V0VGFiU3BhY2VzKCkgewogICAgICAgIHJldHVybiAoX3RhYi5l\ncXVhbHMoIlx0IikpID8gMCA6IF90YWIubGVuZ3RoKCk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUaGUgbnVtYmVyIG9mIHNwYWNlcyB0byB1c2UgZm9yIHRh\nYnM7IDAgbWVhbnMgdG8gdXNlIGFjdHVhbCB0YWIKICAgICAqIGNoYXJhY3Rl\ncnMuIERlZmF1bHRzIHRvIDAuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNl\ndFRhYlNwYWNlcyhpbnQgdGFiKSB7CiAgICAgICAgaWYgKHRhYiA9PSAwKQog\nICAgICAgICAgICBfdGFiID0gIlx0IjsKICAgICAgICBlbHNlIHsKICAgICAg\nICAgICAgU3RyaW5nQnVmZmVyIHRhYnMgPSBuZXcgU3RyaW5nQnVmZmVyKHRh\nYik7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgdGFiOyBpKysp\nCiAgICAgICAgICAgICAgICB0YWJzLmFwcGVuZCgiICIpOwogICAgICAgICAg\nICBfdGFiID0gdGFicy50b1N0cmluZygpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFdoZXRoZXIgdG8gcGxhY2UgYSBzcGFjZSBiZWZvcmUg\ncGFyZW50aGVzZXMuIERlZmF1bHRzIHRvIGZhbHNlLgogICAgICovCiAgICBw\ndWJsaWMgYm9vbGVhbiBnZXRTcGFjZUJlZm9yZVBhcmVuKCkgewogICAgICAg\nIHJldHVybiBfc3BhY2VCZWZvcmVQYXJlbjsKICAgIH0KCiAgICAvKioKICAg\nICAqIFdoZXRoZXIgdG8gcGxhY2UgYSBzcGFjZSBiZWZvcmUgcGFyZW50aGVz\nZXMuIERlZmF1bHRzIHRvIGZhbHNlLgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXRTcGFjZUJlZm9yZVBhcmVuKGJvb2xlYW4gc3BhY2VCZWZvcmVQYXJl\nbikgewogICAgICAgIF9zcGFjZUJlZm9yZVBhcmVuID0gc3BhY2VCZWZvcmVQ\nYXJlbjsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcGxhY2Ug\nYSBzcGFjZSB3aXRoaW4gcGFyZW50aGVzZXMuIERlZmF1bHRzIHRvIGZhbHNl\nLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRTcGFjZUluUGFyZW4o\nKSB7CiAgICAgICAgcmV0dXJuIF9zcGFjZUluUGFyZW47CiAgICB9CgogICAg\nLyoqCiAgICAgKiBXaGV0aGVyIHRvIHBsYWNlIGEgc3BhY2Ugd2l0aGluIHBh\ncmVudGhlc2VzLiBEZWZhdWx0cyB0byBmYWxzZS4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgc2V0U3BhY2VJblBhcmVuKGJvb2xlYW4gc3BhY2VJblBhcmVu\nKSB7CiAgICAgICAgX3NwYWNlSW5QYXJlbiA9IHNwYWNlSW5QYXJlbjsKICAg\nIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcGxhY2Ugb3BlbmluZyBi\ncmFjZXMgb24gdGhlIHNhbWUgbGluZSBhcyB0aGUKICAgICAqIGJsb2NrIGRl\nY2xhcmF0aW9uLCBvciBvbiB0aGUgbmV4dCBsaW5lLiBEZWZhdWx0cyB0byBz\nYW1lIGxpbmUuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdldEJyYWNl\nT25TYW1lTGluZSgpIHsKICAgICAgICByZXR1cm4gX2JyYWNlT25TYW1lTGlu\nZTsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcGxhY2Ugb3Bl\nbmluZyBicmFjZXMgb24gdGhlIHNhbWUgbGluZSBhcyB0aGUKICAgICAqIGJs\nb2NrIGRlY2xhcmF0aW9uLCBvciBvbiB0aGUgbmV4dCBsaW5lLiBEZWZhdWx0\ncyB0byBzYW1lIGxpbmUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEJy\nYWNlT25TYW1lTGluZShib29sZWFuIGJyYWNlT25TYW1lTGluZSkgewogICAg\nICAgIF9icmFjZU9uU2FtZUxpbmUgPSBicmFjZU9uU2FtZUxpbmU7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIHBsYWNlIGJyYWNlcyBhdCB0\naGUgc2FtZSB0YWIgbGV2ZWwgYXMgdGhlIGNvZGUgd2l0aGluCiAgICAgKiB0\naGUgYmxvY2suIERlZmF1bHRzIHRvIGZhbHNlLgogICAgICovCiAgICBwdWJs\naWMgYm9vbGVhbiBnZXRCcmFjZUF0U2FtZVRhYkxldmVsKCkgewogICAgICAg\nIHJldHVybiBfYnJhY2VBdFNhbWVUYWJMZXZlbDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFdoZXRoZXIgdG8gcGxhY2UgYnJhY2VzIGF0IHRoZSBzYW1lIHRh\nYiBsZXZlbCBhcyB0aGUgY29kZSB3aXRoaW4KICAgICAqIHRoZSBibG9jay4g\nRGVmYXVsdHMgdG8gZmFsc2UuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNl\ndEJyYWNlQXRTYW1lVGFiTGV2ZWwoYm9vbGVhbiBicmFjZUF0U2FtZVRhYkxl\ndmVsKSB7CiAgICAgICAgX2JyYWNlQXRTYW1lVGFiTGV2ZWwgPSBicmFjZUF0\nU2FtZVRhYkxldmVsOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0\nbyBwbGFjZSBhbiB1bmRlcnNjb3JlIGJlZm9yZSBwcml2YXRlIGZpZWxkIG5h\nbWVzLiBEZWZhdWx0cwogICAgICogdG8gZmFsc2UuCiAgICAgKi8KICAgIHB1\nYmxpYyBib29sZWFuIGdldFNjb3JlQmVmb3JlRmllbGROYW1lKCkgewogICAg\nICAgIHJldHVybiBfc2NvcmVCZWZvcmVGaWVsZE5hbWU7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBXaGV0aGVyIHRvIHBsYWNlIGFuIHVuZGVyc2NvcmUgYmVm\nb3JlIHByaXZhdGUgZmllbGQgbmFtZXMuIERlZmF1bHRzCiAgICAgKiB0byBm\nYWxzZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U2NvcmVCZWZvcmVG\naWVsZE5hbWUoYm9vbGVhbiBzY29yZUJlZm9yZUZpZWxkTmFtZSkgewogICAg\nICAgIF9zY29yZUJlZm9yZUZpZWxkTmFtZSA9IHNjb3JlQmVmb3JlRmllbGRO\nYW1lOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG51bWJlciBvZiBlbXB0\neSBsaW5lcyBiZXR3ZWVuIGNvZGUgc2VjdGlvbnMuIERlZmF1bHRzIHRvIDEu\nCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0TGluZXNCZXR3ZWVuU2VjdGlv\nbnMoKSB7CiAgICAgICAgcmV0dXJuIF9saW5lc0JldHdlZW5TZWN0aW9uczsK\nICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBudW1iZXIgb2YgZW1wdHkgbGlu\nZXMgYmV0d2VlbiBzZWN0aW9ucy4gRGVmYXVsdHMgdG8gMS4KICAgICAqLwog\nICAgcHVibGljIHZvaWQgc2V0TGluZXNCZXR3ZWVuU2VjdGlvbnMoaW50IGxp\nbmVzQmV0d2VlblNlY3Rpb25zKSB7CiAgICAgICAgX2xpbmVzQmV0d2VlblNl\nY3Rpb25zID0gbGluZXNCZXR3ZWVuU2VjdGlvbnM7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSZXR1cm4gYSBuZXcgbGluZSBjaGFyYWN0ZXIuCiAgICAgKi8K\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW5kbCgpIHsKICAgICAgICByZXR1cm4g\nZ2V0RW5kbCgxKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUg\nZ2l2ZW4gbnVtYmVyIG9mIG5ldyBsaW5lIGNoYXJhY3RlcnMuCiAgICAgKi8K\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW5kbChpbnQgbnVtKSB7CiAgICAgICAg\naWYgKG51bSA9PSAwKQogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAg\naWYgKG51bSA9PSAxKQogICAgICAgICAgICByZXR1cm4gX3NlcDsKCiAgICAg\nICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoX3NlcC5s\nZW5ndGgoKSAqIG51bSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBu\ndW07IGkrKykKICAgICAgICAgICAgYnVmLmFwcGVuZChfc2VwKTsKICAgICAg\nICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gdGhlIGdpdmVuIG51bWJlciBvZiBuZXcgbGluZSBjaGFyYWN0\nZXJzLCBmb2xsb3dlZCBieQogICAgICogdGhlIGdpdmVuIHRhYiBsZXZlbCBp\nbmRlbnRhdGlvbi4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRFbmRs\nKGludCBudW0sIGludCB0YWJzKSB7CiAgICAgICAgcmV0dXJuIGdldEVuZGwo\nbnVtKSArIGdldFRhYih0YWJzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJl\ndHVybiB7I2dldExpbmVzQmV0d2VlblNlY3Rpb25zfSArIDEgbmV3IGxpbmUg\nY2hhcmFjdGVycy4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRBZnRl\nclNlY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIGdldEVuZGwoZ2V0TGluZXNC\nZXR3ZWVuU2VjdGlvbnMoKSArIDEpOwogICAgfQoKICAgIC8qKgogICAgICog\nT3BlbiBwYXJlbnRoZXNlcyBzdHJpbmcuIFVzZXJzIGNhbiBjaG9vc2UgdG8g\ncGxhY2Ugc3BhY2VzIGJlZm9yZQogICAgICogYW5kIHdpdGhpbiBwYXJlbnRo\nZXNlcy4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRPcGVuUGFyZW4o\nYm9vbGVhbiBtZXRob2RPcklmKSB7CiAgICAgICAgaWYgKChfc3BhY2VCZWZv\ncmVQYXJlbiAmJiBtZXRob2RPcklmKSAmJiBfc3BhY2VJblBhcmVuKQogICAg\nICAgICAgICByZXR1cm4gIiAoICI7CiAgICAgICAgaWYgKF9zcGFjZUJlZm9y\nZVBhcmVuICYmIG1ldGhvZE9ySWYpCiAgICAgICAgICAgIHJldHVybiAiICgi\nOwogICAgICAgIGlmIChfc3BhY2VJblBhcmVuKQogICAgICAgICAgICByZXR1\ncm4gIiggIjsKICAgICAgICByZXR1cm4gIigiOwogICAgfQoKICAgIC8qKgog\nICAgICogQ2xvc2UgcGFyZW50aGVzZXMgc3RyaW5nLiBVc2VycyBjYW4gY2hv\nb3NlIHRvIHBsYWNlIHNwYWNlcyB3aXRoaW4KICAgICAqIHBhcmVudGhlc2Vz\nLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldENsb3NlUGFyZW4oKSB7\nCiAgICAgICAgaWYgKF9zcGFjZUluUGFyZW4pCiAgICAgICAgICAgIHJldHVy\nbiAiICkiOwogICAgICAgIHJldHVybiAiKSI7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBQYWlyZWQgcGFyZW50aGVzZXMgZm9yIGVtcHR5IG1ldGhvZCBwYXJh\nbWV0ZXJzLiBVc2VycyBjYW4gY2hvb3NlCiAgICAgKiB0byBwbGFjZSBzcGFj\nZXMgYmVmb3JlIHBhcmVudGhlc2VzLgogICAgICovCiAgICBwdWJsaWMgU3Ry\naW5nIGdldFBhcmVucygpIHsKICAgICAgICBpZiAoX3NwYWNlQmVmb3JlUGFy\nZW4pCiAgICAgICAgICAgIHJldHVybiAiICgpIjsKICAgICAgICByZXR1cm4g\nIigpIjsKICAgIH0KCiAgICAvKioKICAgICAqIE9wZW4gYnJhY2Ugc3RyaW5n\nLiBVc2VycyBjYW4gY2hvb3NlIHRvIHBsYWNlIGJyYWNlcyBvbiB0aGUgc2Ft\nZQogICAgICogbGluZSwgb3Igb24gYSBuZXcgbGluZSwgYW5kIGNhbiBjaG9v\nc2UgdGhlIGluZGVudGluZyBsZXZlbC4KICAgICAqCiAgICAgKiBAcGFyYW0g\ndGFiTGV2ZWwgdGhlIHRhYiBsZXZlbCBvZiBjb2RlIHdpdGhpbiB0aGUgYnJh\nY2UKICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRPcGVuQnJhY2UoaW50\nIHRhYkxldmVsKSB7CiAgICAgICAgaWYgKF9icmFjZU9uU2FtZUxpbmUpCiAg\nICAgICAgICAgIHJldHVybiAiIHsiOwogICAgICAgIGlmIChfYnJhY2VBdFNh\nbWVUYWJMZXZlbCkKICAgICAgICAgICAgcmV0dXJuIGdldEVuZGwoKSArIGdl\ndFRhYih0YWJMZXZlbCkgKyAieyI7CiAgICAgICAgcmV0dXJuIGdldEVuZGwo\nKSArIGdldFRhYih0YWJMZXZlbCAtIDEpICsgInsiOwogICAgfQoKICAgIC8q\nKgogICAgICogQ2xvc2UgYnJhY2Ugc3RyaW5nLiBVc2VycyBjYW4gY2hvb3Nl\nIHRvIHBsYWNlIGJyYWNlcyBvbiB0aGUgc2FtZQogICAgICogbGluZSwgb3Ig\nb24gYSBuZXcgbGluZSwgYW5kIGNhbiBjaG9vc2UgdGhlIGluZGVudGluZyBs\nZXZlbC4KICAgICAqCiAgICAgKiBAcGFyYW0gdGFiTGV2ZWwgdGhlIHRhYiBs\nZXZlbCBvZiBjb2RlIHdpdGhpbiB0aGUgYnJhY2UKICAgICAqLwogICAgcHVi\nbGljIFN0cmluZyBnZXRDbG9zZUJyYWNlKGludCB0YWJMZXZlbCkgewogICAg\nICAgIGlmIChfYnJhY2VBdFNhbWVUYWJMZXZlbCkKICAgICAgICAgICAgcmV0\ndXJuIGdldFRhYih0YWJMZXZlbCkgKyAifSI7CiAgICAgICAgcmV0dXJuIGdl\ndFRhYih0YWJMZXZlbCAtIDEpICsgIn0iOwogICAgfQoKICAgIC8qKgogICAg\nICogRXh0ZW5kcyBkZWNsYXJhdGlvbi4gVXNlcyBjb25maWd1cmF0aW9uIG9m\nIHtAbGluayAjb3BlbkJyYWNlfSwKICAgICAqIGJ1dCBwcmludHMgImV4dGVu\nZHMiIGluc3RlYWQgb2YgYSBicmFjZS4KICAgICAqLwogICAgcHVibGljIFN0\ncmluZyBnZXRFeHRlbmRzRGVjKGludCB0YWJMZXZlbCkgewogICAgICAgIGlm\nIChfYnJhY2VPblNhbWVMaW5lKQogICAgICAgICAgICByZXR1cm4gIiBleHRl\nbmRzIjsKICAgICAgICBpZiAoX2JyYWNlQXRTYW1lVGFiTGV2ZWwpCiAgICAg\nICAgICAgIHJldHVybiBnZXRFbmRsKCkgKyBnZXRUYWIodGFiTGV2ZWwpICsg\nImV4dGVuZHMiOwogICAgICAgIHJldHVybiBnZXRFbmRsKCkgKyBnZXRUYWIo\ndGFiTGV2ZWwpICsgImV4dGVuZHMiOwogICAgfQoKICAgIC8qKgogICAgICog\nSW1wbGVtZW50cyBkZWNsYXJhdGlvbi4gVXNlcyBjb25maWd1cmF0aW9uIG9m\nIHtAbGluayAjb3BlbkJyYWNlfSwKICAgICAqIGJ1dCBwcmludHMgImltcGxl\nbWVudHMiIGluc3RlYWQgb2YgYSBicmFjZS4KICAgICAqLwogICAgcHVibGlj\nIFN0cmluZyBnZXRJbXBsZW1lbnRzRGVjKGludCB0YWJMZXZlbCkgewogICAg\nICAgIGlmIChfYnJhY2VPblNhbWVMaW5lKQogICAgICAgICAgICByZXR1cm4g\nIiBpbXBsZW1lbnRzIjsKICAgICAgICBpZiAoX2JyYWNlQXRTYW1lVGFiTGV2\nZWwpCiAgICAgICAgICAgIHJldHVybiBnZXRFbmRsKCkgKyBnZXRUYWIodGFi\nTGV2ZWwpICsgImltcGxlbWVudHMiOwogICAgICAgIHJldHVybiBnZXRFbmRs\nKCkgKyBnZXRUYWIodGFiTGV2ZWwpICsgImltcGxlbWVudHMiOwogICAgfQoK\nICAgIC8qKgogICAgICogVGhyb3dzIGRlY2xhcmF0aW9uLiBVc2VzIGNvbmZp\nZ3VyYXRpb24gb2Yge0BsaW5rICNvcGVuQnJhY2V9LAogICAgICogYnV0IHBy\naW50cyAidGhyb3dzIiBpbnN0ZWFkIG9mIGEgYnJhY2UuCiAgICAgKi8KICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0VGhyb3dzRGVjKGludCB0YWJMZXZlbCkgewog\nICAgICAgIGlmIChfYnJhY2VPblNhbWVMaW5lKQogICAgICAgICAgICByZXR1\ncm4gIiB0aHJvd3MiOwogICAgICAgIGlmIChfYnJhY2VBdFNhbWVUYWJMZXZl\nbCkKICAgICAgICAgICAgcmV0dXJuIGdldEVuZGwoKSArIGdldFRhYih0YWJM\nZXZlbCkgKyAidGhyb3dzIjsKICAgICAgICByZXR1cm4gZ2V0RW5kbCgpICsg\nZ2V0VGFiKHRhYkxldmVsKSArICJ0aHJvd3MiOwogICAgfQoKICAgIC8qKgog\nICAgICogVGFiIHN0cmluZy4gVXNlcnMgY2FuIGNob29zZSB0byB1c2Ugc3Bh\nY2VzIG9yIHRhYiBjaGFyYWN0ZXJzLgogICAgICovCiAgICBwdWJsaWMgU3Ry\naW5nIGdldFRhYigpIHsKICAgICAgICByZXR1cm4gZ2V0VGFiKDEpOwogICAg\nfQoKICAgIC8qKgogICAgICogVGFiIHN0cmluZy4gVXNlcnMgY2FuIGNob29z\nZSB0byB1c2Ugc3BhY2VzIG9yIHRhYiBjaGFyYWN0ZXJzLgogICAgICoKICAg\nICAqIEBwYXJhbSB0YWJMZXZlbCB0aGUgbnVtYmVyIG9mIHRhYnMKICAgICAq\nLwogICAgcHVibGljIFN0cmluZyBnZXRUYWIoaW50IHRhYkxldmVsKSB7CiAg\nICAgICAgaWYgKHRhYkxldmVsID09IDApCiAgICAgICAgICAgIHJldHVybiAi\nIjsKICAgICAgICBpZiAodGFiTGV2ZWwgPT0gMSkKICAgICAgICAgICAgcmV0\ndXJuIF90YWI7CgogICAgICAgIFN0cmluZ0J1ZmZlciB0YWJzID0gbmV3IFN0\ncmluZ0J1ZmZlcihfdGFiLmxlbmd0aCgpICogdGFiTGV2ZWwpOwogICAgICAg\nIGZvciAoaW50IGkgPSAwOyBpIDwgdGFiTGV2ZWw7IGkrKykKICAgICAgICAg\nICAgdGFicy5hcHBlbmQoX3RhYik7CiAgICAgICAgcmV0dXJuIHRhYnMudG9T\ndHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgZmll\nbGQgbmFtZSBmb3IgZ2l2ZW4gc3VnZ2VzdGVkIG5hbWUsIHBvc3NpYmx5IGFk\nZGluZwogICAgICogbGVhZGluZyB1bmRlcnNjb3JlLgogICAgICovCiAgICBw\ndWJsaWMgU3RyaW5nIGdldEZpZWxkTmFtZShTdHJpbmcgZmllbGROYW1lKSB7\nCiAgICAgICAgcmV0dXJuIChfc2NvcmVCZWZvcmVGaWVsZE5hbWUpID8gIl8i\nICsgZmllbGROYW1lIDogZmllbGROYW1lOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSBpbnRlcm5hbCBjb2RlIGJ1ZmZlci4KICAgICAqLwog\nICAgcHVibGljIFN0cmluZ0J1ZmZlciBnZXRCdWZmZXIoKSB7CiAgICAgICAg\ncmV0dXJuIF9idWY7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhl\nIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKi8K\nICAgIHB1YmxpYyBDb2RlRm9ybWF0IGFwcGVuZChib29sZWFuIHZhbCkgewog\nICAgICAgIF9idWYuYXBwZW5kKHZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVl\nIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKi8KICAgIHB1YmxpYyBD\nb2RlRm9ybWF0IGFwcGVuZChieXRlIHZhbCkgewogICAgICAgIF9idWYuYXBw\nZW5kKHZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5h\nbCBidWZmZXIuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGFwcGVu\nZChjaGFyIHZhbCkgewogICAgICAgIF9idWYuYXBwZW5kKHZhbCk7CiAgICAg\nICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQg\ndGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAg\nKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGFwcGVuZChkb3VibGUgdmFsKSB7\nCiAgICAgICAgX2J1Zi5hcHBlbmQodmFsKTsKICAgICAgICByZXR1cm4gdGhp\nczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFs\ndWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqLwogICAgcHVibGlj\nIENvZGVGb3JtYXQgYXBwZW5kKGZsb2F0IHZhbCkgewogICAgICAgIF9idWYu\nYXBwZW5kKHZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRl\ncm5hbCBidWZmZXIuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGFw\ncGVuZChpbnQgdmFsKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQodmFsKTsKICAg\nICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVu\nZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAg\nICAqLwogICAgcHVibGljIENvZGVGb3JtYXQgYXBwZW5kKGxvbmcgdmFsKSB7\nCiAgICAgICAgX2J1Zi5hcHBlbmQodmFsKTsKICAgICAgICByZXR1cm4gdGhp\nczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFs\ndWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqLwogICAgcHVibGlj\nIENvZGVGb3JtYXQgYXBwZW5kKHNob3J0IHZhbCkgewogICAgICAgIF9idWYu\nYXBwZW5kKHZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRl\ncm5hbCBidWZmZXIuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGFw\ncGVuZChPYmplY3QgdmFsKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQodmFsKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFw\ncGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4K\nICAgICAqCiAgICAgKiBAc2VlICNnZXRFbmRsKCkKICAgICAqLwogICAgcHVi\nbGljIENvZGVGb3JtYXQgZW5kbCgpIHsKICAgICAgICBfYnVmLmFwcGVuZChn\nZXRFbmRsKCkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8q\nKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJu\nYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUgI2dldEVuZGwoaW50KQog\nICAgICovCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBlbmRsKGludCBudW0pIHsK\nICAgICAgICBfYnVmLmFwcGVuZChnZXRFbmRsKG51bSkpOwogICAgICAgIHJl\ndHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBn\naXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAg\nICAqIEBzZWUgI2dldEVuZGwoaW50LCBpbnQpCiAgICAgKi8KICAgIHB1Ymxp\nYyBDb2RlRm9ybWF0IGVuZGwoaW50IG51bSwgaW50IHRhYnMpIHsKICAgICAg\nICBfYnVmLmFwcGVuZChnZXRFbmRsKG51bSwgdGFicykpOwogICAgICAgIHJl\ndHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBn\naXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAg\nICAqIEBzZWUgI2dldEFmdGVyU2VjdGlvbgogICAgICovCiAgICBwdWJsaWMg\nQ29kZUZvcm1hdCBhZnRlclNlY3Rpb24oKSB7CiAgICAgICAgX2J1Zi5hcHBl\nbmQoZ2V0QWZ0ZXJTZWN0aW9uKCkpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1ZSB0\nbyB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUgI2dl\ndE9wZW5QYXJlbgogICAgICovCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBvcGVu\nUGFyZW4oYm9vbGVhbiBtZXRob2RPcklmKSB7CiAgICAgICAgX2J1Zi5hcHBl\nbmQoZ2V0T3BlblBhcmVuKG1ldGhvZE9ySWYpKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4g\ndmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBA\nc2VlICNnZXRDbG9zZVBhcmVuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9y\nbWF0IGNsb3NlUGFyZW4oKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQoZ2V0Q2xv\nc2VQYXJlbigpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAv\nKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVy\nbmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBAc2VlICNnZXRQYXJlbnMKICAg\nICAqLwogICAgcHVibGljIENvZGVGb3JtYXQgcGFyZW5zKCkgewogICAgICAg\nIF9idWYuYXBwZW5kKGdldFBhcmVucygpKTsKICAgICAgICByZXR1cm4gdGhp\nczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFs\ndWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBAc2Vl\nICNnZXRPcGVuQnJhY2UKICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQg\nb3BlbkJyYWNlKGludCB0YWJMZXZlbCkgewogICAgICAgIF9idWYuYXBwZW5k\nKGdldE9wZW5CcmFjZSh0YWJMZXZlbCkpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1\nZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUg\nI2dldENsb3NlQnJhY2UKICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQg\nY2xvc2VCcmFjZShpbnQgdGFiTGV2ZWwpIHsKICAgICAgICBfYnVmLmFwcGVu\nZChnZXRDbG9zZUJyYWNlKHRhYkxldmVsKSk7CiAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZh\nbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKgogICAgICogQHNl\nZSAjZ2V0RXh0ZW5kc0RlYwogICAgICovCiAgICBwdWJsaWMgQ29kZUZvcm1h\ndCBleHRlbmRzRGVjKGludCB0YWJMZXZlbCkgewogICAgICAgIF9idWYuYXBw\nZW5kKGdldEV4dGVuZHNEZWModGFiTGV2ZWwpKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4g\ndmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBA\nc2VlICNnZXRJbXBsZW1lbnRzRGVjCiAgICAgKi8KICAgIHB1YmxpYyBDb2Rl\nRm9ybWF0IGltcGxlbWVudHNEZWMoaW50IHRhYkxldmVsKSB7CiAgICAgICAg\nX2J1Zi5hcHBlbmQoZ2V0SW1wbGVtZW50c0RlYyh0YWJMZXZlbCkpOwogICAg\nICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5k\nIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAg\nICoKICAgICAqIEBzZWUgI2dldFRocm93c0RlYwogICAgICovCiAgICBwdWJs\naWMgQ29kZUZvcm1hdCB0aHJvd3NEZWMoaW50IHRhYkxldmVsKSB7CiAgICAg\nICAgX2J1Zi5hcHBlbmQoZ2V0VGhyb3dzRGVjKHRhYkxldmVsKSk7CiAgICAg\nICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQg\ndGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAg\nKgogICAgICogQHNlZSAjZ2V0VGFiCiAgICAgKi8KICAgIHB1YmxpYyBDb2Rl\nRm9ybWF0IHRhYigpIHsKICAgICAgICBfYnVmLmFwcGVuZChnZXRUYWIoKSk7\nCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBB\ncHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIu\nCiAgICAgKgogICAgICogQHNlZSAjZ2V0VGFiCiAgICAgKi8KICAgIHB1Ymxp\nYyBDb2RlRm9ybWF0IHRhYihpbnQgdGFiTGV2ZWwpIHsKICAgICAgICBfYnVm\nLmFwcGVuZChnZXRUYWIodGFiTGV2ZWwpKTsKICAgICAgICByZXR1cm4gdGhp\nczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFs\ndWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBAc2Vl\nICNnZXRGaWVsZE5hbWUKICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQg\nZmllbGROYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQo\nZ2V0RmllbGROYW1lKG5hbWUpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAg\nIH0KCiAgICAvKioKICAgICAqIENsZWFyIHRoZSBpbnRlcm5hbCBjb2RlIGJ1\nZmZlci4KICAgICAqLwogICAgcHVibGljIHZvaWQgY2xlYXIoKSB7CiAgICAg\nICAgX2J1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiB0aGUgaW50ZXJuYWwgYnVmZmVyIGFzIGEgc3RyaW5n\nLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkgewogICAg\nICAgIHJldHVybiBfYnVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW50ZXJuYWwgYnVmZmVy\nLgogICAgICovCiAgICBwdWJsaWMgaW50IGxlbmd0aCgpIHsKICAgICAgICBy\nZXR1cm4gX2J1Zi5sZW5ndGgoKTsKICAgIH0KCiAgICAvKioKICAgICAqIE1h\na2UgYSBjb3B5IG9mIHRoaXMgY29kZSBmb3JtYXQgb2JqZWN0IHdpdGggYWxs\nIHRoZSBzYW1lIGZvcm1hdHRpbmcKICAgICAqIHNldHRpbmdzLgogICAgICov\nCiAgICBwdWJsaWMgT2JqZWN0IGNsb25lKCkgewogICAgICAgIENvZGVGb3Jt\nYXQgZm9ybWF0ID0gbmV3IENvZGVGb3JtYXQoKTsKICAgICAgICBmb3JtYXQu\nX3RhYiA9IF90YWI7CiAgICAgICAgZm9ybWF0Ll9zcGFjZUJlZm9yZVBhcmVu\nID0gX3NwYWNlQmVmb3JlUGFyZW47CiAgICAgICAgZm9ybWF0Ll9zcGFjZUlu\nUGFyZW4gPSBfc3BhY2VJblBhcmVuOwogICAgICAgIGZvcm1hdC5fYnJhY2VP\nblNhbWVMaW5lID0gX2JyYWNlT25TYW1lTGluZTsKICAgICAgICBmb3JtYXQu\nX2JyYWNlQXRTYW1lVGFiTGV2ZWwgPSBfYnJhY2VBdFNhbWVUYWJMZXZlbDsK\nICAgICAgICBmb3JtYXQuX3Njb3JlQmVmb3JlRmllbGROYW1lID0gX3Njb3Jl\nQmVmb3JlRmllbGROYW1lOwogICAgICAgIGZvcm1hdC5fbGluZXNCZXR3ZWVu\nU2VjdGlvbnMgPSBfbGluZXNCZXR3ZWVuU2VjdGlvbnM7CiAgICAgICAgcmV0\ndXJuIGZvcm1hdDsKICAgIH0KfQo=\n","encoding":"base64"}

