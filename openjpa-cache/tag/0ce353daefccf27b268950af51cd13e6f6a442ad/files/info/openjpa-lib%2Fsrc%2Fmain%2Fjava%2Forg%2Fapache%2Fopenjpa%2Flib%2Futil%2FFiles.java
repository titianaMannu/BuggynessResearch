{"sha":"2e3f5e23bf91c8d8a64dcaf0bfa99c2aff8d133c","node_id":"MDQ6QmxvYjIwNjM2NDoyZTNmNWUyM2JmOTFjOGQ4YTY0ZGNhZjBiZmE5OWMyYWZmOGQxMzNj","size":8547,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2e3f5e23bf91c8d8a64dcaf0bfa99c2aff8d133c","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIudXRpbDsKCmltcG9ydCBqYXZhLmlvLkJ1ZmZlcmVkSW5w\ndXRTdHJlYW07CmltcG9ydCBqYXZhLmlvLkJ1ZmZlcmVkT3V0cHV0U3RyZWFt\nOwppbXBvcnQgamF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5GaWxlSW5w\ndXRTdHJlYW07CmltcG9ydCBqYXZhLmlvLkZpbGVPdXRwdXRTdHJlYW07Cmlt\ncG9ydCBqYXZhLmlvLkZpbGVXcml0ZXI7CmltcG9ydCBqYXZhLmlvLklPRXhj\nZXB0aW9uOwppbXBvcnQgamF2YS5pby5PdXRwdXRTdHJlYW07CmltcG9ydCBq\nYXZhLmlvLlByaW50V3JpdGVyOwppbXBvcnQgamF2YS5pby5Xcml0ZXI7Cmlt\ncG9ydCBqYXZhLm5ldC5VUkw7CmltcG9ydCBqYXZhLm5ldC5VUkxEZWNvZGVy\nOwoKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5sYW5nLlN0cmluZ1V0aWxz\nOwppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuZXhjZXB0aW9uLk5l\nc3RhYmxlUnVudGltZUV4Y2VwdGlvbjsKaW1wb3J0IHNlcnAudXRpbC5TdHJp\nbmdzOwoKLyoqCiAqIFV0aWxpdHkgb3BlcmF0aW9ucyBvbiBmaWxlcy4KICoK\nICogQGF1dGhvciBBYmUgV2hpdGUKICogQG5vamF2YWRvYwogKi8KcHVibGlj\nIGNsYXNzIEZpbGVzIHsKCiAgICAvKioKICAgICAqIEJhY2t1cCB0aGUgZ2l2\nZW4gZmlsZSB0byBhIG5ldyBmaWxlIGNhbGxlZCAmbHQ7ZmlsZS1uYW1lJmd0\nO34uIElmCiAgICAgKiB0aGUgZmlsZSBkb2VzIG5vdCBleGlzdCBvciBhIGJh\nY2t1cCBjb3VsZCBub3QgYmUgY3JlYXRlZCwgcmV0dXJucyBudWxsLgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIEZpbGUgYmFja3VwKEZpbGUgZmlsZSwg\nYm9vbGVhbiBjb3B5KSB7CiAgICAgICAgaWYgKGZpbGUgPT0gbnVsbCB8fCAh\nZmlsZS5leGlzdHMoKSkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAg\nICAgIC8vIGNyZWF0ZSBuZXcgZmlsZSBvYmplY3QgY29weSBzbyB3ZSBkb24n\ndCBtb2RpZnkgdGhlIG9yaWdpbmFsCiAgICAgICAgRmlsZSBjbG9uZSA9IG5l\ndyBGaWxlKGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpOwogICAgICAgIEZpbGUg\nYmsgPSBuZXcgRmlsZShmaWxlLmdldEFic29sdXRlUGF0aCgpICsgIn4iKTsK\nICAgICAgICBpZiAoIWNsb25lLnJlbmFtZVRvKGJrKSkKICAgICAgICAgICAg\ncmV0dXJuIG51bGw7CiAgICAgICAgaWYgKGNvcHkpIHsKICAgICAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgICAgIGNvcHkoYmssIGZpbGUpOwogICAgICAg\nICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBpb2UpIHsKICAgICAgICAgICAg\nICAgIHRocm93IG5ldyBOZXN0YWJsZVJ1bnRpbWVFeGNlcHRpb24oaW9lKTsK\nICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gYms7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXZlcnQgdGhlIGdpdmVuIGJhY2t1cCBm\naWxlIHRvIHRoZSBvcmlnaW5hbCBsb2NhdGlvbi4gSWYgdGhlIGdpdmVuCiAg\nICAgKiBmaWxlJ3MgbmFtZSBkb2VzIG5vdCBlbmQgaW4gJ34nLCB0aGUgJ34n\nIGlzIGFwcGVuZGVkIGJlZm9yZSBwcm9jZWVkaW5nLgogICAgICogSWYgdGhl\nIGJhY2t1cCBmaWxlIGRvZXMgbm90IGV4aXN0IG9yIGNvdWxkIG5vdCBiZSBy\nZXZlcnRlZCwgcmV0dXJucyBudWxsLgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIEZpbGUgcmV2ZXJ0KEZpbGUgYmFja3VwLCBib29sZWFuIGNvcHkpIHsK\nICAgICAgICBpZiAoYmFja3VwID09IG51bGwpCiAgICAgICAgICAgIHJldHVy\nbiBudWxsOwogICAgICAgIGlmICghYmFja3VwLmdldE5hbWUoKS5lbmRzV2l0\naCgifiIpKQogICAgICAgICAgICBiYWNrdXAgPSBuZXcgRmlsZShiYWNrdXAu\nZ2V0UGF0aCgpICsgIn4iKTsKICAgICAgICBpZiAoIWJhY2t1cC5leGlzdHMo\nKSkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgIC8vIGNyZWF0\nZSBuZXcgZmlsZSBvYmplY3QgY29weSBzbyB3ZSBkb24ndCBtb2RpZnkgdGhl\nIG9yaWdpbmFsCiAgICAgICAgU3RyaW5nIHBhdGggPSBiYWNrdXAuZ2V0QWJz\nb2x1dGVQYXRoKCk7CiAgICAgICAgRmlsZSBjbG9uZSA9IG5ldyBGaWxlKHBh\ndGgpOwogICAgICAgIEZpbGUgb3JpZyA9IG5ldyBGaWxlKHBhdGguc3Vic3Ry\naW5nKDAsIHBhdGgubGVuZ3RoKCkgLSAxKSk7CiAgICAgICAgaWYgKCFjbG9u\nZS5yZW5hbWVUbyhvcmlnKSkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAg\nICAgICAgaWYgKGNvcHkpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgICAgIGNvcHkob3JpZywgYmFja3VwKTsKICAgICAgICAgICAgfSBjYXRj\naCAoSU9FeGNlcHRpb24gaW9lKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBu\nZXcgTmVzdGFibGVSdW50aW1lRXhjZXB0aW9uKGlvZSk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9yaWc7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gdGhlIHNvdXJjZSBmaWxlIGZvciB0aGUgZ2l2\nZW4gY2xhc3MsIG9yIG51bGwgaWYgdGhlCiAgICAgKiBzb3VyY2UgaXMgbm90\nIGluIHRoZSBDTEFTU1BBVEguCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nRmlsZSBnZXRTb3VyY2VGaWxlKENsYXNzIGNscykgewogICAgICAgIHJldHVy\nbiBnZXRDbGFzc0ZpbGUoY2xzLCAiLmphdmEiKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiB0aGUgY2xhc3MgZmlsZSBvZiB0aGUgZ2l2ZW4gY2xh\nc3MsIG9yIG51bGwgaWYgdGhlCiAgICAgKiBjbGFzcyBpcyBpbiBhIGphci4K\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBGaWxlIGdldENsYXNzRmlsZShD\nbGFzcyBjbHMpIHsKICAgICAgICByZXR1cm4gZ2V0Q2xhc3NGaWxlKGNscywg\nIi5jbGFzcyIpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBm\naWxlIGZvciB0aGUgY2xhc3MgcmVzb3VyY2Ugd2l0aCB0aGUgZ2l2ZW4gZXh0\nZW5zaW9uLgogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBGaWxlIGdldENs\nYXNzRmlsZShDbGFzcyBjbHMsIFN0cmluZyBleHQpIHsKICAgICAgICBTdHJp\nbmcgbmFtZSA9IFN0cmluZ3MuZ2V0Q2xhc3NOYW1lKGNscyk7CgogICAgICAg\nIC8vIGlmIGl0J3MgYW4gaW5uZXIgY2xhc3MsIHVzZSB0aGUgcGFyZW50IGNs\nYXNzIG5hbWUKICAgICAgICBpbnQgaW5uZXJJZHggPSBuYW1lLmluZGV4T2Yo\nJyQnKTsKICAgICAgICBpZiAoaW5uZXJJZHggIT0gLTEpCiAgICAgICAgICAg\nIG5hbWUgPSBuYW1lLnN1YnN0cmluZygwLCBpbm5lcklkeCk7CgogICAgICAg\nIFVSTCByc3JjID0gY2xzLmdldFJlc291cmNlKG5hbWUgKyBleHQpOwogICAg\nICAgIGlmIChyc3JjICE9IG51bGwgJiYgcnNyYy5nZXRQcm90b2NvbCgpLmVx\ndWFscygiZmlsZSIpKQogICAgICAgICAgICByZXR1cm4gbmV3IEZpbGUoVVJM\nRGVjb2Rlci5kZWNvZGUocnNyYy5nZXRGaWxlKCkpKTsKICAgICAgICByZXR1\ncm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgZmls\nZSBmb3IgdGhlIGdpdmVuIHBhY2thZ2UuIElmIHRoZSBnaXZlbiBiYXNlIGRp\ncmVjdG9yeQogICAgICogbWF0Y2hlcyB0aGUgZ2l2ZW4gcGFja2FnZSBzdHJ1\nY3R1cmUsIGl0IHdpbGwgYmUgdXNlZCBhcy1pcy4gSWYgbm90LAogICAgICog\ndGhlIHBhY2thZ2Ugc3RydWN0dXJlIHdpbGwgYmUgYWRkZWQgYmVuZWF0aCB0\naGUgYmFzZSBkaXJlY3RvcnkuIElmCiAgICAgKiB0aGUgYmFzZSBkaXJlY3Rv\ncnkgaXMgbnVsbCwgdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3Rvcnkgd2ls\nbCBiZQogICAgICogdXNlZCBhcyB0aGUgYmFzZS4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBGaWxlIGdldFBhY2thZ2VGaWxlKEZpbGUgYmFzZSwgU3Ry\naW5nIHBrZywgYm9vbGVhbiBta2RpcnMpIHsKICAgICAgICBpZiAoYmFzZSA9\nPSBudWxsKQogICAgICAgICAgICBiYXNlID0gbmV3IEZpbGUoU3lzdGVtLmdl\ndFByb3BlcnR5KCJ1c2VyLmRpciIpKTsKICAgICAgICBpZiAoU3RyaW5nVXRp\nbHMuaXNFbXB0eShwa2cpKSB7CiAgICAgICAgICAgIGlmIChta2RpcnMgJiYg\nIWJhc2UuZXhpc3RzKCkpCiAgICAgICAgICAgICAgICBiYXNlLm1rZGlycygp\nOwogICAgICAgICAgICByZXR1cm4gYmFzZTsKICAgICAgICB9CgogICAgICAg\nIHBrZyA9IHBrZy5yZXBsYWNlKCcuJywgRmlsZS5zZXBhcmF0b3JDaGFyKTsK\nICAgICAgICBGaWxlIGZpbGUgPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIGlmIChiYXNlLmdldENhbm9uaWNhbFBhdGgoKS5lbmRzV2l0aChw\na2cpKQogICAgICAgICAgICAgICAgZmlsZSA9IGJhc2U7CiAgICAgICAgICAg\nIGVsc2UKICAgICAgICAgICAgICAgIGZpbGUgPSBuZXcgRmlsZShiYXNlLCBw\na2cpOwogICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGlvZSkgewogICAg\nICAgICAgICB0aHJvdyBuZXcgTmVzdGFibGVSdW50aW1lRXhjZXB0aW9uKGlv\nZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAobWtkaXJzICYmICFmaWxlLmV4\naXN0cygpKQogICAgICAgICAgICBmaWxlLm1rZGlycygpOwogICAgICAgIHJl\ndHVybiBmaWxlOwogICAgfQoKICAgIC8qKgogICAgICogQ2hlY2sgdGhlIGdp\ndmVuIHN0cmluZyBmb3IgYSBtYXRjaGluZyBmaWxlLiBUaGUgc3RyaW5nIGlz\nIGZpcnN0CiAgICAgKiB0ZXN0ZWQgdG8gc2VlIGlmIGl0IGlzIGFuIGV4aXN0\naW5nIGZpbGUgcGF0aC4gSWYgaXQgZG9lcyBub3QKICAgICAqIHJlcHJlc2Vu\ndCBhbiBleGlzdGluZyBmaWxlLCBpdCBpcyBjaGVja2VkIGFzIGEgcmVzb3Vy\nY2UgbmFtZSBvZiBhCiAgICAgKiBmaWxlLiBJZiBubyByZXNvdXJjZSBleGlz\ndHMsIHRoZW4gaXQgaXMgaW50ZXJwcmV0ZWQgYXMgYSBwYXRoCiAgICAgKiB0\nbyBhIGZpbGUgdGhhdCBkb2VzIG5vdCBleGlzdCB5ZXQuCiAgICAgKgogICAg\nICogQHBhcmFtIG5hbWUgdGhlIGZpbGUgcGF0aCBvciByZXNvdXJjZSBuYW1l\nCiAgICAgKiBAcGFyYW0gbG9hZGVyIGEgY2xhc3MgbG9hZGVyIHRvIHVzZSBp\nbiByZXNvdXJjZSBsb29rdXAsIG9yIG51bGwKICAgICAqIHRvIHVzZSB0aGUg\ndGhyZWFkJ3MgY29udGV4dCBsb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBGaWxlIGdldEZpbGUoU3RyaW5nIG5hbWUsIENsYXNzTG9hZGVyIGxv\nYWRlcikgewogICAgICAgIGlmIChuYW1lID09IG51bGwpCiAgICAgICAgICAg\nIHJldHVybiBudWxsOwoKICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShu\nYW1lKTsKICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkKICAgICAgICAgICAg\ncmV0dXJuIGZpbGU7CgogICAgICAgIGlmIChsb2FkZXIgPT0gbnVsbCkKICAg\nICAgICAgICAgbG9hZGVyID0gVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5nZXRD\nb250ZXh0Q2xhc3NMb2FkZXIoKTsKICAgICAgICBVUkwgdXJsID0gbG9hZGVy\nLmdldFJlc291cmNlKG5hbWUpOwogICAgICAgIGlmICh1cmwgIT0gbnVsbCkg\newogICAgICAgICAgICBTdHJpbmcgdXJsRmlsZSA9IHVybC5nZXRGaWxlKCk7\nCiAgICAgICAgICAgIGlmICh1cmxGaWxlICE9IG51bGwpIHsKICAgICAgICAg\nICAgICAgIEZpbGUgcnNyYyA9IG5ldyBGaWxlKFVSTERlY29kZXIuZGVjb2Rl\nKHVybEZpbGUpKTsKICAgICAgICAgICAgICAgIGlmIChyc3JjLmV4aXN0cygp\nKQogICAgICAgICAgICAgICAgICAgIHJldHVybiByc3JjOwogICAgICAgICAg\nICB9CiAgICAgICAgfQoKICAgICAgICAvLyBnbyBiYWNrIHRvIG9yaWdpbmFs\nIG5vbi1leGlzdGFudCBmaWxlIHBhdGgKICAgICAgICByZXR1cm4gZmlsZTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIHdyaXRlciB0byB0aGUg\nc3RyZWFtKHN0ZG91dCBvciBzdGRlcnIpIG9yIGZpbGUgbmFtZWQgYnkgdGhl\nCiAgICAgKiBnaXZlbiBzdHJpbmcuCiAgICAgKgogICAgICogQHNlZSAjZ2V0\nRmlsZQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFdyaXRlciBnZXRXcml0\nZXIoU3RyaW5nIGZpbGUsIENsYXNzTG9hZGVyIGxvYWRlcikKICAgICAgICB0\naHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIGlmIChmaWxlID09IG51bGwp\nCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIGlmICgic3Rkb3V0\nIi5lcXVhbHMoZmlsZSkpCiAgICAgICAgICAgIHJldHVybiBuZXcgUHJpbnRX\ncml0ZXIoU3lzdGVtLm91dCk7CiAgICAgICAgaWYgKCJzdGRlcnIiLmVxdWFs\ncyhmaWxlKSkKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcmludFdyaXRlcihT\neXN0ZW0uZXJyKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4g\nbmV3IEZpbGVXcml0ZXIoZ2V0RmlsZShmaWxlLCBsb2FkZXIpKTsKICAgICAg\nICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBpb2UpIHsKICAgICAgICAgICAgdGhy\nb3cgbmV3IE5lc3RhYmxlUnVudGltZUV4Y2VwdGlvbihpb2UpOwogICAgICAg\nIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhbiBvdXRwdXQgc3Ry\nZWFtIHRvIHRoZSBzdHJlYW0oc3Rkb3V0IG9yIHN0ZGVycikgb3IgZmlsZSBu\nYW1lZAogICAgICogYnkgdGhlIGdpdmVuIHN0cmluZy4KICAgICAqCiAgICAg\nKiBAc2VlICNnZXRGaWxlCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgT3V0\ncHV0U3RyZWFtIGdldE91dHB1dFN0cmVhbShTdHJpbmcgZmlsZSwKICAgICAg\nICBDbGFzc0xvYWRlciBsb2FkZXIpIHsKICAgICAgICBpZiAoZmlsZSA9PSBu\ndWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBpZiAoInN0\nZG91dCIuZXF1YWxzKGZpbGUpKQogICAgICAgICAgICByZXR1cm4gU3lzdGVt\nLm91dDsKICAgICAgICBpZiAoInN0ZGVyciIuZXF1YWxzKGZpbGUpKQogICAg\nICAgICAgICByZXR1cm4gU3lzdGVtLmVycjsKICAgICAgICB0cnkgewogICAg\nICAgICAgICByZXR1cm4gbmV3IEZpbGVPdXRwdXRTdHJlYW0oZ2V0RmlsZShm\naWxlLCBsb2FkZXIpKTsKICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBp\nb2UpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IE5lc3RhYmxlUnVudGltZUV4\nY2VwdGlvbihpb2UpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAq\nIENvcHkgYSBmaWxlLiBSZXR1cm4gZmFsc2UgaWYgPGNvZGU+ZnJvbTwvY29k\nZT4gZG9lcyBub3QgZXhpc3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nYm9vbGVhbiBjb3B5KEZpbGUgZnJvbSwgRmlsZSB0bykgdGhyb3dzIElPRXhj\nZXB0aW9uIHsKICAgICAgICBpZiAoZnJvbSA9PSBudWxsIHx8IHRvID09IG51\nbGwgfHwgIWZyb20uZXhpc3RzKCkpCiAgICAgICAgICAgIHJldHVybiBmYWxz\nZTsKCiAgICAgICAgRmlsZUlucHV0U3RyZWFtIGluID0gbnVsbDsKICAgICAg\nICBGaWxlT3V0cHV0U3RyZWFtIG91dCA9IG51bGw7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgaW4gPSBuZXcgRmlsZUlucHV0U3RyZWFtKGZyb20pOwog\nICAgICAgICAgICBCdWZmZXJlZElucHV0U3RyZWFtIGluYnVmID0gbmV3IEJ1\nZmZlcmVkSW5wdXRTdHJlYW0oaW4pOwogICAgICAgICAgICBvdXQgPSBuZXcg\nRmlsZU91dHB1dFN0cmVhbSh0byk7CiAgICAgICAgICAgIEJ1ZmZlcmVkT3V0\ncHV0U3RyZWFtIG91dGJ1ZiA9IG5ldyBCdWZmZXJlZE91dHB1dFN0cmVhbShv\ndXQpOwogICAgICAgICAgICBmb3IgKGludCBiOyAoYiA9IGluYnVmLnJlYWQo\nKSkgIT0gLTE7IG91dGJ1Zi53cml0ZShiKSkgOwogICAgICAgICAgICBvdXRi\ndWYuZmx1c2goKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAg\nfSBmaW5hbGx5IHsKICAgICAgICAgICAgaWYgKGluICE9IG51bGwpCiAgICAg\nICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGluLmNsb3Nl\nKCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewog\nICAgICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAob3V0ICE9IG51bGwp\nCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIG91\ndC5jbG9zZSgpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

