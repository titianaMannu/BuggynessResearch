{"sha":"9875dac730e2259f31ab151da7c82bccf377fd13","node_id":"MDQ6QmxvYjIwNjM2NDo5ODc1ZGFjNzMwZTIyNTlmMzFhYjE1MWRhN2M4MmJjY2YzNzdmZDEz","size":8432,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9875dac730e2259f31ab151da7c82bccf377fd13","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIudXRpbDsKCmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5G\naWVsZDsKaW1wb3J0IGphdmEubGFuZy5yZWZsZWN0Lk1ldGhvZDsKCi8qKgog\nKiBVdGlsaXRpZXMgZm9yIGRlYWxpbmcgd2l0aCBkaWZmZXJlbnQgSmF2YSBz\ncGVjIHZlcnNpb25zLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAbm9q\nYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgSmF2YVZlcnNpb25zIHsKCiAgICAv\nKioKICAgICAqIEphdmEgdmVyc2lvbjsgb25lIG9mIDIsIDMsIDQsIDUsIDYs\nIG9yIDcuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFZF\nUlNJT047CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQ2xhc3NbXSBFTVBU\nWV9DTEFTU0VTID0gbmV3IENsYXNzWzBdOwoKICAgIHByaXZhdGUgc3RhdGlj\nIENsYXNzIFBBUkFNX1RZUEUgPSBudWxsOwogICAgcHJpdmF0ZSBzdGF0aWMg\nQ2xhc3MgRU5VTV9UWVBFID0gbnVsbDsKICAgIHByaXZhdGUgc3RhdGljIENs\nYXNzIEFOTk9fVFlQRSA9IG51bGw7CiAgICBwcml2YXRlIHN0YXRpYyBNZXRo\nb2QgR0VUX1NUQUNLID0gbnVsbDsKICAgIHByaXZhdGUgc3RhdGljIE1ldGhv\nZCBTRVRfU1RBQ0sgPSBudWxsOwogICAgcHJpdmF0ZSBzdGF0aWMgTWV0aG9k\nIEdFVF9DQVVTRSA9IG51bGw7CiAgICBwcml2YXRlIHN0YXRpYyBNZXRob2Qg\nSU5JVF9DQVVTRSA9IG51bGw7CgogICAgc3RhdGljIHsKICAgICAgICBTdHJp\nbmcgc3BlY1ZlcnNpb24gPSBTeXN0ZW0uZ2V0UHJvcGVydHkoImphdmEuc3Bl\nY2lmaWNhdGlvbi52ZXJzaW9uIik7CiAgICAgICAgaWYgKCIxLjIiLmVxdWFs\ncyhzcGVjVmVyc2lvbikpCiAgICAgICAgICAgIFZFUlNJT04gPSAyOwogICAg\nICAgIGVsc2UgaWYgKCIxLjMiLmVxdWFscyhzcGVjVmVyc2lvbikpCiAgICAg\nICAgICAgIFZFUlNJT04gPSAzOwogICAgICAgIGVsc2UgaWYgKCIxLjQiLmVx\ndWFscyhzcGVjVmVyc2lvbikpCiAgICAgICAgICAgIFZFUlNJT04gPSA0Owog\nICAgICAgIGVsc2UgaWYgKCIxLjUiLmVxdWFscyhzcGVjVmVyc2lvbikpCiAg\nICAgICAgICAgIFZFUlNJT04gPSA1OwogICAgICAgIGVsc2UgaWYgKCIxLjYi\nLmVxdWFscyhzcGVjVmVyc2lvbikpCiAgICAgICAgICAgIFZFUlNJT04gPSA2\nOwogICAgICAgIGVsc2UKICAgICAgICAgICAgVkVSU0lPTiA9IDc7IC8vIG1h\neWJlIHNvbWVkYXkuLi4KCiAgICAgICAgaWYgKFZFUlNJT04gPj0gNSkgewog\nICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgUEFSQU1fVFlQRSA9\nIENsYXNzLmZvck5hbWUKICAgICAgICAgICAgICAgICAgICAoImphdmEubGFu\nZy5yZWZsZWN0LlBhcmFtZXRlcml6ZWRUeXBlIik7CiAgICAgICAgICAgICAg\nICBFTlVNX1RZUEUgPSBDbGFzcy5mb3JOYW1lKCJqYXZhLmxhbmcuRW51bSIp\nOwogICAgICAgICAgICAgICAgQU5OT19UWVBFID0gQ2xhc3MuZm9yTmFtZSgi\namF2YS5sYW5nLmFubm90YXRpb24uQW5ub3RhdGlvbiIpOwogICAgICAgICAg\nICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB9CiAgICAg\nICAgfQoKICAgICAgICBpZiAoVkVSU0lPTiA+PSA0KSB7CiAgICAgICAgICAg\nIHRyeSB7CiAgICAgICAgICAgICAgICBDbGFzcyBzdGFjayA9IENsYXNzLmZv\nck5hbWUoIltMamF2YS5sYW5nLlN0YWNrVHJhY2VFbGVtZW50OyIpOwogICAg\nICAgICAgICAgICAgR0VUX1NUQUNLID0gVGhyb3dhYmxlLmNsYXNzLmdldE1l\ndGhvZCgiZ2V0U3RhY2tUcmFjZSIsCiAgICAgICAgICAgICAgICAgICAgKENs\nYXNzW10pIG51bGwpOwogICAgICAgICAgICAgICAgU0VUX1NUQUNLID0gVGhy\nb3dhYmxlLmNsYXNzLmdldE1ldGhvZCgic2V0U3RhY2tUcmFjZSIsCiAgICAg\nICAgICAgICAgICAgICAgbmV3IENsYXNzW117IHN0YWNrIH0pOwogICAgICAg\nICAgICAgICAgR0VUX0NBVVNFID0gVGhyb3dhYmxlLmNsYXNzLmdldE1ldGhv\nZCgiZ2V0Q2F1c2UiLAogICAgICAgICAgICAgICAgICAgIChDbGFzc1tdKSBu\ndWxsKTsKICAgICAgICAgICAgICAgIElOSVRfQ0FVU0UgPSBUaHJvd2FibGUu\nY2xhc3MuZ2V0TWV0aG9kKCJpbml0Q2F1c2UiLAogICAgICAgICAgICAgICAg\nICAgIG5ldyBDbGFzc1tdeyBUaHJvd2FibGUuY2xhc3MgfSk7CiAgICAgICAg\nICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgdmVyc2lv\nbi1zcGVjaWZpYyBpbnN0YW5jZSBvZiB0aGUgc3BlY2lmaWVkIGNsYXNzCiAg\nICAgKgogICAgICogQHBhcmFtIGJhc2UgdGhlIGJhc2UgY2xhc3MgdG8gY2hl\nY2sKICAgICAqIEByZXR1cm4gdGhlIEpESy12ZXJzaW9uLXNwZWNpZmljIHZl\ncnNpb24gb2YgdGhlIGNsYXNzCiAgICAgKiBAc2VlICNnZXRWZXJzaW9uU3Bl\nY2lmaWNDbGFzcyhTdHJpbmcpCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nQ2xhc3MgZ2V0VmVyc2lvblNwZWNpZmljQ2xhc3MoQ2xhc3MgYmFzZSkgewog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBnZXRWZXJzaW9uU3Bl\nY2lmaWNDbGFzcyhiYXNlLmdldE5hbWUoKSk7CiAgICAgICAgfSBjYXRjaCAo\nQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJldHVy\nbiBiYXNlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIE9idGFp\nbnMgYSBzdWJjbGFzcyBvZiB0aGUgc3BlY2lmaWMgYmFzZSBjbGFzcyB0aGF0\nIGlzCiAgICAgKiBzcGVjaWZpYyB0byB0aGUgY3VycmVudCB2ZXJzaW9uIG9m\nIEphdmEgaW4gdXNlLiBUaGUKICAgICAqIGhldXJpc3RpYyBmb3IgdGhlIGNs\nYXNzIG5hbWUgdG8gbG9hZCB3aWxsIGJlIHRoYXQgT3BlbkpQQQogICAgICog\nZmlyc3QgY2hlY2tzIGZvciB0aGUgbmFtZSBvZiB0aGUgY2xhc3Mgd2l0aCB0\naGUgY3VycmVudAogICAgICogc2V0dGluZyBvZiB0aGUge0BsaW5rICNWRVJT\nSU9OfSBmaWVsZCwgdGhlbiBlYWNoIG51bWJlciBpbgogICAgICogZGVjcmVh\nc2luZyBvcmRlciwgdW50aWwgZW5kaW5nIGluIHRoZSB1bnF1YWxpZmllZCBu\nYW1lLgogICAgICogRm9yIGV4YW1wbGUsIGlmIHdlIGFyZSB1c2luZyBKREsg\nMS41LjEsIGFuZCB3ZSB3YW50IHRvIGxvYWQKICAgICAqICJvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLlNvbWVDbGFzcyIsIHdlIHdpbGwgdHJ5IHRvIGxvYWQg\ndGhlIGZvbGxvd2luZwogICAgICogY2xhc3NlcyBpbiBvcmRlciBhbmQgcmV0\ndXJuIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBzdWNjZXNzZnVsbHkKICAgICAq\nIGZvdW5kIGFuZCBsb2FkZWQ6CiAgICAgKiA8b2w+CiAgICAgKiA8bGk+b3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5Tb21lQ2xhc3M1PC9saT4KICAgICAqIDxs\naT5vcmcuYXBhY2hlLm9wZW5qcGEubGliLlNvbWVDbGFzczQ8L2xpPgogICAg\nICogPGxpPm9yZy5hcGFjaGUub3BlbmpwYS5saWIuU29tZUNsYXNzMzwvbGk+\nCiAgICAgKiA8bGk+b3JnLmFwYWNoZS5vcGVuanBhLmxpYi5Tb21lQ2xhc3My\nPC9saT4KICAgICAqIDxsaT5vcmcuYXBhY2hlLm9wZW5qcGEubGliLlNvbWVD\nbGFzczE8L2xpPgogICAgICogPGxpPm9yZy5hcGFjaGUub3BlbmpwYS5saWIu\nU29tZUNsYXNzPC9saT4KICAgICAqIDwvb2w+CiAgICAgKgogICAgICogQHBh\ncmFtIGJhc2UgdGhlIGJhc2UgbmFtZSBvZiB0aGUgY2xhc3MgdG8gbG9hZAog\nICAgICogQHJldHVybiB0aGUgc3ViY2xhc3MgYXBwcm9wcmlhdGUgZm9yIHRo\nZSBjdXJyZW50IEphdmEgdmVyc2lvbgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIENsYXNzIGdldFZlcnNpb25TcGVjaWZpY0NsYXNzKFN0cmluZyBiYXNl\nKQogICAgICAgIHRocm93cyBDbGFzc05vdEZvdW5kRXhjZXB0aW9uIHsKICAg\nICAgICBmb3IgKGludCBpID0gVkVSU0lPTjsgaSA+PSAxOyBpLS0pIHsKICAg\nICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBDbGFzcy5m\nb3JOYW1lKGJhc2UgKyBpKTsKICAgICAgICAgICAgfSBjYXRjaCAoVGhyb3dh\nYmxlIGUpIHsKICAgICAgICAgICAgICAgIC8vIHRocm93YWJsZXMgbWlnaHQg\nb2NjdXIgd2l0aCBieXRlY29kZSB0aGF0IHdlCiAgICAgICAgICAgICAgICAv\nLyBjYW5ub3QgdW5kZXJzdGFuZAogICAgICAgICAgICB9CiAgICAgICAgfQog\nICAgICAgIHJldHVybiBDbGFzcy5mb3JOYW1lKGJhc2UpOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIHR5cGUgaXMg\nYW4gYW5ub3RhdGlvbi4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBib29s\nZWFuIGlzQW5ub3RhdGlvbihDbGFzcyBjbHMpIHsKICAgICAgICByZXR1cm4g\nQU5OT19UWVBFICE9IG51bGwgJiYgQU5OT19UWVBFLmlzQXNzaWduYWJsZUZy\nb20oY2xzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0cnVlIGlm\nIHRoZSBnaXZlbiB0eXBlIGlzIGFuIGVudW1lcmF0aW9uLgogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gaXNFbnVtZXJhdGlvbihDbGFzcyBj\nbHMpIHsKICAgICAgICByZXR1cm4gRU5VTV9UWVBFICE9IG51bGwgJiYgRU5V\nTV9UWVBFLmlzQXNzaWduYWJsZUZyb20oY2xzKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIENvbGxlY3RzIHRoZSBwYXJhbWV0ZXJpemVkIHR5cGUgZGVjbGFy\nYXRpb25zIGZvciBhIGdpdmVuIGZpZWxkLgogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIENsYXNzW10gZ2V0UGFyYW1ldGVyaXplZFR5cGVzKEZpZWxkIGYp\nIHsKICAgICAgICBpZiAoZiA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4g\nbnVsbDsKICAgICAgICBpZiAoVkVSU0lPTiA8IDUpCiAgICAgICAgICAgIHJl\ndHVybiBFTVBUWV9DTEFTU0VTOwoKICAgICAgICB0cnkgewogICAgICAgICAg\nICBPYmplY3QgdHlwZSA9IEZpZWxkLmNsYXNzLmdldE1ldGhvZCgiZ2V0R2Vu\nZXJpY1R5cGUiLAogICAgICAgICAgICAgICAgKENsYXNzW10pIG51bGwpLmlu\ndm9rZShmLCAoT2JqZWN0W10pIG51bGwpOwogICAgICAgICAgICByZXR1cm4g\nY29sbGVjdFBhcmFtZXRlcml6ZWRUeXBlcyh0eXBlKTsKICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICByZXR1cm4gRU1QVFlf\nQ0xBU1NFUzsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDb2xs\nZWN0cyB0aGUgcGFyYW1ldGVyaXplZCByZXR1cm4gdHlwZSBkZWNsYXJhdGlv\nbnMgZm9yIGEgZ2l2ZW4gbWV0aG9kLgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIENsYXNzW10gZ2V0UGFyYW1ldGVyaXplZFR5cGVzKE1ldGhvZCBtZXRo\nKSB7CiAgICAgICAgaWYgKG1ldGggPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICAgICAgaWYgKFZFUlNJT04gPCA1KQogICAgICAgICAg\nICByZXR1cm4gRU1QVFlfQ0xBU1NFUzsKCiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgT2JqZWN0IHR5cGUgPSBNZXRob2QuY2xhc3MuZ2V0TWV0aG9kKCJn\nZXRHZW5lcmljUmV0dXJuVHlwZSIsCiAgICAgICAgICAgICAgICAoQ2xhc3Nb\nXSkgbnVsbCkuaW52b2tlKG1ldGgsIChPYmplY3RbXSkgbnVsbCk7CiAgICAg\nICAgICAgIHJldHVybiBjb2xsZWN0UGFyYW1ldGVyaXplZFR5cGVzKHR5cGUp\nOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAg\nIHJldHVybiBFTVBUWV9DTEFTU0VTOwogICAgICAgIH0KICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiBhbGwgcGFyYW1ldGVyaXplZCBjbGFzc2VzIGZv\nciB0aGUgZ2l2ZW4gdHlwZS4KICAgICAqLwogICAgcHJpdmF0ZSBzdGF0aWMg\nQ2xhc3NbXSBjb2xsZWN0UGFyYW1ldGVyaXplZFR5cGVzKE9iamVjdCB0eXBl\nKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmIChQQVJB\nTV9UWVBFID09IG51bGwgfHwgIVBBUkFNX1RZUEUuaXNJbnN0YW5jZSh0eXBl\nKSkKICAgICAgICAgICAgcmV0dXJuIEVNUFRZX0NMQVNTRVM7CgogICAgICAg\nIE9iamVjdFtdIGFyZ3MgPSAoT2JqZWN0W10pIFBBUkFNX1RZUEUuZ2V0TWV0\naG9kCiAgICAgICAgICAgICgiZ2V0QWN0dWFsVHlwZUFyZ3VtZW50cyIsIChD\nbGFzc1tdKSBudWxsKS5pbnZva2UodHlwZSwKICAgICAgICAgICAgKE9iamVj\ndFtdKSBudWxsKTsKICAgICAgICBpZiAoYXJncy5sZW5ndGggPT0gMCkKICAg\nICAgICAgICAgcmV0dXJuIEVNUFRZX0NMQVNTRVM7CgogICAgICAgIENsYXNz\nW10gY2xzcyA9IG5ldyBDbGFzc1thcmdzLmxlbmd0aF07CiAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAg\nICAgIGlmICghKGFyZ3NbaV0gaW5zdGFuY2VvZiBDbGFzcykpCiAgICAgICAg\nICAgICAgICByZXR1cm4gRU1QVFlfQ0xBU1NFUzsKICAgICAgICAgICAgY2xz\nc1tpXSA9IChDbGFzcykgYXJnc1tpXTsKICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIGNsc3M7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0aGUg\nc3RhY2sgZnJvbSBvbmUgdGhyb3dhYmxlIHRvIGFub3RoZXIsIG9yIHJldHVy\nbgogICAgICogZmFsc2UgaWYgaXQgY2Fubm90IGJlIGRvbmUsIHBvc3NpYmx5\nIGR1ZSB0byBhbiB1bnN1cHBvcnRlZCBKYXZhIHZlcnNpb24uCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiB0cmFuc2ZlclN0YWNrVHJhY2Uo\nVGhyb3dhYmxlIGZyb20sIFRocm93YWJsZSB0bykgewogICAgICAgIGlmIChH\nRVRfU1RBQ0sgPT0gbnVsbCB8fCBTRVRfU1RBQ0sgPT0gbnVsbCB8fCBmcm9t\nID09IG51bGwKICAgICAgICAgICAgfHwgdG8gPT0gbnVsbCkKICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBP\nYmplY3Qgc3RhY2sgPSBHRVRfU1RBQ0suaW52b2tlKGZyb20sIChPYmplY3Rb\nXSkgbnVsbCk7CiAgICAgICAgICAgIFNFVF9TVEFDSy5pbnZva2UodG8sIG5l\ndyBPYmplY3RbXXsgc3RhY2sgfSk7CiAgICAgICAgICAgIHJldHVybiB0cnVl\nOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAg\nIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gdGhlIGNhdXNlIG9mIHRoZSBnaXZlbiB0aHJvd2FibGUuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgVGhyb3dhYmxlIGdldENhdXNlKFRo\ncm93YWJsZSBleCkgewogICAgICAgIGlmIChHRVRfQ0FVU0UgPT0gbnVsbCB8\nfCBleCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIChUaHJvd2FibGUpIEdFVF9D\nQVVTRS5pbnZva2UoZXgsIChPYmplY3RbXSkgbnVsbCk7CiAgICAgICAgfSBj\nYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7\nCiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBjYXVz\nZSBvZiB0aGUgZ2l2ZW4gdGhyb3dhYmxlLgogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIFRocm93YWJsZSBpbml0Q2F1c2UoVGhyb3dhYmxlIGV4LCBUaHJv\nd2FibGUgY2F1c2UpIHsKICAgICAgICBpZiAoSU5JVF9DQVVTRSA9PSBudWxs\nIHx8IGV4ID09IG51bGwgfHwgY2F1c2UgPT0gbnVsbCkKICAgICAgICAgICAg\ncmV0dXJuIGV4OwoKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4g\nKFRocm93YWJsZSkgSU5JVF9DQVVTRS5pbnZva2UoZXgsIG5ldyBPYmplY3Rb\nXXsgY2F1c2UgfSk7CiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsK\nICAgICAgICAgICAgcmV0dXJuIGV4OwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAg\nICAgU3lzdGVtLm91dC5wcmludGxuKCJKYXZhIHZlcnNpb24gaXM6ICIgKyBW\nRVJTSU9OKTsKICAgIH0KfQo=\n","encoding":"base64"}

