{"sha":"847138b8e78139aeaa2d4faea6f0ed0155665873","node_id":"MDQ6QmxvYjIwNjM2NDo4NDcxMzhiOGU3ODEzOWFlYWEyZDRmYWVhNmYwZWQwMTU1NjY1ODcz","size":2088,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/847138b8e78139aeaa2d4faea6f0ed0155665873","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIudXRpbDsKCmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9u\nOwppbXBvcnQgamF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEudXRp\nbC5Mb2NhbGU7CmltcG9ydCBqYXZhLnV0aWwuUHJvcGVydHlSZXNvdXJjZUJ1\nbmRsZTsKaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTsKaW1wb3J0\nIGphdmEudXRpbC56aXAuWmlwRW50cnk7CmltcG9ydCBqYXZhLnV0aWwuemlw\nLlppcElucHV0U3RyZWFtOwoKLyoqCiAqIHtAbGluayBSZXNvdXJjZUJ1bmRs\nZVByb3ZpZGVyfSB0aGF0IGV4cGVjdHMgdGhlCiAqIHtAbGluayBDbGFzc0xv\nYWRlciNnZXRSZXNvdXJjZUFzU3RyZWFtfSBtZXRob2QgdG8gcmV0dXJuIGEg\nemlwcGVkIGlucHV0CiAqIHN0cmVhbS4gQ3JlYXRlZCBmb3IgdXNlIHVuZGVy\nIFdlYmxvZ2ljIFJBUnMuCiAqCiAqIEBhdXRob3IgUGF0cmljayBMaW5za2V5\nCiAqLwpjbGFzcyBaaXBSZXNvdXJjZUJ1bmRsZVByb3ZpZGVyIGltcGxlbWVu\ndHMgUmVzb3VyY2VCdW5kbGVQcm92aWRlciB7CgogICAgcHVibGljIFJlc291\ncmNlQnVuZGxlIGZpbmRSZXNvdXJjZShTdHJpbmcgbmFtZSwgTG9jYWxlIGxv\nY2FsZSwKICAgICAgICBDbGFzc0xvYWRlciBsb2FkZXIpIHsKICAgICAgICBT\ndHJpbmcgcnNyYyA9IG5hbWUucmVwbGFjZSgnLicsICcvJykgKyAiLnByb3Bl\ncnRpZXMiOwogICAgICAgIGlmIChsb2FkZXIgPT0gbnVsbCkKICAgICAgICAg\nICAgbG9hZGVyID0gVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5nZXRDb250ZXh0\nQ2xhc3NMb2FkZXIoKTsKCiAgICAgICAgSW5wdXRTdHJlYW0gaW4gPSBsb2Fk\nZXIuZ2V0UmVzb3VyY2VBc1N0cmVhbShyc3JjKTsKICAgICAgICBpZiAoaW4g\nPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgIFpp\ncElucHV0U3RyZWFtIHppcCA9IG5ldyBaaXBJbnB1dFN0cmVhbShpbik7CiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgWmlwRW50cnkgemU7CiAgICAgICAg\nICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgICAgICB6ZSA9IHppcC5n\nZXROZXh0RW50cnkoKTsKICAgICAgICAgICAgICAgIGlmICh6ZSA9PSBudWxs\nKQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAg\nIGlmIChyc3JjLmVxdWFscyh6ZS5nZXROYW1lKCkpKQogICAgICAgICAgICAg\nICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlSZXNvdXJjZUJ1bmRsZSh6aXAp\nOwoKICAgICAgICAgICAgICAgIHppcC5jbG9zZUVudHJ5KCk7CiAgICAgICAg\nICAgIH0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAg\nIH0gZmluYWxseSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAg\nICB6aXAuY2xvc2UoKTsKICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRp\nb24gaW9lKSB7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICB9Cn0K\n","encoding":"base64"}

