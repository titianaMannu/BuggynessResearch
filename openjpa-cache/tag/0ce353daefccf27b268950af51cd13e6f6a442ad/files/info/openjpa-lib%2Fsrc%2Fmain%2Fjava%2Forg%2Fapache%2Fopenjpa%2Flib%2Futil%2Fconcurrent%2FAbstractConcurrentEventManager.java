{"sha":"ca6d25abf9f47c5089247fbef4f03eea0007b252","node_id":"MDQ6QmxvYjIwNjM2NDpjYTZkMjVhYmY5ZjQ3YzUwODkyNDdmYmVmNGYwM2VlYTAwMDdiMjUy","size":3981,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ca6d25abf9f47c5089247fbef4f03eea0007b252","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIudXRpbC5jb25jdXJyZW50OwoKaW1wb3J0IGphdmEudXRp\nbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb25zOwpp\nbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxp\nbmtlZExpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuRXZlbnRNYW5hZ2VyOwoKLyoqCiAq\nIEJhc2UgZXZlbnQgbWFuYWdlciB0aGF0IGhhbmRsZXMgYWRkaW5nL3JlbW92\naW5nIGxpc3RlbmVycwogKiBhbmQgZmlyaW5nIGV2ZW50cy4gTWVhbnQgZm9y\nIGhpZ2ggY29uY3VycmVuY3kuIFRoaXMgY2xhc3MgaXMKICogcmVlbnRyYW50\nLXNhZmU7IGxpc3RlbmVycyBjYW4gYmUgYWRkZWQgYW5kIHJlbW92ZWQgYnkg\nb3RoZXIgbGlzdGVuZXJzIHdoZW4gCiAqIHRoZXkgcmVjZWl2ZSBldmVudHMu\nIFRoZSBjaGFuZ2VzIHdpbGwgbm90IGJlIHZpc2libGUgdW50aWwgdGhlIGV2\nZW50IGZpcmUKICogdGhhdCBpbml0aWF0ZWQgdGhlIHJlY3Vyc2l2ZSBzZXF1\nZW5jZSBvZiBjYWxscyBjb21wbGV0ZXMsIGhvd2V2ZXIuCiAqCiAqIEBhdXRo\nb3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQWJzdHJh\nY3RDb25jdXJyZW50RXZlbnRNYW5hZ2VyIGltcGxlbWVudHMgRXZlbnRNYW5h\nZ2VyIHsKCiAgICBwcml2YXRlIHN0YXRpYyBFeGNlcHRpb25bXSBFTVBUWV9F\nWENFUFRJT05TID0gbmV3IEV4Y2VwdGlvblswXTsKCiAgICBwcml2YXRlIGZp\nbmFsIENvbGxlY3Rpb24gX2xpc3RlbmVyczsKICAgIHByaXZhdGUgYm9vbGVh\nbiBfZmFpbEZhc3QgPSBmYWxzZTsKCiAgICAvKioKICAgICAqIERlZmF1bHQg\nY29uc3RydWN0b3IuCiAgICAgKi8KICAgIHB1YmxpYyBBYnN0cmFjdENvbmN1\ncnJlbnRFdmVudE1hbmFnZXIoKSB7CiAgICAgICAgX2xpc3RlbmVycyA9IG5l\nd0xpc3RlbmVyQ29sbGVjdGlvbigpOwogICAgfQoKICAgIC8qKgogICAgICog\nV2hldGhlciB0byBmYWlsIGFmdGVyIHRoZSBmaXJzdCBleGNlcHRpb24gdGhy\nb3duIGJ5IGFueSBsaXN0ZW5lci4KICAgICAqLwogICAgcHVibGljIGJvb2xl\nYW4gaXNGYWlsRmFzdCgpIHsKICAgICAgICByZXR1cm4gX2ZhaWxGYXN0Owog\nICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBmYWlsIGFmdGVyIHRo\nZSBmaXJzdCBleGNlcHRpb24gdGhyb3duIGJ5IGFueSBsaXN0ZW5lci4KICAg\nICAqLwogICAgcHVibGljIHZvaWQgc2V0RmFpbEZhc3QoYm9vbGVhbiBmYWls\nRmFzdCkgewogICAgICAgIF9mYWlsRmFzdCA9IGZhaWxGYXN0OwogICAgfQoK\nICAgIC8qKgogICAgICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIuCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKE9iamVjdCBsaXN0\nZW5lcikgewogICAgICAgIGlmIChsaXN0ZW5lciAhPSBudWxsKQogICAgICAg\nICAgICBfbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIuCiAgICAgKi8KICAg\nIHB1YmxpYyBib29sZWFuIHJlbW92ZUxpc3RlbmVyKE9iamVjdCBsaXN0ZW5l\ncikgewogICAgICAgIHJldHVybiBfbGlzdGVuZXJzLnJlbW92ZShsaXN0ZW5l\ncik7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUg\nZ2l2ZW4gaW5zdGFuY2UgaXMgaW4gdGhlIGxpc3Qgb2YgbGlzdGVuZXJzLgog\nICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBoYXNMaXN0ZW5lcihPYmplY3Qg\nbGlzdGVuZXIpIHsKICAgICAgICByZXR1cm4gX2xpc3RlbmVycy5jb250YWlu\ncyhsaXN0ZW5lcik7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdHJ1\nZSBpZiB0aGVyZSBhcmUgYW55IHJlZ2lzdGVyZWQgbGlzdGVuZXJzLgogICAg\nICovCiAgICBwdWJsaWMgYm9vbGVhbiBoYXNMaXN0ZW5lcnMoKSB7CiAgICAg\nICAgcmV0dXJuICFfbGlzdGVuZXJzLmlzRW1wdHkoKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiBhIHJlYWQtb25seSBsaXN0IG9mIGxpc3RlbmVy\ncy4KICAgICAqLwogICAgcHVibGljIENvbGxlY3Rpb24gZ2V0TGlzdGVuZXJz\nKCkgewogICAgICAgIHJldHVybiBDb2xsZWN0aW9ucy51bm1vZGlmaWFibGVD\nb2xsZWN0aW9uKF9saXN0ZW5lcnMpOwogICAgfQoKICAgIC8qKgogICAgICog\nRmlyZSB0aGUgZ2l2ZW4gZXZlbnQgdG8gYWxsIGxpc3RlbmVycy4KICAgICAq\nLwogICAgcHVibGljIEV4Y2VwdGlvbltdIGZpcmVFdmVudChPYmplY3QgZXZl\nbnQpIHsKICAgICAgICBpZiAoX2xpc3RlbmVycy5pc0VtcHR5KCkpCiAgICAg\nICAgICAgIHJldHVybiBFTVBUWV9FWENFUFRJT05TOwoKICAgICAgICBMaXN0\nIGV4Y2VwdGlvbnMgPSBudWxsOwogICAgICAgIGZvciAoSXRlcmF0b3IgaXRy\nID0gX2xpc3RlbmVycy5pdGVyYXRvcigpOyBpdHIuaGFzTmV4dCgpOykgewog\nICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZmlyZUV2ZW50KGV2\nZW50LCBpdHIubmV4dCgpKTsKICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0\naW9uIGUpIHsKICAgICAgICAgICAgICAgIGlmIChfZmFpbEZhc3QpCiAgICAg\nICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFeGNlcHRpb25bXSB7IGUgfTsK\nICAgICAgICAgICAgICAgIGlmIChleGNlcHRpb25zID09IG51bGwpCiAgICAg\nICAgICAgICAgICAgICAgZXhjZXB0aW9ucyA9IG5ldyBMaW5rZWRMaXN0KCk7\nCiAgICAgICAgICAgICAgICBleGNlcHRpb25zLmFkZChlKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGV4Y2VwdGlvbnMgPT0gbnVs\nbCkKICAgICAgICAgICAgcmV0dXJuIEVNUFRZX0VYQ0VQVElPTlM7CiAgICAg\nICAgcmV0dXJuIChFeGNlcHRpb25bXSkgZXhjZXB0aW9ucy50b0FycmF5CiAg\nICAgICAgICAgIChuZXcgRXhjZXB0aW9uW2V4Y2VwdGlvbnMuc2l6ZSgpXSk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBJbXBsZW1lbnQgdGhpcyBtZXRob2Qg\ndG8gZmlyZSB0aGUgZ2l2ZW4gZXZlbnQgdG8gdGhlIGdpdmVuIGxpc3RlbmVy\nLgogICAgICovCiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgdm9pZCBmaXJlRXZl\nbnQoT2JqZWN0IGV2ZW50LCBPYmplY3QgbGlzdGVuZXIpCiAgICAgICAgdGhy\nb3dzIEV4Y2VwdGlvbjsKCiAgICAvKioKICAgICAqIFJldHVybiBhIG5ldyBj\nb25jdXJyZW50IGNvbnRhaW5lciBmb3IgbGlzdGVuZXJzLiBVc2VzIGEgCiAg\nICAgKiB7QGxpbmsgQ29weU9uV3JpdGVBcnJheUxpc3R9IGJ5IGRlZmF1bHQu\nCiAgICAgKi8KICAgIHByb3RlY3RlZCBDb2xsZWN0aW9uIG5ld0xpc3RlbmVy\nQ29sbGVjdGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IENvcHlPbldyaXRl\nQXJyYXlMaXN0KCk7CiAgICB9Cn0K\n","encoding":"base64"}

