{"sha":"b6bdf0d72884e91458a059fdf194514a6ca8331a","node_id":"MDQ6QmxvYjIwNjM2NDpiNmJkZjBkNzI4ODRlOTE0NThhMDU5ZmRmMTk0NTE0YTZjYTgzMzFh","size":6838,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b6bdf0d72884e91458a059fdf194514a6ca8331a","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwovKgogKiBXcml0dGVuIGJ5IERv\ndWcgTGVhIHdpdGggYXNzaXN0YW5jZSBmcm9tIG1lbWJlcnMgb2YgSkNQIEpT\nUi0xNjYKICogRXhwZXJ0IEdyb3VwIGFuZCByZWxlYXNlZCB0byB0aGUgcHVi\nbGljIGRvbWFpbiwgYXMgZXhwbGFpbmVkIGF0CiAqIGh0dHA6Ly9jcmVhdGl2\nZWNvbW1vbnMub3JnL2xpY2Vuc2VzL3B1YmxpY2RvbWFpbgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVudDsKCmlt\ncG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5J\ndGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5Ob1N1Y2hFbGVtZW50RXhjZXB0\naW9uOwoKLyoqCiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgc2tlbGV0YWwgaW1w\nbGVtZW50YXRpb25zIG9mIHNvbWUge0BsaW5rIFF1ZXVlfQogKiBvcGVyYXRp\nb25zLiBUaGUgaW1wbGVtZW50YXRpb25zIGluIHRoaXMgY2xhc3MgYXJlIGFw\ncHJvcHJpYXRlIHdoZW4KICogdGhlIGJhc2UgaW1wbGVtZW50YXRpb24gZG9l\ncyA8ZW0+bm90PC9lbT4gYWxsb3cgPHR0Pm51bGw8L3R0PgogKiBlbGVtZW50\ncy4gTWV0aG9kcyB7QGxpbmsgI2FkZCBhZGR9LCB7QGxpbmsgI3JlbW92ZSBy\nZW1vdmV9LCBhbmQKICoge0BsaW5rICNlbGVtZW50IGVsZW1lbnR9IGFyZSBi\nYXNlZCBvbiB7QGxpbmsgI29mZmVyIG9mZmVyfSwge0BsaW5rCiAqICNwb2xs\nIHBvbGx9LCBhbmQge0BsaW5rICNwZWVrIHBlZWt9LCByZXNwZWN0aXZlbHkg\nYnV0IHRocm93CiAqIGV4Y2VwdGlvbnMgaW5zdGVhZCBvZiBpbmRpY2F0aW5n\nIGZhaWx1cmUgdmlhIDx0dD5mYWxzZTwvdHQ+IG9yCiAqIDx0dD5udWxsPC90\ndD4gcmV0dXJucy4KICogQSA8dHQ+UXVldWU8L3R0PiBpbXBsZW1lbnRhdGlv\nbiB0aGF0IGV4dGVuZHMgdGhpcyBjbGFzcyBtdXN0CiAqIG1pbmltYWxseSBk\nZWZpbmUgYSBtZXRob2Qge0BsaW5rIFF1ZXVlI29mZmVyfSB3aGljaCBkb2Vz\nIG5vdCBwZXJtaXQKICogaW5zZXJ0aW9uIG9mIDx0dD5udWxsPC90dD4gZWxl\nbWVudHMsIGFsb25nIHdpdGggbWV0aG9kcyB7QGxpbmsKICogUXVldWUjcGVl\na30sIHtAbGluayBRdWV1ZSNwb2xsfSwge0BsaW5rIENvbGxlY3Rpb24jc2l6\nZX0sIGFuZCBhCiAqIHtAbGluayBDb2xsZWN0aW9uI2l0ZXJhdG9yfSBzdXBw\nb3J0aW5nIHtAbGluawogKiBJdGVyYXRvciNyZW1vdmV9LiBUeXBpY2FsbHks\nIGFkZGl0aW9uYWwgbWV0aG9kcyB3aWxsIGJlIG92ZXJyaWRkZW4KICogYXMg\nd2VsbC4gSWYgdGhlc2UgcmVxdWlyZW1lbnRzIGNhbm5vdCBiZSBtZXQsIGNv\nbnNpZGVyIGluc3RlYWQKICogc3ViY2xhc3Npbmcge0BsaW5rIEFic3RyYWN0\nQ29sbGVjdGlvbn0uIFRoaXMgY2xhc3MgaXMgYSBtZW1iZXIgb2YgdGhlCiAq\nIDxhIGhyZWY9IntAZG9jUm9vdH0vLi4vZ3VpZGUvY29sbGVjdGlvbnMvaW5k\nZXguaHRtbCI+CiAqIEphdmEgQ29sbGVjdGlvbnMgRnJhbWV3b3JrPC9hPi4K\nICoKICogQGF1dGhvciBEb3VnIExlYQogKiBAc2luY2UgMS41CiAqLwphYnN0\ncmFjdCBjbGFzcyBBYnN0cmFjdFF1ZXVlIGV4dGVuZHMgQWJzdHJhY3RDb2xs\nZWN0aW9uIGltcGxlbWVudHMgUXVldWUgewoKICAgIC8qKgogICAgICogQ29u\nc3RydWN0b3IgZm9yIHVzZSBieSBzdWJjbGFzc2VzLgogICAgICovCiAgICBw\ncm90ZWN0ZWQgQWJzdHJhY3RRdWV1ZSgpIHsKICAgIH0KCiAgICAvKioKICAg\nICAqIEluc2VydHMgdGhlIHNwZWNpZmllZCBlbGVtZW50IGludG8gdGhpcyBx\ndWV1ZSBpZiBpdCBpcyBwb3NzaWJsZSB0byBkbyBzbwogICAgICogaW1tZWRp\nYXRlbHkgd2l0aG91dCB2aW9sYXRpbmcgY2FwYWNpdHkgcmVzdHJpY3Rpb25z\nLCByZXR1cm5pbmcKICAgICAqIDx0dD50cnVlPC90dD4gdXBvbiBzdWNjZXNz\nIGFuZCB0aHJvd2luZyBhbiA8dHQ+SWxsZWdhbFN0YXRlRXhjZXB0aW9uPC90\ndD4KICAgICAqIGlmIG5vIHNwYWNlIGlzIGN1cnJlbnRseSBhdmFpbGFibGUu\nCiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIHJldHVybnMgPHR0PnRydWU8\nL3R0PiBpZiA8dHQ+b2ZmZXI8L3R0PiBzdWNjZWVkcywKICAgICAqIGVsc2Ug\ndGhyb3dzIGFuIDx0dD5JbGxlZ2FsU3RhdGVFeGNlcHRpb248L3R0Pi4KICAg\nICAqCiAgICAgKiBAcGFyYW0gZSB0aGUgZWxlbWVudCB0byBhZGQKICAgICAq\nIEByZXR1cm4gPHR0PnRydWU8L3R0PiAoYXMgc3BlY2lmaWVkIGJ5IHtAbGlu\nayBDb2xsZWN0aW9uI2FkZH0pCiAgICAgKiBAdGhyb3dzIElsbGVnYWxTdGF0\nZUV4Y2VwdGlvbiBpZiB0aGUgZWxlbWVudCBjYW5ub3QgYmUgYWRkZWQgYXQg\ndGhpcwogICAgICogdGltZSBkdWUgdG8gY2FwYWNpdHkgcmVzdHJpY3Rpb25z\nCiAgICAgKiBAdGhyb3dzIENsYXNzQ2FzdEV4Y2VwdGlvbiBpZiB0aGUgY2xh\nc3Mgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50CiAgICAgKiBwcmV2ZW50cyBp\ndCBmcm9tIGJlaW5nIGFkZGVkIHRvIHRoaXMgcXVldWUKICAgICAqIEB0aHJv\nd3MgTnVsbFBvaW50ZXJFeGNlcHRpb24gaWYgdGhlIHNwZWNpZmllZCBlbGVt\nZW50IGlzIG51bGwgYW5kCiAgICAgKiB0aGlzIHF1ZXVlIG5vdCBwZXJtaXQg\nbnVsbCBlbGVtZW50cwogICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRF\neGNlcHRpb24gaWYgc29tZSBwcm9wZXJ0eSBvZiB0aGlzIGVsZW1lbnQKICAg\nICAqIHByZXZlbnRzIGl0IGZyb20gYmVpbmcgYWRkZWQgdG8gdGhpcyBxdWV1\nZQogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBhZGQoT2JqZWN0IGUpIHsK\nICAgICAgICBpZiAob2ZmZXIoZSkpCiAgICAgICAgICAgIHJldHVybiB0cnVl\nOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxT\ndGF0ZUV4Y2VwdGlvbigiUXVldWUgZnVsbCIpOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0cmlldmVzIGFuZCByZW1vdmVzIHRoZSBoZWFkIG9mIHRoaXMg\ncXVldWUuIFRoaXMgbWV0aG9kIGRpZmZlcnMKICAgICAqIGZyb20ge0BsaW5r\nICNwb2xsIHBvbGx9IG9ubHkgaW4gdGhhdCBpdCB0aHJvd3MgYW4gZXhjZXB0\naW9uIGlmIHRoaXMKICAgICAqIHF1ZXVlIGlzIGVtcHR5LiBUaGlzIGltcGxl\nbWVudGF0aW9uIHJldHVybnMgdGhlIHJlc3VsdCBvZiA8dHQ+cG9sbDwvdHQ+\nCiAgICAgKiB1bmxlc3MgdGhlIHF1ZXVlIGlzIGVtcHR5LgogICAgICoKICAg\nICAqIEByZXR1cm4gdGhlIGhlYWQgb2YgdGhpcyBxdWV1ZQogICAgICogQHRo\ncm93cyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uIGlmIHRoaXMgcXVldWUgaXMg\nZW1wdHkKICAgICAqLwogICAgcHVibGljIE9iamVjdCByZW1vdmUoKSB7CiAg\nICAgICAgT2JqZWN0IHggPSBwb2xsKCk7CiAgICAgICAgaWYgKHggIT0gbnVs\nbCkKICAgICAgICAgICAgcmV0dXJuIHg7CiAgICAgICAgZWxzZQogICAgICAg\nICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0cmlldmVzLCBidXQgZG9lcyBub3QgcmVt\nb3ZlLCB0aGUgaGVhZCBvZiB0aGlzIHF1ZXVlLiBUaGlzIG1ldGhvZAogICAg\nICogZGlmZmVycyBmcm9tIHtAbGluayAjcGVlayBwZWVrfSBvbmx5IGluIHRo\nYXQgaXQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZgogICAgICogdGhpcyBxdWV1\nZSBpcyBlbXB0eS4KICAgICAqIFRoaXMgaW1wbGVtZW50YXRpb24gcmV0dXJu\ncyB0aGUgcmVzdWx0IG9mIDx0dD5wZWVrPC90dD4KICAgICAqIHVubGVzcyB0\naGUgcXVldWUgaXMgZW1wdHkuCiAgICAgKgogICAgICogQHJldHVybiB0aGUg\naGVhZCBvZiB0aGlzIHF1ZXVlCiAgICAgKiBAdGhyb3dzIE5vU3VjaEVsZW1l\nbnRFeGNlcHRpb24gaWYgdGhpcyBxdWV1ZSBpcyBlbXB0eQogICAgICovCiAg\nICBwdWJsaWMgT2JqZWN0IGVsZW1lbnQoKSB7CiAgICAgICAgT2JqZWN0IHgg\nPSBwZWVrKCk7CiAgICAgICAgaWYgKHggIT0gbnVsbCkKICAgICAgICAgICAg\ncmV0dXJuIHg7CiAgICAgICAgZWxzZQogICAgICAgICAgICB0aHJvdyBuZXcg\nTm9TdWNoRWxlbWVudEV4Y2VwdGlvbigpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmVtb3ZlcyBhbGwgb2YgdGhlIGVsZW1lbnRzIGZyb20gdGhpcyBxdWV1\nZS4KICAgICAqIFRoZSBxdWV1ZSB3aWxsIGJlIGVtcHR5IGFmdGVyIHRoaXMg\nY2FsbCByZXR1cm5zLgogICAgICogVGhpcyBpbXBsZW1lbnRhdGlvbiByZXBl\nYXRlZGx5IGludm9rZXMge0BsaW5rICNwb2xsIHBvbGx9IHVudGlsIGl0CiAg\nICAgKiByZXR1cm5zIDx0dD5udWxsPC90dD4uCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIGNsZWFyKCkgewogICAgICAgIHdoaWxlIChwb2xsKCkgIT0gbnVs\nbCkKICAgICAgICAgICAgOwogICAgfQoKICAgIC8qKgogICAgICogQWRkcyBh\nbGwgb2YgdGhlIGVsZW1lbnRzIGluIHRoZSBzcGVjaWZpZWQgY29sbGVjdGlv\nbiB0byB0aGlzCiAgICAgKiBxdWV1ZS4gQXR0ZW1wdHMgdG8gYWRkQWxsIG9m\nIGEgcXVldWUgdG8gaXRzZWxmIHJlc3VsdCBpbgogICAgICogPHR0PklsbGVn\nYWxBcmd1bWVudEV4Y2VwdGlvbjwvdHQ+LiBGdXJ0aGVyLCB0aGUgYmVoYXZp\nb3Igb2YKICAgICAqIHRoaXMgb3BlcmF0aW9uIGlzIHVuZGVmaW5lZCBpZiB0\naGUgc3BlY2lmaWVkIGNvbGxlY3Rpb24gaXMKICAgICAqIG1vZGlmaWVkIHdo\naWxlIHRoZSBvcGVyYXRpb24gaXMgaW4gcHJvZ3Jlc3MuCiAgICAgKiBUaGlz\nIGltcGxlbWVudGF0aW9uIGl0ZXJhdGVzIG92ZXIgdGhlIHNwZWNpZmllZCBj\nb2xsZWN0aW9uLAogICAgICogYW5kIGFkZHMgZWFjaCBlbGVtZW50IHJldHVy\nbmVkIGJ5IHRoZSBpdGVyYXRvciB0byB0aGlzCiAgICAgKiBxdWV1ZSwgaW4g\ndHVybi4gQSBydW50aW1lIGV4Y2VwdGlvbiBlbmNvdW50ZXJlZCB3aGlsZQog\nICAgICogdHJ5aW5nIHRvIGFkZCBhbiBlbGVtZW50KGluY2x1ZGluZywgaW4g\ncGFydGljdWxhciwgYQogICAgICogPHR0Pm51bGw8L3R0PiBlbGVtZW50KSBt\nYXkgcmVzdWx0IGluIG9ubHkgc29tZSBvZiB0aGUgZWxlbWVudHMKICAgICAq\nIGhhdmluZyBiZWVuIHN1Y2Nlc3NmdWxseSBhZGRlZCB3aGVuIHRoZSBhc3Nv\nY2lhdGVkIGV4Y2VwdGlvbiBpcyB0aHJvd24uCiAgICAgKgogICAgICogQHBh\ncmFtIGMgY29sbGVjdGlvbiBjb250YWluaW5nIGVsZW1lbnRzIHRvIGJlIGFk\nZGVkIHRvIHRoaXMgcXVldWUKICAgICAqIEByZXR1cm4gPHR0PnRydWU8L3R0\nPiBpZiB0aGlzIHF1ZXVlIGNoYW5nZWQgYXMgYSByZXN1bHQgb2YgdGhlIGNh\nbGwKICAgICAqIEB0aHJvd3MgQ2xhc3NDYXN0RXhjZXB0aW9uIGlmIHRoZSBj\nbGFzcyBvZiBhbiBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKICAgICAqIGNv\nbGxlY3Rpb24gcHJldmVudHMgaXQgZnJvbSBiZWluZyBhZGRlZCB0byB0aGlz\nIHF1ZXVlCiAgICAgKiBAdGhyb3dzIE51bGxQb2ludGVyRXhjZXB0aW9uIGlm\nIHRoZSBzcGVjaWZpZWQgY29sbGVjdGlvbiBjb250YWlucyBhCiAgICAgKiBu\ndWxsIGVsZW1lbnQgYW5kIHRoaXMgcXVldWUgZG9lcyBub3QgcGVybWl0IG51\nbGwgZWxlbWVudHMsCiAgICAgKiBvciBpZiB0aGUgc3BlY2lmaWVkIGNvbGxl\nY3Rpb24gaXMgbnVsbAogICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRF\neGNlcHRpb24gaWYgc29tZSBwcm9wZXJ0eSBvZiBhbiBlbGVtZW50IG9mIHRo\nZQogICAgICogc3BlY2lmaWVkIGNvbGxlY3Rpb24gcHJldmVudHMgaXQgZnJv\nbSBiZWluZyBhZGRlZCB0byB0aGlzCiAgICAgKiBxdWV1ZSwgb3IgaWYgdGhl\nIHNwZWNpZmllZCBjb2xsZWN0aW9uIGlzIHRoaXMgcXVldWUKICAgICAqIEB0\naHJvd3MgSWxsZWdhbFN0YXRlRXhjZXB0aW9uIGlmIG5vdCBhbGwgdGhlIGVs\nZW1lbnRzIGNhbiBiZSBhZGRlZCBhdAogICAgICogdGhpcyB0aW1lIGR1ZSB0\nbyBpbnNlcnRpb24gcmVzdHJpY3Rpb25zCiAgICAgKiBAc2VlICNhZGQoT2Jq\nZWN0KQogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBhZGRBbGwoQ29sbGVj\ndGlvbiBjKSB7CiAgICAgICAgaWYgKGMgPT0gbnVsbCkKICAgICAgICAgICAg\ndGhyb3cgbmV3IE51bGxQb2ludGVyRXhjZXB0aW9uKCk7CiAgICAgICAgaWYg\nKGMgPT0gdGhpcykKICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1\nbWVudEV4Y2VwdGlvbigpOwogICAgICAgIGJvb2xlYW4gbW9kaWZpZWQgPSBm\nYWxzZTsKICAgICAgICBJdGVyYXRvciBlID0gYy5pdGVyYXRvcigpOwogICAg\nICAgIHdoaWxlIChlLmhhc05leHQoKSkgewogICAgICAgICAgICBpZiAoYWRk\nKGUubmV4dCgpKSkKICAgICAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTsK\nICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1vZGlmaWVkOwogICAgfQp9Cg==\n","encoding":"base64"}

