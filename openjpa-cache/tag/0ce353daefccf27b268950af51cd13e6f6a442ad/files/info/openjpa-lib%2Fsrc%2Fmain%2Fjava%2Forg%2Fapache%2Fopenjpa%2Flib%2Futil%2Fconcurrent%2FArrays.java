{"sha":"e47618022fa0ebb5db2ff2ac7671e71a1a82f4d2","node_id":"MDQ6QmxvYjIwNjM2NDplNDc2MTgwMjJmYTBlYmI1ZGIyZmYyYWM3NjcxZTcxYTFhODJmNGQy","size":26630,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e47618022fa0ebb5db2ff2ac7671e71a1a82f4d2","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwovKgogKiBXcml0dGVuIGJ5IERh\nd2lkIEt1cnp5bmllYywgYmFzZWQgb24gY29kZSB3cml0dGVuIGJ5IERvdWcg\nTGVhIHdpdGggYXNzaXN0YW5jZQogKiBmcm9tIG1lbWJlcnMgb2YgSkNQIEpT\nUi0xNjYgRXhwZXJ0IEdyb3VwLiBSZWxlYXNlZCB0byB0aGUgcHVibGljIGRv\nbWFpbiwKICogYXMgZXhwbGFpbmVkIGF0IGh0dHA6Ly9jcmVhdGl2ZWNvbW1v\nbnMub3JnL2xpY2Vuc2VzL3B1YmxpY2RvbWFpbi4KICovCnBhY2thZ2Ugb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLmNvbmN1cnJlbnQ7CgppbXBvcnQg\namF2YS5sYW5nLnJlZmxlY3QuQXJyYXk7CmltcG9ydCBqYXZhLnV0aWwuQXJy\nYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7CmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsKCmNsYXNzIEFycmF5cyB7CgogICAgcHJpdmF0ZSBB\ncnJheXMoKSB7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIHNvcnQo\nbG9uZ1tdIGEpIHsKICAgICAgICBqYXZhLnV0aWwuQXJyYXlzLnNvcnQoYSk7\nCiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIHNvcnQobG9uZ1tdIGEs\nIGludCBmcm9tSW5kZXgsIGludCB0b0luZGV4KSB7CiAgICAgICAgamF2YS51\ndGlsLkFycmF5cy5zb3J0KGEsIGZyb21JbmRleCwgdG9JbmRleCk7CiAgICB9\nCgogICAgcHVibGljIHN0YXRpYyB2b2lkIHNvcnQoaW50W10gYSkgewogICAg\nICAgIGphdmEudXRpbC5BcnJheXMuc29ydChhKTsKICAgIH0KCiAgICBwdWJs\naWMgc3RhdGljIHZvaWQgc29ydChpbnRbXSBhLCBpbnQgZnJvbUluZGV4LCBp\nbnQgdG9JbmRleCkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMuc29ydChh\nLCBmcm9tSW5kZXgsIHRvSW5kZXgpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0\naWMgdm9pZCBzb3J0KHNob3J0W10gYSkgewogICAgICAgIGphdmEudXRpbC5B\ncnJheXMuc29ydChhKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQg\nc29ydChzaG9ydFtdIGEsIGludCBmcm9tSW5kZXgsIGludCB0b0luZGV4KSB7\nCiAgICAgICAgamF2YS51dGlsLkFycmF5cy5zb3J0KGEsIGZyb21JbmRleCwg\ndG9JbmRleCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIHNvcnQo\nY2hhcltdIGEpIHsKICAgICAgICBqYXZhLnV0aWwuQXJyYXlzLnNvcnQoYSk7\nCiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIHNvcnQoY2hhcltdIGEs\nIGludCBmcm9tSW5kZXgsIGludCB0b0luZGV4KSB7CiAgICAgICAgamF2YS51\ndGlsLkFycmF5cy5zb3J0KGEsIGZyb21JbmRleCwgdG9JbmRleCk7CiAgICB9\nCgogICAgcHVibGljIHN0YXRpYyB2b2lkIHNvcnQoYnl0ZVtdIGEpIHsKICAg\nICAgICBqYXZhLnV0aWwuQXJyYXlzLnNvcnQoYSk7CiAgICB9CgogICAgcHVi\nbGljIHN0YXRpYyB2b2lkIHNvcnQoYnl0ZVtdIGEsIGludCBmcm9tSW5kZXgs\nIGludCB0b0luZGV4KSB7CiAgICAgICAgamF2YS51dGlsLkFycmF5cy5zb3J0\nKGEsIGZyb21JbmRleCwgdG9JbmRleCk7CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyB2b2lkIHNvcnQoZG91YmxlW10gYSkgewogICAgICAgIGphdmEudXRp\nbC5BcnJheXMuc29ydChhKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZv\naWQgc29ydChkb3VibGVbXSBhLCBpbnQgZnJvbUluZGV4LCBpbnQgdG9JbmRl\neCkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMuc29ydChhLCBmcm9tSW5k\nZXgsIHRvSW5kZXgpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBz\nb3J0KGZsb2F0W10gYSkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMuc29y\ndChhKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc29ydChmbG9h\ndFtdIGEsIGludCBmcm9tSW5kZXgsIGludCB0b0luZGV4KSB7CiAgICAgICAg\namF2YS51dGlsLkFycmF5cy5zb3J0KGEsIGZyb21JbmRleCwgdG9JbmRleCk7\nCiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIHNvcnQoT2JqZWN0W10g\nYSkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMuc29ydChhKTsKICAgIH0K\nCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc29ydChPYmplY3RbXSBhLCBpbnQg\nZnJvbUluZGV4LCBpbnQgdG9JbmRleCkgewogICAgICAgIGphdmEudXRpbC5B\ncnJheXMuc29ydChhLCBmcm9tSW5kZXgsIHRvSW5kZXgpOwogICAgfQoKICAg\nIHB1YmxpYyBzdGF0aWMgdm9pZCBzb3J0KE9iamVjdFtdIGEsIENvbXBhcmF0\nb3IgYykgewogICAgICAgIGphdmEudXRpbC5BcnJheXMuc29ydChhLCBjKTsK\nICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc29ydChPYmplY3RbXSBh\nLCBpbnQgZnJvbUluZGV4LCBpbnQgdG9JbmRleCwKICAgICAgICBDb21wYXJh\ndG9yIGMpIHsKICAgICAgICBqYXZhLnV0aWwuQXJyYXlzLnNvcnQoYSwgZnJv\nbUluZGV4LCB0b0luZGV4LCBjKTsKICAgIH0KCiAgICAvLyBTZWFyY2hpbmcK\nCiAgICBwdWJsaWMgc3RhdGljIGludCBiaW5hcnlTZWFyY2gobG9uZ1tdIGEs\nIGxvbmcga2V5KSB7CiAgICAgICAgcmV0dXJuIGphdmEudXRpbC5BcnJheXMu\nYmluYXJ5U2VhcmNoKGEsIGtleSk7CiAgICB9CgogICAgcHVibGljIHN0YXRp\nYyBpbnQgYmluYXJ5U2VhcmNoKGludFtdIGEsIGludCBrZXkpIHsKICAgICAg\nICByZXR1cm4gamF2YS51dGlsLkFycmF5cy5iaW5hcnlTZWFyY2goYSwga2V5\nKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGludCBiaW5hcnlTZWFyY2go\nc2hvcnRbXSBhLCBzaG9ydCBrZXkpIHsKICAgICAgICByZXR1cm4gamF2YS51\ndGlsLkFycmF5cy5iaW5hcnlTZWFyY2goYSwga2V5KTsKICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIGludCBiaW5hcnlTZWFyY2goY2hhcltdIGEsIGNoYXIg\na2V5KSB7CiAgICAgICAgcmV0dXJuIGphdmEudXRpbC5BcnJheXMuYmluYXJ5\nU2VhcmNoKGEsIGtleSk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBpbnQg\nYmluYXJ5U2VhcmNoKGJ5dGVbXSBhLCBieXRlIGtleSkgewogICAgICAgIHJl\ndHVybiBqYXZhLnV0aWwuQXJyYXlzLmJpbmFyeVNlYXJjaChhLCBrZXkpOwog\nICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgaW50IGJpbmFyeVNlYXJjaChkb3Vi\nbGVbXSBhLCBkb3VibGUga2V5KSB7CiAgICAgICAgcmV0dXJuIGphdmEudXRp\nbC5BcnJheXMuYmluYXJ5U2VhcmNoKGEsIGtleSk7CiAgICB9CgogICAgcHVi\nbGljIHN0YXRpYyBpbnQgYmluYXJ5U2VhcmNoKGZsb2F0W10gYSwgZmxvYXQg\na2V5KSB7CiAgICAgICAgcmV0dXJuIGphdmEudXRpbC5BcnJheXMuYmluYXJ5\nU2VhcmNoKGEsIGtleSk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBpbnQg\nYmluYXJ5U2VhcmNoKE9iamVjdFtdIGEsIE9iamVjdCBrZXkpIHsKICAgICAg\nICByZXR1cm4gamF2YS51dGlsLkFycmF5cy5iaW5hcnlTZWFyY2goYSwga2V5\nKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGludCBiaW5hcnlTZWFyY2go\nT2JqZWN0W10gYSwgT2JqZWN0IGtleSwgQ29tcGFyYXRvciBjKSB7CiAgICAg\nICAgcmV0dXJuIGphdmEudXRpbC5BcnJheXMuYmluYXJ5U2VhcmNoKGEsIGtl\neSwgYyk7CiAgICB9CgogICAgLy8gRXF1YWxpdHkgVGVzdGluZwoKICAgIHB1\nYmxpYyBzdGF0aWMgYm9vbGVhbiBlcXVhbHMobG9uZ1tdIGEsIGxvbmdbXSBh\nMikgewogICAgICAgIHJldHVybiBqYXZhLnV0aWwuQXJyYXlzLmVxdWFscyhh\nLCBhMik7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBib29sZWFuIGVxdWFs\ncyhpbnRbXSBhLCBpbnRbXSBhMikgewogICAgICAgIHJldHVybiBqYXZhLnV0\naWwuQXJyYXlzLmVxdWFscyhhLCBhMik7CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyBib29sZWFuIGVxdWFscyhzaG9ydFtdIGEsIHNob3J0IGEyW10pIHsK\nICAgICAgICByZXR1cm4gamF2YS51dGlsLkFycmF5cy5lcXVhbHMoYSwgYTIp\nOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBlcXVhbHMoY2hh\ncltdIGEsIGNoYXJbXSBhMikgewogICAgICAgIHJldHVybiBqYXZhLnV0aWwu\nQXJyYXlzLmVxdWFscyhhLCBhMik7CiAgICB9CgogICAgcHVibGljIHN0YXRp\nYyBib29sZWFuIGVxdWFscyhieXRlW10gYSwgYnl0ZVtdIGEyKSB7CiAgICAg\nICAgcmV0dXJuIGphdmEudXRpbC5BcnJheXMuZXF1YWxzKGEsIGEyKTsKICAg\nIH0KCiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gZXF1YWxzKGJvb2xlYW5b\nXSBhLCBib29sZWFuW10gYTIpIHsKICAgICAgICByZXR1cm4gamF2YS51dGls\nLkFycmF5cy5lcXVhbHMoYSwgYTIpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0\naWMgYm9vbGVhbiBlcXVhbHMoZG91YmxlW10gYSwgZG91YmxlW10gYTIpIHsK\nICAgICAgICByZXR1cm4gamF2YS51dGlsLkFycmF5cy5lcXVhbHMoYSwgYTIp\nOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBlcXVhbHMoZmxv\nYXRbXSBhLCBmbG9hdFtdIGEyKSB7CiAgICAgICAgcmV0dXJuIGphdmEudXRp\nbC5BcnJheXMuZXF1YWxzKGEsIGEyKTsKICAgIH0KCiAgICBwdWJsaWMgc3Rh\ndGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdFtdIGEsIE9iamVjdFtdIGEyKSB7\nCiAgICAgICAgcmV0dXJuIGphdmEudXRpbC5BcnJheXMuZXF1YWxzKGEsIGEy\nKTsKICAgIH0KCiAgICAvLyBGaWxsaW5nCgogICAgcHVibGljIHN0YXRpYyB2\nb2lkIGZpbGwobG9uZ1tdIGEsIGxvbmcgdmFsKSB7CiAgICAgICAgamF2YS51\ndGlsLkFycmF5cy5maWxsKGEsIHZhbCk7CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyB2b2lkIGZpbGwobG9uZ1tdIGEsIGludCBmcm9tSW5kZXgsIGludCB0\nb0luZGV4LCBsb25nIHZhbCkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMu\nZmlsbChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCk7CiAgICB9CgogICAg\ncHVibGljIHN0YXRpYyB2b2lkIGZpbGwoaW50W10gYSwgaW50IHZhbCkgewog\nICAgICAgIGphdmEudXRpbC5BcnJheXMuZmlsbChhLCB2YWwpOwogICAgfQoK\nICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBmaWxsKGludFtdIGEsIGludCBmcm9t\nSW5kZXgsIGludCB0b0luZGV4LCBpbnQgdmFsKSB7CiAgICAgICAgamF2YS51\ndGlsLkFycmF5cy5maWxsKGEsIGZyb21JbmRleCwgdG9JbmRleCwgdmFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZmlsbChzaG9ydFtdIGEs\nIHNob3J0IHZhbCkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMuZmlsbChh\nLCB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBmaWxsKHNo\nb3J0W10gYSwgaW50IGZyb21JbmRleCwgaW50IHRvSW5kZXgsIHNob3J0IHZh\nbCkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMuZmlsbChhLCBmcm9tSW5k\nZXgsIHRvSW5kZXgsIHZhbCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2\nb2lkIGZpbGwoY2hhcltdIGEsIGNoYXIgdmFsKSB7CiAgICAgICAgamF2YS51\ndGlsLkFycmF5cy5maWxsKGEsIHZhbCk7CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyB2b2lkIGZpbGwoY2hhcltdIGEsIGludCBmcm9tSW5kZXgsIGludCB0\nb0luZGV4LCBjaGFyIHZhbCkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMu\nZmlsbChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCk7CiAgICB9CgogICAg\ncHVibGljIHN0YXRpYyB2b2lkIGZpbGwoYnl0ZVtdIGEsIGJ5dGUgdmFsKSB7\nCiAgICAgICAgamF2YS51dGlsLkFycmF5cy5maWxsKGEsIHZhbCk7CiAgICB9\nCgogICAgcHVibGljIHN0YXRpYyB2b2lkIGZpbGwoYnl0ZVtdIGEsIGludCBm\ncm9tSW5kZXgsIGludCB0b0luZGV4LCBieXRlIHZhbCkgewogICAgICAgIGph\ndmEudXRpbC5BcnJheXMuZmlsbChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZh\nbCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIGZpbGwoYm9vbGVh\nbltdIGEsIGJvb2xlYW4gdmFsKSB7CiAgICAgICAgamF2YS51dGlsLkFycmF5\ncy5maWxsKGEsIHZhbCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lk\nIGZpbGwoYm9vbGVhbltdIGEsIGludCBmcm9tSW5kZXgsIGludCB0b0luZGV4\nLAogICAgICAgIGJvb2xlYW4gdmFsKSB7CiAgICAgICAgamF2YS51dGlsLkFy\ncmF5cy5maWxsKGEsIGZyb21JbmRleCwgdG9JbmRleCwgdmFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZmlsbChkb3VibGVbXSBhLCBkb3Vi\nbGUgdmFsKSB7CiAgICAgICAgamF2YS51dGlsLkFycmF5cy5maWxsKGEsIHZh\nbCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIGZpbGwoZG91Ymxl\nW10gYSwgaW50IGZyb21JbmRleCwgaW50IHRvSW5kZXgsCiAgICAgICAgZG91\nYmxlIHZhbCkgewogICAgICAgIGphdmEudXRpbC5BcnJheXMuZmlsbChhLCBm\ncm9tSW5kZXgsIHRvSW5kZXgsIHZhbCk7CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyB2b2lkIGZpbGwoZmxvYXRbXSBhLCBmbG9hdCB2YWwpIHsKICAgICAg\nICBqYXZhLnV0aWwuQXJyYXlzLmZpbGwoYSwgdmFsKTsKICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIHZvaWQgZmlsbChmbG9hdFtdIGEsIGludCBmcm9tSW5k\nZXgsIGludCB0b0luZGV4LCBmbG9hdCB2YWwpIHsKICAgICAgICBqYXZhLnV0\naWwuQXJyYXlzLmZpbGwoYSwgZnJvbUluZGV4LCB0b0luZGV4LCB2YWwpOwog\nICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBmaWxsKE9iamVjdFtdIGEs\nIE9iamVjdCB2YWwpIHsKICAgICAgICBqYXZhLnV0aWwuQXJyYXlzLmZpbGwo\nYSwgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZmlsbChP\nYmplY3RbXSBhLCBpbnQgZnJvbUluZGV4LCBpbnQgdG9JbmRleCwKICAgICAg\nICBPYmplY3QgdmFsKSB7CiAgICAgICAgamF2YS51dGlsLkFycmF5cy5maWxs\nKGEsIGZyb21JbmRleCwgdG9JbmRleCwgdmFsKTsKICAgIH0KCiAgICAvLyBD\nbG9uaW5nCgogICAgLyoqCiAgICAgKiBAc2luY2UgMS42CiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gY29weU9mKE9iamVjdFtdIG9yaWdp\nbmFsLCBpbnQgbmV3TGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIGNvcHlPZihv\ncmlnaW5hbCwgbmV3TGVuZ3RoLCBvcmlnaW5hbC5nZXRDbGFzcygpKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjYKICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBPYmplY3RbXSBjb3B5T2YoT2JqZWN0W10gb3JpZ2luYWws\nIGludCBuZXdMZW5ndGgsCiAgICAgICAgQ2xhc3MgbmV3VHlwZSkgewogICAg\nICAgIE9iamVjdFtdIGFyciA9IChuZXdUeXBlID09IE9iamVjdFtdLmNsYXNz\nKSA/IG5ldyBPYmplY3RbbmV3TGVuZ3RoXSA6CiAgICAgICAgICAgIChPYmpl\nY3RbXSkgQXJyYXkubmV3SW5zdGFuY2UobmV3VHlwZS5nZXRDb21wb25lbnRU\neXBlKCksIG5ld0xlbmd0aCk7CiAgICAgICAgaW50IGxlbiA9IChvcmlnaW5h\nbC5sZW5ndGggPCBuZXdMZW5ndGggPyBvcmlnaW5hbC5sZW5ndGggOiBuZXdM\nZW5ndGgpOwogICAgICAgIFN5c3RlbS5hcnJheWNvcHkob3JpZ2luYWwsIDAs\nIGFyciwgMCwgbGVuKTsKICAgICAgICByZXR1cm4gYXJyOwogICAgfQoKICAg\nIC8qKgogICAgICogQHNpbmNlIDEuNgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIGJ5dGVbXSBjb3B5T2YoYnl0ZVtdIG9yaWdpbmFsLCBpbnQgbmV3TGVu\nZ3RoKSB7CiAgICAgICAgYnl0ZVtdIGFyciA9IG5ldyBieXRlW25ld0xlbmd0\naF07CiAgICAgICAgaW50IGxlbiA9IChvcmlnaW5hbC5sZW5ndGggPCBuZXdM\nZW5ndGggPyBvcmlnaW5hbC5sZW5ndGggOiBuZXdMZW5ndGgpOwogICAgICAg\nIFN5c3RlbS5hcnJheWNvcHkob3JpZ2luYWwsIDAsIGFyciwgMCwgbGVuKTsK\nICAgICAgICByZXR1cm4gYXJyOwogICAgfQoKICAgIC8qKgogICAgICogQHNp\nbmNlIDEuNgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHNob3J0W10gY29w\neU9mKHNob3J0W10gb3JpZ2luYWwsIGludCBuZXdMZW5ndGgpIHsKICAgICAg\nICBzaG9ydFtdIGFyciA9IG5ldyBzaG9ydFtuZXdMZW5ndGhdOwogICAgICAg\nIGludCBsZW4gPSAob3JpZ2luYWwubGVuZ3RoIDwgbmV3TGVuZ3RoID8gb3Jp\nZ2luYWwubGVuZ3RoIDogbmV3TGVuZ3RoKTsKICAgICAgICBTeXN0ZW0uYXJy\nYXljb3B5KG9yaWdpbmFsLCAwLCBhcnIsIDAsIGxlbik7CiAgICAgICAgcmV0\ndXJuIGFycjsKICAgIH0KCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjYKICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBpbnRbXSBjb3B5T2YoaW50W10gb3Jp\nZ2luYWwsIGludCBuZXdMZW5ndGgpIHsKICAgICAgICBpbnRbXSBhcnIgPSBu\nZXcgaW50W25ld0xlbmd0aF07CiAgICAgICAgaW50IGxlbiA9IChvcmlnaW5h\nbC5sZW5ndGggPCBuZXdMZW5ndGggPyBvcmlnaW5hbC5sZW5ndGggOiBuZXdM\nZW5ndGgpOwogICAgICAgIFN5c3RlbS5hcnJheWNvcHkob3JpZ2luYWwsIDAs\nIGFyciwgMCwgbGVuKTsKICAgICAgICByZXR1cm4gYXJyOwogICAgfQoKICAg\nIC8qKgogICAgICogQHNpbmNlIDEuNgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIGxvbmdbXSBjb3B5T2YobG9uZ1tdIG9yaWdpbmFsLCBpbnQgbmV3TGVu\nZ3RoKSB7CiAgICAgICAgbG9uZ1tdIGFyciA9IG5ldyBsb25nW25ld0xlbmd0\naF07CiAgICAgICAgaW50IGxlbiA9IChvcmlnaW5hbC5sZW5ndGggPCBuZXdM\nZW5ndGggPyBvcmlnaW5hbC5sZW5ndGggOiBuZXdMZW5ndGgpOwogICAgICAg\nIFN5c3RlbS5hcnJheWNvcHkob3JpZ2luYWwsIDAsIGFyciwgMCwgbGVuKTsK\nICAgICAgICByZXR1cm4gYXJyOwogICAgfQoKICAgIC8qKgogICAgICogQHNp\nbmNlIDEuNgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGNoYXJbXSBjb3B5\nT2YoY2hhcltdIG9yaWdpbmFsLCBpbnQgbmV3TGVuZ3RoKSB7CiAgICAgICAg\nY2hhcltdIGFyciA9IG5ldyBjaGFyW25ld0xlbmd0aF07CiAgICAgICAgaW50\nIGxlbiA9IChvcmlnaW5hbC5sZW5ndGggPCBuZXdMZW5ndGggPyBvcmlnaW5h\nbC5sZW5ndGggOiBuZXdMZW5ndGgpOwogICAgICAgIFN5c3RlbS5hcnJheWNv\ncHkob3JpZ2luYWwsIDAsIGFyciwgMCwgbGVuKTsKICAgICAgICByZXR1cm4g\nYXJyOwogICAgfQoKICAgIC8qKgogICAgICogQHNpbmNlIDEuNgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIGZsb2F0W10gY29weU9mKGZsb2F0W10gb3Jp\nZ2luYWwsIGludCBuZXdMZW5ndGgpIHsKICAgICAgICBmbG9hdFtdIGFyciA9\nIG5ldyBmbG9hdFtuZXdMZW5ndGhdOwogICAgICAgIGludCBsZW4gPSAob3Jp\nZ2luYWwubGVuZ3RoIDwgbmV3TGVuZ3RoID8gb3JpZ2luYWwubGVuZ3RoIDog\nbmV3TGVuZ3RoKTsKICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KG9yaWdpbmFs\nLCAwLCBhcnIsIDAsIGxlbik7CiAgICAgICAgcmV0dXJuIGFycjsKICAgIH0K\nCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjYKICAgICAqLwogICAgcHVibGlj\nIHN0YXRpYyBkb3VibGVbXSBjb3B5T2YoZG91YmxlW10gb3JpZ2luYWwsIGlu\ndCBuZXdMZW5ndGgpIHsKICAgICAgICBkb3VibGVbXSBhcnIgPSBuZXcgZG91\nYmxlW25ld0xlbmd0aF07CiAgICAgICAgaW50IGxlbiA9IChvcmlnaW5hbC5s\nZW5ndGggPCBuZXdMZW5ndGggPyBvcmlnaW5hbC5sZW5ndGggOiBuZXdMZW5n\ndGgpOwogICAgICAgIFN5c3RlbS5hcnJheWNvcHkob3JpZ2luYWwsIDAsIGFy\nciwgMCwgbGVuKTsKICAgICAgICByZXR1cm4gYXJyOwogICAgfQoKICAgIC8q\nKgogICAgICogQHNpbmNlIDEuNgogICAgICovCiAgICBwdWJsaWMgc3RhdGlj\nIGJvb2xlYW5bXSBjb3B5T2YoYm9vbGVhbltdIG9yaWdpbmFsLCBpbnQgbmV3\nTGVuZ3RoKSB7CiAgICAgICAgYm9vbGVhbltdIGFyciA9IG5ldyBib29sZWFu\nW25ld0xlbmd0aF07CiAgICAgICAgaW50IGxlbiA9IChvcmlnaW5hbC5sZW5n\ndGggPCBuZXdMZW5ndGggPyBvcmlnaW5hbC5sZW5ndGggOiBuZXdMZW5ndGgp\nOwogICAgICAgIFN5c3RlbS5hcnJheWNvcHkob3JpZ2luYWwsIDAsIGFyciwg\nMCwgbGVuKTsKICAgICAgICByZXR1cm4gYXJyOwogICAgfQoKICAgIC8qKgog\nICAgICogQHNpbmNlIDEuNgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIE9i\namVjdFtdIGNvcHlPZlJhbmdlKE9iamVjdFtdIG9yaWdpbmFsLCBpbnQgZnJv\nbSwgaW50IHRvKSB7CiAgICAgICAgcmV0dXJuIGNvcHlPZlJhbmdlKG9yaWdp\nbmFsLCBmcm9tLCB0bywgb3JpZ2luYWwuZ2V0Q2xhc3MoKSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBAc2luY2UgMS42CiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgT2JqZWN0W10gY29weU9mUmFuZ2UoT2JqZWN0W10gb3JpZ2luYWws\nIGludCBmcm9tLCBpbnQgdG8sCiAgICAgICAgQ2xhc3MgbmV3VHlwZSkgewog\nICAgICAgIGludCBuZXdMZW5ndGggPSB0byAtIGZyb207CiAgICAgICAgaWYg\nKG5ld0xlbmd0aCA8IDApCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2Fs\nQXJndW1lbnRFeGNlcHRpb24oZnJvbSArICIgPiAiICsgdG8pOwogICAgICAg\nIE9iamVjdFtdIGFyciA9IChuZXdUeXBlID09IE9iamVjdFtdLmNsYXNzKSA/\nIG5ldyBPYmplY3RbbmV3TGVuZ3RoXSA6CiAgICAgICAgICAgIChPYmplY3Rb\nXSkgQXJyYXkubmV3SW5zdGFuY2UobmV3VHlwZS5nZXRDb21wb25lbnRUeXBl\nKCksIG5ld0xlbmd0aCk7CiAgICAgICAgaW50IGNlaWwgPSBvcmlnaW5hbC5s\nZW5ndGggLSBmcm9tOwogICAgICAgIGludCBsZW4gPSAoY2VpbCA8IG5ld0xl\nbmd0aCkgPyBjZWlsIDogbmV3TGVuZ3RoOwogICAgICAgIFN5c3RlbS5hcnJh\neWNvcHkob3JpZ2luYWwsIGZyb20sIGFyciwgMCwgbGVuKTsKICAgICAgICBy\nZXR1cm4gYXJyOwogICAgfQoKICAgIC8qKgogICAgICogQHNpbmNlIDEuNgog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIGJ5dGVbXSBjb3B5T2ZSYW5nZShi\neXRlW10gb3JpZ2luYWwsIGludCBmcm9tLCBpbnQgdG8pIHsKICAgICAgICBp\nbnQgbmV3TGVuZ3RoID0gdG8gLSBmcm9tOwogICAgICAgIGlmIChuZXdMZW5n\ndGggPCAwKQogICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50\nRXhjZXB0aW9uKGZyb20gKyAiID4gIiArIHRvKTsKICAgICAgICBieXRlW10g\nYXJyID0gbmV3IGJ5dGVbbmV3TGVuZ3RoXTsKICAgICAgICBpbnQgY2VpbCA9\nIG9yaWdpbmFsLmxlbmd0aCAtIGZyb207CiAgICAgICAgaW50IGxlbiA9IChj\nZWlsIDwgbmV3TGVuZ3RoKSA/IGNlaWwgOiBuZXdMZW5ndGg7CiAgICAgICAg\nU3lzdGVtLmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgYXJyLCAwLCBsZW4p\nOwogICAgICAgIHJldHVybiBhcnI7CiAgICB9CgogICAgLyoqCiAgICAgKiBA\nc2luY2UgMS42CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgc2hvcnRbXSBj\nb3B5T2ZSYW5nZShzaG9ydFtdIG9yaWdpbmFsLCBpbnQgZnJvbSwgaW50IHRv\nKSB7CiAgICAgICAgaW50IG5ld0xlbmd0aCA9IHRvIC0gZnJvbTsKICAgICAg\nICBpZiAobmV3TGVuZ3RoIDwgMCkKICAgICAgICAgICAgdGhyb3cgbmV3IEls\nbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihmcm9tICsgIiA+ICIgKyB0byk7CiAg\nICAgICAgc2hvcnRbXSBhcnIgPSBuZXcgc2hvcnRbbmV3TGVuZ3RoXTsKICAg\nICAgICBpbnQgY2VpbCA9IG9yaWdpbmFsLmxlbmd0aCAtIGZyb207CiAgICAg\nICAgaW50IGxlbiA9IChjZWlsIDwgbmV3TGVuZ3RoKSA/IGNlaWwgOiBuZXdM\nZW5ndGg7CiAgICAgICAgU3lzdGVtLmFycmF5Y29weShvcmlnaW5hbCwgZnJv\nbSwgYXJyLCAwLCBsZW4pOwogICAgICAgIHJldHVybiBhcnI7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBAc2luY2UgMS42CiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgaW50W10gY29weU9mUmFuZ2UoaW50W10gb3JpZ2luYWwsIGludCBm\ncm9tLCBpbnQgdG8pIHsKICAgICAgICBpbnQgbmV3TGVuZ3RoID0gdG8gLSBm\ncm9tOwogICAgICAgIGlmIChuZXdMZW5ndGggPCAwKQogICAgICAgICAgICB0\naHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKGZyb20gKyAiID4g\nIiArIHRvKTsKICAgICAgICBpbnRbXSBhcnIgPSBuZXcgaW50W25ld0xlbmd0\naF07CiAgICAgICAgaW50IGNlaWwgPSBvcmlnaW5hbC5sZW5ndGggLSBmcm9t\nOwogICAgICAgIGludCBsZW4gPSAoY2VpbCA8IG5ld0xlbmd0aCkgPyBjZWls\nIDogbmV3TGVuZ3RoOwogICAgICAgIFN5c3RlbS5hcnJheWNvcHkob3JpZ2lu\nYWwsIGZyb20sIGFyciwgMCwgbGVuKTsKICAgICAgICByZXR1cm4gYXJyOwog\nICAgfQoKICAgIC8qKgogICAgICogQHNpbmNlIDEuNgogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIGxvbmdbXSBjb3B5T2ZSYW5nZShsb25nW10gb3JpZ2lu\nYWwsIGludCBmcm9tLCBpbnQgdG8pIHsKICAgICAgICBpbnQgbmV3TGVuZ3Ro\nID0gdG8gLSBmcm9tOwogICAgICAgIGlmIChuZXdMZW5ndGggPCAwKQogICAg\nICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKGZy\nb20gKyAiID4gIiArIHRvKTsKICAgICAgICBsb25nW10gYXJyID0gbmV3IGxv\nbmdbbmV3TGVuZ3RoXTsKICAgICAgICBpbnQgY2VpbCA9IG9yaWdpbmFsLmxl\nbmd0aCAtIGZyb207CiAgICAgICAgaW50IGxlbiA9IChjZWlsIDwgbmV3TGVu\nZ3RoKSA/IGNlaWwgOiBuZXdMZW5ndGg7CiAgICAgICAgU3lzdGVtLmFycmF5\nY29weShvcmlnaW5hbCwgZnJvbSwgYXJyLCAwLCBsZW4pOwogICAgICAgIHJl\ndHVybiBhcnI7CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2luY2UgMS42CiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgY2hhcltdIGNvcHlPZlJhbmdlKGNo\nYXJbXSBvcmlnaW5hbCwgaW50IGZyb20sIGludCB0bykgewogICAgICAgIGlu\ndCBuZXdMZW5ndGggPSB0byAtIGZyb207CiAgICAgICAgaWYgKG5ld0xlbmd0\naCA8IDApCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRF\neGNlcHRpb24oZnJvbSArICIgPiAiICsgdG8pOwogICAgICAgIGNoYXJbXSBh\ncnIgPSBuZXcgY2hhcltuZXdMZW5ndGhdOwogICAgICAgIGludCBjZWlsID0g\nb3JpZ2luYWwubGVuZ3RoIC0gZnJvbTsKICAgICAgICBpbnQgbGVuID0gKGNl\naWwgPCBuZXdMZW5ndGgpID8gY2VpbCA6IG5ld0xlbmd0aDsKICAgICAgICBT\neXN0ZW0uYXJyYXljb3B5KG9yaWdpbmFsLCBmcm9tLCBhcnIsIDAsIGxlbik7\nCiAgICAgICAgcmV0dXJuIGFycjsKICAgIH0KCiAgICAvKioKICAgICAqIEBz\naW5jZSAxLjYKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmbG9hdFtdIGNv\ncHlPZlJhbmdlKGZsb2F0W10gb3JpZ2luYWwsIGludCBmcm9tLCBpbnQgdG8p\nIHsKICAgICAgICBpbnQgbmV3TGVuZ3RoID0gdG8gLSBmcm9tOwogICAgICAg\nIGlmIChuZXdMZW5ndGggPCAwKQogICAgICAgICAgICB0aHJvdyBuZXcgSWxs\nZWdhbEFyZ3VtZW50RXhjZXB0aW9uKGZyb20gKyAiID4gIiArIHRvKTsKICAg\nICAgICBmbG9hdFtdIGFyciA9IG5ldyBmbG9hdFtuZXdMZW5ndGhdOwogICAg\nICAgIGludCBjZWlsID0gb3JpZ2luYWwubGVuZ3RoIC0gZnJvbTsKICAgICAg\nICBpbnQgbGVuID0gKGNlaWwgPCBuZXdMZW5ndGgpID8gY2VpbCA6IG5ld0xl\nbmd0aDsKICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KG9yaWdpbmFsLCBmcm9t\nLCBhcnIsIDAsIGxlbik7CiAgICAgICAgcmV0dXJuIGFycjsKICAgIH0KCiAg\nICAvKioKICAgICAqIEBzaW5jZSAxLjYKICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBkb3VibGVbXSBjb3B5T2ZSYW5nZShkb3VibGVbXSBvcmlnaW5hbCwg\naW50IGZyb20sIGludCB0bykgewogICAgICAgIGludCBuZXdMZW5ndGggPSB0\nbyAtIGZyb207CiAgICAgICAgaWYgKG5ld0xlbmd0aCA8IDApCiAgICAgICAg\nICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oZnJvbSAr\nICIgPiAiICsgdG8pOwogICAgICAgIGRvdWJsZVtdIGFyciA9IG5ldyBkb3Vi\nbGVbbmV3TGVuZ3RoXTsKICAgICAgICBpbnQgY2VpbCA9IG9yaWdpbmFsLmxl\nbmd0aCAtIGZyb207CiAgICAgICAgaW50IGxlbiA9IChjZWlsIDwgbmV3TGVu\nZ3RoKSA/IGNlaWwgOiBuZXdMZW5ndGg7CiAgICAgICAgU3lzdGVtLmFycmF5\nY29weShvcmlnaW5hbCwgZnJvbSwgYXJyLCAwLCBsZW4pOwogICAgICAgIHJl\ndHVybiBhcnI7CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2luY2UgMS42CiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbltdIGNvcHlPZlJhbmdl\nKGJvb2xlYW5bXSBvcmlnaW5hbCwgaW50IGZyb20sIGludCB0bykgewogICAg\nICAgIGludCBuZXdMZW5ndGggPSB0byAtIGZyb207CiAgICAgICAgaWYgKG5l\nd0xlbmd0aCA8IDApCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJn\ndW1lbnRFeGNlcHRpb24oZnJvbSArICIgPiAiICsgdG8pOwogICAgICAgIGJv\nb2xlYW5bXSBhcnIgPSBuZXcgYm9vbGVhbltuZXdMZW5ndGhdOwogICAgICAg\nIGludCBjZWlsID0gb3JpZ2luYWwubGVuZ3RoIC0gZnJvbTsKICAgICAgICBp\nbnQgbGVuID0gKGNlaWwgPCBuZXdMZW5ndGgpID8gY2VpbCA6IG5ld0xlbmd0\naDsKICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KG9yaWdpbmFsLCBmcm9tLCBh\ncnIsIDAsIGxlbik7CiAgICAgICAgcmV0dXJuIGFycjsKICAgIH0KCiAgICBw\ndWJsaWMgc3RhdGljIExpc3QgYXNMaXN0KE9iamVjdFtdIGEpIHsKICAgICAg\nICByZXR1cm4gamF2YS51dGlsLkFycmF5cy5hc0xpc3QoYSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBAc2luY2UgMS41CiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgaW50IGhhc2hDb2RlKGxvbmcgYVtdKSB7CiAgICAgICAgaWYgKGEg\nPT0gbnVsbCkgcmV0dXJuIDA7CiAgICAgICAgaW50IGhhc2ggPSAxOwogICAg\nICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAg\nICAgICAgICBsb25nIGUgPSBhW2ldOwogICAgICAgICAgICBoYXNoID0gMzEg\nKiBoYXNoICsgKGludCkgKGUgXiAoZSA+Pj4gMzIpKTsKICAgICAgICB9CiAg\nICAgICAgcmV0dXJuIGhhc2g7CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2lu\nY2UgMS41CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgaW50IGhhc2hDb2Rl\nKGludCBhW10pIHsKICAgICAgICBpZiAoYSA9PSBudWxsKSByZXR1cm4gMDsK\nICAgICAgICBpbnQgaGFzaCA9IDE7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7\nIGkgPCBhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGhhc2ggPSAzMSAq\nIGhhc2ggKyBhW2ldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaGFzaDsK\nICAgIH0KCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjUKICAgICAqLwogICAg\ncHVibGljIHN0YXRpYyBpbnQgaGFzaENvZGUoc2hvcnQgYVtdKSB7CiAgICAg\nICAgaWYgKGEgPT0gbnVsbCkgcmV0dXJuIDA7CiAgICAgICAgaW50IGhhc2gg\nPSAxOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkr\nKykgewogICAgICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgYVtpXTsKICAg\nICAgICB9CiAgICAgICAgcmV0dXJuIGhhc2g7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBAc2luY2UgMS41CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgaW50\nIGhhc2hDb2RlKGNoYXIgYVtdKSB7CiAgICAgICAgaWYgKGEgPT0gbnVsbCkg\ncmV0dXJuIDA7CiAgICAgICAgaW50IGhhc2ggPSAxOwogICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBo\nYXNoID0gMzEgKiBoYXNoICsgYVtpXTsKICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIGhhc2g7CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2luY2UgMS41CiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgaW50IGhhc2hDb2RlKGJ5dGUgYVtd\nKSB7CiAgICAgICAgaWYgKGEgPT0gbnVsbCkgcmV0dXJuIDA7CiAgICAgICAg\naW50IGhhc2ggPSAxOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYS5s\nZW5ndGg7IGkrKykgewogICAgICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsg\nYVtpXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGhhc2g7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBAc2luY2UgMS41CiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgaW50IGhhc2hDb2RlKGJvb2xlYW4gYVtdKSB7CiAgICAgICAgaWYg\nKGEgPT0gbnVsbCkgcmV0dXJuIDA7CiAgICAgICAgaW50IGhhc2ggPSAxOwog\nICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewog\nICAgICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgKGFbaV0gPyAxMjMxIDog\nMTIzNyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBoYXNoOwogICAgfQoK\nICAgIC8qKgogICAgICogQHNpbmNlIDEuNQogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIGludCBoYXNoQ29kZShmbG9hdCBhW10pIHsKICAgICAgICBpZiAo\nYSA9PSBudWxsKSByZXR1cm4gMDsKICAgICAgICBpbnQgaGFzaCA9IDE7CiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7CiAg\nICAgICAgICAgIGhhc2ggPSAzMSAqIGhhc2ggKyBGbG9hdC5mbG9hdFRvSW50\nQml0cyhhW2ldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGhhc2g7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBAc2luY2UgMS41CiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgaW50IGhhc2hDb2RlKGRvdWJsZSBhW10pIHsKICAgICAg\nICBpZiAoYSA9PSBudWxsKSByZXR1cm4gMDsKICAgICAgICBpbnQgaGFzaCA9\nIDE7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsr\nKSB7CiAgICAgICAgICAgIGxvbmcgZSA9IERvdWJsZS5kb3VibGVUb0xvbmdC\naXRzKGFbaV0pOwogICAgICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgKGlu\ndCkgKGUgXiAoZSA+Pj4gMzIpKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJu\nIGhhc2g7CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2luY2UgMS41CiAgICAg\nKi8KICAgIHB1YmxpYyBzdGF0aWMgaW50IGhhc2hDb2RlKE9iamVjdCBhW10p\nIHsKICAgICAgICBpZiAoYSA9PSBudWxsKSByZXR1cm4gMDsKICAgICAgICBp\nbnQgaGFzaCA9IDE7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhLmxl\nbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIE9iamVjdCBlID0gYVtpXTsKICAg\nICAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIChlID09IG51bGwgPyAwIDog\nZS5oYXNoQ29kZSgpKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGhhc2g7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBAc2luY2UgMS41CiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgaW50IGRlZXBIYXNoQ29kZShPYmplY3QgYVtdKSB7\nCiAgICAgICAgaWYgKGEgPT0gbnVsbCkgcmV0dXJuIDA7CiAgICAgICAgaW50\nIGhhc2ggPSAxOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYS5sZW5n\ndGg7IGkrKykgewogICAgICAgICAgICBPYmplY3QgZSA9IGFbaV07CiAgICAg\nICAgICAgIGhhc2ggPSAzMSAqIGhhc2ggKwogICAgICAgICAgICAgICAgKGUg\naW5zdGFuY2VvZiBPYmplY3RbXSA/IGRlZXBIYXNoQ29kZSgoT2JqZWN0W10p\nIGUpIDoKICAgICAgICAgICAgICAgICAgICAoZSBpbnN0YW5jZW9mIGJ5dGVb\nXSA/IGhhc2hDb2RlKChieXRlW10pIGUpIDoKICAgICAgICAgICAgICAgICAg\nICAgICAgKGUgaW5zdGFuY2VvZiBzaG9ydFtdID8gaGFzaENvZGUoKHNob3J0\nW10pIGUpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlIGluc3Rh\nbmNlb2YgaW50W10gPyBoYXNoQ29kZSgoaW50W10pIGUpIDoKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAoZSBpbnN0YW5jZW9mIGxvbmdbXSA/\nIGhhc2hDb2RlKChsb25nW10pIGUpIDoKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgKGUgaW5zdGFuY2VvZiBjaGFyW10gPwogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaENvZGUoKGNo\nYXJbXSkgZSkgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgKGUgaW5zdGFuY2VvZiBib29sZWFuW10gPwogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hDb2RlKChib29s\nZWFuW10pIGUpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAoZSBpbnN0YW5jZW9mIGZsb2F0W10gPwogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoQ29k\nZSgoZmxvYXRbXSkgZSkgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAoZSBpbnN0YW5jZW9mIGRvdWJsZVtdID8K\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIGhhc2hDb2RlKChkb3VibGVbXSkgZSkgOgogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUgIT0g\nbnVsbCA/IGUuaGFzaENvZGUoKSA6CiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCkpKSkpKSkpKSk7\nCiAgICAgICAgfQogICAgICAgIHJldHVybiBoYXNoOwogICAgfQoKICAgIC8q\nKgogICAgICogQHNpbmNlIDEuNQogICAgICovCiAgICBwdWJsaWMgc3RhdGlj\nIGJvb2xlYW4gZGVlcEVxdWFscyhPYmplY3RbXSBhMSwgT2JqZWN0W10gYTIp\nIHsKICAgICAgICBpZiAoYTEgPT0gYTIpIHJldHVybiB0cnVlOwogICAgICAg\nIGlmIChhMSA9PSBudWxsIHx8IGEyID09IG51bGwpIHJldHVybiBmYWxzZTsK\nICAgICAgICBpbnQgbGVuID0gYTEubGVuZ3RoOwogICAgICAgIGlmIChsZW4g\nIT0gYTIubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICAgICAgZm9yIChpbnQg\naSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICBPYmplY3QgZTEg\nPSBhMVtpXTsKICAgICAgICAgICAgT2JqZWN0IGUyID0gYTJbaV07CiAgICAg\nICAgICAgIGlmIChlMSA9PSBlMikgY29udGludWU7CiAgICAgICAgICAgIGlm\nIChlMSA9PSBudWxsKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGJvb2xl\nYW4gZXEgPQogICAgICAgICAgICAgICAgKGUxLmdldENsYXNzKCkgIT0gZTIu\nZ2V0Q2xhc3MoKSB8fCBlMS5nZXRDbGFzcygpLmlzQXJyYXkoKSkgPwogICAg\nICAgICAgICAgICAgICAgIGUxLmVxdWFscyhlMikgOgogICAgICAgICAgICAg\nICAgICAgIChlMSBpbnN0YW5jZW9mIE9iamVjdFtdICYmIGUyIGluc3RhbmNl\nb2YgT2JqZWN0W10pID8KICAgICAgICAgICAgICAgICAgICAgICAgZGVlcEVx\ndWFscygoT2JqZWN0W10pIGUxLCAoT2JqZWN0W10pIGUyKSA6CiAgICAgICAg\nICAgICAgICAgICAgICAgIChlMSBpbnN0YW5jZW9mIGJ5dGVbXSAmJiBlMiBp\nbnN0YW5jZW9mIGJ5dGVbXSkgPwogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgZXF1YWxzKChieXRlW10pIGUxLCAoYnl0ZVtdKSBlMikgOgogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgKGUxIGluc3RhbmNlb2Ygc2hvcnRbXSAm\nJiBlMiBpbnN0YW5jZW9mIHNob3J0W10pID8KICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICBlcXVhbHMoKHNob3J0W10pIGUxLCAoc2hvcnRbXSkg\nZTIpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZTEgaW5z\ndGFuY2VvZiBpbnRbXSAmJiBlMiBpbnN0YW5jZW9mIGludFtdKSA/CiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFscygoaW50W10p\nIGUxLCAoaW50W10pIGUyKSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIChlMSBpbnN0YW5jZW9mIGxvbmdbXSAmJgogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZTIgaW5zdGFuY2VvZiBs\nb25nW10pID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIGVxdWFscygobG9uZ1tdKSBlMSwgKGxvbmdbXSkgZTIpIDoKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlMSBpbnN0YW5j\nZW9mIGNoYXJbXSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIGUyIGluc3RhbmNlb2YgY2hhcltdKSA/CiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWxzKChj\naGFyW10pIGUxLCAoY2hhcltdKSBlMikgOgogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgIChlMSBpbnN0YW5jZW9mIGJvb2xl\nYW5bXSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBlMiBpbnN0YW5jZW9mIGJvb2xlYW5bXSkgPwogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVh\nbHMoKGJvb2xlYW5bXSkgZTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAoYm9vbGVhbltdKSBlMikgOgog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAoZTEgaW5zdGFuY2VvZiBmbG9hdFtdICYmCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlMiBpbnN0YW5j\nZW9mIGZsb2F0W10pID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIGVxdWFscygoZmxvYXRbXSkgZTEsCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgKGZsb2F0W10pIGUyKSA6CiAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZTEgaW5zdGFuY2Vv\nZiBkb3VibGVbXSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgIGUyIGluc3RhbmNlb2YgZG91Ymxl\nW10pID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICBlcXVhbHMoKGRvdWJsZVtdKSBlMSwKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgKGRvdWJsZVtdKSBlMikgOgogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUxLmVxdWFs\ncyhlMik7CgogICAgICAgICAgICBpZiAoIWVxKSByZXR1cm4gZmFsc2U7CiAg\nICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgog\nICAgICogQHNpbmNlIDEuNQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFN0\ncmluZyB0b1N0cmluZyhsb25nW10gYSkgewogICAgICAgIGlmIChhID09IG51\nbGwpIHJldHVybiAibnVsbCI7CiAgICAgICAgaWYgKGEubGVuZ3RoID09IDAp\nIHJldHVybiAiW10iOwogICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcg\nU3RyaW5nQnVmZmVyKCk7CiAgICAgICAgYnVmLmFwcGVuZCgnWycpLmFwcGVu\nZChhWzBdKTsKICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8IGEubGVuZ3Ro\nOyBpKyspIGJ1Zi5hcHBlbmQoIiwgIikuYXBwZW5kKGFbaV0pOwogICAgICAg\nIGJ1Zi5hcHBlbmQoJ10nKTsKICAgICAgICByZXR1cm4gYnVmLnRvU3RyaW5n\nKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2luY2UgMS41CiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIHRvU3RyaW5nKGludFtdIGEpIHsK\nICAgICAgICBpZiAoYSA9PSBudWxsKSByZXR1cm4gIm51bGwiOwogICAgICAg\nIGlmIChhLmxlbmd0aCA9PSAwKSByZXR1cm4gIltdIjsKICAgICAgICBTdHJp\nbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAgIGJ1\nZi5hcHBlbmQoJ1snKS5hcHBlbmQoYVswXSk7CiAgICAgICAgZm9yIChpbnQg\naSA9IDE7IGkgPCBhLmxlbmd0aDsgaSsrKSBidWYuYXBwZW5kKCIsICIpLmFw\ncGVuZChhW2ldKTsKICAgICAgICBidWYuYXBwZW5kKCddJyk7CiAgICAgICAg\ncmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAgfQoKICAgIC8qKgogICAgICog\nQHNpbmNlIDEuNQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyB0\nb1N0cmluZyhzaG9ydFtdIGEpIHsKICAgICAgICBpZiAoYSA9PSBudWxsKSBy\nZXR1cm4gIm51bGwiOwogICAgICAgIGlmIChhLmxlbmd0aCA9PSAwKSByZXR1\ncm4gIltdIjsKICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmlu\nZ0J1ZmZlcigpOwogICAgICAgIGJ1Zi5hcHBlbmQoJ1snKS5hcHBlbmQoYVsw\nXSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCBhLmxlbmd0aDsgaSsr\nKSBidWYuYXBwZW5kKCIsICIpLmFwcGVuZChhW2ldKTsKICAgICAgICBidWYu\nYXBwZW5kKCddJyk7CiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpOwog\nICAgfQoKICAgIC8qKgogICAgICogQHNpbmNlIDEuNQogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIFN0cmluZyB0b1N0cmluZyhjaGFyW10gYSkgewogICAg\nICAgIGlmIChhID09IG51bGwpIHJldHVybiAibnVsbCI7CiAgICAgICAgaWYg\nKGEubGVuZ3RoID09IDApIHJldHVybiAiW10iOwogICAgICAgIFN0cmluZ0J1\nZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CiAgICAgICAgYnVmLmFw\ncGVuZCgnWycpLmFwcGVuZChhWzBdKTsKICAgICAgICBmb3IgKGludCBpID0g\nMTsgaSA8IGEubGVuZ3RoOyBpKyspIGJ1Zi5hcHBlbmQoIiwgIikuYXBwZW5k\nKGFbaV0pOwogICAgICAgIGJ1Zi5hcHBlbmQoJ10nKTsKICAgICAgICByZXR1\ncm4gYnVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2lu\nY2UgMS41CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIHRvU3Ry\naW5nKGJ5dGVbXSBhKSB7CiAgICAgICAgaWYgKGEgPT0gbnVsbCkgcmV0dXJu\nICJudWxsIjsKICAgICAgICBpZiAoYS5sZW5ndGggPT0gMCkgcmV0dXJuICJb\nXSI7CiAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZm\nZXIoKTsKICAgICAgICBidWYuYXBwZW5kKCdbJykuYXBwZW5kKGFbMF0pOwog\nICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDwgYS5sZW5ndGg7IGkrKykgYnVm\nLmFwcGVuZCgiLCAiKS5hcHBlbmQoYVtpXSk7CiAgICAgICAgYnVmLmFwcGVu\nZCgnXScpOwogICAgICAgIHJldHVybiBidWYudG9TdHJpbmcoKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjUKICAgICAqLwogICAgcHVibGlj\nIHN0YXRpYyBTdHJpbmcgdG9TdHJpbmcoYm9vbGVhbltdIGEpIHsKICAgICAg\nICBpZiAoYSA9PSBudWxsKSByZXR1cm4gIm51bGwiOwogICAgICAgIGlmIChh\nLmxlbmd0aCA9PSAwKSByZXR1cm4gIltdIjsKICAgICAgICBTdHJpbmdCdWZm\nZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAgIGJ1Zi5hcHBl\nbmQoJ1snKS5hcHBlbmQoYVswXSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDE7\nIGkgPCBhLmxlbmd0aDsgaSsrKSBidWYuYXBwZW5kKCIsICIpLmFwcGVuZChh\nW2ldKTsKICAgICAgICBidWYuYXBwZW5kKCddJyk7CiAgICAgICAgcmV0dXJu\nIGJ1Zi50b1N0cmluZygpOwogICAgfQoKICAgIC8qKgogICAgICogQHNpbmNl\nIDEuNQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyB0b1N0cmlu\nZyhmbG9hdFtdIGEpIHsKICAgICAgICBpZiAoYSA9PSBudWxsKSByZXR1cm4g\nIm51bGwiOwogICAgICAgIGlmIChhLmxlbmd0aCA9PSAwKSByZXR1cm4gIltd\nIjsKICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZl\ncigpOwogICAgICAgIGJ1Zi5hcHBlbmQoJ1snKS5hcHBlbmQoYVswXSk7CiAg\nICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCBhLmxlbmd0aDsgaSsrKSBidWYu\nYXBwZW5kKCIsICIpLmFwcGVuZChhW2ldKTsKICAgICAgICBidWYuYXBwZW5k\nKCddJyk7CiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAgfQoK\nICAgIC8qKgogICAgICogQHNpbmNlIDEuNQogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIFN0cmluZyB0b1N0cmluZyhkb3VibGVbXSBhKSB7CiAgICAgICAg\naWYgKGEgPT0gbnVsbCkgcmV0dXJuICJudWxsIjsKICAgICAgICBpZiAoYS5s\nZW5ndGggPT0gMCkgcmV0dXJuICJbXSI7CiAgICAgICAgU3RyaW5nQnVmZmVy\nIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKICAgICAgICBidWYuYXBwZW5k\nKCdbJykuYXBwZW5kKGFbMF0pOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBp\nIDwgYS5sZW5ndGg7IGkrKykgYnVmLmFwcGVuZCgiLCAiKS5hcHBlbmQoYVtp\nXSk7CiAgICAgICAgYnVmLmFwcGVuZCgnXScpOwogICAgICAgIHJldHVybiBi\ndWYudG9TdHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBzaW5jZSAx\nLjUKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBTdHJpbmcgdG9TdHJpbmco\nT2JqZWN0W10gYSkgewogICAgICAgIGlmIChhID09IG51bGwpIHJldHVybiAi\nbnVsbCI7CiAgICAgICAgaWYgKGEubGVuZ3RoID09IDApIHJldHVybiAiW10i\nOwogICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVy\nKCk7CiAgICAgICAgYnVmLmFwcGVuZCgnWycpLmFwcGVuZChhWzBdKTsKICAg\nICAgICBmb3IgKGludCBpID0gMTsgaSA8IGEubGVuZ3RoOyBpKyspIGJ1Zi5h\ncHBlbmQoIiwgIikuYXBwZW5kKGFbaV0pOwogICAgICAgIGJ1Zi5hcHBlbmQo\nJ10nKTsKICAgICAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBAc2luY2UgMS41CiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgU3RyaW5nIGRlZXBUb1N0cmluZyhPYmplY3RbXSBhKSB7CiAgICAg\nICAgaWYgKGEgPT0gbnVsbCkgcmV0dXJuICJudWxsIjsKICAgICAgICBTdHJp\nbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAgIGRl\nZXBUb1N0cmluZyhhLCBidWYsIG5ldyBBcnJheUxpc3QoKSk7CiAgICAgICAg\ncmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAgfQoKICAgIHByaXZhdGUgc3Rh\ndGljIHZvaWQgZGVlcFRvU3RyaW5nKE9iamVjdFtdIGEsIFN0cmluZ0J1ZmZl\nciBidWYsIExpc3Qgc2VlbikgewogICAgICAgIHNlZW4uYWRkKGEpOwogICAg\nICAgIGJ1Zi5hcHBlbmQoJ1snKTsKICAgICAgICBmb3IgKGludCBpID0gMDsg\naSA8IGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGkgPiAwKSBi\ndWYuYXBwZW5kKCIsICIpOwogICAgICAgICAgICBPYmplY3QgZSA9IGFbaV07\nCiAgICAgICAgICAgIGlmIChlID09IG51bGwpIHsKICAgICAgICAgICAgICAg\nIGJ1Zi5hcHBlbmQoIm51bGwiKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgh\nZS5nZXRDbGFzcygpLmlzQXJyYXkoKSkgewogICAgICAgICAgICAgICAgYnVm\nLmFwcGVuZChlLnRvU3RyaW5nKCkpOwogICAgICAgICAgICB9IGVsc2UgaWYg\nKGUgaW5zdGFuY2VvZiBPYmplY3RbXSkgewogICAgICAgICAgICAgICAgaWYg\nKHNlZW4uY29udGFpbnMoZSkpIGJ1Zi5hcHBlbmQoIlsuLi5dIik7CiAgICAg\nICAgICAgICAgICBlbHNlIGRlZXBUb1N0cmluZygoT2JqZWN0W10pIGUsIGJ1\nZiwgc2Vlbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAg\nICAvLyBwcmltaXRpdmUgYXJyCiAgICAgICAgICAgICAgICBidWYuYXBwZW5k\nKChlIGluc3RhbmNlb2YgYnl0ZVtdKSA/IHRvU3RyaW5nKChieXRlW10pIGUp\nIDoKICAgICAgICAgICAgICAgICAgICAoZSBpbnN0YW5jZW9mIHNob3J0W10p\nID8gdG9TdHJpbmcoKHNob3J0W10pIGUpIDoKICAgICAgICAgICAgICAgICAg\nICAgICAgKGUgaW5zdGFuY2VvZiBpbnRbXSkgPyB0b1N0cmluZygoaW50W10p\nIGUpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlIGluc3RhbmNl\nb2YgbG9uZ1tdKSA/IHRvU3RyaW5nKChsb25nW10pIGUpIDoKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAoZSBpbnN0YW5jZW9mIGNoYXJbXSkg\nPyB0b1N0cmluZygoY2hhcltdKSBlKSA6CiAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIChlIGluc3RhbmNlb2YgYm9vbGVhbltdKSA/CiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1N0cmlu\nZygoYm9vbGVhbltdKSBlKSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAoZSBpbnN0YW5jZW9mIGZsb2F0W10pID8KICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1N0cmlu\nZygoZmxvYXRbXSkgZSkgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIChlIGluc3RhbmNlb2YgZG91YmxlW10pID8KICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\ndG9TdHJpbmcoKGRvdWJsZVtdKSBlKSA6ICIiKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KICAgICAgICBidWYuYXBwZW5kKCddJyk7CiAgICAgICAgc2Vl\nbi5yZW1vdmUoc2Vlbi5zaXplKCkgLSAxKTsKICAgIH0KfQo=\n","encoding":"base64"}

