{"sha":"f2b365ba85231b8c3c1de0926962754a50191de1","node_id":"MDQ6QmxvYjIwNjM2NDpmMmIzNjViYTg1MjMxYjhjM2MxZGUwOTI2OTYyNzU0YTUwMTkxZGUx","size":14428,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f2b365ba85231b8c3c1de0926962754a50191de1","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwovKgogKiBXcml0dGVuIGJ5IERv\ndWcgTGVhIHdpdGggYXNzaXN0YW5jZSBmcm9tIG1lbWJlcnMgb2YgSkNQIEpT\nUi0xNjYKICogRXhwZXJ0IEdyb3VwIGFuZCByZWxlYXNlZCB0byB0aGUgcHVi\nbGljIGRvbWFpbi4gVXNlLCBtb2RpZnksIGFuZAogKiByZWRpc3RyaWJ1dGUg\ndGhpcyBjb2RlIGluIGFueSB3YXkgd2l0aG91dCBhY2tub3dsZWRnZW1lbnQu\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5jb25j\ndXJyZW50OwoKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBvcnQg\namF2YS51dGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7Cmlt\ncG9ydCBqYXZhLnV0aWwuU2V0OwoKLyoqCiAqIEEge0BsaW5rIGphdmEudXRp\nbC5TZXR9IHRoYXQgdXNlcyBhbiBpbnRlcm5hbCB7QGxpbmsgQ29weU9uV3Jp\ndGVBcnJheUxpc3R9CiAqIGZvciBhbGwgb2YgaXRzIG9wZXJhdGlvbnMuIFRo\ndXMsIGl0IHNoYXJlcyB0aGUgc2FtZSBiYXNpYyBwcm9wZXJ0aWVzOgogKiA8\ndWw+CiAqIDxsaT5JdCBpcyBiZXN0IHN1aXRlZCBmb3IgYXBwbGljYXRpb25z\nIGluIHdoaWNoIHNldCBzaXplcyBnZW5lcmFsbHkKICogc3RheSBzbWFsbCwg\ncmVhZC1vbmx5IG9wZXJhdGlvbnMKICogdmFzdGx5IG91dG51bWJlciBtdXRh\ndGl2ZSBvcGVyYXRpb25zLCBhbmQgeW91IG5lZWQKICogdG8gcHJldmVudCBp\nbnRlcmZlcmVuY2UgYW1vbmcgdGhyZWFkcyBkdXJpbmcgdHJhdmVyc2FsLgog\nKiA8bGk+SXQgaXMgdGhyZWFkLXNhZmUuCiAqIDxsaT5NdXRhdGl2ZSBvcGVy\nYXRpb25zKDx0dD5hZGQ8L3R0PiwgPHR0PnNldDwvdHQ+LCA8dHQ+cmVtb3Zl\nPC90dD4sIGV0Yy4pCiAqIGFyZSBleHBlbnNpdmUgc2luY2UgdGhleSB1c3Vh\nbGx5IGVudGFpbCBjb3B5aW5nIHRoZSBlbnRpcmUgdW5kZXJseWluZyBhcnJh\neS4KICogPGxpPkl0ZXJhdG9ycyBkbyBub3Qgc3VwcG9ydCB0aGUgbXV0YXRp\ndmUgPHR0PnJlbW92ZTwvdHQ+IG9wZXJhdGlvbi4KICogPGxpPlRyYXZlcnNh\nbCB2aWEgaXRlcmF0b3JzIGlzIGZhc3QgYW5kIGNhbm5vdCBlbmNvdW50ZXIK\nICogaW50ZXJmZXJlbmNlIGZyb20gb3RoZXIgdGhyZWFkcy4gSXRlcmF0b3Jz\nIHJlbHkgb24KICogdW5jaGFuZ2luZyBzbmFwc2hvdHMgb2YgdGhlIGFycmF5\nIGF0IHRoZSB0aW1lIHRoZSBpdGVyYXRvcnMgd2VyZSBjb25zdHJ1Y3RlZC4K\nICogPC91bD4KICogPGI+U2FtcGxlIFVzYWdlLjwvYj4gVGhlIGZvbGxvd2lu\nZyBjb2RlIHNrZXRjaCB1c2VzIGEKICogY29weS1vbi13cml0ZSBzZXQgdG8g\nbWFpbnRhaW4gYSBzZXQgb2YgSGFuZGxlciBvYmplY3RzIHRoYXQKICogcGVy\nZm9ybSBzb21lIGFjdGlvbiB1cG9uIHN0YXRlIHVwZGF0ZXMuCiAqIAogKiA8\ncHJlPiBjbGFzcyBIYW5kbGVyIHsgdm9pZCBoYW5kbGUoKTsgLi4uIH0KICog\nY2xhc3MgWCB7IHByaXZhdGUgZmluYWwgQ29weU9uV3JpdGVBcnJheVNldCZs\ndDtIYW5kbGVyJmd0OyBoYW5kbGVycwogKiA9IG5ldyBDb3B5T25Xcml0ZUFy\ncmF5U2V0Jmx0O0hhbmRsZXImZ3Q7KCk7CiAqIHB1YmxpYyB2b2lkIGFkZEhh\nbmRsZXIoSGFuZGxlciBoKSB7IGhhbmRsZXJzLmFkZChoKTsgfQogKiBwcml2\nYXRlIGxvbmcgaW50ZXJuYWxTdGF0ZTsKICogcHJpdmF0ZSBzeW5jaHJvbml6\nZWQgdm9pZCBjaGFuZ2VTdGF0ZSgpIHsgaW50ZXJuYWxTdGF0ZSA9IC4uLjsg\nfQogKiBwdWJsaWMgdm9pZCB1cGRhdGUoKSB7IGNoYW5nZVN0YXRlKCk7IGZv\nciAoSGFuZGxlciBoYW5kbGVyIDogaGFuZGxlcnMpCiAqIGhhbmRsZXIuaGFu\nZGxlKCk7IH0gfQogKiA8L3ByZT4gVGhpcyBjbGFzcyBpcyBhIG1lbWJlciBv\nZiB0aGUKICogPGEgaHJlZj0ie0Bkb2NSb290fS8uLi9ndWlkZS9jb2xsZWN0\naW9ucy9pbmRleC5odG1sIj4KICogSmF2YSBDb2xsZWN0aW9ucyBGcmFtZXdv\ncms8L2E+LgogKgogKiBAYXV0aG9yIERvdWcgTGVhCiAqIEBzZWUgQ29weU9u\nV3JpdGVBcnJheUxpc3QKICogQHNpbmNlIDEuNQogKi8KcHVibGljIGNsYXNz\nIENvcHlPbldyaXRlQXJyYXlTZXQgZXh0ZW5kcyBBYnN0cmFjdFNldAogICAg\naW1wbGVtZW50cyBqYXZhLmlvLlNlcmlhbGl6YWJsZSB7CgogICAgcHJpdmF0\nZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gNTQ1Nzc0\nNzY1MTM0NDAzNDI2M0w7CgogICAgcHJpdmF0ZSBmaW5hbCBDb3B5T25Xcml0\nZUFycmF5TGlzdCBhbDsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYW4gZW1w\ndHkgc2V0LgogICAgICovCiAgICBwdWJsaWMgQ29weU9uV3JpdGVBcnJheVNl\ndCgpIHsKICAgICAgICBhbCA9IG5ldyBDb3B5T25Xcml0ZUFycmF5TGlzdCgp\nOwogICAgfQoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIHNldCBjb250YWlu\naW5nIGFsbCBvZiB0aGUgZWxlbWVudHMgb2YgdGhlIHNwZWNpZmllZCBjb2xs\nZWN0aW9uLgogICAgICoKICAgICAqIEBwYXJhbSBjIHRoZSBjb2xsZWN0aW9u\nIG9mIGVsZW1lbnRzIHRvIGluaXRpYWxseSBjb250YWluCiAgICAgKiBAdGhy\nb3dzIE51bGxQb2ludGVyRXhjZXB0aW9uIGlmIHRoZSBzcGVjaWZpZWQgY29s\nbGVjdGlvbiBpcyBudWxsCiAgICAgKi8KICAgIHB1YmxpYyBDb3B5T25Xcml0\nZUFycmF5U2V0KENvbGxlY3Rpb24gYykgewogICAgICAgIGFsID0gbmV3IENv\ncHlPbldyaXRlQXJyYXlMaXN0KCk7CiAgICAgICAgYWwuYWRkQWxsQWJzZW50\nKGMpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbnVtYmVy\nIG9mIGVsZW1lbnRzIGluIHRoaXMgc2V0LgogICAgICoKICAgICAqIEByZXR1\ncm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGlzIHNldAogICAgICov\nCiAgICBwdWJsaWMgaW50IHNpemUoKSB7CiAgICAgICAgcmV0dXJuIGFsLnNp\nemUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgPHR0PnRydWU8\nL3R0PiBpZiB0aGlzIHNldCBjb250YWlucyBubyBlbGVtZW50cy4KICAgICAq\nCiAgICAgKiBAcmV0dXJuIDx0dD50cnVlPC90dD4gaWYgdGhpcyBzZXQgY29u\ndGFpbnMgbm8gZWxlbWVudHMKICAgICAqLwogICAgcHVibGljIGJvb2xlYW4g\naXNFbXB0eSgpIHsKICAgICAgICByZXR1cm4gYWwuaXNFbXB0eSgpOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJucyA8dHQ+dHJ1ZTwvdHQ+IGlmIHRo\naXMgc2V0IGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgZWxlbWVudC4KICAgICAq\nIE1vcmUgZm9ybWFsbHksIHJldHVybnMgPHR0PnRydWU8L3R0PiBpZiBhbmQg\nb25seSBpZiB0aGlzIHNldAogICAgICogY29udGFpbnMgYW4gZWxlbWVudCA8\ndHQ+ZTwvdHQ+IHN1Y2ggdGhhdAogICAgICogPHR0PihvPT1udWxsJm5ic3A7\nPyZuYnNwO2U9PW51bGwmbmJzcDs6Jm5ic3A7by5lcXVhbHMoZSkpPC90dD4u\nCiAgICAgKgogICAgICogQHBhcmFtIG8gZWxlbWVudCB3aG9zZSBwcmVzZW5j\nZSBpbiB0aGlzIHNldCBpcyB0byBiZSB0ZXN0ZWQKICAgICAqIEByZXR1cm4g\nPHR0PnRydWU8L3R0PiBpZiB0aGlzIHNldCBjb250YWlucyB0aGUgc3BlY2lm\naWVkIGVsZW1lbnQKICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gY29udGFp\nbnMoT2JqZWN0IG8pIHsKICAgICAgICByZXR1cm4gYWwuY29udGFpbnMobyk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRh\naW5pbmcgYWxsIG9mIHRoZSBlbGVtZW50cyBpbiB0aGlzIHNldC4KICAgICAq\nIElmIHRoaXMgc2V0IG1ha2VzIGFueSBndWFyYW50ZWVzIGFzIHRvIHdoYXQg\nb3JkZXIgaXRzIGVsZW1lbnRzCiAgICAgKiBhcmUgcmV0dXJuZWQgYnkgaXRz\nIGl0ZXJhdG9yLCB0aGlzIG1ldGhvZCBtdXN0IHJldHVybiB0aGUKICAgICAq\nIGVsZW1lbnRzIGluIHRoZSBzYW1lIG9yZGVyLgogICAgICogVGhlIHJldHVy\nbmVkIGFycmF5IHdpbGwgYmUgInNhZmUiIGluIHRoYXQgbm8gcmVmZXJlbmNl\ncyB0byBpdAogICAgICogYXJlIG1haW50YWluZWQgYnkgdGhpcyBzZXQuIChJ\nbiBvdGhlciB3b3JkcywgdGhpcyBtZXRob2QgbXVzdAogICAgICogYWxsb2Nh\ndGUgYSBuZXcgYXJyYXkgZXZlbiBpZiB0aGlzIHNldCBpcyBiYWNrZWQgYnkg\nYW4gYXJyYXkpLgogICAgICogVGhlIGNhbGxlciBpcyB0aHVzIGZyZWUgdG8g\nbW9kaWZ5IHRoZSByZXR1cm5lZCBhcnJheS4KICAgICAqIFRoaXMgbWV0aG9k\nIGFjdHMgYXMgYnJpZGdlIGJldHdlZW4gYXJyYXktYmFzZWQgYW5kIGNvbGxl\nY3Rpb24tYmFzZWQgQVBJcy4KICAgICAqCiAgICAgKiBAcmV0dXJuIGFuIGFy\ncmF5IGNvbnRhaW5pbmcgYWxsIHRoZSBlbGVtZW50cyBpbiB0aGlzIHNldAog\nICAgICovCiAgICBwdWJsaWMgT2JqZWN0W10gdG9BcnJheSgpIHsKICAgICAg\nICByZXR1cm4gYWwudG9BcnJheSgpOwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGUgZWxlbWVu\ndHMgaW4gdGhpcyBzZXQ7IHRoZQogICAgICogcnVudGltZSB0eXBlIG9mIHRo\nZSByZXR1cm5lZCBhcnJheSBpcyB0aGF0IG9mIHRoZSBzcGVjaWZpZWQgYXJy\nYXkuCiAgICAgKiBJZiB0aGUgc2V0IGZpdHMgaW4gdGhlIHNwZWNpZmllZCBh\ncnJheSwgaXQgaXMgcmV0dXJuZWQgdGhlcmVpbi4KICAgICAqIE90aGVyd2lz\nZSwgYSBuZXcgYXJyYXkgaXMgYWxsb2NhdGVkIHdpdGggdGhlIHJ1bnRpbWUg\ndHlwZSBvZiB0aGUKICAgICAqIHNwZWNpZmllZCBhcnJheSBhbmQgdGhlIHNp\nemUgb2YgdGhpcyBzZXQuCiAgICAgKiBJZiB0aGlzIHNldCBmaXRzIGluIHRo\nZSBzcGVjaWZpZWQgYXJyYXkgd2l0aCByb29tIHRvIHNwYXJlCiAgICAgKiAo\naS5lLiwgdGhlIGFycmF5IGhhcyBtb3JlIGVsZW1lbnRzIHRoYW4gdGhpcyBz\nZXQpLCB0aGUgZWxlbWVudCBpbgogICAgICogdGhlIGFycmF5IGltbWVkaWF0\nZWx5IGZvbGxvd2luZyB0aGUgZW5kIG9mIHRoZSBzZXQgaXMgc2V0IHRvCiAg\nICAgKiA8dHQ+bnVsbDwvdHQ+LiAoVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZXJt\naW5pbmcgdGhlIGxlbmd0aCBvZiB0aGlzCiAgICAgKiBzZXQgPGk+b25seTwv\naT4gaWYgdGhlIGNhbGxlciBrbm93cyB0aGF0IHRoaXMgc2V0IGRvZXMgbm90\nIGNvbnRhaW4KICAgICAqIGFueSBudWxsIGVsZW1lbnRzLikKICAgICAqIElm\nIHRoaXMgc2V0IG1ha2VzIGFueSBndWFyYW50ZWVzIGFzIHRvIHdoYXQgb3Jk\nZXIgaXRzIGVsZW1lbnRzCiAgICAgKiBhcmUgcmV0dXJuZWQgYnkgaXRzIGl0\nZXJhdG9yLCB0aGlzIG1ldGhvZCBtdXN0IHJldHVybiB0aGUgZWxlbWVudHMK\nICAgICAqIGluIHRoZSBzYW1lIG9yZGVyLgogICAgICogTGlrZSB0aGUge0Bs\naW5rICN0b0FycmF5KCl9IG1ldGhvZCwgdGhpcyBtZXRob2QgYWN0cyBhcyBi\ncmlkZ2UgYmV0d2VlbgogICAgICogYXJyYXktYmFzZWQgYW5kIGNvbGxlY3Rp\nb24tYmFzZWQgQVBJcy4gRnVydGhlciwgdGhpcyBtZXRob2QgYWxsb3dzCiAg\nICAgKiBwcmVjaXNlIGNvbnRyb2wgb3ZlciB0aGUgcnVudGltZSB0eXBlIG9m\nIHRoZSBvdXRwdXQgYXJyYXksIGFuZCBtYXksCiAgICAgKiB1bmRlciBjZXJ0\nYWluIGNpcmN1bXN0YW5jZXMsIGJlIHVzZWQgdG8gc2F2ZSBhbGxvY2F0aW9u\nIGNvc3RzLgogICAgICogU3VwcG9zZSA8dHQ+eDwvdHQ+IGlzIGEgc2V0IGtu\nb3duIHRvIGNvbnRhaW4gb25seSBzdHJpbmdzLgogICAgICogVGhlIGZvbGxv\nd2luZyBjb2RlIGNhbiBiZSB1c2VkIHRvIGR1bXAgdGhlIHNldCBpbnRvIGEg\nbmV3bHkgYWxsb2NhdGVkCiAgICAgKiBhcnJheSBvZiA8dHQ+U3RyaW5nPC90\ndD46CiAgICAgKiAKICAgICAqIDxwcmU+IFN0cmluZ1tdIHkgPSB4LnRvQXJy\nYXkobmV3IFN0cmluZ1swXSk7PC9wcmU+CiAgICAgKiBOb3RlIHRoYXQgPHR0\nPnRvQXJyYXkobmV3IE9iamVjdFswXSk8L3R0PiBpcyBpZGVudGljYWwgaW4g\nZnVuY3Rpb24gdG8KICAgICAqIDx0dD50b0FycmF5KCk8L3R0Pi4KICAgICAq\nCiAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgaW50byB3aGljaCB0aGUgZWxl\nbWVudHMgb2YgdGhpcyBzZXQgYXJlIHRvIGJlCiAgICAgKiBzdG9yZWQsIGlm\nIGl0IGlzIGJpZyBlbm91Z2g7IG90aGVyd2lzZSwgYSBuZXcgYXJyYXkgb2Yg\ndGhlIHNhbWUKICAgICAqIHJ1bnRpbWUgdHlwZSBpcyBhbGxvY2F0ZWQgZm9y\nIHRoaXMgcHVycG9zZS4KICAgICAqIEByZXR1cm4gYW4gYXJyYXkgY29udGFp\nbmluZyBhbGwgdGhlIGVsZW1lbnRzIGluIHRoaXMgc2V0CiAgICAgKiBAdGhy\nb3dzIEFycmF5U3RvcmVFeGNlcHRpb24gaWYgdGhlIHJ1bnRpbWUgdHlwZSBv\nZiB0aGUgc3BlY2lmaWVkIGFycmF5CiAgICAgKiBpcyBub3QgYSBzdXBlcnR5\ncGUgb2YgdGhlIHJ1bnRpbWUgdHlwZSBvZiBldmVyeSBlbGVtZW50IGluIHRo\naXMgc2V0CiAgICAgKiBAdGhyb3dzIE51bGxQb2ludGVyRXhjZXB0aW9uIGlm\nIHRoZSBzcGVjaWZpZWQgYXJyYXkgaXMgbnVsbAogICAgICovCiAgICBwdWJs\naWMgT2JqZWN0W10gdG9BcnJheShPYmplY3RbXSBhKSB7CiAgICAgICAgcmV0\ndXJuIGFsLnRvQXJyYXkoYSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1v\ndmVzIGFsbCBvZiB0aGUgZWxlbWVudHMgZnJvbSB0aGlzIHNldC4KICAgICAq\nIFRoZSBzZXQgd2lsbCBiZSBlbXB0eSBhZnRlciB0aGlzIGNhbGwgcmV0dXJu\ncy4KICAgICAqLwogICAgcHVibGljIHZvaWQgY2xlYXIoKSB7CiAgICAgICAg\nYWwuY2xlYXIoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlbW92ZXMgdGhl\nIHNwZWNpZmllZCBlbGVtZW50IGZyb20gdGhpcyBzZXQgaWYgaXQgaXMgcHJl\nc2VudC4KICAgICAqIE1vcmUgZm9ybWFsbHksIHJlbW92ZXMgYW4gZWxlbWVu\ndCA8dHQ+ZTwvdHQ+IHN1Y2ggdGhhdAogICAgICogPHR0PihvPT1udWxsJm5i\nc3A7PyZuYnNwO2U9PW51bGwmbmJzcDs6Jm5ic3A7by5lcXVhbHMoZSkpPC90\ndD4sCiAgICAgKiBpZiB0aGlzIHNldCBjb250YWlucyBzdWNoIGFuIGVsZW1l\nbnQuIFJldHVybnMgPHR0PnRydWU8L3R0PiBpZgogICAgICogdGhpcyBzZXQg\nY29udGFpbmVkIHRoZSBlbGVtZW50KG9yIGVxdWl2YWxlbnRseSwgaWYgdGhp\ncyBzZXQKICAgICAqIGNoYW5nZWQgYXMgYSByZXN1bHQgb2YgdGhlIGNhbGwp\nLiAoVGhpcyBzZXQgd2lsbCBub3QgY29udGFpbiB0aGUKICAgICAqIGVsZW1l\nbnQgb25jZSB0aGUgY2FsbCByZXR1cm5zLikKICAgICAqCiAgICAgKiBAcGFy\nYW0gbyBvYmplY3QgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoaXMgc2V0LCBpZiBw\ncmVzZW50CiAgICAgKiBAcmV0dXJuIDx0dD50cnVlPC90dD4gaWYgdGhpcyBz\nZXQgY29udGFpbmVkIHRoZSBzcGVjaWZpZWQgZWxlbWVudAogICAgICovCiAg\nICBwdWJsaWMgYm9vbGVhbiByZW1vdmUoT2JqZWN0IG8pIHsKICAgICAgICBy\nZXR1cm4gYWwucmVtb3ZlKG8pOwogICAgfQoKICAgIC8qKgogICAgICogQWRk\ncyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgdG8gdGhpcyBzZXQgaWYgaXQgaXMg\nbm90IGFscmVhZHkgcHJlc2VudC4KICAgICAqIE1vcmUgZm9ybWFsbHksIGFk\nZHMgdGhlIHNwZWNpZmllZCBlbGVtZW50IDx0dD5lPC90dD4gdG8gdGhpcyBz\nZXQgaWYKICAgICAqIHRoZSBzZXQgY29udGFpbnMgbm8gZWxlbWVudCA8dHQ+\nZTI8L3R0PiBzdWNoIHRoYXQKICAgICAqIDx0dD4oZT09bnVsbCZuYnNwOz8m\nbmJzcDtlMj09bnVsbCZuYnNwOzombmJzcDtlLmVxdWFscyhlMikpPC90dD4u\nCiAgICAgKiBJZiB0aGlzIHNldCBhbHJlYWR5IGNvbnRhaW5zIHRoZSBlbGVt\nZW50LCB0aGUgY2FsbCBsZWF2ZXMgdGhlIHNldAogICAgICogdW5jaGFuZ2Vk\nIGFuZCByZXR1cm5zIDx0dD5mYWxzZTwvdHQ+LgogICAgICoKICAgICAqIEBw\nYXJhbSBlIGVsZW1lbnQgdG8gYmUgYWRkZWQgdG8gdGhpcyBzZXQKICAgICAq\nIEByZXR1cm4gPHR0PnRydWU8L3R0PiBpZiB0aGlzIHNldCBkaWQgbm90IGFs\ncmVhZHkgY29udGFpbiB0aGUgc3BlY2lmaWVkCiAgICAgKiBlbGVtZW50CiAg\nICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGFkZChPYmplY3QgZSkgewogICAg\nICAgIHJldHVybiBhbC5hZGRJZkFic2VudChlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybnMgPHR0PnRydWU8L3R0PiBpZiB0aGlzIHNldCBjb250\nYWlucyBhbGwgb2YgdGhlIGVsZW1lbnRzIG9mIHRoZQogICAgICogc3BlY2lm\naWVkIGNvbGxlY3Rpb24uIElmIHRoZSBzcGVjaWZpZWQgY29sbGVjdGlvbiBp\ncyBhbHNvIGEgc2V0LCB0aGlzCiAgICAgKiBtZXRob2QgcmV0dXJucyA8dHQ+\ndHJ1ZTwvdHQ+IGlmIGl0IGlzIGEgPGk+c3Vic2V0PC9pPiBvZiB0aGlzIHNl\ndC4KICAgICAqCiAgICAgKiBAcGFyYW0gYyBjb2xsZWN0aW9uIHRvIGJlIGNo\nZWNrZWQgZm9yIGNvbnRhaW5tZW50IGluIHRoaXMgc2V0CiAgICAgKiBAcmV0\ndXJuIDx0dD50cnVlPC90dD4gaWYgdGhpcyBzZXQgY29udGFpbnMgYWxsIG9m\nIHRoZSBlbGVtZW50cyBvZiB0aGUKICAgICAqIHNwZWNpZmllZCBjb2xsZWN0\naW9uCiAgICAgKiBAdGhyb3dzIE51bGxQb2ludGVyRXhjZXB0aW9uIGlmIHRo\nZSBzcGVjaWZpZWQgY29sbGVjdGlvbiBpcyBudWxsCiAgICAgKiBAc2VlICNj\nb250YWlucyhPYmplY3QpCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGNv\nbnRhaW5zQWxsKENvbGxlY3Rpb24gYykgewogICAgICAgIHJldHVybiBhbC5j\nb250YWluc0FsbChjKTsKICAgIH0KCiAgICAvKioKICAgICAqIEFkZHMgYWxs\nIG9mIHRoZSBlbGVtZW50cyBpbiB0aGUgc3BlY2lmaWVkIGNvbGxlY3Rpb24g\ndG8gdGhpcyBzZXQgaWYKICAgICAqIHRoZXkncmUgbm90IGFscmVhZHkgcHJl\nc2VudC4gSWYgdGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uIGlzIGFsc28gYQog\nICAgICogc2V0LCB0aGUgPHR0PmFkZEFsbDwvdHQ+IG9wZXJhdGlvbiBlZmZl\nY3RpdmVseSBtb2RpZmllcyB0aGlzIHNldCBzbwogICAgICogdGhhdCBpdHMg\ndmFsdWUgaXMgdGhlIDxpPnVuaW9uPC9pPiBvZiB0aGUgdHdvIHNldHMuIFRo\nZSBiZWhhdmlvciBvZgogICAgICogdGhpcyBvcGVyYXRpb24gaXMgdW5kZWZp\nbmVkIGlmIHRoZSBzcGVjaWZpZWQgY29sbGVjdGlvbiBpcyBtb2RpZmllZAog\nICAgICogd2hpbGUgdGhlIG9wZXJhdGlvbiBpcyBpbiBwcm9ncmVzcy4KICAg\nICAqCiAgICAgKiBAcGFyYW0gYyBjb2xsZWN0aW9uIGNvbnRhaW5pbmcgZWxl\nbWVudHMgdG8gYmUgYWRkZWQgdG8gdGhpcyBzZXQKICAgICAqIEByZXR1cm4g\nPHR0PnRydWU8L3R0PiBpZiB0aGlzIHNldCBjaGFuZ2VkIGFzIGEgcmVzdWx0\nIG9mIHRoZSBjYWxsCiAgICAgKiBAdGhyb3dzIE51bGxQb2ludGVyRXhjZXB0\naW9uIGlmIHRoZSBzcGVjaWZpZWQgY29sbGVjdGlvbiBpcyBudWxsCiAgICAg\nKiBAc2VlICNhZGQoT2JqZWN0KQogICAgICovCiAgICBwdWJsaWMgYm9vbGVh\nbiBhZGRBbGwoQ29sbGVjdGlvbiBjKSB7CiAgICAgICAgcmV0dXJuIGFsLmFk\nZEFsbEFic2VudChjKSA+IDA7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1v\ndmVzIGZyb20gdGhpcyBzZXQgYWxsIG9mIGl0cyBlbGVtZW50cyB0aGF0IGFy\nZSBjb250YWluZWQgaW4gdGhlCiAgICAgKiBzcGVjaWZpZWQgY29sbGVjdGlv\nbi4gSWYgdGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uIGlzIGFsc28gYSBzZXQs\nCiAgICAgKiB0aGlzIG9wZXJhdGlvbiBlZmZlY3RpdmVseSBtb2RpZmllcyB0\naGlzIHNldCBzbyB0aGF0IGl0cyB2YWx1ZSBpcyB0aGUKICAgICAqIDxpPmFz\neW1tZXRyaWMgc2V0IGRpZmZlcmVuY2U8L2k+IG9mIHRoZSB0d28gc2V0cy4K\nICAgICAqCiAgICAgKiBAcGFyYW0gYyBjb2xsZWN0aW9uIGNvbnRhaW5pbmcg\nZWxlbWVudHMgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoaXMgc2V0CiAgICAgKiBA\ncmV0dXJuIDx0dD50cnVlPC90dD4gaWYgdGhpcyBzZXQgY2hhbmdlZCBhcyBh\nIHJlc3VsdCBvZiB0aGUgY2FsbAogICAgICogQHRocm93cyBDbGFzc0Nhc3RF\neGNlcHRpb24gaWYgdGhlIGNsYXNzIG9mIGFuIGVsZW1lbnQgb2YgdGhpcyBz\nZXQKICAgICAqIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBzcGVjaWZpZWQg\nY29sbGVjdGlvbihvcHRpb25hbCkKICAgICAqIEB0aHJvd3MgTnVsbFBvaW50\nZXJFeGNlcHRpb24gaWYgdGhpcyBzZXQgY29udGFpbnMgYSBudWxsIGVsZW1l\nbnQgYW5kIHRoZQogICAgICogc3BlY2lmaWVkIGNvbGxlY3Rpb24gZG9lcyBu\nb3QgcGVybWl0IG51bGwgZWxlbWVudHMob3B0aW9uYWwpLAogICAgICogb3Ig\naWYgdGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uIGlzIG51bGwKICAgICAqIEBz\nZWUgI3JlbW92ZShPYmplY3QpCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFu\nIHJlbW92ZUFsbChDb2xsZWN0aW9uIGMpIHsKICAgICAgICByZXR1cm4gYWwu\ncmVtb3ZlQWxsKGMpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0YWlucyBv\nbmx5IHRoZSBlbGVtZW50cyBpbiB0aGlzIHNldCB0aGF0IGFyZSBjb250YWlu\nZWQgaW4gdGhlCiAgICAgKiBzcGVjaWZpZWQgY29sbGVjdGlvbi4gSW4gb3Ro\nZXIgd29yZHMsIHJlbW92ZXMgZnJvbSB0aGlzIHNldCBhbGwgb2YKICAgICAq\nIGl0cyBlbGVtZW50cyB0aGF0IGFyZSBub3QgY29udGFpbmVkIGluIHRoZSBz\ncGVjaWZpZWQgY29sbGVjdGlvbi4gSWYKICAgICAqIHRoZSBzcGVjaWZpZWQg\nY29sbGVjdGlvbiBpcyBhbHNvIGEgc2V0LCB0aGlzIG9wZXJhdGlvbiBlZmZl\nY3RpdmVseQogICAgICogbW9kaWZpZXMgdGhpcyBzZXQgc28gdGhhdCBpdHMg\ndmFsdWUgaXMgdGhlIDxpPmludGVyc2VjdGlvbjwvaT4gb2YgdGhlCiAgICAg\nKiB0d28gc2V0cy4KICAgICAqCiAgICAgKiBAcGFyYW0gYyBjb2xsZWN0aW9u\nIGNvbnRhaW5pbmcgZWxlbWVudHMgdG8gYmUgcmV0YWluZWQgaW4gdGhpcyBz\nZXQKICAgICAqIEByZXR1cm4gPHR0PnRydWU8L3R0PiBpZiB0aGlzIHNldCBj\naGFuZ2VkIGFzIGEgcmVzdWx0IG9mIHRoZSBjYWxsCiAgICAgKiBAdGhyb3dz\nIENsYXNzQ2FzdEV4Y2VwdGlvbiBpZiB0aGUgY2xhc3Mgb2YgYW4gZWxlbWVu\ndCBvZiB0aGlzIHNldAogICAgICogaXMgaW5jb21wYXRpYmxlIHdpdGggdGhl\nIHNwZWNpZmllZCBjb2xsZWN0aW9uKG9wdGlvbmFsKQogICAgICogQHRocm93\ncyBOdWxsUG9pbnRlckV4Y2VwdGlvbiBpZiB0aGlzIHNldCBjb250YWlucyBh\nIG51bGwgZWxlbWVudCBhbmQgdGhlCiAgICAgKiBzcGVjaWZpZWQgY29sbGVj\ndGlvbiBkb2VzIG5vdCBwZXJtaXQgbnVsbCBlbGVtZW50cyhvcHRpb25hbCks\nCiAgICAgKiBvciBpZiB0aGUgc3BlY2lmaWVkIGNvbGxlY3Rpb24gaXMgbnVs\nbAogICAgICogQHNlZSAjcmVtb3ZlKE9iamVjdCkKICAgICAqLwogICAgcHVi\nbGljIGJvb2xlYW4gcmV0YWluQWxsKENvbGxlY3Rpb24gYykgewogICAgICAg\nIHJldHVybiBhbC5yZXRhaW5BbGwoYyk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIG92ZXIgdGhlIGVsZW1lbnRzIGNvbnRh\naW5lZCBpbiB0aGlzIHNldAogICAgICogaW4gdGhlIG9yZGVyIGluIHdoaWNo\nIHRoZXNlIGVsZW1lbnRzIHdlcmUgYWRkZWQuCiAgICAgKiBUaGUgcmV0dXJu\nZWQgaXRlcmF0b3IgcHJvdmlkZXMgYSBzbmFwc2hvdCBvZiB0aGUgc3RhdGUg\nb2YgdGhlIHNldAogICAgICogd2hlbiB0aGUgaXRlcmF0b3Igd2FzIGNvbnN0\ncnVjdGVkLiBObyBzeW5jaHJvbml6YXRpb24gaXMgbmVlZGVkIHdoaWxlCiAg\nICAgKiB0cmF2ZXJzaW5nIHRoZSBpdGVyYXRvci4gVGhlIGl0ZXJhdG9yIGRv\nZXMgPGVtPk5PVDwvZW0+IHN1cHBvcnQgdGhlCiAgICAgKiA8dHQ+cmVtb3Zl\nPC90dD4gbWV0aG9kLgogICAgICoKICAgICAqIEByZXR1cm4gYW4gaXRlcmF0\nb3Igb3ZlciB0aGUgZWxlbWVudHMgaW4gdGhpcyBzZXQKICAgICAqLwogICAg\ncHVibGljIEl0ZXJhdG9yIGl0ZXJhdG9yKCkgewogICAgICAgIHJldHVybiBh\nbC5pdGVyYXRvcigpOwogICAgfQoKICAgIC8qKgogICAgICogQ29tcGFyZXMg\ndGhlIHNwZWNpZmllZCBvYmplY3Qgd2l0aCB0aGlzIHNldCBmb3IgZXF1YWxp\ndHkuCiAgICAgKiBSZXR1cm5zIHtAY29kZSB0cnVlfSBpZiB0aGUgc3BlY2lm\naWVkIG9iamVjdCBpcyB0aGUgc2FtZSBvYmplY3QKICAgICAqIGFzIHRoaXMg\nb2JqZWN0LCBvciBpZiBpdCBpcyBhbHNvIGEge0BsaW5rIFNldH0gYW5kIHRo\nZSBlbGVtZW50cwogICAgICogcmV0dXJuZWQgYnkgYW4ge0BsaW5rcGxhaW4g\nTGlzdCNpdGVyYXRvcigpIGl0ZXJhdG9yfSBvdmVyIHRoZQogICAgICogc3Bl\nY2lmaWVkIHNldCBhcmUgdGhlIHNhbWUgYXMgdGhlIGVsZW1lbnRzIHJldHVy\nbmVkIGJ5IGFuCiAgICAgKiBpdGVyYXRvciBvdmVyIHRoaXMgc2V0LiBNb3Jl\nIGZvcm1hbGx5LCB0aGUgdHdvIGl0ZXJhdG9ycyBhcmUKICAgICAqIGNvbnNp\nZGVyZWQgdG8gcmV0dXJuIHRoZSBzYW1lIGVsZW1lbnRzIGlmIHRoZXkgcmV0\ndXJuIHRoZSBzYW1lCiAgICAgKiBudW1iZXIgb2YgZWxlbWVudHMgYW5kIGZv\nciBldmVyeSBlbGVtZW50IHtAY29kZSBlMX0gcmV0dXJuZWQgYnkKICAgICAq\nIHRoZSBpdGVyYXRvciBvdmVyIHRoZSBzcGVjaWZpZWQgc2V0LCB0aGVyZSBp\ncyBhbiBlbGVtZW50CiAgICAgKiB7QGNvZGUgZTJ9IHJldHVybmVkIGJ5IHRo\nZSBpdGVyYXRvciBvdmVyIHRoaXMgc2V0IHN1Y2ggdGhhdAogICAgICoge0Bj\nb2RlKGUxPT1udWxsID8gZTI9PW51bGwgOiBlMS5lcXVhbHMoZTIpKX0uCiAg\nICAgKgogICAgICogQHBhcmFtIG8gb2JqZWN0IHRvIGJlIGNvbXBhcmVkIGZv\nciBlcXVhbGl0eSB3aXRoIHRoaXMgc2V0CiAgICAgKiBAcmV0dXJuIHtAY29k\nZSB0cnVlfSBpZiB0aGUgc3BlY2lmaWVkIG9iamVjdCBpcyBlcXVhbCB0byB0\naGlzIHNldAogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVhbHMoT2Jq\nZWN0IG8pIHsKICAgICAgICBpZiAobyA9PSB0aGlzKQogICAgICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgU2V0KSkK\nICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIFNldCBzZXQgPSAo\nU2V0KSAobyk7CiAgICAgICAgSXRlcmF0b3IgaXQgPSBzZXQuaXRlcmF0b3Io\nKTsKCiAgICAgICAgLy8gVXNlcyBPKG5eMikgYWxnb3JpdGhtIHRoYXQgaXMg\nb25seSBhcHByb3ByaWF0ZQogICAgICAgIC8vIGZvciBzbWFsbCBzZXRzLCB3\naGljaCBDb3B5T25Xcml0ZUFycmF5U2V0cyBzaG91bGQgYmUuCgogICAgICAg\nIC8vICBVc2UgYSBzaW5nbGUgc25hcHNob3Qgb2YgdW5kZXJseWluZyBhcnJh\neQogICAgICAgIE9iamVjdFtdIGVsZW1lbnRzID0gYWwuZ2V0QXJyYXkoKTsK\nICAgICAgICBpbnQgbGVuID0gZWxlbWVudHMubGVuZ3RoOwogICAgICAgIC8v\nIE1hcmsgbWF0Y2hlZCBlbGVtZW50cyB0byBhdm9pZCByZS1jaGVja2luZwog\nICAgICAgIGJvb2xlYW5bXSBtYXRjaGVkID0gbmV3IGJvb2xlYW5bbGVuXTsK\nICAgICAgICBpbnQgayA9IDA7CiAgICAgICAgb3V0ZXI6CiAgICAgICAgd2hp\nbGUgKGl0Lmhhc05leHQoKSkgewogICAgICAgICAgICBpZiAoKytrID4gbGVu\nKQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBP\nYmplY3QgeCA9IGl0Lm5leHQoKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9\nIDA7IGkgPCBsZW47ICsraSkgewogICAgICAgICAgICAgICAgaWYgKCFtYXRj\naGVkW2ldICYmIGVxKHgsIGVsZW1lbnRzW2ldKSkgewogICAgICAgICAgICAg\nICAgICAgIG1hdGNoZWRbaV0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAg\nIGNvbnRpbnVlIG91dGVyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAg\nICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIGsgPT0gbGVuOwogICAgfQoKICAgIC8qKgogICAgICogVGVz\ndCBmb3IgZXF1YWxpdHksIGNvcGluZyB3aXRoIG51bGxzLgogICAgICovCiAg\nICBwcml2YXRlIHN0YXRpYyBib29sZWFuIGVxKE9iamVjdCBvMSwgT2JqZWN0\nIG8yKSB7CiAgICAgICAgcmV0dXJuIChvMSA9PSBudWxsID8gbzIgPT0gbnVs\nbCA6IG8xLmVxdWFscyhvMikpOwogICAgfQp9Cg==\n","encoding":"base64"}

