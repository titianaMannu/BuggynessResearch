{"sha":"1cd6a95f4849040e739d260bbbbf3c9dcff64f67","node_id":"MDQ6QmxvYjIwNjM2NDoxY2Q2YTk1ZjQ4NDkwNDBlNzM5ZDI2MGJiYmJmM2M5ZGNmZjY0ZjY3","size":32879,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1cd6a95f4849040e739d260bbbbf3c9dcff64f67","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwovKgogKiBXcml0dGVuIGJ5IERv\ndWcgTGVhIHdpdGggYXNzaXN0YW5jZSBmcm9tIG1lbWJlcnMgb2YgSkNQIEpT\nUi0xNjYKICogRXhwZXJ0IEdyb3VwIGFuZCByZWxlYXNlZCB0byB0aGUgcHVi\nbGljIGRvbWFpbiwgYXMgZXhwbGFpbmVkIGF0CiAqIGh0dHA6Ly9jcmVhdGl2\nZWNvbW1vbnMub3JnL2xpY2Vuc2VzL3B1YmxpY2RvbWFpbgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVudDsKCmlt\ncG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKCi8qKgogKiBBIHJlZW50cmFu\ndCBtdXR1YWwgZXhjbHVzaW9uIHtAbGluayBMb2NrfSB3aXRoIHRoZSBzYW1l\nIGJhc2ljCiAqIGJlaGF2aW9yIGFuZCBzZW1hbnRpY3MgYXMgdGhlIGltcGxp\nY2l0IG1vbml0b3IgbG9jayBhY2Nlc3NlZCB1c2luZwogKiA8dHQ+c3luY2hy\nb25pemVkPC90dD4gbWV0aG9kcyBhbmQgc3RhdGVtZW50cywgYnV0IHdpdGgg\nZXh0ZW5kZWQgY2FwYWJpbGl0aWVzLgogKiBBIDx0dD5SZWVudHJhbnRMb2Nr\nPC90dD4gaXMgPGVtPm93bmVkPC9lbT4gYnkgdGhlIHRocmVhZCBsYXN0CiAq\nIHN1Y2Nlc3NmdWxseSBsb2NraW5nLCBidXQgbm90IHlldCB1bmxvY2tpbmcg\naXQuIEEgdGhyZWFkIGludm9raW5nCiAqIDx0dD5sb2NrPC90dD4gd2lsbCBy\nZXR1cm4sIHN1Y2Nlc3NmdWxseSBhY3F1aXJpbmcgdGhlIGxvY2ssIHdoZW4K\nICogdGhlIGxvY2sgaXMgbm90IG93bmVkIGJ5IGFub3RoZXIgdGhyZWFkLiBU\naGUgbWV0aG9kIHdpbGwgcmV0dXJuCiAqIGltbWVkaWF0ZWx5IGlmIHRoZSBj\ndXJyZW50IHRocmVhZCBhbHJlYWR5IG93bnMgdGhlIGxvY2suIFRoaXMgY2Fu\nCiAqIGJlIGNoZWNrZWQgdXNpbmcgbWV0aG9kcyB7QGxpbmsgI2lzSGVsZEJ5\nQ3VycmVudFRocmVhZH0sIGFuZCB7QGxpbmsKICogI2dldEhvbGRDb3VudH0u\nIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhpcyBjbGFzcyBhY2NlcHRzIGFuIG9w\ndGlvbmFsCiAqIDxlbT5mYWlybmVzczwvZW0+IHBhcmFtZXRlci4gV2hlbiBz\nZXQgPHR0PnRydWU8L3R0PiwgdW5kZXIKICogY29udGVudGlvbiwgbG9ja3Mg\nZmF2b3IgZ3JhbnRpbmcgYWNjZXNzIHRvIHRoZSBsb25nZXN0LXdhaXRpbmcK\nICogdGhyZWFkLiBPdGhlcndpc2UgdGhpcyBsb2NrIGRvZXMgbm90IGd1YXJh\nbnRlZSBhbnkgcGFydGljdWxhcgogKiBhY2Nlc3Mgb3JkZXIuIFByb2dyYW1z\nIHVzaW5nIGZhaXIgbG9ja3MgYWNjZXNzZWQgYnkgbWFueSB0aHJlYWRzCiAq\nIG1heSBkaXNwbGF5IGxvd2VyIG92ZXJhbGwgdGhyb3VnaHB1dChpLmUuLCBh\ncmUgc2xvd2VyOyBvZnRlbiBtdWNoCiAqIHNsb3dlcikgdGhhbiB0aG9zZSB1\nc2luZyB0aGUgZGVmYXVsdCBzZXR0aW5nLCBidXQgaGF2ZSBzbWFsbGVyCiAq\nIHZhcmlhbmNlcyBpbiB0aW1lcyB0byBvYnRhaW4gbG9ja3MgYW5kIGd1YXJh\nbnRlZSBsYWNrIG9mCiAqIHN0YXJ2YXRpb24uIE5vdGUgaG93ZXZlciwgdGhh\ndCBmYWlybmVzcyBvZiBsb2NrcyBkb2VzIG5vdCBndWFyYW50ZWUKICogZmFp\ncm5lc3Mgb2YgdGhyZWFkIHNjaGVkdWxpbmcuIFRodXMsIG9uZSBvZiBtYW55\nIHRocmVhZHMgdXNpbmcgYQogKiBmYWlyIGxvY2sgbWF5IG9idGFpbiBpdCBt\ndWx0aXBsZSB0aW1lcyBpbiBzdWNjZXNzaW9uIHdoaWxlIG90aGVyCiAqIGFj\ndGl2ZSB0aHJlYWRzIGFyZSBub3QgcHJvZ3Jlc3NpbmcgYW5kIG5vdCBjdXJy\nZW50bHkgaG9sZGluZyB0aGUgbG9jay4KICogQWxzbyBub3RlIHRoYXQgdGhl\nIHVudGltZWQge0BsaW5rICN0cnlMb2NrKCkgdHJ5TG9ja30gbWV0aG9kIGRv\nZXMgbm90CiAqIGhvbm9yIHRoZSBmYWlybmVzcyBzZXR0aW5nLiBJdCB3aWxs\nIHN1Y2NlZWQgaWYgdGhlIGxvY2sKICogaXMgYXZhaWxhYmxlIGV2ZW4gaWYg\nb3RoZXIgdGhyZWFkcyBhcmUgd2FpdGluZy4KICogSXQgaXMgcmVjb21tZW5k\nZWQgcHJhY3RpY2UgdG8gPGVtPmFsd2F5czwvZW0+IGltbWVkaWF0ZWx5CiAq\nIGZvbGxvdyBhIGNhbGwgdG8gPHR0PmxvY2s8L3R0PiB3aXRoIGEgPHR0PnRy\neTwvdHQ+IGJsb2NrLCBtb3N0CiAqIHR5cGljYWxseSBpbiBhIGJlZm9yZS9h\nZnRlciBjb25zdHJ1Y3Rpb24gc3VjaCBhczoKICogCiAqIDxwcmU+IGNsYXNz\nIFggeyBwcml2YXRlIGZpbmFsIFJlZW50cmFudExvY2sgbG9jayA9IG5ldyBS\nZWVudHJhbnRMb2NrKCk7CiAqIC8vIC4uLiBwdWJsaWMgdm9pZCBtKCkgeyBs\nb2NrLmxvY2soKTsgLy8gYmxvY2sgdW50aWwgY29uZGl0aW9uIGhvbGRzIHRy\neSB7CiAqIC8vIC4uLiBtZXRob2QgYm9keSB9IGZpbmFsbHkgeyBsb2NrLnVu\nbG9jaygpIH0gfSB9CiAqIDwvcHJlPiBJbiBhZGRpdGlvbiB0byBpbXBsZW1l\nbnRpbmcgdGhlIHtAbGluayBMb2NrfSBpbnRlcmZhY2UsIHRoaXMKICogY2xh\nc3MgZGVmaW5lcyBtZXRob2RzIDx0dD5pc0xvY2tlZDwvdHQ+IGFuZAogKiA8\ndHQ+Z2V0TG9ja1F1ZXVlTGVuZ3RoPC90dD4sIGFzIHdlbGwgYXMgc29tZSBh\nc3NvY2lhdGVkCiAqIDx0dD5wcm90ZWN0ZWQ8L3R0PiBhY2Nlc3MgbWV0aG9k\ncyB0aGF0IG1heSBiZSB1c2VmdWwgZm9yCiAqIGluc3RydW1lbnRhdGlvbiBh\nbmQgbW9uaXRvcmluZy4KICogU2VyaWFsaXphdGlvbiBvZiB0aGlzIGNsYXNz\nIGJlaGF2ZXMgaW4gdGhlIHNhbWUgd2F5IGFzIGJ1aWx0LWluCiAqIGxvY2tz\nOiBhIGRlc2VyaWFsaXplZCBsb2NrIGlzIGluIHRoZSB1bmxvY2tlZCBzdGF0\nZSwgcmVnYXJkbGVzcyBvZgogKiBpdHMgc3RhdGUgd2hlbiBzZXJpYWxpemVk\nLgogKiBUaGlzIGxvY2sgc3VwcG9ydHMgYSBtYXhpbXVtIG9mIDIxNDc0ODM2\nNDcgcmVjdXJzaXZlIGxvY2tzIGJ5CiAqIHRoZSBzYW1lIHRocmVhZC4gQXR0\nZW1wdHMgdG8gZXhjZWVkIHRoaXMgbGltaXQgcmVzdWx0IGluCiAqIHtAbGlu\nayBFcnJvcn0gdGhyb3dzIGZyb20gbG9ja2luZyBtZXRob2RzLgogKgogKiBA\nYXV0aG9yIERvdWcgTGVhCiAqIEBhdXRob3IgRGF3aWQgS3VyenluaWVjCiAq\nIEBzaW5jZSAxLjUKICovCnB1YmxpYyBjbGFzcyBSZWVudHJhbnRMb2NrIGlt\ncGxlbWVudHMgTG9jaywgamF2YS5pby5TZXJpYWxpemFibGUsCiAgICBDb25k\nVmFyLkV4Y2x1c2l2ZUxvY2sgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFs\nIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDczNzM5ODQ4NzI1NzI0MTQ2OTlM\nOwoKICAgIHByaXZhdGUgZmluYWwgU3luYyBzeW5jOwoKICAgIHN0YXRpYyBh\nYnN0cmFjdCBjbGFzcyBTeW5jIGltcGxlbWVudHMgamF2YS5pby5TZXJpYWxp\nemFibGUgewoKICAgICAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNl\ncmlhbFZlcnNpb25VSUQgPSAtNTE3OTUyMzc2MjAzNDAyNTg2MEw7CgogICAg\nICAgIHByb3RlY3RlZCB0cmFuc2llbnQgVGhyZWFkIG93bmVyXyA9IG51bGw7\nCiAgICAgICAgcHJvdGVjdGVkIHRyYW5zaWVudCBpbnQgaG9sZHNfID0gMDsK\nCiAgICAgICAgcHJvdGVjdGVkIFN5bmMoKSB7CiAgICAgICAgfQoKICAgICAg\nICBwdWJsaWMgYWJzdHJhY3Qgdm9pZCBsb2NrKCk7CgogICAgICAgIHB1Ymxp\nYyBhYnN0cmFjdCB2b2lkIGxvY2tJbnRlcnJ1cHRpYmx5KCkgdGhyb3dzIElu\ndGVycnVwdGVkRXhjZXB0aW9uOwoKICAgICAgICBmaW5hbCB2b2lkIGluY0hv\nbGRzKCkgewogICAgICAgICAgICBpbnQgbmV4dEhvbGRzID0gKytob2xkc187\nCiAgICAgICAgICAgIGlmIChuZXh0SG9sZHMgPCAwKQogICAgICAgICAgICAg\nICAgdGhyb3cgbmV3IEVycm9yKCJNYXhpbXVtIGxvY2sgY291bnQgZXhjZWVk\nZWQiKTsKICAgICAgICAgICAgaG9sZHNfID0gbmV4dEhvbGRzOwogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIGJvb2xlYW4gdHJ5TG9jaygpIHsKICAgICAg\nICAgICAgVGhyZWFkIGNhbGxlciA9IFRocmVhZC5jdXJyZW50VGhyZWFkKCk7\nCiAgICAgICAgICAgIHN5bmNocm9uaXplZCAodGhpcykgewogICAgICAgICAg\nICAgICAgaWYgKG93bmVyXyA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAg\nICAgb3duZXJfID0gY2FsbGVyOwogICAgICAgICAgICAgICAgICAgIGhvbGRz\nXyA9IDE7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAg\nICAgICAgICAgICB9IGVsc2UgaWYgKGNhbGxlciA9PSBvd25lcl8pIHsKICAg\nICAgICAgICAgICAgICAgICBpbmNIb2xkcygpOwogICAgICAgICAgICAgICAg\nICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAg\nICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAg\nICAgIHB1YmxpYyBhYnN0cmFjdCBib29sZWFuIHRyeUxvY2sobG9uZyBuYW5v\ncykgdGhyb3dzIEludGVycnVwdGVkRXhjZXB0aW9uOwoKICAgICAgICBwdWJs\naWMgYWJzdHJhY3Qgdm9pZCB1bmxvY2soKTsKCiAgICAgICAgcHVibGljIHN5\nbmNocm9uaXplZCBpbnQgZ2V0SG9sZENvdW50KCkgewogICAgICAgICAgICBy\nZXR1cm4gaXNIZWxkQnlDdXJyZW50VGhyZWFkKCkgPyBob2xkc18gOiAwOwog\nICAgICAgIH0KCiAgICAgICAgcHVibGljIHN5bmNocm9uaXplZCBib29sZWFu\nIGlzSGVsZEJ5Q3VycmVudFRocmVhZCgpIHsKICAgICAgICAgICAgcmV0dXJu\nIGhvbGRzXyA+IDAgJiYgVGhyZWFkLmN1cnJlbnRUaHJlYWQoKSA9PSBvd25l\ncl87CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3luY2hyb25pemVkIGJv\nb2xlYW4gaXNMb2NrZWQoKSB7CiAgICAgICAgICAgIHJldHVybiBvd25lcl8g\nIT0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBhYnN0cmFjdCBi\nb29sZWFuIGlzRmFpcigpOwoKICAgICAgICBwcm90ZWN0ZWQgc3luY2hyb25p\nemVkIFRocmVhZCBnZXRPd25lcigpIHsKICAgICAgICAgICAgcmV0dXJuIG93\nbmVyXzsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBib29sZWFuIGhhc1F1\nZXVlZFRocmVhZHMoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigiVXNlIEZBSVIgdmVyc2lvbiIpOwog\nICAgICAgIH0KCiAgICAgICAgcHVibGljIGludCBnZXRRdWV1ZUxlbmd0aCgp\nIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCJVc2UgRkFJUiB2ZXJzaW9uIik7CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgQ29sbGVjdGlvbiBnZXRRdWV1ZWRUaHJlYWRzKCkgewog\nICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oIlVzZSBGQUlSIHZlcnNpb24iKTsKICAgICAgICB9CgogICAgICAg\nIHB1YmxpYyBib29sZWFuIGlzUXVldWVkKFRocmVhZCB0aHJlYWQpIHsKICAg\nICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCJVc2UgRkFJUiB2ZXJzaW9uIik7CiAgICAgICAgfQogICAgfQoKICAg\nIGZpbmFsIHN0YXRpYyBjbGFzcyBOb25mYWlyU3luYyBleHRlbmRzIFN5bmMg\newoKICAgICAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZl\ncnNpb25VSUQgPSA3MzE2MTUzNTYzNzgyODIzNjkxTDsKCiAgICAgICAgTm9u\nZmFpclN5bmMoKSB7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBs\nb2NrKCkgewogICAgICAgICAgICBUaHJlYWQgY2FsbGVyID0gVGhyZWFkLmN1\ncnJlbnRUaHJlYWQoKTsKICAgICAgICAgICAgc3luY2hyb25pemVkICh0aGlz\nKSB7CiAgICAgICAgICAgICAgICBpZiAob3duZXJfID09IG51bGwpIHsKICAg\nICAgICAgICAgICAgICAgICBvd25lcl8gPSBjYWxsZXI7CiAgICAgICAgICAg\nICAgICAgICAgaG9sZHNfID0gMTsKICAgICAgICAgICAgICAgICAgICByZXR1\ncm47CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhbGxlciA9PSBvd25l\ncl8pIHsKICAgICAgICAgICAgICAgICAgICBpbmNIb2xkcygpOwogICAgICAg\nICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7\nCiAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiB3YXNJbnRlcnJ1cHRlZCA9\nIFRocmVhZC5pbnRlcnJ1cHRlZCgpOwogICAgICAgICAgICAgICAgICAgIHRy\neSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7CiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIHdhaXQoKTsKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGUpIHsK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXNJbnRlcnJ1cHRl\nZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g\nbm8gbmVlZCB0byBub3RpZnk7IGlmIHdlIHdlcmUgc2lnbmFsbGVkLCB3ZQog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgYWN0IGFz\nIHNpZ25hbGxlZCwgaWdub3JpbmcgdGhlCiAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgLy8gaW50ZXJydXB0aW9uCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAo\nb3duZXJfID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBvd25lcl8gPSBjYWxsZXI7CiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgaG9sZHNfID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAg\nICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAod2Fz\nSW50ZXJydXB0ZWQpIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuaW50ZXJydXB0\nKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBs\nb2NrSW50ZXJydXB0aWJseSgpIHRocm93cyBJbnRlcnJ1cHRlZEV4Y2VwdGlv\nbiB7CiAgICAgICAgICAgIGlmIChUaHJlYWQuaW50ZXJydXB0ZWQoKSkgdGhy\nb3cgbmV3IEludGVycnVwdGVkRXhjZXB0aW9uKCk7CiAgICAgICAgICAgIFRo\ncmVhZCBjYWxsZXIgPSBUaHJlYWQuY3VycmVudFRocmVhZCgpOwogICAgICAg\nICAgICBzeW5jaHJvbml6ZWQgKHRoaXMpIHsKICAgICAgICAgICAgICAgIGlm\nIChvd25lcl8gPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIG93bmVy\nXyA9IGNhbGxlcjsKICAgICAgICAgICAgICAgICAgICBob2xkc18gPSAxOwog\nICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0g\nZWxzZSBpZiAoY2FsbGVyID09IG93bmVyXykgewogICAgICAgICAgICAgICAg\nICAgIGluY0hvbGRzKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwog\nICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0\ncnkgewogICAgICAgICAgICAgICAgICAgICAgICBkbyB7CiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICB3YWl0KCk7CiAgICAgICAgICAgICAgICAgICAg\nICAgIH0gd2hpbGUgKG93bmVyXyAhPSBudWxsKTsKICAgICAgICAgICAgICAg\nICAgICAgICAgb3duZXJfID0gY2FsbGVyOwogICAgICAgICAgICAgICAgICAg\nICAgICBob2xkc18gPSAxOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1\ncm47CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRF\neGNlcHRpb24gZXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG93\nbmVyXyA9PSBudWxsKSBub3RpZnkoKTsKICAgICAgICAgICAgICAgICAgICAg\nICAgdGhyb3cgZXg7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJs\naWMgYm9vbGVhbiB0cnlMb2NrKGxvbmcgbmFub3MpIHRocm93cyBJbnRlcnJ1\ncHRlZEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIGlmIChUaHJlYWQuaW50ZXJy\ndXB0ZWQoKSkgdGhyb3cgbmV3IEludGVycnVwdGVkRXhjZXB0aW9uKCk7CiAg\nICAgICAgICAgIFRocmVhZCBjYWxsZXIgPSBUaHJlYWQuY3VycmVudFRocmVh\nZCgpOwoKICAgICAgICAgICAgc3luY2hyb25pemVkICh0aGlzKSB7CiAgICAg\nICAgICAgICAgICBpZiAob3duZXJfID09IG51bGwpIHsKICAgICAgICAgICAg\nICAgICAgICBvd25lcl8gPSBjYWxsZXI7CiAgICAgICAgICAgICAgICAgICAg\naG9sZHNfID0gMTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsK\nICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbGVyID09IG93bmVyXykg\newogICAgICAgICAgICAgICAgICAgIGluY0hvbGRzKCk7CiAgICAgICAgICAg\nICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2Ug\naWYgKG5hbm9zIDw9IDApCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZh\nbHNlOwogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAg\nICAgbG9uZyBkZWFkbGluZSA9IFV0aWxzLm5hbm9UaW1lKCkgKyBuYW5vczsK\nICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAg\nICAgICBmb3IgKDsgOykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nVGltZVVuaXQuTkFOT1NFQ09ORFMudGltZWRXYWl0KHRoaXMsIG5hbm9zKTsK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsZXIgPT0gb3du\nZXJfKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jSG9s\nZHMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4g\ndHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAo\nb3duZXJfID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBvd25lcl8gPSBjYWxsZXI7CiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgaG9sZHNfID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nbmFub3MgPSBkZWFkbGluZSAtIFV0aWxzLm5hbm9UaW1lKCk7CiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbm9zIDw9IDApCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEludGVy\ncnVwdGVkRXhjZXB0aW9uIGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAg\nIGlmIChvd25lcl8gPT0gbnVsbCkgbm90aWZ5KCk7CiAgICAgICAgICAgICAg\nICAgICAgICAgIHRocm93IGV4OwogICAgICAgICAgICAgICAgICAgIH0KICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAg\nICAgcHVibGljIHN5bmNocm9uaXplZCB2b2lkIHVubG9jaygpIHsKICAgICAg\nICAgICAgaWYgKFRocmVhZC5jdXJyZW50VGhyZWFkKCkgIT0gb3duZXJfKQog\nICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxNb25pdG9yU3RhdGVF\neGNlcHRpb24oIk5vdCBvd25lciIpOwoKICAgICAgICAgICAgaWYgKC0taG9s\nZHNfID09IDApIHsKICAgICAgICAgICAgICAgIG93bmVyXyA9IG51bGw7CiAg\nICAgICAgICAgICAgICBub3RpZnkoKTsKICAgICAgICAgICAgfQogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIGZpbmFsIGJvb2xlYW4gaXNGYWlyKCkgewog\nICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAg\nIGZpbmFsIHN0YXRpYyBjbGFzcyBGYWlyU3luYyBleHRlbmRzIFN5bmMgaW1w\nbGVtZW50cyBXYWl0UXVldWUuUXVldWVkU3luYyB7CgogICAgICAgIHByaXZh\ndGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IC0zMDAw\nODk3ODk3MDkwNDY2NTQwTDsKCiAgICAgICAgcHJpdmF0ZSB0cmFuc2llbnQg\nV2FpdFF1ZXVlIHdxXyA9IG5ldyBGSUZPV2FpdFF1ZXVlKCk7CgogICAgICAg\nIEZhaXJTeW5jKCkgewogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN5bmNo\ncm9uaXplZCBib29sZWFuIHJlY2hlY2soV2FpdFF1ZXVlLldhaXROb2RlIG5v\nZGUpIHsKICAgICAgICAgICAgVGhyZWFkIGNhbGxlciA9IFRocmVhZC5jdXJy\nZW50VGhyZWFkKCk7CiAgICAgICAgICAgIGlmIChvd25lcl8gPT0gbnVsbCkg\newogICAgICAgICAgICAgICAgb3duZXJfID0gY2FsbGVyOwogICAgICAgICAg\nICAgICAgaG9sZHNfID0gMTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVl\nOwogICAgICAgICAgICB9IGVsc2UgaWYgKGNhbGxlciA9PSBvd25lcl8pIHsK\nICAgICAgICAgICAgICAgIGluY0hvbGRzKCk7CiAgICAgICAgICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB3cV8uaW5z\nZXJ0KG5vZGUpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgc3luY2hyb25pemVkIHZvaWQgdGFrZU92ZXIo\nV2FpdFF1ZXVlLldhaXROb2RlIG5vZGUpIHsKICAgICAgICAgICAgLy8gYXNz\nZXJ0KGhvbGRzXyA9PSAxICYmIG93bmVyXyA9PSBUaHJlYWQuY3VycmVudFRo\ncmVhZCgpCiAgICAgICAgICAgIG93bmVyXyA9IG5vZGUuZ2V0T3duZXIoKTsK\nICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGxvY2soKSB7CiAgICAg\nICAgICAgIFRocmVhZCBjYWxsZXIgPSBUaHJlYWQuY3VycmVudFRocmVhZCgp\nOwogICAgICAgICAgICBzeW5jaHJvbml6ZWQgKHRoaXMpIHsKICAgICAgICAg\nICAgICAgIGlmIChvd25lcl8gPT0gbnVsbCkgewogICAgICAgICAgICAgICAg\nICAgIG93bmVyXyA9IGNhbGxlcjsKICAgICAgICAgICAgICAgICAgICBob2xk\nc18gPSAxOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAg\nICAgICAgIH0gZWxzZSBpZiAoY2FsbGVyID09IG93bmVyXykgewogICAgICAg\nICAgICAgICAgICAgIGluY0hvbGRzKCk7CiAgICAgICAgICAgICAgICAgICAg\ncmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAg\nICAgICAgIFdhaXRRdWV1ZS5XYWl0Tm9kZSBuID0gbmV3IFdhaXRRdWV1ZS5X\nYWl0Tm9kZSgpOwogICAgICAgICAgICBuLmRvV2FpdFVuaW50ZXJydXB0aWJs\neSh0aGlzKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGxvY2tJ\nbnRlcnJ1cHRpYmx5KCkgdGhyb3dzIEludGVycnVwdGVkRXhjZXB0aW9uIHsK\nICAgICAgICAgICAgaWYgKFRocmVhZC5pbnRlcnJ1cHRlZCgpKSB0aHJvdyBu\nZXcgSW50ZXJydXB0ZWRFeGNlcHRpb24oKTsKICAgICAgICAgICAgVGhyZWFk\nIGNhbGxlciA9IFRocmVhZC5jdXJyZW50VGhyZWFkKCk7CiAgICAgICAgICAg\nIHN5bmNocm9uaXplZCAodGhpcykgewogICAgICAgICAgICAgICAgaWYgKG93\nbmVyXyA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgb3duZXJfID0g\nY2FsbGVyOwogICAgICAgICAgICAgICAgICAgIGhvbGRzXyA9IDE7CiAgICAg\nICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNl\nIGlmIChjYWxsZXIgPT0gb3duZXJfKSB7CiAgICAgICAgICAgICAgICAgICAg\naW5jSG9sZHMoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgV2FpdFF1\nZXVlLldhaXROb2RlIG4gPSBuZXcgV2FpdFF1ZXVlLldhaXROb2RlKCk7CiAg\nICAgICAgICAgIG4uZG9XYWl0KHRoaXMpOwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIGJvb2xlYW4gdHJ5TG9jayhsb25nIG5hbm9zKSB0aHJvd3MgSW50\nZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAgICAgICBpZiAoVGhyZWFkLmlu\ndGVycnVwdGVkKCkpIHRocm93IG5ldyBJbnRlcnJ1cHRlZEV4Y2VwdGlvbigp\nOwogICAgICAgICAgICBUaHJlYWQgY2FsbGVyID0gVGhyZWFkLmN1cnJlbnRU\naHJlYWQoKTsKICAgICAgICAgICAgc3luY2hyb25pemVkICh0aGlzKSB7CiAg\nICAgICAgICAgICAgICBpZiAob3duZXJfID09IG51bGwpIHsKICAgICAgICAg\nICAgICAgICAgICBvd25lcl8gPSBjYWxsZXI7CiAgICAgICAgICAgICAgICAg\nICAgaG9sZHNfID0gMTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1\nZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbGVyID09IG93bmVy\nXykgewogICAgICAgICAgICAgICAgICAgIGluY0hvbGRzKCk7CiAgICAgICAg\nICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAg\nICAgICAgICAgIH0KICAgICAgICAgICAgV2FpdFF1ZXVlLldhaXROb2RlIG4g\nPSBuZXcgV2FpdFF1ZXVlLldhaXROb2RlKCk7CiAgICAgICAgICAgIHJldHVy\nbiBuLmRvVGltZWRXYWl0KHRoaXMsIG5hbm9zKTsKICAgICAgICB9CgogICAg\nICAgIHByb3RlY3RlZCBzeW5jaHJvbml6ZWQgV2FpdFF1ZXVlLldhaXROb2Rl\nIGdldFNpZ25hbGxlZShUaHJlYWQgY2FsbGVyKSB7CiAgICAgICAgICAgIGlm\nIChjYWxsZXIgIT0gb3duZXJfKQogICAgICAgICAgICAgICAgdGhyb3cgbmV3\nIElsbGVnYWxNb25pdG9yU3RhdGVFeGNlcHRpb24oIk5vdCBvd25lciIpOwog\nICAgICAgICAgICAvLyBhc3NlcnQoaG9sZHNfID4gMCkKICAgICAgICAgICAg\naWYgKGhvbGRzXyA+PSAyKSB7IC8vIGN1cnJlbnQgdGhyZWFkIHdpbGwga2Vl\ncCB0aGUgbG9jawogICAgICAgICAgICAgICAgLS1ob2xkc187CiAgICAgICAg\nICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAg\nICAvLyBhc3NlcnQoaG9sZHNfID09IDEpCiAgICAgICAgICAgIFdhaXRRdWV1\nZS5XYWl0Tm9kZSB3ID0gd3FfLmV4dHJhY3QoKTsKICAgICAgICAgICAgaWYg\nKHcgPT0gbnVsbCkgeyAvLyBpZiBub25lLCBjbGVhciBmb3IgbmV3IGFycml2\nYWxzCiAgICAgICAgICAgICAgICBvd25lcl8gPSBudWxsOwogICAgICAgICAg\nICAgICAgaG9sZHNfID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBy\nZXR1cm4gdzsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHVubG9j\naygpIHsKICAgICAgICAgICAgVGhyZWFkIGNhbGxlciA9IFRocmVhZC5jdXJy\nZW50VGhyZWFkKCk7CiAgICAgICAgICAgIGZvciAoOyA7KSB7CiAgICAgICAg\nICAgICAgICBXYWl0UXVldWUuV2FpdE5vZGUgdyA9IGdldFNpZ25hbGxlZShj\nYWxsZXIpOwogICAgICAgICAgICAgICAgaWYgKHcgPT0gbnVsbCkgcmV0dXJu\nOyAvLyBubyBvbmUgdG8gc2lnbmFsCiAgICAgICAgICAgICAgICBpZiAody5z\naWduYWwodGhpcykpIHJldHVybjsgLy8gbm90aWZ5IGlmIHN0aWxsIHdhaXRp\nbmcsIG9yIHNraXAKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIGZpbmFsIGJvb2xlYW4gaXNGYWlyKCkgewogICAgICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzeW5jaHJv\nbml6ZWQgYm9vbGVhbiBoYXNRdWV1ZWRUaHJlYWRzKCkgewogICAgICAgICAg\nICByZXR1cm4gd3FfLmhhc05vZGVzKCk7CiAgICAgICAgfQoKICAgICAgICBw\ndWJsaWMgc3luY2hyb25pemVkIGludCBnZXRRdWV1ZUxlbmd0aCgpIHsKICAg\nICAgICAgICAgcmV0dXJuIHdxXy5nZXRMZW5ndGgoKTsKICAgICAgICB9Cgog\nICAgICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgQ29sbGVjdGlvbiBnZXRRdWV1\nZWRUaHJlYWRzKCkgewogICAgICAgICAgICByZXR1cm4gd3FfLmdldFdhaXRp\nbmdUaHJlYWRzKCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3luY2hy\nb25pemVkIGJvb2xlYW4gaXNRdWV1ZWQoVGhyZWFkIHRocmVhZCkgewogICAg\nICAgICAgICByZXR1cm4gd3FfLmlzV2FpdGluZyh0aHJlYWQpOwogICAgICAg\nIH0KCiAgICAgICAgcHJpdmF0ZSB2b2lkIHJlYWRPYmplY3QoamF2YS5pby5P\nYmplY3RJbnB1dFN0cmVhbSBpbikKICAgICAgICAgICAgdGhyb3dzIGphdmEu\naW8uSU9FeGNlcHRpb24sIENsYXNzTm90Rm91bmRFeGNlcHRpb24gewogICAg\nICAgICAgICBpbi5kZWZhdWx0UmVhZE9iamVjdCgpOwogICAgICAgICAgICBz\neW5jaHJvbml6ZWQgKHRoaXMpIHsKICAgICAgICAgICAgICAgIHdxXyA9IG5l\ndyBGSUZPV2FpdFF1ZXVlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAg\nICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIDx0\ndD5SZWVudHJhbnRMb2NrPC90dD4uCiAgICAgKiBUaGlzIGlzIGVxdWl2YWxl\nbnQgdG8gdXNpbmcgPHR0PlJlZW50cmFudExvY2soZmFsc2UpPC90dD4uCiAg\nICAgKi8KICAgIHB1YmxpYyBSZWVudHJhbnRMb2NrKCkgewogICAgICAgIHN5\nbmMgPSBuZXcgTm9uZmFpclN5bmMoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgPHR0PlJlZW50cmFudExvY2s8L3R0\nPiB3aXRoIHRoZQogICAgICogZ2l2ZW4gZmFpcm5lc3MgcG9saWN5LgogICAg\nICoKICAgICAqIEBwYXJhbSBmYWlyIHRydWUgaWYgdGhpcyBsb2NrIHdpbGwg\nYmUgZmFpcjsgZWxzZSBmYWxzZQogICAgICovCiAgICBwdWJsaWMgUmVlbnRy\nYW50TG9jayhib29sZWFuIGZhaXIpIHsKICAgICAgICBzeW5jID0gKGZhaXIp\nID8gKFN5bmMpIG5ldyBGYWlyU3luYygpIDogbmV3IE5vbmZhaXJTeW5jKCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBBY3F1aXJlcyB0aGUgbG9jay4KICAg\nICAqIEFjcXVpcmVzIHRoZSBsb2NrIGlmIGl0IGlzIG5vdCBoZWxkIGJ5IGFu\nb3RoZXIgdGhyZWFkIGFuZCByZXR1cm5zCiAgICAgKiBpbW1lZGlhdGVseSwg\nc2V0dGluZyB0aGUgbG9jayBob2xkIGNvdW50IHRvIG9uZS4gSWYgdGhlIGN1\ncnJlbnQgdGhyZWFkCiAgICAgKiBhbHJlYWR5IGhvbGRzIHRoZSBsb2NrIHRo\nZW4gdGhlIGhvbGQgY291bnQgaXMgaW5jcmVtZW50ZWQgYnkgb25lIGFuZAog\nICAgICogdGhlIG1ldGhvZCByZXR1cm5zIGltbWVkaWF0ZWx5LgogICAgICog\nSWYgdGhlIGxvY2sgaXMgaGVsZCBieSBhbm90aGVyIHRocmVhZCB0aGVuIHRo\nZQogICAgICogY3VycmVudCB0aHJlYWQgYmVjb21lcyBkaXNhYmxlZCBmb3Ig\ndGhyZWFkIHNjaGVkdWxpbmcKICAgICAqIHB1cnBvc2VzIGFuZCBsaWVzIGRv\ncm1hbnQgdW50aWwgdGhlIGxvY2sgaGFzIGJlZW4gYWNxdWlyZWQsCiAgICAg\nKiBhdCB3aGljaCB0aW1lIHRoZSBsb2NrIGhvbGQgY291bnQgaXMgc2V0IHRv\nIG9uZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgbG9jaygpIHsKICAgICAg\nICBzeW5jLmxvY2soKTsKICAgIH0KCiAgICAvKioKICAgICAqIEFjcXVpcmVz\nIHRoZSBsb2NrIHVubGVzcyB0aGUgY3VycmVudCB0aHJlYWQgaXMKICAgICAq\nIHtAbGluayBUaHJlYWQjaW50ZXJydXB0IGludGVycnVwdGVkfS4KICAgICAq\nIEFjcXVpcmVzIHRoZSBsb2NrIGlmIGl0IGlzIG5vdCBoZWxkIGJ5IGFub3Ro\nZXIgdGhyZWFkIGFuZCByZXR1cm5zCiAgICAgKiBpbW1lZGlhdGVseSwgc2V0\ndGluZyB0aGUgbG9jayBob2xkIGNvdW50IHRvIG9uZS4KICAgICAqIElmIHRo\nZSBjdXJyZW50IHRocmVhZCBhbHJlYWR5IGhvbGRzIHRoaXMgbG9jayB0aGVu\nIHRoZSBob2xkIGNvdW50CiAgICAgKiBpcyBpbmNyZW1lbnRlZCBieSBvbmUg\nYW5kIHRoZSBtZXRob2QgcmV0dXJucyBpbW1lZGlhdGVseS4KICAgICAqIElm\nIHRoZSBsb2NrIGlzIGhlbGQgYnkgYW5vdGhlciB0aHJlYWQgdGhlbiB0aGUK\nICAgICAqIGN1cnJlbnQgdGhyZWFkIGJlY29tZXMgZGlzYWJsZWQgZm9yIHRo\ncmVhZCBzY2hlZHVsaW5nCiAgICAgKiBwdXJwb3NlcyBhbmQgbGllcyBkb3Jt\nYW50IHVudGlsIG9uZSBvZiB0d28gdGhpbmdzIGhhcHBlbnM6CiAgICAgKiAK\nICAgICAqIDx1bD4KICAgICAqIAogICAgICogPGxpPlRoZSBsb2NrIGlzIGFj\ncXVpcmVkIGJ5IHRoZSBjdXJyZW50IHRocmVhZDsgb3IKICAgICAqIAogICAg\nICogPGxpPlNvbWUgb3RoZXIgdGhyZWFkIHtAbGluayBUaHJlYWQjaW50ZXJy\ndXB0IGludGVycnVwdHN9IHRoZSBjdXJyZW50CiAgICAgKiB0aHJlYWQuCiAg\nICAgKiAKICAgICAqIDwvdWw+IElmIHRoZSBsb2NrIGlzIGFjcXVpcmVkIGJ5\nIHRoZSBjdXJyZW50IHRocmVhZCB0aGVuIHRoZSBsb2NrIGhvbGQKICAgICAq\nIGNvdW50IGlzIHNldCB0byBvbmUuIElmIHRoZSBjdXJyZW50IHRocmVhZDoK\nICAgICAqIAogICAgICogPHVsPgogICAgICogCiAgICAgKiA8bGk+aGFzIGl0\ncyBpbnRlcnJ1cHRlZCBzdGF0dXMgc2V0IG9uIGVudHJ5IHRvIHRoaXMgbWV0\naG9kOyBvcgogICAgICogCiAgICAgKiA8bGk+aXMge0BsaW5rIFRocmVhZCNp\nbnRlcnJ1cHQgaW50ZXJydXB0ZWR9IHdoaWxlIGFjcXVpcmluZyB0aGUgbG9j\naywKICAgICAqIAogICAgICogPC91bD4KICAgICAqIHRoZW4ge0BsaW5rIElu\ndGVycnVwdGVkRXhjZXB0aW9ufSBpcyB0aHJvd24gYW5kIHRoZSBjdXJyZW50\nIHRocmVhZCdzCiAgICAgKiBpbnRlcnJ1cHRlZCBzdGF0dXMgaXMgY2xlYXJl\nZC4KICAgICAqIEluIHRoaXMgaW1wbGVtZW50YXRpb24sIGFzIHRoaXMgbWV0\naG9kIGlzIGFuIGV4cGxpY2l0IGludGVycnVwdGlvbgogICAgICogcG9pbnQs\nIHByZWZlcmVuY2UgaXMKICAgICAqIGdpdmVuIHRvIHJlc3BvbmRpbmcgdG8g\ndGhlIGludGVycnVwdCBvdmVyIG5vcm1hbCBvciByZWVudHJhbnQKICAgICAq\nIGFjcXVpc2l0aW9uIG9mIHRoZSBsb2NrLgogICAgICoKICAgICAqIEB0aHJv\nd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24gaWYgdGhlIGN1cnJlbnQgdGhyZWFk\nIGlzIGludGVycnVwdGVkCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIGxvY2tJ\nbnRlcnJ1cHRpYmx5KCkgdGhyb3dzIEludGVycnVwdGVkRXhjZXB0aW9uIHsK\nICAgICAgICBzeW5jLmxvY2tJbnRlcnJ1cHRpYmx5KCk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBBY3F1aXJlcyB0aGUgbG9jayBvbmx5IGlmIGl0IGlzIG5v\ndCBoZWxkIGJ5IGFub3RoZXIgdGhyZWFkIGF0IHRoZSB0aW1lCiAgICAgKiBv\nZiBpbnZvY2F0aW9uLiBBY3F1aXJlcyB0aGUgbG9jayBpZiBpdCBpcyBub3Qg\naGVsZCBieSBhbm90aGVyIHRocmVhZCBhbmQKICAgICAqIHJldHVybnMgaW1t\nZWRpYXRlbHkgd2l0aCB0aGUgdmFsdWUgPHR0PnRydWU8L3R0Piwgc2V0dGlu\nZyB0aGUKICAgICAqIGxvY2sgaG9sZCBjb3VudCB0byBvbmUuIEV2ZW4gd2hl\nbiB0aGlzIGxvY2sgaGFzIGJlZW4gc2V0IHRvIHVzZSBhCiAgICAgKiBmYWly\nIG9yZGVyaW5nIHBvbGljeSwgYSBjYWxsIHRvIDx0dD50cnlMb2NrKCk8L3R0\nPiA8ZW0+d2lsbDwvZW0+CiAgICAgKiBpbW1lZGlhdGVseSBhY3F1aXJlIHRo\nZSBsb2NrIGlmIGl0IGlzIGF2YWlsYWJsZSwgd2hldGhlciBvciBub3QKICAg\nICAqIG90aGVyIHRocmVhZHMgYXJlIGN1cnJlbnRseSB3YWl0aW5nIGZvciB0\naGUgbG9jay4KICAgICAqIFRoaXMgJnF1b3Q7YmFyZ2luZyZxdW90OyBiZWhh\ndmlvciBjYW4gYmUgdXNlZnVsIGluIGNlcnRhaW4KICAgICAqIGNpcmN1bXN0\nYW5jZXMsIGV2ZW4gdGhvdWdoIGl0IGJyZWFrcyBmYWlybmVzcy4gSWYgeW91\nIHdhbnQgdG8gaG9ub3IKICAgICAqIHRoZSBmYWlybmVzcyBzZXR0aW5nIGZv\nciB0aGlzIGxvY2ssIHRoZW4gdXNlCiAgICAgKiB7QGxpbmsgI3RyeUxvY2so\nbG9uZywgVGltZVVuaXQpIHRyeUxvY2soMCwgVGltZVVuaXQuU0VDT05EUykg\nfQogICAgICogd2hpY2ggaXMgYWxtb3N0IGVxdWl2YWxlbnQoaXQgYWxzbyBk\nZXRlY3RzIGludGVycnVwdGlvbikuCiAgICAgKiBJZiB0aGUgY3VycmVudCB0\naHJlYWQKICAgICAqIGFscmVhZHkgaG9sZHMgdGhpcyBsb2NrIHRoZW4gdGhl\nIGhvbGQgY291bnQgaXMgaW5jcmVtZW50ZWQgYnkgb25lIGFuZAogICAgICog\ndGhlIG1ldGhvZCByZXR1cm5zIDx0dD50cnVlPC90dD4uCiAgICAgKiBJZiB0\naGUgbG9jayBpcyBoZWxkIGJ5IGFub3RoZXIgdGhyZWFkIHRoZW4gdGhpcyBt\nZXRob2Qgd2lsbCByZXR1cm4KICAgICAqIGltbWVkaWF0ZWx5IHdpdGggdGhl\nIHZhbHVlIDx0dD5mYWxzZTwvdHQ+LgogICAgICoKICAgICAqIEByZXR1cm4g\nPHR0PnRydWU8L3R0PiBpZiB0aGUgbG9jayB3YXMgZnJlZSBhbmQgd2FzIGFj\ncXVpcmVkIGJ5IHRoZQogICAgICogY3VycmVudCB0aHJlYWQsIG9yIHRoZSBs\nb2NrIHdhcyBhbHJlYWR5IGhlbGQgYnkgdGhlIGN1cnJlbnQgdGhyZWFkOyBh\nbmQKICAgICAqIDx0dD5mYWxzZTwvdHQ+IG90aGVyd2lzZS4KICAgICAqLwog\nICAgcHVibGljIGJvb2xlYW4gdHJ5TG9jaygpIHsKICAgICAgICByZXR1cm4g\nc3luYy50cnlMb2NrKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBY3F1aXJl\ncyB0aGUgbG9jayBpZiBpdCBpcyBub3QgaGVsZCBieSBhbm90aGVyIHRocmVh\nZCB3aXRoaW4gdGhlIGdpdmVuCiAgICAgKiB3YWl0aW5nIHRpbWUgYW5kIHRo\nZSBjdXJyZW50IHRocmVhZCBoYXMgbm90IGJlZW4KICAgICAqIHtAbGluayBU\naHJlYWQjaW50ZXJydXB0IGludGVycnVwdGVkfS4KICAgICAqIEFjcXVpcmVz\nIHRoZSBsb2NrIGlmIGl0IGlzIG5vdCBoZWxkIGJ5IGFub3RoZXIgdGhyZWFk\nIGFuZCByZXR1cm5zCiAgICAgKiBpbW1lZGlhdGVseSB3aXRoIHRoZSB2YWx1\nZSA8dHQ+dHJ1ZTwvdHQ+LCBzZXR0aW5nIHRoZSBsb2NrIGhvbGQgY291bnQK\nICAgICAqIHRvIG9uZS4gSWYgdGhpcyBsb2NrIGhhcyBiZWVuIHNldCB0byB1\nc2UgYSBmYWlyIG9yZGVyaW5nIHBvbGljeSB0aGVuCiAgICAgKiBhbiBhdmFp\nbGFibGUgbG9jayA8ZW0+d2lsbCBub3Q8L2VtPiBiZSBhY3F1aXJlZCBpZiBh\nbnkgb3RoZXIgdGhyZWFkcwogICAgICogYXJlIHdhaXRpbmcgZm9yIHRoZSBs\nb2NrLiBUaGlzIGlzIGluIGNvbnRyYXN0IHRvIHRoZSB7QGxpbmsgI3RyeUxv\nY2soKX0KICAgICAqIG1ldGhvZC4gSWYgeW91IHdhbnQgYSB0aW1lZCA8dHQ+\ndHJ5TG9jazwvdHQ+IHRoYXQgZG9lcyBwZXJtaXQgYmFyZ2luZyBvbgogICAg\nICogYSBmYWlyIGxvY2sgdGhlbiBjb21iaW5lIHRoZSB0aW1lZCBhbmQgdW4t\ndGltZWQgZm9ybXMgdG9nZXRoZXI6CiAgICAgKiAKICAgICAqIDxwcmU+aWYg\nKGxvY2sudHJ5TG9jaygpIHx8IGxvY2sudHJ5TG9jayh0aW1lb3V0LCB1bml0\nKSApIHsgLi4uIH0KICAgICAqIDwvcHJlPiBJZiB0aGUgY3VycmVudCB0aHJl\nYWQKICAgICAqIGFscmVhZHkgaG9sZHMgdGhpcyBsb2NrIHRoZW4gdGhlIGhv\nbGQgY291bnQgaXMgaW5jcmVtZW50ZWQgYnkgb25lIGFuZAogICAgICogdGhl\nIG1ldGhvZCByZXR1cm5zIDx0dD50cnVlPC90dD4uCiAgICAgKiBJZiB0aGUg\nbG9jayBpcyBoZWxkIGJ5IGFub3RoZXIgdGhyZWFkIHRoZW4gdGhlCiAgICAg\nKiBjdXJyZW50IHRocmVhZCBiZWNvbWVzIGRpc2FibGVkIGZvciB0aHJlYWQg\nc2NoZWR1bGluZwogICAgICogcHVycG9zZXMgYW5kIGxpZXMgZG9ybWFudCB1\nbnRpbCBvbmUgb2YgdGhyZWUgdGhpbmdzIGhhcHBlbnM6CiAgICAgKiAKICAg\nICAqIDx1bD4KICAgICAqIAogICAgICogPGxpPlRoZSBsb2NrIGlzIGFjcXVp\ncmVkIGJ5IHRoZSBjdXJyZW50IHRocmVhZDsgb3IKICAgICAqIAogICAgICog\nPGxpPlNvbWUgb3RoZXIgdGhyZWFkIHtAbGluayBUaHJlYWQjaW50ZXJydXB0\nIGludGVycnVwdHN9IHRoZSBjdXJyZW50CiAgICAgKiB0aHJlYWQ7IG9yCiAg\nICAgKiAKICAgICAqIDxsaT5UaGUgc3BlY2lmaWVkIHdhaXRpbmcgdGltZSBl\nbGFwc2VzCiAgICAgKiAKICAgICAqIDwvdWw+CiAgICAgKiBJZiB0aGUgbG9j\nayBpcyBhY3F1aXJlZCB0aGVuIHRoZSB2YWx1ZSA8dHQ+dHJ1ZTwvdHQ+IGlz\nIHJldHVybmVkIGFuZAogICAgICogdGhlIGxvY2sgaG9sZCBjb3VudCBpcyBz\nZXQgdG8gb25lLiBJZiB0aGUgY3VycmVudCB0aHJlYWQ6CiAgICAgKiAKICAg\nICAqIDx1bD4KICAgICAqIAogICAgICogPGxpPmhhcyBpdHMgaW50ZXJydXB0\nZWQgc3RhdHVzIHNldCBvbiBlbnRyeSB0byB0aGlzIG1ldGhvZDsgb3IKICAg\nICAqIAogICAgICogPGxpPmlzIHtAbGluayBUaHJlYWQjaW50ZXJydXB0IGlu\ndGVycnVwdGVkfSB3aGlsZSBhY3F1aXJpbmcgdGhlIGxvY2ssCiAgICAgKiAK\nICAgICAqIDwvdWw+CiAgICAgKiB0aGVuIHtAbGluayBJbnRlcnJ1cHRlZEV4\nY2VwdGlvbn0gaXMgdGhyb3duIGFuZCB0aGUgY3VycmVudCB0aHJlYWQncwog\nICAgICogaW50ZXJydXB0ZWQgc3RhdHVzIGlzIGNsZWFyZWQuCiAgICAgKiBJ\nZiB0aGUgc3BlY2lmaWVkIHdhaXRpbmcgdGltZSBlbGFwc2VzIHRoZW4gdGhl\nIHZhbHVlIDx0dD5mYWxzZTwvdHQ+CiAgICAgKiBpcyByZXR1cm5lZC4gSWYg\ndGhlIHRpbWUgaXMKICAgICAqIGxlc3MgdGhhbiBvciBlcXVhbCB0byB6ZXJv\nLCB0aGUgbWV0aG9kIHdpbGwgbm90IHdhaXQgYXQgYWxsLgogICAgICogSW4g\ndGhpcyBpbXBsZW1lbnRhdGlvbiwgYXMgdGhpcyBtZXRob2QgaXMgYW4gZXhw\nbGljaXQgaW50ZXJydXB0aW9uCiAgICAgKiBwb2ludCwgcHJlZmVyZW5jZSBp\ncwogICAgICogZ2l2ZW4gdG8gcmVzcG9uZGluZyB0byB0aGUgaW50ZXJydXB0\nIG92ZXIgbm9ybWFsIG9yIHJlZW50cmFudAogICAgICogYWNxdWlzaXRpb24g\nb2YgdGhlIGxvY2ssIGFuZCBvdmVyIHJlcG9ydGluZyB0aGUgZWxhcHNlIG9m\nIHRoZSB3YWl0aW5nCiAgICAgKiB0aW1lLgogICAgICoKICAgICAqIEBwYXJh\nbSB0aW1lb3V0IHRoZSB0aW1lIHRvIHdhaXQgZm9yIHRoZSBsb2NrCiAgICAg\nKiBAcGFyYW0gdW5pdCB0aGUgdGltZSB1bml0IG9mIHRoZSB0aW1lb3V0IGFy\nZ3VtZW50CiAgICAgKiBAcmV0dXJuIDx0dD50cnVlPC90dD4gaWYgdGhlIGxv\nY2sgd2FzIGZyZWUgYW5kIHdhcyBhY3F1aXJlZCBieSB0aGUKICAgICAqIGN1\ncnJlbnQgdGhyZWFkLCBvciB0aGUgbG9jayB3YXMgYWxyZWFkeSBoZWxkIGJ5\nIHRoZSBjdXJyZW50IHRocmVhZDsgYW5kCiAgICAgKiA8dHQ+ZmFsc2U8L3R0\nPiBpZiB0aGUgd2FpdGluZyB0aW1lIGVsYXBzZWQgYmVmb3JlIHRoZSBsb2Nr\nIGNvdWxkIGJlCiAgICAgKiBhY3F1aXJlZC4KICAgICAqIEB0aHJvd3MgSW50\nZXJydXB0ZWRFeGNlcHRpb24gaWYgdGhlIGN1cnJlbnQgdGhyZWFkIGlzIGlu\ndGVycnVwdGVkCiAgICAgKiBAdGhyb3dzIE51bGxQb2ludGVyRXhjZXB0aW9u\nIGlmIHVuaXQgaXMgbnVsbAogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiB0\ncnlMb2NrKGxvbmcgdGltZW91dCwgVGltZVVuaXQgdW5pdCkKICAgICAgICB0\naHJvd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24gewogICAgICAgIHJldHVybiBz\neW5jLnRyeUxvY2sodW5pdC50b05hbm9zKHRpbWVvdXQpKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEF0dGVtcHRzIHRvIHJlbGVhc2UgdGhpcyBsb2NrLiBJ\nZiB0aGUgY3VycmVudCB0aHJlYWQgaXMgdGhlCiAgICAgKiBob2xkZXIgb2Yg\ndGhpcyBsb2NrIHRoZW4gdGhlIGhvbGQgY291bnQgaXMgZGVjcmVtZW50ZWQu\nIElmIHRoZQogICAgICogaG9sZCBjb3VudCBpcyBub3cgemVybyB0aGVuIHRo\nZSBsb2NrIGlzIHJlbGVhc2VkLiBJZiB0aGUKICAgICAqIGN1cnJlbnQgdGhy\nZWFkIGlzIG5vdCB0aGUgaG9sZGVyIG9mIHRoaXMgbG9jayB0aGVuIHtAbGlu\nawogICAgICogSWxsZWdhbE1vbml0b3JTdGF0ZUV4Y2VwdGlvbn0gaXMgdGhy\nb3duLgogICAgICoKICAgICAqIEB0aHJvd3MgSWxsZWdhbE1vbml0b3JTdGF0\nZUV4Y2VwdGlvbiBpZiB0aGUgY3VycmVudCB0aHJlYWQgZG9lcyBub3QKICAg\nICAqIGhvbGQgdGhpcyBsb2NrLgogICAgICovCiAgICBwdWJsaWMgdm9pZCB1\nbmxvY2soKSB7CiAgICAgICAgc3luYy51bmxvY2soKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybnMgYSB7QGxpbmsgQ29uZGl0aW9ufSBpbnN0YW5j\nZSBmb3IgdXNlIHdpdGggdGhpcwogICAgICoge0BsaW5rIExvY2t9IGluc3Rh\nbmNlLgogICAgICogVGhlIHJldHVybmVkIHtAbGluayBDb25kaXRpb259IGlu\nc3RhbmNlIHN1cHBvcnRzIHRoZSBzYW1lCiAgICAgKiB1c2FnZXMgYXMgZG8g\ndGhlIHtAbGluayBPYmplY3R9IG1vbml0b3IgbWV0aG9kcyh7QGxpbmsKICAg\nICAqIE9iamVjdCN3YWl0KCkgd2FpdH0sIHtAbGluayBPYmplY3Qjbm90aWZ5\nIG5vdGlmeX0sIGFuZCB7QGxpbmsKICAgICAqIE9iamVjdCNub3RpZnlBbGwg\nbm90aWZ5QWxsfSkgd2hlbiB1c2VkIHdpdGggdGhlIGJ1aWx0LWluIG1vbml0\nb3IgbG9jay4KICAgICAqIAogICAgICogPHVsPgogICAgICogCiAgICAgKiA8\nbGk+SWYgdGhpcyBsb2NrIGlzIG5vdCBoZWxkIHdoZW4gYW55IG9mIHRoZSB7\nQGxpbmsgQ29uZGl0aW9ufQogICAgICoge0BsaW5rIENvbmRpdGlvbiNhd2Fp\ndCgpIHdhaXRpbmd9IG9yIHtAbGluayBDb25kaXRpb24jc2lnbmFsCiAgICAg\nKiBzaWduYWxsaW5nfSBtZXRob2RzIGFyZSBjYWxsZWQsIHRoZW4gYW4ge0Bs\naW5rCiAgICAgKiBJbGxlZ2FsTW9uaXRvclN0YXRlRXhjZXB0aW9ufSBpcyB0\naHJvd24uCiAgICAgKiAKICAgICAqIDxsaT5XaGVuIHRoZSBjb25kaXRpb24g\ne0BsaW5rIENvbmRpdGlvbiNhd2FpdCgpIHdhaXRpbmd9CiAgICAgKiBtZXRo\nb2RzIGFyZSBjYWxsZWQgdGhlIGxvY2sgaXMgcmVsZWFzZWQgYW5kLCBiZWZv\ncmUgdGhleQogICAgICogcmV0dXJuLCB0aGUgbG9jayBpcyByZWFjcXVpcmVk\nIGFuZCB0aGUgbG9jayBob2xkIGNvdW50IHJlc3RvcmVkCiAgICAgKiB0byB3\naGF0IGl0IHdhcyB3aGVuIHRoZSBtZXRob2Qgd2FzIGNhbGxlZC4KICAgICAq\nIAogICAgICogPGxpPklmIGEgdGhyZWFkIGlzIHtAbGluayBUaHJlYWQjaW50\nZXJydXB0IGludGVycnVwdGVkfSB3aGlsZQogICAgICogd2FpdGluZyB0aGVu\nIHRoZSB3YWl0IHdpbGwgdGVybWluYXRlLCBhbiB7QGxpbmsKICAgICAqIElu\ndGVycnVwdGVkRXhjZXB0aW9ufSB3aWxsIGJlIHRocm93biwgYW5kIHRoZSB0\naHJlYWQncwogICAgICogaW50ZXJydXB0ZWQgc3RhdHVzIHdpbGwgYmUgY2xl\nYXJlZC4KICAgICAqIAogICAgICogPGxpPiBXYWl0aW5nIHRocmVhZHMgYXJl\nIHNpZ25hbGxlZCBpbiBGSUZPIG9yZGVyCiAgICAgKiAKICAgICAqIDxsaT5U\naGUgb3JkZXJpbmcgb2YgbG9jayByZWFjcXVpc2l0aW9uIGZvciB0aHJlYWRz\nIHJldHVybmluZwogICAgICogZnJvbSB3YWl0aW5nIG1ldGhvZHMgaXMgdGhl\nIHNhbWUgYXMgZm9yIHRocmVhZHMgaW5pdGlhbGx5CiAgICAgKiBhY3F1aXJp\nbmcgdGhlIGxvY2ssIHdoaWNoIGlzIGluIHRoZSBkZWZhdWx0IGNhc2Ugbm90\nIHNwZWNpZmllZCwKICAgICAqIGJ1dCBmb3IgPGVtPmZhaXI8L2VtPiBsb2Nr\ncyBmYXZvcnMgdGhvc2UgdGhyZWFkcyB0aGF0IGhhdmUgYmVlbgogICAgICog\nd2FpdGluZyB0aGUgbG9uZ2VzdC4KICAgICAqIAogICAgICogPC91bD4KICAg\nICAqCiAgICAgKiBAcmV0dXJuIHRoZSBDb25kaXRpb24gb2JqZWN0CiAgICAg\nKi8KICAgIHB1YmxpYyBDb25kaXRpb24gbmV3Q29uZGl0aW9uKCkgewogICAg\nICAgIHJldHVybiBpc0ZhaXIoKSA/IG5ldyBGSUZPQ29uZFZhcih0aGlzKSA6\nIG5ldyBDb25kVmFyKHRoaXMpOwogICAgfQoKICAgIC8qKgogICAgICogUXVl\ncmllcyB0aGUgbnVtYmVyIG9mIGhvbGRzIG9uIHRoaXMgbG9jayBieSB0aGUg\nY3VycmVudCB0aHJlYWQuCiAgICAgKiBBIHRocmVhZCBoYXMgYSBob2xkIG9u\nIGEgbG9jayBmb3IgZWFjaCBsb2NrIGFjdGlvbiB0aGF0IGlzIG5vdAogICAg\nICogbWF0Y2hlZCBieSBhbiB1bmxvY2sgYWN0aW9uLgogICAgICogVGhlIGhv\nbGQgY291bnQgaW5mb3JtYXRpb24gaXMgdHlwaWNhbGx5IG9ubHkgdXNlZCBm\nb3IgdGVzdGluZyBhbmQKICAgICAqIGRlYnVnZ2luZyBwdXJwb3Nlcy4gRm9y\nIGV4YW1wbGUsIGlmIGEgY2VydGFpbiBzZWN0aW9uIG9mIGNvZGUgc2hvdWxk\nCiAgICAgKiBub3QgYmUgZW50ZXJlZCB3aXRoIHRoZSBsb2NrIGFscmVhZHkg\naGVsZCB0aGVuIHdlIGNhbiBhc3NlcnQgdGhhdCBmYWN0OgogICAgICogCiAg\nICAgKiA8cHJlPiBjbGFzcyBYIHsgUmVlbnRyYW50TG9jayBsb2NrID0gbmV3\nIFJlZW50cmFudExvY2soKTsgLy8gLi4uCiAgICAgKiBwdWJsaWMgdm9pZCBt\nKCkgeyBhc3NlcnQgbG9jay5nZXRIb2xkQ291bnQoKSA9PSAwOyBsb2NrLmxv\nY2soKTsgdHJ5IHsKICAgICAqIC8vIC4uLiBtZXRob2QgYm9keSB9IGZpbmFs\nbHkgeyBsb2NrLnVubG9jaygpOyB9IH0gfQogICAgICogPC9wcmU+CiAgICAg\nKgogICAgICogQHJldHVybiB0aGUgbnVtYmVyIG9mIGhvbGRzIG9uIHRoaXMg\nbG9jayBieSB0aGUgY3VycmVudCB0aHJlYWQsCiAgICAgKiBvciB6ZXJvIGlm\nIHRoaXMgbG9jayBpcyBub3QgaGVsZCBieSB0aGUgY3VycmVudCB0aHJlYWQu\nCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0SG9sZENvdW50KCkgewogICAg\nICAgIHJldHVybiBzeW5jLmdldEhvbGRDb3VudCgpOwogICAgfQoKICAgIC8q\nKgogICAgICogUXVlcmllcyBpZiB0aGlzIGxvY2sgaXMgaGVsZCBieSB0aGUg\nY3VycmVudCB0aHJlYWQuCiAgICAgKiBBbmFsb2dvdXMgdG8gdGhlIHtAbGlu\nayBUaHJlYWQjaG9sZHNMb2NrfSBtZXRob2QgZm9yIGJ1aWx0LWluCiAgICAg\nKiBtb25pdG9yIGxvY2tzLCB0aGlzIG1ldGhvZCBpcyB0eXBpY2FsbHkgdXNl\nZCBmb3IgZGVidWdnaW5nIGFuZAogICAgICogdGVzdGluZy4gRm9yIGV4YW1w\nbGUsIGEgbWV0aG9kIHRoYXQgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoaWxl\nCiAgICAgKiBhIGxvY2sgaXMgaGVsZCBjYW4gYXNzZXJ0IHRoYXQgdGhpcyBp\ncyB0aGUgY2FzZToKICAgICAqIAogICAgICogPHByZT4gY2xhc3MgWCB7IFJl\nZW50cmFudExvY2sgbG9jayA9IG5ldyBSZWVudHJhbnRMb2NrKCk7IC8vIC4u\nLgogICAgICogcHVibGljIHZvaWQgbSgpIHsgYXNzZXJ0IGxvY2suaXNIZWxk\nQnlDdXJyZW50VGhyZWFkKCk7CiAgICAgKiAvLyAuLi4gbWV0aG9kIGJvZHkg\nfSB9CiAgICAgKiA8L3ByZT4gSXQgY2FuIGFsc28gYmUgdXNlZCB0byBlbnN1\ncmUgdGhhdCBhIHJlZW50cmFudCBsb2NrIGlzIHVzZWQKICAgICAqIGluIGEg\nbm9uLXJlZW50cmFudCBtYW5uZXIsIGZvciBleGFtcGxlOgogICAgICogCiAg\nICAgKiA8cHJlPiBjbGFzcyBYIHsgUmVlbnRyYW50TG9jayBsb2NrID0gbmV3\nIFJlZW50cmFudExvY2soKTsgLy8gLi4uCiAgICAgKiBwdWJsaWMgdm9pZCBt\nKCkgeyBhc3NlcnQgIWxvY2suaXNIZWxkQnlDdXJyZW50VGhyZWFkKCk7IGxv\nY2subG9jaygpOwogICAgICogdHJ5IHsgLy8gLi4uIG1ldGhvZCBib2R5IH0g\nZmluYWxseSB7IGxvY2sudW5sb2NrKCk7IH0gfSB9CiAgICAgKiA8L3ByZT4K\nICAgICAqCiAgICAgKiBAcmV0dXJuIDx0dD50cnVlPC90dD4gaWYgY3VycmVu\ndCB0aHJlYWQgaG9sZHMgdGhpcyBsb2NrIGFuZAogICAgICogPHR0PmZhbHNl\nPC90dD4gb3RoZXJ3aXNlLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBp\nc0hlbGRCeUN1cnJlbnRUaHJlYWQoKSB7CiAgICAgICAgcmV0dXJuIHN5bmMu\naXNIZWxkQnlDdXJyZW50VGhyZWFkKCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBRdWVyaWVzIGlmIHRoaXMgbG9jayBpcyBoZWxkIGJ5IGFueSB0aHJlYWQu\nIFRoaXMgbWV0aG9kIGlzCiAgICAgKiBkZXNpZ25lZCBmb3IgdXNlIGluIG1v\nbml0b3Jpbmcgb2YgdGhlIHN5c3RlbSBzdGF0ZSwKICAgICAqIG5vdCBmb3Ig\nc3luY2hyb25pemF0aW9uIGNvbnRyb2wuCiAgICAgKgogICAgICogQHJldHVy\nbiA8dHQ+dHJ1ZTwvdHQ+IGlmIGFueSB0aHJlYWQgaG9sZHMgdGhpcyBsb2Nr\nIGFuZAogICAgICogPHR0PmZhbHNlPC90dD4gb3RoZXJ3aXNlLgogICAgICov\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc0xvY2tlZCgpIHsKICAgICAgICByZXR1\ncm4gc3luYy5pc0xvY2tlZCgpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJucyB0cnVlIGlmIHRoaXMgbG9jayBoYXMgZmFpcm5lc3Mgc2V0IHRydWUu\nCiAgICAgKgogICAgICogQHJldHVybiB0cnVlIGlmIHRoaXMgbG9jayBoYXMg\nZmFpcm5lc3Mgc2V0IHRydWUuCiAgICAgKi8KICAgIHB1YmxpYyBmaW5hbCBi\nb29sZWFuIGlzRmFpcigpIHsKICAgICAgICByZXR1cm4gc3luYy5pc0ZhaXIo\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIDx0dD5udWxsPC90dD4gaWYgbm90\nIG93bmVkLiBXaGVuIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSBhCiAgICAg\nKiB0aHJlYWQgdGhhdCBpcyBub3QgdGhlIG93bmVyLCB0aGUgcmV0dXJuIHZh\nbHVlIHJlZmxlY3RzIGEKICAgICAqIGJlc3QtZWZmb3J0IGFwcHJveGltYXRp\nb24gb2YgY3VycmVudCBsb2NrIHN0YXR1cy4gRm9yIGV4YW1wbGUsCiAgICAg\nKiB0aGUgb3duZXIgbWF5IGJlIG1vbWVudGFyaWx5IDx0dD5udWxsPC90dD4g\nZXZlbiBpZiB0aGVyZSBhcmUKICAgICAqIHRocmVhZHMgdHJ5aW5nIHRvIGFj\ncXVpcmUgdGhlIGxvY2sgYnV0IGhhdmUgbm90IHlldCBkb25lIHNvLgogICAg\nICogVGhpcyBtZXRob2QgaXMgZGVzaWduZWQgdG8gZmFjaWxpdGF0ZSBjb25z\ndHJ1Y3Rpb24gb2YKICAgICAqIHN1YmNsYXNzZXMgdGhhdCBwcm92aWRlIG1v\ncmUgZXh0ZW5zaXZlIGxvY2sgbW9uaXRvcmluZyBmYWNpbGl0aWVzLgogICAg\nICoKICAgICAqIEByZXR1cm4gdGhlIG93bmVyLCBvciA8dHQ+bnVsbDwvdHQ+\nIGlmIG5vdCBvd25lZAogICAgICovCiAgICBwcm90ZWN0ZWQgVGhyZWFkIGdl\ndE93bmVyKCkgewogICAgICAgIHJldHVybiBzeW5jLmdldE93bmVyKCk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBRdWVyaWVzIHdoZXRoZXIgYW55IHRocmVh\nZHMgYXJlIHdhaXRpbmcgdG8gYWNxdWlyZSB0aGlzIGxvY2suIE5vdGUgdGhh\ndAogICAgICogYmVjYXVzZSBjYW5jZWxsYXRpb25zIG1heSBvY2N1ciBhdCBh\nbnkgdGltZSwgYSA8dHQ+dHJ1ZTwvdHQ+CiAgICAgKiByZXR1cm4gZG9lcyBu\nb3QgZ3VhcmFudGVlIHRoYXQgYW55IG90aGVyIHRocmVhZCB3aWxsIGV2ZXIK\nICAgICAqIGFjcXVpcmUgdGhpcyBsb2NrLiBUaGlzIG1ldGhvZCBpcyBkZXNp\nZ25lZCBwcmltYXJpbHkgZm9yIHVzZSBpbgogICAgICogbW9uaXRvcmluZyBv\nZiB0aGUgc3lzdGVtIHN0YXRlLgogICAgICoKICAgICAqIEByZXR1cm4gdHJ1\nZSBpZiB0aGVyZSBtYXkgYmUgb3RoZXIgdGhyZWFkcyB3YWl0aW5nIHRvIGFj\ncXVpcmUgdGhlIGxvY2suCiAgICAgKi8KICAgIHB1YmxpYyBmaW5hbCBib29s\nZWFuIGhhc1F1ZXVlZFRocmVhZHMoKSB7CiAgICAgICAgcmV0dXJuIHN5bmMu\naGFzUXVldWVkVGhyZWFkcygpOwogICAgfQoKICAgIC8qKgogICAgICogUXVl\ncmllcyB3aGV0aGVyIHRoZSBnaXZlbiB0aHJlYWQgaXMgd2FpdGluZyB0byBh\nY3F1aXJlIHRoaXMKICAgICAqIGxvY2suIE5vdGUgdGhhdCBiZWNhdXNlIGNh\nbmNlbGxhdGlvbnMgbWF5IG9jY3VyIGF0IGFueSB0aW1lLCBhCiAgICAgKiA8\ndHQ+dHJ1ZTwvdHQ+IHJldHVybiBkb2VzIG5vdCBndWFyYW50ZWUgdGhhdCB0\naGlzIHRocmVhZAogICAgICogd2lsbCBldmVyIGFjcXVpcmUgdGhpcyBsb2Nr\nLiBUaGlzIG1ldGhvZCBpcyBkZXNpZ25lZCBwcmltYXJpbHkgZm9yIHVzZQog\nICAgICogaW4gbW9uaXRvcmluZyBvZiB0aGUgc3lzdGVtIHN0YXRlLgogICAg\nICoKICAgICAqIEBwYXJhbSB0aHJlYWQgdGhlIHRocmVhZAogICAgICogQHJl\ndHVybiB0cnVlIGlmIHRoZSBnaXZlbiB0aHJlYWQgaXMgcXVldWVkIHdhaXRp\nbmcgZm9yIHRoaXMgbG9jay4KICAgICAqIEB0aHJvd3MgTnVsbFBvaW50ZXJF\neGNlcHRpb24gaWYgdGhyZWFkIGlzIG51bGwKICAgICAqLwogICAgcHVibGlj\nIGZpbmFsIGJvb2xlYW4gaGFzUXVldWVkVGhyZWFkKFRocmVhZCB0aHJlYWQp\nIHsKICAgICAgICByZXR1cm4gc3luYy5pc1F1ZXVlZCh0aHJlYWQpOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJucyBhbiBlc3RpbWF0ZSBvZiB0aGUg\nbnVtYmVyIG9mIHRocmVhZHMgd2FpdGluZyB0bwogICAgICogYWNxdWlyZSB0\naGlzIGxvY2suIFRoZSB2YWx1ZSBpcyBvbmx5IGFuIGVzdGltYXRlIGJlY2F1\nc2UgdGhlIG51bWJlciBvZgogICAgICogdGhyZWFkcyBtYXkgY2hhbmdlIGR5\nbmFtaWNhbGx5IHdoaWxlIHRoaXMgbWV0aG9kIHRyYXZlcnNlcwogICAgICog\naW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzLiBUaGlzIG1ldGhvZCBpcyBkZXNp\nZ25lZCBmb3IgdXNlIGluCiAgICAgKiBtb25pdG9yaW5nIG9mIHRoZSBzeXN0\nZW0gc3RhdGUsIG5vdCBmb3Igc3luY2hyb25pemF0aW9uIGNvbnRyb2wuCiAg\nICAgKgogICAgICogQHJldHVybiB0aGUgZXN0aW1hdGVkIG51bWJlciBvZiB0\naHJlYWRzIHdhaXRpbmcgZm9yIHRoaXMgbG9jawogICAgICovCiAgICBwdWJs\naWMgZmluYWwgaW50IGdldFF1ZXVlTGVuZ3RoKCkgewogICAgICAgIHJldHVy\nbiBzeW5jLmdldFF1ZXVlTGVuZ3RoKCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm5zIGEgY29sbGVjdGlvbiBjb250YWluaW5nIHRocmVhZHMgdGhh\ndCBtYXkgYmUgd2FpdGluZyB0bwogICAgICogYWNxdWlyZSB0aGlzIGxvY2su\nIEJlY2F1c2UgdGhlIGFjdHVhbCBzZXQgb2YgdGhyZWFkcyBtYXkgY2hhbmdl\nCiAgICAgKiBkeW5hbWljYWxseSB3aGlsZSBjb25zdHJ1Y3RpbmcgdGhpcyBy\nZXN1bHQsIHRoZSByZXR1cm5lZAogICAgICogY29sbGVjdGlvbiBpcyBvbmx5\nIGEgYmVzdC1lZmZvcnQgZXN0aW1hdGUuIFRoZSBlbGVtZW50cyBvZiB0aGUK\nICAgICAqIHJldHVybmVkIGNvbGxlY3Rpb24gYXJlIGluIG5vIHBhcnRpY3Vs\nYXIgb3JkZXIuIFRoaXMgbWV0aG9kIGlzCiAgICAgKiBkZXNpZ25lZCB0byBm\nYWNpbGl0YXRlIGNvbnN0cnVjdGlvbiBvZiBzdWJjbGFzc2VzIHRoYXQgcHJv\ndmlkZQogICAgICogbW9yZSBleHRlbnNpdmUgbW9uaXRvcmluZyBmYWNpbGl0\naWVzLgogICAgICoKICAgICAqIEByZXR1cm4gdGhlIGNvbGxlY3Rpb24gb2Yg\ndGhyZWFkcwogICAgICovCiAgICBwcm90ZWN0ZWQgQ29sbGVjdGlvbiBnZXRR\ndWV1ZWRUaHJlYWRzKCkgewogICAgICAgIHJldHVybiBzeW5jLmdldFF1ZXVl\nZFRocmVhZHMoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFF1ZXJpZXMgd2hl\ndGhlciBhbnkgdGhyZWFkcyBhcmUgd2FpdGluZyBvbiB0aGUgZ2l2ZW4gY29u\nZGl0aW9uCiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhpcyBsb2NrLiBOb3Rl\nIHRoYXQgYmVjYXVzZSB0aW1lb3V0cyBhbmQKICAgICAqIGludGVycnVwdHMg\nbWF5IG9jY3VyIGF0IGFueSB0aW1lLCBhIDx0dD50cnVlPC90dD4gcmV0dXJu\nIGRvZXMKICAgICAqIG5vdCBndWFyYW50ZWUgdGhhdCBhIGZ1dHVyZSA8dHQ+\nc2lnbmFsPC90dD4gd2lsbCBhd2FrZW4gYW55CiAgICAgKiB0aHJlYWRzLiBU\naGlzIG1ldGhvZCBpcyBkZXNpZ25lZCBwcmltYXJpbHkgZm9yIHVzZSBpbgog\nICAgICogbW9uaXRvcmluZyBvZiB0aGUgc3lzdGVtIHN0YXRlLgogICAgICoK\nICAgICAqIEBwYXJhbSBjb25kaXRpb24gdGhlIGNvbmRpdGlvbgogICAgICog\nQHJldHVybiA8dHQ+dHJ1ZTwvdHQ+IGlmIHRoZXJlIGFyZSBhbnkgd2FpdGlu\nZyB0aHJlYWRzLgogICAgICogQHRocm93cyBJbGxlZ2FsTW9uaXRvclN0YXRl\nRXhjZXB0aW9uIGlmIHRoaXMgbG9jayBpcyBub3QgaGVsZAogICAgICogQHRo\ncm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgdGhlIGdpdmVuIGNv\nbmRpdGlvbiBpcwogICAgICogbm90IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxv\nY2sKICAgICAqIEB0aHJvd3MgTnVsbFBvaW50ZXJFeGNlcHRpb24gaWYgY29u\nZGl0aW9uIG51bGwKICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gaGFzV2Fp\ndGVycyhDb25kaXRpb24gY29uZGl0aW9uKSB7CiAgICAgICAgcmV0dXJuIGFz\nQ29uZFZhcihjb25kaXRpb24pLmhhc1dhaXRlcnMoKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybnMgYW4gZXN0aW1hdGUgb2YgdGhlIG51bWJlciBv\nZiB0aHJlYWRzIHdhaXRpbmcgb24gdGhlCiAgICAgKiBnaXZlbiBjb25kaXRp\nb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgbG9jay4gTm90ZSB0aGF0IGJlY2F1\nc2UKICAgICAqIHRpbWVvdXRzIGFuZCBpbnRlcnJ1cHRzIG1heSBvY2N1ciBh\ndCBhbnkgdGltZSwgdGhlIGVzdGltYXRlCiAgICAgKiBzZXJ2ZXMgb25seSBh\ncyBhbiB1cHBlciBib3VuZCBvbiB0aGUgYWN0dWFsIG51bWJlciBvZiB3YWl0\nZXJzLgogICAgICogVGhpcyBtZXRob2QgaXMgZGVzaWduZWQgZm9yIHVzZSBp\nbiBtb25pdG9yaW5nIG9mIHRoZSBzeXN0ZW0KICAgICAqIHN0YXRlLCBub3Qg\nZm9yIHN5bmNocm9uaXphdGlvbiBjb250cm9sLgogICAgICoKICAgICAqIEBw\nYXJhbSBjb25kaXRpb24gdGhlIGNvbmRpdGlvbgogICAgICogQHJldHVybiB0\naGUgZXN0aW1hdGVkIG51bWJlciBvZiB3YWl0aW5nIHRocmVhZHMuCiAgICAg\nKiBAdGhyb3dzIElsbGVnYWxNb25pdG9yU3RhdGVFeGNlcHRpb24gaWYgdGhp\ncyBsb2NrIGlzIG5vdCBoZWxkCiAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1\nbWVudEV4Y2VwdGlvbiBpZiB0aGUgZ2l2ZW4gY29uZGl0aW9uIGlzCiAgICAg\nKiBub3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbG9jawogICAgICogQHRocm93\ncyBOdWxsUG9pbnRlckV4Y2VwdGlvbiBpZiBjb25kaXRpb24gbnVsbAogICAg\nICovCiAgICBwdWJsaWMgaW50IGdldFdhaXRRdWV1ZUxlbmd0aChDb25kaXRp\nb24gY29uZGl0aW9uKSB7CiAgICAgICAgcmV0dXJuIGFzQ29uZFZhcihjb25k\naXRpb24pLmdldFdhaXRRdWV1ZUxlbmd0aCgpOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJucyBhIGNvbGxlY3Rpb24gY29udGFpbmluZyB0aG9zZSB0\naHJlYWRzIHRoYXQgbWF5IGJlCiAgICAgKiB3YWl0aW5nIG9uIHRoZSBnaXZl\nbiBjb25kaXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgbG9jay4KICAgICAq\nIEJlY2F1c2UgdGhlIGFjdHVhbCBzZXQgb2YgdGhyZWFkcyBtYXkgY2hhbmdl\nIGR5bmFtaWNhbGx5IHdoaWxlCiAgICAgKiBjb25zdHJ1Y3RpbmcgdGhpcyBy\nZXN1bHQsIHRoZSByZXR1cm5lZCBjb2xsZWN0aW9uIGlzIG9ubHkgYQogICAg\nICogYmVzdC1lZmZvcnQgZXN0aW1hdGUuIFRoZSBlbGVtZW50cyBvZiB0aGUg\ncmV0dXJuZWQgY29sbGVjdGlvbgogICAgICogYXJlIGluIG5vIHBhcnRpY3Vs\nYXIgb3JkZXIuIFRoaXMgbWV0aG9kIGlzIGRlc2lnbmVkIHRvCiAgICAgKiBm\nYWNpbGl0YXRlIGNvbnN0cnVjdGlvbiBvZiBzdWJjbGFzc2VzIHRoYXQgcHJv\ndmlkZSBtb3JlCiAgICAgKiBleHRlbnNpdmUgY29uZGl0aW9uIG1vbml0b3Jp\nbmcgZmFjaWxpdGllcy4KICAgICAqCiAgICAgKiBAcGFyYW0gY29uZGl0aW9u\nIHRoZSBjb25kaXRpb24KICAgICAqIEByZXR1cm4gdGhlIGNvbGxlY3Rpb24g\nb2YgdGhyZWFkcwogICAgICogQHRocm93cyBJbGxlZ2FsTW9uaXRvclN0YXRl\nRXhjZXB0aW9uIGlmIHRoaXMgbG9jayBpcyBub3QgaGVsZAogICAgICogQHRo\ncm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgdGhlIGdpdmVuIGNv\nbmRpdGlvbiBpcwogICAgICogbm90IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxv\nY2sKICAgICAqIEB0aHJvd3MgTnVsbFBvaW50ZXJFeGNlcHRpb24gaWYgY29u\nZGl0aW9uIG51bGwKICAgICAqLwogICAgcHJvdGVjdGVkIENvbGxlY3Rpb24g\nZ2V0V2FpdGluZ1RocmVhZHMoQ29uZGl0aW9uIGNvbmRpdGlvbikgewogICAg\nICAgIHJldHVybiBhc0NvbmRWYXIoY29uZGl0aW9uKS5nZXRXYWl0aW5nVGhy\nZWFkcygpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyBhIHN0cmlu\nZyBpZGVudGlmeWluZyB0aGlzIGxvY2ssIGFzIHdlbGwgYXMgaXRzIGxvY2sK\nICAgICAqIHN0YXRlLiBUaGUgc3RhdGUsIGluIGJyYWNrZXRzLCBpbmNsdWRl\ncyBlaXRoZXIgdGhlIFN0cmluZwogICAgICogJnF1b3Q7VW5sb2NrZWQmcXVv\ndDsgb3IgdGhlIFN0cmluZyAmcXVvdDtMb2NrZWQgYnkmcXVvdDsKICAgICAq\nIGZvbGxvd2VkIGJ5IHRoZSB7QGxpbmsgVGhyZWFkI2dldE5hbWV9IG9mIHRo\nZSBvd25pbmcgdGhyZWFkLgogICAgICoKICAgICAqIEByZXR1cm4gYSBzdHJp\nbmcgaWRlbnRpZnlpbmcgdGhpcyBsb2NrLCBhcyB3ZWxsIGFzIGl0cyBsb2Nr\nIHN0YXRlLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkg\newogICAgICAgIFRocmVhZCBvID0gZ2V0T3duZXIoKTsKICAgICAgICByZXR1\ncm4gc3VwZXIudG9TdHJpbmcoKSArICgobyA9PSBudWxsKSA/ICJbVW5sb2Nr\nZWRdIgogICAgICAgICAgICA6ICJbTG9ja2VkIGJ5IHRocmVhZCAiICsgby5n\nZXROYW1lKCkgKyAiXSIpOwogICAgfQoKICAgIHByaXZhdGUgQ29uZFZhciBh\nc0NvbmRWYXIoQ29uZGl0aW9uIGNvbmRpdGlvbikgewogICAgICAgIGlmIChj\nb25kaXRpb24gPT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cgbmV3IE51bGxQ\nb2ludGVyRXhjZXB0aW9uKCk7CiAgICAgICAgaWYgKCEoY29uZGl0aW9uIGlu\nc3RhbmNlb2YgQ29uZFZhcikpCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxl\nZ2FsQXJndW1lbnRFeGNlcHRpb24oIm5vdCBvd25lciIpOwogICAgICAgIENv\nbmRWYXIgY29uZFZhciA9IChDb25kVmFyKSBjb25kaXRpb247CiAgICAgICAg\naWYgKGNvbmRWYXIubG9jayAhPSB0aGlzKQogICAgICAgICAgICB0aHJvdyBu\nZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJub3Qgb3duZXIiKTsKICAg\nICAgICByZXR1cm4gY29uZFZhcjsKICAgIH0KfQo=\n","encoding":"base64"}

