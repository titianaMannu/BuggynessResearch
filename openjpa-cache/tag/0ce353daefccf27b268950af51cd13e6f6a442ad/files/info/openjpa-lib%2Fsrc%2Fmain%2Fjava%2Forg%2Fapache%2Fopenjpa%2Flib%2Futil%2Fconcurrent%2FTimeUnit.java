{"sha":"8fb4d9fdca9ea97451604dd4133b1085b269cc94","node_id":"MDQ6QmxvYjIwNjM2NDo4ZmI0ZDlmZGNhOWVhOTc0NTE2MDRkZDQxMzNiMTA4NWIyNjljYzk0","size":16878,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8fb4d9fdca9ea97451604dd4133b1085b269cc94","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwovKgogKiBXcml0dGVuIGJ5IERv\ndWcgTGVhIHdpdGggYXNzaXN0YW5jZSBmcm9tIG1lbWJlcnMgb2YgSkNQIEpT\nUi0xNjYKICogRXhwZXJ0IEdyb3VwIGFuZCByZWxlYXNlZCB0byB0aGUgcHVi\nbGljIGRvbWFpbiwgYXMgZXhwbGFpbmVkIGF0CiAqIGh0dHA6Ly9jcmVhdGl2\nZWNvbW1vbnMub3JnL2xpY2Vuc2VzL3B1YmxpY2RvbWFpbgogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVudDsKCi8q\nKgogKiBBIDx0dD5UaW1lVW5pdDwvdHQ+IHJlcHJlc2VudHMgdGltZSBkdXJh\ndGlvbnMgYXQgYSBnaXZlbiB1bml0IG9mCiAqIGdyYW51bGFyaXR5IGFuZCBw\ncm92aWRlcyB1dGlsaXR5IG1ldGhvZHMgdG8gY29udmVydCBhY3Jvc3MgdW5p\ndHMsCiAqIGFuZCB0byBwZXJmb3JtIHRpbWluZyBhbmQgZGVsYXkgb3BlcmF0\naW9ucyBpbiB0aGVzZSB1bml0cy4gQQogKiA8dHQ+VGltZVVuaXQ8L3R0PiBk\nb2VzIG5vdCBtYWludGFpbiB0aW1lIGluZm9ybWF0aW9uLCBidXQgb25seQog\nKiBoZWxwcyBvcmdhbml6ZSBhbmQgdXNlIHRpbWUgcmVwcmVzZW50YXRpb25z\nIHRoYXQgbWF5IGJlIG1haW50YWluZWQKICogc2VwYXJhdGVseSBhY3Jvc3Mg\ndmFyaW91cyBjb250ZXh0cy4gQSBuYW5vc2Vjb25kIGlzIGRlZmluZWQgYXMg\nb25lCiAqIHRob3VzYW5kdGggb2YgYSBtaWNyb3NlY29uZCwgYSBtaWNyb3Nl\nY29uZCBhcyBvbmUgdGhvdXNhbmR0aCBvZiBhCiAqIG1pbGxpc2Vjb25kLCBh\nIG1pbGxpc2Vjb25kIGFzIG9uZSB0aG91c2FuZHRoIG9mIGEgc2Vjb25kLCBh\nIG1pbnV0ZQogKiBhcyBzaXh0eSBzZWNvbmRzLCBhbiBob3VyIGFzIHNpeHR5\nIG1pbnV0ZXMsIGFuZCBhIGRheSBhcyB0d2VudHkgZm91ciBob3Vycy4KICog\nQSA8dHQ+VGltZVVuaXQ8L3R0PiBpcyBtYWlubHkgdXNlZCB0byBpbmZvcm0g\ndGltZS1iYXNlZCBtZXRob2RzCiAqIGhvdyBhIGdpdmVuIHRpbWluZyBwYXJh\nbWV0ZXIgc2hvdWxkIGJlIGludGVycHJldGVkLiBGb3IgZXhhbXBsZSwKICog\ndGhlIGZvbGxvd2luZyBjb2RlIHdpbGwgdGltZW91dCBpbiA1MCBtaWxsaXNl\nY29uZHMgaWYgdGhlIHtAbGluawogKiBlZHUuZW1vcnkubWF0aGNzLmJhY2tw\nb3J0LmphdmEudXRpbC5jb25jdXJyZW50LmxvY2tzLkxvY2sgbG9ja30gaXMg\nbm90CiAqIGF2YWlsYWJsZToKICogCiAqIDxwcmU+IExvY2sgbG9jayA9IC4u\nLjsgaWYgKCBsb2NrLnRyeUxvY2soNTBMLCBUaW1lVW5pdC5NSUxMSVNFQ09O\nRFMpICkgLi4uCiAqIDwvcHJlPiB3aGlsZSB0aGlzIGNvZGUgd2lsbCB0aW1l\nb3V0IGluIDUwIHNlY29uZHM6CiAqIDxwcmU+IExvY2sgbG9jayA9IC4uLjsg\naWYgKCBsb2NrLnRyeUxvY2soNTBMLCBUaW1lVW5pdC5TRUNPTkRTKSApIC4u\nLgogKiA8L3ByZT4gTm90ZSBob3dldmVyLCB0aGF0IHRoZXJlIGlzIG5vIGd1\nYXJhbnRlZSB0aGF0IGEgcGFydGljdWxhciB0aW1lb3V0CiAqIGltcGxlbWVu\ndGF0aW9uIHdpbGwgYmUgYWJsZSB0byBub3RpY2UgdGhlIHBhc3NhZ2Ugb2Yg\ndGltZSBhdCB0aGUKICogc2FtZSBncmFudWxhcml0eSBhcyB0aGUgZ2l2ZW4g\nPHR0PlRpbWVVbml0PC90dD4uCiAqCiAqIEBhdXRob3IgRG91ZyBMZWEKICog\nQHNpbmNlIDEuNQogKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIFRpbWVVbml0\nIGltcGxlbWVudHMgamF2YS5pby5TZXJpYWxpemFibGUgewoKICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgVGltZVVuaXQgTkFOT1NFQ09ORFMgPSBuZXcgVGlt\nZVVuaXQoMCwgIk5BTk9TRUNPTkRTIikgewogICAgICAgIHByaXZhdGUgZmlu\nYWwgc3RhdGljIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDUzNTE0ODQ5MDg4\nMzIwODM2MUw7CgogICAgICAgIHB1YmxpYyBsb25nIHRvTmFub3MobG9uZyBk\nKSB7CiAgICAgICAgICAgIHJldHVybiBkOwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIGxvbmcgdG9NaWNyb3MobG9uZyBkKSB7CiAgICAgICAgICAgIHJl\ndHVybiBkIC8gKEMxIC8gQzApOwogICAgICAgIH0KCiAgICAgICAgcHVibGlj\nIGxvbmcgdG9NaWxsaXMobG9uZyBkKSB7CiAgICAgICAgICAgIHJldHVybiBk\nIC8gKEMyIC8gQzApOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGxvbmcg\ndG9TZWNvbmRzKGxvbmcgZCkgewogICAgICAgICAgICByZXR1cm4gZCAvIChD\nMyAvIEMwKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBsb25nIHRvTWlu\ndXRlcyhsb25nIGQpIHsKICAgICAgICAgICAgcmV0dXJuIGQgLyAoQzQgLyBD\nMCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgbG9uZyB0b0hvdXJzKGxv\nbmcgZCkgewogICAgICAgICAgICByZXR1cm4gZCAvIChDNSAvIEMwKTsKICAg\nICAgICB9CgogICAgICAgIHB1YmxpYyBsb25nIHRvRGF5cyhsb25nIGQpIHsK\nICAgICAgICAgICAgcmV0dXJuIGQgLyAoQzYgLyBDMCk7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgbG9uZyBjb252ZXJ0KGxvbmcgZCwgVGltZVVuaXQg\ndSkgewogICAgICAgICAgICByZXR1cm4gdS50b05hbm9zKGQpOwogICAgICAg\nIH0KCiAgICAgICAgaW50IGV4Y2Vzc05hbm9zKGxvbmcgZCwgbG9uZyBtKSB7\nCiAgICAgICAgICAgIHJldHVybiAoaW50KSAoZCAtIChtICogQzIpKTsKICAg\nICAgICB9CiAgICB9OwoKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgVGltZVVu\naXQgTUlDUk9TRUNPTkRTID0KICAgICAgICBuZXcgVGltZVVuaXQoMSwgIk1J\nQ1JPU0VDT05EUyIpIHsKICAgICAgICAgICAgcHJpdmF0ZSBmaW5hbCBzdGF0\naWMgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gMjE4NTkwNjU3NTkyOTU3OTEw\nOEw7CgogICAgICAgICAgICBwdWJsaWMgbG9uZyB0b05hbm9zKGxvbmcgZCkg\newogICAgICAgICAgICAgICAgcmV0dXJuIHgoZCwgQzEgLyBDMCwgTUFYIC8g\nKEMxIC8gQzApKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHVibGlj\nIGxvbmcgdG9NaWNyb3MobG9uZyBkKSB7CiAgICAgICAgICAgICAgICByZXR1\ncm4gZDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHVibGljIGxvbmcg\ndG9NaWxsaXMobG9uZyBkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZCAv\nIChDMiAvIEMxKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHVibGlj\nIGxvbmcgdG9TZWNvbmRzKGxvbmcgZCkgewogICAgICAgICAgICAgICAgcmV0\ndXJuIGQgLyAoQzMgLyBDMSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAg\nIHB1YmxpYyBsb25nIHRvTWludXRlcyhsb25nIGQpIHsKICAgICAgICAgICAg\nICAgIHJldHVybiBkIC8gKEM0IC8gQzEpOwogICAgICAgICAgICB9CgogICAg\nICAgICAgICBwdWJsaWMgbG9uZyB0b0hvdXJzKGxvbmcgZCkgewogICAgICAg\nICAgICAgICAgcmV0dXJuIGQgLyAoQzUgLyBDMSk7CiAgICAgICAgICAgIH0K\nCiAgICAgICAgICAgIHB1YmxpYyBsb25nIHRvRGF5cyhsb25nIGQpIHsKICAg\nICAgICAgICAgICAgIHJldHVybiBkIC8gKEM2IC8gQzEpOwogICAgICAgICAg\nICB9CgogICAgICAgICAgICBwdWJsaWMgbG9uZyBjb252ZXJ0KGxvbmcgZCwg\nVGltZVVuaXQgdSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHUudG9NaWNy\nb3MoZCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGludCBleGNlc3NO\nYW5vcyhsb25nIGQsIGxvbmcgbSkgewogICAgICAgICAgICAgICAgcmV0dXJu\nIChpbnQpICgoZCAqIEMxKSAtIChtICogQzIpKTsKICAgICAgICAgICAgfQog\nICAgICAgIH07CgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBUaW1lVW5pdCBN\nSUxMSVNFQ09ORFMgPQogICAgICAgIG5ldyBUaW1lVW5pdCgyLCAiTUlMTElT\nRUNPTkRTIikgewogICAgICAgICAgICBwcml2YXRlIGZpbmFsIHN0YXRpYyBs\nb25nIHNlcmlhbFZlcnNpb25VSUQgPSA5MDMyMDQ3Nzk0MTIzMzI1MTg0TDsK\nCiAgICAgICAgICAgIHB1YmxpYyBsb25nIHRvTmFub3MobG9uZyBkKSB7CiAg\nICAgICAgICAgICAgICByZXR1cm4geChkLCBDMiAvIEMwLCBNQVggLyAoQzIg\nLyBDMCkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwdWJsaWMgbG9u\nZyB0b01pY3Jvcyhsb25nIGQpIHsKICAgICAgICAgICAgICAgIHJldHVybiB4\nKGQsIEMyIC8gQzEsIE1BWCAvIChDMiAvIEMxKSk7CiAgICAgICAgICAgIH0K\nCiAgICAgICAgICAgIHB1YmxpYyBsb25nIHRvTWlsbGlzKGxvbmcgZCkgewog\nICAgICAgICAgICAgICAgcmV0dXJuIGQ7CiAgICAgICAgICAgIH0KCiAgICAg\nICAgICAgIHB1YmxpYyBsb25nIHRvU2Vjb25kcyhsb25nIGQpIHsKICAgICAg\nICAgICAgICAgIHJldHVybiBkIC8gKEMzIC8gQzIpOwogICAgICAgICAgICB9\nCgogICAgICAgICAgICBwdWJsaWMgbG9uZyB0b01pbnV0ZXMobG9uZyBkKSB7\nCiAgICAgICAgICAgICAgICByZXR1cm4gZCAvIChDNCAvIEMyKTsKICAgICAg\nICAgICAgfQoKICAgICAgICAgICAgcHVibGljIGxvbmcgdG9Ib3Vycyhsb25n\nIGQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBkIC8gKEM1IC8gQzIpOwog\nICAgICAgICAgICB9CgogICAgICAgICAgICBwdWJsaWMgbG9uZyB0b0RheXMo\nbG9uZyBkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZCAvIChDNiAvIEMy\nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHVibGljIGxvbmcgY29u\ndmVydChsb25nIGQsIFRpbWVVbml0IHUpIHsKICAgICAgICAgICAgICAgIHJl\ndHVybiB1LnRvTWlsbGlzKGQpOwogICAgICAgICAgICB9CgogICAgICAgICAg\nICBpbnQgZXhjZXNzTmFub3MobG9uZyBkLCBsb25nIG0pIHsKICAgICAgICAg\nICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAg\nICBwdWJsaWMgc3RhdGljIGZpbmFsIFRpbWVVbml0IFNFQ09ORFMgPSBuZXcg\nVGltZVVuaXQoMywgIlNFQ09ORFMiKSB7CiAgICAgICAgcHJpdmF0ZSBmaW5h\nbCBzdGF0aWMgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gMjI3NzU1MDI4NDQ5\nMzc4MzkwTDsKCiAgICAgICAgcHVibGljIGxvbmcgdG9OYW5vcyhsb25nIGQp\nIHsKICAgICAgICAgICAgcmV0dXJuIHgoZCwgQzMgLyBDMCwgTUFYIC8gKEMz\nIC8gQzApKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBsb25nIHRvTWlj\ncm9zKGxvbmcgZCkgewogICAgICAgICAgICByZXR1cm4geChkLCBDMyAvIEMx\nLCBNQVggLyAoQzMgLyBDMSkpOwogICAgICAgIH0KCiAgICAgICAgcHVibGlj\nIGxvbmcgdG9NaWxsaXMobG9uZyBkKSB7CiAgICAgICAgICAgIHJldHVybiB4\nKGQsIEMzIC8gQzIsIE1BWCAvIChDMyAvIEMyKSk7CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgbG9uZyB0b1NlY29uZHMobG9uZyBkKSB7CiAgICAgICAg\nICAgIHJldHVybiBkOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGxvbmcg\ndG9NaW51dGVzKGxvbmcgZCkgewogICAgICAgICAgICByZXR1cm4gZCAvIChD\nNCAvIEMzKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBsb25nIHRvSG91\ncnMobG9uZyBkKSB7CiAgICAgICAgICAgIHJldHVybiBkIC8gKEM1IC8gQzMp\nOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGxvbmcgdG9EYXlzKGxvbmcg\nZCkgewogICAgICAgICAgICByZXR1cm4gZCAvIChDNiAvIEMzKTsKICAgICAg\nICB9CgogICAgICAgIHB1YmxpYyBsb25nIGNvbnZlcnQobG9uZyBkLCBUaW1l\nVW5pdCB1KSB7CiAgICAgICAgICAgIHJldHVybiB1LnRvU2Vjb25kcyhkKTsK\nICAgICAgICB9CgogICAgICAgIGludCBleGNlc3NOYW5vcyhsb25nIGQsIGxv\nbmcgbSkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICB9\nOwoKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgVGltZVVuaXQgTUlOVVRFUyA9\nIG5ldyBUaW1lVW5pdCg0LCAiTUlOVVRFUyIpIHsKICAgICAgICBwcml2YXRl\nIGZpbmFsIHN0YXRpYyBsb25nIHNlcmlhbFZlcnNpb25VSUQgPSAxODI3MzUx\nNTY2NDAyNjA5MTg3TDsKCiAgICAgICAgcHVibGljIGxvbmcgdG9OYW5vcyhs\nb25nIGQpIHsKICAgICAgICAgICAgcmV0dXJuIHgoZCwgQzQgLyBDMCwgTUFY\nIC8gKEM0IC8gQzApKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBsb25n\nIHRvTWljcm9zKGxvbmcgZCkgewogICAgICAgICAgICByZXR1cm4geChkLCBD\nNCAvIEMxLCBNQVggLyAoQzQgLyBDMSkpOwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIGxvbmcgdG9NaWxsaXMobG9uZyBkKSB7CiAgICAgICAgICAgIHJl\ndHVybiB4KGQsIEM0IC8gQzIsIE1BWCAvIChDNCAvIEMyKSk7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgbG9uZyB0b1NlY29uZHMobG9uZyBkKSB7CiAg\nICAgICAgICAgIHJldHVybiB4KGQsIEM0IC8gQzMsIE1BWCAvIChDNCAvIEMz\nKSk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgbG9uZyB0b01pbnV0ZXMo\nbG9uZyBkKSB7CiAgICAgICAgICAgIHJldHVybiBkOwogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIGxvbmcgdG9Ib3Vycyhsb25nIGQpIHsKICAgICAgICAg\nICAgcmV0dXJuIGQgLyAoQzUgLyBDNCk7CiAgICAgICAgfQoKICAgICAgICBw\ndWJsaWMgbG9uZyB0b0RheXMobG9uZyBkKSB7CiAgICAgICAgICAgIHJldHVy\nbiBkIC8gKEM2IC8gQzQpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGxv\nbmcgY29udmVydChsb25nIGQsIFRpbWVVbml0IHUpIHsKICAgICAgICAgICAg\ncmV0dXJuIHUudG9NaW51dGVzKGQpOwogICAgICAgIH0KCiAgICAgICAgaW50\nIGV4Y2Vzc05hbm9zKGxvbmcgZCwgbG9uZyBtKSB7CiAgICAgICAgICAgIHJl\ndHVybiAwOwogICAgICAgIH0KICAgIH07CgogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBUaW1lVW5pdCBIT1VSUyA9IG5ldyBUaW1lVW5pdCg1LCAiSE9VUlMi\nKSB7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBzdGF0aWMgbG9uZyBzZXJpYWxW\nZXJzaW9uVUlEID0gLTY0Mzg0MzYxMzQ3MzIwODk4MTBMOwoKICAgICAgICBw\ndWJsaWMgbG9uZyB0b05hbm9zKGxvbmcgZCkgewogICAgICAgICAgICByZXR1\ncm4geChkLCBDNSAvIEMwLCBNQVggLyAoQzUgLyBDMCkpOwogICAgICAgIH0K\nCiAgICAgICAgcHVibGljIGxvbmcgdG9NaWNyb3MobG9uZyBkKSB7CiAgICAg\nICAgICAgIHJldHVybiB4KGQsIEM1IC8gQzEsIE1BWCAvIChDNSAvIEMxKSk7\nCiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgbG9uZyB0b01pbGxpcyhsb25n\nIGQpIHsKICAgICAgICAgICAgcmV0dXJuIHgoZCwgQzUgLyBDMiwgTUFYIC8g\nKEM1IC8gQzIpKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBsb25nIHRv\nU2Vjb25kcyhsb25nIGQpIHsKICAgICAgICAgICAgcmV0dXJuIHgoZCwgQzUg\nLyBDMywgTUFYIC8gKEM1IC8gQzMpKTsKICAgICAgICB9CgogICAgICAgIHB1\nYmxpYyBsb25nIHRvTWludXRlcyhsb25nIGQpIHsKICAgICAgICAgICAgcmV0\ndXJuIHgoZCwgQzUgLyBDNCwgTUFYIC8gKEM1IC8gQzQpKTsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyBsb25nIHRvSG91cnMobG9uZyBkKSB7CiAgICAg\nICAgICAgIHJldHVybiBkOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGxv\nbmcgdG9EYXlzKGxvbmcgZCkgewogICAgICAgICAgICByZXR1cm4gZCAvIChD\nNiAvIEM1KTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBsb25nIGNvbnZl\ncnQobG9uZyBkLCBUaW1lVW5pdCB1KSB7CiAgICAgICAgICAgIHJldHVybiB1\nLnRvSG91cnMoZCk7CiAgICAgICAgfQoKICAgICAgICBpbnQgZXhjZXNzTmFu\nb3MobG9uZyBkLCBsb25nIG0pIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAg\nICAgICAgfQogICAgfTsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFRpbWVV\nbml0IERBWVMgPSBuZXcgVGltZVVuaXQoNiwgIkRBWVMiKSB7CiAgICAgICAg\ncHJpdmF0ZSBmaW5hbCBzdGF0aWMgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0g\nNTY3NDYzMTcxOTU5Njc0NjAwTDsKCiAgICAgICAgcHVibGljIGxvbmcgdG9O\nYW5vcyhsb25nIGQpIHsKICAgICAgICAgICAgcmV0dXJuIHgoZCwgQzYgLyBD\nMCwgTUFYIC8gKEM2IC8gQzApKTsKICAgICAgICB9CgogICAgICAgIHB1Ymxp\nYyBsb25nIHRvTWljcm9zKGxvbmcgZCkgewogICAgICAgICAgICByZXR1cm4g\neChkLCBDNiAvIEMxLCBNQVggLyAoQzYgLyBDMSkpOwogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIGxvbmcgdG9NaWxsaXMobG9uZyBkKSB7CiAgICAgICAg\nICAgIHJldHVybiB4KGQsIEM2IC8gQzIsIE1BWCAvIChDNiAvIEMyKSk7CiAg\nICAgICAgfQoKICAgICAgICBwdWJsaWMgbG9uZyB0b1NlY29uZHMobG9uZyBk\nKSB7CiAgICAgICAgICAgIHJldHVybiB4KGQsIEM2IC8gQzMsIE1BWCAvIChD\nNiAvIEMzKSk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgbG9uZyB0b01p\nbnV0ZXMobG9uZyBkKSB7CiAgICAgICAgICAgIHJldHVybiB4KGQsIEM2IC8g\nQzQsIE1BWCAvIChDNiAvIEM0KSk7CiAgICAgICAgfQoKICAgICAgICBwdWJs\naWMgbG9uZyB0b0hvdXJzKGxvbmcgZCkgewogICAgICAgICAgICByZXR1cm4g\neChkLCBDNiAvIEM1LCBNQVggLyAoQzYgLyBDNSkpOwogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIGxvbmcgdG9EYXlzKGxvbmcgZCkgewogICAgICAgICAg\nICByZXR1cm4gZDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBsb25nIGNv\nbnZlcnQobG9uZyBkLCBUaW1lVW5pdCB1KSB7CiAgICAgICAgICAgIHJldHVy\nbiB1LnRvRGF5cyhkKTsKICAgICAgICB9CgogICAgICAgIGludCBleGNlc3NO\nYW5vcyhsb25nIGQsIGxvbmcgbSkgewogICAgICAgICAgICByZXR1cm4gMDsK\nICAgICAgICB9CiAgICB9OwoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFRp\nbWVVbml0W10gdmFsdWVzID0gbmV3IFRpbWVVbml0W117CiAgICAgICAgTkFO\nT1NFQ09ORFMsIE1JQ1JPU0VDT05EUywgTUlMTElTRUNPTkRTLCBTRUNPTkRT\nLCBNSU5VVEVTLCBIT1VSUywgREFZUwogICAgfTsKCiAgICBwdWJsaWMgc3Rh\ndGljIFRpbWVVbml0W10gdmFsdWVzKCkgewogICAgICAgIHJldHVybiAoVGlt\nZVVuaXRbXSkgdmFsdWVzLmNsb25lKCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBUaGUgaW5kZXggb2YgdGhpcyB1bml0LiBUaGlzIHZhbHVlIGlzIG5vIGxv\nbmdlciB1c2VkIGluIHRoaXMKICAgICAqIHZlcnNpb24gb2YgdGhpcyBjbGFz\ncywgYnV0IGlzIHJldGFpbmVkIGZvciBzZXJpYWxpemF0aW9uCiAgICAgKiBj\nb21wYXRpYmlsaXR5IHdpdGggcHJldmlvdXMgdmVyc2lvbi4KICAgICAqLwog\nICAgcHJpdmF0ZSBmaW5hbCBpbnQgaW5kZXg7CgogICAgLyoqCiAgICAgKiBu\nYW1lIG9mIHRoaXMgdW5pdAogICAgICovCiAgICBwcml2YXRlIGZpbmFsIFN0\ncmluZyBuYW1lOwoKICAgIC8qKgogICAgICogSW50ZXJuYWwgY29uc3RydWN0\nb3IKICAgICAqLwogICAgVGltZVVuaXQoaW50IGluZGV4LCBTdHJpbmcgbmFt\nZSkgewogICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDsKICAgICAgICB0aGlz\nLm5hbWUgPSBuYW1lOwogICAgfQoKICAgIC8vIEhhbmR5IGNvbnN0YW50cyBm\nb3IgY29udmVyc2lvbiBtZXRob2RzCiAgICBzdGF0aWMgZmluYWwgbG9uZyBD\nMCA9IDE7CiAgICBzdGF0aWMgZmluYWwgbG9uZyBDMSA9IEMwICogMTAwMDsK\nICAgIHN0YXRpYyBmaW5hbCBsb25nIEMyID0gQzEgKiAxMDAwOwogICAgc3Rh\ndGljIGZpbmFsIGxvbmcgQzMgPSBDMiAqIDEwMDA7CiAgICBzdGF0aWMgZmlu\nYWwgbG9uZyBDNCA9IEMzICogNjA7CiAgICBzdGF0aWMgZmluYWwgbG9uZyBD\nNSA9IEM0ICogNjA7CiAgICBzdGF0aWMgZmluYWwgbG9uZyBDNiA9IEM1ICog\nMjQ7CgogICAgc3RhdGljIGZpbmFsIGxvbmcgTUFYID0gTG9uZy5NQVhfVkFM\nVUU7CgogICAgLyoqCiAgICAgKiBTY2FsZSBkIGJ5IG0sIGNoZWNraW5nIGZv\nciBvdmVyZmxvdy4KICAgICAqIFRoaXMgaGFzIGEgc2hvcnQgbmFtZSB0byBt\nYWtlIGFib3ZlIGNvZGUgbW9yZSByZWFkYWJsZS4KICAgICAqLwogICAgc3Rh\ndGljIGxvbmcgeChsb25nIGQsIGxvbmcgbSwgbG9uZyBvdmVyKSB7CiAgICAg\nICAgaWYgKGQgPiBvdmVyKSByZXR1cm4gTG9uZy5NQVhfVkFMVUU7CiAgICAg\nICAgaWYgKGQgPCAtb3ZlcikgcmV0dXJuIExvbmcuTUlOX1ZBTFVFOwogICAg\nICAgIHJldHVybiBkICogbTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnZl\ncnQgdGhlIGdpdmVuIHRpbWUgZHVyYXRpb24gaW4gdGhlIGdpdmVuIHVuaXQg\ndG8gdGhpcwogICAgICogdW5pdC4gQ29udmVyc2lvbnMgZnJvbSBmaW5lciB0\nbyBjb2Fyc2VyIGdyYW51bGFyaXRpZXMKICAgICAqIHRydW5jYXRlLCBzbyBs\nb3NlIHByZWNpc2lvbi4gRm9yIGV4YW1wbGUgY29udmVydGluZwogICAgICog\nPHR0Pjk5OTwvdHQ+IG1pbGxpc2Vjb25kcyB0byBzZWNvbmRzIHJlc3VsdHMg\naW4KICAgICAqIDx0dD4wPC90dD4uIENvbnZlcnNpb25zIGZyb20gY29hcnNl\nciB0byBmaW5lciBncmFudWxhcml0aWVzCiAgICAgKiB3aXRoIGFyZ3VtZW50\ncyB0aGF0IHdvdWxkIG51bWVyaWNhbGx5IG92ZXJmbG93IHNhdHVyYXRlIHRv\nCiAgICAgKiA8dHQ+TG9uZy5NSU5fVkFMVUU8L3R0PiBpZiBuZWdhdGl2ZSBv\nciA8dHQ+TG9uZy5NQVhfVkFMVUU8L3R0PgogICAgICogaWYgcG9zaXRpdmUu\nIEZvciBleGFtcGxlLCB0byBjb252ZXJ0IDEwIG1pbnV0ZXMgdG8gbWlsbGlz\nZWNvbmRzLCB1c2U6CiAgICAgKiA8dHQ+VGltZVVuaXQuTUlMTElTRUNPTkRT\nLmNvbnZlcnQoMTBMLCBUaW1lVW5pdC5NSU5VVEVTKTwvdHQ+CiAgICAgKgog\nICAgICogQHBhcmFtIHNvdXJjZUR1cmF0aW9uIHRoZSB0aW1lIGR1cmF0aW9u\nIGluIHRoZSBnaXZlbiA8dHQ+c291cmNlVW5pdDwvdHQ+CiAgICAgKiBAcGFy\nYW0gc291cmNlVW5pdCB0aGUgdW5pdCBvZiB0aGUgPHR0PnNvdXJjZUR1cmF0\naW9uPC90dD4gYXJndW1lbnQKICAgICAqIEByZXR1cm4gdGhlIGNvbnZlcnRl\nZCBkdXJhdGlvbiBpbiB0aGlzIHVuaXQsCiAgICAgKiBvciA8dHQ+TG9uZy5N\nSU5fVkFMVUU8L3R0PiBpZiBjb252ZXJzaW9uIHdvdWxkIG5lZ2F0aXZlbHkK\nICAgICAqIG92ZXJmbG93LCBvciA8dHQ+TG9uZy5NQVhfVkFMVUU8L3R0PiBp\nZiBpdCB3b3VsZCBwb3NpdGl2ZWx5IG92ZXJmbG93LgogICAgICovCiAgICBw\ndWJsaWMgYWJzdHJhY3QgbG9uZyBjb252ZXJ0KGxvbmcgc291cmNlRHVyYXRp\nb24sIFRpbWVVbml0IHNvdXJjZVVuaXQpOwoKICAgIC8qKgogICAgICogRXF1\naXZhbGVudCB0byA8dHQ+TkFOT1NFQ09ORFMuY29udmVydChkdXJhdGlvbiwg\ndGhpcyk8L3R0Pi4KICAgICAqCiAgICAgKiBAcGFyYW0gZHVyYXRpb24gdGhl\nIGR1cmF0aW9uCiAgICAgKiBAcmV0dXJuIHRoZSBjb252ZXJ0ZWQgZHVyYXRp\nb24sCiAgICAgKiBvciA8dHQ+TG9uZy5NSU5fVkFMVUU8L3R0PiBpZiBjb252\nZXJzaW9uIHdvdWxkIG5lZ2F0aXZlbHkKICAgICAqIG92ZXJmbG93LCBvciA8\ndHQ+TG9uZy5NQVhfVkFMVUU8L3R0PiBpZiBpdCB3b3VsZCBwb3NpdGl2ZWx5\nIG92ZXJmbG93LgogICAgICogQHNlZSAjY29udmVydAogICAgICovCiAgICBw\ndWJsaWMgYWJzdHJhY3QgbG9uZyB0b05hbm9zKGxvbmcgZHVyYXRpb24pOwoK\nICAgIC8qKgogICAgICogRXF1aXZhbGVudCB0byA8dHQ+TUlDUk9TRUNPTkRT\nLmNvbnZlcnQoZHVyYXRpb24sIHRoaXMpPC90dD4uCiAgICAgKgogICAgICog\nQHBhcmFtIGR1cmF0aW9uIHRoZSBkdXJhdGlvbgogICAgICogQHJldHVybiB0\naGUgY29udmVydGVkIGR1cmF0aW9uLAogICAgICogb3IgPHR0PkxvbmcuTUlO\nX1ZBTFVFPC90dD4gaWYgY29udmVyc2lvbiB3b3VsZCBuZWdhdGl2ZWx5CiAg\nICAgKiBvdmVyZmxvdywgb3IgPHR0PkxvbmcuTUFYX1ZBTFVFPC90dD4gaWYg\naXQgd291bGQgcG9zaXRpdmVseSBvdmVyZmxvdy4KICAgICAqIEBzZWUgI2Nv\nbnZlcnQKICAgICAqLwogICAgcHVibGljIGFic3RyYWN0IGxvbmcgdG9NaWNy\nb3MobG9uZyBkdXJhdGlvbik7CgogICAgLyoqCiAgICAgKiBFcXVpdmFsZW50\nIHRvIDx0dD5NSUxMSVNFQ09ORFMuY29udmVydChkdXJhdGlvbiwgdGhpcyk8\nL3R0Pi4KICAgICAqCiAgICAgKiBAcGFyYW0gZHVyYXRpb24gdGhlIGR1cmF0\naW9uCiAgICAgKiBAcmV0dXJuIHRoZSBjb252ZXJ0ZWQgZHVyYXRpb24sCiAg\nICAgKiBvciA8dHQ+TG9uZy5NSU5fVkFMVUU8L3R0PiBpZiBjb252ZXJzaW9u\nIHdvdWxkIG5lZ2F0aXZlbHkKICAgICAqIG92ZXJmbG93LCBvciA8dHQ+TG9u\nZy5NQVhfVkFMVUU8L3R0PiBpZiBpdCB3b3VsZCBwb3NpdGl2ZWx5IG92ZXJm\nbG93LgogICAgICogQHNlZSAjY29udmVydAogICAgICovCiAgICBwdWJsaWMg\nYWJzdHJhY3QgbG9uZyB0b01pbGxpcyhsb25nIGR1cmF0aW9uKTsKCiAgICAv\nKioKICAgICAqIEVxdWl2YWxlbnQgdG8gPHR0PlNFQ09ORFMuY29udmVydChk\ndXJhdGlvbiwgdGhpcyk8L3R0Pi4KICAgICAqCiAgICAgKiBAcGFyYW0gZHVy\nYXRpb24gdGhlIGR1cmF0aW9uCiAgICAgKiBAcmV0dXJuIHRoZSBjb252ZXJ0\nZWQgZHVyYXRpb24sCiAgICAgKiBvciA8dHQ+TG9uZy5NSU5fVkFMVUU8L3R0\nPiBpZiBjb252ZXJzaW9uIHdvdWxkIG5lZ2F0aXZlbHkKICAgICAqIG92ZXJm\nbG93LCBvciA8dHQ+TG9uZy5NQVhfVkFMVUU8L3R0PiBpZiBpdCB3b3VsZCBw\nb3NpdGl2ZWx5IG92ZXJmbG93LgogICAgICogQHNlZSAjY29udmVydAogICAg\nICovCiAgICBwdWJsaWMgYWJzdHJhY3QgbG9uZyB0b1NlY29uZHMobG9uZyBk\ndXJhdGlvbik7CgogICAgLyoqCiAgICAgKiBFcXVpdmFsZW50IHRvIDx0dD5N\nSU5VVEVTLmNvbnZlcnQoZHVyYXRpb24sIHRoaXMpPC90dD4uCiAgICAgKgog\nICAgICogQHBhcmFtIGR1cmF0aW9uIHRoZSBkdXJhdGlvbgogICAgICogQHJl\ndHVybiB0aGUgY29udmVydGVkIGR1cmF0aW9uLAogICAgICogb3IgPHR0Pkxv\nbmcuTUlOX1ZBTFVFPC90dD4gaWYgY29udmVyc2lvbiB3b3VsZCBuZWdhdGl2\nZWx5CiAgICAgKiBvdmVyZmxvdywgb3IgPHR0PkxvbmcuTUFYX1ZBTFVFPC90\ndD4gaWYgaXQgd291bGQgcG9zaXRpdmVseSBvdmVyZmxvdy4KICAgICAqIEBz\nZWUgI2NvbnZlcnQKICAgICAqIEBzaW5jZSAxLjYKICAgICAqLwogICAgcHVi\nbGljIGFic3RyYWN0IGxvbmcgdG9NaW51dGVzKGxvbmcgZHVyYXRpb24pOwoK\nICAgIC8qKgogICAgICogRXF1aXZhbGVudCB0byA8dHQ+SE9VUlMuY29udmVy\ndChkdXJhdGlvbiwgdGhpcyk8L3R0Pi4KICAgICAqCiAgICAgKiBAcGFyYW0g\nZHVyYXRpb24gdGhlIGR1cmF0aW9uCiAgICAgKiBAcmV0dXJuIHRoZSBjb252\nZXJ0ZWQgZHVyYXRpb24sCiAgICAgKiBvciA8dHQ+TG9uZy5NSU5fVkFMVUU8\nL3R0PiBpZiBjb252ZXJzaW9uIHdvdWxkIG5lZ2F0aXZlbHkKICAgICAqIG92\nZXJmbG93LCBvciA8dHQ+TG9uZy5NQVhfVkFMVUU8L3R0PiBpZiBpdCB3b3Vs\nZCBwb3NpdGl2ZWx5IG92ZXJmbG93LgogICAgICogQHNlZSAjY29udmVydAog\nICAgICogQHNpbmNlIDEuNgogICAgICovCiAgICBwdWJsaWMgYWJzdHJhY3Qg\nbG9uZyB0b0hvdXJzKGxvbmcgZHVyYXRpb24pOwoKICAgIC8qKgogICAgICog\nRXF1aXZhbGVudCB0byA8dHQ+REFZUy5jb252ZXJ0KGR1cmF0aW9uLCB0aGlz\nKTwvdHQ+LgogICAgICoKICAgICAqIEBwYXJhbSBkdXJhdGlvbiB0aGUgZHVy\nYXRpb24KICAgICAqIEByZXR1cm4gdGhlIGNvbnZlcnRlZCBkdXJhdGlvbgog\nICAgICogQHNlZSAjY29udmVydAogICAgICogQHNpbmNlIDEuNgogICAgICov\nCiAgICBwdWJsaWMgYWJzdHJhY3QgbG9uZyB0b0RheXMobG9uZyBkdXJhdGlv\nbik7CgogICAgLyoqCiAgICAgKiBVdGlsaXR5IHRvIGNvbXB1dGUgdGhlIGV4\nY2Vzcy1uYW5vc2Vjb25kIGFyZ3VtZW50IHRvIHdhaXQsIHNsZWVwLCBqb2lu\nLgogICAgICoKICAgICAqIEBwYXJhbSBkIHRoZSBkdXJhdGlvbgogICAgICog\nQHBhcmFtIG0gdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMKICAgICAqIEBy\nZXR1cm4gdGhlIG51bWJlciBvZiBuYW5vc2Vjb25kcwogICAgICovCiAgICBh\nYnN0cmFjdCBpbnQgZXhjZXNzTmFub3MobG9uZyBkLCBsb25nIG0pOwoKICAg\nIC8qKgogICAgICogUGVyZm9ybXMgYSB0aW1lZCA8dHQ+T2JqZWN0LndhaXQ8\nL3R0PiB1c2luZyB0aGlzIHRpbWUgdW5pdC4KICAgICAqIFRoaXMgaXMgYSBj\nb252ZW5pZW5jZSBtZXRob2QgdGhhdCBjb252ZXJ0cyB0aW1lb3V0IGFyZ3Vt\nZW50cwogICAgICogaW50byB0aGUgZm9ybSByZXF1aXJlZCBieSB0aGUgPHR0\nPk9iamVjdC53YWl0PC90dD4gbWV0aG9kLgogICAgICogRm9yIGV4YW1wbGUs\nIHlvdSBjb3VsZCBpbXBsZW1lbnQgYSBibG9ja2luZyA8dHQ+cG9sbDwvdHQ+\nCiAgICAgKiBtZXRob2Qoc2VlIHtAbGluayBCbG9ja2luZ1F1ZXVlI3BvbGwg\nQmxvY2tpbmdRdWV1ZS5wb2xsfSkgdXNpbmc6CiAgICAgKiAKICAgICAqIDxw\ncmU+IHB1YmxpYyBzeW5jaHJvbml6ZWQgT2JqZWN0IHBvbGwobG9uZyB0aW1l\nb3V0LCBUaW1lVW5pdCB1bml0KQogICAgICogdGhyb3dzIEludGVycnVwdGVk\nRXhjZXB0aW9uIHsgd2hpbGUgKGVtcHR5KSB7CiAgICAgKiB1bml0LnRpbWVk\nV2FpdCh0aGlzLCB0aW1lb3V0KTsgLi4uIH0gfTwvcHJlPgogICAgICoKICAg\nICAqIEBwYXJhbSBvYmogdGhlIG9iamVjdCB0byB3YWl0IG9uCiAgICAgKiBA\ncGFyYW0gdGltZW91dCB0aGUgbWF4aW11bSB0aW1lIHRvIHdhaXQuIElmIGxl\nc3MgdGhhbgogICAgICogb3IgZXF1YWwgdG8gemVybywgZG8gbm90IHdhaXQg\nYXQgYWxsLgogICAgICogQHRocm93cyBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBp\nZiBpbnRlcnJ1cHRlZCB3aGlsZSB3YWl0aW5nLgogICAgICogQHNlZSBPYmpl\nY3Qjd2FpdChsb25nLCBpbnQpCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRp\nbWVkV2FpdChPYmplY3Qgb2JqLCBsb25nIHRpbWVvdXQpCiAgICAgICAgdGhy\nb3dzIEludGVycnVwdGVkRXhjZXB0aW9uIHsKICAgICAgICBpZiAodGltZW91\ndCA+IDApIHsKICAgICAgICAgICAgbG9uZyBtcyA9IHRvTWlsbGlzKHRpbWVv\ndXQpOwogICAgICAgICAgICBpbnQgbnMgPSBleGNlc3NOYW5vcyh0aW1lb3V0\nLCBtcyk7CiAgICAgICAgICAgIG9iai53YWl0KG1zLCBucyk7CiAgICAgICAg\nfQogICAgfQoKICAgIC8qKgogICAgICogUGVyZm9ybXMgYSB0aW1lZCA8dHQ+\nVGhyZWFkLmpvaW48L3R0PiB1c2luZyB0aGlzIHRpbWUgdW5pdC4KICAgICAq\nIFRoaXMgaXMgYSBjb252ZW5pZW5jZSBtZXRob2QgdGhhdCBjb252ZXJ0cyB0\naW1lIGFyZ3VtZW50cyBpbnRvIHRoZQogICAgICogZm9ybSByZXF1aXJlZCBi\neSB0aGUgPHR0PlRocmVhZC5qb2luPC90dD4gbWV0aG9kLgogICAgICoKICAg\nICAqIEBwYXJhbSB0aHJlYWQgdGhlIHRocmVhZCB0byB3YWl0IGZvcgogICAg\nICogQHBhcmFtIHRpbWVvdXQgdGhlIG1heGltdW0gdGltZSB0byB3YWl0LiBJ\nZiBsZXNzIHRoYW4KICAgICAqIG9yIGVxdWFsIHRvIHplcm8sIGRvIG5vdCB3\nYWl0IGF0IGFsbC4KICAgICAqIEB0aHJvd3MgSW50ZXJydXB0ZWRFeGNlcHRp\nb24gaWYgaW50ZXJydXB0ZWQgd2hpbGUgd2FpdGluZy4KICAgICAqIEBzZWUg\nVGhyZWFkI2pvaW4obG9uZywgaW50KQogICAgICovCiAgICBwdWJsaWMgdm9p\nZCB0aW1lZEpvaW4oVGhyZWFkIHRocmVhZCwgbG9uZyB0aW1lb3V0KQogICAg\nICAgIHRocm93cyBJbnRlcnJ1cHRlZEV4Y2VwdGlvbiB7CiAgICAgICAgaWYg\nKHRpbWVvdXQgPiAwKSB7CiAgICAgICAgICAgIGxvbmcgbXMgPSB0b01pbGxp\ncyh0aW1lb3V0KTsKICAgICAgICAgICAgaW50IG5zID0gZXhjZXNzTmFub3Mo\ndGltZW91dCwgbXMpOwogICAgICAgICAgICB0aHJlYWQuam9pbihtcywgbnMp\nOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFBlcmZvcm1zIGEg\nPHR0PlRocmVhZC5zbGVlcDwvdHQ+IHVzaW5nIHRoaXMgdW5pdC4KICAgICAq\nIFRoaXMgaXMgYSBjb252ZW5pZW5jZSBtZXRob2QgdGhhdCBjb252ZXJ0cyB0\naW1lIGFyZ3VtZW50cyBpbnRvIHRoZQogICAgICogZm9ybSByZXF1aXJlZCBi\neSB0aGUgPHR0PlRocmVhZC5zbGVlcDwvdHQ+IG1ldGhvZC4KICAgICAqCiAg\nICAgKiBAcGFyYW0gdGltZW91dCB0aGUgbWF4aW11bSB0aW1lIHRvIHNsZWVw\nLiBJZiBsZXNzIHRoYW4KICAgICAqIG9yIGVxdWFsIHRvIHplcm8sIGRvIG5v\ndCBzbGVlcCBhdCBhbGwuCiAgICAgKiBAdGhyb3dzIEludGVycnVwdGVkRXhj\nZXB0aW9uIGlmIGludGVycnVwdGVkIHdoaWxlIHNsZWVwaW5nLgogICAgICog\nQHNlZSBUaHJlYWQjc2xlZXAKICAgICAqLwogICAgcHVibGljIHZvaWQgc2xl\nZXAobG9uZyB0aW1lb3V0KSB0aHJvd3MgSW50ZXJydXB0ZWRFeGNlcHRpb24g\newogICAgICAgIGlmICh0aW1lb3V0ID4gMCkgewogICAgICAgICAgICBsb25n\nIG1zID0gdG9NaWxsaXModGltZW91dCk7CiAgICAgICAgICAgIGludCBucyA9\nIGV4Y2Vzc05hbm9zKHRpbWVvdXQsIG1zKTsKICAgICAgICAgICAgVGhyZWFk\nLnNsZWVwKG1zLCBucyk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICB9\nCn0K\n","encoding":"base64"}

