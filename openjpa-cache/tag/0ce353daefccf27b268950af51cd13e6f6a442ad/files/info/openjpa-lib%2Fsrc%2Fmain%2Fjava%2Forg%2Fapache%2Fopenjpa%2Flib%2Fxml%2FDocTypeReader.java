{"sha":"91dc8cf69494cd3fd9b361199d04e7330151c403","node_id":"MDQ6QmxvYjIwNjM2NDo5MWRjOGNmNjk0OTRjZDNmZDliMzYxMTk5ZDA0ZTczMzAxNTFjNDAz","size":8659,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/91dc8cf69494cd3fd9b361199d04e7330151c403","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIueG1sOwoKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247\nCmltcG9ydCBqYXZhLmlvLlB1c2hiYWNrUmVhZGVyOwppbXBvcnQgamF2YS5p\nby5SZWFkZXI7CmltcG9ydCBqYXZhLmlvLlN0cmluZ1JlYWRlcjsKaW1wb3J0\nIGphdmEuaW8uU3RyaW5nV3JpdGVyOwoKLyoqCiAqIFRoZSBEb2NUeXBlUmVh\nZGVyIGNhbiBiZSB1c2VkIHRvIGR5bmFtaWNhbGx5IGluY2x1ZGUgYQogKiA8\nY29kZT5ET0NUWVBFPC9jb2RlPiBkZWNsYXJhdGlvbiBpbiBhbiBYTUwgc3Ry\nZWFtLiBPZnRlbiBpdCBpcwogKiBpbmNvbnZlbmllbnQgdG8gc3BlY2lmeSBh\nIDxjb2RlPkRPQ1RZUEU8L2NvZGU+IGluIFhNTCBmaWxlcyAtLSB5b3UgbWFu\neQogKiB3YW50IHRoZSBvcHRpb24gb2YgcGFyc2luZyB0aGUgZmlsZXMgd2l0\naG91dCByZWFkaW5nIHRoZSBEVEQsIHRoZSBmaWxlcwogKiBtYXkgbW92ZSBh\ncm91bmQsIG1ha2luZyBwbGFjaW5nIGEgPGNvZGU+RE9DVFlQRTwvY29kZT4g\ncGF0aCB0byB0aGUgRFREIGluCiAqIHRoZW0gdW5hdHRyYWN0aXZlLCBhbmQg\neW91IG1heSBoYXZlIG1hbnkgZmlsZXMsIG1ha2luZyBhbiBpbi1saW5lIGlu\nY2x1ZGUKICogb2YgdGhlIERURCB1bmF0dHJhY3RpdmUgYXMgd2VsbC4gVGhp\ncyBjbGFzcyBtYWtlcwogKiBpdCBwb3NzaWJsZSB0byBtYWludGFpbiBYTUwg\nZmlsZXMgd2l0aG91dCBhbnkgPGNvZGU+RE9DVFlQRTwvY29kZT4KICogZGVj\nbGFyYXRpb24sIHRoZW4gZHluYW1pY2FsbHkgaW5jbHVkZSB0aGUgPGNvZGU+\nRE9DVFlQRTwvY29kZT4gaW5mb3JtYXRpb24KICogYXQgcnVudGltZS4KICog\nSWYgdGhlIFhNTCBzdHJlYW0gYWxyZWFkeSBjb250YWlucyBhIDxjb2RlPkRP\nQ1RZUEU8L2NvZGU+IGRlY2xhcmF0aW9uLAogKiB0aGUgcmVhZGVyIHdpbGwg\nbm90IGFkZCBhbiBhZGRpdGlvbmFsIG9uZS4KICogVGhlIDxjb2RlPkRPQ1RZ\nUEU8L2NvZGU+IGluZm9ybWF0aW9uIGdpdmVuIHRvIHRoZSByZWFkZXIgd2ls\nbCBiZSBwbGFjZWQKICogaW4gdGhlIFhNTCBzdHJlYW0gaXQgd3JhcHMganVz\ndCBiZWZvcmUgdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgZG9jdW1lbnQuCiAq\nIE5vdGUgdGhhdCBhbGwgbWV0aG9kcyBvdGhlciB0aGFuIHRoZSB2YXJpb3Vz\nIGZvcm1zIG9mIDxjb2RlPnJlYWQ8L2NvZGU+CiAqIGFwcGx5IG9udG8gdGhl\nIHVuZGVybHlpbmcgWE1MIHN0cmVhbSBhbmQgc2hvdWxkIG5vdCBiZSB1c2Vk\nIHVudGlsIHRoZQogKiBoZWFkZXIgYW5kIGRvYyB0eXBlIGhhdmUgYmVlbiBy\nZWFkLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAbm9qYXZhZG9jCiAq\nLwpwdWJsaWMgY2xhc3MgRG9jVHlwZVJlYWRlciBleHRlbmRzIFJlYWRlciB7\nCgogICAgcHJpdmF0ZSBSZWFkZXIgX3htbCA9IG51bGw7CiAgICBwcml2YXRl\nIFJlYWRlciBfZG9jVHlwZSA9IG51bGw7CgogICAgLy8gdXNlIHRvIGhvbGQg\nYWxsIGhlYWRlciBpbmZvcm1hdGlvbiB1bnRpbCB0aGUgZG9jdHlwZSBkZWMg\nc2hvdWxkIGJlCiAgICAvLyBpbnNlcnRlZAogICAgcHJpdmF0ZSBjaGFyW10g\nX2hlYWRlciA9IG51bGw7CiAgICBwcml2YXRlIGludCBfaGVhZGVyUG9zID0g\nMDsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdCB0aGUgcmVhZGVyIHdpdGgg\nYW4gWE1MIHN0cmVhbSwgYW5kIHNldCB0aGUKICAgICAqIDxjb2RlPkRPQ1RZ\nUEU8L2NvZGU+IGluZm9ybWF0aW9uIHRvIGJlIGluY2x1ZGVkLiBUaGUgZ2l2\nZW4KICAgICAqIHJlYWRlciBzaG91bGQgYWNjZXNzIGFuIGlucHV0IHNvdXJj\nZSBjb250YWluaW5nIHRoZSBleGFjdCBkZWNsYXJhdGlvbgogICAgICogdG8g\naW5jbHVkZSwgc3VjaCBhczo8YnIgLz4KICAgICAqIDxjb2RlPiZsdDtET0NU\nWVBFIHNjaGVkdWxlIFNZU1RFTSAic2NoZWR1bGUuZHRkIiZndDs8L2NvZGU+\nPGJyIC8+CiAgICAgKiA8Y29kZT4mbHQ7RE9DVFlQRSBodG1sIFBVQkxJQyAi\nLS8vVzNDLy9EVEQgWEhUTUwgLi4uJmd0OzwvY29kZT48YnIgLz4KICAgICAq\nIDxjb2RlPiZsdDtET0NUWVBFIHN0b2NrLXByaWNlIFsgJmx0O0VMRU1FTlQg\nc3ltYiAuLi4gXSZndDs8L2NvZGU+PGJyIC8+CiAgICAgKiBJZiB0aGUgcmVh\nZGVyIGlzIG51bGwsIG5vIDxjb2RlPkRPQ1RZUEU8L2NvZGU+IGluZm9ybWF0\naW9uIHdpbGwgYmUKICAgICAqIGluY2x1ZGVkIGluIHRoZSBzdHJlYW0uCiAg\nICAgKi8KICAgIHB1YmxpYyBEb2NUeXBlUmVhZGVyKFJlYWRlciB4bWwsIFJl\nYWRlciBkb2NUeXBlKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIF9k\nb2NUeXBlID0gZG9jVHlwZTsKICAgICAgICBfeG1sID0gYnVmZmVySGVhZGVy\nKHhtbCk7CiAgICB9CgogICAgcHVibGljIGludCByZWFkKCkgdGhyb3dzIElP\nRXhjZXB0aW9uIHsKICAgICAgICBpbnQgY2ggPSByZWFkSGVhZGVyKCk7CiAg\nICAgICAgaWYgKGNoICE9IC0xKQogICAgICAgICAgICByZXR1cm4gY2g7Cgog\nICAgICAgIGNoID0gcmVhZERvY1R5cGUoKTsKICAgICAgICBpZiAoY2ggIT0g\nLTEpCiAgICAgICAgICAgIHJldHVybiBjaDsKCiAgICAgICAgcmV0dXJuIF94\nbWwucmVhZCgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgcmVhZChjaGFyW10g\nYnVmKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVybiByZWFk\nKGJ1ZiwgMCwgYnVmLmxlbmd0aCk7CiAgICB9CgogICAgcHVibGljIGludCBy\nZWFkKGNoYXJbXSBidWYsIGludCBvZmYsIGludCBsZW4pIHRocm93cyBJT0V4\nY2VwdGlvbiB7CiAgICAgICAgaW50IGhlYWRlclJlYWQgPSByZWFkSGVhZGVy\nKGJ1Ziwgb2ZmLCBsZW4pOwogICAgICAgIG9mZiArPSBoZWFkZXJSZWFkOwog\nICAgICAgIGxlbiAtPSBoZWFkZXJSZWFkOwoKICAgICAgICBpbnQgZG9jUmVh\nZCA9IHJlYWREb2NUeXBlKGJ1Ziwgb2ZmLCBsZW4pOwogICAgICAgIG9mZiAr\nPSBkb2NSZWFkOwogICAgICAgIGxlbiAtPSBkb2NSZWFkOwoKICAgICAgICBy\nZXR1cm4gaGVhZGVyUmVhZCArIGRvY1JlYWQgKyBfeG1sLnJlYWQoYnVmLCBv\nZmYsIGxlbik7CiAgICB9CgogICAgcHVibGljIGxvbmcgc2tpcChsb25nIGxl\nbikgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3htbC5z\na2lwKGxlbik7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gcmVhZHkoKSB0\naHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVybiBfeG1sLnJlYWR5\nKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gbWFya1N1cHBvcnRlZCgp\nIHsKICAgICAgICByZXR1cm4gX3htbC5tYXJrU3VwcG9ydGVkKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgbWFyayhpbnQgcmVhZEFoZWFkTGltaXQpIHRo\ncm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgX3htbC5tYXJrKHJlYWRBaGVh\nZExpbWl0KTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZXNldCgpIHRocm93\ncyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgX3htbC5yZXNldCgpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsK\nICAgICAgICBfeG1sLmNsb3NlKCk7CiAgICAgICAgaWYgKF9kb2NUeXBlICE9\nIG51bGwpCiAgICAgICAgICAgIF9kb2NUeXBlLmNsb3NlKCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBCdWZmZXIgYWxsIHRleHQgdW50aWwgdGhlIGRvYyB0\neXBlIGRlY2xhcmF0aW9uIHNob3VsZCBiZSBpbnNlcnRlZC4KICAgICAqLwog\nICAgcHJpdmF0ZSBSZWFkZXIgYnVmZmVySGVhZGVyKFJlYWRlciBvcmlnWE1M\nKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIC8vIGRvbid0IGJvdGhl\nciBpZiBubyBkb2MgdHlwZSBkZWNsYXJhdGlvbgogICAgICAgIGlmIChfZG9j\nVHlwZSA9PSBudWxsKSB7CiAgICAgICAgICAgIF9oZWFkZXIgPSBuZXcgY2hh\nclswXTsKICAgICAgICAgICAgcmV0dXJuIG9yaWdYTUw7CiAgICAgICAgfQoK\nICAgICAgICAvLyBjcmVhdGUgYnVmZmVyCiAgICAgICAgU3RyaW5nV3JpdGVy\nIHdyaXRlciA9IG5ldyBTdHJpbmdXcml0ZXIoKTsKICAgICAgICBQdXNoYmFj\na1JlYWRlciB4bWwgPSBuZXcgUHVzaGJhY2tSZWFkZXIob3JpZ1hNTCwgMyk7\nCiAgICAgICAgaW50IGNoLCBjaDIsIGNoMzsKICAgICAgICBib29sZWFuIGNv\nbW1lbnQ7CgogICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgIC8v\nIHJlYWQgbGVhZGluZyBzcGFjZQogICAgICAgICAgICBmb3IgKGNoID0geG1s\nLnJlYWQoKTsgY2ggIT0gLTEKICAgICAgICAgICAgICAgICYmIENoYXJhY3Rl\nci5pc1doaXRlc3BhY2UoKGNoYXIpIGNoKTsgY2ggPSB4bWwucmVhZCgpKQog\nICAgICAgICAgICAgICAgd3JpdGVyLndyaXRlKGNoKTsKICAgICAgICAgICAg\naWYgKGNoID09IC0xKQogICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRlck9u\nbHkod3JpdGVyLnRvU3RyaW5nKCkpOwoKICAgICAgICAgICAgLy8gaWYgbm90\nIFhNTCwgZmluaXNoCiAgICAgICAgICAgIGlmIChjaCAhPSAnPCcpIHsKICAg\nICAgICAgICAgICAgIHhtbC51bnJlYWQoY2gpOwogICAgICAgICAgICAgICAg\nX2hlYWRlciA9IHdyaXRlci50b1N0cmluZygpLnRvQ2hhckFycmF5KCk7CiAg\nICAgICAgICAgICAgICByZXR1cm4geG1sOwogICAgICAgICAgICB9CgogICAg\nICAgICAgICAvLyBpZiB0aGUgcm9vdCBlbGVtZW50LCBmaW5pc2gKICAgICAg\nICAgICAgY2ggPSB4bWwucmVhZCgpOwogICAgICAgICAgICBpZiAoY2ggIT0g\nJz8nICYmIGNoICE9ICchJykgewogICAgICAgICAgICAgICAgeG1sLnVucmVh\nZChjaCk7CiAgICAgICAgICAgICAgICB4bWwudW5yZWFkKCc8Jyk7CiAgICAg\nICAgICAgICAgICBfaGVhZGVyID0gd3JpdGVyLnRvU3RyaW5nKCkudG9DaGFy\nQXJyYXkoKTsKICAgICAgICAgICAgICAgIHJldHVybiB4bWw7CiAgICAgICAg\nICAgIH0KCiAgICAgICAgICAgIC8vIGlmIGEgZG9jIHR5cGUgZWxlbWVudCwg\nZmluaXNoCiAgICAgICAgICAgIGNoMiA9IHhtbC5yZWFkKCk7CiAgICAgICAg\nICAgIGlmIChjaCA9PSAnIScgJiYgY2gyID09ICdEJykgewogICAgICAgICAg\nICAgICAgeG1sLnVucmVhZChjaDIpOwogICAgICAgICAgICAgICAgeG1sLnVu\ncmVhZChjaCk7CiAgICAgICAgICAgICAgICB4bWwudW5yZWFkKCc8Jyk7CiAg\nICAgICAgICAgICAgICBfaGVhZGVyID0gd3JpdGVyLnRvU3RyaW5nKCkudG9D\naGFyQXJyYXkoKTsKICAgICAgICAgICAgICAgIF9kb2NUeXBlID0gbnVsbDsg\nLy8gbWFrZSBzdXJlIGRvYyB0eXBlIG5vdCBpbmNsdWRlZAogICAgICAgICAg\nICAgICAgcmV0dXJuIHhtbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAg\nLy8gaXMgdGhpcyBhIGNvbW1lbnQ/CiAgICAgICAgICAgIGNoMyA9IHhtbC5y\nZWFkKCk7CiAgICAgICAgICAgIGNvbW1lbnQgPSBjaCA9PSAnIScgJiYgY2gy\nID09ICctJyAmJiBjaDMgPT0gJy0nOwoKICAgICAgICAgICAgLy8gcGxhY2Ug\nZXZlcnl0aGluZyByZWFkIGludG8gdGhlIGhlYWRlciBtYXRlcmlhbAogICAg\nICAgICAgICB3cml0ZXIud3JpdGUoJzwnKTsKICAgICAgICAgICAgd3JpdGVy\nLndyaXRlKGNoKTsKICAgICAgICAgICAgd3JpdGVyLndyaXRlKGNoMik7CiAg\nICAgICAgICAgIHdyaXRlci53cml0ZShjaDMpOwoKICAgICAgICAgICAgLy8g\ncmVhZCB1bnRpbCB0aGUgbmV4dCAnPicgb3IgJy0tPicgaWYgYSBjb21tZW50\nCiAgICAgICAgICAgIGNoMiA9IDA7CiAgICAgICAgICAgIGNoMyA9IDA7CiAg\nICAgICAgICAgIHdoaWxlICgoY2ggPSB4bWwucmVhZCgpKSAhPSAtMSkgewog\nICAgICAgICAgICAgICAgd3JpdGVyLndyaXRlKGNoKTsKCiAgICAgICAgICAg\nICAgICBpZiAoKCFjb21tZW50ICYmIGNoID09ICc+JykKICAgICAgICAgICAg\nICAgICAgICB8fCAoY29tbWVudCAmJiBjaCA9PSAnPicgJiYgY2gyID09ICct\nJyAmJiBjaDMgPT0gJy0nKSkKICAgICAgICAgICAgICAgICAgICBicmVhazsK\nCiAgICAgICAgICAgICAgICAvLyB0cmFjayBsYXN0IHR3byBjaGFycyBzbyB3\nZSBjYW4gdGVsbCBpZiBjb21tZW50IGlzIGVuZGluZwogICAgICAgICAgICAg\nICAgY2gzID0gY2gyOwogICAgICAgICAgICAgICAgY2gyID0gY2g7CiAgICAg\nICAgICAgIH0KICAgICAgICAgICAgaWYgKGNoID09IC0xKQogICAgICAgICAg\nICAgICAgcmV0dXJuIGhlYWRlck9ubHkod3JpdGVyLnRvU3RyaW5nKCkpOwoK\nICAgICAgICAgICAgLy8gcmVhZCB0aGUgc3BhY2UgYWZ0ZXIgdGhlIGRlY2xh\ncmF0aW9uCiAgICAgICAgICAgIGZvciAoY2ggPSB4bWwucmVhZCgpOyBjaCAh\nPSAtMQogICAgICAgICAgICAgICAgJiYgQ2hhcmFjdGVyLmlzV2hpdGVzcGFj\nZSgoY2hhcikgY2gpOyBjaCA9IHhtbC5yZWFkKCkpCiAgICAgICAgICAgICAg\nICB3cml0ZXIud3JpdGUoY2gpOwogICAgICAgICAgICBpZiAoY2ggPT0gLTEp\nCiAgICAgICAgICAgICAgICByZXR1cm4gaGVhZGVyT25seSh3cml0ZXIudG9T\ndHJpbmcoKSk7CiAgICAgICAgICAgIHhtbC51bnJlYWQoY2gpOwogICAgICAg\nIH0KICAgIH0KCiAgICAvKioKICAgICAqIElmIHRoZSBzdHJlYW0gY29udGFp\nbmVkIG9ubHkgc3BhY2UsIHRoaW5rIG9mIGl0IGFzIHB1cmUgWE1MIHdpdGgg\nbm8KICAgICAqIGhlYWRlciBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgb3Ro\nZXIgbWV0aG9kcy4KICAgICAqLwogICAgcHJpdmF0ZSBSZWFkZXIgaGVhZGVy\nT25seShTdHJpbmcgaGVhZGVyKSB7CiAgICAgICAgX2hlYWRlciA9IG5ldyBj\naGFyWzBdOwogICAgICAgIF9kb2NUeXBlID0gbnVsbDsKICAgICAgICByZXR1\ncm4gbmV3IFN0cmluZ1JlYWRlcihoZWFkZXIpOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIGEgc2luZ2xlIGNoYXJhY3RlciBmcm9tIHRoZSBidWZm\nZXJlZCBoZWFkZXIsIG9yIC0xIGlmIG5vbmUuCiAgICAgKi8KICAgIHByaXZh\ndGUgaW50IHJlYWRIZWFkZXIoKSB7CiAgICAgICAgaWYgKF9oZWFkZXJQb3Mg\nPT0gX2hlYWRlci5sZW5ndGgpCiAgICAgICAgICAgIHJldHVybiAtMTsKICAg\nICAgICByZXR1cm4gX2hlYWRlcltfaGVhZGVyUG9zKytdOwogICAgfQoKICAg\nIC8qKgogICAgICogUmVhZCBmcm9tIHRoZSBidWZmZXJlZCBoZWFkZXIgdG8g\ndGhlIGdpdmVuIGFycmF5LCByZXR1cm5pbmcgdGhlCiAgICAgKiBudW1iZXIg\nb2YgY2hhcmFjdGVycyByZWFkLgogICAgICovCiAgICBwcml2YXRlIGludCBy\nZWFkSGVhZGVyKGNoYXJbXSBidWYsIGludCBvZmYsIGludCBsZW4pIHsKICAg\nICAgICBpbnQgcmVhZCA9IDA7CiAgICAgICAgZm9yICg7IGxlbiA+IDAgJiYg\nX2hlYWRlclBvcyA8IF9oZWFkZXIubGVuZ3RoOyByZWFkKyssIG9mZisrLCBs\nZW4tLSkKICAgICAgICAgICAgYnVmW29mZl0gPSBfaGVhZGVyW19oZWFkZXJQ\nb3MrK107CgogICAgICAgIHJldHVybiByZWFkOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIGEgc2luZ2xlIGNoYXJhY3RlciBmcm9tIHRoZSBkb2Mg\ndHlwZSBkZWNsYXJhdGlvbiwgb3IgLTEgaWYgbm9uZS4KICAgICAqLwogICAg\ncHJpdmF0ZSBpbnQgcmVhZERvY1R5cGUoKSB0aHJvd3MgSU9FeGNlcHRpb24g\newogICAgICAgIGlmIChfZG9jVHlwZSA9PSBudWxsKQogICAgICAgICAgICBy\nZXR1cm4gLTE7CgogICAgICAgIGludCBjaCA9IF9kb2NUeXBlLnJlYWQoKTsK\nICAgICAgICBpZiAoY2ggPT0gLTEpCiAgICAgICAgICAgIF9kb2NUeXBlID0g\nbnVsbDsKCiAgICAgICAgcmV0dXJuIGNoOwogICAgfQoKICAgIC8qKgogICAg\nICogUmVhZCBmcm9tIHRoZSBkb2MgdHlwZSBkZWNsYXJhdGlvbiB0byB0aGUg\nZ2l2ZW4gYXJyYXksIHJldHVybmluZyB0aGUKICAgICAqIG51bWJlciBvZiBj\naGFyYWN0ZXJzIHJlYWQuCiAgICAgKi8KICAgIHByaXZhdGUgaW50IHJlYWRE\nb2NUeXBlKGNoYXJbXSBidWYsIGludCBvZmYsIGludCBsZW4pIHRocm93cyBJ\nT0V4Y2VwdGlvbiB7CiAgICAgICAgaWYgKF9kb2NUeXBlID09IG51bGwpCiAg\nICAgICAgICAgIHJldHVybiAwOwoKICAgICAgICBpbnQgcmVhZCA9IF9kb2NU\neXBlLnJlYWQoYnVmLCBvZmYsIGxlbik7CiAgICAgICAgaWYgKHJlYWQgPCBs\nZW4pCiAgICAgICAgICAgIF9kb2NUeXBlID0gbnVsbDsKICAgICAgICBpZiAo\ncmVhZCA9PSAtMSkKICAgICAgICAgICAgcmVhZCA9IDA7CgogICAgICAgIHJl\ndHVybiByZWFkOwogICAgfQp9Cg==\n","encoding":"base64"}

