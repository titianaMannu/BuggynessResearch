{"sha":"e857c6590f955b078e5cbf0c7b2182afb2e943c2","node_id":"MDQ6QmxvYjIwNjM2NDplODU3YzY1OTBmOTU1YjA3OGU1Y2JmMGM3YjIxODJhZmIyZTk0M2My","size":3312,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e857c6590f955b078e5cbf0c7b2182afb2e943c2","content":"LyoNCiAqIENvcHlyaWdodCAyMDA2IFRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbi4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExp\nY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBt\nYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0\naCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0\naGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9s\naWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBi\neSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29m\ndHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQN\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICovDQpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi50ZXN0Ow0KDQppbXBv\ncnQgamF2YS5pby5JbnB1dFN0cmVhbTsNCmltcG9ydCBqYXZhLmlvLklPRXhj\nZXB0aW9uOw0KaW1wb3J0IGphdmEubmV0LlVSTDsNCmltcG9ydCBqYXZhLnV0\naWwuTWlzc2luZ1Jlc291cmNlRXhjZXB0aW9uOw0KaW1wb3J0IGphdmEudXRp\nbC5Qcm9wZXJ0aWVzOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLkFic3RyYWN0UHJvZHVjdERlcml2YXRpb247DQppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRpb25Qcm92aWRl\ncjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuTWFwQ29u\nZmlndXJhdGlvblByb3ZpZGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIuY29uZi5Qcm9kdWN0RGVyaXZhdGlvbjsNCg0KLyoqDQogKiBBIFBy\nb2R1Y3QgRGVyaXZhdGlvbiB0byB0ZXN0IGxvYWRpbmcgb2YgZ2xvYmFsIGFu\nZCBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gd2l0aA0KICogU3lzdGVtIHNldHRp\nbmdzLiAgUmVhZHMgaXRzIGdsb2JhbCBmcm9tIGEgZmlsZSBzcGVjaWZpZWQg\nYnkgDQogKiA8Y29kZT4ib3BlbmpwYXRlc3QucHJvcGVydGllcyI8L2NvZGU+\nIHN5c3RlbSBwcm9wZXJ0eS4NCiAqDQogKiBAYXV0aG9yIFBpbmFraSBQb2Rk\nYXINCiAqIEBhdXRob3IgQWJlIFdoaXRlDQogKi8NCnB1YmxpYyBjbGFzcyBD\nb25maWd1cmF0aW9uVGVzdFByb2R1Y3REZXJpdmF0aW9uIA0KICAgIGV4dGVu\nZHMgQWJzdHJhY3RQcm9kdWN0RGVyaXZhdGlvbiB7DQogICAgDQogICAgcHVi\nbGljIGludCBnZXRUeXBlKCkgew0KICAgICAgICByZXR1cm4gUHJvZHVjdERl\ncml2YXRpb24uVFlQRV9QUk9EVUNUOw0KICAgIH0NCg0KICAgIHB1YmxpYyBD\nb25maWd1cmF0aW9uUHJvdmlkZXIgbG9hZEdsb2JhbHMoQ2xhc3NMb2FkZXIg\nbG9hZGVyKQ0KICAgICAgICB0aHJvd3MgSU9FeGNlcHRpb24gew0KICAgICAg\nICByZXR1cm4gbG9hZChudWxsLCBsb2FkZXIpOw0KICAgIH0NCg0KICAgIHB1\nYmxpYyBDb25maWd1cmF0aW9uUHJvdmlkZXIgbG9hZChTdHJpbmcgcnNyYywg\nQ2xhc3NMb2FkZXIgbG9hZGVyKQ0KICAgICAgICB0aHJvd3MgSU9FeGNlcHRp\nb24gew0KICAgICAgICBpZiAocnNyYyA9PSBudWxsKQ0KICAgICAgICAgICAg\ncnNyYyA9IFN5c3RlbS5nZXRQcm9wZXJ0eSgib3BlbmpwYXRlc3QucHJvcGVy\ndGllcyIpOw0KICAgICAgICBpZiAocnNyYyA9PSBudWxsIHx8ICFyc3JjLmVu\nZHNXaXRoKCIucHJvcGVydGllcyIpKQ0KICAgICAgICAgICAgcmV0dXJuIG51\nbGw7DQoNCiAgICAgICAgVVJMIHVybCA9IGZpbmRSZXNvdXJjZShyc3JjLCBs\nb2FkZXIpOw0KICAgICAgICBpZiAodXJsID09IG51bGwpDQogICAgICAgICAg\nICB0aHJvdyBuZXcgTWlzc2luZ1Jlc291cmNlRXhjZXB0aW9uKHJzcmMsIGdl\ndENsYXNzKCkuZ2V0TmFtZSgpLCANCiAgICAgICAgICAgICAgICByc3JjKTsN\nCg0KICAgICAgICBJbnB1dFN0cmVhbSBpbiA9IHVybC5vcGVuU3RyZWFtKCk7\nDQogICAgICAgIFByb3BlcnRpZXMgcHJvcHMgPSBuZXcgUHJvcGVydGllcygp\nOw0KICAgICAgICBpZiAoaW4gIT0gbnVsbCkgew0KICAgICAgICAgICAgdHJ5\nIHsNCiAgICAgICAgICAgICAgICBwcm9wcy5sb2FkKGluKTsNCiAgICAgICAg\nICAgICAgICByZXR1cm4gbmV3IE1hcENvbmZpZ3VyYXRpb25Qcm92aWRlcihw\ncm9wcyk7DQogICAgICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAg\nICAgIHRyeSB7IGluLmNsb3NlKCk7IH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7\nfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBu\ndWxsOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIExvY2F0ZSB0aGUgZ2l2\nZW4gcmVzb3VyY2UuDQogICAgICovDQogICAgcHJpdmF0ZSBVUkwgZmluZFJl\nc291cmNlKFN0cmluZyByc3JjLCBDbGFzc0xvYWRlciBsb2FkZXIpDQogICAg\nICAgIHRocm93cyBJT0V4Y2VwdGlvbiB7DQogICAgICAgIGlmIChsb2FkZXIg\nIT0gbnVsbCkNCiAgICAgICAgICAgIHJldHVybiBsb2FkZXIuZ2V0UmVzb3Vy\nY2UocnNyYyk7DQoNCiAgICAgICAgLy8gaW4gamJ1aWxkZXIgdGhlIGNsYXNz\nbG9hZGVyIGNhbiBiZSBudWxsDQogICAgICAgIFVSTCB1cmwgPSBudWxsOw0K\nICAgICAgICBsb2FkZXIgPSBnZXRDbGFzcygpLmdldENsYXNzTG9hZGVyKCk7\nDQogICAgICAgIGlmIChsb2FkZXIgIT0gbnVsbCkNCiAgICAgICAgICAgIHVy\nbCA9IGxvYWRlci5nZXRSZXNvdXJjZShyc3JjKTsNCiAgICAgICAgaWYgKHVy\nbCA9PSBudWxsKSB7DQogICAgICAgICAgICBsb2FkZXIgPSBUaHJlYWQuY3Vy\ncmVudFRocmVhZCgpLmdldENvbnRleHRDbGFzc0xvYWRlcigpOw0KICAgICAg\nICAgICAgaWYgKGxvYWRlciAhPSBudWxsKQ0KICAgICAgICAgICAgICAgIHVy\nbCA9IGxvYWRlci5nZXRSZXNvdXJjZShyc3JjKTsNCiAgICAgICAgfQ0KICAg\nICAgICBpZiAodXJsID09IG51bGwpIHsNCiAgICAgICAgICAgIGxvYWRlciA9\nIENsYXNzTG9hZGVyLmdldFN5c3RlbUNsYXNzTG9hZGVyKCk7DQogICAgICAg\nICAgICBpZiAobG9hZGVyICE9IG51bGwpDQogICAgICAgICAgICAgICAgdXJs\nID0gbG9hZGVyLmdldFJlc291cmNlKHJzcmMpOw0KICAgICAgICB9DQogICAg\nICAgIHJldHVybiB1cmw7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

