{"sha":"ad5d832b1310fb4b433cdfb2e77ed7bd91bd37a9","node_id":"MDQ6QmxvYjIwNjM2NDphZDVkODMyYjEzMTBmYjRiNDMzY2RmYjJlNzdlZDdiZDkxYmQzN2E5","size":6480,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ad5d832b1310fb4b433cdfb2e77ed7bd91bd37a9","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNl\nLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90\nIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUg\nTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNl\nbnNlIGF0CiAqICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElD\nRU5TRS0yLjAKICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxh\ndyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJp\nYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4g\nIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJ\nVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQu\nCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdl\nIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5k\nZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIuY29uZi50ZXN0OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIuY29uZi5QbHVnaW5MaXN0VmFsdWU7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuUGx1Z2luVmFsdWU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLmNvbmYuU3RyaW5nVmFsdWU7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLmNvbmYuVmFsdWU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLnRlc3QuQWJzdHJhY3RUZXN0Q2FzZTsKCi8qKgogKiBU\nZXN0cyB0aGUge0BsaW5rIFZhbHVlfSwge0BsaW5rIFBsdWdpblZhbHVlfSwg\nYW5kCiAqIHtAbGluayBQbHVnaW5MaXN0VmFsdWV9IGNsYXNzZXMuCiAqCiAq\nIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgVGVzdFBsdWdp\nblZhbHVlIGV4dGVuZHMgQWJzdHJhY3RUZXN0Q2FzZSB7CgogICAgcHVibGlj\nIFRlc3RQbHVnaW5WYWx1ZShTdHJpbmcgdGVzdCkgewogICAgICAgIHN1cGVy\nKHRlc3QpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3REZWZhdWx0KCkg\newogICAgICAgIGRlZmF1bHRUZXN0KG5ldyBTdHJpbmdWYWx1ZSgidGVzdEtl\neSIpKTsKICAgICAgICBkZWZhdWx0VGVzdChuZXcgUGx1Z2luVmFsdWUoInRl\nc3RLZXkiLCB0cnVlKSk7CiAgICAgICAgZGVmYXVsdFRlc3QobmV3IFBsdWdp\nbkxpc3RWYWx1ZSgidGVzdEtleSIpKTsKICAgICAgICBwbHVnaW5EZWZhdWx0\nVGVzdChuZXcgUGx1Z2luVmFsdWUoInRlc3RLZXkiLCB0cnVlKSk7CiAgICB9\nCgogICAgcHJpdmF0ZSB2b2lkIGRlZmF1bHRUZXN0KFZhbHVlIHZhbCkgewog\nICAgICAgIGFzc2VydE51bGwodmFsLmdldFN0cmluZygpKTsKICAgICAgICB2\nYWwuc2V0U3RyaW5nKCJmb28iKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImZv\nbyIsIHZhbC5nZXRTdHJpbmcoKSk7CiAgICAgICAgdmFsLnNldFN0cmluZyhu\ndWxsKTsKICAgICAgICBhc3NlcnROdWxsKHZhbC5nZXRTdHJpbmcoKSk7CiAg\nICAgICAgdmFsLnNldERlZmF1bHQoInh4eCIpOwogICAgICAgIHZhbC5zZXRT\ndHJpbmcobnVsbCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ4eHgiLCB2YWwu\nZ2V0U3RyaW5nKCkpOwogICAgICAgIHZhbC5zZXRTdHJpbmcoImJhciIpOwog\nICAgICAgIGFzc2VydEVxdWFscygiYmFyIiwgdmFsLmdldFN0cmluZygpKTsK\nICAgICAgICB2YWwuc2V0U3RyaW5nKCIgIik7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJ4eHgiLCB2YWwuZ2V0U3RyaW5nKCkpOwogICAgICAgIHZhbC5zZXRT\ndHJpbmcoInl5eSIpOwogICAgICAgIGFzc2VydEVxdWFscygieXl5IiwgdmFs\nLmdldFN0cmluZygpKTsKICAgICAgICB2YWwuc2V0U3RyaW5nKG51bGwpOwog\nICAgICAgIGFzc2VydEVxdWFscygieHh4IiwgdmFsLmdldFN0cmluZygpKTsK\nICAgIH0KCiAgICBwcml2YXRlIHZvaWQgcGx1Z2luRGVmYXVsdFRlc3QoUGx1\nZ2luVmFsdWUgdmFsKSB7CiAgICAgICAgdmFsLnNldERlZmF1bHQoImZvbyIp\nOwogICAgICAgIHZhbC5zZXRTdHJpbmcoIng9eSIpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygiZm9vKHg9eSkiLCB2YWwuZ2V0U3RyaW5nKCkpOwogICAgICAg\nIHZhbC5zZXQobmV3IEludGVnZXIoMSkpOwogICAgICAgIGFzc2VydEVxdWFs\ncygiamF2YS5sYW5nLkludGVnZXIiLCB2YWwuZ2V0U3RyaW5nKCkpOwogICAg\nICAgIGFzc2VydEVxdWFscyhuZXcgSW50ZWdlcigxKSwgdmFsLmdldCgpKTsK\nICAgICAgICB2YWwuc2V0KG51bGwpOwogICAgICAgIGFzc2VydEVxdWFscygi\nZm9vIiwgdmFsLmdldFN0cmluZygpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nbnVsbCwgdmFsLmdldCgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nQWxpYXMoKSB7CiAgICAgICAgYWxpYXNUZXN0KG5ldyBTdHJpbmdWYWx1ZSgi\ndGVzdEtleSIpKTsKICAgICAgICBhbGlhc1Rlc3QobmV3IFBsdWdpblZhbHVl\nKCJ0ZXN0S2V5IiwgdHJ1ZSkpOwogICAgICAgIGFsaWFzVGVzdChuZXcgUGx1\nZ2luTGlzdFZhbHVlKCJ0ZXN0S2V5IikpOwogICAgICAgIGVtcHR5QWxpYXNU\nZXN0KG5ldyBTdHJpbmdWYWx1ZSgidGVzdEtleSIpKTsKICAgICAgICBlbXB0\neUFsaWFzVGVzdChuZXcgU3RyaW5nVmFsdWUoInRlc3RLZXkiKSk7CiAgICAg\nICAgcGx1Z2luQWxpYXNUZXN0KG5ldyBQbHVnaW5WYWx1ZSgidGVzdEtleSIs\nIHRydWUpKTsKICAgICAgICBwbHVnaW5BbGlhc1Rlc3QobmV3IFBsdWdpbkxp\nc3RWYWx1ZSgidGVzdEtleSIpKTsKICAgICAgICBwbHVnaW5MaXN0QWxpYXNU\nZXN0KG5ldyBQbHVnaW5MaXN0VmFsdWUoInRlc3RLZXkiKSk7CiAgICB9Cgog\nICAgcHJpdmF0ZSB2b2lkIGFsaWFzVGVzdChWYWx1ZSB2YWwpIHsKICAgICAg\nICB2YWwuc2V0QWxpYXNlcyhuZXcgU3RyaW5nW117ICJmb28iLCAiYmFyIiB9\nKTsKICAgICAgICB2YWwuc2V0RGVmYXVsdCgiYmFyIik7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJiYXIiLCB2YWwuZ2V0RGVmYXVsdCgpKTsKICAgICAgICB2\nYWwuc2V0U3RyaW5nKG51bGwpOwogICAgICAgIGFzc2VydEVxdWFscygiZm9v\nIiwgdmFsLmdldFN0cmluZygpKTsKICAgICAgICB2YWwuc2V0RGVmYXVsdCgi\neHh4Iik7CiAgICAgICAgdmFsLnNldFN0cmluZyhudWxsKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoInh4eCIsIHZhbC5nZXRTdHJpbmcoKSk7CiAgICAgICAg\ndmFsLnNldERlZmF1bHQoImJhciIpOwogICAgICAgIHZhbC5zZXRTdHJpbmco\nbnVsbCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb28iLCB2YWwuZ2V0U3Ry\naW5nKCkpOwogICAgICAgIHZhbC5zZXRTdHJpbmcoInl5eSIpOwogICAgICAg\nIHZhbC5zZXRBbGlhc2VzKG5ldyBTdHJpbmdbXXsgInh4eCIsICJ5eXkiIH0p\nOwogICAgICAgIGFzc2VydEVxdWFscygieHh4IiwgdmFsLmdldFN0cmluZygp\nKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgZW1wdHlBbGlhc1Rlc3QoVmFs\ndWUgdmFsKSB7CiAgICAgICAgdmFsLnNldERlZmF1bHQoImZvbyIpOwogICAg\nICAgIHZhbC5zZXRBbGlhc2VzKG5ldyBTdHJpbmdbXXsgImZhbHNlIiwgbnVs\nbCB9KTsKICAgICAgICB2YWwuc2V0U3RyaW5nKCJmYWxzZSIpOwogICAgICAg\nIGFzc2VydEVxdWFscygiZmFsc2UiLCB2YWwuZ2V0U3RyaW5nKCkpOwogICAg\nICAgIHZhbC5zZXRTdHJpbmcobnVsbCk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJmb28iLCB2YWwuZ2V0U3RyaW5nKCkpOwogICAgfQoKICAgIHByaXZhdGUg\ndm9pZCBwbHVnaW5BbGlhc1Rlc3QoVmFsdWUgdmFsKSB7CiAgICAgICAgLy8g\ndGVzdCBwbHVnaW4gbmFtZS1vbmx5IGFsaWFzZXMKICAgICAgICB2YWwuc2V0\nU3RyaW5nKCJmb28oYml6PWJheikiKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nImZvbyhiaXo9YmF6KSIsIHZhbC5nZXRTdHJpbmcoKSk7CiAgICAgICAgdmFs\nLnNldEFsaWFzZXMobmV3IFN0cmluZ1tdeyAieHh4IiwgImZvbyIgfSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJ4eHgoYml6PWJheikiLCB2YWwuZ2V0U3Ry\naW5nKCkpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBwbHVnaW5MaXN0QWxp\nYXNUZXN0KFZhbHVlIHZhbCkgewogICAgICAgIC8vIGFuZCB0ZXN0IG9uIGxp\nc3RzCiAgICAgICAgdmFsLnNldFN0cmluZygiZm9vKGJpej1iYXopLCBmb28o\nYT1iKSx4eHgsIGZvbywgeXl5Iik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJm\nb28oYml6PWJheiksIGZvbyhhPWIpLCB4eHgsIGZvbywgeXl5IiwgdmFsLmdl\ndFN0cmluZygpKTsKICAgICAgICB2YWwuc2V0QWxpYXNlcyhuZXcgU3RyaW5n\nW117ICJiYXIiLCAiZm9vIiB9KTsKICAgICAgICBhc3NlcnRFcXVhbHMoImJh\ncihiaXo9YmF6KSwgYmFyKGE9YiksIHh4eCwgYmFyLCB5eXkiLCB2YWwuZ2V0\nU3RyaW5nKCkpOwoKICAgICAgICB2YWwuc2V0QWxpYXNlcyhuZXcgU3RyaW5n\nW117ICJub25lIiwgbnVsbCB9KTsKICAgICAgICB2YWwuc2V0U3RyaW5nKCJu\nb25lIik7CiAgICAgICAgYXNzZXJ0VHJ1ZSgoKFBsdWdpbkxpc3RWYWx1ZSkg\ndmFsKS5nZXRDbGFzc05hbWVzKCkubGVuZ3RoID09IDApOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RQbHVnaW5MaXN0UGFyc2luZygpIHsKICAgICAg\nICBQbHVnaW5MaXN0VmFsdWUgdmFsID0gbmV3IFBsdWdpbkxpc3RWYWx1ZSgi\ndGVzdEtleSIpOwogICAgICAgIGFzc2VydEVxdWFscygwLCB2YWwuZ2V0Q2xh\nc3NOYW1lcygpLmxlbmd0aCk7CiAgICAgICAgdmFsLnNldFN0cmluZygiZm9v\nIik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHZhbC5nZXRDbGFzc05hbWVz\nKCkubGVuZ3RoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImZvbyIsIHZhbC5n\nZXRDbGFzc05hbWVzKClbMF0pOwogICAgICAgIGFzc2VydE51bGwodmFsLmdl\ndFByb3BlcnRpZXMoKVswXSk7CiAgICAgICAgdmFsLnNldFN0cmluZygiZm9v\nKCkiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgdmFsLmdldENsYXNzTmFt\nZXMoKS5sZW5ndGgpOwogICAgICAgIGFzc2VydEVxdWFscygiZm9vIiwgdmFs\nLmdldENsYXNzTmFtZXMoKVswXSk7CiAgICAgICAgYXNzZXJ0TnVsbCh2YWwu\nZ2V0UHJvcGVydGllcygpWzBdKTsKICAgICAgICB2YWwuc2V0U3RyaW5nKCJm\nb28oYT1iKSIpOwogICAgICAgIGFzc2VydEVxdWFscygxLCB2YWwuZ2V0Q2xh\nc3NOYW1lcygpLmxlbmd0aCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb28i\nLCB2YWwuZ2V0Q2xhc3NOYW1lcygpWzBdKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoImE9YiIsIHZhbC5nZXRQcm9wZXJ0aWVzKClbMF0pOwogICAgICAgIHZh\nbC5zZXRTdHJpbmcoImZvbyhhPWIsIGM9XCJkLGUgZlwiLCBnPVwiaFwiKSIp\nOwogICAgICAgIGFzc2VydEVxdWFscygxLCB2YWwuZ2V0Q2xhc3NOYW1lcygp\nLmxlbmd0aCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb28iLCB2YWwuZ2V0\nQ2xhc3NOYW1lcygpWzBdKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImE9Yiwg\nYz1cImQsZSBmXCIsIGc9XCJoXCIiLCB2YWwuZ2V0UHJvcGVydGllcygpWzBd\nKTsKICAgICAgICB2YWwuc2V0U3RyaW5nKCJmb28oYT1iLCBjPVwiZCxlIGZc\nIiksIGJhciwgYml6KGE9YywgZD1nKSwgYmF6KCkiKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoNCwgdmFsLmdldENsYXNzTmFtZXMoKS5sZW5ndGgpOwogICAg\nICAgIGFzc2VydEVxdWFscygiZm9vIiwgdmFsLmdldENsYXNzTmFtZXMoKVsw\nXSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJhPWIsIGM9XCJkLGUgZlwiIiwg\ndmFsLmdldFByb3BlcnRpZXMoKVswXSk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJiYXIiLCB2YWwuZ2V0Q2xhc3NOYW1lcygpWzFdKTsKICAgICAgICBhc3Nl\ncnROdWxsKHZhbC5nZXRQcm9wZXJ0aWVzKClbMV0pOwogICAgICAgIGFzc2Vy\ndEVxdWFscygiYml6IiwgdmFsLmdldENsYXNzTmFtZXMoKVsyXSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKCJhPWMsIGQ9ZyIsIHZhbC5nZXRQcm9wZXJ0aWVz\nKClbMl0pOwogICAgICAgIGFzc2VydEVxdWFscygiYmF6IiwgdmFsLmdldENs\nYXNzTmFtZXMoKVszXSk7CiAgICAgICAgYXNzZXJ0TnVsbCh2YWwuZ2V0UHJv\ncGVydGllcygpWzNdKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlcXVpcmVk\nIGJlY2F1c2Ugd2UgdXNlIGEgJ3Rlc3RLZXknIGR1bW15IHByb3BlcnR5IG5h\nbWUuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGVzdEtleSgpIHsK\nICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJl\ncXVpcmVkIGJlY2F1c2Ugd2UgdXNlIGEgJ3Rlc3RLZXknIGR1bW15IHByb3Bl\ncnR5IG5hbWUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFRlc3RLZXko\nU3RyaW5nIGtleSkgewogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt\nYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBtYWluKCk7CiAgICB9Cn0K\n","encoding":"base64"}

