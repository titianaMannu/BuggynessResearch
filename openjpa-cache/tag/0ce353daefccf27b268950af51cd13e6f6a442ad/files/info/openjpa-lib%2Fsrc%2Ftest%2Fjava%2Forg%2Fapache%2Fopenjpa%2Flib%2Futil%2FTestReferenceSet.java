{"sha":"80e0c82ff517476a15fe764e6eb9df1593958e6a","node_id":"MDQ6QmxvYjIwNjM2NDo4MGUwYzgyZmY1MTc0NzZhMTVmZTc2NGU2ZWI5ZGYxNTkzOTU4ZTZh","size":3278,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/80e0c82ff517476a15fe764e6eb9df1593958e6a","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNl\nLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90\nIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUg\nTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNl\nbnNlIGF0CiAqICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElD\nRU5TRS0yLjAKICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxh\ndyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJp\nYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4g\nIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJ\nVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQu\nCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdl\nIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5k\nZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIudXRpbDsKCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1w\nb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKCmltcG9ydCBqdW5pdC5mcmFtZXdv\ncmsuVGVzdENhc2U7CgovKioKICogVGVzdHMgdGhlIHtAbGluayBSZWZlcmVu\nY2VIYXNoU2V0fS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1Ymxp\nYyBjbGFzcyBUZXN0UmVmZXJlbmNlU2V0IGV4dGVuZHMgVGVzdENhc2UgewoK\nICAgIHByaXZhdGUgUmVmZXJlbmNlSGFzaFNldCBfY29sbCA9IG5ldyBSZWZl\ncmVuY2VIYXNoU2V0CiAgICAgICAgKFJlZmVyZW5jZUhhc2hTZXQuV0VBSyk7\nCgogICAgcHJpdmF0ZSBPYmplY3QgX2hlbGRWYWx1ZSA9IG5ldyBJbnRlZ2Vy\nKDIpOwoKICAgIHB1YmxpYyBUZXN0UmVmZXJlbmNlU2V0KFN0cmluZyB0ZXN0\nKSB7CiAgICAgICAgc3VwZXIodGVzdCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0VXAoKSB7CiAgICAgICAgX2NvbGwuYWRkKF9oZWxkVmFsdWUpOwog\nICAgICAgIF9jb2xsLmFkZChuZXcgSW50ZWdlcigxKSk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUZXN0cyBiYXNpYyBhZGQvY29udGFpbnMvcmVtb3ZlIGZ1\nbmN0aW9uYWxpdHkuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RCYXNp\nY3MoKSB7CiAgICAgICAgQ29sbGVjdGlvbiBjb2xsID0gbmV3IFJlZmVyZW5j\nZUhhc2hTZXQoUmVmZXJlbmNlSGFzaFNldC5XRUFLKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoMCwgY29sbC5zaXplKCkpOwogICAgICAgIGFzc2VydFRydWUo\nIWNvbGwuY29udGFpbnMoImZvbyIpKTsKCiAgICAgICAgYXNzZXJ0VHJ1ZShj\nb2xsLmFkZCgiZm9vIikpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBjb2xs\nLnNpemUoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShjb2xsLmNvbnRhaW5zKCJm\nb28iKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb28iLCBjb2xsLml0ZXJh\ndG9yKCkubmV4dCgpKTsKCiAgICAgICAgYXNzZXJ0VHJ1ZSghY29sbC5yZW1v\ndmUoImJhciIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgY29sbC5zaXpl\nKCkpOwogICAgICAgIGFzc2VydFRydWUoY29sbC5yZW1vdmUoImZvbyIpKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoMCwgY29sbC5zaXplKCkpOwogICAgICAg\nIGFzc2VydFRydWUoY29sbC5pc0VtcHR5KCkpOwogICAgfQoKICAgIC8qKgog\nICAgICogVGVzdCB0aGF0IHZhbHVlcyB3aXRoIHN0cm9uZyByZWZlcmVuY2Vz\nIGFyZSBub3QgZ2MnZC4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEhl\nbGRSZWZlcmVuY2UoKSB7CiAgICAgICAgaWYgKEphdmFWZXJzaW9ucy5WRVJT\nSU9OID49IDUpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgU3lzdGVt\nLmdjKCk7CiAgICAgICAgU3lzdGVtLmdjKCk7CiAgICAgICAgYXNzZXJ0VHJ1\nZShfY29sbC5jb250YWlucyhfaGVsZFZhbHVlKSk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBUZXN0IHRoYXQgd2VhayByZWZlcmVuY2VzIGFyZSBnYydkLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0V2Vha1JlZmVyZW5jZSgpIHsK\nICAgICAgICBpZiAoSmF2YVZlcnNpb25zLlZFUlNJT04gPj0gNSkKICAgICAg\nICAgICAgcmV0dXJuOwoKICAgICAgICBTeXN0ZW0uZ2MoKTsKICAgICAgICBT\neXN0ZW0uZ2MoKTsKICAgICAgICBhc3NlcnRUcnVlKCFfY29sbC5jb250YWlu\ncyhuZXcgSW50ZWdlcigxKSkpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBf\nY29sbC5zaXplKCkpOwoKICAgICAgICBpbnQgc2l6ZSA9IDA7CiAgICAgICAg\nZm9yIChJdGVyYXRvciBpdHIgPSBfY29sbC5pdGVyYXRvcigpOyBpdHIuaGFz\nTmV4dCgpOyBzaXplKyspCiAgICAgICAgICAgIGFzc2VydEVxdWFscyhfaGVs\nZFZhbHVlLCBpdHIubmV4dCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwg\nc2l6ZSk7CgogICAgICAgIC8vIHJ1biBhIG11dGF0b3IgbWV0aG9kIHRvIGVu\nc3VyZSBleHBpcmVkIGVsZW1lbnRzIGFyZSByZW1vdmVkCiAgICAgICAgX2Nv\nbGwuYWRkKCJmb28iKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMiwgX2NvbGwu\nc2l6ZSgpKTsKICAgICAgICBhc3NlcnRUcnVlKF9jb2xsLmNvbnRhaW5zKCJm\nb28iKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShfY29sbC5jb250YWlucyhfaGVs\nZFZhbHVlKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSghX2NvbGwuY29udGFpbnMo\nbmV3IEludGVnZXIoMSkpKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3Qg\ndGhhdCB2YWx1ZXMgdGhhdCBoYXZlIGJlZW4gcmVwbGFjZWQgYXJlbid0IGV4\ncGlyZWQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RDaGFuZ2VWYWx1\nZSgpIHsKICAgICAgICBpZiAoSmF2YVZlcnNpb25zLlZFUlNJT04gPj0gNSkK\nICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBPYmplY3QgaGVsZCA9IG5l\ndyBJbnRlZ2VyKDEpOwogICAgICAgIGFzc2VydFRydWUoX2NvbGwucmVtb3Zl\nKGhlbGQpKTsKICAgICAgICBhc3NlcnRUcnVlKF9jb2xsLmFkZChoZWxkKSk7\nCiAgICAgICAgU3lzdGVtLmdjKCk7CiAgICAgICAgU3lzdGVtLmdjKCk7Cgog\nICAgICAgIC8vIHJ1biBhIG11dGF0b3IgdG8gY2xlYXIgZXhwaXJlZCByZWZl\ncmVuY2VzCiAgICAgICAgX2NvbGwuYWRkKCJmb28iKTsKICAgICAgICBhc3Nl\ncnRUcnVlKF9jb2xsLmNvbnRhaW5zKGhlbGQpKTsKICAgIH0KfQo=\n","encoding":"base64"}

