{"sha":"3bab0d49ec4b2ae40a5ad3bf1880f06012db5796","node_id":"MDQ6QmxvYjIwNjM2NDozYmFiMGQ0OWVjNGIyYWU0MGE1YWQzYmYxODgwZjA2MDEyZGI1Nzk2","size":2988,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3bab0d49ec4b2ae40a5ad3bf1880f06012db5796","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBqYXZhLmlvLklPRXhjZXB0\naW9uOwppbXBvcnQgamF2YS5pby5PYmplY3RJbnB1dFN0cmVhbTsKaW1wb3J0\nIGphdmEuaW8uT2JqZWN0T3V0cHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5Q\ncmludFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXI7CmltcG9y\ndCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEudXRpbC5FeGNlcHRpb25JbmZvOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnV0aWwuRXhjZXB0aW9uczsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS51dGlsLlN0b3JlRXhjZXB0aW9uOwoKLyoqCiAqIENvbmZsaWN0IHdp\ndGggZXhpc3RpbmcgZW50aXR5LgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQog\nKiBAc2luY2UgMC40LjAKICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNz\nIEVudGl0eUV4aXN0c0V4Y2VwdGlvbgogICAgZXh0ZW5kcyBqYXZheC5wZXJz\naXN0ZW5jZS5FbnRpdHlFeGlzdHNFeGNlcHRpb24KICAgIGltcGxlbWVudHMg\nU2VyaWFsaXphYmxlLCBFeGNlcHRpb25JbmZvIHsKCiAgICBwcml2YXRlIHRy\nYW5zaWVudCBib29sZWFuIF9mYXRhbCA9IGZhbHNlOwogICAgcHJpdmF0ZSB0\ncmFuc2llbnQgT2JqZWN0IF9mYWlsZWQgPSBudWxsOwogICAgcHJpdmF0ZSB0\ncmFuc2llbnQgVGhyb3dhYmxlW10gX25lc3RlZCA9IG51bGw7CgogICAgcHVi\nbGljIEVudGl0eUV4aXN0c0V4Y2VwdGlvbihTdHJpbmcgbXNnLCBUaHJvd2Fi\nbGVbXSBuZXN0ZWQsCiAgICAgICAgT2JqZWN0IGZhaWxlZCwgYm9vbGVhbiBm\nYXRhbCkgewogICAgICAgIHN1cGVyKG1zZyk7CiAgICAgICAgX25lc3RlZCA9\nIG5lc3RlZDsKICAgICAgICBfZmFpbGVkID0gZmFpbGVkOwogICAgICAgIF9m\nYXRhbCA9IGZhdGFsOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0VHlwZSgp\nIHsKICAgICAgICByZXR1cm4gU1RPUkU7CiAgICB9CgogICAgcHVibGljIGlu\ndCBnZXRTdWJ0eXBlKCkgewogICAgICAgIHJldHVybiBTdG9yZUV4Y2VwdGlv\nbi5PQkpFQ1RfRVhJU1RTOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlz\nRmF0YWwoKSB7CiAgICAgICAgcmV0dXJuIF9mYXRhbDsKICAgIH0KCiAgICBw\ndWJsaWMgVGhyb3dhYmxlIGdldENhdXNlKCkgewogICAgICAgIHJldHVybiBQ\nZXJzaXN0ZW5jZUV4Y2VwdGlvbnMuZ2V0Q2F1c2UoX25lc3RlZCk7CiAgICB9\nCgogICAgcHVibGljIFRocm93YWJsZVtdIGdldE5lc3RlZFRocm93YWJsZXMo\nKSB7CiAgICAgICAgcmV0dXJuIChfbmVzdGVkID09IG51bGwpID8gRXhjZXB0\naW9ucy5FTVBUWV9USFJPV0FCTEVTIDogX25lc3RlZDsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IGdldEZhaWxlZE9iamVjdCgpIHsKICAgICAgICByZXR1\ncm4gX2ZhaWxlZDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5n\nKCkgewogICAgICAgIHJldHVybiBFeGNlcHRpb25zLnRvU3RyaW5nKHRoaXMp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByaW50U3RhY2tUcmFjZSgpIHsK\nICAgICAgICBwcmludFN0YWNrVHJhY2UoU3lzdGVtLmVycik7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgcHJpbnRTdGFja1RyYWNlKFByaW50U3RyZWFtIG91\ndCkgewogICAgICAgIHN1cGVyLnByaW50U3RhY2tUcmFjZShvdXQpOwogICAg\nICAgIEV4Y2VwdGlvbnMucHJpbnROZXN0ZWRUaHJvd2FibGVzKHRoaXMsIG91\ndCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJpbnRTdGFja1RyYWNlKFBy\naW50V3JpdGVyIG91dCkgewogICAgICAgIHN1cGVyLnByaW50U3RhY2tUcmFj\nZShvdXQpOwogICAgICAgIEV4Y2VwdGlvbnMucHJpbnROZXN0ZWRUaHJvd2Fi\nbGVzKHRoaXMsIG91dCk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIHdyaXRl\nT2JqZWN0KE9iamVjdE91dHB1dFN0cmVhbSBvdXQpCiAgICAgICAgdGhyb3dz\nIElPRXhjZXB0aW9uIHsKICAgICAgICBvdXQud3JpdGVCb29sZWFuKF9mYXRh\nbCk7CiAgICAgICAgb3V0LndyaXRlT2JqZWN0KEV4Y2VwdGlvbnMucmVwbGFj\nZUZhaWxlZE9iamVjdChfZmFpbGVkKSk7CiAgICAgICAgb3V0LndyaXRlT2Jq\nZWN0KEV4Y2VwdGlvbnMucmVwbGFjZU5lc3RlZFRocm93YWJsZXMoX25lc3Rl\nZCkpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCByZWFkT2JqZWN0KE9iamVj\ndElucHV0U3RyZWFtIGluKQogICAgICAgIHRocm93cyBJT0V4Y2VwdGlvbiwg\nQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgX2ZhdGFsID0gaW4u\ncmVhZEJvb2xlYW4oKTsKICAgICAgICBfZmFpbGVkID0gaW4ucmVhZE9iamVj\ndCgpOwogICAgICAgIF9uZXN0ZWQgPSAoVGhyb3dhYmxlW10pIGluLnJlYWRP\nYmplY3QoKTsKICAgIH0KfQoK\n","encoding":"base64"}

