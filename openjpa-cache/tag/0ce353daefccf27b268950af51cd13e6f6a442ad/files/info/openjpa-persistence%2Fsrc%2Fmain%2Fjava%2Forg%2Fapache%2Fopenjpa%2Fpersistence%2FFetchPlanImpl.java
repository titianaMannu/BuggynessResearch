{"sha":"e7cbee202a7a1ec165bb7175626924302766b589","node_id":"MDQ6QmxvYjIwNjM2NDplN2NiZWUyMDJhN2ExZWMxNjViYjcxNzU2MjY5MjQzMDI3NjZiNTg5","size":6804,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e7cbee202a7a1ec165bb7175626924302766b589","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlM\naXN0OwppbXBvcnQgamF2YS51dGlsLkFycmF5czsKaW1wb3J0IGphdmEudXRp\nbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOwppbXBv\ncnQgamF2YXgucGVyc2lzdGVuY2UuTG9ja01vZGVUeXBlOwoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuRGVsZWdhdGluZ0ZldGNoQ29uZmln\ndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuRmV0\nY2hDb25maWd1cmF0aW9uOwoKLyoqCiAqIEltcGxlbWVudHMgRmV0Y2hQbGFu\nIHZpYSBkZWxlZ2F0aW9uIHRvIEZldGNoQ29uZmlndXJhdGlvbi4KICoKICog\nQGF1dGhvciBBYmUgV2hpdGUKICogQGF1dGhvciBQaW5ha2kgUG9kZGFyCiAq\nIEBzaW5jZSAwLjQuMQogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3Mg\nRmV0Y2hQbGFuSW1wbAoJaW1wbGVtZW50cyBGZXRjaFBsYW4gewoKICAgIHBy\naXZhdGUgZmluYWwgRGVsZWdhdGluZ0ZldGNoQ29uZmlndXJhdGlvbiBfZmV0\nY2g7CgogICAgCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yOyBzdXBwbHkg\nZGVsZWdhdGUuCiAgICAgKi8KICAgIHB1YmxpYyBGZXRjaFBsYW5JbXBsKEZl\ndGNoQ29uZmlndXJhdGlvbiBmZXRjaCkgewogICAgICAgIF9mZXRjaCA9IG5l\nd0RlbGVnYXRpbmdGZXRjaENvbmZpZ3VyYXRpb24oZmV0Y2gpOwogICAgfQoK\nICAgIC8qKgogICAgICogQ3JlYXRlIGEgbmV3IGV4Y2VwdGlvbi10cmFuc2xh\ndGluZyBkZWxlZ2F0aW5nIGZldGNoIGNvbmZpZ3VyYXRpb24uCiAgICAgKi8K\nICAgIHByb3RlY3RlZCBEZWxlZ2F0aW5nRmV0Y2hDb25maWd1cmF0aW9uIG5l\nd0RlbGVnYXRpbmdGZXRjaENvbmZpZ3VyYXRpb24KICAgICAgICAoRmV0Y2hD\nb25maWd1cmF0aW9uIGZldGNoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBEZWxl\nZ2F0aW5nRmV0Y2hDb25maWd1cmF0aW9uKGZldGNoLAogICAgICAgICAgICBQ\nZXJzaXN0ZW5jZUV4Y2VwdGlvbnMuVFJBTlNMQVRPUik7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBEZWxlZ2F0ZS4KICAgICAqLwogICAgcHVibGljIEZldGNo\nQ29uZmlndXJhdGlvbiBnZXREZWxlZ2F0ZSgpIHsKICAgICAgICByZXR1cm4g\nX2ZldGNoLmdldERlbGVnYXRlKCk7CiAgICB9CgogICAgcHVibGljIGludCBn\nZXRNYXhGZXRjaERlcHRoKCkgewogICAgICAgIHJldHVybiBfZmV0Y2guZ2V0\nTWF4RmV0Y2hEZXB0aCgpOwogICAgfQoKICAgIHB1YmxpYyBGZXRjaFBsYW4g\nc2V0TWF4RmV0Y2hEZXB0aChpbnQgZGVwdGgpIHsKICAgICAgICBfZmV0Y2gu\nc2V0TWF4RmV0Y2hEZXB0aChkZXB0aCk7CiAgICAgICAgcmV0dXJuIHRoaXM7\nCiAgICB9CgogICAgcHVibGljIGludCBnZXRGZXRjaEJhdGNoU2l6ZSgpIHsK\nICAgICAgICByZXR1cm4gX2ZldGNoLmdldEZldGNoQmF0Y2hTaXplKCk7CiAg\nICB9CgogICAgcHVibGljIEZldGNoUGxhbiBzZXRGZXRjaEJhdGNoU2l6ZShp\nbnQgZmV0Y2hCYXRjaFNpemUpIHsKICAgICAgICBfZmV0Y2guc2V0RmV0Y2hC\nYXRjaFNpemUoZmV0Y2hCYXRjaFNpemUpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldFF1ZXJ5UmVzdWx0Q2Fj\naGUoKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaC5nZXRRdWVyeUNhY2hlKCk7\nCiAgICB9CgogICAgcHVibGljIEZldGNoUGxhbiBzZXRRdWVyeVJlc3VsdENh\nY2hlKGJvb2xlYW4gY2FjaGUpIHsKICAgICAgICBfZmV0Y2guc2V0UXVlcnlD\nYWNoZShjYWNoZSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\ncHVibGljIENvbGxlY3Rpb248U3RyaW5nPiBnZXRGZXRjaEdyb3VwcygpIHsK\nICAgICAgICByZXR1cm4gX2ZldGNoLmdldEZldGNoR3JvdXBzKCk7CiAgICB9\nCgogICAgcHVibGljIEZldGNoUGxhbiBhZGRGZXRjaEdyb3VwKFN0cmluZyBn\ncm91cCkgewogICAgICAgIF9mZXRjaC5hZGRGZXRjaEdyb3VwKGdyb3VwKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQ\nbGFuIGFkZEZldGNoR3JvdXBzKFN0cmluZy4uLiBncm91cHMpIHsKICAgICAg\nICByZXR1cm4gYWRkRmV0Y2hHcm91cHMoQXJyYXlzLmFzTGlzdChncm91cHMp\nKTsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIGFkZEZldGNoR3JvdXBz\nKENvbGxlY3Rpb24gZ3JvdXBzKSB7CiAgICAgICAgX2ZldGNoLmFkZEZldGNo\nR3JvdXBzKGdyb3Vwcyk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cgog\nICAgcHVibGljIEZldGNoUGxhbiByZW1vdmVGZXRjaEdyb3VwKFN0cmluZyBn\ncm91cCkgewogICAgICAgIF9mZXRjaC5yZW1vdmVGZXRjaEdyb3VwKGdyb3Vw\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgRmV0\nY2hQbGFuIHJlbW92ZUZldGNoR3JvdXBzKFN0cmluZy4uLiBncm91cHMpIHsK\nICAgICAgICByZXR1cm4gcmVtb3ZlRmV0Y2hHcm91cHMoQXJyYXlzLmFzTGlz\ndChncm91cHMpKTsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIHJlbW92\nZUZldGNoR3JvdXBzKENvbGxlY3Rpb24gZ3JvdXBzKSB7CiAgICAgICAgX2Zl\ndGNoLnJlbW92ZUZldGNoR3JvdXBzKGdyb3Vwcyk7CiAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICB9CgogICAgcHVibGljIEZldGNoUGxhbiBjbGVhckZldGNo\nR3JvdXBzKCkgewogICAgICAgIF9mZXRjaC5jbGVhckZldGNoR3JvdXBzKCk7\nCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgcHVibGljIEZldGNo\nUGxhbiByZXNldEZldGNoR3JvdXBzKCkgewogICAgICAgIF9mZXRjaC5yZXNl\ndEZldGNoR3JvdXBzKCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cgog\nICAgcHVibGljIENvbGxlY3Rpb248U3RyaW5nPiBnZXRGaWVsZHMoKSB7CiAg\nICAgICAgcmV0dXJuIChDb2xsZWN0aW9uPFN0cmluZz4pIF9mZXRjaC5nZXRG\naWVsZHMoKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBoYXNGaWVsZChT\ndHJpbmcgZmllbGQpIHsKICAgICAgICByZXR1cm4gX2ZldGNoLmhhc0ZpZWxk\nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBoYXNGaWVsZChD\nbGFzcyBjbHMsIFN0cmluZyBmaWVsZCkgewogICAgICAgIHJldHVybiBoYXNG\naWVsZCh0b0ZpZWxkTmFtZShjbHMsIGZpZWxkKSk7CiAgICB9CgogICAgcHVi\nbGljIEZldGNoUGxhbiBhZGRGaWVsZChTdHJpbmcgZmllbGQpIHsKICAgICAg\nICBfZmV0Y2guYWRkRmllbGQoZmllbGQpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIHB1YmxpYyBGZXRjaFBsYW4gYWRkRmllbGQoQ2xhc3Mg\nY2xzLCBTdHJpbmcgZmllbGQpIHsKICAgICAgICByZXR1cm4gYWRkRmllbGQo\ndG9GaWVsZE5hbWUoY2xzLCBmaWVsZCkpOwogICAgfQoKICAgIHB1YmxpYyBG\nZXRjaFBsYW4gYWRkRmllbGRzKFN0cmluZy4uLiBmaWVsZHMpIHsKICAgICAg\nICByZXR1cm4gYWRkRmllbGRzKEFycmF5cy5hc0xpc3QoZmllbGRzKSk7CiAg\nICB9CgogICAgcHVibGljIEZldGNoUGxhbiBhZGRGaWVsZHMoQ2xhc3MgY2xz\nLCBTdHJpbmcuLi4gZmllbGRzKSB7CiAgICAgICAgcmV0dXJuIGFkZEZpZWxk\ncyhjbHMsIEFycmF5cy5hc0xpc3QoZmllbGRzKSk7CiAgICB9CgogICAgcHVi\nbGljIEZldGNoUGxhbiBhZGRGaWVsZHMoQ29sbGVjdGlvbiBmaWVsZHMpIHsK\nICAgICAgICBfZmV0Y2guYWRkRmllbGRzKGZpZWxkcyk7CiAgICAgICAgcmV0\ndXJuIHRoaXM7CiAgICB9CgogICAgcHVibGljIEZldGNoUGxhbiBhZGRGaWVs\nZHMoQ2xhc3MgY2xzLCBDb2xsZWN0aW9uIGZpZWxkcykgewogICAgICAgIHJl\ndHVybiBhZGRGaWVsZHModG9GaWVsZE5hbWVzKGNscywgZmllbGRzKSk7CiAg\nICB9CgogICAgcHVibGljIEZldGNoUGxhbiByZW1vdmVGaWVsZChTdHJpbmcg\nZmllbGQpIHsKICAgICAgICBfZmV0Y2gucmVtb3ZlRmllbGQoZmllbGQpOwog\nICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHB1YmxpYyBGZXRjaFBs\nYW4gcmVtb3ZlRmllbGQoQ2xhc3MgY2xzLCBTdHJpbmcgZmllbGQpIHsKICAg\nICAgICByZXR1cm4gcmVtb3ZlRmllbGQodG9GaWVsZE5hbWUoY2xzLCBmaWVs\nZCkpOwogICAgfQoKICAgIHB1YmxpYyBGZXRjaFBsYW4gcmVtb3ZlRmllbGRz\nKFN0cmluZy4uLiBmaWVsZHMpIHsKICAgICAgICByZXR1cm4gcmVtb3ZlRmll\nbGRzKEFycmF5cy5hc0xpc3QoZmllbGRzKSk7CiAgICB9CgogICAgcHVibGlj\nIEZldGNoUGxhbiByZW1vdmVGaWVsZHMoQ2xhc3MgY2xzLCBTdHJpbmcuLi4g\nZmllbGRzKSB7CiAgICAgICAgcmV0dXJuIHJlbW92ZUZpZWxkcyhjbHMsIEFy\ncmF5cy5hc0xpc3QoZmllbGRzKSk7CiAgICB9CgogICAgcHVibGljIEZldGNo\nUGxhbiByZW1vdmVGaWVsZHMoQ29sbGVjdGlvbiBmaWVsZHMpIHsKICAgICAg\nICBfZmV0Y2gucmVtb3ZlRmllbGRzKGZpZWxkcyk7CiAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICB9CgogICAgcHVibGljIEZldGNoUGxhbiByZW1vdmVGaWVs\nZHMoQ2xhc3MgY2xzLCBDb2xsZWN0aW9uIGZpZWxkcykgewogICAgICAgIHJl\ndHVybiByZW1vdmVGaWVsZHModG9GaWVsZE5hbWVzKGNscywgZmllbGRzKSk7\nCiAgICB9CgogICAgcHVibGljIEZldGNoUGxhbiBjbGVhckZpZWxkcygpIHsK\nICAgICAgICBfZmV0Y2guY2xlYXJGaWVsZHMoKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICBwcml2YXRlIHN0YXRpYyBTdHJpbmcgdG9GaWVs\nZE5hbWUoQ2xhc3MgY2xzLCBTdHJpbmcgZmllbGQpIHsKICAgICAgICByZXR1\ncm4gY2xzLmdldE5hbWUoKSArICIuIiArIGZpZWxkOwogICAgfQoKICAgIHBy\naXZhdGUgc3RhdGljIENvbGxlY3Rpb24gdG9GaWVsZE5hbWVzKENsYXNzIGNs\ncywgQ29sbGVjdGlvbiBmaWVsZHMpIHsKICAgICAgICBpZiAoZmllbGRzLmlz\nRW1wdHkoKSkKICAgICAgICAgICAgcmV0dXJuIGZpZWxkczsKICAgICAgICBD\nb2xsZWN0aW9uIG5hbWVzID0gbmV3IEFycmF5TGlzdChmaWVsZHMpOwogICAg\nICAgIGZvciAoSXRlcmF0b3IgaXRyID0gZmllbGRzLml0ZXJhdG9yKCk7IGl0\nci5oYXNOZXh0KCk7KQogICAgICAgICAgICBuYW1lcy5hZGQodG9GaWVsZE5h\nbWUoY2xzLCAoU3RyaW5nKSBpdHIubmV4dCgpKSk7CiAgICAgICAgcmV0dXJu\nIG5hbWVzOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0TG9ja1RpbWVvdXQo\nKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaC5nZXRMb2NrVGltZW91dCgpOwog\nICAgfQoKICAgIHB1YmxpYyBGZXRjaFBsYW4gc2V0TG9ja1RpbWVvdXQoaW50\nIHRpbWVvdXQpIHsKICAgICAgICBfZmV0Y2guc2V0TG9ja1RpbWVvdXQodGlt\nZW91dCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgcHVibGlj\nIExvY2tNb2RlVHlwZSBnZXRSZWFkTG9ja01vZGUoKSB7CiAgICAgICAgcmV0\ndXJuIEVudGl0eU1hbmFnZXJJbXBsLmZyb21Mb2NrTGV2ZWwoX2ZldGNoLmdl\ndFJlYWRMb2NrTGV2ZWwoKSk7CiAgICB9CgogICAgcHVibGljIEZldGNoUGxh\nbiBzZXRSZWFkTG9ja01vZGUoTG9ja01vZGVUeXBlIG1vZGUpIHsKICAgICAg\nICBfZmV0Y2guc2V0UmVhZExvY2tMZXZlbChFbnRpdHlNYW5hZ2VySW1wbC50\nb0xvY2tMZXZlbChtb2RlKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9\nCgogICAgcHVibGljIExvY2tNb2RlVHlwZSBnZXRXcml0ZUxvY2tNb2RlKCkg\newogICAgICAgIHJldHVybiBFbnRpdHlNYW5hZ2VySW1wbC5mcm9tTG9ja0xl\ndmVsKF9mZXRjaC5nZXRXcml0ZUxvY2tMZXZlbCgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgRmV0Y2hQbGFuIHNldFdyaXRlTG9ja01vZGUoTG9ja01vZGVUeXBl\nIG1vZGUpIHsKICAgICAgICBfZmV0Y2guc2V0V3JpdGVMb2NrTGV2ZWwoRW50\naXR5TWFuYWdlckltcGwudG9Mb2NrTGV2ZWwobW9kZSkpOwogICAgICAgIHJl\ndHVybiB0aGlzOwogICAgfQoKICAgIHB1YmxpYyBpbnQgaGFzaENvZGUoKSB7\nCiAgICAgICAgcmV0dXJuIF9mZXRjaC5oYXNoQ29kZSgpOwogICAgfQoKICAg\nIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb3RoZXIpIHsKICAgICAg\nICBpZiAob3RoZXIgPT0gdGhpcykKICAgICAgICAgICAgcmV0dXJuIHRydWU7\nCiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBGZXRjaFBsYW5JbXBs\nKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiBf\nZmV0Y2guZXF1YWxzKCgoRmV0Y2hQbGFuSW1wbCkgb3RoZXIpLl9mZXRjaCk7\nCiAgICB9Cn0K\n","encoding":"base64"}

