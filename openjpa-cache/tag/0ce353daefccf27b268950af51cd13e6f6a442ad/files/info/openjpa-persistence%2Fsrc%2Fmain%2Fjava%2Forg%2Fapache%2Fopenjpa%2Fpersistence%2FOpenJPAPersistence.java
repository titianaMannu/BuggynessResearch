{"sha":"ccf29bfe723f5162e1f9ea994dadc7624d70566f","node_id":"MDQ6QmxvYjIwNjM2NDpjY2YyOWJmZTcyM2Y1MTYyZTFmOWVhOTk0ZGFkYzc2MjRkNzA1NjZm","size":16288,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ccf29bfe723f5162e1f9ea994dadc7624d70566f","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlM\naXN0OwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZh\nLnV0aWwuSXRlcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQg\namF2YXgubmFtaW5nLkNvbnRleHQ7CmltcG9ydCBqYXZheC5uYW1pbmcuSW5p\ndGlhbENvbnRleHQ7CmltcG9ydCBqYXZheC5uYW1pbmcuTmFtaW5nRXhjZXB0\naW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUGVyc2lzdGVuY2U7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5RdWVyeTsKaW1wb3J0IGphdmF4LnJtaS5Q\nb3J0YWJsZVJlbW90ZU9iamVjdDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuZW5oYW5jZS5QZXJzaXN0ZW5jZUNhcGFibGU7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLkJvb3RzdHJhcDsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuQnJva2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5Ccm9rZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRpb25Qcm92aWRlcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuKjsKCi8qKgogKiBTdGF0\naWMgaGVscGVyIG1ldGhvZCBmb3IgSlBBIHVzZXJzLCBpbmNsdWRpbmcgc3dp\ndGNoaW5nCiAqIGJldHdlZW4gT3BlbkpQQSBuYXRpdmUgYW5kIEphdmEgUGVy\nc2lzdGVuY2UgQVBJcy4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQHB1\nYmxpc2hlZAogKiBAc2luY2UgMC40LjAKICovCnB1YmxpYyBjbGFzcyBPcGVu\nSlBBUGVyc2lzdGVuY2UKICAgIGV4dGVuZHMgUGVyc2lzdGVuY2UgewoKICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVNX0tFWSA9CiAgICAgICAg\nIm9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2Vy\nIjsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVNRl9LRVkgPQog\nICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuRW50aXR5\nTWFuYWdlckZhY3RvcnkiOwoKICAgIHByaXZhdGUgc3RhdGljIExvY2FsaXpl\nciBfbG9jID0KICAgICAgICBMb2NhbGl6ZXIuZm9yUGFja2FnZShPcGVuSlBB\nUGVyc2lzdGVuY2UuY2xhc3MpOwoKICAgIAogICAgcHVibGljIHN0YXRpYyBP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgdG9FbnRpdHlNYW5hZ2VyRmFj\ndG9yeQogICAgICAgKEJyb2tlckZhY3RvcnkgZmFjdG9yeSkgewogICAgICAg\nIGlmIChmYWN0b3J5ID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBudWxs\nOwoKICAgICAgICBmYWN0b3J5LmxvY2soKTsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgZW1mID0gKE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSkKICAgICAgICAgICAgICAgIGZh\nY3RvcnkuZ2V0VXNlck9iamVjdChFTUZfS0VZKTsKICAgICAgICAgICAgaWYg\nKGVtZiA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBlbWYgPSBFbnRpdHlN\nYW5hZ2VyRmFjdG9yeVZhbHVlLm5ld0ZhY3RvcnkoZmFjdG9yeSk7CiAgICAg\nICAgICAgICAgICBmYWN0b3J5LnB1dFVzZXJPYmplY3QoRU1GX0tFWSwgZW1m\nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZW1mOwogICAg\nICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93\nIFBlcnNpc3RlbmNlRXhjZXB0aW9ucy50b1BlcnNpc3RlbmNlRXhjZXB0aW9u\nKGUpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGZhY3Rvcnku\ndW5sb2NrKCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgdW5kZXJseWluZyBicm9rZXIgZmFjdG9yeSBmb3IgdGhl\nIGdpdmVuIHBlcnNpc3RlbmNlIG1hbmFnZXIKICAgICAqIGZhY3RvcnkgZmFj\nYWRlLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIEJyb2tlckZhY3Rvcnkg\ndG9Ccm9rZXJGYWN0b3J5KEVudGl0eU1hbmFnZXJGYWN0b3J5IGVtZikgewog\nICAgICAgIGlmIChlbWYgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51\nbGw7CiAgICAgICAgaWYgKCEoZW1mIGluc3RhbmNlb2YgRW50aXR5TWFuYWdl\nckZhY3RvcnlJbXBsKSkgewogICAgICAgICAgICBDbGFzcyBjID0gZW1mLmdl\ndENsYXNzKCk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAv\nLyBlaXRoZXIgY2FzdCBoZXJlIG1heSBmYWlsCiAgICAgICAgICAgICAgICBl\nbWYgPSAoRW50aXR5TWFuYWdlckZhY3RvcnlJbXBsKSAoKE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyRmFjdG9yeSkKICAgICAgICAgICAgICAgICAgICBlbWYpLmdl\ndFVzZXJPYmplY3QoRU1GX0tFWSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKENs\nYXNzQ2FzdEV4Y2VwdGlvbiBjY2UpIHsKICAgICAgICAgICAgICAgIHRocm93\nIG5ldyBBcmd1bWVudEV4Y2VwdGlvbihfbG9jLmdldAogICAgICAgICAgICAg\nICAgICAgICgiY2FudC1jb252ZXJ0LWJyb2tlcmZhY3RvcnkiLCBjKSwgbnVs\nbCwgbnVsbCwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAg\nICAgIHJldHVybiAoKEVudGl0eU1hbmFnZXJGYWN0b3J5SW1wbCkgZW1mKS5n\nZXRCcm9rZXJGYWN0b3J5KCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1\ncm4gYSBwZXJzaXN0ZW5jZSBtYW5hZ2VyIGZhY2FkZSB0byB0aGUgZ2l2ZW4g\nYnJva2VyIHJldGFpbmluZwogICAgICogcHJldmlvdXNseSBhc3NvY2lhdGVk\nIHBlcnNpc3RlbmNlIGNvbnRleHQgdHlwZS4KICAgICAqLwogICAgcHVibGlj\nIHN0YXRpYyBPcGVuSlBBRW50aXR5TWFuYWdlciB0b0VudGl0eU1hbmFnZXIo\nQnJva2VyIGJyb2tlcikgewogICAgICAgIGlmIChicm9rZXIgPT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgIGJyb2tlci5sb2Nr\nKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgZW0gPSAoT3BlbkpQQUVudGl0eU1hbmFnZXIpCiAgICAgICAgICAg\nICAgICBicm9rZXIuZ2V0VXNlck9iamVjdChFTV9LRVkpOwogICAgICAgICAg\nICBpZiAoZW0gPT0gbnVsbCkgewogICAgICAgICAgICAgICAgRW50aXR5TWFu\nYWdlckZhY3RvcnlJbXBsIGVtZiA9IChFbnRpdHlNYW5hZ2VyRmFjdG9yeUlt\ncGwpCiAgICAgICAgICAgICAgICAgICAgdG9FbnRpdHlNYW5hZ2VyRmFjdG9y\neShicm9rZXIuZ2V0QnJva2VyRmFjdG9yeSgpKTsKICAgICAgICAgICAgICAg\nIGVtID0gZW1mLm5ld0VudGl0eU1hbmFnZXJJbXBsKGJyb2tlcik7CiAgICAg\nICAgICAgICAgICBicm9rZXIucHV0VXNlck9iamVjdChFTV9LRVksIGVtKTsK\nICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZW07CiAgICAgICAg\nfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgdGhyb3cgUGVy\nc2lzdGVuY2VFeGNlcHRpb25zLnRvUGVyc2lzdGVuY2VFeGNlcHRpb24oZSk7\nCiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgYnJva2VyLnVubG9j\naygpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0\naGUgdW5kZXJseWluZyBicm9rZXIgZm9yIHRoZSBnaXZlbiBlbnRpdHkgbWFu\nYWdlciBmYWNhZGUuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgQnJva2Vy\nIHRvQnJva2VyKEVudGl0eU1hbmFnZXIgZW0pIHsKICAgICAgICBpZiAoZW0g\nPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgaWYg\nKCEoZW0gaW5zdGFuY2VvZiBFbnRpdHlNYW5hZ2VySW1wbCkpIHsKICAgICAg\nICAgICAgQ2xhc3MgYyA9IGVtLmdldENsYXNzKCk7CiAgICAgICAgICAgIHRy\neSB7CiAgICAgICAgICAgICAgICAvLyBlaXRoZXIgY2FzdCBoZXJlIG1heSBm\nYWlsCiAgICAgICAgICAgICAgICBlbSA9IChFbnRpdHlNYW5hZ2VySW1wbCkg\nKChPcGVuSlBBRW50aXR5TWFuYWdlcikgZW0pLgogICAgICAgICAgICAgICAg\nICAgIGdldFVzZXJPYmplY3QoRU1fS0VZKTsKICAgICAgICAgICAgfSBjYXRj\naCAoQ2xhc3NDYXN0RXhjZXB0aW9uIGNjZSkgewogICAgICAgICAgICAgICAg\ndGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uKF9sb2MuZ2V0KCJjYW50LWNv\nbnZlcnQtYnJva2VyIiwgYyksCiAgICAgICAgICAgICAgICAgICAgbnVsbCwg\nbnVsbCwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAg\nIHJldHVybiAoKEVudGl0eU1hbmFnZXJJbXBsKSBlbSkuZ2V0QnJva2VyKCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIE9wZW5KUEEgZmFj\nYWRlIHRvIHRoZSBnaXZlbiBlbnRpdHkgbWFuYWdlciBmYWN0b3J5LgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFj\ndG9yeSBjYXN0KEVudGl0eU1hbmFnZXJGYWN0b3J5IGVtZikgewogICAgICAg\nIHJldHVybiAoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5KSBlbWY7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIE9wZW5KUEEgZmFjYWRl\nIHRvIHRoZSBnaXZlbiBlbnRpdHkgbWFuYWdlci4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBPcGVuSlBBRW50aXR5TWFuYWdlciBjYXN0KEVudGl0eU1h\nbmFnZXIgZW0pIHsKICAgICAgICBpZiAoZW0gaW5zdGFuY2VvZiBPcGVuSlBB\nRW50aXR5TWFuYWdlcikKICAgICAgICAgICAgcmV0dXJuIChPcGVuSlBBRW50\naXR5TWFuYWdlcikgZW07CiAgICAgICAgcmV0dXJuIChPcGVuSlBBRW50aXR5\nTWFuYWdlcikgZW0uZ2V0RGVsZWdhdGUoKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiB0aGUgT3BlbkpQQSBmYWNhZGUgdG8gdGhlIGdpdmVuIHF1\nZXJ5LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIE9wZW5KUEFRdWVyeSBj\nYXN0KFF1ZXJ5IHEpIHsKICAgICAgICByZXR1cm4gKE9wZW5KUEFRdWVyeSkg\ncTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHtAbGluayBP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnl9IHNwZWNpZmllZCBieQogICAg\nICogeW91ciBPcGVuSlBBIGRlZmF1bHRzLiBUaGlzIG1ldGhvZCB3aWxsIHJl\ndHVybiB0aGUgc2FtZSBsb2dpY2FsIGZhY3RvcnkKICAgICAqIGZvciBlYWNo\nIGludm9jYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgT3BlbkpQ\nQUVudGl0eU1hbmFnZXJGYWN0b3J5IGdldEVudGl0eU1hbmFnZXJGYWN0b3J5\nKCkgewogICAgICAgIHJldHVybiBnZXRFbnRpdHlNYW5hZ2VyRmFjdG9yeShu\ndWxsKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHtAbGlu\nayBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnl9IHNwZWNpZmllZCBieQog\nICAgICogeW91ciBPcGVuSlBBIGRlZmF1bHRzLCB1c2luZyA8Y29kZT5tYXA8\nL2NvZGU+IGFzIG92ZXJyaWRlcy4gVGhpcyBtZXRob2QKICAgICAqIHdpbGwg\ncmV0dXJuIHRoZSBzYW1lIGxvZ2ljYWwgZmFjdG9yeSBmb3IgaW52b2NhdGlv\nbnMgd2l0aCB0aGUgc2FtZQogICAgICogb3ZlcnJpZGVzLgogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBn\nZXRFbnRpdHlNYW5hZ2VyRmFjdG9yeShNYXAgbWFwKSB7CiAgICAgICAgQ29u\nZmlndXJhdGlvblByb3ZpZGVyIGNwID0gbmV3IFBlcnNpc3RlbmNlUHJvZHVj\ndERlcml2YXRpb24uCiAgICAgICAgICAgIENvbmZpZ3VyYXRpb25Qcm92aWRl\nckltcGwobWFwKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4g\ndG9FbnRpdHlNYW5hZ2VyRmFjdG9yeShCb290c3RyYXAuZ2V0QnJva2VyRmFj\ndG9yeShjcCwgbnVsbCkpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBl\nKSB7CiAgICAgICAgICAgIHRocm93IFBlcnNpc3RlbmNlRXhjZXB0aW9ucy50\nb1BlcnNpc3RlbmNlRXhjZXB0aW9uKGUpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFJldHVybnMgYSBuZXcge0BsaW5rIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyRmFjdG9yeX0gc3BlY2lmaWVkIGJ5CiAgICAgKiA8Y29kZT5u\nYW1lPC9jb2RlPiBpbiBhbiBYTUwgY29uZmlndXJhdGlvbiBmaWxlIGF0IHRo\nZSByZXNvdXJjZSBsb2NhdGlvbgogICAgICogPGNvZGU+cmVzb3VyY2U8L2Nv\nZGU+LiBJZiA8Y29kZT5uYW1lPC9jb2RlPiBpcyA8Y29kZT5udWxsPC9jb2Rl\nPiwgdXNlcwogICAgICogdGhlIGZpcnN0IHJlc291cmNlIGZvdW5kIGluIHRo\nZSBzcGVjaWZpZWQgbG9jYXRpb24sIHJlZ2FyZGxlc3Mgb2YgdGhlCiAgICAg\nKiBuYW1lIHNwZWNpZmllZCBpbiB0aGUgWE1MIHJlc291cmNlIG9yIHRoZSBu\nYW1lIG9mIHRoZSBqYXIgdGhhdCB0aGUKICAgICAqIHJlc291cmNlIGlzIGNv\nbnRhaW5lZCBpbi4gSWYgPGNvZGU+cmVzb3VyY2U8L2NvZGU+IGlzIDxjb2Rl\nPm51bGw8L2NvZGU+LAogICAgICogdXNlcyB0aGUgc3BlYy1kZWZpbmVkIDxj\nb2RlPk1FVEEtSU5GL3BlcnNpc3RlbmNlLnhtbDwvY29kZT4gcmVzb3VyY2Uu\nCiAgICAgKiAgVGhpcyBtZXRob2Qgb25seSByZXNvbHZlcyB7QGxpbmsgT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5fSBpbnN0YW5jZXMuCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5\nIGNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5CiAgICAgICAgKFN0cmluZyBu\nYW1lLCBTdHJpbmcgcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gY3JlYXRl\nRW50aXR5TWFuYWdlckZhY3RvcnkobmFtZSwgcmVzb3VyY2UsIG51bGwpOwog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyBhIG5ldyB7QGxpbmsgT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5fSBzcGVjaWZpZWQgYnkKICAgICAq\nIDxjb2RlPm5hbWU8L2NvZGU+IGluIGFuIFhNTCBjb25maWd1cmF0aW9uIGZp\nbGUgYXQgdGhlIHJlc291cmNlIGxvY2F0aW9uCiAgICAgKiA8Y29kZT5yZXNv\ndXJjZTwvY29kZT4sIGFwcGx5aW5nIHRoZSBwcm9wZXJ0aWVzIHNwZWNpZmll\nZCBpbgogICAgICogPGNvZGU+bWFwPC9jb2RlPiBhcyBvdmVycmlkZXMuIElm\nIDxjb2RlPm5hbWU8L2NvZGU+IGlzCiAgICAgKiA8Y29kZT5udWxsPC9jb2Rl\nPiwgdXNlcyB0aGUgZmlyc3QgcmVzb3VyY2UgZm91bmQgaW4gdGhlIHNwZWNp\nZmllZAogICAgICogbG9jYXRpb24sIHJlZ2FyZGxlc3Mgb2YgdGhlIG5hbWUg\nc3BlY2lmaWVkIGluIHRoZSBYTUwgcmVzb3VyY2Ugb3IgdGhlCiAgICAgKiBu\nYW1lIG9mIHRoZSBqYXIgdGhhdCB0aGUgcmVzb3VyY2UgaXMgY29udGFpbmVk\nIGluLgogICAgICogSWYgPGNvZGU+cmVzb3VyY2U8L2NvZGU+IGlzIDxjb2Rl\nPm51bGw8L2NvZGU+LCB1c2VzIHRoZSBzcGVjLWRlZmluZWQKICAgICAqIDxj\nb2RlPk1FVEEtSU5GL3BlcnNpc3RlbmNlLnhtbDwvY29kZT4gcmVzb3VyY2Uu\nCiAgICAgKiAgVGhpcyBtZXRob2Qgb25seSByZXNvbHZlcyB7QGxpbmsgT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5fSBpbnN0YW5jZXMuCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5\nIGNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5CiAgICAgICAgKFN0cmluZyBu\nYW1lLCBTdHJpbmcgcmVzb3VyY2UsIE1hcCBtYXApIHsKICAgICAgICByZXR1\ncm4gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSkgbmV3IFBlcnNpc3Rl\nbmNlUHJvdmlkZXJJbXBsKCkuCiAgICAgICAgICAgIGNyZWF0ZUVudGl0eU1h\nbmFnZXJGYWN0b3J5KG5hbWUsIHJlc291cmNlLCBtYXApOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJucyB0aGUge0BsaW5rIEVudGl0eU1hbmFnZXJG\nYWN0b3J5fSBhdCB0aGUgSk5ESSBsb2NhdGlvbiBzcGVjaWZpZWQKICAgICAq\nIGJ5IDxjb2RlPmpuZGlMb2NhdGlvbjwvY29kZT4gaW4gdGhlIGNvbnRleHQg\nPGNvZGU+Y29udGV4dDwvY29kZT4uIElmCiAgICAgKiA8Y29kZT5jb250ZXh0\nPC9jb2RlPiBpcyA8Y29kZT5udWxsPC9jb2RlPiwKICAgICAqIDxjb2RlPm5l\ndyBJbml0aWFsQ29udGV4dCgpPC9jb2RlPiB3aWxsIGJlIHVzZWQuCiAgICAg\nKi8KICAgIHB1YmxpYyBzdGF0aWMgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0\nb3J5IGNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5CiAgICAgICAgKFN0cmlu\nZyBqbmRpTG9jYXRpb24sIENvbnRleHQgY29udGV4dCkgewogICAgICAgIGlm\nIChqbmRpTG9jYXRpb24gPT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cgbmV3\nIE51bGxQb2ludGVyRXhjZXB0aW9uKCJqbmRpTG9jYXRpb24gPT0gbnVsbCIp\nOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoY29udGV4dCA9PSBu\ndWxsKQogICAgICAgICAgICAgICAgY29udGV4dCA9IG5ldyBJbml0aWFsQ29u\ndGV4dCgpOwoKICAgICAgICAgICAgT2JqZWN0IG8gPSBjb250ZXh0Lmxvb2t1\ncChqbmRpTG9jYXRpb24pOwogICAgICAgICAgICByZXR1cm4gKE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyRmFjdG9yeSkgUG9ydGFibGVSZW1vdGVPYmplY3QubmFy\ncm93KG8sCiAgICAgICAgICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZh\nY3RvcnkuY2xhc3MpOwogICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlv\nbiBuZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRFeGNlcHRp\nb24oX2xvYy5nZXQoIm5hbWluZy1leGNlcHRpb24iLAogICAgICAgICAgICAg\nICAgam5kaUxvY2F0aW9uKSwgbmV3IFRocm93YWJsZVtdeyBuZSB9LCBudWxs\nLCB0cnVlKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1\ncm4gdGhlIGVudGl0eSBtYW5hZ2VyIGZvciB0aGUgZ2l2ZW4gb2JqZWN0LCBp\nZiBvbmUgY2FuIGJlIGRldGVybWluZWQKICAgICAqIGZyb20ganVzdCB0aGUg\nb2JqZWN0IGFsb25lLiBUaGlzIG1ldGhvZCB3aWxsIHN1Y2NlZWQgZm9yIGlu\nc3RhbmNlcyB0aGF0CiAgICAgKiBhcmUgZW5oYW5jZWQsIHRoYXQgd2VyZSBs\nb2FkZWQgZnJvbSB0aGUgZGF0YWJhc2UgKHJhdGhlciB0aGFuCiAgICAgKiBi\nZWluZyBjb25zdHJ1Y3RlZCB3aXRoIDxjb2RlPm5ldzwvY29kZT4pLCBvciB0\naGF0IHdlcmUgY3JlYXRlZCB0aHJvdWdoCiAgICAgKiB7QGxpbmsgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIjY3JlYXRlSW5zdGFuY2V9LgogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGdldEVudGl0eU1h\nbmFnZXIoT2JqZWN0IG8pIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBp\nZiAobyBpbnN0YW5jZW9mIFBlcnNpc3RlbmNlQ2FwYWJsZSkKICAgICAgICAg\nICAgICAgIHJldHVybiB0b0VudGl0eU1hbmFnZXIoKEJyb2tlcikgKChQZXJz\naXN0ZW5jZUNhcGFibGUpIG8pLgogICAgICAgICAgICAgICAgICAgIHBjR2V0\nR2VuZXJpY0NvbnRleHQoKSk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwog\nICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHRo\ncm93IFBlcnNpc3RlbmNlRXhjZXB0aW9ucy50b1BlcnNpc3RlbmNlRXhjZXB0\naW9uKGUpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbnMgdGhlIHtAbGluayBDbGFzc01ldGFEYXRhfSBhc3NvY2lhdGVkIHdpdGgg\ndGhlCiAgICAgKiBwZXJzaXN0ZW50IG9iamVjdCA8Y29kZT5vPC9jb2RlPi4K\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBDbGFzc01ldGFEYXRhIGdldE1l\ndGFEYXRhKE9iamVjdCBvKSB7CiAgICAgICAgaWYgKG8gPT0gbnVsbCkKICAg\nICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGdldEVudGl0eU1hbmFnZXIobyk7CiAgICAgICAgcmV0dXJuIChlbSA9\nPSBudWxsKSA/IG51bGwgOiBnZXRNZXRhRGF0YShlbSwgby5nZXRDbGFzcygp\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHtAbGluayBD\nbGFzc01ldGFEYXRhfSBhc3NvY2lhdGVkIHdpdGggdGhlCiAgICAgKiBwZXJz\naXN0ZW50IHR5cGUgPGNvZGU+Y2xzPC9jb2RlPi4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBDbGFzc01ldGFEYXRhIGdldE1ldGFEYXRhKEVudGl0eU1h\nbmFnZXIgZW0sIENsYXNzIGNscykgewogICAgICAgIGlmIChlbSA9PSBudWxs\nKQogICAgICAgICAgICB0aHJvdyBuZXcgTnVsbFBvaW50ZXJFeGNlcHRpb24o\nImVtID09IG51bGwiKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIg\na2VtID0gY2FzdChlbSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIGtlbS5nZXRDb25maWd1cmF0aW9uKCkuZ2V0TWV0YURhdGFSZXBvc2l0\nb3J5SW5zdGFuY2UoKS4KICAgICAgICAgICAgICAgIGdldE1ldGFEYXRhKGNs\ncywga2VtLmdldENsYXNzTG9hZGVyKCksIGZhbHNlKTsKICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICB0aHJvdyBQZXJzaXN0\nZW5jZUV4Y2VwdGlvbnMudG9QZXJzaXN0ZW5jZUV4Y2VwdGlvbihlKTsKICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB7QGxp\nbmsgQ2xhc3NNZXRhRGF0YX0gYXNzb2NpYXRlZCB3aXRoIHRoZQogICAgICog\ncGVyc2lzdGVudCB0eXBlIDxjb2RlPmNsczwvY29kZT4uCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgQ2xhc3NNZXRhRGF0YSBnZXRNZXRhRGF0YShFbnRp\ndHlNYW5hZ2VyRmFjdG9yeSBlbWYsCiAgICAgICAgQ2xhc3MgY2xzKSB7CiAg\nICAgICAgaWYgKGVtZiA9PSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcg\nTnVsbFBvaW50ZXJFeGNlcHRpb24oImVtZiA9PSBudWxsIik7CgogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBrZW1mID0gY2FzdChlbWYp\nOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBrZW1mLmdldENv\nbmZpZ3VyYXRpb24oKS5nZXRNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgp\nLgogICAgICAgICAgICAgICAgZ2V0TWV0YURhdGEoY2xzLCBudWxsLCBmYWxz\nZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgdGhyb3cgUGVyc2lzdGVuY2VFeGNlcHRpb25zLnRvUGVyc2lzdGVuY2VF\neGNlcHRpb24oZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog\nQ2xvc2UgdGhlIGdpdmVuIHJlc291cmNlLiBUaGUgcmVzb3VyY2UgY2FuIGJl\nIGFuIGV4dGVudCBpdGVyYXRvciwKICAgICAqIHF1ZXJ5IHJlc3VsdCwgbGFy\nZ2UgcmVzdWx0IHNldCByZWxhdGlvbiwgb3IgYW55IGNsb3NlYWJsZSBPcGVu\nSlBBCiAgICAgKiBjb21wb25lbnQuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0\naWMgdm9pZCBjbG9zZShPYmplY3QgbykgewogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIEltcGxIZWxwZXIuY2xvc2Uobyk7CiAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgdGhyb3cgUGVyc2lzdGVuY2VF\neGNlcHRpb25zLnRvUGVyc2lzdGVuY2VFeGNlcHRpb24oZSk7CiAgICAgICAg\nfQogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBz\ncGVjaWZpZWQgY2xhc3MgaXMgYW4gZW50aXR5IG9yIGVtYmVkZGFibGUgdHlw\nZS4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBib29sZWFuIGlzTWFuYWdl\nZFR5cGUoRW50aXR5TWFuYWdlciBlbSwgQ2xhc3MgY2xzKSB7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgcmV0dXJuIEltcGxIZWxwZXIuaXNNYW5hZ2Vk\nVHlwZShjbHMpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAg\nICAgICAgICAgIHRocm93IFBlcnNpc3RlbmNlRXhjZXB0aW9ucy50b1BlcnNp\nc3RlbmNlRXhjZXB0aW9uKGUpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIGNsYXNzIGlz\nIGFuIGVudGl0eSBvciBlbWJlZGRhYmxlIHR5cGUuCiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgYm9vbGVhbiBpc01hbmFnZWRUeXBlKEVudGl0eU1hbmFn\nZXJGYWN0b3J5IGVtZiwgQ2xhc3MgY2xzKSB7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgcmV0dXJuIEltcGxIZWxwZXIuaXNNYW5hZ2VkVHlwZShjbHMp\nOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAg\nIHRocm93IFBlcnNpc3RlbmNlRXhjZXB0aW9ucy50b1BlcnNpc3RlbmNlRXhj\nZXB0aW9uKGUpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFRy\nYW5zbGF0ZSBmcm9tIGEgT3BlbkpQQSBpZGVudGl0eSBvYmplY3QgdG8gYSBQ\nZXJzaXN0ZW5jZSBvbmUuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgT2Jq\nZWN0IGZyb21PcGVuSlBBT2JqZWN0SWQoT2JqZWN0IG9pZCkgewogICAgICAg\nIGlmIChvaWQgaW5zdGFuY2VvZiBPcGVuSlBBSWQpCiAgICAgICAgICAgIHJl\ndHVybiAoKE9wZW5KUEFJZCkgb2lkKS5nZXRJZE9iamVjdCgpOwogICAgICAg\nIHJldHVybiBvaWQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2xhdGUg\nZnJvbSBhIFBlcnNpc3RlbmNlIGlkZW50aXR5IG9iamVjdCB0byBhIE9wZW5K\nUEEgb25lLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIE9iamVjdCB0b09w\nZW5KUEFPYmplY3RJZChDbGFzc01ldGFEYXRhIG1ldGEsIE9iamVjdCBvaWQp\nIHsKICAgICAgICBpZiAob2lkID09IG51bGwgfHwgbWV0YSA9PSBudWxsKQog\nICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAgQ2xhc3MgY2xzID0g\nbWV0YS5nZXREZXNjcmliZWRUeXBlKCk7CiAgICAgICAgaWYgKG1ldGEuZ2V0\nSWRlbnRpdHlUeXBlKCkgPT0gQ2xhc3NNZXRhRGF0YS5JRF9EQVRBU1RPUkUp\nCiAgICAgICAgICAgIHJldHVybiBuZXcgSWQoY2xzLCAoKE51bWJlcikgb2lk\nKS5sb25nVmFsdWUoKSk7CgogICAgICAgIGlmIChvaWQgaW5zdGFuY2VvZiBC\neXRlKQogICAgICAgICAgICByZXR1cm4gbmV3IEJ5dGVJZChjbHMsIChCeXRl\nKSBvaWQpOwogICAgICAgIGlmIChvaWQgaW5zdGFuY2VvZiBDaGFyYWN0ZXIp\nCiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhcklkKGNscywgKENoYXJhY3Rl\ncikgb2lkKTsKICAgICAgICBpZiAob2lkIGluc3RhbmNlb2YgSW50ZWdlcikK\nICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRJZChjbHMsIChJbnRlZ2VyKSBv\naWQpOwogICAgICAgIGlmIChvaWQgaW5zdGFuY2VvZiBMb25nKQogICAgICAg\nICAgICByZXR1cm4gbmV3IExvbmdJZChjbHMsIChMb25nKSBvaWQpOwogICAg\nICAgIGlmIChvaWQgaW5zdGFuY2VvZiBTaG9ydCkKICAgICAgICAgICAgcmV0\ndXJuIG5ldyBTaG9ydElkKGNscywgKFNob3J0KSBvaWQpOwogICAgICAgIGlm\nIChvaWQgaW5zdGFuY2VvZiBTdHJpbmcpCiAgICAgICAgICAgIHJldHVybiBu\nZXcgU3RyaW5nSWQoY2xzLCAoU3RyaW5nKSBvaWQpOwogICAgICAgIHJldHVy\nbiBuZXcgT2JqZWN0SWQoY2xzLCBvaWQpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIGFuIGFycmF5IG9mIE9wZW5KUEEgb2lkcyBmb3IgdGhlIGdp\ndmVuIG5hdGl2ZSBvaWQgYXJyYXkuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0\naWMgT2JqZWN0W10gdG9PcGVuSlBBT2JqZWN0SWRzKENsYXNzTWV0YURhdGEg\nbWV0YSwKICAgICAgICBPYmplY3QuLi4gb2lkcykgewogICAgICAgIGlmIChv\naWRzID09IG51bGwgfHwgb2lkcy5sZW5ndGggPT0gMCkKICAgICAgICAgICAg\ncmV0dXJuIG9pZHM7CgogICAgICAgIC8vIHNpbmNlIHRoZSBjbGFzcyBpZiBm\naXhlZCBmb3IgYWxsIG9pZHMsIHdlIGNhbiB0ZWxsIGlmIHdlIGhhdmUgdG8K\nICAgICAgICAvLyB0cmFuc2xhdGUgdGhlIGFycmF5IGJhc2VkIG9uIHdoZXRo\nZXIgdGhlIGZpcnN0IG9pZCBuZWVkcyB0cmFuc2xhdGluZwogICAgICAgIE9i\namVjdCBvaWQgPSB0b09wZW5KUEFPYmplY3RJZChtZXRhLCBvaWRzWzBdKTsK\nICAgICAgICBpZiAob2lkID09IG9pZHNbMF0pCiAgICAgICAgICAgIHJldHVy\nbiBvaWRzOwoKICAgICAgICBPYmplY3RbXSBjb3B5ID0gbmV3IE9iamVjdFtv\naWRzLmxlbmd0aF07CiAgICAgICAgY29weVswXSA9IG9pZDsKICAgICAgICBm\nb3IgKGludCBpID0gMTsgaSA8IG9pZHMubGVuZ3RoOyBpKyspCiAgICAgICAg\nICAgIGNvcHlbaV0gPSB0b09wZW5KUEFPYmplY3RJZChtZXRhLCBvaWRzW2ld\nKTsKICAgICAgICByZXR1cm4gY29weTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiBhIGNvbGxlY3Rpb24gb2YgT3BlbkpQQSBvaWRzIGZvciB0aGUg\nZ2l2ZW4gbmF0aXZlIG9pZCBjb2xsZWN0aW9uLgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIENvbGxlY3Rpb24gdG9PcGVuSlBBT2JqZWN0SWRzKENsYXNz\nTWV0YURhdGEgbWV0YSwKICAgICAgICBDb2xsZWN0aW9uIG9pZHMpIHsKICAg\nICAgICBpZiAob2lkcyA9PSBudWxsIHx8IG9pZHMuaXNFbXB0eSgpKQogICAg\nICAgICAgICByZXR1cm4gb2lkczsKCiAgICAgICAgLy8gc2luY2UgdGhlIGNs\nYXNzIGlmIGZpeGVkIGZvciBhbGwgb2lkcywgd2UgY2FuIHRlbGwgaWYgd2Ug\naGF2ZSB0bwogICAgICAgIC8vIHRyYW5zbGF0ZSB0aGUgYXJyYXkgYmFzZWQg\nb24gd2hldGhlciB0aGUgZmlyc3Qgb2lkIG5lZWRzIHRyYW5zbGF0aW5nCiAg\nICAgICAgSXRlcmF0b3IgaXRyID0gb2lkcy5pdGVyYXRvcigpOwogICAgICAg\nIE9iamVjdCBvcmlnID0gaXRyLm5leHQoKTsKICAgICAgICBPYmplY3Qgb2lk\nID0gdG9PcGVuSlBBT2JqZWN0SWQobWV0YSwgb3JpZyk7CiAgICAgICAgaWYg\nKG9pZCA9PSBvcmlnKQogICAgICAgICAgICByZXR1cm4gb2lkczsKCiAgICAg\nICAgQ29sbGVjdGlvbiBjb3B5ID0gbmV3IEFycmF5TGlzdChvaWRzLnNpemUo\nKSk7CiAgICAgICAgY29weS5hZGQob2lkKTsKICAgICAgICB3aGlsZSAoaXRy\nLmhhc05leHQoKSkKICAgICAgICAgICAgY29weS5hZGQodG9PcGVuSlBBT2Jq\nZWN0SWQobWV0YSwgaXRyLm5leHQoKSkpOwogICAgICAgIHJldHVybiBjb3B5\nOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNsYXRlIGZyb20gYSBPcGVu\nSlBBIGlkZW50aXR5IGNsYXNzIHRvIGEgbmF0aXZlIG9uZS4KICAgICAqLwog\nICAgcHVibGljIHN0YXRpYyBDbGFzcyBmcm9tT3BlbkpQQU9iamVjdElkQ2xh\nc3MoQ2xhc3Mgb2lkQ2xhc3MpIHsKICAgICAgICBpZiAob2lkQ2xhc3MgPT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgaWYgKG9p\nZENsYXNzID09IElkLmNsYXNzKQogICAgICAgICAgICByZXR1cm4gTG9uZy5j\nbGFzczsKICAgICAgICBpZiAob2lkQ2xhc3MgPT0gQnl0ZUlkLmNsYXNzKQog\nICAgICAgICAgICByZXR1cm4gQnl0ZS5jbGFzczsKICAgICAgICBpZiAob2lk\nQ2xhc3MgPT0gQ2hhcklkLmNsYXNzKQogICAgICAgICAgICByZXR1cm4gQ2hh\ncmFjdGVyLmNsYXNzOwogICAgICAgIGlmIChvaWRDbGFzcyA9PSBJbnRJZC5j\nbGFzcykKICAgICAgICAgICAgcmV0dXJuIEludGVnZXIuY2xhc3M7CiAgICAg\nICAgaWYgKG9pZENsYXNzID09IExvbmdJZC5jbGFzcykKICAgICAgICAgICAg\ncmV0dXJuIExvbmcuY2xhc3M7CiAgICAgICAgaWYgKG9pZENsYXNzID09IFNo\nb3J0SWQuY2xhc3MpCiAgICAgICAgICAgIHJldHVybiBTaG9ydC5jbGFzczsK\nICAgICAgICBpZiAob2lkQ2xhc3MgPT0gU3RyaW5nSWQuY2xhc3MpCgkJCXJl\ndHVybiBTdHJpbmcuY2xhc3M7CgkJcmV0dXJuIG9pZENsYXNzOwoJfQp9Cg==\n","encoding":"base64"}

