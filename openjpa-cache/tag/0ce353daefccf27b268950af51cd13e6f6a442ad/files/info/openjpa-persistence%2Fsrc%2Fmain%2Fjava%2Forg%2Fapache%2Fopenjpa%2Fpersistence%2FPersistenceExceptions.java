{"sha":"3db3a3119655eddc3af98851ad7b8b987a8d0724","node_id":"MDQ6QmxvYjIwNjM2NDozZGIzYTMxMTk2NTVlZGRjM2FmOTg4NTFhZDdiOGI5ODdhOGQwNzI0","size":8932,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3db3a3119655eddc3af98851ad7b8b987a8d0724","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBqYXZhLmxhbmcucmVmbGVj\ndC5JbnZvY2F0aW9uVGFyZ2V0RXhjZXB0aW9uOwoKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuQnJva2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnV0aWwuRXhjZXB0aW9uczsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS51dGlsLk9wZW5KUEFFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEudXRpbC5SdW50aW1lRXhjZXB0aW9uVHJhbnNsYXRvcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlN0b3JlRXhjZXB0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuVXNlckV4Y2VwdGlvbjsK\nCi8qKgogKiBDb252ZXJ0cyBmcm9tIE9wZW5KUEEgdG8gcGVyc2lzdGVuY2Ug\nZXhjZXB0aW9uIHR5cGVzLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBA\nYXV0aG9yIE1hcmMgUHJ1ZCdob21tZWF1eAogKiBAbm9qYXZhZG9jCiAqLwpw\ndWJsaWMgY2xhc3MgUGVyc2lzdGVuY2VFeGNlcHRpb25zCiAgICBleHRlbmRz\nIEV4Y2VwdGlvbnMgewoKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUnVudGlt\nZUV4Y2VwdGlvblRyYW5zbGF0b3IgVFJBTlNMQVRPUiA9CiAgICAgICAgbmV3\nIFJ1bnRpbWVFeGNlcHRpb25UcmFuc2xhdG9yKCkgewogICAgICAgICAgICBw\ndWJsaWMgUnVudGltZUV4Y2VwdGlvbiB0cmFuc2xhdGUoUnVudGltZUV4Y2Vw\ndGlvbiByZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNl\nRXhjZXB0aW9ucy50b1BlcnNpc3RlbmNlRXhjZXB0aW9uKHJlKTsKICAgICAg\nICAgICAgfQogICAgICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEg\ne0BsaW5rIFJ1bnRpbWVFeGNlcHRpb25UcmFuc2xhdG9yfSB0aGF0IHdpbGwg\ncGVyZm9ybQogICAgICogdGhlIGNvcnJlY3QgZXhjZXB0aW9uIHRyYW5zbGF0\naW9uIGFzIHdlbGwgYXMgcm9sbCBiYWNrIHRoZQogICAgICogY3VycmVudCB0\ncmFuc2FjdGlvbiB3aGVuIGZvciBhbGwgYnV0IHtAbGluayBOb1Jlc3VsdEV4\nY2VwdGlvbn0KICAgICAqIGFuZCB7QGxpbmsgTm9uVW5pcXVlUmVzdWx0RXhj\nZXB0aW9ufSBpbiBhY2NvcmRhbmNlIHdpdGgKICAgICAqIHNlY3Rpb24gMy43\nIG9mIHRoZSBFSkIgMy4wIHNwZWNpZmljYXRpb24uCiAgICAgKi8KICAgIHN0\nYXRpYyBSdW50aW1lRXhjZXB0aW9uVHJhbnNsYXRvciBnZXRSb2xsYmFja1Ry\nYW5zbGF0b3IKICAgICAgICAoZmluYWwgT3BlbkpQQUVudGl0eU1hbmFnZXIg\nZW0pIHsKICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVFeGNlcHRpb25UcmFu\nc2xhdG9yKCkgewogICAgICAgICAgICBwcml2YXRlIGJvb2xlYW4gdGhyb3dp\nbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIHB1YmxpYyBSdW50aW1lRXhjZXB0\naW9uIHRyYW5zbGF0ZShSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAg\nICAgICAgICBSdW50aW1lRXhjZXB0aW9uIGV4ID0gdG9QZXJzaXN0ZW5jZUV4\nY2VwdGlvbihyZSk7CiAgICAgICAgICAgICAgICBpZiAoIShleCBpbnN0YW5j\nZW9mIE5vblVuaXF1ZVJlc3VsdEV4Y2VwdGlvbikKICAgICAgICAgICAgICAg\nICAgICAmJiAhKGV4IGluc3RhbmNlb2YgTm9SZXN1bHRFeGNlcHRpb24pCiAg\nICAgICAgICAgICAgICAgICAgJiYgIXRocm93aW5nKSB7CiAgICAgICAgICAg\nICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dp\nbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW0uaXNP\ncGVuKCkgJiYgZW0uaXNBY3RpdmUoKSkKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIGVtLnNldFJvbGxiYWNrT25seSgpOwogICAgICAgICAgICAgICAg\nICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhh\nbmRsZSByZS1lbnRyYW5jeQogICAgICAgICAgICAgICAgICAgICAgICB0aHJv\nd2luZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg\nICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gZXg7CiAgICAgICAg\nICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVy\ndCB0aGUgZ2l2ZW4gdGhyb3dhYmxlIHRvIHRoZSBwcm9wZXIgcGVyc2lzdGVu\nY2UgZXhjZXB0aW9uLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFJ1bnRp\nbWVFeGNlcHRpb24gdG9QZXJzaXN0ZW5jZUV4Y2VwdGlvbihUaHJvd2FibGUg\ndCkgewogICAgICAgIHJldHVybiAoUnVudGltZUV4Y2VwdGlvbikgdHJhbnNs\nYXRlRXhjZXB0aW9uKHQsIHRydWUpOwogICAgfQoKICAgIC8qKgogICAgICog\nVHJhbnNsYXRlIHRoZSBnaXZlbiBleGNlcHRpb24uCiAgICAgKgogICAgICog\nQHBhcmFtIGNoZWNrZWQgd2hldGhlciB0byB0cmFuc2xhdGUgY2hlY2tlZCBl\neGNlcHRpb25zCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIFRocm93YWJs\nZSB0cmFuc2xhdGVFeGNlcHRpb24oVGhyb3dhYmxlIHQsIGJvb2xlYW4gY2hl\nY2tlZCkgewogICAgICAgIGlmIChpc1BlcnNpc3RlbmNlRXhjZXB0aW9uKHQp\nKQogICAgICAgICAgICByZXR1cm4gdDsKCiAgICAgICAgLy8gaW1tZWRpYXRl\nbHkgdGhyb3cgZXJyb3JzCiAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBFcnJv\ncikKICAgICAgICAgICAgdGhyb3cgKEVycm9yKSB0OwoKICAgICAgICBPcGVu\nSlBBRXhjZXB0aW9uIGtlOwogICAgICAgIGlmICghKHQgaW5zdGFuY2VvZiBP\ncGVuSlBBRXhjZXB0aW9uKSkgewogICAgICAgICAgICBpZiAoIWNoZWNrZWQg\nfHwgdCBpbnN0YW5jZW9mIFJ1bnRpbWVFeGNlcHRpb24pCiAgICAgICAgICAg\nICAgICByZXR1cm4gdDsKICAgICAgICAgICAga2UgPSBuZXcgb3JnLmFwYWNo\nZS5vcGVuanBhLnV0aWwuR2VuZXJhbEV4Y2VwdGlvbih0LmdldE1lc3NhZ2Uo\nKSk7CiAgICAgICAgICAgIGtlLnNldFN0YWNrVHJhY2UodC5nZXRTdGFja1Ry\nYWNlKCkpOwogICAgICAgICAgICByZXR1cm4ga2U7CiAgICAgICAgfQoKICAg\nICAgICAvLyBpZiBvbmx5IG5lc3RlZCBleGNlcHRpb24gaXMgYSBwZXJzaXN0\nZW5jZSBvbmUsIHJldHVybiBpdCBkaXJlY3RseQogICAgICAgIGtlID0gKE9w\nZW5KUEFFeGNlcHRpb24pIHQ7CiAgICAgICAgaWYgKGtlLmdldE5lc3RlZFRo\ncm93YWJsZXMoKS5sZW5ndGggPT0gMQogICAgICAgICAgICAmJiBpc1BlcnNp\nc3RlbmNlRXhjZXB0aW9uKGtlLmdldENhdXNlKCkpKQogICAgICAgICAgICBy\nZXR1cm4ga2UuZ2V0Q2F1c2UoKTsKCiAgICAgICAgLy8gUnVudGltZUV4Y2Vw\ndGlvbnMgdGhyb3duIGZyb20gY2FsbGJhY2tzIHNob3VsZCBiZSB0aHJvd24g\nZGlyZWN0bHkKICAgICAgICBpZiAoa2UuZ2V0VHlwZSgpID09IE9wZW5KUEFF\neGNlcHRpb24uVVNFUgogICAgICAgICAgICAmJiBrZS5nZXRTdWJ0eXBlKCkg\nPT0gVXNlckV4Y2VwdGlvbi5DQUxMQkFDSwogICAgICAgICAgICAmJiBrZS5n\nZXROZXN0ZWRUaHJvd2FibGVzKCkubGVuZ3RoID09IDEpIHsKICAgICAgICAg\nICAgVGhyb3dhYmxlIGUgPSBrZS5nZXRDYXVzZSgpOwogICAgICAgICAgICBp\nZiAoZSBpbnN0YW5jZW9mIEludm9jYXRpb25UYXJnZXRFeGNlcHRpb24pCiAg\nICAgICAgICAgICAgICBlID0gZS5nZXRDYXVzZSgpOwoKICAgICAgICAgICAg\naWYgKGUgaW5zdGFuY2VvZiBSdW50aW1lRXhjZXB0aW9uKQogICAgICAgICAg\nICAgICAgcmV0dXJuIGU7CiAgICAgICAgfQoKICAgICAgICAvLyBwZXJmb3Jt\nIGludGVsbGlnZW50IHRyYW5zbGF0aW9uIG9mIG9wZW5qcGEgZXhjZXB0aW9u\ncwogICAgICAgIHN3aXRjaCAoa2UuZ2V0VHlwZSgpKSB7CiAgICAgICAgICAg\nIGNhc2UgT3BlbkpQQUV4Y2VwdGlvbi5TVE9SRToKICAgICAgICAgICAgICAg\nIHJldHVybiB0cmFuc2xhdGVTdG9yZUV4Y2VwdGlvbihrZSk7CiAgICAgICAg\nICAgIGNhc2UgT3BlbkpQQUV4Y2VwdGlvbi5VU0VSOgogICAgICAgICAgICAg\nICAgcmV0dXJuIHRyYW5zbGF0ZVVzZXJFeGNlcHRpb24oa2UpOwogICAgICAg\nICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0\nZUdlbmVyYWxFeGNlcHRpb24oa2UpOwogICAgICAgIH0KICAgIH0KCiAgICAv\nKioKICAgICAqIFRyYW5zbGF0ZSB0aGUgZ2l2ZW4gc3RvcmUgZXhjZXB0aW9u\nLgogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBUaHJvd2FibGUgdHJhbnNs\nYXRlU3RvcmVFeGNlcHRpb24oT3BlbkpQQUV4Y2VwdGlvbiBrZSkgewogICAg\nICAgIEV4Y2VwdGlvbiBlOwogICAgICAgIHN3aXRjaCAoa2UuZ2V0U3VidHlw\nZSgpKSB7CiAgICAgICAgICAgIGNhc2UgU3RvcmVFeGNlcHRpb24uT0JKRUNU\nX05PVF9GT1VORDoKICAgICAgICAgICAgICAgIGUgPSBuZXcgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLkVudGl0eU5vdEZvdW5kRXhjZXB0aW9u\nCiAgICAgICAgICAgICAgICAgICAgKGtlLmdldE1lc3NhZ2UoKSwgZ2V0TmVz\ndGVkVGhyb3dhYmxlcyhrZSksCiAgICAgICAgICAgICAgICAgICAgICAgIGdl\ndEZhaWxlZE9iamVjdChrZSksIGtlLmlzRmF0YWwoKSk7CiAgICAgICAgICAg\nICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBTdG9yZUV4Y2VwdGlvbi5P\nUFRJTUlTVElDOgogICAgICAgICAgICAgICAgZSA9IG5ldyBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3B0aW1pc3RpY0xvY2tFeGNlcHRpb24K\nICAgICAgICAgICAgICAgICAgICAoa2UuZ2V0TWVzc2FnZSgpLCBnZXROZXN0\nZWRUaHJvd2FibGVzKGtlKSwKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0\nRmFpbGVkT2JqZWN0KGtlKSwga2UuaXNGYXRhbCgpKTsKICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIFN0b3JlRXhjZXB0aW9uLk9C\nSkVDVF9FWElTVFM6CiAgICAgICAgICAgICAgICBlID0gbmV3IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5FbnRpdHlFeGlzdHNFeGNlcHRpb24K\nICAgICAgICAgICAgICAgICAgICAoa2UuZ2V0TWVzc2FnZSgpLCBnZXROZXN0\nZWRUaHJvd2FibGVzKGtlKSwKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0\nRmFpbGVkT2JqZWN0KGtlKSwga2UuaXNGYXRhbCgpKTsKICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAg\nICAgZSA9IG5ldyBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuUGVy\nc2lzdGVuY2VFeGNlcHRpb24KICAgICAgICAgICAgICAgICAgICAoa2UuZ2V0\nTWVzc2FnZSgpLCBnZXROZXN0ZWRUaHJvd2FibGVzKGtlKSwKICAgICAgICAg\nICAgICAgICAgICAgICAgZ2V0RmFpbGVkT2JqZWN0KGtlKSwga2UuaXNGYXRh\nbCgpKTsKICAgICAgICB9CiAgICAgICAgZS5zZXRTdGFja1RyYWNlKGtlLmdl\ndFN0YWNrVHJhY2UoKSk7CiAgICAgICAgcmV0dXJuIGU7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUcmFuc2xhdGUgdGhlIGdpdmVuIHVzZXIgZXhjZXB0aW9u\nLgogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBFeGNlcHRpb24gdHJhbnNs\nYXRlVXNlckV4Y2VwdGlvbihPcGVuSlBBRXhjZXB0aW9uIGtlKSB7CiAgICAg\nICAgRXhjZXB0aW9uIGU7CiAgICAgICAgc3dpdGNoIChrZS5nZXRTdWJ0eXBl\nKCkpIHsKICAgICAgICAgICAgY2FzZSBVc2VyRXhjZXB0aW9uLk5PX1RSQU5T\nQUNUSU9OOgogICAgICAgICAgICAgICAgZSA9IG5ldyAKICAgICAgICAgICAg\nICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuVHJhbnNh\nY3Rpb25SZXF1aXJlZEV4Y2VwdGlvbgogICAgICAgICAgICAgICAgICAgICAg\nICAoa2UuZ2V0TWVzc2FnZSgpLCBnZXROZXN0ZWRUaHJvd2FibGVzKGtlKSwK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEZhaWxlZE9iamVjdChr\nZSksIGtlLmlzRmF0YWwoKSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAg\nICAgICAgICAgY2FzZSBVc2VyRXhjZXB0aW9uLklOVkFMSURfU1RBVEU6CiAg\nICAgICAgICAgICAgICBlID0gbmV3IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5JbnZhbGlkU3RhdGVFeGNlcHRpb24KICAgICAgICAgICAgICAg\nICAgICAoa2UuZ2V0TWVzc2FnZSgpLCBnZXROZXN0ZWRUaHJvd2FibGVzKGtl\nKSwKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RmFpbGVkT2JqZWN0KGtl\nKSwga2UuaXNGYXRhbCgpKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAg\nICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgZSA9IG5ldyBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuQXJndW1lbnRFeGNlcHRpb24K\nICAgICAgICAgICAgICAgICAgICAoa2UuZ2V0TWVzc2FnZSgpLCBnZXROZXN0\nZWRUaHJvd2FibGVzKGtlKSwKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0\nRmFpbGVkT2JqZWN0KGtlKSwga2UuaXNGYXRhbCgpKTsKICAgICAgICB9CiAg\nICAgICAgZS5zZXRTdGFja1RyYWNlKGtlLmdldFN0YWNrVHJhY2UoKSk7CiAg\nICAgICAgcmV0dXJuIGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2xh\ndGUgdGhlIGdpdmVuIGdlbmVyYWwgZXhjZXB0aW9uLgogICAgICovCiAgICBw\ncml2YXRlIHN0YXRpYyBUaHJvd2FibGUgdHJhbnNsYXRlR2VuZXJhbEV4Y2Vw\ndGlvbihPcGVuSlBBRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgRXhjZXB0aW9u\nIGUgPSBuZXcgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLlBlcnNp\nc3RlbmNlRXhjZXB0aW9uCiAgICAgICAgICAgIChrZS5nZXRNZXNzYWdlKCks\nIGdldE5lc3RlZFRocm93YWJsZXMoa2UpLAogICAgICAgICAgICAgICAgZ2V0\nRmFpbGVkT2JqZWN0KGtlKSwga2UuaXNGYXRhbCgpKTsKICAgICAgICBlLnNl\ndFN0YWNrVHJhY2Uoa2UuZ2V0U3RhY2tUcmFjZSgpKTsKICAgICAgICByZXR1\ncm4gZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0cnVlIGlmIHRo\nZSBnaXZlbiBleGNlcHRpb24gaXMgYSBwZXJzaXN0ZW5jZSBleGNlcHRpb24u\nCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIGJvb2xlYW4gaXNQZXJzaXN0\nZW5jZUV4Y2VwdGlvbihUaHJvd2FibGUgdCkgewogICAgICAgIHJldHVybiB0\nLmdldENsYXNzKCkuZ2V0TmFtZSgpCiAgICAgICAgICAgIC5zdGFydHNXaXRo\nKCJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuIik7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBUcmFuc2xhdGUgdGhlIG5lc3RlZCB0aHJvd2FibGVz\nIG9mIHRoZSBnaXZlbiBvcGVuanBhIGV4Y2VwdGlvbiBpbnRvCiAgICAgKiBu\nZXN0ZWQgdGhyb3dhYmxlcyBmb3IgYSBwZXJzaXN0ZW5jZSBleGNlcHRpb24u\nCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIFRocm93YWJsZVtdIGdldE5l\nc3RlZFRocm93YWJsZXMoT3BlbkpQQUV4Y2VwdGlvbiBrZSkgewogICAgICAg\nIFRocm93YWJsZVtdIG5lc3RlZCA9IGtlLmdldE5lc3RlZFRocm93YWJsZXMo\nKTsKICAgICAgICBpZiAobmVzdGVkLmxlbmd0aCA9PSAwKQogICAgICAgICAg\nICByZXR1cm4gbmVzdGVkOwoKICAgICAgICBUaHJvd2FibGVbXSB0cmFucyA9\nIG5ldyBUaHJvd2FibGVbbmVzdGVkLmxlbmd0aF07CiAgICAgICAgZm9yIChp\nbnQgaSA9IDA7IGkgPCBuZXN0ZWQubGVuZ3RoOyBpKyspCiAgICAgICAgICAg\nIHRyYW5zW2ldID0gdHJhbnNsYXRlRXhjZXB0aW9uKG5lc3RlZFtpXSwgZmFs\nc2UpOwogICAgICAgIHJldHVybiB0cmFuczsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiB0aGUgZmFpbGVkIG9iamVjdCBmb3IgdGhlIGdpdmVuIGV4\nY2VwdGlvbiwgcGVyZm9ybWluZyBhbnkKICAgICAqIG5lY2Vzc2FyeSBjb252\nZXJzaW9ucy4KICAgICAqLwogICAgcHJpdmF0ZSBzdGF0aWMgT2JqZWN0IGdl\ndEZhaWxlZE9iamVjdChPcGVuSlBBRXhjZXB0aW9uIGtlKSB7CiAgICAgICAg\nT2JqZWN0IG8gPSBrZS5nZXRGYWlsZWRPYmplY3QoKTsKICAgICAgICBpZiAo\nbyA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBp\nZiAobyBpbnN0YW5jZW9mIEJyb2tlcikKICAgICAgICAgICAgcmV0dXJuIE9w\nZW5KUEFQZXJzaXN0ZW5jZS50b0VudGl0eU1hbmFnZXIoKEJyb2tlcikgbyk7\nCiAgICAgICAgcmV0dXJuIE9wZW5KUEFQZXJzaXN0ZW5jZS5mcm9tT3BlbkpQ\nQU9iamVjdElkKG8pOwogICAgfQoKICAgIC8qKgogICAgICogSGVscGVyIG1l\ndGhvZCB0byBleHRyYWN0IGEgbmVzdGVkIGV4Y2VwdGlvbiBmcm9tIGFuIGlu\ndGVybmFsIG5lc3RlZAogICAgICogYXJyYXkgaW4gYSBzYWZlIHdheS4KICAg\nICAqLwogICAgc3RhdGljIFRocm93YWJsZSBnZXRDYXVzZShUaHJvd2FibGVb\nXSBuZXN0ZWQpIHsKICAgICAgICBpZiAobmVzdGVkID09IG51bGwgfHwgbmVz\ndGVkLmxlbmd0aCA9PSAwKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKCQly\nZXR1cm4gbmVzdGVkWzBdOwoJfQp9Cg==\n","encoding":"base64"}

