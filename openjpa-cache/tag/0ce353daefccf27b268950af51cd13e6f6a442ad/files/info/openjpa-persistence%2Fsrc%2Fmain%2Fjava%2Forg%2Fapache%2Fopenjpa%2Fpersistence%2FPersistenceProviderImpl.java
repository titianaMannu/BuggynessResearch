{"sha":"34eb05e242e165586512add3d901034d6dee737f","node_id":"MDQ6QmxvYjIwNjM2NDozNGViMDVlMjQyZTE2NTU4NjUxMmFkZDNkOTAxMDM0ZDZkZWU3Mzdm","size":5752,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/34eb05e242e165586512add3d901034d6dee737f","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBqYXZhLmxhbmcuaW5zdHJ1\nbWVudC5DbGFzc0ZpbGVUcmFuc2Zvcm1lcjsKaW1wb3J0IGphdmEubGFuZy5p\nbnN0cnVtZW50LklsbGVnYWxDbGFzc0Zvcm1hdEV4Y2VwdGlvbjsKaW1wb3J0\nIGphdmEuc2VjdXJpdHkuUHJvdGVjdGlvbkRvbWFpbjsKaW1wb3J0IGphdmEu\ndXRpbC5NYXA7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5h\nZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZh\nY3Rvcnk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLnNwaS5DbGFzc1RyYW5zZm9ybWVy\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uuc3BpLlBlcnNpc3RlbmNlUHJv\ndmlkZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5zcGkuUGVyc2lzdGVu\nY2VVbml0SW5mbzsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZi5P\ncGVuSlBBQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5jb25mLk9wZW5KUEFDb25maWd1cmF0aW9uSW1wbDsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5lbmhhbmNlLlBDQ2xhc3NGaWxlVHJhbnNmb3JtZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJvb3RzdHJhcDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuQnJva2VyRmFjdG9y\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1\ncmF0aW9uUHJvdmlkZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGli\nLmNvbmYuQ29uZmlndXJhdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubWV0YS5NZXRhRGF0YU1vZGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLm1ldGEuTWV0YURhdGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnV0aWwuQ2xhc3NSZXNvbHZlcjsKCgovKioKICogQm9vdHN0\ncmFwcGluZyBjbGFzcyB0aGF0IGFsbG93cyB0aGUgY3JlYXRpb24gb2YgYSBz\ndGFuZC1hbG9uZQogKiB7QGxpbmsgRW50aXR5TWFuYWdlcn0uCiAqCiAqIEBz\nZWUgUGVyc2lzdGVuY2UjY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoU3Ry\naW5nLE1hcCkKICovCnB1YmxpYyBjbGFzcyBQZXJzaXN0ZW5jZVByb3ZpZGVy\nSW1wbAogICAgaW1wbGVtZW50cyBQZXJzaXN0ZW5jZVByb3ZpZGVyIHsKCiAg\nICBzdGF0aWMgZmluYWwgU3RyaW5nIENMQVNTX1RSQU5TRk9STUVSX09QVElP\nTlMgPSAiQ2xhc3NUcmFuc2Zvcm1lck9wdGlvbnMiOwoKICAgIC8qKgogICAg\nICogTG9hZHMgdGhlIGVudGl0eSBtYW5hZ2VyIHNwZWNpZmllZCBieSA8Y29k\nZT5uYW1lPC9jb2RlPiwgYXBwbHlpbmcKICAgICAqIHRoZSBwcm9wZXJ0aWVz\nIGluIDxjb2RlPm08L2NvZGU+IGFzIG92ZXJyaWRlcyB0byB0aGUgcHJvcGVy\ndGllcyBkZWZpbmVkCiAgICAgKiBpbiB0aGUgWE1MIGNvbmZpZ3VyYXRpb24g\nZmlsZSBmb3IgPGNvZGU+bmFtZTwvY29kZT4uIElmIDxjb2RlPm5hbWU8L2Nv\nZGU+CiAgICAgKiBpcyA8Y29kZT5udWxsPC9jb2RlPiwgdGhpcyBtZXRob2Qg\nbG9hZHMgdGhlIFhNTCBpbiB0aGUgcmVzb3VyY2UKICAgICAqIGlkZW50aWZp\nZWQgYnkgPGNvZGU+cmVzb3VyY2U8L2NvZGU+LCBhbmQgdXNlcyB0aGUgZmly\nc3QgcmVzb3VyY2UgZm91bmQKICAgICAqIHdoZW4gZG9pbmcgdGhpcyBsb29r\ndXAsIHJlZ2FyZGxlc3Mgb2YgdGhlIG5hbWUgc3BlY2lmaWVkIGluIHRoZSBY\nTUwKICAgICAqIHJlc291cmNlIG9yIHRoZSBuYW1lIG9mIHRoZSBqYXIgdGhh\ndCB0aGUgcmVzb3VyY2UgaXMgY29udGFpbmVkIGluLgogICAgICogVGhpcyBk\nb2VzIG5vIHBvb2xpbmcgb2YgRW50aXR5TWFuYWdlcnNGYWN0b3JpZXMuCiAg\nICAgKi8KICAgIHB1YmxpYyBFbnRpdHlNYW5hZ2VyRmFjdG9yeSBjcmVhdGVF\nbnRpdHlNYW5hZ2VyRmFjdG9yeShTdHJpbmcgbmFtZSwKICAgICAgICBTdHJp\nbmcgcmVzb3VyY2UsIE1hcCBtKSB7CiAgICAgICAgUGVyc2lzdGVuY2VQcm9k\ndWN0RGVyaXZhdGlvbiBwZCA9IG5ldyBQZXJzaXN0ZW5jZVByb2R1Y3REZXJp\ndmF0aW9uKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgQ29uZmlndXJh\ndGlvblByb3ZpZGVyIGNwID0gcGQubG9hZChyZXNvdXJjZSwgbmFtZSwgbSk7\nCiAgICAgICAgICAgIGlmIChjcCA9PSBudWxsKQogICAgICAgICAgICAgICAg\ncmV0dXJuIG51bGw7CgogICAgICAgICAgICBCcm9rZXJGYWN0b3J5IGZhY3Rv\ncnkgPSBCb290c3RyYXAubmV3QnJva2VyRmFjdG9yeShjcCwgbnVsbCk7CiAg\nICAgICAgICAgIHJldHVybiBPcGVuSlBBUGVyc2lzdGVuY2UudG9FbnRpdHlN\nYW5hZ2VyRmFjdG9yeShmYWN0b3J5KTsKICAgICAgICB9IGNhdGNoIChFeGNl\ncHRpb24gZSkgewogICAgICAgICAgICB0aHJvdyBQZXJzaXN0ZW5jZUV4Y2Vw\ndGlvbnMudG9QZXJzaXN0ZW5jZUV4Y2VwdGlvbihlKTsKICAgICAgICB9CiAg\nICB9CgogICAgcHVibGljIEVudGl0eU1hbmFnZXJGYWN0b3J5IGNyZWF0ZUVu\ndGl0eU1hbmFnZXJGYWN0b3J5KFN0cmluZyBuYW1lLCBNYXAgbSkgewogICAg\nICAgIHJldHVybiBjcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShuYW1lLCBu\ndWxsLCBtKTsKICAgIH0KCiAgICBwdWJsaWMgRW50aXR5TWFuYWdlckZhY3Rv\ncnkgY3JlYXRlQ29udGFpbmVyRW50aXR5TWFuYWdlckZhY3RvcnkoCiAgICAg\nICAgUGVyc2lzdGVuY2VVbml0SW5mbyBwdWksIE1hcCBtKSB7CiAgICAgICAg\nUGVyc2lzdGVuY2VQcm9kdWN0RGVyaXZhdGlvbiBwZCA9IG5ldyBQZXJzaXN0\nZW5jZVByb2R1Y3REZXJpdmF0aW9uKCk7CiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgQ29uZmlndXJhdGlvblByb3ZpZGVyIGNwID0gcGQubG9hZChwdWks\nIG0pOwogICAgICAgICAgICBpZiAoY3AgPT0gbnVsbCkKICAgICAgICAgICAg\nICAgIHJldHVybiBudWxsOwoKICAgICAgICAgICAgLy8gYWRkIGVuaGFuY2Vy\nCiAgICAgICAgICAgIFN0cmluZyBjdE9wdHMgPSAoU3RyaW5nKSBDb25maWd1\ncmF0aW9ucy5nZXRQcm9wZXJ0eQogICAgICAgICAgICAgICAgKENMQVNTX1RS\nQU5TRk9STUVSX09QVElPTlMsIHB1aS5nZXRQcm9wZXJ0aWVzKCkpOwogICAg\nICAgICAgICBwdWkuYWRkVHJhbnNmb3JtZXIobmV3IENsYXNzVHJhbnNmb3Jt\nZXJJbXBsKGNwLCBjdE9wdHMsIAogICAgICAgICAgICAgICAgcHVpLmdldE5l\nd1RlbXBDbGFzc0xvYWRlcigpKSk7CgogICAgICAgICAgICBCcm9rZXJGYWN0\nb3J5IGZhY3RvcnkgPSBCb290c3RyYXAubmV3QnJva2VyRmFjdG9yeShjcCwg\nCiAgICAgICAgICAgICAgICBwdWkuZ2V0Q2xhc3NMb2FkZXIoKSk7CiAgICAg\nICAgICAgIHJldHVybiBPcGVuSlBBUGVyc2lzdGVuY2UudG9FbnRpdHlNYW5h\nZ2VyRmFjdG9yeShmYWN0b3J5KTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRp\nb24gZSkgewogICAgICAgICAgICB0aHJvdyBQZXJzaXN0ZW5jZUV4Y2VwdGlv\nbnMudG9QZXJzaXN0ZW5jZUV4Y2VwdGlvbihlKTsKICAgICAgICB9CiAgICB9\nCiAgICAKICAgIC8qKgogICAgICogSmF2YSBFRSA1IGNsYXNzIHRyYW5zZm9y\nbWVyLgogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBjbGFzcyBDbGFzc1Ry\nYW5zZm9ybWVySW1wbAogICAgICAgIGltcGxlbWVudHMgQ2xhc3NUcmFuc2Zv\ncm1lciB7CgogICAgICAgIHByaXZhdGUgZmluYWwgQ2xhc3NGaWxlVHJhbnNm\nb3JtZXIgX3RyYW5zOwoKICAgICAgICBwcml2YXRlIENsYXNzVHJhbnNmb3Jt\nZXJJbXBsKENvbmZpZ3VyYXRpb25Qcm92aWRlciBjcCwgU3RyaW5nIHByb3Bz\nLCAKICAgICAgICAgICAgZmluYWwgQ2xhc3NMb2FkZXIgdG1wTG9hZGVyKSB7\nCiAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBpbmRlcGVuZGVudCBjb25mIGZv\nciBlbmhhbmNlbWVudAogICAgICAgICAgICBPcGVuSlBBQ29uZmlndXJhdGlv\nbiBjb25mID0gbmV3IE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbCgpOwogICAg\nICAgICAgICBjcC5zZXRJbnRvKGNvbmYpOwogICAgICAgICAgICAvLyBkb24n\ndCBhbGxvdyBjb25uZWN0aW9ucwogICAgICAgICAgICBjb25mLnNldENvbm5l\nY3Rpb25Vc2VyTmFtZShudWxsKTsKICAgICAgICAgICAgY29uZi5zZXRDb25u\nZWN0aW9uUGFzc3dvcmQobnVsbCk7CiAgICAgICAgICAgIGNvbmYuc2V0Q29u\nbmVjdGlvblVSTChudWxsKTsKICAgICAgICAgICAgY29uZi5zZXRDb25uZWN0\naW9uRHJpdmVyTmFtZShudWxsKTsKICAgICAgICAgICAgY29uZi5zZXRDb25u\nZWN0aW9uRmFjdG9yeU5hbWUobnVsbCk7CiAgICAgICAgICAgIC8vIHVzZSB0\naGUgdG1wIGxvYWRlciBmb3IgZXZlcnl0aGluZwogICAgICAgICAgICBjb25m\nLnNldENsYXNzUmVzb2x2ZXIobmV3IENsYXNzUmVzb2x2ZXIoKSB7CiAgICAg\nICAgICAgICAgICBwdWJsaWMgQ2xhc3NMb2FkZXIgZ2V0Q2xhc3NMb2FkZXIo\nQ2xhc3MgY29udGV4dCwgCiAgICAgICAgICAgICAgICAgICAgQ2xhc3NMb2Fk\nZXIgZW52KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRtcExvYWRl\ncjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAg\nICAgIGNvbmYuc2V0UmVhZE9ubHkodHJ1ZSk7CgogICAgICAgICAgICBNZXRh\nRGF0YVJlcG9zaXRvcnkgcmVwb3MgPSBjb25mLmdldE1ldGFEYXRhUmVwb3Np\ndG9yeUluc3RhbmNlKCk7CiAgICAgICAgICAgIHJlcG9zLnNldFJlc29sdmUo\nTWV0YURhdGFNb2Rlcy5NT0RFX01BUFBJTkcsIGZhbHNlKTsKICAgICAgICAg\nICAgX3RyYW5zID0gbmV3IFBDQ2xhc3NGaWxlVHJhbnNmb3JtZXIocmVwb3Ms\nCiAgICAgICAgICAgICAgICBDb25maWd1cmF0aW9ucy5wYXJzZVByb3BlcnRp\nZXMocHJvcHMpLCB0bXBMb2FkZXIpOwogICAgICAgIH0KCiAgICAgICAgcHVi\nbGljIGJ5dGVbXSB0cmFuc2Zvcm0oQ2xhc3NMb2FkZXIgY2wsIFN0cmluZyBu\nYW1lLAogICAgICAgICAgICBDbGFzczw/PiBwcmV2aW91c1ZlcnNpb24sIFBy\nb3RlY3Rpb25Eb21haW4gcGQsIGJ5dGVbXSBieXRlcykKICAgICAgICAgICAg\ndGhyb3dzIElsbGVnYWxDbGFzc0Zvcm1hdEV4Y2VwdGlvbiB7CiAgICAgICAg\nICAgIHJldHVybiBfdHJhbnMudHJhbnNmb3JtKGNsLCBuYW1lLCBwcmV2aW91\nc1ZlcnNpb24sIHBkLCBieXRlcyk7CiAgICAgICAgfQoJfQp9Cg==\n","encoding":"base64"}

