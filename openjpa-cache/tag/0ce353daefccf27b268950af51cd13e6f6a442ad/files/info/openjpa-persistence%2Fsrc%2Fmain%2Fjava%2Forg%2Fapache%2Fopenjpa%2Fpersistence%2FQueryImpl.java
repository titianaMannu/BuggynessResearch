{"sha":"26b83a6b879a8f3dfaa692981178d3e4d35d2acd","node_id":"MDQ6QmxvYjIwNjM2NDoyNmI4M2E2Yjg3OWE4ZjNkZmFhNjkyOTgxMTc4ZDNlNGQzNWQyYWNk","size":16491,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/26b83a6b879a8f3dfaa692981178d3e4d35d2acd","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6\nYWJsZTsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZh\nLnV0aWwuQ2FsZW5kYXI7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsK\naW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsKaW1wb3J0IGphdmEudXRp\nbC5EYXRlOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZh\nLnV0aWwuSXRlcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0\nIGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwuU2V0OwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRmx1c2hNb2RlVHlwZTsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLlF1ZXJ5OwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nVGVtcG9yYWxUeXBlOwoKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5jb2xs\nZWN0aW9ucy5tYXAuTGlua2VkTWFwOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmtlcm5lbC5EZWxlZ2F0aW5nUXVlcnk7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEua2VybmVsLkRlbGVnYXRpbmdSZXN1bHRMaXN0OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5GaWx0ZXJzOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLkFnZ3JlZ2F0ZUxpc3RlbmVy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLkZpbHRl\nckxpc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5yb3Au\nUmVzdWx0TGlzdDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRp\nbC5Mb2NhbGl6ZXI7CgovKioKICogSW1wbGVtZW50YXRpb24gb2Yge0BsaW5r\nIFF1ZXJ5fSBpbnRlcmZhY2UuCiAqCiAqIEBhdXRob3IgTWFyYyBQcnVkJ2hv\nbW1lYXV4CiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MKICov\nCnB1YmxpYyBjbGFzcyBRdWVyeUltcGwKICAgIGltcGxlbWVudHMgT3BlbkpQ\nQVF1ZXJ5LCBTZXJpYWxpemFibGUgewoKICAgIHByaXZhdGUgc3RhdGljIGZp\nbmFsIE9iamVjdFtdIEVNUFRZX0FSUkFZID0gbmV3IE9iamVjdFswXTsKCiAg\nICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2Fs\naXplci5mb3JQYWNrYWdlCiAgICAgICAgKFF1ZXJ5SW1wbC5jbGFzcyk7Cgog\nICAgcHJpdmF0ZSBmaW5hbCBEZWxlZ2F0aW5nUXVlcnkgX3F1ZXJ5OwogICAg\ncHJpdmF0ZSB0cmFuc2llbnQgRW50aXR5TWFuYWdlckltcGwgX2VtOwogICAg\ncHJpdmF0ZSB0cmFuc2llbnQgRmV0Y2hQbGFuIF9mZXRjaDsKCiAgICBwcml2\nYXRlIE1hcCBfbmFtZWQ7CiAgICBwcml2YXRlIExpc3QgX3Bvc2l0aW9uYWw7\nCgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvcjsgc3VwcGx5IGZhY3Rvcnkg\nYW5kIGRlbGVnYXRlLgogICAgICovCiAgICBwdWJsaWMgUXVlcnlJbXBsKEVu\ndGl0eU1hbmFnZXJJbXBsIGVtLAogICAgICAgIG9yZy5hcGFjaGUub3Blbmpw\nYS5rZXJuZWwuUXVlcnkgcXVlcnkpIHsKICAgICAgICBfZW0gPSBlbTsKICAg\nICAgICBfcXVlcnkgPSBuZXcgRGVsZWdhdGluZ1F1ZXJ5KHF1ZXJ5LAogICAg\nICAgICAgICBQZXJzaXN0ZW5jZUV4Y2VwdGlvbnMuZ2V0Um9sbGJhY2tUcmFu\nc2xhdG9yKGVtKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBEZWxlZ2F0ZS4K\nICAgICAqLwogICAgcHVibGljIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nUXVlcnkgZ2V0RGVsZWdhdGUoKSB7CiAgICAgICAgcmV0dXJuIF9xdWVyeS5n\nZXREZWxlZ2F0ZSgpOwogICAgfQoKICAgIHB1YmxpYyBPcGVuSlBBRW50aXR5\nTWFuYWdlciBnZXRFbnRpdHlNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBf\nZW07CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRMYW5ndWFnZSgpIHsK\nICAgICAgICByZXR1cm4gX3F1ZXJ5LmdldExhbmd1YWdlKCk7CiAgICB9Cgog\nICAgcHVibGljIGludCBnZXRPcGVyYXRpb24oKSB7CiAgICAgICAgcmV0dXJu\nIF9xdWVyeS5nZXRPcGVyYXRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgRmV0\nY2hQbGFuIGdldEZldGNoUGxhbigpIHsKICAgICAgICBfcXVlcnkuYXNzZXJ0\nTm90U2VyaWFsaXplZCgpOwogICAgICAgIF9xdWVyeS5sb2NrKCk7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgaWYgKF9mZXRjaCA9PSBudWxsKQogICAg\nICAgICAgICAgICAgX2ZldGNoID0gKChFbnRpdHlNYW5hZ2VyRmFjdG9yeUlt\ncGwpIF9lbS4KICAgICAgICAgICAgICAgICAgICBnZXRFbnRpdHlNYW5hZ2Vy\nRmFjdG9yeSgpKS50b0ZldGNoUGxhbihfcXVlcnkuZ2V0QnJva2VyKCksCiAg\nICAgICAgICAgICAgICAgICAgX3F1ZXJ5LmdldEZldGNoQ29uZmlndXJhdGlv\nbigpKTsKICAgICAgICAgICAgcmV0dXJuIF9mZXRjaDsKICAgICAgICB9IGZp\nbmFsbHkgewogICAgICAgICAgICBfcXVlcnkudW5sb2NrKCk7CiAgICAgICAg\nfQogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UXVlcnlTdHJpbmcoKSB7\nCiAgICAgICAgcmV0dXJuIF9xdWVyeS5nZXRRdWVyeVN0cmluZygpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGdldElnbm9yZUNoYW5nZXMoKSB7CiAg\nICAgICAgcmV0dXJuIF9xdWVyeS5nZXRJZ25vcmVDaGFuZ2VzKCk7CiAgICB9\nCgogICAgcHVibGljIE9wZW5KUEFRdWVyeSBzZXRJZ25vcmVDaGFuZ2VzKGJv\nb2xlYW4gaWdub3JlKSB7CiAgICAgICAgX3F1ZXJ5LnNldElnbm9yZUNoYW5n\nZXMoaWdub3JlKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBw\ndWJsaWMgT3BlbkpQQVF1ZXJ5IGFkZEZpbHRlckxpc3RlbmVyKEZpbHRlckxp\nc3RlbmVyIGxpc3RlbmVyKSB7CiAgICAgICAgX3F1ZXJ5LmFkZEZpbHRlckxp\nc3RlbmVyKGxpc3RlbmVyKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0K\nCiAgICBwdWJsaWMgT3BlbkpQQVF1ZXJ5IHJlbW92ZUZpbHRlckxpc3RlbmVy\nKEZpbHRlckxpc3RlbmVyIGxpc3RlbmVyKSB7CiAgICAgICAgX3F1ZXJ5LnJl\nbW92ZUZpbHRlckxpc3RlbmVyKGxpc3RlbmVyKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICBwdWJsaWMgT3BlbkpQQVF1ZXJ5IGFkZEFnZ3Jl\nZ2F0ZUxpc3RlbmVyKEFnZ3JlZ2F0ZUxpc3RlbmVyIGxpc3RlbmVyKSB7CiAg\nICAgICAgX3F1ZXJ5LmFkZEFnZ3JlZ2F0ZUxpc3RlbmVyKGxpc3RlbmVyKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgT3BlbkpQ\nQVF1ZXJ5IHJlbW92ZUFnZ3JlZ2F0ZUxpc3RlbmVyKEFnZ3JlZ2F0ZUxpc3Rl\nbmVyIGxpc3RlbmVyKSB7CiAgICAgICAgX3F1ZXJ5LnJlbW92ZUFnZ3JlZ2F0\nZUxpc3RlbmVyKGxpc3RlbmVyKTsKICAgICAgICByZXR1cm4gdGhpczsKICAg\nIH0KCiAgICBwdWJsaWMgQ29sbGVjdGlvbiBnZXRDYW5kaWRhdGVDb2xsZWN0\naW9uKCkgewogICAgICAgIHJldHVybiBfcXVlcnkuZ2V0Q2FuZGlkYXRlQ29s\nbGVjdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPcGVuSlBBUXVlcnkgc2V0\nQ2FuZGlkYXRlQ29sbGVjdGlvbihDb2xsZWN0aW9uIGNvbGwpIHsKICAgICAg\nICBfcXVlcnkuc2V0Q2FuZGlkYXRlQ29sbGVjdGlvbihjb2xsKTsKICAgICAg\nICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3MgZ2V0UmVz\ndWx0Q2xhc3MoKSB7CiAgICAgICAgQ2xhc3MgcmVzID0gX3F1ZXJ5LmdldFJl\nc3VsdFR5cGUoKTsKICAgICAgICBpZiAocmVzICE9IG51bGwpCiAgICAgICAg\nICAgIHJldHVybiByZXM7CiAgICAgICAgcmV0dXJuIF9xdWVyeS5nZXRDYW5k\naWRhdGVUeXBlKCk7CiAgICB9CgogICAgcHVibGljIE9wZW5KUEFRdWVyeSBz\nZXRSZXN1bHRDbGFzcyhDbGFzcyBjbHMpIHsKICAgICAgICBpZiAoT3BlbkpQ\nQVBlcnNpc3RlbmNlLmlzTWFuYWdlZFR5cGUoX2VtLCBjbHMpKQogICAgICAg\nICAgICBfcXVlcnkuc2V0Q2FuZGlkYXRlVHlwZShjbHMsIHRydWUpOwogICAg\nICAgIGVsc2UKICAgICAgICAgICAgX3F1ZXJ5LnNldFJlc3VsdFR5cGUoY2xz\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgYm9v\nbGVhbiBoYXNTdWJjbGFzc2VzKCkgewogICAgICAgIHJldHVybiBfcXVlcnku\naGFzU3ViY2xhc3NlcygpOwogICAgfQoKICAgIHB1YmxpYyBPcGVuSlBBUXVl\ncnkgc2V0U3ViY2xhc3Nlcyhib29sZWFuIHN1YnMpIHsKICAgICAgICBDbGFz\ncyBjbHMgPSBfcXVlcnkuZ2V0Q2FuZGlkYXRlVHlwZSgpOwogICAgICAgIF9x\ndWVyeS5zZXRDYW5kaWRhdGVFeHRlbnQoX3F1ZXJ5LmdldEJyb2tlcigpLm5l\nd0V4dGVudChjbHMsIHN1YnMpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAg\nIH0KCiAgICBwdWJsaWMgaW50IGdldEZpcnN0UmVzdWx0KCkgewogICAgICAg\nIHJldHVybiBhc0ludChfcXVlcnkuZ2V0U3RhcnRSYW5nZSgpKTsKICAgIH0K\nCiAgICBwdWJsaWMgT3BlbkpQQVF1ZXJ5IHNldEZpcnN0UmVzdWx0KGludCBz\ndGFydFBvc2l0aW9uKSB7CiAgICAgICAgX3F1ZXJ5LnNldFJhbmdlKHN0YXJ0\nUG9zaXRpb24sIF9xdWVyeS5nZXRFbmRSYW5nZSgpKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldE1heFJlc3VsdHMo\nKSB7CiAgICAgICAgcmV0dXJuIGFzSW50KF9xdWVyeS5nZXRFbmRSYW5nZSgp\nIC0gX3F1ZXJ5LmdldFN0YXJ0UmFuZ2UoKSk7CiAgICB9CgogICAgcHVibGlj\nIE9wZW5KUEFRdWVyeSBzZXRNYXhSZXN1bHRzKGludCBtYXgpIHsKICAgICAg\nICBsb25nIHN0YXJ0ID0gX3F1ZXJ5LmdldFN0YXJ0UmFuZ2UoKTsKICAgICAg\nICBpZiAobWF4ID09IEludGVnZXIuTUFYX1ZBTFVFKQogICAgICAgICAgICBf\ncXVlcnkuc2V0UmFuZ2Uoc3RhcnQsIExvbmcuTUFYX1ZBTFVFKTsKICAgICAg\nICBlbHNlCiAgICAgICAgICAgIF9xdWVyeS5zZXRSYW5nZShzdGFydCwgc3Rh\ncnQgKyBtYXgpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHB1\nYmxpYyBPcGVuSlBBUXVlcnkgY29tcGlsZSgpIHsKICAgICAgICBfcXVlcnku\nY29tcGlsZSgpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHBy\naXZhdGUgT2JqZWN0IGV4ZWN1dGUoKSB7CiAgICAgICAgaWYgKF9xdWVyeS5n\nZXRPcGVyYXRpb24oKSAhPSBPUF9TRUxFQ1QpCiAgICAgICAgICAgIHRocm93\nIG5ldyBJbnZhbGlkU3RhdGVFeGNlcHRpb24oX2xvYy5nZXQoIm5vdC1zZWxl\nY3QtcXVlcnkiLAogICAgICAgICAgICAgICAgX3F1ZXJ5LmdldFF1ZXJ5U3Ry\naW5nKCkpLCBudWxsLCBudWxsLCBmYWxzZSk7CgogICAgICAgIHZhbGlkYXRl\nUGFyYW1ldGVycygpOwoKICAgICAgICAvLyBoYW5kbGUgd2hpY2ggdHlwZXMg\nb2YgcGFyYW1ldGVycyB3ZSBhcmUgdXNpbmcsIGlmIGFueQogICAgICAgIGlm\nIChfcG9zaXRpb25hbCAhPSBudWxsKQogICAgICAgICAgICByZXR1cm4gX3F1\nZXJ5LmV4ZWN1dGUoX3Bvc2l0aW9uYWwudG9BcnJheSgpKTsKICAgICAgICBp\nZiAoX25hbWVkICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBfcXVlcnku\nZXhlY3V0ZShfbmFtZWQpOwogICAgICAgIHJldHVybiBfcXVlcnkuZXhlY3V0\nZSgpOwogICAgfQoKICAgIC8qKgogICAgICogVmFsaWRhdGUgdGhhdCB0aGUg\ndHlwZXMgb2YgdGhlIHBhcmFtZXRlcnMgYXJlIGNvcnJlY3QuCiAgICAgKi8K\nICAgIHByaXZhdGUgdm9pZCB2YWxpZGF0ZVBhcmFtZXRlcnMoKSB7CiAgICAg\nICAgaWYgKF9wb3NpdGlvbmFsICE9IG51bGwpIHsKICAgICAgICAgICAgTGlu\na2VkTWFwIHR5cGVzID0gX3F1ZXJ5LmdldFBhcmFtZXRlclR5cGVzKCk7CiAg\nICAgICAgICAgIGZvciAoaW50IGkgPSAwLAogICAgICAgICAgICAgICAgc2l6\nZSA9IE1hdGgubWluKF9wb3NpdGlvbmFsLnNpemUoKSwgdHlwZXMuc2l6ZSgp\nKTsKICAgICAgICAgICAgICAgIGkgPCBzaXplOyBpKyspCiAgICAgICAgICAg\nICAgICB2YWxpZGF0ZVBhcmFtZXRlcihTdHJpbmcudmFsdWVPZihpKSwKICAg\nICAgICAgICAgICAgICAgICAoQ2xhc3MpIHR5cGVzLmdldFZhbHVlKGkpLCBf\ncG9zaXRpb25hbC5nZXQoaSkpOwogICAgICAgIH0gZWxzZSBpZiAoX25hbWVk\nICE9IG51bGwpIHsKICAgICAgICAgICAgTWFwIHR5cGVzID0gX3F1ZXJ5Lmdl\ndFBhcmFtZXRlclR5cGVzKCk7CiAgICAgICAgICAgIGZvciAoSXRlcmF0b3Ig\naSA9IF9uYW1lZC5lbnRyeVNldCgpLml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgp\nOykgewogICAgICAgICAgICAgICAgTWFwLkVudHJ5IGVudHJ5ID0gKE1hcC5F\nbnRyeSkgaS5uZXh0KCk7CiAgICAgICAgICAgICAgICBTdHJpbmcgbmFtZSA9\nIChTdHJpbmcpIGVudHJ5LmdldEtleSgpOwogICAgICAgICAgICAgICAgdmFs\naWRhdGVQYXJhbWV0ZXIobmFtZSwgKENsYXNzKSB0eXBlcy5nZXQobmFtZSks\nCiAgICAgICAgICAgICAgICAgICAgZW50cnkuZ2V0VmFsdWUoKSk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIHZh\nbGlkYXRlUGFyYW1ldGVyKFN0cmluZyBwYXJhbURlc2MsIENsYXNzIHR5cGUs\nIE9iamVjdCBwYXJhbSkgewogICAgICAgIC8vIG51bGwgcGFyYW1ldGVycyBh\ncmUgYWxsb3dlZCwgc28gYXJlIG5vdCB2YWxpZGF0ZWQKICAgICAgICBpZiAo\ncGFyYW0gPT0gbnVsbCB8fCB0eXBlID09IG51bGwpCiAgICAgICAgICAgIHJl\ndHVybjsKCiAgICAgICAgLy8gY2hlY2sgdGhlIHBhcmFtZXRlciBhZ2FpbnN0\nIHRoZSB3cmFwcGVkIHR5cGUKICAgICAgICBpZiAoIUZpbHRlcnMud3JhcCh0\neXBlKS5pc0luc3RhbmNlKHBhcmFtKSkKICAgICAgICAgICAgdGhyb3cgbmV3\nIEFyZ3VtZW50RXhjZXB0aW9uKF9sb2MuZ2V0KCJiYWQtcGFyYW0tdHlwZSIs\nCiAgICAgICAgICAgICAgICBwYXJhbURlc2MsIHBhcmFtLmdldENsYXNzKCku\nZ2V0TmFtZSgpLCB0eXBlLmdldE5hbWUoKSksCiAgICAgICAgICAgICAgICBu\ndWxsLCBudWxsLCBmYWxzZSk7CiAgICB9CgogICAgcHVibGljIExpc3QgZ2V0\nUmVzdWx0TGlzdCgpIHsKICAgICAgICBPYmplY3Qgb2IgPSBleGVjdXRlKCk7\nCiAgICAgICAgaWYgKG9iIGluc3RhbmNlb2YgTGlzdCkgewogICAgICAgICAg\nICBMaXN0IHJldCA9IChMaXN0KSBvYjsKICAgICAgICAgICAgaWYgKHJldCBp\nbnN0YW5jZW9mIFJlc3VsdExpc3QpCiAgICAgICAgICAgICAgICByZXR1cm4g\nbmV3IERlbGVnYXRpbmdSZXN1bHRMaXN0KChSZXN1bHRMaXN0KSByZXQsCiAg\nICAgICAgICAgICAgICAgICAgUGVyc2lzdGVuY2VFeGNlcHRpb25zLmdldFJv\nbGxiYWNrVHJhbnNsYXRvcihfZW0pKTsKICAgICAgICAgICAgZWxzZQogICAg\nICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9CgogICAgICAgIHJl\ndHVybiBDb2xsZWN0aW9ucy5zaW5nbGV0b25MaXN0KG9iKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEV4ZWN1dGUgYSBxdWVyeSB0aGF0IHJldHVybnMgYSBz\naW5nbGUgcmVzdWx0LgogICAgICovCiAgICBwdWJsaWMgT2JqZWN0IGdldFNp\nbmdsZVJlc3VsdCgpIHsKICAgICAgICBPYmplY3Qgb2IgPSBleGVjdXRlKCk7\nCiAgICAgICAgaWYgKCEob2IgaW5zdGFuY2VvZiBMaXN0KSkKICAgICAgICAg\nICAgcmV0dXJuIG9iOwoKICAgICAgICBMaXN0IHJlcyA9IChMaXN0KSBvYjsK\nICAgICAgICB0cnkgewogICAgICAgICAgICAvLyBkb24ndCB1c2Ugc2l6ZSgp\nIGIvYyBjYW4gYmUgaW5lZmZpY2llbnQgdW5kZXIgc29tZSBMUlMgc2V0dGlu\nZ3MKICAgICAgICAgICAgSXRlcmF0b3IgaXRyID0gcmVzLml0ZXJhdG9yKCk7\nCiAgICAgICAgICAgIGlmICghaXRyLmhhc05leHQoKSkKICAgICAgICAgICAg\nICAgIHRocm93IG5ldyBOb1Jlc3VsdEV4Y2VwdGlvbihfbG9jLmdldCgibm8t\ncmVzdWx0cyIsCiAgICAgICAgICAgICAgICAgICAgX3F1ZXJ5LmdldFF1ZXJ5\nU3RyaW5nKCkpLmdldE1lc3NhZ2UoKSwgbnVsbCwgbnVsbCwgZmFsc2UpOwog\nICAgICAgICAgICBPYmplY3QgcmV0ID0gaXRyLm5leHQoKTsKICAgICAgICAg\nICAgaWYgKGl0ci5oYXNOZXh0KCkpCiAgICAgICAgICAgICAgICB0aHJvdyBu\nZXcgTm9uVW5pcXVlUmVzdWx0RXhjZXB0aW9uKF9sb2MuZ2V0KCJtdWx0LXJl\nc3VsdHMiLAogICAgICAgICAgICAgICAgICAgIF9xdWVyeS5nZXRRdWVyeVN0\ncmluZygpKS5nZXRNZXNzYWdlKCksIG51bGwsIG51bGwsIGZhbHNlKTsKICAg\nICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9IGZpbmFsbHkgewogICAg\nICAgICAgICBPcGVuSlBBUGVyc2lzdGVuY2UuY2xvc2UocmVzKTsKICAgICAg\nICB9CiAgICB9CgogICAgcHVibGljIGludCBleGVjdXRlVXBkYXRlKCkgewog\nICAgICAgIGlmIChfcXVlcnkuZ2V0T3BlcmF0aW9uKCkgPT0gT1BfREVMRVRF\nKSB7CiAgICAgICAgICAgIC8vIGhhbmRsZSB3aGljaCB0eXBlcyBvZiBwYXJh\nbWV0ZXJzIHdlIGFyZSB1c2luZywgaWYgYW55CiAgICAgICAgICAgIGlmIChf\ncG9zaXRpb25hbCAhPSBudWxsKQogICAgICAgICAgICAgICAgcmV0dXJuIGFz\nSW50KF9xdWVyeS5kZWxldGVBbGwoX3Bvc2l0aW9uYWwudG9BcnJheSgpKSk7\nCiAgICAgICAgICAgIGlmIChfbmFtZWQgIT0gbnVsbCkKICAgICAgICAgICAg\nICAgIHJldHVybiBhc0ludChfcXVlcnkuZGVsZXRlQWxsKF9uYW1lZCkpOwog\nICAgICAgICAgICByZXR1cm4gYXNJbnQoX3F1ZXJ5LmRlbGV0ZUFsbCgpKTsK\nICAgICAgICB9CiAgICAgICAgaWYgKF9xdWVyeS5nZXRPcGVyYXRpb24oKSA9\nPSBPUF9VUERBVEUpIHsKICAgICAgICAgICAgLy8gaGFuZGxlIHdoaWNoIHR5\ncGVzIG9mIHBhcmFtZXRlcnMgd2UgYXJlIHVzaW5nLCBpZiBhbnkKICAgICAg\nICAgICAgaWYgKF9wb3NpdGlvbmFsICE9IG51bGwpCiAgICAgICAgICAgICAg\nICByZXR1cm4gYXNJbnQoX3F1ZXJ5LnVwZGF0ZUFsbChfcG9zaXRpb25hbC50\nb0FycmF5KCkpKTsKICAgICAgICAgICAgaWYgKF9uYW1lZCAhPSBudWxsKQog\nICAgICAgICAgICAgICAgcmV0dXJuIGFzSW50KF9xdWVyeS51cGRhdGVBbGwo\nX25hbWVkKSk7CiAgICAgICAgICAgIHJldHVybiBhc0ludChfcXVlcnkudXBk\nYXRlQWxsKCkpOwogICAgICAgIH0KICAgICAgICB0aHJvdyBuZXcgSW52YWxp\nZFN0YXRlRXhjZXB0aW9uKF9sb2MuZ2V0KCJub3QtdXBkYXRlLWRlbGV0ZS1x\ndWVyeSIsCiAgICAgICAgICAgIF9xdWVyeS5nZXRRdWVyeVN0cmluZygpKSwg\nbnVsbCwgbnVsbCwgZmFsc2UpOwogICAgfQoKICAgIC8qKgogICAgICogQ2Fz\ndCB0aGUgc3BlY2lmaWVkIGxvbmcgZG93biB0byBhbiBpbnQsIGZpcnN0IGNo\nZWNraW5nIGZvciBvdmVyZmxvdy4KICAgICAqLwogICAgcHJpdmF0ZSBzdGF0\naWMgaW50IGFzSW50KGxvbmcgbCkgewogICAgICAgIGlmIChsID4gSW50ZWdl\nci5NQVhfVkFMVUUpCiAgICAgICAgICAgIHJldHVybiBJbnRlZ2VyLk1BWF9W\nQUxVRTsKICAgICAgICBpZiAobCA8IEludGVnZXIuTUlOX1ZBTFVFKSAvLyB1\nbmxpa2VseSwgYnV0IHdlIG1pZ2h0IGFzIHdlbGwgY2hlY2sKICAgICAgICAg\nICAgcmV0dXJuIEludGVnZXIuTUlOX1ZBTFVFOwogICAgICAgIHJldHVybiAo\naW50KSBsOwogICAgfQoKICAgIHB1YmxpYyBGbHVzaE1vZGVUeXBlIGdldEZs\ndXNoTW9kZSgpIHsKICAgICAgICByZXR1cm4gRW50aXR5TWFuYWdlckltcGwu\nZnJvbUZsdXNoQmVmb3JlUXVlcmllcyhfcXVlcnkuCiAgICAgICAgICAgIGdl\ndEZldGNoQ29uZmlndXJhdGlvbigpLmdldEZsdXNoQmVmb3JlUXVlcmllcygp\nKTsKICAgIH0KCiAgICBwdWJsaWMgT3BlbkpQQVF1ZXJ5IHNldEZsdXNoTW9k\nZShGbHVzaE1vZGVUeXBlIGZsdXNoTW9kZSkgewogICAgICAgIF9xdWVyeS5n\nZXRGZXRjaENvbmZpZ3VyYXRpb24oKS5zZXRGbHVzaEJlZm9yZVF1ZXJpZXMK\nICAgICAgICAgICAgKEVudGl0eU1hbmFnZXJJbXBsLnRvRmx1c2hCZWZvcmVR\ndWVyaWVzKGZsdXNoTW9kZSkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAg\nfQoKICAgIHB1YmxpYyBPcGVuSlBBUXVlcnkgc2V0SGludChTdHJpbmcga2V5\nLCBPYmplY3QgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5ID09IG51bGwgfHwg\nIWtleS5zdGFydHNXaXRoKCJvcGVuanBhLiIpKQogICAgICAgICAgICByZXR1\ncm4gdGhpczsKICAgICAgICBTdHJpbmcgayA9IGtleS5zdWJzdHJpbmcoIm9w\nZW5qcGEuIi5sZW5ndGgoKSk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIGlmICgiU3ViY2xhc3NlcyIuZXF1YWxzKGspKSB7CiAgICAgICAgICAgICAg\nICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcpCiAgICAgICAgICAgICAg\nICAgICAgdmFsdWUgPSBCb29sZWFuLnZhbHVlT2YoKFN0cmluZykgdmFsdWUp\nOwogICAgICAgICAgICAgICAgc2V0U3ViY2xhc3NlcygoKEJvb2xlYW4pIHZh\nbHVlKS5ib29sZWFuVmFsdWUoKSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAo\nIkZpbHRlckxpc3RlbmVyIi5lcXVhbHMoaykpCiAgICAgICAgICAgICAgICBh\nZGRGaWx0ZXJMaXN0ZW5lcihGaWx0ZXJzLmhpbnRUb0ZpbHRlckxpc3RlbmVy\nKHZhbHVlLAogICAgICAgICAgICAgICAgICAgIF9xdWVyeS5nZXRCcm9rZXIo\nKS5nZXRDbGFzc0xvYWRlcigpKSk7CiAgICAgICAgICAgIGVsc2UgaWYgKCJG\naWx0ZXJMaXN0ZW5lcnMiLmVxdWFscyhrKSkgewogICAgICAgICAgICAgICAg\nRmlsdGVyTGlzdGVuZXJbXSBhcnIgPSBGaWx0ZXJzLmhpbnRUb0ZpbHRlckxp\nc3RlbmVycyh2YWx1ZSwKICAgICAgICAgICAgICAgICAgICBfcXVlcnkuZ2V0\nQnJva2VyKCkuZ2V0Q2xhc3NMb2FkZXIoKSk7CiAgICAgICAgICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykKICAgICAgICAg\nICAgICAgICAgICBhZGRGaWx0ZXJMaXN0ZW5lcihhcnJbaV0pOwogICAgICAg\nICAgICB9IGVsc2UgaWYgKCJBZ2dyZWdhdGVMaXN0ZW5lciIuZXF1YWxzKGsp\nKQogICAgICAgICAgICAgICAgYWRkQWdncmVnYXRlTGlzdGVuZXIoRmlsdGVy\ncy5oaW50VG9BZ2dyZWdhdGVMaXN0ZW5lcih2YWx1ZSwKICAgICAgICAgICAg\nICAgICAgICBfcXVlcnkuZ2V0QnJva2VyKCkuZ2V0Q2xhc3NMb2FkZXIoKSkp\nOwogICAgICAgICAgICBlbHNlIGlmICgiRmlsdGVyTGlzdGVuZXJzIi5lcXVh\nbHMoaykpIHsKICAgICAgICAgICAgICAgIEFnZ3JlZ2F0ZUxpc3RlbmVyW10g\nYXJyID0gRmlsdGVycy5oaW50VG9BZ2dyZWdhdGVMaXN0ZW5lcnMKICAgICAg\nICAgICAgICAgICAgICAodmFsdWUsIF9xdWVyeS5nZXRCcm9rZXIoKS5nZXRD\nbGFzc0xvYWRlcigpKTsKICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAw\nOyBpIDwgYXJyLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgICAgIGFk\nZEFnZ3JlZ2F0ZUxpc3RlbmVyKGFycltpXSk7CiAgICAgICAgICAgIH0gZWxz\nZSBpZiAoay5zdGFydHNXaXRoKCJGZXRjaFBsYW4uIikpIHsKICAgICAgICAg\nICAgICAgIGsgPSBrLnN1YnN0cmluZygiRmV0Y2hQbGFuLiIubGVuZ3RoKCkp\nOwogICAgICAgICAgICAgICAgRmlsdGVycy5oaW50VG9TZXR0ZXIoZ2V0RmV0\nY2hQbGFuKCksIGssIHZhbHVlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChr\nLnN0YXJ0c1dpdGgoImhpbnQuIikpCiAgICAgICAgICAgICAgICBfcXVlcnku\nZ2V0RmV0Y2hDb25maWd1cmF0aW9uKCkuc2V0SGludChrZXksIHZhbHVlKTsK\nICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFy\nZ3VtZW50RXhjZXB0aW9uKF9sb2MuZ2V0KCJiYWQtcXVlcnktaGludCIsIGtl\neSksCiAgICAgICAgICAgICAgICAgICAgbnVsbCwgbnVsbCwgZmFsc2UpOwog\nICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9IGNhdGNoIChFeGNl\ncHRpb24gZSkgewogICAgICAgICAgICB0aHJvdyBQZXJzaXN0ZW5jZUV4Y2Vw\ndGlvbnMudG9QZXJzaXN0ZW5jZUV4Y2VwdGlvbihlKTsKICAgICAgICB9CiAg\nICB9CgogICAgcHVibGljIE9wZW5KUEFRdWVyeSBzZXRQYXJhbWV0ZXIoaW50\nIHBvc2l0aW9uLCBDYWxlbmRhciB2YWx1ZSwKICAgICAgICBUZW1wb3JhbFR5\ncGUgdCkgewogICAgICAgIHJldHVybiBzZXRQYXJhbWV0ZXIocG9zaXRpb24s\nIChPYmplY3QpIHZhbHVlKTsKICAgIH0KCiAgICBwdWJsaWMgT3BlbkpQQVF1\nZXJ5IHNldFBhcmFtZXRlcihpbnQgcG9zaXRpb24sIERhdGUgdmFsdWUsCiAg\nICAgICAgVGVtcG9yYWxUeXBlIHR5cGUpIHsKICAgICAgICByZXR1cm4gc2V0\nUGFyYW1ldGVyKHBvc2l0aW9uLCAoT2JqZWN0KSB2YWx1ZSk7CiAgICB9Cgog\nICAgcHVibGljIE9wZW5KUEFRdWVyeSBzZXRQYXJhbWV0ZXIoaW50IHBvc2l0\naW9uLCBPYmplY3QgdmFsdWUpIHsKICAgICAgICBfcXVlcnkubG9jaygpOwog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIG5vdCBhbGxvd2VkIHRvIG1p\neCBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwYXJhbWV0ZXJzIChFRFIyIDMuNi40\nKQogICAgICAgICAgICBpZiAoX25hbWVkICE9IG51bGwpCiAgICAgICAgICAg\nICAgICB0aHJvdyBuZXcgSW52YWxpZFN0YXRlRXhjZXB0aW9uKF9sb2MuZ2V0\nCiAgICAgICAgICAgICAgICAgICAgKCJuby1wb3MtbmFtZWQtcGFyYW1zLW1p\neCIsIF9xdWVyeS5nZXRRdWVyeVN0cmluZygpKSwKICAgICAgICAgICAgICAg\nICAgICBudWxsLCBudWxsLCBmYWxzZSk7CgogICAgICAgICAgICBpZiAocG9z\naXRpb24gPCAxKQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRT\ndGF0ZUV4Y2VwdGlvbihfbG9jLmdldAogICAgICAgICAgICAgICAgICAgICgi\naWxsZWdhbC1pbmRleCIsIHBvc2l0aW9uKSwgbnVsbCwgbnVsbCwgZmFsc2Up\nOwoKICAgICAgICAgICAgaWYgKF9wb3NpdGlvbmFsID09IG51bGwpCiAgICAg\nICAgICAgICAgICBfcG9zaXRpb25hbCA9IG5ldyBBcnJheUxpc3QoKTsKCiAg\nICAgICAgICAgIC8vIG1ha2Ugc3VyZSBpdCBpcyBhdCBsZWFzdCB0aGUgcmVx\ndWVzdGVkIHNpemUKICAgICAgICAgICAgd2hpbGUgKF9wb3NpdGlvbmFsLnNp\nemUoKSA8IHBvc2l0aW9uKQogICAgICAgICAgICAgICAgX3Bvc2l0aW9uYWwu\nYWRkKG51bGwpOwoKICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHdlIGFkZCBp\ndCB0byBwb3NpdGlvbiAtIDEsIHNpbmNlIHNldFBvc2l0aW9uCiAgICAgICAg\nICAgIC8vIHN0YXJ0cyBhdCAxLCB3aGlsZSBMaXN0IHN0YXJ0cyBhdCAwCiAg\nICAgICAgICAgIF9wb3NpdGlvbmFsLnNldChwb3NpdGlvbiAtIDEsIHZhbHVl\nKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSBmaW5hbGx5\nIHsKICAgICAgICAgICAgX3F1ZXJ5LnVubG9jaygpOwogICAgICAgIH0KICAg\nIH0KCiAgICBwdWJsaWMgT3BlbkpQQVF1ZXJ5IHNldFBhcmFtZXRlcihTdHJp\nbmcgbmFtZSwgQ2FsZW5kYXIgdmFsdWUsCiAgICAgICAgVGVtcG9yYWxUeXBl\nIHQpIHsKICAgICAgICByZXR1cm4gc2V0UGFyYW1ldGVyKG5hbWUsIChPYmpl\nY3QpIHZhbHVlKTsKICAgIH0KCiAgICBwdWJsaWMgT3BlbkpQQVF1ZXJ5IHNl\ndFBhcmFtZXRlcihTdHJpbmcgbmFtZSwgRGF0ZSB2YWx1ZSwKICAgICAgICBU\nZW1wb3JhbFR5cGUgdHlwZSkgewogICAgICAgIHJldHVybiBzZXRQYXJhbWV0\nZXIobmFtZSwgKE9iamVjdCkgdmFsdWUpOwogICAgfQoKICAgIHB1YmxpYyBP\ncGVuSlBBUXVlcnkgc2V0UGFyYW1ldGVyKFN0cmluZyBuYW1lLCBPYmplY3Qg\ndmFsdWUpIHsKICAgICAgICBfcXVlcnkubG9jaygpOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIC8vIG5vdCBhbGxvd2VkIHRvIG1peCBwb3NpdGlvbmFs\nIGFuZCBuYW1lZCBwYXJhbWV0ZXJzIChFRFIyIDMuNi40KQogICAgICAgICAg\nICBpZiAoX3Bvc2l0aW9uYWwgIT0gbnVsbCkKICAgICAgICAgICAgICAgIHRo\ncm93IG5ldyBJbnZhbGlkU3RhdGVFeGNlcHRpb24oX2xvYy5nZXQKICAgICAg\nICAgICAgICAgICAgICAoIm5vLXBvcy1uYW1lZC1wYXJhbXMtbWl4IiwgX3F1\nZXJ5LmdldFF1ZXJ5U3RyaW5nKCkpLAogICAgICAgICAgICAgICAgICAgIG51\nbGwsIG51bGwsIGZhbHNlKTsKCiAgICAgICAgICAgIGlmIChfbmFtZWQgPT0g\nbnVsbCkKICAgICAgICAgICAgICAgIF9uYW1lZCA9IG5ldyBIYXNoTWFwKCk7\nCiAgICAgICAgICAgIF9uYW1lZC5wdXQobmFtZSwgdmFsdWUpOwogICAgICAg\nICAgICByZXR1cm4gdGhpczsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAg\nICAgICBfcXVlcnkudW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGhhc1Bvc2l0aW9uYWxQYXJhbWV0ZXJzKCkgewogICAg\nICAgIHJldHVybiBfcG9zaXRpb25hbCAhPSBudWxsOwogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3RbXSBnZXRQb3NpdGlvbmFsUGFyYW1ldGVycygpIHsKICAg\nICAgICBfcXVlcnkubG9jaygpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIHJldHVybiAoX3Bvc2l0aW9uYWwgPT0gbnVsbCkgPyBFTVBUWV9BUlJBWSA6\nIF9wb3NpdGlvbmFsLnRvQXJyYXkoKTsKICAgICAgICB9IGZpbmFsbHkgewog\nICAgICAgICAgICBfcXVlcnkudW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyBPcGVuSlBBUXVlcnkgc2V0UGFyYW1ldGVycyhPYmplY3Qu\nLi4gcGFyYW1zKSB7CiAgICAgICAgX3F1ZXJ5LmxvY2soKTsKICAgICAgICB0\ncnkgewogICAgICAgICAgICBfcG9zaXRpb25hbCA9IG51bGw7CiAgICAgICAg\nICAgIF9uYW1lZCA9IG51bGw7CiAgICAgICAgICAgIGlmIChwYXJhbXMgIT0g\nbnVsbCkKICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcGFy\nYW1zLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgICAgIHNldFBhcmFt\nZXRlcihpICsgMSwgcGFyYW1zW2ldKTsKICAgICAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX3F1ZXJ5LnVu\nbG9jaygpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgTWFwIGdldE5h\nbWVkUGFyYW1ldGVycygpIHsKICAgICAgICBfcXVlcnkubG9jaygpOwogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiAoX25hbWVkID09IG51bGwp\nID8gQ29sbGVjdGlvbnMuRU1QVFlfTUFQCiAgICAgICAgICAgICAgICA6IENv\nbGxlY3Rpb25zLnVubW9kaWZpYWJsZU1hcChfbmFtZWQpOwogICAgICAgIH0g\nZmluYWxseSB7CiAgICAgICAgICAgIF9xdWVyeS51bmxvY2soKTsKICAgICAg\nICB9CiAgICB9CgogICAgcHVibGljIE9wZW5KUEFRdWVyeSBzZXRQYXJhbWV0\nZXJzKE1hcCBwYXJhbXMpIHsKICAgICAgICBfcXVlcnkubG9jaygpOwogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIF9wb3NpdGlvbmFsID0gbnVsbDsKICAg\nICAgICAgICAgX25hbWVkID0gbnVsbDsKICAgICAgICAgICAgaWYgKHBhcmFt\ncyAhPSBudWxsKQogICAgICAgICAgICAgICAgZm9yIChNYXAuRW50cnkgZSA6\nIChTZXQ8TWFwLkVudHJ5PikgcGFyYW1zLmVudHJ5U2V0KCkpCiAgICAgICAg\nICAgICAgICAgICAgc2V0UGFyYW1ldGVyKChTdHJpbmcpIGUuZ2V0S2V5KCks\nIGUuZ2V0VmFsdWUoKSk7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAg\nICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9xdWVyeS51bmxvY2soKTsK\nICAgICAgICB9CiAgICB9CgogICAgcHVibGljIE9wZW5KUEFRdWVyeSBjbG9z\nZUFsbCgpIHsKICAgICAgICBfcXVlcnkuY2xvc2VBbGwoKTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nW10gZ2V0RGF0\nYVN0b3JlQWN0aW9ucyhNYXAgcGFyYW1zKSB7CiAgICAgICAgcmV0dXJuIF9x\ndWVyeS5nZXREYXRhU3RvcmVBY3Rpb25zKHBhcmFtcyk7CiAgICB9CgogICAg\ncHVibGljIGludCBoYXNoQ29kZSgpIHsKICAgICAgICByZXR1cm4gX3F1ZXJ5\nLmhhc2hDb2RlKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZXF1YWxz\nKE9iamVjdCBvdGhlcikgewogICAgICAgIGlmIChvdGhlciA9PSB0aGlzKQog\nICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAoIShvdGhlciBp\nbnN0YW5jZW9mIFF1ZXJ5SW1wbCkpCiAgICAgICAgICAgIHJldHVybiBmYWxz\nZTsKICAgICAgICByZXR1cm4gX3F1ZXJ5LmVxdWFscygoKFF1ZXJ5SW1wbCkg\nb3RoZXIpLl9xdWVyeSk7Cgl9Cn0K\n","encoding":"base64"}

