{"sha":"662530d9953ae95087719c3f450c69358ca7230f","node_id":"MDQ6QmxvYjIwNjM2NDo2NjI1MzBkOTk1M2FlOTUwODc3MTljM2Y0NTBjNjkzNThjYTcyMzBm","size":2742,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/662530d9953ae95087719c3f450c69358ca7230f","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVj\ndGlvbnM7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5RdWVyeTsKCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkRlbGVnYXRpbmdRdWVy\neUNhY2hlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmRhdGFjYWNoZS5R\ndWVyeUNhY2hlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmRhdGFjYWNo\nZS5RdWVyeUtleTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5kYXRhY2Fj\naGUuVHlwZXNDaGFuZ2VkRXZlbnQ7CgovKioKICogSW1wbGVtZW50cyBRdWVy\neSByZXN1bHQgY2FjaGUgdmlhIGRlbGVnYXRpb24gdG8gUXVlcnlDYWNoZS4K\nICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQHNpbmNlIDAuNC4xCiAqIEBu\nb2phdmFkb2MKICovCnB1YmxpYyBjbGFzcyBRdWVyeVJlc3VsdENhY2hlSW1w\nbAoJaW1wbGVtZW50cyBRdWVyeVJlc3VsdENhY2hlIHsKCiAgICBwcml2YXRl\nIGZpbmFsIERlbGVnYXRpbmdRdWVyeUNhY2hlIF9jYWNoZTsKCiAgICAvKioK\nICAgICAqIENvbnN0cnVjdG9yOyBzdXBwbHkgZGVsZWdhdGUuCiAgICAgKi8K\nICAgIHB1YmxpYyBRdWVyeVJlc3VsdENhY2hlSW1wbChRdWVyeUNhY2hlIGNh\nY2hlKSB7CiAgICAgICAgX2NhY2hlID0gbmV3IERlbGVnYXRpbmdRdWVyeUNh\nY2hlKGNhY2hlLAogICAgICAgICAgICBQZXJzaXN0ZW5jZUV4Y2VwdGlvbnMu\nVFJBTlNMQVRPUik7CiAgICB9CgogICAgcHVibGljIFF1ZXJ5Q2FjaGUgZ2V0\nRGVsZWdhdGUoKSB7CiAgICAgICAgcmV0dXJuIF9jYWNoZS5nZXREZWxlZ2F0\nZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHBpbihRdWVyeSBxKSB7CiAg\nICAgICAgaWYgKF9jYWNoZS5nZXREZWxlZ2F0ZSgpICE9IG51bGwpCiAgICAg\nICAgICAgIF9jYWNoZS5waW4odG9RdWVyeUtleShxKSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdW5waW4oUXVlcnkgcSkgewogICAgICAgIGlmIChfY2Fj\naGUuZ2V0RGVsZWdhdGUoKSAhPSBudWxsKQogICAgICAgICAgICBfY2FjaGUu\ndW5waW4odG9RdWVyeUtleShxKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nZXZpY3QoUXVlcnkgcSkgewogICAgICAgIGlmIChfY2FjaGUuZ2V0RGVsZWdh\ndGUoKSAhPSBudWxsKQogICAgICAgICAgICBfY2FjaGUucmVtb3ZlKHRvUXVl\ncnlLZXkocSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGV2aWN0QWxsKCkg\newogICAgICAgIF9jYWNoZS5jbGVhcigpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIGV2aWN0QWxsKENsYXNzIGNscykgewogICAgICAgIF9jYWNoZS5vblR5\ncGVzQ2hhbmdlZChuZXcgVHlwZXNDaGFuZ2VkRXZlbnQodGhpcywKICAgICAg\nICAgICAgQ29sbGVjdGlvbnMuc2luZ2xldG9uKGNscykpKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFJldHVybiBhIGNhY2hlIGtleSBmb3IgdGhlIGdpdmVu\nIHF1ZXJ5LgogICAgICovCiAgICBwcml2YXRlIFF1ZXJ5S2V5IHRvUXVlcnlL\nZXkoUXVlcnkgcSkgewogICAgICAgIFF1ZXJ5SW1wbCBpbXBsID0gKFF1ZXJ5\nSW1wbCkgcTsKICAgICAgICBpZiAoaW1wbC5oYXNQb3NpdGlvbmFsUGFyYW1l\ndGVycygpKQogICAgICAgICAgICByZXR1cm4gUXVlcnlLZXkubmV3SW5zdGFu\nY2UoaW1wbC5nZXREZWxlZ2F0ZSgpLAogICAgICAgICAgICAgICAgaW1wbC5n\nZXRQb3NpdGlvbmFsUGFyYW1ldGVycygpKTsKICAgICAgICByZXR1cm4gUXVl\ncnlLZXkubmV3SW5zdGFuY2UoaW1wbC5nZXREZWxlZ2F0ZSgpLAogICAgICAg\nICAgICBpbXBsLmdldE5hbWVkUGFyYW1ldGVycygpKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgIHJldHVybiBfY2FjaGUu\naGFzaENvZGUoKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVhbHMo\nT2JqZWN0IG90aGVyKSB7CiAgICAgICAgaWYgKG90aGVyID09IHRoaXMpCiAg\nICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIGlmICghKG90aGVyIGlu\nc3RhbmNlb2YgUXVlcnlSZXN1bHRDYWNoZUltcGwpKQogICAgICAgICAgICBy\nZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIF9jYWNoZS5lcXVhbHMoKChR\ndWVyeVJlc3VsdENhY2hlSW1wbCkgb3RoZXIpLl9jYWNoZSk7Cgl9Cn0K\n","encoding":"base64"}

