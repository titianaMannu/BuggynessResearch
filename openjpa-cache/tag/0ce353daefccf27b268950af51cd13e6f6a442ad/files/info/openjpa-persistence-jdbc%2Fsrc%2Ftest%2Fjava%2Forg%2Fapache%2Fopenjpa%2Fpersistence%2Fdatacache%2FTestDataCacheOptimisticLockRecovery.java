{"sha":"d24688dd23e3ba1bbd0144ab8ad3b97a7cbe9df1","node_id":"MDQ6QmxvYjIwNjM2NDpkMjQ2ODhkZDIzZTNiYTFiYmQwMTQ0YWI4YWQzYjk3YTdjYmU5ZGYx","size":6125,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d24688dd23e3ba1bbd0144ab8ad3b97a7cbe9df1","content":"LyoNCiAqIENvcHlyaWdodCAyMDA2IFRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbi4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExp\nY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBt\nYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0\naCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0\naGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9s\naWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBi\neSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29m\ndHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQN\nCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICovDQpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kYXRhY2FjaGU7\nDQoNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0K\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5\nOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNlOw0KaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLlJvbGxiYWNrRXhjZXB0aW9uOw0KaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLkxvY2tNb2RlVHlwZTsNCg0KaW1wb3J0\nIGp1bml0LmZyYW1ld29yay5UZXN0Q2FzZTsNCmltcG9ydCBqYXZhLnV0aWwu\nSGFzaE1hcDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBUGVyc2lzdGVuY2U7\nDQoNCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uOw0KaW1wb3J0IGphdmEu\nc3FsLlByZXBhcmVkU3RhdGVtZW50Ow0KaW1wb3J0IGphdmEuc3FsLlNRTEV4\nY2VwdGlvbjsNCmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsNCg0KcHVi\nbGljIGNsYXNzIFRlc3REYXRhQ2FjaGVPcHRpbWlzdGljTG9ja1JlY292ZXJ5\nDQogICAgZXh0ZW5kcyBUZXN0Q2FzZSB7DQoNCiAgICBwcml2YXRlIEVudGl0\neU1hbmFnZXJGYWN0b3J5IGVtZjsNCiAgICBwcml2YXRlIGludCBwazsNCg0K\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBNYXAgb3B0aW9u\ncyA9IG5ldyBIYXNoTWFwKCk7DQoNCiAgICAgICAgLy8gdHVybiBvbiBjYWNo\naW5nDQogICAgICAgIG9wdGlvbnMucHV0KCJvcGVuanBhLkRhdGFDYWNoZSIs\nICJ0cnVlIik7DQogICAgICAgIG9wdGlvbnMucHV0KCJvcGVuanBhLlJlbW90\nZUNvbW1pdFByb3ZpZGVyIiwgInNqdm0iKTsNCg0KICAgICAgICAvLyBlbnN1\ncmUgdGhhdCBPcGVuSlBBIGtub3dzIGFib3V0IG91ciB0eXBlLCBzbyB0aGF0\nIA0KICAgICAgICAvLyBhdXRvLXNjaGVtYS1jcmVhdGlvbiB3b3Jrcw0KICAg\nICAgICBvcHRpb25zLnB1dCgib3BlbmpwYS5NZXRhRGF0YUZhY3RvcnkiLA0K\nICAgICAgICAgICAgImpwYShUeXBlcz0iICsgT3B0aW1pc3RpY0xvY2tJbnN0\nYW5jZS5jbGFzcy5nZXROYW1lKCkgKyAiKSIpOw0KDQogICAgICAgIGVtZiA9\nIFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KCJ0ZXN0\nIiwgb3B0aW9ucyk7DQoNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVt\nZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIGVtLmdldFRyYW5z\nYWN0aW9uKCkuYmVnaW4oKTsNCiAgICAgICAgZW0uY3JlYXRlUXVlcnkoImRl\nbGV0ZSBmcm9tIE9wdGltaXN0aWNMb2NrSW5zdGFuY2UiKTsNCg0KICAgICAg\nICBPcHRpbWlzdGljTG9ja0luc3RhbmNlIG9saSA9IG5ldyBPcHRpbWlzdGlj\nTG9ja0luc3RhbmNlKCJmb28iKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAg\nICAgIGVtLnBlcnNpc3Qob2xpKTsNCiAgICAgICAgICAgIGVtLmdldFRyYW5z\nYWN0aW9uKCkuY29tbWl0KCk7DQogICAgICAgIH0gZmluYWxseSB7DQogICAg\nICAgICAgICBpZiAoZW0uZ2V0VHJhbnNhY3Rpb24oKS5pc0FjdGl2ZSgpKQ0K\nICAgICAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkucm9sbGJhY2so\nKTsNCiAgICAgICAgfQ0KICAgICAgICBwayA9IG9saS5nZXRQSygpOw0KICAg\nICAgICBlbS5jbG9zZSgpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRl\nYXJEb3duKCkgew0KICAgICAgICBlbWYuY2xvc2UoKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0T3B0aW1pc3RpY0xvY2tSZWNvdmVyeSgpIA0K\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCg0KICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtOw0KICAgICAgICANCiAgICAgICAgLy8gMS4gZ2V0IHRo\nZSBvcGxvY2sgdmFsdWUgZm9yIHRoZSBpbnN0YW5jZSBhZnRlciBjb21taXQg\nYW5kDQogICAgICAgIC8vIGdldCBhIHJlYWQgbG9jayB0byBlbnN1cmUgdGhh\ndCB3ZSBjaGVjayBmb3IgdGhlIG9wdGltaXN0aWMNCiAgICAgICAgLy8gbG9j\nayBjb2x1bW4gYXQgdHggY29tbWl0Lg0KICAgICAgICBlbSA9IGVtZi5jcmVh\ndGVFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuYmVnaW4oKTsNCiAgICAgICAgT3B0aW1pc3RpY0xvY2tJbnN0YW5jZSBv\nbGkgPSBlbS5maW5kKE9wdGltaXN0aWNMb2NrSW5zdGFuY2UuY2xhc3MsIHBr\nKTsNCiAgICAgICAgaW50IGZpcnN0T3BMb2NrVmFsdWUgPSBvbGkuZ2V0T3BM\nb2NrKCk7DQogICAgICAgIGVtLmxvY2sob2xpLCBMb2NrTW9kZVR5cGUuUkVB\nRCk7DQoNCiAgICAgICAgLy8gMi4gbWFrZSBhIGNoYW5nZSB0byB0aGUgaW5z\ndGFuY2UncyBvcHRpbWlzdGljIGxvY2sgY29sdW1uDQogICAgICAgIC8vIHZp\nYSBkaXJlY3QgU1FMIGluIGEgc2VwYXJhdGUgdHJhbnNhY3Rpb24NCiAgICAg\nICAgaW50IHNlY29uZE9wTG9ja1ZhbHVlID0gZmlyc3RPcExvY2tWYWx1ZSAr\nIDE7DQoNCiAgICAgICAgRGF0YVNvdXJjZSBkcyA9IChEYXRhU291cmNlKSBP\ncGVuSlBBUGVyc2lzdGVuY2UuY2FzdChlbSkNCiAgICAgICAgICAgIC5nZXRF\nbnRpdHlNYW5hZ2VyRmFjdG9yeSgpLmdldENvbmZpZ3VyYXRpb24oKQ0KICAg\nICAgICAgICAgLmdldENvbm5lY3Rpb25GYWN0b3J5KCk7DQogICAgICAgIENv\nbm5lY3Rpb24gYyA9IGRzLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgYy5z\nZXRBdXRvQ29tbWl0KGZhbHNlKTsNCiAgICAgICAgUHJlcGFyZWRTdGF0ZW1l\nbnQgcHMgPSBjLnByZXBhcmVTdGF0ZW1lbnQoDQogICAgICAgICAgICAiVVBE\nQVRFIE9QVElNSVNUSUNfTE9DS19JTlNUQU5DRSBTRVQgT1BMT0NLID0gPyBX\nSEVSRSBQSyA9ID8iKTsNCiAgICAgICAgcHMuc2V0SW50KDEsIHNlY29uZE9w\nTG9ja1ZhbHVlKTsNCiAgICAgICAgcHMuc2V0SW50KDIsIHBrKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIHBzLmV4ZWN1dGVVcGRhdGUoKSk7DQogICAg\nICAgIGMuY29tbWl0KCk7DQogICAgICAgIA0KICAgICAgICAvLyAzLiBjb21t\naXQgdGhlIHRyYW5zYWN0aW9uLCBjYXRjaGluZyB0aGUgZXhwZWN0ZWQgb3Bs\nb2NrDQogICAgICAgIC8vIGV4Y2VwdGlvbg0KICAgICAgICB0cnkgew0KICAg\nICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsNCiAgICAg\nICAgICAgIGZhaWwoInR4IHNob3VsZCBoYXZlIGZhaWxlZCBkdWUgdG8gb3V0\nLW9mLWJhbmQgb3Bsb2NrIGNoYW5nZSIpOw0KICAgICAgICB9IGNhdGNoIChS\nb2xsYmFja0V4Y2VwdGlvbiByZSkgew0KICAgICAgICAgICAgLy8gZXhwZWN0\nZWQNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGlmIChlbS5n\nZXRUcmFuc2FjdGlvbigpLmlzQWN0aXZlKCkpDQogICAgICAgICAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5yb2xsYmFjaygpOw0KICAgICAgICB9DQoN\nCiAgICAgICAgLy8gNC4gb2J0YWluIHRoZSBvYmplY3QgaW4gYSBuZXcgcGVy\nc2lzdGVuY2UgY29udGV4dCBhbmQNCiAgICAgICAgLy8gYXNzZXJ0IHRoYXQg\ndGhlIG9wbG9jayBjb2x1bW4gaXMgc2V0IHRvIHRoZSBvbmUgdGhhdA0KICAg\nICAgICAvLyBoYXBwZW5lZCBpbiB0aGUgb3V0LW9mLWJhbmQgdHJhbnNhY3Rp\nb24NCiAgICAgICAgZW0uY2xvc2UoKTsNCiAgICAgICAgZW0gPSBlbWYuY3Jl\nYXRlRW50aXR5TWFuYWdlcigpOw0KICAgICAgICBvbGkgPSBlbS5maW5kKE9w\ndGltaXN0aWNMb2NrSW5zdGFuY2UuY2xhc3MsIHBrKTsNCg0KICAgICAgICAv\nLyBJZiB0aGlzIGZhaWxzLCB0aGVuIHRoZSBkYXRhIGNhY2hlIGhhcyB0aGUg\nd3JvbmcgdmFsdWUuDQogICAgICAgIC8vIFRoaXMgaXMgd2hhdCB0aGlzIHRl\nc3QgY2FzZSBpcyBkZXNpZ25lZCB0byBleGVyY2lzZS4NCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJkYXRhIGNhY2hlIGlzIG5vdCBiZWluZyBjbGVhcmVkIHdo\nZW4gb3Bsb2NrICINCiAgICAgICAgICAgICsgInZpb2xhdGlvbnMgb2NjdXIi\nLCBzZWNvbmRPcExvY2tWYWx1ZSwgb2xpLmdldE9wTG9jaygpKTsNCg0KICAg\nICAgICAvLyA1LiBnZXQgYSByZWFkIGxvY2sgb24gdGhlIGluc3RhbmNlIGFu\nZCBjb21taXQgdGhlIHR4OyB0aGlzDQogICAgICAgIC8vIHRpbWUgaXQgc2hv\ndWxkIGdvIHRocm91Z2gNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOw0KICAgICAgICBlbS5sb2NrKG9saSwgTG9ja01vZGVUeXBlLlJF\nQUQpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5jb21taXQoKTsNCiAgICAgICAgfSBjYXRjaCAoUm9sbGJhY2tF\neGNlcHRpb24gZSkgew0KICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2Uo\nKTsNCiAgICAgICAgICAgIHRocm93IGU7DQogICAgICAgIH0gZmluYWxseSB7\nDQogICAgICAgICAgICBpZiAoZW0uZ2V0VHJhbnNhY3Rpb24oKS5pc0FjdGl2\nZSgpKQ0KICAgICAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkucm9s\nbGJhY2soKTsNCiAgICAgICAgfQ0KICAgICAgICBlbS5jbG9zZSgpOw0KICAg\nIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0RXhwZWN0ZWRPcHRpbWlz\ndGljTG9ja0V4Y2VwdGlvbigpIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbTsNCiAgICAgICAgDQogICAgICAgIC8vIDEuIHN0YXJ0IGEgbmV3IHR4DQog\nICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOw0KICAgICAgICBlbS5s\nb2NrKGVtLmZpbmQoT3B0aW1pc3RpY0xvY2tJbnN0YW5jZS5jbGFzcywgcGsp\nLCBMb2NrTW9kZVR5cGUuUkVBRCk7DQogICAgICAgIA0KICAgICAgICAvLyAy\nLiBzdGFydCBhbm90aGVyIHR4LCBhbmQgY2F1c2UgYSB2ZXJzaW9uIGluY3Jl\nbWVudA0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtMiA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIGVtMi5nZXRUcmFuc2FjdGlvbigp\nLmJlZ2luKCk7DQogICAgICAgIGVtMi5sb2NrKGVtMi5maW5kKE9wdGltaXN0\naWNMb2NrSW5zdGFuY2UuY2xhc3MsIHBrKSwgDQogICAgICAgICAgICBMb2Nr\nTW9kZVR5cGUuV1JJVEUpOw0KICAgICAgICBlbTIuZ2V0VHJhbnNhY3Rpb24o\nKS5jb21taXQoKTsNCiAgICAgICAgZW0yLmNsb3NlKCk7DQogICAgICAgIA0K\nICAgICAgICAvLyAzLiB0cnkgdG8gY29tbWl0LiB0aGlzIHNob3VsZCBmYWls\nLCBhcyB0aGlzIGlzIGEgcmVndWxhciBvcHRpbWlzdGljDQogICAgICAgIC8v\nIGxvY2sgZmFpbHVyZSBzaXR1YXRpb24uDQogICAgICAgIHRyeSB7DQogICAg\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAg\nICAgICAgZmFpbCgid3JpdGUgbG9jayBpbiBlbTIgc2hvdWxkIHRyaWdnZXIg\nYW4gb3B0aW1pc3RpYyBsb2NrIGZhaWx1cmUiKTsNCiAgICAgICAgfSBjYXRj\naCAoUm9sbGJhY2tFeGNlcHRpb24gcGUpIHsNCiAgICAgICAgICAgIC8vIGV4\ncGVjdGVkDQogICAgICAgIH0NCiAgICAgICAgZW0uY2xvc2UoKTsNCiAgICB9\nDQp9DQo=\n","encoding":"base64"}

