{"sha":"0ce523cc431f364bccec66e3e27bbe799386dc7b","node_id":"MDQ6QmxvYjIwNjM2NDowY2U1MjNjYzQzMWYzNjRiY2NlYzY2ZTNlMjdiYmU3OTkzODZkYzdi","size":2515,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0ce523cc431f364bccec66e3e27bbe799386dc7b","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeTsKCmltcG9ydCBqYXZhLnV0aWwu\nSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51\ndGlsLk1hcDsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFn\nZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyRmFj\ndG9yeTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNlOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQganVuaXQu\nZnJhbWV3b3JrLlRlc3RDYXNlOwppbXBvcnQganVuaXQudGV4dHVpLlRlc3RS\ndW5uZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nT3BlbkpQQVF1ZXJ5OwoKLyoqCiAqIFRlc3QgdGhhdCB3ZSBjYW4gcXVlcnkg\nYnkgYW4gZW50aXR5J3MgYWJzdHJhY3Qgc2NoZW1hIG5hbWUuCiAqCiAqIEBh\ndXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgVGVzdEFic3RyYWN0\nU2NoZW1hTmFtZQogICAgZXh0ZW5kcyBUZXN0Q2FzZSB7CgogICAgcHJpdmF0\nZSBFbnRpdHlNYW5hZ2VyRmFjdG9yeSBlbWY7CgogICAgcHVibGljIHZvaWQg\nc2V0VXAoKSB7CiAgICAgICAgTWFwIHByb3BzID0gbmV3IEhhc2hNYXAoKTsK\nICAgICAgICBwcm9wcy5wdXQoIm9wZW5qcGEuTWV0YURhdGFGYWN0b3J5Iiwg\nImpwYShUeXBlcz0iIAogICAgICAgICAgICArIE5hbWVkRW50aXR5LmNsYXNz\nLmdldE5hbWUoKSArICIpIik7CiAgICAgICAgZW1mID0gUGVyc2lzdGVuY2Uu\nY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoInRlc3QiLCBwcm9wcyk7Cgog\nICAgICAgIE5hbWVkRW50aXR5IGUgPSBuZXcgTmFtZWRFbnRpdHkoKTsKICAg\nICAgICBlLnNldE5hbWUoImUiKTsgCgogICAgICAgIEVudGl0eU1hbmFnZXIg\nZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5wZXJzaXN0KGUp\nOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAg\nICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZWFyRG93\nbigpIHsKICAgICAgICBpZiAoZW1mID09IG51bGwpCiAgICAgICAgICAgIHJl\ndHVybjsKICAgICAgICB0cnkgewogICAgICAgICAgICBFbnRpdHlNYW5hZ2Vy\nIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgICAgICBlbS5j\ncmVhdGVRdWVyeSgiZGVsZXRlIGZyb20gbmFtZWQiKS5leGVjdXRlVXBkYXRl\nKCk7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7\nCiAgICAgICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgICAgIGVtZi5jbG9z\nZSgpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAg\nICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RRdWVyeSgpIHsKICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBR\ndWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBlIGZyb20gbmFtZWQg\nZSIpOwogICAgICAgIE5hbWVkRW50aXR5IGUgPSAoTmFtZWRFbnRpdHkpIHEu\nZ2V0U2luZ2xlUmVzdWx0KCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoImUiLCBlLmdldE5hbWUoKSk7CiAgICAg\nICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQg\nbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgVGVzdFJ1bm5lci5ydW4o\nVGVzdEFic3RyYWN0U2NoZW1hTmFtZS5jbGFzcyk7CiAgICB9Cn0KCg==\n","encoding":"base64"}

