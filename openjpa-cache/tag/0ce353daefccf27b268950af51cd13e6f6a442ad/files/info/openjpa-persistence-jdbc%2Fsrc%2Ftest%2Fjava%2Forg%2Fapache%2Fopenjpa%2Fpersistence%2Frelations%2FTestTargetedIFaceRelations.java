{"sha":"03282edc35e3dc6c50e7a25f056b2fd81ccfaafb","node_id":"MDQ6QmxvYjIwNjM2NDowMzI4MmVkYzM1ZTNkYzZjNTBlN2EyNWYwNTZiMmZkODFjY2ZhYWZi","size":3028,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/03282edc35e3dc6c50e7a25f056b2fd81ccfaafb","content":"LyoKICogQ29weXJpZ2h0IDIwMDYgVGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vu\nc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBu\nb3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRo\nZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICog\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxh\nbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlv\nbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5yZWxhdGlvbnM7CgppbXBvcnQgamF2YS51\ndGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5OwppbXBvcnQgamF2YXgu\ncGVyc2lzdGVuY2UuUGVyc2lzdGVuY2U7CgppbXBvcnQganVuaXQuZnJhbWV3\nb3JrLlRlc3RDYXNlOwppbXBvcnQganVuaXQudGV4dHVpLlRlc3RSdW5uZXI7\nCgovKioKICogUGVyZm9ybSBiYXNpYyBvcGVyYXRpb25zIG9uIGFuIGVudGl0\neSB3aXRoIGludGVyZmFjZSByZWxhdGlvbnMgdGhhdCB1c2UKICogdGhlIHRh\ncmdldEVudGl0eSBhdHRyaWJ1dGUgdG8gc2V0IGEgY29uY3JldGUgcmVsYXRl\nZCB0eXBlLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNs\nYXNzIFRlc3RUYXJnZXRlZElGYWNlUmVsYXRpb25zCiAgICBleHRlbmRzIFRl\nc3RDYXNlIHsKCiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXJGYWN0b3J5IGVt\nZjsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBNYXAgcHJv\ncHMgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIHByb3BzLnB1dCgib3Blbmpw\nYS5NZXRhRGF0YUZhY3RvcnkiLCAianBhKFR5cGVzPSIgCiAgICAgICAgICAg\nICsgVGFyZ2V0ZWRJRmFjZVJlbGF0aW9uUGFyZW50LmNsYXNzLmdldE5hbWUo\nKSArICIpIik7CiAgICAgICAgZW1mID0gUGVyc2lzdGVuY2UuY3JlYXRlRW50\naXR5TWFuYWdlckZhY3RvcnkoInRlc3QiLCBwcm9wcyk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVhckRvd24oKSB7CiAgICAgICAgaWYgKGVtZiA9PSBu\ndWxsKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5h\nZ2VyKCk7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4o\nKTsKICAgICAgICAgICAgZW0uY3JlYXRlUXVlcnkoImRlbGV0ZSBmcm9tIFRh\ncmdldGVkSUZhY2VSZWxhdGlvblBhcmVudCIpLgogICAgICAgICAgICAgICAg\nZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmNvbW1pdCgpOwogICAgICAgICAgICBlbS5jbG9zZSgpOwogICAgICAg\nICAgICBlbWYuY2xvc2UoKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24g\nZSkgewogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0UGVy\nc2lzdCgpIHsKICAgICAgICBUYXJnZXRlZElGYWNlUmVsYXRpb25QYXJlbnQg\ncGFyZW50ID0gbmV3IFRhcmdldGVkSUZhY2VSZWxhdGlvblBhcmVudCgpOwog\nICAgICAgIHBhcmVudC5zZXROYW1lKCJwYXJlbnQiKTsKICAgICAgICBUYXJn\nZXRlZElGYWNlUmVsYXRpb25QYXJlbnQgY2hpbGQgPSBuZXcgVGFyZ2V0ZWRJ\nRmFjZVJlbGF0aW9uUGFyZW50KCk7CiAgICAgICAgY2hpbGQuc2V0TmFtZSgi\nY2hpbGQiKTsKICAgICAgICBwYXJlbnQuc2V0SUZhY2UoY2hpbGQpOwogICAg\nICAgIAogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKICAgICAgICBlbS5wZXJzaXN0KHBhcmVudCk7CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBsb25nIGlkID0g\ncGFyZW50LmdldElkKCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShpZCAhPSAwKTsK\nICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAgICBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgcGFyZW50ID0gZW0uZmluZChUYXJn\nZXRlZElGYWNlUmVsYXRpb25QYXJlbnQuY2xhc3MsIGlkKTsKICAgICAgICBh\nc3NlcnROb3ROdWxsKHBhcmVudCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJw\nYXJlbnQiLCBwYXJlbnQuZ2V0TmFtZSgpKTsKICAgICAgICBhc3NlcnROb3RO\ndWxsKHBhcmVudC5nZXRJRmFjZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nImNoaWxkIiwgcGFyZW50LmdldElGYWNlKCkuZ2V0TmFtZSgpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoVGFyZ2V0ZWRJRmFjZVJlbGF0aW9uUGFyZW50LmNs\nYXNzLCAKICAgICAgICAgICAgcGFyZW50LmdldElGYWNlKCkuZ2V0Q2xhc3Mo\nKSk7CiAgICAgICAgYXNzZXJ0TnVsbCgoKFRhcmdldGVkSUZhY2VSZWxhdGlv\nblBhcmVudCkgcGFyZW50LmdldElGYWNlKCkpLgogICAgICAgICAgICBnZXRJ\nRmFjZSgpKTsKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1Ymxp\nYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBU\nZXN0UnVubmVyLnJ1bihUZXN0VGFyZ2V0ZWRJRmFjZVJlbGF0aW9ucy5jbGFz\ncyk7CiAgICB9Cn0KCg==\n","encoding":"base64"}

