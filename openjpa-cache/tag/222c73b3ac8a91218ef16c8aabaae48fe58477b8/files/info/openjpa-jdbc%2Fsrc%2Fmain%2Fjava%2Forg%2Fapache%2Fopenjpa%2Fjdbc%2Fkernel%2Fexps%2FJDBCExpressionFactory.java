{"sha":"cc11ae6e1c246e197e4ee3dd1d406b0166c06d3e","node_id":"MDQ6QmxvYjIwNjM2NDpjYzExYWU2ZTFjMjQ2ZTE5N2U0ZWUzZGQxZDQwNmIwMTY2YzA2ZDNl","size":12820,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cc11ae6e1c246e197e4ee3dd1d406b0166c06d3e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwczsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFw\ncGluZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuSmF2\nYVNRTFR5cGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3Fs\nLkRCRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJu\nZWwuZXhwcy5BZ2dyZWdhdGVMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWwuZXhwcy5Bcmd1bWVudHM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRXhwcmVzc2lvbjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5FeHByZXNzaW9uRmFjdG9y\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5GaWx0\nZXJMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nZXhwcy5MaXRlcmFsOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5l\nbC5leHBzLlBhcmFtZXRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuZXhwcy5QYXRoOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtl\ncm5lbC5leHBzLlN1YnF1ZXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmtlcm5lbC5leHBzLlZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5tZXRhLkNsYXNzTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEudXRpbC5Vc2VyRXhjZXB0aW9uOwoKLyoqCiAqIEV4cHJlc3Npb24gZmFj\ndG9yeSBpbXBsZW1lbnRhdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGV4ZWN1\ndGUgcXVlcmllcwogKiB2aWEgU1FMLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0\nZQogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgSkRCQ0V4cHJlc3Np\nb25GYWN0b3J5CiAgICBpbXBsZW1lbnRzIEV4cHJlc3Npb25GYWN0b3J5IHsK\nCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBWYWwgTlVMTCA9IG5ldyBOdWxs\nKCk7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBWYWwgQ1VSUkVOVF9EQVRF\nID0gbmV3IEN1cnJlbnREYXRlKEphdmFTUUxUeXBlcy5EQVRFKTsKICAgIHBy\naXZhdGUgc3RhdGljIGZpbmFsIFZhbCBDVVJSRU5UX1RJTUUgPSBuZXcgQ3Vy\ncmVudERhdGUoSmF2YVNRTFR5cGVzLlRJTUUpOwogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgVmFsIENVUlJFTlRfVElNRVNUQU1QID0KICAgICAgICBuZXcg\nQ3VycmVudERhdGUoSmF2YVNRTFR5cGVzLlRJTUVTVEFNUCk7CgogICAgcHJp\ndmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIu\nZm9yUGFja2FnZQogICAgICAgIChKREJDRXhwcmVzc2lvbkZhY3RvcnkuY2xh\nc3MpOwoKICAgIHByaXZhdGUgZmluYWwgQ2xhc3NNYXBwaW5nIF90eXBlOwog\nICAgcHJpdmF0ZSBmaW5hbCBTZWxlY3RDb25zdHJ1Y3RvciBfY29ucyA9IG5l\ndyBTZWxlY3RDb25zdHJ1Y3RvcigpOwoKICAgIC8qKgogICAgICogQ29uc3Ry\ndWN0b3IuIFN1cHBseSB0aGUgdHlwZSB3ZSdyZSBxdWVyeWluZyBhZ2FpbnN0\nLgogICAgICovCiAgICBwdWJsaWMgSkRCQ0V4cHJlc3Npb25GYWN0b3J5KENs\nYXNzTWFwcGluZyB0eXBlKSB7CiAgICAgICAgX3R5cGUgPSB0eXBlOwogICAg\nfQoKICAgIC8qKgogICAgICogVXNlIHRvIGNyZWF0ZSBTUUwgc2VsZWN0Lgog\nICAgICovCiAgICBwdWJsaWMgU2VsZWN0Q29uc3RydWN0b3IgZ2V0U2VsZWN0\nQ29uc3RydWN0b3IoKSB7CiAgICAgICAgcmV0dXJuIF9jb25zOwogICAgfQoK\nICAgIHB1YmxpYyBFeHByZXNzaW9uIGVtcHR5RXhwcmVzc2lvbigpIHsKICAg\nICAgICByZXR1cm4gbmV3IEVtcHR5RXhwcmVzc2lvbigpOwogICAgfQoKICAg\nIHB1YmxpYyBFeHByZXNzaW9uIGFzRXhwcmVzc2lvbihWYWx1ZSB2KSB7CiAg\nICAgICAgcmV0dXJuIGVxdWFsKHYsIG5ld0xpdGVyYWwoQm9vbGVhbi5UUlVF\nLCBMaXRlcmFsLlRZUEVfQk9PTEVBTikpOwogICAgfQoKICAgIHB1YmxpYyBF\neHByZXNzaW9uIGVxdWFsKFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAg\nIC8vIGlmIHdlJ3JlIGNvbXBhcmluZyBhbiB1bmFjY2Vzc2VkIGJvdW5kIHZh\ncmlhYmxlLCBsaWtlIGluOgogICAgICAgIC8vIGNvbGwuY29udGFpbnMgKHZh\ncikgJiYgdmFyID09IHgsIHRoZW4gdHJhbnNsYXRlIGludG86CiAgICAgICAg\nLy8gY29sbC5jb250YWlucyAoeCkKICAgICAgICBpZiAodjEgaW5zdGFuY2Vv\nZiBQQ1BhdGggJiYgKChQQ1BhdGgpIHYxKS5pc1VuYWNjZXNzZWRWYXJpYWJs\nZSgpKQogICAgICAgICAgICByZXR1cm4gY29udGFpbnModjEsIHYyKTsKICAg\nICAgICBpZiAodjIgaW5zdGFuY2VvZiBQQ1BhdGggJiYgKChQQ1BhdGgpIHYy\nKS5pc1VuYWNjZXNzZWRWYXJpYWJsZSgpKQogICAgICAgICAgICByZXR1cm4g\nY29udGFpbnModjIsIHYxKTsKICAgICAgICByZXR1cm4gbmV3IEVxdWFsRXhw\ncmVzc2lvbigoVmFsKSB2MSwgKFZhbCkgdjIpOwogICAgfQoKICAgIHB1Ymxp\nYyBFeHByZXNzaW9uIG5vdEVxdWFsKFZhbHVlIHYxLCBWYWx1ZSB2Mikgewog\nICAgICAgIHJldHVybiBuZXcgTm90RXF1YWxFeHByZXNzaW9uKChWYWwpIHYx\nLCAoVmFsKSB2Mik7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gbGVz\nc1RoYW4oVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5l\ndyBDb21wYXJlRXhwcmVzc2lvbigoVmFsKSB2MSwgKFZhbCkgdjIsCiAgICAg\nICAgICAgIENvbXBhcmVFeHByZXNzaW9uLkxFU1MpOwogICAgfQoKICAgIHB1\nYmxpYyBFeHByZXNzaW9uIGdyZWF0ZXJUaGFuKFZhbHVlIHYxLCBWYWx1ZSB2\nMikgewogICAgICAgIHJldHVybiBuZXcgQ29tcGFyZUV4cHJlc3Npb24oKFZh\nbCkgdjEsIChWYWwpIHYyLAogICAgICAgICAgICBDb21wYXJlRXhwcmVzc2lv\nbi5HUkVBVEVSKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBsZXNz\nVGhhbkVxdWFsKFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVy\nbiBuZXcgQ29tcGFyZUV4cHJlc3Npb24oKFZhbCkgdjEsIChWYWwpIHYyLAog\nICAgICAgICAgICBDb21wYXJlRXhwcmVzc2lvbi5MRVNTX0VRVUFMKTsKICAg\nIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBncmVhdGVyVGhhbkVxdWFsKFZh\nbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBuZXcgQ29tcGFy\nZUV4cHJlc3Npb24oKFZhbCkgdjEsIChWYWwpIHYyLAogICAgICAgICAgICBD\nb21wYXJlRXhwcmVzc2lvbi5HUkVBVEVSX0VRVUFMKTsKICAgIH0KCiAgICBw\ndWJsaWMgRXhwcmVzc2lvbiBpc0VtcHR5KFZhbHVlIHZhbCkgewogICAgICAg\nIHJldHVybiBuZXcgSXNFbXB0eUV4cHJlc3Npb24oKFZhbCkgdmFsKTsKICAg\nIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBpc05vdEVtcHR5KFZhbHVlIHZh\nbCkgewogICAgICAgIHJldHVybiBuZXcgSXNOb3RFbXB0eUV4cHJlc3Npb24o\nKFZhbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBjb250\nYWlucyhWYWx1ZSBtYXAsIFZhbHVlIGFyZykgewogICAgICAgIGlmIChtYXAg\naW5zdGFuY2VvZiBDb25zdCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBJbkV4\ncHJlc3Npb24oKFZhbCkgYXJnLCAoQ29uc3QpIG1hcCk7CiAgICAgICAgaWYg\nKG1hcCBpbnN0YW5jZW9mIFN1YlEpCiAgICAgICAgICAgIHJldHVybiBuZXcg\nSW5TdWJRRXhwcmVzc2lvbigoVmFsKSBhcmcsIChTdWJRKSBtYXApOwogICAg\nICAgIHJldHVybiBuZXcgQ29udGFpbnNFeHByZXNzaW9uKChWYWwpIG1hcCwg\nKFZhbCkgYXJnKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBjb250\nYWluc0tleShWYWx1ZSBtYXAsIFZhbHVlIGFyZykgewogICAgICAgIGlmICht\nYXAgaW5zdGFuY2VvZiBDb25zdCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBJ\nbktleUV4cHJlc3Npb24oKFZhbCkgYXJnLCAoQ29uc3QpIG1hcCk7CiAgICAg\nICAgcmV0dXJuIG5ldyBDb250YWluc0tleUV4cHJlc3Npb24oKFZhbCkgbWFw\nLCAoVmFsKSBhcmcpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGNv\nbnRhaW5zVmFsdWUoVmFsdWUgbWFwLCBWYWx1ZSBhcmcpIHsKICAgICAgICBp\nZiAobWFwIGluc3RhbmNlb2YgQ29uc3QpCiAgICAgICAgICAgIHJldHVybiBu\nZXcgSW5WYWx1ZUV4cHJlc3Npb24oKFZhbCkgYXJnLCAoQ29uc3QpIG1hcCk7\nCiAgICAgICAgcmV0dXJuIG5ldyBDb250YWluc0V4cHJlc3Npb24oKFZhbCkg\nbWFwLCAoVmFsKSBhcmcpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9u\nIGlzSW5zdGFuY2UoVmFsdWUgdmFsLCBDbGFzcyBjKSB7CiAgICAgICAgaWYg\nKHZhbCBpbnN0YW5jZW9mIENvbnN0KQogICAgICAgICAgICByZXR1cm4gbmV3\nIENvbnN0SW5zdGFuY2VvZkV4cHJlc3Npb24oKENvbnN0KSB2YWwsIGMpOwog\nICAgICAgIHJldHVybiBuZXcgSW5zdGFuY2VvZkV4cHJlc3Npb24oKFBDUGF0\naCkgdmFsLCBjKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBhbmQo\nRXhwcmVzc2lvbiBleHAxLCBFeHByZXNzaW9uIGV4cDIpIHsKICAgICAgICBp\nZiAoZXhwMSBpbnN0YW5jZW9mIEJpbmRWYXJpYWJsZUV4cHJlc3Npb24pCiAg\nICAgICAgICAgIHJldHVybiBuZXcgQmluZFZhcmlhYmxlQW5kRXhwcmVzc2lv\nbigoQmluZFZhcmlhYmxlRXhwcmVzc2lvbikgZXhwMSwKICAgICAgICAgICAg\nICAgIChFeHApIGV4cDIpOwogICAgICAgIGlmIChleHAyIGluc3RhbmNlb2Yg\nQmluZFZhcmlhYmxlRXhwcmVzc2lvbikKICAgICAgICAgICAgcmV0dXJuIG5l\ndyBCaW5kVmFyaWFibGVBbmRFeHByZXNzaW9uKChCaW5kVmFyaWFibGVFeHBy\nZXNzaW9uKSBleHAyLAogICAgICAgICAgICAgICAgKEV4cCkgZXhwMSk7CiAg\nICAgICAgcmV0dXJuIG5ldyBBbmRFeHByZXNzaW9uKChFeHApIGV4cDEsIChF\neHApIGV4cDIpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIG9yKEV4\ncHJlc3Npb24gZXhwMSwgRXhwcmVzc2lvbiBleHAyKSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBPckV4cHJlc3Npb24oKEV4cCkgZXhwMSwgKEV4cCkgZXhwMik7\nCiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gbm90KEV4cHJlc3Npb24g\nZXhwKSB7CiAgICAgICAgaWYgKEhhc0NvbnRhaW5zRXhwcmVzc2lvblZpc2l0\nb3IuaGFzQ29udGFpbnMoZXhwKSkKICAgICAgICAgICAgcmV0dXJuIG5ldyBO\nb3RDb250YWluc0V4cHJlc3Npb24oKEV4cCkgZXhwKTsKICAgICAgICByZXR1\ncm4gbmV3IE5vdEV4cHJlc3Npb24oKEV4cCkgZXhwKTsKICAgIH0KCiAgICBw\ndWJsaWMgRXhwcmVzc2lvbiBiaW5kVmFyaWFibGUoVmFsdWUgdmFyLCBWYWx1\nZSB2YWwpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIHN0cmFuZ2UgY2FzZSBv\nZiB1c2luZyBhIGNvbnN0YW50IHBhdGggdG8gYmluZCBhCiAgICAgICAgLy8g\ndmFyaWFibGU7IGluIHRoZXNlIGNhc2VzIHRoZSB2YXJpYWJsZSBhY3RzIGxp\na2UgYW4gdW5ib3VuZAogICAgICAgIC8vIHZhcmlhYmxlIHRoYXQgd2UgbGlt\naXQgYnkgdXNpbmcgYW4gSU4gY2xhdXNlIG9uIHRoZSBjb25zdGFudAogICAg\nICAgIC8vIHZhbHVlIGNvbGxlY3Rpb24KICAgICAgICBpZiAodmFsIGluc3Rh\nbmNlb2YgQ29uc3QpIHsKICAgICAgICAgICAgUENQYXRoIHBhdGggPSBuZXcg\nUENQYXRoKF90eXBlLCAoVmFyaWFibGUpIHZhcik7CiAgICAgICAgICAgIHBh\ndGguc2V0TWV0YURhdGEodmFyLmdldE1ldGFEYXRhKCkpOwogICAgICAgICAg\nICByZXR1cm4gbmV3IEluRXhwcmVzc2lvbihwYXRoLCAoQ29uc3QpIHZhbCk7\nCiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgQmluZFZhcmlhYmxlRXhw\ncmVzc2lvbigoVmFyaWFibGUpIHZhciwgKFBDUGF0aCkgdmFsLCBmYWxzZSk7\nCiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gYmluZEtleVZhcmlhYmxl\nKFZhbHVlIHZhciwgVmFsdWUgdmFsKSB7CiAgICAgICAgLy8gaGFuZGxlIHRo\nZSBzdHJhbmdlIGNhc2Ugb2YgdXNpbmcgYSBjb25zdGFudCBwYXRoIHRvIGJp\nbmQgYQogICAgICAgIC8vIHZhcmlhYmxlOyBpbiB0aGVzZSBjYXNlcyB0aGUg\ndmFyaWFibGUgYWN0cyBsaWtlIGFuIHVuYm91bmQKICAgICAgICAvLyB2YXJp\nYWJsZSB0aGF0IHdlIGxpbWl0IGJ5IHVzaW5nIGFuIElOIGNsYXVzZSBvbiB0\naGUgY29uc3RhbnQKICAgICAgICAvLyB2YWx1ZSBjb2xsZWN0aW9uCiAgICAg\nICAgaWYgKHZhbCBpbnN0YW5jZW9mIENvbnN0KSB7CiAgICAgICAgICAgIFBD\nUGF0aCBwYXRoID0gbmV3IFBDUGF0aChfdHlwZSwgKFZhcmlhYmxlKSB2YXIp\nOwogICAgICAgICAgICBwYXRoLnNldE1ldGFEYXRhKHZhci5nZXRNZXRhRGF0\nYSgpKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBJbktleUV4cHJlc3Npb24o\ncGF0aCwgKENvbnN0KSB2YWwpOwogICAgICAgIH0KICAgICAgICByZXR1cm4g\nbmV3IEJpbmRWYXJpYWJsZUV4cHJlc3Npb24oKFZhcmlhYmxlKSB2YXIsIChQ\nQ1BhdGgpIHZhbCwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Np\nb24gYmluZFZhbHVlVmFyaWFibGUoVmFsdWUgdmFyLCBWYWx1ZSB2YWwpIHsK\nICAgICAgICByZXR1cm4gYmluZFZhcmlhYmxlKHZhciwgdmFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBzdGFydHNXaXRoKFZhbHVlIHYxLCBW\nYWx1ZSB2MikgewogICAgICAgIHJldHVybiBuZXcgU3RhcnRzV2l0aEV4cHJl\nc3Npb24oKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0KCiAgICBwdWJsaWMg\nRXhwcmVzc2lvbiBlbmRzV2l0aChWYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAg\nICAgICByZXR1cm4gbmV3IEVuZHNXaXRoRXhwcmVzc2lvbigoVmFsKSB2MSwg\nKFZhbCkgdjIpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIG5vdE1h\ndGNoZXMoVmFsdWUgdjEsIFZhbHVlIHYyLAogICAgICAgIFN0cmluZyBzaW5n\nbGUsIFN0cmluZyBtdWx0aSwgU3RyaW5nIGVzYykgewogICAgICAgIHJldHVy\nbiBub3QobWF0Y2hlcyh2MSwgdjIsIHNpbmdsZSwgbXVsdGksIGVzYykpOwog\nICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIG1hdGNoZXMoVmFsdWUgdjEs\nIFZhbHVlIHYyLAogICAgICAgIFN0cmluZyBzaW5nbGUsIFN0cmluZyBtdWx0\naSwgU3RyaW5nIGVzYykgewogICAgICAgIGlmICghKHYyIGluc3RhbmNlb2Yg\nQ29uc3QpKQogICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4Y2VwdGlvbihf\nbG9jLmdldCgiY29uc3Qtb25seSIsICJtYXRjaGVzIikpOwogICAgICAgIGlm\nIChlc2MgPT0gbnVsbCAmJiBfdHlwZS5nZXRNYXBwaW5nUmVwb3NpdG9yeSgp\nLgogICAgICAgICAgICAgICAgZ2V0REJEaWN0aW9uYXJ5KCkucmVxdWlyZXNT\nZWFyY2hTdHJpbmdFc2NhcGVGb3JMaWtlID09IHRydWUpIHsgCiAgICAgICAg\nICAgIGVzYyA9IF90eXBlLmdldE1hcHBpbmdSZXBvc2l0b3J5KCkuCiAgICAg\nICAgICAgICAgICBnZXREQkRpY3Rpb25hcnkoKS5zZWFyY2hTdHJpbmdFc2Nh\ncGU7CiAgICAgICAgfSAgICAgICAgCiAgICAgICAgcmV0dXJuIG5ldyBNYXRj\naGVzRXhwcmVzc2lvbigoVmFsKSB2MSwgKENvbnN0KSB2Miwgc2luZ2xlLCBt\ndWx0aSwgZXNjKTsKICAgIH0KCiAgICBwdWJsaWMgU3VicXVlcnkgbmV3U3Vi\ncXVlcnkoQ2xhc3NNZXRhRGF0YSBjYW5kaWRhdGUsIGJvb2xlYW4gc3VicywK\nICAgICAgICBTdHJpbmcgYWxpYXMpIHsKICAgICAgICBEQkRpY3Rpb25hcnkg\nZGljdCA9IF90eXBlLmdldE1hcHBpbmdSZXBvc2l0b3J5KCkuZ2V0REJEaWN0\naW9uYXJ5KCk7CiAgICAgICAgZGljdC5hc3NlcnRTdXBwb3J0KGRpY3Quc3Vw\ncG9ydHNTdWJzZWxlY3QsICJTdXBwb3J0c1N1YnNlbGVjdCIpOwogICAgICAg\nIHJldHVybiBuZXcgU3ViUSgoQ2xhc3NNYXBwaW5nKSBjYW5kaWRhdGUsIHN1\nYnMsIGFsaWFzKTsKICAgIH0KCiAgICBwdWJsaWMgUGF0aCBuZXdQYXRoKCkg\newogICAgICAgIHJldHVybiBuZXcgUENQYXRoKF90eXBlKTsKICAgIH0KCiAg\nICBwdWJsaWMgUGF0aCBuZXdQYXRoKFZhbHVlIHZhbCkgewogICAgICAgIGlm\nICh2YWwgaW5zdGFuY2VvZiBDb25zdCkKICAgICAgICAgICAgcmV0dXJuIG5l\ndyBDb25zdFBhdGgoKENvbnN0KSB2YWwpOwogICAgICAgIGlmICh2YWwgaW5z\ndGFuY2VvZiBTdWJRKQogICAgICAgICAgICByZXR1cm4gbmV3IFBDUGF0aCgo\nU3ViUSkgdmFsKTsKICAgICAgICByZXR1cm4gbmV3IFBDUGF0aChfdHlwZSwg\nKFZhcmlhYmxlKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBMaXRlcmFsIG5l\nd0xpdGVyYWwoT2JqZWN0IHZhbCwgaW50IHB0eXBlKSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBMaXQodmFsLCBwdHlwZSk7CiAgICB9CgogICAgcHVibGljIFZh\nbHVlIGdldFRoaXMoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQQ1BhdGgoX3R5\ncGUpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXROdWxsKCkgewogICAg\nICAgIHJldHVybiBOVUxMOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXRD\ndXJyZW50RGF0ZSgpIHsKICAgICAgICByZXR1cm4gQ1VSUkVOVF9EQVRFOwog\nICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXRDdXJyZW50VGltZSgpIHsKICAg\nICAgICByZXR1cm4gQ1VSUkVOVF9USU1FOwogICAgfQoKICAgIHB1YmxpYyBW\nYWx1ZSBnZXRDdXJyZW50VGltZXN0YW1wKCkgewogICAgICAgIHJldHVybiBD\nVVJSRU5UX1RJTUVTVEFNUDsKICAgIH0KCiAgICBwdWJsaWMgUGFyYW1ldGVy\nIG5ld1BhcmFtZXRlcihTdHJpbmcgbmFtZSwgQ2xhc3MgdHlwZSkgewogICAg\nICAgIHJldHVybiBuZXcgUGFyYW0obmFtZSwgdHlwZSk7CiAgICB9CgogICAg\ncHVibGljIFZhbHVlIG5ld0V4dGVuc2lvbihGaWx0ZXJMaXN0ZW5lciBsaXN0\nZW5lciwgVmFsdWUgdGFyZ2V0LAogICAgICAgIFZhbHVlIGFyZykgewogICAg\nICAgIHJldHVybiBuZXcgRXh0ZW5zaW9uKChKREJDRmlsdGVyTGlzdGVuZXIp\nIGxpc3RlbmVyLAogICAgICAgICAgICAoVmFsKSB0YXJnZXQsIChWYWwpIGFy\nZywgX3R5cGUpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBuZXdBZ2dyZWdh\ndGUoQWdncmVnYXRlTGlzdGVuZXIgbGlzdGVuZXIsIFZhbHVlIGFyZykgewog\nICAgICAgIHJldHVybiBuZXcgQWdncmVnYXRlKChKREJDQWdncmVnYXRlTGlz\ndGVuZXIpIGxpc3RlbmVyLAogICAgICAgICAgICAoVmFsKSBhcmcsIF90eXBl\nKTsKICAgIH0KCiAgICBwdWJsaWMgQXJndW1lbnRzIG5ld0FyZ3VtZW50TGlz\ndChWYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAgICAgICByZXR1cm4gbmV3IEFy\nZ3MoKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0KCiAgICBwdWJsaWMgVmFs\ndWUgbmV3VW5ib3VuZFZhcmlhYmxlKFN0cmluZyBuYW1lLCBDbGFzcyB0eXBl\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBWYXJpYWJsZShuYW1lLCB0eXBlKTsK\nICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgbmV3Qm91bmRWYXJpYWJsZShTdHJp\nbmcgbmFtZSwgQ2xhc3MgdHlwZSkgewogICAgICAgIHJldHVybiBuZXdVbmJv\ndW5kVmFyaWFibGUobmFtZSwgdHlwZSk7CiAgICB9CgogICAgcHVibGljIFZh\nbHVlIGNhc3QoVmFsdWUgdmFsLCBDbGFzcyBjbHMpIHsKICAgICAgICB2YWwu\nc2V0SW1wbGljaXRUeXBlKGNscyk7CiAgICAgICAgcmV0dXJuIHZhbDsKICAg\nIH0KCiAgICBwdWJsaWMgVmFsdWUgYWRkKFZhbHVlIHYxLCBWYWx1ZSB2Mikg\newogICAgICAgIHJldHVybiBuZXcgTWF0aCgoVmFsKSB2MSwgKFZhbCkgdjIs\nIE1hdGguQUREKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgc3VidHJhY3Qo\nVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXRo\nKChWYWwpIHYxLCAoVmFsKSB2MiwgTWF0aC5TVUJUUkFDVCk7CiAgICB9Cgog\nICAgcHVibGljIFZhbHVlIG11bHRpcGx5KFZhbHVlIHYxLCBWYWx1ZSB2Mikg\newogICAgICAgIHJldHVybiBuZXcgTWF0aCgoVmFsKSB2MSwgKFZhbCkgdjIs\nIE1hdGguTVVMVElQTFkpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBkaXZp\nZGUoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBN\nYXRoKChWYWwpIHYxLCAoVmFsKSB2MiwgTWF0aC5ESVZJREUpOwogICAgfQoK\nICAgIHB1YmxpYyBWYWx1ZSBtb2QoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBNYXRoKChWYWwpIHYxLCAoVmFsKSB2MiwgTWF0\naC5NT0QpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBhYnMoVmFsdWUgdmFs\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBYnMoKFZhbCkgdmFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgVmFsdWUgaW5kZXhPZihWYWx1ZSB2MSwgVmFsdWUgdjIp\nIHsKICAgICAgICByZXR1cm4gbmV3IEluZGV4T2YoKFZhbCkgdjEsIChWYWwp\nIHYyKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgY29uY2F0KFZhbHVlIHYx\nLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBuZXcgQ29uY2F0KChWYWwp\nIHYxLCAoVmFsKSB2Mik7CiAgICB9CgogICAgcHVibGljIFZhbHVlIHN0cmlu\nZ0xlbmd0aChWYWx1ZSBzdHIpIHsKICAgICAgICByZXR1cm4gbmV3IFN0cmlu\nZ0xlbmd0aCgoVmFsKSBzdHIpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSB0\ncmltKFZhbHVlIHN0ciwgVmFsdWUgdHJpbUNoYXIsIEJvb2xlYW4gd2hlcmUp\nIHsKICAgICAgICByZXR1cm4gbmV3IFRyaW0oKFZhbCkgc3RyLCAoVmFsKSB0\ncmltQ2hhciwgd2hlcmUpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBzcXJ0\nKFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBuZXcgU3FydCgoVmFsKSB2\nYWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBzdWJzdHJpbmcoVmFsdWUg\ndjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBTdWJzdHJpbmco\nKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUg\ndG9VcHBlckNhc2UoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBU\nb1VwcGVyQ2FzZSgoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1\nZSB0b0xvd2VyQ2FzZShWYWx1ZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3\nIFRvTG93ZXJDYXNlKChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZh\nbHVlIGF2ZyhWYWx1ZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3IEF2Zygo\nVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBjb3VudChWYWx1\nZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3IENvdW50KChWYWwpIHZhbCk7\nCiAgICB9CgogICAgcHVibGljIFZhbHVlIGRpc3RpbmN0KFZhbHVlIHZhbCkg\newogICAgICAgIHJldHVybiBuZXcgRGlzdGluY3QoKFZhbCkgdmFsKTsKICAg\nIH0KCiAgICBwdWJsaWMgVmFsdWUgbWF4KFZhbHVlIHZhbCkgewogICAgICAg\nIHJldHVybiBuZXcgTWF4KChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGlj\nIFZhbHVlIG1pbihWYWx1ZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3IE1p\nbigoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBzdW0oVmFs\ndWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBTdW0oKFZhbCkgdmFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgYW55KFZhbHVlIHZhbCkgewogICAg\nICAgIHJldHVybiBuZXcgQW55KChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVi\nbGljIFZhbHVlIGFsbChWYWx1ZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3\nIEFsbCgoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBzaXpl\nKFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBuZXcgU2l6ZSgoVmFsKSB2\nYWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXRPYmplY3RJZChWYWx1\nZSB2YWwpIHsKICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgQ29uc3QpCiAg\nICAgICAgICAgIHJldHVybiBuZXcgQ29uc3RHZXRPYmplY3RJZCgoQ29uc3Qp\nIHZhbCk7CiAgICAgICAgcmV0dXJuIG5ldyBHZXRPYmplY3RJZCgoUENQYXRo\nKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXRNYXBWYWx1ZShW\nYWx1ZSBtYXAsIFZhbHVlIGFyZykgewogICAgICAgIHJldHVybiBuZXcgR2V0\nTWFwVmFsdWUoKFZhbCkgbWFwLCAoVmFsKSBhcmcpOwogICAgfQp9Cg==\n","encoding":"base64"}

