{"sha":"1ba500fa71877e166aa92a9c9b5ba04ab94f107a","node_id":"MDQ6QmxvYjIwNjM2NDoxYmE1MDBmYTcxODc3ZTE2NmFhOTJhOWM5YjViYTA0YWI5NGYxMDdh","size":3867,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1ba500fa71877e166aa92a9c9b5ba04ab94f107a","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuSGFzaHRhYmxl\nOwppbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIuY29uZi5QbHVnaW5WYWx1ZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIudXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRN\nYXA7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3Vy\ncmVudC5Db25jdXJyZW50SGFzaE1hcDsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIudXRpbC5QYXJzZUV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS51dGlsLkNhY2hlTWFwOwoKLyoqCiAqIEEgY2FjaGUgb2Yg\nY29tcGlsZWQgcXVlcmllcy4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICog\nQHNpbmNlIDAuOS42IChhbHNvIGV4aXN0ZWQgaW4gcHJpb3IgdmVyc2lvbnMg\nb2YgS29kbykKICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIFF1ZXJ5\nQ29tcGlsYXRpb25DYWNoZVZhbHVlCiAgICBleHRlbmRzIFBsdWdpblZhbHVl\nIHsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZ1tdIEFMSUFTRVMg\nPSB7CiAgICAgICAgInRydWUiLCBDYWNoZU1hcC5jbGFzcy5nZXROYW1lKCks\nCiAgICAgICAgImFsbCIsIENvbmN1cnJlbnRIYXNoTWFwLmNsYXNzLmdldE5h\nbWUoKSwKICAgICAgICAiZmFsc2UiLCBudWxsLAogICAgfTsKCiAgICBwdWJs\naWMgUXVlcnlDb21waWxhdGlvbkNhY2hlVmFsdWUoU3RyaW5nIHByb3ApIHsK\nICAgICAgICBzdXBlcihwcm9wLCB0cnVlKTsKICAgICAgICBzZXRBbGlhc2Vz\nKEFMSUFTRVMpOwogICAgICAgIHNldERlZmF1bHQoQUxJQVNFU1swXSk7CiAg\nICAgICAgc2V0Q2xhc3NOYW1lKEFMSUFTRVNbMV0pOwogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3QgbmV3SW5zdGFuY2UoU3RyaW5nIGNsc05hbWUsIENsYXNz\nIHR5cGUsCiAgICAgICAgQ29uZmlndXJhdGlvbiBjb25mLCBib29sZWFuIGZh\ndGFsKSB7CiAgICAgICAgLy8gbWFrZSBzdXJlIG1hcCBoYW5kbGVzIGNvbmN1\ncnJlbmN5CiAgICAgICAgTWFwIG1hcDsKICAgICAgICAKICAgICAgICB0cnkg\newogICAgICAgICAgICBtYXAgPSAoTWFwKSBzdXBlci5uZXdJbnN0YW5jZShj\nbHNOYW1lLCB0eXBlLCBjb25mLCBmYXRhbCk7CiAgICAgICAgfSBjYXRjaCAo\nUGFyc2VFeGNlcHRpb24gcGUpIHsKICAgICAgICAgICAgLy8gT1BFTkpQQTI1\nNjogdGhpcyBjbGFzcyBkaWZmZXJzIGZyb20gbW9zdCBwbHVnaW5zIGluIHRo\nYXQKICAgICAgICAgICAgLy8gdGhlIHBsdWdpbiB0eXBlIGlzIHRoZSBzdGFu\nZGFyZCBqYXZhIGludGVyZmFjZSBNYXAuY2xhc3MgKHJhdGhlcgogICAgICAg\nICAgICAvLyB0aGFuIGFuIG9wZW5qcGEtc3BlY2lmaWMgaW50ZXJmYWNlKSwg\nd2hpY2ggbWVhbnMgdGhhdCB0aGUKICAgICAgICAgICAgLy8gQ2xhc3NMb2Fk\nZXIgdXNlZCB0byBsb2FkIHRoZSBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHRo\nZSBzeXN0ZW0KICAgICAgICAgICAgLy8gY2xhc3MgbG9hZGVyOyB0aGlzIHBy\nZXNlbnRzIGEgcHJvYmxlbSBpZiBPcGVuSlBBIGlzIG5vdCBpbiB0aGUKICAg\nICAgICAgICAgLy8gc3lzdGVtIGNsYXNzcGF0aCwgc28gd29yayBhcm91bmQg\ndGhlIHByb2JsZW0gYnkgY2F0Y2hpbmcKICAgICAgICAgICAgLy8gdGhlIFBh\ncnNlRXhjZXB0aW9uICh3aGljaCBpcyB3aGF0IHdlIHdyYXAgdGhlCiAgICAg\nICAgICAgIC8vIENsYXNzTm90Rm91bmRFeGNlcHRpb24gaW4pIGFuZCB0cnkg\nYWdhaW4sIHRoaXMgdGltZSB1c2luZwogICAgICAgICAgICAvLyB0aGlzIGNs\nYXNzJyBDbGFzc0xvYWRlci4KICAgICAgICAgICAgbWFwID0gKE1hcCkgc3Vw\nZXIubmV3SW5zdGFuY2UoY2xzTmFtZSwKICAgICAgICAgICAgICAgIFF1ZXJ5\nQ29tcGlsYXRpb25DYWNoZVZhbHVlLmNsYXNzLCBjb25mLCBmYXRhbCk7CiAg\nICAgICAgfSBjYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlhZSkg\newogICAgICAgICAgICAvLyBPUEVOSlBBMjU2OiB0aGlzIGNsYXNzIGRpZmZl\ncnMgZnJvbSBtb3N0IHBsdWdpbnMgaW4gdGhhdAogICAgICAgICAgICAvLyB0\naGUgcGx1Z2luIHR5cGUgaXMgdGhlIHN0YW5kYXJkIGphdmEgaW50ZXJmYWNl\nIE1hcC5jbGFzcyAocmF0aGVyCiAgICAgICAgICAgIC8vIHRoYW4gYW4gb3Bl\nbmpwYS1zcGVjaWZpYyBpbnRlcmZhY2UpLCB3aGljaCBtZWFucyB0aGF0IHRo\nZQogICAgICAgICAgICAvLyBDbGFzc0xvYWRlciB1c2VkIHRvIGxvYWQgdGhl\nIGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdGhlIHN5c3RlbQogICAgICAgICAg\nICAvLyBjbGFzcyBsb2FkZXI7IHRoaXMgcHJlc2VudHMgYSBwcm9ibGVtIGlm\nIE9wZW5KUEEgaXMgbm90IGluIHRoZQogICAgICAgICAgICAvLyBzeXN0ZW0g\nY2xhc3NwYXRoLCBzbyB3b3JrIGFyb3VuZCB0aGUgcHJvYmxlbSBieSBjYXRj\naGluZwogICAgICAgICAgICAvLyB0aGUgSWxsZWdhbEFyZ3VtZW50RXhjZXB0\naW9uICh3aGljaCBpcyB3aGF0IHdlIHdyYXAgdGhlCiAgICAgICAgICAgIC8v\nIENsYXNzTm90Rm91bmRFeGNlcHRpb24gaW4pIGFuZCB0cnkgYWdhaW4sIHRo\naXMgdGltZSB1c2luZwogICAgICAgICAgICAvLyB0aGlzIGNsYXNzJyBDbGFz\nc0xvYWRlci4KICAgICAgICAgICAgbWFwID0gKE1hcCkgc3VwZXIubmV3SW5z\ndGFuY2UoY2xzTmFtZSwKICAgICAgICAgICAgICAgIFF1ZXJ5Q29tcGlsYXRp\nb25DYWNoZVZhbHVlLmNsYXNzLCBjb25mLCBmYXRhbCk7CiAgICAgICAgfQoK\nICAgICAgICBpZiAobWFwICE9IG51bGwgJiYgIShtYXAgaW5zdGFuY2VvZiBI\nYXNodGFibGUpCiAgICAgICAgICAgICYmICEobWFwIGluc3RhbmNlb2YgQ2Fj\naGVNYXApCiAgICAgICAgICAgICYmICEobWFwIGluc3RhbmNlb2YgQ29uY3Vy\ncmVudE1hcCkpCiAgICAgICAgICAgIG1hcCA9IENvbGxlY3Rpb25zLnN5bmNo\ncm9uaXplZE1hcChtYXApOwogICAgICAgIHJldHVybiBtYXA7Cgl9Cn0K\n","encoding":"base64"}

