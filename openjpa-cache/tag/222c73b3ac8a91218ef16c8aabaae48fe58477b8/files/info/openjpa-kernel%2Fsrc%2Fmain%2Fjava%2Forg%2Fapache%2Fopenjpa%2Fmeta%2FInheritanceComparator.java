{"sha":"0b9231b879e86c3403d5025eeeb5cdd63da35f99","node_id":"MDQ6QmxvYjIwNjM2NDowYjkyMzFiODc5ZTg2YzM0MDNkNTAyNWVlZWI1Y2RkNjNkYTM1Zjk5","size":2856,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0b9231b879e86c3403d5025eeeb5cdd63da35f99","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0IGphdmEudXRpbC5Db21wYXJhdG9y\nOwoKLyoqCiAqIENvbXBhcmF0b3IgdGhhdCBrZWVwcyBjbGFzc2VzIGluIGlu\naGVyaXRhbmNlIG9yZGVyLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBA\nbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgSW5oZXJpdGFuY2VDb21wYXJh\ndG9yCiAgICBpbXBsZW1lbnRzIENvbXBhcmF0b3IsIFNlcmlhbGl6YWJsZSB7\nCgogICAgcHJpdmF0ZSBDbGFzcyBfYmFzZSA9IE9iamVjdC5jbGFzczsKCiAg\nICAvKioKICAgICAqIFNldCB0aGUgbGVhc3QtZGVyaXZlZCB0eXBlIHBvc3Np\nYmxlOyBkZWZhdWx0cyB0byA8Y29kZT5udWxsPC9jb2RlPi4KICAgICAqLwog\nICAgcHVibGljIHZvaWQgc2V0QmFzZShDbGFzcyBiYXNlKSB7CiAgICAgICAg\nX2Jhc2UgPSBiYXNlOwogICAgfQoKICAgIHB1YmxpYyBDbGFzcyBnZXRCYXNl\nKCkgewogICAgICAgIHJldHVybiBfYmFzZTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFN1YmNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGV4\ndHJhY3QgdGhlIGNsYXNzIHRvIGNvbXBhcmUKICAgICAqIG9uIGZyb20gdGhl\nIGVsZW1lbnRzIG9mIHRoZSBjb2xsZWN0aW9uLgogICAgICovCiAgICBwcm90\nZWN0ZWQgQ2xhc3MgdG9DbGFzcyhPYmplY3QgZWxlbSkgewogICAgICAgIHJl\ndHVybiAoQ2xhc3MpIGVsZW07CiAgICB9CgogICAgcHVibGljIGludCBjb21w\nYXJlKE9iamVjdCBvMSwgT2JqZWN0IG8yKSB7CiAgICAgICAgaWYgKG8xID09\nIG8yKQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICBpZiAobzEgPT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIGlmIChvMiA9\nPSBudWxsKQogICAgICAgICAgICByZXR1cm4gMTsKCiAgICAgICAgQ2xhc3Mg\nYzEgPSB0b0NsYXNzKG8xKTsKICAgICAgICBDbGFzcyBjMiA9IHRvQ2xhc3Mo\nbzIpOwogICAgICAgIGlmIChjMSA9PSBjMikKICAgICAgICAgICAgcmV0dXJu\nIDA7CiAgICAgICAgaWYgKGMxID09IG51bGwpCiAgICAgICAgICAgIHJldHVy\nbiAtMTsKICAgICAgICBpZiAoYzIgPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIDE7CgogICAgICAgIGludCBpMSA9IGxldmVscyhjMSk7CiAgICAgICAg\naW50IGkyID0gbGV2ZWxzKGMyKTsKICAgICAgICBpZiAoaTEgPT0gaTIpIHsK\nICAgICAgICAgICAgLy8gc29ydCBzaW1wbGUgaW50ZXJmYWNlcyBhcyB3ZWxs\nIGFzIHNpbXBsZSBvcmRlciB0ZXN0IHdpbGwgZmFpbC4KICAgICAgICAgICAg\naWYgKGMxLmlzQXNzaWduYWJsZUZyb20oYzIpKQogICAgICAgICAgICAgICAg\ncmV0dXJuIC0xOwogICAgICAgICAgICBpZiAoYzIuaXNBc3NpZ25hYmxlRnJv\nbShjMSkpCiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAg\ncmV0dXJuIGMxLmdldE5hbWUoKS5jb21wYXJlVG8oYzIuZ2V0TmFtZSgpKTsK\nICAgICAgICB9CiAgICAgICAgaWYgKGkxIDwgaTIpCiAgICAgICAgICAgIHJl\ndHVybiAtMTsKICAgICAgICBlbHNlIGlmIChpMSA+IGkyKQogICAgICAgICAg\nICByZXR1cm4gMTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiAw\nOwogICAgfQoKICAgIC8qKgogICAgICogQ291bnQgdGhlIGxldmVscyBvZiBp\nbmhlcml0YW5jZSBiZXR3ZWVuIHRoaXMgY2xhc3MgYW5kIG91ciBiYXNlIGNs\nYXNzLgogICAgICovCiAgICBwcml2YXRlIGludCBsZXZlbHMoQ2xhc3MgdG8p\nIHsKICAgICAgICBpZiAodG8uaXNJbnRlcmZhY2UoKSkKICAgICAgICAgICAg\ncmV0dXJuIHRvLmdldEludGVyZmFjZXMoKS5sZW5ndGg7CiAgICAgICAgaWYg\nKF9iYXNlID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAg\nIGZvciAoaW50IGkgPSAwOyB0byAhPSBudWxsOyBpKyssIHRvID0gdG8uZ2V0\nU3VwZXJjbGFzcygpKQogICAgICAgICAgICBpZiAodG8gPT0gX2Jhc2UpCiAg\nICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICByZXR1cm4gSW50ZWdl\nci5NQVhfVkFMVUU7CiAgICB9Cn0K\n","encoding":"base64"}

