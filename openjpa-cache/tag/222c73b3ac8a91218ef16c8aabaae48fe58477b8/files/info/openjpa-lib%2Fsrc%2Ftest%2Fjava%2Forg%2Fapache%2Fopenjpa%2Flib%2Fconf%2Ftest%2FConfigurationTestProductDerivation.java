{"sha":"e06648dc6642844a5e502df682eb7213b41f2abc","node_id":"MDQ6QmxvYjIwNjM2NDplMDY2NDhkYzY2NDI4NDRhNWU1MDJkZjY4MmViNzIxM2I0MWYyYWJj","size":3602,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e06648dc6642844a5e502df682eb7213b41f2abc","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYudGVzdDsKCmlt\ncG9ydCBqYXZhLmlvLklucHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5JT0V4\nY2VwdGlvbjsKaW1wb3J0IGphdmEubmV0LlVSTDsKaW1wb3J0IGphdmEudXRp\nbC5NaXNzaW5nUmVzb3VyY2VFeGNlcHRpb247CmltcG9ydCBqYXZhLnV0aWwu\nUHJvcGVydGllczsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNv\nbmYuQWJzdHJhY3RQcm9kdWN0RGVyaXZhdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRpb25Qcm92aWRl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5NYXBDb25m\naWd1cmF0aW9uUHJvdmlkZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmNvbmYuUHJvZHVjdERlcml2YXRpb247CgovKioKICogQSBQcm9kdWN0\nIERlcml2YXRpb24gdG8gdGVzdCBsb2FkaW5nIG9mIGdsb2JhbCBhbmQgZGVm\nYXVsdCBjb25maWd1cmF0aW9uIHdpdGgKICogU3lzdGVtIHNldHRpbmdzLiAg\nUmVhZHMgaXRzIGdsb2JhbCBmcm9tIGEgZmlsZSBzcGVjaWZpZWQgYnkgCiAq\nIDxjb2RlPiJvcGVuanBhdGVzdC5wcm9wZXJ0aWVzIjwvY29kZT4gc3lzdGVt\nIHByb3BlcnR5LgogKgogKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICogQGF1\ndGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBDb25maWd1cmF0aW9u\nVGVzdFByb2R1Y3REZXJpdmF0aW9uIAogICAgZXh0ZW5kcyBBYnN0cmFjdFBy\nb2R1Y3REZXJpdmF0aW9uIHsKICAgIAogICAgcHVibGljIHN0YXRpYyBib29s\nZWFuIGNsb3NlZCA9IGZhbHNlOwoKICAgIHB1YmxpYyBpbnQgZ2V0VHlwZSgp\nIHsKICAgICAgICByZXR1cm4gUHJvZHVjdERlcml2YXRpb24uVFlQRV9QUk9E\nVUNUOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCBiZWZvcmVDb25maWd1\ncmF0aW9uQ2xvc2UoQ29uZmlndXJhdGlvbiBjb25mKSB7CiAgICAgICAgY2xv\nc2VkID0gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgQ29uZmlndXJhdGlvblBy\nb3ZpZGVyIGxvYWRHbG9iYWxzKENsYXNzTG9hZGVyIGxvYWRlcikKICAgICAg\nICB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVybiBsb2FkKG51\nbGwsIGxvYWRlcik7CiAgICB9CgogICAgcHVibGljIENvbmZpZ3VyYXRpb25Q\ncm92aWRlciBsb2FkKFN0cmluZyByc3JjLCBDbGFzc0xvYWRlciBsb2FkZXIp\nCiAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICBpZiAocnNy\nYyA9PSBudWxsKQogICAgICAgICAgICByc3JjID0gU3lzdGVtLmdldFByb3Bl\ncnR5KCJvcGVuanBhdGVzdC5wcm9wZXJ0aWVzIik7CiAgICAgICAgaWYgKHJz\ncmMgPT0gbnVsbCB8fCAhcnNyYy5lbmRzV2l0aCgiLnByb3BlcnRpZXMiKSkK\nICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgIFVSTCB1cmwgPSBm\naW5kUmVzb3VyY2UocnNyYywgbG9hZGVyKTsKICAgICAgICBpZiAodXJsID09\nIG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nUmVzb3VyY2VF\neGNlcHRpb24ocnNyYywgZ2V0Q2xhc3MoKS5nZXROYW1lKCksIAogICAgICAg\nICAgICAgICAgcnNyYyk7CgogICAgICAgIElucHV0U3RyZWFtIGluID0gdXJs\nLm9wZW5TdHJlYW0oKTsKICAgICAgICBQcm9wZXJ0aWVzIHByb3BzID0gbmV3\nIFByb3BlcnRpZXMoKTsKICAgICAgICBpZiAoaW4gIT0gbnVsbCkgewogICAg\nICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcHJvcHMubG9hZChpbik7\nCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1hcENvbmZpZ3VyYXRpb25Q\ncm92aWRlcihwcm9wcyk7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAg\nICAgICAgICAgICB0cnkgeyBpbi5jbG9zZSgpOyB9IGNhdGNoIChFeGNlcHRp\nb24gZSkge30KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1\ncm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIExvY2F0ZSB0aGUgZ2l2\nZW4gcmVzb3VyY2UuCiAgICAgKi8KICAgIHByaXZhdGUgVVJMIGZpbmRSZXNv\ndXJjZShTdHJpbmcgcnNyYywgQ2xhc3NMb2FkZXIgbG9hZGVyKQogICAgICAg\nIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgaWYgKGxvYWRlciAhPSBu\ndWxsKQogICAgICAgICAgICByZXR1cm4gbG9hZGVyLmdldFJlc291cmNlKHJz\ncmMpOwoKICAgICAgICAvLyBpbiBqYnVpbGRlciB0aGUgY2xhc3Nsb2FkZXIg\nY2FuIGJlIG51bGwKICAgICAgICBVUkwgdXJsID0gbnVsbDsKICAgICAgICBs\nb2FkZXIgPSBnZXRDbGFzcygpLmdldENsYXNzTG9hZGVyKCk7CiAgICAgICAg\naWYgKGxvYWRlciAhPSBudWxsKQogICAgICAgICAgICB1cmwgPSBsb2FkZXIu\nZ2V0UmVzb3VyY2UocnNyYyk7CiAgICAgICAgaWYgKHVybCA9PSBudWxsKSB7\nCiAgICAgICAgICAgIGxvYWRlciA9IFRocmVhZC5jdXJyZW50VGhyZWFkKCku\nZ2V0Q29udGV4dENsYXNzTG9hZGVyKCk7CiAgICAgICAgICAgIGlmIChsb2Fk\nZXIgIT0gbnVsbCkKICAgICAgICAgICAgICAgIHVybCA9IGxvYWRlci5nZXRS\nZXNvdXJjZShyc3JjKTsKICAgICAgICB9CiAgICAgICAgaWYgKHVybCA9PSBu\ndWxsKSB7CiAgICAgICAgICAgIGxvYWRlciA9IENsYXNzTG9hZGVyLmdldFN5\nc3RlbUNsYXNzTG9hZGVyKCk7CiAgICAgICAgICAgIGlmIChsb2FkZXIgIT0g\nbnVsbCkKICAgICAgICAgICAgICAgIHVybCA9IGxvYWRlci5nZXRSZXNvdXJj\nZShyc3JjKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHVybDsKICAgIH0K\nfQo=\n","encoding":"base64"}

