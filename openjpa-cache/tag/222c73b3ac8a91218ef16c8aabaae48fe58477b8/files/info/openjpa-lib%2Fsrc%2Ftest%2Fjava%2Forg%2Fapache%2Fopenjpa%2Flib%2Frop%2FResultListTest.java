{"sha":"915580982cc4ee4541b8212d33d8f51c2dc50ee5","node_id":"MDQ6QmxvYjIwNjM2NDo5MTU1ODA5ODJjYzRlZTQ1NDFiODIxMmQzM2Q4ZjUxYzJkYzUwZWU1","size":9632,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/915580982cc4ee4541b8212d33d8f51c2dc50ee5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnJvcDsKCmltcG9ydCBq\nYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkFycmF5czsK\naW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsKaW1wb3J0IGphdmEudXRp\nbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2\nYS51dGlsLkxpc3RJdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5Ob1N1Y2hF\nbGVtZW50RXhjZXB0aW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIudGVzdC5BYnN0cmFjdFRlc3RDYXNlOwoKLyoqCiAqIFRlc3RzIGZvciB7\nQGxpbmsgUmVzdWx0TGlzdH0gaW1wbGVtZW50YXRpb25zLgogKgogKiBAYXV0\naG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIFJlc3Vs\ndExpc3RUZXN0IGV4dGVuZHMgQWJzdHJhY3RUZXN0Q2FzZSB7CgogICAgcHJp\ndmF0ZSBSZXN1bHRMaXN0W10gX2xpc3RzID0gbnVsbDsKCiAgICBwcm90ZWN0\nZWQgYm9vbGVhbiBzdWJMaXN0U3VwcG9ydGVkID0gZmFsc2U7CiAgICAKICAg\nIHB1YmxpYyBSZXN1bHRMaXN0VGVzdChTdHJpbmcgdGVzdCkgewogICAgICAg\nIHN1cGVyKHRlc3QpOwogICAgfQogICAgCiAgICBwdWJsaWMgUmVzdWx0TGlz\ndFRlc3QoU3RyaW5nIHRlc3QsIGJvb2xlYW4gc3VwcG9ydFN1Ykxpc3QpIHsK\nICAgICAgICBzdXBlcih0ZXN0KTsKICAgICAgICBzdWJMaXN0U3VwcG9ydGVk\nID0gc3VwcG9ydFN1Ykxpc3Q7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1\ncm4gYSByZXN1bHQgbGlzdCB0byB1c2Ugd2l0aCB0aGUgZ2l2ZW4gcHJvdmlk\nZXIuCiAgICAgKi8KICAgIHByb3RlY3RlZCBhYnN0cmFjdCBSZXN1bHRMaXN0\nIGdldFJlc3VsdExpc3QoUmVzdWx0T2JqZWN0UHJvdmlkZXIgcHJvdmlkZXIp\nOwoKICAgIC8qKgogICAgICogT3ZlcnJpZGUgdG8gY3VzdG9taXplIHRoZSBy\nZXN1bHQgb2JqZWN0IHByb3ZpZGVyIGJlaW5nIHVzZWQuIFlvdQogICAgICog\nY2FuIHJldHVybiBtdWx0aXBsZSBwcm92aWRlcnMgdG8gdGVzdCB3aXRoIGVh\nY2guCiAgICAgKi8KICAgIHByb3RlY3RlZCBSZXN1bHRPYmplY3RQcm92aWRl\ncltdIGdldFJlc3VsdE9iamVjdFByb3ZpZGVycyhMaXN0IGxpc3QpIHsKICAg\nICAgICByZXR1cm4gbmV3IFJlc3VsdE9iamVjdFByb3ZpZGVyW117CiAgICAg\nICAgICAgIG5ldyBMaXN0UmVzdWx0T2JqZWN0UHJvdmlkZXIobGlzdCkKICAg\nICAgICB9OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAg\nICAgIExpc3QgcmVzdWx0cyA9IG5ldyBBcnJheUxpc3QoMTAwKTsKICAgICAg\nICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDsgaSsrKQogICAgICAgICAgICBy\nZXN1bHRzLmFkZChTdHJpbmcudmFsdWVPZihpKSk7CiAgICAgICAgUmVzdWx0\nT2JqZWN0UHJvdmlkZXJbXSByb3BzID0gZ2V0UmVzdWx0T2JqZWN0UHJvdmlk\nZXJzKHJlc3VsdHMpOwogICAgICAgIF9saXN0cyA9IG5ldyBSZXN1bHRMaXN0\nW3JvcHMubGVuZ3RoXTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9s\naXN0cy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgX2xpc3RzW2ldID0gZ2V0\nUmVzdWx0TGlzdChyb3BzW2ldKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZXN0SXRlcmF0b3IoKSB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBf\nbGlzdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgSXRlcmF0b3IgaXRy\nID0gX2xpc3RzW2ldLml0ZXJhdG9yKCk7CiAgICAgICAgICAgIGludCBjb3Vu\ndCA9IDA7CiAgICAgICAgICAgIGZvciAoOyBpdHIuaGFzTmV4dCgpOyBjb3Vu\ndCsrKQogICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKFN0cmluZy52YWx1\nZU9mKGNvdW50KSwgaXRyLm5leHQoKSk7CiAgICAgICAgICAgIGFzc2VydEVx\ndWFscygxMDAsIGNvdW50KTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgICAgIGl0ci5uZXh0KCk7CiAgICAgICAgICAgICAgICBmYWlsKCJBZnRl\nciBsYXN0LiIpOwogICAgICAgICAgICB9IGNhdGNoIChJbmRleE91dE9mQm91\nbmRzRXhjZXB0aW9uIGlvb2IpIHsKICAgICAgICAgICAgfSBjYXRjaCAoTm9T\ndWNoRWxlbWVudEV4Y2VwdGlvbiBuc2UpIHsKICAgICAgICAgICAgfQogICAg\nICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0SXRlcmF0b3JNb2Rp\nZmljYXRpb24oKSB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbGlz\ndHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgICAgIEl0ZXJhdG9yIGl0ciA9IF9saXN0c1tpXS5pdGVyYXRvcigpOwog\nICAgICAgICAgICAgICAgaXRyLm5leHQoKTsKICAgICAgICAgICAgICAgIGl0\nci5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIGZhaWwoIkFsbG93ZWQgbW9k\naWZpY2F0aW9uLiIpOwogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24g\nZSkgewogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RMaXN0SXRlcmF0b3JGb3J3YXJkKCkgewogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgX2xpc3RzLmxlbmd0aDsgaSsrKSB7CiAgICAg\nICAgICAgIExpc3RJdGVyYXRvciBpdHIgPSBfbGlzdHNbaV0ubGlzdEl0ZXJh\ndG9yKCk7CiAgICAgICAgICAgIGludCBjb3VudCA9IDA7CiAgICAgICAgICAg\nIGZvciAoOyBpdHIuaGFzTmV4dCgpOyBjb3VudCsrKSB7CiAgICAgICAgICAg\nICAgICBhc3NlcnRFcXVhbHMoY291bnQsIGl0ci5uZXh0SW5kZXgoKSk7CiAg\nICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoU3RyaW5nLnZhbHVlT2YoY291\nbnQpLCBpdHIubmV4dCgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBh\nc3NlcnRFcXVhbHMoMTAwLCBjb3VudCk7CiAgICAgICAgICAgIHRyeSB7CiAg\nICAgICAgICAgICAgICBpdHIubmV4dCgpOwogICAgICAgICAgICAgICAgZmFp\nbCgiQWZ0ZXIgbGFzdC4iKTsKICAgICAgICAgICAgfSBjYXRjaCAoSW5kZXhP\ndXRPZkJvdW5kc0V4Y2VwdGlvbiBpb29iKSB7CiAgICAgICAgICAgIH0gY2F0\nY2ggKE5vU3VjaEVsZW1lbnRFeGNlcHRpb24gbnNlKSB7CiAgICAgICAgICAg\nIH0KICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdExpc3RJ\ndGVyYXRvckluZGV4KCkgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\nX2xpc3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIExpc3RJdGVyYXRv\nciBpdHIgPSBfbGlzdHNbaV0ubGlzdEl0ZXJhdG9yKDUwKTsKICAgICAgICAg\nICAgaW50IGNvdW50ID0gNTA7CiAgICAgICAgICAgIGZvciAoOyBpdHIuaGFz\nTmV4dCgpOyBjb3VudCsrKSB7CiAgICAgICAgICAgICAgICBhc3NlcnRFcXVh\nbHMoY291bnQsIGl0ci5uZXh0SW5kZXgoKSk7CiAgICAgICAgICAgICAgICBh\nc3NlcnRFcXVhbHMoU3RyaW5nLnZhbHVlT2YoY291bnQpLCBpdHIubmV4dCgp\nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMTAw\nLCBjb3VudCk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBp\ndHIubmV4dCgpOwogICAgICAgICAgICAgICAgZmFpbCgiQWZ0ZXIgbGFzdC4i\nKTsKICAgICAgICAgICAgfSBjYXRjaCAoSW5kZXhPdXRPZkJvdW5kc0V4Y2Vw\ndGlvbiBpb29iKSB7CiAgICAgICAgICAgIH0gY2F0Y2ggKE5vU3VjaEVsZW1l\nbnRFeGNlcHRpb24gbnNlKSB7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdExpc3RJdGVyYXRvclJldmVyc2Uo\nKSB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbGlzdHMubGVuZ3Ro\nOyBpKyspIHsKICAgICAgICAgICAgTGlzdEl0ZXJhdG9yIGl0ciA9IF9saXN0\nc1tpXS5saXN0SXRlcmF0b3IoMTAwKTsKICAgICAgICAgICAgaW50IGNvdW50\nID0gOTk7CiAgICAgICAgICAgIGZvciAoOyBpdHIuaGFzUHJldmlvdXMoKTsg\nY291bnQtLSkgewogICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGNvdW50\nLCBpdHIucHJldmlvdXNJbmRleCgpKTsKICAgICAgICAgICAgICAgIGFzc2Vy\ndEVxdWFscyhTdHJpbmcudmFsdWVPZihjb3VudCksIGl0ci5wcmV2aW91cygp\nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBhc3NlcnRFcXVhbHMoLTEs\nIGNvdW50KTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGl0\nci5wcmV2aW91cygpOwogICAgICAgICAgICAgICAgZmFpbCgiQmVmb3JlIGZp\ncnN0LiIpOwogICAgICAgICAgICB9IGNhdGNoIChJbmRleE91dE9mQm91bmRz\nRXhjZXB0aW9uIGlvb2IpIHsKICAgICAgICAgICAgfSBjYXRjaCAoTm9TdWNo\nRWxlbWVudEV4Y2VwdGlvbiBuc2UpIHsKICAgICAgICAgICAgfQogICAgICAg\nIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TGlzdEl0ZXJhdG9yTW9k\naWZpY2F0aW9uKCkgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xp\nc3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAg\nICAgICAgICBMaXN0SXRlcmF0b3IgaXRyID0gX2xpc3RzW2ldLmxpc3RJdGVy\nYXRvcigpOwogICAgICAgICAgICAgICAgaXRyLm5leHQoKTsKICAgICAgICAg\nICAgICAgIGl0ci5zZXQoImZvbyIpOwogICAgICAgICAgICAgICAgZmFpbCgi\nQWxsb3dlZCBtb2RpZmljYXRpb24uIik7CiAgICAgICAgICAgIH0gY2F0Y2gg\nKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdE11bHRpcGxlSXRlcmF0aW9ucygpIHsK\nICAgICAgICB0ZXN0TGlzdEl0ZXJhdG9ySW5kZXgoKTsKICAgICAgICB0ZXN0\nTGlzdEl0ZXJhdG9yRm9yd2FyZCgpOwogICAgICAgIHRlc3RMaXN0SXRlcmF0\nb3JSZXZlcnNlKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdENvbnRh\naW5zKCkgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xpc3RzLmxl\nbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFzc2VydFRydWUoX2xpc3RzW2ld\nLmNvbnRhaW5zKCIwIikpOwogICAgICAgICAgICBhc3NlcnRUcnVlKF9saXN0\nc1tpXS5jb250YWlucygiNTAiKSk7CiAgICAgICAgICAgIGFzc2VydFRydWUo\nX2xpc3RzW2ldLmNvbnRhaW5zKCI5OSIpKTsKICAgICAgICAgICAgYXNzZXJ0\nRmFsc2UoX2xpc3RzW2ldLmNvbnRhaW5zKCItMSIpKTsKICAgICAgICAgICAg\nYXNzZXJ0RmFsc2UoX2xpc3RzW2ldLmNvbnRhaW5zKCIxMDAiKSk7CiAgICAg\nICAgICAgIGFzc2VydEZhbHNlKF9saXN0c1tpXS5jb250YWlucyhudWxsKSk7\nCiAgICAgICAgICAgIGFzc2VydFRydWUoX2xpc3RzW2ldLmNvbnRhaW5zQWxs\nKEFycmF5cy5hc0xpc3QobmV3IFN0cmluZ1tdCiAgICAgICAgICAgICAgICB7\nICIwIiwgIjUwIiwgIjk5IiB9KSkpOwogICAgICAgICAgICBhc3NlcnRGYWxz\nZShfbGlzdHNbaV0uY29udGFpbnNBbGwoQXJyYXlzLmFzTGlzdChuZXcgU3Ry\naW5nW10KICAgICAgICAgICAgICAgIHsgIjAiLCAiLTEiLCAiOTkiIH0pKSk7\nCiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RNb2RpZmlj\nYXRpb24oKSB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbGlzdHMu\nbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\nICAgIF9saXN0c1tpXS5hZGQoImZvbyIpOwogICAgICAgICAgICAgICAgZmFp\nbCgiQWxsb3dlZCBtb2RpZmljYXRpb24uIik7CiAgICAgICAgICAgIH0gY2F0\nY2ggKFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uIHVvZSkgewogICAg\nICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBf\nbGlzdHNbaV0ucmVtb3ZlKCIxIik7CiAgICAgICAgICAgICAgICBmYWlsKCJB\nbGxvd2VkIG1vZGlmaWNhdGlvbi4iKTsKICAgICAgICAgICAgfSBjYXRjaCAo\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24gdW9lKSB7CiAgICAgICAg\nICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIF9saXN0\nc1tpXS5zZXQoMCwgImZvbyIpOwogICAgICAgICAgICAgICAgZmFpbCgiQWxs\nb3dlZCBtb2RpZmljYXRpb24uIik7CiAgICAgICAgICAgIH0gY2F0Y2ggKFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uIHVvZSkgewogICAgICAgICAg\nICB9CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRC\nZWdpbigpIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9saXN0cy5s\nZW5ndGg7IGkrKykgewogICAgICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8\nIDEwOyBqKyspCiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoU3RyaW5n\nLnZhbHVlT2YoaiksIF9saXN0c1tpXS5nZXQoaikpOwogICAgICAgICAgICB0\ncnkgewogICAgICAgICAgICAgICAgX2xpc3RzW2ldLmdldCgtMSk7CiAgICAg\nICAgICAgICAgICBmYWlsKCJCZWZvcmUgYmVnaW4uIik7CiAgICAgICAgICAg\nIH0gY2F0Y2ggKEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24gaW9vYikgewog\nICAgICAgICAgICB9IGNhdGNoIChOb1N1Y2hFbGVtZW50RXhjZXB0aW9uIG5z\nZSkgewogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RHZXRNaWRkbGUoKSB7CiAgICAgICAgZm9yIChpbnQgaSA9\nIDA7IGkgPCBfbGlzdHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGZvciAo\naW50IGogPSA1MDsgaiA8IDYwOyBqKyspCiAgICAgICAgICAgICAgICBhc3Nl\ncnRFcXVhbHMoU3RyaW5nLnZhbHVlT2YoaiksIF9saXN0c1tpXS5nZXQoaikp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRFbmQoKSB7CiAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbGlzdHMubGVuZ3RoOyBpKyspIHsK\nICAgICAgICAgICAgZm9yIChpbnQgaiA9IDkwOyBqIDwgMTAwOyBqKyspCiAg\nICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoU3RyaW5nLnZhbHVlT2Yoaiks\nIF9saXN0c1tpXS5nZXQoaikpOwogICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgX2xpc3RzW2ldLmdldCgxMDApOwogICAgICAgICAgICAgICAg\nZmFpbCgiUGFzdCBlbmQuIik7CiAgICAgICAgICAgIH0gY2F0Y2ggKEluZGV4\nT3V0T2ZCb3VuZHNFeGNlcHRpb24gaW9vYikgewogICAgICAgICAgICB9IGNh\ndGNoIChOb1N1Y2hFbGVtZW50RXhjZXB0aW9uIG5zZSkgewogICAgICAgICAg\nICB9CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRS\nZXZlcnNlKCkgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xpc3Rz\nLmxlbmd0aDsgaSsrKQogICAgICAgICAgICBmb3IgKGludCBqID0gOTk7IGog\nPiAtMTsgai0tKQogICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKFN0cmlu\nZy52YWx1ZU9mKGopLCBfbGlzdHNbaV0uZ2V0KGopKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0TXVsdGlwbGVHZXQoKSB7CiAgICAgICAgdGVzdEdl\ndE1pZGRsZSgpOwogICAgICAgIHRlc3RHZXRCZWdpbigpOwogICAgICAgIHRl\nc3RHZXRFbmQoKTsKCiAgICAgICAgLy8gdGFrZSBsaXN0IHNpemUgYW5kIHRy\nYXZlcnNlIGxpc3QgdG8gY2FjaGUgdmFsdWVzIGlmIG5vdCBhbHJlYWR5CiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbGlzdHMubGVuZ3RoOyBpKysp\nCiAgICAgICAgICAgIF9saXN0c1tpXS5zaXplKCk7CiAgICAgICAgdGVzdExp\nc3RJdGVyYXRvckZvcndhcmQoKTsKCiAgICAgICAgdGVzdEdldE1pZGRsZSgp\nOwogICAgICAgIHRlc3RHZXRCZWdpbigpOwogICAgICAgIHRlc3RHZXRFbmQo\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2l6ZSgpIHsKICAgICAg\nICBmb3IgKGludCBpID0gMDsgaSA8IF9saXN0cy5sZW5ndGg7IGkrKykKICAg\nICAgICAgICAgYXNzZXJ0VHJ1ZShfbGlzdHNbaV0uc2l6ZSgpID09IDEwMAog\nICAgICAgICAgICAgICAgfHwgX2xpc3RzW2ldLnNpemUoKSA9PSBJbnRlZ2Vy\nLk1BWF9WQUxVRSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVtcHR5\nKCkgewogICAgICAgIFJlc3VsdE9iamVjdFByb3ZpZGVyW10gcm9wcyA9IGdl\ndFJlc3VsdE9iamVjdFByb3ZpZGVycwogICAgICAgICAgICAoQ29sbGVjdGlv\nbnMuRU1QVFlfTElTVCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBy\nb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIFJlc3VsdExpc3QgbGlz\ndCA9IGdldFJlc3VsdExpc3Qocm9wc1tpXSk7CiAgICAgICAgICAgIGFzc2Vy\ndEVxdWFscygwLCBsaXN0LnNpemUoKSk7CiAgICAgICAgICAgIGFzc2VydFRy\ndWUobGlzdC5pc0VtcHR5KCkpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0U3ViTGlzdCgpIHsKICAgICAgICBSZXN1bHRPYmplY3RQ\ncm92aWRlcltdIHJvcHMgPSBnZXRSZXN1bHRPYmplY3RQcm92aWRlcnMKICAg\nICAgICAgICAgKENvbGxlY3Rpb25zLkVNUFRZX0xJU1QpOwogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgcm9wcy5sZW5ndGg7IGkrKykgewogICAgICAg\nICAgICBSZXN1bHRMaXN0IGxpc3QgPSBnZXRSZXN1bHRMaXN0KHJvcHNbaV0p\nOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgTGlzdCBzdWJM\naXN0ID0gbGlzdC5zdWJMaXN0KDAsIDApOwogICAgICAgICAgICAgICAgaWYg\nKHN1Ykxpc3RTdXBwb3J0ZWQgPT0gZmFsc2UpCiAgICAgICAgICAgICAgICAg\nICAgZmFpbCgiU2hvdWxkIG5vdCBzdXBwb3J0IHN1Ykxpc3QuIik7CiAgICAg\nICAgICAgIH0gY2F0Y2ggKFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgICAgIGlmIChzdWJMaXN0U3VwcG9ydGVkID09\nIHRydWUpCiAgICAgICAgICAgICAgICAgICAgZmFpbCgiU2hvdWxkIHN1cHBv\ncnQgc3ViTGlzdC4iKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0K\nfQo=\n","encoding":"base64"}

