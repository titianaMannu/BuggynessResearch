{"sha":"2ca371885c908f1027dcafafb364c7777cc1bda5","node_id":"MDQ6QmxvYjIwNjM2NDoyY2EzNzE4ODVjOTA4ZjEwMjdkY2FmYWZiMzY0Yzc3NzdjYzFiZGE1","size":4895,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2ca371885c908f1027dcafafb364c7777cc1bda5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbDsKCmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwoKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RD\nYXNlOwoKLyoqCiAqIFRlc3QgdGhhdCBzcWwgc3RhdGVtZW50cyBnZXQgZmx1\nc2hlZCBpbiBhbiBvcmRlciB3aGljaCBkb2VzIG5vdCB2aW9sYXRlCiAqIG5v\nbi1udWxsYWJsZSBmb3JlaWduIGtleSBjb25zdHJhaW50cyBvbiBpbnNlcnRz\nIGFuZCBkZWxldGVzLgogKgogKiBAYXV0aG9yIFJlZWNlIEdhcnJldHQKICov\nCnB1YmxpYyBjbGFzcyBUZXN0Tm9Gb3JlaWduS2V5VmlvbGF0aW9uCiAgICBl\neHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsKCiAgICBwcml2YXRlIEVudGl0\neUEgZW50aXR5QTsKICAgIHByaXZhdGUgRW50aXR5QiBlbnRpdHlCOwogICAg\ncHJpdmF0ZSBFbnRpdHlDIGVudGl0eUM7CiAgICBwcml2YXRlIEVudGl0eUQg\nZW50aXR5RDsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBz\nZXRVcChFbnRpdHlBLmNsYXNzLCBFbnRpdHlCLmNsYXNzLCBFbnRpdHlDLmNs\nYXNzLCBFbnRpdHlELmNsYXNzLCBFbnRpdHlFLmNsYXNzKTsKCiAgICAgICAg\nY3JlYXRlVGVzdERhdGEoKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgY3Jl\nYXRlVGVzdERhdGEoKSB7CiAgICAgICAgZW50aXR5QSA9IG5ldyBFbnRpdHlB\nKCk7CiAgICAgICAgZW50aXR5QiA9IG5ldyBFbnRpdHlCKCk7CiAgICAgICAg\nZW50aXR5QyA9IG5ldyBFbnRpdHlDKCk7CiAgICAgICAgZW50aXR5RCA9IG5l\ndyBFbnRpdHlEKCk7CiAgICAgICAgZW50aXR5QS5zZXROYW1lKCJlbnRpdHlB\nIik7CiAgICAgICAgZW50aXR5Qi5zZXROYW1lKCJlbnRpdHlCIik7CiAgICAg\nICAgZW50aXR5Qy5zZXROYW1lKCJlbnRpdHlDIik7CiAgICAgICAgZW50aXR5\nRC5zZXROYW1lKCJlbnRpdHlEIik7CiAgICAgICAgZW50aXR5QS5zZXRFbnRp\ndHlCKGVudGl0eUIpOwogICAgICAgIGVudGl0eUIuc2V0RW50aXR5QyhlbnRp\ndHlDKTsKICAgICAgICBlbnRpdHlDLnNldEVudGl0eUQoZW50aXR5RCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNxbE9yZGVyKCkgewogICAgICAg\nIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuYmVnaW4oKTsKICAgICAgICAgICAgZW0ucGVyc2lzdChlbnRpdHlBKTsK\nICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAg\nICAgICAgICAgIEVudGl0eUQgbmV3RW50aXR5RCA9IG5ldyBFbnRpdHlEKCk7\nCiAgICAgICAgICAgIG5ld0VudGl0eUQuc2V0TmFtZSgibmV3RW50aXR5RCIp\nOwogICAgICAgICAgICBlbnRpdHlDLnNldEVudGl0eUQobmV3RW50aXR5RCk7\nCgogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAg\nICAgICAgICAgIGVtLm1lcmdlKGVudGl0eUMpOwogICAgICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwoKICAgICAgICAgICAgRW50aXR5\nQyBuZXdFbnRpdHlDID0gbmV3IEVudGl0eUMoKTsKICAgICAgICAgICAgbmV3\nRW50aXR5Qy5zZXROYW1lKCJuZXdFbnRpdHlDIik7CiAgICAgICAgICAgIG5l\nd0VudGl0eUQgPSBuZXcgRW50aXR5RCgpOwogICAgICAgICAgICBuZXdFbnRp\ndHlELnNldE5hbWUoIm5ld05ld0VudGl0eUQiKTsKICAgICAgICAgICAgbmV3\nRW50aXR5Qy5zZXRFbnRpdHlEKG5ld0VudGl0eUQpOwogICAgICAgICAgICBl\nbnRpdHlCLnNldEVudGl0eUMobmV3RW50aXR5Qyk7CgogICAgICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgICAgIGVtLm1l\ncmdlKGVudGl0eUIpOwogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigp\nLmNvbW1pdCgpOwogICAgICAgIH0KICAgICAgICBmaW5hbGx5IHsKICAgICAg\nICAgICAgaWYgKGVtLmdldFRyYW5zYWN0aW9uKCkuaXNBY3RpdmUoKSkKICAg\nICAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkucm9sbGJhY2soKTsK\nICAgICAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICB9CiAgICB9CiAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RTaW1wbGVDeWNsZSgpIHsKICAgICAgICBF\nbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsK\nICAgICAgICB0cnkgewogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigp\nLmJlZ2luKCk7CiAgICAgICAgICAgIGVudGl0eUQuc2V0RW50aXR5QShlbnRp\ndHlBKTsKICAgICAgICAgICAgZW0ucGVyc2lzdChlbnRpdHlBKTsKICAgICAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICB9\nCiAgICAgICAgZmluYWxseSB7CiAgICAgICAgICAgIGlmIChlbS5nZXRUcmFu\nc2FjdGlvbigpLmlzQWN0aXZlKCkpCiAgICAgICAgICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLnJvbGxiYWNrKCk7CiAgICAgICAgICAgIGVtLmNsb3Nl\nKCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nQ29tcGxleEN5Y2xlKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBl\nbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIEVudGl0eUUgZW50aXR5RSA9IG5ldyBFbnRpdHlFKCk7CiAgICAg\nICAgICAgIGVudGl0eUUuc2V0TmFtZSgiZW50aXR5RSIpOwogICAgICAgICAg\nICBlbnRpdHlFLnNldEVudGl0eUIoZW50aXR5Qik7CgogICAgICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgICAgIGVtLnBl\ncnNpc3QoZW50aXR5RSk7CiAgICAgICAgICAgIGVudGl0eUQuc2V0RW50aXR5\nQShlbnRpdHlBKTsKICAgICAgICAgICAgZW0ucGVyc2lzdChlbnRpdHlBKTsK\nICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAg\nICAgICAgICAgCiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKICAgICAgICAgICAgZW0ucmVtb3ZlKGVudGl0eUUpOwogICAgICAg\nICAgICBlbS5yZW1vdmUoZW50aXR5QSk7CiAgICAgICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgfQogICAgICAgIGZpbmFs\nbHkgewogICAgICAgICAgICBpZiAoZW0uZ2V0VHJhbnNhY3Rpb24oKS5pc0Fj\ndGl2ZSgpKQogICAgICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5y\nb2xsYmFjaygpOwogICAgICAgICAgICBlbS5jbG9zZSgpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29tcGxleFR3b0N5Y2xlcygp\nIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBFbnRpdHlF\nIGVudGl0eUUgPSBuZXcgRW50aXR5RSgpOwogICAgICAgICAgICBlbnRpdHlF\nLnNldE5hbWUoImVudGl0eUUiKTsKICAgICAgICAgICAgZW50aXR5RS5zZXRF\nbnRpdHlCKGVudGl0eUIpOwoKICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rp\nb24oKS5iZWdpbigpOwogICAgICAgICAgICBlbS5wZXJzaXN0KGVudGl0eUUp\nOwogICAgICAgICAgICBlbnRpdHlELnNldEVudGl0eUEoZW50aXR5QSk7CiAg\nICAgICAgICAgIGVudGl0eUQuc2V0RW50aXR5QihlbnRpdHlCKTsKICAgICAg\nICAgICAgZW0ucGVyc2lzdChlbnRpdHlBKTsKICAgICAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICAgICAgCiAgICAgICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICAgICAg\nZW0ucmVtb3ZlKGVudGl0eUUpOwogICAgICAgICAgICBlbS5yZW1vdmUoZW50\naXR5QSk7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0\nKCk7CiAgICAgICAgfQogICAgICAgIGZpbmFsbHkgewogICAgICAgICAgICBp\nZiAoZW0uZ2V0VHJhbnNhY3Rpb24oKS5pc0FjdGl2ZSgpKQogICAgICAgICAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5yb2xsYmFjaygpOwogICAgICAg\nICAgICBlbS5jbG9zZSgpOwogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

