{"sha":"ac0da4bbc9dbd9e55d70412c8af1acea1ab0fe16","node_id":"MDQ6QmxvYjIwNjM2NDphYzBkYTRiYmM5ZGJkOWU1NWQ3MDQxMmM4YWYxYWNlYTFhYjBmZTE2","size":3755,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ac0da4bbc9dbd9e55d70412c8af1acea1ab0fe16","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5hbm5vdGF0aW9u\nczsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5T\nZXQ7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuTXlTUUxEaWN0aW9uYXJ5Owpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU2lu\nZ2xlRU1GVGVzdENhc2U7CgovKioKICogVGVzdCBmb3IgUGVyc2lzdGVudENv\nbGxlY3Rpb24gQW5ub3RhdGlvbgogKiAKICogQGF1dGhvciBBbGJlcnQgTGVl\nCiAqLwpwdWJsaWMgY2xhc3MgVGVzdFBlcnNpc3RlbnRDb2xsZWN0aW9uIGV4\ndGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoKICAgIHB1YmxpYyB2b2lkIHNl\ndFVwKCkgewogICAgICAgIHNldFVwKFBDb2xsX0VudGl0eUEuY2xhc3MsIFBD\nb2xsX0VtYmVkQi5jbGFzcywgUENvbGxfRW50aXR5Qy5jbGFzcywKICAgICAg\nICAgICAgICAgIFBDb2xsX0VudGl0eUExLmNsYXNzLCBQQ29sbF9FbnRpdHlC\nLmNsYXNzLCBDTEVBUl9UQUJMRVMpOwogICAgICAgIAogICAgICAgIERCRGlj\ndGlvbmFyeSBkaWN0ID0gZ2V0REJEaWN0aW9uYXJ5KGVtZik7CiAgICAgICAg\naWYoZGljdCBpbnN0YW5jZW9mIE15U1FMRGljdGlvbmFyeSkgeyAKICAgICAg\nICAgICAgKChNeVNRTERpY3Rpb25hcnkpIGRpY3QpLmRyaXZlckRlc2VyaWFs\naXplc0Jsb2JzPWZhbHNlOyAKICAgICAgICB9CiAgICB9CgogICAgQFN1cHBy\nZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nUGVyc2lzdGVudENvbGxlY3Rpb25PZkVtYmVkZGFibGVzKCkgewogICAgICAg\nIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOwoKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CgogICAg\nICAgIFBDb2xsX0VudGl0eUMgYyA9IG5ldyBQQ29sbF9FbnRpdHlDKCk7CiAg\nICAgICAgYy5zZXRJZCgxMDEpOwoKICAgICAgICBQQ29sbF9FbWJlZEIgYjAx\nID0gbmV3IFBDb2xsX0VtYmVkQigpOwogICAgICAgIGIwMS5zZXROYW1lKCJi\nMDEiKTsKICAgICAgICBiMDEuc2V0TTJvQyhjKTsKCiAgICAgICAgUENvbGxf\nRW50aXR5QSBhID0gbmV3IFBDb2xsX0VudGl0eUEoKTsKICAgICAgICBhLnNl\ndElkKDEpOwogICAgICAgIGEuZ2V0RW1iZWRDb2xsZWN0aW9uKCkuYWRkKGIw\nMSk7CiAgICAgICAgZW0ucGVyc2lzdChhKTsKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7CgogICAg\nICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBR\ndWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCBvIEZST00gUENvbGxf\nRW50aXR5QSBvIik7CiAgICAgICAgTGlzdDxQQ29sbF9FbnRpdHlBPiBvTGlz\ndCA9IHEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIFBDb2xsX0VudGl0eUEg\nZDEgPSBvTGlzdC5nZXQoMCk7CgogICAgICAgIFNldDxQQ29sbF9FbWJlZEI+\nIGIxcyA9IGQxLmdldEVtYmVkQ29sbGVjdGlvbigpOwoKICAgICAgICBQQ29s\nbF9FbWJlZEIgYjEgPSBiMXMuaXRlcmF0b3IoKS5uZXh0KCk7CiAgICAgICAg\nUENvbGxfRW50aXR5QyBjMSA9IGIxLmdldE0yb0MoKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoImIwMSIsIGIxLmdldE5hbWUoKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEwMSwgYzEuZ2V0SWQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDEsIGQxLmdldElkKCkpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9Cgog\nICAgQFN1cHByZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0UGVyc2lzdGVudENvbGxlY3Rpb25PZkVudGl0aWVzKCkgewog\nICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFu\nYWdlcigpOwoKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7\nCgogICAgICAgIFBDb2xsX0VudGl0eUMgYyA9IG5ldyBQQ29sbF9FbnRpdHlD\nKCk7CiAgICAgICAgYy5zZXRJZCgxMDEpOwoKICAgICAgICBQQ29sbF9FbnRp\ndHlCIGIwMSA9IG5ldyBQQ29sbF9FbnRpdHlCKCk7CiAgICAgICAgYjAxLnNl\ndE5hbWUoImIwMSIpOwogICAgICAgIGIwMS5zZXRNMm9DKGMpOwoKICAgICAg\nICBQQ29sbF9FbnRpdHlBMSBhID0gbmV3IFBDb2xsX0VudGl0eUExKCk7CiAg\nICAgICAgYS5zZXRJZCgxKTsKICAgICAgICBhLmdldEVtYmVkQ29sbGVjdGlv\nbigpLmFkZChiMDEpOwogICAgICAgIGVtLnBlcnNpc3QoYSk7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5jbG9z\nZSgpOwoKICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgbyBG\nUk9NIFBDb2xsX0VudGl0eUExIG8iKTsgCiAgICAgICAgTGlzdDxQQ29sbF9F\nbnRpdHlBMT4gb0xpc3QgPSBxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBQ\nQ29sbF9FbnRpdHlBMSBhMSA9IG9MaXN0LmdldCgwKTsKCiAgICAgICAgU2V0\nPFBDb2xsX0VudGl0eUI+IGIxcyA9IGExLmdldEVtYmVkQ29sbGVjdGlvbigp\nOwoKICAgICAgICBQQ29sbF9FbnRpdHlCIGIxID0gYjFzLml0ZXJhdG9yKCku\nbmV4dCgpOwogICAgICAgIFBDb2xsX0VudGl0eUMgYzEgPSBiMS5nZXRNMm9D\nKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJiMDEiLCBiMS5nZXROYW1lKCkp\nOwogICAgICAgIGFzc2VydEVxdWFscygxMDEsIGMxLmdldElkKCkpOwogICAg\nICAgIGFzc2VydEVxdWFscygxLCBhMS5nZXRJZCgpKTsKICAgICAgICBlbS5j\nbG9zZSgpOwogICAgfSAgICAKfQo=\n","encoding":"base64"}

