{"sha":"57e9fdfb3b940207b94ec8d605f7797cb5946392","node_id":"MDQ6QmxvYjIwNjM2NDo1N2U5ZmRmYjNiOTQwMjA3Yjk0ZWM4ZDYwNWY3Nzk3Y2I1OTQ2Mzky","size":4086,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/57e9fdfb3b940207b94ec8d605f7797cb5946392","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5Mb2NrTW9kZVR5cGU7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5PcHRpbWlzdGljTG9ja0V4Y2VwdGlvbjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlJvbGxiYWNrRXhjZXB0aW9uOwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5KUEFGYWNhZGVIZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuQ2xhc3NNYXBwaW5n\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5GaWVsZE1h\ncHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuTXlT\nUUxEaWN0aW9uYXJ5OwoKcHVibGljIGNsYXNzIFRlc3RCdWxrVXBkYXRlc0Fu\nZFZlcnNpb25Db2x1bW4KICAgIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2Ug\newoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgc2V0VXAoIm9wZW5qcGEuRGF0YUNhY2hlIiwgInRydWUiLAog\nICAgICAgICAgICAib3BlbmpwYS5SZW1vdGVDb21taXRQcm92aWRlciIsICJz\nanZtIiwKICAgICAgICAgICAgIm9wZW5qcGEuTG9nIiwgIlNRTD1UUkFDRSIs\nCiAgICAgICAgICAgIE9wdGltaXN0aWNMb2NrSW5zdGFuY2UuY2xhc3MsIENM\nRUFSX1RBQkxFUyk7CiAgICAgICAgCiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBPcHRpbWlz\ndGljTG9ja0luc3RhbmNlIHBjID0gbmV3IE9wdGltaXN0aWNMb2NrSW5zdGFu\nY2UoImZvbyIpOwogICAgICAgIGVtLnBlcnNpc3QocGMpOwogICAgICAgIGVt\nLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2Uo\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2VsZWN0T25PcGxvY2tG\naWVsZCgpIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0\nZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5jcmVhdGVRdWVyeSgic2Vs\nZWN0IG8gZnJvbSBPcHRpbWlzdGljTG9ja0luc3RhbmNlIG8gIgogICAgICAg\nICAgICArICJ3aGVyZSBvLm9wbG9jayA9IDAiKS5nZXRSZXN1bHRMaXN0KCk7\nCiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZXN0T3Bsb2NrRmllbGRNYXBwaW5nKCkgewogICAgICAgIENsYXNzTWFwcGlu\nZyBjbSA9IChDbGFzc01hcHBpbmcpIEpQQUZhY2FkZUhlbHBlci5nZXRNZXRh\nRGF0YSgKICAgICAgICAgICAgZW1mLCBPcHRpbWlzdGljTG9ja0luc3RhbmNl\nLmNsYXNzKTsKICAgICAgICBGaWVsZE1hcHBpbmcgZm0gPSBjbS5nZXRGaWVs\nZE1hcHBpbmcoIm9wbG9jayIpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBm\nbS5nZXRDb2x1bW5zKCkubGVuZ3RoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0QnVsa1VwZGF0ZVdpdGhNYW51YWxWZXJzaW9uSW5jcmVtZW50KCkg\newogICAgICAgIGlmKGdldERCRGljdGlvbmFyeShlbWYpIGluc3RhbmNlb2Yg\nTXlTUUxEaWN0aW9uYXJ5KSB7IAogICAgICAgICAgICByZXR1cm47IC8vIGtu\nb3duIHRvIGZhaWwgd2l0aCBteXNxbAogICAgICAgIH0KICAgICAgICBidWxr\nVXBkYXRlSGVscGVyKHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RCdWxrVXBkYXRlV2l0aG91dE1hbnVhbFZlcnNpb25JbmNyZW1lbnQoKSB7\nCiAgICAgICAgaWYoZ2V0REJEaWN0aW9uYXJ5KGVtZikgaW5zdGFuY2VvZiBN\neVNRTERpY3Rpb25hcnkpIHsgCiAgICAgICAgICAgIHJldHVybjsgLy8ga25v\nd24gdG8gZmFpbCB3aXRoIG15c3FsCiAgICAgICAgfQogICAgICAgIGJ1bGtV\ncGRhdGVIZWxwZXIoZmFsc2UpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBi\ndWxrVXBkYXRlSGVscGVyKGJvb2xlYW4gaW5jcmVtZW50VmVyc2lvbkZpZWxk\nKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRp\ndHlNYW5hZ2VyKCk7CgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKICAgICAgICBPcHRpbWlzdGljTG9ja0luc3RhbmNlIG9saSA9IChP\ncHRpbWlzdGljTG9ja0luc3RhbmNlKSBlbS5jcmVhdGVRdWVyeSgKICAgICAg\nICAgICAgIlNFTEVDVCBvIEZST00gT3B0aW1pc3RpY0xvY2tJbnN0YW5jZSBv\nIFdIRVJFIG8uc3RyID0gJ2ZvbyciKQogICAgICAgICAgICAuZ2V0U2luZ2xl\nUmVzdWx0KCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChvbGkpOwogICAgICAg\nIGVtLmxvY2sob2xpLCBMb2NrTW9kZVR5cGUuUkVBRCk7CgogICAgICAgIEVu\ndGl0eU1hbmFnZXIgZW0yID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsK\nICAgICAgICBlbTIuZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIGVtMi5jcmVhdGVRdWVyeSgiVVBEQVRFIE9wdGltaXN0aWNMb2NrSW5zdGFu\nY2UgbyBTRVQgby5zdHIgPSAnZm9vJywgIgogICAgICAgICAgICArICJvLmlu\ndEZpZWxkID0gby5pbnRGaWVsZCArIDEiCiAgICAgICAgICAgICsgKGluY3Jl\nbWVudFZlcnNpb25GaWVsZCA/ICIsIG8ub3Bsb2NrID0gby5vcGxvY2sgKyAx\nICIgOiAiIikKICAgICAgICAgICAgKyAiV0hFUkUgby5zdHIgPSAnZm9vJyIp\nCiAgICAgICAgICAgIC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgZW0yLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0yLmNsb3NlKCk7\nCgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuY29tbWl0KCk7CiAgICAgICAgICAgIGZhaWwoInRyYW5zYWN0aW9uIHNo\nb3VsZCBoYXZlIGZhaWxlZCIpOwogICAgICAgIH0gY2F0Y2ggKFJvbGxiYWNr\nRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIGFzc2VydFRydWUoIm5lc3Rl\nZCBleGNlcHRpb24gbXVzdCBiZSBhbiBvcGxvY2sgZXhjZXB0aW9uIiwKICAg\nICAgICAgICAgICAgIHJlLmdldENhdXNlKCkgaW5zdGFuY2VvZiBPcHRpbWlz\ndGljTG9ja0V4Y2VwdGlvbik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAg\nICAgICAgZW0uY2xvc2UoKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

