{"sha":"50cb00df18f3cb100c085e8f9a8abe48c66fc220","node_id":"MDQ6QmxvYjIwNjM2NDo1MGNiMDBkZjE4ZjNjYjEwMGMwODVlOGY5YThhYmU0OGM2NmZjMjIw","size":4012,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/50cb00df18f3cb100c085e8f9a8abe48c66fc220","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5RdWVyeTsKCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TUUxMaXN0ZW5lclRl\nc3RDYXNlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLnNpbXBsZS5BbGxGaWVsZFR5cGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5jZTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFu\nYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5P\ncGVuSlBBUXVlcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuSW52YWxpZFN0YXRlRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyU1BJ\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlv\nbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQjJE\naWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3Fs\nLkhTUUxEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsKCnB1YmxpYyBjbGFzcyBUZXN0\nT3B0aW1pemVGb3JDbGF1c2UKICAgIGV4dGVuZHMgU1FMTGlzdGVuZXJUZXN0\nQ2FzZSB7CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAgc2V0\nVXAoQWxsRmllbGRUeXBlcy5jbGFzcyk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdE9wdGltaXplRm9yQ2xhdXNlVmlhSGludCgpIHsKICAgICAgICB0\nZXN0T3B0aW1pemVGb3JDbGF1c2UodHJ1ZSxmYWxzZSxmYWxzZSk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdE9wdGltaXplRm9yQ2xhdXNlVmlhRmlu\nZCgpIHsKICAgICAgICB0ZXN0T3B0aW1pemVGb3JDbGF1c2UoZmFsc2UsdHJ1\nZSxmYWxzZSk7CiAgICB9CiAgICBwdWJsaWMgdm9pZCB0ZXN0T3B0aW1pemVG\nb3JDbGF1c2VWaWFRdWVyeUhpbnQoKSB7CiAgICAgICAgdGVzdE9wdGltaXpl\nRm9yQ2xhdXNlKGZhbHNlLHRydWUsdHJ1ZSk7CiAgICB9CiAgICBwdWJsaWMg\ndm9pZCB0ZXN0T3B0aW1pemVGb3JDbGF1c2UoYm9vbGVhbiBoaW50LAogICAg\nICAgIGJvb2xlYW4gZmluZCwgYm9vbGVhbiBxdWVyeUhpbnQpIHsKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlclNQSSBlbSA9IGVtZi5jcmVhdGVFbnRp\ndHlNYW5hZ2VyKCk7CiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3QgPSAoKEpE\nQkNDb25maWd1cmF0aW9uKSBlbS5nZXRDb25maWd1cmF0aW9uKCkpCiAgICAg\nICAgICAgIC5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpOwoKICAgICAgICAv\nLyBoc3FsIGRvZXNuJ3Qgc3VwcG9ydCBvcHRpbWl6aW5nOyBjaXJjdW12ZW50\nIHRoZSB0ZXN0CiAgICAgICAgaWYgKGRpY3QgaW5zdGFuY2VvZiBIU1FMRGlj\ndGlvbmFyeSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBzcWwuY2xl\nYXIoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmJlZ2luKCk7CiAgICAgICAgICAgIGlmIChoaW50IHx8IHF1ZXJ5\nSGludCkgewogICAgICAgICAgICAgICAgaWYgKGhpbnQpIHsKICAgICAgICAg\nICAgICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoCiAgICAgICAg\nICAgICAgICAgICAgInNlbGVjdCBvIGZyb20gQWxsRmllbGRUeXBlcyBvIHdo\nZXJlIG8uaW50RmllbGQgPSA6cCIpOwogICAgICAgICAgICAgICAgICAgIHEu\nc2V0UGFyYW1ldGVyKCJwIiwgMCk7CiAgICAgICAgICAgICAgICAgICAgcS5z\nZXRIaW50KCJvcGVuanBhLmhpbnQuT3B0aW1pemVSZXN1bHRDb3VudCIKICAg\nICAgICAgICAgICAgICAgICAgICAgICxuZXcgSW50ZWdlcig4KSk7CiAgICAg\nICAgICAgICAgICAgICAgcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgICAg\nICAgICB9ICAgIAogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAg\nICAgICAgICAgT3BlbkpQQVF1ZXJ5IHEgPSAgT3BlbkpQQVBlcnNpc3RlbmNl\nLmNhc3QgKGVtLmNyZWF0ZVF1ZXJ5IAogICAgICAgICAgICAgICAgICAgICAg\nICAoInNlbGVjdCBvIGZyb20gQWxsRmllbGRUeXBlcyBvIHdoZXJlIG8uaW50\nRmllbGQgIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAiPSA6cCIpKTsK\nICAgICAgICAgICAgICAgICAgICBxLnNldFBhcmFtZXRlcigicCIsIDApOwog\nICAgICAgICAgICAgICAgICAgIHEuc2V0SGludChxLkhJTlRfUkVTVUxUX0NP\nVU5ULCBuZXcgSW50ZWdlcig4KSk7IAogICAgICAgICAgICAgICAgICAgIHEu\nZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgICAgICAgICB9ICAgICAKICAgICAg\nICAgICAgICAgaWYgKGRpY3QgaW5zdGFuY2VvZiBEQjJEaWN0aW9uYXJ5KSB7\nCiAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUo\nKSk7CiAgICAgICAgICAgICAgICAgICBhc3NlcnRDb250YWluc1NRTCgiIG9w\ndGltaXplIGZvciA4IHJvdyIpOwogICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgZW0u\nZmluZChBbGxGaWVsZFR5cGVzLmNsYXNzLCAwKTsKICAgICAgICAgICAgICAg\nICBpZiAoZGljdCBpbnN0YW5jZW9mIERCMkRpY3Rpb25hcnkgKSB7CiAgICAg\nICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOwog\nICAgICAgICAgICAgICAgICAgIGFzc2VydENvbnRhaW5zU1FMKCIgb3B0aW1p\nemUgZm9yIDEgcm93Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKEludmFs\naWRTdGF0ZUV4Y2VwdGlvbiBwZSkgewogICAgICAgICAgICAvLyBpZiB3ZSdy\nZSBub3QgdXNpbmcgREIyLCB3ZSBleHBlY3QgYW4gSW52YWxpZFN0YXRlRXhj\nZXB0aW9uLgogICAgICAgICAgICBpZiAoZGljdCBpbnN0YW5jZW9mIERCMkRp\nY3Rpb25hcnkpCiAgICAgICAgICAgICAgICB0aHJvdyBwZTsKICAgICAgICB9\nIGZpbmFsbHkgewogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLnJv\nbGxiYWNrKCk7CiAgICAgICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgfQog\nICAgfQp9Cg==\n","encoding":"base64"}

