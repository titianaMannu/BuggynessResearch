{"sha":"197acac4154327cabf39d64d8a66555a06527d6f","node_id":"MDQ6QmxvYjIwNjM2NDoxOTdhY2FjNDE1NDMyN2NhYmYzOWQ2NGQ4YTY2NTU1YTA2NTI3ZDZm","size":4056,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/197acac4154327cabf39d64d8a66555a06527d6f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsK\nCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGls\nLkhhc2hTZXQ7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEu\ndXRpbC5TZXQ7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFu\nYWdlcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXJG\nYWN0b3J5OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLk1ldGFE\nYXRhUmVwb3NpdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEk7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXJTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBU\nZXN0TWV0YURhdGFSZXBvc2l0b3J5IGV4dGVuZHMgU2luZ2xlRU1GVGVzdENh\nc2UgewogICAgcHJpdmF0ZSBmaW5hbCBpbnQgdGhyZWFkcyA9IDIwOwogICAg\ncHVibGljIHN0YXRpYyBib29sZWFuIFVubG9hZGVkRW50aXR5TG9hZGVkID0g\nZmFsc2U7CiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgLy8gTmVlZCB0byBlbmFibGUg\ndHJhY2UgdG8gc2xvdyBkb3duIGZpcnN0IHRocmVhZCB0byBmb3JjZSB0aW1p\nbmcgY29uZGl0aW9uLgogICAgICAgIHNldFVwKE1kclRlc3RFbnRpdHkuY2xh\nc3MsIm9wZW5qcGEuTG9nIiwiTWV0YURhdGE9dHJhY2UiKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0RW50aXR5TG9hZGluZygpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBudWxsOwogICAg\nICAgIHRyeXsKICAgICAgICAgICAgZW1mLmNsb3NlKCk7CiAgICAgICAgICAg\nIFN0cmluZyB1bmxvYWRlZENsYXNzID0gIm9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5tZXRhLlVubG9hZGVkRW50aXR5IjsKICAgICAgICAgICAg\nc2V0VXAoIm9wZW5qcGEuTWV0YURhdGFGYWN0b3J5IiwianBhKFR5cGVzPSIr\ndW5sb2FkZWRDbGFzcysiKSIpOwogICAgICAgICAgICBhc3NlcnRGYWxzZShV\nbmxvYWRlZEVudGl0eUxvYWRlZCk7CiAgICAgICAgICAgIGVtID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICAgICAgYXNzZXJ0VHJ1ZShV\nbmxvYWRlZEVudGl0eUxvYWRlZCk7CiAgICAgICAgfWZpbmFsbHl7CiAgICAg\nICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgog\nICAgICogVGhpcyBtZXRob2QgdGVzdHMgYSB0aW1pbmcgd2luZG93IHdoZXJl\nIG1vcmUgdGhhbiBvbmUgdGhyZWFkIHJlcXVlc3RzIE1ldGFEYXRhIHVzaW5n\nIGFuIGFsaWFzCiAgICAgKiBhdCB0aGUgc2FtZSB0aW1lLiBBbGwgdGhyZWFk\ncyBzaG91bGQgZ2V0IGRhdGEgYmFjayBhbmQgbm8gdGhyZWFkcyBzaG91bGQg\ncmVjZWl2ZSBhbgogICAgICogZXhjZXB0aW9uLgogICAgICovCiAgICBwdWJs\naWMgdm9pZCB0ZXN0TXVsdGlUaHJlYWRHZXRNZXRhRGF0YUFsaWFzKCkgdGhy\nb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgCiAg\nICAgICAgICAgIExpc3Q8V29ya2VyPiB3b3JrZXJzID0gbmV3IEFycmF5TGlz\ndDxXb3JrZXI+KCk7CiAgICAgICAgICAgIFNldDxFeGNlcHRpb24+IGV4Y2Vw\ndGlvbnMgPSBuZXcgSGFzaFNldDxFeGNlcHRpb24+KCk7CiAgICAgICAgICAg\nIGZvciAoaW50IGkgPSAwOyBpIDwgdGhyZWFkczsgaSsrKSB7CiAgICAgICAg\nICAgICAgICBXb3JrZXIgdyA9IG5ldyBXb3JrZXIoZW1mKTsKICAgICAgICAg\nICAgICAgIHdvcmtlcnMuYWRkKHcpOwogICAgICAgICAgICB9CiAgICAgICAg\nICAgIGZvciAoV29ya2VyIHcgOiB3b3JrZXJzKSB7CiAgICAgICAgICAgICAg\nICB3LnN0YXJ0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChX\nb3JrZXIgdyA6IHdvcmtlcnMpIHsKICAgICAgICAgICAgICAgIHcuam9pbigp\nOwogICAgICAgICAgICAgICAgRXhjZXB0aW9uIGUgPSB3LmdldEV4Y2VwdGlv\nbigpOwogICAgICAgICAgICAgICAgaWYgKGUgIT0gbnVsbCkgewogICAgICAg\nICAgICAgICAgICAgIGV4Y2VwdGlvbnMuYWRkKHcuZ2V0RXhjZXB0aW9uKCkp\nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAg\nIGFzc2VydFRydWUoIkNhdWdodCAiICArIGV4Y2VwdGlvbnMudG9TdHJpbmco\nKSwgZXhjZXB0aW9ucy5zaXplKCkgPT0gMCk7CiAgICAgICAgfSBmaW5hbGx5\nIHsKICAgICAgICAgICAgaWYgKGVtZiAhPSBudWxsKSB7CiAgICAgICAgICAg\nICAgICBlbWYuY2xvc2UoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAg\nIH0KCiAgICBjbGFzcyBXb3JrZXIgZXh0ZW5kcyBUaHJlYWQgewogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBlbWY7CiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkgZW07CiAgICAgICAgTWV0YURhdGFS\nZXBvc2l0b3J5IHJlcG87CiAgICAgICAgRXhjZXB0aW9uIGV4OwoKICAgICAg\nICBXb3JrZXIoRW50aXR5TWFuYWdlckZhY3RvcnkgZSkgewogICAgICAgICAg\nICBlbWYgPSAoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKSBlOwog\nICAgICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAg\nICAgICAgICAgIHJlcG8gPSBlbS5nZXRDb25maWd1cmF0aW9uKCkuZ2V0TWV0\nYURhdGFSZXBvc2l0b3J5SW5zdGFuY2UoKTsKICAgICAgICB9CgogICAgICAg\nIEV4Y2VwdGlvbiBnZXRFeGNlcHRpb24oKSB7CiAgICAgICAgICAgIHJldHVy\nbiBleDsKICAgICAgICB9CgogICAgICAgIEBPdmVycmlkZQogICAgICAgIHB1\nYmxpYyB2b2lkIHJ1bigpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgICAgIHJlcG8uZ2V0TWV0YURhdGEoIk1kclRlc3RFbnRpdHkiLCBUaHJl\nYWQuY3VycmVudFRocmVhZCgpLmdldENvbnRleHRDbGFzc0xvYWRlcigpLCB0\ncnVlKTsKICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAg\nICAgICAgICAgICAgIGV4ID0gZTsKICAgICAgICAgICAgICAgIGUucHJpbnRT\ndGFja1RyYWNlKCk7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAg\nICAgICAgICBlbS5jbG9zZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQog\nICAgfQp9\n","encoding":"base64"}

