{"sha":"b28a80492610d297c227c28c9eb779089ef06dc2","node_id":"MDQ6QmxvYjIwNjM2NDpiMjhhODA0OTI2MTBkMjk3YzIyN2MyOGM5ZWI3NzkwODllZjA2ZGMy","size":10342,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b28a80492610d297c227c28c9eb779089ef06dc2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubW9kZWxz\nLmNvbXBhbnk7CgppbXBvcnQgamF2YS5iZWFucy5FeGNlcHRpb25MaXN0ZW5l\ncjsKaW1wb3J0IGphdmEuYmVhbnMuSW50cm9zcGVjdG9yOwppbXBvcnQgamF2\nYS5iZWFucy5Qcm9wZXJ0eURlc2NyaXB0b3I7CmltcG9ydCBqYXZhLmJlYW5z\nLlhNTERlY29kZXI7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1w\nb3J0IGphdmEudXRpbC5EYXRlOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7\nCmltcG9ydCBqYXZhLnV0aWwuTGlua2VkTGlzdDsKaW1wb3J0IGphdmEudXRp\nbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRp\nbC5TZXQ7CmltcG9ydCBqYXZhLnV0aWwuVHJlZVNldDsKCmltcG9ydCBqdW5p\ndC5mcmFtZXdvcmsuQXNzZXJ0aW9uRmFpbGVkRXJyb3I7CgppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5h\nZ2VyRmFjdG9yeVNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS50ZXN0LlNpbmdsZUVNVGVzdENhc2U7CgovKiogCiAqIEdlbmVy\naWMgdGVzdCBjYXNlIHRoYXQgd2lsbCBiZSBleHRlbmRlZCBieSBhIGNvbmNy\nZXRlIGNvbXBhbnkKICogbW9kZWwgc3ViY2xhc3MuCiAqICAKICogQGF1dGhv\nciAgTWFyYyBQcnVkJ2hvbW1lYXV4CiAqLwpwdWJsaWMgYWJzdHJhY3QgY2xh\nc3MgQ29tcGFueU1vZGVsVGVzdCAKICAgIGV4dGVuZHMgU2luZ2xlRU1UZXN0\nQ2FzZSB7CgogICAgcHJpdmF0ZSBzdGF0aWMgTWFwPENsYXNzLENsYXNzPiBm\nYWN0b3J5Q2xhc3NlczsKICAgIHByaXZhdGUgTWFwPENsYXNzLENsYXNzPiBp\nbXBsczsKICAgIAogICAgcHJpdmF0ZSBzdGF0aWMgQm9vbGVhbiBjYW5FeGVj\ndXRlID0gbnVsbDsgCgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAg\nICAgLy8gbWFrZSBhIG1hcCBvZiB0aGUgaW1wbGVtZW50YXRpb25zIGJhc2Vk\nIG9uIHRoZSBjbGFzcyBuYW1lcyBpbgogICAgICAgIC8vIHRoZSBjdXJyZW50\nIHBhY2thZ2Ugb2YgdGhlIHRlc3Qgc3ViY2xhc3MKICAgICAgICBpbXBscyA9\nIG5ldyBIYXNoTWFwPENsYXNzLCBDbGFzcz4oKTsKICAgICAgICBpbXBscy5w\ndXQoSUFkZHJlc3MuY2xhc3MsIGxvY2FsQ2xhc3MoIkFkZHJlc3MiKSk7CiAg\nICAgICAgaW1wbHMucHV0KElDb21wYW55LmNsYXNzLCBsb2NhbENsYXNzKCJD\nb21wYW55IikpOwogICAgICAgIGltcGxzLnB1dChJQ3VzdG9tZXIuY2xhc3Ms\nIGxvY2FsQ2xhc3MoIkN1c3RvbWVyIikpOwogICAgICAgIGltcGxzLnB1dChJ\nUGVyc29uLmNsYXNzLCBsb2NhbENsYXNzKCJQZXJzb24iKSk7CiAgICAgICAg\naW1wbHMucHV0KElFbXBsb3llZS5jbGFzcywgbG9jYWxDbGFzcygiRW1wbG95\nZWUiKSk7CiAgICAgICAgaW1wbHMucHV0KElGdWxsVGltZUVtcGxveWVlLmNs\nYXNzLCBsb2NhbENsYXNzKCJGdWxsVGltZUVtcGxveWVlIikpOwogICAgICAg\nIGltcGxzLnB1dChJTGluZUl0ZW0uY2xhc3MsIGxvY2FsQ2xhc3MoIkxpbmVJ\ndGVtIikpOwogICAgICAgIGltcGxzLnB1dChJUHJvZHVjdE9yZGVyLmNsYXNz\nLCBsb2NhbENsYXNzKCJQcm9kdWN0T3JkZXIiKSk7CiAgICAgICAgaW1wbHMu\ncHV0KElQYXJ0VGltZUVtcGxveWVlLmNsYXNzLCBsb2NhbENsYXNzKCJQYXJ0\nVGltZUVtcGxveWVlIikpOwogICAgICAgIGltcGxzLnB1dChJUHJvZHVjdC5j\nbGFzcywgbG9jYWxDbGFzcygiUHJvZHVjdCIpKTsKCiAgICAgICAgc2V0VXAo\naW1wbHMudmFsdWVzKCkudG9BcnJheShuZXcgQ2xhc3NbaW1wbHMuc2l6ZSgp\nXSkpOwogICAgICAgIAogICAgICAgIGlmIChjYW5FeGVjdXRlID09IG51bGwp\nIHsKICAgICAgICAgICAgLy8gVGhpcyB0ZXN0Y2FzZSByZXF1aXJlcyBzdWJz\nZWxlY3RzLiBTa2lwIGl0IGlmIHN1YnNlbGVjdHMgd2lsbCBub3QKICAgICAg\nICAgICAgLy8gd29yay4KICAgICAgICAgICAgY2FuRXhlY3V0ZSA9IGdldERC\nRGljdGlvbmFyeShlbWYpLnN1cHBvcnRzU3Vic2VsZWN0OwogICAgICAgIH0K\nICAgICAgICBpZiAoY2FuRXhlY3V0ZSkgewogICAgICAgICAgICBjaGVja01v\nZGVsKCk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgQ2xhc3MgbG9j\nYWxDbGFzcyhTdHJpbmcgbmFtZSkgewogICAgICAgIFN0cmluZyBwa2cgPSBn\nZXRDbGFzcygpLmdldFBhY2thZ2UoKS5nZXROYW1lKCk7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgcmV0dXJuIENsYXNzLmZvck5hbWUocGtnICsgIi4i\nICsgbmFtZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAg\nICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbihlKTsK\nICAgICAgICB9CiAgICB9CgogICAgLyoqIAogICAgICogUnVucyB0aHJvdWdo\nIGJhc2ljIHF1ZXJpZXMgYWdhaW5zdCBhbGwgb2YgdGhlIHByb3BlcnRpZXMg\nb2YgYWxsCiAgICAgKiBvZiB0aGUga25vd24gcGVyc2lzdGVudCBjbGFzc2Vz\nLiBXZSdyZSBqdXN0IGNoZWNraW5nIGhlcmUgdG8KICAgICAqIG1ha2Ugc3Vy\nZSB0aGUgcXVlcmllcyBjYW4gYmUgZXhlY3V0ZWQgd2l0aG91dCBwcm9ibGVt\nLiBRdWVyaWVzCiAgICAgKiBzaG91bGQgYWx3YXlzIHJldHVybiBhbGwga25v\nd24gaW5zdGFuY2VzIGluIHRoZSBkYXRhYmFzZS4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgdGVzdEJhc2ljUXVlcmllcygpIHRocm93cyBFeGNlcHRpb24g\newogICAgICAgIGlmIChjYW5FeGVjdXRlKSB7CiAgICAgICAgICAgIGZvciAo\nQ2xhc3MgYyA6IGltcGxzLnZhbHVlcygpKSB7CiAgICAgICAgICAgICAgICBm\nb3IgKFByb3BlcnR5RGVzY3JpcHRvciBwZCA6IEludHJvc3BlY3Rvci5nZXRC\nZWFuSW5mbyhjKQogICAgICAgICAgICAgICAgICAgIC5nZXRQcm9wZXJ0eURl\nc2NyaXB0b3JzKCkpIHsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHBkLmdl\ndFdyaXRlTWV0aG9kKCkgPT0gbnVsbCkgLy8gaWdub3JlIHJlYWQtb25seQog\nICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAg\nICAgICAgICAgU2V0PFN0cmluZz4gcXVlcmllcyA9IG5ldyBUcmVlU2V0PFN0\ncmluZz4oKTsKICAgICAgICAgICAgICAgICAgICBnZXRCYXNpY1F1ZXJpZXMo\ncXVlcmllcywgcGQsICJ4LiIpOwoKICAgICAgICAgICAgICAgICAgICBTdHJp\nbmdCdWlsZGVyIHN0ciA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CgogICAgICAg\nICAgICAgICAgICAgIC8vIGV4ZWN1dGUgdGhlIGluZGl2aWR1YWwgcXVlcmll\ncwogICAgICAgICAgICAgICAgICAgIGZvciAoU3RyaW5nIHF1ZXJ5IDogcXVl\ncmllcykgewogICAgICAgICAgICAgICAgICAgICAgICBmaW5kKGMsICJ3aGVy\nZSAiICsgcXVlcnkpOwogICAgICAgICAgICAgICAgICAgICAgICBzdHIuYXBw\nZW5kKHN0ci5sZW5ndGgoKSA+IDAgPyAiIG9yICIgOiAiIikKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIC5hcHBlbmQocXVlcnkpOwogICAgICAgICAg\nICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGV4ZWN1\ndGUgYWxsIHRoZSBxdWVyaWVzIGNvbWJpbmVkCiAgICAgICAgICAgICAgICAg\nICAgZmluZChjLCAid2hlcmUgIiArIHN0cik7CiAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgdm9pZCBnZXRC\nYXNpY1F1ZXJpZXMoU2V0PFN0cmluZz4gcXVlcmllcywgUHJvcGVydHlEZXNj\ncmlwdG9yIHBkLAogICAgICAgIFN0cmluZyBwcmVmaXgpIHRocm93cyBFeGNl\ncHRpb24gewoKICAgICAgICAvLyBtYXggbGV2ZWwgb2YgZmllbGQgdHJhdmVy\nc2FsOiAzCiAgICAgICAgLy8gIyMjIGlmIChwcmVmaXguc3BsaXQoIlxcLiIp\nLmxlbmd0aCA+IDMpCiAgICAgICAgaWYgKHByZWZpeC5zcGxpdCgiXFwuIiku\nbGVuZ3RoID4gMikKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBDbGFz\ncyB0eXBlID0gcGQuZ2V0UHJvcGVydHlUeXBlKCk7CgogICAgICAgIFN0cmlu\nZyBuYW1lID0gcHJlZml4ICsgcGQuZ2V0TmFtZSgpOwoKICAgICAgICBpZiAo\nIXF1ZXJpZXMuYWRkKG5hbWUgKyAiIGlzIG5vdCBudWxsIikpCiAgICAgICAg\nICAgIHJldHVybjsKCiAgICAgICAgcXVlcmllcy5hZGQobmFtZSArICIgaXMg\nbnVsbCIpOwoKICAgICAgICBpZiAodHlwZS5pc0Fzc2lnbmFibGVGcm9tKE51\nbWJlci5jbGFzcykgfHwgdHlwZSA9PSBpbnQuY2xhc3MgfHwKICAgICAgICAg\nICAgdHlwZSA9PSBkb3VibGUuY2xhc3MgfHwgdHlwZSA9PSBmbG9hdC5jbGFz\ncyB8fAogICAgICAgICAgICB0eXBlID09IGxvbmcuY2xhc3MgfHwgdHlwZSA9\nPSBzaG9ydC5jbGFzcykgewogICAgICAgICAgICBxdWVyaWVzLmFkZChuYW1l\nICsgIiA9IDAiKTsKICAgICAgICAgICAgcXVlcmllcy5hZGQobmFtZSArICIg\nPD4gMCIpOwogICAgICAgICAgICBxdWVyaWVzLmFkZChuYW1lICsgIiA+IDAi\nKTsKICAgICAgICAgICAgcXVlcmllcy5hZGQobmFtZSArICIgPCAwIik7CiAg\nICAgICAgICAgIHF1ZXJpZXMuYWRkKG5hbWUgKyAiID49IDAiKTsKICAgICAg\nICAgICAgcXVlcmllcy5hZGQobmFtZSArICIgPD0gMCIpOwogICAgICAgICAg\nICBxdWVyaWVzLmFkZCgic3FydCgiICsgbmFtZSArICIpIDw+IDAiKTsKICAg\nICAgICAgICAgcXVlcmllcy5hZGQoImFicygiICsgbmFtZSArICIpIDw+IDAi\nKTsKICAgICAgICAgICAgLy8gcXVlcmllcy5hZGQoIm1vZCgiICsgbmFtZSAr\nICIsIDUpIDw+IDAiKTsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlLmlz\nQXNzaWduYWJsZUZyb20oQ29sbGVjdGlvbi5jbGFzcykpIHsKICAgICAgICAg\nICAgcXVlcmllcy5hZGQobmFtZSArICIgSVMgRU1QVFkiKTsKICAgICAgICAg\nICAgcXVlcmllcy5hZGQobmFtZSArICIgSVMgTk9UIEVNUFRZIik7CiAgICAg\nICAgICAgIHF1ZXJpZXMuYWRkKCJzaXplKCIgKyBuYW1lICsgIikgPD4gMCIp\nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHR5cGUuaXNBc3NpZ25hYmxlRnJv\nbShTdHJpbmcuY2xhc3MpKSB7CiAgICAgICAgICAgIHF1ZXJpZXMuYWRkKCJs\nb3dlcigiICsgbmFtZSArICIpID0gJ3gnIik7CiAgICAgICAgICAgIHF1ZXJp\nZXMuYWRkKCJ1cHBlcigiICsgbmFtZSArICIpID0gJ3gnIik7CiAgICAgICAg\nICAgIHF1ZXJpZXMuYWRkKCJjb25jYXQoIiArIG5hbWUgKyAiLCAiICsgbmFt\nZSArICIpID0gJ3gnIik7CiAgICAgICAgICAgIHF1ZXJpZXMuYWRkKCJzdWJz\ndHJpbmcoIiArIG5hbWUgKyAiLCAxLCAyKSA9ICd4JyIpOwogICAgICAgICAg\nICBxdWVyaWVzLmFkZCgibGVuZ3RoKCIgKyBuYW1lICsgIikgPiAwIik7CiAg\nICAgICAgICAgIHF1ZXJpZXMuYWRkKCJsb2NhdGUoIiArIG5hbWUgKyAiLCAn\neCcsIDEpID4gMCIpOwogICAgICAgICAgICBxdWVyaWVzLmFkZCgidHJpbShs\nZWFkaW5nICcgJyBmcm9tICIgKyBuYW1lICsgIikgPSAneCciKTsKICAgICAg\nICB9CgogICAgICAgIGlmICh0eXBlLmlzQXNzaWduYWJsZUZyb20oRGF0ZS5j\nbGFzcykpIHsKICAgICAgICAgICAgcXVlcmllcy5hZGQobmFtZSArICIgPD4g\nQ1VSUkVOVF9USU1FU1RBTVAiKTsKICAgICAgICB9CgogICAgICAgIC8vIHJl\nbGF0aW9uIGlzIGFuIGVudGl0eSAuLi4gYWRkIGFsbCB0aGUgcmVsYXRpb25z\nCiAgICAgICAgaWYgKGltcGxzLmNvbnRhaW5zS2V5KHR5cGUpIHx8IGltcGxz\nLmNvbnRhaW5zVmFsdWUodHlwZSkpIHsKICAgICAgICAgICAgZm9yIChQcm9w\nZXJ0eURlc2NyaXB0b3IgZGVzYyA6CiAgICAgICAgICAgICAgICBJbnRyb3Nw\nZWN0b3IuZ2V0QmVhbkluZm8odHlwZSkuZ2V0UHJvcGVydHlEZXNjcmlwdG9y\ncygpKSB7CgogICAgICAgICAgICAgICAgaWYgKGRlc2MuZ2V0V3JpdGVNZXRo\nb2QoKSA9PSBudWxsKSAvLyBpZ25vcmUgcmVhZC1vbmx5CiAgICAgICAgICAg\nICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICAgICAgLy8gcHJldmVu\ndCByZWN1cnNpb24KICAgICAgICAgICAgICAgIGlmIChuYW1lLmVuZHNXaXRo\nKCIuIiArIGRlc2MuZ2V0TmFtZSgpICsgIi4iKSkKICAgICAgICAgICAgICAg\nICAgICBjb250aW51ZTsKCiAgICAgICAgICAgICAgICBnZXRCYXNpY1F1ZXJp\nZXMocXVlcmllcywgZGVzYywgbmFtZSArICIuIik7CiAgICAgICAgICAgIH0K\nICAgICAgICB9CiAgICB9CgogICAgdm9pZCBjaGVja01vZGVsKCkgewogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIHZlcmlmeU1vZGVsKCk7CiAgICAgICAg\nfSBjYXRjaCAoQXNzZXJ0aW9uRmFpbGVkRXJyb3IgZSkgewogICAgICAgICAg\nICAvLyBjbGVhciBhbGwgZXhpc3RpbmcgaW5zdGFuY2VzCiAgICAgICAgICAg\nIGNsZWFyKGVtZiwgaW1wbHMudmFsdWVzKCkudG9BcnJheShuZXcgQ2xhc3Nb\naW1wbHMuc2l6ZSgpXSkpOwoKICAgICAgICAgICAgLy8gc2luY2UgdGhlIGZh\nY3RvcnkgbWV0aG9kIG5lZWRzIHRvIGJlIHN0YXRpYywgd2UgbmVlZCB0byBz\ndG9yZQogICAgICAgICAgICAvLyB0aGUgY2xhc3NlcyBzdGF0aWNhbGx5CiAg\nICAgICAgICAgIGZhY3RvcnlDbGFzc2VzID0gaW1wbHM7CiAgICAgICAgICAg\nIHRyeSB7CiAgICAgICAgICAgICAgICBmaW5hbCBMaXN0PEV4Y2VwdGlvbj4g\nZXhjZXB0aW9ucyA9IG5ldyBMaW5rZWRMaXN0PEV4Y2VwdGlvbj4oKTsKICAg\nICAgICAgICAgICAgIFhNTERlY29kZXIgZGVjb2RlciA9IG5ldyBYTUxEZWNv\nZGVyKENvbXBhbnlNb2RlbFRlc3QuY2xhc3MuCiAgICAgICAgICAgICAgICAg\nICAgZ2V0UmVzb3VyY2VBc1N0cmVhbSgiY29tcGFuaWVzLnhtbCIpKTsKICAg\nICAgICAgICAgICAgIGRlY29kZXIuc2V0RXhjZXB0aW9uTGlzdGVuZXIobmV3\nIEV4Y2VwdGlvbkxpc3RlbmVyKCkgewogICAgICAgICAgICAgICAgICAgIHB1\nYmxpYyB2b2lkIGV4Y2VwdGlvblRocm93bihFeGNlcHRpb24gZSkgewogICAg\nICAgICAgICAgICAgICAgICAgICBleGNlcHRpb25zLmFkZChlKTsKICAgICAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAg\nICAgICAgIENvbGxlY3Rpb24gb2JzID0gKENvbGxlY3Rpb24pIGRlY29kZXIu\ncmVhZE9iamVjdCgpOwoKICAgICAgICAgICAgICAgIGlmIChleGNlcHRpb25z\nLnNpemUoKSA+IDApIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcg\nSWxsZWdhbFN0YXRlRXhjZXB0aW9uKGV4Y2VwdGlvbnMuZ2V0KDApKTsKICAg\nICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhc3NlcnROb3ROdWxs\nKG9icyk7CgogICAgICAgICAgICAgICAgcGVyc2lzdChvYnMudG9BcnJheSgp\nKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIGZh\nY3RvcnlDbGFzc2VzID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH0K\nCiAgICAgICAgdmVyaWZ5TW9kZWwoKTsKICAgIH0KCiAgICBpbnQgcXVlcnlD\nb3VudChDbGFzcyBjLCBTdHJpbmcgcXVlcnksIE9iamVjdC4uLiBwYXJhbXMp\nIHsKICAgICAgICByZXR1cm4gZmluZChjLCBxdWVyeSwgcGFyYW1zKS5zaXpl\nKCk7CiAgICB9CgogICAgaW50IHF1ZXJ5Q291bnQoQ2xhc3MgYykgewogICAg\nICAgIHJldHVybiBmaW5kKGMsIG51bGwpLnNpemUoKTsKICAgIH0KCiAgICBD\nbGFzcyBpbXBsKENsYXNzIGMpIHsKICAgICAgICByZXR1cm4gaW1wbHMuZ2V0\nKGMpOwogICAgfQoKICAgIHZvaWQgdmVyaWZ5TW9kZWwoKSB7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDIsIHF1ZXJ5Q291bnQoaW1wbChJQ29tcGFueS5jbGFz\ncykpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMTEsIHF1ZXJ5Q291bnQoaW1w\nbChJQWRkcmVzcy5jbGFzcykpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMywg\ncXVlcnlDb3VudChpbXBsKElQcm9kdWN0LmNsYXNzKSkpOwogICAgICAgIGFz\nc2VydEVxdWFscygyLCBxdWVyeUNvdW50KGltcGwoSVByb2R1Y3RPcmRlci5j\nbGFzcykpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMywgcXVlcnlDb3VudChp\nbXBsKElMaW5lSXRlbS5jbGFzcykpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nMSwgcXVlcnlDb3VudChpbXBsKElQYXJ0VGltZUVtcGxveWVlLmNsYXNzKSkp\nOwogICAgICAgIGFzc2VydEVxdWFscygzLCBxdWVyeUNvdW50KGltcGwoSUZ1\nbGxUaW1lRW1wbG95ZWUuY2xhc3MpKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDQsIHF1ZXJ5Q291bnQoaW1wbChJQ3VzdG9tZXIuY2xhc3MpKSk7CgogICAg\nICAgIGFzc2VydEVxdWFscygzLCBxdWVyeUNvdW50KGltcGwoSUFkZHJlc3Mu\nY2xhc3MpLAogICAgICAgICAgICAid2hlcmUgeC5zdGF0ZSA9ICdDQSciKSk7\nCgogICAgICAgIGFzc2VydEVxdWFscygxLCBxdWVyeUNvdW50KGltcGwoSUNv\nbXBhbnkuY2xhc3MpLAogICAgICAgICAgICAid2hlcmUgc2l6ZSh4LmVtcGxv\neWVlcykgPSA0IikpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBxdWVyeUNv\ndW50KGltcGwoSUNvbXBhbnkuY2xhc3MpLAogICAgICAgICAgICAid2hlcmUg\nc2l6ZSh4LmVtcGxveWVlcykgPSAwIikpOwoKICAgICAgICBhc3NlcnRFcXVh\nbHMoMiwgcXVlcnlDb3VudChpbXBsKElDdXN0b21lci5jbGFzcyksCiAgICAg\nICAgICAgICJ3aGVyZSBzaXplKHgub3JkZXJzKSA9IDEiKSk7CgogICAgICAg\nIGFzc2VydEVxdWFscygxLCBxdWVyeUNvdW50KGltcGwoSVByb2R1Y3RPcmRl\nci5jbGFzcyksCiAgICAgICAgICAgICJ3aGVyZSB4LnNoaXBwZWREYXRlIGlz\nIG51bGwiKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHF1ZXJ5Q291bnQo\naW1wbChJUHJvZHVjdE9yZGVyLmNsYXNzKSwKICAgICAgICAgICAgIndoZXJl\nIHguc2hpcHBlZERhdGUgaXMgbm90IG51bGwiKSk7CgogICAgICAgIGFzc2Vy\ndEVxdWFscygxLCBxdWVyeUNvdW50KGltcGwoSUVtcGxveWVlLmNsYXNzKSwK\nICAgICAgICAgICAgIndoZXJlIHgubWFuYWdlciBpcyBudWxsIikpOwogICAg\nICAgIGFzc2VydEVxdWFscygyLCBxdWVyeUNvdW50KGltcGwoSUVtcGxveWVl\nLmNsYXNzKSwKICAgICAgICAgICAgIndoZXJlIHgubWFuYWdlci5tYW5hZ2Vy\nIGlzIG51bGwiKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHF1ZXJ5Q291\nbnQoaW1wbChJRW1wbG95ZWUuY2xhc3MpLAogICAgICAgICAgICAid2hlcmUg\neC5tYW5hZ2VyLm1hbmFnZXIubWFuYWdlciBpcyBudWxsIikpOwoKICAgICAg\nICBhc3NlcnRFcXVhbHMoMiwgcXVlcnlDb3VudChpbXBsKElQZXJzb24uY2xh\nc3MpLAogICAgICAgICAgICAid2hlcmUgeC5maXJzdE5hbWUgbGlrZSA/MSBh\nbmQgeC5sYXN0TmFtZSBsaWtlID8xIiwgIk0lIikpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygxLCBxdWVyeUNvdW50KGltcGwoSVBlcnNvbi5jbGFzcyksCiAg\nICAgICAgICAgICJ3aGVyZSB4LmhvbWVBZGRyZXNzLnN0YXRlID0gJ0NBJyIp\nKTsKICAgIH0KCiAgICAvKiogCiAgICAgKiBGYWN0b3J5IG1ldGhvZCB0aGF0\nIGlzIGNhbGxlZCBmcm9tIHRoZSBzZXJpYWxpemVkIFhNTC4gCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0IGNyZWF0ZShDbGFzcyBpbnRmKQog\nICAgICAgIHRocm93cyBJbnN0YW50aWF0aW9uRXhjZXB0aW9uLCBJbGxlZ2Fs\nQWNjZXNzRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gZmFjdG9yeUNsYXNz\nZXMuZ2V0KGludGYpLm5ld0luc3RhbmNlKCk7CiAgICB9Cn0KCg==\n","encoding":"base64"}

