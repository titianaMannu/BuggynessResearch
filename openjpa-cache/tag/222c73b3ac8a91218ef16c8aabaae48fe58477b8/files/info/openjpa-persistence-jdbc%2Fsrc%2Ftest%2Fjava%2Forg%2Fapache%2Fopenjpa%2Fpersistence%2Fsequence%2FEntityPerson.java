{"sha":"e8c925c4a5ab3aa813cf48705cb36f1944268365","node_id":"MDQ6QmxvYjIwNjM2NDplOGM5MjVjNGE1YWIzYWE4MTNjZjQ4NzA1Y2IzNmYxOTQ0MjY4MzY1","size":3646,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e8c925c4a5ab3aa813cf48705cb36f1944268365","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5zZXF1ZW5jZTsK\nCmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5FbnRpdHk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5H\nZW5lcmF0ZWRWYWx1ZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkdlbmVy\nYXRpb25UeXBlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuSWQ7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5TZXF1ZW5jZUdlbmVyYXRvcjsKaW1wb3J0\nIGphdmF4LnBlcnNpc3RlbmNlLlRhYmxlOwoKLyoqCiAqIEBhdXRob3IgVGlt\nIE1jQ29ubmVsbAogKiBAc2luY2UgMi4wLjAKICovCkBFbnRpdHkKQFRhYmxl\nKG5hbWU9IkVOVElUWV9QRVJTT04iKQpwdWJsaWMgY2xhc3MgRW50aXR5UGVy\nc29uIGltcGxlbWVudHMgU2VyaWFsaXphYmxlIHsKCiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBsb25nIHNlcmlhbFZlcnNpb25VSUQgPSAzNzcyMDQ5NjY5\nMjYxNzMxNTIwTDsKICAgIAogICAgQElkCiAgICBAU2VxdWVuY2VHZW5lcmF0\nb3IobmFtZT0iU2VxUGVyc29uIiwgc2VxdWVuY2VOYW1lPSJ0ZXN0X25hdGl2\nZV9zZXF1ZW5jZSIpCiAgICBAR2VuZXJhdGVkVmFsdWUoc3RyYXRlZ3k9R2Vu\nZXJhdGlvblR5cGUuU0VRVUVOQ0UsIGdlbmVyYXRvcj0iU2VxUGVyc29uIikK\nICAgIHByaXZhdGUgaW50IGlkOyAKICAgIHByaXZhdGUgU3RyaW5nIGZpcnN0\nTmFtZTsKICAgIHByaXZhdGUgU3RyaW5nIGxhc3ROYW1lOwoKCiAgICBwdWJs\naWMgRW50aXR5UGVyc29uKCkgewogICAgfQoKICAgIHB1YmxpYyBFbnRpdHlQ\nZXJzb24oU3RyaW5nIGZpcnN0TmFtZSwgU3RyaW5nIGxhc3ROYW1lKSB7CiAg\nICAgICAgdGhpcy5maXJzdE5hbWUgPSBmaXJzdE5hbWU7CiAgICAgICAgdGhp\ncy5sYXN0TmFtZSA9IGxhc3ROYW1lOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nZ2V0SWQoKSB7CiAgICAgICAgcmV0dXJuIGlkOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldElkKGludCBpZCkgewogICAgICAgIHRoaXMuaWQgPSBpZDsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEZpcnN0TmFtZSgpIHsKICAg\nICAgICByZXR1cm4gZmlyc3ROYW1lOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldEZpcnN0TmFtZShTdHJpbmcgZmlyc3ROYW1lKSB7CiAgICAgICAgdGhp\ncy5maXJzdE5hbWUgPSBmaXJzdE5hbWU7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRMYXN0TmFtZSgpIHsKICAgICAgICByZXR1cm4gbGFzdE5hbWU7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TGFzdE5hbWUoU3RyaW5nIGxh\nc3ROYW1lKSB7CiAgICAgICAgdGhpcy5sYXN0TmFtZSA9IGxhc3ROYW1lOwog\nICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmluZyB0b1N0cmlu\nZygpIHsKICAgICAgICByZXR1cm4gIkVudGl0eVBlcnNvbjogUGVyc29uIGlk\nOiAiICsgZ2V0SWQoKSArIAogICAgICAgICAgICAgICAiIGZpcnN0TmFtZTog\nIiArIGdldEZpcnN0TmFtZSgpICsKICAgICAgICAgICAgICAgIiBsYXN0TmFt\nZTogIiArIGdldExhc3ROYW1lKCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAg\nICBwdWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgIGZpbmFsIGludCBw\ncmltZSA9IDMxOwogICAgICAgIGludCByZXN1bHQgPSAxOwogICAgICAgIHJl\nc3VsdCA9IHByaW1lICogcmVzdWx0CiAgICAgICAgICAgICsgKChnZXRGaXJz\ndE5hbWUoKSA9PSBudWxsKSA/IDAgOiBnZXRGaXJzdE5hbWUoKS5oYXNoQ29k\nZSgpKTsKICAgICAgICByZXN1bHQgPSBwcmltZSAqIHJlc3VsdCArIGdldElk\nKCk7CiAgICAgICAgcmVzdWx0ID0gcHJpbWUgKiByZXN1bHQKICAgICAgICAg\nICAgKyAoKGdldExhc3ROYW1lKCkgPT0gbnVsbCkgPyAwIDogZ2V0TGFzdE5h\nbWUoKS5oYXNoQ29kZSgpKTsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAg\nfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGJvb2xlYW4gZXF1YWxzKE9i\namVjdCBvYmopIHsKICAgICAgICBpZiAodGhpcyA9PSBvYmopIHsKICAgICAg\nICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChvYmog\nPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAg\nfQogICAgICAgIGlmIChnZXRDbGFzcygpICE9IG9iai5nZXRDbGFzcygpKSB7\nCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAg\nZmluYWwgRW50aXR5UGVyc29uIG90aGVyID0gKEVudGl0eVBlcnNvbikgb2Jq\nOwogICAgICAgIGlmIChnZXRJZCgpICE9IG90aGVyLmdldElkKCkpIHsKICAg\nICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAo\nZ2V0Rmlyc3ROYW1lKCkgPT0gbnVsbCkgewogICAgICAgICAgICBpZiAob3Ro\nZXIuZ2V0Rmlyc3ROYW1lKCkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAg\nIGVsc2UgaWYgKCFnZXRGaXJzdE5hbWUoKS5lcXVhbHMob3RoZXIuZ2V0Rmly\nc3ROYW1lKCkpKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAg\nICB9CiAgICAgICAgaWYgKGdldExhc3ROYW1lKCkgPT0gbnVsbCkgewogICAg\nICAgICAgICBpZiAob3RoZXIuZ2V0TGFzdE5hbWUoKSAhPSBudWxsKSB7CiAg\nICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICAgICAgZWxzZSBpZiAoIWdldExhc3ROYW1lKCkuZXF1YWxz\nKG90aGVyLmdldExhc3ROYW1lKCkpKSB7CiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9IAp9\nCg==\n","encoding":"base64"}

