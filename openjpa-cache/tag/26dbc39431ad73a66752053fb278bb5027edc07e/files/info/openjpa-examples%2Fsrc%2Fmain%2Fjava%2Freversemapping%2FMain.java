{"sha":"fb9f787aab43ad30cf1e363a62b0136dd7d4cb92","node_id":"MDQ6QmxvYjIwNjM2NDpmYjlmNzg3YWFiNDNhZDMwY2YxZTM2M2E2MmIwMTM2ZGQ3ZDRjYjky","size":5057,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fb9f787aab43ad30cf1e363a62b0136dd7d4cb92","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSByZXZlcnNlbWFwcGluZzsKCmltcG9ydCBqYXZhLnRleHQuKjsK\naW1wb3J0IGphdmEudXRpbC4qOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nKjsKCgovKiogCiAqIEEgc2ltcGxlIHByb2dyYW0gdGhhdCB1c2VzIHRoZSBy\nZXZlcnNlLW1hcHBlZCBjbGFzc2VzIGZyb20gdGhlIGFpcmxpbmVzCiAqIHNj\naGVtYSB0byBwcmludCBvdXQgYSBsaXN0IG9mIHNjaGVkdWxlcyBmbGlnaHRl\ncyBhbmQgdGhlIAogKiBwcm9qZWN0ZWQgcHJvZml0cyBmcm9tIHRoZW0uCiAq\nLwpwdWJsaWMgY2xhc3MgTWFpbiB7CgogICAgcHJpdmF0ZSBzdGF0aWMgdm9p\nZCBwcmludChTdHJpbmcgbXNnKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmlu\ndGxuKG1zZyk7CiAgICB9CgogICAgQFN1cHByZXNzV2FybmluZ3MoInVuY2hl\nY2tlZCIpCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBh\ncmdzKSB7CiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IEVudGl0eU1hbmFnZXJG\nYWN0b3J5IHVzaW5nIHRoZSBTeXN0ZW0gcHJvcGVydGllcy4KICAgICAgICAv\nLyBUaGUgInJldmVyc2VtYXBwaW5nIiBuYW1lIHdpbGwgYmUgdXNlZCB0byBj\nb25maWd1cmUgYmFzZWQgb24gdGhlCiAgICAgICAgLy8gY29ycmVzcG9uZGlu\nZyBuYW1lIGluIHRoZSBNRVRBLUlORi9wZXJzaXN0ZW5jZS54bWwgZmlsZQog\nICAgICAgIEVudGl0eU1hbmFnZXJGYWN0b3J5IGZhY3RvcnkgPSBQZXJzaXN0\nZW5jZS4KICAgICAgICAgICAgY3JlYXRlRW50aXR5TWFuYWdlckZhY3Rvcnko\nInJldmVyc2VtYXBwaW5nIiwKICAgICAgICAgICAgICAgIFN5c3RlbS5nZXRQ\ncm9wZXJ0aWVzKCkpOwoKICAgICAgICAvLyBDcmVhdGUgYSBuZXcgRW50aXR5\nTWFuYWdlciBmcm9tIHRoZSBFbnRpdHlNYW5hZ2VyRmFjdG9yeS4gVGhlCiAg\nICAgICAgLy8gRW50aXR5TWFuYWdlciBpcyB0aGUgbWFpbiBvYmplY3QgaW4g\ndGhlIHBlcnNpc3RlbmNlIEFQSSwgYW5kIGlzCiAgICAgICAgLy8gdXNlZCB0\nbyBjcmVhdGUsIGRlbGV0ZSwgYW5kIHF1ZXJ5IG9iamVjdHMsIGFzIHdlbGwg\nYXMgYWNjZXNzCiAgICAgICAgLy8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24K\nICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZmFjdG9yeS5jcmVhdGVFbnRp\ndHlNYW5hZ2VyKCk7CgogICAgICAgIExpc3Q8QXZhaWxhYmlsaXR5PiBzY2hl\nZHVsZSA9IChMaXN0PEF2YWlsYWJpbGl0eT4pCiAgICAgICAgICAgIGVtLmNy\nZWF0ZVF1ZXJ5KCJzZWxlY3QgYXZhaWwgZnJvbSBBdmFpbGFiaWxpdHkgYXZh\naWwgIgogICAgICAgICAgICArICJqb2luIGZldGNoIGF2YWlsLmZsaWdodCAi\nCiAgICAgICAgICAgICsgIm9yZGVyIGJ5IGF2YWlsLmZsaWdodERhdGUgYXNj\nLCBhdmFpbC5mbGlnaHQuZGVwYXJ0dXJlVGltZSBhc2MiKS4KICAgICAgICAg\nICAgICAgIGdldFJlc3VsdExpc3QoKTsKICAgICAgIGZvciAoQXZhaWxhYmls\naXR5IGF2YWlsIDogc2NoZWR1bGUpIHsKICAgICAgICAgICBGbGlnaHQgZmxp\nZ2h0ID0gYXZhaWwuZ2V0RmxpZ2h0KCk7CgogICAgICAgICAgIC8vIG5vdGUg\ndGhhdCBBdmFpbGFiaWxpdHkuZ2V0RmxpZ2h0RGF0ZSBpcyBqdXN0IGEgREFU\nRSB3aXRoIG5vCiAgICAgICAgICAgLy8gdGltZSBjb21wb25lbnQsIGFuZCBG\nbGlnaHQuZ2V0RGVwYXJ0dXJlVGltZSgpIGlzIGp1c3QgYSBUSU1FCiAgICAg\nICAgICAgLy8gd2l0aCBubyBkYXRlIGNvbXBvbmVudAogICAgICAgICAgIHBy\naW50KG5ldyBTaW1wbGVEYXRlRm9ybWF0KCJNTU0gZGQsIHl5eXkiKS4KICAg\nICAgICAgICAgICAgICAgICBmb3JtYXQoYXZhaWwuZ2V0RmxpZ2h0RGF0ZSgp\nKQogICAgICAgICAgICAgICArICIgZmxpZ2h0ICIKICAgICAgICAgICAgICAg\nKyBmbGlnaHQuZ2V0RmxpZ2h0SWQoKSArICIgZGVwYXJ0cyAiCiAgICAgICAg\nICAgICAgICsgbmV3IFNpbXBsZURhdGVGb3JtYXQoImhoOm1tIGFhIikuCiAg\nICAgICAgICAgICAgICAgICAgZm9ybWF0KGZsaWdodC5nZXREZXBhcnR1cmVU\naW1lKCkpCiAgICAgICAgICAgICAgICsgIiBmcm9tICIgKyBmbGlnaHQuZ2V0\nT3JpZ0FpcnBvcnQoKQogICAgICAgICAgICAgICArICIgdG8gIiArIGZsaWdo\ndC5nZXREZXN0QWlycG9ydCgpKTsKCiAgICAgICAgICAgIC8vIGxvb2sgdXAg\ndGhlIEFpcmxpbmUgcmVmZXJlbmNlIGJhc2VkIG9uIHRoZSBmbGlnaHQgSUQK\nICAgICAgICAgICAgQWlybGluZSBhaXJsaW5lID0gZW0uZ2V0UmVmZXJlbmNl\nKEFpcmxpbmUuY2xhc3MsCiAgICAgICAgICAgICAgICBmbGlnaHQuZ2V0Rmxp\nZ2h0SWQoKS5zdWJzdHJpbmcoMCwgMikpOwogICAgICAgICAgICBkb3VibGUg\ncmF0ZVBlck1pbGUgPSBhaXJsaW5lLmdldEJhc2ljUmF0ZSgpOwogICAgICAg\nICAgICBkb3VibGUgcmF0ZSA9IGZsaWdodC5nZXRNaWxlcygpICogcmF0ZVBl\nck1pbGU7CgogICAgICAgICAgICBpbnQgZWNvblRha2VuID0gYXZhaWwuZ2V0\nRWNvbm9teVNlYXRzVGFrZW4oKTsKICAgICAgICAgICAgaW50IGJ1c2luZXNz\nVGFrZW4gPSBhdmFpbC5nZXRCdXNpbmVzc1NlYXRzVGFrZW4oKTsKICAgICAg\nICAgICAgaW50IGZpcnN0Y2xhc3NUYWtlbiA9IGF2YWlsLmdldEZpcnN0Y2xh\nc3NTZWF0c1Rha2VuKCk7CgogICAgICAgICAgICBkb3VibGUgaW5jb21lID0g\nKGVjb25UYWtlbiAqIHJhdGUpCiAgICAgICAgICAgICAgICArIChidXNpbmVz\nc1Rha2VuICogcmF0ZSkKICAgICAgICAgICAgICAgICsgKGJ1c2luZXNzVGFr\nZW4gKiByYXRlICogYWlybGluZS5nZXRCdXNpbmVzc0xldmVsRmFjdG9yKCkp\nCiAgICAgICAgICAgICAgICArIChmaXJzdGNsYXNzVGFrZW4gKiByYXRlKQog\nICAgICAgICAgICAgICAgKyAoZmlyc3RjbGFzc1Rha2VuICogcmF0ZSAqIGFp\ncmxpbmUuZ2V0Rmlyc3RjbGFzc0xldmVsRmFjdG9yKCkpOwoKICAgICAgICAg\nICAgaW50IHNlYXRzVGFrZW4gPSBlY29uVGFrZW4gKyBidXNpbmVzc1Rha2Vu\nICsgZmlyc3RjbGFzc1Rha2VuOwogICAgICAgICAgICBpbnQgdG90YWxTZWF0\ncyA9IGFpcmxpbmUuZ2V0RWNvbm9teVNlYXRzKCkKICAgICAgICAgICAgICAg\nICAgICArIGFpcmxpbmUuZ2V0QnVzaW5lc3NTZWF0cygpCiAgICAgICAgICAg\nICAgICAgICAgKyBhaXJsaW5lLmdldEZpcnN0Y2xhc3NTZWF0cygpOwogICAg\nICAgICAgICBkb3VibGUgcGVyY2VudEZ1bGwgPSAoZG91YmxlKSBzZWF0c1Rh\na2VuIC8gKGRvdWJsZSkgdG90YWxTZWF0czsKCiAgICAgICAgICAgIHByaW50\nKCIgIGluY29tZSBmcm9tIGZsaWdodDogIgogICAgICAgICAgICAgICAgKyBO\ndW1iZXJGb3JtYXQuZ2V0Q3VycmVuY3lJbnN0YW5jZSgpLmZvcm1hdChpbmNv\nbWUpCiAgICAgICAgICAgICAgICArICIgd2l0aCAiICsgc2VhdHNUYWtlbiAr\nICIgc2VhdHMgdGFrZW4gKCIKICAgICAgICAgICAgICAgICsgTnVtYmVyRm9y\nbWF0LmdldFBlcmNlbnRJbnN0YW5jZSgpLmZvcm1hdChwZXJjZW50RnVsbCkK\nICAgICAgICAgICAgICAgICsgIiBmdWxsKSIpOwoKICAgICAgICAgICAgZG91\nYmxlIGdhbGxvbnNQZXJNaWxlID0gMi4wZDsgLy8gYXBwcm94IGZvciBhIHNt\nYWxsIHBsYW5lCiAgICAgICAgICAgIGRvdWJsZSB0b3RhbEdhbGxvbnMgPSBn\nYWxsb25zUGVyTWlsZSAqIGZsaWdodC5nZXRNaWxlcygpOwogICAgICAgICAg\nICBkb3VibGUgY29zdFBlckdhbGxvbiA9IDAuNTBkOyAvLyBhcHByb3ggMjAw\nNiBwcmljZXMKICAgICAgICAgICAgZG91YmxlIHRvdGFsRnVlbENvc3QgPSB0\nb3RhbEdhbGxvbnMgKiBjb3N0UGVyR2FsbG9uOwogICAgICAgICAgICBwcmlu\ndCgiICBmdWVsIGNvc3Qgb2YgZmxpZ2h0IG92ZXIgIgogICAgICAgICAgICAg\nICAgKyBOdW1iZXJGb3JtYXQuZ2V0TnVtYmVySW5zdGFuY2UoKS5mb3JtYXQo\nZmxpZ2h0LmdldE1pbGVzKCkpCiAgICAgICAgICAgICAgICArICIgbWlsZXM6\nICIKICAgICAgICAgICAgICAgICsgTnVtYmVyRm9ybWF0LmdldEN1cnJlbmN5\nSW5zdGFuY2UoKS5mb3JtYXQodG90YWxGdWVsQ29zdCkpOwoKICAgICAgICAg\nICAgZG91YmxlIHRvdGFsQ29zdCA9IHRvdGFsRnVlbENvc3Q7CgogICAgICAg\nICAgICBwcmludCgiICB0b3RhbCBwcm9maXQ6ICIgKyBOdW1iZXJGb3JtYXQu\nZ2V0Q3VycmVuY3lJbnN0YW5jZSgpLgogICAgICAgICAgICAgICAgZm9ybWF0\nKGluY29tZSAtIHRvdGFsQ29zdCkpOwogICAgICAgfSAKCiAgICAgICAgLy8g\nQWdhaW4sIGl0IGlzIGFsd2F5cyBnb29kIHRvIGNsZWFuIHVwIGFmdGVyIG91\ncnNlbHZlcwogICAgICAgIGVtLmNsb3NlKCk7CgogICAgICAgIGZhY3Rvcnku\nY2xvc2UoKTsKICAgIH0KfQo=\n","encoding":"base64"}

