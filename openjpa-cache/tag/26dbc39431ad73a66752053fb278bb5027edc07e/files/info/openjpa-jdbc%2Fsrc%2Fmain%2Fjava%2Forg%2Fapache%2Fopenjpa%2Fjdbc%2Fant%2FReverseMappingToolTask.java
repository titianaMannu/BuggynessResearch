{"sha":"176547dfba0d67756397ca943f0a9831fa85769f","node_id":"MDQ6QmxvYjIwNjM2NDoxNzY1NDdkZmJhMGQ2Nzc1NjM5N2NhOTQzZjBhOTgzMWZhODU3Njlm","size":10050,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/176547dfba0d67756397ca943f0a9831fa85769f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5hbnQ7CgppbXBvcnQg\namF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5GaWxlSW5wdXRTdHJlYW07\nCmltcG9ydCBqYXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlvbjsKaW1wb3J0\nIGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEu\nc2VjdXJpdHkuUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbjsKaW1wb3J0IGph\ndmEudXRpbC5Qcm9wZXJ0aWVzOwoKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9u\ncy5sYW5nLlN0cmluZ1V0aWxzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb25JbXBsOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5Qcm9wZXJ0aWVz\nUmV2ZXJzZUN1c3RvbWl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5tZXRhLlJldmVyc2VDdXN0b21pemVyOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMubWV0YS5SZXZlcnNlTWFwcGluZ1Rvb2w7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmFudC5BYnN0cmFjdFRhc2s7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlv\nbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29u\nZmlndXJhdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0\naWwuQ29kZUZvcm1hdDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\ndXRpbC5GaWxlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRp\nbC5KMkRvUHJpdkhlbHBlcjsKaW1wb3J0IG9yZy5hcGFjaGUudG9vbHMuYW50\nLnR5cGVzLkVudW1lcmF0ZWRBdHRyaWJ1dGU7CgovKioKICogRXhlY3V0ZXMg\ndGhlIHtAbGluayBSZXZlcnNlTWFwcGluZ1Rvb2x9IG9uIHRoZSBzcGVjaWZp\nZWQgWE1MIGZpbGVzLgogKiBUaGlzIHRhc2sgY2FuIHRha2UgdGhlIGZvbGxv\nd2luZyBhcmd1bWVudHM6CiAqIDx1bD4KICogPGxpPjxjb2RlPnBhY2thZ2U8\nL2NvZGU+PC9saT4KICogPGxpPjxjb2RlPmRpcmVjdG9yeTwvY29kZT48L2xp\nPgogKiA8bGk+PGNvZGU+dXNlU2NoZW1hTmFtZTwvY29kZT48L2xpPgogKiA8\nbGk+PGNvZGU+dXNlRm9yZWlnbktleU5hbWU8L2NvZGU+PC9saT4KICogPGxp\nPjxjb2RlPm51bGxhYmxlQXNPYmplY3Q8L2NvZGU+PC9saT4KICogPGxpPjxj\nb2RlPmJsb2JBc09iamVjdDwvY29kZT48L2xpPgogKiA8bGk+PGNvZGU+dHlw\nZU1hcDwvY29kZT48L2xpPgogKiA8bGk+PGNvZGU+cHJpbWFyeUtleU9uSm9p\nbjwvY29kZT48L2xpPgogKiA8bGk+PGNvZGU+dXNlRGF0YXN0b3JlSWRlbnRp\ndHk8L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPnVzZUJ1aWx0aW5JZGVudGl0\neUNsYXNzPC9jb2RlPjwvbGk+CiAqIDxsaT48Y29kZT5kZXRhY2hhYmxlPC9j\nb2RlPjwvbGk+CiAqIDxsaT48Y29kZT5pbnZlcnNlUmVsYXRpb25zPC9jb2Rl\nPjwvbGk+CiAqIDxsaT48Y29kZT5kaXNjcmltaW5hdG9yU3RyYXRlZ3k8L2Nv\nZGU+PC9saT4KICogPGxpPjxjb2RlPnZlcnNpb25TdHJhdGVneTwvY29kZT48\nL2xpPgogKiA8bGk+PGNvZGU+aW5uZXJJZGVudGl0eUNsYXNzZXM8L2NvZGU+\nPC9saT4KICogPGxpPjxjb2RlPmlkZW50aXR5Q2xhc3NTdWZmaXg8L2NvZGU+\nPC9saT4KICogPGxpPjxjb2RlPm1ldGFkYXRhPC9jb2RlPjwvbGk+CiAqIDxs\naT48Y29kZT5jdXN0b21pemVyQ2xhc3M8L2NvZGU+PC9saT4KICogPGxpPjxj\nb2RlPmN1c3RvbWl6ZXJQcm9wZXJ0aWVzPC9jb2RlPjwvbGk+CiAqIDwvdWw+\nIFRoZSB0YXNrIGFsc28gYWNjZXB0cyBhbiBlbWJlZGRlZCA8Y29kZT5jb2Rl\nRm9ybWF0PC9jb2RlPiBlbGVtZW50IHdpdGgKICogYXR0cmlidXRlcyBmb3Ig\ndGhlIGJlYW4gcHJvcGVydGllcyBvZiB0aGUge0BsaW5rIENvZGVGb3JtYXR9\nLgogKi8KcHVibGljIGNsYXNzIFJldmVyc2VNYXBwaW5nVG9vbFRhc2sKICAg\nIGV4dGVuZHMgQWJzdHJhY3RUYXNrIHsKCiAgICBwcm90ZWN0ZWQgUmV2ZXJz\nZU1hcHBpbmdUb29sLkZsYWdzIGZsYWdzID0gbmV3IFJldmVyc2VNYXBwaW5n\nVG9vbC5GbGFncygpOwogICAgcHJvdGVjdGVkIFN0cmluZyBkaXJOYW1lID0g\nbnVsbDsKICAgIHByb3RlY3RlZCBTdHJpbmcgdHlwZU1hcCA9IG51bGw7CiAg\nICBwcm90ZWN0ZWQgU3RyaW5nIGN1c3RvbWl6ZXJQcm9wZXJ0aWVzID0gbnVs\nbDsKICAgIHByb3RlY3RlZCBTdHJpbmcgY3VzdG9taXplckNsYXNzID0KICAg\nICAgICBQcm9wZXJ0aWVzUmV2ZXJzZUN1c3RvbWl6ZXIuY2xhc3MuZ2V0TmFt\nZSgpOwoKICAgIC8qKgogICAgICogRGVmYXVsdCBjb25zdHJ1Y3Rvci4KICAg\nICAqLwogICAgcHVibGljIFJldmVyc2VNYXBwaW5nVG9vbFRhc2soKSB7CiAg\nICAgICAgZmxhZ3MubWV0YURhdGFMZXZlbCA9ICJwYWNrYWdlIjsKICAgICAg\nICBmbGFncy5mb3JtYXQgPSBuZXcgQ29kZUZvcm1hdCgpOwogICAgfQoKICAg\nIC8qKgogICAgICogU2V0IHRoZSBwYWNrYWdlIG5hbWUgZm9yIHRoZSBnZW5l\ncmF0ZWQgY2xhc3Nlcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0UGFj\na2FnZShTdHJpbmcgcGtnKSB7CiAgICAgICAgZmxhZ3MucGFja2FnZU5hbWUg\nPSBwa2c7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIG91dHB1dCBk\naXJlY3RvcnkgZm9yIHRoZSBnZW5lcmF0ZWQgY2xhc3Nlcy4KICAgICAqLwog\nICAgcHVibGljIHZvaWQgc2V0RGlyZWN0b3J5KFN0cmluZyBkaXJOYW1lKSB7\nCiAgICAgICAgdGhpcy5kaXJOYW1lID0gZGlyTmFtZTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCB3aGV0aGVyIHRvIHVzZSB0aGUgc2NoZW1hIG5hbWUg\nd2hlbiBuYW1pbmcgdGhlIGNsYXNzZXMuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldFVzZVNjaGVtYU5hbWUoYm9vbGVhbiB1c2VTY2hlbWFOYW1lKSB7\nCiAgICAgICAgZmxhZ3MudXNlU2NoZW1hTmFtZSA9IHVzZVNjaGVtYU5hbWU7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0byB1c2UgZm9y\nZWlnbiBrZXkgbmFtZXMgdG8gbmFtZSByZWxhdGlvbnMuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldFVzZUZvcmVpZ25LZXlOYW1lKGJvb2xlYW4gdXNl\nRm9yZWlnbktleU5hbWUpIHsKICAgICAgICBmbGFncy51c2VGb3JlaWduS2V5\nTmFtZSA9IHVzZUZvcmVpZ25LZXlOYW1lOwogICAgfQoKICAgIC8qKgogICAg\nICogU2V0IHdoZXRoZXIgdG8gcmVwcmVzZW50IG51bGxhYmxlIGNvbHVtbnMg\nYXMgcHJpbWl0aXZlIHdyYXBwZXJzLgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXROdWxsYWJsZUFzT2JqZWN0KGJvb2xlYW4gbnVsbGFibGVBc09iamVj\ndCkgewogICAgICAgIGZsYWdzLm51bGxhYmxlQXNPYmplY3QgPSBudWxsYWJs\nZUFzT2JqZWN0OwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHdoZXRoZXIg\ndG8gcmVwcmVzZW50IGJsb2IgY29sdW1ucyBhcyBKYXZhIG9iamVjdHMgcmF0\naGVyIHRoYW4KICAgICAqIGJ5dGVbXSBmaWVsZHMuCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIHNldEJsb2JBc09iamVjdChib29sZWFuIGJsb2JBc09iamVj\ndCkgewogICAgICAgIGZsYWdzLmJsb2JBc09iamVjdCA9IGJsb2JBc09iamVj\ndDsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB3aGV0aGVyIHRvIHVzZSBn\nZW5lcmljIGNvbGxlY3Rpb25zIG9uIG9uZS10by1tYW55IGFuZCBtYW55LXRv\nLW1hbnkKICAgICAqIHJlbGF0aW9ucyBpbnN0ZWFkIG9mIHVudHlwZWQgY29s\nbGVjdGlvbnMuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFVzZUdlbmVy\naWNDb2xsZWN0aW9ucyhib29sZWFuIHVzZUdlbmVyaWNDb2xsZWN0aW9ucykg\newogICAgICAgIGZsYWdzLnVzZUdlbmVyaWNDb2xsZWN0aW9ucyA9IHVzZUdl\nbmVyaWNDb2xsZWN0aW9uczsgCiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQg\ndGhlIFNRTCB0eXBlIG1hcCBvdmVycmlkZXMuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldFR5cGVNYXAoU3RyaW5nIHR5cGVNYXApIHsKICAgICAgICB0\naGlzLnR5cGVNYXAgPSB0eXBlTWFwOwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHdoZXRoZXIgdG8gYWxsb3cgcHJpbWFyeSBrZXlzIG9uIGpvaW4gdGFi\nbGVzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRQcmltYXJ5S2V5T25K\nb2luKGJvb2xlYW4gcHJpbWFyeUtleU9uSm9pbikgewogICAgICAgIGZsYWdz\nLnByaW1hcnlLZXlPbkpvaW4gPSBwcmltYXJ5S2V5T25Kb2luOwogICAgfQoK\nICAgIC8qKgogICAgICogU2V0IHdoZXRoZXIgdG8gdXNlIGRhdGFzdG9yZSBp\nZGVudGl0eSBieSBkZWZhdWx0LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBz\nZXRVc2VEYXRhU3RvcmVJZGVudGl0eShib29sZWFuIHVzZURhdGFTdG9yZUlk\nZW50aXR5KSB7CiAgICAgICAgZmxhZ3MudXNlRGF0YVN0b3JlSWRlbnRpdHkg\nPSB1c2VEYXRhU3RvcmVJZGVudGl0eTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCB3aGV0aGVyIHRvIHVzZSBzaW5nbGUgZmllbGQgaWRlbnRpdHkgd2hl\ncmUgcG9zc2libGUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFVzZUJ1\naWx0aW5JZGVudGl0eUNsYXNzKGJvb2xlYW4gdXNlQnVpbHRpbklkZW50aXR5\nQ2xhc3MpIHsKICAgICAgICBmbGFncy51c2VCdWlsdGluSWRlbnRpdHlDbGFz\ncyA9IHVzZUJ1aWx0aW5JZGVudGl0eUNsYXNzOwogICAgfQoKICAgIC8qKgog\nICAgICogU2V0IHdoZXRoZXIgdG8gZ2VuZXJhdGUgaW52ZXJzZSAxLW1hbnkv\nMS0xIHJlbGF0aW9ucyBmb3IgYWxsIG1hbnktMS8xLTEKICAgICAqIHJlbGF0\naW9ucy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0SW52ZXJzZVJlbGF0\naW9ucyhib29sZWFuIGludmVyc2VSZWxhdGlvbnMpIHsKICAgICAgICBmbGFn\ncy5pbnZlcnNlUmVsYXRpb25zID0gaW52ZXJzZVJlbGF0aW9uczsKICAgIH0K\nCiAgICAvKioKICAgICAqIFNldCB3aGV0aGVyIHRvIG1ha2UgZ2VuZXJhdGVk\nIGNsYXNzZXMgZGV0YWNoYWJsZS4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0RGV0YWNoYWJsZShib29sZWFuIGRldGFjaGFibGUpIHsKICAgICAgICBm\nbGFncy5kZXRhY2hhYmxlID0gZGV0YWNoYWJsZTsKICAgIH0KCiAgICAvKioK\nICAgICAqIERlZmF1bHQgZGlzY3JpbWluYXRvciBzdHJhdGVneSBmb3IgYmFz\nZSBjbGFzcyBtYXBwaW5ncy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nRGlzY3JpbWluYXRvclN0cmF0ZWd5KFN0cmluZyBkaXNjU3RyYXQpIHsKICAg\nICAgICBmbGFncy5kaXNjcmltaW5hdG9yU3RyYXRlZ3kgPSBkaXNjU3RyYXQ7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IHZlcnNpb24gc3RyYXRl\nZ3kgZm9yIGJhc2UgY2xhc3MgbWFwcGluZ3MuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldFZlcnNpb25TdHJhdGVneShTdHJpbmcgdmVyc2lvblN0cmF0\nKSB7CiAgICAgICAgZmxhZ3MudmVyc2lvblN0cmF0ZWd5ID0gdmVyc2lvblN0\ncmF0OwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciBvciBub3QgdG8g\nZ2VuZXJhdGUgYXBwbGljYXRpb24gaWRlbnRpdHkgY2xhc3NlcyBhcyBpbm5l\nciBjbGFzc2VzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRJbm5lcklk\nZW50aXR5Q2xhc3Nlcyhib29sZWFuIGlubmVyQXBwSWQpIHsKICAgICAgICBm\nbGFncy5pbm5lcklkZW50aXR5Q2xhc3NlcyA9IGlubmVyQXBwSWQ7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBUaGUgc3VmZml4IHRvIHVzZSB0byBjcmVhdGUg\ndGhlIGlkZW50aXR5IGNsYXNzIG5hbWUgZm9yIGEgY2xhc3MsIG9yCiAgICAg\nKiBmb3IgaW5uZXIgY2xhc3NlcywgdGhlIG5hbWUgb2YgdGhlIGlubmVyIGNs\nYXNzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRJZGVudGl0eUNsYXNz\nU3VmZml4KFN0cmluZyBzdWZmaXgpIHsKICAgICAgICBmbGFncy5pZGVudGl0\neUNsYXNzU3VmZml4ID0gc3VmZml4OwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSBsZXZlbCBvZiB0aGUgZ2VuZXJhdGVkIG1ldGFkYXRhLgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBzZXRNZXRhZGF0YShMZXZlbCBsZXZlbCkg\newogICAgICAgIGZsYWdzLm1ldGFEYXRhTGV2ZWwgPSBsZXZlbC5nZXRWYWx1\nZSgpOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBnZW5lcmF0\nZSBhbm5vdGF0aW9ucyBhbG9uZyB3aXRoIGdlbmVyYXRlZCBjb2RlLiBEZWZh\ndWx0cwogICAgICogdG8gZmFsc2UuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldEdlbmVyYXRlQW5ub3RhdGlvbnMoYm9vbGVhbiBnZW5Bbm5vdGF0aW9u\ncykgewogICAgICAgIGZsYWdzLmdlbmVyYXRlQW5ub3RhdGlvbnMgPSBnZW5B\nbm5vdGF0aW9uczsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8g\ndXNlIGZpZWxkIG9yIHByb3BlcnR5LWJhc2VkIGFjY2VzcyBvbiBnZW5lcmF0\nZWQgY29kZS4KICAgICAqIERlZmF1bHRzIHRvIGZpZWxkLWJhc2VkIGFjY2Vz\ncy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0QWNjZXNzVHlwZShBY2Nl\nc3NUeXBlIGFjY2Vzc1R5cGUpIHsKICAgICAgICBmbGFncy5hY2Nlc3NUeXBl\nID0gYWNjZXNzVHlwZS5nZXRWYWx1ZSgpOwogICAgfQogICAgCiAgICAvKioK\nICAgICAqIFNldCBhIGN1c3RvbWl6ZXIgY2xhc3MgdG8gdXNlLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCBzZXRDdXN0b21pemVyQ2xhc3MoU3RyaW5nIGN1\nc3RvbWl6ZXJDbGFzcykgewogICAgICAgIHRoaXMuY3VzdG9taXplckNsYXNz\nID0gY3VzdG9taXplckNsYXNzOwogICAgfQoKICAgIC8qKgogICAgICogU2V0\nIGEgcHJvcGVydGllcyBmaWxlIHRvIHBhc3MgdG8gdGhlIGN1c3RvbWl6ZXIg\nY2xhc3MuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEN1c3RvbWl6ZXJQ\ncm9wZXJ0aWVzKFN0cmluZyBjdXN0b21pemVyUHJvcGVydGllcykgewogICAg\nICAgIHRoaXMuY3VzdG9taXplclByb3BlcnRpZXMgPSBjdXN0b21pemVyUHJv\ncGVydGllczsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGNyZWF0ZUNvZGVG\nb3JtYXQoKSB7CiAgICAgICAgcmV0dXJuIGZsYWdzLmZvcm1hdDsKICAgIH0K\nCiAgICBwcm90ZWN0ZWQgQ29uZmlndXJhdGlvbkltcGwgbmV3Q29uZmlndXJh\ndGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IEpEQkNDb25maWd1cmF0aW9u\nSW1wbCgpOwogICAgfQoKICAgIHByb3RlY3RlZCB2b2lkIGV4ZWN1dGVPbihT\ndHJpbmdbXSBmaWxlcykKICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBDbGFzc0xvYWRlciBsb2FkZXIgPSBnZXRDbGFzc0xvYWRlcigpOwog\nICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShkaXJOYW1lKSkKICAg\nICAgICAgICAgZmxhZ3MuZGlyZWN0b3J5ID0gRmlsZXMuZ2V0RmlsZShkaXJO\nYW1lLCBsb2FkZXIpOwogICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0\neSh0eXBlTWFwKSkKICAgICAgICAgICAgZmxhZ3MudHlwZU1hcCA9IENvbmZp\nZ3VyYXRpb25zLnBhcnNlUHJvcGVydGllcyh0eXBlTWFwKTsKCiAgICAgICAg\nLy8gbG9hZCBjdXN0b21pemVyIHByb3BlcnRpZXMKICAgICAgICBQcm9wZXJ0\naWVzIGN1c3RvbVByb3BzID0gbmV3IFByb3BlcnRpZXMoKTsKICAgICAgICBG\naWxlIHByb3BzRmlsZSA9IEZpbGVzLmdldEZpbGUoY3VzdG9taXplclByb3Bl\ncnRpZXMsIGxvYWRlcik7CiAgICAgICAgaWYgKHByb3BzRmlsZSAhPSBudWxs\nICYmICgoQm9vbGVhbikgQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQo\nCiAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmV4aXN0c0FjdGlvbihwcm9w\nc0ZpbGUpKSkuYm9vbGVhblZhbHVlKCkpIHsKICAgICAgICAgICAgRmlsZUlu\ncHV0U3RyZWFtIGZpcyA9IG51bGw7CiAgICAgICAgICAgIHRyeSB7CiAgICAg\nICAgICAgICAgICBmaXMgPSAoRmlsZUlucHV0U3RyZWFtKSBBY2Nlc3NDb250\ncm9sbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgICAgICAgICBKMkRv\nUHJpdkhlbHBlci5uZXdGaWxlSW5wdXRTdHJlYW1BY3Rpb24ocHJvcHNGaWxl\nKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKFByaXZpbGVnZWRBY3Rpb25FeGNl\ncHRpb24gcGFlKSB7CiAgICAgICAgICAgICAgICAgdGhyb3cgKEZpbGVOb3RG\nb3VuZEV4Y2VwdGlvbikgcGFlLmdldEV4Y2VwdGlvbigpOwogICAgICAgICAg\nICB9CiAgICAgICAgICAgIGN1c3RvbVByb3BzLmxvYWQoZmlzKTsKICAgICAg\nICB9CgogICAgICAgIC8vIGNyZWF0ZSBhbmQgY29uZmlndXJlIGN1c3RvbWl6\nZXIKICAgICAgICBKREJDQ29uZmlndXJhdGlvbiBjb25mID0gKEpEQkNDb25m\naWd1cmF0aW9uKSBnZXRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgZmxhZ3Mu\nY3VzdG9taXplciA9IChSZXZlcnNlQ3VzdG9taXplcikgQ29uZmlndXJhdGlv\nbnMuCiAgICAgICAgICAgIG5ld0luc3RhbmNlKGN1c3RvbWl6ZXJDbGFzcywg\nY29uZiwgbnVsbCwKICAgICAgICAgICAgICAgIChDbGFzc0xvYWRlcikgQWNj\nZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAgICAgICAgICAg\nICAgSjJEb1ByaXZIZWxwZXIuZ2V0Q2xhc3NMb2FkZXJBY3Rpb24oCiAgICAg\nICAgICAgICAgICAgICAgICAgIFJldmVyc2VDdXN0b21pemVyLmNsYXNzKSkp\nOwogICAgICAgIGlmIChmbGFncy5jdXN0b21pemVyICE9IG51bGwpCiAgICAg\nICAgICAgIGZsYWdzLmN1c3RvbWl6ZXIuc2V0Q29uZmlndXJhdGlvbihjdXN0\nb21Qcm9wcyk7CgogICAgICAgIFJldmVyc2VNYXBwaW5nVG9vbC5ydW4oY29u\nZiwgZmlsZXMsIGZsYWdzLCBsb2FkZXIpOwogICAgfQoKICAgIHB1YmxpYyBz\ndGF0aWMgY2xhc3MgTGV2ZWwKICAgICAgICBleHRlbmRzIEVudW1lcmF0ZWRB\ndHRyaWJ1dGUgewoKICAgICAgICBwdWJsaWMgU3RyaW5nW10gZ2V0VmFsdWVz\nKCkgewogICAgICAgICAgICByZXR1cm4gbmV3IFN0cmluZ1tdewogICAgICAg\nICAgICAgICAgInBhY2thZ2UiLAogICAgICAgICAgICAgICAgImNsYXNzIiwK\nICAgICAgICAgICAgICAgICJub25lIgogICAgICAgICAgICB9OwogICAgICAg\nIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEFjY2Vzc1R5cGUK\nICAgICAgICBleHRlbmRzIEVudW1lcmF0ZWRBdHRyaWJ1dGUgewoKICAgICAg\nICBwdWJsaWMgU3RyaW5nW10gZ2V0VmFsdWVzKCkgewogICAgICAgICAgICBy\nZXR1cm4gbmV3IFN0cmluZ1tdewogICAgICAgICAgICAgICAgImZpZWxkIiwK\nICAgICAgICAgICAgICAgICJwcm9wZXJ0eSIKICAgICAgICAgICAgfTsKICAg\nICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

