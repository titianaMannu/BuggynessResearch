{"sha":"cfe589a95be61c6ff1ffec4e95c0f8b17e12c7e7","node_id":"MDQ6QmxvYjIwNjM2NDpjZmU1ODlhOTViZTYxYzZmZjFmZmVjNGU5NWMwZjhiMTdlMTJjN2U3","size":4563,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cfe589a95be61c6ff1ffec4e95c0f8b17e12c7e7","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5hbnQ7CgppbXBvcnQg\nb3JnLmFwYWNoZS50b29scy5hbnQuQnVpbGRFeGNlcHRpb247CmltcG9ydCBv\ncmcuYXBhY2hlLnRvb2xzLmFudC50eXBlcy5FbnVtZXJhdGVkQXR0cmlidXRl\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJDQ29u\nZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmNv\nbmYuSkRCQ0NvbmZpZ3VyYXRpb25JbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLlNjaGVtYVRvb2w7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLmFudC5BYnN0cmFjdFRhc2s7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbkltcGw7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuRmlsZXM7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwoKLyoq\nCiAqIEV4ZWN1dGVzIHRoZSB7QGxpbmsgU2NoZW1hVG9vbH0gb24gdGhlIHNw\nZWNpZmllZCBYTUwgc2NoZW1hIGRlZmluaXRpb24KICogZmlsZXMuIFRoaXMg\ndGFzayBjYW4gdGFrZSB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czoKICogPHVs\nPgogKiA8bGk+PGNvZGU+YWN0aW9uPC9jb2RlPjwvbGk+CiAqIDxsaT48Y29k\nZT5pZ25vcmVFcnJvcnM8L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPmRyb3BU\nYWJsZXM8L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPmRyb3BTZXF1ZW5jZXM8\nL2NvZGU+PC9saT4KICogPGxpPjxjb2RlPm9wZW5qcGFUYWJsZXM8L2NvZGU+\nPC9saT4KICogPGxpPjxjb2RlPnByaW1hcnlLZXlzPC9jb2RlPjwvbGk+CiAq\nIDxsaT48Y29kZT5mb3JlaWduS2V5czwvY29kZT48L2xpPgogKiA8bGk+PGNv\nZGU+aW5kZXhlczwvY29kZT48L2xpPgogKiA8bGk+PGNvZGU+c2VxdWVuY2Vz\nPC9jb2RlPjwvbGk+CiAqIDxsaT48Y29kZT5yZWNvcmQ8L2NvZGU+PC9saT4K\nICogPGxpPjxjb2RlPmZpbGU8L2NvZGU+PC9saT4KICogPC91bD4gT2YgdGhl\nc2UgYXJndW1lbnRzLCBvbmx5IDxjb2RlPmFjdGlvbjwvY29kZT4gaXMgcmVx\ndWlyZWQuCiAqLwpwdWJsaWMgY2xhc3MgU2NoZW1hVG9vbFRhc2sKICAgIGV4\ndGVuZHMgQWJzdHJhY3RUYXNrIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5h\nbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAg\nICAgKFNjaGVtYVRvb2xUYXNrLmNsYXNzKTsKCiAgICBwcm90ZWN0ZWQgU2No\nZW1hVG9vbC5GbGFncyBmbGFncyA9IG5ldyBTY2hlbWFUb29sLkZsYWdzKCk7\nCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGZpbGUgPSBudWxsOwoKICAgIC8qKgog\nICAgICogU2V0IHRoZSBlbnVtZXJhdGVkIFNjaGVtYVRvb2wgYWN0aW9uIHR5\ncGUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEFjdGlvbihBY3Rpb24g\nYWN0KSB7CiAgICAgICAgZmxhZ3MuYWN0aW9uID0gYWN0LmdldFZhbHVlKCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB3ZSB3YW50IHRo\nZSBTY2hlbWFUb29sIHRvIGlnbm9yZSBTUUwgZXJyb3JzLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRJZ25vcmVFcnJvcnMoYm9vbGVhbiBpZ25vcmVF\ncnJvcnMpIHsKICAgICAgICBmbGFncy5pZ25vcmVFcnJvcnMgPSBpZ25vcmVF\ncnJvcnM7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0byBk\ncm9wIG9yIHJlZmxlY3Qgb24gT3BlbkpQQSB0YWJsZXMuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldE9wZW5KUEFUYWJsZXMoYm9vbGVhbiBvcGVuanBh\nVGFibGVzKSB7CiAgICAgICAgZmxhZ3Mub3BlbmpwYVRhYmxlcyA9IG9wZW5q\ncGFUYWJsZXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0\naGUgU2NoZW1hVG9vbCBzaG91bGQgZHJvcCBzZXF1ZW5jZXMuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldERyb3BTZXF1ZW5jZXMoYm9vbGVhbiBkcm9w\nU2VxdWVuY2VzKSB7CiAgICAgICAgZmxhZ3MuZHJvcFNlcXVlbmNlcyA9IGRy\nb3BTZXF1ZW5jZXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhl\nciB0aGUgU2NoZW1hVG9vbCBzaG91bGQgbWFuaXB1bGF0ZSBzZXF1ZW5jZXMu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNlcXVlbmNlcyhib29sZWFu\nIHNlcXVlbmNlcykgewogICAgICAgIGZsYWdzLnNlcXVlbmNlcyA9IHNlcXVl\nbmNlczsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB3aGV0aGVyIHRvIGdl\nbmVyYXRlIHByaW1hcnkga2V5IGluZm9ybWF0aW9uLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXRQcmltYXJ5S2V5cyhib29sZWFuIHBrcykgewogICAg\nICAgIGZsYWdzLnByaW1hcnlLZXlzID0gcGtzOwogICAgfQoKICAgIC8qKgog\nICAgICogU2V0IHdoZXRoZXIgdG8gZ2VuZXJhdGUgZm9yZWlnbiBrZXkgaW5m\nb3JtYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEZvcmVpZ25L\nZXlzKGJvb2xlYW4gZmtzKSB7CiAgICAgICAgZmxhZ3MuZm9yZWlnbktleXMg\nPSBma3M7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0byBn\nZW5lcmF0ZSBpbmRleCBpbmZvcm1hdGlvbi4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgc2V0SW5kZXhlcyhib29sZWFuIGlkeHMpIHsKICAgICAgICBmbGFn\ncy5pbmRleGVzID0gaWR4czsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB3\naGV0aGVyIHRoZSBTY2hlbWFUb29sIHNob3VsZCByZWNvcmQgdG8gdGhlIHNj\naGVtYSBmYWN0b3J5LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRSZWNv\ncmQoYm9vbGVhbiByZWNvcmQpIHsKICAgICAgICBmbGFncy5yZWNvcmQgPSBy\nZWNvcmQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIG91dHB1dCBm\naWxlIHdlIHdhbnQgdGhlIFNjaGVtYVRvb2wgdG8gd3JpdGUgdG8uCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHNldEZpbGUoU3RyaW5nIGZpbGUpIHsKICAg\nICAgICB0aGlzLmZpbGUgPSBmaWxlOwogICAgfQoKICAgIHByb3RlY3RlZCBD\nb25maWd1cmF0aW9uSW1wbCBuZXdDb25maWd1cmF0aW9uKCkgewogICAgICAg\nIHJldHVybiBuZXcgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKCk7CiAgICB9Cgog\nICAgcHJvdGVjdGVkIHZvaWQgZXhlY3V0ZU9uKFN0cmluZ1tdIGZpbGVzKQog\nICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmIChTY2hlbWFU\nb29sLkFDVElPTl9JTVBPUlQuZXF1YWxzKGZsYWdzLmFjdGlvbikpCiAgICAg\nICAgICAgIGFzc2VydEZpbGVzKGZpbGVzKTsKCiAgICAgICAgQ2xhc3NMb2Fk\nZXIgbG9hZGVyID0gZ2V0Q2xhc3NMb2FkZXIoKTsKICAgICAgICBmbGFncy53\ncml0ZXIgPSBGaWxlcy5nZXRXcml0ZXIoZmlsZSwgbG9hZGVyKTsKICAgICAg\nICBpZiAoIVNjaGVtYVRvb2wucnVuKChKREJDQ29uZmlndXJhdGlvbikgZ2V0\nQ29uZmlndXJhdGlvbigpLCBmaWxlcywKICAgICAgICAgICAgZmxhZ3MsIGxv\nYWRlcikpCiAgICAgICAgICAgIHRocm93IG5ldyBCdWlsZEV4Y2VwdGlvbihf\nbG9jLmdldCgiYmFkLWNvbmYiLCAiU2NoZW1hVG9vbFRhc2siKQogICAgICAg\nICAgICAgICAgLmdldE1lc3NhZ2UoKSk7CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyBjbGFzcyBBY3Rpb24KICAgICAgICBleHRlbmRzIEVudW1lcmF0ZWRB\ndHRyaWJ1dGUgewoKICAgICAgICBwdWJsaWMgU3RyaW5nW10gZ2V0VmFsdWVz\nKCkgewogICAgICAgICAgICByZXR1cm4gU2NoZW1hVG9vbC5BQ1RJT05TOwog\nICAgICAgIH0KICAgIH0KfQoK\n","encoding":"base64"}

