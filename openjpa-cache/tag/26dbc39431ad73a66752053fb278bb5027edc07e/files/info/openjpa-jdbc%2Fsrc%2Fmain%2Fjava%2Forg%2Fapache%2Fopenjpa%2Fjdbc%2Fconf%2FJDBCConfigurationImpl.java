{"sha":"41d05d09f7d1ffca0a1803891244ef661d379b14","node_id":"MDQ6QmxvYjIwNjM2NDo0MWQwNWQwOWY3ZDFmZmNhMGExODAzODkxMjQ0ZWY2NjFkMzc5YjE0","size":32429,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/41d05d09f7d1ffca0a1803891244ef661d379b14","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mOwoKaW1wb3J0\nIGphdmEuc3FsLkNvbm5lY3Rpb247CmltcG9ydCBqYXZhLnNxbC5SZXN1bHRT\nZXQ7CmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRp\nbC5NYXA7CgppbXBvcnQgamF2YXguc3FsLkRhdGFTb3VyY2U7CgppbXBvcnQg\nb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuY29uZi5PcGVuSlBBQ29uZmlndXJhdGlvbklt\ncGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuQmF0\nY2hpbmdDb25zdHJhaW50VXBkYXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLmtlcm5lbC5CYXRjaGluZ09wZXJhdGlvbk9yZGVy\nVXBkYXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLmtlcm5lbC5FYWdlckZldGNoTW9kZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5rZXJuZWwuSkRCQ0Jyb2tlckZhY3Rvcnk7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuTFJTU2l6ZXM7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuUGVzc2ltaXN0aWNM\nb2NrTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtl\ncm5lbC5VcGRhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMubWV0YS5NYXBwaW5nRGVmYXVsdHM7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5tZXRhLk1hcHBpbmdSZXBvc2l0b3J5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkRhdGFTb3VyY2VGYWN0\nb3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkRy\naXZlckRhdGFTb3VyY2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zY2hlbWEuU2NoZW1hRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5zcWwuREJEaWN0aW9uYXJ5RmFjdG9yeTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TUUxGYWN0b3J5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5Ccm9rZXJJbXBsOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5TdG9yZUNvbnRleHQ7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuSW50VmFsdWU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuT2JqZWN0VmFsdWU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuUGx1Z2luVmFs\ndWU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuUHJvZHVj\ndERlcml2YXRpb25zOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5j\nb25mLlN0cmluZ0xpc3RWYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIuY29uZi5TdHJpbmdWYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIuamRiYy5Db25uZWN0aW9uRGVjb3JhdG9yOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5qZGJjLkRlY29yYXRpbmdEYXRhU291cmNl\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5qZGJjLkpEQkNMaXN0\nZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxvZzsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5NZXRhRGF0YUZhY3Rv\ncnk7CgovKioKICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUge0Bs\naW5rIEpEQkNDb25maWd1cmF0aW9ufSBpbnRlcmZhY2UuCiAqCiAqIEBhdXRo\nb3IgTWFyYyBQcnVkJ2hvbW1lYXV4CiAqIEBhdXRob3IgQWJlIFdoaXRlCiAq\nLwpwdWJsaWMgY2xhc3MgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsCiAgICBleHRl\nbmRzIE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbAogICAgaW1wbGVtZW50cyBK\nREJDQ29uZmlndXJhdGlvbiB7CgogICAgcHVibGljIFN0cmluZ1ZhbHVlIHNj\naGVtYTsKICAgIHB1YmxpYyBTdHJpbmdMaXN0VmFsdWUgc2NoZW1hczsKICAg\nIHB1YmxpYyBJbnRWYWx1ZSB0cmFuc2FjdGlvbklzb2xhdGlvbjsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSByZXN1bHRTZXRUeXBlOwogICAgcHVibGljIEludFZh\nbHVlIGZldGNoRGlyZWN0aW9uOwogICAgcHVibGljIEZldGNoTW9kZVZhbHVl\nIGVhZ2VyRmV0Y2hNb2RlOwogICAgcHVibGljIEZldGNoTW9kZVZhbHVlIHN1\nYmNsYXNzRmV0Y2hNb2RlOwogICAgcHVibGljIEludFZhbHVlIGxyc1NpemU7\nCiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgc3luY2hyb25pemVNYXBwaW5nczsK\nICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBqZGJjTGlzdGVuZXJQbHVnaW5zOwog\nICAgcHVibGljIE9iamVjdFZhbHVlIGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVn\naW5zOwogICAgcHVibGljIFBsdWdpblZhbHVlIGRiZGljdGlvbmFyeVBsdWdp\nbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSB1cGRhdGVNYW5hZ2VyUGx1Z2lu\nOwogICAgcHVibGljIE9iamVjdFZhbHVlIHNjaGVtYUZhY3RvcnlQbHVnaW47\nCiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgc3FsRmFjdG9yeVBsdWdpbjsKICAg\nIHB1YmxpYyBPYmplY3RWYWx1ZSBtYXBwaW5nRGVmYXVsdHNQbHVnaW47CiAg\nICBwdWJsaWMgUGx1Z2luVmFsdWUgZHJpdmVyRGF0YVNvdXJjZVBsdWdpbjsK\nICAgIHB1YmxpYyBNYXBwaW5nRmFjdG9yeVZhbHVlIG1hcHBpbmdGYWN0b3J5\nUGx1Z2luOwogICAgcHVibGljIFF1ZXJ5U1FMQ2FjaGVWYWx1ZSBxdWVyeVNR\nTENhY2hlOwogICAgcHJpdmF0ZSBNYXAgcXVlcnlTUUxDYWNoZUluc3RhbmNl\nID0gbmV3IEhhc2hNYXAoKTsgCgogICAgLy8gdXNlZCBpbnRlcm5hbGx5CiAg\nICBwcml2YXRlIFN0cmluZyBmaXJzdFVzZXIgPSBudWxsOwogICAgcHJpdmF0\nZSBTdHJpbmcgZmlyc3RQYXNzID0gbnVsbDsKICAgIHByaXZhdGUgRGVjb3Jh\ndGluZ0RhdGFTb3VyY2UgZGF0YVNvdXJjZSA9IG51bGw7CiAgICBwcml2YXRl\nIERlY29yYXRpbmdEYXRhU291cmNlIGRhdGFTb3VyY2UyID0gbnVsbDsKCiAg\nICAvKioKICAgICAqIERlZmF1bHQgY29uc3RydWN0b3IuIEF0dGVtcHRzIHRv\nIGxvYWQgZGVmYXVsdCBwcm9wZXJ0aWVzLgogICAgICovCiAgICBwdWJsaWMg\nSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKCkgewogICAgICAgIHRoaXModHJ1ZSk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4KICAgICAqCiAg\nICAgKiBAcGFyYW0gbG9hZEdsb2JhbHMgd2hldGhlciB0byBhdHRlbXB0IHRv\nIGxvYWQgdGhlIGdsb2JhbCBwcm9wZXJ0aWVzCiAgICAgKi8KICAgIHB1Ymxp\nYyBKREJDQ29uZmlndXJhdGlvbkltcGwoYm9vbGVhbiBsb2FkR2xvYmFscykg\newogICAgICAgIHRoaXModHJ1ZSwgbG9hZEdsb2JhbHMpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ29uc3RydWN0b3IuCiAgICAgKgogICAgICogQHBhcmFt\nIGRlcml2YXRpb25zIHdoZXRoZXIgdG8gYXBwbHkgcHJvZHVjdCBkZXJpdmF0\naW9ucwogICAgICogQHBhcmFtIGxvYWRHbG9iYWxzIHdoZXRoZXIgdG8gYXR0\nZW1wdCB0byBsb2FkIHRoZSBnbG9iYWwgcHJvcGVydGllcwogICAgICovCiAg\nICBwdWJsaWMgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKGJvb2xlYW4gZGVyaXZh\ndGlvbnMsIGJvb2xlYW4gbG9hZEdsb2JhbHMpIHsKICAgICAgICBzdXBlcihm\nYWxzZSwgZmFsc2UpOwogICAgICAgIFN0cmluZ1tdIGFsaWFzZXM7CgogICAg\nICAgIHNjaGVtYSA9IGFkZFN0cmluZygiamRiYy5TY2hlbWEiKTsKICAgICAg\nICBzY2hlbWFzID0gYWRkU3RyaW5nTGlzdCgiamRiYy5TY2hlbWFzIik7Cgog\nICAgICAgIHRyYW5zYWN0aW9uSXNvbGF0aW9uID0gYWRkSW50KCJqZGJjLlRy\nYW5zYWN0aW9uSXNvbGF0aW9uIik7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBT\ndHJpbmdbXXsKICAgICAgICAgICAgImRlZmF1bHQiLCBTdHJpbmcudmFsdWVP\nZigtMSksCiAgICAgICAgICAgICJub25lIiwgU3RyaW5nLnZhbHVlT2YoQ29u\nbmVjdGlvbi5UUkFOU0FDVElPTl9OT05FKSwKICAgICAgICAgICAgInJlYWQt\nY29tbWl0dGVkIiwgU3RyaW5nLnZhbHVlT2YKICAgICAgICAgICAgKENvbm5l\nY3Rpb24uVFJBTlNBQ1RJT05fUkVBRF9DT01NSVRURUQpLAogICAgICAgICAg\nICAicmVhZC11bmNvbW1pdHRlZCIsIFN0cmluZy52YWx1ZU9mCiAgICAgICAg\nICAgIChDb25uZWN0aW9uLlRSQU5TQUNUSU9OX1JFQURfVU5DT01NSVRURUQp\nLAogICAgICAgICAgICAicmVwZWF0YWJsZS1yZWFkIiwgU3RyaW5nLnZhbHVl\nT2YKICAgICAgICAgICAgKENvbm5lY3Rpb24uVFJBTlNBQ1RJT05fUkVQRUFU\nQUJMRV9SRUFEKSwKICAgICAgICAgICAgInNlcmlhbGl6YWJsZSIsIFN0cmlu\nZy52YWx1ZU9mKENvbm5lY3Rpb24uVFJBTlNBQ1RJT05fU0VSSUFMSVpBQkxF\nKQogICAgICAgIH07CiAgICAgICAgdHJhbnNhY3Rpb25Jc29sYXRpb24uc2V0\nQWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICB0cmFuc2FjdGlvbklzb2xhdGlv\nbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIHRyYW5zYWN0aW9u\nSXNvbGF0aW9uLnNldCgtMSk7CiAgICAgICAgdHJhbnNhY3Rpb25Jc29sYXRp\nb24uc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAg\ncmVzdWx0U2V0VHlwZSA9IGFkZEludCgiamRiYy5SZXN1bHRTZXRUeXBlIik7\nCiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAgICAg\nImZvcndhcmQtb25seSIsIFN0cmluZy52YWx1ZU9mKFJlc3VsdFNldC5UWVBF\nX0ZPUldBUkRfT05MWSksCiAgICAgICAgICAgICJzY3JvbGwtc2Vuc2l0aXZl\nIiwgU3RyaW5nLnZhbHVlT2YKICAgICAgICAgICAgKFJlc3VsdFNldC5UWVBF\nX1NDUk9MTF9TRU5TSVRJVkUpLAogICAgICAgICAgICAic2Nyb2xsLWluc2Vu\nc2l0aXZlIiwgU3RyaW5nLnZhbHVlT2YKICAgICAgICAgICAgKFJlc3VsdFNl\ndC5UWVBFX1NDUk9MTF9JTlNFTlNJVElWRSksCiAgICAgICAgfTsKICAgICAg\nICByZXN1bHRTZXRUeXBlLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAg\ncmVzdWx0U2V0VHlwZS5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAg\nIHJlc3VsdFNldFR5cGUuc2V0KFJlc3VsdFNldC5UWVBFX0ZPUldBUkRfT05M\nWSk7CiAgICAgICAgcmVzdWx0U2V0VHlwZS5zZXRBbGlhc0xpc3RDb21wcmVo\nZW5zaXZlKHRydWUpOwoKICAgICAgICBmZXRjaERpcmVjdGlvbiA9IGFkZElu\ndCgiamRiYy5GZXRjaERpcmVjdGlvbiIpOwogICAgICAgIGFsaWFzZXMgPSBu\nZXcgU3RyaW5nW117CiAgICAgICAgICAgICJmb3J3YXJkIiwgU3RyaW5nLnZh\nbHVlT2YoUmVzdWx0U2V0LkZFVENIX0ZPUldBUkQpLAogICAgICAgICAgICAi\ncmV2ZXJzZSIsIFN0cmluZy52YWx1ZU9mKFJlc3VsdFNldC5GRVRDSF9SRVZF\nUlNFKSwKICAgICAgICAgICAgInVua25vd24iLCBTdHJpbmcudmFsdWVPZihS\nZXN1bHRTZXQuRkVUQ0hfVU5LTk9XTiksCiAgICAgICAgfTsKICAgICAgICBm\nZXRjaERpcmVjdGlvbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGZl\ndGNoRGlyZWN0aW9uLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAg\nZmV0Y2hEaXJlY3Rpb24uc2V0KFJlc3VsdFNldC5GRVRDSF9GT1JXQVJEKTsK\nICAgICAgICBmZXRjaERpcmVjdGlvbi5zZXRBbGlhc0xpc3RDb21wcmVoZW5z\naXZlKHRydWUpOwoKICAgICAgICBlYWdlckZldGNoTW9kZSA9IG5ldyBGZXRj\naE1vZGVWYWx1ZSgiamRiYy5FYWdlckZldGNoTW9kZSIpOwogICAgICAgIGVh\nZ2VyRmV0Y2hNb2RlLnNldERlZmF1bHQoRmV0Y2hNb2RlVmFsdWUuRUFHRVJf\nUEFSQUxMRUwpOwogICAgICAgIGVhZ2VyRmV0Y2hNb2RlLnNldChFYWdlckZl\ndGNoTW9kZXMuRUFHRVJfUEFSQUxMRUwpOwogICAgICAgIGFkZFZhbHVlKGVh\nZ2VyRmV0Y2hNb2RlKTsKCiAgICAgICAgc3ViY2xhc3NGZXRjaE1vZGUgPSBu\nZXcgRmV0Y2hNb2RlVmFsdWUoImpkYmMuU3ViY2xhc3NGZXRjaE1vZGUiKTsK\nICAgICAgICBzdWJjbGFzc0ZldGNoTW9kZS5zZXREZWZhdWx0KEZldGNoTW9k\nZVZhbHVlLkVBR0VSX0pPSU4pOwogICAgICAgIHN1YmNsYXNzRmV0Y2hNb2Rl\nLnNldChFYWdlckZldGNoTW9kZXMuRUFHRVJfSk9JTik7CiAgICAgICAgYWRk\nVmFsdWUoc3ViY2xhc3NGZXRjaE1vZGUpOwoKICAgICAgICBscnNTaXplID0g\nYWRkSW50KCJqZGJjLkxSU1NpemUiKTsKICAgICAgICBhbGlhc2VzID0gbmV3\nIFN0cmluZ1tdewogICAgICAgICAgICAicXVlcnkiLCBTdHJpbmcudmFsdWVP\nZihMUlNTaXplcy5TSVpFX1FVRVJZKSwKICAgICAgICAgICAgInVua25vd24i\nLCBTdHJpbmcudmFsdWVPZihMUlNTaXplcy5TSVpFX1VOS05PV04pLAogICAg\nICAgICAgICAibGFzdCIsIFN0cmluZy52YWx1ZU9mKExSU1NpemVzLlNJWkVf\nTEFTVCksCiAgICAgICAgfTsKICAgICAgICBscnNTaXplLnNldEFsaWFzZXMo\nYWxpYXNlcyk7CiAgICAgICAgbHJzU2l6ZS5zZXREZWZhdWx0KGFsaWFzZXNb\nMF0pOwogICAgICAgIGxyc1NpemUuc2V0KExSU1NpemVzLlNJWkVfUVVFUlkp\nOwogICAgICAgIGxyc1NpemUuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0\ncnVlKTsKCiAgICAgICAgc3luY2hyb25pemVNYXBwaW5ncyA9IGFkZFN0cmlu\nZygiamRiYy5TeW5jaHJvbml6ZU1hcHBpbmdzIik7CiAgICAgICAgYWxpYXNl\ncyA9IG5ldyBTdHJpbmdbXXsgImZhbHNlIiwgbnVsbCB9OwogICAgICAgIHN5\nbmNocm9uaXplTWFwcGluZ3Muc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAg\nICBzeW5jaHJvbml6ZU1hcHBpbmdzLnNldERlZmF1bHQoYWxpYXNlc1swXSk7\nCgogICAgICAgIGpkYmNMaXN0ZW5lclBsdWdpbnMgPSBhZGRQbHVnaW5MaXN0\nKCJqZGJjLkpEQkNMaXN0ZW5lcnMiKTsKICAgICAgICBqZGJjTGlzdGVuZXJQ\nbHVnaW5zLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldEpEQkNMaXN0ZW5l\nckluc3RhbmNlcyIpOwoKICAgICAgICBjb25uZWN0aW9uRGVjb3JhdG9yUGx1\nZ2lucyA9IGFkZFBsdWdpbkxpc3QKICAgICAgICAgICAgKCJqZGJjLkNvbm5l\nY3Rpb25EZWNvcmF0b3JzIik7CiAgICAgICAgY29ubmVjdGlvbkRlY29yYXRv\nclBsdWdpbnMuc2V0SW5zdGFudGlhdGluZ0dldHRlcgogICAgICAgICAgICAo\nImdldENvbm5lY3Rpb25EZWNvcmF0b3JJbnN0YW5jZXMiKTsKCiAgICAgICAg\nZGJkaWN0aW9uYXJ5UGx1Z2luID0gYWRkUGx1Z2luKCJqZGJjLkRCRGljdGlv\nbmFyeSIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW117\nCiAgICAgICAgICAgICJhY2Nlc3MiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLkFjY2Vzc0RpY3Rpb25hcnkiLAogICAgICAgICAgICAiZGIyIiwg\nIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQjJEaWN0aW9uYXJ5IiwK\nICAgICAgICAgICAgImRlcmJ5IiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLnNxbC5EZXJieURpY3Rpb25hcnkiLAogICAgICAgICAgICAiZW1wcmVzcyIs\nICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuRW1wcmVzc0RpY3Rpb25h\ncnkiLAogICAgICAgICAgICAiZm94cHJvIiwgIm9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNxbC5Gb3hQcm9EaWN0aW9uYXJ5IiwKICAgICAgICAgICAgImgy\nIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5IMkRpY3Rpb25hcnki\nLAogICAgICAgICAgICAiaHNxbCIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuSFNRTERpY3Rpb25hcnkiLAogICAgICAgICAgICAiaW5mb3JtaXgi\nLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkluZm9ybWl4RGljdGlv\nbmFyeSIsCiAgICAgICAgICAgICJqZGF0YXN0b3JlIiwgIm9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbC5KRGF0YVN0b3JlRGljdGlvbmFyeSIsCiAgICAg\nICAgICAgICJteXNxbCIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwu\nTXlTUUxEaWN0aW9uYXJ5IiwKICAgICAgICAgICAgIm9yYWNsZSIsICJvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuT3JhY2xlRGljdGlvbmFyeSIsCiAg\nICAgICAgICAgICJwb2ludGJhc2UiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlBvaW50YmFzZURpY3Rpb25hcnkiLAogICAgICAgICAgICAicG9z\ndGdyZXMiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlBvc3RncmVz\nRGljdGlvbmFyeSIsCiAgICAgICAgICAgICJzcWxzZXJ2ZXIiLCAib3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTFNlcnZlckRpY3Rpb25hcnkiLAog\nICAgICAgICAgICAic3liYXNlIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLnNxbC5TeWJhc2VEaWN0aW9uYXJ5IiwKICAgICAgICB9OwogICAgICAgIGRi\nZGljdGlvbmFyeVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAg\nIGRiZGljdGlvbmFyeVBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJn\nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSIpOwoKICAgICAgICB1cGRhdGVNYW5h\nZ2VyUGx1Z2luID0gYWRkUGx1Z2luKCJqZGJjLlVwZGF0ZU1hbmFnZXIiLCB0\ncnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdewogICAgICAg\nICAgICAiZGVmYXVsdCIsCiAgICAgICAgICAgIEJhdGNoaW5nQ29uc3RyYWlu\ndFVwZGF0ZU1hbmFnZXIuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICAi\nb3BlcmF0aW9uLW9yZGVyIiwKICAgICAgICAgICAgIm9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLmtlcm5lbC5PcGVyYXRpb25PcmRlclVwZGF0ZU1hbmFnZXIi\nLAogICAgICAgICAgICAiY29uc3RyYWludCIsCiAgICAgICAgICAgICJvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuQ29uc3RyYWludFVwZGF0ZU1h\nbmFnZXIiLAogICAgICAgICAgICAiYmF0Y2hpbmctY29uc3RyYWludCIsCiAg\nICAgICAgICAgIEJhdGNoaW5nQ29uc3RyYWludFVwZGF0ZU1hbmFnZXIuY2xh\nc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICAiYmF0Y2hpbmctb3BlcmF0aW9u\nLW9yZGVyIiwKICAgICAgICAgICAgQmF0Y2hpbmdPcGVyYXRpb25PcmRlclVw\nZGF0ZU1hbmFnZXIuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgIH07CiAgICAg\nICAgdXBkYXRlTWFuYWdlclBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwog\nICAgICAgIHVwZGF0ZU1hbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2Vz\nWzBdKTsKICAgICAgICB1cGRhdGVNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhh\nbGlhc2VzWzBdKTsKICAgICAgICB1cGRhdGVNYW5hZ2VyUGx1Z2luLnNldElu\nc3RhbnRpYXRpbmdHZXR0ZXIoImdldFVwZGF0ZU1hbmFnZXJJbnN0YW5jZSIp\nOwoKICAgICAgICBkcml2ZXJEYXRhU291cmNlUGx1Z2luID0gYWRkUGx1Z2lu\nKCJqZGJjLkRyaXZlckRhdGFTb3VyY2UiLCBmYWxzZSk7CiAgICAgICAgYWxp\nYXNlcyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAgICAgInNpbXBsZSIsICJv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuU2ltcGxlRHJpdmVyRGF0\nYVNvdXJjZSIsCiAgICAgICAgfTsKICAgICAgICBkcml2ZXJEYXRhU291cmNl\nUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgZHJpdmVyRGF0\nYVNvdXJjZVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAg\nIGRyaXZlckRhdGFTb3VyY2VQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0p\nOwoKICAgICAgICBzY2hlbWFGYWN0b3J5UGx1Z2luID0gYWRkUGx1Z2luKCJq\nZGJjLlNjaGVtYUZhY3RvcnkiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0g\nbmV3IFN0cmluZ1tdewogICAgICAgICAgICAiZHluYW1pYyIsICJvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuRHluYW1pY1NjaGVtYUZhY3Rvcnki\nLAogICAgICAgICAgICAibmF0aXZlIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNjaGVtYS5MYXp5U2NoZW1hRmFjdG9yeSIsCiAgICAgICAgICAgICJm\naWxlIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5GaWxlU2No\nZW1hRmFjdG9yeSIsCiAgICAgICAgICAgICJ0YWJsZSIsICJvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5zY2hlbWEuVGFibGVTY2hlbWFGYWN0b3J5IiwKICAg\nICAgICAgICAgLy8gZGVwcmVjYXRlZCBhbGlhcwogICAgICAgICAgICAiZGIi\nLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLlRhYmxlU2NoZW1h\nRmFjdG9yeSIsCiAgICAgICAgfTsKICAgICAgICBzY2hlbWFGYWN0b3J5UGx1\nZ2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgc2NoZW1hRmFjdG9y\neVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIHNjaGVt\nYUZhY3RvcnlQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAg\nIHNjaGVtYUZhY3RvcnlQbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigi\nZ2V0U2NoZW1hRmFjdG9yeUluc3RhbmNlIik7CgogICAgICAgIHNxbEZhY3Rv\ncnlQbHVnaW4gPSBhZGRQbHVnaW4oImpkYmMuU1FMRmFjdG9yeSIsIHRydWUp\nOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW117CiAgICAgICAgICAg\nICJkZWZhdWx0IiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TUUxG\nYWN0b3J5SW1wbCIsCiAgICAgICAgfTsKICAgICAgICBzcWxGYWN0b3J5UGx1\nZ2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgc3FsRmFjdG9yeVBs\ndWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIHNxbEZhY3Rv\ncnlQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIHNxbEZh\nY3RvcnlQbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0U1FMRmFj\ndG9yeUluc3RhbmNlIik7CgogICAgICAgIG1hcHBpbmdGYWN0b3J5UGx1Z2lu\nID0gbmV3IE1hcHBpbmdGYWN0b3J5VmFsdWUoImpkYmMuTWFwcGluZ0ZhY3Rv\ncnkiKTsKICAgICAgICBhZGRWYWx1ZShtYXBwaW5nRmFjdG9yeVBsdWdpbik7\nCgogICAgICAgIG1hcHBpbmdEZWZhdWx0c1BsdWdpbiA9IGFkZFBsdWdpbigi\namRiYy5NYXBwaW5nRGVmYXVsdHMiLCB0cnVlKTsKICAgICAgICBhbGlhc2Vz\nID0gbmV3IFN0cmluZ1tdewogICAgICAgICAgICAiZGVmYXVsdCIsICJvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLk1hcHBpbmdEZWZhdWx0c0ltcGwi\nLAogICAgICAgIH07CiAgICAgICAgbWFwcGluZ0RlZmF1bHRzUGx1Z2luLnNl\ndEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgbWFwcGluZ0RlZmF1bHRzUGx1\nZ2luLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgbWFwcGluZ0Rl\nZmF1bHRzUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBt\nYXBwaW5nRGVmYXVsdHNQbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcgog\nICAgICAgICAgICAoImdldE1hcHBpbmdEZWZhdWx0c0luc3RhbmNlIik7Cgog\nICAgICAgIC8vIHNldCB1cCBicm9rZXIgZmFjdG9yeSBkZWZhdWx0cwogICAg\nICAgIGJyb2tlckZhY3RvcnlQbHVnaW4uc2V0QWxpYXMoImpkYmMiLCBKREJD\nQnJva2VyRmFjdG9yeS5jbGFzcy5nZXROYW1lKCkpOwogICAgICAgIGJyb2tl\nckZhY3RvcnlQbHVnaW4uc2V0RGVmYXVsdCgiamRiYyIpOwogICAgICAgIGJy\nb2tlckZhY3RvcnlQbHVnaW4uc2V0U3RyaW5nKCJqZGJjIik7CgogICAgICAg\nIC8vIHNldCBuZXcgZGVmYXVsdCBmb3IgbWFwcGluZyByZXBvcwogICAgICAg\nIG1ldGFSZXBvc2l0b3J5UGx1Z2luLnNldEFsaWFzKCJkZWZhdWx0IiwKICAg\nICAgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuTWFwcGlu\nZ1JlcG9zaXRvcnkiKTsKICAgICAgICBtZXRhUmVwb3NpdG9yeVBsdWdpbi5z\nZXREZWZhdWx0KCJkZWZhdWx0Iik7CiAgICAgICAgbWV0YVJlcG9zaXRvcnlQ\nbHVnaW4uc2V0U3RyaW5nKCJkZWZhdWx0Iik7CgogICAgICAgIC8vIHNldCBu\nZXcgZGVmYXVsdCBmb3IgbG9jayBtYW5hZ2VyCiAgICAgICAgbG9ja01hbmFn\nZXJQbHVnaW4uc2V0QWxpYXMoInBlc3NpbWlzdGljIiwKICAgICAgICAgICAg\nUGVzc2ltaXN0aWNMb2NrTWFuYWdlci5jbGFzcy5nZXROYW1lKCkpOwogICAg\nICAgIGxvY2tNYW5hZ2VyUGx1Z2luLnNldERlZmF1bHQoInBlc3NpbWlzdGlj\nIik7CiAgICAgICAgbG9ja01hbmFnZXJQbHVnaW4uc2V0U3RyaW5nKCJwZXNz\naW1pc3RpYyIpOwoKICAgICAgICAvLyBuYXRpdmUgc2F2ZXBvaW50IG1hbmFn\nZXIgb3B0aW9ucwogICAgICAgIHNhdmVwb2ludE1hbmFnZXJQbHVnaW4uc2V0\nQWxpYXMoImpkYmMiLAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMua2VybmVsLkpEQkMzU2F2ZXBvaW50TWFuYWdlciIpOwoKICAgICAg\nICAvLyBzZXQgbmV3IGFsaWFzZXMgYW5kIGRlZmF1bHRzIGZvciBzZXF1ZW5j\nZQogICAgICAgIHNlcVBsdWdpbi5zZXRBbGlhc2VzKEpEQkNTZXFWYWx1ZS5B\nTElBU0VTKTsKICAgICAgICBzZXFQbHVnaW4uc2V0RGVmYXVsdChKREJDU2Vx\nVmFsdWUuQUxJQVNFU1swXSk7CiAgICAgICAgc2VxUGx1Z2luLnNldFN0cmlu\nZyhKREJDU2VxVmFsdWUuQUxJQVNFU1swXSk7CgogICAgICAgIHF1ZXJ5U1FM\nQ2FjaGUgPSBuZXcgUXVlcnlTUUxDYWNoZVZhbHVlKCJqZGJjLlF1ZXJ5U1FM\nQ2FjaGUiKTsKICAgICAgICBhZGRWYWx1ZShxdWVyeVNRTENhY2hlKTsKCiAg\nICAgICAgLy8gdGhpcyBzdGF0aWMgaW5pdGlhbGl6ZXIgaXMgdG8gZ2V0IHBh\nc3QgYSB3ZWlyZAogICAgICAgIC8vIENsYXNzQ2lyY3VsYXJpdHlFcnJvciB0\naGF0IGhhcHBlbnMgb25seSB1bmRlciBJQk0ncwogICAgICAgIC8vIEpESyAx\nLjMuMSBvbiBMaW51eCBmcm9tIHdpdGhpbiB0aGUgSlJ1biBDbGFzc0xvYWRl\ncjsKICAgICAgICAvLyB3aGlsZSBleGFjdCBjYXVzZXMgYXJlIHVua25vd24s\nIGl0IGlzIGFsbW9zdCBjZXJ0YWlubHkKICAgICAgICAvLyBhIGJ1ZyBpbiBK\nUnVuLCBhbmQgd2UgY2FuIGdldCBhcm91bmQgaXQgYnkgZm9yY2luZwogICAg\nICAgIC8vIEluc3RydWN0aW9uLmNsYXNzIHRvIGJlIGxvYWRlZCBhbmQgaW5p\ndGlhbGl6ZWQKICAgICAgICAvLyBiZWZvcmUgVHlwZWRJbnN0cnVjdGlvbi5j\nbGFzcwogICAgICAgIHRyeSB7IHNlcnAuYnl0ZWNvZGUubG93bGV2ZWwuRW50\ncnkuY2xhc3MuZ2V0TmFtZSgpOyB9IAogICAgICAgIGNhdGNoIChUaHJvd2Fi\nbGUgdCkge30KICAgICAgICB0cnkgeyBzZXJwLmJ5dGVjb2RlLkluc3RydWN0\naW9uLmNsYXNzLmdldE5hbWUoKTsgfSAKICAgICAgICBjYXRjaCAoVGhyb3dh\nYmxlIHQpIHt9CgogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMoKS5hZGQoT1BU\nSU9OX1FVRVJZX1NRTCk7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucygpLmFk\nZChPUFRJT05fSkRCQ19DT05ORUNUSU9OKTsKICAgICAgICBzdXBwb3J0ZWRP\ncHRpb25zKCkucmVtb3ZlKE9QVElPTl9WQUxVRV9JTkNSRU1FTlQpOwogICAg\nICAgIHN1cHBvcnRlZE9wdGlvbnMoKS5yZW1vdmUoT1BUSU9OX05VTExfQ09O\nVEFJTkVSKTsKCiAgICAgICAgaWYgKGRlcml2YXRpb25zKQogICAgICAgICAg\nICBQcm9kdWN0RGVyaXZhdGlvbnMuYmVmb3JlQ29uZmlndXJhdGlvbkxvYWQo\ndGhpcyk7CiAgICAgICAgaWYgKGxvYWRHbG9iYWxzKQogICAgICAgICAgICBs\nb2FkR2xvYmFscygpOwogICAgfQoKICAgIC8qKgogICAgICogQ29weSBjb25z\ndHJ1Y3RvcgogICAgICovCiAgICBwdWJsaWMgSkRCQ0NvbmZpZ3VyYXRpb25J\nbXBsKEpEQkNDb25maWd1cmF0aW9uIGNvbmYpIHsKICAgICAgICB0aGlzKHRy\ndWUsIGZhbHNlKTsKICAgICAgICBpZiAoY29uZiAhPSBudWxsKQogICAgICAg\nICAgICBmcm9tUHJvcGVydGllcyhjb25mLnRvUHJvcGVydGllcyhmYWxzZSkp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNjaGVtYShTdHJpbmcgc2No\nZW1hKSB7CiAgICAgICAgdGhpcy5zY2hlbWEuc2V0U3RyaW5nKHNjaGVtYSk7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTY2hlbWEoKSB7CiAgICAg\nICAgcmV0dXJuIHNjaGVtYS5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRTY2hlbWFzKFN0cmluZyBzY2hlbWFzKSB7CiAgICAgICAg\ndGhpcy5zY2hlbWFzLnNldFN0cmluZyhzY2hlbWFzKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldFNjaGVtYXMoKSB7CiAgICAgICAgcmV0dXJuIHNj\naGVtYXMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nU2NoZW1hcyhTdHJpbmdbXSBzY2hlbWFzKSB7CiAgICAgICAgdGhpcy5zY2hl\nbWFzLnNldChzY2hlbWFzKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nW10g\nZ2V0U2NoZW1hc0xpc3QoKSB7CiAgICAgICAgcmV0dXJuIHNjaGVtYXMuZ2V0\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHJhbnNhY3Rpb25Jc29s\nYXRpb24oU3RyaW5nIHRyYW5zYWN0aW9uSXNvbGF0aW9uKSB7CiAgICAgICAg\ndGhpcy50cmFuc2FjdGlvbklzb2xhdGlvbi5zZXRTdHJpbmcodHJhbnNhY3Rp\nb25Jc29sYXRpb24pOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0VHJh\nbnNhY3Rpb25Jc29sYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zYWN0\naW9uSXNvbGF0aW9uLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFRyYW5zYWN0aW9uSXNvbGF0aW9uKGludCB0cmFuc2FjdGlvbklz\nb2xhdGlvbikgewogICAgICAgIHRoaXMudHJhbnNhY3Rpb25Jc29sYXRpb24u\nc2V0KHRyYW5zYWN0aW9uSXNvbGF0aW9uKTsKICAgIH0KCiAgICBwdWJsaWMg\naW50IGdldFRyYW5zYWN0aW9uSXNvbGF0aW9uQ29uc3RhbnQoKSB7CiAgICAg\nICAgcmV0dXJuIHRyYW5zYWN0aW9uSXNvbGF0aW9uLmdldCgpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldFJlc3VsdFNldFR5cGUoU3RyaW5nIHJlc3Vs\ndFNldFR5cGUpIHsKICAgICAgICB0aGlzLnJlc3VsdFNldFR5cGUuc2V0U3Ry\naW5nKHJlc3VsdFNldFR5cGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0UmVzdWx0U2V0VHlwZSgpIHsKICAgICAgICByZXR1cm4gcmVzdWx0U2V0\nVHlwZS5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRS\nZXN1bHRTZXRUeXBlKGludCByZXN1bHRTZXRUeXBlKSB7CiAgICAgICAgdGhp\ncy5yZXN1bHRTZXRUeXBlLnNldChyZXN1bHRTZXRUeXBlKTsKICAgIH0KCiAg\nICBwdWJsaWMgaW50IGdldFJlc3VsdFNldFR5cGVDb25zdGFudCgpIHsKICAg\nICAgICByZXR1cm4gcmVzdWx0U2V0VHlwZS5nZXQoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRGZXRjaERpcmVjdGlvbihTdHJpbmcgZmV0Y2hEaXJl\nY3Rpb24pIHsKICAgICAgICB0aGlzLmZldGNoRGlyZWN0aW9uLnNldFN0cmlu\nZyhmZXRjaERpcmVjdGlvbik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRGZXRjaERpcmVjdGlvbigpIHsKICAgICAgICByZXR1cm4gZmV0Y2hEaXJl\nY3Rpb24uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nRmV0Y2hEaXJlY3Rpb24oaW50IGZldGNoRGlyZWN0aW9uKSB7CiAgICAgICAg\ndGhpcy5mZXRjaERpcmVjdGlvbi5zZXQoZmV0Y2hEaXJlY3Rpb24pOwogICAg\nfQoKICAgIHB1YmxpYyBpbnQgZ2V0RmV0Y2hEaXJlY3Rpb25Db25zdGFudCgp\nIHsKICAgICAgICByZXR1cm4gZmV0Y2hEaXJlY3Rpb24uZ2V0KCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0RWFnZXJGZXRjaE1vZGUoU3RyaW5nIGVh\nZ2VyRmV0Y2hNb2RlKSB7CiAgICAgICAgdGhpcy5lYWdlckZldGNoTW9kZS5z\nZXRTdHJpbmcoZWFnZXJGZXRjaE1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0RWFnZXJGZXRjaE1vZGUoKSB7CiAgICAgICAgcmV0dXJuIGVh\nZ2VyRmV0Y2hNb2RlLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldEVhZ2VyRmV0Y2hNb2RlKGludCBlYWdlckZldGNoTW9kZSkgewog\nICAgICAgIHRoaXMuZWFnZXJGZXRjaE1vZGUuc2V0KGVhZ2VyRmV0Y2hNb2Rl\nKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldEVhZ2VyRmV0Y2hNb2RlQ29u\nc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIGVhZ2VyRmV0Y2hNb2RlLmdldCgp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFN1YmNsYXNzRmV0Y2hNb2Rl\nKFN0cmluZyBzdWJjbGFzc0ZldGNoTW9kZSkgewogICAgICAgIHRoaXMuc3Vi\nY2xhc3NGZXRjaE1vZGUuc2V0U3RyaW5nKHN1YmNsYXNzRmV0Y2hNb2RlKTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFN1YmNsYXNzRmV0Y2hNb2Rl\nKCkgewogICAgICAgIHJldHVybiBzdWJjbGFzc0ZldGNoTW9kZS5nZXRTdHJp\nbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTdWJjbGFzc0ZldGNo\nTW9kZShpbnQgc3ViY2xhc3NGZXRjaE1vZGUpIHsKICAgICAgICB0aGlzLnN1\nYmNsYXNzRmV0Y2hNb2RlLnNldChzdWJjbGFzc0ZldGNoTW9kZSk7CiAgICB9\nCgogICAgcHVibGljIGludCBnZXRTdWJjbGFzc0ZldGNoTW9kZUNvbnN0YW50\nKCkgewogICAgICAgIHJldHVybiBzdWJjbGFzc0ZldGNoTW9kZS5nZXQoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRMUlNTaXplKFN0cmluZyBscnNT\naXplKSB7CiAgICAgICAgdGhpcy5scnNTaXplLnNldFN0cmluZyhscnNTaXpl\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldExSU1NpemUoKSB7CiAg\nICAgICAgcmV0dXJuIGxyc1NpemUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0TFJTU2l6ZShpbnQgbHJzU2l6ZSkgewogICAgICAg\nIHRoaXMubHJzU2l6ZS5zZXQobHJzU2l6ZSk7CiAgICB9CgogICAgcHVibGlj\nIGludCBnZXRMUlNTaXplQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIGxy\nc1NpemUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U3luY2hy\nb25pemVNYXBwaW5ncyhTdHJpbmcgc3luY2hyb25pemVNYXBwaW5ncykgewog\nICAgICAgIHRoaXMuc3luY2hyb25pemVNYXBwaW5ncy5zZXQoc3luY2hyb25p\nemVNYXBwaW5ncyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTeW5j\naHJvbml6ZU1hcHBpbmdzKCkgewogICAgICAgIHJldHVybiBzeW5jaHJvbml6\nZU1hcHBpbmdzLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEpE\nQkNMaXN0ZW5lcnMoU3RyaW5nIGpkYmNMaXN0ZW5lcnMpIHsKICAgICAgICBq\nZGJjTGlzdGVuZXJQbHVnaW5zLnNldFN0cmluZyhqZGJjTGlzdGVuZXJzKTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEpEQkNMaXN0ZW5lcnMoKSB7\nCiAgICAgICAgcmV0dXJuIGpkYmNMaXN0ZW5lclBsdWdpbnMuZ2V0U3RyaW5n\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SkRCQ0xpc3RlbmVycyhK\nREJDTGlzdGVuZXJbXSBsaXN0ZW5lcnMpIHsKICAgICAgICBqZGJjTGlzdGVu\nZXJQbHVnaW5zLnNldChsaXN0ZW5lcnMpOwogICAgfQoKICAgIHB1YmxpYyBK\nREJDTGlzdGVuZXJbXSBnZXRKREJDTGlzdGVuZXJJbnN0YW5jZXMoKSB7CiAg\nICAgICAgaWYgKGpkYmNMaXN0ZW5lclBsdWdpbnMuZ2V0KCkgPT0gbnVsbCkK\nICAgICAgICAgICAgamRiY0xpc3RlbmVyUGx1Z2lucy5pbnN0YW50aWF0ZShK\nREJDTGlzdGVuZXIuY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAoSkRC\nQ0xpc3RlbmVyW10pIGpkYmNMaXN0ZW5lclBsdWdpbnMuZ2V0KCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkRlY29yYXRvcnMoU3Ry\naW5nIGNvbm5lY3Rpb25EZWNvcmF0b3JzKSB7CiAgICAgICAgY29ubmVjdGlv\nbkRlY29yYXRvclBsdWdpbnMuc2V0U3RyaW5nKGNvbm5lY3Rpb25EZWNvcmF0\nb3JzKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb25E\nZWNvcmF0b3JzKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uRGVjb3Jh\ndG9yUGx1Z2lucy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRDb25uZWN0aW9uRGVjb3JhdG9ycyhDb25uZWN0aW9uRGVjb3JhdG9y\nW10gZGVjb3JhdG9ycykgewogICAgICAgIGNvbm5lY3Rpb25EZWNvcmF0b3JQ\nbHVnaW5zLnNldChkZWNvcmF0b3JzKTsKICAgIH0KCiAgICBwdWJsaWMgQ29u\nbmVjdGlvbkRlY29yYXRvcltdIGdldENvbm5lY3Rpb25EZWNvcmF0b3JJbnN0\nYW5jZXMoKSB7CiAgICAgICAgaWYgKGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVn\naW5zLmdldCgpID09IG51bGwpIHsKICAgICAgICAgICAgY29ubmVjdGlvbkRl\nY29yYXRvclBsdWdpbnMuaW5zdGFudGlhdGUKICAgICAgICAgICAgICAgIChD\nb25uZWN0aW9uRGVjb3JhdG9yLmNsYXNzLCB0aGlzKTsKICAgICAgICB9CiAg\nICAgICAgcmV0dXJuIChDb25uZWN0aW9uRGVjb3JhdG9yW10pIGNvbm5lY3Rp\nb25EZWNvcmF0b3JQbHVnaW5zLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldERCRGljdGlvbmFyeShTdHJpbmcgZGJkaWN0aW9uYXJ5KSB7CiAg\nICAgICAgZGJkaWN0aW9uYXJ5UGx1Z2luLnNldFN0cmluZyhkYmRpY3Rpb25h\ncnkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0REJEaWN0aW9uYXJ5\nKCkgewogICAgICAgIHJldHVybiBkYmRpY3Rpb25hcnlQbHVnaW4uZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0REJEaWN0aW9uYXJ5\nKERCRGljdGlvbmFyeSBkYmRpY3Rpb25hcnkpIHsKICAgICAgICAvLyB3ZSBj\nYW4ndCBhbGxvdyB0aGUgZGljdGlvbmFyeSB0byBiZSBzZXQgYWZ0ZXIgdGhl\nIGNvbm5lY3Rpb24KICAgICAgICAvLyBmYWN0b3J5LCBkdWUgdG8gaW5pdGlh\nbGl6YXRpb24gaXNzdWVzCiAgICAgICAgaWYgKGNvbm5lY3Rpb25GYWN0b3J5\nLmdldCgpICE9IG51bGwKICAgICAgICAgICAgfHwgY29ubmVjdGlvbkZhY3Rv\ncnkyLmdldCgpICE9IG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxl\nZ2FsU3RhdGVFeGNlcHRpb24oKTsKCiAgICAgICAgZGJkaWN0aW9uYXJ5UGx1\nZ2luLnNldChkYmRpY3Rpb25hcnkpOwogICAgfQoKICAgIHB1YmxpYyBEQkRp\nY3Rpb25hcnkgZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKSB7CiAgICAgICAg\nLy8gbG9jayBvbiBjb25uZWN0aW9uIGZhY3RvcnkgbmFtZSwgc2luY2UgZ2V0\ndGluZyB0aGUgY29ubmVjdGlvbgogICAgICAgIC8vIGZhY3RvcnkgYW5kIGdl\ndHRpbmcgdGhlIGRpY3Rpb25hcnkgaGF2ZSB0byB1c2UgdGhlIHNhbWUgbG9j\na3MgdG8KICAgICAgICAvLyBwcmV2ZW50IGRlYWRsb2NrIHNpbmNlIHRoZXkg\nY2FsbCBlYWNoIG90aGVyCiAgICAgICAgREJEaWN0aW9uYXJ5IGRiZGljdGlv\nbmFyeSA9IChEQkRpY3Rpb25hcnkpIGRiZGljdGlvbmFyeVBsdWdpbi5nZXQo\nKTsKICAgICAgICBpZiAoZGJkaWN0aW9uYXJ5ID09IG51bGwpIHsKICAgICAg\nICAgICAgU3RyaW5nIGNsc05hbWUgPSBkYmRpY3Rpb25hcnlQbHVnaW4uZ2V0\nQ2xhc3NOYW1lKCk7CiAgICAgICAgICAgIFN0cmluZyBwcm9wcyA9IGRiZGlj\ndGlvbmFyeVBsdWdpbi5nZXRQcm9wZXJ0aWVzKCk7CiAgICAgICAgICAgIGlm\nICghU3RyaW5nVXRpbHMuaXNFbXB0eShjbHNOYW1lKSkgewogICAgICAgICAg\nICAgICAgZGJkaWN0aW9uYXJ5ID0gREJEaWN0aW9uYXJ5RmFjdG9yeS5uZXdE\nQkRpY3Rpb25hcnkKICAgICAgICAgICAgICAgICAgICAodGhpcywgY2xzTmFt\nZSwgcHJvcHMpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAg\nICAgLy8gaWYgdGhlIGRpY3Rpb25hcnkgY2xhc3MgaXNuJ3Qgc2V0LCB0cnkg\ndG8gZ3Vlc3MgZnJvbQogICAgICAgICAgICAgICAgLy8gY29ubmVjdGlvbiBV\nUkwgYW5kIGRyaXZlciBuYW1lCiAgICAgICAgICAgICAgICBkYmRpY3Rpb25h\ncnkgPSBEQkRpY3Rpb25hcnlGYWN0b3J5LmNhbGN1bGF0ZURCRGljdGlvbmFy\neQogICAgICAgICAgICAgICAgICAgICh0aGlzLCBnZXRDb25uZWN0aW9uVVJM\nKCksIGdldENvbm5lY3Rpb25Ecml2ZXJOYW1lKCksCiAgICAgICAgICAgICAg\nICAgICAgICAgIHByb3BzKTsKCiAgICAgICAgICAgICAgICAvLyBpZiB0aGUg\ndXJsIGFuZCBkcml2ZXIgbmFtZSBhcmVuJ3QgZW5vdWdoLCBjb25uZWN0IHRv\nCiAgICAgICAgICAgICAgICAvLyB0aGUgREIgYW5kIHVzZSB0aGUgY29ubmVj\ndGlvbiBtZXRhZGF0YQogICAgICAgICAgICAgICAgaWYgKGRiZGljdGlvbmFy\neSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgTG9nIGxvZyA9IGdl\ndExvZyhMT0dfSkRCQyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZy5p\nc1RyYWNlRW5hYmxlZCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIExv\nY2FsaXplciBsb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgKEpEQkNDb25maWd1cmF0aW9uSW1wbC5jbGFz\ncyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy50cmFjZShsb2MuZ2V0\nKCJjb25uZWN0aW5nLWZvci1kaWN0aW9uYXJ5IikpOwogICAgICAgICAgICAg\nICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBiYXNl\nIGNvbm5lY3Rpb24gZmFjdG9yeSByYXRoZXIgdGhhbiB0aGUKICAgICAgICAg\nICAgICAgICAgICAvLyBjb25maWd1cmVkIGRhdGEgc291cmNlIGIvYyB0aGUg\nZGF0YSBzb3VyY2UgcmVsaWVzCiAgICAgICAgICAgICAgICAgICAgLy8gb24g\ncGFzc2luZyB0aGUgY29ubmVjdGlvbiB0aHJvdWdoIHRoZSBkaWN0aW9uYXJ5\nLAogICAgICAgICAgICAgICAgICAgIC8vIHJlc3VsdGluZyBpbiBpbmZpbml0\nZSBsb29wcwogICAgICAgICAgICAgICAgICAgIERhdGFTb3VyY2UgZHMgPSBj\ncmVhdGVDb25uZWN0aW9uRmFjdG9yeSgpOwogICAgICAgICAgICAgICAgICAg\nIGRiZGljdGlvbmFyeSA9IERCRGljdGlvbmFyeUZhY3RvcnkubmV3REJEaWN0\naW9uYXJ5CiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLCBnZXREYXRh\nU291cmNlKG51bGwsIGRzKSwgcHJvcHMpOwogICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICB9CiAgICAgICAgICAgIGRiZGljdGlvbmFyeVBsdWdpbi5z\nZXQoZGJkaWN0aW9uYXJ5LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIGRiZGljdGlvbmFyeTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRV\ncGRhdGVNYW5hZ2VyKFN0cmluZyB1cGRhdGVNYW5hZ2VyKSB7CiAgICAgICAg\ndXBkYXRlTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcodXBkYXRlTWFuYWdlcik7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRVcGRhdGVNYW5hZ2VyKCkg\newogICAgICAgIHJldHVybiB1cGRhdGVNYW5hZ2VyUGx1Z2luLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVwZGF0ZU1hbmFnZXIo\nVXBkYXRlTWFuYWdlciB1cGRhdGVNYW5hZ2VyKSB7CiAgICAgICAgdXBkYXRl\nTWFuYWdlclBsdWdpbi5zZXQodXBkYXRlTWFuYWdlcik7CiAgICB9CgogICAg\ncHVibGljIFVwZGF0ZU1hbmFnZXIgZ2V0VXBkYXRlTWFuYWdlckluc3RhbmNl\nKCkgewogICAgICAgIGlmICh1cGRhdGVNYW5hZ2VyUGx1Z2luLmdldCgpID09\nIG51bGwpCiAgICAgICAgICAgIHVwZGF0ZU1hbmFnZXJQbHVnaW4uaW5zdGFu\ndGlhdGUoVXBkYXRlTWFuYWdlci5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0\ndXJuIChVcGRhdGVNYW5hZ2VyKSB1cGRhdGVNYW5hZ2VyUGx1Z2luLmdldCgp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldERyaXZlckRhdGFTb3VyY2Uo\nU3RyaW5nIGRyaXZlckRhdGFTb3VyY2UpIHsKICAgICAgICBkcml2ZXJEYXRh\nU291cmNlUGx1Z2luLnNldFN0cmluZyhkcml2ZXJEYXRhU291cmNlKTsKICAg\nIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldERyaXZlckRhdGFTb3VyY2UoKSB7\nCiAgICAgICAgcmV0dXJuIGRyaXZlckRhdGFTb3VyY2VQbHVnaW4uZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIERyaXZlckRhdGFTb3VyY2UgbmV3\nRHJpdmVyRGF0YVNvdXJjZUluc3RhbmNlKCkgewogICAgICAgIHJldHVybiAo\nRHJpdmVyRGF0YVNvdXJjZSkgZHJpdmVyRGF0YVNvdXJjZVBsdWdpbi4KICAg\nICAgICAgICAgaW5zdGFudGlhdGUoRHJpdmVyRGF0YVNvdXJjZS5jbGFzcywg\ndGhpcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U2NoZW1hRmFjdG9y\neShTdHJpbmcgc2NoZW1hRmFjdG9yeSkgewogICAgICAgIHNjaGVtYUZhY3Rv\ncnlQbHVnaW4uc2V0U3RyaW5nKHNjaGVtYUZhY3RvcnkpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0U2NoZW1hRmFjdG9yeSgpIHsKICAgICAgICBy\nZXR1cm4gc2NoZW1hRmFjdG9yeVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRTY2hlbWFGYWN0b3J5KFNjaGVtYUZhY3Rv\ncnkgc2NoZW1hRmFjdG9yeSkgewogICAgICAgIHNjaGVtYUZhY3RvcnlQbHVn\naW4uc2V0KHNjaGVtYUZhY3RvcnkpOwogICAgfQoKICAgIHB1YmxpYyBTY2hl\nbWFGYWN0b3J5IGdldFNjaGVtYUZhY3RvcnlJbnN0YW5jZSgpIHsKICAgICAg\nICBpZiAoc2NoZW1hRmFjdG9yeVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAg\nICAgICAgICBzY2hlbWFGYWN0b3J5UGx1Z2luLmluc3RhbnRpYXRlKFNjaGVt\nYUZhY3RvcnkuY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAoU2NoZW1h\nRmFjdG9yeSkgc2NoZW1hRmFjdG9yeVBsdWdpbi5nZXQoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRTUUxGYWN0b3J5KFN0cmluZyBzcWxGYWN0b3J5\nKSB7CiAgICAgICAgc3FsRmFjdG9yeVBsdWdpbi5zZXRTdHJpbmcoc3FsRmFj\ndG9yeSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTUUxGYWN0b3J5\nKCkgewogICAgICAgIHJldHVybiBzcWxGYWN0b3J5UGx1Z2luLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNRTEZhY3RvcnkoU1FM\nRmFjdG9yeSBzcWxGYWN0b3J5KSB7CiAgICAgICAgc3FsRmFjdG9yeVBsdWdp\nbi5zZXQoc3FsRmFjdG9yeSk7CiAgICB9CgogICAgcHVibGljIFNRTEZhY3Rv\ncnkgZ2V0U1FMRmFjdG9yeUluc3RhbmNlKCkgewogICAgICAgIGlmIChzcWxG\nYWN0b3J5UGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIHNxbEZh\nY3RvcnlQbHVnaW4uaW5zdGFudGlhdGUoU1FMRmFjdG9yeS5jbGFzcywgdGhp\ncyk7CiAgICAgICAgcmV0dXJuIChTUUxGYWN0b3J5KSBzcWxGYWN0b3J5UGx1\nZ2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TWFwcGlu\nZ0ZhY3RvcnkoKSB7CiAgICAgICAgcmV0dXJuIG1hcHBpbmdGYWN0b3J5UGx1\nZ2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1h\ncHBpbmdGYWN0b3J5KFN0cmluZyBtYXBwaW5nKSB7CiAgICAgICAgbWFwcGlu\nZ0ZhY3RvcnlQbHVnaW4uc2V0U3RyaW5nKG1hcHBpbmcpOwogICAgfQoKICAg\nIHB1YmxpYyBNZXRhRGF0YUZhY3RvcnkgbmV3TWV0YURhdGFGYWN0b3J5SW5z\ndGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIG1hcHBpbmdGYWN0b3J5UGx1Z2lu\nLmluc3RhbnRpYXRlTWV0YURhdGFGYWN0b3J5KHRoaXMsCiAgICAgICAgICAg\nIG1ldGFGYWN0b3J5UGx1Z2luLCBnZXRNYXBwaW5nKCkpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldE1hcHBpbmdEZWZhdWx0cyhTdHJpbmcgbWFwcGlu\nZykgewogICAgICAgIHRoaXMubWFwcGluZ0RlZmF1bHRzUGx1Z2luLnNldFN0\ncmluZyhtYXBwaW5nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE1h\ncHBpbmdEZWZhdWx0cygpIHsKICAgICAgICByZXR1cm4gbWFwcGluZ0RlZmF1\nbHRzUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldE1hcHBpbmdEZWZhdWx0cyhNYXBwaW5nRGVmYXVsdHMgbWFwcGluZykg\newogICAgICAgIG1hcHBpbmdEZWZhdWx0c1BsdWdpbi5zZXQobWFwcGluZyk7\nCiAgICB9CgogICAgcHVibGljIE1hcHBpbmdEZWZhdWx0cyBnZXRNYXBwaW5n\nRGVmYXVsdHNJbnN0YW5jZSgpIHsKICAgICAgICBpZiAobWFwcGluZ0RlZmF1\nbHRzUGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIG1hcHBpbmdE\nZWZhdWx0c1BsdWdpbi5pbnN0YW50aWF0ZShNYXBwaW5nRGVmYXVsdHMuY2xh\nc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAoTWFwcGluZ0RlZmF1bHRzKSBt\nYXBwaW5nRGVmYXVsdHNQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGlj\nIE1hcHBpbmdSZXBvc2l0b3J5IGdldE1hcHBpbmdSZXBvc2l0b3J5SW5zdGFu\nY2UoKSB7CiAgICAgICAgcmV0dXJuIChNYXBwaW5nUmVwb3NpdG9yeSkgZ2V0\nTWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2UoKTsKICAgIH0KCiAgICBwdWJs\naWMgTWFwcGluZ1JlcG9zaXRvcnkgbmV3TWFwcGluZ1JlcG9zaXRvcnlJbnN0\nYW5jZSgpIHsKICAgICAgICByZXR1cm4gKE1hcHBpbmdSZXBvc2l0b3J5KSBu\nZXdNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgpOwogICAgfQoKICAgIHB1\nYmxpYyBCcm9rZXJJbXBsIG5ld0Jyb2tlckluc3RhbmNlKFN0cmluZyB1c2Vy\nLCBTdHJpbmcgcGFzcykgewogICAgICAgIEJyb2tlckltcGwgYnJva2VyID0g\nc3VwZXIubmV3QnJva2VySW5zdGFuY2UodXNlciwgcGFzcyk7CgogICAgICAg\nIC8vIHJlY29yZCBmaXJzdCBub24tbnVsbCBicm9rZXIgdXNlciBhbmQgcGFz\ncyBpbiBjYXNlIG5vIGdsb2JhbCBzZXR0aW5ncwogICAgICAgIGlmIChicm9r\nZXIgIT0gbnVsbCAmJiB1c2VyICE9IG51bGwgJiYgZmlyc3RVc2VyID09IG51\nbGwpIHsKICAgICAgICAgICAgZmlyc3RVc2VyID0gdXNlcjsKICAgICAgICAg\nICAgZmlyc3RQYXNzID0gcGFzczsKICAgICAgICB9CiAgICAgICAgcmV0dXJu\nIGJyb2tlcjsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldENvbm5lY3Rp\nb25GYWN0b3J5KCkgewogICAgICAgIC8vIG92ZXJyaWRlIHRvIGNvbmZpZ3Vy\nZSBkYXRhIHNvdXJjZQogICAgICAgIGlmIChkYXRhU291cmNlID09IG51bGwp\nIHsKICAgICAgICAgICAgRGVjb3JhdGluZ0RhdGFTb3VyY2UgZHMgPSBjcmVh\ndGVDb25uZWN0aW9uRmFjdG9yeSgpOwogICAgICAgICAgICBkYXRhU291cmNl\nID0gRGF0YVNvdXJjZUZhY3RvcnkuaW5zdGFsbERCRGljdGlvbmFyeQogICAg\nICAgICAgICAgICAgKGdldERCRGljdGlvbmFyeUluc3RhbmNlKCksIGRzLCB0\naGlzLCBmYWxzZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBkYXRhU291\ncmNlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25GYWN0\nb3J5KE9iamVjdCBmYWN0b3J5KSB7CiAgICAgICAgLy8gdGhlcmUncyBhIGxv\ndCBvZiBvbmUtdGltZSBpbml0aWFsaXphdGlvbiBpbnZvbHZlZCBmb3IKICAg\nICAgICAvLyBjb25uZWN0aW9uIGZhY3Rvcmllcywgc28gaWdub3JlIHJlc2V0\ncwogICAgICAgIGlmIChmYWN0b3J5ID09IGNvbm5lY3Rpb25GYWN0b3J5Lmdl\ndCgpKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIC8vIG92ZXJyaWRl\nIHRvIGNvbmZpZ3VyZSBkYXRhIHNvdXJjZQogICAgICAgIGlmIChmYWN0b3J5\nICE9IG51bGwpIHsKICAgICAgICAgICAgLy8gbmVlZCB0byBlbnN1cmUgaXQg\naXMgZGVjb3JhdGVkIGJlZm9yZSB3ZSBzZXQgdGhlIGRpY3QKICAgICAgICAg\nICAgRGVjb3JhdGluZ0RhdGFTb3VyY2UgZHMgPQogICAgICAgICAgICAgICAg\nc2V0dXBDb25uZWN0aW9uRmFjdG9yeSgoRGF0YVNvdXJjZSkgZmFjdG9yeSwg\nZmFsc2UpOwogICAgICAgICAgICBkYXRhU291cmNlID0gRGF0YVNvdXJjZUZh\nY3RvcnkuaW5zdGFsbERCRGljdGlvbmFyeQogICAgICAgICAgICAgICAgKGdl\ndERCRGljdGlvbmFyeUluc3RhbmNlKCksIGRzLCB0aGlzLCBmYWxzZSk7CiAg\nICAgICAgfSBlbHNlCiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5LnNl\ndChudWxsKTsKICAgIH0KCiAgICAvKioKICAgICAqIEVuc3VyZSB0aGF0IHRo\nZSBzcGVjaWZpZWQgRGF0YVNvdXJjZSBpcyBkZWNvcmF0ZWQgYW5kIHNldCBp\nbiB0aGUgY2FjaGUuCiAgICAgKi8KICAgIHByaXZhdGUgRGVjb3JhdGluZ0Rh\ndGFTb3VyY2Ugc2V0dXBDb25uZWN0aW9uRmFjdG9yeShEYXRhU291cmNlIGRz\nLAogICAgICAgIGJvb2xlYW4gZmFjdG9yeTIpIHsKICAgICAgICBpZiAoZHMg\nPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgIERl\nY29yYXRpbmdEYXRhU291cmNlIGRkczsKICAgICAgICBpZiAoZHMgaW5zdGFu\nY2VvZiBEZWNvcmF0aW5nRGF0YVNvdXJjZSkKICAgICAgICAgICAgZGRzID0g\nKERlY29yYXRpbmdEYXRhU291cmNlKSBkczsKICAgICAgICBlbHNlCiAgICAg\nICAgICAgIGRkcyA9IERhdGFTb3VyY2VGYWN0b3J5LmRlY29yYXRlRGF0YVNv\ndXJjZShkcywgdGhpcywgZmFjdG9yeTIpOwoKICAgICAgICBpZiAoIWZhY3Rv\ncnkyICYmIGNvbm5lY3Rpb25GYWN0b3J5LmdldCgpICE9IGRzKQogICAgICAg\nICAgICBjb25uZWN0aW9uRmFjdG9yeS5zZXQoZGRzLCB0cnVlKTsKICAgICAg\nICBlbHNlIGlmIChmYWN0b3J5MiAmJiBjb25uZWN0aW9uRmFjdG9yeTIuZ2V0\nKCkgIT0gZHMpCiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXQo\nZGRzLCB0cnVlKTsKCiAgICAgICAgcmV0dXJuIGRkczsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IGdldENvbm5lY3Rpb25GYWN0b3J5MigpIHsKICAgICAg\nICAvLyBvdmVycmlkZSB0byBjb25maWd1cmUgZGF0YSBzb3VyY2UKICAgICAg\nICBpZiAoZGF0YVNvdXJjZTIgPT0gbnVsbCkgewogICAgICAgICAgICAvLyBz\ndXBlcmNsYXNzIHdpbGwgbG9va3VwIGZyb20gSk5ESS4gCiAgICAgICAgICAg\nIERhdGFTb3VyY2UgZHMgPSAoRGF0YVNvdXJjZSkgc3VwZXIuZ2V0Q29ubmVj\ndGlvbkZhY3RvcnkyKCk7CiAgICAgICAgICAgIGlmIChkcyA9PSBudWxsKSB7\nCiAgICAgICAgICAgICAgICAvLyB0aGUgZHJpdmVyIG5hbWUgaXMgYWx3YXlz\nIHJlcXVpcmVkLCBzbyBpZiBub3Qgc3BlY2lmaWVkLAogICAgICAgICAgICAg\nICAgLy8gdGhlbiBubyBjb25uZWN0aW9uIGZhY3RvcnkgMgogICAgICAgICAg\nICAgICAgU3RyaW5nIGRyaXZlciA9IGdldENvbm5lY3Rpb24yRHJpdmVyTmFt\nZSgpOwogICAgICAgICAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5\nKGRyaXZlcikpCiAgICAgICAgICAgICAgICAgICAgZHMgPSBEYXRhU291cmNl\nRmFjdG9yeS5uZXdEYXRhU291cmNlKHRoaXMsIHRydWUpOwogICAgICAgICAg\nICB9CiAgICAgICAgICAgIGlmIChkcyAhPSBudWxsKSB7CiAgICAgICAgICAg\nICAgICBEZWNvcmF0aW5nRGF0YVNvdXJjZSBkZHMgPQogICAgICAgICAgICAg\nICAgICAgIHNldHVwQ29ubmVjdGlvbkZhY3RvcnkoZHMsIHRydWUpOyAvLyBi\nZWZvcmUgZGljdAogICAgICAgICAgICAgICAgZGF0YVNvdXJjZTIgPSBEYXRh\nU291cmNlRmFjdG9yeS5pbnN0YWxsREJEaWN0aW9uYXJ5CiAgICAgICAgICAg\nICAgICAgICAgKGdldERCRGljdGlvbmFyeUluc3RhbmNlKCksIGRkcywgdGhp\ncywgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIGRhdGFTb3VyY2UyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENv\nbm5lY3Rpb25GYWN0b3J5MihPYmplY3QgZmFjdG9yeSkgewogICAgICAgIGlm\nIChmYWN0b3J5ID09IGNvbm5lY3Rpb25GYWN0b3J5Mi5nZXQoKSkKICAgICAg\nICAgICAgcmV0dXJuOwoKICAgICAgICAvLyBvdmVycmlkZSB0byBjb25maWd1\ncmUgZGF0YSBzb3VyY2UKICAgICAgICBpZiAoZmFjdG9yeSAhPSBudWxsKSB7\nCiAgICAgICAgICAgIC8vIG5lZWQgdG8gZW5zdXJlIGl0IGlzIGRlY29yYXRl\nZCBiZWZvcmUgd2Ugc2V0IHRoZSBkaWN0CiAgICAgICAgICAgIERlY29yYXRp\nbmdEYXRhU291cmNlIGRzID0gc2V0dXBDb25uZWN0aW9uRmFjdG9yeSgoRGF0\nYVNvdXJjZSkKICAgICAgICAgICAgICAgIGZhY3RvcnksIHRydWUpOwogICAg\nICAgICAgICBkYXRhU291cmNlMiA9IERhdGFTb3VyY2VGYWN0b3J5Lmluc3Rh\nbGxEQkRpY3Rpb25hcnkKICAgICAgICAgICAgICAgIChnZXREQkRpY3Rpb25h\ncnlJbnN0YW5jZSgpLCBkcywgdGhpcywgdHJ1ZSk7CiAgICAgICAgfSBlbHNl\nCiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXQobnVsbCk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGUgdGhlIGNvbm5lY3Rpb24gZmFj\ndG9yeSBpZiBuZWNlc3NhcnkuCiAgICAgKi8KICAgIHByaXZhdGUgRGVjb3Jh\ndGluZ0RhdGFTb3VyY2UgY3JlYXRlQ29ubmVjdGlvbkZhY3RvcnkoKSB7CiAg\nICAgICAgRGF0YVNvdXJjZSBkcyA9IChEYXRhU291cmNlKSBjb25uZWN0aW9u\nRmFjdG9yeS5nZXQoKTsKICAgICAgICBpZiAoZHMgIT0gbnVsbCkKICAgICAg\nICAgICAgcmV0dXJuIHNldHVwQ29ubmVjdGlvbkZhY3RvcnkoZHMsIGZhbHNl\nKTsKCiAgICAgICAgZHMgPSAoRGF0YVNvdXJjZSkgc3VwZXIuZ2V0Q29ubmVj\ndGlvbkZhY3RvcnkoKTsgLy8gSk5ESSBsb29rdXAKICAgICAgICBpZiAoZHMg\nPT0gbnVsbCkKICAgICAgICAgICAgZHMgPSBEYXRhU291cmNlRmFjdG9yeS5u\nZXdEYXRhU291cmNlKHRoaXMsIGZhbHNlKTsKCiAgICAgICAgcmV0dXJuIHNl\ndHVwQ29ubmVjdGlvbkZhY3RvcnkoZHMsIGZhbHNlKTsKICAgIH0KCiAgICBw\ndWJsaWMgRGF0YVNvdXJjZSBnZXREYXRhU291cmNlKFN0b3JlQ29udGV4dCBj\ndHgpIHsKICAgICAgICByZXR1cm4gZ2V0RGF0YVNvdXJjZShjdHgsIChEYXRh\nU291cmNlKSBnZXRDb25uZWN0aW9uRmFjdG9yeSgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgRGF0YVNvdXJjZSBnZXREYXRhU291cmNlMihTdG9yZUNvbnRleHQg\nY3R4KSB7CiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gY29ubmVjdGlvbiBm\nYWN0b3J5IDIsIHVzZSB0aGUgcHJpbWFyeSBmYWN0b3J5CiAgICAgICAgRGF0\nYVNvdXJjZSBkcyA9IChEYXRhU291cmNlKSBnZXRDb25uZWN0aW9uRmFjdG9y\neTIoKTsKICAgICAgICBpZiAoZHMgPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIGdldERhdGFTb3VyY2UoY3R4KTsKCiAgICAgICAgLy8gcHJlZmVyIHRo\nZSBnbG9iYWwgY29ubmVjdGlvbiAyIGF1dGggaW5mbyBpZiBnaXZlbgogICAg\nICAgIFN0cmluZyB1c2VyID0gZ2V0Q29ubmVjdGlvbjJVc2VyTmFtZSgpOwog\nICAgICAgIFN0cmluZyBwYXNzID0gZ2V0Q29ubmVjdGlvbjJQYXNzd29yZCgp\nOwogICAgICAgIGlmICh1c2VyID09IG51bGwgJiYgcGFzcyA9PSBudWxsKSB7\nCiAgICAgICAgICAgIC8vIG5vIGdsb2JhbCBhdXRoIGluZm87IHVzZSB0aGUg\nY29udGV4dCBpZiBnaXZlbiwgb3IgdGhlIGZpcnN0CiAgICAgICAgICAgIC8v\nIGNvbnRleHQgaWYgbm90CiAgICAgICAgICAgIGlmIChjdHggPT0gbnVsbCkg\newogICAgICAgICAgICAgICAgdXNlciA9IGZpcnN0VXNlcjsKICAgICAgICAg\nICAgICAgIHBhc3MgPSBmaXJzdFBhc3M7CiAgICAgICAgICAgIH0gZWxzZSB7\nCiAgICAgICAgICAgICAgICB1c2VyID0gY3R4LmdldENvbm5lY3Rpb25Vc2Vy\nTmFtZSgpOwogICAgICAgICAgICAgICAgcGFzcyA9IGN0eC5nZXRDb25uZWN0\naW9uUGFzc3dvcmQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAg\nICByZXR1cm4gRGF0YVNvdXJjZUZhY3RvcnkuZGVmYXVsdHNEYXRhU291cmNl\nKGRzLCB1c2VyLCBwYXNzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMg\ndmVyc2lvbiBhbGxvd3MgdXMgdG8gcGFzcyBpbiB3aGljaCBkYXRhIHNvdXJj\nZSB0byB3cmFwIGludGVybmFsbHk7CiAgICAgKiB1c2VmdWwgZHVyaW5nIGlu\naXRpYWxpemF0aW9uIGJlZm9yZSB0aGUgY29ubmVjdGlvbiBmYWN0b3J5IGlz\nCiAgICAgKiBjb21wbGV0ZWx5IGNvbmZpZ3VyZWQuCiAgICAgKi8KICAgIHBy\naXZhdGUgRGF0YVNvdXJjZSBnZXREYXRhU291cmNlKFN0b3JlQ29udGV4dCBj\ndHgsIERhdGFTb3VyY2UgZHMpIHsKICAgICAgICBTdHJpbmcgdXNlciwgcGFz\nczsKICAgICAgICBpZiAoY3R4ID09IG51bGwpIHsKICAgICAgICAgICAgLy8g\naWYgbm8gY29udGV4dCwgZGVmYXVsdCB0byB0aGUgZ2xvYmFsIGF1dGggaW5m\nbywgb3IgdGhlIGF1dGggaW5mbwogICAgICAgICAgICAvLyBvZiB0aGUgZmly\nc3QgY29udGV4dCBpZiBub25lCiAgICAgICAgICAgIHVzZXIgPSBnZXRDb25u\nZWN0aW9uVXNlck5hbWUoKTsKICAgICAgICAgICAgaWYgKHVzZXIgPT0gbnVs\nbCkKICAgICAgICAgICAgICAgIHVzZXIgPSBmaXJzdFVzZXI7CiAgICAgICAg\nICAgIHBhc3MgPSBnZXRDb25uZWN0aW9uUGFzc3dvcmQoKTsKICAgICAgICAg\nICAgaWYgKHBhc3MgPT0gbnVsbCkKICAgICAgICAgICAgICAgIHBhc3MgPSBm\naXJzdFBhc3M7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gdXNl\nIHRoZSBjb250ZXh0J3MgYXV0aCBpbmZvCiAgICAgICAgICAgIHVzZXIgPSBj\ndHguZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCk7CiAgICAgICAgICAgIHBhc3Mg\nPSBjdHguZ2V0Q29ubmVjdGlvblBhc3N3b3JkKCk7CiAgICAgICAgfQogICAg\nICAgIHJldHVybiBEYXRhU291cmNlRmFjdG9yeS5kZWZhdWx0c0RhdGFTb3Vy\nY2UoZHMsIHVzZXIsIHBhc3MpOwogICAgfQoKICAgIC8qKgogICAgICogRnJl\nZSB0aGUgZGF0YSBzb3VyY2VzLgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9p\nZCBwcmVDbG9zZSgpIHsKICAgICAgICBpZiAoZGF0YVNvdXJjZSAhPSBudWxs\nKSB7CiAgICAgICAgICAgIGdldERCRGljdGlvbmFyeUluc3RhbmNlKCkuY2xv\nc2VEYXRhU291cmNlKGRhdGFTb3VyY2UpOwogICAgICAgICAgICBjb25uZWN0\naW9uRmFjdG9yeS5zZXQobnVsbCwgdHJ1ZSk7IC8vIHNvIHN1cGVyIGRvZXNu\nJ3QgY2xvc2UgaXQKICAgICAgICB9CiAgICAgICAgaWYgKGRhdGFTb3VyY2Uy\nICE9IG51bGwpIHsKICAgICAgICAgICAgZ2V0REJEaWN0aW9uYXJ5SW5zdGFu\nY2UoKS5jbG9zZURhdGFTb3VyY2UoZGF0YVNvdXJjZSk7CiAgICAgICAgICAg\nIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXQobnVsbCwgdHJ1ZSk7IC8vIHNvIHN1\ncGVyIGRvZXNuJ3QgY2xvc2UgaXQKICAgICAgICB9CiAgICAgICAgc3VwZXIu\ncHJlQ2xvc2UoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBpc0lu\ndmFsaWRQcm9wZXJ0eShTdHJpbmcgcHJvcE5hbWUpIHsKICAgICAgICBpZiAo\nc3VwZXIuaXNJbnZhbGlkUHJvcGVydHkocHJvcE5hbWUpKQogICAgICAgICAg\nICByZXR1cm4gdHJ1ZTsKCiAgICAgICAgLy8gaGFuZGxlIG9wZW5qcGEuamRi\nYy5Tb21lTWlzc3BlbGxlZFByb3BlcnR5LCBidXQgbm90CiAgICAgICAgLy8g\nb3BlbmpwYS5zb21lb3RoZXJpbXBsZW1lbnRhdGlvbi5Tb21lUHJvcGVydHkK\nICAgICAgICBTdHJpbmdbXSBwcmVmaXhlcyA9IFByb2R1Y3REZXJpdmF0aW9u\ncy5nZXRDb25maWd1cmF0aW9uUHJlZml4ZXMoKTsKICAgICAgICBmb3IgKGlu\ndCBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKQogICAgICAgICAg\nICBpZiAocHJvcE5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHByZWZp\neGVzW2ldICsgIi5qZGJjIikpCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1\nZTsgCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgCiAgICBwdWJs\naWMgdm9pZCBzZXRRdWVyeVNRTENhY2hlKFN0cmluZyBxdWVyeVNRTENhY2hl\nKSB7CiAgICAgICAgdGhpcy5xdWVyeVNRTENhY2hlLnNldFN0cmluZyhxdWVy\neVNRTENhY2hlKTsKICAgIH0KCiAgICBwdWJsaWMgUXVlcnlTUUxDYWNoZVZh\nbHVlIGdldFF1ZXJ5U1FMQ2FjaGUoKSB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5\nU1FMQ2FjaGU7CiAgICB9CiAgICAKICAgIHB1YmxpYyBib29sZWFuIGlzUXVl\ncnlTUUxDYWNoZU9uKCkgewogICAgICAgIHJldHVybiBxdWVyeVNRTENhY2hl\nLmlzU1FMQ2FjaGVPbigpOwogICAgfQoKICAgIHB1YmxpYyBNYXAgZ2V0UXVl\ncnlTUUxDYWNoZUluc3RhbmNlKCkgewogICAgICAgIHJldHVybiBxdWVyeVNR\nTENhY2hlSW5zdGFuY2U7CiAgICB9CiAgICAKfQo=\n","encoding":"base64"}

