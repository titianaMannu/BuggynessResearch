{"sha":"7db54b7e2bb5ffdbdcd913f8d5c7e844ebcfe2bf","node_id":"MDQ6QmxvYjIwNjM2NDo3ZGI1NGI3ZTJiYjVmZmRiZGNkOTEzZjhkNWM3ZTg0NGViY2ZlMmJm","size":2776,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7db54b7e2bb5ffdbdcd913f8d5c7e844ebcfe2bf","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mOwoKaW1wb3J0\nIGphdmEudXRpbC5Db2xsZWN0aW9uczsKaW1wb3J0IGphdmEudXRpbC5IYXNo\ndGFibGU7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2YS51dGls\nLmNvbmN1cnJlbnQuQ29uY3VycmVudEhhc2hNYXA7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRpb25zOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLlBsdWdpblZhbHVlOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuQ2FjaGVNYXA7CgoKLyoqCiAq\nIEEgY2FjaGUgb2Ygc3FsIHF1ZXJpZXMuCiAqCiAqIEBzaW5jZSAxLjIKICog\nQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIFF1ZXJ5U1FMQ2FjaGVWYWx1\nZQogICAgZXh0ZW5kcyBQbHVnaW5WYWx1ZSB7CgogICAgcHVibGljIHN0YXRp\nYyBmaW5hbCBTdHJpbmdbXSBBTElBU0VTID0gewogICAgICAgICJ0cnVlIiwg\nQ2FjaGVNYXAuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICJhbGwiLCBDb25j\ndXJyZW50SGFzaE1hcC5jbGFzcy5nZXROYW1lKCksCiAgICAgICAgImZhbHNl\nIiwgbnVsbCwKICAgIH07CiAgICAKICAgIHB1YmxpYyBRdWVyeVNRTENhY2hl\nVmFsdWUoU3RyaW5nIHByb3ApIHsKICAgICAgICBzdXBlcihwcm9wLCB0cnVl\nKTsgCiAgICAgICAgc2V0QWxpYXNlcyhBTElBU0VTKTsKICAgICAgICBzZXRE\nZWZhdWx0KEFMSUFTRVNbMF0pOwogICAgICAgIHNldENsYXNzTmFtZShBTElB\nU0VTWzFdKTsKICAgIH0KICAgIAogICAgcHVibGljIGJvb2xlYW4gaXNTUUxD\nYWNoZU9uKCkgewogICAgICAgIGlmIChnZXRDbGFzc05hbWUoKSA9PSBudWxs\nKSAKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiB0\ncnVlOwogICAgfQogICAgCiAgICBwdWJsaWMgT2JqZWN0IG5ld0luc3RhbmNl\nKCkgewogICAgICAgIC8vIG1ha2Ugc3VyZSBtYXAgaGFuZGxlcyBjb25jdXJy\nZW5jeQogICAgICAgIFN0cmluZyBjbHNOYW1lID0gZ2V0Q2xhc3NOYW1lKCk7\nCiAgICAgICAgaWYgKGNsc05hbWUgPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICAgICAgTWFwIG1hcCA9IG51bGw7CgogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIC8vIFVzZSB0aGUgIk9wZW5KUEEiIGNsYXNzbG9h\nZGVyIGZpcnN0Li4uCiAgICAgICAgICAgIG1hcCA9IChNYXApIENvbmZpZ3Vy\nYXRpb25zLm5ld0luc3RhbmNlKGNsc05hbWUsIHRoaXMuZ2V0Q2xhc3MoKQog\nICAgICAgICAgICAgICAgICAgIC5nZXRDbGFzc0xvYWRlcigpKTsKICAgICAg\nICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAvLyBJZiB0\naGUgIk9wZW5KUEEiIGNsYXNzbG9hZGVyIGZhaWxzLCB0aGVuIHRyeSB0aGUg\nY2xhc3Nsb2FkZXIKICAgICAgICAgICAgLy8gdGhhdCB3YXMgdXNlZCB0byBs\nb2FkIGphdmEudXRpbC5NYXAuLi4KICAgICAgICAgICAgbWFwID0gKE1hcCkg\nQ29uZmlndXJhdGlvbnMubmV3SW5zdGFuY2UoY2xzTmFtZSwKICAgICAgICAg\nICAgICAgICAgICBNYXAuY2xhc3MuZ2V0Q2xhc3NMb2FkZXIoKSk7CiAgICAg\nICAgfQogICAgICAgIGlmIChtYXAgIT0gbnVsbAogICAgICAgICAgICAgICAg\nJiYgIShtYXAgaW5zdGFuY2VvZiBIYXNodGFibGUpCiAgICAgICAgICAgICAg\nICAmJiAhKG1hcCBpbnN0YW5jZW9mIENhY2hlTWFwKQogICAgICAgICAgICAg\nICAgJiYgIShtYXAgaW5zdGFuY2VvZiAKICAgICAgICAgICAgICAgICAgICAg\nICAgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLmNvbmN1cnJlbnQuQ29u\nY3VycmVudE1hcCkKICAgICAgICAgICAgICAgICYmICEobWFwIGluc3RhbmNl\nb2YgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudE1hcCkpCiAgICAg\nICAgICAgIG1hcCA9IENvbGxlY3Rpb25zLnN5bmNocm9uaXplZE1hcChtYXAp\nOwogICAgICAgIHJldHVybiBtYXA7CiAgICB9Cgp9Cg==\n","encoding":"base64"}

