{"sha":"346e4e474a2f3e73e11e9f4cc28a1d972fe32cfe","node_id":"MDQ6QmxvYjIwNjM2NDozNDZlNGU0NzRhMmYzZTczZTExZTlmNGNjMjhhMWQ5NzJmZTMyY2Zl","size":15420,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/346e4e474a2f3e73e11e9f4cc28a1d972fe32cfe","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWw7CgppbXBv\ncnQgamF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUmVhZGVy\nOwppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZhLm1h\ndGguQmlnSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkFycmF5OwppbXBvcnQg\namF2YS5zcWwuQmxvYjsKaW1wb3J0IGphdmEuc3FsLkNsb2I7CmltcG9ydCBq\nYXZhLnNxbC5SZWY7CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247Cmlt\ncG9ydCBqYXZhLnNxbC5UaW1lOwppbXBvcnQgamF2YS5zcWwuVGltZXN0YW1w\nOwppbXBvcnQgamF2YS51dGlsLkNhbGVuZGFyOwppbXBvcnQgamF2YS51dGls\nLkRhdGU7CmltcG9ydCBqYXZhLnV0aWwuTG9jYWxlOwppbXBvcnQgamF2YS51\ndGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5TdGFjazsKCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFwcGluZzsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuRmllbGRNYXBwaW5nOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5KYXZhU1FMVHlw\nZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLlF1ZXJ5\nUmVzdWx0TWFwcGluZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLnNjaGVtYS5Db2x1bW47CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuQWJzdHJhY3RSZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zcWwuSm9pbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuUmVzdWx0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlNRTEV4Y2VwdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubGliLnJvcC5SZXN1bHRPYmplY3RQcm92aWRlcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS51dGlsLlN0b3JlRXhjZXB0aW9uOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnV0aWwuVW5zdXBwb3J0ZWRFeGNlcHRpb247Cgov\nKioKICogUHJvdmlkZXMgdGhlIGRhdGEgZnJvbSBxdWVyeSByZXN1bHQgbWFw\ncGVkIGJ5IGEge0BsaW5rIFF1ZXJ5UmVzdWx0TWFwcGluZ30uCiAqCiAqIEBh\ndXRob3IgUGluYWtpIFBvZGRhcgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8K\nY2xhc3MgTWFwcGVkUXVlcnlSZXN1bHRPYmplY3RQcm92aWRlcgogICAgaW1w\nbGVtZW50cyBSZXN1bHRPYmplY3RQcm92aWRlciB7CgogICAgcHJpdmF0ZSBm\naW5hbCBRdWVyeVJlc3VsdE1hcHBpbmcgX21hcDsKICAgIHByaXZhdGUgZmlu\nYWwgSkRCQ1N0b3JlIF9zdG9yZTsKICAgIHByaXZhdGUgZmluYWwgSkRCQ0Zl\ndGNoQ29uZmlndXJhdGlvbiBfZmV0Y2g7CiAgICBwcml2YXRlIGZpbmFsIE1h\ncHBpbmdSZXN1bHQgX21yZXM7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rv\nci4KICAgICAqCiAgICAgKiBAcGFyYW0gcmVzIHRoZSByZXN1bHQgZGF0YQog\nICAgICovCiAgICBwdWJsaWMgTWFwcGVkUXVlcnlSZXN1bHRPYmplY3RQcm92\naWRlcihRdWVyeVJlc3VsdE1hcHBpbmcgbWFwLAogICAgICAgIEpEQkNTdG9y\nZSBzdG9yZSwgSkRCQ0ZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCwgUmVzdWx0\nIHJlcykgewogICAgICAgIF9tYXAgPSBtYXA7CiAgICAgICAgX3N0b3JlID0g\nc3RvcmU7CiAgICAgICAgX2ZldGNoID0gKGZldGNoID09IG51bGwpID8gc3Rv\ncmUuZ2V0RmV0Y2hDb25maWd1cmF0aW9uKCkgOiBmZXRjaDsKICAgICAgICBf\nbXJlcyA9IG5ldyBNYXBwaW5nUmVzdWx0KHJlcyk7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gc3VwcG9ydHNSYW5kb21BY2Nlc3MoKSB7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9tcmVzLnN1cHBvcnRzUmFuZG9t\nQWNjZXNzKCk7CiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAg\nICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBvcGVuKCkgewogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nZ2V0UmVzdWx0T2JqZWN0KCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICBRdWVyeVJlc3VsdE1hcHBpbmcuUENSZXN1bHRbXSBwY3Mg\nPSBfbWFwLmdldFBDUmVzdWx0cygpOwogICAgICAgIE9iamVjdFtdIGNvbHMg\nPSBfbWFwLmdldENvbHVtblJlc3VsdHMoKTsKCiAgICAgICAgLy8gc2luZ2xl\nIG9iamVjdCBjYXNlcwogICAgICAgIGlmIChwY3MubGVuZ3RoID09IDAgJiYg\nY29scy5sZW5ndGggPT0gMSkKICAgICAgICAgICAgcmV0dXJuIF9tcmVzLmdl\ndE9iamVjdChjb2xzWzBdLCBKYXZhU1FMVHlwZXMuSkRCQ19ERUZBVUxULCBu\ndWxsKTsKICAgICAgICBpZiAocGNzLmxlbmd0aCA9PSAxICYmIGNvbHMubGVu\nZ3RoID09IDApCiAgICAgICAgICAgIHJldHVybiBfbXJlcy5sb2FkKHBjc1sw\nXSwgX3N0b3JlLCBfZmV0Y2gpOwoKICAgICAgICAvLyBtdWx0aXBsZSBvYmpl\nY3RzCiAgICAgICAgT2JqZWN0W10gcmV0ID0gbmV3IE9iamVjdFtwY3MubGVu\nZ3RoICsgY29scy5sZW5ndGhdOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgcGNzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICByZXRbaV0gPSBfbXJl\ncy5sb2FkKHBjc1tpXSwgX3N0b3JlLCBfZmV0Y2gpOwogICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgY29scy5sZW5ndGg7IGkrKykKICAgICAgICAgICAg\ncmV0W3Bjcy5sZW5ndGggKyBpXSA9IF9tcmVzLmdldE9iamVjdChjb2xzW2ld\nLAogICAgICAgICAgICAgICAgSmF2YVNRTFR5cGVzLkpEQkNfREVGQVVMVCwg\nbnVsbCk7CiAgICAgICAgcmV0dXJuIHJldDsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBuZXh0KCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX21yZXMubmV4dCgpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGFic29sdXRlKGludCBwb3MpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9tcmVzLmFic29sdXRlKHBv\ncyk7CiAgICB9CgogICAgcHVibGljIGludCBzaXplKCkKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBpZiAoX2ZldGNoLmdldExSU1Np\nemUoKSA9PSBMUlNTaXplcy5TSVpFX1VOS05PV04KICAgICAgICAgICAgfHwg\nIXN1cHBvcnRzUmFuZG9tQWNjZXNzKCkpCiAgICAgICAgICAgIHJldHVybiBJ\nbnRlZ2VyLk1BWF9WQUxVRTsKICAgICAgICByZXR1cm4gX21yZXMuc2l6ZSgp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlc2V0KCkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZEV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGNsb3NlKCkgewogICAgICAgIF9tcmVzLmNsb3NlKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgaGFuZGxlQ2hlY2tlZEV4Y2VwdGlvbihF\neGNlcHRpb24gZSkgewogICAgICAgIGlmIChlIGluc3RhbmNlb2YgU1FMRXhj\nZXB0aW9uKQogICAgICAgICAgICB0aHJvdyBTUUxFeGNlcHRpb25zLmdldFN0\nb3JlKChTUUxFeGNlcHRpb24pIGUsCiAgICAgICAgICAgICAgICBfc3RvcmUu\nZ2V0REJEaWN0aW9uYXJ5KCkpOwogICAgICAgIHRocm93IG5ldyBTdG9yZUV4\nY2VwdGlvbihlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlc3VsdCB0eXBl\nIHRoYXQgbWFwcyByZXF1ZXN0cyB1c2luZyBhIGdpdmVuCiAgICAgKiB7QGxp\nbmsgUXVlcnlSZXN1bHRNYXBwaW5nLlBDUmVzdWx0fS4KICAgICAqLwogICAg\ncHJpdmF0ZSBzdGF0aWMgY2xhc3MgTWFwcGluZ1Jlc3VsdAogICAgICAgIGV4\ndGVuZHMgQWJzdHJhY3RSZXN1bHQgewoKICAgICAgICBwcml2YXRlIGZpbmFs\nIFJlc3VsdCBfcmVzOwogICAgICAgIHByaXZhdGUgZmluYWwgU3RhY2sgX3Jl\ncXVlc3RzID0gbmV3IFN0YWNrKCk7CiAgICAgICAgcHJpdmF0ZSBRdWVyeVJl\nc3VsdE1hcHBpbmcuUENSZXN1bHQgX3BjID0gbnVsbDsKCiAgICAgICAgLyoq\nCiAgICAgICAgICogU3VwcGx5IGRlbGVnYXRlIG9uIGNvbnN0cnVjdGlvbi4K\nICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgTWFwcGluZ1Jlc3VsdChSZXN1\nbHQgcmVzKSB7CiAgICAgICAgICAgIF9yZXMgPSByZXM7CiAgICAgICAgfQoK\nICAgICAgICAvKioKICAgICAgICAgKiBMb2FkIGFuIGluc3RhbmNlIG9mIHRo\nZSBnaXZlbiB0eXBlLiBTaG91bGQgYmUgdXNlZCBpbiBwbGFjZSBvZgogICAg\nICAgICAqIHtAbGluayBSZXN1bHQjbG9hZH0uCiAgICAgICAgICovCiAgICAg\nICAgcHVibGljIE9iamVjdCBsb2FkKFF1ZXJ5UmVzdWx0TWFwcGluZy5QQ1Jl\nc3VsdCBwYywgSkRCQ1N0b3JlIHN0b3JlLAogICAgICAgICAgICBKREJDRmV0\nY2hDb25maWd1cmF0aW9uIGZldGNoKQogICAgICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICAgICAgX3BjID0gcGM7CiAgICAgICAgICAg\nIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZChwYy5nZXRDYW5k\naWRhdGVUeXBlTWFwcGluZygpLCBzdG9yZSwgZmV0Y2gpOwogICAgICAgICAg\nICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgX3BjID0gbnVsbDsKICAg\nICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHVibGljIE9iamVjdCBs\nb2FkKENsYXNzTWFwcGluZyBtYXBwaW5nLCBKREJDU3RvcmUgc3RvcmUsCiAg\nICAgICAgICAgIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpCiAgICAg\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgICAgICByZXR1\ncm4gbG9hZChtYXBwaW5nLCBzdG9yZSwgZmV0Y2gsIG51bGwpOwogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIE9iamVjdCBsb2FkKENsYXNzTWFwcGluZyBt\nYXBwaW5nLCBKREJDU3RvcmUgc3RvcmUsCiAgICAgICAgICAgIEpEQkNGZXRj\naENvbmZpZ3VyYXRpb24gZmV0Y2gsIEpvaW5zIGpvaW5zKQogICAgICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICAgICAgaWYgKF9wYyA9\nPSBudWxsKQogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmxvYWQobWFw\ncGluZywgc3RvcmUsIGZldGNoLCBqb2lucyk7CgogICAgICAgICAgICAvLyB3\nZSBnbyBkaXJlY3QgdG8gdGhlIHN0b3JlIG1hbmFnZXIgc28gd2UgY2FuIHRl\nbGwgaXQgbm90IHRvIGxvYWQKICAgICAgICAgICAgLy8gYW55dGhpbmcgYWRk\naXRpb25hbAogICAgICAgICAgICByZXR1cm4gKChKREJDU3RvcmVNYW5hZ2Vy\nKSBzdG9yZSkubG9hZChtYXBwaW5nLCBmZXRjaCwKICAgICAgICAgICAgICAg\nIF9wYy5nZXRFeGNsdWRlcyhfcmVxdWVzdHMpLCB0aGlzKTsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyBPYmplY3QgZ2V0RWFnZXIoRmllbGRNYXBwaW5n\nIGtleSkgewogICAgICAgICAgICBPYmplY3QgcmV0ID0gX3Jlcy5nZXRFYWdl\ncihrZXkpOwogICAgICAgICAgICBpZiAoX3BjID09IG51bGwgfHwgcmV0ICE9\nIG51bGwpCiAgICAgICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgICAg\nICByZXR1cm4gKF9wYy5oYXNFYWdlcihfcmVxdWVzdHMsIGtleSkpID8gdGhp\ncyA6IG51bGw7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBwdXRF\nYWdlcihGaWVsZE1hcHBpbmcga2V5LCBPYmplY3QgcmVzKSB7CiAgICAgICAg\nICAgIF9yZXMucHV0RWFnZXIoa2V5LCByZXMpOwogICAgICAgIH0KCiAgICAg\nICAgcHVibGljIHZvaWQgY2xvc2UoKSB7CiAgICAgICAgICAgIF9yZXMuY2xv\nc2UoKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBKb2lucyBuZXdKb2lu\ncygpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZXMubmV3Sm9pbnMoKTsKICAg\nICAgICB9CgogICAgICAgIHB1YmxpYyBib29sZWFuIHN1cHBvcnRzUmFuZG9t\nQWNjZXNzKCkKICAgICAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgICAgIHJldHVybiBfcmVzLnN1cHBvcnRzUmFuZG9tQWNjZXNzKCk7\nCiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQ2xhc3NNYXBwaW5nIGdldEJh\nc2VNYXBwaW5nKCkgewogICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRCYXNl\nTWFwcGluZygpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGludCBzaXpl\nKCkKICAgICAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\nICAgIHJldHVybiBfcmVzLnNpemUoKTsKICAgICAgICB9CgogICAgICAgIHB1\nYmxpYyB2b2lkIHN0YXJ0RGF0YVJlcXVlc3QoT2JqZWN0IG1hcHBpbmcpIHsK\nICAgICAgICAgICAgX3JlcXVlc3RzLnB1c2gobWFwcGluZyk7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgdm9pZCBlbmREYXRhUmVxdWVzdCgpIHsKICAg\nICAgICAgICAgX3JlcXVlc3RzLnBvcCgpOwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIGJvb2xlYW4gd2FzTnVsbCgpCiAgICAgICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgICAgICByZXR1cm4gX3Jlcy53YXNOdWxs\nKCk7CiAgICAgICAgfQoKICAgICAgICBwcm90ZWN0ZWQgT2JqZWN0IHRyYW5z\nbGF0ZShPYmplY3Qgb2JqLCBKb2lucyBqb2lucykgewogICAgICAgICAgICBy\nZXR1cm4gKF9wYyA9PSBudWxsKSA/IG9iaiA6IF9wYy5tYXAoX3JlcXVlc3Rz\nLCBvYmosIGpvaW5zKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBi\nb29sZWFuIGFic29sdXRlSW50ZXJuYWwoaW50IHJvdykKICAgICAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHJldHVybiBfcmVz\nLmFic29sdXRlKHJvdyk7CiAgICAgICAgfQoKICAgICAgICBwcm90ZWN0ZWQg\nYm9vbGVhbiBuZXh0SW50ZXJuYWwoKQogICAgICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICAgICAgcmV0dXJuIF9yZXMubmV4dCgpOwog\nICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIGJvb2xlYW4gY29udGFpbnNJ\nbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHJldHVybiBfcmVz\nLmNvbnRhaW5zKHRyYW5zbGF0ZShvYmosIGpvaW5zKSk7CiAgICAgICAgfQoK\nICAgICAgICBwcm90ZWN0ZWQgQXJyYXkgZ2V0QXJyYXlJbnRlcm5hbChPYmpl\nY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBDb2x1\nbW4pCiAgICAgICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRBcnJheSgoQ29s\ndW1uKSBvYmosIGpvaW5zKTsKICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0\nQXJyYXkob2JqKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBJbnB1\ndFN0cmVhbSBnZXRBc2NpaVN0cmVhbUludGVybmFsKE9iamVjdCBvYmosIEpv\naW5zIGpvaW5zKQogICAgICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIENvbHVtbikKICAgICAg\nICAgICAgICAgIHJldHVybiBfcmVzLmdldEFzY2lpU3RyZWFtKChDb2x1bW4p\nIG9iaiwgam9pbnMpOwogICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRBc2Np\naVN0cmVhbShvYmopOwogICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIEJp\nZ0RlY2ltYWwgZ2V0QmlnRGVjaW1hbEludGVybmFsKE9iamVjdCBvYmosIEpv\naW5zIGpvaW5zKQogICAgICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIENvbHVtbikKICAgICAg\nICAgICAgICAgIHJldHVybiBfcmVzLmdldEJpZ0RlY2ltYWwoKENvbHVtbikg\nb2JqLCBqb2lucyk7CiAgICAgICAgICAgIHJldHVybiBfcmVzLmdldEJpZ0Rl\nY2ltYWwob2JqKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBOdW1i\nZXIgZ2V0TnVtYmVySW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMp\nCiAgICAgICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgICAg\nICBpZiAob2JqIGluc3RhbmNlb2YgQ29sdW1uKQogICAgICAgICAgICAgICAg\ncmV0dXJuIF9yZXMuZ2V0TnVtYmVyKChDb2x1bW4pIG9iaiwgam9pbnMpOwog\nICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXROdW1iZXIob2JqKTsKICAgICAg\nICB9CgogICAgICAgIHByb3RlY3RlZCBCaWdJbnRlZ2VyIGdldEJpZ0ludGVn\nZXJJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIGlmIChvYmog\naW5zdGFuY2VvZiBDb2x1bW4pCiAgICAgICAgICAgICAgICByZXR1cm4gX3Jl\ncy5nZXRCaWdJbnRlZ2VyKChDb2x1bW4pIG9iaiwgam9pbnMpOwogICAgICAg\nICAgICByZXR1cm4gX3Jlcy5nZXRCaWdJbnRlZ2VyKG9iaik7CiAgICAgICAg\nfQoKICAgICAgICBwcm90ZWN0ZWQgSW5wdXRTdHJlYW0gZ2V0QmluYXJ5U3Ry\nZWFtSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgICAgICBpZiAob2Jq\nIGluc3RhbmNlb2YgQ29sdW1uKQogICAgICAgICAgICAgICAgcmV0dXJuIF9y\nZXMuZ2V0QmluYXJ5U3RyZWFtKChDb2x1bW4pIG9iaiwgam9pbnMpOwogICAg\nICAgICAgICByZXR1cm4gX3Jlcy5nZXRCaW5hcnlTdHJlYW0ob2JqKTsKICAg\nICAgICB9CgogICAgICAgIHByb3RlY3RlZCBCbG9iIGdldEJsb2JJbnRlcm5h\nbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICAgICAgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2Vv\nZiBDb2x1bW4pCiAgICAgICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRCbG9i\nKChDb2x1bW4pIG9iaiwgam9pbnMpOwogICAgICAgICAgICByZXR1cm4gX3Jl\ncy5nZXRCbG9iKG9iaik7CiAgICAgICAgfQoKICAgICAgICBwcm90ZWN0ZWQg\nYm9vbGVhbiBnZXRCb29sZWFuSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMg\nam9pbnMpCiAgICAgICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQ29sdW1uKQogICAgICAgICAg\nICAgICAgcmV0dXJuIF9yZXMuZ2V0Qm9vbGVhbigoQ29sdW1uKSBvYmosIGpv\naW5zKTsKICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0Qm9vbGVhbihvYmop\nOwogICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIGJ5dGUgZ2V0Qnl0ZUlu\ndGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICAgICAgaWYgKG9iaiBpbnN0\nYW5jZW9mIENvbHVtbikKICAgICAgICAgICAgICAgIHJldHVybiBfcmVzLmdl\ndEJ5dGUoKENvbHVtbikgb2JqLCBqb2lucyk7CiAgICAgICAgICAgIHJldHVy\nbiBfcmVzLmdldEJ5dGUob2JqKTsKICAgICAgICB9CgogICAgICAgIHByb3Rl\nY3RlZCBieXRlW10gZ2V0Qnl0ZXNJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lu\ncyBqb2lucykKICAgICAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBDb2x1bW4pCiAgICAgICAg\nICAgICAgICByZXR1cm4gX3Jlcy5nZXRCeXRlcygoQ29sdW1uKSBvYmosIGpv\naW5zKTsKICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0Qnl0ZXMob2JqKTsK\nICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBDYWxlbmRhciBnZXRDYWxl\nbmRhckludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICAgICAgaWYgKG9i\naiBpbnN0YW5jZW9mIENvbHVtbikKICAgICAgICAgICAgICAgIHJldHVybiBf\ncmVzLmdldENhbGVuZGFyKChDb2x1bW4pIG9iaiwgam9pbnMpOwogICAgICAg\nICAgICByZXR1cm4gX3Jlcy5nZXRDYWxlbmRhcihvYmopOwogICAgICAgIH0K\nCiAgICAgICAgcHJvdGVjdGVkIGNoYXIgZ2V0Q2hhckludGVybmFsKE9iamVj\ndCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIENvbHVt\nbikKICAgICAgICAgICAgICAgIHJldHVybiBfcmVzLmdldENoYXIoKENvbHVt\nbikgb2JqLCBqb2lucyk7CiAgICAgICAgICAgIHJldHVybiBfcmVzLmdldENo\nYXIob2JqKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBSZWFkZXIg\nZ2V0Q2hhcmFjdGVyU3RyZWFtSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMg\nam9pbnMpCiAgICAgICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQ29sdW1uKQogICAgICAgICAg\nICAgICAgcmV0dXJuIF9yZXMuZ2V0Q2hhcmFjdGVyU3RyZWFtKChDb2x1bW4p\nIG9iaiwgam9pbnMpOwogICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRDaGFy\nYWN0ZXJTdHJlYW0ob2JqKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3Rl\nZCBDbG9iIGdldENsb2JJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lu\ncykKICAgICAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\nICAgIGlmIChvYmogaW5zdGFuY2VvZiBDb2x1bW4pCiAgICAgICAgICAgICAg\nICByZXR1cm4gX3Jlcy5nZXRDbG9iKChDb2x1bW4pIG9iaiwgam9pbnMpOwog\nICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRDbG9iKG9iaik7CiAgICAgICAg\nfQoKICAgICAgICBwcm90ZWN0ZWQgRGF0ZSBnZXREYXRlSW50ZXJuYWwoT2Jq\nZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQ29s\ndW1uKQogICAgICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0RGF0ZSgoQ29s\ndW1uKSBvYmosIGpvaW5zKTsKICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0\nRGF0ZShvYmopOwogICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIGphdmEu\nc3FsLkRhdGUgZ2V0RGF0ZUludGVybmFsKE9iamVjdCBvYmosIENhbGVuZGFy\nIGNhbCwKICAgICAgICAgICAgSm9pbnMgam9pbnMpCiAgICAgICAgICAgIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgICAgICBpZiAob2JqIGluc3Rh\nbmNlb2YgQ29sdW1uKQogICAgICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0\nRGF0ZSgoQ29sdW1uKSBvYmosIGNhbCwgam9pbnMpOwogICAgICAgICAgICBy\nZXR1cm4gX3Jlcy5nZXREYXRlKG9iaiwgY2FsKTsKICAgICAgICB9CgogICAg\nICAgIHByb3RlY3RlZCBkb3VibGUgZ2V0RG91YmxlSW50ZXJuYWwoT2JqZWN0\nIG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQ29sdW1u\nKQogICAgICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0RG91YmxlKChDb2x1\nbW4pIG9iaiwgam9pbnMpOwogICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRE\nb3VibGUob2JqKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBmbG9h\ndCBnZXRGbG9hdEludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQog\nICAgICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICAgICAg\naWYgKG9iaiBpbnN0YW5jZW9mIENvbHVtbikKICAgICAgICAgICAgICAgIHJl\ndHVybiBfcmVzLmdldEZsb2F0KChDb2x1bW4pIG9iaiwgam9pbnMpOwogICAg\nICAgICAgICByZXR1cm4gX3Jlcy5nZXRGbG9hdChvYmopOwogICAgICAgIH0K\nCiAgICAgICAgcHJvdGVjdGVkIGludCBnZXRJbnRJbnRlcm5hbChPYmplY3Qg\nb2JqLCBKb2lucyBqb2lucykKICAgICAgICAgICAgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBDb2x1bW4p\nCiAgICAgICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRJbnQoKENvbHVtbikg\nb2JqLCBqb2lucyk7CiAgICAgICAgICAgIHJldHVybiBfcmVzLmdldEludChv\nYmopOwogICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIExvY2FsZSBnZXRM\nb2NhbGVJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIGlmIChv\nYmogaW5zdGFuY2VvZiBDb2x1bW4pCiAgICAgICAgICAgICAgICByZXR1cm4g\nX3Jlcy5nZXRMb2NhbGUoKENvbHVtbikgb2JqLCBqb2lucyk7CiAgICAgICAg\nICAgIHJldHVybiBfcmVzLmdldExvY2FsZShvYmopOwogICAgICAgIH0KCiAg\nICAgICAgcHJvdGVjdGVkIGxvbmcgZ2V0TG9uZ0ludGVybmFsKE9iamVjdCBv\nYmosIEpvaW5zIGpvaW5zKQogICAgICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIENvbHVtbikK\nICAgICAgICAgICAgICAgIHJldHVybiBfcmVzLmdldExvbmcoKENvbHVtbikg\nb2JqLCBqb2lucyk7CiAgICAgICAgICAgIHJldHVybiBfcmVzLmdldExvbmco\nb2JqKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBPYmplY3QgZ2V0\nT2JqZWN0SW50ZXJuYWwoT2JqZWN0IG9iaiwgaW50IG1ldGFUeXBlQ29kZSwK\nICAgICAgICAgICAgT2JqZWN0IGFyZywgSm9pbnMgam9pbnMpCiAgICAgICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgICAgICBpZiAob2Jq\nIGluc3RhbmNlb2YgQ29sdW1uKQogICAgICAgICAgICAgICAgcmV0dXJuIF9y\nZXMuZ2V0T2JqZWN0KChDb2x1bW4pIG9iaiwgYXJnLCBqb2lucyk7CiAgICAg\nICAgICAgIHJldHVybiBfcmVzLmdldE9iamVjdChvYmosIG1ldGFUeXBlQ29k\nZSwgYXJnKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3RlZCBPYmplY3Qg\nZ2V0U1FMT2JqZWN0SW50ZXJuYWwoT2JqZWN0IG9iaiwgTWFwIG1hcCwgSm9p\nbnMgam9pbnMpCiAgICAgICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQ29sdW1uKQogICAgICAg\nICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0U1FMT2JqZWN0KChDb2x1bW4pIG9i\naiwgbWFwLCBqb2lucyk7CiAgICAgICAgICAgIHJldHVybiBfcmVzLmdldFNR\nTE9iamVjdChvYmosIG1hcCk7CiAgICAgICAgfQoKICAgICAgICBwcm90ZWN0\nZWQgT2JqZWN0IGdldFN0cmVhbUludGVybmFsKEpEQkNTdG9yZSBzdG9yZSwg\nT2JqZWN0IG9iaiwKICAgICAgICAgICAgaW50IG1ldGFUeXBlQ29kZSwgT2Jq\nZWN0IGFyZywgSm9pbnMgam9pbnMpIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQ29sdW1uKQogICAgICAg\nICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0T2JqZWN0KChDb2x1bW4pIG9iaiwg\nYXJnLCBqb2lucyk7CiAgICAgICAgICAgIHJldHVybiBfcmVzLmdldE9iamVj\ndChvYmosIG1ldGFUeXBlQ29kZSwgYXJnKTsKICAgICAgICB9CiAgICAgICAg\nCiAgICAgICAgcHJvdGVjdGVkIFJlZiBnZXRSZWZJbnRlcm5hbChPYmplY3Qg\nb2JqLCBNYXAgbWFwLCBKb2lucyBqb2lucykKICAgICAgICAgICAgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2Vv\nZiBDb2x1bW4pCiAgICAgICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRSZWYo\nKENvbHVtbikgb2JqLCBtYXAsIGpvaW5zKTsKICAgICAgICAgICAgcmV0dXJu\nIF9yZXMuZ2V0UmVmKG9iaiwgbWFwKTsKICAgICAgICB9CgogICAgICAgIHBy\nb3RlY3RlZCBzaG9ydCBnZXRTaG9ydEludGVybmFsKE9iamVjdCBvYmosIEpv\naW5zIGpvaW5zKQogICAgICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIENvbHVtbikKICAgICAg\nICAgICAgICAgIHJldHVybiBfcmVzLmdldFNob3J0KChDb2x1bW4pIG9iaiwg\nam9pbnMpOwogICAgICAgICAgICByZXR1cm4gX3Jlcy5nZXRTaG9ydChvYmop\nOwogICAgICAgIH0KCiAgICAgICAgcHJvdGVjdGVkIFN0cmluZyBnZXRTdHJp\nbmdJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIGlmIChvYmog\naW5zdGFuY2VvZiBDb2x1bW4pCiAgICAgICAgICAgICAgICByZXR1cm4gX3Jl\ncy5nZXRTdHJpbmcoKENvbHVtbikgb2JqLCBqb2lucyk7CiAgICAgICAgICAg\nIHJldHVybiBfcmVzLmdldFN0cmluZyhvYmopOwogICAgICAgIH0KCiAgICAg\nICAgcHJvdGVjdGVkIFRpbWUgZ2V0VGltZUludGVybmFsKE9iamVjdCBvYmos\nIENhbGVuZGFyIGNhbCwgSm9pbnMgam9pbnMpCiAgICAgICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgICAgICBpZiAob2JqIGluc3RhbmNl\nb2YgQ29sdW1uKQogICAgICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0VGlt\nZSgoQ29sdW1uKSBvYmosIGNhbCwgam9pbnMpOwogICAgICAgICAgICByZXR1\ncm4gX3Jlcy5nZXRUaW1lKG9iaiwgY2FsKTsKICAgICAgICB9CgogICAgICAg\nIHByb3RlY3RlZCBUaW1lc3RhbXAgZ2V0VGltZXN0YW1wSW50ZXJuYWwoT2Jq\nZWN0IG9iaiwgQ2FsZW5kYXIgY2FsLAogICAgICAgICAgICBKb2lucyBqb2lu\ncykKICAgICAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\nICAgIGlmIChvYmogaW5zdGFuY2VvZiBDb2x1bW4pCiAgICAgICAgICAgICAg\nICByZXR1cm4gX3Jlcy5nZXRUaW1lc3RhbXAoKENvbHVtbikgb2JqLCBjYWws\nIGpvaW5zKTsKICAgICAgICAgICAgcmV0dXJuIF9yZXMuZ2V0VGltZXN0YW1w\nKG9iaiwgY2FsKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

