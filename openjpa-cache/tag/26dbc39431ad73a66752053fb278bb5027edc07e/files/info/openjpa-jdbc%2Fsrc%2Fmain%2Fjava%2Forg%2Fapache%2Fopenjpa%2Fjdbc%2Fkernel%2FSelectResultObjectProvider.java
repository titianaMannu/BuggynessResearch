{"sha":"19e94ed6973ddb7507de3c368cd85869d09c756e","node_id":"MDQ6QmxvYjIwNjM2NDoxOWU5NGVkNjk3M2RkYjc1MDdkZTNjMzY4Y2Q4NTg2OWQwOWM3NTZl","size":4529,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/19e94ed6973ddb7507de3c368cd85869d09c756e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWw7CgppbXBv\ncnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbC5SZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5zcWwuU1FMRXhjZXB0aW9uczsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLnNxbC5TZWxlY3Q7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5zcWwuU2VsZWN0RXhlY3V0b3I7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLnJvcC5SZXN1bHRPYmplY3RQcm92aWRlcjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlN0b3JlRXhjZXB0aW9u\nOwoKLyoqCiAqIEFic3RyYWN0IHByb3ZpZGVyIGltcGxlbWVudGF0aW9uIHdy\nYXBwZWQgYXJvdW5kIGEge0BsaW5rIFNlbGVjdH0uCiAqCiAqIEBhdXRob3Ig\nQWJlIFdoaXRlCiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBhYnN0cmFjdCBj\nbGFzcyBTZWxlY3RSZXN1bHRPYmplY3RQcm92aWRlcgogICAgaW1wbGVtZW50\ncyBSZXN1bHRPYmplY3RQcm92aWRlciB7CgogICAgcHJpdmF0ZSBmaW5hbCBT\nZWxlY3RFeGVjdXRvciBfc2VsOwogICAgcHJpdmF0ZSBmaW5hbCBKREJDU3Rv\ncmUgX3N0b3JlOwogICAgcHJpdmF0ZSBmaW5hbCBKREJDRmV0Y2hDb25maWd1\ncmF0aW9uIF9mZXRjaDsKICAgIHByaXZhdGUgUmVzdWx0IF9yZXMgPSBudWxs\nOwogICAgcHJpdmF0ZSBpbnQgX3NpemUgPSAtMTsKICAgIHByaXZhdGUgQm9v\nbGVhbiBfcmEgPSBudWxsOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3Iu\nCiAgICAgKgogICAgICogQHBhcmFtIHNlbCB0aGUgc2VsZWN0IHRvIGV4ZWN1\ndGUKICAgICAqIEBwYXJhbSBzdG9yZSB0aGUgc3RvcmUgdG8gZGVsZWdhdGUg\nbG9hZGluZyB0bwogICAgICogQHBhcmFtIGZldGNoIHRoZSBmZXRjaCBjb25m\naWd1cmF0aW9uLCBvciBudWxsIGZvciB0aGUgZGVmYXVsdAogICAgICovCiAg\nICBwdWJsaWMgU2VsZWN0UmVzdWx0T2JqZWN0UHJvdmlkZXIoU2VsZWN0RXhl\nY3V0b3Igc2VsLCBKREJDU3RvcmUgc3RvcmUsCiAgICAgICAgSkRCQ0ZldGNo\nQ29uZmlndXJhdGlvbiBmZXRjaCkgewogICAgICAgIF9zZWwgPSBzZWw7CiAg\nICAgICAgX3N0b3JlID0gc3RvcmU7CiAgICAgICAgX2ZldGNoID0gZmV0Y2g7\nCiAgICB9CgogICAgcHVibGljIFNlbGVjdEV4ZWN1dG9yIGdldFNlbGVjdCgp\nIHsKICAgICAgICByZXR1cm4gX3NlbDsKICAgIH0KCiAgICBwdWJsaWMgSkRC\nQ1N0b3JlIGdldFN0b3JlKCkgewogICAgICAgIHJldHVybiBfc3RvcmU7CiAg\nICB9CgogICAgcHVibGljIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gZ2V0RmV0\nY2hDb25maWd1cmF0aW9uKCkgewogICAgICAgIHJldHVybiBfZmV0Y2g7CiAg\nICB9CgogICAgcHVibGljIFJlc3VsdCBnZXRSZXN1bHQoKSB7CiAgICAgICAg\ncmV0dXJuIF9yZXM7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gc3VwcG9y\ndHNSYW5kb21BY2Nlc3MoKSB7CiAgICAgICAgaWYgKF9yYSA9PSBudWxsKSB7\nCiAgICAgICAgICAgIGJvb2xlYW4gcmE7CiAgICAgICAgICAgIGlmIChfcmVz\nICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAg\nICAgICAgICAgcmEgPSBfcmVzLnN1cHBvcnRzUmFuZG9tQWNjZXNzKCk7CiAg\nICAgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gc2UpIHsKICAg\nICAgICAgICAgICAgICAgICB0aHJvdyBTUUxFeGNlcHRpb25zLmdldFN0b3Jl\nKHNlLCBfc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkpOwogICAgICAgICAgICAg\nICAgfQogICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICAgIHJhID0g\nX3NlbC5zdXBwb3J0c1JhbmRvbUFjY2VzcyhfZmV0Y2guZ2V0UmVhZExvY2tM\nZXZlbCgpID4gMCk7CiAgICAgICAgICAgIF9yYSA9IChyYSkgPyBCb29sZWFu\nLlRSVUUgOiBCb29sZWFuLkZBTFNFOwogICAgICAgIH0KICAgICAgICByZXR1\ncm4gX3JhLmJvb2xlYW5WYWx1ZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIG9wZW4oKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIF9yZXMgPSBfc2VsLmV4ZWN1dGUoX3N0b3JlLCBfZmV0Y2gpOwogICAgfQoK\nICAgIHB1YmxpYyBib29sZWFuIG5leHQoKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzLm5leHQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBhYnNvbHV0ZShpbnQgcG9zKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzLmFi\nc29sdXRlKHBvcyk7CiAgICB9CgogICAgcHVibGljIGludCBzaXplKCkKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBpZiAoX3NpemUg\nPT0gLTEpIHsKICAgICAgICAgICAgLy8gaWYgcmVzIGlzIG51bGwsIGRvbid0\nIGNhY2hlIHNpemUKICAgICAgICAgICAgaWYgKF9yZXMgPT0gbnVsbCkKICAg\nICAgICAgICAgICAgIHJldHVybiBJbnRlZ2VyLk1BWF9WQUxVRTsKCiAgICAg\nICAgICAgIHN3aXRjaCAoX2ZldGNoLmdldExSU1NpemUoKSkgewogICAgICAg\nICAgICAgICAgY2FzZSBMUlNTaXplcy5TSVpFX1VOS05PV046CiAgICAgICAg\nICAgICAgICAgICAgX3NpemUgPSBJbnRlZ2VyLk1BWF9WQUxVRTsKICAgICAg\nICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgTFJT\nU2l6ZXMuU0laRV9MQVNUOgogICAgICAgICAgICAgICAgICAgIGlmIChzdXBw\nb3J0c1JhbmRvbUFjY2VzcygpKQogICAgICAgICAgICAgICAgICAgICAgICBf\nc2l6ZSA9IF9yZXMuc2l6ZSgpOwogICAgICAgICAgICAgICAgICAgIGVsc2UK\nICAgICAgICAgICAgICAgICAgICAgICAgX3NpemUgPSBJbnRlZ2VyLk1BWF9W\nQUxVRTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAg\nICAgIGRlZmF1bHQ6IC8vIHF1ZXJ5CiAgICAgICAgICAgICAgICAgICAgX3Np\nemUgPSBfc2VsLmdldENvdW50KF9zdG9yZSk7CiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICAgICAgcmV0dXJuIF9zaXplOwogICAgfQoKICAgIC8qKgog\nICAgICogQWxsb3cgc3ViY2xhc3NlcyB0aGF0IGtub3cgdGhlIHNpemUgdG8g\nc2V0IGl0OyBvdGhlcndpc2Ugd2UgY2FsY3VsYXRlCiAgICAgKiBpdCBpbnRl\ncm5hbGx5LgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBzZXRTaXplKGlu\ndCBzaXplKSB7CiAgICAgICAgaWYgKF9zaXplID09IC0xKQogICAgICAgICAg\nICBfc2l6ZSA9IHNpemU7CiAgICB9CgogICAgcHVibGljIHZvaWQgcmVzZXQo\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGNsb3Nl\nKCk7CiAgICAgICAgb3BlbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNs\nb3NlKCkgewogICAgICAgIGlmIChfcmVzICE9IG51bGwpIHsKICAgICAgICAg\nICAgX3Jlcy5jbG9zZSgpOwogICAgICAgICAgICBfcmVzID0gbnVsbDsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgaGFuZGxlQ2hlY2tlZEV4\nY2VwdGlvbihFeGNlcHRpb24gZSkgewogICAgICAgIGlmIChlIGluc3RhbmNl\nb2YgU1FMRXhjZXB0aW9uKQogICAgICAgICAgICB0aHJvdyBTUUxFeGNlcHRp\nb25zLmdldFN0b3JlKChTUUxFeGNlcHRpb24pIGUsCiAgICAgICAgICAgICAg\nICBfc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkpOwogICAgICAgIHRocm93IG5l\ndyBTdG9yZUV4Y2VwdGlvbihlKTsKICAgIH0KfQo=\n","encoding":"base64"}

