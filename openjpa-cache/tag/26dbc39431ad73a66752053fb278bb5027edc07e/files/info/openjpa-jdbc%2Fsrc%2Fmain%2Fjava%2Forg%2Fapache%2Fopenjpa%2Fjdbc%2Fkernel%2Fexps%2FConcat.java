{"sha":"03897fa0cf1ac4801aaffb3b3feb0114bb2ac6b4","node_id":"MDQ6QmxvYjIwNjM2NDowMzg5N2ZhMGNmMWFjNDgwMWFhZmZiM2IzZmViMDExNGJiMmFjNmI0","size":5224,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/03897fa0cf1ac4801aaffb3b3feb0114bb2ac6b4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwczsK\nCmltcG9ydCBqYXZhLmxhbmcuTWF0aDsKaW1wb3J0IGphdmEuc3FsLlNRTEV4\nY2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRh\nLkphdmFTUUxUeXBlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuUmVzdWx0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlNRTEJ1ZmZlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5TZWxlY3Q7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2Vy\nbmVsLkZpbHRlcnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVs\nLmV4cHMuRXhwcmVzc2lvblZpc2l0b3I7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwoKLyoqCiAqIENvbmNhdGVuYXRl\nIG9uZSBzdHJpbmcgd2l0aCBhbm90aGVyLgogKgogKiBAYXV0aG9yIE1hcmMg\nUHJ1ZCdob21tZWF1eAogKi8KcHVibGljIGNsYXNzIENvbmNhdAogICAgZXh0\nZW5kcyBBYnN0cmFjdFZhbCB7CgogICAgcHJpdmF0ZSBmaW5hbCBWYWwgX3Zh\nbDE7CiAgICBwcml2YXRlIGZpbmFsIFZhbCBfdmFsMjsKICAgIHByaXZhdGUg\nQ2xhc3NNZXRhRGF0YSBfbWV0YSA9IG51bGw7CgogICAgLyoqCiAgICAgKiBD\nb25zdHJ1Y3Rvci4gUHJvdmlkZSB0aGUgc3RyaW5ncyB0byBvcGVyYXRlIG9u\nLgogICAgICovCiAgICBwdWJsaWMgQ29uY2F0KFZhbCB2YWwxLCBWYWwgdmFs\nMikgewogICAgICAgIF92YWwxID0gdmFsMTsKICAgICAgICBfdmFsMiA9IHZh\nbDI7CiAgICB9CgogICAgcHVibGljIFZhbCBnZXRWYWwxKCkgewogICAgICAg\nIHJldHVybiBfdmFsMTsKICAgIH0KCiAgICBwdWJsaWMgVmFsIGdldFZhbDIo\nKSB7CiAgICAgICAgcmV0dXJuIF92YWwyOwogICAgfQoKICAgIHB1YmxpYyBD\nbGFzc01ldGFEYXRhIGdldE1ldGFEYXRhKCkgewogICAgICAgIHJldHVybiBf\nbWV0YTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNZXRhRGF0YShDbGFz\nc01ldGFEYXRhIG1ldGEpIHsKICAgICAgICBfbWV0YSA9IG1ldGE7CiAgICB9\nCgogICAgcHVibGljIENsYXNzIGdldFR5cGUoKSB7CiAgICAgICAgcmV0dXJu\nIFN0cmluZy5jbGFzczsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJbXBs\naWNpdFR5cGUoQ2xhc3MgdHlwZSkgewogICAgfQoKICAgIHB1YmxpYyBFeHBT\ndGF0ZSBpbml0aWFsaXplKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBp\nbnQgZmxhZ3MpIHsKICAgICAgICBFeHBTdGF0ZSBzMSA9IF92YWwxLmluaXRp\nYWxpemUoc2VsLCBjdHgsIDApOwogICAgICAgIEV4cFN0YXRlIHMyID0gX3Zh\nbDIuaW5pdGlhbGl6ZShzZWwsIGN0eCwgMCk7CiAgICAgICAgcmV0dXJuIG5l\ndyBCaW5hcnlPcEV4cFN0YXRlKHNlbC5hbmQoczEuam9pbnMsIHMyLmpvaW5z\nKSwgczEsIHMyKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZWxlY3QoU2Vs\nZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAg\nICAgICBib29sZWFuIHBrcykgewogICAgICAgIHNlbC5zZWxlY3QobmV3U1FM\nQnVmZmVyKHNlbCwgY3R4LCBzdGF0ZSksIHRoaXMpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNlbGVjdENvbHVtbnMoU2VsZWN0IHNlbCwgRXhwQ29udGV4\ndCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBib29sZWFuIHBrcykg\newogICAgICAgIEJpbmFyeU9wRXhwU3RhdGUgYnN0YXRlID0gKEJpbmFyeU9w\nRXhwU3RhdGUpIHN0YXRlOwogICAgICAgIF92YWwxLnNlbGVjdENvbHVtbnMo\nc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTEsIHRydWUpOwogICAgICAgIF92YWwy\nLnNlbGVjdENvbHVtbnMoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTIsIHRydWUp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGdyb3VwQnkoU2VsZWN0IHNlbCwg\nRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAgICAgc2Vs\nLmdyb3VwQnkobmV3U1FMQnVmZmVyKHNlbCwgY3R4LCBzdGF0ZSkpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIG9yZGVyQnkoU2VsZWN0IHNlbCwgRXhwQ29u\ndGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBib29sZWFuIGFz\nYykgewogICAgICAgIHNlbC5vcmRlckJ5KG5ld1NRTEJ1ZmZlcihzZWwsIGN0\neCwgc3RhdGUpLCBhc2MsIGZhbHNlKTsKICAgIH0KCiAgICBwcml2YXRlIFNR\nTEJ1ZmZlciBuZXdTUUxCdWZmZXIoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBj\ndHgsIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAgICAgY2FsY3VsYXRlVmFsdWUo\nc2VsLCBjdHgsIHN0YXRlLCBudWxsLCBudWxsKTsKICAgICAgICBTUUxCdWZm\nZXIgYnVmID0gbmV3IFNRTEJ1ZmZlcihjdHguc3RvcmUuZ2V0REJEaWN0aW9u\nYXJ5KCkpOwogICAgICAgIGFwcGVuZFRvKHNlbCwgY3R4LCBzdGF0ZSwgYnVm\nLCAwKTsKICAgICAgICByZXR1cm4gYnVmOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgbG9hZChFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3RhdGUsIFJl\nc3VsdCByZXMpIAogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBGaWx0ZXJzLmNvbnZlcnQocmVzLmdldE9iamVjdCh0aGlz\nLAogICAgICAgICAgICBKYXZhU1FMVHlwZXMuSkRCQ19ERUZBVUxULCBudWxs\nKSwgZ2V0VHlwZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjYWxjdWxh\ndGVWYWx1ZShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUg\nc3RhdGUsIAogICAgICAgIFZhbCBvdGhlciwgRXhwU3RhdGUgb3RoZXJTdGF0\nZSkgewogICAgICAgIEJpbmFyeU9wRXhwU3RhdGUgYnN0YXRlID0gKEJpbmFy\neU9wRXhwU3RhdGUpIHN0YXRlOwogICAgICAgIF92YWwxLmNhbGN1bGF0ZVZh\nbHVlKHNlbCwgY3R4LCBic3RhdGUuc3RhdGUxLCBudWxsLCBudWxsKTsKICAg\nICAgICBfdmFsMi5jYWxjdWxhdGVWYWx1ZShzZWwsIGN0eCwgYnN0YXRlLnN0\nYXRlMiwgbnVsbCwgbnVsbCk7CiAgICB9CgogICAgcHVibGljIGludCBsZW5n\ndGgoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRl\nKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nYXBwZW5kVG8oU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRl\nIHN0YXRlLCAKICAgICAgICBTUUxCdWZmZXIgc3FsLCBpbnQgaW5kZXgpIHsK\nICAgICAgICBCaW5hcnlPcEV4cFN0YXRlIGJzdGF0ZSA9IChCaW5hcnlPcEV4\ncFN0YXRlKSBzdGF0ZTsKICAgICAgICBfdmFsMS5jYWxjdWxhdGVWYWx1ZShz\nZWwsIGN0eCwgYnN0YXRlLnN0YXRlMSwgbnVsbCwgbnVsbCk7CiAgICAgICAg\nX3ZhbDIuY2FsY3VsYXRlVmFsdWUoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTIs\nIG51bGwsIG51bGwpOwoKICAgICAgICBEQkRpY3Rpb25hcnkgZGljdCA9IGN0\neC5zdG9yZS5nZXREQkRpY3Rpb25hcnkoKTsKICAgICAgICBTdHJpbmcgZnVu\nYyA9IGRpY3QuY29uY2F0ZW5hdGVGdW5jdGlvbjsKICAgICAgICBkaWN0LmFz\nc2VydFN1cHBvcnQoZnVuYyAhPSBudWxsLCAiQ29uY2F0ZW5hdGVGdW5jdGlv\nbiIpOwogICAgICAgIGludCBwYXJ0MWlkeCA9IGZ1bmMuaW5kZXhPZigiezB9\nIik7CiAgICAgICAgaW50IHBhcnQyaWR4ID0gZnVuYy5pbmRleE9mKCJ7MX0i\nKTsKICAgICAgICBTdHJpbmcgcGFydDEgPSBmdW5jLnN1YnN0cmluZygwLCBN\nYXRoLm1pbihwYXJ0MWlkeCwgcGFydDJpZHgpKTsKICAgICAgICBTdHJpbmcg\ncGFydDIgPSBmdW5jLnN1YnN0cmluZyhNYXRoLm1pbihwYXJ0MWlkeCwgcGFy\ndDJpZHgpICsgMywKICAgICAgICAgICAgTWF0aC5tYXgocGFydDFpZHgsIHBh\ncnQyaWR4KSk7CiAgICAgICAgU3RyaW5nIHBhcnQzID0gZnVuYy5zdWJzdHJp\nbmcoTWF0aC5tYXgocGFydDFpZHgsIHBhcnQyaWR4KSArIDMpOwoKICAgICAg\nICBzcWwuYXBwZW5kKHBhcnQxKTsKICAgICAgICBfdmFsMS5hcHBlbmRUbyhz\nZWwsIGN0eCwgYnN0YXRlLnN0YXRlMSwgc3FsLCAwKTsKICAgICAgICBzcWwu\nYXBwZW5kKHBhcnQyKTsKICAgICAgICBfdmFsMi5hcHBlbmRUbyhzZWwsIGN0\neCwgYnN0YXRlLnN0YXRlMiwgc3FsLCAwKTsKICAgICAgICBzcWwuYXBwZW5k\nKHBhcnQzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhY2NlcHRWaXNpdChF\neHByZXNzaW9uVmlzaXRvciB2aXNpdG9yKSB7CiAgICAgICAgdmlzaXRvci5l\nbnRlcih0aGlzKTsKICAgICAgICBfdmFsMS5hY2NlcHRWaXNpdCh2aXNpdG9y\nKTsKICAgICAgICBfdmFsMi5hY2NlcHRWaXNpdCh2aXNpdG9yKTsKICAgICAg\nICB2aXNpdG9yLmV4aXQodGhpcyk7CiAgICB9CgogICAgcHVibGljIGludCBn\nZXRJZCgpIHsKICAgICAgICByZXR1cm4gVmFsLkNPTkNBVF9WQUw7CiAgICB9\nCn0KCg==\n","encoding":"base64"}

