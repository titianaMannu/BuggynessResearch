{"sha":"d3f760a1839bc9f01d337b4b1de7da2e3b3b2800","node_id":"MDQ6QmxvYjIwNjM2NDpkM2Y3NjBhMTgzOWJjOWYwMWQzMzdiNGIxZGU3ZGEyZTNiM2IyODAw","size":12799,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d3f760a1839bc9f01d337b4b1de7da2e3b3b2800","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwczsK\nCmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFwcGluZzsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuSmF2YVNRTFR5cGVzOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5BZ2dyZWdh\ndGVMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nZXhwcy5Bcmd1bWVudHM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2Vy\nbmVsLmV4cHMuRXhwcmVzc2lvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5rZXJuZWwuZXhwcy5FeHByZXNzaW9uRmFjdG9yeTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5GaWx0ZXJMaXN0ZW5lcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5MaXRlcmFsOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLlBhcmFtZXRl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5QYXRo\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLlN1YnF1\nZXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLlZh\nbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2Fs\naXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0\nYURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Vc2VyRXhj\nZXB0aW9uOwoKLyoqCiAqIEV4cHJlc3Npb24gZmFjdG9yeSBpbXBsZW1lbnRh\ndGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGV4ZWN1dGUgcXVlcmllcwogKiB2\naWEgU1FMLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAbm9qYXZhZG9j\nCiAqLwpwdWJsaWMgY2xhc3MgSkRCQ0V4cHJlc3Npb25GYWN0b3J5CiAgICBp\nbXBsZW1lbnRzIEV4cHJlc3Npb25GYWN0b3J5LCBTZXJpYWxpemFibGUgewoK\nICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFZhbCBOVUxMID0gbmV3IE51bGwo\nKTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFZhbCBDVVJSRU5UX0RBVEUg\nPSBuZXcgQ3VycmVudERhdGUoSmF2YVNRTFR5cGVzLkRBVEUpOwogICAgcHJp\ndmF0ZSBzdGF0aWMgZmluYWwgVmFsIENVUlJFTlRfVElNRSA9IG5ldyBDdXJy\nZW50RGF0ZShKYXZhU1FMVHlwZXMuVElNRSk7CiAgICBwcml2YXRlIHN0YXRp\nYyBmaW5hbCBWYWwgQ1VSUkVOVF9USU1FU1RBTVAgPQogICAgICAgIG5ldyBD\ndXJyZW50RGF0ZShKYXZhU1FMVHlwZXMuVElNRVNUQU1QKTsKCiAgICBwcml2\nYXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5m\nb3JQYWNrYWdlCiAgICAgICAgKEpEQkNFeHByZXNzaW9uRmFjdG9yeS5jbGFz\ncyk7CgogICAgcHJpdmF0ZSBmaW5hbCBDbGFzc01hcHBpbmcgX3R5cGU7CiAg\nICBwcml2YXRlIGZpbmFsIFNlbGVjdENvbnN0cnVjdG9yIF9jb25zID0gbmV3\nIFNlbGVjdENvbnN0cnVjdG9yKCk7CiAgICBwcml2YXRlIGludCBfZ2V0TWFw\nVmFsdWVBbGlhcyA9IDA7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4g\nU3VwcGx5IHRoZSB0eXBlIHdlJ3JlIHF1ZXJ5aW5nIGFnYWluc3QuCiAgICAg\nKi8KICAgIHB1YmxpYyBKREJDRXhwcmVzc2lvbkZhY3RvcnkoQ2xhc3NNYXBw\naW5nIHR5cGUpIHsKICAgICAgICBfdHlwZSA9IHR5cGU7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBVc2UgdG8gY3JlYXRlIFNRTCBzZWxlY3QuCiAgICAgKi8K\nICAgIHB1YmxpYyBTZWxlY3RDb25zdHJ1Y3RvciBnZXRTZWxlY3RDb25zdHJ1\nY3RvcigpIHsKICAgICAgICByZXR1cm4gX2NvbnM7CiAgICB9CgogICAgcHVi\nbGljIEV4cHJlc3Npb24gZW1wdHlFeHByZXNzaW9uKCkgewogICAgICAgIHJl\ndHVybiBuZXcgRW1wdHlFeHByZXNzaW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIEV4cHJlc3Npb24gYXNFeHByZXNzaW9uKFZhbHVlIHYpIHsKICAgICAgICBy\nZXR1cm4gZXF1YWwodiwgbmV3TGl0ZXJhbChCb29sZWFuLlRSVUUsIExpdGVy\nYWwuVFlQRV9CT09MRUFOKSk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Np\nb24gZXF1YWwoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgLy8gaWYg\nd2UncmUgY29tcGFyaW5nIGFuIHVuYWNjZXNzZWQgYm91bmQgdmFyaWFibGUs\nIGxpa2UgaW46CiAgICAgICAgLy8gY29sbC5jb250YWlucyAodmFyKSAmJiB2\nYXIgPT0geCwgdGhlbiB0cmFuc2xhdGUgaW50bzoKICAgICAgICAvLyBjb2xs\nLmNvbnRhaW5zICh4KQogICAgICAgIGlmICh2MSBpbnN0YW5jZW9mIFBDUGF0\naCAmJiAoKFBDUGF0aCkgdjEpLmlzVW5hY2Nlc3NlZFZhcmlhYmxlKCkpCiAg\nICAgICAgICAgIHJldHVybiBjb250YWlucyh2MSwgdjIpOwogICAgICAgIGlm\nICh2MiBpbnN0YW5jZW9mIFBDUGF0aCAmJiAoKFBDUGF0aCkgdjIpLmlzVW5h\nY2Nlc3NlZFZhcmlhYmxlKCkpCiAgICAgICAgICAgIHJldHVybiBjb250YWlu\ncyh2MiwgdjEpOwogICAgICAgIHJldHVybiBuZXcgRXF1YWxFeHByZXNzaW9u\nKChWYWwpIHYxLCAoVmFsKSB2Mik7CiAgICB9CgogICAgcHVibGljIEV4cHJl\nc3Npb24gbm90RXF1YWwoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBOb3RFcXVhbEV4cHJlc3Npb24oKFZhbCkgdjEsIChWYWwp\nIHYyKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBsZXNzVGhhbihW\nYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAgICAgICByZXR1cm4gbmV3IENvbXBh\ncmVFeHByZXNzaW9uKChWYWwpIHYxLCAoVmFsKSB2MiwKICAgICAgICAgICAg\nQ29tcGFyZUV4cHJlc3Npb24uTEVTUyk7CiAgICB9CgogICAgcHVibGljIEV4\ncHJlc3Npb24gZ3JlYXRlclRoYW4oVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBDb21wYXJlRXhwcmVzc2lvbigoVmFsKSB2MSwg\nKFZhbCkgdjIsCiAgICAgICAgICAgIENvbXBhcmVFeHByZXNzaW9uLkdSRUFU\nRVIpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGxlc3NUaGFuRXF1\nYWwoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBD\nb21wYXJlRXhwcmVzc2lvbigoVmFsKSB2MSwgKFZhbCkgdjIsCiAgICAgICAg\nICAgIENvbXBhcmVFeHByZXNzaW9uLkxFU1NfRVFVQUwpOwogICAgfQoKICAg\nIHB1YmxpYyBFeHByZXNzaW9uIGdyZWF0ZXJUaGFuRXF1YWwoVmFsdWUgdjEs\nIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJlRXhwcmVz\nc2lvbigoVmFsKSB2MSwgKFZhbCkgdjIsCiAgICAgICAgICAgIENvbXBhcmVF\neHByZXNzaW9uLkdSRUFURVJfRVFVQUwpOwogICAgfQoKICAgIHB1YmxpYyBF\neHByZXNzaW9uIGlzRW1wdHkoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBJc0VtcHR5RXhwcmVzc2lvbigoVmFsKSB2YWwpOwogICAgfQoKICAg\nIHB1YmxpYyBFeHByZXNzaW9uIGlzTm90RW1wdHkoVmFsdWUgdmFsKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBJc05vdEVtcHR5RXhwcmVzc2lvbigoVmFsKSB2\nYWwpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGNvbnRhaW5zKFZh\nbHVlIG1hcCwgVmFsdWUgYXJnKSB7CiAgICAgICAgaWYgKG1hcCBpbnN0YW5j\nZW9mIENvbnN0KQogICAgICAgICAgICByZXR1cm4gbmV3IEluRXhwcmVzc2lv\nbigoVmFsKSBhcmcsIChDb25zdCkgbWFwKTsKICAgICAgICBpZiAobWFwIGlu\nc3RhbmNlb2YgU3ViUSkKICAgICAgICAgICAgcmV0dXJuIG5ldyBJblN1YlFF\neHByZXNzaW9uKChWYWwpIGFyZywgKFN1YlEpIG1hcCk7CiAgICAgICAgcmV0\ndXJuIG5ldyBDb250YWluc0V4cHJlc3Npb24oKFZhbCkgbWFwLCAoVmFsKSBh\ncmcpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGNvbnRhaW5zS2V5\nKFZhbHVlIG1hcCwgVmFsdWUgYXJnKSB7CiAgICAgICAgaWYgKG1hcCBpbnN0\nYW5jZW9mIENvbnN0KQogICAgICAgICAgICByZXR1cm4gbmV3IEluS2V5RXhw\ncmVzc2lvbigoVmFsKSBhcmcsIChDb25zdCkgbWFwKTsKICAgICAgICByZXR1\ncm4gbmV3IENvbnRhaW5zS2V5RXhwcmVzc2lvbigoVmFsKSBtYXAsIChWYWwp\nIGFyZyk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gY29udGFpbnNW\nYWx1ZShWYWx1ZSBtYXAsIFZhbHVlIGFyZykgewogICAgICAgIGlmIChtYXAg\naW5zdGFuY2VvZiBDb25zdCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBJblZh\nbHVlRXhwcmVzc2lvbigoVmFsKSBhcmcsIChDb25zdCkgbWFwKTsKICAgICAg\nICByZXR1cm4gbmV3IENvbnRhaW5zRXhwcmVzc2lvbigoVmFsKSBtYXAsIChW\nYWwpIGFyZyk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gaXNJbnN0\nYW5jZShWYWx1ZSB2YWwsIENsYXNzIGMpIHsKICAgICAgICBpZiAodmFsIGlu\nc3RhbmNlb2YgQ29uc3QpCiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uc3RJ\nbnN0YW5jZW9mRXhwcmVzc2lvbigoQ29uc3QpIHZhbCwgYyk7CiAgICAgICAg\ncmV0dXJuIG5ldyBJbnN0YW5jZW9mRXhwcmVzc2lvbigoUENQYXRoKSB2YWws\nIGMpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGFuZChFeHByZXNz\naW9uIGV4cDEsIEV4cHJlc3Npb24gZXhwMikgewogICAgICAgIGlmIChleHAx\nIGluc3RhbmNlb2YgQmluZFZhcmlhYmxlRXhwcmVzc2lvbikKICAgICAgICAg\nICAgcmV0dXJuIG5ldyBCaW5kVmFyaWFibGVBbmRFeHByZXNzaW9uKChCaW5k\nVmFyaWFibGVFeHByZXNzaW9uKSBleHAxLAogICAgICAgICAgICAgICAgKEV4\ncCkgZXhwMik7CiAgICAgICAgaWYgKGV4cDIgaW5zdGFuY2VvZiBCaW5kVmFy\naWFibGVFeHByZXNzaW9uKQogICAgICAgICAgICByZXR1cm4gbmV3IEJpbmRW\nYXJpYWJsZUFuZEV4cHJlc3Npb24oKEJpbmRWYXJpYWJsZUV4cHJlc3Npb24p\nIGV4cDIsCiAgICAgICAgICAgICAgICAoRXhwKSBleHAxKTsKICAgICAgICBy\nZXR1cm4gbmV3IEFuZEV4cHJlc3Npb24oKEV4cCkgZXhwMSwgKEV4cCkgZXhw\nMik7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gb3IoRXhwcmVzc2lv\nbiBleHAxLCBFeHByZXNzaW9uIGV4cDIpIHsKICAgICAgICByZXR1cm4gbmV3\nIE9yRXhwcmVzc2lvbigoRXhwKSBleHAxLCAoRXhwKSBleHAyKTsKICAgIH0K\nCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBub3QoRXhwcmVzc2lvbiBleHApIHsK\nICAgICAgICBpZiAoSGFzQ29udGFpbnNFeHByZXNzaW9uVmlzaXRvci5oYXND\nb250YWlucyhleHApKQogICAgICAgICAgICByZXR1cm4gbmV3IE5vdENvbnRh\naW5zRXhwcmVzc2lvbigoRXhwKSBleHApOwogICAgICAgIHJldHVybiBuZXcg\nTm90RXhwcmVzc2lvbigoRXhwKSBleHApOwogICAgfQoKICAgIHB1YmxpYyBF\neHByZXNzaW9uIGJpbmRWYXJpYWJsZShWYWx1ZSB2YXIsIFZhbHVlIHZhbCkg\newogICAgICAgIC8vIGhhbmRsZSB0aGUgc3RyYW5nZSBjYXNlIG9mIHVzaW5n\nIGEgY29uc3RhbnQgcGF0aCB0byBiaW5kIGEKICAgICAgICAvLyB2YXJpYWJs\nZTsgaW4gdGhlc2UgY2FzZXMgdGhlIHZhcmlhYmxlIGFjdHMgbGlrZSBhbiB1\nbmJvdW5kCiAgICAgICAgLy8gdmFyaWFibGUgdGhhdCB3ZSBsaW1pdCBieSB1\nc2luZyBhbiBJTiBjbGF1c2Ugb24gdGhlIGNvbnN0YW50CiAgICAgICAgLy8g\ndmFsdWUgY29sbGVjdGlvbgogICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBD\nb25zdCkgewogICAgICAgICAgICBQQ1BhdGggcGF0aCA9IG5ldyBQQ1BhdGgo\nX3R5cGUsIChWYXJpYWJsZSkgdmFyKTsKICAgICAgICAgICAgcGF0aC5zZXRN\nZXRhRGF0YSh2YXIuZ2V0TWV0YURhdGEoKSk7CiAgICAgICAgICAgIHJldHVy\nbiBuZXcgSW5FeHByZXNzaW9uKHBhdGgsIChDb25zdCkgdmFsKTsKICAgICAg\nICB9CiAgICAgICAgcmV0dXJuIG5ldyBCaW5kVmFyaWFibGVFeHByZXNzaW9u\nKChWYXJpYWJsZSkgdmFyLCAoUENQYXRoKSB2YWwsIGZhbHNlKTsKICAgIH0K\nCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBiaW5kS2V5VmFyaWFibGUoVmFsdWUg\ndmFyLCBWYWx1ZSB2YWwpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIHN0cmFu\nZ2UgY2FzZSBvZiB1c2luZyBhIGNvbnN0YW50IHBhdGggdG8gYmluZCBhCiAg\nICAgICAgLy8gdmFyaWFibGU7IGluIHRoZXNlIGNhc2VzIHRoZSB2YXJpYWJs\nZSBhY3RzIGxpa2UgYW4gdW5ib3VuZAogICAgICAgIC8vIHZhcmlhYmxlIHRo\nYXQgd2UgbGltaXQgYnkgdXNpbmcgYW4gSU4gY2xhdXNlIG9uIHRoZSBjb25z\ndGFudAogICAgICAgIC8vIHZhbHVlIGNvbGxlY3Rpb24KICAgICAgICBpZiAo\ndmFsIGluc3RhbmNlb2YgQ29uc3QpIHsKICAgICAgICAgICAgUENQYXRoIHBh\ndGggPSBuZXcgUENQYXRoKF90eXBlLCAoVmFyaWFibGUpIHZhcik7CiAgICAg\nICAgICAgIHBhdGguc2V0TWV0YURhdGEodmFyLmdldE1ldGFEYXRhKCkpOwog\nICAgICAgICAgICByZXR1cm4gbmV3IEluS2V5RXhwcmVzc2lvbihwYXRoLCAo\nQ29uc3QpIHZhbCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgQmlu\nZFZhcmlhYmxlRXhwcmVzc2lvbigoVmFyaWFibGUpIHZhciwgKFBDUGF0aCkg\ndmFsLCB0cnVlKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBiaW5k\nVmFsdWVWYXJpYWJsZShWYWx1ZSB2YXIsIFZhbHVlIHZhbCkgewogICAgICAg\nIHJldHVybiBiaW5kVmFyaWFibGUodmFyLCB2YWwpOwogICAgfQoKICAgIHB1\nYmxpYyBFeHByZXNzaW9uIHN0YXJ0c1dpdGgoVmFsdWUgdjEsIFZhbHVlIHYy\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBTdGFydHNXaXRoRXhwcmVzc2lvbigo\nVmFsKSB2MSwgKFZhbCkgdjIpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNz\naW9uIGVuZHNXaXRoKFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJl\ndHVybiBuZXcgRW5kc1dpdGhFeHByZXNzaW9uKChWYWwpIHYxLCAoVmFsKSB2\nMik7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gbm90TWF0Y2hlcyhW\nYWx1ZSB2MSwgVmFsdWUgdjIsCiAgICAgICAgU3RyaW5nIHNpbmdsZSwgU3Ry\naW5nIG11bHRpLCBTdHJpbmcgZXNjKSB7CiAgICAgICAgcmV0dXJuIG5vdCht\nYXRjaGVzKHYxLCB2Miwgc2luZ2xlLCBtdWx0aSwgZXNjKSk7CiAgICB9Cgog\nICAgcHVibGljIEV4cHJlc3Npb24gbWF0Y2hlcyhWYWx1ZSB2MSwgVmFsdWUg\ndjIsCiAgICAgICAgU3RyaW5nIHNpbmdsZSwgU3RyaW5nIG11bHRpLCBTdHJp\nbmcgZXNjKSB7CiAgICAgICAgaWYgKCEodjIgaW5zdGFuY2VvZiBDb25zdCkp\nCiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXhjZXB0aW9uKF9sb2MuZ2V0\nKCJjb25zdC1vbmx5IiwgIm1hdGNoZXMiKSk7CiAgICAgICAgcmV0dXJuIG5l\ndyBNYXRjaGVzRXhwcmVzc2lvbigoVmFsKSB2MSwgKENvbnN0KSB2Miwgc2lu\nZ2xlLCBtdWx0aSwKICAgICAgICAgICAgZXNjICE9IG51bGwgPyBlc2MgOiBf\ndHlwZS5nZXRNYXBwaW5nUmVwb3NpdG9yeSgpLgogICAgICAgICAgICAgICAg\nZ2V0REJEaWN0aW9uYXJ5KCkuc2VhcmNoU3RyaW5nRXNjYXBlKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3VicXVlcnkgbmV3U3VicXVlcnkoQ2xhc3NNZXRhRGF0\nYSBjYW5kaWRhdGUsIGJvb2xlYW4gc3VicywKICAgICAgICBTdHJpbmcgYWxp\nYXMpIHsKICAgICAgICBEQkRpY3Rpb25hcnkgZGljdCA9IF90eXBlLmdldE1h\ncHBpbmdSZXBvc2l0b3J5KCkuZ2V0REJEaWN0aW9uYXJ5KCk7CiAgICAgICAg\nZGljdC5hc3NlcnRTdXBwb3J0KGRpY3Quc3VwcG9ydHNTdWJzZWxlY3QsICJT\ndXBwb3J0c1N1YnNlbGVjdCIpOwogICAgICAgIHJldHVybiBuZXcgU3ViUSgo\nQ2xhc3NNYXBwaW5nKSBjYW5kaWRhdGUsIHN1YnMsIGFsaWFzKTsKICAgIH0K\nCiAgICBwdWJsaWMgUGF0aCBuZXdQYXRoKCkgewogICAgICAgIHJldHVybiBu\nZXcgUENQYXRoKF90eXBlKTsKICAgIH0KCiAgICBwdWJsaWMgUGF0aCBuZXdQ\nYXRoKFZhbHVlIHZhbCkgewogICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBD\nb25zdCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25zdFBhdGgoKENvbnN0\nKSB2YWwpOwogICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBTdWJRKQogICAg\nICAgICAgICByZXR1cm4gbmV3IFBDUGF0aCgoU3ViUSkgdmFsKTsKICAgICAg\nICByZXR1cm4gbmV3IFBDUGF0aChfdHlwZSwgKFZhcmlhYmxlKSB2YWwpOwog\nICAgfQoKICAgIHB1YmxpYyBMaXRlcmFsIG5ld0xpdGVyYWwoT2JqZWN0IHZh\nbCwgaW50IHB0eXBlKSB7CiAgICAgICAgcmV0dXJuIG5ldyBMaXQodmFsLCBw\ndHlwZSk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGdldFRoaXMoKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBQQ1BhdGgoX3R5cGUpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSBnZXROdWxsKCkgewogICAgICAgIHJldHVybiBOVUxMOwog\nICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXRDdXJyZW50RGF0ZSgpIHsKICAg\nICAgICByZXR1cm4gQ1VSUkVOVF9EQVRFOwogICAgfQoKICAgIHB1YmxpYyBW\nYWx1ZSBnZXRDdXJyZW50VGltZSgpIHsKICAgICAgICByZXR1cm4gQ1VSUkVO\nVF9USU1FOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXRDdXJyZW50VGlt\nZXN0YW1wKCkgewogICAgICAgIHJldHVybiBDVVJSRU5UX1RJTUVTVEFNUDsK\nICAgIH0KCiAgICBwdWJsaWMgUGFyYW1ldGVyIG5ld1BhcmFtZXRlcihTdHJp\nbmcgbmFtZSwgQ2xhc3MgdHlwZSkgewogICAgICAgIHJldHVybiBuZXcgUGFy\nYW0obmFtZSwgdHlwZSk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIG5ld0V4\ndGVuc2lvbihGaWx0ZXJMaXN0ZW5lciBsaXN0ZW5lciwgVmFsdWUgdGFyZ2V0\nLAogICAgICAgIFZhbHVlIGFyZykgewogICAgICAgIHJldHVybiBuZXcgRXh0\nZW5zaW9uKChKREJDRmlsdGVyTGlzdGVuZXIpIGxpc3RlbmVyLAogICAgICAg\nICAgICAoVmFsKSB0YXJnZXQsIChWYWwpIGFyZywgX3R5cGUpOwogICAgfQoK\nICAgIHB1YmxpYyBWYWx1ZSBuZXdBZ2dyZWdhdGUoQWdncmVnYXRlTGlzdGVu\nZXIgbGlzdGVuZXIsIFZhbHVlIGFyZykgewogICAgICAgIHJldHVybiBuZXcg\nQWdncmVnYXRlKChKREJDQWdncmVnYXRlTGlzdGVuZXIpIGxpc3RlbmVyLAog\nICAgICAgICAgICAoVmFsKSBhcmcsIF90eXBlKTsKICAgIH0KCiAgICBwdWJs\naWMgQXJndW1lbnRzIG5ld0FyZ3VtZW50TGlzdChWYWx1ZSB2MSwgVmFsdWUg\ndjIpIHsKICAgICAgICByZXR1cm4gbmV3IEFyZ3MoKFZhbCkgdjEsIChWYWwp\nIHYyKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgbmV3VW5ib3VuZFZhcmlh\nYmxlKFN0cmluZyBuYW1lLCBDbGFzcyB0eXBlKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBWYXJpYWJsZShuYW1lLCB0eXBlKTsKICAgIH0KCiAgICBwdWJsaWMg\nVmFsdWUgbmV3Qm91bmRWYXJpYWJsZShTdHJpbmcgbmFtZSwgQ2xhc3MgdHlw\nZSkgewogICAgICAgIHJldHVybiBuZXdVbmJvdW5kVmFyaWFibGUobmFtZSwg\ndHlwZSk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGNhc3QoVmFsdWUgdmFs\nLCBDbGFzcyBjbHMpIHsKICAgICAgICB2YWwuc2V0SW1wbGljaXRUeXBlKGNs\ncyk7CiAgICAgICAgcmV0dXJuIHZhbDsKICAgIH0KCiAgICBwdWJsaWMgVmFs\ndWUgYWRkKFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBu\nZXcgTWF0aCgoVmFsKSB2MSwgKFZhbCkgdjIsIE1hdGguQUREKTsKICAgIH0K\nCiAgICBwdWJsaWMgVmFsdWUgc3VidHJhY3QoVmFsdWUgdjEsIFZhbHVlIHYy\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXRoKChWYWwpIHYxLCAoVmFsKSB2\nMiwgTWF0aC5TVUJUUkFDVCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIG11\nbHRpcGx5KFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBu\nZXcgTWF0aCgoVmFsKSB2MSwgKFZhbCkgdjIsIE1hdGguTVVMVElQTFkpOwog\nICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBkaXZpZGUoVmFsdWUgdjEsIFZhbHVl\nIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXRoKChWYWwpIHYxLCAoVmFs\nKSB2MiwgTWF0aC5ESVZJREUpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBt\nb2QoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBN\nYXRoKChWYWwpIHYxLCAoVmFsKSB2MiwgTWF0aC5NT0QpOwogICAgfQoKICAg\nIHB1YmxpYyBWYWx1ZSBhYnMoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBBYnMoKFZhbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUg\naW5kZXhPZihWYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAgICAgICByZXR1cm4g\nbmV3IEluZGV4T2YoKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0KCiAgICBw\ndWJsaWMgVmFsdWUgY29uY2F0KFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAg\nICAgIHJldHVybiBuZXcgQ29uY2F0KChWYWwpIHYxLCAoVmFsKSB2Mik7CiAg\nICB9CgogICAgcHVibGljIFZhbHVlIHN0cmluZ0xlbmd0aChWYWx1ZSBzdHIp\nIHsKICAgICAgICByZXR1cm4gbmV3IFN0cmluZ0xlbmd0aCgoVmFsKSBzdHIp\nOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSB0cmltKFZhbHVlIHN0ciwgVmFs\ndWUgdHJpbUNoYXIsIEJvb2xlYW4gd2hlcmUpIHsKICAgICAgICByZXR1cm4g\nbmV3IFRyaW0oKFZhbCkgc3RyLCAoVmFsKSB0cmltQ2hhciwgd2hlcmUpOwog\nICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBzcXJ0KFZhbHVlIHZhbCkgewogICAg\nICAgIHJldHVybiBuZXcgU3FydCgoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSBzdWJzdHJpbmcoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBTdWJzdHJpbmcoKFZhbCkgdjEsIChWYWwpIHYy\nKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgdG9VcHBlckNhc2UoVmFsdWUg\ndmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBUb1VwcGVyQ2FzZSgoVmFsKSB2\nYWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSB0b0xvd2VyQ2FzZShWYWx1\nZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3IFRvTG93ZXJDYXNlKChWYWwp\nIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGF2ZyhWYWx1ZSB2YWwp\nIHsKICAgICAgICByZXR1cm4gbmV3IEF2ZygoVmFsKSB2YWwpOwogICAgfQoK\nICAgIHB1YmxpYyBWYWx1ZSBjb3VudChWYWx1ZSB2YWwpIHsKICAgICAgICBy\nZXR1cm4gbmV3IENvdW50KChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGlj\nIFZhbHVlIGRpc3RpbmN0KFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBu\nZXcgRGlzdGluY3QoKFZhbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgVmFs\ndWUgbWF4KFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBuZXcgTWF4KChW\nYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIG1pbihWYWx1ZSB2\nYWwpIHsKICAgICAgICByZXR1cm4gbmV3IE1pbigoVmFsKSB2YWwpOwogICAg\nfQoKICAgIHB1YmxpYyBWYWx1ZSBzdW0oVmFsdWUgdmFsKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBTdW0oKFZhbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMg\nVmFsdWUgYW55KFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBuZXcgQW55\nKChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGFsbChWYWx1\nZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3IEFsbCgoVmFsKSB2YWwpOwog\nICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBzaXplKFZhbHVlIHZhbCkgewogICAg\nICAgIHJldHVybiBuZXcgU2l6ZSgoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSBnZXRPYmplY3RJZChWYWx1ZSB2YWwpIHsKICAgICAgICBp\nZiAodmFsIGluc3RhbmNlb2YgQ29uc3QpCiAgICAgICAgICAgIHJldHVybiBu\nZXcgQ29uc3RHZXRPYmplY3RJZCgoQ29uc3QpIHZhbCk7CiAgICAgICAgcmV0\ndXJuIG5ldyBHZXRPYmplY3RJZCgoUENQYXRoKSB2YWwpOwogICAgfQoKICAg\nIHB1YmxpYyBWYWx1ZSBnZXRNYXBWYWx1ZShWYWx1ZSBtYXAsIFZhbHVlIGFy\nZykgewogICAgICAgIHJldHVybiBuZXcgR2V0TWFwVmFsdWUoKFZhbCkgbWFw\nLCAoVmFsKSBhcmcsIAogICAgICAgICAgICAiZ212IiArIF9nZXRNYXBWYWx1\nZUFsaWFzKyspOwogICAgfQp9Cg==\n","encoding":"base64"}

