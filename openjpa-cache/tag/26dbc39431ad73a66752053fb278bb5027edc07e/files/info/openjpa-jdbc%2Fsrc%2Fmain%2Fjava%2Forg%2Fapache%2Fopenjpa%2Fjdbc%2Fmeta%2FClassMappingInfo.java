{"sha":"d1699ea4979faaeafc14fe504d7a2f266fc53e0d","node_id":"MDQ6QmxvYjIwNjM2NDpkMTY5OWVhNDk3OWZhYWVhZmMxNGZlNTA0ZDdhMmYyNjZmYzUzZTBk","size":16439,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d1699ea4979faaeafc14fe504d7a2f266fc53e0d","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhOwoKaW1wb3J0\nIGphdmEuaW8uRmlsZTsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Cmlt\ncG9ydCBqYXZhLnV0aWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkNvbGxl\nY3Rpb25zOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZh\nLnV0aWwuSXRlcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0\nIGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OwoK\naW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5sYW5nLlN0cmluZ1V0aWxzOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5zdHJhdHMuRnVs\nbENsYXNzU3RyYXRlZ3k7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc2NoZW1hLkZvcmVpZ25LZXk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zY2hlbWEuU2NoZW1hOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc2NoZW1hLlNjaGVtYUdyb3VwOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc2NoZW1hLlRhYmxlOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc2NoZW1hLlVuaXF1ZTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIubWV0YS5Tb3VyY2VUcmFja2VyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIueG1sLkNvbW1lbnRhYmxlOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURhdGFDb250ZXh0OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuVXNlckV4Y2VwdGlvbjsKCi8q\nKgogKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgbWFwcGluZyBmcm9tIGEgY2xh\nc3MgdG8gdGhlIHNjaGVtYSwgaW4gcmF3IGZvcm0uCiAqIFRoZSBjb2x1bW5z\nIGFuZCB0YWJsZXMgdXNlZCBpbiBtYXBwaW5nIGluZm8gd2lsbCBub3QgYmUg\ncGFydCBvZiB0aGUKICoge0BsaW5rIFNjaGVtYUdyb3VwfSB1c2VkIGF0IHJ1\nbnRpbWUuIFJhdGhlciwgdGhleSB3aWxsIGJlIHN0cnVjdHMKICogd2l0aCB0\naGUgcmVsZXZhbnQgcGllY2VzIG9mIGluZm9ybWF0aW9uIGZpbGxlZCBpbi4K\nICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBDbGFz\nc01hcHBpbmdJbmZvCiAgICBleHRlbmRzIE1hcHBpbmdJbmZvCiAgICBpbXBs\nZW1lbnRzIFNvdXJjZVRyYWNrZXIsIENvbW1lbnRhYmxlIHsKCiAgICBwcml2\nYXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5m\nb3JQYWNrYWdlCiAgICAgICAgKENsYXNzTWFwcGluZ0luZm8uY2xhc3MpOwoK\nICAgIHByaXZhdGUgU3RyaW5nIF9jbGFzc05hbWUgPSBPYmplY3QuY2xhc3Mu\nZ2V0TmFtZSgpOwogICAgcHJpdmF0ZSBTdHJpbmcgX3RhYmxlTmFtZSA9IG51\nbGw7CiAgICBwcml2YXRlIFN0cmluZyBfc2NoZW1hTmFtZSA9IG51bGw7CiAg\nICBwcml2YXRlIGJvb2xlYW4gX2pvaW5lZCA9IGZhbHNlOwogICAgcHJpdmF0\nZSBNYXAgX3NlY29uZHMgPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcgX3N1\nYlN0cmF0ID0gbnVsbDsKICAgIHByaXZhdGUgRmlsZSBfZmlsZSA9IG51bGw7\nCiAgICBwcml2YXRlIGludCBfc3JjVHlwZSA9IFNSQ19PVEhFUjsKICAgIHBy\naXZhdGUgU3RyaW5nW10gX2NvbW1lbnRzID0gbnVsbDsKICAgIHByaXZhdGUg\naW50IF9saW5lTnVtID0gMDsgIAogICAgcHJpdmF0ZSBpbnQgX2NvbE51bSA9\nIDA7ICAKICAgIAogICAgLy8gVW5pcXVlIGNvbnN0cmFpbnRzIGluZGV4ZWQg\nYnkgcHJpbWFyeSBvciBzZWNvbmRhcnkgdGFibGUgbmFtZQogICAgcHJpdmF0\nZSBNYXA8U3RyaW5nLExpc3Q8VW5pcXVlPj4gX3VuaXF1ZXM7CgogICAgLyoq\nCiAgICAgKiBUaGUgZGVzY3JpYmVkIGNsYXNzIG5hbWUuCiAgICAgKi8KICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0Q2xhc3NOYW1lKCkgewogICAgICAgIHJldHVy\nbiBfY2xhc3NOYW1lOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGRlc2Ny\naWJlZCBjbGFzcyBuYW1lLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRD\nbGFzc05hbWUoU3RyaW5nIG5hbWUpIHsKICAgICAgICBfY2xhc3NOYW1lID0g\nbmFtZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBkZWZhdWx0IHN0cmF0\nZWd5IGZvciBzdWJjbGFzc2VzIGluIHRoaXMgaGllcmFyY2h5LgogICAgICov\nCiAgICBwdWJsaWMgU3RyaW5nIGdldEhpZXJhcmNoeVN0cmF0ZWd5KCkgewog\nICAgICAgIHJldHVybiBfc3ViU3RyYXQ7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBUaGUgZGVmYXVsdCBzdHJhdGVneSBmb3Igc3ViY2xhc3NlcyBpbiB0aGlz\nIGhpZXJhcmNoeS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0SGllcmFy\nY2h5U3RyYXRlZ3koU3RyaW5nIHN0cmF0ZWd5KSB7CiAgICAgICAgX3N1YlN0\ncmF0ID0gc3RyYXRlZ3k7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgZ2l2\nZW4gdGFibGUgbmFtZS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRU\nYWJsZU5hbWUoKSB7CiAgICAgICAgcmV0dXJuIF90YWJsZU5hbWU7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBUaGUgZ2l2ZW4gdGFibGUgbmFtZS4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0VGFibGVOYW1lKFN0cmluZyB0YWJsZSkg\newogICAgICAgIF90YWJsZU5hbWUgPSB0YWJsZTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFRoZSBkZWZhdWx0IHNjaGVtYSBuYW1lIGZvciB1bnF1YWxpZmll\nZCB0YWJsZXMuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0U2NoZW1h\nTmFtZSgpIHsKICAgICAgICByZXR1cm4gX3NjaGVtYU5hbWU7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBUaGUgZGVmYXVsdCBzY2hlbWEgbmFtZSBmb3IgdW5x\ndWFsaWZpZWQgdGFibGVzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRT\nY2hlbWFOYW1lKFN0cmluZyBzY2hlbWEpIHsKICAgICAgICBfc2NoZW1hTmFt\nZSA9IHNjaGVtYTsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhl\ncmUgaXMgYSBqb2luIHRvIHRoZSBzdXBlcmNsYXNzIHRhYmxlLgogICAgICov\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc0pvaW5lZFN1YmNsYXNzKCkgewogICAg\nICAgIHJldHVybiBfam9pbmVkOwogICAgfQoKICAgIC8qKgogICAgICogV2hl\ndGhlciB0aGVyZSBpcyBhIGpvaW4gdG8gdGhlIHN1cGVyY2xhc3MgdGFibGUu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEpvaW5lZFN1YmNsYXNzKGJv\nb2xlYW4gam9pbmVkKSB7CiAgICAgICAgX2pvaW5lZCA9IGpvaW5lZDsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgY2xhc3MtbGV2ZWwgam9p\nbmVkIHRhYmxlcy4KICAgICAqLwogICAgcHVibGljIFN0cmluZ1tdIGdldFNl\nY29uZGFyeVRhYmxlTmFtZXMoKSB7CiAgICAgICAgaWYgKF9zZWNvbmRzID09\nIG51bGwpCiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyaW5nWzBdOwogICAg\nICAgIHJldHVybiAoU3RyaW5nW10pIF9zZWNvbmRzLmtleVNldCgpLnRvQXJy\nYXkobmV3IFN0cmluZ1tdeyB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFdl\nIGFsbG93IGZpZWxkcyB0byByZWZlcmVuY2UgY2xhc3MtbGV2ZWwgam9pbnMg\ndXNpbmcganVzdCB0aGUgdGFibGUKICAgICAqIG5hbWUsIHdoZXJlYXMgdGhl\nIGNsYXNzIGpvaW4gbWlnaHQgaGF2ZSBzY2hlbWEsIGV0YyBpbmZvcm1hdGlv\nbi4KICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIG5hbWUgb2YgdGhl\nIGdpdmVuIHRhYmxlIGFzIGxpc3RlZCBpbiBhCiAgICAgKiBjbGFzcy1sZXZl\nbCBqb2luLCBvciB0aGUgZ2l2ZW4gbmFtZSBpZiBubyBqb2luIGV4aXN0cy4K\nICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRTZWNvbmRhcnlUYWJsZU5h\nbWUoU3RyaW5nIHRhYmxlTmFtZSkgewogICAgICAgIC8vIGlmIG5vIHNlY29u\nZGFyeSB0YWJsZSBqb2lucywgYmFkIHRhYmxlIG5hbWUsIGV4YWN0IG1hdGNo\nLAogICAgICAgIC8vIG9yIGFuIGFscmVhZHktcXVhbGlmaWVkIHRhYmxlIG5h\nbWUsIG5vdGhpbmcgdG8gZG8KICAgICAgICBpZiAoX3NlY29uZHMgPT0gbnVs\nbCB8fCB0YWJsZU5hbWUgPT0gbnVsbAogICAgICAgICAgICB8fCBfc2Vjb25k\ncy5jb250YWluc0tleSh0YWJsZU5hbWUpCiAgICAgICAgICAgIHx8IHRhYmxl\nTmFtZS5pbmRleE9mKCcuJykgIT0gLTEpCiAgICAgICAgICAgIHJldHVybiB0\nYWJsZU5hbWU7CgogICAgICAgIC8vIGRlY2lkZSB3aGljaCBjbGFzcy1sZXZl\nbCBqb2luIHRhYmxlIGlzIGJlc3QgbWF0Y2gKICAgICAgICBTdHJpbmcgYmVz\ndCA9IHRhYmxlTmFtZTsKICAgICAgICBpbnQgcHRzID0gMDsKICAgICAgICBT\ndHJpbmcgZnVsbEpvaW47CiAgICAgICAgU3RyaW5nIGpvaW47CiAgICAgICAg\naW50IGlkeDsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0ciA9IF9zZWNvbmRz\nLmtleVNldCgpLml0ZXJhdG9yKCk7IGl0ci5oYXNOZXh0KCk7KSB7CiAgICAg\nICAgICAgIC8vIGF3YXJkIGEgY2FzZWxlc3MgbWF0Y2ggd2l0aG91dCBzY2hl\nbWEgMiBwb2ludHMKICAgICAgICAgICAgZnVsbEpvaW4gPSAoU3RyaW5nKSBp\ndHIubmV4dCgpOwogICAgICAgICAgICBpZHggPSBmdWxsSm9pbi5sYXN0SW5k\nZXhPZignLicpOwogICAgICAgICAgICBpZiAoaWR4ID09IC0xICYmIHB0cyA8\nIDIgJiYgZnVsbEpvaW4uZXF1YWxzSWdub3JlQ2FzZSh0YWJsZU5hbWUpKSB7\nCiAgICAgICAgICAgICAgICBiZXN0ID0gZnVsbEpvaW47CiAgICAgICAgICAg\nICAgICBwdHMgPSAyOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlkeCA9PSAt\nMSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgLy8g\naW1tZWRpYXRlbHkgcmV0dXJuIGFuIGV4YWN0IG1hdGNoIHdpdGggc2NoZW1h\nCiAgICAgICAgICAgIGpvaW4gPSBmdWxsSm9pbi5zdWJzdHJpbmcoaWR4ICsg\nMSk7CiAgICAgICAgICAgIGlmIChqb2luLmVxdWFscyh0YWJsZU5hbWUpKQog\nICAgICAgICAgICAgICAgcmV0dXJuIGZ1bGxKb2luOwoKICAgICAgICAgICAg\nLy8gY2FzZWxlc3MgbWF0Y2ggd2l0aCBzY2hlbWEgd29ydGggMSBwb2ludAog\nICAgICAgICAgICBpZiAocHRzIDwgMSAmJiBqb2luLmVxdWFsc0lnbm9yZUNh\nc2UodGFibGVOYW1lKSkgewogICAgICAgICAgICAgICAgYmVzdCA9IGZ1bGxK\nb2luOwogICAgICAgICAgICAgICAgcHRzID0gMTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KICAgICAgICByZXR1cm4gYmVzdDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiBhbnkgY29sdW1ucyBkZWZpbmVkIGZvciB0aGUgZ2l2\nZW4gY2xhc3MgbGV2ZWwgam9pbiwgb3IgZW1wdHkKICAgICAqIGxpc3QgaWYg\nbm9uZS4KICAgICAqLwogICAgcHVibGljIExpc3QgZ2V0U2Vjb25kYXJ5VGFi\nbGVKb2luQ29sdW1ucyhTdHJpbmcgdGFibGVOYW1lKSB7CiAgICAgICAgaWYg\nKF9zZWNvbmRzID09IG51bGwgfHwgdGFibGVOYW1lID09IG51bGwpCiAgICAg\nICAgICAgIHJldHVybiBDb2xsZWN0aW9ucy5FTVBUWV9MSVNUOwoKICAgICAg\nICAvLyBnZXQgdGhlIGNvbHVtbnMgZm9yIHRoZSBqb2luIHdpdGggdGhlIGJl\nc3QgbWF0Y2ggZm9yIHRhYmxlIG5hbWUKICAgICAgICBMaXN0IGNvbHMgPSAo\nTGlzdCkgX3NlY29uZHMuZ2V0KGdldFNlY29uZGFyeVRhYmxlTmFtZSh0YWJs\nZU5hbWUpKTsKICAgICAgICBpZiAoY29scyA9PSBudWxsKSB7CiAgICAgICAg\nICAgIC8vIHBvc3NpYmxlIHRoYXQgZ2l2ZW4gdGFibGUgaGFzIGV4dHJhIGlu\nZm8gdGhlIGpvaW4gdGFibGUKICAgICAgICAgICAgLy8gZG9lc24ndCBoYXZl\nOyBzdHJpcCBpdAogICAgICAgICAgICBpbnQgaWR4ID0gdGFibGVOYW1lLmxh\nc3RJbmRleE9mKCcuJyk7CiAgICAgICAgICAgIGlmIChpZHggIT0gLTEpIHsK\nICAgICAgICAgICAgICAgIHRhYmxlTmFtZSA9IHRhYmxlTmFtZS5zdWJzdHJp\nbmcoaWR4ICsgMSk7CiAgICAgICAgICAgICAgICBjb2xzID0gKExpc3QpIF9z\nZWNvbmRzLmdldChnZXRTZWNvbmRhcnlUYWJsZU5hbWUodGFibGVOYW1lKSk7\nCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIChjb2xz\nID09IG51bGwpID8gQ29sbGVjdGlvbnMuRU1QVFlfTElTVCA6IGNvbHM7CiAg\nICB9CiAgICAKICAgIC8qKgogICAgICogQWRkcyBhIFNlY29uZGFyeSB0YWJs\nZSBvZiBnaXZlbiBuYW1lIHRvIHRoaXMgbWFwcGluZy4gQSBzZWNvbmRhcnkg\ndGFibGUgCiAgICAgKiBtdXN0IGJlIGtub3duIGJlZm9yZSB1bmlxdWUgY29u\nc3RyYWludHMgYXJlIGFkZGVkIHRvIGEgU2Vjb25kYXJ5IHRhYmxlLgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBhZGRTZWNvbmRhcnlUYWJsZShTdHJpbmcg\nc2Vjb25kKSB7CiAgICAJc2V0U2Vjb25kYXJ5VGFibGVKb2luQ29sdW1ucyhz\nZWNvbmQsIG51bGwpOwogICAgfQoKICAgIC8qKgogICAgICogRGVjbGFyZSB0\naGUgZ2l2ZW4gY2xhc3MtbGV2ZWwgam9pbiB0byB0aGUgbmFtZWQgKHNlY29u\nZGFyeSkgdGFibGUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNlY29u\nZGFyeVRhYmxlSm9pbkNvbHVtbnMoU3RyaW5nIHRhYmxlTmFtZSwgTGlzdCBj\nb2xzKSB7CiAgICAgICAgaWYgKGNvbHMgPT0gbnVsbCkKICAgICAgICAgICAg\nY29scyA9IENvbGxlY3Rpb25zLkVNUFRZX0xJU1Q7CiAgICAgICAgaWYgKF9z\nZWNvbmRzID09IG51bGwpCiAgICAgICAgICAgIF9zZWNvbmRzID0gbmV3IEhh\nc2hNYXAoKTsKICAgICAgICBfc2Vjb25kcy5wdXQodGFibGVOYW1lLCBjb2xz\nKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIG5hbWVk\nIHRhYmxlIGZvciB0aGUgZ2l2ZW4gY2xhc3MuCiAgICAgKi8KICAgIHB1Ymxp\nYyBUYWJsZSBnZXRUYWJsZShmaW5hbCBDbGFzc01hcHBpbmcgY2xzLCBTdHJp\nbmcgdGFibGVOYW1lLCAKICAgIAkJYm9vbGVhbiBhZGFwdCkgewogICAgICAg\nIFRhYmxlIHQgPSBjcmVhdGVUYWJsZShjbHMsIG5ldyBUYWJsZURlZmF1bHRz\nKCkgewogICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldChTY2hlbWEgc2No\nZW1hKSB7CiAgICAgICAgICAgICAgICAvLyBkZWxheSB0aGlzIHNvIHRoYXQg\nd2UgZG9uJ3QgZG8gc2NoZW1hIHJlZmxlY3Rpb24gZm9yIHVuaXF1ZQogICAg\nICAgICAgICAgICAgLy8gdGFibGUgbmFtZSB1bmxlc3MgbmVjZXNzYXJ5CiAg\nICAgICAgICAgICAgICByZXR1cm4gY2xzLmdldE1hcHBpbmdSZXBvc2l0b3J5\nKCkuZ2V0TWFwcGluZ0RlZmF1bHRzKCkuCiAgICAgICAgICAgICAgICAgICAg\nZ2V0VGFibGVOYW1lKGNscywgc2NoZW1hKTsKICAgICAgICAgICAgfQogICAg\nICAgIH0sIF9zY2hlbWFOYW1lLCB0YWJsZU5hbWUsIGFkYXB0KTsKICAgICAg\nICB0LnNldENvbW1lbnQoY2xzLmdldFR5cGVBbGlhcygpID09IG51bGwKICAg\nICAgICAgICAgPyBjbHMuZ2V0RGVzY3JpYmVkVHlwZSgpLmdldE5hbWUoKQog\nICAgICAgICAgICA6IGNscy5nZXRUeXBlQWxpYXMoKSk7CiAgICAgICAgcmV0\ndXJuIHQ7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBw\ncmltYXJ5IHRhYmxlIGZvciB0aGUgZ2l2ZW4gY2xhc3MuCiAgICAgKi8KICAg\nIHB1YmxpYyBUYWJsZSBnZXRUYWJsZShmaW5hbCBDbGFzc01hcHBpbmcgY2xz\nLCBib29sZWFuIGFkYXB0KSB7CiAgICAJcmV0dXJuIGdldFRhYmxlKGNscywg\nX3RhYmxlTmFtZSwgYWRhcHQpOwogICAgfQogICAgCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgZGF0YXN0b3JlIGlkZW50aXR5IGNvbHVtbnMgZm9yIHRo\nZSBnaXZlbiBjbGFzcywgYmFzZWQgb24gdGhlCiAgICAgKiBnaXZlbiB0ZW1w\nbGF0ZXMuCiAgICAgKi8KICAgIHB1YmxpYyBDb2x1bW5bXSBnZXREYXRhU3Rv\ncmVJZENvbHVtbnMoQ2xhc3NNYXBwaW5nIGNscywgQ29sdW1uW10gdG1wbGF0\nZXMsCiAgICAgICAgVGFibGUgdGFibGUsIGJvb2xlYW4gYWRhcHQpIHsKICAg\nICAgICBjbHMuZ2V0TWFwcGluZ1JlcG9zaXRvcnkoKS5nZXRNYXBwaW5nRGVm\nYXVsdHMoKS4KICAgICAgICAgICAgcG9wdWxhdGVEYXRhU3RvcmVJZENvbHVt\nbnMoY2xzLCB0YWJsZSwgdG1wbGF0ZXMpOwogICAgICAgIHJldHVybiBjcmVh\ndGVDb2x1bW5zKGNscywgImRhdGFzdG9yZWlkIiwgdG1wbGF0ZXMsIHRhYmxl\nLCBhZGFwdCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGpv\naW4gZnJvbSB0aGlzIGNsYXNzIHRvIGl0cyBzdXBlcmNsYXNzLiBUaGUgdGFi\nbGUgZm9yCiAgICAgKiB0aGlzIGNsYXNzIG11c3QgYmUgc2V0LgogICAgICov\nCiAgICBwdWJsaWMgRm9yZWlnbktleSBnZXRTdXBlcmNsYXNzSm9pbihmaW5h\nbCBDbGFzc01hcHBpbmcgY2xzLCBUYWJsZSB0YWJsZSwKICAgICAgICBib29s\nZWFuIGFkYXB0KSB7CiAgICAgICAgQ2xhc3NNYXBwaW5nIHN1cCA9IGNscy5n\nZXRKb2luYWJsZVBDU3VwZXJjbGFzc01hcHBpbmcoKTsKICAgICAgICBpZiAo\nc3VwID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwoKICAgICAg\nICBGb3JlaWduS2V5RGVmYXVsdHMgZGVmID0gbmV3IEZvcmVpZ25LZXlEZWZh\ndWx0cygpIHsKICAgICAgICAgICAgcHVibGljIEZvcmVpZ25LZXkgZ2V0KFRh\nYmxlIGxvY2FsLCBUYWJsZSBmb3JlaWduLCBib29sZWFuIGludmVyc2UpIHsK\nICAgICAgICAgICAgICAgIHJldHVybiBjbHMuZ2V0TWFwcGluZ1JlcG9zaXRv\ncnkoKS5nZXRNYXBwaW5nRGVmYXVsdHMoKS4KICAgICAgICAgICAgICAgICAg\nICBnZXRKb2luRm9yZWlnbktleShjbHMsIGxvY2FsLCBmb3JlaWduKTsKICAg\nICAgICAgICAgfQoKICAgICAgICAgICAgcHVibGljIHZvaWQgcG9wdWxhdGUo\nVGFibGUgbG9jYWwsIFRhYmxlIGZvcmVpZ24sIENvbHVtbiBjb2wsCiAgICAg\nICAgICAgICAgICBPYmplY3QgdGFyZ2V0LCBib29sZWFuIGludmVyc2UsIGlu\ndCBwb3MsIGludCBjb2xzKSB7CiAgICAgICAgICAgICAgICBjbHMuZ2V0TWFw\ncGluZ1JlcG9zaXRvcnkoKS5nZXRNYXBwaW5nRGVmYXVsdHMoKS4KICAgICAg\nICAgICAgICAgICAgICBwb3B1bGF0ZUpvaW5Db2x1bW4oY2xzLCBsb2NhbCwg\nZm9yZWlnbiwgY29sLCB0YXJnZXQsCiAgICAgICAgICAgICAgICAgICAgICAg\nIHBvcywgY29scyk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAg\nIHJldHVybiBjcmVhdGVGb3JlaWduS2V5KGNscywgInN1cGVyY2xhc3MiLCBn\nZXRDb2x1bW5zKCksIGRlZiwgdGFibGUsCiAgICAgICAgICAgIGNscywgc3Vw\nLCBmYWxzZSwgYWRhcHQpOwogICAgfQoKICAgIC8qKgogICAgICogU3luY2hy\nb25pemUgaW50ZXJuYWwgaW5mb3JtYXRpb24gd2l0aCB0aGUgbWFwcGluZyBk\nYXRhIGZvciB0aGUgZ2l2ZW4KICAgICAqIGNsYXNzLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzeW5jV2l0aChDbGFzc01hcHBpbmcgY2xzKSB7CiAgICAg\nICAgY2xlYXIoZmFsc2UpOwoKICAgICAgICBDbGFzc01hcHBpbmcgc3VwID0g\nY2xzLmdldE1hcHBlZFBDU3VwZXJjbGFzc01hcHBpbmcoKTsKICAgICAgICBp\nZiAoY2xzLmdldFRhYmxlKCkgIT0gbnVsbCAmJiAoc3VwID09IG51bGwKICAg\nICAgICAgICAgfHwgc3VwLmdldFRhYmxlKCkgIT0gY2xzLmdldFRhYmxlKCkp\nKQogICAgICAgICAgICBfdGFibGVOYW1lID0gY2xzLmdldE1hcHBpbmdSZXBv\nc2l0b3J5KCkuZ2V0REJEaWN0aW9uYXJ5KCkuCiAgICAgICAgICAgICAgICBn\nZXRGdWxsTmFtZShjbHMuZ2V0VGFibGUoKSwgdHJ1ZSk7CgogICAgICAgIC8v\nIHNldCBpbyBiZWZvcmUgc3luY2luZyBjb2xzCiAgICAgICAgc2V0Q29sdW1u\nSU8oY2xzLmdldENvbHVtbklPKCkpOwogICAgICAgIGlmIChjbHMuZ2V0Sm9p\nbkZvcmVpZ25LZXkoKSAhPSBudWxsICYmIHN1cCAhPSBudWxsCiAgICAgICAg\nICAgICYmIHN1cC5nZXRUYWJsZSgpICE9IG51bGwpCiAgICAgICAgICAgIHN5\nbmNGb3JlaWduS2V5KGNscywgY2xzLmdldEpvaW5Gb3JlaWduS2V5KCksIGNs\ncy5nZXRUYWJsZSgpLAogICAgICAgICAgICAgICAgc3VwLmdldFRhYmxlKCkp\nOwogICAgICAgIGVsc2UgaWYgKGNscy5nZXRJZGVudGl0eVR5cGUoKSA9PSBD\nbGFzc01hcHBpbmcuSURfREFUQVNUT1JFKQogICAgICAgICAgICBzeW5jQ29s\ndW1ucyhjbHMsIGNscy5nZXRQcmltYXJ5S2V5Q29sdW1ucygpLCBmYWxzZSk7\nCgogICAgICAgIC8vIHJlY29yZCBpbmhlcml0YW5jZSBzdHJhdGVneSBpZiBj\nbGFzcyBkb2VzIG5vdCB1c2UgZGVmYXVsdCBzdHJhdGVneQogICAgICAgIC8v\nIGZvciBiYXNlIGNsYXNzZXMsIGFuZCBmb3IgYWxsIHN1YmNsYXNzZXMgc28g\nd2UgY2FuIGJlIHN1cmUgc3Vic2VxdWVudAogICAgICAgIC8vIG1hcHBpbmcg\ncnVucyBkb24ndCB0aGluayBzdWJjbGFzcyBpcyB1bm1hcHBlZAogICAgICAg\nIFN0cmluZyBzdHJhdCA9IChjbHMuZ2V0U3RyYXRlZ3koKSA9PSBudWxsKSA/\nIG51bGwKICAgICAgICAgICAgOiBjbHMuZ2V0U3RyYXRlZ3koKS5nZXRBbGlh\ncygpOwogICAgICAgIGlmIChzdHJhdCAhPSBudWxsICYmIChjbHMuZ2V0UENT\ndXBlcmNsYXNzKCkgIT0gbnVsbAogICAgICAgICAgICB8fCAhRnVsbENsYXNz\nU3RyYXRlZ3kuQUxJQVMuZXF1YWxzKHN0cmF0KSkpCiAgICAgICAgICAgIHNl\ndFN0cmF0ZWd5KHN0cmF0KTsgICAgICAgIAogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGhhc1NjaGVtYUNvbXBvbmVudHMoKSB7CiAgICAgICAgcmV0dXJu\nIHN1cGVyLmhhc1NjaGVtYUNvbXBvbmVudHMoKSB8fCBfdGFibGVOYW1lICE9\nIG51bGw7CiAgICB9CgogICAgcHJvdGVjdGVkIHZvaWQgY2xlYXIoYm9vbGVh\nbiBjYW5GbGFncykgewogICAgICAgIHN1cGVyLmNsZWFyKGNhbkZsYWdzKTsK\nICAgICAgICBfdGFibGVOYW1lID0gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBjb3B5KE1hcHBpbmdJbmZvIGluZm8pIHsKICAgICAgICBzdXBlci5j\nb3B5KGluZm8pOwogICAgICAgIGlmICghKGluZm8gaW5zdGFuY2VvZiBDbGFz\nc01hcHBpbmdJbmZvKSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBD\nbGFzc01hcHBpbmdJbmZvIGNpbmZvID0gKENsYXNzTWFwcGluZ0luZm8pIGlu\nZm87CiAgICAgICAgaWYgKF90YWJsZU5hbWUgPT0gbnVsbCkKICAgICAgICAg\nICAgX3RhYmxlTmFtZSA9IGNpbmZvLmdldFRhYmxlTmFtZSgpOwogICAgICAg\nIGlmIChfc3ViU3RyYXQgPT0gbnVsbCkKICAgICAgICAgICAgX3N1YlN0cmF0\nID0gY2luZm8uZ2V0SGllcmFyY2h5U3RyYXRlZ3koKTsKICAgICAgICBpZiAo\nY2luZm8uX3NlY29uZHMgIT0gbnVsbCkgewogICAgICAgICAgICBpZiAoX3Nl\nY29uZHMgPT0gbnVsbCkKICAgICAgICAgICAgICAgIF9zZWNvbmRzID0gbmV3\nIEhhc2hNYXAoKTsKICAgICAgICAgICAgT2JqZWN0IGtleTsKICAgICAgICAg\nICAgZm9yIChJdGVyYXRvciBpdHIgPSBjaW5mby5fc2Vjb25kcy5rZXlTZXQo\nKS5pdGVyYXRvcigpOwogICAgICAgICAgICAgICAgaXRyLmhhc05leHQoKTsp\nIHsKICAgICAgICAgICAgICAgIGtleSA9IGl0ci5uZXh0KCk7CiAgICAgICAg\nICAgICAgICBpZiAoIV9zZWNvbmRzLmNvbnRhaW5zS2V5KGtleSkpCiAgICAg\nICAgICAgICAgICAgICAgX3NlY29uZHMucHV0KGtleSwgY2luZm8uX3NlY29u\nZHMuZ2V0KGtleSkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAg\nIGlmIChjaW5mby5fdW5pcXVlcyAhPSBudWxsKSB7CiAgICAgICAgCWlmIChf\ndW5pcXVlcyA9PSBudWxsKQogICAgICAgIAkJX3VuaXF1ZXMgPSBuZXcgSGFz\naE1hcDxTdHJpbmcsIExpc3Q8VW5pcXVlPj4oKTsKICAgICAgICAJZm9yIChF\nbnRyeTxTdHJpbmcsIExpc3Q8VW5pcXVlPj4gZW50cnkgOiBjaW5mby5fdW5p\ncXVlcy5lbnRyeVNldCgpKQogICAgICAgIAkJaWYgKCFfdW5pcXVlcy5jb250\nYWluc0tleShlbnRyeS5nZXRLZXkoKSkpCiAgICAgICAgCQkJX3VuaXF1ZXMu\ncHV0KGVudHJ5LmdldEtleSgpLCBlbnRyeS5nZXRWYWx1ZSgpKTsKICAgICAg\nICB9CgogICAgfQogICAgCiAgICAvKioKICAgICAqIEFkZCBhIHVuaXF1ZSBj\nb25zdHJhaW50IGZvciB0aGUgZ2l2ZW4gdGFibGUuCiAgICAgKiBAcGFyYW0g\ndGFibGUgbXVzdCBiZSBwcmltYXJ5IHRhYmxlIG9yIHNlY29uZGFyeSB0YWJs\nZSBuYW1lIGFkZGVkIGEgCiAgICAgKiBwcmlvcmkgdG8gdGhpcyByZWNlaXZl\nci4KICAgICAqIEBwYXJhbSB1bmlxdWUgdGhlIHVuaXF1ZSBjb25zdHJhaW50\nLiBudWxsIG1lYW5zIG5vLW9wLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBh\nZGRVbmlxdWUoU3RyaW5nIHRhYmxlLCBVbmlxdWUgdW5pcXVlKSB7CiAgICAJ\naWYgKCFTdHJpbmdVdGlscy5lcXVhbHMoX3RhYmxlTmFtZSwgdGFibGUpICYm\nCiAgICAJICAgKF9zZWNvbmRzID09IG51bGwgfHwgIV9zZWNvbmRzLmNvbnRh\naW5zS2V5KHRhYmxlKSkpIHsKICAgIAkgICAJCXRocm93IG5ldyBVc2VyRXhj\nZXB0aW9uKF9sb2MuZ2V0KCJ1bmlxdWUtbm8tdGFibGUiLCAKICAgIAkgICAJ\nCQluZXcgT2JqZWN0W117dGFibGUsIF9jbGFzc05hbWUsIF90YWJsZU5hbWUs\nIAogICAgCSAgIAkJCQkoKF9zZWNvbmRzID09IG51bGwpID8gIiIgOiBfc2Vj\nb25kcy5rZXlTZXQoKSl9KSk7CiAgICAJfQogICAgCWlmICh1bmlxdWUgPT0g\nbnVsbCkKICAgIAkJcmV0dXJuOwogICAgICAgIGlmIChfdW5pcXVlcyA9PSBu\ndWxsKQogICAgICAgICAgICBfdW5pcXVlcyA9IG5ldyBIYXNoTWFwPFN0cmlu\nZyxMaXN0PFVuaXF1ZT4+KCk7CiAgICAgICAgdW5pcXVlLnNldFRhYmxlTmFt\nZSh0YWJsZSk7CiAgICAgICAgTGlzdDxVbmlxdWU+IHVuaXF1ZXMgPSBfdW5p\ncXVlcy5nZXQodGFibGUpOwogICAgICAgIGlmICh1bmlxdWVzID09IG51bGwp\nIHsKICAgICAgICAJdW5pcXVlcyA9IG5ldyBBcnJheUxpc3Q8VW5pcXVlPigp\nOwogICAgICAgIAl1bmlxdWVzLmFkZCh1bmlxdWUpOwogICAgICAgIAlfdW5p\ncXVlcy5wdXQodGFibGUsIHVuaXF1ZXMpOwogICAgICAgIH0gZWxzZSB7CiAg\nICAgICAgCXVuaXF1ZXMuYWRkKHVuaXF1ZSk7CiAgICAgICAgfQogICAgfQog\nICAgCiAgICAvKioKICAgICAqIEdldCB0aGUgdW5pcXVlIGNvbnN0cmFpbnRz\nIG9mIHRoZSBnaXZlbiBwcmltYXJ5IG9yIHNlY29uZGFyeSB0YWJsZS4KICAg\nICAqLwogICAgcHVibGljIFVuaXF1ZVtdIGdldFVuaXF1ZXMoU3RyaW5nIHRh\nYmxlKSB7CiAgICAgICAgaWYgKF91bmlxdWVzID09IG51bGwgfHwgX3VuaXF1\nZXMuaXNFbXB0eSgpIAogICAgICAgIHx8IF91bmlxdWVzLmNvbnRhaW5zS2V5\nKHRhYmxlKSkKICAgICAgICAgICAgcmV0dXJuIG5ldyBVbmlxdWVbMF07CiAg\nICAgICAgTGlzdDxVbmlxdWU+IHVuaXF1ZXMgPSBfdW5pcXVlcy5nZXQodGFi\nbGUpOwogICAgICAgIHJldHVybiB1bmlxdWVzLnRvQXJyYXkobmV3IFVuaXF1\nZVt1bmlxdWVzLnNpemUoKV0pOwogICAgfQogICAgCiAgICAvKioKICAgICAq\nIEdldCBhbGwgdGhlIHVuaXF1ZSBjb25zdHJhaW50cyBhc3NvY2lhdGVkIHdp\ndGggYm90aCB0aGUgcHJpbWFyeSBhbmQvb3IgCiAgICAgKiBzZWNvbmRhcnkg\ndGFibGVzLgogICAgICogCiAgICAgKi8KICAgIHB1YmxpYyBVbmlxdWVbXSBn\nZXRVbmlxdWVzKE1ldGFEYXRhQ29udGV4dCBjbSwgYm9vbGVhbiBhZGFwdCkg\newogICAgICAgIGlmIChfdW5pcXVlcyA9PSBudWxsIHx8IF91bmlxdWVzLmlz\nRW1wdHkoKSkKICAgICAgICAgICAgcmV0dXJuIG5ldyBVbmlxdWVbMF07CiAg\nICAgICAgTGlzdDxVbmlxdWU+IHJlc3VsdCA9IG5ldyBBcnJheUxpc3Q8VW5p\ncXVlPigpOwogICAgICAgIGZvciAoU3RyaW5nIHRhYmxlTmFtZSA6IF91bmlx\ndWVzLmtleVNldCgpKSB7CiAgICAgICAgCUxpc3Q8VW5pcXVlPiB1bmlxdWVD\nb25zdHJhaW50cyA9IF91bmlxdWVzLmdldCh0YWJsZU5hbWUpOwogICAgICAg\nIAlmb3IgKFVuaXF1ZSB0ZW1wbGF0ZSA6IHVuaXF1ZUNvbnN0cmFpbnRzKSB7\nCiAgICAgICAgCQlDb2x1bW5bXSB0ZW1wbGF0ZUNvbHVtbnMgPSB0ZW1wbGF0\nZS5nZXRDb2x1bW5zKCk7CiAgICAgICAgCQlDb2x1bW5bXSB1bmlxdWVDb2x1\nbW5zID0gbmV3IENvbHVtblt0ZW1wbGF0ZUNvbHVtbnMubGVuZ3RoXTsKICAg\nICAgICAJCVRhYmxlIHRhYmxlID0gZ2V0VGFibGUoKENsYXNzTWFwcGluZylj\nbSwgdGFibGVOYW1lLCBhZGFwdCk7CiAgICAgICAgCQlmb3IgKGludCBpPTA7\nIGk8dW5pcXVlQ29sdW1ucy5sZW5ndGg7IGkrKykgewogICAgICAgIAkJCVN0\ncmluZyBjb2x1bW5OYW1lID0gdGVtcGxhdGVDb2x1bW5zW2ldLmdldE5hbWUo\nKTsKICAgICAgICAJCQlpZiAoIXRhYmxlLmNvbnRhaW5zQ29sdW1uKGNvbHVt\nbk5hbWUpKSB7CiAgICAgICAgCQkJCXRocm93IG5ldyBVc2VyRXhjZXB0aW9u\nKF9sb2MuZ2V0KCJ1bmlxdWUtbWlzc2luZy1jb2x1bW4iLCAKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgbmV3IE9iamVjdFtde2NtLCBjb2x1bW5OYW1l\nLCB0YWJsZU5hbWUsIAogICAgICAgIAkJCQkJCUFycmF5cy50b1N0cmluZyh0\nYWJsZS5nZXRDb2x1bW5OYW1lcygpKX0pKTsKICAgICAgICAJCQl9CiAgICAg\nICAgCQkJQ29sdW1uIHVuaXF1ZUNvbHVtbiA9IHRhYmxlLmdldENvbHVtbihj\nb2x1bW5OYW1lKTsKICAgICAgICAJCQl1bmlxdWVDb2x1bW5zW2ldID0gdW5p\ncXVlQ29sdW1uOwogICAgICAgIAkJfQogICAgICAgIAkJVW5pcXVlIHVuaXF1\nZSA9IGNyZWF0ZVVuaXF1ZShjbSwgInVuaXF1ZSIsIHRlbXBsYXRlLCAgCiAg\nICAgICAgCQkJCXVuaXF1ZUNvbHVtbnMsIGFkYXB0KTsKICAgICAgICAJCWlm\nICh1bmlxdWUgIT0gbnVsbCkKICAgICAgICAJCQlyZXN1bHQuYWRkKHVuaXF1\nZSk7CiAgICAgICAgCX0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3Vs\ndC50b0FycmF5KG5ldyBVbmlxdWVbcmVzdWx0LnNpemUoKV0pOwogICAgfSAg\nIAogICAgCiAgICBwdWJsaWMgRmlsZSBnZXRTb3VyY2VGaWxlKCkgewogICAg\nICAgIHJldHVybiBfZmlsZTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdl\ndFNvdXJjZVNjb3BlKCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoK\nICAgIHB1YmxpYyBpbnQgZ2V0U291cmNlVHlwZSgpIHsKICAgICAgICByZXR1\ncm4gX3NyY1R5cGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U291cmNl\nKEZpbGUgZmlsZSwgaW50IHNyY1R5cGUpIHsKICAgICAgICBfZmlsZSA9IGZp\nbGU7CiAgICAgICAgX3NyY1R5cGUgPSBzcmNUeXBlOwogICAgfQoKICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0UmVzb3VyY2VOYW1lKCkgewogICAgICAgIHJldHVy\nbiBfY2xhc3NOYW1lOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmdbXSBnZXRD\nb21tZW50cygpIHsKICAgICAgICByZXR1cm4gKF9jb21tZW50cyA9PSBudWxs\nKSA/IEVNUFRZX0NPTU1FTlRTIDogX2NvbW1lbnRzOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldENvbW1lbnRzKFN0cmluZ1tdIGNvbW1lbnRzKSB7CiAg\nICAgICAgX2NvbW1lbnRzID0gY29tbWVudHM7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyBpbnQgZ2V0TGluZU51bWJlcigpIHsKICAgICAgICByZXR1cm4gX2xp\nbmVOdW07CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TGluZU51bWJlcihp\nbnQgbGluZU51bSkgewogICAgICAgIF9saW5lTnVtID0gbGluZU51bTsKICAg\nIH0KCiAgICBwdWJsaWMgaW50IGdldENvbE51bWJlcigpIHsKICAgICAgICBy\nZXR1cm4gX2NvbE51bTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb2xO\ndW1iZXIoaW50IGNvbE51bSkgewogICAgICAgIF9jb2xOdW0gPSBjb2xOdW07\nCiAgICB9CiAgICAKfQo=\n","encoding":"base64"}

