{"sha":"43f9087c1d8641bc5e4bb8941a58f0651ca6b1b3","node_id":"MDQ6QmxvYjIwNjM2NDo0M2Y5MDg3YzFkODY0MWJjNWU0YmI4OTQxYTU4ZjA2NTFjYTZiMWIz","size":5884,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/43f9087c1d8641bc5e4bb8941a58f0651ca6b1b3","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhOwoKaW1wb3J0\nIGphdmEubWF0aC5CaWdEZWNpbWFsOwppbXBvcnQgamF2YS5tYXRoLkJpZ0lu\ndGVnZXI7CmltcG9ydCBqYXZhLnNxbC5UaW1lOwppbXBvcnQgamF2YS5zcWwu\nVGltZXN0YW1wOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkph\ndmFUeXBlczsKaW1wb3J0IHNlcnAudXRpbC5OdW1iZXJzOwoKLyoqCiAqIEph\ndmEgU1FMIHR5cGUgY29uc3RhbnRzLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0\nZQogKi8KcHVibGljIGNsYXNzIEphdmFTUUxUeXBlcwogICAgZXh0ZW5kcyBK\nYXZhVHlwZXMgewoKICAgIC8vIGNvbnN0YW50cyBmb3IgdGhlIHNxbCB0eXBl\ncyB0aGF0IGFyZW4ndCBkaXJlY3RseSBzdXBwb3J0ZWQgYnkKICAgIC8vIE9w\nZW5KUEE7IG1ha2Ugc3VyZSB0aGVzZSBkb24ndCBjb25mbGljdCB3aXRoIG91\nciBzdGFuZGFyZCBtZXRhZGF0YSB0eXBlcwogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBpbnQgU1FMX0FSUkFZID0gMTAwMDsKICAgIHB1YmxpYyBzdGF0aWMg\nZmluYWwgaW50IEFTQ0lJX1NUUkVBTSA9IDEwMDE7CiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIGludCBCSU5BUllfU1RSRUFNID0gMTAwMjsKICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgaW50IEJMT0IgPSAxMDAzOwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBpbnQgQllURVMgPSAxMDA0OwogICAgcHVibGljIHN0YXRp\nYyBmaW5hbCBpbnQgQ0hBUl9TVFJFQU0gPSAxMDA1OwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBpbnQgQ0xPQiA9IDEwMDY7CiAgICBwdWJsaWMgc3RhdGlj\nIGZpbmFsIGludCBTUUxfREFURSA9IDEwMDc7CiAgICBwdWJsaWMgc3RhdGlj\nIGZpbmFsIGludCBTUUxfT0JKRUNUID0gMTAwODsKICAgIHB1YmxpYyBzdGF0\naWMgZmluYWwgaW50IFJFRiA9IDEwMDk7CiAgICBwdWJsaWMgc3RhdGljIGZp\nbmFsIGludCBUSU1FID0gMTAxMDsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwg\naW50IFRJTUVTVEFNUCA9IDEwMTE7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIGludCBKREJDX0RFRkFVTFQgPSAxMDEyOwoKICAgIHByaXZhdGUgc3RhdGlj\nIGZpbmFsIEJ5dGUgWkVST19CWVRFID0gbmV3IEJ5dGUoKGJ5dGUpIDApOwog\nICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQ2hhcmFjdGVyIFpFUk9fQ0hBUiA9\nIG5ldyBDaGFyYWN0ZXIoKGNoYXIpIDApOwogICAgcHJpdmF0ZSBzdGF0aWMg\nZmluYWwgRG91YmxlIFpFUk9fRE9VQkxFID0gbmV3IERvdWJsZSgwZCk7CiAg\nICBwcml2YXRlIHN0YXRpYyBmaW5hbCBGbG9hdCBaRVJPX0ZMT0FUID0gbmV3\nIEZsb2F0KDBmKTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFNob3J0IFpF\nUk9fU0hPUlQgPSBuZXcgU2hvcnQoKHNob3J0KSAwKTsKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIEJpZ0RlY2ltYWwgWkVST19CSUdERUNJTUFMID0gbmV3\nIEJpZ0RlY2ltYWwoMGQpOwoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIEJ5\ndGUgTk9OWkVST19CWVRFID0gbmV3IEJ5dGUoKGJ5dGUpIDEpOwogICAgcHJp\ndmF0ZSBzdGF0aWMgZmluYWwgQ2hhcmFjdGVyIE5PTlpFUk9fQ0hBUiA9IG5l\ndyBDaGFyYWN0ZXIoKGNoYXIpICdhJyk7CiAgICBwcml2YXRlIHN0YXRpYyBm\naW5hbCBEb3VibGUgTk9OWkVST19ET1VCTEUgPSBuZXcgRG91YmxlKDFkKTsK\nICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIEZsb2F0IE5PTlpFUk9fRkxPQVQg\nPSBuZXcgRmxvYXQoMWYpOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2hv\ncnQgTk9OWkVST19TSE9SVCA9IG5ldyBTaG9ydCgoc2hvcnQpIDEpOwogICAg\ncHJpdmF0ZSBzdGF0aWMgZmluYWwgQmlnSW50ZWdlciBOT05aRVJPX0JJR0lO\nVEVHRVIgPSBuZXcgQmlnSW50ZWdlcigiMSIpOwogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgQmlnRGVjaW1hbCBOT05aRVJPX0JJR0RFQ0lNQUwgPSBuZXcg\nQmlnRGVjaW1hbCgxZCk7CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHBy\nb3BlciBkYXRlIHR5cGVjb2RlLgogICAgICovCiAgICBwdWJsaWMgc3RhdGlj\nIGludCBnZXREYXRlVHlwZUNvZGUoQ2xhc3MgZHR5cGUpIHsKICAgICAgICBp\nZiAoZHR5cGUgPT0gamF2YS51dGlsLkRhdGUuY2xhc3MpCiAgICAgICAgICAg\nIHJldHVybiBEQVRFOwogICAgICAgIGlmIChkdHlwZSA9PSBqYXZhLnNxbC5E\nYXRlLmNsYXNzKQogICAgICAgICAgICByZXR1cm4gU1FMX0RBVEU7CiAgICAg\nICAgaWYgKGR0eXBlID09IFRpbWVzdGFtcC5jbGFzcykKICAgICAgICAgICAg\ncmV0dXJuIFRJTUVTVEFNUDsKICAgICAgICBpZiAoZHR5cGUgPT0gVGltZS5j\nbGFzcykKICAgICAgICAgICAgcmV0dXJuIFRJTUU7CiAgICAgICAgcmV0dXJu\nIE9CSkVDVDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhbiBlbXB0\neSB2YWx1ZSBvYmplY3QgZm9yIHRoZSBnaXZlbiB0eXBlIGNvZGUuCiAgICAg\nKi8KICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0IGdldEVtcHR5VmFsdWUoaW50\nIHR5cGUpIHsKICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuU1RSSU5HOgogICAgICAgICAgICAgICAgcmV0dXJu\nICIiOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFOOgogICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFOX09CSjoKICAgICAgICAg\nICAgICAgIHJldHVybiBCb29sZWFuLkZBTFNFOwogICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5CWVRFOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5C\nWVRFX09CSjoKICAgICAgICAgICAgICAgIHJldHVybiBaRVJPX0JZVEU7CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkNIQVI6CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkNIQVJfT0JKOgogICAgICAgICAgICAgICAgcmV0dXJu\nIFpFUk9fQ0hBUjsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRE9VQkxF\nOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5ET1VCTEVfT0JKOgogICAg\nICAgICAgICAgICAgcmV0dXJuIFpFUk9fRE9VQkxFOwogICAgICAgICAgICBj\nYXNlIEphdmFUeXBlcy5GTE9BVDoKICAgICAgICAgICAgY2FzZSBKYXZhVHlw\nZXMuRkxPQVRfT0JKOgogICAgICAgICAgICAgICAgcmV0dXJuIFpFUk9fRkxP\nQVQ7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklOVDoKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuSU5UX09CSjoKICAgICAgICAgICAgICAgIHJl\ndHVybiBOdW1iZXJzLnZhbHVlT2YoMCk7CiAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLkxPTkc6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxPTkdf\nT0JKOgogICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcnMudmFsdWVPZigw\nTCk7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5TSE9SVF9PQko6CiAgICAgICAgICAgICAg\nICByZXR1cm4gWkVST19TSE9SVDsKICAgICAgICAgICAgY2FzZSBKYXZhVHlw\nZXMuQklHSU5URUdFUjoKICAgICAgICAgICAgICAgIHJldHVybiBCaWdJbnRl\nZ2VyLlpFUk87CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJJR0RFQ0lN\nQUw6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLk5VTUJFUjoKICAgICAg\nICAgICAgICAgIHJldHVybiBaRVJPX0JJR0RFQ0lNQUw7CiAgICAgICAgICAg\nIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAg\nICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBub24tZW1wdHkg\ndmFsdWUgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gdHlwZSBjb2RlLgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIE9iamVjdCBnZXROb25FbXB0eVZhbHVlKGlu\ndCB0eXBlKSB7CiAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLlNUUklORzoKICAgICAgICAgICAgICAgIHJldHVy\nbiAieCI7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJPT0xFQU46CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJPT0xFQU5fT0JKOgogICAgICAg\nICAgICAgICAgcmV0dXJuIEJvb2xlYW4uVFJVRTsKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuQllURToKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMu\nQllURV9PQko6CiAgICAgICAgICAgICAgICByZXR1cm4gTk9OWkVST19CWVRF\nOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DSEFSOgogICAgICAgICAg\nICBjYXNlIEphdmFUeXBlcy5DSEFSX09CSjoKICAgICAgICAgICAgICAgIHJl\ndHVybiBOT05aRVJPX0NIQVI7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLkRPVUJMRToKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRE9VQkxFX09C\nSjoKICAgICAgICAgICAgICAgIHJldHVybiBOT05aRVJPX0RPVUJMRTsKICAg\nICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkZMT0FUX09CSjoKICAgICAgICAgICAgICAgIHJldHVy\nbiBOT05aRVJPX0ZMT0FUOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5J\nTlQ6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklOVF9PQko6CiAgICAg\nICAgICAgICAgICByZXR1cm4gTnVtYmVycy52YWx1ZU9mKDEpOwogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5MT05HOgogICAgICAgICAgICBjYXNlIEph\ndmFUeXBlcy5MT05HX09CSjoKICAgICAgICAgICAgICAgIHJldHVybiBOdW1i\nZXJzLnZhbHVlT2YoMUwpOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5T\nSE9SVDoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuU0hPUlRfT0JKOgog\nICAgICAgICAgICAgICAgcmV0dXJuIE5PTlpFUk9fU0hPUlQ7CiAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLkJJR0lOVEVHRVI6CiAgICAgICAgICAgICAg\nICByZXR1cm4gTk9OWkVST19CSUdJTlRFR0VSOwogICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5CSUdERUNJTUFMOgogICAgICAgICAgICBjYXNlIEphdmFU\neXBlcy5OVU1CRVI6CiAgICAgICAgICAgICAgICByZXR1cm4gTk9OWkVST19C\nSUdERUNJTUFMOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAg\nICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

