{"sha":"981d4ae060957632b7e4b17704e982f48591dab0","node_id":"MDQ6QmxvYjIwNjM2NDo5ODFkNGFlMDYwOTU3NjMyYjdlNGIxNzcwNGU5ODJmNDg1OTFkYWIw","size":5075,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/981d4ae060957632b7e4b17704e982f48591dab0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhOwoKaW1wb3J0\nIGphdmEuaW8uRmlsZTsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Cmlt\ncG9ydCBqYXZhLnV0aWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7\nCgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mLkpEQkNTZXFW\nYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5D\nbGFzc1RhYmxlSkRCQ1NlcTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLmtlcm5lbC5UYWJsZUpEQkNTZXE7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5rZXJuZWwuVmFsdWVUYWJsZUpEQkNTZXE7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuVW5pcXVlOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLlBsdWdpblZhbHVlOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuU2VxdWVuY2VNZXRhRGF0YTsK\nCi8qKgogKiBTcGVjaWFsaXphdGlvbiBvZiBzZXF1ZW5jZSBtZXRhZGF0YSBm\nb3IgT1JNLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNs\nYXNzIFNlcXVlbmNlTWFwcGluZwogICAgZXh0ZW5kcyBTZXF1ZW5jZU1ldGFE\nYXRhIHsKCiAgICAvKioKICAgICAqIHtAbGluayBWYWx1ZVRhYmxlSkRCQ1Nl\ncX0gYWxpYXMuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3Ry\naW5nIElNUExfVkFMVUVfVEFCTEUgPSAidmFsdWUtdGFibGUiOwoKICAgIC8q\nKgogICAgICoge0BsaW5rIFRhYmxlSkRCQ1NlcX0gYWxpYXMuCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIElNUExfVEFCTEUgPSAi\ndGFibGUiOwoKICAgIC8qKgogICAgICoge0BsaW5rIENsYXNzVGFibGVKREJD\nU2VxfSBhbGlhcy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBT\ndHJpbmcgSU1QTF9DTEFTU19UQUJMRSA9ICJjbGFzcy10YWJsZSI7CgogICAg\nLy8gcGx1Z2luIHByb3BlcnR5IG5hbWVzIGZvciBzdGFuZGFyZCBwcm9wcwog\nICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBST1BfVEFCTEUgPSAi\nVGFibGUiOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBST1Bf\nU0VRVUVOQ0VfQ09MID0gIlNlcXVlbmNlQ29sdW1uIjsKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIFN0cmluZyBQUk9QX1BLX0NPTCA9ICJQcmltYXJ5S2V5\nQ29sdW1uIjsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQUk9Q\nX1BLX1ZBTFVFID0gIlByaW1hcnlLZXlWYWx1ZSI7CiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgUFJPUF9VTklRVUUgPSAiVW5pcXVlQ29sdW1u\ncyI7CgogICAgcHJpdmF0ZSBGaWxlIF9tYXBGaWxlID0gbnVsbDsKICAgIHBy\naXZhdGUgU3RyaW5nIF90YWJsZSA9IG51bGw7CiAgICBwcml2YXRlIFN0cmlu\nZyBfc2VxdWVuY2VDb2x1bW4gPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcg\nX3ByaW1hcnlLZXlDb2x1bW4gPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcg\nX3ByaW1hcnlLZXlWYWx1ZSA9IG51bGw7CiAgICBwcml2YXRlIFN0cmluZ1td\nIF91bmlxdWVDb2x1bW5zICAgPSBudWxsOwogICAgCiAgICBwdWJsaWMgU2Vx\ndWVuY2VNYXBwaW5nKFN0cmluZyBuYW1lLCBNYXBwaW5nUmVwb3NpdG9yeSBy\nZXBvcykgewogICAgICAgIHN1cGVyKG5hbWUsIHJlcG9zKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEFsbG93IHNlcXVlbmNlIHRvIGhhdmUgYSBtYXBwaW5n\nIGZpbGUgc2VwYXJhdGUgZnJvbSBpdHMgbWV0YWRhdGEKICAgICAqIHNvdXJj\nZSBmaWxlLgogICAgICovCiAgICBwdWJsaWMgRmlsZSBnZXRNYXBwaW5nRmls\nZSgpIHsKICAgICAgICByZXR1cm4gX21hcEZpbGU7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBBbGxvdyBzZXF1ZW5jZSB0byBoYXZlIGEgbWFwcGluZyBmaWxl\nIHNlcGFyYXRlIGZyb20gaXRzIG1ldGFkYXRhCiAgICAgKiBzb3VyY2UgZmls\nZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0TWFwcGluZ0ZpbGUoRmls\nZSBmaWxlKSB7CiAgICAgICAgX21hcEZpbGUgPSBmaWxlOwogICAgfQoKICAg\nIC8qKgogICAgICogTmFtZSBvZiBzZXF1ZW5jZSB0YWJsZSwgaWYgYW55Lgog\nICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFRhYmxlKCkgewogICAgICAg\nIHJldHVybiBfdGFibGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBOYW1lIG9m\nIHNlcXVlbmNlIHRhYmxlLCBpZiBhbnkuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldFRhYmxlKFN0cmluZyB0YWJsZSkgewogICAgICAgIF90YWJsZSA9\nIHRhYmxlOwogICAgfQoKICAgIC8qKgogICAgICogTmFtZSBvZiBzZXF1ZW5j\nZSBjb2x1bW4sIGlmIGFueS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBn\nZXRTZXF1ZW5jZUNvbHVtbigpIHsKICAgICAgICByZXR1cm4gX3NlcXVlbmNl\nQ29sdW1uOwogICAgfQoKICAgIC8qKgogICAgICogTmFtZSBvZiBzZXF1ZW5j\nZSBjb2x1bW4sIGlmIGFueS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nU2VxdWVuY2VDb2x1bW4oU3RyaW5nIHNlcXVlbmNlQ29sdW1uKSB7CiAgICAg\nICAgX3NlcXVlbmNlQ29sdW1uID0gc2VxdWVuY2VDb2x1bW47CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBOYW1lIG9mIHByaW1hcnkga2V5IGNvbHVtbiwgaWYg\nYW55LgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFByaW1hcnlLZXlD\nb2x1bW4oKSB7CiAgICAgICAgcmV0dXJuIF9wcmltYXJ5S2V5Q29sdW1uOwog\nICAgfQoKICAgIC8qKgogICAgICogTmFtZSBvZiBwcmltYXJ5IGtleSBjb2x1\nbW4sIGlmIGFueS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0UHJpbWFy\neUtleUNvbHVtbihTdHJpbmcgcHJpbWFyeUtleUNvbHVtbikgewogICAgICAg\nIF9wcmltYXJ5S2V5Q29sdW1uID0gcHJpbWFyeUtleUNvbHVtbjsKICAgIH0K\nCiAgICAvKioKICAgICAqIFByaW1hcnkga2V5IHZhbHVlLCBpZiBub3QgYXV0\nby1kZXRlcm1pbmVkLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFBy\naW1hcnlLZXlWYWx1ZSgpIHsKICAgICAgICByZXR1cm4gX3ByaW1hcnlLZXlW\nYWx1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFByaW1hcnkga2V5IHZhbHVl\nLCBpZiBub3QgYXV0by1kZXRlcm1pbmVkLgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCBzZXRQcmltYXJ5S2V5VmFsdWUoU3RyaW5nIHByaW1hcnlLZXlWYWx1\nZSkgewogICAgICAgIF9wcmltYXJ5S2V5VmFsdWUgPSBwcmltYXJ5S2V5VmFs\ndWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VW5pcXVlQ29sdW1ucyhT\ndHJpbmdbXSBjb2xzKSB7CiAgICAJX3VuaXF1ZUNvbHVtbnMgPSBjb2xzOwog\nICAgfQogICAgCiAgICBwdWJsaWMgU3RyaW5nW10gZ2V0VW5pcXVlQ29sdW1u\ncygpIHsKICAgIAlyZXR1cm4gX3VuaXF1ZUNvbHVtbnM7CiAgICB9CiAgICAK\nICAgIHByb3RlY3RlZCBQbHVnaW5WYWx1ZSBuZXdQbHVnaW5WYWx1ZShTdHJp\nbmcgcHJvcGVydHkpIHsKICAgICAgICByZXR1cm4gbmV3IEpEQkNTZXFWYWx1\nZShwcm9wZXJ0eSk7CiAgICB9CgogICAgcHJvdGVjdGVkIHZvaWQgYWRkU3Rh\nbmRhcmRQcm9wZXJ0aWVzKFN0cmluZ0J1ZmZlciBwcm9wcykgewogICAgICAg\nIHN1cGVyLmFkZFN0YW5kYXJkUHJvcGVydGllcyhwcm9wcyk7CiAgICAgICAg\nYXBwZW5kUHJvcGVydHkocHJvcHMsIFBST1BfVEFCTEUsIF90YWJsZSk7CiAg\nICAgICAgYXBwZW5kUHJvcGVydHkocHJvcHMsIFBST1BfU0VRVUVOQ0VfQ09M\nLCBfc2VxdWVuY2VDb2x1bW4pOwogICAgICAgIGFwcGVuZFByb3BlcnR5KHBy\nb3BzLCBQUk9QX1BLX0NPTCwgX3ByaW1hcnlLZXlDb2x1bW4pOwogICAgICAg\nIGFwcGVuZFByb3BlcnR5KHByb3BzLCBQUk9QX1BLX1ZBTFVFLCBfcHJpbWFy\neUtleVZhbHVlKTsKICAgICAgICAvLyBBcnJheSBvZiB1bmlxdWUgY29sdW1u\nIG5hbWVzIGFyZSBwYXNzZWQgdG8gY29uZmlndXJhdGlvbgogICAgICAgIC8v\nIGFzIGEgc2luZ2xlIHN0cmluZyAieHx5fHoiLiBUaGUgY29uZmlndXJhYmxl\nIChUYWJsZUpEQkNTZXEpIG11c3QKICAgICAgICAvLyBwYXJzZSBpdCBiYWNr\nLgogICAgICAgIGlmIChfdW5pcXVlQ29sdW1ucyAhPSBudWxsICYmIF91bmlx\ndWVDb2x1bW5zLmxlbmd0aCA+IDApCiAgICAgICAgCWFwcGVuZFByb3BlcnR5\nKHByb3BzLCBQUk9QX1VOSVFVRSwgCiAgICAgICAgCQkJU3RyaW5nVXRpbHMu\nam9pbihfdW5pcXVlQ29sdW1ucywnfCcpKTsKICAgIH0KfQo=\n","encoding":"base64"}

