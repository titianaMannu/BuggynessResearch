{"sha":"709f07ab1527eedbe3ee7e4aa54d9a7221fbe016","node_id":"MDQ6QmxvYjIwNjM2NDo3MDlmMDdhYjE1MjdlZWRiZTNlZTdlNGFhNTRkOWE3MjIxZmJlMDE2","size":3400,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/709f07ab1527eedbe3ee7e4aa54d9a7221fbe016","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhOwoKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzLk5vbmVWZXJz\naW9uU3RyYXRlZ3k7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5t\nZXRhLnN0cmF0cy5TdXBlcmNsYXNzVmVyc2lvblN0cmF0ZWd5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5JbmRleDsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5TY2hlbWFHcm91cDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5UYWJsZTsK\nCi8qKgogKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgbWFwcGluZyBmcm9tIGEg\ndmVyc2lvbiBpbmRpY2F0b3IgdG8gdGhlIHNjaGVtYSwgaW4KICogcmF3IGZv\ncm0uIFRoZSBjb2x1bW5zIGFuZCB0YWJsZXMgdXNlZCBpbiBtYXBwaW5nIGlu\nZm8gd2lsbCBub3QgYmUgcGFydCBvZgogKiB0aGUge0BsaW5rIFNjaGVtYUdy\nb3VwfSB1c2VkIGF0IHJ1bnRpbWUuIFJhdGhlciwgdGhleSB3aWxsIGJlIHN0\ncnVjdHMKICogd2l0aCB0aGUgcmVsZXZhbnQgcGllY2VzIG9mIGluZm9ybWF0\naW9uIGZpbGxlZCBpbi4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1\nYmxpYyBjbGFzcyBWZXJzaW9uTWFwcGluZ0luZm8KICAgIGV4dGVuZHMgTWFw\ncGluZ0luZm8gewoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBjb2x1bW5z\nIHNldCBmb3IgdGhpcyB2ZXJzaW9uLCBiYXNlZCBvbiB0aGUgZ2l2ZW4gdGVt\ncGxhdGVzLgogICAgICovCiAgICBwdWJsaWMgQ29sdW1uW10gZ2V0Q29sdW1u\ncyhWZXJzaW9uIHZlcnNpb24sIENvbHVtbltdIHRtcGxhdGVzLAogICAgICAg\nIGJvb2xlYW4gYWRhcHQpIHsKICAgICAgICBUYWJsZSB0YWJsZSA9IHZlcnNp\nb24uZ2V0Q2xhc3NNYXBwaW5nKCkuZ2V0VGFibGUoKTsKICAgICAgICB2ZXJz\naW9uLmdldE1hcHBpbmdSZXBvc2l0b3J5KCkuZ2V0TWFwcGluZ0RlZmF1bHRz\nKCkucG9wdWxhdGVDb2x1bW5zCiAgICAgICAgICAgICh2ZXJzaW9uLCB0YWJs\nZSwgdG1wbGF0ZXMpOwogICAgICAgIHJldHVybiBjcmVhdGVDb2x1bW5zKHZl\ncnNpb24sIG51bGwsIHRtcGxhdGVzLCB0YWJsZSwgYWRhcHQpOwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBpbmRleCB0byBzZXQgb24gdGhl\nIHZlcnNpb24gY29sdW1ucywgb3IgbnVsbCBpZiBub25lLgogICAgICovCiAg\nICBwdWJsaWMgSW5kZXggZ2V0SW5kZXgoVmVyc2lvbiB2ZXJzaW9uLCBDb2x1\nbW5bXSBjb2xzLCBib29sZWFuIGFkYXB0KSB7CiAgICAgICAgSW5kZXggaWR4\nID0gbnVsbDsKICAgICAgICBpZiAoY29scy5sZW5ndGggPiAwKQogICAgICAg\nICAgICBpZHggPSB2ZXJzaW9uLmdldE1hcHBpbmdSZXBvc2l0b3J5KCkuZ2V0\nTWFwcGluZ0RlZmF1bHRzKCkuCiAgICAgICAgICAgICAgICBnZXRJbmRleCh2\nZXJzaW9uLCBjb2xzWzBdLmdldFRhYmxlKCksIGNvbHMpOwogICAgICAgIHJl\ndHVybiBjcmVhdGVJbmRleCh2ZXJzaW9uLCBudWxsLCBpZHgsIGNvbHMsIGFk\nYXB0KTsKICAgIH0KCiAgICAvKioKICAgICAqIFN5bmNocm9uaXplIGludGVy\nbmFsIGluZm9ybWF0aW9uIHdpdGggdGhlIG1hcHBpbmcgZGF0YSBmb3IgdGhl\nIGdpdmVuCiAgICAgKiB2ZXJzaW9uLgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzeW5jV2l0aChWZXJzaW9uIHZlcnNpb24pIHsKICAgICAgICBjbGVhcihm\nYWxzZSk7CgogICAgICAgIENsYXNzTWFwcGluZyBjbHMgPSB2ZXJzaW9uLmdl\ndENsYXNzTWFwcGluZygpOwogICAgICAgIENvbHVtbltdIGNvbHMgPSB2ZXJz\naW9uLmdldENvbHVtbnMoKTsKCiAgICAgICAgc2V0Q29sdW1uSU8odmVyc2lv\nbi5nZXRDb2x1bW5JTygpKTsKICAgICAgICBzeW5jQ29sdW1ucyh2ZXJzaW9u\nLCBjb2xzLCBmYWxzZSk7CiAgICAgICAgc3luY0luZGV4KHZlcnNpb24sIHZl\ncnNpb24uZ2V0SW5kZXgoKSk7CgogICAgICAgIGlmICh2ZXJzaW9uLmdldFN0\ncmF0ZWd5KCkgPT0gbnVsbAogICAgICAgICAgICB8fCB2ZXJzaW9uLmdldFN0\ncmF0ZWd5KCkgaW5zdGFuY2VvZiBTdXBlcmNsYXNzVmVyc2lvblN0cmF0ZWd5\nKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIC8vIGV4cGxpY2l0IHZl\ncnNpb24gc3RyYXRlZ3kgaWY6CiAgICAgICAgLy8gLSB1bm1hcHBlZCBjbGFz\ncyBhbmQgdmVyc2lvbiBtYXBwZWQKICAgICAgICAvLyAtIG1hcHBlZCBiYXNl\nIGNsYXNzCiAgICAgICAgLy8gLSBtYXBwZWQgc3ViY2xhc3MgdGhhdCBkb2Vz\nbid0IHJlbHkgb24gc3VwZXJjbGFzcyB2ZXJzaW9uCiAgICAgICAgU3RyaW5n\nIHN0cmF0ID0gdmVyc2lvbi5nZXRTdHJhdGVneSgpLmdldEFsaWFzKCk7CiAg\nICAgICAgaWYgKCghY2xzLmlzTWFwcGVkKCkgJiYgIU5vbmVWZXJzaW9uU3Ry\nYXRlZ3kuQUxJQVMuZXF1YWxzKHN0cmF0KSkKICAgICAgICAgICAgfHwgKGNs\ncy5pc01hcHBlZCgpCiAgICAgICAgICAgICYmIGNscy5nZXRKb2luYWJsZVBD\nU3VwZXJjbGFzc01hcHBpbmcoKSA9PSBudWxsKSkKICAgICAgICAgICAgc2V0\nU3RyYXRlZ3koc3RyYXQpOwogICAgfQp9Cg==\n","encoding":"base64"}

