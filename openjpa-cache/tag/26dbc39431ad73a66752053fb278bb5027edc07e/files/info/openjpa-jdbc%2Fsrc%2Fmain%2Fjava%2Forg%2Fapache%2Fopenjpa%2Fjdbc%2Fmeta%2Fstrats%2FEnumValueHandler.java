{"sha":"4d2cf63d6190ff0ce877b670c3ebb3ad141d04f4","node_id":"MDQ6QmxvYjIwNjM2NDo0ZDJjZjYzZDYxOTBmZjBjZTg3N2I2NzBjM2ViYjNhZDE0MWQwNGY0","size":3267,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4d2cf63d6190ff0ce877b670c3ebb3ad141d04f4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5NZXRob2Q7CgppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLkpEQkNTdG9yZTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuVmFsdWVNYXBwaW5nOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW5J\nTzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkphdmFUeXBlczsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLk1ldGFEYXRhRXhjZXB0\naW9uOwoKLyoqCiAqIFZhbHVlIGhhbmRsZXIgZm9yIEpESzEuNSBlbnVtIGZp\nZWxkIHR5cGVzLgogKgogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3Mg\nRW51bVZhbHVlSGFuZGxlcgogICAgZXh0ZW5kcyBBYnN0cmFjdFZhbHVlSGFu\nZGxlciB7CgogICAgcHJpdmF0ZSBFbnVtW10gX3ZhbHMgPSBudWxsOwogICAg\ncHJpdmF0ZSBib29sZWFuIF9vcmRpbmFsID0gZmFsc2U7CgogICAgLyoqCiAg\nICAgKiBXaGV0aGVyIHRvIHN0b3JlIHRoZSBlbnVtIHZhbHVlIGFzIGl0cyBv\ncmRpbmFsLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRTdG9yZU9y\nZGluYWwoKSB7CiAgICAgICAgcmV0dXJuIF9vcmRpbmFsOwogICAgfQoKICAg\nIC8qKgogICAgICogV2hldGhlciB0byBzdG9yZSB0aGUgZW51bSB2YWx1ZSBh\ncyBpdHMgb3JkaW5hbC4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U3Rv\ncmVPcmRpbmFsKGJvb2xlYW4gb3JkaW5hbCkgewogICAgICAgIF9vcmRpbmFs\nID0gb3JkaW5hbDsKICAgIH0KCiAgICBwdWJsaWMgQ29sdW1uW10gbWFwKFZh\nbHVlTWFwcGluZyB2bSwgU3RyaW5nIG5hbWUsIENvbHVtbklPIGlvLAogICAg\nICAgIGJvb2xlYW4gYWRhcHQpIHsKICAgICAgICAvLyBhbGwgZW51bSBjbGFz\nc2VzIGhhdmUgYSBzdGF0aWMgbWV0aG9kIGNhbGxlZCAndmFsdWVzKCknCiAg\nICAgICAgLy8gdGhhdCByZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgZW51\nbSB2YWx1ZXMKICAgICAgICB0cnkgewogICAgICAgICAgICBNZXRob2QgbSA9\nIHZtLmdldFR5cGUoKS5nZXRNZXRob2QoInZhbHVlcyIsIChDbGFzc1tdKSBu\ndWxsKTsKICAgICAgICAgICAgX3ZhbHMgPSAoRW51bVtdKSBtLmludm9rZShu\ndWxsLCAoT2JqZWN0W10pIG51bGwpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2Vw\ndGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBNZXRhRGF0YUV4Y2Vw\ndGlvbigpLnNldENhdXNlKGUpOwogICAgICAgIH0KCiAgICAgICAgQ29sdW1u\nIGNvbCA9IG5ldyBDb2x1bW4oKTsKICAgICAgICBjb2wuc2V0TmFtZShuYW1l\nKTsKICAgICAgICBpZiAoX29yZGluYWwpCiAgICAgICAgICAgIGNvbC5zZXRK\nYXZhVHlwZShKYXZhVHlwZXMuU0hPUlQpOwogICAgICAgIGVsc2UgewogICAg\nICAgICAgICAvLyBsb29rIGZvciB0aGUgbG9uZ2VzdCBlbnVtIHZhbHVlIG5h\nbWU7IHVzZSAyMCBhcyBtaW4gbGVuZ3RoIHRvCiAgICAgICAgICAgIC8vIGxl\nYXZlIHJvb20gZm9yIGZ1dHVyZSBsb25nIG5hbWVzCiAgICAgICAgICAgIGlu\ndCBsZW4gPSAyMDsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBf\ndmFscy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIGxlbiA9IE1hdGgu\nbWF4KF92YWxzW2ldLm5hbWUoKS5sZW5ndGgoKSwgbGVuKTsKCiAgICAgICAg\nICAgIGNvbC5zZXRKYXZhVHlwZShKYXZhVHlwZXMuU1RSSU5HKTsKICAgICAg\nICAgICAgY29sLnNldFNpemUobGVuKTsKICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIG5ldyBDb2x1bW5bXXsgY29sIH07CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gaXNWZXJzaW9uYWJsZSgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IHRvRGF0YVN0b3JlVmFsdWUoVmFs\ndWVNYXBwaW5nIHZtLCBPYmplY3QgdmFsLAogICAgICAgIEpEQkNTdG9yZSBz\ndG9yZSkgewogICAgICAgIGlmICh2YWwgPT0gbnVsbCkKICAgICAgICAgICAg\ncmV0dXJuIG51bGw7CiAgICAgICAgaWYgKF9vcmRpbmFsKQogICAgICAgICAg\nICByZXR1cm4gbmV3IEludGVnZXIoKChFbnVtKSB2YWwpLm9yZGluYWwoKSk7\nCiAgICAgICAgcmV0dXJuICgoRW51bSkgdmFsKS5uYW1lKCk7CiAgICB9Cgog\nICAgcHVibGljIE9iamVjdCB0b09iamVjdFZhbHVlKFZhbHVlTWFwcGluZyB2\nbSwgT2JqZWN0IHZhbCkgewogICAgICAgIGlmICh2YWwgPT0gbnVsbCkKICAg\nICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgaWYgKF9vcmRpbmFsKQog\nICAgICAgICAgICByZXR1cm4gX3ZhbHNbKChOdW1iZXIpIHZhbCkuaW50VmFs\ndWUoKV07CiAgICAgICAgcmV0dXJuIEVudW0udmFsdWVPZih2bS5nZXRUeXBl\nKCksIChTdHJpbmcpIHZhbCk7CiAgICB9Cn0K\n","encoding":"base64"}

