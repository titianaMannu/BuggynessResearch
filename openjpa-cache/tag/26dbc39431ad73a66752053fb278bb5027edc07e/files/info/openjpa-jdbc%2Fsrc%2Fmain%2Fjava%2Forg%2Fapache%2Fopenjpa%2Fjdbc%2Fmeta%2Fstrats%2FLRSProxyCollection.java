{"sha":"a4af5d31ee9f321bc0a95d420f783d43df99e12b","node_id":"MDQ6QmxvYjIwNjM2NDphNGFmNWQzMWVlOWYzMjFiYzBhOTVkNDIwZjc4M2Q0M2RmOTllMTJi","size":8714,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a4af5d31ee9f321bc0a95d420f783d43df99e12b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9ydCBqYXZhLnV0\naWwuSXRlcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuTm9TdWNoRWxlbWVudEV4\nY2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJu\nZWwuSkRCQ0ZldGNoQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDU3RvcmU7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFwcGluZzsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuRmllbGRNYXBwaW5nOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Kb2luczsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5SZXN1bHQ7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FMQnVmZmVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEV4Y2VwdGlvbnM7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU2VsZWN0OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlVuaW9uOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5PcGVuSlBBU3RhdGVNYW5hZ2Vy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkNsb3NlYWJs\nZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5BYnN0cmFjdExS\nU1Byb3h5Q29sbGVjdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51\ndGlsLkludmFsaWRTdGF0ZUV4Y2VwdGlvbjsKCi8qKgogKiBMYXJnZSByZXN1\nbHQgc2V0IGNvbGxlY3Rpb24uCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAq\nLwpwdWJsaWMgY2xhc3MgTFJTUHJveHlDb2xsZWN0aW9uCiAgICBleHRlbmRz\nIEFic3RyYWN0TFJTUHJveHlDb2xsZWN0aW9uIHsKCiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNr\nYWdlCiAgICAgICAgKExSU1Byb3h5Q29sbGVjdGlvbi5jbGFzcyk7CgogICAg\ncHJpdmF0ZSBmaW5hbCBMUlNDb2xsZWN0aW9uRmllbGRTdHJhdGVneSBfc3Ry\nYXQ7CgogICAgcHVibGljIExSU1Byb3h5Q29sbGVjdGlvbihMUlNDb2xsZWN0\naW9uRmllbGRTdHJhdGVneSBzdHJhdCkgewogICAgICAgIHN1cGVyKHN0cmF0\nLmdldEZpZWxkTWFwcGluZygpLmdldEVsZW1lbnQoKS5nZXREZWNsYXJlZFR5\ncGUoKSwKICAgICAgICAgICAgc3RyYXQuZ2V0RmllbGRNYXBwaW5nKCkuZ2V0\nT3JkZXJDb2x1bW4oKSAhPSBudWxsKTsKICAgICAgICBfc3RyYXQgPSBzdHJh\ndDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgaW50IGNvdW50KCkgewogICAgICAg\nIGZpbmFsIENsYXNzTWFwcGluZ1tdIGVsZW1zID0gX3N0cmF0LmdldEluZGVw\nZW5kZW50RWxlbWVudE1hcHBpbmdzCiAgICAgICAgICAgIChmYWxzZSk7CiAg\nICAgICAgZmluYWwgT3BlbkpQQVN0YXRlTWFuYWdlciBzbSA9IGFzc2VydE93\nbmVyKCk7CiAgICAgICAgZmluYWwgSkRCQ1N0b3JlIHN0b3JlID0gZ2V0U3Rv\ncmUoKTsKICAgICAgICBVbmlvbiB1bmlvbiA9IHN0b3JlLmdldFNRTEZhY3Rv\ncnkoKS5uZXdVbmlvbgogICAgICAgICAgICAoTWF0aC5tYXgoMSwgZWxlbXMu\nbGVuZ3RoKSk7CiAgICAgICAgdW5pb24uc2VsZWN0KG5ldyBVbmlvbi5TZWxl\nY3RvcigpIHsKICAgICAgICAgICAgcHVibGljIHZvaWQgc2VsZWN0KFNlbGVj\ndCBzZWwsIGludCBpZHgpIHsKICAgICAgICAgICAgICAgIENsYXNzTWFwcGlu\nZyBlbGVtID0gKGVsZW1zLmxlbmd0aCA9PSAwKSA/IG51bGwgOiBlbGVtc1tp\nZHhdOwogICAgICAgICAgICAgICAgc2VsLndoZXJlRm9yZWlnbktleShfc3Ry\nYXQuZ2V0Sm9pbkZvcmVpZ25LZXkoZWxlbSksCiAgICAgICAgICAgICAgICAg\nICAgc20uZ2V0T2JqZWN0SWQoKSwgX3N0cmF0LmdldEZpZWxkTWFwcGluZygp\nLgogICAgICAgICAgICAgICAgICAgIGdldERlZmluaW5nTWFwcGluZygpLCBz\ndG9yZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgcmV0dXJuIHVuaW9uLmdldENvdW50KHN0b3JlKTsK\nICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gc2UpIHsKICAgICAgICAg\nICAgdGhyb3cgU1FMRXhjZXB0aW9ucy5nZXRTdG9yZShzZSwgc3RvcmUuZ2V0\nREJEaWN0aW9uYXJ5KCkpOwogICAgICAgIH0KICAgIH0KCiAgICBwcm90ZWN0\nZWQgYm9vbGVhbiBoYXMoZmluYWwgT2JqZWN0IG9iaikgewogICAgICAgIGZp\nbmFsIENsYXNzTWFwcGluZ1tdIGVsZW1zID0gX3N0cmF0LmdldEluZGVwZW5k\nZW50RWxlbWVudE1hcHBpbmdzCiAgICAgICAgICAgIChmYWxzZSk7CiAgICAg\nICAgZmluYWwgT3BlbkpQQVN0YXRlTWFuYWdlciBzbSA9IGFzc2VydE93bmVy\nKCk7CiAgICAgICAgZmluYWwgSkRCQ1N0b3JlIHN0b3JlID0gZ2V0U3RvcmUo\nKTsKICAgICAgICBVbmlvbiB1bmlvbiA9IHN0b3JlLmdldFNRTEZhY3Rvcnko\nKS5uZXdVbmlvbgogICAgICAgICAgICAoTWF0aC5tYXgoMSwgZWxlbXMubGVu\nZ3RoKSk7CiAgICAgICAgdW5pb24uc2VsZWN0KG5ldyBVbmlvbi5TZWxlY3Rv\ncigpIHsKICAgICAgICAgICAgcHVibGljIHZvaWQgc2VsZWN0KFNlbGVjdCBz\nZWwsIGludCBpZHgpIHsKICAgICAgICAgICAgICAgIENsYXNzTWFwcGluZyBl\nbGVtID0gKGVsZW1zLmxlbmd0aCA9PSAwKSA/IG51bGwgOiBlbGVtc1tpZHhd\nOwogICAgICAgICAgICAgICAgc2VsLndoZXJlRm9yZWlnbktleShfc3RyYXQu\nZ2V0Sm9pbkZvcmVpZ25LZXkoZWxlbSksCiAgICAgICAgICAgICAgICAgICAg\nc20uZ2V0T2JqZWN0SWQoKSwgX3N0cmF0LmdldEZpZWxkTWFwcGluZygpLgog\nICAgICAgICAgICAgICAgICAgIGdldERlZmluaW5nTWFwcGluZygpLCBzdG9y\nZSk7CgogICAgICAgICAgICAgICAgT2JqZWN0IHZhbCA9IF9zdHJhdC50b0Rh\ndGFTdG9yZVZhbHVlKG9iaiwgc3RvcmUpOwogICAgICAgICAgICAgICAgQ29s\ndW1uW10gY29scyA9IF9zdHJhdC5nZXRFbGVtZW50Q29sdW1ucyhlbGVtKTsK\nICAgICAgICAgICAgICAgIE9iamVjdFtdIHZhbHMgPSAoY29scy5sZW5ndGgg\nPT0gMSkgPyBudWxsIDogKE9iamVjdFtdKSB2YWw7CiAgICAgICAgICAgICAg\nICBTUUxCdWZmZXIgc3FsID0gbmV3IFNRTEJ1ZmZlcihzdG9yZS5nZXREQkRp\nY3Rpb25hcnkoKSk7CiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsg\naSA8IGNvbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBp\nZiAoaSA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgIHNxbC5hcHBlbmQo\nIiBBTkQgIik7CgogICAgICAgICAgICAgICAgICAgIHNxbC5hcHBlbmQoc2Vs\nLmdldENvbHVtbkFsaWFzKGNvbHNbaV0pKTsKICAgICAgICAgICAgICAgICAg\nICBpZiAodmFscyA9PSBudWxsKQogICAgICAgICAgICAgICAgICAgICAgICBz\ncWwuYXBwZW5kKCh2YWwgPT0gbnVsbCkgPyAiIElTICIgOiAiID0gIikuCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRWYWx1ZSh2YWwsIGNv\nbHNbaV0pOwogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAg\nICAgICAgICAgICAgc3FsLmFwcGVuZCgodmFsc1tpXSA9PSBudWxsKSA/ICIg\nSVMgIiA6ICIgPSAiKS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFw\ncGVuZFZhbHVlKHZhbHNbaV0sIGNvbHNbaV0pOwogICAgICAgICAgICAgICAg\nfQogICAgICAgICAgICAgICAgc2VsLndoZXJlKHNxbCk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9KTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIHVuaW9uLmdldENvdW50KHN0b3JlKSA+IDA7CiAgICAgICAgfSBjYXRj\naCAoU1FMRXhjZXB0aW9uIHNlKSB7CiAgICAgICAgICAgIHRocm93IFNRTEV4\nY2VwdGlvbnMuZ2V0U3RvcmUoc2UsIHN0b3JlLmdldERCRGljdGlvbmFyeSgp\nKTsKICAgICAgICB9CiAgICB9CgogICAgcHJvdGVjdGVkIEl0ZXJhdG9yIGl0\ncigpIHsKICAgICAgICBmaW5hbCBDbGFzc01hcHBpbmdbXSBlbGVtcyA9IF9z\ndHJhdC5nZXRJbmRlcGVuZGVudEVsZW1lbnRNYXBwaW5ncyh0cnVlKTsKICAg\nICAgICBmaW5hbCBPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtID0gYXNzZXJ0T3du\nZXIoKTsKICAgICAgICBmaW5hbCBKREJDU3RvcmUgc3RvcmUgPSBnZXRTdG9y\nZSgpOwogICAgICAgIGZpbmFsIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0\nY2ggPSBzdG9yZS5nZXRGZXRjaENvbmZpZ3VyYXRpb24oKTsKICAgICAgICBm\naW5hbCBKb2luc1tdIHJlc0pvaW5zID0gbmV3IEpvaW5zW01hdGgubWF4KDEs\nIGVsZW1zLmxlbmd0aCldOwogICAgICAgIGZpbmFsIEZpZWxkTWFwcGluZyBm\nbSA9IF9zdHJhdC5nZXRGaWVsZE1hcHBpbmcoKTsKCiAgICAgICAgVW5pb24g\ndW5pb24gPSBzdG9yZS5nZXRTUUxGYWN0b3J5KCkubmV3VW5pb24KICAgICAg\nICAgICAgKE1hdGgubWF4KDEsIGVsZW1zLmxlbmd0aCkpOwogICAgICAgIGlm\nIChmZXRjaC5nZXRTdWJjbGFzc0ZldGNoTW9kZShmbS5nZXRFbGVtZW50TWFw\ncGluZygpLgogICAgICAgICAgICBnZXRUeXBlTWFwcGluZygpKSAhPSBmZXRj\naC5FQUdFUl9KT0lOKQogICAgICAgICAgICB1bmlvbi5hYm9ydFVuaW9uKCk7\nCiAgICAgICAgdW5pb24uc2V0TFJTKHRydWUpOwogICAgICAgIHVuaW9uLnNl\nbGVjdChuZXcgVW5pb24uU2VsZWN0b3IoKSB7CiAgICAgICAgICAgIHB1Ymxp\nYyB2b2lkIHNlbGVjdChTZWxlY3Qgc2VsLCBpbnQgaWR4KSB7CiAgICAgICAg\nICAgICAgICBDbGFzc01hcHBpbmcgZWxlbSA9IChlbGVtcy5sZW5ndGggPT0g\nMCkgPyBudWxsIDogZWxlbXNbaWR4XTsKICAgICAgICAgICAgICAgIHNlbC53\naGVyZUZvcmVpZ25LZXkoX3N0cmF0LmdldEpvaW5Gb3JlaWduS2V5KGVsZW0p\nLAogICAgICAgICAgICAgICAgICAgIHNtLmdldE9iamVjdElkKCksIGZtLmdl\ndERlZmluaW5nTWFwcGluZygpLCBzdG9yZSk7CgogICAgICAgICAgICAgICAg\nLy8gb3JkZXIgYmVmb3JlIHNlbGVjdCBpbiBjYXNlIHdlJ3JlIGZha2luZyB1\nbmlvbiB3aXRoCiAgICAgICAgICAgICAgICAvLyBtdWx0aXBsZSBzZWxlY3Rz\nOyBvcmRlciB2YWxzIHVzZWQgdG8gbWVyZ2UgcmVzdWx0cwogICAgICAgICAg\nICAgICAgZm0ub3JkZXJMb2NhbChzZWwsIGVsZW0sIG51bGwpOwogICAgICAg\nICAgICAgICAgcmVzSm9pbnNbaWR4XSA9IF9zdHJhdC5qb2luRWxlbWVudFJl\nbGF0aW9uKHNlbC5uZXdKb2lucygpLAogICAgICAgICAgICAgICAgICAgIGVs\nZW0pOwogICAgICAgICAgICAgICAgZm0ub3JkZXJSZWxhdGlvbihzZWwsIGVs\nZW0sIHJlc0pvaW5zW2lkeF0pOwogICAgICAgICAgICAgICAgX3N0cmF0LnNl\nbGVjdEVsZW1lbnQoc2VsLCBlbGVtLCBzdG9yZSwgZmV0Y2gsIGZldGNoLkVB\nR0VSX0pPSU4sCiAgICAgICAgICAgICAgICAgICAgcmVzSm9pbnNbaWR4XSk7\nCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgUmVzdWx0IHJlcyA9IHVuaW9uLmV4ZWN1dGUoc3RvcmUsIGZl\ndGNoKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXN1bHRJdGVyYXRvcihz\nbSwgc3RvcmUsIGZldGNoLCByZXMsIHJlc0pvaW5zKTsKICAgICAgICB9IGNh\ndGNoIChTUUxFeGNlcHRpb24gc2UpIHsKICAgICAgICAgICAgdGhyb3cgU1FM\nRXhjZXB0aW9ucy5nZXRTdG9yZShzZSwgc3RvcmUuZ2V0REJEaWN0aW9uYXJ5\nKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIE9wZW5KUEFTdGF0\nZU1hbmFnZXIgYXNzZXJ0T3duZXIoKSB7CiAgICAgICAgT3BlbkpQQVN0YXRl\nTWFuYWdlciBzbSA9IGdldE93bmVyKCk7CiAgICAgICAgaWYgKHNtID09IG51\nbGwpCiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkU3RhdGVFeGNlcHRp\nb24oX2xvYy5nZXQoImxycy1uby1vd25lciIsCiAgICAgICAgICAgICAgICBf\nc3RyYXQuZ2V0RmllbGRNYXBwaW5nKCkpKTsKICAgICAgICByZXR1cm4gc207\nCiAgICB9CgogICAgcHJpdmF0ZSBKREJDU3RvcmUgZ2V0U3RvcmUoKSB7CiAg\nICAgICAgcmV0dXJuIChKREJDU3RvcmUpIGdldE93bmVyKCkuZ2V0Q29udGV4\ndCgpLmdldFN0b3JlTWFuYWdlcigpLgogICAgICAgICAgICBnZXRJbm5lcm1v\nc3REZWxlZ2F0ZSgpOwogICAgfQoKICAgIC8qKgogICAgICogQ2xvc2VhYmxl\nIGl0ZXJhdG9yIGJ1aWx0IGFyb3VuZCBhIEpEQkMgcmVzdWx0LgogICAgICov\nCiAgICBwcml2YXRlIGNsYXNzIFJlc3VsdEl0ZXJhdG9yCiAgICAgICAgaW1w\nbGVtZW50cyBJdGVyYXRvciwgQ2xvc2VhYmxlIHsKCiAgICAgICAgcHJpdmF0\nZSBmaW5hbCBPcGVuSlBBU3RhdGVNYW5hZ2VyIF9zbTsKICAgICAgICBwcml2\nYXRlIGZpbmFsIEpEQkNTdG9yZSBfc3RvcmU7CiAgICAgICAgcHJpdmF0ZSBm\naW5hbCBKREJDRmV0Y2hDb25maWd1cmF0aW9uIF9mZXRjaDsKICAgICAgICBw\ncml2YXRlIGZpbmFsIFJlc3VsdCBfcmVzOwogICAgICAgIHByaXZhdGUgZmlu\nYWwgSm9pbnNbXSBfam9pbnM7CiAgICAgICAgcHJpdmF0ZSBCb29sZWFuIF9u\nZXh0ID0gbnVsbDsKCiAgICAgICAgcHVibGljIFJlc3VsdEl0ZXJhdG9yKE9w\nZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwKICAgICAg\nICAgICAgSkRCQ0ZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCwgUmVzdWx0IHJl\ncywgSm9pbnNbXSBqb2lucykgewogICAgICAgICAgICBfc20gPSBzbTsKICAg\nICAgICAgICAgX3N0b3JlID0gc3RvcmU7CiAgICAgICAgICAgIF9mZXRjaCA9\nIGZldGNoOwogICAgICAgICAgICBfcmVzID0gcmVzOwogICAgICAgICAgICBf\nam9pbnMgPSBqb2luczsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBib29s\nZWFuIGhhc05leHQoKSB7CiAgICAgICAgICAgIGlmIChfbmV4dCA9PSBudWxs\nKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAg\nIF9uZXh0ID0gKF9yZXMubmV4dCgpKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xl\nYW4uRkFMU0U7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRp\nb24gc2UpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBTUUxFeGNlcHRp\nb25zLmdldFN0b3JlKHNlLCBfc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkpOwog\nICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJl\ndHVybiBfbmV4dC5ib29sZWFuVmFsdWUoKTsKICAgICAgICB9CgogICAgICAg\nIHB1YmxpYyBPYmplY3QgbmV4dCgpIHsKICAgICAgICAgICAgaWYgKCFoYXNO\nZXh0KCkpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVu\ndEV4Y2VwdGlvbigpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAg\nICAgX25leHQgPSBudWxsOwogICAgICAgICAgICAgICAgcmV0dXJuIF9zdHJh\ndC5sb2FkRWxlbWVudChfc20sIF9zdG9yZSwgX2ZldGNoLCBfcmVzLAogICAg\nICAgICAgICAgICAgICAgIF9qb2luc1tfcmVzLmluZGV4T2YoKV0pOwogICAg\nICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gc2UpIHsKICAgICAgICAg\nICAgICAgIHRocm93IFNRTEV4Y2VwdGlvbnMuZ2V0U3RvcmUoc2UsIF9zdG9y\nZS5nZXREQkRpY3Rpb25hcnkoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyB2b2lkIHJlbW92ZSgpIHsKICAgICAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBjbG9zZSgpIHsKICAgICAg\nICAgICAgX25leHQgPSBCb29sZWFuLkZBTFNFOwogICAgICAgICAgICBfcmVz\nLmNsb3NlKCk7CiAgICAgICAgfQogICAgfQp9Cgo=\n","encoding":"base64"}

