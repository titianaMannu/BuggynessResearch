{"sha":"988bcf98d294cb06b83c4a284208336aae6f7e88","node_id":"MDQ6QmxvYjIwNjM2NDo5ODhiY2Y5OGQyOTRjYjA2YjgzYzRhMjg0MjA4MzM2YWFlNmY3ZTg4","size":3355,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/988bcf98d294cb06b83c4a284208336aae6f7e88","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5BcnJheTsKaW1wb3J0IGphdmEu\nc3FsLlJlc3VsdFNldDsKaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuSkRCQ1N0\nb3JlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5KYXZh\nU1FMVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hl\nbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3Fs\nLkRCRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLnNxbC5Kb2luczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNx\nbC5SZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwu\nUm93OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5PcGVuSlBB\nU3RhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51\ndGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGls\nLk1ldGFEYXRhRXhjZXB0aW9uOwoKLyoqCiAqIE1hcHBpbmcgZm9yIGJ5dGUg\nYXJyYXkgZmllbGRzIG9uIGEgZGljdGlvbmFyeSB0aGF0IGhhcyBhIG1heGlt\ndW0gZW1iZWRkZWQKICogQkxPQiBzaXplLgogKgogKiBAYXV0aG9yIEFiZSBX\naGl0ZQogKiBAbm9qYXZhZG9jCiAqIEBzaW5jZSAwLjQuMAogKi8KcHVibGlj\nIGNsYXNzIE1heEVtYmVkZGVkQnl0ZUFycmF5RmllbGRTdHJhdGVneQogICAg\nZXh0ZW5kcyBNYXhFbWJlZGRlZExvYkZpZWxkU3RyYXRlZ3kgewoKICAgIHBy\naXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVy\nLmZvclBhY2thZ2UKICAgICAgICAoTWF4RW1iZWRkZWRCeXRlQXJyYXlGaWVs\nZFN0cmF0ZWd5LmNsYXNzKTsKCiAgICBwcml2YXRlIGludCBfbWF4U2l6ZSA9\nIDA7CgogICAgcHJvdGVjdGVkIGludCBnZXRFeHBlY3RlZEphdmFUeXBlKCkg\newogICAgICAgIHJldHVybiBKYXZhU1FMVHlwZXMuQllURVM7CiAgICB9Cgog\nICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlKE9wZW5KUEFTdGF0ZU1hbmFnZXIg\nc20sIFJvdyByb3cpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgYnl0ZVtdIGIgPSBQcmltaXRpdmVXcmFwcGVyQXJyYXlzLnRvQnl0\nZUFycmF5KHNtLmZldGNoT2JqZWN0CiAgICAgICAgICAgIChmaWVsZC5nZXRJ\nbmRleCgpKSk7CiAgICAgICAgaWYgKGIgPT0gbnVsbCB8fCBiLmxlbmd0aCA+\nIF9tYXhTaXplKQogICAgICAgICAgICByb3cuc2V0Qnl0ZXMoZmllbGQuZ2V0\nQ29sdW1ucygpWzBdLCBudWxsKTsKICAgICAgICBlbHNlCiAgICAgICAgICAg\nIHJvdy5zZXRCeXRlcyhmaWVsZC5nZXRDb2x1bW5zKClbMF0sIGIpOwogICAg\nfQoKICAgIHByb3RlY3RlZCBCb29sZWFuIGlzQ3VzdG9tKE9wZW5KUEFTdGF0\nZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSkgewogICAgICAgIE9iamVj\ndCB2YWwgPSBzbS5mZXRjaE9iamVjdChmaWVsZC5nZXRJbmRleCgpKTsKICAg\nICAgICByZXR1cm4gKHZhbCAhPSBudWxsICYmIEFycmF5LmdldExlbmd0aCh2\nYWwpID4gX21heFNpemUpID8gbnVsbAogICAgICAgICAgICA6IEJvb2xlYW4u\nRkFMU0U7CiAgICB9CgogICAgcHJvdGVjdGVkIHZvaWQgcHV0RGF0YShPcGVu\nSlBBU3RhdGVNYW5hZ2VyIHNtLCBSZXN1bHRTZXQgcnMsCiAgICAgICAgREJE\naWN0aW9uYXJ5IGRpY3QpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgT2JqZWN0IGJsb2IgPSBycy5nZXRCbG9iKDEpOwogICAgICAg\nIGRpY3QucHV0Qnl0ZXMoYmxvYiwgUHJpbWl0aXZlV3JhcHBlckFycmF5cy50\nb0J5dGVBcnJheShzbS5mZXRjaE9iamVjdAogICAgICAgICAgICAoZmllbGQu\nZ2V0SW5kZXgoKSkpKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgT2JqZWN0IGxv\nYWQoQ29sdW1uIGNvbCwgUmVzdWx0IHJlcywgSm9pbnMgam9pbnMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIFByaW1p\ndGl2ZVdyYXBwZXJBcnJheXMudG9PYmplY3RWYWx1ZShmaWVsZCwKICAgICAg\nICAgICAgKGJ5dGVbXSkgcmVzLmdldEJ5dGVzKGNvbCwgam9pbnMpKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBtYXAoYm9vbGVhbiBhZGFwdCkgewogICAg\nICAgIGlmIChmaWVsZC5nZXRUeXBlKCkgIT0gYnl0ZVtdLmNsYXNzICYmIGZp\nZWxkLmdldFR5cGUoKSAhPSBCeXRlW10uY2xhc3MpCiAgICAgICAgICAgIHRo\ncm93IG5ldyBNZXRhRGF0YUV4Y2VwdGlvbihfbG9jLmdldCgibm90LWJ5dGVz\nIiwgZmllbGQpKTsKICAgICAgICBzdXBlci5tYXAoYWRhcHQpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoKSB7CiAgICAgICAgREJEaWN0\naW9uYXJ5IGRpY3QgPSBmaWVsZC5nZXRNYXBwaW5nUmVwb3NpdG9yeSgpLmdl\ndERCRGljdGlvbmFyeSgpOwogICAgICAgIF9tYXhTaXplID0gZGljdC5tYXhF\nbWJlZGRlZEJsb2JTaXplOwogICAgfQp9Cg==\n","encoding":"base64"}

