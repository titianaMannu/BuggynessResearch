{"sha":"9982c921c277e66c989d58061fa02f1f87c9587b","node_id":"MDQ6QmxvYjIwNjM2NDo5OTgyYzkyMWMyNzdlNjZjOTg5ZDU4MDYxZmEwMmYxZjg3Yzk1ODdi","size":2816,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9982c921c277e66c989d58061fa02f1f87c9587b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7CmltcG9ydCBqYXZhLnNxbC5T\nUUxFeGNlcHRpb247CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\na2VybmVsLkpEQkNTdG9yZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zcWwuUm93OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtl\ncm5lbC5PcGVuSlBBU3RhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5tZXRhLkphdmFUeXBlczsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS51dGlsLk1ldGFEYXRhRXhjZXB0aW9uOwoKLyoqCiAqIE1hcHBpbmcg\nZm9yIENMT0Igc3RyaW5nIG9uIGEgZGljdGlvbmFyeSB0aGF0IGhhcyBhIG1h\neGltdW0gZW1iZWRkZWQKICogQ0xPQiBzaXplLgogKgogKiBAYXV0aG9yIEFi\nZSBXaGl0ZQogKiBAbm9qYXZhZG9jCiAqIEBzaW5jZSAwLjQuMAogKi8KcHVi\nbGljIGNsYXNzIE1heEVtYmVkZGVkQ2xvYkZpZWxkU3RyYXRlZ3kKICAgIGV4\ndGVuZHMgTWF4RW1iZWRkZWRMb2JGaWVsZFN0cmF0ZWd5IHsKCiAgICBwcml2\nYXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5m\nb3JQYWNrYWdlCiAgICAgICAgKE1heEVtYmVkZGVkQ2xvYkZpZWxkU3RyYXRl\nZ3kuY2xhc3MpOwoKICAgIHByaXZhdGUgaW50IF9tYXhTaXplID0gMDsKCiAg\nICBwcm90ZWN0ZWQgaW50IGdldEV4cGVjdGVkSmF2YVR5cGUoKSB7CiAgICAg\nICAgcmV0dXJuIEphdmFUeXBlcy5TVFJJTkc7CiAgICB9CgogICAgcHJvdGVj\ndGVkIHZvaWQgdXBkYXRlKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIFJvdyBy\nb3cpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3Ry\naW5nIHMgPSBzbS5mZXRjaFN0cmluZyhmaWVsZC5nZXRJbmRleCgpKTsKICAg\nICAgICBpZiAocyA9PSBudWxsIHx8IHMubGVuZ3RoKCkgPiBfbWF4U2l6ZSkK\nICAgICAgICAgICAgcm93LnNldE51bGwoZmllbGQuZ2V0Q29sdW1ucygpWzBd\nLCB0cnVlKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJvdy5zZXRTdHJp\nbmcoZmllbGQuZ2V0Q29sdW1ucygpWzBdLCBzKTsKICAgIH0KCiAgICBwcm90\nZWN0ZWQgQm9vbGVhbiBpc0N1c3RvbShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNt\nLCBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAgICBTdHJpbmcgcyA9IHNtLmZl\ndGNoU3RyaW5nKGZpZWxkLmdldEluZGV4KCkpOwogICAgICAgIHJldHVybiAo\ncyAhPSBudWxsICYmIHMubGVuZ3RoKCkgPiBfbWF4U2l6ZSkgPyBudWxsIDog\nQm9vbGVhbi5GQUxTRTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBwdXRE\nYXRhKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIFJlc3VsdFNldCBycywKICAg\nICAgICBEQkRpY3Rpb25hcnkgZGljdCkKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICBPYmplY3QgY2xvYiA9IHJzLmdldENsb2IoMSk7\nCiAgICAgICAgZGljdC5wdXRTdHJpbmcoY2xvYiwgc20uZmV0Y2hTdHJpbmco\nZmllbGQuZ2V0SW5kZXgoKSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIG1h\ncChib29sZWFuIGFkYXB0KSB7CiAgICAgICAgaWYgKGZpZWxkLmdldFR5cGVD\nb2RlKCkgIT0gSmF2YVR5cGVzLlNUUklORykKICAgICAgICAgICAgdGhyb3cg\nbmV3IE1ldGFEYXRhRXhjZXB0aW9uKF9sb2MuZ2V0KCJub3QtY2xvYnN0cmlu\nZyIsIGZpZWxkKSk7CiAgICAgICAgc3VwZXIubWFwKGFkYXB0KTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKCkgewogICAgICAgIERCRGlj\ndGlvbmFyeSBkaWN0ID0gZmllbGQuZ2V0TWFwcGluZ1JlcG9zaXRvcnkoKS5n\nZXREQkRpY3Rpb25hcnkoKTsKICAgICAgICBfbWF4U2l6ZSA9IGRpY3QubWF4\nRW1iZWRkZWRDbG9iU2l6ZTsKICAgIH0KfQo=\n","encoding":"base64"}

