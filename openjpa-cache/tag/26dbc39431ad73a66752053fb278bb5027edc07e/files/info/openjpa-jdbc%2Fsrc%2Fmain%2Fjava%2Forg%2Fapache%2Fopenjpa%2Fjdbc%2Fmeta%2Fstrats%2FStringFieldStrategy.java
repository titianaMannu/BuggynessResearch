{"sha":"b55f70924e22d06d4feed54028c3838943dc8aef","node_id":"MDQ6QmxvYjIwNjM2NDpiNTVmNzA5MjRlMjJkMDZkNGZlZWQ1NDAyOGMzODM4OTQzZGM4YWVm","size":8950,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b55f70924e22d06d4feed54028c3838943dc8aef","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLkpEQkNGZXRjaENvbmZpZ3VyYXRp\nb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuSkRC\nQ1N0b3JlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5F\nbWJlZGRhYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0\nYS5GaWVsZE1hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5tZXRhLkpvaW5hYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5WYWx1ZU1hcHBpbmdJbmZvOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW5JTzsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Gb3JlaWduS2V5OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLlByaW1hcnlLZXk7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuSm9pbnM7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuUmVzdWx0OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlJvdzsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLnNxbC5Sb3dNYW5hZ2VyOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEJ1ZmZlcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TZWxlY3Q7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLk9wZW5KUEFTdGF0ZU1hbmFnZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuVmFsdWVTdHJhdGVnaWVzOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuTWV0YURhdGFFeGNlcHRpb247\nCgovKioKICogRGlyZWN0IG1hcHBpbmcgZnJvbSBhIHN0cmluZyB2YWx1ZSB0\nbyBhIGNvbHVtbi4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQHNpbmNl\nIDAuNC4wCiAqLwpwdWJsaWMgY2xhc3MgU3RyaW5nRmllbGRTdHJhdGVneQog\nICAgZXh0ZW5kcyBBYnN0cmFjdEZpZWxkU3RyYXRlZ3kKICAgIGltcGxlbWVu\ndHMgSm9pbmFibGUsIEVtYmVkZGFibGUgewoKICAgIHByaXZhdGUgc3RhdGlj\nIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2thZ2UK\nICAgICAgICAoU3RyaW5nRmllbGRTdHJhdGVneS5jbGFzcyk7CgogICAgcHVi\nbGljIHZvaWQgbWFwKGJvb2xlYW4gYWRhcHQpIHsKICAgICAgICBpZiAoZmll\nbGQuZ2V0VHlwZUNvZGUoKSAhPSBKYXZhVHlwZXMuU1RSSU5HKQogICAgICAg\nICAgICB0aHJvdyBuZXcgTWV0YURhdGFFeGNlcHRpb24oX2xvYy5nZXQoIm5v\ndC1zdHJpbmciLCBmaWVsZCkpOwogICAgICAgIGFzc2VydE5vdE1hcHBlZEJ5\nKCk7CgogICAgICAgIC8vIG1hcCBqb2luIGtleSwgaWYgYW55CiAgICAgICAg\nZmllbGQubWFwSm9pbihhZGFwdCwgZmFsc2UpOwogICAgICAgIGZpZWxkLmdl\ndEtleU1hcHBpbmcoKS5nZXRWYWx1ZUluZm8oKS5hc3NlcnROb1NjaGVtYUNv\nbXBvbmVudHMKICAgICAgICAgICAgKGZpZWxkLmdldEtleSgpLCAhYWRhcHQp\nOwogICAgICAgIGZpZWxkLmdldEVsZW1lbnRNYXBwaW5nKCkuZ2V0VmFsdWVJ\nbmZvKCkuYXNzZXJ0Tm9TY2hlbWFDb21wb25lbnRzCiAgICAgICAgICAgIChm\naWVsZC5nZXRFbGVtZW50KCksICFhZGFwdCk7CgogICAgICAgIFZhbHVlTWFw\ncGluZ0luZm8gdmluZm8gPSBmaWVsZC5nZXRWYWx1ZUluZm8oKTsKICAgICAg\nICB2aW5mby5hc3NlcnROb0pvaW4oZmllbGQsIHRydWUpOwogICAgICAgIHZp\nbmZvLmFzc2VydE5vRm9yZWlnbktleShmaWVsZCwgIWFkYXB0KTsKCiAgICAg\nICAgLy8gZ2V0IHZhbHVlIGNvbHVtbnMKICAgICAgICBDb2x1bW4gdG1wQ29s\nID0gbmV3IENvbHVtbigpOwogICAgICAgIHRtcENvbC5zZXROYW1lKGZpZWxk\nLmdldE5hbWUoKSk7CiAgICAgICAgdG1wQ29sLnNldEphdmFUeXBlKGZpZWxk\nLmdldFR5cGVDb2RlKCkpOwoKICAgICAgICBDb2x1bW5bXSBjb2xzID0gdmlu\nZm8uZ2V0Q29sdW1ucyhmaWVsZCwgZmllbGQuZ2V0TmFtZSgpLAogICAgICAg\nICAgICBuZXcgQ29sdW1uW117IHRtcENvbCB9LCBmaWVsZC5nZXRUYWJsZSgp\nLCBhZGFwdCk7CiAgICAgICAgaWYgKGZpZWxkLmdldFZhbHVlU3RyYXRlZ3ko\nKSA9PSBWYWx1ZVN0cmF0ZWdpZXMuQVVUT0FTU0lHTikKICAgICAgICAgICAg\nY29sc1swXS5zZXRBdXRvQXNzaWduZWQodHJ1ZSk7CgogICAgICAgIGZpZWxk\nLnNldENvbHVtbnMoY29scyk7CiAgICAgICAgZmllbGQuc2V0Q29sdW1uSU8o\ndmluZm8uZ2V0Q29sdW1uSU8oKSk7CiAgICAgICAgZmllbGQubWFwQ29uc3Ry\nYWludHMoZmllbGQuZ2V0TmFtZSgpLCBhZGFwdCk7CgogICAgICAgIC8vIGFk\nZCBwcmltYXJ5IGtleSBjb2x1bW5zIHRvIHRhYmxlIHBrIGlmIGxvZ2ljYWwK\nICAgICAgICBmaWVsZC5tYXBQcmltYXJ5S2V5KGFkYXB0KTsKICAgICAgICBQ\ncmltYXJ5S2V5IHBrID0gZmllbGQuZ2V0VGFibGUoKS5nZXRQcmltYXJ5S2V5\nKCk7CiAgICAgICAgaWYgKGZpZWxkLmlzUHJpbWFyeUtleSgpICYmIHBrICE9\nIG51bGwgJiYgKGFkYXB0IHx8IHBrLmlzTG9naWNhbCgpKSkKICAgICAgICAg\nICAgcGsuYWRkQ29sdW1uKGNvbHNbMF0pOwoKICAgICAgICAvLyBzZXQgam9p\nbmFibGUKICAgICAgICBmaWVsZC5nZXREZWZpbmluZ01hcHBpbmcoKS5zZXRK\nb2luYWJsZShmaWVsZC5nZXRDb2x1bW5zKClbMF0sIHRoaXMpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIGluc2VydChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNt\nLCBKREJDU3RvcmUgc3RvcmUsIFJvd01hbmFnZXIgcm0pCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHN0ciA9IChTdHJp\nbmcpIHRvRGF0YVN0b3JlVmFsdWUoc20uZmV0Y2hTdHJpbmcKICAgICAgICAg\nICAgKGZpZWxkLmdldEluZGV4KCkpLCBzdG9yZSk7CiAgICAgICAgaWYgKGZp\nZWxkLmdldENvbHVtbklPKCkuaXNJbnNlcnRhYmxlKDAsIHN0ciA9PSBudWxs\nKSkgewogICAgICAgICAgICBSb3cgcm93ID0gZmllbGQuZ2V0Um93KHNtLCBz\ndG9yZSwgcm0sIFJvdy5BQ1RJT05fSU5TRVJUKTsKICAgICAgICAgICAgaWYg\nKHJvdyAhPSBudWxsKQogICAgICAgICAgICAgICAgcm93LnNldFN0cmluZyhm\naWVsZC5nZXRDb2x1bW5zKClbMF0sIHN0cik7CiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHVwZGF0ZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNt\nLCBKREJDU3RvcmUgc3RvcmUsIFJvd01hbmFnZXIgcm0pCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nIHN0ciA9IChTdHJp\nbmcpIHRvRGF0YVN0b3JlVmFsdWUoc20uZmV0Y2hTdHJpbmcKICAgICAgICAg\nICAgKGZpZWxkLmdldEluZGV4KCkpLCBzdG9yZSk7CiAgICAgICAgaWYgKGZp\nZWxkLmdldENvbHVtbklPKCkuaXNVcGRhdGFibGUoMCwgc3RyID09IG51bGwp\nKSB7CiAgICAgICAgICAgIFJvdyByb3cgPSBmaWVsZC5nZXRSb3coc20sIHN0\nb3JlLCBybSwgUm93LkFDVElPTl9VUERBVEUpOwogICAgICAgICAgICBpZiAo\ncm93ICE9IG51bGwpCiAgICAgICAgICAgICAgICByb3cuc2V0U3RyaW5nKGZp\nZWxkLmdldENvbHVtbnMoKVswXSwgc3RyKTsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgZGVsZXRlKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20s\nIEpEQkNTdG9yZSBzdG9yZSwgUm93TWFuYWdlciBybSkKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBmaWVsZC5kZWxldGVSb3coc20s\nIHN0b3JlLCBybSk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCB0b0RhdGFT\ndG9yZVZhbHVlKE9iamVjdCB2YWwsIEpEQkNTdG9yZSBzdG9yZSkgewogICAg\nICAgIGlmICh2YWwgIT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIHZhbDsK\nCiAgICAgICAgaWYgKGZpZWxkLmdldE51bGxWYWx1ZSgpICE9IEZpZWxkTWFw\ncGluZy5OVUxMX0RFRkFVTFQpCiAgICAgICAgICAgIHJldHVybiBudWxsOwog\nICAgICAgIGlmIChmaWVsZC5nZXRDb2x1bW5zKClbMF0uZ2V0RGVmYXVsdFN0\ncmluZygpICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAg\nICAgIC8vIGhvbm9yIHRoZSB1c2VyJ3MgbnVsbC12YWx1ZT1kZWZhdWx0CiAg\nICAgICAgcmV0dXJuICIiOwogICAgfQoKICAgIHB1YmxpYyBpbnQgc3VwcG9y\ndHNTZWxlY3QoU2VsZWN0IHNlbCwgaW50IHR5cGUsIE9wZW5KUEFTdGF0ZU1h\nbmFnZXIgc20sCiAgICAgICAgSkRCQ1N0b3JlIHN0b3JlLCBKREJDRmV0Y2hD\nb25maWd1cmF0aW9uIGZldGNoKSB7CiAgICAgICAgaWYgKHR5cGUgPT0gU2Vs\nZWN0LlRZUEVfSk9JTkxFU1MgJiYgc2VsLmlzU2VsZWN0ZWQoZmllbGQuZ2V0\nVGFibGUoKSkpCiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIHJldHVy\nbiAwOwogICAgfQoKICAgIHB1YmxpYyBpbnQgc2VsZWN0KFNlbGVjdCBzZWws\nIE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwKICAg\nICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLCBpbnQgZWFnZXJN\nb2RlKSB7CiAgICAgICAgc2VsLnNlbGVjdChmaWVsZC5nZXRDb2x1bW5zKClb\nMF0sIGZpZWxkLmpvaW4oc2VsKSk7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgbG9hZChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNt\nLCBKREJDU3RvcmUgc3RvcmUsCiAgICAgICAgSkRCQ0ZldGNoQ29uZmlndXJh\ndGlvbiBmZXRjaCwgUmVzdWx0IHJlcykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICBDb2x1bW4gY29sID0gZmllbGQuZ2V0Q29sdW1u\ncygpWzBdOwogICAgICAgIGlmIChyZXMuY29udGFpbnMoY29sKSkKICAgICAg\nICAgICAgc20uc3RvcmVTdHJpbmcoZmllbGQuZ2V0SW5kZXgoKSwgcmVzLmdl\ndFN0cmluZyhjb2wpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhcHBlbmRJ\nc051bGwoU1FMQnVmZmVyIHNxbCwgU2VsZWN0IHNlbCwgSm9pbnMgam9pbnMp\nIHsKICAgICAgICBqb2lucyA9IGpvaW4oam9pbnMsIGZhbHNlKTsKICAgICAg\nICBzcWwuYXBwZW5kKHNlbC5nZXRDb2x1bW5BbGlhcyhmaWVsZC5nZXRDb2x1\nbW5zKClbMF0sIGpvaW5zKSkuCiAgICAgICAgICAgIGFwcGVuZCgiIElTICIp\nLmFwcGVuZFZhbHVlKG51bGwsIGZpZWxkLmdldENvbHVtbnMoKVswXSk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgYXBwZW5kSXNOb3ROdWxsKFNRTEJ1ZmZl\nciBzcWwsIFNlbGVjdCBzZWwsIEpvaW5zIGpvaW5zKSB7CiAgICAgICAgam9p\nbnMgPSBqb2luKGpvaW5zLCBmYWxzZSk7CiAgICAgICAgc3FsLmFwcGVuZChz\nZWwuZ2V0Q29sdW1uQWxpYXMoZmllbGQuZ2V0Q29sdW1ucygpWzBdLCBqb2lu\ncykpLgogICAgICAgICAgICBhcHBlbmQoIiBJUyBOT1QgIikuYXBwZW5kVmFs\ndWUobnVsbCwgZmllbGQuZ2V0Q29sdW1ucygpWzBdKTsKICAgIH0KCiAgICBw\ndWJsaWMgSm9pbnMgam9pbihKb2lucyBqb2lucywgYm9vbGVhbiBmb3JjZU91\ndGVyKSB7CiAgICAgICAgcmV0dXJuIGZpZWxkLmpvaW4oam9pbnMsIGZvcmNl\nT3V0ZXIsIGZhbHNlKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGxvYWRQ\ncm9qZWN0aW9uKEpEQkNTdG9yZSBzdG9yZSwgSkRCQ0ZldGNoQ29uZmlndXJh\ndGlvbiBmZXRjaCwKICAgICAgICBSZXN1bHQgcmVzLCBKb2lucyBqb2lucykK\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\ncmVzLmdldFN0cmluZyhmaWVsZC5nZXRDb2x1bW5zKClbMF0sIGpvaW5zKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1ZlcnNpb25hYmxlKCkgewog\nICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHdo\nZXJlKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwg\nUm93TWFuYWdlciBybSwKICAgICAgICBPYmplY3QgcHJldlZhbHVlKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFJvdyByb3cgPSBm\naWVsZC5nZXRSb3coc20sIHN0b3JlLCBybSwgUm93LkFDVElPTl9VUERBVEUp\nOwogICAgICAgIGlmIChyb3cgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJu\nOwoKICAgICAgICBDb2x1bW4gY29sID0gZmllbGQuZ2V0Q29sdW1ucygpWzBd\nOwogICAgICAgIGlmIChwcmV2VmFsdWUgPT0gbnVsbCkKICAgICAgICAgICAg\ncm93LndoZXJlTnVsbChjb2wpOwogICAgICAgIGVsc2UKICAgICAgICAgICAg\ncm93LndoZXJlU3RyaW5nKGNvbCwgcHJldlZhbHVlLnRvU3RyaW5nKCkpOwog\nICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8g\nSm9pbmFibGUgaW1wbGVtZW50YXRpb24KICAgIC8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLwoKICAgIHB1YmxpYyBpbnQgZ2V0RmllbGRJbmRleCgpIHsK\nICAgICAgICByZXR1cm4gZmllbGQuZ2V0SW5kZXgoKTsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IGdldFByaW1hcnlLZXlWYWx1ZShSZXN1bHQgcmVzLCBD\nb2x1bW5bXSBjb2xzLCBGb3JlaWduS2V5IGZrLAogICAgICAgIEpEQkNTdG9y\nZSBzdG9yZSwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgQ29sdW1uIGNvbCA9IGNvbHNbMF07CiAgICAgICAg\naWYgKGZrICE9IG51bGwpCiAgICAgICAgICAgIGNvbCA9IGZrLmdldENvbHVt\nbihjb2wpOwogICAgICAgIHJldHVybiByZXMuZ2V0U3RyaW5nKGNvbCwgam9p\nbnMpOwogICAgfQoKICAgIHB1YmxpYyBDb2x1bW5bXSBnZXRDb2x1bW5zKCkg\newogICAgICAgIHJldHVybiBmaWVsZC5nZXRDb2x1bW5zKCk7CiAgICB9Cgog\nICAgcHVibGljIE9iamVjdCBnZXRKb2luVmFsdWUoT2JqZWN0IGZpZWxkVmFs\nLCBDb2x1bW4gY29sLCBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAgICByZXR1\ncm4gZmllbGRWYWw7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRKb2lu\nVmFsdWUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgQ29sdW1uIGNvbCwKICAg\nICAgICBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAgICByZXR1cm4gc20uZmV0\nY2goZmllbGQuZ2V0SW5kZXgoKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0QXV0b0Fzc2lnbmVkVmFsdWUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwg\nSkRCQ1N0b3JlIHN0b3JlLAogICAgICAgIENvbHVtbiBjb2wsIE9iamVjdCBh\ndXRvSW5jKSB7CiAgICAgICAgU3RyaW5nIHN0ciA9IChhdXRvSW5jID09IG51\nbGwpID8gbnVsbCA6IGF1dG9JbmMudG9TdHJpbmcoKTsKICAgICAgICBzbS5z\ndG9yZVN0cmluZyhmaWVsZC5nZXRJbmRleCgpLCBzdHIpOwogICAgfQoKICAg\nIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBFbWJlZGRh\nYmxlIGltcGxlbWVudGF0aW9uCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLwoKICAgIHB1YmxpYyBDb2x1bW5JTyBnZXRDb2x1bW5JTygpIHsK\nICAgICAgICByZXR1cm4gZmllbGQuZ2V0Q29sdW1uSU8oKTsKICAgIH0KCiAg\nICBwdWJsaWMgT2JqZWN0W10gZ2V0UmVzdWx0QXJndW1lbnRzKCkgewogICAg\nICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgdG9F\nbWJlZGRlZERhdGFTdG9yZVZhbHVlKE9iamVjdCB2YWwsIEpEQkNTdG9yZSBz\ndG9yZSkgewogICAgICAgIHJldHVybiB0b0RhdGFTdG9yZVZhbHVlKHZhbCwg\nc3RvcmUpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgdG9FbWJlZGRlZE9i\namVjdFZhbHVlKE9iamVjdCB2YWwpIHsKICAgICAgICByZXR1cm4gdmFsOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIGxvYWRFbWJlZGRlZChPcGVuSlBBU3Rh\ndGVNYW5hZ2VyIHNtLCBKREJDU3RvcmUgc3RvcmUsCiAgICAgICAgSkRCQ0Zl\ndGNoQ29uZmlndXJhdGlvbiBmZXRjaCwgT2JqZWN0IHZhbCkKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBzbS5zdG9yZVN0cmluZyhm\naWVsZC5nZXRJbmRleCgpLCAoU3RyaW5nKSB2YWwpOwogICAgfQp9Cg==\n","encoding":"base64"}

