{"sha":"3a6e7e6af3405f0019a6b0941e5ef7698c094252","node_id":"MDQ6QmxvYjIwNjM2NDozYTZlN2U2YWYzNDA1ZjAwMTlhNmIwOTQxZTVlZjc2OThjMDk0MjUy","size":4912,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3a6e7e6af3405f0019a6b0941e5ef7698c094252","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgovKioK\nICogQSB0YWJsZSBjb25zdHJhaW50LiBUaGlzIGNsYXNzIGlzIGNsb3NlbHkg\nYWxpZ25lZCB3aXRoIHRoZSBjb25zdHJhaW50CiAqIGluZm9ybWF0aW9uIGF2\nYWlsYWJsZSBmcm9tIHtAbGluayBqYXZhLnNxbC5EYXRhYmFzZU1ldGFEYXRh\nfS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBhYnN0cmFj\ndCBjbGFzcyBDb25zdHJhaW50CiAgICBleHRlbmRzIFJlZmVyZW5jZUNvdW50\nZXIgewoKICAgIHByaXZhdGUgU3RyaW5nIF9uYW1lID0gbnVsbDsKICAgIHBy\naXZhdGUgU3RyaW5nIF9mdWxsTmFtZSA9IG51bGw7CiAgICBwcml2YXRlIFRh\nYmxlIF90YWJsZSA9IG51bGw7CiAgICBwcml2YXRlIFN0cmluZyBfdGFibGVO\nYW1lID0gbnVsbDsKICAgIHByaXZhdGUgU3RyaW5nIF9zY2hlbWFOYW1lID0g\nbnVsbDsKICAgIHByaXZhdGUgU3RyaW5nIF9jb2x1bW5OYW1lID0gbnVsbDsK\nICAgIHByaXZhdGUgYm9vbGVhbiBfZGVmZXJyZWQgPSBmYWxzZTsKCiAgICAv\nKioKICAgICAqIERlZmF1bHQgY29uc3RydWN0b3IuCiAgICAgKi8KICAgIENv\nbnN0cmFpbnQoKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rv\nci4KICAgICAqCiAgICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUg\nY29uc3RyYWludCwgb3IgbnVsbCBpZiBub25lCiAgICAgKiBAcGFyYW0gdGFi\nbGUgdGhlIGxvY2FsIHRhYmxlIG9mIHRoZSBjb25zdHJhaW50CiAgICAgKi8K\nICAgIENvbnN0cmFpbnQoU3RyaW5nIG5hbWUsIFRhYmxlIHRhYmxlKSB7CiAg\nICAgICAgc2V0TmFtZShuYW1lKTsKICAgICAgICBpZiAodGFibGUgIT0gbnVs\nbCkgewogICAgICAgICAgICBzZXRUYWJsZU5hbWUodGFibGUuZ2V0TmFtZSgp\nKTsKICAgICAgICAgICAgc2V0U2NoZW1hTmFtZSh0YWJsZS5nZXRTY2hlbWFO\nYW1lKCkpOwogICAgICAgIH0KICAgICAgICBfdGFibGUgPSB0YWJsZTsKICAg\nIH0KCiAgICAvKioKICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25zdHJhaW50\nIGlzIHJlbW92ZWQgZnJvbSB0aGUgb3duaW5nIHRhYmxlLgogICAgICogSW52\nYWxpZGF0ZXMgdGhlIGNvbnN0cmFpbnQuCiAgICAgKi8KICAgIHZvaWQgcmVt\nb3ZlKCkgewogICAgICAgIF90YWJsZSA9IG51bGw7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSZXR1cm4gdGhlIHRhYmxlIG9mIHRoaXMgY29uc3RyYWludC4K\nICAgICAqLwogICAgcHVibGljIFRhYmxlIGdldFRhYmxlKCkgewogICAgICAg\nIHJldHVybiBfdGFibGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4g\ndGhlIGNvbHVtbidzIHRhYmxlIG5hbWUuCiAgICAgKi8KICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0VGFibGVOYW1lKCkgewogICAgICAgIHJldHVybiBfdGFibGVO\nYW1lOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBjb2x1bW4ncyB0\nYWJsZSBuYW1lLiBZb3UgY2FuIG9ubHkgY2FsbCB0aGlzIG1ldGhvZCBvbgog\nICAgICogY29sdW1ucyB3aG9zZSB0YWJsZSBvYmplY3QgaXMgbm90IHNldC4K\nICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0VGFibGVOYW1lKFN0cmluZyBu\nYW1lKSB7CiAgICAgICAgaWYgKGdldFRhYmxlKCkgIT0gbnVsbCkKICAgICAg\nICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOwogICAg\nICAgIF90YWJsZU5hbWUgPSBuYW1lOwogICAgICAgIF9mdWxsTmFtZSA9IG51\nbGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGNvbHVtbiB0\nYWJsZSdzIHNjaGVtYSBuYW1lLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5n\nIGdldFNjaGVtYU5hbWUoKSB7CiAgICAgICAgcmV0dXJuIF9zY2hlbWFOYW1l\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBjb2x1bW4gdGFibGUn\ncyBzY2hlbWEgbmFtZS4gWW91IGNhbiBvbmx5IGNhbGwgdGhpcyBtZXRob2Qg\nb24KICAgICAqIGNvbHVtbnMgd2hvc2UgdGJhbGUgb2JqZWN0IGlzIG5vdCBz\nZXQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNjaGVtYU5hbWUoU3Ry\naW5nIHNjaGVtYSkgewogICAgICAgIGlmIChnZXRUYWJsZSgpICE9IG51bGwp\nCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24o\nKTsKICAgICAgICBfc2NoZW1hTmFtZSA9IHNjaGVtYTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiB0aGUgY29sdW1uJ3MgbmFtZS4KICAgICAqLwog\nICAgcHVibGljIFN0cmluZyBnZXRDb2x1bW5OYW1lKCkgewogICAgICAgIHJl\ndHVybiBfY29sdW1uTmFtZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0\naGUgY29sdW1uJ3MgbmFtZS4gWW91IGNhbiBvbmx5IGNhbGwgdGhpcyBtZXRo\nb2Qgb24KICAgICAqIGNvbHVtbnMgd2hvc2UgdGFibGUgb2JqZWN0IGlzIG5v\ndCBzZXQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldENvbHVtbk5hbWUo\nU3RyaW5nIG5hbWUpIHsKICAgICAgICBpZiAoZ2V0VGFibGUoKSAhPSBudWxs\nKQogICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9u\nKCk7CiAgICAgICAgX2NvbHVtbk5hbWUgPSBuYW1lOwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIHRoZSBuYW1lIG9mIHRoZSBjb25zdHJhaW50Lgog\nICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7CiAgICAgICAg\ncmV0dXJuIF9uYW1lOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBu\nYW1lIG9mIHRoZSBjb25zdHJhaW50LiBUaGlzIG1ldGhvZCBjYW5ub3QgYmUg\nY2FsbGVkIGlmIHRoZQogICAgICogY29uc3RyYWludCBhbHJlYWR5IGJlbG9u\nZ3MgdG8gYSB0YWJsZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0TmFt\nZShTdHJpbmcgbmFtZSkgewogICAgICAgIGlmIChnZXRUYWJsZSgpICE9IG51\nbGwpCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRp\nb24oKTsKICAgICAgICBfbmFtZSA9IG5hbWU7CiAgICAgICAgX2Z1bGxOYW1l\nID0gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgZnVs\nbCBuYW1lIG9mIHRoZSBjb25zdHJhaW50LgogICAgICovCiAgICBwdWJsaWMg\nU3RyaW5nIGdldEZ1bGxOYW1lKCkgewogICAgICAgIGlmIChfZnVsbE5hbWUg\nPT0gbnVsbCkgewogICAgICAgICAgICBTdHJpbmcgbmFtZSA9IGdldE5hbWUo\nKTsKICAgICAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkKICAgICAgICAgICAg\nICAgIHJldHVybiBudWxsOwogICAgICAgICAgICBTdHJpbmcgdG5hbWUgPSBn\nZXRUYWJsZU5hbWUoKTsKICAgICAgICAgICAgaWYgKHRuYW1lID09IG51bGwp\nCiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTsKICAgICAgICAgICAgX2Z1\nbGxOYW1lID0gdG5hbWUgKyAiLiIgKyBuYW1lOwogICAgICAgIH0KICAgICAg\nICByZXR1cm4gX2Z1bGxOYW1lOwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIHdoZXRoZXIgdGhpcyBjb25zdHJhaW50IGlzIGEgbG9naWNhbCBjb25z\ndHJhaW50IG9ubHk7IGkuZS4KICAgICAqIGlmIGl0IGRvZXMgbm90IGV4aXN0\nIGluIHRoZSBkYXRhYmFzZS4KICAgICAqLwogICAgcHVibGljIGFic3RyYWN0\nIGJvb2xlYW4gaXNMb2dpY2FsKCk7CgogICAgLyoqCiAgICAgKiBSZXR1cm4g\ndHJ1ZSBpZiB0aGlzIGlzIGEgZGVmZXJyZWQgY29uc3RyYWludC4KICAgICAq\nLwogICAgcHVibGljIGJvb2xlYW4gaXNEZWZlcnJlZCgpIHsKICAgICAgICBy\nZXR1cm4gX2RlZmVycmVkOwogICAgfQoKICAgIC8qKgogICAgICogTWFrZSB0\naGlzIGNvbnN0cmFpbiBkZWZlcnJlZC4KICAgICAqLwogICAgcHVibGljIHZv\naWQgc2V0RGVmZXJyZWQoYm9vbGVhbiBkZWZlcnJlZCkgewogICAgICAgIF9k\nZWZlcnJlZCA9IGRlZmVycmVkOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\ndG9TdHJpbmcoKSB7CiAgICAgICAgaWYgKGdldE5hbWUoKSAhPSBudWxsKQog\nICAgICAgICAgICByZXR1cm4gZ2V0TmFtZSgpOwoKICAgICAgICBTdHJpbmcg\nbmFtZSA9IGdldENsYXNzKCkuZ2V0TmFtZSgpOwogICAgICAgIG5hbWUgPSBu\nYW1lLnN1YnN0cmluZyhuYW1lLmxhc3RJbmRleE9mKCcuJykgKyAxKTsKICAg\nICAgICByZXR1cm4gIjwiICsgbmFtZS50b0xvd2VyQ2FzZSgpICsgIj4iOwog\nICAgfQp9Cg==\n","encoding":"base64"}

