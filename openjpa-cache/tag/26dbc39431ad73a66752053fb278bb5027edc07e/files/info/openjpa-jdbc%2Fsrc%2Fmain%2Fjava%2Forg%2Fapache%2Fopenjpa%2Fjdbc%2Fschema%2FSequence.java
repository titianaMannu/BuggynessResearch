{"sha":"cde443b99b0e04c8cbaafbb0f7040e93f3967d61","node_id":"MDQ6QmxvYjIwNjM2NDpjZGU0NDNiOTliMGUwNGM4Y2JhYWZiYjBmNzA0MGU5M2YzOTY3ZDYx","size":5278,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cde443b99b0e04c8cbaafbb0f7040e93f3967d61","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgamF2YS5pby5GaWxlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIubWV0YS5Tb3VyY2VUcmFja2VyOwoKLyoqCiAqIFJlcHJlc2VudHMgYSBk\nYXRhYmFzZSBzZXF1ZW5jZS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICov\nCnB1YmxpYyBjbGFzcyBTZXF1ZW5jZQogICAgZXh0ZW5kcyBSZWZlcmVuY2VD\nb3VudGVyCiAgICBpbXBsZW1lbnRzIENvbXBhcmFibGUsIFNvdXJjZVRyYWNr\nZXIgewoKICAgIHByaXZhdGUgU3RyaW5nIF9uYW1lID0gbnVsbDsKICAgIHBy\naXZhdGUgU3RyaW5nIF9mdWxsTmFtZSA9IG51bGw7CiAgICBwcml2YXRlIFNj\naGVtYSBfc2NoZW1hID0gbnVsbDsKICAgIHByaXZhdGUgU3RyaW5nIF9zY2hl\nbWFOYW1lID0gbnVsbDsKICAgIHByaXZhdGUgaW50IF9pbml0aWFsID0gMTsK\nICAgIHByaXZhdGUgaW50IF9pbmNyZW1lbnQgPSAxOwogICAgcHJpdmF0ZSBp\nbnQgX2NhY2hlID0gMDsKICAgIHByaXZhdGUgaW50IF9saW5lTnVtID0gMDsg\nIAogICAgcHJpdmF0ZSBpbnQgX2NvbE51bSA9IDA7ICAKCiAgICAvLyBrZWVw\nIHRyYWNrIG9mIHNvdXJjZQogICAgcHJpdmF0ZSBGaWxlIF9zb3VyY2UgPSBu\ndWxsOwogICAgcHJpdmF0ZSBpbnQgX3NyY1R5cGUgPSBTUkNfT1RIRVI7Cgog\nICAgLyoqCiAgICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yLgogICAgICovCiAg\nICBwdWJsaWMgU2VxdWVuY2UoKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBD\nb25zdHJ1Y3Rvci4KICAgICAqCiAgICAgKiBAcGFyYW0gbmFtZSB0aGUgc2Vx\ndWVuY2UgbmFtZQogICAgICogQHBhcmFtIHNjaGVtYSB0aGUgc2VxdWVuY2Ug\nc2NoZW1hCiAgICAgKi8KICAgIHB1YmxpYyBTZXF1ZW5jZShTdHJpbmcgbmFt\nZSwgU2NoZW1hIHNjaGVtYSkgewogICAgICAgIHNldE5hbWUobmFtZSk7CiAg\nICAgICAgaWYgKHNjaGVtYSAhPSBudWxsKQogICAgICAgICAgICBzZXRTY2hl\nbWFOYW1lKHNjaGVtYS5nZXROYW1lKCkpOwogICAgICAgIF9zY2hlbWEgPSBz\nY2hlbWE7CiAgICB9CgogICAgLyoqCiAgICAgKiBDYWxsZWQgd2hlbiB0aGUg\nc2VxdWVuY2UgaXMgcmVtb3ZlZCBmcm9tIGl0cyBzY2hlbWEuCiAgICAgKi8K\nICAgIHZvaWQgcmVtb3ZlKCkgewogICAgICAgIF9zY2hlbWEgPSBudWxsOwog\nICAgICAgIF9mdWxsTmFtZSA9IG51bGw7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gdGhlIHNjaGVtYSBmb3IgdGhlIHNlcXVlbmNlLgogICAgICov\nCiAgICBwdWJsaWMgU2NoZW1hIGdldFNjaGVtYSgpIHsKICAgICAgICByZXR1\ncm4gX3NjaGVtYTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzZXF1ZW5j\nZSdzIHNjaGVtYSBuYW1lLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndFNjaGVtYU5hbWUoKSB7CiAgICAgICAgcmV0dXJuIF9zY2hlbWFOYW1lOwog\nICAgfQoKICAgIC8qKgogICAgICogVGhlIHNlcXVlbmNlJ3Mgc2NoZW1hIG5h\nbWUuIFlvdSBjYW4gb25seSBjYWxsIHRoaXMgbWV0aG9kIG9uIHNlcXVlbmNl\ncwogICAgICogd2hvc2Ugc2NoZW1hIG9iamVjdCBpcyBub3Qgc2V0LgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBzZXRTY2hlbWFOYW1lKFN0cmluZyBuYW1l\nKSB7CiAgICAgICAgaWYgKGdldFNjaGVtYSgpICE9IG51bGwpCiAgICAgICAg\nICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsKICAgICAg\nICBfc2NoZW1hTmFtZSA9IG5hbWU7CiAgICAgICAgX2Z1bGxOYW1lID0gbnVs\nbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgbmFtZSBvZiB0\naGUgc2VxdWVuY2UuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0TmFt\nZSgpIHsKICAgICAgICByZXR1cm4gX25hbWU7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBTZXQgdGhlIG5hbWUgb2YgdGhlIHNlcXVlbmNlLiBUaGlzIG1ldGhv\nZCBjYW4gb25seSBiZSBjYWxsZWQgb24KICAgICAqIHNlcXVlbmNlcyB0aGF0\nIGFyZSBub3QgcGFydCBvZiBhIHNjaGVtYS4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgc2V0TmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIGlmIChnZXRT\nY2hlbWEoKSAhPSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdh\nbFN0YXRlRXhjZXB0aW9uKCk7CiAgICAgICAgX25hbWUgPSBuYW1lOwogICAg\nICAgIF9mdWxsTmFtZSA9IG51bGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gdGhlIHNlcXVlbmNlIG5hbWUsIGluY2x1ZGluZyBzY2hlbWEsIHVz\naW5nICcuJyBhcyB0aGUKICAgICAqIGNhdGFsb2cgc2VwYXJhdG9yLgogICAg\nICovCiAgICBwdWJsaWMgU3RyaW5nIGdldEZ1bGxOYW1lKCkgewogICAgICAg\nIGlmIChfZnVsbE5hbWUgPT0gbnVsbCkgewogICAgICAgICAgICBTY2hlbWEg\nc2NoZW1hID0gZ2V0U2NoZW1hKCk7CiAgICAgICAgICAgIGlmIChzY2hlbWEg\nPT0gbnVsbCB8fCBzY2hlbWEuZ2V0TmFtZSgpID09IG51bGwpCiAgICAgICAg\nICAgICAgICBfZnVsbE5hbWUgPSBnZXROYW1lKCk7CiAgICAgICAgICAgIGVs\nc2UKICAgICAgICAgICAgICAgIF9mdWxsTmFtZSA9IHNjaGVtYS5nZXROYW1l\nKCkgKyAiLiIgKyBnZXROYW1lKCk7CiAgICAgICAgfQogICAgICAgIHJldHVy\nbiBfZnVsbE5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgc2VxdWVu\nY2UncyBpbml0aWFsIHZhbHVlLgogICAgICovCiAgICBwdWJsaWMgaW50IGdl\ndEluaXRpYWxWYWx1ZSgpIHsKICAgICAgICByZXR1cm4gX2luaXRpYWw7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUaGUgc2VxdWVuY2UncyBpbml0aWFsIHZh\nbHVlLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRJbml0aWFsVmFsdWUo\naW50IGluaXRpYWwpIHsKICAgICAgICBfaW5pdGlhbCA9IGluaXRpYWw7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUaGUgc2VxdWVuY2UncyBpbmNyZW1lbnQu\nCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0SW5jcmVtZW50KCkgewogICAg\nICAgIHJldHVybiBfaW5jcmVtZW50OwogICAgfQoKICAgIC8qKgogICAgICog\nVGhlIHNlcXVlbmNlJ3MgaW5jcmVtZW50LgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCBzZXRJbmNyZW1lbnQoaW50IGluY3JlbWVudCkgewogICAgICAgIF9p\nbmNyZW1lbnQgPSBpbmNyZW1lbnQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBU\naGUgc2VxdWVuY2UncyBjYWNoZSBzaXplLgogICAgICovCiAgICBwdWJsaWMg\naW50IGdldEFsbG9jYXRlKCkgewogICAgICAgIHJldHVybiBfY2FjaGU7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUaGUgc2VxdWVuY2UncyBjYWNoZSBzaXpl\nLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRBbGxvY2F0ZShpbnQgY2Fj\naGUpIHsKICAgICAgICBfY2FjaGUgPSBjYWNoZTsKICAgIH0KCiAgICBwdWJs\naWMgRmlsZSBnZXRTb3VyY2VGaWxlKCkgewogICAgICAgIHJldHVybiBfc291\ncmNlOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0U291cmNlU2NvcGUo\nKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIGlu\ndCBnZXRTb3VyY2VUeXBlKCkgewogICAgICAgIHJldHVybiBfc3JjVHlwZTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTb3VyY2UoRmlsZSBzb3VyY2Us\nIGludCBzcmNUeXBlKSB7CiAgICAgICAgX3NvdXJjZSA9IHNvdXJjZTsKICAg\nICAgICBfc3JjVHlwZSA9IHNyY1R5cGU7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRSZXNvdXJjZU5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGdldEZ1\nbGxOYW1lKCk7CiAgICB9CgogICAgcHVibGljIGludCBjb21wYXJlVG8oT2Jq\nZWN0IG90aGVyKSB7CiAgICAgICAgU3RyaW5nIG5hbWUgPSBnZXRGdWxsTmFt\nZSgpOwogICAgICAgIFN0cmluZyBvdGhlck5hbWUgPSAoKFNlcXVlbmNlKSBv\ndGhlcikuZ2V0RnVsbE5hbWUoKTsKICAgICAgICBpZiAobmFtZSA9PSBudWxs\nICYmIG90aGVyTmFtZSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gMDsK\nICAgICAgICBpZiAobmFtZSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4g\nMTsKICAgICAgICBpZiAob3RoZXJOYW1lID09IG51bGwpCiAgICAgICAgICAg\nIHJldHVybiAtMTsKICAgICAgICByZXR1cm4gbmFtZS5jb21wYXJlVG8ob3Ro\nZXJOYW1lKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkg\newogICAgICAgIHJldHVybiBnZXRGdWxsTmFtZSgpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgaW50IGdldExpbmVOdW1iZXIoKSB7CiAgICAgICAgcmV0dXJu\nIF9saW5lTnVtOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExpbmVOdW1i\nZXIoaW50IGxpbmVOdW0pIHsKICAgICAgICBfbGluZU51bSA9IGxpbmVOdW07\nCiAgICB9CgogICAgcHVibGljIGludCBnZXRDb2xOdW1iZXIoKSB7CiAgICAg\nICAgcmV0dXJuIF9jb2xOdW07CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nQ29sTnVtYmVyKGludCBjb2xOdW0pIHsKICAgICAgICBfY29sTnVtID0gY29s\nTnVtOwogICAgfQp9Cg==\n","encoding":"base64"}

