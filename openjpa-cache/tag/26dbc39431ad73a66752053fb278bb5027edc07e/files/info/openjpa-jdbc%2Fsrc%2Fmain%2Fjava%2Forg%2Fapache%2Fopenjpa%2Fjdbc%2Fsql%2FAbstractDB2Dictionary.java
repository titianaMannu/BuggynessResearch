{"sha":"af138d57a1327bb52de4cfa23f0cad144551fa66","node_id":"MDQ6QmxvYjIwNjM2NDphZjEzOGQ1N2ExMzI3YmI1MmRlNGNmYTIzZjBjYWQxNDQ1NTFmYTY2","size":4683,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/af138d57a1327bb52de4cfa23f0cad144551fa66","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLmV4cHMuRmlsdGVyVmFs\ndWU7CgovKioKICogQmFzZSBkaWN0aW9uYXJ5IGZvciB0aGUgSUJNIERCMiBm\nYW1pbHkgb2YgZGF0YWJhc2VzLgogKi8KcHVibGljIGFic3RyYWN0IGNsYXNz\nIEFic3RyYWN0REIyRGljdGlvbmFyeQogICAgZXh0ZW5kcyBEQkRpY3Rpb25h\ncnkgewoKICAgIHB1YmxpYyBpbnQgdmFyY2hhckNhc3RMZW5ndGggPSAxMDAw\nOwoKICAgIHB1YmxpYyBBYnN0cmFjdERCMkRpY3Rpb25hcnkoKSB7CiAgICAg\nICAgbnVtZXJpY1R5cGVOYW1lID0gIkRPVUJMRSI7CiAgICAgICAgYml0VHlw\nZU5hbWUgPSAiU01BTExJTlQiOwogICAgICAgIHNtYWxsaW50VHlwZU5hbWUg\nPSAiU01BTExJTlQiOwogICAgICAgIHRpbnlpbnRUeXBlTmFtZSA9ICJTTUFM\nTElOVCI7CiAgICAgICAgbG9uZ1ZhcmJpbmFyeVR5cGVOYW1lID0gIkJMT0Ii\nOwogICAgICAgIHZhcmJpbmFyeVR5cGVOYW1lID0gIkJMT0IiOwoKICAgICAg\nICAvLyBEQjItYmFzZWQgZGF0YWJhc2VzIGhhdmUgcmVzdHJpY3Rpb25zIG9u\nIGhhdmluZyB1bmNhc3QgcGFyYW1ldGVycwogICAgICAgIC8vIGluIHN0cmlu\nZyBmdW5jdGlvbnMKICAgICAgICB0b1VwcGVyQ2FzZUZ1bmN0aW9uID0gIlVQ\nUEVSKENBU1QoezB9IEFTIFZBUkNIQVIoIiArIHZhcmNoYXJDYXN0TGVuZ3Ro\nCiAgICAgICAgICAgICsgIikpKSI7CiAgICAgICAgdG9Mb3dlckNhc2VGdW5j\ndGlvbiA9ICJMT1dFUihDQVNUKHswfSBBUyBWQVJDSEFSKCIgKyB2YXJjaGFy\nQ2FzdExlbmd0aAogICAgICAgICAgICArICIpKSkiOwogICAgICAgIHN0cmlu\nZ0xlbmd0aEZ1bmN0aW9uID0gIkxFTkdUSCh7MH0pIjsKICAgICAgICBjb25j\nYXRlbmF0ZUZ1bmN0aW9uID0gIihDQVNUKHswfSBBUyBWQVJDSEFSKCIgKyB2\nYXJjaGFyQ2FzdExlbmd0aAogICAgICAgICAgICArICIpKSl8fChDQVNUKHsx\nfSBBUyBWQVJDSEFSKDEwMDApKSkiOwoKICAgICAgICB0cmltTGVhZGluZ0Z1\nbmN0aW9uID0gIkxUUklNKHswfSkiOwogICAgICAgIHRyaW1UcmFpbGluZ0Z1\nbmN0aW9uID0gIlJUUklNKHswfSkiOwogICAgICAgIHRyaW1Cb3RoRnVuY3Rp\nb24gPSAiTFRSSU0oUlRSSU0oezB9KSkiOwoKICAgICAgICAvLyBpbiBEQjIs\nICJmb3IgdXBkYXRlIiBzZWVtcyB0byBiZSBpZ25vcmVkIHdpdGggaXNvbGF0\naW9uCiAgICAgICAgLy8gbGV2ZWxzIGJlbG93IFJFUEVBVEFCTEVfUkVBRC4u\nLiBmb3JjZSBpc29sYXRpb24gdG8gYmVoYXZlIGxpa2UgUlIKICAgICAgICBm\nb3JVcGRhdGVDbGF1c2UgPSAiRk9SIFVQREFURSBXSVRIIFJSIjsKCiAgICAg\nICAgc3VwcG9ydHNMb2NraW5nV2l0aERpc3RpbmN0Q2xhdXNlID0gZmFsc2U7\nCiAgICAgICAgc3VwcG9ydHNMb2NraW5nV2l0aE11bHRpcGxlVGFibGVzID0g\nZmFsc2U7CiAgICAgICAgc3VwcG9ydHNMb2NraW5nV2l0aE9yZGVyQ2xhdXNl\nID0gZmFsc2U7CiAgICAgICAgc3VwcG9ydHNMb2NraW5nV2l0aE91dGVySm9p\nbiA9IGZhbHNlOwogICAgICAgIHN1cHBvcnRzTG9ja2luZ1dpdGhJbm5lckpv\naW4gPSBmYWxzZTsKICAgICAgICBzdXBwb3J0c0xvY2tpbmdXaXRoU2VsZWN0\nUmFuZ2UgPSB0cnVlOwoKICAgICAgICByZXF1aXJlc0F1dG9Db21taXRGb3JN\nZXRhRGF0YSA9IHRydWU7CiAgICAgICAgcmVxdWlyZXNBbGlhc0ZvclN1YnNl\nbGVjdCA9IHRydWU7CgogICAgICAgIHN1cHBvcnRzQXV0b0Fzc2lnbiA9IHRy\ndWU7CiAgICAgICAgYXV0b0Fzc2lnbkNsYXVzZSA9ICJHRU5FUkFURUQgQlkg\nREVGQVVMVCBBUyBJREVOVElUWSI7CiAgICAgICAgbGFzdEdlbmVyYXRlZEtl\neVF1ZXJ5ID0gIlZBTFVFUyhJREVOVElUWV9WQUxfTE9DQUwoKSkiOwoKICAg\nICAgICAvLyBEQjIgZG9lc24ndCB1bmRlcnN0YW5kICJYIENST1NTIEpPSU4g\nWSIsIGJ1dCBpdCBkb2VzIHVuZGVyc3RhbmQKICAgICAgICAvLyB0aGUgZXF1\naXZhbGVudCAiWCBKT0lOIFkgT04gMSA9IDEiCiAgICAgICAgY3Jvc3NKb2lu\nQ2xhdXNlID0gIkpPSU4iOwogICAgICAgIHJlcXVpcmVzQ29uZGl0aW9uRm9y\nQ3Jvc3NKb2luID0gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBpbmRl\neE9mKFNRTEJ1ZmZlciBidWYsIEZpbHRlclZhbHVlIHN0ciwgRmlsdGVyVmFs\ndWUgZmluZCwKICAgICAgICBGaWx0ZXJWYWx1ZSBzdGFydCkgewogICAgICAg\nIGJ1Zi5hcHBlbmQoIihMT0NBVEUoQ0FTVCgoIik7CiAgICAgICAgZmluZC5h\ncHBlbmRUbyhidWYpOwogICAgICAgIGJ1Zi5hcHBlbmQoIikgQVMgVkFSQ0hB\nUigiKS5hcHBlbmQoSW50ZWdlci50b1N0cmluZyh2YXJjaGFyQ2FzdExlbmd0\naCkpCiAgICAgICAgICAgIC5hcHBlbmQoIikpLCBDQVNUKCgiKTsKICAgICAg\nICBzdHIuYXBwZW5kVG8oYnVmKTsKICAgICAgICBidWYuYXBwZW5kKCIpIEFT\nIFZBUkNIQVIoIikuYXBwZW5kKEludGVnZXIudG9TdHJpbmcodmFyY2hhckNh\nc3RMZW5ndGgpKQogICAgICAgICAgICAuYXBwZW5kKCIpKSIpOwogICAgICAg\nIGlmIChzdGFydCAhPSBudWxsKSB7CiAgICAgICAgICAgIGJ1Zi5hcHBlbmQo\nIiwgQ0FTVCgoIik7CiAgICAgICAgICAgIHN0YXJ0LmFwcGVuZFRvKGJ1Zik7\nCiAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIikgQVMgSU5URUdFUikgKyAxIik7\nCiAgICAgICAgfQogICAgICAgIGJ1Zi5hcHBlbmQoIikgLSAxKSIpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHN1YnN0cmluZyhTUUxCdWZmZXIgYnVmLCBG\naWx0ZXJWYWx1ZSBzdHIsIEZpbHRlclZhbHVlIHN0YXJ0LAogICAgICAgIEZp\nbHRlclZhbHVlIGVuZCkgewogICAgICAgIGJ1Zi5hcHBlbmQoIlNVQlNUUihD\nQVNUKCgiKTsKICAgICAgICBzdHIuYXBwZW5kVG8oYnVmKTsKICAgICAgICBi\ndWYuYXBwZW5kKCIpIEFTIFZBUkNIQVIoIikuYXBwZW5kKEludGVnZXIudG9T\ndHJpbmcodmFyY2hhckNhc3RMZW5ndGgpKQogICAgICAgICAgICAuYXBwZW5k\nKCIpKSwgIik7CiAgICAgICAgaWYgKHN0YXJ0LmdldFZhbHVlKCkgaW5zdGFu\nY2VvZiBOdW1iZXIpIHsKICAgICAgICAgICAgbG9uZyBzdGFydExvbmcgPSB0\nb0xvbmcoc3RhcnQpOwogICAgICAgICAgICBidWYuYXBwZW5kKExvbmcudG9T\ndHJpbmcoc3RhcnRMb25nICsgMSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAg\nICAgICAgIGJ1Zi5hcHBlbmQoIkNBU1QoKCIpOwogICAgICAgICAgICBzdGFy\ndC5hcHBlbmRUbyhidWYpOwogICAgICAgICAgICBidWYuYXBwZW5kKCIpIEFT\nIElOVEVHRVIpICsgMSIpOwogICAgICAgIH0KICAgICAgICBpZiAoZW5kICE9\nIG51bGwpIHsKICAgICAgICAgICAgYnVmLmFwcGVuZCgiLCAiKTsKICAgICAg\nICAgICAgaWYgKHN0YXJ0LmdldFZhbHVlKCkgaW5zdGFuY2VvZiBOdW1iZXIK\nICAgICAgICAgICAgICAgICYmIGVuZC5nZXRWYWx1ZSgpIGluc3RhbmNlb2Yg\nTnVtYmVyKSB7CiAgICAgICAgICAgICAgICBsb25nIHN0YXJ0TG9uZyA9IHRv\nTG9uZyhzdGFydCk7CiAgICAgICAgICAgICAgICBsb25nIGVuZExvbmcgPSB0\nb0xvbmcoZW5kKTsKICAgICAgICAgICAgICAgIGJ1Zi5hcHBlbmQoTG9uZy50\nb1N0cmluZyhlbmRMb25nIC0gc3RhcnRMb25nKSk7CiAgICAgICAgICAgIH0g\nZWxzZSB7CiAgICAgICAgICAgICAgICBidWYuYXBwZW5kKCJDQVNUKCgiKTsK\nICAgICAgICAgICAgICAgIGVuZC5hcHBlbmRUbyhidWYpOwogICAgICAgICAg\nICAgICAgYnVmLmFwcGVuZCgiKSBBUyBJTlRFR0VSKSAtIENBU1QoKCIpOwog\nICAgICAgICAgICAgICAgc3RhcnQuYXBwZW5kVG8oYnVmKTsKICAgICAgICAg\nICAgICAgIGJ1Zi5hcHBlbmQoIikgQVMgSU5URUdFUikiKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0KICAgICAgICBidWYuYXBwZW5kKCIpIik7CiAgICB9\nCn0K\n","encoding":"base64"}

