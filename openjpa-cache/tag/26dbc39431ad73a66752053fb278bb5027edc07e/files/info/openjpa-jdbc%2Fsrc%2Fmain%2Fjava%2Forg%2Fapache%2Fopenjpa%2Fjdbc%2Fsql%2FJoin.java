{"sha":"2ace5d99da2967ff5bc4d437181b21eca37dc0bb","node_id":"MDQ6QmxvYjIwNjM2NDoyYWNlNWQ5OWRhMjk2N2ZmNWJjNGQ0MzcxODFiMjFlY2EzN2RjMGJi","size":4749,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2ace5d99da2967ff5bc4d437181b21eca37dc0bb","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5DbGFzc01hcHBpbmc7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuRm9yZWlnbktl\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5UYWJs\nZTsKCi8qKgogKiBSZXByZXNlbnRzIGEgU1FMIGpvaW4uCiAqCiAqIEBhdXRo\nb3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgSm9pbgogICAgaW1wbGVt\nZW50cyBDbG9uZWFibGUsIEpvaW5TeW50YXhlcyB7CgogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBpbnQgVFlQRV9JTk5FUiA9IDA7CiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIGludCBUWVBFX09VVEVSID0gMTsKICAgIHB1YmxpYyBzdGF0\naWMgZmluYWwgaW50IFRZUEVfQ1JPU1MgPSAyOwoKICAgIHByaXZhdGUgaW50\nIF90eXBlID0gVFlQRV9JTk5FUjsKCiAgICBwcml2YXRlIGludCBfYWxpYXMx\nOwogICAgcHJpdmF0ZSBpbnQgX2FsaWFzMjsKICAgIHByaXZhdGUgVGFibGUg\nX3RhYmxlMTsKICAgIHByaXZhdGUgVGFibGUgX3RhYmxlMjsKICAgIHByaXZh\ndGUgRm9yZWlnbktleSBfZms7CiAgICBwcml2YXRlIENsYXNzTWFwcGluZyBf\ndGFyZ2V0OwogICAgcHJpdmF0ZSBpbnQgX3N1YnM7CiAgICBwcml2YXRlIEpv\naW5zIF9qb2luczsKICAgIHByaXZhdGUgYm9vbGVhbiBfaW52ZXJzZTsKCiAg\nICAvKioKICAgICAqIENvbnN0cnVjdG9yIGZvciBpbm5lciBhbmQgb3V0ZXIg\nam9pbnMuCiAgICAgKi8KICAgIEpvaW4oVGFibGUgdGFibGUxLCBpbnQgYWxp\nYXMxLCBUYWJsZSB0YWJsZTIsIGludCBhbGlhczIsIEZvcmVpZ25LZXkgZmss\nCiAgICAgICAgYm9vbGVhbiBpbnZlcnNlKSB7CiAgICAgICAgX3RhYmxlMSA9\nIHRhYmxlMTsKICAgICAgICBfYWxpYXMxID0gYWxpYXMxOwogICAgICAgIF90\nYWJsZTIgPSB0YWJsZTI7CiAgICAgICAgX2FsaWFzMiA9IGFsaWFzMjsKICAg\nICAgICBfZmsgPSBmazsKICAgICAgICBfaW52ZXJzZSA9IGludmVyc2U7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBQcml2YXRlIGRlZmF1bHQgY29uc3RydWN0\nb3IuCiAgICAgKi8KICAgIHByaXZhdGUgSm9pbigpIHsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldFR5cGUoKSB7CiAgICAgICAgcmV0dXJuIF90eXBlOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFR5cGUoaW50IHR5cGUpIHsKICAg\nICAgICBfdHlwZSA9IHR5cGU7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRBbGlhczEoKSB7CiAgICAgICAgcmV0dXJuIFNlbGVjdEltcGwudG9BbGlh\ncyhfYWxpYXMxKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEFsaWFz\nMigpIHsKICAgICAgICByZXR1cm4gU2VsZWN0SW1wbC50b0FsaWFzKF9hbGlh\nczIpOwogICAgfQoKICAgIGludCBnZXRJbmRleDEoKSB7CiAgICAgICAgcmV0\ndXJuIF9hbGlhczE7CiAgICB9CgogICAgaW50IGdldEluZGV4MigpIHsKICAg\nICAgICByZXR1cm4gX2FsaWFzMjsKICAgIH0KCiAgICBwdWJsaWMgVGFibGUg\nZ2V0VGFibGUxKCkgewogICAgICAgIHJldHVybiBfdGFibGUxOwogICAgfQoK\nICAgIHB1YmxpYyBUYWJsZSBnZXRUYWJsZTIoKSB7CiAgICAgICAgcmV0dXJu\nIF90YWJsZTI7CiAgICB9CgogICAgcHVibGljIEZvcmVpZ25LZXkgZ2V0Rm9y\nZWlnbktleSgpIHsKICAgICAgICByZXR1cm4gX2ZrOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGlzRm9yZWlnbktleUludmVyc2VkKCkgewogICAgICAg\nIHJldHVybiBfaW52ZXJzZTsKICAgIH0KCiAgICAvKioKICAgICAqIElmIGpv\naW5pbmcgYSByZWxhdGlvbiwgdGhlIHRhcmdldCB0eXBlLiAgCiAgICAgKi8K\nICAgIHB1YmxpYyBDbGFzc01hcHBpbmcgZ2V0UmVsYXRpb25UYXJnZXQoKSB7\nCiAgICAgICAgcmV0dXJuIF90YXJnZXQ7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBJZiBqb2luaW5nIGEgcmVsYXRpb24sIGhvdyB0byBkZWFsIHdpdGggc3Vi\nY2xhc3Nlcy4gIFNlZSBzdWJjbGFzcwogICAgICogY29uc3RhbnRzIGluIHtA\nbGluayBTZWxlY3R9LgogICAgICovCiAgICBwdWJsaWMgaW50IGdldFN1YmNs\nYXNzZXMoKSB7CiAgICAgICAgcmV0dXJuIF9zdWJzOwogICAgfQoKICAgIC8q\nKgogICAgICogSWYgam9pbmluZyBhIHJlbGF0aW9uLCB0aGUgam9pbnMgbGVh\nZGluZyB0byB0aGUgcmVsYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyBKb2lu\ncyBnZXRSZWxhdGlvbkpvaW5zKCkgewogICAgICAgIHJldHVybiBfam9pbnM7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBXaGVuIGpvaW5pbmcgYSByZWxhdGlv\nbiwgc2V0IHRhcmdldCB0eXBlIGFuZCBob3cgdG8gZGVhbCB3aXRoCiAgICAg\nKiBzdWJjbGFzc2VzLiAgU2VlIHN1YmNsYXNzIGNvbnN0YW50cyBpbiB7QGxp\nbmsgI1NlbGVjdH0uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFJlbGF0\naW9uKENsYXNzTWFwcGluZyB0YXJnZXQsIGludCBzdWJzLCBKb2lucyBqb2lu\ncykgewogICAgICAgIF90YXJnZXQgPSB0YXJnZXQ7CiAgICAgICAgX3N1YnMg\nPSBzdWJzOwogICAgICAgIF9qb2lucyA9IGpvaW5zOwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIGEgam9pbiB0aGF0IGlzIHRoaXMgam9pbiBpbiBy\nZXZlcnNlLgogICAgICovCiAgICBwdWJsaWMgSm9pbiByZXZlcnNlKCkgewog\nICAgICAgIEpvaW4gam9pbiA9IG5ldyBKb2luKCk7CiAgICAgICAgam9pbi5f\ndHlwZSA9IF90eXBlOwogICAgICAgIGpvaW4uX3RhYmxlMSA9IF90YWJsZTI7\nCiAgICAgICAgam9pbi5fYWxpYXMxID0gX2FsaWFzMjsKICAgICAgICBqb2lu\nLl90YWJsZTIgPSBfdGFibGUxOwogICAgICAgIGpvaW4uX2FsaWFzMiA9IF9h\nbGlhczE7CiAgICAgICAgam9pbi5faW52ZXJzZSA9ICFfaW52ZXJzZTsKICAg\nICAgICBqb2luLl9mayA9IF9mazsKICAgICAgICBqb2luLl90YXJnZXQgPSBf\ndGFyZ2V0OwogICAgICAgIGpvaW4uX3N1YnMgPSBfc3ViczsKICAgICAgICBq\nb2luLl9qb2lucyA9IF9qb2luczsKICAgICAgICByZXR1cm4gam9pbjsKICAg\nIH0KCiAgICBwdWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgIHJldHVy\nbiBfYWxpYXMxIF4gX2FsaWFzMjsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiBlcXVhbHMoT2JqZWN0IG90aGVyKSB7CiAgICAgICAgaWYgKG90aGVyID09\nIHRoaXMpCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIGlmICgh\nKG90aGVyIGluc3RhbmNlb2YgSm9pbikpCiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKCiAgICAgICAgSm9pbiBqID0gKEpvaW4pIG90aGVyOwogICAgICAg\nIHJldHVybiAoX2FsaWFzMSA9PSBqLl9hbGlhczEgJiYgX2FsaWFzMiA9PSBq\nLl9hbGlhczIpCiAgICAgICAgICAgIHx8IChfYWxpYXMxID09IGouX2FsaWFz\nMiAmJiBfYWxpYXMyID09IGouX2FsaWFzMSk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICBTdHJpbmcgdHlwZVN0cmlu\nZzsKICAgICAgICBpZiAoX3R5cGUgPT0gVFlQRV9DUk9TUykKICAgICAgICAg\nICAgdHlwZVN0cmluZyA9ICJjcm9zcyI7CiAgICAgICAgZWxzZSBpZiAoX3R5\ncGUgPT0gVFlQRV9JTk5FUikKICAgICAgICAgICAgdHlwZVN0cmluZyA9ICJp\nbm5lciI7CiAgICAgICAgZWxzZQogICAgICAgICAgICB0eXBlU3RyaW5nID0g\nIm91dGVyIjsKICAgICAgICByZXR1cm4gIjwiICsgU3lzdGVtLmlkZW50aXR5\nSGFzaENvZGUodGhpcykgKyAiPiB0IgogICAgICAgICAgICArIF9hbGlhczEg\nKyAiLT50IiArIF9hbGlhczIgKyAiICgiICsgdHlwZVN0cmluZyArICIpIjsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGNsb25lKCkgewogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHJldHVybiBzdXBlci5jbG9uZSgpOwogICAgICAg\nIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJldHVybiBu\ndWxsOwogICAgICAgIH0KICAgIH0KfQoK\n","encoding":"base64"}

