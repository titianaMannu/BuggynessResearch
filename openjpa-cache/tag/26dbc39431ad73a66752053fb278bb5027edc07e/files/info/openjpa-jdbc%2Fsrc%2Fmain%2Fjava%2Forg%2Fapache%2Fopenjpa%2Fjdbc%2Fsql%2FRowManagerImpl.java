{"sha":"47a0b513661698ef82acaa6cf49d648b87a90650","node_id":"MDQ6QmxvYjIwNjM2NDo0N2EwYjUxMzY2MTY5OGVmODJhY2FhNmNmNDlkNjQ4Yjg3YTkwNjUw","size":8530,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/47a0b513661698ef82acaa6cf49d648b87a90650","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5zcWwuU1FMRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGlsLkFycmF5\nTGlzdDsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2\nYS51dGlsLkNvbGxlY3Rpb25zOwppbXBvcnQgamF2YS51dGlsLkxpbmtlZEhh\nc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRp\nbC5NYXA7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1h\nLlRhYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5PcGVu\nSlBBU3RhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0\naWwuSW50ZXJuYWxFeGNlcHRpb247CgovKioKICogTWFuYWdlcyBTUUwgcm93\ncyBkdXJpbmcgYW4gaW5zZXJ0L3VwZGF0ZS9kZWxldGUgcHJvY2Vzcy4KICoK\nICogQGF1dGhvciBBYmUgV2hpdGUKICogQG5vamF2YWRvYwogKi8KcHVibGlj\nIGNsYXNzIFJvd01hbmFnZXJJbXBsCiAgICBpbXBsZW1lbnRzIFJvd01hbmFn\nZXIgewoKICAgIHByaXZhdGUgTWFwPEtleSwgUHJpbWFyeVJvdz4gX2luc2Vy\ndHMgPSBudWxsOwogICAgcHJpdmF0ZSBNYXA8S2V5LCBQcmltYXJ5Um93PiBf\ndXBkYXRlcyA9IG51bGw7CiAgICBwcml2YXRlIE1hcDxLZXksIFByaW1hcnlS\nb3c+IF9kZWxldGVzID0gbnVsbDsKICAgIHByaXZhdGUgQ29sbGVjdGlvbjxT\nZWNvbmRhcnlSb3c+IF9zZWNvbmRhcnlVcGRhdGVzID0gbnVsbDsKICAgIHBy\naXZhdGUgQ29sbGVjdGlvbjxTZWNvbmRhcnlSb3c+IF9zZWNvbmRhcnlEZWxl\ndGVzID0gbnVsbDsKICAgIHByaXZhdGUgQ29sbGVjdGlvbjxSb3c+IF9hbGxS\nb3dVcGRhdGVzID0gbnVsbDsKICAgIHByaXZhdGUgQ29sbGVjdGlvbjxSb3c+\nIF9hbGxSb3dEZWxldGVzID0gbnVsbDsKCiAgICAvLyB3ZSBtYWludGFpbiBh\nIGxpc3Qgb2YgdGhlIG9yZGVyIG9mIGFsbCBwcmltYXJ5IHJvd3MgaWYgdGhl\nIHVzZXIKICAgIC8vIHdhbnRzIHRvIGJlIGFibGUgdG8gZmV0Y2ggdGhlbSBp\nbiBvcmRlcgogICAgcHJpdmF0ZSBmaW5hbCBMaXN0PFByaW1hcnlSb3c+IF9w\ncmltYXJ5T3JkZXI7CgogICAgLy8gdHJhY2sgd2hldGhlciB3ZSdyZSBkZWFs\naW5nIHdpdGggYW55IGF1dG8taW5jIGNvbHVtbnMKICAgIHByaXZhdGUgYm9v\nbGVhbiBfYXV0byA9IGZhbHNlOwoKICAgIC8vIGNhY2hlIHRoZSBsYXN0IGtl\neSBhbmQgcHJpbWFyeSByb3c7IHdoZW4gbG9vcGluZyBvdmVyCiAgICAvLyBh\nbGwgdGhlIGZpZWxkIG1hcHBpbmdzIG9mIGEgY2xhc3MgZWFjaCBvbmUgd2ls\nbCBwcm9iYWJseSBhc2sgZm9yIHRoZQogICAgLy8gc2FtZSBrZXksIHNvIGF2\nb2lkIHRoZSBrZXkgY3JlYXRpb24gYW5kIHJvdyBsb29rdXAgd2hlbiBwb3Nz\naWJsZQogICAgcHJpdmF0ZSBLZXkgX2tleSA9IG51bGw7CiAgICBwcml2YXRl\nIFByaW1hcnlSb3cgX3JvdyA9IG51bGw7CgogICAgLyoqCiAgICAgKiBDb25z\ndHJ1Y3Rvci4KICAgICAqCiAgICAgKiBAcGFyYW0gb3JkZXIgd2hldGhlciB0\nbyBrZWVwIHRyYWNrIG9mIHRoZSBvcmRlciBpbiB3aGljaCByb3dzIGFyZSBh\nZGRlZAogICAgICovCiAgICBwdWJsaWMgUm93TWFuYWdlckltcGwoYm9vbGVh\nbiBvcmRlcikgewogICAgICAgIF9wcmltYXJ5T3JkZXIgPSAob3JkZXIpID8g\nbmV3IEFycmF5TGlzdDxQcmltYXJ5Um93PigpIDogbnVsbDsKICAgIH0KCiAg\nICAvKioKICAgICAqIFdoZXRoZXIgYW55IHByaW1hcnkgcm93cyBoYXZlIGF1\ndG8tYXNzaWduIGNvbnN0cmFpbnRzLgogICAgICovCiAgICBwdWJsaWMgYm9v\nbGVhbiBoYXNBdXRvQXNzaWduQ29uc3RyYWludHMoKSB7CiAgICAgICAgcmV0\ndXJuIF9hdXRvOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBv\ncmRlcmVkIHByaW1hcnkgcm93cy4gT25seSBhdmFpbGFibGUgaWYgb3JkZXJp\nbmcgcmVxdWVzdGVkCiAgICAgKiBvbiBjb25zdHJ1Y3Rpb24uCiAgICAgKi8K\nICAgIHB1YmxpYyBMaXN0PFByaW1hcnlSb3c+IGdldE9yZGVyZWQoKSB7CiAg\nICAgICAgaWYoX3ByaW1hcnlPcmRlciA9PSBudWxsICkgeyAKICAgICAgICAg\nICAgcmV0dXJuIENvbGxlY3Rpb25zLmVtcHR5TGlzdCgpOwogICAgICAgIH0K\nICAgICAgICBlbHNlIHsgCiAgICAgICAgICAgIHJldHVybiBfcHJpbWFyeU9y\nZGVyOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBh\nbGwgaW5zZXJ0ZWQgcHJpbWFyeSByb3dzLgogICAgICovCiAgICBwdWJsaWMg\nQ29sbGVjdGlvbjxQcmltYXJ5Um93PiBnZXRJbnNlcnRzKCkgewogICAgICAg\nIGlmKF9pbnNlcnRzID09IG51bGwgKSB7CiAgICAgICAgICAgIHJldHVybiBD\nb2xsZWN0aW9ucy5lbXB0eUxpc3QoKTsKICAgICAgICB9CiAgICAgICAgZWxz\nZSB7CiAgICAgICAgICAgIHJldHVybiBfaW5zZXJ0cy52YWx1ZXMoKTsKICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYWxsIHVwZGF0\nZWQgcHJpbWFyeSByb3dzLgogICAgICovCiAgICBwdWJsaWMgQ29sbGVjdGlv\nbjxQcmltYXJ5Um93PiBnZXRVcGRhdGVzKCkgewogICAgICAgIGlmKF91cGRh\ndGVzID09IG51bGwgKXsgCiAgICAgICAgICAgIHJldHVybiBDb2xsZWN0aW9u\ncy5lbXB0eUxpc3QoKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7IAogICAg\nICAgICAgICByZXR1cm4gX3VwZGF0ZXMudmFsdWVzKCk7CiAgICAgICAgfQog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGFsbCBkZWxldGVkIHByaW1h\ncnkgcm93cy4KICAgICAqLwogICAgcHVibGljIENvbGxlY3Rpb248UHJpbWFy\neVJvdz4gZ2V0RGVsZXRlcygpIHsKICAgICAgICBpZihfZGVsZXRlcyA9PSBu\ndWxsKSB7IAogICAgICAgICAgICByZXR1cm4gQ29sbGVjdGlvbnMuZW1wdHlM\naXN0KCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBy\nZXR1cm4gX2RlbGV0ZXMudmFsdWVzKCk7CiAgICAgICAgfQogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIGFsbCBpbnNlcnRlZCBhbmQgdXBkYXRlZCBz\nZWNvbmRhcnkgcm93cy4KICAgICAqLwogICAgcHVibGljIENvbGxlY3Rpb248\nU2Vjb25kYXJ5Um93PiBnZXRTZWNvbmRhcnlVcGRhdGVzKCkgewogICAgICAg\nIGlmKF9zZWNvbmRhcnlVcGRhdGVzID09IG51bGwpIHsgCiAgICAgICAgICAg\nIHJldHVybiBDb2xsZWN0aW9ucy5lbXB0eUxpc3QoKTsKICAgICAgICB9CiAg\nICAgICAgZWxzZSB7IAogICAgICAgICAgICByZXR1cm4gX3NlY29uZGFyeVVw\nZGF0ZXM7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIGFsbCBkZWxldGVkIHNlY29uZGFyeSByb3dzLgogICAgICovCiAgICBwdWJs\naWMgQ29sbGVjdGlvbjxTZWNvbmRhcnlSb3c+IGdldFNlY29uZGFyeURlbGV0\nZXMoKSB7CiAgICAgICAgaWYoX3NlY29uZGFyeURlbGV0ZXMgPT0gbnVsbCkg\neyAKICAgICAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25zLmVtcHR5TGlzdCgp\nOwogICAgICAgIH0KICAgICAgICBlbHNlIHsgCiAgICAgICAgICAgIHJldHVy\nbiBfc2Vjb25kYXJ5RGVsZXRlczsKICAgICAgICB9CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSZXR1cm4gYW55ICdhbGwgcm93JyB1cGRhdGVzLgogICAgICov\nCiAgICBwdWJsaWMgQ29sbGVjdGlvbjxSb3c+IGdldEFsbFJvd1VwZGF0ZXMo\nKSB7CiAgICAgICAgaWYoX2FsbFJvd1VwZGF0ZXMgPT0gbnVsbCkgeyAKICAg\nICAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25zLmVtcHR5TGlzdCgpOwogICAg\nICAgIH0KICAgICAgICBlbHNlIHsgCiAgICAgICAgICAgIHJldHVybiBfYWxs\nUm93VXBkYXRlczsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gYW55ICdhbGwgcm93JyBkZWxldGVzLgogICAgICovCiAgICBwdWJs\naWMgQ29sbGVjdGlvbjxSb3c+IGdldEFsbFJvd0RlbGV0ZXMoKSB7CiAgICAg\nICAgaWYoX2FsbFJvd0RlbGV0ZXMgPT0gbnVsbCkgeyAKICAgICAgICAgICAg\ncmV0dXJuIENvbGxlY3Rpb25zLmVtcHR5TGlzdCgpOwogICAgICAgIH0KICAg\nICAgICBlbHNlIHsgCiAgICAgICAgICAgIHJldHVybiBfYWxsUm93RGVsZXRl\nczsKICAgICAgICB9CiAgICAgICAgCiAgICB9CgogICAgcHVibGljIFJvdyBn\nZXRTZWNvbmRhcnlSb3coVGFibGUgdGFibGUsIGludCBhY3Rpb24pIHsKICAg\nICAgICByZXR1cm4gbmV3IFNlY29uZGFyeVJvdyh0YWJsZSwgYWN0aW9uKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBmbHVzaFNlY29uZGFyeVJvdyhSb3cg\ncm93KQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGlm\nICghcm93LmlzVmFsaWQoKSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAg\nICBTZWNvbmRhcnlSb3cgc3JvdyA9IChTZWNvbmRhcnlSb3cpIHJvdzsKICAg\nICAgICBpZiAoc3Jvdy5nZXRBY3Rpb24oKSA9PSBSb3cuQUNUSU9OX0RFTEVU\nRSkgewogICAgICAgICAgICBpZiAoX3NlY29uZGFyeURlbGV0ZXMgPT0gbnVs\nbCkKICAgICAgICAgICAgICAgIF9zZWNvbmRhcnlEZWxldGVzID0gbmV3IEFy\ncmF5TGlzdDxTZWNvbmRhcnlSb3c+KCk7CiAgICAgICAgICAgIF9zZWNvbmRh\ncnlEZWxldGVzLmFkZCgoU2Vjb25kYXJ5Um93KSBzcm93LmNsb25lKCkpOwog\nICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChfc2Vjb25kYXJ5VXBk\nYXRlcyA9PSBudWxsKQogICAgICAgICAgICAgICAgX3NlY29uZGFyeVVwZGF0\nZXMgPSBuZXcgQXJyYXlMaXN0PFNlY29uZGFyeVJvdz4oKTsKICAgICAgICAg\nICAgX3NlY29uZGFyeVVwZGF0ZXMuYWRkKChTZWNvbmRhcnlSb3cpIHNyb3cu\nY2xvbmUoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBSb3cgZ2V0\nQWxsUm93cyhUYWJsZSB0YWJsZSwgaW50IGFjdGlvbikgewogICAgICAgIHJl\ndHVybiBuZXcgUm93SW1wbCh0YWJsZSwgYWN0aW9uKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBmbHVzaEFsbFJvd3MoUm93IHJvdykgewogICAgICAgIGlm\nICghcm93LmlzVmFsaWQoKSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAg\nICBzd2l0Y2ggKHJvdy5nZXRBY3Rpb24oKSkgewogICAgICAgICAgICBjYXNl\nIFJvdy5BQ1RJT05fVVBEQVRFOgogICAgICAgICAgICAgICAgaWYgKF9hbGxS\nb3dVcGRhdGVzID09IG51bGwpCiAgICAgICAgICAgICAgICAgICAgX2FsbFJv\nd1VwZGF0ZXMgPSBuZXcgQXJyYXlMaXN0PFJvdz4oKTsKICAgICAgICAgICAg\nICAgIF9hbGxSb3dVcGRhdGVzLmFkZChyb3cpOwogICAgICAgICAgICAgICAg\nYnJlYWs7CiAgICAgICAgICAgIGNhc2UgUm93LkFDVElPTl9ERUxFVEU6CiAg\nICAgICAgICAgICAgICBpZiAoX2FsbFJvd0RlbGV0ZXMgPT0gbnVsbCkKICAg\nICAgICAgICAgICAgICAgICBfYWxsUm93RGVsZXRlcyA9IG5ldyBBcnJheUxp\nc3Q8Um93PigpOwogICAgICAgICAgICAgICAgX2FsbFJvd0RlbGV0ZXMuYWRk\nKHJvdyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVm\nYXVsdDoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEV4Y2Vw\ndGlvbigiYWN0aW9uID0gIiArIHJvdy5nZXRBY3Rpb24oKSk7CiAgICAgICAg\nfQogICAgfQoKICAgIHB1YmxpYyBSb3cgZ2V0Um93KFRhYmxlIHRhYmxlLCBp\nbnQgYWN0aW9uLCBPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLAogICAgICAgIGJv\nb2xlYW4gY3JlYXRlKSB7CiAgICAgICAgaWYgKHNtID09IG51bGwpCiAgICAg\nICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICAvLyBjaGVjayBpZiByZXF1\nZXN0IG1hdGNoZXMgY2FjaGVkIHZlcnNpb24KICAgICAgICBpZiAoX2tleSAh\nPSBudWxsICYmIF9rZXkudGFibGUgPT0gdGFibGUgJiYgX2tleS5zbSA9PSBz\nbQogICAgICAgICAgICAmJiBfcm93ICE9IG51bGwgJiYgX3Jvdy5nZXRBY3Rp\nb24oKSA9PSBhY3Rpb24pCiAgICAgICAgICAgIHJldHVybiBfcm93OwoKICAg\nICAgICBNYXA8S2V5LCBQcmltYXJ5Um93PiBtYXA7CiAgICAgICAgaWYgKGFj\ndGlvbiA9PSBSb3cuQUNUSU9OX0RFTEVURSkgewogICAgICAgICAgICBpZiAo\nX2RlbGV0ZXMgPT0gbnVsbCAmJiBjcmVhdGUpCiAgICAgICAgICAgICAgICBf\nZGVsZXRlcyA9IG5ldyBMaW5rZWRIYXNoTWFwPEtleSwgUHJpbWFyeVJvdz4o\nKTsKICAgICAgICAgICAgbWFwID0gX2RlbGV0ZXM7CiAgICAgICAgfSBlbHNl\nIGlmIChhY3Rpb24gPT0gUm93LkFDVElPTl9JTlNFUlQpIHsKICAgICAgICAg\nICAgaWYgKF9pbnNlcnRzID09IG51bGwgJiYgY3JlYXRlKQogICAgICAgICAg\nICAgICAgX2luc2VydHMgPSBuZXcgTGlua2VkSGFzaE1hcDxLZXksIFByaW1h\ncnlSb3c+KCk7CiAgICAgICAgICAgIG1hcCA9IF9pbnNlcnRzOwogICAgICAg\nIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChfdXBkYXRlcyA9PSBudWxsICYm\nIGNyZWF0ZSkKICAgICAgICAgICAgICAgIF91cGRhdGVzID0gbmV3IExpbmtl\nZEhhc2hNYXA8S2V5LCBQcmltYXJ5Um93PigpOwogICAgICAgICAgICBtYXAg\nPSBfdXBkYXRlczsKICAgICAgICB9CiAgICAgICAgaWYgKG1hcCA9PSBudWxs\nKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAgX2tleSA9IG5l\ndyBLZXkodGFibGUsIHNtKTsKICAgICAgICBfcm93ID0gbWFwLmdldChfa2V5\nKTsKCiAgICAgICAgaWYgKF9yb3cgPT0gbnVsbCAmJiBjcmVhdGUpIHsKICAg\nICAgICAgICAgX3JvdyA9IG5ldyBQcmltYXJ5Um93KHRhYmxlLCBhY3Rpb24s\nIHNtKTsKICAgICAgICAgICAgbWFwLnB1dChfa2V5LCBfcm93KTsKICAgICAg\nICAgICAgaWYgKF9wcmltYXJ5T3JkZXIgIT0gbnVsbCkgewogICAgICAgICAg\nICAgICAgX3Jvdy5zZXRJbmRleChfcHJpbWFyeU9yZGVyLnNpemUoKSk7CiAg\nICAgICAgICAgICAgICBfcHJpbWFyeU9yZGVyLmFkZChfcm93KTsKICAgICAg\nICAgICAgfQoKICAgICAgICAgICAgaWYgKCFfYXV0byAmJiBhY3Rpb24gPT0g\nUm93LkFDVElPTl9JTlNFUlQpCiAgICAgICAgICAgICAgICBfYXV0byA9IHRh\nYmxlLmdldEF1dG9Bc3NpZ25lZENvbHVtbnMoKS5sZW5ndGggPiAwOwogICAg\nICAgIH0KCiAgICAgICAgaWYgKF9yb3cgIT0gbnVsbCkKICAgICAgICAgICAg\nX3Jvdy5zZXRGYWlsZWRPYmplY3Qoc20uZ2V0TWFuYWdlZEluc3RhbmNlKCkp\nOwogICAgICAgIHJldHVybiBfcm93OwogICAgfQoKICAgIC8qKgogICAgICog\nS2V5IGZvciBoYXNoaW5nIHZpcnR1YWwgcm93cy4KICAgICAqLwogICAgcHJp\ndmF0ZSBzdGF0aWMgY2xhc3MgS2V5IHsKCiAgICAgICAgcHVibGljIGZpbmFs\nIFRhYmxlIHRhYmxlOwogICAgICAgIHB1YmxpYyBmaW5hbCBPcGVuSlBBU3Rh\ndGVNYW5hZ2VyIHNtOwoKICAgICAgICBwdWJsaWMgS2V5KFRhYmxlIHRhYmxl\nLCBPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtKSB7CiAgICAgICAgICAgIHRoaXMu\ndGFibGUgPSB0YWJsZTsKICAgICAgICAgICAgdGhpcy5zbSA9IHNtOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIGludCBoYXNoQ29kZSgpIHsKICAgICAg\nICAgICAgcmV0dXJuICh0YWJsZS5oYXNoQ29kZSgpICsgc20uaGFzaENvZGUo\nKSkgJSBJbnRlZ2VyLk1BWF9WQUxVRTsKICAgICAgICB9CgogICAgICAgIHB1\nYmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb3RoZXIpIHsKICAgICAgICAg\nICAgaWYgKG90aGVyID09IHRoaXMpCiAgICAgICAgICAgICAgICByZXR1cm4g\ndHJ1ZTsKCiAgICAgICAgICAgIEtleSBrZXkgPSAoS2V5KSBvdGhlcjsKICAg\nICAgICAgICAgcmV0dXJuIHRhYmxlID09IGtleS50YWJsZSAmJiBzbSA9PSBr\nZXkuc207CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

