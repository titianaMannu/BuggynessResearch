{"sha":"5ed844a4b8b6f4957a240bd5cc173f0f8d165ca5","node_id":"MDQ6QmxvYjIwNjM2NDo1ZWQ4NDRhNGI4YjZmNDk1N2EyNDBiZDVjYzE3M2YwZjhkMTY1Y2E1","size":5101,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5ed844a4b8b6f4957a240bd5cc173f0f8d165ca5","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLnNxbDsNCg0KaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247DQppbXBvcnQg\namF2YS5pby5JbnB1dFN0cmVhbTsNCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlM\naXN0Ow0KaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOw0KaW1wb3J0IGphdmEu\ndXRpbC5MaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5NYXA7DQoNCmltcG9ydCBq\nYXZheC54bWwucGFyc2Vycy5Eb2N1bWVudEJ1aWxkZXI7DQoNCmltcG9ydCBv\ncmcuYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsNCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mLkpEQkNDb25maWd1cmF0aW9u\nOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rp\nb25hcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5sb2cuTG9n\nOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6\nZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi54bWwuWE1MRmFj\ndG9yeTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5TdG9yZUV4\nY2VwdGlvbjsNCmltcG9ydCBvcmcudzNjLmRvbS5Eb2N1bWVudDsNCmltcG9y\ndCBvcmcudzNjLmRvbS5FbGVtZW50Ow0KaW1wb3J0IG9yZy53M2MuZG9tLk5h\nbWVkTm9kZU1hcDsNCmltcG9ydCBvcmcudzNjLmRvbS5Ob2RlOw0KaW1wb3J0\nIG9yZy53M2MuZG9tLk5vZGVMaXN0Ow0KDQovKioNCiAqIFBhcnNlcyBYTUwg\nY29udGVudCBvZiBTUUwgRXJyb3IgU3RhdGUgY29kZXMgdG8gcG9wdWxhdGUg\nZXJycm8gY29kZXMgZm9yDQogKiBhIGdpdmVuIERhdGFiYXNlIERpY3Rpb25h\ncnkuDQogKiANCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcg0KICogDQogKi8N\nCnB1YmxpYyBjbGFzcyBTUUxFcnJvckNvZGVSZWFkZXIgew0KCXByaXZhdGUg\nTG9nIGxvZyA9IG51bGw7DQoJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcg\nRVJST1JfQ09ERV9ERUxJTUlURVIgPSAiLCI7DQoJcHVibGljIHN0YXRpYyBm\naW5hbCBNYXA8U3RyaW5nLCBJbnRlZ2VyPiBzdG9yZUVycm9yVHlwZXMgPSAN\nCgkJbmV3IEhhc2hNYXA8U3RyaW5nLCBJbnRlZ2VyPigpOw0KCXN0YXRpYyB7\nDQoJCXN0b3JlRXJyb3JUeXBlcy5wdXQoImxvY2siLCBTdG9yZUV4Y2VwdGlv\nbi5MT0NLKTsNCgkJc3RvcmVFcnJvclR5cGVzLnB1dCgib2JqZWN0LWV4aXN0\ncyIsIFN0b3JlRXhjZXB0aW9uLk9CSkVDVF9FWElTVFMpOw0KCQlzdG9yZUVy\ncm9yVHlwZXMNCgkJCQkucHV0KCJvYmplY3Qtbm90LWZvdW5kIiwgU3RvcmVF\neGNlcHRpb24uT0JKRUNUX05PVF9GT1VORCk7DQoJCXN0b3JlRXJyb3JUeXBl\ncy5wdXQoIm9wdGltaXN0aWMiLCBTdG9yZUV4Y2VwdGlvbi5PUFRJTUlTVElD\nKTsNCgkJc3RvcmVFcnJvclR5cGVzLnB1dCgicmVmZXJlbnRpYWwtaW50ZWdy\naXR5IiwNCgkJCQlTdG9yZUV4Y2VwdGlvbi5SRUZFUkVOVElBTF9JTlRFR1JJ\nVFkpOw0KDQoJfQ0KCQ0KCXByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXpl\nciBfbG9jID0gDQoJCUxvY2FsaXplci5mb3JQYWNrYWdlKFNRTEVycm9yQ29k\nZVJlYWRlci5jbGFzcyk7DQoJDQoJcHVibGljIExpc3Q8U3RyaW5nPiBnZXRE\naWN0aW9uYXJpZXMoSW5wdXRTdHJlYW0gaW4pIHsNCgkJTGlzdDxTdHJpbmc+\nIHJlc3VsdCA9IG5ldyBBcnJheUxpc3Q8U3RyaW5nPigpOw0KCQlEb2N1bWVu\ndEJ1aWxkZXIgYnVpbGRlciA9IFhNTEZhY3RvcnkuZ2V0RE9NUGFyc2VyKGZh\nbHNlLCBmYWxzZSk7DQoJCXRyeSB7DQoJCQlEb2N1bWVudCBkb2MgPSBidWls\nZGVyLnBhcnNlKGluKTsNCgkJCUVsZW1lbnQgcm9vdCA9IGRvYy5nZXREb2N1\nbWVudEVsZW1lbnQoKTsNCgkJCU5vZGVMaXN0IG5vZGVzID0gcm9vdC5nZXRF\nbGVtZW50c0J5VGFnTmFtZSgiZGljdGlvbmFyeSIpOw0KCQkJZm9yIChpbnQg\naSA9IDA7IGkgPCBub2Rlcy5nZXRMZW5ndGgoKTsgaSsrKSB7DQoJCQkJTm9k\nZSBub2RlID0gbm9kZXMuaXRlbShpKTsNCgkJCQlOYW1lZE5vZGVNYXAgYXR0\ncnMgPSBub2RlLmdldEF0dHJpYnV0ZXMoKTsNCgkJCQlOb2RlIGRpY3Rpb25h\ncnkgPSBhdHRycy5nZXROYW1lZEl0ZW0oImNsYXNzIik7DQoJCQkJaWYgKGRp\nY3Rpb25hcnkgIT0gbnVsbCkgew0KCQkJCSAgIHJlc3VsdC5hZGQoZGljdGlv\nbmFyeS5nZXROb2RlVmFsdWUoKSk7DQoJCQkJfQ0KCQkJfQ0KCQl9IGNhdGNo\nIChUaHJvd2FibGUgZSkgew0KCQkJaWYgKGxvZy5pc1dhcm5FbmFibGVkKCkp\nIHsNCgkJCQlsb2cuZXJyb3IoX2xvYy5nZXQoImVycm9yLWNvZGUtcGFyc2Ut\nZXJyb3IiKSk7DQoJCQl9DQoJCX0gZmluYWxseSB7DQoJCQl0cnkgew0KCQkJ\nCWluLmNsb3NlKCk7DQoJCQl9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7DQoJ\nCQkJLy8gaWdub3JlDQoJCQl9DQoJCX0NCgkJcmV0dXJuIHJlc3VsdDsNCgl9\nDQoNCgkvKioNCgkgKiBQYXJzZXMgZ2l2ZW4gc3RyZWFtIG9mIFhNTCBjb250\nZW50IGZvciBlcnJvciBjb2RlcyBvZiB0aGUgZ2l2ZW4gZGF0YWJhc2UNCgkg\nKiBkaWN0aW9uYXJ5IG5hbWUuIFBvcHVsYXRlcyB0aGUgZ2l2ZW4gZGljdGlv\nbmFyeSB3aXRoIHRoZSBlcnJvciBjb2Rlcy4NCgkgKiANCgkgKi8NCglwdWJs\naWMgdm9pZCBwYXJzZShJbnB1dFN0cmVhbSBpbiwgU3RyaW5nIGRpY3ROYW1l\nLCBEQkRpY3Rpb25hcnkgZGljdCkgew0KCQlpZiAoaW4gPT0gbnVsbCB8fCBk\naWN0ID09IG51bGwpDQoJCQlyZXR1cm47DQoJCWxvZyA9IGRpY3QuY29uZi5n\nZXRMb2coSkRCQ0NvbmZpZ3VyYXRpb24uTE9HX0pEQkMpOw0KCQlEb2N1bWVu\ndEJ1aWxkZXIgYnVpbGRlciA9IFhNTEZhY3RvcnkuZ2V0RE9NUGFyc2VyKGZh\nbHNlLCBmYWxzZSk7DQoJCXRyeSB7DQoJCQlEb2N1bWVudCBkb2MgPSBidWls\nZGVyLnBhcnNlKGluKTsNCgkJCUVsZW1lbnQgcm9vdCA9IGRvYy5nZXREb2N1\nbWVudEVsZW1lbnQoKTsNCgkJCU5vZGVMaXN0IG5vZGVzID0gcm9vdC5nZXRF\nbGVtZW50c0J5VGFnTmFtZSgiZGljdGlvbmFyeSIpOw0KCQkJZm9yIChpbnQg\naSA9IDA7IGkgPCBub2Rlcy5nZXRMZW5ndGgoKTsgaSsrKSB7DQoJCQkJTm9k\nZSBub2RlID0gbm9kZXMuaXRlbShpKTsNCgkJCQlOYW1lZE5vZGVNYXAgYXR0\ncnMgPSBub2RlLmdldEF0dHJpYnV0ZXMoKTsNCgkJCQlOb2RlIGRpY3Rpb25h\ncnkgPSBhdHRycy5nZXROYW1lZEl0ZW0oImNsYXNzIik7DQoJCQkJaWYgKGRp\nY3Rpb25hcnkgIT0gbnVsbCANCgkJCQkgJiYgZGljdGlvbmFyeS5nZXROb2Rl\nVmFsdWUoKS5lcXVhbHMoZGljdE5hbWUpKSB7DQoJCQkJCXJlYWRFcnJvckNv\nZGVzKG5vZGUsIGRpY3QpOw0KCQkJCX0NCgkJCX0NCgkJfSBjYXRjaCAoVGhy\nb3dhYmxlIGUpIHsNCgkJCWlmIChsb2cuaXNXYXJuRW5hYmxlZCgpKSB7DQoJ\nCQkJbG9nLmVycm9yKF9sb2MuZ2V0KCJlcnJvci1jb2RlLXBhcnNlLWVycm9y\nIikpOw0KCQkJfQ0KCQl9IGZpbmFsbHkgew0KCQkJdHJ5IHsNCgkJCQlpbi5j\nbG9zZSgpOw0KCQkJfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgew0KCQkJCS8v\nIGlnbm9yZQ0KCQkJfQ0KCQl9DQoJfQ0KDQoJc3RhdGljIHZvaWQgcmVhZEVy\ncm9yQ29kZXMoTm9kZSBub2RlLCBEQkRpY3Rpb25hcnkgZGljdCkgew0KCQlO\nb2RlTGlzdCBjaGlsZHJlbiA9IG5vZGUuZ2V0Q2hpbGROb2RlcygpOw0KCQlm\nb3IgKGludCBpID0gMDsgaSA8IGNoaWxkcmVuLmdldExlbmd0aCgpOyBpKysp\nIHsNCgkJCU5vZGUgY2hpbGQgPSBjaGlsZHJlbi5pdGVtKGkpOw0KCQkJc2hv\ncnQgbm9kZVR5cGUgPSBjaGlsZC5nZXROb2RlVHlwZSgpOw0KCQkJaWYgKG5v\nZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFKSB7DQoJCQkJU3RyaW5nIGVy\ncm9yVHlwZSA9IGNoaWxkLmdldE5vZGVOYW1lKCk7DQoJCQkJTm9kZSB0ZXh0\nTm9kZSA9IGNoaWxkLmdldEZpcnN0Q2hpbGQoKTsNCgkJCQlpZiAoc3RvcmVF\ncnJvclR5cGVzLmNvbnRhaW5zS2V5KGVycm9yVHlwZSkgJiYgdGV4dE5vZGUg\nIT0gbnVsbCl7DQoJCQkJCVN0cmluZyBlcnJvckNvZGVzID0gdGV4dE5vZGUu\nZ2V0Tm9kZVZhbHVlKCk7DQoJCQkJCWlmICghU3RyaW5nVXRpbHMuaXNFbXB0\neShlcnJvckNvZGVzKSkgew0KCQkJCQkJU3RyaW5nW10gY29kZXMgPSBlcnJv\nckNvZGVzLnNwbGl0KEVSUk9SX0NPREVfREVMSU1JVEVSKTsNCgkJCQkJCWZv\nciAoU3RyaW5nIGNvZGUgOiBjb2Rlcykgew0KCQkJCQkJCWRpY3QuYWRkRXJy\nb3JDb2RlKHN0b3JlRXJyb3JUeXBlcy5nZXQoZXJyb3JUeXBlKSwNCgkJCQkJ\nCQkJCWNvZGUudHJpbSgpKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJ\nCX0NCgkJfQ0KCX0NCn0NCg==\n","encoding":"base64"}

