{"sha":"258fd8145e3036d977055824bda89cb3494fa568","node_id":"MDQ6QmxvYjIwNjM2NDoyNThmZDgxNDVlMzAzNmQ5NzcwNTU4MjRiZGE4OWNiMzQ5NGZhNTY4","size":21107,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/258fd8145e3036d977055824bda89cb3494fa568","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuYWJzdHJhY3RzdG9yZTsKCmlt\ncG9ydCBqYXZhLnV0aWwuQml0U2V0OwppbXBvcnQgamF2YS51dGlsLkNvbGxl\nY3Rpb247CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbnM7CmltcG9ydCBq\nYXZhLnV0aWwuSGFzaFNldDsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsK\naW1wb3J0IGphdmEudXRpbC5MaW5rZWRMaXN0OwoKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5jb25mLk9wZW5KUEFDb25maWd1cmF0aW9uOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNvbmZpZ3VyYXRpb25J\nbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5GZXRjaENv\nbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVs\nLkZldGNoQ29uZmlndXJhdGlvbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEua2VybmVsLk9wZW5KUEFTdGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLlBDU3RhdGU7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLlNlcTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5rZXJuZWwuU3RvcmVDb250ZXh0OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5TdG9yZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEua2VybmVsLlN0b3JlUXVlcnk7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLnJvcC5SZXN1bHRPYmplY3RQcm92aWRlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFEYXRhOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuVmFsdWVTdHJhdGVnaWVzOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuQXBwbGljYXRpb25JZHM7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5JZDsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS51dGlsLkltcGxIZWxwZXI7CgovKioKICogQWJzdHJh\nY3Qgc3RvcmUgbWFuYWdlciBpbXBsZW1lbnRhdGlvbiB0byBlYXNlIGRldmVs\nb3BtZW50IG9mIGN1c3RvbQogKiBPcGVuSlBBIGJhY2stZW5kcy4gQSBjb25j\ncmV0ZSBzdWJjbGFzcyBtdXN0IGRlZmluZSBpbXBsZW1lbnRhdGlvbnMgZm9y\nIHRoZQogKiBmb2xsb3dpbmcgbWV0aG9kczoKICogPHVsPgogKiA8bGk+e0Bs\naW5rIFN0b3JlTWFuYWdlciNleGlzdHN9PC9saT4KICogPGxpPntAbGluayAj\naW5pdGlhbGl6ZX08L2xpPgogKiA8bGk+e0BsaW5rICNsb2FkfTwvbGk+CiAq\nIDxsaT57QGxpbmsKICogI2ZsdXNoKENvbGxlY3Rpb24sQ29sbGVjdGlvbixD\nb2xsZWN0aW9uLENvbGxlY3Rpb24sQ29sbGVjdGlvbil9PC9saT4KICogPGxp\nPntAbGluayAjZXhlY3V0ZUV4dGVudH08L2xpPgogKiA8L3VsPiBBZGRpdGlv\nbmFsbHksIHN1YmNsYXNzZXMgc2hvdWxkIG5vdCBhdHRlbXB0IHRvIGFjcXVp\ncmUgcmVzb3VyY2VzCiAqIHVudGlsIHtAbGluayAjb3Blbn0gaGFzIGJlZW4g\nY2FsbGVkLiBTdG9yZSBtYW5hZ2VyIGluc3RhbmNlcyBtaWdodCBiZQogKiBj\ncmVhdGVkIHRvIGNhbGwgbWV0YWRhdGEgbWV0aG9kcyBzdWNoIGFzIHtAbGlu\nayAjbmV3Q29uZmlndXJhdGlvbn0gb3IKICoge0BsaW5rICNnZXRVbnN1cHBv\ncnRlZE9wdGlvbnN9IGFuZCBuZXZlciBvcGVuZWQuIFRoZXNlIGluc3RhbmNl\ncyBzaG91bGQKICogbm90IGNvbnN1bWUgYW55IGRhdGEgc3RvcmUgcmVzb3Vy\nY2VzLgogKiAgTm90ZXM6CiAqIDx1bD4KICogPGxpPlRoZSB7QGxpbmsgU3Rv\ncmVNYW5hZ2VyI2luaXRpYWxpemV9IG1ldGhvZCBpcyByZXNwb25zaWJsZQog\nKiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlcyBvZiBvYmplY3RzIGZyZXNo\nbHkgbG9hZGVkIGZyb20gdGhlCiAqIGRhdGFiYXNlLiBUaGUgbWV0aG9kIHdp\nbGwgYmUgaW52b2tlZCB3aXRoIGEge0BsaW5rIE9wZW5KUEFTdGF0ZU1hbmFn\nZXJ9CiAqIHRoYXQgdGhlIG5ld2x5LWxvYWRlZCBvYmplY3Qgc2hvdWxkIGJl\nIGFzc29jaWF0ZWQgd2l0aC4gVG8gY3JlYXRlIHRoZQogKiBuZXcgb2JqZWN0\nIGFuZCBzZXQgdXAgdGhpcyBhc3NvY2lhdGlvbiBjb3JyZWN0bHksIHRoZSBp\nbXBsZW1lbnRhdGlvbgogKiBzaG91bGQgdXNlIHRoZSB7QGxpbmsgT3BlbkpQ\nQVN0YXRlTWFuYWdlciNpbml0aWFsaXplfSBtZXRob2QuPC9saT4KICogPGxp\nPklmIHlvdXIgZGF0YSBzdG9yZSBzdXBwb3J0cyBzb21lIHNvcnQgb2YgdHJh\nbnNhY3Rpb24gb3IKICogdW5pdCBvZiB3b3JrLCB5b3Ugc2hvdWxkIG92ZXJy\naWRlIHRoZSB7QGxpbmsgI2JlZ2lufSwge0BsaW5rICNjb21taXR9LAogKiBh\nbmQge0BsaW5rICNyb2xsYmFja30gbWV0aG9kcy48L2xpPgogKiA8bGk+VGhp\ncyBjbGFzcyBwcm92aWRlcyBubyBpbmZyYXN0cnVjdHVyZSBzdXBwb3J0IGZv\nciBvcHRpbWlzdGljCiAqIHRyYW5zYWN0aW9ucy4gVG8gcHJvdmlkZSBvcHRp\nbWlzdGljIHRyYW5zYWN0aW9uIHN1cHBvcnQ6CiAqIDx1bD4KICogPGxpPk92\nZXJyaWRlIHtAbGluayAjYmVnaW5PcHRpbWlzdGljfSwge0BsaW5rICNyb2xs\nYmFja09wdGltaXN0aWN9LAogKiBhbmQge0BsaW5rICNzeW5jVmVyc2lvbn0u\nPC9saT4KICogPGxpPk92ZXJyaWRlIHtAbGluayAjZ2V0VW5zdXBwb3J0ZWRP\ncHRpb25zfSB0byBub3QgaW5jbHVkZSB7QGxpbmsKICogT3BlbkpQQUNvbmZp\nZ3VyYXRpb24jT1BUSU9OX09QVElNSVNUSUN9IGluIHRoZSBsaXN0IG9mIHVu\nc3VwcG9ydGVkCiAqIG9wdGlvbnMuPC9saT4KICogPGxpPkVuc3VyZSB0aGF0\nIHlvdXIgZmx1c2ggaW1wbGVtZW50YXRpb24gc2V0cyB0aGUgbmV4dAogKiB2\nZXJzaW9uIGZvciBlYWNoIG1vZGlmaWVkIG9iamVjdCB2aWEgdGhlIHtAbGlu\nawogKiBPcGVuSlBBU3RhdGVNYW5hZ2VyI3NldE5leHRWZXJzaW9ufSBtZXRo\nb2QuPC9saT4KICogPGxpPklmIHlvdXIgdmVyc2lvbiBvYmplY3QgZG9lcyBu\nb3QgaW1wbGVtZW50IHtAbGluayBDb21wYXJhYmxlfSwKICogb3ZlcnJpZGUg\ne0BsaW5rICNjb21wYXJlVmVyc2lvbn0sIHdoaWNoIHJlbGllcyBvbiB0aGUK\nICoge0BsaW5rIENvbXBhcmFibGUjY29tcGFyZVRvfSBtZXRob2QuPC9saT4K\nICogPC91bD48L2xpPgogKiA8bGk+SWYgeW91ciBkYXRhIHN0b3JlIHN1cHBv\ncnRzIGEgbWVjaGFuaXNtIGZvciBhdXRvbWF0aWNhbGx5CiAqIGdlbmVyYXRp\nbmcgYW5kIG1hbmFnaW5nIGlkZW50aXR5IHZhbHVlcyAob3IgaWYgeW91IHdh\nbnQgdG8KICogcHJvdmlkZSB0aGF0IGZhY2lsaXR5IG9uIHRvcCBvZiB5b3Vy\nIGRhdGEgc3RvcmUpLCBpbXBsZW1lbnQKICogdGhlIHtAbGluayAjZ2V0RGF0\nYVN0b3JlSWRTZXF1ZW5jZX0gbWV0aG9kIGlmIHlvdSB3YW50IHRvIHVzZSBh\nCiAqIDxjb2RlPmxvbmc8L2NvZGU+IGFzIHlvdXIgZGF0YXN0b3JlIGlkZW50\naXR5IHR5cGUgYW5kIGFyZQogKiBoYXBweSB3aXRoIE9wZW5KUEEncyB7QGxp\nbmsgSWR9IGNsYXNzLiBUbyB1c2UgYW5vdGhlciBkYXRhc3RvcmUgaWRlbnRp\ndHkKICogdHlwZSwgb3ZlcnJpZGUge0BsaW5rICNnZXRNYW5hZ2VkVHlwZX0s\nCiAqIHtAbGluayAjZ2V0RGF0YVN0b3JlSWRUeXBlfSwge0BsaW5rICNjb3B5\nRGF0YVN0b3JlSWR9LCBhbmQKICoge0BsaW5rICNuZXdEYXRhU3RvcmVJZH0g\naW5zdGVhZC4gSW4gZWl0aGVyIGNhc2UsIG92ZXJyaWRlCiAqIHtAbGluayAj\nZ2V0VW5zdXBwb3J0ZWRPcHRpb25zfSB0byBub3QgaW5jbHVkZQogKiB7QGxp\nbmsgT3BlbkpQQUNvbmZpZ3VyYXRpb24jT1BUSU9OX0lEX0RBVEFTVE9SRX0g\naW4gdGhlIGxpc3Qgb2YKICogdW5zdXBwb3J0ZWQgb3B0aW9ucy48L2xpPgog\nKiA8bGk+SWYgeW91ciBkYXRhIHN0b3JlIGRvZXMgbm90IHN1cHBvcnQgcXVl\ncmllcyAob3IgaWYgeW91IGRvCiAqIG5vdCB3YW50IHRvIGNvbnZlcnQgT3Bl\nbkpQQSdzIHF1ZXJ5IHBhcnNlIHRyZWUgaW50byBhCiAqIGRhdGFzdG9yZS1z\ncGVjaWZpYyBxdWVyeSksIHlvdSBzdGlsbCBoYXZlIHR3byBvcHRpb25zIGlu\nIHRlcm1zCiAqIG9mIHF1ZXJ5IGV4ZWN1dGlvbjoKICogPHVsPgogKiA8bGk+\nPGVtPkluLW1lbW9yeSBleGVjdXRpb248L2VtPjogSWYgeW91CiAqIGV4ZWN1\ndGUgYSBxdWVyeSBhZ2FpbnN0IGFuIGV4dGVudCBvciBhIGNsYXNzLCBPcGVu\nSlBBIHdpbGwKICogYXV0b21hdGljYWxseSBsb2FkIHRoZSBmdWxsIGV4dGVu\ndCBvZiBvYmplY3RzIGludG8gbWVtb3J5IGFuZAogKiBleGVjdXRlIHRoZSBx\ndWVyeSBpbiBtZW1vcnkuPC9saT4KICogPGxpPjxlbT5vcGVuanBhLk1ldGhv\nZFFMPC9lbT46IE1ldGhvZFFMIGFsbG93cwogKiB5b3UgdG8gdXNlIHRoZSBx\ndWVyeSBBUElzIHRvIGV4ZWN1dGUgYSBtZXRob2QgdGhhdCBmaW5kcwogKiBk\nYXRhIGluIHlvdXIgYmFjay1lbmQgYW5kIHJldHVybnMgdGhhdCBkYXRhIGFz\nIGEKICoge0BsaW5rIG9yZy5hcGFjaGUub3BlbmpwYS5saWIucm9wLlJlc3Vs\ndExpc3R9LiBGb3IgbW9yZSBkZXRhaWxzIG9uCiAqIE1ldGhvZFFMLCBzZWUg\ndGhlIE9wZW5KUEEgUmVmZXJlbmNlIEd1aWRlLjwvbGk+CiAqIDwvdWw+PC9s\naT4KICogPC91bD4KICoKICogQHNpbmNlIDAuMy4xCiAqLwpwdWJsaWMgYWJz\ndHJhY3QgY2xhc3MgQWJzdHJhY3RTdG9yZU1hbmFnZXIKICAgIGltcGxlbWVu\ndHMgU3RvcmVNYW5hZ2VyIHsKCiAgICBwcm90ZWN0ZWQgU3RvcmVDb250ZXh0\nIGN0eDsKCiAgICBwdWJsaWMgZmluYWwgdm9pZCBzZXRDb250ZXh0KFN0b3Jl\nQ29udGV4dCBjdHgpIHsKICAgICAgICB0aGlzLmN0eCA9IGN0eDsKICAgICAg\nICBvcGVuKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB7\nQGxpbmsgU3RvcmVDb250ZXh0fSB0aGF0IHRoaXMgc3RvcmUgbWFuYWdlciBp\ncwogICAgICogYXNzb2NpYXRlZCB3aXRoLgogICAgICovCiAgICBwdWJsaWMg\nU3RvcmVDb250ZXh0IGdldENvbnRleHQoKSB7CiAgICAgICAgcmV0dXJuIGN0\neDsKICAgIH0KCiAgICAvKioKICAgICAqIE5vLW9wIGltcGxlbWVudGF0aW9u\nLiBSZWFkeSB0aGlzIHN0b3JlIG1hbmFnZXIgZm9yIHBlcnNpc3RlbnQgb3Bl\ncmF0aW9ucy4KICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgb3BlbigpIHsK\nICAgIH0KCiAgICAvKioKICAgICAqIE5vLW9wIGltcGxlbWVudGF0aW9uLiBP\ndmVycmlkZSB0aGlzIG1ldGhvZCB0byBwcm92aWRlIG9wdGltaXN0aWMKICAg\nICAqIGxvY2tpbmcgc2VtYW50aWNzIGZvciB5b3VyIGRhdGEgc3RvcmUgaWYg\neW91IG5lZWQgbm90aWZpY2F0aW9uIG9mCiAgICAgKiB0aGUgYmVnaW5uaW5n\nIG9mIGFuIG9wdGltaXN0aWMgdHJhbnNhY3Rpb24uCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIGJlZ2luT3B0aW1pc3RpYygpIHsKICAgIH0KCiAgICAvKioK\nICAgICAqIE5vLW9wIGltcGxlbWVudGF0aW9uLiBPdmVycmlkZSB0aGlzIG1l\ndGhvZCB0byBwcm92aWRlIG9wdGltaXN0aWMKICAgICAqIGxvY2tpbmcgc2Vt\nYW50aWNzIGZvciB5b3VyIGRhdGEgc3RvcmUgaWYgeW91IG5lZWQgbm90aWZp\nY2F0aW9uIG9mCiAgICAgKiBhIHJvbGxiYWNrIG9mIGFuIG9wdGltaXN0aWMg\ndHJhbnNhY3Rpb24gYmVmb3JlIHtAbGluayAjYmVnaW59IGlzIGludm9rZWQu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHJvbGxiYWNrT3B0aW1pc3RpYygp\nIHsKICAgIH0KCiAgICAvKioKICAgICAqIE9wZW5KUEEgYXNzdW1lcyB0aGF0\nIGFmdGVyIHRoaXMgbWV0aG9kIGlzIGludm9rZWQsIGFsbCBkYXRhCiAgICAg\nKiBhY2Nlc3NlcyB0aHJvdWdoIHRoaXMgc3RvcmUgbWFuYWdlciB3aWxsIGJl\nIHBhcnQgb2YgYSBzaW5nbGUKICAgICAqIHVuaXQgb2Ygd29yayB0aGF0IGNh\nbiBiZSByb2xsZWQgYmFjay4KICAgICAqICBUaGlzIGlzIGEgbm8tb3AgaW1w\nbGVtZW50YXRpb24uIElmIHlvdXIgZGF0YSBzdG9yZSBkb2VzIG5vdAogICAg\nICogc3VwcG9ydCBhbnkgY29uY2VwdCBvZiBsb2NraW5nIG9yIHRyYW5zYWN0\naW9ucywgeW91IG5lZWQgbm90CiAgICAgKiBvdmVycmlkZSB0aGlzIG1ldGhv\nZC4KICAgICAqLwogICAgcHVibGljIHZvaWQgYmVnaW4oKSB7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBUaGlzIGlzIGEgbm8tb3AgaW1wbGVtZW50YXRpb24u\nIElmIHlvdXIgZGF0YSBzdG9yZSBkb2VzIG5vdAogICAgICogaGF2ZSBhIGNv\nbmNlcHQgb2YgdHJhbnNhY3Rpb25zIG9yIGEgdW5pdCBvZiB3b3JrLCB5b3Ug\nbmVlZCBub3QKICAgICAqIG92ZXJyaWRlIHRoaXMgbWV0aG9kLiBJZiBpdCBk\nb2VzLCB0aGVuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvCiAgICAgKiBub3Rp\nZnkgdGhlIGRhdGEgc3RvcmUgdGhhdCB0aGUgY3VycmVudCB0cmFuc2FjdGlv\nbiBzaG91bGQgYmUgY29tbWl0dGVkLgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBjb21taXQoKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIGlzIGEg\nbm8tb3AgaW1wbGVtZW50YXRpb24uIElmIHlvdXIgZGF0YSBzdG9yZSBkb2Vz\nIG5vdAogICAgICogaGF2ZSBhIGNvbmNlcHQgb2YgdHJhbnNhY3Rpb25zIG9y\nIGEgdW5pdCBvZiB3b3JrLCB5b3UgbmVlZCBub3QKICAgICAqIG92ZXJyaWRl\nIHRoaXMgbWV0aG9kLiBJZiBpdCBkb2VzLCB0aGVuIG92ZXJyaWRlIHRoaXMg\nbWV0aG9kIHRvCiAgICAgKiBub3RpZnkgdGhlIGRhdGEgc3RvcmUgdGhhdCB0\naGUgY3VycmVudCB0cmFuc2FjdGlvbiBzaG91bGQgYmUgcm9sbGVkIGJhY2su\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHJvbGxiYWNrKCkgewogICAgfQoK\nICAgIC8qKgogICAgICogU2luY2UgdGhpcyBzdG9yZSBtYW5hZ2VyIGRvZXMg\nbm90IHByb3ZpZGUgb3B0aW1pc3RpYyBsb2NraW5nCiAgICAgKiBzdXBwb3J0\nLCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyA8Y29kZT50cnVlPC9jb2Rl\nPi4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gc3luY1ZlcnNpb24oT3Bl\nbkpQQVN0YXRlTWFuYWdlciBzbSwgT2JqZWN0IGVkYXRhKSB7CiAgICAgICAg\ncmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIG1ldGhv\nZCBpcyBpbnZva2VkIHdoZW4gT3BlbkpQQSBuZWVkcyB0byBsb2FkIGFuIG9i\namVjdCB3aG9zZQogICAgICogaWRlbnRpdHkgaXMga25vd24gYnV0IHdoaWNo\nIGhhcyBub3QgeWV0IGJlZW4gbG9hZGVkIGZyb20gdGhlIGRhdGEKICAgICAq\nIHN0b3JlLiA8Y29kZT5zbTwvY29kZT4gaXMgYSBwYXJ0aWFsbHktc2V0LXVw\nIHN0YXRlIG1hbmFnZXIgZm9yIHRoaXMKICAgICAqIG9iamVjdC4gVGhlIElE\nIGFuZCBsZWFzdC1kZXJpdmVkIHR5cGUgaW5mb3JtYXRpb24gZm9yIHRoZSBp\nbnN0YW5jZQogICAgICogdG8gbG9hZCBjYW4gYmUgb2J0YWluZWQgYnkgaW52\nb2tpbmcKICAgICAqIDxjb2RlPnNtLmdldE9iamVjdElkKCk8L2NvZGU+IGFu\nZCA8Y29kZT5zbS5nZXRNZXRhRGF0YSgpPC9jb2RlPi4KICAgICAqIAogICAg\nICogIFdoZW4gaW1wbGVtZW50aW5nIHRoaXMgbWV0aG9kLCBsb2FkIHRoZSBk\nYXRhIGZvciB0aGlzIG9iamVjdCBmcm9tCiAgICAgKiB0aGUgZGF0YSBzdG9y\nZSwgZGV0ZXJtaW5lIHRoZSBtb3N0LWRlcml2ZWQgc3ViY2xhc3Mgb2YgdGhl\nIG5ld2x5LWxvYWRlZAogICAgICogZGF0YSwgYW5kIHRoZW4gdXNlIHRoZSB7\nQGxpbmsgT3BlbkpQQVN0YXRlTWFuYWdlciNpbml0aWFsaXplfSBtZXRob2Qg\ndG8KICAgICAqIHBvcHVsYXRlIDxjb2RlPnNtPC9jb2RlPiB3aXRoIGEgbmV3\nIGluc3RhbmNlIG9mIHRoZSBhcHByb3ByaWF0ZSB0eXBlLgogICAgICogT25j\nZSB7QGxpbmsgT3BlbkpQQVN0YXRlTWFuYWdlciNpbml0aWFsaXplfSBoYXMg\nYmVlbiBpbnZva2VkLCBwcm9jZWVkIHRvCiAgICAgKiBsb2FkIGZpZWxkIGRh\ndGEgaW50byA8Y29kZT5zbTwvY29kZT4gYXMgaW4gdGhlIHtAbGluayAjbG9h\nZH0gbWV0aG9kLCBieQogICAgICogdXNpbmcge0BsaW5rIE9wZW5KUEFTdGF0\nZU1hbmFnZXIjc3RvcmV9IChvciB0aGUgYXBwcm9wcmlhdGUKICAgICAqIDxj\nb2RlPk9wZW5KUEFTdGF0ZU1hbmFnZXIuc3RvcmU8ZW0+dHlwZTwvZW0+PC9j\nb2RlPiBtZXRob2QpIHRvIHB1dCB0aGUKICAgICAqIGRhdGEgaW50byB0aGUg\nb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMgYWJzdHJhY3QgYm9vbGVhbiBp\nbml0aWFsaXplKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIFBDU3RhdGUgc3Rh\ndGUsCiAgICAgICAgRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLCBPYmplY3Qg\nZWRhdGEpOwoKICAgIC8qKgogICAgICogVGhpcyBtZXRob2QgaXMgaW52b2tl\nZCB3aGVuIE9wZW5KUEEgbmVlZHMgdG8gbG9hZCBhZGRpdGlvbmFsIGRhdGEK\nICAgICAqIGludG8gYW4gb2JqZWN0IHRoYXQgaGFzIGFscmVhZHkgYmVlbiBh\ndCBsZWFzdCBwYXJ0aWFsbHkgbG9hZGVkIGJ5CiAgICAgKiBhIHByZXZpb3Vz\nIHtAbGluayAjaW5pdGlhbGl6ZX0gaW52b2NhdGlvbi4KICAgICAqICBMb2Fk\nIGRhdGEgaW50byA8Y29kZT5zbTwvY29kZT4gYnkgdXNpbmcge0BsaW5rCiAg\nICAgKiBPcGVuSlBBU3RhdGVNYW5hZ2VyI3N0b3JlfSAob3IgdGhlIGFwcHJv\ncHJpYXRlCiAgICAgKiA8Y29kZT5PcGVuSlBBU3RhdGVNYW5hZ2VyLnN0b3Jl\nPGVtPnR5cGU8L2VtPjwvY29kZT4gbWV0aG9kKSB0byBwdXQgdGhlCiAgICAg\nKiBkYXRhIGludG8gdGhlIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIGFi\nc3RyYWN0IGJvb2xlYW4gbG9hZChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBC\naXRTZXQgZmllbGRzLAogICAgICAgIEZldGNoQ29uZmlndXJhdGlvbiBmZXRj\naCwgaW50IGxvY2tMZXZlbCwgT2JqZWN0IGVkYXRhKTsKCiAgICAvKioKICAg\nICAqIFRoaXMgaW1wbGVtZW50YXRpb24ganVzdCBkZWxlZ2F0ZXMgdG8gdGhl\nIHByb3BlciBzaW5ndWxhcgogICAgICogbWV0aG9kICh7QGxpbmsgU3RvcmVN\nYW5hZ2VyI2luaXRpYWxpemV9IG9yIHtAbGluayBTdG9yZU1hbmFnZXIjbG9h\nZH0pCiAgICAgKiBkZXBlbmRpbmcgb24gZWFjaCBzdGF0ZSBtYW5hZ2VyJ3Mg\nc3RhdGUuIElmIHlvdXIgZGF0YSBzdG9yZSBwcm92aWRlcwogICAgICogYnVs\nayBsb2FkaW5nIEFQSXMsIG92ZXJyaWRpbmcgdGhpcyBtZXRob2QgdG8gYmUg\nbW9yZSBjbGV2ZXIgbWF5IGJlCiAgICAgKiBhZHZhbnRhZ2VvdXMuCiAgICAg\nKi8KICAgIHB1YmxpYyBDb2xsZWN0aW9uIGxvYWRBbGwoQ29sbGVjdGlvbiBz\nbXMsIFBDU3RhdGUgc3RhdGUsIGludCBsb2FkLAogICAgICAgIEZldGNoQ29u\nZmlndXJhdGlvbiBmZXRjaCwgT2JqZWN0IGVkYXRhKSB7CiAgICAgICAgcmV0\ndXJuIEltcGxIZWxwZXIubG9hZEFsbChzbXMsIHRoaXMsIHN0YXRlLCBsb2Fk\nLCBmZXRjaCwgZWRhdGEpOwogICAgfQoKICAgIC8qKgogICAgICogQnJlYWtz\nIGRvd24gPGNvZGU+c3RhdGVzPC9jb2RlPiBiYXNlZCBvbiB0aGUgb2JqZWN0\ncycgY3VycmVudAogICAgICogc3RhdGVzLCBhbmQgZGVsZWdhdGVzIHRvCiAg\nICAgKiB7QGxpbmsgI2ZsdXNoKENvbGxlY3Rpb24sQ29sbGVjdGlvbixDb2xs\nZWN0aW9uLENvbGxlY3Rpb24sQ29sbGVjdGlvbil9LgogICAgICovCiAgICBw\ndWJsaWMgQ29sbGVjdGlvbiBmbHVzaChDb2xsZWN0aW9uIHNtcykgewogICAg\nICAgIC8vIGJyZWFrIGRvd24gc3RhdGUgbWFuYWdlcnMgYnkgc3RhdGU7IGlu\naXRpYWxpemUgYXMgZW1wdHkgbGlzdHM7CiAgICAgICAgLy8gdXNlIGNvbnN0\nYW50cyBmb3IgZWZmaWNpZW5jeQogICAgICAgIENvbGxlY3Rpb24gcE5ldyA9\nIG5ldyBMaW5rZWRMaXN0KCk7CiAgICAgICAgQ29sbGVjdGlvbiBwTmV3VXBk\nYXRlZCA9IG5ldyBMaW5rZWRMaXN0KCk7CiAgICAgICAgQ29sbGVjdGlvbiBw\nTmV3Rmx1c2hlZERlbGV0ZWQgPSBuZXcgTGlua2VkTGlzdCgpOwogICAgICAg\nIENvbGxlY3Rpb24gcERpcnR5ID0gbmV3IExpbmtlZExpc3QoKTsKICAgICAg\nICBDb2xsZWN0aW9uIHBEZWxldGVkID0gbmV3IExpbmtlZExpc3QoKTsKCiAg\nICAgICAgT3BlbkpQQVN0YXRlTWFuYWdlciBzbTsKICAgICAgICBmb3IgKEl0\nZXJhdG9yIGl0ciA9IHNtcy5pdGVyYXRvcigpOyBpdHIuaGFzTmV4dCgpOykg\newogICAgICAgICAgICBzbSA9IChPcGVuSlBBU3RhdGVNYW5hZ2VyKSBpdHIu\nbmV4dCgpOwogICAgICAgICAgICBpZiAoc20uZ2V0UENTdGF0ZSgpID09IFBD\nU3RhdGUuUE5FVyAmJiAhc20uaXNGbHVzaGVkKCkpCiAgICAgICAgICAgICAg\nICBwTmV3LmFkZChzbSk7CiAgICAgICAgICAgIGVsc2UgaWYgKHNtLmdldFBD\nU3RhdGUoKSA9PSBQQ1N0YXRlLlBORVcgJiYgc20uaXNGbHVzaGVkKCkpCiAg\nICAgICAgICAgICAgICBwTmV3VXBkYXRlZC5hZGQoc20pOwogICAgICAgICAg\nICBlbHNlIGlmIChzbS5nZXRQQ1N0YXRlKCkgPT0gUENTdGF0ZS5QTkVXRkxV\nU0hFRERFTEVURUQpCiAgICAgICAgICAgICAgICBwTmV3Rmx1c2hlZERlbGV0\nZWQuYWRkKHNtKTsKICAgICAgICAgICAgZWxzZSBpZiAoc20uZ2V0UENTdGF0\nZSgpID09IFBDU3RhdGUuUERJUlRZKQogICAgICAgICAgICAgICAgcERpcnR5\nLmFkZChzbSk7CiAgICAgICAgICAgIGVsc2UgaWYgKHNtLmdldFBDU3RhdGUo\nKSA9PSBQQ1N0YXRlLlBERUxFVEVEKQogICAgICAgICAgICAgICAgcERlbGV0\nZWQuYWRkKHNtKTsKICAgICAgICB9CgogICAgICAgIC8vIG5vIGRpcnR5IGlu\nc3RhbmNlcyB0byBmbHVzaD8KICAgICAgICBpZiAocE5ldy5pc0VtcHR5KCkg\nJiYgcE5ld1VwZGF0ZWQuaXNFbXB0eSgpCiAgICAgICAgICAgICYmIHBOZXdG\nbHVzaGVkRGVsZXRlZC5pc0VtcHR5KCkgJiYgcERpcnR5LmlzRW1wdHkoKQog\nICAgICAgICAgICAmJiBwRGVsZXRlZC5pc0VtcHR5KCkpCiAgICAgICAgICAg\nIHJldHVybiBDb2xsZWN0aW9ucy5FTVBUWV9MSVNUOwoKICAgICAgICByZXR1\ncm4gZmx1c2gocE5ldywgcE5ld1VwZGF0ZWQsIHBOZXdGbHVzaGVkRGVsZXRl\nZCwgcERpcnR5LCBwRGVsZXRlZCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nYmVmb3JlU3RhdGVDaGFuZ2UoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgUENT\ndGF0ZSBmcm9tU3RhdGUsCiAgICAgICAgUENTdGF0ZSB0b1N0YXRlKSB7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gYXNzaWduT2JqZWN0SWQoT3BlbkpQ\nQVN0YXRlTWFuYWdlciBzbSwgYm9vbGVhbiBwcmVGbHVzaCkgewogICAgICAg\nIENsYXNzTWV0YURhdGEgbWV0YSA9IHNtLmdldE1ldGFEYXRhKCk7CiAgICAg\nICAgaWYgKG1ldGEuZ2V0SWRlbnRpdHlUeXBlKCkgPT0gQ2xhc3NNZXRhRGF0\nYS5JRF9BUFBMSUNBVElPTikKICAgICAgICAgICAgcmV0dXJuIEFwcGxpY2F0\naW9uSWRzLmFzc2lnbihzbSwgdGhpcywgcHJlRmx1c2gpOwoKICAgICAgICAv\nLyBkYXRhc3RvcmUgaWRlbnRpdHkKICAgICAgICBPYmplY3QgdmFsID0gSW1w\nbEhlbHBlci5nZW5lcmF0ZUlkZW50aXR5VmFsdWUoY3R4LCBtZXRhLAogICAg\nICAgICAgICBKYXZhVHlwZXMuTE9ORyk7CiAgICAgICAgcmV0dXJuIGFzc2ln\nbkRhdGFTdG9yZUlkKHNtLCB2YWwpOwogICAgfQoKICAgIC8qKgogICAgICog\nQXNzaWduIGEgbmV3IGRhdGFzdG9yZSBpZGVudGl0eSB0byB0aGUgZ2l2ZW4g\naW5zdGFuY2UuIFRoaXMgZ2l2ZW4KICAgICAqIHZhbHVlIG1heSBiZSBudWxs\nLgogICAgICovCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBhc3NpZ25EYXRhU3Rv\ncmVJZChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBPYmplY3QgdmFsKSB7CiAg\nICAgICAgQ2xhc3NNZXRhRGF0YSBtZXRhID0gc20uZ2V0TWV0YURhdGEoKTsK\nICAgICAgICBpZiAodmFsID09IG51bGwgJiYgbWV0YS5nZXRJZGVudGl0eVN0\ncmF0ZWd5KCkgIT0gVmFsdWVTdHJhdGVnaWVzLk5BVElWRSkKICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmICh2YWwgPT0gbnVsbCkKICAg\nICAgICAgICAgdmFsID0gZ2V0RGF0YVN0b3JlSWRTZXF1ZW5jZShtZXRhKS5u\nZXh0KGN0eCwgbWV0YSk7CiAgICAgICAgc20uc2V0T2JqZWN0SWQobmV3RGF0\nYVN0b3JlSWQodmFsLCBtZXRhKSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gYXNzaWduRmllbGQoT3BlbkpQQVN0\nYXRlTWFuYWdlciBzbSwgaW50IGZpZWxkLAogICAgICAgIGJvb2xlYW4gcHJl\nRmx1c2gpIHsKICAgICAgICBGaWVsZE1ldGFEYXRhIGZtZCA9IHNtLmdldE1l\ndGFEYXRhKCkuZ2V0RmllbGQoZmllbGQpOwogICAgICAgIE9iamVjdCB2YWwg\nPSBJbXBsSGVscGVyLmdlbmVyYXRlRmllbGRWYWx1ZShjdHgsIGZtZCk7CiAg\nICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gZmFs\nc2U7CiAgICAgICAgc20uc3RvcmUoZmllbGQsIHZhbCk7CiAgICAgICAgcmV0\ndXJuIHRydWU7CiAgICB9CgogICAgcHVibGljIENsYXNzIGdldE1hbmFnZWRU\neXBlKE9iamVjdCBvaWQpIHsKICAgICAgICBpZiAob2lkIGluc3RhbmNlb2Yg\nSWQpCiAgICAgICAgICAgIHJldHVybiAoKElkKSBvaWQpLmdldFR5cGUoKTsK\nICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3Mg\nZ2V0RGF0YVN0b3JlSWRUeXBlKENsYXNzTWV0YURhdGEgbWV0YSkgewogICAg\nICAgIHJldHVybiBJZC5jbGFzczsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0\nIGNvcHlEYXRhU3RvcmVJZChPYmplY3Qgb2lkLCBDbGFzc01ldGFEYXRhIG1l\ndGEpIHsKICAgICAgICBJZCBpZCA9IChJZCkgb2lkOwogICAgICAgIHJldHVy\nbiBuZXcgSWQobWV0YS5nZXREZXNjcmliZWRUeXBlKCksIGlkLmdldElkKCks\nCiAgICAgICAgICAgIGlkLmhhc1N1YmNsYXNzZXMoKSk7CiAgICB9CgogICAg\ncHVibGljIE9iamVjdCBuZXdEYXRhU3RvcmVJZChPYmplY3QgdmFsLCBDbGFz\nc01ldGFEYXRhIG1ldGEpIHsKICAgICAgICAvLyB3ZSB1c2UgYmFzZSB0eXBl\ncyBmb3IgYWxsIG9pZHMKICAgICAgICB3aGlsZSAobWV0YS5nZXRQQ1N1cGVy\nY2xhc3MoKSAhPSBudWxsKQogICAgICAgICAgICBtZXRhID0gbWV0YS5nZXRQ\nQ1N1cGVyY2xhc3NNZXRhRGF0YSgpOwogICAgICAgIHJldHVybiBJZC5uZXdJ\nbnN0YW5jZShtZXRhLmdldERlc2NyaWJlZFR5cGUoKSwgdmFsKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIE92ZXJyaWRlIHRvIHJldGFpbiBhIGRlZGljYXRl\nZCBjb25uZWN0aW9uLgogICAgICovCiAgICBwdWJsaWMgdm9pZCByZXRhaW5D\nb25uZWN0aW9uKCkgewogICAgfQoKICAgIC8qKgogICAgICogT3ZlcnJpZGUg\ndG8gcmVsZWFzZSBwcmV2aW91c2x5LXJldGFpbmVkIGNvbm5lY3Rpb24uCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHJlbGVhc2VDb25uZWN0aW9uKCkgewog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyA8Y29kZT5udWxsPC9jb2Rl\nPi4gSWYgeW91ciBkYXRhIHN0b3JlIGNhbiBwcm92aWRlIGEKICAgICAqIGRp\nc3RpbmN0IGNvbm5lY3Rpb24gb2JqZWN0LCByZXR1cm4gaXQgaGVyZS4KICAg\nICAqLwogICAgcHVibGljIE9iamVjdCBnZXRDbGllbnRDb25uZWN0aW9uKCkg\newogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIC8qKgogICAgICog\nQ3JlYXRlIGEge0BsaW5rIFJlc3VsdE9iamVjdFByb3ZpZGVyfSB0aGF0IGNh\nbiByZXR1cm4gYWxsIGluc3RhbmNlcwogICAgICogb2YgPGNvZGU+dHlwZTwv\nY29kZT4sIG9wdGlvbmFsbHkgaW5jbHVkaW5nIHN1YmNsYXNzZXMgYXMgZGVm\naW5lZAogICAgICogYnkgPGNvZGU+c3ViY2xhc3NlczwvY29kZT4uCiAgICAg\nKiAgVGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSByZXN1bHQgcHJvdmlkZXIg\nd2lsbCB0eXBpY2FsbHkgZXhlY3V0ZQogICAgICogc29tZSBzb3J0IG9mIGRh\ndGEgc3RvcmUgcXVlcnkgdG8gZmluZCBhbGwgdGhlIGFwcGxpY2FibGUgb2Jq\nZWN0cywgbG9vcAogICAgICogdGhyb3VnaCB0aGUgcmVzdWx0cywgZXh0cmFj\ndGluZyBvYmplY3QgSURzIGZyb20gdGhlIGRhdGEsIGFuZCBpbnZva2UKICAg\nICAqIHtAbGluayBTdG9yZUNvbnRleHQjZmluZChPYmplY3QsRmV0Y2hDb25m\naWd1cmF0aW9uLEJpdFNldCxPYmplY3QsaW50KX0KICAgICAqIG9uIGVhY2gg\nT0lELiBXaGVuIGludm9raW5nIHRoaXMgbWV0aG9kLCB0aGUgZmlyc3QgYXJn\ndW1lbnQgaXMgdGhlIE9JRC4KICAgICAqIFRoZSBzZWNvbmQgaXMgdGhlIGdp\ndmVuIGZldGNoIGNvbmZpZ3VyYXRpb24uIFRoZQogICAgICogdGhpcmQgYXJn\ndW1lbnQgaXMgYSBtYXNrIG9mIGZpZWxkcyB0byBleGNsdWRlIGZyb20gbG9h\nZGluZzsgaXQgd2lsbAogICAgICogdHlwaWNhbGx5IGJlIG51bGwuIFRoZSBm\nb3VydGggYXJndW1lbnQgaXMgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNz\nZWQKICAgICAqIHRocm91Z2ggdG8ge0BsaW5rICNpbml0aWFsaXplfSBvciB7\nQGxpbmsgI2xvYWR9LCBhbmQgdHlwaWNhbGx5IHdpbGwKICAgICAqIGNvbnRh\naW4gdGhlIGFjdHVhbCBkYXRhIHRvIGxvYWQuIEZvciBleGFtcGxlLCBmb3Ig\nYSBKREJDLWJhc2VkIHN0b3JlCiAgICAgKiBtYW5hZ2VyLCB0aGlzIG1pZ2h0\nIGJlIHRoZSByZXN1bHQgc2V0IHRoYXQgaXMgYmVpbmcgaXRlcmF0ZWQgb3Zl\nci4gSWYKICAgICAqIHRoaXMgYXJndW1lbnQgaXMgPGNvZGU+bnVsbDwvY29k\nZT4sIHRoZW4gdGhlIHtAbGluayAjaW5pdGlhbGl6ZX0gb3IKICAgICAqIHtA\nbGluayAjbG9hZH0gbWV0aG9kIHdpbGwgaGF2ZSB0byBpc3N1ZSBhbm90aGVy\nIGNvbW1hbmQgdG8gdGhlIGRhdGEKICAgICAqIHN0b3JlIGluIG9yZGVyIHRv\nIGZldGNoIHRoZSBkYXRhIHRvIGJlIGxvYWRlZC4gCiAgICAgKi8KICAgIHB1\nYmxpYyBhYnN0cmFjdCBSZXN1bHRPYmplY3RQcm92aWRlciBleGVjdXRlRXh0\nZW50KENsYXNzTWV0YURhdGEgbWV0YSwKICAgICAgICBib29sZWFuIHN1YnMs\nIEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCk7CgogICAgcHVibGljIFN0b3Jl\nUXVlcnkgbmV3UXVlcnkoU3RyaW5nIGxhbmd1YWdlKSB7CiAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIEZldGNoQ29uZmlndXJhdGlv\nbiBuZXdGZXRjaENvbmZpZ3VyYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIG5l\ndyBGZXRjaENvbmZpZ3VyYXRpb25JbXBsKCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBDYXN0cyA8Y29kZT52MTwvY29kZT4gYW5kIDxjb2RlPnYyPC9jb2Rl\nPiB0byB7QGxpbmsgQ29tcGFyYWJsZX0sIGFuZAogICAgICogaW52b2tlcyA8\nY29kZT52MS5jb21wYXJlVG8gKHYyKTwvY29kZT4uIElmIDxjb2RlPnYxPC9j\nb2RlPiBpcyBsZXNzCiAgICAgKiB0aGFuIDxjb2RlPnYyPC9jb2RlPiwgcmV0\ndXJucyB7QGxpbmsgI1ZFUlNJT05fRUFSTElFUn0uIElmIHRoZSBzYW1lLAog\nICAgICogcmV0dXJucyB7QGxpbmsgI1ZFUlNJT05fU0FNRX0uIE90aGVyd2lz\nZSwgcmV0dXJucyB7QGxpbmsKICAgICAqICNWRVJTSU9OX0xBVEVSfS4gSWYg\nZWl0aGVyIDxjb2RlPnYxPC9jb2RlPiBvciA8Y29kZT52MjwvY29kZT4gYXJl\nCiAgICAgKiA8Y29kZT5udWxsPC9jb2RlPiwgcmV0dXJucyB7QGxpbmsgI1ZF\nUlNJT05fRElGRkVSRU5UfS4KICAgICAqLwogICAgcHVibGljIGludCBjb21w\nYXJlVmVyc2lvbihPcGVuSlBBU3RhdGVNYW5hZ2VyIHN0YXRlLCBPYmplY3Qg\ndjEsIE9iamVjdCB2MikgewogICAgICAgIGlmICh2MSA9PSBudWxsIHx8IHYy\nID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBWRVJTSU9OX0RJRkZFUkVO\nVDsKCiAgICAgICAgaW50IGNvbXBhcmUgPSAoKENvbXBhcmFibGUpIHYxKS5j\nb21wYXJlVG8oKENvbXBhcmFibGUpIHYyKTsKICAgICAgICBpZiAoY29tcGFy\nZSA8IDApCiAgICAgICAgICAgIHJldHVybiBWRVJTSU9OX0VBUkxJRVI7CiAg\nICAgICAgaWYgKGNvbXBhcmUgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIFZF\nUlNJT05fU0FNRTsKICAgICAgICByZXR1cm4gVkVSU0lPTl9MQVRFUjsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHN5c3RlbS1jb25maWd1\ncmVkIHNlcXVlbmNlLiBUbyB1c2Ugc29tZSBvdGhlciBzb3J0CiAgICAgKiBv\nZiBkYXRhc3RvcmUgaWRlbnRpZmllciAoYSBHVUlELCBzdHJpbmcsIG9yIHNv\nbWV0aW5nIG9mIHRoYXQgbmF0dXJlKSwKICAgICAqIG92ZXJyaWRlIHtAbGlu\nayAjZ2V0TWFuYWdlZFR5cGV9LAogICAgICoge0BsaW5rICNnZXREYXRhU3Rv\ncmVJZFR5cGV9LCB7QGxpbmsgI2NvcHlEYXRhU3RvcmVJZH0sCiAgICAgKiB7\nQGxpbmsgI25ld0RhdGFTdG9yZUlkfS4KICAgICAqLwogICAgcHVibGljIFNl\ncSBnZXREYXRhU3RvcmVJZFNlcXVlbmNlKENsYXNzTWV0YURhdGEgZm9yQ2xh\nc3MpIHsKICAgICAgICByZXR1cm4gY3R4LmdldENvbmZpZ3VyYXRpb24oKS5n\nZXRTZXF1ZW5jZUluc3RhbmNlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm5zIG51bGwuCiAgICAgKi8KICAgIHB1YmxpYyBTZXEgZ2V0VmFsdWVT\nZXF1ZW5jZShGaWVsZE1ldGFEYXRhIGZvckZpZWxkKSB7CiAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIDxjb2Rl\nPmZhbHNlPC9jb2RlPi4gSWYgeW91ciBkYXRhIHN0b3JlIHN1cHBvcnRzCiAg\nICAgKiBjYW5jZWxsaW5nIHF1ZXJpZXMsIHRoaXMgbWV0aG9kIHNob3VsZCBj\nYW5jZWwgYW55CiAgICAgKiBjdXJyZW50bHktcnVubmluZyBxdWVyaWVzIGFu\nZCByZXR1cm4gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgYW55CiAgICAgKiB3ZXJl\nIGNhbmNlbGxlZC4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gY2FuY2Vs\nQWxsKCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBjbG9zZSgpIHsKICAgIH0KCiAgICAvKioKICAgICAqIFJlc3Bv\nbnNpYmxlIGZvciB3cml0aW5nIG1vZGlmaWNhdGlvbnMgaGFwcGVuZWQgYmFj\nayB0byB0aGUgZGF0YQogICAgICogc3RvcmUuIElmIHlvdSBkbyBub3QgcmVt\nb3ZlIHRoZQogICAgICoge0BsaW5rIE9wZW5KUEFDb25maWd1cmF0aW9uI09Q\nVElPTl9JTkNfRkxVU0h9IG9wdGlvbiBpbgogICAgICoge0BsaW5rICNnZXRV\nbnN1cHBvcnRlZE9wdGlvbnN9LCB0aGlzIHdpbGwgYmUgY2FsbGVkIG9ubHkg\nb25jZSBhdCB0aGUKICAgICAqIGVuZAlvZiBhIHRyYW5zYWN0aW9uLiBPdGhl\ncndpc2UsIGl0IG1heSBiZSBjYWxsZWQgcGVyaW9kaWNhbGx5CiAgICAgKiB0\naHJvdWdob3V0IHRoZSBjb3Vyc2Ugb2YgYSB0cmFuc2FjdGlvbi4KICAgICAq\nICBJZiB0aGlzIHN0b3JlIG1hbmFnZXIgc3VwcG9ydHMgb3B0aW1pc3RpYyB0\ncmFuc2FjdGlvbnMsIGRhdGFzdG9yZQogICAgICogdmVyc2lvbiBpbmZvcm1h\ndGlvbiBzaG91bGQgYmUgdXBkYXRlZCBkdXJpbmcgZmx1c2gsIGFuZCB0aGUg\nc3RhdGUKICAgICAqIG1hbmFnZXIncyB2ZXJzaW9uIGluZGljYXRvciBzaG91\nbGQgYmUgdXBkYXRlZCB0aHJvdWdoIHRoZQogICAgICoge0BsaW5rIE9wZW5K\nUEFTdGF0ZU1hbmFnZXIjc2V0TmV4dFZlcnNpb259IG1ldGhvZC4KICAgICAq\nICBUaGlzIG1ldGhvZCB3aWxsIG9ubHkgYmUgaW52b2tlZCBpZiB0aGVyZSBh\ncmUgbWVhbmluZ2Z1bCBjaGFuZ2VzCiAgICAgKiB0byBzdG9yZS4gVGhpcyBk\naWZmZXJzIGZyb20gdGhlIGJlaGF2aW9yIG9mIHtAbGluayBTdG9yZU1hbmFn\nZXIjZmx1c2h9LAogICAgICogd2hpY2ggbWF5IGJlIGludm9rZWQgd2l0aCBh\nIGNvbGxlY3Rpb24gb2Ygb2JqZWN0cyBpbiBzdGF0ZXMgdGhhdAogICAgICog\nZG8gbm90IHJlcXVpcmUgYW55IGRhdGFzdG9yZSBhY3Rpb24gKGZvciBleGFt\ncGxlLCBvYmplY3RzIGluIHRoZQogICAgICogdHJhbnNpZW50LXRyYW5zYWN0\naW9uYWwgc3RhdGUpLgogICAgICoKICAgICAqIEBwYXJhbSBwTmV3IE9iamVj\ndHMgdGhhdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIHN0b3JlLAogICAgICog\nYW5kIHRoYXQgaGF2ZSBub3QgcHJldmlvdXNseSBiZWVuIGZsdXNoZWQuCiAg\nICAgKiBAcGFyYW0gcE5ld1VwZGF0ZWQgTmV3IG9iamVjdHMgdGhhdCBoYXZl\nIGJlZW4gbW9kaWZpZWQgc2luY2UKICAgICAqIHRoZXkgd2VyZSBpbml0aWFs\nbHkgZmx1c2hlZC4gVGhlc2Ugd2VyZQogICAgICogaW4gPGNvZGU+cGVyc2lz\ndGVudE5ldzwvY29kZT4gaW4gYW4gZWFybGllciBmbHVzaCBpbnZvY2F0aW9u\nLgogICAgICogQHBhcmFtIHBOZXdGbHVzaGVkRGVsZXRlZCBOZXcgb2JqZWN0\ncyB0aGF0IGhhdmUgYmVlbiBkZWxldGVkIHNpbmNlCiAgICAgKiB0aGV5IHdl\ncmUgaW5pdGlhbGx5IGZsdXNoZWQuIFRoZXNlIHdlcmUKICAgICAqIGluIDxj\nb2RlPnBlcnNpc3RlbnROZXc8L2NvZGU+IGluIGFuIGVhcmxpZXIgZmx1c2gg\naW52b2NhdGlvbi4KICAgICAqIEBwYXJhbSBwRGlydHkgT2JqZWN0cyB0aGF0\nIHdlcmUgbG9hZGVkIGZyb20gdGhlIGRhdGEKICAgICAqIHN0b3JlIGFuZCBo\nYXZlIHNpbmNlIGJlZW4gbW9kaWZpZWQuCiAgICAgKiBAcGFyYW0gcERlbGV0\nZWQgT2JqZWN0cyB0aGF0IHdlcmUgbG9hZGVkIGZyb20gdGhlIGRhdGEKICAg\nICAqIHN0b3JlIGFuZCBoYXZlIHNpbmNlIGJlZW4gZGVsZXRlZC4gVGhlc2UK\nICAgICAqIG1heSBoYXZlIGJlZW4gaW4gYSBwcmV2aW91cyBmbHVzaCBpbnZv\nY2F0aW9uJ3MgcGVyc2lzdGVudERpcnR5IGxpc3QuCiAgICAgKiBAcmV0dXJu\nIGEgY29sbGVjdGlvbiBvZiBleGNlcHRpb25zIGVuY291bnRlcmVkIGR1cmlu\nZyBmbHVzaGluZy4KICAgICAqLwogICAgcHJvdGVjdGVkIGFic3RyYWN0IENv\nbGxlY3Rpb24gZmx1c2goQ29sbGVjdGlvbiBwTmV3LAogICAgICAgIENvbGxl\nY3Rpb24gcE5ld1VwZGF0ZWQsIENvbGxlY3Rpb24gcE5ld0ZsdXNoZWREZWxl\ndGVkLAogICAgICAgIENvbGxlY3Rpb24gcERpcnR5LCBDb2xsZWN0aW9uIHBE\nZWxldGVkKTsKCiAgICAvKioKICAgICAqIFJldHVybiBhIG5ldyBjb25maWd1\ncmF0aW9uIGluc3RhbmNlIGZvciB0aGlzIHJ1bnRpbWUuIENvbmZpZ3VyYXRp\nb24KICAgICAqIGRhdGEgaXMgbWFpbnRhaW5lZCBhdCB0aGUgZmFjdG9yeSBs\nZXZlbCBhbmQgaXMgYXZhaWxhYmxlIHRvIGFsbCBPcGVuSlBBCiAgICAgKiBj\nb21wb25lbnRzOyB0aGVyZWZvcmUgaXQgaXMgYSBnb29kIHBsYWNlIHRvIG1h\naW50YWluIHNoYXJlZCByZXNvdXJjZXMKICAgICAqIHN1Y2ggYXMgY29ubmVj\ndGlvbiBwb29scywgZXRjLgogICAgICovCiAgICBwcm90ZWN0ZWQgT3BlbkpQ\nQUNvbmZpZ3VyYXRpb24gbmV3Q29uZmlndXJhdGlvbigpIHsKICAgICAgICBy\nZXR1cm4gbmV3IE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbCgpOwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJucyBhIHNldCBvZiBvcHRpb24gbmFtZXMg\ndGhhdCB0aGlzIHN0b3JlIG1hbmFnZXIgZG9lcwogICAgICogbm90IHN1cHBv\ncnQuIEJ5IGRlZmF1bHQsIHJldHVybnMgdGhlIGZvbGxvd2luZzoKICAgICAq\nIDx1bD4KICAgICAqIDxsaT57QGxpbmsgT3BlbkpQQUNvbmZpZ3VyYXRpb24j\nT1BUSU9OX09QVElNSVNUSUN9PC9saT4KICAgICAqIDxsaT57QGxpbmsgT3Bl\nbkpQQUNvbmZpZ3VyYXRpb24jT1BUSU9OX0lEX0RBVEFTVE9SRX08L2xpPgog\nICAgICogPGxpPntAbGluayBPcGVuSlBBQ29uZmlndXJhdGlvbiNPUFRJT05f\nSU5DX0ZMVVNIfTwvbGk+CiAgICAgKiA8bGk+e0BsaW5rIE9wZW5KUEFDb25m\naWd1cmF0aW9uI09QVElPTl9WQUxVRV9BVVRPQVNTSUdOfTwvbGk+CiAgICAg\nKiA8bGk+e0BsaW5rIE9wZW5KUEFDb25maWd1cmF0aW9uI09QVElPTl9WQUxV\nRV9JTkNSRU1FTlR9PC9saT4KICAgICAqIDxsaT57QGxpbmsgT3BlbkpQQUNv\nbmZpZ3VyYXRpb24jT1BUSU9OX0RBVEFTVE9SRV9DT05ORUNUSU9OfTwvbGk+\nCiAgICAgKiA8L3VsPgogICAgICovCiAgICBwcm90ZWN0ZWQgQ29sbGVjdGlv\nbiBnZXRVbnN1cHBvcnRlZE9wdGlvbnMoKSB7CiAgICAgICAgQ29sbGVjdGlv\nbiBjID0gbmV3IEhhc2hTZXQoKTsKICAgICAgICBjLmFkZChPcGVuSlBBQ29u\nZmlndXJhdGlvbi5PUFRJT05fT1BUSU1JU1RJQyk7CiAgICAgICAgYy5hZGQo\nT3BlbkpQQUNvbmZpZ3VyYXRpb24uT1BUSU9OX0lEX0RBVEFTVE9SRSk7CiAg\nICAgICAgYy5hZGQoT3BlbkpQQUNvbmZpZ3VyYXRpb24uT1BUSU9OX0lOQ19G\nTFVTSCk7CiAgICAgICAgYy5hZGQoT3BlbkpQQUNvbmZpZ3VyYXRpb24uT1BU\nSU9OX1ZBTFVFX0FVVE9BU1NJR04pOwogICAgICAgIGMuYWRkKE9wZW5KUEFD\nb25maWd1cmF0aW9uLk9QVElPTl9WQUxVRV9JTkNSRU1FTlQpOwogICAgICAg\nIGMuYWRkKE9wZW5KUEFDb25maWd1cmF0aW9uLk9QVElPTl9EQVRBU1RPUkVf\nQ09OTkVDVElPTik7CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIG5hbWUgdG8gaWRlbnRpZnkgdGhl\nIHBsYXRmb3JtIG9mIHRoaXMKICAgICAqIHN0b3JlIG1hbmFnZXIuIFJldHVy\nbnMgdGhlIGNsYXNzIG5hbWUgb2YgdGhpcyBzdG9yZSBtYW5hZ2VyIGJ5IGRl\nZmF1bHQuCiAgICAgKi8KICAgIHByb3RlY3RlZCBTdHJpbmcgZ2V0UGxhdGZv\ncm0gKCkKCXsKCQlyZXR1cm4gZ2V0Q2xhc3MgKCkuZ2V0TmFtZSAoKTsKCX0K\nfQo=\n","encoding":"base64"}

