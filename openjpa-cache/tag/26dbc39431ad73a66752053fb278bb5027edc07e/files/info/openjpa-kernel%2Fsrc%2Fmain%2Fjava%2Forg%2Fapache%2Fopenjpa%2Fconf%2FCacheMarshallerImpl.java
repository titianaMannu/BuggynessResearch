{"sha":"c552ccd6d0a21b694f65acfb82ebeb9e0b39ad62","node_id":"MDQ6QmxvYjIwNjM2NDpjNTUyY2NkNmQwYTIxYjY5NGY2NWFjZmI4MmViZWI5ZTBiMzlhZDYy","size":8788,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c552ccd6d0a21b694f65acfb82ebeb9e0b39ad62","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5jb25m\nOw0KDQppbXBvcnQgamF2YS5pby5CdWZmZXJlZElucHV0U3RyZWFtOw0KaW1w\nb3J0IGphdmEuaW8uQnVmZmVyZWRPdXRwdXRTdHJlYW07DQppbXBvcnQgamF2\nYS5pby5GaWxlOw0KaW1wb3J0IGphdmEuaW8uRmlsZU91dHB1dFN0cmVhbTsN\nCmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOw0KaW1wb3J0IGphdmEuaW8u\nT2JqZWN0SW5wdXRTdHJlYW07DQppbXBvcnQgamF2YS5pby5PYmplY3RPdXRw\ndXRTdHJlYW07DQppbXBvcnQgamF2YS5pby5PdXRwdXRTdHJlYW07DQppbXBv\ncnQgamF2YS5uZXQuVVJMOw0KaW1wb3J0IGphdmEudXRpbC5FbnVtZXJhdGlv\nbjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwu\nQXJyYXlMaXN0Ow0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5j\nb25mLkNvbmZpZ3VyYWJsZTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmNvbmYuQ29uZmlndXJhdGlvbjsNCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbnM7DQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi5sb2cuTG9nOw0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnV0aWwuSW50ZXJuYWxFeGNlcHRpb247DQoNCi8qKg0KICog\nRGVmYXVsdCB7QGxpbmsgQ2FjaGVNYXJzaGFsbGVyfSBpbXBsZW1lbnRhdGlv\nbiB0aGF0IHdyaXRlcyBkYXRhDQogKiB0byBhIHNwZWNpZmllZCBmaWxlIGFu\nZCByZWFkcyBkYXRhIGZyb20gYSBzcGVjaWZpZWQgZmlsZSBvciBVUkwuDQog\nKg0KICogQHNpbmNlIDEuMS4wDQogKi8NCnB1YmxpYyBjbGFzcyBDYWNoZU1h\ncnNoYWxsZXJJbXBsDQogICAgaW1wbGVtZW50cyBDYWNoZU1hcnNoYWxsZXIs\nIENvbmZpZ3VyYWJsZSB7DQoNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBM\nb2NhbGl6ZXIgX2xvYyA9DQogICAgICAgIExvY2FsaXplci5mb3JQYWNrYWdl\nKENhY2hlTWFyc2hhbGxlckltcGwuY2xhc3MpOw0KDQogICAgcHJpdmF0ZSBT\ndHJpbmcgX2lkOw0KICAgIHByaXZhdGUgVmFsaWRhdGlvblBvbGljeSBfdmFs\naWRhdGlvblBvbGljeTsNCiAgICBwcml2YXRlIE9wZW5KUEFDb25maWd1cmF0\naW9uIF9jb25mOw0KICAgIHByaXZhdGUgTG9nIF9sb2c7DQogICAgcHJpdmF0\nZSBGaWxlIF9vdXRwdXRGaWxlOw0KICAgIHByaXZhdGUgVVJMIF9pbnB1dFVS\nTDsNCg0KICAgIC8vIHRlbXBvcmFyeSBzdG9yYWdlIGZvciByZXNvdXJjZSBs\nb2NhdGlvbiBzcGVjaWZpY2F0aW9uDQogICAgcHJpdmF0ZSBTdHJpbmcgX2lu\ncHV0UmVzb3VyY2VMb2NhdGlvbjsNCiAgICANCiAgICBwcml2YXRlIGJvb2xl\nYW4gX2NvbnN1bWVFcnJvcnMgPSB0cnVlOw0KDQogICAgcHVibGljIE9iamVj\ndCBsb2FkKCkgew0KICAgICAgICBpZiAoX2lucHV0VVJMID09IG51bGwpIHsN\nCiAgICAgICAgICAgIF9sb2cudHJhY2UoX2xvYy5nZXQoImNhY2hlLW1hcnNo\nYWxsZXItbm8taW5wdXRzIiwgZ2V0SWQoKSkpOw0KICAgICAgICAgICAgcmV0\ndXJuIG51bGw7DQogICAgICAgIH0NCg0KICAgICAgICBPYmplY3QgbyA9IG51\nbGw7DQogICAgICAgIE9iamVjdElucHV0U3RyZWFtIGluID0gbnVsbDsNCiAg\nICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGluID0gbmV3IE9iamVjdElucHV0\nU3RyZWFtKG5ldyBCdWZmZXJlZElucHV0U3RyZWFtKA0KICAgICAgICAgICAg\nICAgIF9pbnB1dFVSTC5vcGVuU3RyZWFtKCkpKTsNCg0KICAgICAgICAgICAg\nbyA9IGluLnJlYWRPYmplY3QoKTsNCiAgICAgICAgICAgIG8gPSBfdmFsaWRh\ndGlvblBvbGljeS5nZXRWYWxpZERhdGEobyk7DQoNCiAgICAgICAgICAgIGlm\nIChvICE9IG51bGwgJiYgby5nZXRDbGFzcygpLmlzQXJyYXkoKSkgew0KICAg\nICAgICAgICAgICAgIE9iamVjdFtdIGFycmF5ID0gKE9iamVjdFtdKSBvOw0K\nICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYXJyYXkubGVu\nZ3RoOyBpKyspDQogICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyZShhcnJh\neVtpXSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAg\nIGNvbmZpZ3VyZShvKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAg\naWYgKF9sb2cuaXNUcmFjZUVuYWJsZWQoKSkNCiAgICAgICAgICAgICAgICBf\nbG9nLnRyYWNlKF9sb2MuZ2V0KCJjYWNoZS1tYXJzaGFsbGVyLWxvYWRlZCIs\nDQogICAgICAgICAgICAgICAgICAgIG8gPT0gbnVsbCA/IG51bGwgOiBvLmdl\ndENsYXNzKCkuZ2V0TmFtZSgpLCBfaW5wdXRVUkwpKTsNCiAgICAgICAgfSBj\nYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIGlmIChfY29uc3Vt\nZUVycm9ycykgew0KICAgICAgICAgICAgICAgIGlmIChfbG9nLmlzV2FybkVu\nYWJsZWQoKSkNCiAgICAgICAgICAgICAgICAgICAgX2xvZy53YXJuKF9sb2Mu\nZ2V0KCJjYWNoZS1tYXJzaGFsbGVyLWxvYWQtZXhjZXB0aW9uLWlnbm9yZSIs\nDQogICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRVUkwpLCBlKTsNCiAg\nICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3\nIEludGVybmFsRXhjZXB0aW9uKA0KICAgICAgICAgICAgICAgICAgICBfbG9j\nLmdldCgiY2FjaGUtbWFyc2hhbGxlci1sb2FkLWV4Y2VwdGlvbi1mYXRhbCIs\nDQogICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRVUkwpLA0KICAgICAg\nICAgICAgICAgICAgICBlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBm\naW5hbGx5IHsNCiAgICAgICAgICAgIGlmIChpbiAhPSBudWxsKQ0KICAgICAg\nICAgICAgICAgIHRyeSB7IGluLmNsb3NlKCk7IH0gY2F0Y2ggKElPRXhjZXB0\naW9uIGUpIHsgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIG87DQog\nICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIGNvbmZpZ3VyZShPYmplY3Qgbykg\new0KICAgICAgICBpZiAobyBpbnN0YW5jZW9mIENvbmZpZ3VyYWJsZSkgew0K\nICAgICAgICAgICAgKChDb25maWd1cmFibGUpIG8pLnNldENvbmZpZ3VyYXRp\nb24oX2NvbmYpOw0KICAgICAgICAgICAgKChDb25maWd1cmFibGUpIG8pLnN0\nYXJ0Q29uZmlndXJhdGlvbigpOw0KICAgICAgICAgICAgKChDb25maWd1cmFi\nbGUpIG8pLmVuZENvbmZpZ3VyYXRpb24oKTsNCiAgICAgICAgfQ0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHN0b3JlKE9iamVjdCBvKSB7DQogICAgICAg\nIGlmIChfb3V0cHV0RmlsZSA9PSBudWxsKSB7DQogICAgICAgICAgICBfbG9n\nLnRyYWNlKF9sb2MuZ2V0KCJjYWNoZS1tYXJzaGFsbGVyLW5vLW91dHB1dC1m\naWxlIiwgZ2V0SWQoKSkpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAg\nICB9DQogICAgICAgIE91dHB1dFN0cmVhbSBvdXQgPSBudWxsOw0KICAgICAg\nICB0cnkgew0KICAgICAgICAgICAgb3V0ID0gbmV3IEZpbGVPdXRwdXRTdHJl\nYW0oX291dHB1dEZpbGUpOw0KICAgICAgICAgICAgT2JqZWN0T3V0cHV0U3Ry\nZWFtIG9vcyA9DQogICAgICAgICAgICAgICAgbmV3IE9iamVjdE91dHB1dFN0\ncmVhbShuZXcgQnVmZmVyZWRPdXRwdXRTdHJlYW0ob3V0KSk7DQogICAgICAg\nICAgICBPYmplY3QgdG9TdG9yZSA9IF92YWxpZGF0aW9uUG9saWN5LmdldENh\nY2hlYWJsZURhdGEobyk7DQogICAgICAgICAgICBvb3Mud3JpdGVPYmplY3Qo\ndG9TdG9yZSk7DQogICAgICAgICAgICBvb3MuZmx1c2goKTsNCiAgICAgICAg\nICAgIG91dC5mbHVzaCgpOw0KICAgICAgICAgICAgaWYgKF9sb2cuaXNUcmFj\nZUVuYWJsZWQoKSkNCiAgICAgICAgICAgICAgICBfbG9nLnRyYWNlKF9sb2Mu\nZ2V0KCJjYWNoZS1tYXJzaGFsbGVyLXN0b3JlZCIsDQogICAgICAgICAgICAg\nICAgICAgIG8uZ2V0Q2xhc3MoKS5nZXROYW1lKCksIF9vdXRwdXRGaWxlKSk7\nDQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAg\nICBpZiAoX2NvbnN1bWVFcnJvcnMpIHsNCiAgICAgICAgICAgICAgICBpZiAo\nX2xvZy5pc1dhcm5FbmFibGVkKCkpDQogICAgICAgICAgICAgICAgICAgIF9s\nb2cud2FybihfbG9jLmdldCgiY2FjaGUtbWFyc2hhbGxlci1zdG9yZS1leGNl\ncHRpb24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgby5nZXRDbGFzcygp\nLmdldE5hbWUoKSwgX291dHB1dEZpbGUpLCBlKTsNCiAgICAgICAgICAgIH0g\nZWxzZSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludGVybmFsRXhj\nZXB0aW9uKA0KICAgICAgICAgICAgICAgICAgICBfbG9jLmdldCgiY2FjaGUt\nbWFyc2hhbGxlci1zdG9yZS1leGNlcHRpb24iLA0KICAgICAgICAgICAgICAg\nICAgICAgICAgby5nZXRDbGFzcygpLmdldE5hbWUoKSwgX291dHB1dEZpbGUp\nLA0KICAgICAgICAgICAgICAgICAgICBlKTsNCiAgICAgICAgICAgIH0NCiAg\nICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGlmIChvdXQgIT0gbnVs\nbCkgew0KICAgICAgICAgICAgICAgIHRyeSB7IG91dC5jbG9zZSgpOyB9IGNh\ndGNoIChJT0V4Y2VwdGlvbiBpb2UpIHsgfQ0KICAgICAgICAgICAgfQ0KICAg\nICAgICB9DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0T3V0cHV0Rmls\nZShGaWxlIGZpbGUpIHsNCiAgICAgICAgX291dHB1dEZpbGUgPSBmaWxlOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyBGaWxlIGdldE91dHB1dEZpbGUoKSB7DQog\nICAgICAgIHJldHVybiBfb3V0cHV0RmlsZTsNCiAgICB9DQoNCiAgICBwdWJs\naWMgdm9pZCBzZXRJbnB1dFVSTChVUkwgdXJsKSB7DQogICAgICAgIF9pbnB1\ndFVSTCA9IHVybDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRJbnB1\ndFJlc291cmNlKFN0cmluZyByZXNvdXJjZSkgew0KICAgICAgICBfaW5wdXRS\nZXNvdXJjZUxvY2F0aW9uID0gcmVzb3VyY2U7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgc2V0Q29uc3VtZVNlcmlhbGl6YXRpb25FcnJvcnMoYm9vbGVh\nbiBjb25zdW1lKSB7DQogICAgICAgIF9jb25zdW1lRXJyb3JzID0gY29uc3Vt\nZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldElkKCkgew0KICAg\nICAgICByZXR1cm4gX2lkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNl\ndElkKFN0cmluZyBpZCkgew0KICAgICAgICBfaWQgPSBpZDsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCBzZXRWYWxpZGF0aW9uUG9saWN5KFN0cmluZyBw\nb2xpY3kpDQogICAgICAgIHRocm93cyBJbnN0YW50aWF0aW9uRXhjZXB0aW9u\nLCBJbGxlZ2FsQWNjZXNzRXhjZXB0aW9uIHsNCiAgICAgICAgU3RyaW5nIG5h\nbWUgPSBDb25maWd1cmF0aW9ucy5nZXRDbGFzc05hbWUocG9saWN5KTsNCiAg\nICAgICAgU3RyaW5nIHByb3BzID0gQ29uZmlndXJhdGlvbnMuZ2V0UHJvcGVy\ndGllcyhwb2xpY3kpOw0KICAgICAgICBfdmFsaWRhdGlvblBvbGljeSA9IChW\nYWxpZGF0aW9uUG9saWN5KQ0KICAgICAgICAgICAgQ29uZmlndXJhdGlvbnMu\nbmV3SW5zdGFuY2UobmFtZSwgX2NvbmYsIHByb3BzLCBudWxsKTsNCiAgICB9\nDQoNCiAgICBwdWJsaWMgVmFsaWRhdGlvblBvbGljeSBnZXRWYWxpZGF0aW9u\nUG9saWN5KCkgew0KICAgICAgICByZXR1cm4gX3ZhbGlkYXRpb25Qb2xpY3k7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0Q29uZmlndXJhdGlvbihD\nb25maWd1cmF0aW9uIGNvbmYpIHsNCiAgICAgICAgX2NvbmYgPSAoT3BlbkpQ\nQUNvbmZpZ3VyYXRpb24pIGNvbmY7DQogICAgICAgIF9sb2cgPSBjb25mLmdl\ndENvbmZpZ3VyYXRpb25Mb2coKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCBzdGFydENvbmZpZ3VyYXRpb24oKSB7DQogICAgfQ0KDQogICAgcHVibGlj\nIHZvaWQgZW5kQ29uZmlndXJhdGlvbigpIHsNCiAgICAgICAgaWYgKF9pbnB1\ndFJlc291cmNlTG9jYXRpb24gIT0gbnVsbCAmJiBfaW5wdXRVUkwgIT0gbnVs\nbCkNCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRp\nb24oDQogICAgICAgICAgICAgICAgX2xvYy5nZXQoImNhY2hlLW1hcnNoYWxs\nZXItaW5wdXQtdXJsLWFuZC1yZXNvdXJjZS1zcGVjaWZpZWQiKQ0KICAgICAg\nICAgICAgICAgICAgICAuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgaWYgKF9p\nbnB1dFJlc291cmNlTG9jYXRpb24gIT0gbnVsbCkNCiAgICAgICAgICAgIHNl\ndElucHV0VXJsRnJvbVJlc291cmNlTG9jYXRpb24oKTsNCg0KICAgICAgICBp\nZiAoX3ZhbGlkYXRpb25Qb2xpY3kgPT0gbnVsbCkNCiAgICAgICAgICAgIHRo\ncm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oDQogICAgICAgICAgICAg\nICAgX2xvYy5nZXQoImNhY2hlLW1hcnNoYWxsZXItbnVsbC12YWxpZGF0aW9u\nLXBvbGljeSIsDQogICAgICAgICAgICAgICAgICAgIGdldENsYXNzKCkuZ2V0\nTmFtZSgpKS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICBpZiAoX2lkID09IG51\nbGwpDQogICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0\naW9uKA0KICAgICAgICAgICAgICAgIF9sb2MuZ2V0KCJjYWNoZS1tYXJzaGFs\nbGVyLW51bGwtaWQiLA0KICAgICAgICAgICAgICAgICAgICBnZXRDbGFzcygp\nLmdldE5hbWUoKSkuZ2V0TWVzc2FnZSgpKTsNCiAgICB9DQoNCiAgICBwcml2\nYXRlIHZvaWQgc2V0SW5wdXRVcmxGcm9tUmVzb3VyY2VMb2NhdGlvbigpIHsN\nCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIENsYXNzTG9hZGVyIGNsID0g\nX2NvbmYuZ2V0Q2xhc3NSZXNvbHZlckluc3RhbmNlKCkNCiAgICAgICAgICAg\nICAgICAuZ2V0Q2xhc3NMb2FkZXIoZ2V0Q2xhc3MoKSwgbnVsbCk7DQogICAg\nICAgICAgICBMaXN0IGxpc3QgPSBuZXcgQXJyYXlMaXN0KCk7DQogICAgICAg\nICAgICBmb3IgKEVudW1lcmF0aW9uIGUgPSBjbC5nZXRSZXNvdXJjZXMoX2lu\ncHV0UmVzb3VyY2VMb2NhdGlvbik7DQogICAgICAgICAgICAgICAgZS5oYXNN\nb3JlRWxlbWVudHMoKTsgKQ0KICAgICAgICAgICAgICAgIGxpc3QuYWRkKGUp\nOw0KDQogICAgICAgICAgICBpZiAobGlzdC5zaXplKCkgPiAxKSB7DQogICAg\nICAgICAgICAgICAgaWYgKF9jb25zdW1lRXJyb3JzKSB7DQogICAgICAgICAg\nICAgICAgICAgIGlmIChfbG9nLmlzV2FybkVuYWJsZWQoKSkNCiAgICAgICAg\nICAgICAgICAgICAgICAgIF9sb2cud2FybihfbG9jLmdldCgNCiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAiY2FjaGUtbWFyc2hhbGxlci1tdWx0aXBs\nZS1yZXNvdXJjZXMtd2FybiIsDQogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgZ2V0SWQoKSwgX2lucHV0UmVzb3VyY2VMb2NhdGlvbiwgbGlzdCkNCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0TWVzc2FnZSgpKTsNCiAg\nICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0\naHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKA0KICAgICAgICAgICAg\nICAgICAgICAgICAgX2xvYy5nZXQoImNhY2hlLW1hcnNoYWxsZXItbXVsdGlw\nbGUtcmVzb3VyY2VzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBn\nZXRJZCgpLCBfaW5wdXRSZXNvdXJjZUxvY2F0aW9uLCBsaXN0KQ0KICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIC5nZXRNZXNzYWdlKCkpOw0KICAgICAg\nICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYg\nKCFsaXN0LmlzRW1wdHkoKSkNCiAgICAgICAgICAgICAgICBfaW5wdXRVUkwg\nPSAoVVJMKSBsaXN0LmdldCgwKTsNCiAgICAgICAgfSBjYXRjaCAoSU9FeGNl\ncHRpb24gaW9lKSB7DQogICAgICAgICAgICBJbGxlZ2FsU3RhdGVFeGNlcHRp\nb24gaXNlID0gbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigNCiAgICAgICAg\nICAgICAgICBfbG9jLmdldCgiY2FjaGUtbWFyc2hhbGxlci1iYWQtdXJsIiwg\nZ2V0SWQoKSwNCiAgICAgICAgICAgICAgICAgICAgX2lucHV0UmVzb3VyY2VM\nb2NhdGlvbikuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgICAgIGlzZS5pbml0\nQ2F1c2UoaW9lKTsNCiAgICAgICAgICAgIHRocm93IGlzZTsNCiAgICAgICAg\nfQ0KICAgIH0NCn0NCg==\n","encoding":"base64"}

