{"sha":"917d6c48e6391cdc3f93eb466a05a753f6624302","node_id":"MDQ6QmxvYjIwNjM2NDo5MTdkNmM0OGU2MzkxY2RjM2Y5M2ViNDY2YTA1YTc1M2Y2NjI0MzAy","size":48987,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/917d6c48e6391cdc3f93eb466a05a753f6624302","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Owpp\nbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1v\nbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5kYXRhY2FjaGUuQ29uY3VycmVudERhdGFDYWNoZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5kYXRhY2FjaGUuQ29uY3VycmVudFF1ZXJ5Q2FjaGU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkRhdGFDYWNo\nZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hl\nLkRhdGFDYWNoZU1hbmFnZXJJbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmVlLk1hbmFnZWRSdW50aW1lOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmV2ZW50Lk9ycGhhbmVkS2V5QWN0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmV2ZW50LlJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5SZW1vdGVDb21taXRQcm92\naWRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5Ccm9rZXJG\nYWN0b3J5RXZlbnRNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmtlcm5lbC5BdXRvQ2xlYXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLkJyb2tlckltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLkNvbm5lY3Rpb25SZXRhaW5Nb2RlczsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuSW52ZXJzZU1hbmFnZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tMZXZlbHM7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tNYW5hZ2VyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5RdWVyeUZsdXNoTW9kZXM7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlJlc3RvcmVTdGF0ZTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuU2F2ZXBvaW50TWFuYWdl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuU2VxOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLkFnZ3JlZ2F0ZUxp\nc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBz\nLkZpbHRlckxpc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLio7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmxvZy5M\nb2c7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxp\nemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURhdGFG\nYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURh\ndGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwu\nQ2xhc3NSZXNvbHZlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGls\nLkltcGxIZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Q\ncm94eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5T\ndG9yZUZhY2FkZVR5cGVSZWdpc3RyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5lbmhhbmNlLlJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3NzZXNNb2RlczsK\nCi8qKgogKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUge0BsaW5rIE9wZW5KUEFD\nb25maWd1cmF0aW9ufSBpbnRlcmZhY2UuCiAqCiAqIEBzZWUgQ29uZmlndXJh\ndGlvbkltcGwKICogQGF1dGhvciBNYXJjIFBydWQnaG9tbWVhdXgKICogQGF1\ndGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBPcGVuSlBBQ29uZmln\ndXJhdGlvbkltcGwKICAgIGV4dGVuZHMgQ29uZmlndXJhdGlvbkltcGwKICAg\nIGltcGxlbWVudHMgT3BlbkpQQUNvbmZpZ3VyYXRpb24gewoKICAgIHByaXZh\ndGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0KICAgICAgICBMb2Nh\nbGl6ZXIuZm9yUGFja2FnZShPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwuY2xh\nc3MpOwoKICAgIC8vIGNhY2hlZCBzdGF0ZTsgc29tZSBvZiB0aGlzIGlzIGNy\nZWF0ZWQgaW4gZ2V0dGVyIG1ldGhvZHMsIHNvIG1ha2UKICAgIC8vIHByb3Rl\nY3RlZCBpbiBjYXNlIHN1YmNsYXNzZXMgd2FudCB0byBhY2Nlc3Mgd2l0aG91\ndCBjcmVhdGluZwogICAgcHJvdGVjdGVkIE1ldGFEYXRhUmVwb3NpdG9yeSBt\nZXRhUmVwb3NpdG9yeSA9IG51bGw7CiAgICBwcm90ZWN0ZWQgUmVtb3RlQ29t\nbWl0RXZlbnRNYW5hZ2VyIHJlbW90ZUV2ZW50TWFuYWdlciA9IG51bGw7Cgog\nICAgLy8gb3BlbmpwYSBwcm9wZXJ0aWVzCiAgICBwdWJsaWMgT2JqZWN0VmFs\ndWUgY2xhc3NSZXNvbHZlclBsdWdpbjsKICAgIHB1YmxpYyBCcm9rZXJWYWx1\nZSBicm9rZXJQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgZGF0YUNh\nY2hlUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGRhdGFDYWNoZU1h\nbmFnZXJQbHVnaW47CiAgICBwdWJsaWMgSW50VmFsdWUgZGF0YUNhY2hlVGlt\nZW91dDsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBxdWVyeUNhY2hlUGx1Z2lu\nOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSBkeW5hbWljRGF0YVN0cnVjdHM7\nCiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgbWFuYWdlZFJ1bnRpbWVQbHVnaW47\nCiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIHRyYW5zYWN0aW9uTW9kZTsKICAg\nIHB1YmxpYyBJbnRWYWx1ZSBjb25uZWN0aW9uUmV0YWluTW9kZTsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSBmZXRjaEJhdGNoU2l6ZTsKICAgIHB1YmxpYyBJbnRW\nYWx1ZSBtYXhGZXRjaERlcHRoOwogICAgcHVibGljIFN0cmluZ0xpc3RWYWx1\nZSBmZXRjaEdyb3VwczsKICAgIHB1YmxpYyBJbnRWYWx1ZSBmbHVzaEJlZm9y\nZVF1ZXJpZXM7CiAgICBwdWJsaWMgSW50VmFsdWUgbG9ja1RpbWVvdXQ7CiAg\nICBwdWJsaWMgSW50VmFsdWUgcmVhZExvY2tMZXZlbDsKICAgIHB1YmxpYyBJ\nbnRWYWx1ZSB3cml0ZUxvY2tMZXZlbDsKICAgIHB1YmxpYyBPYmplY3RWYWx1\nZSBzZXFQbHVnaW47CiAgICBwdWJsaWMgUGx1Z2luTGlzdFZhbHVlIGZpbHRl\nckxpc3RlbmVyUGx1Z2luczsKICAgIHB1YmxpYyBQbHVnaW5MaXN0VmFsdWUg\nYWdncmVnYXRlTGlzdGVuZXJQbHVnaW5zOwogICAgcHVibGljIEJvb2xlYW5W\nYWx1ZSByZXRyeUNsYXNzUmVnaXN0cmF0aW9uOwogICAgcHVibGljIE9iamVj\ndFZhbHVlIHByb3h5TWFuYWdlclBsdWdpbjsKICAgIHB1YmxpYyBTdHJpbmdW\nYWx1ZSBjb25uZWN0aW9uVXNlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFs\ndWUgY29ubmVjdGlvblBhc3N3b3JkOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb25VUkw7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbkRyaXZlck5hbWU7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgY29ubmVj\ndGlvbkZhY3Rvcnk7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVjdGlv\nbkZhY3RvcnlOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25Qcm9wZXJ0aWVzOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25GYWN0b3J5UHJvcGVydGllczsKICAgIHB1YmxpYyBCb29sZWFuVmFsdWUg\nY29ubmVjdGlvbkZhY3RvcnlNb2RlOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb24yVXNlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUg\nY29ubmVjdGlvbjJQYXNzd29yZDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBj\nb25uZWN0aW9uMlVSTDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uMkRyaXZlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbjJQcm9wZXJ0aWVzOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MjsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uRmFjdG9yeTJOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MlByb3BlcnRpZXM7CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIG9wdGltaXN0aWM7CiAgICBwdWJsaWMgSW50VmFsdWUgYXV0b0NsZWFy\nOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSByZXRhaW5TdGF0ZTsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSByZXN0b3JlU3RhdGU7CiAgICBwdWJsaWMgT2JqZWN0\nVmFsdWUgZGV0YWNoU3RhdGVQbHVnaW47CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIGlnbm9yZUNoYW5nZXM7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIG5v\nbnRyYW5zYWN0aW9uYWxSZWFkOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSBu\nb250cmFuc2FjdGlvbmFsV3JpdGU7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVl\nIHJlZnJlc2hGcm9tRGF0YUNhY2hlOwogICAgcHVibGljIEJvb2xlYW5WYWx1\nZSBtdWx0aXRocmVhZGVkOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIG1hcHBp\nbmc7CiAgICBwdWJsaWMgUGx1Z2luVmFsdWUgbWV0YUZhY3RvcnlQbHVnaW47\nCiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgbWV0YVJlcG9zaXRvcnlQbHVnaW47\nCiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgbG9ja01hbmFnZXJQbHVnaW47CiAg\nICBwdWJsaWMgT2JqZWN0VmFsdWUgaW52ZXJzZU1hbmFnZXJQbHVnaW47CiAg\nICBwdWJsaWMgT2JqZWN0VmFsdWUgc2F2ZXBvaW50TWFuYWdlclBsdWdpbjsK\nICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBvcnBoYW5lZEtleVBsdWdpbjsKICAg\nIHB1YmxpYyBPYmplY3RWYWx1ZSBjb21wYXRpYmlsaXR5UGx1Z2luOwogICAg\ncHVibGljIFF1ZXJ5Q29tcGlsYXRpb25DYWNoZVZhbHVlIHF1ZXJ5Q29tcGls\nYXRpb25DYWNoZVBsdWdpbjsKICAgIHB1YmxpYyBJbnRWYWx1ZSBydW50aW1l\nVW5lbmhhbmNlZENsYXNzZXM7CiAgICBwdWJsaWMgQ2FjaGVNYXJzaGFsbGVy\nc1ZhbHVlIGNhY2hlTWFyc2hhbGxlclBsdWdpbnM7CgogICAgLy8gY3VzdG9t\nIHZhbHVlcwogICAgcHVibGljIEJyb2tlckZhY3RvcnlWYWx1ZSBicm9rZXJG\nYWN0b3J5UGx1Z2luOwogICAgcHVibGljIFJlbW90ZUNvbW1pdFByb3ZpZGVy\nVmFsdWUgcmVtb3RlUHJvdmlkZXJQbHVnaW47CiAgICBwdWJsaWMgQXV0b0Rl\ndGFjaFZhbHVlIGF1dG9EZXRhY2g7CgogICAgcHJpdmF0ZSBDb2xsZWN0aW9u\nIHN1cHBvcnRlZE9wdGlvbnMgPSBuZXcgSGFzaFNldCgzMyk7CiAgICBwcml2\nYXRlIFN0cmluZyBzcGVjID0gbnVsbDsKICAgIHByaXZhdGUgZmluYWwgU3Rv\ncmVGYWNhZGVUeXBlUmVnaXN0cnkgX3N0b3JlRmFjYWRlUmVnaXN0cnkgPQog\nICAgICAgIG5ldyBTdG9yZUZhY2FkZVR5cGVSZWdpc3RyeSgpOwogICAgcHJp\ndmF0ZSBCcm9rZXJGYWN0b3J5RXZlbnRNYW5hZ2VyIF9icm9rZXJGYWN0b3J5\nRXZlbnRNYW5hZ2VyID0KICAgICAgICBuZXcgQnJva2VyRmFjdG9yeUV2ZW50\nTWFuYWdlcih0aGlzKTsKCiAgICAvKioKICAgICAqIERlZmF1bHQgY29uc3Ry\ndWN0b3IuIEF0dGVtcHRzIHRvIGxvYWQgZ2xvYmFsIHByb3BlcnRpZXMuCiAg\nICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwoKSB7\nCiAgICAgICAgdGhpcyh0cnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIENv\nbnN0cnVjdG9yLgogICAgICoKICAgICAqIEBwYXJhbSBsb2FkR2xvYmFscyB3\naGV0aGVyIHRvIGF0dGVtcHQgdG8gbG9hZCB0aGUgZ2xvYmFsIHByb3BlcnRp\nZXMKICAgICAqLwogICAgcHVibGljIE9wZW5KUEFDb25maWd1cmF0aW9uSW1w\nbChib29sZWFuIGxvYWRHbG9iYWxzKSB7CiAgICAgICAgdGhpcyh0cnVlLCBs\nb2FkR2xvYmFscyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rv\nci4KICAgICAqCiAgICAgKiBAcGFyYW0gZGVyaXZhdGlvbnMgd2hldGhlciB0\nbyBhcHBseSBwcm9kdWN0IGRlcml2YXRpb25zCiAgICAgKiBAcGFyYW0gbG9h\nZEdsb2JhbHMgd2hldGhlciB0byBhdHRlbXB0IHRvIGxvYWQgdGhlIGdsb2Jh\nbCBwcm9wZXJ0aWVzCiAgICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBQ29uZmln\ndXJhdGlvbkltcGwoYm9vbGVhbiBkZXJpdmF0aW9ucywgYm9vbGVhbiBsb2Fk\nR2xvYmFscykgewogICAgICAgIHN1cGVyKGZhbHNlKTsKICAgICAgICBTdHJp\nbmdbXSBhbGlhc2VzOwoKICAgICAgICBjbGFzc1Jlc29sdmVyUGx1Z2luID0g\nYWRkUGx1Z2luKCJDbGFzc1Jlc29sdmVyIiwgdHJ1ZSk7CiAgICAgICAgYWxp\nYXNlcyA9CiAgICAgICAgICAgIG5ldyBTdHJpbmdbXSB7ICJkZWZhdWx0IiwK\nICAgICAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5DbGFz\nc1Jlc29sdmVySW1wbCIsCiAgICAgICAgICAgICAgICAvLyBkZXByZWNhdGVk\nIGFsaWFzCiAgICAgICAgICAgICAgICAic3BlYyIsICJvcmcuYXBhY2hlLm9w\nZW5qcGEudXRpbC5DbGFzc1Jlc29sdmVySW1wbCIsIH07CiAgICAgICAgY2xh\nc3NSZXNvbHZlclBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAg\nIGNsYXNzUmVzb2x2ZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsK\nICAgICAgICBjbGFzc1Jlc29sdmVyUGx1Z2luLnNldFN0cmluZyhhbGlhc2Vz\nWzBdKTsKICAgICAgICBjbGFzc1Jlc29sdmVyUGx1Z2luLnNldEluc3RhbnRp\nYXRpbmdHZXR0ZXIoImdldENsYXNzUmVzb2x2ZXJJbnN0YW5jZSIpOwoKICAg\nICAgICBicm9rZXJGYWN0b3J5UGx1Z2luID0gbmV3IEJyb2tlckZhY3RvcnlW\nYWx1ZSgpOwogICAgICAgIGFkZFZhbHVlKGJyb2tlckZhY3RvcnlQbHVnaW4p\nOwoKICAgICAgICBicm9rZXJQbHVnaW4gPSBuZXcgQnJva2VyVmFsdWUoKTsK\nICAgICAgICBhZGRWYWx1ZShicm9rZXJQbHVnaW4pOwoKICAgICAgICBkYXRh\nQ2FjaGVNYW5hZ2VyUGx1Z2luID0gYWRkUGx1Z2luKCJEYXRhQ2FjaGVNYW5h\nZ2VyIiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9CiAgICAgICAgICAgIG5l\ndyBTdHJpbmdbXSB7ICJkZWZhdWx0IiwgRGF0YUNhY2hlTWFuYWdlckltcGwu\nY2xhc3MuZ2V0TmFtZSgpLCB9OwogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQ\nbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBkYXRhQ2FjaGVN\nYW5hZ2VyUGx1Z2luLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAg\nZGF0YUNhY2hlTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7\nCiAgICAgICAgZGF0YUNhY2hlTWFuYWdlclBsdWdpbi5zZXRJbnN0YW50aWF0\naW5nR2V0dGVyKCJnZXREYXRhQ2FjaGVNYW5hZ2VyIik7CgogICAgICAgIGRh\ndGFDYWNoZVBsdWdpbiA9IGFkZFBsdWdpbigiRGF0YUNhY2hlIiwgZmFsc2Up\nOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW10geyAKICAgICAgICAg\nICAgImZhbHNlIiwgbnVsbCwgCiAgICAgICAgICAgICJ0cnVlIiwgQ29uY3Vy\ncmVudERhdGFDYWNoZS5jbGFzcy5nZXROYW1lKCksIAogICAgICAgICAgICAi\nY29uY3VycmVudCIsIENvbmN1cnJlbnREYXRhQ2FjaGUuY2xhc3MuZ2V0TmFt\nZSgpLCAKICAgICAgICB9OwogICAgICAgIGRhdGFDYWNoZVBsdWdpbi5zZXRB\nbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGRhdGFDYWNoZVBsdWdpbi5zZXRE\nZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGRhdGFDYWNoZVBsdWdpbi5z\nZXRTdHJpbmcoYWxpYXNlc1swXSk7CgogICAgICAgIGRhdGFDYWNoZVRpbWVv\ndXQgPSBhZGRJbnQoIkRhdGFDYWNoZVRpbWVvdXQiKTsKICAgICAgICBkYXRh\nQ2FjaGVUaW1lb3V0LnNldERlZmF1bHQoIi0xIik7CiAgICAgICAgZGF0YUNh\nY2hlVGltZW91dC5zZXQoLTEpOwogICAgICAgIGRhdGFDYWNoZVRpbWVvdXQu\nc2V0RHluYW1pYyh0cnVlKTsKCiAgICAgICAgcXVlcnlDYWNoZVBsdWdpbiA9\nIGFkZFBsdWdpbigiUXVlcnlDYWNoZSIsIHRydWUpOwogICAgICAgIGFsaWFz\nZXMgPSBuZXcgU3RyaW5nW10geyAKICAgICAgICAgICAgInRydWUiLCBDb25j\ndXJyZW50UXVlcnlDYWNoZS5jbGFzcy5nZXROYW1lKCksCiAgICAgICAgICAg\nICJjb25jdXJyZW50IiwgQ29uY3VycmVudFF1ZXJ5Q2FjaGUuY2xhc3MuZ2V0\nTmFtZSgpLCAKICAgICAgICAgICAgImZhbHNlIiwgbnVsbCwgCiAgICAgICAg\nfTsKICAgICAgICBxdWVyeUNhY2hlUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNl\ncyk7CiAgICAgICAgcXVlcnlDYWNoZVBsdWdpbi5zZXREZWZhdWx0KGFsaWFz\nZXNbMF0pOwogICAgICAgIHF1ZXJ5Q2FjaGVQbHVnaW4uc2V0U3RyaW5nKGFs\naWFzZXNbMF0pOwogICAgICAgIAogICAgICAgIHJlZnJlc2hGcm9tRGF0YUNh\nY2hlID0gYWRkQm9vbGVhbigiUmVmcmVzaEZyb21EYXRhQ2FjaGUiKTsKICAg\nICAgICByZWZyZXNoRnJvbURhdGFDYWNoZS5zZXREZWZhdWx0KCJmYWxzZSIp\nOwogICAgICAgIHJlZnJlc2hGcm9tRGF0YUNhY2hlLnNldChmYWxzZSk7CiAg\nICAgICAgcmVmcmVzaEZyb21EYXRhQ2FjaGUuc2V0RHluYW1pYyh0cnVlKTsK\nICAgICAgICAKICAgICAgICBkeW5hbWljRGF0YVN0cnVjdHMgPSBhZGRCb29s\nZWFuKCJEeW5hbWljRGF0YVN0cnVjdHMiKTsKICAgICAgICBkeW5hbWljRGF0\nYVN0cnVjdHMuc2V0RGVmYXVsdCgiZmFsc2UiKTsKICAgICAgICBkeW5hbWlj\nRGF0YVN0cnVjdHMuc2V0KGZhbHNlKTsKCiAgICAgICAgbG9ja01hbmFnZXJQ\nbHVnaW4gPSBhZGRQbHVnaW4oIkxvY2tNYW5hZ2VyIiwgZmFsc2UpOwogICAg\nICAgIGFsaWFzZXMgPQogICAgICAgICAgICBuZXcgU3RyaW5nW10geyAibm9u\nZSIsICJvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLk5vbmVMb2NrTWFuYWdl\nciIsCiAgICAgICAgICAgICAgICAidmVyc2lvbiIsICJvcmcuYXBhY2hlLm9w\nZW5qcGEua2VybmVsLlZlcnNpb25Mb2NrTWFuYWdlciIsIH07CiAgICAgICAg\nbG9ja01hbmFnZXJQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAg\nICBsb2NrTWFuYWdlclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwog\nICAgICAgIGxvY2tNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBd\nKTsKCiAgICAgICAgaW52ZXJzZU1hbmFnZXJQbHVnaW4gPSBhZGRQbHVnaW4o\nIkludmVyc2VNYW5hZ2VyIiwgZmFsc2UpOwogICAgICAgIGFsaWFzZXMgPQog\nICAgICAgICAgICBuZXcgU3RyaW5nW10geyAiZmFsc2UiLCBudWxsLCAidHJ1\nZSIsCiAgICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLmtlcm5l\nbC5JbnZlcnNlTWFuYWdlciIsIH07CiAgICAgICAgaW52ZXJzZU1hbmFnZXJQ\nbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBpbnZlcnNlTWFu\nYWdlclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGlu\ndmVyc2VNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKCiAg\nICAgICAgc2F2ZXBvaW50TWFuYWdlclBsdWdpbiA9IGFkZFBsdWdpbigiU2F2\nZXBvaW50TWFuYWdlciIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPQogICAg\nICAgICAgICBuZXcgU3RyaW5nW10geyAiaW4tbWVtIiwKICAgICAgICAgICAg\nICAgICJvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkluTWVtb3J5U2F2ZXBv\naW50TWFuYWdlciIsIH07CiAgICAgICAgc2F2ZXBvaW50TWFuYWdlclBsdWdp\nbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHNhdmVwb2ludE1hbmFn\nZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBzYXZl\ncG9pbnRNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAg\nICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luCiAgICAgICAgICAgIC5zZXRJ\nbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRTYXZlcG9pbnRNYW5hZ2VySW5zdGFu\nY2UiKTsKCiAgICAgICAgb3JwaGFuZWRLZXlQbHVnaW4gPSBhZGRQbHVnaW4o\nIk9ycGhhbmVkS2V5QWN0aW9uIiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9\nCiAgICAgICAgICAgIG5ldyBTdHJpbmdbXSB7ICJsb2ciLAogICAgICAgICAg\nICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5Mb2dPcnBoYW5lZEtl\neUFjdGlvbiIsICJleGNlcHRpb24iLAogICAgICAgICAgICAgICAgIm9yZy5h\ncGFjaGUub3BlbmpwYS5ldmVudC5FeGNlcHRpb25PcnBoYW5lZEtleUFjdGlv\nbiIsICJub25lIiwKICAgICAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5q\ncGEuZXZlbnQuTm9uZU9ycGhhbmVkS2V5QWN0aW9uIiwgfTsKICAgICAgICBv\ncnBoYW5lZEtleVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAg\nIG9ycGhhbmVkS2V5UGx1Z2luLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAg\nICAgICAgb3JwaGFuZWRLZXlQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0p\nOwogICAgICAgIG9ycGhhbmVkS2V5UGx1Z2luCiAgICAgICAgICAgIC5zZXRJ\nbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRPcnBoYW5lZEtleUFjdGlvbkluc3Rh\nbmNlIik7CgogICAgICAgIHJlbW90ZVByb3ZpZGVyUGx1Z2luID0gbmV3IFJl\nbW90ZUNvbW1pdFByb3ZpZGVyVmFsdWUoKTsKICAgICAgICBhZGRWYWx1ZShy\nZW1vdGVQcm92aWRlclBsdWdpbik7CgogICAgICAgIHRyYW5zYWN0aW9uTW9k\nZSA9IGFkZEJvb2xlYW4oIlRyYW5zYWN0aW9uTW9kZSIpOwogICAgICAgIGFs\naWFzZXMgPSBuZXcgU3RyaW5nW10geyAibG9jYWwiLCAiZmFsc2UiLCAibWFu\nYWdlZCIsICJ0cnVlIiwgfTsKICAgICAgICB0cmFuc2FjdGlvbk1vZGUuc2V0\nQWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICB0cmFuc2FjdGlvbk1vZGUuc2V0\nRGVmYXVsdChhbGlhc2VzWzBdKTsKCiAgICAgICAgbWFuYWdlZFJ1bnRpbWVQ\nbHVnaW4gPSBhZGRQbHVnaW4oIk1hbmFnZWRSdW50aW1lIiwgdHJ1ZSk7CiAg\nICAgICAgYWxpYXNlcyA9CiAgICAgICAgICAgIG5ldyBTdHJpbmdbXSB7ICJh\ndXRvIiwKICAgICAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEuZWUu\nQXV0b21hdGljTWFuYWdlZFJ1bnRpbWUiLCAiam5kaSIsCiAgICAgICAgICAg\nICAgICAib3JnLmFwYWNoZS5vcGVuanBhLmVlLkpORElNYW5hZ2VkUnVudGlt\nZSIsICJpbnZvY2F0aW9uIiwKICAgICAgICAgICAgICAgICJvcmcuYXBhY2hl\nLm9wZW5qcGEuZWUuSW52b2NhdGlvbk1hbmFnZWRSdW50aW1lIiwgfTsKICAg\nICAgICBtYW5hZ2VkUnVudGltZVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMp\nOwogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luLnNldERlZmF1bHQoYWxp\nYXNlc1swXSk7CiAgICAgICAgbWFuYWdlZFJ1bnRpbWVQbHVnaW4uc2V0U3Ry\naW5nKGFsaWFzZXNbMF0pOwogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2lu\nCiAgICAgICAgICAgIC5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRNYW5h\nZ2VkUnVudGltZUluc3RhbmNlIik7CgogICAgICAgIHByb3h5TWFuYWdlclBs\ndWdpbiA9IGFkZFBsdWdpbigiUHJveHlNYW5hZ2VyIiwgdHJ1ZSk7CiAgICAg\nICAgYWxpYXNlcyA9CiAgICAgICAgICAgIG5ldyBTdHJpbmdbXSB7ICJkZWZh\ndWx0IiwKICAgICAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEudXRp\nbC5Qcm94eU1hbmFnZXJJbXBsIiB9OwogICAgICAgIHByb3h5TWFuYWdlclBs\ndWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHByb3h5TWFuYWdl\nclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIHByb3h5\nTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CiAgICAgICAg\ncHJveHlNYW5hZ2VyUGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdl\ndFByb3h5TWFuYWdlckluc3RhbmNlIik7CgogICAgICAgIG1hcHBpbmcgPSBh\nZGRTdHJpbmcoIk1hcHBpbmciKTsKICAgICAgICBtZXRhRmFjdG9yeVBsdWdp\nbiA9IGFkZFBsdWdpbigiTWV0YURhdGFGYWN0b3J5IiwgZmFsc2UpOwoKICAg\nICAgICBtZXRhUmVwb3NpdG9yeVBsdWdpbiA9IChPYmplY3RWYWx1ZSkKICAg\nICAgICAgICAgYWRkVmFsdWUobmV3IE1ldGFEYXRhUmVwb3NpdG9yeVZhbHVl\nKCkpOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9yeSA9IGFkZE9iamVjdCgi\nQ29ubmVjdGlvbkZhY3RvcnkiKTsKICAgICAgICBjb25uZWN0aW9uRmFjdG9y\neS5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRDb25uZWN0aW9uRmFjdG9y\neSIpOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9yeTIgPSBhZGRPYmplY3Qo\nIkNvbm5lY3Rpb25GYWN0b3J5MiIpOwogICAgICAgIGNvbm5lY3Rpb25GYWN0\nb3J5Mi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRDb25uZWN0aW9uRmFj\ndG9yeTIiKTsKICAgICAgICAvLyBUaGlzIGlzIGRvbmUgYmVjYXVzZSB0aGlz\nIHBsdWctaW4gbWF5IGdldCBpbml0aWFsaXplZCB2ZXJ5IGxhemlseQogICAg\nICAgIC8vIHdoZW4gdGhlIHJ1bnRpbWUgbmVlZHMgaXQgZm9yIGZsdXNoIG9y\nIGEgc2VxdWVuY2UuIFRvIGtlZXAgaXQKICAgICAgICAvLyBkeW5hbWljIGFs\nbG93cyBpdCB0byBiZSBzZXQgZXZlbiB3aGVuIHRoZSBjb25maWd1cmF0aW9u\nIGlzIGZyb3plbgogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5LnNldER5bmFt\naWModHJ1ZSk7CiAgICAgICAgY29ubmVjdGlvbkZhY3RvcnkyLnNldER5bmFt\naWModHJ1ZSk7CgoKICAgICAgICBjb25uZWN0aW9uVXNlck5hbWUgPSBhZGRT\ndHJpbmcoIkNvbm5lY3Rpb25Vc2VyTmFtZSIpOwogICAgICAgIGNvbm5lY3Rp\nb25QYXNzd29yZCA9IGFkZFN0cmluZygiQ29ubmVjdGlvblBhc3N3b3JkIik7\nCiAgICAgICAgY29ubmVjdGlvblVSTCA9IGFkZFN0cmluZygiQ29ubmVjdGlv\nblVSTCIpOwogICAgICAgIGNvbm5lY3Rpb25Ecml2ZXJOYW1lID0gYWRkU3Ry\naW5nKCJDb25uZWN0aW9uRHJpdmVyTmFtZSIpOwogICAgICAgIGNvbm5lY3Rp\nb25GYWN0b3J5TmFtZSA9IGFkZFN0cmluZygiQ29ubmVjdGlvbkZhY3RvcnlO\nYW1lIik7CiAgICAgICAgY29ubmVjdGlvblByb3BlcnRpZXMgPSBhZGRTdHJp\nbmcoIkNvbm5lY3Rpb25Qcm9wZXJ0aWVzIik7CiAgICAgICAgY29ubmVjdGlv\nbkZhY3RvcnlQcm9wZXJ0aWVzID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uRmFj\ndG9yeVByb3BlcnRpZXMiKTsKICAgICAgICBjb25uZWN0aW9uMlVzZXJOYW1l\nID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uMlVzZXJOYW1lIik7CiAgICAgICAg\nY29ubmVjdGlvbjJQYXNzd29yZCA9IGFkZFN0cmluZygiQ29ubmVjdGlvbjJQ\nYXNzd29yZCIpOwogICAgICAgIGNvbm5lY3Rpb24yVVJMID0gYWRkU3RyaW5n\nKCJDb25uZWN0aW9uMlVSTCIpOwogICAgICAgIGNvbm5lY3Rpb24yRHJpdmVy\nTmFtZSA9IGFkZFN0cmluZygiQ29ubmVjdGlvbjJEcml2ZXJOYW1lIik7CiAg\nICAgICAgY29ubmVjdGlvbjJQcm9wZXJ0aWVzID0gYWRkU3RyaW5nKCJDb25u\nZWN0aW9uMlByb3BlcnRpZXMiKTsKICAgICAgICBjb25uZWN0aW9uRmFjdG9y\neTJQcm9wZXJ0aWVzID0KICAgICAgICAgICAgYWRkU3RyaW5nKCJDb25uZWN0\naW9uRmFjdG9yeTJQcm9wZXJ0aWVzIik7CiAgICAgICAgY29ubmVjdGlvbkZh\nY3RvcnkyTmFtZSA9IGFkZFN0cmluZygiQ29ubmVjdGlvbkZhY3RvcnkyTmFt\nZSIpOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9yeU1vZGUgPSBhZGRCb29s\nZWFuKCJDb25uZWN0aW9uRmFjdG9yeU1vZGUiKTsKICAgICAgICBhbGlhc2Vz\nID0gbmV3IFN0cmluZ1tdIHsgImxvY2FsIiwgImZhbHNlIiwgIm1hbmFnZWQi\nLCAidHJ1ZSIsIH07CiAgICAgICAgY29ubmVjdGlvbkZhY3RvcnlNb2RlLnNl\ndEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgY29ubmVjdGlvbkZhY3RvcnlN\nb2RlLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CgogICAgICAgIG9wdGltaXN0\naWMgPSBhZGRCb29sZWFuKCJPcHRpbWlzdGljIik7CiAgICAgICAgb3B0aW1p\nc3RpYy5zZXREZWZhdWx0KCJ0cnVlIik7CiAgICAgICAgb3B0aW1pc3RpYy5z\nZXQodHJ1ZSk7CgogICAgICAgIGF1dG9DbGVhciA9IGFkZEludCgiQXV0b0Ns\nZWFyIik7CiAgICAgICAgYWxpYXNlcyA9CiAgICAgICAgICAgIG5ldyBTdHJp\nbmdbXSB7ICJkYXRhc3RvcmUiLAogICAgICAgICAgICAgICAgU3RyaW5nLnZh\nbHVlT2YoQXV0b0NsZWFyLkNMRUFSX0RBVEFTVE9SRSksICJhbGwiLAogICAg\nICAgICAgICAgICAgU3RyaW5nLnZhbHVlT2YoQXV0b0NsZWFyLkNMRUFSX0FM\nTCksIH07CiAgICAgICAgYXV0b0NsZWFyLnNldEFsaWFzZXMoYWxpYXNlcyk7\nCiAgICAgICAgYXV0b0NsZWFyLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAg\nICAgICAgYXV0b0NsZWFyLnNldChBdXRvQ2xlYXIuQ0xFQVJfREFUQVNUT1JF\nKTsKICAgICAgICBhdXRvQ2xlYXIuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2\nZSh0cnVlKTsKCiAgICAgICAgcmV0YWluU3RhdGUgPSBhZGRCb29sZWFuKCJS\nZXRhaW5TdGF0ZSIpOwogICAgICAgIHJldGFpblN0YXRlLnNldERlZmF1bHQo\nInRydWUiKTsKICAgICAgICByZXRhaW5TdGF0ZS5zZXQodHJ1ZSk7CgogICAg\nICAgIHJlc3RvcmVTdGF0ZSA9IGFkZEludCgiUmVzdG9yZVN0YXRlIik7CiAg\nICAgICAgYWxpYXNlcyA9CiAgICAgICAgICAgIG5ldyBTdHJpbmdbXSB7ICJu\nb25lIiwgU3RyaW5nLnZhbHVlT2YoUmVzdG9yZVN0YXRlLlJFU1RPUkVfTk9O\nRSksCiAgICAgICAgICAgICAgICAiZmFsc2UiLCBTdHJpbmcudmFsdWVPZihS\nZXN0b3JlU3RhdGUuUkVTVE9SRV9OT05FKSwKICAgICAgICAgICAgICAgICJp\nbW11dGFibGUiLCBTdHJpbmcudmFsdWVPZihSZXN0b3JlU3RhdGUuUkVTVE9S\nRV9JTU1VVEFCTEUpLAogICAgICAgICAgICAgICAgLy8gInRydWUiIGZvciBj\nb21wYXQgd2l0aCBqZG8gUmVzdG9yZVZhbHVlcwogICAgICAgICAgICAgICAg\nInRydWUiLCBTdHJpbmcudmFsdWVPZihSZXN0b3JlU3RhdGUuUkVTVE9SRV9J\nTU1VVEFCTEUpLCAiYWxsIiwKICAgICAgICAgICAgICAgIFN0cmluZy52YWx1\nZU9mKFJlc3RvcmVTdGF0ZS5SRVNUT1JFX0FMTCksIH07CiAgICAgICAgcmVz\ndG9yZVN0YXRlLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgcmVzdG9y\nZVN0YXRlLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgcmVzdG9y\nZVN0YXRlLnNldChSZXN0b3JlU3RhdGUuUkVTVE9SRV9JTU1VVEFCTEUpOwog\nICAgICAgIHJlc3RvcmVTdGF0ZS5zZXRBbGlhc0xpc3RDb21wcmVoZW5zaXZl\nKHRydWUpOwoKICAgICAgICBhdXRvRGV0YWNoID0gbmV3IEF1dG9EZXRhY2hW\nYWx1ZSgpOwogICAgICAgIGFkZFZhbHVlKGF1dG9EZXRhY2gpOwoKICAgICAg\nICBkZXRhY2hTdGF0ZVBsdWdpbiA9IGFkZFBsdWdpbigiRGV0YWNoU3RhdGUi\nLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsKICAg\nICAgICAgICAgImxvYWRlZCIsIERldGFjaE9wdGlvbnMuTG9hZGVkLmNsYXNz\nLmdldE5hbWUoKSwKICAgICAgICAgICAgImZncyIsIERldGFjaE9wdGlvbnMu\nRmV0Y2hHcm91cHMuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICAiZmV0\nY2gtZ3JvdXBzIiwgRGV0YWNoT3B0aW9ucy5GZXRjaEdyb3Vwcy5jbGFzcy5n\nZXROYW1lKCksIAogICAgICAgICAgICAiYWxsIiwgRGV0YWNoT3B0aW9ucy5B\nbGwuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgIH07CiAgICAgICAgZGV0YWNo\nU3RhdGVQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBkZXRh\nY2hTdGF0ZVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAg\nIGRldGFjaFN0YXRlUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAg\nICAgICBkZXRhY2hTdGF0ZVBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVy\nKCJnZXREZXRhY2hTdGF0ZUluc3RhbmNlIik7CgogICAgICAgIGlnbm9yZUNo\nYW5nZXMgPSBhZGRCb29sZWFuKCJJZ25vcmVDaGFuZ2VzIik7CgogICAgICAg\nIG5vbnRyYW5zYWN0aW9uYWxSZWFkID0gYWRkQm9vbGVhbigiTm9udHJhbnNh\nY3Rpb25hbFJlYWQiKTsKICAgICAgICBub250cmFuc2FjdGlvbmFsUmVhZC5z\nZXREZWZhdWx0KCJ0cnVlIik7CiAgICAgICAgbm9udHJhbnNhY3Rpb25hbFJl\nYWQuc2V0KHRydWUpOwoKICAgICAgICBub250cmFuc2FjdGlvbmFsV3JpdGUg\nPSBhZGRCb29sZWFuKCJOb250cmFuc2FjdGlvbmFsV3JpdGUiKTsKICAgICAg\nICBtdWx0aXRocmVhZGVkID0gYWRkQm9vbGVhbigiTXVsdGl0aHJlYWRlZCIp\nOwoKICAgICAgICBmZXRjaEJhdGNoU2l6ZSA9IGFkZEludCgiRmV0Y2hCYXRj\naFNpemUiKTsKICAgICAgICBmZXRjaEJhdGNoU2l6ZS5zZXREZWZhdWx0KCIt\nMSIpOwogICAgICAgIGZldGNoQmF0Y2hTaXplLnNldCgtMSk7CiAgICAgICAg\nZmV0Y2hCYXRjaFNpemUuc2V0RHluYW1pYyh0cnVlKTsKCiAgICAgICAgbWF4\nRmV0Y2hEZXB0aCA9IGFkZEludCgiTWF4RmV0Y2hEZXB0aCIpOwogICAgICAg\nIG1heEZldGNoRGVwdGguc2V0RGVmYXVsdCgiLTEiKTsKICAgICAgICBtYXhG\nZXRjaERlcHRoLnNldCgtMSk7CgogICAgICAgIGZldGNoR3JvdXBzID0gYWRk\nU3RyaW5nTGlzdCgiRmV0Y2hHcm91cHMiKTsKICAgICAgICBmZXRjaEdyb3Vw\ncy5zZXREZWZhdWx0KCJkZWZhdWx0Iik7CiAgICAgICAgZmV0Y2hHcm91cHMu\nc2V0KG5ldyBTdHJpbmdbXSB7ICJkZWZhdWx0IiB9KTsKCiAgICAgICAgZmx1\nc2hCZWZvcmVRdWVyaWVzID0gYWRkSW50KCJGbHVzaEJlZm9yZVF1ZXJpZXMi\nKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAgbmV3IFN0cmluZ1td\nIHsgInRydWUiLCBTdHJpbmcudmFsdWVPZihRdWVyeUZsdXNoTW9kZXMuRkxV\nU0hfVFJVRSksCiAgICAgICAgICAgICAgICAiZmFsc2UiLCBTdHJpbmcudmFs\ndWVPZihRdWVyeUZsdXNoTW9kZXMuRkxVU0hfRkFMU0UpLAogICAgICAgICAg\nICAgICAgIndpdGgtY29ubmVjdGlvbiIsCiAgICAgICAgICAgICAgICBTdHJp\nbmcudmFsdWVPZihRdWVyeUZsdXNoTW9kZXMuRkxVU0hfV0lUSF9DT05ORUNU\nSU9OKSwgfTsKICAgICAgICBmbHVzaEJlZm9yZVF1ZXJpZXMuc2V0QWxpYXNl\ncyhhbGlhc2VzKTsKICAgICAgICBmbHVzaEJlZm9yZVF1ZXJpZXMuc2V0RGVm\nYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBmbHVzaEJlZm9yZVF1ZXJpZXMu\nc2V0KFF1ZXJ5Rmx1c2hNb2Rlcy5GTFVTSF9UUlVFKTsKICAgICAgICBmbHVz\naEJlZm9yZVF1ZXJpZXMuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVl\nKTsKCiAgICAgICAgbG9ja1RpbWVvdXQgPSBhZGRJbnQoIkxvY2tUaW1lb3V0\nIik7CiAgICAgICAgbG9ja1RpbWVvdXQuc2V0RGVmYXVsdCgiLTEiKTsKICAg\nICAgICBsb2NrVGltZW91dC5zZXQoLTEpOwogICAgICAgIGxvY2tUaW1lb3V0\nLnNldER5bmFtaWModHJ1ZSk7CiAgICAgICAgCiAgICAgICAgcmVhZExvY2tM\nZXZlbCA9IGFkZEludCgiUmVhZExvY2tMZXZlbCIpOwogICAgICAgIGFsaWFz\nZXMgPQogICAgICAgICAgICBuZXcgU3RyaW5nW10gewogICAgICAgICAgICAg\nICAgInJlYWQiLCBTdHJpbmcudmFsdWVPZihMb2NrTGV2ZWxzLkxPQ0tfUkVB\nRCksCiAgICAgICAgICAgICAgICAid3JpdGUiLCBTdHJpbmcudmFsdWVPZihM\nb2NrTGV2ZWxzLkxPQ0tfV1JJVEUpLAogICAgICAgICAgICAgICAgIm5vbmUi\nLCBTdHJpbmcudmFsdWVPZihMb2NrTGV2ZWxzLkxPQ0tfTk9ORSksCiAgICAg\nICAgICAgIH07CiAgICAgICAgcmVhZExvY2tMZXZlbC5zZXRBbGlhc2VzKGFs\naWFzZXMpOwogICAgICAgIHJlYWRMb2NrTGV2ZWwuc2V0RGVmYXVsdChhbGlh\nc2VzWzBdKTsKICAgICAgICByZWFkTG9ja0xldmVsLnNldChMb2NrTGV2ZWxz\nLkxPQ0tfUkVBRCk7CiAgICAgICAgcmVhZExvY2tMZXZlbC5zZXRBbGlhc0xp\nc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICB3cml0ZUxvY2tMZXZl\nbCA9IGFkZEludCgiV3JpdGVMb2NrTGV2ZWwiKTsKICAgICAgICBhbGlhc2Vz\nID0KICAgICAgICAgICAgbmV3IFN0cmluZ1tdIHsKICAgICAgICAgICAgICAg\nICJyZWFkIiwgU3RyaW5nLnZhbHVlT2YoTG9ja0xldmVscy5MT0NLX1JFQUQp\nLAogICAgICAgICAgICAgICAgIndyaXRlIiwgU3RyaW5nLnZhbHVlT2YoTG9j\na0xldmVscy5MT0NLX1dSSVRFKSwKICAgICAgICAgICAgICAgICJub25lIiwg\nU3RyaW5nLnZhbHVlT2YoTG9ja0xldmVscy5MT0NLX05PTkUpLAogICAgICAg\nICAgICB9OwogICAgICAgIHdyaXRlTG9ja0xldmVsLnNldEFsaWFzZXMoYWxp\nYXNlcyk7CiAgICAgICAgd3JpdGVMb2NrTGV2ZWwuc2V0RGVmYXVsdChhbGlh\nc2VzWzFdKTsKICAgICAgICB3cml0ZUxvY2tMZXZlbC5zZXQoTG9ja0xldmVs\ncy5MT0NLX1dSSVRFKTsKICAgICAgICB3cml0ZUxvY2tMZXZlbC5zZXRBbGlh\nc0xpc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBzZXFQbHVnaW4g\nPSBuZXcgU2VxVmFsdWUoIlNlcXVlbmNlIik7CiAgICAgICAgc2VxUGx1Z2lu\nLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldFNlcXVlbmNlSW5zdGFuY2Ui\nKTsKICAgICAgICBhZGRWYWx1ZShzZXFQbHVnaW4pOwoKICAgICAgICBjb25u\nZWN0aW9uUmV0YWluTW9kZSA9IGFkZEludCgiQ29ubmVjdGlvblJldGFpbk1v\nZGUiKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAgbmV3IFN0cmlu\nZ1tdIHsKICAgICAgICAgICAgICAgICJvbi1kZW1hbmQiLAogICAgICAgICAg\nICAgICAgU3RyaW5nLnZhbHVlT2YoQ29ubmVjdGlvblJldGFpbk1vZGVzLkNP\nTk5fUkVUQUlOX0RFTUFORCksCiAgICAgICAgICAgICAgICAidHJhbnNhY3Rp\nb24iLAogICAgICAgICAgICAgICAgU3RyaW5nLnZhbHVlT2YoQ29ubmVjdGlv\nblJldGFpbk1vZGVzLkNPTk5fUkVUQUlOX1RSQU5TKSwKICAgICAgICAgICAg\nICAgICJhbHdheXMiLAogICAgICAgICAgICAgICAgU3RyaW5nLnZhbHVlT2Yo\nQ29ubmVjdGlvblJldGFpbk1vZGVzLkNPTk5fUkVUQUlOX0FMV0FZUyksCiAg\nICAgICAgICAgICAgICAvLyBkZXByZWNhdGVkCiAgICAgICAgICAgICAgICAi\ncGVyc2lzdGVuY2UtbWFuYWdlciIsCiAgICAgICAgICAgICAgICBTdHJpbmcu\ndmFsdWVPZihDb25uZWN0aW9uUmV0YWluTW9kZXMuQ09OTl9SRVRBSU5fQUxX\nQVlTKSwKICAgICAgICAgICAgfTsKICAgICAgICBjb25uZWN0aW9uUmV0YWlu\nTW9kZS5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGNvbm5lY3Rpb25S\nZXRhaW5Nb2RlLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgY29u\nbmVjdGlvblJldGFpbk1vZGUuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0\ncnVlKTsKICAgICAgICBjb25uZWN0aW9uUmV0YWluTW9kZS5zZXQoQ29ubmVj\ndGlvblJldGFpbk1vZGVzLkNPTk5fUkVUQUlOX0RFTUFORCk7CgogICAgICAg\nIGZpbHRlckxpc3RlbmVyUGx1Z2lucyA9IGFkZFBsdWdpbkxpc3QoIkZpbHRl\nckxpc3RlbmVycyIpOwogICAgICAgIGZpbHRlckxpc3RlbmVyUGx1Z2lucwog\nICAgICAgICAgICAuc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0RmlsdGVy\nTGlzdGVuZXJJbnN0YW5jZXMiKTsKCiAgICAgICAgYWdncmVnYXRlTGlzdGVu\nZXJQbHVnaW5zID0gYWRkUGx1Z2luTGlzdCgiQWdncmVnYXRlTGlzdGVuZXJz\nIik7CiAgICAgICAgYWdncmVnYXRlTGlzdGVuZXJQbHVnaW5zCiAgICAgICAg\nICAgIC5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRBZ2dyZWdhdGVMaXN0\nZW5lckluc3RhbmNlcyIpOwoKICAgICAgICByZXRyeUNsYXNzUmVnaXN0cmF0\naW9uID0gYWRkQm9vbGVhbigiUmV0cnlDbGFzc1JlZ2lzdHJhdGlvbiIpOwoK\nICAgICAgICBjb21wYXRpYmlsaXR5UGx1Z2luID0gYWRkUGx1Z2luKCJDb21w\nYXRpYmlsaXR5IiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJp\nbmdbXSB7ICJkZWZhdWx0IiwgQ29tcGF0aWJpbGl0eS5jbGFzcy5nZXROYW1l\nKCkgfTsKICAgICAgICBjb21wYXRpYmlsaXR5UGx1Z2luLnNldEFsaWFzZXMo\nYWxpYXNlcyk7CiAgICAgICAgY29tcGF0aWJpbGl0eVBsdWdpbi5zZXREZWZh\ndWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGNvbXBhdGliaWxpdHlQbHVnaW4u\nc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIGNvbXBhdGliaWxpdHlQ\nbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0Q29tcGF0aWJpbGl0\neUluc3RhbmNlIik7CiAgICAgICAgCiAgICAgICAgcXVlcnlDb21waWxhdGlv\nbkNhY2hlUGx1Z2luID0gbmV3IFF1ZXJ5Q29tcGlsYXRpb25DYWNoZVZhbHVl\nKAogICAgICAgICAgICAiUXVlcnlDb21waWxhdGlvbkNhY2hlIik7CiAgICAg\nICAgcXVlcnlDb21waWxhdGlvbkNhY2hlUGx1Z2luLnNldEluc3RhbnRpYXRp\nbmdHZXR0ZXIoCiAgICAgICAgICAgICJnZXRRdWVyeUNvbXBpbGF0aW9uQ2Fj\naGVJbnN0YW5jZSIpOwogICAgICAgIGFkZFZhbHVlKHF1ZXJ5Q29tcGlsYXRp\nb25DYWNoZVBsdWdpbik7CiAgICAgICAgCiAgICAgICAgcnVudGltZVVuZW5o\nYW5jZWRDbGFzc2VzID0gYWRkSW50KCJSdW50aW1lVW5lbmhhbmNlZENsYXNz\nZXMiKTsKICAgICAgICBydW50aW1lVW5lbmhhbmNlZENsYXNzZXMuc2V0QWxp\nYXNlcyhuZXcgU3RyaW5nW10gewogICAgICAgICAgICAic3VwcG9ydGVkIiwg\nU3RyaW5nLnZhbHVlT2YoCiAgICAgICAgICAgICAgICBSdW50aW1lVW5lbmhh\nbmNlZENsYXNzc2VzTW9kZXMuU1VQUE9SVEVEKSwKICAgICAgICAgICAgInVu\nc3VwcG9ydGVkIiwgU3RyaW5nLnZhbHVlT2YoCiAgICAgICAgICAgICAgICBS\ndW50aW1lVW5lbmhhbmNlZENsYXNzc2VzTW9kZXMuVU5TVVBQT1JURUQpLAog\nICAgICAgICAgICAid2FybiIsIFN0cmluZy52YWx1ZU9mKAogICAgICAgICAg\nICAgICAgUnVudGltZVVuZW5oYW5jZWRDbGFzc3Nlc01vZGVzLldBUk4pLAog\nICAgICAgIH0pOwogICAgICAgIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nlcy5z\nZXREZWZhdWx0KCJzdXBwb3J0ZWQiKTsKICAgICAgICBydW50aW1lVW5lbmhh\nbmNlZENsYXNzZXMuc2V0U3RyaW5nKCJzdXBwb3J0ZWQiKTsKICAgICAgICBy\ndW50aW1lVW5lbmhhbmNlZENsYXNzZXMuc2V0QWxpYXNMaXN0Q29tcHJlaGVu\nc2l2ZSh0cnVlKTsKCiAgICAgICAgY2FjaGVNYXJzaGFsbGVyUGx1Z2lucyA9\nIChDYWNoZU1hcnNoYWxsZXJzVmFsdWUpCiAgICAgICAgICAgIGFkZFZhbHVl\nKG5ldyBDYWNoZU1hcnNoYWxsZXJzVmFsdWUodGhpcykpOwoKICAgICAgICAv\nLyBpbml0aWFsaXplIHN1cHBvcnRlZCBvcHRpb25zIHRoYXQgc29tZSBydW50\naW1lcyBtYXkgbm90IHN1cHBvcnQKICAgICAgICBzdXBwb3J0ZWRPcHRpb25z\nLmFkZChPUFRJT05fTk9OVFJBTlNfUkVBRCk7CiAgICAgICAgc3VwcG9ydGVk\nT3B0aW9ucy5hZGQoT1BUSU9OX09QVElNSVNUSUMpOwogICAgICAgIHN1cHBv\ncnRlZE9wdGlvbnMuYWRkKE9QVElPTl9JRF9BUFBMSUNBVElPTik7CiAgICAg\nICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9OX0lEX0RBVEFTVE9SRSk7\nCiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9OX1RZUEVfQ09M\nTEVDVElPTik7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9O\nX1RZUEVfTUFQKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJ\nT05fVFlQRV9BUlJBWSk7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQo\nT1BUSU9OX05VTExfQ09OVEFJTkVSKTsKICAgICAgICBzdXBwb3J0ZWRPcHRp\nb25zLmFkZChPUFRJT05fRU1CRURERURfUkVMQVRJT04pOwogICAgICAgIHN1\ncHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9FTUJFRERFRF9DT0xMRUNUSU9O\nX1JFTEFUSU9OKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJ\nT05fRU1CRURERURfTUFQX1JFTEFUSU9OKTsKICAgICAgICBzdXBwb3J0ZWRP\ncHRpb25zLmFkZChPUFRJT05fSU5DX0ZMVVNIKTsKICAgICAgICBzdXBwb3J0\nZWRPcHRpb25zLmFkZChPUFRJT05fVkFMVUVfQVVUT0FTU0lHTik7CiAgICAg\nICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9OX1ZBTFVFX0lOQ1JFTUVO\nVCk7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9OX0RBVEFT\nVE9SRV9DT05ORUNUSU9OKTsKCiAgICAgICAgaWYgKGRlcml2YXRpb25zKQog\nICAgICAgICAgICBQcm9kdWN0RGVyaXZhdGlvbnMuYmVmb3JlQ29uZmlndXJh\ndGlvbkxvYWQodGhpcyk7CiAgICAgICAgaWYgKGxvYWRHbG9iYWxzKQogICAg\nICAgICAgICBsb2FkR2xvYmFscygpOwogICAgfQoKICAgIHB1YmxpYyBDb2xs\nZWN0aW9uIHN1cHBvcnRlZE9wdGlvbnMoKSB7CiAgICAgICAgcmV0dXJuIHN1\ncHBvcnRlZE9wdGlvbnM7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRT\ncGVjaWZpY2F0aW9uKCkgewogICAgICAgIHJldHVybiBzcGVjOwogICAgfQoK\nICAgIHB1YmxpYyBib29sZWFuIHNldFNwZWNpZmljYXRpb24oU3RyaW5nIHNw\nZWMpIHsKICAgICAgICBpZiAoc3BlYyA9PSBudWxsKQogICAgICAgICAgICBy\nZXR1cm4gZmFsc2U7CgogICAgICAgIGlmICh0aGlzLnNwZWMgIT0gbnVsbCkg\newogICAgICAgICAgICBpZiAoIXRoaXMuc3BlYy5lcXVhbHMoc3BlYykKICAg\nICAgICAgICAgICAgICYmIGdldENvbmZpZ3VyYXRpb25Mb2coKS5pc1dhcm5F\nbmFibGVkKCkpCiAgICAgICAgICAgICAgICBnZXRDb25maWd1cmF0aW9uTG9n\nKCkud2FybigKICAgICAgICAgICAgICAgICAgICBfbG9jLmdldCgiZGlmZi1z\ncGVjcyIsIHRoaXMuc3BlYywgc3BlYykpOwogICAgICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRoaXMuc3BlYyA9IHNwZWM7CiAg\nICAgICAgUHJvZHVjdERlcml2YXRpb25zLmFmdGVyU3BlY2lmaWNhdGlvblNl\ndCh0aGlzKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRDbGFzc1Jlc29sdmVyKFN0cmluZyBjbGFzc1Jlc29sdmVy\nKSB7CiAgICAgICAgY2xhc3NSZXNvbHZlclBsdWdpbi5zZXRTdHJpbmcoY2xh\nc3NSZXNvbHZlcik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDbGFz\nc1Jlc29sdmVyKCkgewogICAgICAgIHJldHVybiBjbGFzc1Jlc29sdmVyUGx1\nZ2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENs\nYXNzUmVzb2x2ZXIoQ2xhc3NSZXNvbHZlciBjbGFzc1Jlc29sdmVyKSB7CiAg\nICAgICAgY2xhc3NSZXNvbHZlclBsdWdpbi5zZXQoY2xhc3NSZXNvbHZlcik7\nCiAgICB9CgogICAgcHVibGljIENsYXNzUmVzb2x2ZXIgZ2V0Q2xhc3NSZXNv\nbHZlckluc3RhbmNlKCkgewogICAgICAgIGlmIChjbGFzc1Jlc29sdmVyUGx1\nZ2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIGNsYXNzUmVzb2x2ZXJQ\nbHVnaW4uaW5zdGFudGlhdGUoQ2xhc3NSZXNvbHZlci5jbGFzcywgdGhpcyk7\nCiAgICAgICAgcmV0dXJuIChDbGFzc1Jlc29sdmVyKSBjbGFzc1Jlc29sdmVy\nUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEJyb2tl\nckZhY3RvcnkoU3RyaW5nIGZhY3RvcnkpIHsKICAgICAgICBicm9rZXJGYWN0\nb3J5UGx1Z2luLnNldFN0cmluZyhmYWN0b3J5KTsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldEJyb2tlckZhY3RvcnkoKSB7CiAgICAgICAgcmV0dXJu\nIGJyb2tlckZhY3RvcnlQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0QnJva2VySW1wbChTdHJpbmcgYnJva2VyKSB7CiAg\nICAgICAgYnJva2VyUGx1Z2luLnNldFN0cmluZyhicm9rZXIpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0QnJva2VySW1wbCgpIHsKICAgICAgICBy\nZXR1cm4gYnJva2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1\nYmxpYyBCcm9rZXJJbXBsIG5ld0Jyb2tlckluc3RhbmNlKFN0cmluZyB1c2Vy\nLCBTdHJpbmcgcGFzcykgewogICAgICAgIEJyb2tlckltcGwgYnJva2VyID0K\nICAgICAgICAgICAgKEJyb2tlckltcGwpIGJyb2tlclBsdWdpbi5pbnN0YW50\naWF0ZShCcm9rZXJJbXBsLmNsYXNzLCB0aGlzKTsKICAgICAgICBpZiAoYnJv\na2VyICE9IG51bGwpCiAgICAgICAgICAgIGJyb2tlci5zZXRBdXRoZW50aWNh\ndGlvbih1c2VyLCBwYXNzKTsKICAgICAgICByZXR1cm4gYnJva2VyOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldERhdGFDYWNoZU1hbmFnZXIoU3RyaW5n\nIG1ncikgewogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4uc2V0U3Ry\naW5nKG1ncik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXREYXRhQ2Fj\naGVNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBkYXRhQ2FjaGVNYW5hZ2Vy\nUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndERhdGFDYWNoZU1hbmFnZXIoRGF0YUNhY2hlTWFuYWdlciBkY20pIHsKICAg\nICAgICBpZiAoZGNtICE9IG51bGwpCiAgICAgICAgICAgIGRjbS5pbml0aWFs\naXplKHRoaXMsIGRhdGFDYWNoZVBsdWdpbiwgcXVlcnlDYWNoZVBsdWdpbik7\nCiAgICAgICAgZGF0YUNhY2hlTWFuYWdlclBsdWdpbi5zZXQoZGNtKTsKICAg\nIH0KCiAgICBwdWJsaWMgRGF0YUNhY2hlTWFuYWdlciBnZXREYXRhQ2FjaGVN\nYW5hZ2VySW5zdGFuY2UoKSB7CiAgICAgICAgRGF0YUNhY2hlTWFuYWdlciBk\nY20gPSAoRGF0YUNhY2hlTWFuYWdlcikgZGF0YUNhY2hlTWFuYWdlclBsdWdp\nbi5nZXQoKTsKICAgICAgICBpZiAoZGNtID09IG51bGwpIHsKICAgICAgICAg\nICAgZGNtID0KICAgICAgICAgICAgICAgIChEYXRhQ2FjaGVNYW5hZ2VyKSBk\nYXRhQ2FjaGVNYW5hZ2VyUGx1Z2luLmluc3RhbnRpYXRlKAogICAgICAgICAg\nICAgICAgICAgIERhdGFDYWNoZU1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAg\nICAgICAgICBkY20uaW5pdGlhbGl6ZSh0aGlzLCBkYXRhQ2FjaGVQbHVnaW4s\nIHF1ZXJ5Q2FjaGVQbHVnaW4pOwogICAgICAgIH0KICAgICAgICByZXR1cm4g\nZGNtOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldERhdGFDYWNoZShTdHJp\nbmcgZGF0YUNhY2hlKSB7CiAgICAgICAgZGF0YUNhY2hlUGx1Z2luLnNldFN0\ncmluZyhkYXRhQ2FjaGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nRGF0YUNhY2hlKCkgewogICAgICAgIHJldHVybiBkYXRhQ2FjaGVQbHVnaW4u\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0YUNh\nY2hlVGltZW91dChpbnQgZGF0YUNhY2hlVGltZW91dCkgewogICAgICAgIHRo\naXMuZGF0YUNhY2hlVGltZW91dC5zZXQoZGF0YUNhY2hlVGltZW91dCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0YUNhY2hlVGltZW91dChJbnRl\nZ2VyIGRhdGFDYWNoZVRpbWVvdXQpIHsKICAgICAgICBpZiAoZGF0YUNhY2hl\nVGltZW91dCAhPSBudWxsKQogICAgICAgICAgICBzZXREYXRhQ2FjaGVUaW1l\nb3V0KGRhdGFDYWNoZVRpbWVvdXQuaW50VmFsdWUoKSk7CiAgICB9CgogICAg\ncHVibGljIGludCBnZXREYXRhQ2FjaGVUaW1lb3V0KCkgewogICAgICAgIHJl\ndHVybiBkYXRhQ2FjaGVUaW1lb3V0LmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFF1ZXJ5Q2FjaGUoU3RyaW5nIHF1ZXJ5Q2FjaGUpIHsKICAg\nICAgICBxdWVyeUNhY2hlUGx1Z2luLnNldFN0cmluZyhxdWVyeUNhY2hlKTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFF1ZXJ5Q2FjaGUoKSB7CiAg\nICAgICAgcmV0dXJuIHF1ZXJ5Q2FjaGVQbHVnaW4uZ2V0U3RyaW5nKCk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyBib29sZWFuIGdldFJlZnJlc2hGcm9tRGF0\nYUNhY2hlKCkgewogICAgCXJldHVybiByZWZyZXNoRnJvbURhdGFDYWNoZS5n\nZXQoKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgc2V0UmVmcmVzaEZy\nb21EYXRhQ2FjaGUoYm9vbGVhbiBmbGFnKSB7CiAgICAJcmVmcmVzaEZyb21E\nYXRhQ2FjaGUuc2V0KGZsYWcpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCBzZXRSZWZyZXNoRnJvbURhdGFDYWNoZShCb29sZWFuIGZsYWcpIHsKICAg\nIAlpZiAoZmxhZyAhPSBudWxsKSB7CiAgICAJCXJlZnJlc2hGcm9tRGF0YUNh\nY2hlLnNldChmbGFnLmJvb2xlYW5WYWx1ZSgpKTsKICAgIAl9CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gZ2V0RHluYW1pY0RhdGFTdHJ1Y3RzKCkgewog\nICAgICAgIHJldHVybiBkeW5hbWljRGF0YVN0cnVjdHMuZ2V0KCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0RHluYW1pY0RhdGFTdHJ1Y3RzKGJvb2xl\nYW4gZHluYW1pYykgewogICAgICAgIGR5bmFtaWNEYXRhU3RydWN0cy5zZXQo\nZHluYW1pYyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RHluYW1pY0Rh\ndGFTdHJ1Y3RzKEJvb2xlYW4gZHluYW1pYykgewogICAgICAgIHNldER5bmFt\naWNEYXRhU3RydWN0cyhkeW5hbWljLmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRMb2NrTWFuYWdlcihTdHJpbmcgbG9ja01h\nbmFnZXIpIHsKICAgICAgICBsb2NrTWFuYWdlclBsdWdpbi5zZXRTdHJpbmco\nbG9ja01hbmFnZXIpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TG9j\na01hbmFnZXIoKSB7CiAgICAgICAgcmV0dXJuIGxvY2tNYW5hZ2VyUGx1Z2lu\nLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyBMb2NrTWFuYWdlciBu\nZXdMb2NrTWFuYWdlckluc3RhbmNlKCkgewogICAgICAgIC8vIGRvbid0IHZh\nbGlkYXRlIHBsdWdpbiBwcm9wZXJ0aWVzIG9uIGluc3RhbnRpYXRpb24gYmVj\nYXVzZSBpdAogICAgICAgIC8vIGlzIGxpa2VseSB0aGF0IGJhY2sgZW5kcyB3\naWxsIG92ZXJyaWRlIGRlZmF1bHRzIHdpdGggdGhlaXIKICAgICAgICAvLyBv\nd24gc3ViY2xhc3NlcyB3aXRoIG5ldyBwcm9wZXJ0aWVzCiAgICAgICAgcmV0\ndXJuIChMb2NrTWFuYWdlcikgbG9ja01hbmFnZXJQbHVnaW4uaW5zdGFudGlh\ndGUoTG9ja01hbmFnZXIuY2xhc3MsCiAgICAgICAgICAgIHRoaXMsIGZhbHNl\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJbnZlcnNlTWFuYWdlcihT\ndHJpbmcgaW52ZXJzZU1hbmFnZXIpIHsKICAgICAgICBpbnZlcnNlTWFuYWdl\nclBsdWdpbi5zZXRTdHJpbmcoaW52ZXJzZU1hbmFnZXIpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0SW52ZXJzZU1hbmFnZXIoKSB7CiAgICAgICAg\ncmV0dXJuIGludmVyc2VNYW5hZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAg\nfQoKICAgIHB1YmxpYyBJbnZlcnNlTWFuYWdlciBuZXdJbnZlcnNlTWFuYWdl\nckluc3RhbmNlKCkgewogICAgICAgIHJldHVybiAoSW52ZXJzZU1hbmFnZXIp\nIGludmVyc2VNYW5hZ2VyUGx1Z2luLmluc3RhbnRpYXRlKAogICAgICAgICAg\nICBJbnZlcnNlTWFuYWdlci5jbGFzcywgdGhpcyk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0U2F2ZXBvaW50TWFuYWdlcihTdHJpbmcgc2F2ZXBvaW50\nTWFuYWdlcikgewogICAgICAgIHNhdmVwb2ludE1hbmFnZXJQbHVnaW4uc2V0\nU3RyaW5nKHNhdmVwb2ludE1hbmFnZXIpOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0U2F2ZXBvaW50TWFuYWdlcigpIHsKICAgICAgICByZXR1cm4g\nc2F2ZXBvaW50TWFuYWdlclBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAg\nICBwdWJsaWMgU2F2ZXBvaW50TWFuYWdlciBnZXRTYXZlcG9pbnRNYW5hZ2Vy\nSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKHNhdmVwb2ludE1hbmFnZXJQbHVn\naW4uZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgc2F2ZXBvaW50TWFuYWdl\nclBsdWdpbi5pbnN0YW50aWF0ZShTYXZlcG9pbnRNYW5hZ2VyLmNsYXNzLCB0\naGlzKTsKICAgICAgICByZXR1cm4gKFNhdmVwb2ludE1hbmFnZXIpIHNhdmVw\nb2ludE1hbmFnZXJQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0T3JwaGFuZWRLZXlBY3Rpb24oU3RyaW5nIGFjdGlvbikgewogICAg\nICAgIG9ycGhhbmVkS2V5UGx1Z2luLnNldFN0cmluZyhhY3Rpb24pOwogICAg\nfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0T3JwaGFuZWRLZXlBY3Rpb24oKSB7\nCiAgICAgICAgcmV0dXJuIG9ycGhhbmVkS2V5UGx1Z2luLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyBPcnBoYW5lZEtleUFjdGlvbiBnZXRPcnBo\nYW5lZEtleUFjdGlvbkluc3RhbmNlKCkgewogICAgICAgIGlmIChvcnBoYW5l\nZEtleVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBvcnBoYW5l\nZEtleVBsdWdpbi5pbnN0YW50aWF0ZShPcnBoYW5lZEtleUFjdGlvbi5jbGFz\ncywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChPcnBoYW5lZEtleUFjdGlvbikg\nb3JwaGFuZWRLZXlQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0T3JwaGFuZWRLZXlBY3Rpb24oT3JwaGFuZWRLZXlBY3Rpb24gYWN0\naW9uKSB7CiAgICAgICAgb3JwaGFuZWRLZXlQbHVnaW4uc2V0KGFjdGlvbik7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVtb3RlQ29tbWl0UHJvdmlk\nZXIoU3RyaW5nIHJlbW90ZUNvbW1pdFByb3ZpZGVyKSB7CiAgICAgICAgcmVt\nb3RlUHJvdmlkZXJQbHVnaW4uc2V0U3RyaW5nKHJlbW90ZUNvbW1pdFByb3Zp\nZGVyKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFJlbW90ZUNvbW1p\ndFByb3ZpZGVyKCkgewogICAgICAgIHJldHVybiByZW1vdGVQcm92aWRlclBs\ndWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgUmVtb3RlQ29t\nbWl0UHJvdmlkZXIgbmV3UmVtb3RlQ29tbWl0UHJvdmlkZXJJbnN0YW5jZSgp\nIHsKICAgICAgICByZXR1cm4gcmVtb3RlUHJvdmlkZXJQbHVnaW4uaW5zdGFu\ndGlhdGVQcm92aWRlcih0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRSZW1vdGVDb21taXRFdmVudE1hbmFnZXIoCiAgICAgICAgUmVtb3RlQ29t\nbWl0RXZlbnRNYW5hZ2VyIHJlbW90ZUV2ZW50TWFuYWdlcikgewogICAgICAg\nIHRoaXMucmVtb3RlRXZlbnRNYW5hZ2VyID0gcmVtb3RlRXZlbnRNYW5hZ2Vy\nOwogICAgICAgIHJlbW90ZVByb3ZpZGVyUGx1Z2luLmNvbmZpZ3VyZUV2ZW50\nTWFuYWdlcihyZW1vdGVFdmVudE1hbmFnZXIpOwogICAgfQoKICAgIHB1Ymxp\nYyBSZW1vdGVDb21taXRFdmVudE1hbmFnZXIgZ2V0UmVtb3RlQ29tbWl0RXZl\nbnRNYW5hZ2VyKCkgewogICAgICAgIGlmIChyZW1vdGVFdmVudE1hbmFnZXIg\nPT0gbnVsbCkgewogICAgICAgICAgICByZW1vdGVFdmVudE1hbmFnZXIgPSBu\nZXcgUmVtb3RlQ29tbWl0RXZlbnRNYW5hZ2VyKHRoaXMpOwogICAgICAgICAg\nICByZW1vdGVQcm92aWRlclBsdWdpbi5jb25maWd1cmVFdmVudE1hbmFnZXIo\ncmVtb3RlRXZlbnRNYW5hZ2VyKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJu\nIHJlbW90ZUV2ZW50TWFuYWdlcjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRUcmFuc2FjdGlvbk1vZGUoU3RyaW5nIHRyYW5zYWN0aW9uTW9kZSkgewog\nICAgICAgIHRoaXMudHJhbnNhY3Rpb25Nb2RlLnNldFN0cmluZyh0cmFuc2Fj\ndGlvbk1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0VHJhbnNh\nY3Rpb25Nb2RlKCkgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbk1vZGUu\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHJhbnNh\nY3Rpb25Nb2RlTWFuYWdlZChib29sZWFuIG1hbmFnZWQpIHsKICAgICAgICB0\ncmFuc2FjdGlvbk1vZGUuc2V0KG1hbmFnZWQpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGlzVHJhbnNhY3Rpb25Nb2RlTWFuYWdlZCgpIHsKICAgICAg\nICByZXR1cm4gdHJhbnNhY3Rpb25Nb2RlLmdldCgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldE1hbmFnZWRSdW50aW1lKFN0cmluZyBtYW5hZ2VkUnVu\ndGltZSkgewogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luLnNldFN0cmlu\nZyhtYW5hZ2VkUnVudGltZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRNYW5hZ2VkUnVudGltZSgpIHsKICAgICAgICByZXR1cm4gbWFuYWdlZFJ1\nbnRpbWVQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0TWFuYWdlZFJ1bnRpbWUoTWFuYWdlZFJ1bnRpbWUgbWFuYWdlZFJ1\nbnRpbWUpIHsKICAgICAgICBtYW5hZ2VkUnVudGltZVBsdWdpbi5zZXQobWFu\nYWdlZFJ1bnRpbWUpOwogICAgfQoKICAgIHB1YmxpYyBNYW5hZ2VkUnVudGlt\nZSBnZXRNYW5hZ2VkUnVudGltZUluc3RhbmNlKCkgewogICAgICAgIGlmICht\nYW5hZ2VkUnVudGltZVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAg\nICBtYW5hZ2VkUnVudGltZVBsdWdpbi5pbnN0YW50aWF0ZShNYW5hZ2VkUnVu\ndGltZS5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChNYW5hZ2VkUnVu\ndGltZSkgbWFuYWdlZFJ1bnRpbWVQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0UHJveHlNYW5hZ2VyKFN0cmluZyBwcm94eU1hbmFn\nZXIpIHsKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uc2V0U3RyaW5nKHBy\nb3h5TWFuYWdlcik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRQcm94\neU1hbmFnZXIoKSB7CiAgICAgICAgcmV0dXJuIHByb3h5TWFuYWdlclBsdWdp\nbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRQcm94\neU1hbmFnZXIoUHJveHlNYW5hZ2VyIHByb3h5TWFuYWdlcikgewogICAgICAg\nIHByb3h5TWFuYWdlclBsdWdpbi5zZXQocHJveHlNYW5hZ2VyKTsKICAgIH0K\nCiAgICBwdWJsaWMgUHJveHlNYW5hZ2VyIGdldFByb3h5TWFuYWdlckluc3Rh\nbmNlKCkgewogICAgICAgIGlmIChwcm94eU1hbmFnZXJQbHVnaW4uZ2V0KCkg\nPT0gbnVsbCkKICAgICAgICAgICAgcHJveHlNYW5hZ2VyUGx1Z2luLmluc3Rh\nbnRpYXRlKFByb3h5TWFuYWdlci5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0\ndXJuIChQcm94eU1hbmFnZXIpIHByb3h5TWFuYWdlclBsdWdpbi5nZXQoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNYXBwaW5nKFN0cmluZyBtYXBw\naW5nKSB7CiAgICAgICAgdGhpcy5tYXBwaW5nLnNldFN0cmluZyhtYXBwaW5n\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE1hcHBpbmcoKSB7CiAg\nICAgICAgcmV0dXJuIG1hcHBpbmcuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0TWV0YURhdGFGYWN0b3J5KFN0cmluZyBtZXRhKSB7\nCiAgICAgICAgdGhpcy5tZXRhRmFjdG9yeVBsdWdpbi5zZXRTdHJpbmcobWV0\nYSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRNZXRhRGF0YUZhY3Rv\ncnkoKSB7CiAgICAgICAgcmV0dXJuIG1ldGFGYWN0b3J5UGx1Z2luLmdldFN0\ncmluZygpOwogICAgfQoKICAgIHB1YmxpYyBNZXRhRGF0YUZhY3RvcnkgbmV3\nTWV0YURhdGFGYWN0b3J5SW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIChN\nZXRhRGF0YUZhY3RvcnkpIG1ldGFGYWN0b3J5UGx1Z2luLmluc3RhbnRpYXRl\nKAogICAgICAgICAgICBNZXRhRGF0YUZhY3RvcnkuY2xhc3MsIHRoaXMpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1ldGFEYXRhUmVwb3NpdG9yeShT\ndHJpbmcgbWV0YSkgewogICAgICAgIHRoaXMubWV0YVJlcG9zaXRvcnlQbHVn\naW4uc2V0U3RyaW5nKG1ldGEpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0TWV0YURhdGFSZXBvc2l0b3J5KCkgewogICAgICAgIHJldHVybiBtZXRh\nUmVwb3NpdG9yeVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRNZXRhRGF0YVJlcG9zaXRvcnkoTWV0YURhdGFSZXBvc2l0\nb3J5IG1ldGEpIHsKICAgICAgICBtZXRhUmVwb3NpdG9yeSA9IG1ldGE7CiAg\nICB9CgogICAgcHVibGljIE1ldGFEYXRhUmVwb3NpdG9yeSBnZXRNZXRhRGF0\nYVJlcG9zaXRvcnlJbnN0YW5jZSgpIHsKICAgICAgICBpZiAobWV0YVJlcG9z\naXRvcnkgPT0gbnVsbCkKICAgICAgICAgICAgbWV0YVJlcG9zaXRvcnkgPSBu\nZXdNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgpOwogICAgICAgIHJldHVy\nbiBtZXRhUmVwb3NpdG9yeTsKICAgIH0KICAgIAogICAgcHVibGljIGJvb2xl\nYW4gbWV0YURhdGFSZXBvc2l0b3J5QXZhaWxhYmxlKCl7IAogICAgICAgIHJl\ndHVybiBtZXRhUmVwb3NpdG9yeSAhPSBudWxsOyAKICAgIH0KCiAgICBwdWJs\naWMgTWV0YURhdGFSZXBvc2l0b3J5IG5ld01ldGFEYXRhUmVwb3NpdG9yeUlu\nc3RhbmNlKCkgewogICAgICAgIHJldHVybiAoTWV0YURhdGFSZXBvc2l0b3J5\nKSBtZXRhUmVwb3NpdG9yeVBsdWdpbi5pbnN0YW50aWF0ZSgKICAgICAgICAg\nICAgTWV0YURhdGFSZXBvc2l0b3J5LmNsYXNzLCB0aGlzKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uVXNlck5hbWUoU3RyaW5nIGNv\nbm5lY3Rpb25Vc2VyTmFtZSkgewogICAgICAgIHRoaXMuY29ubmVjdGlvblVz\nZXJOYW1lLnNldFN0cmluZyhjb25uZWN0aW9uVXNlck5hbWUpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCkgewog\nICAgICAgIHJldHVybiBjb25uZWN0aW9uVXNlck5hbWUuZ2V0U3RyaW5nKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvblBhc3N3b3Jk\nKFN0cmluZyBjb25uZWN0aW9uUGFzc3dvcmQpIHsKICAgICAgICB0aGlzLmNv\nbm5lY3Rpb25QYXNzd29yZC5zZXRTdHJpbmcoY29ubmVjdGlvblBhc3N3b3Jk\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb25QYXNz\nd29yZCgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvblBhc3N3b3JkLmdl\ndFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rp\nb25VUkwoU3RyaW5nIGNvbm5lY3Rpb25VUkwpIHsKICAgICAgICB0aGlzLmNv\nbm5lY3Rpb25VUkwuc2V0U3RyaW5nKGNvbm5lY3Rpb25VUkwpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvblVSTCgpIHsKICAgICAg\nICByZXR1cm4gY29ubmVjdGlvblVSTC5nZXRTdHJpbmcoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRHJpdmVyTmFtZShTdHJpbmcg\nZHJpdmVyTmFtZSkgewogICAgICAgIHRoaXMuY29ubmVjdGlvbkRyaXZlck5h\nbWUuc2V0U3RyaW5nKGRyaXZlck5hbWUpOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0Q29ubmVjdGlvbkRyaXZlck5hbWUoKSB7CiAgICAgICAgcmV0\ndXJuIGNvbm5lY3Rpb25Ecml2ZXJOYW1lLmdldFN0cmluZygpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25Qcm9wZXJ0aWVzKFN0cmlu\nZyBjb25uZWN0aW9uUHJvcGVydGllcykgewogICAgICAgIHRoaXMuY29ubmVj\ndGlvblByb3BlcnRpZXMuc2V0U3RyaW5nKGNvbm5lY3Rpb25Qcm9wZXJ0aWVz\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb25Qcm9w\nZXJ0aWVzKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uUHJvcGVydGll\ncy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25u\nZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMoCiAgICAgICAgU3RyaW5nIGNvbm5l\nY3Rpb25GYWN0b3J5UHJvcGVydGllcykgewogICAgICAgIHRoaXMuY29ubmVj\ndGlvbkZhY3RvcnlQcm9wZXJ0aWVzLnNldFN0cmluZyhjb25uZWN0aW9uRmFj\ndG9yeVByb3BlcnRpZXMpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nQ29ubmVjdGlvbkZhY3RvcnlQcm9wZXJ0aWVzKCkgewogICAgICAgIHJldHVy\nbiBjb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMuZ2V0U3RyaW5nKCk7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uRmFjdG9yeU1v\nZGUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5TW9kZS5n\nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0\naW9uRmFjdG9yeU1vZGUoU3RyaW5nIG1vZGUpIHsKICAgICAgICBjb25uZWN0\naW9uRmFjdG9yeU1vZGUuc2V0U3RyaW5nKG1vZGUpOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGlzQ29ubmVjdGlvbkZhY3RvcnlNb2RlTWFuYWdlZCgp\nIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnlNb2RlLmdldCgp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25GYWN0b3J5\nTW9kZU1hbmFnZWQoYm9vbGVhbiBtYW5hZ2VkKSB7CiAgICAgICAgY29ubmVj\ndGlvbkZhY3RvcnlNb2RlLnNldChtYW5hZ2VkKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRDb25uZWN0aW9uRmFjdG9yeU5hbWUoU3RyaW5nIGNvbm5l\nY3Rpb25GYWN0b3J5TmFtZSkgewogICAgICAgIHRoaXMuY29ubmVjdGlvbkZh\nY3RvcnlOYW1lLnNldFN0cmluZyhjb25uZWN0aW9uRmFjdG9yeU5hbWUpOwog\nICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbkZhY3RvcnlO\nYW1lKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9yeU5hbWUu\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVj\ndGlvbkZhY3RvcnkoT2JqZWN0IGZhY3RvcnkpIHsKICAgICAgICBjb25uZWN0\naW9uRmFjdG9yeS5zZXQoZmFjdG9yeSk7CiAgICB9CgogICAgcHVibGljIE9i\namVjdCBnZXRDb25uZWN0aW9uRmFjdG9yeSgpIHsKICAgICAgICBpZiAoY29u\nbmVjdGlvbkZhY3RvcnkuZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgY29u\nbmVjdGlvbkZhY3Rvcnkuc2V0KAogICAgICAgICAgICAgICAgbG9va3VwQ29u\nbmVjdGlvbkZhY3RvcnkoZ2V0Q29ubmVjdGlvbkZhY3RvcnlOYW1lKCksCiAg\nICAgICAgICAgICAgICAJCWNvbm5lY3Rpb25GYWN0b3J5LmdldFByb3BlcnR5\nKCkpLCB0cnVlKTsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3Rvcnku\nZ2V0KCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBMb29rdXAgdGhlIGNvbm5l\nY3Rpb24gZmFjdG9yeSBhdCB0aGUgZ2l2ZW4gbmFtZS4KICAgICAqLwogICAg\ncHJpdmF0ZSBPYmplY3QgbG9va3VwQ29ubmVjdGlvbkZhY3RvcnkoU3RyaW5n\nIG5hbWUsIFN0cmluZyB1c2VyS2V5KSB7CiAgICAgICAgbmFtZSA9IFN0cmlu\nZ1V0aWxzLnRyaW1Ub051bGwobmFtZSk7CiAgICAgICAgaWYgKG5hbWUgPT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAJcmV0dXJuIENvbmZpZ3VyYXRpb25zLmxvb2t1cChuYW1lLCB1\nc2VyS2V5LAogICAgICAgIAkJCWdldExvZyhPcGVuSlBBQ29uZmlndXJhdGlv\nbi5MT0dfUlVOVElNRSkpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBl\neCkgewogICAgICAgIAlyZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbjJVc2VyTmFtZShTdHJpbmcg\nY29ubmVjdGlvbjJVc2VyTmFtZSkgewogICAgICAgIHRoaXMuY29ubmVjdGlv\nbjJVc2VyTmFtZS5zZXRTdHJpbmcoY29ubmVjdGlvbjJVc2VyTmFtZSk7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uMlVzZXJOYW1l\nKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uMlVzZXJOYW1lLmdldFN0\ncmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb24y\nUGFzc3dvcmQoU3RyaW5nIGNvbm5lY3Rpb24yUGFzc3dvcmQpIHsKICAgICAg\nICB0aGlzLmNvbm5lY3Rpb24yUGFzc3dvcmQuc2V0U3RyaW5nKGNvbm5lY3Rp\nb24yUGFzc3dvcmQpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29u\nbmVjdGlvbjJQYXNzd29yZCgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlv\nbjJQYXNzd29yZC5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRDb25uZWN0aW9uMlVSTChTdHJpbmcgY29ubmVjdGlvbjJVUkwpIHsK\nICAgICAgICB0aGlzLmNvbm5lY3Rpb24yVVJMLnNldFN0cmluZyhjb25uZWN0\naW9uMlVSTCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0\naW9uMlVSTCgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbjJVUkwuZ2V0\nU3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlv\nbjJEcml2ZXJOYW1lKFN0cmluZyBkcml2ZXJOYW1lKSB7CiAgICAgICAgdGhp\ncy5jb25uZWN0aW9uMkRyaXZlck5hbWUuc2V0U3RyaW5nKGRyaXZlck5hbWUp\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbjJEcml2\nZXJOYW1lKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uMkRyaXZlck5h\nbWUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29u\nbmVjdGlvbjJQcm9wZXJ0aWVzKFN0cmluZyBjb25uZWN0aW9uMlByb3BlcnRp\nZXMpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb24yUHJvcGVydGllcy5zZXRT\ndHJpbmcoY29ubmVjdGlvbjJQcm9wZXJ0aWVzKTsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldENvbm5lY3Rpb24yUHJvcGVydGllcygpIHsKICAgICAg\nICByZXR1cm4gY29ubmVjdGlvbjJQcm9wZXJ0aWVzLmdldFN0cmluZygpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25GYWN0b3J5MlBy\nb3BlcnRpZXMoCiAgICAgICAgU3RyaW5nIGNvbm5lY3Rpb25GYWN0b3J5MlBy\nb3BlcnRpZXMpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25GYWN0b3J5MlBy\nb3BlcnRpZXMKICAgICAgICAgICAgLnNldFN0cmluZyhjb25uZWN0aW9uRmFj\ndG9yeTJQcm9wZXJ0aWVzKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndENvbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMoKSB7CiAgICAgICAgcmV0\ndXJuIGNvbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMuZ2V0U3RyaW5nKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3Rvcnky\nTmFtZShTdHJpbmcgY29ubmVjdGlvbkZhY3RvcnkyTmFtZSkgewogICAgICAg\nIHRoaXMuY29ubmVjdGlvbkZhY3RvcnkyTmFtZS5zZXRTdHJpbmcoY29ubmVj\ndGlvbkZhY3RvcnkyTmFtZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRDb25uZWN0aW9uRmFjdG9yeTJOYW1lKCkgewogICAgICAgIHJldHVybiBj\nb25uZWN0aW9uRmFjdG9yeTJOYW1lLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25GYWN0b3J5MihPYmplY3QgZmFj\ndG9yeSkgewogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXQoZmFjdG9y\neSk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRDb25uZWN0aW9uRmFj\ndG9yeTIoKSB7CiAgICAgICAgaWYgKGNvbm5lY3Rpb25GYWN0b3J5Mi5nZXQo\nKSA9PSBudWxsKQogICAgICAgICAgICBjb25uZWN0aW9uRmFjdG9yeTIuc2V0\nKAogICAgICAgICAgICAgICAgbG9va3VwQ29ubmVjdGlvbkZhY3RvcnkoZ2V0\nQ29ubmVjdGlvbkZhY3RvcnkyTmFtZSgpLCAKICAgICAgICAgICAgICAgIAkJ\nY29ubmVjdGlvbkZhY3RvcnkyLmdldFByb3BlcnR5KCkpLCBmYWxzZSk7CiAg\nICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5Mi5nZXQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRPcHRpbWlzdGljKGJvb2xlYW4gb3B0aW1p\nc3RpYykgewogICAgICAgIHRoaXMub3B0aW1pc3RpYy5zZXQob3B0aW1pc3Rp\nYyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0T3B0aW1pc3RpYyhCb29s\nZWFuIG9wdGltaXN0aWMpIHsKICAgICAgICBpZiAob3B0aW1pc3RpYyAhPSBu\ndWxsKQogICAgICAgICAgICBzZXRPcHRpbWlzdGljKG9wdGltaXN0aWMuYm9v\nbGVhblZhbHVlKCkpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldE9w\ndGltaXN0aWMoKSB7CiAgICAgICAgcmV0dXJuIG9wdGltaXN0aWMuZ2V0KCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QXV0b0NsZWFyKFN0cmluZyBj\nbGVhcikgewogICAgICAgIGF1dG9DbGVhci5zZXRTdHJpbmcoY2xlYXIpOwog\nICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0QXV0b0NsZWFyKCkgewogICAg\nICAgIHJldHVybiBhdXRvQ2xlYXIuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0QXV0b0NsZWFyKGludCBjbGVhcikgewogICAgICAg\nIGF1dG9DbGVhci5zZXQoY2xlYXIpOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nZ2V0QXV0b0NsZWFyQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIGF1dG9D\nbGVhci5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSZXRhaW5T\ndGF0ZShib29sZWFuIHJldGFpblN0YXRlKSB7CiAgICAgICAgdGhpcy5yZXRh\naW5TdGF0ZS5zZXQocmV0YWluU3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFJldGFpblN0YXRlKEJvb2xlYW4gcmV0YWluU3RhdGUpIHsKICAg\nICAgICBpZiAocmV0YWluU3RhdGUgIT0gbnVsbCkKICAgICAgICAgICAgc2V0\nUmV0YWluU3RhdGUocmV0YWluU3RhdGUuYm9vbGVhblZhbHVlKCkpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGdldFJldGFpblN0YXRlKCkgewogICAg\nICAgIHJldHVybiByZXRhaW5TdGF0ZS5nZXQoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRSZXN0b3JlU3RhdGUoU3RyaW5nIHJlc3RvcmVTdGF0ZSkg\newogICAgICAgIHRoaXMucmVzdG9yZVN0YXRlLnNldFN0cmluZyhyZXN0b3Jl\nU3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVzdG9yZVN0\nYXRlKCkgewogICAgICAgIHJldHVybiByZXN0b3JlU3RhdGUuZ2V0U3RyaW5n\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVzdG9yZVN0YXRlKGlu\ndCByZXN0b3JlU3RhdGUpIHsKICAgICAgICB0aGlzLnJlc3RvcmVTdGF0ZS5z\nZXQocmVzdG9yZVN0YXRlKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFJl\nc3RvcmVTdGF0ZUNvbnN0YW50KCkgewogICAgICAgIHJldHVybiByZXN0b3Jl\nU3RhdGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QXV0b0Rl\ndGFjaChTdHJpbmcgYXV0b0RldGFjaCkgewogICAgICAgIHRoaXMuYXV0b0Rl\ndGFjaC5zZXRTdHJpbmcoYXV0b0RldGFjaCk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRBdXRvRGV0YWNoKCkgewogICAgICAgIHJldHVybiBhdXRv\nRGV0YWNoLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndEF1dG9EZXRhY2goaW50IGF1dG9EZXRhY2hGbGFncykgewogICAgICAgIGF1\ndG9EZXRhY2guc2V0Q29uc3RhbnQoYXV0b0RldGFjaEZsYWdzKTsKICAgIH0K\nCiAgICBwdWJsaWMgaW50IGdldEF1dG9EZXRhY2hDb25zdGFudCgpIHsKICAg\nICAgICByZXR1cm4gYXV0b0RldGFjaC5nZXRDb25zdGFudCgpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldERldGFjaFN0YXRlKFN0cmluZyBkZXRhY2hT\ndGF0ZSkgewogICAgICAgIGRldGFjaFN0YXRlUGx1Z2luLnNldFN0cmluZyhk\nZXRhY2hTdGF0ZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXREZXRh\nY2hTdGF0ZSgpIHsKICAgICAgICByZXR1cm4gZGV0YWNoU3RhdGVQbHVnaW4u\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RGV0YWNo\nU3RhdGUoRGV0YWNoT3B0aW9ucyBkZXRhY2hTdGF0ZSkgewogICAgICAgIGRl\ndGFjaFN0YXRlUGx1Z2luLnNldChkZXRhY2hTdGF0ZSk7CiAgICB9CgogICAg\ncHVibGljIERldGFjaE9wdGlvbnMgZ2V0RGV0YWNoU3RhdGVJbnN0YW5jZSgp\nIHsKICAgICAgICBpZiAoZGV0YWNoU3RhdGVQbHVnaW4uZ2V0KCkgPT0gbnVs\nbCkKICAgICAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uaW5zdGFudGlhdGUo\nRGV0YWNoT3B0aW9ucy5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChE\nZXRhY2hPcHRpb25zKSBkZXRhY2hTdGF0ZVBsdWdpbi5nZXQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRJZ25vcmVDaGFuZ2VzKGJvb2xlYW4gaWdu\nb3JlQ2hhbmdlcykgewogICAgICAgIHRoaXMuaWdub3JlQ2hhbmdlcy5zZXQo\naWdub3JlQ2hhbmdlcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWdu\nb3JlQ2hhbmdlcyhCb29sZWFuIGlnbm9yZUNoYW5nZXMpIHsKICAgICAgICBp\nZiAoaWdub3JlQ2hhbmdlcyAhPSBudWxsKQogICAgICAgICAgICBzZXRJZ25v\ncmVDaGFuZ2VzKGlnbm9yZUNoYW5nZXMuYm9vbGVhblZhbHVlKCkpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGdldElnbm9yZUNoYW5nZXMoKSB7CiAg\nICAgICAgcmV0dXJuIGlnbm9yZUNoYW5nZXMuZ2V0KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0Tm9udHJhbnNhY3Rpb25hbFJlYWQoYm9vbGVhbiBu\nb250cmFuc2FjdGlvbmFsUmVhZCkgewogICAgICAgIHRoaXMubm9udHJhbnNh\nY3Rpb25hbFJlYWQuc2V0KG5vbnRyYW5zYWN0aW9uYWxSZWFkKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXROb250cmFuc2FjdGlvbmFsUmVhZChCb29s\nZWFuIG5vbnRyYW5zYWN0aW9uYWxSZWFkKSB7CiAgICAgICAgaWYgKG5vbnRy\nYW5zYWN0aW9uYWxSZWFkICE9IG51bGwpCiAgICAgICAgICAgIHNldE5vbnRy\nYW5zYWN0aW9uYWxSZWFkKG5vbnRyYW5zYWN0aW9uYWxSZWFkLmJvb2xlYW5W\nYWx1ZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXROb250cmFu\nc2FjdGlvbmFsUmVhZCgpIHsKICAgICAgICByZXR1cm4gbm9udHJhbnNhY3Rp\nb25hbFJlYWQuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Tm9u\ndHJhbnNhY3Rpb25hbFdyaXRlKGJvb2xlYW4gbm9udHJhbnNhY3Rpb25hbFdy\naXRlKSB7CiAgICAgICAgdGhpcy5ub250cmFuc2FjdGlvbmFsV3JpdGUuc2V0\nKG5vbnRyYW5zYWN0aW9uYWxXcml0ZSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0Tm9udHJhbnNhY3Rpb25hbFdyaXRlKEJvb2xlYW4gbm9udHJhbnNh\nY3Rpb25hbFdyaXRlKSB7CiAgICAgICAgaWYgKG5vbnRyYW5zYWN0aW9uYWxX\ncml0ZSAhPSBudWxsKQogICAgICAgICAgICBzZXROb250cmFuc2FjdGlvbmFs\nV3JpdGUobm9udHJhbnNhY3Rpb25hbFdyaXRlLmJvb2xlYW5WYWx1ZSgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXROb250cmFuc2FjdGlvbmFs\nV3JpdGUoKSB7CiAgICAgICAgcmV0dXJuIG5vbnRyYW5zYWN0aW9uYWxXcml0\nZS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNdWx0aXRocmVh\nZGVkKGJvb2xlYW4gbXVsdGl0aHJlYWRlZCkgewogICAgICAgIHRoaXMubXVs\ndGl0aHJlYWRlZC5zZXQobXVsdGl0aHJlYWRlZCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0TXVsdGl0aHJlYWRlZChCb29sZWFuIG11bHRpdGhyZWFk\nZWQpIHsKICAgICAgICBpZiAobXVsdGl0aHJlYWRlZCAhPSBudWxsKQogICAg\nICAgICAgICBzZXRNdWx0aXRocmVhZGVkKG11bHRpdGhyZWFkZWQuYm9vbGVh\nblZhbHVlKCkpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldE11bHRp\ndGhyZWFkZWQoKSB7CiAgICAgICAgcmV0dXJuIG11bHRpdGhyZWFkZWQuZ2V0\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RmV0Y2hCYXRjaFNpemUo\naW50IGZldGNoQmF0Y2hTaXplKSB7CiAgICAgICAgdGhpcy5mZXRjaEJhdGNo\nU2l6ZS5zZXQoZmV0Y2hCYXRjaFNpemUpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldEZldGNoQmF0Y2hTaXplKEludGVnZXIgZmV0Y2hCYXRjaFNpemUp\nIHsKICAgICAgICBpZiAoZmV0Y2hCYXRjaFNpemUgIT0gbnVsbCkKICAgICAg\nICAgICAgc2V0RmV0Y2hCYXRjaFNpemUoZmV0Y2hCYXRjaFNpemUuaW50VmFs\ndWUoKSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRGZXRjaEJhdGNoU2l6\nZSgpIHsKICAgICAgICByZXR1cm4gZmV0Y2hCYXRjaFNpemUuZ2V0KCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0TWF4RmV0Y2hEZXB0aChpbnQgbWF4\nRmV0Y2hEZXB0aCkgewogICAgICAgIHRoaXMubWF4RmV0Y2hEZXB0aC5zZXQo\nbWF4RmV0Y2hEZXB0aCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWF4\nRmV0Y2hEZXB0aChJbnRlZ2VyIG1heEZldGNoRGVwdGgpIHsKICAgICAgICBp\nZiAobWF4RmV0Y2hEZXB0aCAhPSBudWxsKQogICAgICAgICAgICBzZXRNYXhG\nZXRjaERlcHRoKG1heEZldGNoRGVwdGguaW50VmFsdWUoKSk7CiAgICB9Cgog\nICAgcHVibGljIGludCBnZXRNYXhGZXRjaERlcHRoKCkgewogICAgICAgIHJl\ndHVybiBtYXhGZXRjaERlcHRoLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldEZldGNoR3JvdXBzKFN0cmluZyBmZXRjaEdyb3VwcykgewogICAg\nICAgIHRoaXMuZmV0Y2hHcm91cHMuc2V0U3RyaW5nKGZldGNoR3JvdXBzKTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEZldGNoR3JvdXBzKCkgewog\nICAgICAgIHJldHVybiBmZXRjaEdyb3Vwcy5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nW10gZ2V0RmV0Y2hHcm91cHNMaXN0KCkgewog\nICAgICAgIHJldHVybiBmZXRjaEdyb3Vwcy5nZXQoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRGZXRjaEdyb3VwcyhTdHJpbmdbXSBmZXRjaEdyb3Vw\ncykgewogICAgICAgIHRoaXMuZmV0Y2hHcm91cHMuc2V0KGZldGNoR3JvdXBz\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGbHVzaEJlZm9yZVF1ZXJp\nZXMoU3RyaW5nIGZsdXNoKSB7CiAgICAgICAgZmx1c2hCZWZvcmVRdWVyaWVz\nLnNldFN0cmluZyhmbHVzaCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRGbHVzaEJlZm9yZVF1ZXJpZXMoKSB7CiAgICAgICAgcmV0dXJuIGZsdXNo\nQmVmb3JlUXVlcmllcy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRGbHVzaEJlZm9yZVF1ZXJpZXMoaW50IGZsdXNoKSB7CiAgICAg\nICAgZmx1c2hCZWZvcmVRdWVyaWVzLnNldChmbHVzaCk7CiAgICB9CgogICAg\ncHVibGljIGludCBnZXRGbHVzaEJlZm9yZVF1ZXJpZXNDb25zdGFudCgpIHsK\nICAgICAgICByZXR1cm4gZmx1c2hCZWZvcmVRdWVyaWVzLmdldCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldExvY2tUaW1lb3V0KGludCB0aW1lb3V0\nKSB7CiAgICAgICAgbG9ja1RpbWVvdXQuc2V0KHRpbWVvdXQpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldExvY2tUaW1lb3V0KEludGVnZXIgdGltZW91\ndCkgewogICAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpCiAgICAgICAgICAg\nIHNldExvY2tUaW1lb3V0KHRpbWVvdXQuaW50VmFsdWUoKSk7CiAgICB9Cgog\nICAgcHVibGljIGludCBnZXRMb2NrVGltZW91dCgpIHsKICAgICAgICByZXR1\ncm4gbG9ja1RpbWVvdXQuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0UmVhZExvY2tMZXZlbChTdHJpbmcgbGV2ZWwpIHsKICAgICAgICByZWFk\nTG9ja0xldmVsLnNldFN0cmluZyhsZXZlbCk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRSZWFkTG9ja0xldmVsKCkgewogICAgICAgIHJldHVybiBy\nZWFkTG9ja0xldmVsLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFJlYWRMb2NrTGV2ZWwoaW50IGxldmVsKSB7CiAgICAgICAgcmVh\nZExvY2tMZXZlbC5zZXQobGV2ZWwpOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nZ2V0UmVhZExvY2tMZXZlbENvbnN0YW50KCkgewogICAgICAgIHJldHVybiBy\nZWFkTG9ja0xldmVsLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFdyaXRlTG9ja0xldmVsKFN0cmluZyBsZXZlbCkgewogICAgICAgIHdyaXRl\nTG9ja0xldmVsLnNldFN0cmluZyhsZXZlbCk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRXcml0ZUxvY2tMZXZlbCgpIHsKICAgICAgICByZXR1cm4g\nd3JpdGVMb2NrTGV2ZWwuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0V3JpdGVMb2NrTGV2ZWwoaW50IGxldmVsKSB7CiAgICAgICAg\nd3JpdGVMb2NrTGV2ZWwuc2V0KGxldmVsKTsKICAgIH0KCiAgICBwdWJsaWMg\naW50IGdldFdyaXRlTG9ja0xldmVsQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0\ndXJuIHdyaXRlTG9ja0xldmVsLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFNlcXVlbmNlKFN0cmluZyBzZXF1ZW5jZSkgewogICAgICAgIHNl\ncVBsdWdpbi5zZXRTdHJpbmcoc2VxdWVuY2UpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0U2VxdWVuY2UoKSB7CiAgICAgICAgcmV0dXJuIHNlcVBs\ndWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRT\nZXF1ZW5jZShTZXEgc2VxKSB7CiAgICAgICAgc2VxUGx1Z2luLnNldChzZXEp\nOwogICAgfQoKICAgIHB1YmxpYyBTZXEgZ2V0U2VxdWVuY2VJbnN0YW5jZSgp\nIHsKICAgICAgICBpZiAoc2VxUGx1Z2luLmdldCgpID09IG51bGwpCiAgICAg\nICAgICAgIHNlcVBsdWdpbi5pbnN0YW50aWF0ZShTZXEuY2xhc3MsIHRoaXMp\nOwogICAgICAgIHJldHVybiAoU2VxKSBzZXFQbHVnaW4uZ2V0KCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvblJldGFpbk1vZGUoU3Ry\naW5nIGNvbm5lY3Rpb25SZXRhaW5Nb2RlKSB7CiAgICAgICAgdGhpcy5jb25u\nZWN0aW9uUmV0YWluTW9kZS5zZXRTdHJpbmcoY29ubmVjdGlvblJldGFpbk1v\nZGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvblJl\ndGFpbk1vZGUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25SZXRhaW5N\nb2RlLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENv\nbm5lY3Rpb25SZXRhaW5Nb2RlKGludCBjb25uZWN0aW9uUmV0YWluTW9kZSkg\newogICAgICAgIHRoaXMuY29ubmVjdGlvblJldGFpbk1vZGUuc2V0KGNvbm5l\nY3Rpb25SZXRhaW5Nb2RlKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldENv\nbm5lY3Rpb25SZXRhaW5Nb2RlQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJu\nIGNvbm5lY3Rpb25SZXRhaW5Nb2RlLmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldEZpbHRlckxpc3RlbmVycyhTdHJpbmcgZmlsdGVyTGlzdGVu\nZXJzKSB7CiAgICAgICAgZmlsdGVyTGlzdGVuZXJQbHVnaW5zLnNldFN0cmlu\nZyhmaWx0ZXJMaXN0ZW5lcnMpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0RmlsdGVyTGlzdGVuZXJzKCkgewogICAgICAgIHJldHVybiBmaWx0ZXJM\naXN0ZW5lclBsdWdpbnMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0RmlsdGVyTGlzdGVuZXJzKEZpbHRlckxpc3RlbmVyW10gbGlz\ndGVuZXJzKSB7CiAgICAgICAgZmlsdGVyTGlzdGVuZXJQbHVnaW5zLnNldChs\naXN0ZW5lcnMpOwogICAgfQoKICAgIHB1YmxpYyBGaWx0ZXJMaXN0ZW5lcltd\nIGdldEZpbHRlckxpc3RlbmVySW5zdGFuY2VzKCkgewogICAgICAgIGlmIChm\naWx0ZXJMaXN0ZW5lclBsdWdpbnMuZ2V0KCkgPT0gbnVsbCkKICAgICAgICAg\nICAgZmlsdGVyTGlzdGVuZXJQbHVnaW5zLmluc3RhbnRpYXRlKEZpbHRlckxp\nc3RlbmVyLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKEZpbHRlckxp\nc3RlbmVyW10pIGZpbHRlckxpc3RlbmVyUGx1Z2lucy5nZXQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRBZ2dyZWdhdGVMaXN0ZW5lcnMoU3RyaW5n\nIGFnZ3JlZ2F0ZUxpc3RlbmVycykgewogICAgICAgIGFnZ3JlZ2F0ZUxpc3Rl\nbmVyUGx1Z2lucy5zZXRTdHJpbmcoYWdncmVnYXRlTGlzdGVuZXJzKTsKICAg\nIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEFnZ3JlZ2F0ZUxpc3RlbmVycygp\nIHsKICAgICAgICByZXR1cm4gYWdncmVnYXRlTGlzdGVuZXJQbHVnaW5zLmdl\ndFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEFnZ3JlZ2F0\nZUxpc3RlbmVycyhBZ2dyZWdhdGVMaXN0ZW5lcltdIGxpc3RlbmVycykgewog\nICAgICAgIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucy5zZXQobGlzdGVuZXJz\nKTsKICAgIH0KCiAgICBwdWJsaWMgQWdncmVnYXRlTGlzdGVuZXJbXSBnZXRB\nZ2dyZWdhdGVMaXN0ZW5lckluc3RhbmNlcygpIHsKICAgICAgICBpZiAoYWdn\ncmVnYXRlTGlzdGVuZXJQbHVnaW5zLmdldCgpID09IG51bGwpCiAgICAgICAg\nICAgIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucy5pbnN0YW50aWF0ZShBZ2dy\nZWdhdGVMaXN0ZW5lci5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChB\nZ2dyZWdhdGVMaXN0ZW5lcltdKSBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnMu\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmV0cnlDbGFzc1Jl\nZ2lzdHJhdGlvbihib29sZWFuIHJldHJ5KSB7CiAgICAgICAgcmV0cnlDbGFz\nc1JlZ2lzdHJhdGlvbi5zZXQocmV0cnkpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFJldHJ5Q2xhc3NSZWdpc3RyYXRpb24oQm9vbGVhbiByZXRyeSkg\newogICAgICAgIGlmIChyZXRyeSAhPSBudWxsKQogICAgICAgICAgICBzZXRS\nZXRyeUNsYXNzUmVnaXN0cmF0aW9uKHJldHJ5LmJvb2xlYW5WYWx1ZSgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRSZXRyeUNsYXNzUmVnaXN0\ncmF0aW9uKCkgewogICAgICAgIHJldHVybiByZXRyeUNsYXNzUmVnaXN0cmF0\naW9uLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29tcGF0\naWJpbGl0eSgpIHsKICAgICAgICByZXR1cm4gY29tcGF0aWJpbGl0eVBsdWdp\nbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb21w\nYXRpYmlsaXR5KFN0cmluZyBjb21wYXRpYmlsaXR5KSB7CiAgICAgICAgY29t\ncGF0aWJpbGl0eVBsdWdpbi5zZXRTdHJpbmcoY29tcGF0aWJpbGl0eSk7CiAg\nICB9CgogICAgcHVibGljIENvbXBhdGliaWxpdHkgZ2V0Q29tcGF0aWJpbGl0\neUluc3RhbmNlKCkgewogICAgICAgIGlmIChjb21wYXRpYmlsaXR5UGx1Z2lu\nLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIGNvbXBhdGliaWxpdHlQbHVn\naW4uaW5zdGFudGlhdGUoQ29tcGF0aWJpbGl0eS5jbGFzcywgdGhpcyk7CiAg\nICAgICAgcmV0dXJuIChDb21wYXRpYmlsaXR5KSBjb21wYXRpYmlsaXR5UGx1\nZ2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UXVlcnlD\nb21waWxhdGlvbkNhY2hlKCkgewogICAgICAgIHJldHVybiBxdWVyeUNvbXBp\nbGF0aW9uQ2FjaGVQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0UXVlcnlDb21waWxhdGlvbkNhY2hlKFN0cmluZyBxdWVy\neUNvbXBpbGF0aW9uQ2FjaGUpIHsKICAgICAgICBxdWVyeUNvbXBpbGF0aW9u\nQ2FjaGVQbHVnaW4uc2V0U3RyaW5nKHF1ZXJ5Q29tcGlsYXRpb25DYWNoZSk7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyBNYXAgZ2V0UXVlcnlDb21waWxhdGlv\nbkNhY2hlSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKHF1ZXJ5Q29tcGlsYXRp\nb25DYWNoZVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBxdWVy\neUNvbXBpbGF0aW9uQ2FjaGVQbHVnaW4uaW5zdGFudGlhdGUoTWFwLmNsYXNz\nLCB0aGlzKTsKICAgICAgICByZXR1cm4gKE1hcCkgcXVlcnlDb21waWxhdGlv\nbkNhY2hlUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBTdG9yZUZh\nY2FkZVR5cGVSZWdpc3RyeSBnZXRTdG9yZUZhY2FkZVR5cGVSZWdpc3RyeSgp\nIHsKICAgICAgICByZXR1cm4gX3N0b3JlRmFjYWRlUmVnaXN0cnk7CiAgICB9\nCgogICAgcHVibGljIEJyb2tlckZhY3RvcnlFdmVudE1hbmFnZXIgZ2V0QnJv\na2VyRmFjdG9yeUV2ZW50TWFuYWdlcigpIHsKICAgICAgICByZXR1cm4gX2Jy\nb2tlckZhY3RvcnlFdmVudE1hbmFnZXI7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRSdW50aW1lVW5lbmhhbmNlZENsYXNzZXMoKSB7CiAgICAgICAg\ncmV0dXJuIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nlcy5nZXRTdHJpbmcoKTsK\nICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFJ1bnRpbWVVbmVuaGFuY2VkQ2xh\nc3Nlc0NvbnN0YW50KCkgewogICAgICAgIHJldHVybiBydW50aW1lVW5lbmhh\nbmNlZENsYXNzZXMuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nUnVudGltZVVuZW5oYW5jZWRDbGFzc2VzKGludCBtb2RlKSB7CiAgICAgICAg\ncnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLnNldChtb2RlKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRSdW50aW1lVW5lbmhhbmNlZENsYXNzZXMoU3Ry\naW5nIG1vZGUpIHsKICAgICAgICBydW50aW1lVW5lbmhhbmNlZENsYXNzZXMu\nc2V0U3RyaW5nKG1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nQ2FjaGVNYXJzaGFsbGVycygpIHsKICAgICAgICByZXR1cm4gY2FjaGVNYXJz\naGFsbGVyUGx1Z2lucy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRDYWNoZU1hcnNoYWxsZXJzKFN0cmluZyBtYXJzaGFsbGVycykg\newogICAgICAgIGNhY2hlTWFyc2hhbGxlclBsdWdpbnMuc2V0U3RyaW5nKG1h\ncnNoYWxsZXJzKTsKICAgIH0KCiAgICBwdWJsaWMgTWFwIGdldENhY2hlTWFy\nc2hhbGxlckluc3RhbmNlcygpIHsKICAgICAgICByZXR1cm4gY2FjaGVNYXJz\naGFsbGVyUGx1Z2lucy5nZXRJbnN0YW5jZXNBc01hcCgpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIGluc3RhbnRpYXRlQWxsKCkgewogICAgICAgIHN1cGVy\nLmluc3RhbnRpYXRlQWxsKCk7CiAgICAgICAgZ2V0TWV0YURhdGFSZXBvc2l0\nb3J5SW5zdGFuY2UoKTsKICAgICAgICBnZXRSZW1vdGVDb21taXRFdmVudE1h\nbmFnZXIoKTsKICAgICAgICBjYWNoZU1hcnNoYWxsZXJQbHVnaW5zLmluaXRp\nYWxpemUoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBwcmVDbG9zZSgp\nIHsKICAgICAgICBJbXBsSGVscGVyLmNsb3NlKG1ldGFSZXBvc2l0b3J5KTsK\nICAgICAgICBJbXBsSGVscGVyLmNsb3NlKHJlbW90ZUV2ZW50TWFuYWdlcik7\nCiAgICAgICAgc3VwZXIucHJlQ2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMg\nTG9nIGdldENvbmZpZ3VyYXRpb25Mb2coKSB7CiAgICAgICAgcmV0dXJuIGdl\ndExvZyhMT0dfUlVOVElNRSk7CiAgICB9Cn0K\n","encoding":"base64"}

