{"sha":"948f144cb61266db5605ac08ee850052ead36b87","node_id":"MDQ6QmxvYjIwNjM2NDo5NDhmMTQ0Y2I2MTI2NmRiNTYwNWFjMDhlZTg1MDA1MmVhZDM2Yjg3","size":7292,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/948f144cb61266db5605ac08ee850052ead36b87","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0\nIGphdmEudXRpbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7\nCgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlF1ZXJ5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5tZXRhLlNvdXJjZVRyYWNrZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnhtbC5Db21tZW50YWJs\nZTsKCi8qKgogKiBIb2xkcyBtZXRhZGF0YSBhYm91dCBuYW1lZCBxdWVyaWVz\nLgogKiAgSW5mb3JtYXRpb24gc3RvcmVkIGluIHRoaXMgaW5zdGFuY2UgZ2V0\ncyB0cmFuc2ZlcmVkIHRvCiAqIG5ldyB7QGxpbmsgUXVlcnl9IGluc3RhbmNl\ncy4KICoKICogQGF1dGhvciBTdGV2ZSBLaW0KICovCnB1YmxpYyBjbGFzcyBR\ndWVyeU1ldGFEYXRhCiAgICBpbXBsZW1lbnRzIE1ldGFEYXRhTW9kZXMsIFNv\ndXJjZVRyYWNrZXIsIENvbW1lbnRhYmxlLCBTZXJpYWxpemFibGUgewoKICAg\nIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZ1tdIEVNUFRZX0tFWVMgPSBu\nZXcgU3RyaW5nWzBdOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgT2JqZWN0\nW10gRU1QVFlfVkFMUyA9IG5ldyBPYmplY3RbMF07CgogICAgcHJpdmF0ZSBm\naW5hbCBTdHJpbmcgX25hbWU7CiAgICBwcml2YXRlIEJvb2xlYW4gX3JlYWRP\nbmx5OwogICAgcHJpdmF0ZSBGaWxlIF9maWxlOwogICAgcHJpdmF0ZSBPYmpl\nY3QgX3Njb3BlOwogICAgcHJpdmF0ZSBpbnQgX3NyY1R5cGU7CiAgICBwcml2\nYXRlIGludCBfbW9kZSA9IE1PREVfUVVFUlk7CiAgICBwcml2YXRlIFN0cmlu\nZyBfbGFuZ3VhZ2U7CiAgICBwcml2YXRlIENsYXNzIF9jbGFzczsKICAgIHBy\naXZhdGUgQ2xhc3MgX2NhbmRpZGF0ZTsKICAgIHByaXZhdGUgQ2xhc3MgX3Jl\nczsKICAgIHByaXZhdGUgU3RyaW5nIF9xdWVyeTsKICAgIHByaXZhdGUgU3Ry\naW5nW10gX2NvbW1lbnRzOwogICAgcHJpdmF0ZSBMaXN0IF9oaW50S2V5czsK\nICAgIHByaXZhdGUgTGlzdCBfaGludFZhbHM7CiAgICBwcml2YXRlIFN0cmlu\nZyBfcmVzdWx0U2V0TWFwcGluZ05hbWU7CiAgICBwcml2YXRlIGludCBfbGlu\nZU51bTsgIAogICAgcHJpdmF0ZSBpbnQgX2NvbE51bTsgIAoKICAgIC8qKgog\nICAgICogQ29uc3RydWN0IHdpdGggdGhlIGdpdmVuIG5hbWUuCiAgICAgKi8K\nICAgIHByb3RlY3RlZCBRdWVyeU1ldGFEYXRhKFN0cmluZyBuYW1lKSB7CiAg\nICAgICAgX25hbWUgPSBuYW1lOwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIHRoZSBuYW1lIGZvciB0aGlzIHF1ZXJ5LgogICAgICovCiAgICBwdWJs\naWMgU3RyaW5nIGdldE5hbWUoKSB7CiAgICAgICAgcmV0dXJuIF9uYW1lOwog\nICAgfQoKICAgIC8qKgogICAgICogVGhlIGNsYXNzIHRoYXQgZGVmaW5lcyB0\naGlzIHF1ZXJ5LCBvciBudWxsIGlmIG5vbmUuCiAgICAgKi8KICAgIHB1Ymxp\nYyBDbGFzcyBnZXREZWZpbmluZ1R5cGUoKSB7CiAgICAgICAgcmV0dXJuIF9j\nbGFzczsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBjbGFzcyB0aGF0IGRl\nZmluZXMgdGhpcyBxdWVyeSwgb3IgbnVsbCBpZiBub25lLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXREZWZpbmluZ1R5cGUoQ2xhc3MgY2xzKSB7CiAg\nICAgICAgX2NsYXNzID0gY2xzOwogICAgfQoKICAgIC8qKgogICAgICogV2hl\ndGhlciB0aGUgcXVlcnkgaGFzIGJlZW4gbWFya2VkIHJlYWQtb25seS4KICAg\nICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNSZWFkT25seSgpIHsKICAgICAg\nICByZXR1cm4gX3JlYWRPbmx5ICE9IG51bGwgJiYgX3JlYWRPbmx5LmJvb2xl\nYW5WYWx1ZSgpOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0aGUg\ncXVlcnkgaGFzIGJlZW4gbWFya2VkIHJlYWQtb25seS4KICAgICAqLwogICAg\ncHVibGljIHZvaWQgc2V0UmVhZE9ubHkoYm9vbGVhbiByZWFkT25seSkgewog\nICAgICAgIF9yZWFkT25seSA9IChyZWFkT25seSkgPyBCb29sZWFuLlRSVUUg\nOiBCb29sZWFuLkZBTFNFOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIHF1\nZXJ5IGNhbmRpZGF0ZSBjbGFzcywgb3IgbnVsbCBpZiBub25lLgogICAgICov\nCiAgICBwdWJsaWMgQ2xhc3MgZ2V0Q2FuZGlkYXRlVHlwZSgpIHsKICAgICAg\nICByZXR1cm4gX2NhbmRpZGF0ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRo\nZSBxdWVyeSByZXN1bHQgY2xhc3MsIG9yIG51bGwgaWYgbm9uZS4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0Q2FuZGlkYXRlVHlwZShDbGFzcyBjbHMp\nIHsKICAgICAgICBfY2FuZGlkYXRlID0gY2xzOwogICAgfQoKICAgIC8qKgog\nICAgICogVGhlIHF1ZXJ5IHJlc3VsdCBjbGFzcywgb3IgbnVsbCBpZiBub25l\nLgogICAgICovCiAgICBwdWJsaWMgQ2xhc3MgZ2V0UmVzdWx0VHlwZSgpIHsK\nICAgICAgICByZXR1cm4gX3JlczsKICAgIH0KCiAgICAvKioKICAgICAqIFRo\nZSBxdWVyeSByZXN1bHQgY2xhc3MsIG9yIG51bGwgaWYgbm9uZS4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0UmVzdWx0VHlwZShDbGFzcyBjbHMpIHsK\nICAgICAgICBfcmVzID0gY2xzOwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIHRoZSBxdWVyeSBsYW5ndWFnZS4KICAgICAqLwogICAgcHVibGljIFN0\ncmluZyBnZXRMYW5ndWFnZSgpIHsKICAgICAgICByZXR1cm4gX2xhbmd1YWdl\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBsYW5ndWFnZSBmb3Ig\ndGhpcyBxdWVyeS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0TGFuZ3Vh\nZ2UoU3RyaW5nIGxhbmd1YWdlKSB7CiAgICAgICAgX2xhbmd1YWdlID0gbGFu\nZ3VhZ2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgZnVsbCBxdWVyeSBz\ndHJpbmcsIG9yIG51bGwgaWYgbm9uZS4KICAgICAqLwogICAgcHVibGljIFN0\ncmluZyBnZXRRdWVyeVN0cmluZygpIHsKICAgICAgICByZXR1cm4gX3F1ZXJ5\nOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGZ1bGwgcXVlcnkgc3RyaW5n\nLCBvciBudWxsIGlmIG5vbmUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNl\ndFF1ZXJ5U3RyaW5nKFN0cmluZyBxdWVyeSkgewogICAgICAgIF9xdWVyeSA9\nIHF1ZXJ5OwogICAgfQoKICAgIC8qKgogICAgICogUXVlcnkgaGludHMuCiAg\nICAgKi8KICAgIHB1YmxpYyBTdHJpbmdbXSBnZXRIaW50S2V5cygpIHsKICAg\nICAgICByZXR1cm4gKF9oaW50S2V5cyA9PSBudWxsKSA/IEVNUFRZX0tFWVMK\nICAgICAgICAgICAgOiAoU3RyaW5nW10pIF9oaW50S2V5cy50b0FycmF5KG5l\ndyBTdHJpbmdbX2hpbnRLZXlzLnNpemUoKV0pOwogICAgfQoKICAgIC8qKgog\nICAgICogUXVlcnkgaGludHMuCiAgICAgKi8KICAgIHB1YmxpYyBPYmplY3Rb\nXSBnZXRIaW50VmFsdWVzKCkgewogICAgICAgIHJldHVybiAoX2hpbnRWYWxz\nID09IG51bGwpID8gRU1QVFlfVkFMUyA6IF9oaW50VmFscy50b0FycmF5KCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBBZGQgYSBxdWVyeSBoaW50LgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBhZGRIaW50KFN0cmluZyBrZXksIE9iamVj\ndCB2YWx1ZSkgewogICAgICAgIGlmIChfaGludEtleXMgPT0gbnVsbCkgewog\nICAgICAgICAgICBfaGludEtleXMgPSBuZXcgTGlua2VkTGlzdCgpOwogICAg\nICAgICAgICBfaGludFZhbHMgPSBuZXcgTGlua2VkTGlzdCgpOwogICAgICAg\nIH0KICAgICAgICBfaGludEtleXMuYWRkKGtleSk7CiAgICAgICAgX2hpbnRW\nYWxzLmFkZCh2YWx1ZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRS\nZXN1bHRTZXRNYXBwaW5nTmFtZSgpIHsKICAgICAgICByZXR1cm4gX3Jlc3Vs\ndFNldE1hcHBpbmdOYW1lOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJl\nc3VsdFNldE1hcHBpbmdOYW1lKFN0cmluZyBzZXRNYXBwaW5nTmFtZSkgewog\nICAgICAgIF9yZXN1bHRTZXRNYXBwaW5nTmFtZSA9IHNldE1hcHBpbmdOYW1l\nOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFNldCBxdWVyeSB0ZW1wbGF0\nZSBpbmZvcm1hdGlvbiBpbnRvIHRoZSBnaXZlbiBjb25jcmV0ZQogICAgICog\ncXVlcnkgaW5zdGFuY2UuIEhvd2V2ZXIsIHRoZSBsYW5ndWFnZSwgcXVlcnkg\nc3RyaW5nLCBhbmQKICAgICAqIGNhbmRpZGF0ZSBjbGFzcyBhcmUgYXNzdW1l\nZCB0byBiZSBkZWNsYXJlZCBpbiB0aGUgcXVlcnkKICAgICAqIGluc3RhbnRp\nYXRpb24sIGFuZCBoaW50cyBhcmUgbm90IHRyYW5zZmVycmVkLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCBzZXRJbnRvKFF1ZXJ5IHF1ZXJ5KSB7CiAgICAg\nICAgaWYgKF9jYW5kaWRhdGUgIT0gbnVsbCkKICAgICAgICAgICAgcXVlcnku\nc2V0Q2FuZGlkYXRlVHlwZShfY2FuZGlkYXRlLCB0cnVlKTsKICAgICAgICBp\nZiAoIVN0cmluZ1V0aWxzLmlzRW1wdHkoX3F1ZXJ5KSkKICAgICAgICAgICAg\ncXVlcnkuc2V0UXVlcnkoX3F1ZXJ5KTsKICAgICAgICBpZiAoX3JlcyAhPSBu\ndWxsKQogICAgICAgICAgICBxdWVyeS5zZXRSZXN1bHRUeXBlKF9yZXMpOwog\nICAgICAgIGlmIChfcmVhZE9ubHkgIT0gbnVsbCkKICAgICAgICAgICAgcXVl\ncnkuc2V0UmVhZE9ubHkoX3JlYWRPbmx5LmJvb2xlYW5WYWx1ZSgpKTsKICAg\nICAgICBpZiAoX3Jlc3VsdFNldE1hcHBpbmdOYW1lICE9IG51bGwpCiAgICAg\nICAgICAgIHF1ZXJ5LnNldFJlc3VsdE1hcHBpbmcobnVsbCwgX3Jlc3VsdFNl\ndE1hcHBpbmdOYW1lKTsKICAgIH0KCiAgICAvKioKICAgICAqIEluaXRpYWxp\nemUgdGhpcyBpbnN0YW5jZSBmcm9tIHRoZSB2YWx1ZXMgaGVsZCBpbiB0aGUK\nICAgICAqIHNwZWNpZmllZCB7QGxpbmsgUXVlcnl9LgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXRGcm9tKFF1ZXJ5IHF1ZXJ5KSB7CiAgICAgICAgX2xh\nbmd1YWdlID0gcXVlcnkuZ2V0TGFuZ3VhZ2UoKTsKICAgICAgICBfY2FuZGlk\nYXRlID0gcXVlcnkuZ2V0Q2FuZGlkYXRlVHlwZSgpOwogICAgICAgIF9yZXMg\nPSBxdWVyeS5nZXRSZXN1bHRUeXBlKCk7CiAgICAgICAgX3F1ZXJ5ID0gcXVl\ncnkuZ2V0UXVlcnlTdHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRo\nZSBzb3VyY2UgbW9kZSBvZiB0aGlzIHF1ZXJ5LgogICAgICovCiAgICBwdWJs\naWMgaW50IGdldFNvdXJjZU1vZGUoKSB7CiAgICAgICAgcmV0dXJuIF9tb2Rl\nOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIHNvdXJjZSBtb2RlIG9mIHRo\naXMgcXVlcnkuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNvdXJjZU1v\nZGUoaW50IG1vZGUpIHsKICAgICAgICBfbW9kZSA9IG1vZGU7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICByZXR1cm4g\nX25hbWU7CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBDb21t\nZW50YWJsZQogICAgLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIFN0cmlu\nZ1tdIGdldENvbW1lbnRzKCkgewogICAgICAgIHJldHVybiAoX2NvbW1lbnRz\nID09IG51bGwpID8gRU1QVFlfQ09NTUVOVFMgOiBfY29tbWVudHM7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0Q29tbWVudHMoU3RyaW5nW10gY29tbWVu\ndHMpIHsKICAgICAgICBfY29tbWVudHMgPSBjb21tZW50czsKICAgIH0KCiAg\nICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gU291\ncmNlVHJhY2tlciBpbXBsZW1lbnRhdGlvbgogICAgLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBwdWJsaWMgRmlsZSBnZXRTb3VyY2VG\naWxlKCkgewogICAgICAgIHJldHVybiBfZmlsZTsKICAgIH0KCiAgICBwdWJs\naWMgT2JqZWN0IGdldFNvdXJjZVNjb3BlKCkgewogICAgICAgIHJldHVybiBf\nc2NvcGU7CiAgICB9CgogICAgcHVibGljIGludCBnZXRTb3VyY2VUeXBlKCkg\newogICAgICAgIHJldHVybiBfc3JjVHlwZTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRTb3VyY2UoRmlsZSBmaWxlLCBPYmplY3Qgc2NvcGUsIGludCBz\ncmNUeXBlKSB7CiAgICAgICAgX2ZpbGUgPSBmaWxlOwogICAgICAgIF9zY29w\nZSA9IHNjb3BlOwogICAgICAgIF9zcmNUeXBlID0gc3JjVHlwZTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldFJlc291cmNlTmFtZSgpIHsKICAgICAg\nICByZXR1cm4gKF9jbGFzcyA9PSBudWxsKSA/IF9uYW1lIDogX2NsYXNzLmdl\ndE5hbWUgKCkgKyAiOiIgKyBfbmFtZTsKCX0KICAgIAogICAgcHVibGljIGlu\ndCBnZXRMaW5lTnVtYmVyKCkgewogICAgICAgIHJldHVybiBfbGluZU51bTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRMaW5lTnVtYmVyKGludCBsaW5l\nTnVtKSB7CiAgICAgICAgX2xpbmVOdW0gPSBsaW5lTnVtOwogICAgfQoKICAg\nIHB1YmxpYyBpbnQgZ2V0Q29sTnVtYmVyKCkgewogICAgICAgIHJldHVybiBf\nY29sTnVtOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbE51bWJlcihp\nbnQgY29sTnVtKSB7CiAgICAgICAgX2NvbE51bSA9IGNvbE51bTsKICAgIH0K\nfQo=\n","encoding":"base64"}

