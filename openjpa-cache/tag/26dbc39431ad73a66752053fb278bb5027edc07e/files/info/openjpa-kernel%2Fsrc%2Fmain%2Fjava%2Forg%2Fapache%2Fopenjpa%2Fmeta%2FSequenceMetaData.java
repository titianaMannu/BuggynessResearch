{"sha":"d575c364b8e5616527bfd6e11a1338e5be1cf8ba","node_id":"MDQ6QmxvYjIwNjM2NDpkNTc1YzM2NGI4ZTU2MTY1MjdiZmQ2ZTExYTEzMzhlNWJlMWNmOGJh","size":10718,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d575c364b8e5616527bfd6e11a1338e5be1cf8ba","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0\nIGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEu\nc2VjdXJpdHkuUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbjsKCmltcG9ydCBv\ncmcuYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5jb25mLlNlcVZhbHVlOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmtlcm5lbC5TZXE7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbnM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLmNvbmYuUGx1Z2luVmFsdWU7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLm1ldGEuU291cmNlVHJhY2tlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5DbG9zZWFibGU7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuSjJEb1ByaXZIZWxwZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi54bWwuQ29tbWVudGFi\nbGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5NZXRhRGF0YUV4\nY2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLk9wZW5K\nUEFFeGNlcHRpb247CgovKioKICogTWV0YWRhdGEgYWJvdXQgYSBuYW1lZCBz\nZXF1ZW5jZS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQHNpbmNlIDAu\nNC4wCiAqLwpwdWJsaWMgY2xhc3MgU2VxdWVuY2VNZXRhRGF0YQogICAgaW1w\nbGVtZW50cyBTb3VyY2VUcmFja2VyLCBNZXRhRGF0YUNvbnRleHQsIENsb3Nl\nYWJsZSwgQ29tbWVudGFibGUsCiAgICBTZXJpYWxpemFibGUgewoKICAgIC8q\nKgogICAgICogU2VxdWVuY2UgbmFtZSB0aGF0IG1lYW5zIHRvIHVzZSB0aGUg\nc3lzdGVtIGRlZmF1bHQgc2VxdWVuY2UuCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgU3RyaW5nIE5BTUVfU1lTVEVNID0gInN5c3RlbSI7Cgog\nICAgLyoqCiAgICAgKiBEZWZhdWx0IHBsdWdpbiBhbGlhcyBuYW1lOyBldmVy\neSBiYWNrIGVuZCBzaG91bGQgaGF2ZSBzb21lICduYXRpdmUnCiAgICAgKiBz\nZXF1ZW5jZSBpbXBsZW1lbnRhdGlvbi4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgSU1QTF9OQVRJVkUgPSAibmF0aXZlIjsKCiAg\nICAvKioKICAgICAqIFRpbWUtYmFzZWQgc2VxdWVuY2UgdmFsdWVzLgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBJTVBMX1RJTUUg\nPSAidGltZSI7CgogICAgLy8gcGx1Z2luIHByb3BlcnR5IG5hbWVzIGZvciBz\ndGFuZGFyZCBwcm9wcwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5n\nIFBST1BfU0VRVUVOQ0UgPSAiU2VxdWVuY2UiOwogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgU3RyaW5nIFBST1BfSU5JVElBTF9WQUxVRSA9ICJJbml0aWFs\nVmFsdWUiOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBST1Bf\nQUxMT0NBVEUgPSAiQWxsb2NhdGUiOwogICAgcHJpdmF0ZSBzdGF0aWMgZmlu\nYWwgU3RyaW5nIFBST1BfSU5DUkVNRU5UID0gIkluY3JlbWVudCI7CgogICAg\ncHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6\nZXIuZm9yUGFja2FnZQogICAgICAgIChTZXF1ZW5jZU1ldGFEYXRhLmNsYXNz\nKTsKCiAgICBwcml2YXRlIE1ldGFEYXRhUmVwb3NpdG9yeSBfcmVwb3M7CiAg\nICBwcml2YXRlIFNlcXVlbmNlRmFjdG9yeSBfZmFjdG9yeSA9IG51bGw7CiAg\nICAKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIF9uYW1lOwogICAgcHJpdmF0\nZSBpbnQgX3R5cGUgPSBTZXEuVFlQRV9ERUZBVUxUOwogICAgcHJpdmF0ZSBT\ndHJpbmcgX3BsdWdpbiA9IElNUExfTkFUSVZFOwogICAgcHJpdmF0ZSBGaWxl\nIF9zb3VyY2UgPSBudWxsOwogICAgcHJpdmF0ZSBPYmplY3QgX3Njb3BlID0g\nbnVsbDsKICAgIHByaXZhdGUgaW50IF9zcmNUeXBlID0gU1JDX09USEVSOwog\nICAgcHJpdmF0ZSBpbnQgX2xpbmVOdW0gPSAwOyAgCiAgICBwcml2YXRlIGlu\ndCBfY29sTnVtID0gMDsgIAogICAgcHJpdmF0ZSBTdHJpbmdbXSBfY29tbWVu\ndHMgPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcgX3NlcXVlbmNlID0gbnVs\nbDsKICAgIHByaXZhdGUgaW50IF9pbmNyZW1lbnQgPSAtMTsKICAgIHByaXZh\ndGUgaW50IF9hbGxvY2F0ZSA9IC0xOwogICAgcHJpdmF0ZSBpbnQgX2luaXRp\nYWwgPSAtMTsKCiAgICAvLyBpbnN0YW50aWF0ZWQgbGF6aWx5CiAgICBwcml2\nYXRlIHRyYW5zaWVudCBTZXEgX2luc3RhbmNlID0gbnVsbDsKCiAgICAvKioK\nICAgICAqIENvbnN0cnVjdG9yOyBzdXBwbHkgc2VxdWVuY2UgbmFtZS4KICAg\nICAqLwogICAgcHVibGljIFNlcXVlbmNlTWV0YURhdGEoU3RyaW5nIG5hbWUs\nIE1ldGFEYXRhUmVwb3NpdG9yeSByZXBvcykgewogICAgICAgIF9uYW1lID0g\nbmFtZTsKICAgICAgICBfcmVwb3MgPSByZXBvczsKICAgIH0KCiAgICAvKioK\nICAgICAqIFRoZSBvd25pbmcgcmVwb3NpdG9yeS4KICAgICAqLwogICAgcHVi\nbGljIE1ldGFEYXRhUmVwb3NpdG9yeSBnZXRSZXBvc2l0b3J5KCkgewogICAg\nICAgIHJldHVybiBfcmVwb3M7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUg\nc2VxdWVuY2UgbmFtZS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRO\nYW1lKCkgewogICAgICAgIHJldHVybiBfbmFtZTsKICAgIH0KCiAgICBwdWJs\naWMgRmlsZSBnZXRTb3VyY2VGaWxlKCkgewogICAgICAgIHJldHVybiBfc291\ncmNlOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0U291cmNlU2NvcGUo\nKSB7CiAgICAgICAgcmV0dXJuIF9zY29wZTsKICAgIH0KCiAgICBwdWJsaWMg\naW50IGdldFNvdXJjZVR5cGUoKSB7CiAgICAgICAgcmV0dXJuIF9zcmNUeXBl\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNvdXJjZShGaWxlIGZpbGUs\nIE9iamVjdCBzY29wZSwgaW50IHNyY1R5cGUpIHsKICAgICAgICBfc291cmNl\nID0gZmlsZTsKICAgICAgICBfc2NvcGUgPSBzY29wZTsKICAgICAgICBfc3Jj\nVHlwZSA9IHNyY1R5cGU7CiAgICB9CgogICAgcHVibGljIGludCBnZXRMaW5l\nTnVtYmVyKCkgewogICAgICAgIHJldHVybiBfbGluZU51bTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRMaW5lTnVtYmVyKGludCBsaW5lTnVtKSB7CiAg\nICAgICAgX2xpbmVOdW0gPSBsaW5lTnVtOwogICAgfQoKICAgIHB1YmxpYyBp\nbnQgZ2V0Q29sTnVtYmVyKCkgewogICAgICAgIHJldHVybiBfY29sTnVtOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbE51bWJlcihpbnQgY29sTnVt\nKSB7CiAgICAgICAgX2NvbE51bSA9IGNvbE51bTsKICAgIH0KICAgIAogICAg\ncHVibGljIFN0cmluZyBnZXRSZXNvdXJjZU5hbWUoKSB7CiAgICAgICAgcmV0\ndXJuIF9uYW1lOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIHNlcXVlbmNl\nIHR5cGUuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0VHlwZSgpIHsKICAg\nICAgICByZXR1cm4gX3R5cGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUg\nc2VxdWVuY2UgdHlwZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0VHlw\nZShpbnQgdHlwZSkgewogICAgICAgIF90eXBlID0gdHlwZTsKICAgIH0KCiAg\nICAvKioKICAgICAqIE5hdGl2ZSBzZXF1ZW5jZSBuYW1lLgogICAgICovCiAg\nICBwdWJsaWMgU3RyaW5nIGdldFNlcXVlbmNlKCkgewogICAgICAgIHJldHVy\nbiBfc2VxdWVuY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBOYXRpdmUgc2Vx\ndWVuY2UgbmFtZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U2VxdWVu\nY2UoU3RyaW5nIHNlcXVlbmNlKSB7CiAgICAgICAgX3NlcXVlbmNlID0gc2Vx\ndWVuY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXF1ZW5jZSBpbmNyZW1l\nbnQsIG9yIC0xIGZvciBkZWZhdWx0LgogICAgICovCiAgICBwdWJsaWMgaW50\nIGdldEluY3JlbWVudCgpIHsKICAgICAgICByZXR1cm4gX2luY3JlbWVudDsK\nICAgIH0KCiAgICAvKioKICAgICAqIFNlcXVlbmNlIGluY3JlbWVudCwgb3Ig\nLTEgZm9yIGRlZmF1bHQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldElu\nY3JlbWVudChpbnQgaW5jcmVtZW50KSB7CiAgICAgICAgX2luY3JlbWVudCA9\nIGluY3JlbWVudDsKICAgIH0KCiAgICAvKioKICAgICAqIFNlcXVlbmNlIHZh\nbHVlcyB0byBhbGxvY2F0ZSwgb3IgLTEgZm9yIGRlZmF1bHQuCiAgICAgKi8K\nICAgIHB1YmxpYyBpbnQgZ2V0QWxsb2NhdGUoKSB7CiAgICAgICAgcmV0dXJu\nIF9hbGxvY2F0ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNlcXVlbmNlIHZh\nbHVlcyB0byBhbGxvY2F0ZSwgb3IgLTEgZm9yIGRlZmF1bHQuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldEFsbG9jYXRlKGludCBhbGxvY2F0ZSkgewog\nICAgICAgIF9hbGxvY2F0ZSA9IGFsbG9jYXRlOwogICAgfQoKICAgIC8qKgog\nICAgICogSW5pdGlhbCBzZXF1ZW5jZSB2YWx1ZSwgb3IgLTEgZm9yIGRlZmF1\nbHQuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0SW5pdGlhbFZhbHVlKCkg\newogICAgICAgIHJldHVybiBfaW5pdGlhbDsKICAgIH0KCiAgICAvKioKICAg\nICAqIEluaXRpYWwgc2VxdWVuY2UgdmFsdWUsIG9yIC0xIGZvciBkZWZhdWx0\nLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRJbml0aWFsVmFsdWUoaW50\nIGluaXRpYWwpIHsKICAgICAgICBfaW5pdGlhbCA9IGluaXRpYWw7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBQbHVnaW4gc3RyaW5nIGRlc2NyaWJpbmcgdGhl\nIHtAbGluayBTZXF9LgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFNl\ncXVlbmNlUGx1Z2luKCkgewogICAgICAgIHJldHVybiBfcGx1Z2luOwogICAg\nfQoKICAgIC8qKgogICAgICogUGx1Z2luIHN0cmluZyBkZXNjcmliaW5nIHRo\nZSB7QGxpbmsgU2VxfS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U2Vx\ndWVuY2VQbHVnaW4oU3RyaW5nIHBsdWdpbikgewogICAgICAgIF9wbHVnaW4g\nPSBwbHVnaW47CiAgICB9CgogICAgLyoqCiAgICAgKiBBIGZhY3RvcnkgdG8g\ndHJhbnNmb3JtIHNwZWMgc2VxdWVuY2VzIHByb2R1Y2VkIGJ5IHVzZXIgZmFj\ndG9yaWVzIGludG8KICAgICAqIHRoZSBPcGVuSlBBIHNlcXVlbmNlIHR5cGUu\nCiAgICAgKi8KICAgIHB1YmxpYyBTZXF1ZW5jZUZhY3RvcnkgZ2V0U2VxdWVu\nY2VGYWN0b3J5KCkgewogICAgICAgIHJldHVybiBfZmFjdG9yeTsKICAgIH0K\nCiAgICAvKioKICAgICAqIEEgZmFjdG9yeSB0byB0cmFuc2Zvcm0gc3BlYyBz\nZXF1ZW5jZXMgcHJvZHVjZWQgYnkgdXNlciBmYWN0b3JpZXMgaW50bwogICAg\nICogdGhlIE9wZW5KUEEgc2VxdWVuY2UgdHlwZS4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgc2V0U2VxdWVuY2VGYWN0b3J5KFNlcXVlbmNlRmFjdG9yeSBm\nYWN0b3J5KSB7CiAgICAgICAgX2ZhY3RvcnkgPSBmYWN0b3J5OwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBpbml0aWFsaXplZCBzZXF1ZW5j\nZSBpbnN0YW5jZS4KICAgICAqLwogICAgcHVibGljIHN5bmNocm9uaXplZCBT\nZXEgZ2V0SW5zdGFuY2UoQ2xhc3NMb2FkZXIgZW52TG9hZGVyKSB7CiAgICAg\nICAgaWYgKF9pbnN0YW5jZSA9PSBudWxsKQogICAgICAgICAgICBfaW5zdGFu\nY2UgPSBpbnN0YW50aWF0ZShlbnZMb2FkZXIpOwogICAgICAgIHJldHVybiBf\naW5zdGFuY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGUgYSBuZXcg\ndW5pbml0aWFsaXplZCBpbnN0YW5jZSBvZiB0aGlzIHNlcXVlbmNlLgogICAg\nICovCiAgICBwcm90ZWN0ZWQgU2VxIGluc3RhbnRpYXRlKENsYXNzTG9hZGVy\nIGVudkxvYWRlcikgewogICAgICAgIGlmIChOQU1FX1NZU1RFTS5lcXVhbHMo\nX25hbWUpKQogICAgICAgICAgICByZXR1cm4gX3JlcG9zLmdldENvbmZpZ3Vy\nYXRpb24oKS5nZXRTZXF1ZW5jZUluc3RhbmNlKCk7CgogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIFBsdWdpblZhbHVlIHBsdWdpbiA9IG5ld1BsdWdpblZh\nbHVlKCJzZXF1ZW5jZS1wbHVnaW4iKTsKICAgICAgICAgICAgcGx1Z2luLnNl\ndFN0cmluZyhfcGx1Z2luKTsKICAgICAgICAgICAgU3RyaW5nIGNsc05hbWUg\nPSBwbHVnaW4uZ2V0Q2xhc3NOYW1lKCk7CgogICAgICAgICAgICBDbGFzcyBj\nbHMgPSBDbGFzcy5mb3JOYW1lKGNsc05hbWUsIHRydWUsCiAgICAgICAgICAg\nICAgICAoQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxl\nZ2VkKAogICAgICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENs\nYXNzTG9hZGVyQWN0aW9uKFNlcS5jbGFzcykpKTsKICAgICAgICAgICAgU3Ry\naW5nQnVmZmVyIHByb3BzID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAg\nICAgICBpZiAocGx1Z2luLmdldFByb3BlcnRpZXMoKSAhPSBudWxsKQogICAg\nICAgICAgICAgICAgcHJvcHMuYXBwZW5kKHBsdWdpbi5nZXRQcm9wZXJ0aWVz\nKCkpOwogICAgICAgICAgICBhZGRTdGFuZGFyZFByb3BlcnRpZXMocHJvcHMp\nOwoKICAgICAgICAgICAgLy8gYWxsb3cgdXNlci1jbGFzcyBzcGVjaWZpY2F0\naW9uIG9mIGVpdGhlciBvdXIgc2VxdWVuY2UKICAgICAgICAgICAgLy8gaW50\nZXJmYWNlIG9yIGEgZmFjdG9yeSBjbGFzcwogICAgICAgICAgICBTZXEgc2Vx\nOwogICAgICAgICAgICBpZiAoU2VxLmNsYXNzLmlzQXNzaWduYWJsZUZyb20o\nY2xzKSkgewogICAgICAgICAgICAgICAgc2VxID0gKFNlcSkgQWNjZXNzQ29u\ndHJvbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAgICAgICAgICAgICAgSjJE\nb1ByaXZIZWxwZXIubmV3SW5zdGFuY2VBY3Rpb24oY2xzKSk7CiAgICAgICAg\nICAgICAgICBDb25maWd1cmF0aW9ucy5jb25maWd1cmVJbnN0YW5jZShzZXEs\nCiAgICAgICAgICAgICAgICAgICAgX3JlcG9zLmdldENvbmZpZ3VyYXRpb24o\nKSwgcHJvcHMudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICBpZihfdHlw\nZSAhPSBTZXEuVFlQRV9ERUZBVUxUKQogICAgICAgICAgICAgICAgICAgIHNl\ncS5zZXRUeXBlKF90eXBlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfZmFj\ndG9yeSAhPSBudWxsKQogICAgICAgICAgICAgICAgc2VxID0gX2ZhY3Rvcnku\ndG9TZXF1ZW5jZShjbHMsIHByb3BzLnRvU3RyaW5nKCkpOwogICAgICAgICAg\nICBlbHNlCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0YURhdGFFeGNl\ncHRpb24oX2xvYy5nZXQoIm5vdC1zZXEtY2xzIiwgX25hbWUsCiAgICAgICAg\nICAgICAgICAgICAgY2xzKSk7CiAgICAgICAgICAgIHJldHVybiBzZXE7CiAg\nICAgICAgfSBjYXRjaCAoT3BlbkpQQUV4Y2VwdGlvbiBrZSkgewogICAgICAg\nICAgICB0aHJvdyBrZTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkg\newogICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFByaXZpbGVnZWRBY3Rp\nb25FeGNlcHRpb24pCiAgICAgICAgICAgICAgICBlID0gKChQcml2aWxlZ2Vk\nQWN0aW9uRXhjZXB0aW9uKSBlKS5nZXRFeGNlcHRpb24oKTsKICAgICAgICAg\nICAgdGhyb3cgbmV3IE1ldGFEYXRhRXhjZXB0aW9uKF9sb2MuZ2V0KCJjYW50\nLWluaXQtc2VxIiwgX25hbWUpKS4KICAgICAgICAgICAgICAgIHNldENhdXNl\nKGUpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENyZWF0ZSBh\nIG5ldyBwbHVnaW4gdmFsdWUgZm9yIHNlcXVlbmNlcy4gUmV0dXJucyBhIHN0\nYW5kYXJkCiAgICAgKiB7QGxpbmsgU2VxVmFsdWV9IGJ5IGRlZmF1bHQuCiAg\nICAgKi8KICAgIHByb3RlY3RlZCBQbHVnaW5WYWx1ZSBuZXdQbHVnaW5WYWx1\nZShTdHJpbmcgcHJvcGVydHkpIHsKICAgICAgICByZXR1cm4gbmV3IFNlcVZh\nbHVlKHByb3BlcnR5KTsKICAgIH0KCiAgICAvKioKICAgICAqIEFkZCBzdGFu\nZGFyZCBwcm9wZXJ0aWVzIHRvIHRoZSBnaXZlbiBwcm9wZXJ0aWVzIGJ1ZmZl\nci4KICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgYWRkU3RhbmRhcmRQcm9w\nZXJ0aWVzKFN0cmluZ0J1ZmZlciBwcm9wcykgewogICAgICAgIGFwcGVuZFBy\nb3BlcnR5KHByb3BzLCBQUk9QX1NFUVVFTkNFLCBfc2VxdWVuY2UpOwogICAg\nICAgIGFwcGVuZFByb3BlcnR5KHByb3BzLCBQUk9QX0lOSVRJQUxfVkFMVUUs\nIF9pbml0aWFsKTsKICAgICAgICBhcHBlbmRQcm9wZXJ0eShwcm9wcywgUFJP\nUF9BTExPQ0FURSwgX2FsbG9jYXRlKTsKICAgICAgICBhcHBlbmRQcm9wZXJ0\neShwcm9wcywgUFJPUF9JTkNSRU1FTlQsIF9pbmNyZW1lbnQpOwogICAgfQoK\nICAgIC8qKgogICAgICogQWRkIGEgc3RyaW5nIHByb3BlcnR5IHRvIHRoZSBi\ndWZmZXIuIE5vdGhpbmcgd2lsbCBiZSBhZGRlZCBpZiB2YWx1ZQogICAgICog\naXMgbnVsbCBvciBlbXB0eSBzdHJpbmcuCiAgICAgKi8KICAgIHByb3RlY3Rl\nZCB2b2lkIGFwcGVuZFByb3BlcnR5KFN0cmluZ0J1ZmZlciBwcm9wcywgU3Ry\naW5nIG5hbWUsIFN0cmluZyB2YWwpIHsKICAgICAgICBpZiAoU3RyaW5nVXRp\nbHMuaXNFbXB0eSh2YWwpKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAg\naWYgKHByb3BzLmxlbmd0aCgpID4gMCkKICAgICAgICAgICAgcHJvcHMuYXBw\nZW5kKCIsIik7CiAgICAgICAgcHJvcHMuYXBwZW5kKG5hbWUpLmFwcGVuZCgi\nPSIpLmFwcGVuZCh2YWwpOwogICAgfQoKICAgIC8qKgogICAgICogQWRkIGFu\nIGludCBwcm9wZXJ0eSB0byB0aGUgYnVmZmVyLiBOb3RoaW5nIHdpbGwgYmUg\nYWRkZWQgaWYgdmFsdWUgaXMgLTEuCiAgICAgKi8KICAgIHByb3RlY3RlZCB2\nb2lkIGFwcGVuZFByb3BlcnR5KFN0cmluZ0J1ZmZlciBwcm9wcywgU3RyaW5n\nIG5hbWUsIGludCB2YWwpIHsKICAgICAgICBpZiAodmFsID09IC0xKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHByb3BzLmxlbmd0aCgpID4g\nMCkKICAgICAgICAgICAgcHJvcHMuYXBwZW5kKCIsIik7CiAgICAgICAgcHJv\ncHMuYXBwZW5kKG5hbWUpLmFwcGVuZCgiPSIpLmFwcGVuZCh2YWwpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ2xvc2UgdXNlciBzZXF1ZW5jZSBpbnN0YW5j\nZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgY2xvc2UoKSB7CiAgICAgICAg\naWYgKF9pbnN0YW5jZSAhPSBudWxsICYmICFOQU1FX1NZU1RFTS5lcXVhbHMo\nX25hbWUpKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgX2lu\nc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlv\nbiBlKSB7CiAgICAgICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAg\nIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9u\nYW1lOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLwogICAgLy8gQ29tbWVu\ndGFibGUKICAgIC8vLy8vLy8vLy8vLy8vLwoKICAgIHB1YmxpYyBTdHJpbmdb\nXSBnZXRDb21tZW50cygpIHsKICAgICAgICByZXR1cm4gKF9jb21tZW50cyA9\nPSBudWxsKSA/IEVNUFRZX0NPTU1FTlRTIDogX2NvbW1lbnRzOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldENvbW1lbnRzKFN0cmluZ1tdIGNvbW1lbnRz\nKSB7CiAgICAgICAgX2NvbW1lbnRzID0gY29tbWVudHM7CiAgICB9CiAgICAK\nICAgIC8qKgogICAgICogQWxsb3cgZmFjYWRlcyB0byBzdXBwbHkgYWRhcHRl\ncnMgZnJvbSBhIHNwZWMgc2VxdWVuY2UgdHlwZSB0byB0aGUKICAgICAqIE9w\nZW5KUEEgc2VxdWVuY2UgdHlwZS4KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBpbnRlcmZhY2UgU2VxdWVuY2VGYWN0b3J5IAogICAgICAgIGV4dGVuZHMg\nU2VyaWFsaXphYmxlIHsKCiAgICAgICAgLyoqCiAgICAgICAgICogVHJhbnNm\nb3JtIHRoZSBnaXZlbiBjbGFzcyBuYW1lZCBpbiBtZXRhZGF0YSBpbnRvIGEg\nc2VxdWVuY2UuCiAgICAgICAgICovCgkJcHVibGljIFNlcSB0b1NlcXVlbmNl\nIChDbGFzcyBjbHMsIFN0cmluZyBwcm9wcykKCQkJdGhyb3dzIEV4Y2VwdGlv\nbjsKCX0KfQo=\n","encoding":"base64"}

