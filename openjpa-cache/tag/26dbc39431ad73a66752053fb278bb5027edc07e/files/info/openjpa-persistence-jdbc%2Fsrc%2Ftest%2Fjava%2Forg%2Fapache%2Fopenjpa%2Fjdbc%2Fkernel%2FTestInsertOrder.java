{"sha":"6e86aa208ac24d57aa7c37bc16c3f91a12d2a9e4","node_id":"MDQ6QmxvYjIwNjM2NDo2ZTg2YWEyMDhhYzI0ZDU3YWE3YzM3YmMxNmMzZjkxYTEyZDJhOWU0","size":3705,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6e86aa208ac24d57aa7c37bc16c3f91a12d2a9e4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbDsKCmltcG9ydCBq\nYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rp\nb247CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5T\nUUxMaXN0ZW5lclRlc3RDYXNlOwoKLyoqCiAqIFRlc3QgdGhhdCBpbnNlcnQg\nb3JkZXIgaXMgcHJlc2VydmVkIHdoZW4gdXNpbmcgdGhlIENvbnN0cmFpbnRV\ncGRhdGVNYW5hZ2VyCiAqIGZvciBlbnRpdGllcyB3aGljaCBhcmUgbm90IGFu\nbm90YXRlZCB3aXRoIEZvcmVpZ25LZXkgY29uc3RyYWludHMuCiAqLwpwdWJs\naWMgY2xhc3MgVGVzdEluc2VydE9yZGVyIGV4dGVuZHMgU1FMTGlzdGVuZXJU\nZXN0Q2FzZSB7CiAgICBwcml2YXRlIFN0cmluZyBlbXBUYWJsZU5hbWU7CiAg\nICBwcml2YXRlIFN0cmluZyB0YXNrVGFibGVOYW1lOwogICAgcHJpdmF0ZSBT\ndHJpbmcgc3RvcnlUYWJsZU5hbWU7CgogICAgcHVibGljIHZvaWQgc2V0VXAo\nKSB7CiAgICAgICAgc2V0VXAoRW1wbG95ZWUuY2xhc3MsIFRhc2suY2xhc3Ms\nIFN0b3J5LmNsYXNzKTsKICAgICAgICBlbXBUYWJsZU5hbWUgPSBnZXRNYXBw\naW5nKEVtcGxveWVlLmNsYXNzKS5nZXRUYWJsZSgpLmdldEZ1bGxOYW1lKCk7\nCiAgICAgICAgdGFza1RhYmxlTmFtZSA9IGdldE1hcHBpbmcoVGFzay5jbGFz\ncykuZ2V0VGFibGUoKS5nZXRGdWxsTmFtZSgpOwogICAgICAgIHN0b3J5VGFi\nbGVOYW1lID0gZ2V0TWFwcGluZyhTdG9yeS5jbGFzcykuZ2V0VGFibGUoKS5n\nZXRGdWxsTmFtZSgpOwogICAgfQoKICAgIC8qKgogICAgICogPFA+UGVyc2lz\ndCBhbiBFbXBsb3llZSBlbnRpdHkgYW5kIGFsbG93IHRoZSBjYXNjYWRlIHRv\nIGluc2VydCB0aGUgY2hpbGRyZW4uCiAgICAgKiBUaGUgaW5zZXJ0cyBzaG91\nbGQgYmUgZXhlY3V0ZWQgaW4gdGhpcyBvcmRlciwgRW1wbG95ZWUsIFRhc2ss\nIFN0b3J5LgogICAgICogPC9QPgogICAgICogCiAgICAgKiA8UD4gCiAgICAg\nKiBPcmlnaW5hbGx5IHRoaXMgdGVzdCB3b3VsZCBwYXNzIGluIHNvbWUgc2Nl\nbmFyaW9zLiBJIGJlbGlldmUgdGhlIG9yZGVyIAogICAgICogcmVsaWVkIG9u\nIHRoZSBoYXNoY29kZSBvZiB0aGUgdW5kZXJseWluZyBlbnRpdGllcy4gCiAg\nICAgKiA8L1A+CiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RDYXNjYWRl\nUGVyc2lzdCgpIHsKICAgICAgICBFbXBsb3llZSBlID0gbmV3VHJlZSgxMCk7\nCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlN\nYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigp\nOwogICAgICAgIGVtLnBlcnNpc3QoZSk7CiAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAg\nICBhc3NlcnRTUUxPcmRlcigiSU5TRVJUIElOVE8gIiArIGVtcFRhYmxlTmFt\nZSArICIuKiIsICJJTlNFUlQgSU5UTyAiCiAgICAgICAgICAgICsgdGFza1Rh\nYmxlTmFtZSArICIuKiIsICJJTlNFUlQgSU5UTyAiICsgc3RvcnlUYWJsZU5h\nbWUgKyAiLioiKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBNZXJnZSBh\nbiBFbXBsb3llZSBlbnRpdHkgYW5kIGFsbG93IHRoZSBjYXNjYWRlIHRvIGlu\nc2VydCB0aGUgY2hpbGRyZW4uCiAgICAgKiBUaGUgaW5zZXJ0cyBzaG91bGQg\nYmUgZXhlY3V0ZWQgaW4gdGhpcyBvcmRlciwgRW1wbG95ZWUsIFRhc2ssIFN0\nb3J5LgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q2FzY2FkZU1lcmdl\nKCkgewogICAgICAgIEVtcGxveWVlIGUgPSBuZXdUcmVlKDExKTsKICAgICAg\nICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIo\nKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAg\nICAgZW0ubWVyZ2UoZSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5j\nb21taXQoKTsKICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAgICBhc3NlcnRT\nUUxPcmRlcigiSU5TRVJUIElOVE8gIiArIGVtcFRhYmxlTmFtZSArICIuKiIs\nICJJTlNFUlQgSU5UTyAiCiAgICAgICAgICAgICsgdGFza1RhYmxlTmFtZSAr\nICIuKiIsICJJTlNFUlQgSU5UTyAiICsgc3RvcnlUYWJsZU5hbWUgKyAiLioi\nKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBIZWxwZXIgdG8gY3JlYXRlIGEg\ndHJlZSBvZiBlbnRpdGllcwogICAgICogCiAgICAgKiBAcGFyYW0gaWQKICAg\nICAqICAgICAgICAgICAgSUQgZm9yIHRoZSBlbnRpdGllcy4KICAgICAqIEBy\nZXR1cm4gYW4gdW5tYW5hZ2VkIEVtcGxveWVlIGluc3RhbmNlIHdpdGggdGhl\nIGFwcHJvcHJpYXRlIHJlbGF0aW9uc2hpcHMKICAgICAqICAgICAgICAgc2V0\nLgogICAgICovCiAgICBwcml2YXRlIEVtcGxveWVlIG5ld1RyZWUoaW50IGlk\nKSB7CiAgICAgICAgRW1wbG95ZWUgZSA9IG5ldyBFbXBsb3llZSgpOwogICAg\nICAgIGUuc2V0SWQoaWQpOwoKICAgICAgICBUYXNrIHQgPSBuZXcgVGFzaygp\nOwogICAgICAgIHQuc2V0SWQoaWQpOwoKICAgICAgICBTdG9yeSBzID0gbmV3\nIFN0b3J5KCk7CiAgICAgICAgcy5zZXRJZChpZCk7CgogICAgICAgIENvbGxl\nY3Rpb248VGFzaz4gdGFza3MgPSBuZXcgQXJyYXlMaXN0PFRhc2s+KCk7CiAg\nICAgICAgdGFza3MuYWRkKHQpOwoKICAgICAgICBDb2xsZWN0aW9uPFN0b3J5\nPiBzdG9yaWVzID0gbmV3IEFycmF5TGlzdDxTdG9yeT4oKTsKICAgICAgICBz\ndG9yaWVzLmFkZChzKTsKCiAgICAgICAgZS5zZXRUYXNrcyh0YXNrcyk7CiAg\nICAgICAgdC5zZXRFbXBsb3llZShlKTsKCiAgICAgICAgdC5zZXRTdG9yaWVz\nKHN0b3JpZXMpOwogICAgICAgIHMuc2V0VGFzayh0KTsKCiAgICAgICAgcmV0\ndXJuIGU7CiAgICB9Cn0K\n","encoding":"base64"}

