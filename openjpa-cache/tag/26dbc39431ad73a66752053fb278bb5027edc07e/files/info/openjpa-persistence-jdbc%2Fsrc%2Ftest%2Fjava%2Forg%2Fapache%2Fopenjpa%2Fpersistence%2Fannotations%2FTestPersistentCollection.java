{"sha":"a61c645b5bdd7411a7d54d30b86ddb1dc9da1d60","node_id":"MDQ6QmxvYjIwNjM2NDphNjFjNjQ1YjViZGQ3NDExYTdkNTRkMzBiODZkZGIxZGM5ZGExZDYw","size":3796,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a61c645b5bdd7411a7d54d30b86ddb1dc9da1d60","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5hbm5vdGF0aW9u\nczsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5T\nZXQ7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RD\nYXNlOwoKLyoqCiAqIFRlc3QgZm9yIFBlcnNpc3RlbnRDb2xsZWN0aW9uIEFu\nbm90YXRpb24KICogCiAqIEBhdXRob3IgQWxiZXJ0IExlZQogKi8KcHVibGlj\nIGNsYXNzIFRlc3RQZXJzaXN0ZW50Q29sbGVjdGlvbiBleHRlbmRzIFNpbmds\nZUVNRlRlc3RDYXNlIHsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAg\nICAgICBzZXRVcChQQ29sbF9FbnRpdHlBLmNsYXNzLCBQQ29sbF9FbWJlZEIu\nY2xhc3MsIFBDb2xsX0VudGl0eUMuY2xhc3MsCiAgICAgICAgICAgICAgICBQ\nQ29sbF9FbnRpdHlBMS5jbGFzcywgUENvbGxfRW50aXR5Qi5jbGFzcywgQ0xF\nQVJfVEFCTEVTKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0UGVyc2lz\ndGVudENvbGxlY3Rpb25PZkVtYmVkZGFibGVzKCkgewogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOwoKICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOwoKICAgICAgICAgICAgUENvbGxfRW50aXR5QyBjID0gbmV3\nIFBDb2xsX0VudGl0eUMoKTsKICAgICAgICAgICAgYy5zZXRJZCgxMDEpOwoK\nICAgICAgICAgICAgUENvbGxfRW1iZWRCIGIwMSA9IG5ldyBQQ29sbF9FbWJl\nZEIoKTsKICAgICAgICAgICAgYjAxLnNldE5hbWUoImIwMSIpOwogICAgICAg\nICAgICBiMDEuc2V0TTJvQyhjKTsKCiAgICAgICAgICAgIFBDb2xsX0VudGl0\neUEgYSA9IG5ldyBQQ29sbF9FbnRpdHlBKCk7CiAgICAgICAgICAgIGEuc2V0\nSWQoMSk7CiAgICAgICAgICAgIGEuZ2V0RW1iZWRDb2xsZWN0aW9uKCkuYWRk\nKGIwMSk7CiAgICAgICAgICAgIGVtLnBlcnNpc3QoYSk7CiAgICAgICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgICAgIGVt\nLmNsb3NlKCk7CgogICAgICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlN\nYW5hZ2VyKCk7CiAgICAgICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVy\neSgiU0VMRUNUIG8gRlJPTSBQQ29sbF9FbnRpdHlBIG8iKTsgCiAgICAgICAg\nICAgIExpc3Q8UENvbGxfRW50aXR5QT4gb0xpc3QgPSBxLmdldFJlc3VsdExp\nc3QoKTsKICAgICAgICAgICAgUENvbGxfRW50aXR5QSBkMSA9IG9MaXN0Lmdl\ndCgwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIFNldDxQQ29sbF9FbWJl\nZEI+IGIxcyA9IGQxLmdldEVtYmVkQ29sbGVjdGlvbigpOwoKICAgICAgICAg\nICAgUENvbGxfRW1iZWRCIGIxID0gYjFzLml0ZXJhdG9yKCkubmV4dCgpOwog\nICAgICAgICAgICBQQ29sbF9FbnRpdHlDIGMxID0gYjEuZ2V0TTJvQygpOwog\nICAgICAgICAgICBhc3NlcnRFcXVhbHMoImIwMSIsIGIxLmdldE5hbWUoKSk7\nCiAgICAgICAgICAgIGFzc2VydEVxdWFscygxMDEsIGMxLmdldElkKCkpOwog\nICAgICAgICAgICBhc3NlcnRFcXVhbHMoMSwgZDEuZ2V0SWQoKSk7CiAgICAg\nICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxl\nIHQpIHsKICAgICAgICAgICAgZmFpbCh0LmdldE1lc3NhZ2UoKSk7CiAgICAg\nICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RQZXJzaXN0ZW50Q29s\nbGVjdGlvbk9mRW50aXRpZXMoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCk7CgogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7\nCgogICAgICAgICAgICBQQ29sbF9FbnRpdHlDIGMgPSBuZXcgUENvbGxfRW50\naXR5QygpOwogICAgICAgICAgICBjLnNldElkKDEwMSk7CgogICAgICAgICAg\nICBQQ29sbF9FbnRpdHlCIGIwMSA9IG5ldyBQQ29sbF9FbnRpdHlCKCk7CiAg\nICAgICAgICAgIGIwMS5zZXROYW1lKCJiMDEiKTsKICAgICAgICAgICAgYjAx\nLnNldE0yb0MoYyk7CgogICAgICAgICAgICBQQ29sbF9FbnRpdHlBMSBhID0g\nbmV3IFBDb2xsX0VudGl0eUExKCk7CiAgICAgICAgICAgIGEuc2V0SWQoMSk7\nCiAgICAgICAgICAgIGEuZ2V0RW1iZWRDb2xsZWN0aW9uKCkuYWRkKGIwMSk7\nCiAgICAgICAgICAgIGVtLnBlcnNpc3QoYSk7CiAgICAgICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgICAgIGVtLmNsb3Nl\nKCk7CgogICAgICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCk7CiAgICAgICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgiU0VM\nRUNUIG8gRlJPTSBQQ29sbF9FbnRpdHlBMSBvIik7IAogICAgICAgICAgICBM\naXN0PFBDb2xsX0VudGl0eUExPiBvTGlzdCA9IHEuZ2V0UmVzdWx0TGlzdCgp\nOwogICAgICAgICAgICBQQ29sbF9FbnRpdHlBMSBhMSA9IG9MaXN0LmdldCgw\nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIFNldDxQQ29sbF9FbnRpdHlC\nPiBiMXMgPSBhMS5nZXRFbWJlZENvbGxlY3Rpb24oKTsKCiAgICAgICAgICAg\nIFBDb2xsX0VudGl0eUIgYjEgPSBiMXMuaXRlcmF0b3IoKS5uZXh0KCk7CiAg\nICAgICAgICAgIFBDb2xsX0VudGl0eUMgYzEgPSBiMS5nZXRNMm9DKCk7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscygiYjAxIiwgYjEuZ2V0TmFtZSgpKTsK\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDEwMSwgYzEuZ2V0SWQoKSk7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscygxLCBhMS5nZXRJZCgpKTsKICAgICAg\nICAgICAgZW0uY2xvc2UoKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUg\ndCkgewogICAgICAgICAgICBmYWlsKHQuZ2V0TWVzc2FnZSgpKTsKICAgICAg\nICB9CiAgICB9ICAgIAp9Cg==\n","encoding":"base64"}

