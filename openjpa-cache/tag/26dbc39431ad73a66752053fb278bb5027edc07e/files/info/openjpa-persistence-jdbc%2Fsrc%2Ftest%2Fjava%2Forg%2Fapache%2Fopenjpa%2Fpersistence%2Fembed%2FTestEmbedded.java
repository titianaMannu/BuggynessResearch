{"sha":"bfabe6691f7157b659534e001e418163ee509bfc","node_id":"MDQ6QmxvYjIwNjM2NDpiZmFiZTY2OTFmNzE1N2I2NTk1MzRlMDAxZTQxODE2M2VlNTA5YmZj","size":3834,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bfabe6691f7157b659534e001e418163ee509bfc","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZW1iZWQ7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsN\nCg0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7DQpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247DQoN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5T\naW5nbGVFTUZUZXN0Q2FzZTsNCg0KcHVibGljIGNsYXNzIFRlc3RFbWJlZGRl\nZCBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsNCiAgICBwdWJsaWMgdm9p\nZCBzZXRVcCgpIHsNCiAgICAgICAgc3VwZXIuc2V0VXAoQmFzZUVudGl0eS5j\nbGFzcywgQWRkcmVzcy5jbGFzcywgR2VvY29kZS5jbGFzcywNCiAgICAgICAg\nICAgICAgICBDTEVBUl9UQUJMRVMpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2\nb2lkIHRlc3RJbnNlcnRFbWJlZGRlZCgpIHsNCiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsNCiAgICAgICAgQWRkcmVz\ncyBhID0gbmV3IEFkZHJlc3MoKTsNCiAgICAgICAgYS5zZXRTdHJlZXRBZGRy\nZXNzKCIxMjMgTWFpbiBTdCIpOw0KICAgICAgICBhLnNldENpdHkoIkNoaWNh\nZ28iKTsNCiAgICAgICAgYS5zZXRTdGF0ZSgiSUwiKTsNCiAgICAgICAgYS5z\nZXRaaXAoNjA2MDYpOw0KICAgICAgICBHZW9jb2RlIGcgPSBuZXcgR2VvY29k\nZSgpOw0KICAgICAgICBnLnNldExhdGl0dWRlKDEuMGYpOw0KICAgICAgICBn\nLnNldExvbmd0aXR1ZGUoMi4wZik7DQogICAgICAgIGEuc2V0R2VvY29kZShn\nKTsNCiAgICAgICAgZW0ucGVyc2lzdChhKTsNCiAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5jb21taXQoKTsNCiAgICB9DQoNCiAgICAvKg0KICAgICAq\nIFRoaXMgdmFyaWF0aW9uIHZlcmlmaWVzIHRoYXQgYW4gZW1iZWRkZWQgZW50\naXR5IGNhbiBiZSBhY2Nlc3NlZCBhZnRlcg0KICAgICAqIGJlaW5nIGRldGFj\naGVkLiBBbiBlbnRpdHkgL3cgZW1iZWRkZWQgaXMgcGVyc2lzdGVkIGFuZCB0\naGVuIHF1ZXJpZWQuIFRoZQ0KICAgICAqIGVtIGlzIGNsb3NlZCwgZGV0YWNo\naW5nIHRoZSBlbnRpdGllcywgYW5kIHRoZW4gYSBnZXR0ZXIgaXMgY2FsbGVk\nIG9uIHRoZQ0KICAgICAqIGVtYmVkZGVkZWQuIElmIHRoZSBlbWJlZGRlZCBp\ncyBzdGlsbCBhdHRhY2hlZCAoaXQgc2hvdWxkIG5vdCBiZSkgYW4NCiAgICAg\nKiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24gd2lsbCBiZSB0aHJvd24uDQogICAg\nICogDQogICAgICogSklSQSBSZWY6IE9QRU5KUEEtNzMzIEF1dGhvcnM6IENo\ncmlzIFRpbGxtYW4sIEplcmVteSBCYXVlcg0KICAgICAqLw0KICAgIHB1Ymxp\nYyB2b2lkIHRlc3REZXRhY2hlZFF1ZXJ5RW1iZWRkZWQoKSB7DQogICAgICAg\nIEFkZHJlc3MgYSA9IG5ldyBBZGRyZXNzKCk7DQogICAgICAgIGEuc2V0U3Ry\nZWV0QWRkcmVzcygiNDU2IE1haW4gU3QiKTsNCiAgICAgICAgYS5zZXRDaXR5\nKCJOZXcgWW9yayIpOw0KICAgICAgICBhLnNldFN0YXRlKCJOWSIpOw0KICAg\nICAgICBhLnNldFppcCgxMjk1NSk7DQogICAgICAgIEdlb2NvZGUgZyA9IG5l\ndyBHZW9jb2RlKCk7DQogICAgICAgIGcuc2V0TGF0aXR1ZGUoMS4wZik7DQog\nICAgICAgIGcuc2V0TG9uZ3RpdHVkZSgyLjBmKTsNCiAgICAgICAgYS5zZXRH\nZW9jb2RlKGcpOw0KDQogICAgICAgIHBlcnNpc3RBZGRyZXNzKGEpOw0KDQog\nICAgICAgIEFkZHJlc3MgYTIgPQ0KICAgICAgICAgICAgcXVlcnlBZGRyZXNz\nZXMoDQogICAgICAgICAgICAgICAgInNlbGVjdCBhZGRyZXNzIGZyb20gQWRk\ncmVzcyBhZGRyZXNzIg0KICAgICAgICAgICAgICAgICAgICArICIgd2hlcmUg\nYWRkcmVzcy5zdHJlZXRBZGRyZXNzID0gJzQ1NiBNYWluIFN0JyIpLmdldCgw\nKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMoYTIuZ2V0R2VvY29kZSgpLmdl\ndExhdGl0dWRlKCksIDEuMGYpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9p\nZCBwZXJzaXN0QWRkcmVzcyhBZGRyZXNzIGFkZHJlc3MpIHsNCiAgICAgICAg\nZmluYWwgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5h\nZ2VyKCk7DQogICAgICAgIGZpbmFsIEVudGl0eVRyYW5zYWN0aW9uIHR4ID0g\nZW0uZ2V0VHJhbnNhY3Rpb24oKTsNCg0KICAgICAgICB0eC5iZWdpbigpOw0K\nDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBlbS5wZXJzaXN0KGFkZHJl\nc3MpOw0KICAgICAgICAgICAgdHguY29tbWl0KCk7DQogICAgICAgIH0gZmlu\nYWxseSB7DQogICAgICAgICAgICBpZiAodHguaXNBY3RpdmUoKSkgew0KICAg\nICAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7DQogICAgICAgICAgICB9DQog\nICAgICAgICAgICBlbS5jbG9zZSgpOw0KICAgICAgICB9DQogICAgICAgIGFz\nc2VydEVxdWFscyhhZGRyZXNzLmdldEdlb2NvZGUoKS5nZXRMYXRpdHVkZSgp\nLCAxLjBmKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIExpc3Q8QWRkcmVzcz4g\ncXVlcnlBZGRyZXNzZXMoU3RyaW5nIHF1ZXJ5KSB7DQogICAgICAgIGZpbmFs\nIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOw0KICAgICAgICBmaW5hbCBFbnRpdHlUcmFuc2FjdGlvbiB0eCA9IGVtLmdl\ndFRyYW5zYWN0aW9uKCk7DQoNCiAgICAgICAgdHguYmVnaW4oKTsNCg0KICAg\nICAgICB0cnkgew0KICAgICAgICAgICAgZmluYWwgTGlzdDxBZGRyZXNzPiBs\naXN0ID0NCiAgICAgICAgICAgICAgICAoTGlzdDxBZGRyZXNzPikgZW0uY3Jl\nYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3QoKTsNCiAgICAgICAgICAg\nIHR4LmNvbW1pdCgpOw0KICAgICAgICAgICAgcmV0dXJuIGxpc3Q7DQogICAg\nICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBpZiAodHguaXNBY3RpdmUo\nKSkgew0KICAgICAgICAgICAgICAgIHR4LnJvbGxiYWNrKCk7DQogICAgICAg\nICAgICB9DQogICAgICAgICAgICBlbS5jbG9zZSgpOw0KICAgICAgICB9DQog\nICAgfQ0KDQp9\n","encoding":"base64"}

