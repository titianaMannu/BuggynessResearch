{"sha":"33ebe560614c1465ae6baa423fb2e4ced76dcb2e","node_id":"MDQ6QmxvYjIwNjM2NDozM2ViZTU2MDYxNGMxNDY1YWU2YmFhNDIzZmIyZTRjZWQ3NmRjYjJl","size":6166,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/33ebe560614c1465ae6baa423fb2e4ced76dcb2e","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZXhjZXB0aW9uOw0KDQppbXBvcnQgamF2YS5pby5JbnB1\ndFN0cmVhbTsNCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBv\ncnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5FbnRpdHlFeGlzdHNFeGNlcHRpb247DQppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UuRW50aXR5TWFuYWdlcjsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5FbnRpdHlOb3RGb3VuZEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5PcHRpbWlzdGljTG9ja0V4Y2VwdGlvbjsNCmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5UcmFuc2FjdGlvblJlcXVpcmVkRXhjZXB0aW9uOw0K\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlv\nbmFyeTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FM\nRXJyb3JDb2RlUmVhZGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOw0KDQovKioNCiAq\nIFRlc3RzIHByb3BlciBKUEEgZXhjZXB0aW9ucyBhcmUgcmFpc2VkIGJ5IHRo\nZSBpbXBsZW1lbnRhdGlvbi4gDQogKiBBY3R1YWwgcnVudGltZSB0eXBlIG9m\nIHRoZSByYWlzZWQgZXhjZXB0aW9uIGlzIGEgc3ViY2xhc3Mgb2YgSlBBLWRl\nZmluZWQgDQogKiBleGNlcHRpb24uDQogKiBUaGUgcmFpc2VkIGV4Y2VwdGlv\nbiBtYXkgbmVzdCB0aGUgZXhwZWN0ZWQgZXhjZXB0aW9uLiANCiAqIA0KICog\nQGF1dGhvciBQaW5ha2kgUG9kZGFyDQogKi8NCnB1YmxpYyBjbGFzcyBUZXN0\nRXhjZXB0aW9uIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2Ugew0KCXByaXZh\ndGUgc3RhdGljIGxvbmcgSURfQ09VTlRFUiA9IFN5c3RlbS5jdXJyZW50VGlt\nZU1pbGxpcygpOw0KICAgIA0KCXB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAg\nICAgICBzdXBlci5zZXRVcChQT2JqZWN0LmNsYXNzLCBDTEVBUl9UQUJMRVMp\nOw0KICAgIH0NCiAgICANCgkvKioNCgkgKiBUZXN0cyB0aGF0IHdoZW4gT3B0\naW1pc3RpYyB0cmFuc2FjdGlvbiBjb25zaXN0ZW5jeSBpcyB2aW9sYXRlZCwg\ndGhlDQoJICogZXhjZXB0aW9uIHRocm93biBpcyBhbiBpbnN0YW5jZSBvZiBq\nYXZheC5wZXJzaXN0ZW5jZS5PcHRpbWlzdGljRXhjZXB0aW9uLg0KCSAqLw0K\nCXB1YmxpYyB2b2lkIHRlc3RUaHJvd3NPcHRpbWlzdGljRXhjZXB0aW9uKCkg\new0KCQlFbnRpdHlNYW5hZ2VyIGVtMSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5h\nZ2VyKCk7DQoJCUVudGl0eU1hbmFnZXIgZW0yID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsNCgkJYXNzZXJ0Tm90RXF1YWxzKGVtMSwgZW0yKTsNCgkJ\nDQoJCWVtMS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7DQoJCVBPYmplY3Qg\ncGMgPSBuZXcgUE9iamVjdCgpOw0KCQlsb25nIGlkID0gKytJRF9DT1VOVEVS\nOw0KCQlwYy5zZXRJZChpZCk7DQoJCWVtMS5wZXJzaXN0KHBjKTsNCgkJZW0x\nLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7DQoJCWVtMS5jbGVhcigpOw0K\nCQkNCgkJZW0xLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsNCgkJZW0yLmdl\ndFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsNCgkJDQoJCVBPYmplY3QgcGMxID0g\nZW0xLmZpbmQoUE9iamVjdC5jbGFzcywgaWQpOw0KCQlQT2JqZWN0IHBjMiA9\nIGVtMi5maW5kKFBPYmplY3QuY2xhc3MsIGlkKTsNCgkJDQoJCWFzc2VydFRy\ndWUocGMxICE9IHBjMik7DQoJCQ0KCQlwYzEuc2V0TmFtZSgiTW9kaWZpZWQg\naW4gVFhOMSIpOw0KCQllbTEuZmx1c2goKTsNCgkJdHJ5IHsNCgkJCXBjMi5z\nZXROYW1lKCJNb2RpZmllZCBpbiBUWE4yIik7DQoJCQllbTIuZmx1c2goKTsN\nCgkJCWZhaWwoIkV4cGVjdGVkICIgKyBPcHRpbWlzdGljTG9ja0V4Y2VwdGlv\nbi5jbGFzcyk7DQoJCX0gY2F0Y2ggKFRocm93YWJsZSB0KSB7DQoJCQlhc3Nl\ncnRFeGNlcHRpb24odCwgT3B0aW1pc3RpY0xvY2tFeGNlcHRpb24uY2xhc3Mp\nOw0KCQl9DQoJCQ0KCQllbTEuZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsN\nCgkJdHJ5IHsNCgkJCWVtMi5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0K\nCQkJZmFpbCgiRXhwZWN0ZWQgIiArIE9wdGltaXN0aWNMb2NrRXhjZXB0aW9u\nLmNsYXNzKTsNCgkJfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsNCgkJCWFzc2Vy\ndEV4Y2VwdGlvbih0LCBPcHRpbWlzdGljTG9ja0V4Y2VwdGlvbi5jbGFzcyk7\nDQoJCX0NCgl9DQoJDQoJcHVibGljIHZvaWQgdGVzdFRocm93c0VudGl0eUV4\naXN0c0V4Y2VwdGlvbigpIHsNCgkJRW50aXR5TWFuYWdlciBlbSA9IGVtZi5j\ncmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQoJCQ0KCQllbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7DQoJCVBPYmplY3QgcGMgPSBuZXcgUE9iamVjdCgpOw0K\nCQlsb25nIGlkID0gKytJRF9DT1VOVEVSOw0KCQlwYy5zZXRJZChpZCk7DQoJ\nCWVtLnBlcnNpc3QocGMpOw0KCQllbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOw0KCQllbS5jbGVhcigpOw0KCQkNCgkJZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOw0KCQlQT2JqZWN0IHBjMiA9IG5ldyBQT2JqZWN0KCk7DQoJ\nCXBjMi5zZXRJZChpZCk7DQoJCWVtLnBlcnNpc3QocGMyKTsNCgkJdHJ5IHsN\nCgkJCWVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7DQoJCQlmYWlsKCJF\neHBlY3RlZCAiICsgRW50aXR5RXhpc3RzRXhjZXB0aW9uLmNsYXNzKTsNCgkJ\nfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsNCgkJCWFzc2VydEV4Y2VwdGlvbih0\nLCBFbnRpdHlFeGlzdHNFeGNlcHRpb24uY2xhc3MpOw0KCQl9DQoJfQ0KCQ0K\nCXB1YmxpYyB2b2lkIHRlc3RUaHJvd3NFbnRpdHlOb3RGb3VuZEV4Y2VwdGlv\nbigpIHsNCgkJRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlN\nYW5hZ2VyKCk7DQoJCQ0KCQllbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7\nDQoJCVBPYmplY3QgcGMgPSBuZXcgUE9iamVjdCgpOw0KCQlsb25nIGlkID0g\nKytJRF9DT1VOVEVSOw0KCQlwYy5zZXRJZChpZCk7DQoJCWVtLnBlcnNpc3Qo\ncGMpOw0KCQllbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0KCQkNCgkJ\nRW50aXR5TWFuYWdlciBlbTIgPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOw0KCQllbTIuZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOw0KCQlQT2JqZWN0\nIHBjMiA9IGVtMi5maW5kKFBPYmplY3QuY2xhc3MsIGlkKTsNCgkJYXNzZXJ0\nTm90TnVsbChwYzIpOw0KCQllbTIucmVtb3ZlKHBjMik7DQoJCWVtMi5nZXRU\ncmFuc2FjdGlvbigpLmNvbW1pdCgpOw0KCQkNCgkJdHJ5IHsNCgkJCWVtLnJl\nZnJlc2gocGMpOw0KCQkJZmFpbCgiRXhwZWN0ZWQgIiArIEVudGl0eU5vdEZv\ndW5kRXhjZXB0aW9uLmNsYXNzKTsNCgkJfSBjYXRjaCAoVGhyb3dhYmxlIHQp\nIHsNCgkJCWFzc2VydEV4Y2VwdGlvbih0LCBFbnRpdHlOb3RGb3VuZEV4Y2Vw\ndGlvbi5jbGFzcyk7DQoJCX0NCgl9DQoJDQoJcHVibGljIHZvaWQgdGVzdEVy\ncm9yQ29kZUNvbmZpZ3VyYXRpb25IYXNBbGxLbm93bkRpY3Rpb25hcmllcygp\nIHsNCgkJU1FMRXJyb3JDb2RlUmVhZGVyIHJlYWRlciA9IG5ldyBTUUxFcnJv\nckNvZGVSZWFkZXIoKTsNCgkJSW5wdXRTdHJlYW0gaW4gPSBEQkRpY3Rpb25h\ncnkuY2xhc3MuZ2V0UmVzb3VyY2VBc1N0cmVhbQ0KCQkJKCJzcWwtZXJyb3It\nc3RhdGUtY29kZXMueG1sIik7DQoJCWFzc2VydE5vdE51bGwoaW4pOw0KCQlM\naXN0PFN0cmluZz4gbmFtZXMgPSByZWFkZXIuZ2V0RGljdGlvbmFyaWVzKGlu\nKTsNCgkJYXNzZXJ0VHJ1ZShuYW1lcy5zaXplKCk+PTE4KTsNCgkJZm9yIChT\ndHJpbmcgbmFtZTpuYW1lcykgew0KCQkJdHJ5IHsNCgkJCQlDbGFzcy5mb3JO\nYW1lKG5hbWUsIGZhbHNlLCBUaHJlYWQuY3VycmVudFRocmVhZCgpDQoJCQkJ\nCQkJLmdldENvbnRleHRDbGFzc0xvYWRlcigpKTsNCgkJCX0gY2F0Y2ggKFRo\ncm93YWJsZSB0KSB7DQoJCQkJZmFpbCgiREIgZGljdGlvbmFyeSAiICsgbmFt\nZSArICIgY2FuIG5vdCBiZSBsb2FkZWQiKTsNCgkJCQl0LnByaW50U3RhY2tU\ncmFjZSgpOw0KCQkJfQ0KCQl9DQoJfQ0KCQ0KCS8qKg0KCSAqIEFzc2VydHMg\ndGhhdCB0aGUgZ2l2ZW4gZXhwZWN0ZWQgdHlwZSBvZiB0aGUgZXhjZXB0aW9u\nIGlzIGVxdWFsIHRvIG9yIGENCgkgKiBzdWJjbGFzcyBvZiB0aGUgZ2l2ZW4g\ndGhyb3dhYmxlIG9yIGFueSBvZiBpdHMgbmVzdGVkIGV4Y2VwdGlvbi4NCgkg\nKiBPdGhlcndpc2UgZmFpbHMgYXNzZXJ0aW9uIGFuZCBwcmludHMgdGhlIGdp\ndmVuIHRocm93YWJsZSBhbmQgaXRzIG5lc3RlZA0KCSAqIGV4Y2VwdGlvbiBv\nbiB0aGUgY29uc29sZS4gDQoJICovDQoJdm9pZCBhc3NlcnRFeGNlcHRpb24o\nVGhyb3dhYmxlIHQsIENsYXNzIGV4cGVjdGVkVHlwZSkgew0KCQlpZiAoIWlz\nRXhwZWN0ZWRFeGNlcHRpb24odCwgZXhwZWN0ZWRUeXBlKSkgew0KCQkJdC5w\ncmludFN0YWNrVHJhY2UoKTsNCgkJCXByaW50KHQsIDApOw0KCQkJZmFpbCh0\nICsgIiBvciBpdHMgY2F1c2UgaXMgbm90IGluc3RhbmNlb2YgIiArIGV4cGVj\ndGVkVHlwZSk7DQoJCX0NCgl9DQoJDQoJLyoqDQoJICogQWZmaXJtcyBpZiB0\naGUgZ2l2ZW4gZXhwZWN0ZWQgdHlwZSBvZiB0aGUgZXhjZXB0aW9uIGlzIGVx\ndWFsIHRvIG9yIGENCgkgKiBzdWJjbGFzcyBvZiB0aGUgZ2l2ZW4gdGhyb3dh\nYmxlIG9yIGFueSBvZiBpdHMgbmVzdGVkIGV4Y2VwdGlvbi4NCgkgKi8NCgli\nb29sZWFuIGlzRXhwZWN0ZWRFeGNlcHRpb24oVGhyb3dhYmxlIHQsIENsYXNz\nIGV4cGVjdGVkVHlwZSkgew0KCQlpZiAodCA9PSBudWxsKSANCgkJCXJldHVy\nbiBmYWxzZTsNCgkJaWYgKGV4cGVjdGVkVHlwZS5pc0Fzc2lnbmFibGVGcm9t\nKHQuZ2V0Q2xhc3MoKSkpDQoJCQkJcmV0dXJuIHRydWU7DQoJCXJldHVybiBp\nc0V4cGVjdGVkRXhjZXB0aW9uKHQuZ2V0Q2F1c2UoKSwgZXhwZWN0ZWRUeXBl\nKTsNCgl9DQoJDQoJdm9pZCBwcmludChUaHJvd2FibGUgdCwgaW50IHRhYikg\new0KCQlpZiAodCA9PSBudWxsKSByZXR1cm47DQoJCWZvciAoaW50IGk9MDsg\naTx0YWIqNDtpKyspIFN5c3RlbS5vdXQucHJpbnQoIiAiKTsNCgkJU3RyaW5n\nIHNxbFN0YXRlID0gKHQgaW5zdGFuY2VvZiBTUUxFeGNlcHRpb24pID8gDQoJ\nCQkiKFNRTFN0YXRlPSIgKyAoKFNRTEV4Y2VwdGlvbil0KS5nZXRTUUxTdGF0\nZSgpICsgIjoiIA0KCQkJCSsgdC5nZXRNZXNzYWdlKCkgKyAiKSIgOiAiIjsN\nCgkJU3lzdGVtLm91dC5wcmludGxuKHQuZ2V0Q2xhc3MoKS5nZXROYW1lKCkg\nKyBzcWxTdGF0ZSk7DQoJCWlmICh0LmdldENhdXNlKCkgPT0gdCkgDQoJCQly\nZXR1cm47DQoJCXByaW50KHQuZ2V0Q2F1c2UoKSwgdGFiKzEpOw0KCX0NCn0N\nCg==\n","encoding":"base64"}

