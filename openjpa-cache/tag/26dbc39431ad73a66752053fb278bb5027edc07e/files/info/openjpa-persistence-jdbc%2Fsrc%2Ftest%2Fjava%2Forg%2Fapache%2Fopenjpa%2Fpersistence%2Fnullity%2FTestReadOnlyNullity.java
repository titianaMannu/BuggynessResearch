{"sha":"2623fa148766b336a2203b09ba61a946fd6b57ed","node_id":"MDQ6QmxvYjIwNjM2NDoyNjIzZmExNDg3NjZiMzM2YTIyMDNiMDliYTYxYTk0NmZkNmI1N2Vk","size":2767,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2623fa148766b336a2203b09ba61a946fd6b57ed","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubnVsbGl0\neTsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZp\nZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwu\nQWJzdHJhY3REQjJEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQ\nSTsKCi8qKgogKiBUZXN0Y2FzZSB0aGF0IHZlcmlmaWVzIHRoYXQgbnVsbCBj\naGVja2luZyBpcyBvbWl0dGVkIGZvciAicmVhZCBvbmx5IiBmaWVsZHMuCiAq\nIEFuIGV4YW1wbGUgdXNlIGNhc2UgaXMgYSBEYXRlIGZpZWxkIHRoYXQgaXMg\nc2V0IGJ5IHRoZSBkYXRhYmFzZSAoYWx0aG91Z2ggaW4KICogdGhhdCBjYXNl\nIHRoZSBmaWVsZCB3b3VsZCBiZSB1cGRhdGVhYmxlPWZhbHNlIGFuZCBpbnNl\ncnRhYmxlPWZhbHNlKS4gIAogKi8KcHVibGljIGNsYXNzIFRlc3RSZWFkT25s\neU51bGxpdHkgZXh0ZW5kcyBBYnN0cmFjdE51bGxpdHlUZXN0Q2FzZSB7Cgog\nICAgcHJpdmF0ZSBib29sZWFuIHNraXAgPSBmYWxzZTsKCiAgICBwdWJsaWMg\ndm9pZCBzZXRVcCgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZh\nY3RvcnlTUEkgZW1mID0gY3JlYXRlRU1GKG5ldyBPYmplY3RbXSB7fSk7CiAg\nICAgICAgaWYgKCgoSkRCQ0NvbmZpZ3VyYXRpb24pIGVtZi5nZXRDb25maWd1\ncmF0aW9uKCkpCiAgICAgICAgICAgIC5nZXREQkRpY3Rpb25hcnlJbnN0YW5j\nZSgpIGluc3RhbmNlb2YgQWJzdHJhY3REQjJEaWN0aW9uYXJ5KSB7CgogICAg\nICAgICAgICBzZXRVcChDTEVBUl9UQUJMRVMsIFRpbWVzdGFtcGVkRW50aXR5\nLmNsYXNzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBza2lwID0g\ndHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0IHRo\nYXQgYSBub24taW5zZXJ0YWJsZSBmaWVsZCBtYXkgYmUgc2V0IHRvIG51bGwu\nIFRoaXMgdGVzdCBpcyBza2lwcGVkCiAgICAgKiBmb3Igbm9uLWRiMiBkYXRh\nYmFzZXMuIAogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9uSW5zZXJ0\nYWJsZUJsb2JEb2VzTm90RmFpbCgpIHsKICAgICAgICBpZiAoIXNraXApIHsK\nICAgICAgICAgICAgVGltZXN0YW1wZWRFbnRpdHkgcGMgPSBuZXcgVGltZXN0\nYW1wZWRFbnRpdHkoKTsKICAgICAgICAgICAgcGMuc2V0Tm9uSW5zZXJ0YWJs\nZU5vbk51bGxhYmxlRGF0ZShudWxsKTsKICAgICAgICAgICAgYXNzZXJ0Q29t\nbWl0U3VjY2VlZHMocGMsIE5FVyk7CiAgICAgICAgfQogICAgICAgIC8vIGVs\nc2Ugbm8tb3AKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3QgdGhhdCBhIG5v\nbi11cGRhdGFibGUgZmllbGQgbWF5IGJlIHNldCB0byBudWxsLiBUaGlzIHRl\nc3QgaXMgc2tpcHBlZAogICAgICogZm9yIG5vbi1kYjIgZGF0YWJhc2VzLiAK\nICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdE5vblVwZGF0YWJsZUJsb2JE\nb2VzTm90RmFpbCgpIHsKICAgICAgICBpZiAoIXNraXApIHsKICAgICAgICAg\nICAgVGltZXN0YW1wZWRFbnRpdHkgcGMgPSBuZXcgVGltZXN0YW1wZWRFbnRp\ndHkoKTsKICAgICAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVh\ndGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuYmVnaW4oKTsKICAgICAgICAgICAgZW0ucGVyc2lzdChwYyk7CiAg\nICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAg\nICAgICAgIGVtLmNsZWFyKCk7CgogICAgICAgICAgICBwYy5zZXROb25VcGRh\ndGFibGVOb25OdWxsYWJsZURhdGUobnVsbCk7CiAgICAgICAgICAgIGFzc2Vy\ndENvbW1pdFN1Y2NlZWRzKHBjLCAhTkVXKTsKICAgICAgICB9CiAgICAgICAg\nLy8gZWxzZSBuby1vcAogICAgfQp9Cg==\n","encoding":"base64"}

