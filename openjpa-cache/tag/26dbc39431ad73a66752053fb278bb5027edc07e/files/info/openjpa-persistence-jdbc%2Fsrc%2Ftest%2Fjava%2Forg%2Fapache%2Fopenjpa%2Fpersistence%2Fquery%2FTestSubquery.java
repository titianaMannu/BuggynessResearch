{"sha":"528efaaadccf1a4c2a41c465226a422ac5bb4b0a","node_id":"MDQ6QmxvYjIwNjM2NDo1MjhlZmFhYWRjY2YxYTRjMmE0MWM0NjUyMjZhNDIyYWM1YmI0YjBh","size":5863,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/528efaaadccf1a4c2a41c465226a422ac5bb4b0a","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YS51dGlsLkRhdGU7CmltcG9ydCBqYXZhLnV0aWwuTGlz\ndDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU2luZ2xlRU1GVGVzdENh\nc2U7CgovKioKICogVGVzdCBKUFFMIHN1YnF1ZXJ5CiAqLwpwdWJsaWMgY2xh\nc3MgVGVzdFN1YnF1ZXJ5CiAgICBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNl\nIHsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBzZXRVcChD\ndXN0b21lci5jbGFzcywgQ3VzdG9tZXIuQ3VzdG9tZXJLZXkuY2xhc3MsIE9y\nZGVyLmNsYXNzLAogICAgICAgICAgICBPcmRlckl0ZW0uY2xhc3MsIE1hZ2F6\naW5lLmNsYXNzLCBQdWJsaXNoZXIuY2xhc3MsIEVtcGxveWVlLmNsYXNzLAog\nICAgICAgICAgICBEZXBlbmRlbnQuY2xhc3MsIERlcGVuZGVudElkLmNsYXNz\nLCBDTEVBUl9UQUJMRVMpOwogICAgfQoKICAgIHN0YXRpYyBTdHJpbmdbXSAg\ncXVlcnlzID0gbmV3IFN0cmluZ1tdIHsKICAgICAgICAic2VsZWN0IG8xLm9p\nZCBmcm9tIE9yZGVyIG8xIHdoZXJlIG8xLm9pZCBpbiAiICsKICAgICAgICAg\nICAgIiAoc2VsZWN0IGRpc3RpbmN0IG8ub2lkIGZyb20gT3JkZXJJdGVtIGks\nIE9yZGVyIG8iICsKICAgICAgICAgICAgIiB3aGVyZSBpLnF1YW50aXR5ID4g\nMTAgYW5kIG8uYW1vdW50ID4gMTAwMCBhbmQgaS5saWQgPSBvLm9pZCkiICwK\nICAgICAgICAic2VsZWN0IG8ub2lkIGZyb20gT3JkZXIgbyB3aGVyZSBvLmN1\nc3RvbWVyLm5hbWUgPSIgKwogICAgICAgICAgICAiIChzZWxlY3QgbWF4KG8y\nLmN1c3RvbWVyLm5hbWUpIGZyb20gT3JkZXIgbzIiICsKICAgICAgICAgICAg\nIiB3aGVyZSBvLmN1c3RvbWVyLmNpZC5pZCA9IG8yLmN1c3RvbWVyLmNpZC5p\nZCkiLAogICAgICAgICJzZWxlY3QgbyBmcm9tIE9yZGVyIG8gd2hlcmUgby5j\ndXN0b21lci5uYW1lID0iICsKICAgICAgICAgICAgIiAoc2VsZWN0IG1heChv\nMi5jdXN0b21lci5uYW1lKSBmcm9tIE9yZGVyIG8yIiArCiAgICAgICAgICAg\nICIgd2hlcmUgby5jdXN0b21lci5jaWQuaWQgPSBvMi5jdXN0b21lci5jaWQu\naWQpIiwKICAgICAgICAic2VsZWN0IG8ub2lkIGZyb20gT3JkZXIgbyB3aGVy\nZSBvLmFtb3VudCA+IiArCiAgICAgICAgICAgICIgKHNlbGVjdCBjb3VudChp\nKSBmcm9tIG8ubGluZWl0ZW1zIGkpIiwKICAgICAgICAic2VsZWN0IG8ub2lk\nIGZyb20gT3JkZXIgbyB3aGVyZSBvLmFtb3VudCA+IiArCiAgICAgICAgICAg\nICIgKHNlbGVjdCBjb3VudChvLmFtb3VudCkgZnJvbSBPcmRlciBvKSIsCiAg\nICAgICAgInNlbGVjdCBvLm9pZCBmcm9tIE9yZGVyIG8gd2hlcmUgby5hbW91\nbnQgPiIgKwogICAgICAgICAgICAiIChzZWxlY3QgY291bnQoby5vaWQpIGZy\nb20gT3JkZXIgbykiLAogICAgICAgICJzZWxlY3Qgby5vaWQgZnJvbSBPcmRl\nciBvIHdoZXJlIG8uYW1vdW50ID4iICsKICAgICAgICAgICAgIiAoc2VsZWN0\nIGF2ZyhvLmFtb3VudCkgZnJvbSBPcmRlciBvKSIsCiAgICAgICAgInNlbGVj\ndCBjLm5hbWUgZnJvbSBDdXN0b21lciBjIHdoZXJlIGV4aXN0cyIgKwogICAg\nICAgICAgICAiIChzZWxlY3QgbyBmcm9tIGMub3JkZXJzIG8gd2hlcmUgby5v\naWQgPSAxKSBvciBleGlzdHMiICsKICAgICAgICAgICAgIiAoc2VsZWN0IG8g\nZnJvbSBjLm9yZGVycyBvIHdoZXJlIG8ub2lkID0gMikiLAogICAgICAgICJz\nZWxlY3QgYy5uYW1lIGZyb20gQ3VzdG9tZXIgYywgaW4oYy5vcmRlcnMpIG8g\nd2hlcmUgby5hbW91bnQgYmV0d2VlbiIgKwogICAgICAgICAgICAiIChzZWxl\nY3QgbWF4KG8uYW1vdW50KSBmcm9tIE9yZGVyIG8pIGFuZCIgKwogICAgICAg\nICAgICAiIChzZWxlY3QgYXZnKG8uYW1vdW50KSBmcm9tIE9yZGVyIG8pICIs\nCiAgICAgICAgInNlbGVjdCBvLm9pZCBmcm9tIE9yZGVyIG8gd2hlcmUgby5h\nbW91bnQgPiIgKwogICAgICAgICAgICAiIChzZWxlY3Qgc3VtKG8yLmFtb3Vu\ndCkgZnJvbSBDdXN0b21lciBjLCBpbihjLm9yZGVycykgbzIpICIsICAgCiAg\nICAgICAgInNlbGVjdCBvLm9pZCBmcm9tIE9yZGVyIG8gd2hlcmUgby5hbW91\nbnQgYmV0d2VlbiIgKwogICAgICAgICAgICAiIChzZWxlY3QgYXZnKG8yLmFt\nb3VudCkgZnJvbSBDdXN0b21lciBjLCBpbihjLm9yZGVycykgbzIpIiArCiAg\nICAgICAgICAgICIgYW5kIChzZWxlY3QgbWluKG8yLmFtb3VudCkgZnJvbSBD\ndXN0b21lciBjLCBpbihjLm9yZGVycykgbzIpIiwKICAgICAgICAic2VsZWN0\nIG8ub2lkIGZyb20gQ3VzdG9tZXIgYywgaW4oYy5vcmRlcnMpbyB3aGVyZSBv\nLmFtb3VudCA+IiArCiAgICAgICAgICAgICIgKHNlbGVjdCBzdW0obzIuYW1v\ndW50KSBmcm9tIGMub3JkZXJzIG8yKSIsCiAgICAgICAgInNlbGVjdCBvMS5v\naWQsIGMubmFtZSBmcm9tIE9yZGVyIG8xLCBDdXN0b21lciBjIHdoZXJlIG8x\nLmFtb3VudCA9ICIgKwogICAgICAgICAgICAiIGFueShzZWxlY3QgbzIuYW1v\ndW50IGZyb20gaW4oYy5vcmRlcnMpIG8yKSIsCiAgICAgICAgIlNFTEVDVCBw\nLCBtICIrCiAgICAgICAgICAgICJGUk9NIFB1Ymxpc2hlciBwICIrCiAgICAg\nICAgICAgICJMRUZUIE9VVEVSIEpPSU4gcC5tYWdhemluZUNvbGxlY3Rpb24g\nbSAiKwogICAgICAgICAgICAiV0hFUkUgbS5pZCA9IChTRUxFQ1QgTUFYKG0y\nLmlkKSAiKwogICAgICAgICAgICAiRlJPTSBNYWdhemluZSBtMiAiKwogICAg\nICAgICAgICAiV0hFUkUgbTIuaWRQdWJsaXNoZXIuaWQgPSBwLmlkICIrCiAg\nICAgICAgICAgICJBTkQgbTIuZGF0ZVB1Ymxpc2hlZCA9ICIrCiAgICAgICAg\nICAgICIoU0VMRUNUIE1BWChtMy5kYXRlUHVibGlzaGVkKSAiKwogICAgICAg\nICAgICAiRlJPTSBNYWdhemluZSBtMyAiKwogICAgICAgICAgICAiV0hFUkUg\nbTMuaWRQdWJsaXNoZXIuaWQgPSBwLmlkKSkgIiwgCiAgICAvLyBvdXRzdGFu\nZGluZyBwcm9ibGVtIHN1YnF1ZXJpZXM6CiAgICAvLyJzZWxlY3QgbyBmcm9t\nIE9yZGVyIG8gd2hlcmUgby5hbW91bnQgPiAoc2VsZWN0IGNvdW50KG8pIGZy\nb20gT3JkZXIgbykiLAogICAgLy8ic2VsZWN0IG8gZnJvbSBPcmRlciBvIHdo\nZXJlIG8uYW1vdW50ID4gKHNlbGVjdCBjb3VudChvMikgZnJvbSBPcmRlciBv\nMikiLAogICAgLy8gInNlbGVjdCBjIGZyb20gQ3VzdG9tZXIgYyBsZWZ0IGpv\naW4gYy5vcmRlcnMgcCB3aGVyZSBub3QgZXhpc3RzIgogICAgLy8gICArICIg\nKHNlbGVjdCBvMiBmcm9tIGMub3JkZXJzIG8yIHdoZXJlIG8yID0gbyIsCiAg\nICB9OwoKCiAgICBzdGF0aWMgU3RyaW5nW10gdXBkYXRlcyA9IG5ldyBTdHJp\nbmdbXSB7CiAgICAgICAgInVwZGF0ZSBPcmRlciBvIHNldCBvLmFtb3VudCA9\nIDEwMDAgd2hlcmUgby5jdXN0b21lci5uYW1lID0gIiArCiAgICAgICAgICAg\nICIgKHNlbGVjdCBtYXgobzIuY3VzdG9tZXIubmFtZSkgZnJvbSBPcmRlciBv\nMiAiICsgCiAgICAgICAgICAgICIgd2hlcmUgby5jdXN0b21lci5jaWQuaWQg\nPSBvMi5jdXN0b21lci5jaWQuaWQpIiwgIAogICAgfTsKCgogICAgcHVibGlj\nIHZvaWQgdGVzdFN1YnF1ZXJ5KCkgewogICAgICAgIEVudGl0eU1hbmFnZXIg\nZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgcXVlcnlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAg\nICAgIFN0cmluZyBxID0gcXVlcnlzW2ldOwogICAgICAgICAgICBMaXN0IHJz\nID0gZW0uY3JlYXRlUXVlcnkocSkuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAg\nICAgICBhc3NlcnRFcXVhbHMoMCwgcnMuc2l6ZSgpKTsKICAgICAgICB9Cgog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IHVwZGF0ZXMubGVuZ3RoOyBpKyspIHsKICAg\nICAgICAgICAgaW50IHVwZGF0ZUNvdW50ID0gZW0uY3JlYXRlUXVlcnkodXBk\nYXRlc1tpXSkuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoMCwgdXBkYXRlQ291bnQpOwogICAgICAgIH0KCiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5yb2xsYmFjaygpOwogICAgICAgIGVtLmNsb3Nl\nKCk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogVmVyaWZ5IGEgc3ViIHF1\nZXJ5IGNhbiBjb250YWluIE1BWCBhbmQgYWRkaXRpb25hbCBkYXRlIGNvbXBh\ncmlzb25zIAogICAgICogd2l0aG91dCBsb3NpbmcgdGhlIGNvcnJlY3QgYWxp\nYXMgaW5mb3JtYXRpb24uIFRoaXMgc29ydCBvZiBxdWVyeSAKICAgICAqIG9y\naWdpbmFsbHkgY2F1c2VkIHByb2JsZW1zIGZvciBEQkRpY3Rpb25hcmllcyB3\naGljaCB1c2VkIERBVEFCQVNFIHN5bnRheC4gCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHRlc3RTdWJTZWxlY3RNYXhEYXRlUmFuZ2UoKSB7ICAgICAgICAK\nICAgICAgICBTdHJpbmcgcXVlcnkgPQogICAgICAgICAgICAiU0VMRUNUIGUs\nZCBmcm9tIEVtcGxveWVlIGUsIERlcGVuZGVudCBkICIKICAgICAgICAgICAg\nICAgICsgIldIRVJFIGUuZW1wSWQgPSA6ZW1waWQgIgogICAgICAgICAgICAg\nICAgKyAiQU5EIGQuaWQuZW1waWQgPSAoU0VMRUNUIE1BWCAoZTIuZW1wSWQp\nIEZST00gRW1wbG95ZWUgZTIpICIKICAgICAgICAgICAgICAgICsgIkFORCBk\nLmlkLmVmZkRhdGUgPiA6bWluRGF0ZSAiCiAgICAgICAgICAgICAgICArICJB\nTkQgZC5pZC5lZmZEYXRlIDwgOm1heERhdGUgIjsKICAgICAgICBFbnRpdHlN\nYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpOwogICAgICAgIHEu\nc2V0UGFyYW1ldGVyKCJlbXBpZCIsIChsb25nKSAxMDEpOwogICAgICAgIHEu\nc2V0UGFyYW1ldGVyKCJtaW5EYXRlIiwgbmV3IERhdGUoMTAwKSk7CiAgICAg\nICAgcS5zZXRQYXJhbWV0ZXIoIm1heERhdGUiLCBuZXcgRGF0ZSgxMDAwMDAp\nKTsKICAgICAgICBxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBlbS5jbG9z\nZSgpOwogICAgfQp9Cg==\n","encoding":"base64"}

