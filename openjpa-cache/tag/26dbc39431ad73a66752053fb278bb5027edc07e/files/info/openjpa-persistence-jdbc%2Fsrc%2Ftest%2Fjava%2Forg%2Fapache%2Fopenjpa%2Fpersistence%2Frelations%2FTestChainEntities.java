{"sha":"2b32fff481a900d5735762757502f25971dae713","node_id":"MDQ6QmxvYjIwNjM2NDoyYjMyZmZmNDgxYTkwMGQ1NzM1NzYyNzU3NTAyZjI1OTcxZGFlNzEz","size":3370,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2b32fff481a900d5735762757502f25971dae713","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucmVsYXRp\nb25zOwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3Qu\nU2luZ2xlRU1GVGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVzdENoYWluRW50\naXRpZXMgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7CgoJLyoKCSAqIFNl\ndCB0aGlzIG1hZ2ljYWwgbnVtYmVyIHRvIDMgb3IgbGVzcyB0byBhdm9pZCB0\naGUgZXJyb3IuCgkgKi8KCXByaXZhdGUgc3RhdGljIGZpbmFsIGludCBNQUdJ\nQ0FMX05VTUJFUiA9IDUwOwoJCglsb25nIGFpZDsKCglwdWJsaWMgdm9pZCBz\nZXRVcCAoKSB7CgkJc2V0VXAgKERST1BfVEFCTEVTLAoJCSAgICBDaGFpbkVu\ndGl0eUEuY2xhc3MsIENoYWluRW50aXR5Qi5jbGFzcywgQ2hhaW5FbnRpdHlD\nLmNsYXNzKTsKCQkvLyBDcmVhdGUgQQoJCUNoYWluRW50aXR5QSBhID0gbmV3\nIENoYWluRW50aXR5QSAoKTsKCQlhLnNldE5hbWUgKCJURVNUX0EiKTsKCQkv\nLyBQZXJzaXN0IEEKCQlFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVu\ndGl0eU1hbmFnZXIgKCk7CgkJZW0uZ2V0VHJhbnNhY3Rpb24gKCkuYmVnaW4g\nKCk7CgkJZW0ucGVyc2lzdCAoYSk7CgkJYWlkID0gYS5nZXRJZCAoKTsKCQll\nbS5nZXRUcmFuc2FjdGlvbiAoKS5jb21taXQgKCk7CgkJZW0uY2xvc2UgKCk7\nCgkJU3lzdGVtLm91dC5wcmludGxuICgiQ2hhaW5FbnRpdHlBIGlkID0gIiAr\nIGFpZCk7Cgl9CgoJcHVibGljIHZvaWQgdGVzdENoYWluRW50aXRpZXMgKCkg\newoJCWNoYWluVXBkYXRlICgpOwoJfQoJCglwcm90ZWN0ZWQgdm9pZCBjaGFp\nblVwZGF0ZSAoKSB7CgkJLy8gR2V0IEEKCQlDaGFpbkVudGl0eUEgYSA9IGdl\ndEEgKCk7CgkJLy8gQ3JlYXRlIEIKCQlDaGFpbkVudGl0eUIgYiA9IG5ldyBD\naGFpbkVudGl0eUIgKCk7CgkJYi5zZXROYW1lICgiVGVzdF9CXyIpOwoJCUNo\nYWluRW50aXR5QyBjOwoJCS8qCgkJICogQ3JlYXRlIGFuZCBhZGQgQyB0byBC\nLiBJbmNyZWFzaW5nIHRoZSBudW1iZXIgb2YgaXRlcmF0aW9ucyAobnVtYmVy\nIG9mCgkJICogQ2hhaW5FbnRpdHlDKSBpbmNyZWFzZXMgdGhlIHByb2JhYmls\naXR5IHRvIGdldCB0aGUgdW5pcXVlIGtleQoJCSAqIGNvbnN0cmFpbnQgdmlv\nbGF0aW9uIGVycm9yLgoJCSAqLwoJCWZvciAoaW50IGkgPSAxOyBpIDw9IE1B\nR0lDQUxfTlVNQkVSOyBpKyspIHsKCQkJYyA9IG5ldyBDaGFpbkVudGl0eUMg\nKCk7CgkJCWMuc2V0TmFtZSAoIlRlc3RfQ18iICsgaSk7CgkJCWIuYWRkQ2hh\naW5FbnRpdHlDIChjKTsKCQl9CgkJYS5hZGRDaGlsZEVudGl0eUIgKGIpOwoJ\nCS8vIGR1bXAgKGEpOyAgLy8gZGVidWcKCQkvLyBNZXJnZSBBCgkJRW50aXR5\nTWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyICgpOwoJCWVt\nLmdldFRyYW5zYWN0aW9uICgpLmJlZ2luICgpOwoJCWEgPSBlbS5tZXJnZSAo\nYSk7CgkJLyoKCQkgKiB3b3JrYXJvdW5kOiBVbmNvbW1lbnRpbmcgZm9sbG93\naW5nIGxpbmUgaXMgYSB3b3JrYXJvdW5kLiBJZiB3ZQoJCSAqIHJldHJpdmUg\nSWRzIG9mIENoYWluRW50aXR5QyBvYmplY3RzIGFmdGVyIG1lcmdlIGJ1dCBi\nZWZvcmUgY29tbWl0IHdlCgkJICogZG9uJ3QgZ2V0IHRoZSBlcnJvci4KCQkg\nKi8KCQkvL2R1bXAgKGEpOwoJCWVtLmdldFRyYW5zYWN0aW9uICgpLmNvbW1p\ndCAoKTsKCQllbS5jbG9zZSAoKTsKCQkvLyBkdW1wIChnZXRBICgpKTsgIC8v\nIGRlYnVnCgl9CgoJLyoqCgkgKiBHZXQgY3JlYXRlZCBDaGFpbkVudGl0eUEg\ndXNpbmcgYWlkIGZpZWxkLgoJICogCgkgKiBAcmV0dXJuCgkgKi8KCXByb3Rl\nY3RlZCBDaGFpbkVudGl0eUEgZ2V0QSAoKSB7CgkJRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyICgpOwoJCUNoYWluRW50aXR5\nQSBhID0gZW0uZmluZCAoQ2hhaW5FbnRpdHlBLmNsYXNzLCBhaWQpOwoJCWVt\nLmNsb3NlICgpOwoJCXJldHVybiBhOwoJfQoKCS8qKgoJICogUHJpbnQgdGhl\nIG9iamVjdCBncmFwaCBvZiBnaXZlbiBDaGFpbkVudGl0eUEgdG8gU3lzdGVt\nLm91dAoJICogCgkgKiBAcGFyYW0gdGVzdEEKCSAqLwoJcHJvdGVjdGVkIHZv\naWQgZHVtcCAoQ2hhaW5FbnRpdHlBIHRlc3RBKSB7CgkJU3lzdGVtLm91dC5w\ncmludGxuICgiLS0tLS0tLSIpOwoJCVN5c3RlbS5vdXQucHJpbnRsbiAodGVz\ndEEuZ2V0TmFtZSAoKSArICJbIiArIHRlc3RBLmdldElkICgpICsgIl0iKTsK\nCQlmb3IgKENoYWluRW50aXR5QiB0ZXN0QiA6IHRlc3RBLmdldENoaWxkcmVu\nICgpKSB7CgkJCVN5c3RlbS5vdXQucHJpbnRsbiAodGVzdEIuZ2V0TmFtZSAo\nKSArICJbIiArIHRlc3RCLmdldElkICgpICsgIl0iKTsKCQkJZm9yIChDaGFp\nbkVudGl0eUMgdGVzdEMgOiB0ZXN0Qi5nZXRDaGFpbkVudGl0eUNTZXQgKCkp\nIHsKCQkJCVN5c3RlbS5vdXQucHJpbnRsbiAodGVzdEMuZ2V0TmFtZSAoKSAr\nICJbIiArIHRlc3RDLmdldElkICgpCgkJCQkJCSsgIl0iKTsKCQkJfQoJCX0K\nCQlTeXN0ZW0ub3V0LnByaW50bG4gKCItLS0tLS0tIik7Cgl9Cgp9Cg==\n","encoding":"base64"}

