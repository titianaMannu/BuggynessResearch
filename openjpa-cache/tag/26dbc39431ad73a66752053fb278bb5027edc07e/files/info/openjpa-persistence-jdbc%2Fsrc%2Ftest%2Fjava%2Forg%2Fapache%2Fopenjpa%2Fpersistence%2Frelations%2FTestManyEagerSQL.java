{"sha":"2de819e446cf481e952e9b07bcf350821ceb075b","node_id":"MDQ6QmxvYjIwNjM2NDoyZGU4MTllNDQ2Y2Y0ODFlOTUyZTliMDdiY2YzNTA4MjFjZWIwNzVi","size":9921,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2de819e446cf481e952e9b07bcf350821ceb075b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucmVsYXRp\nb25zOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5RdWVyeTsKCmltcG9ydCBqdW5pdC50ZXh0dWkuVGVzdFJ1bm5lcjsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQ\nQUVudGl0eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UudGVzdC5TUUxMaXN0ZW5lclRlc3RDYXNlOwoKCnB1YmxpYyBj\nbGFzcyBUZXN0TWFueUVhZ2VyU1FMCiAgICBleHRlbmRzIFNRTExpc3RlbmVy\nVGVzdENhc2UgewoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAg\nIHNldFVwKERST1BfVEFCTEVTLAogICAgICAgICAgICBPbmVNYW55RWFnZXJQ\nYXJlbnQuY2xhc3MsIE9uZU1hbnlFYWdlckNoaWxkLmNsYXNzLAogICAgICAg\nICAgICBPbmVNYW55TGF6eUNoaWxkLmNsYXNzLCBPbmVPbmVQYXJlbnQuY2xh\nc3MsIAogICAgICAgICAgICBPbmVPbmVDaGlsZC5jbGFzcyk7CgogICAgICAg\nIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKCiAgICAg\nICAgZm9yIChpbnQgaiA9IDA7IGogPCAyOyBqKyspIHsKICAgICAgICAgICAg\nT25lTWFueUVhZ2VyUGFyZW50IHBhcmVudCA9IG5ldyBPbmVNYW55RWFnZXJQ\nYXJlbnQoKTsKICAgICAgICAgICAgcGFyZW50LnNldE5hbWUoInBhcmVudCIr\naik7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMjsgaSsrKSB7\nCiAgICAgICAgICAgICAgICBPbmVNYW55RWFnZXJDaGlsZCBjaGlsZCA9IG5l\ndyBPbmVNYW55RWFnZXJDaGlsZCgpOwogICAgICAgICAgICAgICAgY2hpbGQu\nc2V0TmFtZSgiZWFnZXJjaGlsZCIgKyBpKTsKICAgICAgICAgICAgICAgIHBh\ncmVudC5hZGRFYWdlckNoaWxkKGNoaWxkKTsKICAgICAgICAgICAgICAgIGVt\nLnBlcnNpc3QoY2hpbGQpOwogICAgICAgICAgICAgICAgT25lTWFueUxhenlD\naGlsZCBsYXp5Y2hpbGQgPSBuZXcgT25lTWFueUxhenlDaGlsZCgpOwogICAg\nICAgICAgICAgICAgbGF6eWNoaWxkLnNldE5hbWUoImxhenljaGlsZCIgKyBp\nKTsKICAgICAgICAgICAgICAgIHBhcmVudC5hZGRMYXp5Q2hpbGQobGF6eWNo\naWxkKTsKICAgICAgICAgICAgICAgIGVtLnBlcnNpc3QobGF6eWNoaWxkKTsK\nICAgICAgICAgICAgfQogICAgICAgICAgICBlbS5wZXJzaXN0KHBhcmVudCk7\nCiAgICAgICAgfQoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDM7IGkr\nKykgewogICAgICAgICAgICBPbmVPbmVQYXJlbnQgcGFyZW50ID0gbmV3IE9u\nZU9uZVBhcmVudCgpOwogICAgICAgICAgICBwYXJlbnQuc2V0TmFtZSgicGFy\nZW50IiArIGkpOwogICAgICAgICAgICBPbmVPbmVDaGlsZCBjaGlsZCA9IG5l\ndyBPbmVPbmVDaGlsZCgpOwogICAgICAgICAgICBjaGlsZC5zZXROYW1lKCJj\naGlsZCIgKyBpKTsKICAgICAgICAgICAgcGFyZW50LnNldENoaWxkKGNoaWxk\nKTsKICAgICAgICAgICAgY2hpbGQuc2V0UGFyZW50KHBhcmVudCk7CiAgICAg\nICAgICAgIGVtLnBlcnNpc3QoY2hpbGQpOwogICAgICAgICAgICBlbS5wZXJz\naXN0KHBhcmVudCk7CiAgICAgICAgfQoKICAgICAgICBlbS5mbHVzaCgpOwog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAg\nZW0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWFueVRv\nT25lRWFnZXJRdWVyeSgpIHsKICAgICAgICBzcWwuY2xlYXIoKTsKCiAgICAg\nICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIFN0cmluZyBxdWVyeSA9ICJzZWxlY3QgYyBG\nUk9NIE9uZU1hbnlFYWdlckNoaWxkIGMiOwogICAgICAgIFF1ZXJ5IHEgPSBl\nbS5jcmVhdGVRdWVyeShxdWVyeSk7CiAgICAgICAgTGlzdCBsaXN0ID0gcS5n\nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDQsIGxpc3Qu\nc2l6ZSgpKTsKICAgICAgICAKICAgICAgICAvLyBFeHBlY3RlZCBTUUxzOgog\nICAgICAgIC8vICAgU0VMRUNUIHQwLmlkLCB0MC5vcHRMb2NrLCB0MC5uYW1l\nLCB0MS5pZCwgdDEub3B0TG9jaywgdDEubmFtZQogICAgICAgIC8vICAgICAg\nIEZST00gT25lTWFueUVhZ2VyQ2hpbGQgdDAKICAgICAgICAvLyAgICAgICBM\nRUZUIE9VVEVSIEpPSU4gT25lTWFueUVhZ2VyUGFyZW50IHQxIE9OIHQwLlBB\nUkVOVF9JRCA9IHQxLmlkCiAgICAgICAgLy8gICBTRUxFQ1QgdDAuaWQsIHQw\nLm9wdExvY2ssIHQwLm5hbWUgRlJPTSBPbmVNYW55RWFnZXJDaGlsZCB0MAog\nICAgICAgIC8vICAgICAgIFdIRVJFIHQwLlBBUkVOVF9JRCA9ID8gT1JERVIg\nQlkgdDAubmFtZSBBU0MgW3BhcmFtcz0obG9uZykgMl0KICAgICAgICAvLyAg\nIFNFTEVDVCB0MC5pZCwgdDAub3B0TG9jaywgdDAubmFtZSwgdDAuUEFSRU5U\nX0lECiAgICAgICAgLy8gICAgICAgRlJPTSBPbmVNYW55TGF6eUNoaWxkIHQw\nIFdIRVJFIHQwLlBBUkVOVF9JRCA9ID8KICAgICAgICAvLyAgICAgICBPUkRF\nUiBCWSB0MC5uYW1lIEFTQyBbcGFyYW1zPShsb25nKSAyXQogICAgICAgIC8v\nICAgU0VMRUNUIHQwLmlkLCB0MC5vcHRMb2NrLCB0MC5uYW1lIEZST00gT25l\nTWFueUVhZ2VyQ2hpbGQgdDAKICAgICAgICAvLyAgICAgICBXSEVSRSB0MC5Q\nQVJFTlRfSUQgPSA/IE9SREVSIEJZIHQwLm5hbWUgQVNDIFtwYXJhbXM9KGxv\nbmcpIDFdCiAgICAgICAgLy8gICBTRUxFQ1QgdDAuaWQsIHQwLm9wdExvY2ss\nIHQwLm5hbWUsIHQwLlBBUkVOVF9JRCAKICAgICAgICAvLyAgICAgICBGUk9N\nIE9uZU1hbnlMYXp5Q2hpbGQgdDAgV0hFUkUgdDAuUEFSRU5UX0lEID0gPwog\nICAgICAgIC8vICAgICAgIE9SREVSIEJZIHQwLm5hbWUgQVNDIFtwYXJhbXM9\nKGxvbmcpIDFdCgogICAgICAgIGFzc2VydEVxdWFscyg1LCBzcWwuc2l6ZSgp\nKTsKCiAgICAgICAgc3FsLmNsZWFyKCk7CgogICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgbGlzdC5zaXplKCk7IGkrKykgewogICAgICAgICAgICBPbmVN\nYW55RWFnZXJDaGlsZCBjaGlsZCA9IChPbmVNYW55RWFnZXJDaGlsZCkgbGlz\ndC5nZXQoaSk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscygyLCBjaGlsZC5n\nZXRQYXJlbnQoKS5nZXRMYXp5Q2hpbGRyZW4oKS5zaXplKCkpOwogICAgICAg\nICAgICBhc3NlcnRFcXVhbHMoMiwgY2hpbGQuZ2V0UGFyZW50KCkuZ2V0RWFn\nZXJDaGlsZHJlbigpLnNpemUoKSk7CiAgICAgICAgfQogICAgICAgIGFzc2Vy\ndEVxdWFscygwLCBzcWwuc2l6ZSgpKTsKCiAgICAgICAgZW0uY2xvc2UoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWFueVRvT25lTGF6eVF1ZXJ5\nKCkgewogICAgICAgIHNxbC5jbGVhcigpOwoKICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAg\nICAgICAgU3RyaW5nIHF1ZXJ5ID0gInNlbGVjdCBjIEZST00gT25lTWFueUxh\nenlDaGlsZCBjIjsKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnko\ncXVlcnkpOwogICAgICAgIExpc3QgbGlzdCA9IHEuZ2V0UmVzdWx0TGlzdCgp\nOwogICAgICAgIGFzc2VydEVxdWFscyg0LCBsaXN0LnNpemUoKSk7CgogICAg\nICAgIC8vIEV4cGVjdGVkIFNRTDoKICAgICAgICAvLyBTRUxFQ1QgdDAuaWQs\nIHQwLm9wdExvY2ssIHQwLm5hbWUsIHQwLlBBUkVOVF9JRAogICAgICAgIC8v\nICAgICBGUk9NIE9uZU1hbnlMYXp5Q2hpbGQgdDAKICAgICAgICBhc3NlcnRF\ncXVhbHMoMSwgc3FsLnNpemUoKSk7CgogICAgICAgIHNxbC5jbGVhcigpOwoK\nICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGxpc3Quc2l6ZSgpOyBpKysp\nIHsKICAgICAgICAgICAgT25lTWFueUxhenlDaGlsZCBjaGlsZCA9IChPbmVN\nYW55TGF6eUNoaWxkKSBsaXN0LmdldChpKTsKICAgICAgICAgICAgYXNzZXJ0\nRXF1YWxzKDIsIGNoaWxkLmdldFBhcmVudCgpLmdldExhenlDaGlsZHJlbigp\nLnNpemUoKSk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscygyLCBjaGlsZC5n\nZXRQYXJlbnQoKS5nZXRFYWdlckNoaWxkcmVuKCkuc2l6ZSgpKTsKICAgICAg\nICB9CgogICAgICAgIC8vIEV4cGVjdGVkIFNRTHM6IChmaXJlZCBvbiBjaGls\nZC5nZXRQYXJlbnQoKSkKICAgICAgICAvLyAgU0VMRUNUIHQwLm9wdExvY2ss\nIHQwLm5hbWUsIHQxLlBBUkVOVF9JRCwgdDEuaWQsIHQxLm9wdExvY2ssIHQx\nLm5hbWUKICAgICAgICAvLyAgICAgIEZST00gT25lTWFueUVhZ2VyUGFyZW50\nIHQwCiAgICAgICAgLy8gICAgICBMRUZUIE9VVEVSIEpPSU4gT25lTWFueUVh\nZ2VyQ2hpbGQgdDEgT04gdDAuaWQgPSB0MS5QQVJFTlRfSUQKICAgICAgICAv\nLyAgICAgIFdIRVJFIHQwLmlkID0gPyAKICAgICAgICAvLyAgICAgIE9SREVS\nIEJZIHQxLlBBUkVOVF9JRCBBU0MsIHQxLm5hbWUgQVNDIFtwYXJhbXM9KGxv\nbmcpIDI1Ml0KICAgICAgICAvLyAgU0VMRUNUIHQwLmlkLCB0MC5vcHRMb2Nr\nLCB0MC5uYW1lLCB0MC5QQVJFTlRfSUQKICAgICAgICAvLyAgICAgIEZST00g\nT25lTWFueUxhenlDaGlsZCB0MCBXSEVSRSB0MC5QQVJFTlRfSUQgPSA/CiAg\nICAgICAgLy8gICAgICBPUkRFUiBCWSB0MC5uYW1lIEFTQyBbcGFyYW1zPShs\nb25nKSAyNTJdCiAgICAgICAgLy8gIFNFTEVDVCB0MC5vcHRMb2NrLCB0MC5u\nYW1lLCB0MS5QQVJFTlRfSUQsIHQxLmlkLCB0MS5vcHRMb2NrLCB0MS5uYW1l\nCiAgICAgICAgLy8gICAgICBGUk9NIE9uZU1hbnlFYWdlclBhcmVudCB0MAog\nICAgICAgIC8vICAgICAgTEVGVCBPVVRFUiBKT0lOIE9uZU1hbnlFYWdlckNo\naWxkIHQxIE9OIHQwLmlkID0gdDEuUEFSRU5UX0lECiAgICAgICAgLy8gICAg\nICBXSEVSRSB0MC5pZCA9ID8gCiAgICAgICAgLy8gICAgICBPUkRFUiBCWSB0\nMS5QQVJFTlRfSUQgQVNDLCB0MS5uYW1lIEFTQyBbcGFyYW1zPShsb25nKSAy\nNTFdCiAgICAgICAgLy8gIFNFTEVDVCB0MC5pZCwgdDAub3B0TG9jaywgdDAu\nbmFtZSwgdDAuUEFSRU5UX0lECiAgICAgICAgLy8gICAgICBGUk9NIE9uZU1h\nbnlMYXp5Q2hpbGQgdDAgV0hFUkUgdDAuUEFSRU5UX0lEID0gPwogICAgICAg\nIC8vICAgICAgT1JERVIgQlkgdDAubmFtZSBBU0MgW3BhcmFtcz0obG9uZykg\nMjUxXQoKICAgICAgICBhc3NlcnRFcXVhbHMoNCwgc3FsLnNpemUoKSk7Cgog\nICAgICAgIGVtLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndE9uZVRvTWFueUVhZ2VyUXVlcnkoKSB7CiAgICAgICAgc3FsLmNsZWFyKCk7\nCgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0\nZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBTdHJpbmcgcXVlcnkgPSAic2Vs\nZWN0IHAgRlJPTSBPbmVNYW55RWFnZXJQYXJlbnQgcCI7CiAgICAgICAgUXVl\ncnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KTsKICAgICAgICBMaXN0IGxp\nc3QgPSBxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nMiwgbGlzdC5zaXplKCkpOwoKICAgICAgICAvLyBFeHBlY3RlZCBTUUxzOgog\nICAgICAgIC8vICAgU0VMRUNUIHQwLmlkLCB0MC5vcHRMb2NrLCB0MC5uYW1l\nIEZST00gT25lTWFueUVhZ2VyUGFyZW50IHQwCiAgICAgICAgLy8gICBTRUxF\nQ1QgdDAuaWQsIHQxLmlkLCB0MS5vcHRMb2NrLCB0MS5uYW1lIEZST00gT25l\nTWFueUVhZ2VyUGFyZW50IHQwCiAgICAgICAgLy8gICAgICAgSU5ORVIgSk9J\nTiBPbmVNYW55RWFnZXJDaGlsZCB0MSBPTiB0MC5pZCA9IHQxLlBBUkVOVF9J\nRAogICAgICAgIC8vICAgICAgIE9SREVSIEJZIHQwLmlkIEFTQywgdDEubmFt\nZSBBU0MKICAgICAgICAvLyAgIFNFTEVDVCB0MC5pZCwgdDEuaWQsIHQxLm9w\ndExvY2ssIHQxLm5hbWUsIHQxLlBBUkVOVF9JRAogICAgICAgIC8vICAgICAg\nIEZST00gT25lTWFueUVhZ2VyUGFyZW50IHQwCiAgICAgICAgLy8gICAgICAg\nSU5ORVIgSk9JTiBPbmVNYW55TGF6eUNoaWxkIHQxIE9OIHQwLmlkID0gdDEu\nUEFSRU5UX0lECiAgICAgICAgLy8gICAgICAgT1JERVIgQlkgdDAuaWQgQVND\nLCB0MS5uYW1lIEFTQwoKICAgICAgICBhc3NlcnRFcXVhbHMoMywgc3FsLnNp\nemUoKSk7CgogICAgICAgIHNxbC5jbGVhcigpOwoKICAgICAgICBmb3IgKGlu\ndCBpID0gMDsgaSA8IGxpc3Quc2l6ZSgpOyBpKyspIHsKICAgICAgICAgICAg\nT25lTWFueUVhZ2VyUGFyZW50IHAgPSAoT25lTWFueUVhZ2VyUGFyZW50KSBs\naXN0LmdldChpKTsKICAgICAgICAgICAgbG9uZyBpZCA9IHAuZ2V0SWQoKTsK\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHAuZ2V0RWFnZXJDaGlsZHJl\nbigpLnNpemUoKSk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscyhwLCBwLmdl\ndEVhZ2VyQ2hpbGRyZW4oKS5nZXQoMCkuZ2V0UGFyZW50KCkpOwogICAgICAg\nICAgICBhc3NlcnRFcXVhbHMocCwgcC5nZXRFYWdlckNoaWxkcmVuKCkuZ2V0\nKDEpLmdldFBhcmVudCgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGlk\nLCBwLmdldEVhZ2VyQ2hpbGRyZW4oKS5nZXQoMCkuZ2V0UGFyZW50KCkuZ2V0\nSWQoKSk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscyhpZCwgcC5nZXRFYWdl\nckNoaWxkcmVuKCkuZ2V0KDEpLmdldFBhcmVudCgpLmdldElkKCkpOwogICAg\nICAgICAgICBhc3NlcnRFcXVhbHMoImVhZ2VyY2hpbGQwIiwgcC5nZXRFYWdl\nckNoaWxkcmVuKCkuZ2V0KDApLmdldE5hbWUoKSk7CiAgICAgICAgICAgIGFz\nc2VydEVxdWFscygiZWFnZXJjaGlsZDEiLCBwLmdldEVhZ2VyQ2hpbGRyZW4o\nKS5nZXQoMSkuZ2V0TmFtZSgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKDIsIHAuZ2V0TGF6eUNoaWxkcmVuKCkuc2l6ZSgpKTsKICAgICAgICAgICAg\nYXNzZXJ0RXF1YWxzKHAsIHAuZ2V0TGF6eUNoaWxkcmVuKCkuZ2V0KDApLmdl\ndFBhcmVudCgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKHAsIHAuZ2V0\nTGF6eUNoaWxkcmVuKCkuZ2V0KDEpLmdldFBhcmVudCgpKTsKICAgICAgICAg\nICAgYXNzZXJ0RXF1YWxzKGlkLCBwLmdldExhenlDaGlsZHJlbigpLmdldCgw\nKS5nZXRQYXJlbnQoKS5nZXRJZCgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1\nYWxzKGlkLCBwLmdldExhenlDaGlsZHJlbigpLmdldCgxKS5nZXRQYXJlbnQo\nKS5nZXRJZCgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJsYXp5Y2hp\nbGQwIiwgcC5nZXRMYXp5Q2hpbGRyZW4oKS5nZXQoMCkuZ2V0TmFtZSgpKTsK\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJsYXp5Y2hpbGQxIiwgcC5nZXRM\nYXp5Q2hpbGRyZW4oKS5nZXQoMSkuZ2V0TmFtZSgpKTsgICAgICAgICAgICAK\nICAgICAgICB9CgogICAgICAgIGFzc2VydEVxdWFscygwLCBzcWwuc2l6ZSgp\nKTsKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RPbmVUb09uZVBhcmVudFF1ZXJ5KCkgewogICAgICAgIHNxbC5jbGVh\ncigpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBlbSA9IGVtZi5j\ncmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0g\nInNlbGVjdCBwIEZST00gT25lT25lUGFyZW50IHAiOwogICAgICAgIFF1ZXJ5\nIHEgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSk7CiAgICAgICAgTGlzdCBsaXN0\nID0gcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMs\nIGxpc3Quc2l6ZSgpKTsKCiAgICAgICAgLy8gRXhwZWN0ZWQgU1FMczoKICAg\nICAgICAvLyAgIFNFTEVDVCB0MC5pZCwgdDAub3B0TG9jaywgdDEuaWQsIHQx\nLm9wdExvY2ssIHQxLm5hbWUsIHQwLm5hbWUKICAgICAgICAvLyAgIEZST00g\nT25lT25lUGFyZW50IHQwIAogICAgICAgIC8vICAgTEVGVCBPVVRFUiBKT0lO\nIE9uZU9uZUNoaWxkIHQxIE9OIHQwLmlkID0gdDEuUEFSRU5UX0lECgogICAg\nICAgIGFzc2VydEVxdWFscygxLCBzcWwuc2l6ZSgpKTsKCiAgICAgICAgc3Fs\nLmNsZWFyKCk7CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbGlzdC5z\naXplKCk7IGkrKykgewogICAgICAgICAgICBPbmVPbmVQYXJlbnQgcCA9IChP\nbmVPbmVQYXJlbnQpIGxpc3QuZ2V0KGkpOwogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMocCwgcC5nZXRDaGlsZCgpLmdldFBhcmVudCgpKTsKICAgICAgICB9\nCgogICAgICAgIGFzc2VydEVxdWFscygwLCBzcWwuc2l6ZSgpKTsKICAgICAg\nICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RPbmVU\nb09uZUNoaWxkUXVlcnkoKSB7CiAgICAgICAgc3FsLmNsZWFyKCk7CgogICAg\nICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsKICAgICAgICBTdHJpbmcgcXVlcnkgPSAic2VsZWN0IGMg\nRlJPTSBPbmVPbmVDaGlsZCBjIjsKICAgICAgICBRdWVyeSBxID0gZW0uY3Jl\nYXRlUXVlcnkocXVlcnkpOwogICAgICAgIExpc3QgbGlzdCA9IHEuZ2V0UmVz\ndWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygzLCBsaXN0LnNpemUo\nKSk7CgogICAgICAgIC8vIEV4cGVjdGVkIFNRTHM6CiAgICAgICAgLy8gICBT\nRUxFQ1QgdDAuaWQsIHQwLm9wdExvY2ssIHQxLmlkLCB0MS5vcHRMb2NrLCB0\nMS5uYW1lLCB0MC5uYW1lIAogICAgICAgIC8vICAgRlJPTSBPbmVPbmVQYXJl\nbnQgdDAgCiAgICAgICAgLy8gICBMRUZUIE9VVEVSIEpPSU4gT25lT25lQ2hp\nbGQgdDEgT04gdDAuaWQgPSB0MS5QQVJFTlRfSUQKCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEsIHNxbC5zaXplKCkpOwoKICAgICAgICBzcWwuY2xlYXIoKTsK\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBsaXN0LnNpemUoKTsgaSsr\nKSB7CiAgICAgICAgICAgIE9uZU9uZUNoaWxkIGMgPSAoT25lT25lQ2hpbGQp\nIGxpc3QuZ2V0KGkpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoYywgYy5n\nZXRQYXJlbnQoKS5nZXRDaGlsZCgpKTsKICAgICAgICB9CgogICAgICAgIGFz\nc2VydEVxdWFscygwLCBzcWwuc2l6ZSgpKTsKICAgICAgICBlbS5jbG9zZSgp\nOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1td\nIGFyZ3MpIHsKICAgICAgICBUZXN0UnVubmVyLnJ1bihUZXN0TWFueUVhZ2Vy\nU1FMLmNsYXNzKTsKICAgIH0KfQoK\n","encoding":"base64"}

