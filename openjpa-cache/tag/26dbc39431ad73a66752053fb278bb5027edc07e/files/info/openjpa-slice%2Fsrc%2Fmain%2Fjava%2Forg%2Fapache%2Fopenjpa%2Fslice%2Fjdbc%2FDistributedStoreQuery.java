{"sha":"b2450659f94bd6775efff3cf9f5480d108ed12dc","node_id":"MDQ6QmxvYjIwNjM2NDpiMjQ1MDY1OWY5NGJkNjc3NWVmZmYzY2Y5ZjU0ODBkMTA4ZWQxMmRj","size":8787,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b2450659f94bd6775efff3cf9f5480d108ed12dc","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nc2xpY2UuamRiYzsNCg0KaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7DQpp\nbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOw0KaW1wb3J0IGphdmEudXRpbC5M\naXN0Ow0KaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNhbGxhYmxlOw0K\naW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkV4ZWN1dGlvbkV4Y2VwdGlv\nbjsNCmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5FeGVjdXRvclNlcnZp\nY2U7DQppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuRnV0dXJlOw0KDQpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLkpEQkNTdG9y\nZTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuSkRC\nQ1N0b3JlUXVlcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5l\nbC5FeHByZXNzaW9uU3RvcmVRdWVyeTsNCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEua2VybmVsLkZldGNoQ29uZmlndXJhdGlvbjsNCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLk9yZGVyaW5nTWVyZ2VkUmVzdWx0T2Jq\nZWN0UHJvdmlkZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5l\nbC5RdWVyeUNvbnRleHQ7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtl\ncm5lbC5TdG9yZVF1ZXJ5Ow0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuZXhwcy5FeHByZXNzaW9uUGFyc2VyOw0KaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIucm9wLk1lcmdlZFJlc3VsdE9iamVjdFByb3ZpZGVy\nOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIucm9wLlJhbmdlUmVz\ndWx0T2JqZWN0UHJvdmlkZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmxpYi5yb3AuUmVzdWx0T2JqZWN0UHJvdmlkZXI7DQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0YTsNCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEudXRpbC5TdG9yZUV4Y2VwdGlvbjsNCg0KLyoqDQog\nKiBBIHF1ZXJ5IGZvciBkaXN0cmlidXRlZCBkYXRhYmFzZXMuDQogKiANCiAq\nIEBhdXRob3IgUGluYWtpIFBvZGRhciANCiAqDQogKi8NCkBTdXBwcmVzc1dh\ncm5pbmdzKCJzZXJpYWwiKQ0KY2xhc3MgRGlzdHJpYnV0ZWRTdG9yZVF1ZXJ5\nIGV4dGVuZHMgSkRCQ1N0b3JlUXVlcnkgew0KCXByaXZhdGUgTGlzdDxTdG9y\nZVF1ZXJ5PiBfcXVlcmllcyA9IG5ldyBBcnJheUxpc3Q8U3RvcmVRdWVyeT4o\nKTsNCglwcml2YXRlIEV4cHJlc3Npb25QYXJzZXIgX3BhcnNlcjsNCgkNCglw\ndWJsaWMgRGlzdHJpYnV0ZWRTdG9yZVF1ZXJ5KEpEQkNTdG9yZSBzdG9yZSwg\nRXhwcmVzc2lvblBhcnNlciBwYXJzZXIpIHsNCgkJc3VwZXIoc3RvcmUsIHBh\ncnNlcik7DQoJCV9wYXJzZXIgPSBwYXJzZXI7DQoJCQ0KCX0NCgkNCgl2b2lk\nIGFkZChTdG9yZVF1ZXJ5IHEpIHsNCgkJX3F1ZXJpZXMuYWRkKHEpOw0KCX0N\nCgkNCiAgICBwdWJsaWMgRXhlY3V0b3IgbmV3RGF0YVN0b3JlRXhlY3V0b3Io\nQ2xhc3NNZXRhRGF0YSBtZXRhLCBib29sZWFuIHN1YnMpIHsNCiAgICAJUGFy\nYWxsZWxFeGVjdXRvciBleCA9IG5ldyBQYXJhbGxlbEV4ZWN1dG9yKHRoaXMs\nIG1ldGEsIHN1YnMsIF9wYXJzZXIsIA0KICAgIAkJCWN0eC5nZXRDb21waWxh\ndGlvbigpKTsNCiAgICAJDQogICAgCUZldGNoQ29uZmlndXJhdGlvbiBmZXRj\naCA9IGdldENvbnRleHQoKS5nZXRGZXRjaENvbmZpZ3VyYXRpb24oKTsNCiAg\nICAJRGlzdHJpYnV0ZWRTdG9yZU1hbmFnZXIgc3RvcmUgPSAoRGlzdHJpYnV0\nZWRTdG9yZU1hbmFnZXIpZ2V0Q29udGV4dCgpDQogICAgCSAgICAuZ2V0U3Rv\ncmVDb250ZXh0KCkuZ2V0U3RvcmVNYW5hZ2VyKCkuZ2V0SW5uZXJtb3N0RGVs\nZWdhdGUoKTsNCiAgICAgICAgTGlzdDxTbGljZVN0b3JlTWFuYWdlcj4gdGFy\nZ2V0cyA9IHN0b3JlLmdldFRhcmdldHMoZmV0Y2gpOw0KICAgICAgICBmb3Ig\nKFN0b3JlUXVlcnkgcTpfcXVlcmllcykgew0KICAgICAgICAgICAgaWYgKHRh\ncmdldHMuY29udGFpbnMoKChKREJDU3RvcmVRdWVyeSlxKS5nZXRTdG9yZSgp\nKSkNCiAgICAgICAgICAgICAgICBleC5hZGRFeGVjdXRvcihxLm5ld0RhdGFT\ndG9yZUV4ZWN1dG9yKG1ldGEsIHN1YnMpKTsNCiAgICAgICAgfQ0KICAgICAg\nICByZXR1cm4gZXg7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHNl\ndENvbnRleHQoUXVlcnlDb250ZXh0IGN0eCkgew0KICAgIAlzdXBlci5zZXRD\nb250ZXh0KGN0eCk7DQogICAgCWZvciAoU3RvcmVRdWVyeSBxOl9xdWVyaWVz\nKSANCiAgICAJCXEuc2V0Q29udGV4dChjdHgpOyANCiAgICB9DQogICAgDQog\nICAgcHVibGljIEV4ZWN1dG9yU2VydmljZSBnZXRFeGVjdXRvclNlcnZpY2VJ\nbnN0YW5jZSgpIHsNCiAgICAgICAgRGlzdHJpYnV0ZWRKREJDQ29uZmlndXJh\ndGlvbiBjb25mID0gDQogICAgICAgICAgICAoKERpc3RyaWJ1dGVkSkRCQ0Nv\nbmZpZ3VyYXRpb24pZ2V0U3RvcmUoKS5nZXRDb25maWd1cmF0aW9uKCkpOw0K\nICAgICAgICByZXR1cm4gY29uZi5nZXRFeGVjdXRvclNlcnZpY2VJbnN0YW5j\nZSgpOw0KICAgIH0NCiAgICANCgkvKioNCgkgKiBFeGVjdXRlcyBxdWVyaWVz\nIG9uIG11bHRpcGxlIGRhdGFiYXNlcy4NCgkgKiANCgkgKiBAYXV0aG9yIFBp\nbmFraSBQb2RkYXIgDQoJICoNCgkgKi8NCglwdWJsaWMgc3RhdGljIGNsYXNz\nIFBhcmFsbGVsRXhlY3V0b3IgZXh0ZW5kcyANCgkJRXhwcmVzc2lvblN0b3Jl\nUXVlcnkuRGF0YVN0b3JlRXhlY3V0b3Igew0KCQlwcml2YXRlIExpc3Q8RXhl\nY3V0b3I+IGV4ZWN1dG9ycyA9IG5ldyBBcnJheUxpc3Q8RXhlY3V0b3I+KCk7\nDQoJCXByaXZhdGUgRGlzdHJpYnV0ZWRTdG9yZVF1ZXJ5IG93bmVyID0gbnVs\nbDsNCgkJcHJpdmF0ZSBFeGVjdXRvclNlcnZpY2UgdGhyZWFkUG9vbCA9IG51\nbGw7DQoJCQ0KCQlwdWJsaWMgdm9pZCBhZGRFeGVjdXRvcihFeGVjdXRvciBl\neCkgew0KCQkJZXhlY3V0b3JzLmFkZChleCk7DQoJCX0NCgkJDQogICAgICAg\nIHB1YmxpYyBQYXJhbGxlbEV4ZWN1dG9yKERpc3RyaWJ1dGVkU3RvcmVRdWVy\neSBkc3EsIENsYXNzTWV0YURhdGEgbWV0YSwgDQogICAgICAgIAkJYm9vbGVh\nbiBzdWJjbGFzc2VzLCBFeHByZXNzaW9uUGFyc2VyIHBhcnNlciwgT2JqZWN0\nIHBhcnNlZCkgew0KICAgICAgICAJc3VwZXIoZHNxLCBtZXRhLCBzdWJjbGFz\nc2VzLCBwYXJzZXIsIHBhcnNlZCk7DQogICAgICAgIAlvd25lciA9IGRzcTsN\nCiAgICAgICAgCXRocmVhZFBvb2wgPSBkc3EuZ2V0RXhlY3V0b3JTZXJ2aWNl\nSW5zdGFuY2UoKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLyoq\nDQogICAgICAgICAqIEVhY2ggY2hpbGQgcXVlcnkgbXVzdCBiZSBleGVjdXRl\nZCB3aXRoIHNsaWNlIGNvbnRleHQgYW5kIG5vdCB0aGUgDQogICAgICAgICAq\nIGdpdmVuIHF1ZXJ5IGNvbnRleHQuDQogICAgICAgICAqLw0KICAgICAgICBw\ndWJsaWMgUmVzdWx0T2JqZWN0UHJvdmlkZXIgZXhlY3V0ZVF1ZXJ5KFN0b3Jl\nUXVlcnkgcSwNCiAgICAgICAgICAgICAgICBmaW5hbCBPYmplY3RbXSBwYXJh\nbXMsIGZpbmFsIFJhbmdlIHJhbmdlKSB7DQogICAgICAgIAlSZXN1bHRPYmpl\nY3RQcm92aWRlcltdIHRtcCA9IG5ldyBSZXN1bHRPYmplY3RQcm92aWRlcltl\neGVjdXRvcnMuc2l6ZSgpXTsNCiAgICAgICAgCWZpbmFsIEl0ZXJhdG9yPFN0\nb3JlUXVlcnk+IHFzID0gb3duZXIuX3F1ZXJpZXMuaXRlcmF0b3IoKTsNCiAg\nICAgICAgCWZpbmFsIExpc3Q8RnV0dXJlPFJlc3VsdE9iamVjdFByb3ZpZGVy\nPj4gZnV0dXJlcyA9IA0KICAgICAgICAJCW5ldyBBcnJheUxpc3Q8RnV0dXJl\nPFJlc3VsdE9iamVjdFByb3ZpZGVyPj4oKTsNCiAgICAgICAgCWludCBpID0g\nMDsNCiAgICAgICAgCWZvciAoRXhlY3V0b3IgZXg6ZXhlY3V0b3JzKSAgew0K\nICAgICAgICAJCVF1ZXJ5RXhlY3V0b3IgY2FsbCA9IG5ldyBRdWVyeUV4ZWN1\ndG9yKCk7DQogICAgICAgIAkJY2FsbC5leGVjdXRvciA9IGV4Ow0KICAgICAg\nICAJCWNhbGwucXVlcnkgICAgPSBxcy5uZXh0KCk7DQogICAgICAgIAkJY2Fs\nbC5wYXJhbXMgICA9IHBhcmFtczsNCiAgICAgICAgCQljYWxsLnJhbmdlICAg\nID0gcmFuZ2U7DQogICAgICAgIAkJZnV0dXJlcy5hZGQodGhyZWFkUG9vbC5z\ndWJtaXQoY2FsbCkpOyANCiAgICAgICAgCX0NCiAgICAgICAgCWZvciAoRnV0\ndXJlPFJlc3VsdE9iamVjdFByb3ZpZGVyPiBmdXR1cmU6ZnV0dXJlcykgew0K\nICAgICAgICAJCXRyeSB7DQoJCQkJCXRtcFtpKytdID0gZnV0dXJlLmdldCgp\nOw0KCQkJCX0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGUpIHsNCgkJ\nCQkJdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oZSk7DQoJCQkJfSBjYXRj\naCAoRXhlY3V0aW9uRXhjZXB0aW9uIGUpIHsNCgkJCQkJdGhyb3cgbmV3IFN0\nb3JlRXhjZXB0aW9uKGUuZ2V0Q2F1c2UoKSk7DQoJCQkJfQ0KICAgICAgICAJ\nfQ0KICAgICAgICAJYm9vbGVhbltdIGFzY2VuZGluZyA9IGdldEFzY2VuZGlu\nZyhxKTsNCiAgICAgICAgCWJvb2xlYW4gaXNBc2NlbmRpbmcgPSBhc2NlbmRp\nbmcubGVuZ3RoID4gMDsNCiAgICAgICAgCWJvb2xlYW4gaXNVbmlxdWUgICAg\nPSBxLmdldENvbnRleHQoKS5pc1VuaXF1ZSgpOw0KICAgICAgICAJYm9vbGVh\nbiBoYXNSYW5nZSAgICA9IHEuZ2V0Q29udGV4dCgpLmdldEVuZFJhbmdlKCkg\nIT0gTG9uZy5NQVhfVkFMVUU7DQogICAgICAgIAlSZXN1bHRPYmplY3RQcm92\naWRlciByZXN1bHQgPSBudWxsOw0KICAgICAgICAJaWYgKGlzVW5pcXVlKSB7\nDQogICAgICAgIAkgICAgcmVzdWx0ID0gbmV3IFVuaXF1ZVJlc3VsdE9iamVj\ndFByb3ZpZGVyKHRtcCwgcSwgDQogICAgICAgIAkgICAgICAgICAgICBnZXRR\ndWVyeUV4cHJlc3Npb25zKCkpOw0KICAgICAgICAJfSBlbHNlIGlmIChpc0Fz\nY2VuZGluZykgew0KICAgICAgICAJICAgIHJlc3VsdCA9IG5ldyBPcmRlcmlu\nZ01lcmdlZFJlc3VsdE9iamVjdFByb3ZpZGVyKHRtcCwgYXNjZW5kaW5nLCAN\nCiAgICAgICAgICAgICAgICAgIChFeGVjdXRvcltdKWV4ZWN1dG9ycy50b0Fy\ncmF5KG5ldyBFeGVjdXRvcltleGVjdXRvcnMuc2l6ZSgpXSksDQogICAgICAg\nICAgICAgICAgICBxLCBwYXJhbXMpOw0KICAgICAgICAJfSBlbHNlIHsNCiAg\nICAgICAgCSAgICByZXN1bHQgPSBuZXcgTWVyZ2VkUmVzdWx0T2JqZWN0UHJv\ndmlkZXIodG1wKTsNCiAgICAgICAgCX0NCiAgICAgICAgCWlmIChoYXNSYW5n\nZSkNCiAgICAgICAgCSAgICByZXN1bHQgPSBuZXcgUmFuZ2VSZXN1bHRPYmpl\nY3RQcm92aWRlcihyZXN1bHQsIA0KICAgICAgICAJICAgICAgICAgICAgcS5n\nZXRDb250ZXh0KCkuZ2V0U3RhcnRSYW5nZSgpLCANCiAgICAgICAgCSAgICAg\nICAgICAgIHEuZ2V0Q29udGV4dCgpLmdldEVuZFJhbmdlKCkpOw0KICAgICAg\nICAJcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAg\nICAgcHVibGljIE51bWJlciBleGVjdXRlRGVsZXRlKFN0b3JlUXVlcnkgcSwg\nT2JqZWN0W10gcGFyYW1zKSB7DQogICAgICAgIAlJdGVyYXRvcjxTdG9yZVF1\nZXJ5PiBxcyA9IG93bmVyLl9xdWVyaWVzLml0ZXJhdG9yKCk7DQogICAgICAg\nIAlmaW5hbCBMaXN0PEZ1dHVyZTxOdW1iZXI+PiBmdXR1cmVzID0gbmV3IEFy\ncmF5TGlzdDxGdXR1cmU8TnVtYmVyPj4oKTsNCiAgICAgICAgCWZvciAoRXhl\nY3V0b3IgZXg6ZXhlY3V0b3JzKSB7DQogICAgICAgIAkJRGVsZXRlRXhlY3V0\nb3IgY2FsbCA9IG5ldyBEZWxldGVFeGVjdXRvcigpOw0KICAgICAgICAJCWNh\nbGwuZXhlY3V0b3IgPSBleDsNCiAgICAgICAgCQljYWxsLnF1ZXJ5ICAgID0g\ncXMubmV4dCgpOw0KICAgICAgICAJCWNhbGwucGFyYW1zICAgPSBwYXJhbXM7\nDQogICAgICAgIAkJZnV0dXJlcy5hZGQodGhyZWFkUG9vbC5zdWJtaXQoY2Fs\nbCkpOyANCiAgICAgICAgCX0NCiAgICAgICAgCWludCBOID0gMDsNCiAgICAg\nICAgCWZvciAoRnV0dXJlPE51bWJlcj4gZnV0dXJlOmZ1dHVyZXMpIHsNCiAg\nICAgICAgCQl0cnkgew0KICAgICAgICAgICAgCQlOdW1iZXIgbiA9IGZ1dHVy\nZS5nZXQoKTsNCiAgICAgICAgICAgIAkJaWYgKG4gIT0gbnVsbCkgDQogICAg\nICAgICAgICAJCQlOICs9IG4uaW50VmFsdWUoKTsNCgkJCQl9IGNhdGNoIChJ\nbnRlcnJ1cHRlZEV4Y2VwdGlvbiBlKSB7DQoJCQkJCXRocm93IG5ldyBSdW50\naW1lRXhjZXB0aW9uKGUpOw0KCQkJCX0gY2F0Y2ggKEV4ZWN1dGlvbkV4Y2Vw\ndGlvbiBlKSB7DQoJCQkJCXRocm93IG5ldyBTdG9yZUV4Y2VwdGlvbihlLmdl\ndENhdXNlKCkpOw0KCQkJCX0NCiAgICAgICAgCX0NCiAgICAgICAgCXJldHVy\nbiBuZXcgSW50ZWdlcihOKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAg\nICAgcHVibGljIE51bWJlciBleGVjdXRlVXBkYXRlKFN0b3JlUXVlcnkgcSwg\nT2JqZWN0W10gcGFyYW1zKSB7DQogICAgICAgIAlJdGVyYXRvcjxTdG9yZVF1\nZXJ5PiBxcyA9IG93bmVyLl9xdWVyaWVzLml0ZXJhdG9yKCk7DQogICAgICAg\nIAlmaW5hbCBMaXN0PEZ1dHVyZTxOdW1iZXI+PiBmdXR1cmVzID0gbmV3IEFy\ncmF5TGlzdDxGdXR1cmU8TnVtYmVyPj4oKTsNCiAgICAgICAgCWZvciAoRXhl\nY3V0b3IgZXg6ZXhlY3V0b3JzKSB7DQogICAgICAgIAkJVXBkYXRlRXhlY3V0\nb3IgY2FsbCA9IG5ldyBVcGRhdGVFeGVjdXRvcigpOw0KICAgICAgICAJCWNh\nbGwuZXhlY3V0b3IgPSBleDsNCiAgICAgICAgCQljYWxsLnF1ZXJ5ICAgID0g\ncXMubmV4dCgpOw0KICAgICAgICAJCWNhbGwucGFyYW1zICAgPSBwYXJhbXM7\nDQogICAgICAgIAkJZnV0dXJlcy5hZGQodGhyZWFkUG9vbC5zdWJtaXQoY2Fs\nbCkpOyANCiAgICAgICAgCX0NCiAgICAgICAgCWludCBOID0gMDsNCiAgICAg\nICAgCWZvciAoRnV0dXJlPE51bWJlcj4gZnV0dXJlOmZ1dHVyZXMpIHsNCiAg\nICAgICAgCQl0cnkgew0KICAgICAgICAgICAgCQlOdW1iZXIgbiA9IGZ1dHVy\nZS5nZXQoKTsNCiAgICAgICAgICAgIAkJaWYgKG4gIT0gbnVsbCkgDQogICAg\nICAgICAgICAJCQlOICs9IG4uaW50VmFsdWUoKTsNCgkJCQl9IGNhdGNoIChJ\nbnRlcnJ1cHRlZEV4Y2VwdGlvbiBlKSB7DQoJCQkJCXRocm93IG5ldyBSdW50\naW1lRXhjZXB0aW9uKGUpOw0KCQkJCX0gY2F0Y2ggKEV4ZWN1dGlvbkV4Y2Vw\ndGlvbiBlKSB7DQoJCQkJCXRocm93IG5ldyBTdG9yZUV4Y2VwdGlvbihlLmdl\ndENhdXNlKCkpOw0KCQkJCX0NCiAgICAgICAgCX0NCiAgICAgICAgCXJldHVy\nbiBuZXcgSW50ZWdlcihOKTsNCiAgICAgICAgfQ0KDQoJfQ0KCQ0KCXN0YXRp\nYyAgY2xhc3MgUXVlcnlFeGVjdXRvciBpbXBsZW1lbnRzIENhbGxhYmxlPFJl\nc3VsdE9iamVjdFByb3ZpZGVyPiB7DQoJCVN0b3JlUXVlcnkgcXVlcnk7DQoJ\nCUV4ZWN1dG9yIGV4ZWN1dG9yOw0KCQlPYmplY3RbXSBwYXJhbXM7DQoJCVJh\nbmdlIHJhbmdlOw0KCQlwdWJsaWMgUmVzdWx0T2JqZWN0UHJvdmlkZXIgY2Fs\nbCgpIHRocm93cyBFeGNlcHRpb24gew0KCQkJcmV0dXJuIGV4ZWN1dG9yLmV4\nZWN1dGVRdWVyeShxdWVyeSwgcGFyYW1zLCByYW5nZSk7DQoJCX0NCgl9DQoJ\nDQoJc3RhdGljICBjbGFzcyBEZWxldGVFeGVjdXRvciBpbXBsZW1lbnRzIENh\nbGxhYmxlPE51bWJlcj4gew0KCQlTdG9yZVF1ZXJ5IHF1ZXJ5Ow0KCQlFeGVj\ndXRvciBleGVjdXRvcjsNCgkJT2JqZWN0W10gcGFyYW1zOw0KCQlwdWJsaWMg\nTnVtYmVyIGNhbGwoKSB0aHJvd3MgRXhjZXB0aW9uIHsNCgkJCXJldHVybiBl\neGVjdXRvci5leGVjdXRlRGVsZXRlKHF1ZXJ5LCBwYXJhbXMpOw0KCQl9DQoJ\nfQ0KCQ0KCXN0YXRpYyAgY2xhc3MgVXBkYXRlRXhlY3V0b3IgaW1wbGVtZW50\ncyBDYWxsYWJsZTxOdW1iZXI+IHsNCgkJU3RvcmVRdWVyeSBxdWVyeTsNCgkJ\nRXhlY3V0b3IgZXhlY3V0b3I7DQoJCU9iamVjdFtdIHBhcmFtczsNCgkJcHVi\nbGljIE51bWJlciBjYWxsKCkgdGhyb3dzIEV4Y2VwdGlvbiB7DQoJCQlyZXR1\ncm4gZXhlY3V0b3IuZXhlY3V0ZURlbGV0ZShxdWVyeSwgcGFyYW1zKTsNCgkJ\nfQ0KCX0NCn0NCg0K\n","encoding":"base64"}

