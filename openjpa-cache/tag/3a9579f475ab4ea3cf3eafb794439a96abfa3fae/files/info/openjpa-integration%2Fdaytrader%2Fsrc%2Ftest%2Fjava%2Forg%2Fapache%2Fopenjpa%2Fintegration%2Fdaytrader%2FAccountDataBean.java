{"sha":"48dd1cc5cd97a358ce683eae46547405a230c671","node_id":"MDQ6QmxvYjIwNjM2NDo0OGRkMWNjNWNkOTdhMzU4Y2U2ODNlYWU0NjU0NzQwNWEyMzBjNjcx","size":11063,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/48dd1cc5cd97a358ce683eae46547405a230c671","content":"LyoqCiAqICBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5k\nYXRpb24gKEFTRikgdW5kZXIgb25lIG9yIG1vcmUKICogIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlz\ndHJpYnV0ZWQgd2l0aAogKiAgdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8gWW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAKICogICh0aGUgIkxpY2Vuc2Ui\nKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxp\nYW5jZSB3aXRoCiAqICB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5h\ncGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqICBVbmxlc3Mg\ncmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdy\naXRpbmcsIHNvZnR3YXJlCiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGlj\nZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiAg\nV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQs\nIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqICBTZWUgdGhlIExpY2Vu\nc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlz\nc2lvbnMgYW5kCiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4K\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLmludGVncmF0aW9uLmRh\neXRyYWRlcjsKCmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0\nIGphdmEubWF0aC5CaWdEZWNpbWFsOwppbXBvcnQgamF2YS5zcWwuVGltZXN0\nYW1wOwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZh\nLnV0aWwuRGF0ZTsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5Db2x1bW47\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHk7CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5GZXRjaFR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5HZW5lcmF0ZWRWYWx1ZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLkdlbmVyYXRpb25UeXBlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuSWQ7\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5Kb2luQ29sdW1uOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuTmFtZWRRdWVyaWVzOwppbXBvcnQgamF2YXgu\ncGVyc2lzdGVuY2UuTmFtZWRRdWVyeTsKaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLk9uZVRvTWFueTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLk9uZVRv\nT25lOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuVGFibGU7CmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5UYWJsZUdlbmVyYXRvcjsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLlRlbXBvcmFsOwppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuVGVtcG9yYWxUeXBlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuVHJh\nbnNpZW50OwoKLy9pbXBvcnQgb3JnLmFwYWNoZS5nZXJvbmltby5zYW1wbGVz\nLmRheXRyYWRlci51dGlsLkxvZzsKLy9pbXBvcnQgb3JnLmFwYWNoZS5nZXJv\nbmltby5zYW1wbGVzLmRheXRyYWRlci51dGlsLlRyYWRlQ29uZmlnOwoKQEVu\ndGl0eShuYW1lID0gImFjY291bnRlamIiKQpAVGFibGUobmFtZSA9ICJhY2Nv\ndW50ZWpiIikKQE5hbWVkUXVlcmllcyggewogICAgICAgIEBOYW1lZFF1ZXJ5\nKG5hbWUgPSAiYWNjb3VudGVqYi5maW5kQnlDcmVhdGlvbmRhdGUiLCBxdWVy\neSA9ICJTRUxFQ1QgYSBGUk9NIGFjY291bnRlamIgYSBXSEVSRSBhLmNyZWF0\naW9uRGF0ZSA9IDpjcmVhdGlvbmRhdGUiKSwKICAgICAgICBATmFtZWRRdWVy\neShuYW1lID0gImFjY291bnRlamIuZmluZEJ5T3BlbmJhbGFuY2UiLCBxdWVy\neSA9ICJTRUxFQ1QgYSBGUk9NIGFjY291bnRlamIgYSBXSEVSRSBhLm9wZW5C\nYWxhbmNlID0gOm9wZW5iYWxhbmNlIiksCiAgICAgICAgQE5hbWVkUXVlcnko\nbmFtZSA9ICJhY2NvdW50ZWpiLmZpbmRCeUxvZ291dGNvdW50IiwgcXVlcnkg\nPSAiU0VMRUNUIGEgRlJPTSBhY2NvdW50ZWpiIGEgV0hFUkUgYS5sb2dvdXRD\nb3VudCA9IDpsb2dvdXRjb3VudCIpLAogICAgICAgIEBOYW1lZFF1ZXJ5KG5h\nbWUgPSAiYWNjb3VudGVqYi5maW5kQnlCYWxhbmNlIiwgcXVlcnkgPSAiU0VM\nRUNUIGEgRlJPTSBhY2NvdW50ZWpiIGEgV0hFUkUgYS5iYWxhbmNlID0gOmJh\nbGFuY2UiKSwKICAgICAgICBATmFtZWRRdWVyeShuYW1lID0gImFjY291bnRl\namIuZmluZEJ5QWNjb3VudGlkIiwgcXVlcnkgPSAiU0VMRUNUIGEgRlJPTSBh\nY2NvdW50ZWpiIGEgV0hFUkUgYS5hY2NvdW50SUQgPSA6YWNjb3VudGlkIiks\nCiAgICAgICAgQE5hbWVkUXVlcnkobmFtZSA9ICJhY2NvdW50ZWpiLmZpbmRC\neUFjY291bnRpZF9lYWdlciIsIHF1ZXJ5ID0gIlNFTEVDVCBhIEZST00gYWNj\nb3VudGVqYiBhIExFRlQgSk9JTiBGRVRDSCBhLnByb2ZpbGUgV0hFUkUgYS5h\nY2NvdW50SUQgPSA6YWNjb3VudGlkIiksCiAgICAgICAgQE5hbWVkUXVlcnko\nbmFtZSA9ICJhY2NvdW50ZWpiLmZpbmRCeUFjY291bnRpZF9lYWdlcmhvbGRp\nbmdzIiwgcXVlcnkgPSAiU0VMRUNUIGEgRlJPTSBhY2NvdW50ZWpiIGEgTEVG\nVCBKT0lOIEZFVENIIGEuaG9sZGluZ3MgV0hFUkUgYS5hY2NvdW50SUQgPSA6\nYWNjb3VudGlkIiksCiAgICAgICAgQE5hbWVkUXVlcnkobmFtZSA9ICJhY2Nv\ndW50ZWpiLmZpbmRCeUxhc3Rsb2dpbiIsIHF1ZXJ5ID0gIlNFTEVDVCBhIEZS\nT00gYWNjb3VudGVqYiBhIFdIRVJFIGEubGFzdExvZ2luID0gOmxhc3Rsb2dp\nbiIpLAogICAgICAgIEBOYW1lZFF1ZXJ5KG5hbWUgPSAiYWNjb3VudGVqYi5m\naW5kQnlMb2dpbmNvdW50IiwgcXVlcnkgPSAiU0VMRUNUIGEgRlJPTSBhY2Nv\ndW50ZWpiIGEgV0hFUkUgYS5sb2dpbkNvdW50ID0gOmxvZ2luY291bnQiKQog\nICAgfSkKcHVibGljIGNsYXNzIEFjY291bnREYXRhQmVhbiBpbXBsZW1lbnRz\nIFNlcmlhbGl6YWJsZSB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9u\nZyBzZXJpYWxWZXJzaW9uVUlEID0gLTc0Nzg5MDc2MzU4MjIxMjk3NDVMOwoK\nICAgIC8qIEFjY2Vzc29yIG1ldGhvZHMgZm9yIHBlcnNpc3RlbnQgZmllbGRz\nICovCiAgICBAVGFibGVHZW5lcmF0b3IoCiAgICAgICAgICAgIG5hbWU9ImFj\nY291bnRJZEdlbiIsCiAgICAgICAgICAgIHRhYmxlPSJLRVlHRU5FSkIiLAog\nICAgICAgICAgICBwa0NvbHVtbk5hbWU9IktFWU5BTUUiLAogICAgICAgICAg\nICB2YWx1ZUNvbHVtbk5hbWU9IktFWVZBTCIsCiAgICAgICAgICAgIHBrQ29s\ndW1uVmFsdWU9ImFjY291bnQiLAogICAgICAgICAgICBhbGxvY2F0aW9uU2l6\nZT0xMDAwKQogICAgCiAgICBASWQKICAgIEBHZW5lcmF0ZWRWYWx1ZShzdHJh\ndGVneT1HZW5lcmF0aW9uVHlwZS5UQUJMRSwgZ2VuZXJhdG9yPSJhY2NvdW50\nSWRHZW4iKQogICAgQENvbHVtbihuYW1lID0gIkFDQ09VTlRJRCIsIG51bGxh\nYmxlID0gZmFsc2UpCiAgICBwcml2YXRlIEludGVnZXIgYWNjb3VudElEOyAg\nICAgICAgICAgICAgLyogYWNjb3VudElEICovCiAgICAKICAgIEBDb2x1bW4o\nbmFtZSA9ICJMT0dJTkNPVU5UIiwgbnVsbGFibGUgPSBmYWxzZSkKICAgIHBy\naXZhdGUgaW50IGxvZ2luQ291bnQ7ICAgICAgICAgICAgICAgICAvKiBsb2dp\nbkNvdW50ICovCiAgICAKICAgIEBDb2x1bW4obmFtZSA9ICJMT0dPVVRDT1VO\nVCIsIG51bGxhYmxlID0gZmFsc2UpCiAgICBwcml2YXRlIGludCBsb2dvdXRD\nb3VudDsgICAgICAgICAgICAgICAgLyogbG9nb3V0Q291bnQgKi8KICAgIAog\nICAgQENvbHVtbihuYW1lID0gIkxBU1RMT0dJTiIpCiAgICBAVGVtcG9yYWwo\nVGVtcG9yYWxUeXBlLlRJTUVTVEFNUCkKICAgIHByaXZhdGUgRGF0ZSBsYXN0\nTG9naW47ICAgICAgICAgICAgICAgICAvKiBsYXN0TG9naW4gRGF0ZSAqLwog\nICAgCiAgICBAQ29sdW1uKG5hbWUgPSAiQ1JFQVRJT05EQVRFIikKICAgIEBU\nZW1wb3JhbChUZW1wb3JhbFR5cGUuVElNRVNUQU1QKQogICAgcHJpdmF0ZSBE\nYXRlIGNyZWF0aW9uRGF0ZTsgICAgICAgICAgICAgIC8qIGNyZWF0aW9uRGF0\nZSAqLwogICAgCiAgICBAQ29sdW1uKG5hbWUgPSAiQkFMQU5DRSIpCiAgICBw\ncml2YXRlIEJpZ0RlY2ltYWwgYmFsYW5jZTsgICAgICAgICAgICAgLyogYmFs\nYW5jZSAqLwogICAgCiAgICBAQ29sdW1uKG5hbWUgPSAiT1BFTkJBTEFOQ0Ui\nKQogICAgcHJpdmF0ZSBCaWdEZWNpbWFsIG9wZW5CYWxhbmNlOyAgICAgICAg\nIC8qIG9wZW4gYmFsYW5jZSAqLwogICAgCiAgICBAT25lVG9NYW55KG1hcHBl\nZEJ5ID0gImFjY291bnQiLCBmZXRjaD1GZXRjaFR5cGUuTEFaWSkKICAgIHBy\naXZhdGUgQ29sbGVjdGlvbjxPcmRlckRhdGFCZWFuPiBvcmRlcnM7CiAgICAK\nICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSAiYWNjb3VudCIsIGZldGNoPUZl\ndGNoVHlwZS5MQVpZKQogICAgcHJpdmF0ZSBDb2xsZWN0aW9uPEhvbGRpbmdE\nYXRhQmVhbj4gaG9sZGluZ3M7CiAgICAKICAgIEBPbmVUb09uZShmZXRjaD1G\nZXRjaFR5cGUuTEFaWSkKICAgIEBKb2luQ29sdW1uKG5hbWU9IlBST0ZJTEVf\nVVNFUklEIikKICAgIHByaXZhdGUgQWNjb3VudFByb2ZpbGVEYXRhQmVhbiBw\ncm9maWxlOwoKLy8gICAgQFZlcnNpb24KLy8gICAgcHJpdmF0ZSBJbnRlZ2Vy\nIG9wdExvY2s7CgogICAgLyogQWNjZXNzb3IgbWV0aG9kcyBmb3IgcmVsYXRp\nb25zaGlwIGZpZWxkcyBhcmUgb25seSBpbmNsdWRlZCBmb3IgdGhlIEFjY291\nbnRQcm9maWxlIHByb2ZpbGVJRCAqLwogICAgQFRyYW5zaWVudAogICAgcHJp\ndmF0ZSBTdHJpbmcgcHJvZmlsZUlEOwoKICAgIHB1YmxpYyBBY2NvdW50RGF0\nYUJlYW4oKSB7CiAgICB9CgogICAgcHVibGljIEFjY291bnREYXRhQmVhbihJ\nbnRlZ2VyIGFjY291bnRJRCwKICAgICAgICAgICAgaW50IGxvZ2luQ291bnQs\nCiAgICAgICAgICAgIGludCBsb2dvdXRDb3VudCwKICAgICAgICAgICAgRGF0\nZSBsYXN0TG9naW4sCiAgICAgICAgICAgIERhdGUgY3JlYXRpb25EYXRlLAog\nICAgICAgICAgICBCaWdEZWNpbWFsIGJhbGFuY2UsCiAgICAgICAgICAgIEJp\nZ0RlY2ltYWwgb3BlbkJhbGFuY2UsCiAgICAgICAgICAgIFN0cmluZyBwcm9m\naWxlSUQpIHsKICAgICAgICBzZXRBY2NvdW50SUQoYWNjb3VudElEKTsKICAg\nICAgICBzZXRMb2dpbkNvdW50KGxvZ2luQ291bnQpOwogICAgICAgIHNldExv\nZ291dENvdW50KGxvZ291dENvdW50KTsKICAgICAgICBzZXRMYXN0TG9naW4o\nbGFzdExvZ2luKTsKICAgICAgICBzZXRDcmVhdGlvbkRhdGUoY3JlYXRpb25E\nYXRlKTsKICAgICAgICBzZXRCYWxhbmNlKGJhbGFuY2UpOwogICAgICAgIHNl\ndE9wZW5CYWxhbmNlKG9wZW5CYWxhbmNlKTsKICAgICAgICBzZXRQcm9maWxl\nSUQocHJvZmlsZUlEKTsKICAgIH0KCiAgICBwdWJsaWMgQWNjb3VudERhdGFC\nZWFuKGludCBsb2dpbkNvdW50LAogICAgICAgICAgICBpbnQgbG9nb3V0Q291\nbnQsCiAgICAgICAgICAgIERhdGUgbGFzdExvZ2luLAogICAgICAgICAgICBE\nYXRlIGNyZWF0aW9uRGF0ZSwKICAgICAgICAgICAgQmlnRGVjaW1hbCBiYWxh\nbmNlLAogICAgICAgICAgICBCaWdEZWNpbWFsIG9wZW5CYWxhbmNlLAogICAg\nICAgICAgICBTdHJpbmcgcHJvZmlsZUlEKSB7CiAgICAgICAgc2V0TG9naW5D\nb3VudChsb2dpbkNvdW50KTsKICAgICAgICBzZXRMb2dvdXRDb3VudChsb2dv\ndXRDb3VudCk7CiAgICAgICAgc2V0TGFzdExvZ2luKGxhc3RMb2dpbik7CiAg\nICAgICAgc2V0Q3JlYXRpb25EYXRlKGNyZWF0aW9uRGF0ZSk7CiAgICAgICAg\nc2V0QmFsYW5jZShiYWxhbmNlKTsKICAgICAgICBzZXRPcGVuQmFsYW5jZShv\ncGVuQmFsYW5jZSk7CiAgICAgICAgc2V0UHJvZmlsZUlEKHByb2ZpbGVJRCk7\nCiAgICB9CgogICAgcHVibGljIHN0YXRpYyBBY2NvdW50RGF0YUJlYW4gZ2V0\nUmFuZG9tSW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBY2NvdW50\nRGF0YUJlYW4obmV3IEludGVnZXIoVHJhZGVDb25maWcucm5kSW50KDEwMDAw\nMCkpLCAvL2FjY291bnRJRAogICAgICAgICAgICAgICAgVHJhZGVDb25maWcu\ncm5kSW50KDEwMDAwKSwgLy9sb2dpbkNvdW50CiAgICAgICAgICAgICAgICBU\ncmFkZUNvbmZpZy5ybmRJbnQoMTAwMDApLCAvL2xvZ291dENvdW50CiAgICAg\nICAgICAgICAgICBuZXcgamF2YS51dGlsLkRhdGUoKSwgLy9sYXN0TG9naW4K\nICAgICAgICAgICAgICAgIG5ldyBqYXZhLnV0aWwuRGF0ZShUcmFkZUNvbmZp\nZy5ybmRJbnQoSW50ZWdlci5NQVhfVkFMVUUpKSwgLy9jcmVhdGlvbkRhdGUK\nICAgICAgICAgICAgICAgIFRyYWRlQ29uZmlnLnJuZEJpZ0RlY2ltYWwoMTAw\nMDAwMC4wZiksIC8vYmFsYW5jZQogICAgICAgICAgICAgICAgVHJhZGVDb25m\naWcucm5kQmlnRGVjaW1hbCgxMDAwMDAwLjBmKSwgLy9vcGVuQmFsYW5jZQog\nICAgICAgICAgICAgICAgVHJhZGVDb25maWcucm5kVXNlcklEKCkgLy9wcm9m\naWxlSUQKICAgICAgICApOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgdG9T\ndHJpbmcoKSB7CiAgICAgICAgcmV0dXJuICJcblx0QWNjb3VudCBEYXRhIGZv\nciBhY2NvdW50OiAiICsgZ2V0QWNjb3VudElEKCkKICAgICAgICAgICAgICAg\nICsgIlxuXHRcdCAgIGxvZ2luQ291bnQ6IiArIGdldExvZ2luQ291bnQoKQog\nICAgICAgICAgICAgICAgKyAiXG5cdFx0ICBsb2dvdXRDb3VudDoiICsgZ2V0\nTG9nb3V0Q291bnQoKQogICAgICAgICAgICAgICAgKyAiXG5cdFx0ICAgIGxh\nc3RMb2dpbjoiICsgZ2V0TGFzdExvZ2luKCkKICAgICAgICAgICAgICAgICsg\nIlxuXHRcdCBjcmVhdGlvbkRhdGU6IiArIGdldENyZWF0aW9uRGF0ZSgpCiAg\nICAgICAgICAgICAgICArICJcblx0XHQgICAgICBiYWxhbmNlOiIgKyBnZXRC\nYWxhbmNlKCkKICAgICAgICAgICAgICAgICsgIlxuXHRcdCAgb3BlbkJhbGFu\nY2U6IiArIGdldE9wZW5CYWxhbmNlKCkKICAgICAgICAgICAgICAgICsgIlxu\nXHRcdCAgICBwcm9maWxlSUQ6IiArIGdldFByb2ZpbGVJRCgpCiAgICAgICAg\nICAgICAgICA7CiAgICB9CgogICAgcHVibGljIFN0cmluZyB0b0hUTUwoKSB7\nCiAgICAgICAgcmV0dXJuICI8QlI+QWNjb3VudCBEYXRhIGZvciBhY2NvdW50\nOiA8Qj4iICsgZ2V0QWNjb3VudElEKCkgKyAiPC9CPiIKICAgICAgICAgICAg\nICAgICsgIjxMST4gICBsb2dpbkNvdW50OiIgKyBnZXRMb2dpbkNvdW50KCkg\nKyAiPC9MST4iCiAgICAgICAgICAgICAgICArICI8TEk+ICBsb2dvdXRDb3Vu\ndDoiICsgZ2V0TG9nb3V0Q291bnQoKSArICI8L0xJPiIKICAgICAgICAgICAg\nICAgICsgIjxMST4gICAgbGFzdExvZ2luOiIgKyBnZXRMYXN0TG9naW4oKSAr\nICI8L0xJPiIKICAgICAgICAgICAgICAgICsgIjxMST4gY3JlYXRpb25EYXRl\nOiIgKyBnZXRDcmVhdGlvbkRhdGUoKSArICI8L0xJPiIKICAgICAgICAgICAg\nICAgICsgIjxMST4gICAgICBiYWxhbmNlOiIgKyBnZXRCYWxhbmNlKCkgKyAi\nPC9MST4iCiAgICAgICAgICAgICAgICArICI8TEk+ICBvcGVuQmFsYW5jZToi\nICsgZ2V0T3BlbkJhbGFuY2UoKSArICI8L0xJPiIKICAgICAgICAgICAgICAg\nICsgIjxMST4gICAgcHJvZmlsZUlEOiIgKyBnZXRQcm9maWxlSUQoKSArICI8\nL0xJPiIKICAgICAgICAgICAgICAgIDsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBwcmludCgpIHsKICAgICAgICAvLyBMb2cubG9nKHRoaXMudG9TdHJpbmco\nKSk7CiAgICB9CgogICAgcHVibGljIEludGVnZXIgZ2V0QWNjb3VudElEKCkg\newogICAgICAgIHJldHVybiBhY2NvdW50SUQ7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0QWNjb3VudElEKEludGVnZXIgYWNjb3VudElEKSB7CiAgICAg\nICAgdGhpcy5hY2NvdW50SUQgPSBhY2NvdW50SUQ7CiAgICB9CgogICAgcHVi\nbGljIGludCBnZXRMb2dpbkNvdW50KCkgewogICAgICAgIHJldHVybiBsb2dp\nbkNvdW50OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExvZ2luQ291bnQo\naW50IGxvZ2luQ291bnQpIHsKICAgICAgICB0aGlzLmxvZ2luQ291bnQgPSBs\nb2dpbkNvdW50OwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0TG9nb3V0Q291\nbnQoKSB7CiAgICAgICAgcmV0dXJuIGxvZ291dENvdW50OwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldExvZ291dENvdW50KGludCBsb2dvdXRDb3VudCkg\newogICAgICAgIHRoaXMubG9nb3V0Q291bnQgPSBsb2dvdXRDb3VudDsKICAg\nIH0KCiAgICBwdWJsaWMgRGF0ZSBnZXRMYXN0TG9naW4oKSB7CiAgICAgICAg\ncmV0dXJuIGxhc3RMb2dpbjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRM\nYXN0TG9naW4oRGF0ZSBsYXN0TG9naW4pIHsKICAgICAgICB0aGlzLmxhc3RM\nb2dpbiA9IGxhc3RMb2dpbjsKICAgIH0KCiAgICBwdWJsaWMgRGF0ZSBnZXRD\ncmVhdGlvbkRhdGUoKSB7CiAgICAgICAgcmV0dXJuIGNyZWF0aW9uRGF0ZTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDcmVhdGlvbkRhdGUoRGF0ZSBj\ncmVhdGlvbkRhdGUpIHsKICAgICAgICB0aGlzLmNyZWF0aW9uRGF0ZSA9IGNy\nZWF0aW9uRGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgQmlnRGVjaW1hbCBnZXRC\nYWxhbmNlKCkgewogICAgICAgIHJldHVybiBiYWxhbmNlOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldEJhbGFuY2UoQmlnRGVjaW1hbCBiYWxhbmNlKSB7\nCiAgICAgICAgdGhpcy5iYWxhbmNlID0gYmFsYW5jZTsKICAgIH0KCiAgICBw\ndWJsaWMgQmlnRGVjaW1hbCBnZXRPcGVuQmFsYW5jZSgpIHsKICAgICAgICBy\nZXR1cm4gb3BlbkJhbGFuY2U7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nT3BlbkJhbGFuY2UoQmlnRGVjaW1hbCBvcGVuQmFsYW5jZSkgewogICAgICAg\nIHRoaXMub3BlbkJhbGFuY2UgPSBvcGVuQmFsYW5jZTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldFByb2ZpbGVJRCgpIHsKICAgICAgICByZXR1cm4g\ncHJvZmlsZUlEOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFByb2ZpbGVJ\nRChTdHJpbmcgcHJvZmlsZUlEKSB7CiAgICAgICAgdGhpcy5wcm9maWxlSUQg\nPSBwcm9maWxlSUQ7CiAgICB9CgogICAgLyogRGlzYWJsZWQgZm9yIEQxODUy\nNzMKICAgICBwdWJsaWMgU3RyaW5nIGdldFVzZXJJRCgpIHsKICAgICAgICAg\ncmV0dXJuIGdldFByb2ZpbGVJRCgpOwogICAgIH0KICAgICAqLwoKICAgIHB1\nYmxpYyBDb2xsZWN0aW9uPE9yZGVyRGF0YUJlYW4+IGdldE9yZGVycygpIHsK\nICAgICAgICByZXR1cm4gb3JkZXJzOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldE9yZGVycyhDb2xsZWN0aW9uPE9yZGVyRGF0YUJlYW4+IG9yZGVycykg\newogICAgICAgIHRoaXMub3JkZXJzID0gb3JkZXJzOwogICAgfQogICAgCiAg\nICBwdWJsaWMgQ29sbGVjdGlvbjxIb2xkaW5nRGF0YUJlYW4+IGdldEhvbGRp\nbmdzKCkgewogICAgICAgIHJldHVybiBob2xkaW5nczsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRIb2xkaW5ncyhDb2xsZWN0aW9uPEhvbGRpbmdEYXRh\nQmVhbj4gaG9sZGluZ3MpIHsKICAgICAgICB0aGlzLmhvbGRpbmdzID0gaG9s\nZGluZ3M7CiAgICB9CgogICAgcHVibGljIEFjY291bnRQcm9maWxlRGF0YUJl\nYW4gZ2V0UHJvZmlsZSgpIHsKICAgICAgICByZXR1cm4gcHJvZmlsZTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRQcm9maWxlKEFjY291bnRQcm9maWxl\nRGF0YUJlYW4gcHJvZmlsZSkgewogICAgICAgIHRoaXMucHJvZmlsZSA9IHBy\nb2ZpbGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgbG9naW4oU3RyaW5nIHBh\nc3N3b3JkKSB7CiAgICAgICAgQWNjb3VudFByb2ZpbGVEYXRhQmVhbiBwcm9m\naWxlID0gZ2V0UHJvZmlsZSgpOwogICAgICAgIGlmICgocHJvZmlsZSA9PSBu\ndWxsKSB8fCAocHJvZmlsZS5nZXRQYXNzd29yZCgpLmVxdWFscyhwYXNzd29y\nZCkgPT0gZmFsc2UpKSB7CiAgICAgICAgICAgIFN0cmluZyBlcnJvciA9ICJB\nY2NvdW50QmVhbjpMb2dpbiBmYWlsdXJlIGZvciBhY2NvdW50OiAiICsgZ2V0\nQWNjb3VudElEKCkgKwogICAgICAgICAgICAgICAgICAgICgocHJvZmlsZSA9\nPSBudWxsKSA/ICJudWxsIEFjY291bnRQcm9maWxlIiA6CiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAiXG5cdEluY29ycmVjdCBwYXNzd29yZC0tPiIg\nKyBwcm9maWxlLmdldFVzZXJJRCgpICsgIjoiICsgcHJvZmlsZS5nZXRQYXNz\nd29yZCgpKTsKICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRp\nb24oZXJyb3IpOwogICAgICAgICAgICAKICAgICAgICB9CgogICAgICAgIHNl\ndExhc3RMb2dpbihuZXcgVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1p\nbGxpcygpKSk7CiAgICAgICAgc2V0TG9naW5Db3VudChnZXRMb2dpbkNvdW50\nKCkgKyAxKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBsb2dvdXQoKSB7CiAg\nICAgICAgc2V0TG9nb3V0Q291bnQoZ2V0TG9nb3V0Q291bnQoKSArIDEpOwog\nICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIGludCBoYXNoQ29kZSgp\nIHsKICAgICAgICBpbnQgaGFzaCA9IDA7CiAgICAgICAgaGFzaCArPSAodGhp\ncy5hY2NvdW50SUQgIT0gbnVsbCA/IHRoaXMuYWNjb3VudElELmhhc2hDb2Rl\nKCkgOiAwKTsKICAgICAgICByZXR1cm4gaGFzaDsKICAgIH0KCiAgICBAT3Zl\ncnJpZGUKICAgIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb2JqZWN0\nKSB7CiAgICAgICAgLy8gVE9ETzogV2FybmluZyAtIHRoaXMgbWV0aG9kIHdv\nbid0IHdvcmsgaW4gdGhlIGNhc2UgdGhlIGlkIGZpZWxkcyBhcmUgbm90IHNl\ndAogICAgICAgIGlmICghKG9iamVjdCBpbnN0YW5jZW9mIEFjY291bnREYXRh\nQmVhbikpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0K\nICAgICAgICBBY2NvdW50RGF0YUJlYW4gb3RoZXIgPSAoQWNjb3VudERhdGFC\nZWFuKW9iamVjdDsKICAgICAgICBpZiAodGhpcy5hY2NvdW50SUQgIT0gb3Ro\nZXIuYWNjb3VudElEICYmICh0aGlzLmFjY291bnRJRCA9PSBudWxsIHx8ICF0\naGlzLmFjY291bnRJRC5lcXVhbHMob3RoZXIuYWNjb3VudElEKSkpIHJldHVy\nbiBmYWxzZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQo=\n","encoding":"base64"}

