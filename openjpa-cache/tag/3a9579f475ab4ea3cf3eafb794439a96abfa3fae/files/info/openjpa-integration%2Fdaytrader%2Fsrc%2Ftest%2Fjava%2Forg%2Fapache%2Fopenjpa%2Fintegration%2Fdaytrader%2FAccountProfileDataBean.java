{"sha":"cb008fc9f6fcd76602f10706228779ecca523c65","node_id":"MDQ6QmxvYjIwNjM2NDpjYjAwOGZjOWY2ZmNkNzY2MDJmMTA3MDYyMjg3NzllY2NhNTIzYzY1","size":6656,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cb008fc9f6fcd76602f10706228779ecca523c65","content":"LyoqCiAqICBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5k\nYXRpb24gKEFTRikgdW5kZXIgb25lIG9yIG1vcmUKICogIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlz\ndHJpYnV0ZWQgd2l0aAogKiAgdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8gWW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAKICogICh0aGUgIkxpY2Vuc2Ui\nKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxp\nYW5jZSB3aXRoCiAqICB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5h\ncGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqICBVbmxlc3Mg\ncmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdy\naXRpbmcsIHNvZnR3YXJlCiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGlj\nZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiAg\nV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQs\nIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqICBTZWUgdGhlIExpY2Vu\nc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlz\nc2lvbnMgYW5kCiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4K\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLmludGVncmF0aW9uLmRh\neXRyYWRlcjsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5Db2x1bW47Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHk7CmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5GZXRjaFR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5JZDsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLk5hbWVkUXVlcmllczsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLk5hbWVkUXVlcnk7CmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5PbmVUb09uZTsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLlRhYmxlOwoKLy8gaW1wb3J0IG9yZy5hcGFjaGUuZ2Vyb25pbW8u\nc2FtcGxlcy5kYXl0cmFkZXIudXRpbC5Mb2c7Ci8vIGltcG9ydCBvcmcuYXBh\nY2hlLmdlcm9uaW1vLnNhbXBsZXMuZGF5dHJhZGVyLnV0aWwuVHJhZGVDb25m\naWc7CgpARW50aXR5KG5hbWUgPSAiYWNjb3VudHByb2ZpbGVlamIiKQpAVGFi\nbGUobmFtZSA9ICJhY2NvdW50cHJvZmlsZWVqYiIpCkBOYW1lZFF1ZXJpZXMo\nIHsKICAgICAgICBATmFtZWRRdWVyeShuYW1lID0gImFjY291bnRwcm9maWxl\nZWpiLmZpbmRCeUFkZHJlc3MiLCBxdWVyeSA9ICJTRUxFQ1QgYSBGUk9NIGFj\nY291bnRwcm9maWxlZWpiIGEgV0hFUkUgYS5hZGRyZXNzID0gOmFkZHJlc3Mi\nKSwKICAgICAgICBATmFtZWRRdWVyeShuYW1lID0gImFjY291bnRwcm9maWxl\nZWpiLmZpbmRCeVBhc3N3ZCIsIHF1ZXJ5ID0gIlNFTEVDVCBhIEZST00gYWNj\nb3VudHByb2ZpbGVlamIgYSBXSEVSRSBhLnBhc3N3ZCA9IDpwYXNzd2QiKSwK\nICAgICAgICBATmFtZWRRdWVyeShuYW1lID0gImFjY291bnRwcm9maWxlZWpi\nLmZpbmRCeVVzZXJpZCIsIHF1ZXJ5ID0gIlNFTEVDVCBhIEZST00gYWNjb3Vu\ndHByb2ZpbGVlamIgYSBXSEVSRSBhLnVzZXJJRCA9IDp1c2VyaWQiKSwKICAg\nICAgICBATmFtZWRRdWVyeShuYW1lID0gImFjY291bnRwcm9maWxlZWpiLmZp\nbmRCeUVtYWlsIiwgcXVlcnkgPSAiU0VMRUNUIGEgRlJPTSBhY2NvdW50cHJv\nZmlsZWVqYiBhIFdIRVJFIGEuZW1haWwgPSA6ZW1haWwiKSwKICAgICAgICBA\nTmFtZWRRdWVyeShuYW1lID0gImFjY291bnRwcm9maWxlZWpiLmZpbmRCeUNy\nZWRpdGNhcmQiLCBxdWVyeSA9ICJTRUxFQ1QgYSBGUk9NIGFjY291bnRwcm9m\naWxlZWpiIGEgV0hFUkUgYS5jcmVkaXRDYXJkID0gOmNyZWRpdGNhcmQiKSwK\nICAgICAgICBATmFtZWRRdWVyeShuYW1lID0gImFjY291bnRwcm9maWxlZWpi\nLmZpbmRCeUZ1bGxuYW1lIiwgcXVlcnkgPSAiU0VMRUNUIGEgRlJPTSBhY2Nv\ndW50cHJvZmlsZWVqYiBhIFdIRVJFIGEuZnVsbE5hbWUgPSA6ZnVsbG5hbWUi\nKQogICAgfSkKcHVibGljIGNsYXNzIEFjY291bnRQcm9maWxlRGF0YUJlYW4g\naW1wbGVtZW50cyBqYXZhLmlvLlNlcmlhbGl6YWJsZSB7CgogICAgcHJpdmF0\nZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gNDI0MzI0\nODI2NDE4NjYxMjEwNkw7CgogICAgLyogQWNjZXNzb3IgbWV0aG9kcyBmb3Ig\ncGVyc2lzdGVudCBmaWVsZHMgKi8KCiAgICBASWQKICAgIEBDb2x1bW4obmFt\nZSA9ICJVU0VSSUQiLCBudWxsYWJsZSA9IGZhbHNlKQogICAgcHJpdmF0ZSBT\ndHJpbmcgdXNlcklEOyAgICAgICAgICAgICAgLyogdXNlcklEICovCiAgICAK\nICAgIEBDb2x1bW4obmFtZSA9ICJQQVNTV0QiKQogICAgcHJpdmF0ZSBTdHJp\nbmcgcGFzc3dkOyAgICAgICAgICAgICAgLyogcGFzc3dvcmQgKi8KICAgIAog\nICAgQENvbHVtbihuYW1lID0gIkZVTExOQU1FIikKICAgIHByaXZhdGUgU3Ry\naW5nIGZ1bGxOYW1lOyAgICAgICAgICAgIC8qIGZ1bGxOYW1lICovCiAgICAK\nICAgIEBDb2x1bW4obmFtZSA9ICJBRERSRVNTIikKICAgIHByaXZhdGUgU3Ry\naW5nIGFkZHJlc3M7ICAgICAgICAgICAgIC8qIGFkZHJlc3MgKi8KICAgIAog\nICAgQENvbHVtbihuYW1lID0gIkVNQUlMIikKICAgIHByaXZhdGUgU3RyaW5n\nIGVtYWlsOyAgICAgICAgICAgICAgIC8qIGVtYWlsICovCiAgICAKICAgIEBD\nb2x1bW4obmFtZSA9ICJDUkVESVRDQVJEIikKICAgIHByaXZhdGUgU3RyaW5n\nIGNyZWRpdENhcmQ7ICAgICAgICAgIC8qIGNyZWRpdENhcmQgKi8KICAgIAog\nICAgQE9uZVRvT25lKG1hcHBlZEJ5PSJwcm9maWxlIiwgZmV0Y2g9RmV0Y2hU\neXBlLkxBWlkpCiAgICBwcml2YXRlIEFjY291bnREYXRhQmVhbiBhY2NvdW50\nOwoKLy8gICAgQFZlcnNpb24KLy8gICAgcHJpdmF0ZSBJbnRlZ2VyIG9wdExv\nY2s7CgogICAgcHVibGljIEFjY291bnRQcm9maWxlRGF0YUJlYW4oKSB7CiAg\nICB9CgogICAgcHVibGljIEFjY291bnRQcm9maWxlRGF0YUJlYW4oU3RyaW5n\nIHVzZXJJRCwKICAgICAgICAgICAgU3RyaW5nIHBhc3N3b3JkLAogICAgICAg\nICAgICBTdHJpbmcgZnVsbE5hbWUsCiAgICAgICAgICAgIFN0cmluZyBhZGRy\nZXNzLAogICAgICAgICAgICBTdHJpbmcgZW1haWwsCiAgICAgICAgICAgIFN0\ncmluZyBjcmVkaXRDYXJkKSB7CiAgICAgICAgc2V0VXNlcklEKHVzZXJJRCk7\nCiAgICAgICAgc2V0UGFzc3dvcmQocGFzc3dvcmQpOwogICAgICAgIHNldEZ1\nbGxOYW1lKGZ1bGxOYW1lKTsKICAgICAgICBzZXRBZGRyZXNzKGFkZHJlc3Mp\nOwogICAgICAgIHNldEVtYWlsKGVtYWlsKTsKICAgICAgICBzZXRDcmVkaXRD\nYXJkKGNyZWRpdENhcmQpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgQWNj\nb3VudFByb2ZpbGVEYXRhQmVhbiBnZXRSYW5kb21JbnN0YW5jZSgpIHsKICAg\nICAgICByZXR1cm4gbmV3IEFjY291bnRQcm9maWxlRGF0YUJlYW4oCiAgICAg\nICAgICAgICAgICBUcmFkZUNvbmZpZy5ybmRVc2VySUQoKSwgICAgICAgICAg\nICAgICAgICAgICAgICAvLyB1c2VySUQKICAgICAgICAgICAgICAgIFRyYWRl\nQ29uZmlnLnJuZFVzZXJJRCgpLCAgICAgICAgICAgICAgICAgICAgICAgIC8v\nIHBhc3N3ZAogICAgICAgICAgICAgICAgVHJhZGVDb25maWcucm5kRnVsbE5h\nbWUoKSwgICAgICAgICAgICAgICAgICAgICAgLy8gZnVsbG5hbWUKICAgICAg\nICAgICAgICAgIFRyYWRlQ29uZmlnLnJuZEFkZHJlc3MoKSwgICAgICAgICAg\nICAgICAgICAgICAgIC8vIGFkZHJlc3MKICAgICAgICAgICAgICAgIFRyYWRl\nQ29uZmlnLnJuZEVtYWlsKFRyYWRlQ29uZmlnLnJuZFVzZXJJRCgpKSwgIC8v\nZW1haWwKICAgICAgICAgICAgICAgIFRyYWRlQ29uZmlnLnJuZENyZWRpdENh\ncmQoKSAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWRpdENhcmQKICAgICAg\nICApOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAg\nICAgICAgcmV0dXJuICJcblx0QWNjb3VudCBQcm9maWxlIERhdGEgZm9yIHVz\nZXJJRDoiICsgZ2V0VXNlcklEKCkKICAgICAgICAgICAgICAgICsgIlxuXHRc\ndCAgIHBhc3N3ZDoiICsgZ2V0UGFzc3dvcmQoKQogICAgICAgICAgICAgICAg\nKyAiXG5cdFx0ICAgZnVsbE5hbWU6IiArIGdldEZ1bGxOYW1lKCkKICAgICAg\nICAgICAgICAgICsgIlxuXHRcdCAgICBhZGRyZXNzOiIgKyBnZXRBZGRyZXNz\nKCkKICAgICAgICAgICAgICAgICsgIlxuXHRcdCAgICAgIGVtYWlsOiIgKyBn\nZXRFbWFpbCgpCiAgICAgICAgICAgICAgICArICJcblx0XHQgY3JlZGl0Q2Fy\nZDoiICsgZ2V0Q3JlZGl0Q2FyZCgpCiAgICAgICAgICAgICAgICA7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyB0b0hUTUwoKSB7CiAgICAgICAgcmV0dXJu\nICI8QlI+QWNjb3VudCBQcm9maWxlIERhdGEgZm9yIHVzZXJJRDogPEI+IiAr\nIGdldFVzZXJJRCgpICsgIjwvQj4iCiAgICAgICAgICAgICAgICArICI8TEk+\nICAgcGFzc3dkOiIgKyBnZXRQYXNzd29yZCgpICsgIjwvTEk+IgogICAgICAg\nICAgICAgICAgKyAiPExJPiAgIGZ1bGxOYW1lOiIgKyBnZXRGdWxsTmFtZSgp\nICsgIjwvTEk+IgogICAgICAgICAgICAgICAgKyAiPExJPiAgICBhZGRyZXNz\nOiIgKyBnZXRBZGRyZXNzKCkgKyAiPC9MST4iCiAgICAgICAgICAgICAgICAr\nICI8TEk+ICAgICAgZW1haWw6IiArIGdldEVtYWlsKCkgKyAiPC9MST4iCiAg\nICAgICAgICAgICAgICArICI8TEk+IGNyZWRpdENhcmQ6IiArIGdldENyZWRp\ndENhcmQoKSArICI8L0xJPiIKICAgICAgICAgICAgICAgIDsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBwcmludCgpIHsKICAgICAgICAvLyBMb2cubG9nKHRo\naXMudG9TdHJpbmcoKSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRV\nc2VySUQoKSB7CiAgICAgICAgcmV0dXJuIHVzZXJJRDsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRVc2VySUQoU3RyaW5nIHVzZXJJRCkgewogICAgICAg\nIHRoaXMudXNlcklEID0gdXNlcklEOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0UGFzc3dvcmQoKSB7CiAgICAgICAgcmV0dXJuIHBhc3N3ZDsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dv\ncmQpIHsKICAgICAgICB0aGlzLnBhc3N3ZCA9IHBhc3N3b3JkOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0RnVsbE5hbWUoKSB7CiAgICAgICAgcmV0\ndXJuIGZ1bGxOYW1lOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZ1bGxO\nYW1lKFN0cmluZyBmdWxsTmFtZSkgewogICAgICAgIHRoaXMuZnVsbE5hbWUg\nPSBmdWxsTmFtZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEFkZHJl\nc3MoKSB7CiAgICAgICAgcmV0dXJuIGFkZHJlc3M7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0QWRkcmVzcyhTdHJpbmcgYWRkcmVzcykgewogICAgICAg\nIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRFbWFpbCgpIHsKICAgICAgICByZXR1cm4gZW1haWw7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0RW1haWwoU3RyaW5nIGVtYWlsKSB7CiAg\nICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0Q3JlZGl0Q2FyZCgpIHsKICAgICAgICByZXR1cm4gY3JlZGl0\nQ2FyZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDcmVkaXRDYXJkKFN0\ncmluZyBjcmVkaXRDYXJkKSB7CiAgICAgICAgdGhpcy5jcmVkaXRDYXJkID0g\nY3JlZGl0Q2FyZDsKICAgIH0KCiAgICBwdWJsaWMgQWNjb3VudERhdGFCZWFu\nIGdldEFjY291bnQoKSB7CiAgICAgICAgcmV0dXJuIGFjY291bnQ7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0QWNjb3VudChBY2NvdW50RGF0YUJlYW4g\nYWNjb3VudCkgewogICAgICAgIHRoaXMuYWNjb3VudCA9IGFjY291bnQ7CiAg\nICB9CiAgICAKICAgIEBPdmVycmlkZQogICAgcHVibGljIGludCBoYXNoQ29k\nZSgpIHsKICAgICAgICBpbnQgaGFzaCA9IDA7CiAgICAgICAgaGFzaCArPSAo\ndGhpcy51c2VySUQgIT0gbnVsbCA/IHRoaXMudXNlcklELmhhc2hDb2RlKCkg\nOiAwKTsKICAgICAgICByZXR1cm4gaGFzaDsKICAgIH0KCiAgICBAT3ZlcnJp\nZGUKICAgIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb2JqZWN0KSB7\nCiAgICAgICAgLy8gVE9ETzogV2FybmluZyAtIHRoaXMgbWV0aG9kIHdvbid0\nIHdvcmsgaW4gdGhlIGNhc2UgdGhlIGlkIGZpZWxkcyBhcmUgbm90IHNldAog\nICAgICAgIGlmICghKG9iamVjdCBpbnN0YW5jZW9mIEFjY291bnRQcm9maWxl\nRGF0YUJlYW4pKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAg\nICB9CiAgICAgICAgQWNjb3VudFByb2ZpbGVEYXRhQmVhbiBvdGhlciA9IChB\nY2NvdW50UHJvZmlsZURhdGFCZWFuKW9iamVjdDsKICAgICAgICBpZiAodGhp\ncy51c2VySUQgIT0gb3RoZXIudXNlcklEICYmICh0aGlzLnVzZXJJRCA9PSBu\ndWxsIHx8ICF0aGlzLnVzZXJJRC5lcXVhbHMob3RoZXIudXNlcklEKSkpIHJl\ndHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQo=\n","encoding":"base64"}

