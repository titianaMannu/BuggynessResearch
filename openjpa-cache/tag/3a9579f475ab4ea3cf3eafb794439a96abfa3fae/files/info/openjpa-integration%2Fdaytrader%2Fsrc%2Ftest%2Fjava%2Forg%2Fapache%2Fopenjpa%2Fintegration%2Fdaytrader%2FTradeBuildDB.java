{"sha":"2bf3fff90537f4812ec22226d7974bfc71857f32","node_id":"MDQ6QmxvYjIwNjM2NDoyYmYzZmZmOTA1MzdmNDgxMmVjMjIyMjZkNzk3NGJmYzcxODU3ZjMy","size":5276,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2bf3fff90537f4812ec22226d7974bfc71857f32","content":"LyoqCiAqICBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5k\nYXRpb24gKEFTRikgdW5kZXIgb25lIG9yIG1vcmUKICogIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlz\ndHJpYnV0ZWQgd2l0aAogKiAgdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8gWW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAKICogICh0aGUgIkxpY2Vuc2Ui\nKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxp\nYW5jZSB3aXRoCiAqICB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5h\ncGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqICBVbmxlc3Mg\ncmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdy\naXRpbmcsIHNvZnR3YXJlCiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGlj\nZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiAg\nV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQs\nIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqICBTZWUgdGhlIExpY2Vu\nc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlz\nc2lvbnMgYW5kCiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4K\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLmludGVncmF0aW9uLmRh\neXRyYWRlcjsKCmltcG9ydCBqYXZhLmlvLkJ1ZmZlcmVkUmVhZGVyOwppbXBv\ncnQgamF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5GaWxlUmVhZGVyOwpp\nbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKaW1wb3J0IGphdmEubWF0aC5C\naWdEZWNpbWFsOwppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKCmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsKCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmxvZy5Mb2c7CgovLyBpbXBv\ncnQgb3JnLmFwYWNoZS5nZXJvbmltby5zYW1wbGVzLmRheXRyYWRlci5jb3Jl\nLio7Ci8vIGltcG9ydCBvcmcuYXBhY2hlLmdlcm9uaW1vLnNhbXBsZXMuZGF5\ndHJhZGVyLmNvcmUuZGlyZWN0Lio7Ci8vIGltcG9ydCBvcmcuYXBhY2hlLmdl\ncm9uaW1vLnNhbXBsZXMuZGF5dHJhZGVyLmJlYW5zLio7Ci8vIGltcG9ydCBv\ncmcuYXBhY2hlLmdlcm9uaW1vLnNhbXBsZXMuZGF5dHJhZGVyLnV0aWwuKjsK\nCi8qKgogKiBUcmFkZUJ1aWxkREIgdXNlcyBvcGVyYXRpb25zIHByb3ZpZGVk\nIGJ5IHRoZSBUcmFkZUFwcGxpY2F0aW9uIHRvIAogKiAgIChhKSBjcmVhdGUg\ndGhlIERhdGFiYXNlIHRhYmxlcyAKICogICAoYikgcG9wdWxhdGUgYSBEYXlU\ncmFkZXIgZGF0YWJhc2Ugd2l0aG91dCBjcmVhdGluZyB0aGUgdGFibGVzLiAK\nICogU3BlY2lmaWNhbGx5LCBhIG5ldyBEYXlUcmFkZXIgVXNlciBwb3B1bGF0\naW9uIGlzIGNyZWF0ZWQgdXNpbmcKICogVXNlcklEcyBvZiB0aGUgZm9ybSAi\ndWlkOnh4eCIgd2hlcmUgeHh4IGlzIGEgc2VxdWVudGlhbCBudW1iZXIgCiAq\nIChlLmcuIHVpZDowLCB1aWQ6MSwgZXRjLikuIE5ldyBzdG9ja3MgYXJlIGFs\nc28gY3JlYXRlZCBvZiB0aGUgZm9ybSAiczp4eHgiLAogKiBhZ2FpbiB3aGVy\nZSB4eHggcmVwcmVzZW50cyBzZXF1ZW50aWFsIG51bWJlcnMgKGUuZy4gczox\nLCBzOjIsIGV0Yy4pCiAqLwpwdWJsaWMgY2xhc3MgVHJhZGVCdWlsZERCIHsK\nCiAgICBwcml2YXRlIFRyYWRlQ29uZmlnIHRDZmcgPSBuZXcgVHJhZGVDb25m\naWcoKTsKICAgIHByaXZhdGUgVHJhZGVKUEFEaXJlY3QgdHJhZGUgPSBudWxs\nOwogICAgcHJpdmF0ZSBMb2cgbG9nID0gbnVsbDsKCiAgICAvKioKICAgICAq\nIFJlLWNyZWF0ZSB0aGUgRGF5VHJhZGVyIGRiIHRhYmxlcyBhbmQgcG9wdWxh\ndGUgdGhlbSBPUiBqdXN0IHBvcHVsYXRlIGEgCiAgICAgKiBEYXlUcmFkZXIg\nREIsIGxvZ2dpbmcgdG8gdGhlIHByb3ZpZGVkIG91dHB1dCBzdHJlYW0KICAg\nICAqLwogICAgcHVibGljIFRyYWRlQnVpbGREQihMb2cgbG9nLCBFbnRpdHlN\nYW5hZ2VyRmFjdG9yeSBlbWYpIHRocm93cyBFeGNlcHRpb24gewogICAgICAg\nIHRoaXMubG9nID0gbG9nOwogICAgICAgIC8vIHVwZGF0ZSBjb25maWcKICAg\nICAgICB0Q2ZnLnNldFJ1blRpbWVNb2RlKFRyYWRlQ29uZmlnLkpQQSk7CiAg\nICAgICAgdENmZy5zZXRMb2cobG9nKTsKICAgICAgICAKICAgICAgICAvLyBh\nbHdheXMgdXNlIFRyYWRlSlBBRGlyZWN0IG1vZGUKICAgICAgICB0cmFkZSA9\nIG5ldyBUcmFkZUpQQURpcmVjdChsb2csIGVtZik7CgogICAgICAgIC8vIHJl\nbW92ZWQgLSBjcmVhdGVEQlRhYmxlcwoKICAgICAgICAvLyByZW1vdmVkIC0g\nQXR0ZW1wdCB0byBkZWxldGUgYWxsIG9mIHRoZSBUcmFkZSB1c2VycyBhbmQg\nVHJhZGUgUXVvdGVzIGZpcnN0CiAgICAgICAgCiAgICAgICAgLy8gY3JlYXRl\nIE1BWF9RVU9URVMKICAgICAgICBjcmVhdGVRdW90ZXMoKTsKCiAgICAgICAg\nLy8gY3JlYXRlIE1BWF9VU0VSUwogICAgICAgIGNyZWF0ZUFjY291bnRzKCk7\nCiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGNyZWF0ZVF1b3RlcygpIHsKICAg\nICAgICBpbnQgZXJyb3JDb3VudCA9IDA7CiAgICAgICAgU3RyaW5nIHN5bWJv\nbCwgY29tcGFueU5hbWU7CiAgICAgICAgbG9nLmluZm8oIlRyYWRlQnVpbGRE\nQi5jcmVhdGVRdW90ZXMoIiArIFRyYWRlQ29uZmlnLmdldE1BWF9RVU9URVMo\nKSArICIpIik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBUcmFkZUNv\nbmZpZy5nZXRNQVhfUVVPVEVTKCk7IGkrKykgewogICAgICAgICAgICBzeW1i\nb2wgPSAiczoiICsgaTsKICAgICAgICAgICAgY29tcGFueU5hbWUgPSAiUyIg\nKyBpICsgIiBJbmNvcnBvcmF0ZWQiOwogICAgICAgICAgICB0cnkgewogICAg\nICAgICAgICAgICAgUXVvdGVEYXRhQmVhbiBxdW90ZURhdGEgPSB0cmFkZS5j\ncmVhdGVRdW90ZShzeW1ib2wsIGNvbXBhbnlOYW1lLAogICAgICAgICAgICAg\nICAgICAgIG5ldyBqYXZhLm1hdGguQmlnRGVjaW1hbChUcmFkZUNvbmZpZy5y\nbmRQcmljZSgpKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBl\nKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3JDb3VudCsrID49IDEwKSB7\nCiAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKCJjcmVhdGVRdW90ZXMg\nLSBhYm9ydGluZyBhZnRlciAxMCBjcmVhdGUgcXVvdGUgZXJyb3JzIiwgZSk7\nCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRp\nb24oZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAg\nICB9CgogICAgfQogICAgCiAgICBwcml2YXRlIHZvaWQgY3JlYXRlQWNjb3Vu\ndHMoKSB7CiAgICAgICAgbG9nLmluZm8oIlRyYWRlQnVpbGREQi5jcmVhdGVB\nY2NvdW50cygiICsgVHJhZGVDb25maWcuZ2V0TUFYX1VTRVJTKCkgKyAiKSIp\nOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgVHJhZGVDb25maWcuZ2V0\nTUFYX1VTRVJTKCk7IGkrKykgewogICAgICAgICAgICBTdHJpbmcgdXNlcklE\nID0gInVpZDoiICsgaTsKICAgICAgICAgICAgU3RyaW5nIGZ1bGxuYW1lID0g\nVHJhZGVDb25maWcucm5kRnVsbE5hbWUoKTsKICAgICAgICAgICAgU3RyaW5n\nIGVtYWlsID0gVHJhZGVDb25maWcucm5kRW1haWwodXNlcklEKTsKICAgICAg\nICAgICAgU3RyaW5nIGFkZHJlc3MgPSBUcmFkZUNvbmZpZy5ybmRBZGRyZXNz\nKCk7CiAgICAgICAgICAgIFN0cmluZyBjcmVkaXRjYXJkID0gVHJhZGVDb25m\naWcucm5kQ3JlZGl0Q2FyZCgpOwogICAgICAgICAgICBkb3VibGUgaW5pdGlh\nbEJhbGFuY2UgPSAoZG91YmxlKSAoVHJhZGVDb25maWcucm5kSW50KDEwMDAw\nMCkpICsgMjAwMDAwOwogICAgICAgICAgICBpZiAoaSA9PSAwKSB7CiAgICAg\nICAgICAgICAgICBpbml0aWFsQmFsYW5jZSA9IDEwMDAwMDA7IC8vIHVpZDow\nIHN0YXJ0cyB3aXRoIGEgY29vbCBtaWxsaW9uLgogICAgICAgICAgICB9CiAg\nICAgICAgICAgIAogICAgICAgICAgICBBY2NvdW50RGF0YUJlYW4gYWNjb3Vu\ndERhdGEgPSB0cmFkZS5yZWdpc3Rlcih1c2VySUQsICJ4eHgiLCBmdWxsbmFt\nZSwgYWRkcmVzcywKICAgICAgICAgICAgICAgIGVtYWlsLCBjcmVkaXRjYXJk\nLCBuZXcgQmlnRGVjaW1hbChpbml0aWFsQmFsYW5jZSkpOwoKICAgICAgICAg\nICAgU3RyaW5nIHN5bWJvbDsKICAgICAgICAgICAgaWYgKGFjY291bnREYXRh\nICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIC8vIDAtTUFYX0hPTERJTkcg\nKGluY2x1c2l2ZSksIGF2ZyBob2xkaW5ncyBwZXIgdXNlciA9IChNQVgtMCkv\nMgogICAgICAgICAgICAgICAgLy8gaW50IGhvbGRpbmdzID0gVHJhZGVDb25m\naWcucm5kSW50KFRyYWRlQ29uZmlnLmdldE1BWF9IT0xESU5HUygpICsgMSk7\nCiAgICAgICAgICAgICAgICBpbnQgaG9sZGluZ3MgPSBUcmFkZUNvbmZpZy5n\nZXRNQVhfSE9MRElOR1MoKTsKICAgICAgICAgICAgICAgIGRvdWJsZSBxdWFu\ndGl0eSA9IDA7CiAgICAgICAgICAgICAgICBPcmRlckRhdGFCZWFuIG9yZGVy\nRGF0YSA9IG51bGw7CiAgICAgICAgICAgICAgICBmb3IgKGludCBqID0gMDsg\naiA8IGhvbGRpbmdzOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBzeW1i\nb2wgPSBUcmFkZUNvbmZpZy5ybmRTeW1ib2woKTsKICAgICAgICAgICAgICAg\nICAgICBxdWFudGl0eSA9IFRyYWRlQ29uZmlnLnJuZFF1YW50aXR5KCk7CiAg\nICAgICAgICAgICAgICAgICAgb3JkZXJEYXRhID0gdHJhZGUuYnV5KHVzZXJJ\nRCwgc3ltYm9sLCBxdWFudGl0eSwgVHJhZGVDb25maWcub3JkZXJQcm9jZXNz\naW5nTW9kZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBp\nZiAobG9nLmlzVHJhY2VFbmFibGVkKCkpIHsKICAgICAgICAgICAgICAgICAg\nICBsb2cudHJhY2UoImNyZWF0ZUFjY291bnRzIC0gY3JlYXRlZCAiICsgaG9s\nZGluZ3MgKyAiIGZvciB1c2VySUQ9IiArIHVzZXJJRCArICIgb3JkZXI9IiAr\nIG9yZGVyRGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0g\nZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2Vw\ndGlvbigiY3JlYXRlQWNjb3VudHMgLSB1c2VySUQ9IiArIHVzZXJJRCArICIg\nYWxyZWFkeSByZWdpc3RlcmVkLiIpOwogICAgICAgICAgICB9CiAgICAgICAg\nfQogICAgfQoKfQo=\n","encoding":"base64"}

