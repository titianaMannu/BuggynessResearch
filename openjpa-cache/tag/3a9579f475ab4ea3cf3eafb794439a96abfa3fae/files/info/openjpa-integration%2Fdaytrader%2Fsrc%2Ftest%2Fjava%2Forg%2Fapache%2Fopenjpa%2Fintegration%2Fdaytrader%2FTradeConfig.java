{"sha":"99654e66fd5cc43d7af13c10b70502772695e1ec","node_id":"MDQ6QmxvYjIwNjM2NDo5OTY1NGU2NmZkNWNjNDNkN2FmMTNjMTBiNzA1MDI3NzI2OTVlMWVj","size":26094,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/99654e66fd5cc43d7af13c10b70502772695e1ec","content":"LyoqCiAqICBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5k\nYXRpb24gKEFTRikgdW5kZXIgb25lIG9yIG1vcmUKICogIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlz\ndHJpYnV0ZWQgd2l0aAogKiAgdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLgogKiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8gWW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAKICogICh0aGUgIkxpY2Vuc2Ui\nKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxp\nYW5jZSB3aXRoCiAqICB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5h\ncGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqICBVbmxlc3Mg\ncmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdy\naXRpbmcsIHNvZnR3YXJlCiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGlj\nZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiAg\nV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQs\nIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqICBTZWUgdGhlIExpY2Vu\nc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlz\nc2lvbnMgYW5kCiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4K\nICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLmludGVncmF0aW9uLmRh\neXRyYWRlcjsKCmltcG9ydCBqYXZhLm1hdGguQmlnRGVjaW1hbDsKaW1wb3J0\nIGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuUmFuZG9t\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxvZzsKCgov\nKioKICogVHJhZGVDb25maWcgaXMgYSBKYXZhQmVhbiBob2xkaW5nIGFsbCBj\nb25maWd1cmF0aW9uIGFuZCBydW50aW1lIHBhcmFtZXRlcnMgZm9yIHRoZSBU\ncmFkZSBhcHBsaWNhdGlvbgogKiBUcmFkZUNvbmZpZyBzZXRzIHJ1bnRpbWUg\ncGFyYW1ldGVycyBzdWNoIGFzIHRoZSBSdW5UaW1lTW9kZSAoRUpCMywgRElS\nRUNULCBTRVNTSU9OMywgSkRCQywgSlBBKQogKgogKi8KCnB1YmxpYyBjbGFz\ncyBUcmFkZUNvbmZpZyB7CgogICAgLy8gYWRkZWQgYnkgT3BlbkpQQQogICAg\ncHVibGljIHN0YXRpYyBMb2cgbG9nID0gbnVsbDsKICAgIAogICAgLyogVHJh\nZGUgUnVudGltZSBDb25maWd1cmF0aW9uIFBhcmFtZXRlcnMgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgaW50IFVOS05PV04gPSAtMTsKCiAgICAvKiBU\ncmFkZSBSdW50aW1lIE1vZGUgcGFyYW1ldGVycyAqLwogICAgcHVibGljIHN0\nYXRpYyBTdHJpbmdbXSBydW5UaW1lTW9kZU5hbWVzID0geyJGdWxsIEVKQjMi\nLCAiRGlyZWN0IChKREJDKSIsICJTZXNzaW9uIChFSkIzKSBUbyBEaXJlY3Qi\nLCAiV2ViIEpEQkMiLCAiV2ViIEpQQSJ9OwogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBpbnQgRUpCMyA9IDA7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGlu\ndCBESVJFQ1QgPSAxOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgU0VT\nU0lPTjMgPSAyOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgSkRCQyA9\nIDM7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBKUEEgPSA0OwogICAg\ncHVibGljIHN0YXRpYyBpbnQgcnVuVGltZU1vZGUgPSBKUEE7CgkKICAgIC8q\nIFRyYWRlIEpQQSBMYXllciBwYXJhbWV0ZXJzICovCglwdWJsaWMgc3RhdGlj\nIFN0cmluZ1tdIGpwYUxheWVyTmFtZXMgPSB7Ik9wZW5KUEEiLCAiSGliZXJu\nYXRlIn07CglwdWJsaWMgc3RhdGljIGZpbmFsIGludCBPUEVOSlBBID0gMDsK\nCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEhJQkVSTkFURSA9IDE7CglwdWJs\naWMgc3RhdGljIGludCBqcGFMYXllciA9IE9QRU5KUEE7CgoJcHVibGljIHN0\nYXRpYyBTdHJpbmdbXSBvcmRlclByb2Nlc3NpbmdNb2RlTmFtZXMgPQoJCXsg\nIlN5bmNocm9ub3VzIiwgIkFzeW5jaHJvbm91c18yLVBoYXNlIiB9OwoJcHVi\nbGljIHN0YXRpYyBmaW5hbCBpbnQgU1lOQ0ggPSAwOwoJcHVibGljIHN0YXRp\nYyBmaW5hbCBpbnQgQVNZTkNIXzJQSEFTRSA9IDE7CglwdWJsaWMgc3RhdGlj\nIGludCBvcmRlclByb2Nlc3NpbmdNb2RlID0gU1lOQ0g7CgoJcHVibGljIHN0\nYXRpYyBTdHJpbmdbXSBhY2Nlc3NNb2RlTmFtZXMgPSB7ICJTdGFuZGFyZCIs\nICJXZWJTZXJ2aWNlcyIgfTsKCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFNU\nQU5EQVJEID0gMDsKCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFdFQlNFUlZJ\nQ0VTID0gMTsKCXByaXZhdGUgc3RhdGljIGludCBhY2Nlc3NNb2RlID0gU1RB\nTkRBUkQ7CgoJLyogVHJhZGUgU2NlbmFyaW8gV29ya2xvYWQgcGFyYW1ldGVy\ncyAqLwoJcHVibGljIHN0YXRpYyBTdHJpbmdbXSB3b3JrbG9hZE1peE5hbWVz\nID0geyAiU3RhbmRhcmQiLCAiSGlnaC1Wb2x1bWUiLCB9OwoJcHVibGljIGZp\nbmFsIHN0YXRpYyBpbnQgU0NFTkFSSU9NSVhfU1RBTkRBUkQgPSAwOwoJcHVi\nbGljIGZpbmFsIHN0YXRpYyBpbnQgU0NFTkFSSU9NSVhfSElHSFZPTFVNRSA9\nIDE7CglwdWJsaWMgc3RhdGljIGludCB3b3JrbG9hZE1peCA9IFNDRU5BUklP\nTUlYX1NUQU5EQVJEOwoKCS8qIFRyYWRlIFdlYiBJbnRlcmZhY2UgcGFyYW1l\ndGVycyAqLwoJcHVibGljIHN0YXRpYyBTdHJpbmdbXSB3ZWJJbnRlcmZhY2VO\nYW1lcyA9IHsgIkpTUCIsICJKU1AtSW1hZ2VzIiB9OwoJcHVibGljIHN0YXRp\nYyBmaW5hbCBpbnQgSlNQID0gMDsKCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50\nIEpTUF9JbWFnZXMgPSAxOwoJcHVibGljIHN0YXRpYyBpbnQgd2ViSW50ZXJm\nYWNlID0gSlNQOwoKCS8qIFRyYWRlIENhY2hpbmcgVHlwZSBwYXJhbWV0ZXJz\nICovCglwdWJsaWMgc3RhdGljIFN0cmluZ1tdIGNhY2hpbmdUeXBlTmFtZXMg\nPSB7ICJEaXN0cmlidXRlZE1hcCIsICJDb21tYW5kIENhY2hpbmciLCAiTm8g\nQ2FjaGluZyIgfTsKCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IERJU1RSSUJV\nVEVETUFQID0gMDsKCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IENPTU1BTkRf\nQ0FDSElORyA9IDE7CglwdWJsaWMgc3RhdGljIGZpbmFsIGludCBOT19DQUNI\nSU5HID0gMjsKCXB1YmxpYyBzdGF0aWMgaW50IGNhY2hpbmdUeXBlID0gTk9f\nQ0FDSElORzsKCQoJLyogVHJhZGUgRGF0YWJhc2UgU2NhbGluZyBwYXJhbWV0\nZXJzKi8KCXByaXZhdGUgc3RhdGljIGludCBNQVhfVVNFUlMgPSA1MDA7Cglw\ncml2YXRlIHN0YXRpYyBpbnQgTUFYX1FVT1RFUyA9IDEwMDA7CgoJLyogVHJh\nZGUgRGF0YWJhc2Ugc3BlY2lmaWMgcGFyYW10ZXJzICovCglwdWJsaWMgc3Rh\ndGljIFN0cmluZyBKREJDX1VJRCA9IG51bGw7CglwdWJsaWMgc3RhdGljIFN0\ncmluZyBKREJDX1BXRCA9IG51bGw7CglwdWJsaWMgc3RhdGljIFN0cmluZyBE\nU19OQU1FID0gImphdmE6Y29tcC9lbnYvamRiYy9UcmFkZURhdGFTb3VyY2Ui\nOwoKCS8qVHJhZGUgU09BUCBzcGVjaWZpYyBwYXJhbWV0ZXJzICovCglwcml2\nYXRlIHN0YXRpYyBTdHJpbmcgU29hcFVSTCA9CgkJImh0dHA6Ly9sb2NhbGhv\nc3Q6ODA4MC9kYXl0cmFkZXIvc2VydmljZXMvVHJhZGVXU1NlcnZpY2VzIjsK\nCgkvKlRyYWRlIFhBIERhdGFzb3VyY2Ugc3BlY2lmaWMgcGFyYW1ldGVycyAq\nLwoJcHVibGljIHN0YXRpYyBib29sZWFuIEpEQkNEcml2ZXJOZWVkc0dsb2Jh\nbFRyYW5zYWN0aW9uID0gZmFsc2U7CgoJLyogVHJhZGUgQ29uZmlnIE1pc2Nl\nbGxhbmVvdXMgaXRtZXMgKi8KCXB1YmxpYyBzdGF0aWMgU3RyaW5nIERBVEFT\nT1VSQ0UgPSAiamF2YTpjb21wL2Vudi9qZGJjL1RyYWRlRGF0YVNvdXJjZSI7\nCglwdWJsaWMgc3RhdGljIGludCBLRVlCTE9DS1NJWkUgPSAxMDAwOwoJcHVi\nbGljIHN0YXRpYyBpbnQgUVVPVEVTX1BFUl9QQUdFID0gMTA7CglwdWJsaWMg\nc3RhdGljIGJvb2xlYW4gUk5EX1VTRVIgPSB0cnVlOwoJLy9wdWJsaWMgc3Rh\ndGljIGludAkJUk5EX1NFRUQgPSAwOwoJcHJpdmF0ZSBzdGF0aWMgaW50IE1B\nWF9IT0xESU5HUyA9IDEwOwoJcHJpdmF0ZSBzdGF0aWMgaW50IGNvdW50ID0g\nMDsKCXByaXZhdGUgc3RhdGljIE9iamVjdCB1c2VySURfY291bnRfc2VtYXBo\nb3JlID0gbmV3IE9iamVjdCgpOwoJcHJpdmF0ZSBzdGF0aWMgaW50IHVzZXJJ\nRF9jb3VudCA9IDA7Cglwcml2YXRlIHN0YXRpYyBTdHJpbmcgaG9zdE5hbWUg\nPSBudWxsOwoJcHJpdmF0ZSBzdGF0aWMgUmFuZG9tIHIwID0gbmV3IFJhbmRv\nbShTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7CgkvL3ByaXZhdGUgc3Rh\ndGljIFJhbmRvbSByMSA9IG5ldyBSYW5kb20oUk5EX1NFRUQpOwoJcHJpdmF0\nZSBzdGF0aWMgUmFuZG9tIHJhbmRvbU51bWJlckdlbmVyYXRvciA9IHIwOwoJ\ncHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgbmV3VXNlclByZWZpeCA9ICJy\ndToiOwoJcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgdmVyaWZ5UGVyY2VudCA9\nIDU7Cglwcml2YXRlIHN0YXRpYyBib29sZWFuIHRyYWNlID0gZmFsc2U7Cglw\ncml2YXRlIHN0YXRpYyBib29sZWFuIGFjdGlvblRyYWNlID0gZmFsc2U7Cglw\ncml2YXRlIHN0YXRpYyBib29sZWFuIHVwZGF0ZVF1b3RlUHJpY2VzID0gdHJ1\nZTsKCXByaXZhdGUgc3RhdGljIGludCBwcmltSXRlcmF0aW9ucyA9IDE7Cglw\ncml2YXRlIHN0YXRpYyBib29sZWFuIGxvbmdSdW4gPSB0cnVlOwoJcHJpdmF0\nZSBzdGF0aWMgYm9vbGVhbiBwdWJsaXNoUXVvdGVQcmljZUNoYW5nZSA9IGZh\nbHNlOwoJCgkvKioKCSAqICAgLTEgbWVhbnMgZXZlcnkgb3BlcmF0aW9uCgkg\nKiAgICAwIG1lYW5zIG5ldmVyIHBlcmZvcm0gYSBtYXJrZXQgc3VtbWFyeQoJ\nICogID4gMCBtZWFucyBudW1iZXIgb2Ygc2Vjb25kcyBiZXR3ZWVuIHN1bW1h\ncmllcy4gIFRoZXNlIHdpbGwgYmUKCSAqICAgICAgc3luY2hyb25pemVkIHNv\nIG9ubHkgb25lIHRyYW5zYWN0aW9uIGluIHRoaXMgcGVyaW9kIHdpbGwgY3Jl\nYXRlIGEgc3VtbWFyeSBhbmQgCgkgKiAgICAgIHdpbGwgY2FjaGUgaXRzIHJl\nc3VsdHMuCgkgKi8KCXByaXZhdGUgc3RhdGljIGludCAgbWFya2V0U3VtbWFy\neUludGVydmFsID0gMjA7CgoJLyoKCSAqIFBlbm55IHN0b2NrcyBpcyBhIHBy\nb2JsZW0gd2hlcmUgdGhlIHJhbmRvbSBwcmljZSBjaGFuZ2UgZmFjdG9yIGdl\ndHMgYSBzdG9jawoJICogZG93biB0byAkLjAxLiAgSW4gdGhpcyBjYXNlIHRy\nYWRlIGp1bXBzdGFydHMgdGhlIHByaWNlIGJhY2sgdG8gJDYuMDAgdG8KCSAq\nIGtlZXAgdGhlIG1hdGggaW50ZXJlc3RpbmcuCgkgKi8KCXB1YmxpYyBzdGF0\naWMgQmlnRGVjaW1hbCBQRU5OWV9TVE9DS19QUklDRTsKCXB1YmxpYyBzdGF0\naWMgQmlnRGVjaW1hbCBQRU5OWV9TVE9DS19SRUNPVkVSWV9NSVJBQ0xFX01V\nTFRJUExJRVI7CglzdGF0aWMgewoJCVBFTk5ZX1NUT0NLX1BSSUNFID0gbmV3\nIEJpZ0RlY2ltYWwoMC4wMSk7CgkJUEVOTllfU1RPQ0tfUFJJQ0UgPQoJCQlQ\nRU5OWV9TVE9DS19QUklDRS5zZXRTY2FsZSgyLCBCaWdEZWNpbWFsLlJPVU5E\nX0hBTEZfVVApOwoJCVBFTk5ZX1NUT0NLX1JFQ09WRVJZX01JUkFDTEVfTVVM\nVElQTElFUiA9IG5ldyBCaWdEZWNpbWFsKDYwMC4wKTsKCQlQRU5OWV9TVE9D\nS19SRUNPVkVSWV9NSVJBQ0xFX01VTFRJUExJRVIuc2V0U2NhbGUoCgkJCTIs\nCgkJCUJpZ0RlY2ltYWwuUk9VTkRfSEFMRl9VUCk7Cgl9CgoJLyogQ0pCIChE\nQVlUUkFERVItMjUpIC0gQWxzbyBuZWVkIHRvIGltcG9zZSBhIGNlaWxpbmcg\nb24gdGhlIHF1b3RlIHByaWNlIHRvIGVuc3VyZQoJICogcHJldmVudCBhY2Nv\ndW50IGFuZCBob2xkaW5nIGJhbGFuY2VzIGZyb20gZXhjZWVkaW5nIHRoZSBk\nYXRhYmFzZXMgZGVjaW1hbCBwcmVjaXNpb24uCgkgKiBBdCBzb21lIHBvaW50\nLCB0aGlzIG1heGltdW0gdmFsdWUgY2FuIGJlIHVzZWQgdG8gdHJpZ2dlciBh\nIHN0b2NrIHNwbGl0LgoJICovCgoJcHVibGljIHN0YXRpYyBCaWdEZWNpbWFs\nIE1BWElNVU1fU1RPQ0tfUFJJQ0U7CglwdWJsaWMgc3RhdGljIEJpZ0RlY2lt\nYWwgTUFYSU1VTV9TVE9DS19TUExJVF9NVUxUSVBMSUVSOwoJc3RhdGljIHsK\nCQlNQVhJTVVNX1NUT0NLX1BSSUNFID0gbmV3IEJpZ0RlY2ltYWwoNDAwKTsK\nCQlNQVhJTVVNX1NUT0NLX1BSSUNFLnNldFNjYWxlKDIsIEJpZ0RlY2ltYWwu\nUk9VTkRfSEFMRl9VUCk7CgkJTUFYSU1VTV9TVE9DS19TUExJVF9NVUxUSVBM\nSUVSID0gbmV3IEJpZ0RlY2ltYWwoMC41KTsKCQlNQVhJTVVNX1NUT0NLX1NQ\nTElUX01VTFRJUExJRVIuc2V0U2NhbGUoMiwgQmlnRGVjaW1hbC5ST1VORF9I\nQUxGX1VQKTsKCX0KCgkvKiBUcmFkZSBTY2VuYXJpbyBhY3Rpb25zIG1peGVz\nLiBFYWNoIG9mIHRoZSBhcnJheSByb3dzIHJlcHJlc2VudHMgYSBzcGVjaWZp\nYyBUcmFkZSBTY2VuYXJpbyBNaXguIAoJICAgVGhlIGNvbHVtbnMgZ2l2ZSB0\naGUgcGVyY2VudGFnZXMgZm9yIGVhY2ggYWN0aW9uIGluIHRoZSBjb2x1bW4g\naGVhZGVyLiBOb3RlOiAibG9naW4iIGlzIGFsd2F5cyAwLiAKCSAgIGxvZ291\ndCByZXByZXNlbnRzIGJvdGggbG9naW4gYW5kIGxvZ291dCAoYmVjYXVzZSBl\nYWNoIGxvZ291dCBvcGVyYXRpb24gd2lsbCBjYXVzZSBhIG5ldyBsb2dpbiB3\naGVuCgkgICB0aGUgdXNlciBjb250ZXh0IGF0dGVtcHRzIHRoZSBuZXh0IGFj\ndGlvbi4KCSAqLwoJLyogVHJhZGUgU2NlbmFyaW8gV29ya2xvYWQgcGFyYW1l\ndGVycyAqLwoJcHVibGljIGZpbmFsIHN0YXRpYyBpbnQgSE9NRV9PUCA9IDA7\nCglwdWJsaWMgZmluYWwgc3RhdGljIGludCBRVU9URV9PUCA9IDE7CglwdWJs\naWMgZmluYWwgc3RhdGljIGludCBMT0dJTl9PUCA9IDI7CglwdWJsaWMgZmlu\nYWwgc3RhdGljIGludCBMT0dPVVRfT1AgPSAzOwoJcHVibGljIGZpbmFsIHN0\nYXRpYyBpbnQgUkVHSVNURVJfT1AgPSA0OwoJcHVibGljIGZpbmFsIHN0YXRp\nYyBpbnQgQUNDT1VOVF9PUCA9IDU7CglwdWJsaWMgZmluYWwgc3RhdGljIGlu\ndCBQT1JURk9MSU9fT1AgPSA2OwoJcHVibGljIGZpbmFsIHN0YXRpYyBpbnQg\nQlVZX09QID0gNzsKCXB1YmxpYyBmaW5hbCBzdGF0aWMgaW50IFNFTExfT1Ag\nPSA4OwoJcHVibGljIGZpbmFsIHN0YXRpYyBpbnQgVVBEQVRFQUNDT1VOVF9P\nUCA9IDk7CgoJcHJpdmF0ZSBzdGF0aWMgaW50IHNjZW5hcmlvTWl4ZXNbXVtd\nID0gewoJCS8vCWgJcQlsCW8JcglhCXAJYglzCXUKCQl7IDIwLCA0MCwgMCwg\nNCwgMiwgMTAsIDEyLCA0LCA0LCA0IH0sIC8vU1RBTkRBUkQKCQl7CgkJCTIw\nLCA0MCwgMCwgNCwgMiwgNywgNywgNywgNywgNiB9LCAvL0hpZ2ggVm9sdW1l\nCgl9OwoJcHJpdmF0ZSBzdGF0aWMgY2hhciBhY3Rpb25zW10gPQoJCXsgJ2gn\nLCAncScsICdsJywgJ28nLCAncicsICdhJywgJ3AnLCAnYicsICdzJywgJ3Un\nIH07Cglwcml2YXRlIHN0YXRpYyBpbnQgc2VsbERlZmljaXQgPSAwOwoJLy9U\ncmFja3MgdGhlIG51bWJlciBvZiBidXlzIG92ZXIgc2VsbCB3aGVuIGEgdXNl\ncnMgcG9ydGZvbGlvIGlzIGVtcHR5CgkvLyBVc2VkIHRvIG1haW50YWluIHRo\nZSBjb3JyZWN0IHJhdGlvIG9mIGJ1eXMvc2VsbHMKCgkvKiBKU1AgcGFnZXMg\nZm9yIGFsbCBUcmFkZSBBY3Rpb25zICovCgoJcHVibGljIGZpbmFsIHN0YXRp\nYyBpbnQgV0VMQ09NRV9QQUdFID0gMDsKCXB1YmxpYyBmaW5hbCBzdGF0aWMg\naW50IFJFR0lTVEVSX1BBR0UgPSAxOwoJcHVibGljIGZpbmFsIHN0YXRpYyBp\nbnQgUE9SVEZPTElPX1BBR0UgPSAyOwoJcHVibGljIGZpbmFsIHN0YXRpYyBp\nbnQgUVVPVEVfUEFHRSA9IDM7CglwdWJsaWMgZmluYWwgc3RhdGljIGludCBI\nT01FX1BBR0UgPSA0OwoJcHVibGljIGZpbmFsIHN0YXRpYyBpbnQgQUNDT1VO\nVF9QQUdFID0gNTsKCXB1YmxpYyBmaW5hbCBzdGF0aWMgaW50IE9SREVSX1BB\nR0UgPSA2OwoJcHVibGljIGZpbmFsIHN0YXRpYyBpbnQgQ09ORklHX1BBR0Ug\nPSA3OwoJcHVibGljIGZpbmFsIHN0YXRpYyBpbnQgU1RBVFNfUEFHRSA9IDg7\nCgoJLy9GVVRVUkUgQWRkIFhNTC9YU0wgVmlldwoJcHVibGljIHN0YXRpYyBT\ndHJpbmcgd2ViVUlbXVtdID0KCQl7CgkJCXsKCQkJCSIvd2VsY29tZS5qc3Ai\nLAoJCQkJIi9yZWdpc3Rlci5qc3AiLAoJCQkJIi9wb3J0Zm9saW8uanNwIiwK\nCQkJCSIvcXVvdGUuanNwIiwKCQkJCSIvdHJhZGVob21lLmpzcCIsCgkJCQki\nL2FjY291bnQuanNwIiwKCQkJCSIvb3JkZXIuanNwIiwKCQkJCSIvY29uZmln\nLmpzcCIsCgkJCQkiL3J1blN0YXRzLmpzcCIgfSwKCQkvL0pTUCBJbnRlcmZh\nY2UKCQl7CgkJCSIvd2VsY29tZUltZy5qc3AiLAoJCQkJIi9yZWdpc3Rlcklt\nZy5qc3AiLAoJCQkJIi9wb3J0Zm9saW9JbWcuanNwIiwKCQkJCSIvcXVvdGVJ\nbWcuanNwIiwKCQkJCSIvdHJhZGVob21lSW1nLmpzcCIsCgkJCQkiL2FjY291\nbnRJbWcuanNwIiwKCQkJCSIvb3JkZXJJbWcuanNwIiwKCQkJCSIvY29uZmln\nLmpzcCIsCgkJCQkiL3J1blN0YXRzLmpzcCIgfSwKCQkvL0pTUCBJbnRlcmZh\nY2UJCgl9OwoKCS8vIFRoZXNlIGFyZSB0aGUgcHJvcGVydHkgc2V0dGluZ3Mg\ndGhlIFZBSiBhY2Nlc3MgYmVhbnMgbG9vayBmb3IuCQoJcHJpdmF0ZSBzdGF0\naWMgZmluYWwgU3RyaW5nIE5BTUVTRVJWSUNFX1RZUEVfUFJPUEVSVFkgPQoJ\nCSJqYXZhLm5hbWluZy5mYWN0b3J5LmluaXRpYWwiOwoJcHJpdmF0ZSBzdGF0\naWMgZmluYWwgU3RyaW5nIE5BTUVTRVJWSUNFX1BST1ZJREVSX1VSTF9QUk9Q\nRVJUWSA9CgkJImphdmEubmFtaW5nLnByb3ZpZGVyLnVybCI7CgoJLy8gRlVU\nVVJFOgoJLy8gSWYgYSAidHJhZGUyLnByb3BlcnRpZXMiIHByb3BlcnR5IGZp\nbGUgaXMgc3VwcGxpZWQsIHJlc2V0IHRoZSBkZWZhdWx0IHZhbHVlcyAKCS8v\nIHRvIG1hdGNoIHRob3NlIHNwZWNpZmllZCBpbiB0aGUgZmlsZS4gVGhpcyBw\ncm92aWRlcyBhIHBlcnNpc3RlbnQgcnVudGltZSAKCS8vIHByb3BlcnR5IG1l\nY2hhbmlzbSBkdXJpbmcgc2VydmVyIHN0YXJ0dXAKCgkvKioKCSAqIFJldHVy\nbiB0aGUgaG9zdG5hbWUgZm9yIHRoaXMgc3lzdGVtCgkgKiBDcmVhdGlvbiBk\nYXRlOiAoMi8xNi8yMDAwIDk6MDI6MjUgUE0pCgkgKi8KCglwcml2YXRlIHN0\nYXRpYyBTdHJpbmcgZ2V0SG9zdG5hbWUoKSB7CgkJdHJ5IHsKCQkJaWYgKGhv\nc3ROYW1lID09IG51bGwpIHsKCQkJCWhvc3ROYW1lID0gamF2YS5uZXQuSW5l\ndEFkZHJlc3MuZ2V0TG9jYWxIb3N0KCkuZ2V0SG9zdE5hbWUoKTsKCQkJCS8v\nU3RyaXAgb2YgZnVsbHkgcXVhbGlmZWQgZG9tYWluIGlmIG5lY2Vzc2FyeQoJ\nCQkJdHJ5IHsKCQkJCQlob3N0TmFtZSA9IGhvc3ROYW1lLnN1YnN0cmluZygw\nLCBob3N0TmFtZS5pbmRleE9mKCcuJykpOwoJCQkJfSBjYXRjaCAoRXhjZXB0\naW9uIGUpIHsKCQkJCX0KCQkJfQoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7\nCgkJCWxvZy5lcnJvcigKCQkJCSJFeGNlcHRpb24gZ2V0dGluZyBsb2NhbCBo\nb3N0IG5hbWUgdXNpbmcgJ2xvY2FsaG9zdCcgLSAiLAoJCQkJZSk7CgkJCWhv\nc3ROYW1lID0gImxvY2FsaG9zdCI7CgkJfQoJCXJldHVybiBob3N0TmFtZTsK\nCX0KCgkvKioKCSAqIFJldHVybiBhIFRyYWRlIFVJIFdlYiBwYWdlIGJhc2Vk\nIG9uIHRoZSBjdXJyZW50IGNvbmZpZ3VyYXRpb24KCSAqIFRoaXMgbWF5IHJl\ndHVybiBhIEpTUCBwYWdlIG9yIGEgU2VydmxldCBwYWdlIAoJICogQ3JlYXRp\nb24gZGF0ZTogKDMvMTQvMjAwMCA5OjA4OjM0IFBNKQoJICovCgoJcHVibGlj\nIHN0YXRpYyBTdHJpbmcgZ2V0UGFnZShpbnQgcGFnZU51bWJlcikgewoJCXJl\ndHVybiB3ZWJVSVt3ZWJJbnRlcmZhY2VdW3BhZ2VOdW1iZXJdOwoJfQoKCS8q\nKgoJICogUmV0dXJuIHRoZSBsaXN0IG9mIHJ1biB0aW1lIG1vZGUgbmFtZXMK\nCSAqIENyZWF0aW9uIGRhdGU6ICgzLzgvMjAwMCA1OjU4OjM0IFBNKQoJICog\nQHJldHVybiBqYXZhLmxhbmcuU3RyaW5nW10KCSAqLwoJcHVibGljIHN0YXRp\nYyBqYXZhLmxhbmcuU3RyaW5nW10gZ2V0UnVuVGltZU1vZGVOYW1lcygpIHsK\nCQlyZXR1cm4gcnVuVGltZU1vZGVOYW1lczsKCX0KCglwcml2YXRlIHN0YXRp\nYyBpbnQgc2NlbmFyaW9Db3VudCA9IDA7CgoJLyoqCgkgKiBSZXR1cm4gYSBU\ncmFkZSBTY2VuYXJpbyBPcGVyYXRpb24gYmFzZWQgb24gdGhlIHNldHRpbmcg\nb2YgdGhlIGN1cnJlbnQgbWl4IChUcmFkZVNjZW5hcmlvTWl4KQoJICogQ3Jl\nYXRpb24gZGF0ZTogKDIvMTAvMjAwMCA5OjA4OjM0IFBNKQoJICovCgoJcHVi\nbGljIHN0YXRpYyBjaGFyIGdldFNjZW5hcmlvQWN0aW9uKGJvb2xlYW4gbmV3\nVXNlcikgewoJCWludCByID0gcm5kSW50KDEwMCk7IC8vMCB0byA5OSA9IDEw\nMAoJCWludCBpID0gMDsKCQlpbnQgc3VtID0gc2NlbmFyaW9NaXhlc1t3b3Jr\nbG9hZE1peF1baV07CgkJd2hpbGUgKHN1bSA8PSByKSB7CgkJCWkrKzsKCQkJ\nc3VtICs9IHNjZW5hcmlvTWl4ZXNbd29ya2xvYWRNaXhdW2ldOwoJCX0KCgkJ\naW5jcmVtZW50U2NlbmFyaW9Db3VudCgpOwoKCQkvKiBJbiBUcmFkZVNjZW5h\ncmlvU2VydmxldCwgaWYgYSBzZWxsIGFjdGlvbiBpcyBzZWxlY3RlZCwgYnV0\nIHRoZSB1c2VycyBwb3J0Zm9saW8gaXMgZW1wdHksCgkJICogYSBidXkgaXMg\nZXhlY3V0ZWQgaW5zdGVhZCBhbmQgc2VsbERlZmVjaXQgaXMgaW5jcmVtZW50\nZWQuIFRoaXMgYWxsb3dzIHRoZSBudW1iZXIgb2YgYnV5L3NlbGwKCQkgKiBv\ncGVyYXRpb25zIHRvIHN0YXkgaW4gc3luYyB3LyB0aGUgZ2l2ZW4gVHJhZGUg\nbWl4LgoJCSAqLwoKCQlpZiAoKCFuZXdVc2VyKSAmJiAoYWN0aW9uc1tpXSA9\nPSAnYicpKSB7CgkJCXN5bmNocm9uaXplZCAoVHJhZGVDb25maWcuY2xhc3Mp\nIHsKCQkJCWlmIChzZWxsRGVmaWNpdCA+IDApIHsKCQkJCQlzZWxsRGVmaWNp\ndC0tOwoJCQkJCXJldHVybiAncyc7CgkJCQkJLy9TcGVjaWFsIGNhc2UgZm9y\nIFRyYWRlU2NlbmFyaW9TZXJ2bGV0IHRvIG5vdGUgdGhpcyBpcyBhIGJ1eSBz\nd2l0Y2hlZCB0byBhIHNlbGwgdG8gZml4IHNlbGxEZWZpY2l0CgkJCQl9CgkJ\nCX0KCQl9CgoJCXJldHVybiBhY3Rpb25zW2ldOwoJfQoKCXB1YmxpYyBzdGF0\naWMgU3RyaW5nIGdldFVzZXJJRCgpIHsKCQlTdHJpbmcgdXNlcklEOwoJCWlm\nIChSTkRfVVNFUikgewoJCQl1c2VySUQgPSBybmRVc2VySUQoKTsKCQl9IGVs\nc2UgewoJCQl1c2VySUQgPSBuZXh0VXNlcklEKCk7CgkJfQoJCXJldHVybiB1\nc2VySUQ7Cgl9Cglwcml2YXRlIHN0YXRpYyBmaW5hbCBCaWdEZWNpbWFsIG9y\nZGVyRmVlID0gbmV3IEJpZ0RlY2ltYWwoIjI0Ljk1Iik7Cglwcml2YXRlIHN0\nYXRpYyBmaW5hbCBCaWdEZWNpbWFsIGNhc2hGZWUgPSBuZXcgQmlnRGVjaW1h\nbCgiMC4wIik7CglwdWJsaWMgc3RhdGljIEJpZ0RlY2ltYWwgZ2V0T3JkZXJG\nZWUoU3RyaW5nIG9yZGVyVHlwZSkgewoJCWlmICgob3JkZXJUeXBlLmNvbXBh\ncmVUb0lnbm9yZUNhc2UoIkJVWSIpID09IDApCgkJCXx8IChvcmRlclR5cGUu\nY29tcGFyZVRvSWdub3JlQ2FzZSgiU0VMTCIpID09IDApKQoJCQlyZXR1cm4g\nb3JkZXJGZWU7CgoJCXJldHVybiBjYXNoRmVlOwoKCX0KCgkvKioKCSAqIElu\nY3JlbWVudCB0aGUgc2VsbCBkZWZpY2l0IGNvdW50ZXIKCSAqIENyZWF0aW9u\nIGRhdGU6ICg2LzIxLzIwMDAgMTE6MzM6NDUgQU0pCgkgKi8KCXB1YmxpYyBz\neW5jaHJvbml6ZWQgc3RhdGljIHZvaWQgaW5jcmVtZW50U2VsbERlZmljaXQo\nKSB7CgkJc2VsbERlZmljaXQrKzsKCX0KCglwdWJsaWMgc3RhdGljIFN0cmlu\nZyBuZXh0VXNlcklEKCkgewoJCVN0cmluZyB1c2VySUQ7CgkJc3luY2hyb25p\nemVkICh1c2VySURfY291bnRfc2VtYXBob3JlKSB7CgkJCXVzZXJJRCA9ICJ1\naWQ6IiArIHVzZXJJRF9jb3VudDsKCQkJdXNlcklEX2NvdW50Kys7CgkJCWlm\nICh1c2VySURfY291bnQgJSBNQVhfVVNFUlMgPT0gMCkgewoJCQkJdXNlcklE\nX2NvdW50ID0gMDsKCQkJfQoJCX0KCQlyZXR1cm4gdXNlcklEOwoJfQoJcHVi\nbGljIHN0YXRpYyBkb3VibGUgcmFuZG9tKCkgewoJCXJldHVybiByYW5kb21O\ndW1iZXJHZW5lcmF0b3IubmV4dERvdWJsZSgpOwoJfQoJcHVibGljIHN0YXRp\nYyBTdHJpbmcgcm5kQWRkcmVzcygpIHsKCQlyZXR1cm4gcm5kSW50KDEwMDAp\nICsgIiBPYWsgU3QuIjsKCX0KCXB1YmxpYyBzdGF0aWMgU3RyaW5nIHJuZEJh\nbGFuY2UoKSB7CgkJLy9HaXZlIGFsbCBuZXcgdXNlcnMgYSBjb29sIG1pbGwg\naW4gd2hpY2ggdG8gdHJhZGUKCQlyZXR1cm4gIjEwMDAwMDAiOwoJfQoJcHVi\nbGljIHN0YXRpYyBTdHJpbmcgcm5kQ3JlZGl0Q2FyZCgpIHsKCQlyZXR1cm4g\ncm5kSW50KDEwMCkKCQkJKyAiLSIKCQkJKyBybmRJbnQoMTAwMCkKCQkJKyAi\nLSIKCQkJKyBybmRJbnQoMTAwMCkKCQkJKyAiLSIKCQkJKyBybmRJbnQoMTAw\nMCk7Cgl9CglwdWJsaWMgc3RhdGljIFN0cmluZyBybmRFbWFpbChTdHJpbmcg\ndXNlcklEKSB7CgkJcmV0dXJuIHVzZXJJRCArICJAIiArIHJuZEludCgxMDAp\nICsgIi5jb20iOwoJfQoJcHVibGljIHN0YXRpYyBTdHJpbmcgcm5kRnVsbE5h\nbWUoKSB7CgkJcmV0dXJuICJmaXJzdDoiICsgcm5kSW50KDEwMDApICsgIiBs\nYXN0OiIgKyBybmRJbnQoNTAwMCk7Cgl9CglwdWJsaWMgc3RhdGljIGludCBy\nbmRJbnQoaW50IGkpIHsKCQlyZXR1cm4gKG5ldyBGbG9hdChyYW5kb20oKSAq\nIGkpKS5pbnRWYWx1ZSgpOwoJfQoJcHVibGljIHN0YXRpYyBmbG9hdCBybmRG\nbG9hdChpbnQgaSkgewoJCXJldHVybiAobmV3IEZsb2F0KHJhbmRvbSgpICog\naSkpLmZsb2F0VmFsdWUoKTsKCX0KCXB1YmxpYyBzdGF0aWMgQmlnRGVjaW1h\nbCBybmRCaWdEZWNpbWFsKGZsb2F0IGYpIHsKCQlyZXR1cm4gKG5ldyBCaWdE\nZWNpbWFsKHJhbmRvbSgpICogZikpLnNldFNjYWxlKAoJCQkyLAoJCQlCaWdE\nZWNpbWFsLlJPVU5EX0hBTEZfVVApOwoJfQoKCXB1YmxpYyBzdGF0aWMgYm9v\nbGVhbiBybmRCb29sZWFuKCkgewoJCXJldHVybiByYW5kb21OdW1iZXJHZW5l\ncmF0b3IubmV4dEJvb2xlYW4oKTsKCX0KCgkvKioKCSAqIFJldHVybnMgYSBu\nZXcgVHJhZGUgdXNlcgoJICogQ3JlYXRpb24gZGF0ZTogKDIvMTYvMjAwMCA4\nOjUwOjM1IFBNKQoJICovCglwdWJsaWMgc3luY2hyb25pemVkIHN0YXRpYyBT\ndHJpbmcgcm5kTmV3VXNlcklEKCkgewoKCQlyZXR1cm4gbmV3VXNlclByZWZp\neAoJCQkrIGdldEhvc3RuYW1lKCkKCQkJKyBTeXN0ZW0uY3VycmVudFRpbWVN\naWxsaXMoKQoJCQkrIGNvdW50Kys7Cgl9CgoJcHVibGljIHN0YXRpYyBmbG9h\ndCBybmRQcmljZSgpIHsKCQlyZXR1cm4gKChuZXcgSW50ZWdlcihybmRJbnQo\nMjAwKSkpLmZsb2F0VmFsdWUoKSkgKyAxLjBmOwoJfQoJcHJpdmF0ZSBmaW5h\nbCBzdGF0aWMgQmlnRGVjaW1hbCBPTkUgPSBuZXcgQmlnRGVjaW1hbCgxLjAp\nOwoJcHVibGljIHN0YXRpYyBCaWdEZWNpbWFsIGdldFJhbmRvbVByaWNlQ2hh\nbmdlRmFjdG9yKCkgewoJCS8vIENKQiAoREFZVFJBREVSLTI1KSAtIFZhcnkg\nY2hhbmdlIGZhY3RvciBiZXR3ZWVuIDEuMiBhbmQgMC44CgkJZG91YmxlIHBl\ncmNlbnRHYWluID0gcm5kRmxvYXQoMSkgKiAwLjI7CgkJaWYgKHJhbmRvbSgp\nIDwgLjUpCgkJCXBlcmNlbnRHYWluICo9IC0xOwoJCXBlcmNlbnRHYWluICs9\nIDE7CgoJCS8vIGNoYW5nZSBmYWN0b3IgaXMgYmV0d2VlbiArLy0gMjAlCgkJ\nQmlnRGVjaW1hbCBwZXJjZW50R2FpbkJEID0KCQkJKG5ldyBCaWdEZWNpbWFs\nKHBlcmNlbnRHYWluKSkuc2V0U2NhbGUoMiwgQmlnRGVjaW1hbC5ST1VORF9I\nQUxGX1VQKTsKCQlpZiAocGVyY2VudEdhaW5CRC5kb3VibGVWYWx1ZSgpIDw9\nIDAuMCkKCQkJcGVyY2VudEdhaW5CRCA9IE9ORTsKCgkJcmV0dXJuIHBlcmNl\nbnRHYWluQkQ7Cgl9CgoJcHVibGljIHN0YXRpYyBmbG9hdCBybmRRdWFudGl0\neSgpIHsKCQlyZXR1cm4gKChuZXcgSW50ZWdlcihybmRJbnQoMjAwKSkpLmZs\nb2F0VmFsdWUoKSkgKyAxLjBmOwoJfQoKCXB1YmxpYyBzdGF0aWMgU3RyaW5n\nIHJuZFN5bWJvbCgpIHsKCQlyZXR1cm4gInM6IiArIHJuZEludChNQVhfUVVP\nVEVTIC0gMSk7Cgl9CglwdWJsaWMgc3RhdGljIFN0cmluZyBybmRTeW1ib2xz\nKCkgewoKCQlTdHJpbmcgc3ltYm9scyA9ICIiOwoJCWludCBudW1fc3ltYm9s\ncyA9IHJuZEludChRVU9URVNfUEVSX1BBR0UpOwoKCQlmb3IgKGludCBpID0g\nMDsgaSA8PSBudW1fc3ltYm9sczsgaSsrKSB7CgkJCXN5bWJvbHMgKz0gInM6\nIiArIHJuZEludChNQVhfUVVPVEVTIC0gMSk7CgkJCWlmIChpIDwgbnVtX3N5\nbWJvbHMpCgkJCQlzeW1ib2xzICs9ICIsIjsKCQl9CgkJcmV0dXJuIHN5bWJv\nbHM7Cgl9CgoJcHVibGljIHN0YXRpYyBTdHJpbmcgcm5kVXNlcklEKCkgewoJ\nCVN0cmluZyBuZXh0VXNlciA9IGdldE5leHRVc2VySURGcm9tRGVjaygpOwoJ\nCWlmIChsb2cuaXNUcmFjZUVuYWJsZWQoKSkKCQkJbG9nLnRyYWNlKCJUcmFk\nZUNvbmZpZzpybmRVc2VySUQgLS0gbmV3IHRyYWRlciA9ICIgKyBuZXh0VXNl\ncik7CgoJCXJldHVybiBuZXh0VXNlcjsKCX0KCglwcml2YXRlIHN0YXRpYyBz\neW5jaHJvbml6ZWQgU3RyaW5nIGdldE5leHRVc2VySURGcm9tRGVjaygpIHsK\nCQlpbnQgbnVtVXNlcnMgPSBnZXRNQVhfVVNFUlMoKTsKCQlpZiAoZGVjayA9\nPSBudWxsKSB7CgkJCWRlY2sgPSBuZXcgQXJyYXlMaXN0KG51bVVzZXJzKTsK\nCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBudW1Vc2VyczsgaSsrKQoJCQkJZGVj\nay5hZGQoaSwgbmV3IEludGVnZXIoaSkpOwoJCQlqYXZhLnV0aWwuQ29sbGVj\ndGlvbnMuc2h1ZmZsZShkZWNrLCByMCk7CgkJfQoJCWlmIChjYXJkID49IG51\nbVVzZXJzKQoJCQljYXJkID0gMDsKCQlyZXR1cm4gInVpZDoiICsgZGVjay5n\nZXQoY2FyZCsrKTsKCgl9CgoJLy9UcmFkZSBpbXBsZW1lbnRzIGEgY2FyZCBk\nZWNrIGFwcHJvYWNoIHRvIHNlbGVjdGluZyAKCS8vIHVzZXJzIGZvciB0cmFk\naW5nIHdpdGggdHJhZGVzY2VuYXJpb3NlcnZsZXQKCXByaXZhdGUgc3RhdGlj\nIEFycmF5TGlzdCBkZWNrID0gbnVsbDsKCXByaXZhdGUgc3RhdGljIGludCBj\nYXJkID0gMDsKCgkvKioKCSAqIFNldCB0aGUgbGlzdCBvZiBydW4gdGltZSBt\nb2RlIG5hbWVzCgkgKiBDcmVhdGlvbiBkYXRlOiAoMy84LzIwMDAgNTo1ODoz\nNCBQTSkKCSAqIEBwYXJhbSBuZXdSdW5UaW1lTW9kZU5hbWVzIGphdmEubGFu\nZy5TdHJpbmdbXQoJICovCglwdWJsaWMgc3RhdGljIHZvaWQgc2V0UnVuVGlt\nZU1vZGVOYW1lcygKCQlqYXZhLmxhbmcuU3RyaW5nW10gbmV3UnVuVGltZU1v\nZGVOYW1lcykgewoJCXJ1blRpbWVNb2RlTmFtZXMgPSBuZXdSdW5UaW1lTW9k\nZU5hbWVzOwoJfQoJLyoqCgkgKiBUaGlzIGlzIGEgY29udmVuaWVuY2UgbWV0\naG9kIGZvciBzZXJ2bGV0cyB0byBzZXQgVHJhZGUgY29uZmlndXJhdGlvbiBw\nYXJhbWV0ZXJzCgkgKiBmcm9tIHNlcnZsZXQgaW5pdGlhbGl6YXRpb24gcGFy\nYW1ldGVycy4gVGhlIHNlcnZsZXQgcHJvdmlkZXMgdGhlIGluaXQgcGFyYW0g\nYW5kIGl0cwoJICogdmFsdWUgYXMgc3RyaW5ncy4gVGhpcyBtZXRob2QgdGhl\nbiBwYXJzZXMgdGhlIHBhcmFtZXRlciwgY29udmVydHMgdGhlIHZhbHVlIHRv\nIHRoZQoJICogY29ycmVjdCB0eXBlIGFuZCBzZXRzIHRoZSBjb3JyZXNwb25k\naW5nIFRyYWRlQ29uZmlnIHBhcmFtZXRlciB0byB0aGUgY29udmVydGVkIHZh\nbHVlCgkgKiAKCSAqLwoJcHVibGljIHN0YXRpYyB2b2lkIHNldENvbmZpZ1Bh\ncmFtKFN0cmluZyBwYXJtLCBTdHJpbmcgdmFsdWUpIHsKCSAgICBpZiAobG9n\nLmlzVHJhY2VFbmFibGVkKCkpCgkgICAgICAgIGxvZy50cmFjZSgiVHJhZGVD\nb25maWcgc2V0dGluZyBwYXJhbWV0ZXI6ICIgKyBwYXJtICsgIj0iICsgdmFs\ndWUpOwoJCS8vIENvbXBhcmUgdGhlIHBhcm0gdmFsdWUgdG8gdmFsaWQgVHJh\nZGVDb25maWcgcGFyYW1ldGVycyB0aGF0IGNhbiBiZSBzZXQKCQkvLyBieSBz\nZXJ2bGV0IGluaXRpYWxpemF0aW9uCgoJCS8vIEZpcnN0IGNoZWNrIHRoZSBw\ncm9wb3NlZCBuZXcgcGFybSBhbmQgdmFsdWUgLSBpZiBlbXB0eSBvciBudWxs\nIGlnbm9yZSBpdAoJCWlmIChwYXJtID09IG51bGwpCgkJCXJldHVybjsKCQlw\nYXJtID0gcGFybS50cmltKCk7CgkJaWYgKHBhcm0ubGVuZ3RoKCkgPD0gMCkK\nCQkJcmV0dXJuOwoJCWlmICh2YWx1ZSA9PSBudWxsKQoJCQlyZXR1cm47CgkJ\ndmFsdWUgPSB2YWx1ZS50cmltKCk7CgoJCWlmIChwYXJtLmVxdWFsc0lnbm9y\nZUNhc2UoInJ1blRpbWVNb2RlIikpIHsKCQkJdHJ5IHsKCQkJCWZvciAoaW50\nIGkgPSAwOyBpIDwgcnVuVGltZU1vZGVOYW1lcy5sZW5ndGg7IGkrKykgewoJ\nCQkJCWlmICh2YWx1ZS5lcXVhbHNJZ25vcmVDYXNlKHJ1blRpbWVNb2RlTmFt\nZXNbaV0pKSB7CgkJCQkJCXNldFJ1blRpbWVNb2RlKGkpOwoJCQkJCQlicmVh\nazsKCQkJCQl9CgkJCQl9CgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CgkJ\nCQkvLz4+cmptCgkJCQlsb2cuZXJyb3IoCgkJCQkJIlRyYWRlQ29uZmlnLnNl\ndENvbmZpZ1Bhcm0oLi4pOiBtaW5vciBleGNlcHRpb24gY2F1Z2h0IgoJCQkJ\nCQkrICJ0cnlpbmcgdG8gc2V0IHJ1bnRpbWVtb2RlIHRvICIKCQkJCQkJKyB2\nYWx1ZQoJCQkJCQkrICJyZXZlcnRpbmcgdG8gY3VycmVudCB2YWx1ZTogIgoJ\nCQkJCQkrIHJ1blRpbWVNb2RlTmFtZXNbZ2V0UnVuVGltZU1vZGUoKV0sCgkJ\nCQkJZSk7CgkJCX0gLy8gSWYgdGhlIHZhbHVlIGlzIGJhZCwgc2ltcGx5IHJl\ndmVydCB0byBjdXJyZW50CgkJfSBlbHNlIGlmIChwYXJtLmVxdWFsc0lnbm9y\nZUNhc2UoIm9yZGVyUHJvY2Vzc2luZ01vZGUiKSkgewoJCQl0cnkgewoJCQkJ\nZm9yIChpbnQgaSA9IDA7IGkgPCBvcmRlclByb2Nlc3NpbmdNb2RlTmFtZXMu\nbGVuZ3RoOyBpKyspIHsKCQkJCQlpZiAodmFsdWUuZXF1YWxzSWdub3JlQ2Fz\nZShvcmRlclByb2Nlc3NpbmdNb2RlTmFtZXNbaV0pKSB7CgkJCQkJCW9yZGVy\nUHJvY2Vzc2luZ01vZGUgPSBpOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9\nCgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CgkJCQlsb2cuZXJyb3IoCgkJ\nCQkJIlRyYWRlQ29uZmlnLnNldENvbmZpZ1Bhcm0oLi4pOiBtaW5vciBleGNl\ncHRpb24gY2F1Z2h0IgoJCQkJCQkrICJ0cnlpbmcgdG8gc2V0IG9yZGVyUHJv\nY2Vzc2luZ01vZGUgdG8gIgoJCQkJCQkrIHZhbHVlCgkJCQkJCSsgInJldmVy\ndGluZyB0byBjdXJyZW50IHZhbHVlOiAiCgkJCQkJCSsgb3JkZXJQcm9jZXNz\naW5nTW9kZU5hbWVzW29yZGVyUHJvY2Vzc2luZ01vZGVdLAoJCQkJCWUpOwoJ\nCQl9IC8vIElmIHRoZSB2YWx1ZSBpcyBiYWQsIHNpbXBseSByZXZlcnQgdG8g\nY3VycmVudAoJCX0gZWxzZSBpZiAocGFybS5lcXVhbHNJZ25vcmVDYXNlKCJh\nY2Nlc3NNb2RlIikpIHsJCQoJCQl0cnkgewoJCQkJZm9yIChpbnQgaSA9IDA7\nIGkgPCBhY2Nlc3NNb2RlTmFtZXMubGVuZ3RoOyBpKyspIHsKCQkJCQlpZiAo\ndmFsdWUuZXF1YWxzSWdub3JlQ2FzZShhY2Nlc3NNb2RlTmFtZXNbaV0pKSB7\nCgkJCQkJCWFjY2Vzc01vZGUgPSBpOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJ\nCQl9CgkJCX0KCQkJY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CgkJCQlsb2cuZXJy\nb3IoCgkJCQkJIlRyYWRlQ29uZmlnLnNldENvbmZpZ1Bhcm0oLi4pOiBtaW5v\nciBleGNlcHRpb24gY2F1Z2h0IgoJCQkJCQkrICJ0cnlpbmcgdG8gc2V0IGFj\nY2Vzc01vZGUgdG8gIgoJCQkJCQkrIHZhbHVlCgkJCQkJCSsgInJldmVydGlu\nZyB0byBjdXJyZW50IHZhbHVlOiAiCgkJCQkJCSsgYWNjZXNzTW9kZU5hbWVz\nW2FjY2Vzc01vZGVdLAoJCQkJCWUpOwoJCQl9CgkJfSBlbHNlIGlmIChwYXJt\nLmVxdWFsc0lnbm9yZUNhc2UoIndlYlNlcnZpY2VzRW5kcG9pbnQiKSkgewoJ\nCQl0cnkgewoJCQkJc2V0U29hcFVSTCh2YWx1ZSk7CgkJCX0gY2F0Y2ggKEV4\nY2VwdGlvbiBlKSB7CgkJCQlsb2cuZXJyb3IoCgkJCQkJIlRyYWRlQ29uZmln\nLnNldENvbmZpZ1Bhcm0oLi4pOiBtaW5vciBleGNlcHRpb24gY2F1Z2h0IgoJ\nCQkJCQkrICJTZXR0aW5nIHdlYiBzZXJ2aWNlcyBlbmRwb2ludCIsCgkJCQkJ\nZSk7CgkJCX0gLy9PbiBlcnJvciwgcmV2ZXJ0IHRvIHNhdmVkCQkKCQl9IGVs\nc2UgaWYgKHBhcm0uZXF1YWxzSWdub3JlQ2FzZSgid29ya2xvYWRNaXgiKSkg\newoJCQl0cnkgewoJCQkJZm9yIChpbnQgaSA9IDA7IGkgPCB3b3JrbG9hZE1p\neE5hbWVzLmxlbmd0aDsgaSsrKSB7CgkJCQkJaWYgKHZhbHVlLmVxdWFsc0ln\nbm9yZUNhc2Uod29ya2xvYWRNaXhOYW1lc1tpXSkpIHsKCQkJCQkJd29ya2xv\nYWRNaXggPSBpOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCX0gY2F0\nY2ggKEV4Y2VwdGlvbiBlKSB7CgkJCQlsb2cuZXJyb3IoCgkJCQkJIlRyYWRl\nQ29uZmlnLnNldENvbmZpZ1Bhcm0oLi4pOiBtaW5vciBleGNlcHRpb24gY2F1\nZ2h0IgoJCQkJCQkrICJ0cnlpbmcgdG8gc2V0IHdvcmtsb2FkTWl4IHRvICIK\nCQkJCQkJKyB2YWx1ZQoJCQkJCQkrICJyZXZlcnRpbmcgdG8gY3VycmVudCB2\nYWx1ZTogIgoJCQkJCQkrIHdvcmtsb2FkTWl4TmFtZXNbd29ya2xvYWRNaXhd\nLAoJCQkJCWUpOwoJCQl9IC8vIElmIHRoZSB2YWx1ZSBpcyBiYWQsIHNpbXBs\neSByZXZlcnQgdG8gY3VycmVudAkJCgkJfSBlbHNlIGlmIChwYXJtLmVxdWFs\nc0lnbm9yZUNhc2UoIldlYkludGVyZmFjZSIpKSB7CgkJCXRyeSB7CgkJCQlm\nb3IgKGludCBpID0gMDsgaSA8IHdlYkludGVyZmFjZU5hbWVzLmxlbmd0aDsg\naSsrKSB7CgkJCQkJaWYgKHZhbHVlLmVxdWFsc0lnbm9yZUNhc2Uod2ViSW50\nZXJmYWNlTmFtZXNbaV0pKSB7CgkJCQkJCXdlYkludGVyZmFjZSA9IGk7CgkJ\nCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX0KCQkJfSBjYXRjaCAoRXhjZXB0aW9u\nIGUpIHsKCQkJCWxvZy5lcnJvcigKCQkJCQkiVHJhZGVDb25maWcuc2V0Q29u\nZmlnUGFybSguLik6IG1pbm9yIGV4Y2VwdGlvbiBjYXVnaHQiCgkJCQkJCSsg\nInRyeWluZyB0byBzZXQgV2ViSW50ZXJmYWNlIHRvICIKCQkJCQkJKyB2YWx1\nZQoJCQkJCQkrICJyZXZlcnRpbmcgdG8gY3VycmVudCB2YWx1ZTogIgoJCQkJ\nCQkrIHdlYkludGVyZmFjZU5hbWVzW3dlYkludGVyZmFjZV0sCgkJCQkJZSk7\nCgoJCQl9IC8vIElmIHRoZSB2YWx1ZSBpcyBiYWQsIHNpbXBseSByZXZlcnQg\ndG8gY3VycmVudAoJCX0gZWxzZSBpZiAocGFybS5lcXVhbHNJZ25vcmVDYXNl\nKCJDYWNoaW5nVHlwZSIpKSB7CgkJCXRyeSB7CgkJCQlmb3IgKGludCBpID0g\nMDsgaSA8IGNhY2hpbmdUeXBlTmFtZXMubGVuZ3RoOyBpKyspIHsKCQkJCQlp\nZiAodmFsdWUuZXF1YWxzSWdub3JlQ2FzZShjYWNoaW5nVHlwZU5hbWVzW2ld\nKSkgewoJCQkJCQljYWNoaW5nVHlwZSA9IGk7CgkJCQkJCWJyZWFrOwoJCQkJ\nCX0KCQkJCX0KCQkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJCWxvZy5l\ncnJvcigKCQkJCQkiVHJhZGVDb25maWcuc2V0Q29uZmlnUGFybSguLik6IG1p\nbm9yIGV4Y2VwdGlvbiBjYXVnaHQiCgkJCQkJCSsgInRyeWluZyB0byBzZXQg\nQ2FjaGluZ1R5cGUgdG8gIgoJCQkJCQkrIHZhbHVlCgkJCQkJCSsgInJldmVy\ndGluZyB0byBjdXJyZW50IHZhbHVlOiAiCgkJCQkJCSsgY2FjaGluZ1R5cGVO\nYW1lc1tjYWNoaW5nVHlwZV0sCgkJCQkJZSk7CgkJCX0gLy8gSWYgdGhlIHZh\nbHVlIGlzIGJhZCwgc2ltcGx5IHJldmVydCB0byBjdXJyZW50CgkJfSBlbHNl\nIGlmIChwYXJtLmVxdWFsc0lnbm9yZUNhc2UoIm1heFVzZXJzIikpIHsKCQkJ\ndHJ5IHsKCQkJCU1BWF9VU0VSUyA9IEludGVnZXIucGFyc2VJbnQodmFsdWUp\nOwoJCQl9IGNhdGNoIChFeGNlcHRpb24gZSkgewoJCQkJbG9nLmVycm9yKAoJ\nCQkJCSJUcmFkZUNvbmZpZy5zZXRDb25maWdQYXJtKC4uKTogbWlub3IgZXhj\nZXB0aW9uIGNhdWdodCIKCQkJCQkJKyAiU2V0dGluZyBtYXh1c2VycywgZXJy\nb3IgcGFyc2luZyBzdHJpbmcgdG8gaW50OiIKCQkJCQkJKyB2YWx1ZQoJCQkJ\nCQkrICJyZXZlcmluZyB0byBjdXJyZW50IHZhbHVlOiAiCgkJCQkJCSsgTUFY\nX1VTRVJTLAoJCQkJCWUpOwoJCQl9IC8vT24gZXJyb3IsIHJldmVydCB0byBz\nYXZlZAkJCgkJfSBlbHNlIGlmIChwYXJtLmVxdWFsc0lnbm9yZUNhc2UoIm1h\neFF1b3RlcyIpKSB7CgkJCXRyeSB7CgkJCQlNQVhfUVVPVEVTID0gSW50ZWdl\nci5wYXJzZUludCh2YWx1ZSk7CgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7\nCgkJCQkvLz4+cmptCgkJCQlsb2cuZXJyb3IoCgkJCQkJIlRyYWRlQ29uZmln\nLnNldENvbmZpZ1Bhcm0oLi4uKSBtaW5vciBleGNlcHRpb24gY2F1Z2h0IgoJ\nCQkJCQkrICJTZXR0aW5nIG1heF9xdW90ZXMsIGVycm9yIHBhcnNpbmcgc3Ry\naW5nIHRvIGludCAiCgkJCQkJCSsgdmFsdWUKCQkJCQkJKyAicmV2ZXJ0aW5n\nIHRvIGN1cnJlbnQgdmFsdWU6ICIKCQkJCQkJKyBNQVhfUVVPVEVTLAoJCQkJ\nCWUpOwoJCQkJLy88PHJqbQoJCQl9IC8vT24gZXJyb3IsIHJldmVydCB0byBz\nYXZlZAkJCgkJfSBlbHNlIGlmIChwYXJtLmVxdWFsc0lnbm9yZUNhc2UoInBy\naW1JdGVyYXRpb25zIikpIHsKCQkJdHJ5IHsKCQkJCXByaW1JdGVyYXRpb25z\nID0gSW50ZWdlci5wYXJzZUludCh2YWx1ZSk7CgkJCX0gY2F0Y2ggKEV4Y2Vw\ndGlvbiBlKSB7CgkJCQlsb2cuZXJyb3IoCgkJCQkJIlRyYWRlQ29uZmlnLnNl\ndENvbmZpZ1Bhcm0oLi4pOiBtaW5vciBleGNlcHRpb24gY2F1Z2h0IgoJCQkJ\nCQkrICJTZXR0aW5nIHByaW1JdGVyYXRpb25zLCBlcnJvciBwYXJzaW5nIHN0\ncmluZyB0byBpbnQ6IgoJCQkJCQkrIHZhbHVlCgkJCQkJCSsgInJldmVyaW5n\nIHRvIGN1cnJlbnQgdmFsdWU6ICIKCQkJCQkJKyBwcmltSXRlcmF0aW9ucywK\nCQkJCQllKTsKCQkJfSAvL09uIGVycm9yLCByZXZlcnQgdG8gc2F2ZWQKCQl9\nCQkKCX0KCgkvKioKCSAqIEdldHMgdGhlIG9yZGVyUHJvY2Vzc2luZ01vZGVO\nYW1lcwoJICogQHJldHVybiBSZXR1cm5zIGEgU3RyaW5nW10KCSAqLwoJcHVi\nbGljIHN0YXRpYyBTdHJpbmdbXSBnZXRPcmRlclByb2Nlc3NpbmdNb2RlTmFt\nZXMoKSB7CgkJcmV0dXJuIG9yZGVyUHJvY2Vzc2luZ01vZGVOYW1lczsKCX0K\nCgkvKioKCSAqIEdldHMgdGhlIHdvcmtsb2FkTWl4TmFtZXMKCSAqIEByZXR1\ncm4gUmV0dXJucyBhIFN0cmluZ1tdCgkgKi8KCXB1YmxpYyBzdGF0aWMgU3Ry\naW5nW10gZ2V0V29ya2xvYWRNaXhOYW1lcygpIHsKCQlyZXR1cm4gd29ya2xv\nYWRNaXhOYW1lczsKCX0KCgkvKioKCSAqIEdldHMgdGhlIHdlYkludGVyZmFj\nZU5hbWVzCgkgKiBAcmV0dXJuIFJldHVybnMgYSBTdHJpbmdbXQoJICovCglw\ndWJsaWMgc3RhdGljIFN0cmluZ1tdIGdldFdlYkludGVyZmFjZU5hbWVzKCkg\newoJCXJldHVybiB3ZWJJbnRlcmZhY2VOYW1lczsKCX0KCgkvKioKCSAqIEdl\ndHMgdGhlIHdlYkludGVyZmFjZU5hbWVzCgkgKiBAcmV0dXJuIFJldHVybnMg\nYSBTdHJpbmdbXQoJICovCglwdWJsaWMgc3RhdGljIFN0cmluZ1tdIGdldENh\nY2hpbmdUeXBlTmFtZXMoKSB7CgkJcmV0dXJuIGNhY2hpbmdUeXBlTmFtZXM7\nCgl9CgoJLyoqCgkgKiBHZXRzIHRoZSBzY2VuYXJpb01peGVzCgkgKiBAcmV0\ndXJuIFJldHVybnMgYSBpbnRbXVtdCgkgKi8KCXB1YmxpYyBzdGF0aWMgaW50\nW11bXSBnZXRTY2VuYXJpb01peGVzKCkgewoJCXJldHVybiBzY2VuYXJpb01p\neGVzOwoJfQoKCS8qKgoJICogR2V0cyB0aGUgdHJhY2UKCSAqIEByZXR1cm4g\nUmV0dXJucyBhIGJvb2xlYW4KCSAqLwoJcHVibGljIHN0YXRpYyBib29sZWFu\nIGdldFRyYWNlKCkgewoJCXJldHVybiB0cmFjZTsKCX0KCS8qKgoJICogU2V0\ncyB0aGUgdHJhY2UKCSAqIEBwYXJhbSB0cmFjZSBUaGUgdHJhY2UgdG8gc2V0\nCgkgKi8KCXB1YmxpYyBzdGF0aWMgdm9pZCBzZXRUcmFjZShib29sZWFuIHRy\nYWNlVmFsdWUpIHsKCQl0cmFjZSA9IHRyYWNlVmFsdWU7Cgl9CgoJLyoqCgkg\nKiBHZXRzIHRoZSBtQVhfVVNFUlMuCgkgKiBAcmV0dXJuIFJldHVybnMgYSBp\nbnQKCSAqLwoJcHVibGljIHN0YXRpYyBpbnQgZ2V0TUFYX1VTRVJTKCkgewoJ\nCXJldHVybiBNQVhfVVNFUlM7Cgl9CgoJLyoqCgkgKiBTZXRzIHRoZSBtQVhf\nVVNFUlMuCgkgKiBAcGFyYW0gbUFYX1VTRVJTIFRoZSBtQVhfVVNFUlMgdG8g\nc2V0CgkgKi8KCXB1YmxpYyBzdGF0aWMgdm9pZCBzZXRNQVhfVVNFUlMoaW50\nIG1BWF9VU0VSUykgewoJCU1BWF9VU0VSUyA9IG1BWF9VU0VSUzsKCQlkZWNr\nID0gbnVsbDsgLy8gcmVzZXQgdGhlIGNhcmQgZGVjayBmb3Igc2VsZWN0aW5n\nIHVzZXJzCgl9CgoJLyoqCgkgKiBHZXRzIHRoZSBtQVhfUVVPVEVTLgoJICog\nQHJldHVybiBSZXR1cm5zIGEgaW50CgkgKi8KCXB1YmxpYyBzdGF0aWMgaW50\nIGdldE1BWF9RVU9URVMoKSB7CgkJcmV0dXJuIE1BWF9RVU9URVM7Cgl9CgoJ\nLyoqCgkgKiBTZXRzIHRoZSBtQVhfUVVPVEVTLgoJICogQHBhcmFtIG1BWF9R\nVU9URVMgVGhlIG1BWF9RVU9URVMgdG8gc2V0CgkgKi8KCXB1YmxpYyBzdGF0\naWMgdm9pZCBzZXRNQVhfUVVPVEVTKGludCBtQVhfUVVPVEVTKSB7CgkJTUFY\nX1FVT1RFUyA9IG1BWF9RVU9URVM7Cgl9CgoJLyoqCgkgKiBHZXRzIHRoZSBt\nQVhfSE9MRElOR1MuCgkgKiBAcmV0dXJuIFJldHVybnMgYSBpbnQKCSAqLwoJ\ncHVibGljIHN0YXRpYyBpbnQgZ2V0TUFYX0hPTERJTkdTKCkgewoJCXJldHVy\nbiBNQVhfSE9MRElOR1M7Cgl9CgoJLyoqCgkgKiBTZXRzIHRoZSBtQVhfSE9M\nRElOR1MuCgkgKiBAcGFyYW0gbUFYX0hPTERJTkdTIFRoZSBtQVhfSE9MRElO\nR1MgdG8gc2V0CgkgKi8KCXB1YmxpYyBzdGF0aWMgdm9pZCBzZXRNQVhfSE9M\nRElOR1MoaW50IG1BWF9IT0xESU5HUykgewoJCU1BWF9IT0xESU5HUyA9IG1B\nWF9IT0xESU5HUzsKCX0KCgkvKioKCSAqIEdldHMgdGhlIGFjdGlvblRyYWNl\nLgoJICogQHJldHVybiBSZXR1cm5zIGEgYm9vbGVhbgoJICovCglwdWJsaWMg\nc3RhdGljIGJvb2xlYW4gZ2V0QWN0aW9uVHJhY2UoKSB7CgkJcmV0dXJuIGFj\ndGlvblRyYWNlOwoJfQoKCS8qKgoJICogU2V0cyB0aGUgYWN0aW9uVHJhY2Uu\nCgkgKiBAcGFyYW0gYWN0aW9uVHJhY2UgVGhlIGFjdGlvblRyYWNlIHRvIHNl\ndAoJICovCglwdWJsaWMgc3RhdGljIHZvaWQgc2V0QWN0aW9uVHJhY2UoYm9v\nbGVhbiBhY3Rpb25UcmFjZSkgewoJCVRyYWRlQ29uZmlnLmFjdGlvblRyYWNl\nID0gYWN0aW9uVHJhY2U7Cgl9CgoJLyoqCgkgKiBHZXRzIHRoZSBzY2VuYXJp\nb0NvdW50LgoJICogQHJldHVybiBSZXR1cm5zIGEgaW50CgkgKi8KCXB1Ymxp\nYyBzdGF0aWMgaW50IGdldFNjZW5hcmlvQ291bnQoKSB7CgkJcmV0dXJuIHNj\nZW5hcmlvQ291bnQ7Cgl9CgoJLyoqCgkgKiBTZXRzIHRoZSBzY2VuYXJpb0Nv\ndW50LgoJICogQHBhcmFtIHNjZW5hcmlvQ291bnQgVGhlIHNjZW5hcmlvQ291\nbnQgdG8gc2V0CgkgKi8KCXB1YmxpYyBzdGF0aWMgdm9pZCBzZXRTY2VuYXJp\nb0NvdW50KGludCBzY2VuYXJpb0NvdW50KSB7CgkJVHJhZGVDb25maWcuc2Nl\nbmFyaW9Db3VudCA9IHNjZW5hcmlvQ291bnQ7Cgl9CgoJcHVibGljIHN0YXRp\nYyBzeW5jaHJvbml6ZWQgdm9pZCBpbmNyZW1lbnRTY2VuYXJpb0NvdW50KCkg\newoJCXNjZW5hcmlvQ291bnQrKzsKCX0KCgkvKioKCSAqIEdldHMgdGhlIGpk\nYmMgZHJpdmVyIG5lZWRzIGdsb2JhbCB0cmFuc2FjdGlvbgoJICogU29tZSBY\nQSBEcml2ZXJzIHJlcXVpcmUgYSBnbG9iYWwgdHJhbnNhY3Rpb24gdG8gYmUg\nc3RhcnRlZAoJICogZm9yIGFsbCBTUUwgY2FsbHMuICBUbyB3b3JrIGFyb3Vu\nZCB0aGlzLCBzZXQgdGhpcyB0byB0cnVlCgkgKiB0byBjYXVzZSB0aGUgZGly\nZWN0IG1vZGUgdG8gc3RhcnQgYSB1c2VyIHRyYW5zYWN0aW9uLgoJICogQHJl\ndHVybiBSZXR1cm5zIGEgYm9vbGVhbgoJICovCglwdWJsaWMgc3RhdGljIGJv\nb2xlYW4gZ2V0SkRCQ0RyaXZlck5lZWRzR2xvYmFsVHJhbnNhY3Rpb24oKSB7\nCgkJcmV0dXJuIEpEQkNEcml2ZXJOZWVkc0dsb2JhbFRyYW5zYWN0aW9uOwoJ\nfQoKCS8qKgoJICogU2V0cyB0aGUgamRiYyBkcml2ZXIgbmVlZHMgZ2xvYmFs\nIHRyYW5zYWN0aW9uCiAgICAgICAgICogQHBhcmFtIEpEQkNEcml2ZXJOZWVk\nc0dsb2JhbFRyYW5zYWN0aW9uVmFsIHRoZSB2YWx1ZQoJICovCglwdWJsaWMg\nc3RhdGljIHZvaWQgc2V0SkRCQ0RyaXZlck5lZWRzR2xvYmFsVHJhbnNhY3Rp\nb24oYm9vbGVhbiBKREJDRHJpdmVyTmVlZHNHbG9iYWxUcmFuc2FjdGlvblZh\nbCkgewoJCUpEQkNEcml2ZXJOZWVkc0dsb2JhbFRyYW5zYWN0aW9uID0gSkRC\nQ0RyaXZlck5lZWRzR2xvYmFsVHJhbnNhY3Rpb25WYWw7Cgl9CgoJLyoqCgkg\nKiBHZXRzIHRoZSB1cGRhdGVRdW90ZVByaWNlcy4KCSAqIEByZXR1cm4gUmV0\ndXJucyBhIGJvb2xlYW4KCSAqLwoJcHVibGljIHN0YXRpYyBib29sZWFuIGdl\ndFVwZGF0ZVF1b3RlUHJpY2VzKCkgewoJCXJldHVybiB1cGRhdGVRdW90ZVBy\naWNlczsKCX0KCgkvKioKCSAqIFNldHMgdGhlIHVwZGF0ZVF1b3RlUHJpY2Vz\nLgoJICogQHBhcmFtIHVwZGF0ZVF1b3RlUHJpY2VzIFRoZSB1cGRhdGVRdW90\nZVByaWNlcyB0byBzZXQKCSAqLwoJcHVibGljIHN0YXRpYyB2b2lkIHNldFVw\nZGF0ZVF1b3RlUHJpY2VzKGJvb2xlYW4gdXBkYXRlUXVvdGVQcmljZXMpIHsK\nCQlUcmFkZUNvbmZpZy51cGRhdGVRdW90ZVByaWNlcyA9IHVwZGF0ZVF1b3Rl\nUHJpY2VzOwoJfQoJCglwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRTb2FwVVJM\nKCkgewoJCXJldHVybiBTb2FwVVJMOwoJfQoJCglwdWJsaWMgc3RhdGljIHZv\naWQgc2V0U29hcFVSTChTdHJpbmcgdmFsdWUpIHsKCQlTb2FwVVJMID0gdmFs\ndWU7Ci8vCQlUcmFkZVdlYlNvYXBQcm94eS51cGRhdGVTZXJ2aWNlUG9ydCgp\nOwoJfQoJCglwdWJsaWMgc3RhdGljIGludCBnZXRBY2Nlc3NNb2RlKCkgewoJ\nCXJldHVybiBhY2Nlc3NNb2RlOwoJfQoJCglwdWJsaWMgc3RhdGljIHZvaWQg\nc2V0QWNjZXNzTW9kZShpbnQgdmFsdWUpIHsKCQlhY2Nlc3NNb2RlID0gdmFs\ndWU7Ci8vCQlUcmFkZVdlYlNvYXBQcm94eS51cGRhdGVTZXJ2aWNlUG9ydCgp\nOwoJfQoKICAgIHB1YmxpYyBzdGF0aWMgaW50IGdldFJ1blRpbWVNb2RlKCkg\newogICAgICAgIHJldHVybiBydW5UaW1lTW9kZTsKICAgIH0KICAgIAogICAg\ncHVibGljIHN0YXRpYyB2b2lkIHNldFJ1blRpbWVNb2RlKGludCB2YWx1ZSkg\newogICAgICAgIHJ1blRpbWVNb2RlID0gdmFsdWU7CiAgICB9CgoJcHVibGlj\nIHN0YXRpYyBpbnQgZ2V0UHJpbUl0ZXJhdGlvbnMoKSB7CgkJcmV0dXJuIHBy\naW1JdGVyYXRpb25zOwoJfQoJCglwdWJsaWMgc3RhdGljIHZvaWQgc2V0UHJp\nbUl0ZXJhdGlvbnMoaW50IGl0ZXIpIHsKCQlwcmltSXRlcmF0aW9ucyA9IGl0\nZXI7Cgl9CQoKICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBnZXRMb25nUnVu\nKCkgewogICAgICAgIHJldHVybiBsb25nUnVuOwogICAgfQoKICAgIHB1Ymxp\nYyBzdGF0aWMgdm9pZCBzZXRMb25nUnVuKGJvb2xlYW4gbG9uZ1J1bikgewog\nICAgICAgIFRyYWRlQ29uZmlnLmxvbmdSdW4gPSBsb25nUnVuOwogICAgfQoK\nICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXRQdWJsaXNoUXVvdGVQcmljZUNo\nYW5nZShib29sZWFuIHB1Ymxpc2hRdW90ZVByaWNlQ2hhbmdlKSB7CiAgICAg\nICAgVHJhZGVDb25maWcucHVibGlzaFF1b3RlUHJpY2VDaGFuZ2UgPSBwdWJs\naXNoUXVvdGVQcmljZUNoYW5nZTsKICAgIH0KICAgIAogICAgcHVibGljIHN0\nYXRpYyBib29sZWFuIGdldFB1Ymxpc2hRdW90ZVByaWNlQ2hhbmdlKCkgewog\nICAgICAgIHJldHVybiBwdWJsaXNoUXVvdGVQcmljZUNoYW5nZTsKICAgIH0K\nCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0TWFya2V0U3VtbWFyeUludGVy\ndmFsKGludCBzZWNvbmRzKSB7CiAgICAgICAgVHJhZGVDb25maWcubWFya2V0\nU3VtbWFyeUludGVydmFsID0gc2Vjb25kczsKICAgIH0KICAgIAogICAgcHVi\nbGljIHN0YXRpYyAgaW50IGdldE1hcmtldFN1bW1hcnlJbnRlcnZhbCgpIHsK\nICAgICAgICByZXR1cm4gVHJhZGVDb25maWcubWFya2V0U3VtbWFyeUludGVy\ndmFsOwogICAgfQogICAgCiAgICAvKioKCSAqIFJldHVybiB0aGUgbGlzdCBv\nZiBKUEEgTGF5ZXIgbmFtZXMKCSAqIENyZWF0aW9uIGRhdGU6ICgwMS8xMC8y\nMDA5KQoJICogQHJldHVybiBqYXZhLmxhbmcuU3RyaW5nW10KCSAqLwoJcHVi\nbGljIHN0YXRpYyBqYXZhLmxhbmcuU3RyaW5nW10gZ2V0SlBBTGF5ZXJOYW1l\ncygpIHsKCQlyZXR1cm4ganBhTGF5ZXJOYW1lczsKICAgIH0KCgkvLyBhZGRl\nZCBieSBPcGVuSlBBCglwdWJsaWMgc3RhdGljIHZvaWQgc2V0TG9nKExvZyBs\nb2cpIHsKCSAgICBUcmFkZUNvbmZpZy5sb2cgPSBsb2c7Cgl9Cn0K\n","encoding":"base64"}

