{"sha":"631838af92582235684865285b3c7de27f6b9118","node_id":"MDQ6QmxvYjIwNjM2NDo2MzE4MzhhZjkyNTgyMjM1Njg0ODY1Mjg1YjNjN2RlMjdmNmI5MTE4","size":35042,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/631838af92582235684865285b3c7de27f6b9118","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mOwoKaW1wb3J0\nIGphdmEuc3FsLkNvbm5lY3Rpb247CmltcG9ydCBqYXZhLnNxbC5SZXN1bHRT\nZXQ7CmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsKCmltcG9ydCBvcmcu\nYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5jb25mLk9wZW5KUEFDb25maWd1cmF0aW9uSW1wbDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmlkZW50aWZpZXIuREJJ\nZGVudGlmaWVyVXRpbDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLmtlcm5lbC5CYXRjaGluZ0NvbnN0cmFpbnRVcGRhdGVNYW5hZ2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLkJhdGNoaW5nT3Bl\ncmF0aW9uT3JkZXJVcGRhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMua2VybmVsLkVhZ2VyRmV0Y2hNb2RlczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDQnJva2VyRmFjdG9y\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5MUlNT\naXplczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5Q\nZXNzaW1pc3RpY0xvY2tNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMua2VybmVsLlVwZGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5tZXRhLk1hcHBpbmdEZWZhdWx0czsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuTWFwcGluZ1JlcG9zaXRv\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuRGF0\nYVNvdXJjZUZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zY2hlbWEuRHJpdmVyRGF0YVNvdXJjZTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5TY2hlbWFGYWN0b3J5OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnlGYWN0\nb3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEZh\nY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJyb2tl\nckltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0b3Jl\nQ29udGV4dDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5J\nbnRWYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5P\nYmplY3RWYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29u\nZi5QbHVnaW5WYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\nY29uZi5Qcm9kdWN0RGVyaXZhdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuU3RyaW5nTGlzdFZhbHVlOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi5jb25mLlN0cmluZ1ZhbHVlOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5pZGVudGlmaWVyLklkZW50aWZpZXJVdGls\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5qZGJjLkNvbm5lY3Rp\nb25EZWNvcmF0b3I7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmpk\nYmMuRGVjb3JhdGluZ0RhdGFTb3VyY2U7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmpkYmMuSkRCQ0xpc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmxpYi5sb2cuTG9nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5tZXRhLk1ldGFEYXRhRmFjdG9yeTsKCi8qKgogKiBEZWZhdWx0IGlt\ncGxlbWVudGF0aW9uIG9mIHRoZSB7QGxpbmsgSkRCQ0NvbmZpZ3VyYXRpb259\nIGludGVyZmFjZS4KICoKICogQGF1dGhvciBNYXJjIFBydWQnaG9tbWVhdXgK\nICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBKREJDQ29u\nZmlndXJhdGlvbkltcGwKICAgIGV4dGVuZHMgT3BlbkpQQUNvbmZpZ3VyYXRp\nb25JbXBsCiAgICBpbXBsZW1lbnRzIEpEQkNDb25maWd1cmF0aW9uIHsKCiAg\nICBwdWJsaWMgU3RyaW5nVmFsdWUgc2NoZW1hOwogICAgcHVibGljIFN0cmlu\nZ0xpc3RWYWx1ZSBzY2hlbWFzOwogICAgcHVibGljIEludFZhbHVlIHRyYW5z\nYWN0aW9uSXNvbGF0aW9uOwogICAgcHVibGljIEludFZhbHVlIHJlc3VsdFNl\ndFR5cGU7CiAgICBwdWJsaWMgSW50VmFsdWUgZmV0Y2hEaXJlY3Rpb247CiAg\nICBwdWJsaWMgRmV0Y2hNb2RlVmFsdWUgZWFnZXJGZXRjaE1vZGU7CiAgICBw\ndWJsaWMgRmV0Y2hNb2RlVmFsdWUgc3ViY2xhc3NGZXRjaE1vZGU7CiAgICBw\ndWJsaWMgSW50VmFsdWUgbHJzU2l6ZTsKICAgIHB1YmxpYyBTdHJpbmdWYWx1\nZSBzeW5jaHJvbml6ZU1hcHBpbmdzOwogICAgcHVibGljIE9iamVjdFZhbHVl\nIGpkYmNMaXN0ZW5lclBsdWdpbnM7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUg\nY29ubmVjdGlvbkRlY29yYXRvclBsdWdpbnM7CiAgICBwdWJsaWMgUGx1Z2lu\nVmFsdWUgZGJkaWN0aW9uYXJ5UGx1Z2luOwogICAgcHVibGljIE9iamVjdFZh\nbHVlIHVwZGF0ZU1hbmFnZXJQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFs\ndWUgc2NoZW1hRmFjdG9yeVBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1\nZSBzcWxGYWN0b3J5UGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIG1h\ncHBpbmdEZWZhdWx0c1BsdWdpbjsKICAgIHB1YmxpYyBQbHVnaW5WYWx1ZSBk\ncml2ZXJEYXRhU291cmNlUGx1Z2luOwogICAgcHVibGljIE1hcHBpbmdGYWN0\nb3J5VmFsdWUgbWFwcGluZ0ZhY3RvcnlQbHVnaW47CiAgICBwdWJsaWMgT2Jq\nZWN0VmFsdWUgaWRlbnRpZmllclV0aWxQbHVnaW47CgogICAgLy8gdXNlZCBp\nbnRlcm5hbGx5CiAgICBwcml2YXRlIFN0cmluZyBmaXJzdFVzZXIgPSBudWxs\nOwogICAgcHJpdmF0ZSBTdHJpbmcgZmlyc3RQYXNzID0gbnVsbDsKICAgIHBy\naXZhdGUgRGVjb3JhdGluZ0RhdGFTb3VyY2UgZGF0YVNvdXJjZSA9IG51bGw7\nCiAgICBwcml2YXRlIERlY29yYXRpbmdEYXRhU291cmNlIGRhdGFTb3VyY2Uy\nID0gbnVsbDsKCiAgICAvKioKICAgICAqIERlZmF1bHQgY29uc3RydWN0b3Iu\nIEF0dGVtcHRzIHRvIGxvYWQgZGVmYXVsdCBwcm9wZXJ0aWVzLgogICAgICov\nCiAgICBwdWJsaWMgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKCkgewogICAgICAg\nIHRoaXModHJ1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rv\nci4KICAgICAqCiAgICAgKiBAcGFyYW0gbG9hZEdsb2JhbHMgd2hldGhlciB0\nbyBhdHRlbXB0IHRvIGxvYWQgdGhlIGdsb2JhbCBwcm9wZXJ0aWVzCiAgICAg\nKi8KICAgIHB1YmxpYyBKREJDQ29uZmlndXJhdGlvbkltcGwoYm9vbGVhbiBs\nb2FkR2xvYmFscykgewogICAgICAgIHRoaXModHJ1ZSwgbG9hZEdsb2JhbHMp\nOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuCiAgICAgKgog\nICAgICogQHBhcmFtIGRlcml2YXRpb25zIHdoZXRoZXIgdG8gYXBwbHkgcHJv\nZHVjdCBkZXJpdmF0aW9ucwogICAgICogQHBhcmFtIGxvYWRHbG9iYWxzIHdo\nZXRoZXIgdG8gYXR0ZW1wdCB0byBsb2FkIHRoZSBnbG9iYWwgcHJvcGVydGll\ncwogICAgICovCiAgICBwdWJsaWMgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKGJv\nb2xlYW4gZGVyaXZhdGlvbnMsIGJvb2xlYW4gbG9hZEdsb2JhbHMpIHsKICAg\nICAgICBzdXBlcihmYWxzZSwgZmFsc2UpOwogICAgICAgIFN0cmluZ1tdIGFs\naWFzZXM7CgogICAgICAgIHNjaGVtYSA9IGFkZFN0cmluZygiamRiYy5TY2hl\nbWEiKTsKICAgICAgICBzY2hlbWFzID0gYWRkU3RyaW5nTGlzdCgiamRiYy5T\nY2hlbWFzIik7CgogICAgICAgIHRyYW5zYWN0aW9uSXNvbGF0aW9uID0gYWRk\nSW50KCJqZGJjLlRyYW5zYWN0aW9uSXNvbGF0aW9uIik7CiAgICAgICAgYWxp\nYXNlcyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAgICAgImRlZmF1bHQiLCBT\ndHJpbmcudmFsdWVPZigtMSksCiAgICAgICAgICAgICJub25lIiwgU3RyaW5n\nLnZhbHVlT2YoQ29ubmVjdGlvbi5UUkFOU0FDVElPTl9OT05FKSwKICAgICAg\nICAgICAgInJlYWQtY29tbWl0dGVkIiwgU3RyaW5nLnZhbHVlT2YKICAgICAg\nICAgICAgKENvbm5lY3Rpb24uVFJBTlNBQ1RJT05fUkVBRF9DT01NSVRURUQp\nLAogICAgICAgICAgICAicmVhZC11bmNvbW1pdHRlZCIsIFN0cmluZy52YWx1\nZU9mCiAgICAgICAgICAgIChDb25uZWN0aW9uLlRSQU5TQUNUSU9OX1JFQURf\nVU5DT01NSVRURUQpLAogICAgICAgICAgICAicmVwZWF0YWJsZS1yZWFkIiwg\nU3RyaW5nLnZhbHVlT2YKICAgICAgICAgICAgKENvbm5lY3Rpb24uVFJBTlNB\nQ1RJT05fUkVQRUFUQUJMRV9SRUFEKSwKICAgICAgICAgICAgInNlcmlhbGl6\nYWJsZSIsIFN0cmluZy52YWx1ZU9mKENvbm5lY3Rpb24uVFJBTlNBQ1RJT05f\nU0VSSUFMSVpBQkxFKQogICAgICAgIH07CiAgICAgICAgdHJhbnNhY3Rpb25J\nc29sYXRpb24uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICB0cmFuc2Fj\ndGlvbklzb2xhdGlvbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAg\nIHRyYW5zYWN0aW9uSXNvbGF0aW9uLnNldCgtMSk7CiAgICAgICAgdHJhbnNh\nY3Rpb25Jc29sYXRpb24uc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVl\nKTsKCiAgICAgICAgcmVzdWx0U2V0VHlwZSA9IGFkZEludCgiamRiYy5SZXN1\nbHRTZXRUeXBlIik7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXXsK\nICAgICAgICAgICAgImZvcndhcmQtb25seSIsIFN0cmluZy52YWx1ZU9mKFJl\nc3VsdFNldC5UWVBFX0ZPUldBUkRfT05MWSksCiAgICAgICAgICAgICJzY3Jv\nbGwtc2Vuc2l0aXZlIiwgU3RyaW5nLnZhbHVlT2YKICAgICAgICAgICAgKFJl\nc3VsdFNldC5UWVBFX1NDUk9MTF9TRU5TSVRJVkUpLAogICAgICAgICAgICAi\nc2Nyb2xsLWluc2Vuc2l0aXZlIiwgU3RyaW5nLnZhbHVlT2YKICAgICAgICAg\nICAgKFJlc3VsdFNldC5UWVBFX1NDUk9MTF9JTlNFTlNJVElWRSksCiAgICAg\nICAgfTsKICAgICAgICByZXN1bHRTZXRUeXBlLnNldEFsaWFzZXMoYWxpYXNl\ncyk7CiAgICAgICAgcmVzdWx0U2V0VHlwZS5zZXREZWZhdWx0KGFsaWFzZXNb\nMF0pOwogICAgICAgIHJlc3VsdFNldFR5cGUuc2V0KFJlc3VsdFNldC5UWVBF\nX0ZPUldBUkRfT05MWSk7CiAgICAgICAgcmVzdWx0U2V0VHlwZS5zZXRBbGlh\nc0xpc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBmZXRjaERpcmVj\ndGlvbiA9IGFkZEludCgiamRiYy5GZXRjaERpcmVjdGlvbiIpOwogICAgICAg\nIGFsaWFzZXMgPSBuZXcgU3RyaW5nW117CiAgICAgICAgICAgICJmb3J3YXJk\nIiwgU3RyaW5nLnZhbHVlT2YoUmVzdWx0U2V0LkZFVENIX0ZPUldBUkQpLAog\nICAgICAgICAgICAicmV2ZXJzZSIsIFN0cmluZy52YWx1ZU9mKFJlc3VsdFNl\ndC5GRVRDSF9SRVZFUlNFKSwKICAgICAgICAgICAgInVua25vd24iLCBTdHJp\nbmcudmFsdWVPZihSZXN1bHRTZXQuRkVUQ0hfVU5LTk9XTiksCiAgICAgICAg\nfTsKICAgICAgICBmZXRjaERpcmVjdGlvbi5zZXRBbGlhc2VzKGFsaWFzZXMp\nOwogICAgICAgIGZldGNoRGlyZWN0aW9uLnNldERlZmF1bHQoYWxpYXNlc1sw\nXSk7CiAgICAgICAgZmV0Y2hEaXJlY3Rpb24uc2V0KFJlc3VsdFNldC5GRVRD\nSF9GT1JXQVJEKTsKICAgICAgICBmZXRjaERpcmVjdGlvbi5zZXRBbGlhc0xp\nc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBlYWdlckZldGNoTW9k\nZSA9IG5ldyBGZXRjaE1vZGVWYWx1ZSgiamRiYy5FYWdlckZldGNoTW9kZSIp\nOwogICAgICAgIGVhZ2VyRmV0Y2hNb2RlLnNldERlZmF1bHQoRmV0Y2hNb2Rl\nVmFsdWUuRUFHRVJfUEFSQUxMRUwpOwogICAgICAgIGVhZ2VyRmV0Y2hNb2Rl\nLnNldChFYWdlckZldGNoTW9kZXMuRUFHRVJfUEFSQUxMRUwpOwogICAgICAg\nIGFkZFZhbHVlKGVhZ2VyRmV0Y2hNb2RlKTsKCiAgICAgICAgc3ViY2xhc3NG\nZXRjaE1vZGUgPSBuZXcgRmV0Y2hNb2RlVmFsdWUoImpkYmMuU3ViY2xhc3NG\nZXRjaE1vZGUiKTsKICAgICAgICBzdWJjbGFzc0ZldGNoTW9kZS5zZXREZWZh\ndWx0KEZldGNoTW9kZVZhbHVlLkVBR0VSX0pPSU4pOwogICAgICAgIHN1YmNs\nYXNzRmV0Y2hNb2RlLnNldChFYWdlckZldGNoTW9kZXMuRUFHRVJfSk9JTik7\nCiAgICAgICAgYWRkVmFsdWUoc3ViY2xhc3NGZXRjaE1vZGUpOwoKICAgICAg\nICBscnNTaXplID0gYWRkSW50KCJqZGJjLkxSU1NpemUiKTsKICAgICAgICBh\nbGlhc2VzID0gbmV3IFN0cmluZ1tdewogICAgICAgICAgICAicXVlcnkiLCBT\ndHJpbmcudmFsdWVPZihMUlNTaXplcy5TSVpFX1FVRVJZKSwKICAgICAgICAg\nICAgInVua25vd24iLCBTdHJpbmcudmFsdWVPZihMUlNTaXplcy5TSVpFX1VO\nS05PV04pLAogICAgICAgICAgICAibGFzdCIsIFN0cmluZy52YWx1ZU9mKExS\nU1NpemVzLlNJWkVfTEFTVCksCiAgICAgICAgfTsKICAgICAgICBscnNTaXpl\nLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgbHJzU2l6ZS5zZXREZWZh\ndWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGxyc1NpemUuc2V0KExSU1NpemVz\nLlNJWkVfUVVFUlkpOwogICAgICAgIGxyc1NpemUuc2V0QWxpYXNMaXN0Q29t\ncHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAgc3luY2hyb25pemVNYXBwaW5n\ncyA9IGFkZFN0cmluZygiamRiYy5TeW5jaHJvbml6ZU1hcHBpbmdzIik7CiAg\nICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXXsgImZhbHNlIiwgbnVsbCB9\nOwogICAgICAgIHN5bmNocm9uaXplTWFwcGluZ3Muc2V0QWxpYXNlcyhhbGlh\nc2VzKTsKICAgICAgICBzeW5jaHJvbml6ZU1hcHBpbmdzLnNldERlZmF1bHQo\nYWxpYXNlc1swXSk7CgogICAgICAgIGpkYmNMaXN0ZW5lclBsdWdpbnMgPSBh\nZGRQbHVnaW5MaXN0KCJqZGJjLkpEQkNMaXN0ZW5lcnMiKTsKICAgICAgICBq\nZGJjTGlzdGVuZXJQbHVnaW5zLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdl\ndEpEQkNMaXN0ZW5lckluc3RhbmNlcyIpOwoKICAgICAgICBjb25uZWN0aW9u\nRGVjb3JhdG9yUGx1Z2lucyA9IGFkZFBsdWdpbkxpc3QKICAgICAgICAgICAg\nKCJqZGJjLkNvbm5lY3Rpb25EZWNvcmF0b3JzIik7CiAgICAgICAgY29ubmVj\ndGlvbkRlY29yYXRvclBsdWdpbnMuc2V0SW5zdGFudGlhdGluZ0dldHRlcgog\nICAgICAgICAgICAoImdldENvbm5lY3Rpb25EZWNvcmF0b3JJbnN0YW5jZXMi\nKTsKCiAgICAgICAgZGJkaWN0aW9uYXJ5UGx1Z2luID0gYWRkUGx1Z2luKCJq\nZGJjLkRCRGljdGlvbmFyeSIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBu\nZXcgU3RyaW5nW117CiAgICAgICAgICAgICJhY2Nlc3MiLCAib3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc3FsLkFjY2Vzc0RpY3Rpb25hcnkiLAogICAgICAg\nICAgICAiZGIyIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQjJE\naWN0aW9uYXJ5IiwKICAgICAgICAgICAgImRlcmJ5IiwgIm9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbC5EZXJieURpY3Rpb25hcnkiLAogICAgICAgICAg\nICAiZW1wcmVzcyIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuRW1w\ncmVzc0RpY3Rpb25hcnkiLAogICAgICAgICAgICAiZm94cHJvIiwgIm9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Gb3hQcm9EaWN0aW9uYXJ5IiwKICAg\nICAgICAgICAgImgyIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5I\nMkRpY3Rpb25hcnkiLAogICAgICAgICAgICAiaHNxbCIsICJvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5zcWwuSFNRTERpY3Rpb25hcnkiLAogICAgICAgICAg\nICAiaW5mb3JtaXgiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLklu\nZm9ybWl4RGljdGlvbmFyeSIsCiAgICAgICAgICAgICJpbmdyZXMiLCAib3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkluZ3Jlc0RpY3Rpb25hcnkiLAog\nICAgICAgICAgICAiamRhdGFzdG9yZSIsICJvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuSkRhdGFTdG9yZURpY3Rpb25hcnkiLAogICAgICAgICAgICAi\nbXlzcWwiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLk15U1FMRGlj\ndGlvbmFyeSIsCiAgICAgICAgICAgICJvcmFjbGUiLCAib3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLk9yYWNsZURpY3Rpb25hcnkiLAogICAgICAgICAg\nICAicG9pbnRiYXNlIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Q\nb2ludGJhc2VEaWN0aW9uYXJ5IiwKICAgICAgICAgICAgInBvc3RncmVzIiwg\nIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Qb3N0Z3Jlc0RpY3Rpb25h\ncnkiLAogICAgICAgICAgICAic3Fsc2VydmVyIiwgIm9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNxbC5TUUxTZXJ2ZXJEaWN0aW9uYXJ5IiwKICAgICAgICAg\nICAgInN5YmFzZSIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU3li\nYXNlRGljdGlvbmFyeSIsCiAgICAgICAgfTsKICAgICAgICBkYmRpY3Rpb25h\ncnlQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBkYmRpY3Rp\nb25hcnlQbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0REJEaWN0\naW9uYXJ5SW5zdGFuY2UiKTsKCiAgICAgICAgdXBkYXRlTWFuYWdlclBsdWdp\nbiA9IGFkZFBsdWdpbigiamRiYy5VcGRhdGVNYW5hZ2VyIiwgdHJ1ZSk7CiAg\nICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAgICAgImRl\nZmF1bHQiLAogICAgICAgICAgICBCYXRjaGluZ0NvbnN0cmFpbnRVcGRhdGVN\nYW5hZ2VyLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICAgICAgIm9wZXJhdGlv\nbi1vcmRlciIsCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5rZXJuZWwuT3BlcmF0aW9uT3JkZXJVcGRhdGVNYW5hZ2VyIiwKICAgICAg\nICAgICAgImNvbnN0cmFpbnQiLAogICAgICAgICAgICAib3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMua2VybmVsLkNvbnN0cmFpbnRVcGRhdGVNYW5hZ2VyIiwK\nICAgICAgICAgICAgImJhdGNoaW5nLWNvbnN0cmFpbnQiLAogICAgICAgICAg\nICBCYXRjaGluZ0NvbnN0cmFpbnRVcGRhdGVNYW5hZ2VyLmNsYXNzLmdldE5h\nbWUoKSwKICAgICAgICAgICAgImJhdGNoaW5nLW9wZXJhdGlvbi1vcmRlciIs\nCiAgICAgICAgICAgIEJhdGNoaW5nT3BlcmF0aW9uT3JkZXJVcGRhdGVNYW5h\nZ2VyLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICB9OwogICAgICAgIHVwZGF0\nZU1hbmFnZXJQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICB1\ncGRhdGVNYW5hZ2VyUGx1Z2luLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAg\nICAgICAgdXBkYXRlTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1sw\nXSk7CiAgICAgICAgdXBkYXRlTWFuYWdlclBsdWdpbi5zZXRJbnN0YW50aWF0\naW5nR2V0dGVyKCJnZXRVcGRhdGVNYW5hZ2VySW5zdGFuY2UiKTsKCiAgICAg\nICAgZHJpdmVyRGF0YVNvdXJjZVBsdWdpbiA9IGFkZFBsdWdpbigiamRiYy5E\ncml2ZXJEYXRhU291cmNlIiwgZmFsc2UpOwogICAgICAgIGFsaWFzZXMgPSBu\nZXcgU3RyaW5nW117CiAgICAgICAgICAgICJzaW1wbGUiLCAib3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc2NoZW1hLlNpbXBsZURyaXZlckRhdGFTb3VyY2Ui\nLAogICAgICAgIH07CiAgICAgICAgZHJpdmVyRGF0YVNvdXJjZVBsdWdpbi5z\nZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGRyaXZlckRhdGFTb3VyY2VQ\nbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBkcml2ZXJE\nYXRhU291cmNlUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKCiAgICAg\nICAgc2NoZW1hRmFjdG9yeVBsdWdpbiA9IGFkZFBsdWdpbigiamRiYy5TY2hl\nbWFGYWN0b3J5IiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJp\nbmdbXXsKICAgICAgICAgICAgImR5bmFtaWMiLCAib3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc2NoZW1hLkR5bmFtaWNTY2hlbWFGYWN0b3J5IiwKICAgICAg\nICAgICAgIm5hdGl2ZSIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hl\nbWEuTGF6eVNjaGVtYUZhY3RvcnkiLAogICAgICAgICAgICAiZmlsZSIsICJv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuRmlsZVNjaGVtYUZhY3Rv\ncnkiLAogICAgICAgICAgICAidGFibGUiLCAib3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuc2NoZW1hLlRhYmxlU2NoZW1hRmFjdG9yeSIsCiAgICAgICAgICAg\nIC8vIGRlcHJlY2F0ZWQgYWxpYXMKICAgICAgICAgICAgImRiIiwgIm9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5UYWJsZVNjaGVtYUZhY3Rvcnki\nLAogICAgICAgIH07CiAgICAgICAgc2NoZW1hRmFjdG9yeVBsdWdpbi5zZXRB\nbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHNjaGVtYUZhY3RvcnlQbHVnaW4u\nc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBzY2hlbWFGYWN0b3J5\nUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBzY2hlbWFG\nYWN0b3J5UGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldFNjaGVt\nYUZhY3RvcnlJbnN0YW5jZSIpOwoKICAgICAgICBzcWxGYWN0b3J5UGx1Z2lu\nID0gYWRkUGx1Z2luKCJqZGJjLlNRTEZhY3RvcnkiLCB0cnVlKTsKICAgICAg\nICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdewogICAgICAgICAgICAiZGVmYXVs\ndCIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FMRmFjdG9yeUlt\ncGwiLAogICAgICAgIH07CiAgICAgICAgc3FsRmFjdG9yeVBsdWdpbi5zZXRB\nbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHNxbEZhY3RvcnlQbHVnaW4uc2V0\nRGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBzcWxGYWN0b3J5UGx1Z2lu\nLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBzcWxGYWN0b3J5UGx1\nZ2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldFNRTEZhY3RvcnlJbnN0\nYW5jZSIpOwoKICAgICAgICBtYXBwaW5nRmFjdG9yeVBsdWdpbiA9IG5ldyBN\nYXBwaW5nRmFjdG9yeVZhbHVlKCJqZGJjLk1hcHBpbmdGYWN0b3J5Iik7CiAg\nICAgICAgYWRkVmFsdWUobWFwcGluZ0ZhY3RvcnlQbHVnaW4pOwoKICAgICAg\nICBtYXBwaW5nRGVmYXVsdHNQbHVnaW4gPSBhZGRQbHVnaW4oImpkYmMuTWFw\ncGluZ0RlZmF1bHRzIiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBT\ndHJpbmdbXXsKICAgICAgICAgICAgImRlZmF1bHQiLCAib3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMubWV0YS5NYXBwaW5nRGVmYXVsdHNJbXBsIiwKICAgICAg\nICB9OwogICAgICAgIG1hcHBpbmdEZWZhdWx0c1BsdWdpbi5zZXRBbGlhc2Vz\nKGFsaWFzZXMpOwogICAgICAgIG1hcHBpbmdEZWZhdWx0c1BsdWdpbi5zZXRE\nZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIG1hcHBpbmdEZWZhdWx0c1Bs\ndWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CiAgICAgICAgbWFwcGluZ0Rl\nZmF1bHRzUGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIKICAgICAgICAg\nICAgKCJnZXRNYXBwaW5nRGVmYXVsdHNJbnN0YW5jZSIpOwoKICAgICAgICAv\nLyBzZXQgdXAgYnJva2VyIGZhY3RvcnkgZGVmYXVsdHMKICAgICAgICBicm9r\nZXJGYWN0b3J5UGx1Z2luLnNldEFsaWFzKCJqZGJjIiwgSkRCQ0Jyb2tlckZh\nY3RvcnkuY2xhc3MuZ2V0TmFtZSgpKTsKICAgICAgICBicm9rZXJGYWN0b3J5\nUGx1Z2luLnNldERlZmF1bHQoImpkYmMiKTsKICAgICAgICBicm9rZXJGYWN0\nb3J5UGx1Z2luLnNldFN0cmluZygiamRiYyIpOwoKICAgICAgICAvLyBzZXQg\nbmV3IGRlZmF1bHQgZm9yIG1hcHBpbmcgcmVwb3MKICAgICAgICBtZXRhUmVw\nb3NpdG9yeVBsdWdpbi5zZXRBbGlhcygiZGVmYXVsdCIsCiAgICAgICAgICAg\nICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLk1hcHBpbmdSZXBvc2l0\nb3J5Iik7CiAgICAgICAgbWV0YVJlcG9zaXRvcnlQbHVnaW4uc2V0RGVmYXVs\ndCgiZGVmYXVsdCIpOwogICAgICAgIG1ldGFSZXBvc2l0b3J5UGx1Z2luLnNl\ndFN0cmluZygiZGVmYXVsdCIpOwoKICAgICAgICAvLyBzZXQgbmV3IGRlZmF1\nbHQgZm9yIGxvY2sgbWFuYWdlcgogICAgICAgIGxvY2tNYW5hZ2VyUGx1Z2lu\nLnNldEFsaWFzKCJwZXNzaW1pc3RpYyIsCiAgICAgICAgICAgIFBlc3NpbWlz\ndGljTG9ja01hbmFnZXIuY2xhc3MuZ2V0TmFtZSgpKTsKICAgICAgICBsb2Nr\nTWFuYWdlclBsdWdpbi5zZXREZWZhdWx0KCJwZXNzaW1pc3RpYyIpOwogICAg\nICAgIGxvY2tNYW5hZ2VyUGx1Z2luLnNldFN0cmluZygicGVzc2ltaXN0aWMi\nKTsKCiAgICAgICAgLy8gbmF0aXZlIHNhdmVwb2ludCBtYW5hZ2VyIG9wdGlv\nbnMKICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLnNldEFsaWFzKCJq\nZGJjIiwKICAgICAgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtl\ncm5lbC5KREJDM1NhdmVwb2ludE1hbmFnZXIiKTsKCiAgICAgICAgLy8gc2V0\nIG5ldyBhbGlhc2VzIGFuZCBkZWZhdWx0cyBmb3Igc2VxdWVuY2UKICAgICAg\nICBzZXFQbHVnaW4uc2V0QWxpYXNlcyhKREJDU2VxVmFsdWUuQUxJQVNFUyk7\nCiAgICAgICAgc2VxUGx1Z2luLnNldERlZmF1bHQoSkRCQ1NlcVZhbHVlLkFM\nSUFTRVNbMF0pOwogICAgICAgIHNlcVBsdWdpbi5zZXRTdHJpbmcoSkRCQ1Nl\ncVZhbHVlLkFMSUFTRVNbMF0pOwogICAgICAgIAogICAgICAgIC8vIFRoaXMg\ncGx1Zy1pbiBpcyBkZWNsYXJlZCBpbiBzdXBlcmNsYXNzIGJ1dCBkZWZpbmVk\nIGhlcmUKICAgICAgICAvLyBiZWNhdXNlIFByZXBhcmVkUXVlcnlDYWNoZSBp\ncyBjdXJyZW50bHkgYXZhaWxhYmxlIGZvciBKREJDCiAgICAgICAgLy8gYmFj\na2VuZCBvbmx5CiAgICAgICAgcHJlcGFyZWRRdWVyeUNhY2hlUGx1Z2luID0g\nYWRkUGx1Z2luKCJqZGJjLlF1ZXJ5U1FMQ2FjaGUiLCB0cnVlKTsKICAgICAg\nICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsKICAgICAgICAgICAgInRydWUi\nLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLlByZXBhcmVkUXVl\ncnlDYWNoZUltcGwiLAogICAgICAgICAgICAiZmFsc2UiLCBudWxsCiAgICAg\nICAgfTsKICAgICAgICBwcmVwYXJlZFF1ZXJ5Q2FjaGVQbHVnaW4uc2V0QWxp\nYXNlcyhhbGlhc2VzKTsKICAgICAgICBwcmVwYXJlZFF1ZXJ5Q2FjaGVQbHVn\naW4uc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKICAgICAgICBw\ncmVwYXJlZFF1ZXJ5Q2FjaGVQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBd\nKTsKICAgICAgICBwcmVwYXJlZFF1ZXJ5Q2FjaGVQbHVnaW4uc2V0Q2xhc3NO\nYW1lKGFsaWFzZXNbMV0pOwogICAgICAgIHByZXBhcmVkUXVlcnlDYWNoZVBs\ndWdpbi5zZXREeW5hbWljKHRydWUpOwogICAgICAgIHByZXBhcmVkUXVlcnlD\nYWNoZVBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKAogICAgICAgICAg\nICAgICAgImdldFF1ZXJ5U1FMQ2FjaGVJbnN0YW5jZSIpOwoKICAgICAgICBm\naW5kZXJDYWNoZVBsdWdpbiA9IGFkZFBsdWdpbigiamRiYy5GaW5kZXJDYWNo\nZSIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW10gewog\nICAgICAgICAgICAidHJ1ZSIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5r\nZXJuZWwuRmluZGVyQ2FjaGVJbXBsIiwKICAgICAgICAgICAgImZhbHNlIiwg\nbnVsbAogICAgICAgIH07CiAgICAgICAgZmluZGVyQ2FjaGVQbHVnaW4uc2V0\nQWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBmaW5kZXJDYWNoZVBsdWdpbi5z\nZXRBbGlhc0xpc3RDb21wcmVoZW5zaXZlKHRydWUpOwogICAgICAgIGZpbmRl\nckNhY2hlUGx1Z2luLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAg\nZmluZGVyQ2FjaGVQbHVnaW4uc2V0Q2xhc3NOYW1lKGFsaWFzZXNbMV0pOwog\nICAgICAgIGZpbmRlckNhY2hlUGx1Z2luLnNldER5bmFtaWModHJ1ZSk7CiAg\nICAgICAgZmluZGVyQ2FjaGVQbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRl\ncigiZ2V0RmluZGVyQ2FjaGVJbnN0YW5jZSIpOwoKICAgICAgICBpZGVudGlm\naWVyVXRpbFBsdWdpbiA9IGFkZFBsdWdpbigiamRiYy5JZGVudGlmaWVyVXRp\nbCIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW10geyAK\nICAgICAgICAgICAgImRlZmF1bHQiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuaWRlbnRpZmllci5EQklkZW50aWZpZXJVdGlsSW1wbCIgfTsKICAgICAg\nICBpZGVudGlmaWVyVXRpbFBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwog\nICAgICAgIGlkZW50aWZpZXJVdGlsUGx1Z2luLnNldERlZmF1bHQoYWxpYXNl\nc1swXSk7CiAgICAgICAgaWRlbnRpZmllclV0aWxQbHVnaW4uc2V0U3RyaW5n\nKGFsaWFzZXNbMF0pOwogICAgICAgIGlkZW50aWZpZXJVdGlsUGx1Z2luLnNl\ndEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldElkZW50aWZpZXJVdGlsSW5zdGFu\nY2UiKTsKCiAgICAgICAgCiAgICAgICAgLy8gdGhpcyBzdGF0aWMgaW5pdGlh\nbGl6ZXIgaXMgdG8gZ2V0IHBhc3QgYSB3ZWlyZAogICAgICAgIC8vIENsYXNz\nQ2lyY3VsYXJpdHlFcnJvciB0aGF0IGhhcHBlbnMgb25seSB1bmRlciBJQk0n\ncwogICAgICAgIC8vIEpESyAxLjMuMSBvbiBMaW51eCBmcm9tIHdpdGhpbiB0\naGUgSlJ1biBDbGFzc0xvYWRlcjsKICAgICAgICAvLyB3aGlsZSBleGFjdCBj\nYXVzZXMgYXJlIHVua25vd24sIGl0IGlzIGFsbW9zdCBjZXJ0YWlubHkKICAg\nICAgICAvLyBhIGJ1ZyBpbiBKUnVuLCBhbmQgd2UgY2FuIGdldCBhcm91bmQg\naXQgYnkgZm9yY2luZwogICAgICAgIC8vIEluc3RydWN0aW9uLmNsYXNzIHRv\nIGJlIGxvYWRlZCBhbmQgaW5pdGlhbGl6ZWQKICAgICAgICAvLyBiZWZvcmUg\nVHlwZWRJbnN0cnVjdGlvbi5jbGFzcwogICAgICAgIHRyeSB7IHNlcnAuYnl0\nZWNvZGUubG93bGV2ZWwuRW50cnkuY2xhc3MuZ2V0TmFtZSgpOyB9IAogICAg\nICAgIGNhdGNoIChUaHJvd2FibGUgdCkge30KICAgICAgICB0cnkgeyBzZXJw\nLmJ5dGVjb2RlLkluc3RydWN0aW9uLmNsYXNzLmdldE5hbWUoKTsgfSAKICAg\nICAgICBjYXRjaCAoVGhyb3dhYmxlIHQpIHt9CgogICAgICAgIHN1cHBvcnRl\nZE9wdGlvbnMoKS5hZGQoT1BUSU9OX1FVRVJZX1NRTCk7CiAgICAgICAgc3Vw\ncG9ydGVkT3B0aW9ucygpLmFkZChPUFRJT05fSkRCQ19DT05ORUNUSU9OKTsK\nICAgICAgICBzdXBwb3J0ZWRPcHRpb25zKCkucmVtb3ZlKE9QVElPTl9WQUxV\nRV9JTkNSRU1FTlQpOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMoKS5yZW1v\ndmUoT1BUSU9OX05VTExfQ09OVEFJTkVSKTsKCiAgICAgICAgaWYgKGRlcml2\nYXRpb25zKQogICAgICAgICAgICBQcm9kdWN0RGVyaXZhdGlvbnMuYmVmb3Jl\nQ29uZmlndXJhdGlvbkxvYWQodGhpcyk7CiAgICAgICAgaWYgKGxvYWRHbG9i\nYWxzKQogICAgICAgICAgICBsb2FkR2xvYmFscygpOwogICAgfQoKICAgIC8q\nKgogICAgICogQ29weSBjb25zdHJ1Y3RvcgogICAgICovCiAgICBwdWJsaWMg\nSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKEpEQkNDb25maWd1cmF0aW9uIGNvbmYp\nIHsKICAgICAgICB0aGlzKHRydWUsIGZhbHNlKTsKICAgICAgICBpZiAoY29u\nZiAhPSBudWxsKQogICAgICAgICAgICBmcm9tUHJvcGVydGllcyhjb25mLnRv\nUHJvcGVydGllcyhmYWxzZSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFNjaGVtYShTdHJpbmcgc2NoZW1hKSB7CiAgICAgICAgdGhpcy5zY2hlbWEu\nc2V0U3RyaW5nKHNjaGVtYSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRTY2hlbWEoKSB7CiAgICAgICAgcmV0dXJuIHNjaGVtYS5nZXRTdHJpbmco\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTY2hlbWFzKFN0cmluZyBz\nY2hlbWFzKSB7CiAgICAgICAgdGhpcy5zY2hlbWFzLnNldFN0cmluZyhzY2hl\nbWFzKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFNjaGVtYXMoKSB7\nCiAgICAgICAgcmV0dXJuIHNjaGVtYXMuZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0U2NoZW1hcyhTdHJpbmdbXSBzY2hlbWFzKSB7\nCiAgICAgICAgdGhpcy5zY2hlbWFzLnNldChzY2hlbWFzKTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nW10gZ2V0U2NoZW1hc0xpc3QoKSB7CiAgICAgICAg\ncmV0dXJuIHNjaGVtYXMuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0VHJhbnNhY3Rpb25Jc29sYXRpb24oU3RyaW5nIHRyYW5zYWN0aW9uSXNv\nbGF0aW9uKSB7CiAgICAgICAgdGhpcy50cmFuc2FjdGlvbklzb2xhdGlvbi5z\nZXRTdHJpbmcodHJhbnNhY3Rpb25Jc29sYXRpb24pOwogICAgfQoKICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0VHJhbnNhY3Rpb25Jc29sYXRpb24oKSB7CiAgICAg\nICAgcmV0dXJuIHRyYW5zYWN0aW9uSXNvbGF0aW9uLmdldFN0cmluZygpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRyYW5zYWN0aW9uSXNvbGF0aW9u\nKGludCB0cmFuc2FjdGlvbklzb2xhdGlvbikgewogICAgICAgIHRoaXMudHJh\nbnNhY3Rpb25Jc29sYXRpb24uc2V0KHRyYW5zYWN0aW9uSXNvbGF0aW9uKTsK\nICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFRyYW5zYWN0aW9uSXNvbGF0aW9u\nQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uSXNvbGF0\naW9uLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlc3VsdFNl\ndFR5cGUoU3RyaW5nIHJlc3VsdFNldFR5cGUpIHsKICAgICAgICB0aGlzLnJl\nc3VsdFNldFR5cGUuc2V0U3RyaW5nKHJlc3VsdFNldFR5cGUpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVzdWx0U2V0VHlwZSgpIHsKICAgICAg\nICByZXR1cm4gcmVzdWx0U2V0VHlwZS5nZXRTdHJpbmcoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRSZXN1bHRTZXRUeXBlKGludCByZXN1bHRTZXRU\neXBlKSB7CiAgICAgICAgdGhpcy5yZXN1bHRTZXRUeXBlLnNldChyZXN1bHRT\nZXRUeXBlKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFJlc3VsdFNldFR5\ncGVDb25zdGFudCgpIHsKICAgICAgICByZXR1cm4gcmVzdWx0U2V0VHlwZS5n\nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGZXRjaERpcmVjdGlv\nbihTdHJpbmcgZmV0Y2hEaXJlY3Rpb24pIHsKICAgICAgICB0aGlzLmZldGNo\nRGlyZWN0aW9uLnNldFN0cmluZyhmZXRjaERpcmVjdGlvbik7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXRGZXRjaERpcmVjdGlvbigpIHsKICAgICAg\nICByZXR1cm4gZmV0Y2hEaXJlY3Rpb24uZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0RmV0Y2hEaXJlY3Rpb24oaW50IGZldGNoRGly\nZWN0aW9uKSB7CiAgICAgICAgdGhpcy5mZXRjaERpcmVjdGlvbi5zZXQoZmV0\nY2hEaXJlY3Rpb24pOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0RmV0Y2hE\naXJlY3Rpb25Db25zdGFudCgpIHsKICAgICAgICByZXR1cm4gZmV0Y2hEaXJl\nY3Rpb24uZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RWFnZXJG\nZXRjaE1vZGUoU3RyaW5nIGVhZ2VyRmV0Y2hNb2RlKSB7CiAgICAgICAgdGhp\ncy5lYWdlckZldGNoTW9kZS5zZXRTdHJpbmcoZWFnZXJGZXRjaE1vZGUpOwog\nICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RWFnZXJGZXRjaE1vZGUoKSB7\nCiAgICAgICAgcmV0dXJuIGVhZ2VyRmV0Y2hNb2RlLmdldFN0cmluZygpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEVhZ2VyRmV0Y2hNb2RlKGludCBl\nYWdlckZldGNoTW9kZSkgewogICAgICAgIHRoaXMuZWFnZXJGZXRjaE1vZGUu\nc2V0KGVhZ2VyRmV0Y2hNb2RlKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdl\ndEVhZ2VyRmV0Y2hNb2RlQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIGVh\nZ2VyRmV0Y2hNb2RlLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFN1YmNsYXNzRmV0Y2hNb2RlKFN0cmluZyBzdWJjbGFzc0ZldGNoTW9kZSkg\newogICAgICAgIHRoaXMuc3ViY2xhc3NGZXRjaE1vZGUuc2V0U3RyaW5nKHN1\nYmNsYXNzRmV0Y2hNb2RlKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndFN1YmNsYXNzRmV0Y2hNb2RlKCkgewogICAgICAgIHJldHVybiBzdWJjbGFz\nc0ZldGNoTW9kZS5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRTdWJjbGFzc0ZldGNoTW9kZShpbnQgc3ViY2xhc3NGZXRjaE1vZGUp\nIHsKICAgICAgICB0aGlzLnN1YmNsYXNzRmV0Y2hNb2RlLnNldChzdWJjbGFz\nc0ZldGNoTW9kZSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRTdWJjbGFz\nc0ZldGNoTW9kZUNvbnN0YW50KCkgewogICAgICAgIHJldHVybiBzdWJjbGFz\nc0ZldGNoTW9kZS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRM\nUlNTaXplKFN0cmluZyBscnNTaXplKSB7CiAgICAgICAgdGhpcy5scnNTaXpl\nLnNldFN0cmluZyhscnNTaXplKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIGdldExSU1NpemUoKSB7CiAgICAgICAgcmV0dXJuIGxyc1NpemUuZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TFJTU2l6ZShpbnQg\nbHJzU2l6ZSkgewogICAgICAgIHRoaXMubHJzU2l6ZS5zZXQobHJzU2l6ZSk7\nCiAgICB9CgogICAgcHVibGljIGludCBnZXRMUlNTaXplQ29uc3RhbnQoKSB7\nCiAgICAgICAgcmV0dXJuIGxyc1NpemUuZ2V0KCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0U3luY2hyb25pemVNYXBwaW5ncyhTdHJpbmcgc3luY2hy\nb25pemVNYXBwaW5ncykgewogICAgICAgIHRoaXMuc3luY2hyb25pemVNYXBw\naW5ncy5zZXQoc3luY2hyb25pemVNYXBwaW5ncyk7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyBnZXRTeW5jaHJvbml6ZU1hcHBpbmdzKCkgewogICAgICAg\nIHJldHVybiBzeW5jaHJvbml6ZU1hcHBpbmdzLmdldCgpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldEpEQkNMaXN0ZW5lcnMoU3RyaW5nIGpkYmNMaXN0\nZW5lcnMpIHsKICAgICAgICBqZGJjTGlzdGVuZXJQbHVnaW5zLnNldFN0cmlu\nZyhqZGJjTGlzdGVuZXJzKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndEpEQkNMaXN0ZW5lcnMoKSB7CiAgICAgICAgcmV0dXJuIGpkYmNMaXN0ZW5l\nclBsdWdpbnMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0SkRCQ0xpc3RlbmVycyhKREJDTGlzdGVuZXJbXSBsaXN0ZW5lcnMpIHsK\nICAgICAgICBqZGJjTGlzdGVuZXJQbHVnaW5zLnNldChsaXN0ZW5lcnMpOwog\nICAgfQoKICAgIHB1YmxpYyBKREJDTGlzdGVuZXJbXSBnZXRKREJDTGlzdGVu\nZXJJbnN0YW5jZXMoKSB7CiAgICAgICAgaWYgKGpkYmNMaXN0ZW5lclBsdWdp\nbnMuZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgamRiY0xpc3RlbmVyUGx1\nZ2lucy5pbnN0YW50aWF0ZShKREJDTGlzdGVuZXIuY2xhc3MsIHRoaXMpOwog\nICAgICAgIHJldHVybiAoSkRCQ0xpc3RlbmVyW10pIGpkYmNMaXN0ZW5lclBs\ndWdpbnMuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVj\ndGlvbkRlY29yYXRvcnMoU3RyaW5nIGNvbm5lY3Rpb25EZWNvcmF0b3JzKSB7\nCiAgICAgICAgY29ubmVjdGlvbkRlY29yYXRvclBsdWdpbnMuc2V0U3RyaW5n\nKGNvbm5lY3Rpb25EZWNvcmF0b3JzKTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldENvbm5lY3Rpb25EZWNvcmF0b3JzKCkgewogICAgICAgIHJldHVy\nbiBjb25uZWN0aW9uRGVjb3JhdG9yUGx1Z2lucy5nZXRTdHJpbmcoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRGVjb3JhdG9ycyhD\nb25uZWN0aW9uRGVjb3JhdG9yW10gZGVjb3JhdG9ycykgewogICAgICAgIGNv\nbm5lY3Rpb25EZWNvcmF0b3JQbHVnaW5zLnNldChkZWNvcmF0b3JzKTsKICAg\nIH0KCiAgICBwdWJsaWMgQ29ubmVjdGlvbkRlY29yYXRvcltdIGdldENvbm5l\nY3Rpb25EZWNvcmF0b3JJbnN0YW5jZXMoKSB7CiAgICAgICAgaWYgKGNvbm5l\nY3Rpb25EZWNvcmF0b3JQbHVnaW5zLmdldCgpID09IG51bGwpIHsKICAgICAg\nICAgICAgY29ubmVjdGlvbkRlY29yYXRvclBsdWdpbnMuaW5zdGFudGlhdGUK\nICAgICAgICAgICAgICAgIChDb25uZWN0aW9uRGVjb3JhdG9yLmNsYXNzLCB0\naGlzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChDb25uZWN0aW9uRGVj\nb3JhdG9yW10pIGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVnaW5zLmdldCgpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldERCRGljdGlvbmFyeShTdHJpbmcg\nZGJkaWN0aW9uYXJ5KSB7CiAgICAgICAgZGJkaWN0aW9uYXJ5UGx1Z2luLnNl\ndFN0cmluZyhkYmRpY3Rpb25hcnkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0REJEaWN0aW9uYXJ5KCkgewogICAgICAgIHJldHVybiBkYmRpY3Rp\nb25hcnlQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0REJEaWN0aW9uYXJ5KERCRGljdGlvbmFyeSBkYmRpY3Rpb25hcnkp\nIHsKICAgICAgICAvLyB3ZSBjYW4ndCBhbGxvdyB0aGUgZGljdGlvbmFyeSB0\nbyBiZSBzZXQgYWZ0ZXIgdGhlIGNvbm5lY3Rpb24KICAgICAgICAvLyBmYWN0\nb3J5LCBkdWUgdG8gaW5pdGlhbGl6YXRpb24gaXNzdWVzCiAgICAgICAgaWYg\nKGNvbm5lY3Rpb25GYWN0b3J5LmdldCgpICE9IG51bGwKICAgICAgICAgICAg\nfHwgY29ubmVjdGlvbkZhY3RvcnkyLmdldCgpICE9IG51bGwpCiAgICAgICAg\nICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsKCiAgICAg\nICAgZGJkaWN0aW9uYXJ5UGx1Z2luLnNldChkYmRpY3Rpb25hcnkpOwogICAg\nfQoKICAgIHB1YmxpYyBEQkRpY3Rpb25hcnkgZ2V0REJEaWN0aW9uYXJ5SW5z\ndGFuY2UoKSB7CiAgICAgICAgLy8gbG9jayBvbiBjb25uZWN0aW9uIGZhY3Rv\ncnkgbmFtZSwgc2luY2UgZ2V0dGluZyB0aGUgY29ubmVjdGlvbgogICAgICAg\nIC8vIGZhY3RvcnkgYW5kIGdldHRpbmcgdGhlIGRpY3Rpb25hcnkgaGF2ZSB0\nbyB1c2UgdGhlIHNhbWUgbG9ja3MgdG8KICAgICAgICAvLyBwcmV2ZW50IGRl\nYWRsb2NrIHNpbmNlIHRoZXkgY2FsbCBlYWNoIG90aGVyCiAgICAgICAgREJE\naWN0aW9uYXJ5IGRiZGljdGlvbmFyeSA9IChEQkRpY3Rpb25hcnkpIGRiZGlj\ndGlvbmFyeVBsdWdpbi5nZXQoKTsKICAgICAgICBpZiAoZGJkaWN0aW9uYXJ5\nID09IG51bGwpIHsKICAgICAgICAgICAgU3RyaW5nIGNsc05hbWUgPSBkYmRp\nY3Rpb25hcnlQbHVnaW4uZ2V0Q2xhc3NOYW1lKCk7CiAgICAgICAgICAgIFN0\ncmluZyBwcm9wcyA9IGRiZGljdGlvbmFyeVBsdWdpbi5nZXRQcm9wZXJ0aWVz\nKCk7CiAgICAgICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShjbHNO\nYW1lKSkgewogICAgICAgICAgICAgICAgZGJkaWN0aW9uYXJ5ID0gREJEaWN0\naW9uYXJ5RmFjdG9yeS5uZXdEQkRpY3Rpb25hcnkKICAgICAgICAgICAgICAg\nICAgICAodGhpcywgY2xzTmFtZSwgcHJvcHMpOwogICAgICAgICAgICB9IGVs\nc2UgewogICAgICAgICAgICAgICAgLy8gaWYgdGhlIGRpY3Rpb25hcnkgY2xh\nc3MgaXNuJ3Qgc2V0LCB0cnkgdG8gZ3Vlc3MgZnJvbQogICAgICAgICAgICAg\nICAgLy8gY29ubmVjdGlvbiBVUkwgYW5kIGRyaXZlciBuYW1lCiAgICAgICAg\nICAgICAgICBkYmRpY3Rpb25hcnkgPSBEQkRpY3Rpb25hcnlGYWN0b3J5LmNh\nbGN1bGF0ZURCRGljdGlvbmFyeQogICAgICAgICAgICAgICAgICAgICh0aGlz\nLCBnZXRDb25uZWN0aW9uVVJMKCksIGdldENvbm5lY3Rpb25Ecml2ZXJOYW1l\nKCksCiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzKTsKCiAgICAgICAg\nICAgICAgICAvLyBpZiB0aGUgdXJsIGFuZCBkcml2ZXIgbmFtZSBhcmVuJ3Qg\nZW5vdWdoLCBjb25uZWN0IHRvCiAgICAgICAgICAgICAgICAvLyB0aGUgREIg\nYW5kIHVzZSB0aGUgY29ubmVjdGlvbiBtZXRhZGF0YQogICAgICAgICAgICAg\nICAgaWYgKGRiZGljdGlvbmFyeSA9PSBudWxsKSB7CiAgICAgICAgICAgICAg\nICAgICAgTG9nIGxvZyA9IGdldExvZyhMT0dfSkRCQyk7CiAgICAgICAgICAg\nICAgICAgICAgaWYgKGxvZy5pc1RyYWNlRW5hYmxlZCgpKSB7CiAgICAgICAg\nICAgICAgICAgICAgICAgIExvY2FsaXplciBsb2MgPSBMb2NhbGl6ZXIuZm9y\nUGFja2FnZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKEpEQkNDb25m\naWd1cmF0aW9uSW1wbC5jbGFzcyk7CiAgICAgICAgICAgICAgICAgICAgICAg\nIGxvZy50cmFjZShsb2MuZ2V0KCJjb25uZWN0aW5nLWZvci1kaWN0aW9uYXJ5\nIikpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAg\nICAgLy8gdXNlIHRoZSBiYXNlIGNvbm5lY3Rpb24gZmFjdG9yeSByYXRoZXIg\ndGhhbiB0aGUKICAgICAgICAgICAgICAgICAgICAvLyBjb25maWd1cmVkIGRh\ndGEgc291cmNlIGIvYyB0aGUgZGF0YSBzb3VyY2UgcmVsaWVzCiAgICAgICAg\nICAgICAgICAgICAgLy8gb24gcGFzc2luZyB0aGUgY29ubmVjdGlvbiB0aHJv\ndWdoIHRoZSBkaWN0aW9uYXJ5LAogICAgICAgICAgICAgICAgICAgIC8vIHJl\nc3VsdGluZyBpbiBpbmZpbml0ZSBsb29wcwogICAgICAgICAgICAgICAgICAg\nIERhdGFTb3VyY2UgZHMgPSBjcmVhdGVDb25uZWN0aW9uRmFjdG9yeSgpOwog\nICAgICAgICAgICAgICAgICAgIGRiZGljdGlvbmFyeSA9IERCRGljdGlvbmFy\neUZhY3RvcnkubmV3REJEaWN0aW9uYXJ5CiAgICAgICAgICAgICAgICAgICAg\nICAgICh0aGlzLCBnZXREYXRhU291cmNlKG51bGwsIGRzKSwgcHJvcHMpOwog\nICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGRi\nZGljdGlvbmFyeVBsdWdpbi5zZXQoZGJkaWN0aW9uYXJ5LCB0cnVlKTsKICAg\nICAgICB9CiAgICAgICAgcmV0dXJuIGRiZGljdGlvbmFyeTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRVcGRhdGVNYW5hZ2VyKFN0cmluZyB1cGRhdGVN\nYW5hZ2VyKSB7CiAgICAgICAgdXBkYXRlTWFuYWdlclBsdWdpbi5zZXRTdHJp\nbmcodXBkYXRlTWFuYWdlcik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRVcGRhdGVNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiB1cGRhdGVNYW5h\nZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFVwZGF0ZU1hbmFnZXIoVXBkYXRlTWFuYWdlciB1cGRhdGVNYW5hZ2Vy\nKSB7CiAgICAgICAgdXBkYXRlTWFuYWdlclBsdWdpbi5zZXQodXBkYXRlTWFu\nYWdlcik7CiAgICB9CgogICAgcHVibGljIFVwZGF0ZU1hbmFnZXIgZ2V0VXBk\nYXRlTWFuYWdlckluc3RhbmNlKCkgewogICAgICAgIGlmICh1cGRhdGVNYW5h\nZ2VyUGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIHVwZGF0ZU1h\nbmFnZXJQbHVnaW4uaW5zdGFudGlhdGUoVXBkYXRlTWFuYWdlci5jbGFzcywg\ndGhpcyk7CiAgICAgICAgcmV0dXJuIChVcGRhdGVNYW5hZ2VyKSB1cGRhdGVN\nYW5hZ2VyUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndERyaXZlckRhdGFTb3VyY2UoU3RyaW5nIGRyaXZlckRhdGFTb3VyY2UpIHsK\nICAgICAgICBkcml2ZXJEYXRhU291cmNlUGx1Z2luLnNldFN0cmluZyhkcml2\nZXJEYXRhU291cmNlKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldERy\naXZlckRhdGFTb3VyY2UoKSB7CiAgICAgICAgcmV0dXJuIGRyaXZlckRhdGFT\nb3VyY2VQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIERy\naXZlckRhdGFTb3VyY2UgbmV3RHJpdmVyRGF0YVNvdXJjZUluc3RhbmNlKCkg\newogICAgICAgIHJldHVybiAoRHJpdmVyRGF0YVNvdXJjZSkgZHJpdmVyRGF0\nYVNvdXJjZVBsdWdpbi4KICAgICAgICAgICAgaW5zdGFudGlhdGUoRHJpdmVy\nRGF0YVNvdXJjZS5jbGFzcywgdGhpcyk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0U2NoZW1hRmFjdG9yeShTdHJpbmcgc2NoZW1hRmFjdG9yeSkgewog\nICAgICAgIHNjaGVtYUZhY3RvcnlQbHVnaW4uc2V0U3RyaW5nKHNjaGVtYUZh\nY3RvcnkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0U2NoZW1hRmFj\ndG9yeSgpIHsKICAgICAgICByZXR1cm4gc2NoZW1hRmFjdG9yeVBsdWdpbi5n\nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTY2hlbWFG\nYWN0b3J5KFNjaGVtYUZhY3Rvcnkgc2NoZW1hRmFjdG9yeSkgewogICAgICAg\nIHNjaGVtYUZhY3RvcnlQbHVnaW4uc2V0KHNjaGVtYUZhY3RvcnkpOwogICAg\nfQoKICAgIHB1YmxpYyBTY2hlbWFGYWN0b3J5IGdldFNjaGVtYUZhY3RvcnlJ\nbnN0YW5jZSgpIHsKICAgICAgICBpZiAoc2NoZW1hRmFjdG9yeVBsdWdpbi5n\nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBzY2hlbWFGYWN0b3J5UGx1Z2lu\nLmluc3RhbnRpYXRlKFNjaGVtYUZhY3RvcnkuY2xhc3MsIHRoaXMpOwogICAg\nICAgIHJldHVybiAoU2NoZW1hRmFjdG9yeSkgc2NoZW1hRmFjdG9yeVBsdWdp\nbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTUUxGYWN0b3J5\nKFN0cmluZyBzcWxGYWN0b3J5KSB7CiAgICAgICAgc3FsRmFjdG9yeVBsdWdp\nbi5zZXRTdHJpbmcoc3FsRmFjdG9yeSk7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRTUUxGYWN0b3J5KCkgewogICAgICAgIHJldHVybiBzcWxGYWN0\nb3J5UGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFNRTEZhY3RvcnkoU1FMRmFjdG9yeSBzcWxGYWN0b3J5KSB7CiAgICAg\nICAgc3FsRmFjdG9yeVBsdWdpbi5zZXQoc3FsRmFjdG9yeSk7CiAgICB9Cgog\nICAgcHVibGljIFNRTEZhY3RvcnkgZ2V0U1FMRmFjdG9yeUluc3RhbmNlKCkg\newogICAgICAgIGlmIChzcWxGYWN0b3J5UGx1Z2luLmdldCgpID09IG51bGwp\nCiAgICAgICAgICAgIHNxbEZhY3RvcnlQbHVnaW4uaW5zdGFudGlhdGUoU1FM\nRmFjdG9yeS5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChTUUxGYWN0\nb3J5KSBzcWxGYWN0b3J5UGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0TWFwcGluZ0ZhY3RvcnkoKSB7CiAgICAgICAgcmV0dXJu\nIG1hcHBpbmdGYWN0b3J5UGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldE1hcHBpbmdGYWN0b3J5KFN0cmluZyBtYXBwaW5n\nKSB7CiAgICAgICAgbWFwcGluZ0ZhY3RvcnlQbHVnaW4uc2V0U3RyaW5nKG1h\ncHBpbmcpOwogICAgfQoKICAgIHB1YmxpYyBNZXRhRGF0YUZhY3RvcnkgbmV3\nTWV0YURhdGFGYWN0b3J5SW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIG1h\ncHBpbmdGYWN0b3J5UGx1Z2luLmluc3RhbnRpYXRlTWV0YURhdGFGYWN0b3J5\nKHRoaXMsCiAgICAgICAgICAgIG1ldGFGYWN0b3J5UGx1Z2luLCBnZXRNYXBw\naW5nKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1hcHBpbmdEZWZh\ndWx0cyhTdHJpbmcgbWFwcGluZykgewogICAgICAgIHRoaXMubWFwcGluZ0Rl\nZmF1bHRzUGx1Z2luLnNldFN0cmluZyhtYXBwaW5nKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldE1hcHBpbmdEZWZhdWx0cygpIHsKICAgICAgICBy\nZXR1cm4gbWFwcGluZ0RlZmF1bHRzUGx1Z2luLmdldFN0cmluZygpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldE1hcHBpbmdEZWZhdWx0cyhNYXBwaW5n\nRGVmYXVsdHMgbWFwcGluZykgewogICAgICAgIG1hcHBpbmdEZWZhdWx0c1Bs\ndWdpbi5zZXQobWFwcGluZyk7CiAgICB9CgogICAgcHVibGljIE1hcHBpbmdE\nZWZhdWx0cyBnZXRNYXBwaW5nRGVmYXVsdHNJbnN0YW5jZSgpIHsKICAgICAg\nICBpZiAobWFwcGluZ0RlZmF1bHRzUGx1Z2luLmdldCgpID09IG51bGwpCiAg\nICAgICAgICAgIG1hcHBpbmdEZWZhdWx0c1BsdWdpbi5pbnN0YW50aWF0ZShN\nYXBwaW5nRGVmYXVsdHMuY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAo\nTWFwcGluZ0RlZmF1bHRzKSBtYXBwaW5nRGVmYXVsdHNQbHVnaW4uZ2V0KCk7\nCiAgICB9CgogICAgcHVibGljIE1hcHBpbmdSZXBvc2l0b3J5IGdldE1hcHBp\nbmdSZXBvc2l0b3J5SW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIChNYXBw\naW5nUmVwb3NpdG9yeSkgZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2Uo\nKTsKICAgIH0KCiAgICBwdWJsaWMgTWFwcGluZ1JlcG9zaXRvcnkgbmV3TWFw\ncGluZ1JlcG9zaXRvcnlJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gKE1h\ncHBpbmdSZXBvc2l0b3J5KSBuZXdNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5j\nZSgpOwogICAgfQoKICAgIHB1YmxpYyBCcm9rZXJJbXBsIG5ld0Jyb2tlcklu\nc3RhbmNlKFN0cmluZyB1c2VyLCBTdHJpbmcgcGFzcykgewogICAgICAgIEJy\nb2tlckltcGwgYnJva2VyID0gc3VwZXIubmV3QnJva2VySW5zdGFuY2UodXNl\nciwgcGFzcyk7CgogICAgICAgIC8vIHJlY29yZCBmaXJzdCBub24tbnVsbCBi\ncm9rZXIgdXNlciBhbmQgcGFzcyBpbiBjYXNlIG5vIGdsb2JhbCBzZXR0aW5n\ncwogICAgICAgIGlmIChicm9rZXIgIT0gbnVsbCAmJiB1c2VyICE9IG51bGwg\nJiYgZmlyc3RVc2VyID09IG51bGwpIHsKICAgICAgICAgICAgZmlyc3RVc2Vy\nID0gdXNlcjsKICAgICAgICAgICAgZmlyc3RQYXNzID0gcGFzczsKICAgICAg\nICB9CiAgICAgICAgcmV0dXJuIGJyb2tlcjsKICAgIH0KCiAgICBwdWJsaWMg\nT2JqZWN0IGdldENvbm5lY3Rpb25GYWN0b3J5KCkgewogICAgICAgIC8vIG92\nZXJyaWRlIHRvIGNvbmZpZ3VyZSBkYXRhIHNvdXJjZQogICAgICAgIGlmIChk\nYXRhU291cmNlID09IG51bGwpIHsKICAgICAgICAgICAgRGVjb3JhdGluZ0Rh\ndGFTb3VyY2UgZHMgPSBjcmVhdGVDb25uZWN0aW9uRmFjdG9yeSgpOwogICAg\nICAgICAgICBkYXRhU291cmNlID0gRGF0YVNvdXJjZUZhY3RvcnkuaW5zdGFs\nbERCRGljdGlvbmFyeQogICAgICAgICAgICAgICAgKGdldERCRGljdGlvbmFy\neUluc3RhbmNlKCksIGRzLCB0aGlzLCBmYWxzZSk7CiAgICAgICAgfQogICAg\nICAgIHJldHVybiBkYXRhU291cmNlOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldENvbm5lY3Rpb25GYWN0b3J5KE9iamVjdCBmYWN0b3J5KSB7CiAgICAg\nICAgLy8gdGhlcmUncyBhIGxvdCBvZiBvbmUtdGltZSBpbml0aWFsaXphdGlv\nbiBpbnZvbHZlZCBmb3IKICAgICAgICAvLyBjb25uZWN0aW9uIGZhY3Rvcmll\ncywgc28gaWdub3JlIHJlc2V0cwogICAgICAgIGlmIChmYWN0b3J5ID09IGNv\nbm5lY3Rpb25GYWN0b3J5LmdldCgpKQogICAgICAgICAgICByZXR1cm47Cgog\nICAgICAgIC8vIG92ZXJyaWRlIHRvIGNvbmZpZ3VyZSBkYXRhIHNvdXJjZQog\nICAgICAgIGlmIChmYWN0b3J5ICE9IG51bGwpIHsKICAgICAgICAgICAgLy8g\nbmVlZCB0byBlbnN1cmUgaXQgaXMgZGVjb3JhdGVkIGJlZm9yZSB3ZSBzZXQg\ndGhlIGRpY3QKICAgICAgICAgICAgRGVjb3JhdGluZ0RhdGFTb3VyY2UgZHMg\nPQogICAgICAgICAgICAgICAgc2V0dXBDb25uZWN0aW9uRmFjdG9yeSgoRGF0\nYVNvdXJjZSkgZmFjdG9yeSwgZmFsc2UpOwogICAgICAgICAgICBkYXRhU291\ncmNlID0gRGF0YVNvdXJjZUZhY3RvcnkuaW5zdGFsbERCRGljdGlvbmFyeQog\nICAgICAgICAgICAgICAgKGdldERCRGljdGlvbmFyeUluc3RhbmNlKCksIGRz\nLCB0aGlzLCBmYWxzZSk7CiAgICAgICAgfSBlbHNlCiAgICAgICAgICAgIGNv\nbm5lY3Rpb25GYWN0b3J5LnNldChudWxsKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIEVuc3VyZSB0aGF0IHRoZSBzcGVjaWZpZWQgRGF0YVNvdXJjZSBpcyBk\nZWNvcmF0ZWQgYW5kIHNldCBpbiB0aGUgY2FjaGUuCiAgICAgKi8KICAgIHBy\naXZhdGUgRGVjb3JhdGluZ0RhdGFTb3VyY2Ugc2V0dXBDb25uZWN0aW9uRmFj\ndG9yeShEYXRhU291cmNlIGRzLAogICAgICAgIGJvb2xlYW4gZmFjdG9yeTIp\nIHsKICAgICAgICBpZiAoZHMgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJu\nIG51bGw7CgogICAgICAgIERlY29yYXRpbmdEYXRhU291cmNlIGRkczsKICAg\nICAgICBpZiAoZHMgaW5zdGFuY2VvZiBEZWNvcmF0aW5nRGF0YVNvdXJjZSkK\nICAgICAgICAgICAgZGRzID0gKERlY29yYXRpbmdEYXRhU291cmNlKSBkczsK\nICAgICAgICBlbHNlCiAgICAgICAgICAgIGRkcyA9IERhdGFTb3VyY2VGYWN0\nb3J5LmRlY29yYXRlRGF0YVNvdXJjZShkcywgdGhpcywgZmFjdG9yeTIpOwoK\nICAgICAgICBpZiAoIWZhY3RvcnkyICYmIGNvbm5lY3Rpb25GYWN0b3J5Lmdl\ndCgpICE9IGRzKQogICAgICAgICAgICBjb25uZWN0aW9uRmFjdG9yeS5zZXQo\nZGRzLCB0cnVlKTsKICAgICAgICBlbHNlIGlmIChmYWN0b3J5MiAmJiBjb25u\nZWN0aW9uRmFjdG9yeTIuZ2V0KCkgIT0gZHMpCiAgICAgICAgICAgIGNvbm5l\nY3Rpb25GYWN0b3J5Mi5zZXQoZGRzLCB0cnVlKTsKCiAgICAgICAgcmV0dXJu\nIGRkczsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldENvbm5lY3Rpb25G\nYWN0b3J5MigpIHsKICAgICAgICAvLyBvdmVycmlkZSB0byBjb25maWd1cmUg\nZGF0YSBzb3VyY2UKICAgICAgICBpZiAoZGF0YVNvdXJjZTIgPT0gbnVsbCkg\newogICAgICAgICAgICAvLyBzdXBlcmNsYXNzIHdpbGwgbG9va3VwIGZyb20g\nSk5ESS4KICAgICAgICAgICAgT2JqZWN0IG9iaiA9IHN1cGVyLmdldENvbm5l\nY3Rpb25GYWN0b3J5MigpOwogICAgICAgICAgICBEYXRhU291cmNlIGRzID0g\nbnVsbDsKICAgICAgICAgICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgICAg\nICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgRGF0YVNvdXJjZSkgCiAgICAg\nICAgICAgICAgICAgICAgZHMgPSAoRGF0YVNvdXJjZSkgb2JqOwogICAgICAg\nICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgTG9nIGxvZyA9\nIGdldExvZyhMT0dfSkRCQyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxv\nZy5pc1RyYWNlRW5hYmxlZCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAg\nIExvY2FsaXplciBsb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZShKREJDQ29u\nZmlndXJhdGlvbkltcGwuY2xhc3MpOwogICAgICAgICAgICAgICAgICAgICAg\nICBsb2cudHJhY2UobG9jLmdldCgidW5rbm93bi1kYXRhc291cmNlIiwgZ2V0\nQ29ubmVjdGlvbkZhY3RvcnkyTmFtZSgpLCAKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIG9iai5nZXRDbGFzcygpLmdldE5hbWUoKSkpOwogICAgICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChkcyA9PSBudWxs\nKSB7CiAgICAgICAgICAgICAgICAvLyB0aGUgZHJpdmVyIG5hbWUgaXMgYWx3\nYXlzIHJlcXVpcmVkLCBzbyBpZiBub3Qgc3BlY2lmaWVkLAogICAgICAgICAg\nICAgICAgLy8gdGhlbiBubyBjb25uZWN0aW9uIGZhY3RvcnkgMgogICAgICAg\nICAgICAgICAgU3RyaW5nIGRyaXZlciA9IGdldENvbm5lY3Rpb24yRHJpdmVy\nTmFtZSgpOwogICAgICAgICAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0Vt\ncHR5KGRyaXZlcikpCiAgICAgICAgICAgICAgICAgICAgZHMgPSBEYXRhU291\ncmNlRmFjdG9yeS5uZXdEYXRhU291cmNlKHRoaXMsIHRydWUpOwogICAgICAg\nICAgICB9CiAgICAgICAgICAgIGlmIChkcyAhPSBudWxsKSB7CiAgICAgICAg\nICAgICAgICBEZWNvcmF0aW5nRGF0YVNvdXJjZSBkZHMgPQogICAgICAgICAg\nICAgICAgICAgIHNldHVwQ29ubmVjdGlvbkZhY3RvcnkoZHMsIHRydWUpOyAv\nLyBiZWZvcmUgZGljdAogICAgICAgICAgICAgICAgZGF0YVNvdXJjZTIgPSBE\nYXRhU291cmNlRmFjdG9yeS5pbnN0YWxsREJEaWN0aW9uYXJ5CiAgICAgICAg\nICAgICAgICAgICAgKGdldERCRGljdGlvbmFyeUluc3RhbmNlKCksIGRkcywg\ndGhpcywgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAg\ncmV0dXJuIGRhdGFTb3VyY2UyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndENvbm5lY3Rpb25GYWN0b3J5MihPYmplY3QgZmFjdG9yeSkgewogICAgICAg\nIGlmIChmYWN0b3J5ID09IGNvbm5lY3Rpb25GYWN0b3J5Mi5nZXQoKSkKICAg\nICAgICAgICAgcmV0dXJuOwoKICAgICAgICAvLyBvdmVycmlkZSB0byBjb25m\naWd1cmUgZGF0YSBzb3VyY2UKICAgICAgICBpZiAoZmFjdG9yeSAhPSBudWxs\nKSB7CiAgICAgICAgICAgIC8vIG5lZWQgdG8gZW5zdXJlIGl0IGlzIGRlY29y\nYXRlZCBiZWZvcmUgd2Ugc2V0IHRoZSBkaWN0CiAgICAgICAgICAgIERlY29y\nYXRpbmdEYXRhU291cmNlIGRzID0gc2V0dXBDb25uZWN0aW9uRmFjdG9yeSgo\nRGF0YVNvdXJjZSkKICAgICAgICAgICAgICAgIGZhY3RvcnksIHRydWUpOwog\nICAgICAgICAgICBkYXRhU291cmNlMiA9IERhdGFTb3VyY2VGYWN0b3J5Lmlu\nc3RhbGxEQkRpY3Rpb25hcnkKICAgICAgICAgICAgICAgIChnZXREQkRpY3Rp\nb25hcnlJbnN0YW5jZSgpLCBkcywgdGhpcywgdHJ1ZSk7CiAgICAgICAgfSBl\nbHNlCiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXQobnVsbCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGUgdGhlIGNvbm5lY3Rpb24g\nZmFjdG9yeSBpZiBuZWNlc3NhcnkuCiAgICAgKi8KICAgIHB1YmxpYyBEZWNv\ncmF0aW5nRGF0YVNvdXJjZSBjcmVhdGVDb25uZWN0aW9uRmFjdG9yeSgpIHsK\nICAgICAgICBEYXRhU291cmNlIGRzID0gKERhdGFTb3VyY2UpIGNvbm5lY3Rp\nb25GYWN0b3J5LmdldCgpOwogICAgICAgIExvZyBsb2cgPSBnZXRMb2coTE9H\nX0pEQkMpOwogICAgICAgIGlmIChkcyAhPSBudWxsKSB7CiAgICAgICAgICAg\nIGlmIChsb2cuaXNUcmFjZUVuYWJsZWQoKSkKICAgICAgICAgICAgICAgIGxv\nZy50cmFjZSgiY3JlYXRlQ29ubmVjdGlvbkZhY3Rvcnk6IERhdGFTb3VyY2U6\nIitkcyk7CgogICAgICAgICAgICByZXR1cm4gc2V0dXBDb25uZWN0aW9uRmFj\ndG9yeShkcywgZmFsc2UpOwogICAgICAgIH0KCiAgICAgICAgZHMgPSAoRGF0\nYVNvdXJjZSkgc3VwZXIuZ2V0Q29ubmVjdGlvbkZhY3RvcnkoKTsgLy8gSk5E\nSSBsb29rdXAKICAgICAgICBpZiAoZHMgPT0gbnVsbCkKICAgICAgICAgICAg\nZHMgPSBEYXRhU291cmNlRmFjdG9yeS5uZXdEYXRhU291cmNlKHRoaXMsIGZh\nbHNlKTsKCiAgICAgICAgaWYgKGxvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAg\nICAgICAgICBsb2cudHJhY2UoImNyZWF0ZUNvbm5lY3Rpb25GYWN0b3J5OiBE\nYXRhU291cmNlPSIrZHMpOwoKICAgICAgICByZXR1cm4gc2V0dXBDb25uZWN0\naW9uRmFjdG9yeShkcywgZmFsc2UpOwogICAgfQoKICAgIHB1YmxpYyBEYXRh\nU291cmNlIGdldERhdGFTb3VyY2UoU3RvcmVDb250ZXh0IGN0eCkgewogICAg\nICAgIHJldHVybiBnZXREYXRhU291cmNlKGN0eCwgKERhdGFTb3VyY2UpIGdl\ndENvbm5lY3Rpb25GYWN0b3J5KCkpOwogICAgfQoKICAgIHB1YmxpYyBEYXRh\nU291cmNlIGdldERhdGFTb3VyY2UyKFN0b3JlQ29udGV4dCBjdHgpIHsKICAg\nICAgICAvLyBpZiB0aGVyZSBpcyBubyBjb25uZWN0aW9uIGZhY3RvcnkgMiwg\ndXNlIHRoZSBwcmltYXJ5IGZhY3RvcnkKICAgICAgICBEYXRhU291cmNlIGRz\nID0gKERhdGFTb3VyY2UpIGdldENvbm5lY3Rpb25GYWN0b3J5MigpOwogICAg\nICAgIGlmIChkcyA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gZ2V0RGF0\nYVNvdXJjZShjdHgpOwoKICAgICAgICAvLyBwcmVmZXIgdGhlIGdsb2JhbCBj\nb25uZWN0aW9uIDIgYXV0aCBpbmZvIGlmIGdpdmVuCiAgICAgICAgU3RyaW5n\nIHVzZXIgPSBnZXRDb25uZWN0aW9uMlVzZXJOYW1lKCk7CiAgICAgICAgU3Ry\naW5nIHBhc3MgPSBnZXRDb25uZWN0aW9uMlBhc3N3b3JkKCk7CiAgICAgICAg\naWYgKHVzZXIgPT0gbnVsbCAmJiBwYXNzID09IG51bGwpIHsKICAgICAgICAg\nICAgLy8gbm8gZ2xvYmFsIGF1dGggaW5mbzsgdXNlIHRoZSBjb250ZXh0IGlm\nIGdpdmVuLCBvciB0aGUgZmlyc3QKICAgICAgICAgICAgLy8gY29udGV4dCBp\nZiBub3QKICAgICAgICAgICAgaWYgKGN0eCA9PSBudWxsKSB7CiAgICAgICAg\nICAgICAgICB1c2VyID0gZmlyc3RVc2VyOwogICAgICAgICAgICAgICAgcGFz\ncyA9IGZpcnN0UGFzczsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAg\nICAgICAgIHVzZXIgPSBjdHguZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCk7CiAg\nICAgICAgICAgICAgICBwYXNzID0gY3R4LmdldENvbm5lY3Rpb25QYXNzd29y\nZCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBE\nYXRhU291cmNlRmFjdG9yeS5kZWZhdWx0c0RhdGFTb3VyY2UoZHMsIHVzZXIs\nIHBhc3MpOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyB2ZXJzaW9uIGFs\nbG93cyB1cyB0byBwYXNzIGluIHdoaWNoIGRhdGEgc291cmNlIHRvIHdyYXAg\naW50ZXJuYWxseTsKICAgICAqIHVzZWZ1bCBkdXJpbmcgaW5pdGlhbGl6YXRp\nb24gYmVmb3JlIHRoZSBjb25uZWN0aW9uIGZhY3RvcnkgaXMKICAgICAqIGNv\nbXBsZXRlbHkgY29uZmlndXJlZC4KICAgICAqLwogICAgcHJpdmF0ZSBEYXRh\nU291cmNlIGdldERhdGFTb3VyY2UoU3RvcmVDb250ZXh0IGN0eCwgRGF0YVNv\ndXJjZSBkcykgewogICAgICAgIFN0cmluZyB1c2VyLCBwYXNzOwogICAgICAg\nIGlmIChjdHggPT0gbnVsbCkgewogICAgICAgICAgICAvLyBpZiBubyBjb250\nZXh0LCBkZWZhdWx0IHRvIHRoZSBnbG9iYWwgYXV0aCBpbmZvLCBvciB0aGUg\nYXV0aCBpbmZvCiAgICAgICAgICAgIC8vIG9mIHRoZSBmaXJzdCBjb250ZXh0\nIGlmIG5vbmUKICAgICAgICAgICAgdXNlciA9IGdldENvbm5lY3Rpb25Vc2Vy\nTmFtZSgpOwogICAgICAgICAgICBpZiAodXNlciA9PSBudWxsKQogICAgICAg\nICAgICAgICAgdXNlciA9IGZpcnN0VXNlcjsKICAgICAgICAgICAgcGFzcyA9\nIGdldENvbm5lY3Rpb25QYXNzd29yZCgpOwogICAgICAgICAgICBpZiAocGFz\ncyA9PSBudWxsKQogICAgICAgICAgICAgICAgcGFzcyA9IGZpcnN0UGFzczsK\nICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyB1c2UgdGhlIGNvbnRl\neHQncyBhdXRoIGluZm8KICAgICAgICAgICAgdXNlciA9IGN0eC5nZXRDb25u\nZWN0aW9uVXNlck5hbWUoKTsKICAgICAgICAgICAgcGFzcyA9IGN0eC5nZXRD\nb25uZWN0aW9uUGFzc3dvcmQoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJu\nIERhdGFTb3VyY2VGYWN0b3J5LmRlZmF1bHRzRGF0YVNvdXJjZShkcywgdXNl\nciwgcGFzcyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBGcmVlIHRoZSBkYXRh\nIHNvdXJjZXMuCiAgICAgKi8KICAgIHByb3RlY3RlZCB2b2lkIHByZUNsb3Nl\nKCkgewogICAgICAgIGlmIChkYXRhU291cmNlICE9IG51bGwpIHsKICAgICAg\nICAgICAgZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKS5jbG9zZURhdGFTb3Vy\nY2UoZGF0YVNvdXJjZSk7CiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5\nLnNldChudWxsLCB0cnVlKTsgLy8gc28gc3VwZXIgZG9lc24ndCBjbG9zZSBp\ndAogICAgICAgIH0KICAgICAgICBpZiAoZGF0YVNvdXJjZTIgIT0gbnVsbCkg\newogICAgICAgICAgICBnZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpLmNsb3Nl\nRGF0YVNvdXJjZShkYXRhU291cmNlKTsKICAgICAgICAgICAgY29ubmVjdGlv\nbkZhY3RvcnkyLnNldChudWxsLCB0cnVlKTsgLy8gc28gc3VwZXIgZG9lc24n\ndCBjbG9zZSBpdAogICAgICAgIH0KICAgICAgICBzdXBlci5wcmVDbG9zZSgp\nOwogICAgfQoKICAgIHByb3RlY3RlZCBib29sZWFuIGlzSW52YWxpZFByb3Bl\ncnR5KFN0cmluZyBwcm9wTmFtZSkgewogICAgICAgIGlmIChzdXBlci5pc0lu\ndmFsaWRQcm9wZXJ0eShwcm9wTmFtZSkpCiAgICAgICAgICAgIHJldHVybiB0\ncnVlOwoKICAgICAgICAvLyBoYW5kbGUgb3BlbmpwYS5qZGJjLlNvbWVNaXNz\ncGVsbGVkUHJvcGVydHksIGJ1dCBub3QKICAgICAgICAvLyBvcGVuanBhLnNv\nbWVvdGhlcmltcGxlbWVudGF0aW9uLlNvbWVQcm9wZXJ0eQogICAgICAgIFN0\ncmluZ1tdIHByZWZpeGVzID0gUHJvZHVjdERlcml2YXRpb25zLmdldENvbmZp\nZ3VyYXRpb25QcmVmaXhlcygpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGlmIChwcm9w\nTmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgocHJlZml4ZXNbaV0gKyAi\nLmpkYmMiKSkKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAKICAgICAg\nICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAKICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0SWRlbnRpZmllclV0aWwoKSB7CiAgICAgICAgcmV0dXJuIGlkZW50aWZp\nZXJVdGlsUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyBE\nQklkZW50aWZpZXJVdGlsIGdldElkZW50aWZpZXJVdGlsSW5zdGFuY2UoKSB7\nCiAgICAgICAgaWYgKGlkZW50aWZpZXJVdGlsUGx1Z2luLmdldCgpID09IG51\nbGwpCiAgICAgICAgICAgIGlkZW50aWZpZXJVdGlsUGx1Z2luLmluc3RhbnRp\nYXRlKERCSWRlbnRpZmllclV0aWwuY2xhc3MsIHRoaXMpOwogICAgICAgIHJl\ndHVybiAoREJJZGVudGlmaWVyVXRpbCkgaWRlbnRpZmllclV0aWxQbHVnaW4u\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWRlbnRpZmllclV0\naWwoREJJZGVudGlmaWVyVXRpbCB1dGlsKSB7CiAgICAgICAgaWRlbnRpZmll\nclV0aWxQbHVnaW4uc2V0KHV0aWwpOwogICAgfQoKfQo=\n","encoding":"base64"}

