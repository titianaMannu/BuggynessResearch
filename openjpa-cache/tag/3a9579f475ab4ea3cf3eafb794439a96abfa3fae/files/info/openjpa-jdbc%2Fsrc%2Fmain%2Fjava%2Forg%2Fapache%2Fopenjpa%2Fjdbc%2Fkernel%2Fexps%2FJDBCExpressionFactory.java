{"sha":"c415417619d6b9f45a1fc2414ec02243231c649a","node_id":"MDQ6QmxvYjIwNjM2NDpjNDE1NDE3NjE5ZDZiOWY0NWExZmMyNDE0ZWMwMjI0MzIzMWM2NDlh","size":16624,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c415417619d6b9f45a1fc2414ec02243231c649a","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwczsK\nCmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0IGphdmEudXRp\nbC5EYXRlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEu\nQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nbWV0YS5KYXZhU1FMVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuREJEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc3FsLlJhdzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuZXhwcy5BZ2dyZWdhdGVMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuZXhwcy5Bcmd1bWVudHM7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRXhwcmVzc2lvbjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5FeHByZXNzaW9uRmFj\ndG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5G\naWx0ZXJMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJu\nZWwuZXhwcy5MaXRlcmFsOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtl\ncm5lbC5leHBzLlBhcmFtZXRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5rZXJuZWwuZXhwcy5QYXRoOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmtlcm5lbC5leHBzLlN1YnF1ZXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmtlcm5lbC5leHBzLlZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEudXRpbC5Vc2VyRXhjZXB0aW9uOwoKLyoqCiAqIEV4cHJlc3Npb24g\nZmFjdG9yeSBpbXBsZW1lbnRhdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGV4\nZWN1dGUgcXVlcmllcwogKiB2aWEgU1FMLgogKgogKiBAYXV0aG9yIEFiZSBX\naGl0ZQogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgSkRCQ0V4cHJl\nc3Npb25GYWN0b3J5CiAgICBpbXBsZW1lbnRzIEV4cHJlc3Npb25GYWN0b3J5\nLCBTZXJpYWxpemFibGUgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFZh\nbCBOVUxMID0gbmV3IE51bGwoKTsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5h\nbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlKEpEQkNF\neHByZXNzaW9uRmFjdG9yeS5jbGFzcyk7CgogICAgcHJpdmF0ZSBmaW5hbCBD\nbGFzc01hcHBpbmcgX3R5cGU7CiAgICBwcml2YXRlIGZpbmFsIFNlbGVjdENv\nbnN0cnVjdG9yIF9jb25zID0gbmV3IFNlbGVjdENvbnN0cnVjdG9yKCk7CiAg\nICBwcml2YXRlIGludCBfZ2V0TWFwVmFsdWVBbGlhcyA9IDA7CgogICAgLyoq\nCiAgICAgKiBDb25zdHJ1Y3Rvci4gU3VwcGx5IHRoZSB0eXBlIHdlJ3JlIHF1\nZXJ5aW5nIGFnYWluc3QuCiAgICAgKi8KICAgIHB1YmxpYyBKREJDRXhwcmVz\nc2lvbkZhY3RvcnkoQ2xhc3NNYXBwaW5nIHR5cGUpIHsKICAgICAgICBfdHlw\nZSA9IHR5cGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBVc2UgdG8gY3JlYXRl\nIFNRTCBzZWxlY3QuCiAgICAgKi8KICAgIHB1YmxpYyBTZWxlY3RDb25zdHJ1\nY3RvciBnZXRTZWxlY3RDb25zdHJ1Y3RvcigpIHsKICAgICAgICByZXR1cm4g\nX2NvbnM7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gZW1wdHlFeHBy\nZXNzaW9uKCkgewogICAgICAgIHJldHVybiBuZXcgRW1wdHlFeHByZXNzaW9u\nKCk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gYXNFeHByZXNzaW9u\nKFZhbHVlIHYpIHsKICAgICAgICByZXR1cm4gZXF1YWwodiwgbmV3TGl0ZXJh\nbChCb29sZWFuLlRSVUUsIExpdGVyYWwuVFlQRV9CT09MRUFOKSk7CiAgICB9\nCgogICAgcHVibGljIEV4cHJlc3Npb24gZXF1YWwoVmFsdWUgdjEsIFZhbHVl\nIHYyKSB7CiAgICAgICAgLy8gaWYgd2UncmUgY29tcGFyaW5nIGFuIHVuYWNj\nZXNzZWQgYm91bmQgdmFyaWFibGUsIGxpa2UgaW46CiAgICAgICAgLy8gY29s\nbC5jb250YWlucyAodmFyKSAmJiB2YXIgPT0geCwgdGhlbiB0cmFuc2xhdGUg\naW50bzoKICAgICAgICAvLyBjb2xsLmNvbnRhaW5zICh4KQogICAgICAgIGlm\nICh2MSBpbnN0YW5jZW9mIFBDUGF0aCAmJiAoKFBDUGF0aCkgdjEpLmlzVW5h\nY2Nlc3NlZFZhcmlhYmxlKCkpCiAgICAgICAgICAgIHJldHVybiBjb250YWlu\ncyh2MSwgdjIpOwogICAgICAgIGlmICh2MiBpbnN0YW5jZW9mIFBDUGF0aCAm\nJiAoKFBDUGF0aCkgdjIpLmlzVW5hY2Nlc3NlZFZhcmlhYmxlKCkpCiAgICAg\nICAgICAgIHJldHVybiBjb250YWlucyh2MiwgdjEpOwogICAgICAgIHJldHVy\nbiBuZXcgRXF1YWxFeHByZXNzaW9uKChWYWwpIHYxLCAoVmFsKSB2Mik7CiAg\nICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gbm90RXF1YWwoVmFsdWUgdjEs\nIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBOb3RFcXVhbEV4cHJl\nc3Npb24oKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0KCiAgICBwdWJsaWMg\nRXhwcmVzc2lvbiBsZXNzVGhhbihWYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAg\nICAgICByZXR1cm4gbmV3IENvbXBhcmVFeHByZXNzaW9uKChWYWwpIHYxLCAo\nVmFsKSB2MiwKICAgICAgICAgICAgQ29tcGFyZUV4cHJlc3Npb24uTEVTUyk7\nCiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb24gZ3JlYXRlclRoYW4oVmFs\ndWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJl\nRXhwcmVzc2lvbigoVmFsKSB2MSwgKFZhbCkgdjIsCiAgICAgICAgICAgIENv\nbXBhcmVFeHByZXNzaW9uLkdSRUFURVIpOwogICAgfQoKICAgIHB1YmxpYyBF\neHByZXNzaW9uIGxlc3NUaGFuRXF1YWwoVmFsdWUgdjEsIFZhbHVlIHYyKSB7\nCiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJlRXhwcmVzc2lvbigoVmFsKSB2\nMSwgKFZhbCkgdjIsCiAgICAgICAgICAgIENvbXBhcmVFeHByZXNzaW9uLkxF\nU1NfRVFVQUwpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGdyZWF0\nZXJUaGFuRXF1YWwoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBDb21wYXJlRXhwcmVzc2lvbigoVmFsKSB2MSwgKFZhbCkgdjIs\nCiAgICAgICAgICAgIENvbXBhcmVFeHByZXNzaW9uLkdSRUFURVJfRVFVQUwp\nOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGlzRW1wdHkoVmFsdWUg\ndmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBJc0VtcHR5RXhwcmVzc2lvbigo\nVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGlzTm90\nRW1wdHkoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBJc05vdEVt\ncHR5RXhwcmVzc2lvbigoVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBF\neHByZXNzaW9uIGNvbnRhaW5zKFZhbHVlIG1hcCwgVmFsdWUgYXJnKSB7CiAg\nICAgICAgaWYgKG1hcCBpbnN0YW5jZW9mIENvbnN0KQogICAgICAgICAgICBy\nZXR1cm4gbmV3IEluRXhwcmVzc2lvbigoVmFsKSBhcmcsIChDb25zdCkgbWFw\nKTsKICAgICAgICBpZiAobWFwIGluc3RhbmNlb2YgU3ViUSkKICAgICAgICAg\nICAgcmV0dXJuIG5ldyBJblN1YlFFeHByZXNzaW9uKChWYWwpIGFyZywgKFN1\nYlEpIG1hcCk7CiAgICAgICAgcmV0dXJuIG5ldyBDb250YWluc0V4cHJlc3Np\nb24oKFZhbCkgbWFwLCAoVmFsKSBhcmcpOwogICAgfQoKICAgIHB1YmxpYyBF\neHByZXNzaW9uIGNvbnRhaW5zS2V5KFZhbHVlIG1hcCwgVmFsdWUgYXJnKSB7\nCiAgICAgICAgaWYgKG1hcCBpbnN0YW5jZW9mIENvbnN0KQogICAgICAgICAg\nICByZXR1cm4gbmV3IEluS2V5RXhwcmVzc2lvbigoVmFsKSBhcmcsIChDb25z\ndCkgbWFwKTsKICAgICAgICByZXR1cm4gbmV3IENvbnRhaW5zS2V5RXhwcmVz\nc2lvbigoVmFsKSBtYXAsIChWYWwpIGFyZyk7CiAgICB9CgogICAgcHVibGlj\nIEV4cHJlc3Npb24gY29udGFpbnNWYWx1ZShWYWx1ZSBtYXAsIFZhbHVlIGFy\nZykgewogICAgICAgIGlmIChtYXAgaW5zdGFuY2VvZiBDb25zdCkKICAgICAg\nICAgICAgcmV0dXJuIG5ldyBJblZhbHVlRXhwcmVzc2lvbigoVmFsKSBhcmcs\nIChDb25zdCkgbWFwKTsKICAgICAgICByZXR1cm4gbmV3IENvbnRhaW5zRXhw\ncmVzc2lvbigoVmFsKSBtYXAsIChWYWwpIGFyZyk7CiAgICB9CgogICAgcHVi\nbGljIEV4cHJlc3Npb24gaXNJbnN0YW5jZShWYWx1ZSB2YWwsIENsYXNzIGMp\nIHsKICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgQ29uc3QpCiAgICAgICAg\nICAgIHJldHVybiBuZXcgQ29uc3RJbnN0YW5jZW9mRXhwcmVzc2lvbigoQ29u\nc3QpIHZhbCwgYyk7CiAgICAgICAgcmV0dXJuIG5ldyBJbnN0YW5jZW9mRXhw\ncmVzc2lvbigoUENQYXRoKSB2YWwsIGMpOwogICAgfQoKICAgIHB1YmxpYyBF\neHByZXNzaW9uIGFuZChFeHByZXNzaW9uIGV4cDEsIEV4cHJlc3Npb24gZXhw\nMikgewogICAgICAgIGlmIChleHAxIGluc3RhbmNlb2YgQmluZFZhcmlhYmxl\nRXhwcmVzc2lvbikKICAgICAgICAgICAgcmV0dXJuIG5ldyBCaW5kVmFyaWFi\nbGVBbmRFeHByZXNzaW9uKChCaW5kVmFyaWFibGVFeHByZXNzaW9uKSBleHAx\nLAogICAgICAgICAgICAgICAgKEV4cCkgZXhwMik7CiAgICAgICAgaWYgKGV4\ncDIgaW5zdGFuY2VvZiBCaW5kVmFyaWFibGVFeHByZXNzaW9uKQogICAgICAg\nICAgICByZXR1cm4gbmV3IEJpbmRWYXJpYWJsZUFuZEV4cHJlc3Npb24oKEJp\nbmRWYXJpYWJsZUV4cHJlc3Npb24pIGV4cDIsCiAgICAgICAgICAgICAgICAo\nRXhwKSBleHAxKTsKICAgICAgICByZXR1cm4gbmV3IEFuZEV4cHJlc3Npb24o\nKEV4cCkgZXhwMSwgKEV4cCkgZXhwMik7CiAgICB9CgogICAgcHVibGljIEV4\ncHJlc3Npb24gb3IoRXhwcmVzc2lvbiBleHAxLCBFeHByZXNzaW9uIGV4cDIp\nIHsKICAgICAgICByZXR1cm4gbmV3IE9yRXhwcmVzc2lvbigoRXhwKSBleHAx\nLCAoRXhwKSBleHAyKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBu\nb3QoRXhwcmVzc2lvbiBleHApIHsKICAgICAgICBpZiAoIShleHAgaW5zdGFu\nY2VvZiBJc05vdEVtcHR5RXhwcmVzc2lvbikgJiYgCiAgICAgICAgICAgICEo\nZXhwIGluc3RhbmNlb2YgSW5TdWJRRXhwcmVzc2lvbikgJiYKICAgICAgICAg\nICAgSGFzQ29udGFpbnNFeHByZXNzaW9uVmlzaXRvci5oYXNDb250YWlucyhl\neHApKQogICAgICAgICAgICByZXR1cm4gbmV3IE5vdENvbnRhaW5zRXhwcmVz\nc2lvbigoRXhwKSBleHApOwogICAgICAgIHJldHVybiBuZXcgTm90RXhwcmVz\nc2lvbigoRXhwKSBleHApOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9u\nIGJpbmRWYXJpYWJsZShWYWx1ZSB2YXIsIFZhbHVlIHZhbCkgewogICAgICAg\nIC8vIGhhbmRsZSB0aGUgc3RyYW5nZSBjYXNlIG9mIHVzaW5nIGEgY29uc3Rh\nbnQgcGF0aCB0byBiaW5kIGEKICAgICAgICAvLyB2YXJpYWJsZTsgaW4gdGhl\nc2UgY2FzZXMgdGhlIHZhcmlhYmxlIGFjdHMgbGlrZSBhbiB1bmJvdW5kCiAg\nICAgICAgLy8gdmFyaWFibGUgdGhhdCB3ZSBsaW1pdCBieSB1c2luZyBhbiBJ\nTiBjbGF1c2Ugb24gdGhlIGNvbnN0YW50CiAgICAgICAgLy8gdmFsdWUgY29s\nbGVjdGlvbgogICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBDb25zdCkgewog\nICAgICAgICAgICBQQ1BhdGggcGF0aCA9IG5ldyBQQ1BhdGgoX3R5cGUsIChW\nYXJpYWJsZSkgdmFyKTsKICAgICAgICAgICAgcGF0aC5zZXRNZXRhRGF0YSh2\nYXIuZ2V0TWV0YURhdGEoKSk7CiAgICAgICAgICAgIHJldHVybiBuZXcgSW5F\neHByZXNzaW9uKHBhdGgsIChDb25zdCkgdmFsKTsKICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIG5ldyBCaW5kVmFyaWFibGVFeHByZXNzaW9uKChWYXJpYWJs\nZSkgdmFyLCAoUENQYXRoKSB2YWwsIGZhbHNlKTsKICAgIH0KCiAgICBwdWJs\naWMgRXhwcmVzc2lvbiBiaW5kS2V5VmFyaWFibGUoVmFsdWUgdmFyLCBWYWx1\nZSB2YWwpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIHN0cmFuZ2UgY2FzZSBv\nZiB1c2luZyBhIGNvbnN0YW50IHBhdGggdG8gYmluZCBhCiAgICAgICAgLy8g\ndmFyaWFibGU7IGluIHRoZXNlIGNhc2VzIHRoZSB2YXJpYWJsZSBhY3RzIGxp\na2UgYW4gdW5ib3VuZAogICAgICAgIC8vIHZhcmlhYmxlIHRoYXQgd2UgbGlt\naXQgYnkgdXNpbmcgYW4gSU4gY2xhdXNlIG9uIHRoZSBjb25zdGFudAogICAg\nICAgIC8vIHZhbHVlIGNvbGxlY3Rpb24KICAgICAgICBpZiAodmFsIGluc3Rh\nbmNlb2YgQ29uc3QpIHsKICAgICAgICAgICAgUENQYXRoIHBhdGggPSBuZXcg\nUENQYXRoKF90eXBlLCAoVmFyaWFibGUpIHZhcik7CiAgICAgICAgICAgIHBh\ndGguc2V0TWV0YURhdGEodmFyLmdldE1ldGFEYXRhKCkpOwogICAgICAgICAg\nICByZXR1cm4gbmV3IEluS2V5RXhwcmVzc2lvbihwYXRoLCAoQ29uc3QpIHZh\nbCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgQmluZFZhcmlhYmxl\nRXhwcmVzc2lvbigoVmFyaWFibGUpIHZhciwgKFBDUGF0aCkgdmFsLCB0cnVl\nKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBiaW5kVmFsdWVWYXJp\nYWJsZShWYWx1ZSB2YXIsIFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBi\naW5kVmFyaWFibGUodmFyLCB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBFeHBy\nZXNzaW9uIHN0YXJ0c1dpdGgoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBTdGFydHNXaXRoRXhwcmVzc2lvbigoVmFsKSB2MSwg\nKFZhbCkgdjIpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uIGVuZHNX\naXRoKFZhbHVlIHYxLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBuZXcg\nRW5kc1dpdGhFeHByZXNzaW9uKChWYWwpIHYxLCAoVmFsKSB2Mik7CiAgICB9\nCgogICAgcHVibGljIEV4cHJlc3Npb24gbm90TWF0Y2hlcyhWYWx1ZSB2MSwg\nVmFsdWUgdjIsCiAgICAgICAgU3RyaW5nIHNpbmdsZSwgU3RyaW5nIG11bHRp\nLCBTdHJpbmcgZXNjKSB7CiAgICAgICAgcmV0dXJuIG5vdChtYXRjaGVzKHYx\nLCB2Miwgc2luZ2xlLCBtdWx0aSwgZXNjKSk7CiAgICB9CgogICAgcHVibGlj\nIEV4cHJlc3Npb24gbWF0Y2hlcyhWYWx1ZSB2MSwgVmFsdWUgdjIsCiAgICAg\nICAgU3RyaW5nIHNpbmdsZSwgU3RyaW5nIG11bHRpLCBTdHJpbmcgZXNjKSB7\nCiAgICAgICAgaWYgKCEodjIgaW5zdGFuY2VvZiBDb25zdCkpCiAgICAgICAg\nICAgIHRocm93IG5ldyBVc2VyRXhjZXB0aW9uKF9sb2MuZ2V0KCJjb25zdC1v\nbmx5IiwgIm1hdGNoZXMiKSk7CiAgICAgICAgaWYgKGVzYyA9PSBudWxsICYm\nIF90eXBlLmdldE1hcHBpbmdSZXBvc2l0b3J5KCkuCiAgICAgICAgICAgICAg\nICBnZXREQkRpY3Rpb25hcnkoKS5yZXF1aXJlc1NlYXJjaFN0cmluZ0VzY2Fw\nZUZvckxpa2UgPT0gdHJ1ZSkgeyAKICAgICAgICAgICAgZXNjID0gX3R5cGUu\nZ2V0TWFwcGluZ1JlcG9zaXRvcnkoKS4KICAgICAgICAgICAgICAgIGdldERC\nRGljdGlvbmFyeSgpLnNlYXJjaFN0cmluZ0VzY2FwZTsKICAgICAgICB9ICAg\nICAgICAKICAgICAgICByZXR1cm4gbmV3IE1hdGNoZXNFeHByZXNzaW9uKChW\nYWwpIHYxLCAoQ29uc3QpIHYyLCBzaW5nbGUsIG11bHRpLCBlc2MpOwogICAg\nfQoKICAgIHB1YmxpYyBTdWJxdWVyeSBuZXdTdWJxdWVyeShDbGFzc01ldGFE\nYXRhIGNhbmRpZGF0ZSwgYm9vbGVhbiBzdWJzLAogICAgICAgIFN0cmluZyBh\nbGlhcykgewogICAgICAgIERCRGljdGlvbmFyeSBkaWN0ID0gX3R5cGUuZ2V0\nTWFwcGluZ1JlcG9zaXRvcnkoKS5nZXREQkRpY3Rpb25hcnkoKTsKICAgICAg\nICBkaWN0LmFzc2VydFN1cHBvcnQoZGljdC5zdXBwb3J0c1N1YnNlbGVjdCwg\nIlN1cHBvcnRzU3Vic2VsZWN0Iik7CiAgICAgICAgcmV0dXJuIG5ldyBTdWJR\nKChDbGFzc01hcHBpbmcpIGNhbmRpZGF0ZSwgc3VicywgYWxpYXMpOwogICAg\nfQoKICAgIHB1YmxpYyBQYXRoIG5ld1BhdGgoKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBQQ1BhdGgoX3R5cGUpOwogICAgfQoKICAgIHB1YmxpYyBQYXRoIG5l\nd1BhdGgoVmFsdWUgdmFsKSB7CiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9m\nIENvbnN0KQogICAgICAgICAgICByZXR1cm4gbmV3IENvbnN0UGF0aCgoQ29u\nc3QpIHZhbCk7CiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFN1YlEpCiAg\nICAgICAgICAgIHJldHVybiBuZXcgUENQYXRoKChTdWJRKSB2YWwpOwogICAg\nICAgIHJldHVybiBuZXcgUENQYXRoKF90eXBlLCAoVmFyaWFibGUpIHZhbCk7\nCiAgICB9CgogICAgcHVibGljIExpdGVyYWwgbmV3TGl0ZXJhbChPYmplY3Qg\ndmFsLCBpbnQgcHR5cGUpIHsKICAgICAgICByZXR1cm4gbmV3IExpdCh2YWws\nIHB0eXBlKTsKICAgIH0KCiAgICBwdWJsaWMgTGl0ZXJhbCBuZXdUeXBlTGl0\nZXJhbChPYmplY3QgdmFsLCBpbnQgcHR5cGUpIHsKICAgICAgICByZXR1cm4g\nbmV3IFR5cGVMaXQodmFsLCBwdHlwZSk7CiAgICB9CgogICAgcHVibGljIFZh\nbHVlIGdldFRoaXMoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQQ1BhdGgoX3R5\ncGUpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBnZXROdWxsKCkgewogICAg\nICAgIHJldHVybiBOVUxMOwogICAgfQoKICAgIHB1YmxpYyA8VCBleHRlbmRz\nIERhdGU+IFZhbHVlIGdldEN1cnJlbnREYXRlKENsYXNzPFQ+IGRhdGVUeXBl\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDdXJyZW50RGF0ZShkYXRlVHlwZSk7\nCiAgICB9CgogICAgcHVibGljIDxUIGV4dGVuZHMgRGF0ZT4gVmFsdWUgZ2V0\nQ3VycmVudFRpbWUoQ2xhc3M8VD4gZGF0ZVR5cGUpIHsKICAgICAgICByZXR1\ncm4gIG5ldyBDdXJyZW50RGF0ZShkYXRlVHlwZSk7CiAgICB9CgogICAgcHVi\nbGljIDxUIGV4dGVuZHMgRGF0ZT4gVmFsdWUgZ2V0Q3VycmVudFRpbWVzdGFt\ncChDbGFzczxUPiBkYXRlVHlwZSkgewogICAgICAgIHJldHVybiAgbmV3IEN1\ncnJlbnREYXRlKGRhdGVUeXBlKTsKICAgIH0KCiAgICBwdWJsaWMgUGFyYW1l\ndGVyIG5ld1BhcmFtZXRlcihPYmplY3QgbmFtZSwgQ2xhc3MgdHlwZSkgewog\nICAgICAgIHJldHVybiBuZXcgUGFyYW0obmFtZSwgdHlwZSk7CiAgICB9Cgog\nICAgcHVibGljIFBhcmFtZXRlciBuZXdDb2xsZWN0aW9uVmFsdWVkUGFyYW1l\ndGVyKE9iamVjdCBrZXksIENsYXNzIHR5cGUpIHsKICAgICAgICByZXR1cm4g\nbmV3IENvbGxlY3Rpb25QYXJhbShrZXksIHR5cGUpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSBuZXdFeHRlbnNpb24oRmlsdGVyTGlzdGVuZXIgbGlzdGVu\nZXIsIFZhbHVlIHRhcmdldCwKICAgICAgICBWYWx1ZSBhcmcpIHsKICAgICAg\nICByZXR1cm4gbmV3IEV4dGVuc2lvbigoSkRCQ0ZpbHRlckxpc3RlbmVyKSBs\naXN0ZW5lciwKICAgICAgICAgICAgKFZhbCkgdGFyZ2V0LCAoVmFsKSBhcmcs\nIF90eXBlKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgbmV3QWdncmVnYXRl\nKEFnZ3JlZ2F0ZUxpc3RlbmVyIGxpc3RlbmVyLCBWYWx1ZSBhcmcpIHsKICAg\nICAgICByZXR1cm4gbmV3IEFnZ3JlZ2F0ZSgoSkRCQ0FnZ3JlZ2F0ZUxpc3Rl\nbmVyKSBsaXN0ZW5lciwKICAgICAgICAgICAgKFZhbCkgYXJnLCBfdHlwZSk7\nCiAgICB9CgogICAgcHVibGljIEFyZ3VtZW50cyBuZXdBcmd1bWVudExpc3Qo\nVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBcmdz\nKChWYWwpIHYxLCAoVmFsKSB2Mik7CiAgICB9CiAgICAKICAgIHB1YmxpYyBB\ncmd1bWVudHMgbmV3QXJndW1lbnRMaXN0KFZhbHVlLi4uIHZzKSB7CiAgICAg\nICAgaWYgKHZzID09IG51bGwpCiAgICAgICAgICAgcmV0dXJuIG5ldyBBcmdz\nKG51bGwpOwogICAgICAgIFZhbFtdIHZhbHMgPSBuZXcgVmFsW3ZzLmxlbmd0\naF07CiAgICAgICAgaW50IGkgPSAwOwogICAgICAgIGZvciAoVmFsdWUgdiA6\nIHZzKSB7CiAgICAgICAgICAgIHZhbHNbaSsrXSA9IChWYWwpdjsKICAgICAg\nICB9CiAgICAgICAgcmV0dXJuIG5ldyBBcmdzKHZhbHMpOwogICAgfQoKICAg\nIHB1YmxpYyBWYWx1ZSBuZXdVbmJvdW5kVmFyaWFibGUoU3RyaW5nIG5hbWUs\nIENsYXNzIHR5cGUpIHsKICAgICAgICByZXR1cm4gbmV3IFZhcmlhYmxlKG5h\nbWUsIHR5cGUpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBuZXdCb3VuZFZh\ncmlhYmxlKFN0cmluZyBuYW1lLCBDbGFzcyB0eXBlKSB7CiAgICAgICAgcmV0\ndXJuIG5ld1VuYm91bmRWYXJpYWJsZShuYW1lLCB0eXBlKTsKICAgIH0KCiAg\nICBwdWJsaWMgVmFsdWUgY2FzdChWYWx1ZSB2YWwsIENsYXNzIGNscykgewog\nICAgICAgIHZhbC5zZXRJbXBsaWNpdFR5cGUoY2xzKTsKICAgICAgICByZXR1\ncm4gdmFsOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBhZGQoVmFsdWUgdjEs\nIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXRoKChWYWwpIHYx\nLCAoVmFsKSB2MiwgTWF0aC5BREQpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1\nZSBzdWJ0cmFjdChWYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAgICAgICByZXR1\ncm4gbmV3IE1hdGgoKFZhbCkgdjEsIChWYWwpIHYyLCBNYXRoLlNVQlRSQUNU\nKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgbXVsdGlwbHkoVmFsdWUgdjEs\nIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXRoKChWYWwpIHYx\nLCAoVmFsKSB2MiwgTWF0aC5NVUxUSVBMWSk7CiAgICB9CgogICAgcHVibGlj\nIFZhbHVlIGRpdmlkZShWYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAgICAgICBy\nZXR1cm4gbmV3IE1hdGgoKFZhbCkgdjEsIChWYWwpIHYyLCBNYXRoLkRJVklE\nRSk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIG1vZChWYWx1ZSB2MSwgVmFs\ndWUgdjIpIHsKICAgICAgICByZXR1cm4gbmV3IE1hdGgoKFZhbCkgdjEsIChW\nYWwpIHYyLCBNYXRoLk1PRCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGFi\ncyhWYWx1ZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3IEFicygoVmFsKSB2\nYWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBpbmRleE9mKFZhbHVlIHYx\nLCBWYWx1ZSB2MikgewogICAgICAgIHJldHVybiBuZXcgSW5kZXhPZigoVmFs\nKSB2MSwgKFZhbCkgdjIpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBjb25j\nYXQoVmFsdWUgdjEsIFZhbHVlIHYyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBD\nb25jYXQoKFZhbCkgdjEsIChWYWwpIHYyKTsKICAgIH0KCiAgICBwdWJsaWMg\nVmFsdWUgc3RyaW5nTGVuZ3RoKFZhbHVlIHN0cikgewogICAgICAgIHJldHVy\nbiBuZXcgU3RyaW5nTGVuZ3RoKChWYWwpIHN0cik7CiAgICB9CgogICAgcHVi\nbGljIFZhbHVlIHRyaW0oVmFsdWUgc3RyLCBWYWx1ZSB0cmltQ2hhciwgQm9v\nbGVhbiB3aGVyZSkgewogICAgICAgIHJldHVybiBuZXcgVHJpbSgoVmFsKSBz\ndHIsIChWYWwpIHRyaW1DaGFyLCB3aGVyZSk7CiAgICB9CgogICAgcHVibGlj\nIFZhbHVlIHNxcnQoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBT\ncXJ0KChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIHN1YnN0\ncmluZyhWYWx1ZSB2MSwgVmFsdWUgdjIpIHsKICAgICAgICByZXR1cm4gbmV3\nIFN1YnN0cmluZygoVmFsKSB2MSwgKFZhbCkgdjIpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZSB0b1VwcGVyQ2FzZShWYWx1ZSB2YWwpIHsKICAgICAgICBy\nZXR1cm4gbmV3IFRvVXBwZXJDYXNlKChWYWwpIHZhbCk7CiAgICB9CgogICAg\ncHVibGljIFZhbHVlIHRvTG93ZXJDYXNlKFZhbHVlIHZhbCkgewogICAgICAg\nIHJldHVybiBuZXcgVG9Mb3dlckNhc2UoKFZhbCkgdmFsKTsKICAgIH0KCiAg\nICBwdWJsaWMgVmFsdWUgYXZnKFZhbHVlIHZhbCkgewogICAgICAgIHJldHVy\nbiBuZXcgQXZnKChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZhbHVl\nIGNvdW50KFZhbHVlIHZhbCkgewogICAgICAgIHJldHVybiBuZXcgQ291bnQo\nKFZhbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgZGlzdGluY3Qo\nVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBEaXN0aW5jdCgoVmFs\nKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBtYXgoVmFsdWUgdmFs\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXgoKFZhbCkgdmFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgVmFsdWUgbWluKFZhbHVlIHZhbCkgewogICAgICAgIHJl\ndHVybiBuZXcgTWluKChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZh\nbHVlIHN1bShWYWx1ZSB2YWwpIHsKICAgICAgICByZXR1cm4gbmV3IFN1bSgo\nVmFsKSB2YWwpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZSBhbnkoVmFsdWUg\ndmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBbnkoKFZhbCkgdmFsKTsKICAg\nIH0KCiAgICBwdWJsaWMgVmFsdWUgYWxsKFZhbHVlIHZhbCkgewogICAgICAg\nIHJldHVybiBuZXcgQWxsKChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGlj\nIFZhbHVlIHNpemUoVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBT\naXplKChWYWwpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGluZGV4\nKFZhbHVlIHZhbCkgewogICAgICAgICgoUENQYXRoKSB2YWwpLnZlcmlmeUlu\nZGV4ZWRGaWVsZCgpOwogICAgICAgIHJldHVybiBuZXcgSW5kZXgoKFZhbCkg\ndmFsKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgdHlwZShWYWx1ZSB2YWwp\nIHsKICAgICAgICByZXR1cm4gbmV3IFR5cGUoKFZhbCkgdmFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgVmFsdWUgbWFwRW50cnkoVmFsdWUga2V5LCBWYWx1ZSB2\nYWwpIHsKICAgICAgICByZXR1cm4gbmV3IE1hcEVudHJ5KChWYWwpIGtleSwg\nKFZhbCkgdmFsKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgbWFwS2V5KFZh\nbHVlIGtleSwgVmFsdWUgdmFsKSB7CiAgICAgICAgcmV0dXJuIG5ldyBNYXBL\nZXkoKFZhbCkga2V5KTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgZ2V0S2V5\nKFZhbHVlIHZhbCkgewogICAgICAgICgoUENQYXRoKSB2YWwpLmdldEtleSgp\nOwogICAgICAgIHJldHVybiB2YWw7CiAgICB9CgogICAgcHVibGljIFZhbHVl\nIGdldE9iamVjdElkKFZhbHVlIHZhbCkgewogICAgICAgIGlmICh2YWwgaW5z\ndGFuY2VvZiBDb25zdCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25zdEdl\ndE9iamVjdElkKChDb25zdCkgdmFsKTsKICAgICAgICByZXR1cm4gbmV3IEdl\ndE9iamVjdElkKChQQ1BhdGgpIHZhbCk7CiAgICB9CgogICAgcHVibGljIFZh\nbHVlIGdldE1hcFZhbHVlKFZhbHVlIG1hcCwgVmFsdWUgYXJnKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBHZXRNYXBWYWx1ZSgoVmFsKSBtYXAsIChWYWwpIGFy\nZywgCiAgICAgICAgICAgICJnbXYiICsgX2dldE1hcFZhbHVlQWxpYXMrKyk7\nCiAgICB9CgogICAgcHJpdmF0ZSBWYWx1ZSBnZXRMaXRlcmFsUmF3U3RyaW5n\nKFZhbHVlIHZhbCkgewogICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBMaXQp\nIHsKICAgICAgICAgICAgTGl0IGxpdCA9IChMaXQpIHZhbDsKICAgICAgICAg\nICAgU3RyaW5nQnVpbGRlciB2YWx1ZSA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7\nCiAgICAgICAgICAgIGludCBwVHlwZSA9IGxpdC5nZXRQYXJzZVR5cGUoKTsg\nCiAgICAgICAgICAgIGlmIChwVHlwZSA9PSBMaXRlcmFsLlRZUEVfU1FfU1RS\nSU5HIHx8CiAgICAgICAgICAgICAgICBwVHlwZSA9PSBMaXRlcmFsLlRZUEVf\nU1RSSU5HKQogICAgICAgICAgICAgICAgdmFsdWUuYXBwZW5kKCInIikuYXBw\nZW5kKGxpdC5nZXRWYWx1ZSgpLnRvU3RyaW5nKCkpLmFwcGVuZCgiJyIpOwog\nICAgICAgICAgICBlbHNlIGlmIChwVHlwZSA9PSBMaXRlcmFsLlRZUEVfQk9P\nTEVBTikgewogICAgICAgICAgICAgICAgaWYgKChCb29sZWFuKSBsaXQuZ2V0\nVmFsdWUoKSkKICAgICAgICAgICAgICAgICAgICB2YWx1ZS5hcHBlbmQoIjEi\nKTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB2\nYWx1ZS5hcHBlbmQoIjAiKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChwVHlw\nZSA9PSBMaXRlcmFsLlRZUEVfRU5VTSkgewogICAgICAgICAgICAgICAgbGl0\nLnNldFJhdyh0cnVlKTsKICAgICAgICAgICAgICAgIHJldHVybiB2YWw7CiAg\nICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgICAgdmFsdWUuYXBwZW5k\nKGxpdC5nZXRWYWx1ZSgpLnRvU3RyaW5nKCkpOwogICAgICAgICAgICBsaXQu\nc2V0VmFsdWUobmV3IFJhdyh2YWx1ZS50b1N0cmluZygpKSk7CiAgICAgICAg\nICAgIHJldHVybiBsaXQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWw7\nCiAgICB9CgogICAgcHVibGljIFZhbHVlIHNpbXBsZUNhc2VFeHByZXNzaW9u\nKFZhbHVlIGNhc2VPcGVyYW5kLCBFeHByZXNzaW9uW10gZXhwLAogICAgICAg\nICAgICBWYWx1ZSB2YWwxKSB7CiAgICAgICAgRXhwW10gZXhwcyA9IG5ldyBF\neHBbZXhwLmxlbmd0aF07CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBl\neHAubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGV4cHNbaV0gPSAoRXhwKSBl\neHBbaV07CiAgICAgICAgdmFsMSA9IGdldExpdGVyYWxSYXdTdHJpbmcodmFs\nMSk7CiAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVDYXNlRXhwcmVzc2lvbigo\nVmFsKSBjYXNlT3BlcmFuZCwgZXhwcywKICAgICAgICAgICAgKFZhbCkgdmFs\nMSk7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGdlbmVyYWxDYXNlRXhwcmVz\nc2lvbihFeHByZXNzaW9uW10gZXhwLAogICAgICAgICAgICBWYWx1ZSB2YWwp\nIHsKICAgICAgICBFeHBbXSBleHBzID0gbmV3IEV4cFtleHAubGVuZ3RoXTsK\nICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGV4cC5sZW5ndGg7IGkrKykK\nICAgICAgICAgICAgZXhwc1tpXSA9IChFeHApIGV4cFtpXTsKICAgICAgICB2\nYWwgPSBnZXRMaXRlcmFsUmF3U3RyaW5nKHZhbCk7CiAgICAgICAgcmV0dXJu\nIG5ldyBHZW5lcmFsQ2FzZUV4cHJlc3Npb24oZXhwcywgKFZhbCkgdmFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbiB3aGVuQ29uZGl0aW9uKEV4\ncHJlc3Npb24gZXhwLCBWYWx1ZSB2YWwpIHsKICAgICAgICB2YWwgPSBnZXRM\naXRlcmFsUmF3U3RyaW5nKHZhbCk7CiAgICAgICAgcmV0dXJuIG5ldyBXaGVu\nQ29uZGl0aW9uKChFeHApIGV4cCwgKFZhbCkgdmFsKTsKICAgIH0KCiAgICBw\ndWJsaWMgRXhwcmVzc2lvbiB3aGVuU2NhbGFyKFZhbHVlIHZhbDEsIFZhbHVl\nIHZhbDIpIHsKICAgICAgICB2YWwxID0gZ2V0TGl0ZXJhbFJhd1N0cmluZyh2\nYWwxKTsKICAgICAgICB2YWwyID0gZ2V0TGl0ZXJhbFJhd1N0cmluZyh2YWwy\nKTsKICAgICAgICByZXR1cm4gbmV3IFdoZW5TY2FsYXIoKFZhbCkgdmFsMSwg\nKFZhbCkgdmFsMik7CiAgICB9CgogICAgcHVibGljIFZhbHVlIGNvYWxlc2Nl\nRXhwcmVzc2lvbihWYWx1ZVtdIHZhbHMpIHs7CiAgICAgICAgT2JqZWN0W10g\ndmFsdWVzID0gbmV3IFZhbFt2YWxzLmxlbmd0aF07CiAgICAgICAgZm9yIChp\nbnQgaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAg\nIHZhbHVlc1tpXSA9IGdldExpdGVyYWxSYXdTdHJpbmcodmFsc1tpXSk7CiAg\nICAgICAgfQogICAgICAgIHJldHVybiBuZXcgQ29hbGVzY2VFeHByZXNzaW9u\nKChWYWxbXSkgdmFsdWVzKTsKICAgIH0KCiAgICBwdWJsaWMgVmFsdWUgbnVs\nbElmRXhwcmVzc2lvbihWYWx1ZSB2YWwxLCBWYWx1ZSB2YWwyKSB7CiAgICAg\nICAgdmFsMSA9IGdldExpdGVyYWxSYXdTdHJpbmcodmFsMSk7CiAgICAgICAg\ndmFsMiA9IGdldExpdGVyYWxSYXdTdHJpbmcodmFsMik7CiAgICAgICAgcmV0\ndXJuIG5ldyBOdWxsSWZFeHByZXNzaW9uKChWYWwpIHZhbDEsIChWYWwpIHZh\nbDIpOwogICAgfQogICAgCiAgICBwdWJsaWMgVmFsdWUgbmV3RnVuY3Rpb24o\nU3RyaW5nIGZ1bmN0aW9uTmFtZSwgQ2xhc3M8Pz4gcmVzdWx0VHlwZSwgVmFs\ndWUuLi4gYXJncykgewogICAgICAgIHJldHVybiBuZXcgRGF0YXN0b3JlRnVu\nY3Rpb24oZnVuY3Rpb25OYW1lLCByZXN1bHRUeXBlLCBuZXdBcmd1bWVudExp\nc3QoYXJncykpOwogICAgfQp9Cg==\n","encoding":"base64"}

