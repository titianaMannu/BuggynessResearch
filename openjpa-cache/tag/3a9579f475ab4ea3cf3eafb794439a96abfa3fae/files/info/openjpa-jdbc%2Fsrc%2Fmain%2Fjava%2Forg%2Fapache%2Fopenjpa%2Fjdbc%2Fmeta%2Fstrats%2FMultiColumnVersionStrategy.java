{"sha":"cf9d125f8f7a4fb08049a3e3606ff12c6e681901","node_id":"MDQ6QmxvYjIwNjM2NDpjZjlkMTI1ZjhmN2E0ZmIwODA0OWEzZTM2MDZmZjEyYzZlNjgxOTAx","size":3443,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cf9d125f8f7a4fb08049a3e3606ff12c6e681901","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW47\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuU2NoZW1h\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkphdmFUeXBlczsK\nCgovKioKICogVXNlcyBtdWx0aXBsZSB2ZXJzaW9uIG51bWJlcnMgc3Bhbm5p\nbmcgbXVsdGlwbGUgY29sdW1ucyBmb3Igb3B0aW1pc3RpYyAKICogdmVyc2lv\nbmluZy4KICogCiAqIEBzaW5jZSAxLjMuMAogKgogKiBAYXV0aG9yIFBpbmFr\naSBQb2RkYXIKICovCnB1YmxpYyBjbGFzcyBNdWx0aUNvbHVtblZlcnNpb25T\ndHJhdGVneSBleHRlbmRzIE51bWJlclZlcnNpb25TdHJhdGVneSB7CgogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQUxJQVMgPSAidmVyc2lvbi1u\ndW1iZXJzIjsKICAgIAogICAgcHJpdmF0ZSBOdW1iZXJbXSBfaW5pdGlhbHMg\nPSBudWxsOwogICAgcHJpdmF0ZSBJbnRlZ2VyW10gX2phdmFUeXBlczsKICAg\nIAogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKCkg\newogICAgCWlmIChfaW5pdGlhbHMgPT0gbnVsbCkgewogICAgCQlDb2x1bW5b\nXSBjb2xzID0gdmVycy5nZXRDb2x1bW5zKCk7CiAgICAJCV9pbml0aWFscyA9\nIG5ldyBOdW1iZXJbY29scy5sZW5ndGhdOwogICAgCQlmb3IgKGludCBpID0g\nMDsgaSA8IGNvbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIF9p\nbml0aWFsc1tpXSA9IG5leHRWYWx1ZSgwLCBnZXRKYXZhVHlwZShpKSk7CiAg\nICAJCX0KICAgIAl9CiAgICAJc3VwZXIuaW5pdGlhbGl6ZSgpOwogICAgfQog\nICAgCQogICAgLyoqCiAgICAgKiBTZXQgdGhlIGluaXRpYWwgdmFsdWUgZm9y\nIHZlcnNpb24gY29sdW1ucy4gRGVmYXVsdHMgdG8gMSBmb3IgZWFjaCBjb2x1\nbW4uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEluaXRpYWxWYWx1ZXMo\nTnVtYmVyW10gaW5pdGlhbCkgewogICAgCV9pbml0aWFscyA9IG5ldyBOdW1i\nZXJbaW5pdGlhbC5sZW5ndGhdOwogICAgCVN5c3RlbS5hcnJheWNvcHkoaW5p\ndGlhbCwgMCwgX2luaXRpYWxzLCAwLCBpbml0aWFsLmxlbmd0aCk7CiAgICB9\nCiAgICAKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBpbml0aWFsIHZhbHVl\ncyBmb3IgdmVyc2lvbiBjb2x1bW5zLiBEZWZhdWx0cyB0byAxIGZvciBlYWNo\nIAogICAgICogY29sdW1uLgogICAgICovCiAgICBwdWJsaWMgTnVtYmVyW10g\nZ2V0SW5pdGlhbFZhbHVlcygpIHsKICAgIAlyZXR1cm4gX2luaXRpYWxzOwog\nICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWxpYXMoKSB7CiAgICAgICAg\ncmV0dXJuIEFMSUFTOwogICAgfQogICAgCiAgICBwcm90ZWN0ZWQgaW50IGdl\ndEphdmFUeXBlKCkgewogICAgICAgIHJldHVybiBKYXZhVHlwZXMuQVJSQVk7\nCiAgICB9CiAgICAKICAgIHByb3RlY3RlZCBpbnQgZ2V0SmF2YVR5cGUoaW50\nIGkpIHsKICAgIAlpZiAoX2phdmFUeXBlcyA9PSBudWxsKSB7CiAgICAgICAg\nICAgIF9qYXZhVHlwZXMgPSBuZXcgSW50ZWdlclt2ZXJzLmdldE1hcHBpbmdJ\nbmZvKCkuZ2V0Q29sdW1ucygpLnNpemUoKV07CiAgICAJfQogICAgCWlmIChf\namF2YVR5cGVzW2ldID09IG51bGwpIHsKICAgIAkJQ29sdW1uIGNvbCA9IChD\nb2x1bW4pdmVycy5nZXRNYXBwaW5nSW5mbygpLmdldENvbHVtbnMoKS5nZXQo\naSk7CiAgICAJCWlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShjb2wuZ2V0VHlw\nZU5hbWUoKSkpIHsKICAgIAkJCUNsYXNzIGphdmFUeXBlID0gU2NoZW1hcy5n\nZXRKYXZhVHlwZShjb2wuZ2V0VHlwZSgpLCAKICAgIAkJCQkJY29sLmdldFNp\nemUoKSwgY29sLmdldERlY2ltYWxEaWdpdHMoKSk7CiAgICAJCQlfamF2YVR5\ncGVzW2ldID0gSmF2YVR5cGVzLmdldFR5cGVDb2RlKGphdmFUeXBlKTsKICAg\nIAkJfSBlbHNlIHsKICAgIAkJCV9qYXZhVHlwZXNbaV0gPSBKYXZhVHlwZXMu\nSU5UOwogICAgCQl9CiAgICAJfQogICAgCXJldHVybiBfamF2YVR5cGVzW2ld\nOwogICAgfQoKICAgIHByb3RlY3RlZCBPYmplY3QgbmV4dFZlcnNpb24oT2Jq\nZWN0IHZlcnNpb24pIHsKICAgICAgICBpZiAodmVyc2lvbiA9PSBudWxsKQog\nICAgICAgICAgICByZXR1cm4gX2luaXRpYWxzOwogICAgICAgIE9iamVjdFtd\nIHZhbHVlcyA9IChPYmplY3RbXSl2ZXJzaW9uOwogICAgICAgIE51bWJlcltd\nIHJlc3VsdCA9IG5ldyBOdW1iZXJbdmFsdWVzLmxlbmd0aF07CiAgICAgICAg\nZm9yIChpbnQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspCiAgICAg\nICAgCXJlc3VsdFtpXSA9IG5leHRWYWx1ZSh2YWx1ZXNbaV0sIGdldEphdmFU\neXBlKGkpKTsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgCiAg\nICBOdW1iZXIgbmV4dFZhbHVlKE9iamVjdCBudW1iZXIsIGludCBqYXZhVHlw\nZUNvZGUpIHsKICAgIAlOdW1iZXIgcmVzdWx0ID0gKG51bWJlciA9PSBudWxs\nKSA/IDEgOiAoKE51bWJlciludW1iZXIpLmludFZhbHVlKCkgKyAxOwogICAg\nCXJldHVybgkoTnVtYmVyKUphdmFUeXBlcy5jb252ZXJ0KCIiK3Jlc3VsdCwg\namF2YVR5cGVDb2RlKTsKICAgIH0KfQo=\n","encoding":"base64"}

