{"sha":"190488f2d016228c66beb237c45cbb6bda0dd72e","node_id":"MDQ6QmxvYjIwNjM2NDoxOTA0ODhmMmQwMTYyMjhjNjZiZWIyMzdjNDVjYmI2YmRhMGRkNzJl","size":26997,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/190488f2d016228c66beb237c45cbb6bda0dd72e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZhLm1hdGguQmln\nSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkRhdGFiYXNlTWV0YURhdGE7Cmlt\ncG9ydCBqYXZhLnNxbC5EYXRlOwppbXBvcnQgamF2YS5zcWwuVGltZTsKaW1w\nb3J0IGphdmEuc3FsLlRpbWVzdGFtcDsKaW1wb3J0IGphdmEuc3FsLlR5cGVz\nOwoKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5sYW5nLlN0cmluZ1V0aWxz\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuaWRlbnRpZmllci5E\nQklkZW50aWZpZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5p\nZGVudGlmaWVyLlF1YWxpZmllZERCSWRlbnRpZmllcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuSmF2YVNRTFR5cGVzOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5WZXJzaW9uU3RyYXRlZ3k7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5KYXZhVHlwZXM7Cgov\nKioKICogUmVwcmVzZW50cyBhIGRhdGFiYXNlIGNvbHVtbi4gQ2xvc2VseSBh\nbGlnbmVkIHdpdGggdGhlIGNvbHVtbgogKiBpbmZvcm1hdGlvbiBhdmFpbGFi\nbGUgZnJvbSB7QGxpbmsgRGF0YWJhc2VNZXRhRGF0YX0uCiAqCiAqIEBhdXRo\nb3IgQWJlIFdoaXRlCiAqIEBhdXRob3IgU3RlcGhlbiBLaW0KICovCkBTdXBw\ncmVzc1dhcm5pbmdzKCJzZXJpYWwiKQpwdWJsaWMgY2xhc3MgQ29sdW1uCiAg\nICBleHRlbmRzIFJlZmVyZW5jZUNvdW50ZXIgewoKICAgIHB1YmxpYyBzdGF0\naWMgZmluYWwgaW50IEZMQUdfVU5JTlNFUlRBQkxFID0gMiA8PCAwOwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRkxBR19VTlVQREFUQUJMRSA9IDIg\nPDwgMTsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEZMQUdfRElSRUNU\nX0lOU0VSVCA9IDIgPDwgMjsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50\nIEZMQUdfRElSRUNUX1VQREFURSA9IDIgPDwgMzsKICAgIHB1YmxpYyBzdGF0\naWMgZmluYWwgaW50IEZMQUdfRktfSU5TRVJUID0gMiA8PCA0OwogICAgcHVi\nbGljIHN0YXRpYyBmaW5hbCBpbnQgRkxBR19GS19VUERBVEUgPSAyIDw8IDU7\nCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBGTEFHX1BLX0pPSU4gPSAy\nIDw8IDY7CgogICAgcHJpdmF0ZSBEQklkZW50aWZpZXIgX25hbWUgPSBEQklk\nZW50aWZpZXIuTlVMTDsKICAgIHByaXZhdGUgVGFibGUgX3RhYmxlID0gbnVs\nbDsKICAgIHByaXZhdGUgREJJZGVudGlmaWVyIF90YWJsZU5hbWUgPSBEQklk\nZW50aWZpZXIuTlVMTDsKICAgIHByaXZhdGUgREJJZGVudGlmaWVyIF9zY2hl\nbWFOYW1lID0gREJJZGVudGlmaWVyLk5VTEw7CiAgICBwcml2YXRlIGludCBf\ndHlwZSA9IFR5cGVzLk9USEVSOwogICAgcHJpdmF0ZSBEQklkZW50aWZpZXIg\nX3R5cGVOYW1lID0gREJJZGVudGlmaWVyLk5VTEw7CiAgICBwcml2YXRlIGlu\ndCBfamF2YVR5cGUgPSBKYXZhVHlwZXMuT0JKRUNUOwogICAgcHJpdmF0ZSBp\nbnQgX3NpemUgPSAwOwogICAgcHJpdmF0ZSBpbnQgX2RlY2ltYWxzID0gMDsK\nICAgIHByaXZhdGUgU3RyaW5nIF9kZWZhdWx0U3RyID0gbnVsbDsKICAgIHBy\naXZhdGUgT2JqZWN0IF9kZWZhdWx0ID0gbnVsbDsKICAgIHByaXZhdGUgQm9v\nbGVhbiBfbm90TnVsbCA9IG51bGw7CiAgICBwcml2YXRlIGJvb2xlYW4gX2F1\ndG9Bc3NpZ24gPSBmYWxzZTsKICAgIHByaXZhdGUgYm9vbGVhbiBfcmVsID0g\nZmFsc2U7CiAgICBwcml2YXRlIGJvb2xlYW4gX2ltcGxpY2l0UmVsYXRpb24g\nPSBmYWxzZTsKICAgIHByaXZhdGUgREJJZGVudGlmaWVyIF90YXJnZXQgPSBE\nQklkZW50aWZpZXIuTlVMTDsKICAgIHByaXZhdGUgU3RyaW5nIF90YXJnZXRG\naWVsZCA9IG51bGw7CiAgICBwcml2YXRlIGludCBfZmxhZ3MgPSAwOwogICAg\ncHJpdmF0ZSBRdWFsaWZpZWREQklkZW50aWZpZXIgX2Z1bGxQYXRoID0gbnVs\nbDsKCiAgICBwcml2YXRlIGludCBfaW5kZXggPSAwOwogICAgcHJpdmF0ZSBi\nb29sZWFuIF9wayA9IGZhbHNlOwogICAgcHJpdmF0ZSBWZXJzaW9uU3RyYXRl\nZ3kgX3ZlcnNpb25TdHJhdGVneSA9IG51bGw7CiAgICBwcml2YXRlIFN0cmlu\nZyBfY29tbWVudCA9IG51bGw7CiAgICBwcml2YXRlIGJvb2xlYW4gX1hNTCA9\nIGZhbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9pc1VuaTFNRksgPSBmYWxz\nZTsKICAgIAogICAgLyoqCiAgICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yLgog\nICAgICovCiAgICBwdWJsaWMgQ29sdW1uKCkgewogICAgfQoKICAgIC8qKgog\nICAgICogQ29uc3RydWN0b3IuCiAgICAgKgogICAgICogQHBhcmFtIG5hbWUg\ndGhlIG5hbWUgb2YgdGhlIGNvbHVtbgogICAgICogQHBhcmFtIHRhYmxlIHRo\nZSBjb2x1bW4ncyB0YWJsZQogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwog\nICAgcHVibGljIENvbHVtbihTdHJpbmcgbmFtZSwgVGFibGUgdGFibGUpIHsK\nICAgICAgICB0aGlzKERCSWRlbnRpZmllci5uZXdDb2x1bW4obmFtZSksIHRh\nYmxlKTsKICAgIH0KCiAgICBwdWJsaWMgQ29sdW1uKERCSWRlbnRpZmllciBu\nYW1lLCBUYWJsZSB0YWJsZSkgewogICAgICAgIHNldElkZW50aWZpZXIobmFt\nZSk7CiAgICAgICAgaWYgKHRhYmxlICE9IG51bGwpIHsKICAgICAgICAgICAg\nc2V0VGFibGVJZGVudGlmaWVyKHRhYmxlLmdldElkZW50aWZpZXIoKSk7CiAg\nICAgICAgICAgIHNldFNjaGVtYUlkZW50aWZpZXIodGFibGUuZ2V0U2NoZW1h\nSWRlbnRpZmllcigpKTsKICAgICAgICB9CiAgICAgICAgX3RhYmxlID0gdGFi\nbGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29s\ndW1uIGlzIHJlbW92ZWQgZnJvbSBpdHMgdGFibGUuIFJlbW92ZXMgdGhlIGNv\nbHVtbgogICAgICogZnJvbSBhbGwgdGFibGUgY29uc3RyYWludHMgYW5kIGlu\nZGV4ZXMsIHRoZW4gaW52YWxpZGF0ZXMgaXQuCiAgICAgKi8KICAgIHZvaWQg\ncmVtb3ZlKCkgewogICAgICAgIFRhYmxlIHRhYmxlID0gZ2V0VGFibGUoKTsK\nICAgICAgICBpZiAodGFibGUgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJu\nOwoKICAgICAgICBTY2hlbWEgc2NoZW1hID0gdGFibGUuZ2V0U2NoZW1hKCk7\nCiAgICAgICAgaWYgKHNjaGVtYSAhPSBudWxsICYmIHNjaGVtYS5nZXRTY2hl\nbWFHcm91cCgpICE9IG51bGwpIHsKICAgICAgICAgICAgU2NoZW1hW10gc2No\nZW1hcyA9IHNjaGVtYS5nZXRTY2hlbWFHcm91cCgpLmdldFNjaGVtYXMoKTsK\nICAgICAgICAgICAgVGFibGVbXSB0YWJzOwogICAgICAgICAgICBGb3JlaWdu\nS2V5W10gZmtzOwogICAgICAgICAgICBDb2x1bW5bXSBjb2xzOwogICAgICAg\nICAgICBDb2x1bW5bXSBwa3M7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAw\nOyBpIDwgc2NoZW1hcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAg\ndGFicyA9IHNjaGVtYXNbaV0uZ2V0VGFibGVzKCk7CiAgICAgICAgICAgICAg\nICBmb3IgKGludCBqID0gMDsgaiA8IHRhYnMubGVuZ3RoOyBqKyspIHsKICAg\nICAgICAgICAgICAgICAgICBma3MgPSB0YWJzW2pdLmdldEZvcmVpZ25LZXlz\nKCk7CiAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgayA9IDA7IGsgPCBm\na3MubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29s\ncyA9IGZrc1trXS5nZXRDb2x1bW5zKCk7CiAgICAgICAgICAgICAgICAgICAg\nICAgIHBrcyA9IGZrc1trXS5nZXRQcmltYXJ5S2V5Q29sdW1ucygpOwogICAg\nICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBsID0gMDsgbCA8IGNvbHMu\nbGVuZ3RoOyBsKyspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAo\ndGhpcy5lcXVhbHMoY29sc1tsXSkgfHwgdGhpcy5lcXVhbHMocGtzW2xdKSkK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBma3Nba10ucmVtb3Zl\nSm9pbihjb2xzW2xdKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHMg\nPSBma3Nba10uZ2V0Q29uc3RhbnRDb2x1bW5zKCk7CiAgICAgICAgICAgICAg\nICAgICAgICAgIGZvciAoaW50IGwgPSAwOyBsIDwgY29scy5sZW5ndGg7IGwr\nKykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVxdWFs\ncyhjb2xzW2xdKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBm\na3Nba10ucmVtb3ZlSm9pbihjb2xzW2xdKTsKCiAgICAgICAgICAgICAgICAg\nICAgICAgIHBrcyA9IGZrc1trXS5nZXRDb25zdGFudFByaW1hcnlLZXlDb2x1\nbW5zKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGwgPSAw\nOyBsIDwgcGtzLmxlbmd0aDsgbCsrKQogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgaWYgKHRoaXMuZXF1YWxzKHBrc1tsXSkpCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgZmtzW2tdLnJlbW92ZUpvaW4ocGtzW2xdKTsK\nCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChma3Nba10uZ2V0Q29sdW1u\ncygpLmxlbmd0aCA9PSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAm\nJiBma3Nba10uZ2V0Q29uc3RhbnRDb2x1bW5zKCkubGVuZ3RoID09IDApCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJzW2pdLnJlbW92ZUZvcmVp\nZ25LZXkoZmtzW2tdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIElu\nZGV4W10gaWR4cyA9IHRhYmxlLmdldEluZGV4ZXMoKTsKICAgICAgICBmb3Ig\nKGludCBpID0gMDsgaSA8IGlkeHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAg\nIGlmIChpZHhzW2ldLnJlbW92ZUNvbHVtbih0aGlzKSAmJiBpZHhzW2ldLmdl\ndENvbHVtbnMoKS5sZW5ndGggPT0gMCkKICAgICAgICAgICAgICAgIHRhYmxl\nLnJlbW92ZUluZGV4KGlkeHNbaV0pOwoKICAgICAgICBVbmlxdWVbXSB1bnFz\nID0gdGFibGUuZ2V0VW5pcXVlcygpOwogICAgICAgIGZvciAoaW50IGkgPSAw\nOyBpIDwgdW5xcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgaWYgKHVucXNb\naV0ucmVtb3ZlQ29sdW1uKHRoaXMpICYmIHVucXNbaV0uZ2V0Q29sdW1ucygp\nLmxlbmd0aCA9PSAwKQogICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlVW5p\ncXVlKHVucXNbaV0pOwoKICAgICAgICBQcmltYXJ5S2V5IHBrID0gdGFibGUu\nZ2V0UHJpbWFyeUtleSgpOwogICAgICAgIGlmIChwayAhPSBudWxsICYmIHBr\nLnJlbW92ZUNvbHVtbih0aGlzKSAmJiBway5nZXRDb2x1bW5zKCkubGVuZ3Ro\nID09IDApCiAgICAgICAgICAgIHRhYmxlLnJlbW92ZVByaW1hcnlLZXkoKTsK\nCiAgICAgICAgX3RhYmxlID0gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgdGFibGUgZm9yIHRoZSBjb2x1bW4uCiAgICAgKi8KICAg\nIHB1YmxpYyBUYWJsZSBnZXRUYWJsZSgpIHsKICAgICAgICByZXR1cm4gX3Rh\nYmxlOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGNvbHVtbidzIHRhYmxl\nIG5hbWUuCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBwdWJsaWMg\nU3RyaW5nIGdldFRhYmxlTmFtZSgpIHsKICAgICAgICByZXR1cm4gZ2V0VGFi\nbGVJZGVudGlmaWVyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIHB1YmxpYyBE\nQklkZW50aWZpZXIgZ2V0VGFibGVJZGVudGlmaWVyKCkgewogICAgICAgIHJl\ndHVybiBfdGFibGVOYW1lID09IG51bGwgPyBEQklkZW50aWZpZXIuTlVMTCA6\nIF90YWJsZU5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgY29sdW1u\nJ3MgdGFibGUgbmFtZS4gWW91IGNhbiBvbmx5IGNhbGwgdGhpcyBtZXRob2Qg\nb24gY29sdW1ucwogICAgICogd2hvc2UgdGFibGUgb2JqZWN0IGlzIG5vdCBz\nZXQuCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXRUYWJsZU5hbWUoU3RyaW5nIG5hbWUpIHsKICAgICAgICBzZXRUYWJs\nZUlkZW50aWZpZXIoREJJZGVudGlmaWVyLm5ld1RhYmxlKG5hbWUpKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUYWJsZUlkZW50aWZpZXIoREJJZGVu\ndGlmaWVyIG5hbWUpIHsKICAgICAgaWYgKGdldFRhYmxlKCkgIT0gbnVsbCkK\nICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsK\nICAgICAgX3RhYmxlTmFtZSA9IG5hbWUgPT0gbnVsbCA/IERCSWRlbnRpZmll\nci5OVUxMIDogbmFtZTsKICAgICAgX2Z1bGxQYXRoID0gbnVsbDsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJlc2V0IHRoZSB0YWJsZSBuYW1lIHdpdGggdGhl\nIGZ1bGx5IHF1YWxpZmllZCB0YWJsZSBuYW1lIHdoaWNoCiAgICAgKiBpbmNs\ndWRlcyB0aGUgc2NoZW1hIG5hbWUKICAgICAqIEBkZXByZWNhdGVkCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHJlc2V0VGFibGVOYW1lKFN0cmluZyBuYW1l\nKSB7CiAgICAgICAgX3RhYmxlTmFtZSA9IERCSWRlbnRpZmllci5uZXdUYWJs\nZShuYW1lKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgcmVzZXRUYWJs\nZUlkZW50aWZpZXIoREJJZGVudGlmaWVyIHRhYmxlKSB7CiAgICAgICAgX3Rh\nYmxlTmFtZSA9IHRhYmxlID09IG51bGwgPyBEQklkZW50aWZpZXIuTlVMTCA6\nIHRhYmxlOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGNvbHVtbidzIHNj\naGVtYSBuYW1lLgogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgcHVi\nbGljIFN0cmluZyBnZXRTY2hlbWFOYW1lKCkgewogICAgICAgIHJldHVybiBn\nZXRTY2hlbWFJZGVudGlmaWVyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIHB1\nYmxpYyBEQklkZW50aWZpZXIgZ2V0U2NoZW1hSWRlbnRpZmllcigpIHsKICAg\nICAgICByZXR1cm4gX3NjaGVtYU5hbWUgPT0gbnVsbCA/IERCSWRlbnRpZmll\nci5OVUxMIDogX3NjaGVtYU5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBU\naGUgY29sdW1uJ3Mgc2NoZW1hIG5hbWUuIFlvdSBjYW4gb25seSBjYWxsIHRo\naXMgbWV0aG9kIG9uIGNvbHVtbnMKICAgICAqIHdob3NlIHRhYmxlIG9iamVj\ndCBpcyBub3Qgc2V0LgogICAgICogQGRlcHJlY2F0ZWQgdXNlIHNldFNjaGVt\nYUlkZW50aWZpZXIoREJJZGVudGlmaWVyIG5hbWUpCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIHNldFNjaGVtYU5hbWUoU3RyaW5nIG5hbWUpIHsKICAgICAg\nICBzZXRTY2hlbWFJZGVudGlmaWVyKERCSWRlbnRpZmllci5uZXdTY2hlbWEo\nbmFtZSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNjaGVtYUlkZW50\naWZpZXIoREJJZGVudGlmaWVyIG5hbWUpIHsKICAgICAgICBpZiAoZ2V0VGFi\nbGUoKSAhPSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0\nYXRlRXhjZXB0aW9uKCk7CiAgICAgICAgX3NjaGVtYU5hbWUgPSBuYW1lID09\nIG51bGwgPyBEQklkZW50aWZpZXIuTlVMTCA6IG5hbWU7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gdGhlIGNvbHVtbidzIG5hbWUuCiAgICAgKiBA\nZGVwcmVjYXRlZCB1c2UgZ2V0SWRlbnRpZmllcigpCiAgICAgKi8KICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsKICAgICAgICByZXR1cm4gZ2V0SWRl\nbnRpZmllcigpLmdldE5hbWUoKTsKICAgIH0KCiAgICBwdWJsaWMgREJJZGVu\ndGlmaWVyIGdldElkZW50aWZpZXIoKSB7CiAgICAgICAgcmV0dXJuIF9uYW1l\nID09IG51bGwgPyBEQklkZW50aWZpZXIuTlVMTCA6IF9uYW1lOwogICAgfQoK\nICAgIAogICAgLyoqCiAgICAgKiBTZXQgdGhlIGNvbHVtbidzIG5hbWUuIFlv\ndSBjYW4gb25seSBjYWxsIHRoaXMgbWV0aG9kIG9uIGNvbHVtbnMKICAgICAq\nIHdob3NlIHRhYmxlIG9iamVjdCBpcyBub3Qgc2V0LgogICAgICogQGRlcHJl\nY2F0ZWQgdXNlIHNldElkZW50aWZpZXIoREJJZGVudGlmaWVyIG5hbWUpCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5nIG5hbWUpIHsK\nICAgICAgICBzZXRJZGVudGlmaWVyKERCSWRlbnRpZmllci5uZXdDb2x1bW4o\nbmFtZSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldElkZW50aWZpZXIo\nREJJZGVudGlmaWVyIG5hbWUpIHsKICAgICAgICBpZiAoZ2V0VGFibGUoKSAh\nPSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhj\nZXB0aW9uKCk7CiAgICAgICAgX25hbWUgPSBuYW1lID09IG51bGwgPyBEQklk\nZW50aWZpZXIuTlVMTCA6IG5hbWU7CiAgICAgICAgX2Z1bGxQYXRoID0gbnVs\nbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgY29sdW1uJ3Mg\nZnVsbCBuYW1lLCBpbiB0aGUgZm9ybSAmbHQ7dGFibGUmZ3Q7LiZsdDtuYW1l\nJmd0Oy4KICAgICAqIEBkZXByZWNhdGVkIHVzZSBnZXRGdWxsREJJZGVudGlm\naWVyKCkKICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRGdWxsTmFtZSgp\nIHsKICAgICAgICByZXR1cm4gZ2V0RnVsbERCSWRlbnRpZmllcigpLmdldE5h\nbWUoKTsKICAgIH0KCiAgICBwdWJsaWMgREJJZGVudGlmaWVyIGdldEZ1bGxE\nQklkZW50aWZpZXIoKSB7CiAgICAgICAgcmV0dXJuIGdldFF1YWxpZmllZFBh\ndGgoKS5nZXRJZGVudGlmaWVyKCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyBR\ndWFsaWZpZWREQklkZW50aWZpZXIgZ2V0UXVhbGlmaWVkUGF0aCgpIHsKICAg\nICAgICBpZiAoX2Z1bGxQYXRoICA9PSBudWxsKSB7CiAgICAgICAgICAgIF9m\ndWxsUGF0aCA9IFF1YWxpZmllZERCSWRlbnRpZmllci5uZXdQYXRoKGdldFRh\nYmxlSWRlbnRpZmllcigpLCBnZXRJZGVudGlmaWVyKCkgKTsKICAgICAgICB9\nCiAgICAgICAgcmV0dXJuIF9mdWxsUGF0aDsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiB0aGUgY29sdW1uJ3MgU1FMIHR5cGUuIFRoaXMgd2lsbCBi\nZSBvbmUgb2YgdGhlIHR5cGUgY29uc3RhbnRzCiAgICAgKiBkZWZpbmVkIGlu\nIHtAbGluayBUeXBlc30uCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0VHlw\nZSgpIHsKICAgICAgICByZXR1cm4gX3R5cGU7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBTZXQgdGhlIGNvbHVtbidzIFNRTCB0eXBlLiBUaGlzIHNob3VsZCBi\nZSBvbmUgb2YgdGhlIHR5cGUgY29uc3RhbnRzCiAgICAgKiBkZWZpbmVkIGlu\nIHtAbGluayBUeXBlc30uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFR5\ncGUoaW50IHNxbFR5cGUpIHsKICAgICAgICBfdHlwZSA9IHNxbFR5cGU7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUaGUgZGF0YWJhc2Utc3BlY2lmaWMgU1FM\nIHR5cGUgb2YgdGhpcyBjb2x1bW4uCiAgICAgKiBAZGVwcmVjYXRlZAogICAg\nICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFR5cGVOYW1lKCkgewogICAgICAg\nIHJldHVybiBnZXRUeXBlSWRlbnRpZmllcigpLmdldE5hbWUoKTsKICAgIH0K\nCiAgICBwdWJsaWMgREJJZGVudGlmaWVyIGdldFR5cGVJZGVudGlmaWVyKCkg\newogICAgICAgIHJldHVybiBfdHlwZU5hbWUgPT0gbnVsbCA/IERCSWRlbnRp\nZmllci5OVUxMIDogX3R5cGVOYW1lIDsKICAgIH0KCiAgICAvKioKICAgICAq\nIFRoZSBkYXRhYmFzZS1zcGVjaWZpYyBTUUwgdHlwZSBvZiB0aGlzIGNvbHVt\nbi4KICAgICAqIEBkZXByZWNhdGVkCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldFR5cGVOYW1lKFN0cmluZyB0eXBlTmFtZSkgewogICAgICAgIHNldFR5\ncGVJZGVudGlmaWVyKERCSWRlbnRpZmllci5uZXdDb2x1bW5EZWZpbml0aW9u\nKHR5cGVOYW1lKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHlwZUlk\nZW50aWZpZXIoREJJZGVudGlmaWVyIHR5cGVOYW1lKSB7CiAgICAgICAgX3R5\ncGVOYW1lID0gdHlwZU5hbWUgPT0gbnVsbCA/IERCSWRlbnRpZmllci5OVUxM\nIDogdHlwZU5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgSmF2YSB0\neXBlIHRoZSBkYXRhIGluIHRoaXMgY29sdW1uIGlzIHRyZWF0ZWQgYXMsIGZy\nb20KICAgICAqIHtAbGluayBKYXZhVHlwZXN9IG9yIHtAbGluayBKYXZhU1FM\nVHlwZXN9LgogICAgICovCiAgICBwdWJsaWMgaW50IGdldEphdmFUeXBlKCkg\newogICAgICAgIHJldHVybiBfamF2YVR5cGU7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUaGUgSmF2YSB0eXBlIHRoZSBkYXRhIGluIHRoaXMgY29sdW1uIGlz\nIHRyZWF0ZWQgYXMsIGZyb20KICAgICAqIHtAbGluayBKYXZhVHlwZXN9IG9y\nIHtAbGluayBKYXZhU1FMVHlwZXN9LgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXRKYXZhVHlwZShpbnQgdHlwZSkgewogICAgICAgIF9qYXZhVHlwZSA9\nIHR5cGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGNvbHVt\nbidzIHNpemUuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0U2l6ZSgpIHsK\nICAgICAgICByZXR1cm4gX3NpemU7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgdGhlIGNvbHVtbidzIHNpemUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldFNpemUoaW50IHNpemUpIHsKICAgICAgICBfc2l6ZSA9IHNpemU7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIG51bWJlciBvZiBkZWNp\nbWFsIGRpZ2l0cyBmb3IgdGhlIGNvbHVtbiwgaWYgYXBwbGljYWJsZS4KICAg\nICAqLwogICAgcHVibGljIGludCBnZXREZWNpbWFsRGlnaXRzKCkgewogICAg\nICAgIHJldHVybiBfZGVjaW1hbHM7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgdGhlIG51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cyBmb3IgdGhlIGNvbHVt\nbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0RGVjaW1hbERpZ2l0cyhp\nbnQgZGlnaXRzKSB7CiAgICAgICAgX2RlY2ltYWxzID0gZGlnaXRzOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlIHNl\ndCBmb3IgdGhlIGNvbHVtbiwgaWYgYW55LgogICAgICovCiAgICBwdWJsaWMg\nU3RyaW5nIGdldERlZmF1bHRTdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9k\nZWZhdWx0U3RyOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBkZWZh\ndWx0IHZhbHVlIGZvciB0aGUgY29sdW1uLgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCBzZXREZWZhdWx0U3RyaW5nKFN0cmluZyBkZWYpIHsKICAgICAgICBf\nZGVmYXVsdFN0ciA9IGRlZjsKICAgICAgICBfZGVmYXVsdCA9IG51bGw7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWUg\nc2V0IGZvciB0aGlzIGNvbHVtbiwgaWYgYW55LiBJZiBvbmx5IGEgZGVmYXVs\ndAogICAgICogc3RyaW5nIGhhcyBiZWVuIHNldCwgYXR0ZW1wdHMgdG8gY29u\ndmVydCBpdCB0byB0aGUgcmlnaHQgdHlwZSBiYXNlZAogICAgICogb24gdGhl\nIEphdmEgdHlwZSBzZXQgZm9yIHRoaXMgY29sdW1uLgogICAgICovCiAgICBw\ndWJsaWMgT2JqZWN0IGdldERlZmF1bHQoKSB7CiAgICAgICAgaWYgKF9kZWZh\ndWx0ICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBfZGVmYXVsdDsKICAg\nICAgICBpZiAoX2RlZmF1bHRTdHIgPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIG51bGw7CgogICAgICAgIHN3aXRjaCAoX2phdmFUeXBlKSB7CiAgICAg\nICAgICAgIGNhc2UgSmF2YVR5cGVzLkJPT0xFQU46CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkJPT0xFQU5fT0JKOgogICAgICAgICAgICAgICAgX2Rl\nZmF1bHQgPSAoInRydWUiLmVxdWFscyhfZGVmYXVsdFN0cikpID8gQm9vbGVh\nbi5UUlVFCiAgICAgICAgICAgICAgICAgICAgOiBCb29sZWFuLkZBTFNFOwog\nICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5\ncGVzLkJZVEU6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZVEVfT0JK\nOgogICAgICAgICAgICAgICAgX2RlZmF1bHQgPSBuZXcgQnl0ZShfZGVmYXVs\ndFN0cik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuQ0hBUjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMu\nQ0hBUl9PQko6CiAgICAgICAgICAgICAgICBfZGVmYXVsdCA9IG5ldyBDaGFy\nYWN0ZXIoX2RlZmF1bHRTdHIuY2hhckF0KDApKTsKICAgICAgICAgICAgICAg\nIGJyZWFrOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5ET1VCTEU6CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkRPVUJMRV9PQko6CiAgICAgICAg\nICAgICAgICBfZGVmYXVsdCA9IG5ldyBEb3VibGUoX2RlZmF1bHRTdHIpOwog\nICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5\ncGVzLkZMT0FUOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5GTE9BVF9P\nQko6CiAgICAgICAgICAgICAgICBfZGVmYXVsdCA9IG5ldyBGbG9hdChfZGVm\nYXVsdFN0cik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuSU5UOgogICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5JTlRfT0JKOgogICAgICAgICAgICAgICAgX2RlZmF1bHQgPSBJbnRlZ2Vy\nLnBhcnNlSW50KF9kZWZhdWx0U3RyKTsKICAgICAgICAgICAgICAgIGJyZWFr\nOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5MT05HOgogICAgICAgICAg\nICBjYXNlIEphdmFUeXBlcy5MT05HX09CSjoKICAgICAgICAgICAgICAgIF9k\nZWZhdWx0ID0gTG9uZy5wYXJzZUxvbmcoX2RlZmF1bHRTdHIpOwogICAgICAg\nICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLk5V\nTUJFUjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQklHREVDSU1BTDoK\nICAgICAgICAgICAgICAgIF9kZWZhdWx0ID0gbmV3IEJpZ0RlY2ltYWwoX2Rl\nZmF1bHRTdHIpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAgICAgICAgICBjYXNlIEphdmFU\neXBlcy5TSE9SVF9PQko6CiAgICAgICAgICAgICAgICBfZGVmYXVsdCA9IG5l\ndyBTaG9ydChfZGVmYXVsdFN0cik7CiAgICAgICAgICAgICAgICBicmVhazsK\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuREFURToKICAgICAgICAgICAg\nICAgIF9kZWZhdWx0ID0gbmV3IGphdmEudXRpbC5EYXRlKF9kZWZhdWx0U3Ry\nKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIEph\ndmFUeXBlcy5CSUdJTlRFR0VSOgogICAgICAgICAgICAgICAgX2RlZmF1bHQg\nPSBuZXcgQmlnSW50ZWdlcihfZGVmYXVsdFN0cik7CiAgICAgICAgICAgICAg\nICBicmVhazsKICAgICAgICAgICAgY2FzZSBKYXZhU1FMVHlwZXMuU1FMX0RB\nVEU6CiAgICAgICAgICAgICAgICBfZGVmYXVsdCA9IERhdGUudmFsdWVPZihf\nZGVmYXVsdFN0cik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAg\nICAgY2FzZSBKYXZhU1FMVHlwZXMuVElNRVNUQU1QOgogICAgICAgICAgICAg\nICAgX2RlZmF1bHQgPSBUaW1lc3RhbXAudmFsdWVPZihfZGVmYXVsdFN0cik7\nCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBKYXZh\nU1FMVHlwZXMuVElNRToKICAgICAgICAgICAgICAgIF9kZWZhdWx0ID0gVGlt\nZS52YWx1ZU9mKF9kZWZhdWx0U3RyKTsKICAgICAgICAgICAgICAgIGJyZWFr\nOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgX2RlZmF1\nbHQgPSBfZGVmYXVsdFN0cjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9k\nZWZhdWx0OwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBkZWZhdWx0\nIHZhbHVlIGZvciB0aGUgY29sdW1uLgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXREZWZhdWx0KE9iamVjdCBkZWYpIHsKICAgICAgICBfZGVmYXVsdCA9\nIGRlZjsKICAgICAgICBfZGVmYXVsdFN0ciA9IChkZWYgPT0gbnVsbCkgPyBu\ndWxsIDogZGVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gdHJ1ZSBpZiB0aGlzIGlzIGEgTk9UIE5VTEwgY29sdW1uLgogICAg\nICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc05vdE51bGwoKSB7CiAgICAgICAg\ncmV0dXJuIF9ub3ROdWxsID09IEJvb2xlYW4uVFJVRTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCB3aGV0aGVyIHRoaXMgaXMgYSBOT1QgTlVMTCBjb2x1\nbW4uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldE5vdE51bGwoYm9vbGVh\nbiBub3ROdWxsKSB7CiAgICAgICAgX25vdE51bGwgPSAobm90TnVsbCkgPyBC\nb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFOwogICAgfQoKICAgIC8qKgog\nICAgICogV2hldGhlciB0aGUgbm90LW51bGwgcHJvcGVydHkgaGFzIGJlZW4g\nc2V0LgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc05vdE51bGxFeHBs\naWNpdCgpIHsKICAgICAgICByZXR1cm4gX25vdE51bGwgIT0gbnVsbDsKICAg\nIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhpcyBjb2x1bW4gaXMgYXV0\nby1hc3NpZ25lZCBhIHZhbHVlIG9uIGluc2VydC4KICAgICAqLwogICAgcHVi\nbGljIGJvb2xlYW4gaXNBdXRvQXNzaWduZWQoKSB7CiAgICAgICAgcmV0dXJu\nIF9hdXRvQXNzaWduOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0\naGlzIGNvbHVtbiBpcyBhdXRvLWluY3JlbWVudGluZy4KICAgICAqLwogICAg\ncHVibGljIHZvaWQgc2V0QXV0b0Fzc2lnbmVkKGJvb2xlYW4gYXV0b0Fzc2ln\nbikgewogICAgICAgIGlmIChhdXRvQXNzaWduICE9IF9hdXRvQXNzaWduICYm\nIGdldFRhYmxlKCkgIT0gbnVsbCkKICAgICAgICAgICAgZ2V0VGFibGUoKS5j\naGFuZ2VBdXRvQXNzaWduZWQodGhpcyk7CiAgICAgICAgX2F1dG9Bc3NpZ24g\nPSBhdXRvQXNzaWduOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0\naGlzIGNvbHVtbiBzdG9yZXMgc29tZSBmb3JtIG9mIHNlcmlhbGl6ZWQgaWRl\nbnRpdHkgdmFsdWUgZm9yCiAgICAgKiBhIHJlbGF0ZWQgcmVjb3JkLiBUaGlz\nIG1ha2VzIHRoZSBjb2x1bW4gZGVwZW5kZW50IG9uIHRoZSBrbm93aW5nIHRo\nZQogICAgICogZmluYWwgaWRlbnRpdHkgb2YgdGhlIHJlbGF0aW9uIGJlZm9y\nZSB0aGUgY29sdW1uIHZhbHVlIGlzIHNldC4KICAgICAqLwogICAgcHVibGlj\nIGJvb2xlYW4gaXNSZWxhdGlvbklkKCkgewogICAgICAgIHJldHVybiBfcmVs\nOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0aGlzIGNvbHVtbiBz\ndG9yZXMgc29tZSBmb3JtIG9mIHNlcmlhbGl6ZWQgaWRlbnRpdHkgdmFsdWUg\nZm9yCiAgICAgKiBhIHJlbGF0ZWQgcmVjb3JkLiBUaGlzIG1ha2VzIHRoZSBj\nb2x1bW4gZGVwZW5kZW50IG9uIHRoZSBrbm93aW5nIHRoZQogICAgICogZmlu\nYWwgaWRlbnRpdHkgb2YgdGhlIHJlbGF0aW9uIGJlZm9yZSB0aGUgY29sdW1u\nIHZhbHVlIGlzIHNldC4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0UmVs\nYXRpb25JZChib29sZWFuIHJlbCkgewogICAgICAgIGlmIChyZWwgIT0gX3Jl\nbCAmJiBnZXRUYWJsZSgpICE9IG51bGwpCiAgICAgICAgICAgIGdldFRhYmxl\nKCkuY2hhbmdlUmVsYXRpb25JZCh0aGlzKTsKICAgICAgICBfcmVsID0gcmVs\nOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbHVt\nbiB0aGlzIGNvbHVtbiBqb2lucyB0bywgaWYgYW55LiBVc2VkIGZvciBtYXBw\naW5nLgogICAgICogQGRlcHJlY2F0ZWQgdXNlIGdldFRhcmdldElkZW50aWZp\nZXIoKQogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFRhcmdldCgpIHsK\nICAgICAgICByZXR1cm4gZ2V0VGFyZ2V0SWRlbnRpZmllcigpLmdldE5hbWUo\nKTsKICAgIH0KCiAgICBwdWJsaWMgREJJZGVudGlmaWVyIGdldFRhcmdldElk\nZW50aWZpZXIoKSB7CiAgICAgICAgcmV0dXJuIF90YXJnZXQgPT0gbnVsbCA/\nIERCSWRlbnRpZmllci5OVUxMIDogX3RhcmdldDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb2x1bW4gdGhpcyBjb2x1bW4gam9p\nbnMgdG8sIGlmIGFueS4gVXNlZCBmb3IgbWFwcGluZy4KICAgICAqIEBkZXBy\nZWNhdGVkIHVzZSBzZXRUYXJnZXRJZGVudGlmaWVyKERCSWRlbnRpZmllciB0\nYXJnZXQpCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFRhcmdldChTdHJp\nbmcgdGFyZ2V0KSB7CiAgICAgICAgc2V0VGFyZ2V0SWRlbnRpZmllcihEQklk\nZW50aWZpZXIubmV3Q29sdW1uKFN0cmluZ1V0aWxzLnRyaW1Ub051bGwodGFy\nZ2V0KSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRhcmdldElkZW50\naWZpZXIoREJJZGVudGlmaWVyIHRhcmdldCkgewogICAgICAgIF90YXJnZXQg\nPSB0YXJnZXQgPT0gbnVsbCA/IERCSWRlbnRpZmllci5OVUxMIDogREJJZGVu\ndGlmaWVyLnRyaW1Ub051bGwodGFyZ2V0KTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCB0aGlzIGNvbHVtbiBqb2lucyB0\nbywgaWYgYW55LiBVc2VkIGZvciBtYXBwaW5nLgogICAgICovCiAgICBwdWJs\naWMgU3RyaW5nIGdldFRhcmdldEZpZWxkKCkgewogICAgICAgIHJldHVybiBf\ndGFyZ2V0RmllbGQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgbmFtZSBv\nZiB0aGUgZmllbGQgdGhpcyBjb2x1bW4gam9pbnMgdG8sIGlmIGFueS4gVXNl\nZCBmb3IgbWFwcGluZy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0VGFy\nZ2V0RmllbGQoU3RyaW5nIHRhcmdldCkgewogICAgICAgIGlmICh0YXJnZXQg\nIT0gbnVsbCAmJiB0YXJnZXQubGVuZ3RoKCkgPT0gMCkKICAgICAgICAgICAg\ndGFyZ2V0ID0gbnVsbDsKICAgICAgICBfdGFyZ2V0RmllbGQgPSB0YXJnZXQ7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBGbGFncyBhcmUgdXNlZCBmb3IgYm9v\na2tlZXBpbmcgaW5mb3JtYXRpb24uIFRoZXkgYXJlIGlnbm9yZWQgYXQgcnVu\ndGltZS4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0RmxhZyhpbnQg\nZmxhZykgewogICAgICAgIHJldHVybiAoX2ZsYWdzICYgZmxhZykgIT0gMDsK\nICAgIH0KCiAgICAvKioKICAgICAqIEZsYWdzIGFyZSB1c2VkIGZvciBib29r\na2VlcGluZyBpbmZvcm1hdGlvbi4gVGhleSBhcmUgaWdub3JlZCBhdCBydW50\naW1lLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRGbGFnKGludCBmbGFn\nLCBib29sZWFuIG9uKSB7CiAgICAgICAgaWYgKG9uKQogICAgICAgICAgICBf\nZmxhZ3MgfD0gZmxhZzsKICAgICAgICBlbHNlCiAgICAgICAgICAgIF9mbGFn\ncyAmPSB+ZmxhZzsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0cnVl\nIGlmIHRoaXMgY29sdW1uIGJlbG9uZ3MgdG8gdGhlIHRhYmxlJ3MgcHJpbWFy\neSBrZXkuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzUHJpbWFyeUtl\neSgpIHsKICAgICAgICByZXR1cm4gX3BrOwogICAgfQoKICAgIC8qKgogICAg\nICogU2V0IHdoZXRoZXIgdGhpcyBjb2x1bW4gYmVsb25ncyB0byB0aGUgdGFi\nbGUncyBwcmltYXJ5IGtleS4KICAgICAqLwogICAgdm9pZCBzZXRQcmltYXJ5\nS2V5KGJvb2xlYW4gcGspIHsKICAgICAgICBfcGsgPSBwazsKICAgIH0KCiAg\nICAvKioKICAgICAqIFJldHVybiB0aGUgY29sdW1uJ3MgMC1iYXNlZCBpbmRl\neCBpbiB0aGUgb3duaW5nIHRhYmxlLgogICAgICovCiAgICBwdWJsaWMgaW50\nIGdldEluZGV4KCkgewogICAgICAgIGlmIChnZXRUYWJsZSgpICE9IG51bGwp\nCiAgICAgICAgICAgIGdldFRhYmxlKCkuaW5kZXhDb2x1bW5zKCk7CiAgICAg\nICAgcmV0dXJuIF9pbmRleDsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0\naGUgY29sdW1uJ3MgMC1iYXNlZCBpbmRleCBpbiB0aGUgb3duaW5nIHRhYmxl\nLgogICAgICovCiAgICB2b2lkIHNldEluZGV4KGludCBpbmRleCkgewogICAg\nICAgIF9pbmRleCA9IGluZGV4OwogICAgfQoKICAgIC8qKgogICAgICogV2hl\ndGhlciB0aGlzIGNvbHVtbiBpcyBhIExPQi4KICAgICAqLwogICAgcHVibGlj\nIGJvb2xlYW4gaXNMb2IoKSB7CiAgICAgICAgc3dpdGNoIChfdHlwZSkgewog\nICAgICAgICAgICBjYXNlIFR5cGVzLkJJTkFSWToKICAgICAgICAgICAgY2Fz\nZSBUeXBlcy5CTE9COgogICAgICAgICAgICBjYXNlIFR5cGVzLkxPTkdWQVJC\nSU5BUlk6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuVkFSQklOQVJZOgogICAg\nICAgICAgICBjYXNlIFR5cGVzLkNMT0I6CiAgICAgICAgICAgICAgICByZXR1\ncm4gdHJ1ZTsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAg\nIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gdHJ1ZSBpZiB0aGlzIGNvbHVtbiBpcyBjb21wYXRpYmxlIHdp\ndGggdGhlIGdpdmVuIEpEQkMgdHlwZQogICAgICogZnJvbSB7QGxpbmsgVHlw\nZXN9IGFuZCBzaXplLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc0Nv\nbXBhdGlibGUoaW50IHR5cGUsIFN0cmluZyB0eXBlTmFtZSwgaW50IHNpemUs\nIAogICAgICAgIGludCBkZWNpbWFscykgewogICAgICAgIGlmICh0eXBlID09\nIFR5cGVzLk9USEVSIHx8IGdldFR5cGUoKSA9PSBUeXBlcy5PVEhFUikKICAg\nICAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICAgIC8vIG5vdGUgdGhhdCB0\naGUgZ2l2ZW4gc2l6ZSBpcyBjdXJyZW50bHkgaWdub3JlZCwgYnV0IG1heSBi\nZSB1c2VmdWwKICAgICAgICAvLyB0byBkeW5hbWljYWxseS1wb3B1bGF0aW5n\nIHN1YmNsYXNzZXMKICAgICAgICBzd2l0Y2ggKGdldFR5cGUoKSkgewogICAg\nICAgICAgICBjYXNlIFR5cGVzLkJJVDoKICAgICAgICAgICAgY2FzZSBUeXBl\ncy5USU5ZSU5UOgogICAgICAgICAgICBjYXNlIFR5cGVzLkJJR0lOVDoKICAg\nICAgICAgICAgY2FzZSBUeXBlcy5JTlRFR0VSOgogICAgICAgICAgICBjYXNl\nIFR5cGVzLk5VTUVSSUM6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuU01BTExJ\nTlQ6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuREVDSU1BTDoKICAgICAgICAg\nICAgY2FzZSBUeXBlcy5ET1VCTEU6CiAgICAgICAgICAgIGNhc2UgVHlwZXMu\nRkxPQVQ6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuUkVBTDoKICAgICAgICAg\nICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICAgICAgICAgIGNh\nc2UgVHlwZXMuQklUOgogICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMu\nVElOWUlOVDoKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLkJJR0lO\nVDoKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLklOVEVHRVI6CiAg\nICAgICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5OVU1FUklDOgogICAgICAg\nICAgICAgICAgICAgIGNhc2UgVHlwZXMuU01BTExJTlQ6CiAgICAgICAgICAg\nICAgICAgICAgY2FzZSBUeXBlcy5ERUNJTUFMOgogICAgICAgICAgICAgICAg\nICAgIGNhc2UgVHlwZXMuRE9VQkxFOgogICAgICAgICAgICAgICAgICAgIGNh\nc2UgVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgICAgICAgICAgY2FzZSBUeXBl\ncy5SRUFMOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsK\nICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAg\nICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAg\nICAgICAgIGNhc2UgVHlwZXMuQklOQVJZOgogICAgICAgICAgICBjYXNlIFR5\ncGVzLkJMT0I6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuTE9OR1ZBUkJJTkFS\nWToKICAgICAgICAgICAgY2FzZSBUeXBlcy5WQVJCSU5BUlk6CiAgICAgICAg\nICAgIGNhc2UgVHlwZXMuT1RIRVI6CiAgICAgICAgICAgICAgICBzd2l0Y2gg\nKHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLkJJTkFS\nWToKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLkJMT0I6CiAgICAg\nICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5MT05HVkFSQklOQVJZOgogICAg\nICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuVkFSQklOQVJZOgogICAgICAg\nICAgICAgICAgICAgIGNhc2UgVHlwZXMuT1RIRVI6CiAgICAgICAgICAgICAg\nICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIGRl\nZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsK\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSBUeXBlcy5DTE9C\nOgogICAgICAgICAgICBjYXNlIFR5cGVzLkNIQVI6CiAgICAgICAgICAgIGNh\nc2UgVHlwZXMuTE9OR1ZBUkNIQVI6CiAgICAgICAgICAgIGNhc2UgVHlwZXMu\nVkFSQ0hBUjoKICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAg\nICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuQ0xPQjoKICAgICAgICAgICAg\nICAgICAgICBjYXNlIFR5cGVzLkNIQVI6CiAgICAgICAgICAgICAgICAgICAg\nY2FzZSBUeXBlcy5MT05HVkFSQ0hBUjoKICAgICAgICAgICAgICAgICAgICBj\nYXNlIFR5cGVzLlZBUkNIQVI6CiAgICAgICAgICAgICAgICAgICAgY2FzZSBU\neXBlcy5EQVRFOgogICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuVElN\nRToKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLlRJTUVTVEFNUDoK\nICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAg\nICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBj\nYXNlIFR5cGVzLkRBVEU6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuVElNRToK\nICAgICAgICAgICAgY2FzZSBUeXBlcy5USU1FU1RBTVA6CiAgICAgICAgICAg\nICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBjYXNl\nIFR5cGVzLkxPTkdWQVJDSEFSOgogICAgICAgICAgICAgICAgICAgIGNhc2Ug\nVHlwZXMuQ0xPQjoKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLlZB\nUkNIQVI6CiAgICAgICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5EQVRFOgog\nICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuVElNRToKICAgICAgICAg\nICAgICAgICAgICBjYXNlIFR5cGVzLlRJTUVTVEFNUDoKICAgICAgICAgICAg\nICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAg\nZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNl\nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDIwMDc6ICAv\nLyBPcmFjbGUtZGVmaW5lZCBvcGFxdWUgdHlwZSBjb2RlIGZvciBYTUxUeXBl\nCiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAg\nICAgICAgICBjYXNlIFR5cGVzLkNIQVI6CiAgICAgICAgICAgICAgICAgICAg\nY2FzZSBUeXBlcy5MT05HVkFSQ0hBUjoKICAgICAgICAgICAgICAgICAgICBj\nYXNlIFR5cGVzLlZBUkNIQVI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJl\ndHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAg\nICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAg\ncmV0dXJuIHR5cGUgPT0gZ2V0VHlwZSgpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFJldHVybnMgdGhlIGNvbHVtbiBuYW1lLgogICAgICov\nCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkgewogICAgICAgIHJldHVy\nbiBnZXRJZGVudGlmaWVyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIC8qKgog\nICAgICogVXNlZnVsIGZvciBkZWJ1Z2dpbmcuCiAgICAgKi8KICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7CiAgICAgICAgU3RyaW5nQnVp\nbGRlciBidWYgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwogICAgICAgIGJ1Zi5h\ncHBlbmQoIkZ1bGwgTmFtZTogIikuYXBwZW5kKGdldEZ1bGxOYW1lKCkpLmFw\ncGVuZCgiXG4iKTsKICAgICAgICBidWYuYXBwZW5kKCJUeXBlOiAiKS5hcHBl\nbmQoU2NoZW1hcy5nZXRKREJDTmFtZShnZXRUeXBlKCkpKS4KICAgICAgICAg\nICAgYXBwZW5kKCJcbiIpOwogICAgICAgIGJ1Zi5hcHBlbmQoIlNpemU6ICIp\nLmFwcGVuZChnZXRTaXplKCkpLmFwcGVuZCgiXG4iKTsKICAgICAgICBidWYu\nYXBwZW5kKCJEZWZhdWx0OiAiKS5hcHBlbmQoZ2V0RGVmYXVsdFN0cmluZygp\nKS5hcHBlbmQoIlxuIik7CiAgICAgICAgYnVmLmFwcGVuZCgiTm90IE51bGw6\nICIpLmFwcGVuZChpc05vdE51bGwoKSkuYXBwZW5kKCJcbiIpOwogICAgICAg\nIHJldHVybiBidWYudG9TdHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFRlc3RzIGNvbXBhdGliaWxpdHkuCiAgICAgKi8KICAgIHB1YmxpYyBib29s\nZWFuIGVxdWFsc0NvbHVtbihDb2x1bW4gY29sKSB7CiAgICAgICAgaWYgKGNv\nbCA9PSB0aGlzKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBp\nZiAoY29sID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAg\nICAgICAgaWYgKCFnZXRRdWFsaWZpZWRQYXRoKCkuZXF1YWxzKGNvbC5nZXRR\ndWFsaWZpZWRQYXRoKCkpKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICAgICAgaWYgKCFpc0NvbXBhdGlibGUoY29sLmdldFR5cGUoKSwgY29sLmdl\ndFR5cGVJZGVudGlmaWVyKCkuZ2V0TmFtZSgpLCBjb2wuZ2V0U2l6ZSgpLAog\nICAgICAgICAgICBjb2wuZ2V0RGVjaW1hbERpZ2l0cygpKSkKICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChnZXRUeXBlKCkgPT0gVHlw\nZXMuVkFSQ0hBUiAmJiBnZXRTaXplKCkgPiAwICYmIGNvbC5nZXRTaXplKCkg\nPiAwCiAgICAgICAgICAgICYmIGdldFNpemUoKSAhPSBjb2wuZ2V0U2l6ZSgp\nKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRy\ndWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb3B5IGluZm9ybWF0aW9uIGZy\nb20gdGhlIGdpdmVuIGNvbHVtbiB0byB0aGlzIG9uZS4KICAgICAqLwogICAg\ncHVibGljIHZvaWQgY29weShDb2x1bW4gZnJvbSkgewogICAgICAgIGlmIChm\ncm9tID09IG51bGwpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAo\nREJJZGVudGlmaWVyLmlzTnVsbChnZXRJZGVudGlmaWVyKCkpKQogICAgICAg\nICAgICBzZXRJZGVudGlmaWVyKGZyb20uZ2V0SWRlbnRpZmllcigpKTsKICAg\nICAgICBpZiAoZ2V0VHlwZSgpID09IFR5cGVzLk9USEVSKQogICAgICAgICAg\nICBzZXRUeXBlKGZyb20uZ2V0VHlwZSgpKTsKICAgICAgICBpZiAoREJJZGVu\ndGlmaWVyLmlzTnVsbChnZXRUeXBlSWRlbnRpZmllcigpKSkKICAgICAgICAg\nICAgc2V0VHlwZUlkZW50aWZpZXIoZnJvbS5nZXRUeXBlSWRlbnRpZmllcigp\nKTsKICAgICAgICBpZiAoZ2V0SmF2YVR5cGUoKSA9PSBKYXZhVHlwZXMuT0JK\nRUNUKQogICAgICAgICAgICBzZXRKYXZhVHlwZShmcm9tLmdldEphdmFUeXBl\nKCkpOwogICAgICAgIGlmIChnZXRTaXplKCkgPT0gMCkKICAgICAgICAgICAg\nc2V0U2l6ZShmcm9tLmdldFNpemUoKSk7CiAgICAgICAgaWYgKGdldERlY2lt\nYWxEaWdpdHMoKSA9PSAwKQogICAgICAgICAgICBzZXREZWNpbWFsRGlnaXRz\nKGZyb20uZ2V0RGVjaW1hbERpZ2l0cygpKTsKICAgICAgICBpZiAoZ2V0RGVm\nYXVsdFN0cmluZygpID09IG51bGwpCiAgICAgICAgICAgIHNldERlZmF1bHRT\ndHJpbmcoZnJvbS5nZXREZWZhdWx0U3RyaW5nKCkpOwogICAgICAgIGlmICgh\naXNOb3ROdWxsRXhwbGljaXQoKSAmJiBmcm9tLmlzTm90TnVsbEV4cGxpY2l0\nKCkpCiAgICAgICAgICAgIHNldE5vdE51bGwoZnJvbS5pc05vdE51bGwoKSk7\nCiAgICAgICAgaWYgKCFpc0F1dG9Bc3NpZ25lZCgpKQogICAgICAgICAgICBz\nZXRBdXRvQXNzaWduZWQoZnJvbS5pc0F1dG9Bc3NpZ25lZCgpKTsKICAgICAg\nICBpZiAoIWlzUmVsYXRpb25JZCgpKQogICAgICAgICAgICBzZXRSZWxhdGlv\nbklkKGZyb20uaXNSZWxhdGlvbklkKCkpOwogICAgICAgIGlmICghaXNJbXBs\naWNpdFJlbGF0aW9uKCkpCiAgICAgICAgCXNldEltcGxpY2l0UmVsYXRpb24o\nZnJvbS5pc1JlbGF0aW9uSWQoKSk7CiAgICAgICAgaWYgKERCSWRlbnRpZmll\nci5pc051bGwoZ2V0VGFyZ2V0SWRlbnRpZmllcigpKSkKICAgICAgICAgICAg\nc2V0VGFyZ2V0SWRlbnRpZmllcihmcm9tLmdldFRhcmdldElkZW50aWZpZXIo\nKSk7CiAgICAgICAgaWYgKGdldFRhcmdldEZpZWxkKCkgPT0gbnVsbCkKICAg\nICAgICAgICAgc2V0VGFyZ2V0RmllbGQoZnJvbS5nZXRUYXJnZXRGaWVsZCgp\nKTsKICAgICAgICBpZiAoX2ZsYWdzID09IDApCiAgICAgICAgICAgIF9mbGFn\ncyA9IGZyb20uX2ZsYWdzOwogICAgICAgIGlmICghaXNYTUwoKSkKICAgICAg\nICAgICAgc2V0WE1MKGZyb20uaXNYTUwoKSk7CiAgICAgICAgaWYgKCFpc1Vu\naTFNRksoKSkKICAgICAgICAgICAgc2V0VW5pMU1GSyhmcm9tLmlzVW5pMU1G\nSygpKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMg\nY29sdW1uIGlzIG9mIFhNTCB0eXBlLgogICAgICovCiAgICBwdWJsaWMgYm9v\nbGVhbiBpc1hNTCgpIHsKICAgICAgICByZXR1cm4gX1hNTDsKICAgIH0KCiAg\nICAvKioKICAgICAqIFdoZXRoZXIgdGhpcyBjb2x1bW4gaXMgb2YgWE1MIHR5\ncGUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFhNTChib29sZWFuIHht\nbCkgewogICAgICAgIF9YTUwgPSB4bWw7CiAgICB9CgogICAgcHVibGljIFZl\ncnNpb25TdHJhdGVneSBnZXRWZXJzaW9uU3RyYXRlZ3koKSB7CiAgICAgICAg\ncmV0dXJuIF92ZXJzaW9uU3RyYXRlZ3k7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0VmVyc2lvblN0cmF0ZWd5KFZlcnNpb25TdHJhdGVneSBzdHJhdGVn\neSkgewogICAgICAgIHRoaXMuX3ZlcnNpb25TdHJhdGVneSA9IHN0cmF0ZWd5\nOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGhhc0NvbW1lbnQoKSB7CiAg\nICAgICAgcmV0dXJuIF9jb21tZW50ICE9IG51bGwgJiYgIV9jb21tZW50LmVx\ndWFsc0lnbm9yZUNhc2UoX25hbWUudG9TdHJpbmcoKSk7CiAgICB9CgogICAg\ncHVibGljIFN0cmluZyBnZXRDb21tZW50KCkgewogICAgICAgIHJldHVybiBf\nY29tbWVudDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb21tZW50KFN0\ncmluZyBjb21tZW50KSB7CiAgICAgICAgX2NvbW1lbnQgPSBjb21tZW50Owog\nICAgfQogICAgCiAgICAvKiogCiAgICAgKiAgQWZmaXJtcyBpZiB0aGlzIGlu\nc3RhbmNlIHJlcHJlc2VudHMgYW4gaW1wbGljaXQgcmVsYXRpb24uIEZvciBl\neGFtcGxlLCBhCiAgICAgKiAgcmVsYXRpb24gZXhwcmVzc2VkIGFzIHRoZSB2\nYWx1ZSBvZiBwcmltYXJ5IGtleSBvZiB0aGUgcmVsYXRlZCBjbGFzcyBhbmQK\nCSAqICBub3QgYXMgb2JqZWN0IHJlZmVyZW5jZS4KICAgICAqCiAgICAgKiBA\nc2luY2UgMS4zLjAKICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNJbXBs\naWNpdFJlbGF0aW9uKCkgewogICAgCXJldHVybiBfaW1wbGljaXRSZWxhdGlv\nbjsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBTZXRzIGEgbWFya2VyIHRv\nIGltcGx5IGEgbG9naWNhbCByZWxhdGlvbiB0aGF0IGNhbiBub3QgaGF2ZSBh\nbnkgcGh5c2ljYWwKICAgICAqIG1hbmlmZXN0IGluIHRoZSBkYXRhYmFzZS4g\nRm9yIGV4YW1wbGUsIGEgcmVsYXRpb24gZXhwcmVzc2VkIGFzIHRoZSB2YWx1\nZQogICAgICogb2YgcHJpbWFyeSBrZXkgb2YgdGhlIHJlbGF0ZWQgY2xhc3Mg\nYW5kIG5vdCBhcyBvYmplY3QgcmVmZXJlbmNlLgogICAgICogUG9wdWxhdGVk\nIGZyb20gQEZvcmVpZ25LZXkoaW1wbGljaXQ9dHJ1ZSkgYW5ub3RhdGlvbi4K\nICAgICAqIFRoZSBtdXRhdG9yIGNhbiBvbmx5IHRyYW5zaXQgZnJvbSBmYWxz\nZSB0byB0cnVlIGJ1dCBub3QgdmljZSB2ZXJzYS4KICAgICAqIAogICAgICog\nQHNpbmNlIDEuMy4wCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEltcGxp\nY2l0UmVsYXRpb24oYm9vbGVhbiBmbGFnKSB7CiAgICAJX2ltcGxpY2l0UmVs\nYXRpb24gfD0gZmxhZzsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBTZXRz\nIGEgbWFya2VyIHRvIGluZGljYXRlIHRoYXQgdGhpcyBpbnN0YW5jZSByZXBy\nZXNlbnRzIGEgdW5pLWRpcmVjdGlvbmFsIAogICAgICogb25lIHRvIG1hbnkg\ncmVsYXRpb24gdXNpbmcgdGhlIGZvcmVpZ24ga2V5IHN0cmF0ZWd5LiBUaGlz\nIG5vbi1kZWZhdWx0IAogICAgICogbWFwcGluZyBvZiB1bmktZGlyZWN0aW9u\nYWwgb25lLXRvLW1hbnkgaXMgc3VwcG9ydGVkIGluIEpQQSAyLjAuICAKICAg\nICAqIAogICAgICogQHNpbmNlIDIuMAogICAgICovCiAgICBwdWJsaWMgYm9v\nbGVhbiBpc1VuaTFNRksoKSB7CiAgICAgICAgcmV0dXJuIF9pc1VuaTFNRks7\nCiAgICB9CiAgICAKICAgIC8qKiAKICAgICAqICBBZmZpcm1zIGlmIHRoaXMg\naW5zdGFuY2UgcmVwcmVzZW50cyBhIHVuaS1kaXJlY3Rpb25hbCBvbmUgdG8g\nbWFueSByZWxhdGlvbgogICAgICogIHVzaW5nIHRoZSBmb3JlaWduIGtleSBz\ndHJhdGVneS4gVGhpcyBub24tZGVmYXVsdCBtYXBwaW5nIG9mIHVuaS1kaXJl\nY3Rpb25hbCAKICAgICAqICBvbmUtdG8tbWFueSBpcyBzdXBwb3J0ZWQgaW4g\nSlBBIDIuMC4gIAogICAgICoKICAgICAqIEBzaW5jZSAyLjAKICAgICAqLwog\nICAgcHVibGljIHZvaWQgc2V0VW5pMU1GSyhib29sZWFuIGlzVW5pMU1GSykg\newogICAgICAgIF9pc1VuaTFNRksgPSBpc1VuaTFNRks7CiAgICB9Cn0K\n","encoding":"base64"}

