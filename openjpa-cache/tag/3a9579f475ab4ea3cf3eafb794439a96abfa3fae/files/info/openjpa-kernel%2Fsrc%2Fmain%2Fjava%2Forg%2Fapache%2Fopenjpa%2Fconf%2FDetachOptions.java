{"sha":"be1352060f3fa6aaa240b1e2a65d5dc17ae1d275","node_id":"MDQ6QmxvYjIwNjM2NDpiZTEzNTIwNjBmM2ZhNmFhYTI0MGIxZTJhNjVkNWRjMTdhZTFkMjc1","size":4947,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/be1352060f3fa6aaa240b1e2a65d5dc17ae1d275","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkRldGFjaFN0YXRlOwoKLyoqCiAqIERl\ndGFjaCBvcHRpb25zLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAbm9q\nYXZhZG9jCiAqLwpwdWJsaWMgYWJzdHJhY3QgY2xhc3MgRGV0YWNoT3B0aW9u\ncwogICAgaW1wbGVtZW50cyBEZXRhY2hTdGF0ZSB7CgogICAgcHJpdmF0ZSBi\nb29sZWFuIF9maWVsZCA9IHRydWU7CiAgICBwcml2YXRlIGJvb2xlYW4gX3Ry\nYW5zaWVudCA9IHRydWU7CiAgICBwcml2YXRlIGJvb2xlYW4gX21hbmFnZXIg\nPSB0cnVlOwogICAgcHJpdmF0ZSBib29sZWFuIF9hY2Nlc3MgPSB0cnVlOwog\nICAgCiAgICBwcml2YXRlIGJvb2xlYW4gX2xpdGVBdXRvRGV0YWNoID0gZmFs\nc2U7CgogICAgLyoqCiAgICAgKiBUaGUge0BsaW5rIERldGFjaFN0YXRlfSBj\nb25zdGFudC4KICAgICAqLwogICAgcHVibGljIGFic3RyYWN0IGludCBnZXRE\nZXRhY2hTdGF0ZSgpOwoKICAgIC8qKgogICAgICogV2hldGhlciB0byBhZGQg\nYSBkZXRhY2hlZCBzdGF0ZSBmaWVsZCB0byBlbmhhbmNlZCBjbGFzc2VzLgog\nICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXREZXRhY2hlZFN0YXRlRmll\nbGQoKSB7CiAgICAgICAgcmV0dXJuIF9maWVsZDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFdoZXRoZXIgdG8gYWRkIGEgZGV0YWNoZWQgc3RhdGUgZmllbGQg\ndG8gZW5oYW5jZWQgY2xhc3Nlcy4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0RGV0YWNoZWRTdGF0ZUZpZWxkKGJvb2xlYW4gdmFsKSB7CiAgICAgICAg\nX2ZpZWxkID0gdmFsOwogICAgICAgIGlmICghdmFsKQogICAgICAgICAgICBf\nbWFuYWdlciA9IGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogRm9yIGF1\ndG8tY29uZmlndXJhdGlvbiBvZiB0aGUgZGV0YWNoZWQgc3RhdGUgZmllbGQu\nIEFjY2VwdHMgdmFsdWVzCiAgICAgKiAidHJ1ZSIsICJmYWxzZSIsIG9yICJ0\ncmFuc2llbnQiLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXREZXRhY2hl\nZFN0YXRlRmllbGQoU3RyaW5nIHZhbCkgewogICAgICAgIGlmICh2YWwgPT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmICgidHJhbnNp\nZW50Ii5lcXVhbHModmFsKSkgewogICAgICAgICAgICBzZXREZXRhY2hlZFN0\nYXRlRmllbGQodHJ1ZSk7CiAgICAgICAgICAgIF90cmFuc2llbnQgPSB0cnVl\nOwogICAgICAgIH0gZWxzZSBpZiAoInRydWUiLmVxdWFscyh2YWwpKSB7CiAg\nICAgICAgICAgIHNldERldGFjaGVkU3RhdGVGaWVsZCh0cnVlKTsKICAgICAg\nICAgICAgX3RyYW5zaWVudCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSBpZiAo\nImZhbHNlIi5lcXVhbHModmFsKSkgewogICAgICAgICAgICBzZXREZXRhY2hl\nZFN0YXRlRmllbGQoZmFsc2UpOwogICAgICAgICAgICBfdHJhbnNpZW50ID0g\nZmFsc2U7CiAgICAgICAgfSBlbHNlCiAgICAgICAgICAgIHRocm93IG5ldyBJ\nbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oIkRldGFjaGVkU3RhdGVGaWVsZD0i\nICsgdmFsKTsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gdXNl\nIHRyYW5zaWVudCBkZXRhY2hlZCBzdGF0ZS4KICAgICAqLwogICAgcHVibGlj\nIGJvb2xlYW4gaXNEZXRhY2hlZFN0YXRlVHJhbnNpZW50KCkgewogICAgICAg\nIHJldHVybiBfdHJhbnNpZW50OwogICAgfQoKICAgIC8qKgogICAgICogV2hl\ndGhlciB0byB1c2UgdHJhbnNpZW50IGRldGFjaGVkIHN0YXRlLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCBzZXREZXRhY2hlZFN0YXRlVHJhbnNpZW50KGJv\nb2xlYW4gdmFsKSB7CiAgICAgICAgX3RyYW5zaWVudCA9IHZhbDsKICAgIH0K\nCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gdXNlIGEgZGV0YWNoZWQgc3Rh\ndGUgbWFuYWdlciBvbiB0eXBlcyB0aGF0IGFsbG93IGl0LgogICAgICogVHlw\nZXMgdGhhdCBkbyBub3QgdXNlIGRldGFjaGVkIHN0YXRlIG9yIHRoYXQgZGVj\nbGFyZSBhIGN1c3RvbSBkZXRhY2hlZAogICAgICogc3RhdGUgZmllbGQgdG8g\nbWFpbnRhaW4gc2VyaWFsaXphdGlvbiBjb21wYXRpYmlsaXR5IHdpbGwgbmV2\nZXIgdXNlCiAgICAgKiBhIGRldGFjaGVkIHN0YXRlIG1hbmFnZXIuIERlZmF1\nbHRzIHRvIHRydWUuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdldERl\ndGFjaGVkU3RhdGVNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBfbWFuYWdl\ncjsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gdXNlIGEgZGV0\nYWNoZWQgc3RhdGUgbWFuYWdlciBvbiB0eXBlcyB0aGF0IGFsbG93IGl0Lgog\nICAgICogVHlwZXMgdGhhdCBkbyBub3QgdXNlIGRldGFjaGVkIHN0YXRlIG9y\nIHRoYXQgZGVjbGFyZSBhIGN1c3RvbSBkZXRhY2hlZAogICAgICogc3RhdGUg\nZmllbGQgdG8gbWFpbnRhaW4gc2VyaWFsaXphdGlvbiBjb21wYXRpYmlsaXR5\nIHdpbGwgbmV2ZXIgdXNlCiAgICAgKiBhIGRldGFjaGVkIHN0YXRlIG1hbmFn\nZXIuIERlZmF1bHRzIHRvIHRydWUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldERldGFjaGVkU3RhdGVNYW5hZ2VyKGJvb2xlYW4gdmFsKSB7CiAgICAg\nICAgX21hbmFnZXIgPSB2YWw7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0\naGVyIHRvIGFsbG93IGFjY2VzcyB0byB1bmxvYWRlZCBkZXRhY2hlZCBmaWVs\nZHMuIFRoaXMgc2V0dGluZyBvbmx5CiAgICAgKiBhcHBsaWVzIHRvIGluc3Rh\nbmNlcyB3aXRoIGRldGFjaGVkIHN0YXRlIG1hbmFnZXJzLgogICAgICovCiAg\nICBwdWJsaWMgYm9vbGVhbiBnZXRBY2Nlc3NVbmxvYWRlZCgpIHsKICAgICAg\nICByZXR1cm4gX2FjY2VzczsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRo\nZXIgdG8gYWxsb3cgYWNjZXNzIHRvIHVubG9hZGVkIGRldGFjaGVkIGZpZWxk\ncy4gVGhpcyBzZXR0aW5nIG9ubHkKICAgICAqIGFwcGxpZXMgdG8gaW5zdGFu\nY2VzIHdpdGggZGV0YWNoZWQgc3RhdGUgbWFuYWdlcnMuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldEFjY2Vzc1VubG9hZGVkKGJvb2xlYW4gdmFsKSB7\nCiAgICAgICAgX2FjY2VzcyA9IHZhbDsKICAgIH0KICAgIAogICAgLyoqCiAg\nICAgKiBXaGV0aGVyIHRvIHVzZSBsaXRlIGRldGFjaG1lbnQgd2hlbiBhdXRv\nIGRldGFjaGluZy4gVGhpcyBzZXR0aW5nIG9ubHkgYXBwbGllcyB3aGVuCiAg\nICAgKiBEZXRhY2hTdGF0ZSBpcyBzZXQgdG8gbG9hZGVkLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRMaXRlQXV0b0RldGFjaChib29sZWFuIGIpIHsK\nICAgICAgICBfbGl0ZUF1dG9EZXRhY2ggPSBiOwogICAgfQoKICAgIC8qKgog\nICAgICogV2hldGhlciB0byB1c2UgbGl0ZSBkZXRhY2htZW50IHdoZW4gYXV0\nbyBkZXRhY2hpbmcuIFRoaXMgc2V0dGluZyBvbmx5IGFwcGxpZXMgd2hlbgog\nICAgICogRGV0YWNoU3RhdGUgaXMgc2V0IHRvIGxvYWRlZC4KICAgICAqLwog\nICAgcHVibGljIGJvb2xlYW4gZ2V0TGl0ZUF1dG9EZXRhY2goKSB7CiAgICAg\nICAgcmV0dXJuIChnZXREZXRhY2hTdGF0ZSgpICYgREVUQUNIX0xPQURFRCkg\nPT0gMSAmJiBfbGl0ZUF1dG9EZXRhY2g7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBEZXRhY2ggbG9hZGVkIHN0YXRlLgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIGNsYXNzIExvYWRlZAogICAgICAgIGV4dGVuZHMgRGV0YWNoT3B0aW9u\ncyB7CgogICAgICAgIHB1YmxpYyBpbnQgZ2V0RGV0YWNoU3RhdGUoKSB7CiAg\nICAgICAgICAgIHJldHVybiBERVRBQ0hfTE9BREVEOwogICAgICAgIH0KICAg\nIH0KCiAgICAvKioKICAgICAqIFB1YmxpYyB0byBhbGxvdyByZWZsZWN0aW9u\nLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEZldGNoR3JvdXBz\nCiAgICAgICAgZXh0ZW5kcyBEZXRhY2hPcHRpb25zIHsKCiAgICAgICAgcHVi\nbGljIGludCBnZXREZXRhY2hTdGF0ZSgpIHsKICAgICAgICAgICAgcmV0dXJu\nIERFVEFDSF9GR1M7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog\nUHVibGljIHRvIGFsbG93IHJlZmxlY3Rpb24uCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgY2xhc3MgQWxsCiAgICAgICAgZXh0ZW5kcyBEZXRhY2hPcHRp\nb25zIHsKCiAgICAgICAgcHVibGljIGludCBnZXREZXRhY2hTdGF0ZSgpIHsK\nICAgICAgICAgICAgcmV0dXJuIERFVEFDSF9BTEw7CgkJfQkJCgl9Cn0K\n","encoding":"base64"}

