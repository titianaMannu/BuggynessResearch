{"sha":"2387fbbf2631d05d0385d8bd55a4c3cb43f88420","node_id":"MDQ6QmxvYjIwNjM2NDoyMzg3ZmJiZjI2MzFkMDVkMDM4NWQ4YmQ1NWE0YzNjYjQzZjg4NDIw","size":61002,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2387fbbf2631d05d0385d8bd55a4c3cb43f88420","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Owpp\nbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1v\nbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5kYXRhY2FjaGUuQ2FjaGVEaXN0cmlidXRpb25Qb2xpY3k7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkNvbmN1cnJlbnREYXRhQ2Fj\naGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkNvbmN1\ncnJlbnRRdWVyeUNhY2hlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmRh\ndGFjYWNoZS5EYXRhQ2FjaGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmRhdGFjYWNoZS5EYXRhQ2FjaGVNYW5hZ2VySW1wbDsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5kYXRhY2FjaGUuUGFydGl0aW9uZWREYXRh\nQ2FjaGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZWUuTWFuYWdlZFJ1\nbnRpbWU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5SdW50\naW1lVW5lbmhhbmNlZENsYXNzZXNNb2RlczsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5ldmVudC5Ccm9rZXJGYWN0b3J5RXZlbnRNYW5hZ2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmV2ZW50LkxpZmVjeWNsZUV2ZW50TWFu\nYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5PcnBoYW5l\nZEtleUFjdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5S\nZW1vdGVDb21taXRFdmVudE1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuZXZlbnQuUmVtb3RlQ29tbWl0UHJvdmlkZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkF1dG9DbGVhcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuQnJva2VySW1wbDsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuQ29ubmVjdGlvblJldGFpbk1vZGVzOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5GaW5kZXJDYWNoZTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuSW52ZXJzZU1hbmFn\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tMZXZl\nbHM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tNYW5h\nZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5QcmVwYXJl\nZFF1ZXJ5Q2FjaGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVs\nLlF1ZXJ5Rmx1c2hNb2RlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuUmVzdG9yZVN0YXRlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmtlcm5lbC5TYXZlcG9pbnRNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5TZXE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLmV4cHMuQWdncmVnYXRlTGlzdGVuZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRmlsdGVyTGlzdGVuZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQm9vbGVhblZhbHVlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRp\nb25JbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNv\nbmZpZ3VyYXRpb25zOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5j\nb25mLkludFZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5j\nb25mLk9iamVjdFZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLlBsdWdpbkxpc3RWYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIuY29uZi5QbHVnaW5WYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIuY29uZi5Qcm9kdWN0RGVyaXZhdGlvbnM7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuU3RyaW5nTGlzdFZhbHVlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLlN0cmluZ1ZhbHVl\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5lbmNyeXB0aW9uLkVu\nY3J5cHRpb25Qcm92aWRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIubG9nLkxvZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRp\nbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5N\nZXRhRGF0YUZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0\nYS5NZXRhRGF0YVJlcG9zaXRvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEudXRpbC5DbGFzc1Jlc29sdmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnV0aWwuSW1wbEhlbHBlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS51dGlsLlByb3h5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS51dGlsLlN0b3JlRmFjYWRlVHlwZVJlZ2lzdHJ5OwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnZhbGlkYXRpb24uVmFsaWRhdGluZ0xpZmVjeWNsZUV2\nZW50TWFuYWdlcjsKCi8qKgogKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUge0Bs\naW5rIE9wZW5KUEFDb25maWd1cmF0aW9ufSBpbnRlcmZhY2UuCiAqCiAqIEBz\nZWUgQ29uZmlndXJhdGlvbkltcGwKICogQGF1dGhvciBNYXJjIFBydWQnaG9t\nbWVhdXgKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBP\ncGVuSlBBQ29uZmlndXJhdGlvbkltcGwKICAgIGV4dGVuZHMgQ29uZmlndXJh\ndGlvbkltcGwKICAgIGltcGxlbWVudHMgT3BlbkpQQUNvbmZpZ3VyYXRpb24g\newoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0g\nTG9jYWxpemVyLmZvclBhY2thZ2UoT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBs\nLmNsYXNzKTsKCiAgICAvLyBjYWNoZWQgc3RhdGU7IHNvbWUgb2YgdGhpcyBp\ncyBjcmVhdGVkIGluIGdldHRlciBtZXRob2RzLCBzbyBtYWtlCiAgICAvLyBw\ncm90ZWN0ZWQgaW4gY2FzZSBzdWJjbGFzc2VzIHdhbnQgdG8gYWNjZXNzIHdp\ndGhvdXQgY3JlYXRpbmcKICAgIHByb3RlY3RlZCBNZXRhRGF0YVJlcG9zaXRv\ncnkgbWV0YVJlcG9zaXRvcnkgPSBudWxsOwogICAgcHJvdGVjdGVkIFJlbW90\nZUNvbW1pdEV2ZW50TWFuYWdlciByZW1vdGVFdmVudE1hbmFnZXIgPSBudWxs\nOwoKICAgIC8vIG9wZW5qcGEgcHJvcGVydGllcwogICAgcHVibGljIE9iamVj\ndFZhbHVlIGNsYXNzUmVzb2x2ZXJQbHVnaW47CiAgICBwdWJsaWMgQnJva2Vy\nVmFsdWUgYnJva2VyUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGRh\ndGFDYWNoZVBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBkYXRhQ2Fj\naGVNYW5hZ2VyUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNhY2hl\nRGlzdHJpYnV0aW9uUG9saWN5UGx1Z2luOwogICAgcHVibGljIEludFZhbHVl\nIGRhdGFDYWNoZVRpbWVvdXQ7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgcXVl\ncnlDYWNoZVBsdWdpbjsKICAgIHB1YmxpYyBCb29sZWFuVmFsdWUgZHluYW1p\nY0RhdGFTdHJ1Y3RzOwogICAgcHVibGljIE9iamVjdFZhbHVlIG1hbmFnZWRS\ndW50aW1lUGx1Z2luOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSB0cmFuc2Fj\ndGlvbk1vZGU7CiAgICBwdWJsaWMgSW50VmFsdWUgY29ubmVjdGlvblJldGFp\nbk1vZGU7CiAgICBwdWJsaWMgSW50VmFsdWUgZmV0Y2hCYXRjaFNpemU7CiAg\nICBwdWJsaWMgSW50VmFsdWUgbWF4RmV0Y2hEZXB0aDsKICAgIHB1YmxpYyBT\ndHJpbmdMaXN0VmFsdWUgZmV0Y2hHcm91cHM7CiAgICBwdWJsaWMgSW50VmFs\ndWUgZmx1c2hCZWZvcmVRdWVyaWVzOwogICAgcHVibGljIEludFZhbHVlIGxv\nY2tUaW1lb3V0OwogICAgcHVibGljIEludFZhbHVlIHF1ZXJ5VGltZW91dDsK\nICAgIHB1YmxpYyBJbnRWYWx1ZSByZWFkTG9ja0xldmVsOwogICAgcHVibGlj\nIEludFZhbHVlIHdyaXRlTG9ja0xldmVsOwogICAgcHVibGljIE9iamVjdFZh\nbHVlIHNlcVBsdWdpbjsKICAgIHB1YmxpYyBQbHVnaW5MaXN0VmFsdWUgZmls\ndGVyTGlzdGVuZXJQbHVnaW5zOwogICAgcHVibGljIFBsdWdpbkxpc3RWYWx1\nZSBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnM7CiAgICBwdWJsaWMgQm9vbGVh\nblZhbHVlIHJldHJ5Q2xhc3NSZWdpc3RyYXRpb247CiAgICBwdWJsaWMgT2Jq\nZWN0VmFsdWUgcHJveHlNYW5hZ2VyUGx1Z2luOwogICAgcHVibGljIFN0cmlu\nZ1ZhbHVlIGNvbm5lY3Rpb25Vc2VyTmFtZTsKICAgIHB1YmxpYyBTdHJpbmdW\nYWx1ZSBjb25uZWN0aW9uUGFzc3dvcmQ7CiAgICBwdWJsaWMgUGx1Z2luVmFs\ndWUgZW5jcnlwdGlvblByb3ZpZGVyOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb25VUkw7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbkRyaXZlck5hbWU7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgY29ubmVj\ndGlvbkZhY3Rvcnk7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVjdGlv\nbkZhY3RvcnlOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25Qcm9wZXJ0aWVzOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25GYWN0b3J5UHJvcGVydGllczsKICAgIHB1YmxpYyBCb29sZWFuVmFsdWUg\nY29ubmVjdGlvbkZhY3RvcnlNb2RlOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb24yVXNlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUg\nY29ubmVjdGlvbjJQYXNzd29yZDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBj\nb25uZWN0aW9uMlVSTDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uMkRyaXZlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbjJQcm9wZXJ0aWVzOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MjsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uRmFjdG9yeTJOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MlByb3BlcnRpZXM7CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIG9wdGltaXN0aWM7CiAgICBwdWJsaWMgSW50VmFsdWUgYXV0b0NsZWFy\nOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSByZXRhaW5TdGF0ZTsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSByZXN0b3JlU3RhdGU7CiAgICBwdWJsaWMgT2JqZWN0\nVmFsdWUgZGV0YWNoU3RhdGVQbHVnaW47CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIGlnbm9yZUNoYW5nZXM7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIG5v\nbnRyYW5zYWN0aW9uYWxSZWFkOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSBu\nb250cmFuc2FjdGlvbmFsV3JpdGU7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVl\nIHJlZnJlc2hGcm9tRGF0YUNhY2hlOwogICAgcHVibGljIEJvb2xlYW5WYWx1\nZSBtdWx0aXRocmVhZGVkOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIG1hcHBp\nbmc7CiAgICBwdWJsaWMgUGx1Z2luVmFsdWUgbWV0YUZhY3RvcnlQbHVnaW47\nCiAgICBwdWJsaWMgTWV0YURhdGFSZXBvc2l0b3J5VmFsdWUgbWV0YVJlcG9z\naXRvcnlQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgbG9ja01hbmFn\nZXJQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgaW52ZXJzZU1hbmFn\nZXJQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgc2F2ZXBvaW50TWFu\nYWdlclBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBvcnBoYW5lZEtl\neVBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBjb21wYXRpYmlsaXR5\nUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNhbGxiYWNrUGx1Z2lu\nOwogICAgcHVibGljIFF1ZXJ5Q29tcGlsYXRpb25DYWNoZVZhbHVlIHF1ZXJ5\nQ29tcGlsYXRpb25DYWNoZVBsdWdpbjsKICAgIHB1YmxpYyBJbnRWYWx1ZSBy\ndW50aW1lVW5lbmhhbmNlZENsYXNzZXM7CiAgICBwdWJsaWMgQ2FjaGVNYXJz\naGFsbGVyc1ZhbHVlIGNhY2hlTWFyc2hhbGxlclBsdWdpbnM7CiAgICBwdWJs\naWMgQm9vbGVhblZhbHVlIGVhZ2VySW5pdGlhbGl6YXRpb247CiAgICBwdWJs\naWMgUGx1Z2luVmFsdWUgcHJlcGFyZWRRdWVyeUNhY2hlUGx1Z2luOwogICAg\ncHVibGljIFBsdWdpblZhbHVlIGZpbmRlckNhY2hlUGx1Z2luOwogICAgcHVi\nbGljIE9iamVjdFZhbHVlIHNwZWNpZmljYXRpb247CiAgICBwdWJsaWMgU3Ry\naW5nVmFsdWUgdmFsaWRhdGlvbk1vZGU7CiAgICBwdWJsaWMgT2JqZWN0VmFs\ndWUgdmFsaWRhdGlvbkZhY3Rvcnk7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUg\ndmFsaWRhdG9yOwogICAgcHVibGljIE9iamVjdFZhbHVlIGxpZmVjeWNsZUV2\nZW50TWFuYWdlcjsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSB2YWxpZGF0aW9u\nR3JvdXBQcmVQZXJzaXN0OwogICAgcHVibGljIFN0cmluZ1ZhbHVlIHZhbGlk\nYXRpb25Hcm91cFByZVVwZGF0ZTsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSB2\nYWxpZGF0aW9uR3JvdXBQcmVSZW1vdmU7CiAgICBwdWJsaWMgU3RyaW5nVmFs\ndWUgZGF0YUNhY2hlTW9kZTsgCiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIGR5\nbmFtaWNFbmhhbmNlbWVudEFnZW50OwogICAgCiAgICAvLyBjdXN0b20gdmFs\ndWVzCiAgICBwdWJsaWMgQnJva2VyRmFjdG9yeVZhbHVlIGJyb2tlckZhY3Rv\ncnlQbHVnaW47CiAgICBwdWJsaWMgUmVtb3RlQ29tbWl0UHJvdmlkZXJWYWx1\nZSByZW1vdGVQcm92aWRlclBsdWdpbjsKICAgIHB1YmxpYyBBdXRvRGV0YWNo\nVmFsdWUgYXV0b0RldGFjaDsKCiAgICBwcml2YXRlIENvbGxlY3Rpb248U3Ry\naW5nPiBzdXBwb3J0ZWRPcHRpb25zID0gbmV3IEhhc2hTZXQ8U3RyaW5nPigz\nMyk7CiAgICBwcml2YXRlIGZpbmFsIFN0b3JlRmFjYWRlVHlwZVJlZ2lzdHJ5\nIF9zdG9yZUZhY2FkZVJlZ2lzdHJ5ID0gbmV3IFN0b3JlRmFjYWRlVHlwZVJl\nZ2lzdHJ5KCk7CiAgICBwcml2YXRlIEJyb2tlckZhY3RvcnlFdmVudE1hbmFn\nZXIgX2Jyb2tlckZhY3RvcnlFdmVudE1hbmFnZXIgPSBuZXcgQnJva2VyRmFj\ndG9yeUV2ZW50TWFuYWdlcih0aGlzKTsKICAgIHByaXZhdGUgTWFwPFN0cmlu\nZywgT2JqZWN0PiBfcGVNYXA7IC8vY29udGFpbnMgcGVyc2lzdGVuY2UgZW52\naXJvbm1lbnQtc3BlY2lmaWMgaW5mbyAgICAKCiAgICAvKioKICAgICAqIERl\nZmF1bHQgY29uc3RydWN0b3IuIEF0dGVtcHRzIHRvIGxvYWQgZ2xvYmFsIHBy\nb3BlcnRpZXMuCiAgICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBQ29uZmlndXJh\ndGlvbkltcGwoKSB7CiAgICAgICAgdGhpcyh0cnVlKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIENvbnN0cnVjdG9yLgogICAgICoKICAgICAqIEBwYXJhbSBs\nb2FkR2xvYmFscyB3aGV0aGVyIHRvIGF0dGVtcHQgdG8gbG9hZCB0aGUgZ2xv\nYmFsIHByb3BlcnRpZXMKICAgICAqLwogICAgcHVibGljIE9wZW5KUEFDb25m\naWd1cmF0aW9uSW1wbChib29sZWFuIGxvYWRHbG9iYWxzKSB7CiAgICAgICAg\ndGhpcyh0cnVlLCBsb2FkR2xvYmFscyk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBDb25zdHJ1Y3Rvci4KICAgICAqCiAgICAgKiBAcGFyYW0gZGVyaXZhdGlv\nbnMgd2hldGhlciB0byBhcHBseSBwcm9kdWN0IGRlcml2YXRpb25zCiAgICAg\nKiBAcGFyYW0gbG9hZEdsb2JhbHMgd2hldGhlciB0byBhdHRlbXB0IHRvIGxv\nYWQgdGhlIGdsb2JhbCBwcm9wZXJ0aWVzCiAgICAgKi8KICAgIHB1YmxpYyBP\ncGVuSlBBQ29uZmlndXJhdGlvbkltcGwoYm9vbGVhbiBkZXJpdmF0aW9ucywg\nYm9vbGVhbiBsb2FkR2xvYmFscykgewogICAgICAgIHN1cGVyKGZhbHNlKTsK\nICAgICAgICBTdHJpbmdbXSBhbGlhc2VzOwoKICAgICAgICBjbGFzc1Jlc29s\ndmVyUGx1Z2luID0gYWRkUGx1Z2luKCJDbGFzc1Jlc29sdmVyIiwgdHJ1ZSk7\nCiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7IAogICAgICAgICAg\nICAgICAgImRlZmF1bHQiLCAib3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuQ2xh\nc3NSZXNvbHZlckltcGwiLAogICAgICAgICAgICAgICAgLy8gZGVwcmVjYXRl\nZCBhbGlhcwogICAgICAgICAgICAgICAgInNwZWMiLCAib3JnLmFwYWNoZS5v\ncGVuanBhLnV0aWwuQ2xhc3NSZXNvbHZlckltcGwiLCB9OwogICAgICAgIGNs\nYXNzUmVzb2x2ZXJQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAg\nICBjbGFzc1Jlc29sdmVyUGx1Z2luLnNldERlZmF1bHQoYWxpYXNlc1swXSk7\nCiAgICAgICAgY2xhc3NSZXNvbHZlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNl\nc1swXSk7CiAgICAgICAgY2xhc3NSZXNvbHZlclBsdWdpbi5zZXRJbnN0YW50\naWF0aW5nR2V0dGVyKCJnZXRDbGFzc1Jlc29sdmVySW5zdGFuY2UiKTsKCiAg\nICAgICAgYnJva2VyRmFjdG9yeVBsdWdpbiA9IG5ldyBCcm9rZXJGYWN0b3J5\nVmFsdWUoKTsKICAgICAgICBhZGRWYWx1ZShicm9rZXJGYWN0b3J5UGx1Z2lu\nKTsKCiAgICAgICAgYnJva2VyUGx1Z2luID0gbmV3IEJyb2tlclZhbHVlKCk7\nCiAgICAgICAgYWRkVmFsdWUoYnJva2VyUGx1Z2luKTsKCiAgICAgICAgZGF0\nYUNhY2hlTWFuYWdlclBsdWdpbiA9IGFkZFBsdWdpbigiRGF0YUNhY2hlTWFu\nYWdlciIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAgICAgICBu\nZXcgU3RyaW5nW10geyAiZGVmYXVsdCIsIERhdGFDYWNoZU1hbmFnZXJJbXBs\nLmNsYXNzLmdldE5hbWUoKSwgfTsKICAgICAgICBkYXRhQ2FjaGVNYW5hZ2Vy\nUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgZGF0YUNhY2hl\nTWFuYWdlclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAg\nIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0p\nOwogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4uc2V0SW5zdGFudGlh\ndGluZ0dldHRlcigiZ2V0RGF0YUNhY2hlTWFuYWdlciIpOwoKICAgICAgICBj\nYWNoZURpc3RyaWJ1dGlvblBvbGljeVBsdWdpbiA9IGFkZFBsdWdpbigiQ2Fj\naGVEaXN0cmlidXRpb25Qb2xpY3kiLCB0cnVlKTsKICAgICAgICBhbGlhc2Vz\nID0gbmV3IFN0cmluZ1tdIHsKICAgICAgICAgICAgICAgICJkZWZhdWx0Iiwg\nICAgIm9yZy5hcGFjaGUub3BlbmpwYS5kYXRhY2FjaGUuRGVmYXVsdENhY2hl\nRGlzdHJpYnV0aW9uUG9saWN5IiwKICAgICAgICAgICAgICAgICJ0eXBlLWJh\nc2VkIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5kYXRhY2FjaGUuVHlwZUJhc2Vk\nQ2FjaGVEaXN0cmlidXRpb25Qb2xpY3kifTsKICAgICAgICBjYWNoZURpc3Ry\naWJ1dGlvblBvbGljeVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAg\nICAgIGNhY2hlRGlzdHJpYnV0aW9uUG9saWN5UGx1Z2luLnNldERlZmF1bHQo\nYWxpYXNlc1swXSk7CiAgICAgICAgY2FjaGVEaXN0cmlidXRpb25Qb2xpY3lQ\nbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIGNhY2hlRGlz\ndHJpYnV0aW9uUG9saWN5UGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIo\nImdldENhY2hlRGlzdHJpYnV0aW9uUG9saWN5Iik7CiAgICAgICAgCiAgICAg\nICAgZGF0YUNhY2hlUGx1Z2luID0gYWRkUGx1Z2luKCJEYXRhQ2FjaGUiLCBm\nYWxzZSk7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7IAogICAg\nICAgICAgICAiZmFsc2UiLCBudWxsLCAKICAgICAgICAgICAgInRydWUiLCBD\nb25jdXJyZW50RGF0YUNhY2hlLmNsYXNzLmdldE5hbWUoKSwgCiAgICAgICAg\nICAgICJjb25jdXJyZW50IiwgQ29uY3VycmVudERhdGFDYWNoZS5jbGFzcy5n\nZXROYW1lKCksCiAgICAgICAgICAgICJwYXJ0aXRpb25lZCIsIFBhcnRpdGlv\nbmVkRGF0YUNhY2hlLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICB9OwogICAg\nICAgIGRhdGFDYWNoZVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAg\nICAgIGRhdGFDYWNoZVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwog\nICAgICAgIGRhdGFDYWNoZVBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7\nCgogICAgICAgIGRhdGFDYWNoZVRpbWVvdXQgPSBhZGRJbnQoIkRhdGFDYWNo\nZVRpbWVvdXQiKTsKICAgICAgICBkYXRhQ2FjaGVUaW1lb3V0LnNldERlZmF1\nbHQoIi0xIik7CiAgICAgICAgZGF0YUNhY2hlVGltZW91dC5zZXQoLTEpOwog\nICAgICAgIGRhdGFDYWNoZVRpbWVvdXQuc2V0RHluYW1pYyh0cnVlKTsKCiAg\nICAgICAgcXVlcnlDYWNoZVBsdWdpbiA9IGFkZFBsdWdpbigiUXVlcnlDYWNo\nZSIsIGZhbHNlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsg\nCiAgICAgICAgICAgICJmYWxzZSIsIG51bGwsIAogICAgICAgICAgICAidHJ1\nZSIsIENvbmN1cnJlbnRRdWVyeUNhY2hlLmNsYXNzLmdldE5hbWUoKSwKICAg\nICAgICAgICAgImNvbmN1cnJlbnQiLCBDb25jdXJyZW50UXVlcnlDYWNoZS5j\nbGFzcy5nZXROYW1lKCksIAogICAgICAgIH07CiAgICAgICAgcXVlcnlDYWNo\nZVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHF1ZXJ5Q2Fj\naGVQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBxdWVy\neUNhY2hlUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICAK\nICAgICAgICByZWZyZXNoRnJvbURhdGFDYWNoZSA9IGFkZEJvb2xlYW4oIlJl\nZnJlc2hGcm9tRGF0YUNhY2hlIik7CiAgICAgICAgcmVmcmVzaEZyb21EYXRh\nQ2FjaGUuc2V0RGVmYXVsdCgiZmFsc2UiKTsKICAgICAgICByZWZyZXNoRnJv\nbURhdGFDYWNoZS5zZXQoZmFsc2UpOwogICAgICAgIHJlZnJlc2hGcm9tRGF0\nYUNhY2hlLnNldER5bmFtaWModHJ1ZSk7CiAgICAgICAgCiAgICAgICAgZHlu\nYW1pY0RhdGFTdHJ1Y3RzID0gYWRkQm9vbGVhbigiRHluYW1pY0RhdGFTdHJ1\nY3RzIik7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3RzLnNldERlZmF1bHQo\nImZhbHNlIik7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3RzLnNldChmYWxz\nZSk7CgogICAgICAgIGxvY2tNYW5hZ2VyUGx1Z2luID0gYWRkUGx1Z2luKCJM\nb2NrTWFuYWdlciIsIGZhbHNlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAg\nICAgICAgbmV3IFN0cmluZ1tdIHsgCiAgICAgICAgICAgICAgICAibm9uZSIs\nICJvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLk5vbmVMb2NrTWFuYWdlciIs\nCiAgICAgICAgICAgICAgICAidmVyc2lvbiIsICJvcmcuYXBhY2hlLm9wZW5q\ncGEua2VybmVsLlZlcnNpb25Mb2NrTWFuYWdlciIsIH07CiAgICAgICAgbG9j\na01hbmFnZXJQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBs\nb2NrTWFuYWdlclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAg\nICAgIGxvY2tNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsK\nCiAgICAgICAgaW52ZXJzZU1hbmFnZXJQbHVnaW4gPSBhZGRQbHVnaW4oIklu\ndmVyc2VNYW5hZ2VyIiwgZmFsc2UpOwogICAgICAgIGFsaWFzZXMgPSBuZXcg\nU3RyaW5nW10geyAKICAgICAgICAgICAgICAgICJmYWxzZSIsIG51bGwsIAog\nICAgICAgICAgICAgICAgInRydWUiLCAgIm9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuSW52ZXJzZU1hbmFnZXIiLCB9OwogICAgICAgIGludmVyc2VNYW5h\nZ2VyUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgaW52ZXJz\nZU1hbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAg\nICBpbnZlcnNlTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7\nCgogICAgICAgIHNhdmVwb2ludE1hbmFnZXJQbHVnaW4gPSBhZGRQbHVnaW4o\nIlNhdmVwb2ludE1hbmFnZXIiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0g\nbmV3IFN0cmluZ1tdIHsgCiAgICAgICAgICAgICAgICAiaW4tbWVtIiwgIm9y\nZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuSW5NZW1vcnlTYXZlcG9pbnRNYW5h\nZ2VyIiwgfTsKICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLnNldEFs\naWFzZXMoYWxpYXNlcyk7CiAgICAgICAgc2F2ZXBvaW50TWFuYWdlclBsdWdp\nbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIHNhdmVwb2ludE1h\nbmFnZXJQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIHNh\ndmVwb2ludE1hbmFnZXJQbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigi\nZ2V0U2F2ZXBvaW50TWFuYWdlckluc3RhbmNlIik7CgogICAgICAgIG9ycGhh\nbmVkS2V5UGx1Z2luID0gYWRkUGx1Z2luKCJPcnBoYW5lZEtleUFjdGlvbiIs\nIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW10geyAKICAg\nICAgICAgICAgICAgICJsb2ciLCAgICAgICAib3JnLmFwYWNoZS5vcGVuanBh\nLmV2ZW50LkxvZ09ycGhhbmVkS2V5QWN0aW9uIiwgCiAgICAgICAgICAgICAg\nICAiZXhjZXB0aW9uIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5FeGNl\ncHRpb25PcnBoYW5lZEtleUFjdGlvbiIsIAogICAgICAgICAgICAgICAgIm5v\nbmUiLCAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEuZXZlbnQuTm9uZU9ycGhh\nbmVkS2V5QWN0aW9uIiwgfTsKICAgICAgICBvcnBoYW5lZEtleVBsdWdpbi5z\nZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIG9ycGhhbmVkS2V5UGx1Z2lu\nLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgb3JwaGFuZWRLZXlQ\nbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIG9ycGhhbmVk\nS2V5UGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldE9ycGhhbmVk\nS2V5QWN0aW9uSW5zdGFuY2UiKTsKCiAgICAgICAgcmVtb3RlUHJvdmlkZXJQ\nbHVnaW4gPSBuZXcgUmVtb3RlQ29tbWl0UHJvdmlkZXJWYWx1ZSgpOwogICAg\nICAgIGFkZFZhbHVlKHJlbW90ZVByb3ZpZGVyUGx1Z2luKTsKCiAgICAgICAg\ndHJhbnNhY3Rpb25Nb2RlID0gYWRkQm9vbGVhbigiVHJhbnNhY3Rpb25Nb2Rl\nIik7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7ICJsb2NhbCIs\nICJmYWxzZSIsICJtYW5hZ2VkIiwgInRydWUiLCB9OwogICAgICAgIHRyYW5z\nYWN0aW9uTW9kZS5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHRyYW5z\nYWN0aW9uTW9kZS5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwoKICAgICAgICBt\nYW5hZ2VkUnVudGltZVBsdWdpbiA9IGFkZFBsdWdpbigiTWFuYWdlZFJ1bnRp\nbWUiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsg\nCiAgICAgICAgICAgICAgICAiYXV0byIsICAgICAgICJvcmcuYXBhY2hlLm9w\nZW5qcGEuZWUuQXV0b21hdGljTWFuYWdlZFJ1bnRpbWUiLCAKICAgICAgICAg\nICAgICAgICJqbmRpIiwgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5lZS5K\nTkRJTWFuYWdlZFJ1bnRpbWUiLCAKICAgICAgICAgICAgICAgICJpbnZvY2F0\naW9uIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5lZS5JbnZvY2F0aW9uTWFuYWdl\nZFJ1bnRpbWUiLCB9OwogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luLnNl\ndEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgbWFuYWdlZFJ1bnRpbWVQbHVn\naW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBtYW5hZ2VkUnVu\ndGltZVBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CiAgICAgICAgbWFu\nYWdlZFJ1bnRpbWVQbHVnaW4KICAgICAgICAgICAgLnNldEluc3RhbnRpYXRp\nbmdHZXR0ZXIoImdldE1hbmFnZWRSdW50aW1lSW5zdGFuY2UiKTsKCiAgICAg\nICAgcHJveHlNYW5hZ2VyUGx1Z2luID0gYWRkUGx1Z2luKCJQcm94eU1hbmFn\nZXIiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsg\nCiAgICAgICAgICAgICAgICAiZGVmYXVsdCIsICJvcmcuYXBhY2hlLm9wZW5q\ncGEudXRpbC5Qcm94eU1hbmFnZXJJbXBsIiB9OwogICAgICAgIHByb3h5TWFu\nYWdlclBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHByb3h5\nTWFuYWdlclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAg\nIHByb3h5TWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CiAg\nICAgICAgcHJveHlNYW5hZ2VyUGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0\nZXIoImdldFByb3h5TWFuYWdlckluc3RhbmNlIik7CgogICAgICAgIG1hcHBp\nbmcgPSBhZGRTdHJpbmcoIk1hcHBpbmciKTsKICAgICAgICBtZXRhRmFjdG9y\neVBsdWdpbiA9IGFkZFBsdWdpbigiTWV0YURhdGFGYWN0b3J5IiwgZmFsc2Up\nOwoKICAgICAgICBtZXRhUmVwb3NpdG9yeVBsdWdpbiA9IChNZXRhRGF0YVJl\ncG9zaXRvcnlWYWx1ZSkgYWRkVmFsdWUobmV3IE1ldGFEYXRhUmVwb3NpdG9y\neVZhbHVlKCkpOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9yeSA9IGFkZE9i\namVjdCgiQ29ubmVjdGlvbkZhY3RvcnkiKTsKICAgICAgICBjb25uZWN0aW9u\nRmFjdG9yeS5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRDb25uZWN0aW9u\nRmFjdG9yeSIpOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9yeTIgPSBhZGRP\nYmplY3QoIkNvbm5lY3Rpb25GYWN0b3J5MiIpOwogICAgICAgIGNvbm5lY3Rp\nb25GYWN0b3J5Mi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRDb25uZWN0\naW9uRmFjdG9yeTIiKTsKICAgICAgICAvLyBUaGlzIGlzIGRvbmUgYmVjYXVz\nZSB0aGlzIHBsdWctaW4gbWF5IGdldCBpbml0aWFsaXplZCB2ZXJ5IGxhemls\neQogICAgICAgIC8vIHdoZW4gdGhlIHJ1bnRpbWUgbmVlZHMgaXQgZm9yIGZs\ndXNoIG9yIGEgc2VxdWVuY2UuIFRvIGtlZXAgaXQKICAgICAgICAvLyBkeW5h\nbWljIGFsbG93cyBpdCB0byBiZSBzZXQgZXZlbiB3aGVuIHRoZSBjb25maWd1\ncmF0aW9uIGlzIGZyb3plbgogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5LnNl\ndER5bmFtaWModHJ1ZSk7CiAgICAgICAgY29ubmVjdGlvbkZhY3RvcnkyLnNl\ndER5bmFtaWModHJ1ZSk7CgoKICAgICAgICBjb25uZWN0aW9uVXNlck5hbWUg\nPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb25Vc2VyTmFtZSIpOwogICAgICAgIGNv\nbm5lY3Rpb25Vc2VyTmFtZS5hZGRFcXVpdmFsZW50S2V5KCJqYXZheC5wZXJz\naXN0ZW5jZS5qZGJjLnVzZXIiKTsKICAgICAgICAKICAgICAgICBjb25uZWN0\naW9uUGFzc3dvcmQgPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb25QYXNzd29yZCIp\nOwogICAgICAgIGNvbm5lY3Rpb25QYXNzd29yZC5hZGRFcXVpdmFsZW50S2V5\nKCJqYXZheC5wZXJzaXN0ZW5jZS5qZGJjLnBhc3N3b3JkIik7CiAgICAgICAg\nY29ubmVjdGlvblBhc3N3b3JkLmhpZGUoKTsKICAgICAgICAKICAgICAgICBl\nbmNyeXB0aW9uUHJvdmlkZXIgPSBhZGRQbHVnaW4oIkVuY3J5cHRpb25Qcm92\naWRlciIsdHJ1ZSk7CgogICAgICAgIGNvbm5lY3Rpb25VUkwgPSBhZGRTdHJp\nbmcoIkNvbm5lY3Rpb25VUkwiKTsKICAgICAgICBjb25uZWN0aW9uVVJMLmFk\nZEVxdWl2YWxlbnRLZXkoImphdmF4LnBlcnNpc3RlbmNlLmpkYmMudXJsIik7\nCiAgICAgICAgCiAgICAgICAgY29ubmVjdGlvbkRyaXZlck5hbWUgPSBhZGRT\ndHJpbmcoIkNvbm5lY3Rpb25Ecml2ZXJOYW1lIik7CiAgICAgICAgY29ubmVj\ndGlvbkRyaXZlck5hbWUuYWRkRXF1aXZhbGVudEtleSgiamF2YXgucGVyc2lz\ndGVuY2UuamRiYy5kcml2ZXIiKTsKICAgICAgICAKICAgICAgICBjb25uZWN0\naW9uRmFjdG9yeU5hbWUgPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb25GYWN0b3J5\nTmFtZSIpOwogICAgICAgIGNvbm5lY3Rpb25Qcm9wZXJ0aWVzID0gYWRkU3Ry\naW5nKCJDb25uZWN0aW9uUHJvcGVydGllcyIpOwogICAgICAgIGNvbm5lY3Rp\nb25GYWN0b3J5UHJvcGVydGllcyA9IGFkZFN0cmluZygiQ29ubmVjdGlvbkZh\nY3RvcnlQcm9wZXJ0aWVzIik7CiAgICAgICAgY29ubmVjdGlvbjJVc2VyTmFt\nZSA9IGFkZFN0cmluZygiQ29ubmVjdGlvbjJVc2VyTmFtZSIpOwogICAgICAg\nIGNvbm5lY3Rpb24yUGFzc3dvcmQgPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb24y\nUGFzc3dvcmQiKTsKICAgICAgICBjb25uZWN0aW9uMlBhc3N3b3JkLmhpZGUo\nKTsKICAgICAgICAKICAgICAgICBjb25uZWN0aW9uMlVSTCA9IGFkZFN0cmlu\nZygiQ29ubmVjdGlvbjJVUkwiKTsKICAgICAgICBjb25uZWN0aW9uMkRyaXZl\nck5hbWUgPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb24yRHJpdmVyTmFtZSIpOwog\nICAgICAgIGNvbm5lY3Rpb24yUHJvcGVydGllcyA9IGFkZFN0cmluZygiQ29u\nbmVjdGlvbjJQcm9wZXJ0aWVzIik7CiAgICAgICAgY29ubmVjdGlvbkZhY3Rv\ncnkyUHJvcGVydGllcyA9IGFkZFN0cmluZygiQ29ubmVjdGlvbkZhY3Rvcnky\nUHJvcGVydGllcyIpOwogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5Mk5hbWUg\nPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb25GYWN0b3J5Mk5hbWUiKTsKCiAgICAg\nICAgY29ubmVjdGlvbkZhY3RvcnlNb2RlID0gYWRkQm9vbGVhbigiQ29ubmVj\ndGlvbkZhY3RvcnlNb2RlIik7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJp\nbmdbXSB7ICJsb2NhbCIsICJmYWxzZSIsICJtYW5hZ2VkIiwgInRydWUiLCB9\nOwogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TW9kZS5zZXRBbGlhc2VzKGFs\naWFzZXMpOwogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TW9kZS5zZXREZWZh\ndWx0KGFsaWFzZXNbMF0pOwoKICAgICAgICBvcHRpbWlzdGljID0gYWRkQm9v\nbGVhbigiT3B0aW1pc3RpYyIpOwogICAgICAgIG9wdGltaXN0aWMuc2V0RGVm\nYXVsdCgidHJ1ZSIpOwogICAgICAgIG9wdGltaXN0aWMuc2V0KHRydWUpOwoK\nICAgICAgICBhdXRvQ2xlYXIgPSBhZGRJbnQoIkF1dG9DbGVhciIpOwogICAg\nICAgIGFsaWFzZXMgPQogICAgICAgICAgICBuZXcgU3RyaW5nW10geyAiZGF0\nYXN0b3JlIiwKICAgICAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKEF1dG9D\nbGVhci5DTEVBUl9EQVRBU1RPUkUpLCAiYWxsIiwKICAgICAgICAgICAgICAg\nIFN0cmluZy52YWx1ZU9mKEF1dG9DbGVhci5DTEVBUl9BTEwpLCB9OwogICAg\nICAgIGF1dG9DbGVhci5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGF1\ndG9DbGVhci5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGF1dG9D\nbGVhci5zZXQoQXV0b0NsZWFyLkNMRUFSX0RBVEFTVE9SRSk7CiAgICAgICAg\nYXV0b0NsZWFyLnNldEFsaWFzTGlzdENvbXByZWhlbnNpdmUodHJ1ZSk7Cgog\nICAgICAgIHJldGFpblN0YXRlID0gYWRkQm9vbGVhbigiUmV0YWluU3RhdGUi\nKTsKICAgICAgICByZXRhaW5TdGF0ZS5zZXREZWZhdWx0KCJ0cnVlIik7CiAg\nICAgICAgcmV0YWluU3RhdGUuc2V0KHRydWUpOwoKICAgICAgICByZXN0b3Jl\nU3RhdGUgPSBhZGRJbnQoIlJlc3RvcmVTdGF0ZSIpOwogICAgICAgIGFsaWFz\nZXMgPSBuZXcgU3RyaW5nW10geyAKICAgICAgICAgICAgICAgICJub25lIiwg\nICAgICBTdHJpbmcudmFsdWVPZihSZXN0b3JlU3RhdGUuUkVTVE9SRV9OT05F\nKSwKICAgICAgICAgICAgICAgICJmYWxzZSIsICAgICBTdHJpbmcudmFsdWVP\nZihSZXN0b3JlU3RhdGUuUkVTVE9SRV9OT05FKSwKICAgICAgICAgICAgICAg\nICJpbW11dGFibGUiLCBTdHJpbmcudmFsdWVPZihSZXN0b3JlU3RhdGUuUkVT\nVE9SRV9JTU1VVEFCTEUpLAogICAgICAgICAgICAgICAgLy8gInRydWUiIGZv\nciBjb21wYXQgd2l0aCBqZG8gUmVzdG9yZVZhbHVlcwogICAgICAgICAgICAg\nICAgInRydWUiLCAgICAgIFN0cmluZy52YWx1ZU9mKFJlc3RvcmVTdGF0ZS5S\nRVNUT1JFX0lNTVVUQUJMRSksIAogICAgICAgICAgICAgICAgImFsbCIsICAg\nICAgIFN0cmluZy52YWx1ZU9mKFJlc3RvcmVTdGF0ZS5SRVNUT1JFX0FMTCks\nIH07CiAgICAgICAgcmVzdG9yZVN0YXRlLnNldEFsaWFzZXMoYWxpYXNlcyk7\nCiAgICAgICAgcmVzdG9yZVN0YXRlLnNldERlZmF1bHQoYWxpYXNlc1swXSk7\nCiAgICAgICAgcmVzdG9yZVN0YXRlLnNldChSZXN0b3JlU3RhdGUuUkVTVE9S\nRV9JTU1VVEFCTEUpOwogICAgICAgIHJlc3RvcmVTdGF0ZS5zZXRBbGlhc0xp\nc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBhdXRvRGV0YWNoID0g\nbmV3IEF1dG9EZXRhY2hWYWx1ZSgpOwogICAgICAgIGFkZFZhbHVlKGF1dG9E\nZXRhY2gpOwoKICAgICAgICBkZXRhY2hTdGF0ZVBsdWdpbiA9IGFkZFBsdWdp\nbigiRGV0YWNoU3RhdGUiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3\nIFN0cmluZ1tdIHsKICAgICAgICAgICAgImxvYWRlZCIsICAgICAgIERldGFj\naE9wdGlvbnMuTG9hZGVkLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICAgICAg\nImZncyIsICAgICAgICAgIERldGFjaE9wdGlvbnMuRmV0Y2hHcm91cHMuY2xh\nc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICAiZmV0Y2gtZ3JvdXBzIiwgRGV0\nYWNoT3B0aW9ucy5GZXRjaEdyb3Vwcy5jbGFzcy5nZXROYW1lKCksIAogICAg\nICAgICAgICAiYWxsIiwgICAgICAgICAgRGV0YWNoT3B0aW9ucy5BbGwuY2xh\nc3MuZ2V0TmFtZSgpLAogICAgICAgIH07CiAgICAgICAgZGV0YWNoU3RhdGVQ\nbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBkZXRhY2hTdGF0\nZVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGRldGFj\naFN0YXRlUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBk\nZXRhY2hTdGF0ZVBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRE\nZXRhY2hTdGF0ZUluc3RhbmNlIik7CgogICAgICAgIGlnbm9yZUNoYW5nZXMg\nPSBhZGRCb29sZWFuKCJJZ25vcmVDaGFuZ2VzIik7CgogICAgICAgIG5vbnRy\nYW5zYWN0aW9uYWxSZWFkID0gYWRkQm9vbGVhbigiTm9udHJhbnNhY3Rpb25h\nbFJlYWQiKTsKICAgICAgICBub250cmFuc2FjdGlvbmFsUmVhZC5zZXREZWZh\ndWx0KCJ0cnVlIik7CiAgICAgICAgbm9udHJhbnNhY3Rpb25hbFJlYWQuc2V0\nKHRydWUpOwoKICAgICAgICBub250cmFuc2FjdGlvbmFsV3JpdGUgPSBhZGRC\nb29sZWFuKCJOb250cmFuc2FjdGlvbmFsV3JpdGUiKTsKICAgICAgICBtdWx0\naXRocmVhZGVkID0gYWRkQm9vbGVhbigiTXVsdGl0aHJlYWRlZCIpOwoKICAg\nICAgICBmZXRjaEJhdGNoU2l6ZSA9IGFkZEludCgiRmV0Y2hCYXRjaFNpemUi\nKTsKICAgICAgICBmZXRjaEJhdGNoU2l6ZS5zZXREZWZhdWx0KCItMSIpOwog\nICAgICAgIGZldGNoQmF0Y2hTaXplLnNldCgtMSk7CiAgICAgICAgZmV0Y2hC\nYXRjaFNpemUuc2V0RHluYW1pYyh0cnVlKTsKCiAgICAgICAgbWF4RmV0Y2hE\nZXB0aCA9IGFkZEludCgiTWF4RmV0Y2hEZXB0aCIpOwogICAgICAgIG1heEZl\ndGNoRGVwdGguc2V0RGVmYXVsdCgiLTEiKTsKICAgICAgICBtYXhGZXRjaERl\ncHRoLnNldCgtMSk7CgogICAgICAgIGZldGNoR3JvdXBzID0gYWRkU3RyaW5n\nTGlzdCgiRmV0Y2hHcm91cHMiKTsKICAgICAgICBmZXRjaEdyb3Vwcy5zZXRE\nZWZhdWx0KCJkZWZhdWx0Iik7CiAgICAgICAgZmV0Y2hHcm91cHMuc2V0KG5l\ndyBTdHJpbmdbXSB7ICJkZWZhdWx0IiB9KTsKCiAgICAgICAgZmx1c2hCZWZv\ncmVRdWVyaWVzID0gYWRkSW50KCJGbHVzaEJlZm9yZVF1ZXJpZXMiKTsKICAg\nICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsgCiAgICAgICAgICAgICAg\nICAidHJ1ZSIsICAgICAgICAgICAgU3RyaW5nLnZhbHVlT2YoUXVlcnlGbHVz\naE1vZGVzLkZMVVNIX1RSVUUpLAogICAgICAgICAgICAgICAgImZhbHNlIiwg\nICAgICAgICAgIFN0cmluZy52YWx1ZU9mKFF1ZXJ5Rmx1c2hNb2Rlcy5GTFVT\nSF9GQUxTRSksCiAgICAgICAgICAgICAgICAid2l0aC1jb25uZWN0aW9uIiwg\nU3RyaW5nLnZhbHVlT2YoUXVlcnlGbHVzaE1vZGVzLkZMVVNIX1dJVEhfQ09O\nTkVDVElPTiksIAogICAgICAgIH07CiAgICAgICAgZmx1c2hCZWZvcmVRdWVy\naWVzLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgZmx1c2hCZWZvcmVR\ndWVyaWVzLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgZmx1c2hC\nZWZvcmVRdWVyaWVzLnNldChRdWVyeUZsdXNoTW9kZXMuRkxVU0hfVFJVRSk7\nCiAgICAgICAgZmx1c2hCZWZvcmVRdWVyaWVzLnNldEFsaWFzTGlzdENvbXBy\nZWhlbnNpdmUodHJ1ZSk7CgogICAgICAgIGxvY2tUaW1lb3V0ID0gYWRkSW50\nKCJMb2NrVGltZW91dCIpOwogICAgICAgIGxvY2tUaW1lb3V0LmFkZEVxdWl2\nYWxlbnRLZXkoImphdmF4LnBlcnNpc3RlbmNlLmxvY2sudGltZW91dCIpOwog\nICAgICAgIGxvY2tUaW1lb3V0LnNldERlZmF1bHQoIi0xIik7CiAgICAgICAg\nbG9ja1RpbWVvdXQuc2V0RHluYW1pYyh0cnVlKTsKICAgICAgICAKICAgICAg\nICByZWFkTG9ja0xldmVsID0gYWRkSW50KCJSZWFkTG9ja0xldmVsIik7CiAg\nICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7CiAgICAgICAgICAgICAg\nICAicmVhZCIsIFN0cmluZy52YWx1ZU9mKExvY2tMZXZlbHMuTE9DS19SRUFE\nKSwKICAgICAgICAgICAgICAgICJ3cml0ZSIsIFN0cmluZy52YWx1ZU9mKExv\nY2tMZXZlbHMuTE9DS19XUklURSksCiAgICAgICAgICAgICAgICAibm9uZSIs\nIFN0cmluZy52YWx1ZU9mKExvY2tMZXZlbHMuTE9DS19OT05FKSwKICAgICAg\nICAgICAgfTsKICAgICAgICByZWFkTG9ja0xldmVsLnNldEFsaWFzZXMoYWxp\nYXNlcyk7CiAgICAgICAgcmVhZExvY2tMZXZlbC5zZXREZWZhdWx0KGFsaWFz\nZXNbMF0pOwogICAgICAgIHJlYWRMb2NrTGV2ZWwuc2V0KExvY2tMZXZlbHMu\nTE9DS19SRUFEKTsKICAgICAgICByZWFkTG9ja0xldmVsLnNldEFsaWFzTGlz\ndENvbXByZWhlbnNpdmUodHJ1ZSk7CgogICAgICAgIHdyaXRlTG9ja0xldmVs\nID0gYWRkSW50KCJXcml0ZUxvY2tMZXZlbCIpOwogICAgICAgIGFsaWFzZXMg\nPSBuZXcgU3RyaW5nW10gewogICAgICAgICAgICAgICAgInJlYWQiLCBTdHJp\nbmcudmFsdWVPZihMb2NrTGV2ZWxzLkxPQ0tfUkVBRCksCiAgICAgICAgICAg\nICAgICAid3JpdGUiLCBTdHJpbmcudmFsdWVPZihMb2NrTGV2ZWxzLkxPQ0tf\nV1JJVEUpLAogICAgICAgICAgICAgICAgIm5vbmUiLCBTdHJpbmcudmFsdWVP\nZihMb2NrTGV2ZWxzLkxPQ0tfTk9ORSksCiAgICAgICAgICAgIH07CiAgICAg\nICAgd3JpdGVMb2NrTGV2ZWwuc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAg\nICB3cml0ZUxvY2tMZXZlbC5zZXREZWZhdWx0KGFsaWFzZXNbMV0pOwogICAg\nICAgIHdyaXRlTG9ja0xldmVsLnNldChMb2NrTGV2ZWxzLkxPQ0tfV1JJVEUp\nOwogICAgICAgIHdyaXRlTG9ja0xldmVsLnNldEFsaWFzTGlzdENvbXByZWhl\nbnNpdmUodHJ1ZSk7CgogICAgICAgIHNlcVBsdWdpbiA9IG5ldyBTZXFWYWx1\nZSgiU2VxdWVuY2UiKTsKICAgICAgICBzZXFQbHVnaW4uc2V0SW5zdGFudGlh\ndGluZ0dldHRlcigiZ2V0U2VxdWVuY2VJbnN0YW5jZSIpOwogICAgICAgIGFk\nZFZhbHVlKHNlcVBsdWdpbik7CgogICAgICAgIGNvbm5lY3Rpb25SZXRhaW5N\nb2RlID0gYWRkSW50KCJDb25uZWN0aW9uUmV0YWluTW9kZSIpOwogICAgICAg\nIGFsaWFzZXMgPSBuZXcgU3RyaW5nW10gewogICAgICAgICAgICAgICAgIm9u\nLWRlbWFuZCIsICAgU3RyaW5nLnZhbHVlT2YoQ29ubmVjdGlvblJldGFpbk1v\nZGVzLkNPTk5fUkVUQUlOX0RFTUFORCksCiAgICAgICAgICAgICAgICAidHJh\nbnNhY3Rpb24iLCBTdHJpbmcudmFsdWVPZihDb25uZWN0aW9uUmV0YWluTW9k\nZXMuQ09OTl9SRVRBSU5fVFJBTlMpLAogICAgICAgICAgICAgICAgImFsd2F5\ncyIsICAgICAgU3RyaW5nLnZhbHVlT2YoQ29ubmVjdGlvblJldGFpbk1vZGVz\nLkNPTk5fUkVUQUlOX0FMV0FZUyksCiAgICAgICAgICAgICAgICAvLyBkZXBy\nZWNhdGVkCiAgICAgICAgICAgICAgICAicGVyc2lzdGVuY2UtbWFuYWdlciIs\nIFN0cmluZy52YWx1ZU9mKENvbm5lY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JF\nVEFJTl9BTFdBWVMpLAogICAgICAgICAgICB9OwogICAgICAgIGNvbm5lY3Rp\nb25SZXRhaW5Nb2RlLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgY29u\nbmVjdGlvblJldGFpbk1vZGUuc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAg\nICAgICBjb25uZWN0aW9uUmV0YWluTW9kZS5zZXRBbGlhc0xpc3RDb21wcmVo\nZW5zaXZlKHRydWUpOwogICAgICAgIGNvbm5lY3Rpb25SZXRhaW5Nb2RlLnNl\ndChDb25uZWN0aW9uUmV0YWluTW9kZXMuQ09OTl9SRVRBSU5fREVNQU5EKTsK\nCiAgICAgICAgZmlsdGVyTGlzdGVuZXJQbHVnaW5zID0gYWRkUGx1Z2luTGlz\ndCgiRmlsdGVyTGlzdGVuZXJzIik7CiAgICAgICAgZmlsdGVyTGlzdGVuZXJQ\nbHVnaW5zLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldEZpbHRlckxpc3Rl\nbmVySW5zdGFuY2VzIik7CgogICAgICAgIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1\nZ2lucyA9IGFkZFBsdWdpbkxpc3QoIkFnZ3JlZ2F0ZUxpc3RlbmVycyIpOwog\nICAgICAgIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucy5zZXRJbnN0YW50aWF0\naW5nR2V0dGVyKCJnZXRBZ2dyZWdhdGVMaXN0ZW5lckluc3RhbmNlcyIpOwoK\nICAgICAgICByZXRyeUNsYXNzUmVnaXN0cmF0aW9uID0gYWRkQm9vbGVhbigi\nUmV0cnlDbGFzc1JlZ2lzdHJhdGlvbiIpOwoKICAgICAgICBjb21wYXRpYmls\naXR5UGx1Z2luID0gYWRkUGx1Z2luKCJDb21wYXRpYmlsaXR5IiwgdHJ1ZSk7\nCiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7ICJkZWZhdWx0Iiwg\nQ29tcGF0aWJpbGl0eS5jbGFzcy5nZXROYW1lKCkgfTsKICAgICAgICBjb21w\nYXRpYmlsaXR5UGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAg\nY29tcGF0aWJpbGl0eVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwog\nICAgICAgIGNvbXBhdGliaWxpdHlQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNb\nMF0pOwogICAgICAgIGNvbXBhdGliaWxpdHlQbHVnaW4uc2V0SW5zdGFudGlh\ndGluZ0dldHRlcigiZ2V0Q29tcGF0aWJpbGl0eUluc3RhbmNlIik7CiAgICAg\nICAgCiAgICAgICAgY2FsbGJhY2tQbHVnaW4gPSBhZGRQbHVnaW4oIkNhbGxi\nYWNrcyIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW10g\neyAiZGVmYXVsdCIsIENhbGxiYWNrT3B0aW9ucy5jbGFzcy5nZXROYW1lKCkg\nfTsKICAgICAgICBjYWxsYmFja1BsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMp\nOwogICAgICAgIGNhbGxiYWNrUGx1Z2luLnNldERlZmF1bHQoYWxpYXNlc1sw\nXSk7CiAgICAgICAgY2FsbGJhY2tQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNb\nMF0pOwogICAgICAgIGNhbGxiYWNrUGx1Z2luLnNldEluc3RhbnRpYXRpbmdH\nZXR0ZXIoImdldENhbGxiYWNrT3B0aW9uc0luc3RhbmNlIik7CiAgICAgICAg\nICAgCiAgICAgICAgcXVlcnlDb21waWxhdGlvbkNhY2hlUGx1Z2luID0gbmV3\nIFF1ZXJ5Q29tcGlsYXRpb25DYWNoZVZhbHVlKCJRdWVyeUNvbXBpbGF0aW9u\nQ2FjaGUiKTsKICAgICAgICBxdWVyeUNvbXBpbGF0aW9uQ2FjaGVQbHVnaW4u\nc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0UXVlcnlDb21waWxhdGlvbkNh\nY2hlSW5zdGFuY2UiKTsKICAgICAgICBhZGRWYWx1ZShxdWVyeUNvbXBpbGF0\naW9uQ2FjaGVQbHVnaW4pOwogICAgICAgIAogICAgICAgIHJ1bnRpbWVVbmVu\naGFuY2VkQ2xhc3NlcyA9IGFkZEludCgiUnVudGltZVVuZW5oYW5jZWRDbGFz\nc2VzIik7CiAgICAgICAgcnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLnNldEFs\naWFzZXMobmV3IFN0cmluZ1tdIHsKICAgICAgICAgICAgInN1cHBvcnRlZCIs\nICAgU3RyaW5nLnZhbHVlT2YoUnVudGltZVVuZW5oYW5jZWRDbGFzc2VzTW9k\nZXMuU1VQUE9SVEVEKSwKICAgICAgICAgICAgInVuc3VwcG9ydGVkIiwgU3Ry\naW5nLnZhbHVlT2YoUnVudGltZVVuZW5oYW5jZWRDbGFzc2VzTW9kZXMuVU5T\nVVBQT1JURUQpLAogICAgICAgICAgICAid2FybiIsICAgICAgICBTdHJpbmcu\ndmFsdWVPZihSdW50aW1lVW5lbmhhbmNlZENsYXNzZXNNb2Rlcy5XQVJOKSwK\nICAgICAgICB9KTsKICAgICAgICBydW50aW1lVW5lbmhhbmNlZENsYXNzZXMu\nc2V0RGVmYXVsdCgidW5zdXBwb3J0ZWQiKTsKICAgICAgICBydW50aW1lVW5l\nbmhhbmNlZENsYXNzZXMuc2V0U3RyaW5nKCJ1bnN1cHBvcnRlZCIpOwogICAg\nICAgIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nlcy5zZXRBbGlhc0xpc3RDb21w\ncmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBjYWNoZU1hcnNoYWxsZXJQbHVn\naW5zID0gKENhY2hlTWFyc2hhbGxlcnNWYWx1ZSkgYWRkVmFsdWUobmV3IENh\nY2hlTWFyc2hhbGxlcnNWYWx1ZSh0aGlzKSk7CiAgICAgICAgCiAgICAgICAg\nZWFnZXJJbml0aWFsaXphdGlvbiA9IGFkZEJvb2xlYW4oIkluaXRpYWxpemVF\nYWdlcmx5Iik7CiAgICAgICAgCiAgICAgICAgc3BlY2lmaWNhdGlvbiA9IG5l\ndyBTcGVjaWZpY2F0aW9uUGx1Z2luKHRoaXMsICJTcGVjaWZpY2F0aW9uIik7\nIAogICAgICAgIGFkZFZhbHVlKHNwZWNpZmljYXRpb24pOwogICAgICAgIHNw\nZWNpZmljYXRpb24uc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0U3BlY2lm\naWNhdGlvbkluc3RhbmNlIik7CiAgICAgICAgCiAgICAgICAgcXVlcnlUaW1l\nb3V0ID0gYWRkSW50KCJqYXZheC5wZXJzaXN0ZW5jZS5xdWVyeS50aW1lb3V0\nIik7CiAgICAgICAgcXVlcnlUaW1lb3V0LnNldERlZmF1bHQoIi0xIik7CiAg\nICAgICAgcXVlcnlUaW1lb3V0LnNldER5bmFtaWModHJ1ZSk7CiAgICAgIAog\nICAgICAgIGxpZmVjeWNsZUV2ZW50TWFuYWdlciA9IGFkZFBsdWdpbigiTGlm\nZWN5Y2xlRXZlbnRNYW5hZ2VyIiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9\nIG5ldyBTdHJpbmdbXSB7CiAgICAgICAgICAgICJkZWZhdWx0IiwgTGlmZWN5\nY2xlRXZlbnRNYW5hZ2VyLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICAgICAg\nInZhbGlkYXRpbmciLCBWYWxpZGF0aW5nTGlmZWN5Y2xlRXZlbnRNYW5hZ2Vy\nLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICB9OwogICAgICAgIGxpZmVjeWNs\nZUV2ZW50TWFuYWdlci5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGxp\nZmVjeWNsZUV2ZW50TWFuYWdlci5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwog\nICAgICAgIGxpZmVjeWNsZUV2ZW50TWFuYWdlci5zZXRTdHJpbmcoYWxpYXNl\nc1swXSk7CiAgICAgICAgbGlmZWN5Y2xlRXZlbnRNYW5hZ2VyLnNldEluc3Rh\nbnRpYXRpbmdHZXR0ZXIoImdldExpZmVjeWNsZUV2ZW50TWFuYWdlckluc3Rh\nbmNlIik7CgogICAgICAgIGR5bmFtaWNFbmhhbmNlbWVudEFnZW50ICA9IGFk\nZEJvb2xlYW4oIkR5bmFtaWNFbmhhbmNlbWVudEFnZW50Iik7CiAgICAgICAg\nZHluYW1pY0VuaGFuY2VtZW50QWdlbnQuc2V0RGVmYXVsdCgidHJ1ZSIpOwog\nICAgICAgIGR5bmFtaWNFbmhhbmNlbWVudEFnZW50LnNldCh0cnVlKTsKICAg\nICAgICAKICAgICAgICAvLyBpbml0aWFsaXplIHN1cHBvcnRlZCBvcHRpb25z\nIHRoYXQgc29tZSBydW50aW1lcyBtYXkgbm90IHN1cHBvcnQKICAgICAgICBz\ndXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fTk9OVFJBTlNfUkVBRCk7CiAg\nICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9OX09QVElNSVNUSUMp\nOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9JRF9BUFBM\nSUNBVElPTik7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9O\nX0lEX0RBVEFTVE9SRSk7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQo\nT1BUSU9OX1RZUEVfQ09MTEVDVElPTik7CiAgICAgICAgc3VwcG9ydGVkT3B0\naW9ucy5hZGQoT1BUSU9OX1RZUEVfTUFQKTsKICAgICAgICBzdXBwb3J0ZWRP\ncHRpb25zLmFkZChPUFRJT05fVFlQRV9BUlJBWSk7CiAgICAgICAgc3VwcG9y\ndGVkT3B0aW9ucy5hZGQoT1BUSU9OX05VTExfQ09OVEFJTkVSKTsKICAgICAg\nICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fRU1CRURERURfUkVMQVRJ\nT04pOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9FTUJF\nRERFRF9DT0xMRUNUSU9OX1JFTEFUSU9OKTsKICAgICAgICBzdXBwb3J0ZWRP\ncHRpb25zLmFkZChPUFRJT05fRU1CRURERURfTUFQX1JFTEFUSU9OKTsKICAg\nICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fSU5DX0ZMVVNIKTsK\nICAgICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fVkFMVUVfQVVU\nT0FTU0lHTik7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9O\nX1ZBTFVFX0lOQ1JFTUVOVCk7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5h\nZGQoT1BUSU9OX0RBVEFTVE9SRV9DT05ORUNUSU9OKTsKICAgICAgICAKICAg\nICAgICBpZiAoZGVyaXZhdGlvbnMpCiAgICAgICAgICAgIFByb2R1Y3REZXJp\ndmF0aW9ucy5iZWZvcmVDb25maWd1cmF0aW9uTG9hZCh0aGlzKTsKICAgICAg\nICBpZiAobG9hZEdsb2JhbHMpCiAgICAgICAgICAgIGxvYWRHbG9iYWxzKCk7\nCiAgICB9CgogICAgcHVibGljIENvbGxlY3Rpb248U3RyaW5nPiBzdXBwb3J0\nZWRPcHRpb25zKCkgewogICAgICAgIHJldHVybiBzdXBwb3J0ZWRPcHRpb25z\nOwogICAgfQoKICAgIC8qKgogICAgICogR2V0IHRoZSBuYW1lIG9mIHRoZSBT\ncGVjaWZpY2F0aW9uIG9ubHkgKG5vdCB0aGUgdmVyc2lvbiBvciBvdGhlciAK\nICAgICAqIGluZm9ybWF0aW9uKSBvciBhbiBlbXB0eSBTdHJpbmcgaWYgbm90\nIHNldC4KICAgICAqIAogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFNw\nZWNpZmljYXRpb24oKSB7CiAgICAgICAgU3BlY2lmaWNhdGlvbiBzcGVjID0g\nZ2V0U3BlY2lmaWNhdGlvbkluc3RhbmNlKCk7CiAgICAgICAgcmV0dXJuIHNw\nZWMgPT0gbnVsbCA/ICIiIDogc3BlYy5nZXROYW1lKCk7CiAgICB9CiAgICAK\nICAgIHB1YmxpYyBTcGVjaWZpY2F0aW9uIGdldFNwZWNpZmljYXRpb25JbnN0\nYW5jZSgpIHsKICAgICAgICByZXR1cm4gKFNwZWNpZmljYXRpb24pc3BlY2lm\naWNhdGlvbi5nZXQoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgU3Bl\nY2lmaWNhdGlvbiBmcm9tIHRoZSBnaXZlbiBTdHJpbmcuCiAgICAgKiAKICAg\nICAqIEBwYXJhbSBzcGVjIHNob3VsZCBiZSBlbmNvZGVkIGluIHRoZSBmb3Jt\nYXQgc3BlY2lmaWVkIGluIHtAbGluayAKICAgICAqIFNwZWNpZmljYXRpb259\nLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRTcGVjaWZpY2F0aW9uKFN0\ncmluZyBzcGVjKSB7CiAgICAgICAgc3BlY2lmaWNhdGlvbi5zZXRTdHJpbmco\nc3BlYyk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHNldFNwZWNpZmlj\nYXRpb24oU3BlY2lmaWNhdGlvbiBuZXdTcGVjKSB7CiAgICAgICAgc3BlY2lm\naWNhdGlvbi5zZXQobmV3U3BlYyk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0Q2xhc3NSZXNvbHZlcihTdHJpbmcgY2xhc3NSZXNvbHZlcikgewogICAg\nICAgIGNsYXNzUmVzb2x2ZXJQbHVnaW4uc2V0U3RyaW5nKGNsYXNzUmVzb2x2\nZXIpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q2xhc3NSZXNvbHZl\ncigpIHsKICAgICAgICByZXR1cm4gY2xhc3NSZXNvbHZlclBsdWdpbi5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDbGFzc1Jlc29s\ndmVyKENsYXNzUmVzb2x2ZXIgY2xhc3NSZXNvbHZlcikgewogICAgICAgIGNs\nYXNzUmVzb2x2ZXJQbHVnaW4uc2V0KGNsYXNzUmVzb2x2ZXIpOwogICAgfQoK\nICAgIHB1YmxpYyBDbGFzc1Jlc29sdmVyIGdldENsYXNzUmVzb2x2ZXJJbnN0\nYW5jZSgpIHsKICAgICAgICBpZiAoY2xhc3NSZXNvbHZlclBsdWdpbi5nZXQo\nKSA9PSBudWxsKQogICAgICAgICAgICBjbGFzc1Jlc29sdmVyUGx1Z2luLmlu\nc3RhbnRpYXRlKENsYXNzUmVzb2x2ZXIuY2xhc3MsIHRoaXMpOwogICAgICAg\nIHJldHVybiAoQ2xhc3NSZXNvbHZlcikgY2xhc3NSZXNvbHZlclBsdWdpbi5n\nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRCcm9rZXJGYWN0b3J5\nKFN0cmluZyBmYWN0b3J5KSB7CiAgICAgICAgYnJva2VyRmFjdG9yeVBsdWdp\nbi5zZXRTdHJpbmcoZmFjdG9yeSk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXRCcm9rZXJGYWN0b3J5KCkgewogICAgICAgIHJldHVybiBicm9rZXJG\nYWN0b3J5UGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldEJyb2tlckltcGwoU3RyaW5nIGJyb2tlcikgewogICAgICAgIGJy\nb2tlclBsdWdpbi5zZXRTdHJpbmcoYnJva2VyKTsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldEJyb2tlckltcGwoKSB7CiAgICAgICAgcmV0dXJuIGJy\nb2tlclBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgQnJv\na2VySW1wbCBuZXdCcm9rZXJJbnN0YW5jZShTdHJpbmcgdXNlciwgU3RyaW5n\nIHBhc3MpIHsKICAgICAgICBCcm9rZXJJbXBsIGJyb2tlciA9IChCcm9rZXJJ\nbXBsKSBicm9rZXJQbHVnaW4uaW5zdGFudGlhdGUoQnJva2VySW1wbC5jbGFz\ncywgdGhpcyk7CiAgICAgICAgaWYgKGJyb2tlciAhPSBudWxsKQogICAgICAg\nICAgICBicm9rZXIuc2V0QXV0aGVudGljYXRpb24odXNlciwgcGFzcyk7CiAg\nICAgICAgcmV0dXJuIGJyb2tlcjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXREYXRhQ2FjaGVNYW5hZ2VyKFN0cmluZyBtZ3IpIHsKICAgICAgICBkYXRh\nQ2FjaGVNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhtZ3IpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0RGF0YUNhY2hlTWFuYWdlcigpIHsKICAgICAg\nICByZXR1cm4gZGF0YUNhY2hlTWFuYWdlclBsdWdpbi5nZXRTdHJpbmcoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREYXRhQ2FjaGVNYW5hZ2VyKERh\ndGFDYWNoZU1hbmFnZXIgZGNtKSB7CiAgICAgICAgaWYgKGRjbSAhPSBudWxs\nKQogICAgICAgICAgICBkY20uaW5pdGlhbGl6ZSh0aGlzLCBkYXRhQ2FjaGVQ\nbHVnaW4sIHF1ZXJ5Q2FjaGVQbHVnaW4pOwogICAgICAgIGRhdGFDYWNoZU1h\nbmFnZXJQbHVnaW4uc2V0KGRjbSk7CiAgICB9CgogICAgLy8gVGhpcyBib29s\nZWFuIGlzIHVzZWQgZm9yIGRvdWJsZSBjaGVja2VkIGxvY2tpbmcuIFdlIHdh\nbnQgdG8gbWluaW1pemUgdGhlIGFtb3VudCBvZiB0aW1lIHRoYXQKICAgIC8v\nIHdlJ3JlIGxvY2tpbmcgaGVyZS4KICAgIHByaXZhdGUgYm9vbGVhbiBkYXRh\nQ2FjaGVNYW5hZ2VySW5pdGlhbGl6ZWQgPSBmYWxzZTsKICAgIHB1YmxpYyBE\nYXRhQ2FjaGVNYW5hZ2VyIGdldERhdGFDYWNoZU1hbmFnZXJJbnN0YW5jZSgp\nIHsKICAgICAgICBpZiAoZGF0YUNhY2hlTWFuYWdlckluaXRpYWxpemVkID09\nIGZhbHNlKSB7CiAgICAgICAgICAgIHN5bmNocm9uaXplZCAodGhpcykgewog\nICAgICAgICAgICAgICAgaWYgKGRhdGFDYWNoZU1hbmFnZXJJbml0aWFsaXpl\nZCA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIERhdGFDYWNoZU1h\nbmFnZXIgZGNtID0gKERhdGFDYWNoZU1hbmFnZXIpIGRhdGFDYWNoZU1hbmFn\nZXJQbHVnaW4uZ2V0KCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRjbSA9\nPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRjbSA9IChEYXRh\nQ2FjaGVNYW5hZ2VyKSBkYXRhQ2FjaGVNYW5hZ2VyUGx1Z2luLmluc3RhbnRp\nYXRlKERhdGFDYWNoZU1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAgICAgICAg\nICAgICAgICAgICAgICBkY20uaW5pdGlhbGl6ZSh0aGlzLCBkYXRhQ2FjaGVQ\nbHVnaW4sIHF1ZXJ5Q2FjaGVQbHVnaW4pOwogICAgICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgICAgICAgICBkYXRhQ2FjaGVNYW5hZ2VySW5pdGlh\nbGl6ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBkY207\nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAg\nICAgICAgcmV0dXJuIChEYXRhQ2FjaGVNYW5hZ2VyKSBkYXRhQ2FjaGVNYW5h\nZ2VyUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldERh\ndGFDYWNoZShTdHJpbmcgZGF0YUNhY2hlKSB7CiAgICAgICAgZGF0YUNhY2hl\nUGx1Z2luLnNldFN0cmluZyhkYXRhQ2FjaGUpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0RGF0YUNhY2hlKCkgewogICAgICAgIHJldHVybiBkYXRh\nQ2FjaGVQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0RGF0YUNhY2hlVGltZW91dChpbnQgZGF0YUNhY2hlVGltZW91dCkg\newogICAgICAgIHRoaXMuZGF0YUNhY2hlVGltZW91dC5zZXQoZGF0YUNhY2hl\nVGltZW91dCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0YUNhY2hl\nVGltZW91dChJbnRlZ2VyIGRhdGFDYWNoZVRpbWVvdXQpIHsKICAgICAgICBp\nZiAoZGF0YUNhY2hlVGltZW91dCAhPSBudWxsKQogICAgICAgICAgICBzZXRE\nYXRhQ2FjaGVUaW1lb3V0KGRhdGFDYWNoZVRpbWVvdXQuaW50VmFsdWUoKSk7\nCiAgICB9CgogICAgcHVibGljIGludCBnZXREYXRhQ2FjaGVUaW1lb3V0KCkg\newogICAgICAgIHJldHVybiBkYXRhQ2FjaGVUaW1lb3V0LmdldCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldFF1ZXJ5Q2FjaGUoU3RyaW5nIHF1ZXJ5\nQ2FjaGUpIHsKICAgICAgICBxdWVyeUNhY2hlUGx1Z2luLnNldFN0cmluZyhx\ndWVyeUNhY2hlKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFF1ZXJ5\nQ2FjaGUoKSB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5Q2FjaGVQbHVnaW4uZ2V0\nU3RyaW5nKCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyBib29sZWFuIGdldFJl\nZnJlc2hGcm9tRGF0YUNhY2hlKCkgewogICAgCXJldHVybiByZWZyZXNoRnJv\nbURhdGFDYWNoZS5nZXQoKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\nc2V0UmVmcmVzaEZyb21EYXRhQ2FjaGUoYm9vbGVhbiBmbGFnKSB7CiAgICAJ\ncmVmcmVzaEZyb21EYXRhQ2FjaGUuc2V0KGZsYWcpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgdm9pZCBzZXRSZWZyZXNoRnJvbURhdGFDYWNoZShCb29sZWFu\nIGZsYWcpIHsKICAgIAlpZiAoZmxhZyAhPSBudWxsKSB7CiAgICAJCXJlZnJl\nc2hGcm9tRGF0YUNhY2hlLnNldChmbGFnLmJvb2xlYW5WYWx1ZSgpKTsKICAg\nIAl9CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZ2V0RHluYW1pY0RhdGFT\ndHJ1Y3RzKCkgewogICAgICAgIHJldHVybiBkeW5hbWljRGF0YVN0cnVjdHMu\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RHluYW1pY0RhdGFT\ndHJ1Y3RzKGJvb2xlYW4gZHluYW1pYykgewogICAgICAgIGR5bmFtaWNEYXRh\nU3RydWN0cy5zZXQoZHluYW1pYyk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0RHluYW1pY0RhdGFTdHJ1Y3RzKEJvb2xlYW4gZHluYW1pYykgewogICAg\nICAgIHNldER5bmFtaWNEYXRhU3RydWN0cyhkeW5hbWljLmJvb2xlYW5WYWx1\nZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRMb2NrTWFuYWdlcihT\ndHJpbmcgbG9ja01hbmFnZXIpIHsKICAgICAgICBsb2NrTWFuYWdlclBsdWdp\nbi5zZXRTdHJpbmcobG9ja01hbmFnZXIpOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0TG9ja01hbmFnZXIoKSB7CiAgICAgICAgcmV0dXJuIGxvY2tN\nYW5hZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyBM\nb2NrTWFuYWdlciBuZXdMb2NrTWFuYWdlckluc3RhbmNlKCkgewogICAgICAg\nIC8vIGRvbid0IHZhbGlkYXRlIHBsdWdpbiBwcm9wZXJ0aWVzIG9uIGluc3Rh\nbnRpYXRpb24gYmVjYXVzZSBpdAogICAgICAgIC8vIGlzIGxpa2VseSB0aGF0\nIGJhY2sgZW5kcyB3aWxsIG92ZXJyaWRlIGRlZmF1bHRzIHdpdGggdGhlaXIK\nICAgICAgICAvLyBvd24gc3ViY2xhc3NlcyB3aXRoIG5ldyBwcm9wZXJ0aWVz\nCiAgICAgICAgcmV0dXJuIChMb2NrTWFuYWdlcikgbG9ja01hbmFnZXJQbHVn\naW4uaW5zdGFudGlhdGUoTG9ja01hbmFnZXIuY2xhc3MsCiAgICAgICAgICAg\nIHRoaXMsIGZhbHNlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJbnZl\ncnNlTWFuYWdlcihTdHJpbmcgaW52ZXJzZU1hbmFnZXIpIHsKICAgICAgICBp\nbnZlcnNlTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoaW52ZXJzZU1hbmFnZXIp\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW52ZXJzZU1hbmFnZXIo\nKSB7CiAgICAgICAgcmV0dXJuIGludmVyc2VNYW5hZ2VyUGx1Z2luLmdldFN0\ncmluZygpOwogICAgfQoKICAgIHB1YmxpYyBJbnZlcnNlTWFuYWdlciBuZXdJ\nbnZlcnNlTWFuYWdlckluc3RhbmNlKCkgewogICAgICAgIHJldHVybiAoSW52\nZXJzZU1hbmFnZXIpIGludmVyc2VNYW5hZ2VyUGx1Z2luLmluc3RhbnRpYXRl\nKEludmVyc2VNYW5hZ2VyLmNsYXNzLCB0aGlzKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRTYXZlcG9pbnRNYW5hZ2VyKFN0cmluZyBzYXZlcG9pbnRN\nYW5hZ2VyKSB7CiAgICAgICAgc2F2ZXBvaW50TWFuYWdlclBsdWdpbi5zZXRT\ndHJpbmcoc2F2ZXBvaW50TWFuYWdlcik7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRTYXZlcG9pbnRNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBz\nYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyBTYXZlcG9pbnRNYW5hZ2VyIGdldFNhdmVwb2ludE1hbmFnZXJJ\nbnN0YW5jZSgpIHsKICAgICAgICBpZiAoc2F2ZXBvaW50TWFuYWdlclBsdWdp\nbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBzYXZlcG9pbnRNYW5hZ2Vy\nUGx1Z2luLmluc3RhbnRpYXRlKFNhdmVwb2ludE1hbmFnZXIuY2xhc3MsIHRo\naXMpOwogICAgICAgIHJldHVybiAoU2F2ZXBvaW50TWFuYWdlcikgc2F2ZXBv\naW50TWFuYWdlclBsdWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRPcnBoYW5lZEtleUFjdGlvbihTdHJpbmcgYWN0aW9uKSB7CiAgICAg\nICAgb3JwaGFuZWRLZXlQbHVnaW4uc2V0U3RyaW5nKGFjdGlvbik7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRPcnBoYW5lZEtleUFjdGlvbigpIHsK\nICAgICAgICByZXR1cm4gb3JwaGFuZWRLZXlQbHVnaW4uZ2V0U3RyaW5nKCk7\nCiAgICB9CgogICAgcHVibGljIE9ycGhhbmVkS2V5QWN0aW9uIGdldE9ycGhh\nbmVkS2V5QWN0aW9uSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKG9ycGhhbmVk\nS2V5UGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIG9ycGhhbmVk\nS2V5UGx1Z2luLmluc3RhbnRpYXRlKE9ycGhhbmVkS2V5QWN0aW9uLmNsYXNz\nLCB0aGlzKTsKICAgICAgICByZXR1cm4gKE9ycGhhbmVkS2V5QWN0aW9uKSBv\ncnBoYW5lZEtleVBsdWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRPcnBoYW5lZEtleUFjdGlvbihPcnBoYW5lZEtleUFjdGlvbiBhY3Rp\nb24pIHsKICAgICAgICBvcnBoYW5lZEtleVBsdWdpbi5zZXQoYWN0aW9uKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSZW1vdGVDb21taXRQcm92aWRl\ncihTdHJpbmcgcmVtb3RlQ29tbWl0UHJvdmlkZXIpIHsKICAgICAgICByZW1v\ndGVQcm92aWRlclBsdWdpbi5zZXRTdHJpbmcocmVtb3RlQ29tbWl0UHJvdmlk\nZXIpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVtb3RlQ29tbWl0\nUHJvdmlkZXIoKSB7CiAgICAgICAgcmV0dXJuIHJlbW90ZVByb3ZpZGVyUGx1\nZ2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyBSZW1vdGVDb21t\naXRQcm92aWRlciBuZXdSZW1vdGVDb21taXRQcm92aWRlckluc3RhbmNlKCkg\newogICAgICAgIHJldHVybiByZW1vdGVQcm92aWRlclBsdWdpbi5pbnN0YW50\naWF0ZVByb3ZpZGVyKHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlcigKICAgICAgICBSZW1vdGVDb21t\naXRFdmVudE1hbmFnZXIgcmVtb3RlRXZlbnRNYW5hZ2VyKSB7CiAgICAgICAg\ndGhpcy5yZW1vdGVFdmVudE1hbmFnZXIgPSByZW1vdGVFdmVudE1hbmFnZXI7\nCiAgICAgICAgcmVtb3RlUHJvdmlkZXJQbHVnaW4uY29uZmlndXJlRXZlbnRN\nYW5hZ2VyKHJlbW90ZUV2ZW50TWFuYWdlcik7CiAgICB9CgogICAgcHVibGlj\nIFJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlciBnZXRSZW1vdGVDb21taXRFdmVu\ndE1hbmFnZXIoKSB7CiAgICAgICAgaWYgKHJlbW90ZUV2ZW50TWFuYWdlciA9\nPSBudWxsKSB7CiAgICAgICAgICAgIHJlbW90ZUV2ZW50TWFuYWdlciA9IG5l\ndyBSZW1vdGVDb21taXRFdmVudE1hbmFnZXIodGhpcyk7CiAgICAgICAgICAg\nIHJlbW90ZVByb3ZpZGVyUGx1Z2luLmNvbmZpZ3VyZUV2ZW50TWFuYWdlcihy\nZW1vdGVFdmVudE1hbmFnZXIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4g\ncmVtb3RlRXZlbnRNYW5hZ2VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFRyYW5zYWN0aW9uTW9kZShTdHJpbmcgdHJhbnNhY3Rpb25Nb2RlKSB7CiAg\nICAgICAgdGhpcy50cmFuc2FjdGlvbk1vZGUuc2V0U3RyaW5nKHRyYW5zYWN0\naW9uTW9kZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRUcmFuc2Fj\ndGlvbk1vZGUoKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uTW9kZS5n\nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUcmFuc2Fj\ndGlvbk1vZGVNYW5hZ2VkKGJvb2xlYW4gbWFuYWdlZCkgewogICAgICAgIHRy\nYW5zYWN0aW9uTW9kZS5zZXQobWFuYWdlZCk7CiAgICB9CgogICAgcHVibGlj\nIGJvb2xlYW4gaXNUcmFuc2FjdGlvbk1vZGVNYW5hZ2VkKCkgewogICAgICAg\nIHJldHVybiB0cmFuc2FjdGlvbk1vZGUuZ2V0KCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0TWFuYWdlZFJ1bnRpbWUoU3RyaW5nIG1hbmFnZWRSdW50\naW1lKSB7CiAgICAgICAgbWFuYWdlZFJ1bnRpbWVQbHVnaW4uc2V0U3RyaW5n\nKG1hbmFnZWRSdW50aW1lKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndE1hbmFnZWRSdW50aW1lKCkgewogICAgICAgIHJldHVybiBtYW5hZ2VkUnVu\ndGltZVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRNYW5hZ2VkUnVudGltZShNYW5hZ2VkUnVudGltZSBtYW5hZ2VkUnVu\ndGltZSkgewogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luLnNldChtYW5h\nZ2VkUnVudGltZSk7CiAgICB9CgogICAgcHVibGljIE1hbmFnZWRSdW50aW1l\nIGdldE1hbmFnZWRSdW50aW1lSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKG1h\nbmFnZWRSdW50aW1lUGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAg\nIG1hbmFnZWRSdW50aW1lUGx1Z2luLmluc3RhbnRpYXRlKE1hbmFnZWRSdW50\naW1lLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKE1hbmFnZWRSdW50\naW1lKSBtYW5hZ2VkUnVudGltZVBsdWdpbi5nZXQoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRQcm94eU1hbmFnZXIoU3RyaW5nIHByb3h5TWFuYWdl\ncikgewogICAgICAgIHByb3h5TWFuYWdlclBsdWdpbi5zZXRTdHJpbmcocHJv\neHlNYW5hZ2VyKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFByb3h5\nTWFuYWdlcigpIHsKICAgICAgICByZXR1cm4gcHJveHlNYW5hZ2VyUGx1Z2lu\nLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFByb3h5\nTWFuYWdlcihQcm94eU1hbmFnZXIgcHJveHlNYW5hZ2VyKSB7CiAgICAgICAg\ncHJveHlNYW5hZ2VyUGx1Z2luLnNldChwcm94eU1hbmFnZXIpOwogICAgfQoK\nICAgIHB1YmxpYyBQcm94eU1hbmFnZXIgZ2V0UHJveHlNYW5hZ2VySW5zdGFu\nY2UoKSB7CiAgICAgICAgaWYgKHByb3h5TWFuYWdlclBsdWdpbi5nZXQoKSA9\nPSBudWxsKQogICAgICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uaW5zdGFu\ndGlhdGUoUHJveHlNYW5hZ2VyLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1\ncm4gKFByb3h5TWFuYWdlcikgcHJveHlNYW5hZ2VyUGx1Z2luLmdldCgpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1hcHBpbmcoU3RyaW5nIG1hcHBp\nbmcpIHsKICAgICAgICB0aGlzLm1hcHBpbmcuc2V0U3RyaW5nKG1hcHBpbmcp\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TWFwcGluZygpIHsKICAg\nICAgICByZXR1cm4gbWFwcGluZy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRNZXRhRGF0YUZhY3RvcnkoU3RyaW5nIG1ldGEpIHsK\nICAgICAgICB0aGlzLm1ldGFGYWN0b3J5UGx1Z2luLnNldFN0cmluZyhtZXRh\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE1ldGFEYXRhRmFjdG9y\neSgpIHsKICAgICAgICByZXR1cm4gbWV0YUZhY3RvcnlQbHVnaW4uZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIE1ldGFEYXRhRmFjdG9yeSBuZXdN\nZXRhRGF0YUZhY3RvcnlJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gKE1l\ndGFEYXRhRmFjdG9yeSkgbWV0YUZhY3RvcnlQbHVnaW4uaW5zdGFudGlhdGUo\nCiAgICAgICAgICAgIE1ldGFEYXRhRmFjdG9yeS5jbGFzcywgdGhpcyk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0TWV0YURhdGFSZXBvc2l0b3J5KFN0\ncmluZyBtZXRhKSB7CiAgICAgICAgdGhpcy5tZXRhUmVwb3NpdG9yeVBsdWdp\nbi5zZXRTdHJpbmcobWV0YSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRNZXRhRGF0YVJlcG9zaXRvcnkoKSB7CiAgICAgICAgcmV0dXJuIG1ldGFS\nZXBvc2l0b3J5UGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldE1ldGFEYXRhUmVwb3NpdG9yeShNZXRhRGF0YVJlcG9zaXRv\ncnkgbWV0YSkgewogICAgICAgIG1ldGFSZXBvc2l0b3J5ID0gbWV0YTsKICAg\nIH0KCiAgICBwdWJsaWMgTWV0YURhdGFSZXBvc2l0b3J5IGdldE1ldGFEYXRh\nUmVwb3NpdG9yeUluc3RhbmNlKCkgewogICAgICAgIGlmIChtZXRhUmVwb3Np\ndG9yeSA9PSBudWxsKQogICAgICAgICAgICBtZXRhUmVwb3NpdG9yeSA9IG5l\nd01ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCk7CiAgICAgICAgcmV0dXJu\nIG1ldGFSZXBvc2l0b3J5OwogICAgfQogICAgCiAgICBwdWJsaWMgYm9vbGVh\nbiBtZXRhRGF0YVJlcG9zaXRvcnlBdmFpbGFibGUoKXsgCiAgICAgICAgcmV0\ndXJuIG1ldGFSZXBvc2l0b3J5ICE9IG51bGw7IAogICAgfQoKICAgIHB1Ymxp\nYyBNZXRhRGF0YVJlcG9zaXRvcnkgbmV3TWV0YURhdGFSZXBvc2l0b3J5SW5z\ndGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIChNZXRhRGF0YVJlcG9zaXRvcnkp\nIG1ldGFSZXBvc2l0b3J5UGx1Z2luLmluc3RhbnRpYXRlKAogICAgICAgICAg\nICBNZXRhRGF0YVJlcG9zaXRvcnkuY2xhc3MsIHRoaXMpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25Vc2VyTmFtZShTdHJpbmcgY29u\nbmVjdGlvblVzZXJOYW1lKSB7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uVXNl\nck5hbWUuc2V0U3RyaW5nKGNvbm5lY3Rpb25Vc2VyTmFtZSk7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uVXNlck5hbWUoKSB7CiAg\nICAgICAgcmV0dXJuIGNvbm5lY3Rpb25Vc2VyTmFtZS5nZXRTdHJpbmcoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uUGFzc3dvcmQo\nU3RyaW5nIGNvbm5lY3Rpb25QYXNzd29yZCkgewogICAgICAgIHRoaXMuY29u\nbmVjdGlvblBhc3N3b3JkLnNldFN0cmluZyhjb25uZWN0aW9uUGFzc3dvcmQp\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvblBhc3N3\nb3JkKCkgewogICAgCUVuY3J5cHRpb25Qcm92aWRlciBwID0gZ2V0RW5jcnlw\ndGlvblByb3ZpZGVyKCk7CiAgICAJaWYocCAhPSBudWxsKSB7CiAgICAJCXJl\ndHVybiBwLmRlY3J5cHQoY29ubmVjdGlvblBhc3N3b3JkLmdldFN0cmluZygp\nKTsKICAgIAl9CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25QYXNzd29yZC5n\nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0\naW9uVVJMKFN0cmluZyBjb25uZWN0aW9uVVJMKSB7CiAgICAgICAgdGhpcy5j\nb25uZWN0aW9uVVJMLnNldFN0cmluZyhjb25uZWN0aW9uVVJMKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb25VUkwoKSB7CiAgICAg\nICAgcmV0dXJuIGNvbm5lY3Rpb25VUkwuZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkRyaXZlck5hbWUoU3RyaW5n\nIGRyaXZlck5hbWUpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25Ecml2ZXJO\nYW1lLnNldFN0cmluZyhkcml2ZXJOYW1lKTsKICAgIH0KCiAgICBwdWJsaWMg\nU3RyaW5nIGdldENvbm5lY3Rpb25Ecml2ZXJOYW1lKCkgewogICAgICAgIHJl\ndHVybiBjb25uZWN0aW9uRHJpdmVyTmFtZS5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uUHJvcGVydGllcyhTdHJp\nbmcgY29ubmVjdGlvblByb3BlcnRpZXMpIHsKICAgICAgICB0aGlzLmNvbm5l\nY3Rpb25Qcm9wZXJ0aWVzLnNldFN0cmluZyhjb25uZWN0aW9uUHJvcGVydGll\ncyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uUHJv\ncGVydGllcygpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvblByb3BlcnRp\nZXMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29u\nbmVjdGlvbkZhY3RvcnlQcm9wZXJ0aWVzKAogICAgICAgIFN0cmluZyBjb25u\nZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMpIHsKICAgICAgICB0aGlzLmNvbm5l\nY3Rpb25GYWN0b3J5UHJvcGVydGllcy5zZXRTdHJpbmcoY29ubmVjdGlvbkZh\nY3RvcnlQcm9wZXJ0aWVzKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndENvbm5lY3Rpb25GYWN0b3J5UHJvcGVydGllcygpIHsKICAgICAgICByZXR1\ncm4gY29ubmVjdGlvbkZhY3RvcnlQcm9wZXJ0aWVzLmdldFN0cmluZygpOwog\nICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbkZhY3RvcnlN\nb2RlKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9yeU1vZGUu\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVj\ndGlvbkZhY3RvcnlNb2RlKFN0cmluZyBtb2RlKSB7CiAgICAgICAgY29ubmVj\ndGlvbkZhY3RvcnlNb2RlLnNldFN0cmluZyhtb2RlKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBpc0Nvbm5lY3Rpb25GYWN0b3J5TW9kZU1hbmFnZWQo\nKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5TW9kZS5nZXQo\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRmFjdG9y\neU1vZGVNYW5hZ2VkKGJvb2xlYW4gbWFuYWdlZCkgewogICAgICAgIGNvbm5l\nY3Rpb25GYWN0b3J5TW9kZS5zZXQobWFuYWdlZCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3RvcnlOYW1lKFN0cmluZyBjb25u\nZWN0aW9uRmFjdG9yeU5hbWUpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25G\nYWN0b3J5TmFtZS5zZXRTdHJpbmcoY29ubmVjdGlvbkZhY3RvcnlOYW1lKTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb25GYWN0b3J5\nTmFtZSgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnlOYW1l\nLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5l\nY3Rpb25GYWN0b3J5KE9iamVjdCBmYWN0b3J5KSB7CiAgICAgICAgY29ubmVj\ndGlvbkZhY3Rvcnkuc2V0KGZhY3RvcnkpOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgZ2V0Q29ubmVjdGlvbkZhY3RvcnkoKSB7CiAgICAgICAgaWYgKGNv\nbm5lY3Rpb25GYWN0b3J5LmdldCgpID09IG51bGwpCiAgICAgICAgICAgIGNv\nbm5lY3Rpb25GYWN0b3J5LnNldCgKICAgICAgICAgICAgICAgIGxvb2t1cENv\nbm5lY3Rpb25GYWN0b3J5KGdldENvbm5lY3Rpb25GYWN0b3J5TmFtZSgpLAog\nICAgICAgICAgICAgICAgCQljb25uZWN0aW9uRmFjdG9yeS5nZXRQcm9wZXJ0\neSgpKSwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5\nLmdldCgpOwogICAgfQoKICAgIC8qKgogICAgICogTG9va3VwIHRoZSBjb25u\nZWN0aW9uIGZhY3RvcnkgYXQgdGhlIGdpdmVuIG5hbWUuCiAgICAgKi8KICAg\nIHByaXZhdGUgT2JqZWN0IGxvb2t1cENvbm5lY3Rpb25GYWN0b3J5KFN0cmlu\nZyBuYW1lLCBTdHJpbmcgdXNlcktleSkgewogICAgICAgIG5hbWUgPSBTdHJp\nbmdVdGlscy50cmltVG9OdWxsKG5hbWUpOwogICAgICAgIGlmIChuYW1lID09\nIG51bGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIHRyeSB7\nCiAgICAgICAgCXJldHVybiBDb25maWd1cmF0aW9ucy5sb29rdXAobmFtZSwg\ndXNlcktleSwKICAgICAgICAJCQlnZXRMb2coT3BlbkpQQUNvbmZpZ3VyYXRp\nb24uTE9HX1JVTlRJTUUpKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24g\nZXgpIHsKICAgICAgICAJcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb24yVXNlck5hbWUoU3RyaW5n\nIGNvbm5lY3Rpb24yVXNlck5hbWUpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rp\nb24yVXNlck5hbWUuc2V0U3RyaW5nKGNvbm5lY3Rpb24yVXNlck5hbWUpOwog\nICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbjJVc2VyTmFt\nZSgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbjJVc2VyTmFtZS5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9u\nMlBhc3N3b3JkKFN0cmluZyBjb25uZWN0aW9uMlBhc3N3b3JkKSB7CiAgICAg\nICAgdGhpcy5jb25uZWN0aW9uMlBhc3N3b3JkLnNldFN0cmluZyhjb25uZWN0\naW9uMlBhc3N3b3JkKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENv\nbm5lY3Rpb24yUGFzc3dvcmQoKSB7CiAgICAJRW5jcnlwdGlvblByb3ZpZGVy\nIHAgPSBnZXRFbmNyeXB0aW9uUHJvdmlkZXIoKTsKICAgIAlpZihwICE9IG51\nbGwpewogICAgCQlyZXR1cm4gcC5kZWNyeXB0KGNvbm5lY3Rpb24yUGFzc3dv\ncmQuZ2V0U3RyaW5nKCkpOwogICAgCX0KICAgICAgICByZXR1cm4gY29ubmVj\ndGlvbjJQYXNzd29yZC5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRDb25uZWN0aW9uMlVSTChTdHJpbmcgY29ubmVjdGlvbjJVUkwp\nIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb24yVVJMLnNldFN0cmluZyhjb25u\nZWN0aW9uMlVSTCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25u\nZWN0aW9uMlVSTCgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbjJVUkwu\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVj\ndGlvbjJEcml2ZXJOYW1lKFN0cmluZyBkcml2ZXJOYW1lKSB7CiAgICAgICAg\ndGhpcy5jb25uZWN0aW9uMkRyaXZlck5hbWUuc2V0U3RyaW5nKGRyaXZlck5h\nbWUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbjJE\ncml2ZXJOYW1lKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uMkRyaXZl\nck5hbWUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nQ29ubmVjdGlvbjJQcm9wZXJ0aWVzKFN0cmluZyBjb25uZWN0aW9uMlByb3Bl\ncnRpZXMpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb24yUHJvcGVydGllcy5z\nZXRTdHJpbmcoY29ubmVjdGlvbjJQcm9wZXJ0aWVzKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb24yUHJvcGVydGllcygpIHsKICAg\nICAgICByZXR1cm4gY29ubmVjdGlvbjJQcm9wZXJ0aWVzLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25GYWN0b3J5\nMlByb3BlcnRpZXMoCiAgICAgICAgU3RyaW5nIGNvbm5lY3Rpb25GYWN0b3J5\nMlByb3BlcnRpZXMpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25GYWN0b3J5\nMlByb3BlcnRpZXMKICAgICAgICAgICAgLnNldFN0cmluZyhjb25uZWN0aW9u\nRmFjdG9yeTJQcm9wZXJ0aWVzKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIGdldENvbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMoKSB7CiAgICAgICAg\ncmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMuZ2V0U3RyaW5n\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3Rv\ncnkyTmFtZShTdHJpbmcgY29ubmVjdGlvbkZhY3RvcnkyTmFtZSkgewogICAg\nICAgIHRoaXMuY29ubmVjdGlvbkZhY3RvcnkyTmFtZS5zZXRTdHJpbmcoY29u\nbmVjdGlvbkZhY3RvcnkyTmFtZSk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXRDb25uZWN0aW9uRmFjdG9yeTJOYW1lKCkgewogICAgICAgIHJldHVy\nbiBjb25uZWN0aW9uRmFjdG9yeTJOYW1lLmdldFN0cmluZygpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25GYWN0b3J5MihPYmplY3Qg\nZmFjdG9yeSkgewogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXQoZmFj\ndG9yeSk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRDb25uZWN0aW9u\nRmFjdG9yeTIoKSB7CiAgICAgICAgaWYgKGNvbm5lY3Rpb25GYWN0b3J5Mi5n\nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBjb25uZWN0aW9uRmFjdG9yeTIu\nc2V0KAogICAgICAgICAgICAgICAgbG9va3VwQ29ubmVjdGlvbkZhY3Rvcnko\nZ2V0Q29ubmVjdGlvbkZhY3RvcnkyTmFtZSgpLCAKICAgICAgICAgICAgICAg\nIAkJY29ubmVjdGlvbkZhY3RvcnkyLmdldFByb3BlcnR5KCkpLCBmYWxzZSk7\nCiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5Mi5nZXQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRPcHRpbWlzdGljKGJvb2xlYW4gb3B0\naW1pc3RpYykgewogICAgICAgIHRoaXMub3B0aW1pc3RpYy5zZXQob3B0aW1p\nc3RpYyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0T3B0aW1pc3RpYyhC\nb29sZWFuIG9wdGltaXN0aWMpIHsKICAgICAgICBpZiAob3B0aW1pc3RpYyAh\nPSBudWxsKQogICAgICAgICAgICBzZXRPcHRpbWlzdGljKG9wdGltaXN0aWMu\nYm9vbGVhblZhbHVlKCkpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdl\ndE9wdGltaXN0aWMoKSB7CiAgICAgICAgcmV0dXJuIG9wdGltaXN0aWMuZ2V0\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QXV0b0NsZWFyKFN0cmlu\nZyBjbGVhcikgewogICAgICAgIGF1dG9DbGVhci5zZXRTdHJpbmcoY2xlYXIp\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0QXV0b0NsZWFyKCkgewog\nICAgICAgIHJldHVybiBhdXRvQ2xlYXIuZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0QXV0b0NsZWFyKGludCBjbGVhcikgewogICAg\nICAgIGF1dG9DbGVhci5zZXQoY2xlYXIpOwogICAgfQoKICAgIHB1YmxpYyBp\nbnQgZ2V0QXV0b0NsZWFyQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIGF1\ndG9DbGVhci5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSZXRh\naW5TdGF0ZShib29sZWFuIHJldGFpblN0YXRlKSB7CiAgICAgICAgdGhpcy5y\nZXRhaW5TdGF0ZS5zZXQocmV0YWluU3RhdGUpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFJldGFpblN0YXRlKEJvb2xlYW4gcmV0YWluU3RhdGUpIHsK\nICAgICAgICBpZiAocmV0YWluU3RhdGUgIT0gbnVsbCkKICAgICAgICAgICAg\nc2V0UmV0YWluU3RhdGUocmV0YWluU3RhdGUuYm9vbGVhblZhbHVlKCkpOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldFJldGFpblN0YXRlKCkgewog\nICAgICAgIHJldHVybiByZXRhaW5TdGF0ZS5nZXQoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRSZXN0b3JlU3RhdGUoU3RyaW5nIHJlc3RvcmVTdGF0\nZSkgewogICAgICAgIHRoaXMucmVzdG9yZVN0YXRlLnNldFN0cmluZyhyZXN0\nb3JlU3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVzdG9y\nZVN0YXRlKCkgewogICAgICAgIHJldHVybiByZXN0b3JlU3RhdGUuZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVzdG9yZVN0YXRl\nKGludCByZXN0b3JlU3RhdGUpIHsKICAgICAgICB0aGlzLnJlc3RvcmVTdGF0\nZS5zZXQocmVzdG9yZVN0YXRlKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdl\ndFJlc3RvcmVTdGF0ZUNvbnN0YW50KCkgewogICAgICAgIHJldHVybiByZXN0\nb3JlU3RhdGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QXV0\nb0RldGFjaChTdHJpbmcgYXV0b0RldGFjaCkgewogICAgICAgIHRoaXMuYXV0\nb0RldGFjaC5zZXRTdHJpbmcoYXV0b0RldGFjaCk7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyBnZXRBdXRvRGV0YWNoKCkgewogICAgICAgIHJldHVybiBh\ndXRvRGV0YWNoLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldEF1dG9EZXRhY2goaW50IGF1dG9EZXRhY2hGbGFncykgewogICAgICAg\nIGF1dG9EZXRhY2guc2V0Q29uc3RhbnQoYXV0b0RldGFjaEZsYWdzKTsKICAg\nIH0KCiAgICBwdWJsaWMgaW50IGdldEF1dG9EZXRhY2hDb25zdGFudCgpIHsK\nICAgICAgICByZXR1cm4gYXV0b0RldGFjaC5nZXRDb25zdGFudCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldERldGFjaFN0YXRlKFN0cmluZyBkZXRh\nY2hTdGF0ZSkgewogICAgICAgIGRldGFjaFN0YXRlUGx1Z2luLnNldFN0cmlu\nZyhkZXRhY2hTdGF0ZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRE\nZXRhY2hTdGF0ZSgpIHsKICAgICAgICByZXR1cm4gZGV0YWNoU3RhdGVQbHVn\naW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RGV0\nYWNoU3RhdGUoRGV0YWNoT3B0aW9ucyBkZXRhY2hTdGF0ZSkgewogICAgICAg\nIGRldGFjaFN0YXRlUGx1Z2luLnNldChkZXRhY2hTdGF0ZSk7CiAgICB9Cgog\nICAgcHVibGljIERldGFjaE9wdGlvbnMgZ2V0RGV0YWNoU3RhdGVJbnN0YW5j\nZSgpIHsKICAgICAgICBpZiAoZGV0YWNoU3RhdGVQbHVnaW4uZ2V0KCkgPT0g\nbnVsbCkKICAgICAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uaW5zdGFudGlh\ndGUoRGV0YWNoT3B0aW9ucy5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJu\nIChEZXRhY2hPcHRpb25zKSBkZXRhY2hTdGF0ZVBsdWdpbi5nZXQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJZ25vcmVDaGFuZ2VzKGJvb2xlYW4g\naWdub3JlQ2hhbmdlcykgewogICAgICAgIHRoaXMuaWdub3JlQ2hhbmdlcy5z\nZXQoaWdub3JlQ2hhbmdlcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nSWdub3JlQ2hhbmdlcyhCb29sZWFuIGlnbm9yZUNoYW5nZXMpIHsKICAgICAg\nICBpZiAoaWdub3JlQ2hhbmdlcyAhPSBudWxsKQogICAgICAgICAgICBzZXRJ\nZ25vcmVDaGFuZ2VzKGlnbm9yZUNoYW5nZXMuYm9vbGVhblZhbHVlKCkpOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldElnbm9yZUNoYW5nZXMoKSB7\nCiAgICAgICAgcmV0dXJuIGlnbm9yZUNoYW5nZXMuZ2V0KCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0Tm9udHJhbnNhY3Rpb25hbFJlYWQoYm9vbGVh\nbiBub250cmFuc2FjdGlvbmFsUmVhZCkgewogICAgICAgIHRoaXMubm9udHJh\nbnNhY3Rpb25hbFJlYWQuc2V0KG5vbnRyYW5zYWN0aW9uYWxSZWFkKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROb250cmFuc2FjdGlvbmFsUmVhZChC\nb29sZWFuIG5vbnRyYW5zYWN0aW9uYWxSZWFkKSB7CiAgICAgICAgaWYgKG5v\nbnRyYW5zYWN0aW9uYWxSZWFkICE9IG51bGwpCiAgICAgICAgICAgIHNldE5v\nbnRyYW5zYWN0aW9uYWxSZWFkKG5vbnRyYW5zYWN0aW9uYWxSZWFkLmJvb2xl\nYW5WYWx1ZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXROb250\ncmFuc2FjdGlvbmFsUmVhZCgpIHsKICAgICAgICByZXR1cm4gbm9udHJhbnNh\nY3Rpb25hbFJlYWQuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nTm9udHJhbnNhY3Rpb25hbFdyaXRlKGJvb2xlYW4gbm9udHJhbnNhY3Rpb25h\nbFdyaXRlKSB7CiAgICAgICAgdGhpcy5ub250cmFuc2FjdGlvbmFsV3JpdGUu\nc2V0KG5vbnRyYW5zYWN0aW9uYWxXcml0ZSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0Tm9udHJhbnNhY3Rpb25hbFdyaXRlKEJvb2xlYW4gbm9udHJh\nbnNhY3Rpb25hbFdyaXRlKSB7CiAgICAgICAgaWYgKG5vbnRyYW5zYWN0aW9u\nYWxXcml0ZSAhPSBudWxsKQogICAgICAgICAgICBzZXROb250cmFuc2FjdGlv\nbmFsV3JpdGUobm9udHJhbnNhY3Rpb25hbFdyaXRlLmJvb2xlYW5WYWx1ZSgp\nKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXROb250cmFuc2FjdGlv\nbmFsV3JpdGUoKSB7CiAgICAgICAgcmV0dXJuIG5vbnRyYW5zYWN0aW9uYWxX\ncml0ZS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNdWx0aXRo\ncmVhZGVkKGJvb2xlYW4gbXVsdGl0aHJlYWRlZCkgewogICAgICAgIHRoaXMu\nbXVsdGl0aHJlYWRlZC5zZXQobXVsdGl0aHJlYWRlZCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0TXVsdGl0aHJlYWRlZChCb29sZWFuIG11bHRpdGhy\nZWFkZWQpIHsKICAgICAgICBpZiAobXVsdGl0aHJlYWRlZCAhPSBudWxsKQog\nICAgICAgICAgICBzZXRNdWx0aXRocmVhZGVkKG11bHRpdGhyZWFkZWQuYm9v\nbGVhblZhbHVlKCkpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldE11\nbHRpdGhyZWFkZWQoKSB7CiAgICAgICAgcmV0dXJuIG11bHRpdGhyZWFkZWQu\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RmV0Y2hCYXRjaFNp\nemUoaW50IGZldGNoQmF0Y2hTaXplKSB7CiAgICAgICAgdGhpcy5mZXRjaEJh\ndGNoU2l6ZS5zZXQoZmV0Y2hCYXRjaFNpemUpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldEZldGNoQmF0Y2hTaXplKEludGVnZXIgZmV0Y2hCYXRjaFNp\nemUpIHsKICAgICAgICBpZiAoZmV0Y2hCYXRjaFNpemUgIT0gbnVsbCkKICAg\nICAgICAgICAgc2V0RmV0Y2hCYXRjaFNpemUoZmV0Y2hCYXRjaFNpemUuaW50\nVmFsdWUoKSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRGZXRjaEJhdGNo\nU2l6ZSgpIHsKICAgICAgICByZXR1cm4gZmV0Y2hCYXRjaFNpemUuZ2V0KCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWF4RmV0Y2hEZXB0aChpbnQg\nbWF4RmV0Y2hEZXB0aCkgewogICAgICAgIHRoaXMubWF4RmV0Y2hEZXB0aC5z\nZXQobWF4RmV0Y2hEZXB0aCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nTWF4RmV0Y2hEZXB0aChJbnRlZ2VyIG1heEZldGNoRGVwdGgpIHsKICAgICAg\nICBpZiAobWF4RmV0Y2hEZXB0aCAhPSBudWxsKQogICAgICAgICAgICBzZXRN\nYXhGZXRjaERlcHRoKG1heEZldGNoRGVwdGguaW50VmFsdWUoKSk7CiAgICB9\nCgogICAgcHVibGljIGludCBnZXRNYXhGZXRjaERlcHRoKCkgewogICAgICAg\nIHJldHVybiBtYXhGZXRjaERlcHRoLmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldEZldGNoR3JvdXBzKFN0cmluZyBmZXRjaEdyb3Vwcykgewog\nICAgICAgIHRoaXMuZmV0Y2hHcm91cHMuc2V0U3RyaW5nKGZldGNoR3JvdXBz\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEZldGNoR3JvdXBzKCkg\newogICAgICAgIHJldHVybiBmZXRjaEdyb3Vwcy5nZXRTdHJpbmcoKTsKICAg\nIH0KCiAgICBwdWJsaWMgU3RyaW5nW10gZ2V0RmV0Y2hHcm91cHNMaXN0KCkg\newogICAgICAgIHJldHVybiBmZXRjaEdyb3Vwcy5nZXQoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRGZXRjaEdyb3VwcyhTdHJpbmdbXSBmZXRjaEdy\nb3VwcykgewogICAgICAgIHRoaXMuZmV0Y2hHcm91cHMuc2V0KGZldGNoR3Jv\ndXBzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGbHVzaEJlZm9yZVF1\nZXJpZXMoU3RyaW5nIGZsdXNoKSB7CiAgICAgICAgZmx1c2hCZWZvcmVRdWVy\naWVzLnNldFN0cmluZyhmbHVzaCk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXRGbHVzaEJlZm9yZVF1ZXJpZXMoKSB7CiAgICAgICAgcmV0dXJuIGZs\ndXNoQmVmb3JlUXVlcmllcy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRGbHVzaEJlZm9yZVF1ZXJpZXMoaW50IGZsdXNoKSB7CiAg\nICAgICAgZmx1c2hCZWZvcmVRdWVyaWVzLnNldChmbHVzaCk7CiAgICB9Cgog\nICAgcHVibGljIGludCBnZXRGbHVzaEJlZm9yZVF1ZXJpZXNDb25zdGFudCgp\nIHsKICAgICAgICByZXR1cm4gZmx1c2hCZWZvcmVRdWVyaWVzLmdldCgpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExvY2tUaW1lb3V0KGludCB0aW1l\nb3V0KSB7CiAgICAgICAgbG9ja1RpbWVvdXQuc2V0KHRpbWVvdXQpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldExvY2tUaW1lb3V0KEludGVnZXIgdGlt\nZW91dCkgewogICAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpCiAgICAgICAg\nICAgIHNldExvY2tUaW1lb3V0KHRpbWVvdXQuaW50VmFsdWUoKSk7CiAgICB9\nCgogICAgcHVibGljIGludCBnZXRMb2NrVGltZW91dCgpIHsKICAgICAgICBy\nZXR1cm4gbG9ja1RpbWVvdXQuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIGlu\ndCBnZXRRdWVyeVRpbWVvdXQoKSB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5VGlt\nZW91dC5nZXQoKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgc2V0UXVl\ncnlUaW1lb3V0KGludCB0aW1lb3V0KSB7CiAgICAgICAgIHF1ZXJ5VGltZW91\ndC5zZXQodGltZW91dCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVh\nZExvY2tMZXZlbChTdHJpbmcgbGV2ZWwpIHsKICAgICAgICByZWFkTG9ja0xl\ndmVsLnNldFN0cmluZyhsZXZlbCk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXRSZWFkTG9ja0xldmVsKCkgewogICAgICAgIHJldHVybiByZWFkTG9j\na0xldmVsLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFJlYWRMb2NrTGV2ZWwoaW50IGxldmVsKSB7CiAgICAgICAgcmVhZExvY2tM\nZXZlbC5zZXQobGV2ZWwpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0UmVh\nZExvY2tMZXZlbENvbnN0YW50KCkgewogICAgICAgIHJldHVybiByZWFkTG9j\na0xldmVsLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFdyaXRl\nTG9ja0xldmVsKFN0cmluZyBsZXZlbCkgewogICAgICAgIHdyaXRlTG9ja0xl\ndmVsLnNldFN0cmluZyhsZXZlbCk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXRXcml0ZUxvY2tMZXZlbCgpIHsKICAgICAgICByZXR1cm4gd3JpdGVM\nb2NrTGV2ZWwuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0V3JpdGVMb2NrTGV2ZWwoaW50IGxldmVsKSB7CiAgICAgICAgd3JpdGVM\nb2NrTGV2ZWwuc2V0KGxldmVsKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdl\ndFdyaXRlTG9ja0xldmVsQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIHdy\naXRlTG9ja0xldmVsLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFNlcXVlbmNlKFN0cmluZyBzZXF1ZW5jZSkgewogICAgICAgIHNlcVBsdWdp\nbi5zZXRTdHJpbmcoc2VxdWVuY2UpOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0U2VxdWVuY2UoKSB7CiAgICAgICAgcmV0dXJuIHNlcVBsdWdpbi5n\nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTZXF1ZW5j\nZShTZXEgc2VxKSB7CiAgICAgICAgc2VxUGx1Z2luLnNldChzZXEpOwogICAg\nfQoKICAgIHB1YmxpYyBTZXEgZ2V0U2VxdWVuY2VJbnN0YW5jZSgpIHsKICAg\nICAgICBpZiAoc2VxUGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAg\nIHNlcVBsdWdpbi5pbnN0YW50aWF0ZShTZXEuY2xhc3MsIHRoaXMpOwogICAg\nICAgIHJldHVybiAoU2VxKSBzZXFQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0Q29ubmVjdGlvblJldGFpbk1vZGUoU3RyaW5nIGNv\nbm5lY3Rpb25SZXRhaW5Nb2RlKSB7CiAgICAgICAgdGhpcy5jb25uZWN0aW9u\nUmV0YWluTW9kZS5zZXRTdHJpbmcoY29ubmVjdGlvblJldGFpbk1vZGUpOwog\nICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvblJldGFpbk1v\nZGUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25SZXRhaW5Nb2RlLmdl\ndFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rp\nb25SZXRhaW5Nb2RlKGludCBjb25uZWN0aW9uUmV0YWluTW9kZSkgewogICAg\nICAgIHRoaXMuY29ubmVjdGlvblJldGFpbk1vZGUuc2V0KGNvbm5lY3Rpb25S\nZXRhaW5Nb2RlKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldENvbm5lY3Rp\nb25SZXRhaW5Nb2RlQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5l\nY3Rpb25SZXRhaW5Nb2RlLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldEZpbHRlckxpc3RlbmVycyhTdHJpbmcgZmlsdGVyTGlzdGVuZXJzKSB7\nCiAgICAgICAgZmlsdGVyTGlzdGVuZXJQbHVnaW5zLnNldFN0cmluZyhmaWx0\nZXJMaXN0ZW5lcnMpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Rmls\ndGVyTGlzdGVuZXJzKCkgewogICAgICAgIHJldHVybiBmaWx0ZXJMaXN0ZW5l\nclBsdWdpbnMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0RmlsdGVyTGlzdGVuZXJzKEZpbHRlckxpc3RlbmVyW10gbGlzdGVuZXJz\nKSB7CiAgICAgICAgZmlsdGVyTGlzdGVuZXJQbHVnaW5zLnNldChsaXN0ZW5l\ncnMpOwogICAgfQoKICAgIHB1YmxpYyBGaWx0ZXJMaXN0ZW5lcltdIGdldEZp\nbHRlckxpc3RlbmVySW5zdGFuY2VzKCkgewogICAgICAgIGlmIChmaWx0ZXJM\naXN0ZW5lclBsdWdpbnMuZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgZmls\ndGVyTGlzdGVuZXJQbHVnaW5zLmluc3RhbnRpYXRlKEZpbHRlckxpc3RlbmVy\nLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKEZpbHRlckxpc3RlbmVy\nW10pIGZpbHRlckxpc3RlbmVyUGx1Z2lucy5nZXQoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRBZ2dyZWdhdGVMaXN0ZW5lcnMoU3RyaW5nIGFnZ3Jl\nZ2F0ZUxpc3RlbmVycykgewogICAgICAgIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1\nZ2lucy5zZXRTdHJpbmcoYWdncmVnYXRlTGlzdGVuZXJzKTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nIGdldEFnZ3JlZ2F0ZUxpc3RlbmVycygpIHsKICAg\nICAgICByZXR1cm4gYWdncmVnYXRlTGlzdGVuZXJQbHVnaW5zLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEFnZ3JlZ2F0ZUxpc3Rl\nbmVycyhBZ2dyZWdhdGVMaXN0ZW5lcltdIGxpc3RlbmVycykgewogICAgICAg\nIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucy5zZXQobGlzdGVuZXJzKTsKICAg\nIH0KCiAgICBwdWJsaWMgQWdncmVnYXRlTGlzdGVuZXJbXSBnZXRBZ2dyZWdh\ndGVMaXN0ZW5lckluc3RhbmNlcygpIHsKICAgICAgICBpZiAoYWdncmVnYXRl\nTGlzdGVuZXJQbHVnaW5zLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIGFn\nZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucy5pbnN0YW50aWF0ZShBZ2dyZWdhdGVM\naXN0ZW5lci5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChBZ2dyZWdh\ndGVMaXN0ZW5lcltdKSBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnMuZ2V0KCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmV0cnlDbGFzc1JlZ2lzdHJh\ndGlvbihib29sZWFuIHJldHJ5KSB7CiAgICAgICAgcmV0cnlDbGFzc1JlZ2lz\ndHJhdGlvbi5zZXQocmV0cnkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFJldHJ5Q2xhc3NSZWdpc3RyYXRpb24oQm9vbGVhbiByZXRyeSkgewogICAg\nICAgIGlmIChyZXRyeSAhPSBudWxsKQogICAgICAgICAgICBzZXRSZXRyeUNs\nYXNzUmVnaXN0cmF0aW9uKHJldHJ5LmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRSZXRyeUNsYXNzUmVnaXN0cmF0aW9u\nKCkgewogICAgICAgIHJldHVybiByZXRyeUNsYXNzUmVnaXN0cmF0aW9uLmdl\ndCgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29tcGF0aWJpbGl0\neSgpIHsKICAgICAgICByZXR1cm4gY29tcGF0aWJpbGl0eVBsdWdpbi5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb21wYXRpYmls\naXR5KFN0cmluZyBjb21wYXRpYmlsaXR5KSB7CiAgICAgICAgY29tcGF0aWJp\nbGl0eVBsdWdpbi5zZXRTdHJpbmcoY29tcGF0aWJpbGl0eSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBJZiBhIENvbXBhdGliaWxpdHkgaW5zdGFuY2UgaXMg\nYXNzb2NpYXRlZCB3aXRoIHRoZSBTcGVjaWZpY2F0aW9uLCAKICAgICAqIHdl\nIHdpbGwgY29uZmlndXJlIHRoaXMgQ29tcGF0aWJpbGl0eSBpbnN0YW5jZSBp\nbnN0ZWFkIG9mIGluc3RhbnRpYXRpbmcgYSAKICAgICAqIG5ldyBvbmUgc28g\ndGhhdCB0aGUgY29tcGF0aWJpbGl0eSBmbGFncyBzZXQgaW4gY29tcGxpYW5j\nZSB3aXRoIHRoZSAKICAgICAqIFNwZWNpZmljYXRpb24gY2FuIGJlIHByZXNl\ncnZlZC4KICAgICAqLwogICAgcHVibGljIENvbXBhdGliaWxpdHkgZ2V0Q29t\ncGF0aWJpbGl0eUluc3RhbmNlKCkgewogICAgICAgIGlmIChjb21wYXRpYmls\naXR5UGx1Z2luLmdldCgpID09IG51bGwpIHsKICAgICAgICAgICAgU3BlY2lm\naWNhdGlvbiBzcGVjID0gZ2V0U3BlY2lmaWNhdGlvbkluc3RhbmNlKCk7CiAg\nICAgICAgICAgIENvbXBhdGliaWxpdHkgY29tcCA9IHNwZWMgIT0gbnVsbCA/\nIHNwZWMuZ2V0Q29tcGF0aWJpbGl0eSgpIDogbnVsbDsKICAgICAgICAgICAg\naWYgKGNvbXAgPT0gbnVsbCkKICAgICAgICAgICAgICAgIGNvbXBhdGliaWxp\ndHlQbHVnaW4uaW5zdGFudGlhdGUoQ29tcGF0aWJpbGl0eS5jbGFzcywgdGhp\ncyk7CiAgICAgICAgICAgIGVsc2UgCiAgICAgICAgICAgICAgICBjb21wYXRp\nYmlsaXR5UGx1Z2luLmNvbmZpZ3VyZShjb21wLCB0aGlzKTsKICAgICAgICB9\nCiAgICAgICAgcmV0dXJuIChDb21wYXRpYmlsaXR5KSBjb21wYXRpYmlsaXR5\nUGx1Z2luLmdldCgpOwogICAgfQogICAgCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndENhbGxiYWNrT3B0aW9ucygpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2tQ\nbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lk\nIHNldENhbGxiYWNrT3B0aW9ucyhTdHJpbmcgb3B0aW9ucykgewogICAgICAg\nIGNhbGxiYWNrUGx1Z2luLnNldFN0cmluZyhvcHRpb25zKTsKICAgIH0KICAg\nIAogICAgcHVibGljIENhbGxiYWNrT3B0aW9ucyBnZXRDYWxsYmFja09wdGlv\nbnNJbnN0YW5jZSgpIHsKICAgICAgICBpZiAoY2FsbGJhY2tQbHVnaW4uZ2V0\nKCkgPT0gbnVsbCkKICAgICAgICAgICAgY2FsbGJhY2tQbHVnaW4uaW5zdGFu\ndGlhdGUoQ2FsbGJhY2tPcHRpb25zLmNsYXNzLCB0aGlzKTsKICAgICAgICBy\nZXR1cm4gKENhbGxiYWNrT3B0aW9ucykgY2FsbGJhY2tQbHVnaW4uZ2V0KCk7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRRdWVyeUNvbXBpbGF0aW9u\nQ2FjaGUoKSB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5Q29tcGlsYXRpb25DYWNo\nZVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRRdWVyeUNvbXBpbGF0aW9uQ2FjaGUoU3RyaW5nIHF1ZXJ5Q29tcGlsYXRp\nb25DYWNoZSkgewogICAgICAgIHF1ZXJ5Q29tcGlsYXRpb25DYWNoZVBsdWdp\nbi5zZXRTdHJpbmcocXVlcnlDb21waWxhdGlvbkNhY2hlKTsKICAgIH0KICAg\nIAogICAgcHVibGljIE1hcCBnZXRRdWVyeUNvbXBpbGF0aW9uQ2FjaGVJbnN0\nYW5jZSgpIHsKICAgICAgICBpZiAocXVlcnlDb21waWxhdGlvbkNhY2hlUGx1\nZ2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIHF1ZXJ5Q29tcGlsYXRp\nb25DYWNoZVBsdWdpbi5pbnN0YW50aWF0ZShNYXAuY2xhc3MsIHRoaXMpOwog\nICAgICAgIHJldHVybiAoTWFwKSBxdWVyeUNvbXBpbGF0aW9uQ2FjaGVQbHVn\naW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGljIFN0b3JlRmFjYWRlVHlwZVJl\nZ2lzdHJ5IGdldFN0b3JlRmFjYWRlVHlwZVJlZ2lzdHJ5KCkgewogICAgICAg\nIHJldHVybiBfc3RvcmVGYWNhZGVSZWdpc3RyeTsKICAgIH0KCiAgICBwdWJs\naWMgQnJva2VyRmFjdG9yeUV2ZW50TWFuYWdlciBnZXRCcm9rZXJGYWN0b3J5\nRXZlbnRNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBfYnJva2VyRmFjdG9y\neUV2ZW50TWFuYWdlcjsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFJ1\nbnRpbWVVbmVuaGFuY2VkQ2xhc3NlcygpIHsKICAgICAgICByZXR1cm4gcnVu\ndGltZVVuZW5oYW5jZWRDbGFzc2VzLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyBpbnQgZ2V0UnVudGltZVVuZW5oYW5jZWRDbGFzc2VzQ29uc3Rh\nbnQoKSB7CiAgICAgICAgcmV0dXJuIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nl\ncy5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSdW50aW1lVW5l\nbmhhbmNlZENsYXNzZXMoaW50IG1vZGUpIHsKICAgICAgICBydW50aW1lVW5l\nbmhhbmNlZENsYXNzZXMuc2V0KG1vZGUpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3NlcyhTdHJpbmcgbW9kZSkg\newogICAgICAgIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nlcy5zZXRTdHJpbmco\nbW9kZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDYWNoZU1hcnNo\nYWxsZXJzKCkgewogICAgICAgIHJldHVybiBjYWNoZU1hcnNoYWxsZXJQbHVn\naW5zLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENh\nY2hlTWFyc2hhbGxlcnMoU3RyaW5nIG1hcnNoYWxsZXJzKSB7CiAgICAgICAg\nY2FjaGVNYXJzaGFsbGVyUGx1Z2lucy5zZXRTdHJpbmcobWFyc2hhbGxlcnMp\nOwogICAgfQoKICAgIHB1YmxpYyBNYXAgZ2V0Q2FjaGVNYXJzaGFsbGVySW5z\ndGFuY2VzKCkgewogICAgICAgIHJldHVybiBjYWNoZU1hcnNoYWxsZXJQbHVn\naW5zLmdldEluc3RhbmNlc0FzTWFwKCk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyBib29sZWFuIGlzSW5pdGlhbGl6ZUVhZ2VybHkoKSB7CiAgICAJcmV0dXJu\nIGVhZ2VySW5pdGlhbGl6YXRpb24uZ2V0KCk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHNldEluaXRpYWxpemVFYWdlcmx5KGJvb2xlYW4gcmV0cnkp\nIHsKICAgIAllYWdlckluaXRpYWxpemF0aW9uLnNldChyZXRyeSk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0VmFsaWRhdGlvbk1vZGUoU3RyaW5nIG1v\nZGUpIHsKICAgICAgICB2YWxpZGF0aW9uTW9kZS5zZXRTdHJpbmcobW9kZSk7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRWYWxpZGF0aW9uTW9kZSgp\nIHsKICAgICAgICBTdHJpbmcgbW9kZSA9IHZhbGlkYXRpb25Nb2RlLmdldFN0\ncmluZygpOwogICAgICAgIGlmIChtb2RlID09IG51bGwpCiAgICAgICAgICAg\nIG1vZGUgPSB2YWxpZGF0aW9uTW9kZS5nZXREZWZhdWx0KCk7CiAgICAgICAg\ncmV0dXJuIG1vZGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VmFsaWRh\ndGlvbkdyb3VwUHJlUGVyc2lzdChTdHJpbmcgdmdQcmVQZXJzaXN0KSB7CiAg\nICAgICAgdmFsaWRhdGlvbkdyb3VwUHJlUGVyc2lzdC5zZXRTdHJpbmcodmdQ\ncmVQZXJzaXN0KTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFZhbGlk\nYXRpb25Hcm91cFByZVBlcnNpc3QoKSB7CiAgICAgICAgU3RyaW5nIHZnUHJl\nUGVyc2lzdCA9IHZhbGlkYXRpb25Hcm91cFByZVBlcnNpc3QuZ2V0U3RyaW5n\nKCk7CiAgICAgICAgaWYgKHZnUHJlUGVyc2lzdCA9PSBudWxsKQogICAgICAg\nICAgICB2Z1ByZVBlcnNpc3QgPSB2YWxpZGF0aW9uR3JvdXBQcmVQZXJzaXN0\nLmdldERlZmF1bHQoKTsKICAgICAgICByZXR1cm4gdmdQcmVQZXJzaXN0Owog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFZhbGlkYXRpb25Hcm91cFByZVVw\nZGF0ZShTdHJpbmcgdmdQcmVVcGRhdGUpIHsKICAgICAgICB2YWxpZGF0aW9u\nR3JvdXBQcmVVcGRhdGUuc2V0U3RyaW5nKHZnUHJlVXBkYXRlKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldFZhbGlkYXRpb25Hcm91cFByZVVwZGF0\nZSgpIHsKICAgICAgICBTdHJpbmcgdmdQcmVVcGRhdGUgPSB2YWxpZGF0aW9u\nR3JvdXBQcmVVcGRhdGUuZ2V0U3RyaW5nKCk7CiAgICAgICAgaWYgKHZnUHJl\nVXBkYXRlID09IG51bGwpCiAgICAgICAgICAgIHZnUHJlVXBkYXRlID0gdmFs\naWRhdGlvbkdyb3VwUHJlVXBkYXRlLmdldERlZmF1bHQoKTsKICAgICAgICBy\nZXR1cm4gdmdQcmVVcGRhdGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nVmFsaWRhdGlvbkdyb3VwUHJlUmVtb3ZlKFN0cmluZyB2Z1ByZVJlbW92ZSkg\newogICAgICAgIHZhbGlkYXRpb25Hcm91cFByZVJlbW92ZS5zZXRTdHJpbmco\ndmdQcmVSZW1vdmUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0VmFs\naWRhdGlvbkdyb3VwUHJlUmVtb3ZlKCkgewogICAgICAgIFN0cmluZyB2Z1By\nZVJlbW92ZSA9IHZhbGlkYXRpb25Hcm91cFByZVJlbW92ZS5nZXRTdHJpbmco\nKTsKICAgICAgICBpZiAodmdQcmVSZW1vdmUgPT0gbnVsbCkKICAgICAgICAg\nICAgdmdQcmVSZW1vdmUgPSB2YWxpZGF0aW9uR3JvdXBQcmVSZW1vdmUuZ2V0\nRGVmYXVsdCgpOwogICAgICAgIHJldHVybiB2Z1ByZVJlbW92ZTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBpbnN0YW50aWF0ZUFsbCgpIHsKICAgICAgICBz\ndXBlci5pbnN0YW50aWF0ZUFsbCgpOwogICAgICAgIGdldE1ldGFEYXRhUmVw\nb3NpdG9yeUluc3RhbmNlKCk7CiAgICAgICAgZ2V0UmVtb3RlQ29tbWl0RXZl\nbnRNYW5hZ2VyKCk7CiAgICAgICAgY2FjaGVNYXJzaGFsbGVyUGx1Z2lucy5p\nbml0aWFsaXplKCk7CiAgICAgICAgaWYgKGlzSW5pdGlhbGl6ZUVhZ2VybHko\nKSkgewogICAgICAgIAlnZXRDb25uZWN0aW9uRmFjdG9yeSgpOwogICAgICAg\nIAlnZXRDb25uZWN0aW9uRmFjdG9yeTIoKTsKICAgICAgICB9CiAgICB9Cgog\nICAgcHJvdGVjdGVkIHZvaWQgcHJlQ2xvc2UoKSB7CiAgICAgICAgSW1wbEhl\nbHBlci5jbG9zZShtZXRhUmVwb3NpdG9yeSk7CiAgICAgICAgSW1wbEhlbHBl\nci5jbG9zZShyZW1vdGVFdmVudE1hbmFnZXIpOwogICAgICAgIHN1cGVyLnBy\nZUNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIExvZyBnZXRDb25maWd1cmF0\naW9uTG9nKCkgewogICAgICAgIHJldHVybiBnZXRMb2coTE9HX1JVTlRJTUUp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCBzZXRRdWVyeVNRTENhY2hl\nKFN0cmluZyBxdWVyeVNRTENhY2hlKSB7CiAgICAgICAgcHJlcGFyZWRRdWVy\neUNhY2hlUGx1Z2luLnNldFN0cmluZyhxdWVyeVNRTENhY2hlKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgc2V0UXVlcnlTUUxDYWNoZShQcmVwYXJl\nZFF1ZXJ5Q2FjaGUgcXVlcnlTUUxDYWNoZSkgewogICAgICAgIHByZXBhcmVk\nUXVlcnlDYWNoZVBsdWdpbi5zZXQocXVlcnlTUUxDYWNoZSk7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXRRdWVyeVNRTENhY2hlKCkgewogICAgICAg\nIHJldHVybiBwcmVwYXJlZFF1ZXJ5Q2FjaGVQbHVnaW4uZ2V0U3RyaW5nKCk7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyBQcmVwYXJlZFF1ZXJ5Q2FjaGUgZ2V0\nUXVlcnlTUUxDYWNoZUluc3RhbmNlKCkgewogICAgICAgIGlmIChwcmVwYXJl\nZFF1ZXJ5Q2FjaGVQbHVnaW4gPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJu\nIG51bGw7CiAgICAgICAgCiAgICAgICAgaWYgKHByZXBhcmVkUXVlcnlDYWNo\nZVBsdWdpbi5nZXQoKSA9PSBudWxsKSB7CiAgICAgICAgICAgIHByZXBhcmVk\nUXVlcnlDYWNoZVBsdWdpbi5pbnN0YW50aWF0ZShQcmVwYXJlZFF1ZXJ5Q2Fj\naGUuY2xhc3MsCiAgICAgICAgICAgICAgICAgICAgdGhpcyk7CiAgICAgICAg\nfQogICAgICAgIHJldHVybiAoUHJlcGFyZWRRdWVyeUNhY2hlKXByZXBhcmVk\nUXVlcnlDYWNoZVBsdWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRGaW5kZXJDYWNoZShTdHJpbmcgZmluZGVyQ2FjaGUpIHsKICAgICAg\nICBmaW5kZXJDYWNoZVBsdWdpbi5zZXRTdHJpbmcoZmluZGVyQ2FjaGUpOwog\nICAgfQogICAgCiAgICBwdWJsaWMgU3RyaW5nIGdldEZpbmRlckNhY2hlKCkg\newogICAgICAgIHJldHVybiBmaW5kZXJDYWNoZVBsdWdpbi5nZXRTdHJpbmco\nKTsKICAgIH0KICAgIAogICAgcHVibGljIEZpbmRlckNhY2hlIGdldEZpbmRl\nckNhY2hlSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKGZpbmRlckNhY2hlUGx1\nZ2luLmdldCgpID09IG51bGwpIHsKICAgICAgICAgICAgZmluZGVyQ2FjaGVQ\nbHVnaW4uaW5zdGFudGlhdGUoRmluZGVyQ2FjaGUuY2xhc3MsIHRoaXMpOwog\nICAgICAgIH0KICAgICAgICByZXR1cm4gKEZpbmRlckNhY2hlKWZpbmRlckNh\nY2hlUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0\nVmFsaWRhdGlvbkZhY3RvcnlJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4g\ndmFsaWRhdGlvbkZhY3RvcnkuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0VmFsaWRhdGlvbkZhY3RvcnkoT2JqZWN0IGZhY3RvcnkpIHsKICAg\nICAgICB2YWxpZGF0aW9uRmFjdG9yeS5zZXQoZmFjdG9yeSk7ICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIAogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nZ2V0VmFsaWRhdG9ySW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIHZhbGlk\nYXRvci5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRWYWxpZGF0\nb3JJbnN0YW5jZShPYmplY3QgdmFsKSB7CiAgICAgICAgdmFsaWRhdG9yLnNl\ndCh2YWwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nIGdldExpZmVjeWNsZUV2ZW50TWFuYWdlcigpIHsK\nICAgICAgICByZXR1cm4gbGlmZWN5Y2xlRXZlbnRNYW5hZ2VyLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyBMaWZlY3ljbGVFdmVudE1hbmFnZXIg\nZ2V0TGlmZWN5Y2xlRXZlbnRNYW5hZ2VySW5zdGFuY2UoKSB7CiAgICAgICAg\nTGlmZWN5Y2xlRXZlbnRNYW5hZ2VyIGxlbSA9IChMaWZlY3ljbGVFdmVudE1h\nbmFnZXIpCiAgICAgICAgICAgIGxpZmVjeWNsZUV2ZW50TWFuYWdlci5nZXQo\nKTsKICAgICAgICBpZiAobGVtID09IG51bGwpIHsKICAgICAgICAgICAgbGVt\nID0gKExpZmVjeWNsZUV2ZW50TWFuYWdlcilsaWZlY3ljbGVFdmVudE1hbmFn\nZXIKICAgICAgICAgICAgICAgIC5pbnN0YW50aWF0ZShMaWZlY3ljbGVFdmVu\ndE1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAgICAgIH0KICAgICAgICByZXR1\ncm4gbGVtOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExpZmVjeWNsZUV2\nZW50TWFuYWdlcihTdHJpbmcgbGVtKSB7CiAgICAgICAgbGlmZWN5Y2xlRXZl\nbnRNYW5hZ2VyLnNldFN0cmluZyhsZW0pOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGdldER5bmFtaWNFbmhhbmNlbWVudEFnZW50KCkgewogICAgICAg\nIHJldHVybiBkeW5hbWljRW5oYW5jZW1lbnRBZ2VudC5nZXQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXREeW5hbWljRW5oYW5jZW1lbnRBZ2VudChi\nb29sZWFuIGR5bmFtaWMpIHsKICAgICAgICBkeW5hbWljRW5oYW5jZW1lbnRB\nZ2VudC5zZXQoZHluYW1pYyk7CiAgICB9ICAgIAoKICAgIHB1YmxpYyB2b2lk\nIHNldEVuY3J5cHRpb25Qcm92aWRlcihTdHJpbmcgcCkgewogICAgICAgIGVu\nY3J5cHRpb25Qcm92aWRlci5zZXRTdHJpbmcocCk7CiAgICB9CiAgICAKICAg\nIHB1YmxpYyBFbmNyeXB0aW9uUHJvdmlkZXIgZ2V0RW5jcnlwdGlvblByb3Zp\nZGVyKCkgewogICAgICAgIGlmIChlbmNyeXB0aW9uUHJvdmlkZXIuZ2V0KCkg\nPT0gbnVsbCkKICAgICAgICAgICAgZW5jcnlwdGlvblByb3ZpZGVyLmluc3Rh\nbnRpYXRlKEVuY3J5cHRpb25Qcm92aWRlci5jbGFzcywgdGhpcyk7CiAgICAg\nICAgcmV0dXJuIChFbmNyeXB0aW9uUHJvdmlkZXIpIGVuY3J5cHRpb25Qcm92\naWRlci5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREYXRhQ2Fj\naGVNb2RlKFN0cmluZyBtb2RlKSB7CiAgICAgICAgdGhpcy5kYXRhQ2FjaGVN\nb2RlLnNldFN0cmluZyhtb2RlKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIGdldERhdGFDYWNoZU1vZGUoKSB7CiAgICAgICAgcmV0dXJuIGRhdGFDYWNo\nZU1vZGUuZ2V0U3RyaW5nKCk7CiAgICB9CiAgICAKCiAgICBwdWJsaWMgU3Ry\naW5nIGdldENhY2hlRGlzdHJpYnV0aW9uUG9saWN5KCkgewogICAgICAgIHJl\ndHVybiBjYWNoZURpc3RyaWJ1dGlvblBvbGljeVBsdWdpbi5nZXRTdHJpbmco\nKTsKICAgIH0KCiAgICBwdWJsaWMgQ2FjaGVEaXN0cmlidXRpb25Qb2xpY3kg\nZ2V0Q2FjaGVEaXN0cmlidXRpb25Qb2xpY3lJbnN0YW5jZSgpIHsKICAgICAg\nICBDYWNoZURpc3RyaWJ1dGlvblBvbGljeSBwb2xpY3kgPSAoQ2FjaGVEaXN0\ncmlidXRpb25Qb2xpY3kpIGNhY2hlRGlzdHJpYnV0aW9uUG9saWN5UGx1Z2lu\nLmdldCgpOwogICAgICAgIGlmIChwb2xpY3kgPT0gbnVsbCkgewogICAgICAg\nICAgICBwb2xpY3kgPSAgKENhY2hlRGlzdHJpYnV0aW9uUG9saWN5KSAKICAg\nICAgICAgICAgICAgIGNhY2hlRGlzdHJpYnV0aW9uUG9saWN5UGx1Z2luLmlu\nc3RhbnRpYXRlKENhY2hlRGlzdHJpYnV0aW9uUG9saWN5LmNsYXNzLCB0aGlz\nKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBvbGljeTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRDYWNoZURpc3RyaWJ1dGlvblBvbGljeShTdHJp\nbmcgcG9saWN5UGx1Z2luKSB7CiAgICAgICAgY2FjaGVEaXN0cmlidXRpb25Q\nb2xpY3lQbHVnaW4uc2V0U3RyaW5nKHBvbGljeVBsdWdpbik7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0Q2FjaGVEaXN0cmlidXRpb25Qb2xpY3lJbnN0\nYW5jZShDYWNoZURpc3RyaWJ1dGlvblBvbGljeSBwb2xpY3kpIHsKICAgICAg\nICBjYWNoZURpc3RyaWJ1dGlvblBvbGljeVBsdWdpbi5zZXQocG9saWN5KTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRQZXJzaXN0ZW5jZUVudmlyb25t\nZW50KE1hcDxTdHJpbmcsIE9iamVjdD4gcGVNYXApIHsKICAgICAgICB0aGlz\nLl9wZU1hcCA9IHBlTWFwOwogICAgfQoKICAgIHB1YmxpYyBNYXA8U3RyaW5n\nLCBPYmplY3Q+IGdldFBlcnNpc3RlbmNlRW52aXJvbm1lbnQoKSB7CiAgICAg\nICAgcmV0dXJuIF9wZU1hcDsKICAgIH0KfQoK\n","encoding":"base64"}

