{"sha":"d136089dd8199130263bb48b023c35898561ded5","node_id":"MDQ6QmxvYjIwNjM2NDpkMTM2MDg5ZGQ4MTk5MTMwMjYzYmI0OGIwMjNjMzU4OTg1NjFkZWQ1","size":20913,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d136089dd8199130263bb48b023c35898561ded5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLk9iamVjdE91dHB1\ndDsKaW1wb3J0IGphdmEubGFuZy5yZWZsZWN0LkZpZWxkOwppbXBvcnQgamF2\nYS5sYW5nLnJlZmxlY3QuTWV0aG9kOwppbXBvcnQgamF2YS5zZWN1cml0eS5B\nY2Nlc3NDb250cm9sbGVyOwppbXBvcnQgamF2YS5zZWN1cml0eS5Qcml2aWxl\nZ2VkQWN0aW9uRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGlsLkJpdFNldDsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5QZXJzaXN0ZW5j\nZUNhcGFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5T\ndGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5j\nZS5SZWZsZWN0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51\ndGlsLkoyRG9Qcml2SGVscGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLm1ldGEuQWNjZXNzQ29kZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5t\nZXRhLkNsYXNzTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbWV0YS5GaWVsZE1ldGFEYXRhOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLm1ldGEuSmF2YVR5cGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1l\ndGEuVmFsdWVNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51\ndGlsLkdlbmVyYWxFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEudXRpbC5JbXBsSGVscGVyOwoKLyoqCiAqIFN0YXRlIG1hbmFnZXIgdXNl\nZCB0byBhY2Nlc3Mgc3RhdGUgb2YgZW1iZWRkZWQgb2JqZWN0IGlkIHByaW1h\ncnkga2V5IGZpZWxkcy4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQG5v\namF2YWRvYwogKi8KcHVibGljIGNsYXNzIE9iamVjdElkU3RhdGVNYW5hZ2Vy\nCiAgICBpbXBsZW1lbnRzIE9wZW5KUEFTdGF0ZU1hbmFnZXIgewoKICAgIHBy\naXZhdGUgc3RhdGljIGZpbmFsIEJ5dGUgWkVST19CWVRFID0gbmV3IEJ5dGUo\nKGJ5dGUpIDApOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQ2hhcmFjdGVy\nIFpFUk9fQ0hBUiA9IG5ldyBDaGFyYWN0ZXIoKGNoYXIpIDApOwogICAgcHJp\ndmF0ZSBzdGF0aWMgZmluYWwgRG91YmxlIFpFUk9fRE9VQkxFID0gbmV3IERv\ndWJsZSgwKTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIEZsb2F0IFpFUk9f\nRkxPQVQgPSBuZXcgRmxvYXQoMCk7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5h\nbCBTaG9ydCBaRVJPX1NIT1JUID0gbmV3IFNob3J0KChzaG9ydCkgMCk7Cgog\nICAgcHJpdmF0ZSBPYmplY3QgX29pZDsKICAgIHByaXZhdGUgZmluYWwgT3Bl\nbkpQQVN0YXRlTWFuYWdlciBfb3duZXI7CiAgICBwcml2YXRlIGZpbmFsIFZh\nbHVlTWV0YURhdGEgX3ZtZDsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9y\nOyBzdXBwbHkgZW1iZWRkZWQgb2JqZWN0IGlkIGFuZCBpdHMgb3duZXIuCiAg\nICAgKgogICAgICogQHBhcmFtIG93bmVyIG1heSBiZSBudWxsCiAgICAgKi8K\nICAgIHB1YmxpYyBPYmplY3RJZFN0YXRlTWFuYWdlcihPYmplY3Qgb2lkLCBP\ncGVuSlBBU3RhdGVNYW5hZ2VyIG93bmVyLAogICAgICAgIFZhbHVlTWV0YURh\ndGEgb3duZXJWYWwpIHsKICAgICAgICBfb2lkID0gb2lkOwogICAgICAgIF9v\nd25lciA9IG93bmVyOwogICAgICAgIF92bWQgPSBvd25lclZhbDsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IGdldEdlbmVyaWNDb250ZXh0KCkgewogICAg\nICAgIHJldHVybiAoX293bmVyID09IG51bGwpID8gbnVsbCA6IF9vd25lci5n\nZXRHZW5lcmljQ29udGV4dCgpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nZ2V0UENQcmltYXJ5S2V5KE9iamVjdCBvaWQsIGludCBmaWVsZCkgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyBTdGF0ZU1hbmFnZXIgcmVwbGFjZVN0YXRl\nTWFuYWdlcihTdGF0ZU1hbmFnZXIgc20pIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IGdldFZlcnNpb24oKSB7CiAgICAgICAgcmV0dXJuIG51\nbGw7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VmVyc2lvbihPYmplY3Qg\ndmVyc2lvbikgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlz\nRGlydHkoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGlzVHJhbnNhY3Rpb25hbCgpIHsKICAgICAgICByZXR1\ncm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNQZXJzaXN0\nZW50KCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBpc05ldygpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNEZWxldGVkKCkgewogICAgICAg\nIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0Rl\ndGFjaGVkKCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGlzVmVyc2lvblVwZGF0ZVJlcXVpcmVkKCkgewogICAg\nICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBp\nc1ZlcnNpb25DaGVja1JlcXVpcmVkKCkgewogICAgICAgIHJldHVybiBmYWxz\nZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBkaXJ0eShTdHJpbmcgZmllbGQp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoT2JqZWN0\nSWQoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgYWNjZXNzaW5nRmllbGQoaW50IGlkeCkgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyBib29sZWFuIHNlcmlhbGl6aW5nKCkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIHdyaXRlRGV0YWNoZWQoT2JqZWN0T3V0\ncHV0IG91dCkKICAgICAgICB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3h5RGV0YWNoZWREZXNlcmlhbGl6\nZWQoaW50IGlkeCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndHRpbmdCb29sZWFuRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQg\naWR4LAogICAgICAgIGJvb2xlYW4gY3VyLCBib29sZWFuIG5leHQsIGludCBz\nZXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nQ2hh\nckZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgY2hhciBj\ndXIsCiAgICAgICAgY2hhciBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0dGluZ0J5dGVGaWVsZChQZXJzaXN0ZW5j\nZUNhcGFibGUgcGMsIGludCBpZHgsIGJ5dGUgY3VyLAogICAgICAgIGJ5dGUg\nbmV4dCwgaW50IHNldCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldHRpbmdTaG9ydEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50\nIGlkeCwgc2hvcnQgY3VyLAogICAgICAgIHNob3J0IG5leHQsIGludCBzZXQp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nSW50Rmll\nbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBpbnQgY3VyLAog\nICAgICAgIGludCBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0dGluZ0xvbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgsIGxvbmcgY3VyLAogICAgICAgIGxvbmcgbmV4dCwg\naW50IHNldCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRp\nbmdGbG9hdEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwg\nZmxvYXQgY3VyLAogICAgICAgIGZsb2F0IG5leHQsIGludCBzZXQpIHsKICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24o\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nRG91YmxlRmllbGQo\nUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBkb3VibGUgY3VyLAog\nICAgICAgIGRvdWJsZSBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0dGluZ1N0cmluZ0ZpZWxkKFBlcnNpc3RlbmNl\nQ2FwYWJsZSBwYywgaW50IGlkeCwgU3RyaW5nIGN1ciwKICAgICAgICBTdHJp\nbmcgbmV4dCwgaW50IHNldCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldHRpbmdPYmplY3RGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMs\nIGludCBpZHgsIE9iamVjdCBjdXIsCiAgICAgICAgT2JqZWN0IG5leHQsIGlu\ndCBzZXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRl\nZEJvb2xlYW5GaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgs\nCiAgICAgICAgYm9vbGVhbiBjdXIpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBwcm92aWRlZENoYXJGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUg\ncGMsIGludCBpZHgsIGNoYXIgY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgcHJvdmlkZWRCeXRlRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxl\nIHBjLCBpbnQgaWR4LCBieXRlIGN1cikgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHByb3ZpZGVkU2hvcnRGaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgsIHNob3J0IGN1cikgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHByb3ZpZGVkSW50RmllbGQoUGVyc2lzdGVuY2VDYXBh\nYmxlIHBjLCBpbnQgaWR4LCBpbnQgY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgcHJvdmlkZWRMb25nRmllbGQoUGVyc2lzdGVuY2VDYXBh\nYmxlIHBjLCBpbnQgaWR4LCBsb25nIGN1cikgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHByb3ZpZGVkRmxvYXRGaWVsZChQZXJzaXN0ZW5jZUNh\ncGFibGUgcGMsIGludCBpZHgsIGZsb2F0IGN1cikgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkRG91YmxlRmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIGRvdWJsZSBjdXIpIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZFN0cmluZ0Zp\nZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAgICBT\ndHJpbmcgY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJv\ndmlkZWRPYmplY3RGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBp\nZHgsCiAgICAgICAgT2JqZWN0IGN1cikgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIHJlcGxhY2VCb29sZWFuRmllbGQoUGVyc2lzdGVuY2VD\nYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIGNoYXIgcmVwbGFjZUNoYXJGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMs\nIGludCBpZHgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYnl0ZSByZXBs\nYWNlQnl0ZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBzaG9ydCByZXBsYWNlU2hvcnRG\naWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgaW50IHJlcGxhY2VJbnRGaWVsZChQZXJzaXN0\nZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgbG9uZyByZXBsYWNlTG9uZ0ZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYywgaW50IGlkeCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBmbG9h\ndCByZXBsYWNlRmxvYXRGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGlu\ndCBpZHgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgZG91YmxlIHJlcGxh\nY2VEb3VibGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIHJlcGxhY2VTdHJp\nbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24o\nKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IHJlcGxhY2VPYmplY3RGaWVs\nZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwog\nICAgLy8gT3BlbkpQQVN0YXRlTWFuYWdlciBpbXBsZW1lbnRhdGlvbgogICAg\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBwdWJs\naWMgdm9pZCBpbml0aWFsaXplKENsYXNzIGZvclR5cGUsIFBDU3RhdGUgc3Rh\ndGUpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBsb2FkKEZldGNo\nQ29uZmlndXJhdGlvbiBmZXRjaCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyBPYmplY3QgZ2V0TWFuYWdlZEluc3RhbmNlKCkgewogICAgICAgIHJldHVy\nbiBfb2lkOwogICAgfQoKICAgIHB1YmxpYyBQZXJzaXN0ZW5jZUNhcGFibGUg\nZ2V0UGVyc2lzdGVuY2VDYXBhYmxlKCkgewogICAgICAgIHJldHVybiBJbXBs\nSGVscGVyLnRvUGVyc2lzdGVuY2VDYXBhYmxlKF9vaWQsCiAgICAgICAgICAg\nIF92bWQuZ2V0UmVwb3NpdG9yeSgpLmdldENvbmZpZ3VyYXRpb24oKSk7CiAg\nICB9CgogICAgcHVibGljIENsYXNzTWV0YURhdGEgZ2V0TWV0YURhdGEoKSB7\nCiAgICAgICAgcmV0dXJuIF92bWQuZ2V0RW1iZWRkZWRNZXRhRGF0YSgpOwog\nICAgfQoKICAgIHB1YmxpYyBPcGVuSlBBU3RhdGVNYW5hZ2VyIGdldE93bmVy\nKCkgewogICAgICAgIHJldHVybiBfb3duZXI7CiAgICB9CgogICAgcHVibGlj\nIGludCBnZXRPd25lckluZGV4KCkgewogICAgICAgIHJldHVybiBfdm1kLmdl\ndEZpZWxkTWV0YURhdGEoKS5nZXRJbmRleCgpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGlzRW1iZWRkZWQoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNGbHVzaGVkKCkgewogICAg\nICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBp\nc0ZsdXNoZWREaXJ0eSgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gaXNQcm92aXNpb25hbCgpIHsKICAgICAg\nICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIEJpdFNldCBnZXRM\nb2FkZWQoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIEJpdFNldCBnZXRE\naXJ0eSgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgQml0U2V0IGdldEZs\ndXNoZWQoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIEJpdFNldCBnZXRV\nbmxvYWRlZChGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgT2JqZWN0IG5ld1Byb3h5KGludCBmaWVsZCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgbmV3RmllbGRQcm94eShp\nbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBp\nc0RlZmF1bHRWYWx1ZShpbnQgZmllbGQpIHsKICAgICAgICBPYmplY3QgdmFs\nID0gZ2V0VmFsdWUoZmllbGQpOwogICAgICAgIGlmICh2YWwgPT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICAgIEZpZWxkTWV0YURh\ndGEgZm1kID0gZ2V0TWV0YURhdGEoKS5nZXRGaWVsZChmaWVsZCk7CiAgICAg\nICAgc3dpdGNoIChmbWQuZ2V0RGVjbGFyZWRUeXBlQ29kZSgpKSB7CiAgICAg\nICAgICAgIGNhc2UgSmF2YVR5cGVzLkJPT0xFQU46CiAgICAgICAgICAgICAg\nICByZXR1cm4gQm9vbGVhbi5GQUxTRS5lcXVhbHModmFsKTsKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuQ0hBUjoKICAgICAgICAgICAgICAgIHJldHVy\nbiAoKENoYXJhY3RlcikgdmFsKS5jaGFyVmFsdWUoKSA9PSAwOwogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5CWVRFOgogICAgICAgICAgICBjYXNlIEph\ndmFUeXBlcy5ET1VCTEU6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkZM\nT0FUOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5JTlQ6CiAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLkxPTkc6CiAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLlNIT1JUOgogICAgICAgICAgICAgICAgcmV0dXJuICgoTnVtYmVy\nKSB2YWwpLmludFZhbHVlKCkgPT0gMDsKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuU1RSSU5HOgogICAgICAgICAgICAgICAgcmV0dXJuICIiLmVxdWFs\ncyh2YWwpOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgU3Rv\ncmVDb250ZXh0IGdldENvbnRleHQoKSB7CiAgICAgICAgcmV0dXJuIChfb3du\nZXIgPT0gbnVsbCkgPyBudWxsIDogX293bmVyLmdldENvbnRleHQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgUENTdGF0ZSBnZXRQQ1N0YXRlKCkgewogICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0T2JqZWN0SWQoKSB7CiAgICAg\nICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0T2Jq\nZWN0SWQoT2JqZWN0IG9pZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGFzc2lnbk9iamVjdElkKGJvb2xlYW4gZmx1c2gpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldElkKCkgewogICAgICAgIHJl\ndHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0TG9jaygp\nIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRMb2NrKE9iamVjdCBsb2NrKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0TmV4dFZlcnNpb24oT2JqZWN0IHZlcnNpb24pIHsKICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24o\nKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldEltcGxEYXRhKCkgewog\nICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nc2V0SW1wbERhdGEoT2JqZWN0IGRhdGEsIGJvb2xlYW4gY2FjaGVhYmxlKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNJbXBsRGF0YUNh\nY2hlYWJsZSgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAg\ncHVibGljIE9iamVjdCBnZXRJbXBsRGF0YShpbnQgZmllbGQpIHsKICAgICAg\nICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IHNldElt\ncGxEYXRhKGludCBmaWVsZCwgT2JqZWN0IGRhdGEpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc0ltcGxEYXRhQ2FjaGVhYmxlKGludCBm\naWVsZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJs\naWMgT2JqZWN0IGdldEludGVybWVkaWF0ZShpbnQgZmllbGQpIHsKICAgICAg\nICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJbnRl\ncm1lZGlhdGUoaW50IGZpZWxkLCBPYmplY3QgZGF0YSkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHJlbW92ZWQoaW50IGZpZWxkLCBPYmplY3Qg\ncmVtb3ZlZCwgYm9vbGVhbiBrZXkpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBiZWZvcmVSZWZyZXNoKGJvb2xlYW4gYWxsKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgZGlydHkoaW50IGZpZWxkKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVCb29sZWFuKGludCBm\naWVsZCwgYm9vbGVhbiBleHRWYWwpIHsKICAgICAgICBzZXRWYWx1ZShmaWVs\nZCwgKGV4dFZhbCkgPyBCb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFLCB0\ncnVlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUJ5dGUoaW50IGZp\nZWxkLCBieXRlIGV4dFZhbCkgewogICAgICAgIHNldFZhbHVlKGZpZWxkLCBu\nZXcgQnl0ZShleHRWYWwpLCB0cnVlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzdG9yZUNoYXIoaW50IGZpZWxkLCBjaGFyIGV4dFZhbCkgewogICAgICAg\nIHNldFZhbHVlKGZpZWxkLCBuZXcgQ2hhcmFjdGVyKGV4dFZhbCksIHRydWUp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlSW50KGludCBmaWVsZCwg\naW50IGV4dFZhbCkgewogICAgICAgIHNldFZhbHVlKGZpZWxkLCBleHRWYWws\nIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlU2hvcnQoaW50\nIGZpZWxkLCBzaG9ydCBleHRWYWwpIHsKICAgICAgICBzZXRWYWx1ZShmaWVs\nZCwgbmV3IFNob3J0KGV4dFZhbCksIHRydWUpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHN0b3JlTG9uZyhpbnQgZmllbGQsIGxvbmcgZXh0VmFsKSB7CiAg\nICAgICAgc2V0VmFsdWUoZmllbGQsIGV4dFZhbCwgdHJ1ZSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVGbG9hdChpbnQgZmllbGQsIGZsb2F0IGV4\ndFZhbCkgewogICAgICAgIHNldFZhbHVlKGZpZWxkLCBuZXcgRmxvYXQoZXh0\nVmFsKSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVEb3Vi\nbGUoaW50IGZpZWxkLCBkb3VibGUgZXh0VmFsKSB7CiAgICAgICAgc2V0VmFs\ndWUoZmllbGQsIG5ldyBEb3VibGUoZXh0VmFsKSwgdHJ1ZSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVTdHJpbmcoaW50IGZpZWxkLCBTdHJpbmcg\nZXh0VmFsKSB7CiAgICAgICAgc2V0VmFsdWUoZmllbGQsIGV4dFZhbCwgZXh0\nVmFsICE9IG51bGwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlT2Jq\nZWN0KGludCBmaWVsZCwgT2JqZWN0IGV4dFZhbCkgewogICAgICAgIHNldFZh\nbHVlKGZpZWxkLCBleHRWYWwsIGV4dFZhbCAhPSBudWxsKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzdG9yZShpbnQgZmllbGQsIE9iamVjdCBleHRWYWwp\nIHsKICAgICAgICBib29sZWFuIGZvcmNlSW5zdCA9IHRydWU7CiAgICAgICAg\naWYgKGV4dFZhbCA9PSBudWxsKSB7CiAgICAgICAgICAgIGV4dFZhbCA9IGdl\ndERlZmF1bHRWYWx1ZShmaWVsZCk7CiAgICAgICAgICAgIGZvcmNlSW5zdCA9\nIGZhbHNlOwogICAgICAgIH0KICAgICAgICBzZXRWYWx1ZShmaWVsZCwgZXh0\nVmFsLCBmb3JjZUluc3QpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3Jl\nQm9vbGVhbkZpZWxkKGludCBmaWVsZCwgYm9vbGVhbiBleHRWYWwpIHsKICAg\nICAgICBzdG9yZUJvb2xlYW4oZmllbGQsIGV4dFZhbCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc3RvcmVCeXRlRmllbGQoaW50IGZpZWxkLCBieXRlIGV4\ndFZhbCkgewogICAgICAgIHN0b3JlQnl0ZShmaWVsZCwgZXh0VmFsKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUNoYXJGaWVsZChpbnQgZmllbGQs\nIGNoYXIgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVDaGFyKGZpZWxkLCBleHRW\nYWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlSW50RmllbGQoaW50\nIGZpZWxkLCBpbnQgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVJbnQoZmllbGQs\nIGV4dFZhbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVTaG9ydEZp\nZWxkKGludCBmaWVsZCwgc2hvcnQgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVT\naG9ydChmaWVsZCwgZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\ndG9yZUxvbmdGaWVsZChpbnQgZmllbGQsIGxvbmcgZXh0VmFsKSB7CiAgICAg\nICAgc3RvcmVMb25nKGZpZWxkLCBleHRWYWwpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHN0b3JlRmxvYXRGaWVsZChpbnQgZmllbGQsIGZsb2F0IGV4dFZh\nbCkgewogICAgICAgIHN0b3JlRmxvYXQoZmllbGQsIGV4dFZhbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc3RvcmVEb3VibGVGaWVsZChpbnQgZmllbGQs\nIGRvdWJsZSBleHRWYWwpIHsKICAgICAgICBzdG9yZURvdWJsZShmaWVsZCwg\nZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZVN0cmluZ0Zp\nZWxkKGludCBmaWVsZCwgU3RyaW5nIGV4dFZhbCkgewogICAgICAgIHN0b3Jl\nU3RyaW5nKGZpZWxkLCBleHRWYWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHN0b3JlT2JqZWN0RmllbGQoaW50IGZpZWxkLCBPYmplY3QgZXh0VmFsKSB7\nCiAgICAgICAgc3RvcmVPYmplY3QoZmllbGQsIGV4dFZhbCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVGaWVsZChpbnQgZmllbGQsIE9iamVjdCB2\nYWx1ZSkgewogICAgICAgIHN0b3JlKGZpZWxkLCB2YWx1ZSk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gZmV0Y2hCb29sZWFuKGludCBmaWVsZCkgewog\nICAgICAgIHJldHVybiAoKEJvb2xlYW4pIGdldFZhbHVlKGZpZWxkKSkuYm9v\nbGVhblZhbHVlKCk7CiAgICB9CgogICAgcHVibGljIGJ5dGUgZmV0Y2hCeXRl\nKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAoKE51bWJlcikgZ2V0VmFs\ndWUoZmllbGQpKS5ieXRlVmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgY2hh\nciBmZXRjaENoYXIoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuICgoQ2hh\ncmFjdGVyKSBnZXRWYWx1ZShmaWVsZCkpLmNoYXJWYWx1ZSgpOwogICAgfQoK\nICAgIHB1YmxpYyBzaG9ydCBmZXRjaFNob3J0KGludCBmaWVsZCkgewogICAg\nICAgIHJldHVybiAoKE51bWJlcikgZ2V0VmFsdWUoZmllbGQpKS5zaG9ydFZh\nbHVlKCk7CiAgICB9CgogICAgcHVibGljIGludCBmZXRjaEludChpbnQgZmll\nbGQpIHsKICAgICAgICByZXR1cm4gKChOdW1iZXIpIGdldFZhbHVlKGZpZWxk\nKSkuaW50VmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgbG9uZyBmZXRjaExv\nbmcoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuICgoTnVtYmVyKSBnZXRW\nYWx1ZShmaWVsZCkpLmxvbmdWYWx1ZSgpOwogICAgfQoKICAgIHB1YmxpYyBm\nbG9hdCBmZXRjaEZsb2F0KGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAo\nKE51bWJlcikgZ2V0VmFsdWUoZmllbGQpKS5mbG9hdFZhbHVlKCk7CiAgICB9\nCgogICAgcHVibGljIGRvdWJsZSBmZXRjaERvdWJsZShpbnQgZmllbGQpIHsK\nICAgICAgICByZXR1cm4gKChOdW1iZXIpIGdldFZhbHVlKGZpZWxkKSkuZG91\nYmxlVmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGZldGNoU3Ry\naW5nKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAoU3RyaW5nKSBnZXRW\nYWx1ZShmaWVsZCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRjaE9i\namVjdChpbnQgZmllbGQpIHsKICAgICAgICByZXR1cm4gZ2V0VmFsdWUoZmll\nbGQpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZmV0Y2goaW50IGZpZWxk\nKSB7CiAgICAgICAgT2JqZWN0IHJldCA9IGdldFZhbHVlKGZpZWxkKTsKICAg\nICAgICBpZiAocmV0ID09IG51bGwpCiAgICAgICAgICAgIHJldCA9IGdldERl\nZmF1bHRWYWx1ZShmaWVsZCk7CiAgICAgICAgcmV0dXJuIHJldDsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBmZXRjaEJvb2xlYW5GaWVsZChpbnQgZmll\nbGQpIHsKICAgICAgICByZXR1cm4gZmV0Y2hCb29sZWFuKGZpZWxkKTsKICAg\nIH0KCiAgICBwdWJsaWMgYnl0ZSBmZXRjaEJ5dGVGaWVsZChpbnQgZmllbGQp\nIHsKICAgICAgICByZXR1cm4gZmV0Y2hCeXRlKGZpZWxkKTsKICAgIH0KCiAg\nICBwdWJsaWMgY2hhciBmZXRjaENoYXJGaWVsZChpbnQgZmllbGQpIHsKICAg\nICAgICByZXR1cm4gZmV0Y2hDaGFyKGZpZWxkKTsKICAgIH0KCiAgICBwdWJs\naWMgc2hvcnQgZmV0Y2hTaG9ydEZpZWxkKGludCBmaWVsZCkgewogICAgICAg\nIHJldHVybiBmZXRjaFNob3J0KGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMg\naW50IGZldGNoSW50RmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJu\nIGZldGNoSW50KGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgbG9uZyBmZXRj\naExvbmdGaWVsZChpbnQgZmllbGQpIHsKICAgICAgICByZXR1cm4gZmV0Y2hM\nb25nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgZmxvYXQgZmV0Y2hGbG9h\ndEZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBmZXRjaEZsb2F0\nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgZG91YmxlIGZldGNoRG91Ymxl\nRmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoRG91Ymxl\nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGZldGNoU3RyaW5n\nRmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoU3RyaW5n\nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoT2JqZWN0\nRmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoKGZpZWxk\nKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoRmllbGQoaW50IGZp\nZWxkLCBib29sZWFuIHRyYW5zaXRpb25zKSB7CiAgICAgICAgcmV0dXJuIGZl\ndGNoKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoSW5p\ndGlhbEZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFJlbW90ZShpbnQgZmllbGQsIE9iamVjdCB2YWx1ZSkgewog\nICAgICAgIHN0b3JlKGZpZWxkLCB2YWx1ZSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgbG9jaygpIHsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB1bmxvY2so\nKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGRlZmF1bHQg\ndmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGJhc2VkIG9uIGl0cyB0eXBlLgog\nICAgICovCiAgICBwcml2YXRlIE9iamVjdCBnZXREZWZhdWx0VmFsdWUoaW50\nIGZpZWxkKSB7CiAgICAgICAgRmllbGRNZXRhRGF0YSBmbWQgPSBnZXRNZXRh\nRGF0YSgpLmdldEZpZWxkKGZpZWxkKTsKICAgICAgICBzd2l0Y2ggKGZtZC5n\nZXREZWNsYXJlZFR5cGVDb2RlKCkpIHsKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuQk9PTEVBTjoKICAgICAgICAgICAgICAgIHJldHVybiBCb29sZWFu\nLkZBTFNFOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CWVRFOgogICAg\nICAgICAgICAgICAgcmV0dXJuIFpFUk9fQllURTsKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuQ0hBUjoKICAgICAgICAgICAgICAgIHJldHVybiBaRVJP\nX0NIQVI7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkRPVUJMRToKICAg\nICAgICAgICAgICAgIHJldHVybiBaRVJPX0RPVUJMRTsKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgICAgICByZXR1cm4g\nWkVST19GTE9BVDsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuSU5UOgog\nICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLkxPTkc6CiAgICAgICAgICAgICAgICByZXR1cm4gMEw7CiAgICAg\nICAgICAgIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAgICAgICAgICAgICAg\ncmV0dXJuIFpFUk9fU0hPUlQ7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAg\nICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBmaWVs\nZCB1c2luZyByZWZsZWN0aW9uLgogICAgICogUmVsaWVzIG9uIHRoZSBmYWN0\nIHRoYXQgYWxsIG9pZCBmaWVsZHMvcHJvcGVydGllcyBhcmUgbWFkZSBwdWJs\naWMKICAgICAqIGR1cmluZyBlbmhhbmNlbWVudC4KICAgICAqLwogICAgcHJp\ndmF0ZSBPYmplY3QgZ2V0VmFsdWUoaW50IGZpZWxkKSB7CiAgICAgICAgaWYg\nKF9vaWQgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAg\nICAgIEZpZWxkTWV0YURhdGEgZm1kID0gZ2V0TWV0YURhdGEoKS5nZXRGaWVs\nZChmaWVsZCk7CiAgICAgICAgT2JqZWN0IHZhbCA9IG51bGw7CiAgICAgICAg\naWYgKGZtZC5nZXRCYWNraW5nTWVtYmVyKCkgaW5zdGFuY2VvZiBGaWVsZCkg\nCiAgICAgICAgICAgIHZhbCA9IFJlZmxlY3Rpb24uZ2V0KF9vaWQsIChGaWVs\nZCkgZm1kLmdldEJhY2tpbmdNZW1iZXIoKSk7CiAgICAgICAgZWxzZSBpZiAo\nZm1kLmdldEJhY2tpbmdNZW1iZXIoKSBpbnN0YW5jZW9mIE1ldGhvZCkgCiAg\nICAgICAgICAgIHZhbCA9IFJlZmxlY3Rpb24uZ2V0KF9vaWQsIChNZXRob2Qp\nIGZtZC5nZXRCYWNraW5nTWVtYmVyKCkpOwogICAgICAgIGVsc2UgaWYgKEFj\nY2Vzc0NvZGUuaXNGaWVsZChmbWQuZ2V0RGVmaW5pbmdNZXRhRGF0YSgpLmdl\ndEFjY2Vzc1R5cGUoKSkpCiAgICAgICAgICAgIHZhbCA9IFJlZmxlY3Rpb24u\nZ2V0KF9vaWQsIFJlZmxlY3Rpb24uZmluZEZpZWxkKF9vaWQuZ2V0Q2xhc3Mo\nKSwgCiAgICAgICAgICAgICAgICBmbWQuZ2V0TmFtZSgpLCB0cnVlKSk7CiAg\nICAgICAgZWxzZSAKICAgICAgICAgICAgdmFsID0gUmVmbGVjdGlvbi5nZXQo\nX29pZCwgUmVmbGVjdGlvbi5maW5kR2V0dGVyKF9vaWQuZ2V0Q2xhc3MoKSwK\nICAgICAgICAgICAgZm1kLmdldE5hbWUoKSwgdHJ1ZSkpOwoKICAgICAgICBp\nZiAoZm1kLmdldFZhbHVlKCkuZ2V0RW1iZWRkZWRNZXRhRGF0YSgpICE9IG51\nbGwpIAogICAgICAgICAgICByZXR1cm4gbmV3IE9iamVjdElkU3RhdGVNYW5h\nZ2VyKHZhbCwgbnVsbCwgZm1kKTsKICAgICAgICByZXR1cm4gdmFsOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4g\nZmllbGQgdXNpbmcgcmVmbGVjdGlvbi4KICAgICAqIFJlbGllcyBvbiB0aGUg\nZmFjdCB0aGF0IGFsbCBvaWQgZmllbGRzL3Byb3BlcnRpZXMgYXJlIG1hZGUg\ncHVibGljCiAgICAgKiBkdXJpbmcgZW5oYW5jZW1lbnQuCiAgICAgKi8KICAg\nIHByaXZhdGUgdm9pZCBzZXRWYWx1ZShpbnQgZmllbGQsIE9iamVjdCB2YWws\nIGJvb2xlYW4gZm9yY2VJbnN0KSB7CiAgICAgICAgaWYgKF9vaWQgPT0gbnVs\nbCAmJiBmb3JjZUluc3QpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgICAgIF9vaWQgPSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgK\nICAgICAgICAgICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5uZXdJbnN0YW5j\nZUFjdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWV0YURhdGEo\nKS5nZXREZXNjcmliZWRUeXBlKCkpKTsKICAgICAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNl\nb2YgUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbikKICAgICAgICAgICAgICAg\nICAgICBlID0gKChQcml2aWxlZ2VkQWN0aW9uRXhjZXB0aW9uKSBlKS5nZXRF\neGNlcHRpb24oKTsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFs\nRXhjZXB0aW9uKGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlm\nIChfb2lkID09IG51bGwpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAg\nRmllbGRNZXRhRGF0YSBmbWQgPSBnZXRNZXRhRGF0YSgpLmdldEZpZWxkKGZp\nZWxkKTsKICAgICAgICBpZiAoZm1kLmdldEJhY2tpbmdNZW1iZXIoKSBpbnN0\nYW5jZW9mIEZpZWxkKQogICAgICAgICAgICBSZWZsZWN0aW9uLnNldChfb2lk\nLCAoRmllbGQpIGZtZC5nZXRCYWNraW5nTWVtYmVyKCksIHZhbCk7CiAgICAg\nICAgZWxzZSBpZiAoQWNjZXNzQ29kZS5pc0ZpZWxkKGZtZC5nZXREZWZpbmlu\nZ01ldGFEYXRhKCkuZ2V0QWNjZXNzVHlwZSgpKSkKICAgICAgICAgICAgUmVm\nbGVjdGlvbi5zZXQoX29pZCwgUmVmbGVjdGlvbi5maW5kRmllbGQoX29pZC5n\nZXRDbGFzcygpLCAKICAgICAgICAgICAgICAgIGZtZC5nZXROYW1lKCksIHRy\ndWUpLCB2YWwpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgUmVmbGVjdGlv\nbi5zZXQoX29pZCwgUmVmbGVjdGlvbi5maW5kU2V0dGVyKF9vaWQuZ2V0Q2xh\nc3MoKSwKICAgICAgICAgICAgICAgIGZtZC5nZXROYW1lKCksIGZtZC5nZXRE\nZWNsYXJlZFR5cGUoKSwgdHJ1ZSksIHZhbCk7Cgl9Cn0K\n","encoding":"base64"}

