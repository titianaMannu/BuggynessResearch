{"sha":"becb970a5a467b1cfedb7739ec9a38baef58c703","node_id":"MDQ6QmxvYjIwNjM2NDpiZWNiOTcwYTVhNDY3YjFjZmVkYjc3MzllYzlhMzhiYWVmNThjNzAz","size":5435,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/becb970a5a467b1cfedb7739ec9a38baef58c703","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKCi8qKgogKiB7\nQGxpbmsgTG9ja01hbmFnZXJ9IGltcGxlbWVudGF0aW9uIHRoYXQgcHJvdmlk\nZXMgc3VwcG9ydAogKiBmb3IgdmVyc2lvbiBjaGVja2luZyBhbmQgdmVyc2lv\nbiB1cGRhdGluZyB3aGVuIGxvY2tzIGFyZSBhY3F1aXJlZC4KICogVGhpcyBs\nb2NrIG1hbmFnZXIgbWF5IGJlIHVzZWQgc3RhbmRhbG9uZSBvciBleHRlbmRl\nZCBmb3IgYWRkaXRpb25hbCBsb2NraW5nLgogKgogKiBAYXV0aG9yIE1hcmMg\nUHJ1ZCdob21tZWF1eAogKi8KcHVibGljIGNsYXNzIFZlcnNpb25Mb2NrTWFu\nYWdlcgogICAgZXh0ZW5kcyBBYnN0cmFjdExvY2tNYW5hZ2VyIHsKCiAgICBw\ncml2YXRlIGJvb2xlYW4gX3ZlcnNpb25DaGVja09uUmVhZExvY2sgPSB0cnVl\nOwogICAgcHJpdmF0ZSBib29sZWFuIF92ZXJzaW9uVXBkYXRlT25Xcml0ZUxv\nY2sgPSB0cnVlOwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgZ2l2ZW4g\naW5zdGFuY2UncyBsb2NrIGxldmVsLCBhc3N1bWluZyB0aGF0IHRoZSBzdGF0\nZSdzCiAgICAgKiBsb2NrIG9iamVjdCBpcyBhIG51bWJlci4gSWYgdGhlIGdp\ndmVuIGluc3RhbmNlIGlzIGVtYmVkZGVkLCB0cmF2ZXJzZXMKICAgICAqIHRv\nIGl0cyBvd25lci4gT3ZlcnJpZGUgaWYgbG9jayBpcyBub3Qgc3RvcmVkIGFz\nIGEgbnVtYmVyLgogICAgICovCiAgICBwdWJsaWMgaW50IGdldExvY2tMZXZl\nbChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtKSB7CiAgICAgICAgd2hpbGUgKHNt\nLmdldE93bmVyKCkgIT0gbnVsbCkKICAgICAgICAgICAgc20gPSBzbS5nZXRP\nd25lcigpOwogICAgICAgIE51bWJlciBsZXZlbCA9IChOdW1iZXIpIHNtLmdl\ndExvY2soKTsKICAgICAgICByZXR1cm4gKGxldmVsID09IG51bGwpID8gTE9D\nS19OT05FIDogbGV2ZWwuaW50VmFsdWUoKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldHMgdGhlIGdpdmVuIGluc3RhbmNlJ3MgbG9jayBsZXZlbCB0byB0\naGUgZ2l2ZW4gbnVtYmVyLiBPdmVycmlkZQogICAgICogdG8gc3RvcmUgc29t\nZXRoaW5nIGVsc2UgYXMgdGhlIGxvY2suCiAgICAgKi8KICAgIHByb3RlY3Rl\nZCB2b2lkIHNldExvY2tMZXZlbChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBp\nbnQgbGV2ZWwpIHsKICAgICAgICBzbS5zZXRMb2NrKGxldmVsKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIE51bGxzIGdpdmVuIGluc3RhbmNlJ3MgbG9jayBv\nYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHJlbGVhc2UoT3BlbkpQ\nQVN0YXRlTWFuYWdlciBzbSkgewogICAgICAgIHNtLnNldExvY2sobnVsbCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rICNs\nb2NrSW50ZXJuYWx9IGFmdGVyIHRyYXZlcnNpbmcgdG8gb3duaW5nCiAgICAg\nKiBpbnN0YW5jZSAoaWYgZW1iZWRkZWQpIGFuZCBhc3N1cmluZyB0aGF0IHRo\nZSBpbnN0YW5jZSBpcyBwZXJzaXN0ZW50LAogICAgICogaXMgbm90IG5ldywg\nYW5kIGlzIG5vdCBhbHJlYWR5IGxvY2tlZCBhdCBhIGhpZ2hlciBsZXZlbC4g\nQWZ0ZXIKICAgICAqIGxvY2tpbmcsIGNhbGxzIHtAbGluayAjc2V0TG9ja0xl\ndmVsfSB3aXRoIHRoZSBnaXZlbiBsZXZlbC4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgbG9jayhPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBpbnQgbGV2ZWws\nIGludCB0aW1lb3V0LAogICAgICAgIE9iamVjdCBzZGF0YSkgewogICAgICAg\nIGxvY2soc20sIGxldmVsLCB0aW1lb3V0LCBzZGF0YSwgdHJ1ZSk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIGxvY2soT3BlbkpQQVN0YXRlTWFuYWdl\nciBzbSwgaW50IGxldmVsLCBpbnQgdGltZW91dCwKICAgICAgICAgICAgT2Jq\nZWN0IHNkYXRhLCBib29sZWFuIHBvc3RMb2NrVmVyc2lvbkNoZWNrKSB7CiAg\nICAgICAgaWYgKGxldmVsID09IExPQ0tfTk9ORSkKICAgICAgICAgICAgcmV0\ndXJuOwogICAgICAgIHdoaWxlIChzbS5nZXRPd25lcigpICE9IG51bGwpCiAg\nICAgICAgICAgIHNtID0gc20uZ2V0T3duZXIoKTsKICAgICAgICBpbnQgb2xk\nTGV2ZWwgPSBnZXRMb2NrTGV2ZWwoc20pOwogICAgICAgIGlmICghc20uaXNQ\nZXJzaXN0ZW50KCkgfHwgc20uaXNOZXcoKSB8fCBsZXZlbCA8PSBvbGRMZXZl\nbCkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB0cnkgewogICAgICAg\nICAgICBsb2NrSW50ZXJuYWwoc20sIGxldmVsLCB0aW1lb3V0LCBzZGF0YSwg\ncG9zdExvY2tWZXJzaW9uQ2hlY2spOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRp\nbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgLy8gcmV2ZXJ0IGxvY2sK\nICAgICAgICAgICAgc2V0TG9ja0xldmVsKHNtLCBvbGRMZXZlbCk7CiAgICAg\nICAgICAgIHRocm93IHJlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAg\nICAqIE1hcmtzIHRoZSBpbnN0YW5jZSdzIHRyYW5zYWN0aW9uYWwgc3RhdHVz\nIGluIGFjY29yZGFuY2Ugd2l0aAogICAgICogdGhlIHNldHRpbmdzIG9mIHtA\nbGluayAjZ2V0VmVyc2lvbkNoZWNrT25SZWFkTG9ja30KICAgICAqIGFuZCB7\nQGxpbmsgI2dldFZlcnNpb25VcGRhdGVPbldyaXRlTG9ja30uIE92ZXJyaWRl\nIHRvIHBlcmZvcm0KICAgICAqIGFkZGl0aW9uYWwgbG9ja2luZy4KICAgICAq\nCiAgICAgKiBAc2VlIFN0b3JlQ29udGV4dCN0cmFuc2FjdGlvbmFsCiAgICAg\nKi8KICAgIHByb3RlY3RlZCB2b2lkIGxvY2tJbnRlcm5hbChPcGVuSlBBU3Rh\ndGVNYW5hZ2VyIHNtLCBpbnQgbGV2ZWwsIGludCB0aW1lb3V0LAogICAgICAg\nIE9iamVjdCBzZGF0YSwgYm9vbGVhbiBwb3N0TG9ja1ZlcnNpb25DaGVjaykg\newogICAgICAgIG9wdGltaXN0aWNMb2NrSW50ZXJuYWwoc20sIGxldmVsLCB0\naW1lb3V0LCBzZGF0YSwgcG9zdExvY2tWZXJzaW9uQ2hlY2spOwogICAgfQoK\nICAgIHByb3RlY3RlZCB2b2lkIG9wdGltaXN0aWNMb2NrSW50ZXJuYWwoT3Bl\nbkpQQVN0YXRlTWFuYWdlciBzbSwgaW50IGxldmVsLAogICAgICAgIGludCB0\naW1lb3V0LCBPYmplY3Qgc2RhdGEsIGJvb2xlYW4gcG9zdExvY2tWZXJzaW9u\nQ2hlY2spIHsKICAgICAgICAvLyBTZXQgbG9jayBsZXZlbCBmaXJzdCB0byBw\ncmV2ZW50IGluZmluaXRlIHJlY3Vyc2lvbiB3aXRoCiAgICAgICAgLy8gdHJh\nbnNhY3Rpb25hbCguLikgY2FsbAogICAgICAgIHNldExvY2tMZXZlbChzbSwg\nbGV2ZWwpOwogICAgICAgIGlmIChsZXZlbCA+PSBMb2NrTGV2ZWxzLkxPQ0tf\nV1JJVEUgJiYgX3ZlcnNpb25VcGRhdGVPbldyaXRlTG9jaykKICAgICAgICAg\nICAgZ2V0Q29udGV4dCgpLnRyYW5zYWN0aW9uYWwoc20uZ2V0TWFuYWdlZElu\nc3RhbmNlKCksIHRydWUsIG51bGwpOwogICAgICAgIGVsc2UgaWYgKGxldmVs\nID49IExvY2tMZXZlbHMuTE9DS19SRUFEICYmIF92ZXJzaW9uQ2hlY2tPblJl\nYWRMb2NrKQogICAgICAgICAgICBnZXRDb250ZXh0KCkudHJhbnNhY3Rpb25h\nbChzbS5nZXRNYW5hZ2VkSW5zdGFuY2UoKSwgZmFsc2UsIG51bGwpOwogICAg\nfQoKICAgIC8qKgogICAgICogV2hldGhlciBvciBub3Qgd2Ugc2hvdWxkIGZv\ncmNlIGEgdmVyc2lvbiBjaGVjayBhdCBjb21taXQKICAgICAqIHRpbWUgd2hl\nbiBhIHJlYWQgbG9jayBpcyByZXF1ZXN0ZWQgaW4gb3JkZXIgdG8gdmVyaWZ5\nIHJlYWQKICAgICAqIGNvbnNpc3RlbmN5LiBEZWZhdWx0cyB0byB0cnVlLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRWZXJzaW9uQ2hlY2tPblJlYWRM\nb2NrKGJvb2xlYW4gdmVyc2lvbkNoZWNrT25SZWFkTG9jaykgewogICAgICAg\nIF92ZXJzaW9uQ2hlY2tPblJlYWRMb2NrID0gdmVyc2lvbkNoZWNrT25SZWFk\nTG9jazsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgb3Igbm90IHdl\nIHNob3VsZCBmb3JjZSBhIHZlcnNpb24gY2hlY2sgYXQgY29tbWl0CiAgICAg\nKiB0aW1lIHdoZW4gYSByZWFkIGxvY2sgaXMgcmVxdWVzdGVkIGluIG9yZGVy\nIHRvIHZlcmlmeSByZWFkCiAgICAgKiBjb25zaXN0ZW5jeS4gRGVmYXVsdHMg\ndG8gdHJ1ZS4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0VmVyc2lv\nbkNoZWNrT25SZWFkTG9jaygpIHsKICAgICAgICByZXR1cm4gX3ZlcnNpb25D\naGVja09uUmVhZExvY2s7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVy\nIG9yIG5vdCB3ZSBzaG91bGQgZm9yY2UgYW4gdXBkYXRlIHRvIHRoZSB2ZXJz\naW9uIGF0IGNvbW1pdAogICAgICogdGltZSB3aGVuIGEgd3JpdGUgbG9jayBp\ncyByZXF1ZXN0ZWQuIERlZmF1bHRzIHRvIHRydWUuCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIHNldFZlcnNpb25VcGRhdGVPbldyaXRlTG9jayhib29sZWFu\nIHZlcnNpb25VcGRhdGVPbldyaXRlTG9jaykgewogICAgICAgIF92ZXJzaW9u\nVXBkYXRlT25Xcml0ZUxvY2sgPSB2ZXJzaW9uVXBkYXRlT25Xcml0ZUxvY2s7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIG9yIG5vdCB3ZSBzaG91\nbGQgZm9yY2UgYW4gdXBkYXRlIHRvIHRoZSB2ZXJzaW9uIGF0IGNvbW1pdAog\nICAgICogdGltZSB3aGVuIGEgd3JpdGUgbG9jayBpcyByZXF1ZXN0ZWQuIERl\nZmF1bHRzIHRvIHRydWUuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdl\ndFZlcnNpb25VcGRhdGVPbldyaXRlTG9jaygpIHsKICAgICAgICByZXR1cm4g\nX3ZlcnNpb25VcGRhdGVPbldyaXRlTG9jazsKICAgIH0KfQo=\n","encoding":"base64"}

