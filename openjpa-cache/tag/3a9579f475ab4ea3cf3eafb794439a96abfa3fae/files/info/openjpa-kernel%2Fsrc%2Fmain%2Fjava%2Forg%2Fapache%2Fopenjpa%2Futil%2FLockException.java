{"sha":"13044a4e2b07a1b2417c4f70b00abee3f54122d1","node_id":"MDQ6QmxvYjIwNjM2NDoxMzA0NGE0ZTJiMDdhMWIyNDE3YzRmNzBiMDBhYmVlM2Y1NDEyMmQx","size":2962,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/13044a4e2b07a1b2417c4f70b00abee3f54122d1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbDsKCmltcG9ydCBqYXZh\nLmlvLklPRXhjZXB0aW9uOwppbXBvcnQgamF2YS5pby5PYmplY3RJbnB1dFN0\ncmVhbTsKaW1wb3J0IGphdmEuaW8uT2JqZWN0T3V0cHV0U3RyZWFtOwoKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7Cgov\nKioKICogRXhjZXB0aW9uIGluZGljYXRpbmcgdGhhdCBsb2NrcyBvbiBvbmUg\nb3IgbW9yZSBvYmplY3RzIGNvdWxkIG5vdCBiZSBhY3F1aXJlZC4KICoKICog\nQGF1dGhvciBNYXJjIFBydWQnaG9tbWVhdXgKICogQHNpbmNlIDAuMy4xCiAq\nLwpAU3VwcHJlc3NXYXJuaW5ncygic2VyaWFsIikKcHVibGljIGNsYXNzIExv\nY2tFeGNlcHRpb24KICAgIGV4dGVuZHMgU3RvcmVFeGNlcHRpb24gewoKICAg\nIHByaXZhdGUgc3RhdGljIGZpbmFsIHRyYW5zaWVudCBMb2NhbGl6ZXIgX2xv\nYyA9IExvY2FsaXplci5mb3JQYWNrYWdlKExvY2tFeGNlcHRpb24uY2xhc3Mp\nOwoKICAgIHByaXZhdGUgaW50IHRpbWVvdXQgICA9IC0xOwogICAgcHJpdmF0\nZSBpbnQgbG9ja0xldmVsID0gLTE7CiAgICAKICAgIHB1YmxpYyBMb2NrRXhj\nZXB0aW9uKE9iamVjdCBmYWlsZWQpIHsKICAgICAgICBzdXBlcihfbG9jLmdl\ndCgibG9jay1mYWlsZWQiLCBFeGNlcHRpb25zLnRvU3RyaW5nKGZhaWxlZCkp\nKTsKICAgICAgICBzZXRGYWlsZWRPYmplY3QoZmFpbGVkKTsKICAgIH0KCiAg\nICBwdWJsaWMgTG9ja0V4Y2VwdGlvbihPYmplY3QgZmFpbGVkLCBpbnQgdGlt\nZW91dCkgewogICAgICAgIHRoaXMoZmFpbGVkLCB0aW1lb3V0LCAtMSk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyBMb2NrRXhjZXB0aW9uKE9iamVjdCBmYWls\nZWQsIGludCB0aW1lb3V0LCBpbnQgbG9ja0xldmVsKSB7CiAgICAgICAgc3Vw\nZXIoX2xvYy5nZXQoImxvY2stdGltZW91dCIsIEV4Y2VwdGlvbnMudG9TdHJp\nbmcoZmFpbGVkKSwgU3RyaW5nLnZhbHVlT2YodGltZW91dCkpKTsKICAgICAg\nICBzZXRGYWlsZWRPYmplY3QoZmFpbGVkKTsKICAgICAgICBzZXRUaW1lb3V0\nKHRpbWVvdXQpOwogICAgICAgIHNldExvY2tMZXZlbChsb2NrTGV2ZWwpOwog\nICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0U3VidHlwZSgpIHsKICAgICAgICBy\nZXR1cm4gTE9DSzsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBudW1iZXIg\nb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGEgbG9jay4KICAgICAqLwog\nICAgcHVibGljIGludCBnZXRUaW1lb3V0KCkgewogICAgICAgIHJldHVybiB0\naW1lb3V0OwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG51bWJlciBvZiBt\naWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgYSBsb2NrLgogICAgICovCiAgICBw\ndWJsaWMgTG9ja0V4Y2VwdGlvbiBzZXRUaW1lb3V0KGludCB0aW1lb3V0KSB7\nCiAgICAgICAgdGhpcy50aW1lb3V0ID0gdGltZW91dDsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRMb2NrTGV2ZWwo\naW50IGxvY2tMZXZlbCkgewogICAgICAgIHRoaXMubG9ja0xldmVsID0gbG9j\na0xldmVsOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0TG9ja0xldmVsKCkg\newogICAgICAgIHJldHVybiBsb2NrTGV2ZWw7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICBTdHJpbmcgc3RyID0gc3Vw\nZXIudG9TdHJpbmcoKTsKICAgICAgICBpZiAodGltZW91dCA8IDApCiAgICAg\nICAgICAgIHJldHVybiBzdHI7CiAgICAgICAgcmV0dXJuIHN0ciArIEV4Y2Vw\ndGlvbnMuU0VQICsgIlRpbWVvdXQ6ICIgKyB0aW1lb3V0ICsgIiwgTG9ja0xl\ndmVsIiArIGxvY2tMZXZlbDsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgd3Jp\ndGVPYmplY3QoT2JqZWN0T3V0cHV0U3RyZWFtIG91dCkKICAgICAgICB0aHJv\nd3MgSU9FeGNlcHRpb24gewogICAgICAgIG91dC53cml0ZUludCh0aW1lb3V0\nKTsKICAgICAgICBvdXQud3JpdGVJbnQobG9ja0xldmVsKTsKICAgIH0KCiAg\nICBwcml2YXRlIHZvaWQgcmVhZE9iamVjdChPYmplY3RJbnB1dFN0cmVhbSBp\nbikKICAgICAgICB0aHJvd3MgSU9FeGNlcHRpb24sIENsYXNzTm90Rm91bmRF\neGNlcHRpb24gewogICAgICAgIHRpbWVvdXQgPSBpbi5yZWFkSW50KCk7CiAg\nICAgICAgbG9ja0xldmVsID0gaW4ucmVhZEludCgpOwoJfQp9Cg==\n","encoding":"base64"}

