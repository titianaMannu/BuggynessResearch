{"sha":"8cec3afebb0c177c6bd46cb64f485a3f14c091b4","node_id":"MDQ6QmxvYjIwNjM2NDo4Y2VjM2FmZWJiMGMxNzdjNmJkNDZjYjY0ZjQ4NWEzZjE0YzA5MWI0","size":5074,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8cec3afebb0c177c6bd46cb64f485a3f14c091b4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbDsKCmltcG9ydCBqYXZh\nLmlvLklPRXhjZXB0aW9uOwppbXBvcnQgamF2YS5pby5PYmplY3RJbnB1dFN0\ncmVhbTsKaW1wb3J0IGphdmEuaW8uT2JqZWN0T3V0cHV0U3RyZWFtOwppbXBv\ncnQgamF2YS5pby5QcmludFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUHJpbnRX\ncml0ZXI7CmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyLk1lc3NhZ2U7\nCgovKioKICogRXhjZXB0aW9uIHR5cGUgZm9yIGFsbCBPcGVuSlBBIGV4Y2Vw\ndGlvbnMuIE1lYW50IHRvIGJlIGVhc2lseQogKiB0cmFuc2Zvcm1lZCBpbnRv\nIGFuIGFwcHJvcHJpYXRlIGV4Y2VwdGlvbiBhdCB0aGUgQVBJIGxheWVyLCBz\naW5jZSBtb3N0IEFQSXMKICogZGVmaW5lIHRoZWlyIG93biBleGNlcHRpb24g\ndHlwZXMuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBzaW5jZSAwLjQu\nMAogKi8KQFN1cHByZXNzV2FybmluZ3MoInNlcmlhbCIpCnB1YmxpYyBhYnN0\ncmFjdCBjbGFzcyBPcGVuSlBBRXhjZXB0aW9uCiAgICBleHRlbmRzIFJ1bnRp\nbWVFeGNlcHRpb24KICAgIGltcGxlbWVudHMgU2VyaWFsaXphYmxlLCBFeGNl\ncHRpb25JbmZvIHsKCiAgICBwcml2YXRlIHRyYW5zaWVudCBib29sZWFuIF9m\nYXRhbCA9IGZhbHNlOwogICAgcHJpdmF0ZSB0cmFuc2llbnQgT2JqZWN0IF9m\nYWlsZWQgPSBudWxsOwogICAgcHJpdmF0ZSB0cmFuc2llbnQgVGhyb3dhYmxl\nW10gX25lc3RlZCA9IG51bGw7CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IGNv\nbnN0cnVjdG9yLgogICAgICovCiAgICBwdWJsaWMgT3BlbkpQQUV4Y2VwdGlv\nbigpIHsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yOyBzdXBw\nbHkgbWVzc2FnZS4KICAgICAqLwogICAgcHVibGljIE9wZW5KUEFFeGNlcHRp\nb24oU3RyaW5nIG1zZykgewogICAgICAgIHN1cGVyKG1zZyk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvcjsgc3VwcGx5IG1lc3NhZ2UuCiAg\nICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBRXhjZXB0aW9uKE1lc3NhZ2UgbXNn\nKSB7CiAgICAgICAgc3VwZXIobXNnLmdldE1lc3NhZ2UoKSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Qgd2l0aCBjYXVzZS4KICAgICAqLwog\nICAgcHVibGljIE9wZW5KUEFFeGNlcHRpb24oVGhyb3dhYmxlIGNhdXNlKSB7\nCiAgICAgICAgdGhpcyhjYXVzZS5nZXRNZXNzYWdlKCksIGNhdXNlKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdCB3aXRoIG1lc3NhZ2UgYW5k\nIGNhdXNlLgogICAgICovCiAgICBwdWJsaWMgT3BlbkpQQUV4Y2VwdGlvbihT\ndHJpbmcgbXNnLCBUaHJvd2FibGUgY2F1c2UpIHsKICAgICAgICBzdXBlciht\nc2cpOwogICAgICAgIHNldENhdXNlKGNhdXNlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIENvbnN0cnVjdCB3aXRoIG1lc3NhZ2UgYW5kIGNhdXNlLgogICAg\nICovCiAgICBwdWJsaWMgT3BlbkpQQUV4Y2VwdGlvbihNZXNzYWdlIG1zZywg\nVGhyb3dhYmxlIGNhdXNlKSB7CiAgICAgICAgc3VwZXIobXNnLmdldE1lc3Nh\nZ2UoKSk7CiAgICAgICAgc2V0Q2F1c2UoY2F1c2UpOwogICAgfQoKICAgIC8q\nKgogICAgICogRXhjZXB0aW9uIHR5cGUuCiAgICAgKi8KICAgIHB1YmxpYyBh\nYnN0cmFjdCBpbnQgZ2V0VHlwZSgpOwoKICAgIC8qKgogICAgICogRXhjZXB0\naW9uIHN1YnR5cGUuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0U3VidHlw\nZSgpIHsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvKioKICAgICAq\nIFdoZXRoZXIgdGhpcyBlcnJvciBpcyBmYXRhbC4KICAgICAqLwogICAgcHVi\nbGljIGJvb2xlYW4gaXNGYXRhbCgpIHsKICAgICAgICByZXR1cm4gX2ZhdGFs\nOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0aGlzIGVycm9yIGlz\nIGZhdGFsLgogICAgICovCiAgICBwdWJsaWMgT3BlbkpQQUV4Y2VwdGlvbiBz\nZXRGYXRhbChib29sZWFuIGZhdGFsKSB7CiAgICAgICAgX2ZhdGFsID0gZmF0\nYWw7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm5zIHRoZSBmaXJzdCB7QGxpbmsgVGhyb3dhYmxlfSBmcm9tIHtA\nbGluayAjZ2V0TmVzdGVkVGhyb3dhYmxlc30KICAgICAqIGluIG9yZGVyIHRv\nIGNvbmZvcm0gdG8ge0BsaW5rIFRocm93YWJsZSNnZXRDYXVzZX0gaW4gSmF2\nYSAxLjQrLgogICAgICoKICAgICAqIEBzZWUgVGhyb3dhYmxlI2dldENhdXNl\nCiAgICAgKi8KICAgIHB1YmxpYyBUaHJvd2FibGUgZ2V0Q2F1c2UoKSB7CiAg\nICAgICAgaWYgKF9uZXN0ZWQgPT0gbnVsbCB8fCBfbmVzdGVkLmxlbmd0aCA9\nPSAwKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBlbHNlCiAg\nICAgICAgICAgIHJldHVybiBfbmVzdGVkWzBdOwogICAgfQoKICAgIC8qKgog\nICAgICogVGhlIGZpcnN0IG5lc3RlZCB0aHJvd2FibGUuCiAgICAgKi8KICAg\nIHB1YmxpYyBPcGVuSlBBRXhjZXB0aW9uIHNldENhdXNlKFRocm93YWJsZSBu\nZXN0ZWQpIHsKICAgICAgICBpZiAoX25lc3RlZCAhPSBudWxsKQogICAgICAg\nICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCk7CiAgICAg\nICAgaWYgKG5lc3RlZCAhPSBudWxsKQogICAgICAgICAgICBfbmVzdGVkID0g\nbmV3IFRocm93YWJsZVtdeyBuZXN0ZWQgfTsKICAgICAgICByZXR1cm4gdGhp\nczsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBuZXN0ZWQgdGhyb3dhYmxl\ncy4KICAgICAqLwogICAgcHVibGljIFRocm93YWJsZVtdIGdldE5lc3RlZFRo\ncm93YWJsZXMoKSB7CiAgICAgICAgcmV0dXJuIChfbmVzdGVkID09IG51bGwp\nID8gRXhjZXB0aW9ucy5FTVBUWV9USFJPV0FCTEVTIDogX25lc3RlZDsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRoZSBuZXN0ZWQgdGhyb3dhYmxlcy4KICAg\nICAqLwogICAgcHVibGljIE9wZW5KUEFFeGNlcHRpb24gc2V0TmVzdGVkVGhy\nb3dhYmxlcyhUaHJvd2FibGVbXSBuZXN0ZWQpIHsKICAgICAgICBfbmVzdGVk\nID0gbmVzdGVkOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8q\nKgogICAgICogVGhlIGZhaWxlZCBvYmplY3QuCiAgICAgKi8KICAgIHB1Ymxp\nYyBPYmplY3QgZ2V0RmFpbGVkT2JqZWN0KCkgewogICAgICAgIHJldHVybiBf\nZmFpbGVkOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGZhaWxlZCBvYmpl\nY3QuCiAgICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBRXhjZXB0aW9uIHNldEZh\naWxlZE9iamVjdChPYmplY3QgZmFpbGVkKSB7CiAgICAgICAgX2ZhaWxlZCA9\nIGZhaWxlZDsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIHRvU3RyaW5nKCkgewogICAgICAgIHJldHVybiBFeGNlcHRp\nb25zLnRvU3RyaW5nKHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHBy\naW50U3RhY2tUcmFjZSgpIHsKICAgICAgICBwcmludFN0YWNrVHJhY2UoU3lz\ndGVtLmVycik7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJpbnRTdGFja1Ry\nYWNlKFByaW50U3RyZWFtIG91dCkgewogICAgICAgIHN1cGVyLnByaW50U3Rh\nY2tUcmFjZShvdXQpOwogICAgICAgIEV4Y2VwdGlvbnMucHJpbnROZXN0ZWRU\naHJvd2FibGVzKHRoaXMsIG91dCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ncHJpbnRTdGFja1RyYWNlKFByaW50V3JpdGVyIG91dCkgewogICAgICAgIHN1\ncGVyLnByaW50U3RhY2tUcmFjZShvdXQpOwogICAgICAgIEV4Y2VwdGlvbnMu\ncHJpbnROZXN0ZWRUaHJvd2FibGVzKHRoaXMsIG91dCk7CiAgICB9CgogICAg\ncHJpdmF0ZSB2b2lkIHdyaXRlT2JqZWN0KE9iamVjdE91dHB1dFN0cmVhbSBv\ndXQpCiAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICBvdXQu\nd3JpdGVCb29sZWFuKF9mYXRhbCk7CiAgICAgICAgb3V0LndyaXRlT2JqZWN0\nKEV4Y2VwdGlvbnMucmVwbGFjZUZhaWxlZE9iamVjdChfZmFpbGVkKSk7CiAg\nICAgICAgb3V0LndyaXRlT2JqZWN0KEV4Y2VwdGlvbnMucmVwbGFjZU5lc3Rl\nZFRocm93YWJsZXMoX25lc3RlZCkpOwogICAgfQoKICAgIHByaXZhdGUgdm9p\nZCByZWFkT2JqZWN0KE9iamVjdElucHV0U3RyZWFtIGluKQogICAgICAgIHRo\ncm93cyBJT0V4Y2VwdGlvbiwgQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiB7CiAg\nICAgICAgX2ZhdGFsID0gaW4ucmVhZEJvb2xlYW4oKTsKICAgICAgICBfZmFp\nbGVkID0gaW4ucmVhZE9iamVjdCgpOwogICAgICAgIF9uZXN0ZWQgPSAoVGhy\nb3dhYmxlW10pIGluLnJlYWRPYmplY3QgKCk7Cgl9Cn0KCg==\n","encoding":"base64"}

