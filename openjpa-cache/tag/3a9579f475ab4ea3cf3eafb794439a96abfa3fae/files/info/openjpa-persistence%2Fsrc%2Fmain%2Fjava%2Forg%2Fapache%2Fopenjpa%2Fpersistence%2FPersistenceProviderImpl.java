{"sha":"544d12d89df8352b38a454567ce4efe21da253e8","node_id":"MDQ6QmxvYjIwNjM2NDo1NDRkMTJkODlkZjgzNTJiMzhhNDU0NTY3Y2U0ZWZlMjFkYTI1M2U4","size":18289,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/544d12d89df8352b38a454567ce4efe21da253e8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2U7CgppbXBv\ncnQgamF2YS5sYW5nLmluc3RydW1lbnQuQ2xhc3NGaWxlVHJhbnNmb3JtZXI7\nCmltcG9ydCBqYXZhLmxhbmcuaW5zdHJ1bWVudC5JbGxlZ2FsQ2xhc3NGb3Jt\nYXRFeGNlcHRpb247CmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRy\nb2xsZXI7CmltcG9ydCBqYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW47\nCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5N\nYXA7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLnNwaS5DbGFzc1RyYW5zZm9ybWVy\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uuc3BpLkxvYWRTdGF0ZTsKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLnNwaS5QZXJzaXN0ZW5jZVByb3ZpZGVy\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uuc3BpLlBlcnNpc3RlbmNlVW5p\ndEluZm87CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5zcGkuUHJvdmlkZXJV\ndGlsOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLkJyb2tlclZh\nbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNv\nbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZi5P\ncGVuSlBBQ29uZmlndXJhdGlvbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuZW5oYW5jZS5QQ0NsYXNzRmlsZVRyYW5zZm9ybWVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmVuaGFuY2UuUENFbmhhbmNlckFnZW50Owpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5BYnN0cmFjdEJyb2tl\nckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJv\nb3RzdHJhcDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuQnJv\na2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29u\nZi5Db25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLkNvbmZpZ3VyYXRpb25Qcm92aWRlcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxvZzsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIudXRpbC5KMkRvUHJpdkhlbHBlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuT3B0aW9uczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5tZXRhLkFic3RyYWN0Q0ZNZXRhRGF0YUZhY3Rv\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5NZXRhRGF0YU1v\nZGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURhdGFS\nZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLm9zZ2kuQnVuZGxlVXRpbHM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UudmFsaWRhdGlvbi5WYWxpZGF0aW9uVXRpbHM7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5DbGFzc1Jlc29sdmVyOwoK\nCi8qKgogKiBCb290c3RyYXBwaW5nIGNsYXNzIHRoYXQgYWxsb3dzIHRoZSBj\ncmVhdGlvbiBvZiBhIHN0YW5kLWFsb25lCiAqIHtAbGluayBFbnRpdHlNYW5h\nZ2VyfS4KICoKICogQHNlZSBqYXZheC5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5j\nZSNjcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShTdHJpbmcsTWFwKQogKiBA\ncHVibGlzaGVkCiAqLwpwdWJsaWMgY2xhc3MgUGVyc2lzdGVuY2VQcm92aWRl\nckltcGwKICAgIGltcGxlbWVudHMgUGVyc2lzdGVuY2VQcm92aWRlciwgUHJv\ndmlkZXJVdGlsIHsKCiAgICBzdGF0aWMgZmluYWwgU3RyaW5nIENMQVNTX1RS\nQU5TRk9STUVSX09QVElPTlMgPSAiQ2xhc3NUcmFuc2Zvcm1lck9wdGlvbnMi\nOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEVNRl9QT09MID0g\nIkVudGl0eU1hbmFnZXJGYWN0b3J5UG9vbCI7CgogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2Fn\nZShQZXJzaXN0ZW5jZVByb3ZpZGVySW1wbC5jbGFzcyk7CgogICAgcHJpdmF0\nZSBMb2cgX2xvZzsKICAgIC8qKgogICAgICogTG9hZHMgdGhlIGVudGl0eSBt\nYW5hZ2VyIHNwZWNpZmllZCBieSA8Y29kZT5uYW1lPC9jb2RlPiwgYXBwbHlp\nbmcKICAgICAqIHRoZSBwcm9wZXJ0aWVzIGluIDxjb2RlPm08L2NvZGU+IGFz\nIG92ZXJyaWRlcyB0byB0aGUgcHJvcGVydGllcyBkZWZpbmVkCiAgICAgKiBp\nbiB0aGUgWE1MIGNvbmZpZ3VyYXRpb24gZmlsZSBmb3IgPGNvZGU+bmFtZTwv\nY29kZT4uIElmIDxjb2RlPm5hbWU8L2NvZGU+CiAgICAgKiBpcyA8Y29kZT5u\ndWxsPC9jb2RlPiwgdGhpcyBtZXRob2QgbG9hZHMgdGhlIFhNTCBpbiB0aGUg\ncmVzb3VyY2UKICAgICAqIGlkZW50aWZpZWQgYnkgPGNvZGU+cmVzb3VyY2U8\nL2NvZGU+LCBhbmQgdXNlcyB0aGUgZmlyc3QgcmVzb3VyY2UgZm91bmQKICAg\nICAqIHdoZW4gZG9pbmcgdGhpcyBsb29rdXAsIHJlZ2FyZGxlc3Mgb2YgdGhl\nIG5hbWUgc3BlY2lmaWVkIGluIHRoZSBYTUwKICAgICAqIHJlc291cmNlIG9y\nIHRoZSBuYW1lIG9mIHRoZSBqYXIgdGhhdCB0aGUgcmVzb3VyY2UgaXMgY29u\ndGFpbmVkIGluLgogICAgICogVGhpcyBkb2VzIG5vIHBvb2xpbmcgb2YgRW50\naXR5TWFuYWdlcnNGYWN0b3JpZXMuCiAgICAgKiBAcmV0dXJuIEVudGl0eU1h\nbmFnZXJGYWN0b3J5IG9yIG51bGwKICAgICAqLwogICAgcHVibGljIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBjcmVhdGVFbnRpdHlNYW5hZ2VyRmFj\ndG9yeShTdHJpbmcgbmFtZSwgU3RyaW5nIHJlc291cmNlLCBNYXAgbSkgewog\nICAgICAgIFBlcnNpc3RlbmNlUHJvZHVjdERlcml2YXRpb24gcGQgPSBuZXcg\nUGVyc2lzdGVuY2VQcm9kdWN0RGVyaXZhdGlvbigpOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIE9iamVjdCBwb29sVmFsdWUgPSBDb25maWd1cmF0aW9u\ncy5yZW1vdmVQcm9wZXJ0eShFTUZfUE9PTCwgbSk7CiAgICAgICAgICAgIENv\nbmZpZ3VyYXRpb25Qcm92aWRlciBjcCA9IHBkLmxvYWQocmVzb3VyY2UsIG5h\nbWUsIG0pOwogICAgICAgICAgICBpZiAoY3AgPT0gbnVsbCkgewogICAgICAg\nICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAg\nICAgIEJyb2tlckZhY3RvcnkgZmFjdG9yeSA9IGdldEJyb2tlckZhY3Rvcnko\nY3AsIHBvb2xWYWx1ZSwgbnVsbCk7CiAgICAgICAgICAgIE9wZW5KUEFDb25m\naWd1cmF0aW9uIGNvbmYgPSBmYWN0b3J5LmdldENvbmZpZ3VyYXRpb24oKTsK\nICAgICAgICAgICAgX2xvZyA9IGNvbmYuZ2V0TG9nKE9wZW5KUEFDb25maWd1\ncmF0aW9uLkxPR19SVU5USU1FKTsgICAgICAgICAgICAKICAgICAgICAgICAg\ncGQuY2hlY2tQdU5hbWVDb2xsaXNpb25zKF9sb2csbmFtZSk7CiAgICAgICAg\nICAgIAogICAgICAgICAgICAvLyBhZGQgZW5oYW5jZXIKICAgICAgICAgICAg\nbG9hZEFnZW50KGZhY3RvcnkpOwogICAgICAgICAgICAKICAgICAgICAgICAg\nLy8gQ3JlYXRlIGFwcHJvcHJpYXRlIExpZmVjeWNsZUV2ZW50TWFuYWdlcgog\nICAgICAgICAgICBsb2FkVmFsaWRhdG9yKGZhY3RvcnkpOwogICAgICAgICAg\nICAKICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IHRvIHByZWxvYWQg\ndW50aWwgYWZ0ZXIgd2UgZ2V0IGJhY2sgYSBmdWxseSBjb25maWd1cmVkL2lu\nc3RhbnRpYXRlZAogICAgICAgICAgICAvLyBCcm9rZXJGYWN0b3J5LiBUaGlz\nIGlzIGJlY2F1c2UgaXQgaXMgcG9zc2libGUgdGhhdCBzb21lb25lIGhhcyBl\neHRlbmRlZCBPcGVuSlBBCiAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhbmQg\ndGhleSBuZWVkIHRvIGJlIGFsbG93ZWQgdGltZSB0byBjb25maWd1cmUgdGhl\nbXNlbHZlcyBiZWZvcmUgd2UgZ28gb2ZmIGFuZAogICAgICAgICAgICAvLyBz\ndGFydCBpbnN0YW50aW5nIGNvbmZpZ3VyYWJsZSBvYmplY3RzIChpZTpvcGVu\nanBhLk1ldGFEYXRhUmVwb3NpdG9yeSkuIERvbid0IGNhdGNoCiAgICAgICAg\nICAgIC8vIGFueSBleGNlcHRpb25zIGhlcmUgYmVjYXVzZSB3ZSB3YW50IHRv\nIGZhaWwtZmFzdC4KICAgICAgICAgICAgcHJlbG9hZE1ldGFEYXRhUmVwb3Np\ndG9yeShmYWN0b3J5KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVy\nbiBKUEFGYWNhZGVIZWxwZXIudG9FbnRpdHlNYW5hZ2VyRmFjdG9yeShmYWN0\nb3J5KTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAg\nICAgICBpZiAoX2xvZyAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBfbG9n\nLmVycm9yKF9sb2MuZ2V0KCJjcmVhdGUtZW1mLWVycm9yIiwgbmFtZSksIGUp\nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvKgog\nICAgICAgICAgICAgKiAKICAgICAgICAgICAgICogTWFpbnRhaW4gMS54IGJl\naGF2aW9yIG9mIHRocm93aW5nIGV4Y2VwdGlvbnMsIGV2ZW4gdGhvdWdoCiAg\nICAgICAgICAgICAqIEpQQTIgOS4yIC0gY3JlYXRlRU1GICJtdXN0IiByZXR1\ncm4gbnVsbCBmb3IgUFUgaXQgY2FuJ3QgaGFuZGxlLgogICAgICAgICAgICAg\nKiAKICAgICAgICAgICAgICogSlBBIDIuMCBTcGVjaWZpY2F0aW9uIFNlY3Rp\nb24gOS4yIHN0YXRlczoKICAgICAgICAgICAgICogIklmIGEgcHJvdmlkZXIg\nZG9lcyBub3QgcXVhbGlmeSBhcyB0aGUgcHJvdmlkZXIgZm9yIHRoZSBuYW1l\nZCBwZXJzaXN0ZW5jZSB1bml0LCAKICAgICAgICAgICAgICogaXQgbXVzdCBy\nZXR1cm4gbnVsbCB3aGVuIGNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5IGlz\nIGludm9rZWQgb24gaXQuIgogICAgICAgICAgICAgKiBUaGF0IHNwZWNpZmlj\nYXRpb24gY29tcGxpYW5jZSBiZWhhdmlvciBoYXMgaGFwcGVuZWQgZmV3IGxp\nbmVzIGFib3ZlIG9uIG51bGwgcmV0dXJuLiAKICAgICAgICAgICAgICogVGhy\nb3dpbmcgcnVudGltZSBleGNlcHRpb24gaW4gdGhlIGZvbGxvd2luZyBjb2Rl\nIGlzIHZhbGlkIChhbmQgdXNlZnVsKSBiZWhhdmlvcgogICAgICAgICAgICAg\nKiBiZWNhdXNlIHRoZSBxdWFsaWZpZWQgcHJvdmlkZXIgaGFzIGVuY291bnRl\ncmVkIGFuIHVuZXhwZWN0ZWQgc2l0dWF0aW9uLgogICAgICAgICAgICAgKi8K\nICAgICAgICAgICAgdGhyb3cgUGVyc2lzdGVuY2VFeGNlcHRpb25zLnRvUGVy\nc2lzdGVuY2VFeGNlcHRpb24oZSk7ICAgICAgICAgICAgICAgIAogICAgICAg\nIH0KICAgIH0KCiAgICBwcml2YXRlIEJyb2tlckZhY3RvcnkgZ2V0QnJva2Vy\nRmFjdG9yeShDb25maWd1cmF0aW9uUHJvdmlkZXIgY3AsCiAgICAgICAgT2Jq\nZWN0IHBvb2xWYWx1ZSwgQ2xhc3NMb2FkZXIgbG9hZGVyKSB7CiAgICAgICAg\nLy8gaGFuZGxlICJ0cnVlIiBhbmQgImZhbHNlIgogICAgICAgIGlmIChwb29s\nVmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcKICAgICAgICAgICAgJiYgKCJ0cnVl\nIi5lcXVhbHNJZ25vcmVDYXNlKChTdHJpbmcpIHBvb2xWYWx1ZSkKICAgICAg\nICAgICAgICAgIHx8ICJmYWxzZSIuZXF1YWxzSWdub3JlQ2FzZSgoU3RyaW5n\nKSBwb29sVmFsdWUpKSkKICAgICAgICAgICAgcG9vbFZhbHVlID0gQm9vbGVh\nbi52YWx1ZU9mKChTdHJpbmcpIHBvb2xWYWx1ZSk7CgogICAgICAgIGlmIChw\nb29sVmFsdWUgIT0gbnVsbCAmJiAhKHBvb2xWYWx1ZSBpbnN0YW5jZW9mIEJv\nb2xlYW4pKSB7CiAgICAgICAgICAgIC8vIHdlIG9ubHkgc3VwcG9ydCBib29s\nZWFuIHNldHRpbmdzIGZvciB0aGlzIG9wdGlvbiBjdXJyZW50bHkuCiAgICAg\nICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24ocG9v\nbFZhbHVlLnRvU3RyaW5nKCkpOwogICAgICAgIH0KICAgICAgICAKICAgICAg\nICBpZiAocG9vbFZhbHVlID09IG51bGwgfHwgISgoQm9vbGVhbikgcG9vbFZh\nbHVlKS5ib29sZWFuVmFsdWUoKSkKICAgICAgICAgICAgcmV0dXJuIEJvb3Rz\ndHJhcC5uZXdCcm9rZXJGYWN0b3J5KGNwLCBsb2FkZXIpOwogICAgICAgIGVs\nc2UKICAgICAgICAgICAgcmV0dXJuIEJvb3RzdHJhcC5nZXRCcm9rZXJGYWN0\nb3J5KGNwLCBsb2FkZXIpOwogICAgfQoKICAgIHB1YmxpYyBPcGVuSlBBRW50\naXR5TWFuYWdlckZhY3RvcnkgY3JlYXRlRW50aXR5TWFuYWdlckZhY3Rvcnko\nU3RyaW5nIG5hbWUsIE1hcCBtKSB7CiAgICAgICAgcmV0dXJuIGNyZWF0ZUVu\ndGl0eU1hbmFnZXJGYWN0b3J5KG5hbWUsIG51bGwsIG0pOwogICAgfQoKICAg\nIHB1YmxpYyBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgY3JlYXRlQ29u\ndGFpbmVyRW50aXR5TWFuYWdlckZhY3RvcnkoUGVyc2lzdGVuY2VVbml0SW5m\nbyBwdWksIE1hcCBtKSB7CiAgICAgICAgUGVyc2lzdGVuY2VQcm9kdWN0RGVy\naXZhdGlvbiBwZCA9IG5ldyBQZXJzaXN0ZW5jZVByb2R1Y3REZXJpdmF0aW9u\nKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgT2JqZWN0IHBvb2xWYWx1\nZSA9IENvbmZpZ3VyYXRpb25zLnJlbW92ZVByb3BlcnR5KEVNRl9QT09MLCBt\nKTsKICAgICAgICAgICAgQ29uZmlndXJhdGlvblByb3ZpZGVyIGNwID0gcGQu\nbG9hZChwdWksIG0pOwogICAgICAgICAgICBpZiAoY3AgPT0gbnVsbCkKICAg\nICAgICAgICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICAgICAgLy8gYWRk\nIGVuaGFuY2VyCiAgICAgICAgICAgIEV4Y2VwdGlvbiB0cmFuc2Zvcm1lckV4\nY2VwdGlvbiA9IG51bGw7CiAgICAgICAgICAgIFN0cmluZyBjdE9wdHMgPSAo\nU3RyaW5nKSBDb25maWd1cmF0aW9ucy5nZXRQcm9wZXJ0eShDTEFTU19UUkFO\nU0ZPUk1FUl9PUFRJT05TLCBwdWkuZ2V0UHJvcGVydGllcygpKTsKICAgICAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHB1aS5hZGRUcmFuc2Zvcm1l\ncihuZXcgQ2xhc3NUcmFuc2Zvcm1lckltcGwoY3AsIGN0T3B0cywKICAgICAg\nICAgICAgICAgICAgICBwdWkuZ2V0TmV3VGVtcENsYXNzTG9hZGVyKCksIG5l\nd0NvbmZpZ3VyYXRpb25JbXBsKCkpKTsKICAgICAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIC8vIGZhaWwgZ3JhY2Vm\ndWxseQogICAgICAgICAgICAgICAgdHJhbnNmb3JtZXJFeGNlcHRpb24gPSBl\nOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBpZiB0aGUgQnJva2Vy\nSW1wbCBoYXNuJ3QgYmVlbiBzcGVjaWZpZWQsIHN3aXRjaCB0byB0aGUKICAg\nICAgICAgICAgLy8gbm9uLWZpbmFsaXppbmcgb25lLCBzaW5jZSBhbnl0aGlu\nZyBjbGFpbWluZyB0byBiZSBhIGNvbnRhaW5lcgogICAgICAgICAgICAvLyBz\naG91bGQgYmUgZG9pbmcgcHJvcGVyIHJlc291cmNlIG1hbmFnZW1lbnQuCiAg\nICAgICAgICAgIGlmICghQ29uZmlndXJhdGlvbnMuY29udGFpbnNQcm9wZXJ0\neShCcm9rZXJWYWx1ZS5LRVksIGNwLmdldFByb3BlcnRpZXMoKSkpIHsKICAg\nICAgICAgICAgICAgIGNwLmFkZFByb3BlcnR5KCJvcGVuanBhLiIgKyBCcm9r\nZXJWYWx1ZS5LRVksIGdldERlZmF1bHRCcm9rZXJBbGlhcygpKTsKICAgICAg\nICAgICAgfQoKICAgICAgICAgICAgLy8gT1BFTkpQQS0xNDkxIElmIHJ1bm5p\nbmcgdW5kZXIgT1NHaSwgdXNlIHRoZSBCdW5kbGUncyBDbGFzc0xvYWRlciBp\nbnN0ZWFkIG9mIHRoZSBhcHBsaWNhdGlvbiBvbmUKICAgICAgICAgICAgQnJv\na2VyRmFjdG9yeSBmYWN0b3J5OwogICAgICAgICAgICBpZiAoQnVuZGxlVXRp\nbHMucnVubmluZ1VuZGVyT1NHaSgpKSB7CiAgICAgICAgICAgICAgICBmYWN0\nb3J5ID0gZ2V0QnJva2VyRmFjdG9yeShjcCwgcG9vbFZhbHVlLCBCdW5kbGVV\ndGlscy5nZXRCdW5kbGVDbGFzc0xvYWRlcigpKTsKICAgICAgICAgICAgfSBl\nbHNlIHsKICAgICAgICAgICAgICAgIGZhY3RvcnkgPSBnZXRCcm9rZXJGYWN0\nb3J5KGNwLCBwb29sVmFsdWUsIHB1aS5nZXRDbGFzc0xvYWRlcigpKTsKICAg\nICAgICAgICAgfQoKICAgICAgICAgICAgT3BlbkpQQUNvbmZpZ3VyYXRpb24g\nY29uZiA9IGZhY3RvcnkuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgICAg\nICBzZXRQZXJzaXN0ZW5jZUVudmlyb25tZW50SW5mbyhjb25mLCBwdWkpOwog\nICAgICAgICAgICBfbG9nID0gY29uZi5nZXRMb2coT3BlbkpQQUNvbmZpZ3Vy\nYXRpb24uTE9HX1JVTlRJTUUpOwogICAgICAgICAgICAvLyBub3cgd2UgY2Fu\nIGxvZyBhbnkgdHJhbnNmb3JtZXIgZXhjZXB0aW9ucyBmcm9tIGFib3ZlCiAg\nICAgICAgICAgIGlmICh0cmFuc2Zvcm1lckV4Y2VwdGlvbiAhPSBudWxsKSB7\nCiAgICAgICAgICAgICAgICBpZiAoX2xvZy5pc1RyYWNlRW5hYmxlZCgpKSB7\nCiAgICAgICAgICAgICAgICAgICAgX2xvZy53YXJuKF9sb2MuZ2V0KCJ0cmFu\nc2Zvcm1lci1yZWdpc3RyYXRpb24tZXJyb3ItZXgiLCBwdWkpLCB0cmFuc2Zv\ncm1lckV4Y2VwdGlvbik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAg\nICAgICAgICAgICAgICAgIF9sb2cud2FybihfbG9jLmdldCgidHJhbnNmb3Jt\nZXItcmVnaXN0cmF0aW9uLWVycm9yIiwgcHVpKSk7CiAgICAgICAgICAgICAg\nICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENyZWF0ZSBhcHBy\nb3ByaWF0ZSBMaWZlY3ljbGVFdmVudE1hbmFnZXIKICAgICAgICAgICAgbG9h\nZFZhbGlkYXRvcihmYWN0b3J5KTsKICAgICAgICAgICAgCiAgICAgICAgICAg\nIC8vIFdlIG5lZWQgdG8gd2FpdCB0byBwcmVsb2FkIHVudGlsIGFmdGVyIHdl\nIGdldCBiYWNrIGEgZnVsbHkgY29uZmlndXJlZC9pbnN0YW50aWF0ZWQKICAg\nICAgICAgICAgLy8gQnJva2VyRmFjdG9yeS4gVGhpcyBpcyBiZWNhdXNlIGl0\nIGlzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSBoYXMgZXh0ZW5kZWQgT3BlbkpQ\nQQogICAgICAgICAgICAvLyBmdW5jdGlvbnMgYW5kIHRoZXkgbmVlZCB0byBi\nZSBhbGxvd2VkIHRpbWUgdG8gY29uZmlndXJlIHRoZW1zZWx2ZXMgYmVmb3Jl\nIHdlIGdvIG9mZiBhbmQKICAgICAgICAgICAgLy8gc3RhcnQgaW5zdGFudGlu\nZyBjb25maWd1cmFibGUgb2JqZWN0cyAoaWU6b3BlbmpwYS5NZXRhRGF0YVJl\ncG9zaXRvcnkpLiBEb24ndCBjYXRjaAogICAgICAgICAgICAvLyBhbnkgZXhj\nZXB0aW9ucyBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBmYWlsLWZhc3QuCiAg\nICAgICAgICAgIHByZWxvYWRNZXRhRGF0YVJlcG9zaXRvcnkoZmFjdG9yeSk7\nCiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gSlBBRmFjYWRlSGVs\ncGVyLnRvRW50aXR5TWFuYWdlckZhY3RvcnkoZmFjdG9yeSk7CiAgICAgICAg\nfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgdGhyb3cgUGVy\nc2lzdGVuY2VFeGNlcHRpb25zLnRvUGVyc2lzdGVuY2VFeGNlcHRpb24oZSk7\nCiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFBlcnNpc3Rl\nbmNlRW52aXJvbm1lbnRJbmZvKE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYs\nIFBlcnNpc3RlbmNlVW5pdEluZm8gcHVpKSB7CiAgICAgICAgLy8gT1BFTkpQ\nQS0xNDYwIEZpeCBzY29wZSB2aXNpYmlsaXR5IG9mIG9ybS54bWwgd2hlbiBp\ndCBpcyBwYWNrYWdlZCBpbiBib3RoIGVhciBmaWxlIGFuZCB3YXIgZmlsZQog\nICAgICAgIGlmIChjb25mIGluc3RhbmNlb2YgT3BlbkpQQUNvbmZpZ3VyYXRp\nb25JbXBsKSB7CiAgICAgICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcGVN\nYXAgPSgoT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsKWNvbmYpLmdldFBlcnNp\nc3RlbmNlRW52aXJvbm1lbnQoKTsKICAgICAgICAgICAgaWYgKHBlTWFwID09\nIG51bGwpIHsKICAgICAgICAgICAgICAgIHBlTWFwID0gbmV3IEhhc2hNYXA8\nU3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgICAgICAgICAoKE9wZW5KUEFD\nb25maWd1cmF0aW9uSW1wbCljb25mKS5zZXRQZXJzaXN0ZW5jZUVudmlyb25t\nZW50KHBlTWFwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBwZU1hcC5w\ndXQoQWJzdHJhY3RDRk1ldGFEYXRhRmFjdG9yeS5QRVJTSVNURU5DRV9VTklU\nX1JPT1RfVVJMLCBwdWkuZ2V0UGVyc2lzdGVuY2VVbml0Um9vdFVybCgpKTsK\nICAgICAgICAgICAgcGVNYXAucHV0KEFic3RyYWN0Q0ZNZXRhRGF0YUZhY3Rv\ncnkuTUFQUElOR19GSUxFX05BTUVTLCBwdWkuZ2V0TWFwcGluZ0ZpbGVOYW1l\ncygpKTsKICAgICAgICAgICAgcGVNYXAucHV0KEFic3RyYWN0Q0ZNZXRhRGF0\nYUZhY3RvcnkuSkFSX0ZJTEVfVVJMUywgcHVpLmdldEphckZpbGVVcmxzKCkp\nOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLyoKICAgICAqIFJldHVybnMg\nYSBQcm92aWRlclV0aWwgZm9yIHVzZSB3aXRoIGVudGl0aWVzIG1hbmFnZWQg\nYnkgdGhpcwogICAgICogcGVyc2lzdGVuY2UgcHJvdmlkZXIuCiAgICAgKi8K\nICAgIHB1YmxpYyBQcm92aWRlclV0aWwgZ2V0UHJvdmlkZXJVdGlsKCkgewog\nICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qCiAgICAgKiBSZXR1\ncm5zIGEgZGVmYXVsdCBCcm9rZXIgYWxpYXMgdG8gYmUgdXNlZCB3aGVuIG5v\nIG9wZW5qcGEuQnJva2VySW1wbAogICAgICogIGlzIHNwZWNpZmllZC4gVGhp\ncyBtZXRob2QgYWxsb3dzIFBlcnNpc3RlbmNlUHJvdmlkZXIgc3ViY2xhc3Mg\ndG8KICAgICAqICBvdmVycmlkZSB0aGUgZGVmYXVsdCBicm9rZXIgYWxpYXMu\nCiAgICAgKi8KICAgIHByb3RlY3RlZCBTdHJpbmcgZ2V0RGVmYXVsdEJyb2tl\nckFsaWFzKCkgewogICAgICAgIHJldHVybiBCcm9rZXJWYWx1ZS5OT05fRklO\nQUxJWklOR19BTElBUzsKICAgIH0KICAgIAogICAgLyoKICAgICAqIFJldHVy\nbiBhIG5ldyBpbnN0YW5jZSBvZiBDb25maWd1cmF0aW9uIHN1YmNsYXNzIHVz\nZWQgYnkgZW50aXR5CiAgICAgKiBlbmhhbmNlbWVudCBpbiBDbGFzc1RyYW5z\nZm9ybWVySW1wbC4gSWYgT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsCiAgICAg\nKiBpbnN0YW5jZSBpcyB1c2VkLCBjb25maWd1cmF0aW9uIG9wdGlvbnMgZGVj\nbGFyZWQgaW4gY29uZmlndXJhdGlvbgogICAgICogc3ViLWNsYXNzIHdpbGwg\nbm90IGJlIHJlY29nbml6ZWQgYW5kIGEgd2FybmluZyBpcyBwb3N0ZWQgaW4g\ndGhlIGxvZy4KICAgICAqLwogICAgcHJvdGVjdGVkIE9wZW5KUEFDb25maWd1\ncmF0aW9uIG5ld0NvbmZpZ3VyYXRpb25JbXBsKCkgewogICAgICAgIHJldHVy\nbiBuZXcgT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsKCk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBQcml2YXRlIHdvcmtlciBtZXRob2QgdGhhdCB3aWxsIGNh\nbGwgdG8gdGhlIE1ldGFEYXRhUmVwb3NpdG9yeSB0byBwcmVsb2FkIGlmIHRo\nZSBwcm92aWRlZAogICAgICogQnJva2VyRmFjdG9yeSBpcyBjb25maWd1cmVk\nIHRvIGRvIHNvLgogICAgICovCiAgICBwcml2YXRlIHZvaWQgcHJlbG9hZE1l\ndGFEYXRhUmVwb3NpdG9yeShCcm9rZXJGYWN0b3J5IGZhY3RvcnkpewogICAg\nICAgIC8vIFdlIG5lZWQgdG8gd2FpdCB0byBwcmVsb2FkIHVudGlsIGFmdGVy\nIHdlIGdldCBiYWNrIGEgZnVsbHkgY29uZmlndXJlZC9pbnN0YW50aWF0ZWQK\nICAgICAgICAvLyBCcm9rZXJGYWN0b3J5LiBUaGlzIGlzIGJlY2F1c2UgaXQg\naXMgcG9zc2libGUgdGhhdCBzb21lb25lIGhhcyBleHRlbmRlZCBPcGVuSlBB\nCiAgICAgICAgLy8gZnVuY3Rpb25zIGFuZCB0aGV5IG5lZWQgdG8gYmUgYWxs\nb3dlZCB0aW1lIHRvIGNvbmZpZ3VyZSB0aGVtc2VsdmVzIGJlZm9yZSB3ZSBn\nbyBvZmYgYW5kCiAgICAgICAgLy8gc3RhcnQgaW5zdGFudGlhdGluZyBjb25m\naWd1cmFibGUgb2JqZWN0cyAoaWU6b3BlbmpwYS5NZXRhRGF0YVJlcG9zaXRv\ncnkpLiBEb24ndCBjYXRjaAogICAgICAgIC8vIGFueSBleGNlcHRpb25zIGhl\ncmUgYmVjYXVzZSB3ZSB3YW50IHRvIGZhaWwtZmFzdC4KICAgICAgICBPcGVu\nSlBBQ29uZmlndXJhdGlvbiBjb25mID0gZmFjdG9yeS5nZXRDb25maWd1cmF0\naW9uKCk7CiAgICAgICAgT3B0aW9ucyBvID0gQ29uZmlndXJhdGlvbnMucGFy\nc2VQcm9wZXJ0aWVzKENvbmZpZ3VyYXRpb25zLmdldFByb3BlcnRpZXMoY29u\nZi5nZXRNZXRhRGF0YVJlcG9zaXRvcnkoKSkpOwogICAgICAgIGlmIChNZXRh\nRGF0YVJlcG9zaXRvcnkubmVlZHNQcmVsb2FkKG8pID09IHRydWUpIHsKICAg\nICAgICAgICAgTWV0YURhdGFSZXBvc2l0b3J5IG1kciA9IGNvbmYuZ2V0TWV0\nYURhdGFSZXBvc2l0b3J5SW5zdGFuY2UoKTsgCiAgICAgICAgICAgIG1kci5z\nZXRWYWxpZGF0ZShNZXRhRGF0YVJlcG9zaXRvcnkuVkFMSURBVEVfUlVOVElN\nRSwgdHJ1ZSk7CiAgICAgICAgICAgIG1kci5zZXRSZXNvbHZlKE1ldGFEYXRh\nUmVwb3NpdG9yeS5NT0RFX01BUFBJTkdfSU5JVCwgdHJ1ZSk7CiAgICAgICAg\nICAgIAogICAgICAgICAgICAvLyBMb2FkIHBlcnNpc3RlbnQgY2xhc3NlcyBh\nbmQgaG9vayBpbiBzdWJjbGFzc2VyCiAgICAgICAgICAgICgoQWJzdHJhY3RC\ncm9rZXJGYWN0b3J5KSBmYWN0b3J5KS5sb2FkUGVyc2lzdGVudFR5cGVzKChD\nbGFzc0xvYWRlcikgQWNjZXNzQ29udHJvbGxlcgogICAgICAgICAgICAgICAg\nLmRvUHJpdmlsZWdlZChKMkRvUHJpdkhlbHBlci5nZXRDb250ZXh0Q2xhc3NM\nb2FkZXJBY3Rpb24oKSkpOwogICAgICAgICAgICBtZHIucHJlbG9hZCgpOwog\nICAgICAgIH0KICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBKYXZhIEVFIDUg\nY2xhc3MgdHJhbnNmb3JtZXIuCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGlj\nIGNsYXNzIENsYXNzVHJhbnNmb3JtZXJJbXBsCiAgICAgICAgaW1wbGVtZW50\ncyBDbGFzc1RyYW5zZm9ybWVyIHsKCiAgICAgICAgcHJpdmF0ZSBmaW5hbCBD\nbGFzc0ZpbGVUcmFuc2Zvcm1lciBfdHJhbnM7CgogICAgICAgIHByaXZhdGUg\nQ2xhc3NUcmFuc2Zvcm1lckltcGwoQ29uZmlndXJhdGlvblByb3ZpZGVyIGNw\nLCBTdHJpbmcgcHJvcHMsIAogICAgICAgICAgICBmaW5hbCBDbGFzc0xvYWRl\nciB0bXBMb2FkZXIsIE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYpIHsKICAg\nICAgICAgICAgY3Auc2V0SW50byhjb25mKTsKICAgICAgICAgICAgLy8gdXNl\nIHRoZSB0ZW1wb3JhcnkgbG9hZGVyIGZvciBldmVyeXRoaW5nCiAgICAgICAg\nICAgIGNvbmYuc2V0Q2xhc3NSZXNvbHZlcihuZXcgQ2xhc3NSZXNvbHZlcigp\nIHsKICAgICAgICAgICAgICAgIHB1YmxpYyBDbGFzc0xvYWRlciBnZXRDbGFz\nc0xvYWRlcihDbGFzczw/PiBjb250ZXh0LCBDbGFzc0xvYWRlciBlbnYpIHsK\nICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG1wTG9hZGVyOwogICAgICAg\nICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uZi5z\nZXRSZWFkT25seShDb25maWd1cmF0aW9uLklOSVRfU1RBVEVfRlJFRVpJTkcp\nOwoKICAgICAgICAgICAgTWV0YURhdGFSZXBvc2l0b3J5IHJlcG9zID0gY29u\nZi5nZXRNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgpOwogICAgICAgICAg\nICByZXBvcy5zZXRSZXNvbHZlKE1ldGFEYXRhTW9kZXMuTU9ERV9NQVBQSU5H\nLCBmYWxzZSk7CiAgICAgICAgICAgIF90cmFucyA9IG5ldyBQQ0NsYXNzRmls\nZVRyYW5zZm9ybWVyKHJlcG9zLAogICAgICAgICAgICAgICAgQ29uZmlndXJh\ndGlvbnMucGFyc2VQcm9wZXJ0aWVzKHByb3BzKSwgdG1wTG9hZGVyKTsKICAg\nICAgICB9CgogICAgICAgIHB1YmxpYyBieXRlW10gdHJhbnNmb3JtKENsYXNz\nTG9hZGVyIGNsLCBTdHJpbmcgbmFtZSwKICAgICAgICAgICAgQ2xhc3M8Pz4g\ncHJldmlvdXNWZXJzaW9uLCBQcm90ZWN0aW9uRG9tYWluIHBkLCBieXRlW10g\nYnl0ZXMpCiAgICAgICAgICAgIHRocm93cyBJbGxlZ2FsQ2xhc3NGb3JtYXRF\neGNlcHRpb24gewogICAgICAgICAgICByZXR1cm4gX3RyYW5zLnRyYW5zZm9y\nbShjbCwgbmFtZSwgcHJldmlvdXNWZXJzaW9uLCBwZCwgYnl0ZXMpOwogICAg\nICAgIH0KCX0KICAgIAogICAgLyoqCiAgICAgKiBUaGlzIHByaXZhdGUgd29y\na2VyIG1ldGhvZCB3aWxsIGF0dGVtcHQgbG9hZCB0aGUgUENFbmhhbmNlckFn\nZW50LgogICAgICovCiAgICBwcml2YXRlIHZvaWQgbG9hZEFnZW50KEJyb2tl\nckZhY3RvcnkgZmFjdG9yeSkgewogICAgICAgIE9wZW5KUEFDb25maWd1cmF0\naW9uIGNvbmYgPSBmYWN0b3J5LmdldENvbmZpZ3VyYXRpb24oKTsKICAgICAg\nICBMb2cgbG9nID0gY29uZi5nZXRMb2coT3BlbkpQQUNvbmZpZ3VyYXRpb24u\nTE9HX1JVTlRJTUUpOwoKICAgICAgICBpZiAoY29uZi5nZXREeW5hbWljRW5o\nYW5jZW1lbnRBZ2VudCgpID09IHRydWUpIHsKICAgICAgICAgICAgYm9vbGVh\nbiByZXMgPSBQQ0VuaGFuY2VyQWdlbnQubG9hZER5bmFtaWNBZ2VudChsb2cp\nOwogICAgICAgICAgICBpZiAobG9nLmlzSW5mb0VuYWJsZWQoKSAmJiByZXMg\nPT0gdHJ1ZSApewogICAgICAgICAgICAgICAgbG9nLmluZm8oX2xvYy5nZXQo\nImR5bmFtaWMtYWdlbnQiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAg\nICB9CiAgICAKICAgIC8qKgogICAgICogVGhpcyBwcml2YXRlIHdvcmtlciBt\nZXRob2Qgd2lsbCBhdHRlbXB0IHRvIHNldHVwIHRoZSBwcm9wZXIKICAgICAq\nIExpZmVjeWNsZUV2ZW50TWFuYWdlciB0eXBlIGJhc2VkIG9uIGlmIHRoZSBq\nYXZheC52YWxpZGF0aW9uIEFQSXMgYXJlCiAgICAgKiBhdmFpbGFibGUgYW5k\nIGEgVmFsaWRhdG9ySW1wbCBpcyByZXF1aXJlZCBieSB0aGUgY29uZmlndXJh\ndGlvbi4KICAgICAqIEBwYXJhbSBsb2cKICAgICAqIEBwYXJhbSBjb25mCiAg\nICAgKiBAdGhyb3dzIGlmIHZhbGlkYXRpb24gc2V0dXAgZmFpbGVkIGFuZCB3\nYXMgcmVxdWlyZWQgYnkgdGhlIGNvbmZpZwogICAgICovCiAgICBwcml2YXRl\nIHZvaWQgbG9hZFZhbGlkYXRvcihCcm9rZXJGYWN0b3J5IGZhY3RvcnkpIHsK\nICAgICAgICBPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25mID0gZmFjdG9yeS5n\nZXRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgTG9nIGxvZyA9IGNvbmYuZ2V0\nTG9nKE9wZW5KUEFDb25maWd1cmF0aW9uLkxPR19SVU5USU1FKTsKCiAgICAg\nICAgaWYgKChWYWxpZGF0aW9uVXRpbHMuc2V0dXBWYWxpZGF0aW9uKGNvbmYp\nID09IHRydWUpICYmCiAgICAgICAgICAgICAgICBsb2cuaXNJbmZvRW5hYmxl\nZCgpKSB7CiAgICAgICAgICAgIGxvZy5pbmZvKF9sb2MuZ2V0KCJ2bGVtLWNy\nZWF0aW9uLWluZm8iKSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAg\nICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlz\nIGxvYWRlZC4KICAgICAqIAogICAgICogQHJldHVybiBMb2FkU3RhdGUuTE9B\nREVEIC0gaWYgYWxsIGltcGxpY2l0IG9yIGV4cGxpY2l0IEVBR0VSIGZldGNo\nCiAgICAgKiAgICAgICAgIGF0dHJpYnV0ZXMgYXJlIGxvYWRlZAogICAgICog\nICAgICAgICBMb2FkU3RhdGUuTk9UX0xPQURFRCAtIGlmIGFueSBpbXBsaWNp\ndCBvciBleHBsaWNpdCBFQUdFUiBmZXRjaAogICAgICogICAgICAgICBhdHRy\naWJ1dGUgaXMgbm90IGxvYWRlZAogICAgICogICAgICAgICBMb2FkU3RhdGUu\nVU5LTk9XTiAtIGlmIHRoZSBlbnRpdHkgaXMgbm90IG1hbmFnZWQgYnkgdGhp\ncwogICAgICogICAgICAgICBwcm92aWRlci4KICAgICAqLwogICAgcHVibGlj\nIExvYWRTdGF0ZSBpc0xvYWRlZChPYmplY3Qgb2JqKSB7CiAgICAgICAgcmV0\ndXJuIGlzTG9hZGVkV2l0aG91dFJlZmVyZW5jZShvYmosIG51bGwpOwogICAg\nfQoKICAgIC8qKgogICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBhdHRy\naWJ1dGUgb24gdGhlIHNwZWNpZmllZCBvYmplY3QgaXMgbG9hZGVkLiAgVGhp\ncwogICAgICogbWV0aG9kIG1heSBhY2Nlc3MgdGhlIHZhbHVlIG9mIHRoZSBh\ndHRyaWJ1dGUgdG8gZGV0ZXJtaW5lIGxvYWQgc3RhdGUgKGJ1dAogICAgICog\nY3VycmVudGx5IGRvZXMgbm90KS4KICAgICAqIAogICAgICogQHJldHVybiBM\nb2FkU3RhdGUuTE9BREVEIC0gaWYgdGhlIGF0dHJpYnV0ZSBpcyBsb2FkZWQu\nCiAgICAgKiAgICAgICAgIExvYWRTdGF0ZS5OT1RfTE9BREVEIC0gaWYgdGhl\nIGF0dHJpYnV0ZSBpcyBub3QgbG9hZGVkIG9yIGFueQogICAgICogICAgICAg\nICBFQUdFUiBmZXRjaCBhdHRyaWJ1dGVzIG9mIHRoZSBlbnRpdHkgYXJlIG5v\ndCBsb2FkZWQuCiAgICAgKiAgICAgICAgIExvYWRTdGF0ZS5VTktOT1dOIC0g\naWYgdGhlIGVudGl0eSBpcyBub3QgbWFuYWdlZCBieSB0aGlzCiAgICAgKiAg\nICAgICAgIHByb3ZpZGVyIG9yIGlmIGl0IGRvZXMgbm90IGNvbnRhaW4gdGhl\nIHBlcnNpc3RlbnQKICAgICAqICAgICAgICAgYXR0cmlidXRlLgogICAgICov\nCiAgICBwdWJsaWMgTG9hZFN0YXRlIGlzTG9hZGVkV2l0aFJlZmVyZW5jZShP\nYmplY3Qgb2JqLCBTdHJpbmcgYXR0cikgewogICAgICAgIC8vIFRPRE86IEFy\nZSB0aGVyZSBiZSBhbnkgY2FzZXMgd2hlcmUgT3BlbkpQQSB3aWxsIG5lZWQg\ndG8gZXhhbWluZQogICAgICAgIC8vIHRoZSBjb250ZW50cyBvZiBhIGZpZWxk\nIHRvIGRldGVybWluZSBsb2FkIHN0YXRlPyAgSWYgc28sIHBlciBKUEEgCiAg\nICAgICAgLy8gY29udHJhY3QsIHRoaXMgbWV0aG9kIHBlcm1pdHMgdGhhdCBz\nb3J0IG9mIGFjY2Vzcy4gSW4gdGhlIGV4dHJlbWVseSAKICAgICAgICAvLyB1\nbmxpa2VseSBjYXNlIHRoYXQgdGhlIHRoZSBlbnRpdHkgaXMgbWFuYWdlZCBi\neSBtdWx0aXBsZSBwcm92aWRlcnMsIAogICAgICAgIC8vIGV2ZW4gaWYgaXQg\nZG9lc24ndCB0cmlnZ2VyIGxvYWRpbmcgaW4gT3BlbkpQQSwgYWNjZXNzaW5n\nIGZpZWxkIGRhdGEgCiAgICAgICAgLy8gY291bGQgdHJpZ2dlciBsb2FkaW5n\nIGJ5IGFuIGFsdGVybmF0ZSBwcm92aWRlci4KICAgICAgICByZXR1cm4gaXNM\nb2FkZWRXaXRob3V0UmVmZXJlbmNlKG9iaiwgYXR0cik7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGF0dHJpYnV0ZSBv\nbiB0aGUgc3BlY2lmaWVkIG9iamVjdCBpcyBsb2FkZWQuICBUaGlzCiAgICAg\nKiBtZXRob2QgZG9lcyBub3QgYWNjZXNzIHRoZSB2YWx1ZSBvZiB0aGUgYXR0\ncmlidXRlIHRvIGRldGVybWluZSBsb2FkIAogICAgICogc3RhdGUuCiAgICAg\nKiAKICAgICAqIEByZXR1cm4gTG9hZFN0YXRlLkxPQURFRCAtIGlmIHRoZSBh\ndHRyaWJ1dGUgaXMgbG9hZGVkLgogICAgICogICAgICAgICBMb2FkU3RhdGUu\nTk9UX0xPQURFRCAtIGlmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IGxvYWRlZCBv\nciBhbnkKICAgICAqICAgICAgICAgRUFHRVIgZmV0Y2ggYXR0cmlidXRlcyBv\nZiB0aGUgZW50aXR5IGFyZSBub3QgbG9hZGVkLgogICAgICogICAgICAgICBM\nb2FkU3RhdGUuVU5LTk9XTiAtIGlmIHRoZSBlbnRpdHkgaXMgbm90IG1hbmFn\nZWQgYnkgdGhpcwogICAgICogICAgICAgICBwcm92aWRlciBvciBpZiBpdCBk\nb2VzIG5vdCBjb250YWluIHRoZSBwZXJzaXN0ZW50CiAgICAgKiAgICAgICAg\nIGF0dHJpYnV0ZS4KICAgICAqLwogICAgcHVibGljIExvYWRTdGF0ZSBpc0xv\nYWRlZFdpdGhvdXRSZWZlcmVuY2UoT2JqZWN0IG9iaiwgU3RyaW5nIGF0dHIp\nIHsgICAgICAgIAogICAgICAgIGlmIChvYmogPT0gbnVsbCkgewogICAgICAg\nICAgICByZXR1cm4gTG9hZFN0YXRlLlVOS05PV047CiAgICAgICAgfQoKICAg\nICAgICByZXR1cm4gT3BlbkpQQVBlcnNpc3RlbmNlVXRpbC5pc0xvYWRlZChv\nYmosIGF0dHIpOwogICAgfQp9Cg==\n","encoding":"base64"}

