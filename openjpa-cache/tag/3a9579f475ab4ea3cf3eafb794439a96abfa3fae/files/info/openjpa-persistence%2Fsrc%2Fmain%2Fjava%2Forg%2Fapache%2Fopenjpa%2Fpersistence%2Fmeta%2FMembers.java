{"sha":"b2648204e65c5f1cc516ff1d40f0f6ccb2487a3c","node_id":"MDQ6QmxvYjIwNjM2NDpiMjY0ODIwNGU2NWM1ZjFjYzUxNmZmMWQ0MGYwZjZjY2IyNDg3YTNj","size":11412,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b2648204e65c5f1cc516ff1d40f0f6ccb2487a3c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsKCmlt\ncG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5T\nZXQ7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLkF0dHJp\nYnV0ZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5Db2xs\nZWN0aW9uQXR0cmlidXRlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0\nYW1vZGVsLkxpc3RBdHRyaWJ1dGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5tZXRhbW9kZWwuTWFuYWdlZFR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5tZXRhbW9kZWwuTWFwQXR0cmlidXRlOwppbXBvcnQgamF2YXgucGVy\nc2lzdGVuY2UubWV0YW1vZGVsLlBsdXJhbEF0dHJpYnV0ZTsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5TZXRBdHRyaWJ1dGU7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuU2luZ3VsYXJBdHRyaWJ1\ndGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuVHlwZTsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFEYXRh\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwoK\nLyoqCiAqIFBlcnNpc3RlbnQgYXR0cmlidXRlIGFjY29yZGluZyB0byBKUEEg\nMi4wIG1ldGFtb2RlbC4KICogCiAqIEltcGxlbWVudGVkIGFzIGEgdGhpbiBh\nZGFwdGVyIHRvIE9wZW5KUEEgRmllbGRNZXRhZGF0YS4gTW9zdGx5IGltbXV0\nYWJsZS4KICogCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcgogKiAKICogQHNp\nbmNlIDIuMC4wCiAqCiAqLwpwdWJsaWMgY2xhc3MgTWVtYmVycyB7CiAgICAv\nKioKICAgICAqIEFuIGF0dHJpYnV0ZSBvZiBhIEphdmEgdHlwZS4gQSBwZXJz\naXN0ZW50IGF0dHJpYnV0ZSBpcyByZWFsaXplZCBhcyBhIGZpZWxkIGFuZCBn\nZXR0ZXIvc2V0dGVyCiAgICAgKiBtZXRob2Qgb2YgYSBKYXZhIGNsYXNzLiBU\naGlzIGltcGxlbWVudGF0aW9uIGFkYXB0cyBrZXJuZWwncyB7QGxpbmsgRmll\nbGRNZXRhRGF0YX0gY29uc3RydWN0IAogICAgICogdG8gbWVldCB0aGUgSlBB\nIEFQSSBjb250cmFjdC4KCSAqCgkgKgogICAgICogQHBhcmFtIDxYPiBUaGUg\ndHlwZSB0aGF0IGNvbnRhaW5zIHRoaXMgYXR0cmlidXRlCiAgICAgKiBAcGFy\nYW0gPFk+IFRoZSB0eXBlIG9mIHRoaXMgYXR0cmlidXRlCgkgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgYWJzdHJhY3QgY2xhc3MgTWVtYmVyPFgsIFk+IGltcGxl\nbWVudHMgQXR0cmlidXRlPFgsIFk+LCBDb21wYXJhYmxlPE1lbWJlcjxYLFk+\nPiB7CiAgICAgICAgcHVibGljIGZpbmFsIEFic3RyYWN0TWFuYWdlZFR5cGU8\nWD4gb3duZXI7CiAgICAgICAgcHVibGljIGZpbmFsIEZpZWxkTWV0YURhdGEg\nZm1kOwoKICAgICAgICAvKioKICAgICAgICAgKiBTdXBwbHkgaW1tdXRhYmxl\nIHBhcnRzLgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBvd25lciB0\naGUgcGVyc2lzdGVudCB0eXBlIHRoYXQgY29udGFpbnMgdGhpcyBhdHRyaWJ1\ndGUKICAgICAgICAgKiBAcGFyYW0gZm1kIHRoZSBrZXJuZWwncyBjb25jcmV0\nZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGF0dHJpYnV0ZQogICAgICAgICAq\nLwogICAgICAgIHByb3RlY3RlZCBNZW1iZXIoQWJzdHJhY3RNYW5hZ2VkVHlw\nZTxYPiBvd25lciwgRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAgICAgICAg\ndGhpcy5vd25lciA9IG93bmVyOwogICAgICAgICAgICB0aGlzLmZtZCA9IGZt\nZDsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqICBSZXR1cm5z\nIHRoZSBtYW5hZ2VkIHR5cGUgd2hpY2ggZGVjbGFyZWQgdGhpcyBhdHRyaWJ1\ndGUuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIE1hbmFnZWRU\neXBlPFg+IGdldERlY2xhcmluZ1R5cGUoKSB7CiAgICAgICAgICAgIHJldHVy\nbiBvd25lci5tb2RlbC5tYW5hZ2VkVHlwZShmbWQuZ2V0RGVjbGFyaW5nVHlw\nZSgpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoqCiAgICAgICAg\nICogIFJldHVybnMgdGhlIGphdmEubGFuZy5yZWZsZWN0Lk1lbWJlciBmb3Ig\ndGhpcyBhdHRyaWJ1dGUuIAogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBm\naW5hbCBqYXZhLmxhbmcucmVmbGVjdC5NZW1iZXIgZ2V0SmF2YU1lbWJlcigp\nIHsKICAgICAgICAgICAgcmV0dXJuIGZtZC5nZXRCYWNraW5nTWVtYmVyKCk7\nCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAqICBH\nZXRzIHRoZSBKYXZhIHR5cGUgb2YgdGhpcyBhdHRyaWJ1dGUuCiAgICAgICAg\nICovCiAgICAgICAgcHVibGljIGZpbmFsIENsYXNzPFk+IGdldEphdmFUeXBl\nKCkgewogICAgICAgICAgICByZXR1cm4gKENsYXNzPFk+KWZtZC5nZXREZWNs\nYXJlZFR5cGUoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoqCiAg\nICAgICAgICogR2V0cyB0aGUgbmFtZSBvZiB0aGlzIGF0dHJpYnV0ZS4KICAg\nICAgICAgKi8KICAgICAgICBwdWJsaWMgZmluYWwgU3RyaW5nIGdldE5hbWUo\nKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQuZ2V0TmFtZSgpOwogICAgICAg\nIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogUmV0dXJucyB0aGUgdHlwZSB0\naGF0IHJlcHJlc2VudHMgdGhlIHR5cGUgb2YgdGhpcyBhdHRyaWJ1dGUuCiAg\nICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIFR5cGU8WT4gZ2V0VHlw\nZSgpIHsKICAgICAgICAgICAgcmV0dXJuIG93bmVyLm1vZGVsLmdldFR5cGUo\naXNDb2xsZWN0aW9uKCkgPwogICAgICAgICAgICAgICAgICAgZm1kLmdldEVs\nZW1lbnQoKS5nZXREZWNsYXJlZFR5cGUoKSA6IGZtZC5nZXREZWNsYXJlZFR5\ncGUoKSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qKgogICAgICAg\nICAqIEFmZmlybXMgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgYW4gYXNzb2NpYXRp\nb24uCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIGJvb2xlYW4g\naXNBc3NvY2lhdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIGZtZC5pc0Rl\nY2xhcmVkVHlwZVBDKCk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAg\nICAgKiBBZmZpcm1zIGlmIHRoaXMgYXR0cmlidXRlIGlzIGEgY29sbGVjdGlv\nbi4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgZmluYWwgYm9vbGVhbiBp\nc0NvbGxlY3Rpb24oKSB7CiAgICAgICAgICAgIGludCB0eXBlQ29kZSA9IGZt\nZC5nZXREZWNsYXJlZFR5cGVDb2RlKCk7CiAgICAgICAgICAgIHJldHVybiAg\ndHlwZUNvZGUgPT0gSmF2YVR5cGVzLkNPTExFQ1RJT04KICAgICAgICAgICAg\nICAgICB8fCB0eXBlQ29kZSA9PSBKYXZhVHlwZXMuTUFQCiAgICAgICAgICAg\nICAgICAgfHwgdHlwZUNvZGUgPT0gSmF2YVR5cGVzLkFSUkFZOwogICAgICAg\nIH0KICAgICAgICAKICAgICAgICAvKioKICAgICAgICAgKiAgUmV0dXJucyB0\naGUgcGVyc2lzdGVudCBjYXRlZ29yeSBmb3IgdGhlIGF0dHJpYnV0ZS4KICAg\nICAgICAgKi8KICAgICAgICBwdWJsaWMgUGVyc2lzdGVudEF0dHJpYnV0ZVR5\ncGUgZ2V0UGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUoKSB7CiAgICAgICAgICAg\nIGlmIChmbWQuaXNFbWJlZGRlZFBDKCkpCiAgICAgICAgICAgICAgICByZXR1\ncm4gUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuRU1CRURERUQ7CiAgICAgICAg\nICAgIGlmIChmbWQuaXNFbGVtZW50Q29sbGVjdGlvbigpKQogICAgICAgICAg\nICAgICAgcmV0dXJuIFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlLkVMRU1FTlRf\nQ09MTEVDVElPTjsKICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbnRBdHRy\naWJ1dGVUeXBlLkJBU0lDOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGlu\ndCBjb21wYXJlVG8oTWVtYmVyPFgsIFk+IG8pIHsKICAgICAgICAgICAgcmV0\ndXJuIGZtZC5nZXROYW1lKCkuY29tcGFyZVRvKG8uZm1kLmdldE5hbWUoKSk7\nCiAgICAgICAgfQogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogUmVw\ncmVzZW50cyBzaW5nbGUtdmFsdWVkIHBlcnNpc3RlbnQgYXR0cmlidXRlcy4K\nICAgICAqCiAgICAgKiBAcGFyYW0gPFg+IFRoZSB0eXBlIGNvbnRhaW5pbmcg\ndGhlIHJlcHJlc2VudGVkIGF0dHJpYnV0ZQogICAgICogQHBhcmFtIDxUPiBU\naGUgdHlwZSBvZiB0aGUgcmVwcmVzZW50ZWQgYXR0cmlidXRlCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgY2xhc3MgU2luZ3VsYXJBdHRyaWJ1\ndGVJbXBsPFgsIFQ+IGV4dGVuZHMgTWVtYmVyPFgsIFQ+IAogICAgICAgIGlt\ncGxlbWVudHMgU2luZ3VsYXJBdHRyaWJ1dGU8WCwgVD4gewoKICAgICAgICBw\ndWJsaWMgU2luZ3VsYXJBdHRyaWJ1dGVJbXBsKEFic3RyYWN0TWFuYWdlZFR5\ncGU8WD4gb3duZXIsIEZpZWxkTWV0YURhdGEgZm1kKSB7CiAgICAgICAgICAg\nIHN1cGVyKG93bmVyLCBmbWQpOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAg\nICAgICAgICogIEFmZmlybXMgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgYW4gaWQg\nYXR0cmlidXRlLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBib29sZWFu\nIGlzSWQoKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQuaXNQcmltYXJ5S2V5\nKCk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiAgQWZmaXJt\ncyBpZiB0aGlzIGF0dHJpYnV0ZSByZXByZXNlbnRzIGEgdmVyc2lvbiBhdHRy\naWJ1dGUuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGJvb2xlYW4gaXNW\nZXJzaW9uKCkgewogICAgICAgICAgICByZXR1cm4gZm1kLmlzVmVyc2lvbigp\nOwogICAgICAgIH0KCiAgICAgICAgLyoqIAogICAgICAgICAqICBBZmZpcm1z\nIGlmIHRoaXMgYXR0cmlidXRlIGNhbiBiZSBudWxsLgogICAgICAgICAqLwog\nICAgICAgIHB1YmxpYyBib29sZWFuIGlzT3B0aW9uYWwoKSB7CiAgICAgICAg\nICAgIHJldHVybiBmbWQuZ2V0TnVsbFZhbHVlKCkgIT0gRmllbGRNZXRhRGF0\nYS5OVUxMX0VYQ0VQVElPTjsKICAgICAgICB9CgogICAgICAgIC8qKgogICAg\nICAgICAqICBDYXRlZ29yaXplcyBiaW5kYWJsZSB0eXBlIHJlcHJlc2VudGVk\nIGJ5IHRoaXMgYXR0cmlidXRlLgogICAgICAgICAqLyAKICAgICAgICBwdWJs\naWMgZmluYWwgQmluZGFibGVUeXBlIGdldEJpbmRhYmxlVHlwZSgpIHsKICAg\nICAgICAgICAgcmV0dXJuIGZtZC5pc0RlY2xhcmVkVHlwZVBDKCkgCiAgICAg\nICAgICAgICAgICA/IEJpbmRhYmxlVHlwZS5FTlRJVFlfVFlQRQogICAgICAg\nICAgICAgICAgOiBCaW5kYWJsZVR5cGUuU0lOR1VMQVJfQVRUUklCVVRFOwog\nICAgICAgIH0KICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAqIFJldHVy\nbnMgdGhlIGJpbmRhYmxlIEphdmEgdHlwZSBvZiB0aGlzIGF0dHJpYnV0ZS4K\nICAgICAgICAgKiAKICAgICAgICAgKiBJZiB0aGUgYmluZGFibGUgY2F0ZWdv\ncnkgb2YgdGhpcyBhdHRyaWJ1dGUgaXMgUExVUkFMX0FUVFJJQlVURSwgdGhl\nIEphdmEgZWxlbWVudCB0eXBlIAogICAgICAgICAqIGlzIHJldHVybmVkLiBJ\nZiB0aGUgYmluZGFibGUgdHlwZSBpcyBTSU5HVUxBUl9BVFRSSUJVVEUgb3Ig\nRU5USVRZX1RZUEUsIHRoZSBKYXZhIHR5cGUgCiAgICAgICAgICogb2YgdGhl\nIHJlcHJlc2VudGVkIGVudGl0eSBvciBhdHRyaWJ1dGUgaXMgcmV0dXJuZWQu\nCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIENsYXNzPFQ+IGdl\ndEJpbmRhYmxlSmF2YVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQu\nZ2V0RWxlbWVudCgpLmdldERlY2xhcmVkVHlwZSgpOwogICAgICAgIH0KICAg\nICAgICAKICAgICAgICAvKioKICAgICAgICAgKiBDYXRlZ29yaXplcyB0aGUg\nYXR0cmlidXRlLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBmaW5hbCBQ\nZXJzaXN0ZW50QXR0cmlidXRlVHlwZSBnZXRQZXJzaXN0ZW50QXR0cmlidXRl\nVHlwZSgpIHsKICAgICAgICAgICAgaWYgKCFmbWQuaXNEZWNsYXJlZFR5cGVQ\nQygpKQogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldFBlcnNpc3Rl\nbnRBdHRyaWJ1dGVUeXBlKCk7CiAgICAgICAgICAgIHJldHVybiBmbWQuZ2V0\nTWFwcGVkQnlNZXRhRGF0YSgpID09IG51bGwgfHwgIWZtZC5nZXRUeXBlKCku\naXNBc3NpZ25hYmxlRnJvbShDb2xsZWN0aW9uLmNsYXNzKQogICAgICAgICAg\nICAgICAgID8gUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuT05FX1RPX09ORQog\nICAgICAgICAgICAgICAgIDogUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuT05F\nX1RPX01BTlk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUm9v\ndCBvZiBtdWx0aS1jYXJkaW5hbGl0eSBhdHRyaWJ1dGUuCiAgICAgKgoJICog\nQHBhcmFtIDxYPiB0aGUgdHlwZSB0aGF0IG93bnMgdGhpcyBtZW1iZXIKCSAq\nIEBwYXJhbSA8Qz4gdGhlIGNvbnRhaW5lciB0eXBlIHRoYXQgaG9sZHMgdGhp\ncyBtZW1iZXIgKGUuZy4gamF2YS51dGlsLlNldCZsdDtFbXBsb3llZSZndDsp\nCiAgICAgKiBAcGFyYW0gPEU+IHRoZSB0eXBlIG9mIHRoZSBlbGVtZW50IGhl\nbGQgYnkgdGhpcyBtZW1iZXIgKGUuZy4gRW1wbG95ZWUpLiAKICAgICAqLwog\nICAgcHVibGljIHN0YXRpYyBhYnN0cmFjdCBjbGFzcyBQbHVyYWxBdHRyaWJ1\ndGVJbXBsPFgsIEMsIEU+IGV4dGVuZHMgTWVtYmVyPFgsIEM+CiAgICAgICAg\naW1wbGVtZW50cyBQbHVyYWxBdHRyaWJ1dGU8WCwgQywgRT4gewogICAgICAg\nIAogICAgICAgIHB1YmxpYyBQbHVyYWxBdHRyaWJ1dGVJbXBsKEFic3RyYWN0\nTWFuYWdlZFR5cGU8WD4gb3duZXIsIEZpZWxkTWV0YURhdGEgZm1kKSB7CiAg\nICAgICAgICAgIHN1cGVyKG93bmVyLCBmbWQpOwogICAgICAgIH0KCiAgICAg\nICAgLyoqCiAgICAgICAgICogUmV0dXJucyB0aGUgdHlwZSByZXByZXNlbnRp\nbmcgdGhlIGVsZW1lbnQgdHlwZSBvZiB0aGUgY29sbGVjdGlvbi4KICAgICAg\nICAgKi8KICAgICAgICBwdWJsaWMgZmluYWwgVHlwZTxFPiBnZXRFbGVtZW50\nVHlwZSgpIHsKICAgICAgICAgICAgcmV0dXJuIG93bmVyLm1vZGVsLmdldFR5\ncGUoZ2V0QmluZGFibGVKYXZhVHlwZSgpKTsKICAgICAgICB9CgogICAgICAg\nIC8qKgogICAgICAgICAqICBSZXR1cm5zIHRoZSBiaW5kYWJsZSBjYXRlZ29y\neSBvZiB0aGlzIGF0dHJpYnV0ZS4KICAgICAgICAgKi8gCiAgICAgICAgcHVi\nbGljIGZpbmFsIEJpbmRhYmxlVHlwZSBnZXRCaW5kYWJsZVR5cGUoKSB7CiAg\nICAgICAgICAgIHJldHVybiBCaW5kYWJsZVR5cGUuUExVUkFMX0FUVFJJQlVU\nRTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoqCiAgICAgICAgICog\nUmV0dXJucyB0aGUgYmluZGFibGUgSmF2YSB0eXBlIG9mIHRoaXMgYXR0cmli\ndXRlLgogICAgICAgICAqIAogICAgICAgICAqIEZvciBQTFVSQUxfQVRUUklC\nVVRFLCB0aGUgSmF2YSBlbGVtZW50IHR5cGUgaXMgcmV0dXJuZWQuIAogICAg\nICAgICAqLwogICAgICAgIHB1YmxpYyBDbGFzczxFPiBnZXRCaW5kYWJsZUph\ndmFUeXBlKCkgewogICAgICAgICAgICByZXR1cm4gZm1kLmdldEVsZW1lbnQo\nKS5nZXREZWNsYXJlZFR5cGUoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAg\nICAgCiAgICAgICAgcHVibGljIFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlIGdl\ndFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlKCkgewogICAgICAgICAgICByZXR1\ncm4gUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuT05FX1RPX01BTlk7CiAgICAg\nICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmVwcmVzZW50cyBhdHRyaWJ1\ndGVzIGRlY2xhcmVkIGFzIGphdmEudXRpbC5Db2xsZWN0aW9uJmx0O0UmZ3Q7\nLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIENvbGxlY3Rpb25B\ndHRyaWJ1dGVJbXBsPFgsIEU+IAogICAgICAgIGV4dGVuZHMgUGx1cmFsQXR0\ncmlidXRlSW1wbDxYLCBqYXZhLnV0aWwuQ29sbGVjdGlvbjxFPiwgRT4gCiAg\nICAgICAgaW1wbGVtZW50cyBDb2xsZWN0aW9uQXR0cmlidXRlPFgsIEU+IHsK\nCiAgICAgICAgcHVibGljIENvbGxlY3Rpb25BdHRyaWJ1dGVJbXBsKEFic3Ry\nYWN0TWFuYWdlZFR5cGU8WD4gb3duZXIsIEZpZWxkTWV0YURhdGEgZm1kKSB7\nCiAgICAgICAgICAgIHN1cGVyKG93bmVyLCBmbWQpOwogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIENvbGxlY3Rpb25UeXBlIGdldENvbGxlY3Rpb25UeXBl\nKCkgewogICAgICAgICAgICByZXR1cm4gQ29sbGVjdGlvblR5cGUuQ09MTEVD\nVElPTjsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXByZXNl\nbnRzIGF0dHJpYnV0ZXMgZGVjbGFyZWQgYXMgamF2YS51dGlsLkxpc3QmbHQ7\nRSZndDsuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgTGlzdEF0\ndHJpYnV0ZUltcGw8WCwgRT4gCiAgICAgICAgZXh0ZW5kcyBQbHVyYWxBdHRy\naWJ1dGVJbXBsPFgsIGphdmEudXRpbC5MaXN0PEU+LCBFPiAKICAgICAgICBp\nbXBsZW1lbnRzIExpc3RBdHRyaWJ1dGU8WCwgRT4gewoKICAgICAgICBwdWJs\naWMgTGlzdEF0dHJpYnV0ZUltcGwoQWJzdHJhY3RNYW5hZ2VkVHlwZTxYPiBv\nd25lciwgRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAgICAgICAgc3VwZXIo\nb3duZXIsIGZtZCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQ29sbGVj\ndGlvblR5cGUgZ2V0Q29sbGVjdGlvblR5cGUoKSB7CiAgICAgICAgICAgIHJl\ndHVybiBDb2xsZWN0aW9uVHlwZS5MSVNUOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFJlcHJlc2VudHMgYXR0cmlidXRlcyBkZWNsYXJlZCBh\ncyBqYXZhLnV0aWwuU2V0Jmx0O0UmZ3Q7LgogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIGNsYXNzIFNldEF0dHJpYnV0ZUltcGw8WCwgRT4gCiAgICAgICAg\nZXh0ZW5kcyBQbHVyYWxBdHRyaWJ1dGVJbXBsPFgsIGphdmEudXRpbC5TZXQ8\nRT4sIEU+IAogICAgICAgIGltcGxlbWVudHMgU2V0QXR0cmlidXRlPFgsIEU+\nIHsKCiAgICAgICAgcHVibGljIFNldEF0dHJpYnV0ZUltcGwoQWJzdHJhY3RN\nYW5hZ2VkVHlwZTxYPiBvd25lciwgRmllbGRNZXRhRGF0YSBmbWQpIHsKICAg\nICAgICAgICAgc3VwZXIob3duZXIsIGZtZCk7CiAgICAgICAgfQoKICAgICAg\nICBwdWJsaWMgQ29sbGVjdGlvblR5cGUgZ2V0Q29sbGVjdGlvblR5cGUoKSB7\nCiAgICAgICAgICAgIHJldHVybiBDb2xsZWN0aW9uVHlwZS5TRVQ7CiAgICAg\nICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAqIFJlcHJlc2VudHMgdGhl\nIGtleXMgb2YgamF2YS51dGlsLk1hcCZsdDtLLFYmZ3Q7IGluIG1hbmFnZWQg\ndHlwZSAmbHQ7WCZndDsgYXMgYSBwc2V1ZG8tYXR0cmlidXRlIG9mIHR5cGUg\nCiAgICAgKiBqYXZhLnV0aWwuU2V0Jmx0O0smZ3Q7LgogICAgICoKICAgICAq\nIEBwYXJhbSA8WD4gdGhlIGRlY2xhcmluZyB0eXBlIG9mIHRoZSBvcmlnaW5h\nbCBqYXZhLnV0aWwuTWFwJmx0O0ssViZndDsgYXR0cmlidXRlIAogICAgICog\nQHBhcmFtIDxLPiB0aGUgdHlwZSBvZiB0aGUga2V5IG9mIHRoZSBvcmlnaW5h\nbCBqYXZhLnV0aWwuTWFwJmx0O0ssViZndDsgYXR0cmlidXRlCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgS2V5QXR0cmlidXRlSW1wbDxYLEs+\nIGV4dGVuZHMgU2V0QXR0cmlidXRlSW1wbDxYLCBLPiB7CiAgICAgICAgcHVi\nbGljIEtleUF0dHJpYnV0ZUltcGwoQWJzdHJhY3RNYW5hZ2VkVHlwZTxYPiBv\nd25lciwgRmllbGRNZXRhRGF0YSBmbWQpewogICAgICAgICAgICBzdXBlcihv\nd25lciwgZm1kKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBDbGFzczxL\nPiBnZXRCaW5kYWJsZUphdmFUeXBlKCkgewogICAgICAgICAgICByZXR1cm4g\nKENsYXNzPEs+KWZtZC5nZXRLZXkoKS5nZXREZWNsYXJlZFR5cGUoKTsKICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXByZXNlbnRzIGF0dHJp\nYnV0ZXMgZGVjbGFyZWQgYXMgamF2YS51dGlsLk1hcCZsdDtLLFYmZ3Q7IGlu\nIG1hbmFnZWQgdHlwZSAmbHQ7WCZndDsuCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgY2xhc3MgTWFwQXR0cmlidXRlSW1wbDxYLCBLLCBWPiAKICAgICAg\nICBleHRlbmRzIFBsdXJhbEF0dHJpYnV0ZUltcGw8WCwgamF2YS51dGlsLk1h\ncDxLLCBWPiwgVj4gCiAgICAgICAgaW1wbGVtZW50cyBNYXBBdHRyaWJ1dGU8\nWCwgSywgVj4gewoKICAgICAgICBwdWJsaWMgTWFwQXR0cmlidXRlSW1wbChB\nYnN0cmFjdE1hbmFnZWRUeXBlPFg+IG93bmVyLCBGaWVsZE1ldGFEYXRhIGZt\nZCkgewogICAgICAgICAgICBzdXBlcihvd25lciwgZm1kKTsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyBDb2xsZWN0aW9uVHlwZSBnZXRDb2xsZWN0aW9u\nVHlwZSgpIHsKICAgICAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25UeXBlLk1B\nUDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcHVibGljIENsYXNzPEs+\nIGdldEtleUphdmFUeXBlKCkgewogICAgICAgICAgICByZXR1cm4gZm1kLmdl\ndEtleSgpLmdldERlY2xhcmVkVHlwZSgpOwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIFR5cGU8Sz4gZ2V0S2V5VHlwZSgpIHsKICAgICAgICAgICAgcmV0\ndXJuIG93bmVyLm1vZGVsLmdldFR5cGUoZ2V0S2V5SmF2YVR5cGUoKSk7CiAg\nICAgICAgfQogICAgICAgIAogICAgICAgIHB1YmxpYyBQZXJzaXN0ZW50QXR0\ncmlidXRlVHlwZSBnZXRQZXJzaXN0ZW50QXR0cmlidXRlVHlwZSgpIHsKICAg\nICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlLk1BTllf\nVE9fTUFOWTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

