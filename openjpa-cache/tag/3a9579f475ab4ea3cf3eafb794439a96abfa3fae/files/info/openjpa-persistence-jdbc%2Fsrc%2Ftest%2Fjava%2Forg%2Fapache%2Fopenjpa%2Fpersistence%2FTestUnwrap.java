{"sha":"268e62d005a76fd590b149a47b202daeb1a73801","node_id":"MDQ6QmxvYjIwNjM2NDoyNjhlNjJkMDA1YTc2ZmQ1OTBiMTQ5YTQ3YjIwMmRhZWIxYTczODAx","size":4586,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/268e62d005a76fd590b149a47b202daeb1a73801","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBq\nYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2YS51dGlsLlByb3BlcnRpZXM7Cgpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0\nIGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eVRyYW5zYWN0aW9uOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5RdWVyeUxhbmd1YWdlczsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNl\nOwoKcHVibGljIGNsYXNzIFRlc3RVbndyYXAgZXh0ZW5kcyBTaW5nbGVFTUZU\nZXN0Q2FzZSB7CiAgICAKICAgIC8qKgogICAgICogVGVzdHMgYSBxdWVyeSBj\nYW4gYmUgdW53cmFwcGVkIGFzIGFuIGluc3RhbmNlIG9mIGEgc2VyaWVzIG9m\nIGNsYXNzIG9yIAogICAgICogaW50ZXJmYWNlLiAKICAgICAqLwogICAgcHVi\nbGljIHZvaWQgdGVzdFZhbGlkUXVlcnlVbndyYXAoKSB7CiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdl\ncigpOwogICAgICAgIFF1ZXJ5IHF1ZXJ5ID0gZW0uY3JlYXRlUXVlcnkoUXVl\ncnlMYW5ndWFnZXMuTEFOR19TUUwsIiIpOwogICAgICAgIAogICAgICAgIENs\nYXNzW10gdmFsaWRDYXN0cyA9IG5ldyBDbGFzc1tdIHsKICAgICAgICAgICAg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFRdWVyeS5j\nbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLk9wZW5KUEFRdWVyeVNQSS5jbGFzcywKICAgICAgICAgICAgb3JnLmFw\nYWNoZS5vcGVuanBhLmtlcm5lbC5EZWxlZ2F0aW5nUXVlcnkuY2xhc3MsCiAg\nICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuUXVlcnkuY2xh\nc3MsCiAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuUXVl\ncnlJbXBsLmNsYXNzCiAgICAgICAgfTsKICAgICAgICBmb3IgKENsYXNzIGMg\nOiB2YWxpZENhc3RzKSB7CiAgICAgICAgICAgIE9iamVjdCB1bndyYXBwZWQg\nPSBxdWVyeS51bndyYXAoYyk7CiAgICAgICAgICAgIGFzc2VydFRydWUoYy5p\nc0luc3RhbmNlKHVud3JhcHBlZCkpOwogICAgICAgIH0KICAgIH0KCiAgICAv\nKioKICAgICAqIFRlc3RzIGEgRW50aXR5TWFuYWdlciBjYW4gYmUgdW53cmFw\ncGVkIGFzIGFuIGluc3RhbmNlIG9mIGEgc2VyaWVzIG9mIAogICAgICogY2xh\nc3Mgb3IgaW50ZXJmYWNlLiAKICAgICAqLwogICAgcHVibGljIHZvaWQgdGVz\ndFZhbGlkRW50aXR5TWFuYWdlclVud3JhcCgpIHsKICAgICAgICBFbnRpdHlN\nYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICAKICAgICAgICBDbGFzczw/PltdIHZhbGlkQ2FzdHMgPSBuZXcgQ2xhc3Nb\nXSB7CiAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5PcGVuSlBBRW50aXR5TWFuYWdlci5jbGFzcywKICAgICAgICAgICAgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5h\nZ2VyU1BJLmNsYXNzLAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLkRlbGVnYXRpbmdCcm9rZXIuY2xhc3MsCiAgICAgICAgICAgIG9y\nZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuQnJva2VyLmNsYXNzCiAgICAgICAg\nfTsKICAgICAgICBmb3IgKENsYXNzPD8+IGMgOiB2YWxpZENhc3RzKSB7CiAg\nICAgICAgICAgIE9iamVjdCB1bndyYXBwZWQgPSBlbS51bndyYXAoYyk7CiAg\nICAgICAgICAgIGFzc2VydFRydWUoYy5pc0luc3RhbmNlKHVud3JhcHBlZCkp\nOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBUZXN0cyBh\nIEVudGl0eU1hbmFnZXIgY2FuIG5vdCBiZSB1bndyYXBwZWQgYXMgT2JqZWN0\nIGNsYXNzLCBudWxsIG9yIGFuIGludGVyZmFjZS4gCiAgICAgKiBBbmQgZWFj\naCBzdWNoIGZhaWx1cmUgcmFpc2VzIGEgUGVyc2lzdGVuY2UgRXhjZXB0aW9u\nIGFuZCBjYXVzZXMgYW4gYWN0aXZlIHRyYW5zYWN0aW9uCiAgICAgKiB0byBy\nb2xsYmFjay4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEludmFsaWRF\nbnRpdHlNYW5hZ2VyVW53cmFwKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIg\nZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIAogICAg\nICAgIENsYXNzPD8+W10gaW52YWxpZENhc3RzID0gbmV3IENsYXNzW10gewog\nICAgICAgICAgICBPYmplY3QuY2xhc3MsCiAgICAgICAgICAgIFByb3BlcnRp\nZXMuY2xhc3MsCiAgICAgICAgICAgIE1hcC5jbGFzcywgCiAgICAgICAgICAg\nIG51bGwsCiAgICAgICAgfTsKICAgICAgICBmb3IgKENsYXNzPD8+IGMgOiBp\nbnZhbGlkQ2FzdHMpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICAgICAg\nICAgIGVtLnVud3JhcChjKTsKICAgICAgICAgICAgICAgIGZhaWwoIkV4cGVj\ndGVkIHRvIGZhaWwgdG8gdW53YXJwIHdpdGggaW52YWxpZCAiICsgYyk7CiAg\nICAgICAgICAgIH0gY2F0Y2ggKFBlcnNpc3RlbmNlRXhjZXB0aW9uIGUpIHsK\nICAgICAgICAgICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHR4biA9IGVtLmdl\ndFRyYW5zYWN0aW9uKCk7CiAgICAgICAgICAgICAgICBhc3NlcnRUcnVlKHR4\nbi5nZXRSb2xsYmFja09ubHkoKSk7CiAgICAgICAgICAgICAgICB0eG4ucm9s\nbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAog\nICAgLyoqCiAgICAgKiBUZXN0cyBhIFF1ZXJ5IGNhbiBub3QgYmUgdW53cmFw\ncGVkIGFzIE9iamVjdCBjbGFzcywgbnVsbCBvciBhbiBpbnRlcmZhY2UuIAog\nICAgICogQW5kIGVhY2ggc3VjaCBmYWlsdXJlIHJhaXNlcyBhIFBlcnNpc3Rl\nbmNlIEV4Y2VwdGlvbiBhbmQgY2F1c2VzIGFuIGFjdGl2ZSB0cmFuc2FjdGlv\nbgogICAgICogdG8gcm9sbGJhY2suCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHRlc3RJbnZhbGlkUXVlcnlVbndyYXAoKSB7CiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwog\nICAgICAgIAogICAgICAgIENsYXNzPD8+W10gaW52YWxpZENhc3RzID0gbmV3\nIENsYXNzW10gewogICAgICAgICAgICBPYmplY3QuY2xhc3MsCiAgICAgICAg\nICAgIFByb3BlcnRpZXMuY2xhc3MsCiAgICAgICAgICAgIE1hcC5jbGFzcywg\nCiAgICAgICAgICAgIG51bGwsCiAgICAgICAgfTsKICAgICAgICBmb3IgKENs\nYXNzPD8+IGMgOiBpbnZhbGlkQ2FzdHMpIHsKICAgICAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsK\nICAgICAgICAgICAgICAgIFF1ZXJ5IHF1ZXJ5ID0gZW0uY3JlYXRlUXVlcnko\nUXVlcnlMYW5ndWFnZXMuTEFOR19TUUwsIiIpOwogICAgICAgICAgICAgICAg\ncXVlcnkudW53cmFwKGMpOwogICAgICAgICAgICAgICAgZmFpbCgiRXhwZWN0\nZWQgdG8gZmFpbCB0byB1bndhcnAgd2l0aCBpbnZhbGlkICIgKyBjKTsKICAg\nICAgICAgICAgfSBjYXRjaCAoUGVyc2lzdGVuY2VFeGNlcHRpb24gZSkgewog\nICAgICAgICAgICAgICAgRW50aXR5VHJhbnNhY3Rpb24gdHhuID0gZW0uZ2V0\nVHJhbnNhY3Rpb24oKTsKICAgICAgICAgICAgICAgIGFzc2VydFRydWUodHhu\nLmdldFJvbGxiYWNrT25seSgpKTsKICAgICAgICAgICAgICAgIHR4bi5yb2xs\nYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKfQo=\n","encoding":"base64"}

