{"sha":"97f42ca36ee6b48ea9abbab9e87cee75d4f864f4","node_id":"MDQ6QmxvYjIwNjM2NDo5N2Y0MmNhMzZlZTZiNDhlYTlhYmJhYjllODdjZWU3NWQ0Zjg2NGY0","size":9007,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/97f42ca36ee6b48ea9abbab9e87cee75d4f864f4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZh\nLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLm1ldGEuQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neVNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5T\ndG9yZUNhY2hlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLnRlc3QuQWJzdHJhY3RDYWNoZWRFTUZUZXN0Q2FzZTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlBlcnNpc3RlbmNl\nVGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVzdENhY2hlRXhjbHVzaW9ucyBl\neHRlbmRzIEFic3RyYWN0Q2FjaGVkRU1GVGVzdENhc2UgewoKICAgIHByaXZh\ndGUgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJIGVtZiA9IG51bGw7\nCgogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nW10gSVRFTV9OQU1FUyA9CiAg\nICAgICAgeyAiQ3VwIiwgInBlbiIsICJwZW5jaWwiLCAicGhvbmUiLCAibGFw\ndG9wIiwgImtleWJvYXJkIiwgIm1vdXNlIiB9OwogICAgCiAgICBwcml2YXRl\nIHN0YXRpYyBmaW5hbCBTdHJpbmcgX3RTZXAgPSAiOyI7CgogICAgSXRlbVtd\nIGl0ZW1zID0gbmV3IEl0ZW1bSVRFTV9OQU1FUy5sZW5ndGhdOwogICAgT3Jk\nZXIgbzEsIG8yOwogICAgUHVyY2hhc2UgcDsKCiAgICBwdWJsaWMgdm9pZCBw\nb3B1bGF0ZSgpIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7CiAgICAgICAgaW50IG4gPSAwOwogICAgICAgIGZvciAo\nU3RyaW5nIHMgOiBJVEVNX05BTUVTKSB7CiAgICAgICAgICAgIGl0ZW1zW25d\nID0gbmV3IEl0ZW0oKTsKICAgICAgICAgICAgaXRlbXNbbl0uc2V0TmFtZShz\nKTsKICAgICAgICAgICAgaXRlbXNbbl0uc2V0SWQobik7CiAgICAgICAgICAg\nIGVtLnBlcnNpc3QoaXRlbXNbbisrXSk7CiAgICAgICAgfQogICAgICAgIHAg\nPSBuZXcgUHVyY2hhc2UoKTsKICAgICAgICBwLnNldE9yZGVycyhuZXcgQXJy\nYXlMaXN0PE9yZGVyPigpKTsKICAgICAgICBvMSA9IG5ldyBPcmRlcigpOwog\nICAgICAgIG8xLnNldEl0ZW0oZW0uZmluZChJdGVtLmNsYXNzLCAxKSk7CiAg\nICAgICAgbzEuc2V0UXVhbnRpdHkoMik7CiAgICAgICAgbzEuc2V0UHVyY2hh\nc2UocCk7CiAgICAgICAgcC5nZXRPcmRlcnMoKS5hZGQobzEpOwoKICAgICAg\nICBvMiA9IG5ldyBPcmRlcigpOwogICAgICAgIG8yLnNldEl0ZW0oZW0uZmlu\nZChJdGVtLmNsYXNzLCA0KSk7CiAgICAgICAgbzIuc2V0UXVhbnRpdHkoMjMp\nOwogICAgICAgIG8yLnNldFB1cmNoYXNlKHApOwogICAgICAgIHAuZ2V0T3Jk\nZXJzKCkuYWRkKG8yKTsKCiAgICAgICAgZW0ucGVyc2lzdChwKTsKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNs\nb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVhckRvd24oKSB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAoZW1mICE9IG51bGwpIHsKICAg\nICAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlN\nYW5hZ2VyKCk7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKCiAgICAgICAgICAgIGZvciAoQ2xhc3NNYXBwaW5nIG1hcHBpbmcg\nOiAoKENsYXNzTWFwcGluZ1tdKSBlbWYKICAgICAgICAgICAgICAgIC5nZXRD\nb25maWd1cmF0aW9uKCkuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2Uo\nKQogICAgICAgICAgICAgICAgLmdldE1ldGFEYXRhcygpKSkgewogICAgICAg\nICAgICAgICAgUXVlcnkgcSA9CiAgICAgICAgICAgICAgICAgICAgZW0uY3Jl\nYXRlTmF0aXZlUXVlcnkoIkRST1AgVEFCTEUgIgogICAgICAgICAgICAgICAg\nICAgICAgICArIG1hcHBpbmcuZ2V0VGFibGUoKS5nZXROYW1lKCkpOwogICAg\nICAgICAgICAgICAgcS5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgICAgIH0K\nICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAg\nICAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICAgICAgCiAgICAgICAgICAg\nIGVtZi5jbG9zZSgpOwogICAgICAgIH0KICAgICAgICBlbWYgPSBudWxsOwog\nICAgICAgIHN1cGVyLnRlYXJEb3duKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdENhY2hlQWxsKCkgewogICAgICAgIGdldEVudGl0eU1hbmFnZXJG\nYWN0b3J5Q2FjaGVTZXR0aW5ncyhudWxsLCBudWxsKTsKICAgICAgICBwb3B1\nbGF0ZSgpOwogICAgICAgIFN0b3JlQ2FjaGUgY2FjaGUgPSBlbWYuZ2V0U3Rv\ncmVDYWNoZSgpOwogICAgICAgIGFzc2VydENhY2hlQ29udGVudHMoY2FjaGUs\nIHRydWUsIHRydWUsIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RDYWNoZUl0ZW1zKCkgewogICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0\nb3J5Q2FjaGVTZXR0aW5ncyhuZXcgQ2xhc3NbXSB7IEl0ZW0uY2xhc3MgfSwg\nbnVsbCk7CiAgICAgICAgcG9wdWxhdGUoKTsKICAgICAgICBTdG9yZUNhY2hl\nIGNhY2hlID0gZW1mLmdldFN0b3JlQ2FjaGUoKTsKICAgICAgICBhc3NlcnRD\nYWNoZUNvbnRlbnRzKGNhY2hlLCBmYWxzZSwgZmFsc2UsIHRydWUpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RDYWNoZUl0ZW1zQW5kUHVyY2hhc2Vz\nKCkgewogICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0b3J5Q2FjaGVTZXR0\naW5ncyhuZXcgQ2xhc3NbXSB7IEl0ZW0uY2xhc3MsCiAgICAgICAgICAgIFB1\ncmNoYXNlLmNsYXNzIH0sIG51bGwpOwogICAgICAgIHBvcHVsYXRlKCk7CiAg\nICAgICAgU3RvcmVDYWNoZSBjYWNoZSA9IGVtZi5nZXRTdG9yZUNhY2hlKCk7\nCiAgICAgICAgYXNzZXJ0Q2FjaGVDb250ZW50cyhjYWNoZSwgdHJ1ZSwgZmFs\nc2UsIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RDYWNoZUl0\nZW1zQW5kT3JkZXJzKCkgewogICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0\nb3J5Q2FjaGVTZXR0aW5ncyhuZXcgQ2xhc3NbXSB7IEl0ZW0uY2xhc3MsCiAg\nICAgICAgICAgIE9yZGVyLmNsYXNzIH0sIG51bGwpOwogICAgICAgIHBvcHVs\nYXRlKCk7CiAgICAgICAgU3RvcmVDYWNoZSBjYWNoZSA9IGVtZi5nZXRTdG9y\nZUNhY2hlKCk7CiAgICAgICAgYXNzZXJ0Q2FjaGVDb250ZW50cyhjYWNoZSwg\nZmFsc2UsIHRydWUsIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RDYWNoZVB1cmNoYXNlc0FuZE9yZGVycygpIHsKICAgICAgICBnZXRFbnRp\ndHlNYW5hZ2VyRmFjdG9yeUNhY2hlU2V0dGluZ3MobmV3IENsYXNzW10geyBQ\ndXJjaGFzZS5jbGFzcywKICAgICAgICAgICAgT3JkZXIuY2xhc3MgfSwgbnVs\nbCk7CiAgICAgICAgcG9wdWxhdGUoKTsKICAgICAgICBTdG9yZUNhY2hlIGNh\nY2hlID0gZW1mLmdldFN0b3JlQ2FjaGUoKTsKICAgICAgICBhc3NlcnRDYWNo\nZUNvbnRlbnRzKGNhY2hlLCB0cnVlLCB0cnVlLCBmYWxzZSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdEV4Y2x1ZGVQdXJjaGFzZXMoKSB7CiAgICAg\nICAgZ2V0RW50aXR5TWFuYWdlckZhY3RvcnlDYWNoZVNldHRpbmdzKG51bGws\nCiAgICAgICAgICAgIG5ldyBDbGFzc1tdIHsgUHVyY2hhc2UuY2xhc3MgfSk7\nCiAgICAgICAgcG9wdWxhdGUoKTsKICAgICAgICBTdG9yZUNhY2hlIGNhY2hl\nID0gZW1mLmdldFN0b3JlQ2FjaGUoKTsKICAgICAgICBhc3NlcnRDYWNoZUNv\nbnRlbnRzKGNhY2hlLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdEV4Y2x1ZGVPcmRlcnMoKSB7CiAgICAgICAgZ2V0\nRW50aXR5TWFuYWdlckZhY3RvcnlDYWNoZVNldHRpbmdzKG51bGwsIG5ldyBD\nbGFzc1tdIHsgT3JkZXIuY2xhc3MgfSk7CiAgICAgICAgcG9wdWxhdGUoKTsK\nICAgICAgICBTdG9yZUNhY2hlIGNhY2hlID0gZW1mLmdldFN0b3JlQ2FjaGUo\nKTsKICAgICAgICBhc3NlcnRDYWNoZUNvbnRlbnRzKGNhY2hlLCB0cnVlLCBm\nYWxzZSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEV4Y2x1\nZGVJdGVtcygpIHsKICAgICAgICBnZXRFbnRpdHlNYW5hZ2VyRmFjdG9yeUNh\nY2hlU2V0dGluZ3MobnVsbCwgbmV3IENsYXNzW10geyBJdGVtLmNsYXNzIH0p\nOwogICAgICAgIHBvcHVsYXRlKCk7CiAgICAgICAgU3RvcmVDYWNoZSBjYWNo\nZSA9IGVtZi5nZXRTdG9yZUNhY2hlKCk7CiAgICAgICAgYXNzZXJ0Q2FjaGVD\nb250ZW50cyhjYWNoZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RFeGNsdWRlT3JkZXJzQW5kUHVyY2hhc2VzKCkg\newogICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0b3J5Q2FjaGVTZXR0aW5n\ncyhudWxsLCBuZXcgQ2xhc3NbXSB7IE9yZGVyLmNsYXNzLAogICAgICAgICAg\nICBQdXJjaGFzZS5jbGFzcyB9KTsKICAgICAgICBwb3B1bGF0ZSgpOwogICAg\nICAgIFN0b3JlQ2FjaGUgY2FjaGUgPSBlbWYuZ2V0U3RvcmVDYWNoZSgpOwog\nICAgICAgIGFzc2VydENhY2hlQ29udGVudHMoY2FjaGUsIGZhbHNlLCBmYWxz\nZSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEluY2x1ZGVQ\ndXJjaGFzZUl0ZW1FeGNsdWRlUHVyY2hhc2UoKSB7CiAgICAgICAgdHJ5ewog\nICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0b3J5Q2FjaGVTZXR0aW5ncyhu\nZXcgQ2xhc3NbXSB7IFB1cmNoYXNlLmNsYXNzLAogICAgICAgICAgICBJdGVt\nLmNsYXNzIH0sIG5ldyBDbGFzc1tdIHsgUHVyY2hhc2UuY2xhc3MgfSk7CiAg\nICAgICAgcG9wdWxhdGUoKTsKICAgICAgICAgICAgZmFpbCgiU2hvdWxkbid0\nIGJlIGFibGUgdG8gY3JlYXRlIGFuIEVNRiB3aXRoIGFuIGVudGl0eSBpbiBi\nb3RoIFR5cGVzIGFuZCBFeGNsdWRlZFR5cGVzIik7CiAgICAgICAgU3RvcmVD\nYWNoZSBjYWNoZSA9IGVtZi5nZXRTdG9yZUNhY2hlKCk7CiAgICAgICAgYXNz\nZXJ0Q2FjaGVDb250ZW50cyhjYWNoZSwgZmFsc2UsIGZhbHNlLCB0cnVlKTsK\nICAgICAgICB9Y2F0Y2goRXhjZXB0aW9uIGUpewogICAgICAgICAgICAvL2V4\ncGVjdGVkCiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBPcGVuSlBBRW50\naXR5TWFuYWdlckZhY3RvcnlTUEkgZ2V0RW50aXR5TWFuYWdlckZhY3RvcnlD\nYWNoZVNldHRpbmdzKAogICAgICAgIENsYXNzPD8+W10gaW5jbHVkZWRUeXBl\ncywgQ2xhc3M8Pz5bXSBleGNsdWRlZFR5cGVzKSB7CiAgICAgICAgU3RyaW5n\nQnVpbGRlciBpbmNsdWRlcyA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgICAg\nICAgaWYgKGluY2x1ZGVkVHlwZXMgIT0gbnVsbCAmJiBpbmNsdWRlZFR5cGVz\nLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgaW5jbHVkZXMuYXBwZW5kKCJU\neXBlcz0iKTsKICAgICAgICAgICAgZm9yIChDbGFzczw/PiBjIDogaW5jbHVk\nZWRUeXBlcykgewogICAgICAgICAgICAgICAgaW5jbHVkZXMuYXBwZW5kKGMu\nZ2V0TmFtZSgpKTsKICAgICAgICAgICAgICAgIGluY2x1ZGVzLmFwcGVuZChf\ndFNlcCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5jbHVkZXMuc2V0\nTGVuZ3RoKGluY2x1ZGVzLmxlbmd0aCgpIC0gMSk7IC8vIHJlbW92ZSBsYXN0\nIHNlbWljb2xvbgogICAgICAgIH0KICAgICAgICBTdHJpbmdCdWlsZGVyIGV4\nY2x1ZGVzID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKICAgICAgICBpZiAoZXhj\nbHVkZWRUeXBlcyAhPSBudWxsICYmIGV4Y2x1ZGVkVHlwZXMubGVuZ3RoID4g\nMCkgewogICAgICAgICAgICBleGNsdWRlcy5hcHBlbmQoIkV4Y2x1ZGVkVHlw\nZXM9Iik7CiAgICAgICAgICAgIGZvciAoQ2xhc3M8Pz4gYyA6IGV4Y2x1ZGVk\nVHlwZXMpIHsKICAgICAgICAgICAgICAgIGV4Y2x1ZGVzLmFwcGVuZChjLmdl\ndE5hbWUoKSk7CiAgICAgICAgICAgICAgICBleGNsdWRlcy5hcHBlbmQoX3RT\nZXApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGV4Y2x1ZGVzLnNldExl\nbmd0aChleGNsdWRlcy5sZW5ndGgoKSAtIDEpOyAvLyByZW1vdmUgbGFzdCBz\nZW1pY29sb24KICAgICAgICB9CiAgICAgICAgU3RyaW5nQnVpbGRlciBkYXRh\nQ2FjaGVTZXR0aW5ncyA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgICAgICAg\nYm9vbGVhbiBoYXNJbmNsdWRlT3JFeGNsdWRlID0gaW5jbHVkZXMubGVuZ3Ro\nKCkgPiAwIHx8IGV4Y2x1ZGVzLmxlbmd0aCgpID4gMDsKICAgICAgICBkYXRh\nQ2FjaGVTZXR0aW5ncy5hcHBlbmQoInRydWUiICsgKGhhc0luY2x1ZGVPckV4\nY2x1ZGUgPyAiKCIgOiAiIikpOwogICAgICAgIGlmIChoYXNJbmNsdWRlT3JF\neGNsdWRlKSB7CiAgICAgICAgICAgIGRhdGFDYWNoZVNldHRpbmdzLmFwcGVu\nZChpbmNsdWRlcyk7CiAgICAgICAgICAgIGlmIChpbmNsdWRlcy5sZW5ndGgo\nKSA+IDAgJiYgZXhjbHVkZXMubGVuZ3RoKCkgPiAwKSAKICAgICAgICAgICAg\nICAgIGRhdGFDYWNoZVNldHRpbmdzLmFwcGVuZCgiLCIpOwogICAgICAgICAg\nICBkYXRhQ2FjaGVTZXR0aW5ncy5hcHBlbmQoZXhjbHVkZXMpOwogICAgICAg\nICAgICBkYXRhQ2FjaGVTZXR0aW5ncy5hcHBlbmQoIikiKTsKICAgICAgICB9\nCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBwcm9wcyA9IG5ldyBIYXNo\nTWFwPFN0cmluZywgU3RyaW5nPigpOwogICAgICAgIHByb3BzLnB1dCgib3Bl\nbmpwYS5EYXRhQ2FjaGUiLCBkYXRhQ2FjaGVTZXR0aW5ncy50b1N0cmluZygp\nKTsKICAgICAgICBwcm9wcy5wdXQoIm9wZW5qcGEuUmVtb3RlQ29tbWl0UHJv\ndmlkZXIiLCAic2p2bSIpOwogICAgICAgIHByb3BzLnB1dCgib3BlbmpwYS5N\nZXRhRGF0YUZhY3RvcnkiLCAianBhKFR5cGVzPSIKICAgICAgICAgICAgKyBJ\ndGVtLmNsYXNzLmdldE5hbWUoKSArIF90U2VwICsgUHVyY2hhc2UuY2xhc3Mu\nZ2V0TmFtZSgpICsgX3RTZXAKICAgICAgICAgICAgKyBPcmRlci5jbGFzcy5n\nZXROYW1lKCkgKyAiKSIpOwogICAgICAgIGVtZiA9CiAgICAgICAgICAgIChP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkpIGphdmF4LnBlcnNpc3Rl\nbmNlLlBlcnNpc3RlbmNlCiAgICAgICAgICAgICAgICAuY3JlYXRlRW50aXR5\nTWFuYWdlckZhY3RvcnkoInRlc3QiLCBwcm9wcyk7CiAgICAgICAgcmV0dXJu\nIGVtZjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhc3NlcnRDYWNoZUNvbnRl\nbnRzKFN0b3JlQ2FjaGUgY2FjaGUsIGJvb2xlYW4gZXhwZWN0UHVyY2hhc2Us\nCiAgICAgICAgYm9vbGVhbiBleHBlY3RPcmRlcnMsIGJvb2xlYW4gZXhwZWN0\nSXRlbXMpIHsKICAgICAgICBhc3NlcnRFcXVhbHMoIkV4cGVjdGVkIHB1cmNo\nYXNlcyB0byAiICsgKGV4cGVjdFB1cmNoYXNlID8gIiIgOiAibm90ICIpCiAg\nICAgICAgICAgICsgImV4aXN0IGluIHRoZSBjYWNoZSIsIGV4cGVjdFB1cmNo\nYXNlLCBjYWNoZS5jb250YWlucygKICAgICAgICAgICAgUHVyY2hhc2UuY2xh\nc3MsIHAuZ2V0SWQoKSkpOwogICAgICAgIGFzc2VydEVxdWFscygiRXhwZWN0\nZWQgT3JkZXJzIHRvICIgKyAoZXhwZWN0T3JkZXJzID8gIiIgOiAibm90ICIp\nCiAgICAgICAgICAgICsgImV4aXN0IGluIHRoZSBjYWNoZSIsIGV4cGVjdE9y\nZGVycywgY2FjaGUuY29udGFpbnMoT3JkZXIuY2xhc3MsCiAgICAgICAgICAg\nIG8xLmdldElkKCkpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIkV4cGVjdGVk\nIE9yZGVycyB0byAiICsgKGV4cGVjdE9yZGVycyA/ICIiIDogIm5vdCAiKQog\nICAgICAgICAgICArICJleGlzdCBpbiB0aGUgY2FjaGUiLCBleHBlY3RPcmRl\ncnMsIGNhY2hlLmNvbnRhaW5zKE9yZGVyLmNsYXNzLAogICAgICAgICAgICBv\nMi5nZXRJZCgpKSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBJVEVN\nX05BTUVTLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFzc2VydEVxdWFs\ncygiRXhwZWN0ZWQgSXRlbXMgdG8gIiArIChleHBlY3RJdGVtcyA/ICIiIDog\nIm5vdCAiKQogICAgICAgICAgICAgICAgKyAiZXhpc3QgaW4gdGhlIGNhY2hl\nIiwgZXhwZWN0SXRlbXMsIGNhY2hlLmNvbnRhaW5zKEl0ZW0uY2xhc3MsCiAg\nICAgICAgICAgICAgICBpdGVtc1tpXS5nZXRJZCgpKSk7CiAgICAgICAgfQog\nICAgfQp9Cg==\n","encoding":"base64"}

