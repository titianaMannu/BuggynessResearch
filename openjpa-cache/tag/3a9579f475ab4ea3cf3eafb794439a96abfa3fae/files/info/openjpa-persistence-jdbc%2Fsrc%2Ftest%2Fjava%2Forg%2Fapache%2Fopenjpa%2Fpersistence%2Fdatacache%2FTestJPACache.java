{"sha":"5d79d02506d6dbd217d95d524a24a8901cdf0fd2","node_id":"MDQ6QmxvYjIwNjM2NDo1ZDc5ZDAyNTA2ZDZkYmQyMTdkOTVkNTI0YTI0YTg5MDFjZGYwZmQy","size":10687,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5d79d02506d6dbd217d95d524a24a8901cdf0fd2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CgppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuQXJndW1lbnRFeGNlcHRpb247Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TaW5n\nbGVFTUZUZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBUZXN0SlBBQ2FjaGUgZXh0\nZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7CgogICAgcHVibGljIHZvaWQgc2V0\nVXAoKSB7CiAgICAgICAgc3VwZXIuc2V0VXAoQ2FjaGVkUGVyc29uLmNsYXNz\nLCBDYWNoZWRNYW5hZ2VyLmNsYXNzLCBDYWNoZWRFbXBsb3llZS5jbGFzcywg\nIm9wZW5qcGEuRGF0YUNhY2hlIiwgInRydWUiLAogICAgICAgICAgICAib3Bl\nbmpwYS5SZW1vdGVDb21taXRQcm92aWRlciIsICJzanZtIik7CiAgICB9Cgog\nICAgcHJpdmF0ZSB2b2lkIHBvcHVsYXRlKCkgewogICAgICAgIEVudGl0eU1h\nbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwoKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CgogICAgICAgIENhY2hl\nZFBlcnNvbiBwID0gbmV3IENhY2hlZFBlcnNvbigpOwogICAgICAgIHAuc2V0\nRmlyc3ROYW1lKCJKb2huIik7CiAgICAgICAgcC5zZXRMYXN0TmFtZSgiRG9l\nIik7CiAgICAgICAgcC5zZXRJZCgxMCk7CiAgICAgICAgZW0ucGVyc2lzdChw\nKTsKCiAgICAgICAgcCA9IG5ldyBDYWNoZWRQZXJzb24oKTsKICAgICAgICBw\nLnNldEZpcnN0TmFtZSgiSmFuZSIpOwogICAgICAgIHAuc2V0TGFzdE5hbWUo\nIkRvZSIpOwogICAgICAgIHAuc2V0SWQoMTEpOwogICAgICAgIGVtLnBlcnNp\nc3QocCk7CgogICAgICAgIENhY2hlZE1hbmFnZXIgbSA9IG5ldyBDYWNoZWRN\nYW5hZ2VyKCk7CiAgICAgICAgbS5zZXRGaXJzdE5hbWUoIkpvYW4iKTsKICAg\nICAgICBtLnNldExhc3ROYW1lKCJCYWtlciIpOwogICAgICAgIG0uc2V0SWQo\nMTIpOwogICAgICAgIG0uc2V0RW1wbG95ZWVzKG5ldyBBcnJheUxpc3Q8Q2Fj\naGVkRW1wbG95ZWU+KCkpOwogICAgICAgIGVtLnBlcnNpc3QobSk7CgogICAg\nICAgIENhY2hlZEVtcGxveWVlIGUgPSBuZXcgQ2FjaGVkRW1wbG95ZWUoKTsK\nICAgICAgICBlLnNldEZpcnN0TmFtZSgiSmltIik7CiAgICAgICAgZS5zZXRG\naXJzdE5hbWUoIlNtaXRoIik7CiAgICAgICAgZS5zZXRNYW5hZ2VyKG0pOwog\nICAgICAgIGUuc2V0SWQoMTMpOwogICAgICAgIG0uZ2V0RW1wbG95ZWVzKCku\nYWRkKGUpOwogICAgICAgIGVtLnBlcnNpc3QoZSk7CgogICAgICAgIGUgPSBu\nZXcgQ2FjaGVkRW1wbG95ZWUoKTsKICAgICAgICBlLnNldEZpcnN0TmFtZSgi\nSmVmZiIpOwogICAgICAgIGUuc2V0Rmlyc3ROYW1lKCJQYXJrZXIiKTsKICAg\nICAgICBlLnNldElkKDE0KTsKICAgICAgICBlLnNldE1hbmFnZXIobSk7CiAg\nICAgICAgbS5nZXRFbXBsb3llZXMoKS5hZGQoZSk7CiAgICAgICAgZW0ucGVy\nc2lzdChlKTsKCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsKCiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIEVuc3VyZSB0aGUgY2FjaGVkIHJldHVybmVkIGJ5IGVtZi5nZXRDYWNoZSBz\ndXBwb3J0cyB0aGUgSlBBIGFuZCBPcGVuSlBBIGludGVyZmFjZXMuIEV4cGVj\ndGVkIGludGVyZmFjZXMgYXJlCiAgICAgKiA8dWw+CiAgICAgKiA8bGk+amF2\nYXgucGVyc2lzdGVuY2UuQ2FjaGU8L2xpPgogICAgICogPGxpPm9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5TdG9yZUNhY2hlPC9saT4KICAgICAq\nIDwvdWw+CiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RJbnRlcmZhY2Vz\nUmV0dXJuZWQoKSB7CiAgICAgICAgT2JqZWN0IGNhY2hlID0gZW1mLmdldENh\nY2hlKCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbCgiQ2FjaGUgaXMgbm90IGVu\nYWJsZWQiLCBjYWNoZSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShjYWNoZSBpbnN0\nYW5jZW9mIGphdmF4LnBlcnNpc3RlbmNlLkNhY2hlKTsKICAgICAgICBhc3Nl\ncnRUcnVlKGNhY2hlIGluc3RhbmNlb2Ygb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLlN0b3JlQ2FjaGUpOwogICAgfQoKICAgIC8qKgogICAgICog\nRW5zdXJlIHRoYXQgYW4gRW50aXR5IGlzIG5vdCBpbnNlcnRlZCBpbiB0aGUg\nY2FjaGUgdW50aWwgdGhlIHRyYW5zYWN0aW9uIGNvbW1pdHMuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHRlc3RDb250YWlucygpIHsKICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CgogICAgICAgIENh\nY2hlZFBlcnNvbiBwID0gbmV3IENhY2hlZFBlcnNvbigpOwogICAgICAgIHAu\nc2V0Rmlyc3ROYW1lKCJKb2huIik7CiAgICAgICAgcC5zZXRMYXN0TmFtZSgi\nRG9lIik7CiAgICAgICAgcC5zZXRJZCgxKTsKCiAgICAgICAgYXNzZXJ0Tm90\nSW5DYWNoZShDYWNoZWRQZXJzb24uY2xhc3MsIDEpOwogICAgICAgIGVtLnBl\ncnNpc3QocCk7CiAgICAgICAgYXNzZXJ0Tm90SW5DYWNoZShDYWNoZWRQZXJz\nb24uY2xhc3MsIDEpOwoKICAgICAgICBlbS5mbHVzaCgpOwogICAgICAgIGFz\nc2VydE5vdEluQ2FjaGUoQ2FjaGVkUGVyc29uLmNsYXNzLCAxKTsKCiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBhc3Nl\ncnRJbkNhY2hlKENhY2hlZFBlcnNvbi5jbGFzcywgMSk7CgogICAgICAgIGVt\nLmNsb3NlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBFdmljdCBhIHNpbmds\nZSBlbnRpdHkgaW5zdGFuY2Ugb2YgdHlwZSBDYWNoZWRQZXJzb24gZnJvbSB0\naGUgY2FjaGUuIFRlc3RjYXNlIHdpbGwgZmFpbCBpZgogICAgICogPHVsPgog\nICAgICogPGxpPkNhY2hlZFBlcnNvbiBpZDoxMCBhbmQgMTEgYXJlIG5vdCBp\nbiB0aGUgY2FjaGUgd2hlbiB0aGUgdGVzdCBzdGFydHMuPC9saT4KICAgICAq\nIDxsaT5DYWNoZWRQZXJzb24gaWQ6MSA8Yj5pczwvYj4gZm91bmQgaW4gdGhl\nIGNhY2hlIHdoZW4gdGhlIHRlc3Qgc3RhcnRzLjwvbGk+CiAgICAgKiA8bGk+\nQ2FjaGVkUGVyc29uIGlkOjEwIGlzIG5vdCBmb3VuZCBpbiB0aGUgY2FjaGUg\nYWZ0ZXIgZXZpY3RpbmcgQ2FjaGVkUGVyc29uIGlkOjExPC9saT4KICAgICAq\nIDxsaT5DYWNoZWRQZXJzb24gaWQ6MTEgaXMgZm91bmQgaW4gdGhlIGNhY2hl\nIGFmdGVyIGV2aWN0aW5nIENhY2hlZFBlcnNvbiBpZDoxMTwvbGk+CiAgICAg\nKiA8bGk+Q2FjaGVkUGVyc29uIGlkOjEgaXMgZm91bmQgaW4gdGhlIGNhY2hl\nIGFmdGVyIGV2aWN0aW5nIENhY2hlZFBlcnNvbiBpZDoxMTwvbGk+CiAgICAg\nKiA8L3VsPgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0RXZpY3RJbnN0\nYW5jZSgpIHsKICAgICAgICBwb3B1bGF0ZSgpOwogICAgICAgIGFzc2VydElu\nQ2FjaGUoQ2FjaGVkUGVyc29uLmNsYXNzLCAxMCk7CiAgICAgICAgYXNzZXJ0\nSW5DYWNoZShDYWNoZWRQZXJzb24uY2xhc3MsIDExKTsKICAgICAgICBhc3Nl\ncnROb3RJbkNhY2hlKENhY2hlZFBlcnNvbi5jbGFzcywgMSk7CgogICAgICAg\nIGVtZi5nZXRDYWNoZSgpLmV2aWN0KENhY2hlZFBlcnNvbi5jbGFzcywgMTEp\nOwoKICAgICAgICBhc3NlcnRJbkNhY2hlKENhY2hlZFBlcnNvbi5jbGFzcywg\nMTApOwogICAgICAgIGFzc2VydE5vdEluQ2FjaGUoQ2FjaGVkUGVyc29uLmNs\nYXNzLCAxMSk7CiAgICAgICAgYXNzZXJ0Tm90SW5DYWNoZShDYWNoZWRQZXJz\nb24uY2xhc3MsIDEpOwogICAgfQoKICAgIC8qKgogICAgICogRW5zdXJlIHRo\nYXQgZXZpY3QoQ2xhc3MgY2xzKSBldmljdHMgdGhlIHNwZWNpZmllZCBjbGFz\ncyBhbmQgYW55IHN1YmNsYXNzZXMuIFRoaXMgdGVzdCB3aWxsIGZhaWwgaWYK\nICAgICAqIDx1bD4KICAgICAqIDxsaT5Bbnkgb2YgdGhlIGVudGl0ZXMgY3Jl\nYXRlZCBpbiBwb3B1bGF0ZSgpIGFyZSBub3QgZm91bmQgaW4gdGhlIGNhY2hl\nIGJlZm9yZSBjYWxsaW5nIGV2aWN0KCk8L2xpPgogICAgICogPGxpPkFueSBp\nbnN0YW5jZSBvZiBDYWNoZWRQZXJzb24gZnJvbSBwb3B1bGF0ZSgpIGlzIGZv\ndW5kIGluIHRoZSBjYWNoZSBhZnRlcgogICAgICogICBjYWxsaW5nIGV2aWN0\nKENhY2hlZFBlcnNvbi5jbGFzcyk8L2xpPgogICAgICogPGxpPkFueSBpbnN0\nYW5jZSBvZiBDYWNoZWRNYW5hZ2VyIG9yIENhY2hlZEVtcGxveWVlIGlzIGZv\ndW5kIGluIHRoZSBjYWNoZSBhZnRlciBjYWxsaW5nIGV2aWN0KCk8L2xpPgog\nICAgICogPC91bD4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEV2aWN0\nQ2xhc3MoKSB7CiAgICAgICAgcG9wdWxhdGUoKTsKICAgICAgICBhc3NlcnRJ\nbkNhY2hlKENhY2hlZFBlcnNvbi5jbGFzcywgMTApOwogICAgICAgIGFzc2Vy\ndEluQ2FjaGUoQ2FjaGVkUGVyc29uLmNsYXNzLCAxMSk7CiAgICAgICAgYXNz\nZXJ0SW5DYWNoZShDYWNoZWRFbXBsb3llZS5jbGFzcywgMTMpOwogICAgICAg\nIGFzc2VydEluQ2FjaGUoQ2FjaGVkRW1wbG95ZWUuY2xhc3MsIDE0KTsKICAg\nICAgICBhc3NlcnRJbkNhY2hlKENhY2hlZE1hbmFnZXIuY2xhc3MsIDEyKTsK\nCiAgICAgICAgZW1mLmdldENhY2hlKCkuZXZpY3QoQ2FjaGVkUGVyc29uLmNs\nYXNzKTsKCiAgICAgICAgYXNzZXJ0Tm90SW5DYWNoZShDYWNoZWRQZXJzb24u\nY2xhc3MsIDEwKTsKICAgICAgICBhc3NlcnROb3RJbkNhY2hlKENhY2hlZFBl\ncnNvbi5jbGFzcywgMTEpOwogICAgICAgIGFzc2VydE5vdEluQ2FjaGUoQ2Fj\naGVkRW1wbG95ZWUuY2xhc3MsIDEzKTsKICAgICAgICBhc3NlcnROb3RJbkNh\nY2hlKENhY2hlZEVtcGxveWVlLmNsYXNzLCAxNCk7CiAgICAgICAgYXNzZXJ0\nTm90SW5DYWNoZShDYWNoZWRNYW5hZ2VyLmNsYXNzLCAxMik7CgogICAgfQoK\nICAgIC8qKgogICAgICogRW5zdXJlIHRoZSBjYWNoZSBpcyBjbGVhcmVkIGFm\ndGVyIGNhbGxpbmcgZXZpY3RBbGwuIFRoaXMgdGVzdCB3aWxsIGZhaWwgaWYg\nOgogICAgICogPHVsPgogICAgICogPGxpPkFueSBvZiB0aGUgZW50aXRpZXMg\nY3JlYXRlZCBpbiBwb3B1bGF0ZSgpIGFyZSBub3QgZm91bmQgaW4gdGhlIGNh\nY2hlPC9saT4KICAgICAqIDxsaT5Bbnkgb2YgdGhlIGVudGl0aWVzIHdoaWNo\nIHdlcmUgaW4gdGhlIGNhY2hlIGJlZm9yZSBjYWxsaW5nIGV2aWN0QWxsKCkg\nYXJlIHN0aWxsIGluIHRoZSBjYWNoZSBhZnRlciBjYWxsaW5nCiAgICAgKiBl\ndmljdEFsbCgpPC9saT4KICAgICAqIDwvdWw+CiAgICAgKiAKICAgICAqLwog\nICAgcHVibGljIHZvaWQgdGVzdEV2aWN0QWxsKCkgewogICAgICAgIHBvcHVs\nYXRlKCk7CgogICAgICAgIGFzc2VydEluQ2FjaGUoQ2FjaGVkUGVyc29uLmNs\nYXNzLCAxMCk7CiAgICAgICAgYXNzZXJ0SW5DYWNoZShDYWNoZWRQZXJzb24u\nY2xhc3MsIDExKTsKICAgICAgICBhc3NlcnRJbkNhY2hlKENhY2hlZEVtcGxv\neWVlLmNsYXNzLCAxMyk7CiAgICAgICAgYXNzZXJ0SW5DYWNoZShDYWNoZWRF\nbXBsb3llZS5jbGFzcywgMTQpOwogICAgICAgIGFzc2VydEluQ2FjaGUoQ2Fj\naGVkTWFuYWdlci5jbGFzcywgMTIpOwoKICAgICAgICBlbWYuZ2V0Q2FjaGUo\nKS5ldmljdEFsbCgpOwoKICAgICAgICBhc3NlcnROb3RJbkNhY2hlKENhY2hl\nZFBlcnNvbi5jbGFzcywgMTApOwogICAgICAgIGFzc2VydE5vdEluQ2FjaGUo\nQ2FjaGVkUGVyc29uLmNsYXNzLCAxMSk7CiAgICAgICAgYXNzZXJ0Tm90SW5D\nYWNoZShDYWNoZWRFbXBsb3llZS5jbGFzcywgMTMpOwogICAgICAgIGFzc2Vy\ndE5vdEluQ2FjaGUoQ2FjaGVkRW1wbG95ZWUuY2xhc3MsIDE0KTsKICAgICAg\nICBhc3NlcnROb3RJbkNhY2hlKENhY2hlZE1hbmFnZXIuY2xhc3MsIDEyKTsK\nICAgIH0KCiAgICAvLyB0ZXN0IG1ldGhvZHMgZm9yIGJhZCBpbnB1dC4KICAg\nIHB1YmxpYyB2b2lkIHRlc3RDb250YWluc051bGxFbnRpdHkoKSB7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgZW1mLmdldENhY2hlKCkuY29udGFpbnMo\nbnVsbCwgMSk7CiAgICAgICAgICAgIGZhaWwoIkV4cGVjdGVkIEFyZ3VtZW50\nRXhjZXB0aW9uIHdoZW4gY2FsbGluZyAgIiArICJjb250YWlucyg8bnVsbD4s\nIDxub25OdWxsPikiKTsKICAgICAgICB9IGNhdGNoIChBcmd1bWVudEV4Y2Vw\ndGlvbiBhZSkgewogICAgICAgICAgICAvLyBub3JtYWwKICAgICAgICB9CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdENvbnRhaW5zTm9uRW50aXR5Q2xh\nc3MoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZW1mLmdldENhY2hl\nKCkuY29udGFpbnMoT2JqZWN0LmNsYXNzLCAxKTsKICAgICAgICAgICAgZmFp\nbCgiRXhwZWN0ZWQgQXJndW1lbnRFeGNlcHRpb24gd2hlbiBjYWxsaW5nICIg\nKyAiY29udGFpbnMoPG5vbkVudGl0eUNsYXNzPiwgPG5vbk51bGw+Iik7CiAg\nICAgICAgfSBjYXRjaCAoQXJndW1lbnRFeGNlcHRpb24gYWUpIHsKICAgICAg\nICAgICAgLy8gZXhwZWN0ZWQgZXhjZXB0aW9uCiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RDb250YWluc051bGxQcmltYXJ5S2V5KCkg\newogICAgICAgIGFzc2VydEZhbHNlKGVtZi5nZXRDYWNoZSgpLmNvbnRhaW5z\nKENhY2hlZFBlcnNvbi5jbGFzcywgbnVsbCkpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RDb250YWluc05lZ2F0aXZlUHJpbWFyeUtleSgpIHsKICAg\nICAgICBhc3NlcnRGYWxzZShlbWYuZ2V0Q2FjaGUoKS5jb250YWlucyhDYWNo\nZWRQZXJzb24uY2xhc3MsIC0xKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ndGVzdENvbnRhaW5zSW52YWxpZFByaW1hcnlLZXlUeXBlKCkgewogICAgICAg\nIGFzc2VydEZhbHNlKGVtZi5nZXRDYWNoZSgpLmNvbnRhaW5zKENhY2hlZFBl\ncnNvbi5jbGFzcywgImFiY2QiKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ndGVzdEV2aWN0TnVsbEluc3RhbmNlKCkgewogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIGVtZi5nZXRDYWNoZSgpLmV2aWN0KG51bGwsIDEpOwogICAgICAg\nICAgICBmYWlsKCJFeHBlY3RlZCBBcmd1bWVudEV4Y2VwdGlvbiB3aGVuIGNh\nbGxpbmcgIiArICJldmljdCg8bnVsbD4sIDxpZCIpOwogICAgICAgIH0gY2F0\nY2ggKEFyZ3VtZW50RXhjZXB0aW9uIGFlKSB7CiAgICAgICAgICAgIC8vIGV4\ncGVjdGVkIGV4Y2VwdGlvbgogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0RXZpY3ROb25FbnRpdHlJbnN0YW5jZSgpIHsKICAgICAgICB0\ncnkgewogICAgICAgICAgICBlbWYuZ2V0Q2FjaGUoKS5ldmljdChPYmplY3Qu\nY2xhc3MsIDEpOwogICAgICAgICAgICBmYWlsKCJFeHBlY3RlZCBBcmd1bWVu\ndEV4Y2VwdGlvbiB3aGVuIGNhbGxpbmcgIiArICJldmljdCg8bnVsbD4sIDxp\nZCIpOwogICAgICAgIH0gY2F0Y2ggKEFyZ3VtZW50RXhjZXB0aW9uIGFlKSB7\nCiAgICAgICAgICAgIC8vIGV4cGVjdGVkIGV4Y2VwdGlvbgogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RXZpY3ROdWxsUHJpbWFyeUtl\neSgpIHsKICAgICAgICBlbWYuZ2V0Q2FjaGUoKS5ldmljdChDYWNoZWRQZXJz\nb24uY2xhc3MsIG51bGwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RF\ndmljdE5lZ2F0aXZlUHJpbWFyeUtleSgpIHsKICAgICAgICBlbWYuZ2V0Q2Fj\naGUoKS5ldmljdChDYWNoZWRQZXJzb24uY2xhc3MsIC0xKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0RXZpY3RJbnZhbGlkUHJpbWFyeUtleVR5cGUo\nKSB7CiAgICAgICAgZW1mLmdldENhY2hlKCkuZXZpY3QoQ2FjaGVkUGVyc29u\nLmNsYXNzLCAiYWJjZCIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RF\ndmljdE51bGxDbGFzcygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBl\nbWYuZ2V0Q2FjaGUoKS5ldmljdChudWxsKTsKICAgICAgICAgICAgZmFpbCgi\nRXhwZWN0ZWQgQXJndW1lbnRFeGNlcHRpb24gd2hlbiBjYWxsaW5nICIgKyAi\nZXZpY3QoPG51bGw+Iik7CiAgICAgICAgfSBjYXRjaCAoQXJndW1lbnRFeGNl\ncHRpb24gYWUpIHsKICAgICAgICAgICAgLy8gZXhwZWN0ZWQgZXhjZXB0aW9u\nCiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RFdmljdE5v\nbkVudGl0eSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBlbWYuZ2V0\nQ2FjaGUoKS5ldmljdChPYmplY3QuY2xhc3MpOwogICAgICAgICAgICBmYWls\nKCJFeHBlY3RlZCBBcmd1bWVudEV4Y2VwdGlvbiB3aGVuIGNhbGxpbmcgIiAr\nICJldmljdCg8bm9uRW50aXR5PiIpOwogICAgICAgIH0gY2F0Y2ggKEFyZ3Vt\nZW50RXhjZXB0aW9uIGFlKSB7CiAgICAgICAgICAgIC8vIGV4cGVjdGVkIGV4\nY2VwdGlvbgogICAgICAgIH0KICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdElsbGVnYWxTdGF0ZUV4Y2VwdGlvbkFmdGVyQ2xvc2UoKSB7IAogICAg\nICAgIGVtZi5jbG9zZSgpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVt\nZi5nZXRDYWNoZSgpOwogICAgICAgICAgICBmYWlsKCJFeHBlY3RlZCBJbGxl\nZ2FsU3RhdGVFeGNlcHRpb24iKTsKICAgICAgICB9CiAgICAgICAgY2F0Y2go\nSWxsZWdhbFN0YXRlRXhjZXB0aW9uIGlzZSkgewogICAgICAgICAgICAvLyBl\neHBlY3RlZAogICAgICAgIH0KICAgIH0KICAgIHB1YmxpYyB2b2lkIHRlc3RJ\nbGxlZ2FsU3RhdGVFeGNlcHRpb25HZXRBZnRlckNsb3NlKCkgewogICAgICAg\nIGVtZi5nZXRDYWNoZSgpOyAgLy8gcG9wdWxhdGUgdGhlIEVudGl0eU1hbmFn\nZXJGYWN0b3J5SW1wbCdzIHdyYXBwZXIgZm9yIHRoZSBTdG9yZUNhY2hlLgog\nICAgICAgIGVtZi5jbG9zZSgpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIGVtZi5nZXRDYWNoZSgpOwogICAgICAgICAgICBmYWlsKCJFeHBlY3RlZCBJ\nbGxlZ2FsU3RhdGVFeGNlcHRpb24iKTsKICAgICAgICB9CiAgICAgICAgY2F0\nY2goSWxsZWdhbFN0YXRlRXhjZXB0aW9uIGlzZSkgewogICAgICAgICAgICAv\nLyBleHBlY3RlZAogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENv\nbnZlbmllbmNlIG1ldGhvZC4gQXNzZXJ0cyB0aGF0IHRoZSBjbGFzcyAmIHBy\naW1hcnkga2V5IGRvIGV4aXN0IGluIHRoZSBjYWNoZQogICAgICogCiAgICAg\nKiBAcGFyYW0gY2xzCiAgICAgKiAgICAgICAgICAgIEVudGl0eSBjbGFzcy4K\nICAgICAqIEBwYXJhbSBwcmltYXJ5S2V5CiAgICAgKiAgICAgICAgICAgIFBy\naW1hcnlLZXkgb2YgdGhlIGVudGl0eS4KICAgICAqLwogICAgcHJpdmF0ZSB2\nb2lkIGFzc2VydEluQ2FjaGUoQ2xhc3M8Pz4gY2xzLCBPYmplY3QgcHJpbWFy\neUtleSkgewogICAgICAgIGFzc2VydFRydWUoU3RyaW5nLmZvcm1hdCgiJXM6\nJXMgc2hvdWxkIGV4aXN0IGluIGNhY2hlIiwgY2xzLnRvU3RyaW5nKCksIHBy\naW1hcnlLZXkudG9TdHJpbmcoKSksIGVtZi5nZXRDYWNoZSgpCiAgICAgICAg\nICAgIC5jb250YWlucyhjbHMsIHByaW1hcnlLZXkpKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIENvbnZlbmllbmNlIG1ldGhvZC4gQXNzZXJ0IHRoYXQgdGhl\nIGNsYXNzIGFuZCBwcmltYXJ5IGtleSBkbyBub3QgZXhpc3QgaW4gdGhlIGNh\nY2hlCiAgICAgKiAKICAgICAqIEBwYXJhbSBjbHMKICAgICAqICAgICAgICAg\nICAgRW50aXR5IGNsYXNzLgogICAgICogQHBhcmFtIHByaW1hcnlLZXkKICAg\nICAqICAgICAgICAgICAgUHJpbWFyeUtleSBvZiB0aGUgZW50aXR5LgogICAg\nICovCiAgICBwcml2YXRlIHZvaWQgYXNzZXJ0Tm90SW5DYWNoZShDbGFzczw/\nPiBjbHMsIE9iamVjdCBwcmltYXJ5S2V5KSB7CiAgICAgICAgYXNzZXJ0RmFs\nc2UoU3RyaW5nLmZvcm1hdCgiJXM6JXMgc2hvdWxkIG5vdCBleGlzdCBpbiBj\nYWNoZSIsIGNscy50b1N0cmluZygpLCBwcmltYXJ5S2V5LnRvU3RyaW5nKCkp\nLCBlbWYKICAgICAgICAgICAgLmdldENhY2hlKCkuY29udGFpbnMoY2xzLCBw\ncmltYXJ5S2V5KSk7CiAgICB9Cgp9Cg==\n","encoding":"base64"}

