{"sha":"9c57c00d7493d8f87a612225475cdd7a63ad0cff","node_id":"MDQ6QmxvYjIwNjM2NDo5YzU3YzAwZDc0OTNkOGY4N2E2MTIyMjU0NzVjZGQ3YTYzYWQwY2Zm","size":3246,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9c57c00d7493d8f87a612225475cdd7a63ad0cff","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy51\ncGRhdGU7CgppbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wOwoKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU2luZ2xlRU1GVGVzdENh\nc2U7CgovKioKICogVGVzdHMgZm9yIHVwZGF0ZSBvbiBlbnRpdHkgdGhhdCB1\nc2VzIGEgVGltZXN0YW1wIGFzIHZlcnNpb24uCiAqIAogKiBAc2VlIDxBIEhS\nRUY9Imh0dHBzOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvT1BF\nTkpQQS0xNTgzIj5PUEVOSlBBLTE1ODM8L0E+CiAqICAgICAKICogQGF1dGhv\nciBQaW5ha2kgUG9kZGFyCiAqIAogKi8KcHVibGljIGNsYXNzIFRlc3RUaW1l\nc3RhbXBWZXJzaW9uIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoJcHVi\nbGljIHZvaWQgc2V0VXAoKSB7CgkJc3VwZXIuc2V0VXAoQ0xFQVJfVEFCTEVT\nLCBUaW1lc3RhbXBlZEVudGl0eS5jbGFzcywgTnVtZXJpY1ZlcnNpb25lZEVu\ndGl0eS5jbGFzcyk7Cgl9CgogICAgcHVibGljIHZvaWQgdGVzdEJ1bGtVcGRh\ndGVPblRpbWVzdGFtcGVkVmVyc2lvbigpIHsKICAgICAgICBUaW1lc3RhbXBl\nZEVudGl0eSBwYyA9IG5ldyBUaW1lc3RhbXBlZEVudGl0eSgpOwogICAgICAg\nIHBjLnNldE5hbWUoIk9yaWdpbmFsIik7CiAgICAgICAgRW50aXR5TWFuYWdl\nciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3Qo\ncGMpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAg\nICAgICAgCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gZGVsYXkgdG8g\nZW5zdXJlIHRoZSBuZXcgdGltZXN0YW1wIGV4Y2VlZHMgdGhlIHRpbWVyJ3Mg\ncmVzb2x1dGlvbi4KICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDEwMCk7CiAg\nICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkgewogICAg\nICAgIH0KCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwog\nICAgICAgIFRpbWVzdGFtcCBvbGRWZXJzaW9uID0gcGMuZ2V0VmVyc2lvbigp\nOwogICAgICAgIFN0cmluZyBqcHFsID0gIlVQREFURSBUaW1lc3RhbXBlZEVu\ndGl0eSB0IFNFVCB0Lm5hbWU9Om5ld25hbWUgV0hFUkUgdC5uYW1lPTpvbGRu\nYW1lIjsKICAgICAgICBlbS5jcmVhdGVRdWVyeShqcHFsKQogICAgICAgICAg\nLnNldFBhcmFtZXRlcigibmV3bmFtZSIsICJVcGRhdGVkIikKICAgICAgICAg\nIC5zZXRQYXJhbWV0ZXIoIm9sZG5hbWUiLCAiT3JpZ2luYWwiKQogICAgICAg\nICAgLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5yZWZyZXNoKHBjKTsKICAgICAg\nICBUaW1lc3RhbXAgbmV3VmVyc2lvbiA9IHBjLmdldFZlcnNpb24oKTsKICAg\nICAgICBhc3NlcnRUcnVlKG5ld1ZlcnNpb24uYWZ0ZXIob2xkVmVyc2lvbikp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0QnVsa1VwZGF0ZU9u\nTnVtZXJpY1ZlcnNpb24oKSB7CiAgICAgICAgTnVtZXJpY1ZlcnNpb25lZEVu\ndGl0eSBwYyA9IG5ldyBOdW1lcmljVmVyc2lvbmVkRW50aXR5KCk7CiAgICAg\nICAgcGMuc2V0TmFtZSgiT3JpZ2luYWwiKTsKICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0ucGVyc2lz\ndChwYyk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsK\nICAgICAgICAKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7\nCiAgICAgICAgaW50IG9sZFZlcnNpb24gPSBwYy5nZXRWZXJzaW9uKCk7CiAg\nICAgICAgU3RyaW5nIGpwcWwgPSAiVVBEQVRFIE51bWVyaWNWZXJzaW9uZWRF\nbnRpdHkgdCBTRVQgdC5uYW1lPTpuZXduYW1lIFdIRVJFIHQubmFtZT06b2xk\nbmFtZSI7CiAgICAgICAgZW0uY3JlYXRlUXVlcnkoanBxbCkKICAgICAgICAg\nIC5zZXRQYXJhbWV0ZXIoIm5ld25hbWUiLCAiVXBkYXRlZCIpCiAgICAgICAg\nICAuc2V0UGFyYW1ldGVyKCJvbGRuYW1lIiwgIk9yaWdpbmFsIikKICAgICAg\nICAgIC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rp\nb24oKS5jb21taXQoKTsKICAgICAgICAKICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0ucmVmcmVzaChwYyk7CiAgICAg\nICAgaW50IG5ld1ZlcnNpb24gPSBwYy5nZXRWZXJzaW9uKCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKG5ld1ZlcnNpb24sIG9sZFZlcnNpb24rMSk7CiAgICB9\nCgoJCn0K\n","encoding":"base64"}

