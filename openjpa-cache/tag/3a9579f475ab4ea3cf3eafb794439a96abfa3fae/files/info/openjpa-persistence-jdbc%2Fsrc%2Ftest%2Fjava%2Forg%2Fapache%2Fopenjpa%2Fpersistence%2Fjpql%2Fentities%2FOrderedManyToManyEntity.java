{"sha":"e407bb5a924442035c9a336d61d8584a87fb7800","node_id":"MDQ6QmxvYjIwNjM2NDplNDA3YmI1YTkyNDQ0MjAzNWM5YTMzNmQ2MWQ4NTg0YTg3ZmI3ODAw","size":2256,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e407bb5a924442035c9a336d61d8584a87fb7800","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgIGh0dHA6Ly93d3cuYXBhY2hl\nLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWly\nZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcs\nCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz\nIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQg\nV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRo\nZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0\naGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z\nIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpwcWwuZW50\naXRpZXM7CgppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGph\ndmEudXRpbC5MaXN0OwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0\neTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLklkOwppbXBvcnQgamF2YXgu\ncGVyc2lzdGVuY2UuTWFueVRvTWFueTsKaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLk9yZGVyQ29sdW1uOwoKQEVudGl0eQpwdWJsaWMgY2xhc3MgT3JkZXJl\nZE1hbnlUb01hbnlFbnRpdHkgaW1wbGVtZW50cyBJT3JkZXJlZEVudGl0eSwg\namF2YS5pby5TZXJpYWxpemFibGUgewoKICAgIEBJZAogICAgcHJpdmF0ZSBp\nbnQgaWQ7CgogICAgQE1hbnlUb01hbnkKICAgIEBPcmRlckNvbHVtbgogICAg\ncHJpdmF0ZSBMaXN0PElOYW1lRW50aXR5PiBlbnRpdGllczsKCiAgICAKICAg\nIHB1YmxpYyBpbnQgZ2V0SWQoKSB7CiAgICAgICAgcmV0dXJuIGlkOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkgewogICAgICAgIHRo\naXMuaWQgPSBpZDsKICAgIH0KCiAgICBwdWJsaWMgTGlzdDxJTmFtZUVudGl0\neT4gZ2V0RW50aXRpZXMoKSB7CiAgICAgICAgcmV0dXJuIGVudGl0aWVzOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEVudGl0aWVzKExpc3Q8SU5hbWVF\nbnRpdHk+IGVudGl0aWVzKSB7CiAgICAgICAgdGhpcy5lbnRpdGllcyA9IGVu\ndGl0aWVzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFkZEVudGl0eShJTmFt\nZUVudGl0eSBlbnRpdHkpIHsKICAgICAgICBpZiggZW50aXRpZXMgPT0gbnVs\nbCkgewogICAgICAgICAgICBlbnRpdGllcyA9IG5ldyBBcnJheUxpc3Q8SU5h\nbWVFbnRpdHk+KCk7CiAgICAgICAgfQogICAgICAgIGVudGl0aWVzLmFkZChl\nbnRpdHkpOwogICAgfQogICAgICAgIAogICAgcHVibGljIElOYW1lRW50aXR5\nIHJlbW92ZUVudGl0eShpbnQgbG9jYXRpb24pIHsKICAgICAgICBJTmFtZUVu\ndGl0eSBydG5WYWwgPSBudWxsOwogICAgICAgIGlmKCBlbnRpdGllcyAhPSBu\ndWxsKSB7CiAgICAgICAgICAgIHJ0blZhbCA9IGVudGl0aWVzLnJlbW92ZShs\nb2NhdGlvbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBydG5WYWw7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIGluc2VydEVudGl0eShpbnQgbG9j\nYXRpb24sIElOYW1lRW50aXR5IGVudGl0eSkgewogICAgICAgIGlmKCBlbnRp\ndGllcyA9PSBudWxsKSB7CiAgICAgICAgICAgIGVudGl0aWVzID0gbmV3IEFy\ncmF5TGlzdDxJTmFtZUVudGl0eT4oKTsKICAgICAgICB9CiAgICAgICAgZW50\naXRpZXMuYWRkKGxvY2F0aW9uLCBlbnRpdHkpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuICJPcmRlcmVk\nTWFueVRvTWFueUVudGl0eVsiICsgaWQgKyAiXT0iICsgZW50aXRpZXM7CiAg\nICB9Cn0K\n","encoding":"base64"}

