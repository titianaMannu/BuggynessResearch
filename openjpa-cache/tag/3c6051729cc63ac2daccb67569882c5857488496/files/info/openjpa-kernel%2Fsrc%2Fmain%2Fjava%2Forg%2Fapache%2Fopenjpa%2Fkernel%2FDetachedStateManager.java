{"sha":"1c58524f31ba0951ef91342b28f7dfa2b434956d","node_id":"MDQ6QmxvYjIwNjM2NDoxYzU4NTI0ZjMxYmEwOTUxZWY5MTM0MmIyOGY3ZGZhMmI0MzQ5NTZk","size":29803,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1c58524f31ba0951ef91342b28f7dfa2b434956d","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLk9iamVjdE91dHB1\ndDsKaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwppbXBvcnQgamF2YS51\ndGlsLkJpdFNldDsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBv\ncnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nY29uZi5Db21wYXRpYmlsaXR5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmVuaGFuY2UuUGVyc2lzdGVuY2VDYXBhYmxlOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmVuaGFuY2UuU3RhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IGphdmEu\ndXRpbC5jb25jdXJyZW50LmxvY2tzLlJlZW50cmFudExvY2s7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuRmllbGRNZXRhRGF0YTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkphdmFUeXBlczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5tZXRhLlZhbHVlTWV0YURhdGE7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEudXRpbC5FeGNlcHRpb25zOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnV0aWwuUHJveHk7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEudXRpbC5VbnN1cHBvcnRlZEV4Y2VwdGlvbjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS51dGlsLkltcGxIZWxwZXI7CgovKioKICogSW50\nZXJuYWwgc3RhdGUgbWFuYWdlciBmb3IgZGV0YWNoZWQgaW5zdGFuY2VzLiBE\nb2VzIG5vdCBmdWxseQogKiBpbXBsZW1lbnQge0BsaW5rIE9wZW5KUEFTdGF0\nZU1hbmFnZXJ9IGNvbnRyYWN0IHRvIGFsbG93IGZvciBzZXJpYWxpemF0aW9u\nLgogKgogKiBAYXV0aG9yIFN0ZXZlIEtpbQogKiBAbm9qYXZhZG9jCiAqLwpw\ndWJsaWMgY2xhc3MgRGV0YWNoZWRTdGF0ZU1hbmFnZXIKICAgIGV4dGVuZHMg\nQXR0YWNoU3RyYXRlZ3kKICAgIGltcGxlbWVudHMgT3BlbkpQQVN0YXRlTWFu\nYWdlciwgU2VyaWFsaXphYmxlIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5h\nbCBsb25nIHNlcmlhbFZlcnNpb25VSUQgPSA0MTEyMjIzNjY1NTg0NzMxMTAw\nTDsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9\nIExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKERldGFjaGVkU3RhdGVN\nYW5hZ2VyLmNsYXNzKTsKCiAgICBwcml2YXRlIGZpbmFsIFBlcnNpc3RlbmNl\nQ2FwYWJsZSBfcGM7CiAgICBwcml2YXRlIGZpbmFsIGJvb2xlYW4gX2VtYmVk\nZGVkOwogICAgcHJpdmF0ZSBmaW5hbCBib29sZWFuIF9hY2Nlc3M7CiAgICBw\ncml2YXRlIGZpbmFsIEJpdFNldCBfbG9hZGVkOwogICAgcHJpdmF0ZSBmaW5h\nbCBCaXRTZXQgX2RpcnR5OwogICAgcHJpdmF0ZSBmaW5hbCBPYmplY3QgX29p\nZDsKICAgIHByaXZhdGUgZmluYWwgT2JqZWN0IF92ZXJzaW9uOwogICAgcHJp\ndmF0ZSBmaW5hbCBSZWVudHJhbnRMb2NrIF9sb2NrOwogICAgcHJpdmF0ZSBm\naW5hbCBib29sZWFuIF91c2VEU0ZGb3JVbnByb3h5OyAgIC8vIG9sZCByZWxl\nYXNlcyB3aWxsIGRlZmF1bHQgdG8gRkFMU0UsIHdoaWNoIGlzIHRoZSBvbGQg\nYmVoYXZpb3IKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLgogICAgICoK\nICAgICAqIEBwYXJhbSBwYyB0aGUgbWFuYWdlZCBpbnN0YW5jZQogICAgICog\nQHBhcmFtIHNtIHRoZSBpbnN0YW5jZSdzIHN0YXRlIG1hbmFnZXIKICAgICAq\nIEBwYXJhbSBsb2FkIHRoZSBzZXQgb2YgZGV0YWNoZWQgZmllbGQgaW5kZXhl\ncwogICAgICogQHBhcmFtIGFjY2VzcyB3aGV0aGVyIHRvIGFsbG93IGFjY2Vz\ncyB0byB1bmxvYWRlZCBmaWVsZHMKICAgICAqIEBwYXJhbSBtdWx0aXRocmVh\nZGVkIHdoZXRoZXIgdGhlIGluc3RhbmNlIHdpbGwgYmUgdXNlZCBjb25jdXJy\nZW50bHkKICAgICAqIGJ5IG11bHRpcGxlIHRocmVhZHMKICAgICAqLwogICAg\ncHVibGljIERldGFjaGVkU3RhdGVNYW5hZ2VyKFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYywgT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwKICAgICAgICBCaXRTZXQg\nbG9hZCwgYm9vbGVhbiBhY2Nlc3MsIGJvb2xlYW4gbXVsdGl0aHJlYWRlZCkg\newogICAgICAgIF9wYyA9IHBjOwogICAgICAgIF9lbWJlZGRlZCA9IHNtLmlz\nRW1iZWRkZWQoKTsKICAgICAgICBfbG9hZGVkID0gbG9hZDsKICAgICAgICBf\nYWNjZXNzID0gYWNjZXNzOwogICAgICAgIGlmICghc20uaXNGbHVzaGVkKCkp\nCiAgICAgICAgICAgIF9kaXJ0eSA9IChCaXRTZXQpIHNtLmdldERpcnR5KCku\nY2xvbmUoKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIF9kaXJ0eSA9IG5l\ndyBCaXRTZXQoX2xvYWRlZC5sZW5ndGgoKSk7CiAgICAgICAgX29pZCA9IHNt\nLmZldGNoT2JqZWN0SWQoKTsKICAgICAgICBfdmVyc2lvbiA9IHNtLmdldFZl\ncnNpb24oKTsKICAgICAgICBpZiAobXVsdGl0aHJlYWRlZCkKICAgICAgICAg\nICAgX2xvY2sgPSBuZXcgUmVlbnRyYW50TG9jaygpOwogICAgICAgIGVsc2UK\nICAgICAgICAgICAgX2xvY2sgPSBudWxsOwogICAgICAgIGlmIChzbS5nZXRD\nb250ZXh0KCkgIT0gbnVsbCAmJiBzbS5nZXRDb250ZXh0KCkuZ2V0Q29uZmln\ndXJhdGlvbigpICE9IG51bGwpIHsKICAgICAgICAgICAgQ29tcGF0aWJpbGl0\neSBjb21wYXQgPSBzbS5nZXRDb250ZXh0KCkuZ2V0Q29uZmlndXJhdGlvbigp\nLmdldENvbXBhdGliaWxpdHlJbnN0YW5jZSgpOwogICAgICAgICAgICBpZiAo\nY29tcGF0ICE9IG51bGwgJiYgIWNvbXBhdC5nZXRJZ25vcmVEZXRhY2hlZFN0\nYXRlRmllbGRGb3JQcm94eVNlcmlhbGl6YXRpb24oKSkKICAgICAgICAgICAg\nICAgIF91c2VEU0ZGb3JVbnByb3h5ID0gdHJ1ZTsgICAgICAvLyBuZXcgMi4w\nIGJlaGF2aW9yCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIF91\nc2VEU0ZGb3JVbnByb3h5ID0gZmFsc2U7CiAgICAgICAgfSBlbHNlCiAgICAg\nICAgICAgIF91c2VEU0ZGb3JVbnByb3h5ID0gZmFsc2U7CiAgICB9CgogICAg\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBBdHRh\nY2hTdHJhdGVneSBpbXBsZW1lbnRhdGlvbgogICAgLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIE9iamVjdCBhdHRhY2go\nQXR0YWNoTWFuYWdlciBtYW5hZ2VyLCBPYmplY3QgdG9BdHRhY2gsCiAgICAg\nICAgQ2xhc3NNZXRhRGF0YSBtZXRhLCBQZXJzaXN0ZW5jZUNhcGFibGUgaW50\nbywgT3BlbkpQQVN0YXRlTWFuYWdlciBvd25lciwKICAgICAgICBWYWx1ZU1l\ndGFEYXRhIG93bmVyTWV0YSwgYm9vbGVhbiBleHBsaWNpdCkgewogICAgICAg\nIEJyb2tlckltcGwgYnJva2VyID0gbWFuYWdlci5nZXRCcm9rZXIoKTsKICAg\nICAgICBTdGF0ZU1hbmFnZXJJbXBsIHNtOwogICAgICAgIGlmIChfZW1iZWRk\nZWQpIHsKICAgICAgICAgICAgaWYgKF9kaXJ0eS5sZW5ndGggKCkgPiAwKQog\nICAgICAgICAgICAgICAgb3duZXIuZGlydHkob3duZXJNZXRhLmdldEZpZWxk\nTWV0YURhdGEoKS5nZXRJbmRleCgpKTsKICAgICAgICAgICAgc20gPSAoU3Rh\ndGVNYW5hZ2VySW1wbCkgYnJva2VyLmVtYmVkKF9wYywgX29pZCwgb3duZXIs\nIG93bmVyTWV0YSk7CiAgICAgICAgICAgIEltcGxIZWxwZXIudG9QZXJzaXN0\nZW5jZUNhcGFibGUodG9BdHRhY2gsIGJyb2tlci5nZXRDb25maWd1cmF0aW9u\nKCkpCiAgICAgICAgICAgICAgICAucGNSZXBsYWNlU3RhdGVNYW5hZ2VyKHRo\naXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFBDU3RhdGUgc3Rh\ndGUgPSAoX2RpcnR5Lmxlbmd0aCgpID4gMCkgPyBQQ1N0YXRlLlBESVJUWQog\nICAgICAgICAgICAgICAgOiBQQ1N0YXRlLlBDTEVBTjsKICAgICAgICAgICAg\nc20gPSAoU3RhdGVNYW5hZ2VySW1wbCkgYnJva2VyLmNvcHkodGhpcywgc3Rh\ndGUpOwogICAgICAgIH0KICAgICAgICBQZXJzaXN0ZW5jZUNhcGFibGUgcGMg\nPSBzbS5nZXRQZXJzaXN0ZW5jZUNhcGFibGUoKTsKICAgICAgICBtYW5hZ2Vy\nLnNldEF0dGFjaGVkQ29weSh0b0F0dGFjaCwgcGMpOwoKICAgICAgICBtYW5h\nZ2VyLmZpcmVCZWZvcmVBdHRhY2godG9BdHRhY2gsIG1ldGEpOwoKICAgICAg\nICAvLyBwcmUtbG9hZCBmb3IgZWZmaWNpZW5jeTogY3VycmVudCBmaWVsZCB2\nYWx1ZXMgZm9yIHJlc3RvcmUsIGRlcGVuZGVudAogICAgICAgIC8vIGZvciBk\nZWxldGUKICAgICAgICBGaWVsZE1ldGFEYXRhW10gZmllbGRzID0gc20uZ2V0\nTWV0YURhdGEoKS5nZXRGaWVsZHMoKTsgCiAgICAgICAgaW50IHJlc3RvcmUg\nPSBicm9rZXIuZ2V0UmVzdG9yZVN0YXRlKCk7CiAgICAgICAgaWYgKF9kaXJ0\neS5sZW5ndGgoKSA+IDApIHsKICAgICAgICAgICAgQml0U2V0IGxvYWQgPSBu\nZXcgQml0U2V0KGZpZWxkcy5sZW5ndGgpOwogICAgICAgICAgICBmb3IgKGlu\ndCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykgewogICAgICAgICAg\nICAgICAgaWYgKCFfZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAg\nIGNvbnRpbnVlOwoKICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGRzW2ld\nLmdldERlY2xhcmVkVHlwZUNvZGUoKSkgewogICAgICAgICAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLkFSUkFZOgogICAgICAgICAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkNPTExFQ1RJT046CiAgICAgICAgICAgICAgICAgICAg\nICAgIGlmIChyZXN0b3JlID09IFJlc3RvcmVTdGF0ZS5SRVNUT1JFX0FMTAog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZmllbGRzW2ldLmdldEVs\nZW1lbnQoKS5nZXRDYXNjYWRlRGVsZXRlKCkKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgID09IFZhbHVlTWV0YURhdGEuQ0FTQ0FERV9BVVRPKQogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgbG9hZC5zZXQoaSk7CiAgICAgICAg\nICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLk1BUDoKICAgICAgICAgICAgICAgICAgICAgICAgaWYg\nKHJlc3RvcmUgPT0gUmVzdG9yZVN0YXRlLlJFU1RPUkVfQUxMCiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICB8fCBmaWVsZHNbaV0uZ2V0RWxlbWVudCgp\nLmdldENhc2NhZGVEZWxldGUoKQogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgPT0gVmFsdWVNZXRhRGF0YS5DQVNDQURFX0FVVE8KICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIHx8IGZpZWxkc1tpXS5nZXRLZXkoKS5nZXRDYXNj\nYWRlRGVsZXRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgID09IFZh\nbHVlTWV0YURhdGEuQ0FTQ0FERV9BVVRPKQogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgbG9hZC5zZXQoaSk7CiAgICAgICAgICAgICAgICAgICAgICAg\nIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAg\nICAgICAgICAgICAgICAgIGlmIChyZXN0b3JlICE9IFJlc3RvcmVTdGF0ZS5S\nRVNUT1JFX05PTkUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGZp\nZWxkc1tpXS5nZXRDYXNjYWRlRGVsZXRlKCkKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgID09IFZhbHVlTWV0YURhdGEuQ0FTQ0FERV9BVVRPKQogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgbG9hZC5zZXQoaSk7CiAgICAgICAg\nICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRmV0Y2hDb25m\naWd1cmF0aW9uIGZjID0gYnJva2VyLmdldEZldGNoQ29uZmlndXJhdGlvbigp\nOwogICAgICAgICAgICBzbS5sb2FkRmllbGRzKGxvYWQsIGZjLCBmYy5nZXRX\ncml0ZUxvY2tMZXZlbCgpLCBudWxsKTsKICAgICAgICB9ICAgICAgICAKICAg\nICAgICBPYmplY3Qgb3JpZ1ZlcnNpb24gPSBzbS5nZXRWZXJzaW9uKCk7CiAg\nICAgICAgc20uc2V0VmVyc2lvbihfdmVyc2lvbik7CgogICAgICAgIEJpdFNl\ndCBsb2FkZWQgPSBzbS5nZXRMb2FkZWQoKTsKICAgICAgICBpbnQgc2V0ID0g\nU3RhdGVNYW5hZ2VyLlNFVF9BVFRBQ0g7CiAgICAgICAgZm9yIChpbnQgaSA9\nIDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYg\nKCFfbG9hZGVkLmdldChpKSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwog\nICAgICAgICAgICAvLyBkb24ndCByZWxvYWQgYWxyZWFkeSBsb2FkZWQgbm9u\nLW11dGFibGUgb2JqZWN0cwogICAgICAgICAgICBpZiAoIV9kaXJ0eS5nZXQo\naSkgJiYgbG9hZGVkLmdldChpKSAmJiBpZ25vcmVMb2FkZWQoZmllbGRzW2ld\nKSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgcHJv\ndmlkZUZpZWxkKGkpOwogICAgICAgICAgICBzd2l0Y2ggKGZpZWxkc1tpXS5n\nZXREZWNsYXJlZFR5cGVDb2RlKCkpIHsKICAgICAgICAgICAgICAgIGNhc2Ug\nSmF2YVR5cGVzLkJPT0xFQU46CiAgICAgICAgICAgICAgICAgICAgaWYgKF9k\naXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRp\nbmdCb29sZWFuRmllbGQocGMsIGksCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAobG9hZGVkLmdldChpKSkgJiYgc20uZmV0Y2hCb29sZWFuRmllbGQo\naSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25ndmFsID09IDEs\nIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAg\nICAgICAgICAgICBzbS5zdG9yZUJvb2xlYW5GaWVsZChpLCBsb25ndmFsID09\nIDEpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuQllURToKICAgICAgICAgICAgICAgICAgICBp\nZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAgICAgICAgICAgICAgICAgc20u\nc2V0dGluZ0J5dGVGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0KGkpKSA/IChi\neXRlKSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNtLmZldGNo\nQnl0ZUZpZWxkKGkpLCAoYnl0ZSkgbG9uZ3ZhbCwgc2V0KTsKICAgICAgICAg\nICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0\nb3JlQnl0ZUZpZWxkKGksIChieXRlKSBsb25ndmFsKTsKICAgICAgICAgICAg\nICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLkNIQVI6CiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkp\nCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRpbmdDaGFyRmllbGQo\ncGMsIGksICghbG9hZGVkLmdldChpKSkgPyAoY2hhcikgMAogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaENoYXJGaWVsZChpKSwgKGNo\nYXIpIGxvbmd2YWwsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQog\nICAgICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZUNoYXJGaWVsZChpLCAo\nY2hhcikgbG9uZ3ZhbCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAg\nICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5JTlQ6CiAgICAgICAgICAg\nICAgICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAg\nICAgICAgIHNtLnNldHRpbmdJbnRGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0\nKGkpKSA/IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc20uZmV0\nY2hJbnRGaWVsZChpKSwgKGludCkgbG9uZ3ZhbCwgc2V0KTsKICAgICAgICAg\nICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0\nb3JlSW50RmllbGQoaSwgKGludCkgbG9uZ3ZhbCk7CiAgICAgICAgICAgICAg\nICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5M\nT05HOgogICAgICAgICAgICAgICAgICAgIGlmIChfZGlydHkuZ2V0KGkpKQog\nICAgICAgICAgICAgICAgICAgICAgICBzbS5zZXR0aW5nTG9uZ0ZpZWxkKHBj\nLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gMEwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIDogc20uZmV0Y2hMb25nRmllbGQoaSksIGxvbmd2YWwsIHNl\ndCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAg\nICAgICAgICBzbS5zdG9yZUxvbmdGaWVsZChpLCBsb25ndmFsKTsKICAgICAg\nICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLlNIT1JUOgogICAgICAgICAgICAgICAgICAgIGlmIChfZGlydHku\nZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zZXR0aW5nU2hv\ncnRGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0KGkpKSA/IChzaG9ydCkgMAog\nICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaFNob3J0Rmll\nbGQoaSksIChzaG9ydCkgbG9uZ3ZhbCwgc2V0KTsKICAgICAgICAgICAgICAg\nICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0b3JlU2hv\ncnRGaWVsZChpLCAoc2hvcnQpIGxvbmd2YWwpOwogICAgICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRkxP\nQVQ6CiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAg\nICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRpbmdGbG9hdEZpZWxkKHBj\nLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gMEYKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIDogc20uZmV0Y2hGbG9hdEZpZWxkKGkpLCAoZmxvYXQpIGRi\nbHZhbCwgc2V0KTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAg\nICAgICAgICAgICAgICAgIHNtLnN0b3JlRmxvYXRGaWVsZChpLCAoZmxvYXQp\nIGRibHZhbCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5ET1VCTEU6CiAgICAgICAgICAgICAg\nICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAg\nICAgIHNtLnNldHRpbmdEb3VibGVGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0\nKGkpKSA/IDBECiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNtLmZl\ndGNoRG91YmxlRmllbGQoaSksIGRibHZhbCwgc2V0KTsKICAgICAgICAgICAg\nICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0b3Jl\nRG91YmxlRmllbGQoaSwgZGJsdmFsKTsKICAgICAgICAgICAgICAgICAgICBi\ncmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNUUklORzoK\nICAgICAgICAgICAgICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAg\nICAgICAgICAgICAgICAgICAgc20uc2V0dGluZ1N0cmluZ0ZpZWxkKHBjLCBp\nLCAoIWxvYWRlZC5nZXQoaSkpID8gbnVsbAogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgOiBzbS5mZXRjaFN0cmluZ0ZpZWxkKGkpLCAoU3RyaW5nKSBv\nYmp2YWwsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAg\nICAgICAgICAgICAgICAgICBzbS5zdG9yZVN0cmluZ0ZpZWxkKGksIChTdHJp\nbmcpIG9ianZhbCk7CiAgICAgICAgICAgICAgICAgICAgb2JqdmFsID0gbnVs\nbDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLlBDOgogICAgICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuUENfVU5UWVBFRDoKICAgICAgICAgICAgICAgICAgICBpZiAoZmll\nbGRzW2ldLmdldENhc2NhZGVBdHRhY2goKSA9PSBWYWx1ZU1ldGFEYXRhCiAg\nICAgICAgICAgICAgICAgICAgICAgIC5DQVNDQURFX05PTkUpCiAgICAgICAg\nICAgICAgICAgICAgICAgIG9ianZhbCA9IGdldFJlZmVyZW5jZShtYW5hZ2Vy\nLCBvYmp2YWwsIHNtLCBmaWVsZHNbaV0pOwogICAgICAgICAgICAgICAgICAg\nIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBQZXJzaXN0ZW5jZUNh\ncGFibGUgdG9QQyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIGlm\nIChvYmp2YWwgIT0gbnVsbCAmJiBmaWVsZHNbaV0uaXNFbWJlZGRlZFBDKCkp\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1BDID0gSW1wbEhlbHBl\nci50b1BlcnNpc3RlbmNlQ2FwYWJsZShvYmp2YWwsCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgYnJva2VyLmdldENvbmZpZ3VyYXRpb24oKSk7\nCiAgICAgICAgICAgICAgICAgICAgICAgIG9ianZhbCA9IG1hbmFnZXIuYXR0\nYWNoKG9ianZhbCwgdG9QQywgc20sIGZpZWxkc1tpXSwKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAg\nICAgICAgICAgICAgICAgICAgIHNtLnNldHRpbmdPYmplY3RGaWVsZChwYywg\naSwgKCFsb2FkZWQuZ2V0KGkpKSA/IG51bGwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIDogc20uZmV0Y2hPYmplY3RGaWVsZChpKSwgb2JqdmFsLCBz\nZXQpOwogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAg\nICAgICAgICAgc20uc3RvcmVPYmplY3RGaWVsZChpLCBvYmp2YWwpOwogICAg\nICAgICAgICAgICAgICAgIG9ianZhbCA9IG51bGw7CiAgICAgICAgICAgICAg\nICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5D\nT0xMRUNUSU9OOgogICAgICAgICAgICAgICAgICAgIENvbGxlY3Rpb24gY29s\nbCA9IChDb2xsZWN0aW9uKSBvYmp2YWw7CiAgICAgICAgICAgICAgICAgICAg\nb2JqdmFsID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBpZiAoY29sbCAh\nPSBudWxsKQogICAgICAgICAgICAgICAgICAgICAgICBjb2xsID0gYXR0YWNo\nQ29sbGVjdGlvbihtYW5hZ2VyLCBjb2xsLCBzbSwgZmllbGRzW2ldKTsKICAg\nICAgICAgICAgICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAg\nICAgICAgICAgICAgICAgc20uc2V0dGluZ09iamVjdEZpZWxkKHBjLCBpLCAo\nIWxvYWRlZC5nZXQoaSkpID8gbnVsbAogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgOiBzbS5mZXRjaE9iamVjdEZpZWxkKGkpLCBjb2xsLCBzZXQpOwog\nICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAg\nICAgc20uc3RvcmVPYmplY3RGaWVsZChpLCBjb2xsKTsKICAgICAgICAgICAg\nICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLk1BUDoKICAgICAgICAgICAgICAgICAgICBNYXAgbWFwID0gKE1hcCkgb2Jq\ndmFsOwogICAgICAgICAgICAgICAgICAgIG9ianZhbCA9IG51bGw7CiAgICAg\nICAgICAgICAgICAgICAgaWYgKG1hcCAhPSBudWxsKQogICAgICAgICAgICAg\nICAgICAgICAgICBtYXAgPSBhdHRhY2hNYXAobWFuYWdlciwgbWFwLCBzbSwg\nZmllbGRzW2ldKTsKICAgICAgICAgICAgICAgICAgICBpZiAoX2RpcnR5Lmdl\ndChpKSkKICAgICAgICAgICAgICAgICAgICAgICAgc20uc2V0dGluZ09iamVj\ndEZpZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gbnVsbAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaE9iamVjdEZpZWxkKGkp\nLCBtYXAsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAg\nICAgICAgICAgICAgICAgICBzbS5zdG9yZU9iamVjdEZpZWxkKGksIG1hcCk7\nCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBk\nZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGlmIChfZGlydHkuZ2V0KGkp\nKQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zZXR0aW5nT2JqZWN0Rmll\nbGQocGMsIGksICghbG9hZGVkLmdldChpKSkgPyBudWxsCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICA6IHNtLmZldGNoT2JqZWN0RmllbGQoaSksIG9i\nanZhbCwgc2V0KTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAg\nICAgICAgICAgICAgICAgIHNtLnN0b3JlT2JqZWN0RmllbGQoaSwgb2JqdmFs\nKTsKICAgICAgICAgICAgICAgICAgICBvYmp2YWwgPSBudWxsOwogICAgICAg\nICAgICB9CiAgICAgICAgfQogICAgICAgIHBjLnBjUmVwbGFjZVN0YXRlTWFu\nYWdlcihzbSk7CgogICAgICAgIC8vIGlmIHdlIHdlcmUgY2xlYW4gYXQgbGVh\nc3QgbWFrZSBzdXJlIGEgdmVyc2lvbiBjaGVjayBpcyBkb25lIHRvCiAgICAg\nICAgLy8gcHJldmVudCB1c2luZyBvbGQgc3RhdGUKICAgICAgICBpZiAoIXNt\nLmlzVmVyc2lvbkNoZWNrUmVxdWlyZWQoKSAmJiBicm9rZXIuaXNBY3RpdmUo\nKQogICAgICAgICAgICAmJiBfdmVyc2lvbiAhPSBvcmlnVmVyc2lvbiAmJiAo\nb3JpZ1ZlcnNpb24gPT0gbnVsbCAKICAgICAgICAgICAgfHwgYnJva2VyLmdl\ndFN0b3JlTWFuYWdlcigpLmNvbXBhcmVWZXJzaW9uKHNtLCBfdmVyc2lvbiwg\nCiAgICAgICAgICAgIG9yaWdWZXJzaW9uKSAhPSBTdG9yZU1hbmFnZXIuVkVS\nU0lPTl9TQU1FKSkgewogICAgICAgICAgICBicm9rZXIudHJhbnNhY3Rpb25h\nbChzbS5nZXRNYW5hZ2VkSW5zdGFuY2UoKSwgZmFsc2UsIAogICAgICAgICAg\nICAgICAgbWFuYWdlci5nZXRCZWhhdmlvcigpKTsKICAgICAgICB9CgogICAg\nICAgIHJldHVybiBzbS5nZXRNYW5hZ2VkSW5zdGFuY2UoKTsKICAgIH0KCiAg\nICBwcm90ZWN0ZWQgT2JqZWN0IGdldERldGFjaGVkT2JqZWN0SWQoQXR0YWNo\nTWFuYWdlciBtYW5hZ2VyLAogICAgICAgIE9iamVjdCB0b0F0dGFjaCkgewog\nICAgICAgIHJldHVybiBfb2lkOwogICAgfQoKICAgIHZvaWQgcHJvdmlkZUZp\nZWxkKGludCBmaWVsZCkgewogICAgICAgIF9wYy5wY1Byb3ZpZGVGaWVsZChm\naWVsZCk7CiAgICB9CgogICAgcHJvdGVjdGVkIHZvaWQgcHJvdmlkZUZpZWxk\nKE9iamVjdCB0b0F0dGFjaCwgU3RhdGVNYW5hZ2VySW1wbCBzbSwKICAgICAg\nICBpbnQgZmllbGQpIHsKICAgICAgICBwcm92aWRlRmllbGQoZmllbGQpOwog\nICAgfQoKICAgIC8qKgogICAgICogSWdub3JlIGlmIHRoZSBmaWVsZCBpcyBu\nb3QgZGlydHkgYnV0IGxvYWRlZAogICAgICovCiAgICBwcm90ZWN0ZWQgc3Rh\ndGljIGJvb2xlYW4gaWdub3JlTG9hZGVkKEZpZWxkTWV0YURhdGEgZm1kKSB7\nCiAgICAgICAgc3dpdGNoIChmbWQuZ2V0VHlwZUNvZGUoKSkgewogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFOOgogICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5CT09MRUFOX09CSjoKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuQllURToKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQllURV9P\nQko6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklOVDoKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuSU5UX09CSjoKICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuTE9ORzoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTE9O\nR19PQko6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5TSE9SVF9PQko6CiAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLkRPVUJMRToKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuRE9VQkxFX09CSjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMu\nRkxPQVQ6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkZMT0FUX09CSjoK\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQ0hBUjoKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuQ0hBUl9PQko6CiAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLlNUUklORzoKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwog\nICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gU3RhdGVNYW5h\nZ2VyIGltcGxlbWVudGF0aW9uCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vCgogICAgcHVibGljIE9iamVjdCBnZXRHZW5lcmljQ29udGV4\ndCgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMg\nT2JqZWN0IGdldFBDUHJpbWFyeUtleShPYmplY3Qgb2lkLCBpbnQgZmllbGQp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgU3RhdGVNYW5hZ2VyIHJlcGxh\nY2VTdGF0ZU1hbmFnZXIoU3RhdGVNYW5hZ2VyIHNtKSB7CiAgICAgICAgcmV0\ndXJuIHNtOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0VmVyc2lvbigp\nIHsKICAgICAgICByZXR1cm4gX3ZlcnNpb247CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0VmVyc2lvbihPYmplY3QgdmVyc2lvbikgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZEV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGlzRGlydHkoKSB7CiAgICAgICAgcmV0dXJuIF9kaXJ0\neS5sZW5ndGgoKSAhPSAwOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlz\nVHJhbnNhY3Rpb25hbCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gaXNQZXJzaXN0ZW50KCkgewogICAgICAg\nIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc05l\ndygpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGlj\nIGJvb2xlYW4gaXNEZWxldGVkKCkgewogICAgICAgIHJldHVybiBmYWxzZTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0RldGFjaGVkKCkgewogICAg\nICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlz\nVmVyc2lvblVwZGF0ZVJlcXVpcmVkKCkgewogICAgICAgIHJldHVybiBmYWxz\nZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1ZlcnNpb25DaGVja1Jl\ncXVpcmVkKCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBkaXJ0eShTdHJpbmcgZmllbGQpIHsKICAgICAgICAvLyBz\naG91bGQgd2Ugc3RvcmUgQ2xhc3NNZXRhRGF0YT8KICAgICAgICB0aHJvdyBu\nZXcgVW5zdXBwb3J0ZWRFeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nT2JqZWN0IGZldGNoT2JqZWN0SWQoKSB7CiAgICAgICAgcmV0dXJuIF9vaWQ7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgYWNjZXNzaW5nRmllbGQoaW50IGlk\neCkgewogICAgICAgIGlmICghX2FjY2VzcyAmJiAhX2xvYWRlZC5nZXQoaWR4\nKSkKICAgICAgICAgICAgLy8gZG8gbm90IGFjY2VzcyB0aGUgcGMgZmllbGRz\nIGJ5IGltcGxpY3RseSBpbnZva2luZyBfcGMudG9TdHJpbmcoKQogICAgICAg\nICAgICAvLyBtYXkgY2F1c2UgaW5maW5pdGUgbG9vcCBpZiBhZ2FpbiB0cmll\ncyB0byBhY2Nlc3MgdW5sb2FkZWQgZmllbGQgCiAgICAgICAgICAgIHRocm93\nIG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oX2xvYy5nZXQoInVubG9hZGVk\nLWRldGFjaGVkIiwKICAgICAgICAgICAgICAgRXhjZXB0aW9ucy50b1N0cmlu\nZyhfcGMpKS5nZXRNZXNzYWdlKCkpOwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIHNlcmlhbGl6aW5nKCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAg\nIH0KCiAgICBwdWJsaWMgYm9vbGVhbiB3cml0ZURldGFjaGVkKE9iamVjdE91\ndHB1dCBvdXQpCiAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAg\nICBvdXQud3JpdGVPYmplY3QoX3BjLnBjR2V0RGV0YWNoZWRTdGF0ZSgpKTsK\nICAgICAgICBvdXQud3JpdGVPYmplY3QodGhpcyk7CiAgICAgICAgcmV0dXJu\nIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3h5RGV0YWNoZWRE\nZXNlcmlhbGl6ZWQoaW50IGlkeCkgewogICAgICAgIGxvY2soKTsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBfcGMucGNQcm92aWRlRmllbGQoaWR4KTsK\nICAgICAgICAgICAgaWYgKG9ianZhbCBpbnN0YW5jZW9mIFByb3h5KQogICAg\nICAgICAgICAgICAgKChQcm94eSkgb2JqdmFsKS5zZXRPd25lcih0aGlzLCBp\nZHgpOwogICAgICAgICAgICBvYmp2YWwgPSBudWxsOwogICAgICAgIH0gZmlu\nYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nQm9vbGVhbkZpZWxkKFBlcnNpc3Rl\nbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAgICBib29sZWFuIGN1ciwg\nYm9vbGVhbiBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgYWNjZXNzaW5nRmll\nbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09IG5leHQgfHwgIV9sb2FkZWQu\nZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBsb2NrKCk7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5LnNldChpZHgpOwog\nICAgICAgICAgICBsb25ndmFsID0gbmV4dCA/IDEgOiAwOwogICAgICAgICAg\nICBwYy5wY1JlcGxhY2VGaWVsZChpZHgpOwogICAgICAgIH0gZmluYWxseSB7\nCiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXR0aW5nQ2hhckZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYywgaW50IGlkeCwgY2hhciBjdXIsCiAgICAgICAgY2hhciBuZXh0LCBp\nbnQgc2V0KSB7CiAgICAgICAgYWNjZXNzaW5nRmllbGQoaWR4KTsKICAgICAg\nICBpZiAoY3VyID09IG5leHQgfHwgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAg\nICAgICAgIHJldHVybjsKICAgICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgX2RpcnR5LnNldChpZHgpOwogICAgICAgICAgICBsb25n\ndmFsID0gbmV4dDsKICAgICAgICAgICAgcGMucGNSZXBsYWNlRmllbGQoaWR4\nKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2soKTsK\nICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGluZ0J5dGVG\naWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGJ5dGUgY3Vy\nLAogICAgICAgIGJ5dGUgbmV4dCwgaW50IHNldCkgewogICAgICAgIGFjY2Vz\nc2luZ0ZpZWxkKGlkeCk7CiAgICAgICAgaWYgKGN1ciA9PSBuZXh0IHx8ICFf\nbG9hZGVkLmdldChpZHgpKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAg\nbG9jaygpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9kaXJ0eS5zZXQo\naWR4KTsKICAgICAgICAgICAgbG9uZ3ZhbCA9IG5leHQ7CiAgICAgICAgICAg\nIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5IHsK\nICAgICAgICAgICAgdW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldHRpbmdTaG9ydEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYywgaW50IGlkeCwgc2hvcnQgY3VyLAogICAgICAgIHNob3J0IG5leHQs\nIGludCBzZXQpIHsKICAgICAgICBhY2Nlc3NpbmdGaWVsZChpZHgpOwogICAg\nICAgIGlmIChjdXIgPT0gbmV4dCB8fCAhX2xvYWRlZC5nZXQoaWR4KSkKICAg\nICAgICAgICAgcmV0dXJuOwogICAgICAgIGxvY2soKTsKICAgICAgICB0cnkg\newogICAgICAgICAgICBfZGlydHkuc2V0KGlkeCk7CiAgICAgICAgICAgIGxv\nbmd2YWwgPSBuZXh0OwogICAgICAgICAgICBwYy5wY1JlcGxhY2VGaWVsZChp\nZHgpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVubG9jaygp\nOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nSW50\nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBpbnQgY3Vy\nLAogICAgICAgIGludCBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgYWNjZXNz\naW5nRmllbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09IG5leHQgfHwgIV9s\nb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBs\nb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5LnNldChp\nZHgpOwogICAgICAgICAgICBsb25ndmFsID0gbmV4dDsKICAgICAgICAgICAg\ncGMucGNSZXBsYWNlRmllbGQoaWR4KTsKICAgICAgICB9IGZpbmFsbHkgewog\nICAgICAgICAgICB1bmxvY2soKTsKICAgICAgICB9CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0dGluZ0xvbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUg\ncGMsIGludCBpZHgsIGxvbmcgY3VyLAogICAgICAgIGxvbmcgbmV4dCwgaW50\nIHNldCkgewogICAgICAgIGFjY2Vzc2luZ0ZpZWxkKGlkeCk7CiAgICAgICAg\naWYgKGN1ciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdldChpZHgpKQogICAgICAg\nICAgICByZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAgICAgbG9uZ3Zh\nbCA9IG5leHQ7CiAgICAgICAgICAgIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7\nCiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdW5sb2NrKCk7CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdGbG9hdEZp\nZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgZmxvYXQgY3Vy\nLAogICAgICAgIGZsb2F0IG5leHQsIGludCBzZXQpIHsKICAgICAgICBhY2Nl\nc3NpbmdGaWVsZChpZHgpOwogICAgICAgIGlmIChjdXIgPT0gbmV4dCB8fCAh\nX2xvYWRlZC5nZXQoaWR4KSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAg\nIGxvY2soKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZGlydHkuc2V0\nKGlkeCk7CiAgICAgICAgICAgIGRibHZhbCA9IG5leHQ7CiAgICAgICAgICAg\nIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5IHsK\nICAgICAgICAgICAgdW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldHRpbmdEb3VibGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgsIGRvdWJsZSBjdXIsCiAgICAgICAgZG91YmxlIG5l\neHQsIGludCBzZXQpIHsKICAgICAgICBhY2Nlc3NpbmdGaWVsZChpZHgpOwog\nICAgICAgIGlmIChjdXIgPT0gbmV4dCB8fCAhX2xvYWRlZC5nZXQoaWR4KSkK\nICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGxvY2soKTsKICAgICAgICB0\ncnkgewogICAgICAgICAgICBfZGlydHkuc2V0KGlkeCk7CiAgICAgICAgICAg\nIGRibHZhbCA9IG5leHQ7CiAgICAgICAgICAgIHBjLnBjUmVwbGFjZUZpZWxk\nKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdW5sb2Nr\nKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdT\ndHJpbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIFN0\ncmluZyBjdXIsCiAgICAgICAgU3RyaW5nIG5leHQsIGludCBzZXQpIHsKICAg\nICAgICBhY2Nlc3NpbmdGaWVsZChpZHgpOwogICAgICAgIGlmIChjdXIgPT0g\nbmV4dCB8fCAoY3VyICE9IG51bGwgJiYgY3VyLmVxdWFscyhuZXh0KSkKICAg\nICAgICAgICAgICAgIHx8ICFfbG9hZGVkLmdldChpZHgpKQogICAgICAgICAg\nICByZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAgICAgb2JqdmFsID0g\nbmV4dDsKICAgICAgICAgICAgcGMucGNSZXBsYWNlRmllbGQoaWR4KTsKICAg\nICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2soKTsKICAgICAg\nICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAgICB9CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0dGluZ09iamVjdEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYywgaW50IGlkeCwgT2JqZWN0IGN1ciwKICAgICAgICBPYmplY3QgbmV4\ndCwgaW50IHNldCkgewogICAgICAgIGFjY2Vzc2luZ0ZpZWxkKGlkeCk7CiAg\nICAgICAgaWYgKGN1ciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdldChpZHgpKQog\nICAgICAgICAgICByZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAgICAg\nb2JqdmFsID0gbmV4dDsKICAgICAgICAgICAgcGMucGNSZXBsYWNlRmllbGQo\naWR4KTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2so\nKTsKICAgICAgICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAgICB9CiAgICB9\nCgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRCb29sZWFuRmllbGQoUGVyc2lz\ndGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIGJvb2xlYW4gY3Vy\nKSB7CiAgICAgICAgbG9uZ3ZhbCA9IGN1ciA/IDEgOiAwOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHByb3ZpZGVkQ2hhckZpZWxkKFBlcnNpc3RlbmNlQ2Fw\nYWJsZSBwYywgaW50IGlkeCwgY2hhciBjdXIpIHsKICAgICAgICBsb25ndmFs\nID0gY3VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkQnl0ZUZp\nZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgYnl0ZSBjdXIp\nIHsKICAgICAgICBsb25ndmFsID0gY3VyOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHByb3ZpZGVkU2hvcnRGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMs\nIGludCBpZHgsIHNob3J0IGN1cikgewogICAgICAgIGxvbmd2YWwgPSBjdXI7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRJbnRGaWVsZChQZXJz\naXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGludCBjdXIpIHsKICAgICAg\nICBsb25ndmFsID0gY3VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3Zp\nZGVkTG9uZ0ZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwg\nbG9uZyBjdXIpIHsKICAgICAgICBsb25ndmFsID0gY3VyOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHByb3ZpZGVkRmxvYXRGaWVsZChQZXJzaXN0ZW5jZUNh\ncGFibGUgcGMsIGludCBpZHgsIGZsb2F0IGN1cikgewogICAgICAgIGRibHZh\nbCA9IGN1cjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZERvdWJs\nZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAg\nICBkb3VibGUgY3VyKSB7CiAgICAgICAgZGJsdmFsID0gY3VyOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkU3RyaW5nRmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIFN0cmluZyBjdXIpIHsK\nICAgICAgICBvYmp2YWwgPSBjdXI7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ncHJvdmlkZWRPYmplY3RGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGlu\ndCBpZHgsCiAgICAgICAgT2JqZWN0IGN1cikgewogICAgICAgIG9ianZhbCA9\nIGN1cjsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiByZXBsYWNlQm9vbGVh\nbkZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAg\nICAgIHJldHVybiBsb25ndmFsID09IDE7CiAgICB9CgogICAgcHVibGljIGNo\nYXIgcmVwbGFjZUNoYXJGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGlu\ndCBpZHgpIHsKICAgICAgICByZXR1cm4gKGNoYXIpIGxvbmd2YWw7CiAgICB9\nCgogICAgcHVibGljIGJ5dGUgcmVwbGFjZUJ5dGVGaWVsZChQZXJzaXN0ZW5j\nZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4gKGJ5dGUp\nIGxvbmd2YWw7CiAgICB9CgogICAgcHVibGljIHNob3J0IHJlcGxhY2VTaG9y\ndEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAg\nICAgIHJldHVybiAoc2hvcnQpIGxvbmd2YWw7CiAgICB9CgogICAgcHVibGlj\nIGludCByZXBsYWNlSW50RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBp\nbnQgaWR4KSB7CiAgICAgICAgcmV0dXJuIChpbnQpIGxvbmd2YWw7CiAgICB9\nCgogICAgcHVibGljIGxvbmcgcmVwbGFjZUxvbmdGaWVsZChQZXJzaXN0ZW5j\nZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4gbG9uZ3Zh\nbDsKICAgIH0KCiAgICBwdWJsaWMgZmxvYXQgcmVwbGFjZUZsb2F0RmllbGQo\nUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgcmV0\ndXJuIChmbG9hdCkgZGJsdmFsOwogICAgfQoKICAgIHB1YmxpYyBkb3VibGUg\ncmVwbGFjZURvdWJsZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50\nIGlkeCkgewogICAgICAgIHJldHVybiBkYmx2YWw7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyByZXBsYWNlU3RyaW5nRmllbGQoUGVyc2lzdGVuY2VDYXBh\nYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgU3RyaW5nIHN0ciA9IChTdHJp\nbmcpIG9ianZhbDsKICAgICAgICBvYmp2YWwgPSBudWxsOwogICAgICAgIHJl\ndHVybiBzdHI7CiAgICB9CgogICAgcHVibGljIE9iamVjdCByZXBsYWNlT2Jq\nZWN0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAg\nICAgICAgT2JqZWN0IHJldCA9IG9ianZhbDsKICAgICAgICBvYmp2YWwgPSBu\ndWxsOwogICAgICAgIHJldHVybiByZXQ7CiAgICB9CgogICAgLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIE9wZW5KUEFT\ndGF0ZU1hbmFnZXIgaW1wbGVtZW50YXRpb24KICAgIC8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIHZvaWQgaW5p\ndGlhbGl6ZShDbGFzcyBmb3JUeXBlLCBQQ1N0YXRlIHN0YXRlKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgbG9hZChGZXRjaENvbmZpZ3VyYXRp\nb24gZmV0Y2gpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdl\ndE1hbmFnZWRJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gX3BjOwogICAg\nfQoKICAgIHB1YmxpYyBQZXJzaXN0ZW5jZUNhcGFibGUgZ2V0UGVyc2lzdGVu\nY2VDYXBhYmxlKCkgewogICAgICAgIHJldHVybiBfcGM7CiAgICB9CgogICAg\ncHVibGljIENsYXNzTWV0YURhdGEgZ2V0TWV0YURhdGEoKSB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIE9wZW5KUEFTdGF0ZU1hbmFnZXIgZ2V0T3duZXIo\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRPd25lckluZGV4\nKCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRW1iZWRk\nZWQoKSB7CiAgICAgICAgcmV0dXJuIF9lbWJlZGRlZDsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBpc0ZsdXNoZWQoKSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gaXNGbHVzaGVkRGlydHkoKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gaXNQcm92aXNpb25hbCgpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgQml0U2V0IGdldExvYWRlZCgpIHsKICAgICAg\nICByZXR1cm4gX2xvYWRlZDsKICAgIH0KCiAgICBwdWJsaWMgQml0U2V0IGdl\ndERpcnR5KCkgewogICAgICAgIHJldHVybiBfZGlydHk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTaG91bGQgRGV0YWNoZWRTdGF0ZUZpZWxkIGJlIHVzZWQg\nYnkgUHJveGllcyB0byBkZXRlcm1pbmUgd2hlbiB0byByZW1vdmUKICAgICAq\nICRwcm94eSB3cmFwcGVycyBkdXJpbmcgc2VyaWFsaXphdGlvbi4KICAgICAq\nIEBzaW5jZSAyLjAuMAogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRV\nc2VEU0ZGb3JVbnByb3h5KCkgewogICAgICAgIHJldHVybiBfdXNlRFNGRm9y\nVW5wcm94eTsKICAgIH0KCiAgICBwdWJsaWMgQml0U2V0IGdldEZsdXNoZWQo\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIEJpdFNldCBnZXRVbmxvYWRl\nZChGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpIHsKICAgICAgICB0aHJvdyBu\nZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAg\nICBwdWJsaWMgT2JqZWN0IG5ld1Byb3h5KGludCBmaWVsZCkgewogICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyBPYmplY3QgbmV3RmllbGRQcm94eShpbnQgZmll\nbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0RlZmF1\nbHRWYWx1ZShpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nU3RvcmVDb250ZXh0IGdldENvbnRleHQoKSB7CiAgICAgICAgcmV0dXJuIG51\nbGw7CiAgICB9CgogICAgcHVibGljIFBDU3RhdGUgZ2V0UENTdGF0ZSgpIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldE9iamVjdElkKCkg\newogICAgICAgIHJldHVybiBfb2lkOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldE9iamVjdElkKE9iamVjdCBvaWQpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBhc3NpZ25PYmplY3RJZChib29sZWFuIGZsdXNoKSB7\nCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcHVibGljIE9iamVj\ndCBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gZ2V0T2JqZWN0SWQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldExvY2soKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0TG9jayhPYmplY3QgbG9jaykgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE5leHRWZXJzaW9uKE9iamVj\ndCB2ZXJzaW9uKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBn\nZXRJbXBsRGF0YSgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0\nIHNldEltcGxEYXRhKE9iamVjdCBkYXRhLCBib29sZWFuIGNhY2hlYWJsZSkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzSW1wbERhdGFD\nYWNoZWFibGUoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAg\nIHB1YmxpYyBPYmplY3QgZ2V0SW1wbERhdGEoaW50IGZpZWxkKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIE9iamVjdCBzZXRJbXBsRGF0YShpbnQgZmll\nbGQsIE9iamVjdCBkYXRhKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gaXNJbXBsRGF0YUNhY2hlYWJsZShpbnQgZmllbGQpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldEludGVybWVkaWF0ZShpbnQg\nZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJbnRl\ncm1lZGlhdGUoaW50IGZpZWxkLCBPYmplY3QgZGF0YSkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHJlbW92ZWQoaW50IGZpZWxkLCBPYmplY3Qg\ncmVtb3ZlZCwgYm9vbGVhbiBrZXkpIHsKICAgICAgICBkaXJ0eShmaWVsZCk7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gYmVmb3JlUmVmcmVzaChib29s\nZWFuIGFsbCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGRpcnR5\nKGludCBmaWVsZCkgewogICAgICAgIGxvY2soKTsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBfZGlydHkuc2V0KGZpZWxkKTsKICAgICAgICB9IGZpbmFs\nbHkgewogICAgICAgICAgICB1bmxvY2soKTsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVCb29sZWFuKGludCBmaWVsZCwgYm9vbGVh\nbiBleHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9y\nZUJ5dGUoaW50IGZpZWxkLCBieXRlIGV4dFZhbCkgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHN0b3JlQ2hhcihpbnQgZmllbGQsIGNoYXIgZXh0\nVmFsKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVJbnQo\naW50IGZpZWxkLCBpbnQgZXh0VmFsKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc3RvcmVTaG9ydChpbnQgZmllbGQsIHNob3J0IGV4dFZhbCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlTG9uZyhpbnQg\nZmllbGQsIGxvbmcgZXh0VmFsKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc3RvcmVGbG9hdChpbnQgZmllbGQsIGZsb2F0IGV4dFZhbCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlRG91YmxlKGludCBm\naWVsZCwgZG91YmxlIGV4dFZhbCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHN0b3JlU3RyaW5nKGludCBmaWVsZCwgU3RyaW5nIGV4dFZhbCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlT2JqZWN0KGlu\ndCBmaWVsZCwgT2JqZWN0IGV4dFZhbCkgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHN0b3JlKGludCBmaWVsZCwgT2JqZWN0IGV4dFZhbCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlRmllbGQoaW50IGZp\nZWxkLCBPYmplY3QgdmFsdWUpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBmZXRjaEJvb2xlYW4oaW50IGZpZWxkKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIGJ5dGUgZmV0Y2hCeXRlKGludCBmaWVsZCkgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIGZldGNoQ2hhcihpbnQgZmllbGQp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgc2hvcnQgZmV0Y2hTaG9ydChp\nbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGZldGNo\nSW50KGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBsb25n\nIGZldGNoTG9uZyhpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgZmxvYXQgZmV0Y2hGbG9hdChpbnQgZmllbGQpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgZG91YmxlIGZldGNoRG91YmxlKGludCBmaWVsZCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZmV0Y2hTdHJpbmcoaW50\nIGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRj\naE9iamVjdChpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nT2JqZWN0IGZldGNoKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3QgZmV0Y2hGaWVsZChpbnQgZmllbGQsIGJvb2xlYW4gdHJh\nbnNpdGlvbnMpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZl\ndGNoSW5pdGlhbEZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldFJlbW90ZShpbnQgZmllbGQsIE9iamVjdCB2YWx1\nZSkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGxvY2soKSB7CiAg\nICAgICAgaWYgKF9sb2NrICE9IG51bGwpCiAgICAgICAgICAgIF9sb2NrLmxv\nY2soKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB1bmxvY2soKSB7CiAgICAg\nICAgaWYgKF9sb2NrICE9IG51bGwpCiAgICAgICAgICAgIF9sb2NrLnVubG9j\naygpOwogICAgfQp9Cg==\n","encoding":"base64"}

