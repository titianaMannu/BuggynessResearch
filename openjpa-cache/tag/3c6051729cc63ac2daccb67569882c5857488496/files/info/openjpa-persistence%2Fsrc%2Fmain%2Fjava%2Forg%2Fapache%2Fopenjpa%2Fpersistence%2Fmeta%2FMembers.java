{"sha":"5f7431e514946e6db4b1f353a4e4a693ddb5c11c","node_id":"MDQ6QmxvYjIwNjM2NDo1Zjc0MzFlNTE0OTQ2ZTZkYjRiMWYzNTNhNGU0YTY5M2RkYjVjMTFj","size":11576,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5f7431e514946e6db4b1f353a4e4a693ddb5c11c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsKCmlt\ncG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5T\nZXQ7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLkF0dHJp\nYnV0ZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5Db2xs\nZWN0aW9uQXR0cmlidXRlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0\nYW1vZGVsLkxpc3RBdHRyaWJ1dGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5tZXRhbW9kZWwuTWFuYWdlZFR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5tZXRhbW9kZWwuTWFwQXR0cmlidXRlOwppbXBvcnQgamF2YXgucGVy\nc2lzdGVuY2UubWV0YW1vZGVsLlBsdXJhbEF0dHJpYnV0ZTsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5TZXRBdHRyaWJ1dGU7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuU2luZ3VsYXJBdHRyaWJ1\ndGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuVHlwZTsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFEYXRh\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwoK\nLyoqCiAqIFBlcnNpc3RlbnQgYXR0cmlidXRlIGFjY29yZGluZyB0byBKUEEg\nMi4wIG1ldGFtb2RlbC4KICogCiAqIEltcGxlbWVudGVkIGFzIGEgdGhpbiBh\nZGFwdGVyIHRvIE9wZW5KUEEgRmllbGRNZXRhZGF0YS4gTW9zdGx5IGltbXV0\nYWJsZS4KICogCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcgogKiAKICogQHNp\nbmNlIDIuMC4wCiAqCiAqLwpwdWJsaWMgY2xhc3MgTWVtYmVycyB7CiAgICAv\nKioKICAgICAqIEFuIGF0dHJpYnV0ZSBvZiBhIEphdmEgdHlwZS4gQSBwZXJz\naXN0ZW50IGF0dHJpYnV0ZSBpcyByZWFsaXplZCBhcyBhIGZpZWxkIGFuZCBn\nZXR0ZXIvc2V0dGVyCiAgICAgKiBtZXRob2Qgb2YgYSBKYXZhIGNsYXNzLiBU\naGlzIGltcGxlbWVudGF0aW9uIGFkYXB0cyBrZXJuZWwncyB7QGxpbmsgRmll\nbGRNZXRhRGF0YX0gY29uc3RydWN0IAogICAgICogdG8gbWVldCB0aGUgSlBB\nIEFQSSBjb250cmFjdC4KCSAqCgkgKgogICAgICogQHBhcmFtIDxYPiBUaGUg\ndHlwZSB0aGF0IGNvbnRhaW5zIHRoaXMgYXR0cmlidXRlCiAgICAgKiBAcGFy\nYW0gPFk+IFRoZSB0eXBlIG9mIHRoaXMgYXR0cmlidXRlCgkgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgYWJzdHJhY3QgY2xhc3MgTWVtYmVyPFgsIFk+IGltcGxl\nbWVudHMgQXR0cmlidXRlPFgsIFk+LCBDb21wYXJhYmxlPE1lbWJlcjxYLFk+\nPiB7CiAgICAgICAgcHVibGljIGZpbmFsIEFic3RyYWN0TWFuYWdlZFR5cGU8\nWD4gb3duZXI7CiAgICAgICAgcHVibGljIGZpbmFsIEZpZWxkTWV0YURhdGEg\nZm1kOwoKICAgICAgICAvKioKICAgICAgICAgKiBTdXBwbHkgaW1tdXRhYmxl\nIHBhcnRzLgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBvd25lciB0\naGUgcGVyc2lzdGVudCB0eXBlIHRoYXQgY29udGFpbnMgdGhpcyBhdHRyaWJ1\ndGUKICAgICAgICAgKiBAcGFyYW0gZm1kIHRoZSBrZXJuZWwncyBjb25jcmV0\nZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGF0dHJpYnV0ZQogICAgICAgICAq\nLwogICAgICAgIHByb3RlY3RlZCBNZW1iZXIoQWJzdHJhY3RNYW5hZ2VkVHlw\nZTxYPiBvd25lciwgRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAgICAgICAg\ndGhpcy5vd25lciA9IG93bmVyOwogICAgICAgICAgICB0aGlzLmZtZCA9IGZt\nZDsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqICBSZXR1cm5z\nIHRoZSBtYW5hZ2VkIHR5cGUgd2hpY2ggZGVjbGFyZWQgdGhpcyBhdHRyaWJ1\ndGUuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIE1hbmFnZWRU\neXBlPFg+IGdldERlY2xhcmluZ1R5cGUoKSB7CiAgICAgICAgICAgIHJldHVy\nbiBvd25lci5tb2RlbC5tYW5hZ2VkVHlwZShmbWQuZ2V0RGVjbGFyaW5nVHlw\nZSgpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoqCiAgICAgICAg\nICogIFJldHVybnMgdGhlIGphdmEubGFuZy5yZWZsZWN0Lk1lbWJlciBmb3Ig\ndGhpcyBhdHRyaWJ1dGUuIAogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBm\naW5hbCBqYXZhLmxhbmcucmVmbGVjdC5NZW1iZXIgZ2V0SmF2YU1lbWJlcigp\nIHsKICAgICAgICAgICAgcmV0dXJuIGZtZC5nZXRCYWNraW5nTWVtYmVyKCk7\nCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAqICBH\nZXRzIHRoZSBKYXZhIHR5cGUgb2YgdGhpcyBhdHRyaWJ1dGUuCiAgICAgICAg\nICovCiAgICAgICAgcHVibGljIGZpbmFsIENsYXNzPFk+IGdldEphdmFUeXBl\nKCkgewogICAgICAgICAgICByZXR1cm4gKENsYXNzPFk+KWZtZC5nZXREZWNs\nYXJlZFR5cGUoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoqCiAg\nICAgICAgICogR2V0cyB0aGUgbmFtZSBvZiB0aGlzIGF0dHJpYnV0ZS4KICAg\nICAgICAgKi8KICAgICAgICBwdWJsaWMgZmluYWwgU3RyaW5nIGdldE5hbWUo\nKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQuZ2V0TmFtZSgpOwogICAgICAg\nIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogUmV0dXJucyB0aGUgdHlwZSB0\naGF0IHJlcHJlc2VudHMgdGhlIHR5cGUgb2YgdGhpcyBhdHRyaWJ1dGUuCiAg\nICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIFR5cGU8WT4gZ2V0VHlw\nZSgpIHsKICAgICAgICAgICAgcmV0dXJuIG93bmVyLm1vZGVsLmdldFR5cGUo\naXNDb2xsZWN0aW9uKCkgPwogICAgICAgICAgICAgICAgICAgZm1kLmdldEVs\nZW1lbnQoKS5nZXREZWNsYXJlZFR5cGUoKSA6IGZtZC5nZXREZWNsYXJlZFR5\ncGUoKSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qKgogICAgICAg\nICAqIEFmZmlybXMgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgYW4gYXNzb2NpYXRp\nb24uCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIGJvb2xlYW4g\naXNBc3NvY2lhdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIGZtZC5pc0Rl\nY2xhcmVkVHlwZVBDKCk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAg\nICAgKiBBZmZpcm1zIGlmIHRoaXMgYXR0cmlidXRlIGlzIGEgY29sbGVjdGlv\nbi4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgZmluYWwgYm9vbGVhbiBp\nc0NvbGxlY3Rpb24oKSB7CiAgICAgICAgICAgIGludCB0eXBlQ29kZSA9IGZt\nZC5nZXREZWNsYXJlZFR5cGVDb2RlKCk7CiAgICAgICAgICAgIHJldHVybiAg\ndHlwZUNvZGUgPT0gSmF2YVR5cGVzLkNPTExFQ1RJT04KICAgICAgICAgICAg\nICAgICB8fCB0eXBlQ29kZSA9PSBKYXZhVHlwZXMuTUFQCiAgICAgICAgICAg\nICAgICAgfHwgdHlwZUNvZGUgPT0gSmF2YVR5cGVzLkFSUkFZOwogICAgICAg\nIH0KICAgICAgICAKICAgICAgICAvKioKICAgICAgICAgKiAgUmV0dXJucyB0\naGUgcGVyc2lzdGVudCBjYXRlZ29yeSBmb3IgdGhlIGF0dHJpYnV0ZS4KICAg\nICAgICAgKi8KICAgICAgICBwdWJsaWMgUGVyc2lzdGVudEF0dHJpYnV0ZVR5\ncGUgZ2V0UGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUoKSB7CiAgICAgICAgICAg\nIGlmIChmbWQuaXNFbWJlZGRlZFBDKCkpCiAgICAgICAgICAgICAgICByZXR1\ncm4gUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuRU1CRURERUQ7CiAgICAgICAg\nICAgIGlmIChmbWQuaXNFbGVtZW50Q29sbGVjdGlvbigpKQogICAgICAgICAg\nICAgICAgcmV0dXJuIFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlLkVMRU1FTlRf\nQ09MTEVDVElPTjsKICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbnRBdHRy\naWJ1dGVUeXBlLkJBU0lDOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGlu\ndCBjb21wYXJlVG8oTWVtYmVyPFgsIFk+IG8pIHsKICAgICAgICAgICAgcmV0\ndXJuIGZtZC5nZXROYW1lKCkuY29tcGFyZVRvKG8uZm1kLmdldE5hbWUoKSk7\nCiAgICAgICAgfQogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogUmVw\ncmVzZW50cyBzaW5nbGUtdmFsdWVkIHBlcnNpc3RlbnQgYXR0cmlidXRlcy4K\nICAgICAqCiAgICAgKiBAcGFyYW0gPFg+IFRoZSB0eXBlIGNvbnRhaW5pbmcg\ndGhlIHJlcHJlc2VudGVkIGF0dHJpYnV0ZQogICAgICogQHBhcmFtIDxUPiBU\naGUgdHlwZSBvZiB0aGUgcmVwcmVzZW50ZWQgYXR0cmlidXRlCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgY2xhc3MgU2luZ3VsYXJBdHRyaWJ1\ndGVJbXBsPFgsIFQ+IGV4dGVuZHMgTWVtYmVyPFgsIFQ+IAogICAgICAgIGlt\ncGxlbWVudHMgU2luZ3VsYXJBdHRyaWJ1dGU8WCwgVD4gewoKICAgICAgICBw\ndWJsaWMgU2luZ3VsYXJBdHRyaWJ1dGVJbXBsKEFic3RyYWN0TWFuYWdlZFR5\ncGU8WD4gb3duZXIsIEZpZWxkTWV0YURhdGEgZm1kKSB7CiAgICAgICAgICAg\nIHN1cGVyKG93bmVyLCBmbWQpOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAg\nICAgICAgICogIEFmZmlybXMgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgYW4gaWQg\nYXR0cmlidXRlLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBib29sZWFu\nIGlzSWQoKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQuaXNQcmltYXJ5S2V5\nKCk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiAgQWZmaXJt\ncyBpZiB0aGlzIGF0dHJpYnV0ZSByZXByZXNlbnRzIGEgdmVyc2lvbiBhdHRy\naWJ1dGUuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGJvb2xlYW4gaXNW\nZXJzaW9uKCkgewogICAgICAgICAgICByZXR1cm4gZm1kLmlzVmVyc2lvbigp\nOwogICAgICAgIH0KCiAgICAgICAgLyoqIAogICAgICAgICAqICBBZmZpcm1z\nIGlmIHRoaXMgYXR0cmlidXRlIGNhbiBiZSBudWxsLgogICAgICAgICAqLwog\nICAgICAgIHB1YmxpYyBib29sZWFuIGlzT3B0aW9uYWwoKSB7CiAgICAgICAg\nICAgIHJldHVybiBmbWQuZ2V0TnVsbFZhbHVlKCkgIT0gRmllbGRNZXRhRGF0\nYS5OVUxMX0VYQ0VQVElPTjsKICAgICAgICB9CgogICAgICAgIC8qKgogICAg\nICAgICAqICBDYXRlZ29yaXplcyBiaW5kYWJsZSB0eXBlIHJlcHJlc2VudGVk\nIGJ5IHRoaXMgYXR0cmlidXRlLgogICAgICAgICAqLyAKICAgICAgICBwdWJs\naWMgZmluYWwgQmluZGFibGVUeXBlIGdldEJpbmRhYmxlVHlwZSgpIHsKICAg\nICAgICAgICAgcmV0dXJuIGZtZC5pc0RlY2xhcmVkVHlwZVBDKCkgCiAgICAg\nICAgICAgICAgICA/IEJpbmRhYmxlVHlwZS5FTlRJVFlfVFlQRQogICAgICAg\nICAgICAgICAgOiBCaW5kYWJsZVR5cGUuU0lOR1VMQVJfQVRUUklCVVRFOwog\nICAgICAgIH0KICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAqIFJldHVy\nbnMgdGhlIGJpbmRhYmxlIEphdmEgdHlwZSBvZiB0aGlzIGF0dHJpYnV0ZS4K\nICAgICAgICAgKiAKICAgICAgICAgKiBJZiB0aGUgYmluZGFibGUgY2F0ZWdv\ncnkgb2YgdGhpcyBhdHRyaWJ1dGUgaXMgUExVUkFMX0FUVFJJQlVURSwgdGhl\nIEphdmEgZWxlbWVudCB0eXBlIAogICAgICAgICAqIGlzIHJldHVybmVkLiBJ\nZiB0aGUgYmluZGFibGUgdHlwZSBpcyBTSU5HVUxBUl9BVFRSSUJVVEUgb3Ig\nRU5USVRZX1RZUEUsIHRoZSBKYXZhIHR5cGUgCiAgICAgICAgICogb2YgdGhl\nIHJlcHJlc2VudGVkIGVudGl0eSBvciBhdHRyaWJ1dGUgaXMgcmV0dXJuZWQu\nCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIENsYXNzPFQ+IGdl\ndEJpbmRhYmxlSmF2YVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQu\nZ2V0RWxlbWVudCgpLmdldERlY2xhcmVkVHlwZSgpOwogICAgICAgIH0KICAg\nICAgICAKICAgICAgICAvKioKICAgICAgICAgKiBDYXRlZ29yaXplcyB0aGUg\nYXR0cmlidXRlLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBmaW5hbCBQ\nZXJzaXN0ZW50QXR0cmlidXRlVHlwZSBnZXRQZXJzaXN0ZW50QXR0cmlidXRl\nVHlwZSgpIHsKICAgICAgICAgICAgaWYgKCFmbWQuaXNEZWNsYXJlZFR5cGVQ\nQygpKQogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldFBlcnNpc3Rl\nbnRBdHRyaWJ1dGVUeXBlKCk7CiAgICAgICAgICAgIGlmIChmbWQuZ2V0VmFs\ndWUoKS5pc0VtYmVkZGVkKCkgJiYgZm1kLmdldEFzc29jaWF0aW9uVHlwZSgp\nID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW50QXR0\ncmlidXRlVHlwZS5FTUJFRERFRDsKICAgICAgICAgICAgfQogICAgICAgICAg\nICAKICAgICAgICAgICAgcmV0dXJuIGZtZC5nZXRNYXBwZWRCeU1ldGFEYXRh\nKCkgPT0gbnVsbCB8fCAhZm1kLmdldFR5cGUoKS5pc0Fzc2lnbmFibGVGcm9t\nKENvbGxlY3Rpb24uY2xhc3MpCiAgICAgICAgICAgICAgICAgPyBQZXJzaXN0\nZW50QXR0cmlidXRlVHlwZS5PTkVfVE9fT05FCiAgICAgICAgICAgICAgICAg\nOiBQZXJzaXN0ZW50QXR0cmlidXRlVHlwZS5PTkVfVE9fTUFOWTsKICAgICAg\nICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSb290IG9mIG11bHRpLWNhcmRp\nbmFsaXR5IGF0dHJpYnV0ZS4KICAgICAqCgkgKiBAcGFyYW0gPFg+IHRoZSB0\neXBlIHRoYXQgb3ducyB0aGlzIG1lbWJlcgoJICogQHBhcmFtIDxDPiB0aGUg\nY29udGFpbmVyIHR5cGUgdGhhdCBob2xkcyB0aGlzIG1lbWJlciAoZS5nLiBq\nYXZhLnV0aWwuU2V0Jmx0O0VtcGxveWVlJmd0OykKICAgICAqIEBwYXJhbSA8\nRT4gdGhlIHR5cGUgb2YgdGhlIGVsZW1lbnQgaGVsZCBieSB0aGlzIG1lbWJl\nciAoZS5nLiBFbXBsb3llZSkuIAogICAgICovCiAgICBwdWJsaWMgc3RhdGlj\nIGFic3RyYWN0IGNsYXNzIFBsdXJhbEF0dHJpYnV0ZUltcGw8WCwgQywgRT4g\nZXh0ZW5kcyBNZW1iZXI8WCwgQz4KICAgICAgICBpbXBsZW1lbnRzIFBsdXJh\nbEF0dHJpYnV0ZTxYLCBDLCBFPiB7CiAgICAgICAgCiAgICAgICAgcHVibGlj\nIFBsdXJhbEF0dHJpYnV0ZUltcGwoQWJzdHJhY3RNYW5hZ2VkVHlwZTxYPiBv\nd25lciwgRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAgICAgICAgc3VwZXIo\nb3duZXIsIGZtZCk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAg\nKiBSZXR1cm5zIHRoZSB0eXBlIHJlcHJlc2VudGluZyB0aGUgZWxlbWVudCB0\neXBlIG9mIHRoZSBjb2xsZWN0aW9uLgogICAgICAgICAqLwogICAgICAgIHB1\nYmxpYyBmaW5hbCBUeXBlPEU+IGdldEVsZW1lbnRUeXBlKCkgewogICAgICAg\nICAgICByZXR1cm4gb3duZXIubW9kZWwuZ2V0VHlwZShnZXRCaW5kYWJsZUph\ndmFUeXBlKCkpOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICog\nIFJldHVybnMgdGhlIGJpbmRhYmxlIGNhdGVnb3J5IG9mIHRoaXMgYXR0cmli\ndXRlLgogICAgICAgICAqLyAKICAgICAgICBwdWJsaWMgZmluYWwgQmluZGFi\nbGVUeXBlIGdldEJpbmRhYmxlVHlwZSgpIHsKICAgICAgICAgICAgcmV0dXJu\nIEJpbmRhYmxlVHlwZS5QTFVSQUxfQVRUUklCVVRFOwogICAgICAgIH0KICAg\nICAgICAKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1cm5zIHRoZSBiaW5k\nYWJsZSBKYXZhIHR5cGUgb2YgdGhpcyBhdHRyaWJ1dGUuCiAgICAgICAgICog\nCiAgICAgICAgICogRm9yIFBMVVJBTF9BVFRSSUJVVEUsIHRoZSBKYXZhIGVs\nZW1lbnQgdHlwZSBpcyByZXR1cm5lZC4gCiAgICAgICAgICovCiAgICAgICAg\ncHVibGljIENsYXNzPEU+IGdldEJpbmRhYmxlSmF2YVR5cGUoKSB7CiAgICAg\nICAgICAgIHJldHVybiBmbWQuZ2V0RWxlbWVudCgpLmdldERlY2xhcmVkVHlw\nZSgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAKICAgICAgICBwdWJs\naWMgUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUgZ2V0UGVyc2lzdGVudEF0dHJp\nYnV0ZVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW50QXR0\ncmlidXRlVHlwZS5PTkVfVE9fTUFOWTsKICAgICAgICB9CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXByZXNlbnRzIGF0dHJpYnV0ZXMgZGVjbGFyZWQgYXMg\namF2YS51dGlsLkNvbGxlY3Rpb24mbHQ7RSZndDsuCiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgY2xhc3MgQ29sbGVjdGlvbkF0dHJpYnV0ZUltcGw8WCwg\nRT4gCiAgICAgICAgZXh0ZW5kcyBQbHVyYWxBdHRyaWJ1dGVJbXBsPFgsIGph\ndmEudXRpbC5Db2xsZWN0aW9uPEU+LCBFPiAKICAgICAgICBpbXBsZW1lbnRz\nIENvbGxlY3Rpb25BdHRyaWJ1dGU8WCwgRT4gewoKICAgICAgICBwdWJsaWMg\nQ29sbGVjdGlvbkF0dHJpYnV0ZUltcGwoQWJzdHJhY3RNYW5hZ2VkVHlwZTxY\nPiBvd25lciwgRmllbGRNZXRhRGF0YSBmbWQpIHsKICAgICAgICAgICAgc3Vw\nZXIob3duZXIsIGZtZCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgQ29s\nbGVjdGlvblR5cGUgZ2V0Q29sbGVjdGlvblR5cGUoKSB7CiAgICAgICAgICAg\nIHJldHVybiBDb2xsZWN0aW9uVHlwZS5DT0xMRUNUSU9OOwogICAgICAgIH0K\nICAgIH0KCiAgICAvKioKICAgICAqIFJlcHJlc2VudHMgYXR0cmlidXRlcyBk\nZWNsYXJlZCBhcyBqYXZhLnV0aWwuTGlzdCZsdDtFJmd0Oy4KICAgICAqLwog\nICAgcHVibGljIHN0YXRpYyBjbGFzcyBMaXN0QXR0cmlidXRlSW1wbDxYLCBF\nPiAKICAgICAgICBleHRlbmRzIFBsdXJhbEF0dHJpYnV0ZUltcGw8WCwgamF2\nYS51dGlsLkxpc3Q8RT4sIEU+IAogICAgICAgIGltcGxlbWVudHMgTGlzdEF0\ndHJpYnV0ZTxYLCBFPiB7CgogICAgICAgIHB1YmxpYyBMaXN0QXR0cmlidXRl\nSW1wbChBYnN0cmFjdE1hbmFnZWRUeXBlPFg+IG93bmVyLCBGaWVsZE1ldGFE\nYXRhIGZtZCkgewogICAgICAgICAgICBzdXBlcihvd25lciwgZm1kKTsKICAg\nICAgICB9CgogICAgICAgIHB1YmxpYyBDb2xsZWN0aW9uVHlwZSBnZXRDb2xs\nZWN0aW9uVHlwZSgpIHsKICAgICAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25U\neXBlLkxJU1Q7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmVw\ncmVzZW50cyBhdHRyaWJ1dGVzIGRlY2xhcmVkIGFzIGphdmEudXRpbC5TZXQm\nbHQ7RSZndDsuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgU2V0\nQXR0cmlidXRlSW1wbDxYLCBFPiAKICAgICAgICBleHRlbmRzIFBsdXJhbEF0\ndHJpYnV0ZUltcGw8WCwgamF2YS51dGlsLlNldDxFPiwgRT4gCiAgICAgICAg\naW1wbGVtZW50cyBTZXRBdHRyaWJ1dGU8WCwgRT4gewoKICAgICAgICBwdWJs\naWMgU2V0QXR0cmlidXRlSW1wbChBYnN0cmFjdE1hbmFnZWRUeXBlPFg+IG93\nbmVyLCBGaWVsZE1ldGFEYXRhIGZtZCkgewogICAgICAgICAgICBzdXBlcihv\nd25lciwgZm1kKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBDb2xsZWN0\naW9uVHlwZSBnZXRDb2xsZWN0aW9uVHlwZSgpIHsKICAgICAgICAgICAgcmV0\ndXJuIENvbGxlY3Rpb25UeXBlLlNFVDsKICAgICAgICB9CiAgICB9CiAgICAK\nICAgIC8qKgogICAgICogUmVwcmVzZW50cyB0aGUga2V5cyBvZiBqYXZhLnV0\naWwuTWFwJmx0O0ssViZndDsgaW4gbWFuYWdlZCB0eXBlICZsdDtYJmd0OyBh\ncyBhIHBzZXVkby1hdHRyaWJ1dGUgb2YgdHlwZSAKICAgICAqIGphdmEudXRp\nbC5TZXQmbHQ7SyZndDsuCiAgICAgKgogICAgICogQHBhcmFtIDxYPiB0aGUg\nZGVjbGFyaW5nIHR5cGUgb2YgdGhlIG9yaWdpbmFsIGphdmEudXRpbC5NYXAm\nbHQ7SyxWJmd0OyBhdHRyaWJ1dGUgCiAgICAgKiBAcGFyYW0gPEs+IHRoZSB0\neXBlIG9mIHRoZSBrZXkgb2YgdGhlIG9yaWdpbmFsIGphdmEudXRpbC5NYXAm\nbHQ7SyxWJmd0OyBhdHRyaWJ1dGUKICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBjbGFzcyBLZXlBdHRyaWJ1dGVJbXBsPFgsSz4gZXh0ZW5kcyBTZXRBdHRy\naWJ1dGVJbXBsPFgsIEs+IHsKICAgICAgICBwdWJsaWMgS2V5QXR0cmlidXRl\nSW1wbChBYnN0cmFjdE1hbmFnZWRUeXBlPFg+IG93bmVyLCBGaWVsZE1ldGFE\nYXRhIGZtZCl7CiAgICAgICAgICAgIHN1cGVyKG93bmVyLCBmbWQpOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIENsYXNzPEs+IGdldEJpbmRhYmxlSmF2\nYVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVybiAoQ2xhc3M8Sz4pZm1kLmdl\ndEtleSgpLmdldERlY2xhcmVkVHlwZSgpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFJlcHJlc2VudHMgYXR0cmlidXRlcyBkZWNsYXJlZCBh\ncyBqYXZhLnV0aWwuTWFwJmx0O0ssViZndDsgaW4gbWFuYWdlZCB0eXBlICZs\ndDtYJmd0Oy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBjbGFzcyBNYXBB\ndHRyaWJ1dGVJbXBsPFgsIEssIFY+IAogICAgICAgIGV4dGVuZHMgUGx1cmFs\nQXR0cmlidXRlSW1wbDxYLCBqYXZhLnV0aWwuTWFwPEssIFY+LCBWPiAKICAg\nICAgICBpbXBsZW1lbnRzIE1hcEF0dHJpYnV0ZTxYLCBLLCBWPiB7CgogICAg\nICAgIHB1YmxpYyBNYXBBdHRyaWJ1dGVJbXBsKEFic3RyYWN0TWFuYWdlZFR5\ncGU8WD4gb3duZXIsIEZpZWxkTWV0YURhdGEgZm1kKSB7CiAgICAgICAgICAg\nIHN1cGVyKG93bmVyLCBmbWQpOwogICAgICAgIH0KCiAgICAgICAgcHVibGlj\nIENvbGxlY3Rpb25UeXBlIGdldENvbGxlY3Rpb25UeXBlKCkgewogICAgICAg\nICAgICByZXR1cm4gQ29sbGVjdGlvblR5cGUuTUFQOwogICAgICAgIH0KICAg\nICAgICAKICAgICAgICBwdWJsaWMgQ2xhc3M8Sz4gZ2V0S2V5SmF2YVR5cGUo\nKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQuZ2V0S2V5KCkuZ2V0RGVjbGFy\nZWRUeXBlKCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgVHlwZTxLPiBn\nZXRLZXlUeXBlKCkgewogICAgICAgICAgICByZXR1cm4gb3duZXIubW9kZWwu\nZ2V0VHlwZShnZXRLZXlKYXZhVHlwZSgpKTsKICAgICAgICB9CiAgICAgICAg\nCiAgICAgICAgcHVibGljIFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlIGdldFBl\ncnNpc3RlbnRBdHRyaWJ1dGVUeXBlKCkgewogICAgICAgICAgICByZXR1cm4g\nUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuTUFOWV9UT19NQU5ZOwogICAgICAg\nIH0KICAgIH0KfQo=\n","encoding":"base64"}

