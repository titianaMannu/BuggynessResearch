{"sha":"6eeac5d0e32f936318e1c67b2ea321827e027fdc","node_id":"MDQ6QmxvYjIwNjM2NDo2ZWVhYzVkMGUzMmY5MzYzMThlMWM2N2IyZWEzMjE4MjdlMDI3ZmRj","size":7799,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6eeac5d0e32f936318e1c67b2ea321827e027fdc","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsKCmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuRW1iZWRkYWJsZVR5\ncGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuRW50aXR5\nVHlwZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5JZGVu\ndGlmaWFibGVUeXBlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1v\nZGVsLk1hcHBlZFN1cGVyY2xhc3NUeXBlOwppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UubWV0YW1vZGVsLlR5cGU7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CgovKioKICogUGVyc2lzdGVudCBU\neXBlIGFjY29yZGluZyB0byBKUEEgMi4wLgogKiA8YnI+CiAqIEpQQSAyLjAg\nZGVmaW5lcyBhIHR5cGUgc3lzdGVtIGZvciBwZXJzaXN0ZW50IG9iamVjdHMg\ndG8gZGVjb3JhdGUgYSBjb3JlIEphdmEgdHlwZSBzeXN0ZW0KICogd2l0aCBw\nZXJzaXN0ZW5jZS1yZWxldmFudCBwcm9wZXJ0aWVzIHN1Y2ggYXMgcGVyc2lz\ndGVudCBpZGVudGl0eSwgaW5kZXBlbmRlbnRseSBwZXJzaXN0ZW5jZQogKiBj\nYXBhYmxlIGV0Yy4gCiAqIDxicj4KICogSW1wbGVtZW50ZWQgYXMgYSB0aGlu\nIGFkYXB0ZXIgdG8gT3BlbkpQQSBtZXRhZGF0YSBzeXN0ZW0uIE1vc3RseSBp\nbW11dGFibGUuCiAqIAogKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICogCiAq\nIEBzaW5jZSAyLjAuMAogKiAKICovCnB1YmxpYyBjbGFzcyBUeXBlcyB7CiAg\nICBwcm90ZWN0ZWQgc3RhdGljIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVy\nLmZvclBhY2thZ2UoVHlwZXMuY2xhc3MpOwoKICAgIC8qKgogICAgICogTWly\ncm9ycyBhIEphdmEgY2xhc3MuCiAgICAgKgogICAgICogQHBhcmFtIDxYPiBK\nYXZhIGNsYXNzIAogICAgICovCiAgICBzdGF0aWMgYWJzdHJhY3QgY2xhc3Mg\nQmFzZVR5cGU8WD4gaW1wbGVtZW50cyBUeXBlPFg+IHsKICAgICAgICBwdWJs\naWMgZmluYWwgQ2xhc3M8WD4gY2xzOwoKICAgICAgICBwcm90ZWN0ZWQgQmFz\nZVR5cGUoQ2xhc3M8WD4gY2xzKSB7CiAgICAgICAgICAgIHRoaXMuY2xzID0g\nY2xzOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGZpbmFsIENsYXNzPFg+\nIGdldEphdmFUeXBlKCkgewogICAgICAgICAgICByZXR1cm4gY2xzOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAg\nICAgICAgICAgcmV0dXJuIGNscy5nZXROYW1lKCk7CiAgICAgICAgfQogICAg\nfQoKICAgIC8qKgogICAgICogQmFzaWMgbm9uLXJlbGF0aW9uYWwgdHlwZXMg\nb2YgYSBwZXJzaXN0ZW50IGF0dHJpYnV0ZSBzdWNoIGFzIDxjb2RlPmxvbmc8\nL2NvZGU+IG9yIAogICAgICogPGNvZGU+amF2YS51dGlsLkRhdGU8L2NvZGU+\nLgogICAgICogCiAgICAgKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICAgICAq\nCiAgICAgKiBAcGFyYW0gPFg+IHJlcHJlc2VudGVkIEphdmEgdHlwZS4KICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBjbGFzcyBCYXNpYzxYPiBleHRlbmRz\nIEJhc2VUeXBlPFg+IGltcGxlbWVudHMgVHlwZTxYPiB7CiAgICAgICAgcHVi\nbGljIEJhc2ljKENsYXNzPFg+IGNscykgewogICAgICAgICAgICBzdXBlcihj\nbHMpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIFBlcnNpc3RlbmNlVHlw\nZSBnZXRQZXJzaXN0ZW5jZVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVybiBQ\nZXJzaXN0ZW5jZVR5cGUuQkFTSUM7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogUmVwcmVzZW50cyBhbiBhYnN0cmFjdCBwZXJzaXN0ZW50IHR5\ncGUgdGhhdCBoYXMgYSBwZXJzaXN0ZW50IGlkZW50aXR5LgogICAgICoKICAg\nICAqIEBhdXRob3IgUGluYWtpIFBvZGRhcgogICAgICogCiAgICAgKiBAcGFy\nYW0gPFg+CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgYWJzdHJhY3QgY2xh\nc3MgSWRlbnRpZmlhYmxlPFg+IGV4dGVuZHMgQWJzdHJhY3RNYW5hZ2VkVHlw\nZTxYPiAKICAgICAgICBpbXBsZW1lbnRzIElkZW50aWZpYWJsZVR5cGU8WD4g\newoKICAgICAgICBwdWJsaWMgSWRlbnRpZmlhYmxlKENsYXNzTWV0YURhdGEg\nbWV0YSwgTWV0YW1vZGVsSW1wbCBtb2RlbCkgewogICAgICAgICAgICBzdXBl\ncihtZXRhLCBtb2RlbCk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAg\nICAgKiAgV2hldGhlciBvciBub3QgdGhlIGlkZW50aWZpYWJsZSB0eXBlIGhh\ncyBhIHZlcnNpb24gYXR0cmlidXRlLgogICAgICAgICAqICBAcmV0dXJuIGJv\nb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgaWRlbnRpZmlh\nYmxlCiAgICAgICAgICogICAgICAgICAgdHlwZSBoYXMgYSB2ZXJzaW9uIGF0\ndHJpYnV0ZQogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBib29sZWFuIGhh\nc1ZlcnNpb25BdHRyaWJ1dGUoKSB7CiAgICAgICAgICAgIHJldHVybiBtZXRh\nLmdldFZlcnNpb25GaWVsZCgpICE9IG51bGw7CiAgICAgICAgfQoKCiAgICAg\nICAgLyoqCiAgICAgICAgICogIFJldHVybiB0aGUgaWRlbnRpZmlhYmxlIHR5\ncGUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgbW9zdAogICAgICAgICAqICBz\ncGVjaWZpYyBtYXBwZWQgc3VwZXJjbGFzcyBvciBlbnRpdHkgZXh0ZW5kZWQg\nYnkgdGhlIGVudGl0eSAKICAgICAgICAgKiAgb3IgbWFwcGVkIHN1cGVyY2xh\nc3MuIAogICAgICAgICAqICBAcmV0dXJuIHN1cGVyIHR5cGUgb2YgaWRlbnRp\nZmlhYmxlIHR5cGUgb3IgbnVsbCBpZiBubyBzdWNoIHN1cGVyIHR5cGUKICAg\nICAgICAgKi8KICAgICAgICBwdWJsaWMgSWRlbnRpZmlhYmxlVHlwZTw/IHN1\ncGVyIFg+IGdldFN1cGVydHlwZSgpIHsKICAgICAgICAgICAgQ2xhc3NNZXRh\nRGF0YSBzdXBlck1ldGEgPSBtZXRhLmdldFBDU3VwZXJjbGFzc01ldGFEYXRh\nKCk7CiAgICAgICAgICAgIGlmIChzdXBlck1ldGEgPT0gbnVsbCkKICAgICAg\nICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICByZXR1cm4gKElk\nZW50aWZpYWJsZVR5cGU8PyBzdXBlciBYPikgbW9kZWwubWFuYWdlZFR5cGUo\nc3VwZXJNZXRhLmdldERlc2NyaWJlZFR5cGUoKSk7CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgYm9vbGVhbiBoYXNJZEF0dHJpYnV0ZSgpIHsKICAgICAg\nICAgICAgcmV0dXJuIG1ldGEuZ2V0SWRlbnRpdHlUeXBlKCkgPT0gQ2xhc3NN\nZXRhRGF0YS5JRF9BUFBMSUNBVElPTjsKICAgICAgICB9CiAgICAgICAgCiAg\nICAgICAgLyoqCiAgICAgICAgICogIFdoZXRoZXIgb3Igbm90IHRoZSBpZGVu\ndGlmaWFibGUgdHlwZSB1c2VzIGFuIGF0dHJpYnV0ZSB0byByZXByZXNlbnRz\nIGl0cyBwZXJzaXN0ZW50IGlkZW50aXR5LgogICAgICAgICAqICBSZXR1cm5z\nIHRydWUgZm9yIGEgc2ltcGxlIG9yIGVtYmVkZGVkIGlkZW50aWZpZXIuCiAg\nICAgICAgICogIFJldHVybnMgZmFsc2UgZm9yIGFuIGNsYXNzZXMgdGhhdCB1\nc2Ugc2VwYXJhdGUgaWRlbnRpZmllciBjbGFzcyBmb3IgaXRzIHBlcnNpc3Rl\nbnQgaWRlbnRpdHkuCiAgICAgICAgICogIAogICAgICAgICAqICBAcmV0dXJu\nIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgaWRlbnRp\nZmlhYmxlCiAgICAgICAgICogICAgICAgICAgdHlwZSByZXByZXNlbnRzIGl0\ncyBwZXJzaXN0ZW50IGlkZW50aXR5IHZpYSBhIHNpbmdsZSBpZGVudGlmaWVy\nIGF0dHJpYnV0ZS4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgYm9vbGVh\nbiBoYXNTaW5nbGVJZEF0dHJpYnV0ZSgpIHsKICAgICAgICAgICAgcmV0dXJu\nIG1ldGEuZ2V0UHJpbWFyeUtleUZpZWxkcygpLmxlbmd0aCA9PSAxOwogICAg\nICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogIFJldHVybiB0aGUgdHlw\nZSB0aGF0IHJlcHJlc2VudHMgdGhlIHR5cGUgb2YgdGhlIGlkLgogICAgICAg\nICAqICBAcmV0dXJuIHR5cGUgb2YgaWRlbnRpZmllcgogICAgICAgICAqLwog\nICAgICAgIHB1YmxpYyBUeXBlPD8+IGdldElkVHlwZSgpIHsKICAgICAgICAg\nICAgQ2xhc3M8Pz4gaWRUeXBlID0gaGFzU2luZ2xlSWRBdHRyaWJ1dGUoKSAK\nICAgICAgICAgICAgICAgICAgICAgPyBtZXRhLmdldFByaW1hcnlLZXlGaWVs\nZHMoKVswXS5nZXREZWNsYXJlZFR5cGUoKSA6IG1ldGEuZ2V0T2JqZWN0SWRU\neXBlKCk7CiAgICAgICAgICAgIHJldHVybiBtb2RlbC5nZXRUeXBlKGlkVHlw\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQW4gZW1iZWRk\nZWQsIG5vdCBpbmRlcGVuZGVudGx5IGlkZW50aWZpYWJsZSB0eXBlLgogICAg\nICogCiAgICAgKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICAgICAqCiAgICAg\nKiBAcGFyYW0gPFg+IHRoZSByZXByZXNlbnRlZCBKYXZhIHR5cGUuIAogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEVtYmVkZGFibGU8WD4gZXh0\nZW5kcyBBYnN0cmFjdE1hbmFnZWRUeXBlPFg+IAogICAgICAgIGltcGxlbWVu\ndHMgRW1iZWRkYWJsZVR5cGU8WD4gewogICAgICAgIHB1YmxpYyBFbWJlZGRh\nYmxlKENsYXNzTWV0YURhdGEgbWV0YSwgTWV0YW1vZGVsSW1wbCBtb2RlbCkg\newogICAgICAgICAgICBzdXBlcihtZXRhLCBtb2RlbCk7CiAgICAgICAgfQog\nICAgICAgIAogICAgICAgIHB1YmxpYyBQZXJzaXN0ZW5jZVR5cGUgZ2V0UGVy\nc2lzdGVuY2VUeXBlKCkgewogICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVu\nY2VUeXBlLkVNQkVEREFCTEU7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgog\nICAgICogQSBhYnN0cmFjdCwgaW5kZXBlbmRlbnRseSBpZGVudGlmaWFibGUg\ncGVyc2lzdGVudCB0eXBlLgogICAgICogIAogICAgICogQGF1dGhvciBQaW5h\na2kgUG9kZGFyCiAgICAgKgogICAgICogQHBhcmFtIDxYPiB0aGUgcmVwcmVz\nZW50ZWQgSmF2YSB0eXBlLiAKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBj\nbGFzcyBNYXBwZWRTdXBlcjxYPiBleHRlbmRzIElkZW50aWZpYWJsZTxYPiBp\nbXBsZW1lbnRzCiAgICAgICAgTWFwcGVkU3VwZXJjbGFzc1R5cGU8WD4gewoK\nICAgICAgICBwdWJsaWMgTWFwcGVkU3VwZXIoQ2xhc3NNZXRhRGF0YSBtZXRh\nLCBNZXRhbW9kZWxJbXBsIG1vZGVsKSB7CiAgICAgICAgICAgIHN1cGVyKG1l\ndGEsIG1vZGVsKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcHVibGlj\nIFBlcnNpc3RlbmNlVHlwZSBnZXRQZXJzaXN0ZW5jZVR5cGUoKSB7CiAgICAg\nICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVR5cGUuTUFQUEVEX1NVUEVSQ0xB\nU1M7CiAgICAgICAgfQoKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBBbiBl\nbnRpdHkgdHlwZSB0aGF0IGlzIGluZGVwZW5kZW50bHkgaWRlbnRpZmlhYmxl\nLgogICAgICogCiAgICAgKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICAgICAq\nCiAgICAgKiBAcGFyYW0gPFg+IHRoZSByZXByZXNlbnRlZCBKYXZhIHR5cGUu\nIAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEVudGl0eTxYPiBl\neHRlbmRzIElkZW50aWZpYWJsZTxYPiAKICAgICAgICBpbXBsZW1lbnRzIEVu\ndGl0eVR5cGU8WD4gewoKICAgICAgICBwdWJsaWMgRW50aXR5KENsYXNzTWV0\nYURhdGEgbWV0YSwgTWV0YW1vZGVsSW1wbCBtb2RlbCkgewogICAgICAgICAg\nICBzdXBlcihtZXRhLCBtb2RlbCk7CiAgICAgICAgfQogICAgICAgIAogICAg\nICAgIHB1YmxpYyBQZXJzaXN0ZW5jZVR5cGUgZ2V0UGVyc2lzdGVuY2VUeXBl\nKCkgewogICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VUeXBlLkVOVElU\nWTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcHVibGljIFN0cmluZyBn\nZXROYW1lKCkgewogICAgICAgIAlyZXR1cm4gbWV0YS5nZXRUeXBlQWxpYXMo\nKTsKICAgICAgICB9CiAgICAgICAgLyoqCiAgICAgICAgICogIFJldHVybiB0\naGUgYmluZGFibGUgdHlwZSBvZiB0aGUgcmVwcmVzZW50ZWQgb2JqZWN0Lgog\nICAgICAgICAqICBAcmV0dXJuIGJpbmRhYmxlIHR5cGUKICAgICAgICAgKi8g\nCiAgICAgICAgcHVibGljIEJpbmRhYmxlVHlwZSBnZXRCaW5kYWJsZVR5cGUo\nKSB7CiAgICAgICAgICAgIHJldHVybiBCaW5kYWJsZVR5cGUuRU5USVRZX1RZ\nUEU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAq\nIFJldHVybiB0aGUgSmF2YSB0eXBlIG9mIHRoZSByZXByZXNlbnRlZCBvYmpl\nY3QuCiAgICAgICAgICogSWYgdGhlIGJpbmRhYmxlIHR5cGUgb2YgdGhlIG9i\namVjdCBpcyBQTFVSQUxfQVRUUklCVVRFLAogICAgICAgICAqIHRoZSBKYXZh\nIGVsZW1lbnQgdHlwZSBpcyByZXR1cm5lZC4gSWYgdGhlIGJpbmRhYmxlIHR5\ncGUgaXMKICAgICAgICAgKiBTSU5HVUxBUl9BVFRSSUJVVEUgb3IgRU5USVRZ\nX1RZUEUsIHRoZSBKYXZhIHR5cGUgb2YgdGhlCiAgICAgICAgICogcmVwcmVz\nZW50ZWQgZW50aXR5IG9yIGF0dHJpYnV0ZSBpcyByZXR1cm5lZC4KICAgICAg\nICAgKiBAcmV0dXJuIEphdmEgdHlwZQogICAgICAgICAqLwogICAgICAgIHB1\nYmxpYyBDbGFzczxYPiBnZXRCaW5kYWJsZUphdmFUeXBlKCkgewogICAgICAg\nICAgICByZXR1cm4gZ2V0SmF2YVR5cGUoKTsKICAgICAgICB9CiAgICB9ICAg\nCiAgICAKICAgIC8qKgogICAgICogQSBwc2V1ZG8gbWFuYWdlZCB0eXBlIHVz\nZWQgdG8gcmVwcmVzZW50IGtleXMgb2YgYSBqYXZhLnV0aWwuTWFwIGFzIGEg\nCiAgICAgKiBwc2V1ZG8gYXR0cmlidXRlLgogICAgKiovIAogICAgcHVibGlj\nIHN0YXRpYyBjbGFzcyBQc2V1ZG9FbnRpdHk8WD4gZXh0ZW5kcyBBYnN0cmFj\ndE1hbmFnZWRUeXBlPFg+IHsKCiAgICAgICAgcHJvdGVjdGVkIFBzZXVkb0Vu\ndGl0eShDbGFzczxYPiBjbHMsIE1ldGFtb2RlbEltcGwgbW9kZWwpIHsKICAg\nICAgICAgICAgc3VwZXIoY2xzLCBtb2RlbCk7CiAgICAgICAgfQoKICAgICAg\nICBwdWJsaWMgamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLlR5cGUuUGVy\nc2lzdGVuY2VUeXBlIGdldFBlcnNpc3RlbmNlVHlwZSgpIHsKICAgICAgICAg\nICAgcmV0dXJuIFBlcnNpc3RlbmNlVHlwZS5FTlRJVFk7CiAgICAgICAgfSAg\nICAgICAKICAgIH0KfQo=\n","encoding":"base64"}

