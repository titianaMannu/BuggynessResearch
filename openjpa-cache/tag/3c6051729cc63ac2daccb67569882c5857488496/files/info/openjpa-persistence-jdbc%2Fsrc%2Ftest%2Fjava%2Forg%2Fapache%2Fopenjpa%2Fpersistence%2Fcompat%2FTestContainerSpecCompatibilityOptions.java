{"sha":"73109aa4b8db6018f6e92e5918c2b662c01d8ea8","node_id":"MDQ6QmxvYjIwNjM2NDo3MzEwOWFhNGI4ZGI2MDE4ZjZlOTJlNTkxOGMyYjY2MmMwMWQ4ZWE4","size":30723,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/73109aa4b8db6018f6e92e5918c2b662c01d8ea8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tcGF0\nOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0\naWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5jb25mLkNvbXBhdGliaWxpdHk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuY29uZi5TcGVjaWZpY2F0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi5qZGJjLkFic3RyYWN0SkRCQ0xpc3RlbmVyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5qZGJjLkpEQkNFdmVudDsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIuamRiYy5KREJDTGlzdGVuZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5U1BJOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5jZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLlNRTFNuaWZmZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5BYnN0\ncmFjdENhY2hlZEVNRlRlc3RDYXNlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLnRlc3QuQ29udGFpbmVyRU1GVGVzdDsKCi8vIFRl\nc3RzIHNhbWUgZnVuY3Rpb25hbGl0eSBhcyBUZXN0U3BlY0NvbXBhdGliaWxp\ndHlPcHRpb25zLCBleGNlcHQgdGhhdCAKLy8gdGhpcyB2YXJpYXRpb24gcnVu\ncyB0aHJvdWdoIHRoZSBwYXRoIGEgSkVFIGNvbnRhaW5lciB1c2VzIHRvIGNy\nZWF0ZQovLyBhbiBFTUYuCnB1YmxpYyBjbGFzcyBUZXN0Q29udGFpbmVyU3Bl\nY0NvbXBhdGliaWxpdHlPcHRpb25zIAogICAgZXh0ZW5kcyBDb250YWluZXJF\nTUZUZXN0IHsKICAgIAogICAgcHJvdGVjdGVkIExpc3Q8U3RyaW5nPiBzcWwg\nPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTsKICAgIHByb3RlY3RlZCBpbnQg\nc3FsQ291bnQ7CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndFBlcnNpc3RlbmNlUmVzb3VyY2VOYW1lKCkgewogICAgICAgIHJldHVybiAi\nb3JnL2FwYWNoZS9vcGVuanBhL3BlcnNpc3RlbmNlL2NvbXBhdC9wZXJzaXN0\nZW5jZV8yXzAueG1sIjsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0UGVyc2lzdGVuY2VVbml0TmFtZSgpIHsKICAgICAgICBy\nZXR1cm4gInBlcnNpc3RlbmNlXzJfMCI7CiAgICB9CiAgICAKICAgIC8qCiAg\nICAgKiBWZXJpZmllcyBjb21wYXRpYmlsaXR5IG9wdGlvbnMgYW5kIHNwZWMg\nbGV2ZWwgYXJlIGFwcHJvcHJpYXRlCiAgICAgKiBmb3IgYSB2ZXJzaW9uIDIg\ncGVyc2lzdGVuY2UueG1sCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RK\nUEExQ29tcGF0aWJpbGl0eU9wdGlvbnMoKSB7CiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXJGYWN0b3J5U1BJIGVtZjEgPQogICAgICAgIChPcGVuSlBB\nRW50aXR5TWFuYWdlckZhY3RvcnlTUEkpCiAgICAgICAgICAgIGNyZWF0ZUNv\nbnRhaW5lckVNRigicGVyc2lzdGVuY2VfMV8wIiwKICAgICAgICAgICAgICAg\nICJvcmcvYXBhY2hlL29wZW5qcGEvcGVyc2lzdGVuY2UvY29tcGF0LyIgKwog\nICAgICAgICAgICAgICAgInBlcnNpc3RlbmNlXzFfMC54bWwiLCBudWxsKTsK\nCiAgICAgICAgQ29tcGF0aWJpbGl0eSBjb21wYXQgPSBlbWYxLmdldENvbmZp\nZ3VyYXRpb24oKS5nZXRDb21wYXRpYmlsaXR5SW5zdGFuY2UoKTsKICAgICAg\nICBhc3NlcnRUcnVlKGNvbXBhdC5nZXRGbHVzaEJlZm9yZURldGFjaCgpKTsK\nICAgICAgICBhc3NlcnRUcnVlKGNvbXBhdC5nZXRDb3B5T25EZXRhY2goKSk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZShjb21wYXQuZ2V0SWdub3JlRGV0YWNoZWRT\ndGF0ZUZpZWxkRm9yUHJveHlTZXJpYWxpemF0aW9uKCkpOwogICAgICAgIGFz\nc2VydFRydWUoY29tcGF0LmdldFByaXZhdGVQZXJzaXN0ZW50UHJvcGVydGll\ncygpKTsKICAgICAgICBhc3NlcnRGYWxzZShjb21wYXQuaXNBYnN0cmFjdE1h\ncHBpbmdVbmlEaXJlY3Rpb25hbCgpKTsKICAgICAgICBhc3NlcnRGYWxzZShj\nb21wYXQuaXNOb25EZWZhdWx0TWFwcGluZ0FsbG93ZWQoKSk7CiAgICAgICAg\nU3RyaW5nIHZNb2RlID0gZW1mMS5nZXRDb25maWd1cmF0aW9uKCkuZ2V0VmFs\naWRhdGlvbk1vZGUoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIk5PTkUiLCB2\nTW9kZSk7CiAgICAgICAgU3BlY2lmaWNhdGlvbiBzcGVjID0gZW1mMS5nZXRD\nb25maWd1cmF0aW9uKCkuZ2V0U3BlY2lmaWNhdGlvbkluc3RhbmNlKCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJKUEEiLCBzcGVjLmdldE5hbWUoKS50b1Vw\ncGVyQ2FzZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoc3BlYy5nZXRWZXJz\naW9uKCksIDEpOwogICAgICAgIAogICAgICAgIGVtZjEuY2xvc2UoKTsKCiAg\nICB9CgogICAgLyoKICAgICAqIFZlcmlmaWVzIGNvbXBhdGliaWxpdHkgb3B0\naW9ucyBhbmQgc3BlYyBsZXZlbCBhcmUgYXBwcm9wcmlhdGUKICAgICAqIGZv\nciBhIHZlcnNpb24gMiBwZXJzaXN0ZW5jZS54bWwKICAgICAqLwogICAgcHVi\nbGljIHZvaWQgdGVzdEpQQTJDb21wYXRpYmlsaXR5T3B0aW9ucygpIHsKICAg\nICAgICBDb21wYXRpYmlsaXR5IGNvbXBhdCA9IGVtZi5nZXRDb25maWd1cmF0\naW9uKCkuZ2V0Q29tcGF0aWJpbGl0eUluc3RhbmNlKCk7CiAgICAgICAgYXNz\nZXJ0RmFsc2UoY29tcGF0LmdldEZsdXNoQmVmb3JlRGV0YWNoKCkpOwogICAg\nICAgIGFzc2VydEZhbHNlKGNvbXBhdC5nZXRDb3B5T25EZXRhY2goKSk7CiAg\nICAgICAgYXNzZXJ0RmFsc2UoY29tcGF0LmdldElnbm9yZURldGFjaGVkU3Rh\ndGVGaWVsZEZvclByb3h5U2VyaWFsaXphdGlvbigpKTsKICAgICAgICBhc3Nl\ncnRGYWxzZShjb21wYXQuZ2V0UHJpdmF0ZVBlcnNpc3RlbnRQcm9wZXJ0aWVz\nKCkpOwogICAgICAgIGFzc2VydFRydWUoY29tcGF0LmlzQWJzdHJhY3RNYXBw\naW5nVW5pRGlyZWN0aW9uYWwoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShjb21w\nYXQuaXNOb25EZWZhdWx0TWFwcGluZ0FsbG93ZWQoKSk7CiAgICAgICAgU3Ry\naW5nIHZNb2RlID0gZW1mLmdldENvbmZpZ3VyYXRpb24oKS5nZXRWYWxpZGF0\naW9uTW9kZSgpOwogICAgICAgIGFzc2VydEVxdWFscygiQVVUTyIsIHZNb2Rl\nKTsKICAgICAgICBTcGVjaWZpY2F0aW9uIHNwZWMgPSBlbWYuZ2V0Q29uZmln\ndXJhdGlvbigpLmdldFNwZWNpZmljYXRpb25JbnN0YW5jZSgpOwogICAgICAg\nIGFzc2VydEVxdWFscygiSlBBIiwgc3BlYy5nZXROYW1lKCkudG9VcHBlckNh\nc2UoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHNwZWMuZ2V0VmVyc2lvbigp\nLCAyKTsKICAgIH0KCiAgICAvKgogICAgICogUGVyIEpQQSAyLjAsIFJlbGF0\naW9uc2hpcHMgaW4gbWFwcGVkIHN1cGVyY2xhc3MgbXVzdCBiZSB1bmlkaXJl\nY3Rpb25hbC4KICAgICAqIEFuIGV4Y2VwdGlvaW4gd2lsbCBiZSB0aHJvd24g\nd2hlbiBhIGJpLWRpcmVjdGlvbmFsIHJlbGF0aW9uIGlzIGRldGVjdGVkIGlu\nCiAgICAgKiBhIG1hcHBlZCBzdXBlcmNsYXNzLiAKICAgICAqLwogICAgcHVi\nbGljIHZvaWQgdGVzdE1hcHBlZFN1cGVyQ2xhc3MoKSB7CiAgICAgICAgTGlz\ndDxDbGFzczw/Pj4gdHlwZXMgPSBuZXcgQXJyYXlMaXN0PENsYXNzPD8+Pigp\nOwogICAgICAgIHR5cGVzLmFkZChFbnRpdHlBLmNsYXNzKTsKICAgICAgICB0\neXBlcy5hZGQoRW50aXR5Qi5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKE1h\ncHBlZFN1cGVyLmNsYXNzKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3RvcnlTUEkgb2VtZiA9IGNyZWF0ZUVNRjJfMCh0eXBlcyk7CiAgICAg\nICAgRW50aXR5TWFuYWdlciBlbSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgZW0gPSBvZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAg\nICAgICAgICAgRW50aXR5QSBhID0gbmV3IEVudGl0eUEoKTsKICAgICAgICAg\nICAgYS5zZXRJZCgxKTsKICAgICAgICAgICAgRW50aXR5QiBiID0gbmV3IEVu\ndGl0eUIoKTsKICAgICAgICAgICAgYi5zZXRJZCgxKTsKICAgICAgICAgICAg\nYS5zZXRFbnRpdHlCKGIpOwogICAgICAgICAgICBiLnNldEVudGl0eUEoYSk7\nCiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAg\nICAgICAgICAgZW0ucGVyc2lzdChhKTsKICAgICAgICAgICAgZW0ucGVyc2lz\ndChiKTsKICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsKICAgICAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICAgICAgZmFpbCgi\nQW4gZXhjZXB0aW9pbiB3aWxsIGJlIHRocm93biBmb3IgYSBiaS1kaXJlY3Rp\nb25hbCByZWxhdGlvbiBkZWNsYXJlZCBpbiBtYXBwZWQgc3VwZXJjbGFzcyIp\nOwogICAgICAgIH0gY2F0Y2ggKG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5Bcmd1bWVudEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGlmIChl\nbSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLnJvbGxiYWNrKCk7CiAgICAgICAgICAgICAgICBlbS5jbG9zZSgpOwog\nICAgICAgICAgICB9CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAg\nb2VtZi5jbG9zZSgpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAq\nIFBlciBKUEEgMi4wLCB0aGUgZm9sbG93aW5nIG9uZS10by1tYW55IG1hcHBp\nbmdzIGFyZSBzdXBwb3J0ZWQuCiAgICAgKiAoMSkgdW5pLS9PbmVUb01hbnkv\nZm9yZWlnbiBrZXkgc3RyYXRlZ3kKICAgICAqICgyKSB1bmktL09uZVRvTWFu\neS9qb2luIHRhYmxlIHN0cmF0ZWd5IChkZWZhdWx0KQogICAgICogKDMpIGJp\nLS9PbmVUb01hbnkvZm9yZWlnbiBrZXkgc3RyYXRlZ3kgKGRlZmF1bHQpCiAg\nICAgKiAoNCkgYmktL09uZVRvTWFueS9qb2luIHRhYmxlIHN0cmF0ZWd5CiAg\nICAgKiBUaGUgSm9pbkNvbHVtbiBhbmQgSm9pblRhYmxlIGFubm90YXRpb25z\nIG9yIGNvcnJlc3BvbmRpbmcgWE1MIAogICAgICogZWxlbWVudHMgbXVzdCBi\nZSB1c2VkIHRvIHNwZWNpZnkgc3VjaCBub24tZGVmYXVsdCBtYXBwaW5ncwog\nICAgICogCiAgICAgKiBGb3IgKDEpLCB0aGUgc3BlYyBwcm92aWRlcyB0aGUg\nZm9sbG93aW5nIGV4YW1wbGUgKFNlYyAxMS4xLjM2KToKICAgICAqIEV4YW1w\nbGUgMzogVW5pZGlyZWN0aW9uYWwgT25lLXRvLU1hbnkgYXNzb2NpYXRpb24g\ndXNpbmcgYSBmb3JlaWduIAogICAgICoga2V5IG1hcHBpbmc6CiAgICAgKiBJ\nbiBDdXN0b21lciBjbGFzczoKICAgICAqIEBPbmVUb01hbnkob3JwaGFuUmVt\nb3ZhbD10cnVlKQogICAgICogQEpvaW5Db2x1bW4obmFtZT0iQ1VTVF9JRCIp\nIC8vIGpvaW4gY29sdW1uIGlzIGluIHRhYmxlIGZvciBPcmRlcgogICAgICog\ncHVibGljIFNldDxPcmRlcj4gZ2V0T3JkZXJzKCkge3JldHVybiBvcmRlcnM7\nfQogICAgICogCiAgICAgKiBGb3IgKDQpLCBCaS1kaXJlY3Rpb25hbCBPbmUt\ndC1NYW55IGFzc29jaWF0aW9uIHVzaW5nIHRoZSBqb2luIAogICAgICogdGFi\nbGUgbWFwcGluZzoKICAgICAqIEluIEN1c3RvbWVyIGNsYXNzOgogICAgICog\nQE9uZVRvTWFueShtYXBwZWRCeT0iY3VzdG9tZXIiKQogICAgICogQEpvaW5U\nYWJsZSgKICAgICAqICAgbmFtZT0iQ3VzdG9tZXJfT3JkZXJzIiwKICAgICAq\nICAgam9pbkNvbHVtbnM9CiAgICAgKiAgICAgQEpvaW5Db2x1bW4obmFtZT0i\nT3JkZXJfSUQiLCByZWZlcmVuY2VkQ29sdW1uTmFtZT0iSUQiKSwKICAgICAq\nICAgIGludmVyc2VKb2luQ29sdW1ucz0KICAgICAqICAgICBASm9pbkNvbHVt\nbihuYW1lPSJDdXN0X0lEIiwgcmVmZXJlbmNlZENvbHVtbk5hbWU9IklEIikK\nICAgICAqICApCiAgICAgKiAgcHVibGljIFNldDxPcmRlcj4gZ2V0T3JkZXJz\nKCkge3JldHVybiBvcmRlcnM7fQogICAgICogIAogICAgICogIE5vdGUgdGhh\ndCBpbiB0aGlzIHNjZW5hcmlvLCBASm9pblRhYmxlIGlzIHJlcXVpcmVkLiBT\naW1wbHkgYXBwbHlpbmcgQEpvaW5Db2x1bW4gCiAgICAgKiAgd2l0aG91dCBA\nSm9pblRhYmxlIHdpbGwgcmVzdWx0IGluIGFuIGV4Y2VwdGlvbiB0aHJvd24g\nYnkgb3BlbmpwYS4KICAgICAqIAogICAgICovCiAgICBwdWJsaWMgdm9pZCB0\nZXN0T25lVG9NYW55UmVsYXRpb24oKSB7CiAgICAgICAgTGlzdDxDbGFzczw/\nPj4gdHlwZXMgPSBuZXcgQXJyYXlMaXN0PENsYXNzPD8+PigpOwogICAgICAg\nIHR5cGVzLmFkZChFbnRpdHlDLmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQo\nRW50aXR5Q19CMU1GSy5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKEVudGl0\neUNfQjFNSlQuY2xhc3MpOwogICAgICAgIHR5cGVzLmFkZChFbnRpdHlDX1Ux\nTUZLLmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQoQmlfMVRvTV9GSy5jbGFz\ncyk7CiAgICAgICAgdHlwZXMuYWRkKEJpXzFUb01fSlQuY2xhc3MpOwogICAg\nICAgIHR5cGVzLmFkZChVbmlfMVRvTV9GSy5jbGFzcyk7CiAgICAgICAgdHlw\nZXMuYWRkKFVuaV8xVG9NX0pULmNsYXNzKTsKICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlckZhY3RvcnlTUEkgb2VtZiA9IGNyZWF0ZUVNRjJfMCh0eXBl\ncyk7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IG9lbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOwogICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIC8vIHRyaWdnZXIgdGFibGUgY3JlYXRpb24KICAgICAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgICAgICBhc3NlcnRTUUxG\ncmFnbm1lbnRzKHNxbCwgIkNSRUFURSBUQUJMRSBCaTFNSlRfQyIsICJDX0lE\nIiwgIkJpMU1KVF9JRCIpOwogICAgICAgICAgICBhc3NlcnRTUUxGcmFnbm1l\nbnRzKHNxbCwgIkNSRUFURSBUQUJMRSBDX0IxTUZLIiwgIkJJMU1GS19JRCIp\nOwogICAgICAgICAgICBhc3NlcnRTUUxGcmFnbm1lbnRzKHNxbCwgIkNSRUFU\nRSBUQUJMRSBVbmkxTUpUX0MiLCAiVW5pMU1KVF9JRCIsICJDX0lEIik7CiAg\nICAgICAgICAgIGFzc2VydFNRTEZyYWdubWVudHMoc3FsLCAiQ1JFQVRFIFRB\nQkxFIENfQjFNRksiLCAiQkkxTUZLX0lEIik7CiAgICAgICAgICAgIGFzc2Vy\ndFNRTEZyYWdubWVudHMoc3FsLCAiQ1JFQVRFIFRBQkxFIENfVTFNRksiLCAi\nVW5pMU1GS19JRCIpOwogICAgICAgICAgICBjcnVkVW5pMU1GSyhlbSk7CiAg\nICAgICAgICAgIGNydWRVbmkxTUpUKGVtKTsKICAgICAgICAgICAgY3J1ZEJp\nMU1GSyhlbSk7CiAgICAgICAgICAgIGNydWRCaTFNSlQoZW0pOwogICAgICAg\nIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGUucHJpbnRT\ndGFja1RyYWNlKCk7CiAgICAgICAgICAgIGZhaWwoIk9uZVRvTWFueSBtYXBw\naW5nIGZhaWxlZCB3aXRoIGV4Y2VwdGlvbiBtZXNzYWdlOiAiICsgZS5nZXRN\nZXNzYWdlKCkpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGVt\nLmNsb3NlKCk7CiAgICAgICAgICAgIG9lbWYuY2xvc2UoKTsgICAgICAgICAg\nICAKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8vIG5vbiBkZWZhdWx0CiAg\nICBwdWJsaWMgdm9pZCBjcnVkVW5pMU1GSyhFbnRpdHlNYW5hZ2VyIGVtKSB7\nCiAgICAgICAgLy9jcmVhdGUKICAgICAgICBVbmlfMVRvTV9GSyB1ID0gbmV3\nIFVuaV8xVG9NX0ZLKCk7CiAgICAgICAgdS5zZXROYW1lKCJ1Iik7CiAgICAg\nICAgTGlzdDxFbnRpdHlDX1UxTUZLPiBjcyA9IG5ldyBBcnJheUxpc3Q8RW50\naXR5Q19VMU1GSz4oKTsKICAgICAgICBFbnRpdHlDX1UxTUZLIGMgPSBuZXcg\nRW50aXR5Q19VMU1GSygpOwogICAgICAgIGMuc2V0TmFtZSgiYyIpOwogICAg\nICAgIGNzLmFkZChjKTsKICAgICAgICB1LnNldEVudGl0eUNzKGNzKTsKICAg\nICAgICBlbS5wZXJzaXN0KHUpOwogICAgICAgIGVtLnBlcnNpc3QoYyk7CiAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVt\nLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAgIC8vdXBkYXRl\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIGNzID0gdS5nZXRFbnRpdHlDcygpOwogICAgICAgIHUuc2V0TmFtZSgibmV3\nTmFtZSIpOwogICAgICAgIEVudGl0eUNfVTFNRksgYzEgPSBuZXcgRW50aXR5\nQ19VMU1GSygpOwogICAgICAgIGMxLnNldE5hbWUoImMxIik7CiAgICAgICAg\nY3MuYWRkKGMxKTsKICAgICAgICBlbS5wZXJzaXN0KGMxKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAg\nIC8vIHVwZGF0ZSBieSByZW1vdmluZyBhIGMgYW5kIHRoZW4gYWRkIHRoaXMg\nYyB0byBhIG5ldyB1CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOwogICAgICAgIEVudGl0eUNfVTFNRksgYzIgPSBjcy5yZW1vdmUoMCk7\nCiAgICAgICAgCiAgICAgICAgVW5pXzFUb01fRksgdTIgPSBuZXcgVW5pXzFU\nb01fRksoKTsKICAgICAgICB1Mi5zZXROYW1lKCJ1MiIpOwogICAgICAgIExp\nc3Q8RW50aXR5Q19VMU1GSz4gY3MyID0gbmV3IEFycmF5TGlzdDxFbnRpdHlD\nX1UxTUZLPigpOwogICAgICAgIGNzMi5hZGQoYzIpOwogICAgICAgIHUyLnNl\ndEVudGl0eUNzKGNzMik7CiAgICAgICAgZW0ucGVyc2lzdCh1Mik7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5j\nbGVhcigpOwogICAgICAgIAogICAgICAgIC8vcXVlcnkKICAgICAgICBRdWVy\neSBxID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCB1IEZST00gVW5pXzFUb01f\nRksgdSB3aGVyZSB1Lm5hbWUgPSAnbmV3TmFtZSciKTsKICAgICAgICBVbmlf\nMVRvTV9GSyB1MSA9IChVbmlfMVRvTV9GSylxLmdldFNpbmdsZVJlc3VsdCgp\nOwogICAgICAgIGFzc2VydEVxdWFscyh1LCB1MSk7CiAgICAgICAgZW0uY2xl\nYXIoKTsKCiAgICAgICAgLy9maW5kCiAgICAgICAgbG9uZyBpZCA9IHUxLmdl\ndElkKCk7CiAgICAgICAgVW5pXzFUb01fRksgZmluZFUxID0gZW0uZmluZChV\nbmlfMVRvTV9GSy5jbGFzcywgaWQpOwogICAgICAgIGFzc2VydEVxdWFscyhm\naW5kVTEsIHUxKTsKICAgICAgICAKICAgICAgICAvL3JlbW92ZQogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5yZW1v\ndmUoZmluZFUxKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOwogICAgICAgIGVtLmNsZWFyKCk7CiAgICB9CiAgICAKICAgIC8vIGRl\nZmF1bHQKICAgIHB1YmxpYyB2b2lkIGNydWRVbmkxTUpUKEVudGl0eU1hbmFn\nZXIgZW0pIHsKICAgICAgICBVbmlfMVRvTV9KVCB1ID0gbmV3IFVuaV8xVG9N\nX0pUKCk7CiAgICAgICAgdS5zZXROYW1lKCJ1Iik7CiAgICAgICAgTGlzdDxF\nbnRpdHlDPiBjcyA9IG5ldyBBcnJheUxpc3Q8RW50aXR5Qz4oKTsKICAgICAg\nICBFbnRpdHlDIGMgPSBuZXcgRW50aXR5QygpOwogICAgICAgIGMuc2V0TmFt\nZSgiYyIpOwogICAgICAgIGNzLmFkZChjKTsKICAgICAgICB1LnNldEVudGl0\neUNzKGNzKTsKICAgICAgICBlbS5wZXJzaXN0KHUpOwogICAgICAgIGVtLnBl\ncnNpc3QoYyk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigp\nOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAg\nICAgCiAgICAgICAgLy91cGRhdGUKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7CiAgICAgICAgY3MgPSB1LmdldEVudGl0eUNzKCk7CiAg\nICAgICAgdS5zZXROYW1lKCJuZXdOYW1lIik7CiAgICAgICAgRW50aXR5QyBj\nMSA9IG5ldyBFbnRpdHlDKCk7CiAgICAgICAgYzEuc2V0TmFtZSgiYzEiKTsK\nICAgICAgICBjcy5hZGQoYzEpOwogICAgICAgIGVtLnBlcnNpc3QoYzEpOwog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAg\nZW0uY2xlYXIoKTsKICAgICAgICAKICAgICAgICAvL3F1ZXJ5CiAgICAgICAg\nUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgdSBGUk9NIFVuaV8x\nVG9NX0pUIHUiKTsKICAgICAgICBVbmlfMVRvTV9KVCB1MSA9IChVbmlfMVRv\nTV9KVClxLmdldFNpbmdsZVJlc3VsdCgpOwogICAgICAgIGFzc2VydEVxdWFs\ncyh1LCB1MSk7CiAgICAgICAgZW0uY2xlYXIoKTsKCiAgICAgICAgLy9maW5k\nCiAgICAgICAgbG9uZyBpZCA9IHUxLmdldElkKCk7CiAgICAgICAgVW5pXzFU\nb01fSlQgdTIgPSBlbS5maW5kKFVuaV8xVG9NX0pULmNsYXNzLCBpZCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKHUsIHUyKTsKICAgICAgICAKICAgICAgICAv\nL3JlbW92ZQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsK\nICAgICAgICBlbS5yZW1vdmUodTIpOwogICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xlYXIoKTsKICAgIH0KICAg\nIAogICAgLy9kZWZhdWx0CiAgICBwdWJsaWMgdm9pZCBjcnVkQmkxTUZLKEVu\ndGl0eU1hbmFnZXIgZW0pIHsKICAgICAgICBCaV8xVG9NX0ZLIGIgPSBuZXcg\nQmlfMVRvTV9GSygpOwogICAgICAgIGIuc2V0TmFtZSgiYiIpOwogICAgICAg\nIExpc3Q8RW50aXR5Q19CMU1GSz4gY3MgPSBuZXcgQXJyYXlMaXN0PEVudGl0\neUNfQjFNRks+KCk7CiAgICAgICAgRW50aXR5Q19CMU1GSyBjID0gbmV3IEVu\ndGl0eUNfQjFNRksoKTsKICAgICAgICBjLnNldE5hbWUoImMiKTsKICAgICAg\nICBjLnNldEJpMW1mayhiKTsKICAgICAgICBjcy5hZGQoYyk7CiAgICAgICAg\nYi5zZXRFbnRpdHlDcyhjcyk7CiAgICAgICAgZW0ucGVyc2lzdChiKTsKICAg\nICAgICBlbS5wZXJzaXN0KGMpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuYmVnaW4oKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOwogICAgICAgIAogICAgICAgIC8vdXBkYXRlCiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGNzID0gYi5nZXRFbnRp\ndHlDcygpOwogICAgICAgIGIuc2V0TmFtZSgibmV3TmFtZSIpOwogICAgICAg\nIEVudGl0eUNfQjFNRksgYzEgPSBuZXcgRW50aXR5Q19CMU1GSygpOwogICAg\nICAgIGMxLnNldE5hbWUoImMxIik7CiAgICAgICAgY3MuYWRkKGMxKTsKICAg\nICAgICBjMS5zZXRCaTFtZmsoYik7CiAgICAgICAgZW0ucGVyc2lzdChjMSk7\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAg\nICBlbS5jbGVhcigpOwogICAgICAgIAogICAgICAgIC8vcXVlcnkKICAgICAg\nICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCBiIEZST00gQmlf\nMVRvTV9GSyBiIik7CiAgICAgICAgQmlfMVRvTV9GSyBiMSA9IChCaV8xVG9N\nX0ZLKXEuZ2V0U2luZ2xlUmVzdWx0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKGIsIGIxKTsKICAgICAgICBlbS5jbGVhcigpOwoKICAgICAgICAvL2ZpbmQK\nICAgICAgICBsb25nIGlkID0gYjEuZ2V0SWQoKTsKICAgICAgICBCaV8xVG9N\nX0ZLIGIyID0gZW0uZmluZChCaV8xVG9NX0ZLLmNsYXNzLCBpZCk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKGIsIGIyKTsKICAgICAgICAKICAgICAgICAvL3Jl\nbW92ZQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAg\nICAgICBlbS5yZW1vdmUoYjIpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xlYXIoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBjcnVkQmkxTUpUKEVudGl0eU1hbmFnZXIgZW0pIHsKICAg\nICAgICBCaV8xVG9NX0pUIGIgPSBuZXcgQmlfMVRvTV9KVCgpOwogICAgICAg\nIGIuc2V0TmFtZSgiYiIpOwogICAgICAgIExpc3Q8RW50aXR5Q19CMU1KVD4g\nY3MgPSBuZXcgQXJyYXlMaXN0PEVudGl0eUNfQjFNSlQ+KCk7CiAgICAgICAg\nRW50aXR5Q19CMU1KVCBjID0gbmV3IEVudGl0eUNfQjFNSlQoKTsKICAgICAg\nICBjLnNldE5hbWUoImMiKTsKICAgICAgICBjLnNldEJpMW1qdChiKTsKICAg\nICAgICBjcy5hZGQoYyk7CiAgICAgICAgYi5zZXRFbnRpdHlDcyhjcyk7CiAg\nICAgICAgZW0ucGVyc2lzdChiKTsKICAgICAgICBlbS5wZXJzaXN0KGMpOwog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwoKICAgICAgICAvL3VwZGF0\nZQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAg\nICBjcyA9IGIuZ2V0RW50aXR5Q3MoKTsKICAgICAgICBiLnNldE5hbWUoIm5l\nd05hbWUiKTsKICAgICAgICBFbnRpdHlDX0IxTUpUIGMxID0gbmV3IEVudGl0\neUNfQjFNSlQoKTsKICAgICAgICBjMS5zZXROYW1lKCJjMSIpOwogICAgICAg\nIGNzLmFkZChjMSk7CiAgICAgICAgYzEuc2V0QmkxbWp0KGIpOwogICAgICAg\nIGVtLnBlcnNpc3QoYzEpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nY29tbWl0KCk7CiAgICAgICAgZW0uY2xlYXIoKTsKICAgICAgICAKICAgICAg\nICAvL3F1ZXJ5CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJT\nRUxFQ1QgYiBGUk9NIEJpXzFUb01fSlQgYiB3aGVyZSBiLm5hbWUgPSAnbmV3\nTmFtZSciKTsKICAgICAgICBCaV8xVG9NX0pUIGIxID0gKEJpXzFUb01fSlQp\ncS5nZXRTaW5nbGVSZXN1bHQoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYiwg\nYjEpOwogICAgICAgIGVtLmNsZWFyKCk7CgogICAgICAgIC8vcXVlcnkKICAg\nICAgICBxID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCBjIEZST00gRW50aXR5\nQ19CMU1KVCBjIik7CiAgICAgICAgTGlzdDxFbnRpdHlDX0IxTUpUPiBjczEg\nPSBxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMiwg\nY3MxLnNpemUoKSk7CiAgICAgICAgZW0uY2xlYXIoKTsKICAgICAgICAgICAg\nICAgIAogICAgICAgIC8vZmluZAogICAgICAgIGxvbmcgaWQgPSBiMS5nZXRJ\nZCgpOwogICAgICAgIEJpXzFUb01fSlQgYjIgPSBlbS5maW5kKEJpXzFUb01f\nSlQuY2xhc3MsIGlkKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYiwgYjIpOwog\nICAgICAgIAogICAgICAgIC8vcmVtb3ZlCiAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnJlbW92ZShiMik7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5j\nbGVhcigpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0T25lVG9N\nYW55TWFwUmVsYXRpb24oKSB7CiAgICAgICAgTGlzdDxDbGFzczw/Pj4gdHlw\nZXMgPSBuZXcgQXJyYXlMaXN0PENsYXNzPD8+PigpOwogICAgICAgIHR5cGVz\nLmFkZChFbnRpdHlDX1UxTV9NYXBfRksuY2xhc3MpOwogICAgICAgIHR5cGVz\nLmFkZChVbmlfMVRvTV9NYXBfRksuY2xhc3MpOwogICAgICAgIHR5cGVzLmFk\nZChFbnRpdHlDX0IxTV9NYXBfSlQuY2xhc3MpOwogICAgICAgIHR5cGVzLmFk\nZChCaV8xVG9NX01hcF9KVC5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKEVu\ndGl0eUNfVTFNX01hcF9SZWxLZXlfRksuY2xhc3MpOwogICAgICAgIHR5cGVz\nLmFkZChVbmlfMVRvTV9NYXBfUmVsS2V5X0ZLLmNsYXNzKTsKICAgICAgICB0\neXBlcy5hZGQoRW50aXR5Qy5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKEVu\ndGl0eUNfQjFNX01hcF9SZWxLZXlfSlQuY2xhc3MpOwogICAgICAgIHR5cGVz\nLmFkZChCaV8xVG9NX01hcF9SZWxLZXlfSlQuY2xhc3MpOwogICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBlbWYgPSBjcmVhdGVFTUYy\nXzAodHlwZXMpOwogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3Jl\nYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIAogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIC8vIHRyaWdnZXIgdGFibGUgY3JlYXRpb24KICAgICAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgICAgICBhc3Nl\ncnRTUUxGcmFnbm1lbnRzKHNxbCwgIkNSRUFURSBUQUJMRSBDX1UxTV9NYXBf\nRksiLCAiVW5pMU1GS19JRCIsICJLRVkwIik7CiAgICAgICAgICAgIGFzc2Vy\ndFNRTEZyYWdubWVudHMoc3FsLCAiQ1JFQVRFIFRBQkxFIEJpMU1fTWFwX0pU\nX0MiLCAiQl9JRCIsICJDX0lEIik7CiAgICAgICAgICAgIGFzc2VydFNRTEZy\nYWdubWVudHMoc3FsLCAiQ1JFQVRFIFRBQkxFIENfVTFNX01hcF9SZWxLZXlf\nRksiLCAiVW5pMU1GS19JRCIpOwogICAgICAgICAgICBhc3NlcnRTUUxGcmFn\nbm1lbnRzKHNxbCwgIkNSRUFURSBUQUJMRSBCaTFNX01hcF9SZWxLZXlfSlRf\nQyIsICJCX0lEIiwgIkNfSUQiKTsKICAgICAgICAgICAgY3J1ZFVuaTFNTWFw\nRksoZW0pOwogICAgICAgICAgICBjcnVkQmkxTU1hcEpUKGVtKTsKICAgICAg\nICAgICAgY3J1ZFVuaTFNTWFwUmVsS2V5RksoZW0pOwogICAgICAgICAgICBj\ncnVkQmkxTU1hcFJlbEtleUpUKGVtKTsKICAgICAgICB9IGNhdGNoIChFeGNl\ncHRpb24gZSkgewogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwog\nICAgICAgICAgICBmYWlsKCJPbmVUb01hbnkgbWFwcGluZyBmYWlsZWQgd2l0\naCBleGNlcHRpb24gbWVzc2FnZTogIiArIGUuZ2V0TWVzc2FnZSgpKTsKICAg\nICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBlbS5jbG9zZSgpOwogICAg\nICAgICAgICBlbWYuY2xvc2UoKTsgICAgICAgICAgICAKICAgICAgICB9CiAg\nICB9CgogICAgcHVibGljIHZvaWQgY3J1ZFVuaTFNTWFwRksoRW50aXR5TWFu\nYWdlciBlbSkgewogICAgICAgIC8vY3JlYXRlCiAgICAgICAgVW5pXzFUb01f\nTWFwX0ZLIHUgPSBuZXcgVW5pXzFUb01fTWFwX0ZLKCk7CiAgICAgICAgdS5z\nZXROYW1lKCJ1Iik7CiAgICAgICAgTWFwPFN0cmluZywgRW50aXR5Q19VMU1f\nTWFwX0ZLPiBjcyA9IG5ldyBIYXNoTWFwPFN0cmluZywgRW50aXR5Q19VMU1f\nTWFwX0ZLPigpOwogICAgICAgIEVudGl0eUNfVTFNX01hcF9GSyBjMSA9IG5l\ndyBFbnRpdHlDX1UxTV9NYXBfRksoKTsKICAgICAgICBjMS5zZXROYW1lKCJj\nMSIpOwogICAgICAgIGNzLnB1dChjMS5nZXROYW1lKCksIGMxKTsKICAgICAg\nICBFbnRpdHlDX1UxTV9NYXBfRksgYzIgPSBuZXcgRW50aXR5Q19VMU1fTWFw\nX0ZLKCk7CiAgICAgICAgYzIuc2V0TmFtZSgiYzIiKTsKICAgICAgICBjcy5w\ndXQoYzIuZ2V0TmFtZSgpLCBjMik7CiAgICAgICAgdS5zZXRFbnRpdHlDcyhj\ncyk7CiAgICAgICAgCiAgICAgICAgZW0ucGVyc2lzdCh1KTsKICAgICAgICBl\nbS5wZXJzaXN0KGMxKTsKICAgICAgICBlbS5wZXJzaXN0KGMyKTsKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy91cGRhdGUgYnkg\nYWRkaW5nIGEgbmV3IEMKICAgICAgICBjcyA9IHUuZ2V0RW50aXR5Q3MoKTsK\nICAgICAgICB1LnNldE5hbWUoIm5ld05hbWUiKTsKICAgICAgICBFbnRpdHlD\nX1UxTV9NYXBfRksgYzMgPSBuZXcgRW50aXR5Q19VMU1fTWFwX0ZLKCk7CiAg\nICAgICAgYzMuc2V0TmFtZSgiYzMiKTsKICAgICAgICBjcy5wdXQoYzMuZ2V0\nTmFtZSgpLCBjMyk7CiAgICAgICAgZW0ucGVyc2lzdChjMyk7CgogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAgIC8vIHVw\nZGF0ZSBieSByZW1vdmluZyBhIGMgYW5kIHRoZW4gYWRkIHRoaXMgYyB0byBh\nIG5ldyB1CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwog\nICAgICAgIEVudGl0eUNfVTFNX01hcF9GSyBjNCA9IGNzLnJlbW92ZSgiYzEi\nKTsKICAgICAgICAKICAgICAgICBVbmlfMVRvTV9NYXBfRksgdTIgPSBuZXcg\nVW5pXzFUb01fTWFwX0ZLKCk7CiAgICAgICAgdTIuc2V0TmFtZSgidTIiKTsK\nICAgICAgICBNYXA8U3RyaW5nLCBFbnRpdHlDX1UxTV9NYXBfRks+IGNzMiA9\nIG5ldyBIYXNoTWFwPFN0cmluZywgRW50aXR5Q19VMU1fTWFwX0ZLPigpOwog\nICAgICAgIGNzMi5wdXQoYzQuZ2V0TmFtZSgpLCBjNCk7CiAgICAgICAgdTIu\nc2V0RW50aXR5Q3MoY3MyKTsKICAgICAgICBlbS5wZXJzaXN0KHUyKTsKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVt\nLmNsZWFyKCk7CiAgICAgICAgCiAgICAgICAgLy9xdWVyeQogICAgICAgIFF1\nZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIHUgRlJPTSBVbmlfMVRv\nTV9NYXBfRksgdSB3aGVyZSB1Lm5hbWU9J25ld05hbWUnIik7CiAgICAgICAg\nVW5pXzFUb01fTWFwX0ZLIHUxID0gKFVuaV8xVG9NX01hcF9GSylxLmdldFNp\nbmdsZVJlc3VsdCgpOwogICAgICAgIGFzc2VydEVxdWFscyh1LCB1MSk7CiAg\nICAgICAgZW0uY2xlYXIoKTsKCiAgICAgICAgLy9maW5kCiAgICAgICAgbG9u\nZyBpZCA9IHUxLmdldElkKCk7CiAgICAgICAgVW5pXzFUb01fTWFwX0ZLIGZp\nbmRVID0gZW0uZmluZChVbmlfMVRvTV9NYXBfRksuY2xhc3MsIGlkKTsKICAg\nICAgICBhc3NlcnRFcXVhbHModSwgZmluZFUpOwogICAgICAgIAogICAgICAg\nIC8vcmVtb3ZlCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigp\nOwogICAgICAgIGVtLnJlbW92ZShmaW5kVSk7CiAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5jb21taXQoKTsKICAgIH0KICAgIAogICAgcHVibGljIHZv\naWQgY3J1ZEJpMU1NYXBKVChFbnRpdHlNYW5hZ2VyIGVtKSB7CiAgICAgICAg\nQmlfMVRvTV9NYXBfSlQgYiA9IG5ldyBCaV8xVG9NX01hcF9KVCgpOwogICAg\nICAgIGIuc2V0TmFtZSgiYiIpOwogICAgICAgIE1hcDxTdHJpbmcsIEVudGl0\neUNfQjFNX01hcF9KVD4gY3MgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIEVudGl0\neUNfQjFNX01hcF9KVD4oKTsKICAgICAgICBFbnRpdHlDX0IxTV9NYXBfSlQg\nYyA9IG5ldyBFbnRpdHlDX0IxTV9NYXBfSlQoKTsKICAgICAgICBjLnNldE5h\nbWUoImMiKTsKICAgICAgICBjLnNldEJpMW1qdChiKTsKICAgICAgICBjcy5w\ndXQoYy5nZXROYW1lKCksIGMpOwogICAgICAgIGIuc2V0RW50aXR5Q3MoY3Mp\nOwogICAgICAgIGVtLnBlcnNpc3QoYik7CiAgICAgICAgZW0ucGVyc2lzdChj\nKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy91\ncGRhdGUKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAg\nICAgICAgY3MgPSBiLmdldEVudGl0eUNzKCk7CiAgICAgICAgYi5zZXROYW1l\nKCJuZXdOYW1lIik7CiAgICAgICAgRW50aXR5Q19CMU1fTWFwX0pUIGMxID0g\nbmV3IEVudGl0eUNfQjFNX01hcF9KVCgpOwogICAgICAgIGMxLnNldE5hbWUo\nImMxIik7CiAgICAgICAgY3MucHV0KGMxLmdldE5hbWUoKSwgYzEpOwogICAg\nICAgIGMxLnNldEJpMW1qdChiKTsKICAgICAgICBlbS5wZXJzaXN0KGMxKTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAg\nIGVtLmNsZWFyKCk7CiAgICAgICAgCiAgICAgICAgLy9xdWVyeQogICAgICAg\nIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIGIgRlJPTSBCaV8x\nVG9NX01hcF9KVCBiIik7CiAgICAgICAgQmlfMVRvTV9NYXBfSlQgYjEgPSAo\nQmlfMVRvTV9NYXBfSlQpcS5nZXRTaW5nbGVSZXN1bHQoKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoYiwgYjEpOwogICAgICAgIGVtLmNsZWFyKCk7CgogICAg\nICAgIC8vIHF1ZXJ5IHRoZSBvd25lcgogICAgICAgIHEgPSBlbS5jcmVhdGVR\ndWVyeSgiU0VMRUNUIGMgRlJPTSBFbnRpdHlDX0IxTV9NYXBfSlQgYyIpOwog\nICAgICAgIExpc3Q8RW50aXR5Q19CMU1fTWFwX0pUPiBjczEgPSBxLmdldFJl\nc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMiwgY3Muc2l6ZSgp\nKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIAogICAgICAgIC8vZmlu\nZAogICAgICAgIGxvbmcgaWQgPSBiMS5nZXRJZCgpOwogICAgICAgIEJpXzFU\nb01fTWFwX0pUIGIyID0gZW0uZmluZChCaV8xVG9NX01hcF9KVC5jbGFzcywg\naWQpOwogICAgICAgIGFzc2VydEVxdWFscyhiLCBiMik7CiAgICAgICAgCiAg\nICAgICAgLy9yZW1vdmUKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJl\nZ2luKCk7CiAgICAgICAgZW0ucmVtb3ZlKGIyKTsKICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgfQogICAgCiAgICBwdWJsaWMg\ndm9pZCBjcnVkVW5pMU1NYXBSZWxLZXlGSyhFbnRpdHlNYW5hZ2VyIGVtKSB7\nCiAgICAgICAgLy9jcmVhdGUKICAgICAgICBVbmlfMVRvTV9NYXBfUmVsS2V5\nX0ZLIHUgPSBuZXcgVW5pXzFUb01fTWFwX1JlbEtleV9GSygpOwogICAgICAg\nIHUuc2V0TmFtZSgidSIpOwogICAgICAgIE1hcDxFbnRpdHlDLCBFbnRpdHlD\nX1UxTV9NYXBfUmVsS2V5X0ZLPiBjcyA9IG5ldyBIYXNoTWFwPEVudGl0eUMs\nIEVudGl0eUNfVTFNX01hcF9SZWxLZXlfRks+KCk7CiAgICAgICAgRW50aXR5\nQ19VMU1fTWFwX1JlbEtleV9GSyBjMSA9IG5ldyBFbnRpdHlDX1UxTV9NYXBf\nUmVsS2V5X0ZLKCk7CiAgICAgICAgYzEuc2V0TmFtZSgiYzEiKTsKICAgICAg\nICBFbnRpdHlDIGNLZXkxID0gbmV3IEVudGl0eUMoKTsKICAgICAgICBjS2V5\nMS5zZXROYW1lKCJjS2V5MSIpOwogICAgICAgIGNzLnB1dChjS2V5MSwgYzEp\nOwogICAgICAgIEVudGl0eUNfVTFNX01hcF9SZWxLZXlfRksgYzIgPSBuZXcg\nRW50aXR5Q19VMU1fTWFwX1JlbEtleV9GSygpOwogICAgICAgIGMyLnNldE5h\nbWUoImMyIik7CiAgICAgICAgRW50aXR5QyBjS2V5MiA9IG5ldyBFbnRpdHlD\nKCk7CiAgICAgICAgY0tleTIuc2V0TmFtZSgiY0tleTIiKTsKICAgICAgICBj\ncy5wdXQoY0tleTIsIGMxKTsKICAgICAgICBjcy5wdXQoY0tleTIsIGMyKTsK\nICAgICAgICB1LnNldEVudGl0eUNzKGNzKTsKICAgICAgICBlbS5wZXJzaXN0\nKHUpOwogICAgICAgIGVtLnBlcnNpc3QoYzEpOwogICAgICAgIGVtLnBlcnNp\nc3QoYzIpOwogICAgICAgIGVtLnBlcnNpc3QoY0tleTEpOwogICAgICAgIGVt\nLnBlcnNpc3QoY0tleTIpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgp\nOwoKICAgICAgICAvL3VwZGF0ZSBieSBhZGRpbmcgYSBuZXcgQwogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBjcyA9IHUu\nZ2V0RW50aXR5Q3MoKTsKICAgICAgICB1LnNldE5hbWUoIm5ld05hbWUiKTsK\nICAgICAgICBFbnRpdHlDX1UxTV9NYXBfUmVsS2V5X0ZLIGMzID0gbmV3IEVu\ndGl0eUNfVTFNX01hcF9SZWxLZXlfRksoKTsKICAgICAgICBjMy5zZXROYW1l\nKCJjMyIpOwogICAgICAgIEVudGl0eUMgY0tleTMgPSBuZXcgRW50aXR5Qygp\nOwogICAgICAgIGNLZXkzLnNldE5hbWUoImNLZXkzIik7CiAgICAgICAgY3Mu\ncHV0KGNLZXkzLCBjMyk7CiAgICAgICAgZW0ucGVyc2lzdChjMyk7CiAgICAg\nICAgZW0ucGVyc2lzdChjS2V5Myk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rp\nb24oKS5jb21taXQoKTsKICAgICAgICAKICAgICAgICAvLyB1cGRhdGUgYnkg\ncmVtb3ZpbmcgYSBjIGFuZCB0aGVuIGFkZCB0aGlzIGMgdG8gYSBuZXcgdQog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBF\nbnRpdHlDX1UxTV9NYXBfUmVsS2V5X0ZLIGM0ID0gY3MucmVtb3ZlKGNLZXkx\nKTsKICAgICAgICAKICAgICAgICBVbmlfMVRvTV9NYXBfUmVsS2V5X0ZLIHUy\nID0gbmV3IFVuaV8xVG9NX01hcF9SZWxLZXlfRksoKTsKICAgICAgICB1Mi5z\nZXROYW1lKCJ1MiIpOwogICAgICAgIE1hcDxFbnRpdHlDLCBFbnRpdHlDX1Ux\nTV9NYXBfUmVsS2V5X0ZLPiBjczIgPSBuZXcgSGFzaE1hcDxFbnRpdHlDLCBF\nbnRpdHlDX1UxTV9NYXBfUmVsS2V5X0ZLPigpOwogICAgICAgIGNzMi5wdXQo\nY0tleTEsIGM0KTsKICAgICAgICB1Mi5zZXRFbnRpdHlDcyhjczIpOwogICAg\nICAgIGVtLnBlcnNpc3QodTIpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xlYXIoKTsKICAgICAgICAKICAg\nICAgICAvL3F1ZXJ5CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5\nKCJTRUxFQ1QgdSBGUk9NIFVuaV8xVG9NX01hcF9SZWxLZXlfRksgdSB3aGVy\nZSB1Lm5hbWU9J25ld05hbWUnIik7CiAgICAgICAgVW5pXzFUb01fTWFwX1Jl\nbEtleV9GSyB1MSA9IChVbmlfMVRvTV9NYXBfUmVsS2V5X0ZLKXEuZ2V0U2lu\nZ2xlUmVzdWx0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHUsIHUxKTsKICAg\nICAgICBlbS5jbGVhcigpOwoKICAgICAgICAvL2ZpbmQKICAgICAgICBsb25n\nIGlkID0gdTEuZ2V0SWQoKTsKICAgICAgICBVbmlfMVRvTV9NYXBfUmVsS2V5\nX0ZLIGZpbmRVID0gZW0uZmluZChVbmlfMVRvTV9NYXBfUmVsS2V5X0ZLLmNs\nYXNzLCBpZCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHUsIGZpbmRVKTsKICAg\nICAgICAKICAgICAgICAvL3JlbW92ZQogICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5yZW1vdmUoZmluZFUpOwogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgY3J1ZEJpMU1NYXBSZWxLZXlKVChFbnRpdHlNYW5hZ2Vy\nIGVtKSB7CiAgICAgICAgQmlfMVRvTV9NYXBfUmVsS2V5X0pUIGIgPSBuZXcg\nQmlfMVRvTV9NYXBfUmVsS2V5X0pUKCk7CiAgICAgICAgYi5zZXROYW1lKCJi\nIik7CiAgICAgICAgTWFwPEVudGl0eUMsIEVudGl0eUNfQjFNX01hcF9SZWxL\nZXlfSlQ+IGNzID0gbmV3IEhhc2hNYXA8RW50aXR5QywgRW50aXR5Q19CMU1f\nTWFwX1JlbEtleV9KVD4oKTsKICAgICAgICBFbnRpdHlDX0IxTV9NYXBfUmVs\nS2V5X0pUIGMgPSBuZXcgRW50aXR5Q19CMU1fTWFwX1JlbEtleV9KVCgpOwog\nICAgICAgIGMuc2V0TmFtZSgiYyIpOwogICAgICAgIGMuc2V0QmkxbWp0KGIp\nOwogICAgICAgIEVudGl0eUMgY0tleSA9IG5ldyBFbnRpdHlDKCk7CiAgICAg\nICAgY0tleS5zZXROYW1lKCJjS2V5Iik7CiAgICAgICAgY3MucHV0KGNLZXks\nIGMpOwogICAgICAgIGIuc2V0RW50aXR5Q3MoY3MpOwogICAgICAgIGVtLnBl\ncnNpc3QoYik7CiAgICAgICAgZW0ucGVyc2lzdChjKTsKICAgICAgICBlbS5w\nZXJzaXN0KGNLZXkpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwoK\nICAgICAgICAvL3VwZGF0ZQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsKICAgICAgICBjcyA9IGIuZ2V0RW50aXR5Q3MoKTsKICAgICAg\nICBiLnNldE5hbWUoIm5ld05hbWUiKTsKICAgICAgICBFbnRpdHlDX0IxTV9N\nYXBfUmVsS2V5X0pUIGMxID0gbmV3IEVudGl0eUNfQjFNX01hcF9SZWxLZXlf\nSlQoKTsKICAgICAgICBjMS5zZXROYW1lKCJjMSIpOwogICAgICAgIEVudGl0\neUMgY0tleTEgPSBuZXcgRW50aXR5QygpOwogICAgICAgIGNLZXkxLnNldE5h\nbWUoImNLZXkxIik7CiAgICAgICAgY3MucHV0KGNLZXkxLCBjMSk7CiAgICAg\nICAgYzEuc2V0QmkxbWp0KGIpOwogICAgICAgIGVtLnBlcnNpc3QoYzEpOwog\nICAgICAgIGVtLnBlcnNpc3QoY0tleTEpOwogICAgICAgIGVtLmdldFRyYW5z\nYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xlYXIoKTsKICAgICAg\nICAKICAgICAgICAvL3F1ZXJ5CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0\nZVF1ZXJ5KCJTRUxFQ1QgYiBGUk9NIEJpXzFUb01fTWFwX1JlbEtleV9KVCBi\nIik7CiAgICAgICAgQmlfMVRvTV9NYXBfUmVsS2V5X0pUIGIxID0gKEJpXzFU\nb01fTWFwX1JlbEtleV9KVClxLmdldFNpbmdsZVJlc3VsdCgpOwogICAgICAg\nIGFzc2VydEVxdWFscyhiLCBiMSk7CiAgICAgICAgZW0uY2xlYXIoKTsKCiAg\nICAgICAgLy8gcXVlcnkgdGhlIG93bmVyCiAgICAgICAgcSA9IGVtLmNyZWF0\nZVF1ZXJ5KCJTRUxFQ1QgYyBGUk9NIEVudGl0eUNfQjFNX01hcF9SZWxLZXlf\nSlQgYyB3aGVyZSBjLm5hbWUgPSAnYyciKTsKICAgICAgICBFbnRpdHlDX0Ix\nTV9NYXBfUmVsS2V5X0pUIG5ld0MgPSAoRW50aXR5Q19CMU1fTWFwX1JlbEtl\neV9KVClxLmdldFNpbmdsZVJlc3VsdCgpOwogICAgICAgIGFzc2VydEVxdWFs\ncyhuZXdDLCBjKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIAogICAg\nICAgIC8vZmluZAogICAgICAgIGxvbmcgaWQgPSBiMS5nZXRJZCgpOwogICAg\nICAgIEJpXzFUb01fTWFwX1JlbEtleV9KVCBiMiA9IGVtLmZpbmQoQmlfMVRv\nTV9NYXBfUmVsS2V5X0pULmNsYXNzLCBpZCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKGIsIGIyKTsKICAgICAgICAKICAgICAgICAvL3JlbW92ZQogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5yZW1v\ndmUoYjIpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFVuaU1hbnlUb09uZVVzaW5n\nSm9pblRhYmxlKCkgewogICAgICAgIExpc3Q8Q2xhc3M8Pz4+IHR5cGVzID0g\nbmV3IEFycmF5TGlzdDxDbGFzczw/Pj4oKTsKICAgICAgICB0eXBlcy5hZGQo\nRW50aXR5Qy5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKFVuaV9NVG8xX0pU\nLmNsYXNzKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlT\nUEkgZW1mID0gY3JlYXRlRU1GMl8wKHR5cGVzKTsKICAgICAgICBFbnRpdHlN\nYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICAKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyB0cmlnZ2VyIHRhYmxl\nIGNyZWF0aW9uCiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsKICAgICAgICAgICAgYXNzZXJ0U1FMRnJhZ25tZW50cyhzcWwsICJDUkVB\nVEUgVEFCTEUgVW5pTTFKVF9DIiwgIlVfSUQiLCAiQ19JRCIpOwogICAgICAg\nICAgICBjcnVkVW5pTTFKVChlbSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0\naW9uIGUpIHsKICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAg\nICAgICAgICAgZmFpbCgiTWFueVRvT25lIG1hcHBpbmcgZmFpbGVkIHdpdGgg\nZXhjZXB0aW9uIG1lc3NhZ2U6ICIgKyBlLmdldE1lc3NhZ2UoKSk7CiAgICAg\nICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgZW0uY2xvc2UoKTsKICAgICAg\nICAgICAgZW1mLmNsb3NlKCk7ICAgICAgICAgICAgCiAgICAgICAgfQogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCBjcnVkVW5pTTFKVChFbnRpdHlNYW5h\nZ2VyIGVtKSB7CiAgICAgICAgLy9jcmVhdGUKICAgICAgICBVbmlfTVRvMV9K\nVCB1ID0gbmV3IFVuaV9NVG8xX0pUKCk7CiAgICAgICAgdS5zZXROYW1lKCJ1\nIik7CgogICAgICAgIFVuaV9NVG8xX0pUIHUxID0gbmV3IFVuaV9NVG8xX0pU\nKCk7CiAgICAgICAgdTEuc2V0TmFtZSgidTEiKTsKCiAgICAgICAgRW50aXR5\nQyBjMSA9IG5ldyBFbnRpdHlDKCk7CiAgICAgICAgYzEuc2V0TmFtZSgiYzEi\nKTsKICAgICAgICB1LnNldEVudGl0eUMoYzEpOwogICAgICAgIHUxLnNldEVu\ndGl0eUMoYzEpOwogICAgICAgIAogICAgICAgIGVtLnBlcnNpc3QodSk7CiAg\nICAgICAgZW0ucGVyc2lzdCh1MSk7CiAgICAgICAgZW0ucGVyc2lzdChjMSk7\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAgIC8vdXBk\nYXRlIGJ5IGNoYW5naW5nIHRoZSBtYW55LXRvLW9uZSB2YWx1ZSAKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgdS5zZXRO\nYW1lKCJ1X25ldyIpOwogICAgICAgIEVudGl0eUMgYzMgPSBuZXcgRW50aXR5\nQygpOwogICAgICAgIGMzLnNldE5hbWUoImMzIik7CiAgICAgICAgdS5zZXRF\nbnRpdHlDKGMzKTsKICAgICAgICBlbS5wZXJzaXN0KGMzKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAg\nIC8vIHVwZGF0ZSBiZSByZW1vdmluZyB0aGUgbWFueS10by1vbmUgdmFsdWUK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAg\ndS5zZXRFbnRpdHlDKG51bGwpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuY29tbWl0KCk7CiAgICAgICAgCiAgICAgICAgLy9xdWVyeQogICAgICAg\nIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIHUgRlJPTSBVbmlf\nTVRvMV9KVCB1IHdoZXJlIHUubmFtZT0ndV9uZXcnIik7CiAgICAgICAgVW5p\nX01UbzFfSlQgcXVlcnlVID0gKFVuaV9NVG8xX0pUKXEuZ2V0U2luZ2xlUmVz\ndWx0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHUsIHF1ZXJ5VSk7CiAgICAg\nICAgZW0uY2xlYXIoKTsKCiAgICAgICAgLy9maW5kCiAgICAgICAgbG9uZyBp\nZCA9IHUxLmdldElkKCk7CiAgICAgICAgVW5pX01UbzFfSlQgZmluZFUgPSBl\nbS5maW5kKFVuaV9NVG8xX0pULmNsYXNzLCBpZCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKHUxLCBmaW5kVSk7CiAgICAgICAgCiAgICAgICAgLy9yZW1vdmUK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAg\nZW0ucmVtb3ZlKGZpbmRVKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigp\nLmNvbW1pdCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RPbmVUb09u\nZVVzaW5nSm9pblRhYmxlKCkgewogICAgICAgIExpc3Q8Q2xhc3M8Pz4+IHR5\ncGVzID0gbmV3IEFycmF5TGlzdDxDbGFzczw/Pj4oKTsKICAgICAgICB0eXBl\ncy5hZGQoRW50aXR5Q19CMTFKVC5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRk\nKEVudGl0eUNfVTExSlQuY2xhc3MpOwogICAgICAgIHR5cGVzLmFkZChCaV8x\nVG8xX0pULmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQoVW5pXzFUbzFfSlQu\nY2xhc3MpOwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQ\nSSBlbWYgPSBjcmVhdGVFTUYyXzAodHlwZXMpOwogICAgICAgIEVudGl0eU1h\nbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAg\nIAogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIHRyaWdnZXIgdGFibGUg\nY3JlYXRpb24KICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOwogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgp\nOwogICAgICAgICAgICBhc3NlcnRTUUxGcmFnbm1lbnRzKHNxbCwgIkNSRUFU\nRSBUQUJMRSBCaTExSlRfQyIsICJCX0lEIiwgIkNfSUQiKTsKICAgICAgICAg\nICAgYXNzZXJ0U1FMRnJhZ25tZW50cyhzcWwsICJDUkVBVEUgVEFCTEUgVW5p\nMTFKVF9DIiwgIlVfSUQiLCAiQ19JRCIpOwogICAgICAgICAgICBjcnVkQmkx\nMUpUKGVtKTsKICAgICAgICAgICAgY3J1ZFVuaTExSlQoZW0pOwogICAgICAg\nIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGUucHJpbnRT\ndGFja1RyYWNlKCk7CiAgICAgICAgICAgIGZhaWwoIk9uZVRvT25lIG1hcHBp\nbmcgZmFpbGVkIHdpdGggZXhjZXB0aW9uIG1lc3NhZ2U6ICIgKyBlLmdldE1l\nc3NhZ2UoKSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgZW0u\nY2xvc2UoKTsKICAgICAgICAgICAgZW1mLmNsb3NlKCk7ICAgICAgICAgICAg\nCiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNydWRVbmkxMUpU\nKEVudGl0eU1hbmFnZXIgZW0pIHsKICAgICAgICBVbmlfMVRvMV9KVCB1ID0g\nbmV3IFVuaV8xVG8xX0pUKCk7CiAgICAgICAgdS5zZXROYW1lKCJ1bmkxbWp0\nIik7CgogICAgICAgIEVudGl0eUNfVTExSlQgYzEgPSBuZXcgRW50aXR5Q19V\nMTFKVCgpOwogICAgICAgIGMxLnNldE5hbWUoImMxIik7CiAgICAgICAgdS5z\nZXRFbnRpdHlDKGMxKTsKCiAgICAgICAgZW0ucGVyc2lzdCh1KTsKICAgICAg\nICBlbS5wZXJzaXN0KGMxKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigp\nLmJlZ2luKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsKICAgICAgICAKICAgICAgICAvL3VwZGF0ZSBieSBzZXR0aW5nIHRvIGEg\nbmV3IEMKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAg\nICAgICAgdS5zZXROYW1lKCJ1bmkxbWp0X25ldyIpOwogICAgICAgIEVudGl0\neUNfVTExSlQgbmV3QyA9IG5ldyBFbnRpdHlDX1UxMUpUKCk7CiAgICAgICAg\nbmV3Qy5zZXROYW1lKCJuZXdDIik7CiAgICAgICAgdS5zZXRFbnRpdHlDKG5l\nd0MpOwogICAgICAgIGVtLnBlcnNpc3QobmV3Qyk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICAKICAgICAgICAvLyB1\ncGRhdGUgYnkgc2V0dGluZyB0byBudWxsCiAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwogICAgICAgIHUuc2V0RW50aXR5QyhudWxsKTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAg\nIGVtLmNsZWFyKCk7CiAgICAgICAgCiAgICAgICAgLy9xdWVyeQogICAgICAg\nIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIHUgRlJPTSBVbmlf\nMVRvMV9KVCB1IHdoZXJlIHUubmFtZSA9ICd1bmkxbWp0X25ldyciKTsKICAg\nICAgICBVbmlfMVRvMV9KVCB1MSA9IChVbmlfMVRvMV9KVClxLmdldFNpbmds\nZVJlc3VsdCgpOwogICAgICAgIGFzc2VydEVxdWFscyh1LCB1MSk7CiAgICAg\nICAgZW0uY2xlYXIoKTsKCiAgICAgICAgLy9maW5kCiAgICAgICAgbG9uZyBp\nZCA9IHUxLmdldElkKCk7CiAgICAgICAgVW5pXzFUbzFfSlQgZmluZFUxID0g\nZW0uZmluZChVbmlfMVRvMV9KVC5jbGFzcywgaWQpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyh1LCBmaW5kVTEpOwogICAgICAgIAogICAgICAgIC8vcmVtb3Zl\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIGVtLnJlbW92ZShmaW5kVTEpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuY29tbWl0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgY3J1ZEJpMTFK\nVChFbnRpdHlNYW5hZ2VyIGVtKSB7CiAgICAgICAgQmlfMVRvMV9KVCBiID0g\nbmV3IEJpXzFUbzFfSlQoKTsKICAgICAgICBiLnNldE5hbWUoImJpMTFmayIp\nOwogICAgICAgIAogICAgICAgIEVudGl0eUNfQjExSlQgYyA9IG5ldyBFbnRp\ndHlDX0IxMUpUKCk7CiAgICAgICAgYy5zZXROYW1lKCJjIik7CiAgICAgICAg\nYi5zZXRFbnRpdHlDKGMpOwogICAgICAgIC8vYy5zZXRCaTExanQoYik7Cgog\nICAgICAgIGVtLnBlcnNpc3QoYik7CiAgICAgICAgZW0ucGVyc2lzdChjKTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy8gdXBk\nYXRlIGJ5IHJlbW92aW5nIGEgYyAKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7CiAgICAgICAgYi5zZXRFbnRpdHlDKG51bGwpOwogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAgIC8v\ndXBkYXRlCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwog\nICAgICAgIGIuc2V0TmFtZSgibmV3TmFtZSIpOwogICAgICAgIEVudGl0eUNf\nQjExSlQgYzEgPSBuZXcgRW50aXR5Q19CMTFKVCgpOwogICAgICAgIGMxLnNl\ndE5hbWUoImMxIik7CiAgICAgICAgYi5zZXRFbnRpdHlDKGMxKTsKICAgICAg\nICAvL2MxLnNldEJpMTFqdChiKTsKICAgICAgICBlbS5wZXJzaXN0KGMxKTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAg\nIAogICAgICAgIC8vcXVlcnkKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRl\nUXVlcnkoIlNFTEVDVCB1IEZST00gQmlfMVRvMV9KVCB1Iik7CiAgICAgICAg\nQmlfMVRvMV9KVCBiMSA9IChCaV8xVG8xX0pUKXEuZ2V0U2luZ2xlUmVzdWx0\nKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGIsIGIxKTsKICAgICAgICBlbS5j\nbGVhcigpOwoKICAgICAgICAvLyBxdWVyeQogICAgICAgIHEgPSBlbS5jcmVh\ndGVRdWVyeSgiU0VMRUNUIGMgRlJPTSBFbnRpdHlDX0IxMUpUIGMiKTsKICAg\nICAgICBMaXN0PEVudGl0eUNfQjExSlQ+IGNzMSA9IHEuZ2V0UmVzdWx0TGlz\ndCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLCBjczEuc2l6ZSgpKTsKICAg\nICAgICBlbS5jbGVhcigpOwogICAgICAgIAogICAgICAgIC8vZmluZAogICAg\nICAgIGxvbmcgaWQgPSBiMS5nZXRJZCgpOwogICAgICAgIEJpXzFUbzFfSlQg\nYjIgPSBlbS5maW5kKEJpXzFUbzFfSlQuY2xhc3MsIGlkKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoYiwgYjIpOwogICAgICAgIAogICAgICAgIC8vcmVtb3Zl\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIGVtLnJlbW92ZShiMik7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5j\nb21taXQoKTsKICAgIH0KCiAgICBwcml2YXRlIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyRmFjdG9yeVNQSSBjcmVhdGVFTUYyXzAoTGlzdDxDbGFzczw/Pj4gdHlw\nZXMpIHsKICAgICAgICBNYXA8U3RyaW5nLE9iamVjdD4gbWFwID0gbmV3IEhh\nc2hNYXA8U3RyaW5nLE9iamVjdD4oKTsKICAgICAgICBtYXAucHV0KCJvcGVu\nanBhLmpkYmMuSkRCQ0xpc3RlbmVycyIsIAogICAgICAgICAgICAgICAgbmV3\nIEpEQkNMaXN0ZW5lcltdIHsgCiAgICAgICAgICAgICAgICAgICAgdGhpcy5u\nZXcgTGlzdGVuZXIoKSAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIG1h\ncC5wdXQoIm9wZW5qcGEuamRiYy5TeW5jaHJvbml6ZU1hcHBpbmdzIiwgCiAg\nICAgICAgICAgICJidWlsZFNjaGVtYShGb3JlaWduS2V5cz10cnVlLFNjaGVt\nYUFjdGlvbj0nZHJvcCxhZGQnKSIpOwoKICAgICAgICBtYXAucHV0KFBFUlNJ\nU1RFTlRfQ0xBU1NfTElTVCwgdHlwZXMpOwogICAgICAgIHJldHVybiAoT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKQogICAgICAgICAgICAgICAg\nY3JlYXRlQ29udGFpbmVyRU1GKCJwZXJzaXN0ZW5jZV8yXzAiLAogICAgICAg\nICAgICAgICAgICAgICJvcmcvYXBhY2hlL29wZW5qcGEvcGVyc2lzdGVuY2Uv\nY29tcGF0LyIgKwogICAgICAgICAgICAgICAgICAgICJwZXJzaXN0ZW5jZV8y\nXzAueG1sIiwgbWFwKTsKICAgIH0KICAgIAogICAgdm9pZCBhc3NlcnRTUUxG\ncmFnbm1lbnRzKExpc3Q8U3RyaW5nPiBsaXN0LCBTdHJpbmcuLi4ga2V5cykg\newogICAgICAgIGlmIChTUUxTbmlmZmVyLm1hdGNoZXMobGlzdCwga2V5cykp\nCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBmYWlsKCJOb25lIG9mIHRo\nZSBmb2xsb3dpbmcgIiArIHNxbC5zaXplKCkgKyAiIFNRTCBcclxuIiArIAog\nICAgICAgICAgICAgICAgdG9TdHJpbmcoc3FsKSArICJcclxuIGNvbnRhaW5z\nIGFsbCBrZXlzIFxyXG4iCiAgICAgICAgICAgICAgICArIHRvU3RyaW5nKEFy\ncmF5cy5hc0xpc3Qoa2V5cykpKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIHRvU3RyaW5nKExpc3Q8U3RyaW5nPiBsaXN0KSB7CiAgICAgICAgU3RyaW5n\nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKICAgICAgICBmb3Ig\nKFN0cmluZyBzIDogbGlzdCkKICAgICAgICAgICAgYnVmLmFwcGVuZChzKS5h\ncHBlbmQoIlxyXG4iKTsKICAgICAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7\nCiAgICB9CgogICAgcHVibGljIGNsYXNzIExpc3RlbmVyIGV4dGVuZHMgQWJz\ndHJhY3RKREJDTGlzdGVuZXIgewogICAgICAgIEBPdmVycmlkZQogICAgICAg\nIHB1YmxpYyB2b2lkIGJlZm9yZUV4ZWN1dGVTdGF0ZW1lbnQoSkRCQ0V2ZW50\nIGV2ZW50KSB7CiAgICAgICAgICAgIGlmIChldmVudC5nZXRTUUwoKSAhPSBu\ndWxsICYmIHNxbCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBzcWwuYWRk\nKGV2ZW50LmdldFNRTCgpKTsKICAgICAgICAgICAgICAgIHNxbENvdW50Kys7\nCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

