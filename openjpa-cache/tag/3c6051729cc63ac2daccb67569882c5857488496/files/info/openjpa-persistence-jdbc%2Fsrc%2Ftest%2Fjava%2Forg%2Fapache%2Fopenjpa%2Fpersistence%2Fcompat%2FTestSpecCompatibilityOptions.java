{"sha":"a2a0089bafd3b321793fb1ca2b7f3e2c9b3b9209","node_id":"MDQ6QmxvYjIwNjM2NDphMmEwMDg5YmFmZDNiMzIxNzkzZmIxY2EyYjdmM2UyYzliM2I5MjA5","size":30818,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a2a0089bafd3b321793fb1ca2b7f3e2c9b3b9209","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tcGF0\nOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0\naWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5jb25mLkNvbXBhdGliaWxpdHk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuY29uZi5TcGVjaWZpY2F0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi5qZGJjLkFic3RyYWN0SkRCQ0xpc3RlbmVyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5qZGJjLkpEQkNFdmVudDsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIuamRiYy5KREJDTGlzdGVuZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5U1BJOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5jZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLlNRTFNuaWZmZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5BYnN0\ncmFjdENhY2hlZEVNRlRlc3RDYXNlOwoKcHVibGljIGNsYXNzIFRlc3RTcGVj\nQ29tcGF0aWJpbGl0eU9wdGlvbnMgCmV4dGVuZHMgQWJzdHJhY3RDYWNoZWRF\nTUZUZXN0Q2FzZSB7CiAgICAKICAgIHByb3RlY3RlZCBMaXN0PFN0cmluZz4g\nc3FsID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAgICBwcm90ZWN0ZWQg\naW50IHNxbENvdW50OwoKICAgIC8qCiAgICAgKiBWZXJpZmllcyBjb21wYXRp\nYmlsaXR5IG9wdGlvbnMgYW5kIHNwZWMgbGV2ZWwgYXJlIGFwcHJvcHJpYXRl\nCiAgICAgKiBmb3IgYSB2ZXJzaW9uIDIgcGVyc2lzdGVuY2UueG1sCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RKUEExQ29tcGF0aWJpbGl0eU9wdGlv\nbnMoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJ\nIGVtZiA9CiAgICAgICAgKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQ\nSSlPcGVuSlBBUGVyc2lzdGVuY2UuCiAgICAgICAgICAgIGNyZWF0ZUVudGl0\neU1hbmFnZXJGYWN0b3J5KCJwZXJzaXN0ZW5jZV8xXzAiLAogICAgICAgICAg\nICAgICAgIm9yZy9hcGFjaGUvb3BlbmpwYS9wZXJzaXN0ZW5jZS9jb21wYXQv\nIiArCiAgICAgICAgICAgICAgICAicGVyc2lzdGVuY2VfMV8wLnhtbCIpOwoK\nICAgICAgICBDb21wYXRpYmlsaXR5IGNvbXBhdCA9IGVtZi5nZXRDb25maWd1\ncmF0aW9uKCkuZ2V0Q29tcGF0aWJpbGl0eUluc3RhbmNlKCk7CiAgICAgICAg\nYXNzZXJ0VHJ1ZShjb21wYXQuZ2V0Rmx1c2hCZWZvcmVEZXRhY2goKSk7CiAg\nICAgICAgYXNzZXJ0VHJ1ZShjb21wYXQuZ2V0Q29weU9uRGV0YWNoKCkpOwog\nICAgICAgIGFzc2VydFRydWUoY29tcGF0LmdldElnbm9yZURldGFjaGVkU3Rh\ndGVGaWVsZEZvclByb3h5U2VyaWFsaXphdGlvbigpKTsKICAgICAgICBhc3Nl\ncnRUcnVlKGNvbXBhdC5nZXRQcml2YXRlUGVyc2lzdGVudFByb3BlcnRpZXMo\nKSk7CiAgICAgICAgU3RyaW5nIHZNb2RlID0gZW1mLmdldENvbmZpZ3VyYXRp\nb24oKS5nZXRWYWxpZGF0aW9uTW9kZSgpOwogICAgICAgIGFzc2VydEVxdWFs\ncygiTk9ORSIsIHZNb2RlKTsKICAgICAgICBTcGVjaWZpY2F0aW9uIHNwZWMg\nPSBlbWYuZ2V0Q29uZmlndXJhdGlvbigpLmdldFNwZWNpZmljYXRpb25JbnN0\nYW5jZSgpOwogICAgICAgIGFzc2VydEVxdWFscygiSlBBIiwgc3BlYy5nZXRO\nYW1lKCkudG9VcHBlckNhc2UoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHNw\nZWMuZ2V0VmVyc2lvbigpLCAxKTsKICAgICAgICAKICAgICAgICBlbWYuY2xv\nc2UoKTsKICAgIH0KCiAgICAvKgogICAgICogVmVyaWZpZXMgY29tcGF0aWJp\nbGl0eSBvcHRpb25zIGFuZCBzcGVjIGxldmVsIGFyZSBhcHByb3ByaWF0ZQog\nICAgICogZm9yIGEgdmVyc2lvbiAyIHBlcnNpc3RlbmNlLnhtbAogICAgICov\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0SlBBMkNvbXBhdGliaWxpdHlPcHRpb25z\nKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBl\nbWYgPQogICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkp\nT3BlbkpQQVBlcnNpc3RlbmNlLgogICAgICAgICAgICBjcmVhdGVFbnRpdHlN\nYW5hZ2VyRmFjdG9yeSgicGVyc2lzdGVuY2VfMl8wIiwKICAgICAgICAgICAg\nICAgICJvcmcvYXBhY2hlL29wZW5qcGEvcGVyc2lzdGVuY2UvY29tcGF0LyIg\nKwogICAgICAgICAgICAgICAgInBlcnNpc3RlbmNlXzJfMC54bWwiKTsKCiAg\nICAgICAgQ29tcGF0aWJpbGl0eSBjb21wYXQgPSBlbWYuZ2V0Q29uZmlndXJh\ndGlvbigpLmdldENvbXBhdGliaWxpdHlJbnN0YW5jZSgpOwogICAgICAgIGFz\nc2VydEZhbHNlKGNvbXBhdC5nZXRGbHVzaEJlZm9yZURldGFjaCgpKTsKICAg\nICAgICBhc3NlcnRGYWxzZShjb21wYXQuZ2V0Q29weU9uRGV0YWNoKCkpOwog\nICAgICAgIGFzc2VydEZhbHNlKGNvbXBhdC5nZXRJZ25vcmVEZXRhY2hlZFN0\nYXRlRmllbGRGb3JQcm94eVNlcmlhbGl6YXRpb24oKSk7CiAgICAgICAgYXNz\nZXJ0RmFsc2UoY29tcGF0LmdldFByaXZhdGVQZXJzaXN0ZW50UHJvcGVydGll\ncygpKTsKICAgICAgICBTdHJpbmcgdk1vZGUgPSBlbWYuZ2V0Q29uZmlndXJh\ndGlvbigpLmdldFZhbGlkYXRpb25Nb2RlKCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJBVVRPIiwgdk1vZGUpOwogICAgICAgIFNwZWNpZmljYXRpb24gc3Bl\nYyA9IGVtZi5nZXRDb25maWd1cmF0aW9uKCkuZ2V0U3BlY2lmaWNhdGlvbklu\nc3RhbmNlKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJKUEEiLCBzcGVjLmdl\ndE5hbWUoKS50b1VwcGVyQ2FzZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nc3BlYy5nZXRWZXJzaW9uKCksIDIpOwogICAgICAgIAogICAgICAgIGVtZi5j\nbG9zZSgpOwogICAgfQoKICAgIC8qCiAgICAgKiBQZXIgSlBBIDIuMCwgUmVs\nYXRpb25zaGlwcyBpbiBtYXBwZWQgc3VwZXJjbGFzcyBtdXN0IGJlIHVuaWRp\ncmVjdGlvbmFsLgogICAgICogQW4gZXhjZXB0aW9pbiB3aWxsIGJlIHRocm93\nbiB3aGVuIGEgYmktZGlyZWN0aW9uYWwgcmVsYXRpb24gaXMgZGV0ZWN0ZWQg\naW4KICAgICAqIGEgbWFwcGVkIHN1cGVyY2xhc3MuIAogICAgICovCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0TWFwcGVkU3VwZXJDbGFzcygpIHsKICAgICAgICBM\naXN0PENsYXNzPD8+PiB0eXBlcyA9IG5ldyBBcnJheUxpc3Q8Q2xhc3M8Pz4+\nKCk7CiAgICAgICAgdHlwZXMuYWRkKEVudGl0eUEuY2xhc3MpOwogICAgICAg\nIHR5cGVzLmFkZChFbnRpdHlCLmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQo\nTWFwcGVkU3VwZXIuY2xhc3MpOwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyRmFjdG9yeVNQSSBlbWYgPSBjcmVhdGVFTUYyXzAodHlwZXMpOwogICAg\nICAgIEVudGl0eU1hbmFnZXIgZW0gPSBudWxsOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAg\nICAgICAgICAgRW50aXR5QSBhID0gbmV3IEVudGl0eUEoKTsKICAgICAgICAg\nICAgYS5zZXRJZCgxKTsKICAgICAgICAgICAgRW50aXR5QiBiID0gbmV3IEVu\ndGl0eUIoKTsKICAgICAgICAgICAgYi5zZXRJZCgxKTsKICAgICAgICAgICAg\nYS5zZXRFbnRpdHlCKGIpOwogICAgICAgICAgICBiLnNldEVudGl0eUEoYSk7\nCiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAg\nICAgICAgICAgZW0ucGVyc2lzdChhKTsKICAgICAgICAgICAgZW0ucGVyc2lz\ndChiKTsKICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsKICAgICAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICAgICAgZmFpbCgi\nQW4gZXhjZXB0aW9pbiB3aWxsIGJlIHRocm93biBmb3IgYSBiaS1kaXJlY3Rp\nb25hbCByZWxhdGlvbiBkZWNsYXJlZCBpbiBtYXBwZWQgc3VwZXJjbGFzcyIp\nOwogICAgICAgIH0gY2F0Y2ggKG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5Bcmd1bWVudEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGlmIChl\nbSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLnJvbGxiYWNrKCk7CiAgICAgICAgICAgICAgICBlbS5jbG9zZSgpOwog\nICAgICAgICAgICB9CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAg\nZW1mLmNsb3NlKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog\nUGVyIEpQQSAyLjAsIHRoZSBmb2xsb3dpbmcgb25lLXRvLW1hbnkgbWFwcGlu\nZ3MgYXJlIHN1cHBvcnRlZC4KICAgICAqICgxKSB1bmktL09uZVRvTWFueS9m\nb3JlaWduIGtleSBzdHJhdGVneQogICAgICogKDIpIHVuaS0vT25lVG9NYW55\nL2pvaW4gdGFibGUgc3RyYXRlZ3kgKGRlZmF1bHQpCiAgICAgKiAoMykgYmkt\nL09uZVRvTWFueS9mb3JlaWduIGtleSBzdHJhdGVneSAoZGVmYXVsdCkKICAg\nICAqICg0KSBiaS0vT25lVG9NYW55L2pvaW4gdGFibGUgc3RyYXRlZ3kKICAg\nICAqIFRoZSBKb2luQ29sdW1uIGFuZCBKb2luVGFibGUgYW5ub3RhdGlvbnMg\nb3IgY29ycmVzcG9uZGluZyBYTUwgCiAgICAgKiBlbGVtZW50cyBtdXN0IGJl\nIHVzZWQgdG8gc3BlY2lmeSBzdWNoIG5vbi1kZWZhdWx0IG1hcHBpbmdzCiAg\nICAgKiAKICAgICAqIEZvciAoMSksIHRoZSBzcGVjIHByb3ZpZGVzIHRoZSBm\nb2xsb3dpbmcgZXhhbXBsZSAoU2VjIDExLjEuMzYpOgogICAgICogRXhhbXBs\nZSAzOiBVbmlkaXJlY3Rpb25hbCBPbmUtdG8tTWFueSBhc3NvY2lhdGlvbiB1\nc2luZyBhIGZvcmVpZ24gCiAgICAgKiBrZXkgbWFwcGluZzoKICAgICAqIElu\nIEN1c3RvbWVyIGNsYXNzOgogICAgICogQE9uZVRvTWFueShvcnBoYW5SZW1v\ndmFsPXRydWUpCiAgICAgKiBASm9pbkNvbHVtbihuYW1lPSJDVVNUX0lEIikg\nLy8gam9pbiBjb2x1bW4gaXMgaW4gdGFibGUgZm9yIE9yZGVyCiAgICAgKiBw\ndWJsaWMgU2V0PE9yZGVyPiBnZXRPcmRlcnMoKSB7cmV0dXJuIG9yZGVyczt9\nCiAgICAgKiAKICAgICAqIEZvciAoNCksIEJpLWRpcmVjdGlvbmFsIE9uZS10\nLU1hbnkgYXNzb2NpYXRpb24gdXNpbmcgdGhlIGpvaW4gCiAgICAgKiB0YWJs\nZSBtYXBwaW5nOgogICAgICogSW4gQ3VzdG9tZXIgY2xhc3M6CiAgICAgKiBA\nT25lVG9NYW55KG1hcHBlZEJ5PSJjdXN0b21lciIpCiAgICAgKiBASm9pblRh\nYmxlKAogICAgICogICBuYW1lPSJDdXN0b21lcl9PcmRlcnMiLAogICAgICog\nICBqb2luQ29sdW1ucz0KICAgICAqICAgICBASm9pbkNvbHVtbihuYW1lPSJP\ncmRlcl9JRCIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lPSJJRCIpLAogICAgICog\nICAgaW52ZXJzZUpvaW5Db2x1bW5zPQogICAgICogICAgIEBKb2luQ29sdW1u\nKG5hbWU9IkN1c3RfSUQiLCByZWZlcmVuY2VkQ29sdW1uTmFtZT0iSUQiKQog\nICAgICogICkKICAgICAqICBwdWJsaWMgU2V0PE9yZGVyPiBnZXRPcmRlcnMo\nKSB7cmV0dXJuIG9yZGVyczt9CiAgICAgKiAgCiAgICAgKiAgTm90ZSB0aGF0\nIGluIHRoaXMgc2NlbmFyaW8sIEBKb2luVGFibGUgaXMgcmVxdWlyZWQuIFNp\nbXBseSBhcHBseWluZyBASm9pbkNvbHVtbiAKICAgICAqICB3aXRob3V0IEBK\nb2luVGFibGUgd2lsbCByZXN1bHQgaW4gYW4gZXhjZXB0aW9uIHRocm93biBi\neSBvcGVuanBhLgogICAgICogCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRl\nc3RPbmVUb01hbnlSZWxhdGlvbigpIHsKICAgICAgICBMaXN0PENsYXNzPD8+\nPiB0eXBlcyA9IG5ldyBBcnJheUxpc3Q8Q2xhc3M8Pz4+KCk7CiAgICAgICAg\ndHlwZXMuYWRkKEVudGl0eUMuY2xhc3MpOwogICAgICAgIHR5cGVzLmFkZChF\nbnRpdHlDX0IxTUZLLmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQoRW50aXR5\nQ19CMU1KVC5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKEVudGl0eUNfVTFN\nRksuY2xhc3MpOwogICAgICAgIHR5cGVzLmFkZChCaV8xVG9NX0ZLLmNsYXNz\nKTsKICAgICAgICB0eXBlcy5hZGQoQmlfMVRvTV9KVC5jbGFzcyk7CiAgICAg\nICAgdHlwZXMuYWRkKFVuaV8xVG9NX0ZLLmNsYXNzKTsKICAgICAgICB0eXBl\ncy5hZGQoVW5pXzFUb01fSlQuY2xhc3MpOwogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyRmFjdG9yeVNQSSBlbWYgPSBjcmVhdGVFTUYyXzAodHlwZXMp\nOwogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIC8vIHRyaWdnZXIgdGFibGUgY3JlYXRpb24KICAgICAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgICAgICBhc3NlcnRTUUxGcmFn\nbm1lbnRzKHNxbCwgIkNSRUFURSBUQUJMRSBCaTFNSlRfQyIsICJDX0lEIiwg\nIkJpMU1KVF9JRCIpOwogICAgICAgICAgICBhc3NlcnRTUUxGcmFnbm1lbnRz\nKHNxbCwgIkNSRUFURSBUQUJMRSBDX0IxTUZLIiwgIkJJMU1GS19JRCIpOwog\nICAgICAgICAgICBhc3NlcnRTUUxGcmFnbm1lbnRzKHNxbCwgIkNSRUFURSBU\nQUJMRSBVbmkxTUpUX0MiLCAiVW5pMU1KVF9JRCIsICJDX0lEIik7CiAgICAg\nICAgICAgIGFzc2VydFNRTEZyYWdubWVudHMoc3FsLCAiQ1JFQVRFIFRBQkxF\nIENfQjFNRksiLCAiQkkxTUZLX0lEIik7CiAgICAgICAgICAgIGFzc2VydFNR\nTEZyYWdubWVudHMoc3FsLCAiQ1JFQVRFIFRBQkxFIENfVTFNRksiLCAiVW5p\nMU1GS19JRCIpOwogICAgICAgICAgICBjcnVkVW5pMU1GSyhlbSk7CiAgICAg\nICAgICAgIGNydWRVbmkxTUpUKGVtKTsKICAgICAgICAgICAgY3J1ZEJpMU1G\nSyhlbSk7CiAgICAgICAgICAgIGNydWRCaTFNSlQoZW0pOwogICAgICAgIH0g\nY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGUucHJpbnRTdGFj\na1RyYWNlKCk7CiAgICAgICAgICAgIGZhaWwoIk9uZVRvTWFueSBtYXBwaW5n\nIGZhaWxlZCB3aXRoIGV4Y2VwdGlvbiBtZXNzYWdlOiAiICsgZS5nZXRNZXNz\nYWdlKCkpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGVtLmNs\nb3NlKCk7CiAgICAgICAgICAgIGVtZi5jbG9zZSgpOyAgICAgICAgICAgIAog\nICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gbm9uIGRlZmF1bHQKICAgIHB1\nYmxpYyB2b2lkIGNydWRVbmkxTUZLKEVudGl0eU1hbmFnZXIgZW0pIHsKICAg\nICAgICAvL2NyZWF0ZQogICAgICAgIFVuaV8xVG9NX0ZLIHUgPSBuZXcgVW5p\nXzFUb01fRksoKTsKICAgICAgICB1LnNldE5hbWUoInUiKTsKICAgICAgICBM\naXN0PEVudGl0eUNfVTFNRks+IGNzID0gbmV3IEFycmF5TGlzdDxFbnRpdHlD\nX1UxTUZLPigpOwogICAgICAgIEVudGl0eUNfVTFNRksgYyA9IG5ldyBFbnRp\ndHlDX1UxTUZLKCk7CiAgICAgICAgYy5zZXROYW1lKCJjIik7CiAgICAgICAg\nY3MuYWRkKGMpOwogICAgICAgIHUuc2V0RW50aXR5Q3MoY3MpOwogICAgICAg\nIGVtLnBlcnNpc3QodSk7CiAgICAgICAgZW0ucGVyc2lzdChjKTsKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy91cGRhdGUKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgY3Mg\nPSB1LmdldEVudGl0eUNzKCk7CiAgICAgICAgdS5zZXROYW1lKCJuZXdOYW1l\nIik7CiAgICAgICAgRW50aXR5Q19VMU1GSyBjMSA9IG5ldyBFbnRpdHlDX1Ux\nTUZLKCk7CiAgICAgICAgYzEuc2V0TmFtZSgiYzEiKTsKICAgICAgICBjcy5h\nZGQoYzEpOwogICAgICAgIGVtLnBlcnNpc3QoYzEpOwogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgCiAgICAgICAgLy8g\ndXBkYXRlIGJ5IHJlbW92aW5nIGEgYyBhbmQgdGhlbiBhZGQgdGhpcyBjIHRv\nIGEgbmV3IHUKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7\nCiAgICAgICAgRW50aXR5Q19VMU1GSyBjMiA9IGNzLnJlbW92ZSgwKTsKICAg\nICAgICAKICAgICAgICBVbmlfMVRvTV9GSyB1MiA9IG5ldyBVbmlfMVRvTV9G\nSygpOwogICAgICAgIHUyLnNldE5hbWUoInUyIik7CiAgICAgICAgTGlzdDxF\nbnRpdHlDX1UxTUZLPiBjczIgPSBuZXcgQXJyYXlMaXN0PEVudGl0eUNfVTFN\nRks+KCk7CiAgICAgICAgY3MyLmFkZChjMik7CiAgICAgICAgdTIuc2V0RW50\naXR5Q3MoY3MyKTsKICAgICAgICBlbS5wZXJzaXN0KHUyKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsZWFy\nKCk7CiAgICAgICAgCiAgICAgICAgLy9xdWVyeQogICAgICAgIFF1ZXJ5IHEg\nPSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIHUgRlJPTSBVbmlfMVRvTV9GSyB1\nIHdoZXJlIHUubmFtZSA9ICduZXdOYW1lJyIpOwogICAgICAgIFVuaV8xVG9N\nX0ZLIHUxID0gKFVuaV8xVG9NX0ZLKXEuZ2V0U2luZ2xlUmVzdWx0KCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKHUsIHUxKTsKICAgICAgICBlbS5jbGVhcigp\nOwoKICAgICAgICAvL2ZpbmQKICAgICAgICBsb25nIGlkID0gdTEuZ2V0SWQo\nKTsKICAgICAgICBVbmlfMVRvTV9GSyBmaW5kVTEgPSBlbS5maW5kKFVuaV8x\nVG9NX0ZLLmNsYXNzLCBpZCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGZpbmRV\nMSwgdTEpOwogICAgICAgIAogICAgICAgIC8vcmVtb3ZlCiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnJlbW92ZShm\naW5kVTEpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7\nCiAgICAgICAgZW0uY2xlYXIoKTsKICAgIH0KICAgIAogICAgLy8gZGVmYXVs\ndAogICAgcHVibGljIHZvaWQgY3J1ZFVuaTFNSlQoRW50aXR5TWFuYWdlciBl\nbSkgewogICAgICAgIFVuaV8xVG9NX0pUIHUgPSBuZXcgVW5pXzFUb01fSlQo\nKTsKICAgICAgICB1LnNldE5hbWUoInUiKTsKICAgICAgICBMaXN0PEVudGl0\neUM+IGNzID0gbmV3IEFycmF5TGlzdDxFbnRpdHlDPigpOwogICAgICAgIEVu\ndGl0eUMgYyA9IG5ldyBFbnRpdHlDKCk7CiAgICAgICAgYy5zZXROYW1lKCJj\nIik7CiAgICAgICAgY3MuYWRkKGMpOwogICAgICAgIHUuc2V0RW50aXR5Q3Mo\nY3MpOwogICAgICAgIGVtLnBlcnNpc3QodSk7CiAgICAgICAgZW0ucGVyc2lz\ndChjKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICAK\nICAgICAgICAvL3VwZGF0ZQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsKICAgICAgICBjcyA9IHUuZ2V0RW50aXR5Q3MoKTsKICAgICAg\nICB1LnNldE5hbWUoIm5ld05hbWUiKTsKICAgICAgICBFbnRpdHlDIGMxID0g\nbmV3IEVudGl0eUMoKTsKICAgICAgICBjMS5zZXROYW1lKCJjMSIpOwogICAg\nICAgIGNzLmFkZChjMSk7CiAgICAgICAgZW0ucGVyc2lzdChjMSk7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5j\nbGVhcigpOwogICAgICAgIAogICAgICAgIC8vcXVlcnkKICAgICAgICBRdWVy\neSBxID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCB1IEZST00gVW5pXzFUb01f\nSlQgdSIpOwogICAgICAgIFVuaV8xVG9NX0pUIHUxID0gKFVuaV8xVG9NX0pU\nKXEuZ2V0U2luZ2xlUmVzdWx0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHUs\nIHUxKTsKICAgICAgICBlbS5jbGVhcigpOwoKICAgICAgICAvL2ZpbmQKICAg\nICAgICBsb25nIGlkID0gdTEuZ2V0SWQoKTsKICAgICAgICBVbmlfMVRvTV9K\nVCB1MiA9IGVtLmZpbmQoVW5pXzFUb01fSlQuY2xhc3MsIGlkKTsKICAgICAg\nICBhc3NlcnRFcXVhbHModSwgdTIpOwogICAgICAgIAogICAgICAgIC8vcmVt\nb3ZlCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAg\nICAgIGVtLnJlbW92ZSh1Mik7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5jb21taXQoKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgfQogICAgCiAg\nICAvL2RlZmF1bHQKICAgIHB1YmxpYyB2b2lkIGNydWRCaTFNRksoRW50aXR5\nTWFuYWdlciBlbSkgewogICAgICAgIEJpXzFUb01fRksgYiA9IG5ldyBCaV8x\nVG9NX0ZLKCk7CiAgICAgICAgYi5zZXROYW1lKCJiIik7CiAgICAgICAgTGlz\ndDxFbnRpdHlDX0IxTUZLPiBjcyA9IG5ldyBBcnJheUxpc3Q8RW50aXR5Q19C\nMU1GSz4oKTsKICAgICAgICBFbnRpdHlDX0IxTUZLIGMgPSBuZXcgRW50aXR5\nQ19CMU1GSygpOwogICAgICAgIGMuc2V0TmFtZSgiYyIpOwogICAgICAgIGMu\nc2V0QmkxbWZrKGIpOwogICAgICAgIGNzLmFkZChjKTsKICAgICAgICBiLnNl\ndEVudGl0eUNzKGNzKTsKICAgICAgICBlbS5wZXJzaXN0KGIpOwogICAgICAg\nIGVtLnBlcnNpc3QoYyk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7\nCiAgICAgICAgCiAgICAgICAgLy91cGRhdGUKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgY3MgPSBiLmdldEVudGl0eUNz\nKCk7CiAgICAgICAgYi5zZXROYW1lKCJuZXdOYW1lIik7CiAgICAgICAgRW50\naXR5Q19CMU1GSyBjMSA9IG5ldyBFbnRpdHlDX0IxTUZLKCk7CiAgICAgICAg\nYzEuc2V0TmFtZSgiYzEiKTsKICAgICAgICBjcy5hZGQoYzEpOwogICAgICAg\nIGMxLnNldEJpMW1mayhiKTsKICAgICAgICBlbS5wZXJzaXN0KGMxKTsKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVt\nLmNsZWFyKCk7CiAgICAgICAgCiAgICAgICAgLy9xdWVyeQogICAgICAgIFF1\nZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIGIgRlJPTSBCaV8xVG9N\nX0ZLIGIiKTsKICAgICAgICBCaV8xVG9NX0ZLIGIxID0gKEJpXzFUb01fRksp\ncS5nZXRTaW5nbGVSZXN1bHQoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYiwg\nYjEpOwogICAgICAgIGVtLmNsZWFyKCk7CgogICAgICAgIC8vZmluZAogICAg\nICAgIGxvbmcgaWQgPSBiMS5nZXRJZCgpOwogICAgICAgIEJpXzFUb01fRksg\nYjIgPSBlbS5maW5kKEJpXzFUb01fRksuY2xhc3MsIGlkKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoYiwgYjIpOwogICAgICAgIAogICAgICAgIC8vcmVtb3Zl\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIGVtLnJlbW92ZShiMik7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5j\nb21taXQoKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIGNydWRCaTFNSlQoRW50aXR5TWFuYWdlciBlbSkgewogICAgICAg\nIEJpXzFUb01fSlQgYiA9IG5ldyBCaV8xVG9NX0pUKCk7CiAgICAgICAgYi5z\nZXROYW1lKCJiIik7CiAgICAgICAgTGlzdDxFbnRpdHlDX0IxTUpUPiBjcyA9\nIG5ldyBBcnJheUxpc3Q8RW50aXR5Q19CMU1KVD4oKTsKICAgICAgICBFbnRp\ndHlDX0IxTUpUIGMgPSBuZXcgRW50aXR5Q19CMU1KVCgpOwogICAgICAgIGMu\nc2V0TmFtZSgiYyIpOwogICAgICAgIGMuc2V0QmkxbWp0KGIpOwogICAgICAg\nIGNzLmFkZChjKTsKICAgICAgICBiLnNldEVudGl0eUNzKGNzKTsKICAgICAg\nICBlbS5wZXJzaXN0KGIpOwogICAgICAgIGVtLnBlcnNpc3QoYyk7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAgIC8vdXBkYXRlCiAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGNz\nID0gYi5nZXRFbnRpdHlDcygpOwogICAgICAgIGIuc2V0TmFtZSgibmV3TmFt\nZSIpOwogICAgICAgIEVudGl0eUNfQjFNSlQgYzEgPSBuZXcgRW50aXR5Q19C\nMU1KVCgpOwogICAgICAgIGMxLnNldE5hbWUoImMxIik7CiAgICAgICAgY3Mu\nYWRkKGMxKTsKICAgICAgICBjMS5zZXRCaTFtanQoYik7CiAgICAgICAgZW0u\ncGVyc2lzdChjMSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21t\naXQoKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIAogICAgICAgIC8v\ncXVlcnkKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVD\nVCBiIEZST00gQmlfMVRvTV9KVCBiIHdoZXJlIGIubmFtZSA9ICduZXdOYW1l\nJyIpOwogICAgICAgIEJpXzFUb01fSlQgYjEgPSAoQmlfMVRvTV9KVClxLmdl\ndFNpbmdsZVJlc3VsdCgpOwogICAgICAgIGFzc2VydEVxdWFscyhiLCBiMSk7\nCiAgICAgICAgZW0uY2xlYXIoKTsKCiAgICAgICAgLy9xdWVyeQogICAgICAg\nIHEgPSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIGMgRlJPTSBFbnRpdHlDX0Ix\nTUpUIGMiKTsKICAgICAgICBMaXN0PEVudGl0eUNfQjFNSlQ+IGNzMSA9IHEu\nZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLCBjczEu\nc2l6ZSgpKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgICAgICAgICAgICAg\nCiAgICAgICAgLy9maW5kCiAgICAgICAgbG9uZyBpZCA9IGIxLmdldElkKCk7\nCiAgICAgICAgQmlfMVRvTV9KVCBiMiA9IGVtLmZpbmQoQmlfMVRvTV9KVC5j\nbGFzcywgaWQpOwogICAgICAgIGFzc2VydEVxdWFscyhiLCBiMik7CiAgICAg\nICAgCiAgICAgICAgLy9yZW1vdmUKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7CiAgICAgICAgZW0ucmVtb3ZlKGIyKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsZWFy\nKCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RPbmVUb01hbnlN\nYXBSZWxhdGlvbigpIHsKICAgICAgICBMaXN0PENsYXNzPD8+PiB0eXBlcyA9\nIG5ldyBBcnJheUxpc3Q8Q2xhc3M8Pz4+KCk7CiAgICAgICAgdHlwZXMuYWRk\nKEVudGl0eUNfVTFNX01hcF9GSy5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRk\nKFVuaV8xVG9NX01hcF9GSy5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKEVu\ndGl0eUNfQjFNX01hcF9KVC5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKEJp\nXzFUb01fTWFwX0pULmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQoRW50aXR5\nQ19VMU1fTWFwX1JlbEtleV9GSy5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRk\nKFVuaV8xVG9NX01hcF9SZWxLZXlfRksuY2xhc3MpOwogICAgICAgIHR5cGVz\nLmFkZChFbnRpdHlDLmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQoRW50aXR5\nQ19CMU1fTWFwX1JlbEtleV9KVC5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRk\nKEJpXzFUb01fTWFwX1JlbEtleV9KVC5jbGFzcyk7CiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJIGVtZiA9IGNyZWF0ZUVNRjJfMCh0\neXBlcyk7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgCiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgLy8gdHJpZ2dlciB0YWJsZSBjcmVhdGlvbgogICAgICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgICAgIGFzc2VydFNR\nTEZyYWdubWVudHMoc3FsLCAiQ1JFQVRFIFRBQkxFIENfVTFNX01hcF9GSyIs\nICJVbmkxTUZLX0lEIiwgIktFWTAiKTsKICAgICAgICAgICAgYXNzZXJ0U1FM\nRnJhZ25tZW50cyhzcWwsICJDUkVBVEUgVEFCTEUgQmkxTV9NYXBfSlRfQyIs\nICJCX0lEIiwgIkNfSUQiKTsKICAgICAgICAgICAgYXNzZXJ0U1FMRnJhZ25t\nZW50cyhzcWwsICJDUkVBVEUgVEFCTEUgQ19VMU1fTWFwX1JlbEtleV9GSyIs\nICJVbmkxTUZLX0lEIik7CiAgICAgICAgICAgIGFzc2VydFNRTEZyYWdubWVu\ndHMoc3FsLCAiQ1JFQVRFIFRBQkxFIEJpMU1fTWFwX1JlbEtleV9KVF9DIiwg\nIkJfSUQiLCAiQ19JRCIpOwogICAgICAgICAgICBjcnVkVW5pMU1NYXBGSyhl\nbSk7CiAgICAgICAgICAgIGNydWRCaTFNTWFwSlQoZW0pOwogICAgICAgICAg\nICBjcnVkVW5pMU1NYXBSZWxLZXlGSyhlbSk7CiAgICAgICAgICAgIGNydWRC\naTFNTWFwUmVsS2V5SlQoZW0pOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlv\nbiBlKSB7CiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAgICAg\nICAgICAgIGZhaWwoIk9uZVRvTWFueSBtYXBwaW5nIGZhaWxlZCB3aXRoIGV4\nY2VwdGlvbiBtZXNzYWdlOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgICAg\nIH0gZmluYWxseSB7CiAgICAgICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAg\nICAgIGVtZi5jbG9zZSgpOyAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBjcnVkVW5pMU1NYXBGSyhFbnRpdHlNYW5hZ2Vy\nIGVtKSB7CiAgICAgICAgLy9jcmVhdGUKICAgICAgICBVbmlfMVRvTV9NYXBf\nRksgdSA9IG5ldyBVbmlfMVRvTV9NYXBfRksoKTsKICAgICAgICB1LnNldE5h\nbWUoInUiKTsKICAgICAgICBNYXA8U3RyaW5nLCBFbnRpdHlDX1UxTV9NYXBf\nRks+IGNzID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBFbnRpdHlDX1UxTV9NYXBf\nRks+KCk7CiAgICAgICAgRW50aXR5Q19VMU1fTWFwX0ZLIGMxID0gbmV3IEVu\ndGl0eUNfVTFNX01hcF9GSygpOwogICAgICAgIGMxLnNldE5hbWUoImMxIik7\nCiAgICAgICAgY3MucHV0KGMxLmdldE5hbWUoKSwgYzEpOwogICAgICAgIEVu\ndGl0eUNfVTFNX01hcF9GSyBjMiA9IG5ldyBFbnRpdHlDX1UxTV9NYXBfRkso\nKTsKICAgICAgICBjMi5zZXROYW1lKCJjMiIpOwogICAgICAgIGNzLnB1dChj\nMi5nZXROYW1lKCksIGMyKTsKICAgICAgICB1LnNldEVudGl0eUNzKGNzKTsK\nICAgICAgICAKICAgICAgICBlbS5wZXJzaXN0KHUpOwogICAgICAgIGVtLnBl\ncnNpc3QoYzEpOwogICAgICAgIGVtLnBlcnNpc3QoYzIpOwogICAgICAgIGVt\nLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOwoKICAgICAgICAvL3VwZGF0ZSBieSBhZGRp\nbmcgYSBuZXcgQwogICAgICAgIGNzID0gdS5nZXRFbnRpdHlDcygpOwogICAg\nICAgIHUuc2V0TmFtZSgibmV3TmFtZSIpOwogICAgICAgIEVudGl0eUNfVTFN\nX01hcF9GSyBjMyA9IG5ldyBFbnRpdHlDX1UxTV9NYXBfRksoKTsKICAgICAg\nICBjMy5zZXROYW1lKCJjMyIpOwogICAgICAgIGNzLnB1dChjMy5nZXROYW1l\nKCksIGMzKTsKICAgICAgICBlbS5wZXJzaXN0KGMzKTsKCiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLmdldFRyYW5z\nYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgCiAgICAgICAgLy8gdXBkYXRl\nIGJ5IHJlbW92aW5nIGEgYyBhbmQgdGhlbiBhZGQgdGhpcyBjIHRvIGEgbmV3\nIHUKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAg\nICAgRW50aXR5Q19VMU1fTWFwX0ZLIGM0ID0gY3MucmVtb3ZlKCJjMSIpOwog\nICAgICAgIAogICAgICAgIFVuaV8xVG9NX01hcF9GSyB1MiA9IG5ldyBVbmlf\nMVRvTV9NYXBfRksoKTsKICAgICAgICB1Mi5zZXROYW1lKCJ1MiIpOwogICAg\nICAgIE1hcDxTdHJpbmcsIEVudGl0eUNfVTFNX01hcF9GSz4gY3MyID0gbmV3\nIEhhc2hNYXA8U3RyaW5nLCBFbnRpdHlDX1UxTV9NYXBfRks+KCk7CiAgICAg\nICAgY3MyLnB1dChjNC5nZXROYW1lKCksIGM0KTsKICAgICAgICB1Mi5zZXRF\nbnRpdHlDcyhjczIpOwogICAgICAgIGVtLnBlcnNpc3QodTIpOwogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xl\nYXIoKTsKICAgICAgICAKICAgICAgICAvL3F1ZXJ5CiAgICAgICAgUXVlcnkg\ncSA9IGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgdSBGUk9NIFVuaV8xVG9NX01h\ncF9GSyB1IHdoZXJlIHUubmFtZT0nbmV3TmFtZSciKTsKICAgICAgICBVbmlf\nMVRvTV9NYXBfRksgdTEgPSAoVW5pXzFUb01fTWFwX0ZLKXEuZ2V0U2luZ2xl\nUmVzdWx0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHUsIHUxKTsKICAgICAg\nICBlbS5jbGVhcigpOwoKICAgICAgICAvL2ZpbmQKICAgICAgICBsb25nIGlk\nID0gdTEuZ2V0SWQoKTsKICAgICAgICBVbmlfMVRvTV9NYXBfRksgZmluZFUg\nPSBlbS5maW5kKFVuaV8xVG9NX01hcF9GSy5jbGFzcywgaWQpOwogICAgICAg\nIGFzc2VydEVxdWFscyh1LCBmaW5kVSk7CiAgICAgICAgCiAgICAgICAgLy9y\nZW1vdmUKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAg\nICAgICAgZW0ucmVtb3ZlKGZpbmRVKTsKICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmNvbW1pdCgpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCBj\ncnVkQmkxTU1hcEpUKEVudGl0eU1hbmFnZXIgZW0pIHsKICAgICAgICBCaV8x\nVG9NX01hcF9KVCBiID0gbmV3IEJpXzFUb01fTWFwX0pUKCk7CiAgICAgICAg\nYi5zZXROYW1lKCJiIik7CiAgICAgICAgTWFwPFN0cmluZywgRW50aXR5Q19C\nMU1fTWFwX0pUPiBjcyA9IG5ldyBIYXNoTWFwPFN0cmluZywgRW50aXR5Q19C\nMU1fTWFwX0pUPigpOwogICAgICAgIEVudGl0eUNfQjFNX01hcF9KVCBjID0g\nbmV3IEVudGl0eUNfQjFNX01hcF9KVCgpOwogICAgICAgIGMuc2V0TmFtZSgi\nYyIpOwogICAgICAgIGMuc2V0QmkxbWp0KGIpOwogICAgICAgIGNzLnB1dChj\nLmdldE5hbWUoKSwgYyk7CiAgICAgICAgYi5zZXRFbnRpdHlDcyhjcyk7CiAg\nICAgICAgZW0ucGVyc2lzdChiKTsKICAgICAgICBlbS5wZXJzaXN0KGMpOwog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwoKICAgICAgICAvL3VwZGF0\nZQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAg\nICBjcyA9IGIuZ2V0RW50aXR5Q3MoKTsKICAgICAgICBiLnNldE5hbWUoIm5l\nd05hbWUiKTsKICAgICAgICBFbnRpdHlDX0IxTV9NYXBfSlQgYzEgPSBuZXcg\nRW50aXR5Q19CMU1fTWFwX0pUKCk7CiAgICAgICAgYzEuc2V0TmFtZSgiYzEi\nKTsKICAgICAgICBjcy5wdXQoYzEuZ2V0TmFtZSgpLCBjMSk7CiAgICAgICAg\nYzEuc2V0QmkxbWp0KGIpOwogICAgICAgIGVtLnBlcnNpc3QoYzEpOwogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0u\nY2xlYXIoKTsKICAgICAgICAKICAgICAgICAvL3F1ZXJ5CiAgICAgICAgUXVl\ncnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgYiBGUk9NIEJpXzFUb01f\nTWFwX0pUIGIiKTsKICAgICAgICBCaV8xVG9NX01hcF9KVCBiMSA9IChCaV8x\nVG9NX01hcF9KVClxLmdldFNpbmdsZVJlc3VsdCgpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyhiLCBiMSk7CiAgICAgICAgZW0uY2xlYXIoKTsKCiAgICAgICAg\nLy8gcXVlcnkgdGhlIG93bmVyCiAgICAgICAgcSA9IGVtLmNyZWF0ZVF1ZXJ5\nKCJTRUxFQ1QgYyBGUk9NIEVudGl0eUNfQjFNX01hcF9KVCBjIik7CiAgICAg\nICAgTGlzdDxFbnRpdHlDX0IxTV9NYXBfSlQ+IGNzMSA9IHEuZ2V0UmVzdWx0\nTGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLCBjcy5zaXplKCkpOwog\nICAgICAgIGVtLmNsZWFyKCk7CiAgICAgICAgCiAgICAgICAgLy9maW5kCiAg\nICAgICAgbG9uZyBpZCA9IGIxLmdldElkKCk7CiAgICAgICAgQmlfMVRvTV9N\nYXBfSlQgYjIgPSBlbS5maW5kKEJpXzFUb01fTWFwX0pULmNsYXNzLCBpZCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKGIsIGIyKTsKICAgICAgICAKICAgICAg\nICAvL3JlbW92ZQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4o\nKTsKICAgICAgICBlbS5yZW1vdmUoYjIpOwogICAgICAgIGVtLmdldFRyYW5z\nYWN0aW9uKCkuY29tbWl0KCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lk\nIGNydWRVbmkxTU1hcFJlbEtleUZLKEVudGl0eU1hbmFnZXIgZW0pIHsKICAg\nICAgICAvL2NyZWF0ZQogICAgICAgIFVuaV8xVG9NX01hcF9SZWxLZXlfRksg\ndSA9IG5ldyBVbmlfMVRvTV9NYXBfUmVsS2V5X0ZLKCk7CiAgICAgICAgdS5z\nZXROYW1lKCJ1Iik7CiAgICAgICAgTWFwPEVudGl0eUMsIEVudGl0eUNfVTFN\nX01hcF9SZWxLZXlfRks+IGNzID0gbmV3IEhhc2hNYXA8RW50aXR5QywgRW50\naXR5Q19VMU1fTWFwX1JlbEtleV9GSz4oKTsKICAgICAgICBFbnRpdHlDX1Ux\nTV9NYXBfUmVsS2V5X0ZLIGMxID0gbmV3IEVudGl0eUNfVTFNX01hcF9SZWxL\nZXlfRksoKTsKICAgICAgICBjMS5zZXROYW1lKCJjMSIpOwogICAgICAgIEVu\ndGl0eUMgY0tleTEgPSBuZXcgRW50aXR5QygpOwogICAgICAgIGNLZXkxLnNl\ndE5hbWUoImNLZXkxIik7CiAgICAgICAgY3MucHV0KGNLZXkxLCBjMSk7CiAg\nICAgICAgRW50aXR5Q19VMU1fTWFwX1JlbEtleV9GSyBjMiA9IG5ldyBFbnRp\ndHlDX1UxTV9NYXBfUmVsS2V5X0ZLKCk7CiAgICAgICAgYzIuc2V0TmFtZSgi\nYzIiKTsKICAgICAgICBFbnRpdHlDIGNLZXkyID0gbmV3IEVudGl0eUMoKTsK\nICAgICAgICBjS2V5Mi5zZXROYW1lKCJjS2V5MiIpOwogICAgICAgIGNzLnB1\ndChjS2V5MiwgYzEpOwogICAgICAgIGNzLnB1dChjS2V5MiwgYzIpOwogICAg\nICAgIHUuc2V0RW50aXR5Q3MoY3MpOwogICAgICAgIGVtLnBlcnNpc3QodSk7\nCiAgICAgICAgZW0ucGVyc2lzdChjMSk7CiAgICAgICAgZW0ucGVyc2lzdChj\nMik7CiAgICAgICAgZW0ucGVyc2lzdChjS2V5MSk7CiAgICAgICAgZW0ucGVy\nc2lzdChjS2V5Mik7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7Cgog\nICAgICAgIC8vdXBkYXRlIGJ5IGFkZGluZyBhIG5ldyBDCiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGNzID0gdS5nZXRF\nbnRpdHlDcygpOwogICAgICAgIHUuc2V0TmFtZSgibmV3TmFtZSIpOwogICAg\nICAgIEVudGl0eUNfVTFNX01hcF9SZWxLZXlfRksgYzMgPSBuZXcgRW50aXR5\nQ19VMU1fTWFwX1JlbEtleV9GSygpOwogICAgICAgIGMzLnNldE5hbWUoImMz\nIik7CiAgICAgICAgRW50aXR5QyBjS2V5MyA9IG5ldyBFbnRpdHlDKCk7CiAg\nICAgICAgY0tleTMuc2V0TmFtZSgiY0tleTMiKTsKICAgICAgICBjcy5wdXQo\nY0tleTMsIGMzKTsKICAgICAgICBlbS5wZXJzaXN0KGMzKTsKICAgICAgICBl\nbS5wZXJzaXN0KGNLZXkzKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigp\nLmNvbW1pdCgpOwogICAgICAgIAogICAgICAgIC8vIHVwZGF0ZSBieSByZW1v\ndmluZyBhIGMgYW5kIHRoZW4gYWRkIHRoaXMgYyB0byBhIG5ldyB1CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIEVudGl0\neUNfVTFNX01hcF9SZWxLZXlfRksgYzQgPSBjcy5yZW1vdmUoY0tleTEpOwog\nICAgICAgIAogICAgICAgIFVuaV8xVG9NX01hcF9SZWxLZXlfRksgdTIgPSBu\nZXcgVW5pXzFUb01fTWFwX1JlbEtleV9GSygpOwogICAgICAgIHUyLnNldE5h\nbWUoInUyIik7CiAgICAgICAgTWFwPEVudGl0eUMsIEVudGl0eUNfVTFNX01h\ncF9SZWxLZXlfRks+IGNzMiA9IG5ldyBIYXNoTWFwPEVudGl0eUMsIEVudGl0\neUNfVTFNX01hcF9SZWxLZXlfRks+KCk7CiAgICAgICAgY3MyLnB1dChjS2V5\nMSwgYzQpOwogICAgICAgIHUyLnNldEVudGl0eUNzKGNzMik7CiAgICAgICAg\nZW0ucGVyc2lzdCh1Mik7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5j\nb21taXQoKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIAogICAgICAg\nIC8vcXVlcnkKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoIlNF\nTEVDVCB1IEZST00gVW5pXzFUb01fTWFwX1JlbEtleV9GSyB1IHdoZXJlIHUu\nbmFtZT0nbmV3TmFtZSciKTsKICAgICAgICBVbmlfMVRvTV9NYXBfUmVsS2V5\nX0ZLIHUxID0gKFVuaV8xVG9NX01hcF9SZWxLZXlfRkspcS5nZXRTaW5nbGVS\nZXN1bHQoKTsKICAgICAgICBhc3NlcnRFcXVhbHModSwgdTEpOwogICAgICAg\nIGVtLmNsZWFyKCk7CgogICAgICAgIC8vZmluZAogICAgICAgIGxvbmcgaWQg\nPSB1MS5nZXRJZCgpOwogICAgICAgIFVuaV8xVG9NX01hcF9SZWxLZXlfRksg\nZmluZFUgPSBlbS5maW5kKFVuaV8xVG9NX01hcF9SZWxLZXlfRksuY2xhc3Ms\nIGlkKTsKICAgICAgICBhc3NlcnRFcXVhbHModSwgZmluZFUpOwogICAgICAg\nIAogICAgICAgIC8vcmVtb3ZlCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOwogICAgICAgIGVtLnJlbW92ZShmaW5kVSk7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBjcnVkQmkxTU1hcFJlbEtleUpUKEVudGl0eU1hbmFnZXIgZW0p\nIHsKICAgICAgICBCaV8xVG9NX01hcF9SZWxLZXlfSlQgYiA9IG5ldyBCaV8x\nVG9NX01hcF9SZWxLZXlfSlQoKTsKICAgICAgICBiLnNldE5hbWUoImIiKTsK\nICAgICAgICBNYXA8RW50aXR5QywgRW50aXR5Q19CMU1fTWFwX1JlbEtleV9K\nVD4gY3MgPSBuZXcgSGFzaE1hcDxFbnRpdHlDLCBFbnRpdHlDX0IxTV9NYXBf\nUmVsS2V5X0pUPigpOwogICAgICAgIEVudGl0eUNfQjFNX01hcF9SZWxLZXlf\nSlQgYyA9IG5ldyBFbnRpdHlDX0IxTV9NYXBfUmVsS2V5X0pUKCk7CiAgICAg\nICAgYy5zZXROYW1lKCJjIik7CiAgICAgICAgYy5zZXRCaTFtanQoYik7CiAg\nICAgICAgRW50aXR5QyBjS2V5ID0gbmV3IEVudGl0eUMoKTsKICAgICAgICBj\nS2V5LnNldE5hbWUoImNLZXkiKTsKICAgICAgICBjcy5wdXQoY0tleSwgYyk7\nCiAgICAgICAgYi5zZXRFbnRpdHlDcyhjcyk7CiAgICAgICAgZW0ucGVyc2lz\ndChiKTsKICAgICAgICBlbS5wZXJzaXN0KGMpOwogICAgICAgIGVtLnBlcnNp\nc3QoY0tleSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigp\nOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAg\nICAgIC8vdXBkYXRlCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOwogICAgICAgIGNzID0gYi5nZXRFbnRpdHlDcygpOwogICAgICAgIGIu\nc2V0TmFtZSgibmV3TmFtZSIpOwogICAgICAgIEVudGl0eUNfQjFNX01hcF9S\nZWxLZXlfSlQgYzEgPSBuZXcgRW50aXR5Q19CMU1fTWFwX1JlbEtleV9KVCgp\nOwogICAgICAgIGMxLnNldE5hbWUoImMxIik7CiAgICAgICAgRW50aXR5QyBj\nS2V5MSA9IG5ldyBFbnRpdHlDKCk7CiAgICAgICAgY0tleTEuc2V0TmFtZSgi\nY0tleTEiKTsKICAgICAgICBjcy5wdXQoY0tleTEsIGMxKTsKICAgICAgICBj\nMS5zZXRCaTFtanQoYik7CiAgICAgICAgZW0ucGVyc2lzdChjMSk7CiAgICAg\nICAgZW0ucGVyc2lzdChjS2V5MSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rp\nb24oKS5jb21taXQoKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIAog\nICAgICAgIC8vcXVlcnkKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVl\ncnkoIlNFTEVDVCBiIEZST00gQmlfMVRvTV9NYXBfUmVsS2V5X0pUIGIiKTsK\nICAgICAgICBCaV8xVG9NX01hcF9SZWxLZXlfSlQgYjEgPSAoQmlfMVRvTV9N\nYXBfUmVsS2V5X0pUKXEuZ2V0U2luZ2xlUmVzdWx0KCk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKGIsIGIxKTsKICAgICAgICBlbS5jbGVhcigpOwoKICAgICAg\nICAvLyBxdWVyeSB0aGUgb3duZXIKICAgICAgICBxID0gZW0uY3JlYXRlUXVl\ncnkoIlNFTEVDVCBjIEZST00gRW50aXR5Q19CMU1fTWFwX1JlbEtleV9KVCBj\nIHdoZXJlIGMubmFtZSA9ICdjJyIpOwogICAgICAgIEVudGl0eUNfQjFNX01h\ncF9SZWxLZXlfSlQgbmV3QyA9IChFbnRpdHlDX0IxTV9NYXBfUmVsS2V5X0pU\nKXEuZ2V0U2luZ2xlUmVzdWx0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKG5l\nd0MsIGMpOwogICAgICAgIGVtLmNsZWFyKCk7CiAgICAgICAgCiAgICAgICAg\nLy9maW5kCiAgICAgICAgbG9uZyBpZCA9IGIxLmdldElkKCk7CiAgICAgICAg\nQmlfMVRvTV9NYXBfUmVsS2V5X0pUIGIyID0gZW0uZmluZChCaV8xVG9NX01h\ncF9SZWxLZXlfSlQuY2xhc3MsIGlkKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nYiwgYjIpOwogICAgICAgIAogICAgICAgIC8vcmVtb3ZlCiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnJlbW92ZShi\nMik7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0VW5pTWFueVRvT25lVXNpbmdKb2lu\nVGFibGUoKSB7CiAgICAgICAgTGlzdDxDbGFzczw/Pj4gdHlwZXMgPSBuZXcg\nQXJyYXlMaXN0PENsYXNzPD8+PigpOwogICAgICAgIHR5cGVzLmFkZChFbnRp\ndHlDLmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQoVW5pX01UbzFfSlQuY2xh\nc3MpOwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBl\nbWYgPSBjcmVhdGVFTUYyXzAodHlwZXMpOwogICAgICAgIEVudGl0eU1hbmFn\nZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIAog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIHRyaWdnZXIgdGFibGUgY3Jl\nYXRpb24KICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigp\nOwogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwog\nICAgICAgICAgICBhc3NlcnRTUUxGcmFnbm1lbnRzKHNxbCwgIkNSRUFURSBU\nQUJMRSBVbmlNMUpUX0MiLCAiVV9JRCIsICJDX0lEIik7CiAgICAgICAgICAg\nIGNydWRVbmlNMUpUKGVtKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24g\nZSkgewogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAg\nICAgICBmYWlsKCJNYW55VG9PbmUgbWFwcGluZyBmYWlsZWQgd2l0aCBleGNl\ncHRpb24gbWVzc2FnZTogIiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgICAgICB9\nIGZpbmFsbHkgewogICAgICAgICAgICBlbS5jbG9zZSgpOwogICAgICAgICAg\nICBlbWYuY2xvc2UoKTsgICAgICAgICAgICAKICAgICAgICB9CiAgICB9CiAg\nICAKICAgIHB1YmxpYyB2b2lkIGNydWRVbmlNMUpUKEVudGl0eU1hbmFnZXIg\nZW0pIHsKICAgICAgICAvL2NyZWF0ZQogICAgICAgIFVuaV9NVG8xX0pUIHUg\nPSBuZXcgVW5pX01UbzFfSlQoKTsKICAgICAgICB1LnNldE5hbWUoInUiKTsK\nCiAgICAgICAgVW5pX01UbzFfSlQgdTEgPSBuZXcgVW5pX01UbzFfSlQoKTsK\nICAgICAgICB1MS5zZXROYW1lKCJ1MSIpOwoKICAgICAgICBFbnRpdHlDIGMx\nID0gbmV3IEVudGl0eUMoKTsKICAgICAgICBjMS5zZXROYW1lKCJjMSIpOwog\nICAgICAgIHUuc2V0RW50aXR5QyhjMSk7CiAgICAgICAgdTEuc2V0RW50aXR5\nQyhjMSk7CiAgICAgICAgCiAgICAgICAgZW0ucGVyc2lzdCh1KTsKICAgICAg\nICBlbS5wZXJzaXN0KHUxKTsKICAgICAgICBlbS5wZXJzaXN0KGMxKTsKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy91cGRhdGUg\nYnkgY2hhbmdpbmcgdGhlIG1hbnktdG8tb25lIHZhbHVlIAogICAgICAgIGVt\nLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICB1LnNldE5hbWUo\nInVfbmV3Iik7CiAgICAgICAgRW50aXR5QyBjMyA9IG5ldyBFbnRpdHlDKCk7\nCiAgICAgICAgYzMuc2V0TmFtZSgiYzMiKTsKICAgICAgICB1LnNldEVudGl0\neUMoYzMpOwogICAgICAgIGVtLnBlcnNpc3QoYzMpOwogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgCiAgICAgICAgLy8g\ndXBkYXRlIGJlIHJlbW92aW5nIHRoZSBtYW55LXRvLW9uZSB2YWx1ZQogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICB1LnNl\ndEVudGl0eUMobnVsbCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5j\nb21taXQoKTsKICAgICAgICAKICAgICAgICAvL3F1ZXJ5CiAgICAgICAgUXVl\ncnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgdSBGUk9NIFVuaV9NVG8x\nX0pUIHUgd2hlcmUgdS5uYW1lPSd1X25ldyciKTsKICAgICAgICBVbmlfTVRv\nMV9KVCBxdWVyeVUgPSAoVW5pX01UbzFfSlQpcS5nZXRTaW5nbGVSZXN1bHQo\nKTsKICAgICAgICBhc3NlcnRFcXVhbHModSwgcXVlcnlVKTsKICAgICAgICBl\nbS5jbGVhcigpOwoKICAgICAgICAvL2ZpbmQKICAgICAgICBsb25nIGlkID0g\ndTEuZ2V0SWQoKTsKICAgICAgICBVbmlfTVRvMV9KVCBmaW5kVSA9IGVtLmZp\nbmQoVW5pX01UbzFfSlQuY2xhc3MsIGlkKTsKICAgICAgICBhc3NlcnRFcXVh\nbHModTEsIGZpbmRVKTsKICAgICAgICAKICAgICAgICAvL3JlbW92ZQogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5y\nZW1vdmUoZmluZFUpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29t\nbWl0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdE9uZVRvT25lVXNp\nbmdKb2luVGFibGUoKSB7CiAgICAgICAgTGlzdDxDbGFzczw/Pj4gdHlwZXMg\nPSBuZXcgQXJyYXlMaXN0PENsYXNzPD8+PigpOwogICAgICAgIHR5cGVzLmFk\nZChFbnRpdHlDX0IxMUpULmNsYXNzKTsKICAgICAgICB0eXBlcy5hZGQoRW50\naXR5Q19VMTFKVC5jbGFzcyk7CiAgICAgICAgdHlwZXMuYWRkKEJpXzFUbzFf\nSlQuY2xhc3MpOwogICAgICAgIHR5cGVzLmFkZChVbmlfMVRvMV9KVC5jbGFz\ncyk7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJIGVt\nZiA9IGNyZWF0ZUVNRjJfMCh0eXBlcyk7CiAgICAgICAgRW50aXR5TWFuYWdl\nciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgCiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gdHJpZ2dlciB0YWJsZSBjcmVh\ndGlvbgogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7\nCiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAg\nICAgICAgICAgIGFzc2VydFNRTEZyYWdubWVudHMoc3FsLCAiQ1JFQVRFIFRB\nQkxFIEJpMTFKVF9DIiwgIkJfSUQiLCAiQ19JRCIpOwogICAgICAgICAgICBh\nc3NlcnRTUUxGcmFnbm1lbnRzKHNxbCwgIkNSRUFURSBUQUJMRSBVbmkxMUpU\nX0MiLCAiVV9JRCIsICJDX0lEIik7CiAgICAgICAgICAgIGNydWRCaTExSlQo\nZW0pOwogICAgICAgICAgICBjcnVkVW5pMTFKVChlbSk7CiAgICAgICAgfSBj\nYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgZS5wcmludFN0YWNr\nVHJhY2UoKTsKICAgICAgICAgICAgZmFpbCgiT25lVG9PbmUgbWFwcGluZyBm\nYWlsZWQgd2l0aCBleGNlcHRpb24gbWVzc2FnZTogIiArIGUuZ2V0TWVzc2Fn\nZSgpKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBlbS5jbG9z\nZSgpOwogICAgICAgICAgICBlbWYuY2xvc2UoKTsgICAgICAgICAgICAKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgY3J1ZFVuaTExSlQoRW50\naXR5TWFuYWdlciBlbSkgewogICAgICAgIFVuaV8xVG8xX0pUIHUgPSBuZXcg\nVW5pXzFUbzFfSlQoKTsKICAgICAgICB1LnNldE5hbWUoInVuaTFtanQiKTsK\nCiAgICAgICAgRW50aXR5Q19VMTFKVCBjMSA9IG5ldyBFbnRpdHlDX1UxMUpU\nKCk7CiAgICAgICAgYzEuc2V0TmFtZSgiYzEiKTsKICAgICAgICB1LnNldEVu\ndGl0eUMoYzEpOwoKICAgICAgICBlbS5wZXJzaXN0KHUpOwogICAgICAgIGVt\nLnBlcnNpc3QoYzEpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwog\nICAgICAgIAogICAgICAgIC8vdXBkYXRlIGJ5IHNldHRpbmcgdG8gYSBuZXcg\nQwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAg\nICB1LnNldE5hbWUoInVuaTFtanRfbmV3Iik7CiAgICAgICAgRW50aXR5Q19V\nMTFKVCBuZXdDID0gbmV3IEVudGl0eUNfVTExSlQoKTsKICAgICAgICBuZXdD\nLnNldE5hbWUoIm5ld0MiKTsKICAgICAgICB1LnNldEVudGl0eUMobmV3Qyk7\nCiAgICAgICAgZW0ucGVyc2lzdChuZXdDKTsKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAgIC8vIHVwZGF0\nZSBieSBzZXR0aW5nIHRvIG51bGwKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7CiAgICAgICAgdS5zZXRFbnRpdHlDKG51bGwpOwogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0u\nY2xlYXIoKTsKICAgICAgICAKICAgICAgICAvL3F1ZXJ5CiAgICAgICAgUXVl\ncnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgdSBGUk9NIFVuaV8xVG8x\nX0pUIHUgd2hlcmUgdS5uYW1lID0gJ3VuaTFtanRfbmV3JyIpOwogICAgICAg\nIFVuaV8xVG8xX0pUIHUxID0gKFVuaV8xVG8xX0pUKXEuZ2V0U2luZ2xlUmVz\ndWx0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHUsIHUxKTsKICAgICAgICBl\nbS5jbGVhcigpOwoKICAgICAgICAvL2ZpbmQKICAgICAgICBsb25nIGlkID0g\ndTEuZ2V0SWQoKTsKICAgICAgICBVbmlfMVRvMV9KVCBmaW5kVTEgPSBlbS5m\naW5kKFVuaV8xVG8xX0pULmNsYXNzLCBpZCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKHUsIGZpbmRVMSk7CiAgICAgICAgCiAgICAgICAgLy9yZW1vdmUKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0u\ncmVtb3ZlKGZpbmRVMSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5j\nb21taXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjcnVkQmkxMUpUKEVu\ndGl0eU1hbmFnZXIgZW0pIHsKICAgICAgICBCaV8xVG8xX0pUIGIgPSBuZXcg\nQmlfMVRvMV9KVCgpOwogICAgICAgIGIuc2V0TmFtZSgiYmkxMWZrIik7CiAg\nICAgICAgCiAgICAgICAgRW50aXR5Q19CMTFKVCBjID0gbmV3IEVudGl0eUNf\nQjExSlQoKTsKICAgICAgICBjLnNldE5hbWUoImMiKTsKICAgICAgICBiLnNl\ndEVudGl0eUMoYyk7CiAgICAgICAgLy9jLnNldEJpMTFqdChiKTsKCiAgICAg\nICAgZW0ucGVyc2lzdChiKTsKICAgICAgICBlbS5wZXJzaXN0KGMpOwogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwoKICAgICAgICAvLyB1cGRhdGUg\nYnkgcmVtb3ZpbmcgYSBjIAogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsKICAgICAgICBiLnNldEVudGl0eUMobnVsbCk7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy91cGRh\ndGUKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAg\nICAgYi5zZXROYW1lKCJuZXdOYW1lIik7CiAgICAgICAgRW50aXR5Q19CMTFK\nVCBjMSA9IG5ldyBFbnRpdHlDX0IxMUpUKCk7CiAgICAgICAgYzEuc2V0TmFt\nZSgiYzEiKTsKICAgICAgICBiLnNldEVudGl0eUMoYzEpOwogICAgICAgIC8v\nYzEuc2V0QmkxMWp0KGIpOwogICAgICAgIGVtLnBlcnNpc3QoYzEpOwogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgCiAg\nICAgICAgLy9xdWVyeQogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVy\neSgiU0VMRUNUIHUgRlJPTSBCaV8xVG8xX0pUIHUiKTsKICAgICAgICBCaV8x\nVG8xX0pUIGIxID0gKEJpXzFUbzFfSlQpcS5nZXRTaW5nbGVSZXN1bHQoKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoYiwgYjEpOwogICAgICAgIGVtLmNsZWFy\nKCk7CgogICAgICAgIC8vIHF1ZXJ5CiAgICAgICAgcSA9IGVtLmNyZWF0ZVF1\nZXJ5KCJTRUxFQ1QgYyBGUk9NIEVudGl0eUNfQjExSlQgYyIpOwogICAgICAg\nIExpc3Q8RW50aXR5Q19CMTFKVD4gY3MxID0gcS5nZXRSZXN1bHRMaXN0KCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIGNzMS5zaXplKCkpOwogICAgICAg\nIGVtLmNsZWFyKCk7CiAgICAgICAgCiAgICAgICAgLy9maW5kCiAgICAgICAg\nbG9uZyBpZCA9IGIxLmdldElkKCk7CiAgICAgICAgQmlfMVRvMV9KVCBiMiA9\nIGVtLmZpbmQoQmlfMVRvMV9KVC5jbGFzcywgaWQpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyhiLCBiMik7CiAgICAgICAgCiAgICAgICAgLy9yZW1vdmUKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0u\ncmVtb3ZlKGIyKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOwogICAgfQoKICAgIHByaXZhdGUgT3BlbkpQQUVudGl0eU1hbmFnZXJG\nYWN0b3J5U1BJIGNyZWF0ZUVNRjJfMChMaXN0PENsYXNzPD8+PiB0eXBlcykg\newogICAgICAgIE1hcDxPYmplY3QsT2JqZWN0PiBtYXAgPSBuZXcgSGFzaE1h\ncDxPYmplY3QsT2JqZWN0PigpOwogICAgICAgIG1hcC5wdXQoIm9wZW5qcGEu\namRiYy5KREJDTGlzdGVuZXJzIiwgCiAgICAgICAgICAgICAgICBuZXcgSkRC\nQ0xpc3RlbmVyW10geyAKICAgICAgICAgICAgICAgICAgICB0aGlzLm5ldyBM\naXN0ZW5lcigpIAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgbWFwLnB1\ndCgib3BlbmpwYS5qZGJjLlN5bmNocm9uaXplTWFwcGluZ3MiLCAKICAgICAg\nICAgICAgImJ1aWxkU2NoZW1hKEZvcmVpZ25LZXlzPXRydWUsU2NoZW1hQWN0\naW9uPSdkcm9wLGFkZCcpIik7CiAgICAgICAgbWFwLnB1dCgib3BlbmpwYS5D\nb21wYXRpYmlsaXR5IiwgIlN0cmljdElkZW50aXR5VmFsdWVzPXRydWUiKTsK\nCiAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo\nKTsKICAgICAgICBmb3IgKENsYXNzPD8+IGMgOiB0eXBlcykgewogICAgICAg\nICAgICBpZiAoYnVmLmxlbmd0aCgpID4gMCkgewogICAgICAgICAgICAgICAg\nYnVmLmFwcGVuZCgiOyIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJ1\nZi5hcHBlbmQoYy5nZXROYW1lKCkpOwogICAgICAgIH0KICAgICAgICBTdHJp\nbmcgb2xkVmFsdWUgPQogICAgICAgICAgICBtYXAuY29udGFpbnNLZXkoIm9w\nZW5qcGEuTWV0YURhdGFGYWN0b3J5IikgPyAiLCIgKyBtYXAuZ2V0KCJvcGVu\nanBhLk1ldGFEYXRhRmFjdG9yeSIpLnRvU3RyaW5nKCkgOiAiIjsKICAgICAg\nICBtYXAucHV0KCJvcGVuanBhLk1ldGFEYXRhRmFjdG9yeSIsICJqcGEoVHlw\nZXM9IiArIGJ1Zi50b1N0cmluZygpICsgb2xkVmFsdWUgKyAiKSIpOwogICAg\nICAgIHJldHVybiAoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKU9w\nZW5KUEFQZXJzaXN0ZW5jZS4KICAgICAgICAgICAgICAgIGNyZWF0ZUVudGl0\neU1hbmFnZXJGYWN0b3J5KCJwZXJzaXN0ZW5jZV8yXzAiLAogICAgICAgICAg\nICAgICAgICAgICJvcmcvYXBhY2hlL29wZW5qcGEvcGVyc2lzdGVuY2UvY29t\ncGF0LyIgKwogICAgICAgICAgICAgICAgICAgICJwZXJzaXN0ZW5jZV8yXzAu\neG1sIiwgbWFwKTsgICAgICAgIAogICAgfQogICAgCiAgICB2b2lkIGFzc2Vy\ndFNRTEZyYWdubWVudHMoTGlzdDxTdHJpbmc+IGxpc3QsIFN0cmluZy4uLiBr\nZXlzKSB7CiAgICAgICAgaWYgKFNRTFNuaWZmZXIubWF0Y2hlcyhsaXN0LCBr\nZXlzKSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGZhaWwoIk5vbmUg\nb2YgdGhlIGZvbGxvd2luZyAiICsgc3FsLnNpemUoKSArICIgU1FMIFxyXG4i\nICsgCiAgICAgICAgICAgICAgICB0b1N0cmluZyhzcWwpICsgIlxyXG4gY29u\ndGFpbnMgYWxsIGtleXMgXHJcbiIKICAgICAgICAgICAgICAgICsgdG9TdHJp\nbmcoQXJyYXlzLmFzTGlzdChrZXlzKSkpOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgdG9TdHJpbmcoTGlzdDxTdHJpbmc+IGxpc3QpIHsKICAgICAgICBT\ndHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAg\nIGZvciAoU3RyaW5nIHMgOiBsaXN0KQogICAgICAgICAgICBidWYuYXBwZW5k\nKHMpLmFwcGVuZCgiXHJcbiIpOwogICAgICAgIHJldHVybiBidWYudG9TdHJp\nbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgY2xhc3MgTGlzdGVuZXIgZXh0ZW5k\ncyBBYnN0cmFjdEpEQkNMaXN0ZW5lciB7CiAgICAgICAgQE92ZXJyaWRlCiAg\nICAgICAgcHVibGljIHZvaWQgYmVmb3JlRXhlY3V0ZVN0YXRlbWVudChKREJD\nRXZlbnQgZXZlbnQpIHsKICAgICAgICAgICAgaWYgKGV2ZW50LmdldFNRTCgp\nICE9IG51bGwgJiYgc3FsICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHNx\nbC5hZGQoZXZlbnQuZ2V0U1FMKCkpOwogICAgICAgICAgICAgICAgc3FsQ291\nbnQrKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

