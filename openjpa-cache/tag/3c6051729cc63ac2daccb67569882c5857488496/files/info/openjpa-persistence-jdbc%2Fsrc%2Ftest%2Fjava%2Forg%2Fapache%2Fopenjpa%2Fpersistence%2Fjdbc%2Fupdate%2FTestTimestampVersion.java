{"sha":"6e988bc23c3670a39af85f09cb0ed6f646b4e929","node_id":"MDQ6QmxvYjIwNjM2NDo2ZTk4OGJjMjNjMzY3MGEzOWFmODVmMDljYjBlZDZmNjQ2YjRlOTI5","size":3359,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6e988bc23c3670a39af85f09cb0ed6f646b4e929","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy51\ncGRhdGU7CgppbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wOwoKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU2luZ2xlRU1GVGVzdENh\nc2U7CgovKioKICogVGVzdHMgZm9yIHVwZGF0ZSBvbiBlbnRpdHkgdGhhdCB1\nc2VzIGEgVGltZXN0YW1wIGFzIHZlcnNpb24uCiAqIAogKiBAc2VlIDxBIEhS\nRUY9Imh0dHBzOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvT1BF\nTkpQQS0xNTgzIj5PUEVOSlBBLTE1ODM8L0E+CiAqICAgICAKICogQGF1dGhv\nciBQaW5ha2kgUG9kZGFyCiAqIAogKi8KcHVibGljIGNsYXNzIFRlc3RUaW1l\nc3RhbXBWZXJzaW9uIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoJcHVi\nbGljIHZvaWQgc2V0VXAoKSB7CgkJc3VwZXIuc2V0VXAoQ0xFQVJfVEFCTEVT\nLCBUaW1lc3RhbXBlZEVudGl0eS5jbGFzcywgTnVtZXJpY1ZlcnNpb25lZEVu\ndGl0eS5jbGFzcyk7Cgl9CgogICAgcHVibGljIHZvaWQgdGVzdEJ1bGtVcGRh\ndGVPblRpbWVzdGFtcGVkVmVyc2lvbigpIHsKICAgICAgICBUaW1lc3RhbXBl\nZEVudGl0eSBwYyA9IG5ldyBUaW1lc3RhbXBlZEVudGl0eSgpOwogICAgICAg\nIHBjLnNldE5hbWUoIk9yaWdpbmFsIik7CiAgICAgICAgRW50aXR5TWFuYWdl\nciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3Qo\ncGMpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAg\nICAgICAgCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gZGVsYXkgdG8g\nZW5zdXJlIHRoZSBuZXcgdGltZXN0YW1wIGV4Y2VlZHMgdGhlIHRpbWVyJ3Mg\ncmVzb2x1dGlvbi4KICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDUwMCk7CiAg\nICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkgewogICAg\nICAgIH0KCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwog\nICAgICAgIFRpbWVzdGFtcCBvbGRWZXJzaW9uID0gcGMuZ2V0VmVyc2lvbigp\nOwogICAgICAgIFN0cmluZyBqcHFsID0gIlVQREFURSBUaW1lc3RhbXBlZEVu\ndGl0eSB0IFNFVCB0Lm5hbWU9Om5ld25hbWUgV0hFUkUgdC5uYW1lPTpvbGRu\nYW1lIjsKICAgICAgICBlbS5jcmVhdGVRdWVyeShqcHFsKQogICAgICAgICAg\nLnNldFBhcmFtZXRlcigibmV3bmFtZSIsICJVcGRhdGVkIikKICAgICAgICAg\nIC5zZXRQYXJhbWV0ZXIoIm9sZG5hbWUiLCAiT3JpZ2luYWwiKQogICAgICAg\nICAgLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5yZWZyZXNoKHBjKTsKICAgICAg\nICBUaW1lc3RhbXAgbmV3VmVyc2lvbiA9IHBjLmdldFZlcnNpb24oKTsKICAg\nICAgICBhc3NlcnRUcnVlKCJFeHBlY3RlZCBuZXdWZXJzaW9uPSIgKyBuZXdW\nZXJzaW9uLnRvU3RyaW5nKCkgKyAiIHRvIGJlIGFmdGVyIG9sZFZlcnNpb249\nIiArIG9sZFZlcnNpb24udG9TdHJpbmcoKSwKICAgICAgICAgICAgbmV3VmVy\nc2lvbi5hZnRlcihvbGRWZXJzaW9uKSk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RCdWxrVXBkYXRlT25OdW1lcmljVmVyc2lvbigpIHsKICAg\nICAgICBOdW1lcmljVmVyc2lvbmVkRW50aXR5IHBjID0gbmV3IE51bWVyaWNW\nZXJzaW9uZWRFbnRpdHkoKTsKICAgICAgICBwYy5zZXROYW1lKCJPcmlnaW5h\nbCIpOwogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKICAgICAgICBlbS5wZXJzaXN0KHBjKTsKICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBpbnQgb2xkVmVyc2lv\nbiA9IHBjLmdldFZlcnNpb24oKTsKICAgICAgICBTdHJpbmcganBxbCA9ICJV\nUERBVEUgTnVtZXJpY1ZlcnNpb25lZEVudGl0eSB0IFNFVCB0Lm5hbWU9Om5l\nd25hbWUgV0hFUkUgdC5uYW1lPTpvbGRuYW1lIjsKICAgICAgICBlbS5jcmVh\ndGVRdWVyeShqcHFsKQogICAgICAgICAgLnNldFBhcmFtZXRlcigibmV3bmFt\nZSIsICJVcGRhdGVkIikKICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoIm9sZG5h\nbWUiLCAiT3JpZ2luYWwiKQogICAgICAgICAgLmV4ZWN1dGVVcGRhdGUoKTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAg\nIAogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAg\nICBlbS5yZWZyZXNoKHBjKTsKICAgICAgICBpbnQgbmV3VmVyc2lvbiA9IHBj\nLmdldFZlcnNpb24oKTsKICAgICAgICBhc3NlcnRFcXVhbHMobmV3VmVyc2lv\nbiwgb2xkVmVyc2lvbisxKTsKICAgIH0KCgkKfQo=\n","encoding":"base64"}

