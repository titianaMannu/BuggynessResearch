{"sha":"d3f905b575fe09e658d52e07974ab174f6fac101","node_id":"MDQ6QmxvYjIwNjM2NDpkM2Y5MDViNTc1ZmUwOWU2NThkNTJlMDc5NzRhYjE3NGY2ZmFjMTAx","size":6235,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d3f905b575fe09e658d52e07974ab174f6fac101","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YS51dGlsLkRhdGU7CmltcG9ydCBqYXZhLnV0aWwuTGlz\ndDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5VHJhbnNhY3Rpb247Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5RdWVyeTsKCmltcG9ydCBqdW5pdC5m\ncmFtZXdvcmsuQXNzZXJ0OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5zcWwuREJEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuc3FsLkhTUUxEaWN0aW9uYXJ5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTFNlcnZlckRpY3Rpb25h\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVz\ndC5TaW5nbGVFTUZUZXN0Q2FzZTsKCi8qKgogKiBUZXN0IEpEQkMgZXNjYXBl\nIHN5bnRheCBmb3IgZGF0ZSwgdGltZSwgYW5kIHRpbWVzdGFtcCBsaXRlcmFs\ncwogKi8KcHVibGljIGNsYXNzIFRlc3RKREJDRXNjYXBlRGF0ZSBleHRlbmRz\nIFNpbmdsZUVNRlRlc3RDYXNlIHsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgp\nIHsKICAgICAgICBzZXRVcChFbXBsb3llZS5jbGFzcywgRFJPUF9UQUJMRVMp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RKREJDRXNjYXBlKCkgewog\nICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFu\nYWdlcigpOwogICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHRyYW4gPSBlbS5n\nZXRUcmFuc2FjdGlvbigpOwogICAgICAgIEVtcGxveWVlIGUgPSBuZXcgRW1w\nbG95ZWUoKTsKICAgICAgICBlLnNldEVtcElkKDEpOwogICAgICAgIGUuc2V0\nTmFtZSgibmFtZTEiKTsKICAgICAgICBlLnNldEhpcmVEYXRlKG5ldyBEYXRl\nKCkpOwogICAgICAgIGUuc2V0SGlyZVRpbWUobmV3IERhdGUoKSk7CiAgICAg\nICAgZS5zZXRIaXJlVGltZXN0YW1wKG5ldyBEYXRlKCkpOwogICAgICAgIGVt\nLnBlcnNpc3QoZSk7CiAgICAgICAgdHJhbi5iZWdpbigpOwogICAgICAgIGVt\nLmZsdXNoKCk7CiAgICAgICAgdHJhbi5jb21taXQoKTsKICAgICAgICBlbS5j\nbGVhcigpOwoKICAgICAgICBTdHJpbmdbXSBqcHFsOwogICAgICAgIERCRGlj\ndGlvbmFyeSBkaWN0ID0gKChKREJDQ29uZmlndXJhdGlvbillbWYuZ2V0Q29u\nZmlndXJhdGlvbigpKS5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpOwogICAg\nICAgIGlmICgoZGljdCBpbnN0YW5jZW9mIFNRTFNlcnZlckRpY3Rpb25hcnkp\nIHx8IChkaWN0IGluc3RhbmNlb2YgSFNRTERpY3Rpb25hcnkpKSB7CiAgICAg\nICAgICAgIGpwcWwgPSBuZXcgU3RyaW5nW10gewogICAgICAgICAgICAgICAg\nLy8gc29tZSBjaGFuZ2VzIHRvIHRoZSBqcHFsIHN0cmluZ3MgaGFkIHRvIGJl\nIG1hZGUgZm9yIE1TU1FMIGFuZCBIU1FMREIKICAgICAgICAgICAgICAgICJz\nZWxlY3QgYSBmcm9tIEVtcGxveWVlIGEgd2hlcmUgYS5oaXJlRGF0ZSA+PSB7\nZCAnMjAwOS0wOC0yNSd9IiwKICAgICAgICAgICAgICAgICJzZWxlY3QgYSBm\ncm9tIEVtcGxveWVlIGEgd2hlcmUgYS5oaXJlRGF0ZSA+PSB7ZCAnMjAwOS0w\nOC0wNSd9IiwgICAgLy8gcmVxdWlyZXMgeXl5eS1tbS1kZAogICAgICAgICAg\nICAgICAgLy8gInNlbGVjdCBhIGZyb20gRW1wbG95ZWUgYSB3aGVyZSBhLmhp\ncmVUaW1lID49IHt0ICcwMDowMDowMCd9IiwgICAvLyBmYWlscyA/CiAgICAg\nICAgICAgICAgICAic2VsZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdoZXJlIGEu\naGlyZVRpbWVzdGFtcCA+PSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6MDAnfSIs\nCiAgICAgICAgICAgICAgICAic2VsZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdo\nZXJlIGEuaGlyZVRpbWVzdGFtcCA+PSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6\nMDAuJ30iLAogICAgICAgICAgICAgICAgInNlbGVjdCBhIGZyb20gRW1wbG95\nZWUgYSB3aGVyZSBhLmhpcmVUaW1lc3RhbXAgPj0ge3RzICcyMDA5LTA4LTI1\nIDAwOjAwOjAwLjEnfSIsCiAgICAgICAgICAgICAgICAic2VsZWN0IGEgZnJv\nbSBFbXBsb3llZSBhIHdoZXJlIGEuaGlyZVRpbWVzdGFtcCA+PSB7dHMgJzIw\nMDktMDgtMjUgMDA6MDA6MDAuMTInfSIsCiAgICAgICAgICAgICAgICAic2Vs\nZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdoZXJlIGEuaGlyZVRpbWVzdGFtcCA+\nPSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6MDAuMTIzJ30iLAogICAgICAgICAg\nICAgICAgLy8gInNlbGVjdCBhIGZyb20gRW1wbG95ZWUgYSB3aGVyZSBhLmhp\ncmVUaW1lc3RhbXAgPj0ge3RzICcyMDA5LTA4LTI1IDAwOjAwOjAwLjEyMzQn\nfSIsIC8vIG1vcmUgdGhhbiAzCiAgICAgICAgICAgICAgICAvLyAic2VsZWN0\nIGEgZnJvbSBFbXBsb3llZSBhIHdoZXJlIGEuaGlyZVRpbWVzdGFtcCA+PSB7\ndHMgJzIwMDktMDgtMjUgMDA6MDA6MDAuMTIzNDUnfSIsIC8vIGZhaWxzCiAg\nICAgICAgICAgICAgICAvLyAic2VsZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdo\nZXJlIGEuaGlyZVRpbWVzdGFtcCA+PSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6\nMDAuMTIzNDU2J30iLAogICAgICAgICAgICAgICAgInNlbGVjdCB7dCAnMDA6\nMDA6MDAnfSwgYS5lbXBJZCBmcm9tIEVtcGxveWVlIGEiLAogICAgICAgICAg\nICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGpwcWwgPSBuZXcg\nU3RyaW5nW10gewogICAgICAgICAgICAgICAgInNlbGVjdCBhIGZyb20gRW1w\nbG95ZWUgYSB3aGVyZSBhLmhpcmVEYXRlID49IHtkICcyMDA5LTA4LTI1J30i\nLAogICAgICAgICAgICAgICAgInNlbGVjdCBhIGZyb20gRW1wbG95ZWUgYSB3\naGVyZSBhLmhpcmVEYXRlID49IHtkICcyMDA5LTgtNSd9IiwKICAgICAgICAg\nICAgICAgICJzZWxlY3QgYSBmcm9tIEVtcGxveWVlIGEgd2hlcmUgYS5oaXJl\nVGltZSA+PSB7dCAnMDA6MDA6MDAnfSIsCiAgICAgICAgICAgICAgICAic2Vs\nZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdoZXJlIGEuaGlyZVRpbWVzdGFtcCA+\nPSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6MDAnfSIsCiAgICAgICAgICAgICAg\nICAic2VsZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdoZXJlIGEuaGlyZVRpbWVz\ndGFtcCA+PSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6MDAuJ30iLAogICAgICAg\nICAgICAgICAgInNlbGVjdCBhIGZyb20gRW1wbG95ZWUgYSB3aGVyZSBhLmhp\ncmVUaW1lc3RhbXAgPj0ge3RzICcyMDA5LTA4LTI1IDAwOjAwOjAwLjEnfSIs\nCiAgICAgICAgICAgICAgICAic2VsZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdo\nZXJlIGEuaGlyZVRpbWVzdGFtcCA+PSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6\nMDAuMTInfSIsCiAgICAgICAgICAgICAgICAic2VsZWN0IGEgZnJvbSBFbXBs\nb3llZSBhIHdoZXJlIGEuaGlyZVRpbWVzdGFtcCA+PSB7dHMgJzIwMDktMDgt\nMjUgMDA6MDA6MDAuMTIzJ30iLAogICAgICAgICAgICAgICAgInNlbGVjdCBh\nIGZyb20gRW1wbG95ZWUgYSB3aGVyZSBhLmhpcmVUaW1lc3RhbXAgPj0ge3Rz\nICcyMDA5LTA4LTI1IDAwOjAwOjAwLjEyMzQnfSIsCiAgICAgICAgICAgICAg\nICAic2VsZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdoZXJlIGEuaGlyZVRpbWVz\ndGFtcCA+PSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6MDAuMTIzNDUnfSIsCiAg\nICAgICAgICAgICAgICAic2VsZWN0IGEgZnJvbSBFbXBsb3llZSBhIHdoZXJl\nIGEuaGlyZVRpbWVzdGFtcCA+PSB7dHMgJzIwMDktMDgtMjUgMDA6MDA6MDAu\nMTIzNDU2J30iLAogICAgICAgICAgICAgICAgInNlbGVjdCB7dCAnMDA6MDA6\nMDAnfSwgYS5lbXBJZCBmcm9tIEVtcGxveWVlIGEiLAogICAgICAgICAgICB9\nOwogICAgICAgIH0KICAgICAgICAKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7\nIGkgPCBqcHFsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIFF1ZXJ5IHEg\nPSBlbS5jcmVhdGVRdWVyeShqcHFsW2ldKTsKICAgICAgICAgICAgTGlzdCBy\nZXN1bHRzID0gcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgICAgIEFzc2Vy\ndC5hc3NlcnRFcXVhbHMoIkZvciBqcHFsWyIraSsiXSIsIDEsIHJlc3VsdHMu\nc2l6ZSgpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gVGVzdCBz\ndXBwb3J0IGluIEhBVklORyBjbGF1c2UuCiAgICAgICAgU3RyaW5nW10gaGF2\naW5nSnBxbCA9IHsKICAgICAgICAgICAgInNlbGVjdCBhIGZyb20gRW1wbG95\nZWUgYSBncm91cCBieSBhLmhpcmVUaW1lIGhhdmluZyBhLmhpcmVUaW1lID49\nIHt0ICcwMDowMDowMCd9IiwKICAgICAgICAgICAgInNlbGVjdCBhIGZyb20g\nRW1wbG95ZWUgYSBncm91cCBieSBhLmhpcmVEYXRlIGhhdmluZyBhLmhpcmVE\nYXRlID49IHtkICcyMDA5LTA4LTI1J30iLAogICAgICAgICAgICAic2VsZWN0\nIGEgZnJvbSBFbXBsb3llZSBhIGdyb3VwIGJ5IGEuaGlyZVRpbWVzdGFtcCBo\nYXZpbmcgYS5oaXJlVGltZXN0YW1wID49IHtkICcyMDA5LTA4LTI1J30iCiAg\nICAgICAgfTsKCiAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCBoYXZpbmdK\ncHFsLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIFF1ZXJ5IHEgPSBlbS5j\ncmVhdGVRdWVyeShoYXZpbmdKcHFsW2pdKTsKICAgICAgICAgICAgTGlzdCBy\nZXN1bHRzID0gcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgICAgIEFzc2Vy\ndC5hc3NlcnRFcXVhbHMoIkZvciBoYXZpbmdKcHFsWyIraisiXSIsIDEsIHJl\nc3VsdHMuc2l6ZSgpKTsKICAgICAgICB9CiAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwogICAgICAgIFN0cmluZyB1cGRhdGU7CiAgICAg\nICAgaWYgKChkaWN0IGluc3RhbmNlb2YgU1FMU2VydmVyRGljdGlvbmFyeSkg\nfHwgKGRpY3QgaW5zdGFuY2VvZiBIU1FMRGljdGlvbmFyeSkpIHsKICAgICAg\nICAgICAgLy8gbW9yZSB0aGFuIDMgZGlnaXRzIGFmdGVyIDAwOjAwOjAwLiBm\nYWlscyBvbiBNU1NRTCBhbmQgSFNRTERCCiAgICAgICAgICAgIHVwZGF0ZSA9\nICJ1cGRhdGUgRW1wbG95ZWUgYSBzZXQgYS5oaXJlVGltZXN0YW1wID0ge3Rz\nICcyMDA5LTA4LTI1IDAwOjAwOjAwLjEyMyd9IHdoZXJlIGEuZW1wSWQgPSAx\nIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1cGRhdGUgPSAidXBk\nYXRlIEVtcGxveWVlIGEgc2V0IGEuaGlyZVRpbWVzdGFtcCA9IHt0cyAnMjAw\nOS0wOC0yNSAwMDowMDowMC4xMjM0NTYnfSB3aGVyZSBhLmVtcElkID0gMSI7\nCiAgICAgICAgfQogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSh1\ncGRhdGUpOwogICAgICAgIGludCB1cGRhdGVDbnQgPSBxLmV4ZWN1dGVVcGRh\ndGUoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwog\nICAgICAgIEFzc2VydC5hc3NlcnRFcXVhbHMoMSwgdXBkYXRlQ250KTsKICAg\nICAgICBlbS5jbG9zZSgpOwogICAgfQp9Cg==\n","encoding":"base64"}

