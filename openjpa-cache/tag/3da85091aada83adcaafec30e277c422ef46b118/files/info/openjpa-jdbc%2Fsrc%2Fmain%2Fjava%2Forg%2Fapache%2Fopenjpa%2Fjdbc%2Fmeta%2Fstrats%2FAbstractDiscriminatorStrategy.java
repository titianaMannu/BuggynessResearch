{"sha":"0b9973a8f4559596d82c1b37ef028dea6a35dd7b","node_id":"MDQ6QmxvYjIwNjM2NDowYjk5NzNhOGY0NTU5NTk2ZDgyYzFiMzdlZjAyOGRlYTZhMzVkZDdi","size":3142,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0b9973a8f4559596d82c1b37ef028dea6a35dd7b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5Nb2RpZmllcjsKaW1wb3J0IGph\ndmEuc3FsLlNRTEV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5rZXJuZWwuSkRCQ1N0b3JlOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMubWV0YS5DbGFzc01hcHBpbmc7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5tZXRhLkRpc2NyaW1pbmF0b3I7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkRpc2NyaW1pbmF0b3JTdHJh\ndGVneTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Kb2lu\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5SZXN1bHQ7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FMQnVmZmVy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNlbGVjdDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxvZzsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CgovKioK\nICogTm8tb3Agc3RyYXRlZ3kgZm9yIGVhc3kgZXh0ZW5zaW9uLgogKgogKiBA\nYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIEFi\nc3RyYWN0RGlzY3JpbWluYXRvclN0cmF0ZWd5CiAgICBleHRlbmRzIEFic3Ry\nYWN0U3RyYXRlZ3kKICAgIGltcGxlbWVudHMgRGlzY3JpbWluYXRvclN0cmF0\nZWd5IHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xv\nYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKEFic3RyYWN0RGlz\nY3JpbWluYXRvclN0cmF0ZWd5LmNsYXNzKTsKCiAgICAvKioKICAgICAqIFRo\nZSBvd25pbmcgZGlzY3JpbWluYXRvci4KICAgICAqLwogICAgcHJvdGVjdGVk\nIERpc2NyaW1pbmF0b3IgZGlzYyA9IG51bGw7CgogICAgLyoqCiAgICAgKiBX\naGV0aGVyIHRoZSBvd25pbmcgY2xhc3MgaXMgZmluYWwuCiAgICAgKi8KICAg\nIHByb3RlY3RlZCBib29sZWFuIGlzRmluYWwgPSBmYWxzZTsKCiAgICBwdWJs\naWMgdm9pZCBzZXREaXNjcmltaW5hdG9yKERpc2NyaW1pbmF0b3Igb3duZXIp\nIHsKICAgICAgICBkaXNjID0gb3duZXI7CiAgICAgICAgQ2xhc3NNYXBwaW5n\nIGNscyA9IGRpc2MuZ2V0Q2xhc3NNYXBwaW5nKCk7CiAgICAgICAgaXNGaW5h\nbCA9IE1vZGlmaWVyLmlzRmluYWwoY2xzLmdldERlc2NyaWJlZFR5cGUoKS5n\nZXRNb2RpZmllcnMoKSk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gc2Vs\nZWN0KFNlbGVjdCBzZWwsIENsYXNzTWFwcGluZyBtYXBwaW5nKSB7CiAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogQnkgZGVm\nYXVsdCwgbG9ncyBhIHdhcm5pbmcgdGhhdCB0aGlzIGRpc2NyaW1pbmF0b3Ig\nY2Fubm90IGNhbGN1bGF0ZQogICAgICogaXRzIGxpc3Qgb2Ygc3ViY2xhc3Nl\ncyBvbiBpdHMgb3duLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBsb2FkU3Vi\nY2xhc3NlcyhKREJDU3RvcmUgc3RvcmUpCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiwgQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgaWYg\nKCFpc0ZpbmFsKSB7CiAgICAgICAgICAgIExvZyBsb2cgPSBkaXNjLmdldE1h\ncHBpbmdSZXBvc2l0b3J5KCkuZ2V0TG9nKCk7CiAgICAgICAgICAgIGlmIChs\nb2cuaXNXYXJuRW5hYmxlZCgpKQogICAgICAgICAgICAgICAgbG9nLndhcm4o\nX2xvYy5nZXQoImNhbnQtaW5pdC1zdWJzIiwgZGlzYy5nZXRDbGFzc01hcHBp\nbmcoKSkpOwogICAgICAgIH0KCiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBj\nYWxsIHRoaXMgbWV0aG9kIGFnYWluCiAgICAgICAgZGlzYy5zZXRTdWJjbGFz\nc2VzTG9hZGVkKHRydWUpOwogICAgfQoKICAgIHB1YmxpYyBDbGFzcyBnZXRD\nbGFzcyhKREJDU3RvcmUgc3RvcmUsIENsYXNzTWFwcGluZyBiYXNlLCBSZXN1\nbHQgcmVzdWx0KQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24sIENsYXNz\nTm90Rm91bmRFeGNlcHRpb24gewogICAgICAgIHJldHVybiBiYXNlLmdldERl\nc2NyaWJlZFR5cGUoKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBoYXND\nbGFzc0NvbmRpdGlvbnMoQ2xhc3NNYXBwaW5nIGJhc2UsIGJvb2xlYW4gc3Vi\ncykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMg\nU1FMQnVmZmVyIGdldENsYXNzQ29uZGl0aW9ucyhTZWxlY3Qgc2VsLCBKb2lu\ncyBqb2lucywgCiAgICAgICAgQ2xhc3NNYXBwaW5nIGJhc2UsIGJvb2xlYW4g\nc3VicykgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9Cg==\n","encoding":"base64"}

