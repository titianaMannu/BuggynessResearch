{"sha":"d70a112d1af14c17f02ade564cb8817fa02f657e","node_id":"MDQ6QmxvYjIwNjM2NDpkNzBhMTEyZDFhZjE0YzE3ZjAyYWRlNTY0Y2I4ODE3ZmEwMmY2NTdl","size":3103,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d70a112d1af14c17f02ade564cb8817fa02f657e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBq\nYXZhLnV0aWwuSXRlcmF0b3I7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmFic3RyYWN0c3RvcmUuQWJzdHJhY3RTdG9yZUJyb2tlckZhY3Rvcnk7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJyb2tlckZhY3Rvcnk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJh\ndGlvblByb3ZpZGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5j\nb25mLlBsdWdpblZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLlByb2R1Y3REZXJpdmF0aW9uczsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIuY29uZi5Qcm9kdWN0RGVyaXZhdGlvbjsKCi8qKgogKiBW\nYWx1ZSB0eXBlIHVzZWQgdG8gcmVwcmVzZW50IHRoZSB7QGxpbmsgQnJva2Vy\nRmFjdG9yeX0uIFRoaXMgdHlwZSBpcwogKiBkZWZpbmVkIHNlcGFyYXRlbHkg\nc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBib3RoIGluIHRoZSBnbG9iYWwgY29u\nZmlndXJhdGlvbgogKiBhbmQgaW4ge0BsaW5rIG9yZy5hcGFjaGUub3Blbmpw\nYS5rZXJuZWwuQm9vdHN0cmFwfSB3aXRoIHRoZSBzYW1lCiAqIGVuY2Fwc3Vs\nYXRlZCBjb25maWd1cmF0aW9uLgogKgogKiBAbm9qYXZhZG9jCiAqLwpwdWJs\naWMgY2xhc3MgQnJva2VyRmFjdG9yeVZhbHVlCiAgICBleHRlbmRzIFBsdWdp\nblZhbHVlIHsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBLRVkg\nPSAiQnJva2VyRmFjdG9yeSI7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwg\nU3RyaW5nW10gX2FsaWFzZXM7CiAgICBzdGF0aWMgewogICAgICAgIE1hcCBh\nbGlhc2VzID0gbmV3IEhhc2hNYXAoKTsKICAgICAgICBhbGlhc2VzLnB1dCgi\nYWJzdHJhY3RzdG9yZSIsIAogICAgICAgICAgICBBYnN0cmFjdFN0b3JlQnJv\na2VyRmFjdG9yeS5jbGFzcy5nZXROYW1lKCkpOwogICAgICAgIFByb2R1Y3RE\nZXJpdmF0aW9uW10gZHMgPSBQcm9kdWN0RGVyaXZhdGlvbnMuZ2V0UHJvZHVj\ndERlcml2YXRpb25zKCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBk\ncy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoZHNbaV0gaW5zdGFu\nY2VvZiBPcGVuSlBBUHJvZHVjdERlcml2YXRpb24pCiAgICAgICAgICAgICAg\nICAoKE9wZW5KUEFQcm9kdWN0RGVyaXZhdGlvbikgZHNbaV0pLnB1dEJyb2tl\nckZhY3RvcnlBbGlhc2VzCiAgICAgICAgICAgICAgICAgICAgKGFsaWFzZXMp\nOwogICAgICAgIH0KCiAgICAgICAgX2FsaWFzZXMgPSBuZXcgU3RyaW5nW2Fs\naWFzZXMuc2l6ZSgpICogMl07CiAgICAgICAgaW50IGkgPSAwOwogICAgICAg\nIGZvciAoSXRlcmF0b3IgaXRlciA9IGFsaWFzZXMuZW50cnlTZXQoKS5pdGVy\nYXRvcigpOyBpdGVyLmhhc05leHQoKTsgKSB7CiAgICAgICAgICAgIE1hcC5F\nbnRyeSBlID0gKE1hcC5FbnRyeSkgaXRlci5uZXh0KCk7CiAgICAgICAgICAg\nIF9hbGlhc2VzW2krK10gPSAoU3RyaW5nKSBlLmdldEtleSgpOwogICAgICAg\nICAgICBfYWxpYXNlc1tpKytdID0gKFN0cmluZykgZS5nZXRWYWx1ZSgpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEV4dHJhY3QgdGhlIHZh\nbHVlIG9mIHRoaXMgcHJvcGVydHkgaWYgc2V0IGluIHRoZSBnaXZlbiBwcm92\naWRlci4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBPYmplY3QgZ2V0KENv\nbmZpZ3VyYXRpb25Qcm92aWRlciBjcCkgewogICAgICAgIE1hcCBwcm9wcyA9\nIGNwLmdldFByb3BlcnRpZXMoKTsKICAgICAgICByZXR1cm4gcHJvcHMuZ2V0\nKFByb2R1Y3REZXJpdmF0aW9ucy5nZXRDb25maWd1cmF0aW9uS2V5KEtFWSwg\ncHJvcHMpKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgdmFsdWUg\nb2YgdGhpcyBwcm9wZXJ0eSBpbiB0aGUgZ2l2ZW4gcHJvdmlkZXIuCiAgICAg\nKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoQ29uZmlndXJhdGlvblBy\nb3ZpZGVyIGNwLCBTdHJpbmcgdmFsdWUpIHsKICAgICAgICBTdHJpbmcga2V5\nID0gUHJvZHVjdERlcml2YXRpb25zLmdldENvbmZpZ3VyYXRpb25LZXkoS0VZ\nLCAKICAgICAgICAgICAgY3AuZ2V0UHJvcGVydGllcygpKTsKICAgICAgICBj\ncC5hZGRQcm9wZXJ0eShrZXksIHZhbHVlKTsKICAgIH0KCiAgICBwdWJsaWMg\nQnJva2VyRmFjdG9yeVZhbHVlKCkgewogICAgICAgIHN1cGVyKEtFWSwgZmFs\nc2UpOwogICAgICAgIHNldEFsaWFzZXMoX2FsaWFzZXMpOwogICAgfQp9Cg==\n","encoding":"base64"}

