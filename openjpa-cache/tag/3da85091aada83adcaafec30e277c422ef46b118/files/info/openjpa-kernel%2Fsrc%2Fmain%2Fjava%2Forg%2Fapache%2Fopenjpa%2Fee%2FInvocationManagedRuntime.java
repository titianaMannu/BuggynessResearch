{"sha":"90443585a412a7be9c0d6a33bb41c3bf570ac525","node_id":"MDQ6QmxvYjIwNjM2NDo5MDQ0MzU4NWE0MTJhN2JlOWMwZDZhMzNiYjQxYzNiZjU3MGFjNTI1","size":3219,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/90443585a412a7be9c0d6a33bb41c3bf570ac525","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZWU7CgppbXBvcnQgamF2YS5s\nYW5nLnJlZmxlY3QuTWV0aG9kOwppbXBvcnQgamF2YXgudHJhbnNhY3Rpb24u\nVHJhbnNhY3Rpb25NYW5hZ2VyOwoKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5jb25mLk9wZW5KUEFDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYWJsZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uOwoKLyoqCiAq\nIEltcGxlbWVudGF0aW9uIG9mIHRoZSB7QGxpbmsgTWFuYWdlZFJ1bnRpbWV9\nIGludGVyZmFjZSB0aGF0IHVzZXMKICogYSBzdGF0aWMgbWV0aG9kIGNhbGwg\ndG8gZmluZCB0aGUgVHJhbnNhY3Rpb25NYW5hZ2VyLgogKiAgRm9yIGV4YW1w\nbGUsIHRvIGNvbmZpZ3VyZSBpdCB0byB1c2UgSUJNIFdlYnNwaGVyZSdzIFRy\nYW5zYWN0aW9uTWFuYWdlciwKICogdXNlIHRoZSBtZXRob2Q6PGJyIC8+CiAq\nIDxjb2RlPmNvbS5pYm0uZWpzLmp0cy5qdGEuSlRTWEEuZ2V0VHJhbnNhY3Rp\nb25NYW5hZ2VyPC9jb2RlPgogKgogKiBAYXV0aG9yIE1hcmMgUHJ1ZCdob21t\nZWF1eAogKi8KcHVibGljIGNsYXNzIEludm9jYXRpb25NYW5hZ2VkUnVudGlt\nZQogICAgaW1wbGVtZW50cyBNYW5hZ2VkUnVudGltZSwgQ29uZmlndXJhYmxl\nIHsKCiAgICBwcml2YXRlIFN0cmluZyBfbWV0aG9kTmFtZSA9IG51bGw7CiAg\nICBwcml2YXRlIFN0cmluZyBfY2xhenogPSBudWxsOwogICAgcHJpdmF0ZSB0\ncmFuc2llbnQgTWV0aG9kIF9tZXRob2QgPSBudWxsOwogICAgcHJpdmF0ZSBP\ncGVuSlBBQ29uZmlndXJhdGlvbiBfY29uZiA9IG51bGw7CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gdGhlIG1ldGhvZCB0byBpbnZva2UgdG8gZ2V0IHRoZSB7\nQGxpbmsgVHJhbnNhY3Rpb25NYW5hZ2VyfS4KICAgICAqLwogICAgcHVibGlj\nIFN0cmluZyBnZXRUcmFuc2FjdGlvbk1hbmFnZXJNZXRob2QoKSB7CiAgICAg\nICAgcmV0dXJuIF9tZXRob2ROYW1lOwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSBtZXRob2QgdG8gaW52b2tlIHRvIGdldCB0aGUge0BsaW5rIFRy\nYW5zYWN0aW9uTWFuYWdlcn0uCiAgICAgKiAgRS5nLjogY29tLmlibS5lanMu\nanRzLmp0YS5KVFNYQS5nZXRUcmFuc2FjdGlvbk1hbmFnZXIKICAgICAqLwog\nICAgcHVibGljIHZvaWQgc2V0VHJhbnNhY3Rpb25NYW5hZ2VyTWV0aG9kKFN0\ncmluZyBtZXRob2ROYW1lKSB7CiAgICAgICAgX2NsYXp6ID0gbWV0aG9kTmFt\nZS5zdWJzdHJpbmcoMCwgbWV0aG9kTmFtZS5sYXN0SW5kZXhPZignLicpKTsK\nICAgICAgICBfbWV0aG9kTmFtZSA9IG1ldGhvZE5hbWUuc3Vic3RyaW5nKG1l\ndGhvZE5hbWUubGFzdEluZGV4T2YoJy4nKSArIDEpOwogICAgICAgIF9tZXRo\nb2QgPSBudWxsOwogICAgfQoKICAgIHB1YmxpYyBUcmFuc2FjdGlvbk1hbmFn\nZXIgZ2V0VHJhbnNhY3Rpb25NYW5hZ2VyKCkKICAgICAgICB0aHJvd3MgRXhj\nZXB0aW9uIHsKICAgICAgICBpZiAoX21ldGhvZCA9PSBudWxsKSB7CiAgICAg\nICAgICAgIENsYXNzTG9hZGVyIGxvYWRlciA9IF9jb25mLmdldENsYXNzUmVz\nb2x2ZXJJbnN0YW5jZSgpLgogICAgICAgICAgICAgICAgZ2V0Q2xhc3NMb2Fk\nZXIoZ2V0Q2xhc3MoKSwgbnVsbCk7CiAgICAgICAgICAgIF9tZXRob2QgPSBD\nbGFzcy5mb3JOYW1lKF9jbGF6eiwgdHJ1ZSwgbG9hZGVyKQogICAgICAgICAg\nICAgICAgLmdldE1ldGhvZChfbWV0aG9kTmFtZSwgbnVsbCk7CiAgICAgICAg\nfQogICAgICAgIHJldHVybiAoVHJhbnNhY3Rpb25NYW5hZ2VyKSBfbWV0aG9k\nLmludm9rZShudWxsLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRDb25maWd1cmF0aW9uKENvbmZpZ3VyYXRpb24gY29uZikgewogICAgICAg\nIF9jb25mID0gKE9wZW5KUEFDb25maWd1cmF0aW9uKSBjb25mOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHN0YXJ0Q29uZmlndXJhdGlvbigpIHsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBlbmRDb25maWd1cmF0aW9uKCkgewoJfQoKICAg\nIHB1YmxpYyB2b2lkIHNldFJvbGxiYWNrT25seShUaHJvd2FibGUgY2F1c2Up\nCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgLy8gdGhlcmUg\naXMgbm8gZ2VuZXJpYyBzdXBwb3J0IGZvciBzZXR0aW5nIHRoZSByb2xsYmFj\nayBjYXVzZQogICAgICAgIGdldFRyYW5zYWN0aW9uTWFuYWdlcigpLmdldFRy\nYW5zYWN0aW9uKCkuc2V0Um9sbGJhY2tPbmx5KCk7CiAgICB9CgogICAgcHVi\nbGljIFRocm93YWJsZSBnZXRSb2xsYmFja0NhdXNlKCkKICAgICAgICB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICAvLyB0aGVyZSBpcyBubyBnZW5lcmlj\nIHN1cHBvcnQgZm9yIHNldHRpbmcgdGhlIHJvbGxiYWNrIGNhdXNlCiAgICAg\nICAgcmV0dXJuIG51bGw7CiAgICB9Cn0K\n","encoding":"base64"}

