{"sha":"4eb4359ed884db53500ab48e75bfa195e834e2cb","node_id":"MDQ6QmxvYjIwNjM2NDo0ZWI0MzU5ZWQ4ODRkYjUzNTAwYWI0OGU3NWJmYTE5NWU4MzRlMmNi","size":3172,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4eb4359ed884db53500ab48e75bfa195e834e2cb","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZWU7CgppbXBvcnQgamF2YS5s\nYW5nLnJlZmxlY3QuTWV0aG9kOwppbXBvcnQgamF2YXgudHJhbnNhY3Rpb24u\nVHJhbnNhY3Rpb247CmltcG9ydCBqYXZheC50cmFuc2FjdGlvbi5UcmFuc2Fj\ndGlvbk1hbmFnZXI7CgovKioKICoge0BsaW5rIE1hbmFnZWRSdW50aW1lfSBp\nbXBsZW1lbnRhdGlvbiB0aGF0IGRpcmVjdGx5IGFjY2Vzc2VzIHRoZQogKiB0\ncmFuc2FjdGlvbiBtYW5hZ2VyIHZpYSBXZWJMb2dpYyBTZXJ2ZXIgaGVscGVy\nIGNsYXNzZXMuCiAqCiAqIEBhdXRob3IgQXJ1bmFiaCBIYXphcmlrYSwgUGF0\ncmljayBMaW5za2V5CiAqLwpwdWJsaWMgY2xhc3MgV0xTTWFuYWdlZFJ1bnRp\nbWUKICAgIGltcGxlbWVudHMgTWFuYWdlZFJ1bnRpbWUgewoKICAgIHByaXZh\ndGUgZmluYWwgTWV0aG9kIF90eEhlbHBlck1ldGg7CiAgICBwcml2YXRlIGZp\nbmFsIE1ldGhvZCBfdHhNYW5hZ2VyTWV0aDsKCiAgICBwdWJsaWMgV0xTTWFu\nYWdlZFJ1bnRpbWUoKQogICAgICAgIHRocm93cyBDbGFzc05vdEZvdW5kRXhj\nZXB0aW9uLCBOb1N1Y2hNZXRob2RFeGNlcHRpb24gewogICAgICAgIENsYXNz\nIHR4SGVscGVyID0gQ2xhc3MuZm9yTmFtZQogICAgICAgICAgICAoIndlYmxv\nZ2ljLnRyYW5zYWN0aW9uLlRyYW5zYWN0aW9uSGVscGVyIik7CiAgICAgICAg\nX3R4SGVscGVyTWV0aCA9IHR4SGVscGVyLmdldE1ldGhvZCgiZ2V0VHJhbnNh\nY3Rpb25IZWxwZXIiLCBudWxsKTsKICAgICAgICBfdHhNYW5hZ2VyTWV0aCA9\nIHR4SGVscGVyLmdldE1ldGhvZCgiZ2V0VHJhbnNhY3Rpb25NYW5hZ2VyIiwg\nbnVsbCk7CiAgICB9CgogICAgcHVibGljIFRyYW5zYWN0aW9uTWFuYWdlciBn\nZXRUcmFuc2FjdGlvbk1hbmFnZXIoKQogICAgICAgIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIC8vIHJldHVybiBUcmFuc2FjdGlvbkhlbHBlci5nZXRU\ncmFuc2FjdGlvbkhlbHBlciAoKS4KICAgICAgICAvLwlnZXRUcmFuc2FjdGlv\nbk1hbmFnZXIgKCk7CiAgICAgICAgT2JqZWN0IG8gPSBfdHhIZWxwZXJNZXRo\nLmludm9rZShudWxsLCBudWxsKTsKICAgICAgICByZXR1cm4gKFRyYW5zYWN0\naW9uTWFuYWdlcikgX3R4TWFuYWdlck1ldGguaW52b2tlKG8sIG51bGwpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJvbGxiYWNrT25seShUaHJvd2Fi\nbGUgY2F1c2UpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAg\nVHJhbnNhY3Rpb24gdHJhbnNhY3Rpb24gPSBnZXRUcmFuc2FjdGlvbk1hbmFn\nZXIoKS5nZXRUcmFuc2FjdGlvbigpOwogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIC8vIHRyeSB0byB1c2UgcmVmbGVjdGlvbiB0byBjYWxsIHRoZSBzZXRS\nb2xsYmFja09ubHkoVGhyb3dhYmxlKQogICAgICAgICAgICAvLyBtZXRob2Qg\naW4gd2VibG9naWMudHJhbnNhY3Rpb24uVHJhbnNhY3Rpb24KICAgICAgICAg\nICAgdHJhbnNhY3Rpb24uZ2V0Q2xhc3MoKS4KICAgICAgICAgICAgICAgIGdl\ndE1ldGhvZCgic2V0Um9sbGJhY2tPbmx5IiwgbmV3IENsYXNzW10geyBUaHJv\nd2FibGUuY2xhc3MgfSkuCiAgICAgICAgICAgICAgICAgICAgaW52b2tlKHRy\nYW5zYWN0aW9uLCBuZXcgT2JqZWN0W10geyBjYXVzZSB9KTsKICAgICAgICB9\nIGNhdGNoIChUaHJvd2FibGUgZSkgewogICAgICAgICAgICAvLyBzb21lIHBy\nb2JsZW0gb2NjdXJyZWQ6IGZhbGwgYmFjayB0byB0aGUgdHJhZGl0aW9uYWwg\nY2FsbAogICAgICAgICAgICB0cmFuc2FjdGlvbi5zZXRSb2xsYmFja09ubHko\nKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIFRocm93YWJsZSBnZXRS\nb2xsYmFja0NhdXNlKCkKICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBUcmFuc2FjdGlvbiB0cmFuc2FjdGlvbiA9IGdldFRyYW5zYWN0aW9u\nTWFuYWdlcigpLmdldFRyYW5zYWN0aW9uKCk7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgLy8gdHJ5IHRvIHVzZSByZWZsZWN0aW9uIHRvIGNhbGwgdGhl\nIGdldFJvbGxiYWNrUmVhc29uKCkKICAgICAgICAgICAgLy8gbWV0aG9kIGlu\nIHdlYmxvZ2ljLnRyYW5zYWN0aW9uLlRyYW5zYWN0aW9uCiAgICAgICAgICAg\nIHJldHVybiAoVGhyb3dhYmxlKSB0cmFuc2FjdGlvbi5nZXRDbGFzcygpLgog\nICAgICAgICAgICAgICAgZ2V0TWV0aG9kKCJnZXRSb2xsYmFja1JlYXNvbiIs\nIG5ldyBDbGFzc1swXSkuCiAgICAgICAgICAgICAgICAgICAgaW52b2tlKHRy\nYW5zYWN0aW9uLCBuZXcgT2JqZWN0WzBdKTsKICAgICAgICB9IGNhdGNoIChU\naHJvd2FibGUgZSkgewogICAgICAgICAgICAvLyBzb21lIHByb2JsZW0gb2Nj\ndXJyZWQ6IGp1c3QgcmV0dXJuIG51bGwKICAgICAgICAgICAgcmV0dXJuIG51\nbGw7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

