{"sha":"30e6d92b66d7388acac2fac54dd804984a6a8743","node_id":"MDQ6QmxvYjIwNjM2NDozMGU2ZDkyYjY2ZDczODhhY2FjMmZhYzU0ZGQ4MDQ5ODRhNmE4NzQz","size":17549,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/30e6d92b66d7388acac2fac54dd804984a6a8743","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZTsKCmltcG9ydCBq\nYXZhLmxhbmcucmVmbGVjdC5BY2Nlc3NpYmxlT2JqZWN0OwppbXBvcnQgamF2\nYS5sYW5nLnJlZmxlY3QuRmllbGQ7CmltcG9ydCBqYXZhLmxhbmcucmVmbGVj\ndC5JbnZvY2F0aW9uVGFyZ2V0RXhjZXB0aW9uOwppbXBvcnQgamF2YS5sYW5n\nLnJlZmxlY3QuTWV0aG9kOwppbXBvcnQgamF2YS5sYW5nLnJlZmxlY3QuTW9k\naWZpZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5n\nVXRpbHM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9j\nYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuR2VuZXJh\nbEV4Y2VwdGlvbjsgCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5V\nc2VyRXhjZXB0aW9uOyAKCi8qKgogKiBSZWZsZWN0aW9uIHV0aWxpdGllcyB1\nc2VkIHRvIHN1cHBvcnQgYW5kIGF1Z21lbnQgZW5oYW5jZW1lbnQuICBVc2Vk\nIGJvdGgKICogYXQgZW5oYW5jZW1lbnQgdGltZSBhbmQgYXQgcnVudGltZS4K\nICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBSZWZs\nZWN0aW9uIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIg\nX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKFJlZmxlY3Rp\nb24uY2xhc3MpOwoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBnZXR0ZXIg\nbWV0aG9kIG1hdGNoaW5nIHRoZSBnaXZlbiBwcm9wZXJ0eSBuYW1lLCBvcHRp\nb25hbGx5CiAgICAgKiB0aHJvd2luZyBhbiBleGNlcHRpb24gaWYgbm9uZS4K\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBNZXRob2QgZmluZEdldHRlcihD\nbGFzcyBjbHMsIFN0cmluZyBwcm9wLCBib29sZWFuIG11c3RFeGlzdCkgewog\nICAgICAgIHByb3AgPSBTdHJpbmdVdGlscy5jYXBpdGFsaXplKHByb3ApOwog\nICAgICAgIFN0cmluZyBuYW1lID0gImdldCIgKyBwcm9wOwogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIGZvciAoQ2xhc3MgYyA9IGNsczsgYyAhPSBudWxs\nICYmIGMgIT0gT2JqZWN0LmNsYXNzOyAKICAgICAgICAgICAgICAgIGMgPSBj\nLmdldFN1cGVyY2xhc3MoKSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgICAgICAgICByZXR1cm4gYy5nZXREZWNsYXJlZE1ldGhvZChu\nYW1lLCAoQ2xhc3NbXSkgbnVsbCk7CiAgICAgICAgICAgICAgICB9IGNhdGNo\nIChOb1N1Y2hNZXRob2RFeGNlcHRpb24gbnNtZSkgewogICAgICAgICAgICAg\nICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIE1ldGhvZCBt\nID0gYy5nZXREZWNsYXJlZE1ldGhvZCgiaXMiICsgcHJvcCwgCiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAoQ2xhc3NbXSkgbnVsbCk7CiAgICAgICAg\nICAgICAgICAgICAgICAgIGlmIChtICE9IG51bGwgJiYgKG0uZ2V0UmV0dXJu\nVHlwZSgpID09IGJvb2xlYW4uY2xhc3MKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIHx8IG0uZ2V0UmV0dXJuVHlwZSgpID09IEJvb2xlYW4uY2xhc3Mp\nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAg\nICAgICAgICAgICAgICAgfSBjYXRjaCAoTm9TdWNoTWV0aG9kRXhjZXB0aW9u\nIG5zbWUyKSB7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg\nICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEdlbmVyYWxFeGNlcHRpb24o\nZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAobXVzdEV4aXN0KQogICAgICAg\nICAgICB0aHJvdyBuZXcgVXNlckV4Y2VwdGlvbihfbG9jLmdldCgiYmFkLWdl\ndHRlciIsIGNscywgcHJvcCkpOwogICAgICAgIHJldHVybiBudWxsOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBzZXR0ZXIgbWV0aG9kIG1h\ndGNoaW5nIHRoZSBnaXZlbiBwcm9wZXJ0eSBuYW1lLCBvcHRpb25hbGx5CiAg\nICAgKiB0aHJvd2luZyBhbiBleGNlcHRpb24gaWYgbm9uZS4gIFRoZSBwcm9w\nZXJ0eSBtdXN0IGFsc28gaGF2ZSBhIGdldHRlci4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBNZXRob2QgZmluZFNldHRlcihDbGFzcyBjbHMsIFN0cmlu\nZyBwcm9wLCBib29sZWFuIG11c3RFeGlzdCkgewogICAgICAgIE1ldGhvZCBn\nZXR0ZXIgPSBmaW5kR2V0dGVyKGNscywgcHJvcCwgbXVzdEV4aXN0KTsKICAg\nICAgICByZXR1cm4gKGdldHRlciA9PSBudWxsKSA/IG51bGwgCiAgICAgICAg\nICAgIDogZmluZFNldHRlcihjbHMsIHByb3AsIGdldHRlci5nZXRSZXR1cm5U\neXBlKCksIG11c3RFeGlzdCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1\ncm4gdGhlIHNldHRlciBtZXRob2QgbWF0Y2hpbmcgdGhlIGdpdmVuIHByb3Bl\ncnR5IG5hbWUsIG9wdGlvbmFsbHkKICAgICAqIHRocm93aW5nIGFuIGV4Y2Vw\ndGlvbiBpZiBub25lLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIE1ldGhv\nZCBmaW5kU2V0dGVyKENsYXNzIGNscywgU3RyaW5nIHByb3AsIENsYXNzIHBh\ncmFtLAogICAgICAgIGJvb2xlYW4gbXVzdEV4aXN0KSB7CiAgICAgICAgU3Ry\naW5nIG5hbWUgPSAic2V0IiArIFN0cmluZ1V0aWxzLmNhcGl0YWxpemUocHJv\ncCk7CiAgICAgICAgQ2xhc3NbXSBwYXJhbXMgPSBuZXcgQ2xhc3NbXSB7IHBh\ncmFtIH07CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChDbGFzcyBj\nID0gY2xzOyBjICE9IG51bGwgJiYgYyAhPSBPYmplY3QuY2xhc3M7IAogICAg\nICAgICAgICAgICAgYyA9IGMuZ2V0U3VwZXJjbGFzcygpKSB7CiAgICAgICAg\nICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdl\ndERlY2xhcmVkTWV0aG9kKG5hbWUsIHBhcmFtcyk7CiAgICAgICAgICAgICAg\nICB9IGNhdGNoIChOb1N1Y2hNZXRob2RFeGNlcHRpb24gbnNtZSkgewogICAg\nICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEdlbmVyYWxF\neGNlcHRpb24oZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAobXVzdEV4aXN0\nKQogICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4Y2VwdGlvbihfbG9jLmdl\ndCgiYmFkLXNldHRlciIsIGNscywgcHJvcCkpOwogICAgICAgIHJldHVybiBu\ndWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBmaWVsZCB3\naXRoIHRoZSBnaXZlbiBuYW1lLCBvcHRpb25hbGx5IHRocm93aW5nIGFuIGV4\nY2VwdGlvbiAKICAgICAqIGlmIG5vbmUuCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgRmllbGQgZmluZEZpZWxkKENsYXNzIGNscywgU3RyaW5nIG5hbWUs\nIGJvb2xlYW4gbXVzdEV4aXN0KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgZm9yIChDbGFzcyBjID0gY2xzOyBjICE9IG51bGwgJiYgYyAhPSBPYmpl\nY3QuY2xhc3M7IAogICAgICAgICAgICAgICAgYyA9IGMuZ2V0U3VwZXJjbGFz\ncygpKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAg\nICAgIHJldHVybiBjLmdldERlY2xhcmVkRmllbGQobmFtZSk7CiAgICAgICAg\nICAgICAgICB9IGNhdGNoIChOb1N1Y2hGaWVsZEV4Y2VwdGlvbiBuc2ZlKSB7\nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgR2Vu\nZXJhbEV4Y2VwdGlvbihlKTsKICAgICAgICB9CgogICAgICAgIGlmIChtdXN0\nRXhpc3QpCiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXhjZXB0aW9uKF9s\nb2MuZ2V0KCJiYWQtZmllbGQiLCBjbHMsIG5hbWUpKTsKICAgICAgICByZXR1\ncm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgdmFs\ndWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmplY3QuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0IGdldChPYmplY3QgdGFy\nZ2V0LCBGaWVsZCBmaWVsZCkgewogICAgICAgIGlmICh0YXJnZXQgPT0gbnVs\nbCB8fCBmaWVsZCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsK\nICAgICAgICBtYWtlQWNjZXNzaWJsZShmaWVsZCwgZmllbGQuZ2V0TW9kaWZp\nZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBmaWVs\nZC5nZXQodGFyZ2V0KTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkg\newogICAgICAgICAgICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0\nKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBNYWtlIHRoZSBn\naXZlbiBtZW1iZXIgYWNjZXNzaWJsZSBpZiBpdCBpc24ndCBhbHJlYWR5Lgog\nICAgICovCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIG1ha2VBY2Nlc3NpYmxl\nKEFjY2Vzc2libGVPYmplY3QgYW8sIGludCBtb2RzKSB7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgaWYgKCFNb2RpZmllci5pc1B1YmxpYyhtb2RzKSAm\nJiAhYW8uaXNBY2Nlc3NpYmxlKCkpCiAgICAgICAgICAgICAgICBhby5zZXRB\nY2Nlc3NpYmxlKHRydWUpOwogICAgICAgIH0gY2F0Y2ggKFNlY3VyaXR5RXhj\nZXB0aW9uIHNlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXhjZXB0\naW9uKF9sb2MuZ2V0KCJyZWZsZWN0LXNlY3VyaXR5IiwgYW8pKS4KICAgICAg\nICAgICAgICAgIHNldEZhdGFsKHRydWUpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFdyYXAgdGhlIGdpdmVuIHJlZmxlY3Rpb24gZXhjZXB0\naW9uIGFzIGEgcnVudGltZSBleGNlcHRpb24uCiAgICAgKi8KICAgIHByaXZh\ndGUgc3RhdGljIFJ1bnRpbWVFeGNlcHRpb24gd3JhcFJlZmxlY3Rpb25FeGNl\ncHRpb24oVGhyb3dhYmxlIHQpIHsKICAgICAgICBpZiAodCBpbnN0YW5jZW9m\nIEludm9jYXRpb25UYXJnZXRFeGNlcHRpb24pCiAgICAgICAgICAgIHQgPSAo\nKEludm9jYXRpb25UYXJnZXRFeGNlcHRpb24pIHQpLmdldFRhcmdldEV4Y2Vw\ndGlvbigpOyAgICAKICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFJ1bnRpbWVF\neGNlcHRpb24pCiAgICAgICAgICAgIHJldHVybiAoUnVudGltZUV4Y2VwdGlv\nbikgdDsKICAgICAgICByZXR1cm4gbmV3IEdlbmVyYWxFeGNlcHRpb24odCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRo\nZSBnaXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gZ2V0Qm9vbGVhbihPYmplY3QgdGFy\nZ2V0LCBGaWVsZCBmaWVsZCkgewogICAgICAgIGlmICh0YXJnZXQgPT0gbnVs\nbCB8fCBmaWVsZCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7\nCiAgICAgICAgbWFrZUFjY2Vzc2libGUoZmllbGQsIGZpZWxkLmdldE1vZGlm\naWVycygpKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gZmll\nbGQuZ2V0Qm9vbGVhbih0YXJnZXQpOwogICAgICAgIH0gY2F0Y2ggKFRocm93\nYWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhj\nZXB0aW9uKHQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJl\ndHVybiB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZl\nbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgYnl0ZSBnZXRC\neXRlKE9iamVjdCB0YXJnZXQsIEZpZWxkIGZpZWxkKSB7CiAgICAgICAgaWYg\nKHRhcmdldCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwpCiAgICAgICAgICAg\nIHJldHVybiAoYnl0ZSkgMDsKICAgICAgICBtYWtlQWNjZXNzaWJsZShmaWVs\nZCwgZmllbGQuZ2V0TW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIHJldHVybiBmaWVsZC5nZXRCeXRlKHRhcmdldCk7CiAgICAgICAg\nfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgd3Jh\ncFJlZmxlY3Rpb25FeGNlcHRpb24odCk7CiAgICAgICAgfQogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmll\nbGQgaW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBjaGFyIGdldENoYXIoT2JqZWN0IHRhcmdldCwgRmllbGQgZmllbGQp\nIHsKICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwgfHwgZmllbGQgPT0gbnVs\nbCkKICAgICAgICAgICAgcmV0dXJuIChjaGFyKSAwOwogICAgICAgIG1ha2VB\nY2Nlc3NpYmxlKGZpZWxkLCBmaWVsZC5nZXRNb2RpZmllcnMoKSk7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIGZpZWxkLmdldENoYXIodGFy\nZ2V0KTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAg\nICAgICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAg\nICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9m\nIHRoZSBnaXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIGRvdWJsZSBnZXREb3VibGUoT2JqZWN0IHRh\ncmdldCwgRmllbGQgZmllbGQpIHsKICAgICAgICBpZiAodGFyZ2V0ID09IG51\nbGwgfHwgZmllbGQgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIDBEOwog\nICAgICAgIG1ha2VBY2Nlc3NpYmxlKGZpZWxkLCBmaWVsZC5nZXRNb2RpZmll\ncnMoKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIGZpZWxk\nLmdldERvdWJsZSh0YXJnZXQpOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJs\nZSB0KSB7CiAgICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhjZXB0\naW9uKHQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbiB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBv\nYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmxvYXQgZ2V0Rmxv\nYXQoT2JqZWN0IHRhcmdldCwgRmllbGQgZmllbGQpIHsKICAgICAgICBpZiAo\ndGFyZ2V0ID09IG51bGwgfHwgZmllbGQgPT0gbnVsbCkKICAgICAgICAgICAg\ncmV0dXJuIDBGOwogICAgICAgIG1ha2VBY2Nlc3NpYmxlKGZpZWxkLCBmaWVs\nZC5nZXRNb2RpZmllcnMoKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\ncmV0dXJuIGZpZWxkLmdldEZsb2F0KHRhcmdldCk7CiAgICAgICAgfSBjYXRj\naCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgd3JhcFJlZmxl\nY3Rpb25FeGNlcHRpb24odCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4g\ndGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBp\nbnQgZ2V0SW50KE9iamVjdCB0YXJnZXQsIEZpZWxkIGZpZWxkKSB7CiAgICAg\nICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwpCiAgICAg\nICAgICAgIHJldHVybiAwOwogICAgICAgIG1ha2VBY2Nlc3NpYmxlKGZpZWxk\nLCBmaWVsZC5nZXRNb2RpZmllcnMoKSk7CiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgcmV0dXJuIGZpZWxkLmdldEludCh0YXJnZXQpOwogICAgICAgIH0g\nY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93IHdyYXBS\nZWZsZWN0aW9uRXhjZXB0aW9uKHQpOwogICAgICAgIH0KICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxk\nIGluIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0\naWMgbG9uZyBnZXRMb25nKE9iamVjdCB0YXJnZXQsIEZpZWxkIGZpZWxkKSB7\nCiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwp\nCiAgICAgICAgICAgIHJldHVybiAwTDsKICAgICAgICBtYWtlQWNjZXNzaWJs\nZShmaWVsZCwgZmllbGQuZ2V0TW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIHJldHVybiBmaWVsZC5nZXRMb25nKHRhcmdldCk7CiAg\nICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhy\nb3cgd3JhcFJlZmxlY3Rpb25FeGNlcHRpb24odCk7CiAgICAgICAgfQogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2\nZW4gZmllbGQgaW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBzaG9ydCBnZXRTaG9ydChPYmplY3QgdGFyZ2V0LCBGaWVs\nZCBmaWVsZCkgewogICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBmaWVs\nZCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gKHNob3J0KSAwOwogICAg\nICAgIG1ha2VBY2Nlc3NpYmxlKGZpZWxkLCBmaWVsZC5nZXRNb2RpZmllcnMo\nKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIGZpZWxkLmdl\ndFNob3J0KHRhcmdldCk7CiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQp\nIHsKICAgICAgICAgICAgdGhyb3cgd3JhcFJlZmxlY3Rpb25FeGNlcHRpb24o\ndCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRo\nZSByZXR1cm4gdmFsdWUgb2YgdGhlIGdpdmVuIGdldHRlciBpbiB0aGUgZ2l2\nZW4gb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIE9iamVjdCBn\nZXQoT2JqZWN0IHRhcmdldCwgTWV0aG9kIGdldHRlcikgewogICAgICAgIGlm\nICh0YXJnZXQgPT0gbnVsbCB8fCBnZXR0ZXIgPT0gbnVsbCkKICAgICAgICAg\nICAgcmV0dXJuIG51bGw7CiAgICAgICAgbWFrZUFjY2Vzc2libGUoZ2V0dGVy\nLCBnZXR0ZXIuZ2V0TW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIHJldHVybiBnZXR0ZXIuaW52b2tlKHRhcmdldCwgKE9iamVjdFtd\nKSBudWxsKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAg\nICAgICAgICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHJldHVy\nbiB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZ2V0dGVyIGluIHRoZSBnaXZlbiBvYmpl\nY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBnZXRCb29s\nZWFuKE9iamVjdCB0YXJnZXQsIE1ldGhvZCBnZXR0ZXIpIHsKICAgICAgICBP\nYmplY3QgbyA9IGdldCh0YXJnZXQsIGdldHRlcik7CiAgICAgICAgcmV0dXJu\nIChvID09IG51bGwpID8gZmFsc2UgOiAoKEJvb2xlYW4pIG8pLmJvb2xlYW5W\nYWx1ZSgpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSByZXR1\ncm4gdmFsdWUgb2YgdGhlIGdpdmVuIGdldHRlciBpbiB0aGUgZ2l2ZW4gb2Jq\nZWN0LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGJ5dGUgZ2V0Qnl0ZShP\nYmplY3QgdGFyZ2V0LCBNZXRob2QgZ2V0dGVyKSB7CiAgICAgICAgT2JqZWN0\nIG8gPSBnZXQodGFyZ2V0LCBnZXR0ZXIpOwogICAgICAgIHJldHVybiAobyA9\nPSBudWxsKSA/IChieXRlKSAwIDogKChOdW1iZXIpIG8pLmJ5dGVWYWx1ZSgp\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSByZXR1cm4gdmFs\ndWUgb2YgdGhlIGdpdmVuIGdldHRlciBpbiB0aGUgZ2l2ZW4gb2JqZWN0Lgog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIGNoYXIgZ2V0Q2hhcihPYmplY3Qg\ndGFyZ2V0LCBNZXRob2QgZ2V0dGVyKSB7CiAgICAgICAgT2JqZWN0IG8gPSBn\nZXQodGFyZ2V0LCBnZXR0ZXIpOwogICAgICAgIHJldHVybiAobyA9PSBudWxs\nKSA/IChjaGFyKSAwIDogKChDaGFyYWN0ZXIpIG8pLmNoYXJWYWx1ZSgpOwog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSByZXR1cm4gdmFsdWUg\nb2YgdGhlIGdpdmVuIGdldHRlciBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGRvdWJsZSBnZXREb3VibGUoT2JqZWN0\nIHRhcmdldCwgTWV0aG9kIGdldHRlcikgewogICAgICAgIE9iamVjdCBvID0g\nZ2V0KHRhcmdldCwgZ2V0dGVyKTsKICAgICAgICByZXR1cm4gKG8gPT0gbnVs\nbCkgPyAwRCA6ICgoTnVtYmVyKSBvKS5kb3VibGVWYWx1ZSgpOwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhl\nIGdpdmVuIGdldHRlciBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIGZsb2F0IGdldEZsb2F0KE9iamVjdCB0YXJnZXQs\nIE1ldGhvZCBnZXR0ZXIpIHsKICAgICAgICBPYmplY3QgbyA9IGdldCh0YXJn\nZXQsIGdldHRlcik7CiAgICAgICAgcmV0dXJuIChvID09IG51bGwpID8gMEYg\nOiAoKE51bWJlcikgbykuZmxvYXRWYWx1ZSgpOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGdpdmVuIGdl\ndHRlciBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIGludCBnZXRJbnQoT2JqZWN0IHRhcmdldCwgTWV0aG9kIGdldHRl\ncikgewogICAgICAgIE9iamVjdCBvID0gZ2V0KHRhcmdldCwgZ2V0dGVyKTsK\nICAgICAgICByZXR1cm4gKG8gPT0gbnVsbCkgPyAwIDogKChOdW1iZXIpIG8p\nLmludFZhbHVlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhl\nIHJldHVybiB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZ2V0dGVyIGluIHRoZSBnaXZl\nbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgbG9uZyBnZXRM\nb25nKE9iamVjdCB0YXJnZXQsIE1ldGhvZCBnZXR0ZXIpIHsKICAgICAgICBP\nYmplY3QgbyA9IGdldCh0YXJnZXQsIGdldHRlcik7CiAgICAgICAgcmV0dXJu\nIChvID09IG51bGwpID8gMEwgOiAoKE51bWJlcikgbykubG9uZ1ZhbHVlKCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHJldHVybiB2YWx1\nZSBvZiB0aGUgZ2l2ZW4gZ2V0dGVyIGluIHRoZSBnaXZlbiBvYmplY3QuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgc2hvcnQgZ2V0U2hvcnQoT2JqZWN0\nIHRhcmdldCwgTWV0aG9kIGdldHRlcikgewogICAgICAgIE9iamVjdCBvID0g\nZ2V0KHRhcmdldCwgZ2V0dGVyKTsKICAgICAgICByZXR1cm4gKG8gPT0gbnVs\nbCkgPyAoc2hvcnQpIDAgOiAoKE51bWJlcikgbykuc2hvcnRWYWx1ZSgpOwog\nICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2\nZW4gZmllbGQgaW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyB2b2lkIHNldChPYmplY3QgdGFyZ2V0LCBGaWVsZCBmaWVs\nZCwgT2JqZWN0IHZhbHVlKSB7CiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxs\nIHx8IGZpZWxkID09IG51bGwpCiAgICAgICAgICAgIHJldHVybjsKICAgICAg\nICBtYWtlQWNjZXNzaWJsZShmaWVsZCwgZmllbGQuZ2V0TW9kaWZpZXJzKCkp\nOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZpZWxkLnNldCh0YXJnZXQs\nIHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAg\nICAgICAgICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZhbHVlIG9m\nIHRoZSBnaXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIEZp\nZWxkIGZpZWxkLCBib29sZWFuIHZhbHVlKSB7CiAgICAgICAgaWYgKHRhcmdl\ndCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwpCiAgICAgICAgICAgIHJldHVy\nbjsKICAgICAgICBtYWtlQWNjZXNzaWJsZShmaWVsZCwgZmllbGQuZ2V0TW9k\naWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZpZWxkLnNl\ndEJvb2xlYW4odGFyZ2V0LCB2YWx1ZSk7CiAgICAgICAgfSBjYXRjaCAoVGhy\nb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgd3JhcFJlZmxlY3Rpb25F\neGNlcHRpb24odCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4gdGhlIGdpdmVu\nIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyB2b2lkIHNldChP\nYmplY3QgdGFyZ2V0LCBGaWVsZCBmaWVsZCwgYnl0ZSB2YWx1ZSkgewogICAg\nICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBmaWVsZCA9PSBudWxsKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgbWFrZUFjY2Vzc2libGUoZmllbGQs\nIGZpZWxkLmdldE1vZGlmaWVycygpKTsKICAgICAgICB0cnkgewogICAgICAg\nICAgICBmaWVsZC5zZXRCeXRlKHRhcmdldCwgdmFsdWUpOwogICAgICAgIH0g\nY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93IHdyYXBS\nZWZsZWN0aW9uRXhjZXB0aW9uKHQpOwogICAgICAgIH0KICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGlu\nIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\ndm9pZCBzZXQoT2JqZWN0IHRhcmdldCwgRmllbGQgZmllbGQsIGNoYXIgdmFs\ndWUpIHsKICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwgfHwgZmllbGQgPT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIG1ha2VBY2Nlc3Np\nYmxlKGZpZWxkLCBmaWVsZC5nZXRNb2RpZmllcnMoKSk7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgZmllbGQuc2V0Q2hhcih0YXJnZXQsIHZhbHVlKTsK\nICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB0\naHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAgICB9CiAg\nICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZl\nbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIEZpZWxkIGZpZWxk\nLCBkb3VibGUgdmFsdWUpIHsKICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwg\nfHwgZmllbGQgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAg\nIG1ha2VBY2Nlc3NpYmxlKGZpZWxkLCBmaWVsZC5nZXRNb2RpZmllcnMoKSk7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZmllbGQuc2V0RG91YmxlKHRh\ncmdldCwgdmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7\nCiAgICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9uKHQp\nOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgdmFs\ndWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmplY3QuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0IHRhcmdl\ndCwgRmllbGQgZmllbGQsIGZsb2F0IHZhbHVlKSB7CiAgICAgICAgaWYgKHRh\ncmdldCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwpCiAgICAgICAgICAgIHJl\ndHVybjsKICAgICAgICBtYWtlQWNjZXNzaWJsZShmaWVsZCwgZmllbGQuZ2V0\nTW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZpZWxk\nLnNldEZsb2F0KHRhcmdldCwgdmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKFRo\ncm93YWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9u\nRXhjZXB0aW9uKHQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZl\nbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQo\nT2JqZWN0IHRhcmdldCwgRmllbGQgZmllbGQsIGludCB2YWx1ZSkgewogICAg\nICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBmaWVsZCA9PSBudWxsKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgbWFrZUFjY2Vzc2libGUoZmllbGQs\nIGZpZWxkLmdldE1vZGlmaWVycygpKTsKICAgICAgICB0cnkgewogICAgICAg\nICAgICBmaWVsZC5zZXRJbnQodGFyZ2V0LCB2YWx1ZSk7CiAgICAgICAgfSBj\nYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgd3JhcFJl\nZmxlY3Rpb25FeGNlcHRpb24odCk7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4g\ndGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyB2\nb2lkIHNldChPYmplY3QgdGFyZ2V0LCBGaWVsZCBmaWVsZCwgbG9uZyB2YWx1\nZSkgewogICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBmaWVsZCA9PSBu\ndWxsKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgbWFrZUFjY2Vzc2li\nbGUoZmllbGQsIGZpZWxkLmdldE1vZGlmaWVycygpKTsKICAgICAgICB0cnkg\newogICAgICAgICAgICBmaWVsZC5zZXRMb25nKHRhcmdldCwgdmFsdWUpOwog\nICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIHRo\ncm93IHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9uKHQpOwogICAgICAgIH0KICAg\nIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVu\nIGZpZWxkIGluIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0IHRhcmdldCwgRmllbGQgZmllbGQs\nIHNob3J0IHZhbHVlKSB7CiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsIHx8\nIGZpZWxkID09IG51bGwpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBt\nYWtlQWNjZXNzaWJsZShmaWVsZCwgZmllbGQuZ2V0TW9kaWZpZXJzKCkpOwog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZpZWxkLnNldFNob3J0KHRhcmdl\ndCwgdmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAg\nICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9uKHQpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEludm9rZSB0aGUgZ2l2\nZW4gc2V0dGVyIG9uIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0IHRhcmdldCwgTWV0aG9kIHNl\ndHRlciwgT2JqZWN0IHZhbHVlKSB7CiAgICAgICAgaWYgKHRhcmdldCA9PSBu\ndWxsIHx8IHNldHRlciA9PSBudWxsKQogICAgICAgICAgICByZXR1cm47CiAg\nICAgICAgbWFrZUFjY2Vzc2libGUoc2V0dGVyLCBzZXR0ZXIuZ2V0TW9kaWZp\nZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHNldHRlci5pbnZv\na2UodGFyZ2V0LCBuZXcgT2JqZWN0W10geyB2YWx1ZSB9KTsKICAgICAgICB9\nIGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB0aHJvdyB3cmFw\nUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAgICB9CiAgICB9CgogICAg\nLyoqCiAgICAgKiBJbnZva2UgdGhlIGdpdmVuIHNldHRlciBvbiB0aGUgZ2l2\nZW4gb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0\nKE9iamVjdCB0YXJnZXQsIE1ldGhvZCBzZXR0ZXIsIGJvb2xlYW4gdmFsdWUp\nIHsKICAgICAgICBzZXQodGFyZ2V0LCBzZXR0ZXIsICh2YWx1ZSkgPyBCb29s\nZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIEludm9rZSB0aGUgZ2l2ZW4gc2V0dGVyIG9uIHRoZSBnaXZlbiBvYmpl\nY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0\nIHRhcmdldCwgTWV0aG9kIHNldHRlciwgYnl0ZSB2YWx1ZSkgewogICAgICAg\nIHNldCh0YXJnZXQsIHNldHRlciwgbmV3IEJ5dGUodmFsdWUpKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gc2V0dGVyIG9uIHRo\nZSBnaXZlbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9p\nZCBzZXQoT2JqZWN0IHRhcmdldCwgTWV0aG9kIHNldHRlciwgY2hhciB2YWx1\nZSkgewogICAgICAgIHNldCh0YXJnZXQsIHNldHRlciwgbmV3IENoYXJhY3Rl\ncih2YWx1ZSkpOwogICAgfQoKICAgIC8qKgogICAgICogSW52b2tlIHRoZSBn\naXZlbiBzZXR0ZXIgb24gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAg\ncHVibGljIHN0YXRpYyB2b2lkIHNldChPYmplY3QgdGFyZ2V0LCBNZXRob2Qg\nc2V0dGVyLCBkb3VibGUgdmFsdWUpIHsKICAgICAgICBzZXQodGFyZ2V0LCBz\nZXR0ZXIsIG5ldyBEb3VibGUodmFsdWUpKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIEludm9rZSB0aGUgZ2l2ZW4gc2V0dGVyIG9uIHRoZSBnaXZlbiBvYmpl\nY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0\nIHRhcmdldCwgTWV0aG9kIHNldHRlciwgZmxvYXQgdmFsdWUpIHsKICAgICAg\nICBzZXQodGFyZ2V0LCBzZXR0ZXIsIG5ldyBGbG9hdCh2YWx1ZSkpOwogICAg\nfQoKICAgIC8qKgogICAgICogSW52b2tlIHRoZSBnaXZlbiBzZXR0ZXIgb24g\ndGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyB2\nb2lkIHNldChPYmplY3QgdGFyZ2V0LCBNZXRob2Qgc2V0dGVyLCBpbnQgdmFs\ndWUpIHsKICAgICAgICBzZXQodGFyZ2V0LCBzZXR0ZXIsIG5ldyBJbnRlZ2Vy\nKHZhbHVlKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnZva2UgdGhlIGdp\ndmVuIHNldHRlciBvbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIE1ldGhvZCBz\nZXR0ZXIsIGxvbmcgdmFsdWUpIHsKICAgICAgICBzZXQodGFyZ2V0LCBzZXR0\nZXIsIG5ldyBMb25nKHZhbHVlKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJ\nbnZva2UgdGhlIGdpdmVuIHNldHRlciBvbiB0aGUgZ2l2ZW4gb2JqZWN0Lgog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJn\nZXQsIE1ldGhvZCBzZXR0ZXIsIHNob3J0IHZhbHVlKSB7CiAgICAgICAgc2V0\nKHRhcmdldCwgc2V0dGVyLCBuZXcgU2hvcnQodmFsdWUpKTsKICAgIH0KfQo=\n","encoding":"base64"}

