{"sha":"55a4776435037b4978d3f2f9a04ae66bd79484eb","node_id":"MDQ6QmxvYjIwNjM2NDo1NWE0Nzc2NDM1MDM3YjQ5NzhkM2YyZjlhMDRhZTY2YmQ3OTQ4NGVi","size":9461,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/55a4776435037b4978d3f2f9a04ae66bd79484eb","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZXZlbnQ7CgppbXBvcnQgamF2\nYS51dGlsLlByb3BlcnRpZXM7CmltcG9ydCBqYXZheC5qbXMuRXhjZXB0aW9u\nTGlzdGVuZXI7CmltcG9ydCBqYXZheC5qbXMuSk1TRXhjZXB0aW9uOwppbXBv\ncnQgamF2YXguam1zLk1lc3NhZ2U7CmltcG9ydCBqYXZheC5qbXMuTWVzc2Fn\nZUxpc3RlbmVyOwppbXBvcnQgamF2YXguam1zLk9iamVjdE1lc3NhZ2U7Cmlt\ncG9ydCBqYXZheC5qbXMuU2Vzc2lvbjsKaW1wb3J0IGphdmF4Lmptcy5Ub3Bp\nYzsKaW1wb3J0IGphdmF4Lmptcy5Ub3BpY0Nvbm5lY3Rpb247CmltcG9ydCBq\nYXZheC5qbXMuVG9waWNDb25uZWN0aW9uRmFjdG9yeTsKaW1wb3J0IGphdmF4\nLmptcy5Ub3BpY1B1Ymxpc2hlcjsKaW1wb3J0IGphdmF4Lmptcy5Ub3BpY1Nl\nc3Npb247CmltcG9ydCBqYXZheC5qbXMuVG9waWNTdWJzY3JpYmVyOwppbXBv\ncnQgamF2YXgubmFtaW5nLkNvbnRleHQ7CmltcG9ydCBqYXZheC5uYW1pbmcu\nSW5pdGlhbENvbnRleHQ7CmltcG9ydCBqYXZheC5uYW1pbmcuTmFtaW5nRXhj\nZXB0aW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5D\nb25maWd1cmFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNv\nbmYuR2VuZXJpY0NvbmZpZ3VyYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLnV0aWwuT3B0aW9uczsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS51dGlsLk9wZW5KUEFFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEudXRpbC5Vc2VyRXhjZXB0aW9uOwoKLyoqCiAqIEpNUy1iYXNl\nZCBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgUmVtb3RlQ29tbWl0UHJvdmlk\nZXJ9IHRoYXQKICogbGlzdGVucyBmb3Igb2JqZWN0IG1vZGlmaWNhdGlvbnMg\nYW5kIHByb3BhZ2F0ZXMgdGhvc2UgY2hhbmdlcyB0bwogKiBvdGhlciBSZW1v\ndGVDb21taXRQcm92aWRlcnMgb3ZlciBhIEpNUyB0b3BpYy4KICoKICogQGF1\ndGhvciBQYXRyaWNrIExpbnNrZXkKICogQHNpbmNlIDAuMi41LjAKICovCnB1\nYmxpYyBjbGFzcyBKTVNSZW1vdGVDb21taXRQcm92aWRlcgogICAgZXh0ZW5k\ncyBBYnN0cmFjdFJlbW90ZUNvbW1pdFByb3ZpZGVyCiAgICBpbXBsZW1lbnRz\nIENvbmZpZ3VyYWJsZSwgR2VuZXJpY0NvbmZpZ3VyYWJsZSwgRXhjZXB0aW9u\nTGlzdGVuZXIgewoKICAgIHByaXZhdGUgc3RhdGljIExvY2FsaXplciBzX2xv\nYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKEpNU1JlbW90ZUNv\nbW1pdFByb3ZpZGVyLmNsYXNzKTsKCiAgICBwcml2YXRlIFN0cmluZyBfdG9w\naWNOYW1lID0gInRvcGljL09wZW5KUEFDb21taXRQcm92aWRlclRvcGljIjsK\nICAgIHByaXZhdGUgU3RyaW5nIF90Y2ZOYW1lID0gImphdmE6L0Nvbm5lY3Rp\nb25GYWN0b3J5IjsKICAgIHByaXZhdGUgUHJvcGVydGllcyBfY3R4UHJvcHMg\nPSBudWxsOwogICAgcHJpdmF0ZSBpbnQgX3JlY29ubmVjdEF0dGVtcHRzID0g\nMDsKICAgIHByaXZhdGUgVG9waWNDb25uZWN0aW9uIF9jb25uZWN0aW9uOwog\nICAgcHJpdmF0ZSBUb3BpY1Nlc3Npb24gX3Nlc3Npb247CiAgICBwcml2YXRl\nIFRvcGljUHVibGlzaGVyIF9wdWJsaXNoZXI7CgogICAgLyoqCiAgICAgKiBT\nZXRzIHRoZSBKTVMgVG9waWMgbmFtZS4gRGVmYXVsdHMgdG8KICAgICAqIDxj\nb2RlPnRvcGljL09wZW5KUEFDb21taXRQcm92aWRlclRvcGljPC9jb2RlPi4K\nICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0VG9waWMoU3RyaW5nIG5hbWUp\nIHsKICAgICAgICBfdG9waWNOYW1lID0gbmFtZTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFNldHMgdGhlIEpNUyBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IG5h\nbWUuIERlZmF1bHRzIHRvCiAgICAgKiA8Y29kZT5qYXZhOi9Db25uZWN0aW9u\nRmFjdG9yeTwvY29kZT4uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFRv\ncGljQ29ubmVjdGlvbkZhY3RvcnkoU3RyaW5nIG5hbWUpIHsKICAgICAgICBf\ndGNmTmFtZSA9IG5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgbnVt\nYmVyIG9mIHRpbWVzIHRvIGF0dGVtcHQgdG8gcmVjb25uZWN0IGFmdGVyIGEg\nSk1TIHNlbmQgZXhjZXB0aW9uCiAgICAgKiBpcyBkZXRlY3RlZC4gRGVmYXVs\ndHMgdG8gMCwgbWVhbmluZyBubyBhdHRlbXB0IHRvIHJlY29ubmVjdCBpcyBt\nYWRlOwogICAgICogdGhlIGV4Y2VwdGlvbiBpcyBsb2dnZWQgYW5kIGlnbm9y\nZWQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEV4Y2VwdGlvblJlY29u\nbmVjdEF0dGVtcHRzKGludCBhdHRlbXB0cykgewogICAgICAgIF9yZWNvbm5l\nY3RBdHRlbXB0cyA9IGF0dGVtcHRzOwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IGEgbWFwIG9mIHByb3BlcnRpZXMgdG8gcGFzcyB0byB0aGUge0BsaW5r\nIEluaXRpYWxDb250ZXh0fQogICAgICogY29uc3RydWN0b3IgZm9yIEpOREkg\nbG9va3Vwcy4gSW1wbGVtZW50YXRpb24gb2YKICAgICAqIHtAbGluayBHZW5l\ncmljQ29uZmlndXJhYmxlfS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nSW50byhPcHRpb25zIG9wdHMpIHsKICAgICAgICBpZiAob3B0cyAhPSBudWxs\nICYmICFvcHRzLmlzRW1wdHkoKSkgewogICAgICAgICAgICBfY3R4UHJvcHMg\nPSBuZXcgUHJvcGVydGllcygpOwogICAgICAgICAgICBfY3R4UHJvcHMucHV0\nQWxsKG9wdHMpOwogICAgICAgICAgICBvcHRzLmNsZWFyKCk7CiAgICAgICAg\nfSBlbHNlCiAgICAgICAgICAgIF9jdHhQcm9wcyA9IG51bGw7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgbmV3IHtAbGluayBDb250ZXh0fSBv\nYmplY3QgZm9yIHVzZSBieSB0aGlzIHByb3ZpZGVyLgogICAgICovCiAgICBw\ncm90ZWN0ZWQgQ29udGV4dCBuZXdDb250ZXh0KCkKICAgICAgICB0aHJvd3Mg\nTmFtaW5nRXhjZXB0aW9uIHsKICAgICAgICBpZiAoX2N0eFByb3BzID09IG51\nbGwpCiAgICAgICAgICAgIHJldHVybiBuZXcgSW5pdGlhbENvbnRleHQoKTsK\nICAgICAgICByZXR1cm4gbmV3IEluaXRpYWxDb250ZXh0KF9jdHhQcm9wcyk7\nCiAgICB9CgogICAgLy8gLS0tLS0tLS0tLSBSZW1vdGVDb21taXRQcm92aWRl\nciBpbXBsZW1lbnRhdGlvbiAtLS0tLS0tLS0tCgogICAgcHVibGljIHZvaWQg\nYnJvYWRjYXN0KFJlbW90ZUNvbW1pdEV2ZW50IGV2ZW50KSB7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgX3B1Ymxpc2hlci5wdWJsaXNoKGNyZWF0ZU1l\nc3NhZ2UoZXZlbnQpKTsKICAgICAgICAgICAgaWYgKGxvZy5pc1RyYWNlRW5h\nYmxlZCgpKQogICAgICAgICAgICAgICAgbG9nLnRyYWNlKHNfbG9jLmdldCgi\nam1zLXNlbnQtdXBkYXRlIiwgX3RvcGljTmFtZSkpOwogICAgICAgIH0gY2F0\nY2ggKEpNU0V4Y2VwdGlvbiBqbXNlKSB7CiAgICAgICAgICAgIGlmIChsb2cu\naXNXYXJuRW5hYmxlZCgpKQogICAgICAgICAgICAgICAgbG9nLndhcm4oc19s\nb2MuZ2V0KCJqbXMtc2VuZC1lcnJvciIsIF90b3BpY05hbWUpLCBqbXNlKTsK\nICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgY2xvc2UoKSB7CiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKF9jb25uZWN0aW9uICE9IG51\nbGwpIHsKICAgICAgICAgICAgICAgIF9jb25uZWN0aW9uLmNsb3NlKCk7CiAg\nICAgICAgICAgICAgICBpZiAobG9nLmlzSW5mb0VuYWJsZWQoKSkKICAgICAg\nICAgICAgICAgICAgICBsb2cuaW5mbyhzX2xvYy5nZXQoImptcy1jbG9zZS1s\naXN0ZW5lciIsIF90b3BpY05hbWUpKTsKICAgICAgICAgICAgfQogICAgICAg\nIH0KICAgICAgICBjYXRjaCAoSk1TRXhjZXB0aW9uIGptc2UpIHsKICAgICAg\nICAgICAgaWYgKGxvZy5pc1dhcm5FbmFibGVkKCkpCiAgICAgICAgICAgICAg\nICBsb2cud2FybihzX2xvYy5nZXQoImptcy1jbG9zZS1lcnJvciIsIF90b3Bp\nY05hbWUpLCBqbXNlKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAg\nICBfY29ubmVjdGlvbiA9IG51bGw7CiAgICAgICAgfQogICAgfQoKICAgIC8v\nIC0tLS0tLS0tLS0gQ29uZmlndXJhYmxlIGltcGxlbWVudGF0aW9uIC0tLS0t\nLS0tLS0KCiAgICAvKioKICAgICAqIFN1YmNsYXNzZXMgdGhhdCBuZWVkIHRv\nIHBlcmZvcm0gYWN0aW9ucyBpbgogICAgICoge0BsaW5rIENvbmZpZ3VyYWJs\nZSNlbmRDb25maWd1cmF0aW9ufSBtdXN0IGludm9rZSB0aGlzIG1ldGhvZC4K\nICAgICAqLwogICAgcHVibGljIHZvaWQgZW5kQ29uZmlndXJhdGlvbigpIHsK\nICAgICAgICBzdXBlci5lbmRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgY29u\nbmVjdCgpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBjb25uZWN0KCkgewog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIENvbnRleHQgY3R4ID0gbmV3Q29u\ndGV4dCgpOwogICAgICAgICAgICBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IHRj\nZiA9CiAgICAgICAgICAgICAgICAoVG9waWNDb25uZWN0aW9uRmFjdG9yeSkg\nY3R4Lmxvb2t1cChfdGNmTmFtZSk7CiAgICAgICAgICAgIFRvcGljIHRvcGlj\nID0gKFRvcGljKSBjdHgubG9va3VwKF90b3BpY05hbWUpOwogICAgICAgICAg\nICBjdHguY2xvc2UoKTsKCiAgICAgICAgICAgIF9jb25uZWN0aW9uID0gdGNm\nLmNyZWF0ZVRvcGljQ29ubmVjdGlvbigpOwoKICAgICAgICAgICAgLy8gZmFs\nc2UgPT0gbm90IHRyYW5zYWN0ZWQuCiAgICAgICAgICAgIF9zZXNzaW9uID0g\nX2Nvbm5lY3Rpb24uY3JlYXRlVG9waWNTZXNzaW9uCiAgICAgICAgICAgICAg\nICAoZmFsc2UsIFNlc3Npb24uQVVUT19BQ0tOT1dMRURHRSk7CgogICAgICAg\nICAgICAvLyBjcmVhdGUgYSBwdWJsaXNoZXIKICAgICAgICAgICAgX3B1Ymxp\nc2hlciA9IF9zZXNzaW9uLmNyZWF0ZVB1Ymxpc2hlcih0b3BpYyk7CgogICAg\nICAgICAgICAvLyBjcmVhdGUgYSBzdWJzY3JpYmVyLgogICAgICAgICAgICBU\nb3BpY1N1YnNjcmliZXIgcyA9IF9zZXNzaW9uLmNyZWF0ZVN1YnNjcmliZXIo\ndG9waWMsIG51bGwsCiAgICAgICAgICAgICAgICAvKiBub0xvY2FsOiAqLyB0\ncnVlKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIE1lc3NhZ2VMaXN0ZW5l\nciBsID0gZ2V0TWVzc2FnZUxpc3RlbmVyKCk7CiAgICAgICAgICAgIHMuc2V0\nTWVzc2FnZUxpc3RlbmVyKGwpOwogICAgICAgICAgICBfY29ubmVjdGlvbi5z\ndGFydCgpOwogICAgICAgICAgICBfY29ubmVjdGlvbi5zZXRFeGNlcHRpb25M\naXN0ZW5lcih0aGlzKTsKICAgICAgICAgICAgaWYgKGxvZy5pc0luZm9FbmFi\nbGVkKCkpCiAgICAgICAgICAgICAgICBsb2cuaW5mbyhzX2xvYy5nZXQoImpt\ncy1zdGFydC1saXN0ZW5lciIsIF90b3BpY05hbWUpKTsKICAgICAgICB9IGNh\ndGNoIChPcGVuSlBBRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIHRocm93\nIGtlOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAg\nICAgIHRocm93IG5ldyBVc2VyRXhjZXB0aW9uKHNfbG9jLmdldCgiam1zLXBy\nb3ZpZGVyLWNvbmZpZyIsCiAgICAgICAgICAgICAgICBfdG9waWNOYW1lLCBf\ndGNmTmFtZSksIGUpLnNldEZhdGFsKHRydWUpOwogICAgICAgIH0KICAgIH0K\nCiAgICAvKiAqCiAgICAgKiBSZXR1cm5zIGEge0BsaW5rIGphdmF4Lmptcy5N\nZXNzYWdlTGlzdGVuZXJ9IGNhcGFibGUgb2YKICAgICAqIHVuZGVyc3RhbmRp\nbmcgYW5kIHByb2Nlc3NpbmcgbWVzc2FnZXMgY3JlYXRlZCBieSB7QGxpbmsg\nI2NyZWF0ZU1lc3NhZ2V9LgogICAgICogIFRoZSBsaXN0ZW5lciByZXR1cm5l\nZCBieSB0aGlzIG1ldGhvZCBpcyByZXNwb25zaWJsZSBmb3IKICAgICAqIG5v\ndGlmeWluZyB0aGUgcHJvdmlkZXIgdGhhdCBhIHJlbW90ZSBldmVudCBoYXMg\nYmVlbiByZWNlaXZlZC4KICAgICAqLwogICAgcHJvdGVjdGVkIE1lc3NhZ2VM\naXN0ZW5lciBnZXRNZXNzYWdlTGlzdGVuZXIoKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBNZXNzYWdlTGlzdGVuZXIoKSB7CiAgICAgICAgICAgIHB1YmxpYyB2\nb2lkIG9uTWVzc2FnZShNZXNzYWdlIG0pIHsKICAgICAgICAgICAgICAgIGlm\nICghKG0gaW5zdGFuY2VvZiBPYmplY3RNZXNzYWdlKSkgewogICAgICAgICAg\nICAgICAgICAgIGlmIChsb2cuaXNXYXJuRW5hYmxlZCgpKQogICAgICAgICAg\nICAgICAgICAgICAgICBsb2cud2FybihzX2xvYy5nZXQoImptcy1yZWNlaXZl\nLWVycm9yLTMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RvcGlj\nTmFtZSwgbS5nZXRDbGFzcygpLmdldE5hbWUoKSkpOwogICAgICAgICAgICAg\nICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAg\nICAgICBPYmplY3RNZXNzYWdlIG9tID0gKE9iamVjdE1lc3NhZ2UpIG07CiAg\nICAgICAgICAgICAgICBPYmplY3QgbzsKICAgICAgICAgICAgICAgIHRyeSB7\nCiAgICAgICAgICAgICAgICAgICAgbyA9IG9tLmdldE9iamVjdCgpOwogICAg\nICAgICAgICAgICAgfSBjYXRjaCAoSk1TRXhjZXB0aW9uIGptc2UpIHsKICAg\nICAgICAgICAgICAgICAgICBpZiAobG9nLmlzV2FybkVuYWJsZWQoKSkKICAg\nICAgICAgICAgICAgICAgICAgICAgbG9nLndhcm4oc19sb2MuZ2V0KCJqbXMt\ncmVjZWl2ZS1lcnJvci0xIiksIGptc2UpOwogICAgICAgICAgICAgICAgICAg\nIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBp\nZiAobyBpbnN0YW5jZW9mIFJlbW90ZUNvbW1pdEV2ZW50KSB7CiAgICAgICAg\nICAgICAgICAgICAgaWYgKGxvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAgICAg\nICAgICAgICAgICAgICAgICBsb2cudHJhY2Uoc19sb2MuZ2V0KCJqbXMtcmVj\nZWl2ZWQtdXBkYXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90\nb3BpY05hbWUpKTsKCiAgICAgICAgICAgICAgICAgICAgUmVtb3RlQ29tbWl0\nRXZlbnQgcmNlID0gKFJlbW90ZUNvbW1pdEV2ZW50KSBvOwogICAgICAgICAg\nICAgICAgICAgIGZpcmVFdmVudChyY2UpOwogICAgICAgICAgICAgICAgfSBl\nbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9nLmlzV2FybkVuYWJs\nZWQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgbG9nLndhcm4oc19sb2Mu\nZ2V0KCJqbXMtcmVjZWl2ZS1lcnJvci0yIiwKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIG8uZ2V0Q2xhc3MoKS5nZXROYW1lKCksIF90b3BpY05hbWUp\nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgbmV3IHtAbGluayBN\nZXNzYWdlfSB0byBzZW5kIHRvIHRoZSB0b3BpYy4gVGhpcwogICAgICogaW1w\nbGVtZW50YXRpb24gY3JlYXRlcyBhbiB7QGxpbmsgT2JqZWN0TWVzc2FnZX0u\nCiAgICAgKi8KICAgIHByb3RlY3RlZCBNZXNzYWdlIGNyZWF0ZU1lc3NhZ2Uo\nUmVtb3RlQ29tbWl0RXZlbnQgZXZlbnQpCiAgICAgICAgdGhyb3dzIEpNU0V4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9zZXNzaW9uLmNyZWF0ZU9iamVj\ndE1lc3NhZ2UoZXZlbnQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIG9uRXhj\nZXB0aW9uKEpNU0V4Y2VwdGlvbiBleCkgewogICAgICAgIGlmIChsb2cuaXNX\nYXJuRW5hYmxlZCgpKQogICAgICAgICAgICBsb2cud2FybihzX2xvYy5nZXQo\nImptcy1saXN0ZW5lci1lcnJvciIsIF90b3BpY05hbWUpLCBleCk7CiAgICAg\nICAgaWYgKF9yZWNvbm5lY3RBdHRlbXB0cyA8PSAwKQogICAgICAgICAgICBy\nZXR1cm47CgogICAgICAgIGNsb3NlKCk7CiAgICAgICAgYm9vbGVhbiBjb25u\nZWN0ZWQgPSBmYWxzZTsKICAgICAgICBmb3IgKGludCBpID0gMDsgIWNvbm5l\nY3RlZCAmJiBpIDwgX3JlY29ubmVjdEF0dGVtcHRzOyBpKyspIHsKICAgICAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmIChsb2cuaXNJbmZvRW5h\nYmxlZCgpKQogICAgICAgICAgICAgICAgICAgIGxvZy5pbmZvKHNfbG9jLmdl\ndCgiam1zLXJlY29ubmVjdC1hdHRlbXB0IiwgX3RvcGljTmFtZSwKICAgICAg\nICAgICAgICAgICAgICAgICAgU3RyaW5nLnZhbHVlT2YoaSArIDEpKSk7CiAg\nICAgICAgICAgICAgICBjb25uZWN0KCk7CiAgICAgICAgICAgICAgICBjb25u\nZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24g\nZSkgewogICAgICAgICAgICAgICAgaWYgKGxvZy5pc0luZm9FbmFibGVkKCkp\nCiAgICAgICAgICAgICAgICAgICAgbG9nLmluZm8oc19sb2MuZ2V0KCJqbXMt\ncmVjb25uZWN0LWZhaWwiLCBfdG9waWNOYW1lKSwgZSk7CiAgICAgICAgICAg\nICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIFRocmVhZC5zbGVlcCgx\nMDAwKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEludGVycnVwdGVkRXhj\nZXB0aW9uIGllKSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAg\nIGlmICghY29ubmVjdGVkICYmIGxvZy5pc0Vycm9yRW5hYmxlZCgpKQogICAg\nICAgICAgICBsb2cuZXJyb3Ioc19sb2MuZ2V0KCJqbXMtY2FudC1yZWNvbm5l\nY3QiLCBfdG9waWNOYW1lLAogICAgICAgICAgICAgICAgU3RyaW5nLnZhbHVl\nT2YoX3JlY29ubmVjdEF0dGVtcHRzKSkpOwogICAgICAgIGVsc2UgaWYgKGNv\nbm5lY3RlZCAmJiBsb2cuaXNJbmZvRW5hYmxlZCgpKQogICAgICAgICAgICBs\nb2cuaW5mbyhzX2xvYy5nZXQoImptcy1yZWNvbm5lY3RlZCIsIF90b3BpY05h\nbWUpKTsKCX0KfQo=\n","encoding":"base64"}

