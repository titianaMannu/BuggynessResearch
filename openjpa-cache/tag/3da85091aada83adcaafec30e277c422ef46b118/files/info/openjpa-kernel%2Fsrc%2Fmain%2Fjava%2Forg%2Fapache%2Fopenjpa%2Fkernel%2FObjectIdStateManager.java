{"sha":"e22d29375a6b9e27d5386b0d48dd72765a2173f2","node_id":"MDQ6QmxvYjIwNjM2NDplMjJkMjkzNzVhNmI5ZTI3ZDUzODZiMGQ0OGRkNzI3NjVhMjE3M2Yy","size":20371,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e22d29375a6b9e27d5386b0d48dd72765a2173f2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLk9iamVjdE91dHB1\ndDsKaW1wb3J0IGphdmEubGFuZy5yZWZsZWN0LkZpZWxkOwppbXBvcnQgamF2\nYS5sYW5nLnJlZmxlY3QuTWV0aG9kOwppbXBvcnQgamF2YS51dGlsLkJpdFNl\ndDsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGls\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNlLlBlcnNpc3Rl\nbmNlQ2FwYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNl\nLlN0YXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhh\nbmNlLlJlZmxlY3Rpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0\nYS5DbGFzc01ldGFEYXRhOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1l\ndGEuRmllbGRNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5t\nZXRhLkphdmFUeXBlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRh\nLlZhbHVlTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRp\nbC5HZW5lcmFsRXhjZXB0aW9uOwppbXBvcnQgc2VycC51dGlsLk51bWJlcnM7\nCgovKioKICogU3RhdGUgbWFuYWdlciB1c2VkIHRvIGFjY2VzcyBzdGF0ZSBv\nZiBlbWJlZGRlZCBvYmplY3QgaWQgcHJpbWFyeSBrZXkgZmllbGRzLgogKgog\nKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMg\nY2xhc3MgT2JqZWN0SWRTdGF0ZU1hbmFnZXIKICAgIGltcGxlbWVudHMgT3Bl\nbkpQQVN0YXRlTWFuYWdlciB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwg\nQnl0ZSBaRVJPX0JZVEUgPSBuZXcgQnl0ZSgoYnl0ZSkgMCk7CiAgICBwcml2\nYXRlIHN0YXRpYyBmaW5hbCBDaGFyYWN0ZXIgWkVST19DSEFSID0gbmV3IENo\nYXJhY3RlcigoY2hhcikgMCk7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBE\nb3VibGUgWkVST19ET1VCTEUgPSBuZXcgRG91YmxlKDApOwogICAgcHJpdmF0\nZSBzdGF0aWMgZmluYWwgRmxvYXQgWkVST19GTE9BVCA9IG5ldyBGbG9hdCgw\nKTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFNob3J0IFpFUk9fU0hPUlQg\nPSBuZXcgU2hvcnQoKHNob3J0KSAwKTsKCiAgICBwcml2YXRlIE9iamVjdCBf\nb2lkOwogICAgcHJpdmF0ZSBmaW5hbCBPcGVuSlBBU3RhdGVNYW5hZ2VyIF9v\nd25lcjsKICAgIHByaXZhdGUgZmluYWwgVmFsdWVNZXRhRGF0YSBfdm1kOwoK\nICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBlbWJlZGRlZCBv\nYmplY3QgaWQgYW5kIGl0cyBvd25lci4KICAgICAqCiAgICAgKiBAcGFyYW0g\nb3duZXIgbWF5IGJlIG51bGwKICAgICAqLwogICAgcHVibGljIE9iamVjdElk\nU3RhdGVNYW5hZ2VyKE9iamVjdCBvaWQsIE9wZW5KUEFTdGF0ZU1hbmFnZXIg\nb3duZXIsCiAgICAgICAgVmFsdWVNZXRhRGF0YSBvd25lclZhbCkgewogICAg\nICAgIF9vaWQgPSBvaWQ7CiAgICAgICAgX293bmVyID0gb3duZXI7CiAgICAg\nICAgX3ZtZCA9IG93bmVyVmFsOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nZ2V0R2VuZXJpY0NvbnRleHQoKSB7CiAgICAgICAgcmV0dXJuIChfb3duZXIg\nPT0gbnVsbCkgPyBudWxsIDogX293bmVyLmdldEdlbmVyaWNDb250ZXh0KCk7\nCiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRQQ1ByaW1hcnlLZXkoT2Jq\nZWN0IG9pZCwgaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIFN0YXRlTWFuYWdlciByZXBsYWNlU3RhdGVNYW5hZ2VyKFN0YXRlTWFuYWdl\nciBzbSkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0VmVy\nc2lvbigpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRWZXJzaW9uKE9iamVjdCB2ZXJzaW9uKSB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNEaXJ0eSgpIHsKICAgICAgICBy\nZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNUcmFu\nc2FjdGlvbmFsKCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAg\nICBwdWJsaWMgYm9vbGVhbiBpc1BlcnNpc3RlbnQoKSB7CiAgICAgICAgcmV0\ndXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzTmV3KCkg\newogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9v\nbGVhbiBpc0RlbGV0ZWQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRGV0YWNoZWQoKSB7CiAgICAgICAg\ncmV0dXJuIHRydWU7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNWZXJz\naW9uVXBkYXRlUmVxdWlyZWQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzVmVyc2lvbkNoZWNrUmVxdWly\nZWQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIGRpcnR5KFN0cmluZyBmaWVsZCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyBPYmplY3QgZmV0Y2hPYmplY3RJZCgpIHsKICAgICAgICByZXR1\ncm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhY2Nlc3NpbmdGaWVs\nZChpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4g\nc2VyaWFsaXppbmcoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xl\nYW4gd3JpdGVEZXRhY2hlZChPYmplY3RPdXRwdXQgb3V0KQogICAgICAgIHRo\ncm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgcHJveHlEZXRhY2hlZERlc2VyaWFsaXplZChpbnQgaWR4KSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGluZ0Jvb2xlYW5GaWVsZChQ\nZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsCiAgICAgICAgYm9vbGVh\nbiBjdXIsIGJvb2xlYW4gbmV4dCwgaW50IHNldCkgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldHRpbmdDaGFyRmllbGQoUGVyc2lzdGVuY2VD\nYXBhYmxlIHBjLCBpbnQgaWR4LCBjaGFyIGN1ciwKICAgICAgICBjaGFyIG5l\neHQsIGludCBzZXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXR0aW5nQnl0ZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlk\neCwgYnl0ZSBjdXIsCiAgICAgICAgYnl0ZSBuZXh0LCBpbnQgc2V0KSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGluZ1Nob3J0RmllbGQo\nUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBzaG9ydCBjdXIsCiAg\nICAgICAgc2hvcnQgbmV4dCwgaW50IHNldCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldHRpbmdJbnRGaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgsIGludCBjdXIsCiAgICAgICAgaW50IG5leHQsIGlu\ndCBzZXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5n\nTG9uZ0ZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgbG9u\nZyBjdXIsCiAgICAgICAgbG9uZyBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0dGluZ0Zsb2F0RmllbGQoUGVyc2lz\ndGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBmbG9hdCBjdXIsCiAgICAgICAg\nZmxvYXQgbmV4dCwgaW50IHNldCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldHRpbmdEb3VibGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUg\ncGMsIGludCBpZHgsIGRvdWJsZSBjdXIsCiAgICAgICAgZG91YmxlIG5leHQs\nIGludCBzZXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0\naW5nU3RyaW5nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4\nLCBTdHJpbmcgY3VyLAogICAgICAgIFN0cmluZyBuZXh0LCBpbnQgc2V0KSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGluZ09iamVjdEZp\nZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgT2JqZWN0IGN1\nciwKICAgICAgICBPYmplY3QgbmV4dCwgaW50IHNldCkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkQm9vbGVhbkZpZWxkKFBlcnNp\nc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAgICBib29sZWFuIGN1\ncikgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkQ2hh\nckZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgY2hhciBj\ndXIpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZEJ5\ndGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGJ5dGUg\nY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRT\naG9ydEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgc2hv\ncnQgY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlk\nZWRJbnRGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGlu\ndCBjdXIpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRl\nZExvbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGxv\nbmcgY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlk\nZWRGbG9hdEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwg\nZmxvYXQgY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJv\ndmlkZWREb3VibGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBp\nZHgsCiAgICAgICAgZG91YmxlIGN1cikgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHByb3ZpZGVkU3RyaW5nRmllbGQoUGVyc2lzdGVuY2VDYXBh\nYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIFN0cmluZyBjdXIpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZE9iamVjdEZpZWxkKFBl\ncnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAgICBPYmplY3Qg\nY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gcmVwbGFj\nZUJvb2xlYW5GaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgY2hhciByZXBsYWNlQ2hhckZp\nZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyBieXRlIHJlcGxhY2VCeXRlRmllbGQoUGVyc2lz\ndGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIHNob3J0IHJlcGxhY2VTaG9ydEZpZWxkKFBlcnNpc3RlbmNlQ2Fw\nYWJsZSBwYywgaW50IGlkeCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBp\nbnQgcmVwbGFjZUludEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50\nIGlkeCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBsb25nIHJlcGxhY2VM\nb25nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIGZsb2F0IHJlcGxhY2VGbG9hdEZpZWxk\nKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyBkb3VibGUgcmVwbGFjZURvdWJsZUZpZWxkKFBlcnNp\nc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgcmVwbGFjZVN0cmluZ0ZpZWxkKFBlcnNpc3RlbmNl\nQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyBPYmplY3QgcmVwbGFjZU9iamVjdEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYywgaW50IGlkeCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIC8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyBPcGVuSlBBU3RhdGVN\nYW5hZ2VyIGltcGxlbWVudGF0aW9uCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLwoKICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUo\nQ2xhc3MgZm9yVHlwZSwgUENTdGF0ZSBzdGF0ZSkgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIGxvYWQoRmV0Y2hDb25maWd1cmF0aW9uIGZldGNo\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRNYW5hZ2Vk\nSW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIF9vaWQ7CiAgICB9CgogICAg\ncHVibGljIFBlcnNpc3RlbmNlQ2FwYWJsZSBnZXRQZXJzaXN0ZW5jZUNhcGFi\nbGUoKSB7CiAgICAgICAgcmV0dXJuIChQZXJzaXN0ZW5jZUNhcGFibGUpIF9v\naWQ7CiAgICB9CgogICAgcHVibGljIENsYXNzTWV0YURhdGEgZ2V0TWV0YURh\ndGEoKSB7CiAgICAgICAgcmV0dXJuIF92bWQuZ2V0RW1iZWRkZWRNZXRhRGF0\nYSgpOwogICAgfQoKICAgIHB1YmxpYyBPcGVuSlBBU3RhdGVNYW5hZ2VyIGdl\ndE93bmVyKCkgewogICAgICAgIHJldHVybiBfb3duZXI7CiAgICB9CgogICAg\ncHVibGljIFZhbHVlTWV0YURhdGEgZ2V0T3duZXJNZXRhRGF0YSgpIHsKICAg\nICAgICByZXR1cm4gX3ZtZDsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBp\nc0VtYmVkZGVkKCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAg\nIHB1YmxpYyBib29sZWFuIGlzRmx1c2hlZCgpIHsKICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNGbHVzaGVkRGly\ndHkoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGlzUHJvdmlzaW9uYWwoKSB7CiAgICAgICAgcmV0dXJuIGZh\nbHNlOwogICAgfQoKICAgIHB1YmxpYyBCaXRTZXQgZ2V0TG9hZGVkKCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyBCaXRTZXQgZ2V0RGlydHkoKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIEJpdFNldCBnZXRGbHVzaGVkKCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyBCaXRTZXQgZ2V0VW5sb2FkZWQoRmV0\nY2hDb25maWd1cmF0aW9uIGZldGNoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIE9iamVjdCBuZXdQcm94eShpbnQgZmllbGQpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IG5ld0ZpZWxkUHJveHkoaW50IGZpZWxkKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNEZWZhdWx0VmFs\ndWUoaW50IGZpZWxkKSB7CiAgICAgICAgT2JqZWN0IHZhbCA9IGdldFZhbHVl\nKGZpZWxkKTsKICAgICAgICBpZiAodmFsID09IG51bGwpCiAgICAgICAgICAg\nIHJldHVybiB0cnVlOwoKICAgICAgICBGaWVsZE1ldGFEYXRhIGZtZCA9IGdl\ndE1ldGFEYXRhKCkuZ2V0RmllbGQoZmllbGQpOwogICAgICAgIHN3aXRjaCAo\nZm1kLmdldERlY2xhcmVkVHlwZUNvZGUoKSkgewogICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5CT09MRUFOOgogICAgICAgICAgICAgICAgcmV0dXJuIEJv\nb2xlYW4uRkFMU0UuZXF1YWxzKHZhbCk7CiAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLkNIQVI6CiAgICAgICAgICAgICAgICByZXR1cm4gKChDaGFyYWN0\nZXIpIHZhbCkuY2hhclZhbHVlKCkgPT0gMDsKICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuQllURToKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRE9V\nQkxFOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5GTE9BVDoKICAgICAg\nICAgICAgY2FzZSBKYXZhVHlwZXMuSU5UOgogICAgICAgICAgICBjYXNlIEph\ndmFUeXBlcy5MT05HOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5TSE9S\nVDoKICAgICAgICAgICAgICAgIHJldHVybiAoKE51bWJlcikgdmFsKS5pbnRW\nYWx1ZSgpID09IDA7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNUUklO\nRzoKICAgICAgICAgICAgICAgIHJldHVybiAiIi5lcXVhbHModmFsKTsKICAg\nICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiBmYWxz\nZTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIFN0b3JlQ29udGV4dCBn\nZXRDb250ZXh0KCkgewogICAgICAgIHJldHVybiAoX293bmVyID09IG51bGwp\nID8gbnVsbCA6IF9vd25lci5nZXRDb250ZXh0KCk7CiAgICB9CgogICAgcHVi\nbGljIFBDU3RhdGUgZ2V0UENTdGF0ZSgpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IGdldE9iamVjdElkKCkgewogICAgICAgIHJldHVybiBu\ndWxsOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9iamVjdElkKE9iamVj\ndCBvaWQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBhc3Np\nZ25PYmplY3RJZChib29sZWFuIGZsdXNoKSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIE9iamVjdCBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gbnVsbDsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldExvY2soKSB7CiAgICAgICAg\ncmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TG9jayhP\nYmplY3QgbG9jaykgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndE5leHRWZXJzaW9uKE9iamVjdCB2ZXJzaW9uKSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIE9iamVjdCBnZXRJbXBsRGF0YSgpIHsKICAgICAgICByZXR1\ncm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IHNldEltcGxEYXRh\nKE9iamVjdCBkYXRhLCBib29sZWFuIGNhY2hlYWJsZSkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGlzSW1wbERhdGFDYWNoZWFibGUoKSB7\nCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBPYmpl\nY3QgZ2V0SW1wbERhdGEoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIG51\nbGw7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBzZXRJbXBsRGF0YShpbnQg\nZmllbGQsIE9iamVjdCBkYXRhKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIGJvb2xlYW4gaXNJbXBsRGF0YUNhY2hlYWJsZShpbnQgZmllbGQpIHsKICAg\nICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBn\nZXRJbnRlcm1lZGlhdGUoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIG51\nbGw7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SW50ZXJtZWRpYXRlKGlu\ndCBmaWVsZCwgT2JqZWN0IGRhdGEpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCByZW1vdmVkKGludCBmaWVsZCwgT2JqZWN0IHJlbW92ZWQsIGJv\nb2xlYW4ga2V5KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4g\nYmVmb3JlUmVmcmVzaChib29sZWFuIGFsbCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIGRpcnR5KGludCBmaWVsZCkgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHN0b3JlQm9vbGVhbihpbnQgZmllbGQsIGJvb2xl\nYW4gZXh0VmFsKSB7CiAgICAgICAgc2V0VmFsdWUoZmllbGQsIChleHRWYWwp\nID8gQm9vbGVhbi5UUlVFIDogQm9vbGVhbi5GQUxTRSwgdHJ1ZSk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc3RvcmVCeXRlKGludCBmaWVsZCwgYnl0ZSBl\neHRWYWwpIHsKICAgICAgICBzZXRWYWx1ZShmaWVsZCwgbmV3IEJ5dGUoZXh0\nVmFsKSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVDaGFy\nKGludCBmaWVsZCwgY2hhciBleHRWYWwpIHsKICAgICAgICBzZXRWYWx1ZShm\naWVsZCwgbmV3IENoYXJhY3RlcihleHRWYWwpLCB0cnVlKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzdG9yZUludChpbnQgZmllbGQsIGludCBleHRWYWwp\nIHsKICAgICAgICBzZXRWYWx1ZShmaWVsZCwgTnVtYmVycy52YWx1ZU9mKGV4\ndFZhbCksIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlU2hv\ncnQoaW50IGZpZWxkLCBzaG9ydCBleHRWYWwpIHsKICAgICAgICBzZXRWYWx1\nZShmaWVsZCwgbmV3IFNob3J0KGV4dFZhbCksIHRydWUpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHN0b3JlTG9uZyhpbnQgZmllbGQsIGxvbmcgZXh0VmFs\nKSB7CiAgICAgICAgc2V0VmFsdWUoZmllbGQsIE51bWJlcnMudmFsdWVPZihl\neHRWYWwpLCB0cnVlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUZs\nb2F0KGludCBmaWVsZCwgZmxvYXQgZXh0VmFsKSB7CiAgICAgICAgc2V0VmFs\ndWUoZmllbGQsIG5ldyBGbG9hdChleHRWYWwpLCB0cnVlKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzdG9yZURvdWJsZShpbnQgZmllbGQsIGRvdWJsZSBl\neHRWYWwpIHsKICAgICAgICBzZXRWYWx1ZShmaWVsZCwgbmV3IERvdWJsZShl\neHRWYWwpLCB0cnVlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZVN0\ncmluZyhpbnQgZmllbGQsIFN0cmluZyBleHRWYWwpIHsKICAgICAgICBzZXRW\nYWx1ZShmaWVsZCwgZXh0VmFsLCBleHRWYWwgIT0gbnVsbCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVPYmplY3QoaW50IGZpZWxkLCBPYmplY3Qg\nZXh0VmFsKSB7CiAgICAgICAgc2V0VmFsdWUoZmllbGQsIGV4dFZhbCwgZXh0\nVmFsICE9IG51bGwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlKGlu\ndCBmaWVsZCwgT2JqZWN0IGV4dFZhbCkgewogICAgICAgIGJvb2xlYW4gZm9y\nY2VJbnN0ID0gdHJ1ZTsKICAgICAgICBpZiAoZXh0VmFsID09IG51bGwpIHsK\nICAgICAgICAgICAgZXh0VmFsID0gZ2V0RGVmYXVsdFZhbHVlKGZpZWxkKTsK\nICAgICAgICAgICAgZm9yY2VJbnN0ID0gZmFsc2U7CiAgICAgICAgfQogICAg\nICAgIHNldFZhbHVlKGZpZWxkLCBleHRWYWwsIGZvcmNlSW5zdCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc3RvcmVCb29sZWFuRmllbGQoaW50IGZpZWxk\nLCBib29sZWFuIGV4dFZhbCkgewogICAgICAgIHN0b3JlQm9vbGVhbihmaWVs\nZCwgZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUJ5dGVG\naWVsZChpbnQgZmllbGQsIGJ5dGUgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVC\neXRlKGZpZWxkLCBleHRWYWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0\nb3JlQ2hhckZpZWxkKGludCBmaWVsZCwgY2hhciBleHRWYWwpIHsKICAgICAg\nICBzdG9yZUNoYXIoZmllbGQsIGV4dFZhbCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc3RvcmVJbnRGaWVsZChpbnQgZmllbGQsIGludCBleHRWYWwpIHsK\nICAgICAgICBzdG9yZUludChmaWVsZCwgZXh0VmFsKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzdG9yZVNob3J0RmllbGQoaW50IGZpZWxkLCBzaG9ydCBl\neHRWYWwpIHsKICAgICAgICBzdG9yZVNob3J0KGZpZWxkLCBleHRWYWwpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlTG9uZ0ZpZWxkKGludCBmaWVs\nZCwgbG9uZyBleHRWYWwpIHsKICAgICAgICBzdG9yZUxvbmcoZmllbGQsIGV4\ndFZhbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVGbG9hdEZpZWxk\nKGludCBmaWVsZCwgZmxvYXQgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVGbG9h\ndChmaWVsZCwgZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9y\nZURvdWJsZUZpZWxkKGludCBmaWVsZCwgZG91YmxlIGV4dFZhbCkgewogICAg\nICAgIHN0b3JlRG91YmxlKGZpZWxkLCBleHRWYWwpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHN0b3JlU3RyaW5nRmllbGQoaW50IGZpZWxkLCBTdHJpbmcg\nZXh0VmFsKSB7CiAgICAgICAgc3RvcmVTdHJpbmcoZmllbGQsIGV4dFZhbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVPYmplY3RGaWVsZChpbnQg\nZmllbGQsIE9iamVjdCBleHRWYWwpIHsKICAgICAgICBzdG9yZU9iamVjdChm\naWVsZCwgZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUZp\nZWxkKGludCBmaWVsZCwgT2JqZWN0IHZhbHVlKSB7CiAgICAgICAgc3RvcmUo\nZmllbGQsIHZhbHVlKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBmZXRj\naEJvb2xlYW4oaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuICgoQm9vbGVh\nbikgZ2V0VmFsdWUoZmllbGQpKS5ib29sZWFuVmFsdWUoKTsKICAgIH0KCiAg\nICBwdWJsaWMgYnl0ZSBmZXRjaEJ5dGUoaW50IGZpZWxkKSB7CiAgICAgICAg\ncmV0dXJuICgoTnVtYmVyKSBnZXRWYWx1ZShmaWVsZCkpLmJ5dGVWYWx1ZSgp\nOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIGZldGNoQ2hhcihpbnQgZmllbGQp\nIHsKICAgICAgICByZXR1cm4gKChDaGFyYWN0ZXIpIGdldFZhbHVlKGZpZWxk\nKSkuY2hhclZhbHVlKCk7CiAgICB9CgogICAgcHVibGljIHNob3J0IGZldGNo\nU2hvcnQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuICgoTnVtYmVyKSBn\nZXRWYWx1ZShmaWVsZCkpLnNob3J0VmFsdWUoKTsKICAgIH0KCiAgICBwdWJs\naWMgaW50IGZldGNoSW50KGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAo\nKE51bWJlcikgZ2V0VmFsdWUoZmllbGQpKS5pbnRWYWx1ZSgpOwogICAgfQoK\nICAgIHB1YmxpYyBsb25nIGZldGNoTG9uZyhpbnQgZmllbGQpIHsKICAgICAg\nICByZXR1cm4gKChOdW1iZXIpIGdldFZhbHVlKGZpZWxkKSkubG9uZ1ZhbHVl\nKCk7CiAgICB9CgogICAgcHVibGljIGZsb2F0IGZldGNoRmxvYXQoaW50IGZp\nZWxkKSB7CiAgICAgICAgcmV0dXJuICgoTnVtYmVyKSBnZXRWYWx1ZShmaWVs\nZCkpLmZsb2F0VmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgZG91YmxlIGZl\ndGNoRG91YmxlKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAoKE51bWJl\ncikgZ2V0VmFsdWUoZmllbGQpKS5kb3VibGVWYWx1ZSgpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZmV0Y2hTdHJpbmcoaW50IGZpZWxkKSB7CiAgICAg\nICAgcmV0dXJuIChTdHJpbmcpIGdldFZhbHVlKGZpZWxkKTsKICAgIH0KCiAg\nICBwdWJsaWMgT2JqZWN0IGZldGNoT2JqZWN0KGludCBmaWVsZCkgewogICAg\nICAgIHJldHVybiBnZXRWYWx1ZShmaWVsZCk7CiAgICB9CgogICAgcHVibGlj\nIE9iamVjdCBmZXRjaChpbnQgZmllbGQpIHsKICAgICAgICBPYmplY3QgcmV0\nID0gZ2V0VmFsdWUoZmllbGQpOwogICAgICAgIGlmIChyZXQgPT0gbnVsbCkK\nICAgICAgICAgICAgcmV0ID0gZ2V0RGVmYXVsdFZhbHVlKGZpZWxkKTsKICAg\nICAgICByZXR1cm4gcmV0OwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGZl\ndGNoQm9vbGVhbkZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBm\nZXRjaEJvb2xlYW4oZmllbGQpOwogICAgfQoKICAgIHB1YmxpYyBieXRlIGZl\ndGNoQnl0ZUZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBmZXRj\naEJ5dGUoZmllbGQpOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIGZldGNoQ2hh\nckZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBmZXRjaENoYXIo\nZmllbGQpOwogICAgfQoKICAgIHB1YmxpYyBzaG9ydCBmZXRjaFNob3J0Rmll\nbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoU2hvcnQoZmll\nbGQpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZmV0Y2hJbnRGaWVsZChpbnQg\nZmllbGQpIHsKICAgICAgICByZXR1cm4gZmV0Y2hJbnQoZmllbGQpOwogICAg\nfQoKICAgIHB1YmxpYyBsb25nIGZldGNoTG9uZ0ZpZWxkKGludCBmaWVsZCkg\newogICAgICAgIHJldHVybiBmZXRjaExvbmcoZmllbGQpOwogICAgfQoKICAg\nIHB1YmxpYyBmbG9hdCBmZXRjaEZsb2F0RmllbGQoaW50IGZpZWxkKSB7CiAg\nICAgICAgcmV0dXJuIGZldGNoRmxvYXQoZmllbGQpOwogICAgfQoKICAgIHB1\nYmxpYyBkb3VibGUgZmV0Y2hEb3VibGVGaWVsZChpbnQgZmllbGQpIHsKICAg\nICAgICByZXR1cm4gZmV0Y2hEb3VibGUoZmllbGQpOwogICAgfQoKICAgIHB1\nYmxpYyBTdHJpbmcgZmV0Y2hTdHJpbmdGaWVsZChpbnQgZmllbGQpIHsKICAg\nICAgICByZXR1cm4gZmV0Y2hTdHJpbmcoZmllbGQpOwogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3QgZmV0Y2hPYmplY3RGaWVsZChpbnQgZmllbGQpIHsKICAg\nICAgICByZXR1cm4gZmV0Y2goZmllbGQpOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgZmV0Y2hGaWVsZChpbnQgZmllbGQsIGJvb2xlYW4gdHJhbnNpdGlv\nbnMpIHsKICAgICAgICByZXR1cm4gZmV0Y2goZmllbGQpOwogICAgfQoKICAg\nIHB1YmxpYyBPYmplY3QgZmV0Y2hJbml0aWFsRmllbGQoaW50IGZpZWxkKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVtb3RlKGludCBm\naWVsZCwgT2JqZWN0IHZhbHVlKSB7CiAgICAgICAgc3RvcmUoZmllbGQsIHZh\nbHVlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBsb2NrKCkgewogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHVubG9jaygpIHsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmll\nbGQgYmFzZWQgb24gaXRzIHR5cGUuCiAgICAgKi8KICAgIHByaXZhdGUgT2Jq\nZWN0IGdldERlZmF1bHRWYWx1ZShpbnQgZmllbGQpIHsKICAgICAgICBGaWVs\nZE1ldGFEYXRhIGZtZCA9IGdldE1ldGFEYXRhKCkuZ2V0RmllbGQoZmllbGQp\nOwogICAgICAgIHN3aXRjaCAoZm1kLmdldERlY2xhcmVkVHlwZUNvZGUoKSkg\newogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFOOgogICAgICAg\nICAgICAgICAgcmV0dXJuIEJvb2xlYW4uRkFMU0U7CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkJZVEU6CiAgICAgICAgICAgICAgICByZXR1cm4gWkVS\nT19CWVRFOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DSEFSOgogICAg\nICAgICAgICAgICAgcmV0dXJuIFpFUk9fQ0hBUjsKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuRE9VQkxFOgogICAgICAgICAgICAgICAgcmV0dXJuIFpF\nUk9fRE9VQkxFOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5GTE9BVDoK\nICAgICAgICAgICAgICAgIHJldHVybiBaRVJPX0ZMT0FUOwogICAgICAgICAg\nICBjYXNlIEphdmFUeXBlcy5JTlQ6CiAgICAgICAgICAgICAgICByZXR1cm4g\nTnVtYmVycy52YWx1ZU9mKDApOwogICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5MT05HOgogICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcnMudmFsdWVP\nZigwTCk7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAg\nICAgICAgICAgICAgcmV0dXJuIFpFUk9fU0hPUlQ7CiAgICAgICAgICAgIGRl\nZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRo\nZSBnaXZlbiBmaWVsZCB1c2luZyByZWZsZWN0aW9uLgogICAgICogUmVsaWVz\nIG9uIHRoZSBmYWN0IHRoYXQgYWxsIG9pZCBmaWVsZHMvcHJvcGVydGllcyBh\ncmUgbWFkZSBwdWJsaWMKICAgICAqIGR1cmluZyBlbmhhbmNlbWVudC4KICAg\nICAqLwogICAgcHJpdmF0ZSBPYmplY3QgZ2V0VmFsdWUoaW50IGZpZWxkKSB7\nCiAgICAgICAgaWYgKF9vaWQgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJu\nIG51bGw7CgogICAgICAgIEZpZWxkTWV0YURhdGEgZm1kID0gZ2V0TWV0YURh\ndGEoKS5nZXRGaWVsZChmaWVsZCk7CiAgICAgICAgaWYgKGZtZC5nZXRCYWNr\naW5nTWVtYmVyKCkgaW5zdGFuY2VvZiBGaWVsZCkKICAgICAgICAgICAgcmV0\ndXJuIFJlZmxlY3Rpb24uZ2V0KF9vaWQsIChGaWVsZCkgZm1kLmdldEJhY2tp\nbmdNZW1iZXIoKSk7CiAgICAgICAgaWYgKGZtZC5nZXRCYWNraW5nTWVtYmVy\nKCkgaW5zdGFuY2VvZiBNZXRob2QpCiAgICAgICAgICAgIHJldHVybiBSZWZs\nZWN0aW9uLmdldChfb2lkLCAoTWV0aG9kKSBmbWQuZ2V0QmFja2luZ01lbWJl\ncigpKTsKCiAgICAgICAgaWYgKGZtZC5nZXREZWZpbmluZ01ldGFEYXRhKCku\nZ2V0QWNjZXNzVHlwZSgpCiAgICAgICAgICAgID09IENsYXNzTWV0YURhdGEu\nQUNDRVNTX0ZJRUxEKQogICAgICAgICAgICByZXR1cm4gUmVmbGVjdGlvbi5n\nZXQoX29pZCwgUmVmbGVjdGlvbi5maW5kRmllbGQoX29pZC5nZXRDbGFzcygp\nLCAKICAgICAgICAgICAgICAgIGZtZC5nZXROYW1lKCksIHRydWUpKTsKICAg\nICAgICByZXR1cm4gUmVmbGVjdGlvbi5nZXQoX29pZCwgUmVmbGVjdGlvbi5m\naW5kR2V0dGVyKF9vaWQuZ2V0Q2xhc3MoKSwKICAgICAgICAgICAgZm1kLmdl\ndE5hbWUoKSwgdHJ1ZSkpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRo\nZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgdXNpbmcgcmVmbGVjdGlvbi4K\nICAgICAqIFJlbGllcyBvbiB0aGUgZmFjdCB0aGF0IGFsbCBvaWQgZmllbGRz\nL3Byb3BlcnRpZXMgYXJlIG1hZGUgcHVibGljCiAgICAgKiBkdXJpbmcgZW5o\nYW5jZW1lbnQuCiAgICAgKi8KICAgIHByaXZhdGUgdm9pZCBzZXRWYWx1ZShp\nbnQgZmllbGQsIE9iamVjdCB2YWwsIGJvb2xlYW4gZm9yY2VJbnN0KSB7CiAg\nICAgICAgaWYgKF9vaWQgPT0gbnVsbCAmJiBmb3JjZUluc3QpIHsKICAgICAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIF9vaWQgPSBnZXRNZXRhRGF0\nYSgpLmdldERlc2NyaWJlZFR5cGUoKS5uZXdJbnN0YW5jZSgpOwogICAgICAg\nICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAg\ndGhyb3cgbmV3IEdlbmVyYWxFeGNlcHRpb24oZSk7CiAgICAgICAgICAgIH0K\nICAgICAgICB9IGVsc2UgaWYgKF9vaWQgPT0gbnVsbCkKICAgICAgICAgICAg\ncmV0dXJuOwoKICAgICAgICBGaWVsZE1ldGFEYXRhIGZtZCA9IGdldE1ldGFE\nYXRhKCkuZ2V0RmllbGQoZmllbGQpOwogICAgICAgIGlmIChmbWQuZ2V0QmFj\na2luZ01lbWJlcigpIGluc3RhbmNlb2YgRmllbGQpCiAgICAgICAgICAgIFJl\nZmxlY3Rpb24uc2V0KF9vaWQsIChGaWVsZCkgZm1kLmdldEJhY2tpbmdNZW1i\nZXIoKSwgdmFsKTsKICAgICAgICBlbHNlIGlmIChmbWQuZ2V0RGVmaW5pbmdN\nZXRhRGF0YSgpLmdldEFjY2Vzc1R5cGUoKQogICAgICAgICAgICA9PSBDbGFz\nc01ldGFEYXRhLkFDQ0VTU19GSUVMRCkgewogICAgICAgICAgICBSZWZsZWN0\naW9uLnNldChfb2lkLCBSZWZsZWN0aW9uLmZpbmRGaWVsZChfb2lkLmdldENs\nYXNzKCksIAogICAgICAgICAgICAgICAgZm1kLmdldE5hbWUoKSwgdHJ1ZSks\nIHZhbCk7CiAgICAgICAgfSBlbHNlCiAgICAgICAgICAgIFJlZmxlY3Rpb24u\nc2V0KF9vaWQsIFJlZmxlY3Rpb24uZmluZFNldHRlcihfb2lkLmdldENsYXNz\nKCksCiAgICAgICAgICAgICAgICBmbWQuZ2V0TmFtZSgpLCBmbWQuZ2V0RGVj\nbGFyZWRUeXBlKCksIHRydWUpLCB2YWwpOwoJfQp9Cg==\n","encoding":"base64"}

