{"sha":"ae270294610b2500a27b1627d3a4feb74de7fe75","node_id":"MDQ6QmxvYjIwNjM2NDphZTI3MDI5NDYxMGIyNTAwYTI3YjE2MjdkM2E0ZmViNzRkZTdmZTc1","size":6948,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ae270294610b2500a27b1627d3a4feb74de7fe75","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0\nIGphdmEudXRpbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7\nCgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlF1ZXJ5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5tZXRhLlNvdXJjZVRyYWNrZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnhtbC5Db21tZW50YWJs\nZTsKCi8qKgogKiBIb2xkcyBtZXRhZGF0YSBhYm91dCBuYW1lZCBxdWVyaWVz\nLgogKiAgSW5mb3JtYXRpb24gc3RvcmVkIGluIHRoaXMgaW5zdGFuY2UgZ2V0\ncyB0cmFuc2ZlcmVkIHRvCiAqIG5ldyB7QGxpbmsgUXVlcnl9IGluc3RhbmNl\ncy4KICoKICogQGF1dGhvciBTdGV2ZSBLaW0KICovCnB1YmxpYyBjbGFzcyBR\ndWVyeU1ldGFEYXRhCiAgICBpbXBsZW1lbnRzIE1ldGFEYXRhTW9kZXMsIFNv\ndXJjZVRyYWNrZXIsIENvbW1lbnRhYmxlLCBTZXJpYWxpemFibGUgewoKICAg\nIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZ1tdIEVNUFRZX0tFWVMgPSBu\nZXcgU3RyaW5nWzBdOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgT2JqZWN0\nW10gRU1QVFlfVkFMUyA9IG5ldyBPYmplY3RbMF07CgogICAgcHJpdmF0ZSBm\naW5hbCBTdHJpbmcgX25hbWU7CiAgICBwcml2YXRlIEJvb2xlYW4gX3JlYWRP\nbmx5OwogICAgcHJpdmF0ZSBGaWxlIF9maWxlOwogICAgcHJpdmF0ZSBPYmpl\nY3QgX3Njb3BlOwogICAgcHJpdmF0ZSBpbnQgX3NyY1R5cGU7CiAgICBwcml2\nYXRlIGludCBfbW9kZSA9IE1PREVfUVVFUlk7CiAgICBwcml2YXRlIFN0cmlu\nZyBfbGFuZ3VhZ2U7CiAgICBwcml2YXRlIENsYXNzIF9jbGFzczsKICAgIHBy\naXZhdGUgQ2xhc3MgX2NhbmRpZGF0ZTsKICAgIHByaXZhdGUgQ2xhc3MgX3Jl\nczsKICAgIHByaXZhdGUgU3RyaW5nIF9xdWVyeTsKICAgIHByaXZhdGUgU3Ry\naW5nW10gX2NvbW1lbnRzOwogICAgcHJpdmF0ZSBMaXN0IF9oaW50S2V5czsK\nICAgIHByaXZhdGUgTGlzdCBfaGludFZhbHM7CiAgICBwcml2YXRlIFN0cmlu\nZyBfcmVzdWx0U2V0TWFwcGluZ05hbWU7CiAgICAvKioKICAgICAqIENvbnN0\ncnVjdCB3aXRoIHRoZSBnaXZlbiBuYW1lLgogICAgICovCiAgICBwcm90ZWN0\nZWQgUXVlcnlNZXRhRGF0YShTdHJpbmcgbmFtZSkgewogICAgICAgIF9uYW1l\nID0gbmFtZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgbmFt\nZSBmb3IgdGhpcyBxdWVyeS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBn\nZXROYW1lKCkgewogICAgICAgIHJldHVybiBfbmFtZTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFRoZSBjbGFzcyB0aGF0IGRlZmluZXMgdGhpcyBxdWVyeSwg\nb3IgbnVsbCBpZiBub25lLgogICAgICovCiAgICBwdWJsaWMgQ2xhc3MgZ2V0\nRGVmaW5pbmdUeXBlKCkgewogICAgICAgIHJldHVybiBfY2xhc3M7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBUaGUgY2xhc3MgdGhhdCBkZWZpbmVzIHRoaXMg\ncXVlcnksIG9yIG51bGwgaWYgbm9uZS4KICAgICAqLwogICAgcHVibGljIHZv\naWQgc2V0RGVmaW5pbmdUeXBlKENsYXNzIGNscykgewogICAgICAgIF9jbGFz\ncyA9IGNsczsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhlIHF1\nZXJ5IGhhcyBiZWVuIG1hcmtlZCByZWFkLW9ubHkuCiAgICAgKi8KICAgIHB1\nYmxpYyBib29sZWFuIGlzUmVhZE9ubHkoKSB7CiAgICAgICAgcmV0dXJuIF9y\nZWFkT25seSAhPSBudWxsICYmIF9yZWFkT25seS5ib29sZWFuVmFsdWUoKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhlIHF1ZXJ5IGhhcyBi\nZWVuIG1hcmtlZCByZWFkLW9ubHkuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldFJlYWRPbmx5KGJvb2xlYW4gcmVhZE9ubHkpIHsKICAgICAgICBfcmVh\nZE9ubHkgPSAocmVhZE9ubHkpID8gQm9vbGVhbi5UUlVFIDogQm9vbGVhbi5G\nQUxTRTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBxdWVyeSBjYW5kaWRh\ndGUgY2xhc3MsIG9yIG51bGwgaWYgbm9uZS4KICAgICAqLwogICAgcHVibGlj\nIENsYXNzIGdldENhbmRpZGF0ZVR5cGUoKSB7CiAgICAgICAgcmV0dXJuIF9j\nYW5kaWRhdGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgcXVlcnkgcmVz\ndWx0IGNsYXNzLCBvciBudWxsIGlmIG5vbmUuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldENhbmRpZGF0ZVR5cGUoQ2xhc3MgY2xzKSB7CiAgICAgICAg\nX2NhbmRpZGF0ZSA9IGNsczsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBx\ndWVyeSByZXN1bHQgY2xhc3MsIG9yIG51bGwgaWYgbm9uZS4KICAgICAqLwog\nICAgcHVibGljIENsYXNzIGdldFJlc3VsdFR5cGUoKSB7CiAgICAgICAgcmV0\ndXJuIF9yZXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgcXVlcnkgcmVz\ndWx0IGNsYXNzLCBvciBudWxsIGlmIG5vbmUuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldFJlc3VsdFR5cGUoQ2xhc3MgY2xzKSB7CiAgICAgICAgX3Jl\ncyA9IGNsczsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgcXVl\ncnkgbGFuZ3VhZ2UuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0TGFu\nZ3VhZ2UoKSB7CiAgICAgICAgcmV0dXJuIF9sYW5ndWFnZTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFNldCB0aGUgbGFuZ3VhZ2UgZm9yIHRoaXMgcXVlcnku\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldExhbmd1YWdlKFN0cmluZyBs\nYW5ndWFnZSkgewogICAgICAgIF9sYW5ndWFnZSA9IGxhbmd1YWdlOwogICAg\nfQoKICAgIC8qKgogICAgICogVGhlIGZ1bGwgcXVlcnkgc3RyaW5nLCBvciBu\ndWxsIGlmIG5vbmUuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0UXVl\ncnlTdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9xdWVyeTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFRoZSBmdWxsIHF1ZXJ5IHN0cmluZywgb3IgbnVsbCBp\nZiBub25lLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRRdWVyeVN0cmlu\nZyhTdHJpbmcgcXVlcnkpIHsKICAgICAgICBfcXVlcnkgPSBxdWVyeTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFF1ZXJ5IGhpbnRzLgogICAgICovCiAgICBw\ndWJsaWMgU3RyaW5nW10gZ2V0SGludEtleXMoKSB7CiAgICAgICAgcmV0dXJu\nIChfaGludEtleXMgPT0gbnVsbCkgPyBFTVBUWV9LRVlTCiAgICAgICAgICAg\nIDogKFN0cmluZ1tdKSBfaGludEtleXMudG9BcnJheShuZXcgU3RyaW5nW19o\naW50S2V5cy5zaXplKCldKTsKICAgIH0KCiAgICAvKioKICAgICAqIFF1ZXJ5\nIGhpbnRzLgogICAgICovCiAgICBwdWJsaWMgT2JqZWN0W10gZ2V0SGludFZh\nbHVlcygpIHsKICAgICAgICByZXR1cm4gKF9oaW50VmFscyA9PSBudWxsKSA/\nIEVNUFRZX1ZBTFMgOiBfaGludFZhbHMudG9BcnJheSgpOwogICAgfQoKICAg\nIC8qKgogICAgICogQWRkIGEgcXVlcnkgaGludC4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgYWRkSGludChTdHJpbmcga2V5LCBPYmplY3QgdmFsdWUpIHsK\nICAgICAgICBpZiAoX2hpbnRLZXlzID09IG51bGwpIHsKICAgICAgICAgICAg\nX2hpbnRLZXlzID0gbmV3IExpbmtlZExpc3QoKTsKICAgICAgICAgICAgX2hp\nbnRWYWxzID0gbmV3IExpbmtlZExpc3QoKTsKICAgICAgICB9CiAgICAgICAg\nX2hpbnRLZXlzLmFkZChrZXkpOwogICAgICAgIF9oaW50VmFscy5hZGQodmFs\ndWUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVzdWx0U2V0TWFw\ncGluZ05hbWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZXN1bHRTZXRNYXBwaW5n\nTmFtZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSZXN1bHRTZXRNYXBw\naW5nTmFtZShTdHJpbmcgc2V0TWFwcGluZ05hbWUpIHsKICAgICAgICBfcmVz\ndWx0U2V0TWFwcGluZ05hbWUgPSBzZXRNYXBwaW5nTmFtZTsKICAgIH0KICAg\nIAogICAgLyoqCiAgICAgKiBTZXQgcXVlcnkgdGVtcGxhdGUgaW5mb3JtYXRp\nb24gaW50byB0aGUgZ2l2ZW4gY29uY3JldGUKICAgICAqIHF1ZXJ5IGluc3Rh\nbmNlLiBIb3dldmVyLCB0aGUgbGFuZ3VhZ2UsIHF1ZXJ5IHN0cmluZywgYW5k\nCiAgICAgKiBjYW5kaWRhdGUgY2xhc3MgYXJlIGFzc3VtZWQgdG8gYmUgZGVj\nbGFyZWQgaW4gdGhlIHF1ZXJ5CiAgICAgKiBpbnN0YW50aWF0aW9uLCBhbmQg\naGludHMgYXJlIG5vdCB0cmFuc2ZlcnJlZC4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgc2V0SW50byhRdWVyeSBxdWVyeSkgewogICAgICAgIGlmIChfY2Fu\nZGlkYXRlICE9IG51bGwpCiAgICAgICAgICAgIHF1ZXJ5LnNldENhbmRpZGF0\nZVR5cGUoX2NhbmRpZGF0ZSwgdHJ1ZSk7CiAgICAgICAgaWYgKCFTdHJpbmdV\ndGlscy5pc0VtcHR5KF9xdWVyeSkpCiAgICAgICAgICAgIHF1ZXJ5LnNldFF1\nZXJ5KF9xdWVyeSk7CiAgICAgICAgaWYgKF9yZXMgIT0gbnVsbCkKICAgICAg\nICAgICAgcXVlcnkuc2V0UmVzdWx0VHlwZShfcmVzKTsKICAgICAgICBpZiAo\nX3JlYWRPbmx5ICE9IG51bGwpCiAgICAgICAgICAgIHF1ZXJ5LnNldFJlYWRP\nbmx5KF9yZWFkT25seS5ib29sZWFuVmFsdWUoKSk7CiAgICAgICAgaWYgKF9y\nZXN1bHRTZXRNYXBwaW5nTmFtZSAhPSBudWxsKQogICAgICAgICAgICBxdWVy\neS5zZXRSZXN1bHRNYXBwaW5nKG51bGwsIF9yZXN1bHRTZXRNYXBwaW5nTmFt\nZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbml0aWFsaXplIHRoaXMgaW5z\ndGFuY2UgZnJvbSB0aGUgdmFsdWVzIGhlbGQgaW4gdGhlCiAgICAgKiBzcGVj\naWZpZWQge0BsaW5rIFF1ZXJ5fS4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0RnJvbShRdWVyeSBxdWVyeSkgewogICAgICAgIF9sYW5ndWFnZSA9IHF1\nZXJ5LmdldExhbmd1YWdlKCk7CiAgICAgICAgX2NhbmRpZGF0ZSA9IHF1ZXJ5\nLmdldENhbmRpZGF0ZVR5cGUoKTsKICAgICAgICBfcmVzID0gcXVlcnkuZ2V0\nUmVzdWx0VHlwZSgpOwogICAgICAgIF9xdWVyeSA9IHF1ZXJ5LmdldFF1ZXJ5\nU3RyaW5nKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgc291cmNlIG1v\nZGUgb2YgdGhpcyBxdWVyeS4KICAgICAqLwogICAgcHVibGljIGludCBnZXRT\nb3VyY2VNb2RlKCkgewogICAgICAgIHJldHVybiBfbW9kZTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFRoZSBzb3VyY2UgbW9kZSBvZiB0aGlzIHF1ZXJ5Lgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRTb3VyY2VNb2RlKGludCBtb2Rl\nKSB7CiAgICAgICAgX21vZGUgPSBtb2RlOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9uYW1lOwogICAg\nfQoKICAgIC8vLy8vLy8vLy8vLy8vLwogICAgLy8gQ29tbWVudGFibGUKICAg\nIC8vLy8vLy8vLy8vLy8vLwoKICAgIHB1YmxpYyBTdHJpbmdbXSBnZXRDb21t\nZW50cygpIHsKICAgICAgICByZXR1cm4gKF9jb21tZW50cyA9PSBudWxsKSA/\nIEVNUFRZX0NPTU1FTlRTIDogX2NvbW1lbnRzOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldENvbW1lbnRzKFN0cmluZ1tdIGNvbW1lbnRzKSB7CiAgICAg\nICAgX2NvbW1lbnRzID0gY29tbWVudHM7CiAgICB9CgogICAgLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIFNvdXJjZVRyYWNrZXIg\naW1wbGVtZW50YXRpb24KICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vCgogICAgcHVibGljIEZpbGUgZ2V0U291cmNlRmlsZSgpIHsKICAg\nICAgICByZXR1cm4gX2ZpbGU7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBn\nZXRTb3VyY2VTY29wZSgpIHsKICAgICAgICByZXR1cm4gX3Njb3BlOwogICAg\nfQoKICAgIHB1YmxpYyBpbnQgZ2V0U291cmNlVHlwZSgpIHsKICAgICAgICBy\nZXR1cm4gX3NyY1R5cGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U291\ncmNlKEZpbGUgZmlsZSwgT2JqZWN0IHNjb3BlLCBpbnQgc3JjVHlwZSkgewog\nICAgICAgIF9maWxlID0gZmlsZTsKICAgICAgICBfc2NvcGUgPSBzY29wZTsK\nICAgICAgICBfc3JjVHlwZSA9IHNyY1R5cGU7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRSZXNvdXJjZU5hbWUoKSB7CiAgICAgICAgcmV0dXJuIChf\nY2xhc3MgPT0gbnVsbCkgPyBfbmFtZSA6IF9jbGFzcy5nZXROYW1lICgpICsg\nIjoiICsgX25hbWU7Cgl9Cn0K\n","encoding":"base64"}

