{"sha":"8c391d9d30e7d265623a86d223518d9a29466171","node_id":"MDQ6QmxvYjIwNjM2NDo4YzM5MWQ5ZDMwZTdkMjY1NjIzYTg2ZDIyMzUxOGQ5YTI5NDY2MTcx","size":3474,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8c391d9d30e7d265623a86d223518d9a29466171","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmY7CgppbXBvcnQg\namF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7\nCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5M\naXN0OwppbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBqdW5pdC5mcmFt\nZXdvcmsuVGVzdENhc2U7CgoKcHVibGljIGNsYXNzIFRlc3RDb25maWd1cmF0\naW9uUHJvdmlkZXJQcmVmaXhlcwogICAgZXh0ZW5kcyBUZXN0Q2FzZSB7CiAg\nICAKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBDVVNUT01fUFJF\nRklYID0gCiAgICAgICAgVGVzdENvbmZpZ3VyYXRpb25Qcm92aWRlclByZWZp\neGVzLmNsYXNzLmdldE5hbWUoKTsKCiAgICBwcml2YXRlIFN0cmluZ1tdIF9v\ncmlnUHJlZml4ZXM7CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAg\nICAgX29yaWdQcmVmaXhlcyA9IFByb2R1Y3REZXJpdmF0aW9ucy5nZXRDb25m\naWd1cmF0aW9uUHJlZml4ZXMoKTsKICAgICAgICBMaXN0IGwgPSBuZXcgQXJy\nYXlMaXN0KEFycmF5cy5hc0xpc3QoX29yaWdQcmVmaXhlcykpOwogICAgICAg\nIGwuYWRkKENVU1RPTV9QUkVGSVgpOwogICAgICAgIFByb2R1Y3REZXJpdmF0\naW9ucy5zZXRDb25maWd1cmF0aW9uUHJlZml4ZXMoCiAgICAgICAgICAgIChT\ndHJpbmdbXSkgbC50b0FycmF5KG5ldyBTdHJpbmdbMF0pKTsKICAgIH0KICAg\nIAogICAgcHVibGljIHZvaWQgdGVhckRvd24oKSB7CiAgICAgICAgUHJvZHVj\ndERlcml2YXRpb25zLnNldENvbmZpZ3VyYXRpb25QcmVmaXhlcyhfb3JpZ1By\nZWZpeGVzKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdFByZWZp\neENvbnRlbnRzKCkgeyAKICAgICAgICBTdHJpbmdbXSBwcmVmaXhlcyA9IFBy\nb2R1Y3REZXJpdmF0aW9ucy5nZXRDb25maWd1cmF0aW9uUHJlZml4ZXMoKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoQ1VTVE9NX1BSRUZJWCwgcHJlZml4ZXNb\ncHJlZml4ZXMubGVuZ3RoIC0gMV0pOwogICAgICAgIGFzc2VydEVxdWFscygi\nb3BlbmpwYSIsIHByZWZpeGVzWzBdKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdFBhcnRpYWxLZXlBbmROdWxsTWFwKCkgewogICAgICAgIGFz\nc2VydEVxdWFscygib3BlbmpwYS5Gb28iLCAiRm9vIiwgKE1hcCkgbnVsbCwg\nbnVsbCk7CiAgICB9CiAgICAgICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0UGFy\ndGlhbEtleVdpdGhJbnZhbGlkUHJlZml4KCkgewogICAgICAgIE1hcCBtYXAg\nPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIG1hcC5wdXQoImJhci5Gb28iLCAi\ndmFsdWUiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm9wZW5qcGEuRm9vIiwg\nIkZvbyIsIG1hcCwgbnVsbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndFBhcnRpYWxLZXlXaXRob3V0TWF0Y2goKSB7CiAgICAgICAgTWFwIG1hcCA9\nIG5ldyBIYXNoTWFwKCk7CiAgICAgICAgbWFwLnB1dCgiYmFyLkJheiIsICJ2\nYWx1ZSIpOwogICAgICAgIGFzc2VydEVxdWFscygib3BlbmpwYS5Gb28iLCAi\nRm9vIiwgbWFwLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nUGFydGlhbEtleVdpdGhPcGVuSlBBTWF0Y2goKSB7CiAgICAgICAgTWFwIG1h\ncCA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgbWFwLnB1dCgib3BlbmpwYS5G\nb28iLCAidmFsdWUiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm9wZW5qcGEu\nRm9vIiwgIkZvbyIsIG1hcCwgInZhbHVlIik7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdFBhcnRpYWxLZXlXaXRoQ3VzdG9tTWF0Y2goKSB7CiAgICAg\nICAgTWFwIG1hcCA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgbWFwLnB1dChD\nVVNUT01fUFJFRklYICsgIi5Gb28iLCAidmFsdWUiKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoQ1VTVE9NX1BSRUZJWCArICIuRm9vIiwgIkZvbyIsIG1hcCwg\nInZhbHVlIik7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RQYXJ0\naWFsS2V5RHVwbGljYXRlRnVsbEtleXMoKSB7CiAgICAgICAgTWFwIG1hcCA9\nIG5ldyBIYXNoTWFwKCk7CiAgICAgICAgbWFwLnB1dChDVVNUT01fUFJFRklY\nICsgIi5Gb28iLCAidmFsdWUiKTsKICAgICAgICBtYXAucHV0KCJvcGVuanBh\nLkZvbyIsICJ2YWx1ZSIpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIFBy\nb2R1Y3REZXJpdmF0aW9ucy5nZXRDb25maWd1cmF0aW9uS2V5KCJGb28iLCBt\nYXApOwogICAgICAgICAgICBmYWlsKCJkdXBsaWNhdGUga2V5cyBzaG91bGQg\ncmVzdWx0IGluIGFuIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiIpOwogICAgICAg\nIH0gY2F0Y2ggKElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiBlKSB7CiAgICAgICAg\nICAgIC8vIGV4cGVjdGVkCiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUg\nc3RhdGljIHZvaWQgYXNzZXJ0RXF1YWxzKFN0cmluZyBmdWxsS2V5LCBTdHJp\nbmcgcGFydGlhbEtleSwgCiAgICAgICAgTWFwIG1hcCwgT2JqZWN0IHZhbHVl\nKSB7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGZ1bGxLZXksIFByb2R1Y3REZXJp\ndmF0aW9ucy5nZXRDb25maWd1cmF0aW9uS2V5KAogICAgICAgICAgICBwYXJ0\naWFsS2V5LCBtYXApKTsKICAgICAgICBpZiAobWFwICE9IG51bGwpCiAgICAg\nICAgICAgIGFzc2VydEVxdWFscyh2YWx1ZSwgbWFwLmdldChmdWxsS2V5KSk7\nCiAgICB9Cn0K\n","encoding":"base64"}

