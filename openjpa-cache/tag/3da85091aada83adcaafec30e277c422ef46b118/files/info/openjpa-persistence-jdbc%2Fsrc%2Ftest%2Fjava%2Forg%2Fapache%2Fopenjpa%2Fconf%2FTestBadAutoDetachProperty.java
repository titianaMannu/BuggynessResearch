{"sha":"c5b506ae4774c0b943b06e52f536b442660144e9","node_id":"MDQ6QmxvYjIwNjM2NDpjNWI1MDZhZTQ3NzRjMGI5NDNiMDZlNTJmNTM2YjQ0MjY2MDE0NGU5","size":3612,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c5b506ae4774c0b943b06e52f536b442660144e9","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuKjsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS4qOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuUGVyc2lzdGVuY2VFeGNlcHRpb247CgppbXBv\ncnQganVuaXQuZnJhbWV3b3JrLio7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi51dGlsLlBhcnNlRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLio7CgpwdWJsaWMgY2xhc3MgVGVzdEJh\nZEF1dG9EZXRhY2hQcm9wZXJ0eSBleHRlbmRzIFRlc3RDYXNlIHsKICAgIHB1\nYmxpYyB2b2lkIHRlc3RFbXB0eVZhbHVlKCkgewogICAgICAgIEhhc2hNYXAg\ncHJvcHMgPSBuZXcgSGFzaE1hcChTeXN0ZW0uZ2V0UHJvcGVydGllcygpKTsK\nICAgICAgICBwcm9wcy5wdXQoIm9wZW5qcGEuQXV0b0RldGFjaCIsICIiKTsK\nICAgICAgICBFbnRpdHlNYW5hZ2VyRmFjdG9yeSBlbWYgPSAoT3BlbkpQQUVu\ndGl0eU1hbmFnZXJGYWN0b3J5KSBQZXJzaXN0ZW5jZQogICAgICAgICAgICAg\nICAgLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KCJ0ZXN0IiwgcHJvcHMp\nOwogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgZW1mLmNs\nb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdENvbW1hT25seVZh\nbHVlKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEhhc2hNYXAgcHJv\ncHMgPSBuZXcgSGFzaE1hcChTeXN0ZW0uZ2V0UHJvcGVydGllcygpKTsKICAg\nICAgICAgICAgcHJvcHMucHV0KCJvcGVuanBhLkF1dG9EZXRhY2giLCAiLCIp\nOwogICAgICAgICAgICBFbnRpdHlNYW5hZ2VyRmFjdG9yeSBlbWYgPSAoT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5KSBQZXJzaXN0ZW5jZQogICAgICAg\nICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeSgidGVz\ndCIsIHByb3BzKTsKICAgICAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVt\nZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgICAgIGVtLmNsb3Nl\nKCk7CiAgICAgICAgICAgIGVtZi5jbG9zZSgpOwogICAgICAgIH0gY2F0Y2gg\nKFBlcnNpc3RlbmNlRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgVGhyb3dh\nYmxlIGNhdXNlID0gZS5nZXRDYXVzZSgpOwogICAgICAgICAgICB3aGlsZSAo\nY2F1c2UgaW5zdGFuY2VvZiBQZXJzaXN0ZW5jZUV4Y2VwdGlvbikKICAgICAg\nICAgICAgICAgIGNhdXNlID0gKChQZXJzaXN0ZW5jZUV4Y2VwdGlvbikgY2F1\nc2UpLmdldENhdXNlKCk7CiAgICAgICAgICAgIGlmICghKGNhdXNlIGluc3Rh\nbmNlb2YgUGFyc2VFeGNlcHRpb24pKSB7CiAgICAgICAgICAgICAgICBmYWls\nKCJTaG91bGQgaGF2ZSBjYXVnaHQgUGVyc2lzdGVuY2VFeGNlcHRpb24gd2hv\nc2UgY2F1c2Ugd2FzICIKICAgICAgICAgICAgICAgICAgICAgICAgKyAiYSBQ\nYXJzZUV4Y2VwdGlvbi4gIiArICJJbnN0ZWFkIHRoZSBjYXVzZSB3YXM6ICIK\nICAgICAgICAgICAgICAgICAgICAgICAgKyBjYXVzZSk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIGUpIHsKICAg\nICAgICAgICAgZmFpbCgiU2hvdWxkIGhhdmUgY2F1Z2h0IGEgUGVyc2lzdGVu\nY2VFeGNlcHRpb24sIGluc3RlYWQgY2F1Z2h0OiAiCiAgICAgICAgICAgICAg\nICAgICAgKyBlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQg\ndGVzdEVtcHR5SXRlbVZhbHVlKCkgewogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIEhhc2hNYXAgcHJvcHMgPSBuZXcgSGFzaE1hcChTeXN0ZW0uZ2V0UHJv\ncGVydGllcygpKTsKICAgICAgICAgICAgcHJvcHMucHV0KCJvcGVuanBhLkF1\ndG9EZXRhY2giLCAiY2xvc2UsLGNvbW1pdCIpOwogICAgICAgICAgICBFbnRp\ndHlNYW5hZ2VyRmFjdG9yeSBlbWYgPSAoT3BlbkpQQUVudGl0eU1hbmFnZXJG\nYWN0b3J5KSBQZXJzaXN0ZW5jZQogICAgICAgICAgICAgICAgICAgIC5jcmVh\ndGVFbnRpdHlNYW5hZ2VyRmFjdG9yeSgidGVzdCIsIHByb3BzKTsKICAgICAg\nICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5h\nZ2VyKCk7CiAgICAgICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgICAgIGVt\nZi5jbG9zZSgpOwogICAgICAgIH0gY2F0Y2ggKFBlcnNpc3RlbmNlRXhjZXB0\naW9uIGUpIHsKICAgICAgICAgICAgVGhyb3dhYmxlIGNhdXNlID0gZS5nZXRD\nYXVzZSgpOwogICAgICAgICAgICB3aGlsZSAoY2F1c2UgaW5zdGFuY2VvZiBQ\nZXJzaXN0ZW5jZUV4Y2VwdGlvbikKICAgICAgICAgICAgICAgIGNhdXNlID0g\nKChQZXJzaXN0ZW5jZUV4Y2VwdGlvbikgY2F1c2UpLmdldENhdXNlKCk7CiAg\nICAgICAgICAgIGlmICghKGNhdXNlIGluc3RhbmNlb2YgUGFyc2VFeGNlcHRp\nb24pKSB7CiAgICAgICAgICAgICAgICBmYWlsKCJTaG91bGQgaGF2ZSBjYXVn\naHQgUGVyc2lzdGVuY2VFeGNlcHRpb24gd2hvc2UgY2F1c2Ugd2FzICIKICAg\nICAgICAgICAgICAgICAgICAgICAgKyAiYSBQYXJzZUV4Y2VwdGlvbi4gIiAr\nICJJbnN0ZWFkIHRoZSBjYXVzZSB3YXM6ICIKICAgICAgICAgICAgICAgICAg\nICAgICAgKyBjYXVzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNo\nIChSdW50aW1lRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgZmFpbCgiU2hv\ndWxkIGhhdmUgY2F1Z2h0IGEgUGVyc2lzdGVuY2VFeGNlcHRpb24sIGluc3Rl\nYWQgY2F1Z2h0OiAiCiAgICAgICAgICAgICAgICAgICAgKyBlKTsKICAgICAg\nICB9CiAgICB9Cn0K\n","encoding":"base64"}

