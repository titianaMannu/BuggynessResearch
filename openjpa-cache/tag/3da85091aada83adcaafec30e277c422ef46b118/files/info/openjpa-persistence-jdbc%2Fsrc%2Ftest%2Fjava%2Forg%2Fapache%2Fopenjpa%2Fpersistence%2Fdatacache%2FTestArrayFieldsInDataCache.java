{"sha":"31346f08a02342fb9f6371051a76b1401b773ee2","node_id":"MDQ6QmxvYjIwNjM2NDozMTM0NmYwOGEwMjM0MmZiOWY2MzcxMDUxYTc2YjE0MDFiNzczZWUy","size":4104,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/31346f08a02342fb9f6371051a76b1401b773ee2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwu\nQXJyYXlzOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdl\ncjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkRhdGFD\nYWNoZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuUENEYXRh\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0\nYTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVu\nSlBBUGVyc2lzdGVuY2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2Uuc2ltcGxlLkFsbEZpZWxkVHlwZXM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2Fz\nZTsKCnB1YmxpYyBjbGFzcyBUZXN0QXJyYXlGaWVsZHNJbkRhdGFDYWNoZQog\nICAgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7CgogICAgcHJpdmF0ZSBz\ndGF0aWMgZmluYWwgU3RyaW5nW10gU1RSSU5HUyA9IG5ldyBTdHJpbmdbXXsg\nImEiLCAiYiIsICJjIiB9OwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50\nW10gSU5UUyA9IG5ldyBpbnRbXXsgMSwgMiwgMyB9OwoKICAgIHByaXZhdGUg\nT2JqZWN0IGpwYU9pZDsKICAgIHByaXZhdGUgT2JqZWN0IGludGVybmFsT2lk\nOwoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIHNldFVwKCJv\ncGVuanBhLkRhdGFDYWNoZSIsICJ0cnVlIiwgCiAgICAgICAgICAgICJvcGVu\nanBhLlJlbW90ZUNvbW1pdFByb3ZpZGVyIiwgInNqdm0iLCAKICAgICAgICAg\nICAgQWxsRmllbGRUeXBlcy5jbGFzcyk7CgogICAgICAgIEVudGl0eU1hbmFn\nZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIGVt\nLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBBbGxGaWVsZFR5\ncGVzIGFmdCA9IG5ldyBBbGxGaWVsZFR5cGVzKCk7CiAgICAgICAgYWZ0LnNl\ndEFycmF5T2ZTdHJpbmdzKFNUUklOR1MpOwogICAgICAgIGFmdC5zZXRBcnJh\neU9mSW50cyhJTlRTKTsKICAgICAgICBlbS5wZXJzaXN0KGFmdCk7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy8g\nZ2V0IHRoZSBleHRlcm5hbCBhbmQgaW50ZXJuYWwgZm9ybXMgb2YgdGhlIElE\nIGZvciBjYWNoZQogICAgICAgIC8vIGludGVycm9nYXRpb24gYW5kIGRhdGEg\ndmFsaWRhdGlvbgogICAgICAgIGpwYU9pZCA9IE9wZW5KUEFQZXJzaXN0ZW5j\nZS5jYXN0KGVtKS5nZXRPYmplY3RJZChhZnQpOwogICAgICAgIGludGVybmFs\nT2lkID0gT3BlbkpQQVBlcnNpc3RlbmNlLnRvQnJva2VyKGVtKS5nZXRPYmpl\nY3RJZChhZnQpOwoKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHRlc3RBcnJheU9mU3RyaW5ncygpIHsKICAgICAgICAvLyBj\naGVjayB0aGF0IHRoZSBkYXRhIGNhY2hlIGNvbnRhaW5zIGFuIGVmZmljaWVu\ndCByZXByZXNlbnRhdGlvbgogICAgICAgIERhdGFDYWNoZSBjYWNoZSA9IE9w\nZW5KUEFQZXJzaXN0ZW5jZS5jYXN0KGVtZikuZ2V0U3RvcmVDYWNoZSgpCiAg\nICAgICAgICAgIC5nZXREZWxlZ2F0ZSgpOwogICAgICAgIFBDRGF0YSBkYXRh\nID0gY2FjaGUuZ2V0KGludGVybmFsT2lkKTsKICAgICAgICBDbGFzc01ldGFE\nYXRhIG1ldGEgPSBPcGVuSlBBUGVyc2lzdGVuY2UuZ2V0TWV0YURhdGEoZW1m\nLAogICAgICAgICAgICBBbGxGaWVsZFR5cGVzLmNsYXNzKTsKICAgICAgICBP\nYmplY3QgY2FjaGVkRmllbGREYXRhID0KICAgICAgICAgICAgZGF0YS5nZXRE\nYXRhKG1ldGEuZ2V0RmllbGQoImFycmF5T2ZTdHJpbmdzIikuZ2V0SW5kZXgo\nKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShjYWNoZWRGaWVsZERhdGEuZ2V0Q2xh\nc3MoKS5pc0FycmF5KCkpOwogICAgICAgIGFzc2VydEVxdWFscyhTdHJpbmcu\nY2xhc3MsCiAgICAgICAgICAgIGNhY2hlZEZpZWxkRGF0YS5nZXRDbGFzcygp\nLmdldENvbXBvbmVudFR5cGUoKSk7CgogICAgICAgIC8vIG1ha2Ugc3VyZSB0\naGF0IHRoZSByZXR1cm5lZCByZXN1bHRzIGFyZSBjb3JyZWN0CiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgQWxsRmllbGRUeXBlcyBhZnQgPSBlbS5maW5kKEFsbEZpZWxk\nVHlwZXMuY2xhc3MsIGpwYU9pZCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShBcnJh\neXMuZXF1YWxzKFNUUklOR1MsIGFmdC5nZXRBcnJheU9mU3RyaW5ncygpKSk7\nCiAgICAgICAgYXNzZXJ0Tm90U2FtZShTVFJJTkdTLCBhZnQuZ2V0QXJyYXlP\nZlN0cmluZ3MoKSk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0QXJyYXlPZkludHMoKSB7CiAgICAgICAgLy8gY2hl\nY2sgdGhhdCB0aGUgZGF0YSBjYWNoZSBjb250YWlucyBhbiBlZmZpY2llbnQg\ncmVwcmVzZW50YXRpb24KICAgICAgICBEYXRhQ2FjaGUgY2FjaGUgPSBPcGVu\nSlBBUGVyc2lzdGVuY2UuY2FzdChlbWYpLmdldFN0b3JlQ2FjaGUoKQogICAg\nICAgICAgICAuZ2V0RGVsZWdhdGUoKTsKICAgICAgICBQQ0RhdGEgZGF0YSA9\nIGNhY2hlLmdldChpbnRlcm5hbE9pZCk7CiAgICAgICAgQ2xhc3NNZXRhRGF0\nYSBtZXRhID0gT3BlbkpQQVBlcnNpc3RlbmNlLmdldE1ldGFEYXRhKGVtZiwK\nICAgICAgICAgICAgQWxsRmllbGRUeXBlcy5jbGFzcyk7CiAgICAgICAgT2Jq\nZWN0IGNhY2hlZEZpZWxkRGF0YSA9CiAgICAgICAgICAgIGRhdGEuZ2V0RGF0\nYShtZXRhLmdldEZpZWxkKCJhcnJheU9mSW50cyIpLmdldEluZGV4KCkpOwog\nICAgICAgIGFzc2VydFRydWUoY2FjaGVkRmllbGREYXRhLmdldENsYXNzKCku\naXNBcnJheSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoaW50LmNsYXNzLCBj\nYWNoZWRGaWVsZERhdGEuZ2V0Q2xhc3MoKS5nZXRDb21wb25lbnRUeXBlKCkp\nOwoKICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCB0aGUgcmV0dXJuZWQgcmVz\ndWx0cyBhcmUgY29ycmVjdAogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBl\nbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIEFsbEZpZWxkVHlw\nZXMgYWZ0ID0gZW0uZmluZChBbGxGaWVsZFR5cGVzLmNsYXNzLCBqcGFPaWQp\nOwogICAgICAgIGFzc2VydFRydWUoQXJyYXlzLmVxdWFscyhJTlRTLCBhZnQu\nZ2V0QXJyYXlPZkludHMoKSkpOwogICAgICAgIGFzc2VydE5vdFNhbWUoSU5U\nUywgYWZ0LmdldEFycmF5T2ZJbnRzKCkpOwogICAgICAgIGVtLmNsb3NlKCk7\nCiAgICB9Cn0K\n","encoding":"base64"}

