{"sha":"2cb7034854f70f38dec47f61128f4bb1e2ef491c","node_id":"MDQ6QmxvYjIwNjM2NDoyY2I3MDM0ODU0ZjcwZjM4ZGVjNDdmNjExMjhmNGJiMWUyZWY0OTFj","size":4523,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2cb7034854f70f38dec47f61128f4bb1e2ef491c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGls\nLk1hcDsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5K\nUEFFbnRpdHlNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5jZTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5zaW1wbGUuQWxsRmllbGRUeXBlczsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNp\nbmdsZUVNRlRlc3RDYXNlOwoKcHVibGljIGNsYXNzIFRlc3RCdWxrSlBRTEFu\nZERhdGFDYWNoZQogICAgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7Cgog\nICAgcHJpdmF0ZSBPYmplY3Qgb2lkOwoKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgc2V0VXAoIm9wZW5qcGEu\nRGF0YUNhY2hlIiwgInRydWUiLAogICAgICAgICAgICAib3BlbmpwYS5SZW1v\ndGVDb21taXRQcm92aWRlciIsICJzanZtIiwKICAgICAgICAgICAgQWxsRmll\nbGRUeXBlcy5jbGFzcywgQ2FzY2FkZVBhcmVudC5jbGFzcywgQ2FzY2FkZUNo\naWxkLmNsYXNzKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0g\nPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBBbGxGaWVsZFR5cGVzIHBj\nID0gbmV3IEFsbEZpZWxkVHlwZXMoKTsKICAgICAgICBwYy5zZXRTdHJpbmdG\naWVsZCgiRGVsZXRlTWUiKTsKICAgICAgICBlbS5wZXJzaXN0KHBjKTsKICAg\nICAgICBvaWQgPSBlbS5nZXRPYmplY3RJZChwYyk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5jbG9zZSgpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RCdWxrRGVsZXRlKCkgewogICAg\nICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2lu\nKCk7CiAgICAgICAgTGlzdCByZXN1bHQgPSBlbS5jcmVhdGVRdWVyeSgiU0VM\nRUNUIG8gRlJPTSBBbGxGaWVsZFR5cGVzIG8iKQogICAgICAgICAgICAuZ2V0\nUmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygxLCByZXN1bHQu\nc2l6ZSgpKTsKICAgICAgICBlbS5jcmVhdGVRdWVyeSgiREVMRVRFIEZST00g\nQWxsRmllbGRUeXBlcyBvIikuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIGVt\nLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2Uo\nKTsKCiAgICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwoK\nICAgICAgICAvLyB0aGlzIGFzc3VtZXMgdGhhdCB3ZSBpbnZhbGlkYXRlIHRo\nZSBjYWNoZSwgcmF0aGVyIHRoYW4gdXBkYXRlIGl0CiAgICAgICAgLy8gYWNj\nb3JkaW5nIHRvIHRoZSBidWxrIHJ1bGUuCiAgICAgICAgYXNzZXJ0RmFsc2Uo\nT3BlbkpQQVBlcnNpc3RlbmNlLmNhc3QoZW1mKS5nZXRTdG9yZUNhY2hlKCkK\nICAgICAgICAgICAgLmNvbnRhaW5zKEFsbEZpZWxkVHlwZXMuY2xhc3MsIG9p\nZCkpOwoKICAgICAgICBhc3NlcnROdWxsKGVtLmZpbmQoQWxsRmllbGRUeXBl\ncy5jbGFzcywgb2lkKSk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0QnVsa1VwZGF0ZSgpIHsKICAgICAgICBPcGVu\nSlBBRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCk7CgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAg\nICAgICBMaXN0IHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgbyBG\nUk9NIEFsbEZpZWxkVHlwZXMgbyAiCiAgICAgICAgICAgICsgIldIRVJFIG8u\naW50RmllbGQgPSAwIikuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygxLCByZXN1bHQuc2l6ZSgpKTsKICAgICAgICBlbS5jcmVhdGVR\ndWVyeSgiVVBEQVRFIEFsbEZpZWxkVHlwZXMgbyBTRVQgby5pbnRGaWVsZCA9\nIDEwIikKICAgICAgICAgICAgLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3Nl\nKCk7CgogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsK\nCiAgICAgICAgLy8gdGhpcyBhc3N1bWVzIHRoYXQgd2UgaW52YWxpZGF0ZSB0\naGUgY2FjaGUsIHJhdGhlciB0aGFuIHVwZGF0ZSBpdAogICAgICAgIC8vIGFj\nY29yZGluZyB0byB0aGUgYnVsayBydWxlLgogICAgICAgIGFzc2VydEZhbHNl\nKE9wZW5KUEFQZXJzaXN0ZW5jZS5jYXN0KGVtZikuZ2V0U3RvcmVDYWNoZSgp\nCiAgICAgICAgICAgIC5jb250YWlucyhBbGxGaWVsZFR5cGVzLmNsYXNzLCBv\naWQpKTsKCiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0QnVsa0RlbGV0ZU9mQ2FzY2FkaW5nRW50aXR5KCkgewogICAg\nICAgIENhc2NhZGVQYXJlbnQgcGFyZW50ID0gbmV3IENhc2NhZGVQYXJlbnQo\nKTsKICAgICAgICBwYXJlbnQuc2V0TmFtZSgicGFyZW50Iik7CiAgICAgICAg\nQ2FzY2FkZUNoaWxkIGNoaWxkID0gbmV3IENhc2NhZGVDaGlsZCgpOwogICAg\nICAgIGNoaWxkLnNldE5hbWUoImNoaWxkIik7CiAgICAgICAgcGFyZW50LnNl\ndENoaWxkKGNoaWxkKTsKCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVt\nZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3QocGFyZW50KTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAg\nIGVtLmNsb3NlKCk7CgogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1h\nbmFnZXIoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgZW0uY3JlYXRlUXVl\ncnkoIlNFTEVDVCBvIEZST00gQ2FzY2FkZVBhcmVudCBvIikuCiAgICAgICAg\nICAgIGdldFJlc3VsdExpc3QoKS5zaXplKCkpOwogICAgICAgIGFzc2VydEVx\ndWFscygxLCBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIG8gRlJPTSBDYXNjYWRl\nQ2hpbGQgbyIpLgogICAgICAgICAgICBnZXRSZXN1bHRMaXN0KCkuc2l6ZSgp\nKTsKICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAgICBlbSA9IGVtZi5jcmVh\ndGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOwogICAgICAgIGVtLmNyZWF0ZVF1ZXJ5KCJERUxFVEUgRlJP\nTSBDYXNjYWRlUGFyZW50IG8iKS5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5jbG9z\nZSgpOwoKICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIGVtLmNyZWF0ZVF1ZXJ5KCJTRUxF\nQ1QgbyBGUk9NIENhc2NhZGVQYXJlbnQgbyIpLgogICAgICAgICAgICBnZXRS\nZXN1bHRMaXN0KCkuc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMCwg\nZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCBvIEZST00gQ2FzY2FkZUNoaWxkIG8i\nKS4KICAgICAgICAgICAgZ2V0UmVzdWx0TGlzdCgpLnNpemUoKSk7CiAgICAg\nICAgZW0uY2xvc2UoKTsKICAgIH0KfQo=\n","encoding":"base64"}

