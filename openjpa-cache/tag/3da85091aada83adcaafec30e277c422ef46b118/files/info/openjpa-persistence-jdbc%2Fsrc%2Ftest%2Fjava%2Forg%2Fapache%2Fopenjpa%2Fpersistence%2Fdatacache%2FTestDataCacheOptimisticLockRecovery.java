{"sha":"f624ff198d48e97a5a78ef316747e1a9a1e3ece8","node_id":"MDQ6QmxvYjIwNjM2NDpmNjI0ZmYxOThkNDhlOTdhNWE3OGVmMzE2NzQ3ZTFhOWExZTNlY2U4","size":5567,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f624ff198d48e97a5a78ef316747e1a9a1e3ece8","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZGF0YWNhY2hlOw0KDQppbXBvcnQgamF2YS5zcWwuQ29u\nbmVjdGlvbjsNCmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDsN\nCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247DQppbXBvcnQgamF2YXgu\ncGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsNCmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5Sb2xsYmFja0V4Y2VwdGlvbjsNCmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5Mb2NrTW9kZVR5cGU7DQppbXBvcnQgamF2YXguc3FsLkRhdGFT\nb3VyY2U7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuT3BlbkpQQVBlcnNpc3RlbmNlOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOw0KDQpw\ndWJsaWMgY2xhc3MgVGVzdERhdGFDYWNoZU9wdGltaXN0aWNMb2NrUmVjb3Zl\ncnkNCiAgICBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsNCg0KICAgIHBy\naXZhdGUgaW50IHBrOw0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7DQog\nICAgICAgIHNldFVwKCJvcGVuanBhLkRhdGFDYWNoZSIsICJ0cnVlIiwNCiAg\nICAgICAgICAgICJvcGVuanBhLlJlbW90ZUNvbW1pdFByb3ZpZGVyIiwgInNq\ndm0iLA0KICAgICAgICAgICAgT3B0aW1pc3RpY0xvY2tJbnN0YW5jZS5jbGFz\ncyk7DQoNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsNCiAgICAgICAgT3B0aW1pc3RpY0xvY2tJbnN0YW5jZSBvbGkg\nPSBuZXcgT3B0aW1pc3RpY0xvY2tJbnN0YW5jZSgiZm9vIik7DQogICAgICAg\nIGVtLnBlcnNpc3Qob2xpKTsNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5jb21taXQoKTsNCiAgICAgICAgcGsgPSBvbGkuZ2V0UEsoKTsNCiAgICAg\nICAgZW0uY2xvc2UoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nT3B0aW1pc3RpY0xvY2tSZWNvdmVyeSgpIA0KICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsNCg0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtOw0KICAg\nICAgICANCiAgICAgICAgLy8gMS4gZ2V0IHRoZSBvcGxvY2sgdmFsdWUgZm9y\nIHRoZSBpbnN0YW5jZSBhZnRlciBjb21taXQgYW5kDQogICAgICAgIC8vIGdl\ndCBhIHJlYWQgbG9jayB0byBlbnN1cmUgdGhhdCB3ZSBjaGVjayBmb3IgdGhl\nIG9wdGltaXN0aWMNCiAgICAgICAgLy8gbG9jayBjb2x1bW4gYXQgdHggY29t\nbWl0Lg0KICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7\nDQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsNCiAgICAg\nICAgT3B0aW1pc3RpY0xvY2tJbnN0YW5jZSBvbGkgPSBlbS5maW5kKE9wdGlt\naXN0aWNMb2NrSW5zdGFuY2UuY2xhc3MsIHBrKTsNCiAgICAgICAgaW50IGZp\ncnN0T3BMb2NrVmFsdWUgPSBvbGkuZ2V0T3BMb2NrKCk7DQogICAgICAgIGVt\nLmxvY2sob2xpLCBMb2NrTW9kZVR5cGUuUkVBRCk7DQoNCiAgICAgICAgLy8g\nMi4gbWFrZSBhIGNoYW5nZSB0byB0aGUgaW5zdGFuY2UncyBvcHRpbWlzdGlj\nIGxvY2sgY29sdW1uDQogICAgICAgIC8vIHZpYSBkaXJlY3QgU1FMIGluIGEg\nc2VwYXJhdGUgdHJhbnNhY3Rpb24NCiAgICAgICAgaW50IHNlY29uZE9wTG9j\na1ZhbHVlID0gZmlyc3RPcExvY2tWYWx1ZSArIDE7DQoNCiAgICAgICAgRGF0\nYVNvdXJjZSBkcyA9IChEYXRhU291cmNlKSBPcGVuSlBBUGVyc2lzdGVuY2Uu\nY2FzdChlbSkNCiAgICAgICAgICAgIC5nZXRFbnRpdHlNYW5hZ2VyRmFjdG9y\neSgpLmdldENvbmZpZ3VyYXRpb24oKQ0KICAgICAgICAgICAgLmdldENvbm5l\nY3Rpb25GYWN0b3J5KCk7DQogICAgICAgIENvbm5lY3Rpb24gYyA9IGRzLmdl\ndENvbm5lY3Rpb24oKTsNCiAgICAgICAgYy5zZXRBdXRvQ29tbWl0KGZhbHNl\nKTsNCiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjLnByZXBhcmVT\ndGF0ZW1lbnQoDQogICAgICAgICAgICAiVVBEQVRFIE9QVElNSVNUSUNfTE9D\nS19JTlNUQU5DRSBTRVQgT1BMT0NLID0gPyBXSEVSRSBQSyA9ID8iKTsNCiAg\nICAgICAgcHMuc2V0SW50KDEsIHNlY29uZE9wTG9ja1ZhbHVlKTsNCiAgICAg\nICAgcHMuc2V0SW50KDIsIHBrKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\nIHBzLmV4ZWN1dGVVcGRhdGUoKSk7DQogICAgICAgIGMuY29tbWl0KCk7DQog\nICAgICAgIA0KICAgICAgICAvLyAzLiBjb21taXQgdGhlIHRyYW5zYWN0aW9u\nLCBjYXRjaGluZyB0aGUgZXhwZWN0ZWQgb3Bsb2NrDQogICAgICAgIC8vIGV4\nY2VwdGlvbg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5jb21taXQoKTsNCiAgICAgICAgICAgIGZhaWwoInR4IHNo\nb3VsZCBoYXZlIGZhaWxlZCBkdWUgdG8gb3V0LW9mLWJhbmQgb3Bsb2NrIGNo\nYW5nZSIpOw0KICAgICAgICB9IGNhdGNoIChSb2xsYmFja0V4Y2VwdGlvbiBy\nZSkgew0KICAgICAgICAgICAgLy8gZXhwZWN0ZWQNCiAgICAgICAgfSBmaW5h\nbGx5IHsNCiAgICAgICAgICAgIGlmIChlbS5nZXRUcmFuc2FjdGlvbigpLmlz\nQWN0aXZlKCkpDQogICAgICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5yb2xsYmFjaygpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gNC4gb2J0\nYWluIHRoZSBvYmplY3QgaW4gYSBuZXcgcGVyc2lzdGVuY2UgY29udGV4dCBh\nbmQNCiAgICAgICAgLy8gYXNzZXJ0IHRoYXQgdGhlIG9wbG9jayBjb2x1bW4g\naXMgc2V0IHRvIHRoZSBvbmUgdGhhdA0KICAgICAgICAvLyBoYXBwZW5lZCBp\nbiB0aGUgb3V0LW9mLWJhbmQgdHJhbnNhY3Rpb24NCiAgICAgICAgZW0uY2xv\nc2UoKTsNCiAgICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOw0KICAgICAgICBvbGkgPSBlbS5maW5kKE9wdGltaXN0aWNMb2NrSW5zdGFu\nY2UuY2xhc3MsIHBrKTsNCg0KICAgICAgICAvLyBJZiB0aGlzIGZhaWxzLCB0\naGVuIHRoZSBkYXRhIGNhY2hlIGhhcyB0aGUgd3JvbmcgdmFsdWUuDQogICAg\nICAgIC8vIFRoaXMgaXMgd2hhdCB0aGlzIHRlc3QgY2FzZSBpcyBkZXNpZ25l\nZCB0byBleGVyY2lzZS4NCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJkYXRhIGNh\nY2hlIGlzIG5vdCBiZWluZyBjbGVhcmVkIHdoZW4gb3Bsb2NrICINCiAgICAg\nICAgICAgICsgInZpb2xhdGlvbnMgb2NjdXIiLCBzZWNvbmRPcExvY2tWYWx1\nZSwgb2xpLmdldE9wTG9jaygpKTsNCg0KICAgICAgICAvLyA1LiBnZXQgYSBy\nZWFkIGxvY2sgb24gdGhlIGluc3RhbmNlIGFuZCBjb21taXQgdGhlIHR4OyB0\naGlzDQogICAgICAgIC8vIHRpbWUgaXQgc2hvdWxkIGdvIHRocm91Z2gNCiAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOw0KICAgICAgICBl\nbS5sb2NrKG9saSwgTG9ja01vZGVUeXBlLlJFQUQpOw0KICAgICAgICB0cnkg\new0KICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsN\nCiAgICAgICAgfSBjYXRjaCAoUm9sbGJhY2tFeGNlcHRpb24gZSkgew0KICAg\nICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsNCiAgICAgICAgICAgIHRo\ncm93IGU7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBpZiAo\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5pc0FjdGl2ZSgpKQ0KICAgICAgICAgICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkucm9sbGJhY2soKTsNCiAgICAgICAg\nfQ0KICAgICAgICBlbS5jbG9zZSgpOw0KICAgIH0NCiAgICANCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RXhwZWN0ZWRPcHRpbWlzdGljTG9ja0V4Y2VwdGlvbigp\nIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbTsNCiAgICAgICAgDQogICAg\nICAgIC8vIDEuIHN0YXJ0IGEgbmV3IHR4DQogICAgICAgIGVtID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rp\nb24oKS5iZWdpbigpOw0KICAgICAgICBlbS5sb2NrKGVtLmZpbmQoT3B0aW1p\nc3RpY0xvY2tJbnN0YW5jZS5jbGFzcywgcGspLCBMb2NrTW9kZVR5cGUuUkVB\nRCk7DQogICAgICAgIA0KICAgICAgICAvLyAyLiBzdGFydCBhbm90aGVyIHR4\nLCBhbmQgY2F1c2UgYSB2ZXJzaW9uIGluY3JlbWVudA0KICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtMiA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQog\nICAgICAgIGVtMi5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7DQogICAgICAg\nIGVtMi5sb2NrKGVtMi5maW5kKE9wdGltaXN0aWNMb2NrSW5zdGFuY2UuY2xh\nc3MsIHBrKSwgDQogICAgICAgICAgICBMb2NrTW9kZVR5cGUuV1JJVEUpOw0K\nICAgICAgICBlbTIuZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsNCiAgICAg\nICAgZW0yLmNsb3NlKCk7DQogICAgICAgIA0KICAgICAgICAvLyAzLiB0cnkg\ndG8gY29tbWl0LiB0aGlzIHNob3VsZCBmYWlsLCBhcyB0aGlzIGlzIGEgcmVn\ndWxhciBvcHRpbWlzdGljDQogICAgICAgIC8vIGxvY2sgZmFpbHVyZSBzaXR1\nYXRpb24uDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAgICAgICAgZmFpbCgid3JpdGUg\nbG9jayBpbiBlbTIgc2hvdWxkIHRyaWdnZXIgYW4gb3B0aW1pc3RpYyBsb2Nr\nIGZhaWx1cmUiKTsNCiAgICAgICAgfSBjYXRjaCAoUm9sbGJhY2tFeGNlcHRp\nb24gcGUpIHsNCiAgICAgICAgICAgIC8vIGV4cGVjdGVkDQogICAgICAgIH0N\nCiAgICAgICAgZW0uY2xvc2UoKTsNCiAgICB9DQp9DQo=\n","encoding":"base64"}

