{"sha":"e14908636eaa9bc9c9132aeba97bcd6c34070131","node_id":"MDQ6QmxvYjIwNjM2NDplMTQ5MDg2MzZlYWE5YmM5YzkxMzJhZWJhOTdiY2Q2YzM0MDcwMTMx","size":4180,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e14908636eaa9bc9c9132aeba97bcd6c34070131","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGV0YWNo\nbWVudDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2Vy\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUm9sbGJhY2tFeGNlcHRpb247\nCgppbXBvcnQganVuaXQuZnJhbWV3b3JrLlRlc3RDYXNlOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmVuaGFuY2UuUGVyc2lzdGVuY2VDYXBhYmxlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQ\nZXJzaXN0ZW5jZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOwoKcHVibGljIGNsYXNzIFRl\nc3RHZXRSZWZlcmVuY2VBbmRJbXBsaWNpdERldGFjaG1lbnQKICAgIGV4dGVu\nZHMgU2luZ2xlRU1GVGVzdENhc2UgewoKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgewogICAgICAgIHNldFVwKCJvcGVuanBhLkRldGFjaFN0YXRlIiwgImZn\ncyIsCiAgICAgICAgICAgIERldGFjaG1lbnRPbmVNYW55UGFyZW50LmNsYXNz\nLCBEZXRhY2htZW50T25lTWFueUNoaWxkLmNsYXNzKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0Tm9uZXhpc3RlbnRHZXRSZWZlcmVuY2VEZXRhY2ht\nZW50SW5UeFdpdGhDb21taXQoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIERldGFjaG1lbnRPbmVN\nYW55UGFyZW50IG8gPSAKICAgICAgICAgICAgZW0uZ2V0UmVmZXJlbmNlKERl\ndGFjaG1lbnRPbmVNYW55UGFyZW50LmNsYXNzLCAwKTsKICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7\nCgogICAgICAgIC8vIHRoZSBjbG9zZSBkZXRhY2htZW50IHNob3VsZCBsZWF2\nZSB0aGVzZSBpbnZhbGlkIG9iamVjdHMgaW4gYSAKICAgICAgICAvLyB0cmFu\nc2llbnQgc3RhdGUKICAgICAgICBhc3NlcnRGYWxzZSgoKFBlcnNpc3RlbmNl\nQ2FwYWJsZSkgbykucGNJc1RyYW5zYWN0aW9uYWwoKSk7CiAgICAgICAgYXNz\nZXJ0RmFsc2UoKChQZXJzaXN0ZW5jZUNhcGFibGUpIG8pLnBjSXNQZXJzaXN0\nZW50KCkpOwogICAgICAgIC8vIHBjSXNEZXRhY2hlZCgpIHdpbGwgZ2l2ZSBh\nIGZhbHNlIHBvc2l0aXZlIGluIHRoaXMgY29uZmlndXJhdGlvbgogICAgICAg\nIC8vIGFzc2VydEZhbHNlKCgoUGVyc2lzdGVuY2VDYXBhYmxlKSBvKS5wY0lz\nRGV0YWNoZWQoKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdE5vbmV4\naXN0ZW50R2V0UmVmZXJlbmNlRGV0YWNobWVudE91dHNpZGVUeCgpIHsKICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFn\nZXIoKTsKICAgICAgICBEZXRhY2htZW50T25lTWFueVBhcmVudCBvID0gCiAg\nICAgICAgICAgIGVtLmdldFJlZmVyZW5jZShEZXRhY2htZW50T25lTWFueVBh\ncmVudC5jbGFzcywgMCk7CiAgICAgICAgZW0uY2xvc2UoKTsKCiAgICAgICAg\nLy8gdGhlIGNsb3NlIGRldGFjaG1lbnQgc2hvdWxkIGxlYXZlIHRoZXNlIGlu\ndmFsaWQgb2JqZWN0cyBpbiBhIAogICAgICAgIC8vIHRyYW5zaWVudCBzdGF0\nZQogICAgICAgIGFzc2VydEZhbHNlKCgoUGVyc2lzdGVuY2VDYXBhYmxlKSBv\nKS5wY0lzVHJhbnNhY3Rpb25hbCgpKTsKICAgICAgICBhc3NlcnRGYWxzZSgo\nKFBlcnNpc3RlbmNlQ2FwYWJsZSkgbykucGNJc1BlcnNpc3RlbnQoKSk7CiAg\nICAgICAgLy8gcGNJc0RldGFjaGVkKCkgd2lsbCBnaXZlIGEgZmFsc2UgcG9z\naXRpdmUgaW4gdGhpcyBjb25maWd1cmF0aW9uCiAgICAgICAgLy8gYXNzZXJ0\nRmFsc2UoKChQZXJzaXN0ZW5jZUNhcGFibGUpIG8pLnBjSXNEZXRhY2hlZCgp\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9uZXhpc3RlbnRHZXRS\nZWZlcmVuY2VEZXRhY2htZW50SW5UeFdpdGhSb2xsYmFjaygpIHsKICAgICAg\nICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIo\nKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAg\nICAgRGV0YWNobWVudE9uZU1hbnlQYXJlbnQgbyA9IAogICAgICAgICAgICBl\nbS5nZXRSZWZlcmVuY2UoRGV0YWNobWVudE9uZU1hbnlQYXJlbnQuY2xhc3Ms\nIDApOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkucm9sbGJhY2soKTsK\nCiAgICAgICAgLy8gdGhlIHJvbGxiYWNrIHNob3VsZCBjYXVzZSBhIGRldGFj\naG1lbnQKICAgICAgICBhc3NlcnRGYWxzZShPcGVuSlBBUGVyc2lzdGVuY2Uu\nY2FzdChlbSkuaXNUcmFuc2FjdGlvbmFsKG8pKTsKICAgICAgICBhc3NlcnRG\nYWxzZShPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdChlbSkuaXNQZXJzaXN0ZW50\nKG8pKTsKICAgICAgICAvLyBwY0lzRGV0YWNoZWQoKSB3aWxsIGdpdmUgYSBm\nYWxzZSBwb3NpdGl2ZSBpbiB0aGlzIGNvbmZpZ3VyYXRpb24KICAgICAgICAv\nLyBhc3NlcnRGYWxzZShPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdChlbSkuaXNE\nZXRhY2hlZChvKSk7CgogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdE5vbmV4aXN0ZW50R2V0UmVmZXJlbmNlRGV0YWNo\nbWVudEluVHhXaXRoRmFpbGVkQ29tbWl0KCkgewogICAgICAgIEVudGl0eU1h\nbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBEZXRhY2ht\nZW50T25lTWFueVBhcmVudCBvID0gCiAgICAgICAgICAgIGVtLmdldFJlZmVy\nZW5jZShEZXRhY2htZW50T25lTWFueVBhcmVudC5jbGFzcywgMCk7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5zZXRSb2xsYmFja09ubHkoKTsKICAg\nICAgICB0cnkgewogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNv\nbW1pdCgpOwogICAgICAgIH0gY2F0Y2ggKFJvbGxiYWNrRXhjZXB0aW9uIHJl\nKSB7CiAgICAgICAgICAgIC8vIGV4cGVjdGVkCiAgICAgICAgfQoKICAgICAg\nICAvLyB0aGUgZmFpbGVkIGNvbW1pdCBzaG91bGQgY2F1c2UgYSBkZXRhY2ht\nZW50CiAgICAgICAgYXNzZXJ0RmFsc2UoT3BlbkpQQVBlcnNpc3RlbmNlLmNh\nc3QoZW0pLmlzVHJhbnNhY3Rpb25hbChvKSk7CiAgICAgICAgYXNzZXJ0RmFs\nc2UoT3BlbkpQQVBlcnNpc3RlbmNlLmNhc3QoZW0pLmlzUGVyc2lzdGVudChv\nKSk7CiAgICAgICAgLy8gcGNJc0RldGFjaGVkKCkgd2lsbCBnaXZlIGEgZmFs\nc2UgcG9zaXRpdmUgaW4gdGhpcyBjb25maWd1cmF0aW9uCiAgICAgICAgLy8g\nYXNzZXJ0RmFsc2UoT3BlbkpQQVBlcnNpc3RlbmNlLmNhc3QoZW0pLmlzRGV0\nYWNoZWQobykpOwoKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQp9Cg==\n","encoding":"base64"}

