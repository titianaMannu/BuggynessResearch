{"sha":"5e2a8f266c4cd99ffce2ea16f590ebce484e58df","node_id":"MDQ6QmxvYjIwNjM2NDo1ZTJhOGYyNjZjNGNkOTlmZmNlMmVhMTZmNTkwZWJjZTQ4NGU1OGRm","size":3505,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5e2a8f266c4cd99ffce2ea16f590ebce484e58df","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuaWRlbnRp\ndHk7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuRW50aXR5VHJhbnNhY3Rpb247CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5RdWVyeTsKCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7Cmlt\ncG9ydCBqdW5pdC50ZXh0dWkuVGVzdFJ1bm5lcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsKCi8qKgogKiBTaW1wbGUgdGVz\ndCBjYXNlIHRvIHRlc3QgdGhlIEdlbmVyYXRpb25UeXBlIGZvciBASWQuLi4K\nICoKICogQGF1dGhvciBLZXZpbiBTdXR0ZXIKICovCnB1YmxpYyBjbGFzcyBU\nZXN0R2VuZXJhdGlvblR5cGUKICAgIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENh\nc2UgewoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIHNldFVw\nKElkZW50aXR5R2VuZXJhdGlvblR5cGUuY2xhc3MpOwoKICAgICAgICAvKgog\nICAgICAgICAqIElmIHRoZSBEQkRpY3Rpb25hcnkgZG9lc24ndCBzdXBwb3J0\nIEF1dG9Bc3NpZ24obWVudCkgb2YgY29sdW1uCiAgICAgICAgICogdmFsdWVz\nLCB0aGVuIG51bGwgb3V0IHRoZSBlbWYgaW5zdGFuY2UgdG8gcHJldmVudCB0\naGUgcmVzdCBvZgogICAgICAgICAqIHRoZSB0ZXN0cyBmcm9tIGV4ZWN1dGlu\nZy4KICAgICAgICAgKi8KICAgICAgICBKREJDQ29uZmlndXJhdGlvbiBjb25m\nID0gKEpEQkNDb25maWd1cmF0aW9uKSBlbWYuZ2V0Q29uZmlndXJhdGlvbigp\nOwogICAgICAgIGlmICghY29uZi5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgp\nLnN1cHBvcnRzQXV0b0Fzc2lnbikgewogICAgICAgICAgICBlbWYgPSBudWxs\nOwogICAgICAgIH0KCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdENyZWF0\nZUVudGl0eU1hbmFnZXIoKSB7CiAgICAgICAgaWYgKGVtZiA9PSBudWxsKQog\nICAgICAgICAgICByZXR1cm47CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9\nIGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIEVudGl0eVRy\nYW5zYWN0aW9uIHQgPSBlbS5nZXRUcmFuc2FjdGlvbigpOwogICAgICAgIGFz\nc2VydE5vdE51bGwodCk7CiAgICAgICAgdC5iZWdpbigpOwogICAgICAgIHQu\nc2V0Um9sbGJhY2tPbmx5KCk7CiAgICAgICAgdC5yb2xsYmFjaygpOwoKICAg\nICAgICAvLyBvcGVuanBhLWZhY2FkZSB0ZXN0CiAgICAgICAgYXNzZXJ0VHJ1\nZShlbSBpbnN0YW5jZW9mIE9wZW5KUEFFbnRpdHlNYW5hZ2VyKTsKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBvamVtID0gKE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyKSBlbTsKICAgICAgICBvamVtLmdldEZldGNoUGxhbigpLnNldE1h\neEZldGNoRGVwdGgoLTEpOwogICAgICAgIGFzc2VydEVxdWFscygtMSwgb2pl\nbS5nZXRGZXRjaFBsYW4oKS5nZXRNYXhGZXRjaERlcHRoKCkpOwogICAgICAg\nIGVtLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFBlcnNp\nc3QoKSB7CiAgICAgICAgaWYgKGVtZiA9PSBudWxsKQogICAgICAgICAgICBy\nZXR1cm47CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3QobmV3IElkZW50aXR5R2VuZXJh\ndGlvblR5cGUoKSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21t\naXQoKTsKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RRdWVyeSgpIHsKICAgICAgICBpZiAoZW1mID09IG51bGwpCiAg\nICAgICAgICAgIHJldHVybjsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0g\nZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgSWRlbnRpdHlHZW5lcmF0aW9u\nVHlwZSBpZ3QgPSBuZXcgSWRlbnRpdHlHZW5lcmF0aW9uVHlwZSgpOwogICAg\nICAgIGlndC5zZXRTb21lRGF0YSgiU29tZVN0cmluZyIpOwogICAgICAgIGVt\nLnBlcnNpc3QoaWd0KTsKICAgICAgICAvLyBhZGQgYW5vdGhlciBJZGVudGl0\neUdlbmVyYXRpb25UeXBlIG9iamVjdAogICAgICAgIGVtLnBlcnNpc3QobmV3\nIElkZW50aXR5R2VuZXJhdGlvblR5cGUoKSk7CiAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy8gQ2hlY2sgdG8gbWFr\nZSBzdXJlIHRoZXJlIGFyZSB0d28gb2JqZWN0cy4uLgogICAgICAgIFF1ZXJ5\nIHEgPSBlbS5jcmVhdGVRdWVyeSgic2VsZWN0IHggZnJvbSBJZGVudGl0eUdl\nbmVyYXRpb25UeXBlIHgiKTsKICAgICAgICBMaXN0IGwgPSBxLmdldFJlc3Vs\ndExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMiwgbC5zaXplKCkpOwog\nICAgICAgIGVtLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2\nb2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIFRlc3RSdW5uZXIu\ncnVuKFRlc3RHZW5lcmF0aW9uVHlwZS5jbGFzcyk7CiAgICB9Cn0KCg==\n","encoding":"base64"}

