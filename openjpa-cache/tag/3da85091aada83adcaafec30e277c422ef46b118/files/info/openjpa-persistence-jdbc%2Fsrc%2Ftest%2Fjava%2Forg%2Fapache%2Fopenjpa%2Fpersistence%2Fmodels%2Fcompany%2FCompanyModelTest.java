{"sha":"04bc94f8d280ef8341b6de8d7f15f0fda7fa549e","node_id":"MDQ6QmxvYjIwNjM2NDowNGJjOTRmOGQyODBlZjgzNDFiNmRlOGQ3ZjE1ZjBmZGE3ZmE1NDll","size":9539,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/04bc94f8d280ef8341b6de8d7f15f0fda7fa549e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubW9kZWxz\nLmNvbXBhbnk7CgppbXBvcnQgamF2YS5iZWFucy4qOwppbXBvcnQgamF2YS5p\nby4qOwppbXBvcnQgamF2YS51dGlsLio7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS4qOwppbXBvcnQganVuaXQuZnJhbWV3b3JrLio7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC4qOwoKLyoqIAogKiBH\nZW5lcmljIHRlc3QgY2FzZSB0aGF0IHdpbGwgYmUgZXh0ZW5kZWQgYnkgYSBj\nb25jcmV0ZSBjb21wYW55CiAqIG1vZGVsIHN1YmNsYXNzLgogKiAgCiAqIEBh\ndXRob3IgIE1hcmMgUHJ1ZCdob21tZWF1eAogKi8KcHVibGljIGFic3RyYWN0\nIGNsYXNzIENvbXBhbnlNb2RlbFRlc3QgCiAgICBleHRlbmRzIFNpbmdsZUVN\nVGVzdENhc2UgewoKICAgIHByaXZhdGUgc3RhdGljIE1hcDxDbGFzcyxDbGFz\ncz4gZmFjdG9yeUNsYXNzZXM7CiAgICBwcml2YXRlIE1hcDxDbGFzcyxDbGFz\ncz4gaW1wbHM7CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAg\nLy8gbWFrZSBhIG1hcCBvZiB0aGUgaW1wbGVtZW50YXRpb25zIGJhc2VkIG9u\nIHRoZSBjbGFzcyBuYW1lcyBpbgogICAgICAgIC8vIHRoZSBjdXJyZW50IHBh\nY2thZ2Ugb2YgdGhlIHRlc3Qgc3ViY2xhc3MKICAgICAgICBpbXBscyA9IG5l\ndyBIYXNoTWFwPENsYXNzLENsYXNzPigpOwogICAgICAgIGltcGxzLnB1dChJ\nQWRkcmVzcy5jbGFzcywgbG9jYWxDbGFzcygiQWRkcmVzcyIpKTsKICAgICAg\nICBpbXBscy5wdXQoSUNvbXBhbnkuY2xhc3MsIGxvY2FsQ2xhc3MoIkNvbXBh\nbnkiKSk7CiAgICAgICAgaW1wbHMucHV0KElDdXN0b21lci5jbGFzcywgbG9j\nYWxDbGFzcygiQ3VzdG9tZXIiKSk7CiAgICAgICAgaW1wbHMucHV0KElQZXJz\nb24uY2xhc3MsIGxvY2FsQ2xhc3MoIlBlcnNvbiIpKTsKICAgICAgICBpbXBs\ncy5wdXQoSUVtcGxveWVlLmNsYXNzLCBsb2NhbENsYXNzKCJFbXBsb3llZSIp\nKTsKICAgICAgICBpbXBscy5wdXQoSUZ1bGxUaW1lRW1wbG95ZWUuY2xhc3Ms\nIGxvY2FsQ2xhc3MoIkZ1bGxUaW1lRW1wbG95ZWUiKSk7CiAgICAgICAgaW1w\nbHMucHV0KElMaW5lSXRlbS5jbGFzcywgbG9jYWxDbGFzcygiTGluZUl0ZW0i\nKSk7CiAgICAgICAgaW1wbHMucHV0KElQcm9kdWN0T3JkZXIuY2xhc3MsIGxv\nY2FsQ2xhc3MoIlByb2R1Y3RPcmRlciIpKTsKICAgICAgICBpbXBscy5wdXQo\nSVBhcnRUaW1lRW1wbG95ZWUuY2xhc3MsIGxvY2FsQ2xhc3MoIlBhcnRUaW1l\nRW1wbG95ZWUiKSk7CiAgICAgICAgaW1wbHMucHV0KElQcm9kdWN0LmNsYXNz\nLCBsb2NhbENsYXNzKCJQcm9kdWN0IikpOwoKICAgICAgICBzZXRVcChpbXBs\ncy52YWx1ZXMoKS50b0FycmF5KG5ldyBDbGFzc1tpbXBscy5zaXplKCldKSk7\nCiAgICAgICAgY2hlY2tNb2RlbCgpOwogICAgfQoKICAgIHByaXZhdGUgQ2xh\nc3MgbG9jYWxDbGFzcyhTdHJpbmcgbmFtZSkgewogICAgICAgIFN0cmluZyBw\na2cgPSBnZXRDbGFzcygpLmdldFBhY2thZ2UoKS5nZXROYW1lKCk7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIENsYXNzLmZvck5hbWUocGtn\nICsgIi4iICsgbmFtZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUp\nIHsKICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlv\nbihlKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqIAogICAgICogUnVucyB0\naHJvdWdoIGJhc2ljIHF1ZXJpZXMgYWdhaW5zdCBhbGwgb2YgdGhlIHByb3Bl\ncnRpZXMgb2YgYWxsCiAgICAgKiBvZiB0aGUga25vd24gcGVyc2lzdGVudCBj\nbGFzc2VzLiBXZSdyZSBqdXN0IGNoZWNraW5nIGhlcmUgdG8KICAgICAqIG1h\na2Ugc3VyZSB0aGUgcXVlcmllcyBjYW4gYmUgZXhlY3V0ZWQgd2l0aG91dCBw\ncm9ibGVtLiBRdWVyaWVzCiAgICAgKiBzaG91bGQgYWx3YXlzIHJldHVybiBh\nbGwga25vd24gaW5zdGFuY2VzIGluIHRoZSBkYXRhYmFzZS4KICAgICAqLwog\nICAgcHVibGljIHZvaWQgdGVzdEJhc2ljUXVlcmllcygpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIGZvciAoQ2xhc3MgYyA6IGltcGxzLnZhbHVlcygp\nKSB7CiAgICAgICAgICAgIGZvciAoUHJvcGVydHlEZXNjcmlwdG9yIHBkIDoK\nICAgICAgICAgICAgICAgIEludHJvc3BlY3Rvci5nZXRCZWFuSW5mbyhjKS5n\nZXRQcm9wZXJ0eURlc2NyaXB0b3JzKCkpIHsKCiAgICAgICAgICAgICAgICBp\nZiAocGQuZ2V0V3JpdGVNZXRob2QoKSA9PSBudWxsKSAvLyBpZ25vcmUgcmVh\nZC1vbmx5CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAg\nICAgICAgICAgU2V0PFN0cmluZz4gcXVlcmllcyA9IG5ldyBUcmVlU2V0PFN0\ncmluZz4oKTsKICAgICAgICAgICAgICAgIGdldEJhc2ljUXVlcmllcyhxdWVy\naWVzLCBwZCwgInguIik7CgogICAgICAgICAgICAgICAgU3RyaW5nQnVpbGRl\nciBzdHIgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwoKICAgICAgICAgICAgICAg\nIC8vIGV4ZWN1dGUgdGhlIGluZGl2aWR1YWwgcXVlcmllcwogICAgICAgICAg\nICAgICAgZm9yIChTdHJpbmcgcXVlcnkgOiBxdWVyaWVzKSB7CiAgICAgICAg\nICAgICAgICAgICAgZmluZChjLCAid2hlcmUgIiArIHF1ZXJ5KTsKICAgICAg\nICAgICAgICAgICAgICBzdHIuYXBwZW5kKHN0ci5sZW5ndGgoKSA+IDAgPyAi\nIG9yICIgOiAiIikuYXBwZW5kKHF1ZXJ5KTsKICAgICAgICAgICAgICAgIH0K\nCiAgICAgICAgICAgICAgICAvLyBub3cgZXhlY3V0ZSBhbGwgdGhlIHF1ZXJp\nZXMgY29tYmluZWQKICAgICAgICAgICAgICAgIGZpbmQoYywgIndoZXJlICIg\nKyBzdHIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHZv\naWQgZ2V0QmFzaWNRdWVyaWVzKFNldDxTdHJpbmc+IHF1ZXJpZXMsIFByb3Bl\ncnR5RGVzY3JpcHRvciBwZCwKICAgICAgICBTdHJpbmcgcHJlZml4KSB0aHJv\nd3MgRXhjZXB0aW9uIHsKCiAgICAgICAgLy8gbWF4IGxldmVsIG9mIGZpZWxk\nIHRyYXZlcnNhbDogMwogICAgICAgIC8vICMjIyBpZiAocHJlZml4LnNwbGl0\nKCJcXC4iKS5sZW5ndGggPiAzKQogICAgICAgIGlmIChwcmVmaXguc3BsaXQo\nIlxcLiIpLmxlbmd0aCA+IDIpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAg\nICAgQ2xhc3MgdHlwZSA9IHBkLmdldFByb3BlcnR5VHlwZSgpOwoKICAgICAg\nICBTdHJpbmcgbmFtZSA9IHByZWZpeCArIHBkLmdldE5hbWUoKTsKCiAgICAg\nICAgaWYgKCFxdWVyaWVzLmFkZChuYW1lICsgIiBpcyBub3QgbnVsbCIpKQog\nICAgICAgICAgICByZXR1cm47CgogICAgICAgIHF1ZXJpZXMuYWRkKG5hbWUg\nKyAiIGlzIG51bGwiKTsKCiAgICAgICAgaWYgKHR5cGUuaXNBc3NpZ25hYmxl\nRnJvbShOdW1iZXIuY2xhc3MpIHx8IHR5cGUgPT0gaW50LmNsYXNzIHx8CiAg\nICAgICAgICAgIHR5cGUgPT0gZG91YmxlLmNsYXNzIHx8IHR5cGUgPT0gZmxv\nYXQuY2xhc3MgfHwKICAgICAgICAgICAgdHlwZSA9PSBsb25nLmNsYXNzIHx8\nIHR5cGUgPT0gc2hvcnQuY2xhc3MpIHsKICAgICAgICAgICAgcXVlcmllcy5h\nZGQobmFtZSArICIgPSAwIik7CiAgICAgICAgICAgIHF1ZXJpZXMuYWRkKG5h\nbWUgKyAiIDw+IDAiKTsKICAgICAgICAgICAgcXVlcmllcy5hZGQobmFtZSAr\nICIgPiAwIik7CiAgICAgICAgICAgIHF1ZXJpZXMuYWRkKG5hbWUgKyAiIDwg\nMCIpOwogICAgICAgICAgICBxdWVyaWVzLmFkZChuYW1lICsgIiA+PSAwIik7\nCiAgICAgICAgICAgIHF1ZXJpZXMuYWRkKG5hbWUgKyAiIDw9IDAiKTsKICAg\nICAgICAgICAgcXVlcmllcy5hZGQoInNxcnQoIiArIG5hbWUgKyAiKSA8PiAw\nIik7CiAgICAgICAgICAgIHF1ZXJpZXMuYWRkKCJhYnMoIiArIG5hbWUgKyAi\nKSA8PiAwIik7CiAgICAgICAgICAgIC8vIHF1ZXJpZXMuYWRkKCJtb2QoIiAr\nIG5hbWUgKyAiLCA1KSA8PiAwIik7CiAgICAgICAgfQoKICAgICAgICBpZiAo\ndHlwZS5pc0Fzc2lnbmFibGVGcm9tKENvbGxlY3Rpb24uY2xhc3MpKSB7CiAg\nICAgICAgICAgIHF1ZXJpZXMuYWRkKG5hbWUgKyAiIElTIEVNUFRZIik7CiAg\nICAgICAgICAgIHF1ZXJpZXMuYWRkKG5hbWUgKyAiIElTIE5PVCBFTVBUWSIp\nOwogICAgICAgICAgICBxdWVyaWVzLmFkZCgic2l6ZSgiICsgbmFtZSArICIp\nIDw+IDAiKTsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlLmlzQXNzaWdu\nYWJsZUZyb20oU3RyaW5nLmNsYXNzKSkgewogICAgICAgICAgICBxdWVyaWVz\nLmFkZCgibG93ZXIoIiArIG5hbWUgKyAiKSA9ICd4JyIpOwogICAgICAgICAg\nICBxdWVyaWVzLmFkZCgidXBwZXIoIiArIG5hbWUgKyAiKSA9ICd4JyIpOwog\nICAgICAgICAgICBxdWVyaWVzLmFkZCgiY29uY2F0KCIgKyBuYW1lICsgIiwg\nIiArIG5hbWUgKyAiKSA9ICd4JyIpOwogICAgICAgICAgICBxdWVyaWVzLmFk\nZCgic3Vic3RyaW5nKCIgKyBuYW1lICsgIiwgMSwgMikgPSAneCciKTsKICAg\nICAgICAgICAgcXVlcmllcy5hZGQoImxlbmd0aCgiICsgbmFtZSArICIpID4g\nMCIpOwogICAgICAgICAgICBxdWVyaWVzLmFkZCgibG9jYXRlKCIgKyBuYW1l\nICsgIiwgJ3gnLCAxKSA+IDAiKTsKICAgICAgICAgICAgcXVlcmllcy5hZGQo\nInRyaW0obGVhZGluZyAnICcgZnJvbSAiICsgbmFtZSArICIpID0gJ3gnIik7\nCiAgICAgICAgfQoKICAgICAgICBpZiAodHlwZS5pc0Fzc2lnbmFibGVGcm9t\nKERhdGUuY2xhc3MpKSB7CiAgICAgICAgICAgIHF1ZXJpZXMuYWRkKG5hbWUg\nKyAiIDw+IENVUlJFTlRfVElNRVNUQU1QIik7CiAgICAgICAgfQoKICAgICAg\nICAvLyByZWxhdGlvbiBpcyBhbiBlbnRpdHkgLi4uIGFkZCBhbGwgdGhlIHJl\nbGF0aW9ucwogICAgICAgIGlmIChpbXBscy5jb250YWluc0tleSh0eXBlKSB8\nfCBpbXBscy5jb250YWluc1ZhbHVlKHR5cGUpKSB7CiAgICAgICAgICAgIGZv\nciAoUHJvcGVydHlEZXNjcmlwdG9yIGRlc2MgOgogICAgICAgICAgICAgICAg\nSW50cm9zcGVjdG9yLmdldEJlYW5JbmZvKHR5cGUpLmdldFByb3BlcnR5RGVz\nY3JpcHRvcnMoKSkgewoKICAgICAgICAgICAgICAgIGlmIChkZXNjLmdldFdy\naXRlTWV0aG9kKCkgPT0gbnVsbCkgLy8gaWdub3JlIHJlYWQtb25seQogICAg\nICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgICAgIC8v\nIHByZXZlbnQgcmVjdXJzaW9uCiAgICAgICAgICAgICAgICBpZiAobmFtZS5l\nbmRzV2l0aCgiLiIgKyBkZXNjLmdldE5hbWUoKSArICIuIikpCiAgICAgICAg\nICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICAgICAgZ2V0QmFz\naWNRdWVyaWVzKHF1ZXJpZXMsIGRlc2MsIG5hbWUgKyAiLiIpOwogICAgICAg\nICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHZvaWQgY2hlY2tNb2RlbCgp\nIHsKICAgICAgICB0cnkgewogICAgICAgICAgICB2ZXJpZnlNb2RlbCgpOwog\nICAgICAgIH0gY2F0Y2ggKEFzc2VydGlvbkZhaWxlZEVycm9yIGUpIHsKICAg\nICAgICAgICAgLy8gY2xlYXIgYWxsIGV4aXN0aW5nIGluc3RhbmNlcwogICAg\nICAgICAgICBjbGVhcihlbWYsIGltcGxzLnZhbHVlcygpLnRvQXJyYXkobmV3\nIENsYXNzW2ltcGxzLnNpemUoKV0pKTsKCiAgICAgICAgICAgIC8vIHNpbmNl\nIHRoZSBmYWN0b3J5IG1ldGhvZCBuZWVkcyB0byBiZSBzdGF0aWMsIHdlIG5l\nZWQgdG8gc3RvcmUKICAgICAgICAgICAgLy8gdGhlIGNsYXNzZXMgc3RhdGlj\nYWxseQogICAgICAgICAgICBmYWN0b3J5Q2xhc3NlcyA9IGltcGxzOwogICAg\nICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZmluYWwgTGlzdDxFeGNl\ncHRpb24+IGV4Y2VwdGlvbnMgPSBuZXcgTGlua2VkTGlzdDxFeGNlcHRpb24+\nKCk7CiAgICAgICAgICAgICAgICBYTUxEZWNvZGVyIGRlY29kZXIgPSBuZXcg\nWE1MRGVjb2RlcihDb21wYW55TW9kZWxUZXN0LmNsYXNzLgogICAgICAgICAg\nICAgICAgICAgIGdldFJlc291cmNlQXNTdHJlYW0oImNvbXBhbmllcy54bWwi\nKSk7CiAgICAgICAgICAgICAgICBkZWNvZGVyLnNldEV4Y2VwdGlvbkxpc3Rl\nbmVyKG5ldyBFeGNlcHRpb25MaXN0ZW5lcigpIHsKICAgICAgICAgICAgICAg\nICAgICBwdWJsaWMgdm9pZCBleGNlcHRpb25UaHJvd24oRXhjZXB0aW9uIGUp\nIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0aW9ucy5hZGQoZSk7\nCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAg\nICAgICAgICAgICAgICBDb2xsZWN0aW9uIG9icyA9IChDb2xsZWN0aW9uKSBk\nZWNvZGVyLnJlYWRPYmplY3QoKTsKCiAgICAgICAgICAgICAgICBpZiAoZXhj\nZXB0aW9ucy5zaXplKCkgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhy\nb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbihleGNlcHRpb25zLmdldCgw\nKSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXNzZXJ0\nTm90TnVsbChvYnMpOwoKICAgICAgICAgICAgICAgIHBlcnNpc3Qob2JzLnRv\nQXJyYXkoKSk7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAg\nICAgICBmYWN0b3J5Q2xhc3NlcyA9IG51bGw7CiAgICAgICAgICAgIH0KICAg\nICAgICB9CgogICAgICAgIHZlcmlmeU1vZGVsKCk7CiAgICB9CgogICAgaW50\nIHF1ZXJ5Q291bnQoQ2xhc3MgYywgU3RyaW5nIHF1ZXJ5LCBPYmplY3QuLi4g\ncGFyYW1zKSB7CiAgICAgICAgcmV0dXJuIGZpbmQoYywgcXVlcnksIHBhcmFt\ncykuc2l6ZSgpOwogICAgfQoKICAgIGludCBxdWVyeUNvdW50KENsYXNzIGMp\nIHsKICAgICAgICByZXR1cm4gZmluZChjLCBudWxsKS5zaXplKCk7CiAgICB9\nCgogICAgQ2xhc3MgaW1wbChDbGFzcyBjKSB7CiAgICAgICAgcmV0dXJuIGlt\ncGxzLmdldChjKTsKICAgIH0KCiAgICB2b2lkIHZlcmlmeU1vZGVsKCkgewog\nICAgICAgIGFzc2VydEVxdWFscygyLCBxdWVyeUNvdW50KGltcGwoSUNvbXBh\nbnkuY2xhc3MpKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDExLCBxdWVyeUNv\ndW50KGltcGwoSUFkZHJlc3MuY2xhc3MpKSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDMsIHF1ZXJ5Q291bnQoaW1wbChJUHJvZHVjdC5jbGFzcykpKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoMiwgcXVlcnlDb3VudChpbXBsKElQcm9kdWN0\nT3JkZXIuY2xhc3MpKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHF1ZXJ5\nQ291bnQoaW1wbChJTGluZUl0ZW0uY2xhc3MpKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEsIHF1ZXJ5Q291bnQoaW1wbChJUGFydFRpbWVFbXBsb3llZS5j\nbGFzcykpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMywgcXVlcnlDb3VudChp\nbXBsKElGdWxsVGltZUVtcGxveWVlLmNsYXNzKSkpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyg0LCBxdWVyeUNvdW50KGltcGwoSUN1c3RvbWVyLmNsYXNzKSkp\nOwoKICAgICAgICBhc3NlcnRFcXVhbHMoMywgcXVlcnlDb3VudChpbXBsKElB\nZGRyZXNzLmNsYXNzKSwKICAgICAgICAgICAgIndoZXJlIHguc3RhdGUgPSAn\nQ0EnIikpOwoKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgcXVlcnlDb3VudChp\nbXBsKElDb21wYW55LmNsYXNzKSwKICAgICAgICAgICAgIndoZXJlIHNpemUo\neC5lbXBsb3llZXMpID0gNCIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwg\ncXVlcnlDb3VudChpbXBsKElDb21wYW55LmNsYXNzKSwKICAgICAgICAgICAg\nIndoZXJlIHNpemUoeC5lbXBsb3llZXMpID0gMCIpKTsKCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDIsIHF1ZXJ5Q291bnQoaW1wbChJQ3VzdG9tZXIuY2xhc3Mp\nLAogICAgICAgICAgICAid2hlcmUgc2l6ZSh4Lm9yZGVycykgPSAxIikpOwoK\nICAgICAgICBhc3NlcnRFcXVhbHMoMSwgcXVlcnlDb3VudChpbXBsKElQcm9k\ndWN0T3JkZXIuY2xhc3MpLAogICAgICAgICAgICAid2hlcmUgeC5zaGlwcGVk\nRGF0ZSBpcyBudWxsIikpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBxdWVy\neUNvdW50KGltcGwoSVByb2R1Y3RPcmRlci5jbGFzcyksCiAgICAgICAgICAg\nICJ3aGVyZSB4LnNoaXBwZWREYXRlIGlzIG5vdCBudWxsIikpOwoKICAgICAg\nICBhc3NlcnRFcXVhbHMoMSwgcXVlcnlDb3VudChpbXBsKElFbXBsb3llZS5j\nbGFzcyksCiAgICAgICAgICAgICJ3aGVyZSB4Lm1hbmFnZXIgaXMgbnVsbCIp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMiwgcXVlcnlDb3VudChpbXBsKElF\nbXBsb3llZS5jbGFzcyksCiAgICAgICAgICAgICJ3aGVyZSB4Lm1hbmFnZXIu\nbWFuYWdlciBpcyBudWxsIikpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBx\ndWVyeUNvdW50KGltcGwoSUVtcGxveWVlLmNsYXNzKSwKICAgICAgICAgICAg\nIndoZXJlIHgubWFuYWdlci5tYW5hZ2VyLm1hbmFnZXIgaXMgbnVsbCIpKTsK\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHF1ZXJ5Q291bnQoaW1wbChJUGVy\nc29uLmNsYXNzKSwKICAgICAgICAgICAgIndoZXJlIHguZmlyc3ROYW1lIGxp\na2UgPzEgYW5kIHgubGFzdE5hbWUgbGlrZSA/MSIsICJNJSIpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoMSwgcXVlcnlDb3VudChpbXBsKElQZXJzb24uY2xh\nc3MpLAogICAgICAgICAgICAid2hlcmUgeC5ob21lQWRkcmVzcy5zdGF0ZSA9\nICdDQSciKSk7CiAgICB9CgogICAgLyoqIAogICAgICogRmFjdG9yeSBtZXRo\nb2QgdGhhdCBpcyBjYWxsZWQgZnJvbSB0aGUgc2VyaWFsaXplZCBYTUwuIAog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIE9iamVjdCBjcmVhdGUoQ2xhc3Mg\naW50ZikKICAgICAgICB0aHJvd3MgSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiwg\nSWxsZWdhbEFjY2Vzc0V4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGZhY3Rv\ncnlDbGFzc2VzLmdldChpbnRmKS5uZXdJbnN0YW5jZSgpOwogICAgfQp9Cgo=\n","encoding":"base64"}

