{"sha":"dc6409993e9124e79681a126729a159ca4a0cb97","node_id":"MDQ6QmxvYjIwNjM2NDpkYzY0MDk5OTNlOTEyNGU3OTY4MWExMjY3MjlhMTU5Y2E0YTBjYjk3","size":3654,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/dc6409993e9124e79681a126729a159ca4a0cb97","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nUXVlcnk7CgppbXBvcnQganVuaXQudGV4dHVpLlRlc3RSdW5uZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3Qu\nU2luZ2xlRU1GVGVzdENhc2U7CgovKioKICogVGVzdCB0aGF0IHdlIGNhbiBl\neGNsdWRlIHN1YmNsYXNzIGluc3RhbmNlcyBmcm9tIHF1ZXJ5IHJlc3VsdHMu\nCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgVGVz\ndFF1ZXJ5RXhjbHVkaW5nU3ViY2xhc3NlcwogICAgZXh0ZW5kcyBTaW5nbGVF\nTUZUZXN0Q2FzZSB7CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAg\nICAgc2V0VXAoTWFueU9uZUVudGl0eS5jbGFzcywgTWFueU9uZUVudGl0eVN1\nYi5jbGFzcyk7CgogICAgICAgIE1hbnlPbmVFbnRpdHkgZTEgPSBuZXcgTWFu\neU9uZUVudGl0eSgpOwogICAgICAgIGUxLnNldE5hbWUoImUxIik7IAogICAg\nICAgIE1hbnlPbmVFbnRpdHkgZTIgPSBuZXcgTWFueU9uZUVudGl0eSgpOwog\nICAgICAgIGUyLnNldE5hbWUoImUyIik7IAogICAgICAgIE1hbnlPbmVFbnRp\ndHkgaW52YWxpZCA9IG5ldyBNYW55T25lRW50aXR5KCk7CiAgICAgICAgaW52\nYWxpZC5zZXROYW1lKCJpbnZhbGlkIik7IAogICAgICAgIE1hbnlPbmVFbnRp\ndHlTdWIgZXN1YjEgPSBuZXcgTWFueU9uZUVudGl0eVN1YigpOwogICAgICAg\nIGVzdWIxLnNldE5hbWUoImVzdWIxIik7IAogICAgICAgIE1hbnlPbmVFbnRp\ndHlTdWIgZXN1YjIgPSBuZXcgTWFueU9uZUVudGl0eVN1YigpOwogICAgICAg\nIGVzdWIyLnNldE5hbWUoImVzdWIyIik7IAogICAgICAgIE1hbnlPbmVFbnRp\ndHlTdWIgaW52YWxpZHN1YiA9IG5ldyBNYW55T25lRW50aXR5U3ViKCk7CiAg\nICAgICAgaW52YWxpZHN1Yi5zZXROYW1lKCJpbnZhbGlkc3ViIik7IAoKICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFn\nZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAg\nICAgICAgZW0ucGVyc2lzdChlMSk7CiAgICAgICAgZW0ucGVyc2lzdChlMik7\nCiAgICAgICAgZW0ucGVyc2lzdChpbnZhbGlkKTsKICAgICAgICBlbS5wZXJz\naXN0KGVzdWIxKTsKICAgICAgICBlbS5wZXJzaXN0KGVzdWIyKTsKICAgICAg\nICBlbS5wZXJzaXN0KGludmFsaWRzdWIpOwogICAgICAgIGVtLmdldFRyYW5z\nYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0UXVlcnkoKSB7CiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAg\nICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3QgZSBmcm9tIE1h\nbnlPbmVFbnRpdHkgZSAiCiAgICAgICAgICAgICsgIndoZXJlIGUubmFtZSBs\naWtlICdlJScgb3JkZXIgYnkgZS5uYW1lIGFzYyIpOwogICAgICAgIExpc3Q8\nTWFueU9uZUVudGl0eT4gcmVzID0gKExpc3Q8TWFueU9uZUVudGl0eT4pIHEu\nZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscyg0LCByZXMu\nc2l6ZSgpKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDI7IGkrKykg\newogICAgICAgICAgICBhc3NlcnRFcXVhbHMoTWFueU9uZUVudGl0eS5jbGFz\ncywgcmVzLmdldChpKS5nZXRDbGFzcygpKTsKICAgICAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJlIiArIChpICsgMSksIHJlcy5nZXQoaSkuZ2V0TmFtZSgpKTsK\nICAgICAgICB9CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAyOyBpKysp\nIHsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKE1hbnlPbmVFbnRpdHlTdWIu\nY2xhc3MsIHJlcy5nZXQoaSArIDIpLmdldENsYXNzKCkpOwogICAgICAgICAg\nICBhc3NlcnRFcXVhbHMoImVzdWIiICsgKGkgKyAxKSwgcmVzLmdldChpICsg\nMikuZ2V0TmFtZSgpKTsKICAgICAgICB9CiAgICAgICAgZW0uY2xvc2UoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0UXVlcnlFeGNsdWRpbmdTdWJj\nbGFzc2VzKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3Jl\nYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVh\ndGVRdWVyeSgic2VsZWN0IGUgZnJvbSBNYW55T25lRW50aXR5IGUgIgogICAg\nICAgICAgICArICJ3aGVyZSBlLm5hbWUgbGlrZSAnZSUnIG9yZGVyIGJ5IGUu\nbmFtZSBhc2MiKTsKICAgICAgICAoKE9wZW5KUEFRdWVyeSkgcSkuc2V0U3Vi\nY2xhc3NlcyhmYWxzZSk7CiAgICAgICAgTGlzdDxNYW55T25lRW50aXR5PiBy\nZXMgPSAoTGlzdDxNYW55T25lRW50aXR5PikgcS5nZXRSZXN1bHRMaXN0KCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlcy5zaXplKCkpOwogICAgICAg\nIGZvciAoaW50IGkgPSAwOyBpIDwgcmVzLnNpemUoKTsgaSsrKSB7CiAgICAg\nICAgICAgIGFzc2VydEVxdWFscyhNYW55T25lRW50aXR5LmNsYXNzLCByZXMu\nZ2V0KGkpLmdldENsYXNzKCkpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMo\nImUiICsgKGkgKyAxKSwgcmVzLmdldChpKS5nZXROYW1lKCkpOwogICAgICAg\nIH0KICAgICAgICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0\naWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBUZXN0UnVu\nbmVyLnJ1bihUZXN0UXVlcnlFeGNsdWRpbmdTdWJjbGFzc2VzLmNsYXNzKTsK\nICAgIH0KfQoK\n","encoding":"base64"}

