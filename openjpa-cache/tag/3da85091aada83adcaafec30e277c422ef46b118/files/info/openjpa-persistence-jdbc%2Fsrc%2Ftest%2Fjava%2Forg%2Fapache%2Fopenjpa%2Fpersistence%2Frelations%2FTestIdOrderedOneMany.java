{"sha":"cabda4d15262199e23a15b904807a299c3d9863f","node_id":"MDQ6QmxvYjIwNjM2NDpjYWJkYTRkMTUyNjIxOTllMjNhMTViOTA0ODA3YTI5OWMzZDk4NjNm","size":3588,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cabda4d15262199e23a15b904807a299c3d9863f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucmVsYXRp\nb25zOwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7\nCgppbXBvcnQganVuaXQudGV4dHVpLlRlc3RSdW5uZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TaW5nbGVFTUZUZXN0\nQ2FzZTsKCi8qKgogKiBUZXN0IG9yZGVyaW5nIGEgb25lLW1hbnkgZmllbGQg\nb24gdGhlIHByaW1hcnkga2V5IG9mIHRoZSByZWxhdGVkIGVudGl0eS4KICoK\nICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBUZXN0SWRP\ncmRlcmVkT25lTWFueQogICAgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7\nCgogICAgcHJpdmF0ZSBsb25nIGlkOwoKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgewogICAgICAgIHNldFVwKElkT3JkZXJlZE9uZU1hbnlQYXJlbnQuY2xh\nc3MsIElkT3JkZXJlZE9uZU1hbnlDaGlsZC5jbGFzcyk7CgogICAgICAgIEVu\ndGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKCiAgICAgICAg\nSWRPcmRlcmVkT25lTWFueVBhcmVudCBwYXJlbnQgPSBuZXcgSWRPcmRlcmVk\nT25lTWFueVBhcmVudCgpOwogICAgICAgIHBhcmVudC5zZXROYW1lKCJwYXJl\nbnQiKTsKICAgICAgICBlbS5wZXJzaXN0KHBhcmVudCk7CgogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgICAgIElkT3Jk\nZXJlZE9uZU1hbnlDaGlsZCBleHBsaWNpdCA9IG5ldyBJZE9yZGVyZWRPbmVN\nYW55Q2hpbGQoKTsKICAgICAgICAgICAgZXhwbGljaXQuc2V0SWQoMyAtIGkp\nOwogICAgICAgICAgICBleHBsaWNpdC5zZXROYW1lKCJleHBsaWNpdCIgKyBl\neHBsaWNpdC5nZXRJZCgpKTsKICAgICAgICAgICAgZXhwbGljaXQuc2V0RXhw\nbGljaXRQYXJlbnQocGFyZW50KTsKICAgICAgICAgICAgcGFyZW50LmdldEV4\ncGxpY2l0Q2hpbGRyZW4oKS5hZGQoZXhwbGljaXQpOwogICAgICAgICAgICBl\nbS5wZXJzaXN0KGV4cGxpY2l0KTsKCiAgICAgICAgICAgIElkT3JkZXJlZE9u\nZU1hbnlDaGlsZCBpbXBsaWNpdCA9IG5ldyBJZE9yZGVyZWRPbmVNYW55Q2hp\nbGQoKTsKICAgICAgICAgICAgaW1wbGljaXQuc2V0SWQoMTAwIC0gaSk7CiAg\nICAgICAgICAgIGltcGxpY2l0LnNldE5hbWUoImltcGxpY2l0IiArIGltcGxp\nY2l0LmdldElkKCkpOwogICAgICAgICAgICBpbXBsaWNpdC5zZXRJbXBsaWNp\ndFBhcmVudChwYXJlbnQpOwogICAgICAgICAgICBwYXJlbnQuZ2V0SW1wbGlj\naXRDaGlsZHJlbigpLmFkZChpbXBsaWNpdCk7CiAgICAgICAgICAgIGVtLnBl\ncnNpc3QoaW1wbGljaXQpOwogICAgICAgIH0KCiAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBpZCA9IHBhcmVudC5nZXRJ\nZCgpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdEV4cGxpY2l0T3JkZXJpbmcoKSB7CiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nSWRPcmRlcmVkT25lTWFueVBhcmVudCBwYXJlbnQgPSBlbS5maW5kKElkT3Jk\nZXJlZE9uZU1hbnlQYXJlbnQuY2xhc3MsIAogICAgICAgICAgICBpZCk7CiAg\nICAgICAgYXNzZXJ0Tm90TnVsbChwYXJlbnQpOwogICAgICAgIGFzc2VydEVx\ndWFscygicGFyZW50IiwgcGFyZW50LmdldE5hbWUoKSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDMsIHBhcmVudC5nZXRFeHBsaWNpdENoaWxkcmVuKCkuc2l6\nZSgpKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDM7IGkrKykgewog\nICAgICAgICAgICBhc3NlcnRFcXVhbHMoaSArIDEsIHBhcmVudC5nZXRFeHBs\naWNpdENoaWxkcmVuKCkuZ2V0KGkpLmdldElkKCkpOwogICAgICAgICAgICBh\nc3NlcnRFcXVhbHMoImV4cGxpY2l0IiArIChpICsgMSksIHBhcmVudC5nZXRF\neHBsaWNpdENoaWxkcmVuKCkuCiAgICAgICAgICAgICAgICBnZXQoaSkuZ2V0\nTmFtZSgpKTsKICAgICAgICB9CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW1wbGljaXRPcmRlcmluZygpIHsKICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFn\nZXIoKTsKICAgICAgICBJZE9yZGVyZWRPbmVNYW55UGFyZW50IHBhcmVudCA9\nIGVtLmZpbmQoSWRPcmRlcmVkT25lTWFueVBhcmVudC5jbGFzcywgCiAgICAg\nICAgICAgIGlkKTsKICAgICAgICBhc3NlcnROb3ROdWxsKHBhcmVudCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJwYXJlbnQiLCBwYXJlbnQuZ2V0TmFtZSgp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMywgcGFyZW50LmdldEV4cGxpY2l0\nQ2hpbGRyZW4oKS5zaXplKCkpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgMzsgaSsrKSB7CiAgICAgICAgICAgIGFzc2VydEVxdWFscyhpICsgOTgs\nIHBhcmVudC5nZXRJbXBsaWNpdENoaWxkcmVuKCkuZ2V0KGkpLmdldElkKCkp\nOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoImltcGxpY2l0IiArIChpICsg\nOTgpLCBwYXJlbnQuZ2V0SW1wbGljaXRDaGlsZHJlbigpLgogICAgICAgICAg\nICAgICAgZ2V0KGkpLmdldE5hbWUoKSk7CiAgICAgICAgfQogICAgICAgIGVt\nLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4o\nU3RyaW5nW10gYXJncykgewogICAgICAgIFRlc3RSdW5uZXIucnVuKFRlc3RJ\nZE9yZGVyZWRPbmVNYW55LmNsYXNzKTsKICAgIH0KfQoK\n","encoding":"base64"}

