{"sha":"d9a58cf130a3c1d7e9a3029e6df7073c8a0a1096","node_id":"MDQ6QmxvYjIwNjM2NDpkOWE1OGNmMTMwYTNjMWQ3ZTlhMzAyOWU2ZGY3MDczYzhhMGExMDk2","size":6515,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d9a58cf130a3c1d7e9a3029e6df7073c8a0a1096","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSByZWxhdGlvbnM7CgppbXBvcnQgamF2YS51dGlsLio7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS4qOwoKLy8gaW1wb3J0IHRoZSBlbnVtcyBm\nb3IgTUFMRSBhbmQgRkVNQUxFCmltcG9ydCBzdGF0aWMgcmVsYXRpb25zLkRl\naXR5LkdlbmRlci4qOwoKCi8qKiAKICogQSB2ZXJ5IHNpbXBsZSwgc3RhbmQt\nYWxvbmUgcHJvZ3JhbSB0aGF0IHN0b3JlcyBhIG5ldyBlbnRpdHkgaW4gdGhl\nCiAqIGRhdGFiYXNlIGFuZCB0aGVuIHBlcmZvcm1zIGEgcXVlcnkgdG8gcmV0\ncmlldmUgaXQuCiAqLwpwdWJsaWMgY2xhc3MgTWFpbiB7CgogICAgQFN1cHBy\nZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCiAgICBwdWJsaWMgc3RhdGljIHZv\naWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgLy8gQ3JlYXRlIGEg\nbmV3IEVudGl0eU1hbmFnZXJGYWN0b3J5IHVzaW5nIHRoZSBTeXN0ZW0gcHJv\ncGVydGllcy4KICAgICAgICAvLyBUaGUgInJlbGF0aW9ucyIgbmFtZSB3aWxs\nIGJlIHVzZWQgdG8gY29uZmlndXJlIGJhc2VkIG9uIHRoZQogICAgICAgIC8v\nIGNvcnJlc3BvbmRpbmcgbmFtZSBpbiB0aGUgTUVUQS1JTkYvcGVyc2lzdGVu\nY2UueG1sIGZpbGUKICAgICAgICBFbnRpdHlNYW5hZ2VyRmFjdG9yeSBmYWN0\nb3J5ID0gUGVyc2lzdGVuY2UuCiAgICAgICAgICAgIGNyZWF0ZUVudGl0eU1h\nbmFnZXJGYWN0b3J5KCJyZWxhdGlvbnMiLCBTeXN0ZW0uZ2V0UHJvcGVydGll\ncygpKTsKCiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IEVudGl0eU1hbmFnZXIg\nZnJvbSB0aGUgRW50aXR5TWFuYWdlckZhY3RvcnkuIFRoZQogICAgICAgIC8v\nIEVudGl0eU1hbmFnZXIgaXMgdGhlIG1haW4gb2JqZWN0IGluIHRoZSBwZXJz\naXN0ZW5jZSBBUEksIGFuZCBpcwogICAgICAgIC8vIHVzZWQgdG8gY3JlYXRl\nLCBkZWxldGUsIGFuZCBxdWVyeSBvYmplY3RzLCBhcyB3ZWxsIGFzIGFjY2Vz\ncwogICAgICAgIC8vIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uCiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGZhY3RvcnkuY3JlYXRlRW50aXR5TWFuYWdl\ncigpOwoKICAgICAgICBpbml0RmFtaWx5VHJlZShlbSk7CgogICAgICAgIHJ1\nblF1ZXJpZXMoZW0pOwoKICAgICAgICAvLyBJdCBpcyBhbHdheXMgZ29vZCB0\nbyBjbGVhbiB1cCBhZnRlciBvdXJzZWx2ZXMKICAgICAgICBlbS5jbG9zZSgp\nOwogICAgICAgIGZhY3RvcnkuY2xvc2UoKTsKICAgIH0KCiAgICAvKiogCiAg\nICAgKiBDcmVhdGVzIGEgcGFydGlhbCBmYW1pbHkgdHJlZSBvZiB0aGUgR3Jl\nZWsgZGlldGllcy4KICAgICAqICAKICAgICAqIEBwYXJhbSAgZW0gIHRoZSBF\nbnRpdHlNYW5hZ2VyIHRvIHVzZSBpbiB0aGUgcGVyc2lzdGVuY2UgcHJvY2Vz\ncwogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5pdEZhbWlseVRy\nZWUoRW50aXR5TWFuYWdlciBlbSkgewoKICAgICAgICAvLyBGaXJzdCBkZWxl\ndGUgYWxsIHRoZSBtZW1iZXJzIGZyb20gdGhlIGRhdGFiYXNlIHRoZSBjbGVh\nbiB1cAogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAg\nICAgICBlbS5jcmVhdGVRdWVyeSgiZGVsZXRlIGZyb20gRGVpdHkiKS5leGVj\ndXRlVXBkYXRlKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21t\naXQoKTsKCiAgICAgICAgLy8gR2VuZXJhdGlvbiAxCiAgICAgICAgRGVpdHkg\ndXJhbnVzID0gbmV3IERlaXR5KCJVcmFudXMiLCBNQUxFKTsKICAgICAgICBE\nZWl0eSBnYWVhID0gbmV3IERlaXR5KCJHYWVhIiwgRkVNQUxFKTsKCiAgICAg\nICAgLy8gR2VuZXJhdGlvbiAyCiAgICAgICAgRGVpdHkgY3JvbnVzID0gZ2Fl\nYS5naXZlQmlydGgoIkNyb251cyIsIHVyYW51cywgTUFMRSk7CiAgICAgICAg\nRGVpdHkgcmhlYSA9IGdhZWEuZ2l2ZUJpcnRoKCJSaGVhIiwgdXJhbnVzLCBG\nRU1BTEUpOwogICAgICAgIERlaXR5IGNvZXVzID0gZ2FlYS5naXZlQmlydGgo\nIkNvZXVzIiwgdXJhbnVzLCBNQUxFKTsKICAgICAgICBEZWl0eSBwaG9lYmUg\nID0gZ2FlYS5naXZlQmlydGgoIlBob2ViZSIsIHVyYW51cywgRkVNQUxFKTsK\nICAgICAgICBEZWl0eSBvY2VhbnVzID0gZ2FlYS5naXZlQmlydGgoIk9jZWFu\ndXMiLCB1cmFudXMsIE1BTEUpOwogICAgICAgIERlaXR5IHRldGh5cyA9IGdh\nZWEuZ2l2ZUJpcnRoKCJUZXRoeXMiLCB1cmFudXMsIEZFTUFMRSk7CgogICAg\nICAgIC8vIEdlbmVyYXRpb24gMwogICAgICAgIERlaXR5IGxldG8gPSBwaG9l\nYmUuZ2l2ZUJpcnRoKCJMZXRvIiwgY29ldXMsIEZFTUFMRSk7CgogICAgICAg\nIERlaXR5IGhlc3RpYSA9IHJoZWEuZ2l2ZUJpcnRoKCJIZXN0aWEiLCBjcm9u\ndXMsIEZFTUFMRSk7CiAgICAgICAgRGVpdHkgcGx1dG8gPSByaGVhLmdpdmVC\naXJ0aCgiUGx1dG8iLCBjcm9udXMsIE1BTEUpOwogICAgICAgIERlaXR5IHBv\nc2VpZG9uID0gcmhlYS5naXZlQmlydGgoIlBvc2VpZG9uIiwgY3JvbnVzLCBN\nQUxFKTsKICAgICAgICBEZWl0eSB6ZXVzID0gcmhlYS5naXZlQmlydGgoIlpl\ndXMiLCBjcm9udXMsIE1BTEUpOwogICAgICAgIERlaXR5IGhlcmEgPSByaGVh\nLmdpdmVCaXJ0aCgiSGVyYSIsIGNyb251cywgRkVNQUxFKTsKICAgICAgICBE\nZWl0eSBkZW1ldGVyID0gcmhlYS5naXZlQmlydGgoIkRlbWV0ZXIiLCBjcm9u\ndXMsIEZFTUFMRSk7CgogICAgICAgIC8vIEdlbmVyYXRpb24gNAogICAgICAg\nIERlaXR5IGlhcGV0dXMgPSB0ZXRoeXMuZ2l2ZUJpcnRoKCJJYXBldHVzIiwg\nY29ldXMsIE1BTEUpOwogICAgICAgIERlaXR5IGNseW1lbmUgPSBuZXcgRGVp\ndHkoIkNseW1lbmUiLCBGRU1BTEUpOwoKICAgICAgICBEZWl0eSBhcG9sbG8g\nPSBsZXRvLmdpdmVCaXJ0aCgiQXBvbGxvIiwgemV1cywgTUFMRSk7CiAgICAg\nICAgRGVpdHkgYXJ0ZW1pcyA9IGxldG8uZ2l2ZUJpcnRoKCJBcnRlbWlzIiwg\nemV1cywgTUFMRSk7CgogICAgICAgIERlaXR5IHBlcnNlcGhvbmUgPSBkZW1l\ndGVyLmdpdmVCaXJ0aCgiUGVyc2VwaG9uZSIsIHpldXMsIE1BTEUpOwoKICAg\nICAgICBEZWl0eSBhcmVzID0gaGVyYS5naXZlQmlydGgoIkFyZXMiLCB6ZXVz\nLCBNQUxFKTsKICAgICAgICBEZWl0eSBoZWJlID0gaGVyYS5naXZlQmlydGgo\nIkhlYmUiLCB6ZXVzLCBGRU1BTEUpOwogICAgICAgIERlaXR5IGhlcGhhZXN0\ndXMgPSBoZXJhLmdpdmVCaXJ0aCgiSGVwaGFlc3R1cyIsIHpldXMsIE1BTEUp\nOwoKICAgICAgICBEZWl0eSBwcm9tZXRoZXVzID0gY2x5bWVuZS5naXZlQmly\ndGgoIlByb21ldGhldXMiLCBpYXBldHVzLCBNQUxFKTsKICAgICAgICBEZWl0\neSBhdGxhcyA9IGNseW1lbmUuZ2l2ZUJpcnRoKCJBdGxhcyIsIGlhcGV0dXMs\nIE1BTEUpOwogICAgICAgIERlaXR5IGVwaW1ldGhldXMgPSBjbHltZW5lLmdp\ndmVCaXJ0aCgiRXBpbWV0aGV1cyIsIGlhcGV0dXMsIEZFTUFMRSk7CgogICAg\nICAgIERlaXR5IGRpb25lID0gbmV3IERlaXR5KCJEaW9uZSIsIEZFTUFMRSk7\nCiAgICAgICAgZGlvbmUuZ2l2ZUJpcnRoKCJBcGhyb2RpdGUiLCB6ZXVzLCBG\nRU1BTEUpOwoKICAgICAgICAvLyBCZWdpbiBhIG5ldyBsb2NhbCB0cmFuc2Fj\ndGlvbiBzbyB0aGF0IHdlIGNhbiBwZXJzaXN0IGEgbmV3IGVudGl0eQogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKCiAgICAgICAgLy8g\nbm90ZSB0aGF0IHdlIG9ubHkgbmVlZCB0byBleHBsaWNpdGx5IHBlcnNpc3Qg\nYSBzaW5nbGUgcm9vdCBvZiB0aGUKICAgICAgICAvLyBvYmplY3QgZ3JhcGgg\nKHRoZSBmYW1pbHkgdHJlZSwgaW4gdGhpcyBjYXNlKSwgc2luY2Ugd2UgaGF2\nZSB0aGUKICAgICAgICAvLyAiY2FzY2FkZSIgYW5ub3RhdGlvbiBvbiBhbGwg\ndGhlIHJlbGF0aW9ucwogICAgICAgIGVtLnBlcnNpc3QoemV1cyk7CgogICAg\nICAgIC8vIENvbW1pdCB0aGUgdHJhbnNhY3Rpb24sIHdoaWNoIHdpbGwgY2F1\nc2UgdGhlIGVudGl0eSB0bwogICAgICAgIC8vIGJlIHN0b3JlZCBpbiB0aGUg\nZGF0YWJhc2UKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgp\nOwogICAgfQoKICAgIC8qKiAKICAgICAqIFJ1biBzb21lIHNhbXBsZSBxdWVy\naWVzIGFnYWluc3QgdGhlIGZhbWlseSB0cmVlIG1vZGVsLgogICAgICogIAog\nICAgICogQHBhcmFtICBlbSAgdGhlIEVudGl0eU1hbmFnZXIgdG8gdXNlCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBydW5RdWVyaWVzKEVudGl0\neU1hbmFnZXIgZW0pIHsKCiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJS\ndW5uaW5nIHF1ZXJ5IHRvIGZpbmQgYWxsIGluc3RhbmNlcy4uIik7CgogICAg\nICAgIC8vIFBlcmZvcm0gYSBzaW1wbGUgcXVlcnkgZm9yIGFsbCB0aGUgRGVp\ndHkgZW50aXRpZXMKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnko\nInNlbGVjdCB4IGZyb20gRGVpdHkgeCIpOwoKICAgICAgICAvLyBHbyB0aHJv\ndWdoIGVhY2ggb2YgdGhlIGVudGl0aWVzIGFuZCBwcmludCBvdXQgZWFjaCBv\nZiB0aGVpcgogICAgICAgIC8vIG1lc3NhZ2VzLCBhcyB3ZWxsIGFzIHRoZSBk\nYXRlIG9uIHdoaWNoIGl0IHdhcyBjcmVhdGVkIAogICAgICAgIGZvciAoRGVp\ndHkgbSA6IChMaXN0PERlaXR5PikgcS5nZXRSZXN1bHRMaXN0KCkpIHsKICAg\nICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKG0uZ2V0TmFtZSgpKTsKICAg\nICAgICB9CgogICAgICAgIHEgPSBlbS5jcmVhdGVRdWVyeSgic2VsZWN0IHgg\nZnJvbSBEZWl0eSB4ICIKICAgICAgICAgICAgKyAid2hlcmUgeC5mYXRoZXIu\nbmFtZSA9ICdaZXVzJyIpOwoKICAgICAgICBmb3IgKERlaXR5IG0gOiAoTGlz\ndDxEZWl0eT4pIHEuZ2V0UmVzdWx0TGlzdCgpKSB7CiAgICAgICAgICAgIFN5\nc3RlbS5vdXQucHJpbnRsbigiQ2hpbGQgb2YgWmV1czogIiArIG0uZ2V0TmFt\nZSgpKTsKICAgICAgICB9CgogICAgICAgIHEgPSBlbS5jcmVhdGVOYW1lZFF1\nZXJ5KCJzaWJsaW5ncyIpLgogICAgICAgICAgICBzZXRQYXJhbWV0ZXIoMSwg\nZW0uZ2V0UmVmZXJlbmNlKERlaXR5LmNsYXNzLCAiUmhlYSIpKTsKCiAgICAg\nICAgZm9yIChEZWl0eSBtIDogKExpc3Q8RGVpdHk+KSBlbS5jcmVhdGVOYW1l\nZFF1ZXJ5KCJzaWJsaW5ncyIpLgogICAgICAgICAgICBzZXRQYXJhbWV0ZXIo\nMSwgZW0uZ2V0UmVmZXJlbmNlKERlaXR5LmNsYXNzLCAiUmhlYSIpKS4KICAg\nICAgICAgICAgZ2V0UmVzdWx0TGlzdCgpKSB7CiAgICAgICAgICAgIFN5c3Rl\nbS5vdXQucHJpbnRsbigiU2libGluZ3Mgb2YgUmhlYTogIiArIG0uZ2V0TmFt\nZSgpKTsKICAgICAgICB9CgogICAgICAgIGZvciAoRGVpdHkgbSA6IChMaXN0\nPERlaXR5PikgZW0uY3JlYXRlTmFtZWRRdWVyeSgiaGFsZi1zaWJsaW5ncyIp\nLgogICAgICAgICAgICBzZXRQYXJhbWV0ZXIoMSwgZW0uZ2V0UmVmZXJlbmNl\nKERlaXR5LmNsYXNzLCAiQXBvbGxvIikpLgogICAgICAgICAgICBnZXRSZXN1\nbHRMaXN0KCkpIHsKICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJI\nYWxmLXNpYmxpbmdzIG9mIEFwb2xsbzogIiArIG0uZ2V0TmFtZSgpKTsKICAg\nICAgICB9CgogICAgICAgIGZvciAoRGVpdHkgbSA6IChMaXN0PERlaXR5Pikg\nZW0uY3JlYXRlTmFtZWRRdWVyeSgiY291c2lucyIpLgogICAgICAgICAgICBz\nZXRQYXJhbWV0ZXIoMSwgZW0uZ2V0UmVmZXJlbmNlKERlaXR5LmNsYXNzLCAi\nTGV0byIpKS4KICAgICAgICAgICAgZ2V0UmVzdWx0TGlzdCgpKSB7CiAgICAg\nICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiQ291c2lucyBvZiBMZXRvOiAi\nICsgbS5nZXROYW1lKCkpOwogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

