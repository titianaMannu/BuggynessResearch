{"sha":"6706229a59c839b3703266621fa00656953dbe5c","node_id":"MDQ6QmxvYjIwNjM2NDo2NzA2MjI5YTU5YzgzOWIzNzAzMjY2NjIxZmEwMDY1Njk1M2RiZTVj","size":6726,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6706229a59c839b3703266621fa00656953dbe5c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5hbnQ7CgppbXBvcnQg\namF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyOwoKaW1wb3J0IG9yZy5h\ncGFjaGUudG9vbHMuYW50LkJ1aWxkRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFw\nYWNoZS50b29scy5hbnQudHlwZXMuRW51bWVyYXRlZEF0dHJpYnV0ZTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3Vy\nYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mLkpE\nQkNDb25maWd1cmF0aW9uSW1wbDsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLm1ldGEuTWFwcGluZ1Rvb2w7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5zY2hlbWEuU2NoZW1hVG9vbDsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIuYW50LkFic3RyYWN0VGFzazsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uSW1wbDsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5GaWxlczsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5KMkRvUHJpdkhlbHBlcjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5NdWx0aUxvYWRlckNs\nYXNzUmVzb2x2ZXI7CgovKioKICogRXhlY3V0ZXMgdGhlIHtAbGluayBNYXBw\naW5nVG9vbH0gb24gdGhlIHNwZWNpZmllZCBmaWxlcy4KICogVGhpcyB0YXNr\nIGNhbiB0YWtlIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOgogKiA8dWw+CiAq\nIDxsaT48Y29kZT5hY3Rpb248L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPm1l\ndGE8L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPnNjaGVtYUFjdGlvbjwvY29k\nZT48L2xpPgogKiA8bGk+PGNvZGU+ZHJvcFRhYmxlczwvY29kZT48L2xpPgog\nKiA8bGk+PGNvZGU+aWdub3JlRXJyb3JzPC9jb2RlPjwvbGk+CiAqIDxsaT48\nY29kZT5yZWFkU2NoZW1hPC9jb2RlPjwvbGk+CiAqIDxsaT48Y29kZT5wcmlt\nYXJ5S2V5czwvY29kZT48L2xpPgogKiA8bGk+PGNvZGU+Zm9yZWlnbktleXM8\nL2NvZGU+PC9saT4KICogPGxpPjxjb2RlPmluZGV4ZXM8L2NvZGU+PC9saT4K\nICogPGxpPjxjb2RlPmZpbGU8L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPnNj\naGVtYUZpbGU8L2NvZGU+PC9saT4KICogPGxpPjxjb2RlPnNxbEZpbGU8L2Nv\nZGU+PC9saT4KICogPC91bD4gT2YgdGhlc2UgYXJndW1lbnRzLCBvbmx5IDxj\nb2RlPmFjdGlvbjwvY29kZT4gaXMgcmVxdWlyZWQuCiAqLwpwdWJsaWMgY2xh\nc3MgTWFwcGluZ1Rvb2xUYXNrCiAgICBleHRlbmRzIEFic3RyYWN0VGFzayB7\nCgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBM\nb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgIChNYXBwaW5nVG9vbFRhc2su\nY2xhc3MpOwoKICAgIHByb3RlY3RlZCBNYXBwaW5nVG9vbC5GbGFncyBmbGFn\ncyA9IG5ldyBNYXBwaW5nVG9vbC5GbGFncygpOwogICAgcHJvdGVjdGVkIFN0\ncmluZyBmaWxlID0gbnVsbDsKICAgIHByb3RlY3RlZCBTdHJpbmcgc2NoZW1h\nRmlsZSA9IG51bGw7CiAgICBwcm90ZWN0ZWQgU3RyaW5nIHNxbEZpbGUgPSBu\ndWxsOwoKICAgIC8qKgogICAgICogU2V0IHRoZSBlbnVtZXJhdGVkIE1hcHBp\nbmdUb29sIGFjdGlvbiB0eXBlLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBz\nZXRBY3Rpb24oQWN0aW9uIGFjdCkgewogICAgICAgIGZsYWdzLmFjdGlvbiA9\nIGFjdC5nZXRWYWx1ZSgpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRo\nZSBlbnVtZXJhdGVkIFNjaGVtYVRvb2wgYWN0aW9uIHR5cGUuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldFNjaGVtYUFjdGlvbihTY2hlbWFBY3Rpb24g\nYWN0KSB7CiAgICAgICAgZmxhZ3Muc2NoZW1hQWN0aW9uID0gYWN0LmdldFZh\nbHVlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0aGUg\nTWFwcGluZ1Rvb2wgc2hvdWxkIHJlYWQgdGhlIGZ1bGwgc2NoZW1hLgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBzZXRSZWFkU2NoZW1hKGJvb2xlYW4gcmVh\nZFNjaGVtYSkgewogICAgICAgIGZsYWdzLnJlYWRTY2hlbWEgPSByZWFkU2No\nZW1hOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHdoZXRoZXIgd2Ugd2Fu\ndCB0aGUgTWFwcGluZ1Rvb2wgdG8gaWdub3JlIFNRTCBlcnJvcnMuCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHNldElnbm9yZUVycm9ycyhib29sZWFuIGln\nbm9yZUVycm9ycykgewogICAgICAgIGZsYWdzLmlnbm9yZUVycm9ycyA9IGln\nbm9yZUVycm9yczsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB3aGV0aGVy\nIHRoZSBNYXBwaW5nVG9vbCBzaG91bGQgZHJvcCB0YWJsZXMuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldERyb3BUYWJsZXMoYm9vbGVhbiBkcm9wVGFi\nbGVzKSB7CiAgICAgICAgZmxhZ3MuZHJvcFRhYmxlcyA9IGRyb3BUYWJsZXM7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgd2hldGhlciB0byBkcm9wIE9w\nZW5KUEEgdGFibGVzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRPcGVu\nSlBBVGFibGVzKGJvb2xlYW4gb3BlbmpwYVRhYmxlcykgewogICAgICAgIGZs\nYWdzLm9wZW5qcGFUYWJsZXMgPSBvcGVuanBhVGFibGVzOwogICAgfQoKICAg\nIC8qKgogICAgICogU2V0IHdoZXRoZXIgdGhlIE1hcHBpbmdUb29sIHNob3Vs\nZCBkcm9wIHNlcXVlbmNlcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nRHJvcFNlcXVlbmNlcyhib29sZWFuIGRyb3BTZXF1ZW5jZXMpIHsKICAgICAg\nICBmbGFncy5kcm9wU2VxdWVuY2VzID0gZHJvcFNlcXVlbmNlczsKICAgIH0K\nCiAgICAvKioKICAgICAqIFNldCB3aGV0aGVyIHRoZSBNYXBwaW5nVG9vbCBz\naG91bGQgbWFuaXB1bGF0ZSBzZXF1ZW5jZXMuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldFNlcXVlbmNlcyhib29sZWFuIHNlcXVlbmNlcykgewogICAg\nICAgIGZsYWdzLnNlcXVlbmNlcyA9IHNlcXVlbmNlczsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCB3aGV0aGVyIHRvIGdlbmVyYXRlIHByaW1hcnkga2V5\nIGluZm9ybWF0aW9uLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRQcmlt\nYXJ5S2V5cyhib29sZWFuIHBrcykgewogICAgICAgIGZsYWdzLnByaW1hcnlL\nZXlzID0gcGtzOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHdoZXRoZXIg\ndG8gZ2VuZXJhdGUgZm9yZWlnbiBrZXkgaW5mb3JtYXRpb24uCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldEZvcmVpZ25LZXlzKGJvb2xlYW4gZmtzKSB7\nCiAgICAgICAgZmxhZ3MuZm9yZWlnbktleXMgPSBma3M7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTZXQgd2hldGhlciB0byBnZW5lcmF0ZSBpbmRleCBpbmZv\ncm1hdGlvbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0SW5kZXhlcyhi\nb29sZWFuIGlkeHMpIHsKICAgICAgICBmbGFncy5pbmRleGVzID0gaWR4czsK\nICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgb3V0cHV0IGZpbGUgd2Ug\nd2FudCB0aGUgTWFwcGluZ1Rvb2wgdG8gd3JpdGUgdG8uCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldEZpbGUoU3RyaW5nIGZpbGUpIHsKICAgICAgICB0\naGlzLmZpbGUgPSBmaWxlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRo\nZSBvdXRwdXQgZmlsZSBmb3IgYW4gWE1MIHJlcHJlc2VudGF0aW9uIG9mIHRo\nZSBwbGFubmVkIHNjaGVtYS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nU2NoZW1hRmlsZShTdHJpbmcgc2NoZW1hRmlsZSkgewogICAgICAgIHRoaXMu\nc2NoZW1hRmlsZSA9IHNjaGVtYUZpbGU7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBTZXQgdGhlIG91dHB1dCBmaWxlIHdlIHdhbnQgdGhlIE1hcHBpbmdUb29s\nIHRvIHdyaXRlIGEgU1FMIHNjcmlwdCB0by4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgc2V0U1FMRmlsZShTdHJpbmcgc3FsRmlsZSkgewogICAgICAgIHRo\naXMuc3FsRmlsZSA9IHNxbEZpbGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgd2hldGhlciB0aGlzIGFjdGlvbiBhcHBsaWVzIHRvIG1ldGFkYXRhIGFz\nIHdlbGwgYXMgbWFwcGluZ3MuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNl\ndE1ldGEoYm9vbGVhbiBtZXRhKSB7CiAgICAgICAgZmxhZ3MubWV0YSA9IG1l\ndGE7CiAgICB9CgogICAgcHJvdGVjdGVkIENvbmZpZ3VyYXRpb25JbXBsIG5l\nd0NvbmZpZ3VyYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIG5ldyBKREJDQ29u\nZmlndXJhdGlvbkltcGwoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBl\neGVjdXRlT24oU3RyaW5nW10gZmlsZXMpCiAgICAgICAgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgaWYgKE1hcHBpbmdUb29sLkFDVElPTl9JTVBPUlQu\nZXF1YWxzKGZsYWdzLmFjdGlvbikpCiAgICAgICAgICAgIGFzc2VydEZpbGVz\nKGZpbGVzKTsKCiAgICAgICAgQ2xhc3NMb2FkZXIgbG9hZGVyID0gZ2V0Q2xh\nc3NMb2FkZXIoKTsKICAgICAgICBpZiAoZmxhZ3MubWV0YSAmJiBNYXBwaW5n\nVG9vbC5BQ1RJT05fQURELmVxdWFscyhmbGFncy5hY3Rpb24pKQogICAgICAg\nICAgICBmbGFncy5tZXRhRGF0YUZpbGUgPSBGaWxlcy5nZXRGaWxlKGZpbGUs\nIGxvYWRlcik7CiAgICAgICAgZWxzZQogICAgICAgICAgICBmbGFncy5tYXBw\naW5nV3JpdGVyID0gRmlsZXMuZ2V0V3JpdGVyKGZpbGUsIGxvYWRlcik7CiAg\nICAgICAgZmxhZ3Muc2NoZW1hV3JpdGVyID0gRmlsZXMuZ2V0V3JpdGVyKHNj\naGVtYUZpbGUsIGxvYWRlcik7CiAgICAgICAgZmxhZ3Muc3FsV3JpdGVyID0g\nRmlsZXMuZ2V0V3JpdGVyKHNxbEZpbGUsIGxvYWRlcik7CgogICAgICAgIE11\nbHRpTG9hZGVyQ2xhc3NSZXNvbHZlciByZXNvbHZlciA9IG5ldyBNdWx0aUxv\nYWRlckNsYXNzUmVzb2x2ZXIoKTsKICAgICAgICByZXNvbHZlci5hZGRDbGFz\nc0xvYWRlcihsb2FkZXIpOwogICAgICAgIHJlc29sdmVyLmFkZENsYXNzTG9h\nZGVyKChDbGFzc0xvYWRlcikgQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVn\nZWQoCiAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENsYXNzTG9hZGVy\nQWN0aW9uKE1hcHBpbmdUb29sLmNsYXNzKSkpOwogICAgICAgIEpEQkNDb25m\naWd1cmF0aW9uIGNvbmYgPSAoSkRCQ0NvbmZpZ3VyYXRpb24pIGdldENvbmZp\nZ3VyYXRpb24oKTsKICAgICAgICBjb25mLnNldENsYXNzUmVzb2x2ZXIocmVz\nb2x2ZXIpOwoKICAgICAgICBpZiAoIU1hcHBpbmdUb29sLnJ1bihjb25mLCBm\naWxlcywgZmxhZ3MsIGxvYWRlcikpCiAgICAgICAgICAgIHRocm93IG5ldyBC\ndWlsZEV4Y2VwdGlvbihfbG9jLmdldCgiYmFkLWNvbmYiLCAiTWFwcGluZ1Rv\nb2xUYXNrIikKICAgICAgICAgICAgICAgIC5nZXRNZXNzYWdlKCkpOwogICAg\nfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgQWN0aW9uCiAgICAgICAgZXh0\nZW5kcyBFbnVtZXJhdGVkQXR0cmlidXRlIHsKCiAgICAgICAgcHVibGljIFN0\ncmluZ1tdIGdldFZhbHVlcygpIHsKICAgICAgICAgICAgcmV0dXJuIE1hcHBp\nbmdUb29sLkFDVElPTlM7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBz\ndGF0aWMgY2xhc3MgU2NoZW1hQWN0aW9uCiAgICAgICAgZXh0ZW5kcyBFbnVt\nZXJhdGVkQXR0cmlidXRlIHsKCiAgICAgICAgcHVibGljIFN0cmluZ1tdIGdl\ndFZhbHVlcygpIHsKICAgICAgICAgICAgU3RyaW5nW10gYWN0aW9ucyA9IG5l\ndyBTdHJpbmdbU2NoZW1hVG9vbC5BQ1RJT05TLmxlbmd0aCArIDFdOwogICAg\nICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KFNjaGVtYVRvb2wuQUNUSU9OUywg\nMCwgYWN0aW9ucywgMCwKICAgICAgICAgICAgICAgIFNjaGVtYVRvb2wuQUNU\nSU9OUy5sZW5ndGgpOwogICAgICAgICAgICBhY3Rpb25zW2FjdGlvbnMubGVu\nZ3RoIC0gMV0gPSAibm9uZSI7CiAgICAgICAgICAgIHJldHVybiBhY3Rpb25z\nOwogICAgICAgIH0KICAgIH0KfQoK\n","encoding":"base64"}

