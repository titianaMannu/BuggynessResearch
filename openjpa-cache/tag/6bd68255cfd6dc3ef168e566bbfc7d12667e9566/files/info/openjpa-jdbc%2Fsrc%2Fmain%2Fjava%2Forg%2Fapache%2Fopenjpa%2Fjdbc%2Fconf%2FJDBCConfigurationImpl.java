{"sha":"ff6768f54869359d9bfd0a5690d13bd65dd9550e","node_id":"MDQ6QmxvYjIwNjM2NDpmZjY3NjhmNTQ4NjkzNTlkOWJmZDBhNTY5MGQxM2JkNjVkZDk1NTBl","size":32359,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ff6768f54869359d9bfd0a5690d13bd65dd9550e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mOwoKaW1wb3J0\nIGphdmEuc3FsLkNvbm5lY3Rpb247CmltcG9ydCBqYXZhLnNxbC5SZXN1bHRT\nZXQ7CmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsKCmltcG9ydCBvcmcu\nYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5jb25mLk9wZW5KUEFDb25maWd1cmF0aW9uSW1wbDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5FYWdlckZl\ndGNoTW9kZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJu\nZWwuSkRCQ0Jyb2tlckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5rZXJuZWwuTFJTU2l6ZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5rZXJuZWwuUGVzc2ltaXN0aWNMb2NrTWFuYWdlcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5VcGRhdGVNYW5h\nZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5NYXBw\naW5nRGVmYXVsdHM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5t\nZXRhLk1hcHBpbmdSZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc2NoZW1hLkRhdGFTb3VyY2VGYWN0b3J5OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkRyaXZlckRhdGFTb3VyY2U7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuU2NoZW1h\nRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5E\nQkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5z\ncWwuREJEaWN0aW9uYXJ5RmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNxbC5TUUxGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5Ccm9rZXJJbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5TdG9yZUNvbnRleHQ7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLmNvbmYuSW50VmFsdWU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLmNvbmYuT2JqZWN0VmFsdWU7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLmNvbmYuUGx1Z2luVmFsdWU7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuUHJvZHVjdERlcml2YXRpb25zOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLlN0cmluZ0xpc3RW\nYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5TdHJp\nbmdWYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuamRiYy5D\nb25uZWN0aW9uRGVjb3JhdG9yOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmxpYi5qZGJjLkRlY29yYXRpbmdEYXRhU291cmNlOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi5qZGJjLkpEQkNMaXN0ZW5lcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxvZzsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubWV0YS5NZXRhRGF0YUZhY3Rvcnk7CgovKioKICogRGVm\nYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUge0BsaW5rIEpEQkNDb25maWd1\ncmF0aW9ufSBpbnRlcmZhY2UuCiAqCiAqIEBhdXRob3IgTWFyYyBQcnVkJ2hv\nbW1lYXV4CiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3Mg\nSkRCQ0NvbmZpZ3VyYXRpb25JbXBsCiAgICBleHRlbmRzIE9wZW5KUEFDb25m\naWd1cmF0aW9uSW1wbAogICAgaW1wbGVtZW50cyBKREJDQ29uZmlndXJhdGlv\nbiB7CgogICAgcHVibGljIFN0cmluZ1ZhbHVlIHNjaGVtYTsKICAgIHB1Ymxp\nYyBTdHJpbmdMaXN0VmFsdWUgc2NoZW1hczsKICAgIHB1YmxpYyBJbnRWYWx1\nZSB0cmFuc2FjdGlvbklzb2xhdGlvbjsKICAgIHB1YmxpYyBJbnRWYWx1ZSBy\nZXN1bHRTZXRUeXBlOwogICAgcHVibGljIEludFZhbHVlIGZldGNoRGlyZWN0\naW9uOwogICAgcHVibGljIEZldGNoTW9kZVZhbHVlIGVhZ2VyRmV0Y2hNb2Rl\nOwogICAgcHVibGljIEZldGNoTW9kZVZhbHVlIHN1YmNsYXNzRmV0Y2hNb2Rl\nOwogICAgcHVibGljIEludFZhbHVlIGxyc1NpemU7CiAgICBwdWJsaWMgU3Ry\naW5nVmFsdWUgc3luY2hyb25pemVNYXBwaW5nczsKICAgIHB1YmxpYyBPYmpl\nY3RWYWx1ZSBqZGJjTGlzdGVuZXJQbHVnaW5zOwogICAgcHVibGljIE9iamVj\ndFZhbHVlIGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVnaW5zOwogICAgcHVibGlj\nIFBsdWdpblZhbHVlIGRiZGljdGlvbmFyeVBsdWdpbjsKICAgIHB1YmxpYyBP\nYmplY3RWYWx1ZSB1cGRhdGVNYW5hZ2VyUGx1Z2luOwogICAgcHVibGljIE9i\namVjdFZhbHVlIHNjaGVtYUZhY3RvcnlQbHVnaW47CiAgICBwdWJsaWMgT2Jq\nZWN0VmFsdWUgc3FsRmFjdG9yeVBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RW\nYWx1ZSBtYXBwaW5nRGVmYXVsdHNQbHVnaW47CiAgICBwdWJsaWMgUGx1Z2lu\nVmFsdWUgZHJpdmVyRGF0YVNvdXJjZVBsdWdpbjsKICAgIHB1YmxpYyBNYXBw\naW5nRmFjdG9yeVZhbHVlIG1hcHBpbmdGYWN0b3J5UGx1Z2luOwoKICAgIC8v\nIHVzZWQgaW50ZXJuYWxseQogICAgcHJpdmF0ZSBTdHJpbmcgZmlyc3RVc2Vy\nID0gbnVsbDsKICAgIHByaXZhdGUgU3RyaW5nIGZpcnN0UGFzcyA9IG51bGw7\nCiAgICBwcml2YXRlIERlY29yYXRpbmdEYXRhU291cmNlIGRhdGFTb3VyY2Ug\nPSBudWxsOwogICAgcHJpdmF0ZSBEZWNvcmF0aW5nRGF0YVNvdXJjZSBkYXRh\nU291cmNlMiA9IG51bGw7CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IGNvbnN0\ncnVjdG9yLiBBdHRlbXB0cyB0byBsb2FkIGRlZmF1bHQgcHJvcGVydGllcy4K\nICAgICAqLwogICAgcHVibGljIEpEQkNDb25maWd1cmF0aW9uSW1wbCgpIHsK\nICAgICAgICB0aGlzKHRydWUpOwogICAgfQoKICAgIC8qKgogICAgICogQ29u\nc3RydWN0b3IuCiAgICAgKgogICAgICogQHBhcmFtIGxvYWRHbG9iYWxzIHdo\nZXRoZXIgdG8gYXR0ZW1wdCB0byBsb2FkIHRoZSBnbG9iYWwgcHJvcGVydGll\ncwogICAgICovCiAgICBwdWJsaWMgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKGJv\nb2xlYW4gbG9hZEdsb2JhbHMpIHsKICAgICAgICB0aGlzKHRydWUsIGxvYWRH\nbG9iYWxzKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLgog\nICAgICoKICAgICAqIEBwYXJhbSBkZXJpdmF0aW9ucyB3aGV0aGVyIHRvIGFw\ncGx5IHByb2R1Y3QgZGVyaXZhdGlvbnMKICAgICAqIEBwYXJhbSBsb2FkR2xv\nYmFscyB3aGV0aGVyIHRvIGF0dGVtcHQgdG8gbG9hZCB0aGUgZ2xvYmFsIHBy\nb3BlcnRpZXMKICAgICAqLwogICAgcHVibGljIEpEQkNDb25maWd1cmF0aW9u\nSW1wbChib29sZWFuIGRlcml2YXRpb25zLCBib29sZWFuIGxvYWRHbG9iYWxz\nKSB7CiAgICAgICAgc3VwZXIoZmFsc2UsIGZhbHNlKTsKICAgICAgICBTdHJp\nbmdbXSBhbGlhc2VzOwoKICAgICAgICBzY2hlbWEgPSBhZGRTdHJpbmcoImpk\nYmMuU2NoZW1hIik7CiAgICAgICAgc2NoZW1hcyA9IGFkZFN0cmluZ0xpc3Qo\nImpkYmMuU2NoZW1hcyIpOwoKICAgICAgICB0cmFuc2FjdGlvbklzb2xhdGlv\nbiA9IGFkZEludCgiamRiYy5UcmFuc2FjdGlvbklzb2xhdGlvbiIpOwogICAg\nICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW117CiAgICAgICAgICAgICJkZWZh\ndWx0IiwgU3RyaW5nLnZhbHVlT2YoLTEpLAogICAgICAgICAgICAibm9uZSIs\nIFN0cmluZy52YWx1ZU9mKENvbm5lY3Rpb24uVFJBTlNBQ1RJT05fTk9ORSks\nCiAgICAgICAgICAgICJyZWFkLWNvbW1pdHRlZCIsIFN0cmluZy52YWx1ZU9m\nCiAgICAgICAgICAgIChDb25uZWN0aW9uLlRSQU5TQUNUSU9OX1JFQURfQ09N\nTUlUVEVEKSwKICAgICAgICAgICAgInJlYWQtdW5jb21taXR0ZWQiLCBTdHJp\nbmcudmFsdWVPZgogICAgICAgICAgICAoQ29ubmVjdGlvbi5UUkFOU0FDVElP\nTl9SRUFEX1VOQ09NTUlUVEVEKSwKICAgICAgICAgICAgInJlcGVhdGFibGUt\ncmVhZCIsIFN0cmluZy52YWx1ZU9mCiAgICAgICAgICAgIChDb25uZWN0aW9u\nLlRSQU5TQUNUSU9OX1JFUEVBVEFCTEVfUkVBRCksCiAgICAgICAgICAgICJz\nZXJpYWxpemFibGUiLCBTdHJpbmcudmFsdWVPZihDb25uZWN0aW9uLlRSQU5T\nQUNUSU9OX1NFUklBTElaQUJMRSkKICAgICAgICB9OwogICAgICAgIHRyYW5z\nYWN0aW9uSXNvbGF0aW9uLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAg\ndHJhbnNhY3Rpb25Jc29sYXRpb24uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsK\nICAgICAgICB0cmFuc2FjdGlvbklzb2xhdGlvbi5zZXQoLTEpOwogICAgICAg\nIHRyYW5zYWN0aW9uSXNvbGF0aW9uLnNldEFsaWFzTGlzdENvbXByZWhlbnNp\ndmUodHJ1ZSk7CgogICAgICAgIHJlc3VsdFNldFR5cGUgPSBhZGRJbnQoImpk\nYmMuUmVzdWx0U2V0VHlwZSIpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3Ry\naW5nW117CiAgICAgICAgICAgICJmb3J3YXJkLW9ubHkiLCBTdHJpbmcudmFs\ndWVPZihSZXN1bHRTZXQuVFlQRV9GT1JXQVJEX09OTFkpLAogICAgICAgICAg\nICAic2Nyb2xsLXNlbnNpdGl2ZSIsIFN0cmluZy52YWx1ZU9mCiAgICAgICAg\nICAgIChSZXN1bHRTZXQuVFlQRV9TQ1JPTExfU0VOU0lUSVZFKSwKICAgICAg\nICAgICAgInNjcm9sbC1pbnNlbnNpdGl2ZSIsIFN0cmluZy52YWx1ZU9mCiAg\nICAgICAgICAgIChSZXN1bHRTZXQuVFlQRV9TQ1JPTExfSU5TRU5TSVRJVkUp\nLAogICAgICAgIH07CiAgICAgICAgcmVzdWx0U2V0VHlwZS5zZXRBbGlhc2Vz\nKGFsaWFzZXMpOwogICAgICAgIHJlc3VsdFNldFR5cGUuc2V0RGVmYXVsdChh\nbGlhc2VzWzBdKTsKICAgICAgICByZXN1bHRTZXRUeXBlLnNldChSZXN1bHRT\nZXQuVFlQRV9GT1JXQVJEX09OTFkpOwogICAgICAgIHJlc3VsdFNldFR5cGUu\nc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAgZmV0\nY2hEaXJlY3Rpb24gPSBhZGRJbnQoImpkYmMuRmV0Y2hEaXJlY3Rpb24iKTsK\nICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdewogICAgICAgICAgICAi\nZm9yd2FyZCIsIFN0cmluZy52YWx1ZU9mKFJlc3VsdFNldC5GRVRDSF9GT1JX\nQVJEKSwKICAgICAgICAgICAgInJldmVyc2UiLCBTdHJpbmcudmFsdWVPZihS\nZXN1bHRTZXQuRkVUQ0hfUkVWRVJTRSksCiAgICAgICAgICAgICJ1bmtub3du\nIiwgU3RyaW5nLnZhbHVlT2YoUmVzdWx0U2V0LkZFVENIX1VOS05PV04pLAog\nICAgICAgIH07CiAgICAgICAgZmV0Y2hEaXJlY3Rpb24uc2V0QWxpYXNlcyhh\nbGlhc2VzKTsKICAgICAgICBmZXRjaERpcmVjdGlvbi5zZXREZWZhdWx0KGFs\naWFzZXNbMF0pOwogICAgICAgIGZldGNoRGlyZWN0aW9uLnNldChSZXN1bHRT\nZXQuRkVUQ0hfRk9SV0FSRCk7CiAgICAgICAgZmV0Y2hEaXJlY3Rpb24uc2V0\nQWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAgZWFnZXJG\nZXRjaE1vZGUgPSBuZXcgRmV0Y2hNb2RlVmFsdWUoImpkYmMuRWFnZXJGZXRj\naE1vZGUiKTsKICAgICAgICBlYWdlckZldGNoTW9kZS5zZXREZWZhdWx0KEZl\ndGNoTW9kZVZhbHVlLkVBR0VSX1BBUkFMTEVMKTsKICAgICAgICBlYWdlckZl\ndGNoTW9kZS5zZXQoRWFnZXJGZXRjaE1vZGVzLkVBR0VSX1BBUkFMTEVMKTsK\nICAgICAgICBhZGRWYWx1ZShlYWdlckZldGNoTW9kZSk7CgogICAgICAgIHN1\nYmNsYXNzRmV0Y2hNb2RlID0gbmV3IEZldGNoTW9kZVZhbHVlKCJqZGJjLlN1\nYmNsYXNzRmV0Y2hNb2RlIik7CiAgICAgICAgc3ViY2xhc3NGZXRjaE1vZGUu\nc2V0RGVmYXVsdChGZXRjaE1vZGVWYWx1ZS5FQUdFUl9KT0lOKTsKICAgICAg\nICBzdWJjbGFzc0ZldGNoTW9kZS5zZXQoRWFnZXJGZXRjaE1vZGVzLkVBR0VS\nX0pPSU4pOwogICAgICAgIGFkZFZhbHVlKHN1YmNsYXNzRmV0Y2hNb2RlKTsK\nCiAgICAgICAgbHJzU2l6ZSA9IGFkZEludCgiamRiYy5MUlNTaXplIik7CiAg\nICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAgICAgInF1\nZXJ5IiwgU3RyaW5nLnZhbHVlT2YoTFJTU2l6ZXMuU0laRV9RVUVSWSksCiAg\nICAgICAgICAgICJ1bmtub3duIiwgU3RyaW5nLnZhbHVlT2YoTFJTU2l6ZXMu\nU0laRV9VTktOT1dOKSwKICAgICAgICAgICAgImxhc3QiLCBTdHJpbmcudmFs\ndWVPZihMUlNTaXplcy5TSVpFX0xBU1QpLAogICAgICAgIH07CiAgICAgICAg\nbHJzU2l6ZS5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGxyc1NpemUu\nc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBscnNTaXplLnNldChM\nUlNTaXplcy5TSVpFX1FVRVJZKTsKICAgICAgICBscnNTaXplLnNldEFsaWFz\nTGlzdENvbXByZWhlbnNpdmUodHJ1ZSk7CgogICAgICAgIHN5bmNocm9uaXpl\nTWFwcGluZ3MgPSBhZGRTdHJpbmcoImpkYmMuU3luY2hyb25pemVNYXBwaW5n\ncyIpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW117ICJmYWxzZSIs\nIG51bGwgfTsKICAgICAgICBzeW5jaHJvbml6ZU1hcHBpbmdzLnNldEFsaWFz\nZXMoYWxpYXNlcyk7CiAgICAgICAgc3luY2hyb25pemVNYXBwaW5ncy5zZXRE\nZWZhdWx0KGFsaWFzZXNbMF0pOwoKICAgICAgICBqZGJjTGlzdGVuZXJQbHVn\naW5zID0gYWRkUGx1Z2luTGlzdCgiamRiYy5KREJDTGlzdGVuZXJzIik7CiAg\nICAgICAgamRiY0xpc3RlbmVyUGx1Z2lucy5zZXRJbnN0YW50aWF0aW5nR2V0\ndGVyKCJnZXRKREJDTGlzdGVuZXJJbnN0YW5jZXMiKTsKCiAgICAgICAgY29u\nbmVjdGlvbkRlY29yYXRvclBsdWdpbnMgPSBhZGRQbHVnaW5MaXN0CiAgICAg\nICAgICAgICgiamRiYy5Db25uZWN0aW9uRGVjb3JhdG9ycyIpOwogICAgICAg\nIGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVnaW5zLnNldEluc3RhbnRpYXRpbmdH\nZXR0ZXIKICAgICAgICAgICAgKCJnZXRDb25uZWN0aW9uRGVjb3JhdG9ySW5z\ndGFuY2VzIik7CgogICAgICAgIGRiZGljdGlvbmFyeVBsdWdpbiA9IGFkZFBs\ndWdpbigiamRiYy5EQkRpY3Rpb25hcnkiLCB0cnVlKTsKICAgICAgICBhbGlh\nc2VzID0gbmV3IFN0cmluZ1tdewogICAgICAgICAgICAiYWNjZXNzIiwgIm9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5BY2Nlc3NEaWN0aW9uYXJ5IiwK\nICAgICAgICAgICAgImRiMiIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5z\ncWwuREIyRGljdGlvbmFyeSIsCiAgICAgICAgICAgICJkZXJieSIsICJvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuRGVyYnlEaWN0aW9uYXJ5IiwKICAg\nICAgICAgICAgImVtcHJlc3MiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nc3FsLkVtcHJlc3NEaWN0aW9uYXJ5IiwKICAgICAgICAgICAgImZveHBybyIs\nICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuRm94UHJvRGljdGlvbmFy\neSIsCiAgICAgICAgICAgICJoc3FsIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5IU1FMRGljdGlvbmFyeSIsCiAgICAgICAgICAgICJpbmZvcm1p\neCIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuSW5mb3JtaXhEaWN0\naW9uYXJ5IiwKICAgICAgICAgICAgImpkYXRhc3RvcmUiLCAib3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc3FsLkpEYXRhU3RvcmVEaWN0aW9uYXJ5IiwKICAg\nICAgICAgICAgIm15c3FsIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNx\nbC5NeVNRTERpY3Rpb25hcnkiLAogICAgICAgICAgICAib3JhY2xlIiwgIm9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5PcmFjbGVEaWN0aW9uYXJ5IiwK\nICAgICAgICAgICAgInBvaW50YmFzZSIsICJvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuUG9pbnRiYXNlRGljdGlvbmFyeSIsCiAgICAgICAgICAgICJw\nb3N0Z3JlcyIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuUG9zdGdy\nZXNEaWN0aW9uYXJ5IiwKICAgICAgICAgICAgInNxbHNlcnZlciIsICJvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuU1FMU2VydmVyRGljdGlvbmFyeSIs\nCiAgICAgICAgICAgICJzeWJhc2UiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlN5YmFzZURpY3Rpb25hcnkiLAogICAgICAgIH07CiAgICAgICAg\nZGJkaWN0aW9uYXJ5UGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAg\nICAgZGJkaWN0aW9uYXJ5UGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIo\nImdldERCRGljdGlvbmFyeUluc3RhbmNlIik7CgogICAgICAgIHVwZGF0ZU1h\nbmFnZXJQbHVnaW4gPSBhZGRQbHVnaW4oImpkYmMuVXBkYXRlTWFuYWdlciIs\nIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW117CiAgICAg\nICAgICAgICJkZWZhdWx0IiwKICAgICAgICAgICAgIm9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLmtlcm5lbC5Db25zdHJhaW50VXBkYXRlTWFuYWdlciIsCiAg\nICAgICAgICAgICJvcGVyYXRpb24tb3JkZXIiLAogICAgICAgICAgICAib3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLk9wZXJhdGlvbk9yZGVyVXBk\nYXRlTWFuYWdlciIsCiAgICAgICAgICAgICJjb25zdHJhaW50IiwKICAgICAg\nICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5Db25zdHJh\naW50VXBkYXRlTWFuYWdlciIsCiAgICAgICAgfTsKICAgICAgICB1cGRhdGVN\nYW5hZ2VyUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgdXBk\nYXRlTWFuYWdlclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAg\nICAgIHVwZGF0ZU1hbmFnZXJQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0p\nOwogICAgICAgIHVwZGF0ZU1hbmFnZXJQbHVnaW4uc2V0SW5zdGFudGlhdGlu\nZ0dldHRlcigiZ2V0VXBkYXRlTWFuYWdlckluc3RhbmNlIik7CgogICAgICAg\nIGRyaXZlckRhdGFTb3VyY2VQbHVnaW4gPSBhZGRQbHVnaW4oImpkYmMuRHJp\ndmVyRGF0YVNvdXJjZSIsIGZhbHNlKTsKICAgICAgICBhbGlhc2VzID0gbmV3\nIFN0cmluZ1tdewogICAgICAgICAgICAic2ltcGxlIiwgIm9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5TaW1wbGVEcml2ZXJEYXRhU291cmNlIiwK\nICAgICAgICB9OwogICAgICAgIGRyaXZlckRhdGFTb3VyY2VQbHVnaW4uc2V0\nQWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBkcml2ZXJEYXRhU291cmNlUGx1\nZ2luLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgZHJpdmVyRGF0\nYVNvdXJjZVBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CgogICAgICAg\nIHNjaGVtYUZhY3RvcnlQbHVnaW4gPSBhZGRQbHVnaW4oImpkYmMuU2NoZW1h\nRmFjdG9yeSIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5n\nW117CiAgICAgICAgICAgICJkeW5hbWljIiwgIm9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNjaGVtYS5EeW5hbWljU2NoZW1hRmFjdG9yeSIsCiAgICAgICAg\nICAgICJuYXRpdmUiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1h\nLkxhenlTY2hlbWFGYWN0b3J5IiwKICAgICAgICAgICAgImZpbGUiLCAib3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkZpbGVTY2hlbWFGYWN0b3J5\nIiwKICAgICAgICAgICAgInRhYmxlIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNjaGVtYS5UYWJsZVNjaGVtYUZhY3RvcnkiLAogICAgICAgICAgICAv\nLyBkZXByZWNhdGVkIGFsaWFzCiAgICAgICAgICAgICJkYiIsICJvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuVGFibGVTY2hlbWFGYWN0b3J5IiwK\nICAgICAgICB9OwogICAgICAgIHNjaGVtYUZhY3RvcnlQbHVnaW4uc2V0QWxp\nYXNlcyhhbGlhc2VzKTsKICAgICAgICBzY2hlbWFGYWN0b3J5UGx1Z2luLnNl\ndERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgc2NoZW1hRmFjdG9yeVBs\ndWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CiAgICAgICAgc2NoZW1hRmFj\ndG9yeVBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRTY2hlbWFG\nYWN0b3J5SW5zdGFuY2UiKTsKCiAgICAgICAgc3FsRmFjdG9yeVBsdWdpbiA9\nIGFkZFBsdWdpbigiamRiYy5TUUxGYWN0b3J5IiwgdHJ1ZSk7CiAgICAgICAg\nYWxpYXNlcyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAgICAgImRlZmF1bHQi\nLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEZhY3RvcnlJbXBs\nIiwKICAgICAgICB9OwogICAgICAgIHNxbEZhY3RvcnlQbHVnaW4uc2V0QWxp\nYXNlcyhhbGlhc2VzKTsKICAgICAgICBzcWxGYWN0b3J5UGx1Z2luLnNldERl\nZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgc3FsRmFjdG9yeVBsdWdpbi5z\nZXRTdHJpbmcoYWxpYXNlc1swXSk7CiAgICAgICAgc3FsRmFjdG9yeVBsdWdp\nbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRTUUxGYWN0b3J5SW5zdGFu\nY2UiKTsKCiAgICAgICAgbWFwcGluZ0ZhY3RvcnlQbHVnaW4gPSBuZXcgTWFw\ncGluZ0ZhY3RvcnlWYWx1ZSgiamRiYy5NYXBwaW5nRmFjdG9yeSIpOwogICAg\nICAgIGFkZFZhbHVlKG1hcHBpbmdGYWN0b3J5UGx1Z2luKTsKCiAgICAgICAg\nbWFwcGluZ0RlZmF1bHRzUGx1Z2luID0gYWRkUGx1Z2luKCJqZGJjLk1hcHBp\nbmdEZWZhdWx0cyIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3Ry\naW5nW117CiAgICAgICAgICAgICJkZWZhdWx0IiwgIm9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLm1ldGEuTWFwcGluZ0RlZmF1bHRzSW1wbCIsCiAgICAgICAg\nfTsKICAgICAgICBtYXBwaW5nRGVmYXVsdHNQbHVnaW4uc2V0QWxpYXNlcyhh\nbGlhc2VzKTsKICAgICAgICBtYXBwaW5nRGVmYXVsdHNQbHVnaW4uc2V0RGVm\nYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBtYXBwaW5nRGVmYXVsdHNQbHVn\naW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIG1hcHBpbmdEZWZh\ndWx0c1BsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyCiAgICAgICAgICAg\nICgiZ2V0TWFwcGluZ0RlZmF1bHRzSW5zdGFuY2UiKTsKCiAgICAgICAgLy8g\nc2V0IHVwIGJyb2tlciBmYWN0b3J5IGRlZmF1bHRzCiAgICAgICAgYnJva2Vy\nRmFjdG9yeVBsdWdpbi5zZXRBbGlhcygiamRiYyIsIEpEQkNCcm9rZXJGYWN0\nb3J5LmNsYXNzLmdldE5hbWUoKSk7CiAgICAgICAgYnJva2VyRmFjdG9yeVBs\ndWdpbi5zZXREZWZhdWx0KCJqZGJjIik7CiAgICAgICAgYnJva2VyRmFjdG9y\neVBsdWdpbi5zZXRTdHJpbmcoImpkYmMiKTsKCiAgICAgICAgLy8gc2V0IG5l\ndyBkZWZhdWx0IGZvciBtYXBwaW5nIHJlcG9zCiAgICAgICAgbWV0YVJlcG9z\naXRvcnlQbHVnaW4uc2V0QWxpYXMoImRlZmF1bHQiLAogICAgICAgICAgICAi\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5NYXBwaW5nUmVwb3NpdG9y\neSIpOwogICAgICAgIG1ldGFSZXBvc2l0b3J5UGx1Z2luLnNldERlZmF1bHQo\nImRlZmF1bHQiKTsKICAgICAgICBtZXRhUmVwb3NpdG9yeVBsdWdpbi5zZXRT\ndHJpbmcoImRlZmF1bHQiKTsKCiAgICAgICAgLy8gc2V0IG5ldyBkZWZhdWx0\nIGZvciBsb2NrIG1hbmFnZXIKICAgICAgICBsb2NrTWFuYWdlclBsdWdpbi5z\nZXRBbGlhcygicGVzc2ltaXN0aWMiLAogICAgICAgICAgICBQZXNzaW1pc3Rp\nY0xvY2tNYW5hZ2VyLmNsYXNzLmdldE5hbWUoKSk7CiAgICAgICAgbG9ja01h\nbmFnZXJQbHVnaW4uc2V0RGVmYXVsdCgicGVzc2ltaXN0aWMiKTsKICAgICAg\nICBsb2NrTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoInBlc3NpbWlzdGljIik7\nCgogICAgICAgIC8vIG5hdGl2ZSBzYXZlcG9pbnQgbWFuYWdlciBvcHRpb25z\nCiAgICAgICAgc2F2ZXBvaW50TWFuYWdlclBsdWdpbi5zZXRBbGlhcygiamRi\nYyIsCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJu\nZWwuSkRCQzNTYXZlcG9pbnRNYW5hZ2VyIik7CgogICAgICAgIC8vIHNldCBu\nZXcgYWxpYXNlcyBhbmQgZGVmYXVsdHMgZm9yIHNlcXVlbmNlCiAgICAgICAg\nc2VxUGx1Z2luLnNldEFsaWFzZXMoSkRCQ1NlcVZhbHVlLkFMSUFTRVMpOwog\nICAgICAgIHNlcVBsdWdpbi5zZXREZWZhdWx0KEpEQkNTZXFWYWx1ZS5BTElB\nU0VTWzBdKTsKICAgICAgICBzZXFQbHVnaW4uc2V0U3RyaW5nKEpEQkNTZXFW\nYWx1ZS5BTElBU0VTWzBdKTsKCiAgICAgICAgLy8gdGhpcyBzdGF0aWMgaW5p\ndGlhbGl6ZXIgaXMgdG8gZ2V0IHBhc3QgYSB3ZWlyZAogICAgICAgIC8vIENs\nYXNzQ2lyY3VsYXJpdHlFcnJvciB0aGF0IGhhcHBlbnMgb25seSB1bmRlciBJ\nQk0ncwogICAgICAgIC8vIEpESyAxLjMuMSBvbiBMaW51eCBmcm9tIHdpdGhp\nbiB0aGUgSlJ1biBDbGFzc0xvYWRlcjsKICAgICAgICAvLyB3aGlsZSBleGFj\ndCBjYXVzZXMgYXJlIHVua25vd24sIGl0IGlzIGFsbW9zdCBjZXJ0YWlubHkK\nICAgICAgICAvLyBhIGJ1ZyBpbiBKUnVuLCBhbmQgd2UgY2FuIGdldCBhcm91\nbmQgaXQgYnkgZm9yY2luZwogICAgICAgIC8vIEluc3RydWN0aW9uLmNsYXNz\nIHRvIGJlIGxvYWRlZCBhbmQgaW5pdGlhbGl6ZWQKICAgICAgICAvLyBiZWZv\ncmUgVHlwZWRJbnN0cnVjdGlvbi5jbGFzcwogICAgICAgIHRyeSB7IHNlcnAu\nYnl0ZWNvZGUubG93bGV2ZWwuRW50cnkuY2xhc3MuZ2V0TmFtZSgpOyB9IAog\nICAgICAgIGNhdGNoIChUaHJvd2FibGUgdCkge30KICAgICAgICB0cnkgeyBz\nZXJwLmJ5dGVjb2RlLkluc3RydWN0aW9uLmNsYXNzLmdldE5hbWUoKTsgfSAK\nICAgICAgICBjYXRjaCAoVGhyb3dhYmxlIHQpIHt9CgogICAgICAgIHN1cHBv\ncnRlZE9wdGlvbnMoKS5hZGQoT1BUSU9OX1FVRVJZX1NRTCk7CiAgICAgICAg\nc3VwcG9ydGVkT3B0aW9ucygpLmFkZChPUFRJT05fSkRCQ19DT05ORUNUSU9O\nKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zKCkucmVtb3ZlKE9QVElPTl9W\nQUxVRV9JTkNSRU1FTlQpOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMoKS5y\nZW1vdmUoT1BUSU9OX05VTExfQ09OVEFJTkVSKTsKCiAgICAgICAgaWYgKGRl\ncml2YXRpb25zKQogICAgICAgICAgICBQcm9kdWN0RGVyaXZhdGlvbnMuYmVm\nb3JlQ29uZmlndXJhdGlvbkxvYWQodGhpcyk7CiAgICAgICAgaWYgKGxvYWRH\nbG9iYWxzKQogICAgICAgICAgICBsb2FkR2xvYmFscygpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ29weSBjb25zdHJ1Y3RvcgogICAgICovCiAgICBwdWJs\naWMgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKEpEQkNDb25maWd1cmF0aW9uIGNv\nbmYpIHsKICAgICAgICB0aGlzKHRydWUsIGZhbHNlKTsKICAgICAgICBpZiAo\nY29uZiAhPSBudWxsKQogICAgICAgICAgICBmcm9tUHJvcGVydGllcyhjb25m\nLnRvUHJvcGVydGllcyhmYWxzZSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFNjaGVtYShTdHJpbmcgc2NoZW1hKSB7CiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICB0aGlzLnNjaGVtYS5zZXRTdHJpbmcoc2No\nZW1hKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFNjaGVtYSgpIHsK\nICAgICAgICByZXR1cm4gc2NoZW1hLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldFNjaGVtYXMoU3RyaW5nIHNjaGVtYXMpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMuc2NoZW1h\ncy5zZXRTdHJpbmcoc2NoZW1hcyk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXRTY2hlbWFzKCkgewogICAgICAgIHJldHVybiBzY2hlbWFzLmdldFN0\ncmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNjaGVtYXMoU3Ry\naW5nW10gc2NoZW1hcykgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7\nCiAgICAgICAgdGhpcy5zY2hlbWFzLnNldChzY2hlbWFzKTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nW10gZ2V0U2NoZW1hc0xpc3QoKSB7CiAgICAgICAg\ncmV0dXJuIHNjaGVtYXMuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0VHJhbnNhY3Rpb25Jc29sYXRpb24oU3RyaW5nIHRyYW5zYWN0aW9uSXNv\nbGF0aW9uKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAg\nICB0aGlzLnRyYW5zYWN0aW9uSXNvbGF0aW9uLnNldFN0cmluZyh0cmFuc2Fj\ndGlvbklzb2xhdGlvbik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRU\ncmFuc2FjdGlvbklzb2xhdGlvbigpIHsKICAgICAgICByZXR1cm4gdHJhbnNh\nY3Rpb25Jc29sYXRpb24uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0VHJhbnNhY3Rpb25Jc29sYXRpb24oaW50IHRyYW5zYWN0aW9u\nSXNvbGF0aW9uKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAg\nICAgICB0aGlzLnRyYW5zYWN0aW9uSXNvbGF0aW9uLnNldCh0cmFuc2FjdGlv\nbklzb2xhdGlvbik7CiAgICB9CgogICAgcHVibGljIGludCBnZXRUcmFuc2Fj\ndGlvbklzb2xhdGlvbkNvbnN0YW50KCkgewogICAgICAgIHJldHVybiB0cmFu\nc2FjdGlvbklzb2xhdGlvbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRSZXN1bHRTZXRUeXBlKFN0cmluZyByZXN1bHRTZXRUeXBlKSB7CiAg\nICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLnJlc3Vs\ndFNldFR5cGUuc2V0U3RyaW5nKHJlc3VsdFNldFR5cGUpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0UmVzdWx0U2V0VHlwZSgpIHsKICAgICAgICBy\nZXR1cm4gcmVzdWx0U2V0VHlwZS5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRSZXN1bHRTZXRUeXBlKGludCByZXN1bHRTZXRUeXBl\nKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlz\nLnJlc3VsdFNldFR5cGUuc2V0KHJlc3VsdFNldFR5cGUpOwogICAgfQoKICAg\nIHB1YmxpYyBpbnQgZ2V0UmVzdWx0U2V0VHlwZUNvbnN0YW50KCkgewogICAg\nICAgIHJldHVybiByZXN1bHRTZXRUeXBlLmdldCgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldEZldGNoRGlyZWN0aW9uKFN0cmluZyBmZXRjaERpcmVj\ndGlvbikgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAg\ndGhpcy5mZXRjaERpcmVjdGlvbi5zZXRTdHJpbmcoZmV0Y2hEaXJlY3Rpb24p\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RmV0Y2hEaXJlY3Rpb24o\nKSB7CiAgICAgICAgcmV0dXJuIGZldGNoRGlyZWN0aW9uLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZldGNoRGlyZWN0aW9uKGlu\ndCBmZXRjaERpcmVjdGlvbikgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5\nKCk7CiAgICAgICAgdGhpcy5mZXRjaERpcmVjdGlvbi5zZXQoZmV0Y2hEaXJl\nY3Rpb24pOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0RmV0Y2hEaXJlY3Rp\nb25Db25zdGFudCgpIHsKICAgICAgICByZXR1cm4gZmV0Y2hEaXJlY3Rpb24u\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RWFnZXJGZXRjaE1v\nZGUoU3RyaW5nIGVhZ2VyRmV0Y2hNb2RlKSB7CiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmVhZ2VyRmV0Y2hNb2RlLnNldFN0\ncmluZyhlYWdlckZldGNoTW9kZSk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXRFYWdlckZldGNoTW9kZSgpIHsKICAgICAgICByZXR1cm4gZWFnZXJG\nZXRjaE1vZGUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0RWFnZXJGZXRjaE1vZGUoaW50IGVhZ2VyRmV0Y2hNb2RlKSB7CiAgICAg\nICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmVhZ2VyRmV0\nY2hNb2RlLnNldChlYWdlckZldGNoTW9kZSk7CiAgICB9CgogICAgcHVibGlj\nIGludCBnZXRFYWdlckZldGNoTW9kZUNvbnN0YW50KCkgewogICAgICAgIHJl\ndHVybiBlYWdlckZldGNoTW9kZS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRTdWJjbGFzc0ZldGNoTW9kZShTdHJpbmcgc3ViY2xhc3NGZXRj\naE1vZGUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAg\nIHRoaXMuc3ViY2xhc3NGZXRjaE1vZGUuc2V0U3RyaW5nKHN1YmNsYXNzRmV0\nY2hNb2RlKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFN1YmNsYXNz\nRmV0Y2hNb2RlKCkgewogICAgICAgIHJldHVybiBzdWJjbGFzc0ZldGNoTW9k\nZS5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTdWJj\nbGFzc0ZldGNoTW9kZShpbnQgc3ViY2xhc3NGZXRjaE1vZGUpIHsKICAgICAg\nICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMuc3ViY2xhc3NG\nZXRjaE1vZGUuc2V0KHN1YmNsYXNzRmV0Y2hNb2RlKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldFN1YmNsYXNzRmV0Y2hNb2RlQ29uc3RhbnQoKSB7CiAg\nICAgICAgcmV0dXJuIHN1YmNsYXNzRmV0Y2hNb2RlLmdldCgpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldExSU1NpemUoU3RyaW5nIGxyc1NpemUpIHsK\nICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMubHJz\nU2l6ZS5zZXRTdHJpbmcobHJzU2l6ZSk7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRMUlNTaXplKCkgewogICAgICAgIHJldHVybiBscnNTaXplLmdl\ndFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExSU1NpemUo\naW50IGxyc1NpemUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwog\nICAgICAgIHRoaXMubHJzU2l6ZS5zZXQobHJzU2l6ZSk7CiAgICB9CgogICAg\ncHVibGljIGludCBnZXRMUlNTaXplQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0\ndXJuIGxyc1NpemUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nU3luY2hyb25pemVNYXBwaW5ncyhTdHJpbmcgc3luY2hyb25pemVNYXBwaW5n\ncykgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhp\ncy5zeW5jaHJvbml6ZU1hcHBpbmdzLnNldChzeW5jaHJvbml6ZU1hcHBpbmdz\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFN5bmNocm9uaXplTWFw\ncGluZ3MoKSB7CiAgICAgICAgcmV0dXJuIHN5bmNocm9uaXplTWFwcGluZ3Mu\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SkRCQ0xpc3RlbmVy\ncyhTdHJpbmcgamRiY0xpc3RlbmVycykgewogICAgICAgIGFzc2VydE5vdFJl\nYWRPbmx5KCk7CiAgICAgICAgamRiY0xpc3RlbmVyUGx1Z2lucy5zZXRTdHJp\nbmcoamRiY0xpc3RlbmVycyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRKREJDTGlzdGVuZXJzKCkgewogICAgICAgIHJldHVybiBqZGJjTGlzdGVu\nZXJQbHVnaW5zLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldEpEQkNMaXN0ZW5lcnMoSkRCQ0xpc3RlbmVyW10gbGlzdGVuZXJzKSB7\nCiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBqZGJjTGlz\ndGVuZXJQbHVnaW5zLnNldChsaXN0ZW5lcnMpOwogICAgfQoKICAgIHB1Ymxp\nYyBKREJDTGlzdGVuZXJbXSBnZXRKREJDTGlzdGVuZXJJbnN0YW5jZXMoKSB7\nCiAgICAgICAgaWYgKGpkYmNMaXN0ZW5lclBsdWdpbnMuZ2V0KCkgPT0gbnVs\nbCkKICAgICAgICAgICAgamRiY0xpc3RlbmVyUGx1Z2lucy5pbnN0YW50aWF0\nZShKREJDTGlzdGVuZXIuY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAo\nSkRCQ0xpc3RlbmVyW10pIGpkYmNMaXN0ZW5lclBsdWdpbnMuZ2V0KCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkRlY29yYXRvcnMo\nU3RyaW5nIGNvbm5lY3Rpb25EZWNvcmF0b3JzKSB7CiAgICAgICAgYXNzZXJ0\nTm90UmVhZE9ubHkoKTsKICAgICAgICBjb25uZWN0aW9uRGVjb3JhdG9yUGx1\nZ2lucy5zZXRTdHJpbmcoY29ubmVjdGlvbkRlY29yYXRvcnMpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbkRlY29yYXRvcnMoKSB7\nCiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVnaW5zLmdl\ndFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rp\nb25EZWNvcmF0b3JzKENvbm5lY3Rpb25EZWNvcmF0b3JbXSBkZWNvcmF0b3Jz\nKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBjb25u\nZWN0aW9uRGVjb3JhdG9yUGx1Z2lucy5zZXQoZGVjb3JhdG9ycyk7CiAgICB9\nCgogICAgcHVibGljIENvbm5lY3Rpb25EZWNvcmF0b3JbXSBnZXRDb25uZWN0\naW9uRGVjb3JhdG9ySW5zdGFuY2VzKCkgewogICAgICAgIGlmIChjb25uZWN0\naW9uRGVjb3JhdG9yUGx1Z2lucy5nZXQoKSA9PSBudWxsKSB7CiAgICAgICAg\nICAgIGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVnaW5zLmluc3RhbnRpYXRlCiAg\nICAgICAgICAgICAgICAoQ29ubmVjdGlvbkRlY29yYXRvci5jbGFzcywgdGhp\ncyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoQ29ubmVjdGlvbkRlY29y\nYXRvcltdKSBjb25uZWN0aW9uRGVjb3JhdG9yUGx1Z2lucy5nZXQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREQkRpY3Rpb25hcnkoU3RyaW5nIGRi\nZGljdGlvbmFyeSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAg\nICAgICAgZGJkaWN0aW9uYXJ5UGx1Z2luLnNldFN0cmluZyhkYmRpY3Rpb25h\ncnkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0REJEaWN0aW9uYXJ5\nKCkgewogICAgICAgIHJldHVybiBkYmRpY3Rpb25hcnlQbHVnaW4uZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0REJEaWN0aW9uYXJ5\nKERCRGljdGlvbmFyeSBkYmRpY3Rpb25hcnkpIHsKICAgICAgICAvLyB3ZSBj\nYW4ndCBhbGxvdyB0aGUgZGljdGlvbmFyeSB0byBiZSBzZXQgYWZ0ZXIgdGhl\nIGNvbm5lY3Rpb24KICAgICAgICAvLyBmYWN0b3J5LCBkdWUgdG8gaW5pdGlh\nbGl6YXRpb24gaXNzdWVzCiAgICAgICAgaWYgKGNvbm5lY3Rpb25GYWN0b3J5\nLmdldCgpICE9IG51bGwKICAgICAgICAgICAgfHwgY29ubmVjdGlvbkZhY3Rv\ncnkyLmdldCgpICE9IG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxl\nZ2FsU3RhdGVFeGNlcHRpb24oKTsKCiAgICAgICAgYXNzZXJ0Tm90UmVhZE9u\nbHkoKTsKICAgICAgICBkYmRpY3Rpb25hcnlQbHVnaW4uc2V0KGRiZGljdGlv\nbmFyeSk7CiAgICB9CgogICAgcHVibGljIERCRGljdGlvbmFyeSBnZXREQkRp\nY3Rpb25hcnlJbnN0YW5jZSgpIHsKICAgICAgICAvLyBsb2NrIG9uIGNvbm5l\nY3Rpb24gZmFjdG9yeSBuYW1lLCBzaW5jZSBnZXR0aW5nIHRoZSBjb25uZWN0\naW9uCiAgICAgICAgLy8gZmFjdG9yeSBhbmQgZ2V0dGluZyB0aGUgZGljdGlv\nbmFyeSBoYXZlIHRvIHVzZSB0aGUgc2FtZSBsb2NrcyB0bwogICAgICAgIC8v\nIHByZXZlbnQgZGVhZGxvY2sgc2luY2UgdGhleSBjYWxsIGVhY2ggb3RoZXIK\nICAgICAgICBEQkRpY3Rpb25hcnkgZGJkaWN0aW9uYXJ5ID0gKERCRGljdGlv\nbmFyeSkgZGJkaWN0aW9uYXJ5UGx1Z2luLmdldCgpOwogICAgICAgIGlmIChk\nYmRpY3Rpb25hcnkgPT0gbnVsbCkgewogICAgICAgICAgICBTdHJpbmcgY2xz\nTmFtZSA9IGRiZGljdGlvbmFyeVBsdWdpbi5nZXRDbGFzc05hbWUoKTsKICAg\nICAgICAgICAgU3RyaW5nIHByb3BzID0gZGJkaWN0aW9uYXJ5UGx1Z2luLmdl\ndFByb3BlcnRpZXMoKTsKICAgICAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5p\nc0VtcHR5KGNsc05hbWUpKSB7CiAgICAgICAgICAgICAgICBkYmRpY3Rpb25h\ncnkgPSBEQkRpY3Rpb25hcnlGYWN0b3J5Lm5ld0RCRGljdGlvbmFyeQogICAg\nICAgICAgICAgICAgICAgICh0aGlzLCBjbHNOYW1lLCBwcm9wcyk7CiAgICAg\nICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZGlj\ndGlvbmFyeSBjbGFzcyBpc24ndCBzZXQsIHRyeSB0byBndWVzcyBmcm9tCiAg\nICAgICAgICAgICAgICAvLyBjb25uZWN0aW9uIFVSTCBhbmQgZHJpdmVyIG5h\nbWUKICAgICAgICAgICAgICAgIGRiZGljdGlvbmFyeSA9IERCRGljdGlvbmFy\neUZhY3RvcnkuY2FsY3VsYXRlREJEaWN0aW9uYXJ5CiAgICAgICAgICAgICAg\nICAgICAgKHRoaXMsIGdldENvbm5lY3Rpb25VUkwoKSwgZ2V0Q29ubmVjdGlv\nbkRyaXZlck5hbWUoKSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMp\nOwoKICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB1cmwgYW5kIGRyaXZlciBu\nYW1lIGFyZW4ndCBlbm91Z2gsIGNvbm5lY3QgdG8KICAgICAgICAgICAgICAg\nIC8vIHRoZSBEQiBhbmQgdXNlIHRoZSBjb25uZWN0aW9uIG1ldGFkYXRhCiAg\nICAgICAgICAgICAgICBpZiAoZGJkaWN0aW9uYXJ5ID09IG51bGwpIHsKICAg\nICAgICAgICAgICAgICAgICBMb2cgbG9nID0gZ2V0TG9nKExPR19KREJDKTsK\nICAgICAgICAgICAgICAgICAgICBpZiAobG9nLmlzSW5mb0VuYWJsZWQoKSkg\newogICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6ZXIgbG9jID0gTG9j\nYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIChKREJDQ29uZmlndXJhdGlvbkltcGwuY2xhc3MpOwogICAgICAgICAgICAg\nICAgICAgICAgICBsb2cuaW5mbyhsb2MuZ2V0KCJjb25uZWN0aW5nLWZvci1k\naWN0aW9uYXJ5IikpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAg\nICAgICAgICAgICAgLy8gdXNlIHRoZSBiYXNlIGNvbm5lY3Rpb24gZmFjdG9y\neSByYXRoZXIgdGhhbiB0aGUKICAgICAgICAgICAgICAgICAgICAvLyBjb25m\naWd1cmVkIGRhdGEgc291cmNlIGIvYyB0aGUgZGF0YSBzb3VyY2UgcmVsaWVz\nCiAgICAgICAgICAgICAgICAgICAgLy8gb24gcGFzc2luZyB0aGUgY29ubmVj\ndGlvbiB0aHJvdWdoIHRoZSBkaWN0aW9uYXJ5LAogICAgICAgICAgICAgICAg\nICAgIC8vIHJlc3VsdGluZyBpbiBpbmZpbml0ZSBsb29wcwogICAgICAgICAg\nICAgICAgICAgIERhdGFTb3VyY2UgZHMgPSBjcmVhdGVDb25uZWN0aW9uRmFj\ndG9yeSgpOwogICAgICAgICAgICAgICAgICAgIGRiZGljdGlvbmFyeSA9IERC\nRGljdGlvbmFyeUZhY3RvcnkubmV3REJEaWN0aW9uYXJ5CiAgICAgICAgICAg\nICAgICAgICAgICAgICh0aGlzLCBnZXREYXRhU291cmNlKG51bGwsIGRzKSwg\ncHJvcHMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAg\nICAgICAgIGRiZGljdGlvbmFyeVBsdWdpbi5zZXQoZGJkaWN0aW9uYXJ5LCB0\ncnVlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGRiZGljdGlvbmFyeTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRVcGRhdGVNYW5hZ2VyKFN0cmlu\nZyB1cGRhdGVNYW5hZ2VyKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHko\nKTsKICAgICAgICB1cGRhdGVNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyh1cGRh\ndGVNYW5hZ2VyKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFVwZGF0\nZU1hbmFnZXIoKSB7CiAgICAgICAgcmV0dXJuIHVwZGF0ZU1hbmFnZXJQbHVn\naW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VXBk\nYXRlTWFuYWdlcihVcGRhdGVNYW5hZ2VyIHVwZGF0ZU1hbmFnZXIpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHVwZGF0ZU1hbmFn\nZXJQbHVnaW4uc2V0KHVwZGF0ZU1hbmFnZXIpOwogICAgfQoKICAgIHB1Ymxp\nYyBVcGRhdGVNYW5hZ2VyIGdldFVwZGF0ZU1hbmFnZXJJbnN0YW5jZSgpIHsK\nICAgICAgICBpZiAodXBkYXRlTWFuYWdlclBsdWdpbi5nZXQoKSA9PSBudWxs\nKQogICAgICAgICAgICB1cGRhdGVNYW5hZ2VyUGx1Z2luLmluc3RhbnRpYXRl\nKFVwZGF0ZU1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAo\nVXBkYXRlTWFuYWdlcikgdXBkYXRlTWFuYWdlclBsdWdpbi5nZXQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREcml2ZXJEYXRhU291cmNlKFN0cmlu\nZyBkcml2ZXJEYXRhU291cmNlKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9u\nbHkoKTsKICAgICAgICBkcml2ZXJEYXRhU291cmNlUGx1Z2luLnNldFN0cmlu\nZyhkcml2ZXJEYXRhU291cmNlKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIGdldERyaXZlckRhdGFTb3VyY2UoKSB7CiAgICAgICAgcmV0dXJuIGRyaXZl\nckRhdGFTb3VyY2VQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVi\nbGljIERyaXZlckRhdGFTb3VyY2UgbmV3RHJpdmVyRGF0YVNvdXJjZUluc3Rh\nbmNlKCkgewogICAgICAgIHJldHVybiAoRHJpdmVyRGF0YVNvdXJjZSkgZHJp\ndmVyRGF0YVNvdXJjZVBsdWdpbi4KICAgICAgICAgICAgaW5zdGFudGlhdGUo\nRHJpdmVyRGF0YVNvdXJjZS5jbGFzcywgdGhpcyk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0U2NoZW1hRmFjdG9yeShTdHJpbmcgc2NoZW1hRmFjdG9y\neSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgc2No\nZW1hRmFjdG9yeVBsdWdpbi5zZXRTdHJpbmcoc2NoZW1hRmFjdG9yeSk7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTY2hlbWFGYWN0b3J5KCkgewog\nICAgICAgIHJldHVybiBzY2hlbWFGYWN0b3J5UGx1Z2luLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNjaGVtYUZhY3RvcnkoU2No\nZW1hRmFjdG9yeSBzY2hlbWFGYWN0b3J5KSB7CiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICBzY2hlbWFGYWN0b3J5UGx1Z2luLnNldChz\nY2hlbWFGYWN0b3J5KTsKICAgIH0KCiAgICBwdWJsaWMgU2NoZW1hRmFjdG9y\neSBnZXRTY2hlbWFGYWN0b3J5SW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKHNj\naGVtYUZhY3RvcnlQbHVnaW4uZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAg\nc2NoZW1hRmFjdG9yeVBsdWdpbi5pbnN0YW50aWF0ZShTY2hlbWFGYWN0b3J5\nLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKFNjaGVtYUZhY3Rvcnkp\nIHNjaGVtYUZhY3RvcnlQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0U1FMRmFjdG9yeShTdHJpbmcgc3FsRmFjdG9yeSkgewogICAg\nICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgc3FsRmFjdG9yeVBs\ndWdpbi5zZXRTdHJpbmcoc3FsRmFjdG9yeSk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRTUUxGYWN0b3J5KCkgewogICAgICAgIHJldHVybiBzcWxG\nYWN0b3J5UGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFNRTEZhY3RvcnkoU1FMRmFjdG9yeSBzcWxGYWN0b3J5KSB7CiAg\nICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBzcWxGYWN0b3J5\nUGx1Z2luLnNldChzcWxGYWN0b3J5KTsKICAgIH0KCiAgICBwdWJsaWMgU1FM\nRmFjdG9yeSBnZXRTUUxGYWN0b3J5SW5zdGFuY2UoKSB7CiAgICAgICAgaWYg\nKHNxbEZhY3RvcnlQbHVnaW4uZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAg\nc3FsRmFjdG9yeVBsdWdpbi5pbnN0YW50aWF0ZShTUUxGYWN0b3J5LmNsYXNz\nLCB0aGlzKTsKICAgICAgICByZXR1cm4gKFNRTEZhY3RvcnkpIHNxbEZhY3Rv\ncnlQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRN\nYXBwaW5nRmFjdG9yeSgpIHsKICAgICAgICByZXR1cm4gbWFwcGluZ0ZhY3Rv\ncnlQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0TWFwcGluZ0ZhY3RvcnkoU3RyaW5nIG1hcHBpbmcpIHsKICAgICAgICBh\nc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIG1hcHBpbmdGYWN0b3J5UGx1\nZ2luLnNldFN0cmluZyhtYXBwaW5nKTsKICAgIH0KCiAgICBwdWJsaWMgTWV0\nYURhdGFGYWN0b3J5IG5ld01ldGFEYXRhRmFjdG9yeUluc3RhbmNlKCkgewog\nICAgICAgIHJldHVybiBtYXBwaW5nRmFjdG9yeVBsdWdpbi5pbnN0YW50aWF0\nZU1ldGFEYXRhRmFjdG9yeSh0aGlzLAogICAgICAgICAgICBtZXRhRmFjdG9y\neVBsdWdpbiwgZ2V0TWFwcGluZygpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRNYXBwaW5nRGVmYXVsdHMoU3RyaW5nIG1hcHBpbmcpIHsKICAgICAg\nICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMubWFwcGluZ0Rl\nZmF1bHRzUGx1Z2luLnNldFN0cmluZyhtYXBwaW5nKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldE1hcHBpbmdEZWZhdWx0cygpIHsKICAgICAgICBy\nZXR1cm4gbWFwcGluZ0RlZmF1bHRzUGx1Z2luLmdldFN0cmluZygpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldE1hcHBpbmdEZWZhdWx0cyhNYXBwaW5n\nRGVmYXVsdHMgbWFwcGluZykgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5\nKCk7CiAgICAgICAgbWFwcGluZ0RlZmF1bHRzUGx1Z2luLnNldChtYXBwaW5n\nKTsKICAgIH0KCiAgICBwdWJsaWMgTWFwcGluZ0RlZmF1bHRzIGdldE1hcHBp\nbmdEZWZhdWx0c0luc3RhbmNlKCkgewogICAgICAgIGlmIChtYXBwaW5nRGVm\nYXVsdHNQbHVnaW4uZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgbWFwcGlu\nZ0RlZmF1bHRzUGx1Z2luLmluc3RhbnRpYXRlKE1hcHBpbmdEZWZhdWx0cy5j\nbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChNYXBwaW5nRGVmYXVsdHMp\nIG1hcHBpbmdEZWZhdWx0c1BsdWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJs\naWMgTWFwcGluZ1JlcG9zaXRvcnkgZ2V0TWFwcGluZ1JlcG9zaXRvcnlJbnN0\nYW5jZSgpIHsKICAgICAgICByZXR1cm4gKE1hcHBpbmdSZXBvc2l0b3J5KSBn\nZXRNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgpOwogICAgfQoKICAgIHB1\nYmxpYyBNYXBwaW5nUmVwb3NpdG9yeSBuZXdNYXBwaW5nUmVwb3NpdG9yeUlu\nc3RhbmNlKCkgewogICAgICAgIHJldHVybiAoTWFwcGluZ1JlcG9zaXRvcnkp\nIG5ld01ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCk7CiAgICB9CgogICAg\ncHVibGljIEJyb2tlckltcGwgbmV3QnJva2VySW5zdGFuY2UoU3RyaW5nIHVz\nZXIsIFN0cmluZyBwYXNzKSB7CiAgICAgICAgQnJva2VySW1wbCBicm9rZXIg\nPSBzdXBlci5uZXdCcm9rZXJJbnN0YW5jZSh1c2VyLCBwYXNzKTsKCiAgICAg\nICAgLy8gcmVjb3JkIGZpcnN0IG5vbi1udWxsIGJyb2tlciB1c2VyIGFuZCBw\nYXNzIGluIGNhc2Ugbm8gZ2xvYmFsIHNldHRpbmdzCiAgICAgICAgaWYgKGJy\nb2tlciAhPSBudWxsICYmIHVzZXIgIT0gbnVsbCAmJiBmaXJzdFVzZXIgPT0g\nbnVsbCkgewogICAgICAgICAgICBmaXJzdFVzZXIgPSB1c2VyOwogICAgICAg\nICAgICBmaXJzdFBhc3MgPSBwYXNzOwogICAgICAgIH0KICAgICAgICByZXR1\ncm4gYnJva2VyOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0Q29ubmVj\ndGlvbkZhY3RvcnkoKSB7CiAgICAgICAgLy8gb3ZlcnJpZGUgdG8gY29uZmln\ndXJlIGRhdGEgc291cmNlCiAgICAgICAgaWYgKGRhdGFTb3VyY2UgPT0gbnVs\nbCkgewogICAgICAgICAgICBEZWNvcmF0aW5nRGF0YVNvdXJjZSBkcyA9IGNy\nZWF0ZUNvbm5lY3Rpb25GYWN0b3J5KCk7CiAgICAgICAgICAgIGRhdGFTb3Vy\nY2UgPSBEYXRhU291cmNlRmFjdG9yeS5pbnN0YWxsREJEaWN0aW9uYXJ5CiAg\nICAgICAgICAgICAgICAoZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKSwgZHMs\nIHRoaXMsIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGRhdGFT\nb3VyY2U7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZh\nY3RvcnkoT2JqZWN0IGZhY3RvcnkpIHsKICAgICAgICAvLyB0aGVyZSdzIGEg\nbG90IG9mIG9uZS10aW1lIGluaXRpYWxpemF0aW9uIGludm9sdmVkIGZvcgog\nICAgICAgIC8vIGNvbm5lY3Rpb24gZmFjdG9yaWVzLCBzbyBpZ25vcmUgcmVz\nZXRzCiAgICAgICAgaWYgKGZhY3RvcnkgPT0gY29ubmVjdGlvbkZhY3Rvcnku\nZ2V0KCkpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgLy8gb3ZlcnJp\nZGUgdG8gY29uZmlndXJlIGRhdGEgc291cmNlCiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICBpZiAoZmFjdG9yeSAhPSBudWxsKSB7CiAg\nICAgICAgICAgIC8vIG5lZWQgdG8gZW5zdXJlIGl0IGlzIGRlY29yYXRlZCBi\nZWZvcmUgd2Ugc2V0IHRoZSBkaWN0CiAgICAgICAgICAgIERlY29yYXRpbmdE\nYXRhU291cmNlIGRzID0KICAgICAgICAgICAgICAgIHNldHVwQ29ubmVjdGlv\nbkZhY3RvcnkoKERhdGFTb3VyY2UpIGZhY3RvcnksIGZhbHNlKTsKICAgICAg\nICAgICAgZGF0YVNvdXJjZSA9IERhdGFTb3VyY2VGYWN0b3J5Lmluc3RhbGxE\nQkRpY3Rpb25hcnkKICAgICAgICAgICAgICAgIChnZXREQkRpY3Rpb25hcnlJ\nbnN0YW5jZSgpLCBkcywgdGhpcywgZmFsc2UpOwogICAgICAgIH0gZWxzZQog\nICAgICAgICAgICBjb25uZWN0aW9uRmFjdG9yeS5zZXQobnVsbCk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBFbnN1cmUgdGhhdCB0aGUgc3BlY2lmaWVkIERh\ndGFTb3VyY2UgaXMgZGVjb3JhdGVkIGFuZCBzZXQgaW4gdGhlIGNhY2hlLgog\nICAgICovCiAgICBwcml2YXRlIERlY29yYXRpbmdEYXRhU291cmNlIHNldHVw\nQ29ubmVjdGlvbkZhY3RvcnkoRGF0YVNvdXJjZSBkcywKICAgICAgICBib29s\nZWFuIGZhY3RvcnkyKSB7CiAgICAgICAgaWYgKGRzID09IG51bGwpCiAgICAg\nICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICBEZWNvcmF0aW5nRGF0YVNv\ndXJjZSBkZHM7CiAgICAgICAgaWYgKGRzIGluc3RhbmNlb2YgRGVjb3JhdGlu\nZ0RhdGFTb3VyY2UpCiAgICAgICAgICAgIGRkcyA9IChEZWNvcmF0aW5nRGF0\nYVNvdXJjZSkgZHM7CiAgICAgICAgZWxzZQogICAgICAgICAgICBkZHMgPSBE\nYXRhU291cmNlRmFjdG9yeS5kZWNvcmF0ZURhdGFTb3VyY2UoZHMsIHRoaXMs\nIGZhY3RvcnkyKTsKCiAgICAgICAgaWYgKCFmYWN0b3J5MiAmJiBjb25uZWN0\naW9uRmFjdG9yeS5nZXQoKSAhPSBkcykKICAgICAgICAgICAgY29ubmVjdGlv\nbkZhY3Rvcnkuc2V0KGRkcywgdHJ1ZSk7CiAgICAgICAgZWxzZSBpZiAoZmFj\ndG9yeTIgJiYgY29ubmVjdGlvbkZhY3RvcnkyLmdldCgpICE9IGRzKQogICAg\nICAgICAgICBjb25uZWN0aW9uRmFjdG9yeTIuc2V0KGRkcywgdHJ1ZSk7Cgog\nICAgICAgIHJldHVybiBkZHM7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBn\nZXRDb25uZWN0aW9uRmFjdG9yeTIoKSB7CiAgICAgICAgLy8gb3ZlcnJpZGUg\ndG8gY29uZmlndXJlIGRhdGEgc291cmNlCiAgICAgICAgaWYgKGRhdGFTb3Vy\nY2UyID09IG51bGwpIHsKICAgICAgICAgICAgLy8gc3VwZXJjbGFzcyB3aWxs\nIGxvb2t1cCBmcm9tIEpOREkuIAogICAgICAgICAgICBEYXRhU291cmNlIGRz\nID0gKERhdGFTb3VyY2UpIHN1cGVyLmdldENvbm5lY3Rpb25GYWN0b3J5Migp\nOwogICAgICAgICAgICBpZiAoZHMgPT0gbnVsbCkgewogICAgICAgICAgICAg\nICAgLy8gdGhlIGRyaXZlciBuYW1lIGlzIGFsd2F5cyByZXF1aXJlZCwgc28g\naWYgbm90IHNwZWNpZmllZCwKICAgICAgICAgICAgICAgIC8vIHRoZW4gbm8g\nY29ubmVjdGlvbiBmYWN0b3J5IDIKICAgICAgICAgICAgICAgIFN0cmluZyBk\ncml2ZXIgPSBnZXRDb25uZWN0aW9uMkRyaXZlck5hbWUoKTsKICAgICAgICAg\nICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eShkcml2ZXIpKQogICAg\nICAgICAgICAgICAgICAgIGRzID0gRGF0YVNvdXJjZUZhY3RvcnkubmV3RGF0\nYVNvdXJjZSh0aGlzLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgICAg\nICBpZiAoZHMgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgRGVjb3JhdGlu\nZ0RhdGFTb3VyY2UgZGRzID0KICAgICAgICAgICAgICAgICAgICBzZXR1cENv\nbm5lY3Rpb25GYWN0b3J5KGRzLCB0cnVlKTsgLy8gYmVmb3JlIGRpY3QKICAg\nICAgICAgICAgICAgIGRhdGFTb3VyY2UyID0gRGF0YVNvdXJjZUZhY3Rvcnku\naW5zdGFsbERCRGljdGlvbmFyeQogICAgICAgICAgICAgICAgICAgIChnZXRE\nQkRpY3Rpb25hcnlJbnN0YW5jZSgpLCBkZHMsIHRoaXMsIHRydWUpOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBkYXRhU291cmNl\nMjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRmFjdG9y\neTIoT2JqZWN0IGZhY3RvcnkpIHsKICAgICAgICBpZiAoZmFjdG9yeSA9PSBj\nb25uZWN0aW9uRmFjdG9yeTIuZ2V0KCkpCiAgICAgICAgICAgIHJldHVybjsK\nCiAgICAgICAgLy8gb3ZlcnJpZGUgdG8gY29uZmlndXJlIGRhdGEgc291cmNl\nCiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBpZiAoZmFj\ndG9yeSAhPSBudWxsKSB7CiAgICAgICAgICAgIC8vIG5lZWQgdG8gZW5zdXJl\nIGl0IGlzIGRlY29yYXRlZCBiZWZvcmUgd2Ugc2V0IHRoZSBkaWN0CiAgICAg\nICAgICAgIERlY29yYXRpbmdEYXRhU291cmNlIGRzID0gc2V0dXBDb25uZWN0\naW9uRmFjdG9yeSgoRGF0YVNvdXJjZSkKICAgICAgICAgICAgICAgIGZhY3Rv\ncnksIHRydWUpOwogICAgICAgICAgICBkYXRhU291cmNlMiA9IERhdGFTb3Vy\nY2VGYWN0b3J5Lmluc3RhbGxEQkRpY3Rpb25hcnkKICAgICAgICAgICAgICAg\nIChnZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpLCBkcywgdGhpcywgdHJ1ZSk7\nCiAgICAgICAgfSBlbHNlCiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5\nMi5zZXQobnVsbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGUgdGhl\nIGNvbm5lY3Rpb24gZmFjdG9yeSBpZiBuZWNlc3NhcnkuCiAgICAgKi8KICAg\nIHByaXZhdGUgRGVjb3JhdGluZ0RhdGFTb3VyY2UgY3JlYXRlQ29ubmVjdGlv\nbkZhY3RvcnkoKSB7CiAgICAgICAgRGF0YVNvdXJjZSBkcyA9IChEYXRhU291\ncmNlKSBjb25uZWN0aW9uRmFjdG9yeS5nZXQoKTsKICAgICAgICBpZiAoZHMg\nIT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIHNldHVwQ29ubmVjdGlvbkZh\nY3RvcnkoZHMsIGZhbHNlKTsKCiAgICAgICAgZHMgPSAoRGF0YVNvdXJjZSkg\nc3VwZXIuZ2V0Q29ubmVjdGlvbkZhY3RvcnkoKTsgLy8gSk5ESSBsb29rdXAK\nICAgICAgICBpZiAoZHMgPT0gbnVsbCkKICAgICAgICAgICAgZHMgPSBEYXRh\nU291cmNlRmFjdG9yeS5uZXdEYXRhU291cmNlKHRoaXMsIGZhbHNlKTsKCiAg\nICAgICAgcmV0dXJuIHNldHVwQ29ubmVjdGlvbkZhY3RvcnkoZHMsIGZhbHNl\nKTsKICAgIH0KCiAgICBwdWJsaWMgRGF0YVNvdXJjZSBnZXREYXRhU291cmNl\nKFN0b3JlQ29udGV4dCBjdHgpIHsKICAgICAgICByZXR1cm4gZ2V0RGF0YVNv\ndXJjZShjdHgsIChEYXRhU291cmNlKSBnZXRDb25uZWN0aW9uRmFjdG9yeSgp\nKTsKICAgIH0KCiAgICBwdWJsaWMgRGF0YVNvdXJjZSBnZXREYXRhU291cmNl\nMihTdG9yZUNvbnRleHQgY3R4KSB7CiAgICAgICAgLy8gaWYgdGhlcmUgaXMg\nbm8gY29ubmVjdGlvbiBmYWN0b3J5IDIsIHVzZSB0aGUgcHJpbWFyeSBmYWN0\nb3J5CiAgICAgICAgRGF0YVNvdXJjZSBkcyA9IChEYXRhU291cmNlKSBnZXRD\nb25uZWN0aW9uRmFjdG9yeTIoKTsKICAgICAgICBpZiAoZHMgPT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIGdldERhdGFTb3VyY2UoY3R4KTsKCiAgICAg\nICAgLy8gcHJlZmVyIHRoZSBnbG9iYWwgY29ubmVjdGlvbiAyIGF1dGggaW5m\nbyBpZiBnaXZlbgogICAgICAgIFN0cmluZyB1c2VyID0gZ2V0Q29ubmVjdGlv\nbjJVc2VyTmFtZSgpOwogICAgICAgIFN0cmluZyBwYXNzID0gZ2V0Q29ubmVj\ndGlvbjJQYXNzd29yZCgpOwogICAgICAgIGlmICh1c2VyID09IG51bGwgJiYg\ncGFzcyA9PSBudWxsKSB7CiAgICAgICAgICAgIC8vIG5vIGdsb2JhbCBhdXRo\nIGluZm87IHVzZSB0aGUgY29udGV4dCBpZiBnaXZlbiwgb3IgdGhlIGZpcnN0\nCiAgICAgICAgICAgIC8vIGNvbnRleHQgaWYgbm90CiAgICAgICAgICAgIGlm\nIChjdHggPT0gbnVsbCkgewogICAgICAgICAgICAgICAgdXNlciA9IGZpcnN0\nVXNlcjsKICAgICAgICAgICAgICAgIHBhc3MgPSBmaXJzdFBhc3M7CiAgICAg\nICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1c2VyID0gY3R4Lmdl\ndENvbm5lY3Rpb25Vc2VyTmFtZSgpOwogICAgICAgICAgICAgICAgcGFzcyA9\nIGN0eC5nZXRDb25uZWN0aW9uUGFzc3dvcmQoKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KICAgICAgICByZXR1cm4gRGF0YVNvdXJjZUZhY3RvcnkuZGVm\nYXVsdHNEYXRhU291cmNlKGRzLCB1c2VyLCBwYXNzKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFRoaXMgdmVyc2lvbiBhbGxvd3MgdXMgdG8gcGFzcyBpbiB3\naGljaCBkYXRhIHNvdXJjZSB0byB3cmFwIGludGVybmFsbHk7CiAgICAgKiB1\nc2VmdWwgZHVyaW5nIGluaXRpYWxpemF0aW9uIGJlZm9yZSB0aGUgY29ubmVj\ndGlvbiBmYWN0b3J5IGlzCiAgICAgKiBjb21wbGV0ZWx5IGNvbmZpZ3VyZWQu\nCiAgICAgKi8KICAgIHByaXZhdGUgRGF0YVNvdXJjZSBnZXREYXRhU291cmNl\nKFN0b3JlQ29udGV4dCBjdHgsIERhdGFTb3VyY2UgZHMpIHsKICAgICAgICBT\ndHJpbmcgdXNlciwgcGFzczsKICAgICAgICBpZiAoY3R4ID09IG51bGwpIHsK\nICAgICAgICAgICAgLy8gaWYgbm8gY29udGV4dCwgZGVmYXVsdCB0byB0aGUg\nZ2xvYmFsIGF1dGggaW5mbywgb3IgdGhlIGF1dGggaW5mbwogICAgICAgICAg\nICAvLyBvZiB0aGUgZmlyc3QgY29udGV4dCBpZiBub25lCiAgICAgICAgICAg\nIHVzZXIgPSBnZXRDb25uZWN0aW9uVXNlck5hbWUoKTsKICAgICAgICAgICAg\naWYgKHVzZXIgPT0gbnVsbCkKICAgICAgICAgICAgICAgIHVzZXIgPSBmaXJz\ndFVzZXI7CiAgICAgICAgICAgIHBhc3MgPSBnZXRDb25uZWN0aW9uUGFzc3dv\ncmQoKTsKICAgICAgICAgICAgaWYgKHBhc3MgPT0gbnVsbCkKICAgICAgICAg\nICAgICAgIHBhc3MgPSBmaXJzdFBhc3M7CiAgICAgICAgfSBlbHNlIHsKICAg\nICAgICAgICAgLy8gdXNlIHRoZSBjb250ZXh0J3MgYXV0aCBpbmZvCiAgICAg\nICAgICAgIHVzZXIgPSBjdHguZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCk7CiAg\nICAgICAgICAgIHBhc3MgPSBjdHguZ2V0Q29ubmVjdGlvblBhc3N3b3JkKCk7\nCiAgICAgICAgfQogICAgICAgIHJldHVybiBEYXRhU291cmNlRmFjdG9yeS5k\nZWZhdWx0c0RhdGFTb3VyY2UoZHMsIHVzZXIsIHBhc3MpOwogICAgfQoKICAg\nIC8qKgogICAgICogRnJlZSB0aGUgZGF0YSBzb3VyY2VzLgogICAgICovCiAg\nICBwcm90ZWN0ZWQgdm9pZCBwcmVDbG9zZSgpIHsKICAgICAgICBpZiAoZGF0\nYVNvdXJjZSAhPSBudWxsKSB7CiAgICAgICAgICAgIGdldERCRGljdGlvbmFy\neUluc3RhbmNlKCkuY2xvc2VEYXRhU291cmNlKGRhdGFTb3VyY2UpOwogICAg\nICAgICAgICBjb25uZWN0aW9uRmFjdG9yeS5zZXQobnVsbCwgdHJ1ZSk7IC8v\nIHNvIHN1cGVyIGRvZXNuJ3QgY2xvc2UgaXQKICAgICAgICB9CiAgICAgICAg\naWYgKGRhdGFTb3VyY2UyICE9IG51bGwpIHsKICAgICAgICAgICAgZ2V0REJE\naWN0aW9uYXJ5SW5zdGFuY2UoKS5jbG9zZURhdGFTb3VyY2UoZGF0YVNvdXJj\nZSk7CiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXQobnVsbCwg\ndHJ1ZSk7IC8vIHNvIHN1cGVyIGRvZXNuJ3QgY2xvc2UgaXQKICAgICAgICB9\nCiAgICAgICAgc3VwZXIucHJlQ2xvc2UoKTsKICAgIH0KCiAgICBwcm90ZWN0\nZWQgYm9vbGVhbiBpc0ludmFsaWRQcm9wZXJ0eShTdHJpbmcgcHJvcE5hbWUp\nIHsKICAgICAgICBpZiAoc3VwZXIuaXNJbnZhbGlkUHJvcGVydHkocHJvcE5h\nbWUpKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgICAgLy8gaGFu\nZGxlIG9wZW5qcGEuamRiYy5Tb21lTWlzc3BlbGxlZFByb3BlcnR5LCBidXQg\nbm90CiAgICAgICAgLy8gb3BlbmpwYS5zb21lb3RoZXJpbXBsZW1lbnRhdGlv\nbi5Tb21lUHJvcGVydHkKICAgICAgICBTdHJpbmdbXSBwcmVmaXhlcyA9IFBy\nb2R1Y3REZXJpdmF0aW9ucy5nZXRDb25maWd1cmF0aW9uUHJlZml4ZXMoKTsK\nICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsg\naSsrKQogICAgICAgICAgICBpZiAocHJvcE5hbWUudG9Mb3dlckNhc2UoKS5z\ndGFydHNXaXRoKHByZWZpeGVzW2ldICsgIi5qZGJjIikpCiAgICAgICAgICAg\nICAgICByZXR1cm4gdHJ1ZTsgCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAg\nfQp9Cg==\n","encoding":"base64"}

