{"sha":"de07222dba428eb0c9139df58a413a537898f536","node_id":"MDQ6QmxvYjIwNjM2NDpkZTA3MjIyZGJhNDI4ZWIwYzkxMzlkZjU4YTQxM2E1Mzc4OThmNTM2","size":4425,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/de07222dba428eb0c9139df58a413a537898f536","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwczsK\nCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMubWV0YS5KYXZhU1FMVHlwZXM7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuUmVzdWx0OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEJ1ZmZlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TZWxlY3Q7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkZpbHRlcnM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRXhwcmVzc2lvblZpc2l0b3I7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwoK\nLyoqCiAqIFZhbHVlIHByb2R1Y2VkIGJ5IGEgdW5hcnkgb3BlcmF0aW9uIG9u\nIGEgdmFsdWUuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwphYnN0cmFj\ndCBjbGFzcyBVbmFyeU9wCiAgICBleHRlbmRzIEFic3RyYWN0VmFsIHsKCiAg\nICBwcml2YXRlIGZpbmFsIFZhbCBfdmFsOwogICAgcHJpdmF0ZSBDbGFzc01l\ndGFEYXRhIF9tZXRhID0gbnVsbDsKICAgIHByaXZhdGUgQ2xhc3MgX2Nhc3Qg\nPSBudWxsOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuIFByb3ZpZGUg\ndGhlIHZhbHVlIHRvIG9wZXJhdGUgb24uCiAgICAgKi8KICAgIHB1YmxpYyBV\nbmFyeU9wKFZhbCB2YWwpIHsKICAgICAgICBfdmFsID0gdmFsOwogICAgfQoK\nICAgIHByb3RlY3RlZCBWYWwgZ2V0VmFsdWUoKSB7CiAgICAgICAgcmV0dXJu\nIF92YWw7CiAgICB9CgogICAgcHVibGljIENsYXNzTWV0YURhdGEgZ2V0TWV0\nYURhdGEoKSB7CiAgICAgICAgcmV0dXJuIF9tZXRhOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldE1ldGFEYXRhKENsYXNzTWV0YURhdGEgbWV0YSkgewog\nICAgICAgIF9tZXRhID0gbWV0YTsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3Mg\nZ2V0VHlwZSgpIHsKICAgICAgICBpZiAoX2Nhc3QgIT0gbnVsbCkKICAgICAg\nICAgICAgcmV0dXJuIF9jYXN0OwogICAgICAgIHJldHVybiBnZXRUeXBlKF92\nYWwuZ2V0VHlwZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJbXBs\naWNpdFR5cGUoQ2xhc3MgdHlwZSkgewogICAgICAgIF9jYXN0ID0gdHlwZTsK\nICAgIH0KCiAgICBwdWJsaWMgRXhwU3RhdGUgaW5pdGlhbGl6ZShTZWxlY3Qg\nc2VsLCBFeHBDb250ZXh0IGN0eCwgaW50IGZsYWdzKSB7CiAgICAgICAgcmV0\ndXJuIGluaXRpYWxpemVWYWx1ZShzZWwsIGN0eCwgZmxhZ3MpOwogICAgfQoK\nICAgIHByb3RlY3RlZCBFeHBTdGF0ZSBpbml0aWFsaXplVmFsdWUoU2VsZWN0\nIHNlbCwgRXhwQ29udGV4dCBjdHgsIGludCBmbGFncykgewogICAgICAgIHJl\ndHVybiBfdmFsLmluaXRpYWxpemUoc2VsLCBjdHgsIGZsYWdzKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZWxlY3QoU2VsZWN0IHNlbCwgRXhwQ29udGV4\ndCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBib29sZWFuIHBrcykg\newogICAgICAgIHNlbC5zZWxlY3QobmV3U1FMQnVmZmVyKHNlbCwgY3R4LCBz\ndGF0ZSksIHRoaXMpOwogICAgICAgIGlmIChpc0FnZ3JlZ2F0ZSgpKQogICAg\nICAgICAgICBzZWwuc2V0QWdncmVnYXRlKHRydWUpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNlbGVjdENvbHVtbnMoU2VsZWN0IHNlbCwgRXhwQ29udGV4\ndCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBib29sZWFuIHBrcykg\newogICAgICAgIF92YWwuc2VsZWN0Q29sdW1ucyhzZWwsIGN0eCwgc3RhdGUs\nIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGdyb3VwQnkoU2VsZWN0\nIHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAg\nICAgc2VsLmdyb3VwQnkobmV3U1FMQnVmZmVyKHNlbCwgY3R4LCBzdGF0ZSkp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIG9yZGVyQnkoU2VsZWN0IHNlbCwg\nRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBib29s\nZWFuIGFzYykgewogICAgICAgIHNlbC5vcmRlckJ5KG5ld1NRTEJ1ZmZlcihz\nZWwsIGN0eCwgc3RhdGUpLCBhc2MsIGZhbHNlKTsKICAgIH0KCiAgICBwcml2\nYXRlIFNRTEJ1ZmZlciBuZXdTUUxCdWZmZXIoU2VsZWN0IHNlbCwgRXhwQ29u\ndGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAgICAgY2FsY3VsYXRl\nVmFsdWUoc2VsLCBjdHgsIHN0YXRlLCBudWxsLCBudWxsKTsKICAgICAgICBT\nUUxCdWZmZXIgYnVmID0gbmV3IFNRTEJ1ZmZlcihjdHguc3RvcmUuZ2V0REJE\naWN0aW9uYXJ5KCkpOwogICAgICAgIGFwcGVuZFRvKHNlbCwgY3R4LCBzdGF0\nZSwgYnVmLCAwKTsKICAgICAgICByZXR1cm4gYnVmOwogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3QgbG9hZChFeHBDb250ZXh0IGN0eCwgRXhwU3RhdGUgc3Rh\ndGUsIFJlc3VsdCByZXMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIEZpbHRlcnMuY29udmVydChyZXMuZ2V0T2JqZWN0\nKHRoaXMsCiAgICAgICAgICAgIEphdmFTUUxUeXBlcy5KREJDX0RFRkFVTFQs\nIG51bGwpLCBnZXRUeXBlKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNh\nbGN1bGF0ZVZhbHVlKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBT\ndGF0ZSBzdGF0ZSwgCiAgICAgICAgVmFsIG90aGVyLCBFeHBTdGF0ZSBvdGhl\nclN0YXRlKSB7CiAgICAgICAgX3ZhbC5jYWxjdWxhdGVWYWx1ZShzZWwsIGN0\neCwgc3RhdGUsIG51bGwsIG51bGwpOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nbGVuZ3RoKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBz\ndGF0ZSkgewogICAgICAgIHJldHVybiAxOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIGFwcGVuZFRvKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBT\ndGF0ZSBzdGF0ZSwgCiAgICAgICAgU1FMQnVmZmVyIHNxbCwgaW50IGluZGV4\nKSB7CiAgICAgICAgc3FsLmFwcGVuZChnZXRPcGVyYXRvcigpKTsKICAgICAg\nICBzcWwuYXBwZW5kKCIoIik7CiAgICAgICAgX3ZhbC5hcHBlbmRUbyhzZWws\nIGN0eCwgc3RhdGUsIHNxbCwgMCk7CiAgICAgICAgc3FsLmFkZENhc3RGb3JQ\nYXJhbShnZXRPcGVyYXRvcigpLCBfdmFsKTsKICAgICAgICBzcWwuYXBwZW5k\nKCIpIik7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHR5cGUg\nb2YgdGhpcyB2YWx1ZSBiYXNlZCBvbiB0aGUgYXJndW1lbnQgdHlwZS4gUmV0\ndXJucwogICAgICogdGhlIGFyZ3VtZW50IHR5cGUgYnkgZGVmYXVsdC4KICAg\nICAqLwogICAgcHJvdGVjdGVkIENsYXNzIGdldFR5cGUoQ2xhc3MgYykgewog\nICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIHRoZSBuYW1lIG9mIHRoaXMgb3BlcmF0b3IuCiAgICAgKi8KICAgIHByb3Rl\nY3RlZCBhYnN0cmFjdCBTdHJpbmcgZ2V0T3BlcmF0b3IoKTsKCiAgICBwdWJs\naWMgdm9pZCBhY2NlcHRWaXNpdChFeHByZXNzaW9uVmlzaXRvciB2aXNpdG9y\nKSB7CiAgICAgICAgdmlzaXRvci5lbnRlcih0aGlzKTsKICAgICAgICBfdmFs\nLmFjY2VwdFZpc2l0KHZpc2l0b3IpOwogICAgICAgIHZpc2l0b3IuZXhpdCh0\naGlzKTsKICAgIH0KfQoK\n","encoding":"base64"}

