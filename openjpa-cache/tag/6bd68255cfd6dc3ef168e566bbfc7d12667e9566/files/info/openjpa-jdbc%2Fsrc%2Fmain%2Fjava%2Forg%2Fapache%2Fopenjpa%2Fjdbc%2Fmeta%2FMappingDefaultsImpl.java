{"sha":"decd977b2f8f09164aee00a1bdc322da1e3923e9","node_id":"MDQ6QmxvYjIwNjM2NDpkZWNkOTc3YjJmOGYwOTE2NGFlZTAwYTFiZGMzMjJkYTFlMzkyM2U5","size":22505,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/decd977b2f8f09164aee00a1bdc322da1e3923e9","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhOwoKaW1wb3J0\nIGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7Cmlt\ncG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2YS51dGlsLlByb3BlcnRp\nZXM7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJD\nQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLm1ldGEuc3RyYXRzLlVudHlwZWRQQ1ZhbHVlSGFuZGxlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW47CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuRm9yZWlnbktleTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5JbmRleDsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5TY2hlbWE7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuVGFibGU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuVW5pcXVlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFy\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1\ncmFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29u\nZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29u\nZi5Db25maWd1cmF0aW9uczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIudXRpbC5KYXZhVmVyc2lvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubWV0YS5KYXZhVHlwZXM7CmltcG9ydCBzZXJwLnV0aWwuU3RyaW5nczsK\nCi8qKgogKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBNYXBw\naW5nRGVmYXVsdHN9LgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVi\nbGljIGNsYXNzIE1hcHBpbmdEZWZhdWx0c0ltcGwKICAgIGltcGxlbWVudHMg\nTWFwcGluZ0RlZmF1bHRzLCBDb25maWd1cmFibGUgewoKICAgIHByb3RlY3Rl\nZCB0cmFuc2llbnQgREJEaWN0aW9uYXJ5IGRpY3QgPSBudWxsOwogICAgcHJp\ndmF0ZSBTdHJpbmcgX2Jhc2VDbGFzc1N0cmF0ZWd5ID0gbnVsbDsKICAgIHBy\naXZhdGUgU3RyaW5nIF9zdWJjbGFzc1N0cmF0ZWd5ID0gbnVsbDsKICAgIHBy\naXZhdGUgU3RyaW5nIF92ZXJzaW9uU3RyYXRlZ3kgPSBudWxsOwogICAgcHJp\ndmF0ZSBTdHJpbmcgX2Rpc2NTdHJhdGVneSA9IG51bGw7CiAgICBwcml2YXRl\nIGZpbmFsIE1hcCBfZmllbGRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgcHJp\ndmF0ZSBib29sZWFuIF9kZWZNaXNzaW5nID0gZmFsc2U7CiAgICBwcml2YXRl\nIGJvb2xlYW4gX2NsYXNzQ3JpdGVyaWEgPSBmYWxzZTsKICAgIHByaXZhdGUg\naW50IF9qb2luRktBY3Rpb24gPSBGb3JlaWduS2V5LkFDVElPTl9OT05FOwog\nICAgcHJpdmF0ZSBpbnQgX2ZrQWN0aW9uID0gRm9yZWlnbktleS5BQ1RJT05f\nTk9ORTsKICAgIHByaXZhdGUgYm9vbGVhbiBfZGVmZXIgPSBmYWxzZTsKICAg\nIHByaXZhdGUgYm9vbGVhbiBfaW5kZXhGSyA9IHRydWU7CiAgICBwcml2YXRl\nIGJvb2xlYW4gX2luZGV4RGlzYyA9IHRydWU7CiAgICBwcml2YXRlIGJvb2xl\nYW4gX2luZGV4VmVycyA9IGZhbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9v\ncmRlckxpc3RzID0gdHJ1ZTsKICAgIHByaXZhdGUgYm9vbGVhbiBfYWRkTnVs\nbEluZCA9IGZhbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9vcmRpbmFsRW51\nbSA9IGZhbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9zdHJpbmdpZnlVbm1h\ncHBlZCA9IGZhbHNlOwogICAgcHJpdmF0ZSBTdHJpbmcgX2RzSWROYW1lID0g\nbnVsbDsKICAgIHByaXZhdGUgU3RyaW5nIF92ZXJzTmFtZSA9IG51bGw7CiAg\nICBwcml2YXRlIFN0cmluZyBfZGlzY05hbWUgPSBudWxsOwogICAgcHJpdmF0\nZSBTdHJpbmcgX29yZGVyTmFtZSA9IG51bGw7CiAgICBwcml2YXRlIFN0cmlu\nZyBfbnVsbEluZE5hbWUgPSBudWxsOwoKICAgIC8qKgogICAgICogRGVmYXVs\ndCBiYXNlIGNsYXNzIHN0cmF0ZWd5IGFsaWFzLgogICAgICovCiAgICBwdWJs\naWMgU3RyaW5nIGdldEJhc2VDbGFzc1N0cmF0ZWd5KCkgewogICAgICAgIHJl\ndHVybiBfYmFzZUNsYXNzU3RyYXRlZ3k7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBEZWZhdWx0IGJhc2UgY2xhc3Mgc3RyYXRlZ3kgYWxpYXMuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldEJhc2VDbGFzc1N0cmF0ZWd5KFN0cmluZyBi\nYXNlQ2xhc3NTdHJhdGVneSkgewogICAgICAgIF9iYXNlQ2xhc3NTdHJhdGVn\neSA9IGJhc2VDbGFzc1N0cmF0ZWd5OwogICAgfQoKICAgIC8qKgogICAgICog\nRGVmYXVsdCBzdWJjbGFzcyBzdHJhdGVneSBhbGlhcy4KICAgICAqLwogICAg\ncHVibGljIFN0cmluZyBnZXRTdWJjbGFzc1N0cmF0ZWd5KCkgewogICAgICAg\nIHJldHVybiBfc3ViY2xhc3NTdHJhdGVneTsKICAgIH0KCiAgICAvKioKICAg\nICAqIERlZmF1bHQgc3ViY2xhc3Mgc3RyYXRlZ3kgYWxpYXMuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldFN1YmNsYXNzU3RyYXRlZ3koU3RyaW5nIHN1\nYmNsYXNzU3RyYXRlZ3kpIHsKICAgICAgICBfc3ViY2xhc3NTdHJhdGVneSA9\nIHN1YmNsYXNzU3RyYXRlZ3k7CiAgICB9CgogICAgLyoqCiAgICAgKiBEZWZh\ndWx0IHZlcnNpb24gc3RyYXRlZ3kgYWxpYXMuCiAgICAgKi8KICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0VmVyc2lvblN0cmF0ZWd5KCkgewogICAgICAgIHJldHVy\nbiBfdmVyc2lvblN0cmF0ZWd5OwogICAgfQoKICAgIC8qKgogICAgICogRGVm\nYXVsdCB2ZXJzaW9uIHN0cmF0ZWd5IGFsaWFzLgogICAgICovCiAgICBwdWJs\naWMgdm9pZCBzZXRWZXJzaW9uU3RyYXRlZ3koU3RyaW5nIHZlcnNpb25TdHJh\ndGVneSkgewogICAgICAgIF92ZXJzaW9uU3RyYXRlZ3kgPSB2ZXJzaW9uU3Ry\nYXRlZ3k7CiAgICB9CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IGRpc2NyaW1p\nbmF0b3Igc3RyYXRlZ3kgYWxpYXMuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0RGlzY3JpbWluYXRvclN0cmF0ZWd5KCkgewogICAgICAgIHJldHVy\nbiBfZGlzY1N0cmF0ZWd5OwogICAgfQoKICAgIC8qKgogICAgICogRGVmYXVs\ndCBkaXNjcmltaW5hdG9yIHN0cmF0ZWd5IGFsaWFzLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXREaXNjcmltaW5hdG9yU3RyYXRlZ3koU3RyaW5nIGRp\nc2NTdHJhdGVneSkgewogICAgICAgIF9kaXNjU3RyYXRlZ3kgPSBkaXNjU3Ry\nYXRlZ3k7CiAgICB9CgogICAgLyoqCiAgICAgKiBQcm9wZXJ0eSBzdHJpbmcg\nbWFwcGluZyBmaWVsZCB0eXBlIG5hbWVzIHRvIHZhbHVlIGhhbmRsZXIgb3Ig\nZmllbGQKICAgICAqIG1hcHBpbmcgY2xhc3MgbmFtZXMuIEZvciBhdXRvLWNv\nbmZpZ3VyYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEZpZWxk\nU3RyYXRlZ2llcyhTdHJpbmcgZmllbGRNYXBTdHJpbmcpIHsKICAgICAgICBQ\ncm9wZXJ0aWVzIHByb3BzID0gQ29uZmlndXJhdGlvbnMucGFyc2VQcm9wZXJ0\naWVzKGZpZWxkTWFwU3RyaW5nKTsKICAgICAgICBpZiAocHJvcHMgIT0gbnVs\nbCkKICAgICAgICAgICAgX2ZpZWxkTWFwLnB1dEFsbChwcm9wcyk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBBc3NvY2lhdGlvbiBvZiBhIGZpZWxkIHZhbHVl\nIHR5cGUgbmFtZSB3aXRoIHRoZSBoYW5kbGVyIG9yIHN0cmF0ZWd5CiAgICAg\nKiBjbGFzcyBuYW1lLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRGaWVs\nZFN0cmF0ZWd5KFN0cmluZyB2YWx1ZVR5cGUsIFN0cmluZyBoYW5kbGVyVHlw\nZSkgewogICAgICAgIGlmIChoYW5kbGVyVHlwZSA9PSBudWxsKQogICAgICAg\nICAgICBfZmllbGRNYXAucmVtb3ZlKHZhbHVlVHlwZSk7CiAgICAgICAgZWxz\nZQogICAgICAgICAgICBfZmllbGRNYXAucHV0KHZhbHVlVHlwZSwgaGFuZGxl\nclR5cGUpOwogICAgfQoKICAgIC8qKgogICAgICogQXNzb2NpYXRpb24gb2Yg\nYSBmaWVsZCB2YWx1ZSB0eXBlIG5hbWUgd2l0aCB0aGUgaGFuZGxlciBvciBz\ndHJhdGVneQogICAgICogY2xhc3MgbmFtZS4KICAgICAqLwogICAgcHVibGlj\nIFN0cmluZyBnZXRGaWVsZFN0cmF0ZWd5KFN0cmluZyB2YWx1ZVR5cGUpIHsK\nICAgICAgICByZXR1cm4gKFN0cmluZykgX2ZpZWxkTWFwLmdldCh2YWx1ZVR5\ncGUpOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBzdG9yZSBl\nbnVtcyBhcyB0aGUgb3JkaW5hbCB2YWx1ZSByYXRoZXIgdGhhbiB0aGUgZW51\nbSBuYW1lLgogICAgICogRGVmYXVsdHMgdG8gZmFsc2UuCiAgICAgKi8KICAg\nIHB1YmxpYyBib29sZWFuIGdldFN0b3JlRW51bU9yZGluYWwoKSB7CiAgICAg\nICAgcmV0dXJuIF9vcmRpbmFsRW51bTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFdoZXRoZXIgdG8gc3RvcmUgZW51bXMgYXMgdGhlIG9yZGluYWwgdmFsdWUg\ncmF0aGVyIHRoYW4gdGhlIGVudW0gbmFtZS4KICAgICAqIERlZmF1bHRzIHRv\nIGZhbHNlLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRTdG9yZUVudW1P\ncmRpbmFsKGJvb2xlYW4gb3JkaW5hbCkgewogICAgICAgIF9vcmRpbmFsRW51\nbSA9IG9yZGluYWw7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRv\nIHN0b3JlIGEgcmVsYXRpb24gdG8gYW4gdW5tYXBwZWQgY2xhc3MgYnkgc3Ry\naW5naWZ5aW5nIHRoZQogICAgICogb2lkIG9mIHRoZSByZWxhdGVkIG9iamVj\ndCwgcmF0aGVyIHRoYW4gc3RvcmluZyBwcmltYXJ5IGtleSB2YWx1ZXMuCiAg\nICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdldFN0b3JlVW5tYXBwZWRPYmpl\nY3RJZFN0cmluZygpIHsKICAgICAgICByZXR1cm4gX3N0cmluZ2lmeVVubWFw\ncGVkOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBzdG9yZSBh\nIHJlbGF0aW9uIHRvIGFuIHVubWFwcGVkIGNsYXNzIGJ5IHN0cmluZ2lmeWlu\nZyB0aGUKICAgICAqIG9pZCBvZiB0aGUgcmVsYXRlZCBvYmplY3QsIHJhdGhl\nciB0aGFuIHN0b3JpbmcgcHJpbWFyeSBrZXkgdmFsdWVzLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRTdG9yZVVubWFwcGVkT2JqZWN0SWRTdHJpbmco\nYm9vbGVhbiBzdHJpbmdpZnkpIHsKICAgICAgICBfc3RyaW5naWZ5VW5tYXBw\nZWQgPSBzdHJpbmdpZnk7CiAgICB9CgogICAgLyoqCiAgICAgKiBEZWZhdWx0\nIGZvcmVpZ24ga2V5IGFjdGlvbiBmb3Igam9pbiBrZXlzLiBEZWZhdWx0cyB0\nbyBsb2dpY2FsIGtleXMuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0Sm9p\nbkZvcmVpZ25LZXlEZWxldGVBY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIF9q\nb2luRktBY3Rpb247CiAgICB9CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IGZv\ncmVpZ24ga2V5IGFjdGlvbiBmb3Igam9pbiBrZXlzLiBEZWZhdWx0cyB0byBs\nb2dpY2FsIGtleXMuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEpvaW5G\nb3JlaWduS2V5RGVsZXRlQWN0aW9uKGludCBqb2luRktBY3Rpb24pIHsKICAg\nICAgICBfam9pbkZLQWN0aW9uID0gam9pbkZLQWN0aW9uOwogICAgfQoKICAg\nIC8qKgogICAgICogRGVmYXVsdCBmb3JlaWduIGtleSBhY3Rpb24gbmFtZSBm\nb3Igam9pbiBrZXlzLiBVc2VkIGluIGF1dG8KICAgICAqIGNvbmZpZ3VyYXRp\nb24uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEpvaW5Gb3JlaWduS2V5\nRGVsZXRlQWN0aW9uKFN0cmluZyBqb2luRktBY3Rpb24pIHsKICAgICAgICBf\nam9pbkZLQWN0aW9uID0gRm9yZWlnbktleS5nZXRBY3Rpb24oam9pbkZLQWN0\naW9uKTsKICAgIH0KCiAgICAvKioKICAgICAqIERlZmF1bHQgZm9yZWlnbiBr\nZXkgYWN0aW9uIGZvciByZWxhdGlvbiBrZXlzLiBEZWZhdWx0cyB0byBsb2dp\nY2FsIGtleXMuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0Rm9yZWlnbktl\neURlbGV0ZUFjdGlvbigpIHsKICAgICAgICByZXR1cm4gX2ZrQWN0aW9uOwog\nICAgfQoKICAgIC8qKgogICAgICogRGVmYXVsdCBmb3JlaWduIGtleSBhY3Rp\nb24gZm9yIHJlbGF0aW9uIGtleXMuIERlZmF1bHRzIHRvIGxvZ2ljYWwga2V5\ncy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0Rm9yZWlnbktleURlbGV0\nZUFjdGlvbihpbnQgZmtBY3Rpb24pIHsKICAgICAgICBfZmtBY3Rpb24gPSBm\na0FjdGlvbjsKICAgIH0KCiAgICAvKioKICAgICAqIERlZmF1bHQgZm9yZWln\nbiBrZXkgYWN0aW9uIG5hbWUgZm9yIHJlbGF0aW9uIGtleXMuIFVzZWQgaW4g\nYXV0bwogICAgICogY29uZmlndXJhdGlvbi4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgc2V0Rm9yZWlnbktleURlbGV0ZUFjdGlvbihTdHJpbmcgZmtBY3Rp\nb24pIHsKICAgICAgICBfZmtBY3Rpb24gPSBGb3JlaWduS2V5LmdldEFjdGlv\nbihma0FjdGlvbik7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRv\nIGluZGV4IGxvZ2ljYWwgZm9yZWlnbiBrZXlzIGJ5IGRlZmF1bHQuIERlZmF1\nbHRzIHRvIHRydWUuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdldElu\nZGV4TG9naWNhbEZvcmVpZ25LZXlzKCkgewogICAgICAgIHJldHVybiBfaW5k\nZXhGSzsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gaW5kZXgg\nbG9naWNhbCBmb3JlaWduIGtleXMgYnkgZGVmYXVsdC4gRGVmYXVsdHMgdG8g\ndHJ1ZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0SW5kZXhMb2dpY2Fs\nRm9yZWlnbktleXMoYm9vbGVhbiBpbmRleEZLKSB7CiAgICAgICAgX2luZGV4\nRksgPSBpbmRleEZLOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0\nbyBpbmRleCBkaXNjcmltaW5hdG9yIGNvbHVtbnMgYnkgZGVmYXVsdC4gRGVm\nYXVsdHMgdG8gdHJ1ZS4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0\nSW5kZXhEaXNjcmltaW5hdG9yKCkgewogICAgICAgIHJldHVybiBfaW5kZXhE\naXNjOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBpbmRleCBk\naXNjcmltaW5hdG9yIGNvbHVtbnMgYnkgZGVmYXVsdC4gRGVmYXVsdHMgdG8g\ndHJ1ZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0SW5kZXhEaXNjcmlt\naW5hdG9yKGJvb2xlYW4gaW5kZXhEaXNjKSB7CiAgICAgICAgX2luZGV4RGlz\nYyA9IGluZGV4RGlzYzsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIg\ndG8gaW5kZXggdmVyc2lvbiBjb2x1bW5zIGJ5IGRlZmF1bHQuIERlZmF1bHRz\nIHRvIHRydWUuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdldEluZGV4\nVmVyc2lvbigpIHsKICAgICAgICByZXR1cm4gX2luZGV4VmVyczsKICAgIH0K\nCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gaW5kZXggdmVyc2lvbiBjb2x1\nbW5zIGJ5IGRlZmF1bHQuIERlZmF1bHRzIHRvIHRydWUuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldEluZGV4VmVyc2lvbihib29sZWFuIGluZGV4VmVy\ncykgewogICAgICAgIF9pbmRleFZlcnMgPSBpbmRleFZlcnM7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIG9yZGVyIGxpc3RzIGFuZCBhcnJh\neXMgdXNpbmcgYSBkZWRpY2F0ZWQgb3JkZXJpbmcgY29sdW1uCiAgICAgKiBi\neSBkZWZhdWx0LgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRPcmRl\nckxpc3RzKCkgewogICAgICAgIHJldHVybiBfb3JkZXJMaXN0czsKICAgIH0K\nCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gb3JkZXIgbGlzdHMgYW5kIGFy\ncmF5cyB1c2luZyBhIGRlZGljYXRlZCBvcmRlcmluZyBjb2x1bW4KICAgICAq\nIGJ5IGRlZmF1bHQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldE9yZGVy\nTGlzdHMoYm9vbGVhbiBvcmRlckxpc3RzKSB7CiAgICAgICAgX29yZGVyTGlz\ndHMgPSBvcmRlckxpc3RzOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhl\nciB0byBhZGQgYSBzeW50aGV0aWMgbnVsbCBpbmRpY2F0b3IgY29sdW1uIHRv\nIGVtYmVkZGVkIG1hcHBpbmdzCiAgICAgKiBieSBkZWZhdWx0LgogICAgICov\nCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRBZGROdWxsSW5kaWNhdG9yKCkgewog\nICAgICAgIHJldHVybiBfYWRkTnVsbEluZDsKICAgIH0KCiAgICAvKioKICAg\nICAqIFdoZXRoZXIgdG8gYWRkIGEgc3ludGhldGljIG51bGwgaW5kaWNhdG9y\nIGNvbHVtbiB0byBlbWJlZGRlZCBtYXBwaW5ncwogICAgICogYnkgZGVmYXVs\ndC4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0QWRkTnVsbEluZGljYXRv\ncihib29sZWFuIGFkZE51bGxJbmQpIHsKICAgICAgICBfYWRkTnVsbEluZCA9\nIGFkZE51bGxJbmQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRv\nIGRlZmVyIGNvbnN0cmFpbnRzIGJ5IGRlZmF1bHQuIERlZmF1bHRzIHRvIGZh\nbHNlLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXREZWZlckNvbnN0\ncmFpbnRzKCkgewogICAgICAgIHJldHVybiBfZGVmZXI7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBXaGV0aGVyIHRvIGRlZmVyIGNvbnN0cmFpbnRzIGJ5IGRl\nZmF1bHQuIERlZmF1bHRzIHRvIGZhbHNlLgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCBzZXREZWZlckNvbnN0cmFpbnRzKGJvb2xlYW4gZGVmZXIpIHsKICAg\nICAgICBfZGVmZXIgPSBkZWZlcjsKICAgIH0KCiAgICAvKioKICAgICAqIERl\nZmF1bHQgYmFzZSBuYW1lIGZvciBkYXRhc3RvcmUgaWRlbnRpdHkgY29sdW1u\ncywgb3IgbnVsbCB0byB0aGUKICAgICAqIG1hcHBpbmcncyBidWlsdC1pbiBu\nYW1lLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldERhdGFTdG9yZUlk\nQ29sdW1uTmFtZSgpIHsKICAgICAgICByZXR1cm4gX2RzSWROYW1lOwogICAg\nfQoKICAgIC8qKgogICAgICogRGVmYXVsdCBiYXNlIG5hbWUgZm9yIGRhdGFz\ndG9yZSBpZGVudGl0eSBjb2x1bW5zLCBvciBudWxsIHRvIHRoZQogICAgICog\nbWFwcGluZydzIGJ1aWx0LWluIG5hbWUuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldERhdGFTdG9yZUlkQ29sdW1uTmFtZShTdHJpbmcgZHNJZE5hbWUp\nIHsKICAgICAgICBfZHNJZE5hbWUgPSBkc0lkTmFtZTsKICAgIH0KCiAgICAv\nKioKICAgICAqIERlZmF1bHQgYmFzZSBuYW1lIGZvciB2ZXJzaW9uIGlkZW50\naXR5IGNvbHVtbnMsIG9yIG51bGwgdG8gdGhlIG1hcHBpbmcncwogICAgICog\nYnVpbHQtaW4gbmFtZS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRW\nZXJzaW9uQ29sdW1uTmFtZSgpIHsKICAgICAgICByZXR1cm4gX3ZlcnNOYW1l\nOwogICAgfQoKICAgIC8qKgogICAgICogRGVmYXVsdCBiYXNlIG5hbWUgZm9y\nIHZlcnNpb24gaWRlbnRpdHkgY29sdW1ucywgb3IgbnVsbCB0byB0aGUgbWFw\ncGluZydzCiAgICAgKiBidWlsdC1pbiBuYW1lLgogICAgICovCiAgICBwdWJs\naWMgdm9pZCBzZXRWZXJzaW9uQ29sdW1uTmFtZShTdHJpbmcgdmVyc05hbWUp\nIHsKICAgICAgICBfdmVyc05hbWUgPSB2ZXJzTmFtZTsKICAgIH0KCiAgICAv\nKioKICAgICAqIERlZmF1bHQgYmFzZSBuYW1lIGZvciBkaXNjcmltaW5hdG9y\nIGNvbHVtbnMsIG9yIG51bGwgdG8gdGhlIG1hcHBpbmcncwogICAgICogYnVp\nbHQtaW4gbmFtZS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXREaXNj\ncmltaW5hdG9yQ29sdW1uTmFtZSgpIHsKICAgICAgICByZXR1cm4gX2Rpc2NO\nYW1lOwogICAgfQoKICAgIC8qKgogICAgICogRGVmYXVsdCBiYXNlIG5hbWUg\nZm9yIGRpc2NyaW1pbmF0b3IgY29sdW1ucywgb3IgbnVsbCB0byB0aGUgbWFw\ncGluZydzCiAgICAgKiBidWlsdC1pbiBuYW1lLgogICAgICovCiAgICBwdWJs\naWMgdm9pZCBzZXREaXNjcmltaW5hdG9yQ29sdW1uTmFtZShTdHJpbmcgZGlz\nY05hbWUpIHsKICAgICAgICBfZGlzY05hbWUgPSBkaXNjTmFtZTsKICAgIH0K\nCiAgICAvKioKICAgICAqIERlZmF1bHQgYmFzZSBuYW1lIGZvciBvcmRlciBj\nb2x1bW5zLCBvciBudWxsIHRvIHRoZSBtYXBwaW5nJ3MKICAgICAqIGJ1aWx0\nLWluIG5hbWUuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0T3JkZXJD\nb2x1bW5OYW1lKCkgewogICAgICAgIHJldHVybiBfb3JkZXJOYW1lOwogICAg\nfQoKICAgIC8qKgogICAgICogRGVmYXVsdCBiYXNlIG5hbWUgZm9yIG9yZGVy\nIGNvbHVtbnMsIG9yIG51bGwgdG8gdGhlIG1hcHBpbmcncwogICAgICogYnVp\nbHQtaW4gbmFtZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0T3JkZXJD\nb2x1bW5OYW1lKFN0cmluZyBvcmRlck5hbWUpIHsKICAgICAgICBfb3JkZXJO\nYW1lID0gb3JkZXJOYW1lOwogICAgfQoKICAgIC8qKgogICAgICogRGVmYXVs\ndCBiYXNlIG5hbWUgZm9yIG51bGwgaW5kaWNhdG9yIGNvbHVtbnMsIG9yIG51\nbGwgdG8gdGhlIG1hcHBpbmcncwogICAgICogYnVpbHQtaW4gbmFtZS4KICAg\nICAqLwogICAgcHVibGljIFN0cmluZyBnZXROdWxsSW5kaWNhdG9yQ29sdW1u\nTmFtZSgpIHsKICAgICAgICByZXR1cm4gX251bGxJbmROYW1lOwogICAgfQoK\nICAgIC8qKgogICAgICogRGVmYXVsdCBiYXNlIG5hbWUgZm9yIG51bGwgaW5k\naWNhdG9yIGNvbHVtbnMsIG9yIG51bGwgdG8gdGhlIG1hcHBpbmcncwogICAg\nICogYnVpbHQtaW4gbmFtZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nTnVsbEluZGljYXRvckNvbHVtbk5hbWUoU3RyaW5nIG51bGxJbmROYW1lKSB7\nCiAgICAgICAgX251bGxJbmROYW1lID0gbnVsbEluZE5hbWU7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gZGVmYXVsdE1pc3NpbmdJbmZvKCkgewogICAg\nICAgIHJldHVybiBfZGVmTWlzc2luZzsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXREZWZhdWx0TWlzc2luZ0luZm8oYm9vbGVhbiBkZWZNaXNzaW5nKSB7\nCiAgICAgICAgX2RlZk1pc3NpbmcgPSBkZWZNaXNzaW5nOwogICAgfQoKICAg\nIHB1YmxpYyBib29sZWFuIHVzZUNsYXNzQ3JpdGVyaWEoKSB7CiAgICAgICAg\ncmV0dXJuIF9jbGFzc0NyaXRlcmlhOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFVzZUNsYXNzQ3JpdGVyaWEoYm9vbGVhbiBjbGFzc0NyaXRlcmlhKSB7\nCiAgICAgICAgX2NsYXNzQ3JpdGVyaWEgPSBjbGFzc0NyaXRlcmlhOwogICAg\nfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0U3RyYXRlZ3koQ2xhc3NNYXBwaW5n\nIGNscywgYm9vbGVhbiBhZGFwdCkgewogICAgICAgIGlmIChhZGFwdCB8fCBk\nZWZhdWx0TWlzc2luZ0luZm8oKSkKICAgICAgICAgICAgcmV0dXJuIChjbHMu\nZ2V0TWFwcGVkUENTdXBlcmNsYXNzTWFwcGluZygpID09IG51bGwpCiAgICAg\nICAgICAgICAgICA/IF9iYXNlQ2xhc3NTdHJhdGVneSA6IF9zdWJjbGFzc1N0\ncmF0ZWd5OwogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1Ymxp\nYyBPYmplY3QgZ2V0U3RyYXRlZ3koVmVyc2lvbiB2ZXJzLCBib29sZWFuIGFk\nYXB0KSB7CiAgICAgICAgQ2xhc3NNYXBwaW5nIGNscyA9IHZlcnMuZ2V0Q2xh\nc3NNYXBwaW5nKCk7CiAgICAgICAgaWYgKChhZGFwdCB8fCBkZWZhdWx0TWlz\nc2luZ0luZm8oKSkKICAgICAgICAgICAgJiYgY2xzLmdldEpvaW5hYmxlUENT\ndXBlcmNsYXNzTWFwcGluZygpID09IG51bGwKICAgICAgICAgICAgJiYgY2xz\nLmdldFZlcnNpb25GaWVsZCgpID09IG51bGwpCiAgICAgICAgICAgIHJldHVy\nbiBfdmVyc2lvblN0cmF0ZWd5OwogICAgICAgIHJldHVybiBudWxsOwogICAg\nfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0U3RyYXRlZ3koRGlzY3JpbWluYXRv\nciBkaXNjLCBib29sZWFuIGFkYXB0KSB7CiAgICAgICAgQ2xhc3NNYXBwaW5n\nIGNscyA9IGRpc2MuZ2V0Q2xhc3NNYXBwaW5nKCk7CiAgICAgICAgaWYgKChh\nZGFwdCB8fCBkZWZhdWx0TWlzc2luZ0luZm8oKSkKICAgICAgICAgICAgJiYg\nY2xzLmdldEpvaW5hYmxlUENTdXBlcmNsYXNzTWFwcGluZygpID09IG51bGwK\nICAgICAgICAgICAgJiYgZGlzYy5nZXRNYXBwaW5nSW5mbygpLmdldFZhbHVl\nKCkgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIF9kaXNjU3RyYXRlZ3k7\nCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIE9iamVj\ndCBnZXRTdHJhdGVneShWYWx1ZU1hcHBpbmcgdm0sIENsYXNzIHR5cGUsIGJv\nb2xlYW4gYWRhcHQpIHsKICAgICAgICBPYmplY3QgcmV0ID0gX2ZpZWxkTWFw\nLmdldCh0eXBlLmdldE5hbWUoKSk7CiAgICAgICAgaWYgKHJldCAhPSBudWxs\nKQogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIGlmIChfc3RyaW5n\naWZ5VW5tYXBwZWQgJiYgdm0uZ2V0VHlwZU1hcHBpbmcoKSAhPSBudWxsCiAg\nICAgICAgICAgICYmICF2bS5nZXRUeXBlTWFwcGluZygpLmlzTWFwcGVkKCkp\nCiAgICAgICAgICAgIHJldHVybiBVbnR5cGVkUENWYWx1ZUhhbmRsZXIuZ2V0\nSW5zdGFuY2UoKTsKICAgICAgICBpZiAoX29yZGluYWxFbnVtICYmICF2bS5p\nc1NlcmlhbGl6ZWQoKQogICAgICAgICAgICAmJiBKYXZhVmVyc2lvbnMuaXNF\nbnVtZXJhdGlvbih0eXBlKSkKICAgICAgICAgICAgcmV0dXJuICJvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0cy5FbnVtVmFsdWVIYW5kbGVy\nIgogICAgICAgICAgICAgICAgKyAiKFN0b3JlT3JkaW5hbD10cnVlKSI7CiAg\nICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBQcm92\naWRlcyBhIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBnaXZlbiBEaXNjcmltaW5h\ndG9yLiAKICAgICAqIAogICAgICogPFA+CiAgICAgKiBUaGUgdHlwZSBvZiB0\naGUgb2JqZWN0IHJldHVybmVkIHJlbGllcyBvbiB0aGUgamF2YVR5cGUgZmll\nbGQgYmVpbmcgc2V0IG9uIAogICAgICogdGhlIERpc2NyaW1pbmF0b3Igd2hp\nY2ggaXMgcHJvdmlkZWQuCiAgICAgKiA8VEFCTEUgYm9yZGVyPSIyIj4gCiAg\nICAgKiA8VEg+SmF2YVR5cGUKICAgICAqIDxUSD5EZWZhdWx0IHZhbHVlCiAg\nICAgKiA8VEJPRFk+CiAgICAgKiA8VFI+PFREPntAbGluayBKYXZhVHlwZXMu\nSU5UfTxURD4gVGhlIGhhc2hjb2RlIG9mIHRoZSBlbnRpdHkgbmFtZTwvVFI+\nCiAgICAgKiA8VFI+PFREPntAbGluayBKYXZhVHlwZXMuQ0hBUn08VEQ+VGhl\nIGZpcnN0IGNoYXJhY3RlciBvZiB0aGUgZW50aXR5IG5hbWUgCiAgICAgKiA8\nL1RSPgogICAgICogPFRSPjxURD57QGxpbmsgSmF2YVR5cGVzLlNUUklOR308\nVEQ+VGhlIGVudGl0eSBuYW1lPC9UUj4KICAgICAqIDwvVEJPRFk+CiAgICAg\nKiA8L1RBQkxFPgogICAgICogCiAgICAgKiBAcGFyYW0gZGlzYyBUaGUgZGlz\nY3JpbWluYXRvciB0aGF0IG5lZWRzIGEgZGVmYXVsdCB2YWx1ZQogICAgICog\nQHBhcmFtIGFkYXB0IAogICAgICogCiAgICAgKiBAcmV0dXJuIEEgbmV3IG9i\namVjdCBjb250YWluaW5nIHRoZSBnZW5lcmF0ZWQgRGlzY3JpbWluYXRvciB2\nYWx1ZS4KICAgICAqLwogICAgcHVibGljIE9iamVjdCBnZXREaXNjcmltaW5h\ndG9yVmFsdWUoRGlzY3JpbWluYXRvciBkaXNjLCBib29sZWFuIGFkYXB0KSB7\nCiAgICAgICAgaWYgKCFhZGFwdCAmJiAhZGVmYXVsdE1pc3NpbmdJbmZvKCkp\nCiAgICAgICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICAvLyBXQVJOSU5H\nOiBDSEFOR0lORyBUSElTIFdJTEwgSU5WQUxJREFURSBFWElTVElORyBEQVRB\nIElGIERFRkFVTFRJTkcKICAgICAgICAvLyBNSVNTSU5HIE1BUFBJTkcgSU5G\nTwogICAgICAgIAogICAgICAgIFN0cmluZyBhbGlhcyA9IFN0cmluZ3MuZ2V0\nQ2xhc3NOYW1lKGRpc2MuZ2V0Q2xhc3NNYXBwaW5nKCkKICAgICAgICAgICAg\nICAgIC5nZXRUeXBlQWxpYXMoKSk7CiAgICAgICAgCiAgICAgICAgc3dpdGNo\nIChkaXNjLmdldEphdmFUeXBlKCkpIHsKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuSU5UOgogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlZ2Vy\nKGFsaWFzLmhhc2hDb2RlKCkpOwogICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5DSEFSOgogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFyYWN0ZXIo\nYWxpYXMuY2hhckF0KDApKTsgCiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLlNUUklORzoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAg\nIHJldHVybiBhbGlhczsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRUYWJsZU5hbWUoQ2xhc3NNYXBwaW5nIGNscywgU2NoZW1hIHNj\naGVtYSkgewogICAgICAgIFN0cmluZyBuYW1lID0gU3RyaW5ncy5nZXRDbGFz\nc05hbWUoY2xzLmdldERlc2NyaWJlZFR5cGUoKSkuCiAgICAgICAgICAgIHJl\ncGxhY2UoJyQnLCAnXycpOwogICAgICAgIGlmICghX2RlZk1pc3NpbmcpCiAg\nICAgICAgICAgIG5hbWUgPSBkaWN0LmdldFZhbGlkVGFibGVOYW1lKG5hbWUs\nIHNjaGVtYSk7CiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyBnZXRUYWJsZU5hbWUoRmllbGRNYXBwaW5nIGZtLCBTY2hl\nbWEgc2NoZW1hKSB7CiAgICAgICAgU3RyaW5nIG5hbWUgPSBmbS5nZXROYW1l\nKCk7CiAgICAgICAgVGFibGUgdGFibGUgPSBmbS5nZXREZWZpbmluZ01hcHBp\nbmcoKS5nZXRUYWJsZSgpOwogICAgICAgIGlmICh0YWJsZSAhPSBudWxsKSB7\nCiAgICAgICAgICAgIFN0cmluZyB0YWJsZU5hbWUgPSB0YWJsZS5nZXROYW1l\nKCk7CiAgICAgICAgICAgIGlmICh0YWJsZU5hbWUubGVuZ3RoKCkgPiA1KQog\nICAgICAgICAgICAgICAgdGFibGVOYW1lID0gdGFibGVOYW1lLnN1YnN0cmlu\nZygwLCA1KTsKICAgICAgICAgICAgbmFtZSA9IHRhYmxlTmFtZSArICJfIiAr\nIG5hbWU7CiAgICAgICAgfQogICAgICAgIGlmICghX2RlZk1pc3NpbmcpCiAg\nICAgICAgICAgIG5hbWUgPSBkaWN0LmdldFZhbGlkVGFibGVOYW1lKG5hbWUs\nIHNjaGVtYSk7CiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgcG9wdWxhdGVEYXRhU3RvcmVJZENvbHVtbnMoQ2xhc3NNYXBw\naW5nIGNscywgVGFibGUgdGFibGUsCiAgICAgICAgQ29sdW1uW10gY29scykg\newogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgY29scy5sZW5ndGg7IGkr\nKykgewogICAgICAgICAgICBpZiAoX2RzSWROYW1lICE9IG51bGwgJiYgY29s\ncy5sZW5ndGggPT0gMSkKICAgICAgICAgICAgICAgIGNvbHNbaV0uc2V0TmFt\nZShfZHNJZE5hbWUpOwogICAgICAgICAgICBlbHNlIGlmIChfZHNJZE5hbWUg\nIT0gbnVsbCkKICAgICAgICAgICAgICAgIGNvbHNbaV0uc2V0TmFtZShfZHNJ\nZE5hbWUgKyBpKTsKICAgICAgICAgICAgY29ycmVjdE5hbWUodGFibGUsIGNv\nbHNbaV0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENvcnJl\nY3QgdGhlIGdpdmVuIGNvbHVtbidzIG5hbWUuCiAgICAgKi8KICAgIHByb3Rl\nY3RlZCB2b2lkIGNvcnJlY3ROYW1lKFRhYmxlIHRhYmxlLCBDb2x1bW4gY29s\nKSB7CiAgICAgICAgaWYgKCFfZGVmTWlzc2luZykKICAgICAgICAgICAgY29s\nLnNldE5hbWUoZGljdC5nZXRWYWxpZENvbHVtbk5hbWUoY29sLmdldE5hbWUo\nKSwgdGFibGUpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwb3B1bGF0ZUNv\nbHVtbnMoVmVyc2lvbiB2ZXJzLCBUYWJsZSB0YWJsZSwgQ29sdW1uW10gY29s\ncykgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgY29scy5sZW5ndGg7\nIGkrKykgewogICAgICAgICAgICBpZiAoX3ZlcnNOYW1lICE9IG51bGwgJiYg\nY29scy5sZW5ndGggPT0gMSkKICAgICAgICAgICAgICAgIGNvbHNbaV0uc2V0\nTmFtZShfdmVyc05hbWUpOwogICAgICAgICAgICBlbHNlIGlmIChfdmVyc05h\nbWUgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkKICAg\nICAgICAgICAgICAgICAgICBjb2xzW2ldLnNldE5hbWUoX3ZlcnNOYW1lKTsK\nICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBjb2xz\nW2ldLnNldE5hbWUoX3ZlcnNOYW1lICsgIl8iICsgaSk7CiAgICAgICAgICAg\nIH0gZWxzZSBpZiAoX3ZlcnNOYW1lICE9IG51bGwpCiAgICAgICAgICAgICAg\nICBjb2xzW2ldLnNldE5hbWUoX3ZlcnNOYW1lICsgaSk7CiAgICAgICAgICAg\nIGNvcnJlY3ROYW1lKHRhYmxlLCBjb2xzW2ldKTsKICAgICAgICB9CiAgICB9\nCgogICAgcHVibGljIHZvaWQgcG9wdWxhdGVDb2x1bW5zKERpc2NyaW1pbmF0\nb3IgZGlzYywgVGFibGUgdGFibGUsCiAgICAgICAgQ29sdW1uW10gY29scykg\newogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgY29scy5sZW5ndGg7IGkr\nKykgewogICAgICAgICAgICBpZiAoX2Rpc2NOYW1lICE9IG51bGwgJiYgY29s\ncy5sZW5ndGggPT0gMSkKICAgICAgICAgICAgICAgIGNvbHNbaV0uc2V0TmFt\nZShfZGlzY05hbWUpOwogICAgICAgICAgICBlbHNlIGlmIChfZGlzY05hbWUg\nIT0gbnVsbCkKICAgICAgICAgICAgICAgIGNvbHNbaV0uc2V0TmFtZShfZGlz\nY05hbWUgKyBpKTsKICAgICAgICAgICAgY29ycmVjdE5hbWUodGFibGUsIGNv\nbHNbaV0pOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwb3B1\nbGF0ZUpvaW5Db2x1bW4oQ2xhc3NNYXBwaW5nIGNtLCBUYWJsZSBsb2NhbCwg\nVGFibGUgZm9yZWlnbiwKICAgICAgICBDb2x1bW4gY29sLCBPYmplY3QgdGFy\nZ2V0LCBpbnQgcG9zLCBpbnQgY29scykgewogICAgICAgIGNvcnJlY3ROYW1l\nKGxvY2FsLCBjb2wpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHBvcHVsYXRl\nSm9pbkNvbHVtbihGaWVsZE1hcHBpbmcgZm0sIFRhYmxlIGxvY2FsLCBUYWJs\nZSBmb3JlaWduLAogICAgICAgIENvbHVtbiBjb2wsIE9iamVjdCB0YXJnZXQs\nIGludCBwb3MsIGludCBjb2xzKSB7CiAgICAgICAgY29ycmVjdE5hbWUobG9j\nYWwsIGNvbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcG9wdWxhdGVGb3Jl\naWduS2V5Q29sdW1uKFZhbHVlTWFwcGluZyB2bSwgU3RyaW5nIG5hbWUsCiAg\nICAgICAgVGFibGUgbG9jYWwsIFRhYmxlIGZvcmVpZ24sIENvbHVtbiBjb2ws\nIE9iamVjdCB0YXJnZXQsIGJvb2xlYW4gaW52ZXJzZSwKICAgICAgICBpbnQg\ncG9zLCBpbnQgY29scykgewogICAgICAgIGlmIChjb2xzID09IDEpCiAgICAg\nICAgICAgIGNvbC5zZXROYW1lKG5hbWUpOwogICAgICAgIGVsc2UgaWYgKHRh\ncmdldCBpbnN0YW5jZW9mIENvbHVtbikKICAgICAgICAgICAgY29sLnNldE5h\nbWUobmFtZSArICJfIiArICgoQ29sdW1uKSB0YXJnZXQpLmdldE5hbWUoKSk7\nCiAgICAgICAgY29ycmVjdE5hbWUobG9jYWwsIGNvbCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgcG9wdWxhdGVDb2x1bW5zKFZhbHVlTWFwcGluZyB2bSwg\nU3RyaW5nIG5hbWUsIFRhYmxlIHRhYmxlLAogICAgICAgIENvbHVtbltdIGNv\nbHMpIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGNvbHMubGVuZ3Ro\nOyBpKyspCiAgICAgICAgICAgIGNvcnJlY3ROYW1lKHRhYmxlLCBjb2xzW2ld\nKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBwb3B1bGF0ZU9yZGVyQ29s\ndW1ucyhGaWVsZE1hcHBpbmcgZm0sIFRhYmxlIHRhYmxlLAogICAgICAgIENv\nbHVtbltdIGNvbHMpIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGNv\nbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKF9vcmRlck5hbWUg\nIT0gbnVsbCAmJiBjb2xzLmxlbmd0aCA9PSAxKQogICAgICAgICAgICAgICAg\nY29sc1tpXS5zZXROYW1lKF9vcmRlck5hbWUpOwogICAgICAgICAgICBlbHNl\nIGlmIChfb3JkZXJOYW1lICE9IG51bGwpCiAgICAgICAgICAgICAgICBjb2xz\nW2ldLnNldE5hbWUoX29yZGVyTmFtZSArIGkpOwogICAgICAgICAgICBjb3Jy\nZWN0TmFtZSh0YWJsZSwgY29sc1tpXSk7CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiBfb3JkZXJMaXN0cyAmJiAoSmF2YVR5cGVzLkFSUkFZID09IGZtLmdl\ndFR5cGVDb2RlKCkKICAgICAgICAgICAgfHwgTGlzdC5jbGFzcy5pc0Fzc2ln\nbmFibGVGcm9tKGZtLmdldFR5cGUoKSkpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIHBvcHVsYXRlTnVsbEluZGljYXRvckNvbHVtbnMoVmFsdWVNYXBw\naW5nIHZtLCBTdHJpbmcgbmFtZSwKICAgICAgICBUYWJsZSB0YWJsZSwgQ29s\ndW1uW10gY29scykgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgY29s\ncy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoX251bGxJbmROYW1l\nICE9IG51bGwgJiYgY29scy5sZW5ndGggPT0gMSkKICAgICAgICAgICAgICAg\nIGNvbHNbaV0uc2V0TmFtZShfbnVsbEluZE5hbWUpOwogICAgICAgICAgICBl\nbHNlIGlmIChfbnVsbEluZE5hbWUgIT0gbnVsbCkKICAgICAgICAgICAgICAg\nIGNvbHNbaV0uc2V0TmFtZShfbnVsbEluZE5hbWUgKyBpKTsKICAgICAgICAg\nICAgY29ycmVjdE5hbWUodGFibGUsIGNvbHNbaV0pOwogICAgICAgIH0KICAg\nICAgICByZXR1cm4gX2FkZE51bGxJbmQ7CiAgICB9CgogICAgcHVibGljIEZv\ncmVpZ25LZXkgZ2V0Sm9pbkZvcmVpZ25LZXkoQ2xhc3NNYXBwaW5nIGNscywg\nVGFibGUgbG9jYWwsCiAgICAgICAgVGFibGUgZm9yZWlnbikgewogICAgICAg\nIGlmIChfam9pbkZLQWN0aW9uID09IEZvcmVpZ25LZXkuQUNUSU9OX05PTkUp\nCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIEZvcmVpZ25LZXkg\nZmsgPSBuZXcgRm9yZWlnbktleSgpOwogICAgICAgIGZrLnNldERlbGV0ZUFj\ndGlvbihfam9pbkZLQWN0aW9uKTsKICAgICAgICBmay5zZXREZWZlcnJlZChf\nZGVmZXIpOwogICAgICAgIHJldHVybiBmazsKICAgIH0KCiAgICBwdWJsaWMg\nRm9yZWlnbktleSBnZXRKb2luRm9yZWlnbktleShGaWVsZE1hcHBpbmcgZm0s\nIFRhYmxlIGxvY2FsLAogICAgICAgIFRhYmxlIGZvcmVpZ24pIHsKICAgICAg\nICBpZiAoX2pvaW5GS0FjdGlvbiA9PSBGb3JlaWduS2V5LkFDVElPTl9OT05F\nKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBGb3JlaWduS2V5\nIGZrID0gbmV3IEZvcmVpZ25LZXkoKTsKICAgICAgICBmay5zZXREZWxldGVB\nY3Rpb24oX2pvaW5GS0FjdGlvbik7CiAgICAgICAgZmsuc2V0RGVmZXJyZWQo\nX2RlZmVyKTsKICAgICAgICByZXR1cm4gZms7CiAgICB9CgogICAgcHVibGlj\nIEZvcmVpZ25LZXkgZ2V0Rm9yZWlnbktleShWYWx1ZU1hcHBpbmcgdm0sIFN0\ncmluZyBuYW1lLCBUYWJsZSBsb2NhbCwKICAgICAgICBUYWJsZSBmb3JlaWdu\nLCBib29sZWFuIGludmVyc2UpIHsKICAgICAgICBpZiAoX2ZrQWN0aW9uID09\nIEZvcmVpZ25LZXkuQUNUSU9OX05PTkUpCiAgICAgICAgICAgIHJldHVybiBu\ndWxsOwogICAgICAgIEZvcmVpZ25LZXkgZmsgPSBuZXcgRm9yZWlnbktleSgp\nOwogICAgICAgIGZrLnNldERlbGV0ZUFjdGlvbihfZmtBY3Rpb24pOwogICAg\nICAgIGZrLnNldERlZmVycmVkKF9kZWZlcik7CiAgICAgICAgcmV0dXJuIGZr\nOwogICAgfQoKICAgIHB1YmxpYyBJbmRleCBnZXRKb2luSW5kZXgoRmllbGRN\nYXBwaW5nIGZtLCBUYWJsZSB0YWJsZSwgQ29sdW1uW10gY29scykgewogICAg\nICAgIGlmICghX2luZGV4RksgfHwgZm0uZ2V0Sm9pbkZvcmVpZ25LZXkoKSA9\nPSBudWxsCiAgICAgICAgICAgIHx8ICFmbS5nZXRKb2luRm9yZWlnbktleSgp\nLmlzTG9naWNhbCgpKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAg\nICBpZiAoYXJlQWxsUHJpbWFyeUtleUNvbHVtbnMoY29scykpCiAgICAgICAg\nICAgIHJldHVybiBudWxsOwoKICAgICAgICBJbmRleCBpZHggPSBuZXcgSW5k\nZXgoKTsKICAgICAgICBpZHguc2V0TmFtZShnZXRJbmRleE5hbWUobnVsbCwg\ndGFibGUsIGNvbHMpKTsKICAgICAgICByZXR1cm4gaWR4OwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIHdoZXRoZXIgYWxsIHRoZSBnaXZlbiBjb2x1\nbW5zIGFyZSBwcmltYXJ5IGtleSBjb2x1bW5zLgogICAgICovCiAgICBwcm90\nZWN0ZWQgYm9vbGVhbiBhcmVBbGxQcmltYXJ5S2V5Q29sdW1ucyhDb2x1bW5b\nXSBjb2xzKSB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBjb2xzLmxl\nbmd0aDsgaSsrKQogICAgICAgICAgICBpZiAoIWNvbHNbaV0uaXNQcmltYXJ5\nS2V5KCkpCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAg\ncmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZW5lcmF0ZSBh\nbiBpbmRleCBuYW1lLgogICAgICovCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdl\ndEluZGV4TmFtZShTdHJpbmcgbmFtZSwgVGFibGUgdGFibGUsIENvbHVtbltd\nIGNvbHMpIHsKICAgICAgICAvLyBhbHdheXMgdXNlIGRpY3QgZm9yIGluZGV4\nIG5hbWVzIGJlY2F1c2Ugbm8gc3BlYyBtYW5kYXRlcyB0aGVtCiAgICAgICAg\nLy8gYmFzZWQgb24gZGVmYXVsdHMKICAgICAgICBpZiAobmFtZSA9PSBudWxs\nKQogICAgICAgICAgICBuYW1lID0gY29sc1swXS5nZXROYW1lKCk7CiAgICAg\nICAgcmV0dXJuIGRpY3QuZ2V0VmFsaWRJbmRleE5hbWUobmFtZSwgdGFibGUp\nOwogICAgfQoKICAgIHB1YmxpYyBJbmRleCBnZXRJbmRleChWYWx1ZU1hcHBp\nbmcgdm0sIFN0cmluZyBuYW1lLCBUYWJsZSB0YWJsZSwKICAgICAgICBDb2x1\nbW5bXSBjb2xzKSB7CiAgICAgICAgaWYgKCFfaW5kZXhGSyB8fCB2bS5nZXRG\nb3JlaWduS2V5KCkgPT0gbnVsbAogICAgICAgICAgICB8fCAhdm0uZ2V0Rm9y\nZWlnbktleSgpLmlzTG9naWNhbCgpKQogICAgICAgICAgICByZXR1cm4gbnVs\nbDsKICAgICAgICBpZiAoYXJlQWxsUHJpbWFyeUtleUNvbHVtbnMoY29scykp\nCiAgICAgICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICBJbmRleCBpZHgg\nPSBuZXcgSW5kZXgoKTsKICAgICAgICBpZHguc2V0TmFtZShnZXRJbmRleE5h\nbWUobmFtZSwgdGFibGUsIGNvbHMpKTsKICAgICAgICByZXR1cm4gaWR4Owog\nICAgfQoKICAgIHB1YmxpYyBJbmRleCBnZXRJbmRleChWZXJzaW9uIHZlcnMs\nIFRhYmxlIHRhYmxlLCBDb2x1bW5bXSBjb2xzKSB7CiAgICAgICAgaWYgKCFf\naW5kZXhWZXJzKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBJ\nbmRleCBpZHggPSBuZXcgSW5kZXgoKTsKICAgICAgICBpZHguc2V0TmFtZShn\nZXRJbmRleE5hbWUoX3ZlcnNOYW1lLCB0YWJsZSwgY29scykpOwogICAgICAg\nIHJldHVybiBpZHg7CiAgICB9CgogICAgcHVibGljIEluZGV4IGdldEluZGV4\nKERpc2NyaW1pbmF0b3IgZGlzYywgVGFibGUgdGFibGUsIENvbHVtbltdIGNv\nbHMpIHsKICAgICAgICBpZiAoIV9pbmRleERpc2MpCiAgICAgICAgICAgIHJl\ndHVybiBudWxsOwogICAgICAgIEluZGV4IGlkeCA9IG5ldyBJbmRleCgpOwog\nICAgICAgIGlkeC5zZXROYW1lKGdldEluZGV4TmFtZShfZGlzY05hbWUsIHRh\nYmxlLCBjb2xzKSk7CiAgICAgICAgcmV0dXJuIGlkeDsKICAgIH0KCiAgICBw\ndWJsaWMgVW5pcXVlIGdldEpvaW5VbmlxdWUoRmllbGRNYXBwaW5nIGZtLCBU\nYWJsZSB0YWJsZSwgQ29sdW1uW10gY29scykgewogICAgICAgIHJldHVybiBu\ndWxsOwogICAgfQoKICAgIHB1YmxpYyBVbmlxdWUgZ2V0VW5pcXVlKFZhbHVl\nTWFwcGluZyB2bSwgU3RyaW5nIG5hbWUsIFRhYmxlIHRhYmxlLAogICAgICAg\nIENvbHVtbltdIGNvbHMpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldFByaW1hcnlLZXlOYW1lKENsYXNzTWFw\ncGluZyBjbSwgVGFibGUgdGFibGUpIHsKICAgICAgICByZXR1cm4gbnVsbDsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBpbnN0YWxsUHJpbWFyeUtleShGaWVs\nZE1hcHBpbmcgZm0sIFRhYmxlIHRhYmxlKSB7CiAgICB9CgogICAgLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gQ29uZmlndXJhYmxl\nIGltcGxlbWVudGF0aW9uCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vCgogICAgcHVibGljIHZvaWQgc2V0Q29uZmlndXJhdGlvbihDb25m\naWd1cmF0aW9uIGNvbmYpIHsKICAgICAgICBkaWN0ID0gKChKREJDQ29uZmln\ndXJhdGlvbikgY29uZikuZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzdGFydENvbmZpZ3VyYXRpb24oKSB7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgZW5kQ29uZmlndXJhdGlvbigpIHsKICAg\nIH0KfQo=\n","encoding":"base64"}

