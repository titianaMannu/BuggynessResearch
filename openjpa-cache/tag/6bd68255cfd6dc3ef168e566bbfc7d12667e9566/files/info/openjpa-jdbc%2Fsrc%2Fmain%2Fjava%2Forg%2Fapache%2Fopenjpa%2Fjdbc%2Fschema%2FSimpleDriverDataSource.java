{"sha":"5a6395914146914c15335c536dbe9d2489749b55","node_id":"MDQ6QmxvYjIwNjM2NDo1YTYzOTU5MTQxNDY5MTRjMTUzMzVjNTM2ZGJlOWQyNDg5NzQ5YjU1","size":5356,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5a6395914146914c15335c536dbe9d2489749b55","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgamF2YS5pby5QcmludFdyaXRlcjsKaW1wb3J0IGphdmEuc2VjdXJpdHku\nQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEuc2VjdXJpdHkuUHJpdmls\nZWdlZEFjdGlvbkV4Y2VwdGlvbjsKaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rp\nb247CmltcG9ydCBqYXZhLnNxbC5Ecml2ZXI7CmltcG9ydCBqYXZhLnNxbC5E\ncml2ZXJNYW5hZ2VyOwppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwpp\nbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuUHJvcGVy\ndGllczsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuREJE\naWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGls\nLkoyRG9Qcml2SGVscGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0\naWwuU3RvcmVFeGNlcHRpb247CgovKioKICogTm9uLXBvb2xpbmcgZHJpdmVy\nIGRhdGEgc291cmNlLgogKi8KcHVibGljIGNsYXNzIFNpbXBsZURyaXZlckRh\ndGFTb3VyY2UKICAgIGltcGxlbWVudHMgRHJpdmVyRGF0YVNvdXJjZSB7Cgog\nICAgcHJpdmF0ZSBTdHJpbmcgX2Nvbm5lY3Rpb25Ecml2ZXJOYW1lOwogICAg\ncHJpdmF0ZSBTdHJpbmcgX2Nvbm5lY3Rpb25VUkw7CiAgICBwcml2YXRlIFN0\ncmluZyBfY29ubmVjdGlvblVzZXJOYW1lOwogICAgcHJpdmF0ZSBTdHJpbmcg\nX2Nvbm5lY3Rpb25QYXNzd29yZDsKICAgIHByaXZhdGUgUHJvcGVydGllcyBf\nY29ubmVjdGlvblByb3BlcnRpZXM7CiAgICBwcml2YXRlIFByb3BlcnRpZXMg\nX2Nvbm5lY3Rpb25GYWN0b3J5UHJvcGVydGllczsKICAgIHByaXZhdGUgRHJp\ndmVyIF9kcml2ZXI7CiAgICBwcml2YXRlIENsYXNzTG9hZGVyIF9jbGFzc0xv\nYWRlcjsKCiAgICBwdWJsaWMgQ29ubmVjdGlvbiBnZXRDb25uZWN0aW9uKCkK\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nZ2V0Q29ubmVjdGlvbihudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgQ29ubmVj\ndGlvbiBnZXRDb25uZWN0aW9uKFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBh\nc3N3b3JkKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIFByb3BlcnRpZXMgcHJvcHMgPSBuZXcgUHJvcGVydGllcygpOwogICAgICAg\nIGlmICh1c2VybmFtZSA9PSBudWxsKQogICAgICAgICAgICB1c2VybmFtZSA9\nIF9jb25uZWN0aW9uVXNlck5hbWU7CiAgICAgICAgaWYgKHVzZXJuYW1lICE9\nIG51bGwpCiAgICAgICAgICAgIHByb3BzLnB1dCgidXNlciIsIHVzZXJuYW1l\nKTsKCiAgICAgICAgaWYgKHBhc3N3b3JkID09IG51bGwpCiAgICAgICAgICAg\nIHBhc3N3b3JkID0gX2Nvbm5lY3Rpb25QYXNzd29yZDsKICAgICAgICBpZiAo\ncGFzc3dvcmQgIT0gbnVsbCkKICAgICAgICAgICAgcHJvcHMucHV0KCJwYXNz\nd29yZCIsIHBhc3N3b3JkKTsKCiAgICAgICAgcmV0dXJuIGdldENvbm5lY3Rp\nb24ocHJvcHMpOwogICAgfQoKICAgIHB1YmxpYyBDb25uZWN0aW9uIGdldENv\nbm5lY3Rpb24oUHJvcGVydGllcyBwcm9wcykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gZ2V0RHJpdmVyKCkuY29ubmVj\ndChfY29ubmVjdGlvblVSTCwgcHJvcHMpOwogICAgfQoKICAgIHB1YmxpYyBp\nbnQgZ2V0TG9naW5UaW1lb3V0KCkgewogICAgICAgIHJldHVybiAwOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldExvZ2luVGltZW91dChpbnQgc2Vjb25k\ncykgewogICAgfQoKICAgIHB1YmxpYyBQcmludFdyaXRlciBnZXRMb2dXcml0\nZXIoKSB7CiAgICAgICAgcmV0dXJuIERyaXZlck1hbmFnZXIuZ2V0TG9nV3Jp\ndGVyKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TG9nV3JpdGVyKFBy\naW50V3JpdGVyIG91dCkgewogICAgfQoKICAgIHB1YmxpYyB2b2lkIGluaXRE\nQkRpY3Rpb25hcnkoREJEaWN0aW9uYXJ5IGRpY3QpIHsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uVVJMKFN0cmluZyBjb25uZWN0aW9u\nVVJMKSB7CiAgICAgICAgX2Nvbm5lY3Rpb25VUkwgPSBjb25uZWN0aW9uVVJM\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvblVSTCgp\nIHsKICAgICAgICByZXR1cm4gX2Nvbm5lY3Rpb25VUkw7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0Q29ubmVjdGlvblVzZXJOYW1lKFN0cmluZyBjb25u\nZWN0aW9uVXNlck5hbWUpIHsKICAgICAgICBfY29ubmVjdGlvblVzZXJOYW1l\nID0gY29ubmVjdGlvblVzZXJOYW1lOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCkgewogICAgICAgIHJldHVybiBf\nY29ubmVjdGlvblVzZXJOYW1lOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndENvbm5lY3Rpb25QYXNzd29yZChTdHJpbmcgY29ubmVjdGlvblBhc3N3b3Jk\nKSB7CiAgICAgICAgX2Nvbm5lY3Rpb25QYXNzd29yZCA9IGNvbm5lY3Rpb25Q\nYXNzd29yZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9u\nUHJvcGVydGllcyhQcm9wZXJ0aWVzIHByb3BzKSB7CiAgICAgICAgX2Nvbm5l\nY3Rpb25Qcm9wZXJ0aWVzID0gcHJvcHM7CiAgICB9CgogICAgcHVibGljIFBy\nb3BlcnRpZXMgZ2V0Q29ubmVjdGlvblByb3BlcnRpZXMoKSB7CiAgICAgICAg\ncmV0dXJuIF9jb25uZWN0aW9uUHJvcGVydGllczsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRDb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMoUHJvcGVy\ndGllcyBwcm9wcykgewogICAgICAgIF9jb25uZWN0aW9uRmFjdG9yeVByb3Bl\ncnRpZXMgPSBwcm9wczsKICAgIH0KCiAgICBwdWJsaWMgUHJvcGVydGllcyBn\nZXRDb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMoKSB7CiAgICAgICAgcmV0\ndXJuIF9jb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXM7CiAgICB9CgogICAg\ncHVibGljIExpc3QgY3JlYXRlQ29ubmVjdGlvbkRlY29yYXRvcnMoKSB7CiAg\nICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nQ2xhc3NMb2FkZXIoQ2xhc3NMb2FkZXIgY2xhc3NMb2FkZXIpIHsKICAgICAg\nICBfY2xhc3NMb2FkZXIgPSBjbGFzc0xvYWRlcjsKICAgIH0KCiAgICBwdWJs\naWMgQ2xhc3NMb2FkZXIgZ2V0Q2xhc3NMb2FkZXIoKSB7CiAgICAgICAgcmV0\ndXJuIF9jbGFzc0xvYWRlcjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRD\nb25uZWN0aW9uRHJpdmVyTmFtZShTdHJpbmcgY29ubmVjdGlvbkRyaXZlck5h\nbWUpIHsKICAgICAgICBfY29ubmVjdGlvbkRyaXZlck5hbWUgPSBjb25uZWN0\naW9uRHJpdmVyTmFtZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENv\nbm5lY3Rpb25Ecml2ZXJOYW1lKCkgewogICAgICAgIHJldHVybiBfY29ubmVj\ndGlvbkRyaXZlck5hbWU7CiAgICB9CgogICAgcHJpdmF0ZSBEcml2ZXIgZ2V0\nRHJpdmVyKCkgewogICAgICAgIGlmIChfZHJpdmVyICE9IG51bGwpCiAgICAg\nICAgICAgIHJldHVybiBfZHJpdmVyOwoKICAgICAgICB0cnkgeyAKICAgICAg\nICAgICAgX2RyaXZlciA9IERyaXZlck1hbmFnZXIuZ2V0RHJpdmVyKF9jb25u\nZWN0aW9uVVJMKTsKICAgICAgICAgICAgaWYgKF9kcml2ZXIgIT0gbnVsbCkK\nICAgICAgICAgICAgICAgIHJldHVybiBfZHJpdmVyOwogICAgICAgIH0gY2F0\nY2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgfQoKICAgICAgICB0cnkgewog\nICAgICAgICAgICBDbGFzcy5mb3JOYW1lKF9jb25uZWN0aW9uRHJpdmVyTmFt\nZSwgdHJ1ZSwgX2NsYXNzTG9hZGVyKTsKICAgICAgICB9IGNhdGNoIChFeGNl\ncHRpb24gZSkgewogICAgICAgIH0KICAgICAgICB0cnkgewogICAgICAgICAg\nICBfZHJpdmVyID0gRHJpdmVyTWFuYWdlci5nZXREcml2ZXIoX2Nvbm5lY3Rp\nb25VUkwpOwogICAgICAgICAgICBpZiAoX2RyaXZlciAhPSBudWxsKQogICAg\nICAgICAgICAgICAgcmV0dXJuIF9kcml2ZXI7CiAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsKICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIENsYXNzIGMgPSBDbGFzcy5mb3JOYW1lKF9jb25uZWN0aW9uRHJp\ndmVyTmFtZSwKICAgICAgICAgICAgICAgIHRydWUsIF9jbGFzc0xvYWRlcik7\nCiAgICAgICAgICAgIF9kcml2ZXIgPSAoRHJpdmVyKSBBY2Nlc3NDb250cm9s\nbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVs\ncGVyLm5ld0luc3RhbmNlQWN0aW9uKGMpKTsKICAgICAgICAgICAgcmV0dXJu\nIF9kcml2ZXI7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAg\nICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBSdW50aW1lRXhjZXB0aW9uKQog\nICAgICAgICAgICAgICAgdGhyb3coUnVudGltZUV4Y2VwdGlvbikgZTsKICAg\nICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBQcml2aWxlZ2VkQWN0aW9uRXhj\nZXB0aW9uKQogICAgICAgICAgICAgICAgZSA9ICgoUHJpdmlsZWdlZEFjdGlv\nbkV4Y2VwdGlvbikgZSkuZ2V0RXhjZXB0aW9uKCk7CiAgICAgICAgICAgIHRo\ncm93IG5ldyBTdG9yZUV4Y2VwdGlvbihlKTsKICAgICAgICB9CiAgICB9Cn0K\nCg==\n","encoding":"base64"}

