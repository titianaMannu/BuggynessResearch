{"sha":"baa0ee2e97f8bd5f6e830d2bd0edc3e9b934c791","node_id":"MDQ6QmxvYjIwNjM2NDpiYWEwZWUyZTk3ZjhiZDVmNmU4MzBkMmJkMGVkYzNlOWI5MzRjNzkx","size":8911,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/baa0ee2e97f8bd5f6e830d2bd0edc3e9b934c791","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5zcWwuQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEuc3FsLkRhdGFiYXNl\nTWV0YURhdGE7CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9y\ndCBqYXZhLnNxbC5UeXBlczsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5rZXJuZWwuZXhwcy5GaWx0ZXJWYWx1ZTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuRmlsdGVyczsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW47CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwoKLyoqCiAqIERpY3Rpb25hcnkg\nZm9yIE1TIFNRTFNlcnZlci4KICovCnB1YmxpYyBjbGFzcyBTUUxTZXJ2ZXJE\naWN0aW9uYXJ5CiAgICBleHRlbmRzIEFic3RyYWN0U1FMU2VydmVyRGljdGlv\nbmFyeSB7CgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgVkVORE9S\nX01JQ1JPU09GVCA9ICJtaWNyb3NvZnQiOwogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBTdHJpbmcgVkVORE9SX05FVERJUkVDVCA9ICJuZXRkaXJlY3QiOwog\nICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgVkVORE9SX0pURFMgPSAi\nanRkcyI7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9s\nb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgIChTUUxTZXJ2ZXJE\naWN0aW9uYXJ5LmNsYXNzKTsKCiAgICAvKioKICAgICAqIEZsYWcgd2hldGhl\nciB0byB0cmVhdCBVTklRVUVJREVOVElGSUVSIGFzIFZBUkJJTkFSWSBvciBW\nQVJDSEFSCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIHVuaXF1ZUlkZW50\naWZpZXJBc1ZhcmJpbmFyeSA9IHRydWU7CgogICAgcHVibGljIFNRTFNlcnZl\nckRpY3Rpb25hcnkoKSB7CiAgICAgICAgcGxhdGZvcm0gPSAiTWljcm9zb2Z0\nIFNRTCBTZXJ2ZXIiOwoKICAgICAgICAvLyBTUUxTZXJ2ZXIgbG9ja3Mgb24g\nYSB0YWJsZS1ieS10YWJsZSBiYXNpcwogICAgICAgIGZvclVwZGF0ZUNsYXVz\nZSA9IG51bGw7CiAgICAgICAgdGFibGVGb3JVcGRhdGVDbGF1c2UgPSAiV0lU\nSCAoVVBETE9DSykiOwoKICAgICAgICBzdXBwb3J0c051bGxUYWJsZUZvckdl\ndENvbHVtbnMgPSBmYWxzZTsKICAgICAgICByZXF1aXJlc0FsaWFzRm9yU3Vi\nc2VsZWN0ID0gdHJ1ZTsKCiAgICAgICAgc3RyaW5nTGVuZ3RoRnVuY3Rpb24g\nPSAiTEVOKHswfSkiOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNvbm5lY3Rl\nZENvbmZpZ3VyYXRpb24oQ29ubmVjdGlvbiBjb25uKQogICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHN1cGVyLmNvbm5lY3RlZENvbmZp\nZ3VyYXRpb24oY29ubik7CgogICAgICAgIERhdGFiYXNlTWV0YURhdGEgbWV0\nYSA9IGNvbm4uZ2V0TWV0YURhdGEoKTsKICAgICAgICBTdHJpbmcgZHJpdmVy\nTmFtZSA9IG1ldGEuZ2V0RHJpdmVyTmFtZSgpOwogICAgICAgIFN0cmluZyB1\ncmwgPSBtZXRhLmdldFVSTCgpOwogICAgICAgIGlmIChkcml2ZXJWZW5kb3Ig\nPT0gbnVsbCkgewogICAgICAgICAgICBpZiAoIk5ldERpcmVjdCBKU1FMQ29u\nbmVjdCIuZXF1YWxzKGRyaXZlck5hbWUpKQogICAgICAgICAgICAgICAgZHJp\ndmVyVmVuZG9yID0gVkVORE9SX05FVERJUkVDVDsKICAgICAgICAgICAgZWxz\nZSBpZiAoZHJpdmVyTmFtZSAhPSBudWxsICYmIGRyaXZlck5hbWUuc3RhcnRz\nV2l0aCgialREUyIpKQogICAgICAgICAgICAgICAgZHJpdmVyVmVuZG9yID0g\nVkVORE9SX0pURFM7CiAgICAgICAgICAgIGVsc2UgaWYgKCJTUUxTZXJ2ZXIi\nLmVxdWFscyhkcml2ZXJOYW1lKSkgewogICAgICAgICAgICAgICAgaWYgKHVy\nbCAhPSBudWxsICYmIHVybC5zdGFydHNXaXRoKCJqZGJjOm1pY3Jvc29mdDpz\ncWxzZXJ2ZXI6IikpCiAgICAgICAgICAgICAgICAgICAgZHJpdmVyVmVuZG9y\nID0gVkVORE9SX01JQ1JPU09GVDsKICAgICAgICAgICAgICAgIGVsc2UgaWYg\nKHVybCAhPSBudWxsCiAgICAgICAgICAgICAgICAgICAgJiYgdXJsLnN0YXJ0\nc1dpdGgoImpkYmM6ZGF0YWRpcmVjdDpzcWxzZXJ2ZXI6IikpCiAgICAgICAg\nICAgICAgICAgICAgZHJpdmVyVmVuZG9yID0gVkVORE9SX0RBVEFESVJFQ1Q7\nCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZHJp\ndmVyVmVuZG9yID0gVkVORE9SX09USEVSOwogICAgICAgICAgICB9IGVsc2UK\nICAgICAgICAgICAgICAgIGRyaXZlclZlbmRvciA9IFZFTkRPUl9PVEhFUjsK\nICAgICAgICAgICAgaWYgKGRyaXZlck5hbWUuaW5kZXhPZihwbGF0Zm9ybSkg\nIT0gLTEpIHsKICAgICAgICAgICAgICAgIFN0cmluZyB2ZXJzaW9uU3RyaW5n\nID0gZHJpdmVyTmFtZS4KICAgICAgICAgICAgICAgICAgICBzdWJzdHJpbmco\ncGxhdGZvcm0ubGVuZ3RoKCkgKyAxKTsKICAgICAgICAgICAgICAgIGlmICh2\nZXJzaW9uU3RyaW5nLmluZGV4T2YoIiAiKSAhPSAtMSkKICAgICAgICAgICAg\nICAgICAgICB2ZXJzaW9uU3RyaW5nID0gdmVyc2lvblN0cmluZy5zdWJzdHJp\nbmcoMCwKICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvblN0cmluZy5p\nbmRleE9mKCIgIikpOwogICAgICAgICAgICAgICAgaW50IHZlcnNpb24gPSBJ\nbnRlZ2VyLnBhcnNlSW50KHZlcnNpb25TdHJpbmcpOwogICAgICAgICAgICAg\nICAgaWYgKHZlcnNpb24gPj0gMjAwNSkKICAgICAgICAgICAgICAgICAgICBz\ndXBwb3J0c1hNTENvbHVtbiA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAg\nICB9CgogICAgICAgIC8vIHdhcm4gYWJvdXQgdXNpbmcgY3Vyc29ycwogICAg\nICAgIGlmICgoVkVORE9SX01JQ1JPU09GVC5lcXVhbHNJZ25vcmVDYXNlKGRy\naXZlclZlbmRvcikKICAgICAgICAgICAgfHwgVkVORE9SX0RBVEFESVJFQ1Qu\nZXF1YWxzSWdub3JlQ2FzZShkcml2ZXJWZW5kb3IpKQogICAgICAgICAgICAm\nJiB1cmwudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJzZWxlY3RtZXRob2Q9Y3Vy\nc29yIikgPT0gLTEpCiAgICAgICAgICAgIGxvZy53YXJuKF9sb2MuZ2V0KCJz\ncWxzZXJ2ZXItY3Vyc29yIiwgdXJsKSk7CgogICAgICAgIC8vIHdhcm4gYWJv\ndXQgcHJlcGFyZWQgc3RhdGVtZW50IGNhY2hpbmcgaWYgdXNpbmcgbXMgZHJp\ndmVyCiAgICAgICAgU3RyaW5nIHByb3BzID0gY29uZi5nZXRDb25uZWN0aW9u\nRmFjdG9yeVByb3BlcnRpZXMoKTsKICAgICAgICBpZiAocHJvcHMgPT0gbnVs\nbCkKICAgICAgICAgICAgcHJvcHMgPSAiIjsKICAgICAgICBpZiAoVkVORE9S\nX01JQ1JPU09GVC5lcXVhbHNJZ25vcmVDYXNlKGRyaXZlclZlbmRvcikKICAg\nICAgICAgICAgJiYgcHJvcHMudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJtYXhj\nYWNoZWRzdGF0ZW1lbnRzPTAiKSA9PSAtMSkKICAgICAgICAgICAgbG9nLndh\ncm4oX2xvYy5nZXQoInNxbHNlcnZlci1jYWNoZWRzdG1udHMiKSk7CiAgICB9\nCgogICAgcHVibGljIENvbHVtbltdIGdldENvbHVtbnMoRGF0YWJhc2VNZXRh\nRGF0YSBtZXRhLCBTdHJpbmcgY2F0YWxvZywKICAgICAgICBTdHJpbmcgc2No\nZW1hTmFtZSwgU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGNvbHVtbk5hbWUs\nIENvbm5lY3Rpb24gY29ubikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICBDb2x1bW5bXSBjb2xzID0gc3VwZXIuZ2V0Q29sdW1ucyht\nZXRhLCBjYXRhbG9nLCBzY2hlbWFOYW1lLCB0YWJsZU5hbWUsCiAgICAgICAg\nICAgIGNvbHVtbk5hbWUsIGNvbm4pOwoKICAgICAgICAvLyBmb3Igb3B0YSBk\ncml2ZXIsIHdoaWNoIHJlcG9ydHMgbnZhcmNoYXIgYXMgdW5rbm93biB0eXBl\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGNvbHMgIT0gbnVsbCAmJiBpIDwg\nY29scy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBTdHJpbmcgdHlwZU5h\nbWUgPSBjb2xzW2ldLmdldFR5cGVOYW1lKCk7CiAgICAgICAgICAgIGlmICh0\neXBlTmFtZSA9PSBudWxsKQogICAgICAgICAgICAgICAgY29udGludWU7Cgog\nICAgICAgICAgICB0eXBlTmFtZSA9IHR5cGVOYW1lLnRvVXBwZXJDYXNlKCk7\nCgogICAgICAgICAgICBpZiAoIk5WQVJDSEFSIi5lcXVhbHModHlwZU5hbWUp\nKQogICAgICAgICAgICAgICAgY29sc1tpXS5zZXRUeXBlKFR5cGVzLlZBUkNI\nQVIpOwogICAgICAgICAgICBlbHNlIGlmICgiVU5JUVVFSURFTlRJRklFUiIu\nZXF1YWxzKHR5cGVOYW1lKSkgewogICAgICAgICAgICAgICAgaWYgKHVuaXF1\nZUlkZW50aWZpZXJBc1ZhcmJpbmFyeSkKICAgICAgICAgICAgICAgICAgICBj\nb2xzW2ldLnNldFR5cGUoVHlwZXMuVkFSQklOQVJZKTsKICAgICAgICAgICAg\nICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBjb2xzW2ldLnNldFR5cGUo\nVHlwZXMuVkFSQ0hBUik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIk5DSEFS\nIi5lcXVhbHModHlwZU5hbWUpKQogICAgICAgICAgICAgICAgY29sc1tpXS5z\nZXRUeXBlKFR5cGVzLkNIQVIpOwogICAgICAgICAgICBlbHNlIGlmICgiTlRF\nWFQiLmVxdWFscyh0eXBlTmFtZSkpCiAgICAgICAgICAgICAgICBjb2xzW2ld\nLnNldFR5cGUoVHlwZXMuQ0xPQik7CiAgICAgICAgfQogICAgICAgIHJldHVy\nbiBjb2xzOwogICAgfQogICAgCiAgICBwcm90ZWN0ZWQgdm9pZCBhcHBlbmRM\nZW5ndGgoU1FMQnVmZmVyIGJ1ZiwgaW50IHR5cGUpIHsKICAgICAgICBpZiAo\ndHlwZSA9PSBUeXBlcy5WQVJDSEFSKQogICAgICAgICAgICBidWYuYXBwZW5k\nKCIoIikuYXBwZW5kKEludGVnZXIudG9TdHJpbmcoY2hhcmFjdGVyQ29sdW1u\nU2l6ZSkpLmFwcGVuZCgiKSIpOwogICAgfQoKICAgIC8qKgogICAgICogSWYg\ndGhpcyBkaWN0aW9uYXJ5IHN1cHBvcnRzIFhNTCB0eXBlLAogICAgICogdXNl\nIHRoaXMgbWV0aG9kIHRvIGFwcGVuZCB4bWwgcHJlZGljYXRlLgogICAgICog\nCiAgICAgKiBAcGFyYW0gYnVmIHRoZSBTUUwgYnVmZmVyIHRvIHdyaXRlIHRo\nZSBjb21wYXJpc29uCiAgICAgKiBAcGFyYW0gb3AgdGhlIGNvbXBhcmlzb24g\nb3BlcmF0aW9uIHRvIHBlcmZvcm0KICAgICAqIEBwYXJhbSBsaHMgdGhlIGxl\nZnQgaGFuZCBzaWRlIG9mIHRoZSBjb21wYXJpc29uCiAgICAgKiBAcGFyYW0g\ncmhzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIGNvbXBhcmlzb24KICAg\nICAqIEBwYXJhbSBsaHN4bWwgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGxlZnQg\nb3BlcmFuZCBtYXBzIHRvIHhtbAogICAgICogQHBhcmFtIHJoc3htbCBpbmRp\nY2F0ZXMgd2hldGhlciB0aGUgcmlnaHQgb3BlcmFuZCBtYXBzIHRvIHhtbAog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBhcHBlbmRYbWxDb21wYXJpc29uKFNR\nTEJ1ZmZlciBidWYsIFN0cmluZyBvcCwgRmlsdGVyVmFsdWUgbGhzLAogICAg\nICAgIEZpbHRlclZhbHVlIHJocywgYm9vbGVhbiBsaHN4bWwsIGJvb2xlYW4g\ncmhzeG1sKSB7CiAgICAgICAgc3VwZXIuYXBwZW5kWG1sQ29tcGFyaXNvbihi\ndWYsIG9wLCBsaHMsIHJocywgbGhzeG1sLCByaHN4bWwpOwogICAgICAgIGlm\nIChsaHN4bWwgJiYgcmhzeG1sKQogICAgICAgICAgICBhcHBlbmRYbWxDb21w\nYXJpc29uMihidWYsIG9wLCBsaHMsIHJocyk7CiAgICAgICAgZWxzZSBpZiAo\nbGhzeG1sKQogICAgICAgICAgICBhcHBlbmRYbWxDb21wYXJpc29uMShidWYs\nIG9wLCBsaHMsIHJocyk7CiAgICAgICAgZWxzZSAKICAgICAgICAgICAgYXBw\nZW5kWG1sQ29tcGFyaXNvbjEoYnVmLCBvcCwgcmhzLCBsaHMpOwogICAgfQog\nICAgLyoqCiAgICAgKiBBcHBlbmQgYW4geG1sIGNvbXBhcmlzb24gcHJlZGlj\nYXRlCiAgICAgKgogICAgICogQHBhcmFtIGJ1ZiB0aGUgU1FMIGJ1ZmZlciB0\nbyB3cml0ZSB0aGUgY29tcGFyaXNvbgogICAgICogQHBhcmFtIG9wIHRoZSBj\nb21wYXJpc29uIG9wZXJhdGlvbiB0byBwZXJmb3JtCiAgICAgKiBAcGFyYW0g\nbGhzIHRoZSBsZWZ0IGhhbmQgc2lkZSBvZiB0aGUgY29tcGFyaXNvbiAobWFw\ncyB0byB4bWwgY29sdW1uKQogICAgICogQHBhcmFtIHJocyB0aGUgcmlnaHQg\naGFuZCBzaWRlIG9mIHRoZSBjb21wYXJpc29uCiAgICAgKi8KICAgIHByaXZh\ndGUgdm9pZCBhcHBlbmRYbWxDb21wYXJpc29uMShTUUxCdWZmZXIgYnVmLCBT\ndHJpbmcgb3AsCiAgICAgICAgRmlsdGVyVmFsdWUgbGhzLCBGaWx0ZXJWYWx1\nZSByaHMpIHsKICAgICAgICBib29sZWFuIGNhc3RyaHMgPSByaHMuaXNDb25z\ndGFudCgpOwogICAgICAgIGlmIChjYXN0cmhzKQogICAgICAgICAgICBhcHBl\nbmRYbWxWYWx1ZShidWYsIGxocyk7CiAgICAgICAgZWxzZQogICAgICAgICAg\nICBhcHBlbmRYbWxFeGlzdChidWYsIGxocyk7CiAgICAgICAgYnVmLmFwcGVu\nZCgiICIpLmFwcGVuZChvcCkuYXBwZW5kKCIgIik7CiAgICAgICAgaWYgKGNh\nc3RyaHMpCiAgICAgICAgICAgIHJocy5hcHBlbmRUbyhidWYpOwogICAgICAg\nIGVsc2UgewogICAgICAgICAgICBidWYuYXBwZW5kKCJzcWw6Y29sdW1uKFwi\nIik7CiAgICAgICAgICAgIHJocy5hcHBlbmRUbyhidWYpOwogICAgICAgICAg\nICBidWYuYXBwZW5kKCJcIikiKS4KICAgICAgICAgICAgICAgIGFwcGVuZCgi\nXScpID0gMSIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgcHJpdmF0ZSB2\nb2lkIGFwcGVuZFhtbEV4aXN0KFNRTEJ1ZmZlciBidWYsIEZpbHRlclZhbHVl\nIGxocykgewogICAgICAgIGJ1Zi5hcHBlbmQobGhzLmdldENvbHVtbkFsaWFz\nKAogICAgICAgICAgICBsaHMuZ2V0RmllbGRNYXBwaW5nKCkuZ2V0Q29sdW1u\ncygpWzBdKSkuCiAgICAgICAgICAgIGFwcGVuZCgiLmV4aXN0KCciKS4KICAg\nICAgICAgICAgYXBwZW5kKCIvKlsiKTsKICAgICAgICBsaHMuYXBwZW5kVG8o\nYnVmKTsgICAgCiAgICB9CiAgICAKICAgIC8qKgogICAgICogQXBwZW5kIGFu\nIHhtbCBjb21wYXJpc29uIHByZWRpY2F0ZSAoYm90aCBvcGVyYW5kcyBtYXAg\ndG8geG1sIGNvbHVtbikKICAgICAqCiAgICAgKiBAcGFyYW0gYnVmIHRoZSBT\nUUwgYnVmZmVyIHRvIHdyaXRlIHRoZSBjb21wYXJpc29uCiAgICAgKiBAcGFy\nYW0gb3AgdGhlIGNvbXBhcmlzb24gb3BlcmF0aW9uIHRvIHBlcmZvcm0KICAg\nICAqIEBwYXJhbSBsaHMgdGhlIGxlZnQgaGFuZCBzaWRlIG9mIHRoZSBjb21w\nYXJpc29uIChtYXBzIHRvIHhtbCBjb2x1bW4pCiAgICAgKiBAcGFyYW0gcmhz\nIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIGNvbXBhcmlzb24gKG1hcHMg\ndG8geG1sIGNvbHVtbikKICAgICAqLwogICAgcHJpdmF0ZSB2b2lkIGFwcGVu\nZFhtbENvbXBhcmlzb24yKFNRTEJ1ZmZlciBidWYsIFN0cmluZyBvcCwgCiAg\nICAgICAgRmlsdGVyVmFsdWUgbGhzLCBGaWx0ZXJWYWx1ZSByaHMpIHsKICAg\nICAgICBhcHBlbmRYbWxWYWx1ZShidWYsIGxocyk7CiAgICAgICAgYnVmLmFw\ncGVuZCgiICIpLmFwcGVuZChvcCkuYXBwZW5kKCIgIik7CiAgICAgICAgYXBw\nZW5kWG1sVmFsdWUoYnVmLCByaHMpOwogICAgfQogICAgCiAgICBwcml2YXRl\nIHZvaWQgYXBwZW5kWG1sVmFsdWUoU1FMQnVmZmVyIGJ1ZiwgRmlsdGVyVmFs\ndWUgdmFsKSB7CiAgICAgICAgQ2xhc3MgcmMgPSBGaWx0ZXJzLndyYXAodmFs\nLmdldFR5cGUoKSk7CiAgICAgICAgaW50IHR5cGUgPSBnZXRKREJDVHlwZShK\nYXZhVHlwZXMuZ2V0VHlwZUNvZGUocmMpLCBmYWxzZSk7CiAgICAgICAgYm9v\nbGVhbiBpc1htbEF0dHJpYnV0ZSA9ICh2YWwuZ2V0WG1sTWFwcGluZygpID09\nIG51bGwpID8gZmFsc2UKICAgICAgICAgICAgICAgIDogdmFsLmdldFhtbE1h\ncHBpbmcoKS5pc1htbEF0dHJpYnV0ZSgpOwogICAgICAgIGJ1Zi5hcHBlbmQo\ndmFsLmdldENvbHVtbkFsaWFzKAogICAgICAgICAgICB2YWwuZ2V0RmllbGRN\nYXBwaW5nKCkuZ2V0Q29sdW1ucygpWzBdKSkuCiAgICAgICAgICAgIGFwcGVu\nZCgiLnZhbHVlKCIpLgogICAgICAgICAgICBhcHBlbmQoIicoLyovIik7CiAg\nICAgICAgdmFsLmFwcGVuZFRvKGJ1Zik7CiAgICAgICAgaWYgKCFpc1htbEF0\ndHJpYnV0ZSkKICAgICAgICAgICAgYnVmLmFwcGVuZCgiL3RleHQoKSIpOwog\nICAgICAgIGJ1Zi5hcHBlbmQoIilbMV0nLCciKS4KICAgICAgICAgICAgYXBw\nZW5kKGdldFR5cGVOYW1lKHR5cGUpKTsKICAgICAgICBhcHBlbmRMZW5ndGgo\nYnVmLCB0eXBlKTsKICAgICAgICBidWYuYXBwZW5kKCInKSIpOwogICAgfQp9\nCg==\n","encoding":"base64"}

