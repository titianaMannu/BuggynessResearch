{"sha":"9d88de3f5ed3b1b5ce95f34b71d9a159c07be676","node_id":"MDQ6QmxvYjIwNjM2NDo5ZDg4ZGUzZjVlZDNiMWI1Y2U5NWYzNGI3MWQ5YTE1OWMwN2JlNjc2","size":49642,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9d88de3f5ed3b1b5ce95f34b71d9a159c07be676","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Owpp\nbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1v\nbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5kYXRhY2FjaGUuQ29uY3VycmVudERhdGFDYWNoZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5kYXRhY2FjaGUuQ29uY3VycmVudFF1ZXJ5Q2FjaGU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkRhdGFDYWNo\nZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hl\nLkRhdGFDYWNoZU1hbmFnZXJJbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmVlLk1hbmFnZWRSdW50aW1lOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmV2ZW50Lk9ycGhhbmVkS2V5QWN0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmV2ZW50LlJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5SZW1vdGVDb21taXRQcm92\naWRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5Ccm9rZXJG\nYWN0b3J5RXZlbnRNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmtlcm5lbC5BdXRvQ2xlYXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLkJyb2tlckltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLkNvbm5lY3Rpb25SZXRhaW5Nb2RlczsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuSW52ZXJzZU1hbmFnZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tMZXZlbHM7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tNYW5hZ2VyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5RdWVyeUZsdXNoTW9kZXM7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlJlc3RvcmVTdGF0ZTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuU2F2ZXBvaW50TWFuYWdl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuU2VxOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLkFnZ3JlZ2F0ZUxp\nc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBz\nLkZpbHRlckxpc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLio7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmxvZy5M\nb2c7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxp\nemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURhdGFG\nYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURh\ndGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwu\nQ2xhc3NSZXNvbHZlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGls\nLkltcGxIZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Q\ncm94eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5T\ndG9yZUZhY2FkZVR5cGVSZWdpc3RyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5lbmhhbmNlLlJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3NzZXNNb2RlczsK\nCi8qKgogKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUge0BsaW5rIE9wZW5KUEFD\nb25maWd1cmF0aW9ufSBpbnRlcmZhY2UuCiAqCiAqIEBzZWUgQ29uZmlndXJh\ndGlvbkltcGwKICogQGF1dGhvciBNYXJjIFBydWQnaG9tbWVhdXgKICogQGF1\ndGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBPcGVuSlBBQ29uZmln\ndXJhdGlvbkltcGwKICAgIGV4dGVuZHMgQ29uZmlndXJhdGlvbkltcGwKICAg\nIGltcGxlbWVudHMgT3BlbkpQQUNvbmZpZ3VyYXRpb24gewoKICAgIHByaXZh\ndGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0KICAgICAgICBMb2Nh\nbGl6ZXIuZm9yUGFja2FnZShPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwuY2xh\nc3MpOwoKICAgIC8vIGNhY2hlZCBzdGF0ZTsgc29tZSBvZiB0aGlzIGlzIGNy\nZWF0ZWQgaW4gZ2V0dGVyIG1ldGhvZHMsIHNvIG1ha2UKICAgIC8vIHByb3Rl\nY3RlZCBpbiBjYXNlIHN1YmNsYXNzZXMgd2FudCB0byBhY2Nlc3Mgd2l0aG91\ndCBjcmVhdGluZwogICAgcHJvdGVjdGVkIE1ldGFEYXRhUmVwb3NpdG9yeSBt\nZXRhUmVwb3NpdG9yeSA9IG51bGw7CiAgICBwcm90ZWN0ZWQgUmVtb3RlQ29t\nbWl0RXZlbnRNYW5hZ2VyIHJlbW90ZUV2ZW50TWFuYWdlciA9IG51bGw7Cgog\nICAgLy8gb3BlbmpwYSBwcm9wZXJ0aWVzCiAgICBwdWJsaWMgT2JqZWN0VmFs\ndWUgY2xhc3NSZXNvbHZlclBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1\nZSBicm9rZXJQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgZGF0YUNh\nY2hlUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGRhdGFDYWNoZU1h\nbmFnZXJQbHVnaW47CiAgICBwdWJsaWMgSW50VmFsdWUgZGF0YUNhY2hlVGlt\nZW91dDsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBxdWVyeUNhY2hlUGx1Z2lu\nOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSBkeW5hbWljRGF0YVN0cnVjdHM7\nCiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgbWFuYWdlZFJ1bnRpbWVQbHVnaW47\nCiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIHRyYW5zYWN0aW9uTW9kZTsKICAg\nIHB1YmxpYyBJbnRWYWx1ZSBjb25uZWN0aW9uUmV0YWluTW9kZTsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSBmZXRjaEJhdGNoU2l6ZTsKICAgIHB1YmxpYyBJbnRW\nYWx1ZSBtYXhGZXRjaERlcHRoOwogICAgcHVibGljIFN0cmluZ0xpc3RWYWx1\nZSBmZXRjaEdyb3VwczsKICAgIHB1YmxpYyBJbnRWYWx1ZSBmbHVzaEJlZm9y\nZVF1ZXJpZXM7CiAgICBwdWJsaWMgSW50VmFsdWUgbG9ja1RpbWVvdXQ7CiAg\nICBwdWJsaWMgSW50VmFsdWUgcmVhZExvY2tMZXZlbDsKICAgIHB1YmxpYyBJ\nbnRWYWx1ZSB3cml0ZUxvY2tMZXZlbDsKICAgIHB1YmxpYyBPYmplY3RWYWx1\nZSBzZXFQbHVnaW47CiAgICBwdWJsaWMgUGx1Z2luTGlzdFZhbHVlIGZpbHRl\nckxpc3RlbmVyUGx1Z2luczsKICAgIHB1YmxpYyBQbHVnaW5MaXN0VmFsdWUg\nYWdncmVnYXRlTGlzdGVuZXJQbHVnaW5zOwogICAgcHVibGljIEJvb2xlYW5W\nYWx1ZSByZXRyeUNsYXNzUmVnaXN0cmF0aW9uOwogICAgcHVibGljIE9iamVj\ndFZhbHVlIHByb3h5TWFuYWdlclBsdWdpbjsKICAgIHB1YmxpYyBTdHJpbmdW\nYWx1ZSBjb25uZWN0aW9uVXNlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFs\ndWUgY29ubmVjdGlvblBhc3N3b3JkOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb25VUkw7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbkRyaXZlck5hbWU7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgY29ubmVj\ndGlvbkZhY3Rvcnk7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVjdGlv\nbkZhY3RvcnlOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25Qcm9wZXJ0aWVzOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25GYWN0b3J5UHJvcGVydGllczsKICAgIHB1YmxpYyBCb29sZWFuVmFsdWUg\nY29ubmVjdGlvbkZhY3RvcnlNb2RlOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb24yVXNlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUg\nY29ubmVjdGlvbjJQYXNzd29yZDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBj\nb25uZWN0aW9uMlVSTDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uMkRyaXZlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbjJQcm9wZXJ0aWVzOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MjsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uRmFjdG9yeTJOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MlByb3BlcnRpZXM7CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIG9wdGltaXN0aWM7CiAgICBwdWJsaWMgSW50VmFsdWUgYXV0b0NsZWFy\nOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSByZXRhaW5TdGF0ZTsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSByZXN0b3JlU3RhdGU7CiAgICBwdWJsaWMgT2JqZWN0\nVmFsdWUgZGV0YWNoU3RhdGVQbHVnaW47CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIGlnbm9yZUNoYW5nZXM7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIG5v\nbnRyYW5zYWN0aW9uYWxSZWFkOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSBu\nb250cmFuc2FjdGlvbmFsV3JpdGU7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVl\nIG11bHRpdGhyZWFkZWQ7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgbWFwcGlu\nZzsKICAgIHB1YmxpYyBQbHVnaW5WYWx1ZSBtZXRhRmFjdG9yeVBsdWdpbjsK\nICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBtZXRhUmVwb3NpdG9yeVBsdWdpbjsK\nICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBsb2NrTWFuYWdlclBsdWdpbjsKICAg\nIHB1YmxpYyBPYmplY3RWYWx1ZSBpbnZlcnNlTWFuYWdlclBsdWdpbjsKICAg\nIHB1YmxpYyBPYmplY3RWYWx1ZSBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luOwog\nICAgcHVibGljIE9iamVjdFZhbHVlIG9ycGhhbmVkS2V5UGx1Z2luOwogICAg\ncHVibGljIE9iamVjdFZhbHVlIGNvbXBhdGliaWxpdHlQbHVnaW47CiAgICBw\ndWJsaWMgUXVlcnlDb21waWxhdGlvbkNhY2hlVmFsdWUgcXVlcnlDb21waWxh\ndGlvbkNhY2hlUGx1Z2luOwogICAgcHVibGljIEludFZhbHVlIHJ1bnRpbWVV\nbmVuaGFuY2VkQ2xhc3NlczsKCiAgICAvLyBjdXN0b20gdmFsdWVzCiAgICBw\ndWJsaWMgQnJva2VyRmFjdG9yeVZhbHVlIGJyb2tlckZhY3RvcnlQbHVnaW47\nCiAgICBwdWJsaWMgUmVtb3RlQ29tbWl0UHJvdmlkZXJWYWx1ZSByZW1vdGVQ\ncm92aWRlclBsdWdpbjsKICAgIHB1YmxpYyBBdXRvRGV0YWNoVmFsdWUgYXV0\nb0RldGFjaDsKCiAgICBwcml2YXRlIENvbGxlY3Rpb24gc3VwcG9ydGVkT3B0\naW9ucyA9IG5ldyBIYXNoU2V0KDMzKTsKICAgIHByaXZhdGUgU3RyaW5nIHNw\nZWMgPSBudWxsOwogICAgcHJpdmF0ZSBmaW5hbCBTdG9yZUZhY2FkZVR5cGVS\nZWdpc3RyeSBfc3RvcmVGYWNhZGVSZWdpc3RyeSA9CiAgICAgICAgbmV3IFN0\nb3JlRmFjYWRlVHlwZVJlZ2lzdHJ5KCk7CiAgICBwcml2YXRlIEJyb2tlckZh\nY3RvcnlFdmVudE1hbmFnZXIgX2Jyb2tlckZhY3RvcnlFdmVudE1hbmFnZXIg\nPQogICAgICAgIG5ldyBCcm9rZXJGYWN0b3J5RXZlbnRNYW5hZ2VyKHRoaXMp\nOwoKICAgIC8qKgogICAgICogRGVmYXVsdCBjb25zdHJ1Y3Rvci4gQXR0ZW1w\ndHMgdG8gbG9hZCBnbG9iYWwgcHJvcGVydGllcy4KICAgICAqLwogICAgcHVi\nbGljIE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbCgpIHsKICAgICAgICB0aGlz\nKHRydWUpOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuCiAg\nICAgKgogICAgICogQHBhcmFtIGxvYWRHbG9iYWxzIHdoZXRoZXIgdG8gYXR0\nZW1wdCB0byBsb2FkIHRoZSBnbG9iYWwgcHJvcGVydGllcwogICAgICovCiAg\nICBwdWJsaWMgT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsKGJvb2xlYW4gbG9h\nZEdsb2JhbHMpIHsKICAgICAgICB0aGlzKHRydWUsIGxvYWRHbG9iYWxzKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLgogICAgICoKICAg\nICAqIEBwYXJhbSBkZXJpdmF0aW9ucyB3aGV0aGVyIHRvIGFwcGx5IHByb2R1\nY3QgZGVyaXZhdGlvbnMKICAgICAqIEBwYXJhbSBsb2FkR2xvYmFscyB3aGV0\naGVyIHRvIGF0dGVtcHQgdG8gbG9hZCB0aGUgZ2xvYmFsIHByb3BlcnRpZXMK\nICAgICAqLwogICAgcHVibGljIE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbChi\nb29sZWFuIGRlcml2YXRpb25zLCBib29sZWFuIGxvYWRHbG9iYWxzKSB7CiAg\nICAgICAgc3VwZXIoZmFsc2UpOwogICAgICAgIFN0cmluZ1tdIGFsaWFzZXM7\nCgogICAgICAgIGNsYXNzUmVzb2x2ZXJQbHVnaW4gPSBhZGRQbHVnaW4oIkNs\nYXNzUmVzb2x2ZXIiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAg\nICAgICAgbmV3IFN0cmluZ1tdIHsgImRlZmF1bHQiLAogICAgICAgICAgICAg\nICAgIm9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkNsYXNzUmVzb2x2ZXJJbXBs\nIiwKICAgICAgICAgICAgICAgIC8vIGRlcHJlY2F0ZWQgYWxpYXMKICAgICAg\nICAgICAgICAgICJzcGVjIiwgIm9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkNs\nYXNzUmVzb2x2ZXJJbXBsIiwgfTsKICAgICAgICBjbGFzc1Jlc29sdmVyUGx1\nZ2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgY2xhc3NSZXNvbHZl\nclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGNsYXNz\nUmVzb2x2ZXJQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAg\nIGNsYXNzUmVzb2x2ZXJQbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigi\nZ2V0Q2xhc3NSZXNvbHZlckluc3RhbmNlIik7CgogICAgICAgIGJyb2tlckZh\nY3RvcnlQbHVnaW4gPSBuZXcgQnJva2VyRmFjdG9yeVZhbHVlKCk7CiAgICAg\nICAgYWRkVmFsdWUoYnJva2VyRmFjdG9yeVBsdWdpbik7CgogICAgICAgIGJy\nb2tlclBsdWdpbiA9IG5ldyBCcm9rZXJWYWx1ZSgpOwogICAgICAgIGFkZFZh\nbHVlKGJyb2tlclBsdWdpbik7CgogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQ\nbHVnaW4gPSBhZGRQbHVnaW4oIkRhdGFDYWNoZU1hbmFnZXIiLCB0cnVlKTsK\nICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAgbmV3IFN0cmluZ1tdIHsg\nImRlZmF1bHQiLCBEYXRhQ2FjaGVNYW5hZ2VySW1wbC5jbGFzcy5nZXROYW1l\nKCksIH07CiAgICAgICAgZGF0YUNhY2hlTWFuYWdlclBsdWdpbi5zZXRBbGlh\nc2VzKGFsaWFzZXMpOwogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4u\nc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBkYXRhQ2FjaGVNYW5h\nZ2VyUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBkYXRh\nQ2FjaGVNYW5hZ2VyUGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdl\ndERhdGFDYWNoZU1hbmFnZXIiKTsKCiAgICAgICAgZGF0YUNhY2hlUGx1Z2lu\nID0gYWRkUGx1Z2luKCJEYXRhQ2FjaGUiLCBmYWxzZSk7CiAgICAgICAgYWxp\nYXNlcyA9IG5ldyBTdHJpbmdbXSB7IAogICAgICAgICAgICAiZmFsc2UiLCBu\ndWxsLCAKICAgICAgICAgICAgInRydWUiLCBDb25jdXJyZW50RGF0YUNhY2hl\nLmNsYXNzLmdldE5hbWUoKSwgCiAgICAgICAgICAgICJjb25jdXJyZW50Iiwg\nQ29uY3VycmVudERhdGFDYWNoZS5jbGFzcy5nZXROYW1lKCksIAogICAgICAg\nIH07CiAgICAgICAgZGF0YUNhY2hlUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNl\ncyk7CiAgICAgICAgZGF0YUNhY2hlUGx1Z2luLnNldERlZmF1bHQoYWxpYXNl\nc1swXSk7CiAgICAgICAgZGF0YUNhY2hlUGx1Z2luLnNldFN0cmluZyhhbGlh\nc2VzWzBdKTsKCiAgICAgICAgZGF0YUNhY2hlVGltZW91dCA9IGFkZEludCgi\nRGF0YUNhY2hlVGltZW91dCIpOwogICAgICAgIGRhdGFDYWNoZVRpbWVvdXQu\nc2V0RGVmYXVsdCgiLTEiKTsKICAgICAgICBkYXRhQ2FjaGVUaW1lb3V0LnNl\ndCgtMSk7CgogICAgICAgIHF1ZXJ5Q2FjaGVQbHVnaW4gPSBhZGRQbHVnaW4o\nIlF1ZXJ5Q2FjaGUiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0\ncmluZ1tdIHsgCiAgICAgICAgICAgICJ0cnVlIiwgQ29uY3VycmVudFF1ZXJ5\nQ2FjaGUuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICAiY29uY3VycmVu\ndCIsIENvbmN1cnJlbnRRdWVyeUNhY2hlLmNsYXNzLmdldE5hbWUoKSwgCiAg\nICAgICAgICAgICJmYWxzZSIsIG51bGwsIAogICAgICAgIH07CiAgICAgICAg\ncXVlcnlDYWNoZVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAg\nIHF1ZXJ5Q2FjaGVQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAg\nICAgICBxdWVyeUNhY2hlUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsK\nCiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3RzID0gYWRkQm9vbGVhbigiRHlu\nYW1pY0RhdGFTdHJ1Y3RzIik7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3Rz\nLnNldERlZmF1bHQoImZhbHNlIik7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1\nY3RzLnNldChmYWxzZSk7CgogICAgICAgIGxvY2tNYW5hZ2VyUGx1Z2luID0g\nYWRkUGx1Z2luKCJMb2NrTWFuYWdlciIsIGZhbHNlKTsKICAgICAgICBhbGlh\nc2VzID0KICAgICAgICAgICAgbmV3IFN0cmluZ1tdIHsgIm5vbmUiLCAib3Jn\nLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5Ob25lTG9ja01hbmFnZXIiLAogICAg\nICAgICAgICAgICAgInZlcnNpb24iLCAib3JnLmFwYWNoZS5vcGVuanBhLmtl\ncm5lbC5WZXJzaW9uTG9ja01hbmFnZXIiLCB9OwogICAgICAgIGxvY2tNYW5h\nZ2VyUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgbG9ja01h\nbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBs\nb2NrTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CgogICAg\nICAgIGludmVyc2VNYW5hZ2VyUGx1Z2luID0gYWRkUGx1Z2luKCJJbnZlcnNl\nTWFuYWdlciIsIGZhbHNlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAg\nICAgbmV3IFN0cmluZ1tdIHsgImZhbHNlIiwgbnVsbCwgInRydWUiLAogICAg\nICAgICAgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuSW52ZXJz\nZU1hbmFnZXIiLCB9OwogICAgICAgIGludmVyc2VNYW5hZ2VyUGx1Z2luLnNl\ndEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgaW52ZXJzZU1hbmFnZXJQbHVn\naW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBpbnZlcnNlTWFu\nYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CgogICAgICAgIHNh\ndmVwb2ludE1hbmFnZXJQbHVnaW4gPSBhZGRQbHVnaW4oIlNhdmVwb2ludE1h\nbmFnZXIiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAg\nbmV3IFN0cmluZ1tdIHsgImluLW1lbSIsCiAgICAgICAgICAgICAgICAib3Jn\nLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5Jbk1lbW9yeVNhdmVwb2ludE1hbmFn\nZXIiLCB9OwogICAgICAgIHNhdmVwb2ludE1hbmFnZXJQbHVnaW4uc2V0QWxp\nYXNlcyhhbGlhc2VzKTsKICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2lu\nLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgc2F2ZXBvaW50TWFu\nYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CiAgICAgICAgc2F2\nZXBvaW50TWFuYWdlclBsdWdpbgogICAgICAgICAgICAuc2V0SW5zdGFudGlh\ndGluZ0dldHRlcigiZ2V0U2F2ZXBvaW50TWFuYWdlckluc3RhbmNlIik7Cgog\nICAgICAgIG9ycGhhbmVkS2V5UGx1Z2luID0gYWRkUGx1Z2luKCJPcnBoYW5l\nZEtleUFjdGlvbiIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAg\nICAgICBuZXcgU3RyaW5nW10geyAibG9nIiwKICAgICAgICAgICAgICAgICJv\ncmcuYXBhY2hlLm9wZW5qcGEuZXZlbnQuTG9nT3JwaGFuZWRLZXlBY3Rpb24i\nLCAiZXhjZXB0aW9uIiwKICAgICAgICAgICAgICAgICJvcmcuYXBhY2hlLm9w\nZW5qcGEuZXZlbnQuRXhjZXB0aW9uT3JwaGFuZWRLZXlBY3Rpb24iLCAibm9u\nZSIsCiAgICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLmV2ZW50\nLk5vbmVPcnBoYW5lZEtleUFjdGlvbiIsIH07CiAgICAgICAgb3JwaGFuZWRL\nZXlQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBvcnBoYW5l\nZEtleVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIG9y\ncGhhbmVkS2V5UGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAg\nICBvcnBoYW5lZEtleVBsdWdpbgogICAgICAgICAgICAuc2V0SW5zdGFudGlh\ndGluZ0dldHRlcigiZ2V0T3JwaGFuZWRLZXlBY3Rpb25JbnN0YW5jZSIpOwoK\nICAgICAgICByZW1vdGVQcm92aWRlclBsdWdpbiA9IG5ldyBSZW1vdGVDb21t\naXRQcm92aWRlclZhbHVlKCk7CiAgICAgICAgYWRkVmFsdWUocmVtb3RlUHJv\ndmlkZXJQbHVnaW4pOwoKICAgICAgICB0cmFuc2FjdGlvbk1vZGUgPSBhZGRC\nb29sZWFuKCJUcmFuc2FjdGlvbk1vZGUiKTsKICAgICAgICBhbGlhc2VzID0g\nbmV3IFN0cmluZ1tdIHsgImxvY2FsIiwgImZhbHNlIiwgIm1hbmFnZWQiLCAi\ndHJ1ZSIsIH07CiAgICAgICAgdHJhbnNhY3Rpb25Nb2RlLnNldEFsaWFzZXMo\nYWxpYXNlcyk7CiAgICAgICAgdHJhbnNhY3Rpb25Nb2RlLnNldERlZmF1bHQo\nYWxpYXNlc1swXSk7CgogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luID0g\nYWRkUGx1Z2luKCJNYW5hZ2VkUnVudGltZSIsIHRydWUpOwogICAgICAgIGFs\naWFzZXMgPQogICAgICAgICAgICBuZXcgU3RyaW5nW10geyAiYXV0byIsCiAg\nICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLmVlLkF1dG9tYXRp\nY01hbmFnZWRSdW50aW1lIiwgImpuZGkiLAogICAgICAgICAgICAgICAgIm9y\nZy5hcGFjaGUub3BlbmpwYS5lZS5KTkRJTWFuYWdlZFJ1bnRpbWUiLCAiaW52\nb2NhdGlvbiIsCiAgICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBh\nLmVlLkludm9jYXRpb25NYW5hZ2VkUnVudGltZSIsIH07CiAgICAgICAgbWFu\nYWdlZFJ1bnRpbWVQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAg\nICBtYW5hZ2VkUnVudGltZVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0p\nOwogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luLnNldFN0cmluZyhhbGlh\nc2VzWzBdKTsKICAgICAgICBtYW5hZ2VkUnVudGltZVBsdWdpbgogICAgICAg\nICAgICAuc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0TWFuYWdlZFJ1bnRp\nbWVJbnN0YW5jZSIpOwoKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4gPSBh\nZGRQbHVnaW4oIlByb3h5TWFuYWdlciIsIHRydWUpOwogICAgICAgIGFsaWFz\nZXMgPQogICAgICAgICAgICBuZXcgU3RyaW5nW10geyAiZGVmYXVsdCIsCiAg\nICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuUHJveHlN\nYW5hZ2VySW1wbCIgfTsKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uc2V0\nQWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4u\nc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBwcm94eU1hbmFnZXJQ\nbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIHByb3h5TWFu\nYWdlclBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRQcm94eU1h\nbmFnZXJJbnN0YW5jZSIpOwoKICAgICAgICBtYXBwaW5nID0gYWRkU3RyaW5n\nKCJNYXBwaW5nIik7CiAgICAgICAgbWV0YUZhY3RvcnlQbHVnaW4gPSBhZGRQ\nbHVnaW4oIk1ldGFEYXRhRmFjdG9yeSIsIGZhbHNlKTsKCiAgICAgICAgbWV0\nYVJlcG9zaXRvcnlQbHVnaW4gPSBhZGRQbHVnaW4oIk1ldGFEYXRhUmVwb3Np\ndG9yeSIsIGZhbHNlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAg\nbmV3IFN0cmluZ1tdIHsgImRlZmF1bHQiLAogICAgICAgICAgICAgICAgIm9y\nZy5hcGFjaGUub3BlbmpwYS5tZXRhLk1ldGFEYXRhUmVwb3NpdG9yeSIgfTsK\nICAgICAgICBtZXRhUmVwb3NpdG9yeVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFz\nZXMpOwogICAgICAgIG1ldGFSZXBvc2l0b3J5UGx1Z2luLnNldERlZmF1bHQo\nYWxpYXNlc1swXSk7CiAgICAgICAgbWV0YVJlcG9zaXRvcnlQbHVnaW4uc2V0\nU3RyaW5nKGFsaWFzZXNbMF0pOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9y\neSA9IGFkZE9iamVjdCgiQ29ubmVjdGlvbkZhY3RvcnkiKTsKICAgICAgICBj\nb25uZWN0aW9uRmFjdG9yeS5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRD\nb25uZWN0aW9uRmFjdG9yeSIpOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9y\neTIgPSBhZGRPYmplY3QoIkNvbm5lY3Rpb25GYWN0b3J5MiIpOwogICAgICAg\nIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJn\nZXRDb25uZWN0aW9uRmFjdG9yeTIiKTsKCiAgICAgICAgY29ubmVjdGlvblVz\nZXJOYW1lID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uVXNlck5hbWUiKTsKICAg\nICAgICBjb25uZWN0aW9uUGFzc3dvcmQgPSBhZGRTdHJpbmcoIkNvbm5lY3Rp\nb25QYXNzd29yZCIpOwogICAgICAgIGNvbm5lY3Rpb25VUkwgPSBhZGRTdHJp\nbmcoIkNvbm5lY3Rpb25VUkwiKTsKICAgICAgICBjb25uZWN0aW9uRHJpdmVy\nTmFtZSA9IGFkZFN0cmluZygiQ29ubmVjdGlvbkRyaXZlck5hbWUiKTsKICAg\nICAgICBjb25uZWN0aW9uRmFjdG9yeU5hbWUgPSBhZGRTdHJpbmcoIkNvbm5l\nY3Rpb25GYWN0b3J5TmFtZSIpOwogICAgICAgIGNvbm5lY3Rpb25Qcm9wZXJ0\naWVzID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uUHJvcGVydGllcyIpOwogICAg\nICAgIGNvbm5lY3Rpb25GYWN0b3J5UHJvcGVydGllcyA9IGFkZFN0cmluZygi\nQ29ubmVjdGlvbkZhY3RvcnlQcm9wZXJ0aWVzIik7CiAgICAgICAgY29ubmVj\ndGlvbjJVc2VyTmFtZSA9IGFkZFN0cmluZygiQ29ubmVjdGlvbjJVc2VyTmFt\nZSIpOwogICAgICAgIGNvbm5lY3Rpb24yUGFzc3dvcmQgPSBhZGRTdHJpbmco\nIkNvbm5lY3Rpb24yUGFzc3dvcmQiKTsKICAgICAgICBjb25uZWN0aW9uMlVS\nTCA9IGFkZFN0cmluZygiQ29ubmVjdGlvbjJVUkwiKTsKICAgICAgICBjb25u\nZWN0aW9uMkRyaXZlck5hbWUgPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb24yRHJp\ndmVyTmFtZSIpOwogICAgICAgIGNvbm5lY3Rpb24yUHJvcGVydGllcyA9IGFk\nZFN0cmluZygiQ29ubmVjdGlvbjJQcm9wZXJ0aWVzIik7CiAgICAgICAgY29u\nbmVjdGlvbkZhY3RvcnkyUHJvcGVydGllcyA9CiAgICAgICAgICAgIGFkZFN0\ncmluZygiQ29ubmVjdGlvbkZhY3RvcnkyUHJvcGVydGllcyIpOwogICAgICAg\nIGNvbm5lY3Rpb25GYWN0b3J5Mk5hbWUgPSBhZGRTdHJpbmcoIkNvbm5lY3Rp\nb25GYWN0b3J5Mk5hbWUiKTsKCiAgICAgICAgY29ubmVjdGlvbkZhY3RvcnlN\nb2RlID0gYWRkQm9vbGVhbigiQ29ubmVjdGlvbkZhY3RvcnlNb2RlIik7CiAg\nICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7ICJsb2NhbCIsICJmYWxz\nZSIsICJtYW5hZ2VkIiwgInRydWUiLCB9OwogICAgICAgIGNvbm5lY3Rpb25G\nYWN0b3J5TW9kZS5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGNvbm5l\nY3Rpb25GYWN0b3J5TW9kZS5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwoKICAg\nICAgICBvcHRpbWlzdGljID0gYWRkQm9vbGVhbigiT3B0aW1pc3RpYyIpOwog\nICAgICAgIG9wdGltaXN0aWMuc2V0RGVmYXVsdCgidHJ1ZSIpOwogICAgICAg\nIG9wdGltaXN0aWMuc2V0KHRydWUpOwoKICAgICAgICBhdXRvQ2xlYXIgPSBh\nZGRJbnQoIkF1dG9DbGVhciIpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAg\nICAgICBuZXcgU3RyaW5nW10geyAiZGF0YXN0b3JlIiwKICAgICAgICAgICAg\nICAgIFN0cmluZy52YWx1ZU9mKEF1dG9DbGVhci5DTEVBUl9EQVRBU1RPUkUp\nLCAiYWxsIiwKICAgICAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKEF1dG9D\nbGVhci5DTEVBUl9BTEwpLCB9OwogICAgICAgIGF1dG9DbGVhci5zZXRBbGlh\nc2VzKGFsaWFzZXMpOwogICAgICAgIGF1dG9DbGVhci5zZXREZWZhdWx0KGFs\naWFzZXNbMF0pOwogICAgICAgIGF1dG9DbGVhci5zZXQoQXV0b0NsZWFyLkNM\nRUFSX0RBVEFTVE9SRSk7CiAgICAgICAgYXV0b0NsZWFyLnNldEFsaWFzTGlz\ndENvbXByZWhlbnNpdmUodHJ1ZSk7CgogICAgICAgIHJldGFpblN0YXRlID0g\nYWRkQm9vbGVhbigiUmV0YWluU3RhdGUiKTsKICAgICAgICByZXRhaW5TdGF0\nZS5zZXREZWZhdWx0KCJ0cnVlIik7CiAgICAgICAgcmV0YWluU3RhdGUuc2V0\nKHRydWUpOwoKICAgICAgICByZXN0b3JlU3RhdGUgPSBhZGRJbnQoIlJlc3Rv\ncmVTdGF0ZSIpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAgICAgICBuZXcg\nU3RyaW5nW10geyAibm9uZSIsIFN0cmluZy52YWx1ZU9mKFJlc3RvcmVTdGF0\nZS5SRVNUT1JFX05PTkUpLAogICAgICAgICAgICAgICAgImZhbHNlIiwgU3Ry\naW5nLnZhbHVlT2YoUmVzdG9yZVN0YXRlLlJFU1RPUkVfTk9ORSksCiAgICAg\nICAgICAgICAgICAiaW1tdXRhYmxlIiwgU3RyaW5nLnZhbHVlT2YoUmVzdG9y\nZVN0YXRlLlJFU1RPUkVfSU1NVVRBQkxFKSwKICAgICAgICAgICAgICAgIC8v\nICJ0cnVlIiBmb3IgY29tcGF0IHdpdGggamRvIFJlc3RvcmVWYWx1ZXMKICAg\nICAgICAgICAgICAgICJ0cnVlIiwgU3RyaW5nLnZhbHVlT2YoUmVzdG9yZVN0\nYXRlLlJFU1RPUkVfSU1NVVRBQkxFKSwgImFsbCIsCiAgICAgICAgICAgICAg\nICBTdHJpbmcudmFsdWVPZihSZXN0b3JlU3RhdGUuUkVTVE9SRV9BTEwpLCB9\nOwogICAgICAgIHJlc3RvcmVTdGF0ZS5zZXRBbGlhc2VzKGFsaWFzZXMpOwog\nICAgICAgIHJlc3RvcmVTdGF0ZS5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwog\nICAgICAgIHJlc3RvcmVTdGF0ZS5zZXQoUmVzdG9yZVN0YXRlLlJFU1RPUkVf\nSU1NVVRBQkxFKTsKICAgICAgICByZXN0b3JlU3RhdGUuc2V0QWxpYXNMaXN0\nQ29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAgYXV0b0RldGFjaCA9IG5l\ndyBBdXRvRGV0YWNoVmFsdWUoKTsKICAgICAgICBhZGRWYWx1ZShhdXRvRGV0\nYWNoKTsKCiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4gPSBhZGRQbHVnaW4o\nIkRldGFjaFN0YXRlIiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBT\ndHJpbmdbXSB7CiAgICAgICAgICAgICJsb2FkZWQiLCBEZXRhY2hPcHRpb25z\nLkxvYWRlZC5jbGFzcy5nZXROYW1lKCksCiAgICAgICAgICAgICJmZ3MiLCBE\nZXRhY2hPcHRpb25zLkZldGNoR3JvdXBzLmNsYXNzLmdldE5hbWUoKSwKICAg\nICAgICAgICAgImZldGNoLWdyb3VwcyIsIERldGFjaE9wdGlvbnMuRmV0Y2hH\ncm91cHMuY2xhc3MuZ2V0TmFtZSgpLCAKICAgICAgICAgICAgImFsbCIsIERl\ndGFjaE9wdGlvbnMuQWxsLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICB9Owog\nICAgICAgIGRldGFjaFN0YXRlUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7\nCiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2Vz\nWzBdKTsKICAgICAgICBkZXRhY2hTdGF0ZVBsdWdpbi5zZXRTdHJpbmcoYWxp\nYXNlc1swXSk7CiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uc2V0SW5zdGFu\ndGlhdGluZ0dldHRlcigiZ2V0RGV0YWNoU3RhdGVJbnN0YW5jZSIpOwoKICAg\nICAgICBpZ25vcmVDaGFuZ2VzID0gYWRkQm9vbGVhbigiSWdub3JlQ2hhbmdl\ncyIpOwoKICAgICAgICBub250cmFuc2FjdGlvbmFsUmVhZCA9IGFkZEJvb2xl\nYW4oIk5vbnRyYW5zYWN0aW9uYWxSZWFkIik7CiAgICAgICAgbm9udHJhbnNh\nY3Rpb25hbFJlYWQuc2V0RGVmYXVsdCgidHJ1ZSIpOwogICAgICAgIG5vbnRy\nYW5zYWN0aW9uYWxSZWFkLnNldCh0cnVlKTsKCiAgICAgICAgbm9udHJhbnNh\nY3Rpb25hbFdyaXRlID0gYWRkQm9vbGVhbigiTm9udHJhbnNhY3Rpb25hbFdy\naXRlIik7CiAgICAgICAgbXVsdGl0aHJlYWRlZCA9IGFkZEJvb2xlYW4oIk11\nbHRpdGhyZWFkZWQiKTsKCiAgICAgICAgZmV0Y2hCYXRjaFNpemUgPSBhZGRJ\nbnQoIkZldGNoQmF0Y2hTaXplIik7CiAgICAgICAgZmV0Y2hCYXRjaFNpemUu\nc2V0RGVmYXVsdCgiLTEiKTsKICAgICAgICBmZXRjaEJhdGNoU2l6ZS5zZXQo\nLTEpOwoKICAgICAgICBtYXhGZXRjaERlcHRoID0gYWRkSW50KCJNYXhGZXRj\naERlcHRoIik7CiAgICAgICAgbWF4RmV0Y2hEZXB0aC5zZXREZWZhdWx0KCIt\nMSIpOwogICAgICAgIG1heEZldGNoRGVwdGguc2V0KC0xKTsKCiAgICAgICAg\nZmV0Y2hHcm91cHMgPSBhZGRTdHJpbmdMaXN0KCJGZXRjaEdyb3VwcyIpOwog\nICAgICAgIGZldGNoR3JvdXBzLnNldERlZmF1bHQoImRlZmF1bHQiKTsKICAg\nICAgICBmZXRjaEdyb3Vwcy5zZXQobmV3IFN0cmluZ1tdIHsgImRlZmF1bHQi\nIH0pOwoKICAgICAgICBmbHVzaEJlZm9yZVF1ZXJpZXMgPSBhZGRJbnQoIkZs\ndXNoQmVmb3JlUXVlcmllcyIpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAg\nICAgICBuZXcgU3RyaW5nW10geyAidHJ1ZSIsIFN0cmluZy52YWx1ZU9mKFF1\nZXJ5Rmx1c2hNb2Rlcy5GTFVTSF9UUlVFKSwKICAgICAgICAgICAgICAgICJm\nYWxzZSIsIFN0cmluZy52YWx1ZU9mKFF1ZXJ5Rmx1c2hNb2Rlcy5GTFVTSF9G\nQUxTRSksCiAgICAgICAgICAgICAgICAid2l0aC1jb25uZWN0aW9uIiwKICAg\nICAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKFF1ZXJ5Rmx1c2hNb2Rlcy5G\nTFVTSF9XSVRIX0NPTk5FQ1RJT04pLCB9OwogICAgICAgIGZsdXNoQmVmb3Jl\nUXVlcmllcy5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGZsdXNoQmVm\nb3JlUXVlcmllcy5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGZs\ndXNoQmVmb3JlUXVlcmllcy5zZXQoUXVlcnlGbHVzaE1vZGVzLkZMVVNIX1RS\nVUUpOwogICAgICAgIGZsdXNoQmVmb3JlUXVlcmllcy5zZXRBbGlhc0xpc3RD\nb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBsb2NrVGltZW91dCA9IGFk\nZEludCgiTG9ja1RpbWVvdXQiKTsKICAgICAgICBsb2NrVGltZW91dC5zZXRE\nZWZhdWx0KCItMSIpOwogICAgICAgIGxvY2tUaW1lb3V0LnNldCgtMSk7Cgog\nICAgICAgIHJlYWRMb2NrTGV2ZWwgPSBhZGRJbnQoIlJlYWRMb2NrTGV2ZWwi\nKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAgbmV3IFN0cmluZ1td\nIHsKICAgICAgICAgICAgICAgICJyZWFkIiwgU3RyaW5nLnZhbHVlT2YoTG9j\na0xldmVscy5MT0NLX1JFQUQpLAogICAgICAgICAgICAgICAgIndyaXRlIiwg\nU3RyaW5nLnZhbHVlT2YoTG9ja0xldmVscy5MT0NLX1dSSVRFKSwKICAgICAg\nICAgICAgICAgICJub25lIiwgU3RyaW5nLnZhbHVlT2YoTG9ja0xldmVscy5M\nT0NLX05PTkUpLAogICAgICAgICAgICB9OwogICAgICAgIHJlYWRMb2NrTGV2\nZWwuc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICByZWFkTG9ja0xldmVs\nLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgcmVhZExvY2tMZXZl\nbC5zZXQoTG9ja0xldmVscy5MT0NLX1JFQUQpOwogICAgICAgIHJlYWRMb2Nr\nTGV2ZWwuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAg\nICAgd3JpdGVMb2NrTGV2ZWwgPSBhZGRJbnQoIldyaXRlTG9ja0xldmVsIik7\nCiAgICAgICAgYWxpYXNlcyA9CiAgICAgICAgICAgIG5ldyBTdHJpbmdbXSB7\nCiAgICAgICAgICAgICAgICAicmVhZCIsIFN0cmluZy52YWx1ZU9mKExvY2tM\nZXZlbHMuTE9DS19SRUFEKSwKICAgICAgICAgICAgICAgICJ3cml0ZSIsIFN0\ncmluZy52YWx1ZU9mKExvY2tMZXZlbHMuTE9DS19XUklURSksCiAgICAgICAg\nICAgICAgICAibm9uZSIsIFN0cmluZy52YWx1ZU9mKExvY2tMZXZlbHMuTE9D\nS19OT05FKSwKICAgICAgICAgICAgfTsKICAgICAgICB3cml0ZUxvY2tMZXZl\nbC5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHdyaXRlTG9ja0xldmVs\nLnNldERlZmF1bHQoYWxpYXNlc1sxXSk7CiAgICAgICAgd3JpdGVMb2NrTGV2\nZWwuc2V0KExvY2tMZXZlbHMuTE9DS19XUklURSk7CiAgICAgICAgd3JpdGVM\nb2NrTGV2ZWwuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAg\nICAgICAgc2VxUGx1Z2luID0gbmV3IFNlcVZhbHVlKCJTZXF1ZW5jZSIpOwog\nICAgICAgIHNlcVBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRT\nZXF1ZW5jZUluc3RhbmNlIik7CiAgICAgICAgYWRkVmFsdWUoc2VxUGx1Z2lu\nKTsKCiAgICAgICAgY29ubmVjdGlvblJldGFpbk1vZGUgPSBhZGRJbnQoIkNv\nbm5lY3Rpb25SZXRhaW5Nb2RlIik7CiAgICAgICAgYWxpYXNlcyA9CiAgICAg\nICAgICAgIG5ldyBTdHJpbmdbXSB7CiAgICAgICAgICAgICAgICAib24tZGVt\nYW5kIiwKICAgICAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKENvbm5lY3Rp\nb25SZXRhaW5Nb2Rlcy5DT05OX1JFVEFJTl9ERU1BTkQpLAogICAgICAgICAg\nICAgICAgInRyYW5zYWN0aW9uIiwKICAgICAgICAgICAgICAgIFN0cmluZy52\nYWx1ZU9mKENvbm5lY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JFVEFJTl9UUkFO\nUyksCiAgICAgICAgICAgICAgICAiYWx3YXlzIiwKICAgICAgICAgICAgICAg\nIFN0cmluZy52YWx1ZU9mKENvbm5lY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JF\nVEFJTl9BTFdBWVMpLAogICAgICAgICAgICAgICAgLy8gZGVwcmVjYXRlZAog\nICAgICAgICAgICAgICAgInBlcnNpc3RlbmNlLW1hbmFnZXIiLAogICAgICAg\nICAgICAgICAgU3RyaW5nLnZhbHVlT2YoQ29ubmVjdGlvblJldGFpbk1vZGVz\nLkNPTk5fUkVUQUlOX0FMV0FZUyksCiAgICAgICAgICAgIH07CiAgICAgICAg\nY29ubmVjdGlvblJldGFpbk1vZGUuc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAg\nICAgICBjb25uZWN0aW9uUmV0YWluTW9kZS5zZXREZWZhdWx0KGFsaWFzZXNb\nMF0pOwogICAgICAgIGNvbm5lY3Rpb25SZXRhaW5Nb2RlLnNldEFsaWFzTGlz\ndENvbXByZWhlbnNpdmUodHJ1ZSk7CiAgICAgICAgY29ubmVjdGlvblJldGFp\nbk1vZGUuc2V0KENvbm5lY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JFVEFJTl9E\nRU1BTkQpOwoKICAgICAgICBmaWx0ZXJMaXN0ZW5lclBsdWdpbnMgPSBhZGRQ\nbHVnaW5MaXN0KCJGaWx0ZXJMaXN0ZW5lcnMiKTsKICAgICAgICBmaWx0ZXJM\naXN0ZW5lclBsdWdpbnMKICAgICAgICAgICAgLnNldEluc3RhbnRpYXRpbmdH\nZXR0ZXIoImdldEZpbHRlckxpc3RlbmVySW5zdGFuY2VzIik7CgogICAgICAg\nIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucyA9IGFkZFBsdWdpbkxpc3QoIkFn\nZ3JlZ2F0ZUxpc3RlbmVycyIpOwogICAgICAgIGFnZ3JlZ2F0ZUxpc3RlbmVy\nUGx1Z2lucwogICAgICAgICAgICAuc2V0SW5zdGFudGlhdGluZ0dldHRlcigi\nZ2V0QWdncmVnYXRlTGlzdGVuZXJJbnN0YW5jZXMiKTsKCiAgICAgICAgcmV0\ncnlDbGFzc1JlZ2lzdHJhdGlvbiA9IGFkZEJvb2xlYW4oIlJldHJ5Q2xhc3NS\nZWdpc3RyYXRpb24iKTsKCiAgICAgICAgY29tcGF0aWJpbGl0eVBsdWdpbiA9\nIGFkZFBsdWdpbigiQ29tcGF0aWJpbGl0eSIsIHRydWUpOwogICAgICAgIGFs\naWFzZXMgPSBuZXcgU3RyaW5nW10geyAiZGVmYXVsdCIsIENvbXBhdGliaWxp\ndHkuY2xhc3MuZ2V0TmFtZSgpIH07CiAgICAgICAgY29tcGF0aWJpbGl0eVBs\ndWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGNvbXBhdGliaWxp\ndHlQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBjb21w\nYXRpYmlsaXR5UGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAg\nICBjb21wYXRpYmlsaXR5UGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIo\nImdldENvbXBhdGliaWxpdHlJbnN0YW5jZSIpOwogICAgICAgIAogICAgICAg\nIHF1ZXJ5Q29tcGlsYXRpb25DYWNoZVBsdWdpbiA9IG5ldyBRdWVyeUNvbXBp\nbGF0aW9uQ2FjaGVWYWx1ZSgKICAgICAgICAgICAgIlF1ZXJ5Q29tcGlsYXRp\nb25DYWNoZSIpOwogICAgICAgIHF1ZXJ5Q29tcGlsYXRpb25DYWNoZVBsdWdp\nbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKAogICAgICAgICAgICAiZ2V0UXVl\ncnlDb21waWxhdGlvbkNhY2hlSW5zdGFuY2UiKTsKICAgICAgICBhZGRWYWx1\nZShxdWVyeUNvbXBpbGF0aW9uQ2FjaGVQbHVnaW4pOwogICAgICAgIAogICAg\nICAgIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3NlcyA9IGFkZEludCgiUnVudGlt\nZVVuZW5oYW5jZWRDbGFzc2VzIik7CiAgICAgICAgcnVudGltZVVuZW5oYW5j\nZWRDbGFzc2VzLnNldEFsaWFzZXMobmV3IFN0cmluZ1tdIHsKICAgICAgICAg\nICAgInN1cHBvcnRlZCIsIFN0cmluZy52YWx1ZU9mKAogICAgICAgICAgICAg\nICAgUnVudGltZVVuZW5oYW5jZWRDbGFzc3Nlc01vZGVzLlNVUFBPUlRFRCks\nCiAgICAgICAgICAgICJ1bnN1cHBvcnRlZCIsIFN0cmluZy52YWx1ZU9mKAog\nICAgICAgICAgICAgICAgUnVudGltZVVuZW5oYW5jZWRDbGFzc3Nlc01vZGVz\nLlVOU1VQUE9SVEVEKSwKICAgICAgICAgICAgIndhcm4iLCBTdHJpbmcudmFs\ndWVPZigKICAgICAgICAgICAgICAgIFJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nz\nZXNNb2Rlcy5XQVJOKSwKICAgICAgICB9KTsKICAgICAgICBydW50aW1lVW5l\nbmhhbmNlZENsYXNzZXMuc2V0RGVmYXVsdCgic3VwcG9ydGVkIik7CiAgICAg\nICAgcnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLnNldFN0cmluZygic3VwcG9y\ndGVkIik7CiAgICAgICAgcnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLnNldEFs\naWFzTGlzdENvbXByZWhlbnNpdmUodHJ1ZSk7CgogICAgICAgIC8vIGluaXRp\nYWxpemUgc3VwcG9ydGVkIG9wdGlvbnMgdGhhdCBzb21lIHJ1bnRpbWVzIG1h\neSBub3Qgc3VwcG9ydAogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9Q\nVElPTl9OT05UUkFOU19SRUFEKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25z\nLmFkZChPUFRJT05fT1BUSU1JU1RJQyk7CiAgICAgICAgc3VwcG9ydGVkT3B0\naW9ucy5hZGQoT1BUSU9OX0lEX0FQUExJQ0FUSU9OKTsKICAgICAgICBzdXBw\nb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fSURfREFUQVNUT1JFKTsKICAgICAg\nICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fVFlQRV9DT0xMRUNUSU9O\nKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fVFlQRV9N\nQVApOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9UWVBF\nX0FSUkFZKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05f\nTlVMTF9DT05UQUlORVIpOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRk\nKE9QVElPTl9FTUJFRERFRF9SRUxBVElPTik7CiAgICAgICAgc3VwcG9ydGVk\nT3B0aW9ucy5hZGQoT1BUSU9OX0VNQkVEREVEX0NPTExFQ1RJT05fUkVMQVRJ\nT04pOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9FTUJF\nRERFRF9NQVBfUkVMQVRJT04pOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMu\nYWRkKE9QVElPTl9JTkNfRkxVU0gpOwogICAgICAgIHN1cHBvcnRlZE9wdGlv\nbnMuYWRkKE9QVElPTl9WQUxVRV9BVVRPQVNTSUdOKTsKICAgICAgICBzdXBw\nb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fVkFMVUVfSU5DUkVNRU5UKTsKICAg\nICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fREFUQVNUT1JFX0NP\nTk5FQ1RJT04pOwoKICAgICAgICBpZiAoZGVyaXZhdGlvbnMpCiAgICAgICAg\nICAgIFByb2R1Y3REZXJpdmF0aW9ucy5iZWZvcmVDb25maWd1cmF0aW9uTG9h\nZCh0aGlzKTsKICAgICAgICBpZiAobG9hZEdsb2JhbHMpCiAgICAgICAgICAg\nIGxvYWRHbG9iYWxzKCk7CiAgICB9CgogICAgcHVibGljIENvbGxlY3Rpb24g\nc3VwcG9ydGVkT3B0aW9ucygpIHsKICAgICAgICByZXR1cm4gc3VwcG9ydGVk\nT3B0aW9uczsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFNwZWNpZmlj\nYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIHNwZWM7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gc2V0U3BlY2lmaWNhdGlvbihTdHJpbmcgc3BlYykgewog\nICAgICAgIGlmIChzcGVjID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKCiAgICAgICAgaWYgKHRoaXMuc3BlYyAhPSBudWxsKSB7CiAgICAg\nICAgICAgIGlmICghdGhpcy5zcGVjLmVxdWFscyhzcGVjKQogICAgICAgICAg\nICAgICAgJiYgZ2V0Q29uZmlndXJhdGlvbkxvZygpLmlzV2FybkVuYWJsZWQo\nKSkKICAgICAgICAgICAgICAgIGdldENvbmZpZ3VyYXRpb25Mb2coKS53YXJu\nKAogICAgICAgICAgICAgICAgICAgIF9sb2MuZ2V0KCJkaWZmLXNwZWNzIiwg\ndGhpcy5zcGVjLCBzcGVjKSk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsK\nICAgICAgICB9CiAgICAgICAgdGhpcy5zcGVjID0gc3BlYzsKICAgICAgICBQ\ncm9kdWN0RGVyaXZhdGlvbnMuYWZ0ZXJTcGVjaWZpY2F0aW9uU2V0KHRoaXMp\nOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldENsYXNzUmVzb2x2ZXIoU3RyaW5nIGNsYXNzUmVzb2x2ZXIpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGNsYXNzUmVzb2x2\nZXJQbHVnaW4uc2V0U3RyaW5nKGNsYXNzUmVzb2x2ZXIpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0Q2xhc3NSZXNvbHZlcigpIHsKICAgICAgICBy\nZXR1cm4gY2xhc3NSZXNvbHZlclBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRDbGFzc1Jlc29sdmVyKENsYXNzUmVzb2x2\nZXIgY2xhc3NSZXNvbHZlcikgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5\nKCk7CiAgICAgICAgY2xhc3NSZXNvbHZlclBsdWdpbi5zZXQoY2xhc3NSZXNv\nbHZlcik7CiAgICB9CgogICAgcHVibGljIENsYXNzUmVzb2x2ZXIgZ2V0Q2xh\nc3NSZXNvbHZlckluc3RhbmNlKCkgewogICAgICAgIGlmIChjbGFzc1Jlc29s\ndmVyUGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIGNsYXNzUmVz\nb2x2ZXJQbHVnaW4uaW5zdGFudGlhdGUoQ2xhc3NSZXNvbHZlci5jbGFzcywg\ndGhpcyk7CiAgICAgICAgcmV0dXJuIChDbGFzc1Jlc29sdmVyKSBjbGFzc1Jl\nc29sdmVyUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndEJyb2tlckZhY3RvcnkoU3RyaW5nIGZhY3RvcnkpIHsKICAgICAgICBhc3Nl\ncnROb3RSZWFkT25seSgpOwogICAgICAgIGJyb2tlckZhY3RvcnlQbHVnaW4u\nc2V0U3RyaW5nKGZhY3RvcnkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0QnJva2VyRmFjdG9yeSgpIHsKICAgICAgICByZXR1cm4gYnJva2VyRmFj\ndG9yeVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRCcm9rZXJJbXBsKFN0cmluZyBicm9rZXIpIHsKICAgICAgICBhc3Nl\ncnROb3RSZWFkT25seSgpOwogICAgICAgIGJyb2tlclBsdWdpbi5zZXRTdHJp\nbmcoYnJva2VyKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEJyb2tl\nckltcGwoKSB7CiAgICAgICAgcmV0dXJuIGJyb2tlclBsdWdpbi5nZXRTdHJp\nbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgQnJva2VySW1wbCBuZXdCcm9rZXJJ\nbnN0YW5jZShTdHJpbmcgdXNlciwgU3RyaW5nIHBhc3MpIHsKICAgICAgICBC\ncm9rZXJJbXBsIGJyb2tlciA9CiAgICAgICAgICAgIChCcm9rZXJJbXBsKSBi\ncm9rZXJQbHVnaW4uaW5zdGFudGlhdGUoQnJva2VySW1wbC5jbGFzcywgdGhp\ncyk7CiAgICAgICAgaWYgKGJyb2tlciAhPSBudWxsKQogICAgICAgICAgICBi\ncm9rZXIuc2V0QXV0aGVudGljYXRpb24odXNlciwgcGFzcyk7CiAgICAgICAg\ncmV0dXJuIGJyb2tlcjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREYXRh\nQ2FjaGVNYW5hZ2VyKFN0cmluZyBtZ3IpIHsKICAgICAgICBhc3NlcnROb3RS\nZWFkT25seSgpOwogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4uc2V0\nU3RyaW5nKG1ncik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXREYXRh\nQ2FjaGVNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBkYXRhQ2FjaGVNYW5h\nZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldERhdGFDYWNoZU1hbmFnZXIoRGF0YUNhY2hlTWFuYWdlciBkY20pIHsK\nICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGlmIChkY20g\nIT0gbnVsbCkKICAgICAgICAgICAgZGNtLmluaXRpYWxpemUodGhpcywgZGF0\nYUNhY2hlUGx1Z2luLCBxdWVyeUNhY2hlUGx1Z2luKTsKICAgICAgICBkYXRh\nQ2FjaGVNYW5hZ2VyUGx1Z2luLnNldChkY20pOwogICAgfQoKICAgIHB1Ymxp\nYyBEYXRhQ2FjaGVNYW5hZ2VyIGdldERhdGFDYWNoZU1hbmFnZXJJbnN0YW5j\nZSgpIHsKICAgICAgICBEYXRhQ2FjaGVNYW5hZ2VyIGRjbSA9IChEYXRhQ2Fj\naGVNYW5hZ2VyKSBkYXRhQ2FjaGVNYW5hZ2VyUGx1Z2luLmdldCgpOwogICAg\nICAgIGlmIChkY20gPT0gbnVsbCkgewogICAgICAgICAgICBkY20gPQogICAg\nICAgICAgICAgICAgKERhdGFDYWNoZU1hbmFnZXIpIGRhdGFDYWNoZU1hbmFn\nZXJQbHVnaW4uaW5zdGFudGlhdGUoCiAgICAgICAgICAgICAgICAgICAgRGF0\nYUNhY2hlTWFuYWdlci5jbGFzcywgdGhpcyk7CiAgICAgICAgICAgIGRjbS5p\nbml0aWFsaXplKHRoaXMsIGRhdGFDYWNoZVBsdWdpbiwgcXVlcnlDYWNoZVBs\ndWdpbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBkY207CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0RGF0YUNhY2hlKFN0cmluZyBkYXRhQ2FjaGUp\nIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGRhdGFD\nYWNoZVBsdWdpbi5zZXRTdHJpbmcoZGF0YUNhY2hlKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldERhdGFDYWNoZSgpIHsKICAgICAgICByZXR1cm4g\nZGF0YUNhY2hlUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldERhdGFDYWNoZVRpbWVvdXQoaW50IGRhdGFDYWNoZVRpbWVv\ndXQpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRo\naXMuZGF0YUNhY2hlVGltZW91dC5zZXQoZGF0YUNhY2hlVGltZW91dCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0YUNhY2hlVGltZW91dChJbnRl\nZ2VyIGRhdGFDYWNoZVRpbWVvdXQpIHsKICAgICAgICBpZiAoZGF0YUNhY2hl\nVGltZW91dCAhPSBudWxsKQogICAgICAgICAgICBzZXREYXRhQ2FjaGVUaW1l\nb3V0KGRhdGFDYWNoZVRpbWVvdXQuaW50VmFsdWUoKSk7CiAgICB9CgogICAg\ncHVibGljIGludCBnZXREYXRhQ2FjaGVUaW1lb3V0KCkgewogICAgICAgIHJl\ndHVybiBkYXRhQ2FjaGVUaW1lb3V0LmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFF1ZXJ5Q2FjaGUoU3RyaW5nIHF1ZXJ5Q2FjaGUpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHF1ZXJ5Q2FjaGVQ\nbHVnaW4uc2V0U3RyaW5nKHF1ZXJ5Q2FjaGUpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0UXVlcnlDYWNoZSgpIHsKICAgICAgICByZXR1cm4gcXVl\ncnlDYWNoZVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBnZXREeW5hbWljRGF0YVN0cnVjdHMoKSB7CiAgICAgICAgcmV0\ndXJuIGR5bmFtaWNEYXRhU3RydWN0cy5nZXQoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXREeW5hbWljRGF0YVN0cnVjdHMoYm9vbGVhbiBkeW5hbWlj\nKSB7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3RzLnNldChkeW5hbWljKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREeW5hbWljRGF0YVN0cnVjdHMo\nQm9vbGVhbiBkeW5hbWljKSB7CiAgICAgICAgc2V0RHluYW1pY0RhdGFTdHJ1\nY3RzKGR5bmFtaWMuYm9vbGVhblZhbHVlKCkpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldExvY2tNYW5hZ2VyKFN0cmluZyBsb2NrTWFuYWdlcikgewog\nICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgbG9ja01hbmFn\nZXJQbHVnaW4uc2V0U3RyaW5nKGxvY2tNYW5hZ2VyKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldExvY2tNYW5hZ2VyKCkgewogICAgICAgIHJldHVy\nbiBsb2NrTWFuYWdlclBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBw\ndWJsaWMgTG9ja01hbmFnZXIgbmV3TG9ja01hbmFnZXJJbnN0YW5jZSgpIHsK\nICAgICAgICAvLyBkb24ndCB2YWxpZGF0ZSBwbHVnaW4gcHJvcGVydGllcyBv\nbiBpbnN0YW50aWF0aW9uIGJlY2F1c2UgaXQKICAgICAgICAvLyBpcyBsaWtl\nbHkgdGhhdCBiYWNrIGVuZHMgd2lsbCBvdmVycmlkZSBkZWZhdWx0cyB3aXRo\nIHRoZWlyCiAgICAgICAgLy8gb3duIHN1YmNsYXNzZXMgd2l0aCBuZXcgcHJv\ncGVydGllcwogICAgICAgIHJldHVybiAoTG9ja01hbmFnZXIpIGxvY2tNYW5h\nZ2VyUGx1Z2luLmluc3RhbnRpYXRlKExvY2tNYW5hZ2VyLmNsYXNzLAogICAg\nICAgICAgICB0aGlzLCBmYWxzZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0SW52ZXJzZU1hbmFnZXIoU3RyaW5nIGludmVyc2VNYW5hZ2VyKSB7CiAg\nICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBpbnZlcnNlTWFu\nYWdlclBsdWdpbi5zZXRTdHJpbmcoaW52ZXJzZU1hbmFnZXIpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW52ZXJzZU1hbmFnZXIoKSB7CiAgICAg\nICAgcmV0dXJuIGludmVyc2VNYW5hZ2VyUGx1Z2luLmdldFN0cmluZygpOwog\nICAgfQoKICAgIHB1YmxpYyBJbnZlcnNlTWFuYWdlciBuZXdJbnZlcnNlTWFu\nYWdlckluc3RhbmNlKCkgewogICAgICAgIHJldHVybiAoSW52ZXJzZU1hbmFn\nZXIpIGludmVyc2VNYW5hZ2VyUGx1Z2luLmluc3RhbnRpYXRlKAogICAgICAg\nICAgICBJbnZlcnNlTWFuYWdlci5jbGFzcywgdGhpcyk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0U2F2ZXBvaW50TWFuYWdlcihTdHJpbmcgc2F2ZXBv\naW50TWFuYWdlcikgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAg\nICAgICAgc2F2ZXBvaW50TWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoc2F2ZXBv\naW50TWFuYWdlcik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTYXZl\ncG9pbnRNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBzYXZlcG9pbnRNYW5h\nZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyBTYXZl\ncG9pbnRNYW5hZ2VyIGdldFNhdmVwb2ludE1hbmFnZXJJbnN0YW5jZSgpIHsK\nICAgICAgICBpZiAoc2F2ZXBvaW50TWFuYWdlclBsdWdpbi5nZXQoKSA9PSBu\ndWxsKQogICAgICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLmluc3Rh\nbnRpYXRlKFNhdmVwb2ludE1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAgICAg\nIHJldHVybiAoU2F2ZXBvaW50TWFuYWdlcikgc2F2ZXBvaW50TWFuYWdlclBs\ndWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRPcnBoYW5l\nZEtleUFjdGlvbihTdHJpbmcgYWN0aW9uKSB7CiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICBvcnBoYW5lZEtleVBsdWdpbi5zZXRTdHJp\nbmcoYWN0aW9uKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE9ycGhh\nbmVkS2V5QWN0aW9uKCkgewogICAgICAgIHJldHVybiBvcnBoYW5lZEtleVBs\ndWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgT3JwaGFuZWRL\nZXlBY3Rpb24gZ2V0T3JwaGFuZWRLZXlBY3Rpb25JbnN0YW5jZSgpIHsKICAg\nICAgICBpZiAob3JwaGFuZWRLZXlQbHVnaW4uZ2V0KCkgPT0gbnVsbCkKICAg\nICAgICAgICAgb3JwaGFuZWRLZXlQbHVnaW4uaW5zdGFudGlhdGUoT3JwaGFu\nZWRLZXlBY3Rpb24uY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAoT3Jw\naGFuZWRLZXlBY3Rpb24pIG9ycGhhbmVkS2V5UGx1Z2luLmdldCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldE9ycGhhbmVkS2V5QWN0aW9uKE9ycGhh\nbmVkS2V5QWN0aW9uIGFjdGlvbikgewogICAgICAgIGFzc2VydE5vdFJlYWRP\nbmx5KCk7CiAgICAgICAgb3JwaGFuZWRLZXlQbHVnaW4uc2V0KGFjdGlvbik7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVtb3RlQ29tbWl0UHJvdmlk\nZXIoU3RyaW5nIHJlbW90ZUNvbW1pdFByb3ZpZGVyKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICByZW1vdGVQcm92aWRlclBsdWdp\nbi5zZXRTdHJpbmcocmVtb3RlQ29tbWl0UHJvdmlkZXIpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0UmVtb3RlQ29tbWl0UHJvdmlkZXIoKSB7CiAg\nICAgICAgcmV0dXJuIHJlbW90ZVByb3ZpZGVyUGx1Z2luLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyBSZW1vdGVDb21taXRQcm92aWRlciBuZXdS\nZW1vdGVDb21taXRQcm92aWRlckluc3RhbmNlKCkgewogICAgICAgIHJldHVy\nbiByZW1vdGVQcm92aWRlclBsdWdpbi5pbnN0YW50aWF0ZVByb3ZpZGVyKHRo\naXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlbW90ZUNvbW1pdEV2\nZW50TWFuYWdlcigKICAgICAgICBSZW1vdGVDb21taXRFdmVudE1hbmFnZXIg\ncmVtb3RlRXZlbnRNYW5hZ2VyKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9u\nbHkoKTsKICAgICAgICB0aGlzLnJlbW90ZUV2ZW50TWFuYWdlciA9IHJlbW90\nZUV2ZW50TWFuYWdlcjsKICAgICAgICByZW1vdGVQcm92aWRlclBsdWdpbi5j\nb25maWd1cmVFdmVudE1hbmFnZXIocmVtb3RlRXZlbnRNYW5hZ2VyKTsKICAg\nIH0KCiAgICBwdWJsaWMgUmVtb3RlQ29tbWl0RXZlbnRNYW5hZ2VyIGdldFJl\nbW90ZUNvbW1pdEV2ZW50TWFuYWdlcigpIHsKICAgICAgICBpZiAocmVtb3Rl\nRXZlbnRNYW5hZ2VyID09IG51bGwpIHsKICAgICAgICAgICAgcmVtb3RlRXZl\nbnRNYW5hZ2VyID0gbmV3IFJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlcih0aGlz\nKTsKICAgICAgICAgICAgcmVtb3RlUHJvdmlkZXJQbHVnaW4uY29uZmlndXJl\nRXZlbnRNYW5hZ2VyKHJlbW90ZUV2ZW50TWFuYWdlcik7CiAgICAgICAgfQog\nICAgICAgIHJldHVybiByZW1vdGVFdmVudE1hbmFnZXI7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0VHJhbnNhY3Rpb25Nb2RlKFN0cmluZyB0cmFuc2Fj\ndGlvbk1vZGUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAg\nICAgIHRoaXMudHJhbnNhY3Rpb25Nb2RlLnNldFN0cmluZyh0cmFuc2FjdGlv\nbk1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0VHJhbnNhY3Rp\nb25Nb2RlKCkgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbk1vZGUuZ2V0\nU3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHJhbnNhY3Rp\nb25Nb2RlTWFuYWdlZChib29sZWFuIG1hbmFnZWQpIHsKICAgICAgICBhc3Nl\ncnROb3RSZWFkT25seSgpOwogICAgICAgIHRyYW5zYWN0aW9uTW9kZS5zZXQo\nbWFuYWdlZCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNUcmFuc2Fj\ndGlvbk1vZGVNYW5hZ2VkKCkgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlv\nbk1vZGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWFuYWdl\nZFJ1bnRpbWUoU3RyaW5nIG1hbmFnZWRSdW50aW1lKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBtYW5hZ2VkUnVudGltZVBsdWdp\nbi5zZXRTdHJpbmcobWFuYWdlZFJ1bnRpbWUpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0TWFuYWdlZFJ1bnRpbWUoKSB7CiAgICAgICAgcmV0dXJu\nIG1hbmFnZWRSdW50aW1lUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldE1hbmFnZWRSdW50aW1lKE1hbmFnZWRSdW50aW1l\nIG1hbmFnZWRSdW50aW1lKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHko\nKTsKICAgICAgICBtYW5hZ2VkUnVudGltZVBsdWdpbi5zZXQobWFuYWdlZFJ1\nbnRpbWUpOwogICAgfQoKICAgIHB1YmxpYyBNYW5hZ2VkUnVudGltZSBnZXRN\nYW5hZ2VkUnVudGltZUluc3RhbmNlKCkgewogICAgICAgIGlmIChtYW5hZ2Vk\nUnVudGltZVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBtYW5h\nZ2VkUnVudGltZVBsdWdpbi5pbnN0YW50aWF0ZShNYW5hZ2VkUnVudGltZS5j\nbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChNYW5hZ2VkUnVudGltZSkg\nbWFuYWdlZFJ1bnRpbWVQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0UHJveHlNYW5hZ2VyKFN0cmluZyBwcm94eU1hbmFnZXIpIHsK\nICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHByb3h5TWFu\nYWdlclBsdWdpbi5zZXRTdHJpbmcocHJveHlNYW5hZ2VyKTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nIGdldFByb3h5TWFuYWdlcigpIHsKICAgICAgICBy\nZXR1cm4gcHJveHlNYW5hZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldFByb3h5TWFuYWdlcihQcm94eU1hbmFnZXIg\ncHJveHlNYW5hZ2VyKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsK\nICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uc2V0KHByb3h5TWFuYWdlcik7\nCiAgICB9CgogICAgcHVibGljIFByb3h5TWFuYWdlciBnZXRQcm94eU1hbmFn\nZXJJbnN0YW5jZSgpIHsKICAgICAgICBpZiAocHJveHlNYW5hZ2VyUGx1Z2lu\nLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIHByb3h5TWFuYWdlclBsdWdp\nbi5pbnN0YW50aWF0ZShQcm94eU1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAg\nICAgIHJldHVybiAoUHJveHlNYW5hZ2VyKSBwcm94eU1hbmFnZXJQbHVnaW4u\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWFwcGluZyhTdHJp\nbmcgbWFwcGluZykgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAg\nICAgICAgdGhpcy5tYXBwaW5nLnNldFN0cmluZyhtYXBwaW5nKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldE1hcHBpbmcoKSB7CiAgICAgICAgcmV0\ndXJuIG1hcHBpbmcuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0TWV0YURhdGFGYWN0b3J5KFN0cmluZyBtZXRhKSB7CiAgICAgICAg\nYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLm1ldGFGYWN0b3J5\nUGx1Z2luLnNldFN0cmluZyhtZXRhKTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldE1ldGFEYXRhRmFjdG9yeSgpIHsKICAgICAgICByZXR1cm4gbWV0\nYUZhY3RvcnlQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGlj\nIE1ldGFEYXRhRmFjdG9yeSBuZXdNZXRhRGF0YUZhY3RvcnlJbnN0YW5jZSgp\nIHsKICAgICAgICByZXR1cm4gKE1ldGFEYXRhRmFjdG9yeSkgbWV0YUZhY3Rv\ncnlQbHVnaW4uaW5zdGFudGlhdGUoCiAgICAgICAgICAgIE1ldGFEYXRhRmFj\ndG9yeS5jbGFzcywgdGhpcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nTWV0YURhdGFSZXBvc2l0b3J5KFN0cmluZyBtZXRhKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLm1ldGFSZXBvc2l0b3J5\nUGx1Z2luLnNldFN0cmluZyhtZXRhKTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldE1ldGFEYXRhUmVwb3NpdG9yeSgpIHsKICAgICAgICByZXR1cm4g\nbWV0YVJlcG9zaXRvcnlQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0TWV0YURhdGFSZXBvc2l0b3J5KE1ldGFEYXRhUmVw\nb3NpdG9yeSBtZXRhKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsK\nICAgICAgICBtZXRhUmVwb3NpdG9yeSA9IG1ldGE7CiAgICB9CgogICAgcHVi\nbGljIE1ldGFEYXRhUmVwb3NpdG9yeSBnZXRNZXRhRGF0YVJlcG9zaXRvcnlJ\nbnN0YW5jZSgpIHsKICAgICAgICBpZiAobWV0YVJlcG9zaXRvcnkgPT0gbnVs\nbCkKICAgICAgICAgICAgbWV0YVJlcG9zaXRvcnkgPSBuZXdNZXRhRGF0YVJl\ncG9zaXRvcnlJbnN0YW5jZSgpOwogICAgICAgIHJldHVybiBtZXRhUmVwb3Np\ndG9yeTsKICAgIH0KCiAgICBwdWJsaWMgTWV0YURhdGFSZXBvc2l0b3J5IG5l\nd01ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCkgewogICAgICAgIHJldHVy\nbiAoTWV0YURhdGFSZXBvc2l0b3J5KSBtZXRhUmVwb3NpdG9yeVBsdWdpbi5p\nbnN0YW50aWF0ZSgKICAgICAgICAgICAgTWV0YURhdGFSZXBvc2l0b3J5LmNs\nYXNzLCB0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0\naW9uVXNlck5hbWUoU3RyaW5nIGNvbm5lY3Rpb25Vc2VyTmFtZSkgewogICAg\nICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25uZWN0\naW9uVXNlck5hbWUuc2V0U3RyaW5nKGNvbm5lY3Rpb25Vc2VyTmFtZSk7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uVXNlck5hbWUo\nKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25Vc2VyTmFtZS5nZXRTdHJp\nbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uUGFz\nc3dvcmQoU3RyaW5nIGNvbm5lY3Rpb25QYXNzd29yZCkgewogICAgICAgIGFz\nc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uUGFz\nc3dvcmQuc2V0U3RyaW5nKGNvbm5lY3Rpb25QYXNzd29yZCk7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uUGFzc3dvcmQoKSB7CiAg\nICAgICAgcmV0dXJuIGNvbm5lY3Rpb25QYXNzd29yZC5nZXRTdHJpbmcoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uVVJMKFN0cmlu\nZyBjb25uZWN0aW9uVVJMKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHko\nKTsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25VUkwuc2V0U3RyaW5nKGNvbm5l\nY3Rpb25VUkwpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVj\ndGlvblVSTCgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvblVSTC5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9u\nRHJpdmVyTmFtZShTdHJpbmcgZHJpdmVyTmFtZSkgewogICAgICAgIGFzc2Vy\ndE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uRHJpdmVy\nTmFtZS5zZXRTdHJpbmcoZHJpdmVyTmFtZSk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRDb25uZWN0aW9uRHJpdmVyTmFtZSgpIHsKICAgICAgICBy\nZXR1cm4gY29ubmVjdGlvbkRyaXZlck5hbWUuZ2V0U3RyaW5nKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvblByb3BlcnRpZXMoU3Ry\naW5nIGNvbm5lY3Rpb25Qcm9wZXJ0aWVzKSB7CiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25Qcm9wZXJ0aWVz\nLnNldFN0cmluZyhjb25uZWN0aW9uUHJvcGVydGllcyk7CiAgICB9CgogICAg\ncHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uUHJvcGVydGllcygpIHsKICAg\nICAgICByZXR1cm4gY29ubmVjdGlvblByb3BlcnRpZXMuZ2V0U3RyaW5nKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3RvcnlQ\ncm9wZXJ0aWVzKAogICAgICAgIFN0cmluZyBjb25uZWN0aW9uRmFjdG9yeVBy\nb3BlcnRpZXMpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAg\nICAgIHRoaXMuY29ubmVjdGlvbkZhY3RvcnlQcm9wZXJ0aWVzLnNldFN0cmlu\nZyhjb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMpOwogICAgfQoKICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbkZhY3RvcnlQcm9wZXJ0aWVzKCkg\newogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMu\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25u\nZWN0aW9uRmFjdG9yeU1vZGUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rp\nb25GYWN0b3J5TW9kZS5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRDb25uZWN0aW9uRmFjdG9yeU1vZGUoU3RyaW5nIG1vZGUpIHsK\nICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGNvbm5lY3Rp\nb25GYWN0b3J5TW9kZS5zZXRTdHJpbmcobW9kZSk7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gaXNDb25uZWN0aW9uRmFjdG9yeU1vZGVNYW5hZ2VkKCkg\newogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9yeU1vZGUuZ2V0KCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3RvcnlN\nb2RlTWFuYWdlZChib29sZWFuIG1hbmFnZWQpIHsKICAgICAgICBhc3NlcnRO\nb3RSZWFkT25seSgpOwogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TW9kZS5z\nZXQobWFuYWdlZCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVj\ndGlvbkZhY3RvcnlOYW1lKFN0cmluZyBjb25uZWN0aW9uRmFjdG9yeU5hbWUp\nIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMu\nY29ubmVjdGlvbkZhY3RvcnlOYW1lLnNldFN0cmluZyhjb25uZWN0aW9uRmFj\ndG9yeU5hbWUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVj\ndGlvbkZhY3RvcnlOYW1lKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9u\nRmFjdG9yeU5hbWUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0Q29ubmVjdGlvbkZhY3RvcnkoT2JqZWN0IGZhY3RvcnkpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGNvbm5lY3Rpb25G\nYWN0b3J5LnNldChmYWN0b3J5KTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0\nIGdldENvbm5lY3Rpb25GYWN0b3J5KCkgewogICAgICAgIGlmIChjb25uZWN0\naW9uRmFjdG9yeS5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBjb25uZWN0\naW9uRmFjdG9yeS5zZXQoCiAgICAgICAgICAgICAgICBsb29rdXBDb25uZWN0\naW9uRmFjdG9yeShnZXRDb25uZWN0aW9uRmFjdG9yeU5hbWUoKSksIHRydWUp\nOwogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9yeS5nZXQoKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIExvb2t1cCB0aGUgY29ubmVjdGlvbiBmYWN0\nb3J5IGF0IHRoZSBnaXZlbiBuYW1lLgogICAgICovCiAgICBwcml2YXRlIE9i\namVjdCBsb29rdXBDb25uZWN0aW9uRmFjdG9yeShTdHJpbmcgbmFtZSkgewog\nICAgICAgIG5hbWUgPSBTdHJpbmdVdGlscy50cmltVG9OdWxsKG5hbWUpOwog\nICAgICAgIGlmIChuYW1lID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBu\ndWxsOwogICAgICAgIHJldHVybiBDb25maWd1cmF0aW9ucy5sb29rdXAobmFt\nZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbjJVc2Vy\nTmFtZShTdHJpbmcgY29ubmVjdGlvbjJVc2VyTmFtZSkgewogICAgICAgIGFz\nc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uMlVz\nZXJOYW1lLnNldFN0cmluZyhjb25uZWN0aW9uMlVzZXJOYW1lKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb24yVXNlck5hbWUoKSB7\nCiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24yVXNlck5hbWUuZ2V0U3RyaW5n\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbjJQYXNz\nd29yZChTdHJpbmcgY29ubmVjdGlvbjJQYXNzd29yZCkgewogICAgICAgIGFz\nc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uMlBh\nc3N3b3JkLnNldFN0cmluZyhjb25uZWN0aW9uMlBhc3N3b3JkKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb24yUGFzc3dvcmQoKSB7\nCiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24yUGFzc3dvcmQuZ2V0U3RyaW5n\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbjJVUkwo\nU3RyaW5nIGNvbm5lY3Rpb24yVVJMKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVh\nZE9ubHkoKTsKICAgICAgICB0aGlzLmNvbm5lY3Rpb24yVVJMLnNldFN0cmlu\nZyhjb25uZWN0aW9uMlVSTCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRDb25uZWN0aW9uMlVSTCgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlv\nbjJVUkwuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nQ29ubmVjdGlvbjJEcml2ZXJOYW1lKFN0cmluZyBkcml2ZXJOYW1lKSB7CiAg\nICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmNvbm5l\nY3Rpb24yRHJpdmVyTmFtZS5zZXRTdHJpbmcoZHJpdmVyTmFtZSk7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uMkRyaXZlck5hbWUo\nKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24yRHJpdmVyTmFtZS5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9u\nMlByb3BlcnRpZXMoU3RyaW5nIGNvbm5lY3Rpb24yUHJvcGVydGllcykgewog\nICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25u\nZWN0aW9uMlByb3BlcnRpZXMuc2V0U3RyaW5nKGNvbm5lY3Rpb24yUHJvcGVy\ndGllcyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9u\nMlByb3BlcnRpZXMoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24yUHJv\ncGVydGllcy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRDb25uZWN0aW9uRmFjdG9yeTJQcm9wZXJ0aWVzKAogICAgICAgIFN0cmlu\nZyBjb25uZWN0aW9uRmFjdG9yeTJQcm9wZXJ0aWVzKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25GYWN0\nb3J5MlByb3BlcnRpZXMKICAgICAgICAgICAgLnNldFN0cmluZyhjb25uZWN0\naW9uRmFjdG9yeTJQcm9wZXJ0aWVzKTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldENvbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMoKSB7CiAgICAg\nICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMuZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZh\nY3RvcnkyTmFtZShTdHJpbmcgY29ubmVjdGlvbkZhY3RvcnkyTmFtZSkgewog\nICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25u\nZWN0aW9uRmFjdG9yeTJOYW1lLnNldFN0cmluZyhjb25uZWN0aW9uRmFjdG9y\neTJOYW1lKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rp\nb25GYWN0b3J5Mk5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25G\nYWN0b3J5Mk5hbWUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0Q29ubmVjdGlvbkZhY3RvcnkyKE9iamVjdCBmYWN0b3J5KSB7CiAg\nICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBjb25uZWN0aW9u\nRmFjdG9yeTIuc2V0KGZhY3RvcnkpOwogICAgfQoKICAgIHB1YmxpYyBPYmpl\nY3QgZ2V0Q29ubmVjdGlvbkZhY3RvcnkyKCkgewogICAgICAgIGlmIChjb25u\nZWN0aW9uRmFjdG9yeTIuZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgY29u\nbmVjdGlvbkZhY3RvcnkyLnNldCgKICAgICAgICAgICAgICAgIGxvb2t1cENv\nbm5lY3Rpb25GYWN0b3J5KGdldENvbm5lY3Rpb25GYWN0b3J5Mk5hbWUoKSks\nIGZhbHNlKTsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnkyLmdl\ndCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9wdGltaXN0aWMoYm9v\nbGVhbiBvcHRpbWlzdGljKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHko\nKTsKICAgICAgICB0aGlzLm9wdGltaXN0aWMuc2V0KG9wdGltaXN0aWMpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9wdGltaXN0aWMoQm9vbGVhbiBv\ncHRpbWlzdGljKSB7CiAgICAgICAgaWYgKG9wdGltaXN0aWMgIT0gbnVsbCkK\nICAgICAgICAgICAgc2V0T3B0aW1pc3RpYyhvcHRpbWlzdGljLmJvb2xlYW5W\nYWx1ZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRPcHRpbWlz\ndGljKCkgewogICAgICAgIHJldHVybiBvcHRpbWlzdGljLmdldCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldEF1dG9DbGVhcihTdHJpbmcgY2xlYXIp\nIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGF1dG9D\nbGVhci5zZXRTdHJpbmcoY2xlYXIpOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0QXV0b0NsZWFyKCkgewogICAgICAgIHJldHVybiBhdXRvQ2xlYXIu\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QXV0b0Ns\nZWFyKGludCBjbGVhcikgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7\nCiAgICAgICAgYXV0b0NsZWFyLnNldChjbGVhcik7CiAgICB9CgogICAgcHVi\nbGljIGludCBnZXRBdXRvQ2xlYXJDb25zdGFudCgpIHsKICAgICAgICByZXR1\ncm4gYXV0b0NsZWFyLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFJldGFpblN0YXRlKGJvb2xlYW4gcmV0YWluU3RhdGUpIHsKICAgICAgICBh\nc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMucmV0YWluU3RhdGUu\nc2V0KHJldGFpblN0YXRlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRS\nZXRhaW5TdGF0ZShCb29sZWFuIHJldGFpblN0YXRlKSB7CiAgICAgICAgaWYg\nKHJldGFpblN0YXRlICE9IG51bGwpCiAgICAgICAgICAgIHNldFJldGFpblN0\nYXRlKHJldGFpblN0YXRlLmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBnZXRSZXRhaW5TdGF0ZSgpIHsKICAgICAgICByZXR1\ncm4gcmV0YWluU3RhdGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0UmVzdG9yZVN0YXRlKFN0cmluZyByZXN0b3JlU3RhdGUpIHsKICAgICAg\nICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMucmVzdG9yZVN0\nYXRlLnNldFN0cmluZyhyZXN0b3JlU3RhdGUpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0UmVzdG9yZVN0YXRlKCkgewogICAgICAgIHJldHVybiBy\nZXN0b3JlU3RhdGUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0UmVzdG9yZVN0YXRlKGludCByZXN0b3JlU3RhdGUpIHsKICAgICAg\nICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMucmVzdG9yZVN0\nYXRlLnNldChyZXN0b3JlU3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nZ2V0UmVzdG9yZVN0YXRlQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIHJl\nc3RvcmVTdGF0ZS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRB\ndXRvRGV0YWNoKFN0cmluZyBhdXRvRGV0YWNoKSB7CiAgICAgICAgYXNzZXJ0\nTm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmF1dG9EZXRhY2guc2V0U3Ry\naW5nKGF1dG9EZXRhY2gpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nQXV0b0RldGFjaCgpIHsKICAgICAgICByZXR1cm4gYXV0b0RldGFjaC5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRBdXRvRGV0YWNo\nKGludCBhdXRvRGV0YWNoRmxhZ3MpIHsKICAgICAgICBhdXRvRGV0YWNoLnNl\ndENvbnN0YW50KGF1dG9EZXRhY2hGbGFncyk7CiAgICB9CgogICAgcHVibGlj\nIGludCBnZXRBdXRvRGV0YWNoQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJu\nIGF1dG9EZXRhY2guZ2V0Q29uc3RhbnQoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXREZXRhY2hTdGF0ZShTdHJpbmcgZGV0YWNoU3RhdGUpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGRldGFjaFN0YXRl\nUGx1Z2luLnNldFN0cmluZyhkZXRhY2hTdGF0ZSk7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyBnZXREZXRhY2hTdGF0ZSgpIHsKICAgICAgICByZXR1cm4g\nZGV0YWNoU3RhdGVQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0RGV0YWNoU3RhdGUoRGV0YWNoT3B0aW9ucyBkZXRhY2hT\ndGF0ZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAg\nZGV0YWNoU3RhdGVQbHVnaW4uc2V0KGRldGFjaFN0YXRlKTsKICAgIH0KCiAg\nICBwdWJsaWMgRGV0YWNoT3B0aW9ucyBnZXREZXRhY2hTdGF0ZUluc3RhbmNl\nKCkgewogICAgICAgIGlmIChkZXRhY2hTdGF0ZVBsdWdpbi5nZXQoKSA9PSBu\ndWxsKQogICAgICAgICAgICBkZXRhY2hTdGF0ZVBsdWdpbi5pbnN0YW50aWF0\nZShEZXRhY2hPcHRpb25zLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4g\nKERldGFjaE9wdGlvbnMpIGRldGFjaFN0YXRlUGx1Z2luLmdldCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldElnbm9yZUNoYW5nZXMoYm9vbGVhbiBp\nZ25vcmVDaGFuZ2VzKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsK\nICAgICAgICB0aGlzLmlnbm9yZUNoYW5nZXMuc2V0KGlnbm9yZUNoYW5nZXMp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldElnbm9yZUNoYW5nZXMoQm9v\nbGVhbiBpZ25vcmVDaGFuZ2VzKSB7CiAgICAgICAgaWYgKGlnbm9yZUNoYW5n\nZXMgIT0gbnVsbCkKICAgICAgICAgICAgc2V0SWdub3JlQ2hhbmdlcyhpZ25v\ncmVDaGFuZ2VzLmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBnZXRJZ25vcmVDaGFuZ2VzKCkgewogICAgICAgIHJldHVybiBp\nZ25vcmVDaGFuZ2VzLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndE5vbnRyYW5zYWN0aW9uYWxSZWFkKGJvb2xlYW4gbm9udHJhbnNhY3Rpb25h\nbFJlYWQpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAg\nIHRoaXMubm9udHJhbnNhY3Rpb25hbFJlYWQuc2V0KG5vbnRyYW5zYWN0aW9u\nYWxSZWFkKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROb250cmFuc2Fj\ndGlvbmFsUmVhZChCb29sZWFuIG5vbnRyYW5zYWN0aW9uYWxSZWFkKSB7CiAg\nICAgICAgaWYgKG5vbnRyYW5zYWN0aW9uYWxSZWFkICE9IG51bGwpCiAgICAg\nICAgICAgIHNldE5vbnRyYW5zYWN0aW9uYWxSZWFkKG5vbnRyYW5zYWN0aW9u\nYWxSZWFkLmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9v\nbGVhbiBnZXROb250cmFuc2FjdGlvbmFsUmVhZCgpIHsKICAgICAgICByZXR1\ncm4gbm9udHJhbnNhY3Rpb25hbFJlYWQuZ2V0KCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0Tm9udHJhbnNhY3Rpb25hbFdyaXRlKGJvb2xlYW4gbm9u\ndHJhbnNhY3Rpb25hbFdyaXRlKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9u\nbHkoKTsKICAgICAgICB0aGlzLm5vbnRyYW5zYWN0aW9uYWxXcml0ZS5zZXQo\nbm9udHJhbnNhY3Rpb25hbFdyaXRlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXROb250cmFuc2FjdGlvbmFsV3JpdGUoQm9vbGVhbiBub250cmFuc2Fj\ndGlvbmFsV3JpdGUpIHsKICAgICAgICBpZiAobm9udHJhbnNhY3Rpb25hbFdy\naXRlICE9IG51bGwpCiAgICAgICAgICAgIHNldE5vbnRyYW5zYWN0aW9uYWxX\ncml0ZShub250cmFuc2FjdGlvbmFsV3JpdGUuYm9vbGVhblZhbHVlKCkpOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldE5vbnRyYW5zYWN0aW9uYWxX\ncml0ZSgpIHsKICAgICAgICByZXR1cm4gbm9udHJhbnNhY3Rpb25hbFdyaXRl\nLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE11bHRpdGhyZWFk\nZWQoYm9vbGVhbiBtdWx0aXRocmVhZGVkKSB7CiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICB0aGlzLm11bHRpdGhyZWFkZWQuc2V0KG11\nbHRpdGhyZWFkZWQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE11bHRp\ndGhyZWFkZWQoQm9vbGVhbiBtdWx0aXRocmVhZGVkKSB7CiAgICAgICAgaWYg\nKG11bHRpdGhyZWFkZWQgIT0gbnVsbCkKICAgICAgICAgICAgc2V0TXVsdGl0\naHJlYWRlZChtdWx0aXRocmVhZGVkLmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRNdWx0aXRocmVhZGVkKCkgewogICAg\nICAgIHJldHVybiBtdWx0aXRocmVhZGVkLmdldCgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldEZldGNoQmF0Y2hTaXplKGludCBmZXRjaEJhdGNoU2l6\nZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhp\ncy5mZXRjaEJhdGNoU2l6ZS5zZXQoZmV0Y2hCYXRjaFNpemUpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldEZldGNoQmF0Y2hTaXplKEludGVnZXIgZmV0\nY2hCYXRjaFNpemUpIHsKICAgICAgICBpZiAoZmV0Y2hCYXRjaFNpemUgIT0g\nbnVsbCkKICAgICAgICAgICAgc2V0RmV0Y2hCYXRjaFNpemUoZmV0Y2hCYXRj\naFNpemUuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRG\nZXRjaEJhdGNoU2l6ZSgpIHsKICAgICAgICByZXR1cm4gZmV0Y2hCYXRjaFNp\nemUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWF4RmV0Y2hE\nZXB0aChpbnQgbWF4RmV0Y2hEZXB0aCkgewogICAgICAgIGFzc2VydE5vdFJl\nYWRPbmx5KCk7CiAgICAgICAgdGhpcy5tYXhGZXRjaERlcHRoLnNldChtYXhG\nZXRjaERlcHRoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNYXhGZXRj\naERlcHRoKEludGVnZXIgbWF4RmV0Y2hEZXB0aCkgewogICAgICAgIGlmICht\nYXhGZXRjaERlcHRoICE9IG51bGwpCiAgICAgICAgICAgIHNldE1heEZldGNo\nRGVwdGgobWF4RmV0Y2hEZXB0aC5pbnRWYWx1ZSgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldE1heEZldGNoRGVwdGgoKSB7CiAgICAgICAgcmV0dXJu\nIG1heEZldGNoRGVwdGguZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0RmV0Y2hHcm91cHMoU3RyaW5nIGZldGNoR3JvdXBzKSB7CiAgICAgICAg\nYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmZldGNoR3JvdXBz\nLnNldFN0cmluZyhmZXRjaEdyb3Vwcyk7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRGZXRjaEdyb3VwcygpIHsKICAgICAgICByZXR1cm4gZmV0Y2hH\ncm91cHMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZ1td\nIGdldEZldGNoR3JvdXBzTGlzdCgpIHsKICAgICAgICByZXR1cm4gZmV0Y2hH\ncm91cHMuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RmV0Y2hH\ncm91cHMoU3RyaW5nW10gZmV0Y2hHcm91cHMpIHsKICAgICAgICB0aGlzLmZl\ndGNoR3JvdXBzLnNldChmZXRjaEdyb3Vwcyk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0Rmx1c2hCZWZvcmVRdWVyaWVzKFN0cmluZyBmbHVzaCkgewog\nICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgZmx1c2hCZWZv\ncmVRdWVyaWVzLnNldFN0cmluZyhmbHVzaCk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRGbHVzaEJlZm9yZVF1ZXJpZXMoKSB7CiAgICAgICAgcmV0\ndXJuIGZsdXNoQmVmb3JlUXVlcmllcy5nZXRTdHJpbmcoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRGbHVzaEJlZm9yZVF1ZXJpZXMoaW50IGZsdXNo\nKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBmbHVz\naEJlZm9yZVF1ZXJpZXMuc2V0KGZsdXNoKTsKICAgIH0KCiAgICBwdWJsaWMg\naW50IGdldEZsdXNoQmVmb3JlUXVlcmllc0NvbnN0YW50KCkgewogICAgICAg\nIHJldHVybiBmbHVzaEJlZm9yZVF1ZXJpZXMuZ2V0KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0TG9ja1RpbWVvdXQoaW50IHRpbWVvdXQpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGxvY2tUaW1lb3V0\nLnNldCh0aW1lb3V0KTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRMb2Nr\nVGltZW91dChJbnRlZ2VyIHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZW91\ndCAhPSBudWxsKQogICAgICAgICAgICBzZXRMb2NrVGltZW91dCh0aW1lb3V0\nLmludFZhbHVlKCkpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0TG9ja1Rp\nbWVvdXQoKSB7CiAgICAgICAgcmV0dXJuIGxvY2tUaW1lb3V0LmdldCgpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlYWRMb2NrTGV2ZWwoU3RyaW5n\nIGxldmVsKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAg\nICByZWFkTG9ja0xldmVsLnNldFN0cmluZyhsZXZlbCk7CiAgICB9CgogICAg\ncHVibGljIFN0cmluZyBnZXRSZWFkTG9ja0xldmVsKCkgewogICAgICAgIHJl\ndHVybiByZWFkTG9ja0xldmVsLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldFJlYWRMb2NrTGV2ZWwoaW50IGxldmVsKSB7CiAgICAg\nICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICByZWFkTG9ja0xldmVs\nLnNldChsZXZlbCk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRSZWFkTG9j\na0xldmVsQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIHJlYWRMb2NrTGV2\nZWwuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0V3JpdGVMb2Nr\nTGV2ZWwoU3RyaW5nIGxldmVsKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9u\nbHkoKTsKICAgICAgICB3cml0ZUxvY2tMZXZlbC5zZXRTdHJpbmcobGV2ZWwp\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0V3JpdGVMb2NrTGV2ZWwo\nKSB7CiAgICAgICAgcmV0dXJuIHdyaXRlTG9ja0xldmVsLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFdyaXRlTG9ja0xldmVsKGlu\ndCBsZXZlbCkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAg\nICAgd3JpdGVMb2NrTGV2ZWwuc2V0KGxldmVsKTsKICAgIH0KCiAgICBwdWJs\naWMgaW50IGdldFdyaXRlTG9ja0xldmVsQ29uc3RhbnQoKSB7CiAgICAgICAg\ncmV0dXJuIHdyaXRlTG9ja0xldmVsLmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFNlcXVlbmNlKFN0cmluZyBzZXF1ZW5jZSkgewogICAgICAg\nIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgc2VxUGx1Z2luLnNldFN0\ncmluZyhzZXF1ZW5jZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRT\nZXF1ZW5jZSgpIHsKICAgICAgICByZXR1cm4gc2VxUGx1Z2luLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNlcXVlbmNlKFNlcSBz\nZXEpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHNl\ncVBsdWdpbi5zZXQoc2VxKTsKICAgIH0KCiAgICBwdWJsaWMgU2VxIGdldFNl\ncXVlbmNlSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKHNlcVBsdWdpbi5nZXQo\nKSA9PSBudWxsKQogICAgICAgICAgICBzZXFQbHVnaW4uaW5zdGFudGlhdGUo\nU2VxLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKFNlcSkgc2VxUGx1\nZ2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rp\nb25SZXRhaW5Nb2RlKFN0cmluZyBjb25uZWN0aW9uUmV0YWluTW9kZSkgewog\nICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25u\nZWN0aW9uUmV0YWluTW9kZS5zZXRTdHJpbmcoY29ubmVjdGlvblJldGFpbk1v\nZGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvblJl\ndGFpbk1vZGUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25SZXRhaW5N\nb2RlLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENv\nbm5lY3Rpb25SZXRhaW5Nb2RlKGludCBjb25uZWN0aW9uUmV0YWluTW9kZSkg\newogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5j\nb25uZWN0aW9uUmV0YWluTW9kZS5zZXQoY29ubmVjdGlvblJldGFpbk1vZGUp\nOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0Q29ubmVjdGlvblJldGFpbk1v\nZGVDb25zdGFudCgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvblJldGFp\nbk1vZGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RmlsdGVy\nTGlzdGVuZXJzKFN0cmluZyBmaWx0ZXJMaXN0ZW5lcnMpIHsKICAgICAgICBh\nc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGZpbHRlckxpc3RlbmVyUGx1\nZ2lucy5zZXRTdHJpbmcoZmlsdGVyTGlzdGVuZXJzKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldEZpbHRlckxpc3RlbmVycygpIHsKICAgICAgICBy\nZXR1cm4gZmlsdGVyTGlzdGVuZXJQbHVnaW5zLmdldFN0cmluZygpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldEZpbHRlckxpc3RlbmVycyhGaWx0ZXJM\naXN0ZW5lcltdIGxpc3RlbmVycykgewogICAgICAgIGFzc2VydE5vdFJlYWRP\nbmx5KCk7CiAgICAgICAgZmlsdGVyTGlzdGVuZXJQbHVnaW5zLnNldChsaXN0\nZW5lcnMpOwogICAgfQoKICAgIHB1YmxpYyBGaWx0ZXJMaXN0ZW5lcltdIGdl\ndEZpbHRlckxpc3RlbmVySW5zdGFuY2VzKCkgewogICAgICAgIGlmIChmaWx0\nZXJMaXN0ZW5lclBsdWdpbnMuZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAg\nZmlsdGVyTGlzdGVuZXJQbHVnaW5zLmluc3RhbnRpYXRlKEZpbHRlckxpc3Rl\nbmVyLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKEZpbHRlckxpc3Rl\nbmVyW10pIGZpbHRlckxpc3RlbmVyUGx1Z2lucy5nZXQoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRBZ2dyZWdhdGVMaXN0ZW5lcnMoU3RyaW5nIGFn\nZ3JlZ2F0ZUxpc3RlbmVycykgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5\nKCk7CiAgICAgICAgYWdncmVnYXRlTGlzdGVuZXJQbHVnaW5zLnNldFN0cmlu\nZyhhZ2dyZWdhdGVMaXN0ZW5lcnMpOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0QWdncmVnYXRlTGlzdGVuZXJzKCkgewogICAgICAgIHJldHVybiBh\nZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnMuZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0QWdncmVnYXRlTGlzdGVuZXJzKEFnZ3JlZ2F0\nZUxpc3RlbmVyW10gbGlzdGVuZXJzKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVh\nZE9ubHkoKTsKICAgICAgICBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnMuc2V0\nKGxpc3RlbmVycyk7CiAgICB9CgogICAgcHVibGljIEFnZ3JlZ2F0ZUxpc3Rl\nbmVyW10gZ2V0QWdncmVnYXRlTGlzdGVuZXJJbnN0YW5jZXMoKSB7CiAgICAg\nICAgaWYgKGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucy5nZXQoKSA9PSBudWxs\nKQogICAgICAgICAgICBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnMuaW5zdGFu\ndGlhdGUoQWdncmVnYXRlTGlzdGVuZXIuY2xhc3MsIHRoaXMpOwogICAgICAg\nIHJldHVybiAoQWdncmVnYXRlTGlzdGVuZXJbXSkgYWdncmVnYXRlTGlzdGVu\nZXJQbHVnaW5zLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJl\ndHJ5Q2xhc3NSZWdpc3RyYXRpb24oYm9vbGVhbiByZXRyeSkgewogICAgICAg\nIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgcmV0cnlDbGFzc1JlZ2lz\ndHJhdGlvbi5zZXQocmV0cnkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFJldHJ5Q2xhc3NSZWdpc3RyYXRpb24oQm9vbGVhbiByZXRyeSkgewogICAg\nICAgIGlmIChyZXRyeSAhPSBudWxsKQogICAgICAgICAgICBzZXRSZXRyeUNs\nYXNzUmVnaXN0cmF0aW9uKHJldHJ5LmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRSZXRyeUNsYXNzUmVnaXN0cmF0aW9u\nKCkgewogICAgICAgIHJldHVybiByZXRyeUNsYXNzUmVnaXN0cmF0aW9uLmdl\ndCgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29tcGF0aWJpbGl0\neSgpIHsKICAgICAgICByZXR1cm4gY29tcGF0aWJpbGl0eVBsdWdpbi5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb21wYXRpYmls\naXR5KFN0cmluZyBjb21wYXRpYmlsaXR5KSB7CiAgICAgICAgY29tcGF0aWJp\nbGl0eVBsdWdpbi5zZXRTdHJpbmcoY29tcGF0aWJpbGl0eSk7CiAgICB9Cgog\nICAgcHVibGljIENvbXBhdGliaWxpdHkgZ2V0Q29tcGF0aWJpbGl0eUluc3Rh\nbmNlKCkgewogICAgICAgIGlmIChjb21wYXRpYmlsaXR5UGx1Z2luLmdldCgp\nID09IG51bGwpCiAgICAgICAgICAgIGNvbXBhdGliaWxpdHlQbHVnaW4uaW5z\ndGFudGlhdGUoQ29tcGF0aWJpbGl0eS5jbGFzcywgdGhpcyk7CiAgICAgICAg\ncmV0dXJuIChDb21wYXRpYmlsaXR5KSBjb21wYXRpYmlsaXR5UGx1Z2luLmdl\ndCgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UXVlcnlDb21waWxh\ndGlvbkNhY2hlKCkgewogICAgICAgIHJldHVybiBxdWVyeUNvbXBpbGF0aW9u\nQ2FjaGVQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0UXVlcnlDb21waWxhdGlvbkNhY2hlKFN0cmluZyBxdWVyeUNvbXBp\nbGF0aW9uQ2FjaGUpIHsKICAgICAgICBxdWVyeUNvbXBpbGF0aW9uQ2FjaGVQ\nbHVnaW4uc2V0U3RyaW5nKHF1ZXJ5Q29tcGlsYXRpb25DYWNoZSk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyBNYXAgZ2V0UXVlcnlDb21waWxhdGlvbkNhY2hl\nSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKHF1ZXJ5Q29tcGlsYXRpb25DYWNo\nZVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBxdWVyeUNvbXBp\nbGF0aW9uQ2FjaGVQbHVnaW4uaW5zdGFudGlhdGUoTWFwLmNsYXNzLCB0aGlz\nKTsKICAgICAgICByZXR1cm4gKE1hcCkgcXVlcnlDb21waWxhdGlvbkNhY2hl\nUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBTdG9yZUZhY2FkZVR5\ncGVSZWdpc3RyeSBnZXRTdG9yZUZhY2FkZVR5cGVSZWdpc3RyeSgpIHsKICAg\nICAgICByZXR1cm4gX3N0b3JlRmFjYWRlUmVnaXN0cnk7CiAgICB9CgogICAg\ncHVibGljIEJyb2tlckZhY3RvcnlFdmVudE1hbmFnZXIgZ2V0QnJva2VyRmFj\ndG9yeUV2ZW50TWFuYWdlcigpIHsKICAgICAgICByZXR1cm4gX2Jyb2tlckZh\nY3RvcnlFdmVudE1hbmFnZXI7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRSdW50aW1lVW5lbmhhbmNlZENsYXNzZXMoKSB7CiAgICAgICAgcmV0dXJu\nIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nlcy5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgaW50IGdldFJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nlc0Nv\nbnN0YW50KCkgewogICAgICAgIHJldHVybiBydW50aW1lVW5lbmhhbmNlZENs\nYXNzZXMuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UnVudGlt\nZVVuZW5oYW5jZWRDbGFzc2VzKGludCBtb2RlKSB7CiAgICAgICAgYXNzZXJ0\nTm90UmVhZE9ubHkoKTsKICAgICAgICBydW50aW1lVW5lbmhhbmNlZENsYXNz\nZXMuc2V0KG1vZGUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJ1bnRp\nbWVVbmVuaGFuY2VkQ2xhc3NlcyhTdHJpbmcgbW9kZSkgewogICAgICAgIGFz\nc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgcnVudGltZVVuZW5oYW5jZWRD\nbGFzc2VzLnNldFN0cmluZyhtb2RlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBpbnN0YW50aWF0ZUFsbCgpIHsKICAgICAgICBzdXBlci5pbnN0YW50aWF0\nZUFsbCgpOwogICAgICAgIGdldE1ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNl\nKCk7CiAgICAgICAgZ2V0UmVtb3RlQ29tbWl0RXZlbnRNYW5hZ2VyKCk7CiAg\nICB9CgogICAgcHJvdGVjdGVkIHZvaWQgcHJlQ2xvc2UoKSB7CiAgICAgICAg\nSW1wbEhlbHBlci5jbG9zZShtZXRhUmVwb3NpdG9yeSk7CiAgICAgICAgSW1w\nbEhlbHBlci5jbG9zZShyZW1vdGVFdmVudE1hbmFnZXIpOwogICAgICAgIHN1\ncGVyLnByZUNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIExvZyBnZXRDb25m\naWd1cmF0aW9uTG9nKCkgewogICAgICAgIHJldHVybiBnZXRMb2coTE9HX1JV\nTlRJTUUpOwogICAgfQogICAgCiAgICBwdWJsaWMgVmFsdWVbXSBnZXREeW5h\nbWljVmFsdWVzKCkgewogICAgCXJldHVybiBuZXcgVmFsdWVbXSB7IGRhdGFD\nYWNoZVRpbWVvdXQsIGZldGNoQmF0Y2hTaXplLCBsb2NrVGltZW91dCB9Owog\nICAgfQp9Cg==\n","encoding":"base64"}

