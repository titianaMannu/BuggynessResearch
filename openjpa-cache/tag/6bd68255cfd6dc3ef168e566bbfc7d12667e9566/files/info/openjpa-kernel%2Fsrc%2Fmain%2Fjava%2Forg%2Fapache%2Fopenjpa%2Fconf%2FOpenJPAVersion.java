{"sha":"264f22f72d989ab9f3b452719cfda1dc3707019e","node_id":"MDQ6QmxvYjIwNjM2NDoyNjRmMjJmNzJkOTg5YWI5ZjNiNDUyNzE5Y2ZkYTFkYzM3MDcwMTll","size":4949,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/264f22f72d989ab9f3b452719cfda1dc3707019e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLklucHV0U3RyZWFtOwppbXBvcnQg\namF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyOwppbXBvcnQgamF2YS51\ndGlsLlByb3BlcnRpZXM7CmltcG9ydCBqYXZhLnV0aWwuU3RyaW5nVG9rZW5p\nemVyOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5KMkRv\nUHJpdkhlbHBlcjsKCi8qKgogKiBUaGlzIGNsYXNzIGNvbnRhaW5zIHZlcnNp\nb24gaW5mb3JtYXRpb24gZm9yIE9wZW5KUEEuIEl0IHVzZXMKICogQW50J3Mg\nZmlsdGVyIHRva2VucyB0byBjb252ZXJ0IHRoZSB0ZW1wbGF0ZSBpbnRvIGEg\namF2YQogKiBmaWxlIHdpdGggY3VycmVudCBpbmZvcm1hdGlvbi4KICoKICog\nQGF1dGhvciBNYXJjIFBydWQnaG9tbWVhdXgsIFBhdHJpY2sgTGluc2tleQog\nKi8KcHVibGljIGNsYXNzIE9wZW5KUEFWZXJzaW9uIHsKCiAgICBwdWJsaWMg\nc3RhdGljIGZpbmFsIFN0cmluZyBWRVJTSU9OX05VTUJFUjsKICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgU3RyaW5nIFZFUlNJT05fSUQ7CiAgICBwdWJsaWMg\nc3RhdGljIGZpbmFsIFN0cmluZyBWRU5ET1JfTkFNRSA9ICJPcGVuSlBBIjsK\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IE1BSk9SX1JFTEVBU0U7CiAg\nICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBNSU5PUl9SRUxFQVNFOwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBpbnQgUEFUQ0hfUkVMRUFTRTsKICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIFJFTEVBU0VfU1RBVFVTOwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgUkVWSVNJT05fTlVNQkVSOwoK\nICAgIHN0YXRpYyB7CiAgICAgICAgUGFja2FnZSBwYWNrID0gT3BlbkpQQVZl\ncnNpb24uY2xhc3MuZ2V0UGFja2FnZSgpOwogICAgICAgIFN0cmluZyB2ZXJz\nID0gcGFjayA9PSBudWxsID8gbnVsbCA6IHBhY2suZ2V0SW1wbGVtZW50YXRp\nb25WZXJzaW9uKCk7CiAgICAgICAgaWYgKHZlcnMgPT0gbnVsbCB8fCAiIi5l\ncXVhbHModmVycy50cmltKCkpKQogICAgICAgICAgICB2ZXJzID0gIjAuMC4w\nIjsKICAgICAgICBWRVJTSU9OX05VTUJFUiA9IHZlcnM7CgogICAgICAgIFN0\ncmluZ1Rva2VuaXplciB0b2sgPSBuZXcgU3RyaW5nVG9rZW5pemVyKFZFUlNJ\nT05fTlVNQkVSLCAiLi0iKTsKICAgICAgICBpbnQgbWFqb3IsIG1pbm9yLCBw\nYXRjaDsKICAgICAgICB0cnkgewogICAgICAgICAgICBtYWpvciA9IHRvay5o\nYXNNb3JlVG9rZW5zKCkgPyBJbnRlZ2VyLnBhcnNlSW50KHRvay5uZXh0VG9r\nZW4oKSkgOiAwOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAg\nICAgICAgICAgIG1ham9yID0gMDsKICAgICAgICB9CgogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIG1pbm9yID0gdG9rLmhhc01vcmVUb2tlbnMoKSA/IElu\ndGVnZXIucGFyc2VJbnQodG9rLm5leHRUb2tlbigpKSA6IDA7CiAgICAgICAg\nfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgbWlub3IgPSAw\nOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcGF0Y2gg\nPSB0b2suaGFzTW9yZVRva2VucygpID8gSW50ZWdlci5wYXJzZUludCh0b2su\nbmV4dFRva2VuKCkpIDogMDsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24g\nZSkgewogICAgICAgICAgICBwYXRjaCA9IDA7CiAgICAgICAgfQoKICAgICAg\nICBTdHJpbmcgcmV2aXNpb24gPSAiIjsKICAgICAgICB0cnkgewogICAgICAg\nICAgICBJbnB1dFN0cmVhbSBpbiA9IE9wZW5KUEFWZXJzaW9uLmNsYXNzLmdl\ndFJlc291cmNlQXNTdHJlYW0KICAgICAgICAgICAgICAgICgiL01FVEEtSU5G\nL29yZy5hcGFjaGUub3BlbmpwYS5yZXZpc2lvbi5wcm9wZXJ0aWVzIik7CiAg\nICAgICAgICAgIGlmIChpbiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB0\ncnkgewogICAgICAgICAgICAgICAgICAgIFByb3BlcnRpZXMgcHJvcHMgPSBu\nZXcgUHJvcGVydGllcygpOwogICAgICAgICAgICAgICAgICAgIHByb3BzLmxv\nYWQoaW4pOwogICAgICAgICAgICAgICAgICAgIHJldmlzaW9uID0gcHJvcHMu\nZ2V0UHJvcGVydHkoInJldmlzaW9uLm51bWJlciIpOwogICAgICAgICAgICAg\nICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBpbi5jbG9zZSgp\nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBj\nYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICB9CgogICAgICAgIE1BSk9S\nX1JFTEVBU0UgPSBtYWpvcjsKICAgICAgICBNSU5PUl9SRUxFQVNFID0gbWlu\nb3I7CiAgICAgICAgUEFUQ0hfUkVMRUFTRSA9IHBhdGNoOwogICAgICAgIFJF\nTEVBU0VfU1RBVFVTID0gdG9rLmhhc01vcmVUb2tlbnMoKSA/IHRvay5uZXh0\nVG9rZW4oIiEiKSA6ICIiOwogICAgICAgIFJFVklTSU9OX05VTUJFUiA9IHJl\ndmlzaW9uOwogICAgICAgIFZFUlNJT05fSUQgPSAib3BlbmpwYS0iICsgVkVS\nU0lPTl9OVU1CRVIgKyAiLXIiICsgUkVWSVNJT05fTlVNQkVSOwogICAgfQoK\nICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBbXSBhcmdzKSB7\nCiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKG5ldyBPcGVuSlBBVmVyc2lv\nbigpLnRvU3RyaW5nKCkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgdG9T\ndHJpbmcoKSB7CiAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJp\nbmdCdWZmZXIoODAgKiAzMCk7CiAgICAgICAgYXBwZW5kT3BlbkpQQUJhbm5l\ncihidWYpOwogICAgICAgIGJ1Zi5hcHBlbmQoIlxuIik7CgogICAgICAgIGFw\ncGVuZFByb3BlcnR5KCJvcy5uYW1lIiwgYnVmKS5hcHBlbmQoIlxuIik7CiAg\nICAgICAgYXBwZW5kUHJvcGVydHkoIm9zLnZlcnNpb24iLCBidWYpLmFwcGVu\nZCgiXG4iKTsKICAgICAgICBhcHBlbmRQcm9wZXJ0eSgib3MuYXJjaCIsIGJ1\nZikuYXBwZW5kKCJcblxuIik7CgogICAgICAgIGFwcGVuZFByb3BlcnR5KCJq\nYXZhLnZlcnNpb24iLCBidWYpLmFwcGVuZCgiXG4iKTsKICAgICAgICBhcHBl\nbmRQcm9wZXJ0eSgiamF2YS52ZW5kb3IiLCBidWYpLmFwcGVuZCgiXG5cbiIp\nOwoKICAgICAgICBidWYuYXBwZW5kKCJqYXZhLmNsYXNzLnBhdGg6XG4iKTsK\nICAgICAgICBTdHJpbmdUb2tlbml6ZXIgdG9rID0gbmV3IFN0cmluZ1Rva2Vu\naXplcgogICAgICAgICAgICAoKFN0cmluZykgQWNjZXNzQ29udHJvbGxlci5k\nb1ByaXZpbGVnZWQoCiAgICAgICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5n\nZXRQcm9wZXJ0eUFjdGlvbigiamF2YS5jbGFzcy5wYXRoIikpLAogICAgICAg\nICAgICBGaWxlLnBhdGhTZXBhcmF0b3IpOwogICAgICAgIHdoaWxlICh0b2su\naGFzTW9yZVRva2VucygpKSB7CiAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIlx0\nIikuYXBwZW5kKHRvay5uZXh0VG9rZW4oKSk7CiAgICAgICAgICAgIGJ1Zi5h\ncHBlbmQoIlxuIik7CiAgICAgICAgfQogICAgICAgIGJ1Zi5hcHBlbmQoIlxu\nIik7CgogICAgICAgIGFwcGVuZFByb3BlcnR5KCJ1c2VyLmRpciIsIGJ1Zik7\nCiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGFwcGVuZE9wZW5KUEFCYW5uZXIoU3RyaW5nQnVmZmVyIGJ1\nZikgewogICAgICAgIGJ1Zi5hcHBlbmQoVkVORE9SX05BTUUpLmFwcGVuZCgi\nICIpOwogICAgICAgIGJ1Zi5hcHBlbmQoVkVSU0lPTl9OVU1CRVIpOwogICAg\nICAgIGJ1Zi5hcHBlbmQoIlxuIik7CiAgICAgICAgYnVmLmFwcGVuZCgidmVy\nc2lvbiBpZDogIikuYXBwZW5kKFZFUlNJT05fSUQpOwogICAgICAgIGJ1Zi5h\ncHBlbmQoIlxuIik7CiAgICAgICAgYnVmLmFwcGVuZCgiQXBhY2hlIHN2biBy\nZXZpc2lvbjogIikuYXBwZW5kKFJFVklTSU9OX05VTUJFUik7CiAgICAgICAg\nYnVmLmFwcGVuZCgiXG4iKTsKICAgIH0KCiAgICBwcml2YXRlIFN0cmluZ0J1\nZmZlciBhcHBlbmRQcm9wZXJ0eShTdHJpbmcgcHJvcCwgU3RyaW5nQnVmZmVy\nIGJ1ZikgewogICAgICAgIHJldHVybiBidWYuYXBwZW5kKHByb3ApLmFwcGVu\nZCgiOiAiKQogICAgICAgICAgICAuYXBwZW5kKChTdHJpbmcpIEFjY2Vzc0Nv\nbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAgICAgICAgSjJEb1By\naXZIZWxwZXIuZ2V0UHJvcGVydHlBY3Rpb24ocHJvcCkpKTsKICAgIH0KfQo=\n","encoding":"base64"}

