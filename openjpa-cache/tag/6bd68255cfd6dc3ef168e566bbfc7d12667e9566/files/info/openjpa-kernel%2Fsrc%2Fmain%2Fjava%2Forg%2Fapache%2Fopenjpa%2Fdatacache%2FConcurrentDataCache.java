{"sha":"3208e640c7bfb985fbb4d4240c88910df3998f98","node_id":"MDQ6QmxvYjIwNjM2NDozMjA4ZTY0MGM3YmZiOTg1ZmJiNGQ0MjQwYzg4OTEwZGYzOTk4Zjk4","size":4943,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3208e640c7bfb985fbb4d4240c88910df3998f98","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5SZW1vdGVDb21taXRMaXN0ZW5l\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5DYWNoZU1hcDsK\nCi8qKgogKiBBIHtAbGluayBEYXRhQ2FjaGV9IGltcGxlbWVudGF0aW9uIHRo\nYXQgaXMgb3B0aW1pemVkIGZvciBjb25jdXJyZW50CiAqIGFjY2Vzcy4gV2hl\nbiB0aGUgY2FjaGUgZmlsbHMgdXAsIHZhbHVlcyB0byByZW1vdmUgZnJvbSBj\nYWNoZSBhcmUgY2hvc2VuCiAqIHJhbmRvbWx5LiBEdWUgdG8gcmFjZSBjb25k\naXRpb25zLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGEgZ2V0IGNhbGwgbWlnaHQg\nbm90CiAqIHJldHVybiBhIGNhY2hlZCBpbnN0YW5jZSBpZiB0aGF0IGluc3Rh\nbmNlIGlzIGJlaW5nIHRyYW5zZmVycmVkIGJldHdlZW4KICogaW50ZXJuYWwg\nZGF0YXN0cnVjdHVyZXMuCiAqCiAqIEBzaW5jZSAwLjQuMAogKi8KcHVibGlj\nIGNsYXNzIENvbmN1cnJlbnREYXRhQ2FjaGUKICAgIGV4dGVuZHMgQWJzdHJh\nY3REYXRhQ2FjaGUKICAgIGltcGxlbWVudHMgUmVtb3RlQ29tbWl0TGlzdGVu\nZXIgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9j\nID0gTG9jYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAoQ29uY3VycmVudERh\ndGFDYWNoZS5jbGFzcyk7CgogICAgcHJpdmF0ZSBmaW5hbCBDYWNoZU1hcCBf\nY2FjaGUgPSBuZXdDYWNoZU1hcCgpOwoKICAgIC8qKgogICAgICogUmV0dXJu\ncyB0aGUgdW5kZXJseWluZyB7QGxpbmsgQ2FjaGVNYXB9IHRoYXQgdGhpcyBj\nYWNoZSBpcyB1c2luZy4KICAgICAqIFRoaXMgaXMgbm90IGFuIHVubW9kaWZp\nYWJsZSB2aWV3IG9uIHRoZSBtYXAsIHNvIGNhcmUgc2hvdWxkIGJlIHRha2Vu\nCiAgICAgKiB3aXRoIHRoaXMgcmVmZXJlbmNlLiBJbXBsZW1lbnRhdGlvbnMg\nc2hvdWxkIHByb2JhYmx5IG5vdCBtb2RpZnkgdGhlCiAgICAgKiBjb250ZW50\ncyBvZiB0aGUgY2FjaGUsIGJ1dCBzaG91bGQgb25seSB1c2UgdGhpcyByZWZl\ncmVuY2UgdG8KICAgICAqIG9idGFpbiBjYWNoZSBtZXRyaWNzLgogICAgICov\nCiAgICBwdWJsaWMgQ2FjaGVNYXAgZ2V0Q2FjaGVNYXAoKSB7CiAgICAgICAg\ncmV0dXJuIF9jYWNoZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgdGhl\nIG1heGltdW0gbnVtYmVyIG9mIHVucGlubmVkIG9iamVjdHMgdG8ga2VlcCBo\nYXJkCiAgICAgKiByZWZlcmVuY2VzIHRvLiBJZiB0aGUgbWFwIGNvbnRhaW5z\nIG1vcmUgdW5waW5uZWQgb2JqZWN0cyB0aGFuCiAgICAgKiA8Y29kZT5zaXpl\nPC9jb2RlPiwgdGhlbiB0aGlzIG1ldGhvZCB3aWxsIHJlc3VsdCBpbiB0aGUg\nY2FjaGUKICAgICAqIGZsdXNoaW5nIG9sZCB2YWx1ZXMuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldENhY2hlU2l6ZShpbnQgc2l6ZSkgewogICAgICAg\nIF9jYWNoZS5zZXRDYWNoZVNpemUoc2l6ZSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG51bWJlciBvZiB1bnBpbm5lZCBv\nYmplY3RzIHRvIGtlZXAgaGFyZAogICAgICogcmVmZXJlbmNlcyB0by4KICAg\nICAqLwogICAgcHVibGljIGludCBnZXRDYWNoZVNpemUoKSB7CiAgICAgICAg\ncmV0dXJuIF9jYWNoZS5nZXRDYWNoZVNpemUoKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIHVucGlubmVkIG9i\namVjdHMgdG8ga2VlcCBzb2Z0CiAgICAgKiByZWZlcmVuY2VzIHRvLiBJZiB0\naGUgbWFwIGNvbnRhaW5zIG1vcmUgc29mdCByZWZlcmVuY2VzIHRoYW4KICAg\nICAqIDxjb2RlPnNpemU8L2NvZGU+LCB0aGVuIHRoaXMgbWV0aG9kIHdpbGwg\ncmVzdWx0IGluIHRoZSBjYWNoZQogICAgICogZmx1c2hpbmcgdmFsdWVzLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRTb2Z0UmVmZXJlbmNlU2l6ZShp\nbnQgc2l6ZSkgewogICAgICAgIF9jYWNoZS5zZXRTb2Z0UmVmZXJlbmNlU2l6\nZShzaXplKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG1h\neGltdW0gbnVtYmVyIG9mIHVucGlubmVkIG9iamVjdHMgdG8ga2VlcCBzb2Z0\nCiAgICAgKiByZWZlcmVuY2VzIHRvLiBEZWZhdWx0cyB0byA8Y29kZT4tMTwv\nY29kZT4uCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0U29mdFJlZmVyZW5j\nZVNpemUoKSB7CiAgICAgICAgcmV0dXJuIF9jYWNoZS5nZXRTb2Z0UmVmZXJl\nbmNlU2l6ZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUo\nRGF0YUNhY2hlTWFuYWdlciBtZ3IpIHsKICAgICAgICBzdXBlci5pbml0aWFs\naXplKG1ncik7CiAgICAgICAgY29uZi5nZXRSZW1vdGVDb21taXRFdmVudE1h\nbmFnZXIoKS5hZGRJbnRlcm5hbExpc3RlbmVyKHRoaXMpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHVucGluQWxsKENsYXNzIGNscywgYm9vbGVhbiBzdWJz\nKSB7CiAgICAgICAgaWYgKGxvZy5pc1dhcm5FbmFibGVkKCkpCiAgICAgICAg\nICAgIGxvZy53YXJuKF9sb2MuZ2V0KCJjYWNoZS1jbGFzcy11bnBpbi1hbGwi\nLCBnZXROYW1lKCkpKTsKICAgICAgICB1bnBpbkFsbChfY2FjaGUuZ2V0UGlu\nbmVkS2V5cygpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB3cml0ZUxvY2so\nKSB7CiAgICAgICAgX2NhY2hlLndyaXRlTG9jaygpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHdyaXRlVW5sb2NrKCkgewogICAgICAgIF9jYWNoZS53cml0\nZVVubG9jaygpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBt\nYXAgdG8gdXNlIGFzIGFuIGludGVybmFsIGNhY2hlOyBlbnRyeSBleHBpcmF0\naW9ucyBtdXN0CiAgICAgKiBpbnZva2Uge0BsaW5rIEFic3RyYWN0RGF0YUNh\nY2hlI2tleVJlbW92ZWR9LgogICAgICovCiAgICBwcm90ZWN0ZWQgQ2FjaGVN\nYXAgbmV3Q2FjaGVNYXAoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDYWNoZU1h\ncCgpIHsKICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgZW50cnlSZW1vdmVk\nKE9iamVjdCBrZXksIE9iamVjdCB2YWx1ZSwKICAgICAgICAgICAgICAgIGJv\nb2xlYW4gZXhwaXJlZCkgewogICAgICAgICAgICAgICAga2V5UmVtb3ZlZChr\nZXksIGV4cGlyZWQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0K\nCiAgICBwcm90ZWN0ZWQgRGF0YUNhY2hlUENEYXRhIGdldEludGVybmFsKE9i\namVjdCBrZXkpIHsKICAgICAgICByZXR1cm4gKERhdGFDYWNoZVBDRGF0YSkg\nX2NhY2hlLmdldChrZXkpOwogICAgfQoKICAgIHByb3RlY3RlZCBEYXRhQ2Fj\naGVQQ0RhdGEgcHV0SW50ZXJuYWwoT2JqZWN0IGtleSwgRGF0YUNhY2hlUENE\nYXRhIHBjKSB7CiAgICAgICAgcmV0dXJuIChEYXRhQ2FjaGVQQ0RhdGEpIF9j\nYWNoZS5wdXQoa2V5LCBwYyk7CiAgICB9CgogICAgcHJvdGVjdGVkIERhdGFD\nYWNoZVBDRGF0YSByZW1vdmVJbnRlcm5hbChPYmplY3Qga2V5KSB7CiAgICAg\nICAgcmV0dXJuIChEYXRhQ2FjaGVQQ0RhdGEpIF9jYWNoZS5yZW1vdmUoa2V5\nKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCByZW1vdmVBbGxJbnRlcm5h\nbChDbGFzcyBjbHMsIGJvb2xlYW4gc3VicykgewogICAgICAgIC8vIHdlIGNv\ndWxkIGtlZXAgYSBoaXN0b2dyYW0gb2YgdGhlIGNvdW50cyBvZiBjb250YWlu\nZWQgY2xhc3NlcyBhbmQKICAgICAgICAvLyBvbmx5IGNsZWFyIGlmIHdlIGhh\ndmUgdGhlIGNsYXNzLCBidXQgdGhhdCBzdGlsbCB3b3VsZG4ndCBzdXBwb3J0\nIHN1YnMKICAgICAgICAvLyB3ZWxsLCB3b3VsZCBpbnZvbHZlIHN5bmNoaW5n\nLCBhbmQgd29uJ3QgeWllbGQgbXVjaCBiZW5lZml0IHdoZW4gd2UncmUKICAg\nICAgICAvLyB1c2VkIGFzIGEgcHJpbWFyeSBjYWNoZQogICAgICAgIF9jYWNo\nZS5jbGVhcigpOwogICAgfQoKICAgIHByb3RlY3RlZCB2b2lkIGNsZWFySW50\nZXJuYWwoKSB7CiAgICAgICAgX2NhY2hlLmNsZWFyKCk7CiAgICB9CgogICAg\ncHJvdGVjdGVkIGJvb2xlYW4gcGluSW50ZXJuYWwoT2JqZWN0IGtleSkgewog\nICAgICAgIHJldHVybiBfY2FjaGUucGluKGtleSk7CiAgICB9CgogICAgcHJv\ndGVjdGVkIGJvb2xlYW4gdW5waW5JbnRlcm5hbChPYmplY3Qga2V5KSB7CiAg\nICAgICAgcmV0dXJuIF9jYWNoZS51bnBpbiAoa2V5KTsKCX0KfQo=\n","encoding":"base64"}

