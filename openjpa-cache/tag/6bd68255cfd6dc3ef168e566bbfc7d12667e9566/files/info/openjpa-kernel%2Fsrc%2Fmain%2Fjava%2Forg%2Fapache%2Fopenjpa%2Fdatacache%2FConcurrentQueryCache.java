{"sha":"fd1a44f641c41fb2f51e70e69f3433d90fb85154","node_id":"MDQ6QmxvYjIwNjM2NDpmZDFhNDRmNjQxYzQxZmIyZjUxZTcwZTY5ZjM0MzNkOTBmYjg1MTU0","size":4431,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fd1a44f641c41fb2f51e70e69f3433d90fb85154","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIGphdmEudXRpbC5Db2xsZWN0aW9uOwoKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5ldmVudC5SZW1vdGVDb21taXRMaXN0ZW5lcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS51dGlsLkNhY2hlTWFwOwoKLyoqCiAqIEEge0BsaW5r\nIFF1ZXJ5Q2FjaGV9IGltcGxlbWVudGF0aW9uIHRoYXQgaXMgb3B0aW1pemVk\nIGZvciBjb25jdXJyZW50CiAqIGFjY2Vzcy4gV2hlbiB0aGUgY2FjaGUgZmls\nbCB1cCwgdmFsdWVzIHRvIHJlbW92ZSBmcm9tIHRoZSBjYWNoZSBhcmUgY2hv\nc2VuCiAqIHJhbmRvbWx5LiBEdWUgdG8gcmFjZSBjb25kaXRpb25zLCBpdCBp\ncyBwb3NzaWJsZSB0aGF0IGEgZ2V0IGNhbGwgbWlnaHQgbm90CiAqIHJldHVy\nIGEgY2FjaGVkIGluc3RhbmNlIGlmIHRoYXQgaW5zdGFuY2UgaXMgYmVpbmcg\ndHJhbnNmZXJyZWQgYmV0d2VlbgogKiBpbnRlcm5hbCBkYXRhc3RydWN0dXJl\ncy4KICoKICogQHNpbmNlIDAuNC4xCiAqLwpwdWJsaWMgY2xhc3MgQ29uY3Vy\ncmVudFF1ZXJ5Q2FjaGUKICAgIGV4dGVuZHMgQWJzdHJhY3RRdWVyeUNhY2hl\nCiAgICBpbXBsZW1lbnRzIFJlbW90ZUNvbW1pdExpc3RlbmVyIHsKCiAgICBw\ncml2YXRlIENhY2hlTWFwIF9jYWNoZSA9IG5ld0NhY2hlTWFwKCk7CgogICAg\nLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIHtAbGluayBDYWNo\nZU1hcH0gdGhhdCB0aGlzIGNhY2hlIGlzIHVzaW5nLgogICAgICogVGhpcyBp\ncyBub3QgYW4gdW5tb2RpZmlhYmxlIHZpZXcgb24gdGhlIG1hcCwgc28gY2Fy\nZSBzaG91bGQgYmUgdGFrZW4KICAgICAqIHdpdGggdGhpcyByZWZlcmVuY2Uu\nIEltcGxlbWVudGF0aW9ucyBzaG91bGQgcHJvYmFibHkgbm90IG1vZGlmeSB0\naGUKICAgICAqIGNvbnRlbnRzIG9mIHRoZSBjYWNoZSwgYnV0IHNob3VsZCBv\nbmx5IHVzZSB0aGlzIHJlZmVyZW5jZQogICAgICogdG8gb2J0YWluIGNhY2hl\nIG1ldHJpY3MuIEFkZGl0aW9uYWxseSwgdGhpcyBtYXAgbWF5IGNvbnRhaW4K\nICAgICAqIGV4cGlyZWQgZGF0YS4gUmVtb3ZhbCBvZiB0aW1lZC1vdXQgZGF0\nYSBpcyBkb25lIGluIGEgbGF6eQogICAgICogZmFzaGlvbiwgc28gdGhlIGFj\ndHVhbCBzaXplIG9mIHRoZSBtYXAgbWF5IGJlIGdyZWF0ZXIgdGhhbiB0aGUK\nICAgICAqIG51bWJlciBvZiBub24tZXhwaXJlZCBxdWVyeSByZXN1bHRzIGlu\nIGNhY2hlLgogICAgICovCiAgICBwdWJsaWMgQ2FjaGVNYXAgZ2V0Q2FjaGVN\nYXAoKSB7CiAgICAgICAgcmV0dXJuIF9jYWNoZTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybnMgdGhlIG1heGltdW0gbnVtYmVyIG9mIHVucGlubmVk\nIG9iamVjdHMgdG8ga2VlcCBoYXJkCiAgICAgKiByZWZlcmVuY2VzIHRvLgog\nICAgICovCiAgICBwdWJsaWMgaW50IGdldENhY2hlU2l6ZSgpIHsKICAgICAg\nICByZXR1cm4gX2NhY2hlLmdldENhY2hlU2l6ZSgpOwogICAgfQoKICAgIC8q\nKgogICAgICogU2V0cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgdW5waW5uZWQg\nb2JqZWN0cyB0byBrZWVwIGhhcmQKICAgICAqIHJlZmVyZW5jZXMgdG8uIElm\nIHRoZSBtYXAgY29udGFpbnMgbW9yZSB1bnBpbm5lZCBvYmplY3RzIHRoYW4K\nICAgICAqIDxjb2RlPnNpemU8L2NvZGU+LCB0aGVuIHRoaXMgbWV0aG9kIHdp\nbGwgcmVzdWx0IGluIHRoZSBjYWNoZQogICAgICogZmx1c2hpbmcgb2xkIHZh\nbHVlcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0Q2FjaGVTaXplKGlu\ndCBzaXplKSB7CiAgICAgICAgX2NhY2hlLnNldENhY2hlU2l6ZShzaXplKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG1heGltdW0gbnVt\nYmVyIG9mIHVucGlubmVkIG9iamVjdHMgdG8ga2VlcCBzb2Z0CiAgICAgKiBy\nZWZlcmVuY2VzIHRvLiBEZWZhdWx0cyB0byA8Y29kZT4tMTwvY29kZT4uCiAg\nICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0U29mdFJlZmVyZW5jZVNpemUoKSB7\nCiAgICAgICAgcmV0dXJuIF9jYWNoZS5nZXRTb2Z0UmVmZXJlbmNlU2l6ZSgp\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0cyB0aGUgbWF4aW11bSBudW1i\nZXIgb2YgdW5waW5uZWQgb2JqZWN0cyB0byBrZWVwIHNvZnQKICAgICAqIHJl\nZmVyZW5jZXMgdG8uIElmIHRoZSBtYXAgY29udGFpbnMgbW9yZSBzb2Z0IHJl\nZmVyZW5jZXMgdGhhbgogICAgICogPGNvZGU+c2l6ZTwvY29kZT4sIHRoZW4g\ndGhpcyBtZXRob2Qgd2lsbCByZXN1bHQgaW4gdGhlIGNhY2hlCiAgICAgKiBm\nbHVzaGluZyB2YWx1ZXMuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNv\nZnRSZWZlcmVuY2VTaXplKGludCBzaXplKSB7CiAgICAgICAgX2NhY2hlLnNl\ndFNvZnRSZWZlcmVuY2VTaXplKHNpemUpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIGluaXRpYWxpemUoRGF0YUNhY2hlTWFuYWdlciBtZ3IpIHsKICAgICAg\nICBzdXBlci5pbml0aWFsaXplKG1ncik7CiAgICAgICAgY29uZi5nZXRSZW1v\ndGVDb21taXRFdmVudE1hbmFnZXIoKS5hZGRJbnRlcm5hbExpc3RlbmVyKHRo\naXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHdyaXRlTG9jaygpIHsKICAg\nICAgICAvLyBkZWxlZ2F0ZSBhY3R1YWxseSBkb2VzIG5vdGhpbmcsIGJ1dCBp\nbiBjYXNlIHRoYXQgY2hhbmdlcy4uLgogICAgICAgIF9jYWNoZS53cml0ZUxv\nY2soKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB3cml0ZVVubG9jaygpIHsK\nICAgICAgICAvLyBkZWxlZ2F0ZSBhY3R1YWxseSBkb2VzIG5vdGhpbmcsIGJ1\ndCBpbiBjYXNlIHRoYXQgY2hhbmdlcy4uLgogICAgICAgIF9jYWNoZS53cml0\nZVVubG9jaygpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBt\nYXAgdG8gdXNlIGFzIGFuIGludGVybmFsIGNhY2hlLgogICAgICovCiAgICBw\ncm90ZWN0ZWQgQ2FjaGVNYXAgbmV3Q2FjaGVNYXAoKSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBDYWNoZU1hcCgpOwogICAgfQoKICAgIHByb3RlY3RlZCBRdWVy\neVJlc3VsdCBnZXRJbnRlcm5hbChRdWVyeUtleSBxaykgewogICAgICAgIHJl\ndHVybiAoUXVlcnlSZXN1bHQpIF9jYWNoZS5nZXQocWspOwogICAgfQoKICAg\nIHByb3RlY3RlZCBRdWVyeVJlc3VsdCBwdXRJbnRlcm5hbChRdWVyeUtleSBx\naywgUXVlcnlSZXN1bHQgcmVzdWx0KSB7CiAgICAgICAgcmV0dXJuIChRdWVy\neVJlc3VsdCkgX2NhY2hlLnB1dChxaywgcmVzdWx0KTsKICAgIH0KCiAgICBw\ncm90ZWN0ZWQgUXVlcnlSZXN1bHQgcmVtb3ZlSW50ZXJuYWwoUXVlcnlLZXkg\ncWspIHsKICAgICAgICByZXR1cm4gKFF1ZXJ5UmVzdWx0KSBfY2FjaGUucmVt\nb3ZlKHFrKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBjbGVhckludGVy\nbmFsKCkgewogICAgICAgIF9jYWNoZS5jbGVhcigpOwogICAgfQoKICAgIHBy\nb3RlY3RlZCBib29sZWFuIHBpbkludGVybmFsKFF1ZXJ5S2V5IHFrKSB7CiAg\nICAgICAgcmV0dXJuIF9jYWNoZS5waW4ocWspOwogICAgfQoKICAgIHByb3Rl\nY3RlZCBib29sZWFuIHVucGluSW50ZXJuYWwoUXVlcnlLZXkgcWspIHsKICAg\nICAgICByZXR1cm4gX2NhY2hlLnVucGluKHFrKTsKICAgIH0KCiAgICBwcm90\nZWN0ZWQgQ29sbGVjdGlvbiBrZXlTZXQoKSB7CiAgICAgICAgcmV0dXJuIF9j\nYWNoZS5rZXlTZXQgKCk7Cgl9Cn0K\n","encoding":"base64"}

