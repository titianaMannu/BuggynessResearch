{"sha":"99de5c9bdc9f1e3b18b922fd68af0bdd802b9aba","node_id":"MDQ6QmxvYjIwNjM2NDo5OWRlNWM5YmRjOWYxZTNiMThiOTIyZmQ2OGFmMGJkZDgwMmI5YWJh","size":8276,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/99de5c9bdc9f1e3b18b922fd68af0bdd802b9aba","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIGphdmEudGV4dC5EYXRlRm9ybWF0OwppbXBvcnQgamF2YS50ZXh0LlNpbXBs\nZURhdGVGb3JtYXQ7CmltcG9ydCBqYXZhLnV0aWwuQ2FsZW5kYXI7CmltcG9y\ndCBqYXZhLnV0aWwuRGF0ZTsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsK\naW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwuU3RyaW5n\nVG9rZW5pemVyOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLk9w\nZW5KUEFDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmxpYi5sb2cuTG9nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51\ndGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\ndXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRIYXNoTWFwOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnV0aWwuSW52YWxpZFN0YXRlRXhjZXB0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuVXNlckV4Y2VwdGlvbjsK\naW1wb3J0IHNlcnAudXRpbC5TdHJpbmdzOwoKLyoqCiAqIENyb24tc3R5bGUg\nY2FjaGUgZXZpY3Rpb24uIFVuZGVyc3RhbmRzIHNjaGVkdWxlcyBiYXNlZCBv\nbiBjcm9uIGZvcm1hdDoKICogPGNvZGU+bWludXRlIGhvdXIgbWRheSBtb250\naCB3ZGF5PC9jb2RlPgogKiBGb3IgZXhhbXBsZToKICogPGNvZGU+MTUsMzAg\nNiwxOSAyLDEwIDEgMiA8L2NvZGU+CiAqIFdvdWxkIHJ1biBhdCAxNSBhbmQg\nMzAgcGFzdCB0aGUgNkFNIGFuZCA3UE0sIG9uIHRoZSAybmQgYW5kIDEwdGgK\nICogb2YgSmFudWFyeSB3aGVuIGl0cyBhIE1vbmRheS4KICoKICogQGF1dGhv\nciBTdGV2ZSBLaW0KICovCnB1YmxpYyBjbGFzcyBEYXRhQ2FjaGVTY2hlZHVs\nZXIKICAgIGltcGxlbWVudHMgUnVubmFibGUgewoKICAgIHByaXZhdGUgc3Rh\ndGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2th\nZ2UKICAgICAgICAoRGF0YUNhY2hlU2NoZWR1bGVyLmNsYXNzKTsKCiAgICBw\ncml2YXRlIE1hcCBfY2FjaGVzID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwKCk7\nCiAgICBwcml2YXRlIGJvb2xlYW4gX3N0b3AgPSBmYWxzZTsKICAgIHByaXZh\ndGUgaW50IF9pbnRlcnZhbCA9IDI7CiAgICBwcml2YXRlIExvZyBfbG9nOwog\nICAgcHJpdmF0ZSBUaHJlYWQgX3RocmVhZDsKCiAgICBwdWJsaWMgRGF0YUNh\nY2hlU2NoZWR1bGVyKE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYpIHsKICAg\nICAgICBfbG9nID0gY29uZi5nZXRMb2dGYWN0b3J5KCkuZ2V0TG9nKE9wZW5K\nUEFDb25maWd1cmF0aW9uLkxPR19EQVRBQ0FDSEUpOwogICAgfQoKICAgIC8q\nKgogICAgICogVGhlIGludGVydmFsIHRpbWUgaW4gbWludXRlcyBiZXR3ZWVu\nIGNhY2hlIGNoZWNrcy4gRGVmYXVsdHMgdG8gMi4KICAgICAqLwogICAgcHVi\nbGljIGludCBnZXRJbnRlcnZhbCgpIHsKICAgICAgICByZXR1cm4gX2ludGVy\ndmFsOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGludGVydmFsIHRpbWUg\naW4gbWludXRlcyBiZXR3ZWVuIGNhY2hlIGNoZWNrcy4gRGVmYXVsdHMgdG8g\nMi4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0SW50ZXJ2YWwoaW50IGlu\ndGVydmFsKSB7CiAgICAgICAgX2ludGVydmFsID0gaW50ZXJ2YWw7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBTdG9wIHRoZSBhc3NvY2lhdGVkIHRocmVhZCBp\nZiB0aGVyZSBhbmQgc3RvcCB0aGUgY3VycmVudCBydW5uYWJsZS4KICAgICAq\nLwogICAgcHVibGljIHN5bmNocm9uaXplZCB2b2lkIHN0b3AoKSB7CiAgICAg\nICAgX3N0b3AgPSB0cnVlOwogICAgfQoKICAgIHByaXZhdGUgYm9vbGVhbiBp\nc1N0b3BwZWQoKSB7CiAgICAgICAgcmV0dXJuIF9zdG9wOwogICAgfQoKICAg\nIC8qKgogICAgICogU2NoZWR1bGUgdGhlIGdpdmVuIGNhY2hlIGZvciBldmlj\ndGlvbi4gU3RhcnRzIHRoZSBzY2hlZHVsaW5nIHRocmVhZAogICAgICogaWYg\nbm90IHN0YXJ0ZWQuCiAgICAgKi8KICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQg\ndm9pZCBzY2hlZHVsZUV2aWN0aW9uKERhdGFDYWNoZSBjYWNoZSwgU3RyaW5n\nIHRpbWVzKSB7CiAgICAgICAgaWYgKHRpbWVzID09IG51bGwpCiAgICAgICAg\nICAgIHJldHVybjsKCiAgICAgICAgU2NoZWR1bGUgc2NoZWR1bGUgPSBuZXcg\nU2NoZWR1bGUodGltZXMpOwogICAgICAgIF9jYWNoZXMucHV0KGNhY2hlLCBz\nY2hlZHVsZSk7CiAgICAgICAgX3N0b3AgPSBmYWxzZTsKICAgICAgICBpZiAo\nX3RocmVhZCA9PSBudWxsKSB7CiAgICAgICAgICAgIF90aHJlYWQgPSBuZXcg\nVGhyZWFkKHRoaXMsIF9sb2MuZ2V0KCJzY2hlZHVsZXItbmFtZSIpLmdldE1l\nc3NhZ2UoKSk7CiAgICAgICAgICAgIF90aHJlYWQuc2V0RGFlbW9uKHRydWUp\nOwogICAgICAgICAgICBfdGhyZWFkLnN0YXJ0KCk7CiAgICAgICAgICAgIGlm\nIChfbG9nLmlzVHJhY2VFbmFibGVkKCkpCiAgICAgICAgICAgICAgICBfbG9n\nLnRyYWNlKF9sb2MuZ2V0KCJzY2hlZHVsZXItc3RhcnQiLCBfdGhyZWFkLmdl\ndE5hbWUoKSkpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJl\nbW92ZSB0aGUgZ2l2ZW4gY2FjaGUgZnJvbSBzY2hlZHVsaW5nLgogICAgICov\nCiAgICBwdWJsaWMgc3luY2hyb25pemVkIHZvaWQgcmVtb3ZlRnJvbVNjaGVk\ndWxlKERhdGFDYWNoZSBjYWNoZSkgewogICAgICAgIF9jYWNoZXMucmVtb3Zl\nKGNhY2hlKTsKICAgICAgICBpZiAoX2NhY2hlcy5zaXplKCkgPT0gMCkKICAg\nICAgICAgICAgc3RvcCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJ1bigp\nIHsKICAgICAgICBpZiAoX2xvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAgICAg\nICAgICBfbG9nLnRyYWNlKF9sb2MuZ2V0KCJzY2hlZHVsZXItaW50ZXJ2YWwi\nLCBfaW50ZXJ2YWwgKyAiIikpOwoKICAgICAgICBEYXRlIGxhc3RSdW4gPSBu\nZXcgRGF0ZSgpOwogICAgICAgIERhdGVGb3JtYXQgZm9tID0gbmV3IFNpbXBs\nZURhdGVGb3JtYXQoIkUgSEg6bW06c3MiKTsKICAgICAgICB3aGlsZSAoIWlz\nU3RvcHBlZCgpKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAg\nICBUaHJlYWQuc2xlZXAoX2ludGVydmFsICogNjAgKiAxMDAwKTsKCiAgICAg\nICAgICAgICAgICBEYXRlIG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAg\nICAgICBEYXRhQ2FjaGUgY2FjaGU7CiAgICAgICAgICAgICAgICBTY2hlZHVs\nZSBzY2hlZHVsZTsKICAgICAgICAgICAgICAgIE1hcC5FbnRyeSBlbnRyeTsK\nICAgICAgICAgICAgICAgIGZvciAoSXRlcmF0b3IgaSA9IF9jYWNoZXMuZW50\ncnlTZXQoKS5pdGVyYXRvcigpOyBpLmhhc05leHQoKTspIHsKICAgICAgICAg\nICAgICAgICAgICBlbnRyeSA9IChNYXAuRW50cnkpIGkubmV4dCgpOwogICAg\nICAgICAgICAgICAgICAgIGNhY2hlID0gKERhdGFDYWNoZSkgZW50cnkuZ2V0\nS2V5KCk7CiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGUgPSAoU2NoZWR1\nbGUpIGVudHJ5LmdldFZhbHVlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYg\nKHNjaGVkdWxlLm1hdGNoZXMobGFzdFJ1biwgbm93KSkgewogICAgICAgICAg\nICAgICAgICAgICAgICBpZiAoX2xvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgX2xvZy50cmFjZShfbG9jLmdldCgi\nc2NoZWR1bGVyLWNsZWFyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBjYWNoZS5nZXROYW1lKCksIGZvbS5mb3JtYXQobm93KSkpOwogICAg\nICAgICAgICAgICAgICAgICAgICBldmljdChjYWNoZSk7CiAgICAgICAgICAg\nICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg\nbGFzdFJ1biA9IG5vdzsKICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkU3RhdGVF\neGNlcHRpb24oX2xvYy5nZXQoInNjaGVkdWxlci1mYWlsIiksIGUpLgogICAg\nICAgICAgICAgICAgICAgIHNldEZhdGFsKHRydWUpOwogICAgICAgICAgICB9\nCiAgICAgICAgfQoKICAgICAgICBfbG9nLmluZm8oX2xvYy5nZXQoInNjaGVk\ndWxlci1zdG9wIikpOwogICAgICAgIHN5bmNocm9uaXplZCAodGhpcykgewog\nICAgICAgICAgICBpZiAoaXNTdG9wcGVkKCkpCiAgICAgICAgICAgICAgICBf\ndGhyZWFkID0gbnVsbDsgLy8gYmUgc3VyZSB0byBkZXJlZiB0aGUgdGhyZWFk\nIHNvIGl0IGNhbiByZXN0YXJ0CiAgICAgICAgfQogICAgfQoKICAgIHByb3Rl\nY3RlZCB2b2lkIGV2aWN0KERhdGFDYWNoZSBjYWNoZSkgewogICAgICAgIGNh\nY2hlLmNsZWFyKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTaW1wbGUgY2xh\nc3Mgd2hpY2ggcmVwcmVzZW50cyB0aGUgZ2l2ZW4gdGltZSBzY2hlZHVsZS4K\nICAgICAqLwogICAgcHJpdmF0ZSBzdGF0aWMgY2xhc3MgU2NoZWR1bGUgewoK\nICAgICAgICBzdGF0aWMgZmluYWwgaW50W10gV0lMRENBUkQgPSBuZXcgaW50\nWzBdOwogICAgICAgIHN0YXRpYyBmaW5hbCBpbnRbXSBVTklUUyA9IHsKICAg\nICAgICAgICAgQ2FsZW5kYXIuTU9OVEgsCiAgICAgICAgICAgIENhbGVuZGFy\nLkRBWV9PRl9NT05USCwKICAgICAgICAgICAgQ2FsZW5kYXIuREFZX09GX1dF\nRUssCiAgICAgICAgICAgIENhbGVuZGFyLkhPVVJfT0ZfREFZLAogICAgICAg\nICAgICBDYWxlbmRhci5NSU5VVEUKICAgICAgICB9OwogICAgICAgIGZpbmFs\nIGludFtdIG1vbnRoOwogICAgICAgIGZpbmFsIGludFtdIGRheU9mTW9udGg7\nCiAgICAgICAgZmluYWwgaW50W10gZGF5T2ZXZWVrOwogICAgICAgIGZpbmFs\nIGludFtdIGhvdXI7CiAgICAgICAgZmluYWwgaW50W10gbWluOwoKICAgICAg\nICBwdWJsaWMgU2NoZWR1bGUoU3RyaW5nIGRhdGUpIHsKICAgICAgICAgICAg\nU3RyaW5nVG9rZW5pemVyIHRva2VuID0gbmV3IFN0cmluZ1Rva2VuaXplcihk\nYXRlLCAiIFx0Iik7CiAgICAgICAgICAgIGlmICh0b2tlbi5jb3VudFRva2Vu\ncygpICE9IDUpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4Y2Vw\ndGlvbihfbG9jLmdldCgiYmFkLWNvdW50IiwgZGF0ZSkpLgogICAgICAgICAg\nICAgICAgICAgIHNldEZhdGFsKHRydWUpOwogICAgICAgICAgICB0cnkgewog\nICAgICAgICAgICAgICAgbWluID0gcGFyc2UodG9rZW4ubmV4dFRva2VuKCks\nIDAsIDYwKTsKICAgICAgICAgICAgICAgIGhvdXIgPSBwYXJzZSh0b2tlbi5u\nZXh0VG9rZW4oKSwgMCwgMjQpOwogICAgICAgICAgICAgICAgZGF5T2ZNb250\naCA9IHBhcnNlKHRva2VuLm5leHRUb2tlbigpLCAxLCAzMSk7CiAgICAgICAg\nICAgICAgICBtb250aCA9IHBhcnNlKHRva2VuLm5leHRUb2tlbigpLCAxLCAx\nMyk7CiAgICAgICAgICAgICAgICBkYXlPZldlZWsgPSBwYXJzZSh0b2tlbi5u\nZXh0VG9rZW4oKSwgMSwgOCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKFRocm93\nYWJsZSB0KSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4Y2Vw\ndGlvbihfbG9jLmdldCgiYmFkLXNjaGVkdWxlIiwgZGF0ZSksIHQpLgogICAg\nICAgICAgICAgICAgICAgIHNldEZhdGFsKHRydWUpOwogICAgICAgICAgICB9\nCiAgICAgICAgfQoKICAgICAgICBwcml2YXRlIGludFtdIHBhcnNlKFN0cmlu\nZyB0b2tlbiwgaW50IG1pbiwgaW50IG1heCkgewogICAgICAgICAgICBpZiAo\nIioiLmVxdWFscyh0b2tlbi50cmltKCkpKQogICAgICAgICAgICAgICAgcmV0\ndXJuIFdJTERDQVJEOwogICAgICAgICAgICBTdHJpbmdbXSB0b2tlbnMgPSBT\ndHJpbmdzLnNwbGl0KHRva2VuLCAiLCIsIDApOwogICAgICAgICAgICBpbnQg\nW10gdGltZXMgPSBuZXcgaW50W3Rva2Vucy5sZW5ndGhdOwogICAgICAgICAg\nICBmb3IgKGludCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykgewog\nICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB0aW1l\nc1tpXSA9IEludGVnZXIucGFyc2VJbnQodG9rZW5zW2ldKTsKICAgICAgICAg\nICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgICAg\nICAgICAgdGhyb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoIm5vdC1u\ndW1iZXIiLCB0b2tlbikpLgogICAgICAgICAgICAgICAgICAgICAgICBzZXRG\nYXRhbCh0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nIGlmICh0aW1lc1tpXSA8IG1pbiB8fCB0aW1lc1tpXSA+PSBtYXgpCiAgICAg\nICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5n\nZXQoIm5vdC1yYW5nZSIsIHRva2VuLAogICAgICAgICAgICAgICAgICAgICAg\nICBTdHJpbmcudmFsdWVPZihtaW4pLCBTdHJpbmcudmFsdWVPZihtYXgpKSku\nCiAgICAgICAgICAgICAgICAgICAgICAgIHNldEZhdGFsKHRydWUpOwogICAg\nICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aW1lczsKICAgICAgICB9\nCgogICAgICAgIGJvb2xlYW4gbWF0Y2hlcyhEYXRlIGxhc3QsIERhdGUgbm93\nKSB7CiAgICAgICAgICAgIENhbGVuZGFyIHRpbWUgPSBDYWxlbmRhci5nZXRJ\nbnN0YW5jZSgpOwogICAgICAgICAgICB0aW1lLnNldFRpbWUobm93KTsKICAg\nICAgICAgICAgdGltZS5zZXQoQ2FsZW5kYXIuU0VDT05ELCAwKTsKICAgICAg\nICAgICAgdGltZS5zZXQoQ2FsZW5kYXIuTUlMTElTRUNPTkQsIDApOwoKICAg\nICAgICAgICAgaW50W11bXSBhbGwgPQogICAgICAgICAgICAgICAgbmV3IGlu\ndFtdW117IG1vbnRoLCBkYXlPZk1vbnRoLCBkYXlPZldlZWssIGhvdXIsIG1p\nbiB9OwogICAgICAgICAgICByZXR1cm4gbWF0Y2hlcyhsYXN0LCBub3csIHRp\nbWUsIGFsbCwgMCk7CiAgICAgICAgfQoKICAgICAgICBwcml2YXRlIGJvb2xl\nYW4gbWF0Y2hlcyhEYXRlIGxhc3QsIERhdGUgbm93LCBDYWxlbmRhciB0aW1l\nLAogICAgICAgICAgICBpbnRbXVtdIHRpbWVzLCBpbnQgZGVwdGgpIHsKICAg\nICAgICAgICAgaWYgKGRlcHRoID09IFVOSVRTLmxlbmd0aCkgewogICAgICAg\nICAgICAgICAgRGF0ZSBjb21wYXJlID0gdGltZS5nZXRUaW1lKCk7CiAgICAg\nICAgICAgICAgICByZXR1cm4gY29tcGFyZS5jb21wYXJlVG8obGFzdCkgPj0g\nMCAmJgogICAgICAgICAgICAgICAgICAgIGNvbXBhcmUuY29tcGFyZVRvKG5v\ndykgPCAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGltZXNb\nZGVwdGhdICE9IFdJTERDQVJEKSB7CiAgICAgICAgICAgICAgICBmb3IgKGlu\ndCBpID0gMDsgaSA8IHRpbWVzW2RlcHRoXS5sZW5ndGg7IGkrKykgewogICAg\nICAgICAgICAgICAgICAgIHRpbWUuc2V0KFVOSVRTW2RlcHRoXSwgdGltZXNb\nZGVwdGhdW2ldKTsKICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyhs\nYXN0LCBub3csIHRpbWUsIHRpbWVzLCBkZXB0aCArIDEpKQogICAgICAgICAg\nICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0K\nICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbWF0Y2hlcyhsYXN0\nLCBub3csIHRpbWUsIHRpbWVzLCBkZXB0aCArIDEpOwoJCX0KCX0KfQo=\n","encoding":"base64"}

