{"sha":"8db30d3a95514238157f751d250be97eb8cc8d3f","node_id":"MDQ6QmxvYjIwNjM2NDo4ZGIzMGQzYTk1NTE0MjM4MTU3Zjc1MWQyNTBiZTk3ZWI4Y2M4ZDNm","size":9007,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8db30d3a95514238157f751d250be97eb8cc8d3f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIGphdmEudXRpbC5CaXRTZXQ7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlv\nbjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLk1h\ncDsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMubGFuZy5PYmplY3RVdGls\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlJ1bnRpbWVFeGNl\ncHRpb25UcmFuc2xhdG9yOwoKLyoqCiAqIERlbGVnYXRpbmcgZGF0YSBjYWNo\nZSB0aGF0IGNhbiBhbHNvIHBlcmZvcm0gZXhjZXB0aW9uIHRyYW5zbGF0aW9u\nIGZvcgogKiB1c2UgaW4gZmFjYWRlcy4gVGhpcyBjYWNoZSBhbGxvd3MgaXRz\nIGRlbGVnYXRlIHRvIGJlIG51bGwsIGluIHdoaWNoCiAqIGNhc2UgaXQgcmV0\ndXJucyBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIG9wZXJhdGlvbnMuCiAqCiAq\nIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBj\nbGFzcyBEZWxlZ2F0aW5nRGF0YUNhY2hlCiAgICBpbXBsZW1lbnRzIERhdGFD\nYWNoZSB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQml0U2V0IEVNUFRZ\nX0JJVFNFVCA9IG5ldyBCaXRTZXQoMCk7CgogICAgcHJpdmF0ZSBmaW5hbCBE\nYXRhQ2FjaGUgX2NhY2hlOwogICAgcHJpdmF0ZSBmaW5hbCBEZWxlZ2F0aW5n\nRGF0YUNhY2hlIF9kZWw7CiAgICBwcml2YXRlIGZpbmFsIFJ1bnRpbWVFeGNl\ncHRpb25UcmFuc2xhdG9yIF90cmFuczsKCiAgICAvKioKICAgICAqIENvbnN0\ncnVjdG9yLiBTdXBwbHkgZGVsZWdhdGUuCiAgICAgKi8KICAgIHB1YmxpYyBE\nZWxlZ2F0aW5nRGF0YUNhY2hlKERhdGFDYWNoZSBjYWNoZSkgewogICAgICAg\nIHRoaXMoY2FjaGUsIG51bGwpOwogICAgfQoKICAgIHB1YmxpYyBEZWxlZ2F0\naW5nRGF0YUNhY2hlKERhdGFDYWNoZSBjYWNoZSwKICAgICAgICBSdW50aW1l\nRXhjZXB0aW9uVHJhbnNsYXRvciB0cmFucykgewogICAgICAgIF9jYWNoZSA9\nIGNhY2hlOwogICAgICAgIF90cmFucyA9IHRyYW5zOwogICAgICAgIGlmIChj\nYWNoZSBpbnN0YW5jZW9mIERlbGVnYXRpbmdEYXRhQ2FjaGUpCiAgICAgICAg\nICAgIF9kZWwgPSAoRGVsZWdhdGluZ0RhdGFDYWNoZSkgX2NhY2hlOwogICAg\nICAgIGVsc2UKICAgICAgICAgICAgX2RlbCA9IG51bGw7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gdGhlIGRpcmVjdCBkZWxlZ2F0ZS4KICAgICAq\nLwogICAgcHVibGljIERhdGFDYWNoZSBnZXREZWxlZ2F0ZSgpIHsKICAgICAg\nICByZXR1cm4gX2NhY2hlOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIHRoZSBuYXRpdmUgZGVsZWdhdGUuCiAgICAgKi8KICAgIHB1YmxpYyBEYXRh\nQ2FjaGUgZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKSB7CiAgICAgICAgcmV0dXJu\nIChfZGVsID09IG51bGwpID8gX2NhY2hlIDogX2RlbC5nZXRJbm5lcm1vc3RE\nZWxlZ2F0ZSgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgaGFzaENvZGUoKSB7\nCiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAgICByZXR1\ncm4gc3VwZXIuaGFzaENvZGUoKTsKICAgICAgICByZXR1cm4gZ2V0SW5uZXJt\nb3N0RGVsZWdhdGUoKS5oYXNoQ29kZSgpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGVxdWFscyhPYmplY3Qgb3RoZXIpIHsKICAgICAgICBpZiAob3Ro\nZXIgPT0gdGhpcykKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAg\naWYgKG90aGVyIGluc3RhbmNlb2YgRGVsZWdhdGluZ0RhdGFDYWNoZSkKICAg\nICAgICAgICAgb3RoZXIgPSAoKERlbGVnYXRpbmdEYXRhQ2FjaGUpIG90aGVy\nKS5nZXRJbm5lcm1vc3REZWxlZ2F0ZSgpOwogICAgICAgIHJldHVybiBPYmpl\nY3RVdGlscy5lcXVhbHMoZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKSwgb3RoZXIp\nOwogICAgfQoKICAgIC8qKgogICAgICogVHJhbnNsYXRlIHRoZSBPcGVuSlBB\nIGV4Y2VwdGlvbi4KICAgICAqLwogICAgcHJvdGVjdGVkIFJ1bnRpbWVFeGNl\ncHRpb24gdHJhbnNsYXRlKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAg\nICByZXR1cm4gKF90cmFucyA9PSBudWxsKSA/IHJlIDogX3RyYW5zLnRyYW5z\nbGF0ZShyZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkg\newogICAgICAgIGlmIChfY2FjaGUgPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9j\nYWNoZS5nZXROYW1lKCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2Vw\ndGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmlu\nZyBuYW1lKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAgICAg\nICAgICByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2NhY2hl\nLnNldE5hbWUobmFtZSk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2Vw\ndGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKERh\ndGFDYWNoZU1hbmFnZXIgbWFuYWdlcikgewogICAgICAgIGlmIChfY2FjaGUg\nPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIF9jYWNoZS5pbml0aWFsaXplKG1hbmFnZXIpOwogICAgICAg\nIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAg\ndGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgY29tbWl0KENvbGxlY3Rpb24gYWRkaXRpb25zLCBDb2xsZWN0\naW9uIG5ld1VwZGF0ZXMsCiAgICAgICAgQ29sbGVjdGlvbiBleGlzdGluZ1Vw\nZGF0ZXMsIENvbGxlY3Rpb24gZGVsZXRlcykgewogICAgICAgIGlmIChfY2Fj\naGUgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIF9jYWNoZS5jb21taXQoYWRkaXRpb25zLCBuZXdVcGRh\ndGVzLCBleGlzdGluZ1VwZGF0ZXMsIGRlbGV0ZXMpOwogICAgICAgIH0gY2F0\nY2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cg\ndHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gY29udGFpbnMoT2JqZWN0IG9pZCkgewogICAgICAgIGlmIChfY2Fj\naGUgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfY2FjaGUuY29udGFpbnMob2lk\nKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAg\nICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAg\nfQoKICAgIHB1YmxpYyBCaXRTZXQgY29udGFpbnNBbGwoQ29sbGVjdGlvbiBv\naWRzKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAg\nICByZXR1cm4gRU1QVFlfQklUU0VUOwogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIHJldHVybiBfY2FjaGUuY29udGFpbnNBbGwob2lkcyk7CiAgICAgICAg\nfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0\naHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJs\naWMgRGF0YUNhY2hlUENEYXRhIGdldChPYmplY3Qgb2lkKSB7CiAgICAgICAg\naWYgKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsK\nICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gX2NhY2hlLmdldChv\naWQpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsK\nICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAg\nICB9CgogICAgcHVibGljIERhdGFDYWNoZVBDRGF0YSBwdXQoRGF0YUNhY2hl\nUENEYXRhIHZhbHVlKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQog\nICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB0cnkgewogICAgICAg\nICAgICByZXR1cm4gX2NhY2hlLnB1dCh2YWx1ZSk7CiAgICAgICAgfSBjYXRj\naCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0\ncmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB1cGRhdGUoRGF0YUNhY2hlUENEYXRhIHZhbHVlKSB7CiAgICAgICAgaWYg\nKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgX2NhY2hlLnVwZGF0ZSh2YWx1ZSk7CiAgICAg\nICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAg\nICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgRGF0YUNhY2hlUENEYXRhIHJlbW92ZShPYmplY3Qgb2lkKSB7CiAg\nICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4g\nbnVsbDsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gX2NhY2hl\nLnJlbW92ZShvaWQpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRp\nb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIEJpdFNldCByZW1vdmVBbGwoQ29s\nbGVjdGlvbiBvaWRzKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQog\nICAgICAgICAgICByZXR1cm4gRU1QVFlfQklUU0VUOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIHJldHVybiBfY2FjaGUucmVtb3ZlQWxsKG9pZHMpOwog\nICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAg\nICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgcmVtb3ZlQWxsKENsYXNzIGNscywgYm9vbGVhbiBz\ndWJjbGFzc2VzKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2Nh\nY2hlLnJlbW92ZUFsbChjbHMsIHN1YmNsYXNzZXMpOwogICAgICAgIH0gY2F0\nY2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cg\ndHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZv\naWQgY2xlYXIoKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2Nh\nY2hlLmNsZWFyKCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlv\nbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAg\nICAgIH0KICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBwaW4oT2JqZWN0IG9p\nZCkgewogICAgICAgIGlmIChfY2FjaGUgPT0gbnVsbCkKICAgICAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVy\nbiBfY2FjaGUucGluKG9pZCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4\nY2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUp\nOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgQml0U2V0IHBpbkFsbChD\nb2xsZWN0aW9uIG9pZHMpIHsKICAgICAgICBpZiAoX2NhY2hlID09IG51bGwp\nCiAgICAgICAgICAgIHJldHVybiBFTVBUWV9CSVRTRVQ7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgcmV0dXJuIF9jYWNoZS5waW5BbGwob2lkcyk7CiAg\nICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAg\nICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBwaW5BbGwoQ2xhc3MgY2xzLCBib29sZWFuIHN1YnMp\nIHsKICAgICAgICBpZiAoX2NhY2hlID09IG51bGwpCiAgICAgICAgICAgIHJl\ndHVybjsKICAgICAgICB0cnkgewogICAgICAgICAgICBfY2FjaGUucGluQWxs\nKGNscywgc3Vicyk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlv\nbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAg\nICAgIH0KICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiB1bnBpbihPYmplY3Qg\nb2lkKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAg\nICByZXR1cm4gZmFsc2U7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIF9jYWNoZS51bnBpbihvaWQpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRp\nbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRl\nKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIEJpdFNldCB1bnBp\nbkFsbChDb2xsZWN0aW9uIG9pZHMpIHsKICAgICAgICBpZiAoX2NhY2hlID09\nIG51bGwpCiAgICAgICAgICAgIHJldHVybiBFTVBUWV9CSVRTRVQ7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9jYWNoZS51bnBpbkFsbChv\naWRzKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHVucGluQWxsKENsYXNzIGNscywgYm9v\nbGVhbiBzdWJzKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2Nh\nY2hlLnVucGluQWxsKGNscywgc3Vicyk7CiAgICAgICAgfSBjYXRjaCAoUnVu\ndGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xh\ndGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCB3cml0\nZUxvY2soKSB7CiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAgICAg\nICAgICByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2NhY2hl\nLndyaXRlTG9jaygpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRp\nb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgd3JpdGVVbmxvY2soKSB7\nCiAgICAgICAgaWYgKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAgICByZXR1\ncm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2NhY2hlLndyaXRlVW5s\nb2NrKCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkg\newogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhZGRFeHBpcmF0aW9uTGlzdGVuZXIo\nRXhwaXJhdGlvbkxpc3RlbmVyIGxpc3RlbikgewogICAgICAgIGlmIChfY2Fj\naGUgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIF9jYWNoZS5hZGRFeHBpcmF0aW9uTGlzdGVuZXIobGlz\ndGVuKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIHJlbW92ZUV4cGlyYXRpb25MaXN0\nZW5lcihFeHBpcmF0aW9uTGlzdGVuZXIgbGlzdGVuKSB7CiAgICAgICAgaWYg\nKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9jYWNoZS5yZW1vdmVF\neHBpcmF0aW9uTGlzdGVuZXIobGlzdGVuKTsKICAgICAgICB9IGNhdGNoIChS\ndW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5z\nbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNs\nb3NlKCkgewogICAgICAgIGlmIChfY2FjaGUgPT0gbnVsbCkKICAgICAgICAg\nICAgcmV0dXJuOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9jYWNoZS5j\nbG9zZSgpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUp\nIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKCQl9Cgl9Cgog\nICAgcHVibGljIE1hcCBnZXRBbGwoTGlzdCBrZXlzKSB7CiAgICAgICAgaWYg\nKF9jYWNoZSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAg\nICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gX2NhY2hlLmdldEFsbChr\nZXlzKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQog\nICAgfQp9Cg==\n","encoding":"base64"}

