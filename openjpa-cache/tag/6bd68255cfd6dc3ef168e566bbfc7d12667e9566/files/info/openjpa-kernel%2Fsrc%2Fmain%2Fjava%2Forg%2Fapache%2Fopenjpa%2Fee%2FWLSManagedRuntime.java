{"sha":"e3faf06ad7b9f44908245a9410f71bddc0ba44c8","node_id":"MDQ6QmxvYjIwNjM2NDplM2ZhZjA2YWQ3YjlmNDQ5MDgyNDVhOTQxMGY3MWJkZGMwYmE0NGM4","size":3203,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e3faf06ad7b9f44908245a9410f71bddc0ba44c8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZWU7CgppbXBvcnQgamF2YS5s\nYW5nLnJlZmxlY3QuTWV0aG9kOwppbXBvcnQgamF2YXgudHJhbnNhY3Rpb24u\nVHJhbnNhY3Rpb247CmltcG9ydCBqYXZheC50cmFuc2FjdGlvbi5UcmFuc2Fj\ndGlvbk1hbmFnZXI7CgovKioKICoge0BsaW5rIE1hbmFnZWRSdW50aW1lfSBp\nbXBsZW1lbnRhdGlvbiB0aGF0IGRpcmVjdGx5IGFjY2Vzc2VzIHRoZQogKiB0\ncmFuc2FjdGlvbiBtYW5hZ2VyIHZpYSBXZWJMb2dpYyBTZXJ2ZXIgaGVscGVy\nIGNsYXNzZXMuCiAqCiAqIEBhdXRob3IgQXJ1bmFiaCBIYXphcmlrYSwgUGF0\ncmljayBMaW5za2V5CiAqLwpwdWJsaWMgY2xhc3MgV0xTTWFuYWdlZFJ1bnRp\nbWUgZXh0ZW5kcyBBYnN0cmFjdE1hbmFnZWRSdW50aW1lCiAgICBpbXBsZW1l\nbnRzIE1hbmFnZWRSdW50aW1lIHsKCiAgICBwcml2YXRlIGZpbmFsIE1ldGhv\nZCBfdHhIZWxwZXJNZXRoOwogICAgcHJpdmF0ZSBmaW5hbCBNZXRob2QgX3R4\nTWFuYWdlck1ldGg7CgogICAgcHVibGljIFdMU01hbmFnZWRSdW50aW1lKCkK\nICAgICAgICB0aHJvd3MgQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiwgTm9TdWNo\nTWV0aG9kRXhjZXB0aW9uIHsKICAgICAgICBDbGFzcyB0eEhlbHBlciA9IENs\nYXNzLmZvck5hbWUKICAgICAgICAgICAgKCJ3ZWJsb2dpYy50cmFuc2FjdGlv\nbi5UcmFuc2FjdGlvbkhlbHBlciIpOwogICAgICAgIF90eEhlbHBlck1ldGgg\nPSB0eEhlbHBlci5nZXRNZXRob2QoImdldFRyYW5zYWN0aW9uSGVscGVyIiwg\nbnVsbCk7CiAgICAgICAgX3R4TWFuYWdlck1ldGggPSB0eEhlbHBlci5nZXRN\nZXRob2QoImdldFRyYW5zYWN0aW9uTWFuYWdlciIsIG51bGwpOwogICAgfQoK\nICAgIHB1YmxpYyBUcmFuc2FjdGlvbk1hbmFnZXIgZ2V0VHJhbnNhY3Rpb25N\nYW5hZ2VyKCkKICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICAv\nLyByZXR1cm4gVHJhbnNhY3Rpb25IZWxwZXIuZ2V0VHJhbnNhY3Rpb25IZWxw\nZXIgKCkuCiAgICAgICAgLy8JZ2V0VHJhbnNhY3Rpb25NYW5hZ2VyICgpOwog\nICAgICAgIE9iamVjdCBvID0gX3R4SGVscGVyTWV0aC5pbnZva2UobnVsbCwg\nbnVsbCk7CiAgICAgICAgcmV0dXJuIChUcmFuc2FjdGlvbk1hbmFnZXIpIF90\neE1hbmFnZXJNZXRoLmludm9rZShvLCBudWxsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRSb2xsYmFja09ubHkoVGhyb3dhYmxlIGNhdXNlKQogICAg\nICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIFRyYW5zYWN0aW9uIHRy\nYW5zYWN0aW9uID0gZ2V0VHJhbnNhY3Rpb25NYW5hZ2VyKCkuZ2V0VHJhbnNh\nY3Rpb24oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyB0cnkgdG8g\ndXNlIHJlZmxlY3Rpb24gdG8gY2FsbCB0aGUgc2V0Um9sbGJhY2tPbmx5KFRo\ncm93YWJsZSkKICAgICAgICAgICAgLy8gbWV0aG9kIGluIHdlYmxvZ2ljLnRy\nYW5zYWN0aW9uLlRyYW5zYWN0aW9uCiAgICAgICAgICAgIHRyYW5zYWN0aW9u\nLmdldENsYXNzKCkuCiAgICAgICAgICAgICAgICBnZXRNZXRob2QoInNldFJv\nbGxiYWNrT25seSIsIG5ldyBDbGFzc1tdIHsgVGhyb3dhYmxlLmNsYXNzIH0p\nLgogICAgICAgICAgICAgICAgICAgIGludm9rZSh0cmFuc2FjdGlvbiwgbmV3\nIE9iamVjdFtdIHsgY2F1c2UgfSk7CiAgICAgICAgfSBjYXRjaCAoVGhyb3dh\nYmxlIGUpIHsKICAgICAgICAgICAgLy8gc29tZSBwcm9ibGVtIG9jY3VycmVk\nOiBmYWxsIGJhY2sgdG8gdGhlIHRyYWRpdGlvbmFsIGNhbGwKICAgICAgICAg\nICAgdHJhbnNhY3Rpb24uc2V0Um9sbGJhY2tPbmx5KCk7CiAgICAgICAgfQog\nICAgfQoKICAgIHB1YmxpYyBUaHJvd2FibGUgZ2V0Um9sbGJhY2tDYXVzZSgp\nCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgVHJhbnNhY3Rp\nb24gdHJhbnNhY3Rpb24gPSBnZXRUcmFuc2FjdGlvbk1hbmFnZXIoKS5nZXRU\ncmFuc2FjdGlvbigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIHRy\neSB0byB1c2UgcmVmbGVjdGlvbiB0byBjYWxsIHRoZSBnZXRSb2xsYmFja1Jl\nYXNvbigpCiAgICAgICAgICAgIC8vIG1ldGhvZCBpbiB3ZWJsb2dpYy50cmFu\nc2FjdGlvbi5UcmFuc2FjdGlvbgogICAgICAgICAgICByZXR1cm4gKFRocm93\nYWJsZSkgdHJhbnNhY3Rpb24uZ2V0Q2xhc3MoKS4KICAgICAgICAgICAgICAg\nIGdldE1ldGhvZCgiZ2V0Um9sbGJhY2tSZWFzb24iLCBuZXcgQ2xhc3NbMF0p\nLgogICAgICAgICAgICAgICAgICAgIGludm9rZSh0cmFuc2FjdGlvbiwgbmV3\nIE9iamVjdFswXSk7CiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIGUpIHsK\nICAgICAgICAgICAgLy8gc29tZSBwcm9ibGVtIG9jY3VycmVkOiBqdXN0IHJl\ndHVybiBudWxsCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0K\nICAgIH0KfQo=\n","encoding":"base64"}

