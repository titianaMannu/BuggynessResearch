{"sha":"2f7ffecf94568f4bce117064f081b38af4182159","node_id":"MDQ6QmxvYjIwNjM2NDoyZjdmZmVjZjk0NTY4ZjRiY2UxMTcwNjRmMDgxYjM4YWY0MTgyMTU5","size":3441,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2f7ffecf94568f4bce117064f081b38af4182159","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZXZlbnQ7CgppbXBvcnQgamF2\nYS5pby5JT0V4Y2VwdGlvbjsKaW1wb3J0IGphdmEuaW8uT2JqZWN0SW5wdXQ7\nCmltcG9ydCBqYXZhLmlvLk9iamVjdE91dHB1dDsKaW1wb3J0IGphdmEubGFu\nZy5yZWZsZWN0Lk1ldGhvZDsKaW1wb3J0IGphdmEuc2VjdXJpdHkuQWNjZXNz\nQ29udHJvbGxlcjsKaW1wb3J0IGphdmEuc2VjdXJpdHkuUHJpdmlsZWdlZEFj\ndGlvbkV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGli\nLnV0aWwuSjJEb1ByaXZIZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnV0aWwuVXNlckV4Y2VwdGlvbjsKCi8qKgogKiBQZXJmb3JtcyBhIGNh\nbGxiYWNrIG1ldGhvZCBvbiBhIGNhY2hlZCBiZWFuIGluc3RhbmNlLgogKgog\nKiBAYXV0aG9yIFN0ZXZlIEtpbQogKi8KcHVibGljIGNsYXNzIEJlYW5MaWZl\nY3ljbGVDYWxsYmFja3MKICAgIGV4dGVuZHMgTWV0aG9kTGlmZWN5Y2xlQ2Fs\nbGJhY2tzIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIg\nX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKEJlYW5MaWZl\nY3ljbGVDYWxsYmFja3MuY2xhc3MpOwoKICAgIHByaXZhdGUgdHJhbnNpZW50\nIE9iamVjdCBfbGlzdGVuZXI7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rv\nci4gTWFrZSB0aGUgY2FsbGJhY2sgb24gYW4gaW5zdGFuY2Ugb2YgdGhlIGdp\ndmVuIHR5cGUuCiAgICAgKgogICAgICogQGFyZyB3aGV0aGVyIGFub3RoZXIg\nYXJndW5lbnQgaXMgZXhwZWN0ZWQgc3VjaCBhcyBBZnRlckRldGFjaAogICAg\nICovCiAgICBwdWJsaWMgQmVhbkxpZmVjeWNsZUNhbGxiYWNrcyhDbGFzcyBj\nbHMsIFN0cmluZyBtZXRob2QsIGJvb2xlYW4gYXJnLAogICAgICAgIENsYXNz\nIHR5cGUpIHsKICAgICAgICB0aGlzKGNscywgZ2V0TWV0aG9kKGNscywgbWV0\naG9kLCBhcmcgPyBuZXcgQ2xhc3NbXXsgT2JqZWN0LmNsYXNzLAogICAgICAg\nICAgICB0eXBlIH0gOiBuZXcgQ2xhc3NbXXsgdHlwZSB9KSwgYXJnKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLiBNYWtlIHRoZSBjYWxs\nYmFjayBvbiBhbiBpbnN0YW5jZSBvZiB0aGUgZ2l2ZW4gdHlwZS4KICAgICAq\nLwogICAgcHVibGljIEJlYW5MaWZlY3ljbGVDYWxsYmFja3MoQ2xhc3MgY2xz\nLCBNZXRob2QgbWV0aG9kLCBib29sZWFuIGFyZykgewogICAgICAgIHN1cGVy\nKG1ldGhvZCwgYXJnKTsKICAgICAgICBfbGlzdGVuZXIgPSBuZXdMaXN0ZW5l\ncihjbHMpOwogICAgfQogICAgCiAgICBwcml2YXRlIE9iamVjdCBuZXdMaXN0\nZW5lcihDbGFzcyBjbHMpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBy\nZXR1cm4gQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAg\nICAgICAgICBKMkRvUHJpdkhlbHBlci5uZXdJbnN0YW5jZUFjdGlvbihjbHMp\nKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAg\nICBpZiAodCBpbnN0YW5jZW9mIFByaXZpbGVnZWRBY3Rpb25FeGNlcHRpb24p\nCiAgICAgICAgICAgICAgICB0ID0gKChQcml2aWxlZ2VkQWN0aW9uRXhjZXB0\naW9uKSB0KS5nZXRFeGNlcHRpb24oKTsgICAgICAgICAgICAKICAgICAgICAg\nICAgdGhyb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoImJlYW4tY29u\nc3RydWN0b3IiLAogICAgICAgICAgICAgICAgY2xzLmdldE5hbWUoKSksIHQp\nOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBtYWtlQ2FsbGJh\nY2soT2JqZWN0IG9iaiwgT2JqZWN0IHJlbCwgaW50IGV2ZW50VHlwZSkKICAg\nICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBNZXRob2QgY2FsbGJh\nY2sgPSBnZXRDYWxsYmFja01ldGhvZCgpOwogICAgICAgIGlmICghY2FsbGJh\nY2suaXNBY2Nlc3NpYmxlKCkpCiAgICAgICAgICAgIEFjY2Vzc0NvbnRyb2xs\nZXIuZG9Qcml2aWxlZ2VkKEoyRG9Qcml2SGVscGVyLnNldEFjY2Vzc2libGVB\nY3Rpb24oCiAgICAgICAgICAgICAgICBjYWxsYmFjaywgdHJ1ZSkpOwogICAg\nICAgIGlmIChyZXF1aXJlc0FyZ3VtZW50KCkpCiAgICAgICAgICAgIGNhbGxi\nYWNrLmludm9rZShfbGlzdGVuZXIsIG5ldyBPYmplY3RbXXsgb2JqLCByZWwg\nfSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjYWxsYmFjay5pbnZva2Uo\nX2xpc3RlbmVyLCBuZXcgT2JqZWN0W117IG9iaiB9KTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCByZWFkRXh0ZXJuYWwoT2JqZWN0SW5wdXQgaW4pCiAgICAg\nICAgdGhyb3dzIElPRXhjZXB0aW9uLCBDbGFzc05vdEZvdW5kRXhjZXB0aW9u\nIHsKICAgICAgICBzdXBlci5yZWFkRXh0ZXJuYWwoaW4pOwogICAgICAgIENs\nYXNzIGNscyA9IChDbGFzcykgaW4ucmVhZE9iamVjdCgpOwogICAgICAgIF9s\naXN0ZW5lciA9IG5ld0xpc3RlbmVyKGNscyk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgd3JpdGVFeHRlcm5hbChPYmplY3RPdXRwdXQgb3V0KQogICAgICAg\nIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgc3VwZXIud3JpdGVFeHRl\ncm5hbChvdXQpOwogICAgICAgIG91dC53cml0ZU9iamVjdChfbGlzdGVuZXIu\nZ2V0Q2xhc3MoKSk7CiAgICB9Cn0K\n","encoding":"base64"}

