{"sha":"ce3f238451a0561aa9932695ad59d2dd70cc80c9","node_id":"MDQ6QmxvYjIwNjM2NDpjZTNmMjM4NDUxYTA1NjFhYTk5MzI2OTVhZDU5ZDJkZDcwY2M4MGM5","size":8651,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ce3f238451a0561aa9932695ad59d2dd70cc80c9","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEudXRpbC5CaXRTZXQ7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmVu\naGFuY2UuUGVyc2lzdGVuY2VDYXBhYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFEYXRhOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLm1ldGEuVmFsdWVNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS51dGlsLkFwcGxpY2F0aW9uSWRzOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnV0aWwuSW50ZXJuYWxFeGNlcHRpb247CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEudXRpbC5PcHRpbWlzdGljRXhjZXB0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuSW1wbEhlbHBlcjsKCi8q\nKgogKiBIYW5kbGVzIGF0dGFjaGluZyBpbnN0YW5jZXMgd2l0aCBkZXRhY2hl\nZCBzdGF0ZS4KICoKICogQG5vamF2YWRvYwogKiBAYXV0aG9yIE1hcmMgUHJ1\nZCdob21tZWF1eAogKi8KY2xhc3MgRGV0YWNoZWRTdGF0ZUF0dGFjaFN0cmF0\nZWd5CiAgICBleHRlbmRzIEF0dGFjaFN0cmF0ZWd5IHsKCiAgICBwcml2YXRl\nIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQ\nYWNrYWdlCiAgICAgICAgKERldGFjaGVkU3RhdGVBdHRhY2hTdHJhdGVneS5j\nbGFzcyk7CgogICAgcHJvdGVjdGVkIE9iamVjdCBnZXREZXRhY2hlZE9iamVj\ndElkKEF0dGFjaE1hbmFnZXIgbWFuYWdlciwKICAgICAgICBPYmplY3QgdG9B\ndHRhY2gpIHsKICAgICAgICBpZiAodG9BdHRhY2ggPT0gbnVsbCkKICAgICAg\nICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgIEJyb2tlciBicm9rZXIgPSBt\nYW5hZ2VyLmdldEJyb2tlcigpOwogICAgICAgIFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYyA9IEltcGxIZWxwZXIudG9QZXJzaXN0ZW5jZUNhcGFibGUodG9BdHRh\nY2gsCiAgICAgICAgICAgIGJyb2tlci5nZXRDb25maWd1cmF0aW9uKCkpOwog\nICAgICAgIENsYXNzTWV0YURhdGEgbWV0YSA9IGJyb2tlci5nZXRDb25maWd1\ncmF0aW9uKCkuCiAgICAgICAgICAgIGdldE1ldGFEYXRhUmVwb3NpdG9yeUlu\nc3RhbmNlKCkuZ2V0TWV0YURhdGEoCiAgICAgICAgICAgICAgICBJbXBsSGVs\ncGVyLmdldE1hbmFnZWRJbnN0YW5jZSh0b0F0dGFjaCkuZ2V0Q2xhc3MoKSwK\nICAgICAgICAgICAgICAgIGJyb2tlci5nZXRDbGFzc0xvYWRlcigpLCB0cnVl\nKTsKCiAgICAgICAgc3dpdGNoIChtZXRhLmdldElkZW50aXR5VHlwZSgpKSB7\nCiAgICAgICAgICAgIGNhc2UgQ2xhc3NNZXRhRGF0YS5JRF9EQVRBU1RPUkU6\nCiAgICAgICAgICAgICAgICBPYmplY3RbXSBzdGF0ZSA9IChPYmplY3RbXSkg\ncGMucGNHZXREZXRhY2hlZFN0YXRlKCk7CiAgICAgICAgICAgICAgICBpZiAo\nc3RhdGUgPT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVs\nbDsKICAgICAgICAgICAgICAgIHJldHVybiBicm9rZXIKICAgICAgICAgICAg\nICAgICAgICAubmV3T2JqZWN0SWQodG9BdHRhY2guZ2V0Q2xhc3MoKSwgc3Rh\ndGVbMF0pOwogICAgICAgICAgICBjYXNlIENsYXNzTWV0YURhdGEuSURfQVBQ\nTElDQVRJT046CiAgICAgICAgICAgICAgICByZXR1cm4gQXBwbGljYXRpb25J\nZHMuY3JlYXRlKHBjLCBtZXRhKTsKICAgICAgICAgICAgZGVmYXVsdDoKICAg\nICAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEV4Y2VwdGlvbigpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBwcm92aWRlRmll\nbGQoT2JqZWN0IHRvQXR0YWNoLCBTdGF0ZU1hbmFnZXJJbXBsIHNtLAogICAg\nICAgIGludCBmaWVsZCkgewogICAgICAgIHNtLnByb3ZpZGVGaWVsZChJbXBs\nSGVscGVyLnRvUGVyc2lzdGVuY2VDYXBhYmxlKHRvQXR0YWNoLAogICAgICAg\nICAgICBzbS5nZXRDb250ZXh0KCkuZ2V0Q29uZmlndXJhdGlvbigpKSwgdGhp\ncywgZmllbGQpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgYXR0YWNoKEF0\ndGFjaE1hbmFnZXIgbWFuYWdlciwgT2JqZWN0IHRvQXR0YWNoLAogICAgICAg\nIENsYXNzTWV0YURhdGEgbWV0YSwgUGVyc2lzdGVuY2VDYXBhYmxlIGludG8s\nIE9wZW5KUEFTdGF0ZU1hbmFnZXIgb3duZXIsCiAgICAgICAgVmFsdWVNZXRh\nRGF0YSBvd25lck1ldGEsIGJvb2xlYW4gZXhwbGljaXQpIHsKICAgICAgICBC\ncm9rZXJJbXBsIGJyb2tlciA9IG1hbmFnZXIuZ2V0QnJva2VyKCk7CiAgICAg\nICAgUGVyc2lzdGVuY2VDYXBhYmxlIHBjID0gSW1wbEhlbHBlci50b1BlcnNp\nc3RlbmNlQ2FwYWJsZSh0b0F0dGFjaCwKICAgICAgICAgICAgbWFuYWdlci5n\nZXRCcm9rZXIoKS5nZXRDb25maWd1cmF0aW9uKCkpOwoKICAgICAgICBPYmpl\nY3RbXSBzdGF0ZSA9IChPYmplY3RbXSkgcGMucGNHZXREZXRhY2hlZFN0YXRl\nKCk7CiAgICAgICAgYm9vbGVhbiBlbWJlZGRlZCA9IG93bmVyTWV0YSAhPSBu\ndWxsICYmIG93bmVyTWV0YS5pc0VtYmVkZGVkUEMoKTsKICAgICAgICBpbnQg\nb2Zmc2V0OwogICAgICAgIFN0YXRlTWFuYWdlckltcGwgc207CgogICAgICAg\nIC8vIHN0YXRlID09IG51bGwgbWVhbnMgdGhpcyBpcyBhIG5ldyBpbnN0YW5j\nZTsgYWxzbywgaWYgdGhlCiAgICAgICAgLy8gc3RhdGUgbWFuYWdlciBmb3Ig\ndGhlIGVtYmVkZGVkIGluc3RhbmNlIGlzIG51bGwsIHRoZW4KICAgICAgICAv\nLyBpdCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhIG5ldyBpbnN0YW5jZSAoc2lu\nY2UgdGhlCiAgICAgICAgLy8gbmV3bHkgcGVyc2lzdGVkIG93bmVyIG1heSBj\ncmVhdGUgYSBuZXcgZW1iZWRkZWQgaW5zdGFuY2UKICAgICAgICAvLyBpbiB0\naGUgY29uc3RydWN0b3IpOyBmaXhlZCBidWcgIzEwNzUuCiAgICAgICAgLy8g\nYWxzbywgaWYgdGhlIHVzZXIgaGFzIGF0dGFjaGVkIGEgZGV0YWNoZWQgb2Jq\nIGZyb20gc29tZXdoZXJlCiAgICAgICAgLy8gZWxzZSBpbiB0aGUgZ3JhcGgg\ndG8gYW4gZW1iZWRkZWQgZmllbGQgdGhhdCB3YXMgcHJldmlvdXNseSBudWxs\nLAogICAgICAgIC8vIGNvcHkgaW50byBhIG5ldyBlbWJlZGRlZCBpbnN0YW5j\nZQogICAgICAgIGlmIChlbWJlZGRlZCAmJiAoc3RhdGUgPT0gbnVsbCB8fCBp\nbnRvID09IG51bGwKICAgICAgICAgICAgfHwgYnJva2VyLmdldFN0YXRlTWFu\nYWdlcihpbnRvKSA9PSBudWxsKSkgewogICAgICAgICAgICBpZiAoaW50byA9\nPSBudWxsKQogICAgICAgICAgICAgICAgaW50byA9IHBjLnBjTmV3SW5zdGFu\nY2UobnVsbCwgZmFsc2UpOwogICAgICAgICAgICBzbSA9IChTdGF0ZU1hbmFn\nZXJJbXBsKSBicm9rZXIuZW1iZWQoaW50bywgbnVsbCwgb3duZXIsIG93bmVy\nTWV0YSk7CiAgICAgICAgICAgIGludG8gPSBzbS5nZXRQZXJzaXN0ZW5jZUNh\ncGFibGUoKTsKICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09IG51bGwpIHsK\nICAgICAgICAgICAgc20gPSBwZXJzaXN0KG1hbmFnZXIsIHBjLCBtZXRhLCBB\ncHBsaWNhdGlvbklkcy5jcmVhdGUocGMsIG1ldGEpLAogICAgICAgICAgICAg\nICAgZXhwbGljaXQpOwogICAgICAgICAgICBpbnRvID0gc20uZ2V0UGVyc2lz\ndGVuY2VDYXBhYmxlKCk7CiAgICAgICAgfSBlbHNlIGlmICghZW1iZWRkZWQg\nJiYgaW50byA9PSBudWxsKSB7CiAgICAgICAgICAgIE9iamVjdCBpZCA9IGdl\ndERldGFjaGVkT2JqZWN0SWQobWFuYWdlciwgcGMpOwogICAgICAgICAgICBp\nZiAoaWQgIT0gbnVsbCkKICAgICAgICAgICAgICAgIGludG8gPQogICAgICAg\nICAgICAgICAgICAgIEltcGxIZWxwZXIudG9QZXJzaXN0ZW5jZUNhcGFibGUo\nYnJva2VyLmZpbmQoaWQsIHRydWUsIG51bGwpLAogICAgICAgICAgICAgICAg\nICAgICAgICBtYW5hZ2VyLmdldEJyb2tlcigpLmdldENvbmZpZ3VyYXRpb24o\nKSk7CiAgICAgICAgICAgIGlmIChpbnRvID09IG51bGwpIHsKICAgICAgICAg\nICAgICAgIC8vIHdlIG1hcmsgb2JqZWN0cyB0aGF0IHdlcmUgbmV3IG9uIGRl\ndGFjaCBieSBwdXR0aW5nIGFuIGVtcHR5CiAgICAgICAgICAgICAgICAvLyBl\neHRyYSBlbGVtZW50IGluIHRoZWlyIGRldGFjaGVkIHN0YXRlIGFycmF5CiAg\nICAgICAgICAgICAgICBvZmZzZXQgPSBtZXRhLmdldElkZW50aXR5VHlwZSgp\nID09IG1ldGEuSURfREFUQVNUT1JFID8gMSA6IDA7CiAgICAgICAgICAgICAg\nICBib29sZWFuIGlzTmV3ID0gc3RhdGUubGVuZ3RoID09IDMgKyBvZmZzZXQ7\nCgogICAgICAgICAgICAgICAgLy8gYXR0ZW1wdGluZyB0byBhdHRhY2ggYW4g\naW5zdGFuY2UgdGhhdCBoYXMgYmVlbiBkZWxldGVkCiAgICAgICAgICAgICAg\nICAvLyB3aWxsIHRocm93IGFuIE9WRSBpZiBpdCB3YXMgbm90IFBORVcgd2hl\nbiBpdCB3YXMgZGV0YWNoZWQKICAgICAgICAgICAgICAgIGlmICghaXNOZXcp\nCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wdGltaXN0aWNFeGNl\ncHRpb24oX2xvYy5nZXQoImF0dGFjaC1kZWxldGVkIiwKICAgICAgICAgICAg\nICAgICAgICAgICAgSW1wbEhlbHBlci5nZXRNYW5hZ2VkSW5zdGFuY2UocGMp\nLmdldENsYXNzKCksIGlkKSkKICAgICAgICAgICAgICAgICAgICAgICAgLnNl\ndEZhaWxlZE9iamVjdChpZCk7CgogICAgICAgICAgICAgICAgLy8gaWYgdGhl\nIGluc3RhbmNlIGRvZXMgbm90IGV4aXN0LCB3ZSBhc3N1bWUgdGhhdCBpdCB3\nYXMKICAgICAgICAgICAgICAgIC8vIG1hZGUgcGVyc2lzdGVudCBpbiBhIG5l\ndyB0cmFuc2FjdGlvbiwgZGV0YWNoZWQsIGFuZCB0aGVuCiAgICAgICAgICAg\nICAgICAvLyB0aGUgdHJhbnNhY3Rpb24gd2FzIHJvbGxlZCBiYWNrOyB0aGUg\nZGFuZ2VyIGlzIHRoYXQKICAgICAgICAgICAgICAgIC8vIHRoZSBpbnN0YW5j\nZSB3YXMgbWFkZSBwZXJzaXN0ZW50LCBkZXRhY2hlZCwgY29tbWl0dGVkLAog\nICAgICAgICAgICAgICAgLy8gYW5kIHRoZW4gZGVsZXRlZCwgYnV0IHRoaXMg\naXMgYW4gdW5jb21tb24gY2FzZQogICAgICAgICAgICAgICAgc20gPSBwZXJz\naXN0KG1hbmFnZXIsIHBjLCBtZXRhLCBpZCwgZXhwbGljaXQpOwogICAgICAg\nICAgICAgICAgaW50byA9IHNtLmdldFBlcnNpc3RlbmNlQ2FwYWJsZSgpOwoK\nICAgICAgICAgICAgICAgIC8vIG51bGxpZnkgdGhlIHN0YXRlLCBzaW5jZSB0\naGUgbmV3IGluc3RhbmNlIHdvbid0IGhhdmUgb25lCiAgICAgICAgICAgICAg\nICBzdGF0ZSA9IG51bGw7CiAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAg\nICAgICAgc20gPSBtYW5hZ2VyLmFzc2VydE1hbmFnZWQoaW50byk7CiAgICAg\nICAgfSBlbHNlCiAgICAgICAgICAgIHNtID0gbWFuYWdlci5hc3NlcnRNYW5h\nZ2VkKGludG8pOwoKICAgICAgICAvLyBtYXJrIHRoYXQgd2UgYXR0YWNoZWQg\ndGhlIGluc3RhbmNlICpiZWZvcmUqIHdlCiAgICAgICAgLy8gZmlsbCBpbiB2\nYWx1ZXMgdG8gYXZvaWQgZW5kbGVzcyByZWN1cnNpb24KICAgICAgICBtYW5h\nZ2VyLnNldEF0dGFjaGVkQ29weShwYywgaW50byk7CiAgICAgICAgbWV0YSA9\nIHNtLmdldE1ldGFEYXRhKCk7CiAgICAgICAgbWFuYWdlci5maXJlQmVmb3Jl\nQXR0YWNoKHBjLCBtZXRhKTsKICAgICAgICBvZmZzZXQgPSBtZXRhLmdldElk\nZW50aXR5VHlwZSgpID09IG1ldGEuSURfREFUQVNUT1JFID8gMSA6IDA7Cgog\nICAgICAgIC8vIGFzc2lnbiB0aGUgZGV0YWNoZWQgcGMgdGhlIHNhbWUgc3Rh\ndGUgbWFuYWdlciBhcyB0aGUgb2JqZWN0IHdlJ3JlCiAgICAgICAgLy8gY29w\neWluZyBpbnRvIGR1cmluZyB0aGUgYXR0YWNoIHByb2Nlc3MKICAgICAgICBw\nYy5wY1JlcGxhY2VTdGF0ZU1hbmFnZXIoc20pOwogICAgICAgIEJpdFNldCBm\naWVsZHMgPSBzdGF0ZSA9PSBudWxsID8gbnVsbCA6IChCaXRTZXQpIHN0YXRl\nWzEgKyBvZmZzZXRdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEZpZWxk\nTWV0YURhdGFbXSBmbWRzID0gbWV0YS5nZXRGaWVsZHMoKTsKICAgICAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBmbWRzLmxlbmd0aDsgaSsrKSB7CiAg\nICAgICAgICAgICAgICAvLyBvbmx5IGF0dGFjaCBmaWVsZHMgaW4gdGhlIEZH\nIG9mIHRoZSBkZXRhY2hlZCBpbnN0YW5jZTsgbmV3CiAgICAgICAgICAgICAg\nICAvLyBpbnN0YW5jZXMgZ2V0IGFsbCB0aGVpciBmaWVsZHMgYXR0YWNoZWQK\nICAgICAgICAgICAgICAgIGlmIChmaWVsZHMgPT0gbnVsbCB8fCBmaWVsZHMu\nZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgIGF0dGFjaEZpZWxkKG1hbmFn\nZXIsIHBjLCBzbSwgZm1kc1tpXSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICAgICAgZmluYWxseSB7CiAgICAgICAgICAgIHBjLnBjUmVw\nbGFjZVN0YXRlTWFuYWdlcihudWxsKTsKICAgICAgICB9CgogICAgICAgIC8v\nIHNldCB0aGUgbmV4dCB2ZXJzaW9uIGZvciBub24tbmV3IGluc3RhbmNlcyB0\naGF0IGFyZSBub3QgZW1iZWRkZWQKICAgICAgICBpZiAoc3RhdGUgIT0gbnVs\nbCAmJiAhZW1iZWRkZWQpIHsKICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRo\nYXQgYWxsIHRoZSBmaWVsZHMgaW4gdGhlIG9yaWdpbmFsIEZHIGFyZSBsb2Fk\nZWQKICAgICAgICAgICAgLy8gYmVmb3JlIHdlIHRyeSB0byBjb21wYXJlIHZl\ncnNpb24KICAgICAgICAgICAgaWYgKGZpZWxkcyAhPSBudWxsICYmICFmaWVs\nZHMuZXF1YWxzKHNtLmdldExvYWRlZCgpKSkgewogICAgICAgICAgICAgICAg\nQml0U2V0IHRvTG9hZCA9IChCaXRTZXQpIGZpZWxkcy5jbG9uZSgpOwogICAg\nICAgICAgICAgICAgdG9Mb2FkLmFuZE5vdChzbS5nZXRMb2FkZWQoKSk7IC8v\nIHNraXAgYWxyZWFkeSBsb2FkZWQgZmllbGRzCiAgICAgICAgICAgICAgICBp\nZiAodG9Mb2FkLmxlbmd0aCgpID4gMCkKICAgICAgICAgICAgICAgICAgICBz\nbS5sb2FkRmllbGRzKHRvTG9hZCwgbnVsbCwgTG9ja0xldmVscy5MT0NLX05P\nTkUsIG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKTsKICAg\nICAgICAgICAgICAgIC8vIyMjIHdlIHNob3VsZCBjYWxjdWxhdGUgbG9jayBs\nZXZlbCBhYm92ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIE9iamVjdCB2\nZXJzaW9uID0gc3RhdGVbb2Zmc2V0XTsKCiAgICAgICAgICAgIFN0b3JlTWFu\nYWdlciBzdG9yZSA9IGJyb2tlci5nZXRTdG9yZU1hbmFnZXIoKTsKICAgICAg\nICAgICAgc3dpdGNoIChzdG9yZS5jb21wYXJlVmVyc2lvbihzbSwgdmVyc2lv\nbiwgc20uZ2V0VmVyc2lvbigpKSkgewogICAgICAgICAgICAgICAgY2FzZSBT\ndG9yZU1hbmFnZXIuVkVSU0lPTl9MQVRFUjoKICAgICAgICAgICAgICAgICAg\nICAvLyB3ZSBoYXZlIGEgbGF0ZXIgdmVyc2lvbjogc2V0IGl0IGludG8gdGhl\nIG9iamVjdC4KICAgICAgICAgICAgICAgICAgICAvLyBsb2NrIHZhbGlkYXRp\nb24gd2lsbCBvY2N1ciBhdCBjb21taXQgdGltZQogICAgICAgICAgICAgICAg\nICAgIHNtLnNldFZlcnNpb24odmVyc2lvbik7CiAgICAgICAgICAgICAgICAg\nICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIFN0b3JlTWFuYWdlci5W\nRVJTSU9OX0VBUkxJRVI6CiAgICAgICAgICAgICAgICBjYXNlIFN0b3JlTWFu\nYWdlci5WRVJTSU9OX0RJRkZFUkVOVDoKICAgICAgICAgICAgICAgICAgICBz\nbS5zZXRWZXJzaW9uKHZlcnNpb24pOwogICAgICAgICAgICAgICAgICAgIHRo\ncm93IG5ldyBPcHRpbWlzdGljRXhjZXB0aW9uKGludG8pOwogICAgICAgICAg\nICAgICAgY2FzZSBTdG9yZU1hbmFnZXIuVkVSU0lPTl9TQU1FOgogICAgICAg\nICAgICAgICAgICAgIC8vIG5vIGFjdGlvbiByZXF1aXJlZAogICAgICAgICAg\nICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAg\nICAgIHJldHVybiBJbXBsSGVscGVyLmdldE1hbmFnZWRJbnN0YW5jZShpbnRv\nKTsKICAgIH0KfQo=\n","encoding":"base64"}

