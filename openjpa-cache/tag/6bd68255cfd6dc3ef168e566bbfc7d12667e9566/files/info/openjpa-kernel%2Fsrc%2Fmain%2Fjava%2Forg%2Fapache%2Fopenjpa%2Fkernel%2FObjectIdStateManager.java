{"sha":"88f713aca5719c511f2e721edb3120648c2cbba2","node_id":"MDQ6QmxvYjIwNjM2NDo4OGY3MTNhY2E1NzE5YzUxMWYyZTcyMWVkYjMxMjA2NDhjMmNiYmEy","size":20802,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/88f713aca5719c511f2e721edb3120648c2cbba2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLk9iamVjdE91dHB1\ndDsKaW1wb3J0IGphdmEubGFuZy5yZWZsZWN0LkZpZWxkOwppbXBvcnQgamF2\nYS5sYW5nLnJlZmxlY3QuTWV0aG9kOwppbXBvcnQgamF2YS5zZWN1cml0eS5B\nY2Nlc3NDb250cm9sbGVyOwppbXBvcnQgamF2YS5zZWN1cml0eS5Qcml2aWxl\nZ2VkQWN0aW9uRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGlsLkJpdFNldDsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5QZXJzaXN0ZW5j\nZUNhcGFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5T\ndGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5j\nZS5SZWZsZWN0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51\ndGlsLkoyRG9Qcml2SGVscGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLm1ldGEuQ2xhc3NNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5tZXRhLkZpZWxkTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubWV0YS5KYXZhVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbWV0YS5WYWx1ZU1ldGFEYXRhOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnV0aWwuR2VuZXJhbEV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS51dGlsLkltcGxIZWxwZXI7CmltcG9ydCBzZXJwLnV0aWwuTnVtYmVy\nczsKCi8qKgogKiBTdGF0ZSBtYW5hZ2VyIHVzZWQgdG8gYWNjZXNzIHN0YXRl\nIG9mIGVtYmVkZGVkIG9iamVjdCBpZCBwcmltYXJ5IGtleSBmaWVsZHMuCiAq\nCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MKICovCnB1Ymxp\nYyBjbGFzcyBPYmplY3RJZFN0YXRlTWFuYWdlcgogICAgaW1wbGVtZW50cyBP\ncGVuSlBBU3RhdGVNYW5hZ2VyIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5h\nbCBCeXRlIFpFUk9fQllURSA9IG5ldyBCeXRlKChieXRlKSAwKTsKICAgIHBy\naXZhdGUgc3RhdGljIGZpbmFsIENoYXJhY3RlciBaRVJPX0NIQVIgPSBuZXcg\nQ2hhcmFjdGVyKChjaGFyKSAwKTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFs\nIERvdWJsZSBaRVJPX0RPVUJMRSA9IG5ldyBEb3VibGUoMCk7CiAgICBwcml2\nYXRlIHN0YXRpYyBmaW5hbCBGbG9hdCBaRVJPX0ZMT0FUID0gbmV3IEZsb2F0\nKDApOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2hvcnQgWkVST19TSE9S\nVCA9IG5ldyBTaG9ydCgoc2hvcnQpIDApOwoKICAgIHByaXZhdGUgT2JqZWN0\nIF9vaWQ7CiAgICBwcml2YXRlIGZpbmFsIE9wZW5KUEFTdGF0ZU1hbmFnZXIg\nX293bmVyOwogICAgcHJpdmF0ZSBmaW5hbCBWYWx1ZU1ldGFEYXRhIF92bWQ7\nCgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvcjsgc3VwcGx5IGVtYmVkZGVk\nIG9iamVjdCBpZCBhbmQgaXRzIG93bmVyLgogICAgICoKICAgICAqIEBwYXJh\nbSBvd25lciBtYXkgYmUgbnVsbAogICAgICovCiAgICBwdWJsaWMgT2JqZWN0\nSWRTdGF0ZU1hbmFnZXIoT2JqZWN0IG9pZCwgT3BlbkpQQVN0YXRlTWFuYWdl\nciBvd25lciwKICAgICAgICBWYWx1ZU1ldGFEYXRhIG93bmVyVmFsKSB7CiAg\nICAgICAgX29pZCA9IG9pZDsKICAgICAgICBfb3duZXIgPSBvd25lcjsKICAg\nICAgICBfdm1kID0gb3duZXJWYWw7CiAgICB9CgogICAgcHVibGljIE9iamVj\ndCBnZXRHZW5lcmljQ29udGV4dCgpIHsKICAgICAgICByZXR1cm4gKF9vd25l\nciA9PSBudWxsKSA/IG51bGwgOiBfb3duZXIuZ2V0R2VuZXJpY0NvbnRleHQo\nKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldFBDUHJpbWFyeUtleShP\nYmplY3Qgb2lkLCBpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgU3RhdGVNYW5hZ2VyIHJlcGxhY2VTdGF0ZU1hbmFnZXIoU3RhdGVNYW5h\nZ2VyIHNtKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRW\nZXJzaW9uKCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldFZlcnNpb24oT2JqZWN0IHZlcnNpb24pIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0RpcnR5KCkgewogICAgICAg\nIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1Ry\nYW5zYWN0aW9uYWwoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoK\nICAgIHB1YmxpYyBib29sZWFuIGlzUGVyc2lzdGVudCgpIHsKICAgICAgICBy\nZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNOZXco\nKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGlzRGVsZXRlZCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNEZXRhY2hlZCgpIHsKICAgICAg\nICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1Zl\ncnNpb25VcGRhdGVSZXF1aXJlZCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNWZXJzaW9uQ2hlY2tSZXF1\naXJlZCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgZGlydHkoU3RyaW5nIGZpZWxkKSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIE9iamVjdCBmZXRjaE9iamVjdElkKCkgewogICAgICAgIHJl\ndHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFjY2Vzc2luZ0Zp\nZWxkKGludCBpZHgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiBzZXJpYWxpemluZygpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9v\nbGVhbiB3cml0ZURldGFjaGVkKE9iamVjdE91dHB1dCBvdXQpCiAgICAgICAg\ndGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBwcm94eURldGFjaGVkRGVzZXJpYWxpemVkKGludCBpZHgpIHsKICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24o\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nQm9vbGVhbkZpZWxk\nKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAgICBib29s\nZWFuIGN1ciwgYm9vbGVhbiBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0dGluZ0NoYXJGaWVsZChQZXJzaXN0ZW5j\nZUNhcGFibGUgcGMsIGludCBpZHgsIGNoYXIgY3VyLAogICAgICAgIGNoYXIg\nbmV4dCwgaW50IHNldCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldHRpbmdCeXRlRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQg\naWR4LCBieXRlIGN1ciwKICAgICAgICBieXRlIG5leHQsIGludCBzZXQpIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nU2hvcnRGaWVs\nZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIHNob3J0IGN1ciwK\nICAgICAgICBzaG9ydCBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0dGluZ0ludEZpZWxkKFBlcnNpc3RlbmNlQ2Fw\nYWJsZSBwYywgaW50IGlkeCwgaW50IGN1ciwKICAgICAgICBpbnQgbmV4dCwg\naW50IHNldCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRp\nbmdMb25nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBs\nb25nIGN1ciwKICAgICAgICBsb25nIG5leHQsIGludCBzZXQpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nRmxvYXRGaWVsZChQZXJz\naXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGZsb2F0IGN1ciwKICAgICAg\nICBmbG9hdCBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0dGluZ0RvdWJsZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYywgaW50IGlkeCwgZG91YmxlIGN1ciwKICAgICAgICBkb3VibGUgbmV4\ndCwgaW50IHNldCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndHRpbmdTdHJpbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBp\nZHgsIFN0cmluZyBjdXIsCiAgICAgICAgU3RyaW5nIG5leHQsIGludCBzZXQp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nT2JqZWN0\nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBPYmplY3Qg\nY3VyLAogICAgICAgIE9iamVjdCBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRCb29sZWFuRmllbGQoUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIGJvb2xlYW4g\nY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRD\naGFyRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBjaGFy\nIGN1cikgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVk\nQnl0ZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgYnl0\nZSBjdXIpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRl\nZFNob3J0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBz\naG9ydCBjdXIpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92\naWRlZEludEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwg\naW50IGN1cikgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3Zp\nZGVkTG9uZ0ZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwg\nbG9uZyBjdXIpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92\naWRlZEZsb2F0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4\nLCBmbG9hdCBjdXIpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBw\ncm92aWRlZERvdWJsZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50\nIGlkeCwKICAgICAgICBkb3VibGUgY3VyKSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgcHJvdmlkZWRTdHJpbmdGaWVsZChQZXJzaXN0ZW5jZUNh\ncGFibGUgcGMsIGludCBpZHgsCiAgICAgICAgU3RyaW5nIGN1cikgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkT2JqZWN0RmllbGQo\nUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIE9iamVj\ndCBjdXIpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiByZXBs\nYWNlQm9vbGVhbkZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlk\neCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIHJlcGxhY2VDaGFy\nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIGJ5dGUgcmVwbGFjZUJ5dGVGaWVsZChQZXJz\naXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICB0aHJvdyBu\nZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAg\nICBwdWJsaWMgc2hvcnQgcmVwbGFjZVNob3J0RmllbGQoUGVyc2lzdGVuY2VD\nYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIGludCByZXBsYWNlSW50RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBp\nbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGxvbmcgcmVwbGFj\nZUxvbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgZmxvYXQgcmVwbGFjZUZsb2F0Rmll\nbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIGRvdWJsZSByZXBsYWNlRG91YmxlRmllbGQoUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyByZXBsYWNlU3RyaW5nRmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIE9iamVjdCByZXBsYWNlT2JqZWN0RmllbGQoUGVyc2lzdGVuY2VDYXBh\nYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIE9wZW5KUEFTdGF0\nZU1hbmFnZXIgaW1wbGVtZW50YXRpb24KICAgIC8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIHZvaWQgaW5pdGlhbGl6\nZShDbGFzcyBmb3JUeXBlLCBQQ1N0YXRlIHN0YXRlKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgbG9hZChGZXRjaENvbmZpZ3VyYXRpb24gZmV0\nY2gpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldE1hbmFn\nZWRJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gX29pZDsKICAgIH0KCiAg\nICBwdWJsaWMgUGVyc2lzdGVuY2VDYXBhYmxlIGdldFBlcnNpc3RlbmNlQ2Fw\nYWJsZSgpIHsKICAgICAgICByZXR1cm4gSW1wbEhlbHBlci50b1BlcnNpc3Rl\nbmNlQ2FwYWJsZShfb2lkLAogICAgICAgICAgICBfdm1kLmdldFJlcG9zaXRv\ncnkoKS5nZXRDb25maWd1cmF0aW9uKCkpOwogICAgfQoKICAgIHB1YmxpYyBD\nbGFzc01ldGFEYXRhIGdldE1ldGFEYXRhKCkgewogICAgICAgIHJldHVybiBf\ndm1kLmdldEVtYmVkZGVkTWV0YURhdGEoKTsKICAgIH0KCiAgICBwdWJsaWMg\nT3BlbkpQQVN0YXRlTWFuYWdlciBnZXRPd25lcigpIHsKICAgICAgICByZXR1\ncm4gX293bmVyOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZU1ldGFEYXRhIGdl\ndE93bmVyTWV0YURhdGEoKSB7CiAgICAgICAgcmV0dXJuIF92bWQ7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gaXNFbWJlZGRlZCgpIHsKICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0ZsdXNo\nZWQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGlzRmx1c2hlZERpcnR5KCkgewogICAgICAgIHJldHVybiBm\nYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1Byb3Zpc2lvbmFs\nKCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMg\nQml0U2V0IGdldExvYWRlZCgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nQml0U2V0IGdldERpcnR5KCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBC\naXRTZXQgZ2V0Rmx1c2hlZCgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nQml0U2V0IGdldFVubG9hZGVkKEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgbmV3UHJveHkoaW50\nIGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBuZXdG\naWVsZFByb3h5KGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGlzRGVmYXVsdFZhbHVlKGludCBmaWVsZCkgewogICAgICAg\nIE9iamVjdCB2YWwgPSBnZXRWYWx1ZShmaWVsZCk7CiAgICAgICAgaWYgKHZh\nbCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgICAg\nRmllbGRNZXRhRGF0YSBmbWQgPSBnZXRNZXRhRGF0YSgpLmdldEZpZWxkKGZp\nZWxkKTsKICAgICAgICBzd2l0Y2ggKGZtZC5nZXREZWNsYXJlZFR5cGVDb2Rl\nKCkpIHsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQk9PTEVBTjoKICAg\nICAgICAgICAgICAgIHJldHVybiBCb29sZWFuLkZBTFNFLmVxdWFscyh2YWwp\nOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DSEFSOgogICAgICAgICAg\nICAgICAgcmV0dXJuICgoQ2hhcmFjdGVyKSB2YWwpLmNoYXJWYWx1ZSgpID09\nIDA7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZVEU6CiAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLkRPVUJMRToKICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklO\nVDoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTE9ORzoKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuU0hPUlQ6CiAgICAgICAgICAgICAgICByZXR1\ncm4gKChOdW1iZXIpIHZhbCkuaW50VmFsdWUoKSA9PSAwOwogICAgICAgICAg\nICBjYXNlIEphdmFUeXBlcy5TVFJJTkc6CiAgICAgICAgICAgICAgICByZXR1\ncm4gIiIuZXF1YWxzKHZhbCk7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAg\nICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBTdG9yZUNvbnRleHQgZ2V0Q29udGV4dCgpIHsKICAgICAgICBy\nZXR1cm4gKF9vd25lciA9PSBudWxsKSA/IG51bGwgOiBfb3duZXIuZ2V0Q29u\ndGV4dCgpOwogICAgfQoKICAgIHB1YmxpYyBQQ1N0YXRlIGdldFBDU3RhdGUo\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRPYmplY3RJ\nZCgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRPYmplY3RJZChPYmplY3Qgb2lkKSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gYXNzaWduT2JqZWN0SWQoYm9vbGVhbiBmbHVz\naCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0SWQoKSB7\nCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIE9iamVj\ndCBnZXRMb2NrKCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldExvY2soT2JqZWN0IGxvY2spIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROZXh0VmVyc2lvbihPYmplY3QgdmVy\nc2lvbikgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0SW1w\nbERhdGEoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVi\nbGljIE9iamVjdCBzZXRJbXBsRGF0YShPYmplY3QgZGF0YSwgYm9vbGVhbiBj\nYWNoZWFibGUpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBp\nc0ltcGxEYXRhQ2FjaGVhYmxlKCkgewogICAgICAgIHJldHVybiBmYWxzZTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldEltcGxEYXRhKGludCBmaWVs\nZCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3Qgc2V0SW1wbERhdGEoaW50IGZpZWxkLCBPYmplY3QgZGF0YSkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzSW1wbERhdGFDYWNo\nZWFibGUoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAg\nfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0SW50ZXJtZWRpYXRlKGludCBmaWVs\nZCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldEludGVybWVkaWF0ZShpbnQgZmllbGQsIE9iamVjdCBkYXRhKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgcmVtb3ZlZChpbnQgZmll\nbGQsIE9iamVjdCByZW1vdmVkLCBib29sZWFuIGtleSkgewogICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGJlZm9yZVJlZnJlc2goYm9vbGVhbiBh\nbGwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBkaXJ0eShpbnQg\nZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUJv\nb2xlYW4oaW50IGZpZWxkLCBib29sZWFuIGV4dFZhbCkgewogICAgICAgIHNl\ndFZhbHVlKGZpZWxkLCAoZXh0VmFsKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xl\nYW4uRkFMU0UsIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3Jl\nQnl0ZShpbnQgZmllbGQsIGJ5dGUgZXh0VmFsKSB7CiAgICAgICAgc2V0VmFs\ndWUoZmllbGQsIG5ldyBCeXRlKGV4dFZhbCksIHRydWUpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHN0b3JlQ2hhcihpbnQgZmllbGQsIGNoYXIgZXh0VmFs\nKSB7CiAgICAgICAgc2V0VmFsdWUoZmllbGQsIG5ldyBDaGFyYWN0ZXIoZXh0\nVmFsKSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVJbnQo\naW50IGZpZWxkLCBpbnQgZXh0VmFsKSB7CiAgICAgICAgc2V0VmFsdWUoZmll\nbGQsIE51bWJlcnMudmFsdWVPZihleHRWYWwpLCB0cnVlKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzdG9yZVNob3J0KGludCBmaWVsZCwgc2hvcnQgZXh0\nVmFsKSB7CiAgICAgICAgc2V0VmFsdWUoZmllbGQsIG5ldyBTaG9ydChleHRW\nYWwpLCB0cnVlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUxvbmco\naW50IGZpZWxkLCBsb25nIGV4dFZhbCkgewogICAgICAgIHNldFZhbHVlKGZp\nZWxkLCBOdW1iZXJzLnZhbHVlT2YoZXh0VmFsKSwgdHJ1ZSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVGbG9hdChpbnQgZmllbGQsIGZsb2F0IGV4\ndFZhbCkgewogICAgICAgIHNldFZhbHVlKGZpZWxkLCBuZXcgRmxvYXQoZXh0\nVmFsKSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVEb3Vi\nbGUoaW50IGZpZWxkLCBkb3VibGUgZXh0VmFsKSB7CiAgICAgICAgc2V0VmFs\ndWUoZmllbGQsIG5ldyBEb3VibGUoZXh0VmFsKSwgdHJ1ZSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVTdHJpbmcoaW50IGZpZWxkLCBTdHJpbmcg\nZXh0VmFsKSB7CiAgICAgICAgc2V0VmFsdWUoZmllbGQsIGV4dFZhbCwgZXh0\nVmFsICE9IG51bGwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlT2Jq\nZWN0KGludCBmaWVsZCwgT2JqZWN0IGV4dFZhbCkgewogICAgICAgIHNldFZh\nbHVlKGZpZWxkLCBleHRWYWwsIGV4dFZhbCAhPSBudWxsKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzdG9yZShpbnQgZmllbGQsIE9iamVjdCBleHRWYWwp\nIHsKICAgICAgICBib29sZWFuIGZvcmNlSW5zdCA9IHRydWU7CiAgICAgICAg\naWYgKGV4dFZhbCA9PSBudWxsKSB7CiAgICAgICAgICAgIGV4dFZhbCA9IGdl\ndERlZmF1bHRWYWx1ZShmaWVsZCk7CiAgICAgICAgICAgIGZvcmNlSW5zdCA9\nIGZhbHNlOwogICAgICAgIH0KICAgICAgICBzZXRWYWx1ZShmaWVsZCwgZXh0\nVmFsLCBmb3JjZUluc3QpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3Jl\nQm9vbGVhbkZpZWxkKGludCBmaWVsZCwgYm9vbGVhbiBleHRWYWwpIHsKICAg\nICAgICBzdG9yZUJvb2xlYW4oZmllbGQsIGV4dFZhbCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc3RvcmVCeXRlRmllbGQoaW50IGZpZWxkLCBieXRlIGV4\ndFZhbCkgewogICAgICAgIHN0b3JlQnl0ZShmaWVsZCwgZXh0VmFsKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUNoYXJGaWVsZChpbnQgZmllbGQs\nIGNoYXIgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVDaGFyKGZpZWxkLCBleHRW\nYWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlSW50RmllbGQoaW50\nIGZpZWxkLCBpbnQgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVJbnQoZmllbGQs\nIGV4dFZhbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVTaG9ydEZp\nZWxkKGludCBmaWVsZCwgc2hvcnQgZXh0VmFsKSB7CiAgICAgICAgc3RvcmVT\naG9ydChmaWVsZCwgZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\ndG9yZUxvbmdGaWVsZChpbnQgZmllbGQsIGxvbmcgZXh0VmFsKSB7CiAgICAg\nICAgc3RvcmVMb25nKGZpZWxkLCBleHRWYWwpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHN0b3JlRmxvYXRGaWVsZChpbnQgZmllbGQsIGZsb2F0IGV4dFZh\nbCkgewogICAgICAgIHN0b3JlRmxvYXQoZmllbGQsIGV4dFZhbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc3RvcmVEb3VibGVGaWVsZChpbnQgZmllbGQs\nIGRvdWJsZSBleHRWYWwpIHsKICAgICAgICBzdG9yZURvdWJsZShmaWVsZCwg\nZXh0VmFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZVN0cmluZ0Zp\nZWxkKGludCBmaWVsZCwgU3RyaW5nIGV4dFZhbCkgewogICAgICAgIHN0b3Jl\nU3RyaW5nKGZpZWxkLCBleHRWYWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHN0b3JlT2JqZWN0RmllbGQoaW50IGZpZWxkLCBPYmplY3QgZXh0VmFsKSB7\nCiAgICAgICAgc3RvcmVPYmplY3QoZmllbGQsIGV4dFZhbCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVGaWVsZChpbnQgZmllbGQsIE9iamVjdCB2\nYWx1ZSkgewogICAgICAgIHN0b3JlKGZpZWxkLCB2YWx1ZSk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gZmV0Y2hCb29sZWFuKGludCBmaWVsZCkgewog\nICAgICAgIHJldHVybiAoKEJvb2xlYW4pIGdldFZhbHVlKGZpZWxkKSkuYm9v\nbGVhblZhbHVlKCk7CiAgICB9CgogICAgcHVibGljIGJ5dGUgZmV0Y2hCeXRl\nKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAoKE51bWJlcikgZ2V0VmFs\ndWUoZmllbGQpKS5ieXRlVmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgY2hh\nciBmZXRjaENoYXIoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuICgoQ2hh\ncmFjdGVyKSBnZXRWYWx1ZShmaWVsZCkpLmNoYXJWYWx1ZSgpOwogICAgfQoK\nICAgIHB1YmxpYyBzaG9ydCBmZXRjaFNob3J0KGludCBmaWVsZCkgewogICAg\nICAgIHJldHVybiAoKE51bWJlcikgZ2V0VmFsdWUoZmllbGQpKS5zaG9ydFZh\nbHVlKCk7CiAgICB9CgogICAgcHVibGljIGludCBmZXRjaEludChpbnQgZmll\nbGQpIHsKICAgICAgICByZXR1cm4gKChOdW1iZXIpIGdldFZhbHVlKGZpZWxk\nKSkuaW50VmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgbG9uZyBmZXRjaExv\nbmcoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuICgoTnVtYmVyKSBnZXRW\nYWx1ZShmaWVsZCkpLmxvbmdWYWx1ZSgpOwogICAgfQoKICAgIHB1YmxpYyBm\nbG9hdCBmZXRjaEZsb2F0KGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAo\nKE51bWJlcikgZ2V0VmFsdWUoZmllbGQpKS5mbG9hdFZhbHVlKCk7CiAgICB9\nCgogICAgcHVibGljIGRvdWJsZSBmZXRjaERvdWJsZShpbnQgZmllbGQpIHsK\nICAgICAgICByZXR1cm4gKChOdW1iZXIpIGdldFZhbHVlKGZpZWxkKSkuZG91\nYmxlVmFsdWUoKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGZldGNoU3Ry\naW5nKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiAoU3RyaW5nKSBnZXRW\nYWx1ZShmaWVsZCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRjaE9i\namVjdChpbnQgZmllbGQpIHsKICAgICAgICByZXR1cm4gZ2V0VmFsdWUoZmll\nbGQpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZmV0Y2goaW50IGZpZWxk\nKSB7CiAgICAgICAgT2JqZWN0IHJldCA9IGdldFZhbHVlKGZpZWxkKTsKICAg\nICAgICBpZiAocmV0ID09IG51bGwpCiAgICAgICAgICAgIHJldCA9IGdldERl\nZmF1bHRWYWx1ZShmaWVsZCk7CiAgICAgICAgcmV0dXJuIHJldDsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBmZXRjaEJvb2xlYW5GaWVsZChpbnQgZmll\nbGQpIHsKICAgICAgICByZXR1cm4gZmV0Y2hCb29sZWFuKGZpZWxkKTsKICAg\nIH0KCiAgICBwdWJsaWMgYnl0ZSBmZXRjaEJ5dGVGaWVsZChpbnQgZmllbGQp\nIHsKICAgICAgICByZXR1cm4gZmV0Y2hCeXRlKGZpZWxkKTsKICAgIH0KCiAg\nICBwdWJsaWMgY2hhciBmZXRjaENoYXJGaWVsZChpbnQgZmllbGQpIHsKICAg\nICAgICByZXR1cm4gZmV0Y2hDaGFyKGZpZWxkKTsKICAgIH0KCiAgICBwdWJs\naWMgc2hvcnQgZmV0Y2hTaG9ydEZpZWxkKGludCBmaWVsZCkgewogICAgICAg\nIHJldHVybiBmZXRjaFNob3J0KGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMg\naW50IGZldGNoSW50RmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJu\nIGZldGNoSW50KGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgbG9uZyBmZXRj\naExvbmdGaWVsZChpbnQgZmllbGQpIHsKICAgICAgICByZXR1cm4gZmV0Y2hM\nb25nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgZmxvYXQgZmV0Y2hGbG9h\ndEZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHJldHVybiBmZXRjaEZsb2F0\nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgZG91YmxlIGZldGNoRG91Ymxl\nRmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoRG91Ymxl\nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGZldGNoU3RyaW5n\nRmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoU3RyaW5n\nKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoT2JqZWN0\nRmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGZldGNoKGZpZWxk\nKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoRmllbGQoaW50IGZp\nZWxkLCBib29sZWFuIHRyYW5zaXRpb25zKSB7CiAgICAgICAgcmV0dXJuIGZl\ndGNoKGZpZWxkKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoSW5p\ndGlhbEZpZWxkKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFJlbW90ZShpbnQgZmllbGQsIE9iamVjdCB2YWx1ZSkgewog\nICAgICAgIHN0b3JlKGZpZWxkLCB2YWx1ZSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgbG9jaygpIHsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB1bmxvY2so\nKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGRlZmF1bHQg\ndmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGJhc2VkIG9uIGl0cyB0eXBlLgog\nICAgICovCiAgICBwcml2YXRlIE9iamVjdCBnZXREZWZhdWx0VmFsdWUoaW50\nIGZpZWxkKSB7CiAgICAgICAgRmllbGRNZXRhRGF0YSBmbWQgPSBnZXRNZXRh\nRGF0YSgpLmdldEZpZWxkKGZpZWxkKTsKICAgICAgICBzd2l0Y2ggKGZtZC5n\nZXREZWNsYXJlZFR5cGVDb2RlKCkpIHsKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuQk9PTEVBTjoKICAgICAgICAgICAgICAgIHJldHVybiBCb29sZWFu\nLkZBTFNFOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CWVRFOgogICAg\nICAgICAgICAgICAgcmV0dXJuIFpFUk9fQllURTsKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuQ0hBUjoKICAgICAgICAgICAgICAgIHJldHVybiBaRVJP\nX0NIQVI7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkRPVUJMRToKICAg\nICAgICAgICAgICAgIHJldHVybiBaRVJPX0RPVUJMRTsKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgICAgICByZXR1cm4g\nWkVST19GTE9BVDsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuSU5UOgog\nICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcnMudmFsdWVPZigwKTsKICAg\nICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTE9ORzoKICAgICAgICAgICAgICAg\nIHJldHVybiBOdW1iZXJzLnZhbHVlT2YoMEwpOwogICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5TSE9SVDoKICAgICAgICAgICAgICAgIHJldHVybiBaRVJP\nX1NIT1JUOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAg\ncmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgdXNpbmcgcmVm\nbGVjdGlvbi4KICAgICAqIFJlbGllcyBvbiB0aGUgZmFjdCB0aGF0IGFsbCBv\naWQgZmllbGRzL3Byb3BlcnRpZXMgYXJlIG1hZGUgcHVibGljCiAgICAgKiBk\ndXJpbmcgZW5oYW5jZW1lbnQuCiAgICAgKi8KICAgIHByaXZhdGUgT2JqZWN0\nIGdldFZhbHVlKGludCBmaWVsZCkgewogICAgICAgIGlmIChfb2lkID09IG51\nbGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICBGaWVsZE1l\ndGFEYXRhIGZtZCA9IGdldE1ldGFEYXRhKCkuZ2V0RmllbGQoZmllbGQpOwog\nICAgICAgIGlmIChmbWQuZ2V0QmFja2luZ01lbWJlcigpIGluc3RhbmNlb2Yg\nRmllbGQpCiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0aW9uLmdldChfb2lk\nLCAoRmllbGQpIGZtZC5nZXRCYWNraW5nTWVtYmVyKCkpOwogICAgICAgIGlm\nIChmbWQuZ2V0QmFja2luZ01lbWJlcigpIGluc3RhbmNlb2YgTWV0aG9kKQog\nICAgICAgICAgICByZXR1cm4gUmVmbGVjdGlvbi5nZXQoX29pZCwgKE1ldGhv\nZCkgZm1kLmdldEJhY2tpbmdNZW1iZXIoKSk7CgogICAgICAgIGlmIChmbWQu\nZ2V0RGVmaW5pbmdNZXRhRGF0YSgpLmdldEFjY2Vzc1R5cGUoKQogICAgICAg\nICAgICA9PSBDbGFzc01ldGFEYXRhLkFDQ0VTU19GSUVMRCkKICAgICAgICAg\nICAgcmV0dXJuIFJlZmxlY3Rpb24uZ2V0KF9vaWQsIFJlZmxlY3Rpb24uZmlu\nZEZpZWxkKF9vaWQuZ2V0Q2xhc3MoKSwgCiAgICAgICAgICAgICAgICBmbWQu\nZ2V0TmFtZSgpLCB0cnVlKSk7CiAgICAgICAgcmV0dXJuIFJlZmxlY3Rpb24u\nZ2V0KF9vaWQsIFJlZmxlY3Rpb24uZmluZEdldHRlcihfb2lkLmdldENsYXNz\nKCksCiAgICAgICAgICAgIGZtZC5nZXROYW1lKCksIHRydWUpKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZp\nZWxkIHVzaW5nIHJlZmxlY3Rpb24uCiAgICAgKiBSZWxpZXMgb24gdGhlIGZh\nY3QgdGhhdCBhbGwgb2lkIGZpZWxkcy9wcm9wZXJ0aWVzIGFyZSBtYWRlIHB1\nYmxpYwogICAgICogZHVyaW5nIGVuaGFuY2VtZW50LgogICAgICovCiAgICBw\ncml2YXRlIHZvaWQgc2V0VmFsdWUoaW50IGZpZWxkLCBPYmplY3QgdmFsLCBi\nb29sZWFuIGZvcmNlSW5zdCkgewogICAgICAgIGlmIChfb2lkID09IG51bGwg\nJiYgZm9yY2VJbnN0KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAg\nICAgICBfb2lkID0gQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoCiAg\nICAgICAgICAgICAgICAgICAgSjJEb1ByaXZIZWxwZXIubmV3SW5zdGFuY2VB\nY3Rpb24oCiAgICAgICAgICAgICAgICAgICAgICAgIGdldE1ldGFEYXRhKCku\nZ2V0RGVzY3JpYmVkVHlwZSgpKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4\nY2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9m\nIFByaXZpbGVnZWRBY3Rpb25FeGNlcHRpb24pCiAgICAgICAgICAgICAgICAg\nICAgZSA9ICgoUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbikgZSkuZ2V0RXhj\nZXB0aW9uKCk7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR2VuZXJhbEV4\nY2VwdGlvbihlKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAo\nX29pZCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIEZp\nZWxkTWV0YURhdGEgZm1kID0gZ2V0TWV0YURhdGEoKS5nZXRGaWVsZChmaWVs\nZCk7CiAgICAgICAgaWYgKGZtZC5nZXRCYWNraW5nTWVtYmVyKCkgaW5zdGFu\nY2VvZiBGaWVsZCkKICAgICAgICAgICAgUmVmbGVjdGlvbi5zZXQoX29pZCwg\nKEZpZWxkKSBmbWQuZ2V0QmFja2luZ01lbWJlcigpLCB2YWwpOwogICAgICAg\nIGVsc2UgaWYgKGZtZC5nZXREZWZpbmluZ01ldGFEYXRhKCkuZ2V0QWNjZXNz\nVHlwZSgpCiAgICAgICAgICAgID09IENsYXNzTWV0YURhdGEuQUNDRVNTX0ZJ\nRUxEKSB7CiAgICAgICAgICAgIFJlZmxlY3Rpb24uc2V0KF9vaWQsIFJlZmxl\nY3Rpb24uZmluZEZpZWxkKF9vaWQuZ2V0Q2xhc3MoKSwgCiAgICAgICAgICAg\nICAgICBmbWQuZ2V0TmFtZSgpLCB0cnVlKSwgdmFsKTsKICAgICAgICB9IGVs\nc2UKICAgICAgICAgICAgUmVmbGVjdGlvbi5zZXQoX29pZCwgUmVmbGVjdGlv\nbi5maW5kU2V0dGVyKF9vaWQuZ2V0Q2xhc3MoKSwKICAgICAgICAgICAgICAg\nIGZtZC5nZXROYW1lKCksIGZtZC5nZXREZWNsYXJlZFR5cGUoKSwgdHJ1ZSks\nIHZhbCk7Cgl9Cn0K\n","encoding":"base64"}

