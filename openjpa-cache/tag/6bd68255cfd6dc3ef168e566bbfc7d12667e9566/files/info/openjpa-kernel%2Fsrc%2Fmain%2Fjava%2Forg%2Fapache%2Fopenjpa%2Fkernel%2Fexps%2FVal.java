{"sha":"da054c7d722a178d3f04274d3eefe1eb1e6997a8","node_id":"MDQ6QmxvYjIwNjM2NDpkYTA1NGM3ZDcyMmExNzhkM2YwNDI3NGQzZWVmZTFlYjFlNjk5N2E4","size":3592,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/da054c7d722a178d3f04274d3eefe1eb1e6997a8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHM7CgppbXBv\ncnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5Db2xs\nZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2\nYS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVs\nLlN0b3JlQ29udGV4dDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRh\nLkNsYXNzTWV0YURhdGE7CgovKioKICogQW4gaW4tbWVtb3J5IHJlcHJlc2Vu\ndGF0aW9uIG9mIGEge0BsaW5rIFZhbHVlfS4KICoKICogQGF1dGhvciBBYmUg\nV2hpdGUKICogQG5vamF2YWRvYwogKi8KcHVibGljIGFic3RyYWN0IGNsYXNz\nIFZhbAogICAgaW1wbGVtZW50cyBWYWx1ZSB7CgogICAgcHJpdmF0ZSBDbGFz\nc01ldGFEYXRhIF9tZXRhID0gbnVsbDsKCiAgICAvKioKICAgICAqIFJldHVy\nbiB0aGlzIHZhbHVlIGFzIGEgcHJvamVjdGlvbiBvbiB0aGUgZ2l2ZW4gY2Fu\nZGlkYXRlLgogICAgICovCiAgICBwdWJsaWMgZmluYWwgT2JqZWN0IGV2YWx1\nYXRlKE9iamVjdCBjYW5kaWRhdGUsIE9iamVjdCBvcmlnLAogICAgICAgIFN0\nb3JlQ29udGV4dCBjdHgsIE9iamVjdFtdIHBhcmFtcykgewogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHJldHVybiBldmFsKGNhbmRpZGF0ZSwgY2FuZGlk\nYXRlLCBjdHgsIHBhcmFtcyk7CiAgICAgICAgfSBjYXRjaCAoTnVsbFBvaW50\nZXJFeGNlcHRpb24gbnBlKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwog\nICAgICAgIH0gY2F0Y2ggKENsYXNzQ2FzdEV4Y2VwdGlvbiBjY2UpIHsKICAg\nICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIHRoaXMgdmFsdWUgYXMgYW4gYWdncmVnYXRlIHBy\nb2plY3Rpb24gb24gdGhlIGdpdmVuIGdyb3VwCiAgICAgKiBvZiBjYW5kaWRh\ndGVzLgogICAgICovCiAgICBwdWJsaWMgZmluYWwgT2JqZWN0IGV2YWx1YXRl\nKENvbGxlY3Rpb24gY2FuZGlkYXRlcywgT2JqZWN0IG9yaWcsCiAgICAgICAg\nU3RvcmVDb250ZXh0IGN0eCwgT2JqZWN0W10gcGFyYW1zKSB7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgQ29sbGVjdGlvbiBjID0gZXZhbChjYW5kaWRh\ndGVzLCBvcmlnLCBjdHgsIHBhcmFtcyk7CiAgICAgICAgICAgIGlmIChjLmlz\nRW1wdHkoKSkKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAg\nICAgICByZXR1cm4gYy5pdGVyYXRvcigpLm5leHQoKTsKICAgICAgICB9IGNh\ndGNoIChOdWxsUG9pbnRlckV4Y2VwdGlvbiBucGUpIHsKICAgICAgICAgICAg\ncmV0dXJuIG51bGw7CiAgICAgICAgfSBjYXRjaCAoQ2xhc3NDYXN0RXhjZXB0\naW9uIGNjZSkgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhpcyB2YWx1ZSBmb3Ig\ndGhlIGdpdmVuIGNhbmRpZGF0ZS4KICAgICAqLwogICAgcHJvdGVjdGVkIGFi\nc3RyYWN0IE9iamVjdCBldmFsKE9iamVjdCBjYW5kaWRhdGUsIE9iamVjdCBv\ncmlnLAogICAgICAgIFN0b3JlQ29udGV4dCBjdHgsIE9iamVjdFtdIHBhcmFt\ncyk7CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBsaXN0IG9mIHZhbHVlcyBy\nZXN1bHRpbmcgZnJvbSBldmFsdWF0aW5nIGVhY2ggZ2l2ZW4KICAgICAqIGNh\nbmRpZGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBpbXBsZW1lbnRhdGlvbiBpbnZv\na2VzCiAgICAgKiB7QGxpbmsgI2V2YWwoT2JqZWN0LE9iamVjdCxTdG9yZUNv\nbnRleHQsTWFwKX0gZm9yCiAgICAgKiBlYWNoIGluc3RhbmNlIGFuZCBwYWNr\ncyB0aGUgcmV0dXJuIHZhbHVlIGludG8gYSBuZXcgbGlzdC4gQWdncmVnYXRl\ncwogICAgICogc2hvdWxkIG92ZXJyaWRlLgogICAgICovCiAgICBwcm90ZWN0\nZWQgQ29sbGVjdGlvbiBldmFsKENvbGxlY3Rpb24gY2FuZGlkYXRlcywgT2Jq\nZWN0IG9yaWcsCiAgICAgICAgU3RvcmVDb250ZXh0IGN0eCwgT2JqZWN0W10g\ncGFyYW1zKSB7CiAgICAgICAgQ29sbGVjdGlvbiByZXQgPSBuZXcgQXJyYXlM\naXN0KGNhbmRpZGF0ZXMuc2l6ZSgpKTsKICAgICAgICBPYmplY3QgY2FuZGlk\nYXRlOwogICAgICAgIGZvciAoSXRlcmF0b3IgaXRyID0gY2FuZGlkYXRlcy5p\ndGVyYXRvcigpOyBpdHIuaGFzTmV4dCgpOykgewogICAgICAgICAgICBjYW5k\naWRhdGUgPSBpdHIubmV4dCgpOwogICAgICAgICAgICByZXQuYWRkKGV2YWx1\nYXRlKGNhbmRpZGF0ZSwgKG9yaWcgPT0gbnVsbCkgPyBjYW5kaWRhdGUgOiBv\ncmlnLAogICAgICAgICAgICAgICAgY3R4LCBwYXJhbXMpKTsKICAgICAgICB9\nCiAgICAgICAgcmV0dXJuIHJldDsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3NN\nZXRhRGF0YSBnZXRNZXRhRGF0YSgpIHsKICAgICAgICByZXR1cm4gX21ldGE7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWV0YURhdGEoQ2xhc3NNZXRh\nRGF0YSBtZXRhKSB7CiAgICAgICAgX21ldGEgPSBtZXRhOwoJfQoKICAgIHB1\nYmxpYyBib29sZWFuIGlzVmFyaWFibGUoKSB7CiAgICAgICAgcmV0dXJuIGZh\nbHNlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzQWdncmVnYXRlKCkg\newogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIAogICAgcHVibGlj\nIGJvb2xlYW4gaXNYUGF0aCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgYWNjZXB0VmlzaXQoRXhwcmVzc2lvblZp\nc2l0b3IgdmlzaXRvcikgewogICAgICAgIHZpc2l0b3IuZW50ZXIodGhpcyk7\nCiAgICAgICAgdmlzaXRvci5leGl0KHRoaXMpOwogICAgfQp9Cg==\n","encoding":"base64"}

