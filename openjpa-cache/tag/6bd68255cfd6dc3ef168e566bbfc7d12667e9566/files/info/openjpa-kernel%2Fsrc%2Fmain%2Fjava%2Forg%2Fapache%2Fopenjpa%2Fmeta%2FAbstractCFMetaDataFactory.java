{"sha":"ff35d3a25a067538838c52d92745e1567a7f75f5","node_id":"MDQ6QmxvYjIwNjM2NDpmZjM1ZDNhMjVhMDY3NTM4ODM4YzUyZDkyNzQ1ZTE1NjdhN2Y3NWY1","size":32688,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ff35d3a25a067538838c52d92745e1567a7f75f5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOwppbXBvcnQg\namF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEubmV0Lk1hbGZvcm1l\nZFVSTEV4Y2VwdGlvbjsKaW1wb3J0IGphdmEubmV0LlVSTDsKaW1wb3J0IGph\ndmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEuc2Vj\ndXJpdHkuUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbjsKaW1wb3J0IGphdmEu\ndXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOwppbXBv\ncnQgamF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwuSGFz\naE1hcDsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0OwppbXBvcnQgamF2YS51\ndGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBq\nYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2YS51dGlsLlNldDsKaW1wb3J0IGph\ndmEudXRpbC56aXAuWmlwRmlsZTsKaW1wb3J0IGphdmEudXRpbC56aXAuWmlw\nSW5wdXRTdHJlYW07CgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcu\nU3RyaW5nVXRpbHM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLm1l\ndGEuQ2xhc3NBcmdQYXJzZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLm1ldGEuQ2xhc3NwYXRoTWV0YURhdGFJdGVyYXRvcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIubWV0YS5GaWxlTWV0YURhdGFJdGVyYXRv\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIubWV0YS5NZXRhRGF0\nYUZpbHRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIubWV0YS5N\nZXRhRGF0YUl0ZXJhdG9yOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5tZXRhLk1ldGFEYXRhUGFyc2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi5tZXRhLk1ldGFEYXRhU2VyaWFsaXplcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIubWV0YS5SZXNvdXJjZU1ldGFEYXRhSXRlcmF0\nb3I7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLm1ldGEuVVJMTWV0\nYURhdGFJdGVyYXRvcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\nbWV0YS5aaXBGaWxlTWV0YURhdGFJdGVyYXRvcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIubWV0YS5aaXBTdHJlYW1NZXRhRGF0YUl0ZXJhdG9y\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkZpbGVzOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkoyRG9Qcml2SGVs\ncGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2Fs\naXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkdlbmVyYWxF\neGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Vc2Vy\nRXhjZXB0aW9uOwppbXBvcnQgc2VycC51dGlsLlN0cmluZ3M7CgovKioKICog\nQmFzZSBjbGFzcyBmb3IgZmFjdG9yeSBpbXBsZW1lbnRhdGlvbnMgYnVpbHQg\nYXJvdW5kIFhNTCBtZXRhZGF0YSBmaWxlcwogKiBpbiB0aGUgY29tbW9uIGZv\nbWF0LgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAc2luY2UgMC40LjAK\nICovCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENGTWV0YURhdGFG\nYWN0b3J5CiAgICBleHRlbmRzIEFic3RyYWN0TWV0YURhdGFGYWN0b3J5IHsK\nCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExv\nY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKEFic3RyYWN0TWV0YURhdGFG\nYWN0b3J5LmNsYXNzKTsKCiAgICBwcm90ZWN0ZWQgQ29sbGVjdGlvbiBmaWxl\ncyA9IG51bGw7CiAgICBwcm90ZWN0ZWQgQ29sbGVjdGlvbiB1cmxzID0gbnVs\nbDsKICAgIHByb3RlY3RlZCBDb2xsZWN0aW9uIHJzcmNzID0gbnVsbDsKICAg\nIHByb3RlY3RlZCBDb2xsZWN0aW9uIGNwYXRoID0gbnVsbDsKCiAgICBwcml2\nYXRlIFNldCBfdHlwZU5hbWVzID0gbnVsbDsKCiAgICAvKioKICAgICAqIFNl\ndCBvZiB7QGxpbmsgRmlsZX1zIG9mIG1ldGFkYXRhIGZpbGVzIG9yIGRpcmVj\ndG9yaWVzIHN1cHBsaWVkIGJ5IHVzZXIuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldEZpbGVzKENvbGxlY3Rpb24gZmlsZXMpIHsKICAgICAgICB0aGlz\nLmZpbGVzID0gZmlsZXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgb2Yg\nc2VtaWNvbG9uLXNlcGFyYXRlZCB7QGxpbmsgRmlsZX1zIG9mIG1ldGFkYXRh\nIGZpbGVzIG9yCiAgICAgKiBkaXJlY3RvcmllcyBzdXBwbGllZCBieSB1c2Vy\nIHZpYSBhdXRvLWNvbmZpZ3VyYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldEZpbGVzKFN0cmluZyBmaWxlcykgewogICAgICAgIGlmIChTdHJp\nbmdVdGlscy5pc0VtcHR5KGZpbGVzKSkKICAgICAgICAgICAgdGhpcy5maWxl\ncyA9IG51bGw7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFN0cmluZ1td\nIHN0cnMgPSBTdHJpbmdzLnNwbGl0KGZpbGVzLCAiOyIsIDApOwogICAgICAg\nICAgICB0aGlzLmZpbGVzID0gbmV3IEhhc2hTZXQoKGludCkgKHN0cnMubGVu\nZ3RoICogMS4zMyArIDEpKTsKCiAgICAgICAgICAgIEZpbGUgZmlsZTsKICAg\nICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzdHJzLmxlbmd0aDsgaSsr\nKSB7CiAgICAgICAgICAgICAgICBmaWxlID0gbmV3IEZpbGUoc3Ryc1tpXSk7\nCiAgICAgICAgICAgICAgICBpZiAoKChCb29sZWFuKSBBY2Nlc3NDb250cm9s\nbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgICAgICAgICBKMkRvUHJp\ndkhlbHBlci5leGlzdHNBY3Rpb24oZmlsZSkpKS5ib29sZWFuVmFsdWUoKSkK\nICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVzLmFkZChmaWxlKTsKICAg\nICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNl\ndCBvZiB7QGxpbmsgVVJMfXMgb2YgbWV0YWRhdGEgZmlsZXMgb3IgamFycyBz\ndXBwbGllZCBieSB1c2VyLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRV\nUkxzKENvbGxlY3Rpb24gdXJscykgewogICAgICAgIHRoaXMudXJscyA9IHVy\nbHM7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgb2Ygc2VtaWNvbG9uLXNl\ncGFyYXRlZCB7QGxpbmsgVVJMfXMgb2YgbWV0YWRhdGEgZmlsZXMgb3IgamFy\ncwogICAgICogc3VwcGxpZWQgYnkgdXNlciB2aWEgYXV0by1jb25maWd1cmF0\naW9uLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRVUkxzKFN0cmluZyB1\ncmxzKSB7CiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkodXJscykp\nCiAgICAgICAgICAgIHRoaXMudXJscyA9IG51bGw7CiAgICAgICAgZWxzZSB7\nCiAgICAgICAgICAgIFN0cmluZ1tdIHN0cnMgPSBTdHJpbmdzLnNwbGl0KHVy\nbHMsICI7IiwgMCk7CiAgICAgICAgICAgIHRoaXMudXJscyA9IG5ldyBIYXNo\nU2V0KChpbnQpIChzdHJzLmxlbmd0aCAqIDEuMzMgKyAxKSk7CiAgICAgICAg\nICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIHN0cnMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICAgICAgdGhpcy51\ncmxzLmFkZChuZXcgVVJMKHN0cnNbaV0pKTsKICAgICAgICAgICAgfSBjYXRj\naCAoTWFsZm9ybWVkVVJMRXhjZXB0aW9uIG11ZSkgewogICAgICAgICAgICAg\nICAgdGhyb3cgbmV3IFVzZXJFeGNlcHRpb24obXVlKTsKICAgICAgICAgICAg\nfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNldCBvZiByZXNv\ndXJjZSBwYXRocyBvZiBtZXRhZGF0YSBmaWxlcyBvciBqYXJzIHN1cHBsaWVk\nIGJ5IHVzZXIuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFJlc291cmNl\ncyhDb2xsZWN0aW9uIHJzcmNzKSB7CiAgICAgICAgdGhpcy5yc3JjcyA9IHJz\ncmNzOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IG9mIHNlbWljb2xvbi1z\nZXBhcmF0ZWQgcmVzb3VyY2UgcGF0aHMgb2YgbWV0YWRhdGEgZmlsZXMgb3Ig\namFycwogICAgICogc3VwcGxpZWQgYnkgdXNlciB2aWEgYXV0by1jb25maWd1\ncmF0aW9uLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRSZXNvdXJjZXMo\nU3RyaW5nIHJzcmNzKSB7CiAgICAgICAgLy8ga2VlcCBsaXN0IG11dGFibGUg\nc28gc3ViY2xhc3NlcyBjYW4gYWRkIGltcGxpY2l0IGxvY2F0aW9ucwogICAg\nICAgIHRoaXMucnNyY3MgPSAoU3RyaW5nVXRpbHMuaXNFbXB0eShyc3Jjcykp\nID8gbnVsbAogICAgICAgICAgICA6IG5ldyBBcnJheUxpc3QoQXJyYXlzLmFz\nTGlzdChTdHJpbmdzLnNwbGl0KHJzcmNzLCAiOyIsIDApKSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgb2YgY2xhc3NwYXRoIGRpcmVjdG9yaWVzIG9y\nIGphcnMgdG8gc2NhbiBmb3IgbWV0YWRhdGEgc3VwcGxpZWQKICAgICAqIGJ5\nIHVzZXIuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldENsYXNzcGF0aFNj\nYW4oQ29sbGVjdGlvbiBjcGF0aCkgewogICAgICAgIHRoaXMuY3BhdGggPSBj\ncGF0aDsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBvZiBjbGFzc3BhdGgg\nZGlyZWN0b3JpZXMgb3IgamFycyB0byBzY2FuIGZvciBtZXRhZGF0YSBzdXBw\nbGllZAogICAgICogYnkgdXNlciB2aWEgYXV0by1jb25maWd1cmF0aW9uLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRDbGFzc3BhdGhTY2FuKFN0cmlu\nZyBjcGF0aCkgewogICAgICAgIC8vIGtlZXAgbGlzdCBtdXRhYmxlIHNvIHN1\nYmNsYXNzZXMgY2FuIGFkZCBpbXBsaWNpdCBsb2NhdGlvbnMKICAgICAgICB0\naGlzLmNwYXRoID0gKFN0cmluZ1V0aWxzLmlzRW1wdHkoY3BhdGgpKSA/IG51\nbGwKICAgICAgICAgICAgOiBuZXcgQXJyYXlMaXN0KEFycmF5cy5hc0xpc3Qo\nU3RyaW5ncy5zcGxpdChjcGF0aCwgIjsiLCAwKSkpOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIHN0b3JlKENsYXNzTWV0YURhdGFbXSBtZXRhcywgUXVl\ncnlNZXRhRGF0YVtdIHF1ZXJpZXMsCiAgICAgICAgU2VxdWVuY2VNZXRhRGF0\nYVtdIHNlcXMsIGludCBtb2RlLCBNYXAgb3V0cHV0KSB7CiAgICAgICAgaWYg\nKG1vZGUgPT0gTU9ERV9OT05FKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsK\nICAgICAgICBpZiAoaXNNYXBwaW5nT25seUZhY3RvcnkoKSAmJiAobW9kZSAm\nIE1PREVfTUFQUElORykgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRydWU7\nCgogICAgICAgIGlmICghc3RyaWN0ICYmIChtb2RlICYgTU9ERV9NRVRBKSAh\nPSAwKQogICAgICAgICAgICBtb2RlIHw9IE1PREVfTUFQUElORzsKICAgICAg\nICBDbGFzcyBjbHMgPSAobWV0YXMubGVuZ3RoID09IDApID8gbnVsbCA6IG1l\ndGFzWzBdLmdldERlc2NyaWJlZFR5cGUoKTsKICAgICAgICBDbGFzc0xvYWRl\nciBsb2FkZXIgPSByZXBvcy5nZXRDb25maWd1cmF0aW9uKCkuCiAgICAgICAg\nICAgIGdldENsYXNzUmVzb2x2ZXJJbnN0YW5jZSgpLmdldENsYXNzTG9hZGVy\nKGNscywgbnVsbCk7CiAgICAgICAgTWFwIGNsc05hbWVzID0gbmV3IEhhc2hN\nYXAoKGludCkgKG1ldGFzLmxlbmd0aCAqIDEuMzMgKyAxKSk7CiAgICAgICAg\nZm9yIChpbnQgaSA9IDA7IGkgPCBtZXRhcy5sZW5ndGg7IGkrKykKICAgICAg\nICAgICAgY2xzTmFtZXMucHV0KG1ldGFzW2ldLmdldERlc2NyaWJlZFR5cGUo\nKS5nZXROYW1lKCksIG1ldGFzW2ldKTsKCiAgICAgICAgLy8gYXNzaWduIGRl\nZmF1bHQgZmlsZXMgaWYgaW4gbWV0YWRhdGEgbW9kZSAoaW4gb3RoZXIgbW9k\nZXMgd2UgYXNzdW1lCiAgICAgICAgLy8gdGhlIGZpbGVzIHdvdWxkIGhhdmUg\ndG8gYmUgcmVhZCBhbHJlYWR5IHRvIGNyZWF0ZSB0aGUgbWV0YWRhdGFzKQog\nICAgICAgIFNldCBtZXRhRmlsZXMgPSBudWxsOwogICAgICAgIFNldCBxdWVy\neUZpbGVzID0gbnVsbDsKICAgICAgICBpZiAoaXNNYXBwaW5nT25seUZhY3Rv\ncnkoKSB8fCAobW9kZSAmIE1PREVfTUVUQSkgIT0gMCkKICAgICAgICAgICAg\nbWV0YUZpbGVzID0gYXNzaWduRGVmYXVsdE1ldGFEYXRhRmlsZXMobWV0YXMs\nIHF1ZXJpZXMsIHNlcXMsIG1vZGUsCiAgICAgICAgICAgICAgICBjbHNOYW1l\ncyk7CiAgICAgICAgaWYgKCFpc01hcHBpbmdPbmx5RmFjdG9yeSgpICYmICht\nb2RlICYgTU9ERV9RVUVSWSkgIT0gMCkKICAgICAgICAgICAgcXVlcnlGaWxl\ncyA9IGFzc2lnbkRlZmF1bHRRdWVyeUZpbGVzKHF1ZXJpZXMsIGNsc05hbWVz\nKTsKCiAgICAgICAgLy8gcGFyc2UgYWxsIGZpbGVzIHRvIGJlIHN1cmUgd2Ug\nZG9uJ3QgZGVsZXRlIGV4aXN0aW5nIG1ldGFkYXRhIHdoZW4KICAgICAgICAv\nLyB3cml0aW5nIG91dCBuZXcgbWV0YWRhdGEsIHRoZW4gc2VyaWFsaXplCiAg\nICAgICAgU2VyaWFsaXplciBzZXI7CiAgICAgICAgUGFyc2VyIHBhcnNlcjsK\nICAgICAgICBpZiAobW9kZSAhPSBNT0RFX1FVRVJZKSB7CiAgICAgICAgICAg\nIGludCBzZXJtb2RlID0gKGlzTWFwcGluZ09ubHlGYWN0b3J5KCkpID8gbW9k\nZSA6IG1vZGUgfCBNT0RFX01FVEE7CiAgICAgICAgICAgIGlmICgobW9kZSAm\nIE1PREVfQU5OX01BUFBJTkcpICE9IDApCiAgICAgICAgICAgICAgICBzZXIg\nPSBuZXdBbm5vdGF0aW9uU2VyaWFsaXplcigpOwogICAgICAgICAgICBlbHNl\nCiAgICAgICAgICAgICAgICBzZXIgPSBuZXdTZXJpYWxpemVyKCk7CiAgICAg\nICAgICAgIHNlci5zZXRNb2RlKHNlcm1vZGUpOwogICAgICAgICAgICBpZiAo\nbWV0YUZpbGVzICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHBhcnNlciA9\nIG5ld1BhcnNlcihmYWxzZSk7CiAgICAgICAgICAgICAgICBwYXJzZXIuc2V0\nTW9kZShzZXJtb2RlKTsKICAgICAgICAgICAgICAgIHBhcnNlci5zZXRDbGFz\nc0xvYWRlcihsb2FkZXIpOwogICAgICAgICAgICAgICAgcGFyc2UocGFyc2Vy\nLCBtZXRhRmlsZXMpOwoKICAgICAgICAgICAgICAgIE1ldGFEYXRhUmVwb3Np\ndG9yeSBwciA9IHBhcnNlci5nZXRSZXBvc2l0b3J5KCk7CiAgICAgICAgICAg\nICAgICBwci5zZXRTb3VyY2VNb2RlKG1vZGUpOwogICAgICAgICAgICAgICAg\naWYgKGlzTWFwcGluZ09ubHlGYWN0b3J5KCkpCiAgICAgICAgICAgICAgICAg\nICAgcHIuc2V0UmVzb2x2ZShNT0RFX05PTkUpOwogICAgICAgICAgICAgICAg\nZWxzZQogICAgICAgICAgICAgICAgICAgIHByLnNldFJlc29sdmUoTU9ERV9N\nQVBQSU5HLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBzZXIuYWRkQWxsKHBy\nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7\nIGkgPCBtZXRhcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIHNlci5h\nZGRNZXRhRGF0YShtZXRhc1tpXSk7CiAgICAgICAgICAgIGlmICgobW9kZSAm\nIE1PREVfTUFQUElORykgIT0gMCkKICAgICAgICAgICAgICAgIGZvciAoaW50\nIGkgPSAwOyBpIDwgc2Vxcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAg\nICAgICBzZXIuYWRkU2VxdWVuY2VNZXRhRGF0YShzZXFzW2ldKTsKICAgICAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBxdWVyaWVzLmxlbmd0aDsgaSsr\nKQogICAgICAgICAgICAgICAgaWYgKHF1ZXJpZXNbaV0uZ2V0U291cmNlTW9k\nZSgpICE9IE1PREVfUVVFUlkKICAgICAgICAgICAgICAgICAgICAmJiAocXVl\ncmllc1tpXS5nZXRTb3VyY2VNb2RlKCkgJiBtb2RlKSAhPSAwKQogICAgICAg\nICAgICAgICAgICAgIHNlci5hZGRRdWVyeU1ldGFEYXRhKHF1ZXJpZXNbaV0p\nOwoKICAgICAgICAgICAgaW50IGZsYWdzID0gc2VyLlBSRVRUWTsKICAgICAg\nICAgICAgaWYgKChzdG9yZSAmIFNUT1JFX1ZFUkJPU0UpICE9IDApCiAgICAg\nICAgICAgICAgICBmbGFncyB8PSBzZXIuVkVSQk9TRTsKICAgICAgICAgICAg\nc2VyaWFsaXplKHNlciwgb3V0cHV0LCBmbGFncyk7CiAgICAgICAgfQoKICAg\nICAgICAvLyBkbyB3ZSBoYXZlIGFueSBxdWVyaWVzIHN0b3JlZCBpbiBxdWVy\neSBmaWxlcz8KICAgICAgICBpZiAoIWlzTWFwcGluZ09ubHlGYWN0b3J5KCkp\nIHsKICAgICAgICAgICAgYm9vbGVhbiBxRmlsZXMgPSBxdWVyeUZpbGVzICE9\nIG51bGw7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyAhcUZpbGVzICYm\nIGkgPCBxdWVyaWVzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgcUZp\nbGVzID0gcXVlcmllc1tpXS5nZXRTb3VyY2VNb2RlKCkgPT0gTU9ERV9RVUVS\nWTsKICAgICAgICAgICAgaWYgKHFGaWxlcykgewogICAgICAgICAgICAgICAg\naWYgKChtb2RlICYgTU9ERV9BTk5fTUFQUElORykgIT0gMCkKICAgICAgICAg\nICAgICAgICAgICBzZXIgPSBuZXdBbm5vdGF0aW9uU2VyaWFsaXplcigpOwog\nICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHNlciA9\nIG5ld1NlcmlhbGl6ZXIoKTsKICAgICAgICAgICAgICAgIHNlci5zZXRNb2Rl\nKE1PREVfUVVFUlkpOwogICAgICAgICAgICAgICAgaWYgKHF1ZXJ5RmlsZXMg\nIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ld1Bh\ncnNlcihmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgcGFyc2VyLnNldE1v\nZGUoTU9ERV9RVUVSWSk7CiAgICAgICAgICAgICAgICAgICAgcGFyc2VyLnNl\ndENsYXNzTG9hZGVyKGxvYWRlcik7CiAgICAgICAgICAgICAgICAgICAgcGFy\nc2UocGFyc2VyLCBxdWVyeUZpbGVzKTsKICAgICAgICAgICAgICAgICAgICBz\nZXIuYWRkQWxsKHBhcnNlci5nZXRSZXBvc2l0b3J5KCkpOwogICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBx\ndWVyaWVzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgICAgIGlmIChx\ndWVyaWVzW2ldLmdldFNvdXJjZU1vZGUoKSA9PSBNT0RFX1FVRVJZKQogICAg\nICAgICAgICAgICAgICAgICAgICBzZXIuYWRkUXVlcnlNZXRhRGF0YShxdWVy\naWVzW2ldKTsKICAgICAgICAgICAgICAgIHNlcmlhbGl6ZShzZXIsIG91dHB1\ndCwgc2VyLlBSRVRUWSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZHJv\ncChDbGFzc1tdIGNscywgaW50IG1vZGUsIENsYXNzTG9hZGVyIGVudkxvYWRl\ncikgewogICAgICAgIGlmIChtb2RlID09IE1PREVfTk9ORSkKICAgICAgICAg\nICAgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKGlzTWFwcGluZ09ubHlGYWN0\nb3J5KCkgJiYgKG1vZGUgJiBNT0RFX01BUFBJTkcpID09IDApCiAgICAgICAg\nICAgIHJldHVybiB0cnVlOwoKICAgICAgICBQYXJzZXIgcGFyc2VyID0gbmV3\nUGFyc2VyKGZhbHNlKTsKICAgICAgICBNZXRhRGF0YVJlcG9zaXRvcnkgcHIg\nPSBwYXJzZXIuZ2V0UmVwb3NpdG9yeSgpOwogICAgICAgIHByLnNldFNvdXJj\nZU1vZGUoTU9ERV9NQVBQSU5HLCBmYWxzZSk7CiAgICAgICAgcHIuc2V0UmVz\nb2x2ZShNT0RFX01BUFBJTkcsIGZhbHNlKTsKCiAgICAgICAgLy8gcGFyc2Ug\nbWV0YWRhdGEgZm9yIGFsbCB0aGVzZSBjbGFzc2VzCiAgICAgICAgaWYgKCht\nb2RlICYgKE1PREVfTUVUQSB8IE1PREVfTUFQUElORykpICE9IDApIHsKICAg\nICAgICAgICAgcGFyc2VyLnNldE1vZGUoKGlzTWFwcGluZ09ubHlGYWN0b3J5\nKCkpID8gbW9kZQogICAgICAgICAgICAgICAgOiBNT0RFX01FVEEgfCBNT0RF\nX01BUFBJTkcgfCBNT0RFX1FVRVJZKTsKICAgICAgICAgICAgcGFyc2UocGFy\nc2VyLCBjbHMpOwogICAgICAgIH0KICAgICAgICBpZiAoIWlzTWFwcGluZ09u\nbHlGYWN0b3J5KCkgJiYgKG1vZGUgJiBNT0RFX1FVRVJZKSAhPSAwKSB7CiAg\nICAgICAgICAgIHBhcnNlci5zZXRNb2RlKE1PREVfUVVFUlkpOwogICAgICAg\nICAgICBwYXJzZShwYXJzZXIsIGNscyk7CiAgICAgICAgfQoKICAgICAgICAv\nLyByZW1vdmUgbWV0YWRhdGFzIGZyb20gcmVwb3NpdG9yeSBvciBjbGVhciB0\naGVpciBtYXBwaW5ncwogICAgICAgIFNldCBmaWxlcyA9IG5ldyBIYXNoU2V0\nKCk7CiAgICAgICAgU2V0IGNsc05hbWVzID0gbnVsbDsKICAgICAgICBpZiAo\nKG1vZGUgJiAoTU9ERV9NRVRBIHwgTU9ERV9NQVBQSU5HKSkgIT0gMCkgewog\nICAgICAgICAgICBjbHNOYW1lcyA9IG5ldyBIYXNoU2V0KChpbnQpIChjbHMu\nbGVuZ3RoICogMS4zMyArIDEpKTsKICAgICAgICAgICAgQ2xhc3NNZXRhRGF0\nYSBtZXRhOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGNscy5s\nZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKGNsc1tpXSA9PSBu\ndWxsKQogICAgICAgICAgICAgICAgICAgIGNsc05hbWVzLmFkZChudWxsKTsK\nICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBjbHNO\nYW1lcy5hZGQoY2xzW2ldLmdldE5hbWUoKSk7CiAgICAgICAgICAgICAgICBt\nZXRhID0gcHIuZ2V0TWV0YURhdGEoY2xzW2ldLCBlbnZMb2FkZXIsIGZhbHNl\nKTsKICAgICAgICAgICAgICAgIGlmIChtZXRhICE9IG51bGwpIHsKICAgICAg\nICAgICAgICAgICAgICBpZiAoZ2V0U291cmNlRmlsZShtZXRhKSAhPSBudWxs\nKQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlcy5hZGQoZ2V0U291cmNl\nRmlsZShtZXRhKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKChtb2RlICYg\nTU9ERV9NRVRBKSAhPSAwKQogICAgICAgICAgICAgICAgICAgICAgICBwci5y\nZW1vdmVNZXRhRGF0YShtZXRhKTsKICAgICAgICAgICAgICAgICAgICBlbHNl\nIGlmICghaXNNYXBwaW5nT25seUZhY3RvcnkoKSkKICAgICAgICAgICAgICAg\nICAgICAgICAgY2xlYXJNYXBwaW5nKG1ldGEpOwogICAgICAgICAgICAgICAg\nfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyByZW1vdmUg\ncXVlcnkgbW9kZSBtZXRhZGF0YXMgc28gd2UgY2FuIHN0b3JlIHRoZW0gc2Vw\nYXJhdGVseQogICAgICAgIFF1ZXJ5TWV0YURhdGFbXSBxdWVyaWVzID0gcHIu\nZ2V0UXVlcnlNZXRhRGF0YXMoKTsKICAgICAgICBMaXN0IHFxcyA9ICghaXNN\nYXBwaW5nT25seUZhY3RvcnkoKSAmJiAobW9kZSAmIE1PREVfUVVFUlkpID09\nIDApCiAgICAgICAgICAgID8gbnVsbCA6IG5ldyBBcnJheUxpc3QoKTsKICAg\nICAgICBib29sZWFuIHJlbTsKICAgICAgICBDbGFzcyBkZWY7CiAgICAgICAg\nZm9yIChpbnQgaSA9IDA7IGkgPCBxdWVyaWVzLmxlbmd0aDsgaSsrKSB7CiAg\nICAgICAgICAgIGlmICghaXNNYXBwaW5nT25seUZhY3RvcnkoKSAmJiBxdWVy\naWVzW2ldLmdldFNvdXJjZUZpbGUoKSAhPSBudWxsKQogICAgICAgICAgICAg\nICAgZmlsZXMuYWRkKHF1ZXJpZXNbaV0uZ2V0U291cmNlRmlsZSgpKTsKICAg\nICAgICAgICAgZGVmID0gcXVlcmllc1tpXS5nZXREZWZpbmluZ1R5cGUoKTsK\nICAgICAgICAgICAgcmVtID0gKHF1ZXJpZXNbaV0uZ2V0U291cmNlTW9kZSgp\nICYgbW9kZSkgIT0gMAogICAgICAgICAgICAgICAgJiYgY2xzTmFtZXMuY29u\ndGFpbnMoKGRlZiA9PSBudWxsKSA/IG51bGwgOiBkZWYuZ2V0TmFtZSgpKTsK\nICAgICAgICAgICAgaWYgKHJlbSB8fCAoIWlzTWFwcGluZ09ubHlGYWN0b3J5\nKCkKICAgICAgICAgICAgICAgICYmIHF1ZXJpZXNbaV0uZ2V0U291cmNlTW9k\nZSgpID09IE1PREVfUVVFUlkpKQogICAgICAgICAgICAgICAgcHIucmVtb3Zl\nUXVlcnlNZXRhRGF0YShxdWVyaWVzW2ldKTsKICAgICAgICAgICAgaWYgKHFx\ncyAhPSBudWxsICYmIHF1ZXJpZXNbaV0uZ2V0U291cmNlTW9kZSgpID09IE1P\nREVfUVVFUlkgJiYgIXJlbSkKICAgICAgICAgICAgICAgIHFxcy5hZGQocXVl\ncmllc1tpXSk7CiAgICAgICAgfQoKICAgICAgICAvLyB3cml0ZSBuZXcgbWV0\nYWRhdGEgd2l0aG91dCByZW1vdmVkIGluc3RhbmNlcwogICAgICAgIGJhY2t1\ncEFuZERlbGV0ZShmaWxlcyk7CiAgICAgICAgU2VyaWFsaXplciBzZXI7CiAg\nICAgICAgaWYgKChtb2RlICYgKE1PREVfTUVUQSB8IE1PREVfTUFQUElORykp\nICE9IDApIHsKICAgICAgICAgICAgc2VyID0gbmV3U2VyaWFsaXplcigpOwog\nICAgICAgICAgICBzZXIuc2V0TW9kZSgoaXNNYXBwaW5nT25seUZhY3Rvcnko\nKSkgPyBtb2RlIDogbW9kZSB8IE1PREVfTUVUQSk7CiAgICAgICAgICAgIHNl\nci5hZGRBbGwocHIpOwogICAgICAgICAgICAvLyByZW1vdmUgZnJvbSBzZXJp\nYWxpemVyIHJhdGhlciB0aGFuIGZyb20gcmVwb3NpdG9yeSBhYm92ZSBzbyB0\naGF0CiAgICAgICAgICAgIC8vIGNhbGxpbmcgY29kZSBjYW4gdGFrZSBhZHZh\nbnRhZ2Ugb2YgbWV0YWRhdGEgc3RpbGwgaW4gcmVwb3MKICAgICAgICAgICAg\naWYgKGlzTWFwcGluZ09ubHlGYWN0b3J5KCkpCiAgICAgICAgICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IGNscy5sZW5ndGg7IGkrKykKICAgICAgICAg\nICAgICAgICAgICBzZXIucmVtb3ZlTWV0YURhdGEocHIuZ2V0TWV0YURhdGEo\nY2xzW2ldLCBlbnZMb2FkZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGZh\nbHNlKSk7CiAgICAgICAgICAgIHNlcmlhbGl6ZShzZXIsIG51bGwsIHNlci5Q\nUkVUVFkpOwogICAgICAgIH0KICAgICAgICBpZiAocXFzICE9IG51bGwgJiYg\nIXFxcy5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgc2VyID0gbmV3U2VyaWFs\naXplcigpOwogICAgICAgICAgICBzZXIuc2V0TW9kZShNT0RFX1FVRVJZKTsK\nICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBxcXMuc2l6ZSgpOyBp\nKyspCiAgICAgICAgICAgICAgICBzZXIuYWRkUXVlcnlNZXRhRGF0YSgoUXVl\ncnlNZXRhRGF0YSkgcXFzLmdldChpKSk7CiAgICAgICAgICAgIHNlcmlhbGl6\nZShzZXIsIG51bGwsIHNlci5QUkVUVFkpOwogICAgICAgIH0KICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEFzc2lnbiBkZWZh\ndWx0IHNvdXJjZSBmaWxlcyB0byB0aGUgZ2l2ZW4gbWV0YWRhdGFzLgogICAg\nICoKICAgICAqIEBwYXJhbSBjbHNOYW1lcyBtYXAgb2YgY2xhc3MgbmFtZXMg\ndG8gbWV0YWRhdGFzCiAgICAgKiBAcmV0dXJuIHNldCBvZiBleGlzdGluZyBm\naWxlcyB1c2VkIGJ5IHRoZXNlIG1ldGFkYXRhcywgb3IKICAgICAqIG51bGwg\naWYgbm8gZXhpc3RpbmcgZmlsZXMKICAgICAqLwogICAgcHJpdmF0ZSBTZXQg\nYXNzaWduRGVmYXVsdE1ldGFEYXRhRmlsZXMoQ2xhc3NNZXRhRGF0YVtdIG1l\ndGFzLAogICAgICAgIFF1ZXJ5TWV0YURhdGFbXSBxdWVyaWVzLCBTZXF1ZW5j\nZU1ldGFEYXRhW10gc2VxcywgaW50IG1vZGUsCiAgICAgICAgTWFwIGNsc05h\nbWVzKSB7CiAgICAgICAgU2V0IGZpbGVzID0gbnVsbDsKICAgICAgICBmb3Ig\nKGludCBpID0gMDsgaSA8IG1ldGFzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAg\nICAgIGlmIChnZXRTb3VyY2VGaWxlKG1ldGFzW2ldKSA9PSBudWxsKQogICAg\nICAgICAgICAgICAgc2V0U291cmNlRmlsZShtZXRhc1tpXSwgZGVmYXVsdFNv\ndXJjZUZpbGUobWV0YXNbaV0pKTsKICAgICAgICAgICAgaWYgKCgoQm9vbGVh\nbikgQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoSjJEb1ByaXZIZWxw\nZXIKICAgICAgICAgICAgICAgIC5leGlzdHNBY3Rpb24oZ2V0U291cmNlRmls\nZShtZXRhc1tpXSkpKSkuYm9vbGVhblZhbHVlKCkpIHsKICAgICAgICAgICAg\nICAgIGlmIChmaWxlcyA9PSBudWxsKQogICAgICAgICAgICAgICAgICAgIGZp\nbGVzID0gbmV3IEhhc2hTZXQoKTsKICAgICAgICAgICAgICAgIGZpbGVzLmFk\nZChnZXRTb3VyY2VGaWxlKG1ldGFzW2ldKSk7CiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBxdWVyaWVzLmxl\nbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChxdWVyaWVzW2ldLmdldFNv\ndXJjZU1vZGUoKSA9PSBNT0RFX1FVRVJZCiAgICAgICAgICAgICAgICB8fCAo\nbW9kZSAmIHF1ZXJpZXNbaV0uZ2V0U291cmNlTW9kZSgpKSA9PSAwKQogICAg\nICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChxdWVyaWVz\nW2ldLmdldFNvdXJjZUZpbGUoKSA9PSBudWxsKQogICAgICAgICAgICAgICAg\ncXVlcmllc1tpXS5zZXRTb3VyY2UoZGVmYXVsdFNvdXJjZUZpbGUocXVlcmll\nc1tpXSwKICAgICAgICAgICAgICAgICAgICBjbHNOYW1lcyksIHF1ZXJpZXNb\naV0uZ2V0U291cmNlU2NvcGUoKSwKICAgICAgICAgICAgICAgICAgICBxdWVy\naWVzW2ldLmdldFNvdXJjZVR5cGUoKSk7CiAgICAgICAgICAgIGlmICgoKEJv\nb2xlYW4pIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAg\nICAgICAgICAgSjJEb1ByaXZIZWxwZXIuZXhpc3RzQWN0aW9uKHF1ZXJpZXNb\naV0uZ2V0U291cmNlRmlsZSgpKSkpCiAgICAgICAgICAgICAgICAuYm9vbGVh\nblZhbHVlKCkpIHsKICAgICAgICAgICAgICAgIGlmIChmaWxlcyA9PSBudWxs\nKQogICAgICAgICAgICAgICAgICAgIGZpbGVzID0gbmV3IEhhc2hTZXQoKTsK\nICAgICAgICAgICAgICAgIGZpbGVzLmFkZChxdWVyaWVzW2ldLmdldFNvdXJj\nZUZpbGUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYg\nKChtb2RlICYgTU9ERV9NQVBQSU5HKSAhPSAwKSB7CiAgICAgICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgc2Vxcy5sZW5ndGg7IGkrKykgewogICAgICAg\nICAgICAgICAgaWYgKGdldFNvdXJjZUZpbGUoc2Vxc1tpXSkgPT0gbnVsbCkK\nICAgICAgICAgICAgICAgICAgICBzZXRTb3VyY2VGaWxlKHNlcXNbaV0sIGRl\nZmF1bHRTb3VyY2VGaWxlKHNlcXNbaV0sCiAgICAgICAgICAgICAgICAgICAg\nICAgIGNsc05hbWVzKSk7CiAgICAgICAgICAgICAgICBpZiAoKChCb29sZWFu\nKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAg\nICAgICAgICBKMkRvUHJpdkhlbHBlci5leGlzdHNBY3Rpb24oZ2V0U291cmNl\nRmlsZShzZXFzW2ldKSkpKQogICAgICAgICAgICAgICAgICAgIC5ib29sZWFu\nVmFsdWUoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChmaWxlcyA9PSBu\ndWxsKQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlcyA9IG5ldyBIYXNo\nU2V0KCk7CiAgICAgICAgICAgICAgICAgICAgZmlsZXMuYWRkKGdldFNvdXJj\nZUZpbGUoc2Vxc1tpXSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAg\nICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmaWxlczsKICAgIH0KCiAg\nICAvKioKICAgICAqIEFzc2lnbiBkZWZhdWx0IHNvdXJjZSBmaWxlcyB0byB0\naGUgZ2l2ZW4gcXVlcmllcy4KICAgICAqCiAgICAgKiBAcGFyYW0gY2xzTmFt\nZXMgbWFwIG9mIGNsYXNzIG5hbWVzIHRvIG1ldGFkYXRhcwogICAgICogQHJl\ndHVybiBzZXQgb2YgZXhpc3RpbmcgZmlsZXMgdXNlZCBieSB0aGVzZSBtZXRh\nZGF0YXMsIG9yCiAgICAgKiBudWxsIGlmIG5vIGV4aXN0aW5nIGZpbGVzCiAg\nICAgKi8KICAgIHByaXZhdGUgU2V0IGFzc2lnbkRlZmF1bHRRdWVyeUZpbGVz\nKFF1ZXJ5TWV0YURhdGFbXSBxdWVyaWVzLAogICAgICAgIE1hcCBjbHNOYW1l\ncykgewogICAgICAgIFNldCBmaWxlcyA9IG51bGw7CiAgICAgICAgZm9yIChp\nbnQgaSA9IDA7IGkgPCBxdWVyaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAg\nICAgIGlmIChxdWVyaWVzW2ldLmdldFNvdXJjZU1vZGUoKSAhPSBNT0RFX1FV\nRVJZKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlm\nIChxdWVyaWVzW2ldLmdldFNvdXJjZUZpbGUoKSA9PSBudWxsKQogICAgICAg\nICAgICAgICAgcXVlcmllc1tpXS5zZXRTb3VyY2UoZGVmYXVsdFNvdXJjZUZp\nbGUocXVlcmllc1tpXSwgY2xzTmFtZXMpLAogICAgICAgICAgICAgICAgICAg\nIHF1ZXJpZXNbaV0uZ2V0U291cmNlU2NvcGUoKSwgcXVlcmllc1tpXS5nZXRT\nb3VyY2VUeXBlKCkpOwogICAgICAgICAgICBpZiAoKChCb29sZWFuKSBBY2Nl\nc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgICAgIEoy\nRG9Qcml2SGVscGVyLmV4aXN0c0FjdGlvbihxdWVyaWVzW2ldLmdldFNvdXJj\nZUZpbGUoKSkpKQogICAgICAgICAgICAgICAgLmJvb2xlYW5WYWx1ZSgpKSB7\nCiAgICAgICAgICAgICAgICBpZiAoZmlsZXMgPT0gbnVsbCkKICAgICAgICAg\nICAgICAgICAgICBmaWxlcyA9IG5ldyBIYXNoU2V0KCk7CiAgICAgICAgICAg\nICAgICBmaWxlcy5hZGQocXVlcmllc1tpXS5nZXRTb3VyY2VGaWxlKCkpOwog\nICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmaWxlczsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0cnVlIGlmIHRoaXMgZmFj\ndG9yeSBkZWFscyBvbmx5IHdpdGggbWFwcGluZyBkYXRhLCBhbmQgcmVsaWVz\nCiAgICAgKiBvbiBhIHNlcGFyYXRlIGZhY3RvcnkgZm9yIG1ldGFkYXRhLgog\nICAgICovCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBpc01hcHBpbmdPbmx5RmFj\ndG9yeSgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBQYXJzZSBhbGwgZ2l2ZW4gZmlsZXMuCiAgICAgKi8KICAgIHBy\nb3RlY3RlZCB2b2lkIHBhcnNlKE1ldGFEYXRhUGFyc2VyIHBhcnNlciwgQ29s\nbGVjdGlvbiBmaWxlcykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZv\nciAoSXRlcmF0b3IgaXRyID0gZmlsZXMuaXRlcmF0b3IoKTsgaXRyLmhhc05l\neHQoKTspCiAgICAgICAgICAgICAgICBwYXJzZXIucGFyc2UoKEZpbGUpIGl0\nci5uZXh0KCkpOwogICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGlvZSkg\newogICAgICAgICAgICB0aHJvdyBuZXcgR2VuZXJhbEV4Y2VwdGlvbihpb2Up\nOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFBhcnNlIGFsbCBn\naXZlbiBjbGFzc3Nlcy4KICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgcGFy\nc2UoTWV0YURhdGFQYXJzZXIgcGFyc2VyLCBDbGFzc1tdIGNscykgewogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgY2xz\nLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgcGFyc2VyLnBhcnNlKGNs\nc1tpXSwgaXNQYXJzZVRvcERvd24oKSk7CiAgICAgICAgfSBjYXRjaCAoSU9F\neGNlcHRpb24gaW9lKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFs\nRXhjZXB0aW9uKGlvZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAg\nICogV2hldGhlciB0byBwYXJzZSBjbGFzc2VzIHRvcCBkb3duLiBEZWZhdWx0\ncyB0byBmYWxzZS4KICAgICAqLwogICAgcHJvdGVjdGVkIGJvb2xlYW4gaXNQ\nYXJzZVRvcERvd24oKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoK\nICAgIC8qKgogICAgICogVGVsbCB0aGUgZ2l2ZW4gc2VyaWFsaWVyIHRvIHdy\naXRlIGl0cyBtZXRhZGF0YXMuCiAgICAgKi8KICAgIHByb3RlY3RlZCB2b2lk\nIHNlcmlhbGl6ZShNZXRhRGF0YVNlcmlhbGl6ZXIgc2VyLCBNYXAgb3V0cHV0\nLCBpbnQgZmxhZ3MpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAo\nb3V0cHV0ID09IG51bGwpCiAgICAgICAgICAgICAgICBzZXIuc2VyaWFsaXpl\nKGZsYWdzKTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgc2Vy\nLnNlcmlhbGl6ZShvdXRwdXQsIGZsYWdzKTsKICAgICAgICB9IGNhdGNoIChJ\nT0V4Y2VwdGlvbiBpb2UpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEdlbmVy\nYWxFeGNlcHRpb24oaW9lKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAg\nICAgKiBCYWNrdXAgYW5kIGRlbGV0ZSB0aGUgc291cmNlIGZpbGVzIGZvciB0\naGUgZ2l2ZW4gbWV0YWRhdGFzLgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9p\nZCBiYWNrdXBBbmREZWxldGUoQ29sbGVjdGlvbiBmaWxlcykgewogICAgICAg\nIEZpbGUgZmlsZTsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0ciA9IGZpbGVz\nLml0ZXJhdG9yKCk7IGl0ci5oYXNOZXh0KCk7KSB7CiAgICAgICAgICAgIGZp\nbGUgPSAoRmlsZSkgaXRyLm5leHQoKTsKICAgICAgICAgICAgaWYgKEZpbGVz\nLmJhY2t1cChmaWxlLCBmYWxzZSkgIT0gbnVsbCkKICAgICAgICAgICAgICAg\nIEFjY2Vzc0NvbnRyb2xsZXIKICAgICAgICAgICAgICAgICAgICAuZG9Qcml2\naWxlZ2VkKEoyRG9Qcml2SGVscGVyLmRlbGV0ZUFjdGlvbihmaWxlKSk7CiAg\nICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQ2xlYXIgbWFwcGluZyBp\nbmZvcm1hdGlvbiBmcm9tIHRoZSBnaXZlbiBtZXRhZGF0YS4KICAgICAqLwog\nICAgcHJvdGVjdGVkIHZvaWQgY2xlYXJNYXBwaW5nKENsYXNzTWV0YURhdGEg\nbWV0YSkgewogICAgICAgIG1ldGEuc2V0U291cmNlTW9kZShNT0RFX01BUFBJ\nTkcsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUg\nY3VycmVudCBzb3VyY2UgZmlsZSBvZiB0aGUgZ2l2ZW4gbWV0YWRhdGEuCiAg\nICAgKi8KICAgIHByb3RlY3RlZCBGaWxlIGdldFNvdXJjZUZpbGUoQ2xhc3NN\nZXRhRGF0YSBtZXRhKSB7CiAgICAgICAgcmV0dXJuIG1ldGEuZ2V0U291cmNl\nRmlsZSgpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBjdXJyZW50\nIHNvdXJjZSBmaWxlIG9mIHRoZSBnaXZlbiBtZXRhZGF0YS4KICAgICAqLwog\nICAgcHJvdGVjdGVkIHZvaWQgc2V0U291cmNlRmlsZShDbGFzc01ldGFEYXRh\nIG1ldGEsIEZpbGUgc291cmNlRmlsZSkgewogICAgICAgIG1ldGEuc2V0U291\ncmNlKHNvdXJjZUZpbGUsIG1ldGEuZ2V0U291cmNlVHlwZSgpKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgY3VycmVudCBzb3VyY2UgZmls\nZSBvZiB0aGUgZ2l2ZW4gbWV0YWRhdGEuCiAgICAgKi8KICAgIHByb3RlY3Rl\nZCBGaWxlIGdldFNvdXJjZUZpbGUoU2VxdWVuY2VNZXRhRGF0YSBtZXRhKSB7\nCiAgICAgICAgcmV0dXJuIG1ldGEuZ2V0U291cmNlRmlsZSgpOwogICAgfQoK\nICAgIC8qKgogICAgICogU2V0IHRoZSBjdXJyZW50IHNvdXJjZSBmaWxlIG9m\nIHRoZSBnaXZlbiBtZXRhZGF0YS4KICAgICAqLwogICAgcHJvdGVjdGVkIHZv\naWQgc2V0U291cmNlRmlsZShTZXF1ZW5jZU1ldGFEYXRhIG1ldGEsIEZpbGUg\nc291cmNlRmlsZSkgewogICAgICAgIG1ldGEuc2V0U291cmNlKHNvdXJjZUZp\nbGUsIG1ldGEuZ2V0U291cmNlU2NvcGUoKSwKICAgICAgICAgICAgbWV0YS5n\nZXRTb3VyY2VUeXBlKCkpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIHRoZSBkZWZhdWx0IGZpbGUgZm9yIHRoZSBnaXZlbiBtZXRhZGF0YS4KICAg\nICAqLwogICAgcHJvdGVjdGVkIGFic3RyYWN0IEZpbGUgZGVmYXVsdFNvdXJj\nZUZpbGUoQ2xhc3NNZXRhRGF0YSBtZXRhKTsKCiAgICAvKioKICAgICAqIFJl\ndHVybiBhIGRlZmF1bHQgZmlsZSBmb3IgdGhlIGdpdmVuIHF1ZXJ5LgogICAg\nICovCiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgRmlsZSBkZWZhdWx0U291cmNl\nRmlsZShRdWVyeU1ldGFEYXRhIHF1ZXJ5LAogICAgICAgIE1hcCBjbHNOYW1l\ncyk7CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBkZWZhdWx0IGZpbGUgZm9y\nIHRoZSBnaXZlbiBzZXF1ZW5jZS4KICAgICAqLwogICAgcHJvdGVjdGVkIGFi\nc3RyYWN0IEZpbGUgZGVmYXVsdFNvdXJjZUZpbGUoU2VxdWVuY2VNZXRhRGF0\nYSBzZXEsCiAgICAgICAgTWFwIGNsc05hbWVzKTsKCiAgICAvKioKICAgICAq\nIENyZWF0ZSBhIG5ldyBtZXRhZGF0YSBwYXJzZXIuCiAgICAgKgogICAgICog\nQHBhcmFtIGxvYWRpbmcgaWYgdHJ1ZSwgdGhpcyB3aWxsIGJlIHRoZSBjYWNo\nZWQgcGFyc2VyIHVzZWQgZm9yCiAgICAgKiBsb2FkaW5nIG1ldGFkYXRhCiAg\nICAgKi8KICAgIHByb3RlY3RlZCBhYnN0cmFjdCBQYXJzZXIgbmV3UGFyc2Vy\nKGJvb2xlYW4gbG9hZGluZyk7CgogICAgLyoqCiAgICAgKiBDcmVhdGUgYSBu\nZXcgbWV0YWRhdGEgc2VyaWFsaXplci4KICAgICAqLwogICAgcHJvdGVjdGVk\nIGFic3RyYWN0IFNlcmlhbGl6ZXIgbmV3U2VyaWFsaXplcigpOwoKICAgIC8q\nKgogICAgICogQ3JlYXRlIGEgbmV3IGFubm90YXRpb24gbWV0YWRhdGEgc2Vy\naWFsaXplci4KICAgICAqLwogICAgcHJvdGVjdGVkIGFic3RyYWN0IFNlcmlh\nbGl6ZXIgbmV3QW5ub3RhdGlvblNlcmlhbGl6ZXIoKTsKCiAgICAvKioKICAg\nICAqIFJldHVybiB0aGUgbWV0YWRhdGEgdGhhdCBkZWZpbmVzIHRoZSBnaXZl\nbiBxdWVyeSwgaWYgYW55LgogICAgICoKICAgICAqIEBwYXJhbSBjbHNOYW1l\ncyBtYXAgb2YgY2xhc3MgbmFtZXMgdG8gbWV0YWRhdGFzCiAgICAgKi8KICAg\nIHByb3RlY3RlZCBDbGFzc01ldGFEYXRhIGdldERlZmluaW5nTWV0YURhdGEo\nUXVlcnlNZXRhRGF0YSBxdWVyeSwKICAgICAgICBNYXAgY2xzTmFtZXMpIHsK\nICAgICAgICBDbGFzcyBkZWYgPSBxdWVyeS5nZXREZWZpbmluZ1R5cGUoKTsK\nICAgICAgICBpZiAoZGVmICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiAo\nQ2xhc3NNZXRhRGF0YSkgY2xzTmFtZXMuZ2V0KGRlZi5nZXROYW1lKCkpOwoK\nICAgICAgICBNYXAuRW50cnkgZW50cnk7CiAgICAgICAgU3RyaW5nIHBrZzsK\nICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0ciA9IGNsc05hbWVzLmVudHJ5U2V0\nKCkuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspIHsKICAgICAgICAgICAg\nZW50cnkgPSAoTWFwLkVudHJ5KSBpdHIubmV4dCgpOwogICAgICAgICAgICBw\na2cgPSBTdHJpbmdzLmdldFBhY2thZ2VOYW1lKChTdHJpbmcpIGVudHJ5Lmdl\ndEtleSgpKTsKICAgICAgICAgICAgaWYgKHBrZy5sZW5ndGgoKSA9PSAwKQog\nICAgICAgICAgICAgICAgcmV0dXJuIChDbGFzc01ldGFEYXRhKSBlbnRyeS5n\nZXRWYWx1ZSgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAg\nIH0KCiAgICBwdWJsaWMgU2V0IGdldFBlcnNpc3RlbnRUeXBlTmFtZXMoYm9v\nbGVhbiBkZXZwYXRoLCBDbGFzc0xvYWRlciBlbnZMb2FkZXIpIHsKICAgICAg\nICAvLyBzb21lIGNvbmZpZ3VyZWQgbG9jYXRpb25zIG1pZ2h0IGJlIGltcGxp\nY2l0IGluIHNwZWMsIHNvIHJldHVybgogICAgICAgIC8vIG51bGwgaWYgd2Ug\nZG9uJ3QgZmluZCBhbnkgY2xhc3NlcywgcmF0aGVyIHRoYW4gaWYgd2UgZG9u\nJ3QgaGF2ZQogICAgICAgIC8vIGFueSBsb2NhdGlvbnMKICAgICAgICBpZiAo\nX3R5cGVOYW1lcyAhPSBudWxsKQogICAgICAgICAgICByZXR1cm4gKF90eXBl\nTmFtZXMuaXNFbXB0eSgpKSA/IG51bGwgOiBfdHlwZU5hbWVzOwoKICAgICAg\nICB0cnkgewogICAgICAgICAgICBDbGFzc0xvYWRlciBsb2FkZXIgPSByZXBv\ncy5nZXRDb25maWd1cmF0aW9uKCkuCiAgICAgICAgICAgICAgICBnZXRDbGFz\nc1Jlc29sdmVySW5zdGFuY2UoKS5nZXRDbGFzc0xvYWRlcihnZXRDbGFzcygp\nLAogICAgICAgICAgICAgICAgZW52TG9hZGVyKTsKICAgICAgICAgICAgbG9u\nZyBzdGFydCA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwoKICAgICAg\nICAgICAgU2V0IG5hbWVzID0gcGFyc2VQZXJzaXN0ZW50VHlwZU5hbWVzKGxv\nYWRlcik7CiAgICAgICAgICAgIGlmIChuYW1lcy5pc0VtcHR5KCkgJiYgZGV2\ncGF0aCkKICAgICAgICAgICAgICAgIHNjYW4obmV3IENsYXNzcGF0aE1ldGFE\nYXRhSXRlcmF0b3IobnVsbCwgbmV3TWV0YURhdGFGaWx0ZXIoKSksCiAgICAg\nICAgICAgICAgICAgICAgbmV3Q2xhc3NBcmdQYXJzZXIoKSwgbmFtZXMsIGZh\nbHNlLCBudWxsKTsKICAgICAgICAgICAgZWxzZSAvLyB3ZSBkb24ndCBjYWNo\nZSBhIGZ1bGwgZGV2IGNwIHNjYW4KICAgICAgICAgICAgICAgIF90eXBlTmFt\nZXMgPSBuYW1lczsKCiAgICAgICAgICAgIGlmIChsb2cuaXNUcmFjZUVuYWJs\nZWQoKSkKICAgICAgICAgICAgICAgIGxvZy50cmFjZShfbG9jLmdldCgiZm91\nbmQtcGNzIiwgU3RyaW5nLnZhbHVlT2YobmFtZXMuc2l6ZSgpKSwKICAgICAg\nICAgICAgICAgICAgICBTdHJpbmcudmFsdWVPZihTeXN0ZW0uY3VycmVudFRp\nbWVNaWxsaXMoKSAtIHN0YXJ0KSkpOwogICAgICAgICAgICByZXR1cm4gKG5h\nbWVzLmlzRW1wdHkoKSkgPyBudWxsIDogbmFtZXM7CiAgICAgICAgfSBjYXRj\naCAoSU9FeGNlcHRpb24gaW9lKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBH\nZW5lcmFsRXhjZXB0aW9uKGlvZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogUGFyc2UgcGVyc2lzdGVudCB0eXBlIG5hbWVzLgogICAgICov\nCiAgICBwcml2YXRlIFNldCBwYXJzZVBlcnNpc3RlbnRUeXBlTmFtZXMoQ2xh\nc3NMb2FkZXIgbG9hZGVyKQogICAgICAgIHRocm93cyBJT0V4Y2VwdGlvbiB7\nCiAgICAgICAgQ2xhc3NBcmdQYXJzZXIgY3BhcnNlciA9IG5ld0NsYXNzQXJn\nUGFyc2VyKCk7CiAgICAgICAgU3RyaW5nW10gY2xzczsKICAgICAgICBTZXQg\nbmFtZXMgPSBuZXcgSGFzaFNldCgpOwogICAgICAgIGlmIChmaWxlcyAhPSBu\ndWxsKSB7CiAgICAgICAgICAgIEZpbGUgZmlsZTsKICAgICAgICAgICAgZm9y\nIChJdGVyYXRvciBpdHIgPSBmaWxlcy5pdGVyYXRvcigpOyBpdHIuaGFzTmV4\ndCgpOykgewogICAgICAgICAgICAgICAgZmlsZSA9IChGaWxlKSBpdHIubmV4\ndCgpOwogICAgICAgICAgICAgICAgaWYgKCgoQm9vbGVhbikgQWNjZXNzQ29u\ndHJvbGxlci5kb1ByaXZpbGVnZWQoSjJEb1ByaXZIZWxwZXIKICAgICAgICAg\nICAgICAgICAgICAuaXNEaXJlY3RvcnlBY3Rpb24oZmlsZSkpKS5ib29sZWFu\nVmFsdWUoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChsb2cuaXNUcmFj\nZUVuYWJsZWQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnRyYWNl\nKF9sb2MuZ2V0KCJzY2FubmluZy1kaXJlY3RvcnkiLCBmaWxlKSk7CiAgICAg\nICAgICAgICAgICAgICAgc2NhbihuZXcgRmlsZU1ldGFEYXRhSXRlcmF0b3Io\nZmlsZSwgbmV3TWV0YURhdGFGaWx0ZXIoKSksCiAgICAgICAgICAgICAgICAg\nICAgICAgIGNwYXJzZXIsIG5hbWVzLCB0cnVlLCBmaWxlKTsKICAgICAgICAg\nICAgICAgIH0gZWxzZSBpZiAoZmlsZS5nZXROYW1lKCkuZW5kc1dpdGgoIi5q\nYXIiKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChsb2cuaXNUcmFjZUVu\nYWJsZWQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnRyYWNlKF9s\nb2MuZ2V0KCJzY2FubmluZy1qYXIiLCBmaWxlKSk7CiAgICAgICAgICAgICAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgWmlwRmlsZSB6\nRmlsZSA9IChaaXBGaWxlKSBBY2Nlc3NDb250cm9sbGVyCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAuZG9Qcml2aWxlZ2VkKEoyRG9Qcml2SGVscGVy\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5ld1ppcEZpbGVB\nY3Rpb24oZmlsZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBzY2FuKG5l\ndyBaaXBGaWxlTWV0YURhdGFJdGVyYXRvcih6RmlsZSwKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIG5ld01ldGFEYXRhRmlsdGVyKCkpLCBjcGFyc2Vy\nLCBuYW1lcywgdHJ1ZSwgZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgfSBj\nYXRjaCAoUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbiBwYWUpIHsKICAgICAg\nICAgICAgICAgICAgICAgICAgdGhyb3cgKElPRXhjZXB0aW9uKSBwYWUuZ2V0\nRXhjZXB0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg\nICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9nLmlz\nVHJhY2VFbmFibGVkKCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy50\ncmFjZShfbG9jLmdldCgic2Nhbm5pbmctZmlsZSIsIGZpbGUpKTsKICAgICAg\nICAgICAgICAgICAgICBjbHNzID0gY3BhcnNlci5wYXJzZVR5cGVOYW1lcyhu\nZXcgRmlsZU1ldGFEYXRhSXRlcmF0b3IKICAgICAgICAgICAgICAgICAgICAg\nICAgKGZpbGUpKTsKICAgICAgICAgICAgICAgICAgICBpZiAobG9nLmlzVHJh\nY2VFbmFibGVkKCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy50cmFj\nZShfbG9jLmdldCgic2Nhbi1mb3VuZC1uYW1lcyIsIGNsc3MsIGZpbGUpKTsK\nICAgICAgICAgICAgICAgICAgICBuYW1lcy5hZGRBbGwoQXJyYXlzLmFzTGlz\ndChjbHNzKSk7CiAgICAgICAgICAgICAgICAgICAgbWFwUGVyc2lzdGVudFR5\ncGVOYW1lcygoKEZpbGUpIEFjY2Vzc0NvbnRyb2xsZXIKICAgICAgICAgICAg\nICAgICAgICAgICAgLmRvUHJpdmlsZWdlZChKMkRvUHJpdkhlbHBlcgogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgLmdldEFic29sdXRlRmlsZUFjdGlv\nbihmaWxlKSkpLnRvVVJMKCksIGNsc3MpOwogICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIFVSTCB1cmw7CiAgICAg\nICAgaWYgKHVybHMgIT0gbnVsbCkgewogICAgICAgICAgICBmb3IgKEl0ZXJh\ndG9yIGl0ciA9IHVybHMuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspIHsK\nICAgICAgICAgICAgICAgIHVybCA9IChVUkwpIGl0ci5uZXh0KCk7CiAgICAg\nICAgICAgICAgICBpZiAoImZpbGUiLmVxdWFscyh1cmwuZ2V0UHJvdG9jb2wo\nKSkpIHsKICAgICAgICAgICAgICAgICAgICBGaWxlIGZpbGUgPSAoRmlsZSkg\nQWNjZXNzQ29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgICAgICAuZG9Q\ncml2aWxlZ2VkKEoyRG9Qcml2SGVscGVyCiAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAuZ2V0QWJzb2x1dGVGaWxlQWN0aW9uKG5ldyBGaWxlKHVybC5n\nZXRGaWxlKCkpKSk7IAogICAgICAgICAgICAgICAgICAgIGlmIChmaWxlcyAh\nPSBudWxsICYmIGZpbGVzLmNvbnRhaW5zKGZpbGUpKSB7CiAgICAgICAgICAg\nICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0g\nZWxzZSBpZiAoKChCb29sZWFuKSBBY2Nlc3NDb250cm9sbGVyCiAgICAgICAg\nICAgICAgICAgICAgICAgIC5kb1ByaXZpbGVnZWQoSjJEb1ByaXZIZWxwZXIu\naXNEaXJlY3RvcnlBY3Rpb24oZmlsZSkpKQogICAgICAgICAgICAgICAgICAg\nICAgICAuYm9vbGVhblZhbHVlKCkpIHsKICAgICAgICAgICAgICAgICAgICAg\nICAgaWYgKGxvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgbG9nLnRyYWNlKF9sb2MuZ2V0KCJzY2FubmluZy1kaXJl\nY3RvcnkiLCBmaWxlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNjYW4o\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRmlsZU1ldGFEYXRh\nSXRlcmF0b3IoZmlsZSwgbmV3TWV0YURhdGFGaWx0ZXIoKSksCiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBjcGFyc2VyLCBuYW1lcywgdHJ1ZSwgZmls\nZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nICAgIGlmICgiamFyIi5lcXVhbHModXJsLmdldFByb3RvY29sKCkpCiAgICAg\nICAgICAgICAgICAgICAgJiYgdXJsLmdldFBhdGgoKS5lbmRzV2l0aCgiIS8i\nKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChsb2cuaXNUcmFjZUVuYWJs\nZWQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnRyYWNlKF9sb2Mu\nZ2V0KCJzY2FubmluZy1qYXItdXJsIiwgdXJsKSk7CiAgICAgICAgICAgICAg\nICAgICAgc2NhbihuZXcgWmlwRmlsZU1ldGFEYXRhSXRlcmF0b3IodXJsLAog\nICAgICAgICAgICAgICAgICAgICAgICBuZXdNZXRhRGF0YUZpbHRlcigpKSwg\nY3BhcnNlciwgbmFtZXMsIHRydWUsIHVybCk7CiAgICAgICAgICAgICAgICB9\nIGVsc2UgaWYgKHVybC5nZXRQYXRoKCkuZW5kc1dpdGgoIi5qYXIiKSkgewog\nICAgICAgICAgICAgICAgICAgIGlmIChsb2cuaXNUcmFjZUVuYWJsZWQoKSkK\nICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnRyYWNlKF9sb2MuZ2V0KCJz\nY2FubmluZy1qYXItYXQtdXJsIiwgdXJsKSk7CiAgICAgICAgICAgICAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRTdHJlYW0g\naXMgPSAoSW5wdXRTdHJlYW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5vcGVuU3RyZWFt\nQWN0aW9uKHVybCkpOwogICAgICAgICAgICAgICAgICAgICAgICBzY2FuKG5l\ndyBaaXBTdHJlYW1NZXRhRGF0YUl0ZXJhdG9yKAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgbmV3IFppcElucHV0U3RyZWFtKGlzKSwKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIG5ld01ldGFEYXRhRmlsdGVyKCkpLCBjcGFy\nc2VyLCBuYW1lcywgdHJ1ZSwgdXJsKTsKICAgICAgICAgICAgICAgICAgICB9\nIGNhdGNoIChQcml2aWxlZ2VkQWN0aW9uRXhjZXB0aW9uIHBhZSkgewogICAg\nICAgICAgICAgICAgICAgICAgICB0aHJvdyAoSU9FeGNlcHRpb24pIHBhZS5n\nZXRFeGNlcHRpb24oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChsb2cu\naXNUcmFjZUVuYWJsZWQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgbG9n\nLnRyYWNlKF9sb2MuZ2V0KCJzY2FubmluZy11cmwiLCB1cmwpKTsKICAgICAg\nICAgICAgICAgICAgICBjbHNzID0gY3BhcnNlci5wYXJzZVR5cGVOYW1lcyhu\nZXcgVVJMTWV0YURhdGFJdGVyYXRvcih1cmwpKTsKICAgICAgICAgICAgICAg\nICAgICBpZiAobG9nLmlzVHJhY2VFbmFibGVkKCkpCiAgICAgICAgICAgICAg\nICAgICAgICAgIGxvZy50cmFjZShfbG9jLmdldCgic2Nhbi1mb3VuZC1uYW1l\ncyIsIGNsc3MsIHVybCkpOwogICAgICAgICAgICAgICAgICAgIG5hbWVzLmFk\nZEFsbChBcnJheXMuYXNMaXN0KGNsc3MpKTsKICAgICAgICAgICAgICAgICAg\nICBtYXBQZXJzaXN0ZW50VHlwZU5hbWVzKHVybCwgY2xzcyk7CiAgICAgICAg\nICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYg\nKHJzcmNzICE9IG51bGwpIHsKICAgICAgICAgICAgU3RyaW5nIHJzcmM7CiAg\nICAgICAgICAgIE1ldGFEYXRhSXRlcmF0b3IgbWl0cjsKICAgICAgICAgICAg\nZm9yIChJdGVyYXRvciBpdHIgPSByc3Jjcy5pdGVyYXRvcigpOyBpdHIuaGFz\nTmV4dCgpOykgewogICAgICAgICAgICAgICAgcnNyYyA9IChTdHJpbmcpIGl0\nci5uZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAocnNyYy5lbmRzV2l0aCgi\nLmphciIpKSB7CiAgICAgICAgICAgICAgICAgICAgdXJsID0gKFVSTCkgQWNj\nZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAgICAgICAgICAg\nICAgICAgIEoyRG9Qcml2SGVscGVyLmdldFJlc291cmNlQWN0aW9uKGxvYWRl\nciwgcnNyYykpOyAKICAgICAgICAgICAgICAgICAgICBpZiAodXJsICE9IG51\nbGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvZy5pc1RyYWNl\nRW5hYmxlZCgpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnRy\nYWNlKF9sb2MuZ2V0KCJzY2FubmluZy1qYXItc3RyZWFtLXVybCIsIHVybCkp\nOwogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgSW5wdXRTdHJlYW0gaXMgPSAoSW5wdXRTdHJlYW0p\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXNzQ29udHJv\nbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIEoyRG9Qcml2SGVscGVyLm9wZW5TdHJlYW1BY3Rpb24odXJs\nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FuKG5ldyBaaXBT\ndHJlYW1NZXRhRGF0YUl0ZXJhdG9yCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgKG5ldyBaaXBJbnB1dFN0cmVhbShpcyksCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgbmV3TWV0YURhdGFGaWx0ZXIoKSksIGNw\nYXJzZXIsIG5hbWVzLCB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIHVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gg\nKFByaXZpbGVnZWRBY3Rpb25FeGNlcHRpb24gcGFlKSB7CiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICB0aHJvdyAoSU9FeGNlcHRpb24pIHBhZS5nZXRF\neGNlcHRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAg\nICAgICAgICAgICAgICAgaWYgKGxvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAg\nICAgICAgICAgICAgICAgICAgICBsb2cudHJhY2UoX2xvYy5nZXQoInNjYW5u\naW5nLXJlc291cmNlIiwgcnNyYykpOwogICAgICAgICAgICAgICAgICAgIG1p\ndHIgPSBuZXcgUmVzb3VyY2VNZXRhRGF0YUl0ZXJhdG9yKHJzcmMsIGxvYWRl\ncik7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG1pdHIuaGFzTmV4dCgp\nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IChVUkwpIG1pdHIu\nbmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjbHNzID0gY3BhcnNl\nci5wYXJzZVR5cGVOYW1lcyhuZXcgVVJMTWV0YURhdGFJdGVyYXRvcgogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgKHVybCkpOwogICAgICAgICAgICAg\nICAgICAgICAgICBpZiAobG9nLmlzVHJhY2VFbmFibGVkKCkpCiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBsb2cudHJhY2UoX2xvYy5nZXQoInNjYW4t\nZm91bmQtbmFtZXMiLCBjbHNzLCByc3JjKSk7CiAgICAgICAgICAgICAgICAg\nICAgICAgIG5hbWVzLmFkZEFsbChBcnJheXMuYXNMaXN0KGNsc3MpKTsKICAg\nICAgICAgICAgICAgICAgICAgICAgbWFwUGVyc2lzdGVudFR5cGVOYW1lcyh1\ncmwsIGNsc3MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nICAgICAgICBtaXRyLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAg\nICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGNwYXRoICE9IG51bGwp\nIHsKICAgICAgICAgICAgU3RyaW5nW10gZGlycyA9IChTdHJpbmdbXSkgY3Bh\ndGgudG9BcnJheShuZXcgU3RyaW5nW2NwYXRoLnNpemUoKV0pOwogICAgICAg\nICAgICBzY2FuKG5ldyBDbGFzc3BhdGhNZXRhRGF0YUl0ZXJhdG9yKGRpcnMs\nIG5ld01ldGFEYXRhRmlsdGVyKCkpLAogICAgICAgICAgICAgICAgY3BhcnNl\nciwgbmFtZXMsIHRydWUsIGRpcnMpOwogICAgICAgIH0KICAgICAgICBpZiAo\ndHlwZXMgIT0gbnVsbCkKICAgICAgICAgICAgbmFtZXMuYWRkQWxsKHR5cGVz\nKTsKCiAgICAgICAgaWYgKGxvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAgICAg\nICAgICBsb2cudHJhY2UoX2xvYy5nZXQoInBhcnNlLWZvdW5kLW5hbWVzIiwg\nbmFtZXMpKTsKICAgICAgICAKICAgICAgICByZXR1cm4gbmFtZXM7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBTY2FuIGZvciBwZXJzaXN0ZW50IHR5cGUgbmFt\nZXMgdXNpbmcgdGhlIGdpdmVuIG1ldGFkYXRhIGl0ZXJhdG9yLgogICAgICov\nCiAgICBwcml2YXRlIHZvaWQgc2NhbihNZXRhRGF0YUl0ZXJhdG9yIG1pdHIs\nIENsYXNzQXJnUGFyc2VyIGNwYXJzZXIsIFNldCBuYW1lcywKICAgICAgICBi\nb29sZWFuIG1hcE5hbWVzLCBPYmplY3QgZGVidWdDb250ZXh0KQogICAgICAg\nIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgTWFwIG1hcDsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBtYXAgPSBjcGFyc2VyLm1hcFR5cGVOYW1l\ncyhtaXRyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBtaXRy\nLmNsb3NlKCk7CiAgICAgICAgfQoKICAgICAgICBNYXAuRW50cnkgZW50cnk7\nCiAgICAgICAgZm9yIChJdGVyYXRvciBpdHIgPSBtYXAuZW50cnlTZXQoKS5p\ndGVyYXRvcigpOyBpdHIuaGFzTmV4dCgpOykgewogICAgICAgICAgICBlbnRy\neSA9IChNYXAuRW50cnkpIGl0ci5uZXh0KCk7CiAgICAgICAgICAgIGlmICht\nYXBOYW1lcykKICAgICAgICAgICAgICAgIG1hcFBlcnNpc3RlbnRUeXBlTmFt\nZXMoZW50cnkuZ2V0S2V5KCksIChTdHJpbmdbXSkKICAgICAgICAgICAgICAg\nICAgICBlbnRyeS5nZXRWYWx1ZSgpKTsKICAgICAgICAgICAgTGlzdCBuZXdO\nYW1lcyA9IEFycmF5cy5hc0xpc3QoKFN0cmluZ1tdKSBlbnRyeS5nZXRWYWx1\nZSgpKTsKICAgICAgICAgICAgaWYgKGxvZy5pc1RyYWNlRW5hYmxlZCgpKQog\nICAgICAgICAgICAgICAgbG9nLnRyYWNlKF9sb2MuZ2V0KCJzY2FuLWZvdW5k\nLW5hbWVzIiwgbmV3TmFtZXMsIGRlYnVnQ29udGV4dCkpOwogICAgICAgICAg\nICBuYW1lcy5hZGRBbGwobmV3TmFtZXMpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIEltcGxlbWVudCB0aGlzIG1ldGhvZCB0byBtYXAgbWV0\nYWRhdGEgcmVzb3VyY2VzIHRvIHRoZSBwZXJzaXN0ZW50CiAgICAgKiB0eXBl\ncyBjb250YWluZWQgd2l0aGluIHRoZW0uIFRoZSBtZXRob2Qgd2lsbCBiZSBj\nYWxsZWQgd2hlbgogICAgICoge0BsaW5rICNnZXRQZXJzaXN0ZW50VHlwZU5h\nbWVzfSBpcyBpbnZva2VkLgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBt\nYXBQZXJzaXN0ZW50VHlwZU5hbWVzKE9iamVjdCByc3JjLCBTdHJpbmdbXSBu\nYW1lcykgewogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgbWV0YWRh\ndGEgZmlsdGVyIHRoYXQgaWRlbnRpZmllcyBtZXRhZGF0YSByZXNvdXJjZXMg\nd2hlbgogICAgICogcGVyZm9ybWluZyBqYXIgYW5kIGNsYXNzcGF0aCBzY2Fu\ncy4KICAgICAqLwogICAgcHJvdGVjdGVkIGFic3RyYWN0IE1ldGFEYXRhRmls\ndGVyIG5ld01ldGFEYXRhRmlsdGVyKCk7CgogICAgcHVibGljIHZvaWQgY2xl\nYXIoKSB7CiAgICAgICAgc3VwZXIuY2xlYXIoKTsKICAgICAgICBfdHlwZU5h\nbWVzID0gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIEludGVybmFsIHBh\ncnNlciBpbnRlcmZhY2UuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgaW50\nZXJmYWNlIFBhcnNlcgogICAgICAgIGV4dGVuZHMgTWV0YURhdGFQYXJzZXIg\newoKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1cm5zIHRoZSByZXBvc2l0\nb3J5IGZvciB0aGlzIHBhcnNlci4gSWYgbm9uZSBoYXMgYmVlbiBzZXQsCiAg\nICAgICAgICogY3JlYXRlcyBhIG5ldyByZXBvc2l0b3J5IGFuZCBzZXRzIGl0\nLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBNZXRhRGF0YVJlcG9zaXRv\ncnkgZ2V0UmVwb3NpdG9yeSgpOwoKICAgICAgICAvKioKICAgICAgICAgKiBU\naGUgcGFyc2UgbW9kZSBhY2NvcmRpbmcgdG8gdGhlIGV4cGVjdGVkIGRvY3Vt\nZW50IHR5cGUuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIHZvaWQgc2V0\nTW9kZShpbnQgbW9kZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnRlcm5h\nbCBzZXJpYWxpemVyIGludGVyZmFjZS4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBpbnRlcmZhY2UgU2VyaWFsaXplcgogICAgICAgIGV4dGVuZHMgTWV0\nYURhdGFTZXJpYWxpemVyIHsKCiAgICAgICAgLyoqCiAgICAgICAgICogVGhl\nIHNlcmlhbGl6YXRpb24gbW9kZSBhY2NvcmRpbmcgdG8gdGhlIGV4cGVjdGVk\nIGRvY3VtZW50IHR5cGUuIFRoZQogICAgICAgICAqIG1vZGUgY29uc3RhbnRz\nIGFjdCBhcyBiaXQgZmxhZ3MsIGFuZCB0aGVyZWZvcmUgY2FuIGJlIGNvbWJp\nbmVkLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyB2b2lkIHNldE1vZGUo\naW50IG1vZGUpOwoKICAgICAgICAvKioKICAgICAgICAgKiBBZGQgYSBjbGFz\ncyBtZXRhIGRhdGEgdG8gdGhlIHNldCB0byBiZSBzZXJpYWxpemVkLgogICAg\nICAgICAqLwogICAgICAgIHB1YmxpYyB2b2lkIGFkZE1ldGFEYXRhKENsYXNz\nTWV0YURhdGEgbWV0YSk7CgogICAgICAgIC8qKgogICAgICAgICAqIFJlbW92\nZSBhIGNsYXNzIG1ldGEgZGF0YSBmcm9tIHRoZSBzZXQgdG8gYmUgc2VyaWFs\naXplZC4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgYm9vbGVhbiByZW1v\ndmVNZXRhRGF0YShDbGFzc01ldGFEYXRhIG1ldGEpOwoKICAgICAgICAvKioK\nICAgICAgICAgKiBBZGQgYSBzZXF1ZW5jZSBtZXRhIGRhdGEgdG8gdGhlIHNl\ndCB0byBiZSBzZXJpYWxpemVkLgogICAgICAgICAqLwogICAgICAgIHB1Ymxp\nYyB2b2lkIGFkZFNlcXVlbmNlTWV0YURhdGEoU2VxdWVuY2VNZXRhRGF0YSBt\nZXRhKTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkIGEgcXVlcnkgbWV0\nYSBkYXRhIHRvIHRoZSBzZXQgdG8gYmUgc2VyaWFsaXplZC4KICAgICAgICAg\nKi8KICAgICAgICBwdWJsaWMgdm9pZCBhZGRRdWVyeU1ldGFEYXRhKFF1ZXJ5\nTWV0YURhdGEgbWV0YSk7CgogICAgICAgIC8qKgogICAgICAgICAqIEFkZCBh\nbGwgY29tcG9uZW50cyBpbiB0aGUgZ2l2ZW4gcmVwb3NpdG9yeSB0byB0aGUg\nc2V0IHRvIGJlCiAgICAgICAgICogc2VyaWFsaXplZC4KICAgICAgICAgKi8K\nICAgICAgICBwdWJsaWMgdm9pZCBhZGRBbGwgKE1ldGFEYXRhUmVwb3NpdG9y\neSByZXBvcyk7CiAgICB9Cn0K\n","encoding":"base64"}

