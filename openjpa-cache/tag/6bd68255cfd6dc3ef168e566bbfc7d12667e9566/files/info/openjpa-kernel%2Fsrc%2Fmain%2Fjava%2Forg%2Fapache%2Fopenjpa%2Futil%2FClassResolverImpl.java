{"sha":"a325a69ea4c8bfe8854d73df5e1eb86a6e0fcc03","node_id":"MDQ6QmxvYjIwNjM2NDphMzI1YTY5ZWE0YzhiZmU4ODU0ZDczZGY1ZTFlYjg2YTZlMGZjYzAz","size":2817,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a325a69ea4c8bfe8854d73df5e1eb86a6e0fcc03","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbDsKCmltcG9ydCBqYXZh\nLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXI7CgppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmxpYi51dGlsLkoyRG9Qcml2SGVscGVyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLk11bHRpQ2xhc3NMb2FkZXI7Cgov\nKioKICogRGVmYXVsdCBjbGFzcyByZXNvbHZlciBpbXBsZW1lbnRhdGlvbi4K\nICoKICogQHNpbmNlIDAuMy4wCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpw\ndWJsaWMgY2xhc3MgQ2xhc3NSZXNvbHZlckltcGwKICAgIGltcGxlbWVudHMg\nQ2xhc3NSZXNvbHZlciB7CgogICAgcHVibGljIENsYXNzTG9hZGVyIGdldENs\nYXNzTG9hZGVyKENsYXNzIGNvbnRleHRDbGFzcywKICAgICAgICBDbGFzc0xv\nYWRlciBlbnZMb2FkZXIpIHsKICAgICAgICAvLyBnZXQgdGhlIGNvbnRleHQg\nY2xhc3MnIGxvYWRlcjsgaWYgdGhlIGNsYXNzIHdhcyBsb2FkZWQgYnkgdGhl\nCiAgICAgICAgLy8gYm9vdHN0cmFwIGxvYWRlciwgdXNlIHRoZSBzeXN0ZW0g\nY2xhc3Nsb2FkZXIgaW4gdGhlIGhvcGVzIHRoYXQKICAgICAgICAvLyBjbGFz\ncy5mb3JOYW1lIGNhbGxzIG9uIGl0IHdpbGwgZmluZCB0aGUgYm9vdHN0cmFw\nIGxvYWRlcidzIGNhY2hlZAogICAgICAgIC8vIGNsYXNzICh0aGUgYm9vdHN0\ncmFwIGxvYWRlciBpcyB0aGUgcGFyZW50IG9mIHRoZSBzeXN0ZW0gbG9hZGVy\nKQogICAgICAgIENsYXNzTG9hZGVyIGNvbnRleHRMb2FkZXIgPSBudWxsOwog\nICAgICAgIGlmIChjb250ZXh0Q2xhc3MgIT0gbnVsbCkgewogICAgICAgICAg\nICBjb250ZXh0TG9hZGVyID0gKENsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9s\nbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVs\ncGVyLmdldENsYXNzTG9hZGVyQWN0aW9uKGNvbnRleHRDbGFzcykpOyAKICAg\nICAgICAgICAgaWYgKGNvbnRleHRMb2FkZXIgPT0gbnVsbCkKICAgICAgICAg\nICAgICAgIGNvbnRleHRMb2FkZXIgPSAoQ2xhc3NMb2FkZXIpIEFjY2Vzc0Nv\nbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAgICAgICAgICAgIEoy\nRG9Qcml2SGVscGVyLmdldFN5c3RlbUNsYXNzTG9hZGVyQWN0aW9uKCkpOyAK\nICAgICAgICB9CgogICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIHVu\naXF1ZSBsb2FkZXIsIGp1c3QgcmV0dXJuIGl0CiAgICAgICAgQ2xhc3NMb2Fk\nZXIgdGhyZWFkTG9hZGVyID0gKENsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9s\nbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgSjJEb1ByaXZIZWxwZXIu\nZ2V0Q29udGV4dENsYXNzTG9hZGVyQWN0aW9uKCkpOwogICAgICAgIGlmICgo\nY29udGV4dExvYWRlciA9PSBudWxsIHx8IGNvbnRleHRMb2FkZXIgPT0gdGhy\nZWFkTG9hZGVyKQogICAgICAgICAgICAmJiAoZW52TG9hZGVyID09IG51bGwg\nfHwgZW52TG9hZGVyID09IHRocmVhZExvYWRlcikpCiAgICAgICAgICAgIHJl\ndHVybiB0aHJlYWRMb2FkZXI7CgogICAgICAgIC8vIGNvbnN0cnVjdCBhIG11\nbHRpIGNsYXNzIGxvYWRlciB0aGF0IHdpbGwgZGVsZWdhdGUgaW4gdGhlIG9y\nZGVyCiAgICAgICAgLy8gZGVzY3JpYmVkIGluIHNlY3Rpb24gMTIuNSBvZiB0\naGUgc3BlYwogICAgICAgIE11bHRpQ2xhc3NMb2FkZXIgbG9hZGVyID0gKE11\nbHRpQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRyb2xsZXIKICAgICAgICAgICAg\nLmRvUHJpdmlsZWdlZChKMkRvUHJpdkhlbHBlci5uZXdNdWx0aUNsYXNzTG9h\nZGVyQWN0aW9uKCkpOwogICAgICAgIGlmIChjb250ZXh0TG9hZGVyICE9IG51\nbGwpCiAgICAgICAgICAgIGxvYWRlci5hZGRDbGFzc0xvYWRlcihjb250ZXh0\nTG9hZGVyKTsKICAgICAgICBsb2FkZXIuYWRkQ2xhc3NMb2FkZXIodGhyZWFk\nTG9hZGVyKTsKICAgICAgICBpZiAoZW52TG9hZGVyICE9IG51bGwpCiAgICAg\nICAgICAgIGxvYWRlci5hZGRDbGFzc0xvYWRlcihlbnZMb2FkZXIpOwogICAg\nICAgIHJldHVybiBsb2FkZXI7CiAgICB9Cn0K\n","encoding":"base64"}

