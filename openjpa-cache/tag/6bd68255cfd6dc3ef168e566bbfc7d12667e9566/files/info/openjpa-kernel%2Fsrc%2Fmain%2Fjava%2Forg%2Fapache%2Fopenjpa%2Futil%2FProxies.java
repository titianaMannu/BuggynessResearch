{"sha":"bd2fd656ffeb5230f1040db63c28ff13d5c5a5b3","node_id":"MDQ6QmxvYjIwNjM2NDpiZDJmZDY1NmZmZWI1MjMwZjEwNDBkYjYzYzI4ZmYxM2Q1YzVhNWIz","size":3165,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bd2fd656ffeb5230f1040db63c28ff13d5c5a5b3","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbDsKCmltcG9ydCBqYXZh\nLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXI7CgppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5PcGVuSlBBU3RhdGVNYW5hZ2VyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkoyRG9Qcml2SGVscGVyOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsK\nCi8qKgogKiBVdGlsaXR5IG1ldGhvZHMgZm9yIG1hbmFnaW5nIHByb3hpZXMu\nCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgUHJv\neGllcyB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9s\nb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZShQcm94aWVzLmNsYXNzKTsKCiAg\nICAvKioKICAgICAqIFVzZWQgYnkgcHJveHkgdHlwZXMgdG8gY2hlY2sgaWYg\ndGhlIGdpdmVuIG93bmVycyBhbmQgZmllbGQgbmFtZXMKICAgICAqIGFyZSBl\ncXVpdmFsZW50LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4g\naXNPd25lcihQcm94eSBwcm94eSwgT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwK\nICAgICAgICBpbnQgZmllbGQpIHsKICAgICAgICByZXR1cm4gcHJveHkuZ2V0\nT3duZXIoKSA9PSBzbSAmJiBwcm94eS5nZXRPd25lckZpZWxkKCkgPT0gZmll\nbGQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBVc2VkIGJ5IHByb3h5IHR5cGVz\nIHRvIGNoZWNrIHRoYXQgYW4gYXR0ZW1wdCB0byBhZGQgYSBuZXcgdmFsdWUg\naXMgbGVnYWwuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBhc3Nl\ncnRBbGxvd2VkVHlwZShPYmplY3QgdmFsdWUsIENsYXNzIGFsbG93ZWQpIHsK\nICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiBhbGxvd2VkICE9IG51bGwg\nJiYgIWFsbG93ZWQuaXNJbnN0YW5jZSh2YWx1ZSkpIHsKICAgICAgICAgICAg\ndGhyb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoImJhZC1lbGVtLXR5\ncGUiLCBuZXcgT2JqZWN0W117CiAgICAgICAgICAgICAgICAoQ2xhc3NMb2Fk\nZXIpIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAg\nICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENsYXNzTG9hZGVyQWN0aW9u\nKGFsbG93ZWQpKSwKICAgICAgICAgICAgICAgIGFsbG93ZWQsCiAgICAgICAg\nICAgICAgICAoQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2\naWxlZ2VkKAogICAgICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdl\ndENsYXNzTG9hZGVyQWN0aW9uKHZhbHVlLmdldENsYXNzKCkpKSwKICAgICAg\nICAgICAgICAgIHZhbHVlLmdldENsYXNzKCkKICAgICAgICAgICAgfSkpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFVzZWQgYnkgcHJveHkg\ndHlwZXMgdG8gZGlydHkgdGhlaXIgb3duZXIuCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgdm9pZCBkaXJ0eShQcm94eSBwcm94eSwgYm9vbGVhbiBzdG9w\nVHJhY2tpbmcpIHsKICAgICAgICBpZiAocHJveHkuZ2V0T3duZXIoKSAhPSBu\ndWxsKQogICAgICAgICAgICBwcm94eS5nZXRPd25lcigpLmRpcnR5KHByb3h5\nLmdldE93bmVyRmllbGQoKSk7CiAgICAgICAgaWYgKHN0b3BUcmFja2luZyAm\nJiBwcm94eS5nZXRDaGFuZ2VUcmFja2VyKCkgIT0gbnVsbCkKICAgICAgICAg\nICAgcHJveHkuZ2V0Q2hhbmdlVHJhY2tlcigpLnN0b3BUcmFja2luZygpOwog\nICAgfQoKICAgIC8qKgogICAgICogVXNlZCBieSBwcm94eSB0eXBlcyB0byBu\nb3RpZnkgY29sbGVjdGlvbiBvd25lciBvbiBlbGVtZW50IHJlbW92YWwuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCByZW1vdmVkKFByb3h5IHBy\nb3h5LCBPYmplY3QgcmVtb3ZlZCwgYm9vbGVhbiBrZXkpIHsKICAgICAgICBp\nZiAocHJveHkuZ2V0T3duZXIoKSAhPSBudWxsICYmIHJlbW92ZWQgIT0gbnVs\nbCkKICAgICAgICAgICAgcHJveHkuZ2V0T3duZXIoKS5yZW1vdmVkKHByb3h5\nLmdldE93bmVyRmllbGQoKSwgcmVtb3ZlZCwga2V5KTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFVzZWQgYnkgcHJveHkgdHlwZXMgdG8gc2VyaWFsaXplIG5v\nbi1wcm94eSB2ZXJzaW9ucy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBP\nYmplY3Qgd3JpdGVSZXBsYWNlKFByb3h5IHByb3h5LCBib29sZWFuIGRldGFj\naGFibGUpIHsKICAgICAgICBpZiAoZGV0YWNoYWJsZSAmJiAocHJveHkgPT0g\nbnVsbCB8fCBwcm94eS5nZXRPd25lcigpID09IG51bGwgCiAgICAgICAgICAg\nIHx8IHByb3h5LmdldE93bmVyKCkuaXNEZXRhY2hlZCgpKSkKICAgICAgICAg\nICAgcmV0dXJuIHByb3h5OwogICAgICAgIHJldHVybiBwcm94eS5jb3B5KHBy\nb3h5KTsKICAgIH0KfQoK\n","encoding":"base64"}

