{"sha":"629c0a3c0b959f22afd25b88423ea6580cceca34","node_id":"MDQ6QmxvYjIwNjM2NDo2MjljMGEzYzBiOTU5ZjIyYWZkMjViODg0MjNlYTY1ODBjY2VjYTM0","size":4104,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/629c0a3c0b959f22afd25b88423ea6580cceca34","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmY7CgppbXBvcnQg\namF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyOwoKaW1wb3J0IG9yZy5h\ncGFjaGUuY29tbW9ucy5sYW5nLk9iamVjdFV0aWxzOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi51dGlsLkoyRG9Qcml2SGVscGVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5SZWZlcmVuY2VNYXA7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVudC5D\nb25jdXJyZW50UmVmZXJlbmNlSGFzaE1hcDsKCi8qKgogKiBBbiBvYmplY3Qg\ne0BsaW5rIFZhbHVlfS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1\nYmxpYyBjbGFzcyBPYmplY3RWYWx1ZSBleHRlbmRzIFZhbHVlIHsKCiAgICBw\ncml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXpl\nci5mb3JQYWNrYWdlCiAgICAgICAgKE9iamVjdFZhbHVlLmNsYXNzKTsKCiAg\nICAvLyBjYWNoZSB0aGUgdHlwZXMnIGNsYXNzbG9hZGVyCiAgICBwcml2YXRl\nIHN0YXRpYyBDb25jdXJyZW50UmVmZXJlbmNlSGFzaE1hcCBfY2xhc3Nsb2Fk\nZXJDYWNoZSA9CiAgICAgICAgbmV3IENvbmN1cnJlbnRSZWZlcmVuY2VIYXNo\nTWFwKFJlZmVyZW5jZU1hcC5IQVJELCBSZWZlcmVuY2VNYXAuV0VBSyk7Cgog\nICAgcHJpdmF0ZSBPYmplY3QgX3ZhbHVlID0gbnVsbDsKCiAgICBwdWJsaWMg\nT2JqZWN0VmFsdWUoU3RyaW5nIHByb3ApIHsKICAgICAgICBzdXBlcihwcm9w\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBpbnRlcm5hbCB2YWx1ZS4K\nICAgICAqLwogICAgcHVibGljIE9iamVjdCBnZXQoKSB7CiAgICAgICAgcmV0\ndXJuIF92YWx1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBpbnRlcm5h\nbCB2YWx1ZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0KE9iamVjdCBv\nYmopIHsKICAgICAgICBzZXQob2JqLCBmYWxzZSk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBUaGUgaW50ZXJuYWwgdmFsdWUuCiAgICAgKgogICAgICogQHBh\ncmFtIGRlcml2ZWQgaWYgdHJ1ZSwgdGhpcyB2YWx1ZSB3YXMgZGVyaXZlZCBm\ncm9tIG90aGVyIHByb3BlcnRpZXMKICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0KE9iamVjdCBvYmosIGJvb2xlYW4gZGVyaXZlZCkgewogICAgICAgIE9i\namVjdCBvbGRWYWx1ZSA9IF92YWx1ZTsKICAgICAgICBfdmFsdWUgPSBvYmo7\nCiAgICAgICAgaWYgKCFkZXJpdmVkICYmICFPYmplY3RVdGlscy5lcXVhbHMo\nb2JqLCBvbGRWYWx1ZSkpIHsKICAgICAgICAgICAgb2JqZWN0Q2hhbmdlZCgp\nOwogICAgICAgICAgICB2YWx1ZUNoYW5nZWQoKTsKICAgICAgICB9CiAgICB9\nCgogICAgLyoqCiAgICAgKiBJbnN0YW50aWF0ZSB0aGUgb2JqZWN0IGFzIGFu\nIGluc3RhbmNlIG9mIHRoZSBnaXZlbiBjbGFzcy4gRXF1aXZhbGVudAogICAg\nICogdG8gPGNvZGU+aW5zdGFudGlhdGUodHlwZSwgY29uZiwgdHJ1ZSk8L2Nv\nZGU+LgogICAgICovCiAgICBwdWJsaWMgT2JqZWN0IGluc3RhbnRpYXRlKENs\nYXNzIHR5cGUsIENvbmZpZ3VyYXRpb24gY29uZikgewogICAgICAgIHJldHVy\nbiBpbnN0YW50aWF0ZSh0eXBlLCBjb25mLCB0cnVlKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIEluc3RhbnRpYXRlIHRoZSBvYmplY3QgYXMgYW4gaW5zdGFu\nY2Ugb2YgdGhlIGdpdmVuIGNsYXNzLgogICAgICovCiAgICBwdWJsaWMgT2Jq\nZWN0IGluc3RhbnRpYXRlKENsYXNzIHR5cGUsIENvbmZpZ3VyYXRpb24gY29u\nZiwgYm9vbGVhbiBmYXRhbCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIC8qKgogICAg\nICogQWxsb3cgc3ViY2xhc3NlcyB0byBpbnN0YW50aWF0ZSBhZGRpdGlvbmFs\nIHBsdWdpbnMuIFRoaXMgbWV0aG9kIGRvZXMKICAgICAqIG5vdCBwZXJmb3Jt\nIGNvbmZpZ3VyYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyBPYmplY3QgbmV3\nSW5zdGFuY2UoU3RyaW5nIGNsc05hbWUsIENsYXNzIHR5cGUsIENvbmZpZ3Vy\nYXRpb24gY29uZiwKICAgICAgICAgICAgYm9vbGVhbiBmYXRhbCkgewogICAg\nICAgIENsYXNzTG9hZGVyIGNsID0gKENsYXNzTG9hZGVyKSBfY2xhc3Nsb2Fk\nZXJDYWNoZS5nZXQodHlwZSk7CiAgICAgICAgaWYgKGNsID09IG51bGwpIHsK\nICAgICAgICAgICAgY2wgPSAoQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRyb2xs\nZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAgICAgICAgSjJEb1ByaXZIZWxw\nZXIuZ2V0Q2xhc3NMb2FkZXJBY3Rpb24odHlwZSkpOwogICAgICAgICAgICBp\nZiAoY2wgPT0gbnVsbCkgeyAgLy8gU3lzdGVtIGNsYXNzbG9hZGVyIGlzIHJl\ndHVybmVkIGFzIG51bGwKICAgICAgICAgICAgICAgIGNsID0gKENsYXNzTG9h\nZGVyKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAg\nICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5nZXRTeXN0ZW1DbGFzc0xvYWRl\nckFjdGlvbigpKTsgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NsYXNz\nbG9hZGVyQ2FjaGUucHV0KHR5cGUsIGNsKTsKICAgICAgICB9CiAgICAgICAg\ncmV0dXJuIENvbmZpZ3VyYXRpb25zLm5ld0luc3RhbmNlKGNsc05hbWUsIHRo\naXMsIGNvbmYsIGNsLCBmYXRhbCk7CiAgICB9CgogICAgcHVibGljIENsYXNz\nIGdldFZhbHVlVHlwZSgpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmNsYXNz\nOwogICAgfQoKICAgIC8qKgogICAgICogSW1wbGVtZW50IHRoaXMgbWV0aG9k\nIHRvIHN5bmNocm9uaXplIGludGVybmFsIGRhdGEgd2l0aCB0aGUgbmV3CiAg\nICAgKiBvYmplY3QgdmFsdWUuCiAgICAgKi8KICAgIHByb3RlY3RlZCB2b2lk\nIG9iamVjdENoYW5nZWQoKSB7CiAgICB9CgogICAgcHJvdGVjdGVkIFN0cmlu\nZyBnZXRJbnRlcm5hbFN0cmluZygpIHsKICAgICAgICByZXR1cm4gbnVsbDsK\nICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBzZXRJbnRlcm5hbFN0cmluZyhT\ndHJpbmcgc3RyKSB7CiAgICAgICAgaWYgKHN0ciA9PSBudWxsKQogICAgICAg\nICAgICBzZXQobnVsbCk7CiAgICAgICAgZWxzZQogICAgICAgICAgICB0aHJv\ndyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKF9sb2MuZ2V0KCJjYW50\nLXNldC1zdHJpbmciLAogICAgICAgICAgICAgICAgZ2V0UHJvcGVydHkoKSku\nZ2V0TWVzc2FnZSgpKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBzZXRJ\nbnRlcm5hbE9iamVjdChPYmplY3Qgb2JqKSB7CiAgICAgICAgc2V0KG9iaik7\nCiAgICB9Cn0K\n","encoding":"base64"}

