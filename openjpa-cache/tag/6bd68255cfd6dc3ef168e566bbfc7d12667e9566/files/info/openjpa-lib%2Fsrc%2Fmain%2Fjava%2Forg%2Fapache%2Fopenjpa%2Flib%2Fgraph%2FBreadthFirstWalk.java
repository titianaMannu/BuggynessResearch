{"sha":"16f643ad2b1305b6104bbddd19689607aa71df01","node_id":"MDQ6QmxvYjIwNjM2NDoxNmY2NDNhZDJiMTMwNWI2MTA0YmJkZGQxOTY4OTYwN2FhNzFkZjAx","size":4687,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/16f643ad2b1305b6104bbddd19689607aa71df01","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\nZ3JhcGg7DQoNCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsNCmltcG9y\ndCBqYXZhLnV0aWwuSGFzaE1hcDsNCmltcG9ydCBqYXZhLnV0aWwuSGFzaFNl\ndDsNCmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7DQppbXBvcnQgamF2YS51\ndGlsLkxpbmtlZExpc3Q7DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQppbXBv\ncnQgamF2YS51dGlsLk1hcDsNCmltcG9ydCBqYXZhLnV0aWwuU2V0Ow0KDQov\nKioNCiAqIDxwPlBlcmZvcm1zIGEgYnJlYWR0aC1maXJzdCB3YWxrIG9mIGEg\nZ2l2ZW4ge0BsaW5rIEdyYXBofSwNCiAqIG5vdGlmeWluZyB2aXNpdG9ycyBh\ncyBpdCBzZWVzIGVhY2ggbm9kZS4gIFNlZSB0aGUgQkZTIGFsZ29yaXRobQ0K\nICogaW4gdGhlIGJvb2sgJ0ludHJvZHVjdGlvbiB0byBBbGdvcml0aG1zJyBi\neSBDb3JtZW4sIExlaXNlcnNvbiwgYW5kDQogKiBSaXZlc3QuPC9wPg0KICog\nPHAvPg0KICogPHA+RWFjaCB7QGxpbmsgR3JhcGhWaXNpdG9yfSB3aWxsIGJl\nIG5vdGlmaWVkIHdoZW4gYSBub2RlDQogKiBpcyBjb2xvcmVkIGJsYWNrIChu\nb2RlVmlzaXRlZCksIGVkZ2Ugc2VlbiAoZWRnZVZpc2l0ZWQpLA0KICogYW5k\nIGEgbm9kZSBpcyBzZWVuIGZvciB0aGUgZmlyc3QgdGltZSwgaS5lLiBjb2xv\ncmVkIGdyYXkgKG5vZGVTZWVuKS48L3A+DQogKg0KICogQGF1dGhvciBTdGV2\nZSBLaW0NCiAqIEBzaW5jZSAxLjAuMA0KICogQG5vamF2YWRvYw0KICovDQpw\ndWJsaWMgY2xhc3MgQnJlYWR0aEZpcnN0V2FsayB7DQoNCiAgICBwcml2YXRl\nIGZpbmFsIEdyYXBoIF9ncmFwaDsNCiAgICBwcml2YXRlIGZpbmFsIFNldCBf\ndmlzaXRvcnMgPSBuZXcgSGFzaFNldCgpOw0KICAgIHByaXZhdGUgZmluYWwg\nTGlzdCBfcXVldWUgPSBuZXcgTGlua2VkTGlzdCgpOw0KICAgIHByaXZhdGUg\nZmluYWwgTWFwIF9ub2RlSW5mbyA9IG5ldyBIYXNoTWFwKCk7DQoNCiAgICBw\ndWJsaWMgQnJlYWR0aEZpcnN0V2FsayhHcmFwaCBncmFwaCkgew0KICAgICAg\nICBfZ3JhcGggPSBncmFwaDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBC\nZWdpbnMgdGhlIGJyZWFkdGggZmlyc3QgdHJhdmVyc2FsLg0KICAgICAqLw0K\nICAgIHB1YmxpYyB2b2lkIHdhbGsoKSB7DQogICAgICAgIF9xdWV1ZS5jbGVh\ncigpOw0KICAgICAgICBfbm9kZUluZm8uY2xlYXIoKTsNCg0KICAgICAgICBD\nb2xsZWN0aW9uIG5vZGVzID0gX2dyYXBoLmdldE5vZGVzKCk7DQogICAgICAg\nIGZvciAoSXRlcmF0b3IgaXRyID0gbm9kZXMuaXRlcmF0b3IoKTsgaXRyLmhh\nc05leHQoKTspDQogICAgICAgICAgICBfbm9kZUluZm8ucHV0KGl0ci5uZXh0\nKCksIG5ldyBOb2RlSW5mbygpKTsNCg0KICAgICAgICBPYmplY3Qgbm9kZTsN\nCiAgICAgICAgTm9kZUluZm8gaW5mbzsNCiAgICAgICAgZm9yIChJdGVyYXRv\nciBpdHIgPSBub2Rlcy5pdGVyYXRvcigpOyBpdHIuaGFzTmV4dCgpOykgew0K\nICAgICAgICAgICAgbm9kZSA9IGl0ci5uZXh0KCk7DQogICAgICAgICAgICBp\nbmZvID0gKE5vZGVJbmZvKSBfbm9kZUluZm8uZ2V0KG5vZGUpOw0KICAgICAg\nICAgICAgaWYgKGluZm8uY29sb3IgPT0gTm9kZUluZm8uQ09MT1JfV0hJVEUp\nDQogICAgICAgICAgICAgICAgZW5xdWV1ZShub2RlLCBpbmZvKTsNCiAgICAg\nICAgICAgIHByb2Nlc3NRdWV1ZSgpOw0KICAgICAgICB9DQogICAgfQ0KDQog\nICAgLyoqDQogICAgICogUHJvY2VzcyB0aGUgcXVldWUgdG8gc2VlIHdoYXQg\nZGF0YSBuZWVkcyB0byBiZSBvYnRhaW5lZC4NCiAgICAgKi8NCiAgICBwcml2\nYXRlIHZvaWQgcHJvY2Vzc1F1ZXVlKCkgew0KICAgICAgICBPYmplY3Qgbm9k\nZTsNCiAgICAgICAgT2JqZWN0IG90aGVyOw0KICAgICAgICBOb2RlSW5mbyBp\nbmZvOw0KICAgICAgICBOb2RlSW5mbyBvdGhlckluZm87DQogICAgICAgIENv\nbGxlY3Rpb24gZWRnZXM7DQogICAgICAgIEVkZ2UgZWRnZTsNCiAgICAgICAg\nd2hpbGUgKF9xdWV1ZS5zaXplKCkgPiAwKSB7DQogICAgICAgICAgICBub2Rl\nID0gX3F1ZXVlLnJlbW92ZSgwKTsNCiAgICAgICAgICAgIGluZm8gPSAoTm9k\nZUluZm8pIF9ub2RlSW5mby5nZXQobm9kZSk7DQogICAgICAgICAgICB2aXNp\ndChub2RlLCBpbmZvKTsNCg0KICAgICAgICAgICAgZWRnZXMgPSBfZ3JhcGgu\nZ2V0RWRnZXNGcm9tKG5vZGUpOw0KICAgICAgICAgICAgZm9yIChJdGVyYXRv\nciBpdHIgPSBlZGdlcy5pdGVyYXRvcigpOyBpdHIuaGFzTmV4dCgpOykgew0K\nICAgICAgICAgICAgICAgIGVkZ2UgPSAoRWRnZSkgaXRyLm5leHQoKTsNCiAg\nICAgICAgICAgICAgICBlZGdlVmlzaXRlZChlZGdlKTsNCiAgICAgICAgICAg\nICAgICBvdGhlciA9IGVkZ2UuZ2V0T3RoZXIobm9kZSk7DQogICAgICAgICAg\nICAgICAgb3RoZXJJbmZvID0gKE5vZGVJbmZvKSBfbm9kZUluZm8uZ2V0KG90\naGVyKTsNCiAgICAgICAgICAgICAgICBpZiAob3RoZXJJbmZvLmNvbG9yID09\nIE5vZGVJbmZvLkNPTE9SX1dISVRFKQ0KICAgICAgICAgICAgICAgICAgICBl\nbnF1ZXVlKG90aGVyLCBvdGhlckluZm8pOw0KICAgICAgICAgICAgfQ0KICAg\nICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogUHVzaCB0aGUgZ2l2\nZW4gbm9kZSBvbnRvIHRoZSBxdWV1ZSB0byBiZSBwcm9jZXNzZWQuDQogICAg\nICogTm90aWZ5IHZpc2l0b3JzLg0KICAgICAqLw0KICAgIHByb3RlY3RlZCB2\nb2lkIGVucXVldWUoT2JqZWN0IG5vZGUsIE5vZGVJbmZvIGluZm8pIHsNCiAg\nICAgICAgX3F1ZXVlLmFkZChub2RlKTsNCiAgICAgICAgaW5mby5jb2xvciA9\nIE5vZGVJbmZvLkNPTE9SX0dSQVk7DQogICAgICAgIGZvciAoSXRlcmF0b3Ig\naSA9IF92aXNpdG9ycy5pdGVyYXRvcigpOyBpLmhhc05leHQoKTspDQogICAg\nICAgICAgICAoKEdyYXBoVmlzaXRvcikgaS5uZXh0KCkpLm5vZGVTZWVuKG5v\nZGUpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFZpc2l0IHRoZSBub2Rl\nLiAgTWFyayB0aGUgbm9kZSBibGFjayBhbmQgbm90aWZ5IHZpc2l0b3JzLg0K\nICAgICAqLw0KICAgIHByb3RlY3RlZCB2b2lkIHZpc2l0KE9iamVjdCBub2Rl\nLCBOb2RlSW5mbyBpbmZvKSB7DQogICAgICAgIGluZm8uY29sb3IgPSBOb2Rl\nSW5mby5DT0xPUl9CTEFDSzsNCiAgICAgICAgZm9yIChJdGVyYXRvciBpID0g\nX3Zpc2l0b3JzLml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgpOykNCiAgICAgICAg\nICAgICgoR3JhcGhWaXNpdG9yKSBpLm5leHQoKSkubm9kZVZpc2l0ZWQobm9k\nZSk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQW4gZWRnZSBpcyBzZWVu\nLiAgTm90aWZ5IHZpc2l0b3JzLg0KICAgICAqLw0KICAgIHByb3RlY3RlZCB2\nb2lkIGVkZ2VWaXNpdGVkKEVkZ2UgZWRnZSkgew0KICAgICAgICBmb3IgKEl0\nZXJhdG9yIGkgPSBfdmlzaXRvcnMuaXRlcmF0b3IoKTsgaS5oYXNOZXh0KCk7\nKQ0KICAgICAgICAgICAgKChHcmFwaFZpc2l0b3IpIGkubmV4dCgpKS5lZGdl\nVmlzaXRlZChlZGdlKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBhZGQg\nYSB7QGxpbmsgR3JhcGhWaXNpdG9yfSB0byBiZSBub3RpZmllZCBkdXJpbmcg\nYnJlYWR0aCBmaXJzdCBzZWFyY2guDQogICAgICovDQogICAgcHVibGljIHZv\naWQgYWRkR3JhcGhWaXNpdG9yKEdyYXBoVmlzaXRvciB2aXNpdG9yKSB7DQog\nICAgICAgIF92aXNpdG9ycy5hZGQodmlzaXRvcik7DQogICAgfQ0KDQogICAg\nLyoqDQogICAgICogcmVtb3ZlIGEgZ2l2ZW4ge0BsaW5rIEdyYXBoVmlzaXRv\ncn0gZnJvbSB0aGUgbGlzdGVuZXIgc2V0Lg0KICAgICAqLw0KICAgIHB1Ymxp\nYyB2b2lkIHJlbW92ZUdyYXBoVmlzaXRvcihHcmFwaFZpc2l0b3IgdmlzaXRv\ncikgew0KICAgICAgICBfdmlzaXRvcnMucmVtb3ZlKHZpc2l0b3IpOw0KICAg\nIH0NCn0NCg==\n","encoding":"base64"}

