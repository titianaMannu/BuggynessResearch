{"sha":"94522a8ca25d73cce881aa59cdb0f6bfce7faf14","node_id":"MDQ6QmxvYjIwNjM2NDo5NDUyMmE4Y2EyNWQ3M2NjZTg4MWFhNTljZGIwZjZiZmNlN2ZhZjE0","size":5966,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/94522a8ca25d73cce881aa59cdb0f6bfce7faf14","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\nZ3JhcGg7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KLyoqDQogKiA8\ncD5BIGdyYXBoIGVkZ2UuICBJbmNsdWRlcyB0aGUgZnJvbSBhbmQgdG8gbm9k\nZXMsIGFuIGFyYml0cmFyeSB1c2VyIG9iamVjdCwNCiAqIGFuZCBhIHdlaWdo\ndC4gIEVkZ2VzIGNhbiBiZSBlaXRoZXIgZGlyZWN0ZWQgb3IgdW5kaXJlY3Rl\nZC48L3A+DQogKg0KICogQGF1dGhvciBBYmUgV2hpdGUNCiAqIEBzaW5jZSAx\nLjAuMA0KICogQG5vamF2YWRvYw0KICovDQpwdWJsaWMgY2xhc3MgRWRnZSB7\nDQoNCiAgICAvKioNCiAgICAgKiBBbiBlZGdlICh1LCB2KSBpcyBhIHRyZWUg\nZWRnZSBpZiBub2RlIHYgd2FzIGZpcnN0IGRpc2NvdmVyZWQgYnkNCiAgICAg\nKiB0cmF2ZXJzaW5nIHRoZSBlZGdlLg0KICAgICAqLw0KICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgaW50IFRZUEVfVFJFRSA9IDE7DQoNCiAgICAvKioNCiAg\nICAgKiBBbiBlZGdlICh1LCB2KSBpcyBhIGJhY2sgZWRnZSBpZiBpdCBjcmVh\ndGVzIGEgY3ljbGUgYmFjayB0byBhbg0KICAgICAqIGFuY2VzdG9yIGluIHRo\nZSBncmFwaC4NCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGlu\ndCBUWVBFX0JBQ0sgPSAyOw0KDQogICAgLyoqDQogICAgICogQW4gZWRnZSAo\ndSwgdikgaXMgYSBmb3J3YXJkIGVkZ2UgaWYgaXQgaXMgbm90IGEgdHJlZSBv\nciBiYWNrIGVkZ2UuDQogICAgICovDQogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBpbnQgVFlQRV9GT1JXQVJEID0gMzsNCg0KICAgIHByaXZhdGUgZmluYWwg\nT2JqZWN0IF9mcm9tOw0KICAgIHByaXZhdGUgZmluYWwgT2JqZWN0IF90bzsN\nCiAgICBwcml2YXRlIGZpbmFsIGJvb2xlYW4gX2RpcmVjdGVkOw0KDQogICAg\ncHJpdmF0ZSBpbnQgX3R5cGUgPSAwOw0KICAgIHByaXZhdGUgZG91YmxlIF93\nZWlnaHQgPSAwOw0KICAgIHByaXZhdGUgT2JqZWN0IF91c2VyT2JqID0gbnVs\nbDsNCiAgICBwcml2YXRlIExpc3QgX2N5Y2xlID0gbnVsbDsNCiAgICBwcml2\nYXRlIGJvb2xlYW4gX3JlbW92ZWRGcm9tR3JhcGggPSBmYWxzZTsNCg0KICAg\nIC8qKg0KICAgICAqIENvbnN0cnVjdG9yLg0KICAgICAqDQogICAgICogQHBh\ncmFtICAgIGZyb20gICAgICAgIHRoZSBub2RlIHRoZSBlZGdlIGNvbWVzIGZy\nb20NCiAgICAgKiBAcGFyYW0gICAgdG8gICAgICAgICAgICB0aGUgbm9kZSB0\naGUgZWRnZSBnb2VzIHRvDQogICAgICogQHBhcmFtICAgIGRpcmVjdGVkICAg\nIHdoZXRoZXIgdGhlIGVkZ2UgaXMgZGlyZWN0ZWQNCiAgICAgKi8NCiAgICBw\ndWJsaWMgRWRnZShPYmplY3QgZnJvbSwgT2JqZWN0IHRvLCBib29sZWFuIGRp\ncmVjdGVkKSB7DQogICAgICAgIGlmIChmcm9tID09IG51bGwpDQogICAgICAg\nICAgICB0aHJvdyBuZXcgTnVsbFBvaW50ZXJFeGNlcHRpb24oImZyb20gPT0g\nbnVsbCIpOw0KICAgICAgICBpZiAodG8gPT0gbnVsbCkNCiAgICAgICAgICAg\nIHRocm93IG5ldyBOdWxsUG9pbnRlckV4Y2VwdGlvbigidG8gPT0gbnVsbCIp\nOw0KICAgICAgICBfZnJvbSA9IGZyb207DQogICAgICAgIF90byA9IHRvOw0K\nICAgICAgICBfZGlyZWN0ZWQgPSBkaXJlY3RlZDsNCiAgICB9DQoNCiAgICAv\nKioNCiAgICAgKiBDb25zdHJ1Y3Rvci4NCiAgICAgKg0KICAgICAqIEBwYXJh\nbSAgICBmcm9tICAgICAgICB0aGUgbm9kZSB0aGUgZWRnZSBjb21lcyBmcm9t\nDQogICAgICogQHBhcmFtICAgIHRvICAgICAgICAgICAgdGhlIG5vZGUgdGhl\nIGVkZ2UgZ29lcyB0bw0KICAgICAqIEBwYXJhbSAgICBkaXJlY3RlZCAgICB3\naGV0aGVyIHRoZSBlZGdlIGlzIGRpcmVjdGVkDQogICAgICogQHBhcmFtICAg\nIHVzZXJPYmplY3QgICAgYW4gYXNzb2NpYXRlZCBvYmplY3QNCiAgICAgKi8N\nCiAgICBwdWJsaWMgRWRnZShPYmplY3QgZnJvbSwgT2JqZWN0IHRvLCBib29s\nZWFuIGRpcmVjdGVkLCBPYmplY3QgdXNlck9iamVjdCkgew0KICAgICAgICB0\naGlzKGZyb20sIHRvLCBkaXJlY3RlZCk7DQogICAgICAgIF91c2VyT2JqID0g\ndXNlck9iamVjdDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBSZXR1cm4g\ndGhlIG5vZGUgdGhlIGVkZ2UgbGlua3MgZnJvbS4NCiAgICAgKi8NCiAgICBw\ndWJsaWMgT2JqZWN0IGdldEZyb20oKSB7DQogICAgICAgIHJldHVybiBfZnJv\nbTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBSZXR1cm4gdGhlIG5vZGUg\ndGhlIGVkZ2UgbGlua3MgdG8uDQogICAgICovDQogICAgcHVibGljIE9iamVj\ndCBnZXRUbygpIHsNCiAgICAgICAgcmV0dXJuIF90bzsNCiAgICB9DQoNCiAg\nICAvKioNCiAgICAgKiBSZXR1cm4gdGhlIG5vZGUgb24gdGhlIG9wcG9zaXRl\nIGVuZCBvZiB0aGUgZ2l2ZW4gb25lLCBvciBudWxsIGlmIHRoZQ0KICAgICAq\nIGdpdmVuIG5vZGUgaXMgbm90IHBhcnQgb2YgdGhpcyBlZGdlLg0KICAgICAq\nLw0KICAgIHB1YmxpYyBPYmplY3QgZ2V0T3RoZXIoT2JqZWN0IG5vZGUpIHsN\nCiAgICAgICAgaWYgKF90by5lcXVhbHMobm9kZSkpDQogICAgICAgICAgICBy\nZXR1cm4gX2Zyb207DQogICAgICAgIGlmIChfZnJvbS5lcXVhbHMobm9kZSkp\nDQogICAgICAgICAgICByZXR1cm4gX3RvOw0KICAgICAgICByZXR1cm4gbnVs\nbDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0\naGlzIGVkZ2UgbGlua3MgdG8gdGhlIGdpdmVuIG5vZGUuICBGb3IgdW5kaXJl\nY3RlZCBlZGdlcywNCiAgICAgKiB0aGlzIG1ldGhvZCByZXR1cm5zIHRydWUg\naWYgZWl0aGVyIHNpZGUgaXMgZXF1YWwgdG8gdGhlIGdpdmVuIG5vZGUuDQog\nICAgICovDQogICAgcHVibGljIGJvb2xlYW4gaXNUbyhPYmplY3Qgbm9kZSkg\new0KICAgICAgICByZXR1cm4gX3RvLmVxdWFscyhub2RlKSB8fCAoIV9kaXJl\nY3RlZCAmJiBfZnJvbS5lcXVhbHMobm9kZSkpOw0KICAgIH0NCg0KICAgIC8q\nKg0KICAgICAqIFJldHVybiB0cnVlIGlmIHRoaXMgZWRnZSBsaW5rcyBmcm9t\nIHRoZSBnaXZlbiBub2RlLiAgRm9yIHVuZGlyZWN0ZWQNCiAgICAgKiBlZGdl\ncywgdGhpcyBtZXRob2QgcmV0dXJucyB0cnVlIGlmIGVpdGhlciBzaWRlIGlz\nIGVxdWFsIHRvIHRoZSBnaXZlbg0KICAgICAqIG5vZGUuDQogICAgICovDQog\nICAgcHVibGljIGJvb2xlYW4gaXNGcm9tKE9iamVjdCBub2RlKSB7DQogICAg\nICAgIHJldHVybiBfZnJvbS5lcXVhbHMobm9kZSkgfHwgKCFfZGlyZWN0ZWQg\nJiYgX3RvLmVxdWFscyhub2RlKSk7DQogICAgfQ0KDQogICAgLyoqDQogICAg\nICogUmV0dXJuIHdoZXRoZXIgdGhlIGVkZ2UgaXMgZGlyZWN0ZWQuDQogICAg\nICovDQogICAgcHVibGljIGJvb2xlYW4gaXNEaXJlY3RlZCgpIHsNCiAgICAg\nICAgcmV0dXJuIF9kaXJlY3RlZDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAg\nKiBSZXR1cm4gdGhlIHdlaWdodCBvZiB0aGUgZWRnZS4NCiAgICAgKi8NCiAg\nICBwdWJsaWMgZG91YmxlIGdldFdlaWdodCgpIHsNCiAgICAgICAgcmV0dXJu\nIF93ZWlnaHQ7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogU2V0IHRoZSB3\nZWlnaHQgb2YgdGhlIGVkZ2UuDQogICAgICovDQogICAgcHVibGljIHZvaWQg\nc2V0V2VpZ2h0KGRvdWJsZSB3ZWlnaHQpIHsNCiAgICAgICAgX3dlaWdodCA9\nIHdlaWdodDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBBcmJpdHJhcnkg\ndXNlciBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoZSBlZGdlLg0KICAgICAq\nLw0KICAgIHB1YmxpYyBPYmplY3QgZ2V0VXNlck9iamVjdCgpIHsNCiAgICAg\nICAgcmV0dXJuIF91c2VyT2JqOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAq\nIEFyYml0cmFyeSB1c2VyIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggdGhlIGVk\nZ2UuDQogICAgICovDQogICAgcHVibGljIHZvaWQgc2V0VXNlck9iamVjdChP\nYmplY3Qgb2JqKSB7DQogICAgICAgIF91c2VyT2JqID0gb2JqOw0KICAgIH0N\nCg0KICAgIC8qKg0KICAgICAqIFRyYXZlcnNhbCBib29ra2VlcGluZyBpbmZv\nLg0KICAgICAqLw0KICAgIHB1YmxpYyBpbnQgZ2V0VHlwZSgpIHsNCiAgICAg\nICAgcmV0dXJuIF90eXBlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFRy\nYXZlcnNhbCBib29ra2VlcGluZyBpbmZvLg0KICAgICAqLw0KICAgIHB1Ymxp\nYyB2b2lkIHNldFR5cGUoaW50IHR5cGUpIHsNCiAgICAgICAgX3R5cGUgPSB0\neXBlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIExpc3Qgb2YgZWRnZXMg\nZm9ybWluZyBhIGN5Y2xlLiBPbmx5IHNldCBmb3IgVFlQRV9CQUNLIGFuZCBU\nWVBFX0ZPUldBUkQgZWRnZXMuDQogICAgICovDQogICAgcHVibGljIExpc3Qg\nZ2V0Q3ljbGUoKSB7DQogICAgICAgIHJldHVybiBfY3ljbGU7DQogICAgfQ0K\nICAgIA0KICAgIC8qKg0KICAgICAqIExpc3Qgb2YgZWRnZXMgZm9ybWluZyBh\nIGN5Y2xlLiBPbmx5IHNldCBmb3IgVFlQRV9CQUNLIGFuZCBUWVBFX0ZPUldB\nUkQgZWRnZXMuDQogICAgICovDQogICAgcHVibGljIHZvaWQgc2V0Q3ljbGUo\nTGlzdCBjeWNsZSkgew0KICAgICAgICBfY3ljbGUgPSBjeWNsZTsNCiAgICB9\nDQoNCiAgICAvKioNCiAgICAgKiBSZXR1cm5zIGlmIHRoaXMgZWRnZSBpcyAo\nc3RpbGwpIHBhcnQgb2YgdGhlIGdyYXBoLg0KICAgICAqLw0KICAgIHB1Ymxp\nYyBib29sZWFuIGlzUmVtb3ZlZEZyb21HcmFwaCgpIHsNCiAgICAgICAgcmV0\ndXJuIF9yZW1vdmVkRnJvbUdyYXBoOw0KICAgIH0NCg0KICAgIC8qKg0KICAg\nICAqIE1hcmsgdGhpcyBlZGdlIGFzIHJlbW92ZWQgZnJvbSB0aGUgZ3JhcGgu\nDQogICAgICovDQogICAgcHVibGljIHZvaWQgc2V0UmVtb3ZlZEZyb21HcmFw\naCgpIHsNCiAgICAgICAgdGhpcy5fcmVtb3ZlZEZyb21HcmFwaCA9IHRydWU7\nDQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ2xlYXIgdHJhdmVyc2FsIGlu\nZm8uDQogICAgICovDQogICAgcHVibGljIHZvaWQgY2xlYXJUcmF2ZXJzYWwo\nKSB7DQogICAgICAgIF90eXBlID0gMDsNCiAgICAgICAgX2N5Y2xlID0gbnVs\nbDsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkgew0K\nICAgICAgICByZXR1cm4gc3VwZXIudG9TdHJpbmcoKSArICJbZnJvbT0iICsg\nZ2V0RnJvbSgpICsgIjt0bz0iICsgZ2V0VG8oKQ0KICAgICAgICAgICAgKyAi\nO2RpcmVjdGVkPSIgKyBpc0RpcmVjdGVkICgpICsgIjt3ZWlnaHQ9IiArIGdl\ndFdlaWdodCAoKSArICJdIjsNCgl9DQp9DQo=\n","encoding":"base64"}

