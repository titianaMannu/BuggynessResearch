{"sha":"8eb5fa98c9a9b4d0134ce49340cc736b0f553d98","node_id":"MDQ6QmxvYjIwNjM2NDo4ZWI1ZmE5OGM5YTliNGQwMTM0Y2U0OTM0MGNjNzM2YjBmNTUzZDk4","size":8605,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8eb5fa98c9a9b4d0134ce49340cc736b0f553d98","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmpkYmM7CgppbXBvcnQg\namF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRv\ncjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLlN0\ncmluZ1Rva2VuaXplcjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGli\nLnV0aWwuSjJEb1ByaXZIZWxwZXI7CgovKgogKiBMb3RzIG9mIHRoaXMgY291\nbGQgYmUgYWJzdHJhY3RlZCBvdXQgaW50byBhIHdvcmQtd3JhcHBpbmcgY2xh\nc3MuCiAqLwoKLyoqCiAqIENvbnZlcnRzIHNpbmdsZS1saW5lIFNRTCBzdHJp\nbmdzIGludG8gbmljZWx5LWZvcm1hdHRlZAogKiBtdWx0aS1saW5lLCBpbmRl\nbnRlZCBzdGF0ZW1lbnRzLgogKiBFeGFtcGxlOiBmcm9tIFBFUlNPTiB0MCwg\nQ09NUEFOWSB0MSBXSEVSRSB0MC5JRCA9IDEwIEFORCBcCiAqIHQwLkNPTVBB\nTllfSUQgPSB0MS5JRCBBTkQgdDEuTkFNRSA9ICdPcGVuSlBBJzwvY29kZT4g\nYmVjb21lcwogKiA8Y29kZT5TRUxFQ1QgKiBGUk9NIFBFUlNPTiB0MCwgQ09N\nUEFOWSB0MQogKiBXSEVSRSB0MC5JRCA9IDEwIEFORCB0MC5DT01QQU5ZX0lE\nID0gdDEuSUQgQU5EIHQxLk5BTUUgPSAnT3BlbkpQQSdcCiAqIDwvY29kZT4g\nYW5kCiAqIDxjb2RlPklOU0VSVCBJTlRPIFBFUlNPTiBWQUxVRVMoJ1BhdHJp\nY2snLCAnTGluc2tleScsICdPcGVuSlBBJywgXAogKiAnMjAyIDU5NSAyMDY0\nIHgxMTExJyk8L2NvZGU+IGJlY29tZXMKICogPGNvZGU+SU5TRVJUIElOVE8g\nUEVSU09OIFZBTFVFUygnUGF0cmljaycsICdMaW5za2V5JywgJ09wZW5KUEEn\nLCAnMjAyCiAqIDU5NSAyMDY0IHgxMTExJyk8L2NvZGU+IGV0Yy4KICoKICog\nQGF1dGhvciBQYXRyaWNrIExpbnNrZXkKICovCnB1YmxpYyBjbGFzcyBTUUxG\nb3JtYXR0ZXIgewoKICAgIHByaXZhdGUgYm9vbGVhbiBtdWx0aUxpbmUgPSBm\nYWxzZTsKICAgIHByaXZhdGUgYm9vbGVhbiBkb3VibGVTcGFjZSA9IHRydWU7\nCiAgICBwcml2YXRlIFN0cmluZyBuZXdsaW5lID0gSjJEb1ByaXZIZWxwZXIu\nZ2V0TGluZVNlcGFyYXRvcigpOwogICAgcHJpdmF0ZSBpbnQgbGluZUxlbmd0\naCA9IDcyOwogICAgcHJpdmF0ZSBTdHJpbmcgd3JhcEluZGVudCA9ICIgICAg\nICAgICI7CiAgICBwcml2YXRlIFN0cmluZyBjbGF1c2VJbmRlbnQgPSAiICAg\nICI7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nW10gc2VsZWN0\nU2VwYXJhdG9ycyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAiRlJPTSAiLCAi\nV0hFUkUgIiwgIk9SREVSIEJZICIsIC8vICMjIyBpcyB0aGlzIG9yZGVyIGNv\ncnJlY3Q/CiAgICAgICAgIkdST1VQIEJZICIsICJIQVZJTkcgIiwgfTsKCiAg\nICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSBpbnNlcnRTZXBhcmF0\nb3JzID0gbmV3IFN0cmluZ1tdewogICAgICAgICJWQUxVRVMgIiwgfTsKCiAg\nICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSB1cGRhdGVTZXBhcmF0\nb3JzID0gbmV3IFN0cmluZ1tdewogICAgICAgICJTRVQgIiwgIldIRVJFICIs\nIH07CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nW10gZGVsZXRl\nU2VwYXJhdG9ycyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAiV0hFUkUgIiwg\nfTsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSBjcmVhdGVU\nYWJsZVNlcGFyYXRvcnMgPSBuZXcgU3RyaW5nW117CiAgICAgICAgIiggIiwg\nfTsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSBjcmVhdGVJ\nbmRleFNlcGFyYXRvcnMgPSBuZXcgU3RyaW5nW117CiAgICAgICAgIk9OICIs\nICIoICIsIH07CgogICAgcHVibGljIHZvaWQgc2V0TmV3bGluZShTdHJpbmcg\ndmFsKSB7CiAgICAgICAgbmV3bGluZSA9IHZhbDsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldE5ld2xpbmUoKSB7CiAgICAgICAgcmV0dXJuIG5ld2xp\nbmU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TGluZUxlbmd0aChpbnQg\ndmFsKSB7CiAgICAgICAgbGluZUxlbmd0aCA9IHZhbDsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldExpbmVMZW5ndGgoKSB7CiAgICAgICAgcmV0dXJuIGxp\nbmVMZW5ndGg7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0V3JhcEluZGVu\ndChTdHJpbmcgdmFsKSB7CiAgICAgICAgd3JhcEluZGVudCA9IHZhbDsKICAg\nIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFdyYXBJbmRlbnQoKSB7CiAgICAg\nICAgcmV0dXJuIHdyYXBJbmRlbnQ7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0Q2xhdXNlSW5kZW50KFN0cmluZyB2YWwpIHsKICAgICAgICBjbGF1c2VJ\nbmRlbnQgPSB2YWw7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDbGF1\nc2VJbmRlbnQoKSB7CiAgICAgICAgcmV0dXJuIGNsYXVzZUluZGVudDsKICAg\nIH0KCiAgICAvKioKICAgICAqIElmIHRydWUsIHRoZW4gdHJ5IHRvIHBhcnNl\nIG11bHRpLWxpbmUgU1FMIHN0YXRlbWVudHMuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldE11bHRpTGluZShib29sZWFuIG11bHRpTGluZSkgewogICAg\nICAgIHRoaXMubXVsdGlMaW5lID0gbXVsdGlMaW5lOwogICAgfQoKICAgIC8q\nKgogICAgICogSWYgdHJ1ZSwgdGhlbiB0cnkgdG8gcGFyc2UgbXVsdGktbGlu\nZSBTUUwgc3RhdGVtZW50cy4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4g\nZ2V0TXVsdGlMaW5lKCkgewogICAgICAgIHJldHVybiB0aGlzLm11bHRpTGlu\nZTsKICAgIH0KCiAgICAvKioKICAgICAqIElmIHRydWUsIHRoZW4gb3V0cHV0\nIHR3byBsaW5lcyBhZnRlciBtdWx0aS1saW5lIHN0YXRlbWVudHMuCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHNldERvdWJsZVNwYWNlKGJvb2xlYW4gZG91\nYmxlU3BhY2UpIHsKICAgICAgICB0aGlzLmRvdWJsZVNwYWNlID0gZG91Ymxl\nU3BhY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBJZiB0cnVlLCB0aGVuIG91\ndHB1dCB0d28gbGluZXMgYWZ0ZXIgbXVsdGktbGluZSBzdGF0ZW1lbnRzLgog\nICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXREb3VibGVTcGFjZSgpIHsK\nICAgICAgICByZXR1cm4gdGhpcy5kb3VibGVTcGFjZTsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IHByZXR0eVByaW50KE9iamVjdCBzcWxPYmplY3QpIHsK\nICAgICAgICBpZiAoIW11bHRpTGluZSkgewogICAgICAgICAgICByZXR1cm4g\ncHJldHR5UHJpbnRMaW5lKHNxbE9iamVjdCk7CiAgICAgICAgfSBlbHNlIHsK\nICAgICAgICAgICAgU3RyaW5nQnVmZmVyIHNxbCA9IG5ldyBTdHJpbmdCdWZm\nZXIoc3FsT2JqZWN0LnRvU3RyaW5nKCkpOwogICAgICAgICAgICBTdHJpbmdC\ndWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcihzcWwubGVuZ3RoKCkpOwoK\nICAgICAgICAgICAgd2hpbGUgKHNxbC5sZW5ndGgoKSA+IDApIHsKICAgICAg\nICAgICAgICAgIFN0cmluZyBsaW5lID0gbnVsbDsKCiAgICAgICAgICAgICAg\nICBpbnQgaW5kZXggPSBNYXRoLm1heChzcWwudG9TdHJpbmcoKS5pbmRleE9m\nKCI7XG4iKSwKICAgICAgICAgICAgICAgICAgICBzcWwudG9TdHJpbmcoKS5p\nbmRleE9mKCI7XHIiKSk7CiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0g\nLTEpCiAgICAgICAgICAgICAgICAgICAgbGluZSA9IHNxbC50b1N0cmluZygp\nOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGxp\nbmUgPSBzcWwuc3Vic3RyaW5nKDAsIGluZGV4ICsgMik7CgogICAgICAgICAg\nICAgICAgLy8gcmVtb3ZlIHRoZSBjdXJyZW50IGxpbmUgZnJvbSB0aGUgc3Fs\nIGJ1ZmZlcgogICAgICAgICAgICAgICAgc3FsLmRlbGV0ZSgwLCBsaW5lLmxl\nbmd0aCgpKTsKCiAgICAgICAgICAgICAgICBidWYuYXBwZW5kKHByZXR0eVBy\naW50TGluZShsaW5lKSk7CiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0g\nMDsgaSA8IDEgKyAoZ2V0RG91YmxlU3BhY2UoKSA/IDEgOiAwKTsgaSsrKQog\nICAgICAgICAgICAgICAgICAgIGJ1Zi5hcHBlbmQoSjJEb1ByaXZIZWxwZXIu\nZ2V0TGluZVNlcGFyYXRvcigpKTsKICAgICAgICAgICAgfQoKICAgICAgICAg\nICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwcml2YXRlIE9iamVjdCBwcmV0dHlQcmludExpbmUoT2JqZWN0IHNxbE9i\namVjdCkgewogICAgICAgIFN0cmluZyBzcWwgPSBzcWxPYmplY3QudG9TdHJp\nbmcoKS50cmltKCk7CiAgICAgICAgU3RyaW5nIGxvd2VyQ2FzZVNxbCA9IHNx\nbC50b0xvd2VyQ2FzZSgpOwoKICAgICAgICBTdHJpbmdbXSBzZXBhcmF0b3Jz\nOwogICAgICAgIGlmIChsb3dlckNhc2VTcWwuc3RhcnRzV2l0aCgic2VsZWN0\nIikpCiAgICAgICAgICAgIHNlcGFyYXRvcnMgPSBzZWxlY3RTZXBhcmF0b3Jz\nOwogICAgICAgIGVsc2UgaWYgKGxvd2VyQ2FzZVNxbC5zdGFydHNXaXRoKCJp\nbnNlcnQiKSkKICAgICAgICAgICAgc2VwYXJhdG9ycyA9IGluc2VydFNlcGFy\nYXRvcnM7CiAgICAgICAgZWxzZSBpZiAobG93ZXJDYXNlU3FsLnN0YXJ0c1dp\ndGgoInVwZGF0ZSIpKQogICAgICAgICAgICBzZXBhcmF0b3JzID0gdXBkYXRl\nU2VwYXJhdG9yczsKICAgICAgICBlbHNlIGlmIChsb3dlckNhc2VTcWwuc3Rh\ncnRzV2l0aCgiZGVsZXRlIikpCiAgICAgICAgICAgIHNlcGFyYXRvcnMgPSBk\nZWxldGVTZXBhcmF0b3JzOwogICAgICAgIGVsc2UgaWYgKGxvd2VyQ2FzZVNx\nbC5zdGFydHNXaXRoKCJjcmVhdGUgdGFibGUiKSkKICAgICAgICAgICAgc2Vw\nYXJhdG9ycyA9IGNyZWF0ZVRhYmxlU2VwYXJhdG9yczsKICAgICAgICBlbHNl\nIGlmIChsb3dlckNhc2VTcWwuc3RhcnRzV2l0aCgiY3JlYXRlIGluZGV4Iikp\nCiAgICAgICAgICAgIHNlcGFyYXRvcnMgPSBjcmVhdGVJbmRleFNlcGFyYXRv\ncnM7CiAgICAgICAgZWxzZQogICAgICAgICAgICBzZXBhcmF0b3JzID0gbmV3\nIFN0cmluZ1swXTsKCiAgICAgICAgaW50IHN0YXJ0ID0gMDsKICAgICAgICBp\nbnQgZW5kID0gLTE7CiAgICAgICAgU3RyaW5nQnVmZmVyIGNsYXVzZTsKICAg\nICAgICBMaXN0IGNsYXVzZXMgPSBuZXcgQXJyYXlMaXN0KCk7CiAgICAgICAg\nY2xhdXNlcy5hZGQobmV3IFN0cmluZ0J1ZmZlcigpKTsKICAgICAgICBmb3Ig\nKGludCBpID0gMDsgaSA8IHNlcGFyYXRvcnMubGVuZ3RoOyBpKyspIHsKICAg\nICAgICAgICAgZW5kID0gbG93ZXJDYXNlU3FsLmluZGV4T2YoIiAiICsgc2Vw\nYXJhdG9yc1tpXS50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgICAgICAgc3Rh\ncnQpOwogICAgICAgICAgICBpZiAoZW5kID09IC0xKQogICAgICAgICAgICAg\nICAgYnJlYWs7CgogICAgICAgICAgICBjbGF1c2UgPSAoU3RyaW5nQnVmZmVy\nKSBjbGF1c2VzLmdldChjbGF1c2VzLnNpemUoKSAtIDEpOwogICAgICAgICAg\nICBjbGF1c2UuYXBwZW5kKHNxbC5zdWJzdHJpbmcoc3RhcnQsIGVuZCkpOwoK\nICAgICAgICAgICAgY2xhdXNlID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAg\nICAgICAgICBjbGF1c2VzLmFkZChjbGF1c2UpOwogICAgICAgICAgICBjbGF1\nc2UuYXBwZW5kKGNsYXVzZUluZGVudCk7CiAgICAgICAgICAgIGNsYXVzZS5h\ncHBlbmQoc2VwYXJhdG9yc1tpXSk7CgogICAgICAgICAgICBzdGFydCA9IGVu\nZCArIDEgKyBzZXBhcmF0b3JzW2ldLmxlbmd0aCgpOwogICAgICAgIH0KCiAg\nICAgICAgY2xhdXNlID0gKFN0cmluZ0J1ZmZlcikgY2xhdXNlcy5nZXQoY2xh\ndXNlcy5zaXplKCkgLSAxKTsKICAgICAgICBjbGF1c2UuYXBwZW5kKHNxbC5z\ndWJzdHJpbmcoc3RhcnQpKTsKCiAgICAgICAgU3RyaW5nQnVmZmVyIHBwID0g\nbmV3IFN0cmluZ0J1ZmZlcihzcWwubGVuZ3RoKCkpOwogICAgICAgIGZvciAo\nSXRlcmF0b3IgaXRlciA9IGNsYXVzZXMuaXRlcmF0b3IoKTsgaXRlci5oYXNO\nZXh0KCk7KSB7CiAgICAgICAgICAgIHBwLmFwcGVuZCh3cmFwTGluZSgoKFN0\ncmluZ0J1ZmZlcikgaXRlci5uZXh0KCkpLnRvU3RyaW5nKCkpKTsKICAgICAg\nICAgICAgaWYgKGl0ZXIuaGFzTmV4dCgpKQogICAgICAgICAgICAgICAgcHAu\nYXBwZW5kKG5ld2xpbmUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHBw\nLnRvU3RyaW5nKCk7CiAgICB9CgogICAgcHJpdmF0ZSBTdHJpbmcgd3JhcExp\nbmUoU3RyaW5nIGxpbmUpIHsKICAgICAgICBTdHJpbmdCdWZmZXIgbGluZXMg\nPSBuZXcgU3RyaW5nQnVmZmVyKGxpbmUubGVuZ3RoKCkpOwoKICAgICAgICAv\nLyBlbnN1cmUgdGhhdCBhbnkgbGVhZGluZyB3aGl0ZXNwYWNlIGlzIHByZXNl\ncnZlZC4KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGxpbmUubGVuZ3Ro\nKCkgJiYKICAgICAgICAgICAgKGxpbmUuY2hhckF0KGkpID09ICcgJyB8fCBs\naW5lLmNoYXJBdChpKSA9PSAnXHQnKTsgaSsrKSB7CiAgICAgICAgICAgIGxp\nbmVzLmFwcGVuZChsaW5lLmNoYXJBdChpKSk7CiAgICAgICAgfQoKICAgICAg\nICBTdHJpbmdUb2tlbml6ZXIgdG9rID0gbmV3IFN0cmluZ1Rva2VuaXplcihs\naW5lKTsKICAgICAgICBpbnQgbGVuZ3RoID0gMDsKICAgICAgICBTdHJpbmcg\nZWxlbTsKICAgICAgICB3aGlsZSAodG9rLmhhc01vcmVUb2tlbnMoKSkgewog\nICAgICAgICAgICBlbGVtID0gdG9rLm5leHRUb2tlbigpOwogICAgICAgICAg\nICBsZW5ndGggKz0gZWxlbS5sZW5ndGgoKTsKCiAgICAgICAgICAgIC8vIGlm\nIHdlIHdvdWxkIGhhdmUgZXhjZWVkZWQgdGhlIG1heCwgd3JpdGUgb3V0IGEg\nbmV3bGluZQogICAgICAgICAgICAvLyBiZWZvcmUgd3JpdGluZyB0aGUgZWxl\nbS4KICAgICAgICAgICAgaWYgKGxlbmd0aCA+PSBsaW5lTGVuZ3RoKSB7CiAg\nICAgICAgICAgICAgICBsaW5lcy5hcHBlbmQobmV3bGluZSk7CiAgICAgICAg\nICAgICAgICBsaW5lcy5hcHBlbmQod3JhcEluZGVudCk7CiAgICAgICAgICAg\nICAgICBsaW5lcy5hcHBlbmQoZWxlbSk7CiAgICAgICAgICAgICAgICBsaW5l\ncy5hcHBlbmQoJyAnKTsKICAgICAgICAgICAgICAgIGxlbmd0aCA9IHdyYXBJ\nbmRlbnQubGVuZ3RoKCkgKyBlbGVtLmxlbmd0aCgpICsgMTsKICAgICAgICAg\nICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAv\nLyBpZiB0aGUgY3VycmVudCBsZW5ndGggaXMgZ3JlYXRlciB0aGFuIHRoZSBt\nYXgsIHRoZW4gdGhlCiAgICAgICAgICAgIC8vIGxhc3Qgd29yZCBhbG9uZSB3\nYXMgdG9vIGxvbmcsIHNvIGp1c3Qgd3JpdGUgb3V0IGEKICAgICAgICAgICAg\nLy8gbmV3bGluZSBhbmQgbW92ZSBvbi4KICAgICAgICAgICAgaWYgKGVsZW0u\nbGVuZ3RoKCkgPj0gbGluZUxlbmd0aCkgewogICAgICAgICAgICAgICAgbGlu\nZXMuYXBwZW5kKGVsZW0pOwogICAgICAgICAgICAgICAgaWYgKHRvay5oYXNN\nb3JlVG9rZW5zKCkpCiAgICAgICAgICAgICAgICAgICAgbGluZXMuYXBwZW5k\nKG5ld2xpbmUpOwogICAgICAgICAgICAgICAgbGluZXMuYXBwZW5kKHdyYXBJ\nbmRlbnQpOwogICAgICAgICAgICAgICAgbGVuZ3RoID0gd3JhcEluZGVudC5s\nZW5ndGgoKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAg\nICB9CgogICAgICAgICAgICBsaW5lcy5hcHBlbmQoZWxlbSk7CiAgICAgICAg\nICAgIGxpbmVzLmFwcGVuZCgnICcpOwogICAgICAgICAgICBsZW5ndGgrKzsK\nICAgICAgICB9CgogICAgICAgIHJldHVybiBsaW5lcy50b1N0cmluZygpOwog\nICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBbXSBh\ncmdzKSB7CiAgICAgICAgU1FMRm9ybWF0dGVyIGZvcm1hdHRlciA9IG5ldyBT\nUUxGb3JtYXR0ZXIoKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGFy\nZ3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgU3lzdGVtLm91dC5wcmlu\ndGxuKGZvcm1hdHRlci5wcmV0dHlQcmludChhcmdzW2ldKSk7CiAgICAgICAg\nfQogICAgfQp9Cg==\n","encoding":"base64"}

