{"sha":"1584679be84a10d3ce7c584b9c7d718e8e3740a1","node_id":"MDQ6QmxvYjIwNjM2NDoxNTg0Njc5YmU4NGExMGQzY2U3YzU4NGI5YzdkNzE4ZThlMzc0MGEx","size":15586,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1584679be84a10d3ce7c584b9c7d718e8e3740a1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgovKioKICog\nRW5jYXBzdWxhdGVzIHNvbWUgY29tbW9uIEphdmEgc291cmNlIGNvZGUgZm9y\nbWF0dGluZyBvcHRpb25zLiBUaGUKICogY2xhc3MgY2FuIGFsc28gYmUgdXNl\nZCBhcyBhIGJ1ZmZlciBmb3IgZm9ybWF0dGVkIEphdmEgY29kZS4KICoKICog\nQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBmaW5hbCBjbGFzcyBDb2Rl\nRm9ybWF0IGltcGxlbWVudHMgQ2xvbmVhYmxlIHsKCiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgX3NlcCA9IEoyRG9Qcml2SGVscGVyLmdldExp\nbmVTZXBhcmF0b3IoKTsKCiAgICBwcml2YXRlIFN0cmluZyBfdGFiID0gIlx0\nIjsKICAgIHByaXZhdGUgYm9vbGVhbiBfc3BhY2VCZWZvcmVQYXJlbiA9IGZh\nbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9zcGFjZUluUGFyZW4gPSBmYWxz\nZTsKICAgIHByaXZhdGUgYm9vbGVhbiBfYnJhY2VPblNhbWVMaW5lID0gdHJ1\nZTsKICAgIHByaXZhdGUgYm9vbGVhbiBfYnJhY2VBdFNhbWVUYWJMZXZlbCA9\nIGZhbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9zY29yZUJlZm9yZUZpZWxk\nTmFtZSA9IGZhbHNlOwogICAgcHJpdmF0ZSBpbnQgX2xpbmVzQmV0d2VlblNl\nY3Rpb25zID0gMTsKCiAgICBwcml2YXRlIFN0cmluZ0J1ZmZlciBfYnVmID0g\nbmV3IFN0cmluZ0J1ZmZlcigpOwoKICAgIC8qKgogICAgICogVGhlIG51bWJl\nciBvZiBzcGFjZXMgdG8gdXNlIGZvciB0YWJzOyAwIG1lYW5zIHRvIHVzZSBh\nY3R1YWwgdGFiCiAgICAgKiBjaGFyYWN0ZXJzLiBEZWZhdWx0cyB0byAwLgog\nICAgICovCiAgICBwdWJsaWMgaW50IGdldFRhYlNwYWNlcygpIHsKICAgICAg\nICByZXR1cm4gKF90YWIuZXF1YWxzKCJcdCIpKSA/IDAgOiBfdGFiLmxlbmd0\naCgpOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG51bWJlciBvZiBzcGFj\nZXMgdG8gdXNlIGZvciB0YWJzOyAwIG1lYW5zIHRvIHVzZSBhY3R1YWwgdGFi\nCiAgICAgKiBjaGFyYWN0ZXJzLiBEZWZhdWx0cyB0byAwLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRUYWJTcGFjZXMoaW50IHRhYikgewogICAgICAg\nIGlmICh0YWIgPT0gMCkKICAgICAgICAgICAgX3RhYiA9ICJcdCI7CiAgICAg\nICAgZWxzZSB7CiAgICAgICAgICAgIFN0cmluZ0J1ZmZlciB0YWJzID0gbmV3\nIFN0cmluZ0J1ZmZlcih0YWIpOwogICAgICAgICAgICBmb3IgKGludCBpID0g\nMDsgaSA8IHRhYjsgaSsrKQogICAgICAgICAgICAgICAgdGFicy5hcHBlbmQo\nIiAiKTsKICAgICAgICAgICAgX3RhYiA9IHRhYnMudG9TdHJpbmcoKTsKICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIHBsYWNl\nIGEgc3BhY2UgYmVmb3JlIHBhcmVudGhlc2VzLiBEZWZhdWx0cyB0byBmYWxz\nZS4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0U3BhY2VCZWZvcmVQ\nYXJlbigpIHsKICAgICAgICByZXR1cm4gX3NwYWNlQmVmb3JlUGFyZW47CiAg\nICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIHBsYWNlIGEgc3BhY2Ug\nYmVmb3JlIHBhcmVudGhlc2VzLiBEZWZhdWx0cyB0byBmYWxzZS4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0U3BhY2VCZWZvcmVQYXJlbihib29sZWFu\nIHNwYWNlQmVmb3JlUGFyZW4pIHsKICAgICAgICBfc3BhY2VCZWZvcmVQYXJl\nbiA9IHNwYWNlQmVmb3JlUGFyZW47CiAgICB9CgogICAgLyoqCiAgICAgKiBX\naGV0aGVyIHRvIHBsYWNlIGEgc3BhY2Ugd2l0aGluIHBhcmVudGhlc2VzLiBE\nZWZhdWx0cyB0byBmYWxzZS4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4g\nZ2V0U3BhY2VJblBhcmVuKCkgewogICAgICAgIHJldHVybiBfc3BhY2VJblBh\ncmVuOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBwbGFjZSBh\nIHNwYWNlIHdpdGhpbiBwYXJlbnRoZXNlcy4gRGVmYXVsdHMgdG8gZmFsc2Uu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNwYWNlSW5QYXJlbihib29s\nZWFuIHNwYWNlSW5QYXJlbikgewogICAgICAgIF9zcGFjZUluUGFyZW4gPSBz\ncGFjZUluUGFyZW47CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRv\nIHBsYWNlIG9wZW5pbmcgYnJhY2VzIG9uIHRoZSBzYW1lIGxpbmUgYXMgdGhl\nCiAgICAgKiBibG9jayBkZWNsYXJhdGlvbiwgb3Igb24gdGhlIG5leHQgbGlu\nZS4gRGVmYXVsdHMgdG8gc2FtZSBsaW5lLgogICAgICovCiAgICBwdWJsaWMg\nYm9vbGVhbiBnZXRCcmFjZU9uU2FtZUxpbmUoKSB7CiAgICAgICAgcmV0dXJu\nIF9icmFjZU9uU2FtZUxpbmU7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0\naGVyIHRvIHBsYWNlIG9wZW5pbmcgYnJhY2VzIG9uIHRoZSBzYW1lIGxpbmUg\nYXMgdGhlCiAgICAgKiBibG9jayBkZWNsYXJhdGlvbiwgb3Igb24gdGhlIG5l\neHQgbGluZS4gRGVmYXVsdHMgdG8gc2FtZSBsaW5lLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXRCcmFjZU9uU2FtZUxpbmUoYm9vbGVhbiBicmFjZU9u\nU2FtZUxpbmUpIHsKICAgICAgICBfYnJhY2VPblNhbWVMaW5lID0gYnJhY2VP\nblNhbWVMaW5lOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBw\nbGFjZSBicmFjZXMgYXQgdGhlIHNhbWUgdGFiIGxldmVsIGFzIHRoZSBjb2Rl\nIHdpdGhpbgogICAgICogdGhlIGJsb2NrLiBEZWZhdWx0cyB0byBmYWxzZS4K\nICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0QnJhY2VBdFNhbWVUYWJM\nZXZlbCgpIHsKICAgICAgICByZXR1cm4gX2JyYWNlQXRTYW1lVGFiTGV2ZWw7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIHBsYWNlIGJyYWNl\ncyBhdCB0aGUgc2FtZSB0YWIgbGV2ZWwgYXMgdGhlIGNvZGUgd2l0aGluCiAg\nICAgKiB0aGUgYmxvY2suIERlZmF1bHRzIHRvIGZhbHNlLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRCcmFjZUF0U2FtZVRhYkxldmVsKGJvb2xlYW4g\nYnJhY2VBdFNhbWVUYWJMZXZlbCkgewogICAgICAgIF9icmFjZUF0U2FtZVRh\nYkxldmVsID0gYnJhY2VBdFNhbWVUYWJMZXZlbDsKICAgIH0KCiAgICAvKioK\nICAgICAqIFdoZXRoZXIgdG8gcGxhY2UgYW4gdW5kZXJzY29yZSBiZWZvcmUg\ncHJpdmF0ZSBmaWVsZCBuYW1lcy4gRGVmYXVsdHMKICAgICAqIHRvIGZhbHNl\nLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRTY29yZUJlZm9yZUZp\nZWxkTmFtZSgpIHsKICAgICAgICByZXR1cm4gX3Njb3JlQmVmb3JlRmllbGRO\nYW1lOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBwbGFjZSBh\nbiB1bmRlcnNjb3JlIGJlZm9yZSBwcml2YXRlIGZpZWxkIG5hbWVzLiBEZWZh\ndWx0cwogICAgICogdG8gZmFsc2UuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldFNjb3JlQmVmb3JlRmllbGROYW1lKGJvb2xlYW4gc2NvcmVCZWZvcmVG\naWVsZE5hbWUpIHsKICAgICAgICBfc2NvcmVCZWZvcmVGaWVsZE5hbWUgPSBz\nY29yZUJlZm9yZUZpZWxkTmFtZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRo\nZSBudW1iZXIgb2YgZW1wdHkgbGluZXMgYmV0d2VlbiBjb2RlIHNlY3Rpb25z\nLiBEZWZhdWx0cyB0byAxLgogICAgICovCiAgICBwdWJsaWMgaW50IGdldExp\nbmVzQmV0d2VlblNlY3Rpb25zKCkgewogICAgICAgIHJldHVybiBfbGluZXNC\nZXR3ZWVuU2VjdGlvbnM7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgbnVt\nYmVyIG9mIGVtcHR5IGxpbmVzIGJldHdlZW4gc2VjdGlvbnMuIERlZmF1bHRz\nIHRvIDEuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldExpbmVzQmV0d2Vl\nblNlY3Rpb25zKGludCBsaW5lc0JldHdlZW5TZWN0aW9ucykgewogICAgICAg\nIF9saW5lc0JldHdlZW5TZWN0aW9ucyA9IGxpbmVzQmV0d2VlblNlY3Rpb25z\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgbmV3IGxpbmUgY2hh\ncmFjdGVyLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldEVuZGwoKSB7\nCiAgICAgICAgcmV0dXJuIGdldEVuZGwoMSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gdGhlIGdpdmVuIG51bWJlciBvZiBuZXcgbGluZSBjaGFy\nYWN0ZXJzLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldEVuZGwoaW50\nIG51bSkgewogICAgICAgIGlmIChudW0gPT0gMCkKICAgICAgICAgICAgcmV0\ndXJuICIiOwogICAgICAgIGlmIChudW0gPT0gMSkKICAgICAgICAgICAgcmV0\ndXJuIF9zZXA7CgogICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3Ry\naW5nQnVmZmVyKF9zZXAubGVuZ3RoKCkgKiBudW0pOwogICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgbnVtOyBpKyspCiAgICAgICAgICAgIGJ1Zi5hcHBl\nbmQoX3NlcCk7CiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBnaXZlbiBudW1iZXIgb2Yg\nbmV3IGxpbmUgY2hhcmFjdGVycywgZm9sbG93ZWQgYnkKICAgICAqIHRoZSBn\naXZlbiB0YWIgbGV2ZWwgaW5kZW50YXRpb24uCiAgICAgKi8KICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0RW5kbChpbnQgbnVtLCBpbnQgdGFicykgewogICAgICAg\nIHJldHVybiBnZXRFbmRsKG51bSkgKyBnZXRUYWIodGFicyk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm4geyNnZXRMaW5lc0JldHdlZW5TZWN0aW9u\nc30gKyAxIG5ldyBsaW5lIGNoYXJhY3RlcnMuCiAgICAgKi8KICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0QWZ0ZXJTZWN0aW9uKCkgewogICAgICAgIHJldHVybiBn\nZXRFbmRsKGdldExpbmVzQmV0d2VlblNlY3Rpb25zKCkgKyAxKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIE9wZW4gcGFyZW50aGVzZXMgc3RyaW5nLiBVc2Vy\ncyBjYW4gY2hvb3NlIHRvIHBsYWNlIHNwYWNlcyBiZWZvcmUKICAgICAqIGFu\nZCB3aXRoaW4gcGFyZW50aGVzZXMuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0T3BlblBhcmVuKGJvb2xlYW4gbWV0aG9kT3JJZikgewogICAgICAg\nIGlmICgoX3NwYWNlQmVmb3JlUGFyZW4gJiYgbWV0aG9kT3JJZikgJiYgX3Nw\nYWNlSW5QYXJlbikKICAgICAgICAgICAgcmV0dXJuICIgKCAiOwogICAgICAg\nIGlmIChfc3BhY2VCZWZvcmVQYXJlbiAmJiBtZXRob2RPcklmKQogICAgICAg\nICAgICByZXR1cm4gIiAoIjsKICAgICAgICBpZiAoX3NwYWNlSW5QYXJlbikK\nICAgICAgICAgICAgcmV0dXJuICIoICI7CiAgICAgICAgcmV0dXJuICIoIjsK\nICAgIH0KCiAgICAvKioKICAgICAqIENsb3NlIHBhcmVudGhlc2VzIHN0cmlu\nZy4gVXNlcnMgY2FuIGNob29zZSB0byBwbGFjZSBzcGFjZXMgd2l0aGluCiAg\nICAgKiBwYXJlbnRoZXNlcy4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBn\nZXRDbG9zZVBhcmVuKCkgewogICAgICAgIGlmIChfc3BhY2VJblBhcmVuKQog\nICAgICAgICAgICByZXR1cm4gIiApIjsKICAgICAgICByZXR1cm4gIikiOwog\nICAgfQoKICAgIC8qKgogICAgICogUGFpcmVkIHBhcmVudGhlc2VzIGZvciBl\nbXB0eSBtZXRob2QgcGFyYW1ldGVycy4gVXNlcnMgY2FuIGNob29zZQogICAg\nICogdG8gcGxhY2Ugc3BhY2VzIGJlZm9yZSBwYXJlbnRoZXNlcy4KICAgICAq\nLwogICAgcHVibGljIFN0cmluZyBnZXRQYXJlbnMoKSB7CiAgICAgICAgaWYg\nKF9zcGFjZUJlZm9yZVBhcmVuKQogICAgICAgICAgICByZXR1cm4gIiAoKSI7\nCiAgICAgICAgcmV0dXJuICIoKSI7CiAgICB9CgogICAgLyoqCiAgICAgKiBP\ncGVuIGJyYWNlIHN0cmluZy4gVXNlcnMgY2FuIGNob29zZSB0byBwbGFjZSBi\ncmFjZXMgb24gdGhlIHNhbWUKICAgICAqIGxpbmUsIG9yIG9uIGEgbmV3IGxp\nbmUsIGFuZCBjYW4gY2hvb3NlIHRoZSBpbmRlbnRpbmcgbGV2ZWwuCiAgICAg\nKgogICAgICogQHBhcmFtIHRhYkxldmVsIHRoZSB0YWIgbGV2ZWwgb2YgY29k\nZSB3aXRoaW4gdGhlIGJyYWNlCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0T3BlbkJyYWNlKGludCB0YWJMZXZlbCkgewogICAgICAgIGlmIChfYnJh\nY2VPblNhbWVMaW5lKQogICAgICAgICAgICByZXR1cm4gIiB7IjsKICAgICAg\nICBpZiAoX2JyYWNlQXRTYW1lVGFiTGV2ZWwpCiAgICAgICAgICAgIHJldHVy\nbiBnZXRFbmRsKCkgKyBnZXRUYWIodGFiTGV2ZWwpICsgInsiOwogICAgICAg\nIHJldHVybiBnZXRFbmRsKCkgKyBnZXRUYWIodGFiTGV2ZWwgLSAxKSArICJ7\nIjsKICAgIH0KCiAgICAvKioKICAgICAqIENsb3NlIGJyYWNlIHN0cmluZy4g\nVXNlcnMgY2FuIGNob29zZSB0byBwbGFjZSBicmFjZXMgb24gdGhlIHNhbWUK\nICAgICAqIGxpbmUsIG9yIG9uIGEgbmV3IGxpbmUsIGFuZCBjYW4gY2hvb3Nl\nIHRoZSBpbmRlbnRpbmcgbGV2ZWwuCiAgICAgKgogICAgICogQHBhcmFtIHRh\nYkxldmVsIHRoZSB0YWIgbGV2ZWwgb2YgY29kZSB3aXRoaW4gdGhlIGJyYWNl\nCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q2xvc2VCcmFjZShpbnQg\ndGFiTGV2ZWwpIHsKICAgICAgICBpZiAoX2JyYWNlQXRTYW1lVGFiTGV2ZWwp\nCiAgICAgICAgICAgIHJldHVybiBnZXRUYWIodGFiTGV2ZWwpICsgIn0iOwog\nICAgICAgIHJldHVybiBnZXRUYWIodGFiTGV2ZWwgLSAxKSArICJ9IjsKICAg\nIH0KCiAgICAvKioKICAgICAqIEV4dGVuZHMgZGVjbGFyYXRpb24uIFVzZXMg\nY29uZmlndXJhdGlvbiBvZiB7QGxpbmsgI29wZW5CcmFjZX0sCiAgICAgKiBi\ndXQgcHJpbnRzICJleHRlbmRzIiBpbnN0ZWFkIG9mIGEgYnJhY2UuCiAgICAg\nKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RXh0ZW5kc0RlYyhpbnQgdGFiTGV2\nZWwpIHsKICAgICAgICBpZiAoX2JyYWNlT25TYW1lTGluZSkKICAgICAgICAg\nICAgcmV0dXJuICIgZXh0ZW5kcyI7CiAgICAgICAgaWYgKF9icmFjZUF0U2Ft\nZVRhYkxldmVsKQogICAgICAgICAgICByZXR1cm4gZ2V0RW5kbCgpICsgZ2V0\nVGFiKHRhYkxldmVsKSArICJleHRlbmRzIjsKICAgICAgICByZXR1cm4gZ2V0\nRW5kbCgpICsgZ2V0VGFiKHRhYkxldmVsKSArICJleHRlbmRzIjsKICAgIH0K\nCiAgICAvKioKICAgICAqIEltcGxlbWVudHMgZGVjbGFyYXRpb24uIFVzZXMg\nY29uZmlndXJhdGlvbiBvZiB7QGxpbmsgI29wZW5CcmFjZX0sCiAgICAgKiBi\ndXQgcHJpbnRzICJpbXBsZW1lbnRzIiBpbnN0ZWFkIG9mIGEgYnJhY2UuCiAg\nICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW1wbGVtZW50c0RlYyhpbnQg\ndGFiTGV2ZWwpIHsKICAgICAgICBpZiAoX2JyYWNlT25TYW1lTGluZSkKICAg\nICAgICAgICAgcmV0dXJuICIgaW1wbGVtZW50cyI7CiAgICAgICAgaWYgKF9i\ncmFjZUF0U2FtZVRhYkxldmVsKQogICAgICAgICAgICByZXR1cm4gZ2V0RW5k\nbCgpICsgZ2V0VGFiKHRhYkxldmVsKSArICJpbXBsZW1lbnRzIjsKICAgICAg\nICByZXR1cm4gZ2V0RW5kbCgpICsgZ2V0VGFiKHRhYkxldmVsKSArICJpbXBs\nZW1lbnRzIjsKICAgIH0KCiAgICAvKioKICAgICAqIFRocm93cyBkZWNsYXJh\ndGlvbi4gVXNlcyBjb25maWd1cmF0aW9uIG9mIHtAbGluayAjb3BlbkJyYWNl\nfSwKICAgICAqIGJ1dCBwcmludHMgInRocm93cyIgaW5zdGVhZCBvZiBhIGJy\nYWNlLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFRocm93c0RlYyhp\nbnQgdGFiTGV2ZWwpIHsKICAgICAgICBpZiAoX2JyYWNlT25TYW1lTGluZSkK\nICAgICAgICAgICAgcmV0dXJuICIgdGhyb3dzIjsKICAgICAgICBpZiAoX2Jy\nYWNlQXRTYW1lVGFiTGV2ZWwpCiAgICAgICAgICAgIHJldHVybiBnZXRFbmRs\nKCkgKyBnZXRUYWIodGFiTGV2ZWwpICsgInRocm93cyI7CiAgICAgICAgcmV0\ndXJuIGdldEVuZGwoKSArIGdldFRhYih0YWJMZXZlbCkgKyAidGhyb3dzIjsK\nICAgIH0KCiAgICAvKioKICAgICAqIFRhYiBzdHJpbmcuIFVzZXJzIGNhbiBj\naG9vc2UgdG8gdXNlIHNwYWNlcyBvciB0YWIgY2hhcmFjdGVycy4KICAgICAq\nLwogICAgcHVibGljIFN0cmluZyBnZXRUYWIoKSB7CiAgICAgICAgcmV0dXJu\nIGdldFRhYigxKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRhYiBzdHJpbmcu\nIFVzZXJzIGNhbiBjaG9vc2UgdG8gdXNlIHNwYWNlcyBvciB0YWIgY2hhcmFj\ndGVycy4KICAgICAqCiAgICAgKiBAcGFyYW0gdGFiTGV2ZWwgdGhlIG51bWJl\nciBvZiB0YWJzCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGFiKGlu\ndCB0YWJMZXZlbCkgewogICAgICAgIGlmICh0YWJMZXZlbCA9PSAwKQogICAg\nICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgaWYgKHRhYkxldmVsID09IDEp\nCiAgICAgICAgICAgIHJldHVybiBfdGFiOwoKICAgICAgICBTdHJpbmdCdWZm\nZXIgdGFicyA9IG5ldyBTdHJpbmdCdWZmZXIoX3RhYi5sZW5ndGgoKSAqIHRh\nYkxldmVsKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHRhYkxldmVs\nOyBpKyspCiAgICAgICAgICAgIHRhYnMuYXBwZW5kKF90YWIpOwogICAgICAg\nIHJldHVybiB0YWJzLnRvU3RyaW5nKCk7CiAgICB9CgoKICAgIC8qKgogICAg\nICogUmV0dXJucyBwYXJhbWV0cml6ZWQgdHlwZSBzdHJpbmcgZm9yIGdpdmVu\nIHR5cGUocykuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFyYW1l\ndHJpemVkVHlwZShTdHJpbmdbXSB0eXBlbmFtZXMpIHsKICAgICAgICBTdHJp\nbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlciAoKTsKICAgICAgICBi\ndWYuYXBwZW5kKCI8Iik7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0\neXBlbmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGkgPiAw\nKQogICAgICAgICAgICAgICAgYnVmLmFwcGVuZCgiLCAiKTsKICAgICAgICAg\nICAgYnVmLmFwcGVuZCh0eXBlbmFtZXNbaV0pOwogICAgICAgIH0KICAgICAg\nICBidWYuYXBwZW5kKCI+Iik7CiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmlu\nZygpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBmaWVsZCBu\nYW1lIGZvciBnaXZlbiBzdWdnZXN0ZWQgbmFtZSwgcG9zc2libHkgYWRkaW5n\nCiAgICAgKiBsZWFkaW5nIHVuZGVyc2NvcmUuCiAgICAgKi8KICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0RmllbGROYW1lKFN0cmluZyBmaWVsZE5hbWUpIHsKICAg\nICAgICByZXR1cm4gKF9zY29yZUJlZm9yZUZpZWxkTmFtZSkgPyAiXyIgKyBm\naWVsZE5hbWUgOiBmaWVsZE5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gdGhlIGludGVybmFsIGNvZGUgYnVmZmVyLgogICAgICovCiAgICBw\ndWJsaWMgU3RyaW5nQnVmZmVyIGdldEJ1ZmZlcigpIHsKICAgICAgICByZXR1\ncm4gX2J1ZjsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2\nZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqLwogICAg\ncHVibGljIENvZGVGb3JtYXQgYXBwZW5kKGJvb2xlYW4gdmFsKSB7CiAgICAg\nICAgX2J1Zi5hcHBlbmQodmFsKTsKICAgICAgICByZXR1cm4gdGhpczsKICAg\nIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8g\ndGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqLwogICAgcHVibGljIENvZGVG\nb3JtYXQgYXBwZW5kKGJ5dGUgdmFsKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQo\ndmFsKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAg\nICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1\nZmZlci4KICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQgYXBwZW5kKGNo\nYXIgdmFsKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQodmFsKTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUg\nZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqLwog\nICAgcHVibGljIENvZGVGb3JtYXQgYXBwZW5kKGRvdWJsZSB2YWwpIHsKICAg\nICAgICBfYnVmLmFwcGVuZCh2YWwpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1ZSB0\nbyB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICovCiAgICBwdWJsaWMgQ29k\nZUZvcm1hdCBhcHBlbmQoZmxvYXQgdmFsKSB7CiAgICAgICAgX2J1Zi5hcHBl\nbmQodmFsKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioK\nICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFs\nIGJ1ZmZlci4KICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQgYXBwZW5k\nKGludCB2YWwpIHsKICAgICAgICBfYnVmLmFwcGVuZCh2YWwpOwogICAgICAg\nIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRo\nZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICov\nCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBhcHBlbmQobG9uZyB2YWwpIHsKICAg\nICAgICBfYnVmLmFwcGVuZCh2YWwpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1ZSB0\nbyB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICovCiAgICBwdWJsaWMgQ29k\nZUZvcm1hdCBhcHBlbmQoc2hvcnQgdmFsKSB7CiAgICAgICAgX2J1Zi5hcHBl\nbmQodmFsKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioK\nICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFs\nIGJ1ZmZlci4KICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQgYXBwZW5k\nKE9iamVjdCB2YWwpIHsKICAgICAgICBfYnVmLmFwcGVuZCh2YWwpOwogICAg\nICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5k\nIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAg\nICoKICAgICAqIEBzZWUgI2dldEVuZGwoKQogICAgICovCiAgICBwdWJsaWMg\nQ29kZUZvcm1hdCBlbmRsKCkgewogICAgICAgIF9idWYuYXBwZW5kKGdldEVu\nZGwoKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBi\ndWZmZXIuCiAgICAgKgogICAgICogQHNlZSAjZ2V0RW5kbChpbnQpCiAgICAg\nKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGVuZGwoaW50IG51bSkgewogICAg\nICAgIF9idWYuYXBwZW5kKGdldEVuZGwobnVtKSk7CiAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVu\nIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKgogICAgICog\nQHNlZSAjZ2V0RW5kbChpbnQsIGludCkKICAgICAqLwogICAgcHVibGljIENv\nZGVGb3JtYXQgZW5kbChpbnQgbnVtLCBpbnQgdGFicykgewogICAgICAgIF9i\ndWYuYXBwZW5kKGdldEVuZGwobnVtLCB0YWJzKSk7CiAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVu\nIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKgogICAgICog\nQHNlZSAjZ2V0QWZ0ZXJTZWN0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBDb2Rl\nRm9ybWF0IGFmdGVyU2VjdGlvbigpIHsKICAgICAgICBfYnVmLmFwcGVuZChn\nZXRBZnRlclNlY3Rpb24oKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRo\nZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKgogICAgICogQHNlZSAjZ2V0T3Bl\nblBhcmVuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IG9wZW5QYXJl\nbihib29sZWFuIG1ldGhvZE9ySWYpIHsKICAgICAgICBfYnVmLmFwcGVuZChn\nZXRPcGVuUGFyZW4obWV0aG9kT3JJZikpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1\nZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUg\nI2dldENsb3NlUGFyZW4KICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQg\nY2xvc2VQYXJlbigpIHsKICAgICAgICBfYnVmLmFwcGVuZChnZXRDbG9zZVBh\ncmVuKCkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgog\nICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwg\nYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUgI2dldFBhcmVucwogICAgICov\nCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBwYXJlbnMoKSB7CiAgICAgICAgX2J1\nZi5hcHBlbmQoZ2V0UGFyZW5zKCkpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1ZSB0\nbyB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUgI2dl\ndE9wZW5CcmFjZQogICAgICovCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBvcGVu\nQnJhY2UoaW50IHRhYkxldmVsKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQoZ2V0\nT3BlbkJyYWNlKHRhYkxldmVsKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRv\nIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKgogICAgICogQHNlZSAjZ2V0\nQ2xvc2VCcmFjZQogICAgICovCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBjbG9z\nZUJyYWNlKGludCB0YWJMZXZlbCkgewogICAgICAgIF9idWYuYXBwZW5kKGdl\ndENsb3NlQnJhY2UodGFiTGV2ZWwpKTsKICAgICAgICByZXR1cm4gdGhpczsK\nICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFsdWUg\ndG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBAc2VlICNn\nZXRFeHRlbmRzRGVjCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGV4\ndGVuZHNEZWMoaW50IHRhYkxldmVsKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQo\nZ2V0RXh0ZW5kc0RlYyh0YWJMZXZlbCkpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1\nZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUg\nI2dldEltcGxlbWVudHNEZWMKICAgICAqLwogICAgcHVibGljIENvZGVGb3Jt\nYXQgaW1wbGVtZW50c0RlYyhpbnQgdGFiTGV2ZWwpIHsKICAgICAgICBfYnVm\nLmFwcGVuZChnZXRJbXBsZW1lbnRzRGVjKHRhYkxldmVsKSk7CiAgICAgICAg\ncmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhl\nIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKgog\nICAgICogQHNlZSAjZ2V0VGhyb3dzRGVjCiAgICAgKi8KICAgIHB1YmxpYyBD\nb2RlRm9ybWF0IHRocm93c0RlYyhpbnQgdGFiTGV2ZWwpIHsKICAgICAgICBf\nYnVmLmFwcGVuZChnZXRUaHJvd3NEZWModGFiTGV2ZWwpKTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUg\nZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAg\nICAgKiBAc2VlICNnZXRUYWIKICAgICAqLwogICAgcHVibGljIENvZGVGb3Jt\nYXQgdGFiKCkgewogICAgICAgIF9idWYuYXBwZW5kKGdldFRhYigpKTsKICAg\nICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVu\nZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAg\nICAqCiAgICAgKiBAc2VlICNnZXRUYWIKICAgICAqLwogICAgcHVibGljIENv\nZGVGb3JtYXQgdGFiKGludCB0YWJMZXZlbCkgewogICAgICAgIF9idWYuYXBw\nZW5kKGdldFRhYih0YWJMZXZlbCkpOwogICAgICAgIHJldHVybiB0aGlzOwog\nICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1ZSB0\nbyB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUgI2dl\ndEZpZWxkTmFtZQogICAgICovCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBmaWVs\nZE5hbWUoU3RyaW5nIG5hbWUpIHsKICAgICAgICBfYnVmLmFwcGVuZChnZXRG\naWVsZE5hbWUobmFtZSkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoK\nICAgIC8qKgogICAgICogQ2xlYXIgdGhlIGludGVybmFsIGNvZGUgYnVmZmVy\nLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBjbGVhcigpIHsKICAgICAgICBf\nYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSBpbnRlcm5hbCBidWZmZXIgYXMgYSBzdHJpbmcuCiAg\nICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAg\ncmV0dXJuIF9idWYudG9TdHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAg\nICAgKi8KICAgIHB1YmxpYyBpbnQgbGVuZ3RoKCkgewogICAgICAgIHJldHVy\nbiBfYnVmLmxlbmd0aCgpOwogICAgfQoKICAgIC8qKgogICAgICogTWFrZSBh\nIGNvcHkgb2YgdGhpcyBjb2RlIGZvcm1hdCBvYmplY3Qgd2l0aCBhbGwgdGhl\nIHNhbWUgZm9ybWF0dGluZwogICAgICogc2V0dGluZ3MuCiAgICAgKi8KICAg\nIHB1YmxpYyBPYmplY3QgY2xvbmUoKSB7CiAgICAgICAgQ29kZUZvcm1hdCBm\nb3JtYXQgPSBuZXcgQ29kZUZvcm1hdCgpOwogICAgICAgIGZvcm1hdC5fdGFi\nID0gX3RhYjsKICAgICAgICBmb3JtYXQuX3NwYWNlQmVmb3JlUGFyZW4gPSBf\nc3BhY2VCZWZvcmVQYXJlbjsKICAgICAgICBmb3JtYXQuX3NwYWNlSW5QYXJl\nbiA9IF9zcGFjZUluUGFyZW47CiAgICAgICAgZm9ybWF0Ll9icmFjZU9uU2Ft\nZUxpbmUgPSBfYnJhY2VPblNhbWVMaW5lOwogICAgICAgIGZvcm1hdC5fYnJh\nY2VBdFNhbWVUYWJMZXZlbCA9IF9icmFjZUF0U2FtZVRhYkxldmVsOwogICAg\nICAgIGZvcm1hdC5fc2NvcmVCZWZvcmVGaWVsZE5hbWUgPSBfc2NvcmVCZWZv\ncmVGaWVsZE5hbWU7CiAgICAgICAgZm9ybWF0Ll9saW5lc0JldHdlZW5TZWN0\naW9ucyA9IF9saW5lc0JldHdlZW5TZWN0aW9uczsKICAgICAgICByZXR1cm4g\nZm9ybWF0OwogICAgfQp9Cg==\n","encoding":"base64"}

