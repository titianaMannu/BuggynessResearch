{"sha":"838759865a08f24f35ef0d87568cf690e070d030","node_id":"MDQ6QmxvYjIwNjM2NDo4Mzg3NTk4NjVhMDhmMjRmMzVlZjBkODc1NjhjZjY5MGUwNzBkMDMw","size":29861,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/838759865a08f24f35ef0d87568cf690e070d030","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5GaWxlSW5wdXRTdHJlYW07\nCmltcG9ydCBqYXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlvbjsKaW1wb3J0\nIGphdmEuaW8uRmlsZU91dHB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uSU9F\neGNlcHRpb247CmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5BY2Nlc3NpYmxl\nT2JqZWN0OwppbXBvcnQgamF2YS5uZXQuSW5ldEFkZHJlc3M7CmltcG9ydCBq\nYXZhLm5ldC5TZXJ2ZXJTb2NrZXQ7CmltcG9ydCBqYXZhLm5ldC5Tb2NrZXQ7\nCmltcG9ydCBqYXZhLm5ldC5VUkw7CmltcG9ydCBqYXZhLm5ldC5VUkxDb25u\nZWN0aW9uOwppbXBvcnQgamF2YS5uZXQuVW5rbm93bkhvc3RFeGNlcHRpb247\nCmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXI7CmltcG9y\ndCBqYXZhLnNlY3VyaXR5LlByaXZpbGVnZWRBY3Rpb247CmltcG9ydCBqYXZh\nLnNlY3VyaXR5LlByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb247CmltcG9ydCBq\nYXZhLnV0aWwuemlwLlppcEZpbGU7CgppbXBvcnQgc2VycC5ieXRlY29kZS5C\nQ0NsYXNzOwppbXBvcnQgc2VycC5ieXRlY29kZS5CQ0NsYXNzTG9hZGVyOwpp\nbXBvcnQgc2VycC5ieXRlY29kZS5Db2RlOwppbXBvcnQgc2VycC5ieXRlY29k\nZS5GaWVsZEluc3RydWN0aW9uOwppbXBvcnQgc2VycC5ieXRlY29kZS5Qcm9q\nZWN0OwoKLyoqCiAqIEhlbHBlciBjbGFzcyB0byBvYnRhaW4gdGhlIFByaXZp\nbGVnZShFeGNlcHRpb24pQWN0aW9uIG9iamVjdCB0byBwZXJmb3JtCiAqIEph\ndmEgMiBkb1ByaXZpbGVnZSBzZWN1cml0eSBzZW5zaXRpdmUgZnVuY3Rpb24g\nY2FsbCBpbiB0aGUgZm9sbG93aW5nCiAqIG1ldGhvZHM6CiAqIDx1bD4KICog\nPGxpPkFjY2Vzc2libGVPYmplY3Quc2V0QWNjZXNzaWJsZQogKiA8bGk+Q2xh\nc3MuZm9yTmFtZQogKiA8bGk+Q2xhc3MuZ2V0Q2xhc3NMb2FkZXIKICogPGxp\nPkNsYXNzLmdldERlY2xhcmVkRmllbGQKICogPGxpPkNsYXNzLmdldERlY2xh\ncmVkRmllbGRzCiAqIDxsaT5DbGFzcy5nZXREZWNsYXJlZE1ldGhvZAogKiA8\nbGk+Q2xhc3MuZ2V0RGVjbGFyZWRNZXRob2RzCiAqIDxsaT5DbGFzcy5nZXRS\nZXNvdXJjZQogKiA8bGk+Q2xhc3MubmV3SW5zdGFuY2UKICogPGxpPkNsYXNz\nTG9hZGVyLmdldFBhcmVudAogKiA8bGk+Q2xhc3NMb2FkZXIuZ2V0UmVzb3Vy\nY2UKICogPGxpPkNsYXNzTG9hZGVyLmdldFJlc291cmNlcwogKiA8bGk+Q2xh\nc3NMb2FkZXIuZ2V0U3lzdGVtQ2xhc3NMb2FkZXIKICogPGxpPkZpbGUuZGVs\nZXRlCiAqIDxsaT5GaWxlLmV4aXN0cwogKiA8bGk+RmlsZS5nZXRBYnNvbHV0\nZUZpbGUKICogPGxpPkZpbGUuZ2V0QWJzb2x1dGVQYXRoCiAqIDxsaT5GaWxl\nLmdldENhbm9uaWNhbFBhdGgKICogPGxpPkZpbGUubGlzdEZpbGVzCiAqIDxs\naT5GaWxlLmxlbmd0aAogKiA8bGk+RmlsZS5pc0RpcmVjdG9yeQogKiA8bGk+\nRmlsZS5ta2RpcnMKICogPGxpPkZpbGUucmVuYW1lVG8KICogPGxpPkZpbGVJ\nbnB1dFN0cmVhbSBuZXcKICogPGxpPkZpbGVPdXRwdXRTdHJlYW0gbmV3CiAq\nIDxsaT5TeXN0ZW0uZ2V0UHJvcGVydGllcwogKiA8bGk+SW5ldEFkZHJlc3Mu\nZ2V0QnlOYW1lCiAqIDxsaT5NdWx0aUNsYXNzTG9hZGVyIG5ldwogKiA8bGk+\nU2VydmVyU29ja2V0IG5ldwogKiA8bGk+U29ja2V0IG5ldwogKiA8bGk+U29j\na2V0LmFjY2VwdAogKiA8bGk+U3lzdGVtLmdldFByb3BlcnR5CiAqIDxsaT5U\naHJlYWQuZ2V0Q29udGV4dENsYXNzTG9hZGVyCiAqIDxsaT5UZW1wb3JhcnlD\nbGFzc0xvYWRlciBuZXcKICogPGxpPlVSTC5vcGVuU3RyZWFtCiAqIDxsaT5V\nUkxDb25uZWN0aW9uLmdldENvbnRlbnQKICogPGxpPlppcEZpbGUgbmV3CiAq\nIDxsaT5zZXJwLmJ5dGVjb2RlLkNvZGUgbmV3CiAqIDxsaT5zZXJwLmJ5dGVj\nb2RlLkJDQ2xhc3NMb2FkZXIgbmV3CiAqIDxsaT5zZXJwLmJ5dGVjb2RlLkJD\nQ2xhc3Mud3JpdGUKICogPGxpPnNlcnAuYnl0ZWNvZGUuQkNDbGFzcy5nZXRG\naWVsZHMKICogPGxpPnNlcnAuYnl0ZWNvZGUuRmllbGRJbnN0cnVjdGlvbi5n\nZXRGaWVsZAogKiA8bGk+c2VycC5ieXRlY29kZS5Qcm9qZWN0LmxvYWRDbGFz\ncwogKiA8L3VsPgogKiAKICogSWYgdGhlc2UgbWV0aG9kcyBhcmUgdXNlZCwg\ndGhlIGZvbGxvd2luZyBzYW1wbGUgdXNhZ2UgcGF0dGVybnMgc2hvdWxkIGJl\nCiAqIGZvbGxvd2VkIHRvIGVuc3VyZSBwcm9wZXIgcHJpdmlsZWdlIGlzIGdy\nYW50ZWQ6CiAqIDx4bXA+CiAqIDEpIE5vIHNlY3VyaXR5IHJpc2sgbWV0aG9k\nIGNhbGwuIEUuZy4KICogIAogKiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBT\ndHJpbmcgU0VQID0gSjJEb1ByaXZIZWxwZXIuZ2V0TGluZVNlcGFyYXRvcigp\nOwogKiAKICogMikgTWV0aG9kcyB3aXRoIG5vIGV4Y2VwdGlvbiB0aHJvd24u\nIFByaXZpbGVnZWRBY3Rpb24gaXMgcmV0dXJuZWQgZnJvbQogKiAgICBKMkRv\nUHJpdkhlbHBlci4qQWN0aW9uKCkuIEUuZy4KICogICAgICAKICogICAgQ2xh\nc3NMb2FkZXIgbG9hZGVyID0gKENsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9s\nbGVyLmRvUHJpdmlsZWdlZCgKICogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIEoyRG9Qcml2SGVscGVyLmdldENsYXNzTG9hZGVyQWN0aW9uKGNsYXp6\nKSk7CiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogKiAgICBD\nbGFzc0xvYWRlciBsb2FkZXIgPSAoQ2xhc3NMb2FkZXIpIChTeXN0ZW0uZ2V0\nU2VjdXJpdHlNYW5hZ2VyKCkgPT0gbnVsbCkKICogICAgICAgICAgICAgICAg\nICAgICAgICAgPyBjbGF6ei5nZXRDbGFzc0xvYWRlcigpCiAqICAgICAgICAg\nICAgICAgICAgICAgICAgIDogQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVn\nZWQoCiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKMkRvUHJpdkhl\nbHBlci5nZXRDbGFzc0xvYWRlckFjdGlvbihjbGF6eikpOwogKiAzKSBNZXRo\nb2RzIHdpdGggZXhjZXB0aW9uIHRocm93bi4gUHJpdmlsZWdlZEV4Y2VwdGlv\nbkFjdGlvbiBpcyByZXR1cm5lZAogKiAgICBmcm9tIEoyRG9Qcml2SGVscGVy\nLipBY3Rpb24oKS4gRS5nLgogKiAgICAKICogICAgdHJ5IHsKICogICAgICBt\nZXRob2QgPSAoTWV0aG9kKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdl\nZCgKICogICAgICAgIEoyRG9Qcml2SGVscGVyLmdldERlY2xhcmVkTWV0aG9k\nQWN0aW9uKGNsYXp6LCBuYW1lLCBwYXJhbWV0ZXJUeXBlKSk7CiAqICAgIH0g\nY2F0Y2ggKFByaXZpbGVnZWRBY3Rpb25FeGNlcHRpb24gcGFlKSB7CiAqICAg\nICAgdGhyb3cgKE5vU3VjaE1ldGhvZEV4Y2VwdGlvbikgcGFlLmdldEV4Y2Vw\ndGlvbigpOwogKiAgICB9CiAqICAgIAogKiAgICB0cnkgewogKiAgICAgIG1l\ndGhvZCA9IChTeXN0ZW0uZ2V0U2VjdXJpdHlNYW5hZ2VyKCkgPT0gbnVsbCkK\nICogICAgICAgID8gY2xhenouZ2V0RGVjbGFyZWRNZXRob2QobmFtZSxwYXJh\nbWV0ZXJUeXBlKQogKiAgICAgICAgOiAoTWV0aG9kKSBBY2Nlc3NDb250cm9s\nbGVyLmRvUHJpdmlsZWdlZCgKICogICAgICAgICAgICBKMkRvUHJpdkhlbHBl\nci5nZXREZWNsYXJlZE1ldGhvZEFjdGlvbigKICogICAgICAgICAgICAgIGNs\nYXp6LCBuYW1lLCBwYXJhbWV0ZXJUeXBlKSk7CiAqICAgIH0gY2F0Y2ggKFBy\naXZpbGVnZWRBY3Rpb25FeGNlcHRpb24gcGFlKSB7CiAqICAgICAgICB0aHJv\ndyAoTm9TdWNoTWV0aG9kRXhjZXB0aW9uKSBwYWUuZ2V0RXhjZXB0aW9uKCkK\nICogICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICogPC94\nbXA+IAogKiBAYXV0aG9yIEFsYmVydCBMZWUKICovCgpwdWJsaWMgYWJzdHJh\nY3QgY2xhc3MgSjJEb1ByaXZIZWxwZXIgewogICAgcHJpdmF0ZSBzdGF0aWMg\nU3RyaW5nIGxpbmVTZXBhcmF0b3IgPSBudWxsOwogICAgcHJpdmF0ZSBzdGF0\naWMgU3RyaW5nIHBhdGhTZXBhcmF0b3IgPSBudWxsOwoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgImxpbmUuc2VwYXJhdG9yIiBz\neXN0ZW0gcHJvcGVydHkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3Vy\naXR5IHBvbGljeTogCiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEudXRpbC5Q\ncm9wZXJ0eVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqLwogICAgcHVibGlj\nIHN0YXRpYyBmaW5hbCBTdHJpbmcgZ2V0TGluZVNlcGFyYXRvcigpIHsKICAg\nICAgICBpZiAobGluZVNlcGFyYXRvciA9PSBudWxsKSB7CiAgICAgICAgICAg\nIGxpbmVTZXBhcmF0b3IgPSAoU3RyaW5nKSBBY2Nlc3NDb250cm9sbGVyCiAg\nICAgICAgICAgICAgICAgICAgLmRvUHJpdmlsZWdlZChuZXcgUHJpdmlsZWdl\nZEFjdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljIE9i\namVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1\ncm4gU3lzdGVtLmdldFByb3BlcnR5KCJsaW5lLnNlcGFyYXRvciIpOwogICAg\nICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7\nCiAgICAgICAgfQogICAgICAgIHJldHVybiBsaW5lU2VwYXJhdG9yOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgInBh\ndGguc2VwYXJhdG9yIiBzeXN0ZW0gcHJvcGVydHkuCiAgICAgKiAKICAgICAq\nIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Np\nb24gamF2YS51dGlsLlByb3BlcnR5UGVybWlzc2lvbiAicmVhZCI7JwogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBnZXRQYXRoU2Vw\nYXJhdG9yKCkgewogICAgICAgIGlmIChwYXRoU2VwYXJhdG9yID09IG51bGwp\nIHsKICAgICAgICAgICAgcGF0aFNlcGFyYXRvciA9IChTdHJpbmcpIEFjY2Vz\nc0NvbnRyb2xsZXIKICAgICAgICAgICAgICAgICAgICAuZG9Qcml2aWxlZ2Vk\nKG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAgICAgICAgICAgICAg\nICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIHJldHVybiBTeXN0ZW0uZ2V0UHJvcGVydHkoInBhdGguc2Vw\nYXJhdG9yIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg\nICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhdGhT\nZXBhcmF0b3I7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2\naWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBhT2JqLnNldEFjY2Vzc2libGUoKS4K\nICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OiAncGVy\nbWlzc2lvbiBqYXZhLmxhbmcucmVmbGVjdC5SZWZsZWN0UGVybWlzc2lvbgog\nICAgICogInN1cHByZXNzQWNjZXNzQ2hlY2tzIjsnCiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBzZXRBY2Nlc3Np\nYmxlQWN0aW9uKAogICAgICAgIGZpbmFsIEFjY2Vzc2libGVPYmplY3QgYU9i\naiwgZmluYWwgYm9vbGVhbiBmbGFnKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQ\ncml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0\nIHJ1bigpIHsKICAgICAgICAgICAgICAgIGFPYmouc2V0QWNjZXNzaWJsZShm\nbGFnKTsKICAgICAgICAgICAgICAgIHJldHVybiAoT2JqZWN0KSBudWxsOwog\nICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIENsYXNzLmZv\nck5hbWUoKS4KICAgICAqIAogICAgICogTm90ZXM6IGRvUHJpdiBvZiBDbGFz\ncy5mb3JOYW1lIGNhbGwgaXMgcmVxdWlyZWQgb25seSBpZiB0aGUgaW5wdXQK\nICAgICAqIGNsYXNzbG9hZGVyIGFyZ3VtZW50IGlzIG51bGwuIEUuZy4KICAg\nICAqIAogICAgICogQ2xhc3MuZm9yTmFtZSgieCIsIGZhbHNlLCBDb2xsZWN0\naW9uLmNsYXNzLmdldENsYXNzTG9hZGVyKCkpOwogICAgICogCiAgICAgKiBS\nZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6ICdwZXJtaXNzaW9uIGphdmEubGFu\nZy5SdW50aW1lUGVybWlzc2lvbgogICAgICogImdldENsYXNzTG9hZGVyIjsn\nCiAgICAgKiAKICAgICAqIEByZXR1cm4gQ2xhc3Nsb2FkZXIKICAgICAqLwog\nICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0\naW9uIGdldEZvck5hbWVBY3Rpb24oCiAgICAgICAgZmluYWwgU3RyaW5nIGNs\nYXNzTmFtZSwgZmluYWwgYm9vbGVhbiBpbml0aWFsaXplQm9vbGVhbiwKICAg\nICAgICBmaW5hbCBDbGFzc0xvYWRlciBjbGFzc0xvYWRlcikgewogICAgICAg\nIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAg\nICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgQ2xhc3NOb3RG\nb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gQ2xhc3Mu\nZm9yTmFtZShjbGFzc05hbWUsIGluaXRpYWxpemVCb29sZWFuLCBjbGFzc0xv\nYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3Ig\nY2xhenouZ2V0Q2xhc3Nsb2FkZXIoKS4KICAgICAqIAogICAgICogTm90ZXM6\nIE5vIGRvUHJpdmlsZWdlIHdyYXBwaW5nIGlzIHJlcXVpcmVkIGluIHRoZSBj\nYWxsZXIgaWY6CiAgICAgKiAgICAgInRoZSBjYWxsZXIncyBjbGFzcyBsb2Fk\nZXIgaXMgbm90IG51bGwgYW5kIHRoZSBjYWxsZXIncyBjbGFzcyBsb2FkZXIK\nICAgICAqICAgICAgaXMgbm90IHRoZSBzYW1lIGFzIG9yIGFuIGFuY2VzdG9y\nIG9mIHRoZSBjbGFzcyBsb2FkZXIgZm9yIHRoZSBjbGFzcwogICAgICogICAg\nICB3aG9zZSBjbGFzcyBsb2FkZXIgaXMgcmVxdWVzdGVkIi4gRS5nLgogICAg\nICogICAgICAKICAgICAqICAgICAgICAgdGhpcy5nZXRDbGFzcygpLmdldENs\nYXNzTG9hZGVyKCk7CiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1bnRp\nbWVQZXJtaXNzaW9uICJnZXRDbGFzc0xvYWRlciI7JwogICAgICogICAKICAg\nICAqIEByZXR1cm4gQ2xhc3Nsb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uIGdldENsYXNzTG9hZGVyQWN0\naW9uKAogICAgICAgIGZpbmFsIENsYXNzIGNsYXp6KSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAgICAgICBwdWJs\naWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjbGF6\nei5nZXRDbGFzc0xvYWRlcigpOwogICAgICAgICAgICB9CiAgICAgICAgfTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNl\ncHRpb25BY3Rpb24gb2JqZWN0IGZvciBjbGF6ei5nZXREZWNsYXJlZEZpZWxk\nKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToK\nICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNz\naW9uICJhY2Nlc3NEZWNsYXJlZE1lbWJlcnMiOycKICAgICAqICAgCiAgICAg\nKiBAcmV0dXJuIEZpZWxkCiAgICAgKiBAZXhjZXB0aW9uIE5vU3VjaEZpZWxk\nRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBnZXREZWNsYXJlZEZpZWxkQWN0aW9u\nKAogICAgICAgIGZpbmFsIENsYXNzIGNsYXp6LCBmaW5hbCBTdHJpbmcgbmFt\nZSkgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFj\ndGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJv\nd3MgTm9TdWNoRmllbGRFeGNlcHRpb24gewogICAgICAgICAgICAgICAgcmV0\ndXJuIGNsYXp6LmdldERlY2xhcmVkRmllbGQobmFtZSk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEg\nUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgY2xhc3MuZ2V0RGVjbGFyZWRG\naWVsZHMoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9s\naWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBl\ncm1pc3Npb24gImFjY2Vzc0RlY2xhcmVkTWVtYmVycyI7JwogICAgICogICAK\nICAgICAqIEByZXR1cm4gRmllbGRbXQogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24gZ2V0RGVjbGFyZWRGaWVsZHNB\nY3Rpb24oCiAgICAgICAgZmluYWwgQ2xhc3MgY2xhenopIHsKICAgICAgICBy\nZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1\nYmxpYyBPYmplY3QgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNs\nYXp6LmdldERlY2xhcmVkRmllbGRzKCk7CiAgICAgICAgICAgIH0KICAgICAg\nICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdl\nZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIGNsYXp6LmdldERlY2xhcmVk\nTWV0aG9kKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBv\nbGljeQogICAgICogICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBl\ncm1pc3Npb24gImFjY2Vzc0RlY2xhcmVkTWVtYmVycyI7JwogICAgICogICAK\nICAgICAqIEByZXR1cm4gTWV0aG9kCiAgICAgKiBAZXhjZXB0aW9uIE5vU3Vj\naE1ldGhvZEV4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZp\nbmFsIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gZ2V0RGVjbGFyZWRNZXRo\nb2RBY3Rpb24oCiAgICAgICAgZmluYWwgQ2xhc3MgY2xhenosIGZpbmFsIFN0\ncmluZyBuYW1lLCBmaW5hbCBDbGFzc1tdIHBhcmFtZXRlclR5cGVzKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uKCkg\newogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHRocm93cyBOb1N1\nY2hNZXRob2RFeGNlcHRpb24gewogICAgICAgICAgICAgICAgcmV0dXJuIGNs\nYXp6LmdldERlY2xhcmVkTWV0aG9kKG5hbWUsIHBhcmFtZXRlclR5cGVzKTsK\nICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBjbGF6ei5n\nZXREZWNsYXJlZE1ldGhvZHMoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMg\nc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmxh\nbmcuUnVudGltZVBlcm1pc3Npb24gImFjY2Vzc0RlY2xhcmVkTWVtYmVycyI7\nJwogICAgICogICAKICAgICAqIEByZXR1cm4gTWV0aG9kW10KICAgICAqLwog\nICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uIGdldERl\nY2xhcmVkTWV0aG9kc0FjdGlvbigKICAgICAgICBmaW5hbCBDbGFzcyBjbGF6\neikgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsK\nICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAg\nICAgICByZXR1cm4gY2xhenouZ2V0RGVjbGFyZWRNZXRob2RzKCk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgY2xhenouZ2V0UmVz\nb3VyY2UoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9s\naWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNz\naW9uICJyZWFkIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBVUkwKICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9u\nIGdldFJlc291cmNlQWN0aW9uKAogICAgICAgIGZpbmFsIENsYXNzIGNsYXp6\nLCBmaW5hbCBTdHJpbmcgcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gbmV3\nIFByaXZpbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmpl\nY3QgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNsYXp6LmdldFJl\nc291cmNlKHJlc291cmNlKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0\naW9uQWN0aW9uIG9iamVjdCBmb3IgY2xhenoubmV3SW5zdGFuY2UoKS4KICAg\nICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICog\nICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImdl\ndENsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBPYmpl\nY3QKICAgICAqIEBleGNlcHRpb24gSWxsZWdhbEFjY2Vzc0V4Y2VwdGlvbgog\nICAgICogQGV4Y2VwdGlvbiBJbnN0YW50aWF0aW9uRXhjZXB0aW9uCiAgICAg\nKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2VwdGlv\nbkFjdGlvbiBuZXdJbnN0YW5jZUFjdGlvbigKICAgICAgICBmaW5hbCBDbGFz\ncyBjbGF6eikgdGhyb3dzIElsbGVnYWxBY2Nlc3NFeGNlcHRpb24sCiAgICAg\nICAgSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5l\ndyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uKCkgewogICAgICAgICAgICBw\ndWJsaWMgT2JqZWN0IHJ1bigpIHRocm93cyBJbGxlZ2FsQWNjZXNzRXhjZXB0\naW9uLAogICAgICAgICAgICAgICAgICAgIEluc3RhbnRpYXRpb25FeGNlcHRp\nb24gewogICAgICAgICAgICAgICAgcmV0dXJuIGNsYXp6Lm5ld0luc3RhbmNl\nKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgbG9h\nZGVyLmdldFBhcmVudCgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1\ncml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5S\ndW50aW1lUGVybWlzc2lvbiAiZ2V0Q2xhc3NMb2FkZXIiOycKICAgICAqICAg\nCiAgICAgKiBAcmV0dXJuIENsYXNzTG9hZGVyCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBnZXRQYXJlbnRBY3Rp\nb24oCiAgICAgICAgZmluYWwgQ2xhc3NMb2FkZXIgbG9hZGVyKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAgICAg\nICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVy\nbiBsb2FkZXIuZ2V0UGFyZW50KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0\naW9uIG9iamVjdCBmb3IgbG9hZGVyLmdldFJlc291cmNlKCkuCiAgICAgKiAK\nICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Bl\ncm1pc3Npb24gamF2YS5pby5GaWxlUGVybWlzc2lvbiAicmVhZCI7JwogICAg\nICogICAKICAgICAqIEByZXR1cm4gVVJMCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBnZXRSZXNvdXJjZUFjdGlv\nbigKICAgICAgICBmaW5hbCBDbGFzc0xvYWRlciBsb2FkZXIsIGZpbmFsIFN0\ncmluZyByZXNvdXJjZSkgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdl\nZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7\nCiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZGVyLmdldFJlc291cmNlKHJl\nc291cmNlKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9u\nIG9iamVjdCBmb3IgbG9hZGVyLmdldFJlc291cmNlcygpLgogICAgICogCiAg\nICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJt\naXNzaW9uIGphdmEuaW8uRmlsZVBlcm1pc3Npb24gInJlYWQiOycKICAgICAq\nICAgCiAgICAgKiBAcmV0dXJuIEVudW1lcmF0aW9uCiAgICAgKiBAZXhjZXB0\naW9uIElPRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmlu\nYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBnZXRSZXNvdXJjZXNBY3Rp\nb24oCiAgICAgICAgZmluYWwgQ2xhc3NMb2FkZXIgbG9hZGVyLCBmaW5hbCBT\ndHJpbmcgcmVzb3VyY2UpIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uKCkgewogICAg\nICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHRocm93cyBJT0V4Y2VwdGlv\nbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZGVyLmdldFJlc291cmNl\ncyhyZXNvdXJjZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVj\ndCBmb3IgQ2xhc3NMb2FkZXIuZ2V0U3lzdGVtQ2xhc3NMb2FkZXIoKS4KICAg\nICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICog\nICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImdl\ndENsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBDbGFz\nc0xvYWRlcgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZp\nbGVnZWRBY3Rpb24gZ2V0U3lzdGVtQ2xhc3NMb2FkZXJBY3Rpb24oKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAg\nICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgIHJl\ndHVybiBDbGFzc0xvYWRlci5nZXRTeXN0ZW1DbGFzc0xvYWRlcigpOwogICAg\nICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJl\ndHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIGYuZGVsZXRlKCku\nCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAg\nICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVybWlzc2lvbiAiZGVs\nZXRlIjsnCiAgICAgKiAKICAgICAqIEByZXR1cm4gQm9vbGVhbgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24gZGVs\nZXRlQWN0aW9uKGZpbmFsIEZpbGUgZikgewogICAgICAgIHJldHVybiBuZXcg\nUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVj\ndCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZi5kZWxldGUoKSA/\nIEJvb2xlYW4uVFJVRSA6IEJvb2xlYW4uRkFMU0U7CiAgICAgICAgICAgIH0K\nICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJp\ndmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5leGlzdHMoKS4KICAgICAqIAog\nICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVy\nbWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAg\nKiAgIAogICAgICogQHJldHVybiBCb29sZWFuCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBleGlzdHNBY3Rpb24o\nZmluYWwgRmlsZSBmKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2Vk\nQWN0aW9uKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsK\nICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgcmV0\ndXJuIGYuZXhpc3RzKCkgPyBCb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNF\nOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoTnVsbFBvaW50ZXJFeGNlcHRp\nb24gbnBlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4u\nRkFMU0U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAg\nICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdl\nQWN0aW9uIG9iamVjdCBmb3IgZi5nZXRBYnNvbHV0ZUZpbGUoKS4KICAgICAq\nIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAn\ncGVybWlzc2lvbiBqYXZhLnV0aWwuUHJvcGVydHlQZXJtaXNzaW9uICJyZWFk\nIjsnCiAgICAgKiAKICAgICAqIEByZXR1cm4gRmlsZQogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24gZ2V0QWJzb2x1\ndGVGaWxlQWN0aW9uKGZpbmFsIEZpbGUgZikgewogICAgICAgIHJldHVybiBu\nZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9i\namVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZi5nZXRBYnNv\nbHV0ZUZpbGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0\nIGZvciBmLmdldEFic29sdXRlUGF0aCgpLgogICAgICogCiAgICAgKiBSZXF1\naXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGph\ndmEudXRpbC5Qcm9wZXJ0eVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqICAg\nCiAgICAgKiBAcmV0dXJuIFN0cmluZwogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24gZ2V0QWJzb2x1dGVQYXRoQWN0\naW9uKGZpbmFsIEZpbGUgZikgewogICAgICAgIHJldHVybiBuZXcgUHJpdmls\nZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4o\nKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZi5nZXRBYnNvbHV0ZVBhdGgo\nKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uIG9iamVj\ndCBmb3IgZi5nZXRDYW5vbmljYWxQYXRoKCkuCiAgICAgKiAKICAgICAqIFJl\ncXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24g\namF2YS51dGlsLlByb3BlcnR5UGVybWlzc2lvbiAicmVhZCI7JwogICAgICog\nICAKICAgICAqIEByZXR1cm4gU3RyaW5nCiAgICAgKiBAZXhjZXB0aW9uIElP\nRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBnZXRDYW5vbmljYWxQYXRoQWN0aW9u\nKAogICAgICAgIGZpbmFsIEZpbGUgZikgdGhyb3dzIElPRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24o\nKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgdGhyb3dzIElP\nRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJldHVybiBmLmdldENhbm9u\naWNhbFBhdGgoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0\nIGZvciBmLmlzRGlyZWN0b3J5KCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVz\nIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5p\nby5GaWxlUGVybWlzc2lvbiAicmVhZCI7JwogICAgICogCiAgICAgKiBAcmV0\ndXJuIEJvb2xlYW4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQ\ncml2aWxlZ2VkQWN0aW9uIGlzRGlyZWN0b3J5QWN0aW9uKGZpbmFsIEZpbGUg\nZikgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsK\nICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAg\nICAgICByZXR1cm4gZi5pc0RpcmVjdG9yeSgpID8gQm9vbGVhbi5UUlVFIDog\nQm9vbGVhbi5GQUxTRTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9\nCgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2Jq\nZWN0IGZvciBmLmlzRmlsZSgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBz\nZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEuaW8u\nRmlsZVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqIAogICAgICogQHJldHVy\nbiBCb29sZWFuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJp\ndmlsZWdlZEFjdGlvbiBpc0ZpbGVBY3Rpb24oZmluYWwgRmlsZSBmKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAg\nICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgIHJl\ndHVybiBmLmlzRmlsZSgpID8gQm9vbGVhbi5UUlVFIDogQm9vbGVhbi5GQUxT\nRTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBmLmxl\nbmd0aCgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xp\nY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEuaW8uRmlsZVBlcm1pc3Np\nb24gInJlYWQiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJuIExvbmcKICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9u\nIGxlbmd0aEFjdGlvbihmaW5hbCBGaWxlIGYpIHsKICAgICAgICByZXR1cm4g\nbmV3IFByaXZpbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBP\nYmplY3QgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMb25n\nKGYubGVuZ3RoKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmpl\nY3QgZm9yIGYubGlzdEZpbGVzKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVz\nIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5p\nby5GaWxlUGVybWlzc2lvbiAicmVhZCI7JwogICAgICogCiAgICAgKiBAcmV0\ndXJuIEZpbGVbXQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFBy\naXZpbGVnZWRBY3Rpb24gbGlzdEZpbGVzQWN0aW9uKGZpbmFsIEZpbGUgZikg\newogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAg\nICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAgICAg\nICByZXR1cm4gZi5saXN0RmlsZXMoKTsKICAgICAgICAgICAgfQogICAgICAg\nIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VB\nY3Rpb24gb2JqZWN0IGZvciBmLm1rZGlycygpLgogICAgICogCiAgICAgKiBS\nZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9u\nIGphdmEuaW8uRmlsZVBlcm1pc3Npb24gIndyaXRlIjsnCiAgICAgKiAgIAog\nICAgICogQHJldHVybiBCb29sZWFuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0\naWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBta2RpcnNBY3Rpb24oZmluYWwg\nRmlsZSBmKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9u\nKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAg\nICAgICAgICAgIHJldHVybiBmLm1rZGlycygpID8gQm9vbGVhbi5UUlVFIDog\nQm9vbGVhbi5GQUxTRTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9\nCgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2Jq\nZWN0IGZvciBmLnJlbmFtZVRvKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVz\nIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5p\nby5GaWxlUGVybWlzc2lvbiAid3JpdGUiOycKICAgICAqICAgCiAgICAgKiBA\ncmV0dXJuIEJvb2xlYW4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBQcml2aWxlZ2VkQWN0aW9uIHJlbmFtZVRvQWN0aW9uKGZpbmFsIEZpbGUg\nZnJvbSwKICAgICAgICBmaW5hbCBGaWxlIHRvKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAgICAgICBwdWJsaWMg\nT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmcm9tLnJl\nbmFtZVRvKHRvKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xlYW4uRkFMU0U7CiAg\nICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9y\nIG5ldyBGaWxlSW5wdXRTdHJlYW0oKS4KICAgICAqIAogICAgICogUmVxdWly\nZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZh\nLmlvLkZpbGVQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAKICAgICAqIEBy\nZXR1cm4gRmlsZUlucHV0U3RyZWFtCiAgICAgKiBAdGhyb3dzIEZpbGVOb3RG\nb3VuZEV4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gbmV3RmlsZUlucHV0U3RyZWFt\nQWN0aW9uKAogICAgICAgIGZpbmFsIEZpbGUgZikgdGhyb3dzIEZpbGVOb3RG\nb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2Vk\nRXhjZXB0aW9uQWN0aW9uKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0\nIHJ1bigpIHRocm93cyBGaWxlTm90Rm91bmRFeGNlcHRpb24gewogICAgICAg\nICAgICAgICAgcmV0dXJuIG5ldyBGaWxlSW5wdXRTdHJlYW0oZik7CiAgICAg\nICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIG5l\ndyBGaWxlT3V0cHV0U3RyZWFtKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVz\nIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5p\nby5GaWxlUGVybWlzc2lvbiAid3JpdGUiOycKICAgICAqIAogICAgICogQHJl\ndHVybiBGaWxlT3V0cHV0U3RyZWFtCiAgICAgKiBAdGhyb3dzIEZpbGVOb3RG\nb3VuZEV4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gbmV3RmlsZU91dHB1dFN0cmVh\nbUFjdGlvbigKICAgICAgICBmaW5hbCBGaWxlIGYpIHRocm93cyBGaWxlTm90\nRm91bmRFeGNlcHRpb24gewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdl\nZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVj\ndCBydW4oKSB0aHJvd3MgRmlsZU5vdEZvdW5kRXhjZXB0aW9uIHsKICAgICAg\nICAgICAgICAgIHJldHVybiBuZXcgRmlsZU91dHB1dFN0cmVhbShmKTsKICAg\nICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uIG9iamVjdCBmb3Ig\nbmV3IEZpbGVPdXRwdXRTdHJlYW0oKS4KICAgICAqIAogICAgICogUmVxdWly\nZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZh\nLmlvLkZpbGVQZXJtaXNzaW9uICJ3cml0ZSI7JwogICAgICogCiAgICAgKiBA\ncmV0dXJuIEZpbGVPdXRwdXRTdHJlYW0KICAgICAqIEB0aHJvd3MgRmlsZU5v\ndEZvdW5kRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmlu\nYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBuZXdGaWxlT3V0cHV0U3Ry\nZWFtQWN0aW9uKAogICAgICAgIGZpbmFsIFN0cmluZyBmLCBmaW5hbCBib29s\nZWFuIGFwcGVuZCkgdGhyb3dzIEZpbGVOb3RGb3VuZEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uKCkg\newogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHRocm93cyBGaWxl\nTm90Rm91bmRFeGNlcHRpb24gewogICAgICAgICAgICAgICAgcmV0dXJuIG5l\ndyBGaWxlT3V0cHV0U3RyZWFtKGYsIGFwcGVuZCk7CiAgICAgICAgICAgIH0K\nICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIEluZXRBZHJlc3Mu\nZ2V0QnlOYW1lKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5uZXQuU29ja2V0\nUGVybWlzc2lvbiAiY29ubmVjdCI7JwogICAgICogCiAgICAgKiBAcmV0dXJu\nIEluZXRBZGRyZXNzCiAgICAgKiBAdGhyb3dzIFVua25vd25Ib3N0RXhjZXB0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdl\nZEV4Y2VwdGlvbkFjdGlvbiBnZXRCeU5hbWVBY3Rpb24oCiAgICAgICAgZmlu\nYWwgU3RyaW5nIGhvc3RuYW1lKSB0aHJvd3MgVW5rbm93bkhvc3RFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFj\ndGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJv\nd3MgVW5rbm93bkhvc3RFeGNlcHRpb24gewogICAgICAgICAgICAgICAgcmV0\ndXJuIEluZXRBZGRyZXNzLmdldEJ5TmFtZShob3N0bmFtZSk7CiAgICAgICAg\nICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIG5ldyBT\nb2NrZXQoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9s\naWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLm5ldC5Tb2NrZXRQZXJt\naXNzaW9uICJjb25uZWN0IjsnCiAgICAgKiAKICAgICAqIEByZXR1cm4gU29j\na2V0CiAgICAgKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBu\nZXdTb2NrZXRBY3Rpb24oCiAgICAgICAgZmluYWwgSW5ldEFkZHJlc3MgaG9z\ndCwgZmluYWwgaW50IHBvcnQpIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uKCkgewog\nICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHRocm93cyBJT0V4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNvY2tldChob3N0\nLCBwb3J0KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9u\nIG9iamVjdCBmb3IgbmV3IFNlcnZlclNvY2tldCgpLgogICAgICogCiAgICAg\nKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNz\naW9uIGphdmEubmV0LlNvY2tldFBlcm1pc3Npb24gImxpc3RlbiI7JwogICAg\nICogCiAgICAgKiBAcmV0dXJuIFNlcnZlclNvY2tldAogICAgICogQHRocm93\ncyBJT0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gbmV3U2VydmVyU29ja2V0QWN0\naW9uKAogICAgICAgIGZpbmFsIGludCBwb3J0KSB0aHJvd3MgSU9FeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFj\ndGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJv\nd3MgSU9FeGNlcHRpb24gewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBT\nZXJ2ZXJTb2NrZXQocG9ydCk7CiAgICAgICAgICAgIH0KICAgICAgICB9Owog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlZEV4Y2Vw\ndGlvbkFjdGlvbiBvYmplY3QgZm9yIFNlcnZlclNvY2tldC5hY2NlcHQoKS4K\nICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAg\nICogICAncGVybWlzc2lvbiBqYXZhLm5ldC5Tb2NrZXRQZXJtaXNzaW9uICJs\naXN0ZW4iOycKICAgICAqIAogICAgICogQHJldHVybiBTb2NrZXQKICAgICAq\nIEB0aHJvd3MgSU9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBmaW5hbCBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uIGFjY2VwdEFjdGlv\nbigKICAgICAgICBmaW5hbCBTZXJ2ZXJTb2NrZXQgc3MpIHRocm93cyBJT0V4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0\naW9uQWN0aW9uKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigp\nIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4g\nc3MuYWNjZXB0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVj\ndCBmb3IgU3lzdGVtLmdldFByb3BlcnRpZXMoKS4KICAgICAqIAogICAgICog\nUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lv\nbiBqYXZhLnV0aWwuUHJvcGVydHlQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAg\nKiAgIAogICAgICogQHJldHVybiBQcm9wZXJ0aWVzCiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBnZXRQcm9wZXJ0\naWVzQWN0aW9uKCkgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFj\ndGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAg\nICAgICAgICAgICAgICByZXR1cm4gU3lzdGVtLmdldFByb3BlcnRpZXMoKTsK\nICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBTeXN0ZW0u\nZ2V0UHJvcGVydHkoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJp\ndHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLnV0aWwuUHJv\ncGVydHlQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAgIAogICAgICogQHJl\ndHVybiBTdHJpbmcKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQ\ncml2aWxlZ2VkQWN0aW9uIGdldFByb3BlcnR5QWN0aW9uKGZpbmFsIFN0cmlu\nZyBuYW1lKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9u\nKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAg\nICAgICAgICAgIHJldHVybiBTeXN0ZW0uZ2V0UHJvcGVydHkobmFtZSk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgVGhyZWFkLmN1\ncnJlbnRUaHJlYWQKICAgICAqICAgLmdldENvbnRleHRDbGFzc0xvYWRlcigp\nLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAg\nICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lv\nbiAiZ2V0Q2xhc3NMb2FkZXIiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJu\nIENsYXNzTG9hZGVyCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwg\nUHJpdmlsZWdlZEFjdGlvbiBnZXRDb250ZXh0Q2xhc3NMb2FkZXJBY3Rpb24o\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewog\nICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAg\nICAgIHJldHVybiBUaHJlYWQuY3VycmVudFRocmVhZCgpLmdldENvbnRleHRD\nbGFzc0xvYWRlcigpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25B\nY3Rpb24gb2JqZWN0IGZvciB1cmwub3BlblN0cmVhbSgpLgogICAgICogCiAg\nICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJt\naXNzaW9uIGphdmEuaW8uRmlsZVBlcm1pc3Npb24gInJlYWQiOycKICAgICAq\nIAogICAgICogQHJldHVybiBJbnB1dFN0cmVhbQogICAgICogQHRocm93cyBJ\nT0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFBy\naXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gb3BlblN0cmVhbUFjdGlvbigKICAg\nICAgICBmaW5hbCBVUkwgdXJsKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsK\nICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgSU9FeGNl\ncHRpb24gewogICAgICAgICAgICAgICAgcmV0dXJuIHVybC5vcGVuU3RyZWFt\nKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmpl\nY3QgY29uLmdldENvbnRlbnQoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMg\nc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlv\nLkZpbGVQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAKICAgICAqIEByZXR1\ncm4gT2JqZWN0CiAgICAgKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFj\ndGlvbiBnZXRDb250ZW50QWN0aW9uKAogICAgICAgIGZpbmFsIFVSTENvbm5l\nY3Rpb24gY29uKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAgICAgICAg\nICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgSU9FeGNlcHRpb24gewog\nICAgICAgICAgICAgICAgcmV0dXJuIGNvbi5nZXRDb250ZW50KCk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIG5l\ndyBaaXBGaWxlKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVy\nbWlzc2lvbiAicmVhZCI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIFppcEZp\nbGUKICAgICAqIEB0aHJvd3MgSU9FeGNlcHRpb24KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uIG5l\nd1ppcEZpbGVBY3Rpb24oZmluYWwgRmlsZSBmKQogICAgICAgIHRocm93cyBJ\nT0V4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhj\nZXB0aW9uQWN0aW9uKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1\nbigpIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1\ncm4gbmV3IFppcEZpbGUoZik7CiAgICAgICAgICAgIH0KICAgICAgICB9Owog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9u\nIG9iamVjdCBmb3IgbmV3IHNlcnAuYnl0ZWNvZGUuQ29kZSgpLgogICAgICog\nCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdw\nZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiZ2V0Q2xh\nc3NMb2FkZXIiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJuIHNlcnAuYnl0\nZWNvZGUuQ29kZQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFBy\naXZpbGVnZWRBY3Rpb24gbmV3Q29kZUFjdGlvbigpIHsKICAgICAgICByZXR1\ncm4gbmV3IFByaXZpbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1Ymxp\nYyBPYmplY3QgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBD\nb2RlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3Ig\nbmV3IFRlbXBvcmFyeUNsYXNzTG9hZGVyKCkuCiAgICAgKiAKICAgICAqIFJl\ncXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24g\namF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNzaW9uICJjcmVhdGVDbGFzc0xvYWRl\nciI7JwogICAgICogICAKICAgICAqIEByZXR1cm4gVGVtcG9yYXJ5Q2xhc3NM\nb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxl\nZ2VkQWN0aW9uIG5ld1RlbXBvcmFyeUNsYXNzTG9hZGVyQWN0aW9uKAogICAg\nICAgIGZpbmFsIENsYXNzTG9hZGVyIHBhcmVudCkgewogICAgICAgIHJldHVy\nbiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGlj\nIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRl\nbXBvcmFyeUNsYXNzTG9hZGVyKHBhcmVudCk7CiAgICAgICAgICAgIH0KICAg\nICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmls\nZWdlQWN0aW9uIG9iamVjdCBmb3IgbmV3IE11bHRpQ2xhc3NMb2FkZXIoKS4K\nICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAg\nICogICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24g\nImNyZWF0ZUNsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVy\nbiBNdWx0aUNsYXNzTG9hZGVyCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBuZXdNdWx0aUNsYXNzTG9hZGVyQWN0\naW9uKCkgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigp\nIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAg\nICAgICAgICByZXR1cm4gbmV3IE11bHRpQ2xhc3NMb2FkZXIoKTsKICAgICAg\nICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1\ncm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBuZXcgQkNDbGFzc0xv\nYWRlcigpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xp\nY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVy\nbWlzc2lvbiAiY3JlYXRlQ2xhc3NMb2FkZXIiOycKICAgICAqICAgCiAgICAg\nKiBAcmV0dXJuIEJDQ2xhc3NMb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uIG5ld0JDQ2xhc3NMb2FkZXJB\nY3Rpb24oCiAgICAgICAgZmluYWwgUHJvamVjdCBwcm9qZWN0LCBmaW5hbCBD\nbGFzc0xvYWRlciBwYXJlbnQpIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZp\nbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVu\nKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCQ0NsYXNzTG9hZGVy\nKHByb2plY3QsIHBhcmVudCk7CiAgICAgICAgICAgIH0KICAgICAgICB9Owog\nICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlv\nbiBuZXdCQ0NsYXNzTG9hZGVyQWN0aW9uKAogICAgICAgIGZpbmFsIFByb2pl\nY3QgcHJvamVjdCkgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFj\ndGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAg\nICAgICAgICAgICAgICByZXR1cm4gbmV3IEJDQ2xhc3NMb2FkZXIocHJvamVj\ndCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAgCiAgICAv\nKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24g\nb2JqZWN0IGZvciBCQ0NsYXNzLndyaXRlKCkuCiAgICAgKiAKICAgICAqIFJl\ncXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24g\namF2YS5pby5GaWxlUGVybWlzc2lvbiAid3JpdGUiOycKICAgICAqIAogICAg\nICogQHJldHVybiBGaWxlCiAgICAgKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2Vw\ndGlvbkFjdGlvbiBiQ0NsYXNzV3JpdGUoCiAgICAgICAgZmluYWwgQkNDbGFz\ncyBiYywgZmluYWwgRmlsZSBmKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsK\nICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgSU9FeGNl\ncHRpb24gewogICAgICAgICAgICAgICAgYmMud3JpdGUoZik7CiAgICAgICAg\nICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH07\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rp\nb24gb2JqZWN0IGZvciBCQ0NsYXNzLmdldEZpZWxkcygpLgogICAgICogCiAg\nICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJt\naXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiZ2V0Q2xhc3NM\nb2FkZXIiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJuIEJDRmllbGQKICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9u\nIGdldEJDQ2xhc3NGaWVsZHNBY3Rpb24oCiAgICAgICAgZmluYWwgQkNDbGFz\ncyBiY0NsYXNzLCBmaW5hbCBTdHJpbmcgZmllbGROYW1lKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAgICAgICBw\ndWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBi\nY0NsYXNzLmdldEZpZWxkcyhmaWVsZE5hbWUpOwogICAgICAgICAgICB9CiAg\nICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZp\nbGVnZUFjdGlvbiBvYmplY3QgZm9yIEZpZWxkSW5zdHJ1Y3Rpb24uZ2V0Rmll\nbGQoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5\nOgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1p\nc3Npb24gImdldENsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJl\ndHVybiBCQ0ZpZWxkCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwg\nUHJpdmlsZWdlZEFjdGlvbiBnZXRGaWVsZEluc3RydWN0aW9uRmllbGRBY3Rp\nb24oCiAgICAgICAgZmluYWwgRmllbGRJbnN0cnVjdGlvbiBpbnN0cnVjdGlv\nbikgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsK\nICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAg\nICAgICByZXR1cm4gaW5zdHJ1Y3Rpb24uZ2V0RmllbGQoKTsKICAgICAgICAg\nICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4g\nYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBQcm9qZWN0LmxvYWRDbGFz\ncygpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6\nCiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlz\nc2lvbiAiY3JlYXRlQ2xhc3NMb2FkZXIiOycKICAgICAqICAgCiAgICAgKiBA\ncmV0dXJuIEJDQ2xhc3MKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBQcml2aWxlZ2VkQWN0aW9uIGxvYWRQcm9qZWN0Q2xhc3NBY3Rpb24oCiAg\nICAgICAgZmluYWwgUHJvamVjdCBwcm9qZWN0LCBmaW5hbCBDbGFzcyBjbGF6\neikgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsK\nICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAg\nICAgICByZXR1cm4gcHJvamVjdC5sb2FkQ2xhc3MoY2xhenopOwogICAgICAg\nICAgICB9CiAgICAgICAgfTsKICAgIH0KfQo=\n","encoding":"base64"}

