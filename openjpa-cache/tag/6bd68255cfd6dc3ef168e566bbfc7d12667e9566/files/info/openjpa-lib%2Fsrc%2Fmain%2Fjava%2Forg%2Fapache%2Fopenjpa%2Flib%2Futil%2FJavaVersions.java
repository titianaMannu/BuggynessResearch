{"sha":"40999a7595029b95e8117e2175adedbc882d2e91","node_id":"MDQ6QmxvYjIwNjM2NDo0MDk5OWE3NTk1MDI5Yjk1ZTgxMTdlMjE3NWFkZWRiYzg4MmQyZTkx","size":8738,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/40999a7595029b95e8117e2175adedbc882d2e91","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5sYW5nLnJlZmxlY3QuRmllbGQ7CmltcG9ydCBqYXZhLmxhbmcucmVm\nbGVjdC5NZXRob2Q7CmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRy\nb2xsZXI7CgovKioKICogVXRpbGl0aWVzIGZvciBkZWFsaW5nIHdpdGggZGlm\nZmVyZW50IEphdmEgc3BlYyB2ZXJzaW9ucy4KICoKICogQGF1dGhvciBBYmUg\nV2hpdGUKICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIEphdmFWZXJz\naW9ucyB7CgogICAgLyoqCiAgICAgKiBKYXZhIHZlcnNpb247IG9uZSBvZiAy\nLCAzLCA0LCA1LCA2LCBvciA3LgogICAgICovCiAgICBwdWJsaWMgc3RhdGlj\nIGZpbmFsIGludCBWRVJTSU9OOwoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFs\nIENsYXNzW10gRU1QVFlfQ0xBU1NFUyA9IG5ldyBDbGFzc1swXTsKCiAgICBw\ncml2YXRlIHN0YXRpYyBDbGFzcyBQQVJBTV9UWVBFID0gbnVsbDsKICAgIHBy\naXZhdGUgc3RhdGljIENsYXNzIEVOVU1fVFlQRSA9IG51bGw7CiAgICBwcml2\nYXRlIHN0YXRpYyBDbGFzcyBBTk5PX1RZUEUgPSBudWxsOwogICAgcHJpdmF0\nZSBzdGF0aWMgTWV0aG9kIEdFVF9TVEFDSyA9IG51bGw7CiAgICBwcml2YXRl\nIHN0YXRpYyBNZXRob2QgU0VUX1NUQUNLID0gbnVsbDsKICAgIHByaXZhdGUg\nc3RhdGljIE1ldGhvZCBHRVRfQ0FVU0UgPSBudWxsOwogICAgcHJpdmF0ZSBz\ndGF0aWMgTWV0aG9kIElOSVRfQ0FVU0UgPSBudWxsOwoKICAgIHN0YXRpYyB7\nCiAgICAgICAgU3RyaW5nIHNwZWNWZXJzaW9uID0gKFN0cmluZykgQWNjZXNz\nQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAgICAgIEoyRG9Qcml2\nSGVscGVyLmdldFByb3BlcnR5QWN0aW9uKCJqYXZhLnNwZWNpZmljYXRpb24u\ndmVyc2lvbiIpKTsgCiAgICAgICAgaWYgKCIxLjIiLmVxdWFscyhzcGVjVmVy\nc2lvbikpCiAgICAgICAgICAgIFZFUlNJT04gPSAyOwogICAgICAgIGVsc2Ug\naWYgKCIxLjMiLmVxdWFscyhzcGVjVmVyc2lvbikpCiAgICAgICAgICAgIFZF\nUlNJT04gPSAzOwogICAgICAgIGVsc2UgaWYgKCIxLjQiLmVxdWFscyhzcGVj\nVmVyc2lvbikpCiAgICAgICAgICAgIFZFUlNJT04gPSA0OwogICAgICAgIGVs\nc2UgaWYgKCIxLjUiLmVxdWFscyhzcGVjVmVyc2lvbikpCiAgICAgICAgICAg\nIFZFUlNJT04gPSA1OwogICAgICAgIGVsc2UgaWYgKCIxLjYiLmVxdWFscyhz\ncGVjVmVyc2lvbikpCiAgICAgICAgICAgIFZFUlNJT04gPSA2OwogICAgICAg\nIGVsc2UKICAgICAgICAgICAgVkVSU0lPTiA9IDc7IC8vIG1heWJlIHNvbWVk\nYXkuLi4KCiAgICAgICAgaWYgKFZFUlNJT04gPj0gNSkgewogICAgICAgICAg\nICB0cnkgewogICAgICAgICAgICAgICAgUEFSQU1fVFlQRSA9IENsYXNzLmZv\nck5hbWUKICAgICAgICAgICAgICAgICAgICAoImphdmEubGFuZy5yZWZsZWN0\nLlBhcmFtZXRlcml6ZWRUeXBlIik7CiAgICAgICAgICAgICAgICBFTlVNX1RZ\nUEUgPSBDbGFzcy5mb3JOYW1lKCJqYXZhLmxhbmcuRW51bSIpOwogICAgICAg\nICAgICAgICAgQU5OT19UWVBFID0gQ2xhc3MuZm9yTmFtZSgiamF2YS5sYW5n\nLmFubm90YXRpb24uQW5ub3RhdGlvbiIpOwogICAgICAgICAgICB9IGNhdGNo\nIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB9CiAgICAgICAgfQoKICAg\nICAgICBpZiAoVkVSU0lPTiA+PSA0KSB7CiAgICAgICAgICAgIHRyeSB7CiAg\nICAgICAgICAgICAgICBDbGFzcyBzdGFjayA9IENsYXNzLmZvck5hbWUoIltM\namF2YS5sYW5nLlN0YWNrVHJhY2VFbGVtZW50OyIpOwogICAgICAgICAgICAg\nICAgR0VUX1NUQUNLID0gVGhyb3dhYmxlLmNsYXNzLmdldE1ldGhvZCgiZ2V0\nU3RhY2tUcmFjZSIsCiAgICAgICAgICAgICAgICAgICAgKENsYXNzW10pIG51\nbGwpOwogICAgICAgICAgICAgICAgU0VUX1NUQUNLID0gVGhyb3dhYmxlLmNs\nYXNzLmdldE1ldGhvZCgic2V0U3RhY2tUcmFjZSIsCiAgICAgICAgICAgICAg\nICAgICAgbmV3IENsYXNzW117IHN0YWNrIH0pOwogICAgICAgICAgICAgICAg\nR0VUX0NBVVNFID0gVGhyb3dhYmxlLmNsYXNzLmdldE1ldGhvZCgiZ2V0Q2F1\nc2UiLAogICAgICAgICAgICAgICAgICAgIChDbGFzc1tdKSBudWxsKTsKICAg\nICAgICAgICAgICAgIElOSVRfQ0FVU0UgPSBUaHJvd2FibGUuY2xhc3MuZ2V0\nTWV0aG9kKCJpbml0Q2F1c2UiLAogICAgICAgICAgICAgICAgICAgIG5ldyBD\nbGFzc1tdeyBUaHJvd2FibGUuY2xhc3MgfSk7CiAgICAgICAgICAgIH0gY2F0\nY2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgdmVyc2lvbi1zcGVjaWZp\nYyBpbnN0YW5jZSBvZiB0aGUgc3BlY2lmaWVkIGNsYXNzCiAgICAgKgogICAg\nICogQHBhcmFtIGJhc2UgdGhlIGJhc2UgY2xhc3MgdG8gY2hlY2sKICAgICAq\nIEByZXR1cm4gdGhlIEpESy12ZXJzaW9uLXNwZWNpZmljIHZlcnNpb24gb2Yg\ndGhlIGNsYXNzCiAgICAgKiBAc2VlICNnZXRWZXJzaW9uU3BlY2lmaWNDbGFz\ncyhTdHJpbmcpCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgQ2xhc3MgZ2V0\nVmVyc2lvblNwZWNpZmljQ2xhc3MoQ2xhc3MgYmFzZSkgewogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHJldHVybiBnZXRWZXJzaW9uU3BlY2lmaWNDbGFz\ncyhiYXNlLmdldE5hbWUoKSk7CiAgICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RG\nb3VuZEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJldHVybiBiYXNlOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIE9idGFpbnMgYSBzdWJj\nbGFzcyBvZiB0aGUgc3BlY2lmaWMgYmFzZSBjbGFzcyB0aGF0IGlzCiAgICAg\nKiBzcGVjaWZpYyB0byB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIEphdmEgaW4g\ndXNlLiBUaGUKICAgICAqIGhldXJpc3RpYyBmb3IgdGhlIGNsYXNzIG5hbWUg\ndG8gbG9hZCB3aWxsIGJlIHRoYXQgT3BlbkpQQQogICAgICogZmlyc3QgY2hl\nY2tzIGZvciB0aGUgbmFtZSBvZiB0aGUgY2xhc3Mgd2l0aCB0aGUgY3VycmVu\ndAogICAgICogc2V0dGluZyBvZiB0aGUge0BsaW5rICNWRVJTSU9OfSBmaWVs\nZCwgdGhlbiBlYWNoIG51bWJlciBpbgogICAgICogZGVjcmVhc2luZyBvcmRl\nciwgdW50aWwgZW5kaW5nIGluIHRoZSB1bnF1YWxpZmllZCBuYW1lLgogICAg\nICogRm9yIGV4YW1wbGUsIGlmIHdlIGFyZSB1c2luZyBKREsgMS41LjEsIGFu\nZCB3ZSB3YW50IHRvIGxvYWQKICAgICAqICJvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLlNvbWVDbGFzcyIsIHdlIHdpbGwgdHJ5IHRvIGxvYWQgdGhlIGZvbGxv\nd2luZwogICAgICogY2xhc3NlcyBpbiBvcmRlciBhbmQgcmV0dXJuIHRoZSBm\naXJzdCBvbmUgdGhhdCBpcyBzdWNjZXNzZnVsbHkKICAgICAqIGZvdW5kIGFu\nZCBsb2FkZWQ6CiAgICAgKiA8b2w+CiAgICAgKiA8bGk+b3JnLmFwYWNoZS5v\ncGVuanBhLmxpYi5Tb21lQ2xhc3M1PC9saT4KICAgICAqIDxsaT5vcmcuYXBh\nY2hlLm9wZW5qcGEubGliLlNvbWVDbGFzczQ8L2xpPgogICAgICogPGxpPm9y\nZy5hcGFjaGUub3BlbmpwYS5saWIuU29tZUNsYXNzMzwvbGk+CiAgICAgKiA8\nbGk+b3JnLmFwYWNoZS5vcGVuanBhLmxpYi5Tb21lQ2xhc3MyPC9saT4KICAg\nICAqIDxsaT5vcmcuYXBhY2hlLm9wZW5qcGEubGliLlNvbWVDbGFzczE8L2xp\nPgogICAgICogPGxpPm9yZy5hcGFjaGUub3BlbmpwYS5saWIuU29tZUNsYXNz\nPC9saT4KICAgICAqIDwvb2w+CiAgICAgKgogICAgICogQHBhcmFtIGJhc2Ug\ndGhlIGJhc2UgbmFtZSBvZiB0aGUgY2xhc3MgdG8gbG9hZAogICAgICogQHJl\ndHVybiB0aGUgc3ViY2xhc3MgYXBwcm9wcmlhdGUgZm9yIHRoZSBjdXJyZW50\nIEphdmEgdmVyc2lvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIENsYXNz\nIGdldFZlcnNpb25TcGVjaWZpY0NsYXNzKFN0cmluZyBiYXNlKQogICAgICAg\nIHRocm93cyBDbGFzc05vdEZvdW5kRXhjZXB0aW9uIHsKICAgICAgICBmb3Ig\nKGludCBpID0gVkVSU0lPTjsgaSA+PSAxOyBpLS0pIHsKICAgICAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBDbGFzcy5mb3JOYW1lKGJh\nc2UgKyBpKTsKICAgICAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIGUpIHsK\nICAgICAgICAgICAgICAgIC8vIHRocm93YWJsZXMgbWlnaHQgb2NjdXIgd2l0\naCBieXRlY29kZSB0aGF0IHdlCiAgICAgICAgICAgICAgICAvLyBjYW5ub3Qg\ndW5kZXJzdGFuZAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiBDbGFzcy5mb3JOYW1lKGJhc2UpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIHR5cGUgaXMgYW4gYW5ub3Rh\ndGlvbi4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBib29sZWFuIGlzQW5u\nb3RhdGlvbihDbGFzcyBjbHMpIHsKICAgICAgICByZXR1cm4gQU5OT19UWVBF\nICE9IG51bGwgJiYgQU5OT19UWVBFLmlzQXNzaWduYWJsZUZyb20oY2xzKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSBnaXZl\nbiB0eXBlIGlzIGFuIGVudW1lcmF0aW9uLgogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIGJvb2xlYW4gaXNFbnVtZXJhdGlvbihDbGFzcyBjbHMpIHsKICAg\nICAgICByZXR1cm4gRU5VTV9UWVBFICE9IG51bGwgJiYgRU5VTV9UWVBFLmlz\nQXNzaWduYWJsZUZyb20oY2xzKTsKICAgIH0KCiAgICAvKioKICAgICAqIENv\nbGxlY3RzIHRoZSBwYXJhbWV0ZXJpemVkIHR5cGUgZGVjbGFyYXRpb25zIGZv\nciBhIGdpdmVuIGZpZWxkLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIENs\nYXNzW10gZ2V0UGFyYW1ldGVyaXplZFR5cGVzKEZpZWxkIGYpIHsKICAgICAg\nICBpZiAoZiA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAg\nICAgICBpZiAoVkVSU0lPTiA8IDUpCiAgICAgICAgICAgIHJldHVybiBFTVBU\nWV9DTEFTU0VTOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBPYmplY3Qg\ndHlwZSA9IEZpZWxkLmNsYXNzLmdldE1ldGhvZCgiZ2V0R2VuZXJpY1R5cGUi\nLAogICAgICAgICAgICAgICAgKENsYXNzW10pIG51bGwpLmludm9rZShmLCAo\nT2JqZWN0W10pIG51bGwpOwogICAgICAgICAgICByZXR1cm4gY29sbGVjdFBh\ncmFtZXRlcml6ZWRUeXBlcyh0eXBlKTsKICAgICAgICB9IGNhdGNoIChFeGNl\ncHRpb24gZSkgewogICAgICAgICAgICByZXR1cm4gRU1QVFlfQ0xBU1NFUzsK\nICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDb2xsZWN0cyB0aGUg\ncGFyYW1ldGVyaXplZCByZXR1cm4gdHlwZSBkZWNsYXJhdGlvbnMgZm9yIGEg\nZ2l2ZW4gbWV0aG9kLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIENsYXNz\nW10gZ2V0UGFyYW1ldGVyaXplZFR5cGVzKE1ldGhvZCBtZXRoKSB7CiAgICAg\nICAgaWYgKG1ldGggPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG51bGw7\nCiAgICAgICAgaWYgKFZFUlNJT04gPCA1KQogICAgICAgICAgICByZXR1cm4g\nRU1QVFlfQ0xBU1NFUzsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgT2Jq\nZWN0IHR5cGUgPSBNZXRob2QuY2xhc3MuZ2V0TWV0aG9kKCJnZXRHZW5lcmlj\nUmV0dXJuVHlwZSIsCiAgICAgICAgICAgICAgICAoQ2xhc3NbXSkgbnVsbCku\naW52b2tlKG1ldGgsIChPYmplY3RbXSkgbnVsbCk7CiAgICAgICAgICAgIHJl\ndHVybiBjb2xsZWN0UGFyYW1ldGVyaXplZFR5cGVzKHR5cGUpOwogICAgICAg\nIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJldHVybiBF\nTVBUWV9DTEFTU0VTOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiBhbGwgcGFyYW1ldGVyaXplZCBjbGFzc2VzIGZvciB0aGUgZ2l2\nZW4gdHlwZS4KICAgICAqLwogICAgcHJpdmF0ZSBzdGF0aWMgQ2xhc3NbXSBj\nb2xsZWN0UGFyYW1ldGVyaXplZFR5cGVzKE9iamVjdCB0eXBlKQogICAgICAg\nIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmIChQQVJBTV9UWVBFID09\nIG51bGwgfHwgIVBBUkFNX1RZUEUuaXNJbnN0YW5jZSh0eXBlKSkKICAgICAg\nICAgICAgcmV0dXJuIEVNUFRZX0NMQVNTRVM7CgogICAgICAgIE9iamVjdFtd\nIGFyZ3MgPSAoT2JqZWN0W10pIFBBUkFNX1RZUEUuZ2V0TWV0aG9kCiAgICAg\nICAgICAgICgiZ2V0QWN0dWFsVHlwZUFyZ3VtZW50cyIsIChDbGFzc1tdKSBu\ndWxsKS5pbnZva2UodHlwZSwKICAgICAgICAgICAgKE9iamVjdFtdKSBudWxs\nKTsKICAgICAgICBpZiAoYXJncy5sZW5ndGggPT0gMCkKICAgICAgICAgICAg\ncmV0dXJuIEVNUFRZX0NMQVNTRVM7CgogICAgICAgIENsYXNzW10gY2xzcyA9\nIG5ldyBDbGFzc1thcmdzLmxlbmd0aF07CiAgICAgICAgZm9yIChpbnQgaSA9\nIDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICgh\nKGFyZ3NbaV0gaW5zdGFuY2VvZiBDbGFzcykpCiAgICAgICAgICAgICAgICBy\nZXR1cm4gRU1QVFlfQ0xBU1NFUzsKICAgICAgICAgICAgY2xzc1tpXSA9IChD\nbGFzcykgYXJnc1tpXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNsc3M7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBUcmFuc2ZlciB0aGUgc3RhY2sgZnJv\nbSBvbmUgdGhyb3dhYmxlIHRvIGFub3RoZXIsIG9yIHJldHVybgogICAgICog\nZmFsc2UgaWYgaXQgY2Fubm90IGJlIGRvbmUsIHBvc3NpYmx5IGR1ZSB0byBh\nbiB1bnN1cHBvcnRlZCBKYXZhIHZlcnNpb24uCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgYm9vbGVhbiB0cmFuc2ZlclN0YWNrVHJhY2UoVGhyb3dhYmxl\nIGZyb20sIFRocm93YWJsZSB0bykgewogICAgICAgIGlmIChHRVRfU1RBQ0sg\nPT0gbnVsbCB8fCBTRVRfU1RBQ0sgPT0gbnVsbCB8fCBmcm9tID09IG51bGwK\nICAgICAgICAgICAgfHwgdG8gPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJu\nIGZhbHNlOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBPYmplY3Qgc3Rh\nY2sgPSBHRVRfU1RBQ0suaW52b2tlKGZyb20sIChPYmplY3RbXSkgbnVsbCk7\nCiAgICAgICAgICAgIFNFVF9TVEFDSy5pbnZva2UodG8sIG5ldyBPYmplY3Rb\nXXsgc3RhY2sgfSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAg\nIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4g\ndGhlIGNhdXNlIG9mIHRoZSBnaXZlbiB0aHJvd2FibGUuCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgVGhyb3dhYmxlIGdldENhdXNlKFRocm93YWJsZSBl\neCkgewogICAgICAgIGlmIChHRVRfQ0FVU0UgPT0gbnVsbCB8fCBleCA9PSBu\ndWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgcmV0dXJuIChUaHJvd2FibGUpIEdFVF9DQVVTRS5pbnZv\na2UoZXgsIChPYmplY3RbXSkgbnVsbCk7CiAgICAgICAgfSBjYXRjaCAoVGhy\nb3dhYmxlIHQpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAg\nfQogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBjYXVzZSBvZiB0aGUg\nZ2l2ZW4gdGhyb3dhYmxlLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIFRo\ncm93YWJsZSBpbml0Q2F1c2UoVGhyb3dhYmxlIGV4LCBUaHJvd2FibGUgY2F1\nc2UpIHsKICAgICAgICBpZiAoSU5JVF9DQVVTRSA9PSBudWxsIHx8IGV4ID09\nIG51bGwgfHwgY2F1c2UgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIGV4\nOwoKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gKFRocm93YWJs\nZSkgSU5JVF9DQVVTRS5pbnZva2UoZXgsIG5ldyBPYmplY3RbXXsgY2F1c2Ug\nfSk7CiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAg\nICAgcmV0dXJuIGV4OwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3Rh\ndGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgU3lzdGVt\nLm91dC5wcmludGxuKCJKYXZhIHZlcnNpb24gaXM6ICIgKyBWRVJTSU9OKTsK\nICAgIH0KfQo=\n","encoding":"base64"}

