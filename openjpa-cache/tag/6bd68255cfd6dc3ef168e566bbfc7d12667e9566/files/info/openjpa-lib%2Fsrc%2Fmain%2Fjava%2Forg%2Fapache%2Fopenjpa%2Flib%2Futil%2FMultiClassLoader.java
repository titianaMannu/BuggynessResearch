{"sha":"e78e865ab3e0e37238143023292e520bc4e7a5b0","node_id":"MDQ6QmxvYjIwNjM2NDplNzhlODY1YWIzZTBlMzcyMzgxNDMwMjMyOTJlNTIwYmM0ZTdhNWIw","size":8772,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e78e865ab3e0e37238143023292e520bc4e7a5b0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5pby5JT0V4Y2VwdGlvbjsKaW1wb3J0IGphdmEubmV0LlVSTDsKaW1w\nb3J0IGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGph\ndmEuc2VjdXJpdHkuUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbjsKaW1wb3J0\nIGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuRW51bWVy\nYXRpb247CmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7CmltcG9ydCBqYXZh\nLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5WZWN0b3I7CgovKioKICog\nQ2xhc3MgbG9hZGVyIHR5cGUgdGhhdCBjYW4gYmUgY29uZmlndXJlZCB0byBk\nZWxlZ2F0ZSB0byBtdWx0aXBsZQogKiBpbnRlcm5hbCBjbGFzcyBsb2FkZXJz\nLgogKiBUaGUge0BsaW5rICNUSFJFQURfTE9BREVSfSBjb25zdGFudCBpcyBh\nIG1hcmtlciB0aGF0IHdpbGwgYmUgcmVwbGFjZWQKICogd2l0aCB0aGUgY29u\ndGV4dCBsb2FkZXIgb2YgdGhlIGN1cnJlbnQgdGhyZWFkLgogKgogKiBAYXV0\naG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNsYXNzIE11bHRpQ2xhc3NMb2Fk\nZXIgZXh0ZW5kcyBDbGFzc0xvYWRlciB7CgogICAgLyoqCiAgICAgKiBNYXJr\nZXIgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIGNvbnRleHQgbG9h\nZGVyIG9mIHRoZSBjdXJyZW50CiAgICAgKiB0aHJlYWQgd2hlbmV2ZXIgaXQg\naXMgZGlzY292ZXJlZCBpbiB0aGUgY2xhc3MgbG9hZGVyIGxpc3QuCiAgICAg\nKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgQ2xhc3NMb2FkZXIgVEhSRUFE\nX0xPQURFUiA9IG51bGw7CgogICAgLyoqCiAgICAgKiBUaGUgc3RhbmRhcmQg\nc3lzdGVtIGNsYXNzIGxvYWRlci4KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBmaW5hbCBDbGFzc0xvYWRlciBTWVNURU1fTE9BREVSID0KICAgICAgICAo\nQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAog\nICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5nZXRTeXN0ZW1DbGFzc0xvYWRl\nckFjdGlvbigpKTsKCiAgICBwcml2YXRlIExpc3QgX2xvYWRlcnMgPSBuZXcg\nQXJyYXlMaXN0KDUpOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IGlu\naXRpYWxpemVzIHRoZSBsb2FkZXIgd2l0aCBhbiBlbXB0eSBsaXN0IG9mIGRl\nbGVnYXRlcy4KICAgICAqLwogICAgcHVibGljIE11bHRpQ2xhc3NMb2FkZXIo\nKSB7CiAgICAgICAgc3VwZXIobnVsbCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBDb25zdHJ1Y3Qgd2l0aCB0aGUgY2xhc3MgbG9hZGVycyBvZiBhbm90aGVy\nIG11bHRpIGxvYWRlci4KICAgICAqLwogICAgcHVibGljIE11bHRpQ2xhc3NM\nb2FkZXIoTXVsdGlDbGFzc0xvYWRlciBvdGhlcikgewogICAgICAgIHN1cGVy\nKG51bGwpOwogICAgICAgIGFkZENsYXNzTG9hZGVycyhvdGhlcik7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGxpc3QgY29u\ndGFpbnMgdGhlIGdpdmVuIGNsYXNzIGxvYWRlciBvciBtYXJrZXIuCiAgICAg\nKi8KICAgIHB1YmxpYyBib29sZWFuIGNvbnRhaW5zQ2xhc3NMb2FkZXIoQ2xh\nc3NMb2FkZXIgbG9hZGVyKSB7CiAgICAgICAgcmV0dXJuIF9sb2FkZXJzLmNv\nbnRhaW5zKGxvYWRlcik7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4g\nYW4gYXJyYXkgb2YgYWxsIGNvbnRhaW5lZCBjbGFzcyBsb2FkZXJzLgogICAg\nICovCiAgICBwdWJsaWMgQ2xhc3NMb2FkZXJbXSBnZXRDbGFzc0xvYWRlcnMo\nKSB7CiAgICAgICAgQ2xhc3NMb2FkZXJbXSBsb2FkZXJzID0gbmV3IENsYXNz\nTG9hZGVyW3NpemUoKV07CiAgICAgICAgQ2xhc3NMb2FkZXIgbG9hZGVyOwog\nICAgICAgIEl0ZXJhdG9yIGl0ciA9IF9sb2FkZXJzLml0ZXJhdG9yKCk7CiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBsb2FkZXJzLmxlbmd0aDsgaSsr\nKSB7CiAgICAgICAgICAgIGxvYWRlciA9IChDbGFzc0xvYWRlcikgaXRyLm5l\neHQoKTsKICAgICAgICAgICAgaWYgKGxvYWRlciA9PSBUSFJFQURfTE9BREVS\nKQogICAgICAgICAgICAgICAgbG9hZGVyID0gKENsYXNzTG9hZGVyKSBBY2Nl\nc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgICAgICAg\nICBKMkRvUHJpdkhlbHBlci5nZXRDb250ZXh0Q2xhc3NMb2FkZXJBY3Rpb24o\nKSk7CiAgICAgICAgICAgIGxvYWRlcnNbaV0gPSBsb2FkZXI7CiAgICAgICAg\nfQogICAgICAgIHJldHVybiBsb2FkZXJzOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSBjbGFzcyBsb2FkZXIgYXQgdGhlIGdpdmVuIGluZGV4\nLgogICAgICovCiAgICBwdWJsaWMgQ2xhc3NMb2FkZXIgZ2V0Q2xhc3NMb2Fk\nZXIoaW50IGluZGV4KSB7CiAgICAgICAgQ2xhc3NMb2FkZXIgbG9hZGVyID0g\nKENsYXNzTG9hZGVyKSBfbG9hZGVycy5nZXQoaW5kZXgpOwogICAgICAgIGlm\nIChsb2FkZXIgPT0gVEhSRUFEX0xPQURFUikKICAgICAgICAgICAgbG9hZGVy\nID0gKENsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdl\nZCgKICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENvbnRleHRD\nbGFzc0xvYWRlckFjdGlvbigpKTsKICAgICAgICByZXR1cm4gbG9hZGVyOwog\nICAgfQoKICAgIC8qKgogICAgICogQWRkIHRoZSBnaXZlbiBjbGFzcyBsb2Fk\nZXIgdG8gdGhlIHNldCBvZiBsb2FkZXJzIHRoYXQgd2lsbCBiZSB0cmllZC4K\nICAgICAqCiAgICAgKiBAcmV0dXJuIHRydWUgaWYgdGhlIGxvYWRlciB3YXMg\nYWRkZWQsIGZhbHNlIGlmIGFscmVhZHkgaW4gdGhlIGxpc3QKICAgICAqLwog\nICAgcHVibGljIGJvb2xlYW4gYWRkQ2xhc3NMb2FkZXIoQ2xhc3NMb2FkZXIg\nbG9hZGVyKSB7CiAgICAgICAgaWYgKF9sb2FkZXJzLmNvbnRhaW5zKGxvYWRl\ncikpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4g\nX2xvYWRlcnMuYWRkKGxvYWRlcik7CiAgICB9CgogICAgLyoqCiAgICAgKiBB\nZGQgdGhlIGdpdmVuIGNsYXNzIGxvYWRlciBhdCB0aGUgc3BlY2lmaWVkIGlu\nZGV4LgogICAgICoKICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgbG9hZGVy\nIHdhcyBhZGRlZCwgZmFsc2UgaWYgYWxyZWFkeSBpbiB0aGUgbGlzdAogICAg\nICovCiAgICBwdWJsaWMgYm9vbGVhbiBhZGRDbGFzc0xvYWRlcihpbnQgaW5k\nZXgsIENsYXNzTG9hZGVyIGxvYWRlcikgewogICAgICAgIGlmIChfbG9hZGVy\ncy5jb250YWlucyhsb2FkZXIpKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7\nCiAgICAgICAgX2xvYWRlcnMuYWRkKGluZGV4LCBsb2FkZXIpOwogICAgICAg\nIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBj\nbGFzcyBsb2FkZXJzIG9mIHRoaXMgbG9hZGVyIHRvIHRob3NlIG9mIHRoZSBn\naXZlbiBsb2FkZXIuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldENsYXNz\nTG9hZGVycyhNdWx0aUNsYXNzTG9hZGVyIG11bHRpKSB7CiAgICAgICAgY2xl\nYXIoKTsKICAgICAgICBhZGRDbGFzc0xvYWRlcnMobXVsdGkpOwogICAgfQoK\nICAgIC8qKgogICAgICogQWRkcyBhbGwgY2xhc3MgbG9hZGVycyBmcm9tIHRo\nZSBnaXZlbiBtdWx0aSBsb2FkZXIgc3RhcnRpbmcgYXQgdGhlCiAgICAgKiBn\naXZlbiBpbmRleC4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRydWUgaWYgYW55\nIGxvYWRlcnMgd2VyZSBhZGRlZCwgZmFsc2UgaWYgYWxsIGFscmVhZHkgaW4g\nbGlzdAogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBhZGRDbGFzc0xvYWRl\ncnMoaW50IGluZGV4LCBNdWx0aUNsYXNzTG9hZGVyIG11bHRpKSB7CiAgICAg\nICAgaWYgKG11bHRpID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBmYWxz\nZTsKCiAgICAgICAgLy8gdXNlIGl0ZXJhdG9yIHNvIHRoYXQgdGhlIHRocmVh\nZCBsb2FkZXIgaXMgbm90IHJlc29sdmVkCiAgICAgICAgYm9vbGVhbiBhZGRl\nZCA9IGZhbHNlOwogICAgICAgIGZvciAoSXRlcmF0b3IgaXRyID0gbXVsdGku\nX2xvYWRlcnMuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspIHsKICAgICAg\nICAgICAgaWYgKGFkZENsYXNzTG9hZGVyKGluZGV4LCAoQ2xhc3NMb2FkZXIp\nIGl0ci5uZXh0KCkpKSB7CiAgICAgICAgICAgICAgICBpbmRleCsrOwogICAg\nICAgICAgICAgICAgYWRkZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAg\nICAgfQogICAgICAgIHJldHVybiBhZGRlZDsKICAgIH0KCiAgICAvKioKICAg\nICAqIEFkZHMgYWxsIHRoZSBjbGFzcyBsb2FkZXJzIGZyb20gdGhlIGdpdmVu\nIG11bHRpIGxvYWRlci4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRydWUgaWYg\nYW55IGxvYWRlcnMgd2VyZSBhZGRlZCwgZmFsc2UgaWYgYWxsIGFscmVhZHkg\naW4gbGlzdAogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBhZGRDbGFzc0xv\nYWRlcnMoTXVsdGlDbGFzc0xvYWRlciBtdWx0aSkgewogICAgICAgIGlmICht\ndWx0aSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAg\nICAgIC8vIHVzZSBpdGVyYXRvciBzbyB0aGF0IHRoZSB0aHJlYWQgbG9hZGVy\nIGlzIG5vdCByZXNvbHZlZAogICAgICAgIGJvb2xlYW4gYWRkZWQgPSBmYWxz\nZTsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0ciA9IG11bHRpLl9sb2FkZXJz\nLml0ZXJhdG9yKCk7IGl0ci5oYXNOZXh0KCk7KQogICAgICAgICAgICBhZGRl\nZCA9IGFkZENsYXNzTG9hZGVyKChDbGFzc0xvYWRlcikgaXRyLm5leHQoKSkg\nfHwgYWRkZWQ7CiAgICAgICAgcmV0dXJuIGFkZGVkOwogICAgfQoKICAgIC8q\nKgogICAgICogUmVtb3ZlIHRoZSBnaXZlbiBsb2FkZXIgZnJvbSB0aGUgbGlz\ndC4KICAgICAqCiAgICAgKiBAcmV0dXJuIHRydWUgaWYgcmVtb3ZlZCwgZmFs\nc2UgaWYgbm90IGluIGxpc3QKICAgICAqLwogICAgcHVibGljIGJvb2xlYW4g\ncmVtb3ZlQ2xhc3NMb2FkZXIoQ2xhc3NMb2FkZXIgbG9hZGVyKSB7CiAgICAg\nICAgcmV0dXJuIF9sb2FkZXJzLnJlbW92ZShsb2FkZXIpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ2xlYXIgdGhlIGxpc3Qgb2YgY2xhc3MgbG9hZGVycy4K\nICAgICAqLwogICAgcHVibGljIHZvaWQgY2xlYXIoKSB7CiAgICAgICAgX2xv\nYWRlcnMuY2xlYXIoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0\naGUgbnVtYmVyIG9mIGludGVybmFsIGNsYXNzIGxvYWRlcnMuCiAgICAgKi8K\nICAgIHB1YmxpYyBpbnQgc2l6ZSgpIHsKICAgICAgICByZXR1cm4gX2xvYWRl\ncnMuc2l6ZSgpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRydWUg\naWYgdGhlcmUgYXJlIG5vIGludGVybmFsIGNsYXNzIGxhb2RlcnMuCiAgICAg\nKi8KICAgIHB1YmxpYyBib29sZWFuIGlzRW1wdHkoKSB7CiAgICAgICAgcmV0\ndXJuIF9sb2FkZXJzLmlzRW1wdHkoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQg\nQ2xhc3MgZmluZENsYXNzKFN0cmluZyBuYW1lKSB0aHJvd3MgQ2xhc3NOb3RG\nb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgQ2xhc3NMb2FkZXIgbG9hZGVyOwog\nICAgICAgIGZvciAoSXRlcmF0b3IgaXRyID0gX2xvYWRlcnMuaXRlcmF0b3Io\nKTsgaXRyLmhhc05leHQoKTspIHsKICAgICAgICAgICAgbG9hZGVyID0gKENs\nYXNzTG9hZGVyKSBpdHIubmV4dCgpOwogICAgICAgICAgICBpZiAobG9hZGVy\nID09IFRIUkVBRF9MT0FERVIpCiAgICAgICAgICAgICAgICBsb2FkZXIgPSAo\nQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAog\nICAgICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENvbnRleHRD\nbGFzc0xvYWRlckFjdGlvbigpKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgICAgIHJldHVybiBDbGFzcy5mb3JOYW1lKG5hbWUsIGZhbHNlLCBs\nb2FkZXIpOwogICAgICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewog\nICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRocm93IG5ldyBDbGFz\nc05vdEZvdW5kRXhjZXB0aW9uKG5hbWUpOwogICAgfQoKICAgIHByb3RlY3Rl\nZCBVUkwgZmluZFJlc291cmNlKFN0cmluZyBuYW1lKSB7CiAgICAgICAgQ2xh\nc3NMb2FkZXIgbG9hZGVyOwogICAgICAgIFVSTCByc3JjOwogICAgICAgIGZv\nciAoSXRlcmF0b3IgaXRyID0gX2xvYWRlcnMuaXRlcmF0b3IoKTsgaXRyLmhh\nc05leHQoKTspIHsKICAgICAgICAgICAgbG9hZGVyID0gKENsYXNzTG9hZGVy\nKSBpdHIubmV4dCgpOwogICAgICAgICAgICBpZiAobG9hZGVyID09IFRIUkVB\nRF9MT0FERVIpCiAgICAgICAgICAgICAgICBsb2FkZXIgPSAoQ2xhc3NMb2Fk\nZXIpIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAg\nICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENvbnRleHRDbGFzc0xvYWRl\nckFjdGlvbigpKTsKCiAgICAgICAgICAgIGlmIChsb2FkZXIgPT0gbnVsbCkg\nLy8gc2tpcCAKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAg\nICAgcnNyYyA9IChVUkwpIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2Vk\nKAogICAgICAgICAgICAgICAgSjJEb1ByaXZIZWxwZXIuZ2V0UmVzb3VyY2VB\nY3Rpb24obG9hZGVyLCBuYW1lKSk7IAogICAgICAgICAgICBpZiAocnNyYyAh\nPSBudWxsKQogICAgICAgICAgICAgICAgcmV0dXJuIHJzcmM7CiAgICAgICAg\nfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHByb3RlY3RlZCBF\nbnVtZXJhdGlvbiBmaW5kUmVzb3VyY2VzKFN0cmluZyBuYW1lKSB0aHJvd3Mg\nSU9FeGNlcHRpb24gewogICAgICAgIENsYXNzTG9hZGVyIGxvYWRlcjsKICAg\nICAgICBFbnVtZXJhdGlvbiByc3JjczsKICAgICAgICBPYmplY3QgcnNyYzsK\nICAgICAgICBWZWN0b3IgYWxsID0gbmV3IFZlY3RvcigpOwogICAgICAgIGZv\nciAoSXRlcmF0b3IgaXRyID0gX2xvYWRlcnMuaXRlcmF0b3IoKTsgaXRyLmhh\nc05leHQoKTspIHsKICAgICAgICAgICAgbG9hZGVyID0gKENsYXNzTG9hZGVy\nKSBpdHIubmV4dCgpOwogICAgICAgICAgICBpZiAobG9hZGVyID09IFRIUkVB\nRF9MT0FERVIpCiAgICAgICAgICAgICAgICBsb2FkZXIgPSAoQ2xhc3NMb2Fk\nZXIpIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAg\nICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENvbnRleHRDbGFzc0xvYWRl\nckFjdGlvbigpKTsKICAgICAgICAgICAgCgogICAgICAgICAgICB0cnkgewog\nICAgICAgICAgICAgICAgcnNyY3MgPSAoRW51bWVyYXRpb24pIEFjY2Vzc0Nv\nbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAgICAgICAgICAgIEoy\nRG9Qcml2SGVscGVyLmdldFJlc291cmNlc0FjdGlvbihsb2FkZXIsIG5hbWUp\nKTsgCiAgICAgICAgICAgICAgICB3aGlsZSAocnNyY3MuaGFzTW9yZUVsZW1l\nbnRzKCkpIHsKICAgICAgICAgICAgICAgICAgICByc3JjID0gcnNyY3MubmV4\ndEVsZW1lbnQoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbC5jb250\nYWlucyhyc3JjKSkKICAgICAgICAgICAgICAgICAgICAgICAgYWxsLmFkZEVs\nZW1lbnQocnNyYyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0g\nY2F0Y2ggKFByaXZpbGVnZWRBY3Rpb25FeGNlcHRpb24gcGFlKSB7CiAgICAg\nICAgICAgICAgICB0aHJvdyAoSU9FeGNlcHRpb24pIHBhZS5nZXRFeGNlcHRp\nb24oKTsKICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAKICAgICAgICB9\nCiAgICAgICAgcmV0dXJuIGFsbC5lbGVtZW50cygpOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb3RoZXIpIHsKICAgICAgICBp\nZiAob3RoZXIgPT0gdGhpcykKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAg\nICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBNdWx0aUNsYXNzTG9hZGVy\nKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiAo\nKE11bHRpQ2xhc3NMb2FkZXIpIG90aGVyKS5fbG9hZGVycy5lcXVhbHMoX2xv\nYWRlcnMpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgaGFzaENvZGUoKSB7CiAg\nICAgICAgcmV0dXJuIF9sb2FkZXJzLmhhc2hDb2RlKCk7CiAgICB9Cn0K\n","encoding":"base64"}

