{"sha":"722fbf78615508207265c86a3abebafd45fc4a0d","node_id":"MDQ6QmxvYjIwNjM2NDo3MjJmYmY3ODYxNTUwODIwNzI2NWM4NmEzYWJlYmFmZDQ1ZmM0YTBk","size":24363,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/722fbf78615508207265c86a3abebafd45fc4a0d","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5sYW5nLnJlZmxlY3QuQ29uc3RydWN0b3I7CmltcG9ydCBqYXZhLmxh\nbmcucmVmbGVjdC5GaWVsZDsKaW1wb3J0IGphdmEubGFuZy5yZWZsZWN0Lk1l\nbWJlcjsKaW1wb3J0IGphdmEubGFuZy5yZWZsZWN0Lk1ldGhvZDsKaW1wb3J0\nIGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEu\nc2VjdXJpdHkuUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbjsKaW1wb3J0IGph\ndmEudXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9y\nOwppbXBvcnQgamF2YS51dGlsLkxpbmtlZExpc3Q7CmltcG9ydCBqYXZhLnV0\naWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0\naWwuUHJvcGVydGllczsKaW1wb3J0IGphdmEudXRpbC5UcmVlU2V0OwoKaW1w\nb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5sYW5nLlN0cmluZ1V0aWxzOwoKaW1w\nb3J0IHNlcnAudXRpbC5TdHJpbmdzOwoKLyoqCiAqIEEgc3BlY2lhbGl6YXRp\nb24gb2YgdGhlIHtAbGluayBQcm9wZXJ0aWVzfSBtYXAgdHlwZSB3aXRoIHRo\nZSBhZGRlZAogKiBhYmlsaXRpZXMgdG8gcmVhZCBhcHBsaWNhdGlvbiBvcHRp\nb25zIGZyb20gdGhlIGNvbW1hbmQgbGluZSBhbmQgdG8KICogdXNlIGJlYW4g\ncGF0dGVybnMgdG8gc2V0IGFuIG9iamVjdCdzIHByb3BlcnRpZXMgdmlhIGNv\nbW1hbmQtbGluZSB0aGUKICogc3RvcmVkIG1hcHBpbmdzLgogKiBBIHR5cGlj\nYWwgdXNlIHBhdHRlcm4gZm9yIHRoaXMgY2xhc3MgaXMgdG8gY29uc3RydWN0\nIGEgbmV3IGluc3RhbmNlCiAqIGluIHRoZSA8Y29kZT5tYWluPC9jb2RlPiBt\nZXRob2QsIHRoZW4gY2FsbCB7QGxpbmsgI3NldEZyb21DbWRMaW5lfSB3aXRo\nIHRoZQogKiBnaXZlbiBhcmdzLiBOZXh0LCBhbiBpbnN0YW5jZW9mIHRoZSBj\nbGFzcyBiZWluZyBpbnZva2VkIGlzIGNyZWF0ZWQsIGFuZAogKiB7QGxpbmsg\nI3NldEludG99IGlzIGNhbGxlZCB3aXRoIHRoYXQgaW5zdGFuY2UgYXMgYSBw\nYXJhbWV0ZXIuIFdpdGggdGhpcwogKiBwYXR0ZXJuLCB0aGUgdXNlciBjYW4g\nY29uZmlndXJlIGFueSBiZWFuIHByb3BlcnRpZXMgb2YgdGhlIGNsYXNzLCBv\nciBldmVuCiAqIHByb3BlcnRpZXMgb2YgY2xhc3NlcyByZWFjaGFibGUgZnJv\nbSB0aGUgY2xhc3MsIHRocm91Z2ggdGhlIGNvbW1hbmQgbGluZS4KICoKICog\nQGF1dGhvciBBYmUgV2hpdGUKICogQG5vamF2YWRvYwogKi8KcHVibGljIGNs\nYXNzIE9wdGlvbnMgZXh0ZW5kcyBUeXBlZFByb3BlcnRpZXMgewoKICAgIC8q\nKgogICAgICogSW1tdXRhYmxlIGVtcHR5IGluc3RhbmNlLgogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIE9wdGlvbnMgRU1QVFkgPSBuZXcgRW1wdHlPcHRp\nb25zKCk7CgogICAgLy8gbWFwcyBwcmltaXRpdmUgdHlwZXMgdG8gdGhlIGFw\ncHJvcHJpYXRlIHdyYXBwZXIgY2xhc3MgYW5kIGRlZmF1bHQgdmFsdWUKICAg\nIHByaXZhdGUgc3RhdGljIE9iamVjdFtdW10gX3ByaW1XcmFwcGVycyA9IG5l\ndyBPYmplY3RbXVtdewogICAgICAgIHsgYm9vbGVhbi5jbGFzcywgQm9vbGVh\nbi5jbGFzcywgQm9vbGVhbi5GQUxTRSB9LAogICAgICAgIHsgYnl0ZS5jbGFz\ncywgQnl0ZS5jbGFzcywgbmV3IEJ5dGUoKGJ5dGUpIDApIH0sCiAgICAgICAg\neyBjaGFyLmNsYXNzLCBDaGFyYWN0ZXIuY2xhc3MsIG5ldyBDaGFyYWN0ZXIo\nKGNoYXIpIDApIH0sCiAgICAgICAgeyBkb3VibGUuY2xhc3MsIERvdWJsZS5j\nbGFzcywgbmV3IERvdWJsZSgwRCkgfSwKICAgICAgICB7IGZsb2F0LmNsYXNz\nLCBGbG9hdC5jbGFzcywgbmV3IEZsb2F0KDBGKSB9LAogICAgICAgIHsgaW50\nLmNsYXNzLCBJbnRlZ2VyLmNsYXNzLCBuZXcgSW50ZWdlcigwKSB9LAogICAg\nICAgIHsgbG9uZy5jbGFzcywgTG9uZy5jbGFzcywgbmV3IExvbmcoMEwpIH0s\nCiAgICAgICAgeyBzaG9ydC5jbGFzcywgU2hvcnQuY2xhc3MsIG5ldyBTaG9y\ndCgoc2hvcnQpIDApIH0sIH07CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IGNv\nbnN0cnVjdG9yLgogICAgICovCiAgICBwdWJsaWMgT3B0aW9ucygpIHsKICAg\nICAgICBzdXBlcigpOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0\nIHRoZSBvcHRpb25zIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIHNldCBvZiBk\nZWZhdWx0cy4KICAgICAqCiAgICAgKiBAc2VlIFByb3BlcnRpZXMjUHJvcGVy\ndGllcyhQcm9wZXJ0aWVzKQogICAgICovCiAgICBwdWJsaWMgT3B0aW9ucyhQ\ncm9wZXJ0aWVzIGRlZmF1bHRzKSB7CiAgICAgICAgc3VwZXIoZGVmYXVsdHMp\nOwogICAgfQoKICAgIC8qKgogICAgICogUGFyc2VzIHRoZSBnaXZlbiBhcmd1\nbWVudCBsaXN0IGludG8gZmxhZy92YWx1ZSBwYWlycywgd2hpY2ggYXJlIHN0\nb3JlZAogICAgICogYXMgcHJvcGVydGllcy4gRmxhZ3MgdGhhdCBhcmUgcHJl\nc2VudCB3aXRob3V0IHZhbHVlcyBhcmUgZ2l2ZW4KICAgICAqIHRoZSB2YWx1\nZSAidHJ1ZSIuIElmIGFueSBmbGFnIGlzIGZvdW5kIGZvciB3aGljaCB0aGVy\nZSBpcyBhbHJlYWR5CiAgICAgKiBhIG1hcHBpbmcgcHJlc2VudCwgdGhlIGV4\naXN0aW5nIG1hcHBpbmcgd2lsbCBiZSBvdmVyd3JpdHRlbi4KICAgICAqIEZs\nYWdzIHNob3VsZCBiZSBvZiB0aGUgZm9ybTo8YnIgLz4KICAgICAqIDxjb2Rl\nPmphdmEgRm9vIC1mbGFnMSB2YWx1ZTEgLWZsYWcyIHZhbHVlMiAuLi4gYXJn\nMSBhcmcyIC4uLjwvY29kZT4KICAgICAqCiAgICAgKiBAcGFyYW0gYXJncyB0\naGUgY29tbWFuZC1saW5lIGFyZ3VtZW50cwogICAgICogQHJldHVybiBhbGwg\nYXJndW1lbnRzIGluIHRoZSBvcmlnaW5hbCBhcnJheSBiZXlvbmQgdGhlCiAg\nICAgKiBmbGFnL3ZhbHVlIHBhaXIgbGlzdAogICAgICogQGF1dGhvciBQYXRy\naWNrIExpbnNrZXkKICAgICAqLwogICAgcHVibGljIFN0cmluZ1tdIHNldEZy\nb21DbWRMaW5lKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBpZiAoYXJncyA9\nPSBudWxsIHx8IGFyZ3MubGVuZ3RoID09IDApCiAgICAgICAgICAgIHJldHVy\nbiBhcmdzOwoKICAgICAgICBTdHJpbmcga2V5ID0gbnVsbDsKICAgICAgICBT\ndHJpbmcgdmFsdWUgPSBudWxsOwogICAgICAgIExpc3QgcmVtYWluZGVyID0g\nbmV3IExpbmtlZExpc3QoKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIGFyZ3MubGVuZ3RoICsgMTsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpID09\nIGFyZ3MubGVuZ3RoIHx8IGFyZ3NbaV0uc3RhcnRzV2l0aCgiLSIpKSB7CiAg\nICAgICAgICAgICAgICBrZXkgPSB0cmltUXVvdGUoa2V5KTsKICAgICAgICAg\nICAgICAgIGlmIChrZXkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAg\nIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eSh2YWx1ZSkpCiAgICAgICAgICAg\nICAgICAgICAgICAgIHNldFByb3BlcnR5KGtleSwgdHJpbVF1b3RlKHZhbHVl\nKSk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAg\nICAgICAgICBzZXRQcm9wZXJ0eShrZXksICJ0cnVlIik7CiAgICAgICAgICAg\nICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGkgPT0gYXJncy5sZW5ndGgp\nCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBl\nbHNlIHsKICAgICAgICAgICAgICAgICAgICBrZXkgPSBhcmdzW2ldLnN1YnN0\ncmluZygxKTsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7CiAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ICE9\nIG51bGwpIHsKICAgICAgICAgICAgICAgIHNldFByb3BlcnR5KGtleSwgdHJp\nbVF1b3RlKGFyZ3NbaV0pKTsKICAgICAgICAgICAgICAgIGtleSA9IG51bGw7\nCiAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgICAgcmVtYWluZGVy\nLmFkZChhcmdzW2ldKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoU3Ry\naW5nW10pIHJlbWFpbmRlci50b0FycmF5KG5ldyBTdHJpbmdbcmVtYWluZGVy\nLnNpemUoKV0pOwogICAgfQoKICAgIC8qKgogICAgICogVGhpcyBtZXRob2Qg\ndXNlcyByZWZsZWN0aW9uIHRvIHNldCBhbGwgdGhlIHByb3BlcnRpZXMgaW4g\ndGhlIGdpdmVuCiAgICAgKiBvYmplY3QgdGhhdCBhcmUgbmFtZWQgYnkgdGhl\nIGtleXMgaW4gdGhpcyBtYXAuIEZvciBhIGdpdmVuIGtleSAnZm9vJywKICAg\nICAqIHRoZSBhbGdvcml0aG0gd2lsbCBsb29rIGZvciBhICdzZXRGb28nIG1l\ndGhvZCBpbiB0aGUgZ2l2ZW4gaW5zdGFuY2UuCiAgICAgKiBGb3IgYSBnaXZl\nbiBrZXkgJ2Zvby5iYXInLCB0aGUgYWxnb3JpdGhtIHdpbGwgZmlyc3QgbG9v\nayBmb3IgYQogICAgICogJ2dldEZvbycgbWV0aG9kIGluIHRoZSBnaXZlbiBp\nbnN0YW5jZSwgdGhlbiB3aWxsIHJlY3Vyc2Ugb24gdGhlIHJldHVybgogICAg\nICogdmFsdWUgb2YgdGhhdCBtZXRob2QsIG5vdyBsb29raW5nIGZvciB0aGUg\nJ2JhcicgcHJvcGVydHkuIFRoaXMgYWxsb3dzCiAgICAgKiB0aGUgc2V0dGlu\nZyBvZiBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuIElmIGluIHRoZSBhYm92\nZSBleGFtcGxlIHRoZQogICAgICogJ2dldEZvbycgbWV0aG9kIGlzIG5vdCBw\ncmVzZW50IG9yIHJldHVybnMgbnVsbCwgdGhlIGFsZ29yaXRobSB3aWxsCiAg\nICAgKiBsb29rIGZvciBhICdzZXRGb28nIG1ldGhvZDsgaWYgZm91bmQgaXQg\nd2lsbCBjb25zdHJjdCBhIG5ldyBpbnN0YW5jZQogICAgICogb2YgdGhlIGNv\ncnJlY3QgdHlwZSwgc2V0IGl0IHVzaW5nIHRoZSAnc2V0Rm9vJyBtZXRob2Qs\nIHRoZW4gcmVjdXJzZSBvbgogICAgICogaXQgYXMgYWJvdmUuIFByb3BlcnR5\nIG5hbWVzIGNhbiBiZSBuZXN0ZWQgaW4gdGhpcyB3YXkgdG8gYW4gYXJiaXRy\nYXJ5CiAgICAgKiBkZXB0aC4gRm9yIHNldHRlciBtZXRob2RzIHRoYXQgdGFr\nZSBtdWx0aXBsZSBwYXJhbWV0ZXJzLCB0aGUgdmFsdWUKICAgICAqIG1hcHBl\nZCB0byB0aGUga2V5IGNhbiB1c2UgdGhlICcsJyBhcyBhbiBhcmd1bWVudCBz\nZXBhcmF0b3IgY2hhcmFjdGVyLgogICAgICogSWYgbm90IGVub3VnaCB2YWx1\nZXMgYXJlIHByZXNlbnQgZm9yIGEgZ2l2ZW4gbWV0aG9kIGFmdGVyIHNwbGl0\ndGluZwogICAgICogdGhlIHN0cmluZyBvbiAnLCcsIHRoZSByZW1haW5pbmcg\nYXJndW1lbnRzIHdpbGwgcmVjZWl2ZSBkZWZhdWx0CiAgICAgKiB2YWx1ZXMu\nIEFsbCBhcmd1bWVudHMgYXJlIGNvbnZlcnRlZCBmcm9tIHN0cmluZyBmb3Jt\nIHRvIHRoZQogICAgICogY29ycmVjdCB0eXBlIGlmIHBvc3NpYmxlKGkuZS4g\naWYgdGhlIHR5cGUgaXMgcHJpbWl0aXZlLAogICAgICogamF2YS5sYW5nLkNs\nYXMsIG9yIGhhcyBhIGNvbnN0cnVjdG9yIHRoYXQgdGFrZXMgYSBzaW5nbGUg\nc3RyaW5nCiAgICAgKiBhcmd1bWVudCkuIEV4YW1wbGVzOgogICAgICogPHVs\nPgogICAgICogPGxpPk1hcCBFbnRyeTogPGNvZGU+ImFnZSItJmd0OyIxMiI8\nL2NvZGU+PGJyIC8+CiAgICAgKiBSZXN1bHRhbnQgbWV0aG9kIGNhbGw6IDxj\nb2RlPm9iai5zZXRBZ2UoMTIpPC9jb2RlPjwvbGk+CiAgICAgKiA8bGk+TWFw\nIEVudHJ5OiA8Y29kZT4icmFuZ2UiLSZndDsiMSwyMCI8L2NvZGU+PGJyIC8+\nCiAgICAgKiBSZXN1bHRhbnQgbWV0aG9kIGNhbGw6IDxjb2RlPm9iai5zZXRS\nYW5nZSgxLCAyMCk8L2NvZGU+PC9saT4KICAgICAqIDxsaT5NYXAgRW50cnk6\nIDxjb2RlPiJyYW5nZSItJmd0OyIxMCI8L2NvZGU+PGJyIC8+CiAgICAgKiBS\nZXN1bHRhbnQgbWV0aG9kIGNhbGw6IDxjb2RlPm9iai5zZXRSYW5nZSgxMCwg\nMTApPC9jb2RlPjwvbGk+CiAgICAgKiA8bGk+TWFwIEVudHJ5OiA8Y29kZT4i\nYnJvdGhlci5uYW1lIi0mZ3Q7IkJvYiI8L2NvZGU+PGJyIC8+CiAgICAgKiBS\nZXN1bHRhbnQgbWV0aG9kIGNhbGw6IDxjb2RlPm9iai5nZXRCcm90aGVyKCku\nc2V0TmFtZSgiQm9iIikKICAgICAqIDxjb2RlPjwvbGk+CiAgICAgKiA8L3Vs\nPiAKICAgICAqIEFueSBrZXlzIHByZXNlbnQgaW4gdGhlIG1hcCBmb3Igd2hp\nY2ggdGhlcmUgaXMgbm8KICAgICAqIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkg\naW4gdGhlIGdpdmVuIG9iamVjdCB3aWxsIGJlIGlnbm9yZWQsCiAgICAgKiBh\nbmQgd2lsbCBiZSByZXR1cm5lZCBpbiB0aGUge0BsaW5rIE1hcH0gcmV0dXJu\nZWQgYnkgdGhpcyBtZXRob2QuCiAgICAgKgogICAgICogQHJldHVybiBhbiB7\nQGxpbmsgT3B0aW9uc30gb2Yga2V5LXZhbHVlIHBhaXJzIGluIHRoaXMgb2Jq\nZWN0CiAgICAgKiBmb3Igd2hpY2ggbm8gc2V0dGVycyBjb3VsZCBiZSBmb3Vu\nZC4KICAgICAqIEB0aHJvd3MgUnVudGltZUV4Y2VwdGlvbiBvbiBwYXJzZSBl\ncnJvcgogICAgICovCiAgICBwdWJsaWMgT3B0aW9ucyBzZXRJbnRvKE9iamVj\ndCBvYmopIHsKICAgICAgICAvLyBzZXQgYWxsIGRlZmF1bHRzIHRoYXQgaGF2\nZSBubyBleHBsaWNpdCB2YWx1ZQogICAgICAgIE1hcC5FbnRyeSBlbnRyeSA9\nIG51bGw7CiAgICAgICAgaWYgKGRlZmF1bHRzICE9IG51bGwpIHsKICAgICAg\nICAgICAgZm9yIChJdGVyYXRvciBpdHIgPSBkZWZhdWx0cy5lbnRyeVNldCgp\nLml0ZXJhdG9yKCk7IGl0ci5oYXNOZXh0KCk7KQogICAgICAgICAgICB7CiAg\nICAgICAgICAgICAgICBlbnRyeSA9IChNYXAuRW50cnkpIGl0ci5uZXh0KCk7\nCiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zS2V5KGVudHJ5LmdldEtl\neSgpKSkKICAgICAgICAgICAgICAgICAgICBzZXRJbnRvKG9iaiwgZW50cnkp\nOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBzZXQgZnJv\nbSBtYWluIG1hcAogICAgICAgIE9wdGlvbnMgaW52YWxpZEVudHJpZXMgPSBu\ndWxsOwogICAgICAgIE1hcC5FbnRyeSBlOwogICAgICAgIGZvciAoSXRlcmF0\nb3IgaXRyID0gZW50cnlTZXQoKS5pdGVyYXRvcigpOyBpdHIuaGFzTmV4dCgp\nOykgewogICAgICAgICAgICBlID0gKE1hcC5FbnRyeSkgaXRyLm5leHQoKTsK\nICAgICAgICAgICAgaWYgKCFzZXRJbnRvKG9iaiwgZSkpIHsKICAgICAgICAg\nICAgICAgIGlmIChpbnZhbGlkRW50cmllcyA9PSBudWxsKQogICAgICAgICAg\nICAgICAgICAgIGludmFsaWRFbnRyaWVzID0gbmV3IE9wdGlvbnMoKTsKICAg\nICAgICAgICAgICAgIGludmFsaWRFbnRyaWVzLnB1dChlLmdldEtleSgpLCBl\nLmdldFZhbHVlKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAg\nIHJldHVybiAoaW52YWxpZEVudHJpZXMgPT0gbnVsbCkgPyBFTVBUWSA6IGlu\ndmFsaWRFbnRyaWVzOwogICAgfQoKICAgIC8qKgogICAgICogU2V0cyB0aGUg\ncHJvcGVydHkgbmFtZWQgYnkgdGhlIGtleSBvZiB0aGUgZ2l2ZW4gZW50cnkg\naW4gdGhlCiAgICAgKiBnaXZlbiBvYmplY3QuCiAgICAgKgogICAgICogQHJl\ndHVybiA8Y29kZT50cnVlPC9jb2RlPiBpZiB0aGUgc2V0IHN1Y2NlZWRlZCwg\nb3IKICAgICAqIDxjb2RlPmZhbHNlPC9jb2RlPiBpZiBubyBtZXRob2QgY291\nbGQgYmUgZm91bmQgZm9yIHRoaXMgcHJvcGVydHkuCiAgICAgKi8KICAgIHBy\naXZhdGUgYm9vbGVhbiBzZXRJbnRvKE9iamVjdCBvYmosIE1hcC5FbnRyeSBl\nbnRyeSkgewogICAgICAgIGlmIChlbnRyeS5nZXRLZXkoKSA9PSBudWxsKQog\nICAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIC8vIGxvb2sgZm9yIG1hdGNoaW5nIHBhcmFtZXRlciBvZiBvYmpl\nY3QKICAgICAgICAgICAgT2JqZWN0W10gbWF0Y2ggPSBuZXcgT2JqZWN0W117\nIG9iaiwgbnVsbCB9OwogICAgICAgICAgICBpZiAoIW1hdGNoT3B0aW9uVG9N\nZW1iZXIoZW50cnkuZ2V0S2V5KCkudG9TdHJpbmcoKSwgbWF0Y2gpKQogICAg\nICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAgICAgQ2xhc3Nb\nXSB0eXBlID0gZ2V0VHlwZShtYXRjaFsxXSk7CiAgICAgICAgICAgIE9iamVj\ndFtdIHZhbHVlcyA9IG5ldyBPYmplY3RbdHlwZS5sZW5ndGhdOwogICAgICAg\nICAgICBTdHJpbmdbXSBzdHJWYWx1ZXM7CiAgICAgICAgICAgIGlmIChlbnRy\neS5nZXRWYWx1ZSgpID09IG51bGwpCiAgICAgICAgICAgICAgICBzdHJWYWx1\nZXMgPSBuZXcgU3RyaW5nWzFdOwogICAgICAgICAgICBlbHNlIGlmICh2YWx1\nZXMubGVuZ3RoID09IDEpCiAgICAgICAgICAgICAgICBzdHJWYWx1ZXMgPSBu\nZXcgU3RyaW5nW117IGVudHJ5LmdldFZhbHVlKCkudG9TdHJpbmcoKSB9Owog\nICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBzdHJWYWx1ZXMgPSBT\ndHJpbmdzLnNwbGl0KGVudHJ5LmdldFZhbHVlKCkudG9TdHJpbmcoKSwgIiwi\nLCAwKTsKCiAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIHN0cmluZyB2YWx1\nZXMgaW50byBwYXJhbWV0ZXIgdmFsdWVzLCBpZiBub3QKICAgICAgICAgICAg\nLy8gZW5vdWdoIHN0cmluZyB2YWx1ZXMgcmVwZWF0IGxhc3Qgb25lIGZvciBy\nZXN0CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgc3RyVmFsdWVz\nLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gc3Ry\naW5nVG9PYmplY3Qoc3RyVmFsdWVzW2ldLnRyaW0oKSwgdHlwZVtpXSk7CiAg\nICAgICAgICAgIGZvciAoaW50IGkgPSBzdHJWYWx1ZXMubGVuZ3RoOyBpIDwg\ndmFsdWVzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgdmFsdWVzW2ld\nID0gZ2V0RGVmYXVsdFZhbHVlKHR5cGVbaV0pOwoKICAgICAgICAgICAgLy8g\naW52b2tlIHRoZSBzZXR0ZXIgLyBzZXQgdGhlIGZpZWxkCiAgICAgICAgICAg\nIGludm9rZShtYXRjaFswXSwgbWF0Y2hbMV0sIHZhbHVlcyk7CiAgICAgICAg\nICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0\nKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZUV4Y2VwdGlvbihvYmog\nKyAiLiIgKyBlbnRyeS5nZXRLZXkoKQogICAgICAgICAgICAgICAgKyAiID0g\nIiArIGVudHJ5LmdldFZhbHVlKCksIHQpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgc2lu\nZ2xlIHF1b3RlcyBmcm9tIHRoZSBnaXZlbiBTdHJpbmcsIGlmIGFueS4KICAg\nICAqLwogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIHRyaW1RdW90ZShTdHJp\nbmcgdmFsKSB7CiAgICAgICAgaWYgKHZhbCAhPSBudWxsICYmIHZhbC5zdGFy\ndHNXaXRoKCInIikgJiYgdmFsLmVuZHNXaXRoKCInIikpCiAgICAgICAgICAg\nIHJldHVybiB2YWwuc3Vic3RyaW5nKDEsIHZhbC5sZW5ndGgoKSAtIDEpOwog\nICAgICAgIHJldHVybiB2YWw7CiAgICB9CgogICAgLyoqCiAgICAgKiBGaW5k\ncyBhbGwgdGhlIG9wdGlvbnMgdGhhdCBjYW4gYmUgc2V0IG9uIHRoZSBwcm92\naWRlZCBjbGFzcy4gVGhpcyBkb2VzCiAgICAgKiBub3QgbG9vayBmb3IgcGF0\naC10cmF2ZXJzYWwgZXhwcmVzc2lvbnMuCiAgICAgKgogICAgICogQHBhcmFt\nIHR5cGUgVGhlIGNsYXNzIGZvciB3aGljaCBhdmFpbGFibGUgb3B0aW9ucyBz\naG91bGQgYmUgbGlzdGVkLgogICAgICogQHJldHVybiBUaGUgYXZhaWxhYmxl\nIG9wdGlvbiBuYW1lcyBpbiA8Y29kZT50eXBlPC9jb2RlPi4gVGhlCiAgICAg\nKiBuYW1lcyB3aWxsIGhhdmUgaW5pdGlhbCBjYXBzLiBUaGV5IHdpbGwgYmUg\nb3JkZXJlZCBhbHBoYWJldGljYWxseS4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBDb2xsZWN0aW9uIGZpbmRPcHRpb25zRm9yKENsYXNzIHR5cGUpIHsK\nICAgICAgICBDb2xsZWN0aW9uIG5hbWVzID0gbmV3IFRyZWVTZXQoKTsKICAg\nICAgICAvLyBsb29rIGZvciBhIHNldHRlciBtZXRob2QgbWF0Y2hpbmcgdGhl\nIGtleQogICAgICAgIE1ldGhvZFtdIG1ldGhzID0gdHlwZS5nZXRNZXRob2Rz\nKCk7CiAgICAgICAgQ2xhc3NbXSBwYXJhbXM7CiAgICAgICAgZm9yIChpbnQg\naSA9IDA7IGkgPCBtZXRocy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBp\nZiAobWV0aHNbaV0uZ2V0TmFtZSgpLnN0YXJ0c1dpdGgoInNldCIpKSB7CiAg\nICAgICAgICAgICAgICBwYXJhbXMgPSBtZXRoc1tpXS5nZXRQYXJhbWV0ZXJU\neXBlcygpOwogICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT0g\nMCkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAg\nICAgIGlmIChwYXJhbXNbMF0uaXNBcnJheSgpKQogICAgICAgICAgICAgICAg\nICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgICAgIG5hbWVzLmFkZChTdHJp\nbmdVdGlscy5jYXBpdGFsaXplKAogICAgICAgICAgICAgICAgICAgIG1ldGhz\nW2ldLmdldE5hbWUoKS5zdWJzdHJpbmcoMykpKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgZm9yIHB1YmxpYyBmaWVsZHMK\nICAgICAgICBGaWVsZFtdIGZpZWxkcyA9IHR5cGUuZ2V0RmllbGRzKCk7CiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKysp\nCiAgICAgICAgICAgIG5hbWVzLmFkZChTdHJpbmdVdGlscy5jYXBpdGFsaXpl\nKGZpZWxkc1tpXS5nZXROYW1lKCkpKTsKCiAgICAgICAgcmV0dXJuIG5hbWVz\nOwogICAgfQoKICAgIC8qKgogICAgICogTWF0Y2hlcyBhIGtleSB0byBhbiBv\nYmplY3Qvc2V0dGVyIHBhaXIuCiAgICAgKgogICAgICogQHBhcmFtIGtleSB0\naGUga2V5IGdpdmVuIGF0IHRoZSBjb21tYW5kIGxpbmU7IG1heSBiZSBvZiB0\naGUgZm9ybQogICAgICogJ2Zvby5iYXInIHRvIHNpZ25pZnkgdGhlICdiYXIn\nIHByb3BlcnR5IG9mIHRoZSAnZm9vJyBvd25lZCBvYmplY3QKICAgICAqIEBw\nYXJhbSBtYXRjaCBhbiBhcnJheSBvZiBsZW5ndGggMiwgd2hlcmUgdGhlIGZp\ncnN0IGluZGV4IGlzIHNldAogICAgICogdG8gdGhlIG9iamVjdCB0byByZXRy\naWV2ZSB0aGUgc2V0dGVyIGZvcgogICAgICogQHJldHVybiB0cnVlIGlmIGEg\nbWF0Y2ggd2FzIG1hZGUsIGZhbHNlIG90aGVyd2lzZTsgYWRkaXRpb25hbGx5\nLAogICAgICogdGhlIGZpcnN0IGluZGV4IG9mIHRoZSBtYXRjaCBhcnJheSB3\naWxsIGJlIHNldCB0bwogICAgICogdGhlIG1hdGNoaW5nIG9iamVjdCBhbmQg\ndGhlIHNlY29uZCBpbmRleCB3aWxsIGJlCiAgICAgKiBzZXQgdG8gdGhlIHNl\ndHRlciBtZXRob2Qgb3IgcHVibGljIGZpZWxkIGZvciB0aGUKICAgICAqIHBy\nb3BlcnR5IG5hbWVkIGJ5IHRoZSBrZXkKICAgICAqLwogICAgcHJpdmF0ZSBz\ndGF0aWMgYm9vbGVhbiBtYXRjaE9wdGlvblRvTWVtYmVyKFN0cmluZyBrZXks\nIE9iamVjdFtdIG1hdGNoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIGlmIChTdHJpbmdVdGlscy5pc0VtcHR5KGtleSkpCiAgICAgICAg\nICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAgLy8gdW5mb3J0dW5hdGVseSB3\nZSBjYW4ndCB1c2UgYmVhbiBwcm9wZXJ0aWVzIGZvciBzZXR0ZXJzOyBhbnkK\nICAgICAgICAvLyBzZXR0ZXIgd2l0aCBtb3JlIHRoYW4gMSBhcmcgaXMgaWdu\nb3JlZDsgY2FsYyBzZXR0ZXIgYW5kIGdldHRlcgogICAgICAgIC8vIG5hbWUg\ndG8gbG9vayBmb3IKICAgICAgICBTdHJpbmdbXSBmaW5kID0gU3RyaW5ncy5z\ncGxpdChrZXksICIuIiwgMik7CiAgICAgICAgU3RyaW5nIGJhc2UgPSBTdHJp\nbmdVdGlscy5jYXBpdGFsaXplKGZpbmRbMF0pOwogICAgICAgIFN0cmluZyBz\nZXQgPSAic2V0IiArIGJhc2U7CiAgICAgICAgU3RyaW5nIGdldCA9ICJnZXQi\nICsgYmFzZTsKCiAgICAgICAgLy8gbG9vayBmb3IgYSBzZXR0ZXIvZ2V0dGVy\nIG1hdGNoaW5nIHRoZSBrZXk7IGxvb2sgZm9yIG1ldGhvZHMgZmlyc3QKICAg\nICAgICBDbGFzcyB0eXBlID0gbWF0Y2hbMF0uZ2V0Q2xhc3MoKTsKICAgICAg\nICBNZXRob2RbXSBtZXRocyA9IHR5cGUuZ2V0TWV0aG9kcygpOwogICAgICAg\nIE1ldGhvZCBzZXRNZXRoID0gbnVsbDsKICAgICAgICBNZXRob2QgZ2V0TWV0\naCA9IG51bGw7CiAgICAgICAgQ2xhc3NbXSBwYXJhbXM7CiAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCBtZXRocy5sZW5ndGg7IGkrKykgewogICAgICAg\nICAgICBpZiAobWV0aHNbaV0uZ2V0TmFtZSgpLmVxdWFscyhzZXQpKSB7CiAg\nICAgICAgICAgICAgICBwYXJhbXMgPSBtZXRoc1tpXS5nZXRQYXJhbWV0ZXJU\neXBlcygpOwogICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT0g\nMCkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAg\nICAgIGlmIChwYXJhbXNbMF0uaXNBcnJheSgpKQogICAgICAgICAgICAgICAg\nICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgICAgIC8vIHVzZSB0aGlzIG1l\ndGhvZCBpZiB3ZSBoYXZlbid0IGZvdW5kIGFueSBvdGhlciBzZXR0ZXIsIGlm\nCiAgICAgICAgICAgICAgICAvLyBpdCBoYXMgbGVzcyBwYXJhbWV0ZXJzIHRo\nYW4gYW55IG90aGVyIHNldHRlciwgb3IgaWYgaXQgdXNlcwogICAgICAgICAg\nICAgICAgLy8gc3RyaW5nIHBhcmFtZXRlcnMKICAgICAgICAgICAgICAgIGlm\nIChzZXRNZXRoID09IG51bGwpCiAgICAgICAgICAgICAgICAgICAgc2V0TWV0\naCA9IG1ldGhzW2ldOwogICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyYW1z\nLmxlbmd0aCA8IHNldE1ldGguZ2V0UGFyYW1ldGVyVHlwZXMoKS5sZW5ndGgp\nCiAgICAgICAgICAgICAgICAgICAgc2V0TWV0aCA9IG1ldGhzW2ldOwogICAg\nICAgICAgICAgICAgZWxzZSBpZiAocGFyYW1zLmxlbmd0aCA9PSBzZXRNZXRo\nLmdldFBhcmFtZXRlclR5cGVzKCkubGVuZ3RoCiAgICAgICAgICAgICAgICAg\nICAgJiYgcGFyYW1zWzBdID09IFN0cmluZy5jbGFzcykKICAgICAgICAgICAg\nICAgICAgICBzZXRNZXRoID0gbWV0aHNbaV07CiAgICAgICAgICAgIH0gZWxz\nZSBpZiAobWV0aHNbaV0uZ2V0TmFtZSgpLmVxdWFscyhnZXQpKQogICAgICAg\nICAgICAgICAgZ2V0TWV0aCA9IG1ldGhzW2ldOwogICAgICAgIH0KCiAgICAg\nICAgLy8gaWYgbm8gbWV0aG9kcyBmb3VuZCwgY2hlY2sgZm9yIHB1YmxpYyBm\naWVsZAogICAgICAgIE1lbWJlciBzZXR0ZXIgPSBzZXRNZXRoOwogICAgICAg\nIE1lbWJlciBnZXR0ZXIgPSBnZXRNZXRoOwogICAgICAgIGlmIChzZXR0ZXIg\nPT0gbnVsbCkgewogICAgICAgICAgICBGaWVsZFtdIGZpZWxkcyA9IHR5cGUu\nZ2V0RmllbGRzKCk7CiAgICAgICAgICAgIFN0cmluZyB1bmNhcEJhc2UgPSBT\ndHJpbmdVdGlscy51bmNhcGl0YWxpemUoZmluZFswXSk7CiAgICAgICAgICAg\nIGZvciAoaW50IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7CiAg\nICAgICAgICAgICAgICBpZiAoZmllbGRzW2ldLmdldE5hbWUoKS5lcXVhbHMo\nYmFzZSkKICAgICAgICAgICAgICAgICAgICB8fCBmaWVsZHNbaV0uZ2V0TmFt\nZSgpLmVxdWFscyh1bmNhcEJhc2UpKSB7CiAgICAgICAgICAgICAgICAgICAg\nc2V0dGVyID0gZmllbGRzW2ldOwogICAgICAgICAgICAgICAgICAgIGdldHRl\nciA9IGZpZWxkc1tpXTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAg\nICAgLy8gaWYgbm8gd2F5IHRvIGFjY2VzcyBwcm9wZXJ0eSwgZ2l2ZSB1cAog\nICAgICAgIGlmIChzZXR0ZXIgPT0gbnVsbCAmJiBnZXR0ZXIgPT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAvLyByZWN1cnNl\nIG9uIGlubmVyIG9iamVjdCB3aXRoIHJlbWFpbmRlciBvZiBrZXk/CiAgICAg\nICAgaWYgKGZpbmQubGVuZ3RoID4gMSkgewogICAgICAgICAgICBPYmplY3Qg\naW5uZXIgPSBudWxsOwogICAgICAgICAgICBpZiAoZ2V0dGVyICE9IG51bGwp\nCiAgICAgICAgICAgICAgICBpbm5lciA9IGludm9rZShtYXRjaFswXSwgZ2V0\ndGVyLCBudWxsKTsKCiAgICAgICAgICAgIC8vIGlmIG5vIGdldHRlciBvciBj\ndXJyZW50IGlubmVyIGlzIG51bGwsIHRyeSB0byBjcmVhdGUgYSBuZXcKICAg\nICAgICAgICAgLy8gaW5uZXIgaW5zdGFuY2UgYW5kIHNldCBpdCBpbiBvYmpl\nY3QKICAgICAgICAgICAgaWYgKGlubmVyID09IG51bGwgJiYgc2V0dGVyICE9\nIG51bGwpIHsKICAgICAgICAgICAgICAgIENsYXNzIGlubmVyVHlwZSA9IGdl\ndFR5cGUoc2V0dGVyKVswXTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAg\nICAgICAgICAgICAgICAgaW5uZXIgPSBBY2Nlc3NDb250cm9sbGVyLmRvUHJp\ndmlsZWdlZCgKICAgICAgICAgICAgICAgICAgICAgICAgSjJEb1ByaXZIZWxw\nZXIubmV3SW5zdGFuY2VBY3Rpb24oaW5uZXJUeXBlKSk7CiAgICAgICAgICAg\nICAgICB9IGNhdGNoIChQcml2aWxlZ2VkQWN0aW9uRXhjZXB0aW9uIHBhZSkg\newogICAgICAgICAgICAgICAgICAgIHRocm93IHBhZS5nZXRFeGNlcHRpb24o\nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGludm9rZSht\nYXRjaFswXSwgc2V0dGVyLCBuZXcgT2JqZWN0W117IGlubmVyIH0pOwogICAg\nICAgICAgICB9CiAgICAgICAgICAgIG1hdGNoWzBdID0gaW5uZXI7CiAgICAg\nICAgICAgIHJldHVybiBtYXRjaE9wdGlvblRvTWVtYmVyKGZpbmRbMV0sIG1h\ndGNoKTsKICAgICAgICB9CgogICAgICAgIC8vIGdvdCBtYXRjaDsgZmluZCBz\nZXR0ZXIgZm9yIHByb3BlcnR5CiAgICAgICAgbWF0Y2hbMV0gPSBzZXR0ZXI7\nCiAgICAgICAgcmV0dXJuIG1hdGNoWzFdICE9IG51bGw7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gdGhlIHR5cGVzIG9mIHRoZSBwYXJhbWV0ZXJz\nIG5lZWRlZCB0byBzZXQgdGhlIGdpdmVuIG1lbWJlci4KICAgICAqLwogICAg\ncHJpdmF0ZSBzdGF0aWMgQ2xhc3NbXSBnZXRUeXBlKE9iamVjdCBtZW1iZXIp\nIHsKICAgICAgICBpZiAobWVtYmVyIGluc3RhbmNlb2YgTWV0aG9kKQogICAg\nICAgICAgICByZXR1cm4gKChNZXRob2QpIG1lbWJlcikuZ2V0UGFyYW1ldGVy\nVHlwZXMoKTsKICAgICAgICByZXR1cm4gbmV3IENsYXNzW117ICgoRmllbGQp\nIG1lbWJlcikuZ2V0VHlwZSgpIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgdGhlIGdpdmVuIG1lbWJlciB0byB0aGUgZ2l2ZW4gdmFsdWUocykuCiAg\nICAgKi8KICAgIHByaXZhdGUgc3RhdGljIE9iamVjdCBpbnZva2UoT2JqZWN0\nIHRhcmdldCwgT2JqZWN0IG1lbWJlciwgT2JqZWN0W10gdmFsdWVzKQogICAg\nICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmIChtZW1iZXIgaW5z\ndGFuY2VvZiBNZXRob2QpCiAgICAgICAgICAgIHJldHVybiAoKE1ldGhvZCkg\nbWVtYmVyKS5pbnZva2UodGFyZ2V0LCB2YWx1ZXMpOwogICAgICAgIGlmICh2\nYWx1ZXMgPT0gbnVsbCB8fCB2YWx1ZXMubGVuZ3RoID09IDApCiAgICAgICAg\nICAgIHJldHVybiAoKEZpZWxkKSBtZW1iZXIpLmdldCh0YXJnZXQpOwogICAg\nICAgICgoRmllbGQpIG1lbWJlcikuc2V0KHRhcmdldCwgdmFsdWVzWzBdKTsK\nICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIENv\nbnZlcnRzIHRoZSBnaXZlbiBzdHJpbmcgaW50byBhbiBvYmplY3Qgb2YgdGhl\nIGdpdmVuIHR5cGUsIG9yIGl0cwogICAgICogd3JhcHBlciB0eXBlIGlmIGl0\nIGlzIHByaW1pdGl2ZS4KICAgICAqLwogICAgcHJpdmF0ZSBPYmplY3Qgc3Ry\naW5nVG9PYmplY3QoU3RyaW5nIHN0ciwgQ2xhc3MgdHlwZSkgdGhyb3dzIEV4\nY2VwdGlvbiB7CiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBudWxsIGFu\nZCBmb3Igc3RyaW5ncwogICAgICAgIGlmIChzdHIgPT0gbnVsbCB8fCB0eXBl\nID09IFN0cmluZy5jbGFzcykKICAgICAgICAgICAgcmV0dXJuIHN0cjsKCiAg\nICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBjcmVhdGluZyBDbGFzcyBpbnN0\nYW5jZXMKICAgICAgICBpZiAodHlwZSA9PSBDbGFzcy5jbGFzcykKICAgICAg\nICAgICAgcmV0dXJuIENsYXNzLmZvck5hbWUoc3RyLCBmYWxzZSwgZ2V0Q2xh\nc3MoKS5nZXRDbGFzc0xvYWRlcigpKTsKCiAgICAgICAgLy8gc3BlY2lhbCBj\nYXNlIGZvciBudW1lcmljIHR5cGVzIHRoYXQgZW5kIGluIC4wOyBzdHJpcCB0\naGUgZGVjaW1hbAogICAgICAgIC8vIHBsYWNlcyBiZWNhdXNlIGl0IGNhbiBr\naWxsIGludCwgc2hvcnQsIGxvbmcgcGFyc2luZwogICAgICAgIGlmICh0eXBl\nLmlzUHJpbWl0aXZlKCkgfHwgTnVtYmVyLmNsYXNzLmlzQXNzaWduYWJsZUZy\nb20odHlwZSkpCiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoKCkgPiAyICYm\nIHN0ci5lbmRzV2l0aCgiLjAiKSkKICAgICAgICAgICAgICAgIHN0ciA9IHN0\nci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCgpIC0gMik7CgogICAgICAgIC8v\nIGZvciBwcmltaXRpdmVzLCByZWN1cnNlIG9uIHdyYXBwZXIgdHlwZQogICAg\nICAgIGlmICh0eXBlLmlzUHJpbWl0aXZlKCkpCiAgICAgICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgX3ByaW1XcmFwcGVycy5sZW5ndGg7IGkrKykKICAg\nICAgICAgICAgICAgIGlmICh0eXBlID09IF9wcmltV3JhcHBlcnNbaV1bMF0p\nCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ1RvT2JqZWN0KHN0\nciwgKENsYXNzKSBfcHJpbVdyYXBwZXJzW2ldWzFdKTsKCiAgICAgICAgLy8g\nbG9vayBmb3IgYSBzdHJpbmcgY29uc3RydWN0b3IKICAgICAgICBFeGNlcHRp\nb24gZXJyID0gbnVsbDsKICAgICAgICB0cnkgewogICAgICAgICAgICBDb25z\ndHJ1Y3RvciBjb25zID0gdHlwZS5nZXRDb25zdHJ1Y3RvcgogICAgICAgICAg\nICAgICAgKG5ldyBDbGFzc1tdeyBTdHJpbmcuY2xhc3MgfSk7CiAgICAgICAg\nICAgIGlmICh0eXBlID09IEJvb2xlYW4uY2xhc3MgJiYgInQiLmVxdWFsc0ln\nbm9yZUNhc2Uoc3RyKSkKICAgICAgICAgICAgICAgIHN0ciA9ICJ0cnVlIjsK\nICAgICAgICAgICAgcmV0dXJuIGNvbnMubmV3SW5zdGFuY2UobmV3IE9iamVj\ndFtdeyBzdHIgfSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsK\nICAgICAgICAgICAgZXJyID0gZTsKICAgICAgICB9CgogICAgICAgIC8vIHNw\nZWNpYWwgY2FzZTogdGhlIGFyZyB2YWx1ZSBpcyBhIHN1YnR5cGUgbmFtZSBh\nbmQgYSBuZXcgaW5zdGFuY2UKICAgICAgICAvLyBvZiB0aGF0IHR5cGUgc2hv\ndWxkIGJlIHNldCBhcyB0aGUgb2JqZWN0CiAgICAgICAgQ2xhc3Mgc3ViVHlw\nZSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgc3ViVHlwZSA9\nIENsYXNzLmZvck5hbWUoc3RyKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRp\nb24gZSkgewogICAgICAgICAgICB0aHJvdyBlcnI7CiAgICAgICAgfQogICAg\nICAgIGlmICghdHlwZS5pc0Fzc2lnbmFibGVGcm9tKHN1YlR5cGUpKQogICAg\nICAgICAgICB0aHJvdyBlcnI7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\ncmV0dXJuIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAg\nICAgICAgICAgSjJEb1ByaXZIZWxwZXIubmV3SW5zdGFuY2VBY3Rpb24oc3Vi\nVHlwZSkpOwogICAgICAgIH0gY2F0Y2ggKFByaXZpbGVnZWRBY3Rpb25FeGNl\ncHRpb24gcGFlKSB7CiAgICAgICAgICAgIHRocm93IHBhZS5nZXRFeGNlcHRp\nb24oKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5z\nIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgZ2l2ZW4gcGFyYW1ldGVyIHR5\ncGUuCiAgICAgKi8KICAgIHByaXZhdGUgT2JqZWN0IGdldERlZmF1bHRWYWx1\nZShDbGFzcyB0eXBlKSB7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBf\ncHJpbVdyYXBwZXJzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICBpZiAoX3By\naW1XcmFwcGVyc1tpXVswXSA9PSB0eXBlKQogICAgICAgICAgICAgICAgcmV0\ndXJuIF9wcmltV3JhcHBlcnNbaV1bMl07CgogICAgICAgIHJldHVybiBudWxs\nOwogICAgfQoKICAgIC8qKgogICAgICogU3BlY2lhbGl6YXRpb24gb2Yge0Bs\naW5rICNnZXRCb29sZWFuUHJvcGVydHl9IHRvIGFsbG93CiAgICAgKiBhIHZh\nbHVlIHRvIGFwcGVhciB1bmRlciBlaXRoZXIgb2YgdHdvIGtleXM7IHVzZWZ1\nbCBmb3Igc2hvcnQgYW5kCiAgICAgKiBsb25nIHZlcnNpb25zIG9mIGNvbW1h\nbmQtbGluZSBmbGFncy4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0\nQm9vbGVhblByb3BlcnR5KFN0cmluZyBrZXksIFN0cmluZyBrZXkyLCBib29s\nZWFuIGRlZikgewogICAgICAgIFN0cmluZyB2YWwgPSBnZXRQcm9wZXJ0eShr\nZXkpOwogICAgICAgIGlmICh2YWwgPT0gbnVsbCkKICAgICAgICAgICAgdmFs\nID0gZ2V0UHJvcGVydHkoa2V5Mik7CiAgICAgICAgaWYgKHZhbCA9PSBudWxs\nKQogICAgICAgICAgICByZXR1cm4gZGVmOwogICAgICAgIHJldHVybiAidCIu\nZXF1YWxzSWdub3JlQ2FzZSh2YWwpIHx8ICJ0cnVlIi5lcXVhbHNJZ25vcmVD\nYXNlKHZhbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTcGVjaWFsaXphdGlv\nbiBvZiB7QGxpbmsgVHlwZWRQcm9wZXJ0aWVzI2dldEZsb2F0UHJvcGVydHl9\nIHRvIGFsbG93CiAgICAgKiBhIHZhbHVlIHRvIGFwcGVhciB1bmRlciBlaXRo\nZXIgb2YgdHdvIGtleXM7IHVzZWZ1bCBmb3Igc2hvcnQgYW5kCiAgICAgKiBs\nb25nIHZlcnNpb25zIG9mIGNvbW1hbmQtbGluZSBmbGFncy4KICAgICAqLwog\nICAgcHVibGljIGZsb2F0IGdldEZsb2F0UHJvcGVydHkoU3RyaW5nIGtleSwg\nU3RyaW5nIGtleTIsIGZsb2F0IGRlZikgewogICAgICAgIFN0cmluZyB2YWwg\nPSBnZXRQcm9wZXJ0eShrZXkpOwogICAgICAgIGlmICh2YWwgPT0gbnVsbCkK\nICAgICAgICAgICAgdmFsID0gZ2V0UHJvcGVydHkoa2V5Mik7CiAgICAgICAg\ncmV0dXJuICh2YWwgPT0gbnVsbCkgPyBkZWYgOiBGbG9hdC5wYXJzZUZsb2F0\nKHZhbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTcGVjaWFsaXphdGlvbiBv\nZiB7QGxpbmsgVHlwZWRQcm9wZXJ0aWVzI2dldERvdWJsZVByb3BlcnR5fSB0\nbyBhbGxvdwogICAgICogYSB2YWx1ZSB0byBhcHBlYXIgdW5kZXIgZWl0aGVy\nIG9mIHR3byBrZXlzOyB1c2VmdWwgZm9yIHNob3J0IGFuZAogICAgICogbG9u\nZyB2ZXJzaW9ucyBvZiBjb21tYW5kLWxpbmUgZmxhZ3MuCiAgICAgKi8KICAg\nIHB1YmxpYyBkb3VibGUgZ2V0RG91YmxlUHJvcGVydHkoU3RyaW5nIGtleSwg\nU3RyaW5nIGtleTIsIGRvdWJsZSBkZWYpIHsKICAgICAgICBTdHJpbmcgdmFs\nID0gZ2V0UHJvcGVydHkoa2V5KTsKICAgICAgICBpZiAodmFsID09IG51bGwp\nCiAgICAgICAgICAgIHZhbCA9IGdldFByb3BlcnR5KGtleTIpOwogICAgICAg\nIHJldHVybiAodmFsID09IG51bGwpID8gZGVmIDogRG91YmxlLnBhcnNlRG91\nYmxlKHZhbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTcGVjaWFsaXphdGlv\nbiBvZiB7QGxpbmsgVHlwZWRQcm9wZXJ0aWVzI2dldExvbmdQcm9wZXJ0eX0g\ndG8gYWxsb3cKICAgICAqIGEgdmFsdWUgdG8gYXBwZWFyIHVuZGVyIGVpdGhl\nciBvZiB0d28ga2V5czsgdXNlZnVsIGZvciBzaG9ydCBhbmQKICAgICAqIGxv\nbmcgdmVyc2lvbnMgb2YgY29tbWFuZC1saW5lIGZsYWdzLgogICAgICovCiAg\nICBwdWJsaWMgbG9uZyBnZXRMb25nUHJvcGVydHkoU3RyaW5nIGtleSwgU3Ry\naW5nIGtleTIsIGxvbmcgZGVmKSB7CiAgICAgICAgU3RyaW5nIHZhbCA9IGdl\ndFByb3BlcnR5KGtleSk7CiAgICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAg\nICAgICAgICB2YWwgPSBnZXRQcm9wZXJ0eShrZXkyKTsKICAgICAgICByZXR1\ncm4gKHZhbCA9PSBudWxsKSA/IGRlZiA6IExvbmcucGFyc2VMb25nKHZhbCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBTcGVjaWFsaXphdGlvbiBvZiB7QGxp\nbmsgVHlwZWRQcm9wZXJ0aWVzI2dldEludFByb3BlcnR5fSB0byBhbGxvdwog\nICAgICogYSB2YWx1ZSB0byBhcHBlYXIgdW5kZXIgZWl0aGVyIG9mIHR3byBr\nZXlzOyB1c2VmdWwgZm9yIHNob3J0IGFuZAogICAgICogbG9uZyB2ZXJzaW9u\ncyBvZiBjb21tYW5kLWxpbmUgZmxhZ3MuCiAgICAgKi8KICAgIHB1YmxpYyBp\nbnQgZ2V0SW50UHJvcGVydHkoU3RyaW5nIGtleSwgU3RyaW5nIGtleTIsIGlu\ndCBkZWYpIHsKICAgICAgICBTdHJpbmcgdmFsID0gZ2V0UHJvcGVydHkoa2V5\nKTsKICAgICAgICBpZiAodmFsID09IG51bGwpCiAgICAgICAgICAgIHZhbCA9\nIGdldFByb3BlcnR5KGtleTIpOwogICAgICAgIHJldHVybiAodmFsID09IG51\nbGwpID8gZGVmIDogSW50ZWdlci5wYXJzZUludCh2YWwpOwogICAgfQoKICAg\nIC8qKgogICAgICogU3BlY2lhbGl6YXRpb24gb2Yge0BsaW5rIFByb3BlcnRp\nZXMjZ2V0UHJvcGVydHl9IHRvIGFsbG93CiAgICAgKiBhIHZhbHVlIHRvIGFw\ncGVhciB1bmRlciBlaXRoZXIgb2YgdHdvIGtleXM7IHVzZWZ1bCBmb3Igc2hv\ncnQgYW5kCiAgICAgKiBsb25nIHZlcnNpb25zIG9mIGNvbW1hbmQtbGluZSBm\nbGFncy4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRQcm9wZXJ0eShT\ndHJpbmcga2V5LCBTdHJpbmcga2V5MiwgU3RyaW5nIGRlZikgewogICAgICAg\nIFN0cmluZyB2YWwgPSBnZXRQcm9wZXJ0eShrZXkpOwogICAgICAgIHJldHVy\nbiAodmFsID09IG51bGwpID8gZ2V0UHJvcGVydHkoa2V5MiwgZGVmKSA6IHZh\nbDsKICAgIH0KCiAgICAvKioKICAgICAqIFNwZWNpYWxpemF0aW9uIG9mIHtA\nbGluayBUeXBlZFByb3BlcnRpZXMjcmVtb3ZlQm9vbGVhblByb3BlcnR5fSB0\nbyBhbGxvdwogICAgICogYSB2YWx1ZSB0byBhcHBlYXIgdW5kZXIgZWl0aGVy\nIG9mIHR3byBrZXlzOyB1c2VmdWwgZm9yIHNob3J0IGFuZAogICAgICogbG9u\nZyB2ZXJzaW9ucyBvZiBjb21tYW5kLWxpbmUgZmxhZ3MuCiAgICAgKi8KICAg\nIHB1YmxpYyBib29sZWFuIHJlbW92ZUJvb2xlYW5Qcm9wZXJ0eShTdHJpbmcg\na2V5LCBTdHJpbmcga2V5MiwgYm9vbGVhbiBkZWYpIHsKICAgICAgICBTdHJp\nbmcgdmFsID0gcmVtb3ZlUHJvcGVydHkoa2V5KTsKICAgICAgICBpZiAodmFs\nID09IG51bGwpCiAgICAgICAgICAgIHZhbCA9IHJlbW92ZVByb3BlcnR5KGtl\neTIpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmVtb3ZlUHJvcGVydHko\na2V5Mik7CiAgICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAgICAgICBy\nZXR1cm4gZGVmOwogICAgICAgIHJldHVybiAidCIuZXF1YWxzSWdub3JlQ2Fz\nZSh2YWwpIHx8ICJ0cnVlIi5lcXVhbHNJZ25vcmVDYXNlKHZhbCk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBTcGVjaWFsaXphdGlvbiBvZiB7QGxpbmsgVHlw\nZWRQcm9wZXJ0aWVzI3JlbW92ZUZsb2F0UHJvcGVydHl9IHRvIGFsbG93CiAg\nICAgKiBhIHZhbHVlIHRvIGFwcGVhciB1bmRlciBlaXRoZXIgb2YgdHdvIGtl\neXM7IHVzZWZ1bCBmb3Igc2hvcnQgYW5kCiAgICAgKiBsb25nIHZlcnNpb25z\nIG9mIGNvbW1hbmQtbGluZSBmbGFncy4KICAgICAqLwogICAgcHVibGljIGZs\nb2F0IHJlbW92ZUZsb2F0UHJvcGVydHkoU3RyaW5nIGtleSwgU3RyaW5nIGtl\neTIsIGZsb2F0IGRlZikgewogICAgICAgIFN0cmluZyB2YWwgPSByZW1vdmVQ\ncm9wZXJ0eShrZXkpOwogICAgICAgIGlmICh2YWwgPT0gbnVsbCkKICAgICAg\nICAgICAgdmFsID0gcmVtb3ZlUHJvcGVydHkoa2V5Mik7CiAgICAgICAgZWxz\nZQogICAgICAgICAgICByZW1vdmVQcm9wZXJ0eShrZXkyKTsKICAgICAgICBy\nZXR1cm4gKHZhbCA9PSBudWxsKSA/IGRlZiA6IEZsb2F0LnBhcnNlRmxvYXQo\ndmFsKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNwZWNpYWxpemF0aW9uIG9m\nIHtAbGluayBUeXBlZFByb3BlcnRpZXMjcmVtb3ZlRG91YmxlUHJvcGVydHl9\nIHRvIGFsbG93CiAgICAgKiBhIHZhbHVlIHRvIGFwcGVhciB1bmRlciBlaXRo\nZXIgb2YgdHdvIGtleXM7IHVzZWZ1bCBmb3Igc2hvcnQgYW5kCiAgICAgKiBs\nb25nIHZlcnNpb25zIG9mIGNvbW1hbmQtbGluZSBmbGFncy4KICAgICAqLwog\nICAgcHVibGljIGRvdWJsZSByZW1vdmVEb3VibGVQcm9wZXJ0eShTdHJpbmcg\na2V5LCBTdHJpbmcga2V5MiwgZG91YmxlIGRlZikgewogICAgICAgIFN0cmlu\nZyB2YWwgPSByZW1vdmVQcm9wZXJ0eShrZXkpOwogICAgICAgIGlmICh2YWwg\nPT0gbnVsbCkKICAgICAgICAgICAgdmFsID0gcmVtb3ZlUHJvcGVydHkoa2V5\nMik7CiAgICAgICAgZWxzZQogICAgICAgICAgICByZW1vdmVQcm9wZXJ0eShr\nZXkyKTsKICAgICAgICByZXR1cm4gKHZhbCA9PSBudWxsKSA/IGRlZiA6IERv\ndWJsZS5wYXJzZURvdWJsZSh2YWwpOwogICAgfQoKICAgIC8qKgogICAgICog\nU3BlY2lhbGl6YXRpb24gb2Yge0BsaW5rIFR5cGVkUHJvcGVydGllcyNyZW1v\ndmVMb25nUHJvcGVydHl9IHRvIGFsbG93CiAgICAgKiBhIHZhbHVlIHRvIGFw\ncGVhciB1bmRlciBlaXRoZXIgb2YgdHdvIGtleXM7IHVzZWZ1bCBmb3Igc2hv\ncnQgYW5kCiAgICAgKiBsb25nIHZlcnNpb25zIG9mIGNvbW1hbmQtbGluZSBm\nbGFncy4KICAgICAqLwogICAgcHVibGljIGxvbmcgcmVtb3ZlTG9uZ1Byb3Bl\ncnR5KFN0cmluZyBrZXksIFN0cmluZyBrZXkyLCBsb25nIGRlZikgewogICAg\nICAgIFN0cmluZyB2YWwgPSByZW1vdmVQcm9wZXJ0eShrZXkpOwogICAgICAg\nIGlmICh2YWwgPT0gbnVsbCkKICAgICAgICAgICAgdmFsID0gcmVtb3ZlUHJv\ncGVydHkoa2V5Mik7CiAgICAgICAgZWxzZQogICAgICAgICAgICByZW1vdmVQ\ncm9wZXJ0eShrZXkyKTsKICAgICAgICByZXR1cm4gKHZhbCA9PSBudWxsKSA/\nIGRlZiA6IExvbmcucGFyc2VMb25nKHZhbCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBTcGVjaWFsaXphdGlvbiBvZiB7QGxpbmsgVHlwZWRQcm9wZXJ0aWVz\nI3JlbW92ZUludFByb3BlcnR5fSB0byBhbGxvdwogICAgICogYSB2YWx1ZSB0\nbyBhcHBlYXIgdW5kZXIgZWl0aGVyIG9mIHR3byBrZXlzOyB1c2VmdWwgZm9y\nIHNob3J0IGFuZAogICAgICogbG9uZyB2ZXJzaW9ucyBvZiBjb21tYW5kLWxp\nbmUgZmxhZ3MuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgcmVtb3ZlSW50UHJv\ncGVydHkoU3RyaW5nIGtleSwgU3RyaW5nIGtleTIsIGludCBkZWYpIHsKICAg\nICAgICBTdHJpbmcgdmFsID0gcmVtb3ZlUHJvcGVydHkoa2V5KTsKICAgICAg\nICBpZiAodmFsID09IG51bGwpCiAgICAgICAgICAgIHZhbCA9IHJlbW92ZVBy\nb3BlcnR5KGtleTIpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmVtb3Zl\nUHJvcGVydHkoa2V5Mik7CiAgICAgICAgcmV0dXJuICh2YWwgPT0gbnVsbCkg\nPyBkZWYgOiBJbnRlZ2VyLnBhcnNlSW50KHZhbCk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBTcGVjaWFsaXphdGlvbiBvZiB7QGxpbmsgUHJvcGVydGllcyNy\nZW1vdmVQcm9wZXJ0eX0gdG8gYWxsb3cKICAgICAqIGEgdmFsdWUgdG8gYXBw\nZWFyIHVuZGVyIGVpdGhlciBvZiB0d28ga2V5czsgdXNlZnVsIGZvciBzaG9y\ndCBhbmQKICAgICAqIGxvbmcgdmVyc2lvbnMgb2YgY29tbWFuZC1saW5lIGZs\nYWdzLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIHJlbW92ZVByb3BlcnR5\nKFN0cmluZyBrZXksIFN0cmluZyBrZXkyLCBTdHJpbmcgZGVmKSB7CiAgICAg\nICAgU3RyaW5nIHZhbCA9IHJlbW92ZVByb3BlcnR5KGtleSk7CiAgICAgICAg\ncmV0dXJuICh2YWwgPT0gbnVsbCkgPyByZW1vdmVQcm9wZXJ0eShrZXkyLCBk\nZWYpIDogdmFsOwogICAgfQoKICAgIC8qKgogICAgICogSW1tdXRhYmxlIGVt\ncHR5IG9wdGlvbnMuCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIGNsYXNz\nIEVtcHR5T3B0aW9ucyBleHRlbmRzIE9wdGlvbnMgewoKICAgICAgICBwdWJs\naWMgT2JqZWN0IHNldFByb3BlcnR5KFN0cmluZyBrZXksIFN0cmluZyB2YWx1\nZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBPYmpl\nY3QgcHV0KE9iamVjdCBrZXksIE9iamVjdCB2YWx1ZSkgewogICAgICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

