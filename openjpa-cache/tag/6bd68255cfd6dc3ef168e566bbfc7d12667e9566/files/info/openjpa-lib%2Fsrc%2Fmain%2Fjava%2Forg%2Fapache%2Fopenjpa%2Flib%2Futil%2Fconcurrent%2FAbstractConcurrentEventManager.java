{"sha":"9e807cb486cf26ab6dd7f4b3c095fa215af057fa","node_id":"MDQ6QmxvYjIwNjM2NDo5ZTgwN2NiNDg2Y2YyNmFiNmRkN2Y0YjNjMDk1ZmEyMTVhZjA1N2Zh","size":4182,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9e807cb486cf26ab6dd7f4b3c095fa215af057fa","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVu\ndDsKCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEu\ndXRpbC5Db2xsZWN0aW9uczsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsK\naW1wb3J0IGphdmEudXRpbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51dGls\nLkxpc3Q7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkV2\nZW50TWFuYWdlcjsKCi8qKgogKiBCYXNlIGV2ZW50IG1hbmFnZXIgdGhhdCBo\nYW5kbGVzIGFkZGluZy9yZW1vdmluZyBsaXN0ZW5lcnMKICogYW5kIGZpcmlu\nZyBldmVudHMuIE1lYW50IGZvciBoaWdoIGNvbmN1cnJlbmN5LiBUaGlzIGNs\nYXNzIGlzCiAqIHJlZW50cmFudC1zYWZlOyBsaXN0ZW5lcnMgY2FuIGJlIGFk\nZGVkIGFuZCByZW1vdmVkIGJ5IG90aGVyIGxpc3RlbmVycyB3aGVuIAogKiB0\naGV5IHJlY2VpdmUgZXZlbnRzLiBUaGUgY2hhbmdlcyB3aWxsIG5vdCBiZSB2\naXNpYmxlIHVudGlsIHRoZSBldmVudCBmaXJlCiAqIHRoYXQgaW5pdGlhdGVk\nIHRoZSByZWN1cnNpdmUgc2VxdWVuY2Ugb2YgY2FsbHMgY29tcGxldGVzLCBo\nb3dldmVyLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGFi\nc3RyYWN0IGNsYXNzIEFic3RyYWN0Q29uY3VycmVudEV2ZW50TWFuYWdlciBp\nbXBsZW1lbnRzIEV2ZW50TWFuYWdlciB7CgogICAgcHJpdmF0ZSBzdGF0aWMg\nRXhjZXB0aW9uW10gRU1QVFlfRVhDRVBUSU9OUyA9IG5ldyBFeGNlcHRpb25b\nMF07CgogICAgcHJvdGVjdGVkIGZpbmFsIENvbGxlY3Rpb24gX2xpc3RlbmVy\nczsKICAgIHByaXZhdGUgYm9vbGVhbiBfZmFpbEZhc3QgPSBmYWxzZTsKCiAg\nICAvKioKICAgICAqIERlZmF1bHQgY29uc3RydWN0b3IuCiAgICAgKi8KICAg\nIHB1YmxpYyBBYnN0cmFjdENvbmN1cnJlbnRFdmVudE1hbmFnZXIoKSB7CiAg\nICAgICAgX2xpc3RlbmVycyA9IG5ld0xpc3RlbmVyQ29sbGVjdGlvbigpOwog\nICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBmYWlsIGFmdGVyIHRo\nZSBmaXJzdCBleGNlcHRpb24gdGhyb3duIGJ5IGFueSBsaXN0ZW5lci4KICAg\nICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNGYWlsRmFzdCgpIHsKICAgICAg\nICByZXR1cm4gX2ZhaWxGYXN0OwogICAgfQoKICAgIC8qKgogICAgICogV2hl\ndGhlciB0byBmYWlsIGFmdGVyIHRoZSBmaXJzdCBleGNlcHRpb24gdGhyb3du\nIGJ5IGFueSBsaXN0ZW5lci4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nRmFpbEZhc3QoYm9vbGVhbiBmYWlsRmFzdCkgewogICAgICAgIF9mYWlsRmFz\ndCA9IGZhaWxGYXN0OwogICAgfQoKICAgIC8qKgogICAgICogUmVnaXN0ZXIg\nYW4gZXZlbnQgbGlzdGVuZXIuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIGFk\nZExpc3RlbmVyKE9iamVjdCBsaXN0ZW5lcikgewogICAgICAgIGlmIChsaXN0\nZW5lciAhPSBudWxsKQogICAgICAgICAgICBfbGlzdGVuZXJzLmFkZChsaXN0\nZW5lcik7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1vdmUgYW4gZXZlbnQg\nbGlzdGVuZXIuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIHJlbW92ZUxp\nc3RlbmVyKE9iamVjdCBsaXN0ZW5lcikgewogICAgICAgIHJldHVybiBfbGlz\ndGVuZXJzLnJlbW92ZShsaXN0ZW5lcik7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gd2hldGhlciB0aGUgZ2l2ZW4gaW5zdGFuY2UgaXMgaW4gdGhl\nIGxpc3Qgb2YgbGlzdGVuZXJzLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVh\nbiBoYXNMaXN0ZW5lcihPYmplY3QgbGlzdGVuZXIpIHsKICAgICAgICByZXR1\ncm4gX2xpc3RlbmVycy5jb250YWlucyhsaXN0ZW5lcik7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGVyZSBhcmUgYW55IHJlZ2lz\ndGVyZWQgbGlzdGVuZXJzLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBo\nYXNMaXN0ZW5lcnMoKSB7CiAgICAgICAgcmV0dXJuICFfbGlzdGVuZXJzLmlz\nRW1wdHkoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIHJlYWQt\nb25seSBsaXN0IG9mIGxpc3RlbmVycy4KICAgICAqLwogICAgcHVibGljIENv\nbGxlY3Rpb24gZ2V0TGlzdGVuZXJzKCkgewogICAgICAgIHJldHVybiBDb2xs\nZWN0aW9ucy51bm1vZGlmaWFibGVDb2xsZWN0aW9uKF9saXN0ZW5lcnMpOwog\nICAgfQoKICAgIC8qKgogICAgICogRmlyZSB0aGUgZ2l2ZW4gZXZlbnQgdG8g\nYWxsIGxpc3RlbmVycy4KICAgICAqLwogICAgcHVibGljIEV4Y2VwdGlvbltd\nIGZpcmVFdmVudChPYmplY3QgZXZlbnQpIHsKICAgICAgICBpZiAoX2xpc3Rl\nbmVycy5pc0VtcHR5KCkpCiAgICAgICAgICAgIHJldHVybiBFTVBUWV9FWENF\nUFRJT05TOwoKICAgICAgICBMaXN0IGV4Y2VwdGlvbnMgPSBudWxsOwogICAg\nICAgIGZvciAoSXRlcmF0b3IgaXRyID0gX2xpc3RlbmVycy5pdGVyYXRvcigp\nOyBpdHIuaGFzTmV4dCgpOykgewogICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgZmlyZUV2ZW50KGV2ZW50LCBpdHIubmV4dCgpKTsKICAgICAg\nICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAg\nIGlmIChfZmFpbEZhc3QpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5l\ndyBFeGNlcHRpb25bXSB7IGUgfTsKICAgICAgICAgICAgICAgIGlmIChleGNl\ncHRpb25zID09IG51bGwpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0aW9u\ncyA9IG5ldyBMaW5rZWRMaXN0KCk7CiAgICAgICAgICAgICAgICBleGNlcHRp\nb25zLmFkZChlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAg\naWYgKGV4Y2VwdGlvbnMgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIEVN\nUFRZX0VYQ0VQVElPTlM7CiAgICAgICAgcmV0dXJuIChFeGNlcHRpb25bXSkg\nZXhjZXB0aW9ucy50b0FycmF5CiAgICAgICAgICAgIChuZXcgRXhjZXB0aW9u\nW2V4Y2VwdGlvbnMuc2l6ZSgpXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJ\nbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gZmlyZSB0aGUgZ2l2ZW4gZXZlbnQg\ndG8gdGhlIGdpdmVuIGxpc3RlbmVyLgogICAgICovCiAgICBwcm90ZWN0ZWQg\nYWJzdHJhY3Qgdm9pZCBmaXJlRXZlbnQoT2JqZWN0IGV2ZW50LCBPYmplY3Qg\nbGlzdGVuZXIpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbjsKCiAgICAvKioK\nICAgICAqIFJldHVybiBhIG5ldyBjb25jdXJyZW50IGNvbnRhaW5lciBmb3Ig\nbGlzdGVuZXJzLiBVc2VzIGEgCiAgICAgKiB7QGxpbmsgQ29weU9uV3JpdGVB\ncnJheUxpc3R9IGJ5IGRlZmF1bHQuCiAgICAgKi8KICAgIHByb3RlY3RlZCBD\nb2xsZWN0aW9uIG5ld0xpc3RlbmVyQ29sbGVjdGlvbigpIHsKICAgICAgICBy\nZXR1cm4gbmV3IENvcHlPbldyaXRlQXJyYXlMaXN0KCk7CiAgICB9Cn0K\n","encoding":"base64"}

