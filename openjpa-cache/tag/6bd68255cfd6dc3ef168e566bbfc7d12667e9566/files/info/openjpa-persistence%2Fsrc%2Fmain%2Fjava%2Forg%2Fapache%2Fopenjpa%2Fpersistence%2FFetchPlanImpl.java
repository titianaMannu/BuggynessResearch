{"sha":"339ddc12855e25613bc86e220efaca85c9da9ba7","node_id":"MDQ6QmxvYjIwNjM2NDozMzlkZGMxMjg1NWUyNTYxM2JjODZlMjIwZWZhY2E4NWM5ZGE5YmE3","size":7031,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/339ddc12855e25613bc86e220efaca85c9da9ba7","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2U7CgppbXBv\ncnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5BcnJh\neXM7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEu\ndXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkxvY2tN\nb2RlVHlwZTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkRl\nbGVnYXRpbmdGZXRjaENvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEua2VybmVsLkZldGNoQ29uZmlndXJhdGlvbjsKCi8qKgogKiBJ\nbXBsZW1lbnRzIEZldGNoUGxhbiB2aWEgZGVsZWdhdGlvbiB0byBGZXRjaENv\nbmZpZ3VyYXRpb24uCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBhdXRo\nb3IgUGluYWtpIFBvZGRhcgogKiBAc2luY2UgMC40LjEKICogQG5vamF2YWRv\nYwogKi8KcHVibGljIGNsYXNzIEZldGNoUGxhbkltcGwKCWltcGxlbWVudHMg\nRmV0Y2hQbGFuIHsKCiAgICBwcml2YXRlIGZpbmFsIERlbGVnYXRpbmdGZXRj\naENvbmZpZ3VyYXRpb24gX2ZldGNoOwoKICAgIAogICAgLyoqCiAgICAgKiBD\nb25zdHJ1Y3Rvcjsgc3VwcGx5IGRlbGVnYXRlLgogICAgICovCiAgICBwdWJs\naWMgRmV0Y2hQbGFuSW1wbChGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpIHsK\nICAgICAgICBfZmV0Y2ggPSBuZXdEZWxlZ2F0aW5nRmV0Y2hDb25maWd1cmF0\naW9uKGZldGNoKTsKICAgIH0KCiAgICAvKioKICAgICAqIENyZWF0ZSBhIG5l\ndyBleGNlcHRpb24tdHJhbnNsYXRpbmcgZGVsZWdhdGluZyBmZXRjaCBjb25m\naWd1cmF0aW9uLgogICAgICovCiAgICBwcm90ZWN0ZWQgRGVsZWdhdGluZ0Zl\ndGNoQ29uZmlndXJhdGlvbiBuZXdEZWxlZ2F0aW5nRmV0Y2hDb25maWd1cmF0\naW9uCiAgICAgICAgKEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCkgewogICAg\nICAgIHJldHVybiBuZXcgRGVsZWdhdGluZ0ZldGNoQ29uZmlndXJhdGlvbihm\nZXRjaCwKICAgICAgICAgICAgUGVyc2lzdGVuY2VFeGNlcHRpb25zLlRSQU5T\nTEFUT1IpOwogICAgfQoKICAgIC8qKgogICAgICogRGVsZWdhdGUuCiAgICAg\nKi8KICAgIHB1YmxpYyBGZXRjaENvbmZpZ3VyYXRpb24gZ2V0RGVsZWdhdGUo\nKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaC5nZXREZWxlZ2F0ZSgpOwogICAg\nfQoKICAgIHB1YmxpYyBpbnQgZ2V0TWF4RmV0Y2hEZXB0aCgpIHsKICAgICAg\nICByZXR1cm4gX2ZldGNoLmdldE1heEZldGNoRGVwdGgoKTsKICAgIH0KCiAg\nICBwdWJsaWMgRmV0Y2hQbGFuIHNldE1heEZldGNoRGVwdGgoaW50IGRlcHRo\nKSB7CiAgICAgICAgX2ZldGNoLnNldE1heEZldGNoRGVwdGgoZGVwdGgpOwog\nICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0\nRmV0Y2hCYXRjaFNpemUoKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaC5nZXRG\nZXRjaEJhdGNoU2l6ZSgpOwogICAgfQoKICAgIHB1YmxpYyBGZXRjaFBsYW4g\nc2V0RmV0Y2hCYXRjaFNpemUoaW50IGZldGNoQmF0Y2hTaXplKSB7CiAgICAg\nICAgX2ZldGNoLnNldEZldGNoQmF0Y2hTaXplKGZldGNoQmF0Y2hTaXplKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiBnZXRRdWVyeVJlc3VsdENhY2hlRW5hYmxlZCgpIHsKICAgICAgICByZXR1\ncm4gX2ZldGNoLmdldFF1ZXJ5Q2FjaGVFbmFibGVkKCk7CiAgICB9CgogICAg\ncHVibGljIEZldGNoUGxhbiBzZXRRdWVyeVJlc3VsdENhY2hlRW5hYmxlZChi\nb29sZWFuIGNhY2hlKSB7CiAgICAgICAgX2ZldGNoLnNldFF1ZXJ5Q2FjaGVF\nbmFibGVkKGNhY2hlKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAg\nICBwdWJsaWMgQ29sbGVjdGlvbjxTdHJpbmc+IGdldEZldGNoR3JvdXBzKCkg\newogICAgICAgIHJldHVybiBfZmV0Y2guZ2V0RmV0Y2hHcm91cHMoKTsKICAg\nIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIGFkZEZldGNoR3JvdXAoU3RyaW5n\nIGdyb3VwKSB7CiAgICAgICAgX2ZldGNoLmFkZEZldGNoR3JvdXAoZ3JvdXAp\nOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHB1YmxpYyBGZXRj\naFBsYW4gYWRkRmV0Y2hHcm91cHMoU3RyaW5nLi4uIGdyb3VwcykgewogICAg\nICAgIHJldHVybiBhZGRGZXRjaEdyb3VwcyhBcnJheXMuYXNMaXN0KGdyb3Vw\ncykpOwogICAgfQoKICAgIHB1YmxpYyBGZXRjaFBsYW4gYWRkRmV0Y2hHcm91\ncHMoQ29sbGVjdGlvbiBncm91cHMpIHsKICAgICAgICBfZmV0Y2guYWRkRmV0\nY2hHcm91cHMoZ3JvdXBzKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0K\nCiAgICBwdWJsaWMgRmV0Y2hQbGFuIHJlbW92ZUZldGNoR3JvdXAoU3RyaW5n\nIGdyb3VwKSB7CiAgICAgICAgX2ZldGNoLnJlbW92ZUZldGNoR3JvdXAoZ3Jv\ndXApOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHB1YmxpYyBG\nZXRjaFBsYW4gcmVtb3ZlRmV0Y2hHcm91cHMoU3RyaW5nLi4uIGdyb3Vwcykg\newogICAgICAgIHJldHVybiByZW1vdmVGZXRjaEdyb3VwcyhBcnJheXMuYXNM\naXN0KGdyb3VwcykpOwogICAgfQoKICAgIHB1YmxpYyBGZXRjaFBsYW4gcmVt\nb3ZlRmV0Y2hHcm91cHMoQ29sbGVjdGlvbiBncm91cHMpIHsKICAgICAgICBf\nZmV0Y2gucmVtb3ZlRmV0Y2hHcm91cHMoZ3JvdXBzKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIGNsZWFyRmV0\nY2hHcm91cHMoKSB7CiAgICAgICAgX2ZldGNoLmNsZWFyRmV0Y2hHcm91cHMo\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgRmV0\nY2hQbGFuIHJlc2V0RmV0Y2hHcm91cHMoKSB7CiAgICAgICAgX2ZldGNoLnJl\nc2V0RmV0Y2hHcm91cHMoKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0K\nCiAgICBwdWJsaWMgQ29sbGVjdGlvbjxTdHJpbmc+IGdldEZpZWxkcygpIHsK\nICAgICAgICByZXR1cm4gKENvbGxlY3Rpb248U3RyaW5nPikgX2ZldGNoLmdl\ndEZpZWxkcygpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGhhc0ZpZWxk\nKFN0cmluZyBmaWVsZCkgewogICAgICAgIHJldHVybiBfZmV0Y2guaGFzRmll\nbGQoZmllbGQpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGhhc0ZpZWxk\nKENsYXNzIGNscywgU3RyaW5nIGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIGhh\nc0ZpZWxkKHRvRmllbGROYW1lKGNscywgZmllbGQpKTsKICAgIH0KCiAgICBw\ndWJsaWMgRmV0Y2hQbGFuIGFkZEZpZWxkKFN0cmluZyBmaWVsZCkgewogICAg\nICAgIF9mZXRjaC5hZGRGaWVsZChmaWVsZCk7CiAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICB9CgogICAgcHVibGljIEZldGNoUGxhbiBhZGRGaWVsZChDbGFz\ncyBjbHMsIFN0cmluZyBmaWVsZCkgewogICAgICAgIHJldHVybiBhZGRGaWVs\nZCh0b0ZpZWxkTmFtZShjbHMsIGZpZWxkKSk7CiAgICB9CgogICAgcHVibGlj\nIEZldGNoUGxhbiBhZGRGaWVsZHMoU3RyaW5nLi4uIGZpZWxkcykgewogICAg\nICAgIHJldHVybiBhZGRGaWVsZHMoQXJyYXlzLmFzTGlzdChmaWVsZHMpKTsK\nICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIGFkZEZpZWxkcyhDbGFzcyBj\nbHMsIFN0cmluZy4uLiBmaWVsZHMpIHsKICAgICAgICByZXR1cm4gYWRkRmll\nbGRzKGNscywgQXJyYXlzLmFzTGlzdChmaWVsZHMpKTsKICAgIH0KCiAgICBw\ndWJsaWMgRmV0Y2hQbGFuIGFkZEZpZWxkcyhDb2xsZWN0aW9uIGZpZWxkcykg\newogICAgICAgIF9mZXRjaC5hZGRGaWVsZHMoZmllbGRzKTsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIGFkZEZp\nZWxkcyhDbGFzcyBjbHMsIENvbGxlY3Rpb24gZmllbGRzKSB7CiAgICAgICAg\ncmV0dXJuIGFkZEZpZWxkcyh0b0ZpZWxkTmFtZXMoY2xzLCBmaWVsZHMpKTsK\nICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIHJlbW92ZUZpZWxkKFN0cmlu\nZyBmaWVsZCkgewogICAgICAgIF9mZXRjaC5yZW1vdmVGaWVsZChmaWVsZCk7\nCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgcHVibGljIEZldGNo\nUGxhbiByZW1vdmVGaWVsZChDbGFzcyBjbHMsIFN0cmluZyBmaWVsZCkgewog\nICAgICAgIHJldHVybiByZW1vdmVGaWVsZCh0b0ZpZWxkTmFtZShjbHMsIGZp\nZWxkKSk7CiAgICB9CgogICAgcHVibGljIEZldGNoUGxhbiByZW1vdmVGaWVs\nZHMoU3RyaW5nLi4uIGZpZWxkcykgewogICAgICAgIHJldHVybiByZW1vdmVG\naWVsZHMoQXJyYXlzLmFzTGlzdChmaWVsZHMpKTsKICAgIH0KCiAgICBwdWJs\naWMgRmV0Y2hQbGFuIHJlbW92ZUZpZWxkcyhDbGFzcyBjbHMsIFN0cmluZy4u\nLiBmaWVsZHMpIHsKICAgICAgICByZXR1cm4gcmVtb3ZlRmllbGRzKGNscywg\nQXJyYXlzLmFzTGlzdChmaWVsZHMpKTsKICAgIH0KCiAgICBwdWJsaWMgRmV0\nY2hQbGFuIHJlbW92ZUZpZWxkcyhDb2xsZWN0aW9uIGZpZWxkcykgewogICAg\nICAgIF9mZXRjaC5yZW1vdmVGaWVsZHMoZmllbGRzKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIHJlbW92ZUZp\nZWxkcyhDbGFzcyBjbHMsIENvbGxlY3Rpb24gZmllbGRzKSB7CiAgICAgICAg\ncmV0dXJuIHJlbW92ZUZpZWxkcyh0b0ZpZWxkTmFtZXMoY2xzLCBmaWVsZHMp\nKTsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQbGFuIGNsZWFyRmllbGRzKCkg\newogICAgICAgIF9mZXRjaC5jbGVhckZpZWxkcygpOwogICAgICAgIHJldHVy\nbiB0aGlzOwogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyB0b0Zp\nZWxkTmFtZShDbGFzcyBjbHMsIFN0cmluZyBmaWVsZCkgewogICAgICAgIHJl\ndHVybiBjbHMuZ2V0TmFtZSgpICsgIi4iICsgZmllbGQ7CiAgICB9CgogICAg\ncHJpdmF0ZSBzdGF0aWMgQ29sbGVjdGlvbiB0b0ZpZWxkTmFtZXMoQ2xhc3Mg\nY2xzLCBDb2xsZWN0aW9uIGZpZWxkcykgewogICAgICAgIGlmIChmaWVsZHMu\naXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gZmllbGRzOwogICAgICAg\nIENvbGxlY3Rpb24gbmFtZXMgPSBuZXcgQXJyYXlMaXN0KGZpZWxkcyk7CiAg\nICAgICAgZm9yIChJdGVyYXRvciBpdHIgPSBmaWVsZHMuaXRlcmF0b3IoKTsg\naXRyLmhhc05leHQoKTspCiAgICAgICAgICAgIG5hbWVzLmFkZCh0b0ZpZWxk\nTmFtZShjbHMsIChTdHJpbmcpIGl0ci5uZXh0KCkpKTsKICAgICAgICByZXR1\ncm4gbmFtZXM7CiAgICB9CgogICAgcHVibGljIGludCBnZXRMb2NrVGltZW91\ndCgpIHsKICAgICAgICByZXR1cm4gX2ZldGNoLmdldExvY2tUaW1lb3V0KCk7\nCiAgICB9CgogICAgcHVibGljIEZldGNoUGxhbiBzZXRMb2NrVGltZW91dChp\nbnQgdGltZW91dCkgewogICAgICAgIF9mZXRjaC5zZXRMb2NrVGltZW91dCh0\naW1lb3V0KTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJs\naWMgTG9ja01vZGVUeXBlIGdldFJlYWRMb2NrTW9kZSgpIHsKICAgICAgICBy\nZXR1cm4gRW50aXR5TWFuYWdlckltcGwuZnJvbUxvY2tMZXZlbChfZmV0Y2gu\nZ2V0UmVhZExvY2tMZXZlbCgpKTsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hQ\nbGFuIHNldFJlYWRMb2NrTW9kZShMb2NrTW9kZVR5cGUgbW9kZSkgewogICAg\nICAgIF9mZXRjaC5zZXRSZWFkTG9ja0xldmVsKEVudGl0eU1hbmFnZXJJbXBs\nLnRvTG9ja0xldmVsKG1vZGUpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAg\nIH0KCiAgICBwdWJsaWMgTG9ja01vZGVUeXBlIGdldFdyaXRlTG9ja01vZGUo\nKSB7CiAgICAgICAgcmV0dXJuIEVudGl0eU1hbmFnZXJJbXBsLmZyb21Mb2Nr\nTGV2ZWwoX2ZldGNoLmdldFdyaXRlTG9ja0xldmVsKCkpOwogICAgfQoKICAg\nIHB1YmxpYyBGZXRjaFBsYW4gc2V0V3JpdGVMb2NrTW9kZShMb2NrTW9kZVR5\ncGUgbW9kZSkgewogICAgICAgIF9mZXRjaC5zZXRXcml0ZUxvY2tMZXZlbChF\nbnRpdHlNYW5hZ2VySW1wbC50b0xvY2tMZXZlbChtb2RlKSk7CiAgICAgICAg\ncmV0dXJuIHRoaXM7CiAgICB9CgogICAgcHVibGljIGludCBoYXNoQ29kZSgp\nIHsKICAgICAgICByZXR1cm4gX2ZldGNoLmhhc2hDb2RlKCk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvdGhlcikgewogICAg\nICAgIGlmIChvdGhlciA9PSB0aGlzKQogICAgICAgICAgICByZXR1cm4gdHJ1\nZTsKICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIEZldGNoUGxhbklt\ncGwpKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJu\nIF9mZXRjaC5lcXVhbHMoKChGZXRjaFBsYW5JbXBsKSBvdGhlcikuX2ZldGNo\nKTsKICAgIH0KfQo=\n","encoding":"base64"}

