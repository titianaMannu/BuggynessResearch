{"sha":"e8448f4d22a77fb9b80f19fcb190200b34013d92","node_id":"MDQ6QmxvYjIwNjM2NDplODQ0OGY0ZDIyYTc3ZmI5YjgwZjE5ZmNiMTkwMjAwYjM0MDEzZDky","size":7756,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e8448f4d22a77fb9b80f19fcb190200b34013d92","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLkxvY2tNb2RlVHlwZTsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5rZXJuZWwuRGVsZWdhdGluZ0pEQkNGZXRjaENvbmZpZ3Vy\nYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwu\nSkRCQ0ZldGNoQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5rZXJuZWwuRGVsZWdhdGluZ0ZldGNoQ29uZmlndXJhdGlvbjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuRmV0Y2hDb25maWd1cmF0\naW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLkZl\ndGNoUGxhbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuUGVyc2lzdGVuY2VFeGNlcHRpb25zOwoKLyoqCiAqIEpEQkMgZXh0\nZW5zaW9ucyB0byB0aGUgZmV0Y2ggcGxhbi4KICoKICogQHNpbmNlIDAuNC4w\nCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MKICovCnB1Ymxp\nYyBjbGFzcyBKREJDRmV0Y2hQbGFuSW1wbAogICAgZXh0ZW5kcyBGZXRjaFBs\nYW5JbXBsCiAgICBpbXBsZW1lbnRzIEpEQkNGZXRjaFBsYW4gewoKICAgIHBy\naXZhdGUgRGVsZWdhdGluZ0pEQkNGZXRjaENvbmZpZ3VyYXRpb24gX2ZldGNo\nOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBkZWxlZ2F0\nZS4KICAgICAqLwogICAgcHVibGljIEpEQkNGZXRjaFBsYW5JbXBsKEZldGNo\nQ29uZmlndXJhdGlvbiBmZXRjaCkgewogICAgICAgIHN1cGVyKGZldGNoKTsK\nICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCBEZWxlZ2F0aW5n\nRmV0Y2hDb25maWd1cmF0aW9uIG5ld0RlbGVnYXRpbmdGZXRjaENvbmZpZ3Vy\nYXRpb24oCiAgICAgICAgRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoKSB7CiAg\nICAgICAgX2ZldGNoID0gbmV3IERlbGVnYXRpbmdKREJDRmV0Y2hDb25maWd1\ncmF0aW9uKChKREJDRmV0Y2hDb25maWd1cmF0aW9uKQogICAgICAgICAgICBm\nZXRjaCwgUGVyc2lzdGVuY2VFeGNlcHRpb25zLlRSQU5TTEFUT1IpOwogICAg\nICAgIHJldHVybiBfZmV0Y2g7CiAgICB9CgogICAgcHVibGljIEZldGNoTW9k\nZSBnZXRFYWdlckZldGNoTW9kZSgpIHsKICAgICAgICByZXR1cm4gRmV0Y2hN\nb2RlLmZyb21LZXJuZWxDb25zdGFudChfZmV0Y2guZ2V0RWFnZXJGZXRjaE1v\nZGUoKSk7CiAgICB9CgogICAgcHVibGljIEpEQkNGZXRjaFBsYW5JbXBsIHNl\ndEVhZ2VyRmV0Y2hNb2RlKEZldGNoTW9kZSBtb2RlKSB7CiAgICAgICAgX2Zl\ndGNoLnNldEVhZ2VyRmV0Y2hNb2RlKG1vZGUudG9LZXJuZWxDb25zdGFudCgp\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgRmV0\nY2hNb2RlIGdldFN1YmNsYXNzRmV0Y2hNb2RlKCkgewogICAgICAgIHJldHVy\nbiBGZXRjaE1vZGUuZnJvbUtlcm5lbENvbnN0YW50KF9mZXRjaC5nZXRTdWJj\nbGFzc0ZldGNoTW9kZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgSkRCQ0ZldGNo\nUGxhbkltcGwgc2V0U3ViY2xhc3NGZXRjaE1vZGUoRmV0Y2hNb2RlIG1vZGUp\nIHsKICAgICAgICBfZmV0Y2guc2V0U3ViY2xhc3NGZXRjaE1vZGUobW9kZS50\nb0tlcm5lbENvbnN0YW50KCkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAg\nfQoKICAgIHB1YmxpYyBSZXN1bHRTZXRUeXBlIGdldFJlc3VsdFNldFR5cGUo\nKSB7CiAgICAgICAgcmV0dXJuIFJlc3VsdFNldFR5cGUuZnJvbUtlcm5lbENv\nbnN0YW50KF9mZXRjaC5nZXRSZXN1bHRTZXRUeXBlKCkpOwogICAgfQoKICAg\nIHB1YmxpYyBKREJDRmV0Y2hQbGFuSW1wbCBzZXRSZXN1bHRTZXRUeXBlKFJl\nc3VsdFNldFR5cGUgdHlwZSkgewogICAgICAgIF9mZXRjaC5zZXRSZXN1bHRT\nZXRUeXBlKHR5cGUudG9LZXJuZWxDb25zdGFudCgpKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgRmV0Y2hEaXJlY3Rpb24gZ2V0\nRmV0Y2hEaXJlY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIEZldGNoRGlyZWN0\naW9uLmZyb21LZXJuZWxDb25zdGFudChfZmV0Y2guZ2V0RmV0Y2hEaXJlY3Rp\nb24oKSk7CiAgICB9CgogICAgcHVibGljIEpEQkNGZXRjaFBsYW5JbXBsIHNl\ndEZldGNoRGlyZWN0aW9uKEZldGNoRGlyZWN0aW9uIGRpcmVjdGlvbikgewog\nICAgICAgIF9mZXRjaC5zZXRGZXRjaERpcmVjdGlvbihkaXJlY3Rpb24udG9L\nZXJuZWxDb25zdGFudCgpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0K\nCiAgICBwdWJsaWMgTFJTU2l6ZUFsZ29yaXRobSBnZXRMUlNTaXplQWxnb3Jp\ndGhtKCkgewogICAgICAgIHJldHVybiBMUlNTaXplQWxnb3JpdGhtLmZyb21L\nZXJuZWxDb25zdGFudChfZmV0Y2guZ2V0TFJTU2l6ZSgpKTsKICAgIH0KCiAg\nICBwdWJsaWMgSkRCQ0ZldGNoUGxhbkltcGwgc2V0TFJTU2l6ZUFsZ29yaXRo\nbShMUlNTaXplQWxnb3JpdGhtIGxyc1NpemVBbGdvcml0aG0pIHsKICAgICAg\nICBfZmV0Y2guc2V0TFJTU2l6ZShscnNTaXplQWxnb3JpdGhtLnRvS2VybmVs\nQ29uc3RhbnQoKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\ncHVibGljIEpvaW5TeW50YXggZ2V0Sm9pblN5bnRheCgpIHsKICAgICAgICBy\nZXR1cm4gSm9pblN5bnRheC5mcm9tS2VybmVsQ29uc3RhbnQoX2ZldGNoLmdl\ndEpvaW5TeW50YXgoKSk7CiAgICB9CgogICAgcHVibGljIEpEQkNGZXRjaFBs\nYW5JbXBsIHNldEpvaW5TeW50YXgoSm9pblN5bnRheCBzeW50YXgpIHsKICAg\nICAgICBfZmV0Y2guc2V0Sm9pblN5bnRheChzeW50YXgudG9LZXJuZWxDb25z\ndGFudCgpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJs\naWMgSXNvbGF0aW9uTGV2ZWwgZ2V0SXNvbGF0aW9uKCkgewogICAgICAgIHJl\ndHVybiBJc29sYXRpb25MZXZlbC5mcm9tQ29ubmVjdGlvbkNvbnN0YW50KF9m\nZXRjaC5nZXRJc29sYXRpb24oKSk7CiAgICB9CgogICAgcHVibGljIEpEQkNG\nZXRjaFBsYW4gc2V0SXNvbGF0aW9uKElzb2xhdGlvbkxldmVsIGxldmVsKSB7\nCiAgICAgICAgX2ZldGNoLnNldElzb2xhdGlvbihsZXZlbC5nZXRDb25uZWN0\naW9uQ29uc3RhbnQoKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cgog\nICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgSkRCQ0ZldGNoUGxhbiBhZGRGZXRj\naEdyb3VwKFN0cmluZyBncm91cCkgewogICAgICAgIHJldHVybiAoSkRCQ0Zl\ndGNoUGxhbikgc3VwZXIuYWRkRmV0Y2hHcm91cChncm91cCk7CiAgICB9Cgog\nICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgSkRCQ0ZldGNoUGxhbiBhZGRGZXRj\naEdyb3VwcyhDb2xsZWN0aW9uIGdyb3VwcykgewogICAgICAgIHJldHVybiAo\nSkRCQ0ZldGNoUGxhbikgc3VwZXIuYWRkRmV0Y2hHcm91cHMoZ3JvdXBzKTsK\nICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBKREJDRmV0Y2hQbGFu\nIGFkZEZldGNoR3JvdXBzKFN0cmluZy4uLiBncm91cHMpIHsKICAgICAgICBy\nZXR1cm4gKEpEQkNGZXRjaFBsYW4pIHN1cGVyLmFkZEZldGNoR3JvdXBzKGdy\nb3Vwcyk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgSkRCQ0Zl\ndGNoUGxhbiBhZGRGaWVsZChDbGFzcyBjbHMsIFN0cmluZyBmaWVsZCkgewog\nICAgICAgIHJldHVybiAoSkRCQ0ZldGNoUGxhbikgc3VwZXIuYWRkRmllbGQo\nY2xzLCBmaWVsZCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMg\nSkRCQ0ZldGNoUGxhbiBhZGRGaWVsZChTdHJpbmcgZmllbGQpIHsKICAgICAg\nICByZXR1cm4gKEpEQkNGZXRjaFBsYW4pIHN1cGVyLmFkZEZpZWxkKGZpZWxk\nKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBKREJDRmV0Y2hQ\nbGFuIGFkZEZpZWxkcyhDbGFzcyBjbHMsIENvbGxlY3Rpb24gZmllbGRzKSB7\nCiAgICAgICAgcmV0dXJuIChKREJDRmV0Y2hQbGFuKSBzdXBlci5hZGRGaWVs\nZHMoY2xzLCBmaWVsZHMpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVi\nbGljIEpEQkNGZXRjaFBsYW4gYWRkRmllbGRzKENsYXNzIGNscywgU3RyaW5n\nLi4uIGZpZWxkcykgewogICAgICAgIHJldHVybiAoSkRCQ0ZldGNoUGxhbikg\nc3VwZXIuYWRkRmllbGRzKGNscywgZmllbGRzKTsKICAgIH0KCiAgICBAT3Zl\ncnJpZGUKICAgIHB1YmxpYyBKREJDRmV0Y2hQbGFuIGFkZEZpZWxkcyhDb2xs\nZWN0aW9uIGZpZWxkcykgewogICAgICAgIHJldHVybiAoSkRCQ0ZldGNoUGxh\nbikgc3VwZXIuYWRkRmllbGRzKGZpZWxkcyk7CiAgICB9CgogICAgQE92ZXJy\naWRlCiAgICBwdWJsaWMgSkRCQ0ZldGNoUGxhbiBhZGRGaWVsZHMoU3RyaW5n\nLi4uIGZpZWxkcykgewogICAgICAgIHJldHVybiAoSkRCQ0ZldGNoUGxhbikg\nc3VwZXIuYWRkRmllbGRzKGZpZWxkcyk7CiAgICB9CgogICAgQE92ZXJyaWRl\nCiAgICBwdWJsaWMgSkRCQ0ZldGNoUGxhbiBjbGVhckZldGNoR3JvdXBzKCkg\newogICAgICAgIHJldHVybiAoSkRCQ0ZldGNoUGxhbikgc3VwZXIuY2xlYXJG\nZXRjaEdyb3VwcygpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGlj\nIEpEQkNGZXRjaFBsYW4gY2xlYXJGaWVsZHMoKSB7CiAgICAgICAgcmV0dXJu\nIChKREJDRmV0Y2hQbGFuKSBzdXBlci5jbGVhckZpZWxkcygpOwogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4gcmVtb3Zl\nRmV0Y2hHcm91cChTdHJpbmcgZ3JvdXApIHsKICAgICAgICByZXR1cm4gKEpE\nQkNGZXRjaFBsYW4pIHN1cGVyLnJlbW92ZUZldGNoR3JvdXAoZ3JvdXApOwog\nICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4g\ncmVtb3ZlRmV0Y2hHcm91cHMoQ29sbGVjdGlvbiBncm91cHMpIHsKICAgICAg\nICByZXR1cm4gKEpEQkNGZXRjaFBsYW4pIHN1cGVyLnJlbW92ZUZldGNoR3Jv\ndXBzKGdyb3Vwcyk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMg\nSkRCQ0ZldGNoUGxhbiByZW1vdmVGZXRjaEdyb3VwcyhTdHJpbmcuLi4gZ3Jv\ndXBzKSB7CiAgICAgICAgcmV0dXJuIChKREJDRmV0Y2hQbGFuKSBzdXBlci5y\nZW1vdmVGZXRjaEdyb3Vwcyhncm91cHMpOwogICAgfQoKICAgIEBPdmVycmlk\nZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4gcmVtb3ZlRmllbGQoQ2xhc3Mg\nY2xzLCBTdHJpbmcgZmllbGQpIHsKICAgICAgICByZXR1cm4gKEpEQkNGZXRj\naFBsYW4pIHN1cGVyLnJlbW92ZUZpZWxkKGNscywgZmllbGQpOwogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4gcmVtb3Zl\nRmllbGQoU3RyaW5nIGZpZWxkKSB7CiAgICAgICAgcmV0dXJuIChKREJDRmV0\nY2hQbGFuKSBzdXBlci5yZW1vdmVGaWVsZChmaWVsZCk7CiAgICB9CgogICAg\nQE92ZXJyaWRlCiAgICBwdWJsaWMgSkRCQ0ZldGNoUGxhbiByZW1vdmVGaWVs\nZHMoQ2xhc3MgY2xzLCBDb2xsZWN0aW9uIGZpZWxkcykgewogICAgICAgIHJl\ndHVybiAoSkRCQ0ZldGNoUGxhbikgc3VwZXIucmVtb3ZlRmllbGRzKGNscywg\nZmllbGRzKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBKREJD\nRmV0Y2hQbGFuIHJlbW92ZUZpZWxkcyhDbGFzcyBjbHMsIFN0cmluZy4uLiBm\naWVsZHMpIHsKICAgICAgICByZXR1cm4gKEpEQkNGZXRjaFBsYW4pIHN1cGVy\nLnJlbW92ZUZpZWxkcyhjbHMsIGZpZWxkcyk7CiAgICB9CgogICAgQE92ZXJy\naWRlCiAgICBwdWJsaWMgSkRCQ0ZldGNoUGxhbiByZW1vdmVGaWVsZHMoQ29s\nbGVjdGlvbiBmaWVsZHMpIHsKICAgICAgICByZXR1cm4gKEpEQkNGZXRjaFBs\nYW4pIHN1cGVyLnJlbW92ZUZpZWxkcyhmaWVsZHMpOwogICAgfQoKICAgIEBP\ndmVycmlkZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4gcmVtb3ZlRmllbGRz\nKFN0cmluZy4uLiBmaWVsZHMpIHsKICAgICAgICByZXR1cm4gKEpEQkNGZXRj\naFBsYW4pIHN1cGVyLnJlbW92ZUZpZWxkcyhmaWVsZHMpOwogICAgfQoKICAg\nIEBPdmVycmlkZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4gcmVzZXRGZXRj\naEdyb3VwcygpIHsKICAgICAgICByZXR1cm4gKEpEQkNGZXRjaFBsYW4pIHN1\ncGVyLnJlc2V0RmV0Y2hHcm91cHMoKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUK\nICAgIHB1YmxpYyBKREJDRmV0Y2hQbGFuIHNldFF1ZXJ5UmVzdWx0Q2FjaGVF\nbmFibGVkKGJvb2xlYW4gY2FjaGUpIHsKICAgICAgICByZXR1cm4gKEpEQkNG\nZXRjaFBsYW4pIHN1cGVyLnNldFF1ZXJ5UmVzdWx0Q2FjaGVFbmFibGVkKGNh\nY2hlKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBKREJDRmV0\nY2hQbGFuIHNldEZldGNoQmF0Y2hTaXplKGludCBmZXRjaEJhdGNoU2l6ZSkg\newogICAgICAgIHJldHVybiAoSkRCQ0ZldGNoUGxhbikgc3VwZXIuc2V0RmV0\nY2hCYXRjaFNpemUoZmV0Y2hCYXRjaFNpemUpOwogICAgfQoKICAgIEBPdmVy\ncmlkZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4gc2V0TG9ja1RpbWVvdXQo\naW50IHRpbWVvdXQpIHsKICAgICAgICByZXR1cm4gKEpEQkNGZXRjaFBsYW4p\nIHN1cGVyLnNldExvY2tUaW1lb3V0KHRpbWVvdXQpOwogICAgfQoKICAgIEBP\ndmVycmlkZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4gc2V0TWF4RmV0Y2hE\nZXB0aChpbnQgZGVwdGgpIHsKICAgICAgICByZXR1cm4gKEpEQkNGZXRjaFBs\nYW4pIHN1cGVyLnNldE1heEZldGNoRGVwdGgoZGVwdGgpOwogICAgfQoKICAg\nIEBPdmVycmlkZQogICAgcHVibGljIEpEQkNGZXRjaFBsYW4gc2V0UmVhZExv\nY2tNb2RlKExvY2tNb2RlVHlwZSBtb2RlKSB7CiAgICAgICAgcmV0dXJuIChK\nREJDRmV0Y2hQbGFuKSBzdXBlci5zZXRSZWFkTG9ja01vZGUobW9kZSk7CiAg\nICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgSkRCQ0ZldGNoUGxhbiBz\nZXRXcml0ZUxvY2tNb2RlKExvY2tNb2RlVHlwZSBtb2RlKSB7CiAgICAgICAg\ncmV0dXJuIChKREJDRmV0Y2hQbGFuKSBzdXBlci5zZXRXcml0ZUxvY2tNb2Rl\nKG1vZGUpOwogICAgfQp9Cg==\n","encoding":"base64"}

