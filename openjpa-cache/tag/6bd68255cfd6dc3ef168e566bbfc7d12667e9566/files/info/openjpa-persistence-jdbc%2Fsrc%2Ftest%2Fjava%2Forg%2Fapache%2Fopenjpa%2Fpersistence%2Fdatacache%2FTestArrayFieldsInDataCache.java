{"sha":"36d938fe332de80636d2b053e3383395e8196271","node_id":"MDQ6QmxvYjIwNjM2NDozNmQ5MzhmZTMzMmRlODA2MzZkMmIwNTNlMzM4MzM5NWU4MTk2Mjcx","size":4310,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/36d938fe332de80636d2b053e3383395e8196271","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7CmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5kYXRhY2FjaGUuRGF0YUNhY2hlOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5QQ0RhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5jZTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5TdG9yZUNhY2hlSW1w\nbDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5KUEFG\nYWNhZGVIZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2Uuc2ltcGxlLkFsbEZpZWxkVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsK\nCnB1YmxpYyBjbGFzcyBUZXN0QXJyYXlGaWVsZHNJbkRhdGFDYWNoZQogICAg\nZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7CgogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgU3RyaW5nW10gU1RSSU5HUyA9IG5ldyBTdHJpbmdbXXsgImEi\nLCAiYiIsICJjIiB9OwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50W10g\nSU5UUyA9IG5ldyBpbnRbXXsgMSwgMiwgMyB9OwoKICAgIHByaXZhdGUgT2Jq\nZWN0IGpwYU9pZDsKICAgIHByaXZhdGUgT2JqZWN0IGludGVybmFsT2lkOwoK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIHNldFVwKCJvcGVu\nanBhLkRhdGFDYWNoZSIsICJ0cnVlIiwgCiAgICAgICAgICAgICJvcGVuanBh\nLlJlbW90ZUNvbW1pdFByb3ZpZGVyIiwgInNqdm0iLCAKICAgICAgICAgICAg\nQWxsRmllbGRUeXBlcy5jbGFzcyk7CgogICAgICAgIEVudGl0eU1hbmFnZXIg\nZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBBbGxGaWVsZFR5cGVz\nIGFmdCA9IG5ldyBBbGxGaWVsZFR5cGVzKCk7CiAgICAgICAgYWZ0LnNldEFy\ncmF5T2ZTdHJpbmdzKFNUUklOR1MpOwogICAgICAgIGFmdC5zZXRBcnJheU9m\nSW50cyhJTlRTKTsKICAgICAgICBlbS5wZXJzaXN0KGFmdCk7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgLy8gZ2V0\nIHRoZSBleHRlcm5hbCBhbmQgaW50ZXJuYWwgZm9ybXMgb2YgdGhlIElEIGZv\nciBjYWNoZQogICAgICAgIC8vIGludGVycm9nYXRpb24gYW5kIGRhdGEgdmFs\naWRhdGlvbgogICAgICAgIGpwYU9pZCA9IE9wZW5KUEFQZXJzaXN0ZW5jZS5j\nYXN0KGVtKS5nZXRPYmplY3RJZChhZnQpOwogICAgICAgIGludGVybmFsT2lk\nID0gSlBBRmFjYWRlSGVscGVyLnRvQnJva2VyKGVtKS5nZXRPYmplY3RJZChh\nZnQpOwoKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RBcnJheU9mU3RyaW5ncygpIHsKICAgICAgICAvLyBjaGVjayB0\naGF0IHRoZSBkYXRhIGNhY2hlIGNvbnRhaW5zIGFuIGVmZmljaWVudCByZXBy\nZXNlbnRhdGlvbgogICAgICAgIFN0b3JlQ2FjaGVJbXBsIHN0b3JlQ2FjaGUg\nPSAoU3RvcmVDYWNoZUltcGwpCiAgICAgICAgICAgIE9wZW5KUEFQZXJzaXN0\nZW5jZS5jYXN0KGVtZikuZ2V0U3RvcmVDYWNoZSgpOwogICAgICAgIERhdGFD\nYWNoZSBjYWNoZSA9IHN0b3JlQ2FjaGUuZ2V0RGVsZWdhdGUoKTsKICAgICAg\nICBQQ0RhdGEgZGF0YSA9IGNhY2hlLmdldChpbnRlcm5hbE9pZCk7CiAgICAg\nICAgQ2xhc3NNZXRhRGF0YSBtZXRhID0gSlBBRmFjYWRlSGVscGVyLmdldE1l\ndGFEYXRhKGVtZiwKICAgICAgICAgICAgQWxsRmllbGRUeXBlcy5jbGFzcyk7\nCiAgICAgICAgT2JqZWN0IGNhY2hlZEZpZWxkRGF0YSA9CiAgICAgICAgICAg\nIGRhdGEuZ2V0RGF0YShtZXRhLmdldEZpZWxkKCJhcnJheU9mU3RyaW5ncyIp\nLmdldEluZGV4KCkpOwogICAgICAgIGFzc2VydFRydWUoY2FjaGVkRmllbGRE\nYXRhLmdldENsYXNzKCkuaXNBcnJheSgpKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoU3RyaW5nLmNsYXNzLAogICAgICAgICAgICBjYWNoZWRGaWVsZERhdGEu\nZ2V0Q2xhc3MoKS5nZXRDb21wb25lbnRUeXBlKCkpOwoKICAgICAgICAvLyBt\nYWtlIHN1cmUgdGhhdCB0aGUgcmV0dXJuZWQgcmVzdWx0cyBhcmUgY29ycmVj\ndAogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIEFsbEZpZWxkVHlwZXMgYWZ0ID0gZW0uZmlu\nZChBbGxGaWVsZFR5cGVzLmNsYXNzLCBqcGFPaWQpOwogICAgICAgIGFzc2Vy\ndFRydWUoQXJyYXlzLmVxdWFscyhTVFJJTkdTLCBhZnQuZ2V0QXJyYXlPZlN0\ncmluZ3MoKSkpOwogICAgICAgIGFzc2VydE5vdFNhbWUoU1RSSU5HUywgYWZ0\nLmdldEFycmF5T2ZTdHJpbmdzKCkpOwogICAgICAgIGVtLmNsb3NlKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdEFycmF5T2ZJbnRzKCkgewogICAg\nICAgIC8vIGNoZWNrIHRoYXQgdGhlIGRhdGEgY2FjaGUgY29udGFpbnMgYW4g\nZWZmaWNpZW50IHJlcHJlc2VudGF0aW9uCiAgICAgICAgU3RvcmVDYWNoZUlt\ncGwgc3RvcmVDYWNoZSA9IChTdG9yZUNhY2hlSW1wbCkKICAgICAgICAgICAg\nT3BlbkpQQVBlcnNpc3RlbmNlLmNhc3QoZW1mKS5nZXRTdG9yZUNhY2hlKCk7\nCiAgICAgICAgRGF0YUNhY2hlIGNhY2hlID0gc3RvcmVDYWNoZS5nZXREZWxl\nZ2F0ZSgpOwogICAgICAgIFBDRGF0YSBkYXRhID0gY2FjaGUuZ2V0KGludGVy\nbmFsT2lkKTsKICAgICAgICBDbGFzc01ldGFEYXRhIG1ldGEgPSBKUEFGYWNh\nZGVIZWxwZXIuZ2V0TWV0YURhdGEoZW1mLAogICAgICAgICAgICBBbGxGaWVs\nZFR5cGVzLmNsYXNzKTsKICAgICAgICBPYmplY3QgY2FjaGVkRmllbGREYXRh\nID0KICAgICAgICAgICAgZGF0YS5nZXREYXRhKG1ldGEuZ2V0RmllbGQoImFy\ncmF5T2ZJbnRzIikuZ2V0SW5kZXgoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShj\nYWNoZWRGaWVsZERhdGEuZ2V0Q2xhc3MoKS5pc0FycmF5KCkpOwogICAgICAg\nIGFzc2VydEVxdWFscyhpbnQuY2xhc3MsIGNhY2hlZEZpZWxkRGF0YS5nZXRD\nbGFzcygpLmdldENvbXBvbmVudFR5cGUoKSk7CgogICAgICAgIC8vIG1ha2Ug\nc3VyZSB0aGF0IHRoZSByZXR1cm5lZCByZXN1bHRzIGFyZSBjb3JyZWN0CiAg\nICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5h\nZ2VyKCk7CiAgICAgICAgQWxsRmllbGRUeXBlcyBhZnQgPSBlbS5maW5kKEFs\nbEZpZWxkVHlwZXMuY2xhc3MsIGpwYU9pZCk7CiAgICAgICAgYXNzZXJ0VHJ1\nZShBcnJheXMuZXF1YWxzKElOVFMsIGFmdC5nZXRBcnJheU9mSW50cygpKSk7\nCiAgICAgICAgYXNzZXJ0Tm90U2FtZShJTlRTLCBhZnQuZ2V0QXJyYXlPZklu\ndHMoKSk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KfQo=\n","encoding":"base64"}

