{"sha":"83f5953d4f6f4044cfe394b97314b9b833173b38","node_id":"MDQ6QmxvYjIwNjM2NDo4M2Y1OTUzZDRmNmY0MDQ0Y2ZlMzk0Yjk3MzE0YjliODMzMTczYjM4","size":4189,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/83f5953d4f6f4044cfe394b97314b9b833173b38","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGV0YWNo\nbWVudDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2Vy\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUm9sbGJhY2tFeGNlcHRpb247\nCgppbXBvcnQganVuaXQuZnJhbWV3b3JrLlRlc3RDYXNlOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmVuaGFuY2UuUGVyc2lzdGVuY2VDYXBhYmxlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQ\nZXJzaXN0ZW5jZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOwoKcHVibGljIGNsYXNzIFRl\nc3RHZXRSZWZlcmVuY2VBbmRJbXBsaWNpdERldGFjaG1lbnQKICAgIGV4dGVu\nZHMgU2luZ2xlRU1GVGVzdENhc2UgewoKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgewogICAgICAgIHNldFVwKCJvcGVuanBhLkRldGFjaFN0YXRlIiwgImZl\ndGNoLWdyb3VwcyIsCiAgICAgICAgICAgIERldGFjaG1lbnRPbmVNYW55UGFy\nZW50LmNsYXNzLCBEZXRhY2htZW50T25lTWFueUNoaWxkLmNsYXNzKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9uZXhpc3RlbnRHZXRSZWZlcmVu\nY2VEZXRhY2htZW50SW5UeFdpdGhDb21taXQoKSB7CiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIERldGFj\naG1lbnRPbmVNYW55UGFyZW50IG8gPSAKICAgICAgICAgICAgZW0uZ2V0UmVm\nZXJlbmNlKERldGFjaG1lbnRPbmVNYW55UGFyZW50LmNsYXNzLCAwKTsKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVt\nLmNsb3NlKCk7CgogICAgICAgIC8vIHRoZSBjbG9zZSBkZXRhY2htZW50IHNo\nb3VsZCBsZWF2ZSB0aGVzZSBpbnZhbGlkIG9iamVjdHMgaW4gYSAKICAgICAg\nICAvLyB0cmFuc2llbnQgc3RhdGUKICAgICAgICBhc3NlcnRGYWxzZSgoKFBl\ncnNpc3RlbmNlQ2FwYWJsZSkgbykucGNJc1RyYW5zYWN0aW9uYWwoKSk7CiAg\nICAgICAgYXNzZXJ0RmFsc2UoKChQZXJzaXN0ZW5jZUNhcGFibGUpIG8pLnBj\nSXNQZXJzaXN0ZW50KCkpOwogICAgICAgIC8vIHBjSXNEZXRhY2hlZCgpIHdp\nbGwgZ2l2ZSBhIGZhbHNlIHBvc2l0aXZlIGluIHRoaXMgY29uZmlndXJhdGlv\nbgogICAgICAgIC8vIGFzc2VydEZhbHNlKCgoUGVyc2lzdGVuY2VDYXBhYmxl\nKSBvKS5wY0lzRGV0YWNoZWQoKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ndGVzdE5vbmV4aXN0ZW50R2V0UmVmZXJlbmNlRGV0YWNobWVudE91dHNpZGVU\neCgpIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVu\ndGl0eU1hbmFnZXIoKTsKICAgICAgICBEZXRhY2htZW50T25lTWFueVBhcmVu\ndCBvID0gCiAgICAgICAgICAgIGVtLmdldFJlZmVyZW5jZShEZXRhY2htZW50\nT25lTWFueVBhcmVudC5jbGFzcywgMCk7CiAgICAgICAgZW0uY2xvc2UoKTsK\nCiAgICAgICAgLy8gdGhlIGNsb3NlIGRldGFjaG1lbnQgc2hvdWxkIGxlYXZl\nIHRoZXNlIGludmFsaWQgb2JqZWN0cyBpbiBhIAogICAgICAgIC8vIHRyYW5z\naWVudCBzdGF0ZQogICAgICAgIGFzc2VydEZhbHNlKCgoUGVyc2lzdGVuY2VD\nYXBhYmxlKSBvKS5wY0lzVHJhbnNhY3Rpb25hbCgpKTsKICAgICAgICBhc3Nl\ncnRGYWxzZSgoKFBlcnNpc3RlbmNlQ2FwYWJsZSkgbykucGNJc1BlcnNpc3Rl\nbnQoKSk7CiAgICAgICAgLy8gcGNJc0RldGFjaGVkKCkgd2lsbCBnaXZlIGEg\nZmFsc2UgcG9zaXRpdmUgaW4gdGhpcyBjb25maWd1cmF0aW9uCiAgICAgICAg\nLy8gYXNzZXJ0RmFsc2UoKChQZXJzaXN0ZW5jZUNhcGFibGUpIG8pLnBjSXNE\nZXRhY2hlZCgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9uZXhp\nc3RlbnRHZXRSZWZlcmVuY2VEZXRhY2htZW50SW5UeFdpdGhSb2xsYmFjaygp\nIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2lu\nKCk7CiAgICAgICAgRGV0YWNobWVudE9uZU1hbnlQYXJlbnQgbyA9IAogICAg\nICAgICAgICBlbS5nZXRSZWZlcmVuY2UoRGV0YWNobWVudE9uZU1hbnlQYXJl\nbnQuY2xhc3MsIDApOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkucm9s\nbGJhY2soKTsKCiAgICAgICAgLy8gdGhlIHJvbGxiYWNrIHNob3VsZCBjYXVz\nZSBhIGRldGFjaG1lbnQKICAgICAgICBhc3NlcnRGYWxzZShPcGVuSlBBUGVy\nc2lzdGVuY2UuY2FzdChlbSkuaXNUcmFuc2FjdGlvbmFsKG8pKTsKICAgICAg\nICBhc3NlcnRGYWxzZShPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdChlbSkuaXNQ\nZXJzaXN0ZW50KG8pKTsKICAgICAgICAvLyBwY0lzRGV0YWNoZWQoKSB3aWxs\nIGdpdmUgYSBmYWxzZSBwb3NpdGl2ZSBpbiB0aGlzIGNvbmZpZ3VyYXRpb24K\nICAgICAgICAvLyBhc3NlcnRGYWxzZShPcGVuSlBBUGVyc2lzdGVuY2UuY2Fz\ndChlbSkuaXNEZXRhY2hlZChvKSk7CgogICAgICAgIGVtLmNsb3NlKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdE5vbmV4aXN0ZW50R2V0UmVmZXJl\nbmNlRGV0YWNobWVudEluVHhXaXRoRmFpbGVkQ29tbWl0KCkgewogICAgICAg\nIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAg\nICBEZXRhY2htZW50T25lTWFueVBhcmVudCBvID0gCiAgICAgICAgICAgIGVt\nLmdldFJlZmVyZW5jZShEZXRhY2htZW50T25lTWFueVBhcmVudC5jbGFzcywg\nMCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5zZXRSb2xsYmFja09u\nbHkoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmNvbW1pdCgpOwogICAgICAgIH0gY2F0Y2ggKFJvbGxiYWNrRXhj\nZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIC8vIGV4cGVjdGVkCiAgICAgICAg\nfQoKICAgICAgICAvLyB0aGUgZmFpbGVkIGNvbW1pdCBzaG91bGQgY2F1c2Ug\nYSBkZXRhY2htZW50CiAgICAgICAgYXNzZXJ0RmFsc2UoT3BlbkpQQVBlcnNp\nc3RlbmNlLmNhc3QoZW0pLmlzVHJhbnNhY3Rpb25hbChvKSk7CiAgICAgICAg\nYXNzZXJ0RmFsc2UoT3BlbkpQQVBlcnNpc3RlbmNlLmNhc3QoZW0pLmlzUGVy\nc2lzdGVudChvKSk7CiAgICAgICAgLy8gcGNJc0RldGFjaGVkKCkgd2lsbCBn\naXZlIGEgZmFsc2UgcG9zaXRpdmUgaW4gdGhpcyBjb25maWd1cmF0aW9uCiAg\nICAgICAgLy8gYXNzZXJ0RmFsc2UoT3BlbkpQQVBlcnNpc3RlbmNlLmNhc3Qo\nZW0pLmlzRGV0YWNoZWQobykpOwoKICAgICAgICBlbS5jbG9zZSgpOwogICAg\nfQp9Cg==\n","encoding":"base64"}

