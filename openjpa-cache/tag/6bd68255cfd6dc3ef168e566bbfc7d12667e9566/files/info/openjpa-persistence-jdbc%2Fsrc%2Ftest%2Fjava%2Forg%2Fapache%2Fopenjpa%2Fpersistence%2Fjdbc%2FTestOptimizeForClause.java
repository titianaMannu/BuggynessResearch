{"sha":"4b41d585ee558b99d66e2136146ce06893f4441d","node_id":"MDQ6QmxvYjIwNjM2NDo0YjQxZDU4NWVlNTU4Yjk5ZDY2ZTIxMzYxNDZjZTA2ODkzZjQ0NDFk","size":4743,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4b41d585ee558b99d66e2136146ce06893f4441d","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuamRiYzsNCg0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLlF1ZXJ5Ow0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLnRlc3QuU1FMTGlzdGVuZXJUZXN0Q2FzZTsNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uuc2ltcGxlLkFsbEZpZWxkVHlwZXM7\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5K\nUEFQZXJzaXN0ZW5jZTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7DQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFRdWVyeTsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuSW52YWxpZFN0YXRl\nRXhjZXB0aW9uOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlclNQSTsNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zcWwuREJEaWN0aW9uYXJ5Ow0KaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQjJEaWN0aW9uYXJ5Ow0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5IU1FMRGljdGlvbmFy\neTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mLkpEQkND\nb25maWd1cmF0aW9uOw0KDQpwdWJsaWMgY2xhc3MgVGVzdE9wdGltaXplRm9y\nQ2xhdXNlDQogICAgZXh0ZW5kcyBTUUxMaXN0ZW5lclRlc3RDYXNlIHsNCg0K\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBzZXRVcChBbGxG\naWVsZFR5cGVzLmNsYXNzKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0\nZXN0T3B0aW1pemVGb3JDbGF1c2VWaWFIaW50KCkgew0KICAgICAgICB0ZXN0\nT3B0aW1pemVGb3JDbGF1c2UodHJ1ZSxmYWxzZSxmYWxzZSk7DQogICAgfQ0K\nDQogICAgcHVibGljIHZvaWQgdGVzdE9wdGltaXplRm9yQ2xhdXNlVmlhRmlu\nZCgpIHsNCiAgICAgICAgdGVzdE9wdGltaXplRm9yQ2xhdXNlKGZhbHNlLHRy\ndWUsZmFsc2UpOw0KICAgIH0NCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3B0aW1p\nemVGb3JDbGF1c2VWaWFRdWVyeUhpbnQoKSB7DQogICAgICAgIHRlc3RPcHRp\nbWl6ZUZvckNsYXVzZShmYWxzZSx0cnVlLHRydWUpOw0KICAgIH0NCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0T3B0aW1pemVGb3JDbGF1c2UoYm9vbGVhbiBoaW50\nLA0KICAgICAgICBib29sZWFuIGZpbmQsIGJvb2xlYW4gcXVlcnlIaW50KSB7\nDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyU1BJIGVtID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgREJEaWN0aW9uYXJ5IGRp\nY3QgPSAoKEpEQkNDb25maWd1cmF0aW9uKSBlbS5nZXRDb25maWd1cmF0aW9u\nKCkpDQogICAgICAgICAgICAuZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsN\nCg0KICAgICAgICAvLyBoc3FsIGRvZXNuJ3Qgc3VwcG9ydCBvcHRpbWl6aW5n\nOyBjaXJjdW12ZW50IHRoZSB0ZXN0DQogICAgICAgIGlmIChkaWN0IGluc3Rh\nbmNlb2YgSFNRTERpY3Rpb25hcnkpDQogICAgICAgICAgICByZXR1cm47DQoN\nCiAgICAgICAgc3FsLmNsZWFyKCk7DQogICAgICAgIHRyeSB7DQogICAgICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7DQogICAgICAgICAg\nICBpZiAoaGludCB8fCBxdWVyeUhpbnQpIHsNCiAgICAgICAgICAgICAgICBp\nZiAoaGludCkgew0KICAgICAgICAgICAgICAgICAgICBRdWVyeSBxID0gZW0u\nY3JlYXRlUXVlcnkoDQogICAgICAgICAgICAgICAgICAgICJzZWxlY3QgbyBm\ncm9tIEFsbEZpZWxkVHlwZXMgbyB3aGVyZSBvLmludEZpZWxkID0gOnAiKTsN\nCiAgICAgICAgICAgICAgICAgICAgcS5zZXRQYXJhbWV0ZXIoInAiLCAwKTsN\nCiAgICAgICAgICAgICAgICAgICAgcS5zZXRIaW50KCJvcGVuanBhLmhpbnQu\nT3B0aW1pemVSZXN1bHRDb3VudCINCiAgICAgICAgICAgICAgICAgICAgICAg\nICAsbmV3IEludGVnZXIoOCkpOw0KICAgICAgICAgICAgICAgICAgICBxLmdl\ndFJlc3VsdExpc3QoKTsNCiAgICAgICAgICAgICAgICB9ICAgIA0KICAgICAg\nICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBPcGVuSlBB\nUXVlcnkgcSA9ICBPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdCAoZW0uY3JlYXRl\nUXVlcnkgDQogICAgICAgICAgICAgICAgICAgICAgICAoInNlbGVjdCBvIGZy\nb20gQWxsRmllbGRUeXBlcyBvIHdoZXJlIG8uaW50RmllbGQgIiArDQogICAg\nICAgICAgICAgICAgICAgICAgICAgIj0gOnAiKSk7DQogICAgICAgICAgICAg\nICAgICAgIHEuc2V0UGFyYW1ldGVyKCJwIiwgMCk7DQogICAgICAgICAgICAg\nICAgICAgIHEuc2V0SGludChxLkhJTlRfUkVTVUxUX0NPVU5ULCBuZXcgSW50\nZWdlcig4KSk7IA0KICAgICAgICAgICAgICAgICAgICBxLmdldFJlc3VsdExp\nc3QoKTsNCiAgICAgICAgICAgICAgIH0gICAgIA0KICAgICAgICAgICAgICAg\naWYgKGRpY3QgaW5zdGFuY2VvZiBEQjJEaWN0aW9uYXJ5KSB7DQogICAgICAg\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOw0KICAg\nICAgICAgICAgICAgICAgIGFzc2VydFNRTCgiU0VMRUNUIHQwLmlkLCB0MC5i\nb29sZWFuRmllbGQsIHQwLmJ5dGVGaWVsZCwiICsNCiAgICAgICAgICAgICAg\nICAgICAgICAgIiB0MC5jaGFyRmllbGQsIHQwLmRhdGVGaWVsZCwgdDAuZG91\nYmxlRmllbGQsICIgKw0KICAgICAgICAgICAgICAgICAgICAgICAidDAuZmxv\nYXRGaWVsZCwgdDAuaW50RmllbGQsIHQwLmxvbmdGaWVsZCwgIiArDQogICAg\nICAgICAgICAgICAgICAgICAgICJ0MC5zaG9ydEZpZWxkLCB0MC5zdHJpbmdG\naWVsZCBGUk9NIEFsbEZpZWxkVHlwZXMgIiArDQogICAgICAgICAgICAgICAg\nICAgICAgICJ0MCBXSEVSRSBcXCh0MC5pbnRGaWVsZCA9IFxcP1xcKSAgb3B0\naW1pemUgZm9yIDggcm93Iik7DQogICAgICAgICAgICAgICB9DQogICAgICAg\nICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAg\nZW0uZmluZChBbGxGaWVsZFR5cGVzLmNsYXNzLCAwKTsNCiAgICAgICAgICAg\nICAgICAgaWYgKGRpY3QgaW5zdGFuY2VvZiBEQjJEaWN0aW9uYXJ5ICkgew0K\nICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUo\nKSk7DQogICAgICAgICAgICAgICAgICAgIGFzc2VydFNRTCgiU0VMRUNUIHQw\nLmJvb2xlYW5GaWVsZCwgdDAuYnl0ZUZpZWxkLCAiICsNCiAgICAgICAgICAg\nICAgICAgICAgICAgICJ0MC5jaGFyRmllbGQsIHQwLmRhdGVGaWVsZCwgdDAu\nZG91YmxlRmllbGQsICIgKw0KICAgICAgICAgICAgICAgICAgICAgICAgInQw\nLmZsb2F0RmllbGQsIHQwLmludEZpZWxkLCB0MC5sb25nRmllbGQsICIgKw0K\nICAgICAgICAgICAgICAgICAgICAgICAgInQwLnNob3J0RmllbGQsIHQwLnN0\ncmluZ0ZpZWxkIEZST00gQWxsRmllbGRUeXBlcyIgKw0KICAgICAgICAgICAg\nICAgICAgICAgICAgIiB0MCBXSEVSRSB0MC5pZCA9IFxcPyAgb3B0aW1pemUg\nZm9yIDEgcm93Iik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAg\nICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChJbnZh\nbGlkU3RhdGVFeGNlcHRpb24gcGUpIHsNCiAgICAgICAgICAgIC8vIGlmIHdl\nJ3JlIG5vdCB1c2luZyBEQjIsIHdlIGV4cGVjdCBhbiBJbnZhbGlkU3RhdGVF\neGNlcHRpb24uDQogICAgICAgICAgICBpZiAoZGljdCBpbnN0YW5jZW9mIERC\nMkRpY3Rpb25hcnkpDQogICAgICAgICAgICAgICAgdGhyb3cgcGU7DQogICAg\nICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLnJvbGxiYWNrKCk7DQogICAgICAgICAgICBlbS5jbG9zZSgpOw0KICAg\nICAgICB9DQogICAgfQ0KfQ0K\n","encoding":"base64"}

