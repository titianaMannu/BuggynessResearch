{"sha":"2c1bb4e681f254eafc71eac3eb42be3c45c5bd20","node_id":"MDQ6QmxvYjIwNjM2NDoyYzFiYjRlNjgxZjI1NGVhZmM3MWVhYzNlYjQyYmUzYzQ1YzViZDIw","size":4686,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2c1bb4e681f254eafc71eac3eb42be3c45c5bd20","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5Mb2NrTW9kZVR5cGU7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU1FMTGlz\ndGVuZXJUZXN0Q2FzZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5zaW1wbGUuQWxsRmllbGRUeXBlczsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBUGVyc2lzdGVuY2U7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVu\ndGl0eU1hbmFnZXJTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuREIyRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5zcWwuSFNRTERpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5jb25mLkpEQkNDb25maWd1cmF0aW9uOwoKcHVi\nbGljIGNsYXNzIFRlc3RTZWxlY3RGb3JVcGRhdGVPdmVycmlkZQogICAgZXh0\nZW5kcyBTUUxMaXN0ZW5lclRlc3RDYXNlIHsKCiAgICBwdWJsaWMgdm9pZCBz\nZXRVcCgpIHsKICAgICAgICBzZXRVcChBbGxGaWVsZFR5cGVzLmNsYXNzLAog\nICAgICAgICAgICAib3BlbmpwYS5PcHRpbWlzdGljIiwgImZhbHNlIiwKICAg\nICAgICAgICAgIm9wZW5qcGEuTG9ja01hbmFnZXIiLCAicGVzc2ltaXN0aWMi\nLAogICAgICAgICAgICAib3BlbmpwYS5SZWFkTG9ja0xldmVsIiwgIm5vbmUi\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2VsZWN0Rm9yVXBkYXRl\nT3ZlcnJpZGUoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkg\nZW0gPSAoT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkpCiAgICAgICAgICAgIE9w\nZW5KUEFQZXJzaXN0ZW5jZS5jYXN0KGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCkpOwogICAgICAgIERCRGljdGlvbmFyeSBkaWN0ID0gKChKREJDQ29uZmln\ndXJhdGlvbikgZW0uZ2V0Q29uZmlndXJhdGlvbigpKQogICAgICAgICAgICAu\nZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsKCiAgICAgICAgLy8gaHNxbCBk\nb2Vzbid0IHN1cHBvcnQgbG9ja2luZzsgY2lyY3VtdmVudCB0aGUgdGVzdAog\nICAgICAgIGlmIChkaWN0IGluc3RhbmNlb2YgSFNRTERpY3Rpb25hcnkpCiAg\nICAgICAgICAgIHJldHVybjsKCiAgICAgICAgc3FsLmNsZWFyKCk7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOwogICAgICAgICAgICBPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdChlbSku\nZ2V0RmV0Y2hQbGFuKCkKICAgICAgICAgICAgICAgIC5zZXRSZWFkTG9ja01v\nZGUoTG9ja01vZGVUeXBlLldSSVRFKTsKICAgICAgICAgICAgZW0uZmluZChB\nbGxGaWVsZFR5cGVzLmNsYXNzLCAwKTsKICAgICAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEsIHNxbC5zaXplKCkpOwogICAgICAgICAgICBpZiAoZGljdCBpbnN0\nYW5jZW9mIERCMkRpY3Rpb25hcnkpIHsKICAgICAgICAgICAgICAgIGlmICgo\nKChEQjJEaWN0aW9uYXJ5KSBkaWN0KS5nZXREYjJTZXJ2ZXJUeXBlKCkgPT0g\nMSkKICAgICAgICAgICAgICAgICAgICB8fCAoKChEQjJEaWN0aW9uYXJ5KSBk\naWN0KS5nZXREYjJTZXJ2ZXJUeXBlKCk9PSAyKSkgewogICAgICAgICAgICAg\nICAgICAgIGFzc2VydEVxdWFscygxLCBzcWwuc2l6ZSgpKTsKICAgICAgICAg\nICAgICAgICAgICBhc3NlcnRTUUwoIlNFTEVDVCB0MC5ib29sZWFuRmllbGQs\nIHQwLmJ5dGVGaWVsZCwgIgogICAgICAgICAgICAgICAgICAgICAgICArICJ0\nMC5jaGFyRmllbGQsIHQwLmRhdGVGaWVsZCwgdDAuZG91YmxlRmllbGQsIgog\nICAgICAgICAgICAgICAgICAgICAgICArICIgdDAuZmxvYXRGaWVsZCwgdDAu\naW50RmllbGQsIHQwLmxvbmdGaWVsZCwiCiAgICAgICAgICAgICAgICAgICAg\nICAgICsgIiB0MC5zaG9ydEZpZWxkLCB0MC5zdHJpbmdGaWVsZCBGUk9NICIK\nICAgICAgICAgICAgICAgICAgICAgICAgKyAiQWxsRmllbGRUeXBlcyB0MCBX\nSEVSRSB0MC5pZCA9IFxcPyAiCiAgICAgICAgICAgICAgICAgICAgICAgICsg\nIiBGT1IgVVBEQVRFIE9GIG9wdGltaXplIGZvciAxIHJvdyIpOwogICAgICAg\nICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gaXQgaXMgREIyIHY4MiBv\nciBsYXRlcgogICAgICAgICAgICAgICAgZWxzZSBpZiAoKCgoREIyRGljdGlv\nbmFyeSkgZGljdCkuZ2V0RGIyU2VydmVyVHlwZSgpID09IDMpCiAgICAgICAg\nICAgICAgICAgICAgfHwgKCgoREIyRGljdGlvbmFyeSkgZGljdCkuZ2V0RGIy\nU2VydmVyVHlwZSgpID09IDQpKSB7CiAgICAgICAgICAgICAgICAgICAgYXNz\nZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOwogICAgICAgICAgICAgICAgICAg\nIGFzc2VydFNRTCgiU0VMRUNUIHQwLmJvb2xlYW5GaWVsZCwgdDAuYnl0ZUZp\nZWxkLCAiCiAgICAgICAgICAgICAgICAgICAgICAgICsgInQwLmNoYXJGaWVs\nZCwgdDAuZGF0ZUZpZWxkLCB0MC5kb3VibGVGaWVsZCwiCiAgICAgICAgICAg\nICAgICAgICAgICAgICsgIiB0MC5mbG9hdEZpZWxkLCB0MC5pbnRGaWVsZCwg\ndDAubG9uZ0ZpZWxkLCIKICAgICAgICAgICAgICAgICAgICAgICAgKyAiIHQw\nLnNob3J0RmllbGQsIHQwLnN0cmluZ0ZpZWxkIEZST00gIgogICAgICAgICAg\nICAgICAgICAgICAgICArICJBbGxGaWVsZFR5cGVzIHQwIFdIRVJFIHQwLmlk\nID0gXFw/ICIKICAgICAgICAgICAgICAgICAgICAgICAgKyAiIEZPUiBSRUFE\nIE9OTFkgV0lUSCBSUyBVU0UgQU5EIEtFRVAgVVBEQVRFIExPQ0tTIiAKICAg\nICAgICAgICAgICAgICAgICAgICAgKyAiIG9wdGltaXplIGZvciAxIHJvdyIp\nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAo\nKChEQjJEaWN0aW9uYXJ5KSBkaWN0KS5nZXREYjJTZXJ2ZXJUeXBlKCkgPT0g\nNSkgewogICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscygxLCBzcWwu\nc2l6ZSgpKTsKICAgICAgICAgICAgICAgICAgICBhc3NlcnRTUUwoIlNFTEVD\nVCB0MC5ib29sZWFuRmllbGQsIHQwLmJ5dGVGaWVsZCwgIgogICAgICAgICAg\nICAgICAgICAgICAgICArICJ0MC5jaGFyRmllbGQsIHQwLmRhdGVGaWVsZCwg\ndDAuZG91YmxlRmllbGQsIgogICAgICAgICAgICAgICAgICAgICAgICArICIg\ndDAuZmxvYXRGaWVsZCwgdDAuaW50RmllbGQsIHQwLmxvbmdGaWVsZCwiCiAg\nICAgICAgICAgICAgICAgICAgICAgICsgIiB0MC5zaG9ydEZpZWxkLCB0MC5z\ndHJpbmdGaWVsZCBGUk9NICIKICAgICAgICAgICAgICAgICAgICAgICAgKyAi\nQWxsRmllbGRUeXBlcyB0MCBXSEVSRSB0MC5pZCA9IFxcPyAiCiAgICAgICAg\nICAgICAgICAgICAgICAgICsgIiBGT1IgUkVBRCBPTkxZIFdJVEggUlMgVVNF\nIEFORCBLRUVQIEVYQ0xVU0lWRSBMT0NLUyIKICAgICAgICAgICAgICAgICAg\nICAgICAgKyAiIG9wdGltaXplIGZvciAxIHJvdyIpOwogICAgICAgICAgICAg\nICAgfSAgICAKICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAg\nICAgICAgIGZhaWwoIk9wZW5KUEEgY3VycmVudGx5IG9ubHkgc3VwcG9ydHMg\ncGVyLXF1ZXJ5IGlzb2xhdGlvbiAiIAogICAgICAgICAgICAgICAgICAgICAg\nICArICJsZXZlbCBjb25maWd1cmF0aW9uIG9uIHRoZSBmb2xsb3dpbmcgZGF0\nYWJhc2VzOiAiCiAgICAgICAgICAgICAgICAgICAgICAgICsgIkRCMiIpOwog\nICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICAgIAogICAgICAgIH0g\nZmluYWxseSB7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkucm9s\nbGJhY2soKTsKICAgICAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICB9CiAg\nICB9Cn0K\n","encoding":"base64"}

