{"sha":"371a74baaa48fed6a63810edb193f58f2c1c2a29","node_id":"MDQ6QmxvYjIwNjM2NDozNzFhNzRiYWFhNDhmZWQ2YTYzODEwZWRiMTkzZjU4ZjJjMWMyYTI5","size":3418,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/371a74baaa48fed6a63810edb193f58f2c1c2a29","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uuc2ltcGxl\nOwoKaW1wb3J0IGp1bml0LnRleHR1aS5UZXN0UnVubmVyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU2luZ2xlRU1UZXN0\nQ2FzZTsKCi8qKgogKiBUZXN0IGNhc2UgdG8gZW5zdXJlIHRoYXQgdGhlIHBy\nb3BlciBKUEEgY2xlYXIgc2VtYW50aWNzIGFyZSBwcm9jZXNzZWQuCiAqCiAq\nIEBhdXRob3IgS2V2aW4gU3V0dGVyCiAqLwpwdWJsaWMgY2xhc3MgVGVzdEVu\ndGl0eU1hbmFnZXJDbGVhcgogICAgZXh0ZW5kcyBTaW5nbGVFTVRlc3RDYXNl\nIHsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBzZXRVcChB\nbGxGaWVsZFR5cGVzLmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RGV0YWNoKCkgewogICAgICAgIC8vIENyZWF0ZSBFbnRpdHlNYW5hZ2Vy\nIGFuZCBTdGFydCBhIHRyYW5zYWN0aW9uICgxKQogICAgICAgIGJlZ2luKCk7\nCgogICAgICAgIC8vIEluc2VydCBhIG5ldyBvYmplY3QgYW5kIGZsdXNoCiAg\nICAgICAgQWxsRmllbGRUeXBlcyB0ZXN0T2JqZWN0MSA9IG5ldyBBbGxGaWVs\nZFR5cGVzKCk7CiAgICAgICAgdGVzdE9iamVjdDEuc2V0U3RyaW5nRmllbGQo\nIm15IHRlc3Qgb2JqZWN0MSIpOwogICAgICAgIHBlcnNpc3QodGVzdE9iamVj\ndDEpOwogICAgICAgIGVtLmZsdXNoKCk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgi\ndGVzdE9iamVjdDEgbm90IGZvdW5kIGluIHBjIiwgZW0uY29udGFpbnModGVz\ndE9iamVjdDEpKTsKCiAgICAgICAgLy8gSW5zZXJ0IGFub3RoZXIgb2JqZWN0\nIGFuZCBwZXJzaXN0CiAgICAgICAgQWxsRmllbGRUeXBlcyB0ZXN0T2JqZWN0\nMiA9IG5ldyBBbGxGaWVsZFR5cGVzKCk7CiAgICAgICAgdGVzdE9iamVjdDEu\nc2V0U3RyaW5nRmllbGQoIm15IHRlc3Qgb2JqZWN0MiIpOwogICAgICAgIHBl\ncnNpc3QodGVzdE9iamVjdDIpOwogICAgICAgIGFzc2VydFRydWUoInRlc3RP\nYmplY3QyIG5vdCBmb3VuZCBpbiBwYyIsIGVtLmNvbnRhaW5zKHRlc3RPYmpl\nY3QyKSk7CiAgICAgICAgCiAgICAgICAgLy8gUm9sbGJhY2sgdG8gY2xlYXIg\ndGhlIFBDCiAgICAgICAgcm9sbGJhY2soKTsKICAgICAgICAKICAgICAgICBh\nc3NlcnRGYWxzZSgidGVzdE9iamVjdDEgZm91bmQgaW4gcGMiLCBlbS5jb250\nYWlucyh0ZXN0T2JqZWN0MSkpOwogICAgICAgIGFzc2VydEZhbHNlKCJ0ZXN0\nT2JqZWN0MiBmb3VuZCBpbiBwYyIsIGVtLmNvbnRhaW5zKHRlc3RPYmplY3Qy\nKSk7CiAgICAgICAgCiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RD\nbGVhcigpIHsKICAgICAgICAvLyBDcmVhdGUgRW50aXR5TWFuYWdlciBhbmQg\nU3RhcnQgYSB0cmFuc2FjdGlvbiAoMSkKICAgICAgICBiZWdpbigpOwoKICAg\nICAgICAvLyBJbnNlcnQgYSBuZXcgb2JqZWN0IGFuZCBmbHVzaAogICAgICAg\nIEFsbEZpZWxkVHlwZXMgdGVzdE9iamVjdDEgPSBuZXcgQWxsRmllbGRUeXBl\ncygpOwogICAgICAgIHRlc3RPYmplY3QxLnNldFN0cmluZ0ZpZWxkKCJteSB0\nZXN0IG9iamVjdDEiKTsKICAgICAgICBwZXJzaXN0KHRlc3RPYmplY3QxKTsK\nICAgICAgICBlbS5mbHVzaCgpOwoKICAgICAgICAvLyBDbGVhciB0aGUgUEMg\nZm9yIG5ldyBvYmplY3QgMgogICAgICAgIEFsbEZpZWxkVHlwZXMgdGVzdE9i\namVjdDIgPSBuZXcgQWxsRmllbGRUeXBlcygpOwogICAgICAgIHRlc3RPYmpl\nY3QxLnNldFN0cmluZ0ZpZWxkKCJteSB0ZXN0IG9iamVjdDIiKTsKICAgICAg\nICBwZXJzaXN0KHRlc3RPYmplY3QyKTsKICAgICAgICBlbS5jbGVhcigpOwoK\nICAgICAgICAvLyBDb21taXQgdGhlIHRyYW5zYWN0aW9uIChvbmx5IG9iamVj\ndCAxIHNob3VsZCBiZSBpbiBkYXRhYmFzZSkKICAgICAgICBjb21taXQoKTsK\nCiAgICAgICAgLy8gU3RhcnQgYSBuZXcgdHJhbnNhY3Rpb24KICAgICAgICBi\nZWdpbigpOwoKICAgICAgICAvLyBBdHRlbXB0IHJldHJpZXZlIG9mIE9iamVj\ndDEgZnJvbSBwcmV2aW91cyBQQyAoc2hvdWxkIGV4aXN0KQogICAgICAgIGFz\nc2VydEVxdWFscygxLCBxdWVyeSgic2VsZWN0IHggZnJvbSBBbGxGaWVsZFR5\ncGVzIHggIgogICAgICAgICAgICArICJ3aGVyZSB4LnN0cmluZ0ZpZWxkID0g\nJ215IHRlc3Qgb2JqZWN0MSciKS4KICAgICAgICAgICAgICAgIGdldFJlc3Vs\ndExpc3QoKS5zaXplKCkpOwoKICAgICAgICAvLyBBdHRlbXB0IHJldHJpZXZl\nIG9mIE9iamVjdDIgZnJvbSBwcmV2aW91cyBQQyAoc2hvdWxkIG5vdCBleGlz\ndCkKICAgICAgICBhc3NlcnRFcXVhbHMoMCwgcXVlcnkoInNlbGVjdCB4IGZy\nb20gQWxsRmllbGRUeXBlcyB4ICIKICAgICAgICAgICAgKyAid2hlcmUgeC5z\ndHJpbmdGaWVsZCA9ICdteSB0ZXN0IG9iamVjdDInIikuCiAgICAgICAgICAg\nICAgICBnZXRSZXN1bHRMaXN0KCkuc2l6ZSgpKTsKCiAgICAgICAgLy8gUm9s\nbGJhY2sgdGhlIHRyYW5zYWN0aW9uIGFuZCBjbG9zZSBldmVyeXRoaW5nCiAg\nICAgICAgcm9sbGJhY2soKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZv\naWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgVGVzdFJ1bm5lci5y\ndW4oVGVzdEVudGl0eU1hbmFnZXJDbGVhci5jbGFzcyk7CiAgICB9Cn0KCg==\n","encoding":"base64"}

