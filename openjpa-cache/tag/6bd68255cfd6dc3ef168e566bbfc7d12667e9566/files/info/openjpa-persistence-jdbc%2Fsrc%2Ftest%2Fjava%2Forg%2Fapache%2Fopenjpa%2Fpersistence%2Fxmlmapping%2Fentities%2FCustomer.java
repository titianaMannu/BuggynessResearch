{"sha":"e3f4e0e73fbe9812b2976e2ce8814fc9b79b00cf","node_id":"MDQ6QmxvYjIwNjM2NDplM2Y0ZTBlNzNmYmU5ODEyYjI5NzZlMmNlODgxNGZjOWI3OWIwMGNm","size":2949,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e3f4e0e73fbe9812b2976e2ce8814fc9b79b00cf","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UueG1sbWFw\ncGluZy5lbnRpdGllczsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS4qOwpp\nbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwu\nQXJyYXlMaXN0OwoKQEVudGl0eQpAVGFibGUobmFtZT0iVENVU1RPTUVSIikK\ncHVibGljIGNsYXNzIEN1c3RvbWVyIHsKCQoJQEVtYmVkZGFibGUKCXB1Ymxp\nYyBzdGF0aWMgY2xhc3MgQ3VzdG9tZXJLZXkgewoJCXB1YmxpYyBTdHJpbmcg\nY291bnRyeUNvZGU7CgkJcHVibGljIGludCBpZDsKCQkKCQlwdWJsaWMgQ3Vz\ndG9tZXJLZXkoKXt9CgkJCgkJcHVibGljICBDdXN0b21lcktleShTdHJpbmcg\nY2MsIGludCBpZCl7CgkJCWNvdW50cnlDb2RlPWNjOwoJCQl0aGlzLmlkPWlk\nOwoJCX0KCQkKCQlwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkgewoJCQlyZXR1\ncm4gY291bnRyeUNvZGUrIi8iK2lkOwoJCX0KCQlAT3ZlcnJpZGUKCQlwdWJs\naWMgYm9vbGVhbiBlcXVhbHMoT2JqZWN0IG9iail7CgkJCWlmIChvYmogPT0g\ndGhpcykKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwoJCQlpZiAoISAo\nb2JqIGluc3RhbmNlb2YgQ3VzdG9tZXJLZXkpKQogICAgICAgICAgICAgICAg\ncmV0dXJuIGZhbHNlOwoJCQlDdXN0b21lcktleSBrZXkgPSAoQ3VzdG9tZXJL\nZXkpb2JqOwoJCQlpZiAoa2V5LmNvdW50cnlDb2RlLmVxdWFscyh0aGlzLmNv\ndW50cnlDb2RlKQogICAgICAgICAgICAgICAgJiYga2V5LmlkPT10aGlzLmlk\nKQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkJCXJldHVybiBmYWxz\nZTsKCQl9CgkJCgkJQE92ZXJyaWRlCgkJcHVibGljIGludCBoYXNoQ29kZSgp\nIHsKCQkJcmV0dXJuIHRoaXMuY291bnRyeUNvZGUuaGFzaENvZGUoKQoJCQkJ\nXiB0aGlzLmlkOwoJCX0KCX0KCQoJcHVibGljIGVudW0gQ3JlZGl0UmF0aW5n\nIHsgUE9PUiwgR09PRCwgRVhDRUxMRU5UIH07CgoJQEVtYmVkZGVkSWQKCUN1\nc3RvbWVyS2V5IGNpZDsKCUBDb2x1bW4obGVuZ3RoPTMwKQoJU3RyaW5nIG5h\nbWU7CglARW51bWVyYXRlZAoJQ3JlZGl0UmF0aW5nIGNyZWRpdFJhdGluZzsK\nCUBFbWJlZGRlZAoJRUFkZHJlc3MgYWRkcmVzczsKCUBWZXJzaW9uCglsb25n\nIHZlcnNpb247CgkKCUBPbmVUb01hbnkoZmV0Y2g9RmV0Y2hUeXBlLkxBWlks\nIG1hcHBlZEJ5PSJjdXN0b21lciIpCglwcml2YXRlIENvbGxlY3Rpb248T3Jk\nZXI+IG9yZGVycyA9IG5ldyBBcnJheUxpc3Q8T3JkZXI+KCk7CgkJCglwdWJs\naWMgQ3VzdG9tZXIoKSB7ICAgCiAgICB9CgkKCXB1YmxpYyBDdXN0b21lcihD\ndXN0b21lcktleSBjaWQsIFN0cmluZyBuYW1lLCBDcmVkaXRSYXRpbmcgcmF0\naW5nKSB7CgkJdGhpcy5jaWQ9Y2lkOwoJCXRoaXMubmFtZT1uYW1lOwoJCXRo\naXMuY3JlZGl0UmF0aW5nPXJhdGluZzsKCX0JCgoJcHVibGljIFN0cmluZyBn\nZXROYW1lKCkgewoJCXJldHVybiBuYW1lOwoJfQoKICAgIHB1YmxpYyB2b2lk\nIHNldE5hbWUoU3RyaW5nIG5hbWUpIHsKCQl0aGlzLm5hbWUgPSBuYW1lOwoJ\nfQoKICAgIHB1YmxpYyBDcmVkaXRSYXRpbmcgZ2V0UmF0aW5nKCkgewoJCXJl\ndHVybiBjcmVkaXRSYXRpbmc7Cgl9CgogICAgcHVibGljIHZvaWQgc2V0UmF0\naW5nKENyZWRpdFJhdGluZyByYXRpbmcpIHsKCQl0aGlzLmNyZWRpdFJhdGlu\nZyA9IHJhdGluZzsKCX0KCglwdWJsaWMgQ29sbGVjdGlvbjxPcmRlcj4gZ2V0\nT3JkZXJzKCkgewoJCXJldHVybiBvcmRlcnM7Cgl9CglwdWJsaWMgdm9pZCBz\nZXRPcmRlcnMoQ29sbGVjdGlvbjxPcmRlcj4gb3JkZXJzKSB7CgkJdGhpcy5v\ncmRlcnMgPSBvcmRlcnM7Cgl9CgkKCXB1YmxpYyBTdHJpbmcgdG9TdHJpbmco\nKSB7CgkJcmV0dXJuICJDdXN0b21lcjoiICsgY2lkICsgIiBuYW1lOiIgKyBu\nYW1lOyAKCX0KCglwdWJsaWMgQ3VzdG9tZXJLZXkgZ2V0Q2lkKCkgewoJCXJl\ndHVybiBjaWQ7Cgl9CgoJcHVibGljIHZvaWQgc2V0Q2lkKEN1c3RvbWVyS2V5\nIGNpZCkgewoJCXRoaXMuY2lkID0gY2lkOwoJfQoKCXB1YmxpYyBFQWRkcmVz\ncyBnZXRBZGRyZXNzKCkgewoJCXJldHVybiBhZGRyZXNzOwoJfQoKCXB1Ymxp\nYyB2b2lkIHNldEFkZHJlc3MoRUFkZHJlc3MgYWRkcmVzcykgewoJCXRoaXMu\nYWRkcmVzcyA9IGFkZHJlc3M7Cgl9Cn0K\n","encoding":"base64"}

