{"sha":"7bf1b6325eb3cb896725199c021f6497ca922af8","node_id":"MDQ6QmxvYjIwNjM2NDo3YmYxYjYzMjVlYjNjYjg5NjcyNTE5OWMwMjFmNjQ5N2NhOTIyYWY4","size":28783,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7bf1b6325eb3cb896725199c021f6497ca922af8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLk9iamVjdE91dHB1\ndDsKaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwppbXBvcnQgamF2YS51\ndGlsLkJpdFNldDsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBv\ncnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nZW5oYW5jZS5QZXJzaXN0ZW5jZUNhcGFibGU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuZW5oYW5jZS5TdGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi51dGlsLmNvbmN1cnJlbnQuUmVlbnRyYW50TG9j\nazsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0YURh\ndGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFE\nYXRhOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVz\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuVmFsdWVNZXRhRGF0\nYTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkV4Y2VwdGlvbnM7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Qcm94eTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlVuc3VwcG9ydGVkRXhjZXB0aW9u\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuSW1wbEhlbHBlcjsK\nCi8qKgogKiBJbnRlcm5hbCBzdGF0ZSBtYW5hZ2VyIGZvciBkZXRhY2hlZCBp\nbnN0YW5jZXMuIERvZXMgbm90IGZ1bGx5CiAqIGltcGxlbWVudCB7QGxpbmsg\nT3BlbkpQQVN0YXRlTWFuYWdlcn0gY29udHJhY3QgdG8gYWxsb3cgZm9yIHNl\ncmlhbGl6YXRpb24uCiAqCiAqIEBhdXRob3IgU3RldmUgS2ltCiAqIEBub2ph\ndmFkb2MKICovCnB1YmxpYyBjbGFzcyBEZXRhY2hlZFN0YXRlTWFuYWdlcgog\nICAgZXh0ZW5kcyBBdHRhY2hTdHJhdGVneQogICAgaW1wbGVtZW50cyBPcGVu\nSlBBU3RhdGVNYW5hZ2VyLCBTZXJpYWxpemFibGUgewoKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBh\nY2thZ2UKICAgICAgICAoRGV0YWNoZWRTdGF0ZU1hbmFnZXIuY2xhc3MpOwoK\nICAgIHByaXZhdGUgZmluYWwgUGVyc2lzdGVuY2VDYXBhYmxlIF9wYzsKICAg\nIHByaXZhdGUgZmluYWwgYm9vbGVhbiBfZW1iZWRkZWQ7CiAgICBwcml2YXRl\nIGZpbmFsIGJvb2xlYW4gX2FjY2VzczsKICAgIHByaXZhdGUgZmluYWwgQml0\nU2V0IF9sb2FkZWQ7CiAgICBwcml2YXRlIGZpbmFsIEJpdFNldCBfZGlydHk7\nCiAgICBwcml2YXRlIGZpbmFsIE9iamVjdCBfb2lkOwogICAgcHJpdmF0ZSBm\naW5hbCBPYmplY3QgX3ZlcnNpb247CiAgICBwcml2YXRlIGZpbmFsIFJlZW50\ncmFudExvY2sgX2xvY2s7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4K\nICAgICAqCiAgICAgKiBAcGFyYW0gcGMgdGhlIG1hbmFnZWQgaW5zdGFuY2UK\nICAgICAqIEBwYXJhbSBzbSB0aGUgaW5zdGFuY2UncyBzdGF0ZSBtYW5hZ2Vy\nCiAgICAgKiBAcGFyYW0gbG9hZCB0aGUgc2V0IG9mIGRldGFjaGVkIGZpZWxk\nIGluZGV4ZXMKICAgICAqIEBwYXJhbSBhY2Nlc3Mgd2hldGhlciB0byBhbGxv\ndyBhY2Nlc3MgdG8gdW5sb2FkZWQgZmllbGRzCiAgICAgKiBAcGFyYW0gbXVs\ndGl0aHJlYWRlZCB3aGV0aGVyIHRoZSBpbnN0YW5jZSB3aWxsIGJlIHVzZWQg\nY29uY3VycmVudGx5CiAgICAgKiBieSBtdWx0aXBsZSB0aHJlYWRzCiAgICAg\nKi8KICAgIHB1YmxpYyBEZXRhY2hlZFN0YXRlTWFuYWdlcihQZXJzaXN0ZW5j\nZUNhcGFibGUgcGMsIE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sCiAgICAgICAg\nQml0U2V0IGxvYWQsIGJvb2xlYW4gYWNjZXNzLCBib29sZWFuIG11bHRpdGhy\nZWFkZWQpIHsKICAgICAgICBfcGMgPSBwYzsKICAgICAgICBfZW1iZWRkZWQg\nPSBzbS5pc0VtYmVkZGVkKCk7CiAgICAgICAgX2xvYWRlZCA9IGxvYWQ7CiAg\nICAgICAgX2FjY2VzcyA9IGFjY2VzczsKICAgICAgICBfZGlydHkgPSBuZXcg\nQml0U2V0KF9sb2FkZWQubGVuZ3RoKCkpOwogICAgICAgIF9vaWQgPSBzbS5m\nZXRjaE9iamVjdElkKCk7CiAgICAgICAgX3ZlcnNpb24gPSBzbS5nZXRWZXJz\naW9uKCk7CiAgICAgICAgaWYgKG11bHRpdGhyZWFkZWQpCiAgICAgICAgICAg\nIF9sb2NrID0gbmV3IFJlZW50cmFudExvY2soKTsKICAgICAgICBlbHNlCiAg\nICAgICAgICAgIF9sb2NrID0gbnVsbDsKICAgIH0KCiAgICAvLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIEF0dGFjaFN0cmF0ZWd5\nIGltcGxlbWVudGF0aW9uCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8KCiAgICBwdWJsaWMgT2JqZWN0IGF0dGFjaChBdHRhY2hNYW5h\nZ2VyIG1hbmFnZXIsIE9iamVjdCB0b0F0dGFjaCwKICAgICAgICBDbGFzc01l\ndGFEYXRhIG1ldGEsIFBlcnNpc3RlbmNlQ2FwYWJsZSBpbnRvLCBPcGVuSlBB\nU3RhdGVNYW5hZ2VyIG93bmVyLAogICAgICAgIFZhbHVlTWV0YURhdGEgb3du\nZXJNZXRhLCBib29sZWFuIGV4cGxpY2l0KSB7CiAgICAgICAgQnJva2VySW1w\nbCBicm9rZXIgPSBtYW5hZ2VyLmdldEJyb2tlcigpOwogICAgICAgIFN0YXRl\nTWFuYWdlckltcGwgc207CiAgICAgICAgaWYgKF9lbWJlZGRlZCkgewogICAg\nICAgICAgICBpZiAoX2RpcnR5Lmxlbmd0aCAoKSA+IDApCiAgICAgICAgICAg\nICAgICBvd25lci5kaXJ0eShvd25lck1ldGEuZ2V0RmllbGRNZXRhRGF0YSgp\nLmdldEluZGV4KCkpOwogICAgICAgICAgICBzbSA9IChTdGF0ZU1hbmFnZXJJ\nbXBsKSBicm9rZXIuZW1iZWQoX3BjLCBfb2lkLCBvd25lciwgb3duZXJNZXRh\nKTsKICAgICAgICAgICAgSW1wbEhlbHBlci50b1BlcnNpc3RlbmNlQ2FwYWJs\nZSh0b0F0dGFjaCwgYnJva2VyLmdldENvbmZpZ3VyYXRpb24oKSkKICAgICAg\nICAgICAgICAgIC5wY1JlcGxhY2VTdGF0ZU1hbmFnZXIodGhpcyk7CiAgICAg\nICAgfSBlbHNlIHsKICAgICAgICAgICAgUENTdGF0ZSBzdGF0ZSA9IChfZGly\ndHkubGVuZ3RoKCkgPiAwKSA/IFBDU3RhdGUuUERJUlRZCiAgICAgICAgICAg\nICAgICA6IFBDU3RhdGUuUENMRUFOOwogICAgICAgICAgICBzbSA9IChTdGF0\nZU1hbmFnZXJJbXBsKSBicm9rZXIuY29weSh0aGlzLCBzdGF0ZSk7CiAgICAg\nICAgfQogICAgICAgIFBlcnNpc3RlbmNlQ2FwYWJsZSBwYyA9IHNtLmdldFBl\ncnNpc3RlbmNlQ2FwYWJsZSgpOwogICAgICAgIG1hbmFnZXIuc2V0QXR0YWNo\nZWRDb3B5KHRvQXR0YWNoLCBwYyk7CgogICAgICAgIG1hbmFnZXIuZmlyZUJl\nZm9yZUF0dGFjaCh0b0F0dGFjaCwgbWV0YSk7CgogICAgICAgIC8vIHByZS1s\nb2FkIGZvciBlZmZpY2llbmN5OiBjdXJyZW50IGZpZWxkIHZhbHVlcyBmb3Ig\ncmVzdG9yZSwgZGVwZW5kZW50CiAgICAgICAgLy8gZm9yIGRlbGV0ZQogICAg\nICAgIEZpZWxkTWV0YURhdGFbXSBmaWVsZHMgPSBtZXRhLmdldEZpZWxkcygp\nOwogICAgICAgIGludCByZXN0b3JlID0gYnJva2VyLmdldFJlc3RvcmVTdGF0\nZSgpOwogICAgICAgIGlmIChfZGlydHkubGVuZ3RoKCkgPiAwKSB7CiAgICAg\nICAgICAgIEJpdFNldCBsb2FkID0gbmV3IEJpdFNldChmaWVsZHMubGVuZ3Ro\nKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBmaWVsZHMubGVu\nZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmICghX2RpcnR5LmdldChp\nKSkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAg\nICAgICBzd2l0Y2ggKGZpZWxkc1tpXS5nZXREZWNsYXJlZFR5cGVDb2RlKCkp\nIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5BUlJBWToK\nICAgICAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DT0xMRUNUSU9O\nOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdG9yZSA9PSBSZXN0\nb3JlU3RhdGUuUkVTVE9SRV9BTEwKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIHx8IGZpZWxkc1tpXS5nZXRFbGVtZW50KCkuZ2V0Q2FzY2FkZURlbGV0\nZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PSBWYWx1ZU1ldGFE\nYXRhLkNBU0NBREVfQVVUTykKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIGxvYWQuc2V0KGkpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsK\nICAgICAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5NQVA6CiAgICAg\nICAgICAgICAgICAgICAgICAgIGlmIChyZXN0b3JlID09IFJlc3RvcmVTdGF0\nZS5SRVNUT1JFX0FMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwg\nZmllbGRzW2ldLmdldEVsZW1lbnQoKS5nZXRDYXNjYWRlRGVsZXRlKCkKICAg\nICAgICAgICAgICAgICAgICAgICAgICAgID09IFZhbHVlTWV0YURhdGEuQ0FT\nQ0FERV9BVVRPCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBmaWVs\nZHNbaV0uZ2V0S2V5KCkuZ2V0Q2FzY2FkZURlbGV0ZSgpCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICA9PSBWYWx1ZU1ldGFEYXRhLkNBU0NBREVfQVVU\nTykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQuc2V0KGkpOwog\nICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAg\nICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVz\ndG9yZSAhPSBSZXN0b3JlU3RhdGUuUkVTVE9SRV9OT05FCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICB8fCBmaWVsZHNbaV0uZ2V0Q2FzY2FkZURlbGV0\nZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PSBWYWx1ZU1ldGFE\nYXRhLkNBU0NBREVfQVVUTykKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIGxvYWQuc2V0KGkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9\nCiAgICAgICAgICAgIEZldGNoQ29uZmlndXJhdGlvbiBmYyA9IGJyb2tlci5n\nZXRGZXRjaENvbmZpZ3VyYXRpb24oKTsKICAgICAgICAgICAgc20ubG9hZEZp\nZWxkcyhsb2FkLCBmYywgZmMuZ2V0V3JpdGVMb2NrTGV2ZWwoKSwgbnVsbCwg\ndHJ1ZSk7CiAgICAgICAgfSAgICAgICAgCiAgICAgICAgT2JqZWN0IG9yaWdW\nZXJzaW9uID0gc20uZ2V0VmVyc2lvbigpOwogICAgICAgIHNtLnNldFZlcnNp\nb24oX3ZlcnNpb24pOwoKICAgICAgICBCaXRTZXQgbG9hZGVkID0gc20uZ2V0\nTG9hZGVkKCk7CiAgICAgICAgaW50IHNldCA9IFN0YXRlTWFuYWdlci5TRVRf\nQVRUQUNIOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZmllbGRzLmxl\nbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICghX2xvYWRlZC5nZXQoaSkp\nCiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgLy8gZG9u\nJ3QgcmVsb2FkIGFscmVhZHkgbG9hZGVkIG5vbi1tdXRhYmxlIG9iamVjdHMK\nICAgICAgICAgICAgaWYgKCFfZGlydHkuZ2V0KGkpICYmIGxvYWRlZC5nZXQo\naSkgJiYgaWdub3JlTG9hZGVkKGZpZWxkc1tpXSkpCiAgICAgICAgICAgICAg\nICBjb250aW51ZTsKCiAgICAgICAgICAgIHByb3ZpZGVGaWVsZChpKTsKICAg\nICAgICAgICAgc3dpdGNoIChmaWVsZHNbaV0uZ2V0RGVjbGFyZWRUeXBlQ29k\nZSgpKSB7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFO\nOgogICAgICAgICAgICAgICAgICAgIGlmIChfZGlydHkuZ2V0KGkpKQogICAg\nICAgICAgICAgICAgICAgICAgICBzbS5zZXR0aW5nQm9vbGVhbkZpZWxkKHBj\nLCBpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGxvYWRlZC5nZXQo\naSkpICYmIHNtLmZldGNoQm9vbGVhbkZpZWxkKGkpLAogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgbG9uZ3ZhbCA9PSAxLCBzZXQpOwogICAgICAgICAg\nICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgc20uc3Rv\ncmVCb29sZWFuRmllbGQoaSwgbG9uZ3ZhbCA9PSAxKTsKICAgICAgICAgICAg\nICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLkJZVEU6CiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkp\nCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRpbmdCeXRlRmllbGQo\ncGMsIGksICghbG9hZGVkLmdldChpKSkgPyAoYnl0ZSkgMAogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaEJ5dGVGaWVsZChpKSwgKGJ5\ndGUpIGxvbmd2YWwsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQog\nICAgICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZUJ5dGVGaWVsZChpLCAo\nYnl0ZSkgbG9uZ3ZhbCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAg\nICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DSEFSOgogICAgICAgICAg\nICAgICAgICAgIGlmIChfZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAgICAg\nICAgICAgICBzbS5zZXR0aW5nQ2hhckZpZWxkKHBjLCBpLCAoIWxvYWRlZC5n\nZXQoaSkpID8gKGNoYXIpIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIDogc20uZmV0Y2hDaGFyRmllbGQoaSksIChjaGFyKSBsb25ndmFsLCBzZXQp\nOwogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAg\nICAgICAgc20uc3RvcmVDaGFyRmllbGQoaSwgKGNoYXIpIGxvbmd2YWwpOwog\nICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuSU5UOgogICAgICAgICAgICAgICAgICAgIGlmIChfZGly\ndHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zZXR0aW5n\nSW50RmllbGQocGMsIGksICghbG9hZGVkLmdldChpKSkgPyAwCiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICA6IHNtLmZldGNoSW50RmllbGQoaSksIChp\nbnQpIGxvbmd2YWwsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQog\nICAgICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZUludEZpZWxkKGksIChp\nbnQpIGxvbmd2YWwpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAg\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTE9ORzoKICAgICAgICAgICAg\nICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAgICAgICAgICAg\nICAgICAgc20uc2V0dGluZ0xvbmdGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0\nKGkpKSA/IDBMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNtLmZl\ndGNoTG9uZ0ZpZWxkKGkpLCBsb25ndmFsLCBzZXQpOwogICAgICAgICAgICAg\nICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgc20uc3RvcmVM\nb25nRmllbGQoaSwgbG9uZ3ZhbCk7CiAgICAgICAgICAgICAgICAgICAgYnJl\nYWs7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5TSE9SVDoKICAg\nICAgICAgICAgICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAg\nICAgICAgICAgICAgICAgc20uc2V0dGluZ1Nob3J0RmllbGQocGMsIGksICgh\nbG9hZGVkLmdldChpKSkgPyAoc2hvcnQpIDAKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIDogc20uZmV0Y2hTaG9ydEZpZWxkKGkpLCAoc2hvcnQpIGxv\nbmd2YWwsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAg\nICAgICAgICAgICAgICAgICBzbS5zdG9yZVNob3J0RmllbGQoaSwgKHNob3J0\nKSBsb25ndmFsKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkZMT0FUOgogICAgICAgICAgICAg\nICAgICAgIGlmIChfZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAg\nICAgICBzbS5zZXR0aW5nRmxvYXRGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0\nKGkpKSA/IDBGCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNtLmZl\ndGNoRmxvYXRGaWVsZChpKSwgKGZsb2F0KSBkYmx2YWwsIHNldCk7CiAgICAg\nICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBz\nbS5zdG9yZUZsb2F0RmllbGQoaSwgKGZsb2F0KSBkYmx2YWwpOwogICAgICAg\nICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuRE9VQkxFOgogICAgICAgICAgICAgICAgICAgIGlmIChfZGlydHku\nZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zZXR0aW5nRG91\nYmxlRmllbGQocGMsIGksICghbG9hZGVkLmdldChpKSkgPyAwRAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaERvdWJsZUZpZWxkKGkp\nLCBkYmx2YWwsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAg\nICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZURvdWJsZUZpZWxkKGksIGRi\nbHZhbCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5TVFJJTkc6CiAgICAgICAgICAgICAgICAg\nICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAgICAg\nIHNtLnNldHRpbmdTdHJpbmdGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0KGkp\nKSA/IG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc20uZmV0\nY2hTdHJpbmdGaWVsZChpKSwgKFN0cmluZykgb2JqdmFsLCBzZXQpOwogICAg\nICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAg\nc20uc3RvcmVTdHJpbmdGaWVsZChpLCAoU3RyaW5nKSBvYmp2YWwpOwogICAg\nICAgICAgICAgICAgICAgIG9ianZhbCA9IG51bGw7CiAgICAgICAgICAgICAg\nICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5Q\nQzoKICAgICAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlBDX1VOVFlQRUQ6\nCiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkc1tpXS5nZXRDYXNjYWRl\nQXR0YWNoKCkgPT0gVmFsdWVNZXRhRGF0YQogICAgICAgICAgICAgICAgICAg\nICAgICAuQ0FTQ0FERV9OT05FKQogICAgICAgICAgICAgICAgICAgICAgICBv\nYmp2YWwgPSBnZXRSZWZlcmVuY2UobWFuYWdlciwgb2JqdmFsLCBzbSwgZmll\nbGRzW2ldKTsKICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAg\nICAgICAgICAgICAgICAgUGVyc2lzdGVuY2VDYXBhYmxlIHRvUEMgPSBudWxs\nOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqdmFsICE9IG51bGwg\nJiYgZmllbGRzW2ldLmlzRW1iZWRkZWRQQygpKQogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgdG9QQyA9IEltcGxIZWxwZXIudG9QZXJzaXN0ZW5jZUNh\ncGFibGUob2JqdmFsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIGJyb2tlci5nZXRDb25maWd1cmF0aW9uKCkpOwogICAgICAgICAgICAgICAg\nICAgICAgICBvYmp2YWwgPSBtYW5hZ2VyLmF0dGFjaChvYmp2YWwsIHRvUEMs\nIHNtLCBmaWVsZHNbaV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBm\nYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg\nICAgIGlmIChfZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgICAg\nICBzbS5zZXR0aW5nT2JqZWN0RmllbGQocGMsIGksICghbG9hZGVkLmdldChp\nKSkgPyBudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNtLmZl\ndGNoT2JqZWN0RmllbGQoaSksIG9ianZhbCwgc2V0KTsKICAgICAgICAgICAg\nICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0b3Jl\nT2JqZWN0RmllbGQoaSwgb2JqdmFsKTsKICAgICAgICAgICAgICAgICAgICBv\nYmp2YWwgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAg\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQ09MTEVDVElPTjoKICAgICAg\nICAgICAgICAgICAgICBDb2xsZWN0aW9uIGNvbGwgPSAoQ29sbGVjdGlvbikg\nb2JqdmFsOwogICAgICAgICAgICAgICAgICAgIG9ianZhbCA9IG51bGw7CiAg\nICAgICAgICAgICAgICAgICAgaWYgKGNvbGwgIT0gbnVsbCkKICAgICAgICAg\nICAgICAgICAgICAgICAgY29sbCA9IGF0dGFjaENvbGxlY3Rpb24obWFuYWdl\nciwgY29sbCwgc20sIGZpZWxkc1tpXSk7CiAgICAgICAgICAgICAgICAgICAg\naWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNt\nLnNldHRpbmdPYmplY3RGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0KGkpKSA/\nIG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc20uZmV0Y2hP\nYmplY3RGaWVsZChpKSwgY29sbCwgc2V0KTsKICAgICAgICAgICAgICAgICAg\nICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0b3JlT2JqZWN0\nRmllbGQoaSwgY29sbCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAg\nICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5NQVA6CiAgICAgICAgICAg\nICAgICAgICAgTWFwIG1hcCA9IChNYXApIG9ianZhbDsKICAgICAgICAgICAg\nICAgICAgICBvYmp2YWwgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGlm\nIChtYXAgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICAgICAgbWFwID0g\nYXR0YWNoTWFwKG1hbmFnZXIsIG1hcCwgc20sIGZpZWxkc1tpXSk7CiAgICAg\nICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAgICAgICAg\nICAgICAgICAgICAgIHNtLnNldHRpbmdPYmplY3RGaWVsZChwYywgaSwgKCFs\nb2FkZWQuZ2V0KGkpKSA/IG51bGwKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIDogc20uZmV0Y2hPYmplY3RGaWVsZChpKSwgbWFwLCBzZXQpOwogICAg\nICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAg\nc20uc3RvcmVPYmplY3RGaWVsZChpLCBtYXApOwogICAgICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAg\nICAgICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAgICAgICAg\nICAgICAgICAgc20uc2V0dGluZ09iamVjdEZpZWxkKHBjLCBpLCAoIWxvYWRl\nZC5nZXQoaSkpID8gbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAg\nOiBzbS5mZXRjaE9iamVjdEZpZWxkKGkpLCBvYmp2YWwsIHNldCk7CiAgICAg\nICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBz\nbS5zdG9yZU9iamVjdEZpZWxkKGksIG9ianZhbCk7CiAgICAgICAgICAgICAg\nICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH0K\nICAgICAgICBwYy5wY1JlcGxhY2VTdGF0ZU1hbmFnZXIoc20pOwoKICAgICAg\nICAvLyBpZiB3ZSB3ZXJlIGNsZWFuIGF0IGxlYXN0IG1ha2Ugc3VyZSBhIHZl\ncnNpb24gY2hlY2sgaXMgZG9uZSB0bwogICAgICAgIC8vIHByZXZlbnQgdXNp\nbmcgb2xkIHN0YXRlCiAgICAgICAgaWYgKCFzbS5pc1ZlcnNpb25DaGVja1Jl\ncXVpcmVkKCkgJiYgYnJva2VyLmlzQWN0aXZlKCkKICAgICAgICAgICAgJiYg\nX3ZlcnNpb24gIT0gb3JpZ1ZlcnNpb24gJiYgKG9yaWdWZXJzaW9uID09IG51\nbGwgCiAgICAgICAgICAgIHx8IGJyb2tlci5nZXRTdG9yZU1hbmFnZXIoKS5j\nb21wYXJlVmVyc2lvbihzbSwgX3ZlcnNpb24sIAogICAgICAgICAgICBvcmln\nVmVyc2lvbikgIT0gU3RvcmVNYW5hZ2VyLlZFUlNJT05fU0FNRSkpIHsKICAg\nICAgICAgICAgYnJva2VyLnRyYW5zYWN0aW9uYWwoc20uZ2V0TWFuYWdlZElu\nc3RhbmNlKCksIGZhbHNlLCAKICAgICAgICAgICAgICAgIG1hbmFnZXIuZ2V0\nQmVoYXZpb3IoKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc20uZ2V0\nTWFuYWdlZEluc3RhbmNlKCk7CiAgICB9CgogICAgcHJvdGVjdGVkIE9iamVj\ndCBnZXREZXRhY2hlZE9iamVjdElkKEF0dGFjaE1hbmFnZXIgbWFuYWdlciwK\nICAgICAgICBPYmplY3QgdG9BdHRhY2gpIHsKICAgICAgICByZXR1cm4gX29p\nZDsKICAgIH0KCiAgICB2b2lkIHByb3ZpZGVGaWVsZChpbnQgZmllbGQpIHsK\nICAgICAgICBfcGMucGNQcm92aWRlRmllbGQoZmllbGQpOwogICAgfQoKICAg\nIHByb3RlY3RlZCB2b2lkIHByb3ZpZGVGaWVsZChPYmplY3QgdG9BdHRhY2gs\nIFN0YXRlTWFuYWdlckltcGwgc20sCiAgICAgICAgaW50IGZpZWxkKSB7CiAg\nICAgICAgcHJvdmlkZUZpZWxkKGZpZWxkKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIElnbm9yZSBpZiB0aGUgZmllbGQgaXMgbm90IGRpcnR5IGJ1dCBsb2Fk\nZWQKICAgICAqLwogICAgcHJvdGVjdGVkIHN0YXRpYyBib29sZWFuIGlnbm9y\nZUxvYWRlZChGaWVsZE1ldGFEYXRhIGZtZCkgewogICAgICAgIHN3aXRjaCAo\nZm1kLmdldFR5cGVDb2RlKCkpIHsKICAgICAgICAgICAgY2FzZSBKYXZhVHlw\nZXMuQk9PTEVBTjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQk9PTEVB\nTl9PQko6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZVEU6CiAgICAg\nICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZVEVfT0JKOgogICAgICAgICAgICBj\nYXNlIEphdmFUeXBlcy5JTlQ6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLklOVF9PQko6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxPTkc6CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxPTkdfT0JKOgogICAgICAgICAg\nICBjYXNlIEphdmFUeXBlcy5TSE9SVDoKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuU0hPUlRfT0JKOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5E\nT1VCTEU6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkRPVUJMRV9PQko6\nCiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkZMT0FUOgogICAgICAgICAg\nICBjYXNlIEphdmFUeXBlcy5GTE9BVF9PQko6CiAgICAgICAgICAgIGNhc2Ug\nSmF2YVR5cGVzLkNIQVI6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkNI\nQVJfT0JKOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5TVFJJTkc6CiAg\nICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8KICAgIC8vIFN0YXRlTWFuYWdlciBpbXBsZW1lbnRhdGlv\nbgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIHB1\nYmxpYyBPYmplY3QgZ2V0R2VuZXJpY0NvbnRleHQoKSB7CiAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRQQ1ByaW1h\ncnlLZXkoT2JqZWN0IG9pZCwgaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIFN0YXRlTWFuYWdlciByZXBsYWNlU3RhdGVNYW5hZ2VyKFN0\nYXRlTWFuYWdlciBzbSkgewogICAgICAgIHJldHVybiBzbTsKICAgIH0KCiAg\nICBwdWJsaWMgT2JqZWN0IGdldFZlcnNpb24oKSB7CiAgICAgICAgcmV0dXJu\nIF92ZXJzaW9uOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFZlcnNpb24o\nT2JqZWN0IHZlcnNpb24pIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRFeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0Rp\ncnR5KCkgewogICAgICAgIHJldHVybiBfZGlydHkubGVuZ3RoKCkgIT0gMDsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1RyYW5zYWN0aW9uYWwoKSB7\nCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGlzUGVyc2lzdGVudCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNOZXcoKSB7CiAgICAgICAgcmV0\ndXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRGVsZXRl\nZCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGlj\nIGJvb2xlYW4gaXNEZXRhY2hlZCgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1ZlcnNpb25VcGRhdGVSZXF1\naXJlZCgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gaXNWZXJzaW9uQ2hlY2tSZXF1aXJlZCgpIHsKICAgICAg\nICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIHZvaWQgZGlydHko\nU3RyaW5nIGZpZWxkKSB7CiAgICAgICAgLy8gc2hvdWxkIHdlIHN0b3JlIENs\nYXNzTWV0YURhdGE/CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBmZXRjaE9iamVj\ndElkKCkgewogICAgICAgIHJldHVybiBfb2lkOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIGFjY2Vzc2luZ0ZpZWxkKGludCBpZHgpIHsKICAgICAgICBpZiAo\nIV9hY2Nlc3MgJiYgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgCS8vIGRv\nIG5vdCBhY2Nlc3MgdGhlIHBjIGZpZWxkcyBieSBpbXBsaWN0bHkgaW52b2tp\nbmcgX3BjLnRvU3RyaW5nKCkKICAgICAgICAJLy8gbWF5IGNhdXNlIGluZmlu\naXRlIGxvb3AgaWYgYWdhaW4gdHJpZXMgdG8gYWNjZXNzIHVubG9hZGVkIGZp\nZWxkIAogICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0\naW9uKF9sb2MuZ2V0KCJ1bmxvYWRlZC1kZXRhY2hlZCIsCiAgICAgICAgICAg\nICAgIEV4Y2VwdGlvbnMudG9TdHJpbmcoX3BjKSkuZ2V0TWVzc2FnZSgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBzZXJpYWxpemluZygpIHsKICAg\nICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4g\nd3JpdGVEZXRhY2hlZChPYmplY3RPdXRwdXQgb3V0KQogICAgICAgIHRocm93\ncyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgb3V0LndyaXRlT2JqZWN0KF9wYy5w\nY0dldERldGFjaGVkU3RhdGUoKSk7CiAgICAgICAgb3V0LndyaXRlT2JqZWN0\nKHRoaXMpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBwcm94eURldGFjaGVkRGVzZXJpYWxpemVkKGludCBpZHgpIHsK\nICAgICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX3Bj\nLnBjUHJvdmlkZUZpZWxkKGlkeCk7CiAgICAgICAgICAgIGlmIChvYmp2YWwg\naW5zdGFuY2VvZiBQcm94eSkKICAgICAgICAgICAgICAgICgoUHJveHkpIG9i\nanZhbCkuc2V0T3duZXIodGhpcywgaWR4KTsKICAgICAgICAgICAgb2JqdmFs\nID0gbnVsbDsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxv\nY2soKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGlu\nZ0Jvb2xlYW5GaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgs\nCiAgICAgICAgYm9vbGVhbiBjdXIsIGJvb2xlYW4gbmV4dCwgaW50IHNldCkg\newogICAgICAgIGFjY2Vzc2luZ0ZpZWxkKGlkeCk7CiAgICAgICAgaWYgKGN1\nciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdldChpZHgpKQogICAgICAgICAgICBy\nZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAgICAgbG9uZ3ZhbCA9IG5l\neHQgPyAxIDogMDsKICAgICAgICAgICAgcGMucGNSZXBsYWNlRmllbGQoaWR4\nKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2soKTsK\nICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGluZ0NoYXJG\naWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGNoYXIgY3Vy\nLAogICAgICAgIGNoYXIgbmV4dCwgaW50IHNldCkgewogICAgICAgIGFjY2Vz\nc2luZ0ZpZWxkKGlkeCk7CiAgICAgICAgaWYgKGN1ciA9PSBuZXh0IHx8ICFf\nbG9hZGVkLmdldChpZHgpKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAg\nbG9jaygpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9kaXJ0eS5zZXQo\naWR4KTsKICAgICAgICAgICAgbG9uZ3ZhbCA9IG5leHQ7CiAgICAgICAgICAg\nIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5IHsK\nICAgICAgICAgICAgdW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldHRpbmdCeXRlRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxl\nIHBjLCBpbnQgaWR4LCBieXRlIGN1ciwKICAgICAgICBieXRlIG5leHQsIGlu\ndCBzZXQpIHsKICAgICAgICBhY2Nlc3NpbmdGaWVsZChpZHgpOwogICAgICAg\nIGlmIChjdXIgPT0gbmV4dCB8fCAhX2xvYWRlZC5nZXQoaWR4KSkKICAgICAg\nICAgICAgcmV0dXJuOwogICAgICAgIGxvY2soKTsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBfZGlydHkuc2V0KGlkeCk7CiAgICAgICAgICAgIGxvbmd2\nYWwgPSBuZXh0OwogICAgICAgICAgICBwYy5wY1JlcGxhY2VGaWVsZChpZHgp\nOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nU2hvcnRG\naWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIHNob3J0IGN1\nciwKICAgICAgICBzaG9ydCBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgYWNj\nZXNzaW5nRmllbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09IG5leHQgfHwg\nIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVybjsKICAgICAg\nICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5LnNl\ndChpZHgpOwogICAgICAgICAgICBsb25ndmFsID0gbmV4dDsKICAgICAgICAg\nICAgcGMucGNSZXBsYWNlRmllbGQoaWR4KTsKICAgICAgICB9IGZpbmFsbHkg\newogICAgICAgICAgICB1bmxvY2soKTsKICAgICAgICB9CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0dGluZ0ludEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJs\nZSBwYywgaW50IGlkeCwgaW50IGN1ciwKICAgICAgICBpbnQgbmV4dCwgaW50\nIHNldCkgewogICAgICAgIGFjY2Vzc2luZ0ZpZWxkKGlkeCk7CiAgICAgICAg\naWYgKGN1ciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdldChpZHgpKQogICAgICAg\nICAgICByZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAgICAgbG9uZ3Zh\nbCA9IG5leHQ7CiAgICAgICAgICAgIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7\nCiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdW5sb2NrKCk7CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdMb25nRmll\nbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBsb25nIGN1ciwK\nICAgICAgICBsb25nIG5leHQsIGludCBzZXQpIHsKICAgICAgICBhY2Nlc3Np\nbmdGaWVsZChpZHgpOwogICAgICAgIGlmIChjdXIgPT0gbmV4dCB8fCAhX2xv\nYWRlZC5nZXQoaWR4KSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGxv\nY2soKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZGlydHkuc2V0KGlk\neCk7CiAgICAgICAgICAgIGxvbmd2YWwgPSBuZXh0OwogICAgICAgICAgICBw\nYy5wY1JlcGxhY2VGaWVsZChpZHgpOwogICAgICAgIH0gZmluYWxseSB7CiAg\nICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXR0aW5nRmxvYXRGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUg\ncGMsIGludCBpZHgsIGZsb2F0IGN1ciwKICAgICAgICBmbG9hdCBuZXh0LCBp\nbnQgc2V0KSB7CiAgICAgICAgYWNjZXNzaW5nRmllbGQoaWR4KTsKICAgICAg\nICBpZiAoY3VyID09IG5leHQgfHwgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAg\nICAgICAgIHJldHVybjsKICAgICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgX2RpcnR5LnNldChpZHgpOwogICAgICAgICAgICBkYmx2\nYWwgPSBuZXh0OwogICAgICAgICAgICBwYy5wY1JlcGxhY2VGaWVsZChpZHgp\nOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nRG91Ymxl\nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBkb3VibGUg\nY3VyLAogICAgICAgIGRvdWJsZSBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAg\nYWNjZXNzaW5nRmllbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09IG5leHQg\nfHwgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVybjsKICAg\nICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5\nLnNldChpZHgpOwogICAgICAgICAgICBkYmx2YWwgPSBuZXh0OwogICAgICAg\nICAgICBwYy5wY1JlcGxhY2VGaWVsZChpZHgpOwogICAgICAgIH0gZmluYWxs\neSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXR0aW5nU3RyaW5nRmllbGQoUGVyc2lzdGVuY2VD\nYXBhYmxlIHBjLCBpbnQgaWR4LCBTdHJpbmcgY3VyLAogICAgICAgIFN0cmlu\nZyBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgYWNjZXNzaW5nRmllbGQoaWR4\nKTsKICAgICAgICBpZiAoY3VyID09IG5leHQgfHwgKGN1ciAhPSBudWxsICYm\nIGN1ci5lcXVhbHMobmV4dCkpCiAgICAgICAgICAgICAgICB8fCAhX2xvYWRl\nZC5nZXQoaWR4KSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGxvY2so\nKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZGlydHkuc2V0KGlkeCk7\nCiAgICAgICAgICAgIG9ianZhbCA9IG5leHQ7CiAgICAgICAgICAgIHBjLnBj\nUmVwbGFjZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAg\nICAgICAgdW5sb2NrKCk7CiAgICAgICAgICAgIG9ianZhbCA9IG51bGw7CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdPYmplY3RG\naWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIE9iamVjdCBj\ndXIsCiAgICAgICAgT2JqZWN0IG5leHQsIGludCBzZXQpIHsKICAgICAgICBh\nY2Nlc3NpbmdGaWVsZChpZHgpOwogICAgICAgIGlmIChjdXIgPT0gbmV4dCB8\nfCAhX2xvYWRlZC5nZXQoaWR4KSkKICAgICAgICAgICAgcmV0dXJuOwogICAg\nICAgIGxvY2soKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZGlydHku\nc2V0KGlkeCk7CiAgICAgICAgICAgIG9ianZhbCA9IG5leHQ7CiAgICAgICAg\nICAgIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5\nIHsKICAgICAgICAgICAgdW5sb2NrKCk7CiAgICAgICAgICAgIG9ianZhbCA9\nIG51bGw7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3Zp\nZGVkQm9vbGVhbkZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlk\neCwKICAgICAgICBib29sZWFuIGN1cikgewogICAgICAgIGxvbmd2YWwgPSBj\ndXIgPyAxIDogMDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZENo\nYXJGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGNoYXIg\nY3VyKSB7CiAgICAgICAgbG9uZ3ZhbCA9IGN1cjsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBwcm92aWRlZEJ5dGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUg\ncGMsIGludCBpZHgsIGJ5dGUgY3VyKSB7CiAgICAgICAgbG9uZ3ZhbCA9IGN1\ncjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZFNob3J0RmllbGQo\nUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBzaG9ydCBjdXIpIHsK\nICAgICAgICBsb25ndmFsID0gY3VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHByb3ZpZGVkSW50RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQg\naWR4LCBpbnQgY3VyKSB7CiAgICAgICAgbG9uZ3ZhbCA9IGN1cjsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZExvbmdGaWVsZChQZXJzaXN0ZW5j\nZUNhcGFibGUgcGMsIGludCBpZHgsIGxvbmcgY3VyKSB7CiAgICAgICAgbG9u\nZ3ZhbCA9IGN1cjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRlZEZs\nb2F0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBmbG9h\ndCBjdXIpIHsKICAgICAgICBkYmx2YWwgPSBjdXI7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgcHJvdmlkZWREb3VibGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgsCiAgICAgICAgZG91YmxlIGN1cikgewogICAgICAg\nIGRibHZhbCA9IGN1cjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRl\nZFN0cmluZ0ZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwK\nICAgICAgICBTdHJpbmcgY3VyKSB7CiAgICAgICAgb2JqdmFsID0gY3VyOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkT2JqZWN0RmllbGQoUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIE9iamVjdCBj\ndXIpIHsKICAgICAgICBvYmp2YWwgPSBjdXI7CiAgICB9CgogICAgcHVibGlj\nIGJvb2xlYW4gcmVwbGFjZUJvb2xlYW5GaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4gbG9uZ3ZhbCA9PSAx\nOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIHJlcGxhY2VDaGFyRmllbGQoUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgcmV0dXJu\nIChjaGFyKSBsb25ndmFsOwogICAgfQoKICAgIHB1YmxpYyBieXRlIHJlcGxh\nY2VCeXRlRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7\nCiAgICAgICAgcmV0dXJuIChieXRlKSBsb25ndmFsOwogICAgfQoKICAgIHB1\nYmxpYyBzaG9ydCByZXBsYWNlU2hvcnRGaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4gKHNob3J0KSBsb25n\ndmFsOwogICAgfQoKICAgIHB1YmxpYyBpbnQgcmVwbGFjZUludEZpZWxkKFBl\ncnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAgICAgIHJldHVy\nbiAoaW50KSBsb25ndmFsOwogICAgfQoKICAgIHB1YmxpYyBsb25nIHJlcGxh\nY2VMb25nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7\nCiAgICAgICAgcmV0dXJuIGxvbmd2YWw7CiAgICB9CgogICAgcHVibGljIGZs\nb2F0IHJlcGxhY2VGbG9hdEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywg\naW50IGlkeCkgewogICAgICAgIHJldHVybiAoZmxvYXQpIGRibHZhbDsKICAg\nIH0KCiAgICBwdWJsaWMgZG91YmxlIHJlcGxhY2VEb3VibGVGaWVsZChQZXJz\naXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4g\nZGJsdmFsOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgcmVwbGFjZVN0cmlu\nZ0ZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkgewogICAg\nICAgIFN0cmluZyBzdHIgPSAoU3RyaW5nKSBvYmp2YWw7CiAgICAgICAgb2Jq\ndmFsID0gbnVsbDsKICAgICAgICByZXR1cm4gc3RyOwogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3QgcmVwbGFjZU9iamVjdEZpZWxkKFBlcnNpc3RlbmNlQ2Fw\nYWJsZSBwYywgaW50IGlkeCkgewogICAgICAgIE9iamVjdCByZXQgPSBvYmp2\nYWw7CiAgICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAgICByZXR1cm4gcmV0\nOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vCiAgICAvLyBPcGVuSlBBU3RhdGVNYW5hZ2VyIGltcGxlbWVudGF0\naW9uCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLwoKICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoQ2xhc3MgZm9yVHlwZSwg\nUENTdGF0ZSBzdGF0ZSkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIGxvYWQoRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIE9iamVjdCBnZXRNYW5hZ2VkSW5zdGFuY2UoKSB7CiAg\nICAgICAgcmV0dXJuIF9wYzsKICAgIH0KCiAgICBwdWJsaWMgUGVyc2lzdGVu\nY2VDYXBhYmxlIGdldFBlcnNpc3RlbmNlQ2FwYWJsZSgpIHsKICAgICAgICBy\nZXR1cm4gX3BjOwogICAgfQoKICAgIHB1YmxpYyBDbGFzc01ldGFEYXRhIGdl\ndE1ldGFEYXRhKCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPcGVuSlBB\nU3RhdGVNYW5hZ2VyIGdldE93bmVyKCkgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyBWYWx1ZU1ldGFEYXRhIGdldE93bmVyTWV0YURhdGEoKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNFbWJlZGRlZCgpIHsKICAg\nICAgICByZXR1cm4gX2VtYmVkZGVkOwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGlzRmx1c2hlZCgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9v\nbGVhbiBpc0ZsdXNoZWREaXJ0eSgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBpc1Byb3Zpc2lvbmFsKCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyBCaXRTZXQgZ2V0TG9hZGVkKCkgewogICAgICAgIHJldHVybiBf\nbG9hZGVkOwogICAgfQoKICAgIHB1YmxpYyBCaXRTZXQgZ2V0RGlydHkoKSB7\nCiAgICAgICAgcmV0dXJuIF9kaXJ0eTsKICAgIH0KCiAgICBwdWJsaWMgQml0\nU2V0IGdldEZsdXNoZWQoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIEJp\ndFNldCBnZXRVbmxvYWRlZChGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IG5ld1Byb3h5KGludCBm\naWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgbmV3Rmll\nbGRQcm94eShpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBpc0RlZmF1bHRWYWx1ZShpbnQgZmllbGQpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgU3RvcmVDb250ZXh0IGdldENvbnRleHQoKSB7CiAg\nICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIFBDU3RhdGUg\nZ2V0UENTdGF0ZSgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0\nIGdldE9iamVjdElkKCkgewogICAgICAgIHJldHVybiBfb2lkOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldE9iamVjdElkKE9iamVjdCBvaWQpIHsKICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24o\nKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBhc3NpZ25PYmplY3RJZChi\nb29sZWFuIGZsdXNoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cgog\nICAgcHVibGljIE9iamVjdCBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gZ2V0\nT2JqZWN0SWQoKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldExvY2so\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TG9jayhPYmpl\nY3QgbG9jaykgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE5l\neHRWZXJzaW9uKE9iamVjdCB2ZXJzaW9uKSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIE9iamVjdCBnZXRJbXBsRGF0YSgpIHsKICAgICAgICB0aHJvdyBu\nZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAg\nICBwdWJsaWMgT2JqZWN0IHNldEltcGxEYXRhKE9iamVjdCBkYXRhLCBib29s\nZWFuIGNhY2hlYWJsZSkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGlzSW1wbERhdGFDYWNoZWFibGUoKSB7CiAgICAgICAgcmV0dXJuIGZh\nbHNlOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0SW1wbERhdGEoaW50\nIGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBzZXRJ\nbXBsRGF0YShpbnQgZmllbGQsIE9iamVjdCBkYXRhKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gaXNJbXBsRGF0YUNhY2hlYWJsZShpbnQg\nZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldElu\ndGVybWVkaWF0ZShpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRJbnRlcm1lZGlhdGUoaW50IGZpZWxkLCBPYmplY3QgZGF0\nYSkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlbW92ZWQoaW50\nIGZpZWxkLCBPYmplY3QgcmVtb3ZlZCwgYm9vbGVhbiBrZXkpIHsKICAgICAg\nICBkaXJ0eShmaWVsZCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gYmVm\nb3JlUmVmcmVzaChib29sZWFuIGFsbCkgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGRpcnR5KGludCBmaWVsZCkgewogICAgICAgIGxvY2soKTsK\nICAgICAgICB0cnkgewogICAgICAgICAgICBfZGlydHkuc2V0KGZpZWxkKTsK\nICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2soKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVCb29sZWFuKGlu\ndCBmaWVsZCwgYm9vbGVhbiBleHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzdG9yZUJ5dGUoaW50IGZpZWxkLCBieXRlIGV4dFZhbCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlQ2hhcihpbnQg\nZmllbGQsIGNoYXIgZXh0VmFsKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc3RvcmVJbnQoaW50IGZpZWxkLCBpbnQgZXh0VmFsKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVTaG9ydChpbnQgZmllbGQs\nIHNob3J0IGV4dFZhbCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHN0b3JlTG9uZyhpbnQgZmllbGQsIGxvbmcgZXh0VmFsKSB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVGbG9hdChpbnQgZmllbGQsIGZs\nb2F0IGV4dFZhbCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0\nb3JlRG91YmxlKGludCBmaWVsZCwgZG91YmxlIGV4dFZhbCkgewogICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlU3RyaW5nKGludCBmaWVsZCwg\nU3RyaW5nIGV4dFZhbCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHN0b3JlT2JqZWN0KGludCBmaWVsZCwgT2JqZWN0IGV4dFZhbCkgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3JlKGludCBmaWVsZCwgT2Jq\nZWN0IGV4dFZhbCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0\nb3JlRmllbGQoaW50IGZpZWxkLCBPYmplY3QgdmFsdWUpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBmZXRjaEJvb2xlYW4oaW50IGZpZWxk\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJ5dGUgZmV0Y2hCeXRlKGlu\ndCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIGZldGNo\nQ2hhcihpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgc2hv\ncnQgZmV0Y2hTaG9ydChpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGZldGNoSW50KGludCBmaWVsZCkgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyBsb25nIGZldGNoTG9uZyhpbnQgZmllbGQpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgZmxvYXQgZmV0Y2hGbG9hdChpbnQgZmllbGQp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgZG91YmxlIGZldGNoRG91Ymxl\nKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\nZmV0Y2hTdHJpbmcoaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIE9iamVjdCBmZXRjaE9iamVjdChpbnQgZmllbGQpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoKGludCBmaWVsZCkgewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZmV0Y2hGaWVsZChpbnQgZmll\nbGQsIGJvb2xlYW4gdHJhbnNpdGlvbnMpIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IGZldGNoSW5pdGlhbEZpZWxkKGludCBmaWVsZCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlbW90ZShpbnQgZmll\nbGQsIE9iamVjdCB2YWx1ZSkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIGxvY2soKSB7CiAgICAgICAgaWYgKF9sb2NrICE9IG51bGwpCiAgICAg\nICAgICAgIF9sb2NrLmxvY2soKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB1\nbmxvY2soKSB7CiAgICAgICAgaWYgKF9sb2NrICE9IG51bGwpCiAgICAgICAg\nICAgIF9sb2NrLnVubG9jaygpOwogICAgfQp9Cg==\n","encoding":"base64"}

