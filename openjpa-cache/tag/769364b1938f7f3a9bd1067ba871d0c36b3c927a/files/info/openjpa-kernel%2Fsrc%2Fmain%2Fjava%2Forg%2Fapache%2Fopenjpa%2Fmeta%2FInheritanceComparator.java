{"sha":"bd56b81fe832e401be8cb666dd4977e34647a1b4","node_id":"MDQ6QmxvYjIwNjM2NDpiZDU2YjgxZmU4MzJlNDAxYmU4Y2I2NjZkZDQ5NzdlMzQ2NDdhMWI0","size":2790,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bd56b81fe832e401be8cb666dd4977e34647a1b4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0IGphdmEudXRpbC5Db21wYXJhdG9y\nOwoKLyoqCiAqIENvbXBhcmF0b3IgdGhhdCBrZWVwcyBjbGFzc2VzIGluIGlu\naGVyaXRhbmNlIG9yZGVyLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBA\nbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3MgSW5oZXJpdGFuY2VDb21wYXJh\ndG9yCiAgICBpbXBsZW1lbnRzIENvbXBhcmF0b3IsIFNlcmlhbGl6YWJsZSB7\nCgogICAgcHJpdmF0ZSBDbGFzcyBfYmFzZSA9IG51bGw7CgogICAgLyoqCiAg\nICAgKiBTZXQgdGhlIGxlYXN0LWRlcml2ZWQgdHlwZSBwb3NzaWJsZTsgZGVm\nYXVsdHMgdG8gPGNvZGU+bnVsbDwvY29kZT4uCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldEJhc2UoQ2xhc3MgYmFzZSkgewogICAgICAgIF9iYXNlID0g\nYmFzZTsKICAgIH0KCiAgICAvKioKICAgICAqIFN1YmNsYXNzZXMgY2FuIG92\nZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGV4dHJhY3QgdGhlIGNsYXNzIHRvIGNv\nbXBhcmUKICAgICAqIG9uIGZyb20gdGhlIGVsZW1lbnRzIG9mIHRoZSBjb2xs\nZWN0aW9uLgogICAgICovCiAgICBwcm90ZWN0ZWQgQ2xhc3MgdG9DbGFzcyhP\nYmplY3QgZWxlbSkgewogICAgICAgIHJldHVybiAoQ2xhc3MpIGVsZW07CiAg\nICB9CgogICAgcHVibGljIGludCBjb21wYXJlKE9iamVjdCBvMSwgT2JqZWN0\nIG8yKSB7CiAgICAgICAgaWYgKG8xID09IG8yKQogICAgICAgICAgICByZXR1\ncm4gMDsKICAgICAgICBpZiAobzEgPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIC0xOwogICAgICAgIGlmIChvMiA9PSBudWxsKQogICAgICAgICAgICBy\nZXR1cm4gMTsKCiAgICAgICAgQ2xhc3MgYzEgPSB0b0NsYXNzKG8xKTsKICAg\nICAgICBDbGFzcyBjMiA9IHRvQ2xhc3MobzIpOwogICAgICAgIGlmIChjMSA9\nPSBjMikKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgaWYgKGMxID09\nIG51bGwpCiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICBpZiAoYzIg\nPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIDE7CgogICAgICAgIGludCBp\nMSA9IGxldmVscyhjMSk7CiAgICAgICAgaW50IGkyID0gbGV2ZWxzKGMyKTsK\nICAgICAgICBpZiAoaTEgPT0gaTIpIHsKICAgICAgICAgICAgLy8gc29ydCBz\naW1wbGUgaW50ZXJmYWNlcyBhcyB3ZWxsIGFzIHNpbXBsZSBvcmRlciB0ZXN0\nIHdpbGwgZmFpbC4KICAgICAgICAgICAgaWYgKGMxLmlzQXNzaWduYWJsZUZy\nb20oYzIpKQogICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAg\nICBpZiAoYzIuaXNBc3NpZ25hYmxlRnJvbShjMSkpCiAgICAgICAgICAgICAg\nICByZXR1cm4gMTsKICAgICAgICAgICAgcmV0dXJuIGMxLmdldE5hbWUoKS5j\nb21wYXJlVG8oYzIuZ2V0TmFtZSgpKTsKICAgICAgICB9CiAgICAgICAgaWYg\nKGkxIDwgaTIpCiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICBlbHNl\nIGlmIChpMSA+IGkyKQogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICBl\nbHNlCiAgICAgICAgICAgIHJldHVybiAwOwogICAgfQoKICAgIC8qKgogICAg\nICogQ291bnQgdGhlIGxldmVscyBvZiBpbmhlcml0YW5jZSBiZXR3ZWVuIHRo\naXMgY2xhc3MgYW5kIG91ciBiYXNlIGNsYXNzLgogICAgICovCiAgICBwcml2\nYXRlIGludCBsZXZlbHMoQ2xhc3MgdG8pIHsKICAgICAgICBpZiAodG8uaXNJ\nbnRlcmZhY2UoKSkKICAgICAgICAgICAgcmV0dXJuIHRvLmdldEludGVyZmFj\nZXMoKS5sZW5ndGg7CiAgICAgICAgaWYgKF9iYXNlID09IG51bGwpCiAgICAg\nICAgICAgIHJldHVybiAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyB0byAh\nPSBudWxsOyBpKyssIHRvID0gdG8uZ2V0U3VwZXJjbGFzcygpKQogICAgICAg\nICAgICBpZiAodG8gPT0gX2Jhc2UpCiAgICAgICAgICAgICAgICByZXR1cm4g\naTsKICAgICAgICByZXR1cm4gSW50ZWdlci5NQVhfVkFMVUU7CiAgICB9Cn0K\n","encoding":"base64"}

