{"sha":"ffeeb93c27ebfe8dcc540ae012b9aacb65d4688b","node_id":"MDQ6QmxvYjIwNjM2NDpmZmVlYjkzYzI3ZWJmZThkY2M1NDBhZTAxMmI5YWFjYjY1ZDQ2ODhi","size":4167,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ffeeb93c27ebfe8dcc540ae012b9aacb65d4688b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2U7CgppbXBv\ncnQgamF2YS5sYW5nLnJlZmxlY3QuSW52b2NhdGlvblRhcmdldEV4Y2VwdGlv\nbjsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwoKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5ldmVudC5EZWxldGVMaXN0ZW5lcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5ldmVudC5MaWZlY3ljbGVDYWxsYmFja3M7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZXZlbnQuTGlmZWN5Y2xlRXZlbnQ7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZXZlbnQuTGlmZWN5Y2xlRXZl\nbnRNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmV2ZW50Lkxv\nYWRMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5Q\nZXJzaXN0TGlzdGVuZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZXZl\nbnQuUG9zdFBlcnNpc3RMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5ldmVudC5VcGRhdGVMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5ldmVudC5Qb3N0RGVsZXRlTGlzdGVuZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnV0aWwuQ2FsbGJhY2tFeGNlcHRpb247CgpjbGFz\ncyBQZXJzaXN0ZW5jZUxpc3RlbmVyQWRhcHRlcgogICAgaW1wbGVtZW50cyBM\naWZlY3ljbGVFdmVudE1hbmFnZXIuTGlzdGVuZXJBZGFwdGVyLCBQZXJzaXN0\nTGlzdGVuZXIsCiAgICBQb3N0UGVyc2lzdExpc3RlbmVyLCBMb2FkTGlzdGVu\nZXIsIFVwZGF0ZUxpc3RlbmVyLCBEZWxldGVMaXN0ZW5lciwKICAgIFBvc3RE\nZWxldGVMaXN0ZW5lciB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9j\nYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgIChQ\nZXJzaXN0ZW5jZUxpc3RlbmVyQWRhcHRlci5jbGFzcyk7CgogICAgcHJpdmF0\nZSBmaW5hbCBMaWZlY3ljbGVDYWxsYmFja3NbXVtdIF9jYWxsYmFja3M7Cgog\nICAgcHVibGljIFBlcnNpc3RlbmNlTGlzdGVuZXJBZGFwdGVyKExpZmVjeWNs\nZUNhbGxiYWNrc1tdW10gY2FsbGJhY2tzKSB7CiAgICAgICAgX2NhbGxiYWNr\ncyA9IGNhbGxiYWNrczsKICAgIH0KCiAgICBwdWJsaWMgUGVyc2lzdGVuY2VM\naXN0ZW5lckFkYXB0ZXIoQ29sbGVjdGlvbjxMaWZlY3ljbGVDYWxsYmFja3M+\nW10gY2FsbHMpIHsKICAgICAgICBfY2FsbGJhY2tzID0gbmV3IExpZmVjeWNs\nZUNhbGxiYWNrc1tMaWZlY3ljbGVFdmVudC5BTExfRVZFTlRTLmxlbmd0aF1b\nXTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IExpZmVjeWNsZUV2ZW50\nLkFMTF9FVkVOVFMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGNh\nbGxzW2ldID09IG51bGwpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAg\nICAgICAgICAgX2NhbGxiYWNrc1tpXSA9IGNhbGxzW2ldLnRvQXJyYXkKICAg\nICAgICAgICAgICAgIChuZXcgTGlmZWN5Y2xlQ2FsbGJhY2tzW2NhbGxzW2ld\nLnNpemUoKV0pOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiByZXNwb25kc1RvKGludCBldmVudFR5cGUpIHsKICAgICAgICByZXR1cm4g\nX2NhbGxiYWNrc1tldmVudFR5cGVdICE9IG51bGw7CiAgICB9CgogICAgcHJp\ndmF0ZSB2b2lkIG1ha2VDYWxsYmFjayhMaWZlY3ljbGVFdmVudCBldikgewog\nICAgICAgIGludCBldmVudFR5cGUgPSBldi5nZXRUeXBlKCk7CiAgICAgICAg\naWYgKF9jYWxsYmFja3NbZXZlbnRUeXBlXSA9PSBudWxsKQogICAgICAgICAg\nICByZXR1cm47CiAgICAgICAgT2JqZWN0IHNyYyA9IGV2LmdldFNvdXJjZSgp\nOwogICAgICAgIGZvciAoTGlmZWN5Y2xlQ2FsbGJhY2tzIGNhbGxiYWNrIDog\nX2NhbGxiYWNrc1tldmVudFR5cGVdKSB7CiAgICAgICAgICAgIHRyeSB7CiAg\nICAgICAgICAgICAgICBjYWxsYmFjay5tYWtlQ2FsbGJhY2soc3JjLCBldi5n\nZXRSZWxhdGVkKCksIGV2ZW50VHlwZSk7CiAgICAgICAgICAgIH0gY2F0Y2gg\nKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgICAgICBpZiAodCBpbnN0YW5j\nZW9mIEludm9jYXRpb25UYXJnZXRFeGNlcHRpb24pCiAgICAgICAgICAgICAg\nICAgICAgdCA9IHQuZ2V0Q2F1c2UoKTsKICAgICAgICAgICAgICAgIGlmICh0\nIGluc3RhbmNlb2YgUnVudGltZUV4Y2VwdGlvbikKICAgICAgICAgICAgICAg\nICAgICB0aHJvdyAoUnVudGltZUV4Y2VwdGlvbikgdDsKCiAgICAgICAgICAg\nICAgICB0aHJvdyBuZXcgQ2FsbGJhY2tFeGNlcHRpb24oX2xvYy5nZXQoInN5\nc3RlbS1saXN0ZW5lci1lcnIiLAogICAgICAgICAgICAgICAgICAgIHNyYykp\nLnNldENhdXNlKHQpLnNldEZhdGFsKHRydWUpOwogICAgICAgICAgICB9CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIGJlZm9yZVBlcnNpc3Qo\nTGlmZWN5Y2xlRXZlbnQgZXZlbnQpIHsKICAgICAgICBtYWtlQ2FsbGJhY2so\nZXZlbnQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFmdGVyUGVyc2lzdChM\naWZlY3ljbGVFdmVudCBldmVudCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIGFmdGVyUGVyc2lzdFBlcmZvcm1lZChMaWZlY3ljbGVFdmVudCBl\ndmVudCkgewogICAgICAgIG1ha2VDYWxsYmFjayhldmVudCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgYWZ0ZXJMb2FkKExpZmVjeWNsZUV2ZW50IGV2ZW50\nKSB7CiAgICAgICAgbWFrZUNhbGxiYWNrKGV2ZW50KTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBhZnRlclJlZnJlc2goTGlmZWN5Y2xlRXZlbnQgZXZlbnQp\nIHsKICAgICAgICBtYWtlQ2FsbGJhY2soZXZlbnQpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGJlZm9yZVVwZGF0ZShMaWZlY3ljbGVFdmVudCBldmVudCkg\newogICAgICAgIG1ha2VDYWxsYmFjayhldmVudCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgYWZ0ZXJVcGRhdGVQZXJmb3JtZWQoTGlmZWN5Y2xlRXZlbnQg\nZXZlbnQpIHsKICAgICAgICBtYWtlQ2FsbGJhY2soZXZlbnQpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIGJlZm9yZURlbGV0ZShMaWZlY3ljbGVFdmVudCBl\ndmVudCkgewogICAgICAgIG1ha2VDYWxsYmFjayhldmVudCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgYWZ0ZXJEZWxldGUoTGlmZWN5Y2xlRXZlbnQgZXZl\nbnQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhZnRlckRlbGV0\nZVBlcmZvcm1lZChMaWZlY3ljbGVFdmVudCBldmVudCkgewogICAgICAgIG1h\na2VDYWxsYmFjayhldmVudCk7CiAgICB9Cn0K\n","encoding":"base64"}

