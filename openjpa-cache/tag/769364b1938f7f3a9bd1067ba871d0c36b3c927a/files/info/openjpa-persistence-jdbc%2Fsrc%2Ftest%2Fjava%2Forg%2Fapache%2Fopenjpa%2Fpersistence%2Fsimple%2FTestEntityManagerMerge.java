{"sha":"88fd5a71e7d745e3dd8c317bc1a03e9888602284","node_id":"MDQ6QmxvYjIwNjM2NDo4OGZkNWE3MWU3ZDc0NWUzZGQ4YzMxN2JjMWEwM2U5ODg4NjAyMjg0","size":3976,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/88fd5a71e7d745e3dd8c317bc1a03e9888602284","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uuc2ltcGxlOw0KDQppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuRW50aXR5TWFuYWdlcjsNCg0KaW1wb3J0IGp1bml0LnRleHR1aS5UZXN0\nUnVubmVyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS50ZXN0LlNpbmdsZUVNVGVzdENhc2U7DQoNCi8qKg0KICogVGVzdCBjYXNl\nIHRvIGVuc3VyZSB0aGF0IHRoZSBwcm9wZXIgSlBBIG1lcmdlIHNlbWFudGlj\ncyBhcmUgcHJvY2Vzc2VkLg0KICoNCiAqIEBhdXRob3IgS2V2aW4gU3V0dGVy\nDQogKi8NCnB1YmxpYyBjbGFzcyBUZXN0RW50aXR5TWFuYWdlck1lcmdlDQog\nICAgZXh0ZW5kcyBTaW5nbGVFTVRlc3RDYXNlIHsNCg0KICAgIHB1YmxpYyB2\nb2lkIHNldFVwKCkgew0KICAgICAgICBzZXRVcChBbGxGaWVsZFR5cGVzLmNs\nYXNzLCBQZXJzb24uY2xhc3MpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lk\nIHRlc3RNZXJnZSgpIHsNCiAgICAgICAgLy8gQ3JlYXRlIEVudGl0eU1hbmFn\nZXIgYW5kIFN0YXJ0IGEgdHJhbnNhY3Rpb24gKDEpDQogICAgICAgIGJlZ2lu\nKCk7DQoNCiAgICAgICAgLy8gSW5zZXJ0IGEgbmV3IG9iamVjdCBpbnRvIHRo\nZSBQQw0KICAgICAgICBBbGxGaWVsZFR5cGVzIHRlc3RPYmplY3QgPSBuZXcg\nQWxsRmllbGRUeXBlcygpOw0KICAgICAgICB0ZXN0T2JqZWN0LnNldFN0cmlu\nZ0ZpZWxkKCJuZXcgdGVzdCBvYmplY3QiKTsNCiAgICAgICAgcGVyc2lzdCh0\nZXN0T2JqZWN0KTsNCiAgICAgICAgYXNzZXJ0VHJ1ZSgidGVzdE9iamVjdCBu\nb3QgZm91bmQgaW4gcGMiLCBlbS5jb250YWlucyh0ZXN0T2JqZWN0KSk7DQog\nICAgICAgIA0KICAgICAgICAvLyBNb2RpZnkgdGhpcyBvYmplY3QuLi4NCiAg\nICAgICAgdGVzdE9iamVjdC5zZXRTdHJpbmdGaWVsZCgidXBkYXRlZCB0ZXN0\nIG9iamVjdCIpOw0KDQogICAgICAgIC8vIEF0dGVtcHQgdG8gbWVyZ2UgdGhp\ncyB1cGRhdGVkIG9iamVjdCBpbnRvIHRoZSBQQy4gIFNob3VsZCBiZSBpZ25v\ncmVkLg0KICAgICAgICBBbGxGaWVsZFR5cGVzIG1lcmdlZE9iamVjdCA9IGVt\nLm1lcmdlKHRlc3RPYmplY3QpOw0KICAgICAgICBhc3NlcnRUcnVlKCJtZXJn\nZWRPYmplY3QgYW5kIHRlc3RPYmplY3QgYXJlIG5vdCBlcXVhbCIsIA0KICAg\nICAgICAgICAgICAgIG1lcmdlZE9iamVjdC5lcXVhbHModGVzdE9iamVjdCkp\nOw0KICAgICAgICBhc3NlcnRUcnVlKCJtZXJnZWRPYmplY3QgYW5kIHRlc3RP\nYmplY3QgYXJlIG5vdCA9PSIsIA0KICAgICAgICAgICAgICAgIG1lcmdlZE9i\namVjdCA9PSB0ZXN0T2JqZWN0KTsNCiAgICAgICAgYXNzZXJ0VHJ1ZSgidGVz\ndE9iamVjdCBub3QgZm91bmQgaW4gcGMiLCBlbS5jb250YWlucyh0ZXN0T2Jq\nZWN0KSk7DQogICAgICAgIGFzc2VydFRydWUoIm1lcmdlZE9iamVjdCBub3Qg\nZm91bmQgaW4gcGMiLCBlbS5jb250YWlucyhtZXJnZWRPYmplY3QpKTsNCiAg\nICAgICAgDQogICAgICAgIC8vIEFuZCwgb25jZSBhZ2Fpbi4uLg0KICAgICAg\nICB0ZXN0T2JqZWN0LnNldFN0cmluZ0ZpZWxkKCJ5ZXQgYW5vdGhlciB1cGRh\ndGUiKTsNCiAgICAgICAgQWxsRmllbGRUeXBlcyBtZXJnZWRPYmplY3QyID0g\nZW0ubWVyZ2UodGVzdE9iamVjdCk7DQogICAgICAgIGFzc2VydFRydWUoIm1l\ncmdlZE9iamVjdDIgYW5kIHRlc3RPYmplY3QgYXJlIG5vdCBlcXVhbCIsIA0K\nICAgICAgICAgICAgICAgIG1lcmdlZE9iamVjdDIuZXF1YWxzKHRlc3RPYmpl\nY3QpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZSgibWVyZ2VkT2JqZWN0MiBhbmQg\ndGVzdE9iamVjdCBhcmUgbm90ID09IiwgDQogICAgICAgICAgICAgICAgbWVy\nZ2VkT2JqZWN0MiA9PSB0ZXN0T2JqZWN0KTsNCiAgICAgICAgYXNzZXJ0VHJ1\nZSgidGVzdE9iamVjdCBub3QgZm91bmQgaW4gcGMiLCBlbS5jb250YWlucyh0\nZXN0T2JqZWN0KSk7DQogICAgICAgIGFzc2VydFRydWUoIm1lcmdlZE9iamVj\ndDIgbm90IGZvdW5kIGluIHBjIiwgZW0uY29udGFpbnMobWVyZ2VkT2JqZWN0\nMikpOw0KICAgICAgICANCiAgICAgICAgLy8gUm9sbGJhY2sNCiAgICAgICAg\ncm9sbGJhY2soKTsNCiAgDQogICAgfQ0KICAgIA0KICAgIC8qKg0KICAgICAq\nIFRoaXMgdGVzdCB2ZXJpZmllcyB0aGF0IHBlcnNpc3RpbmcgYSBuZXcgZW50\naXR5IHdoaWNoIG1hdGNoZXMgYW4gZXhpc3RpbmcgDQogICAgICogcm93IGlu\nIHRoZSBkYXRhYmFzZSBzdWNjZWVkcy4gDQogICAgICovDQogICAgcHVibGlj\nIHZvaWQgdGVzdE1lcmdlRXhpc3RpbmdFbnRpdHkoKSB7DQogICAgICAgIFBl\ncnNvbiBwID0gbmV3IFBlcnNvbigpOw0KICAgICAgICBwLnNldElkKDEwMik7\nDQoNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRp\ndHlNYW5hZ2VyKCk7DQoNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOw0KICAgICAgICBlbS5wZXJzaXN0KHApOw0KICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAgICBlbS5jbG9zZSgp\nOw0KDQogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsN\nCiAgICAgICAgcCA9IG5ldyBQZXJzb24oKTsNCiAgICAgICAgcC5zZXRJZCgx\nMDIpOw0KICAgICAgICBwLnNldEZvcmVuYW1lKCJKYW5lIik7DQoNCiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOw0KICAgICAgICBlbS5t\nZXJnZShwKTsNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsNCg0KICAgICAgICBlbS5jbG9zZSgpOw0KDQogICAgICAgIGVtID0gZW1m\nLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgcCA9IChQZXJzb24p\nIGVtLmNyZWF0ZVF1ZXJ5KCJTZWxlY3QgcCBmcm9tIFBlcnNvbiBwIHdoZXJl\nIHAuaWQgPSAxMDIiKQ0KICAgICAgICAgICAgICAgIC5nZXRTaW5nbGVSZXN1\nbHQoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKHApOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoIkphbmUiLCBwLmdldEZvcmVuYW1lKCkpOw0KICAgICAg\nICANCiAgICAgICAgZW0uY2xvc2UoKTsNCiAgICB9DQogICAgDQogICAgcHVi\nbGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgew0KICAgICAg\nICBUZXN0UnVubmVyLnJ1bihUZXN0RW50aXR5TWFuYWdlck1lcmdlLmNsYXNz\nKTsNCiAgICB9DQp9DQoNCg==\n","encoding":"base64"}

