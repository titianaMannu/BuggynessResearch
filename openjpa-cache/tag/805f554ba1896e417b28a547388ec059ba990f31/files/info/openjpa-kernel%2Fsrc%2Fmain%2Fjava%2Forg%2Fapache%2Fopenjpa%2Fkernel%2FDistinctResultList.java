{"sha":"8e4c31293d4b0ca3e6ceff96ae23d6fce1cb6c8b","node_id":"MDQ6QmxvYjIwNjM2NDo4ZTRjMzEyOTNkNGIwY2EzZTZjZWZmOTZhZTIzZDZmY2UxY2I2Yzhi","size":5693,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8e4c31293d4b0ca3e6ceff96ae23d6fce1cb6c8b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uT2JqZWN0U3RyZWFtRXhjZXB0aW9uOwppbXBvcnQgamF2YS5pby5T\nZXJpYWxpemFibGU7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBv\ncnQgamF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwuSXRl\ncmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRp\nbC5MaXN0SXRlcmF0b3I7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5yb3AuUmVzdWx0TGlzdDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51\ndGlsLlJ1bnRpbWVFeGNlcHRpb25UcmFuc2xhdG9yOwoKLyoqCiAqIEFuIGlt\nbXV0YWJsZSBsaXN0IHRoYXQgaW1wb3NlcyB1bmlxdWVuZXNzIG9uIGl0cyBt\nZW1iZXIuIFRoaXMgaW1wbGVtZW50YXRpb24KICogdHJhdmVyc2VzIHRoZSBl\nbnRpcmUgcmVzdWx0IGxpc3Qgb24gY29uc3RydWN0aW9uLiBTbyBpdCBpcyBu\nb3Qgc3VpdGFibGUgb3IKICogZWZmaWNpZW50IGZvciBsYXJnZSByZXN1bHRz\nLiBBbGwgbXV0YXRpb24gb3BlcmF0aW9ucyAoZXhjZXB0IGNsZWFyKCkpIHRo\ncm93CiAqIHtAbGluayBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbn0u\nCiAqIAogKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICogQHNpbmNlIDIuMC4w\nCiAqIAogKiBAcGFyYW0gPEU+CiAqICAgICAgICAgICAgZWxlbWVudCB0eXBl\nCiAqLwpwdWJsaWMgY2xhc3MgRGlzdGluY3RSZXN1bHRMaXN0PEU+IGltcGxl\nbWVudHMgTGlzdDxFPiwgU2VyaWFsaXphYmxlIHsKICAgIHByaXZhdGUgc3Rh\ndGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IC02MTQwMTE5NzY0\nOTQwNzc3OTIyTDsKCiAgICBwcml2YXRlIGZpbmFsIEFycmF5TGlzdDxFPiBf\nZGVsOwogICAgcHJpdmF0ZSBmaW5hbCBSdW50aW1lRXhjZXB0aW9uVHJhbnNs\nYXRvciBfdHJhbnM7CgogICAgcHVibGljIERpc3RpbmN0UmVzdWx0TGlzdChS\nZXN1bHRMaXN0PEU+IGxpc3QsIFJ1bnRpbWVFeGNlcHRpb25UcmFuc2xhdG9y\nIHRyYW5zKSB7CiAgICAgICAgX2RlbCA9IG5ldyBBcnJheUxpc3Q8RT4oKTsK\nICAgICAgICBfdHJhbnMgPSB0cmFuczsKICAgICAgICBmb3IgKEUgZSA6IGxp\nc3QpIHsKICAgICAgICAgICAgaWYgKCFfZGVsLmNvbnRhaW5zKGUpKQogICAg\nICAgICAgICAgICAgX2RlbC5hZGQoZSk7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBib29sZWFuIGFkZChFIG8pIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBhZGQoaW50IGluZGV4LCBFIGVsZW1lbnQpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBhZGRBbGwoQ29sbGVjdGlvbjw/\nIGV4dGVuZHMgRT4gYykgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGFkZEFsbChpbnQgaW5kZXgsIENvbGxlY3Rpb248PyBleHRlbmRzIEU+\nIGMpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbGVhcigpIHsK\nICAgICAgICB0cnkgewogICAgICAgICAgICBfZGVsLmNsZWFyKCk7CiAgICAg\nICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAg\nICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBjb250YWlucyhPYmplY3QgbykgewogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLmNvbnRhaW5zKG8pOwogICAg\nICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAg\nICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gY29udGFpbnNBbGwoQ29sbGVjdGlvbjw/PiBjKSB7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9kZWwuY29udGFp\nbnNBbGwoYyk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiBy\nZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwdWJsaWMgRSBnZXQoaW50IGluZGV4KSB7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9kZWwuZ2V0KGluZGV4KTsK\nICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAg\nICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyBpbnQgaW5kZXhPZihPYmplY3QgbykgewogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLmluZGV4T2Yobyk7CiAgICAg\nICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAg\nICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBpc0VtcHR5KCkgewogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIHJldHVybiBfZGVsLmlzRW1wdHkoKTsKICAgICAgICB9IGNhdGNo\nIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRy\nYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBJdGVy\nYXRvcjxFPiBpdGVyYXRvcigpIHsKICAgICAgICB0cnkgewogICAgICAgICAg\nICByZXR1cm4gX2RlbC5pdGVyYXRvcigpOwogICAgICAgIH0gY2F0Y2ggKFJ1\nbnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNs\nYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGludCBsYXN0\nSW5kZXhPZihPYmplY3QgbykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIHJldHVybiBfZGVsLmluZGV4T2Yobyk7CiAgICAgICAgfSBjYXRjaCAoUnVu\ndGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xh\ndGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgTGlzdEl0ZXJh\ndG9yPEU+IGxpc3RJdGVyYXRvcigpIHsKICAgICAgICB0cnkgewogICAgICAg\nICAgICByZXR1cm4gX2RlbC5saXN0SXRlcmF0b3IoKTsKICAgICAgICB9IGNh\ndGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93\nIHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBM\naXN0SXRlcmF0b3I8RT4gbGlzdEl0ZXJhdG9yKGludCBpbmRleCkgewogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLmxpc3RJdGVyYXRv\ncihpbmRleCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiBy\nZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiByZW1vdmUoT2JqZWN0IG8p\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgRSByZW1vdmUoaW50IGluZGV4\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gcmVtb3ZlQWxs\nKENvbGxlY3Rpb248Pz4gYykgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIHJldGFpbkFsbChDb2xsZWN0aW9uPD8+IGMpIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgRSBzZXQoaW50IGluZGV4LCBFIGVsZW1lbnQpIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IHNpemUoKSB7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9kZWwuc2l6ZSgpOwogICAgICAg\nIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAg\ndGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVi\nbGljIExpc3Q8RT4gc3ViTGlzdChpbnQgZnJvbUluZGV4LCBpbnQgdG9JbmRl\neCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLnN1\nYkxpc3QoZnJvbUluZGV4LCB0b0luZGV4KTsKICAgICAgICB9IGNhdGNoIChS\ndW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5z\nbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBPYmplY3Rb\nXSB0b0FycmF5KCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVy\nbiBfZGVsLnRvQXJyYXkoKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhj\nZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7\nCiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyA8VD4gVFtdIHRvQXJyYXko\nVFtdIGEpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gX2Rl\nbC50b0FycmF5KGEpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRp\nb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHJvdGVjdGVkIFJ1bnRpbWVFeGNlcHRpb24g\ndHJhbnNsYXRlKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICByZXR1\ncm4gKF90cmFucyA9PSBudWxsKSA/IHJlIDogX3RyYW5zLnRyYW5zbGF0ZShy\nZSk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCB3cml0ZVJlcGxhY2UoKQog\nICAgICAgIHRocm93cyBPYmplY3RTdHJlYW1FeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBfZGVsOwogICAgfQoKfQo=\n","encoding":"base64"}

