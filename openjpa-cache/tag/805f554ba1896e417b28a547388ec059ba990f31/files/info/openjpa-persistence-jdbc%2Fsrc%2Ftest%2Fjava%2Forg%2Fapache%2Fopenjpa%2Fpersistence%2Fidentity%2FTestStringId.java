{"sha":"6ab295b1f04bcdb81ea123631a9ea836c8b66aa6","node_id":"MDQ6QmxvYjIwNjM2NDo2YWIyOTViMWYwNGJjZGI4MWVhMTIzNjMxYTllYTgzNmM4YjY2YWE2","size":4044,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6ab295b1f04bcdb81ea123631a9ea836c8b66aa6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuaWRlbnRp\ndHk7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0\nLkFic3RyYWN0UGVyc2lzdGVuY2VUZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBU\nZXN0U3RyaW5nSWQgZXh0ZW5kcyBBYnN0cmFjdFBlcnNpc3RlbmNlVGVzdENh\nc2UgewogICAgcHJpdmF0ZSBzdGF0aWMgRW50aXR5TWFuYWdlckZhY3Rvcnkg\nX2VtZjsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBfZW1m\nID0gY3JlYXRlRU1GKFN0cmluZ0lkRW50aXR5LmNsYXNzKTsKCiAgICAgICAg\nY2xlYW51cCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkg\newogICAgICAgIF9lbWYuY2xvc2UoKTsKICAgIH0KCiAgICBwcml2YXRlIHZv\naWQgY2xlYW51cCgpIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gX2Vt\nZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLmNyZWF0ZVF1ZXJ5KCJEZWxl\ndGUgZnJvbSBTdHJpbmdJZEVudGl0eSIpLmV4ZWN1dGVVcGRhdGUoKTsKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVt\nLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFRyYWlsaW5n\nV2hpdGVzcGFjZSgpIHsKICAgICAgICBTdHJpbmdJZEVudGl0eSBzaWUxID0g\nbmV3IFN0cmluZ0lkRW50aXR5KCk7CiAgICAgICAgc2llMS5zZXRJZCgiQUJD\nICIpOwoKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gX2VtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3Qoc2llMSk7CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBhc3NlcnRUcnVl\nKGVtLmNvbnRhaW5zKHNpZTEpKTsKCiAgICAgICAgU3RyaW5nSWRFbnRpdHkg\nc2llMiA9IGVtLmZpbmQoU3RyaW5nSWRFbnRpdHkuY2xhc3MsICJBQkMiKTsK\nICAgICAgICBhc3NlcnRTYW1lKCJGaW5kIHNob3VsZCByZXR1cm4gdGhlIHNh\nbWUgaW5zdGFuY2Ugd2l0aCB0cmFpbGluZyB3aGl0ZXNwYWNlIiwgc2llMSwg\nc2llMik7CgogICAgICAgIFN0cmluZ0lkRW50aXR5IHNpZTMgPSBlbS5maW5k\nKFN0cmluZ0lkRW50aXR5LmNsYXNzLCAiQUJDICAiKTsKICAgICAgICBhc3Nl\ncnRTYW1lKCJGaW5kIHNob3VsZCByZXR1cm4gdGhlIHNhbWUgaW5zdGFuY2Ug\nd2l0aCB0cmFpbGluZyB3aGl0ZXNwYWNlIiwgc2llMSwgc2llMyk7CgogICAg\nICAgIGFzc2VydE5vdFNhbWUoIkxlYWRpbmcgV1Mgc2hvdWxkIG5vdCBtYXRj\naCIsIHNpZTEsIGVtLmZpbmQoU3RyaW5nSWRFbnRpdHkuY2xhc3MsICIgQUJD\nIikpOwoKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RMZWFkaW5nV2hpdGVzcGFjZSgpIHsKICAgICAgICBTdHJpbmdJ\nZEVudGl0eSBzaWUxID0gbmV3IFN0cmluZ0lkRW50aXR5KCk7CiAgICAgICAg\nc2llMS5zZXRJZCgiIEFCQyIpOwoKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVt\nID0gX2VtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3Qoc2ll\nMSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAg\nICAgICBhc3NlcnRUcnVlKGVtLmNvbnRhaW5zKHNpZTEpKTsKCiAgICAgICAg\nU3RyaW5nSWRFbnRpdHkgc2llMiA9IGVtLmZpbmQoU3RyaW5nSWRFbnRpdHku\nY2xhc3MsICJBQkMiKTsKICAgICAgICBhc3NlcnROb3RTYW1lKCJGaW5kIHNo\nb3VsZCBub3QgcmV0dXJuIHRoZSBzYW1lIGluc3RhbmNlIHdpdGggbGVhZGlu\nZyB3aGl0ZXNwYWNlIiwgc2llMSwgc2llMik7CgogICAgICAgIFN0cmluZ0lk\nRW50aXR5IHNpZTMgPSBlbS5maW5kKFN0cmluZ0lkRW50aXR5LmNsYXNzLCAi\nICAgQUJDIik7CiAgICAgICAgYXNzZXJ0Tm90U2FtZSgiRmluZCBzaG91bGQg\nbm90IHJldHVybiB0aGUgc2FtZSBpbnN0YW5jZSB3aXRoIGxlYWRpbmcgd2hp\ndGVzcGFjZSIsIHNpZTEsIHNpZTMpOwoKICAgICAgICBhc3NlcnRTYW1lKHNp\nZTEsIGVtLmZpbmQoU3RyaW5nSWRFbnRpdHkuY2xhc3MsICIgQUJDIikpOwoK\nICAgICAgICBhc3NlcnROb3RTYW1lKCJUcmFpbGluZyBXUyBzaG91bGQgbm90\nIG1hdGNoIiwgc2llMSwgZW0uZmluZChTdHJpbmdJZEVudGl0eS5jbGFzcywg\nIkFCQyAiKSk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0SW5uZXJXaGl0ZXNwYWNlKCkgewogICAgICAgIFN0cmlu\nZ0lkRW50aXR5IHNpZTEgPSBuZXcgU3RyaW5nSWRFbnRpdHkoKTsKICAgICAg\nICBzaWUxLnNldElkKCJBIEIgQyIpOwoKICAgICAgICBFbnRpdHlNYW5hZ2Vy\nIGVtID0gX2VtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3Qo\nc2llMSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsK\nICAgICAgICBhc3NlcnRUcnVlKGVtLmNvbnRhaW5zKHNpZTEpKTsKCiAgICAg\nICAgU3RyaW5nSWRFbnRpdHkgc2llMiA9IGVtLmZpbmQoU3RyaW5nSWRFbnRp\ndHkuY2xhc3MsICJBQkMiKTsKICAgICAgICBhc3NlcnROb3RTYW1lKCJGaW5k\nIHNob3VsZCBub3QgcmV0dXJuIHRoZSBzYW1lIGluc3RhbmNlIHdpdGggaW5u\nZXIgd2hpdGVzcGFjZSIsIHNpZTEsIHNpZTIpOwoKICAgICAgICBTdHJpbmdJ\nZEVudGl0eSBzaWUzID0gZW0uZmluZChTdHJpbmdJZEVudGl0eS5jbGFzcywg\nIiAgIEFCQyIpOwogICAgICAgIGFzc2VydE5vdFNhbWUoIkZpbmQgc2hvdWxk\nIG5vdCByZXR1cm4gdGhlIHNhbWUgaW5zdGFuY2Ugd2l0aCBpbm5lciB3aGl0\nZXNwYWNlIiwgc2llMSwgc2llMyk7CgogICAgICAgIGFzc2VydFNhbWUoc2ll\nMSwgZW0uZmluZChTdHJpbmdJZEVudGl0eS5jbGFzcywgIkEgQiBDIikpOwoK\nICAgICAgICBhc3NlcnROb3RTYW1lKCJUcmFpbGluZyBXUyBzaG91bGQgbm90\nIG1hdGNoIiwgc2llMSwgZW0uZmluZChTdHJpbmdJZEVudGl0eS5jbGFzcywg\nIkFCQyAiKSk7CgogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9Cn0K\n","encoding":"base64"}

