{"sha":"4373b1a6e7a4cb47975a2e515864c7d96701f1df","node_id":"MDQ6QmxvYjIwNjM2NDo0MzczYjFhNmU3YTRjYjQ3OTc1YTJlNTE1ODY0YzdkOTY3MDFmMWRm","size":16803,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4373b1a6e7a4cb47975a2e515864c7d96701f1df","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuanBxbC5l\neHByZXNzaW9uczsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5RdWVyeTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuKjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24udXRpbHMuQWJzdHJhY3RUZXN0\nQ2FzZTsKCnB1YmxpYyBjbGFzcyBUZXN0SlBRTFNjYWxhckV4cHJlc3Npb25z\nIGV4dGVuZHMgQWJzdHJhY3RUZXN0Q2FzZSB7CgogICAgcHJpdmF0ZSBpbnQg\ndXNlcmlkMSwgdXNlcmlkMiwgdXNlcmlkMywgdXNlcmlkNCwgdXNlcmlkNSwg\ndXNlcmlkNjsKCiAgICBwdWJsaWMgVGVzdEpQUUxTY2FsYXJFeHByZXNzaW9u\ncyhTdHJpbmcgbmFtZSkgewogICAgICAgIHN1cGVyKG5hbWUsICJqcHFsY2xh\ndXNlc2NhY3R1c2FwcCIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgewogICAgICAgIGRlbGV0ZUFsbChDb21wVXNlci5jbGFzcyk7CiAgICAg\nICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgc3RhcnRUeChlbSk7CgogICAgICAgIEFkZHJlc3NbXSBhZGQg\nPSBuZXcgQWRkcmVzc1tdewogICAgICAgICAgICBuZXcgQWRkcmVzcygiNDMg\nU2Fuc29tZSIsICJTRiIsICJVbml0ZWQtS2luZ2RvbSIsICI5NDEwNCIpLAog\nICAgICAgICAgICBuZXcgQWRkcmVzcygiMjQgTWluayIsICJBTlRJT0NIIiwg\nIlVTQSIsICI5NDUxMyIpLAogICAgICAgICAgICBuZXcgQWRkcmVzcygiMjMg\nT2diZXRlIiwgIkNvYWxDYW1wIiwgIk5JR0VSSUEiLCAiMDAwMDAiKSwKICAg\nICAgICAgICAgbmV3IEFkZHJlc3MoIjEwIFdpbHNoaXJlIiwgIldvcmNlc3Rl\nciIsICJDQU5BREEiLCAiODAwODAiKSwKICAgICAgICAgICAgbmV3IEFkZHJl\nc3MoIjIzIEJlbGxmbG93ZXIiLCAiT2d1aSIsIG51bGwsICIwMjAwMCIpLAog\nICAgICAgICAgICBuZXcgQWRkcmVzcygiMjIgTW9udGdvbWVyeSIsICJTRiIs\nIG51bGwsICI1MDA1NCIpIH07CgogICAgICAgIENvbXBVc2VyIHVzZXIxID0g\nY3JlYXRlVXNlcigiU2VldGhhIiwgIk1BQyIsIGFkZFswXSwgMzYsIHRydWUp\nOwogICAgICAgIENvbXBVc2VyIHVzZXIyID0gY3JlYXRlVXNlcigiU2hhbm5v\nbiAiLCAiUEMiLCBhZGRbMV0sIDM2LCBmYWxzZSk7CiAgICAgICAgQ29tcFVz\nZXIgdXNlcjMgPSBjcmVhdGVVc2VyKCJVZ28iLCAiUEMiLCBhZGRbMl0sIDE5\nLCB0cnVlKTsKICAgICAgICBDb21wVXNlciB1c2VyNCA9IGNyZWF0ZVVzZXIo\nIkphY29iIiwgIkxJTlVYIiwgYWRkWzNdLCAxMCwgdHJ1ZSk7CiAgICAgICAg\nQ29tcFVzZXIgdXNlcjUgPSBjcmVhdGVVc2VyKCJGYW16eSIsICJVTklYIiwg\nYWRkWzRdLCAyOSwgZmFsc2UpOwogICAgICAgIENvbXBVc2VyIHVzZXI2ID0g\nY3JlYXRlVXNlcigiU2hhZGUiLCAiVU5JWCIsIGFkZFs1XSwgMjMsIGZhbHNl\nKTsKCiAgICAgICAgZW0ucGVyc2lzdCh1c2VyMSk7CiAgICAgICAgdXNlcmlk\nMSA9IHVzZXIxLmdldFVzZXJpZCgpOwogICAgICAgIGVtLnBlcnNpc3QodXNl\ncjIpOwogICAgICAgIHVzZXJpZDIgPSB1c2VyMi5nZXRVc2VyaWQoKTsKICAg\nICAgICBlbS5wZXJzaXN0KHVzZXIzKTsKICAgICAgICB1c2VyaWQzID0gdXNl\ncjMuZ2V0VXNlcmlkKCk7CiAgICAgICAgZW0ucGVyc2lzdCh1c2VyNCk7CiAg\nICAgICAgdXNlcmlkNCA9IHVzZXI0LmdldFVzZXJpZCgpOwogICAgICAgIGVt\nLnBlcnNpc3QodXNlcjUpOwogICAgICAgIHVzZXJpZDUgPSB1c2VyNS5nZXRV\nc2VyaWQoKTsKICAgICAgICBlbS5wZXJzaXN0KHVzZXI2KTsKICAgICAgICB1\nc2VyaWQ2ID0gdXNlcjYuZ2V0VXNlcmlkKCk7CgogICAgICAgIGVuZFR4KGVt\nKTsKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgQFN1cHByZXNzV2Fy\nbmluZ3MoInVuY2hlY2tlZCIpCiAgICBwdWJsaWMgdm9pZCB0ZXN0QWdncmVn\nYXRlUmVzdWx0VmFyaWFibGUoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgU3RyaW5nIHF1\nZXJ5c1tdID0gewogICAgICAgICAgICAiU0VMRUNUIGMubmFtZSBhcyBuYW1l\nLCBTVU0oYy5hZ2UpIGFzIHNhZ2UgRlJPTSBDb21wVXNlciBjIGdyb3VwIGJ5\nIGMubmFtZSBvcmRlciBieSBzYWdlIGRlc2MsIG5hbWUiLAogICAgICAgICAg\nICAiU0VMRUNUIGMubmFtZSwgQVZHKGMuYWdlKSBhcyBhZ2UgRlJPTSBDb21w\nVXNlciBjIGdyb3VwIGJ5IGMubmFtZSBvcmRlciBieSBhZ2UgZGVzYywgYy5u\nYW1lIiwKICAgICAgICB9OwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\ncXVlcnlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIFF1ZXJ5IHF1ZXJ5\nID0gZW0uY3JlYXRlUXVlcnkocXVlcnlzW2ldKTsKICAgICAgICAgICAgcXVl\ncnkuc2V0Rmlyc3RSZXN1bHQoMSk7CiAgICAgICAgICAgIHF1ZXJ5LnNldE1h\neFJlc3VsdHMoNCk7CiAgICAgICAgICAgIExpc3Q8T2JqZWN0W10+IHJzID0g\ncXVlcnkuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgICAgICBPYmplY3QgdmFs\nID0gKChPYmplY3RbXSkgcnMuZ2V0KDApKVsxXTsKICAgICAgICAgICAgaWYg\nKHZhbCBpbnN0YW5jZW9mIEludGVnZXIpCiAgICAgICAgICAgICAgICBhc3Nl\ncnRUcnVlKChJbnRlZ2VyKSB2YWwgPiAwKTsKICAgICAgICAgICAgZWxzZSBp\nZiAodmFsIGluc3RhbmNlb2YgTG9uZykKICAgICAgICAgICAgICAgIGFzc2Vy\ndFRydWUoKExvbmcpIHZhbCA+IDApOwogICAgICAgIH0KICAgIH0KCiAgICBA\nU3VwcHJlc3NXYXJuaW5ncygidW5jaGVja2VkIikKICAgIHB1YmxpYyB2b2lk\nIHRlc3RNYXRoQW5kQWdncmVnYXRlKCkgewogICAgICAgIEVudGl0eU1hbmFn\nZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIFN0cmlu\nZyBxdWVyeVtdID0gewogICAgICAgICAgICAiU0VMRUNUIFNVTShjLmFnZSkg\nKyBTVU0oYy51c2VyaWQpIEZST00gQ29tcFVzZXIgYyIsCiAgICAgICAgICAg\nICJTRUxFQ1QgU1VNKGMuYWdlKSAqIFNVTShjLnVzZXJpZCkgRlJPTSBDb21w\nVXNlciBjIiwKICAgICAgICAgICAgIlNFTEVDVCBTVU0oYy5hZ2UpIC0gTUlO\nKGMudXNlcmlkKSArIE1BWChjLnVzZXJpZCkgRlJPTSBDb21wVXNlciBjIiwK\nICAgICAgICB9OwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcXVlcnku\nbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgTGlzdDxMb25nPiBycyA9IGVt\nLmNyZWF0ZVF1ZXJ5KHF1ZXJ5W2ldKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAg\nICAgICAgIGFzc2VydFRydWUocnMuZ2V0KDApID4gMCk7CiAgICAgICAgfQog\nICAgICAgIFN0cmluZyBxdWVyeTJbXSA9IHsKICAgICAgICAgICAgICAgICJT\nRUxFQ1QgU1VNKGMuYWdlKSArIFNVTShjLnVzZXJpZCksIE1JTihjLmFnZSkg\nKyBNQVgoYy5hZ2UpIEZST00gQ29tcFVzZXIgYyIsCiAgICAgICAgICAgICAg\nICAiU0VMRUNUIFNVTShjLmFnZSkgKiBTVU0oYy51c2VyaWQpLCBBVkcoYy5h\nZ2UpIEZST00gQ29tcFVzZXIgYyIsCiAgICAgICAgICAgICAgICAiU0VMRUNU\nIFNVTShjLmFnZSkgLSBNSU4oYy51c2VyaWQpICsgTUFYKGMudXNlcmlkKSwg\nQVZHKGMuYWdlKS8xMCBGUk9NIENvbXBVc2VyIGMiLAogICAgICAgIH07CiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBxdWVyeTIubGVuZ3RoOyBpKysp\nIHsKICAgICAgICAgICAgTGlzdDxPYmplY3RbXT4gcnMgPSAoTGlzdDxPYmpl\nY3RbXT4pZW0uY3JlYXRlUXVlcnkocXVlcnkyW2ldKS5nZXRSZXN1bHRMaXN0\nKCk7CiAgICAgICAgICAgIGFzc2VydE5vdE51bGwocnMuZ2V0KDApWzFdKTsK\nICAgICAgICB9CiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIEBTdXBw\ncmVzc1dhcm5pbmdzKCJ1bmNoZWNrZWQiKQogICAgcHVibGljIHZvaWQgdGVz\ndENvYWxlc2NlRXhwcmVzc2lvbnMoKSB7CiAgICAgICAgRW50aXR5TWFuYWdl\nciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3RhcnRU\neChlbSk7CgogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1QgZS5uYW1l\nLCAiICsKICAgICAgICAgICAgIkNPQUxFU0NFIChlLmFkZHJlc3MuY291bnRy\neSwgJ1Vua25vd24nKSIgKwogICAgICAgICAgICAiIEZST00gQ29tcFVzZXIg\nZSBPUkRFUiBCWSBlLm5hbWUgREVTQyI7CiAgICAgICAgTGlzdCBycyA9IGVt\nLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAg\nT2JqZWN0W10gcmVzdWx0ID0gKE9iamVjdFtdKSBycy5nZXQocnMuc2l6ZSgp\nLTEpOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIG5hbWUgaXMgbm90IGZh\nbXp5IiwgIkZhbXp5IiwgcmVzdWx0WzBdKTsgICAgICAgIAogICAgICAgIGFz\nc2VydEVxdWFscygiVW5rbm93biIsIHJlc3VsdFsxXSk7CgogICAgICAgIGVu\nZFR4KGVtKTsKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgQFN1cHBy\nZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nTnVsbElmRXhwcmVzc2lvbnMoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3RhcnRUeChl\nbSk7CgogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1QgZS5uYW1lLCAi\nICsKICAgICAgICAgICAgIk5VTExJRiAoZS5hZGRyZXNzLmNvdW50cnksICdV\nU0EnKSIgKwogICAgICAgICAgICAiIEZST00gQ29tcFVzZXIgZSBPUkRFUiBC\nWSBlLm5hbWUgREVTQyI7CgogICAgICAgIExpc3QgcnMgPSBlbS5jcmVhdGVR\ndWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIE9iamVjdFtd\nIHJlc3VsdCA9IChPYmplY3RbXSkgcnMuZ2V0KDEpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygidGhlIG5hbWUgaXMgbm90IHNoYW5ub24gIiwgIlNoYW5ub24g\nIiwgcmVzdWx0WzBdKTsKICAgICAgICBhc3NlcnROdWxsKCJpcyBub3QgbnVs\nbCIsIHJlc3VsdFsxXSk7CiAgICAgICAgCiAgICAgICAgZW5kVHgoZW0pOwog\nICAgICAgIGVuZEVtKGVtKTsKICAgIH0KCiAgICBAU3VwcHJlc3NXYXJuaW5n\ncygidW5jaGVja2VkIikKICAgIHB1YmxpYyB2b2lkIHRlc3RTaW1wbGVDYXNl\nRXhwcmVzc2lvbnMoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1\ncnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIENvbXBVc2VyIHVzZXIg\nPSBlbS5maW5kKENvbXBVc2VyLmNsYXNzLCB1c2VyaWQxKTsKICAgICAgICBh\nc3NlcnROb3ROdWxsKCJ1c2VyIGlzIG51bGwiLCB1c2VyKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoInRoZSBuYW1lIGlzIG5vdCBzZWV0aGEiLCAiU2VldGhh\nIiwgdXNlci5nZXROYW1lKCkpOwogICAgICAgIFN0cmluZyBxdWVyeSA9ICJT\nRUxFQ1QgZS5uYW1lLCBlLmFnZSsxIGFzIGNhZ2UsICIgKwogICAgICAgICAg\nICAiQ0FTRSBlLmFkZHJlc3MuY291bnRyeSBXSEVOICdVU0EnIiArCiAgICAg\nICAgICAgICIgVEhFTiAndXMnICIgKwogICAgICAgICAgICAiIEVMU0UgJ25v\nbi11cycgIEVORCBhcyBkMiwiICsKICAgICAgICAgICAgIiBlLmFkZHJlc3Mu\nY291bnRyeSAiICsKICAgICAgICAgICAgIiBGUk9NIENvbXBVc2VyIGUgT1JE\nRVIgQlkgY2FnZSwgZDIgREVTQyI7CiAgICAgICAgTGlzdCBycyA9IGVtLmNy\nZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgT2Jq\nZWN0W10gcmVzdWx0ID0gKE9iamVjdFtdKSBycy5nZXQocnMuc2l6ZSgpLTEp\nOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIG5hbWUgaXMgbm90IHNlZXRo\nYSIsICJTZWV0aGEiLCByZXN1bHRbMF0pOwoKICAgICAgICBTdHJpbmcgcXVl\ncnkyID0gIlNFTEVDVCBlLm5hbWUsIGUuYWdlKzEgYXMgY2FnZSwgIiArCiAg\nICAgICAgICAgICJDQVNFIGUuYWRkcmVzcy5jb3VudHJ5IFdIRU4gJ1VTQSci\nICsKICAgICAgICAgICAgIiBUSEVOICdVbml0ZWQtU3RhdGVzJyAiICsKICAg\nICAgICAgICAgIiBFTFNFIGUuYWRkcmVzcy5jb3VudHJ5ICBFTkQgYXMgZDIs\nIiArCiAgICAgICAgICAgICIgZS5hZGRyZXNzLmNvdW50cnkgIiArCiAgICAg\nICAgICAgICIgRlJPTSBDb21wVXNlciBlIE9SREVSIEJZIGNhZ2UsIGQyIERF\nU0MiOwogICAgICAgIExpc3QgcnMyID0gZW0uY3JlYXRlUXVlcnkocXVlcnky\nKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgT2JqZWN0W10gcmVzdWx0MiA9\nIChPYmplY3RbXSkgcnMyLmdldChyczIuc2l6ZSgpLTEpOwogICAgICAgIGFz\nc2VydEVxdWFscygidGhlIG5hbWUgaXMgbm90IHNlZXRoYSIsICJTZWV0aGEi\nLCByZXN1bHQyWzBdKTsKCiAgICAgICAgU3RyaW5nIHF1ZXJ5MyA9ICJTRUxF\nQ1QgZS5uYW1lLCAiICsKICAgICAgICAgICAgIiBDQVNFIFRZUEUoZSkgV0hF\nTiBGZW1hbGVVc2VyIFRIRU4gJ0ZlbWFsZScgIiArCiAgICAgICAgICAgICIg\nRUxTRSAnTWFsZScgIiArCiAgICAgICAgICAgICIgRU5EIGFzIHJlc3VsdCIg\nKwogICAgICAgICAgICAiIEZST00gQ29tcFVzZXIgZSBXSEVSRSBlLm5hbWUg\nbGlrZSAnUyUnICIgKwogICAgICAgICAgICAiIE9SREVSIEJZIGUubmFtZSBE\nRVNDIjsKICAgICAgICBMaXN0IHJzMyA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5\nMykuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIE9iamVjdFtdIHJlc3VsdDMg\nPSAoT2JqZWN0W10pIHJzMy5nZXQoMCk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJ0aGUgcmVzdWx0IGlzIG5vdCBmZW1hbGUiLCAiRmVtYWxlIiwgcmVzdWx0\nM1sxXSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGUgbmFtZSBpcyBub3Qg\nc2hhbm5vbiIsICJTaGFubm9uICIsIHJlc3VsdDNbMF0pOwogICAgICAgIHJl\nc3VsdDMgPSAoT2JqZWN0W10pIHJzMy5nZXQoMik7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ0aGUgcmVzdWx0IGlzIG5vdCBtYWxlIiwgIk1hbGUiLCByZXN1\nbHQzWzFdKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInRoZSBuYW1lIGlzIG5v\ndCBzZWV0aGEiLCAiU2VldGhhIiwgcmVzdWx0M1swXSk7CgogICAgICAgIC8v\nIGJvb2xlYW4gbGl0ZXJhbCBpbiBjYXNlIGV4cHJlc3Npb24KICAgICAgICBx\ndWVyeSA9ICJTRUxFQ1QgZS5uYW1lLCAiICsKICAgICAgICAgICAgIkNBU0Ug\nZS5hZGRyZXNzLmNvdW50cnkgV0hFTiAnVVNBJyIgKwogICAgICAgICAgICAi\nIFRIRU4gdHJ1ZSAiICsKICAgICAgICAgICAgIiBFTFNFIGZhbHNlICBFTkQg\nYXMgYiwiICsKICAgICAgICAgICAgIiBlLmFkZHJlc3MuY291bnRyeSAiICsK\nICAgICAgICAgICAgIiBGUk9NIENvbXBVc2VyIGUgb3JkZXIgYnkgYiI7CiAg\nICAgICAgcnMgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlz\ndCgpOwoKICAgICAgICByZXN1bHQgPSAoT2JqZWN0W10pIHJzLmdldChycy5z\naXplKCktMSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHJlc3VsdFsxXSwgMSk7\nCgogICAgICAgIHN0YXJ0VHgoZW0pOwogICAgICAgIFN0cmluZyB1cGRhdGUg\nPSAidXBkYXRlIENvbXBVc2VyIGMgc2V0IGMuY3JlZGl0UmF0aW5nID0gIiAr\nCiAgICAgICAgICAgICIgQ0FTRSBjLmFnZSBXSEVOIDM1IFRIRU4gIiArCiAg\nICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29t\nbW9uLmFwcHMuIiArCiAgICAgICAgICAgICJDb21wVXNlciRDcmVkaXRSYXRp\nbmcuUE9PUiIgKyAKICAgICAgICAgICAgIiBXSEVOIDExIFRIRU4gIiArIAog\nICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNv\nbW1vbi5hcHBzLiIgKyAKICAgICAgICAgICAgIkNvbXBVc2VyJENyZWRpdFJh\ndGluZy5HT09EIiArCiAgICAgICAgICAgICIgRUxTRSAiICsgCiAgICAgICAg\nICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLmFw\ncHMuIiArIAogICAgICAgICAgICAiQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLkVY\nQ0VMTEVOVCIgKwogICAgICAgICAgICAiIEVORCAiOwogICAgICAgIGludCB1\ncGRhdGVDb3VudCA9IGVtLmNyZWF0ZVF1ZXJ5KHVwZGF0ZSkuZXhlY3V0ZVVw\nZGF0ZSgpOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIHJlc3VsdCBpcyBu\nb3QgNiIsIDYsIHVwZGF0ZUNvdW50KTsKCiAgICAgICAgLyoKICAgICAgICAv\nL0RlcmJ5IGZhaWxzIGJ1dCBEQjIgd29ya3MgCiAgICAgICAgU3RyaW5nIHVw\nZGF0ZTIgPSAidXBkYXRlIENvbXBVc2VyIGMgc2V0IGMuY3JlZGl0UmF0aW5n\nID0gIiArCiAgICAgICAgICAgICIgKHNlbGVjdCAiICsKICAgICAgICAgICAg\nIiBDQVNFIGMxLmFnZSBXSEVOIDEwIFRIRU4gIiArIAogICAgICAgICAgICAi\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLiIg\nKyAKICAgICAgICAgICAgICBDb21wVXNlciRDcmVkaXRSYXRpbmcuUE9PUiIg\nKyAKICAgICAgICAgICAgIiBXSEVOIDE5IFRIRU4gIiArIAogICAgICAgICAg\nICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBz\nLiIgKyAKICAgICAgICAgICAgIkNvbXBVc2VyJENyZWRpdFJhdGluZy5HT09E\nICIgKwogICAgICAgICAgICAiIEVMU0UgIiArIAogICAgICAgICAgICAib3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLiIgKyAK\nICAgICAgICAgICAgQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLkVYQ0VMTEVOVCAi\nICsKICAgICAgICAgICAgIiBFTkQgIiArCiAgICAgICAgICAgICIgZnJvbSBD\nb21wVXNlciBjMSIgKwogICAgICAgICAgICAiIHdoZXJlIGMudXNlcmlkID0g\nYzEudXNlcmlkKSI7CiAgICAgICAgdXBkYXRlQ291bnQgPSBlbS5jcmVhdGVR\ndWVyeSh1cGRhdGUyKS5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ0aGUgcmVzdWx0IGlzIG5vdCA2IiwgNiwgdXBkYXRlQ291bnQp\nOwogICAgICAgICovCiAgICAgICAgZW5kVHgoZW0pOwogICAgICAgIGVuZEVt\nKGVtKTsKICAgIH0KCiAgICBAU3VwcHJlc3NXYXJuaW5ncygidW5jaGVja2Vk\nIikKICAgIHB1YmxpYyB2b2lkIHRlc3RHZW5lcmFsQ2FzZUV4cHJlc3Npb25z\nKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5\nTWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgoZW0pOwoKICAgICAgICBDb21w\nVXNlciB1c2VyID0gZW0uZmluZChDb21wVXNlci5jbGFzcywgdXNlcmlkMSk7\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgidXNlciBpcyBudWxsIiwgdXNlcik7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGUgbmFtZSBpcyBub3Qgc2VldGhh\nIiwgIlNlZXRoYSIsIHVzZXIuZ2V0TmFtZSgpKTsKCiAgICAgICAgU3RyaW5n\nIHF1ZXJ5ID0gIlNFTEVDVCBlLm5hbWUsIGUuYWdlLCAiICsKICAgICAgICAg\nICAgIiBDQVNFIFdIRU4gZS5hZ2UgPiAzMCBUSEVOIGUuYWdlIC0gMSAiICsK\nICAgICAgICAgICAgIiBXSEVOIGUuYWdlIDwgMTUgVEhFTiBlLmFnZSArIDEg\nIiArCiAgICAgICAgICAgICIgRUxTRSBlLmFnZSArIDAgIiArCiAgICAgICAg\nICAgICIgRU5EIEFTIGNhZ2UgIiArCiAgICAgICAgICAgICIgRlJPTSBDb21w\nVXNlciBlIE9SREVSIEJZIGNhZ2UiOwogICAgICAgIExpc3QgcnMgPSBlbS5j\ncmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBT\ndHJpbmcgdXBkYXRlID0gIlVQREFURSBDb21wVXNlciBlIFNFVCBlLmFnZSA9\nICIgKwogICAgICAgICAgICAiQ0FTRSBXSEVOIGUuYWdlID4gMzAgVEhFTiBl\nLmFnZSAtIDEgIiArCiAgICAgICAgICAgICJXSEVOIGUuYWdlIDwgMTUgVEhF\nTiBlLmFnZSArIDEgIiArCiAgICAgICAgICAgICJFTFNFIGUuYWdlICsgMCAi\nICsKICAgICAgICAgICAgIkVORCI7CgogICAgICAgIGludCByZXN1bHQgPSBl\nbS5jcmVhdGVRdWVyeSh1cGRhdGUpLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoInRoZSByZXN1bHQgaXMgbm90IDYiLCA2LCByZXN1\nbHQpOwogICAgICAgIAogICAgICAgIFN0cmluZyBxdWVyeTIgPSAiU0VMRUNU\nIGUubmFtZSwgZS5hZ2UrMSBhcyBjYWdlLCAiICsKICAgICAgICAgICAgIkNB\nU0UgV0hFTiBlLmFkZHJlc3MuY291bnRyeSA9ICdVU0EnICIgKwogICAgICAg\nICAgICAiIFRIRU4gJ1VuaXRlZC1TdGF0ZXMnICIgKwogICAgICAgICAgICAi\nIEVMU0UgJ05vbiBVbml0ZWQtU3RhdGVzJyAgRU5EIGFzIGQyLCIgKwogICAg\nICAgICAgICAiIGUuYWRkcmVzcy5jb3VudHJ5ICIgKwogICAgICAgICAgICAi\nIEZST00gQ29tcFVzZXIgZSBPUkRFUiBCWSBjYWdlLCBkMiBERVNDIjsKICAg\nICAgICBMaXN0IHJzMiA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5MikuZ2V0UmVz\ndWx0TGlzdCgpOwogICAgICAgIE9iamVjdFtdIHJlc3VsdDIgPSAoT2JqZWN0\nW10pIHJzMi5nZXQocnMyLnNpemUoKS0xKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoInRoZSBuYW1lIGlzIG5vdCBzZWV0aGEiLCAiU2VldGhhIiwgcmVzdWx0\nMlswXSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGUgY291bnRyeSBpcyBu\nb3QgJ05vbiBVbml0ZWQtU3RhdGVzJyIsIAogICAgICAgICAgICAiTm9uIFVu\naXRlZC1TdGF0ZXMiLCByZXN1bHQyWzJdKTsKICAgICAgICAKICAgICAgICBT\ndHJpbmcgcXVlcnkzID0gIiBzZWxlY3QgZS5uYW1lLCAiICsKICAgICAgICAg\nICAgIkNBU0UgV0hFTiBlLmFnZSA9IDExIFRIRU4gIiArCiAgICAgICAgICAg\nICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLmFwcHMu\nIiArCiAgICAgICAgICAgICJDb21wVXNlciRDcmVkaXRSYXRpbmcuUE9PUiIg\nKyAKICAgICAgICAgICAgIiBXSEVOIGUuYWdlID0gMzUgVEhFTiAiICsgCiAg\nICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29t\nbW9uLmFwcHMuIiArCiAgICAgICAgICAgICJDb21wVXNlciRDcmVkaXRSYXRp\nbmcuR09PRCIgKwogICAgICAgICAgICAiIEVMU0UgIiArIAogICAgICAgICAg\nICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBz\nLiIgKwogICAgICAgICAgICAiQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLkVYQ0VM\nTEVOVCIgKwogICAgICAgICAgICAiIEVORCBGUk9NIENvbXBVc2VyIGUgT1JE\nRVIgQlkgZS5hZ2UiOwogICAgICAgIExpc3QgcnMzID0gZW0uY3JlYXRlUXVl\ncnkocXVlcnkzKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgT2JqZWN0W10g\ncmVzdWx0MyA9IChPYmplY3RbXSkgcnMzLmdldCgwKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoInRoZSBuYW1lIGlzIG5vdCBKYWNvYiIsICJKYWNvYiIsIHJl\nc3VsdDNbMF0pOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIGNyZWRpdCBy\nYXRpbmcgaXMgbm90ICdQT09SJyIsICJQT09SIiwgcmVzdWx0M1sxXSk7Cgog\nICAgICAgIFN0cmluZyB1cGRhdGUyID0gInVwZGF0ZSBDb21wVXNlciBjIHNl\ndCBjLmNyZWRpdFJhdGluZyA9ICIgKwogICAgICAgICAgICAiIENBU0UgV0hF\nTiBjLm5hbWUgPSdKYWNvYicgVEhFTiAiICsKICAgICAgICAgICAgIm9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24uYXBwcy5Db21wVXNl\nciRDcmVkaXRSYXRpbmcuUE9PUiIgKyAKICAgICAgICAgICAgIiBXSEVOIGMu\nbmFtZSA9ICdVZ28nIFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLkNvbXBVc2VyJENy\nZWRpdFJhdGluZy5HT09EICIgKwogICAgICAgICAgICAiIEVMU0UgIiArIAog\nICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNv\nbW1vbi5hcHBzLkNvbXBVc2VyJENyZWRpdFJhdGluZy5FWENFTExFTlQgIiAr\nCiAgICAgICAgICAgICIgRU5EICI7CiAgICAgICAgaW50IHVwZGF0ZUNvdW50\nID0gZW0uY3JlYXRlUXVlcnkodXBkYXRlMikuZXhlY3V0ZVVwZGF0ZSgpOwog\nICAgICAgIGFzc2VydEVxdWFscygidGhlIHJlc3VsdCBpcyBub3QgNiIsIDYs\nIHVwZGF0ZUNvdW50KTsKICAgICAgICAKICAgICAgICAKICAgICAgICBTdHJp\nbmcgdXBkYXRlMyA9ICJ1cGRhdGUgQ29tcFVzZXIgYyBzZXQgYy5jcmVkaXRS\nYXRpbmcgPSAiICsKICAgICAgICAgICAgIiBDQVNFIFdIRU4gYy5hZ2UgPiAz\nMCBUSEVOICIgKwogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLmNvbW1vbi5hcHBzLiIgKwogICAgICAgICAgICAiQ29tcFVz\nZXIkQ3JlZGl0UmF0aW5nLlBPT1IiICsgCiAgICAgICAgICAgICIgV0hFTiBj\nLmFnZSA8IDE1IFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLiIgKwogICAgICAgICAg\nICAiQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLkdPT0QgIiArCiAgICAgICAgICAg\nICIgRUxTRSAiICsgCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuIiArCiAgICAgICAgICAgICJDb21w\nVXNlciRDcmVkaXRSYXRpbmcuRVhDRUxMRU5UICIgKwogICAgICAgICAgICAi\nIEVORCAiOyAKICAgICAgICB1cGRhdGVDb3VudCA9IGVtLmNyZWF0ZVF1ZXJ5\nKHVwZGF0ZTMpLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoInRoZSByZXN1bHQgaXMgbm90IDYiLCA2LCB1cGRhdGVDb3VudCk7CiAg\nICAgICAgCiAgICAgICAgU3RyaW5nIHF1ZXJ5NCA9ICJzZWxlY3QgZS5uYW1l\nLCBlLmNyZWRpdFJhdGluZyBmcm9tIENvbXBVc2VyIGUgIiArIAogICAgICAg\nICAgICAid2hlcmUgZS5jcmVkaXRSYXRpbmcgPSAiICsKICAgICAgICAgICAg\nIihzZWxlY3QgIiArCiAgICAgICAgICAgICJDQVNFIFdIRU4gZTEuYWdlID0g\nMTEgVEhFTiAiICsgCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuIiArCiAgICAgICAgICAgICJDb21w\nVXNlciRDcmVkaXRSYXRpbmcuUE9PUiIgKyAKICAgICAgICAgICAgIiBXSEVO\nIGUxLmFnZSA9IDM1IFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLiIgKwogICAgICAg\nICAgICAiQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLkdPT0QiICsKICAgICAgICAg\nICAgIiBFTFNFICIgKyAKICAgICAgICAgICAgIm9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5jb21tb24uYXBwcy4iICsKICAgICAgICAgICAgIkNv\nbXBVc2VyJENyZWRpdFJhdGluZy5FWENFTExFTlQiICsKICAgICAgICAgICAg\nIiBFTkQgIiArCiAgICAgICAgICAgICJmcm9tIENvbXBVc2VyIGUxIiArCiAg\nICAgICAgICAgICIgd2hlcmUgZS51c2VyaWQgPSBlMS51c2VyaWQpIE9SREVS\nIEJZIGUuYWdlIjsKICAgICAgICBMaXN0IHJzNCA9IGVtLmNyZWF0ZVF1ZXJ5\nKHF1ZXJ5NCkuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIE9iamVjdFtdIHJl\nc3VsdDQgPSAoT2JqZWN0W10pIHJzNC5nZXQoMCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ0aGUgbmFtZSBpcyBub3QgVWdvIiwgIlVnbyIsIHJlc3VsdDRb\nMF0pOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIGNyZWRpdCByYXRpbmcg\naXMgbm90ICdFWENFTExFTlQnIiwgIkVYQ0VMTEVOVCIsCiAgICAgICAgICAg\nICgob3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBz\nLkNvbXBVc2VyLkNyZWRpdFJhdGluZykKICAgICAgICAgICAgcmVzdWx0NFsx\nXSkubmFtZSgpKTsKICAgICAgICAKICAgICAgICBTdHJpbmcgdXBkYXRlNCA9\nICJ1cGRhdGUgQ29tcFVzZXIgYyBzZXQgYy5jcmVkaXRSYXRpbmcgPSAiICsK\nICAgICAgICAgICAgIiBDQVNFIGMuYWdlIFdIRU4gMzUgVEhFTiAiICsKICAg\nICAgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21t\nb24uYXBwcy4iICsKICAgICAgICAgICAgIkNvbXBVc2VyJENyZWRpdFJhdGlu\nZy5QT09SIiArIAogICAgICAgICAgICAiIFdIRU4gMTEgVEhFTiAiICsgCiAg\nICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29t\nbW9uLmFwcHMuIiArCiAgICAgICAgICAgICJDb21wVXNlciRDcmVkaXRSYXRp\nbmcuR09PRCAiICsKICAgICAgICAgICAgIiBFTFNFICIgKyAKICAgICAgICAg\nICAgIm9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24uYXBw\ncy4iICsKICAgICAgICAgICAgIkNvbXBVc2VyJENyZWRpdFJhdGluZy5FWENF\nTExFTlQgIiArCiAgICAgICAgICAgICIgRU5EICI7IAogICAgICAgIHJlc3Vs\ndCA9IGVtLmNyZWF0ZVF1ZXJ5KHVwZGF0ZTQpLmV4ZWN1dGVVcGRhdGUoKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoInRoZSByZXN1bHQgaXMgbm90IDYiLCA2\nLCByZXN1bHQpOwoKICAgICAgICAvLyBEZXJieSBmYWlscyBidXQgREIyIHdv\ncmtzIAogICAgICAgIC8qCiAgICAgICAgU3RyaW5nIHVwZGF0ZTQgPSAidXBk\nYXRlIENvbXBVc2VyIGMgc2V0IGMuY3JlZGl0UmF0aW5nID0gIiArCiAgICAg\nICAgICAgICIgKHNlbGVjdCAiICsKICAgICAgICAgICAgIiBDQVNFIGMxLmFn\nZSBXSEVOIDEwIFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLgogICAgICAgICAgICBD\nb21wVXNlciRDcmVkaXRSYXRpbmcuUE9PUiIgKyAKICAgICAgICAgICAgIiBX\nSEVOIDE5IFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzCiAgICAgICAgICAgIC5Db21w\nVXNlciRDcmVkaXRSYXRpbmcuR09PRCIgKwogICAgICAgICAgICAiIEVMU0Ug\nIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmNvbW1vbi5hcHBzLgogICAgICAgICAgICBDb21wVXNlciRDcmVkaXRS\nYXRpbmcuRVhDRUxMRU5UIiArCiAgICAgICAgICAgICIgRU5EICIgKwogICAg\nICAgICAgICAiIGZyb20gQ29tcFVzZXIgYzEiICsKICAgICAgICAgICAgIiB3\naGVyZSBjLnVzZXJpZCA9IGMxLnVzZXJpZCkiOwogICAgICAgIHVwZGF0ZUNv\ndW50ID0gZW0uY3JlYXRlUXVlcnkodXBkYXRlNCkuZXhlY3V0ZVVwZGF0ZSgp\nOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIHJlc3VsdCBpcyBub3QgNiIs\nIDYsIHVwZGF0ZUNvdW50KTsKICAgICAgICAqLwogICAgICAgIGVuZFR4KGVt\nKTsKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgQFN1cHByZXNzV2Fy\nbmluZ3MoInVuY2hlY2tlZCIpCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWF0aEZ1\nbmNPcmRlckJ5QWxpYXMoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9\nIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIFN0cmluZyBxdWVy\neSA9ICJTRUxFQ1QgZS5hZ2UgKiAyIGFzIGNBZ2UgRlJPTSBDb21wVXNlciBl\nIE9SREVSIEJZIGNBZ2UiOwoKICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNy\nZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGFz\nc2VydE5vdE51bGwocmVzdWx0KTsKICAgICAgICBhc3NlcnRFcXVhbHMoNiwg\ncmVzdWx0LnNpemUoKSk7CgogICAgICAgIGVuZEVtKGVtKTsKICAgIH0KCiAg\nICBwdWJsaWMgQ29tcFVzZXIgY3JlYXRlVXNlcihTdHJpbmcgbmFtZSwgU3Ry\naW5nIGNOYW1lLCBBZGRyZXNzIGFkZCwgaW50IGFnZSwKICAgICAgICBib29s\nZWFuIGlzTWFsZSkgewogICAgICAgIENvbXBVc2VyIHVzZXIgPSBudWxsOwog\nICAgICAgIGlmIChpc01hbGUpIHsKICAgICAgICAgICAgdXNlciA9IG5ldyBN\nYWxlVXNlcigpOwogICAgICAgICAgICB1c2VyLnNldE5hbWUobmFtZSk7CiAg\nICAgICAgICAgIHVzZXIuc2V0Q29tcHV0ZXJOYW1lKGNOYW1lKTsKICAgICAg\nICAgICAgdXNlci5zZXRBZGRyZXNzKGFkZCk7CiAgICAgICAgICAgIHVzZXIu\nc2V0QWdlKGFnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXNl\nciA9IG5ldyBGZW1hbGVVc2VyKCk7CiAgICAgICAgICAgIHVzZXIuc2V0TmFt\nZShuYW1lKTsKICAgICAgICAgICAgdXNlci5zZXRDb21wdXRlck5hbWUoY05h\nbWUpOwogICAgICAgICAgICB1c2VyLnNldEFkZHJlc3MoYWRkKTsKICAgICAg\nICAgICAgdXNlci5zZXRBZ2UoYWdlKTsKICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIHVzZXI7CiAgICB9Cn0K\n","encoding":"base64"}

