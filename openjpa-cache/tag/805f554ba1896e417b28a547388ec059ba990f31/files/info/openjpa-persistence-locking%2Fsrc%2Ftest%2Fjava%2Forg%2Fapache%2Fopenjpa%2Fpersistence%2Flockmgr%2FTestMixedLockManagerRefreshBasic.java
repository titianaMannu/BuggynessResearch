{"sha":"ef06c8a20144cb20d6b8a7257fb1ab4427ec9152","node_id":"MDQ6QmxvYjIwNjM2NDplZjA2YzhhMjAxNDRjYjIwZDZiOGE3MjU3ZmIxYWI0NDI3ZWM5MTUy","size":4469,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ef06c8a20144cb20d6b8a7257fb1ab4427ec9152","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5sb2NrbWdyOwoK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkxvY2tNb2RlVHlwZTsKCi8qKgog\nKiBUZXN0IEpQQSAyLjAgZW0ucmVmcmVzaChMb2NrTW9kZSkgYmFzaWMgYmVo\nYXZpb3JzIHdpdGggIm1peGVkIiBsb2NrIG1hbmFnZXIuCiAqLwpwdWJsaWMg\nY2xhc3MgVGVzdE1peGVkTG9ja01hbmFnZXJSZWZyZXNoQmFzaWMgZXh0ZW5k\ncyBTZXF1ZW5jZWRBY3Rpb25zVGVzdCB7CiAgICBwdWJsaWMgdm9pZCBzZXRV\ncCgpIHsKICAgICAgICBzZXRVcChMb2NrRW1wbG95ZWUuY2xhc3MKICAgICAg\nICAgICAgLCAib3BlbmpwYS5Mb2NrTWFuYWdlciIsICJtaXhlZCIKICAgICAg\nICAgICAgKTsKICAgICAgICBjb21tb25TZXRVcCgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHRlc3RSZWZyZXNoUmVhZCgpIHsKICAgICAgICB0ZXN0Q29t\nbW9uKCJ0ZXN0UmVmcmVzaFJlYWQiLAogICAgICAgICAgICBMb2NrTW9kZVR5\ncGUuUkVBRCwgMCwgMSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFJl\nZnJlc2hXcml0ZSgpIHsKICAgICAgICB0ZXN0Q29tbW9uKCJ0ZXN0UmVmcmVz\naFdyaXRlIiwKICAgICAgICAgICAgTG9ja01vZGVUeXBlLldSSVRFLCAxLCAx\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmVmcmVzaE9wdGltaXN0\naWMoKSB7CiAgICAgICAgdGVzdENvbW1vbigidGVzdFJlZnJlc2hPcHRpbWlz\ndGljIiwKICAgICAgICAgICAgTG9ja01vZGVUeXBlLk9QVElNSVNUSUMsIDAs\nIDEpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RSZWZyZXNoT3B0aW1p\nc3RpY0ZvcmNlSW5jKCkgewogICAgICAgIHRlc3RDb21tb24oInRlc3RSZWZy\nZXNoT3B0aW1pc3RpY0ZvcmNlSW5jIiwKICAgICAgICAgICAgTG9ja01vZGVU\neXBlLk9QVElNSVNUSUNfRk9SQ0VfSU5DUkVNRU5ULCAxLCAxKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmVmcmVzaFBlc3NpbWlzdGljUmVhZCgp\nIHsKICAgICAgICB0ZXN0Q29tbW9uKCJ0ZXN0UmVmcmVzaFBlc3NpbWlzdGlj\nUmVhZCIsCiAgICAgICAgICAgIExvY2tNb2RlVHlwZS5QRVNTSU1JU1RJQ19S\nRUFELCAwLCAxKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmVmcmVz\naFBlc3NpbWlzdGljV3JpdGUoKSB7CiAgICAgICAgdGVzdENvbW1vbigidGVz\ndFJlZnJlc2hQZXNzaW1pc3RpY1dyaXRlIiwKICAgICAgICAgICAgTG9ja01v\nZGVUeXBlLlBFU1NJTUlTVElDX1dSSVRFLCAwLCAxKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0UmVmcmVzaFBlc3NpbWlzdGljRm9yY2VJbmMoKSB7\nCiAgICAgICAgdGVzdENvbW1vbigidGVzdFJlZnJlc2hQZXNzaW1pc3RpY0Zv\ncmNlSW5jIiwKICAgICAgICAgICAgTG9ja01vZGVUeXBlLlBFU1NJTUlTVElD\nX0ZPUkNFX0lOQ1JFTUVOVCwgMSwgMSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdENvbW1vbihTdHJpbmcgdGVzdE5hbWUsIExvY2tNb2RlVHlwZSBs\nb2NrTW9kZSwKICAgICAgICBpbnQgY29tbWl0VmVyc2lvbkluY3JlbWVudCwg\naW50IHVwZGF0ZUNvbW1pdFZlcnNpb25JbmNyZW1lbnQpIHsKICAgICAgICBP\nYmplY3RbXVtdIHRocmVhZE1haW4gPSB7CiAgICAgICAgICAgIC8vIEZpbmQg\nZW50aXR5LCByZWZyZXNoIHdpdGggTG9jaywgbm8gdXBkYXRlIGFuZCBjb21t\naXQuCiAgICAgICAgICAgIHsgQWN0LkNyZWF0ZUVtIH0sCiAgICAgICAgICAg\nIHsgQWN0LlN0YXJ0VHggfSwKICAgICAgICAgICAgeyBBY3QuQ2xlYXIgfSwK\nICAgICAgICAgICAgeyBBY3QuRmluZCwgMSB9LAogICAgICAgICAgICB7IEFj\ndC5UZXN0RW1wbG95ZWUsIDEsIERlZmF1bHRfRmlyc3ROYW1lfSwKICAgICAg\nICAgICAgeyBBY3QuU2F2ZVZlcnNpb24gfSwKICAgICAgICAgICAgeyBBY3Qu\nUmVmcmVzaFdpdGhMb2NrLCAxLCBsb2NrTW9kZSB9LAogICAgICAgICAgICB7\nIEFjdC5UZXN0RW1wbG95ZWUsIDEsIERlZmF1bHRfRmlyc3ROYW1lfSwKICAg\nICAgICAgICAgeyBBY3QuQ29tbWl0VHggfSwKICAgICAgICAgICAgeyBBY3Qu\nQ2xlYXIgfSwKICAgICAgICAgICAgeyBBY3QuRmluZCwgMSB9LAogICAgICAg\nICAgICB7IEFjdC5UZXN0RW1wbG95ZWUsIDEsIERlZmF1bHRfRmlyc3ROYW1l\nLAogICAgICAgICAgICAgICAgY29tbWl0VmVyc2lvbkluY3JlbWVudCB9LAoK\nICAgICAgICAgICAgLy8gRmluZCBlbnRpdHksIHJlZnJlc2ggd2l0aCBMb2Nr\nLCB1cGRhdGUgYW5kIGNvbW1pdC4KICAgICAgICAgICAgeyBBY3QuU3RhcnRU\neCB9LAogICAgICAgICAgICB7IEFjdC5DbGVhciB9LAogICAgICAgICAgICB7\nIEFjdC5GaW5kLCAxIH0sCiAgICAgICAgICAgIHsgQWN0LlRlc3RFbXBsb3ll\nZSwgMSwgRGVmYXVsdF9GaXJzdE5hbWV9LAogICAgICAgICAgICB7IEFjdC5T\nYXZlVmVyc2lvbiB9LAogICAgICAgICAgICB7IEFjdC5VcGRhdGVFbXBsb3ll\nZSwgMSwgIk5ldyBOYW1lIDIifSwKICAgICAgICAgICAgeyBBY3QuVGVzdEVt\ncGxveWVlLCAxLCAiTmV3IE5hbWUgMiJ9LAogICAgICAgICAgICB7IEFjdC5S\nZWZyZXNoV2l0aExvY2ssIDEsIGxvY2tNb2RlIH0sCiAgICAgICAgICAgIHsg\nQWN0LlRlc3RFbXBsb3llZSwgMSwgRGVmYXVsdF9GaXJzdE5hbWUsIDB9LAog\nICAgICAgICAgICB7IEFjdC5VcGRhdGVFbXBsb3llZSwgMSwgbG9ja01vZGUu\ndG9TdHJpbmcoKX0sCiAgICAgICAgICAgIHsgQWN0LkNvbW1pdFR4IH0sCiAg\nICAgICAgICAgIHsgQWN0LkNsZWFyIH0sCiAgICAgICAgICAgIHsgQWN0LkZp\nbmQsIDEgfSwKICAgICAgICAgICAgeyBBY3QuVGVzdEVtcGxveWVlLCAxLCBs\nb2NrTW9kZS50b1N0cmluZygpLAogICAgICAgICAgICAgICAgdXBkYXRlQ29t\nbWl0VmVyc2lvbkluY3JlbWVudCB9LAoKICAgICAgICAgICAgLy8gRmluZCBl\nbnRpdHksIHJlZnJlc2ggd2l0aCBMb2NrLCB1cGRhdGUgYW5kIHJvbGxiYWNr\nLgogICAgICAgICAgICB7IEFjdC5TdGFydFR4IH0sCiAgICAgICAgICAgIHsg\nQWN0LkNsZWFyIH0sCiAgICAgICAgICAgIHsgQWN0LkZpbmQsIDF9LAogICAg\nICAgICAgICB7IEFjdC5UZXN0RW1wbG95ZWUsIDEsIGxvY2tNb2RlLnRvU3Ry\naW5nKCl9LAogICAgICAgICAgICB7IEFjdC5TYXZlVmVyc2lvbiB9LAogICAg\nICAgICAgICB7IEFjdC5VcGRhdGVFbXBsb3llZSwgMSwgIk5ldyBOYW1lIDMi\nfSwKICAgICAgICAgICAgeyBBY3QuVGVzdEVtcGxveWVlLCAxLCAiTmV3IE5h\nbWUgMyIsIDB9LAogICAgICAgICAgICB7IEFjdC5SZWZyZXNoV2l0aExvY2ss\nIDEsIGxvY2tNb2RlIH0sCiAgICAgICAgICAgIHsgQWN0LlRlc3RFbXBsb3ll\nZSwgMSwgbG9ja01vZGUudG9TdHJpbmcoKSwgMH0sCiAgICAgICAgICAgIHsg\nQWN0LlVwZGF0ZUVtcGxveWVlLCAxLCBsb2NrTW9kZS50b1N0cmluZygpICsg\nIiBBZ2FpbiIgfSwKICAgICAgICAgICAgeyBBY3QuUm9sbGJhY2tUeCB9LAog\nICAgICAgICAgICB7IEFjdC5DbGVhciB9LAogICAgICAgICAgICB7IEFjdC5G\naW5kLCAxIH0sCiAgICAgICAgICAgIHsgQWN0LlRlc3RFbXBsb3llZSwgMSwg\nbG9ja01vZGUudG9TdHJpbmcoKSwgMCB9LAogICAgICAgICAgICB7IEFjdC5D\nbG9zZUVtIH0KICAgICAgICB9OwogICAgICAgIGxhdW5jaEFjdGlvblNlcXVl\nbmNlKHRlc3ROYW1lLCAiTG9ja01vZGU9IiArIGxvY2tNb2RlLCB0aHJlYWRN\nYWluKTsKICAgIH0KfQo=\n","encoding":"base64"}

