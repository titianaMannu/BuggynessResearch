{"sha":"5d8da25d5d6f8a9b9310800ee47cdb4761817bd7","node_id":"MDQ6QmxvYjIwNjM2NDo1ZDhkYTI1ZDVkNmY4YTliOTMxMDgwMGVlNDdjZGI0NzYxODE3YmQ3","size":2880,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5d8da25d5d6f8a9b9310800ee47cdb4761817bd7","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwczsK\nCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9ydCBqYXZhLnNx\nbC5UaW1lOwppbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wOwppbXBvcnQgamF2\nYS51dGlsLkRhdGU7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nbWV0YS5KYXZhU1FMVHlwZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuUmVzdWx0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlNRTEJ1ZmZlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5TZWxlY3Q7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRp\nbC5JbnRlcm5hbEV4Y2VwdGlvbjsKCi8qKgogKiBBIGxpdGVyYWwgY3VycmVu\ndCBEQVRFL1RJTUUvVElNRVNUQU1QIHZhbHVlIGluIGEgZmlsdGVyLgogKgog\nKiBAYXV0aG9yIE1hcmMgUHJ1ZCdob21tZWF1eAogKi8KY2xhc3MgQ3VycmVu\ndERhdGUKICAgIGV4dGVuZHMgQ29uc3QgewoKICAgIHByaXZhdGUgZmluYWwg\nQ2xhc3M8PyBleHRlbmRzIERhdGU+IF90eXBlOwoKICAgIHB1YmxpYyBDdXJy\nZW50RGF0ZShDbGFzczw/IGV4dGVuZHMgRGF0ZT4gdHlwZSkgewogICAgICAg\nIF90eXBlID0gdHlwZTsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3M8PyBleHRl\nbmRzIERhdGU+IGdldFR5cGUoKSB7CiAgICAgICAgcmV0dXJuIF90eXBlOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEltcGxpY2l0VHlwZShDbGFzcyB0\neXBlKSB7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBsb2FkKEV4cENvbnRl\neHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSwgUmVzdWx0IHJlcykgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKFRpbWVzdGFtcC5jbGFzcy5pc0Fz\nc2lnbmFibGVGcm9tKF90eXBlKSkgewogICAgICAgICAgICByZXR1cm4gcmVz\nLmdldFRpbWVzdGFtcCh0aGlzLCBudWxsKTsKICAgICAgICB9IGVsc2UgaWYg\nKFRpbWUuY2xhc3MuaXNBc3NpZ25hYmxlRnJvbShfdHlwZSkpIHsKICAgICAg\nICAgICAgcmV0dXJuIHJlcy5nZXRUaW1lKHRoaXMsIG51bGwpOwogICAgICAg\nIH0gZWxzZSBpZiAoRGF0ZS5jbGFzcy5pc0Fzc2lnbmFibGVGcm9tKF90eXBl\nKSkgewogICAgICAgICAgICByZXR1cm4gcmVzLmdldERhdGUodGhpcywgbnVs\nbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IElu\ndGVybmFsRXhjZXB0aW9uKCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBw\ndWJsaWMgT2JqZWN0IGdldFZhbHVlKE9iamVjdFtdIHBhcmFtcykgewogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIF90eXBlLmdldENvbnN0cnVjdG9yKGxv\nbmcuY2xhc3MpLm5ld0luc3RhbmNlKFN5c3RlbS5jdXJyZW50VGltZU1pbGxp\ncygpKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAg\nICAgICByZXR1cm4gbmV3IERhdGUoKTsKICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIHZvaWQgYXBwZW5kVG8oU2Vs\nZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCBTUUxC\ndWZmZXIgc3FsLCBpbnQgaW5kZXgpIHsKICAgICAgICBpZiAoVGltZXN0YW1w\nLmNsYXNzLmlzQXNzaWduYWJsZUZyb20oX3R5cGUpKSB7CiAgICAgICAgICAg\nIHNxbC5hcHBlbmQoY3R4LnN0b3JlLmdldERCRGljdGlvbmFyeSgpLmN1cnJl\nbnRUaW1lc3RhbXBGdW5jdGlvbik7CiAgICAgICAgfSBlbHNlIGlmIChUaW1l\nLmNsYXNzLmlzQXNzaWduYWJsZUZyb20oX3R5cGUpKSB7CiAgICAgICAgICAg\nIHNxbC5hcHBlbmQoY3R4LnN0b3JlLmdldERCRGljdGlvbmFyeSgpLmN1cnJl\nbnRUaW1lRnVuY3Rpb24pOwogICAgICAgIH0gZWxzZSBpZiAoRGF0ZS5jbGFz\ncy5pc0Fzc2lnbmFibGVGcm9tKF90eXBlKSkgewogICAgICAgICAgICBzcWwu\nYXBwZW5kKGN0eC5zdG9yZS5nZXREQkRpY3Rpb25hcnkoKS5jdXJyZW50RGF0\nZUZ1bmN0aW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJv\ndyBuZXcgSW50ZXJuYWxFeGNlcHRpb24oKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

