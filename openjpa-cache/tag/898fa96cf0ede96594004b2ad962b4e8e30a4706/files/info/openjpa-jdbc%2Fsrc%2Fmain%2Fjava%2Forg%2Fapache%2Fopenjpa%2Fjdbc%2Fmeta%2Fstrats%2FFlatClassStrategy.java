{"sha":"c9da32ca029a988cf552b152f80720af176fcf74","node_id":"MDQ6QmxvYjIwNjM2NDpjOWRhMzJjYTAyOWE5ODhjZjU1MmIxNTJmODA3MjBhZjE3NmZjZjc0","size":2548,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c9da32ca029a988cf552b152f80720af176fcf74","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5pZGVudGlmaWVyLkRC\nSWRlbnRpZmllcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1l\ndGEuQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5DbGFzc01hcHBpbmdJbmZvOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLlRhYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS51dGlsLk1ldGFEYXRhRXhjZXB0aW9uOwoKLyoqCiAqIE1hcHBp\nbmcgZm9yIGNsYXNzZXMgbWFwcGVkIHRvIHRoZWlyIHN1cGVyY2xhc3MgdGFi\nbGUuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3Mg\nRmxhdENsYXNzU3RyYXRlZ3kKICAgIGV4dGVuZHMgQWJzdHJhY3RDbGFzc1N0\ncmF0ZWd5IHsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBBTElB\nUyA9ICJmbGF0IjsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6\nZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKEZsYXRD\nbGFzc1N0cmF0ZWd5LmNsYXNzKTsKCiAgICBwdWJsaWMgU3RyaW5nIGdldEFs\naWFzKCkgewogICAgICAgIHJldHVybiBBTElBUzsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBtYXAoYm9vbGVhbiBhZGFwdCkgewogICAgICAgIENsYXNzTWFw\ncGluZyBzdXAgPSBjbHMuZ2V0TWFwcGVkUENTdXBlcmNsYXNzTWFwcGluZygp\nOwogICAgICAgIGlmIChzdXAgPT0gbnVsbCB8fCBjbHMuZ2V0RW1iZWRkaW5n\nTWV0YURhdGEoKSAhPSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgTWV0\nYURhdGFFeGNlcHRpb24oX2xvYy5nZXQoIm5vdC1zdWIiLCBjbHMpKTsKCiAg\nICAgICAgQ2xhc3NNYXBwaW5nSW5mbyBpbmZvID0gY2xzLmdldE1hcHBpbmdJ\nbmZvKCk7CiAgICAgICAgaW5mby5hc3NlcnROb1NjaGVtYUNvbXBvbmVudHMo\nY2xzLCB0cnVlKTsKCiAgICAgICAgaWYgKCFEQklkZW50aWZpZXIuaXNOdWxs\nKGluZm8uZ2V0VGFibGVJZGVudGlmaWVyKCkpKSB7CiAgICAgICAgICAgIFRh\nYmxlIHRhYmxlID0gaW5mby5jcmVhdGVUYWJsZShjbHMsIG51bGwsIGluZm8u\nZ2V0U2NoZW1hSWRlbnRpZmllcigpLAogICAgICAgICAgICAgICAgaW5mby5n\nZXRUYWJsZUlkZW50aWZpZXIoKSwgZmFsc2UpOwogICAgICAgICAgICBpZiAo\ndGFibGUgIT0gc3VwLmdldFRhYmxlKCkpCiAgICAgICAgICAgICAgICB0aHJv\ndyBuZXcgTWV0YURhdGFFeGNlcHRpb24oX2xvYy5nZXQoImZsYXQtdGFibGUi\nLCBjbHMsCiAgICAgICAgICAgICAgICAgICAgdGFibGUuZ2V0RnVsbE5hbWUo\nKSwgc3VwLmdldFRhYmxlKCkuZ2V0RnVsbE5hbWUoKSkpOwogICAgICAgIH0K\nCiAgICAgICAgY2xzLnNldFRhYmxlKHN1cC5nZXRUYWJsZSgpKTsKICAgICAg\nICBjbHMuc2V0UHJpbWFyeUtleUNvbHVtbnMoc3VwLmdldFByaW1hcnlLZXlD\nb2x1bW5zKCkpOwogICAgICAgIGNscy5zZXRDb2x1bW5JTyhzdXAuZ2V0Q29s\ndW1uSU8oKSk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNQcmltYXJ5\nS2V5T2JqZWN0SWQoYm9vbGVhbiBoYXNBbGwpIHsKICAgICAgICByZXR1cm4g\nY2xzLmdldE1hcHBlZFBDU3VwZXJjbGFzc01hcHBpbmcoKS5pc1ByaW1hcnlL\nZXlPYmplY3RJZChoYXNBbGwpOwogICAgfQp9Cg==\n","encoding":"base64"}

