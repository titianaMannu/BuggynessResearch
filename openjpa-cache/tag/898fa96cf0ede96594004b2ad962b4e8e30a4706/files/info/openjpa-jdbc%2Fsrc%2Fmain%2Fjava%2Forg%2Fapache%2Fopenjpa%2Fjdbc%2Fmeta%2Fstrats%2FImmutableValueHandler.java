{"sha":"6792553381cee20e70574c422bbad95b93c86bfe","node_id":"MDQ6QmxvYjIwNjM2NDo2NzkyNTUzMzgxY2VlMjBlNzA1NzRjNDIyYmJhZDk1YjkzYzg2YmZl","size":3677,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6792553381cee20e70574c422bbad95b93c86bfe","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5pZGVudGlmaWVyLkRC\nSWRlbnRpZmllcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtl\ncm5lbC5KREJDU3RvcmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5tZXRhLkZpZWxkTWFwcGluZzsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLm1ldGEuSmF2YVNRTFR5cGVzOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMubWV0YS5WYWx1ZU1hcHBpbmc7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbklPOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkphdmFUeXBlczsKCi8qKgogKiBI\nYW5kbGVyIGZvciBzaW1wbGUgdHlwZSBhbmQgc3RyaW5nIHZhbHVlcy4KICoK\nICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIEltbXV0YWJsZVZhbHVl\nSGFuZGxlcgogICAgZXh0ZW5kcyBBYnN0cmFjdFZhbHVlSGFuZGxlciB7Cgog\nICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgSW1tdXRhYmxlVmFsdWVIYW5kbGVy\nIF9pbnN0YW5jZSA9CiAgICAgICAgbmV3IEltbXV0YWJsZVZhbHVlSGFuZGxl\ncigpOwoKICAgIC8qKgogICAgICogU2luZ2xldG9uIGluc3RhbmNlLgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIEltbXV0YWJsZVZhbHVlSGFuZGxlciBn\nZXRJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gX2luc3RhbmNlOwogICAg\nfQoKICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgcHVi\nbGljIENvbHVtbltdIG1hcChWYWx1ZU1hcHBpbmcgdm0sIFN0cmluZyBuYW1l\nLCBDb2x1bW5JTyBpbywKICAgICAgICBib29sZWFuIGFkYXB0KSB7CiAgICAg\nICAgREJEaWN0aW9uYXJ5IGRpY3QgPSB2bS5nZXRNYXBwaW5nUmVwb3NpdG9y\neSgpLmdldERCRGljdGlvbmFyeSgpOwogICAgICAgIERCSWRlbnRpZmllciBj\nb2xOYW1lID0gREJJZGVudGlmaWVyLm5ld0NvbHVtbihuYW1lLCBkaWN0ICE9\nIG51bGwgPyBkaWN0LmRlbGltaXRBbGwoKSA6IGZhbHNlKTsKICAgICAgICBy\nZXR1cm4gbWFwKHZtLCBjb2xOYW1lLCBpbywgYWRhcHQpOwogICAgfQoKICAg\nIHB1YmxpYyBDb2x1bW5bXSBtYXAoVmFsdWVNYXBwaW5nIHZtLCBEQklkZW50\naWZpZXIgbmFtZSwgQ29sdW1uSU8gaW8sCiAgICAgICAgYm9vbGVhbiBhZGFw\ndCkgewogICAgICAgIENvbHVtbiBjb2wgPSBuZXcgQ29sdW1uKCk7CiAgICAg\nICAgY29sLnNldElkZW50aWZpZXIobmFtZSk7CiAgICAgICAgaWYgKHZtLmdl\ndFR5cGVDb2RlKCkgPT0gSmF2YVR5cGVzLkRBVEUpCiAgICAgICAgICAgIGNv\nbC5zZXRKYXZhVHlwZShKYXZhU1FMVHlwZXMuZ2V0RGF0ZVR5cGVDb2RlKHZt\nLmdldFR5cGUoKSkpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgY29sLnNl\ndEphdmFUeXBlKHZtLmdldFR5cGVDb2RlKCkpOwogICAgICAgIHJldHVybiBu\nZXcgQ29sdW1uW117IGNvbCB9OwogICAgfQoKICAgIHB1YmxpYyBib29sZWFu\nIGlzVmVyc2lvbmFibGUoVmFsdWVNYXBwaW5nIHZtKSB7CiAgICAgICAgc3dp\ndGNoICh2bS5nZXRUeXBlQ29kZSgpKSB7CiAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLkJPT0xFQU46CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZ\nVEU6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkNIQVI6CiAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLklOVDoKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuTE9ORzoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuU0hPUlQ6\nCiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJPT0xFQU5fT0JKOgogICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5CWVRFX09CSjoKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuQ0hBUl9PQko6CiAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLklOVF9PQko6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxP\nTkdfT0JKOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5TSE9SVF9PQko6\nCiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNUUklORzoKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuREFURToKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuQklHSU5URUdFUjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMu\nTE9DQUxFOgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAg\nICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgdG9EYXRhU3RvcmVW\nYWx1ZShWYWx1ZU1hcHBpbmcgdm0sIE9iamVjdCB2YWwsCiAgICAgICAgSkRC\nQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAgaWYgKHZhbCAhPSBudWxsKQogICAg\nICAgICAgICByZXR1cm4gdmFsOwoKICAgICAgICBGaWVsZE1hcHBpbmcgZmll\nbGQgPSB2bS5nZXRGaWVsZE1hcHBpbmcoKTsKICAgICAgICBpZiAoZmllbGQu\nZ2V0TnVsbFZhbHVlKCkgIT0gRmllbGRNYXBwaW5nLk5VTExfREVGQVVMVCkK\nICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgIENvbHVtbltdIGNv\nbHMgPSB2bS5nZXRDb2x1bW5zKCk7CiAgICAgICAgaWYgKGNvbHNbMF0uZ2V0\nRGVmYXVsdFN0cmluZygpICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBu\ndWxsOwoKICAgICAgICAvLyBob25vciB0aGUgdXNlcidzIG51bGwtdmFsdWU9\nZGVmYXVsdAogICAgICAgIHJldHVybiBKYXZhU1FMVHlwZXMuZ2V0RW1wdHlW\nYWx1ZSh2bS5nZXRUeXBlQ29kZSgpKTsKICAgIH0KfQo=\n","encoding":"base64"}

