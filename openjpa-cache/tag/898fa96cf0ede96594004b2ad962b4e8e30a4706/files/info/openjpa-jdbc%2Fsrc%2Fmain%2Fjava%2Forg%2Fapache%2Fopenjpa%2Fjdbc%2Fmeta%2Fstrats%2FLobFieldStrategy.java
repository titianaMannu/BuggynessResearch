{"sha":"6ccf33351c72df6a38f3cacb8eb48bf29713a0b3","node_id":"MDQ6QmxvYjIwNjM2NDo2Y2NmMzMzNTFjNzJkZjZhMzhmM2NhY2I4ZWI0OGJmMjk3MTNhMGIz","size":8385,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6ccf33351c72df6a38f3cacb8eb48bf29713a0b3","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBqYXZhLmlvLklucHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5S\nZWFkZXI7CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9ydCBq\nYXZhLnNxbC5UeXBlczsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5pZGVudGlmaWVyLkRCSWRlbnRpZmllcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDRmV0Y2hDb25maWd1cmF0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLkpEQkNTdG9y\nZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuRmllbGRN\nYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5W\nYWx1ZU1hcHBpbmdJbmZvOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc2NoZW1hLkNvbHVtbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zcWwuUG9zdGdyZXNEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuc3FsLlJlc3VsdDsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLnNxbC5Sb3c7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5zcWwuUm93TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbC5TZWxlY3Q7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEua2VybmVsLk9wZW5KUEFTdGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubWV0YS5KYXZhVHlwZXM7CgovKioKICogRGlyZWN0\nIG1hcHBpbmcgZnJvbSBhIHN0cmVhbSB2YWx1ZSB0byBhIGNvbHVtbi4KICoK\nICogQGF1dGhvciBJZ25hY2lvIEFuZHJldQogKiBAc2luY2UgMS4xLjAKICov\nCnB1YmxpYyBjbGFzcyBMb2JGaWVsZFN0cmF0ZWd5IGV4dGVuZHMgQWJzdHJh\nY3RGaWVsZFN0cmF0ZWd5IHsKCiAgICBwcml2YXRlIGludCBmaWVsZFR5cGU7\nCiAgICBwcml2YXRlIGJvb2xlYW4gaXNCbG9iOwoKICAgIHB1YmxpYyB2b2lk\nIG1hcChib29sZWFuIGFkYXB0KSB7CiAgICAgICAgYXNzZXJ0Tm90TWFwcGVk\nQnkoKTsKICAgICAgICBmaWVsZC5tYXBKb2luKGFkYXB0LCBmYWxzZSk7CiAg\nICAgICAgZmllbGQuZ2V0S2V5TWFwcGluZygpLmdldFZhbHVlSW5mbygpLmFz\nc2VydE5vU2NoZW1hQ29tcG9uZW50cwogICAgICAgICAgICAoZmllbGQuZ2V0\nS2V5KCksICFhZGFwdCk7CiAgICAgICAgZmllbGQuZ2V0RWxlbWVudE1hcHBp\nbmcoKS5nZXRWYWx1ZUluZm8oKS5hc3NlcnROb1NjaGVtYUNvbXBvbmVudHMK\nICAgICAgICAgICAgKGZpZWxkLmdldEVsZW1lbnQoKSwgIWFkYXB0KTsKICAg\nICAgICBmaWVsZC5zZXRTdHJlYW0odHJ1ZSk7CiAgICAgICAgVmFsdWVNYXBw\naW5nSW5mbyB2aW5mbyA9IGZpZWxkLmdldFZhbHVlSW5mbygpOwogICAgICAg\nIHZpbmZvLmFzc2VydE5vSm9pbihmaWVsZCwgdHJ1ZSk7CiAgICAgICAgdmlu\nZm8uYXNzZXJ0Tm9Gb3JlaWduS2V5KGZpZWxkLCAhYWRhcHQpOwogICAgICAg\nIERCRGljdGlvbmFyeSBkaWN0ID0gZmllbGQuZ2V0TWFwcGluZ1JlcG9zaXRv\ncnkoKS5nZXREQkRpY3Rpb25hcnkoKTsKICAgICAgICBEQklkZW50aWZpZXIg\nZmllbGROYW1lID0gREJJZGVudGlmaWVyLm5ld0NvbHVtbihmaWVsZC5nZXRO\nYW1lKCksIGRpY3QgIT0gbnVsbCA/IGRpY3QuZGVsaW1pdEFsbCgpIDogZmFs\nc2UpOwoKICAgICAgICBDb2x1bW4gdG1wQ29sID0gbmV3IENvbHVtbigpOwog\nICAgICAgIHRtcENvbC5zZXRJZGVudGlmaWVyKGZpZWxkTmFtZSk7CiAgICAg\nICAgdG1wQ29sLnNldFR5cGUoZmllbGRUeXBlKTsKICAgICAgICB0bXBDb2wu\nc2V0SmF2YVR5cGUoZmllbGQuZ2V0VHlwZUNvZGUoKSk7CiAgICAgICAgCiAg\nICAgICAgdG1wQ29sLnNldFNpemUoLTEpOwoKICAgICAgICBDb2x1bW5bXSBj\nb2xzID0gdmluZm8uZ2V0Q29sdW1ucyhmaWVsZCwgZmllbGROYW1lLAogICAg\nICAgICAgICBuZXcgQ29sdW1uW117IHRtcENvbCB9LCBmaWVsZC5nZXRUYWJs\nZSgpLCBhZGFwdCk7CgogICAgICAgIGZpZWxkLnNldENvbHVtbnMoY29scyk7\nCiAgICAgICAgZmllbGQuc2V0Q29sdW1uSU8odmluZm8uZ2V0Q29sdW1uSU8o\nKSk7CiAgICAgICAgZmllbGQubWFwQ29uc3RyYWludHMoZmllbGROYW1lLCBh\nZGFwdCk7CiAgICAgICAgZmllbGQubWFwUHJpbWFyeUtleShhZGFwdCk7CiAg\nICB9CgogICAgcHVibGljIEJvb2xlYW4gaXNDdXN0b21JbnNlcnQoT3BlbkpQ\nQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAg\ncmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIHZvaWQgZGVsZXRlKE9w\nZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwgUm93TWFu\nYWdlciBybSkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICBTZWxlY3Qgc2VsID0gY3JlYXRlU2VsZWN0KHNtLCBzdG9yZSk7CiAgICAg\nICAgc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkuZGVsZXRlU3RyZWFtKHN0b3Jl\nLCBzZWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCBpbnNlcnQoT3Bl\nbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLCBSb3dNYW5h\nZ2VyIHJtKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIE9iamVjdCBvYiA9IHRvRGF0YVN0b3JlVmFsdWUoc20uZmV0Y2hPYmplY3RG\naWVsZAogICAgICAgICAgICAoZmllbGQuZ2V0SW5kZXgoKSksIHN0b3JlKTsK\nICAgICAgICBSb3cgcm93ID0gZmllbGQuZ2V0Um93KHNtLCBzdG9yZSwgcm0s\nIFJvdy5BQ1RJT05fSU5TRVJUKTsKICAgICAgICBpZiAoZmllbGQuZ2V0Q29s\ndW1uSU8oKS5pc0luc2VydGFibGUoMCwgb2IgPT0gbnVsbCkpIHsKICAgICAg\nICAgICAgU2VsZWN0IHNlbCA9IGNyZWF0ZVNlbGVjdChzbSwgc3RvcmUpOwog\nICAgICAgICAgICBpZiAoaXNCbG9iKSB7CiAgICAgICAgICAgICAgICBzdG9y\nZS5nZXREQkRpY3Rpb25hcnkoKS5pbnNlcnRCbG9iRm9yU3RyZWFtaW5nTG9h\nZAogICAgICAgICAgICAgICAgICAgIChyb3csIGZpZWxkLmdldENvbHVtbnMo\nKVswXSwgc3RvcmUsIG9iLCBzZWwpOwogICAgICAgICAgICB9IGVsc2Ugewog\nICAgICAgICAgICAgICAgc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkuaW5zZXJ0\nQ2xvYkZvclN0cmVhbWluZ0xvYWQKICAgICAgICAgICAgICAgICAgICAocm93\nLCBmaWVsZC5nZXRDb2x1bW5zKClbMF0sIG9iKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjdXN0b21JbnNlcnQo\nT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIE9iamVjdCBvYiA9\nIHRvRGF0YVN0b3JlVmFsdWUoc20uZmV0Y2hPYmplY3RGaWVsZAogICAgICAg\nICAgICAoZmllbGQuZ2V0SW5kZXgoKSksIHN0b3JlKTsKICAgICAgICBpZiAo\nZmllbGQuZ2V0Q29sdW1uSU8oKS5pc0luc2VydGFibGUoMCwgb2IgPT0gbnVs\nbCkpIHsKICAgICAgICAgICAgaWYgKG9iICE9IG51bGwpIHsKICAgICAgICAg\nICAgICAgIFNlbGVjdCBzZWwgPSBjcmVhdGVTZWxlY3Qoc20sIHN0b3JlKTsK\nICAgICAgICAgICAgICAgIGlmIChpc0Jsb2IpIHsKICAgICAgICAgICAgICAg\nICAgICBzdG9yZS5nZXREQkRpY3Rpb25hcnkoKS51cGRhdGVCbG9iCiAgICAg\nICAgICAgICAgICAgICAgICAgIChzZWwsIHN0b3JlLCAoSW5wdXRTdHJlYW0p\nb2IpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAg\nICAgICBzdG9yZS5nZXREQkRpY3Rpb25hcnkoKS51cGRhdGVDbG9iCiAgICAg\nICAgICAgICAgICAgICAgICAgIChzZWwsIHN0b3JlLCAoUmVhZGVyKW9iKTsK\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAg\nIH0KICAgIAogICAgcHVibGljIEJvb2xlYW4gaXNDdXN0b21VcGRhdGUoT3Bl\nbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAg\nICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgcHVibGljIHZvaWQgdXBkYXRl\nKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwgUm93\nTWFuYWdlciBybSkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICBPYmplY3Qgb2IgPSB0b0RhdGFTdG9yZVZhbHVlKHNtLmZldGNoT2Jq\nZWN0RmllbGQKICAgICAgICAgICAgKGZpZWxkLmdldEluZGV4KCkpLCBzdG9y\nZSk7CiAgICAgICAgaWYgKGZpZWxkLmdldENvbHVtbklPKCkuaXNVcGRhdGFi\nbGUoMCwgb2IgPT0gbnVsbCkpIHsKICAgICAgICAgICAgUm93IHJvdyA9IGZp\nZWxkLmdldFJvdyhzbSwgc3RvcmUsIHJtLCBSb3cuQUNUSU9OX1VQREFURSk7\nCiAgICAgICAgICAgIFNlbGVjdCBzZWwgPSBjcmVhdGVTZWxlY3Qoc20sIHN0\nb3JlKTsKICAgICAgICAgICAgaWYgKGlzQmxvYikgewogICAgICAgICAgICAg\nICAgc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkuaW5zZXJ0QmxvYkZvclN0cmVh\nbWluZ0xvYWQKICAgICAgICAgICAgICAgICAgICAocm93LCBmaWVsZC5nZXRD\nb2x1bW5zKClbMF0sIHN0b3JlLCBvYiwgc2VsKTsKICAgICAgICAgICAgfSBl\nbHNlIHsKICAgICAgICAgICAgICAgIHN0b3JlLmdldERCRGljdGlvbmFyeSgp\nLmluc2VydENsb2JGb3JTdHJlYW1pbmdMb2FkCiAgICAgICAgICAgICAgICAg\nICAgKHJvdywgZmllbGQuZ2V0Q29sdW1ucygpWzBdLCBvYik7CiAgICAgICAg\nICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgY3VzdG9t\nVXBkYXRlKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9y\nZSkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBPYmpl\nY3Qgb2IgPSB0b0RhdGFTdG9yZVZhbHVlKHNtLmZldGNoT2JqZWN0RmllbGQK\nICAgICAgICAgICAgICAgIChmaWVsZC5nZXRJbmRleCgpKSwgc3RvcmUpOwog\nICAgICAgIGlmIChmaWVsZC5nZXRDb2x1bW5JTygpLmlzVXBkYXRhYmxlKDAs\nIG9iID09IG51bGwpKSB7CiAgICAgICAgICAgIGlmIChvYiAhPSBudWxsKSB7\nCiAgICAgICAgICAgICAgICBTZWxlY3Qgc2VsID0gY3JlYXRlU2VsZWN0KHNt\nLCBzdG9yZSk7CiAgICAgICAgICAgICAgICBpZiAoaXNCbG9iKSB7CiAgICAg\nICAgICAgICAgICAgICAgc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkudXBkYXRl\nQmxvYgogICAgICAgICAgICAgICAgICAgICAgICAoc2VsLCBzdG9yZSwgKElu\ncHV0U3RyZWFtKW9iKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAg\nICAgICAgICAgICAgICAgc3RvcmUuZ2V0REJEaWN0aW9uYXJ5KCkudXBkYXRl\nQ2xvYgogICAgICAgICAgICAgICAgICAgICAgICAoc2VsLCBzdG9yZSwgKFJl\nYWRlcilvYik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIGludCBzdXBwb3J0c1NlbGVjdChT\nZWxlY3Qgc2VsLCBpbnQgdHlwZSwgT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwK\nICAgICAgICBKREJDU3RvcmUgc3RvcmUsIEpEQkNGZXRjaENvbmZpZ3VyYXRp\nb24gZmV0Y2gpIHsKICAgICAgICBpZiAodHlwZSA9PSBTZWxlY3QuVFlQRV9K\nT0lOTEVTUyAmJiBzZWwuaXNTZWxlY3RlZChmaWVsZC5nZXRUYWJsZSgpKSkK\nICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgcmV0dXJuIDA7CiAgICB9\nCgogICAgcHVibGljIGludCBzZWxlY3QoU2VsZWN0IHNlbCwgT3BlbkpQQVN0\nYXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLAogICAgICAgIEpEQkNG\nZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gsIGludCBlYWdlck1vZGUpIHsKICAg\nICAgICBzZWwuc2VsZWN0KGZpZWxkLmdldENvbHVtbnMoKVswXSwgZmllbGQu\nam9pbihzZWwpKTsKICAgICAgICByZXR1cm4gMTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBsb2FkKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9y\nZSBzdG9yZSwKICAgICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNo\nLCBSZXN1bHQgcmVzKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBD\nb2x1bW4gY29sID0gZmllbGQuZ2V0Q29sdW1ucygpWzBdOwogICAgICAgIGlm\nIChyZXMuY29udGFpbnMoY29sKSkgewogICAgICAgICAgICBpZiAoaXNCbG9i\nKSB7CiAgICAgICAgICAgICAgICBzbS5zdG9yZU9iamVjdChmaWVsZC5nZXRJ\nbmRleCgpLCByZXMuZ2V0TE9CU3RyZWFtKHN0b3JlLCBjb2wpKTsKICAgICAg\nICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNtLnN0b3JlT2JqZWN0\nKGZpZWxkLmdldEluZGV4KCksIHJlcy5nZXRDaGFyYWN0ZXJTdHJlYW0oY29s\nKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHJvdGVj\ndGVkIHZvaWQgYXNzZXJ0Tm90TWFwcGVkQnkoKSB7CiAgICAgICAgaWYgKGZp\nZWxkICE9IG51bGwgJiYgZmllbGQuZ2V0TWFwcGVkQnkoKSAhPSBudWxsKQog\nICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGaWVsZE1hcHBp\nbmcoRmllbGRNYXBwaW5nIG93bmVyKSB7CiAgICAgICAgZmllbGQgPSBvd25l\ncjsKICAgICAgICBpZiAob3duZXIuZ2V0RWxlbWVudE1hcHBpbmcoKS5nZXRN\nYXBwaW5nUmVwb3NpdG9yeSgpLmdldERCRGljdGlvbmFyeSgpCiAgICAgICAg\nICAgIGluc3RhbmNlb2YgUG9zdGdyZXNEaWN0aW9uYXJ5KSB7CiAgICAgICAg\nICAgIGZpZWxkVHlwZSA9IFR5cGVzLklOVEVHRVI7CiAgICAgICAgICAgIGlz\nQmxvYiA9IHRydWU7CiAgICAgICAgICAgIGZpZWxkLnNldFR5cGVDb2RlKEph\ndmFUeXBlcy5JTlQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlm\nIChvd25lci5nZXRUeXBlKCkuaXNBc3NpZ25hYmxlRnJvbShJbnB1dFN0cmVh\nbS5jbGFzcykpIHsKICAgICAgICAgICAgICAgIGlzQmxvYiA9IHRydWU7CiAg\nICAgICAgICAgICAgICBmaWVsZFR5cGUgPSBUeXBlcy5CTE9COwogICAgICAg\nICAgICB9IGVsc2UgaWYgKG93bmVyLmdldFR5cGUoKS5pc0Fzc2lnbmFibGVG\ncm9tKFJlYWRlci5jbGFzcykpIHsKICAgICAgICAgICAgICAgIGlzQmxvYiA9\nIGZhbHNlOwogICAgICAgICAgICAgICAgZmllbGRUeXBlID0gVHlwZXMuQ0xP\nQjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRl\nIFNlbGVjdCBjcmVhdGVTZWxlY3QoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwg\nSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAgU2VsZWN0IHNlbCA9IHN0b3Jl\nLmdldFNRTEZhY3RvcnkoKS5uZXdTZWxlY3QoKTsKICAgICAgICBzZWwuc2Vs\nZWN0KGZpZWxkLmdldENvbHVtbnMoKVswXSk7CiAgICAgICAgc2VsLnNlbGVj\ndFByaW1hcnlLZXkoZmllbGQuZ2V0RGVmaW5pbmdNYXBwaW5nKCkpOwogICAg\nICAgIHNlbC53aGVyZVByaW1hcnlLZXkKICAgICAgICAgICAgKHNtLmdldE9i\namVjdElkKCksIGZpZWxkLmdldERlZmluaW5nTWFwcGluZygpLCBzdG9yZSk7\nCiAgICAgICAgc2VsLnNldExvYih0cnVlKTsKICAgICAgICByZXR1cm4gc2Vs\nOwogICAgfQogICAgCn0K\n","encoding":"base64"}

