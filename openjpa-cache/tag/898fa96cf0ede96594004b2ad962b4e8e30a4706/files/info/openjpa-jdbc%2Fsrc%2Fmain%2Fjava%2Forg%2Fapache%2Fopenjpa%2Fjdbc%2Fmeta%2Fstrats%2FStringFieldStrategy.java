{"sha":"5de9f78c42ccce05a4416350302e42d2b9be923c","node_id":"MDQ6QmxvYjIwNjM2NDo1ZGU5Zjc4YzQyY2NjZTA1YTQ0MTYzNTAzMDJlNDJkMmI5YmU5MjNj","size":9236,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5de9f78c42ccce05a4416350302e42d2b9be923c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0czsK\nCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuaWRlbnRpZmllci5EQklkZW50aWZpZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuSkRCQ0ZldGNo\nQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLmtlcm5lbC5KREJDU3RvcmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5tZXRhLkVtYmVkZGFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5tZXRhLkZpZWxkTWFwcGluZzsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLm1ldGEuSm9pbmFibGU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5tZXRhLlZhbHVlTWFwcGluZ0luZm87CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbklPOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkZvcmVpZ25LZXk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuUHJpbWFy\neUtleTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRp\nY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwu\nSm9pbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuUmVz\ndWx0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlJvdzsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Sb3dNYW5hZ2Vy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEJ1ZmZl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TZWxlY3Q7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLk9wZW5KUEFTdGF0\nZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwu\nTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2\nYVR5cGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuVmFsdWVT\ndHJhdGVnaWVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuTWV0\nYURhdGFFeGNlcHRpb247CgovKioKICogRGlyZWN0IG1hcHBpbmcgZnJvbSBh\nIHN0cmluZyB2YWx1ZSB0byBhIGNvbHVtbi4KICoKICogQGF1dGhvciBBYmUg\nV2hpdGUKICogQHNpbmNlIDAuNC4wCiAqLwpwdWJsaWMgY2xhc3MgU3RyaW5n\nRmllbGRTdHJhdGVneQogICAgZXh0ZW5kcyBBYnN0cmFjdEZpZWxkU3RyYXRl\nZ3kKICAgIGltcGxlbWVudHMgSm9pbmFibGUsIEVtYmVkZGFibGUgewoKICAg\nIHByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxp\nemVyLmZvclBhY2thZ2UKICAgICAgICAoU3RyaW5nRmllbGRTdHJhdGVneS5j\nbGFzcyk7CgogICAgcHVibGljIHZvaWQgbWFwKGJvb2xlYW4gYWRhcHQpIHsK\nICAgICAgICBpZiAoZmllbGQuZ2V0VHlwZUNvZGUoKSAhPSBKYXZhVHlwZXMu\nU1RSSU5HKQogICAgICAgICAgICB0aHJvdyBuZXcgTWV0YURhdGFFeGNlcHRp\nb24oX2xvYy5nZXQoIm5vdC1zdHJpbmciLCBmaWVsZCkpOwogICAgICAgIGFz\nc2VydE5vdE1hcHBlZEJ5KCk7CgogICAgICAgIC8vIG1hcCBqb2luIGtleSwg\naWYgYW55CiAgICAgICAgZmllbGQubWFwSm9pbihhZGFwdCwgZmFsc2UpOwog\nICAgICAgIGZpZWxkLmdldEtleU1hcHBpbmcoKS5nZXRWYWx1ZUluZm8oKS5h\nc3NlcnROb1NjaGVtYUNvbXBvbmVudHMKICAgICAgICAgICAgKGZpZWxkLmdl\ndEtleSgpLCAhYWRhcHQpOwogICAgICAgIGZpZWxkLmdldEVsZW1lbnRNYXBw\naW5nKCkuZ2V0VmFsdWVJbmZvKCkuYXNzZXJ0Tm9TY2hlbWFDb21wb25lbnRz\nCiAgICAgICAgICAgIChmaWVsZC5nZXRFbGVtZW50KCksICFhZGFwdCk7Cgog\nICAgICAgIFZhbHVlTWFwcGluZ0luZm8gdmluZm8gPSBmaWVsZC5nZXRWYWx1\nZUluZm8oKTsKICAgICAgICB2aW5mby5hc3NlcnROb0pvaW4oZmllbGQsIHRy\ndWUpOwogICAgICAgIHZpbmZvLmFzc2VydE5vRm9yZWlnbktleShmaWVsZCwg\nIWFkYXB0KTsKCiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3QgPSBmaWVsZC5n\nZXRNYXBwaW5nUmVwb3NpdG9yeSgpLmdldERCRGljdGlvbmFyeSgpOwogICAg\nICAgIERCSWRlbnRpZmllciBmaWVsZE5hbWUgPSBEQklkZW50aWZpZXIubmV3\nQ29sdW1uKGZpZWxkLmdldE5hbWUoKSwgZGljdCAhPSBudWxsID8gZGljdC5k\nZWxpbWl0QWxsKCkgOiBmYWxzZSk7CgogICAgICAgIC8vIGdldCB2YWx1ZSBj\nb2x1bW5zCiAgICAgICAgQ29sdW1uIHRtcENvbCA9IG5ldyBDb2x1bW4oKTsK\nICAgICAgICB0bXBDb2wuc2V0SWRlbnRpZmllcihmaWVsZE5hbWUpOwogICAg\nICAgIHRtcENvbC5zZXRKYXZhVHlwZShmaWVsZC5nZXRUeXBlQ29kZSgpKTsK\nCiAgICAgICAgQ29sdW1uW10gY29scyA9IHZpbmZvLmdldENvbHVtbnMoZmll\nbGQsIGZpZWxkTmFtZSwKICAgICAgICAgICAgbmV3IENvbHVtbltdeyB0bXBD\nb2wgfSwgZmllbGQuZ2V0VGFibGUoKSwgYWRhcHQpOwogICAgICAgIGlmIChm\naWVsZC5nZXRWYWx1ZVN0cmF0ZWd5KCkgPT0gVmFsdWVTdHJhdGVnaWVzLkFV\nVE9BU1NJR04pCiAgICAgICAgICAgIGNvbHNbMF0uc2V0QXV0b0Fzc2lnbmVk\nKHRydWUpOwoKICAgICAgICBmaWVsZC5zZXRDb2x1bW5zKGNvbHMpOwogICAg\nICAgIGZpZWxkLnNldENvbHVtbklPKHZpbmZvLmdldENvbHVtbklPKCkpOwog\nICAgICAgIGZpZWxkLm1hcENvbnN0cmFpbnRzKGZpZWxkTmFtZSwgYWRhcHQp\nOwoKICAgICAgICAvLyBhZGQgcHJpbWFyeSBrZXkgY29sdW1ucyB0byB0YWJs\nZSBwayBpZiBsb2dpY2FsCiAgICAgICAgZmllbGQubWFwUHJpbWFyeUtleShh\nZGFwdCk7CiAgICAgICAgUHJpbWFyeUtleSBwayA9IGZpZWxkLmdldFRhYmxl\nKCkuZ2V0UHJpbWFyeUtleSgpOwogICAgICAgIGlmIChmaWVsZC5pc1ByaW1h\ncnlLZXkoKSAmJiBwayAhPSBudWxsICYmIChhZGFwdCB8fCBway5pc0xvZ2lj\nYWwoKSkpCiAgICAgICAgICAgIHBrLmFkZENvbHVtbihjb2xzWzBdKTsKCiAg\nICAgICAgLy8gc2V0IGpvaW5hYmxlCiAgICAgICAgZmllbGQuZ2V0RGVmaW5p\nbmdNYXBwaW5nKCkuc2V0Sm9pbmFibGUoZmllbGQuZ2V0Q29sdW1ucygpWzBd\nLCB0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBpbnNlcnQoT3BlbkpQ\nQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLCBSb3dNYW5hZ2Vy\nIHJtKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0\ncmluZyBzdHIgPSAoU3RyaW5nKSB0b0RhdGFTdG9yZVZhbHVlKHNtLmZldGNo\nU3RyaW5nCiAgICAgICAgICAgIChmaWVsZC5nZXRJbmRleCgpKSwgc3RvcmUp\nOwogICAgICAgIGlmIChmaWVsZC5nZXRDb2x1bW5JTygpLmlzSW5zZXJ0YWJs\nZSgwLCBzdHIgPT0gbnVsbCkpIHsKICAgICAgICAgICAgUm93IHJvdyA9IGZp\nZWxkLmdldFJvdyhzbSwgc3RvcmUsIHJtLCBSb3cuQUNUSU9OX0lOU0VSVCk7\nCiAgICAgICAgICAgIGlmIChyb3cgIT0gbnVsbCkKICAgICAgICAgICAgICAg\nIHJvdy5zZXRTdHJpbmcoZmllbGQuZ2V0Q29sdW1ucygpWzBdLCBzdHIpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCB1cGRhdGUoT3BlbkpQ\nQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLCBSb3dNYW5hZ2Vy\nIHJtKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFN0\ncmluZyBzdHIgPSAoU3RyaW5nKSB0b0RhdGFTdG9yZVZhbHVlKHNtLmZldGNo\nU3RyaW5nCiAgICAgICAgICAgIChmaWVsZC5nZXRJbmRleCgpKSwgc3RvcmUp\nOwogICAgICAgIGlmIChmaWVsZC5nZXRDb2x1bW5JTygpLmlzVXBkYXRhYmxl\nKDAsIHN0ciA9PSBudWxsKSkgewogICAgICAgICAgICBSb3cgcm93ID0gZmll\nbGQuZ2V0Um93KHNtLCBzdG9yZSwgcm0sIFJvdy5BQ1RJT05fVVBEQVRFKTsK\nICAgICAgICAgICAgaWYgKHJvdyAhPSBudWxsKQogICAgICAgICAgICAgICAg\ncm93LnNldFN0cmluZyhmaWVsZC5nZXRDb2x1bW5zKClbMF0sIHN0cik7CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIGRlbGV0ZShPcGVuSlBB\nU3RhdGVNYW5hZ2VyIHNtLCBKREJDU3RvcmUgc3RvcmUsIFJvd01hbmFnZXIg\ncm0pCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgZmll\nbGQuZGVsZXRlUm93KHNtLCBzdG9yZSwgcm0pOwogICAgfQoKICAgIHB1Ymxp\nYyBPYmplY3QgdG9EYXRhU3RvcmVWYWx1ZShPYmplY3QgdmFsLCBKREJDU3Rv\ncmUgc3RvcmUpIHsKICAgICAgICBpZiAodmFsICE9IG51bGwpCiAgICAgICAg\nICAgIHJldHVybiB2YWw7CgogICAgICAgIGlmIChmaWVsZC5nZXROdWxsVmFs\ndWUoKSAhPSBGaWVsZE1hcHBpbmcuTlVMTF9ERUZBVUxUKQogICAgICAgICAg\nICByZXR1cm4gbnVsbDsKICAgICAgICBpZiAoZmllbGQuZ2V0Q29sdW1ucygp\nWzBdLmdldERlZmF1bHRTdHJpbmcoKSAhPSBudWxsKQogICAgICAgICAgICBy\nZXR1cm4gbnVsbDsKICAgICAgICAvLyBob25vciB0aGUgdXNlcidzIG51bGwt\ndmFsdWU9ZGVmYXVsdAogICAgICAgIHJldHVybiAiIjsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IHN1cHBvcnRzU2VsZWN0KFNlbGVjdCBzZWwsIGludCB0eXBl\nLCBPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLAogICAgICAgIEpEQkNTdG9yZSBz\ndG9yZSwgSkRCQ0ZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCkgewogICAgICAg\nIGlmICh0eXBlID09IFNlbGVjdC5UWVBFX0pPSU5MRVNTICYmIHNlbC5pc1Nl\nbGVjdGVkKGZpZWxkLmdldFRhYmxlKCkpKQogICAgICAgICAgICByZXR1cm4g\nMTsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBwdWJsaWMgaW50IHNl\nbGVjdChTZWxlY3Qgc2VsLCBPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBKREJD\nU3RvcmUgc3RvcmUsCiAgICAgICAgSkRCQ0ZldGNoQ29uZmlndXJhdGlvbiBm\nZXRjaCwgaW50IGVhZ2VyTW9kZSkgewogICAgICAgIHNlbC5zZWxlY3QoZmll\nbGQuZ2V0Q29sdW1ucygpWzBdLCBmaWVsZC5qb2luKHNlbCkpOwogICAgICAg\nIHJldHVybiAxOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGxvYWQoT3BlbkpQ\nQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLAogICAgICAgIEpE\nQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gsIFJlc3VsdCByZXMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgQ29sdW1uIGNvbCA9\nIGZpZWxkLmdldENvbHVtbnMoKVswXTsKICAgICAgICBpZiAocmVzLmNvbnRh\naW5zKGNvbCkpCiAgICAgICAgICAgIHNtLnN0b3JlU3RyaW5nKGZpZWxkLmdl\ndEluZGV4KCksIHJlcy5nZXRTdHJpbmcoY29sKSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgYXBwZW5kSXNOdWxsKFNRTEJ1ZmZlciBzcWwsIFNlbGVjdCBz\nZWwsIEpvaW5zIGpvaW5zKSB7CiAgICAgICAgam9pbnMgPSBqb2luKGpvaW5z\nLCBmYWxzZSk7CiAgICAgICAgc3FsLmFwcGVuZChzZWwuZ2V0Q29sdW1uQWxp\nYXMoZmllbGQuZ2V0Q29sdW1ucygpWzBdLCBqb2lucykpLgogICAgICAgICAg\nICBhcHBlbmQoIiBJUyAiKS5hcHBlbmRWYWx1ZShudWxsLCBmaWVsZC5nZXRD\nb2x1bW5zKClbMF0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFwcGVuZElz\nTm90TnVsbChTUUxCdWZmZXIgc3FsLCBTZWxlY3Qgc2VsLCBKb2lucyBqb2lu\ncykgewogICAgICAgIGpvaW5zID0gam9pbihqb2lucywgZmFsc2UpOwogICAg\nICAgIHNxbC5hcHBlbmQoc2VsLmdldENvbHVtbkFsaWFzKGZpZWxkLmdldENv\nbHVtbnMoKVswXSwgam9pbnMpKS4KICAgICAgICAgICAgYXBwZW5kKCIgSVMg\nTk9UICIpLmFwcGVuZFZhbHVlKG51bGwsIGZpZWxkLmdldENvbHVtbnMoKVsw\nXSk7CiAgICB9CgogICAgcHVibGljIEpvaW5zIGpvaW4oSm9pbnMgam9pbnMs\nIGJvb2xlYW4gZm9yY2VPdXRlcikgewogICAgICAgIHJldHVybiBmaWVsZC5q\nb2luKGpvaW5zLCBmb3JjZU91dGVyLCBmYWxzZSk7CiAgICB9CgogICAgcHVi\nbGljIE9iamVjdCBsb2FkUHJvamVjdGlvbihKREJDU3RvcmUgc3RvcmUsIEpE\nQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gsCiAgICAgICAgUmVzdWx0IHJl\ncywgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIHJlcy5nZXRTdHJpbmcoZmllbGQuZ2V0Q29sdW1u\ncygpWzBdLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNW\nZXJzaW9uYWJsZSgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB3aGVyZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBK\nREJDU3RvcmUgc3RvcmUsIFJvd01hbmFnZXIgcm0sCiAgICAgICAgT2JqZWN0\nIHByZXZWYWx1ZSkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICBSb3cgcm93ID0gZmllbGQuZ2V0Um93KHNtLCBzdG9yZSwgcm0sIFJv\ndy5BQ1RJT05fVVBEQVRFKTsKICAgICAgICBpZiAocm93ID09IG51bGwpCiAg\nICAgICAgICAgIHJldHVybjsKCiAgICAgICAgQ29sdW1uIGNvbCA9IGZpZWxk\nLmdldENvbHVtbnMoKVswXTsKICAgICAgICBpZiAocHJldlZhbHVlID09IG51\nbGwpCiAgICAgICAgICAgIHJvdy53aGVyZU51bGwoY29sKTsKICAgICAgICBl\nbHNlCiAgICAgICAgICAgIHJvdy53aGVyZVN0cmluZyhjb2wsIHByZXZWYWx1\nZS50b1N0cmluZygpKTsKICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8KICAgIC8vIEpvaW5hYmxlIGltcGxlbWVudGF0aW9uCiAgICAv\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBwdWJsaWMgaW50IGdl\ndEZpZWxkSW5kZXgoKSB7CiAgICAgICAgcmV0dXJuIGZpZWxkLmdldEluZGV4\nKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRQcmltYXJ5S2V5VmFs\ndWUoUmVzdWx0IHJlcywgQ29sdW1uW10gY29scywgRm9yZWlnbktleSBmaywK\nICAgICAgICBKREJDU3RvcmUgc3RvcmUsIEpvaW5zIGpvaW5zKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIENvbHVtbiBjb2wgPSBj\nb2xzWzBdOwogICAgICAgIGlmIChmayAhPSBudWxsKQogICAgICAgICAgICBj\nb2wgPSBmay5nZXRDb2x1bW4oY29sKTsKICAgICAgICByZXR1cm4gcmVzLmdl\ndFN0cmluZyhjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgQ29sdW1u\nW10gZ2V0Q29sdW1ucygpIHsKICAgICAgICByZXR1cm4gZmllbGQuZ2V0Q29s\ndW1ucygpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0Sm9pblZhbHVl\nKE9iamVjdCBmaWVsZFZhbCwgQ29sdW1uIGNvbCwgSkRCQ1N0b3JlIHN0b3Jl\nKSB7CiAgICAgICAgcmV0dXJuIGZpZWxkVmFsOwogICAgfQoKICAgIHB1Ymxp\nYyBPYmplY3QgZ2V0Sm9pblZhbHVlKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20s\nIENvbHVtbiBjb2wsCiAgICAgICAgSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAg\nICAgcmV0dXJuIHNtLmZldGNoKGZpZWxkLmdldEluZGV4KCkpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldEF1dG9Bc3NpZ25lZFZhbHVlKE9wZW5KUEFT\ndGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwKICAgICAgICBDb2x1\nbW4gY29sLCBPYmplY3QgYXV0b0luYykgewogICAgICAgIFN0cmluZyBzdHIg\nPSAoYXV0b0luYyA9PSBudWxsKSA/IG51bGwgOiBhdXRvSW5jLnRvU3RyaW5n\nKCk7CiAgICAgICAgc20uc3RvcmVTdHJpbmcoZmllbGQuZ2V0SW5kZXgoKSwg\nc3RyKTsKICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLwogICAgLy8gRW1iZWRkYWJsZSBpbXBsZW1lbnRhdGlvbgogICAgLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICBwdWJsaWMgQ29sdW1uSU8g\nZ2V0Q29sdW1uSU8oKSB7CiAgICAgICAgcmV0dXJuIGZpZWxkLmdldENvbHVt\nbklPKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdFtdIGdldFJlc3VsdEFy\nZ3VtZW50cygpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IHRvRW1iZWRkZWREYXRhU3RvcmVWYWx1ZShPYmplY3Qg\ndmFsLCBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAgICByZXR1cm4gdG9EYXRh\nU3RvcmVWYWx1ZSh2YWwsIHN0b3JlKTsKICAgIH0KCiAgICBwdWJsaWMgT2Jq\nZWN0IHRvRW1iZWRkZWRPYmplY3RWYWx1ZShPYmplY3QgdmFsKSB7CiAgICAg\nICAgcmV0dXJuIHZhbDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBsb2FkRW1i\nZWRkZWQoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3Jl\nLAogICAgICAgIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gsIE9iamVj\ndCB2YWwpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\nc20uc3RvcmVTdHJpbmcoZmllbGQuZ2V0SW5kZXgoKSwgKFN0cmluZykgdmFs\nKTsKICAgIH0KfQo=\n","encoding":"base64"}

