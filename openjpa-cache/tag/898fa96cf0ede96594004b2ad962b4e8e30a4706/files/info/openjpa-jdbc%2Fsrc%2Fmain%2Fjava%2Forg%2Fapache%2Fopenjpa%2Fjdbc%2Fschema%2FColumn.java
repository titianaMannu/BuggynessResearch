{"sha":"cd05e158f1a285c55aa0d2fd21b8d1dde1a8add2","node_id":"MDQ6QmxvYjIwNjM2NDpjZDA1ZTE1OGYxYTI4NWM1NWFhMGQyZmQyMWI4ZDFkZGUxYThhZGQy","size":27057,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cd05e158f1a285c55aa0d2fd21b8d1dde1a8add2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZhLm1hdGguQmln\nSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkRhdGFiYXNlTWV0YURhdGE7Cmlt\ncG9ydCBqYXZhLnNxbC5EYXRlOwppbXBvcnQgamF2YS5zcWwuVGltZTsKaW1w\nb3J0IGphdmEuc3FsLlRpbWVzdGFtcDsKaW1wb3J0IGphdmEuc3FsLlR5cGVz\nOwoKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5sYW5nLlN0cmluZ1V0aWxz\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuaWRlbnRpZmllci5E\nQklkZW50aWZpZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5p\nZGVudGlmaWVyLlF1YWxpZmllZERCSWRlbnRpZmllcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuSmF2YVNRTFR5cGVzOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5WZXJzaW9uU3RyYXRlZ3k7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5KYXZhVHlwZXM7Cmlt\ncG9ydCBzZXJwLnV0aWwuTnVtYmVyczsKCi8qKgogKiBSZXByZXNlbnRzIGEg\nZGF0YWJhc2UgY29sdW1uLiBDbG9zZWx5IGFsaWduZWQgd2l0aCB0aGUgY29s\ndW1uCiAqIGluZm9ybWF0aW9uIGF2YWlsYWJsZSBmcm9tIHtAbGluayBEYXRh\nYmFzZU1ldGFEYXRhfS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQGF1\ndGhvciBTdGVwaGVuIEtpbQogKi8KQFN1cHByZXNzV2FybmluZ3MoInNlcmlh\nbCIpCnB1YmxpYyBjbGFzcyBDb2x1bW4KICAgIGV4dGVuZHMgUmVmZXJlbmNl\nQ291bnRlciB7CgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRkxBR19V\nTklOU0VSVEFCTEUgPSAyIDw8IDA7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIGludCBGTEFHX1VOVVBEQVRBQkxFID0gMiA8PCAxOwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBpbnQgRkxBR19ESVJFQ1RfSU5TRVJUID0gMiA8PCAyOwog\nICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRkxBR19ESVJFQ1RfVVBEQVRF\nID0gMiA8PCAzOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRkxBR19G\nS19JTlNFUlQgPSAyIDw8IDQ7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGlu\ndCBGTEFHX0ZLX1VQREFURSA9IDIgPDwgNTsKICAgIHB1YmxpYyBzdGF0aWMg\nZmluYWwgaW50IEZMQUdfUEtfSk9JTiA9IDIgPDwgNjsKCiAgICBwcml2YXRl\nIERCSWRlbnRpZmllciBfbmFtZSA9IERCSWRlbnRpZmllci5OVUxMOwogICAg\ncHJpdmF0ZSBUYWJsZSBfdGFibGUgPSBudWxsOwogICAgcHJpdmF0ZSBEQklk\nZW50aWZpZXIgX3RhYmxlTmFtZSA9IERCSWRlbnRpZmllci5OVUxMOwogICAg\ncHJpdmF0ZSBEQklkZW50aWZpZXIgX3NjaGVtYU5hbWUgPSBEQklkZW50aWZp\nZXIuTlVMTDsKICAgIHByaXZhdGUgaW50IF90eXBlID0gVHlwZXMuT1RIRVI7\nCiAgICBwcml2YXRlIERCSWRlbnRpZmllciBfdHlwZU5hbWUgPSBEQklkZW50\naWZpZXIuTlVMTDsKICAgIHByaXZhdGUgaW50IF9qYXZhVHlwZSA9IEphdmFU\neXBlcy5PQkpFQ1Q7CiAgICBwcml2YXRlIGludCBfc2l6ZSA9IDA7CiAgICBw\ncml2YXRlIGludCBfZGVjaW1hbHMgPSAwOwogICAgcHJpdmF0ZSBTdHJpbmcg\nX2RlZmF1bHRTdHIgPSBudWxsOwogICAgcHJpdmF0ZSBPYmplY3QgX2RlZmF1\nbHQgPSBudWxsOwogICAgcHJpdmF0ZSBCb29sZWFuIF9ub3ROdWxsID0gbnVs\nbDsKICAgIHByaXZhdGUgYm9vbGVhbiBfYXV0b0Fzc2lnbiA9IGZhbHNlOwog\nICAgcHJpdmF0ZSBib29sZWFuIF9yZWwgPSBmYWxzZTsKICAgIHByaXZhdGUg\nYm9vbGVhbiBfaW1wbGljaXRSZWxhdGlvbiA9IGZhbHNlOwogICAgcHJpdmF0\nZSBEQklkZW50aWZpZXIgX3RhcmdldCA9IERCSWRlbnRpZmllci5OVUxMOwog\nICAgcHJpdmF0ZSBTdHJpbmcgX3RhcmdldEZpZWxkID0gbnVsbDsKICAgIHBy\naXZhdGUgaW50IF9mbGFncyA9IDA7CiAgICBwcml2YXRlIFF1YWxpZmllZERC\nSWRlbnRpZmllciBfZnVsbFBhdGggPSBudWxsOwoKICAgIHByaXZhdGUgaW50\nIF9pbmRleCA9IDA7CiAgICBwcml2YXRlIGJvb2xlYW4gX3BrID0gZmFsc2U7\nCiAgICBwcml2YXRlIFZlcnNpb25TdHJhdGVneSBfdmVyc2lvblN0cmF0ZWd5\nID0gbnVsbDsKICAgIHByaXZhdGUgU3RyaW5nIF9jb21tZW50ID0gbnVsbDsK\nICAgIHByaXZhdGUgYm9vbGVhbiBfWE1MID0gZmFsc2U7CiAgICBwcml2YXRl\nIGJvb2xlYW4gX2lzVW5pMU1GSyA9IGZhbHNlOwogICAgCiAgICAvKioKICAg\nICAqIERlZmF1bHQgY29uc3RydWN0b3IuCiAgICAgKi8KICAgIHB1YmxpYyBD\nb2x1bW4oKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4K\nICAgICAqCiAgICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY29s\ndW1uCiAgICAgKiBAcGFyYW0gdGFibGUgdGhlIGNvbHVtbidzIHRhYmxlCiAg\nICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBwdWJsaWMgQ29sdW1uKFN0\ncmluZyBuYW1lLCBUYWJsZSB0YWJsZSkgewogICAgICAgIHRoaXMoREJJZGVu\ndGlmaWVyLm5ld0NvbHVtbihuYW1lKSwgdGFibGUpOwogICAgfQoKICAgIHB1\nYmxpYyBDb2x1bW4oREJJZGVudGlmaWVyIG5hbWUsIFRhYmxlIHRhYmxlKSB7\nCiAgICAgICAgc2V0SWRlbnRpZmllcihuYW1lKTsKICAgICAgICBpZiAodGFi\nbGUgIT0gbnVsbCkgewogICAgICAgICAgICBzZXRUYWJsZUlkZW50aWZpZXIo\ndGFibGUuZ2V0SWRlbnRpZmllcigpKTsKICAgICAgICAgICAgc2V0U2NoZW1h\nSWRlbnRpZmllcih0YWJsZS5nZXRTY2hlbWFJZGVudGlmaWVyKCkpOwogICAg\nICAgIH0KICAgICAgICBfdGFibGUgPSB0YWJsZTsKICAgIH0KCiAgICAvKioK\nICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb2x1bW4gaXMgcmVtb3ZlZCBmcm9t\nIGl0cyB0YWJsZS4gUmVtb3ZlcyB0aGUgY29sdW1uCiAgICAgKiBmcm9tIGFs\nbCB0YWJsZSBjb25zdHJhaW50cyBhbmQgaW5kZXhlcywgdGhlbiBpbnZhbGlk\nYXRlcyBpdC4KICAgICAqLwogICAgdm9pZCByZW1vdmUoKSB7CiAgICAgICAg\nVGFibGUgdGFibGUgPSBnZXRUYWJsZSgpOwogICAgICAgIGlmICh0YWJsZSA9\nPSBudWxsKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIFNjaGVtYSBz\nY2hlbWEgPSB0YWJsZS5nZXRTY2hlbWEoKTsKICAgICAgICBpZiAoc2NoZW1h\nICE9IG51bGwgJiYgc2NoZW1hLmdldFNjaGVtYUdyb3VwKCkgIT0gbnVsbCkg\newogICAgICAgICAgICBTY2hlbWFbXSBzY2hlbWFzID0gc2NoZW1hLmdldFNj\naGVtYUdyb3VwKCkuZ2V0U2NoZW1hcygpOwogICAgICAgICAgICBUYWJsZVtd\nIHRhYnM7CiAgICAgICAgICAgIEZvcmVpZ25LZXlbXSBma3M7CiAgICAgICAg\nICAgIENvbHVtbltdIGNvbHM7CiAgICAgICAgICAgIENvbHVtbltdIHBrczsK\nICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzY2hlbWFzLmxlbmd0\naDsgaSsrKSB7CiAgICAgICAgICAgICAgICB0YWJzID0gc2NoZW1hc1tpXS5n\nZXRUYWJsZXMoKTsKICAgICAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBq\nIDwgdGFicy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgIGZr\ncyA9IHRhYnNbal0uZ2V0Rm9yZWlnbktleXMoKTsKICAgICAgICAgICAgICAg\nICAgICBmb3IgKGludCBrID0gMDsgayA8IGZrcy5sZW5ndGg7IGsrKykgewog\nICAgICAgICAgICAgICAgICAgICAgICBjb2xzID0gZmtzW2tdLmdldENvbHVt\nbnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGtzID0gZmtzW2tdLmdl\ndFByaW1hcnlLZXlDb2x1bW5zKCk7CiAgICAgICAgICAgICAgICAgICAgICAg\nIGZvciAoaW50IGwgPSAwOyBsIDwgY29scy5sZW5ndGg7IGwrKykKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVxdWFscyhjb2xzW2xd\nKSB8fCB0aGlzLmVxdWFscyhwa3NbbF0pKQogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIGZrc1trXS5yZW1vdmVKb2luKGNvbHNbbF0pOwoKICAg\nICAgICAgICAgICAgICAgICAgICAgY29scyA9IGZrc1trXS5nZXRDb25zdGFu\ndENvbHVtbnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQg\nbCA9IDA7IGwgPCBjb2xzLmxlbmd0aDsgbCsrKQogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgaWYgKHRoaXMuZXF1YWxzKGNvbHNbbF0pKQogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgIGZrc1trXS5yZW1vdmVKb2luKGNv\nbHNbbF0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgcGtzID0gZmtzW2td\nLmdldENvbnN0YW50UHJpbWFyeUtleUNvbHVtbnMoKTsKICAgICAgICAgICAg\nICAgICAgICAgICAgZm9yIChpbnQgbCA9IDA7IGwgPCBwa3MubGVuZ3RoOyBs\nKyspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lcXVh\nbHMocGtzW2xdKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBm\na3Nba10ucmVtb3ZlSm9pbihwa3NbbF0pOwoKICAgICAgICAgICAgICAgICAg\nICAgICAgaWYgKGZrc1trXS5nZXRDb2x1bW5zKCkubGVuZ3RoID09IDAKICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICYmIGZrc1trXS5nZXRDb25zdGFu\ndENvbHVtbnMoKS5sZW5ndGggPT0gMCkKICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIHRhYnNbal0ucmVtb3ZlRm9yZWlnbktleShma3Nba10pOwogICAg\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAg\nICAgfQogICAgICAgIH0KCiAgICAgICAgSW5kZXhbXSBpZHhzID0gdGFibGUu\nZ2V0SW5kZXhlcygpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgaWR4\ncy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgaWYgKGlkeHNbaV0ucmVtb3Zl\nQ29sdW1uKHRoaXMpICYmIGlkeHNbaV0uZ2V0Q29sdW1ucygpLmxlbmd0aCA9\nPSAwKQogICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlSW5kZXgoaWR4c1tp\nXSk7CgogICAgICAgIFVuaXF1ZVtdIHVucXMgPSB0YWJsZS5nZXRVbmlxdWVz\nKCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB1bnFzLmxlbmd0aDsg\naSsrKQogICAgICAgICAgICBpZiAodW5xc1tpXS5yZW1vdmVDb2x1bW4odGhp\ncykgJiYgdW5xc1tpXS5nZXRDb2x1bW5zKCkubGVuZ3RoID09IDApCiAgICAg\nICAgICAgICAgICB0YWJsZS5yZW1vdmVVbmlxdWUodW5xc1tpXSk7CgogICAg\nICAgIFByaW1hcnlLZXkgcGsgPSB0YWJsZS5nZXRQcmltYXJ5S2V5KCk7CiAg\nICAgICAgaWYgKHBrICE9IG51bGwgJiYgcGsucmVtb3ZlQ29sdW1uKHRoaXMp\nICYmIHBrLmdldENvbHVtbnMoKS5sZW5ndGggPT0gMCkKICAgICAgICAgICAg\ndGFibGUucmVtb3ZlUHJpbWFyeUtleSgpOwoKICAgICAgICBfdGFibGUgPSBu\ndWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSB0YWJsZSBm\nb3IgdGhlIGNvbHVtbi4KICAgICAqLwogICAgcHVibGljIFRhYmxlIGdldFRh\nYmxlKCkgewogICAgICAgIHJldHVybiBfdGFibGU7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBUaGUgY29sdW1uJ3MgdGFibGUgbmFtZS4KICAgICAqIEBkZXBy\nZWNhdGVkCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGFibGVOYW1l\nKCkgewogICAgICAgIHJldHVybiBnZXRUYWJsZUlkZW50aWZpZXIoKS5nZXRO\nYW1lKCk7CiAgICB9CgogICAgcHVibGljIERCSWRlbnRpZmllciBnZXRUYWJs\nZUlkZW50aWZpZXIoKSB7CiAgICAgICAgcmV0dXJuIF90YWJsZU5hbWUgPT0g\nbnVsbCA/IERCSWRlbnRpZmllci5OVUxMIDogX3RhYmxlTmFtZTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFRoZSBjb2x1bW4ncyB0YWJsZSBuYW1lLiBZb3Ug\nY2FuIG9ubHkgY2FsbCB0aGlzIG1ldGhvZCBvbiBjb2x1bW5zCiAgICAgKiB3\naG9zZSB0YWJsZSBvYmplY3QgaXMgbm90IHNldC4KICAgICAqIEBkZXByZWNh\ndGVkCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFRhYmxlTmFtZShTdHJp\nbmcgbmFtZSkgewogICAgICAgIHNldFRhYmxlSWRlbnRpZmllcihEQklkZW50\naWZpZXIubmV3VGFibGUobmFtZSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFRhYmxlSWRlbnRpZmllcihEQklkZW50aWZpZXIgbmFtZSkgewogICAg\nICBpZiAoZ2V0VGFibGUoKSAhPSBudWxsKQogICAgICAgICAgdGhyb3cgbmV3\nIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOwogICAgICBfdGFibGVOYW1lID0g\nbmFtZSA9PSBudWxsID8gREJJZGVudGlmaWVyLk5VTEwgOiBuYW1lOwogICAg\nICBfZnVsbFBhdGggPSBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmVz\nZXQgdGhlIHRhYmxlIG5hbWUgd2l0aCB0aGUgZnVsbHkgcXVhbGlmaWVkIHRh\nYmxlIG5hbWUgd2hpY2gKICAgICAqIGluY2x1ZGVzIHRoZSBzY2hlbWEgbmFt\nZQogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgcHVibGljIHZvaWQg\ncmVzZXRUYWJsZU5hbWUoU3RyaW5nIG5hbWUpIHsKICAgICAgICBfdGFibGVO\nYW1lID0gREJJZGVudGlmaWVyLm5ld1RhYmxlKG5hbWUpOwogICAgfQogICAg\nCiAgICBwdWJsaWMgdm9pZCByZXNldFRhYmxlSWRlbnRpZmllcihEQklkZW50\naWZpZXIgdGFibGUpIHsKICAgICAgICBfdGFibGVOYW1lID0gdGFibGUgPT0g\nbnVsbCA/IERCSWRlbnRpZmllci5OVUxMIDogdGFibGU7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUaGUgY29sdW1uJ3Mgc2NoZW1hIG5hbWUuCiAgICAgKiBA\nZGVwcmVjYXRlZAogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFNjaGVt\nYU5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGdldFNjaGVtYUlkZW50aWZpZXIo\nKS5nZXROYW1lKCk7CiAgICB9CgogICAgcHVibGljIERCSWRlbnRpZmllciBn\nZXRTY2hlbWFJZGVudGlmaWVyKCkgewogICAgICAgIHJldHVybiBfc2NoZW1h\nTmFtZSA9PSBudWxsID8gREJJZGVudGlmaWVyLk5VTEwgOiBfc2NoZW1hTmFt\nZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBjb2x1bW4ncyBzY2hlbWEg\nbmFtZS4gWW91IGNhbiBvbmx5IGNhbGwgdGhpcyBtZXRob2Qgb24gY29sdW1u\ncwogICAgICogd2hvc2UgdGFibGUgb2JqZWN0IGlzIG5vdCBzZXQuCiAgICAg\nKiBAZGVwcmVjYXRlZCB1c2Ugc2V0U2NoZW1hSWRlbnRpZmllcihEQklkZW50\naWZpZXIgbmFtZSkKICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U2NoZW1h\nTmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIHNldFNjaGVtYUlkZW50aWZp\nZXIoREJJZGVudGlmaWVyLm5ld1NjaGVtYShuYW1lKSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0U2NoZW1hSWRlbnRpZmllcihEQklkZW50aWZpZXIg\nbmFtZSkgewogICAgICAgIGlmIChnZXRUYWJsZSgpICE9IG51bGwpCiAgICAg\nICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsKICAg\nICAgICBfc2NoZW1hTmFtZSA9IG5hbWUgPT0gbnVsbCA/IERCSWRlbnRpZmll\nci5OVUxMIDogbmFtZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0\naGUgY29sdW1uJ3MgbmFtZS4KICAgICAqIEBkZXByZWNhdGVkIHVzZSBnZXRJ\nZGVudGlmaWVyKCkKICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXROYW1l\nKCkgewogICAgICAgIHJldHVybiBnZXRJZGVudGlmaWVyKCkuZ2V0TmFtZSgp\nOwogICAgfQoKICAgIHB1YmxpYyBEQklkZW50aWZpZXIgZ2V0SWRlbnRpZmll\ncigpIHsKICAgICAgICByZXR1cm4gX25hbWUgPT0gbnVsbCA/IERCSWRlbnRp\nZmllci5OVUxMIDogX25hbWU7CiAgICB9CgogICAgCiAgICAvKioKICAgICAq\nIFNldCB0aGUgY29sdW1uJ3MgbmFtZS4gWW91IGNhbiBvbmx5IGNhbGwgdGhp\ncyBtZXRob2Qgb24gY29sdW1ucwogICAgICogd2hvc2UgdGFibGUgb2JqZWN0\nIGlzIG5vdCBzZXQuCiAgICAgKiBAZGVwcmVjYXRlZCB1c2Ugc2V0SWRlbnRp\nZmllcihEQklkZW50aWZpZXIgbmFtZSkKICAgICAqLwogICAgcHVibGljIHZv\naWQgc2V0TmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIHNldElkZW50aWZp\nZXIoREJJZGVudGlmaWVyLm5ld0NvbHVtbihuYW1lKSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0SWRlbnRpZmllcihEQklkZW50aWZpZXIgbmFtZSkg\newogICAgICAgIGlmIChnZXRUYWJsZSgpICE9IG51bGwpCiAgICAgICAgICAg\nIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsKICAgICAgICBf\nbmFtZSA9IG5hbWUgPT0gbnVsbCA/IERCSWRlbnRpZmllci5OVUxMIDogbmFt\nZTsKICAgICAgICBfZnVsbFBhdGggPSBudWxsOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIHRoZSBjb2x1bW4ncyBmdWxsIG5hbWUsIGluIHRoZSBm\nb3JtICZsdDt0YWJsZSZndDsuJmx0O25hbWUmZ3Q7LgogICAgICogQGRlcHJl\nY2F0ZWQgdXNlIGdldEZ1bGxEQklkZW50aWZpZXIoKQogICAgICovCiAgICBw\ndWJsaWMgU3RyaW5nIGdldEZ1bGxOYW1lKCkgewogICAgICAgIHJldHVybiBn\nZXRGdWxsREJJZGVudGlmaWVyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIHB1\nYmxpYyBEQklkZW50aWZpZXIgZ2V0RnVsbERCSWRlbnRpZmllcigpIHsKICAg\nICAgICByZXR1cm4gZ2V0UXVhbGlmaWVkUGF0aCgpLmdldElkZW50aWZpZXIo\nKTsKICAgIH0KICAgIAogICAgcHVibGljIFF1YWxpZmllZERCSWRlbnRpZmll\nciBnZXRRdWFsaWZpZWRQYXRoKCkgewogICAgICAgIGlmIChfZnVsbFBhdGgg\nID09IG51bGwpIHsKICAgICAgICAgICAgX2Z1bGxQYXRoID0gUXVhbGlmaWVk\nREJJZGVudGlmaWVyLm5ld1BhdGgoZ2V0VGFibGVJZGVudGlmaWVyKCksIGdl\ndElkZW50aWZpZXIoKSApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gX2Z1\nbGxQYXRoOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBjb2x1\nbW4ncyBTUUwgdHlwZS4gVGhpcyB3aWxsIGJlIG9uZSBvZiB0aGUgdHlwZSBj\nb25zdGFudHMKICAgICAqIGRlZmluZWQgaW4ge0BsaW5rIFR5cGVzfS4KICAg\nICAqLwogICAgcHVibGljIGludCBnZXRUeXBlKCkgewogICAgICAgIHJldHVy\nbiBfdHlwZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgY29sdW1u\nJ3MgU1FMIHR5cGUuIFRoaXMgc2hvdWxkIGJlIG9uZSBvZiB0aGUgdHlwZSBj\nb25zdGFudHMKICAgICAqIGRlZmluZWQgaW4ge0BsaW5rIFR5cGVzfS4KICAg\nICAqLwogICAgcHVibGljIHZvaWQgc2V0VHlwZShpbnQgc3FsVHlwZSkgewog\nICAgICAgIF90eXBlID0gc3FsVHlwZTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFRoZSBkYXRhYmFzZS1zcGVjaWZpYyBTUUwgdHlwZSBvZiB0aGlzIGNvbHVt\nbi4KICAgICAqIEBkZXByZWNhdGVkCiAgICAgKi8KICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0VHlwZU5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGdldFR5cGVJZGVu\ndGlmaWVyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIHB1YmxpYyBEQklkZW50\naWZpZXIgZ2V0VHlwZUlkZW50aWZpZXIoKSB7CiAgICAgICAgcmV0dXJuIF90\neXBlTmFtZSA9PSBudWxsID8gREJJZGVudGlmaWVyLk5VTEwgOiBfdHlwZU5h\nbWUgOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGRhdGFiYXNlLXNwZWNp\nZmljIFNRTCB0eXBlIG9mIHRoaXMgY29sdW1uLgogICAgICogQGRlcHJlY2F0\nZWQKICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0VHlwZU5hbWUoU3RyaW5n\nIHR5cGVOYW1lKSB7CiAgICAgICAgc2V0VHlwZUlkZW50aWZpZXIoREJJZGVu\ndGlmaWVyLm5ld0NvbHVtbkRlZmluaXRpb24odHlwZU5hbWUpKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRUeXBlSWRlbnRpZmllcihEQklkZW50aWZp\nZXIgdHlwZU5hbWUpIHsKICAgICAgICBfdHlwZU5hbWUgPSB0eXBlTmFtZSA9\nPSBudWxsID8gREJJZGVudGlmaWVyLk5VTEwgOiB0eXBlTmFtZTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFRoZSBKYXZhIHR5cGUgdGhlIGRhdGEgaW4gdGhp\ncyBjb2x1bW4gaXMgdHJlYXRlZCBhcywgZnJvbQogICAgICoge0BsaW5rIEph\ndmFUeXBlc30gb3Ige0BsaW5rIEphdmFTUUxUeXBlc30uCiAgICAgKi8KICAg\nIHB1YmxpYyBpbnQgZ2V0SmF2YVR5cGUoKSB7CiAgICAgICAgcmV0dXJuIF9q\nYXZhVHlwZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBKYXZhIHR5cGUg\ndGhlIGRhdGEgaW4gdGhpcyBjb2x1bW4gaXMgdHJlYXRlZCBhcywgZnJvbQog\nICAgICoge0BsaW5rIEphdmFUeXBlc30gb3Ige0BsaW5rIEphdmFTUUxUeXBl\nc30uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEphdmFUeXBlKGludCB0\neXBlKSB7CiAgICAgICAgX2phdmFUeXBlID0gdHlwZTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiB0aGUgY29sdW1uJ3Mgc2l6ZS4KICAgICAqLwog\nICAgcHVibGljIGludCBnZXRTaXplKCkgewogICAgICAgIHJldHVybiBfc2l6\nZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgY29sdW1uJ3Mgc2l6\nZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U2l6ZShpbnQgc2l6ZSkg\newogICAgICAgIF9zaXplID0gc2l6ZTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzIGZvciB0aGUg\nY29sdW1uLCBpZiBhcHBsaWNhYmxlLgogICAgICovCiAgICBwdWJsaWMgaW50\nIGdldERlY2ltYWxEaWdpdHMoKSB7CiAgICAgICAgcmV0dXJuIF9kZWNpbWFs\nczsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgbnVtYmVyIG9mIGRl\nY2ltYWwgZGlnaXRzIGZvciB0aGUgY29sdW1uLgogICAgICovCiAgICBwdWJs\naWMgdm9pZCBzZXREZWNpbWFsRGlnaXRzKGludCBkaWdpdHMpIHsKICAgICAg\nICBfZGVjaW1hbHMgPSBkaWdpdHM7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWUgc2V0IGZvciB0aGUgY29sdW1uLCBp\nZiBhbnkuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVmYXVsdFN0\ncmluZygpIHsKICAgICAgICByZXR1cm4gX2RlZmF1bHRTdHI7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBj\nb2x1bW4uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldERlZmF1bHRTdHJp\nbmcoU3RyaW5nIGRlZikgewogICAgICAgIF9kZWZhdWx0U3RyID0gZGVmOwog\nICAgICAgIF9kZWZhdWx0ID0gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgZGVmYXVsdCB2YWx1ZSBzZXQgZm9yIHRoaXMgY29sdW1u\nLCBpZiBhbnkuIElmIG9ubHkgYSBkZWZhdWx0CiAgICAgKiBzdHJpbmcgaGFz\nIGJlZW4gc2V0LCBhdHRlbXB0cyB0byBjb252ZXJ0IGl0IHRvIHRoZSByaWdo\ndCB0eXBlIGJhc2VkCiAgICAgKiBvbiB0aGUgSmF2YSB0eXBlIHNldCBmb3Ig\ndGhpcyBjb2x1bW4uCiAgICAgKi8KICAgIHB1YmxpYyBPYmplY3QgZ2V0RGVm\nYXVsdCgpIHsKICAgICAgICBpZiAoX2RlZmF1bHQgIT0gbnVsbCkKICAgICAg\nICAgICAgcmV0dXJuIF9kZWZhdWx0OwogICAgICAgIGlmIChfZGVmYXVsdFN0\nciA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAg\nc3dpdGNoIChfamF2YVR5cGUpIHsKICAgICAgICAgICAgY2FzZSBKYXZhVHlw\nZXMuQk9PTEVBTjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQk9PTEVB\nTl9PQko6CiAgICAgICAgICAgICAgICBfZGVmYXVsdCA9ICgidHJ1ZSIuZXF1\nYWxzKF9kZWZhdWx0U3RyKSkgPyBCb29sZWFuLlRSVUUKICAgICAgICAgICAg\nICAgICAgICA6IEJvb2xlYW4uRkFMU0U7CiAgICAgICAgICAgICAgICBicmVh\nazsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQllURToKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuQllURV9PQko6CiAgICAgICAgICAgICAgICBf\nZGVmYXVsdCA9IG5ldyBCeXRlKF9kZWZhdWx0U3RyKTsKICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DSEFSOgog\nICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DSEFSX09CSjoKICAgICAgICAg\nICAgICAgIF9kZWZhdWx0ID0gbmV3IENoYXJhY3RlcihfZGVmYXVsdFN0ci5j\naGFyQXQoMCkpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLkRPVUJMRToKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuRE9VQkxFX09CSjoKICAgICAgICAgICAgICAgIF9kZWZhdWx0ID0g\nbmV3IERvdWJsZShfZGVmYXVsdFN0cik7CiAgICAgICAgICAgICAgICBicmVh\nazsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRkxPQVQ6CiAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLkZMT0FUX09CSjoKICAgICAgICAgICAgICAg\nIF9kZWZhdWx0ID0gbmV3IEZsb2F0KF9kZWZhdWx0U3RyKTsKICAgICAgICAg\nICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5JTlQ6\nCiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklOVF9PQko6CiAgICAgICAg\nICAgICAgICBfZGVmYXVsdCA9IE51bWJlcnMudmFsdWVPZihJbnRlZ2VyLnBh\ncnNlSW50KF9kZWZhdWx0U3RyKSk7CiAgICAgICAgICAgICAgICBicmVhazsK\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTE9ORzoKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuTE9OR19PQko6CiAgICAgICAgICAgICAgICBfZGVm\nYXVsdCA9IE51bWJlcnMudmFsdWVPZihMb25nLnBhcnNlTG9uZyhfZGVmYXVs\ndFN0cikpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLk5VTUJFUjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlw\nZXMuQklHREVDSU1BTDoKICAgICAgICAgICAgICAgIF9kZWZhdWx0ID0gbmV3\nIEJpZ0RlY2ltYWwoX2RlZmF1bHRTdHIpOwogICAgICAgICAgICAgICAgYnJl\nYWs7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5TSE9SVF9PQko6CiAgICAgICAgICAgICAg\nICBfZGVmYXVsdCA9IG5ldyBTaG9ydChfZGVmYXVsdFN0cik7CiAgICAgICAg\nICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuREFU\nRToKICAgICAgICAgICAgICAgIF9kZWZhdWx0ID0gbmV3IGphdmEudXRpbC5E\nYXRlKF9kZWZhdWx0U3RyKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5CSUdJTlRFR0VSOgogICAgICAgICAg\nICAgICAgX2RlZmF1bHQgPSBuZXcgQmlnSW50ZWdlcihfZGVmYXVsdFN0cik7\nCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBKYXZh\nU1FMVHlwZXMuU1FMX0RBVEU6CiAgICAgICAgICAgICAgICBfZGVmYXVsdCA9\nIERhdGUudmFsdWVPZihfZGVmYXVsdFN0cik7CiAgICAgICAgICAgICAgICBi\ncmVhazsKICAgICAgICAgICAgY2FzZSBKYXZhU1FMVHlwZXMuVElNRVNUQU1Q\nOgogICAgICAgICAgICAgICAgX2RlZmF1bHQgPSBUaW1lc3RhbXAudmFsdWVP\nZihfZGVmYXVsdFN0cik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAg\nICAgICAgY2FzZSBKYXZhU1FMVHlwZXMuVElNRToKICAgICAgICAgICAgICAg\nIF9kZWZhdWx0ID0gVGltZS52YWx1ZU9mKF9kZWZhdWx0U3RyKTsKICAgICAg\nICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAg\nICAgICAgICAgX2RlZmF1bHQgPSBfZGVmYXVsdFN0cjsKICAgICAgICB9CiAg\nICAgICAgcmV0dXJuIF9kZWZhdWx0OwogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29sdW1uLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCBzZXREZWZhdWx0KE9iamVjdCBkZWYpIHsKICAg\nICAgICBfZGVmYXVsdCA9IGRlZjsKICAgICAgICBfZGVmYXVsdFN0ciA9IChk\nZWYgPT0gbnVsbCkgPyBudWxsIDogZGVmLnRvU3RyaW5nKCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGlzIGlzIGEgTk9UIE5V\nTEwgY29sdW1uLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc05vdE51\nbGwoKSB7CiAgICAgICAgcmV0dXJuIF9ub3ROdWxsID09IEJvb2xlYW4uVFJV\nRTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB3aGV0aGVyIHRoaXMgaXMg\nYSBOT1QgTlVMTCBjb2x1bW4uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNl\ndE5vdE51bGwoYm9vbGVhbiBub3ROdWxsKSB7CiAgICAgICAgX25vdE51bGwg\nPSAobm90TnVsbCkgPyBCb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFOwog\nICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0aGUgbm90LW51bGwgcHJv\ncGVydHkgaGFzIGJlZW4gc2V0LgogICAgICovCiAgICBwdWJsaWMgYm9vbGVh\nbiBpc05vdE51bGxFeHBsaWNpdCgpIHsKICAgICAgICByZXR1cm4gX25vdE51\nbGwgIT0gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhp\ncyBjb2x1bW4gaXMgYXV0by1hc3NpZ25lZCBhIHZhbHVlIG9uIGluc2VydC4K\nICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNBdXRvQXNzaWduZWQoKSB7\nCiAgICAgICAgcmV0dXJuIF9hdXRvQXNzaWduOwogICAgfQoKICAgIC8qKgog\nICAgICogV2hldGhlciB0aGlzIGNvbHVtbiBpcyBhdXRvLWluY3JlbWVudGlu\nZy4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0QXV0b0Fzc2lnbmVkKGJv\nb2xlYW4gYXV0b0Fzc2lnbikgewogICAgICAgIGlmIChhdXRvQXNzaWduICE9\nIF9hdXRvQXNzaWduICYmIGdldFRhYmxlKCkgIT0gbnVsbCkKICAgICAgICAg\nICAgZ2V0VGFibGUoKS5jaGFuZ2VBdXRvQXNzaWduZWQodGhpcyk7CiAgICAg\nICAgX2F1dG9Bc3NpZ24gPSBhdXRvQXNzaWduOwogICAgfQoKICAgIC8qKgog\nICAgICogV2hldGhlciB0aGlzIGNvbHVtbiBzdG9yZXMgc29tZSBmb3JtIG9m\nIHNlcmlhbGl6ZWQgaWRlbnRpdHkgdmFsdWUgZm9yCiAgICAgKiBhIHJlbGF0\nZWQgcmVjb3JkLiBUaGlzIG1ha2VzIHRoZSBjb2x1bW4gZGVwZW5kZW50IG9u\nIHRoZSBrbm93aW5nIHRoZQogICAgICogZmluYWwgaWRlbnRpdHkgb2YgdGhl\nIHJlbGF0aW9uIGJlZm9yZSB0aGUgY29sdW1uIHZhbHVlIGlzIHNldC4KICAg\nICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNSZWxhdGlvbklkKCkgewogICAg\nICAgIHJldHVybiBfcmVsOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhl\nciB0aGlzIGNvbHVtbiBzdG9yZXMgc29tZSBmb3JtIG9mIHNlcmlhbGl6ZWQg\naWRlbnRpdHkgdmFsdWUgZm9yCiAgICAgKiBhIHJlbGF0ZWQgcmVjb3JkLiBU\naGlzIG1ha2VzIHRoZSBjb2x1bW4gZGVwZW5kZW50IG9uIHRoZSBrbm93aW5n\nIHRoZQogICAgICogZmluYWwgaWRlbnRpdHkgb2YgdGhlIHJlbGF0aW9uIGJl\nZm9yZSB0aGUgY29sdW1uIHZhbHVlIGlzIHNldC4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgc2V0UmVsYXRpb25JZChib29sZWFuIHJlbCkgewogICAgICAg\nIGlmIChyZWwgIT0gX3JlbCAmJiBnZXRUYWJsZSgpICE9IG51bGwpCiAgICAg\nICAgICAgIGdldFRhYmxlKCkuY2hhbmdlUmVsYXRpb25JZCh0aGlzKTsKICAg\nICAgICBfcmVsID0gcmVsOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG5h\nbWUgb2YgdGhlIGNvbHVtbiB0aGlzIGNvbHVtbiBqb2lucyB0bywgaWYgYW55\nLiBVc2VkIGZvciBtYXBwaW5nLgogICAgICogQGRlcHJlY2F0ZWQgdXNlIGdl\ndFRhcmdldElkZW50aWZpZXIoKQogICAgICovCiAgICBwdWJsaWMgU3RyaW5n\nIGdldFRhcmdldCgpIHsKICAgICAgICByZXR1cm4gZ2V0VGFyZ2V0SWRlbnRp\nZmllcigpLmdldE5hbWUoKTsKICAgIH0KCiAgICBwdWJsaWMgREJJZGVudGlm\naWVyIGdldFRhcmdldElkZW50aWZpZXIoKSB7CiAgICAgICAgcmV0dXJuIF90\nYXJnZXQgPT0gbnVsbCA/IERCSWRlbnRpZmllci5OVUxMIDogX3RhcmdldDsK\nICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb2x1bW4g\ndGhpcyBjb2x1bW4gam9pbnMgdG8sIGlmIGFueS4gVXNlZCBmb3IgbWFwcGlu\nZy4KICAgICAqIEBkZXByZWNhdGVkIHVzZSBzZXRUYXJnZXRJZGVudGlmaWVy\nKERCSWRlbnRpZmllciB0YXJnZXQpCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldFRhcmdldChTdHJpbmcgdGFyZ2V0KSB7CiAgICAgICAgc2V0VGFyZ2V0\nSWRlbnRpZmllcihEQklkZW50aWZpZXIubmV3Q29sdW1uKFN0cmluZ1V0aWxz\nLnRyaW1Ub051bGwodGFyZ2V0KSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFRhcmdldElkZW50aWZpZXIoREJJZGVudGlmaWVyIHRhcmdldCkgewog\nICAgICAgIF90YXJnZXQgPSB0YXJnZXQgPT0gbnVsbCA/IERCSWRlbnRpZmll\nci5OVUxMIDogREJJZGVudGlmaWVyLnRyaW1Ub051bGwodGFyZ2V0KTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCB0aGlz\nIGNvbHVtbiBqb2lucyB0bywgaWYgYW55LiBVc2VkIGZvciBtYXBwaW5nLgog\nICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFRhcmdldEZpZWxkKCkgewog\nICAgICAgIHJldHVybiBfdGFyZ2V0RmllbGQ7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUaGUgbmFtZSBvZiB0aGUgZmllbGQgdGhpcyBjb2x1bW4gam9pbnMg\ndG8sIGlmIGFueS4gVXNlZCBmb3IgbWFwcGluZy4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgc2V0VGFyZ2V0RmllbGQoU3RyaW5nIHRhcmdldCkgewogICAg\nICAgIGlmICh0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQubGVuZ3RoKCkgPT0g\nMCkKICAgICAgICAgICAgdGFyZ2V0ID0gbnVsbDsKICAgICAgICBfdGFyZ2V0\nRmllbGQgPSB0YXJnZXQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBGbGFncyBh\ncmUgdXNlZCBmb3IgYm9va2tlZXBpbmcgaW5mb3JtYXRpb24uIFRoZXkgYXJl\nIGlnbm9yZWQgYXQgcnVudGltZS4KICAgICAqLwogICAgcHVibGljIGJvb2xl\nYW4gZ2V0RmxhZyhpbnQgZmxhZykgewogICAgICAgIHJldHVybiAoX2ZsYWdz\nICYgZmxhZykgIT0gMDsKICAgIH0KCiAgICAvKioKICAgICAqIEZsYWdzIGFy\nZSB1c2VkIGZvciBib29ra2VlcGluZyBpbmZvcm1hdGlvbi4gVGhleSBhcmUg\naWdub3JlZCBhdCBydW50aW1lLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBz\nZXRGbGFnKGludCBmbGFnLCBib29sZWFuIG9uKSB7CiAgICAgICAgaWYgKG9u\nKQogICAgICAgICAgICBfZmxhZ3MgfD0gZmxhZzsKICAgICAgICBlbHNlCiAg\nICAgICAgICAgIF9mbGFncyAmPSB+ZmxhZzsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiB0cnVlIGlmIHRoaXMgY29sdW1uIGJlbG9uZ3MgdG8gdGhl\nIHRhYmxlJ3MgcHJpbWFyeSBrZXkuCiAgICAgKi8KICAgIHB1YmxpYyBib29s\nZWFuIGlzUHJpbWFyeUtleSgpIHsKICAgICAgICByZXR1cm4gX3BrOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0IHdoZXRoZXIgdGhpcyBjb2x1bW4gYmVs\nb25ncyB0byB0aGUgdGFibGUncyBwcmltYXJ5IGtleS4KICAgICAqLwogICAg\ndm9pZCBzZXRQcmltYXJ5S2V5KGJvb2xlYW4gcGspIHsKICAgICAgICBfcGsg\nPSBwazsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgY29sdW1u\nJ3MgMC1iYXNlZCBpbmRleCBpbiB0aGUgb3duaW5nIHRhYmxlLgogICAgICov\nCiAgICBwdWJsaWMgaW50IGdldEluZGV4KCkgewogICAgICAgIGlmIChnZXRU\nYWJsZSgpICE9IG51bGwpCiAgICAgICAgICAgIGdldFRhYmxlKCkuaW5kZXhD\nb2x1bW5zKCk7CiAgICAgICAgcmV0dXJuIF9pbmRleDsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldCB0aGUgY29sdW1uJ3MgMC1iYXNlZCBpbmRleCBpbiB0\naGUgb3duaW5nIHRhYmxlLgogICAgICovCiAgICB2b2lkIHNldEluZGV4KGlu\ndCBpbmRleCkgewogICAgICAgIF9pbmRleCA9IGluZGV4OwogICAgfQoKICAg\nIC8qKgogICAgICogV2hldGhlciB0aGlzIGNvbHVtbiBpcyBhIExPQi4KICAg\nICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNMb2IoKSB7CiAgICAgICAgc3dp\ndGNoIChfdHlwZSkgewogICAgICAgICAgICBjYXNlIFR5cGVzLkJJTkFSWToK\nICAgICAgICAgICAgY2FzZSBUeXBlcy5CTE9COgogICAgICAgICAgICBjYXNl\nIFR5cGVzLkxPTkdWQVJCSU5BUlk6CiAgICAgICAgICAgIGNhc2UgVHlwZXMu\nVkFSQklOQVJZOgogICAgICAgICAgICBjYXNlIFR5cGVzLkNMT0I6CiAgICAg\nICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgZGVmYXVsdDoK\nICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9\nCgogICAgLyoqCiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGlzIGNvbHVtbiBp\ncyBjb21wYXRpYmxlIHdpdGggdGhlIGdpdmVuIEpEQkMgdHlwZQogICAgICog\nZnJvbSB7QGxpbmsgVHlwZXN9IGFuZCBzaXplLgogICAgICovCiAgICBwdWJs\naWMgYm9vbGVhbiBpc0NvbXBhdGlibGUoaW50IHR5cGUsIFN0cmluZyB0eXBl\nTmFtZSwgaW50IHNpemUsIAogICAgICAgIGludCBkZWNpbWFscykgewogICAg\nICAgIGlmICh0eXBlID09IFR5cGVzLk9USEVSIHx8IGdldFR5cGUoKSA9PSBU\neXBlcy5PVEhFUikKICAgICAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICAg\nIC8vIG5vdGUgdGhhdCB0aGUgZ2l2ZW4gc2l6ZSBpcyBjdXJyZW50bHkgaWdu\nb3JlZCwgYnV0IG1heSBiZSB1c2VmdWwKICAgICAgICAvLyB0byBkeW5hbWlj\nYWxseS1wb3B1bGF0aW5nIHN1YmNsYXNzZXMKICAgICAgICBzd2l0Y2ggKGdl\ndFR5cGUoKSkgewogICAgICAgICAgICBjYXNlIFR5cGVzLkJJVDoKICAgICAg\nICAgICAgY2FzZSBUeXBlcy5USU5ZSU5UOgogICAgICAgICAgICBjYXNlIFR5\ncGVzLkJJR0lOVDoKICAgICAgICAgICAgY2FzZSBUeXBlcy5JTlRFR0VSOgog\nICAgICAgICAgICBjYXNlIFR5cGVzLk5VTUVSSUM6CiAgICAgICAgICAgIGNh\nc2UgVHlwZXMuU01BTExJTlQ6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuREVD\nSU1BTDoKICAgICAgICAgICAgY2FzZSBUeXBlcy5ET1VCTEU6CiAgICAgICAg\nICAgIGNhc2UgVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgIGNhc2UgVHlwZXMu\nUkVBTDoKICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAg\nICAgICAgICAgICAgIGNhc2UgVHlwZXMuQklUOgogICAgICAgICAgICAgICAg\nICAgIGNhc2UgVHlwZXMuVElOWUlOVDoKICAgICAgICAgICAgICAgICAgICBj\nYXNlIFR5cGVzLkJJR0lOVDoKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5\ncGVzLklOVEVHRVI6CiAgICAgICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5O\nVU1FUklDOgogICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuU01BTExJ\nTlQ6CiAgICAgICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5ERUNJTUFMOgog\nICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuRE9VQkxFOgogICAgICAg\nICAgICAgICAgICAgIGNhc2UgVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgICAg\nICAgICAgY2FzZSBUeXBlcy5SRUFMOgogICAgICAgICAgICAgICAgICAgICAg\nICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Ogog\nICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAg\nICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgVHlwZXMuQklOQVJZOgogICAg\nICAgICAgICBjYXNlIFR5cGVzLkJMT0I6CiAgICAgICAgICAgIGNhc2UgVHlw\nZXMuTE9OR1ZBUkJJTkFSWToKICAgICAgICAgICAgY2FzZSBUeXBlcy5WQVJC\nSU5BUlk6CiAgICAgICAgICAgIGNhc2UgVHlwZXMuT1RIRVI6CiAgICAgICAg\nICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBj\nYXNlIFR5cGVzLkJJTkFSWToKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5\ncGVzLkJMT0I6CiAgICAgICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5MT05H\nVkFSQklOQVJZOgogICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuVkFS\nQklOQVJZOgogICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuT1RIRVI6\nCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAg\nICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAg\nIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nY2FzZSBUeXBlcy5DTE9COgogICAgICAgICAgICBjYXNlIFR5cGVzLkNIQVI6\nCiAgICAgICAgICAgIGNhc2UgVHlwZXMuTE9OR1ZBUkNIQVI6CiAgICAgICAg\nICAgIGNhc2UgVHlwZXMuVkFSQ0hBUjoKICAgICAgICAgICAgICAgIHN3aXRj\naCAodHlwZSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuQ0xP\nQjoKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLkNIQVI6CiAgICAg\nICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5MT05HVkFSQ0hBUjoKICAgICAg\nICAgICAgICAgICAgICBjYXNlIFR5cGVzLlZBUkNIQVI6CiAgICAgICAgICAg\nICAgICAgICAgY2FzZSBUeXBlcy5EQVRFOgogICAgICAgICAgICAgICAgICAg\nIGNhc2UgVHlwZXMuVElNRToKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5\ncGVzLlRJTUVTVEFNUDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu\nIHRydWU7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAg\nICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAg\nfQogICAgICAgICAgICBjYXNlIFR5cGVzLkRBVEU6CiAgICAgICAgICAgIGNh\nc2UgVHlwZXMuVElNRToKICAgICAgICAgICAgY2FzZSBUeXBlcy5USU1FU1RB\nTVA6CiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAg\nICAgICAgICAgICBjYXNlIFR5cGVzLkxPTkdWQVJDSEFSOgogICAgICAgICAg\nICAgICAgICAgIGNhc2UgVHlwZXMuQ0xPQjoKICAgICAgICAgICAgICAgICAg\nICBjYXNlIFR5cGVzLlZBUkNIQVI6CiAgICAgICAgICAgICAgICAgICAgY2Fz\nZSBUeXBlcy5EQVRFOgogICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMu\nVElNRToKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLlRJTUVTVEFN\nUDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAg\nICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAg\nICBjYXNlIDIwMDc6ICAvLyBPcmFjbGUtZGVmaW5lZCBvcGFxdWUgdHlwZSBj\nb2RlIGZvciBYTUxUeXBlCiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUp\nIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLkNIQVI6CiAgICAg\nICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5MT05HVkFSQ0hBUjoKICAgICAg\nICAgICAgICAgICAgICBjYXNlIFR5cGVzLlZBUkNIQVI6CiAgICAgICAgICAg\nICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAg\nICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZh\nbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBkZWZhdWx0Ogog\nICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT0gZ2V0VHlwZSgpOwogICAg\nICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGNvbHVt\nbiBuYW1lLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkg\newogICAgICAgIHJldHVybiBnZXRJZGVudGlmaWVyKCkuZ2V0TmFtZSgpOwog\nICAgfQoKICAgIC8qKgogICAgICogVXNlZnVsIGZvciBkZWJ1Z2dpbmcuCiAg\nICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7CiAg\nICAgICAgU3RyaW5nQnVpbGRlciBidWYgPSBuZXcgU3RyaW5nQnVpbGRlcigp\nOwogICAgICAgIGJ1Zi5hcHBlbmQoIkZ1bGwgTmFtZTogIikuYXBwZW5kKGdl\ndEZ1bGxOYW1lKCkpLmFwcGVuZCgiXG4iKTsKICAgICAgICBidWYuYXBwZW5k\nKCJUeXBlOiAiKS5hcHBlbmQoU2NoZW1hcy5nZXRKREJDTmFtZShnZXRUeXBl\nKCkpKS4KICAgICAgICAgICAgYXBwZW5kKCJcbiIpOwogICAgICAgIGJ1Zi5h\ncHBlbmQoIlNpemU6ICIpLmFwcGVuZChnZXRTaXplKCkpLmFwcGVuZCgiXG4i\nKTsKICAgICAgICBidWYuYXBwZW5kKCJEZWZhdWx0OiAiKS5hcHBlbmQoZ2V0\nRGVmYXVsdFN0cmluZygpKS5hcHBlbmQoIlxuIik7CiAgICAgICAgYnVmLmFw\ncGVuZCgiTm90IE51bGw6ICIpLmFwcGVuZChpc05vdE51bGwoKSkuYXBwZW5k\nKCJcbiIpOwogICAgICAgIHJldHVybiBidWYudG9TdHJpbmcoKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFRlc3RzIGNvbXBhdGliaWxpdHkuCiAgICAgKi8K\nICAgIHB1YmxpYyBib29sZWFuIGVxdWFsc0NvbHVtbihDb2x1bW4gY29sKSB7\nCiAgICAgICAgaWYgKGNvbCA9PSB0aGlzKQogICAgICAgICAgICByZXR1cm4g\ndHJ1ZTsKICAgICAgICBpZiAoY29sID09IG51bGwpCiAgICAgICAgICAgIHJl\ndHVybiBmYWxzZTsKCiAgICAgICAgaWYgKCFnZXRRdWFsaWZpZWRQYXRoKCku\nZXF1YWxzKGNvbC5nZXRRdWFsaWZpZWRQYXRoKCkpKQogICAgICAgICAgICBy\nZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKCFpc0NvbXBhdGlibGUoY29sLmdl\ndFR5cGUoKSwgY29sLmdldFR5cGVJZGVudGlmaWVyKCkuZ2V0TmFtZSgpLCBj\nb2wuZ2V0U2l6ZSgpLAogICAgICAgICAgICBjb2wuZ2V0RGVjaW1hbERpZ2l0\ncygpKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmIChn\nZXRUeXBlKCkgPT0gVHlwZXMuVkFSQ0hBUiAmJiBnZXRTaXplKCkgPiAwICYm\nIGNvbC5nZXRTaXplKCkgPiAwCiAgICAgICAgICAgICYmIGdldFNpemUoKSAh\nPSBjb2wuZ2V0U2l6ZSgpKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb3B5\nIGluZm9ybWF0aW9uIGZyb20gdGhlIGdpdmVuIGNvbHVtbiB0byB0aGlzIG9u\nZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgY29weShDb2x1bW4gZnJvbSkg\newogICAgICAgIGlmIChmcm9tID09IG51bGwpCiAgICAgICAgICAgIHJldHVy\nbjsKICAgICAgICBpZiAoREJJZGVudGlmaWVyLmlzTnVsbChnZXRJZGVudGlm\naWVyKCkpKQogICAgICAgICAgICBzZXRJZGVudGlmaWVyKGZyb20uZ2V0SWRl\nbnRpZmllcigpKTsKICAgICAgICBpZiAoZ2V0VHlwZSgpID09IFR5cGVzLk9U\nSEVSKQogICAgICAgICAgICBzZXRUeXBlKGZyb20uZ2V0VHlwZSgpKTsKICAg\nICAgICBpZiAoREJJZGVudGlmaWVyLmlzTnVsbChnZXRUeXBlSWRlbnRpZmll\ncigpKSkKICAgICAgICAgICAgc2V0VHlwZUlkZW50aWZpZXIoZnJvbS5nZXRU\neXBlSWRlbnRpZmllcigpKTsKICAgICAgICBpZiAoZ2V0SmF2YVR5cGUoKSA9\nPSBKYXZhVHlwZXMuT0JKRUNUKQogICAgICAgICAgICBzZXRKYXZhVHlwZShm\ncm9tLmdldEphdmFUeXBlKCkpOwogICAgICAgIGlmIChnZXRTaXplKCkgPT0g\nMCkKICAgICAgICAgICAgc2V0U2l6ZShmcm9tLmdldFNpemUoKSk7CiAgICAg\nICAgaWYgKGdldERlY2ltYWxEaWdpdHMoKSA9PSAwKQogICAgICAgICAgICBz\nZXREZWNpbWFsRGlnaXRzKGZyb20uZ2V0RGVjaW1hbERpZ2l0cygpKTsKICAg\nICAgICBpZiAoZ2V0RGVmYXVsdFN0cmluZygpID09IG51bGwpCiAgICAgICAg\nICAgIHNldERlZmF1bHRTdHJpbmcoZnJvbS5nZXREZWZhdWx0U3RyaW5nKCkp\nOwogICAgICAgIGlmICghaXNOb3ROdWxsRXhwbGljaXQoKSAmJiBmcm9tLmlz\nTm90TnVsbEV4cGxpY2l0KCkpCiAgICAgICAgICAgIHNldE5vdE51bGwoZnJv\nbS5pc05vdE51bGwoKSk7CiAgICAgICAgaWYgKCFpc0F1dG9Bc3NpZ25lZCgp\nKQogICAgICAgICAgICBzZXRBdXRvQXNzaWduZWQoZnJvbS5pc0F1dG9Bc3Np\nZ25lZCgpKTsKICAgICAgICBpZiAoIWlzUmVsYXRpb25JZCgpKQogICAgICAg\nICAgICBzZXRSZWxhdGlvbklkKGZyb20uaXNSZWxhdGlvbklkKCkpOwogICAg\nICAgIGlmICghaXNJbXBsaWNpdFJlbGF0aW9uKCkpCiAgICAgICAgCXNldElt\ncGxpY2l0UmVsYXRpb24oZnJvbS5pc1JlbGF0aW9uSWQoKSk7CiAgICAgICAg\naWYgKERCSWRlbnRpZmllci5pc051bGwoZ2V0VGFyZ2V0SWRlbnRpZmllcigp\nKSkKICAgICAgICAgICAgc2V0VGFyZ2V0SWRlbnRpZmllcihmcm9tLmdldFRh\ncmdldElkZW50aWZpZXIoKSk7CiAgICAgICAgaWYgKGdldFRhcmdldEZpZWxk\nKCkgPT0gbnVsbCkKICAgICAgICAgICAgc2V0VGFyZ2V0RmllbGQoZnJvbS5n\nZXRUYXJnZXRGaWVsZCgpKTsKICAgICAgICBpZiAoX2ZsYWdzID09IDApCiAg\nICAgICAgICAgIF9mbGFncyA9IGZyb20uX2ZsYWdzOwogICAgICAgIGlmICgh\naXNYTUwoKSkKICAgICAgICAgICAgc2V0WE1MKGZyb20uaXNYTUwoKSk7CiAg\nICAgICAgaWYgKCFpc1VuaTFNRksoKSkKICAgICAgICAgICAgc2V0VW5pMU1G\nSyhmcm9tLmlzVW5pMU1GSygpKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAg\nKiBXaGV0aGVyIHRoaXMgY29sdW1uIGlzIG9mIFhNTCB0eXBlLgogICAgICov\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc1hNTCgpIHsKICAgICAgICByZXR1cm4g\nX1hNTDsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhpcyBjb2x1\nbW4gaXMgb2YgWE1MIHR5cGUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNl\ndFhNTChib29sZWFuIHhtbCkgewogICAgICAgIF9YTUwgPSB4bWw7CiAgICB9\nCgogICAgcHVibGljIFZlcnNpb25TdHJhdGVneSBnZXRWZXJzaW9uU3RyYXRl\nZ3koKSB7CiAgICAgICAgcmV0dXJuIF92ZXJzaW9uU3RyYXRlZ3k7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0VmVyc2lvblN0cmF0ZWd5KFZlcnNpb25T\ndHJhdGVneSBzdHJhdGVneSkgewogICAgICAgIHRoaXMuX3ZlcnNpb25TdHJh\ndGVneSA9IHN0cmF0ZWd5OwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGhh\nc0NvbW1lbnQoKSB7CiAgICAgICAgcmV0dXJuIF9jb21tZW50ICE9IG51bGwg\nJiYgIV9jb21tZW50LmVxdWFsc0lnbm9yZUNhc2UoX25hbWUudG9TdHJpbmco\nKSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb21tZW50KCkgewog\nICAgICAgIHJldHVybiBfY29tbWVudDsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRDb21tZW50KFN0cmluZyBjb21tZW50KSB7CiAgICAgICAgX2NvbW1l\nbnQgPSBjb21tZW50OwogICAgfQogICAgCiAgICAvKiogCiAgICAgKiAgQWZm\naXJtcyBpZiB0aGlzIGluc3RhbmNlIHJlcHJlc2VudHMgYW4gaW1wbGljaXQg\ncmVsYXRpb24uIEZvciBleGFtcGxlLCBhCiAgICAgKiAgcmVsYXRpb24gZXhw\ncmVzc2VkIGFzIHRoZSB2YWx1ZSBvZiBwcmltYXJ5IGtleSBvZiB0aGUgcmVs\nYXRlZCBjbGFzcyBhbmQKCSAqICBub3QgYXMgb2JqZWN0IHJlZmVyZW5jZS4K\nICAgICAqCiAgICAgKiBAc2luY2UgMS4zLjAKICAgICAqLwogICAgcHVibGlj\nIGJvb2xlYW4gaXNJbXBsaWNpdFJlbGF0aW9uKCkgewogICAgCXJldHVybiBf\naW1wbGljaXRSZWxhdGlvbjsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBT\nZXRzIGEgbWFya2VyIHRvIGltcGx5IGEgbG9naWNhbCByZWxhdGlvbiB0aGF0\nIGNhbiBub3QgaGF2ZSBhbnkgcGh5c2ljYWwKICAgICAqIG1hbmlmZXN0IGlu\nIHRoZSBkYXRhYmFzZS4gRm9yIGV4YW1wbGUsIGEgcmVsYXRpb24gZXhwcmVz\nc2VkIGFzIHRoZSB2YWx1ZQogICAgICogb2YgcHJpbWFyeSBrZXkgb2YgdGhl\nIHJlbGF0ZWQgY2xhc3MgYW5kIG5vdCBhcyBvYmplY3QgcmVmZXJlbmNlLgog\nICAgICogUG9wdWxhdGVkIGZyb20gQEZvcmVpZ25LZXkoaW1wbGljaXQ9dHJ1\nZSkgYW5ub3RhdGlvbi4KICAgICAqIFRoZSBtdXRhdG9yIGNhbiBvbmx5IHRy\nYW5zaXQgZnJvbSBmYWxzZSB0byB0cnVlIGJ1dCBub3QgdmljZSB2ZXJzYS4K\nICAgICAqIAogICAgICogQHNpbmNlIDEuMy4wCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHNldEltcGxpY2l0UmVsYXRpb24oYm9vbGVhbiBmbGFnKSB7CiAg\nICAJX2ltcGxpY2l0UmVsYXRpb24gfD0gZmxhZzsKICAgIH0KICAgIAogICAg\nLyoqCiAgICAgKiBTZXRzIGEgbWFya2VyIHRvIGluZGljYXRlIHRoYXQgdGhp\ncyBpbnN0YW5jZSByZXByZXNlbnRzIGEgdW5pLWRpcmVjdGlvbmFsIAogICAg\nICogb25lIHRvIG1hbnkgcmVsYXRpb24gdXNpbmcgdGhlIGZvcmVpZ24ga2V5\nIHN0cmF0ZWd5LiBUaGlzIG5vbi1kZWZhdWx0IAogICAgICogbWFwcGluZyBv\nZiB1bmktZGlyZWN0aW9uYWwgb25lLXRvLW1hbnkgaXMgc3VwcG9ydGVkIGlu\nIEpQQSAyLjAuICAKICAgICAqIAogICAgICogQHNpbmNlIDIuMAogICAgICov\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc1VuaTFNRksoKSB7CiAgICAgICAgcmV0\ndXJuIF9pc1VuaTFNRks7CiAgICB9CiAgICAKICAgIC8qKiAKICAgICAqICBB\nZmZpcm1zIGlmIHRoaXMgaW5zdGFuY2UgcmVwcmVzZW50cyBhIHVuaS1kaXJl\nY3Rpb25hbCBvbmUgdG8gbWFueSByZWxhdGlvbgogICAgICogIHVzaW5nIHRo\nZSBmb3JlaWduIGtleSBzdHJhdGVneS4gVGhpcyBub24tZGVmYXVsdCBtYXBw\naW5nIG9mIHVuaS1kaXJlY3Rpb25hbCAKICAgICAqICBvbmUtdG8tbWFueSBp\ncyBzdXBwb3J0ZWQgaW4gSlBBIDIuMC4gIAogICAgICoKICAgICAqIEBzaW5j\nZSAyLjAKICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0VW5pMU1GSyhib29s\nZWFuIGlzVW5pMU1GSykgewogICAgICAgIF9pc1VuaTFNRksgPSBpc1VuaTFN\nRks7CiAgICB9Cn0K\n","encoding":"base64"}

