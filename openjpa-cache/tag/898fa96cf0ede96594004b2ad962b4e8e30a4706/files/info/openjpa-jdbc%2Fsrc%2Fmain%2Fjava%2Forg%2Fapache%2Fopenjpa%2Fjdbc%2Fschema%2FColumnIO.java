{"sha":"7e7475c4c33c5267c8b70ce13234a605cec580b5","node_id":"MDQ6QmxvYjIwNjM2NDo3ZTc0NzVjNGMzM2M1MjY3YzhiNzBjZTEzMjM0YTYwNWNlYzU4MGI1","size":10097,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7e7475c4c33c5267c8b70ce13234a605cec580b5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgamF2YS5pby5TZXJpYWxpemFibGU7CgovKioKICogTWV0YWRhdGEgYWJv\ndXQgY29sdW1uIEkvTyBpbiBhIHNwZWNpZmljIGNvbnRleHQuIEluIHRoZSBj\nb250ZXh0IG9mCiAqIGEgZm9yZWlnbiBrZXksIHRoZSBzdGFuZGFyZCBmb3Jl\naWduIGtleSBjb2x1bW5zIGFyZSBpbmRleGVkIGZpcnN0LCB0aGVuCiAqIHRo\nZSBjb25zdGFudCBjb2x1bW5zLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQog\nKi8KQFN1cHByZXNzV2FybmluZ3MoInNlcmlhbCIpCnB1YmxpYyBjbGFzcyBD\nb2x1bW5JTwogICAgaW1wbGVtZW50cyBTZXJpYWxpemFibGUgewoKICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgQ29sdW1uSU8gVU5SRVNUUklDVEVEID0gbmV3\nIENvbHVtbklPKCkgewogICAgICAgIHB1YmxpYyB2b2lkIHNldEluc2VydGFi\nbGUoaW50IGNvbCwgYm9vbGVhbiBpbnNlcnRhYmxlKSB7CiAgICAgICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgc2V0VXBkYXRhYmxlKGlu\ndCBjb2wsIGJvb2xlYW4gdXBkYXRhYmxlKSB7CiAgICAgICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIHZvaWQgc2V0TnVsbEluc2VydGFibGUoaW50\nIGNvbCwgYm9vbGVhbiBpbnNlcnRhYmxlKSB7CiAgICAgICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIHZvaWQgc2V0TnVsbFVwZGF0YWJsZShpbnQg\nY29sLCBib29sZWFuIGluc2VydGFibGUpIHsKICAgICAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICAgICAg\nfQogICAgfTsKCiAgICBwcml2YXRlIGludCBfdW5JbnNlcnRhYmxlID0gMDsK\nICAgIHByaXZhdGUgaW50IF91blVwZGF0YWJsZSA9IDA7CiAgICBwcml2YXRl\nIGludCBfdW5OdWxsSW5zZXJ0YWJsZSA9IDA7CiAgICBwcml2YXRlIGludCBf\ndW5OdWxsVXBkYXRhYmxlID0gMDsKCiAgICAvKioKICAgICAqIFdoZXRoZXIg\ndGhlIGNvbHVtbiBhdCB0aGUgZ2l2ZW4gaW5kZXggaXMgaW5zZXJ0YWJsZSBp\nbiB0aGlzIGNvbnRleHQuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlz\nSW5zZXJ0YWJsZShpbnQgY29sLCBib29sZWFuIG51bGxWYWx1ZSkgewogICAg\nICAgIHJldHVybiBpcyhjb2wsIF91bkluc2VydGFibGUsIF91bk51bGxJbnNl\ncnRhYmxlLCBudWxsVmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogRXF1\naXZhbGVudCB0byA8Y29kZT5pc0luc2VydGFibGUgKDAsIG51bGxWYWx1ZSk8\nL2NvZGU+LCBidXQgcmV0dXJucwogICAgICogZmFsc2UgaWYgdGhlIGdpdmVu\nIGNvbHVtbiBpcyBudWxsLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBp\nc0luc2VydGFibGUoQ29sdW1uIGNvbCwgYm9vbGVhbiBudWxsVmFsdWUpIHsK\nICAgICAgICByZXR1cm4gaXMoY29sLCBfdW5JbnNlcnRhYmxlLCBfdW5OdWxs\nSW5zZXJ0YWJsZSwgbnVsbFZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFdoZXRoZXIgYW55IGNvbHVtbiB1cCB0byBidXQgZXhjbHVkaW5nIHRoZSBn\naXZlbiBpbmRleCBpcyBpbnNlcnRhYmxlLgogICAgICovCiAgICBwdWJsaWMg\nYm9vbGVhbiBpc0FueUluc2VydGFibGUoaW50IGNvbCwgYm9vbGVhbiBudWxs\nVmFsdWUpIHsKICAgICAgICByZXR1cm4gaXNBbnkoY29sLCBfdW5JbnNlcnRh\nYmxlLCBfdW5OdWxsSW5zZXJ0YWJsZSwgbnVsbFZhbHVlKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEVxdWl2YWxlbnQgdG8gPGNvZGU+aXNBbnlJbnNlcnRh\nYmxlIChjb2xzLmxlbmd0aCwgbnVsbFZhbHVlKTwvY29kZT4uCiAgICAgKi8K\nICAgIHB1YmxpYyBib29sZWFuIGlzQW55SW5zZXJ0YWJsZShDb2x1bW5bXSBj\nb2xzLCBib29sZWFuIG51bGxWYWx1ZSkgewogICAgICAgIHJldHVybiBpc0Fu\neShjb2xzLCBfdW5JbnNlcnRhYmxlLCBfdW5OdWxsSW5zZXJ0YWJsZSwgbnVs\nbFZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0cnVlIGlm\nIGFueSBjb2x1bW5zIGZvciB0aGUgZ2l2ZW4ga2V5IGFyZSBpbnNlcnRhYmxl\nLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc0FueUluc2VydGFibGUo\nRm9yZWlnbktleSBmaywgYm9vbGVhbiBudWxsVmFsdWUpIHsKICAgICAgICBy\nZXR1cm4gaXNBbnkoZmssIF91bkluc2VydGFibGUsIF91bk51bGxJbnNlcnRh\nYmxlLCBudWxsVmFsdWUpCiAgICAgICAgICAgICYmICghbnVsbFZhbHVlIHx8\nIGZrLmlzTG9naWNhbCgpIHx8IGlzTnVsbGFibGUoZmspKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFdoZXRoZXIgYWxsIGNvbHVtbnMgdXAgdG8gYnV0IGV4\nY2x1ZGluZyB0aGUgZ2l2ZW4gaW5kZXggYXJlIGluc2VydGFibGUuCiAgICAg\nKi8KICAgIHB1YmxpYyBib29sZWFuIGlzQWxsSW5zZXJ0YWJsZShpbnQgY29s\nLCBib29sZWFuIG51bGxWYWx1ZSkgewogICAgICAgIHJldHVybiBpc0FsbChj\nb2wsIF91bkluc2VydGFibGUsIF91bk51bGxJbnNlcnRhYmxlLCBudWxsVmFs\ndWUpOwogICAgfQoKICAgIC8qKgogICAgICogRXF1aXZhbGVudCB0byA8Y29k\nZT5pc0FsbEluc2VydGFibGUgKGNvbHMubGVuZ3RoLCBudWxsVmFsdWUpPC9j\nb2RlPi4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNBbGxJbnNlcnRh\nYmxlKENvbHVtbltdIGNvbHMsIGJvb2xlYW4gbnVsbFZhbHVlKSB7CiAgICAg\nICAgcmV0dXJuIGlzQWxsKGNvbHMsIF91bkluc2VydGFibGUsIF91bk51bGxJ\nbnNlcnRhYmxlLCBudWxsVmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIHRydWUgaWYgYWxsIGNvbHVtbnMgZm9yIHRoZSBnaXZlbiBrZXkg\nYXJlIGluc2VydGFibGUuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlz\nQWxsSW5zZXJ0YWJsZShGb3JlaWduS2V5IGZrLCBib29sZWFuIG51bGxWYWx1\nZSkgewogICAgICAgIHJldHVybiBpc0FsbChmaywgX3VuSW5zZXJ0YWJsZSwg\nX3VuTnVsbEluc2VydGFibGUsIG51bGxWYWx1ZSkKICAgICAgICAgICAgJiYg\nKCFudWxsVmFsdWUgfHwgZmsuaXNMb2dpY2FsKCkgfHwgaXNOdWxsYWJsZShm\naykpOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0aGUgY29sdW1u\nIGF0IHRoZSBnaXZlbiBpbmRleCBpcyBpbnNlcnRhYmxlIGluIHRoaXMgY29u\ndGV4dC4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0SW5zZXJ0YWJsZShp\nbnQgY29sLCBib29sZWFuIGluc2VydGFibGUpIHsKICAgICAgICBfdW5JbnNl\ncnRhYmxlID0gc2V0KGNvbCwgaW5zZXJ0YWJsZSwgX3VuSW5zZXJ0YWJsZSk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgY29udGV4dCBj\nYW4gaW5zZXJ0IHRoZSBnaXZlbiBjb2x1bW4gYXMgbnVsbC9kZWZhdWx0IGlu\nCiAgICAgKiB0aGlzIGNvbnRleHQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldE51bGxJbnNlcnRhYmxlKGludCBjb2wsIGJvb2xlYW4gaW5zZXJ0YWJs\nZSkgewogICAgICAgIF91bk51bGxJbnNlcnRhYmxlID0gc2V0KGNvbCwgaW5z\nZXJ0YWJsZSwgX3VuTnVsbEluc2VydGFibGUpOwogICAgfQoKICAgIC8qKgog\nICAgICogV2hldGhlciB0aGUgY29sdW1uIGF0IHRoZSBnaXZlbiBpbmRleCBp\ncyB1cGRhdGFibGUgaW4gdGhpcyBjb250ZXh0LgogICAgICovCiAgICBwdWJs\naWMgYm9vbGVhbiBpc1VwZGF0YWJsZShpbnQgY29sLCBib29sZWFuIG51bGxW\nYWx1ZSkgewogICAgICAgIHJldHVybiBpcyhjb2wsIF91blVwZGF0YWJsZSwg\nX3VuTnVsbFVwZGF0YWJsZSwgbnVsbFZhbHVlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIEVxdWl2YWxlbnQgdG8gPGNvZGU+aXNVcGRhdGFibGUgKDAsIG51\nbGxWYWx1ZSk8L2NvZGU+LCBidXQgcmV0dXJucwogICAgICogZmFsc2UgaWYg\ndGhlIGdpdmVuIGNvbHVtbiBpcyBudWxsLgogICAgICovCiAgICBwdWJsaWMg\nYm9vbGVhbiBpc1VwZGF0YWJsZShDb2x1bW4gY29sLCBib29sZWFuIG51bGxW\nYWx1ZSkgewogICAgICAgIHJldHVybiBpcyhjb2wsIF91blVwZGF0YWJsZSwg\nX3VuTnVsbFVwZGF0YWJsZSwgbnVsbFZhbHVlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFdoZXRoZXIgYW55IGNvbHVtbiB1cCB0byBidXQgZXhjbHVkaW5n\nIHRoZSBnaXZlbiBpbmRleCBpcyB1cGRhdGFibGUuCiAgICAgKi8KICAgIHB1\nYmxpYyBib29sZWFuIGlzQW55VXBkYXRhYmxlKGludCBjb2wsIGJvb2xlYW4g\nbnVsbFZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGlzQW55KGNvbCwgX3VuVXBk\nYXRhYmxlLCBfdW5OdWxsVXBkYXRhYmxlLCBudWxsVmFsdWUpOwogICAgfQoK\nICAgIC8qKgogICAgICogRXF1aXZhbGVudCB0byA8Y29kZT5pc0FueVVwZGF0\nYWJsZSAoY29scy5sZW5ndGgsIG51bGxWYWx1ZSk8L2NvZGU+LgogICAgICov\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc0FueVVwZGF0YWJsZShDb2x1bW5bXSBj\nb2xzLCBib29sZWFuIG51bGxWYWx1ZSkgewogICAgICAgIHJldHVybiBpc0Fu\neShjb2xzLCBfdW5VcGRhdGFibGUsIF91bk51bGxVcGRhdGFibGUsIG51bGxW\nYWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBh\nbnkgY29sdW1ucyBmb3IgdGhlIGdpdmVuIGtleSBhcmUgdXBkYXRhYmxlLgog\nICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc0FueVVwZGF0YWJsZShGb3Jl\naWduS2V5IGZrLCBib29sZWFuIG51bGxWYWx1ZSkgewogICAgICAgIHJldHVy\nbiBpc0FueShmaywgX3VuVXBkYXRhYmxlLCBfdW5OdWxsVXBkYXRhYmxlLCBu\ndWxsVmFsdWUpCiAgICAgICAgICAgICYmICghbnVsbFZhbHVlIHx8IGZrLmlz\nTG9naWNhbCgpIHx8IGlzTnVsbGFibGUoZmspKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFdoZXRoZXIgYWxsIGNvbHVtbnMgdXAgdG8gYnV0IGV4Y2x1ZGlu\nZyB0aGUgZ2l2ZW4gaW5kZXggYXJlIHVwZGF0YWJsZS4KICAgICAqLwogICAg\ncHVibGljIGJvb2xlYW4gaXNBbGxVcGRhdGFibGUoaW50IGNvbCwgYm9vbGVh\nbiBudWxsVmFsdWUpIHsKICAgICAgICByZXR1cm4gaXNBbGwoY29sLCBfdW5V\ncGRhdGFibGUsIF91bk51bGxVcGRhdGFibGUsIG51bGxWYWx1ZSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBFcXVpdmFsZW50IHRvIDxjb2RlPmlzQWxsVXBk\nYXRhYmxlIChjb2xzLmxlbmd0aCwgbnVsbFZhbHVlKTwvY29kZT4uCiAgICAg\nKi8KICAgIHB1YmxpYyBib29sZWFuIGlzQWxsVXBkYXRhYmxlKENvbHVtbltd\nIGNvbHMsIGJvb2xlYW4gbnVsbFZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGlz\nQWxsKGNvbHMsIF91blVwZGF0YWJsZSwgX3VuTnVsbFVwZGF0YWJsZSwgbnVs\nbFZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0cnVlIGlm\nIGFsbCBjb2x1bW5zIGZvciB0aGUgZ2l2ZW4ga2V5IGFyZSB1cGRhdGFibGUu\nCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzQWxsVXBkYXRhYmxlKEZv\ncmVpZ25LZXkgZmssIGJvb2xlYW4gbnVsbFZhbHVlKSB7CiAgICAgICAgcmV0\ndXJuIGlzQWxsKGZrLCBfdW5VcGRhdGFibGUsIF91bk51bGxVcGRhdGFibGUs\nIG51bGxWYWx1ZSkKICAgICAgICAgICAgJiYgKCFudWxsVmFsdWUgfHwgZmsu\naXNMb2dpY2FsKCkgfHwgaXNOdWxsYWJsZShmaykpOwogICAgfQoKICAgIC8q\nKgogICAgICogV2hldGhlciB0aGUgY29sdW1uIGF0IHRoZSBnaXZlbiBpbmRl\neCBpcyB1cGRhdGFibGUgaW4gdGhpcyBjb250ZXh0LgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXRVcGRhdGFibGUoaW50IGNvbCwgYm9vbGVhbiB1cGRh\ndGFibGUpIHsKICAgICAgICBfdW5VcGRhdGFibGUgPSBzZXQoY29sLCB1cGRh\ndGFibGUsIF91blVwZGF0YWJsZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBX\naGV0aGVyIHRoaXMgY29udGV4dCBjYW4gc2V0IHRoZSBnaXZlbiBjb2x1bW4g\ndG8gbnVsbC9kZWZhdWx0IGluCiAgICAgKiB0aGlzIGNvbnRleHQuCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHNldE51bGxVcGRhdGFibGUoaW50IGNvbCwg\nYm9vbGVhbiB1cGRhdGFibGUpIHsKICAgICAgICBfdW5OdWxsVXBkYXRhYmxl\nID0gc2V0KGNvbCwgdXBkYXRhYmxlLCBfdW5OdWxsVXBkYXRhYmxlKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhlIGNvbHVtbiBhdCB0aGUg\nZ2l2ZW4gaW5kZXggaGFzIHRoZSBnaXZlbiBwcm9wZXJ0eS4KICAgICAqLwog\nICAgcHJpdmF0ZSBib29sZWFuIGlzKGludCBjb2wsIGludCBwcm9wZXJ0eSwg\naW50IG51bGxQcm9wZXJ0eSwKICAgICAgICBib29sZWFuIG51bGxWYWx1ZSkg\newogICAgICAgIHJldHVybiAocHJvcGVydHkgJiAoMiA8PCBjb2wpKSA9PSAw\nCiAgICAgICAgICAgICYmICghbnVsbFZhbHVlIHx8IChudWxsUHJvcGVydHkg\nJiAoMiA8PCBjb2wpKSA9PSAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFdo\nZXRoZXIgdGhlIGNvbHVtbiBoYXMgdGhlIGdpdmVuIHByb3BlcnR5LgogICAg\nICovCiAgICBwcml2YXRlIGJvb2xlYW4gaXMoQ29sdW1uIGNvbCwgaW50IHBy\nb3BlcnR5LCBpbnQgbnVsbFByb3BlcnR5LAogICAgICAgIGJvb2xlYW4gbnVs\nbFZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGNvbCAhPSBudWxsICYmIGlzKDAs\nIHByb3BlcnR5LCBudWxsUHJvcGVydHksIG51bGxWYWx1ZSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBXaGV0aGVyIGFueSBjb2x1bW4gdXAgdG8gYnV0IGV4\nY2x1ZGluZyB0aGUgZ2l2ZW4gaW5kZXggaGFzIHRoZSBnaXZlbgogICAgICog\ncHJvcGVydHkuCiAgICAgKi8KICAgIHByaXZhdGUgYm9vbGVhbiBpc0FueShp\nbnQgY29sLCBpbnQgcHJvcGVydHksIGludCBudWxsUHJvcGVydHksCiAgICAg\nICAgYm9vbGVhbiBudWxsVmFsdWUpIHsKICAgICAgICBpZiAoY29sID09IDAp\nCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAocHJvcGVy\ndHkgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCBjb2w7IGkrKykKICAgICAgICAgICAgaWYgKGlz\nKGksIHByb3BlcnR5LCBudWxsUHJvcGVydHksIG51bGxWYWx1ZSkpCiAgICAg\nICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICByZXR1cm4gZmFsc2U7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIGFueSBjb2x1bW5zIGhh\ndmUgdGhlIGdpdmVuIHByb3BlcnR5LgogICAgICovCiAgICBwcml2YXRlIGJv\nb2xlYW4gaXNBbnkoQ29sdW1uW10gY29scywgaW50IHByb3BlcnR5LCBpbnQg\nbnVsbFByb3BlcnR5LAogICAgICAgIGJvb2xlYW4gbnVsbFZhbHVlKSB7CiAg\nICAgICAgcmV0dXJuIGlzQW55KGNvbHMubGVuZ3RoLCBwcm9wZXJ0eSwgbnVs\nbFByb3BlcnR5LCBudWxsVmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICog\nV2hldGhlciBhbnkgY29sdW1ucyBmb3IgdGhlIGdpdmVuIGtleSBoYXZlIHRo\nZSBwcm9wZXJ0eS4KICAgICAqLwogICAgcHJpdmF0ZSBib29sZWFuIGlzQW55\nKEZvcmVpZ25LZXkgZmssIGludCBwcm9wZXJ0eSwgaW50IG51bGxQcm9wZXJ0\neSwKICAgICAgICBib29sZWFuIG51bGxWYWx1ZSkgewogICAgICAgIHJldHVy\nbiBmayAhPSBudWxsICYmIGlzQW55KGZrLmdldENvbHVtbnMoKS5sZW5ndGgK\nICAgICAgICAgICAgKyBmay5nZXRDb25zdGFudENvbHVtbnMoKS5sZW5ndGgs\nIHByb3BlcnR5LCBudWxsUHJvcGVydHksCiAgICAgICAgICAgIG51bGxWYWx1\nZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIGFsbCBjb2x1bW5z\nIHVwIHRvIGJ1dCBleGNsdWRpbmcgdGhlIGdpdmVuIGluZGV4IGhhdmUgdGhl\nIGdpdmVuCiAgICAgKiBwcm9wZXJ0eS4KICAgICAqLwogICAgcHJpdmF0ZSBi\nb29sZWFuIGlzQWxsKGludCBjb2wsIGludCBwcm9wZXJ0eSwgaW50IG51bGxQ\ncm9wZXJ0eSwKICAgICAgICBib29sZWFuIG51bGxWYWx1ZSkgewogICAgICAg\nIGlmIChjb2wgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAg\nICAgIGlmIChwcm9wZXJ0eSA9PSAwKQogICAgICAgICAgICByZXR1cm4gdHJ1\nZTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGNvbDsgaSsrKQogICAg\nICAgICAgICBpZiAoIWlzKGksIHByb3BlcnR5LCBudWxsUHJvcGVydHksIG51\nbGxWYWx1ZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAg\nICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVy\nIGFsbCBjb2x1bW5zIGhhdmUgdGhlIGdpdmVuIHByb3BlcnR5LgogICAgICov\nCiAgICBwcml2YXRlIGJvb2xlYW4gaXNBbGwoQ29sdW1uW10gY29scywgaW50\nIHByb3BlcnR5LCBpbnQgbnVsbFByb3BlcnR5LAogICAgICAgIGJvb2xlYW4g\nbnVsbFZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGlzQWxsKGNvbHMubGVuZ3Ro\nLCBwcm9wZXJ0eSwgbnVsbFByb3BlcnR5LCBudWxsVmFsdWUpOwogICAgfQoK\nICAgIC8qKgogICAgICogV2hldGhlciBhbGwgY29sdW1ucyBmb3IgdGhlIGtl\neSBoYXZlIHRoZSBnaXZlbiBwcm9wZXJ0eS4KICAgICAqLwogICAgcHJpdmF0\nZSBib29sZWFuIGlzQWxsKEZvcmVpZ25LZXkgZmssIGludCBwcm9wZXJ0eSwg\naW50IG51bGxQcm9wZXJ0eSwKICAgICAgICBib29sZWFuIG51bGxWYWx1ZSkg\newogICAgICAgIHJldHVybiBmayAhPSBudWxsICYmIGlzQWxsKGZrLmdldENv\nbHVtbnMoKS5sZW5ndGgKICAgICAgICAgICAgKyBmay5nZXRDb25zdGFudENv\nbHVtbnMoKS5sZW5ndGgsIHByb3BlcnR5LCBudWxsUHJvcGVydHksCiAgICAg\nICAgICAgIG51bGxWYWx1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQg\ndGhlIGdpdmVuIHByb3BlcnR5LgogICAgICovCiAgICBwcml2YXRlIGludCBz\nZXQoaW50IGNvbCwgYm9vbGVhbiBpcywgaW50IHByb3BlcnR5KSB7CiAgICAg\nICAgaWYgKGlzKQogICAgICAgICAgICByZXR1cm4gcHJvcGVydHkgJiB+KDIg\nPDwgY29sKTsKICAgICAgICByZXR1cm4gcHJvcGVydHkgfCAoMiA8PCBjb2wp\nOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0aGUgZ2l2ZW4gZm9y\nZWlnbiBrZXkgaXMgbnVsbGFibGUuCiAgICAgKi8KICAgIHByaXZhdGUgYm9v\nbGVhbiBpc051bGxhYmxlKEZvcmVpZ25LZXkgZmspIHsKICAgICAgICBDb2x1\nbW5bXSBjb2xzID0gZmsuZ2V0Q29sdW1ucygpOwogICAgICAgIGZvciAoaW50\nIGkgPSAwOyBpIDwgY29scy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgaWYg\nKGNvbHNbaV0uaXNOb3ROdWxsKCkgfHwgY29sc1tpXS5pc1ByaW1hcnlLZXko\nKSkKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1\ncm4gdHJ1ZTsKICAgIH0KfQo=\n","encoding":"base64"}

