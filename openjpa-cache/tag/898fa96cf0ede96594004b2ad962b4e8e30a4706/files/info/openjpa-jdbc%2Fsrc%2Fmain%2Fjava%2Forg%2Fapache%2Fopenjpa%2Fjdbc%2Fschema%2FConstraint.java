{"sha":"db2f19287021362704bcdcce139f8a12da4d5035","node_id":"MDQ6QmxvYjIwNjM2NDpkYjJmMTkyODcwMjEzNjI3MDRiY2RjY2UxMzlmOGExMmRhNGQ1MDM1","size":6643,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/db2f19287021362704bcdcce139f8a12da4d5035","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuaWRlbnRpZmllci5EQklkZW50\naWZpZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5pZGVudGlm\naWVyLlF1YWxpZmllZERCSWRlbnRpZmllcjsKCi8qKgogKiBBIHRhYmxlIGNv\nbnN0cmFpbnQuIFRoaXMgY2xhc3MgaXMgY2xvc2VseSBhbGlnbmVkIHdpdGgg\ndGhlIGNvbnN0cmFpbnQKICogaW5mb3JtYXRpb24gYXZhaWxhYmxlIGZyb20g\ne0BsaW5rIGphdmEuc3FsLkRhdGFiYXNlTWV0YURhdGF9LgogKgogKiBAYXV0\naG9yIEFiZSBXaGl0ZQogKi8KQFN1cHByZXNzV2FybmluZ3MoInNlcmlhbCIp\nCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBDb25zdHJhaW50CiAgICBleHRlbmRz\nIFJlZmVyZW5jZUNvdW50ZXIgewoKICAgIHByaXZhdGUgREJJZGVudGlmaWVy\nIF9uYW1lID0gREJJZGVudGlmaWVyLk5VTEw7CiAgICBwcml2YXRlIFF1YWxp\nZmllZERCSWRlbnRpZmllciBfZnVsbFBhdGggPSBudWxsOwogICAgcHJpdmF0\nZSBUYWJsZSBfdGFibGUgPSBudWxsOwogICAgcHJpdmF0ZSBEQklkZW50aWZp\nZXIgX3RhYmxlTmFtZSA9IERCSWRlbnRpZmllci5OVUxMOwogICAgcHJpdmF0\nZSBEQklkZW50aWZpZXIgX3NjaGVtYU5hbWUgPSBEQklkZW50aWZpZXIuTlVM\nTDsKICAgIHByaXZhdGUgREJJZGVudGlmaWVyIF9jb2x1bW5OYW1lID0gREJJ\nZGVudGlmaWVyLk5VTEw7CiAgICBwcml2YXRlIGJvb2xlYW4gX2RlZmVycmVk\nID0gZmFsc2U7CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9y\nLgogICAgICovCiAgICBDb25zdHJhaW50KCkgewogICAgfQoKICAgIC8qKgog\nICAgICogQ29uc3RydWN0b3IuCiAgICAgKgogICAgICogQHBhcmFtIG5hbWUg\ndGhlIG5hbWUgb2YgdGhlIGNvbnN0cmFpbnQsIG9yIG51bGwgaWYgbm9uZQog\nICAgICogQHBhcmFtIHRhYmxlIHRoZSBsb2NhbCB0YWJsZSBvZiB0aGUgY29u\nc3RyYWludAogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgQ29uc3Ry\nYWludChTdHJpbmcgbmFtZSwgVGFibGUgdGFibGUpIHsKICAgICAgICB0aGlz\nKERCSWRlbnRpZmllci5uZXdDb25zdGFudChuYW1lKSwgdGFibGUpOwogICAg\nfQoKICAgIENvbnN0cmFpbnQoREJJZGVudGlmaWVyIG5hbWUsIFRhYmxlIHRh\nYmxlKSB7CiAgICAgICAgc2V0SWRlbnRpZmllcihuYW1lKTsKICAgICAgICBp\nZiAodGFibGUgIT0gbnVsbCkgewogICAgICAgICAgICBzZXRUYWJsZUlkZW50\naWZpZXIodGFibGUuZ2V0SWRlbnRpZmllcigpKTsKICAgICAgICAgICAgc2V0\nU2NoZW1hSWRlbnRpZmllcih0YWJsZS5nZXRTY2hlbWFJZGVudGlmaWVyKCkp\nOwogICAgICAgIH0KICAgICAgICBfdGFibGUgPSB0YWJsZTsKICAgIH0KCiAg\nICAvKioKICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25zdHJhaW50IGlzIHJl\nbW92ZWQgZnJvbSB0aGUgb3duaW5nIHRhYmxlLgogICAgICogSW52YWxpZGF0\nZXMgdGhlIGNvbnN0cmFpbnQuCiAgICAgKi8KICAgIHZvaWQgcmVtb3ZlKCkg\newogICAgICAgIF90YWJsZSA9IG51bGw7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gdGhlIHRhYmxlIG9mIHRoaXMgY29uc3RyYWludC4KICAgICAq\nLwogICAgcHVibGljIFRhYmxlIGdldFRhYmxlKCkgewogICAgICAgIHJldHVy\nbiBfdGFibGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGNv\nbHVtbidzIHRhYmxlIG5hbWUuCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICov\nCiAgICBwdWJsaWMgU3RyaW5nIGdldFRhYmxlTmFtZSgpIHsKICAgICAgICBy\nZXR1cm4gZ2V0VGFibGVJZGVudGlmaWVyKCkuZ2V0TmFtZSgpOwogICAgfQoK\nICAgIHB1YmxpYyBEQklkZW50aWZpZXIgZ2V0VGFibGVJZGVudGlmaWVyKCkg\newogICAgICAgIHJldHVybiBfdGFibGVOYW1lID09IG51bGwgPyBEQklkZW50\naWZpZXIuTlVMTCA6IF90YWJsZU5hbWU7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBTZXQgdGhlIGNvbHVtbidzIHRhYmxlIG5hbWUuIFlvdSBjYW4gb25seSBj\nYWxsIHRoaXMgbWV0aG9kIG9uCiAgICAgKiBjb2x1bW5zIHdob3NlIHRhYmxl\nIG9iamVjdCBpcyBub3Qgc2V0LgogICAgICogQGRlcHJlY2F0ZWQKICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0VGFibGVOYW1lKFN0cmluZyBuYW1lKSB7\nCiAgICAgICAgc2V0VGFibGVJZGVudGlmaWVyKERCSWRlbnRpZmllci5uZXdU\nYWJsZShuYW1lKSk7CiAgICB9CgogICAgICBwdWJsaWMgdm9pZCBzZXRUYWJs\nZUlkZW50aWZpZXIoREJJZGVudGlmaWVyIG5hbWUpIHsKICAgICAgICAgIGlm\nIChnZXRUYWJsZSgpICE9IG51bGwpCiAgICAgICAgICAgICAgdGhyb3cgbmV3\nIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOwogICAgICAgICAgX3RhYmxlTmFt\nZSA9IG5hbWU7CiAgICAgICAgICBfZnVsbFBhdGggPSBudWxsOwogICAgICB9\nCgogICAgCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgY29sdW1uIHRhYmxl\nJ3Mgc2NoZW1hIG5hbWUuCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAg\nICBwdWJsaWMgU3RyaW5nIGdldFNjaGVtYU5hbWUoKSB7CiAgICAgICAgcmV0\ndXJuIGdldFNjaGVtYUlkZW50aWZpZXIoKS5nZXROYW1lKCk7CiAgICB9Cgog\nICAgcHVibGljIERCSWRlbnRpZmllciBnZXRTY2hlbWFJZGVudGlmaWVyKCkg\newogICAgICAgIHJldHVybiBfc2NoZW1hTmFtZSA9PSBudWxsID8gREJJZGVu\ndGlmaWVyLk5VTEwgOiBfc2NoZW1hTmFtZTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFNldCB0aGUgY29sdW1uIHRhYmxlJ3Mgc2NoZW1hIG5hbWUuIFlvdSBj\nYW4gb25seSBjYWxsIHRoaXMgbWV0aG9kIG9uCiAgICAgKiBjb2x1bW5zIHdo\nb3NlIHRhYmxlIG9iamVjdCBpcyBub3Qgc2V0LgogICAgICogQGRlcHJlY2F0\nZWQKICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U2NoZW1hTmFtZShTdHJp\nbmcgc2NoZW1hKSB7CiAgICAgICAgc2V0U2NoZW1hSWRlbnRpZmllcihEQklk\nZW50aWZpZXIubmV3U2NoZW1hKHNjaGVtYSkpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFNjaGVtYUlkZW50aWZpZXIoREJJZGVudGlmaWVyIHNjaGVt\nYSkgewogICAgICAgIGlmIChnZXRUYWJsZSgpICE9IG51bGwpCiAgICAgICAg\nICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsKICAgICAg\nICBfc2NoZW1hTmFtZSA9IHNjaGVtYTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgY29sdW1uJ3MgbmFtZS4KICAgICAqIEBkZXByZWNhdGVk\nCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29sdW1uTmFtZSgpIHsK\nICAgICAgICByZXR1cm4gZ2V0Q29sdW1uSWRlbnRpZmllcigpLmdldE5hbWUo\nKTsKICAgIH0KCiAgICBwdWJsaWMgREJJZGVudGlmaWVyIGdldENvbHVtbklk\nZW50aWZpZXIoKSB7CiAgICAgICAgcmV0dXJuIF9jb2x1bW5OYW1lID09IG51\nbGwgPyBEQklkZW50aWZpZXIuTlVMTCA6IF9jb2x1bW5OYW1lOwogICAgfQoK\nICAgIC8qKgogICAgICogU2V0IHRoZSBjb2x1bW4ncyBuYW1lLiBZb3UgY2Fu\nIG9ubHkgY2FsbCB0aGlzIG1ldGhvZCBvbgogICAgICogY29sdW1ucyB3aG9z\nZSB0YWJsZSBvYmplY3QgaXMgbm90IHNldC4KICAgICAqIEBkZXByZWNhdGVk\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldENvbHVtbk5hbWUoU3RyaW5n\nIG5hbWUpIHsKICAgICAgICBzZXRDb2x1bW5JZGVudGlmaWVyKERCSWRlbnRp\nZmllci5uZXdDb2x1bW4obmFtZSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldENvbHVtbklkZW50aWZpZXIoREJJZGVudGlmaWVyIG5hbWUpIHsKICAg\nICAgICBpZiAoZ2V0VGFibGUoKSAhPSBudWxsKQogICAgICAgICAgICB0aHJv\ndyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCk7CiAgICAgICAgX2NvbHVt\nbk5hbWUgPSBuYW1lOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRo\nZSBuYW1lIG9mIHRoZSBjb25zdHJhaW50LgogICAgICogQGRlcHJlY2F0ZWQK\nICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgewogICAgICAg\nIHJldHVybiBnZXRJZGVudGlmaWVyKCkuZ2V0TmFtZSgpOwogICAgfQogICAg\nCiAgICBwdWJsaWMgREJJZGVudGlmaWVyIGdldElkZW50aWZpZXIoKSB7CiAg\nICAgICAgcmV0dXJuIF9uYW1lID09IG51bGwgPyBEQklkZW50aWZpZXIuTlVM\nTCA6IF9uYW1lOwogICAgfQoKCiAgICAvKioKICAgICAqIFNldCB0aGUgbmFt\nZSBvZiB0aGUgY29uc3RyYWludC4gVGhpcyBtZXRob2QgY2Fubm90IGJlIGNh\nbGxlZCBpZiB0aGUKICAgICAqIGNvbnN0cmFpbnQgYWxyZWFkeSBiZWxvbmdz\nIHRvIGEgdGFibGUuCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgc2V0\nSWRlbnRpZmllcihEQklkZW50aWZpZXIubmV3Q29uc3RyYWludChuYW1lKSk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SWRlbnRpZmllcihEQklkZW50\naWZpZXIgbmFtZSkgewogICAgICAgIGlmIChnZXRUYWJsZSgpICE9IG51bGwp\nCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24o\nKTsKICAgICAgICBfbmFtZSA9IG5hbWU7CiAgICAgICAgX2Z1bGxQYXRoID0g\nbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgZnVsbCBu\nYW1lIG9mIHRoZSBjb25zdHJhaW50LgogICAgICogQGRlcHJlY2F0ZWQKICAg\nICAqLwogICAgcHVibGljIFN0cmluZyBnZXRGdWxsTmFtZSgpIHsKICAgICAg\nICByZXR1cm4gZ2V0RnVsbElkZW50aWZpZXIoKS5nZXROYW1lKCk7CiAgICB9\nCgogICAgcHVibGljIFF1YWxpZmllZERCSWRlbnRpZmllciBnZXRRdWFsaWZp\nZWRQYXRoKCkgewogICAgICAgIGlmIChfZnVsbFBhdGggPT0gbnVsbCkgewog\nICAgICAgICAgICBfZnVsbFBhdGggPSBRdWFsaWZpZWREQklkZW50aWZpZXIu\nbmV3UGF0aChnZXRUYWJsZUlkZW50aWZpZXIoKSwgZ2V0SWRlbnRpZmllcigp\nKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9mdWxsUGF0aDsKICAgIH0K\nCiAgICBwdWJsaWMgREJJZGVudGlmaWVyIGdldEZ1bGxJZGVudGlmaWVyKCkg\newogICAgICAgIHJldHVybiBnZXRRdWFsaWZpZWRQYXRoKCkuZ2V0SWRlbnRp\nZmllcigpOwogICAgfQogICAgCiAgICAKICAgIC8qKgogICAgICogUmV0dXJu\nIHdoZXRoZXIgdGhpcyBjb25zdHJhaW50IGlzIGEgbG9naWNhbCBjb25zdHJh\naW50IG9ubHk7IGkuZS4KICAgICAqIGlmIGl0IGRvZXMgbm90IGV4aXN0IGlu\nIHRoZSBkYXRhYmFzZS4KICAgICAqLwogICAgcHVibGljIGFic3RyYWN0IGJv\nb2xlYW4gaXNMb2dpY2FsKCk7CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdHJ1\nZSBpZiB0aGlzIGlzIGEgZGVmZXJyZWQgY29uc3RyYWludC4KICAgICAqLwog\nICAgcHVibGljIGJvb2xlYW4gaXNEZWZlcnJlZCgpIHsKICAgICAgICByZXR1\ncm4gX2RlZmVycmVkOwogICAgfQoKICAgIC8qKgogICAgICogTWFrZSB0aGlz\nIGNvbnN0cmFpbiBkZWZlcnJlZC4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0RGVmZXJyZWQoYm9vbGVhbiBkZWZlcnJlZCkgewogICAgICAgIF9kZWZl\ncnJlZCA9IGRlZmVycmVkOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgdG9T\ndHJpbmcoKSB7CiAgICAgICAgaWYgKCFnZXRJZGVudGlmaWVyKCkuaXNOdWxs\nKCkpCiAgICAgICAgICAgIHJldHVybiBnZXRJZGVudGlmaWVyKCkuZ2V0TmFt\nZSgpOwoKICAgICAgICBTdHJpbmcgbmFtZSA9IGdldENsYXNzKCkuZ2V0TmFt\nZSgpOwogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZyhuYW1lLmxhc3RJ\nbmRleE9mKCcuJykgKyAxKTsKICAgICAgICByZXR1cm4gIjwiICsgbmFtZS50\nb0xvd2VyQ2FzZSgpICsgIj4iOwogICAgfQp9Cg==\n","encoding":"base64"}

