{"sha":"3cdcea3265ce8228adae1e58f3b49afb16cb0ec6","node_id":"MDQ6QmxvYjIwNjM2NDozY2RjZWEzMjY1Y2U4MjI4YWRhZTFlNThmM2I0OWFmYjE2Y2IwZWM2","size":3719,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3cdcea3265ce8228adae1e58f3b49afb16cb0ec6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgamF2YS5pby5TZXJpYWxpemFibGU7CmltcG9ydCBqYXZhLnV0aWwuSGFz\naFNldDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CgppbXBvcnQgb3JnLmFwYWNo\nZS5jb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5pZGVudGlmaWVyLkRCSWRlbnRpZmllcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmlkZW50aWZpZXIuREJJZGVudGlm\naWVyLkRCSWRlbnRpZmllclR5cGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubGliLnV0aWwuTG9jYWxpemVyOwoKLyoqCiAqIE5hbWUgc2V0cyB0cmFj\nayB3aGF0IG5hbWVzIGhhdmUgYmVlbiB0YWtlbiwgaWdub3JpbmcgY2FzZS4K\nICoge0BsaW5rIFNjaGVtYUdyb3VwfXMgaW1wbGVtZW50IHRoaXMgaW50ZXJm\nYWNlIGZvciB0YWJsZXMsIGluZGV4ZXMsIGFuZAogKiBjb25zdHJhaW50czsg\ne0BsaW5rIFRhYmxlfXMgaW1wbGVtZW50IGl0IGZvciB0aGVpciBjb2x1bW5z\nLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KQFN1cHByZXNzV2Fybmlu\nZ3MoInNlcmlhbCIpCnB1YmxpYyBjbGFzcyBOYW1lU2V0CiAgICBpbXBsZW1l\nbnRzIFNlcmlhbGl6YWJsZSB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwg\nTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZShOYW1lU2V0\nLmNsYXNzKTsKCiAgICBwcml2YXRlIFNldDxEQklkZW50aWZpZXI+IF9uYW1l\ncyA9IG51bGw7CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUg\nZ2l2ZW4gbmFtZSBpcyBpbiB1c2UgYWxyZWFkeS4KICAgICAqIEBkZXByZWNh\ndGVkCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzTmFtZVRha2VuKFN0\ncmluZyBuYW1lKSB7CiAgICAgICAgcmV0dXJuIGlzTmFtZVRha2VuKERCSWRl\nbnRpZmllci50b1VwcGVyKERCSWRlbnRpZmllci5uZXdEZWZhdWx0KG5hbWUp\nKSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyBib29sZWFuIGlzTmFtZVRha2Vu\nKERCSWRlbnRpZmllciBuYW1lKSB7CiAgICAgICAgaWYgKERCSWRlbnRpZmll\nci5pc0VtcHR5KG5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwog\nICAgICAgIH0KICAgICAgICBpZiAoX25hbWVzID09IG51bGwpIHsKICAgICAg\nICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBEQklkZW50\naWZpZXIgc05hbWUgPSBEQklkZW50aWZpZXIudG9VcHBlcihuYW1lKTsKICAg\nICAgICByZXR1cm4gX25hbWVzLmNvbnRhaW5zKHNOYW1lKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEBkZXByZWNhdGVkCiAgICAgKi8KICAgIHByb3RlY3Rl\nZCB2b2lkIGFkZE5hbWUoU3RyaW5nIG5hbWUsIGJvb2xlYW4gdmFsaWRhdGUp\nIHsKICAgICAgICBhZGROYW1lKERCSWRlbnRpZmllci5uZXdJZGVudGlmaWVy\nKG5hbWUsIERCSWRlbnRpZmllclR5cGUuREVGQVVMVCwgdHJ1ZSksIHZhbGlk\nYXRlKTsKICAgIH0KICAgIC8qKgogICAgICogQXR0ZW1wdCB0byBhZGQgdGhl\nIGdpdmVuIG5hbWUgdG8gdGhlIHNldC4KICAgICAqCiAgICAgKiBAcGFyYW0g\nbmFtZSB0aGUgbmFtZSB0byBhZGQKICAgICAqIEBwYXJhbSB2YWxpZGF0ZSBp\nZiB0cnVlLCBudWxsIG9yIGVtcHR5IG5hbWVzIHdpbGwgbm90IGJlIGFjY2Vw\ndGVkCiAgICAgKi8KICAgIHByb3RlY3RlZCB2b2lkIGFkZE5hbWUoREJJZGVu\ndGlmaWVyIG5hbWUsIGJvb2xlYW4gdmFsaWRhdGUpIHsKICAgICAgICBpZiAo\nREJJZGVudGlmaWVyLmlzTnVsbChuYW1lKSB8fCBTdHJpbmdVdGlscy5pc0Vt\ncHR5KG5hbWUuZ2V0TmFtZSgpKSkgewogICAgICAgICAgICBpZiAodmFsaWRh\ndGUpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50\nRXhjZXB0aW9uKF9sb2MuZ2V0KCJiYWQtbmFtZSIsIG5hbWUpCiAgICAgICAg\nICAgICAgICAgICAgLmdldE1lc3NhZ2UoKSk7CiAgICAgICAgICAgIHJldHVy\nbjsKICAgICAgICB9CgogICAgICAgIC8vIHVuZm9ydHVuYXRlbHksIHdlIGNh\nbid0IGNoZWNrIGZvciBkdXBsaWNhdGUgbmFtZXMsIGJlY2F1c2UgZGlmZmVy\nZW50CiAgICAgICAgLy8gREJzIHVzZSBkaWZmZXJlbnQgbmFtZXNwYWNlcyBm\nb3IgY29tcG9uZW50cywgYW5kIGl0IHdvdWxkIGJlCiAgICAgICAgLy8gZGlm\nZmljdWx0IHRvIGZpbmQgYSBzY2hlbWUgdGhhdCBmaXRzIGFsbCBhbmQgaXMg\nc3RpbGwgdXNlZnVsCiAgICAgICAgaWYgKF9uYW1lcyA9PSBudWxsKQogICAg\nICAgICAgICBfbmFtZXMgPSBuZXcgSGFzaFNldDxEQklkZW50aWZpZXI+KCk7\nCiAgICAgICAgREJJZGVudGlmaWVyIHNOYW1lID0gREJJZGVudGlmaWVyLnRv\nVXBwZXIobmFtZSk7CiAgICAgICAgX25hbWVzLmFkZChzTmFtZSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBwcm90\nZWN0ZWQgdm9pZCByZW1vdmVOYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAg\naWYgKG5hbWUgIT0gbnVsbCAmJiBfbmFtZXMgIT0gbnVsbCkgewogICAgICAg\nICAgICByZW1vdmVOYW1lKERCSWRlbnRpZmllci5uZXdJZGVudGlmaWVyKG5h\nbWUsIERCSWRlbnRpZmllclR5cGUuREVGQVVMVCwgdHJ1ZSkpOwogICAgICAg\nIH0KICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIHRoZSBnaXZlbiBuYW1l\nIGZyb20gdGhlIHRhYmxlLgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBy\nZW1vdmVOYW1lKERCSWRlbnRpZmllciBuYW1lKSB7CiAgICAgICAgaWYgKCFE\nQklkZW50aWZpZXIuaXNOdWxsKG5hbWUpICYmIF9uYW1lcyAhPSBudWxsKSB7\nCiAgICAgICAgICAgIERCSWRlbnRpZmllciBzTmFtZSA9IERCSWRlbnRpZmll\nci50b1VwcGVyKG5hbWUpOwogICAgICAgICAgICBfbmFtZXMucmVtb3ZlKHNO\nYW1lKTsKICAgICAgICB9CiAgICB9CiAgICAKfQo=\n","encoding":"base64"}

