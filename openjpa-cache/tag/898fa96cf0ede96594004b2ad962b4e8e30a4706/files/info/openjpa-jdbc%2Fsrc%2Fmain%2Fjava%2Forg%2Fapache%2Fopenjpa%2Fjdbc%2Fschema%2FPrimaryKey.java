{"sha":"a51d9a9581352d2dddd735868cfd4be0fd579f87","node_id":"MDQ6QmxvYjIwNjM2NDphNTFkOWE5NTgxMzUyZDJkZGRkNzM1ODY4Y2ZkNGJlMGZkNTc5Zjg3","size":2742,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a51d9a9581352d2dddd735868cfd4be0fd579f87","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuaWRlbnRpZmllci5EQklkZW50\naWZpZXI7CgovKioKICogUmVwcmVzZW50cyBhIHRhYmxlIHByaW1hcnkga2V5\nLiBJdCBjYW4gYWxzbyByZXByZXNlbnQgYSBwYXJ0aWFsIGtleSwKICogYWxp\nZ25pbmcgd2l0aCB0aGUga2V5IGluZm9ybWF0aW9uIGF2YWlsYWJsZSBmcm9t\nCiAqIHtAbGluayBqYXZhLnNxbC5EYXRhYmFzZU1ldGFEYXRhfS4KICoKICog\nQGF1dGhvciBBYmUgV2hpdGUKICovCkBTdXBwcmVzc1dhcm5pbmdzKCJzZXJp\nYWwiKQpwdWJsaWMgY2xhc3MgUHJpbWFyeUtleQogICAgZXh0ZW5kcyBMb2Nh\nbENvbnN0cmFpbnQgewoKICAgIHByaXZhdGUgYm9vbGVhbiBfbG9naWNhbCA9\nIGZhbHNlOwoKICAgIC8qKgogICAgICogRGVmYXVsdCBjb25zdHJ1Y3Rvci4K\nICAgICAqLwogICAgcHVibGljIFByaW1hcnlLZXkoKSB7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4KICAgICAqCiAgICAgKiBAcGFyYW0g\nbmFtZSB0aGUgbmFtZSBvZiB0aGUgcHJpbWFyeSBrZXksIGlmIGFueQogICAg\nICogQHBhcmFtIHRhYmxlIHRoZSB0YWJsZSBvZiB0aGUgcHJpbWFyeSBrZXkK\nICAgICAqIEBkZXByZWNhdGVkCiAgICAgKi8KICAgIHB1YmxpYyBQcmltYXJ5\nS2V5KFN0cmluZyBuYW1lLCBUYWJsZSB0YWJsZSkgewogICAgICAgIHN1cGVy\nKG5hbWUsIHRhYmxlKTsKICAgIH0KCiAgICBwdWJsaWMgUHJpbWFyeUtleShE\nQklkZW50aWZpZXIgbmFtZSwgVGFibGUgdGFibGUpIHsKICAgICAgICBzdXBl\ncihuYW1lLCB0YWJsZSk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNM\nb2dpY2FsKCkgewogICAgICAgIHJldHVybiBfbG9naWNhbDsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRMb2dpY2FsKGJvb2xlYW4gbG9naWNhbCkgewog\nICAgICAgIF9sb2dpY2FsID0gbG9naWNhbDsKICAgIH0KCiAgICB2b2lkIHJl\nbW92ZSgpIHsKICAgICAgICAvLyBjaGVjayBhbGwgZm9yZWlnbiBrZXlzIGlu\nIHRoZSBzY2hlbWEgZ3JvdXAsIHJlbW92aW5nIG9uZXMgdGhhdAogICAgICAg\nIC8vIHJlZmVyZW5jZSB0aGlzIHByaW1hcnkga2V5CiAgICAgICAgVGFibGUg\ndGFibGUgPSBnZXRUYWJsZSgpOwogICAgICAgIGlmICh0YWJsZSAhPSBudWxs\nICYmIHRhYmxlLmdldFNjaGVtYSgpICE9IG51bGwKICAgICAgICAgICAgJiYg\ndGFibGUuZ2V0U2NoZW1hKCkuZ2V0U2NoZW1hR3JvdXAoKSAhPSBudWxsKSB7\nCiAgICAgICAgICAgIEZvcmVpZ25LZXlbXSBma3MgPSB0YWJsZS5nZXRTY2hl\nbWEoKS5nZXRTY2hlbWFHcm91cCgpLgogICAgICAgICAgICAgICAgZmluZEV4\ncG9ydGVkRm9yZWlnbktleXModGhpcyk7CiAgICAgICAgICAgIGZvciAoaW50\nIGkgPSAwOyBpIDwgZmtzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAg\nZmtzW2ldLmdldFRhYmxlKCkucmVtb3ZlRm9yZWlnbktleShma3NbaV0pOwog\nICAgICAgIH0KICAgICAgICBzdXBlci5yZW1vdmUoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBhZGRDb2x1bW4oQ29sdW1uIGNvbCkgewogICAgICAgIHN1\ncGVyLmFkZENvbHVtbihjb2wpOwogICAgICAgIGNvbC5zZXRQcmltYXJ5S2V5\nKHRydWUpOwogICAgICAgIGlmICghX2xvZ2ljYWwpCiAgICAgICAgICAgIGNv\nbC5zZXROb3ROdWxsKHRydWUpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIHRydWUgaWYgdGhlIHN0cnVjdHVyZSBvZiB0aGlzIHByaW1hcnkga2V5\nIG1hdGNoZXMgdGhhdCBvZgogICAgICogdGhlIGdpdmVuIG9uZSAoc2FtZSB0\nYWJsZSwgc2FtZSBjb2x1bW5zKS4KICAgICAqLwogICAgcHVibGljIGJvb2xl\nYW4gZXF1YWxzUHJpbWFyeUtleShQcmltYXJ5S2V5IHBrKSB7CiAgICAgICAg\ncmV0dXJuIGVxdWFsc0xvY2FsQ29uc3RyYWludChwayk7CiAgICB9Cn0K\n","encoding":"base64"}

