{"sha":"8d89b02855f87cfd5f9cdeba2b9fd72495925c55","node_id":"MDQ6QmxvYjIwNjM2NDo4ZDg5YjAyODU1Zjg3Y2ZkNWY5Y2RlYmEyYjlmZDcyNDk1OTI1YzU1","size":6516,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8d89b02855f87cfd5f9cdeba2b9fd72495925c55","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWE7CgppbXBv\ncnQgamF2YS5pby5GaWxlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLmlkZW50aWZpZXIuTm9ybWFsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmlkZW50aWZpZXIuREJJZGVudGlmaWVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuaWRlbnRpZmllci5RdWFsaWZpZWRE\nQklkZW50aWZpZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmlk\nZW50aWZpZXIuSWRlbnRpZmllclV0aWw7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLm1ldGEuU291cmNlVHJhY2tlcjsKCi8qKgogKiBSZXByZXNl\nbnRzIGEgZGF0YWJhc2Ugc2VxdWVuY2UuCiAqCiAqIEBhdXRob3IgQWJlIFdo\naXRlCiAqLwpAU3VwcHJlc3NXYXJuaW5ncygic2VyaWFsIikKcHVibGljIGNs\nYXNzIFNlcXVlbmNlCiAgICBleHRlbmRzIFJlZmVyZW5jZUNvdW50ZXIKICAg\nIGltcGxlbWVudHMgQ29tcGFyYWJsZTxTZXF1ZW5jZT4sIFNvdXJjZVRyYWNr\nZXIgewoKICAgIHByaXZhdGUgREJJZGVudGlmaWVyIF9uYW1lID0gREJJZGVu\ndGlmaWVyLk5VTEw7CiAgICBwcml2YXRlIFNjaGVtYSBfc2NoZW1hID0gbnVs\nbDsKICAgIHByaXZhdGUgREJJZGVudGlmaWVyIF9zY2hlbWFOYW1lID0gREJJ\nZGVudGlmaWVyLk5VTEw7CiAgICBwcml2YXRlIGludCBfaW5pdGlhbCA9IDE7\nCiAgICBwcml2YXRlIGludCBfaW5jcmVtZW50ID0gMTsKICAgIHByaXZhdGUg\naW50IF9jYWNoZSA9IDA7CiAgICBwcml2YXRlIGludCBfbGluZU51bSA9IDA7\nICAKICAgIHByaXZhdGUgaW50IF9jb2xOdW0gPSAwOyAgCiAgICBwcml2YXRl\nIFF1YWxpZmllZERCSWRlbnRpZmllciBfZnVsbFBhdGggPSBudWxsOwogICAg\nCiAgICAvLyBrZWVwIHRyYWNrIG9mIHNvdXJjZQogICAgcHJpdmF0ZSBGaWxl\nIF9zb3VyY2UgPSBudWxsOwogICAgcHJpdmF0ZSBpbnQgX3NyY1R5cGUgPSBT\nUkNfT1RIRVI7CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9y\nLgogICAgICovCiAgICBwdWJsaWMgU2VxdWVuY2UoKSB7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4KICAgICAqCiAgICAgKiBAcGFyYW0g\nbmFtZSB0aGUgc2VxdWVuY2UgbmFtZQogICAgICogQHBhcmFtIHNjaGVtYSB0\naGUgc2VxdWVuY2Ugc2NoZW1hCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICov\nCiAgICBwdWJsaWMgU2VxdWVuY2UoU3RyaW5nIG5hbWUsIFNjaGVtYSBzY2hl\nbWEpIHsKICAgICAgICB0aGlzKERCSWRlbnRpZmllci5uZXdTZXF1ZW5jZShu\nYW1lKSwgc2NoZW1hKTsKICAgIH0KCiAgICBwdWJsaWMgU2VxdWVuY2UoREJJ\nZGVudGlmaWVyIG5hbWUsIFNjaGVtYSBzY2hlbWEpIHsKICAgICAgICBzZXRJ\nZGVudGlmaWVyKG5hbWUpOwogICAgICAgIGlmIChzY2hlbWEgIT0gbnVsbCkK\nICAgICAgICAgICAgc2V0U2NoZW1hSWRlbnRpZmllcihzY2hlbWEuZ2V0SWRl\nbnRpZmllcigpKTsKICAgICAgICBfc2NoZW1hID0gc2NoZW1hOwogICAgfQoK\nICAgIC8qKgogICAgICogQ2FsbGVkIHdoZW4gdGhlIHNlcXVlbmNlIGlzIHJl\nbW92ZWQgZnJvbSBpdHMgc2NoZW1hLgogICAgICovCiAgICB2b2lkIHJlbW92\nZSgpIHsKICAgICAgICBfc2NoZW1hID0gbnVsbDsKICAgICAgICBfZnVsbFBh\ndGggPSBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBz\nY2hlbWEgZm9yIHRoZSBzZXF1ZW5jZS4KICAgICAqLwogICAgcHVibGljIFNj\naGVtYSBnZXRTY2hlbWEoKSB7CiAgICAgICAgcmV0dXJuIF9zY2hlbWE7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUaGUgc2VxdWVuY2UncyBzY2hlbWEgbmFt\nZS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRTY2hlbWFOYW1lKCkg\newogICAgICAgIHJldHVybiBnZXRTY2hlbWFJZGVudGlmaWVyKCkuZ2V0TmFt\nZSgpOwogICAgfQogICAgCiAgICBwdWJsaWMgREJJZGVudGlmaWVyIGdldFNj\naGVtYUlkZW50aWZpZXIoKSB7CiAgICAgICAgcmV0dXJuIF9zY2hlbWFOYW1l\nID09IG51bGwgPyBEQklkZW50aWZpZXIuTlVMTCA6IF9zY2hlbWFOYW1lOwog\nICAgfQoKICAgIC8qKgogICAgICogVGhlIHNlcXVlbmNlJ3Mgc2NoZW1hIG5h\nbWUuIFlvdSBjYW4gb25seSBjYWxsIHRoaXMgbWV0aG9kIG9uIHNlcXVlbmNl\ncwogICAgICogd2hvc2Ugc2NoZW1hIG9iamVjdCBpcyBub3Qgc2V0LgogICAg\nICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U2No\nZW1hTmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIHNldFNjaGVtYUlkZW50\naWZpZXIoREJJZGVudGlmaWVyLm5ld1NjaGVtYShuYW1lKSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0U2NoZW1hSWRlbnRpZmllcihEQklkZW50aWZp\nZXIgbmFtZSkgewogICAgICAgIGlmIChnZXRTY2hlbWEoKSAhPSBudWxsKQog\nICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCk7\nCiAgICAgICAgX3NjaGVtYU5hbWUgPSBuYW1lOwogICAgICAgIF9mdWxsUGF0\naCA9IG51bGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIG5h\nbWUgb2YgdGhlIHNlcXVlbmNlLgogICAgICogQGRlcHJlY2F0ZWQKICAgICAq\nLwogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgewogICAgICAgIHJldHVy\nbiBnZXRJZGVudGlmaWVyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIHB1Ymxp\nYyBEQklkZW50aWZpZXIgZ2V0SWRlbnRpZmllcigpIHsKICAgICAgICByZXR1\ncm4gX25hbWUgPT0gbnVsbCA/IERCSWRlbnRpZmllci5OVUxMIDogX25hbWU7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIG5hbWUgb2YgdGhlIHNl\ncXVlbmNlLiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSBjYWxsZWQgb24KICAg\nICAqIHNlcXVlbmNlcyB0aGF0IGFyZSBub3QgcGFydCBvZiBhIHNjaGVtYS4K\nICAgICAqIEBkZXByZWNhdGVkCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNl\ndE5hbWUoU3RyaW5nIG5hbWUpIHsKICAgICAgICBzZXRJZGVudGlmaWVyKERC\nSWRlbnRpZmllci5uZXdTZXF1ZW5jZShuYW1lKSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0SWRlbnRpZmllcihEQklkZW50aWZpZXIgbmFtZSkgewog\nICAgICAgIGlmIChnZXRTY2hlbWEoKSAhPSBudWxsKQogICAgICAgICAgICB0\naHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCk7CiAgICAgICAgX25h\nbWUgPSBuYW1lOwogICAgICAgIF9mdWxsUGF0aCA9IG51bGw7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHNlcXVlbmNlIG5hbWUsIGluY2x1\nZGluZyBzY2hlbWEsIHVzaW5nICcuJyBhcyB0aGUKICAgICAqIGNhdGFsb2cg\nc2VwYXJhdG9yLgogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgcHVi\nbGljIFN0cmluZyBnZXRGdWxsTmFtZSgpIHsKICAgICAgICByZXR1cm4gZ2V0\nRnVsbElkZW50aWZpZXIoKS5nZXROYW1lKCk7CiAgICB9CgogICAgcHVibGlj\nIERCSWRlbnRpZmllciBnZXRGdWxsSWRlbnRpZmllcigpIHsKICAgICAgICBy\nZXR1cm4gZ2V0UXVhbGlmaWVkUGF0aCgpLmdldElkZW50aWZpZXIoKTsKICAg\nIH0KCiAgICBwdWJsaWMgUXVhbGlmaWVkREJJZGVudGlmaWVyIGdldFF1YWxp\nZmllZFBhdGgoKSB7CiAgICAgICAgaWYgKF9mdWxsUGF0aCAgPT0gbnVsbCkg\newogICAgICAgICAgICBfZnVsbFBhdGggPSBRdWFsaWZpZWREQklkZW50aWZp\nZXIubmV3UGF0aChfc2NoZW1hTmFtZSwgX25hbWUgKTsKICAgICAgICB9CiAg\nICAgICAgcmV0dXJuIF9mdWxsUGF0aDsKICAgIH0KCiAgICAvKioKICAgICAq\nIFRoZSBzZXF1ZW5jZSdzIGluaXRpYWwgdmFsdWUuCiAgICAgKi8KICAgIHB1\nYmxpYyBpbnQgZ2V0SW5pdGlhbFZhbHVlKCkgewogICAgICAgIHJldHVybiBf\naW5pdGlhbDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzZXF1ZW5jZSdz\nIGluaXRpYWwgdmFsdWUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldElu\naXRpYWxWYWx1ZShpbnQgaW5pdGlhbCkgewogICAgICAgIF9pbml0aWFsID0g\naW5pdGlhbDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzZXF1ZW5jZSdz\nIGluY3JlbWVudC4KICAgICAqLwogICAgcHVibGljIGludCBnZXRJbmNyZW1l\nbnQoKSB7CiAgICAgICAgcmV0dXJuIF9pbmNyZW1lbnQ7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUaGUgc2VxdWVuY2UncyBpbmNyZW1lbnQuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldEluY3JlbWVudChpbnQgaW5jcmVtZW50KSB7\nCiAgICAgICAgX2luY3JlbWVudCA9IGluY3JlbWVudDsKICAgIH0KCiAgICAv\nKioKICAgICAqIFRoZSBzZXF1ZW5jZSdzIGNhY2hlIHNpemUuCiAgICAgKi8K\nICAgIHB1YmxpYyBpbnQgZ2V0QWxsb2NhdGUoKSB7CiAgICAgICAgcmV0dXJu\nIF9jYWNoZTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzZXF1ZW5jZSdz\nIGNhY2hlIHNpemUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEFsbG9j\nYXRlKGludCBjYWNoZSkgewogICAgICAgIF9jYWNoZSA9IGNhY2hlOwogICAg\nfQoKICAgIHB1YmxpYyBGaWxlIGdldFNvdXJjZUZpbGUoKSB7CiAgICAgICAg\ncmV0dXJuIF9zb3VyY2U7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRT\nb3VyY2VTY29wZSgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAg\nICBwdWJsaWMgaW50IGdldFNvdXJjZVR5cGUoKSB7CiAgICAgICAgcmV0dXJu\nIF9zcmNUeXBlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNvdXJjZShG\naWxlIHNvdXJjZSwgaW50IHNyY1R5cGUpIHsKICAgICAgICBfc291cmNlID0g\nc291cmNlOwogICAgICAgIF9zcmNUeXBlID0gc3JjVHlwZTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nIGdldFJlc291cmNlTmFtZSgpIHsKICAgICAgICBy\nZXR1cm4gZ2V0RnVsbElkZW50aWZpZXIoKS5nZXROYW1lKCk7CiAgICB9Cgog\nICAgcHVibGljIGludCBjb21wYXJlVG8oU2VxdWVuY2Ugb3RoZXIpIHsKICAg\nICAgICBEQklkZW50aWZpZXIgbmFtZSA9IGdldElkZW50aWZpZXIoKTsKICAg\nICAgICBEQklkZW50aWZpZXIgb3RoZXJOYW1lID0gb3RoZXIuZ2V0SWRlbnRp\nZmllcigpOwogICAgICAgIGlmIChEQklkZW50aWZpZXIuaXNOdWxsKG5hbWUp\nICYmIERCSWRlbnRpZmllci5pc051bGwob3RoZXJOYW1lKSkgewogICAgICAg\nICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgaWYgKERCSWRlbnRp\nZmllci5pc051bGwobmFtZSkpCiAgICAgICAgICAgIHJldHVybiAxOwogICAg\nICAgIGlmIChEQklkZW50aWZpZXIuaXNOdWxsKG90aGVyTmFtZSkpCiAgICAg\nICAgICAgIHJldHVybiAtMTsKICAgICAgICByZXR1cm4gbmFtZS5jb21wYXJl\nVG8ob3RoZXJOYW1lKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIHRvU3Ry\naW5nKCkgewogICAgICAgIHJldHVybiBnZXRGdWxsSWRlbnRpZmllcigpLmdl\ndE5hbWUoKTsKICAgIH0KICAgIAogICAgcHVibGljIGludCBnZXRMaW5lTnVt\nYmVyKCkgewogICAgICAgIHJldHVybiBfbGluZU51bTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRMaW5lTnVtYmVyKGludCBsaW5lTnVtKSB7CiAgICAg\nICAgX2xpbmVOdW0gPSBsaW5lTnVtOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nZ2V0Q29sTnVtYmVyKCkgewogICAgICAgIHJldHVybiBfY29sTnVtOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbE51bWJlcihpbnQgY29sTnVtKSB7\nCiAgICAgICAgX2NvbE51bSA9IGNvbE51bTsKICAgIH0KCn0K\n","encoding":"base64"}

