{"sha":"b9b32bbff166116295f46ee5c21b0afc44bf91a1","node_id":"MDQ6QmxvYjIwNjM2NDpiOWIzMmJiZmYxNjYxMTYyOTVmNDZlZTVjMjFiMGFmYzQ0YmY5MWEx","size":4549,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b9b32bbff166116295f46ee5c21b0afc44bf91a1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLmV4cHMuRmlsdGVyVmFs\ndWU7CgovKioKICogQmFzZSBkaWN0aW9uYXJ5IGZvciB0aGUgSUJNIERCMiBm\nYW1pbHkgb2YgZGF0YWJhc2VzLgogKi8KcHVibGljIGFic3RyYWN0IGNsYXNz\nIEFic3RyYWN0REIyRGljdGlvbmFyeQogICAgZXh0ZW5kcyBEQkRpY3Rpb25h\ncnkgewoKICAgIHB1YmxpYyBpbnQgdmFyY2hhckNhc3RMZW5ndGggPSAxMDAw\nOwoKICAgIHB1YmxpYyBBYnN0cmFjdERCMkRpY3Rpb25hcnkoKSB7CiAgICAg\nICAgbnVtZXJpY1R5cGVOYW1lID0gIkRPVUJMRSI7CiAgICAgICAgYml0VHlw\nZU5hbWUgPSAiU01BTExJTlQiOwogICAgICAgIHNtYWxsaW50VHlwZU5hbWUg\nPSAiU01BTExJTlQiOwogICAgICAgIHRpbnlpbnRUeXBlTmFtZSA9ICJTTUFM\nTElOVCI7CiAgICAgICAgbG9uZ1ZhcmJpbmFyeVR5cGVOYW1lID0gIkJMT0Ii\nOwogICAgICAgIHZhcmJpbmFyeVR5cGVOYW1lID0gIkJMT0IiOwoKICAgICAg\nICAvLyBEQjItYmFzZWQgZGF0YWJhc2VzIGhhdmUgcmVzdHJpY3Rpb25zIG9u\nIGhhdmluZyB1bmNhc3QgcGFyYW1ldGVycwogICAgICAgIC8vIGluIHN0cmlu\nZyBmdW5jdGlvbnMKICAgICAgICBzdHJpbmdMZW5ndGhGdW5jdGlvbiA9ICJM\nRU5HVEgoezB9KSI7CiAgICAgICAgY29uY2F0ZW5hdGVGdW5jdGlvbiA9ICIo\nQ0FTVCh7MH0gQVMgVkFSQ0hBUigiICsgdmFyY2hhckNhc3RMZW5ndGgKICAg\nICAgICAgICAgKyAiKSkgfHwgQ0FTVCh7MX0gQVMgVkFSQ0hBUigiICsgdmFy\nY2hhckNhc3RMZW5ndGggKyAiKSkpIjsKCiAgICAgICAgdHJpbUxlYWRpbmdG\ndW5jdGlvbiA9ICJMVFJJTSh7MH0pIjsKICAgICAgICB0cmltVHJhaWxpbmdG\ndW5jdGlvbiA9ICJSVFJJTSh7MH0pIjsKICAgICAgICB0cmltQm90aEZ1bmN0\naW9uID0gIkxUUklNKFJUUklNKHswfSkpIjsKCiAgICAgICAgLy8gaW4gREIy\nLCAiZm9yIHVwZGF0ZSIgc2VlbXMgdG8gYmUgaWdub3JlZCB3aXRoIGlzb2xh\ndGlvbgogICAgICAgIC8vIGxldmVscyBiZWxvdyBSRVBFQVRBQkxFX1JFQUQu\nLi4gZm9yY2UgaXNvbGF0aW9uIHRvIGJlaGF2ZSBsaWtlIFJSCiAgICAgICAg\nZm9yVXBkYXRlQ2xhdXNlID0gIkZPUiBVUERBVEUgV0lUSCBSUiI7CgogICAg\nICAgIHN1cHBvcnRzTG9ja2luZ1dpdGhEaXN0aW5jdENsYXVzZSA9IGZhbHNl\nOwogICAgICAgIHN1cHBvcnRzTG9ja2luZ1dpdGhNdWx0aXBsZVRhYmxlcyA9\nIGZhbHNlOwogICAgICAgIHN1cHBvcnRzTG9ja2luZ1dpdGhPcmRlckNsYXVz\nZSA9IGZhbHNlOwogICAgICAgIHN1cHBvcnRzTG9ja2luZ1dpdGhPdXRlckpv\naW4gPSBmYWxzZTsKICAgICAgICBzdXBwb3J0c0xvY2tpbmdXaXRoSW5uZXJK\nb2luID0gZmFsc2U7CiAgICAgICAgc3VwcG9ydHNMb2NraW5nV2l0aFNlbGVj\ndFJhbmdlID0gdHJ1ZTsKICAgICAgICBzdXBwb3J0c0Nhc2VDb252ZXJzaW9u\nRm9yTG9iID0gdHJ1ZTsKCiAgICAgICAgcmVxdWlyZXNBdXRvQ29tbWl0Rm9y\nTWV0YURhdGEgPSB0cnVlOwogICAgICAgIHJlcXVpcmVzQWxpYXNGb3JTdWJz\nZWxlY3QgPSB0cnVlOwoKICAgICAgICBzdXBwb3J0c0F1dG9Bc3NpZ24gPSB0\ncnVlOwogICAgICAgIGF1dG9Bc3NpZ25DbGF1c2UgPSAiR0VORVJBVEVEIEJZ\nIERFRkFVTFQgQVMgSURFTlRJVFkiOwogICAgICAgIGxhc3RHZW5lcmF0ZWRL\nZXlRdWVyeSA9ICJWQUxVRVMoSURFTlRJVFlfVkFMX0xPQ0FMKCkpIjsKCiAg\nICAgICAgLy8gREIyIGRvZXNuJ3QgdW5kZXJzdGFuZCAiWCBDUk9TUyBKT0lO\nIFkiLCBidXQgaXQgZG9lcyB1bmRlcnN0YW5kCiAgICAgICAgLy8gdGhlIGVx\ndWl2YWxlbnQgIlggSk9JTiBZIE9OIDEgPSAxIgogICAgICAgIGNyb3NzSm9p\nbkNsYXVzZSA9ICJKT0lOIjsKICAgICAgICByZXF1aXJlc0NvbmRpdGlvbkZv\nckNyb3NzSm9pbiA9IHRydWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgaW5k\nZXhPZihTUUxCdWZmZXIgYnVmLCBGaWx0ZXJWYWx1ZSBzdHIsIEZpbHRlclZh\nbHVlIGZpbmQsCiAgICAgICAgRmlsdGVyVmFsdWUgc3RhcnQpIHsKICAgICAg\nICBidWYuYXBwZW5kKCIoTE9DQVRFKENBU1QoKCIpOwogICAgICAgIGZpbmQu\nYXBwZW5kVG8oYnVmKTsKICAgICAgICBidWYuYXBwZW5kKCIpIEFTIFZBUkNI\nQVIoIikuYXBwZW5kKEludGVnZXIudG9TdHJpbmcodmFyY2hhckNhc3RMZW5n\ndGgpKQogICAgICAgICAgICAuYXBwZW5kKCIpKSwgQ0FTVCgoIik7CiAgICAg\nICAgc3RyLmFwcGVuZFRvKGJ1Zik7CiAgICAgICAgYnVmLmFwcGVuZCgiKSBB\nUyBWQVJDSEFSKCIpLmFwcGVuZChJbnRlZ2VyLnRvU3RyaW5nKHZhcmNoYXJD\nYXN0TGVuZ3RoKSkKICAgICAgICAgICAgLmFwcGVuZCgiKSkiKTsKICAgICAg\nICBpZiAoc3RhcnQgIT0gbnVsbCkgewogICAgICAgICAgICBidWYuYXBwZW5k\nKCIsIENBU1QoKCIpOwogICAgICAgICAgICBzdGFydC5hcHBlbmRUbyhidWYp\nOwogICAgICAgICAgICBidWYuYXBwZW5kKCIpIEFTIElOVEVHRVIpICsgMSIp\nOwogICAgICAgIH0KICAgICAgICBidWYuYXBwZW5kKCIpIC0gMSkiKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzdWJzdHJpbmcoU1FMQnVmZmVyIGJ1Ziwg\nRmlsdGVyVmFsdWUgc3RyLCBGaWx0ZXJWYWx1ZSBzdGFydCwKICAgICAgICBG\naWx0ZXJWYWx1ZSBlbmQpIHsKICAgICAgICBidWYuYXBwZW5kKCJTVUJTVFIo\nQ0FTVCgoIik7CiAgICAgICAgc3RyLmFwcGVuZFRvKGJ1Zik7CiAgICAgICAg\nYnVmLmFwcGVuZCgiKSBBUyBWQVJDSEFSKCIpLmFwcGVuZChJbnRlZ2VyLnRv\nU3RyaW5nKHZhcmNoYXJDYXN0TGVuZ3RoKSkKICAgICAgICAgICAgLmFwcGVu\nZCgiKSksICIpOwogICAgICAgIGlmIChzdGFydC5nZXRWYWx1ZSgpIGluc3Rh\nbmNlb2YgTnVtYmVyKSB7CiAgICAgICAgICAgIGxvbmcgc3RhcnRMb25nID0g\ndG9Mb25nKHN0YXJ0KTsKICAgICAgICAgICAgYnVmLmFwcGVuZChMb25nLnRv\nU3RyaW5nKHN0YXJ0TG9uZyArIDEpKTsKICAgICAgICB9IGVsc2UgewogICAg\nICAgICAgICBidWYuYXBwZW5kKCJDQVNUKCgiKTsKICAgICAgICAgICAgc3Rh\ncnQuYXBwZW5kVG8oYnVmKTsKICAgICAgICAgICAgYnVmLmFwcGVuZCgiKSBB\nUyBJTlRFR0VSKSArIDEiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGVuZCAh\nPSBudWxsKSB7CiAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIiwgIik7CiAgICAg\nICAgICAgIGlmIChzdGFydC5nZXRWYWx1ZSgpIGluc3RhbmNlb2YgTnVtYmVy\nCiAgICAgICAgICAgICAgICAmJiBlbmQuZ2V0VmFsdWUoKSBpbnN0YW5jZW9m\nIE51bWJlcikgewogICAgICAgICAgICAgICAgbG9uZyBzdGFydExvbmcgPSB0\nb0xvbmcoc3RhcnQpOwogICAgICAgICAgICAgICAgbG9uZyBlbmRMb25nID0g\ndG9Mb25nKGVuZCk7CiAgICAgICAgICAgICAgICBidWYuYXBwZW5kKExvbmcu\ndG9TdHJpbmcoZW5kTG9uZyAtIHN0YXJ0TG9uZykpOwogICAgICAgICAgICB9\nIGVsc2UgewogICAgICAgICAgICAgICAgYnVmLmFwcGVuZCgiQ0FTVCgoIik7\nCiAgICAgICAgICAgICAgICBlbmQuYXBwZW5kVG8oYnVmKTsKICAgICAgICAg\nICAgICAgIGJ1Zi5hcHBlbmQoIikgQVMgSU5URUdFUikgLSBDQVNUKCgiKTsK\nICAgICAgICAgICAgICAgIHN0YXJ0LmFwcGVuZFRvKGJ1Zik7CiAgICAgICAg\nICAgICAgICBidWYuYXBwZW5kKCIpIEFTIElOVEVHRVIpIik7CiAgICAgICAg\nICAgIH0KICAgICAgICB9CiAgICAgICAgYnVmLmFwcGVuZCgiKSIpOwogICAg\nfQp9Cg==\n","encoding":"base64"}

