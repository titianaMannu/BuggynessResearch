{"sha":"11527e4f30b1f52e644e6386d180f3de8039182b","node_id":"MDQ6QmxvYjIwNjM2NDoxMTUyN2U0ZjMwYjFmNTJlNjQ0ZTYzODZkMTgwZjNkZTgwMzkxODJi","size":7323,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/11527e4f30b1f52e644e6386d180f3de8039182b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5zcWwuRHJpdmVyTWFuYWdlcjsKaW1wb3J0IGphdmEuc3FsLlNRTEV4\nY2VwdGlvbjsKaW1wb3J0IGphdmEudXRpbC5BcnJheXM7CmltcG9ydCBqYXZh\nLnV0aWwuRW51bVNldDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CgppbXBvcnQg\namF2YXguc3FsLkRhdGFTb3VyY2U7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnV0aWwuU3RvcmVFeGNlcHRpb247CgovKioKICogRGljdGlvbmFyeSBm\nb3IgQXBhY2hlIERlcmJ5IChmb3JtZXJseSBDbG91ZHNjYXBlKS4KICovCnB1\nYmxpYyBjbGFzcyBEZXJieURpY3Rpb25hcnkKICAgIGV4dGVuZHMgQWJzdHJh\nY3REQjJEaWN0aW9uYXJ5IHsKCiAgICAvKioKICAgICAqIElmIHRydWUsIHdl\nIHdpbGwgc2h1dGRvd24gdGhlIGVtYmVkZGVkIGRhdGFiYXNlIHdoZW4gY2xv\nc2luZwogICAgICogdGhlIERhdGFTb3VyY2UuCiAgICAgKi8KICAgIHB1Ymxp\nYyBib29sZWFuIHNodXRkb3duT25DbG9zZSA9IHRydWU7CiAgICAKICAgIHB1\nYmxpYyBEZXJieURpY3Rpb25hcnkoKSB7CiAgICAgICAgcGxhdGZvcm0gPSAi\nQXBhY2hlIERlcmJ5IjsKICAgICAgICB2YWxpZGF0aW9uU1FMID0gIlZBTFVF\nUygxKSI7CiAgICAgICAgc3RyaW5nTGVuZ3RoRnVuY3Rpb24gPSAiTEVOR1RI\nKHswfSkiOwogICAgICAgIHN1YnN0cmluZ0Z1bmN0aW9uTmFtZSA9ICJTVUJT\nVFIiOwogICAgICAgIHRvVXBwZXJDYXNlRnVuY3Rpb24gPSAiVVBQRVIoQ0FT\nVCh7MH0gQVMgVkFSQ0hBUigiICsgdmFyY2hhckNhc3RMZW5ndGggKyAiKSkp\nIjsKICAgICAgICB0b0xvd2VyQ2FzZUZ1bmN0aW9uID0gIkxPV0VSKENBU1Qo\nezB9IEFTIFZBUkNIQVIoIiArIHZhcmNoYXJDYXN0TGVuZ3RoICsgIikpKSI7\nCgogICAgICAgIC8vIERlcmJ5IG5hbWUgbGVuZ3RoIHJlc3RyaWN0aW9uIGhh\ncyBiZWVuIHJlbGF4ZWQgCiAgICAgICAgLy9odHRwOi8vd3d3LmFyY2hpdnVt\nLmluZm8vZGVyYnktZGV2QGRiLmFwYWNoZS5vcmcvMjAwNC0xMi9tc2cwMDI3\nMC5odG1sCiAgICAgICAgbWF4Q29uc3RyYWludE5hbWVMZW5ndGggPSAxMjg7\nCiAgICAgICAgbWF4SW5kZXhOYW1lTGVuZ3RoID0gMTI4OwogICAgICAgIG1h\neENvbHVtbk5hbWVMZW5ndGggPSAxMjg7CiAgICAgICAgbWF4VGFibGVOYW1l\nTGVuZ3RoID0gMTI4OwoKICAgICAgICB1c2VHZXRCeXRlc0ZvckJsb2JzID0g\ndHJ1ZTsKICAgICAgICB1c2VTZXRCeXRlc0ZvckJsb2JzID0gdHJ1ZTsKCiAg\nICAgICAgYWxsb3dzQWxpYXNJbkJ1bGtDbGF1c2UgPSBmYWxzZTsKICAgICAg\nICBzdXBwb3J0c0RlZmVycmVkQ29uc3RyYWludHMgPSBmYWxzZTsKICAgICAg\nICBzdXBwb3J0c1BhcmFtZXRlckluU2VsZWN0ID0gZmFsc2U7CiAgICAgICAg\nc3VwcG9ydHNTZWxlY3RGb3JVcGRhdGUgPSB0cnVlOwogICAgICAgIHN1cHBv\ncnRzRGVmYXVsdERlbGV0ZUFjdGlvbiA9IGZhbHNlOwogICAgICAgIHJlcXVp\ncmVzQ2FzdEZvck1hdGhGdW5jdGlvbnMgPSB0cnVlOwogICAgICAgIHJlcXVp\ncmVzQ2FzdEZvckNvbXBhcmlzb25zID0gdHJ1ZTsKICAgICAgICBzdXBwb3J0\nc1NpbXBsZUNhc2VFeHByZXNzaW9uID0gZmFsc2U7CgogICAgICAgIHN1cHBv\ncnRzQ29tbWVudHMgPSB0cnVlOwoKICAgICAgICBmaXhlZFNpemVUeXBlTmFt\nZVNldC5hZGRBbGwoQXJyYXlzLmFzTGlzdChuZXcgU3RyaW5nW117CiAgICAg\nICAgICAgICJCSUdJTlQiLCAiSU5URUdFUiIsCiAgICAgICAgfSkpOwogICAg\nICAgIHJlc2VydmVkV29yZFNldC5hZGRBbGwoQXJyYXlzLmFzTGlzdChuZXcg\nU3RyaW5nW117CiAgICAgICAgICAgICJCT09MRUFOIiwgIkNBTEwiLCAiRU5E\nRVhFQyIsICJFWFBMQUlOIiwgIkZVTkNUSU9OIiwKICAgICAgICAgICAgIkdF\nVF9DVVJSRU5UX0NPTk5FQ1RJT04iLCAiSU5PVVQiLCAiTE9OR0lOVCIsICJM\nVFJJTSIsICJOT05FIiwKICAgICAgICAgICAgIk5WQVJDSEFSIiwgIk9GRiIs\nICJPVVQiLCAiUlRSSU0iLCAiU1VCU1RSIiwgIlhNTCIsICJYTUxFWElTVFMi\nLAogICAgICAgICAgICAiWE1MUEFSU0UiLCAiWE1MU0VSSUFMSVpFIiwKICAg\nICAgICB9KSk7CgogICAgICAgIC8vIHJlc2VydmVkV29yZFNldCBzdWJzZXQg\ndGhhdCBDQU5OT1QgYmUgdXNlZCBhcyB2YWxpZCBjb2x1bW4gbmFtZXMKICAg\nICAgICAvLyAoaS5lLiwgd2l0aG91dCBzdXJyb3VuZGluZyB0aGVtIHdpdGgg\nZG91YmxlLXF1b3RlcykKICAgICAgICBpbnZhbGlkQ29sdW1uV29yZFNldC5h\nZGRBbGwoQXJyYXlzLmFzTGlzdChuZXcgU3RyaW5nW10gewogICAgICAgICAg\nICAiQUREIiwgIkFMTCIsICJBTExPQ0FURSIsICJBTFRFUiIsICJBTkQiLCAi\nQU5ZIiwgIkFSRSIsICJBUyIsICJBU0MiLAogICAgICAgICAgICAiQVNTRVJU\nSU9OIiwgIkFUIiwgIkFVVEhPUklaQVRJT04iLCAiQVZHIiwgIkJFR0lOIiwg\nIkJFVFdFRU4iLCAKICAgICAgICAgICAgIkJJVCIsICJCT09MRUFOIiwgIkJP\nVEgiLCAiQlkiLCAiQ0FMTCIsICJDQVNDQURFIiwgIkNBU0NBREVEIiwgCiAg\nICAgICAgICAgICJDQVNFIiwgIkNBU1QiLCAiQ0hBUiIsICJDSEFSQUNURVIi\nLCAiQ0hBUkFDVEVSX0xFTkdUSCIsICJDSEVDSyIsCiAgICAgICAgICAgICJD\nTE9TRSIsICJDT0FMRVNDRSIsICJDT0xMQVRFIiwgIkNPTExBVElPTiIsICJD\nT0xVTU4iLCAiQ09NTUlUIiwgIkNPTk5FQ1QiLAogICAgICAgICAgICAiQ09O\nTkVDVElPTiIsICJDT05TVFJBSU5UIiwgIkNPTlNUUkFJTlRTIiwgIkNPTlRJ\nTlVFIiwgIkNPTlZFUlQiLAogICAgICAgICAgICAiQ09SUkVTUE9ORElORyIs\nICJDUkVBVEUiLCAiQ1VSUkVOVCIsICJDVVJSRU5UX0RBVEUiLCAiQ1VSUkVO\nVF9ST0xFIiwKICAgICAgICAgICAgIkNVUlJFTlRfVElNRSIsICJDVVJSRU5U\nX1RJTUVTVEFNUCIsICJDVVJSRU5UX1VTRVIiLCAiQ1VSU09SIiwKICAgICAg\nICAgICAgIkRFQUxMT0NBVEUiLCAiREVDIiwgIkRFQ0lNQUwiLCAiREVDTEFS\nRSIsICJERUZBVUxUIiwgIkRFRkVSUkFCTEUiLAogICAgICAgICAgICAiREVG\nRVJSRUQiLCAiREVMRVRFIiwgIkRFU0MiLCAiREVTQ1JJQkUiLCAiRElBR05P\nU1RJQ1MiLCAKICAgICAgICAgICAgIkRJU0NPTk5FQ1QiLCAiRElTVElOQ1Qi\nLCAiRE9VQkxFIiwgIkRST1AiLCAiRUxTRSIsICJFTkQiLCAKICAgICAgICAg\nICAgIkVORC1FWEVDIiwgIkVTQ0FQRSIsICJFWENFUFQiLCAiRVhDRVBUSU9O\nIiwgIkVYRUMiLCAiRVhFQ1VURSIsCiAgICAgICAgICAgICJFWElTVFMiLCAi\nRVhQTEFJTiIsICJFWFRFUk5BTCIsICJGQUxTRSIsICJGRVRDSCIsICJGSVJT\nVCIsICJGTE9BVCIsCiAgICAgICAgICAgICJGT1IiLCAiRk9SRUlHTiIsICJG\nT1VORCIsICJGUk9NIiwgIkZVTEwiLCAiRlVOQ1RJT04iLCAiR0VUIiwgCiAg\nICAgICAgICAgICJHRVRDVVJSRU5UQ09OTkVDVElPTiIsICJHTE9CQUwiLCAi\nR08iLCAiR09UTyIsICJHUkFOVCIsICJHUk9VUCIsICJIQVZJTkciLCAiSE9V\nUiIsCiAgICAgICAgICAgICJJREVOVElUWSIsICJJTU1FRElBVEUiLCAiSU4i\nLCAiSU5ESUNBVE9SIiwgIklOSVRJQUxMWSIsICJJTk5FUiIsCiAgICAgICAg\nICAgICJJTk9VVCIsICJJTlBVVCIsICJJTlNFTlNJVElWRSIsICJJTlNFUlQi\nLCAiSU5UIiwgIklOVEVHRVIiLAogICAgICAgICAgICAiSU5URVJTRUNUIiwg\nIklOVE8iLCAiSVMiLCAiSVNPTEFUSU9OIiwgIkpPSU4iLCAiS0VZIiwgIkxB\nU1QiLAogICAgICAgICAgICAiTEVBRElORyIsICJMRUZUIiwgIkxJS0UiLCAi\nTE9XRVIiLCAiTFRSSU0iLCAiTUFUQ0giLCAiTUFYIiwgIk1JTiIsCiAgICAg\nICAgICAgICJNSU5VVEUiLCAiTkFUSU9OQUwiLCAiTkFUVVJBTCIsICJOQ0hB\nUiIsICJORVhUIiwgIk5PIiwgIk5PTkUiLCAiTk9UIiwgCiAgICAgICAgICAg\nICJOVUxMIiwgIk5VTExJRiIsICJOVU1FUklDIiwgIk5WQVJDSEFSIiwgIk9G\nIiwgIk9OIiwgIk9OTFkiLCAiT1BFTiIsCiAgICAgICAgICAgICJPUFRJT04i\nLCAiT1IiLCAiT1JERVIiLCAiT1VUIiwgIk9VVEVSIiwgIk9VVFBVVCIsICJP\nVkVSIiwgIk9WRVJMQVBTIiwgCiAgICAgICAgICAgICJQQUQiLCAiUEFSVElB\nTCIsICJQUkVQQVJFIiwgIlBSRVNFUlZFIiwgIlBSSU1BUlkiLCAiUFJJT1Ii\nLAogICAgICAgICAgICAiUFJJVklMRUdFUyIsICJQUk9DRURVUkUiLCAiUFVC\nTElDIiwgIlJFQUQiLCAiUkVBTCIsICJSRUZFUkVOQ0VTIiwKICAgICAgICAg\nICAgIlJFTEFUSVZFIiwgIlJFU1RSSUNUIiwgIlJFVk9LRSIsICJSSUdIVCIs\nICJST0xMQkFDSyIsICJST1dTIiwKICAgICAgICAgICAgIlJPV19OVU1CRVIi\nLCAiUlRSSU0iLCAiU0NIRU1BIiwgIlNDUk9MTCIsICJTRUNPTkQiLCAiU0VM\nRUNUIiwgIlNFU1NJT05fVVNFUiIsCiAgICAgICAgICAgICJTRVQiLCAiU01B\nTExJTlQiLCAiU09NRSIsICJTUEFDRSIsICJTUUwiLCAiU1FMQ09ERSIsICJT\nUUxFUlJPUiIsCiAgICAgICAgICAgICJTUUxTVEFURSIsICJTVUJTVFIiLCAi\nU1VCU1RSSU5HIiwgIlNVTSIsICJTWVNURU1fVVNFUiIsICJUQUJMRSIsCiAg\nICAgICAgICAgICJURU1QT1JBUlkiLCAiVElNRVpPTkVfSE9VUiIsICJUSU1F\nWk9ORV9NSU5VVEUiLCAiVE8iLCAiVFJBSUxJTkciLAogICAgICAgICAgICAi\nVFJBTlNBQ1RJT04iLCAiVFJBTlNMQVRFIiwgIlRSQU5TTEFUSU9OIiwgIlRS\nSU0iLCAiVFJVRSIsICJVTklPTiIsCiAgICAgICAgICAgICJVTklRVUUiLCAi\nVU5LTk9XTiIsICJVUERBVEUiLCAiVVBQRVIiLCAiVVNFUiIsICJVU0lORyIs\nICJWQUxVRVMiLAogICAgICAgICAgICAiVkFSQ0hBUiIsICJWQVJZSU5HIiwg\nIlZJRVciLCAiV0hFTkVWRVIiLCAiV0hFUkUiLCAiV0lUSCIsICJXT1JLIiwK\nICAgICAgICAgICAgIldSSVRFIiwgIlhNTCIsICJYTUxFWElTVFMiLCAiWE1M\nUEFSU0UiLCAiWE1MUVVFUlkiLCAiWE1MU0VSSUFMSVpFIiwgIllFQVIiLAog\nICAgICAgIH0pKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbG9zZURhdGFT\nb3VyY2UoRGF0YVNvdXJjZSBkYXRhU291cmNlKSB7CiAgICAgICAgc3VwZXIu\nY2xvc2VEYXRhU291cmNlKGRhdGFTb3VyY2UpOwoKICAgICAgICBpZiAoIXNo\ndXRkb3duT25DbG9zZSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICAv\nLyBhcyB3ZWxsIGFzIGNsb3NpbmcgdGhlIERhdGFTb3VyY2UsIHdlIGFsc28g\nbmVlZCB0bwogICAgICAgIC8vIHNodXQgZG93biB0aGUgaW5zdGFuY2UgaWYg\nd2UgYXJlIHVzaW5nIGFuIGVtYmVkZGVkIGRhdGFiYXNlLCB3aGljaAogICAg\nICAgIC8vIGNhbiBvbmx5IGJlIGRvbmUgYnkgY29ubmVjdGluZyB0byB0aGUg\nc2FtZSBVUkwgd2l0aCB0aGUKICAgICAgICAvLyAiO3NodXRkb3duPXRydWUi\nIHN0cmluZyBhcHBlbmRlZCB0byB0aGUgZW5kCiAgICAgICAgLy8gc2VlOiBo\ndHRwOi8vZGIuYXBhY2hlLm9yZy9kZXJieS9kb2NzL2Rldi9kZXZndWlkZS90\nZGV2ZHZscDQwNDY0Lmh0bWwKICAgICAgICBpZiAoY29uZiAhPSBudWxsICYm\nIGNvbmYuZ2V0Q29ubmVjdGlvbkRyaXZlck5hbWUoKSAhPSBudWxsICYmCiAg\nICAgICAgICAgIGNvbmYuZ2V0Q29ubmVjdGlvbkRyaXZlck5hbWUoKS5pbmRl\neE9mKCJFbWJlZGRlZERyaXZlciIpICE9IC0xKSB7CiAgICAgICAgICAgIHRy\neSB7CiAgICAgICAgICAgICAgICBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rp\nb24oY29uZi5nZXRDb25uZWN0aW9uVVJMKCkKICAgICAgICAgICAgICAgICAg\nICArICI7c2h1dGRvd249dHJ1ZSIpOwogICAgICAgICAgICB9IGNhdGNoIChT\nUUxFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgLy8gd2UgYWN0dWFs\nbCBleHBlY3QgYSBTUUxFeGNlcHRpb24gdG8gYmUgdGhyb3duIGhlcmU6CiAg\nICAgICAgICAgICAgICAvLyBEZXJieSBzdHJhbmdlbHkgdXNlcyB0aGF0IGFz\nIGEgbWVjaGFuaXNtIHRvIHJlcG9ydAogICAgICAgICAgICAgICAgLy8gYSBz\ndWNjZXNzZnVsIHNodXRkb3duCiAgICAgICAgICAgIH0KICAgICAgICB9CiAg\nICB9CiAgICAKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIEJvb2xlYW4g\nbWF0Y2hFcnJvclN0YXRlKGludCBzdWJ0eXBlLCBTZXQ8U3RyaW5nPiBlcnJv\nclN0YXRlcywKICAgICAgICBTUUxFeGNlcHRpb24gZXgpIHsKICAgICAgICBC\nb29sZWFuIHJlY292ZXJhYmxlID0gbnVsbDsKICAgICAgICBTdHJpbmcgZXJy\nb3JTdGF0ZSA9IGV4LmdldFNRTFN0YXRlKCk7CiAgICAgICAgaW50IGVycm9y\nQ29kZSA9IGV4LmdldEVycm9yQ29kZSgpOwogICAgICAgIGlmIChlcnJvclN0\nYXRlcy5jb250YWlucyhlcnJvclN0YXRlKSkgewogICAgICAgICAgICByZWNv\ndmVyYWJsZSA9IEJvb2xlYW4uRkFMU0U7CiAgICAgICAgICAgIGlmICgoc3Vi\ndHlwZSA9PSBTdG9yZUV4Y2VwdGlvbi5MT0NLIHx8CiAgICAgICAgICAgICAg\nICAgICAgc3VidHlwZSA9PSBTdG9yZUV4Y2VwdGlvbi5RVUVSWSkgJiYgZXJy\nb3JDb2RlIDwgMzAwMDApIHsKICAgICAgICAgICAgICAgIHJlY292ZXJhYmxl\nID0gQm9vbGVhbi5UUlVFOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAg\nICAgIHJldHVybiByZWNvdmVyYWJsZTsKICAgIH0KCn0K\n","encoding":"base64"}

