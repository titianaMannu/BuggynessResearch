{"sha":"e00f59c64f48e52129f2e0bf7382285562d0dd76","node_id":"MDQ6QmxvYjIwNjM2NDplMDBmNTljNjRmNDhlNTIxMjlmMmUwYmY3MzgyMjg1NTYyZDBkZDc2","size":16644,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e00f59c64f48e52129f2e0bf7382285562d0dd76","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUmVhZGVyOwpp\nbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZhLm1hdGgu\nQmlnSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkFycmF5OwppbXBvcnQgamF2\nYS5zcWwuQmxvYjsKaW1wb3J0IGphdmEuc3FsLkNsb2I7CmltcG9ydCBqYXZh\nLnNxbC5Db25uZWN0aW9uOwppbXBvcnQgamF2YS5zcWwuUmVmOwppbXBvcnQg\namF2YS5zcWwuUmVzdWx0U2V0OwppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0\naW9uOwppbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50OwppbXBvcnQgamF2YS5z\ncWwuVGltZTsKaW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDsKaW1wb3J0IGph\ndmEuc3FsLlR5cGVzOwppbXBvcnQgamF2YS51dGlsLkNhbGVuZGFyOwppbXBv\ncnQgamF2YS51dGlsLkRhdGU7CmltcG9ydCBqYXZhLnV0aWwuTG9jYWxlOwpp\nbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5pZGVudGlmaWVyLkRCSWRlbnRpZmllcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDU3RvcmU7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkphdmFTUUxUeXBlczsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW47Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5KYXZhVHlwZXM7CgppbXBv\ncnQgc2VycC51dGlsLk51bWJlcnM7CgovKioKICogQmFzZSB7QGxpbmsgUmVz\ndWx0fSBpbXBsZW1lbnRhdGlvbiB3cmFwcGVkIGFyb3VuZCBhIHJlc3VsdCBz\nZXQuCiAqIENvbHVtbiBvYmplY3RzLCBjb2x1bW4gbmFtZXMsIG9yIGNvbHVt\nbiBpbmRleGVzIChhcyA8Y29kZT5OdW1iZXI8L2NvZGU+CiAqIGluc3RhbmNl\ncykgY2FuIGJlIHVzZWQgdG8gcmV0cmlldmUgcmVzdWx0IHNldCBkYXRhLgog\nKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNsYXNzIFJlc3Vs\ndFNldFJlc3VsdAogICAgZXh0ZW5kcyBBYnN0cmFjdFJlc3VsdCB7CgogICAg\ncHJpdmF0ZSBmaW5hbCBDb25uZWN0aW9uIF9jb25uOwogICAgcHJpdmF0ZSBm\naW5hbCBTdGF0ZW1lbnQgX3N0bW50OwogICAgcHJpdmF0ZSBmaW5hbCBSZXN1\nbHRTZXQgX3JzOwogICAgcHJpdmF0ZSBmaW5hbCBEQkRpY3Rpb25hcnkgX2Rp\nY3Q7CiAgICBwcml2YXRlIGJvb2xlYW4gX2Nsb3NlQ29ubiA9IHRydWU7CiAg\nICBwcml2YXRlIGludCBfcm93ID0gLTE7CiAgICBwcml2YXRlIGludCBfc2l6\nZSA9IC0xOwoKICAgIC8vIG9wdGlvbmFsOyB1c2VkIHRvIGRlc2VyaWFsaXpl\nIGJsb2JzIGNvbnRhaW5pbmcgcmVmcyB0byBwZXJzaXN0ZW50IG9ianMKICAg\nIHByaXZhdGUgSkRCQ1N0b3JlIF9zdG9yZSA9IG51bGw7CgogICAgLyoqCiAg\nICAgKiBDb25zdHJ1Y3Rvci4KICAgICAqLwogICAgcHVibGljIFJlc3VsdFNl\ndFJlc3VsdChDb25uZWN0aW9uIGNvbm4sIFN0YXRlbWVudCBzdG1udCwKICAg\nICAgICBSZXN1bHRTZXQgcnMsIERCRGljdGlvbmFyeSBkaWN0KSB7CiAgICAg\nICAgaWYgKHN0bW50ID09IG51bGwpCiAgICAgICAgICAgIHRyeSB7CiAgICAg\nICAgICAgICAgICBzdG1udCA9IHJzLmdldFN0YXRlbWVudCgpOwogICAgICAg\nICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB9Cgog\nICAgICAgIF9jb25uID0gY29ubjsKICAgICAgICBfc3RtbnQgPSBzdG1udDsK\nICAgICAgICBfcnMgPSByczsKICAgICAgICBfZGljdCA9IGRpY3Q7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4KICAgICAqLwogICAgcHVi\nbGljIFJlc3VsdFNldFJlc3VsdChDb25uZWN0aW9uIGNvbm4sIFN0YXRlbWVu\ndCBzdG1udCwKICAgICAgICBSZXN1bHRTZXQgcnMsIEpEQkNTdG9yZSBzdG9y\nZSkgewogICAgICAgIHRoaXMoY29ubiwgc3RtbnQsIHJzLCBzdG9yZS5nZXRE\nQkRpY3Rpb25hcnkoKSk7CiAgICAgICAgc2V0U3RvcmUoc3RvcmUpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuCiAgICAgKi8KICAgIHB1\nYmxpYyBSZXN1bHRTZXRSZXN1bHQoQ29ubmVjdGlvbiBjb25uLAogICAgICAg\nIFJlc3VsdFNldCBycywgREJEaWN0aW9uYXJ5IGRpY3QpIHsKICAgICAgICBf\nY29ubiA9IGNvbm47CiAgICAgICAgX3N0bW50ID0gbnVsbDsKICAgICAgICBf\ncnMgPSByczsKICAgICAgICBfZGljdCA9IGRpY3Q7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBKREJDIDIgY29uc3RydWN0b3IuIFJlbGllcyBvbiBiZWluZyBh\nYmxlIHRvIHJldHJpZXZlIHRoZSBzdGF0ZW1lbnQKICAgICAqIGZyb20gdGhl\nIHJlc3VsdCBzZXQsIGFuZCB0aGUgY29ubmVjdGlvbiBmcm9tIHRoZSBzdGF0\nZW1lbnQuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHRTZXRSZXN1bHQoUmVz\ndWx0U2V0IHJzLCBEQkRpY3Rpb25hcnkgZGljdCkKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQgPSBycy5nZXRTdGF0ZW1l\nbnQoKTsKICAgICAgICBfY29ubiA9IF9zdG1udC5nZXRDb25uZWN0aW9uKCk7\nCiAgICAgICAgX3JzID0gcnM7CiAgICAgICAgX2RpY3QgPSBkaWN0OwogICAg\nfQoKICAgIC8qKgogICAgICogSkRCQyAyIGNvbnN0cnVjdG9yLiBSZWxpZXMg\nb24gYmVpbmcgYWJsZSB0byByZXRyaWV2ZSB0aGUgc3RhdGVtZW50CiAgICAg\nKiBmcm9tIHRoZSByZXN1bHQgc2V0LCBhbmQgdGhlIGNvbm5lY3Rpb24gZnJv\nbSB0aGUgc3RhdGVtZW50LgogICAgICovCiAgICBwdWJsaWMgUmVzdWx0U2V0\nUmVzdWx0KFJlc3VsdFNldCBycywgSkRCQ1N0b3JlIHN0b3JlKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHRoaXMocnMsIHN0b3Jl\nLmdldERCRGljdGlvbmFyeSgpKTsKICAgICAgICBzZXRTdG9yZShzdG9yZSk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHN0YXRlbWVudCB0\naGF0IHByb2R1Y2VkIHRoaXMgcmVzdWx0LgogICAgICovCiAgICBwdWJsaWMg\nU3RhdGVtZW50IGdldFN0YXRlbWVudCgpIHsKICAgICAgICByZXR1cm4gX3N0\nbW50OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBiYWNraW5n\nIHJlc3VsdCBzZXQuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHRTZXQgZ2V0\nUmVzdWx0U2V0KCkgewogICAgICAgIHJldHVybiBfcnM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gdGhlIGRpY3Rpb25hcnkgaW4gdXNlLgogICAg\nICovCiAgICBwdWJsaWMgREJEaWN0aW9uYXJ5IGdldERCRGljdGlvbmFyeSgp\nIHsKICAgICAgICByZXR1cm4gX2RpY3Q7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBPcHRpb25hbCBzdG9yZSBtYW5hZ2VyIHVzZWQgdG8gZGVzZXJpYWxpemUg\nYmxvYnMgY29udGFpbmluZwogICAgICogcmVmZXJlbmNlcyB0byBwZXJzaXN0\nZW50IG9iamVjdHMuCiAgICAgKi8KICAgIHB1YmxpYyBKREJDU3RvcmUgZ2V0\nU3RvcmUoKSB7CiAgICAgICAgcmV0dXJuIF9zdG9yZTsKICAgIH0KCiAgICAv\nKioKICAgICAqIE9wdGlvbmFsIHN0b3JlIG1hbmFnZXIgdXNlZCB0byBkZXNl\ncmlhbGl6ZSBibG9icyBjb250YWluaW5nCiAgICAgKiByZWZlcmVuY2VzIHRv\nIHBlcnNpc3RlbnQgb2JqZWN0cy4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0U3RvcmUoSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAgX3N0b3JlID0g\nc3RvcmU7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIGNsb3Nl\nIHRoZSBiYWNraW5nIGNvbm5lY3Rpb24gd2hlbiB0aGlzIHJlc3VsdCBpcyBj\nbG9zZWQuCiAgICAgKiBEZWZhdWx0cyB0byB0cnVlLgogICAgICovCiAgICBw\ndWJsaWMgYm9vbGVhbiBnZXRDbG9zZUNvbm5lY3Rpb24oKSB7CiAgICAgICAg\ncmV0dXJuIF9jbG9zZUNvbm47CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0\naGVyIHRvIGNsb3NlIHRoZSBiYWNraW5nIGNvbm5lY3Rpb24gd2hlbiB0aGlz\nIHJlc3VsdCBpcyBjbG9zZWQuCiAgICAgKiBEZWZhdWx0cyB0byB0cnVlLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRDbG9zZUNvbm5lY3Rpb24oYm9v\nbGVhbiBjbG9zZUNvbm4pIHsKICAgICAgICBfY2xvc2VDb25uID0gY2xvc2VD\nb25uOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgewogICAgICAg\nIHN1cGVyLmNsb3NlKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX3Jz\nLmNsb3NlKCk7CiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlKSB7\nCiAgICAgICAgfQogICAgICAgIGlmIChfc3RtbnQgIT0gbnVsbCkKICAgICAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIF9zdG1udC5jbG9zZSgpOwog\nICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gc2UpIHsKICAgICAg\nICAgICAgfQogICAgICAgIGlmIChfY2xvc2VDb25uKQogICAgICAgICAgICB0\ncnkgewogICAgICAgICAgICAgICAgX2Nvbm4uY2xvc2UoKTsKICAgICAgICAg\nICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlKSB7CiAgICAgICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBzdXBwb3J0c1JhbmRvbUFjY2Vz\ncygpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIF9ycy5nZXRUeXBlKCkgIT0gUmVzdWx0U2V0LlRZUEVfRk9SV0FSRF9P\nTkxZOwogICAgfQoKICAgIHByb3RlY3RlZCBib29sZWFuIGFic29sdXRlSW50\nZXJuYWwoaW50IHJvdykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICBpZiAocm93ID09ICsrX3JvdykKICAgICAgICAgICAgcmV0dXJu\nIF9ycy5uZXh0KCk7CgogICAgICAgIC8vIHJhbmRvbSBhY2Nlc3MKICAgICAg\nICBfcnMuYWJzb2x1dGUocm93ICsgMSk7CiAgICAgICAgaWYgKF9ycy5nZXRS\nb3coKSA9PSAwKSB7CiAgICAgICAgICAgIF9yb3cgPSAtMTsKICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBfcm93ID0gcm93\nOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHByb3RlY3RlZCBi\nb29sZWFuIG5leHRJbnRlcm5hbCgpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgX3JvdysrOwogICAgICAgIHJldHVybiBfcnMubmV4\ndCgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgc2l6ZSgpCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKF9zaXplID09IC0xKSB7\nCiAgICAgICAgICAgIF9ycy5sYXN0KCk7CiAgICAgICAgICAgIF9zaXplID0g\nX3JzLmdldFJvdygpOwogICAgICAgICAgICBpZiAoX3JvdyA9PSAtMSkKICAg\nICAgICAgICAgICAgIF9ycy5iZWZvcmVGaXJzdCgpOwogICAgICAgICAgICBl\nbHNlCiAgICAgICAgICAgICAgICBfcnMuYWJzb2x1dGUoX3JvdyArIDEpOwog\nICAgICAgIH0KICAgICAgICByZXR1cm4gX3NpemU7CiAgICB9CgogICAgcHJv\ndGVjdGVkIGJvb2xlYW4gY29udGFpbnNJbnRlcm5hbChPYmplY3Qgb2JqLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gKChOdW1iZXIpIHRyYW5zbGF0ZShvYmosIGpvaW5zKSku\naW50VmFsdWUoKSA+IDA7CiAgICB9CgogICAgcHJvdGVjdGVkIEFycmF5IGdl\ndEFycmF5SW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9kaWN0\nLmdldEFycmF5KF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAg\nICB9CgogICAgcHJvdGVjdGVkIElucHV0U3RyZWFtIGdldEFzY2lpU3RyZWFt\nSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9kaWN0LmdldEFz\nY2lpU3RyZWFtKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAg\nICB9CgogICAgcHJvdGVjdGVkIEJpZ0RlY2ltYWwgZ2V0QmlnRGVjaW1hbElu\ndGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRCaWdE\nZWNpbWFsKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9\nCgogICAgcHJvdGVjdGVkIE51bWJlciBnZXROdW1iZXJJbnRlcm5hbChPYmpl\nY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0TnVtYmVyKF9ycywgKChO\ndW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVk\nIEJpZ0ludGVnZXIgZ2V0QmlnSW50ZWdlckludGVybmFsKE9iamVjdCBvYmos\nIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBfZGljdC5nZXRCaWdJbnRlZ2VyKF9ycywgKChOdW1i\nZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIElu\ncHV0U3RyZWFtIGdldEJpbmFyeVN0cmVhbUludGVybmFsKE9iamVjdCBvYmos\nIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBfZGljdC5nZXRCaW5hcnlTdHJlYW0oX3JzLCAoKE51\nbWJlcikgb2JqKS5pbnRWYWx1ZSgpKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQg\nQmxvYiBnZXRCbG9iSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMp\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIF9kaWN0LmdldEJsb2IoX3JzLCAoKE51bWJlcikgb2JqKS5pbnRWYWx1ZSgp\nKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBnZXRCb29sZWFuSW50\nZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9kaWN0LmdldEJvb2xl\nYW4oX3JzLCAoKE51bWJlcikgb2JqKS5pbnRWYWx1ZSgpKTsKICAgIH0KCiAg\nICBwcm90ZWN0ZWQgYnl0ZSBnZXRCeXRlSW50ZXJuYWwoT2JqZWN0IG9iaiwg\nSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIF9kaWN0LmdldEJ5dGUoX3JzLCAoKE51bWJlcikgb2Jq\nKS5pbnRWYWx1ZSgpKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgYnl0ZVtdIGdl\ndEJ5dGVzSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9kaWN0\nLmdldEJ5dGVzKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAg\nICB9CgogICAgcHJvdGVjdGVkIENhbGVuZGFyIGdldENhbGVuZGFySW50ZXJu\nYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9kaWN0LmdldENhbGVuZGFy\nKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9CgogICAg\ncHJvdGVjdGVkIGNoYXIgZ2V0Q2hhckludGVybmFsKE9iamVjdCBvYmosIEpv\naW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBfZGljdC5nZXRDaGFyKF9ycywgKChOdW1iZXIpIG9iaiku\naW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIFJlYWRlciBnZXRD\naGFyYWN0ZXJTdHJlYW1JbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lu\ncykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX2RpY3QuZ2V0Q2hhcmFjdGVyU3RyZWFtKF9ycywgKChOdW1iZXIpIG9i\naikuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIENsb2IgZ2V0\nQ2xvYkludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5n\nZXRDbG9iKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9\nCgogICAgcHJvdGVjdGVkIERhdGUgZ2V0RGF0ZUludGVybmFsKE9iamVjdCBv\nYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfZGljdC5nZXREYXRlKF9ycywgKChOdW1iZXIp\nIG9iaikuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIGphdmEu\nc3FsLkRhdGUgZ2V0RGF0ZUludGVybmFsKE9iamVjdCBvYmosIENhbGVuZGFy\nIGNhbCwKICAgICAgICBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0RGF0ZShfcnMs\nICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCksIGNhbCk7CiAgICB9CgogICAg\ncHJvdGVjdGVkIGRvdWJsZSBnZXREb3VibGVJbnRlcm5hbChPYmplY3Qgb2Jq\nLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX2RpY3QuZ2V0RG91YmxlKF9ycywgKChOdW1iZXIp\nIG9iaikuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIGZsb2F0\nIGdldEZsb2F0SW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9k\naWN0LmdldEZsb2F0KF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7\nCiAgICB9CgogICAgcHJvdGVjdGVkIGludCBnZXRJbnRJbnRlcm5hbChPYmpl\nY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0SW50KF9ycywgKChOdW1i\nZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIExv\nY2FsZSBnZXRMb2NhbGVJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lu\ncykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX2RpY3QuZ2V0TG9jYWxlKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFs\ndWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIGxvbmcgZ2V0TG9uZ0ludGVy\nbmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRMb25nKF9y\ncywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJv\ndGVjdGVkIE9iamVjdCBnZXRTdHJlYW1JbnRlcm5hbChKREJDU3RvcmUgc3Rv\ncmUsIE9iamVjdCBvYmosCiAgICAgICAgaW50IG1ldGFUeXBlQ29kZSwgT2Jq\nZWN0IGFyZywgSm9pbnMgam9pbnMpIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBnZXRMT0JTdHJlYW1JbnRlcm5hbChzdG9yZSwgb2Jq\nLCBqb2lucyk7CiAgICB9CiAgICAKICAgIHByb3RlY3RlZCBPYmplY3QgZ2V0\nT2JqZWN0SW50ZXJuYWwoT2JqZWN0IG9iaiwgaW50IG1ldGFUeXBlQ29kZSwK\nICAgICAgICBPYmplY3QgYXJnLCBKb2lucyBqb2lucykKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBpZiAobWV0YVR5cGVDb2RlID09\nIC0xICYmIG9iaiBpbnN0YW5jZW9mIENvbHVtbikKICAgICAgICAgICAgbWV0\nYVR5cGVDb2RlID0gKChDb2x1bW4pIG9iaikuZ2V0SmF2YVR5cGUoKTsKCiAg\nICAgICAgYm9vbGVhbiBpc0Nsb2IgPSAob2JqIGluc3RhbmNlb2YgQ29sdW1u\nKSA/ICgoQ29sdW1uKSBvYmopLmdldFR5cGUoKSA9PSBUeXBlcy5DTE9CICYm\nICEoKENvbHVtbikgb2JqKS5pc1hNTCgpCiAgICAgICAgICAgICAgICA6IGZh\nbHNlOwogICAgICAgIG9iaiA9IHRyYW5zbGF0ZShvYmosIGpvaW5zKTsKICAg\nICAgICAKICAgICAgICBPYmplY3QgdmFsID0gbnVsbDsKICAgICAgICBzd2l0\nY2ggKG1ldGFUeXBlQ29kZSkgewogICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5CT09MRUFOOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFO\nX09CSjoKICAgICAgICAgICAgICAgIHZhbCA9IChnZXRCb29sZWFuSW50ZXJu\nYWwob2JqLCBqb2lucykpID8gQm9vbGVhbi5UUlVFCiAgICAgICAgICAgICAg\nICAgICAgOiBCb29sZWFuLkZBTFNFOwogICAgICAgICAgICAgICAgYnJlYWs7\nCiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZVEU6CiAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLkJZVEVfT0JKOgogICAgICAgICAgICAgICAgdmFs\nID0gbmV3IEJ5dGUoZ2V0Qnl0ZUludGVybmFsKG9iaiwgam9pbnMpKTsKICAg\nICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5DSEFSOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5DSEFSX09CSjoK\nICAgICAgICAgICAgICAgIHZhbCA9IG5ldyBDaGFyYWN0ZXIoZ2V0Q2hhcklu\ndGVybmFsKG9iaiwgam9pbnMpKTsKICAgICAgICAgICAgICAgIGJyZWFrOwog\nICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5ET1VCTEU6CiAgICAgICAgICAg\nIGNhc2UgSmF2YVR5cGVzLkRPVUJMRV9PQko6CiAgICAgICAgICAgICAgICB2\nYWwgPSBuZXcgRG91YmxlKGdldERvdWJsZUludGVybmFsKG9iaiwgam9pbnMp\nKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIEph\ndmFUeXBlcy5GTE9BVDoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRkxP\nQVRfT0JKOgogICAgICAgICAgICAgICAgdmFsID0gbmV3IEZsb2F0KGdldEZs\nb2F0SW50ZXJuYWwob2JqLCBqb2lucykpOwogICAgICAgICAgICAgICAgYnJl\nYWs7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklOVDoKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuSU5UX09CSjoKICAgICAgICAgICAgICAgIHZh\nbCA9IE51bWJlcnMudmFsdWVPZihnZXRJbnRJbnRlcm5hbChvYmosIGpvaW5z\nKSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuTE9ORzoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTE9O\nR19PQko6CiAgICAgICAgICAgICAgICB2YWwgPSBOdW1iZXJzLnZhbHVlT2Yo\nZ2V0TG9uZ0ludGVybmFsKG9iaiwgam9pbnMpKTsKICAgICAgICAgICAgICAg\nIGJyZWFrOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5TSE9SVDoKICAg\nICAgICAgICAgY2FzZSBKYXZhVHlwZXMuU0hPUlRfT0JKOgogICAgICAgICAg\nICAgICAgdmFsID0gbmV3IFNob3J0KGdldFNob3J0SW50ZXJuYWwob2JqLCBq\nb2lucykpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLlNUUklORzoKICAgICAgICAgICAgICAgIHJldHVybiBn\nZXRTdHJpbmdJbnRlcm5hbChvYmosIGpvaW5zLCBpc0Nsb2IpOwogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5PQkpFQ1Q6CiAgICAgICAgICAgICAgICBy\nZXR1cm4gX2RpY3QKICAgICAgICAgICAgICAgICAgICAuZ2V0QmxvYk9iamVj\ndChfcnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCksIF9zdG9yZSk7CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkRBVEU6CiAgICAgICAgICAgICAg\nICByZXR1cm4gZ2V0RGF0ZUludGVybmFsKG9iaiwgam9pbnMpOwogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5DQUxFTkRBUjoKICAgICAgICAgICAgICAg\nIHJldHVybiBnZXRDYWxlbmRhckludGVybmFsKG9iaiwgam9pbnMpOwogICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5CSUdERUNJTUFMOgogICAgICAgICAg\nICAgICAgcmV0dXJuIGdldEJpZ0RlY2ltYWxJbnRlcm5hbChvYmosIGpvaW5z\nKTsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTlVNQkVSOgogICAgICAg\nICAgICAgICAgcmV0dXJuIGdldE51bWJlckludGVybmFsKG9iaiwgam9pbnMp\nOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CSUdJTlRFR0VSOgogICAg\nICAgICAgICAgICAgcmV0dXJuIGdldEJpZ0ludGVnZXJJbnRlcm5hbChvYmos\nIGpvaW5zKTsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuTE9DQUxFOgog\nICAgICAgICAgICAgICAgcmV0dXJuIGdldExvY2FsZUludGVybmFsKG9iaiwg\nam9pbnMpOwogICAgICAgICAgICBjYXNlIEphdmFTUUxUeXBlcy5TUUxfQVJS\nQVk6CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QXJyYXlJbnRlcm5hbChv\nYmosIGpvaW5zKTsKICAgICAgICAgICAgY2FzZSBKYXZhU1FMVHlwZXMuQVND\nSUlfU1RSRUFNOgogICAgICAgICAgICAgICAgcmV0dXJuIGdldEFzY2lpU3Ry\nZWFtSW50ZXJuYWwob2JqLCBqb2lucyk7CiAgICAgICAgICAgIGNhc2UgSmF2\nYVNRTFR5cGVzLkJJTkFSWV9TVFJFQU06CiAgICAgICAgICAgICAgICByZXR1\ncm4gZ2V0QmluYXJ5U3RyZWFtSW50ZXJuYWwob2JqLCBqb2lucyk7CiAgICAg\nICAgICAgIGNhc2UgSmF2YVNRTFR5cGVzLkJMT0I6CiAgICAgICAgICAgICAg\nICByZXR1cm4gZ2V0QmxvYkludGVybmFsKG9iaiwgam9pbnMpOwogICAgICAg\nICAgICBjYXNlIEphdmFTUUxUeXBlcy5CWVRFUzoKICAgICAgICAgICAgICAg\nIHJldHVybiBnZXRCeXRlc0ludGVybmFsKG9iaiwgam9pbnMpOwogICAgICAg\nICAgICBjYXNlIEphdmFTUUxUeXBlcy5DSEFSX1NUUkVBTToKICAgICAgICAg\nICAgICAgIHJldHVybiBnZXRDaGFyYWN0ZXJTdHJlYW1JbnRlcm5hbChvYmos\nIGpvaW5zKTsKICAgICAgICAgICAgY2FzZSBKYXZhU1FMVHlwZXMuQ0xPQjoK\nICAgICAgICAgICAgICAgIHJldHVybiBnZXRDbG9iSW50ZXJuYWwob2JqLCBq\nb2lucyk7CiAgICAgICAgICAgIGNhc2UgSmF2YVNRTFR5cGVzLlNRTF9EQVRF\nOgogICAgICAgICAgICAgICAgcmV0dXJuIGdldERhdGVJbnRlcm5hbChvYmos\nIChDYWxlbmRhcikgYXJnLCBqb2lucyk7CiAgICAgICAgICAgIGNhc2UgSmF2\nYVNRTFR5cGVzLlNRTF9PQkpFQ1Q6CiAgICAgICAgICAgICAgICByZXR1cm4g\nZ2V0U1FMT2JqZWN0SW50ZXJuYWwob2JqLCAoTWFwKSBhcmcsIGpvaW5zKTsK\nICAgICAgICAgICAgY2FzZSBKYXZhU1FMVHlwZXMuUkVGOgogICAgICAgICAg\nICAgICAgcmV0dXJuIGdldFJlZkludGVybmFsKG9iaiwgKE1hcCkgYXJnLCBq\nb2lucyk7CiAgICAgICAgICAgIGNhc2UgSmF2YVNRTFR5cGVzLlRJTUU6CiAg\nICAgICAgICAgICAgICByZXR1cm4gZ2V0VGltZUludGVybmFsKG9iaiwgKENh\nbGVuZGFyKSBhcmcsIGpvaW5zKTsKICAgICAgICAgICAgY2FzZSBKYXZhU1FM\nVHlwZXMuVElNRVNUQU1QOgogICAgICAgICAgICAgICAgcmV0dXJuIGdldFRp\nbWVzdGFtcEludGVybmFsKG9iaiwgKENhbGVuZGFyKSBhcmcsIGpvaW5zKTsK\nICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGlmIChvYmog\naW5zdGFuY2VvZiBDb2x1bW4pIHsKICAgICAgICAgICAgICAgICAgICBDb2x1\nbW4gY29sID0gKENvbHVtbikgb2JqOwogICAgICAgICAgICAgICAgICAgIGlm\nIChjb2wuZ2V0VHlwZSgpID09IFR5cGVzLkJMT0IKICAgICAgICAgICAgICAg\nICAgICAgICAgfHwgY29sLmdldFR5cGUoKSA9PSBUeXBlcy5WQVJCSU5BUlkp\nIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9kaWN0CiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAuZ2V0QmxvYk9iamVjdChfcnMsIGNv\nbC5nZXRJbmRleCgpLCBfc3RvcmUpOwogICAgICAgICAgICAgICAgICAgIH0K\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBfZGlj\ndC5nZXRPYmplY3QoX3JzLCAoKE51bWJlcikgb2JqKS5pbnRWYWx1ZSgpLCBu\ndWxsKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChfcnMud2FzTnVsbCgp\nKSA/IG51bGwgOiB2YWw7CiAgICB9CgogICAgcHJvdGVjdGVkIE9iamVjdCBn\nZXRTUUxPYmplY3RJbnRlcm5hbChPYmplY3Qgb2JqLCBNYXAgbWFwLCBKb2lu\ncyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gX2RpY3QuZ2V0T2JqZWN0KF9ycywgKChOdW1iZXIpIG9iaiku\naW50VmFsdWUoKSwgbWFwKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgUmVmIGdl\ndFJlZkludGVybmFsKE9iamVjdCBvYmosIE1hcCBtYXAsIEpvaW5zIGpvaW5z\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfZGljdC5nZXRSZWYoX3JzLCAoKE51bWJlcikgb2JqKS5pbnRWYWx1ZSgp\nLCBtYXApOwogICAgfQoKICAgIHByb3RlY3RlZCBzaG9ydCBnZXRTaG9ydElu\ndGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRTaG9y\ndChfcnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAg\nIHByb3RlY3RlZCBTdHJpbmcgZ2V0U3RyaW5nSW50ZXJuYWwoT2JqZWN0IG9i\naiwgSm9pbnMgam9pbnMsIGJvb2xlYW4gaXNDbG9iU3RyaW5nKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGlmIChpc0Nsb2JTdHJp\nbmcpIHsKICAgICAgICAgICAgcmV0dXJuIF9kaWN0LmdldENsb2JTdHJpbmco\nX3JzLCAoKE51bWJlcikgb2JqKS5pbnRWYWx1ZSgpKTsKICAgICAgICB9CiAg\nICAgICAgcmV0dXJuIF9kaWN0LmdldFN0cmluZyhfcnMsICgoTnVtYmVyKSBv\nYmopLmludFZhbHVlKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBUaW1lIGdl\ndFRpbWVJbnRlcm5hbChPYmplY3Qgb2JqLCBDYWxlbmRhciBjYWwsIEpvaW5z\nIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBfZGljdC5nZXRUaW1lKF9ycywgKChOdW1iZXIpIG9iaikuaW50\nVmFsdWUoKSwgY2FsKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgVGltZXN0YW1w\nIGdldFRpbWVzdGFtcEludGVybmFsKE9iamVjdCBvYmosIENhbGVuZGFyIGNh\nbCwKICAgICAgICBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0VGltZXN0YW1wKF9y\ncywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSwgY2FsKTsKICAgIH0KCiAg\nICBwdWJsaWMgYm9vbGVhbiB3YXNOdWxsKCkKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3JzLndhc051bGwoKTsKICAg\nIH0KCiAgICBwcm90ZWN0ZWQgT2JqZWN0IHRyYW5zbGF0ZShPYmplY3Qgb2Jq\nLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgTnVtYmVyKQogICAgICAgICAg\nICByZXR1cm4gb2JqOwogICAgICAgIHJldHVybiBOdW1iZXJzLnZhbHVlT2Yo\nZmluZE9iamVjdChvYmosIGpvaW5zKSk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gdGhlIDEtYmFzZWQgcmVzdWx0IHNldCBpbmRleCBmb3IgdGhl\nIGdpdmVuIGNvbHVtbiBvciBpZCwgb3IgYQogICAgICogbm9uLXBvc2l0aXZl\nIG51bWJlciBpZiB0aGUgY29sdW1uIGlzIG5vdCBjb250YWluZWQgaW4gdGhp\ncyByZXN1bHQuCiAgICAgKi8KICAgIHByb3RlY3RlZCBpbnQgZmluZE9iamVj\ndChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICB0cnkgewogICAgICAgICAgU3RyaW5nIHMx\nID0gb2JqLnRvU3RyaW5nKCk7CiAgICAgICAgICBEQklkZW50aWZpZXIgc05h\nbWUgPSBEQklkZW50aWZpZXIubmV3Q29sdW1uKG9iai50b1N0cmluZygpKTsK\nICAgICAgICAgIHJldHVybiBnZXRSZXN1bHRTZXQoKS5maW5kQ29sdW1uKF9k\naWN0LmNvbnZlcnRTY2hlbWFDYXNlKHNOYW1lKSk7CiAgICAgICAgfSBjYXRj\naCAoU1FMRXhjZXB0aW9uIHNlKSB7CiAgICAgICAgICAgIHJldHVybiAwOwog\nICAgICAgIH0KICAgIH0KICAKICAgIHByb3RlY3RlZCBJbnB1dFN0cmVhbSBn\nZXRMT0JTdHJlYW1JbnRlcm5hbChKREJDU3RvcmUgc3RvcmUsIE9iamVjdCBv\nYmosCiAgICAgICAgSm9pbnMgam9pbnMpIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfZGljdC5nZXRMT0JTdHJlYW0oc3RvcmUsIF9y\ncywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9Cn0K\n","encoding":"base64"}

