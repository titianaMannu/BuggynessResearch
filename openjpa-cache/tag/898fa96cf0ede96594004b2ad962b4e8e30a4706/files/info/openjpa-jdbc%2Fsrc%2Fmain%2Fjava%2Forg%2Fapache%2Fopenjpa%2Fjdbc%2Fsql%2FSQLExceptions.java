{"sha":"d06501afc269bcf6ec380ceeeaf019efcdd3002f","node_id":"MDQ6QmxvYjIwNjM2NDpkMDY1MDFhZmMyNjliY2Y2ZWMzODBjZWVlYWYwMTllZmNkZDMwMDJm","size":5480,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d06501afc269bcf6ec380ceeeaf019efcdd3002f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5zcWwuU1FMRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGlsLkxpbmtl\nZExpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuY29uZi5PcGVuSlBBQ29uZmlndXJhdGlvbjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuT3BlbkpQQVN0YXRlTWFuYWdl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6\nZXIuTWVzc2FnZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkxv\nY2tFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5P\ncGVuSlBBRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0\naWwuU3RvcmVFeGNlcHRpb247CgovKioKICogSGVscGVyIGNsYXNzIGZvciBj\nb252ZXJ0aW5nIGEge0BsaW5rIFNRTEV4Y2VwdGlvbn0gaW50bwogKiB0aGUg\nYXBwcm9wcmlhdGUgT3BlbkpQQSB0eXBlLgogKgogKiBAYXV0aG9yIE1hcmMg\nUHJ1ZCdob21tZWF1eAogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMgY2xhc3Mg\nU1FMRXhjZXB0aW9ucyB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU1FM\nRXhjZXB0aW9uW10gRU1QVFlfRVhDRVBTID0gbmV3IFNRTEV4Y2VwdGlvblsw\nXTsKCiAgICAvKioKICAgICAqIENvbnZlcnQgdGhlIHNwZWNpZmllZCBleGNl\ncHRpb24gaW50byBhIHtAbGluayBTdG9yZUV4Y2VwdGlvbn0uCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgT3BlbkpQQUV4Y2VwdGlvbiBnZXRTdG9yZShT\nUUxFeGNlcHRpb24gc2UpIHsKICAgICAgICByZXR1cm4gZ2V0U3RvcmUoc2Us\nIG51bGwsIG51bGwpOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCB0\naGUgc3BlY2lmaWVkIGV4Y2VwdGlvbiBpbnRvIGEge0BsaW5rIE9wZW5KUEFF\neGNlcHRpb259LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIE9wZW5KUEFF\neGNlcHRpb24gZ2V0U3RvcmUoU1FMRXhjZXB0aW9uIHNlLCBPYmplY3QgZmFp\nbGVkKSB7CiAgICAgICAgcmV0dXJuIGdldFN0b3JlKHNlLCBmYWlsZWQsIG51\nbGwpOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCB0aGUgc3BlY2lm\naWVkIGV4Y2VwdGlvbiBpbnRvIGEge0BsaW5rIFN0b3JlRXhjZXB0aW9ufS4K\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBPcGVuSlBBRXhjZXB0aW9uIGdl\ndFN0b3JlKFNRTEV4Y2VwdGlvbiBzZSwKICAgICAgICBEQkRpY3Rpb25hcnkg\nZGljdCkgewogICAgICAgIHJldHVybiBnZXRTdG9yZShzZS5nZXRNZXNzYWdl\nKCksIHNlLCBkaWN0KTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnZlcnQg\ndGhlIHNwZWNpZmllZCBleGNlcHRpb24gaW50byBhIHtAbGluayBTdG9yZUV4\nY2VwdGlvbn0uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgT3BlbkpQQUV4\nY2VwdGlvbiBnZXRTdG9yZShTUUxFeGNlcHRpb24gc2UsCiAgICAgICAgREJE\naWN0aW9uYXJ5IGRpY3QsIGludCBsZXZlbCkgewogICAgICAgIHJldHVybiBn\nZXRTdG9yZShzZS5nZXRNZXNzYWdlKCksIHNlLCBkaWN0LCBsZXZlbCk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBDb252ZXJ0IHRoZSBzcGVjaWZpZWQgZXhj\nZXB0aW9uIGludG8gYSB7QGxpbmsgU3RvcmVFeGNlcHRpb259LgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIE9wZW5KUEFFeGNlcHRpb24gZ2V0U3RvcmUo\nU1FMRXhjZXB0aW9uIHNlLCBPYmplY3QgZmFpbGVkLAogICAgICAgIERCRGlj\ndGlvbmFyeSBkaWN0KSB7CiAgICAgICAgcmV0dXJuIGdldFN0b3JlKHNlLmdl\ndE1lc3NhZ2UoKSwgc2UsIGZhaWxlZCwgZGljdCwgLTEpOwogICAgfQoKICAg\nIC8qKgogICAgICogQ29udmVydCB0aGUgc3BlY2lmaWVkIGV4Y2VwdGlvbiBp\nbnRvIGEge0BsaW5rIFN0b3JlRXhjZXB0aW9ufS4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBPcGVuSlBBRXhjZXB0aW9uIGdldFN0b3JlKFNRTEV4Y2Vw\ndGlvbiBzZSwgT2JqZWN0IGZhaWxlZCwKICAgICAgICBEQkRpY3Rpb25hcnkg\nZGljdCwgaW50IGxldmVsKSB7CiAgICAgICAgcmV0dXJuIGdldFN0b3JlKHNl\nLmdldE1lc3NhZ2UoKSwgc2UsIGZhaWxlZCwgZGljdCwgbGV2ZWwpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ29udmVydCB0aGUgc3BlY2lmaWVkIGV4Y2Vw\ndGlvbiBpbnRvIGEge0BsaW5rIFN0b3JlRXhjZXB0aW9ufS4KICAgICAqLwog\nICAgcHVibGljIHN0YXRpYyBPcGVuSlBBRXhjZXB0aW9uIGdldFN0b3JlKE1l\nc3NhZ2UgbXNnLCBTUUxFeGNlcHRpb24gc2UsCiAgICAgICAgREJEaWN0aW9u\nYXJ5IGRpY3QpIHsKICAgICAgICByZXR1cm4gZ2V0U3RvcmUobXNnLmdldE1l\nc3NhZ2UoKSwgc2UsIG51bGwsIGRpY3QsIC0xKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIENvbnZlcnQgdGhlIHNwZWNpZmllZCBleGNlcHRpb24gaW50byBh\nIHtAbGluayBTdG9yZUV4Y2VwdGlvbn0uCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgT3BlbkpQQUV4Y2VwdGlvbiBnZXRTdG9yZShNZXNzYWdlIG1zZywg\nU1FMRXhjZXB0aW9uIHNlLAogICAgICAgIERCRGljdGlvbmFyeSBkaWN0LCBp\nbnQgbGV2ZWwpIHsKICAgICAgICByZXR1cm4gZ2V0U3RvcmUobXNnLmdldE1l\nc3NhZ2UoKSwgc2UsIG51bGwsIGRpY3QsIGxldmVsKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIENvbnZlcnQgdGhlIHNwZWNpZmllZCBleGNlcHRpb24gaW50\nbyBhIHtAbGluayBTdG9yZUV4Y2VwdGlvbn0uCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgT3BlbkpQQUV4Y2VwdGlvbiBnZXRTdG9yZShTdHJpbmcgbXNn\nLCBTUUxFeGNlcHRpb24gc2UsCiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3Qp\nIHsKICAgICAgICByZXR1cm4gZ2V0U3RvcmUobXNnLCBzZSwgbnVsbCwgZGlj\ndCwgLTEpOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCB0aGUgc3Bl\nY2lmaWVkIGV4Y2VwdGlvbiBpbnRvIGEge0BsaW5rIFN0b3JlRXhjZXB0aW9u\nfS4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBPcGVuSlBBRXhjZXB0aW9u\nIGdldFN0b3JlKFN0cmluZyBtc2csIFNRTEV4Y2VwdGlvbiBzZSwKICAgICAg\nICBEQkRpY3Rpb25hcnkgZGljdCwgaW50IGxldmVsKSB7CiAgICAgICAgcmV0\ndXJuIGdldFN0b3JlKG1zZywgc2UsIG51bGwsIGRpY3QsIGxldmVsKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIENvbnZlcnQgdGhlIHNwZWNpZmllZCBleGNl\ncHRpb24gaW50byBhIHtAbGluayBTdG9yZUV4Y2VwdGlvbn0uCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgT3BlbkpQQUV4Y2VwdGlvbiBnZXRTdG9yZShT\ndHJpbmcgbXNnLCBTUUxFeGNlcHRpb24gc2UsCiAgICAgICAgT2JqZWN0IGZh\naWxlZCwgREJEaWN0aW9uYXJ5IGRpY3QpIHsKICAgICAgICByZXR1cm4gZ2V0\nU3RvcmUobXNnLCBzZSwgZmFpbGVkLCBkaWN0LCAtMSk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBDb252ZXJ0IHRoZSBzcGVjaWZpZWQgZXhjZXB0aW9uIGlu\ndG8gYSB7QGxpbmsgU3RvcmVFeGNlcHRpb259LgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIE9wZW5KUEFFeGNlcHRpb24gZ2V0U3RvcmUoU3RyaW5nIG1z\nZywgU1FMRXhjZXB0aW9uIHNlLAogICAgICAgIE9iamVjdCBmYWlsZWQsIERC\nRGljdGlvbmFyeSBkaWN0LCBpbnQgbGV2ZWwpIHsKICAgICAgICBpZiAobXNn\nID09IG51bGwpCiAgICAgICAgICAgIG1zZyA9IHNlLmdldENsYXNzKCkuZ2V0\nTmFtZSgpOwogICAgICAgIFNRTEV4Y2VwdGlvbltdIHNlcyA9IGdldFNRTEV4\nY2VwdGlvbnMoc2UpOwogICAgICAgIE9wZW5KUEFFeGNlcHRpb24gc3RvcmVF\neCA9IChkaWN0ID09IG51bGwpID8gbmV3IFN0b3JlRXhjZXB0aW9uKG1zZyku\nc2V0RmFpbGVkT2JqZWN0KGZhaWxlZCkKICAgICAgICAgICAgICAgIC5zZXRO\nZXN0ZWRUaHJvd2FibGVzKHNlcykgOiBkaWN0Lm5ld1N0b3JlRXhjZXB0aW9u\nKG1zZywgc2VzLCBmYWlsZWQpOwogICAgICAgIGlmIChsZXZlbCAhPSAtMSAm\nJiBzdG9yZUV4LmdldFN1YnR5cGUoKSA9PSBTdG9yZUV4Y2VwdGlvbi5MT0NL\nKSB7CiAgICAgICAgICAgIExvY2tFeGNlcHRpb24gbG9ja0V4ID0gKExvY2tF\neGNlcHRpb24pIHN0b3JlRXg7CiAgICAgICAgICAgIGxvY2tFeC5zZXRMb2Nr\nTGV2ZWwobGV2ZWwpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RvcmVF\neDsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFuIGFycmF5\nIG9mIHtAbGluayBTUUxFeGNlcHRpb259IGluc3RhbmNlcyBmb3IgdGhlIHNw\nZWNpZmllZAogICAgICogZXhjZXB0aW9uLgogICAgICovCiAgICBwcml2YXRl\nIHN0YXRpYyBTUUxFeGNlcHRpb25bXSBnZXRTUUxFeGNlcHRpb25zKFNRTEV4\nY2VwdGlvbiBzZSkgewogICAgICAgIGlmIChzZSA9PSBudWxsKQogICAgICAg\nICAgICByZXR1cm4gRU1QVFlfRVhDRVBTOwoKICAgICAgICBMaXN0PFNRTEV4\nY2VwdGlvbj4gZXJycyA9IG5ldyBMaW5rZWRMaXN0PFNRTEV4Y2VwdGlvbj4o\nKTsKICAgICAgICB3aGlsZSAoc2UgIT0gbnVsbCAmJiAhZXJycy5jb250YWlu\ncyhzZSkpIHsKICAgICAgICAgICAgZXJycy5hZGQoc2UpOwogICAgICAgICAg\nICBzZSA9IHNlLmdldE5leHRFeGNlcHRpb24oKTsKICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIChTUUxFeGNlcHRpb25bXSkgZXJycy50b0FycmF5KG5ldyBT\nUUxFeGNlcHRpb25bZXJycy5zaXplKCldKTsKICAgIH0KfQo=\n","encoding":"base64"}

