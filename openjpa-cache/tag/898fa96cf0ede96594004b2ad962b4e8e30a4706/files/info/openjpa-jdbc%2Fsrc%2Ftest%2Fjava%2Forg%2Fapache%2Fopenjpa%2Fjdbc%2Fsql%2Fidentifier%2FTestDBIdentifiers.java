{"sha":"095d509388fac534141f7928411f281a347447f8","node_id":"MDQ6QmxvYjIwNjM2NDowOTVkNTA5Mzg4ZmFjNTM0MTQxZjc5Mjg0MTFmMjgxYTM0NzQ0N2Y4","size":12792,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/095d509388fac534141f7928411f281a347447f8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuaWRlbnRpZmll\ncjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5pZGVudGlmaWVy\nLkRCSWRlbnRpZmllcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLmlkZW50aWZpZXIuUXVhbGlmaWVkREJJZGVudGlmaWVyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuaWRlbnRpZmllci5EQklkZW50aWZpZXIu\nREJJZGVudGlmaWVyVHlwZTsKCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVz\ndENhc2U7CgovKioKICogVGVzdCBvcGVyYXRpb25zIG9uIERCSWRlbnRpZmll\nciBhbmQgUXVhbGlmaWVkREJJZGVudGlmaWVyLgogKgogKi8KcHVibGljIGNs\nYXNzIFRlc3REQklkZW50aWZpZXJzIGV4dGVuZHMgVGVzdENhc2UgewoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RTY2hlbWFPcHMoKSB7CiAgICAgICAgLy8gVXNl\nIGEgc2NoZW1hIG5hbWUgd2l0aCBwdW5jdHVhdGlvbi4gIEl0IHdpbGwgZ2V0\nIG5vcm1hbGl6ZWQgd2l0aAogICAgICAgIC8vIGRlbGltaXRlcnMuCiAgICAg\nICAgUXVhbGlmaWVkREJJZGVudGlmaWVyIHAxID0gUXVhbGlmaWVkREJJZGVu\ndGlmaWVyLm5ld1BhdGgoREJJZGVudGlmaWVyLm5ld1NjaGVtYSgibXkuc2No\nZW1hIikpOwogICAgICAgIERCSWRlbnRpZmllciBzMSA9IERCSWRlbnRpZmll\nci5uZXdTY2hlbWEoIm15LnNjaGVtYSIpOwogICAgICAgIGFzc2VydFRydWUo\nUXVhbGlmaWVkREJJZGVudGlmaWVyLmVxdWFsKHAxLCBzMSkpOwogICAgICAg\nIGFzc2VydEVxdWFscygiXCJteS5zY2hlbWFcIiIsIHAxLmdldE5hbWUoKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJcIm15LnNjaGVtYVwiIiwgczEuZ2V0\nTmFtZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMocDEuZ2V0VHlwZSgpLCBE\nQklkZW50aWZpZXJUeXBlLlNDSEVNQSk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKHMxLmdldFR5cGUoKSwgREJJZGVudGlmaWVyVHlwZS5TQ0hFTUEpOwogICAg\nICAgIGFzc2VydEZhbHNlKHMxIGluc3RhbmNlb2YgUXVhbGlmaWVkREJJZGVu\ndGlmaWVyKTsKCiAgICAgICAgUXVhbGlmaWVkREJJZGVudGlmaWVyIHAyID0g\nUXVhbGlmaWVkREJJZGVudGlmaWVyLm5ld1BhdGgoREJJZGVudGlmaWVyLm5l\nd1NjaGVtYSgiU0NIRU1BIikpOwogICAgICAgIERCSWRlbnRpZmllciBzMiA9\nIERCSWRlbnRpZmllci5uZXdTY2hlbWEoIlNDSEVNQTIiKTsKICAgICAgICBh\nc3NlcnRGYWxzZShRdWFsaWZpZWREQklkZW50aWZpZXIuZXF1YWwocDIsIHMy\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJTQ0hFTUEiLCBwMi5nZXROYW1l\nKCkpOwogICAgICAgIGFzc2VydEVxdWFscygiU0NIRU1BMiIsIHMyLmdldE5h\nbWUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHAyLmdldFR5cGUoKSwgREJJ\nZGVudGlmaWVyVHlwZS5TQ0hFTUEpOwogICAgICAgIGFzc2VydEVxdWFscyhz\nMi5nZXRUeXBlKCksIERCSWRlbnRpZmllclR5cGUuU0NIRU1BKTsKICAgICAg\nICBhc3NlcnRUcnVlKHAyIGluc3RhbmNlb2YgUXVhbGlmaWVkREJJZGVudGlm\naWVyKTsKICAgICAgICBhc3NlcnRGYWxzZShzMiBpbnN0YW5jZW9mIFF1YWxp\nZmllZERCSWRlbnRpZmllcik7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndFRhYmxlT3BzKCkgewogICAgICAgIERCSWRlbnRpZmllciBuYW1lID0gREJJ\nZGVudGlmaWVyLm5ld1RhYmxlKCJ0YWJsZSIpOwogICAgICAgIGFzc2VydEVx\ndWFscygidGFibGUiLCBuYW1lLmdldE5hbWUoKSk7CiAgICAgICAgCiAgICAg\nICAgLy8gQXNzZXJ0IG5hbWUgaXMgbm9ybWFsaXplZCB1c2luZyBkZWxpbWl0\nZXJzCiAgICAgICAgbmFtZSA9IERCSWRlbnRpZmllci5uZXdUYWJsZSgibXkg\ndGFibGUiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIlwibXkgdGFibGVcIiIs\nIG5hbWUuZ2V0TmFtZSgpKTsKICAgICAgICAvLyBBc3NlcnQgbmFtZSBkb2Vz\nIG5vdCBnZXQgc3BsaXQgaW50byBtdWx0aXBsZSBpZGVudGlmaWVycwogICAg\nICAgIERCSWRlbnRpZmllcltdIG5hbWVzID0gUXVhbGlmaWVkREJJZGVudGlm\naWVyLnNwbGl0UGF0aChuYW1lKTsKICAgICAgICBhc3NlcnRUYWJsZUVxdWFs\ncyhuYW1lcywgbnVsbCwgIlwibXkgdGFibGVcIiIpOwogICAgICAgIAogICAg\nICAgIC8vIFNwbGl0IGEgZGVsaW1pdGVkIHNjaGVtYSBxdWFsaWZpZWQgdGFi\nbGUgbmFtZQogICAgICAgIG5hbWUgPSBEQklkZW50aWZpZXIubmV3VGFibGUo\nIlwibXkuc2NoZW1hXCIuXCJteS50YWJsZVwiIik7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJcIm15LnNjaGVtYVwiLlwibXkudGFibGVcIiIsIG5hbWUuZ2V0\nTmFtZSgpKTsKICAgICAgICBuYW1lcyA9IFF1YWxpZmllZERCSWRlbnRpZmll\nci5zcGxpdFBhdGgobmFtZSk7CiAgICAgICAgYXNzZXJ0VGFibGVFcXVhbHMo\nbmFtZXMsICJcIm15LnNjaGVtYVwiIiwgIlwibXkudGFibGVcIiIpOwogICAg\nICAgIAogICAgICAgIC8vIFNwbGl0IGEgbm9uLWRlbGltaXRlZCBzY2hlbWEg\ncXVhbGlmaWVkIHRhYmxlIG5hbWUKICAgICAgICBuYW1lID0gREJJZGVudGlm\naWVyLm5ld1RhYmxlKCJteV9zY2hlbWEubXlfdGFibGUiKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoIm15X3NjaGVtYS5teV90YWJsZSIsIG5hbWUuZ2V0TmFt\nZSgpKTsKICAgICAgICBuYW1lcyA9IFF1YWxpZmllZERCSWRlbnRpZmllci5z\ncGxpdFBhdGgobmFtZSk7CiAgICAgICAgYXNzZXJ0VGFibGVFcXVhbHMobmFt\nZXMsICJteV9zY2hlbWEiLCAibXlfdGFibGUiKTsKCiAgICAgICAgLy8gVXNl\nIFF1YWxpZmllZCBJZGVudGlmaWVyIHRvIGNyZWF0ZSBhIGNvbXBvdW5kIG5v\ncm1hbGl6ZWQgc2NoZW1hIGFuZCB0YWJsZSBuYW1lCiAgICAgICAgREJJZGVu\ndGlmaWVyIHROYW1lID0gREJJZGVudGlmaWVyLm5ld1RhYmxlKCJteSB0YWJs\nZSIpOwogICAgICAgIERCSWRlbnRpZmllciBzTmFtZSA9IERCSWRlbnRpZmll\nci5uZXdTY2hlbWEoIm15IHNjaGVtYSIpOwogICAgICAgIFF1YWxpZmllZERC\nSWRlbnRpZmllciBwYXRoID0gUXVhbGlmaWVkREJJZGVudGlmaWVyLm5ld1Bh\ndGgoc05hbWUsIHROYW1lKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIlwibXkg\nc2NoZW1hXCIuXCJteSB0YWJsZVwiIiwgcGF0aC5nZXROYW1lKCkpOwogICAg\nICAgIGFzc2VydEVxdWFscyh0TmFtZS5nZXROYW1lKCksIHBhdGguZ2V0QmFz\nZU5hbWUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHNOYW1lLmdldE5hbWUo\nKSwgcGF0aC5nZXRTY2hlbWFOYW1lKCkuZ2V0TmFtZSgpKTsKICAgICAgICAK\nICAgICAgICAvLyBVc2UgUXVhbGlmaWVkIElkZW50aWZpZXIgdG8gY3JlYXRl\nIGEgY29tcG91bmQgbm9uLW5vcm1hbGl6ZWQgc2NoZW1hIGFuZCB0YWJsZSBu\nYW1lCiAgICAgICAgdE5hbWUgPSBEQklkZW50aWZpZXIubmV3VGFibGUoIm15\nX3RhYmxlIik7CiAgICAgICAgc05hbWUgPSBEQklkZW50aWZpZXIubmV3U2No\nZW1hKCJteV9zY2hlbWEiKTsKICAgICAgICBwYXRoID0gUXVhbGlmaWVkREJJ\nZGVudGlmaWVyLm5ld1BhdGgoc05hbWUsIHROYW1lKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoIm15X3NjaGVtYS5teV90YWJsZSIsIHBhdGguZ2V0TmFtZSgp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHModE5hbWUuZ2V0TmFtZSgpLCBwYXRo\nLmdldEJhc2VOYW1lKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhzTmFtZS5n\nZXROYW1lKCksIHBhdGguZ2V0U2NoZW1hTmFtZSgpLmdldE5hbWUoKSk7CiAg\nICAgICAgCiAgICAgICAgUXVhbGlmaWVkREJJZGVudGlmaWVyIHAxID0gUXVh\nbGlmaWVkREJJZGVudGlmaWVyLm5ld1BhdGgoREJJZGVudGlmaWVyLm5ld1Nj\naGVtYSgic2NoZW1hIiksIAogICAgICAgICAgICBEQklkZW50aWZpZXIubmV3\nVGFibGUoIm15IHRhYmxlIikpOwogICAgICAgIFF1YWxpZmllZERCSWRlbnRp\nZmllciBwMiA9IFF1YWxpZmllZERCSWRlbnRpZmllci5uZXdQYXRoKERCSWRl\nbnRpZmllci5uZXdTY2hlbWEoInNjaGVtYSIpLCAKICAgICAgICAgICAgREJJ\nZGVudGlmaWVyLm5ld1RhYmxlKCJcIm15IHRhYmxlXCIiKSk7ICAgICAgICAK\nICAgICAgICBRdWFsaWZpZWREQklkZW50aWZpZXIgcDMgPSBRdWFsaWZpZWRE\nQklkZW50aWZpZXIubmV3UGF0aChEQklkZW50aWZpZXIubmV3U2NoZW1hKCJz\nY2hlbWEiKSwgCiAgICAgICAgICAgIERCSWRlbnRpZmllci5uZXdUYWJsZSgi\nbXlfdGFibGUiKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShwMS5lcXVhbHMocDIp\nKTsKICAgICAgICBhc3NlcnRGYWxzZShwMS5lcXVhbHMocDMpKTsKICAgICAg\nICBhc3NlcnRGYWxzZShwMi5lcXVhbHMocDMpKTsKICAgICAgICBhc3NlcnRG\nYWxzZShwMS5lcXVhbHMobnVsbCkpOwogICAgICAgIGFzc2VydEZhbHNlKHAx\nLmVxdWFscyhEQklkZW50aWZpZXIuTlVMTCkpOwogICAgfQogICAgCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0Q29sdW1uT3BzKCkgewogICAgICAgIAogICAgICAg\nIERCSWRlbnRpZmllciBjMCA9IERCSWRlbnRpZmllci5uZXdDb2x1bW4oIlwi\nY29sLjFcIiIpOwogICAgICAgIGFzc2VydEVxdWFscygiXCJjb2wuMVwiIiwg\nYzAuZ2V0TmFtZSgpKTsKICAgICAgICBhc3NlcnRUcnVlIChjMCBpbnN0YW5j\nZW9mIFF1YWxpZmllZERCSWRlbnRpZmllcik7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKGMwLmdldFR5cGUoKSwgREJJZGVudGlmaWVyVHlwZS5DT0xVTU4pOwog\nICAgICAgIAogICAgICAgIC8vIFRlc3QgMyBwYXJ0IGNvbHVtbiBuYW1lIHdp\ndGggbWl4ZWQgZGVsaW1pdGluZwogICAgICAgIERCSWRlbnRpZmllciBjMSA9\nIERCSWRlbnRpZmllci5uZXdDb2x1bW4oImNvbHVtbiAxIik7CiAgICAgICAg\nREJJZGVudGlmaWVyIHQxID0gREJJZGVudGlmaWVyLm5ld1RhYmxlKCJ0YWJs\nZSIpOwogICAgICAgIERCSWRlbnRpZmllciBzMSA9IERCSWRlbnRpZmllci5u\nZXdTY2hlbWEoIlwibXkgc2NoZW1hXCIiKTsKICAgICAgICAKICAgICAgICBE\nQklkZW50aWZpZXIgcDEgPSBRdWFsaWZpZWREQklkZW50aWZpZXIubmV3UGF0\naChzMSwgdDEsIGMxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIlwibXkgc2No\nZW1hXCIudGFibGUuXCJjb2x1bW4gMVwiIiwgcDEuZ2V0TmFtZSgpKTsKICAg\nICAgICAKICAgICAgICBEQklkZW50aWZpZXIgYzIgPSBEQklkZW50aWZpZXIu\nbmV3Q29sdW1uKCJcImNvbHVtbl8yXCIiKTsKICAgICAgICAvLyBDcmVhdGUg\nYSBuZXcgdGFibGUgbmFtZSB3aXRob3V0IGRlbGltaXRlcnMsIGJ1dCBzd2l0\nY2ggb24gdGhlCiAgICAgICAgLy8gZGVsaW1pdCBmbGFnLiAgT3RoZXJ3aXNl\nLCBpdCB3aWxsIGdldCBwYXJzZWQgYXMgYSBtdWx0aS1wYXJ0IG5hbWUuCiAg\nICAgICAgREJJZGVudGlmaWVyIHQyID0gREJJZGVudGlmaWVyLm5ld1RhYmxl\nKCJ0YWJsZS4yIiwgdHJ1ZSk7CiAgICAgICAgREJJZGVudGlmaWVyIHAyID0g\nUXVhbGlmaWVkREJJZGVudGlmaWVyLm5ld1BhdGgodDIsIGMyKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoIlwidGFibGUuMlwiLlwiY29sdW1uXzJcIiIsIHAy\nLmdldE5hbWUoKSk7CiAgICAgICAgCiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHRlc3REQklkZW50aWZpZXJPcHMoKSB7CiAgICAgICAgCiAgICAgICAg\nLy8gVGVzdCB0cnVuY2F0ZQogICAgICAgIERCSWRlbnRpZmllciBuMSA9IERC\nSWRlbnRpZmllci5uZXdDb2x1bW4oImFiY2RlZmdoIik7CiAgICAgICAgbjEg\nPSBEQklkZW50aWZpZXIudHJ1bmNhdGUobjEsNik7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJhYiIsIG4xLmdldE5hbWUoKSk7CgogICAgICAgIC8vIFRlc3Qg\ndHJ1bmNhdGUgd2l0aCBkZWxpbWl0ZXJzCiAgICAgICAgREJJZGVudGlmaWVy\nIG4yID0gREJJZGVudGlmaWVyLm5ld0NvbHVtbigiXCJhYmNkIGVmZ2hcIiIp\nOwogICAgICAgIG4yID0gREJJZGVudGlmaWVyLnRydW5jYXRlKG4yLDMpOwog\nICAgICAgIGFzc2VydEVxdWFscygiXCJhYmNkIGVcIiIsIG4yLmdldE5hbWUo\nKSk7CgogICAgICAgIC8vIFRlc3QgYXBwZW5kCiAgICAgICAgREJJZGVudGlm\naWVyIG4zID0gREJJZGVudGlmaWVyLm5ld0NvbHVtbigiYWJjZGVmZ2giKTsK\nICAgICAgICBuMyA9IERCSWRlbnRpZmllci5hcHBlbmQobjMsImlqayIpOwog\nICAgICAgIGFzc2VydEVxdWFscygiYWJjZGVmZ2hpamsiLCBuMy5nZXROYW1l\nKCkpOwoKICAgICAgICAvLyBUZXN0IGFwcGVuZCB3aXRoIHRoZSBiYXNlIG5h\nbWUgZGVsaW1pdGVkCiAgICAgICAgREJJZGVudGlmaWVyIG40ID0gREJJZGVu\ndGlmaWVyLm5ld0NvbHVtbigiXCJhYmNkIGVmZ2hcIiIpOwogICAgICAgIG40\nID0gREJJZGVudGlmaWVyLmFwcGVuZChuNCwgImkgayIpOwogICAgICAgIGFz\nc2VydEVxdWFscygiXCJhYmNkIGVmZ2hpIGtcIiIsIG40LmdldE5hbWUoKSk7\nCiAgICAgICAgCiAgICAgICAgLy8gVGVzdCBhcHBlbmQgd2l0aCBib3RoIG5h\nbWVzIGRlbGltaXRlZAogICAgICAgIERCSWRlbnRpZmllciBuNSA9IERCSWRl\nbnRpZmllci5uZXdDb2x1bW4oIlwiYWJjZCBlZmdoXCIiKTsKICAgICAgICBu\nNSA9IERCSWRlbnRpZmllci5hcHBlbmQobjUsICJcImkga1wiIik7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKCJcImFiY2QgZWZnaGkga1wiIiwgbjUuZ2V0TmFt\nZSgpKTsKCiAgICAgICAgLy8gVGVzdCBjbG9uZQogICAgICAgIERCSWRlbnRp\nZmllciBjbjEgPSBEQklkZW50aWZpZXIubmV3VGFibGUoInNjaC50YmwiKTsK\nICAgICAgICBEQklkZW50aWZpZXIgY24yID0gY24xLmNsb25lKCk7CiAgICAg\nICAgYXNzZXJ0RmFsc2UoY24xID09IGNuMik7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKGNuMS5nZXROYW1lKCksIGNuMi5nZXROYW1lKCkpOwogICAgICAgIGFz\nc2VydEVxdWFscyhjbjEsIGNuMik7CiAgICAgICAgCiAgICAgICAgREJJZGVu\ndGlmaWVyIHRibCA9IERCSWRlbnRpZmllci5uZXdUYWJsZSgidGJsIik7CiAg\nICAgICAgREJJZGVudGlmaWVyIHNjaCA9IERCSWRlbnRpZmllci5uZXdTY2hl\nbWEoInNjaCIpOwogICAgICAgIFF1YWxpZmllZERCSWRlbnRpZmllciBwYXRo\nID0gUXVhbGlmaWVkREJJZGVudGlmaWVyLm5ld1BhdGgoc2NoLCB0YmwpOwog\nICAgICAgIFF1YWxpZmllZERCSWRlbnRpZmllciBwYXRoMiA9IHBhdGguY2xv\nbmUoKTsKICAgICAgICBhc3NlcnRFcXVhbHModGJsLmdldE5hbWUoKSwgcGF0\naC5nZXRCYXNlTmFtZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoc2NoLCBw\nYXRoLmdldFNjaGVtYU5hbWUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHRi\nbC5nZXROYW1lKCksIHBhdGgyLmdldEJhc2VOYW1lKCkpOwogICAgICAgIGFz\nc2VydEVxdWFscyhzY2gsIHBhdGgyLmdldFNjaGVtYU5hbWUoKSk7CiAgICAg\nICAgCiAgICAgICAgREJJZGVudGlmaWVyIHRibDIgPSBEQklkZW50aWZpZXIu\nbmV3VGFibGUoInRibDIiKTsKICAgICAgICBEQklkZW50aWZpZXIgc2NoMiA9\nIERCSWRlbnRpZmllci5uZXdTY2hlbWEoInNjaDIiKTsKICAgICAgICBEQklk\nZW50aWZpZXIgY29sID0gREJJZGVudGlmaWVyLm5ld0NvbHVtbigiY29sIik7\nCiAgICAgICAgUXVhbGlmaWVkREJJZGVudGlmaWVyIGNwYXRoID0gUXVhbGlm\naWVkREJJZGVudGlmaWVyLm5ld1BhdGgoc2NoMiwgdGJsMiwgY29sKTsKICAg\nICAgICBRdWFsaWZpZWREQklkZW50aWZpZXIgY3BhdGgyID0gY3BhdGguY2xv\nbmUoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoY29sLmdldE5hbWUoKSwgY3Bh\ndGgyLmdldEJhc2VOYW1lKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhzY2gy\nLCBjcGF0aDIuZ2V0U2NoZW1hTmFtZSgpKTsKICAgICAgICBhc3NlcnRFcXVh\nbHModGJsMiwgY3BhdGgyLmdldE9iamVjdFRhYmxlTmFtZSgpKTsKICAgICAg\nICAKICAgICAgICAvLyBUZXN0IGRlbGltaXQgb3BlcmF0aW9uIG9uIGNyZWF0\nZQogICAgICAgIERCSWRlbnRpZmllciBkTmFtZSA9IERCSWRlbnRpZmllci5u\nZXdDb2x1bW4oIlwiSVRFTU5BTUVcIiIsIHRydWUpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygiXCJJVEVNTkFNRVwiIiwgZE5hbWUuZ2V0TmFtZSgpKTsKICAg\nICAgICAKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdFBhdGhPcHMo\nKSB7CiAgICAgICAgCiAgICAgICAgLy8gVGVzdCBlcXVhbHMgb3BlcmF0b3Ig\nd2l0aCBjYXNlIGluc2Vuc2l0aXZlIG5hbWVzCiAgICAgICAgUXVhbGlmaWVk\nREJJZGVudGlmaWVyIHAxID0gUXVhbGlmaWVkREJJZGVudGlmaWVyLm5ld1Bh\ndGgoREJJZGVudGlmaWVyLm5ld1RhYmxlKCJNeVRhYmxlIiksIAogICAgICAg\nICAgICBEQklkZW50aWZpZXIubmV3Q29sdW1uKCJteWNvbCIpKTsKICAgICAg\nICBRdWFsaWZpZWREQklkZW50aWZpZXIgcDIgPSBRdWFsaWZpZWREQklkZW50\naWZpZXIubmV3UGF0aChEQklkZW50aWZpZXIubmV3VGFibGUoIk1ZVEFCTEUi\nKSwgCiAgICAgICAgICAgIERCSWRlbnRpZmllci5uZXdDb2x1bW4oIk1ZQ09M\nIikpOwogICAgICAgIGFzc2VydFRydWUoUXVhbGlmaWVkREJJZGVudGlmaWVy\nLmVxdWFsKHAxLCBwMSkpOwogICAgICAgIAogICAgICAgIC8vIFRlc3QgZXF1\nYWxzIG9wZXJhdG9yIHdpdGggZGVsaW1pdGVkLCBjYXNlIHNlbnNpdGl2ZSBu\nYW1lcwogICAgICAgIFF1YWxpZmllZERCSWRlbnRpZmllciBwMyA9IFF1YWxp\nZmllZERCSWRlbnRpZmllci5uZXdQYXRoKERCSWRlbnRpZmllci5uZXdUYWJs\nZSgiXCJNeVRhYmxlXCIiKSwgCiAgICAgICAgICAgIERCSWRlbnRpZmllci5u\nZXdDb2x1bW4oIlwibXljb2xcIiIpKTsKICAgICAgICBRdWFsaWZpZWREQklk\nZW50aWZpZXIgcDQgPSBRdWFsaWZpZWREQklkZW50aWZpZXIubmV3UGF0aChE\nQklkZW50aWZpZXIubmV3VGFibGUoIk1ZVEFCTEUiKSwgCiAgICAgICAgICAg\nIERCSWRlbnRpZmllci5uZXdDb2x1bW4oIk1ZQ09MIikpOwogICAgICAgIFF1\nYWxpZmllZERCSWRlbnRpZmllciBwNSA9IFF1YWxpZmllZERCSWRlbnRpZmll\nci5uZXdQYXRoKERCSWRlbnRpZmllci5uZXdUYWJsZSgiXCJNeVRhYmxlXCIi\nKSwgCiAgICAgICAgICAgIERCSWRlbnRpZmllci5uZXdDb2x1bW4oIlwibXlj\nb2xcIiIpKTsKICAgICAgICBhc3NlcnRGYWxzZShRdWFsaWZpZWREQklkZW50\naWZpZXIuZXF1YWwocDMsIHA0KSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShRdWFs\naWZpZWREQklkZW50aWZpZXIuZXF1YWwocDMsIHA1KSk7CiAgICAgICAgCiAg\nICAgICAgLy8gVGVzdCBzZXRQYXRoIG1ldGhvZAogICAgICAgIFF1YWxpZmll\nZERCSWRlbnRpZmllciBwNiA9IFF1YWxpZmllZERCSWRlbnRpZmllci5uZXdQ\nYXRoKERCSWRlbnRpZmllci5uZXdUYWJsZSgiTXlUYWJsZSIpLCAKICAgICAg\nICAgICAgREJJZGVudGlmaWVyLm5ld0NvbHVtbigibXljb2wiKSk7CiAgICAg\nICAgREJJZGVudGlmaWVyIG4xID0gREJJZGVudGlmaWVyLm5ld1NjaGVtYSgi\nU2NoZW1hXzEiKTsKICAgICAgICBEQklkZW50aWZpZXIgbjIgPSBEQklkZW50\naWZpZXIubmV3VGFibGUoIlRhYmxlXzEiKTsKICAgICAgICBEQklkZW50aWZp\nZXIgbjMgPSBEQklkZW50aWZpZXIubmV3Q29sdW1uKCJDb2x1bW5fMSIpOwog\nICAgICAgIHA2LnNldFBhdGgobjEpOwogICAgICAgIGFzc2VydEVxdWFscygi\nU2NoZW1hXzEiLCBuMS5nZXROYW1lKCkpOwogICAgICAgIGFzc2VydEVxdWFs\ncyhuMS5nZXRUeXBlKCksIERCSWRlbnRpZmllclR5cGUuU0NIRU1BKTsKICAg\nICAgICAKICAgICAgICBwNi5zZXRQYXRoKG4yKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoIlRhYmxlXzEiLCBuMi5nZXROYW1lKCkpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyhuMi5nZXRUeXBlKCksIERCSWRlbnRpZmllclR5cGUuVEFCTEUp\nOwoKICAgICAgICBwNi5zZXRQYXRoKG4zKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoIkNvbHVtbl8xIiwgbjMuZ2V0TmFtZSgpKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMobjMuZ2V0VHlwZSgpLCBEQklkZW50aWZpZXJUeXBlLkNPTFVNTik7\nCgogICAgICAgIC8vIFRlc3QgaXNEZWxpbWl0ZWQgbWV0aG9kCiAgICAgICAg\nUXVhbGlmaWVkREJJZGVudGlmaWVyIHA3ID0gUXVhbGlmaWVkREJJZGVudGlm\naWVyLm5ld1BhdGgoREJJZGVudGlmaWVyLm5ld1RhYmxlKCJNeVRhYmxlIiks\nIAogICAgICAgICAgICBEQklkZW50aWZpZXIubmV3Q29sdW1uKCJteWNvbCIp\nKTsKICAgICAgICBhc3NlcnRGYWxzZShwNy5pc0RlbGltaXRlZCgpKTsKICAg\nICAgICAvLyBBbGwgaWRlbnRpZmllcnMgbm90IGRlbGltaXRlZAogICAgICAg\nIFF1YWxpZmllZERCSWRlbnRpZmllciBwOCA9IFF1YWxpZmllZERCSWRlbnRp\nZmllci5uZXdQYXRoKERCSWRlbnRpZmllci5uZXdUYWJsZSgiTXkgVGFibGUi\nKSwgCiAgICAgICAgICAgIERCSWRlbnRpZmllci5uZXdDb2x1bW4oIm15Y29s\nIikpOwogICAgICAgIGFzc2VydEZhbHNlKHA4LmlzRGVsaW1pdGVkKCkpOwog\nICAgICAgIC8vIEFsbCBpZGVudGlmaWVycyBkZWxpbWl0ZWQgYnkgZGVmYXVs\ndAogICAgICAgIFF1YWxpZmllZERCSWRlbnRpZmllciBwOSA9IFF1YWxpZmll\nZERCSWRlbnRpZmllci5uZXdQYXRoKERCSWRlbnRpZmllci5uZXdUYWJsZSgi\nTXkgVGFibGUiKSwgCiAgICAgICAgICAgIERCSWRlbnRpZmllci5uZXdDb2x1\nbW4oIm15IGNvbCIpKTsKICAgICAgICBhc3NlcnRUcnVlKHA5LmlzRGVsaW1p\ndGVkKCkpOwoKICAgICAgICAvLyBBbGwgaWRlbnRpZmllcnMgc3BlY2lmaWNh\nbGx5IGRlbGltaXRlZAogICAgICAgIFF1YWxpZmllZERCSWRlbnRpZmllciBw\nMTAgPSBRdWFsaWZpZWREQklkZW50aWZpZXIubmV3UGF0aChEQklkZW50aWZp\nZXIubmV3VGFibGUoIlwiTXlUYWJsZVwiIiksIAogICAgICAgICAgICBEQklk\nZW50aWZpZXIubmV3Q29sdW1uKCJcIm15IGNvbFwiIikpOwogICAgICAgIGFz\nc2VydFRydWUocDEwLmlzRGVsaW1pdGVkKCkpOwoKICAgICAgICAvLyBBbGwg\naWRlbnRpZmllcnMgc3BlY2lmaWNhbGx5IGRlbGltaXRlZCBzY2ggKyB0Ymwg\nKyBjb2wKICAgICAgICBRdWFsaWZpZWREQklkZW50aWZpZXIgcDExID0gUXVh\nbGlmaWVkREJJZGVudGlmaWVyLm5ld1BhdGgoREJJZGVudGlmaWVyLm5ld1Nj\naGVtYSgiXCJNeVNjaGVtYVwiIiksIAogICAgICAgICAgICBEQklkZW50aWZp\nZXIubmV3VGFibGUoIlwibXkgdGJsXCIiKSk7CiAgICAgICAgYXNzZXJ0VHJ1\nZShwMTEuaXNEZWxpbWl0ZWQoKSk7CgogICAgICAgIC8vIFRhYmxlIGlkZW50\naWZpZXIgbm90IGRlbGltaXRlZAogICAgICAgIFF1YWxpZmllZERCSWRlbnRp\nZmllciBwMTIgPSBRdWFsaWZpZWREQklkZW50aWZpZXIubmV3UGF0aChEQklk\nZW50aWZpZXIubmV3U2NoZW1hKCJcIk15U2NoZW1hXCIiKSwgCiAgICAgICAg\nICAgIERCSWRlbnRpZmllci5uZXdUYWJsZSgibXl0YmwiKSwgCiAgICAgICAg\nICAgIERCSWRlbnRpZmllci5uZXdDb2x1bW4oIlwibXkgY29sXCIiKSk7CiAg\nICAgICAgYXNzZXJ0RmFsc2UocDEyLmlzRGVsaW1pdGVkKCkpOwoKICAgIH0K\nCiAgICBwcml2YXRlIHZvaWQgYXNzZXJ0VGFibGVFcXVhbHMoREJJZGVudGlm\naWVyW10gbmFtZXMsIFN0cmluZyBzY2hlbWEsCiAgICAgICAgU3RyaW5nIHRh\nYmxlKSB7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChuYW1lcyk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKChzY2hlbWEgPT0gbnVsbCA/IDEgOiAyKSwgbmFtZXMu\nbGVuZ3RoKTsKICAgICAgICBpbnQgaWR4ID0gMDsKICAgICAgICBpZiAoc2No\nZW1hICE9IG51bGwpIHsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKERCSWRl\nbnRpZmllclR5cGUuU0NIRU1BLCBuYW1lc1tpZHhdLmdldFR5cGUoKSk7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscyhuYW1lc1tpZHhdLmdldE5hbWUoKSwg\nc2NoZW1hKTsKICAgICAgICAgICAgaWR4Kys7CiAgICAgICAgfSBlbHNlIHsK\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKERCSWRlbnRpZmllclR5cGUuVEFC\nTEUsIG5hbWVzW2lkeF0uZ2V0VHlwZSgpKTsKICAgICAgICAgICAgU3RyaW5n\nIHBhdGggPSBRdWFsaWZpZWREQklkZW50aWZpZXIuam9pbihEQklkZW50aWZp\nZXIubmV3U2NoZW1hKHNjaGVtYSksIAogICAgICAgICAgICAgICAgREJJZGVu\ndGlmaWVyLm5ld1RhYmxlKHRhYmxlKSk7CiAgICAgICAgICAgIGFzc2VydEVx\ndWFscyhuYW1lc1tpZHhdLmdldE5hbWUoKSwgcGF0aCk7CiAgICAgICAgfQog\nICAgfQogICAgCn0K\n","encoding":"base64"}

