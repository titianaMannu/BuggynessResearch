{"sha":"b3dfde43d63d5d8b2e8e512004d694ed5ad55f65","node_id":"MDQ6QmxvYjIwNjM2NDpiM2RmZGU0M2Q2M2Q1ZDhiMmU4ZTUxMjAwNGQ2OTRlZDVhZDU1ZjY1","size":5372,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b3dfde43d63d5d8b2e8e512004d694ed5ad55f65","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnRleHQuTWVzc2FnZUZvcm1hdDsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1v\nbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIuY29uZi5Db25maWd1cmFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEudXRpbC5Vc2VyRXhjZXB0aW9uOwoKLyoqCiAqIEFuIGlt\nbXV0YWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIFNwZWNpZmljYXRpb24gc3Vw\ncG9ydGVkIGJ5IE9wZW5KUEEuCiAqIAogKiBBdmFpbGFibGUgdmlhIHtAbGlu\na3BsYWluIE9wZW5KUEFDb25maWd1cmF0aW9uI2dldFNwZWNpZmljYXRpb25J\nbnN0YW5jZSgpKCl9IAogKiBmb3IgY29uZmlndXJhdGlvbiB0aGF0IG1heSBk\nZXBlbmQgb24gU3BlY2lmaWNhdGlvbiB2ZXJzaW9uLgogKiAKICogQGF1dGhv\nciBQaW5ha2kgUG9kZGFyCiAqCiAqLwpwdWJsaWMgY2xhc3MgU3BlY2lmaWNh\ndGlvbiB7CiAgICBwcml2YXRlIFN0cmluZyBfbmFtZSA9ICIiOwogICAgcHJp\ndmF0ZSBpbnQgICAgX21ham9yID0gMTsKICAgIHByaXZhdGUgU3RyaW5nIF9t\naW5vciA9ICIwIjsKICAgIHByaXZhdGUgU3RyaW5nIF9kZXNjcmlwdGlvbiA9\nICIiOwogICAgcHJpdmF0ZSBDb21wYXRpYmlsaXR5IF9jb21wYXRpYmlsaXR5\nOwoKICAgIHByaXZhdGUgc3RhdGljIExvY2FsaXplciBfbG9jID0gTG9jYWxp\nemVyLmZvclBhY2thZ2UoU3BlY2lmaWNhdGlvbi5jbGFzcyk7CiAgICAKICAg\nIC8qKgogICAgICogQ29uc3RydWN0IGZyb20gYSBTdHJpbmcgdGhhdCBlbmNv\nZGVzIG5hbWUgYW5kIHZlcnNpb24gZmllbGRzLgogICAgICogCiAgICAgKiBA\ncGFyYW0gZnVsbE5hbWUgYSBlbmNvZGVkIHN0cmluZyBpbiB0aGUgZm9sbG93\naW5nIHByZXNjcmliZWQgZm9ybWF0LgogICAgICogPGNvZGU+bmFtZSBtYWpv\nci5taW5vcjwvY29kZT4gZS5nLiA8Y29kZT5KUEEgMi4wLWRyYWZ0PC9jb2Rl\nPgogICAgICogT25seSB0aGUgJ25hbWUnIGZpZWxkIGlzIG1hbmRhdG9yeS4g\nCiAgICAgKiAnbWFqb3InIHZlcnNpb24gZGVmYXVsdHMgdG8gMSBhbmQgbXVz\ndCBiZSBhbiBpbnRlZ2VyLiAKICAgICAqICdtaW5vcicgdmVyc2lvbiBkZWZh\ndWx0cyB0byAwIGFuZCBjYW4gYmUgYSBTdHJpbmcuIAogICAgICovCiAgICBw\ndWJsaWMgU3BlY2lmaWNhdGlvbihTdHJpbmcgZnVsbE5hbWUpIHsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBPYmplY3RbXSB0b2tlbnMgPSBwYXJzZShm\ndWxsTmFtZSk7CiAgICAgICAgICAgIF9uYW1lID0gdG9rZW5zWzBdLnRvU3Ry\naW5nKCk7CiAgICAgICAgICAgIF9tYWpvciA9IHRva2Vucy5sZW5ndGggPiAx\nID8gCiAgICAgICAgICAgICAgICBJbnRlZ2VyLnBhcnNlSW50KHRva2Vuc1sx\nXS50b1N0cmluZygpKSA6IDE7CiAgICAgICAgICAgIF9taW5vciA9IHRva2Vu\ncy5sZW5ndGggPiAyID8gdG9rZW5zWzJdLnRvU3RyaW5nKCkgOiAiMCI7CiAg\nICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgdGhy\nb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoInNwZWMtd3JvbmctZm9y\nbWF0IiwgZnVsbE5hbWUpKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsKICAgICAgICByZXR1cm4gX25hbWU7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyBpbnQgZ2V0VmVyc2lvbigpIHsKICAg\nICAgICByZXR1cm4gX21ham9yOwogICAgfQogICAgCiAgICBwdWJsaWMgU3Ry\naW5nIGdldE1pbm9yVmVyc2lvbigpIHsKICAgICAgICByZXR1cm4gX21pbm9y\nOwogICAgfQogICAgCiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9u\nKCkgewogICAgICAgIHJldHVybiBfZGVzY3JpcHRpb247CiAgICB9CiAgICAK\nICAgIHB1YmxpYyBTcGVjaWZpY2F0aW9uIHNldERlc2NyaXB0aW9uKFN0cmlu\nZyBkZXNjcmlwdGlvbikgewogICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0g\nZGVzY3JpcHRpb247CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAK\nICAgIC8qKgogICAgICogQWZmaXJtcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnQg\naXMgZXF1YWwgdG8gdGhpcyByZWNlaXZlci4KICAgICAqLwogICAgcHVibGlj\nIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvdGhlcikgewogICAgICAgIGlmICh0\naGlzID09IG90aGVyKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAg\nICBpZiAob3RoZXIgPT0gbnVsbCB8fCAhdGhpcy5nZXRDbGFzcygpLmlzSW5z\ndGFuY2Uob3RoZXIpKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAg\nICAgU3BlY2lmaWNhdGlvbiB0aGF0ID0gKFNwZWNpZmljYXRpb24pb3RoZXI7\nCiAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLmVxdWFscyhfbmFtZSwgdGhp\ncy5fbmFtZSkgJiYgX21ham9yID09IHRoYXQuX21ham9yIAogICAgICAgICAg\nICAmJiBTdHJpbmdVdGlscy5lcXVhbHMoX21pbm9yLCB0aGlzLl9taW5vcik7\nCiAgICB9ICAgIAogICAgCiAgICAvKioKICAgICAqIEFmZmlybXMgaWYgdGhl\nIGdpdmVuIHNwZWNpZmljYXRpb24gaGFzIHRoZSBzYW1lIG5hbWUgb2YgdGhp\ncyByZWNlaXZlciwKICAgICAqIGlnbm9yaW5nIHRoZSBjYXNlLgogICAgICov\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc1NhbWUoU3BlY2lmaWNhdGlvbiBvdGhl\ncikgewogICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIAogICAgICAgICAg\nICB8fCAob3RoZXIgIT0gbnVsbCAmJiBfbmFtZS5lcXVhbHNJZ25vcmVDYXNl\nKG90aGVyLl9uYW1lKSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQWZm\naXJtcyBpZiB0aGUgZ2l2ZW4gc3RyaW5nIGVxdWFscyBuYW1lIG9mIHRoaXMg\ncmVjZWl2ZXIsIGlnbm9yaW5nIHRoZSAKICAgICAqIGNhc2UuCiAgICAgKi8K\nICAgIHB1YmxpYyBib29sZWFuIGlzU2FtZShTdHJpbmcgb3RoZXIpIHsKICAg\nICAgICByZXR1cm4gX25hbWUuZXF1YWxzSWdub3JlQ2FzZShvdGhlcik7CiAg\nICB9CiAgICAKICAgIC8qKgogICAgICogQ29tcGFyZXMgbWFqb3IgdmVyc2lv\nbiBudW1iZXIgb2YgdGhlIGdpdmVuIFNwZWNpZmljYXRpb24gd2l0aCB0aGlz\nIAogICAgICogcmVjZWl2ZXIuCgogICAgICogQHJldHVybiAwIGlmIHRoZXkg\nYXJlIGVxdWFsLgogICAgICogICAgICAgPiAwIGlmIHRoaXMgcmVjZWl2ZXIg\naXMgaGlnaGVyIHZlcnNpb24uCiAgICAgKiAgICAgICA8IDAgaWYgdGhpcyBy\nZWNlaXZlciBpcyBsb3dlciB2ZXJzaW9uLgogICAgICovCiAgICBwdWJsaWMg\naW50IGNvbXBhcmVWZXJzaW9uKFNwZWNpZmljYXRpb24gb3RoZXIpIHsKICAg\nICAgICByZXR1cm4gX21ham9yID4gb3RoZXIuX21ham9yID8gMSA6IF9tYWpv\nciA9PSBvdGhlci5fbWFqb3IgPyAwIDogLTE7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9uYW1l\nLnRvVXBwZXJDYXNlKCkgKyAiICIgKyBfbWFqb3IgKyAiLiIgKyBfbWlub3I7\nCiAgICB9CiAgICAKICAgIHByaXZhdGUgT2JqZWN0W10gcGFyc2UoU3RyaW5n\nIHN0cikgewogICAgICAgIGludCBzcGFjZSA9IHN0ci5pbmRleE9mKCcgJyk7\nCiAgICAgICAgCiAgICAgICAgaWYgKHNwYWNlID09IC0xKQogICAgICAgICAg\nICByZXR1cm4gbmV3IE9iamVjdFtde3N0cn07CiAgICAgICAgU3RyaW5nIG5h\nbWUgPSBzdHIuc3Vic3RyaW5nKDAsc3BhY2UpOwogICAgICAgIFN0cmluZyB2\nZXJzaW9uID0gc3RyLnN1YnN0cmluZyhzcGFjZSsxKTsKICAgICAgICBpbnQg\nZG90ID0gdmVyc2lvbi5pbmRleE9mKCcuJyk7CiAgICAgICAgaWYgKGRvdCA9\nPSAtMSkKICAgICAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RbXSB7bmFtZSwg\ndmVyc2lvbn07CiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RbXSB7bmFtZSwg\nCiAgICAgICAgICAgIHZlcnNpb24uc3Vic3RyaW5nKDAsZG90KSwgdmVyc2lv\nbi5zdWJzdHJpbmcoZG90KzEpfTsKICAgIH0KICAgIAogICAgLyoqCiAgICAg\nKiBBc3NvY2lhdGUgYSBjb21wYXRpYmlsaXR5IG9iamVjdCB3aXRoIHRoaXMg\nU3BlY2lmaWNhdGlvbiBpbnN0YW5jZQogICAgICogQHBhcmFtIGNvbXBhdGli\naWxpdHkgYSBDb21wYXRpYmlsaXR5IG9iamVjdCB3aXRoIGZsYWdzIHNldCBp\nbiBjb21wbGlhbmNlCiAgICAgKiB3aXRoIHRoaXMgU3BlY2lmaWNhdGlvbiBp\nbnN0YW5jZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0Q29tcGF0aWJp\nbGl0eShDb21wYXRpYmlsaXR5IGNvbXBhdGliaWxpdHkpIHsKICAgICAgICBf\nY29tcGF0aWJpbGl0eSA9IGNvbXBhdGliaWxpdHk7CiAgICB9CiAgICAKICAg\nIC8qKgogICAgICogUmV0dXJuIHRoZSBjb21wYXRpYmlsaXR5IG9iamVjdCBh\nc3NvY2lhdGVkIHdpdGggdGhpcyBTcGVjaWZpY2F0aW9uIGluc3RhbmNlLgog\nICAgICogQHJldHVybgogICAgICovCiAgICBwdWJsaWMgQ29tcGF0aWJpbGl0\neSBnZXRDb21wYXRpYmlsaXR5KCkgewogICAgICAgIHJldHVybiBfY29tcGF0\naWJpbGl0eTsKICAgIH0KfQo=\n","encoding":"base64"}

