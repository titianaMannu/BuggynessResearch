{"sha":"fe2137f904e25285809f2f5b36b3ca6407c9f078","node_id":"MDQ6QmxvYjIwNjM2NDpmZTIxMzdmOTA0ZTI1Mjg1ODA5ZjJmNWIzNmIzY2E2NDA3YzlmMDc4","size":4975,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fe2137f904e25285809f2f5b36b3ca6407c9f078","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIGphdmEudXRpbC5MaXN0OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5l\ndmVudC5SZW1vdGVDb21taXRMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEudXRpbC5DYWNoZU1hcDsKCi8qKgogKiBBIHtAbGluayBEYXRh\nQ2FjaGV9IGltcGxlbWVudGF0aW9uIHRoYXQgaXMgb3B0aW1pemVkIGZvciBj\nb25jdXJyZW50CiAqIGFjY2Vzcy4gV2hlbiB0aGUgY2FjaGUgZmlsbHMgdXAs\nIHZhbHVlcyB0byByZW1vdmUgZnJvbSBjYWNoZSBhcmUgY2hvc2VuCiAqIHJh\nbmRvbWx5LiBEdWUgdG8gcmFjZSBjb25kaXRpb25zLCBpdCBpcyBwb3NzaWJs\nZSB0aGF0IGEgZ2V0IGNhbGwgbWlnaHQgbm90CiAqIHJldHVybiBhIGNhY2hl\nZCBpbnN0YW5jZSBpZiB0aGF0IGluc3RhbmNlIGlzIGJlaW5nIHRyYW5zZmVy\ncmVkIGJldHdlZW4KICogaW50ZXJuYWwgZGF0YXN0cnVjdHVyZXMuCiAqCiAq\nIEBzaW5jZSAwLjQuMAogKi8KcHVibGljIGNsYXNzIENvbmN1cnJlbnREYXRh\nQ2FjaGUKICAgIGV4dGVuZHMgQWJzdHJhY3REYXRhQ2FjaGUKICAgIGltcGxl\nbWVudHMgUmVtb3RlQ29tbWl0TGlzdGVuZXIgewoKICAgIHByaXZhdGUgc3Rh\ndGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2th\nZ2UKICAgICAgICAoQ29uY3VycmVudERhdGFDYWNoZS5jbGFzcyk7CgogICAg\ncHJpdmF0ZSBDYWNoZU1hcCBfY2FjaGUgPSBuZXdDYWNoZU1hcCgpOwoKICAg\nIC8qKgogICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyB7QGxpbmsgQ2Fj\naGVNYXB9IHRoYXQgdGhpcyBjYWNoZSBpcyB1c2luZy4KICAgICAqIFRoaXMg\naXMgbm90IGFuIHVubW9kaWZpYWJsZSB2aWV3IG9uIHRoZSBtYXAsIHNvIGNh\ncmUgc2hvdWxkIGJlIHRha2VuCiAgICAgKiB3aXRoIHRoaXMgcmVmZXJlbmNl\nLiBJbXBsZW1lbnRhdGlvbnMgc2hvdWxkIHByb2JhYmx5IG5vdCBtb2RpZnkg\ndGhlCiAgICAgKiBjb250ZW50cyBvZiB0aGUgY2FjaGUsIGJ1dCBzaG91bGQg\nb25seSB1c2UgdGhpcyByZWZlcmVuY2UgdG8KICAgICAqIG9idGFpbiBjYWNo\nZSBtZXRyaWNzLgogICAgICovCiAgICBwdWJsaWMgQ2FjaGVNYXAgZ2V0Q2Fj\naGVNYXAoKSB7CiAgICAgICAgcmV0dXJuIF9jYWNoZTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIHVucGlubmVk\nIG9iamVjdHMgdG8ga2VlcCBoYXJkCiAgICAgKiByZWZlcmVuY2VzIHRvLiBJ\nZiB0aGUgbWFwIGNvbnRhaW5zIG1vcmUgdW5waW5uZWQgb2JqZWN0cyB0aGFu\nCiAgICAgKiA8Y29kZT5zaXplPC9jb2RlPiwgdGhlbiB0aGlzIG1ldGhvZCB3\naWxsIHJlc3VsdCBpbiB0aGUgY2FjaGUKICAgICAqIGZsdXNoaW5nIG9sZCB2\nYWx1ZXMuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldENhY2hlU2l6ZShp\nbnQgc2l6ZSkgewogICAgICAgIF9jYWNoZS5zZXRDYWNoZVNpemUoc2l6ZSk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG51\nbWJlciBvZiB1bnBpbm5lZCBvYmplY3RzIHRvIGtlZXAgaGFyZAogICAgICog\ncmVmZXJlbmNlcyB0by4KICAgICAqLwogICAgcHVibGljIGludCBnZXRDYWNo\nZVNpemUoKSB7CiAgICAgICAgcmV0dXJuIF9jYWNoZS5nZXRDYWNoZVNpemUo\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgdGhlIG1heGltdW0gbnVt\nYmVyIG9mIHVucGlubmVkIG9iamVjdHMgdG8ga2VlcCBzb2Z0CiAgICAgKiBy\nZWZlcmVuY2VzIHRvLiBJZiB0aGUgbWFwIGNvbnRhaW5zIG1vcmUgc29mdCBy\nZWZlcmVuY2VzIHRoYW4KICAgICAqIDxjb2RlPnNpemU8L2NvZGU+LCB0aGVu\nIHRoaXMgbWV0aG9kIHdpbGwgcmVzdWx0IGluIHRoZSBjYWNoZQogICAgICog\nZmx1c2hpbmcgdmFsdWVzLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRT\nb2Z0UmVmZXJlbmNlU2l6ZShpbnQgc2l6ZSkgewogICAgICAgIF9jYWNoZS5z\nZXRTb2Z0UmVmZXJlbmNlU2l6ZShzaXplKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybnMgdGhlIG1heGltdW0gbnVtYmVyIG9mIHVucGlubmVkIG9i\namVjdHMgdG8ga2VlcCBzb2Z0CiAgICAgKiByZWZlcmVuY2VzIHRvLiBEZWZh\ndWx0cyB0byA8Y29kZT4tMTwvY29kZT4uCiAgICAgKi8KICAgIHB1YmxpYyBp\nbnQgZ2V0U29mdFJlZmVyZW5jZVNpemUoKSB7CiAgICAgICAgcmV0dXJuIF9j\nYWNoZS5nZXRTb2Z0UmVmZXJlbmNlU2l6ZSgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIGluaXRpYWxpemUoRGF0YUNhY2hlTWFuYWdlciBtZ3IpIHsKICAg\nICAgICBzdXBlci5pbml0aWFsaXplKG1ncik7CiAgICAgICAgY29uZi5nZXRS\nZW1vdGVDb21taXRFdmVudE1hbmFnZXIoKS5hZGRJbnRlcm5hbExpc3RlbmVy\nKHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHVucGluQWxsKENsYXNz\nPD8+IGNscywgYm9vbGVhbiBzdWJzKSB7CiAgICAgICAgaWYgKGxvZy5pc1dh\ncm5FbmFibGVkKCkpCiAgICAgICAgICAgIGxvZy53YXJuKF9sb2MuZ2V0KCJj\nYWNoZS1jbGFzcy11bnBpbi1hbGwiLCBnZXROYW1lKCkpKTsKICAgICAgICB1\nbnBpbkFsbChfY2FjaGUuZ2V0UGlubmVkS2V5cygpKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB3cml0ZUxvY2soKSB7CiAgICAgICAgX2NhY2hlLndyaXRl\nTG9jaygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHdyaXRlVW5sb2NrKCkg\newogICAgICAgIF9jYWNoZS53cml0ZVVubG9jaygpOwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIHRoZSBtYXAgdG8gdXNlIGFzIGFuIGludGVybmFs\nIGNhY2hlOyBlbnRyeSBleHBpcmF0aW9ucyBtdXN0CiAgICAgKiBpbnZva2Ug\ne0BsaW5rIEFic3RyYWN0RGF0YUNhY2hlI2tleVJlbW92ZWR9LgogICAgICov\nCiAgICBwcm90ZWN0ZWQgQ2FjaGVNYXAgbmV3Q2FjaGVNYXAoKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBDYWNoZU1hcCgpIHsKICAgICAgICAgICAgcHJvdGVj\ndGVkIHZvaWQgZW50cnlSZW1vdmVkKE9iamVjdCBrZXksIE9iamVjdCB2YWx1\nZSwKICAgICAgICAgICAgICAgIGJvb2xlYW4gZXhwaXJlZCkgewogICAgICAg\nICAgICAgICAga2V5UmVtb3ZlZChrZXksIGV4cGlyZWQpOwogICAgICAgICAg\nICB9CiAgICAgICAgfTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgRGF0YUNhY2hl\nUENEYXRhIGdldEludGVybmFsKE9iamVjdCBrZXkpIHsKICAgICAgICByZXR1\ncm4gKERhdGFDYWNoZVBDRGF0YSkgX2NhY2hlLmdldChrZXkpOwogICAgfQoK\nICAgIHByb3RlY3RlZCBEYXRhQ2FjaGVQQ0RhdGEgcHV0SW50ZXJuYWwoT2Jq\nZWN0IGtleSwgRGF0YUNhY2hlUENEYXRhIHBjKSB7CiAgICAgICAgcmV0dXJu\nIChEYXRhQ2FjaGVQQ0RhdGEpIF9jYWNoZS5wdXQoa2V5LCBwYyk7CiAgICB9\nCgogICAgcHJvdGVjdGVkIERhdGFDYWNoZVBDRGF0YSByZW1vdmVJbnRlcm5h\nbChPYmplY3Qga2V5KSB7CiAgICAgICAgcmV0dXJuIChEYXRhQ2FjaGVQQ0Rh\ndGEpIF9jYWNoZS5yZW1vdmUoa2V5KTsKICAgIH0KCiAgICBwcm90ZWN0ZWQg\ndm9pZCByZW1vdmVBbGxJbnRlcm5hbChDbGFzczw/PiBjbHMsIGJvb2xlYW4g\nc3VicykgewogICAgICAgIC8vIFRoZSBwZXJmb3JtYW5jZSBpbiB0aGlzIGFy\nZWEgY2FuIGJlIGltcHJvdmVkIHVwb24sIGhvd2V2ZXIgaXQgc2VlbXMKICAg\nICAgICAvLyB1bmxpa2VseSB0aGF0IHRoaXMgbWV0aG9kIHdpbGwgYmUgY2Fs\nbGVkIGluIGEgcGVyZm9ybWFuY2UgaW50ZW5zaXZlCiAgICAgICAgLy8gZW52\naXJvbm1lbnQuIEluIGFueSBldmVudCBhcHBsaWNhdGlvbnMgY2FuIHJldmVy\ndCB0byB0aGUgb2xkIGJlaGF2aW9yCiAgICAgICAgLy8gYnkgc2ltcGx5IGNh\nbGxpbmcgcmVtb3ZlQWxsKCkuCiAgICAgICAgX2NhY2hlLmNsZWFyKCk7CiAg\nICB9CgogICAgcHJvdGVjdGVkIHZvaWQgY2xlYXJJbnRlcm5hbCgpIHsKICAg\nICAgICBfY2FjaGUuY2xlYXIoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgYm9v\nbGVhbiBwaW5JbnRlcm5hbChPYmplY3Qga2V5KSB7CiAgICAgICAgcmV0dXJu\nIF9jYWNoZS5waW4oa2V5KTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgYm9vbGVh\nbiB1bnBpbkludGVybmFsKE9iamVjdCBrZXkpIHsKICAgICAgICByZXR1cm4g\nX2NhY2hlLnVucGluIChrZXkpOwoJfQp9Cg==\n","encoding":"base64"}

