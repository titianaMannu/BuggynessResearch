{"sha":"3187348356f57f1bfe2832961d11ea45c49b85f4","node_id":"MDQ6QmxvYjIwNjM2NDozMTg3MzQ4MzU2ZjU3ZjFiZmUyODMyOTYxZDExZWE0NWM0OWI4NWY0","size":5439,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3187348356f57f1bfe2832961d11ea45c49b85f4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlv\nbjsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRp\nbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3RJdGVyYXRvcjsKCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnJvcC5SZXN1bHRMaXN0OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuUnVudGltZUV4Y2VwdGlvblRy\nYW5zbGF0b3I7CgovKioKICogQW4gaW1tdXRhYmxlIGxpc3QgdGhhdCBpbXBv\nc2VzIHVuaXF1ZW5lc3Mgb24gaXRzIG1lbWJlci4gVGhpcyBpbXBsZW1lbnRh\ndGlvbgogKiB0cmF2ZXJzZXMgdGhlIGVudGlyZSByZXN1bHQgbGlzdCBvbiBj\nb25zdHJ1Y3Rpb24uIFNvIGl0IGlzIG5vdCBzdWl0YWJsZSBvcgogKiBlZmZp\nY2llbnQgZm9yIGxhcmdlIHJlc3VsdHMuIEFsbCBtdXRhdGlvbiBvcGVyYXRp\nb25zIChleGNlcHQgY2xlYXIoKSkgdGhyb3cKICoge0BsaW5rIFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9ufS4KICogCiAqIEBhdXRob3IgUGluYWtp\nIFBvZGRhcgogKiBAc2luY2UgMi4wLjAKICogCiAqIEBwYXJhbSA8RT4KICog\nICAgICAgICAgICBlbGVtZW50IHR5cGUKICovCnB1YmxpYyBjbGFzcyBEaXN0\naW5jdFJlc3VsdExpc3Q8RT4gaW1wbGVtZW50cyBMaXN0PEU+IHsKICAgIHBy\naXZhdGUgZmluYWwgQXJyYXlMaXN0PEU+IF9kZWw7CiAgICBwcml2YXRlIGZp\nbmFsIFJ1bnRpbWVFeGNlcHRpb25UcmFuc2xhdG9yIF90cmFuczsKCiAgICBw\ndWJsaWMgRGlzdGluY3RSZXN1bHRMaXN0KFJlc3VsdExpc3Q8RT4gbGlzdCwg\nUnVudGltZUV4Y2VwdGlvblRyYW5zbGF0b3IgdHJhbnMpIHsKICAgICAgICBf\nZGVsID0gbmV3IEFycmF5TGlzdDxFPigpOwogICAgICAgIF90cmFucyA9IHRy\nYW5zOwogICAgICAgIGZvciAoRSBlIDogbGlzdCkgewogICAgICAgICAgICBp\nZiAoIV9kZWwuY29udGFpbnMoZSkpCiAgICAgICAgICAgICAgICBfZGVsLmFk\nZChlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gYWRk\nKEUgbykgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFkZChpbnQg\naW5kZXgsIEUgZWxlbWVudCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGFkZEFsbChDb2xsZWN0aW9uPD8gZXh0ZW5kcyBFPiBjKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gYWRkQWxsKGludCBpbmRl\neCwgQ29sbGVjdGlvbjw/IGV4dGVuZHMgRT4gYykgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIGNsZWFyKCkgewogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIF9kZWwuY2xlYXIoKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1l\nRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShy\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGNvbnRh\naW5zKE9iamVjdCBvKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIF9kZWwuY29udGFpbnMobyk7CiAgICAgICAgfSBjYXRjaCAoUnVudGlt\nZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUo\ncmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBjb250\nYWluc0FsbChDb2xsZWN0aW9uPD8+IGMpIHsKICAgICAgICB0cnkgewogICAg\nICAgICAgICByZXR1cm4gX2RlbC5jb250YWluc0FsbChjKTsKICAgICAgICB9\nIGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRo\ncm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1Ymxp\nYyBFIGdldChpbnQgaW5kZXgpIHsKICAgICAgICB0cnkgewogICAgICAgICAg\nICByZXR1cm4gX2RlbC5nZXQoaW5kZXgpOwogICAgICAgIH0gY2F0Y2ggKFJ1\nbnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNs\nYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGludCBpbmRl\neE9mKE9iamVjdCBvKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIF9kZWwuaW5kZXhPZihvKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1l\nRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShy\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRW1w\ndHkoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9kZWwu\naXNFbXB0eSgpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24g\ncmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAg\nICB9CiAgICB9CgogICAgcHVibGljIEl0ZXJhdG9yPEU+IGl0ZXJhdG9yKCkg\newogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLml0ZXJh\ndG9yKCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkg\newogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgaW50IGxhc3RJbmRleE9mKE9iamVjdCBvKSB7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9kZWwuaW5kZXhP\nZihvKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7\nCiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQog\nICAgfQoKICAgIHB1YmxpYyBMaXN0SXRlcmF0b3I8RT4gbGlzdEl0ZXJhdG9y\nKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLmxp\nc3RJdGVyYXRvcigpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRp\nb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIExpc3RJdGVyYXRvcjxFPiBsaXN0\nSXRlcmF0b3IoaW50IGluZGV4KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgcmV0dXJuIF9kZWwubGlzdEl0ZXJhdG9yKGluZGV4KTsKICAgICAgICB9\nIGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRo\ncm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIHJlbW92ZShPYmplY3QgbykgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyBFIHJlbW92ZShpbnQgaW5kZXgpIHsKICAgICAgICB0aHJvdyBu\nZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAg\nICBwdWJsaWMgYm9vbGVhbiByZW1vdmVBbGwoQ29sbGVjdGlvbjw/PiBjKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gcmV0YWluQWxsKENv\nbGxlY3Rpb248Pz4gYykgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBFIHNl\ndChpbnQgaW5kZXgsIEUgZWxlbWVudCkgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyBpbnQgc2l6ZSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBy\nZXR1cm4gX2RlbC5zaXplKCk7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4\nY2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUp\nOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgTGlzdDxFPiBzdWJMaXN0\nKGludCBmcm9tSW5kZXgsIGludCB0b0luZGV4KSB7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgcmV0dXJuIF9kZWwuc3ViTGlzdChmcm9tSW5kZXgsIHRv\nSW5kZXgpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUp\nIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9\nCiAgICB9CgogICAgcHVibGljIE9iamVjdFtdIHRvQXJyYXkoKSB7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIF9kZWwudG9BcnJheSgpOwog\nICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAg\nICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIDxUPiBUW10gdG9BcnJheShUW10gYSkgewogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHJldHVybiBfZGVsLnRvQXJyYXkoYSk7CiAgICAg\nICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAg\nICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBw\ncm90ZWN0ZWQgUnVudGltZUV4Y2VwdGlvbiB0cmFuc2xhdGUoUnVudGltZUV4\nY2VwdGlvbiByZSkgewogICAgICAgIHJldHVybiAoX3RyYW5zID09IG51bGwp\nID8gcmUgOiBfdHJhbnMudHJhbnNsYXRlKHJlKTsKICAgIH0KCn0K\n","encoding":"base64"}

