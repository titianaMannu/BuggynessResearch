{"sha":"a8a26f56d78cc8f81eb4d55535174a5a12f7fd2e","node_id":"MDQ6QmxvYjIwNjM2NDphOGEyNmY1NmQ3OGNjOGY4MWViNGQ1NTUzNTE3NGE1YTEyZjdmZDJl","size":11753,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a8a26f56d78cc8f81eb4d55535174a5a12f7fd2e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0\nIGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEu\nc2VjdXJpdHkuUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbjsKCmltcG9ydCBv\ncmcuYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5jb25mLlNlcVZhbHVlOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmtlcm5lbC5TZXE7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbnM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLmNvbmYuUGx1Z2luVmFsdWU7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLm1ldGEuU291cmNlVHJhY2tlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5DbG9zZWFibGU7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuSjJEb1ByaXZIZWxwZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi54bWwuQ29tbWVudGFi\nbGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5NZXRhRGF0YUV4\nY2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLk9wZW5K\nUEFFeGNlcHRpb247CgovKioKICogTWV0YWRhdGEgYWJvdXQgYSBuYW1lZCBz\nZXF1ZW5jZS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQHNpbmNlIDAu\nNC4wCiAqLwpwdWJsaWMgY2xhc3MgU2VxdWVuY2VNZXRhRGF0YQogICAgaW1w\nbGVtZW50cyBTb3VyY2VUcmFja2VyLCBNZXRhRGF0YUNvbnRleHQsIENsb3Nl\nYWJsZSwgQ29tbWVudGFibGUsCiAgICBTZXJpYWxpemFibGUgewoKICAgIC8q\nKgogICAgICogU2VxdWVuY2UgbmFtZSB0aGF0IG1lYW5zIHRvIHVzZSB0aGUg\nc3lzdGVtIGRlZmF1bHQgc2VxdWVuY2UuCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgU3RyaW5nIE5BTUVfU1lTVEVNID0gInN5c3RlbSI7Cgog\nICAgLyoqCiAgICAgKiBEZWZhdWx0IHBsdWdpbiBhbGlhcyBuYW1lOyBldmVy\neSBiYWNrIGVuZCBzaG91bGQgaGF2ZSBzb21lICduYXRpdmUnCiAgICAgKiBz\nZXF1ZW5jZSBpbXBsZW1lbnRhdGlvbi4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgSU1QTF9OQVRJVkUgPSAibmF0aXZlIjsKCiAg\nICAvKioKICAgICAqIFRpbWUtYmFzZWQgc2VxdWVuY2UgdmFsdWVzLgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBJTVBMX1RJTUUg\nPSAidGltZSI7CgogICAgLy8gcGx1Z2luIHByb3BlcnR5IG5hbWVzIGZvciBz\ndGFuZGFyZCBwcm9wcwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5n\nIFBST1BfU0VRVUVOQ0UgPSAiU2VxdWVuY2UiOwogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgU3RyaW5nIFBST1BfSU5JVElBTF9WQUxVRSA9ICJJbml0aWFs\nVmFsdWUiOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBST1Bf\nQUxMT0NBVEUgPSAiQWxsb2NhdGUiOwogICAgcHJpdmF0ZSBzdGF0aWMgZmlu\nYWwgU3RyaW5nIFBST1BfSU5DUkVNRU5UID0gIkluY3JlbWVudCI7CiAgICBw\ncml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgUFJPUF9TQ0hFTUEgPSAiU2No\nZW1hIjsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQUk9QX0NB\nVEFMT0cgPSAiQ2F0YWxvZyI7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwg\nTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAg\nIChTZXF1ZW5jZU1ldGFEYXRhLmNsYXNzKTsKCiAgICBwcml2YXRlIE1ldGFE\nYXRhUmVwb3NpdG9yeSBfcmVwb3M7CiAgICBwcml2YXRlIFNlcXVlbmNlRmFj\ndG9yeSBfZmFjdG9yeSA9IG51bGw7CiAgICAKICAgIHByaXZhdGUgZmluYWwg\nU3RyaW5nIF9uYW1lOwogICAgcHJpdmF0ZSBpbnQgX3R5cGUgPSBTZXEuVFlQ\nRV9ERUZBVUxUOwogICAgcHJpdmF0ZSBTdHJpbmcgX3BsdWdpbiA9IElNUExf\nTkFUSVZFOwogICAgcHJpdmF0ZSBGaWxlIF9zb3VyY2UgPSBudWxsOwogICAg\ncHJpdmF0ZSBPYmplY3QgX3Njb3BlID0gbnVsbDsKICAgIHByaXZhdGUgaW50\nIF9zcmNUeXBlID0gU1JDX09USEVSOwogICAgcHJpdmF0ZSBpbnQgX2xpbmVO\ndW0gPSAwOyAgCiAgICBwcml2YXRlIGludCBfY29sTnVtID0gMDsgIAogICAg\ncHJpdmF0ZSBTdHJpbmdbXSBfY29tbWVudHMgPSBudWxsOwogICAgcHJpdmF0\nZSBTdHJpbmcgX3NlcXVlbmNlID0gbnVsbDsKICAgIHByaXZhdGUgaW50IF9p\nbmNyZW1lbnQgPSAtMTsKICAgIHByaXZhdGUgaW50IF9hbGxvY2F0ZSA9IC0x\nOwogICAgcHJpdmF0ZSBpbnQgX2luaXRpYWwgPSAtMTsKICAgIHByaXZhdGUg\nU3RyaW5nIF9zY2hlbWEgPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcgX2Nh\ndGFsb2cgPSBudWxsOwoKICAgIC8vIGluc3RhbnRpYXRlZCBsYXppbHkKICAg\nIHByaXZhdGUgdHJhbnNpZW50IFNlcSBfaW5zdGFuY2UgPSBudWxsOwoKICAg\nIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBzZXF1ZW5jZSBuYW1l\nLgogICAgICovCiAgICBwdWJsaWMgU2VxdWVuY2VNZXRhRGF0YShTdHJpbmcg\nbmFtZSwgTWV0YURhdGFSZXBvc2l0b3J5IHJlcG9zKSB7CiAgICAgICAgX25h\nbWUgPSBuYW1lOwogICAgICAgIF9yZXBvcyA9IHJlcG9zOwogICAgfQoKICAg\nIC8qKgogICAgICogVGhlIG93bmluZyByZXBvc2l0b3J5LgogICAgICovCiAg\nICBwdWJsaWMgTWV0YURhdGFSZXBvc2l0b3J5IGdldFJlcG9zaXRvcnkoKSB7\nCiAgICAgICAgcmV0dXJuIF9yZXBvczsKICAgIH0KCiAgICAvKioKICAgICAq\nIFRoZSBzZXF1ZW5jZSBuYW1lLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5n\nIGdldE5hbWUoKSB7CiAgICAgICAgcmV0dXJuIF9uYW1lOwogICAgfQoKICAg\nIHB1YmxpYyBGaWxlIGdldFNvdXJjZUZpbGUoKSB7CiAgICAgICAgcmV0dXJu\nIF9zb3VyY2U7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRTb3VyY2VT\nY29wZSgpIHsKICAgICAgICByZXR1cm4gX3Njb3BlOwogICAgfQoKICAgIHB1\nYmxpYyBpbnQgZ2V0U291cmNlVHlwZSgpIHsKICAgICAgICByZXR1cm4gX3Ny\nY1R5cGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U291cmNlKEZpbGUg\nZmlsZSwgT2JqZWN0IHNjb3BlLCBpbnQgc3JjVHlwZSkgewogICAgICAgIF9z\nb3VyY2UgPSBmaWxlOwogICAgICAgIF9zY29wZSA9IHNjb3BlOwogICAgICAg\nIF9zcmNUeXBlID0gc3JjVHlwZTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdl\ndExpbmVOdW1iZXIoKSB7CiAgICAgICAgcmV0dXJuIF9saW5lTnVtOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldExpbmVOdW1iZXIoaW50IGxpbmVOdW0p\nIHsKICAgICAgICBfbGluZU51bSA9IGxpbmVOdW07CiAgICB9CgogICAgcHVi\nbGljIGludCBnZXRDb2xOdW1iZXIoKSB7CiAgICAgICAgcmV0dXJuIF9jb2xO\ndW07CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29sTnVtYmVyKGludCBj\nb2xOdW0pIHsKICAgICAgICBfY29sTnVtID0gY29sTnVtOwogICAgfQogICAg\nCiAgICBwdWJsaWMgU3RyaW5nIGdldFJlc291cmNlTmFtZSgpIHsKICAgICAg\nICByZXR1cm4gX25hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgc2Vx\ndWVuY2UgdHlwZS4KICAgICAqLwogICAgcHVibGljIGludCBnZXRUeXBlKCkg\newogICAgICAgIHJldHVybiBfdHlwZTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFRoZSBzZXF1ZW5jZSB0eXBlLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBz\nZXRUeXBlKGludCB0eXBlKSB7CiAgICAgICAgX3R5cGUgPSB0eXBlOwogICAg\nfQoKICAgIC8qKgogICAgICogTmF0aXZlIHNlcXVlbmNlIG5hbWUuCiAgICAg\nKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0U2VxdWVuY2UoKSB7CiAgICAgICAg\ncmV0dXJuIF9zZXF1ZW5jZTsKICAgIH0KCiAgICAvKioKICAgICAqIE5hdGl2\nZSBzZXF1ZW5jZSBuYW1lLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRT\nZXF1ZW5jZShTdHJpbmcgc2VxdWVuY2UpIHsKICAgICAgICBfc2VxdWVuY2Ug\nPSBzZXF1ZW5jZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNlcXVlbmNlIGlu\nY3JlbWVudCwgb3IgLTEgZm9yIGRlZmF1bHQuCiAgICAgKi8KICAgIHB1Ymxp\nYyBpbnQgZ2V0SW5jcmVtZW50KCkgewogICAgICAgIHJldHVybiBfaW5jcmVt\nZW50OwogICAgfQoKICAgIC8qKgogICAgICogU2VxdWVuY2UgaW5jcmVtZW50\nLCBvciAtMSBmb3IgZGVmYXVsdC4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0SW5jcmVtZW50KGludCBpbmNyZW1lbnQpIHsKICAgICAgICBfaW5jcmVt\nZW50ID0gaW5jcmVtZW50OwogICAgfQoKICAgIC8qKgogICAgICogU2VxdWVu\nY2UgdmFsdWVzIHRvIGFsbG9jYXRlLCBvciAtMSBmb3IgZGVmYXVsdC4KICAg\nICAqLwogICAgcHVibGljIGludCBnZXRBbGxvY2F0ZSgpIHsKICAgICAgICBy\nZXR1cm4gX2FsbG9jYXRlOwogICAgfQoKICAgIC8qKgogICAgICogU2VxdWVu\nY2UgdmFsdWVzIHRvIGFsbG9jYXRlLCBvciAtMSBmb3IgZGVmYXVsdC4KICAg\nICAqLwogICAgcHVibGljIHZvaWQgc2V0QWxsb2NhdGUoaW50IGFsbG9jYXRl\nKSB7CiAgICAgICAgX2FsbG9jYXRlID0gYWxsb2NhdGU7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBJbml0aWFsIHNlcXVlbmNlIHZhbHVlLCBvciAtMSBmb3Ig\nZGVmYXVsdC4KICAgICAqLwogICAgcHVibGljIGludCBnZXRJbml0aWFsVmFs\ndWUoKSB7CiAgICAgICAgcmV0dXJuIF9pbml0aWFsOwogICAgfQoKICAgIC8q\nKgogICAgICogSW5pdGlhbCBzZXF1ZW5jZSB2YWx1ZSwgb3IgLTEgZm9yIGRl\nZmF1bHQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEluaXRpYWxWYWx1\nZShpbnQgaW5pdGlhbCkgewogICAgICAgIF9pbml0aWFsID0gaW5pdGlhbDsK\nICAgIH0KCiAgICAvKioKICAgICAqIFBsdWdpbiBzdHJpbmcgZGVzY3JpYmlu\nZyB0aGUge0BsaW5rIFNlcX0uCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0U2VxdWVuY2VQbHVnaW4oKSB7CiAgICAgICAgcmV0dXJuIF9wbHVnaW47\nCiAgICB9CgogICAgLyoqCiAgICAgKiBQbHVnaW4gc3RyaW5nIGRlc2NyaWJp\nbmcgdGhlIHtAbGluayBTZXF9LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBz\nZXRTZXF1ZW5jZVBsdWdpbihTdHJpbmcgcGx1Z2luKSB7CiAgICAgICAgX3Bs\ndWdpbiA9IHBsdWdpbjsKICAgIH0KCiAgICAvKioKICAgICAqIEEgZmFjdG9y\neSB0byB0cmFuc2Zvcm0gc3BlYyBzZXF1ZW5jZXMgcHJvZHVjZWQgYnkgdXNl\nciBmYWN0b3JpZXMgaW50bwogICAgICogdGhlIE9wZW5KUEEgc2VxdWVuY2Ug\ndHlwZS4KICAgICAqLwogICAgcHVibGljIFNlcXVlbmNlRmFjdG9yeSBnZXRT\nZXF1ZW5jZUZhY3RvcnkoKSB7CiAgICAgICAgcmV0dXJuIF9mYWN0b3J5Owog\nICAgfQoKICAgIC8qKgogICAgICogQSBmYWN0b3J5IHRvIHRyYW5zZm9ybSBz\ncGVjIHNlcXVlbmNlcyBwcm9kdWNlZCBieSB1c2VyIGZhY3RvcmllcyBpbnRv\nCiAgICAgKiB0aGUgT3BlbkpQQSBzZXF1ZW5jZSB0eXBlLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRTZXF1ZW5jZUZhY3RvcnkoU2VxdWVuY2VGYWN0\nb3J5IGZhY3RvcnkpIHsKICAgICAgICBfZmFjdG9yeSA9IGZhY3Rvcnk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGluaXRpYWxpemVkIHNl\ncXVlbmNlIGluc3RhbmNlLgogICAgICovCiAgICBwdWJsaWMgc3luY2hyb25p\nemVkIFNlcSBnZXRJbnN0YW5jZShDbGFzc0xvYWRlciBlbnZMb2FkZXIpIHsK\nICAgICAgICBpZiAoX2luc3RhbmNlID09IG51bGwpCiAgICAgICAgICAgIF9p\nbnN0YW5jZSA9IGluc3RhbnRpYXRlKGVudkxvYWRlcik7CiAgICAgICAgcmV0\ndXJuIF9pbnN0YW5jZTsKICAgIH0KCiAgICAvKioKICAgICAqIENyZWF0ZSBh\nIG5ldyB1bmluaXRpYWxpemVkIGluc3RhbmNlIG9mIHRoaXMgc2VxdWVuY2Uu\nCiAgICAgKi8KICAgIHByb3RlY3RlZCBTZXEgaW5zdGFudGlhdGUoQ2xhc3NM\nb2FkZXIgZW52TG9hZGVyKSB7CiAgICAgICAgaWYgKE5BTUVfU1lTVEVNLmVx\ndWFscyhfbmFtZSkpCiAgICAgICAgICAgIHJldHVybiBfcmVwb3MuZ2V0Q29u\nZmlndXJhdGlvbigpLmdldFNlcXVlbmNlSW5zdGFuY2UoKTsKCiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgUGx1Z2luVmFsdWUgcGx1Z2luID0gbmV3UGx1\nZ2luVmFsdWUoInNlcXVlbmNlLXBsdWdpbiIpOwogICAgICAgICAgICBwbHVn\naW4uc2V0U3RyaW5nKF9wbHVnaW4pOwogICAgICAgICAgICBTdHJpbmcgY2xz\nTmFtZSA9IHBsdWdpbi5nZXRDbGFzc05hbWUoKTsKCiAgICAgICAgICAgIENs\nYXNzIGNscyA9IENsYXNzLmZvck5hbWUoY2xzTmFtZSwgdHJ1ZSwKICAgICAg\nICAgICAgICAgIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAg\nICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENsYXNzTG9hZGVy\nQWN0aW9uKFNlcS5jbGFzcykpKTsKICAgICAgICAgICAgU3RyaW5nQnVpbGRl\nciBwcm9wcyA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgICAgICAgICAgIGlm\nIChwbHVnaW4uZ2V0UHJvcGVydGllcygpICE9IG51bGwpCiAgICAgICAgICAg\nICAgICBwcm9wcy5hcHBlbmQocGx1Z2luLmdldFByb3BlcnRpZXMoKSk7CiAg\nICAgICAgICAgIGFkZFN0YW5kYXJkUHJvcGVydGllcyhwcm9wcyk7CgogICAg\nICAgICAgICAvLyBhbGxvdyB1c2VyLWNsYXNzIHNwZWNpZmljYXRpb24gb2Yg\nZWl0aGVyIG91ciBzZXF1ZW5jZQogICAgICAgICAgICAvLyBpbnRlcmZhY2Ug\nb3IgYSBmYWN0b3J5IGNsYXNzCiAgICAgICAgICAgIFNlcSBzZXE7CiAgICAg\nICAgICAgIGlmIChTZXEuY2xhc3MuaXNBc3NpZ25hYmxlRnJvbShjbHMpKSB7\nCiAgICAgICAgICAgICAgICBzZXEgPSAoU2VxKSBBY2Nlc3NDb250cm9sbGVy\nLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgICAgICAgICBKMkRvUHJpdkhl\nbHBlci5uZXdJbnN0YW5jZUFjdGlvbihjbHMpKTsKICAgICAgICAgICAgICAg\nIENvbmZpZ3VyYXRpb25zLmNvbmZpZ3VyZUluc3RhbmNlKHNlcSwKICAgICAg\nICAgICAgICAgICAgICBfcmVwb3MuZ2V0Q29uZmlndXJhdGlvbigpLCBwcm9w\ncy50b1N0cmluZygpKTsKICAgICAgICAgICAgICAgIGlmKF90eXBlICE9IFNl\ncS5UWVBFX0RFRkFVTFQpCiAgICAgICAgICAgICAgICAgICAgc2VxLnNldFR5\ncGUoX3R5cGUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKF9mYWN0b3J5ICE9\nIG51bGwpCiAgICAgICAgICAgICAgICBzZXEgPSBfZmFjdG9yeS50b1NlcXVl\nbmNlKGNscywgcHJvcHMudG9TdHJpbmcoKSk7CiAgICAgICAgICAgIGVsc2UK\nICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRhRGF0YUV4Y2VwdGlvbihf\nbG9jLmdldCgibm90LXNlcS1jbHMiLCBfbmFtZSwKICAgICAgICAgICAgICAg\nICAgICBjbHMpKTsKICAgICAgICAgICAgcmV0dXJuIHNlcTsKICAgICAgICB9\nIGNhdGNoIChPcGVuSlBBRXhjZXB0aW9uIGtlKSB7CiAgICAgICAgICAgIHRo\ncm93IGtlOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAg\nICAgICAgIGlmIChlIGluc3RhbmNlb2YgUHJpdmlsZWdlZEFjdGlvbkV4Y2Vw\ndGlvbikKICAgICAgICAgICAgICAgIGUgPSAoKFByaXZpbGVnZWRBY3Rpb25F\neGNlcHRpb24pIGUpLmdldEV4Y2VwdGlvbigpOwogICAgICAgICAgICB0aHJv\ndyBuZXcgTWV0YURhdGFFeGNlcHRpb24oX2xvYy5nZXQoImNhbnQtaW5pdC1z\nZXEiLCBfbmFtZSkpLgogICAgICAgICAgICAgICAgc2V0Q2F1c2UoZSk7CiAg\nICAgICAgfQogICAgfQoKICAgIC8qCiAgICAgKiBTZXQvR2V0IHRoZSBzY2hl\nbWEgbmFtZQogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRTY2hlbWEoU3Ry\naW5nIHNjaGVtYSkgewogICAgICAgIHRoaXMuX3NjaGVtYSA9IHNjaGVtYTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFNjaGVtYSgpIHsKICAgICAg\nICByZXR1cm4gX3NjaGVtYTsKICAgIH0KCiAgICAvKgogICAgICogU2V0L0dl\ndCB0aGUgY2F0YWxvZyBuYW1lCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNl\ndENhdGFsb2coU3RyaW5nIGNhdGFsb2cpIHsKICAgICAgICB0aGlzLl9jYXRh\nbG9nID0gY2F0YWxvZzsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENh\ndGFsb2coKSB7CiAgICAgICAgcmV0dXJuIF9jYXRhbG9nOwogICAgfQoKICAg\nIC8qKgogICAgICogQ3JlYXRlIGEgbmV3IHBsdWdpbiB2YWx1ZSBmb3Igc2Vx\ndWVuY2VzLiBSZXR1cm5zIGEgc3RhbmRhcmQKICAgICAqIHtAbGluayBTZXFW\nYWx1ZX0gYnkgZGVmYXVsdC4KICAgICAqLwogICAgcHJvdGVjdGVkIFBsdWdp\nblZhbHVlIG5ld1BsdWdpblZhbHVlKFN0cmluZyBwcm9wZXJ0eSkgewogICAg\nICAgIHJldHVybiBuZXcgU2VxVmFsdWUocHJvcGVydHkpOwogICAgfQoKICAg\nIC8qKgogICAgICogQWRkIHN0YW5kYXJkIHByb3BlcnRpZXMgdG8gdGhlIGdp\ndmVuIHByb3BlcnRpZXMgYnVmZmVyLgogICAgICovCiAgICBwcm90ZWN0ZWQg\ndm9pZCBhZGRTdGFuZGFyZFByb3BlcnRpZXMoU3RyaW5nQnVpbGRlciBwcm9w\ncykgewogICAgICAgIGFwcGVuZFByb3BlcnR5KHByb3BzLCBQUk9QX1NFUVVF\nTkNFLCB3cmFwVmFsdWUoX3NlcXVlbmNlKSk7CiAgICAgICAgYXBwZW5kUHJv\ncGVydHkocHJvcHMsIFBST1BfSU5JVElBTF9WQUxVRSwgX2luaXRpYWwpOwog\nICAgICAgIGFwcGVuZFByb3BlcnR5KHByb3BzLCBQUk9QX0FMTE9DQVRFLCBf\nYWxsb2NhdGUpOwogICAgICAgIGFwcGVuZFByb3BlcnR5KHByb3BzLCBQUk9Q\nX0lOQ1JFTUVOVCwgX2luY3JlbWVudCk7CiAgICAgICAgYXBwZW5kUHJvcGVy\ndHkocHJvcHMsIFBST1BfU0NIRU1BLCB3cmFwVmFsdWUoX3NjaGVtYSkpOwog\nICAgICAgIGFwcGVuZFByb3BlcnR5KHByb3BzLCBQUk9QX0NBVEFMT0csIHdy\nYXBWYWx1ZShfY2F0YWxvZykpOwogICAgfQogICAgCiAgICAvKioKICAgICAq\nIFdyYXBzIHByb3BlcnR5IHZhbHVlcyB0aGF0IG1heSBjb250YWluIHNwYWNl\ncyBvciBvdGhlciBzcGVjaWFsIGNoYXJhY3RlcnMKICAgICAqIGluIGRvdWJs\nZSBxdW90ZXMgc28gdGhleSBhcmUgcHJvY2Vzc2VkIGFzIGEgc2luZ2xlIHZh\nbHVlZCBhcmd1bWVudC4KICAgICAqLwogICAgcHJvdGVjdGVkIFN0cmluZyB3\ncmFwVmFsdWUoU3RyaW5nIHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlICE9\nIG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuICJcIiIgKyB2YWx1ZSArICJc\nIiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEFkZCBhIHN0cmluZyBwcm9wZXJ0eSB0byB0aGUgYnVm\nZmVyLiBOb3RoaW5nIHdpbGwgYmUgYWRkZWQgaWYgdmFsdWUKICAgICAqIGlz\nIG51bGwgb3IgZW1wdHkgc3RyaW5nLgogICAgICovCiAgICBwcm90ZWN0ZWQg\ndm9pZCBhcHBlbmRQcm9wZXJ0eShTdHJpbmdCdWlsZGVyIHByb3BzLCBTdHJp\nbmcgbmFtZSwgU3RyaW5nIHZhbCkgewogICAgICAgIGlmIChTdHJpbmdVdGls\ncy5pc0VtcHR5KHZhbCkpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBp\nZiAocHJvcHMubGVuZ3RoKCkgPiAwKQogICAgICAgICAgICBwcm9wcy5hcHBl\nbmQoIiwiKTsKICAgICAgICBwcm9wcy5hcHBlbmQobmFtZSkuYXBwZW5kKCI9\nIikuYXBwZW5kKHZhbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBZGQgYW4g\naW50IHByb3BlcnR5IHRvIHRoZSBidWZmZXIuIE5vdGhpbmcgd2lsbCBiZSBh\nZGRlZCBpZiB2YWx1ZSBpcyAtMS4KICAgICAqLwogICAgcHJvdGVjdGVkIHZv\naWQgYXBwZW5kUHJvcGVydHkoU3RyaW5nQnVpbGRlciBwcm9wcywgU3RyaW5n\nIG5hbWUsIGludCB2YWwpIHsKICAgICAgICBpZiAodmFsID09IC0xKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHByb3BzLmxlbmd0aCgpID4g\nMCkKICAgICAgICAgICAgcHJvcHMuYXBwZW5kKCIsIik7CiAgICAgICAgcHJv\ncHMuYXBwZW5kKG5hbWUpLmFwcGVuZCgiPSIpLmFwcGVuZCh2YWwpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ2xvc2UgdXNlciBzZXF1ZW5jZSBpbnN0YW5j\nZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgY2xvc2UoKSB7CiAgICAgICAg\naWYgKF9pbnN0YW5jZSAhPSBudWxsICYmICFOQU1FX1NZU1RFTS5lcXVhbHMo\nX25hbWUpKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgX2lu\nc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlv\nbiBlKSB7CiAgICAgICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAg\nIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9u\nYW1lOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLwogICAgLy8gQ29tbWVu\ndGFibGUKICAgIC8vLy8vLy8vLy8vLy8vLwoKICAgIHB1YmxpYyBTdHJpbmdb\nXSBnZXRDb21tZW50cygpIHsKICAgICAgICByZXR1cm4gKF9jb21tZW50cyA9\nPSBudWxsKSA/IEVNUFRZX0NPTU1FTlRTIDogX2NvbW1lbnRzOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldENvbW1lbnRzKFN0cmluZ1tdIGNvbW1lbnRz\nKSB7CiAgICAgICAgX2NvbW1lbnRzID0gY29tbWVudHM7CiAgICB9CiAgICAK\nICAgIC8qKgogICAgICogQWxsb3cgZmFjYWRlcyB0byBzdXBwbHkgYWRhcHRl\ncnMgZnJvbSBhIHNwZWMgc2VxdWVuY2UgdHlwZSB0byB0aGUKICAgICAqIE9w\nZW5KUEEgc2VxdWVuY2UgdHlwZS4KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBpbnRlcmZhY2UgU2VxdWVuY2VGYWN0b3J5IAogICAgICAgIGV4dGVuZHMg\nU2VyaWFsaXphYmxlIHsKCiAgICAgICAgLyoqCiAgICAgICAgICogVHJhbnNm\nb3JtIHRoZSBnaXZlbiBjbGFzcyBuYW1lZCBpbiBtZXRhZGF0YSBpbnRvIGEg\nc2VxdWVuY2UuCiAgICAgICAgICovCgkJcHVibGljIFNlcSB0b1NlcXVlbmNl\nIChDbGFzcyBjbHMsIFN0cmluZyBwcm9wcykKCQkJdGhyb3dzIEV4Y2VwdGlv\nbjsKCX0KfQo=\n","encoding":"base64"}

