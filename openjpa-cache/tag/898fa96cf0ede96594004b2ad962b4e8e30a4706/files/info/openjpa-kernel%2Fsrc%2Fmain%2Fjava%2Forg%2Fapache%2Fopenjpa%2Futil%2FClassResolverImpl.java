{"sha":"02e24944e6b3489bdcd1d48f54b4fa23c72eae1d","node_id":"MDQ6QmxvYjIwNjM2NDowMmUyNDk0NGU2YjM0ODliZGNkMWQ0OGY1NGI0ZmEyM2M3MmVhZTFk","size":2752,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/02e24944e6b3489bdcd1d48f54b4fa23c72eae1d","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbDsKCmltcG9ydCBqYXZh\nLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXI7CgppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmxpYi51dGlsLkoyRG9Qcml2SGVscGVyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLk11bHRpQ2xhc3NMb2FkZXI7Cgov\nKioKICogRGVmYXVsdCBjbGFzcyByZXNvbHZlciBpbXBsZW1lbnRhdGlvbi4K\nICoKICogQHNpbmNlIDAuMy4wCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpw\ndWJsaWMgY2xhc3MgQ2xhc3NSZXNvbHZlckltcGwKICAgIGltcGxlbWVudHMg\nQ2xhc3NSZXNvbHZlciB7CgogICAgcHVibGljIENsYXNzTG9hZGVyIGdldENs\nYXNzTG9hZGVyKENsYXNzPD8+IGNvbnRleHRDbGFzcywgIENsYXNzTG9hZGVy\nIGVudkxvYWRlcikgewogICAgICAgIC8vIGdldCB0aGUgY29udGV4dCBjbGFz\ncycgbG9hZGVyOyBpZiB0aGUgY2xhc3Mgd2FzIGxvYWRlZCBieSB0aGUKICAg\nICAgICAvLyBib290c3RyYXAgbG9hZGVyLCB1c2UgdGhlIHN5c3RlbSBjbGFz\nc2xvYWRlciBpbiB0aGUgaG9wZXMgdGhhdAogICAgICAgIC8vIGNsYXNzLmZv\nck5hbWUgY2FsbHMgb24gaXQgd2lsbCBmaW5kIHRoZSBib290c3RyYXAgbG9h\nZGVyJ3MgY2FjaGVkCiAgICAgICAgLy8gY2xhc3MgKHRoZSBib290c3RyYXAg\nbG9hZGVyIGlzIHRoZSBwYXJlbnQgb2YgdGhlIHN5c3RlbSBsb2FkZXIpCiAg\nICAgICAgQ2xhc3NMb2FkZXIgY29udGV4dExvYWRlciA9IG51bGw7CiAgICAg\nICAgaWYgKGNvbnRleHRDbGFzcyAhPSBudWxsKSB7CiAgICAgICAgICAgIGNv\nbnRleHRMb2FkZXIgPSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgK\nICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldENsYXNzTG9hZGVy\nQWN0aW9uKGNvbnRleHRDbGFzcykpOyAKICAgICAgICAgICAgaWYgKGNvbnRl\neHRMb2FkZXIgPT0gbnVsbCkKICAgICAgICAgICAgICAgIGNvbnRleHRMb2Fk\nZXIgPSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAg\nICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5nZXRTeXN0ZW1DbGFzc0xvYWRl\nckFjdGlvbigpKTsgCiAgICAgICAgfQoKICAgICAgICAvLyBpZiB0aGVyZSBp\ncyBvbmx5IG9uZSB1bmlxdWUgbG9hZGVyLCBqdXN0IHJldHVybiBpdAogICAg\nICAgIENsYXNzTG9hZGVyIHRocmVhZExvYWRlciA9IEFjY2Vzc0NvbnRyb2xs\nZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5n\nZXRDb250ZXh0Q2xhc3NMb2FkZXJBY3Rpb24oKSk7CiAgICAgICAgaWYgKChj\nb250ZXh0TG9hZGVyID09IG51bGwgfHwgY29udGV4dExvYWRlciA9PSB0aHJl\nYWRMb2FkZXIpCiAgICAgICAgICAgICYmIChlbnZMb2FkZXIgPT0gbnVsbCB8\nfCBlbnZMb2FkZXIgPT0gdGhyZWFkTG9hZGVyKSkKICAgICAgICAgICAgcmV0\ndXJuIHRocmVhZExvYWRlcjsKCiAgICAgICAgLy8gY29uc3RydWN0IGEgbXVs\ndGkgY2xhc3MgbG9hZGVyIHRoYXQgd2lsbCBkZWxlZ2F0ZSBpbiB0aGUgb3Jk\nZXIKICAgICAgICAvLyBkZXNjcmliZWQgaW4gc2VjdGlvbiAxMi41IG9mIHRo\nZSBzcGVjCiAgICAgICAgTXVsdGlDbGFzc0xvYWRlciBsb2FkZXIgPSBBY2Nl\nc3NDb250cm9sbGVyCiAgICAgICAgICAgIC5kb1ByaXZpbGVnZWQoSjJEb1By\naXZIZWxwZXIubmV3TXVsdGlDbGFzc0xvYWRlckFjdGlvbigpKTsKICAgICAg\nICBpZiAoY29udGV4dExvYWRlciAhPSBudWxsKQogICAgICAgICAgICBsb2Fk\nZXIuYWRkQ2xhc3NMb2FkZXIoY29udGV4dExvYWRlcik7CiAgICAgICAgbG9h\nZGVyLmFkZENsYXNzTG9hZGVyKHRocmVhZExvYWRlcik7CiAgICAgICAgaWYg\nKGVudkxvYWRlciAhPSBudWxsKQogICAgICAgICAgICBsb2FkZXIuYWRkQ2xh\nc3NMb2FkZXIoZW52TG9hZGVyKTsKICAgICAgICByZXR1cm4gbG9hZGVyOwog\nICAgfQp9Cg==\n","encoding":"base64"}

