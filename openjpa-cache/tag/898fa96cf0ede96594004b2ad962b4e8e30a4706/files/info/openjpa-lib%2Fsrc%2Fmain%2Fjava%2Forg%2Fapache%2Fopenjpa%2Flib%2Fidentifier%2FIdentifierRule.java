{"sha":"04381536827d6710c01af0debe87cdd2e8c1e3ce","node_id":"MDQ6QmxvYjIwNjM2NDowNDM4MTUzNjgyN2Q2NzEwYzAxYWYwZGViZTg3Y2RkMmU4YzFlM2Nl","size":6269,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/04381536827d6710c01af0debe87cdd2e8c1e3ce","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmlkZW50aWZpZXI7Cgpp\nbXBvcnQgamF2YS51dGlsLkhhc2hTZXQ7CmltcG9ydCBqYXZhLnV0aWwuU2V0\nOwoKaW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5sYW5nLkFycmF5VXRpbHM7\nCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMubGFuZy5DaGFyVXRpbHM7Cmlt\ncG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKCi8q\nKgogKiBUaGUgc3RhbmRhcmQgaWRlbnRpZmllciBydWxlLiAgUnVsZXMgYXJl\nIHVzZWQgZm9yIHNwZWNpZmljIGNvbmZpZ3VyYXRpb24KICogb2YgaWRlbnRp\nZmllciB0eXBlcy4gIEZvciBleGFtcGxlLiAgQSBydWxlIGNvdWxkIGJlIHVz\nZWQgdG8gaW5kaWNhdGUgdGhhdAogKiBhbiBpZGVudGlmaWVyIHR5cGUgc2hv\ndWxkIG5vdCBiZSBkZWxpbWl0ZWQgb3IgaGFzIGEgbWF4IGxlbmd0aCBvZiAy\nNTUgCiAqIGNoYXJhY3RlcnMuCiAqCiAqLwpwdWJsaWMgY2xhc3MgSWRlbnRp\nZmllclJ1bGUgewogICAgCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFNldDxT\ndHJpbmc+IEVNUFRZX1NFVCA9IG5ldyBIYXNoU2V0PFN0cmluZz4oMCk7CiAg\nICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBERUZBVUxUX1JVTEUgPSAi\nZGVmYXVsdCI7CiAgICBwdWJsaWMgc3RhdGljIGNoYXIgVU5ERVJTQ09SRSA9\nICdfJzsKCiAgICBwcml2YXRlIFN0cmluZyBfbmFtZTsKICAgIHByaXZhdGUg\naW50IF9tYXhMZW5ndGggPSAxMjg7CiAgICBwcml2YXRlIGJvb2xlYW4gX251\nbGxhYmxlID0gZmFsc2U7CiAgICBwcml2YXRlIGJvb2xlYW4gX2FsbG93VHJ1\nbmNhdGlvbiA9IGZhbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9hbGxvd0Nv\nbXBhY3Rpb24gPSB0cnVlOwogICAgcHJpdmF0ZSBib29sZWFuIF9jYW5EZWxp\nbWl0ID0gdHJ1ZTsKICAgIHByaXZhdGUgYm9vbGVhbiBfbXVzdERlbGltaXQg\nPSBmYWxzZTsKICAgIHByaXZhdGUgYm9vbGVhbiBfbXVzdEJlZ2luV2l0aExl\ndHRlciA9IHRydWU7CiAgICBwcml2YXRlIGJvb2xlYW4gX29ubHlMZXR0ZXJz\nRGlnaXRzVW5kZXJzY29yZXMgPSB0cnVlOwogICAgcHJpdmF0ZSBTdHJpbmcg\nX3NwZWNpYWxDaGFyYWN0ZXJzID0gIiI7CiAgICBwcml2YXRlIFNldDxTdHJp\nbmc+IF9yZXNlcnZlZFdvcmRzID0gbnVsbDsKICAgIHByaXZhdGUgYm9vbGVh\nbiBfZGVsaW1pdFJlc2VydmVkV29yZHMgPSBmYWxzZTsKICAgIHByaXZhdGUg\nU3RyaW5nIF93aWxkY2FyZCA9ICIlIjsKCiAgICBwdWJsaWMgdm9pZCBzZXRO\nYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgX25hbWUgPSBuYW1lOwogICAg\nfQogICAgCiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7CiAgICAgICAg\ncmV0dXJuIF9uYW1lOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1heExl\nbmd0aChpbnQgbWF4TGVuZ3RoKSB7CiAgICAgICAgX21heExlbmd0aCA9IG1h\neExlbmd0aDsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldE1heExlbmd0aCgp\nIHsKICAgICAgICByZXR1cm4gX21heExlbmd0aDsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRBbGxvd1RydW5jYXRpb24oYm9vbGVhbiBhbGxvd1RydW5j\nYXRpb24pIHsKICAgICAgICBfYWxsb3dUcnVuY2F0aW9uID0gYWxsb3dUcnVu\nY2F0aW9uOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzQWxsb3dUcnVu\nY2F0aW9uKCkgewogICAgICAgIHJldHVybiBfYWxsb3dUcnVuY2F0aW9uOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE51bGxhYmxlKGJvb2xlYW4gbnVs\nbGFibGUpIHsKICAgICAgICBfbnVsbGFibGUgPSBudWxsYWJsZTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBpc051bGxhYmxlKCkgewogICAgICAgIHJl\ndHVybiBfbnVsbGFibGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QWxs\nb3dDb21wYWN0aW9uKGJvb2xlYW4gYWxsb3dDb21wYWN0aW9uKSB7CiAgICAg\nICAgX2FsbG93Q29tcGFjdGlvbiA9IGFsbG93Q29tcGFjdGlvbjsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRBbGxvd0NvbXBhY3Rpb24oKSB7CiAg\nICAgICAgcmV0dXJuIF9hbGxvd0NvbXBhY3Rpb247CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0Q2FuRGVsaW1pdChib29sZWFuIGNhbkRlbGltaXQpIHsK\nICAgICAgICBfY2FuRGVsaW1pdCA9IGNhbkRlbGltaXQ7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gZ2V0Q2FuRGVsaW1pdCgpIHsKICAgICAgICByZXR1\ncm4gX2NhbkRlbGltaXQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TXVz\ndERlbGltaXQoYm9vbGVhbiBtdXN0RGVsaW1pdCkgewogICAgICAgIF9tdXN0\nRGVsaW1pdCA9IG11c3REZWxpbWl0OwogICAgfQoKICAgIHB1YmxpYyBib29s\nZWFuIGdldE11c3REZWxpbWl0KCkgewogICAgICAgIHJldHVybiBfbXVzdERl\nbGltaXQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TXVzdEJlZ2luV2l0\naExldHRlcihib29sZWFuIG11c3RCZWdpbldpdGhMZXR0ZXIpIHsKICAgICAg\nICBfbXVzdEJlZ2luV2l0aExldHRlciA9IG11c3RCZWdpbldpdGhMZXR0ZXI7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNNdXN0QmVnaW5XaXRoTGV0\ndGVyKCkgewogICAgICAgIHJldHVybiBfbXVzdEJlZ2luV2l0aExldHRlcjsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRPbmx5TGV0dGVyc0RpZ2l0c1Vu\nZGVyc2NvcmVzKGJvb2xlYW4gb25seUxldHRlcnNEaWdpdHNVbmRlcnNjb3Jl\ncykgewogICAgICAgIF9vbmx5TGV0dGVyc0RpZ2l0c1VuZGVyc2NvcmVzID0g\nb25seUxldHRlcnNEaWdpdHNVbmRlcnNjb3JlczsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBpc09ubHlMZXR0ZXJzRGlnaXRzVW5kZXJzY29yZXMoKSB7\nCiAgICAgICAgcmV0dXJuIF9vbmx5TGV0dGVyc0RpZ2l0c1VuZGVyc2NvcmVz\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlc2VydmVkV29yZHMoU2V0\nPFN0cmluZz4gcmVzZXJ2ZWRXb3JkcykgewogICAgICAgIF9yZXNlcnZlZFdv\ncmRzID0gcmVzZXJ2ZWRXb3JkczsKICAgIH0KCiAgICBwdWJsaWMgU2V0PFN0\ncmluZz4gZ2V0UmVzZXJ2ZWRXb3JkcygpIHsKICAgICAgICBpZiAoX3Jlc2Vy\ndmVkV29yZHMgPT0gbnVsbCkgewogICAgICAgICAgICBfcmVzZXJ2ZWRXb3Jk\ncyA9IG5ldyBIYXNoU2V0PFN0cmluZz4oKTsKICAgICAgICB9CiAgICAgICAg\ncmV0dXJuIF9yZXNlcnZlZFdvcmRzOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFNwZWNpYWxDaGFyYWN0ZXJzKFN0cmluZyBzcGVjaWFsQ2hhcmFjdGVy\ncykgewogICAgICAgIF9zcGVjaWFsQ2hhcmFjdGVycyA9IHNwZWNpYWxDaGFy\nYWN0ZXJzOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3BlY2lhbENo\nYXJhY3RlcnMoKSB7CiAgICAgICAgcmV0dXJuIF9zcGVjaWFsQ2hhcmFjdGVy\nczsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREZWxpbWl0UmVzZXJ2ZWRX\nb3Jkcyhib29sZWFuIGRlbGltaXRSZXNlcnZlZFdvcmRzKSB7CiAgICAgICAg\nZGVsaW1pdFJlc2VydmVkV29yZHMgPSBfZGVsaW1pdFJlc2VydmVkV29yZHM7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZ2V0RGVsaW1pdFJlc2VydmVk\nV29yZHMoKSB7CiAgICAgICAgcmV0dXJuIF9kZWxpbWl0UmVzZXJ2ZWRXb3Jk\nczsKICAgIH0KCiAgICAvKioKICAgICAqIFNRTCBpZGVudGlmaWVyIHJ1bGVz\nOgogICAgICogMSkgQ2FuIGJlIHVwIHRvIDEyOCBjaGFyYWN0ZXJzIGxvbmcK\nICAgICAqIDIpIE11c3QgYmVnaW4gd2l0aCBhIGxldHRlcgogICAgICogMykg\nQ2FuIGNvbnRhaW4gbGV0dGVycywgZGlnaXRzLCBhbmQgdW5kZXJzY29yZXMK\nICAgICAqIDQpIENhbid0IGNvbnRhaW4gc3BhY2VzIG9yIHNwZWNpYWwgY2hh\ncmFjdGVycyBzdWNoIGFzICMsICQsICYsICUsIG9yIAogICAgICogICAgcHVu\nY3R1YXRpb24uCiAgICAgKiA1KSBDYW4ndCBiZSByZXNlcnZlZCB3b3Jkcwog\nICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiByZXF1aXJlc0RlbGltaXRlcnMo\nU3RyaW5nIGlkZW50aWZpZXIpIHsKCiAgICAgICAgLy8gRG8gbm90IGRlbGlt\naXQgc2luZ2xlIHZhbHVlZCB3aWxkY2FyZHMgb3IgIj8iIG9yIG5hbWVzIHRo\nYXQgaGF2ZSBtZXRob2QtdHlwZQogICAgICAgIC8vIHNpZ25hdHVyZXMgKGV4\nLiBnZXRWYWx1ZSgpKS4gIFRoZXNlIGFyZSBjb25zaWRlcmVkIHNwZWNpYWwg\ndmFsdWVzIGluIE9wZW5KUEEKICAgICAgICAvLyBhbmQgc2hvdWxkIG5vdCBi\nZSBkZWxpbWl0ZWQuCiAgICAgICAgaWYgKF93aWxkY2FyZC5lcXVhbHMoaWRl\nbnRpZmllcikgfHwgIj8iLmVxdWFscyhpZGVudGlmaWVyKSB8fAogICAgICAg\nICAgICBpZGVudGlmaWVyLmVuZHNXaXRoKCIoKSIpKSB7CiAgICAgICAgICAg\nIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYg\nKGdldE11c3REZWxpbWl0KCkpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7\nCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIEFzc2VydCBpZGVudGlm\naWVyIGJlZ2lucyB3aXRoIGEgbGV0dGVyCiAgICAgICAgY2hhcltdIGNoYXJz\nID0gaWRlbnRpZmllci50b0NoYXJBcnJheSgpOwogICAgICAgIGlmIChpc011\nc3RCZWdpbldpdGhMZXR0ZXIoKSkgewogICAgICAgICAgICBpZiAoIUNoYXJV\ndGlscy5pc0FzY2lpQWxwaGEoY2hhcnNbMF0pKSB7CiAgICAgICAgICAgICAg\nICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAg\nICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGNoYXJzLCBhc3NlcnRpbmcgZGVsaW1p\ndGluZyBydWxlcyAKICAgICAgICBmb3IgKGNoYXIgY2ggOiBjaGFycykgewog\nICAgICAgICAgICBpZiAoaXNPbmx5TGV0dGVyc0RpZ2l0c1VuZGVyc2NvcmVz\nKCkpIHsKICAgICAgICAgICAgICAgIGlmICghQ2hhclV0aWxzLmlzQXNjaWlB\nbHBoYW51bWVyaWMoY2gpICYmICEoY2ggPT0gVU5ERVJTQ09SRSkpIHsKICAg\nICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBMb29rIGZvciBzcGVj\naWFsIGNoYXJhY3RlcnMKICAgICAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmNv\nbnRhaW5zKGdldFNwZWNpYWxDaGFyYWN0ZXJzKCksIGNoKSkgewogICAgICAg\nICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9\nCiAgICAgICAgLy8gRmluYWxseSwgbG9vayBmb3IgcmVzZXJ2ZWQgd29yZHMK\nICAgICAgICBpZiAoZ2V0RGVsaW1pdFJlc2VydmVkV29yZHMoKSkgewogICAg\nICAgICAgICBpZiAoaXNSZXNlcnZlZFdvcmQoaWRlbnRpZmllcikpIHsKICAg\nICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAg\nICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBpc1Jlc2VydmVkV29yZChTdHJpbmcgaWRlbnRpZmllcikgewog\nICAgICAgIHJldHVybiBfcmVzZXJ2ZWRXb3Jkcy5jb250YWlucyhpZGVudGlm\naWVyKTsKICAgIH0KfQo=\n","encoding":"base64"}

