{"sha":"1757da7690603199e4812a4ff72fb4344a7294c0","node_id":"MDQ6QmxvYjIwNjM2NDoxNzU3ZGE3NjkwNjAzMTk5ZTQ4MTJhNGZmNzJmYjQzNDRhNzI5NGMw","size":4061,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1757da7690603199e4812a4ff72fb4344a7294c0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmpkYmM7CgppbXBvcnQg\namF2YS5zcWwuQ29ubmVjdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubGliLmxvZy5Mb2c7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGli\nLmxvZy5Ob25lTG9nRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIudXRpbC5Mb2NhbGl6ZXI7CgovKioKICogUHJvdmllcyBiYXNpYyBs\nb2dnaW5nIGZhY2lsaXRpZXMgdG8gYSBEYXRhU291cmNlLgogKgogKiBAYXV0\naG9yIE1hcmMgUHJ1ZCdob21tZWF1eAogKiBAbm9qYXZhZG9jCiAqLwpwdWJs\naWMgY2xhc3MgRGF0YVNvdXJjZUxvZ3MgewoKICAgIHByaXZhdGUgc3RhdGlj\nIGZpbmFsIExvY2FsaXplciBfbG9jID0KICAgICAgICBMb2NhbGl6ZXIuZm9y\nUGFja2FnZShEYXRhU291cmNlTG9ncy5jbGFzcyk7CgogICAgcHJpdmF0ZSBM\nb2cgX2pkYmNMb2cgPSBudWxsOwogICAgcHJpdmF0ZSBMb2cgX3NxbExvZyA9\nIG51bGw7CgogICAgcHVibGljIERhdGFTb3VyY2VMb2dzKCkgewogICAgfQoK\nICAgIC8qKgogICAgICogVGhlIGxvZyB0byB3cml0ZSBKREJDIG1lc3NhZ2Vz\nIHRvLgogICAgICovCiAgICBwdWJsaWMgTG9nIGdldEpEQkNMb2coKSB7CiAg\nICAgICAgcmV0dXJuIChfamRiY0xvZyA9PSBudWxsKSA/IE5vbmVMb2dGYWN0\nb3J5Lk5vbmVMb2cuZ2V0SW5zdGFuY2UoKQogICAgICAgICAgICA6IF9qZGJj\nTG9nOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGxvZyB0byB3cml0ZSBK\nREJDIG1lc3NhZ2VzIHRvLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRK\nREJDTG9nKExvZyBsb2cpIHsKICAgICAgICBfamRiY0xvZyA9IGxvZzsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0cnVlIGlmIEpEQkMgbG9nZ2lu\nZyBpcyBlbmFibGVkLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc0pE\nQkNFbmFibGVkKCkgewogICAgICAgIHJldHVybiAoX2pkYmNMb2cgIT0gbnVs\nbCAmJiBfamRiY0xvZy5pc1RyYWNlRW5hYmxlZCgpKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFRoZSBsb2cgdG8gd3JpdGUgU1FMIG1lc3NhZ2VzIHRvLgog\nICAgICovCiAgICBwdWJsaWMgTG9nIGdldFNRTExvZygpIHsKICAgICAgICBy\nZXR1cm4gKF9zcWxMb2cgPT0gbnVsbCkgPyBOb25lTG9nRmFjdG9yeS5Ob25l\nTG9nLmdldEluc3RhbmNlKCkKICAgICAgICAgICAgOiBfc3FsTG9nOwogICAg\nfQoKICAgIC8qKgogICAgICogVGhlIGxvZyB0byB3cml0ZSBTUUwgbWVzc2Fn\nZXMgdG8uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFNRTExvZyhMb2cg\nbG9nKSB7CiAgICAgICAgX3NxbExvZyA9IGxvZzsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiB0cnVlIGlmIFNRTCBsb2dnaW5nIGlzIGVuYWJsZWQu\nCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzU1FMRW5hYmxlZCgpIHsK\nICAgICAgICByZXR1cm4gKF9zcWxMb2cgIT0gbnVsbCAmJiBfc3FsTG9nLmlz\nVHJhY2VFbmFibGVkKCkpOwogICAgfQoKICAgIC8qKgogICAgICogTG9nIGEg\nSkRCQyBtZXNzYWdlIG9uIGJlaGFsZiBvZiB0aGUgZ2l2ZW4gY29ubmVjdGlv\nbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgbG9nSkRCQyhTdHJpbmcgbXNn\nLCBDb25uZWN0aW9uIGNvbm4pIHsKICAgICAgICBsb2cobXNnLCBjb25uLCBf\namRiY0xvZyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBMb2cgYSBKREJDIG1l\nc3NhZ2Ugb24gYmVoYWxmIG9mIHRoZSBnaXZlbiBjb25uZWN0aW9uLgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBsb2dKREJDKFN0cmluZyBtc2csIGxvbmcg\nc3RhcnRUaW1lLCBDb25uZWN0aW9uIGNvbm4pIHsKICAgICAgICBsb2cobXNn\nLCBjb25uLCBfamRiY0xvZywgc3RhcnRUaW1lKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIExvZyBhIFNRTCBtZXNzYWdlIG9uIGJlaGFsZiBvZiB0aGUgZ2l2\nZW4gY29ubmVjdGlvbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgbG9nU1FM\nKFN0cmluZyBtc2csIENvbm5lY3Rpb24gY29ubikgewogICAgICAgIGxvZyht\nc2csIGNvbm4sIF9zcWxMb2cpOwogICAgfQoKICAgIC8qKgogICAgICogTG9n\nIGEgU1FMIG1lc3NhZ2Ugb24gYmVoYWxmIG9mIHRoZSBnaXZlbiBjb25uZWN0\naW9uLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBsb2dTUUwoU3RyaW5nIG1z\nZywgbG9uZyBzdGFydFRpbWUsIENvbm5lY3Rpb24gY29ubikgewogICAgICAg\nIGxvZyhtc2csIGNvbm4sIF9zcWxMb2csIHN0YXJ0VGltZSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBMb2cgYSBtZXNzYWdlIHRvIHRoZSBnaXZlbiBsb2dn\nZXIuCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIHZvaWQgbG9nKFN0cmlu\nZyBtc2csIENvbm5lY3Rpb24gY29ubiwgTG9nIGxvZykgewogICAgICAgIGxv\nZyhtc2csIGNvbm4sIGxvZywgLTEpOwogICAgfQoKICAgIC8qKgogICAgICog\nTG9nIGEgbWVzc2FnZSB0byB0aGUgZ2l2ZW4gbG9nZ2VyLgogICAgICovCiAg\nICBwcml2YXRlIHN0YXRpYyB2b2lkIGxvZyhTdHJpbmcgbXNnLCBDb25uZWN0\naW9uIGNvbm4sCiAgICAgICAgTG9nIGxvZywgbG9uZyBzdGFydFRpbWUpIHsK\nICAgICAgICBpZiAobG9nID09IG51bGwgfHwgIWxvZy5pc1RyYWNlRW5hYmxl\nZCgpKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIGxvbmcgdG90YWxU\naW1lID0gLTE7CiAgICAgICAgaWYgKHN0YXJ0VGltZSAhPSAtMSkKICAgICAg\nICAgICAgdG90YWxUaW1lID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkg\nLSBzdGFydFRpbWU7CgogICAgICAgIFN0cmluZ0J1aWxkZXIgYnVmID0gbmV3\nIFN0cmluZ0J1aWxkZXIoMjUgKyBtc2cubGVuZ3RoKCkpOwogICAgICAgIGJ1\nZi5hcHBlbmQoIjx0ICIpLmFwcGVuZChUaHJlYWQuY3VycmVudFRocmVhZCgp\nLmhhc2hDb2RlKCkpOwogICAgICAgIGlmIChjb25uICE9IG51bGwpCiAgICAg\nICAgICAgIGJ1Zi5hcHBlbmQoIiwgIikuYXBwZW5kKGNvbm4pOwogICAgICAg\nIGJ1Zi5hcHBlbmQoIj4gIik7CgogICAgICAgIC8vIGlmIHRoZSB0aW1lICE9\nIC0xLCBhcHBlbmQgdGltZSBwcm9maWxpbmcgaW5mb3JtYXRpb24KICAgICAg\nICBpZiAodG90YWxUaW1lICE9IC0xKQogICAgICAgICAgICBidWYuYXBwZW5k\nKCJbIikuYXBwZW5kKHRvdGFsVGltZSkuYXBwZW5kKCIgbXNdICIpOwoKICAg\nICAgICBidWYuYXBwZW5kKG1zZyk7CiAgICAgICAgbG9nLnRyYWNlKF9sb2Mu\nZ2V0KCJkYXRhc291cmNlLXRyYWNlLWRhdGEiLCBidWYudG9TdHJpbmcoKSkp\nOwogICAgfQp9Cgo=\n","encoding":"base64"}

