{"sha":"90584d0ae29301a53f25be5db3891333c58d18f8","node_id":"MDQ6QmxvYjIwNjM2NDo5MDU4NGQwYWUyOTMwMWE1M2YyNWJlNWRiMzg5MTMzM2M1OGQxOGY4","size":2449,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/90584d0ae29301a53f25be5db3891333c58d18f8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLm1ldGE7CgppbXBvcnQg\namF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyOwoKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIudXRpbC5KMkRvUHJpdkhlbHBlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CgovKioK\nICogVXRpbGl0eSBjbGFzcyBmb3IgcGVyZm9ybWluZyBjb21tb24gb3BlcmF0\naW9ucyBvbiB7QGxpbmsgU291cmNlVHJhY2tlcn1zLgogKgogKiBAc2luY2Ug\nMC4zLjMuMQogKi8KcHVibGljIGNsYXNzIFNvdXJjZVRyYWNrZXJzIHsKCiAg\nICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9CiAgICAg\nICAgTG9jYWxpemVyLmZvclBhY2thZ2UoU291cmNlVHJhY2tlcnMuY2xhc3Mp\nOwoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBTRVAgPSBKMkRv\nUHJpdkhlbHBlci5nZXRMaW5lU2VwYXJhdG9yKCk7CgogICAgLyoqCiAgICAg\nKiBDcmVhdGUgYSBtZXNzYWdlIGFwcHJvcHJpYXRlIGZvciBkaXNwbGF5IHRv\nIHRoZSB1c2VyIGRlc2NyaWJpbmcKICAgICAqIHRoZSBsb2NhdGlvbihzKSB0\naGF0IDxjb2RlPnRyYWNrZXJzPC9jb2RlPiB3ZXJlIGxvYWRlZCBmcm9tLgog\nICAgICoKICAgICAqIEBwYXJhbSB0cmFja2VycyB0aGUgc291cmNlLXRyYWNr\nZXJzIGZvciB3aGljaCBsb2NhdGlvbiBpbmZvIHNob3VsZAogICAgICogYmUg\ncHJvdmlkZWQuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIGdl\ndFNvdXJjZUxvY2F0aW9uTWVzc2FnZShTb3VyY2VUcmFja2VyW10gdHJhY2tl\ncnMpIHsKICAgICAgICBTdHJpbmdCdWlsZGVyIGJ1ZiA9IG5ldyBTdHJpbmdC\ndWlsZGVyKDIwICogKHRyYWNrZXJzLmxlbmd0aCArIDEpKTsKICAgICAgICBi\ndWYuYXBwZW5kKF9sb2MuZ2V0KCJzb3VyY2UtdHJhY2tlcnMtbG9jYXRpb24t\naGVhZGVyIikpLmFwcGVuZChTRVApOwogICAgICAgIFN0cmluZyBzb3VyY2VG\naWxlUGF0aDsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHRyYWNrZXJz\nLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHNvdXJjZUZpbGVQYXRoID0g\nKHRyYWNrZXJzW2ldLmdldFNvdXJjZUZpbGUoKSA9PSBudWxsID8KICAgICAg\nICAgICAgICAgIF9sb2MuZ2V0KCJzb3VyY2UtdHJhY2tlci1maWxlLXVua25v\nd24iKS5nZXRNZXNzYWdlKCkgOgogICAgICAgICAgICAgICAgQWNjZXNzQ29u\ndHJvbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAgICAgICAgICAgICAgSjJE\nb1ByaXZIZWxwZXIuZ2V0QWJzb2x1dGVQYXRoQWN0aW9uKAogICAgICAgICAg\nICAgICAgICAgICAgICB0cmFja2Vyc1tpXS5nZXRTb3VyY2VGaWxlKCkpKSk7\nCiAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIiAgIikuYXBwZW5kKF9sb2MuZ2V0\nKAogICAgICAgICAgICAgICAgInNvdXJjZS10cmFja2Vycy1sb2NhdGlvbi1s\naW5lLWl0ZW0iLAogICAgICAgICAgICAgICAgdHJhY2tlcnNbaV0uZ2V0UmVz\nb3VyY2VOYW1lKCksIHNvdXJjZUZpbGVQYXRoKSk7CiAgICAgICAgICAgIGlm\nIChpIDwgdHJhY2tlcnMubGVuZ3RoIC0gMSkKICAgICAgICAgICAgICAgIGJ1\nZi5hcHBlbmQoU0VQKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJ1Zi50\nb1N0cmluZygpOwogICAgfQp9Cg==\n","encoding":"base64"}

