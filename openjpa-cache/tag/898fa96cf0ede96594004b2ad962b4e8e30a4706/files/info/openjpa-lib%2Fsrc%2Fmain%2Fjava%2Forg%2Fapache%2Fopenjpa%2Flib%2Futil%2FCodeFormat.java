{"sha":"7f9f74813b9228005bfb4dbc25de2b6611e54ee5","node_id":"MDQ6QmxvYjIwNjM2NDo3ZjlmNzQ4MTNiOTIyODAwNWJmYjRkYmMyNWRlMmI2NjExZTU0ZWU1","size":15593,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7f9f74813b9228005bfb4dbc25de2b6611e54ee5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgovKioKICog\nRW5jYXBzdWxhdGVzIHNvbWUgY29tbW9uIEphdmEgc291cmNlIGNvZGUgZm9y\nbWF0dGluZyBvcHRpb25zLiBUaGUKICogY2xhc3MgY2FuIGFsc28gYmUgdXNl\nZCBhcyBhIGJ1ZmZlciBmb3IgZm9ybWF0dGVkIEphdmEgY29kZS4KICoKICog\nQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBmaW5hbCBjbGFzcyBDb2Rl\nRm9ybWF0IGltcGxlbWVudHMgQ2xvbmVhYmxlIHsKCiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgX3NlcCA9IEoyRG9Qcml2SGVscGVyLmdldExp\nbmVTZXBhcmF0b3IoKTsKCiAgICBwcml2YXRlIFN0cmluZyBfdGFiID0gIlx0\nIjsKICAgIHByaXZhdGUgYm9vbGVhbiBfc3BhY2VCZWZvcmVQYXJlbiA9IGZh\nbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9zcGFjZUluUGFyZW4gPSBmYWxz\nZTsKICAgIHByaXZhdGUgYm9vbGVhbiBfYnJhY2VPblNhbWVMaW5lID0gdHJ1\nZTsKICAgIHByaXZhdGUgYm9vbGVhbiBfYnJhY2VBdFNhbWVUYWJMZXZlbCA9\nIGZhbHNlOwogICAgcHJpdmF0ZSBib29sZWFuIF9zY29yZUJlZm9yZUZpZWxk\nTmFtZSA9IGZhbHNlOwogICAgcHJpdmF0ZSBpbnQgX2xpbmVzQmV0d2VlblNl\nY3Rpb25zID0gMTsKCiAgICBwcml2YXRlIFN0cmluZ0J1ZmZlciBfYnVmID0g\nbmV3IFN0cmluZ0J1ZmZlcigpOwoKICAgIC8qKgogICAgICogVGhlIG51bWJl\nciBvZiBzcGFjZXMgdG8gdXNlIGZvciB0YWJzOyAwIG1lYW5zIHRvIHVzZSBh\nY3R1YWwgdGFiCiAgICAgKiBjaGFyYWN0ZXJzLiBEZWZhdWx0cyB0byAwLgog\nICAgICovCiAgICBwdWJsaWMgaW50IGdldFRhYlNwYWNlcygpIHsKICAgICAg\nICByZXR1cm4gKF90YWIuZXF1YWxzKCJcdCIpKSA/IDAgOiBfdGFiLmxlbmd0\naCgpOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG51bWJlciBvZiBzcGFj\nZXMgdG8gdXNlIGZvciB0YWJzOyAwIG1lYW5zIHRvIHVzZSBhY3R1YWwgdGFi\nCiAgICAgKiBjaGFyYWN0ZXJzLiBEZWZhdWx0cyB0byAwLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRUYWJTcGFjZXMoaW50IHRhYikgewogICAgICAg\nIGlmICh0YWIgPT0gMCkKICAgICAgICAgICAgX3RhYiA9ICJcdCI7CiAgICAg\nICAgZWxzZSB7CiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgdGFicyA9IG5l\ndyBTdHJpbmdCdWlsZGVyKHRhYik7CiAgICAgICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgdGFiOyBpKyspCiAgICAgICAgICAgICAgICB0YWJzLmFwcGVu\nZCgiICIpOwogICAgICAgICAgICBfdGFiID0gdGFicy50b1N0cmluZygpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcGxh\nY2UgYSBzcGFjZSBiZWZvcmUgcGFyZW50aGVzZXMuIERlZmF1bHRzIHRvIGZh\nbHNlLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRTcGFjZUJlZm9y\nZVBhcmVuKCkgewogICAgICAgIHJldHVybiBfc3BhY2VCZWZvcmVQYXJlbjsK\nICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcGxhY2UgYSBzcGFj\nZSBiZWZvcmUgcGFyZW50aGVzZXMuIERlZmF1bHRzIHRvIGZhbHNlLgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCBzZXRTcGFjZUJlZm9yZVBhcmVuKGJvb2xl\nYW4gc3BhY2VCZWZvcmVQYXJlbikgewogICAgICAgIF9zcGFjZUJlZm9yZVBh\ncmVuID0gc3BhY2VCZWZvcmVQYXJlbjsKICAgIH0KCiAgICAvKioKICAgICAq\nIFdoZXRoZXIgdG8gcGxhY2UgYSBzcGFjZSB3aXRoaW4gcGFyZW50aGVzZXMu\nIERlZmF1bHRzIHRvIGZhbHNlLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVh\nbiBnZXRTcGFjZUluUGFyZW4oKSB7CiAgICAgICAgcmV0dXJuIF9zcGFjZUlu\nUGFyZW47CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIHBsYWNl\nIGEgc3BhY2Ugd2l0aGluIHBhcmVudGhlc2VzLiBEZWZhdWx0cyB0byBmYWxz\nZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0U3BhY2VJblBhcmVuKGJv\nb2xlYW4gc3BhY2VJblBhcmVuKSB7CiAgICAgICAgX3NwYWNlSW5QYXJlbiA9\nIHNwYWNlSW5QYXJlbjsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIg\ndG8gcGxhY2Ugb3BlbmluZyBicmFjZXMgb24gdGhlIHNhbWUgbGluZSBhcyB0\naGUKICAgICAqIGJsb2NrIGRlY2xhcmF0aW9uLCBvciBvbiB0aGUgbmV4dCBs\naW5lLiBEZWZhdWx0cyB0byBzYW1lIGxpbmUuCiAgICAgKi8KICAgIHB1Ymxp\nYyBib29sZWFuIGdldEJyYWNlT25TYW1lTGluZSgpIHsKICAgICAgICByZXR1\ncm4gX2JyYWNlT25TYW1lTGluZTsKICAgIH0KCiAgICAvKioKICAgICAqIFdo\nZXRoZXIgdG8gcGxhY2Ugb3BlbmluZyBicmFjZXMgb24gdGhlIHNhbWUgbGlu\nZSBhcyB0aGUKICAgICAqIGJsb2NrIGRlY2xhcmF0aW9uLCBvciBvbiB0aGUg\nbmV4dCBsaW5lLiBEZWZhdWx0cyB0byBzYW1lIGxpbmUuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldEJyYWNlT25TYW1lTGluZShib29sZWFuIGJyYWNl\nT25TYW1lTGluZSkgewogICAgICAgIF9icmFjZU9uU2FtZUxpbmUgPSBicmFj\nZU9uU2FtZUxpbmU7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRv\nIHBsYWNlIGJyYWNlcyBhdCB0aGUgc2FtZSB0YWIgbGV2ZWwgYXMgdGhlIGNv\nZGUgd2l0aGluCiAgICAgKiB0aGUgYmxvY2suIERlZmF1bHRzIHRvIGZhbHNl\nLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRCcmFjZUF0U2FtZVRh\nYkxldmVsKCkgewogICAgICAgIHJldHVybiBfYnJhY2VBdFNhbWVUYWJMZXZl\nbDsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcGxhY2UgYnJh\nY2VzIGF0IHRoZSBzYW1lIHRhYiBsZXZlbCBhcyB0aGUgY29kZSB3aXRoaW4K\nICAgICAqIHRoZSBibG9jay4gRGVmYXVsdHMgdG8gZmFsc2UuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldEJyYWNlQXRTYW1lVGFiTGV2ZWwoYm9vbGVh\nbiBicmFjZUF0U2FtZVRhYkxldmVsKSB7CiAgICAgICAgX2JyYWNlQXRTYW1l\nVGFiTGV2ZWwgPSBicmFjZUF0U2FtZVRhYkxldmVsOwogICAgfQoKICAgIC8q\nKgogICAgICogV2hldGhlciB0byBwbGFjZSBhbiB1bmRlcnNjb3JlIGJlZm9y\nZSBwcml2YXRlIGZpZWxkIG5hbWVzLiBEZWZhdWx0cwogICAgICogdG8gZmFs\nc2UuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGdldFNjb3JlQmVmb3Jl\nRmllbGROYW1lKCkgewogICAgICAgIHJldHVybiBfc2NvcmVCZWZvcmVGaWVs\nZE5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIHBsYWNl\nIGFuIHVuZGVyc2NvcmUgYmVmb3JlIHByaXZhdGUgZmllbGQgbmFtZXMuIERl\nZmF1bHRzCiAgICAgKiB0byBmYWxzZS4KICAgICAqLwogICAgcHVibGljIHZv\naWQgc2V0U2NvcmVCZWZvcmVGaWVsZE5hbWUoYm9vbGVhbiBzY29yZUJlZm9y\nZUZpZWxkTmFtZSkgewogICAgICAgIF9zY29yZUJlZm9yZUZpZWxkTmFtZSA9\nIHNjb3JlQmVmb3JlRmllbGROYW1lOwogICAgfQoKICAgIC8qKgogICAgICog\nVGhlIG51bWJlciBvZiBlbXB0eSBsaW5lcyBiZXR3ZWVuIGNvZGUgc2VjdGlv\nbnMuIERlZmF1bHRzIHRvIDEuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0\nTGluZXNCZXR3ZWVuU2VjdGlvbnMoKSB7CiAgICAgICAgcmV0dXJuIF9saW5l\nc0JldHdlZW5TZWN0aW9uczsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBu\ndW1iZXIgb2YgZW1wdHkgbGluZXMgYmV0d2VlbiBzZWN0aW9ucy4gRGVmYXVs\ndHMgdG8gMS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0TGluZXNCZXR3\nZWVuU2VjdGlvbnMoaW50IGxpbmVzQmV0d2VlblNlY3Rpb25zKSB7CiAgICAg\nICAgX2xpbmVzQmV0d2VlblNlY3Rpb25zID0gbGluZXNCZXR3ZWVuU2VjdGlv\nbnM7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBuZXcgbGluZSBj\naGFyYWN0ZXIuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW5kbCgp\nIHsKICAgICAgICByZXR1cm4gZ2V0RW5kbCgxKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG5ldyBsaW5lIGNo\nYXJhY3RlcnMuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW5kbChp\nbnQgbnVtKSB7CiAgICAgICAgaWYgKG51bSA9PSAwKQogICAgICAgICAgICBy\nZXR1cm4gIiI7CiAgICAgICAgaWYgKG51bSA9PSAxKQogICAgICAgICAgICBy\nZXR1cm4gX3NlcDsKCiAgICAgICAgU3RyaW5nQnVpbGRlciBidWYgPSBuZXcg\nU3RyaW5nQnVpbGRlcihfc2VwLmxlbmd0aCgpICogbnVtKTsKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IG51bTsgaSsrKQogICAgICAgICAgICBidWYu\nYXBwZW5kKF9zZXApOwogICAgICAgIHJldHVybiBidWYudG9TdHJpbmcoKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgZ2l2ZW4gbnVtYmVy\nIG9mIG5ldyBsaW5lIGNoYXJhY3RlcnMsIGZvbGxvd2VkIGJ5CiAgICAgKiB0\naGUgZ2l2ZW4gdGFiIGxldmVsIGluZGVudGF0aW9uLgogICAgICovCiAgICBw\ndWJsaWMgU3RyaW5nIGdldEVuZGwoaW50IG51bSwgaW50IHRhYnMpIHsKICAg\nICAgICByZXR1cm4gZ2V0RW5kbChudW0pICsgZ2V0VGFiKHRhYnMpOwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIHsjZ2V0TGluZXNCZXR3ZWVuU2Vj\ndGlvbnN9ICsgMSBuZXcgbGluZSBjaGFyYWN0ZXJzLgogICAgICovCiAgICBw\ndWJsaWMgU3RyaW5nIGdldEFmdGVyU2VjdGlvbigpIHsKICAgICAgICByZXR1\ncm4gZ2V0RW5kbChnZXRMaW5lc0JldHdlZW5TZWN0aW9ucygpICsgMSk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBPcGVuIHBhcmVudGhlc2VzIHN0cmluZy4g\nVXNlcnMgY2FuIGNob29zZSB0byBwbGFjZSBzcGFjZXMgYmVmb3JlCiAgICAg\nKiBhbmQgd2l0aGluIHBhcmVudGhlc2VzLgogICAgICovCiAgICBwdWJsaWMg\nU3RyaW5nIGdldE9wZW5QYXJlbihib29sZWFuIG1ldGhvZE9ySWYpIHsKICAg\nICAgICBpZiAoKF9zcGFjZUJlZm9yZVBhcmVuICYmIG1ldGhvZE9ySWYpICYm\nIF9zcGFjZUluUGFyZW4pCiAgICAgICAgICAgIHJldHVybiAiICggIjsKICAg\nICAgICBpZiAoX3NwYWNlQmVmb3JlUGFyZW4gJiYgbWV0aG9kT3JJZikKICAg\nICAgICAgICAgcmV0dXJuICIgKCI7CiAgICAgICAgaWYgKF9zcGFjZUluUGFy\nZW4pCiAgICAgICAgICAgIHJldHVybiAiKCAiOwogICAgICAgIHJldHVybiAi\nKCI7CiAgICB9CgogICAgLyoqCiAgICAgKiBDbG9zZSBwYXJlbnRoZXNlcyBz\ndHJpbmcuIFVzZXJzIGNhbiBjaG9vc2UgdG8gcGxhY2Ugc3BhY2VzIHdpdGhp\nbgogICAgICogcGFyZW50aGVzZXMuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0Q2xvc2VQYXJlbigpIHsKICAgICAgICBpZiAoX3NwYWNlSW5QYXJl\nbikKICAgICAgICAgICAgcmV0dXJuICIgKSI7CiAgICAgICAgcmV0dXJuICIp\nIjsKICAgIH0KCiAgICAvKioKICAgICAqIFBhaXJlZCBwYXJlbnRoZXNlcyBm\nb3IgZW1wdHkgbWV0aG9kIHBhcmFtZXRlcnMuIFVzZXJzIGNhbiBjaG9vc2UK\nICAgICAqIHRvIHBsYWNlIHNwYWNlcyBiZWZvcmUgcGFyZW50aGVzZXMuCiAg\nICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFyZW5zKCkgewogICAgICAg\nIGlmIChfc3BhY2VCZWZvcmVQYXJlbikKICAgICAgICAgICAgcmV0dXJuICIg\nKCkiOwogICAgICAgIHJldHVybiAiKCkiOwogICAgfQoKICAgIC8qKgogICAg\nICogT3BlbiBicmFjZSBzdHJpbmcuIFVzZXJzIGNhbiBjaG9vc2UgdG8gcGxh\nY2UgYnJhY2VzIG9uIHRoZSBzYW1lCiAgICAgKiBsaW5lLCBvciBvbiBhIG5l\ndyBsaW5lLCBhbmQgY2FuIGNob29zZSB0aGUgaW5kZW50aW5nIGxldmVsLgog\nICAgICoKICAgICAqIEBwYXJhbSB0YWJMZXZlbCB0aGUgdGFiIGxldmVsIG9m\nIGNvZGUgd2l0aGluIHRoZSBicmFjZQogICAgICovCiAgICBwdWJsaWMgU3Ry\naW5nIGdldE9wZW5CcmFjZShpbnQgdGFiTGV2ZWwpIHsKICAgICAgICBpZiAo\nX2JyYWNlT25TYW1lTGluZSkKICAgICAgICAgICAgcmV0dXJuICIgeyI7CiAg\nICAgICAgaWYgKF9icmFjZUF0U2FtZVRhYkxldmVsKQogICAgICAgICAgICBy\nZXR1cm4gZ2V0RW5kbCgpICsgZ2V0VGFiKHRhYkxldmVsKSArICJ7IjsKICAg\nICAgICByZXR1cm4gZ2V0RW5kbCgpICsgZ2V0VGFiKHRhYkxldmVsIC0gMSkg\nKyAieyI7CiAgICB9CgogICAgLyoqCiAgICAgKiBDbG9zZSBicmFjZSBzdHJp\nbmcuIFVzZXJzIGNhbiBjaG9vc2UgdG8gcGxhY2UgYnJhY2VzIG9uIHRoZSBz\nYW1lCiAgICAgKiBsaW5lLCBvciBvbiBhIG5ldyBsaW5lLCBhbmQgY2FuIGNo\nb29zZSB0aGUgaW5kZW50aW5nIGxldmVsLgogICAgICoKICAgICAqIEBwYXJh\nbSB0YWJMZXZlbCB0aGUgdGFiIGxldmVsIG9mIGNvZGUgd2l0aGluIHRoZSBi\ncmFjZQogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldENsb3NlQnJhY2Uo\naW50IHRhYkxldmVsKSB7CiAgICAgICAgaWYgKF9icmFjZUF0U2FtZVRhYkxl\ndmVsKQogICAgICAgICAgICByZXR1cm4gZ2V0VGFiKHRhYkxldmVsKSArICJ9\nIjsKICAgICAgICByZXR1cm4gZ2V0VGFiKHRhYkxldmVsIC0gMSkgKyAifSI7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBFeHRlbmRzIGRlY2xhcmF0aW9uLiBV\nc2VzIGNvbmZpZ3VyYXRpb24gb2Yge0BsaW5rICNvcGVuQnJhY2V9LAogICAg\nICogYnV0IHByaW50cyAiZXh0ZW5kcyIgaW5zdGVhZCBvZiBhIGJyYWNlLgog\nICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldEV4dGVuZHNEZWMoaW50IHRh\nYkxldmVsKSB7CiAgICAgICAgaWYgKF9icmFjZU9uU2FtZUxpbmUpCiAgICAg\nICAgICAgIHJldHVybiAiIGV4dGVuZHMiOwogICAgICAgIGlmIChfYnJhY2VB\ndFNhbWVUYWJMZXZlbCkKICAgICAgICAgICAgcmV0dXJuIGdldEVuZGwoKSAr\nIGdldFRhYih0YWJMZXZlbCkgKyAiZXh0ZW5kcyI7CiAgICAgICAgcmV0dXJu\nIGdldEVuZGwoKSArIGdldFRhYih0YWJMZXZlbCkgKyAiZXh0ZW5kcyI7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBJbXBsZW1lbnRzIGRlY2xhcmF0aW9uLiBV\nc2VzIGNvbmZpZ3VyYXRpb24gb2Yge0BsaW5rICNvcGVuQnJhY2V9LAogICAg\nICogYnV0IHByaW50cyAiaW1wbGVtZW50cyIgaW5zdGVhZCBvZiBhIGJyYWNl\nLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldEltcGxlbWVudHNEZWMo\naW50IHRhYkxldmVsKSB7CiAgICAgICAgaWYgKF9icmFjZU9uU2FtZUxpbmUp\nCiAgICAgICAgICAgIHJldHVybiAiIGltcGxlbWVudHMiOwogICAgICAgIGlm\nIChfYnJhY2VBdFNhbWVUYWJMZXZlbCkKICAgICAgICAgICAgcmV0dXJuIGdl\ndEVuZGwoKSArIGdldFRhYih0YWJMZXZlbCkgKyAiaW1wbGVtZW50cyI7CiAg\nICAgICAgcmV0dXJuIGdldEVuZGwoKSArIGdldFRhYih0YWJMZXZlbCkgKyAi\naW1wbGVtZW50cyI7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaHJvd3MgZGVj\nbGFyYXRpb24uIFVzZXMgY29uZmlndXJhdGlvbiBvZiB7QGxpbmsgI29wZW5C\ncmFjZX0sCiAgICAgKiBidXQgcHJpbnRzICJ0aHJvd3MiIGluc3RlYWQgb2Yg\nYSBicmFjZS4KICAgICAqLwogICAgcHVibGljIFN0cmluZyBnZXRUaHJvd3NE\nZWMoaW50IHRhYkxldmVsKSB7CiAgICAgICAgaWYgKF9icmFjZU9uU2FtZUxp\nbmUpCiAgICAgICAgICAgIHJldHVybiAiIHRocm93cyI7CiAgICAgICAgaWYg\nKF9icmFjZUF0U2FtZVRhYkxldmVsKQogICAgICAgICAgICByZXR1cm4gZ2V0\nRW5kbCgpICsgZ2V0VGFiKHRhYkxldmVsKSArICJ0aHJvd3MiOwogICAgICAg\nIHJldHVybiBnZXRFbmRsKCkgKyBnZXRUYWIodGFiTGV2ZWwpICsgInRocm93\ncyI7CiAgICB9CgogICAgLyoqCiAgICAgKiBUYWIgc3RyaW5nLiBVc2VycyBj\nYW4gY2hvb3NlIHRvIHVzZSBzcGFjZXMgb3IgdGFiIGNoYXJhY3RlcnMuCiAg\nICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGFiKCkgewogICAgICAgIHJl\ndHVybiBnZXRUYWIoMSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUYWIgc3Ry\naW5nLiBVc2VycyBjYW4gY2hvb3NlIHRvIHVzZSBzcGFjZXMgb3IgdGFiIGNo\nYXJhY3RlcnMuCiAgICAgKgogICAgICogQHBhcmFtIHRhYkxldmVsIHRoZSBu\ndW1iZXIgb2YgdGFicwogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFRh\nYihpbnQgdGFiTGV2ZWwpIHsKICAgICAgICBpZiAodGFiTGV2ZWwgPT0gMCkK\nICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIGlmICh0YWJMZXZlbCA9\nPSAxKQogICAgICAgICAgICByZXR1cm4gX3RhYjsKCiAgICAgICAgU3RyaW5n\nQnVpbGRlciB0YWJzID0gbmV3IFN0cmluZ0J1aWxkZXIoX3RhYi5sZW5ndGgo\nKSAqIHRhYkxldmVsKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHRh\nYkxldmVsOyBpKyspCiAgICAgICAgICAgIHRhYnMuYXBwZW5kKF90YWIpOwog\nICAgICAgIHJldHVybiB0YWJzLnRvU3RyaW5nKCk7CiAgICB9CgoKICAgIC8q\nKgogICAgICogUmV0dXJucyBwYXJhbWV0cml6ZWQgdHlwZSBzdHJpbmcgZm9y\nIGdpdmVuIHR5cGUocykuCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nUGFyYW1ldHJpemVkVHlwZShTdHJpbmdbXSB0eXBlbmFtZXMpIHsKICAgICAg\nICBTdHJpbmdCdWlsZGVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAg\nICAgICAgYnVmLmFwcGVuZCgiPCIpOwogICAgICAgIGZvciAoaW50IGkgPSAw\nOyBpIDwgdHlwZW5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlm\nIChpID4gMCkKICAgICAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIiwgIik7CiAg\nICAgICAgICAgIGJ1Zi5hcHBlbmQodHlwZW5hbWVzW2ldKTsKICAgICAgICB9\nCiAgICAgICAgYnVmLmFwcGVuZCgiPiIpOwogICAgICAgIHJldHVybiBidWYu\ndG9TdHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUg\nZmllbGQgbmFtZSBmb3IgZ2l2ZW4gc3VnZ2VzdGVkIG5hbWUsIHBvc3NpYmx5\nIGFkZGluZwogICAgICogbGVhZGluZyB1bmRlcnNjb3JlLgogICAgICovCiAg\nICBwdWJsaWMgU3RyaW5nIGdldEZpZWxkTmFtZShTdHJpbmcgZmllbGROYW1l\nKSB7CiAgICAgICAgcmV0dXJuIChfc2NvcmVCZWZvcmVGaWVsZE5hbWUpID8g\nIl8iICsgZmllbGROYW1lIDogZmllbGROYW1lOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIHRoZSBpbnRlcm5hbCBjb2RlIGJ1ZmZlci4KICAgICAq\nLwogICAgcHVibGljIFN0cmluZ0J1ZmZlciBnZXRCdWZmZXIoKSB7CiAgICAg\nICAgcmV0dXJuIF9idWY7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQg\ndGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAg\nKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGFwcGVuZChib29sZWFuIHZhbCkg\newogICAgICAgIF9idWYuYXBwZW5kKHZhbCk7CiAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZh\nbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKi8KICAgIHB1Ymxp\nYyBDb2RlRm9ybWF0IGFwcGVuZChieXRlIHZhbCkgewogICAgICAgIF9idWYu\nYXBwZW5kKHZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRl\ncm5hbCBidWZmZXIuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGFw\ncGVuZChjaGFyIHZhbCkgewogICAgICAgIF9idWYuYXBwZW5kKHZhbCk7CiAg\nICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBl\nbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAg\nICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0IGFwcGVuZChkb3VibGUgdmFs\nKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQodmFsKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4g\ndmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqLwogICAgcHVi\nbGljIENvZGVGb3JtYXQgYXBwZW5kKGZsb2F0IHZhbCkgewogICAgICAgIF9i\ndWYuYXBwZW5kKHZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBp\nbnRlcm5hbCBidWZmZXIuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0\nIGFwcGVuZChpbnQgdmFsKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQodmFsKTsK\nICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFw\ncGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4K\nICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQgYXBwZW5kKGxvbmcgdmFs\nKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQodmFsKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4g\ndmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqLwogICAgcHVi\nbGljIENvZGVGb3JtYXQgYXBwZW5kKHNob3J0IHZhbCkgewogICAgICAgIF9i\ndWYuYXBwZW5kKHZhbCk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBp\nbnRlcm5hbCBidWZmZXIuCiAgICAgKi8KICAgIHB1YmxpYyBDb2RlRm9ybWF0\nIGFwcGVuZChPYmplY3QgdmFsKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQodmFs\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAq\nIEFwcGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZl\nci4KICAgICAqCiAgICAgKiBAc2VlICNnZXRFbmRsKCkKICAgICAqLwogICAg\ncHVibGljIENvZGVGb3JtYXQgZW5kbCgpIHsKICAgICAgICBfYnVmLmFwcGVu\nZChnZXRFbmRsKCkpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAg\nIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50\nZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUgI2dldEVuZGwoaW50\nKQogICAgICovCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBlbmRsKGludCBudW0p\nIHsKICAgICAgICBfYnVmLmFwcGVuZChnZXRFbmRsKG51bSkpOwogICAgICAg\nIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRo\nZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoK\nICAgICAqIEBzZWUgI2dldEVuZGwoaW50LCBpbnQpCiAgICAgKi8KICAgIHB1\nYmxpYyBDb2RlRm9ybWF0IGVuZGwoaW50IG51bSwgaW50IHRhYnMpIHsKICAg\nICAgICBfYnVmLmFwcGVuZChnZXRFbmRsKG51bSwgdGFicykpOwogICAgICAg\nIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRo\nZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoK\nICAgICAqIEBzZWUgI2dldEFmdGVyU2VjdGlvbgogICAgICovCiAgICBwdWJs\naWMgQ29kZUZvcm1hdCBhZnRlclNlY3Rpb24oKSB7CiAgICAgICAgX2J1Zi5h\ncHBlbmQoZ2V0QWZ0ZXJTZWN0aW9uKCkpOwogICAgICAgIHJldHVybiB0aGlz\nOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2YWx1\nZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBzZWUg\nI2dldE9wZW5QYXJlbgogICAgICovCiAgICBwdWJsaWMgQ29kZUZvcm1hdCBv\ncGVuUGFyZW4oYm9vbGVhbiBtZXRob2RPcklmKSB7CiAgICAgICAgX2J1Zi5h\ncHBlbmQoZ2V0T3BlblBhcmVuKG1ldGhvZE9ySWYpKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2\nZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAg\nKiBAc2VlICNnZXRDbG9zZVBhcmVuCiAgICAgKi8KICAgIHB1YmxpYyBDb2Rl\nRm9ybWF0IGNsb3NlUGFyZW4oKSB7CiAgICAgICAgX2J1Zi5hcHBlbmQoZ2V0\nQ2xvc2VQYXJlbigpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAg\nICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4gdmFsdWUgdG8gdGhlIGlu\ndGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBAc2VlICNnZXRQYXJlbnMK\nICAgICAqLwogICAgcHVibGljIENvZGVGb3JtYXQgcGFyZW5zKCkgewogICAg\nICAgIF9idWYuYXBwZW5kKGdldFBhcmVucygpKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4g\ndmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBA\nc2VlICNnZXRPcGVuQnJhY2UKICAgICAqLwogICAgcHVibGljIENvZGVGb3Jt\nYXQgb3BlbkJyYWNlKGludCB0YWJMZXZlbCkgewogICAgICAgIF9idWYuYXBw\nZW5kKGdldE9wZW5CcmFjZSh0YWJMZXZlbCkpOwogICAgICAgIHJldHVybiB0\naGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kIHRoZSBnaXZlbiB2\nYWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgogICAgICoKICAgICAqIEBz\nZWUgI2dldENsb3NlQnJhY2UKICAgICAqLwogICAgcHVibGljIENvZGVGb3Jt\nYXQgY2xvc2VCcmFjZShpbnQgdGFiTGV2ZWwpIHsKICAgICAgICBfYnVmLmFw\ncGVuZChnZXRDbG9zZUJyYWNlKHRhYkxldmVsKSk7CiAgICAgICAgcmV0dXJu\nIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBlbmQgdGhlIGdpdmVu\nIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAgICAgKgogICAgICog\nQHNlZSAjZ2V0RXh0ZW5kc0RlYwogICAgICovCiAgICBwdWJsaWMgQ29kZUZv\ncm1hdCBleHRlbmRzRGVjKGludCB0YWJMZXZlbCkgewogICAgICAgIF9idWYu\nYXBwZW5kKGdldEV4dGVuZHNEZWModGFiTGV2ZWwpKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2\nZW4gdmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAg\nKiBAc2VlICNnZXRJbXBsZW1lbnRzRGVjCiAgICAgKi8KICAgIHB1YmxpYyBD\nb2RlRm9ybWF0IGltcGxlbWVudHNEZWMoaW50IHRhYkxldmVsKSB7CiAgICAg\nICAgX2J1Zi5hcHBlbmQoZ2V0SW1wbGVtZW50c0RlYyh0YWJMZXZlbCkpOwog\nICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8qKgogICAgICogQXBw\nZW5kIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgaW50ZXJuYWwgYnVmZmVyLgog\nICAgICoKICAgICAqIEBzZWUgI2dldFRocm93c0RlYwogICAgICovCiAgICBw\ndWJsaWMgQ29kZUZvcm1hdCB0aHJvd3NEZWMoaW50IHRhYkxldmVsKSB7CiAg\nICAgICAgX2J1Zi5hcHBlbmQoZ2V0VGhyb3dzRGVjKHRhYkxldmVsKSk7CiAg\nICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHBl\nbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZmZXIuCiAg\nICAgKgogICAgICogQHNlZSAjZ2V0VGFiCiAgICAgKi8KICAgIHB1YmxpYyBD\nb2RlRm9ybWF0IHRhYigpIHsKICAgICAgICBfYnVmLmFwcGVuZChnZXRUYWIo\nKSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBBcHBlbmQgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBpbnRlcm5hbCBidWZm\nZXIuCiAgICAgKgogICAgICogQHNlZSAjZ2V0VGFiCiAgICAgKi8KICAgIHB1\nYmxpYyBDb2RlRm9ybWF0IHRhYihpbnQgdGFiTGV2ZWwpIHsKICAgICAgICBf\nYnVmLmFwcGVuZChnZXRUYWIodGFiTGV2ZWwpKTsKICAgICAgICByZXR1cm4g\ndGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEFwcGVuZCB0aGUgZ2l2ZW4g\ndmFsdWUgdG8gdGhlIGludGVybmFsIGJ1ZmZlci4KICAgICAqCiAgICAgKiBA\nc2VlICNnZXRGaWVsZE5hbWUKICAgICAqLwogICAgcHVibGljIENvZGVGb3Jt\nYXQgZmllbGROYW1lKFN0cmluZyBuYW1lKSB7CiAgICAgICAgX2J1Zi5hcHBl\nbmQoZ2V0RmllbGROYW1lKG5hbWUpKTsKICAgICAgICByZXR1cm4gdGhpczsK\nICAgIH0KCiAgICAvKioKICAgICAqIENsZWFyIHRoZSBpbnRlcm5hbCBjb2Rl\nIGJ1ZmZlci4KICAgICAqLwogICAgcHVibGljIHZvaWQgY2xlYXIoKSB7CiAg\nICAgICAgX2J1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiB0aGUgaW50ZXJuYWwgYnVmZmVyIGFzIGEgc3Ry\naW5nLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkgewog\nICAgICAgIHJldHVybiBfYnVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW50ZXJuYWwgYnVm\nZmVyLgogICAgICovCiAgICBwdWJsaWMgaW50IGxlbmd0aCgpIHsKICAgICAg\nICByZXR1cm4gX2J1Zi5sZW5ndGgoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIE1ha2UgYSBjb3B5IG9mIHRoaXMgY29kZSBmb3JtYXQgb2JqZWN0IHdpdGgg\nYWxsIHRoZSBzYW1lIGZvcm1hdHRpbmcKICAgICAqIHNldHRpbmdzLgogICAg\nICovCiAgICBwdWJsaWMgT2JqZWN0IGNsb25lKCkgewogICAgICAgIENvZGVG\nb3JtYXQgZm9ybWF0ID0gbmV3IENvZGVGb3JtYXQoKTsKICAgICAgICBmb3Jt\nYXQuX3RhYiA9IF90YWI7CiAgICAgICAgZm9ybWF0Ll9zcGFjZUJlZm9yZVBh\ncmVuID0gX3NwYWNlQmVmb3JlUGFyZW47CiAgICAgICAgZm9ybWF0Ll9zcGFj\nZUluUGFyZW4gPSBfc3BhY2VJblBhcmVuOwogICAgICAgIGZvcm1hdC5fYnJh\nY2VPblNhbWVMaW5lID0gX2JyYWNlT25TYW1lTGluZTsKICAgICAgICBmb3Jt\nYXQuX2JyYWNlQXRTYW1lVGFiTGV2ZWwgPSBfYnJhY2VBdFNhbWVUYWJMZXZl\nbDsKICAgICAgICBmb3JtYXQuX3Njb3JlQmVmb3JlRmllbGROYW1lID0gX3Nj\nb3JlQmVmb3JlRmllbGROYW1lOwogICAgICAgIGZvcm1hdC5fbGluZXNCZXR3\nZWVuU2VjdGlvbnMgPSBfbGluZXNCZXR3ZWVuU2VjdGlvbnM7CiAgICAgICAg\ncmV0dXJuIGZvcm1hdDsKICAgIH0KfQo=\n","encoding":"base64"}

