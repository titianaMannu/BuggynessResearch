{"sha":"ce703142293ee1eb17f4842bb76a352208d5acc1","node_id":"MDQ6QmxvYjIwNjM2NDpjZTcwMzE0MjI5M2VlMWViMTdmNDg0MmJiNzZhMzUyMjA4ZDVhY2Mx","size":38675,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ce703142293ee1eb17f4842bb76a352208d5acc1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5GaWxlSW5wdXRTdHJlYW07\nCmltcG9ydCBqYXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlvbjsKaW1wb3J0\nIGphdmEuaW8uRmlsZU91dHB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uSU9F\neGNlcHRpb247CmltcG9ydCBqYXZhLmlvLklucHV0U3RyZWFtOwppbXBvcnQg\namF2YS5sYW5nLmFubm90YXRpb24uQW5ub3RhdGlvbjsKaW1wb3J0IGphdmEu\nbGFuZy5yZWZsZWN0LkFjY2Vzc2libGVPYmplY3Q7CmltcG9ydCBqYXZhLmxh\nbmcucmVmbGVjdC5Bbm5vdGF0ZWRFbGVtZW50OwppbXBvcnQgamF2YS5sYW5n\nLnJlZmxlY3QuRmllbGQ7CmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5NZXRo\nb2Q7CmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5Nb2RpZmllcjsKaW1wb3J0\nIGphdmEubmV0LkluZXRBZGRyZXNzOwppbXBvcnQgamF2YS5uZXQuTWFsZm9y\nbWVkVVJMRXhjZXB0aW9uOwppbXBvcnQgamF2YS5uZXQuU2VydmVyU29ja2V0\nOwppbXBvcnQgamF2YS5uZXQuU29ja2V0OwppbXBvcnQgamF2YS5uZXQuVVJM\nOwppbXBvcnQgamF2YS5uZXQuVVJMQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEu\nbmV0LlVua25vd25Ib3N0RXhjZXB0aW9uOwppbXBvcnQgamF2YS5zZWN1cml0\neS5BY2Nlc3NDb250cm9sbGVyOwppbXBvcnQgamF2YS5zZWN1cml0eS5Qcml2\naWxlZ2VkQWN0aW9uOwppbXBvcnQgamF2YS5zZWN1cml0eS5Qcml2aWxlZ2Vk\nRXhjZXB0aW9uQWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkVudW1lcmF0aW9u\nOwppbXBvcnQgamF2YS51dGlsLlByb3BlcnRpZXM7CmltcG9ydCBqYXZhLnV0\naWwuU2V0OwppbXBvcnQgamF2YS51dGlsLnppcC5aaXBGaWxlOwoKaW1wb3J0\nIGphdmF4LnZhbGlkYXRpb24uQ29uc3RyYWludFZpb2xhdGlvbjsKaW1wb3J0\nIGphdmF4LnZhbGlkYXRpb24uVmFsaWRhdGlvbjsKaW1wb3J0IGphdmF4LnZh\nbGlkYXRpb24uVmFsaWRhdG9yOwppbXBvcnQgamF2YXgudmFsaWRhdGlvbi5W\nYWxpZGF0b3JGYWN0b3J5OwoKaW1wb3J0IHNlcnAuYnl0ZWNvZGUuQkNDbGFz\nczsKaW1wb3J0IHNlcnAuYnl0ZWNvZGUuQkNDbGFzc0xvYWRlcjsKaW1wb3J0\nIHNlcnAuYnl0ZWNvZGUuQkNGaWVsZDsKaW1wb3J0IHNlcnAuYnl0ZWNvZGUu\nQ29kZTsKaW1wb3J0IHNlcnAuYnl0ZWNvZGUuRmllbGRJbnN0cnVjdGlvbjsK\naW1wb3J0IHNlcnAuYnl0ZWNvZGUuUHJvamVjdDsKCi8qKgogKiBIZWxwZXIg\nY2xhc3MgdG8gb2J0YWluIHRoZSBQcml2aWxlZ2UoRXhjZXB0aW9uKUFjdGlv\nbiBvYmplY3QgdG8gcGVyZm9ybQogKiBKYXZhIDIgZG9Qcml2aWxlZ2Ugc2Vj\ndXJpdHkgc2Vuc2l0aXZlIGZ1bmN0aW9uIGNhbGwgaW4gdGhlIGZvbGxvd2lu\nZwogKiBtZXRob2RzOgogKiA8dWw+CiAqIDxsaT5BY2Nlc3NpYmxlT2JqZWN0\nLnNldEFjY2Vzc2libGUKICogPGxpPkNsYXNzLmZvck5hbWUKICogPGxpPkNs\nYXNzLmdldENsYXNzTG9hZGVyCiAqIDxsaT5DbGFzcy5nZXREZWNsYXJlZEZp\nZWxkCiAqIDxsaT5DbGFzcy5nZXREZWNsYXJlZEZpZWxkcwogKiA8bGk+Q2xh\nc3MuZ2V0RGVjbGFyZWRNZXRob2QKICogPGxpPkNsYXNzLmdldERlY2xhcmVk\nTWV0aG9kcwogKiA8bGk+Q2xhc3MuZ2V0UmVzb3VyY2UKICogPGxpPkNsYXNz\nLm5ld0luc3RhbmNlCiAqIDxsaT5DbGFzc0xvYWRlci5nZXRQYXJlbnQKICog\nPGxpPkNsYXNzTG9hZGVyLmdldFJlc291cmNlCiAqIDxsaT5DbGFzc0xvYWRl\nci5nZXRSZXNvdXJjZXMKICogPGxpPkNsYXNzTG9hZGVyLmdldFN5c3RlbUNs\nYXNzTG9hZGVyCiAqIDxsaT5GaWxlLmRlbGV0ZU9uRXhpdAogKiA8bGk+Rmls\nZS5kZWxldGUKICogPGxpPkZpbGUuZXhpc3RzCiAqIDxsaT5GaWxlLmdldEFi\nc29sdXRlRmlsZQogKiA8bGk+RmlsZS5nZXRBYnNvbHV0ZVBhdGgKICogPGxp\nPkZpbGUuZ2V0Q2Fub25pY2FsUGF0aAogKiA8bGk+RmlsZS5saXN0RmlsZXMK\nICogPGxpPkZpbGUubGVuZ3RoCiAqIDxsaT5GaWxlLmlzRGlyZWN0b3J5CiAq\nIDxsaT5GaWxlLm1rZGlycwogKiA8bGk+RmlsZS5yZW5hbWVUbwogKiA8bGk+\nRmlsZS50b1VSTAogKiA8bGk+RmlsZUlucHV0U3RyZWFtIG5ldwogKiA8bGk+\nRmlsZU91dHB1dFN0cmVhbSBuZXcKICogPGxpPlN5c3RlbS5nZXRQcm9wZXJ0\naWVzCiAqIDxsaT5JbmV0QWRkcmVzcy5nZXRCeU5hbWUKICogPGxpPk11bHRp\nQ2xhc3NMb2FkZXIgbmV3CiAqIDxsaT5TZXJ2ZXJTb2NrZXQgbmV3CiAqIDxs\naT5Tb2NrZXQgbmV3CiAqIDxsaT5Tb2NrZXQuYWNjZXB0CiAqIDxsaT5TeXN0\nZW0uZ2V0UHJvcGVydHkKICogPGxpPlRocmVhZC5nZXRDb250ZXh0Q2xhc3NM\nb2FkZXIKICogPGxpPlRocmVhZC5zZXRDb250ZXh0Q2xhc3NMb2FkZXIKICog\nPGxpPlRocmVhZCBuZXcKICogPGxpPlRlbXBvcmFyeUNsYXNzTG9hZGVyIG5l\ndwogKiA8bGk+VVJMLm9wZW5TdHJlYW0KICogPGxpPlVSTENvbm5lY3Rpb24u\nZ2V0Q29udGVudAogKiA8bGk+WmlwRmlsZSBuZXcKICogPGxpPnNlcnAuYnl0\nZWNvZGUuQ29kZSBuZXcKICogPGxpPnNlcnAuYnl0ZWNvZGUuQkNDbGFzc0xv\nYWRlciBuZXcKICogPGxpPnNlcnAuYnl0ZWNvZGUuQkNDbGFzcy53cml0ZQog\nKiA8bGk+c2VycC5ieXRlY29kZS5CQ0NsYXNzLmdldEZpZWxkcwogKiA8bGk+\nc2VycC5ieXRlY29kZS5GaWVsZEluc3RydWN0aW9uLmdldEZpZWxkCiAqIDxs\naT5zZXJwLmJ5dGVjb2RlLlByb2plY3QubG9hZENsYXNzCiAqIDxsaT5Bbm5v\ndGF0ZWRFbGVtZW50LmdldEFubm90YXRpb25zCiAqIDxsaT5Bbm5vdGF0ZWRF\nbGVtZW50LmdldERlY2xhcmVkQW5ub3RhdGlvbnMKICogPGxpPkFubm90YXRl\nZEVsZW1lbnQuaXNBbm5vdGF0aW9uUHJlc2VudAogKiA8bGk+amF2YXgudmFs\naWRhdGlvbi5WYWxpZGF0b3IudmFsaWRhdGUKICogPGxpPmphdmF4LnZhbGlk\nYXRpb24uVmFsaWRhdGlvbi5idWlsZERlZmF1bHRWYWxpZGF0b3JGYWN0b3J5\nCiAqIDwvdWw+CiAqIAogKiBJZiB0aGVzZSBtZXRob2RzIGFyZSB1c2VkLCB0\naGUgZm9sbG93aW5nIHNhbXBsZSB1c2FnZSBwYXR0ZXJucyBzaG91bGQgYmUK\nICogZm9sbG93ZWQgdG8gZW5zdXJlIHByb3BlciBwcml2aWxlZ2UgaXMgZ3Jh\nbnRlZDoKICogPHByZT4KICogMSkgTm8gc2VjdXJpdHkgcmlzayBtZXRob2Qg\nY2FsbC4gRS5nLgogKiAgCiAqICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0\ncmluZyBTRVAgPSBKMkRvUHJpdkhlbHBlci5nZXRMaW5lU2VwYXJhdG9yKCk7\nCiAqIAogKiAyKSBNZXRob2RzIHdpdGggbm8gZXhjZXB0aW9uIHRocm93bi4g\nUHJpdmlsZWdlZEFjdGlvbiBpcyByZXR1cm5lZCBmcm9tCiAqICAgIEoyRG9Q\ncml2SGVscGVyLipBY3Rpb24oKS4gRS5nLgogKiAgICAgIAogKiAgICBDbGFz\nc0xvYWRlciBsb2FkZXIgPSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdl\nZCgKICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVs\ncGVyLmdldENsYXNzTG9hZGVyQWN0aW9uKGNsYXp6KSk7CiAqICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIAogKiAgICBDbGFzc0xvYWRlciBsb2Fk\nZXIgPSAoQ2xhc3NMb2FkZXIpIChTeXN0ZW0uZ2V0U2VjdXJpdHlNYW5hZ2Vy\nKCkgPT0gbnVsbCkKICogICAgICAgICAgICAgICAgICAgICAgICAgPyBjbGF6\nei5nZXRDbGFzc0xvYWRlcigpCiAqICAgICAgICAgICAgICAgICAgICAgICAg\nIDogQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoCiAqICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5nZXRDbGFzc0xv\nYWRlckFjdGlvbihjbGF6eikpOwogKiAzKSBNZXRob2RzIHdpdGggZXhjZXB0\naW9uIHRocm93bi4gUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBpcyByZXR1\ncm5lZAogKiAgICBmcm9tIEoyRG9Qcml2SGVscGVyLipBY3Rpb24oKS4gRS5n\nLgogKiAgICAKICogICAgdHJ5IHsKICogICAgICBtZXRob2QgPSBBY2Nlc3ND\nb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICogICAgICAgIEoyRG9Qcml2SGVs\ncGVyLmdldERlY2xhcmVkTWV0aG9kQWN0aW9uKGNsYXp6LCBuYW1lLCBwYXJh\nbWV0ZXJUeXBlKSk7CiAqICAgIH0gY2F0Y2ggKFByaXZpbGVnZWRBY3Rpb25F\neGNlcHRpb24gcGFlKSB7CiAqICAgICAgdGhyb3cgKE5vU3VjaE1ldGhvZEV4\nY2VwdGlvbikgcGFlLmdldEV4Y2VwdGlvbigpOwogKiAgICB9CiAqICAgIAog\nKiAgICB0cnkgewogKiAgICAgIG1ldGhvZCA9IChTeXN0ZW0uZ2V0U2VjdXJp\ndHlNYW5hZ2VyKCkgPT0gbnVsbCkKICogICAgICAgID8gY2xhenouZ2V0RGVj\nbGFyZWRNZXRob2QobmFtZSxwYXJhbWV0ZXJUeXBlKQogKiAgICAgICAgOiBB\nY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICogICAgICAgICAgICBK\nMkRvUHJpdkhlbHBlci5nZXREZWNsYXJlZE1ldGhvZEFjdGlvbigKICogICAg\nICAgICAgICAgIGNsYXp6LCBuYW1lLCBwYXJhbWV0ZXJUeXBlKSk7CiAqICAg\nIH0gY2F0Y2ggKFByaXZpbGVnZWRBY3Rpb25FeGNlcHRpb24gcGFlKSB7CiAq\nICAgICAgICB0aHJvdyAoTm9TdWNoTWV0aG9kRXhjZXB0aW9uKSBwYWUuZ2V0\nRXhjZXB0aW9uKCkKICogICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAKICogPC9wcmU+IAogKiBAYXV0aG9yIEFsYmVydCBMZWUKICovCgpw\ndWJsaWMgYWJzdHJhY3QgY2xhc3MgSjJEb1ByaXZIZWxwZXIgewogICAgcHJp\ndmF0ZSBzdGF0aWMgU3RyaW5nIGxpbmVTZXBhcmF0b3IgPSBudWxsOwogICAg\ncHJpdmF0ZSBzdGF0aWMgU3RyaW5nIHBhdGhTZXBhcmF0b3IgPSBudWxsOwoK\nICAgIC8qKgogICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgImxpbmUu\nc2VwYXJhdG9yIiBzeXN0ZW0gcHJvcGVydHkuCiAgICAgKiAKICAgICAqIFJl\ncXVpcmVzIHNlY3VyaXR5IHBvbGljeTogCiAgICAgKiAgICdwZXJtaXNzaW9u\nIGphdmEudXRpbC5Qcm9wZXJ0eVBlcm1pc3Npb24gInJlYWQiOycKICAgICAq\nLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgZ2V0TGluZVNlcGFy\nYXRvcigpIHsKICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PSBudWxsKSB7\nCiAgICAgICAgICAgIGxpbmVTZXBhcmF0b3IgPQogICAgICAgICAgICAgICAg\nQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQobmV3IFByaXZpbGVnZWRB\nY3Rpb248U3RyaW5nPigpIHsKICAgICAgICAgICAgICAgICAgICBwdWJsaWMg\nU3RyaW5nIHJ1bigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu\nIFN5c3RlbS5nZXRQcm9wZXJ0eSgibGluZS5zZXBhcmF0b3IiKTsKICAgICAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9\nCiAgICAgICAgcmV0dXJuIGxpbmVTZXBhcmF0b3I7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSAicGF0aC5zZXBhcmF0\nb3IiIHN5c3RlbSBwcm9wZXJ0eS4KICAgICAqIAogICAgICogUmVxdWlyZXMg\nc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLnV0\naWwuUHJvcGVydHlQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIGdldFBhdGhTZXBhcmF0b3IoKSB7\nCiAgICAgICAgaWYgKHBhdGhTZXBhcmF0b3IgPT0gbnVsbCkgewogICAgICAg\nICAgICBwYXRoU2VwYXJhdG9yID0KICAgICAgICAgICAgICAgIEFjY2Vzc0Nv\nbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKG5ldyBQcml2aWxlZ2VkQWN0aW9uPFN0\ncmluZz4oKSB7CiAgICAgICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBy\ndW4oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTeXN0ZW0u\nZ2V0UHJvcGVydHkoInBhdGguc2VwYXJhdG9yIik7CiAgICAgICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAg\nIHJldHVybiBwYXRoU2VwYXJhdG9yOwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgYU9iai5zZXRB\nY2Nlc3NpYmxlKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeTogJ3Blcm1pc3Npb24gamF2YS5sYW5nLnJlZmxlY3QuUmVmbGVj\ndFBlcm1pc3Npb24KICAgICAqICJzdXBwcmVzc0FjY2Vzc0NoZWNrcyI7Jwog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rp\nb248T2JqZWN0PiBzZXRBY2Nlc3NpYmxlQWN0aW9uKAogICAgICAgIGZpbmFs\nIEFjY2Vzc2libGVPYmplY3QgYU9iaiwgZmluYWwgYm9vbGVhbiBmbGFnKSB7\nCiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uPE9iamVjdD4o\nKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgewogICAgICAg\nICAgICAgICAgYU9iai5zZXRBY2Nlc3NpYmxlKGZsYWcpOwogICAgICAgICAg\nICAgICAgcmV0dXJuIChPYmplY3QpIG51bGw7CiAgICAgICAgICAgIH0KICAg\nICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmls\nZWdlQWN0aW9uIG9iamVjdCBmb3IgQ2xhc3MuZm9yTmFtZSgpLgogICAgICog\nCiAgICAgKiBOb3RlczogZG9Qcml2IG9mIENsYXNzLmZvck5hbWUgY2FsbCBp\ncyByZXF1aXJlZCBvbmx5IGlmIHRoZSBpbnB1dAogICAgICogY2xhc3Nsb2Fk\nZXIgYXJndW1lbnQgaXMgbnVsbC4gRS5nLgogICAgICogCiAgICAgKiBDbGFz\ncy5mb3JOYW1lKCJ4IiwgZmFsc2UsIENvbGxlY3Rpb24uY2xhc3MuZ2V0Q2xh\nc3NMb2FkZXIoKSk7CiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeTogJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNz\naW9uCiAgICAgKiAiZ2V0Q2xhc3NMb2FkZXIiOycKICAgICAqIAogICAgICog\nQHJldHVybiBDbGFzcwogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb248Q2xhc3M8Pz4+IGdldEZvck5h\nbWVBY3Rpb24oCiAgICAgICAgZmluYWwgU3RyaW5nIGNsYXNzTmFtZSwgZmlu\nYWwgYm9vbGVhbiBpbml0aWFsaXplQm9vbGVhbiwKICAgICAgICBmaW5hbCBD\nbGFzc0xvYWRlciBjbGFzc0xvYWRlcikgewogICAgICAgIHJldHVybiBuZXcg\nUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbjxDbGFzczw/Pj4oKSB7CiAgICAg\nICAgICAgIHB1YmxpYyBDbGFzczw/PiBydW4oKSB0aHJvd3MgQ2xhc3NOb3RG\nb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gQ2xhc3Mu\nZm9yTmFtZShjbGFzc05hbWUsIGluaXRpYWxpemVCb29sZWFuLCBjbGFzc0xv\nYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3Ig\nY2xhenouZ2V0Q2xhc3Nsb2FkZXIoKS4KICAgICAqIAogICAgICogTm90ZXM6\nIE5vIGRvUHJpdmlsZWdlIHdyYXBwaW5nIGlzIHJlcXVpcmVkIGluIHRoZSBj\nYWxsZXIgaWY6CiAgICAgKiAgICAgInRoZSBjYWxsZXIncyBjbGFzcyBsb2Fk\nZXIgaXMgbm90IG51bGwgYW5kIHRoZSBjYWxsZXIncyBjbGFzcyBsb2FkZXIK\nICAgICAqICAgICAgaXMgbm90IHRoZSBzYW1lIGFzIG9yIGFuIGFuY2VzdG9y\nIG9mIHRoZSBjbGFzcyBsb2FkZXIgZm9yIHRoZSBjbGFzcwogICAgICogICAg\nICB3aG9zZSBjbGFzcyBsb2FkZXIgaXMgcmVxdWVzdGVkIi4gRS5nLgogICAg\nICogICAgICAKICAgICAqICAgICAgICAgdGhpcy5nZXRDbGFzcygpLmdldENs\nYXNzTG9hZGVyKCk7CiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1bnRp\nbWVQZXJtaXNzaW9uICJnZXRDbGFzc0xvYWRlciI7JwogICAgICogICAKICAg\nICAqIEByZXR1cm4gQ2xhc3Nsb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uPENsYXNzTG9hZGVyPiBnZXRD\nbGFzc0xvYWRlckFjdGlvbigKICAgICAgICBmaW5hbCBDbGFzczw/PiBjbGF6\neikgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxDbGFz\nc0xvYWRlcj4oKSB7CiAgICAgICAgICAgIHB1YmxpYyBDbGFzc0xvYWRlciBy\ndW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2xhenouZ2V0Q2xhc3NM\nb2FkZXIoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9u\nIG9iamVjdCBmb3IgY2xhenouZ2V0RGVjbGFyZWRGaWVsZCgpLgogICAgICog\nCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdw\nZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiYWNjZXNz\nRGVjbGFyZWRNZW1iZXJzIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBG\naWVsZAogICAgICogQGV4Y2VwdGlvbiBOb1N1Y2hGaWVsZEV4Y2VwdGlvbgog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRFeGNl\ncHRpb25BY3Rpb248RmllbGQ+IGdldERlY2xhcmVkRmllbGRBY3Rpb24oCiAg\nICAgICAgZmluYWwgQ2xhc3M8Pz4gY2xhenosIGZpbmFsIFN0cmluZyBuYW1l\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0\naW9uPEZpZWxkPigpIHsKICAgICAgICAgICAgcHVibGljIEZpZWxkIHJ1bigp\nIHRocm93cyBOb1N1Y2hGaWVsZEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAg\nICByZXR1cm4gY2xhenouZ2V0RGVjbGFyZWRGaWVsZChuYW1lKTsKICAgICAg\nICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1\ncm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBjbGFzcy5nZXREZWNs\nYXJlZEZpZWxkcygpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0\neSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50\naW1lUGVybWlzc2lvbiAiYWNjZXNzRGVjbGFyZWRNZW1iZXJzIjsnCiAgICAg\nKiAgIAogICAgICogQHJldHVybiBGaWVsZFtdCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbjxGaWVsZCBbXT4gZ2V0\nRGVjbGFyZWRGaWVsZHNBY3Rpb24oCiAgICAgICAgZmluYWwgQ2xhc3M8Pz4g\nY2xhenopIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb248\nRmllbGQgW10+KCkgewogICAgICAgICAgICBwdWJsaWMgRmllbGRbXSBydW4o\nKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2xhenouZ2V0RGVjbGFyZWRG\naWVsZHMoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9u\nIG9iamVjdCBmb3IgY2xhenouZ2V0RGVjbGFyZWRNZXRob2QoKS4KICAgICAq\nIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5CiAgICAgKiAgICdw\nZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiYWNjZXNz\nRGVjbGFyZWRNZW1iZXJzIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBN\nZXRob2QKICAgICAqIEBleGNlcHRpb24gTm9TdWNoTWV0aG9kRXhjZXB0aW9u\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4\nY2VwdGlvbkFjdGlvbjxNZXRob2Q+IAogICAgICAgIGdldERlY2xhcmVkTWV0\naG9kQWN0aW9uKAogICAgICAgICAgICBmaW5hbCBDbGFzczw/PiBjbGF6eiwg\nZmluYWwgU3RyaW5nIG5hbWUsIAogICAgICAgICAgICBmaW5hbCBDbGFzczw/\nPltdIHBhcmFtZXRlclR5cGVzKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2\naWxlZ2VkRXhjZXB0aW9uQWN0aW9uPE1ldGhvZD4oKSB7CiAgICAgICAgICAg\nIHB1YmxpYyBNZXRob2QgcnVuKCkgdGhyb3dzIE5vU3VjaE1ldGhvZEV4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2xhenouZ2V0RGVjbGFy\nZWRNZXRob2QobmFtZSwgcGFyYW1ldGVyVHlwZXMpOwogICAgICAgICAgICB9\nCiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFBy\naXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIGNsYXp6LmdldERlY2xhcmVkTWV0\naG9kcygpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xp\nY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVy\nbWlzc2lvbiAiYWNjZXNzRGVjbGFyZWRNZW1iZXJzIjsnCiAgICAgKiAgIAog\nICAgICogQHJldHVybiBNZXRob2RbXQogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb248TWV0aG9kIFtdPiBnZXREZWNs\nYXJlZE1ldGhvZHNBY3Rpb24oCiAgICAgICAgZmluYWwgQ2xhc3M8Pz4gY2xh\nenopIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb248TWV0\naG9kIFtdPigpIHsKICAgICAgICAgICAgcHVibGljIE1ldGhvZFtdIHJ1bigp\nIHsKICAgICAgICAgICAgICAgIHJldHVybiBjbGF6ei5nZXREZWNsYXJlZE1l\ndGhvZHMoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZv\nciBjbGF6ei5nZXRSZXNvdXJjZSgpLgogICAgICogCiAgICAgKiBSZXF1aXJl\ncyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEu\naW8uRmlsZVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqICAgCiAgICAgKiBA\ncmV0dXJuIFVSTAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFBy\naXZpbGVnZWRBY3Rpb248VVJMPiBnZXRSZXNvdXJjZUFjdGlvbigKICAgICAg\nICBmaW5hbCBDbGFzczw/PiBjbGF6eiwgZmluYWwgU3RyaW5nIHJlc291cmNl\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uPFVSTD4o\nKSB7CiAgICAgICAgICAgIHB1YmxpYyBVUkwgcnVuKCkgewogICAgICAgICAg\nICAgICAgcmV0dXJuIGNsYXp6LmdldFJlc291cmNlKHJlc291cmNlKTsKICAg\nICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uIG9iamVjdCBmb3Ig\nY2xhenoubmV3SW5zdGFuY2UoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMg\nc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmxh\nbmcuUnVudGltZVBlcm1pc3Npb24gImdldENsYXNzTG9hZGVyIjsnCiAgICAg\nKiAgIAogICAgICogQHJldHVybiBBIG5ldyBpbnN0YW5jZSBvZiB0aGUgcHJv\ndmlkZWQgY2xhc3MuCiAgICAgKiBAZXhjZXB0aW9uIElsbGVnYWxBY2Nlc3NF\neGNlcHRpb24gCiAgICAgKiBAZXhjZXB0aW9uIEluc3RhbnRpYXRpb25FeGNl\ncHRpb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCA8VD4gUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbjxUPiBuZXdJbnN0YW5jZUFjdGlvbigK\nICAgICAgICBmaW5hbCBDbGFzczxUPiBjbGF6eikgdGhyb3dzIElsbGVnYWxB\nY2Nlc3NFeGNlcHRpb24sCiAgICAgICAgSW5zdGFudGlhdGlvbkV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0\naW9uPFQ+KCkgewogICAgICAgICAgICBwdWJsaWMgVCBydW4oKSB0aHJvd3Mg\nSWxsZWdhbEFjY2Vzc0V4Y2VwdGlvbiwKICAgICAgICAgICAgICAgICAgICBJ\nbnN0YW50aWF0aW9uRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIGlmICgh\nTW9kaWZpZXIuaXNBYnN0cmFjdChjbGF6ei5nZXRNb2RpZmllcnMoKSkpIHsK\nICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xhenoubmV3SW5zdGFuY2Uo\nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChUKWNs\nYXp6LmdldE1ldGhvZCgibmV3SW5zdGFuY2UiLCAKICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIG5ldyBDbGFzc1tde30pLmludm9rZShudWxsLCBuZXcg\nT2JqZWN0W117fSk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoVGhy\nb3dhYmxlIHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3\nIEluc3RhbnRpYXRpb25FeGNlcHRpb24odC50b1N0cmluZygpKTsKICAgICAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nIH0KICAgICAgICB9OwogICAgfQogICAgCiAgICAvKioKICAgICAqIFJldHVy\nbiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIGxvYWRlci5nZXRQYXJl\nbnQoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5\nOgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1p\nc3Npb24gImdldENsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJl\ndHVybiBDbGFzc0xvYWRlcgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZp\nbmFsIFByaXZpbGVnZWRBY3Rpb248Q2xhc3NMb2FkZXI+IGdldFBhcmVudEFj\ndGlvbigKICAgICAgICBmaW5hbCBDbGFzc0xvYWRlciBsb2FkZXIpIHsKICAg\nICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb248Q2xhc3NMb2FkZXI+\nKCkgewogICAgICAgICAgICBwdWJsaWMgQ2xhc3NMb2FkZXIgcnVuKCkgewog\nICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRlci5nZXRQYXJlbnQoKTsKICAg\nICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBsb2FkZXIuZ2V0\nUmVzb3VyY2UoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkg\ncG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJt\naXNzaW9uICJyZWFkIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBVUkwK\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0\naW9uPFVSTD4gZ2V0UmVzb3VyY2VBY3Rpb24oCiAgICAgICAgZmluYWwgQ2xh\nc3NMb2FkZXIgbG9hZGVyLCBmaW5hbCBTdHJpbmcgcmVzb3VyY2UpIHsKICAg\nICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb248VVJMPigpIHsKICAg\nICAgICAgICAgcHVibGljIFVSTCBydW4oKSB7CiAgICAgICAgICAgICAgICBy\nZXR1cm4gbG9hZGVyLmdldFJlc291cmNlKHJlc291cmNlKTsKICAgICAgICAg\nICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4g\nYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uIG9iamVjdCBmb3IgbG9hZGVy\nLmdldFJlc291cmNlcygpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1\ncml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEuaW8uRmls\nZVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJu\nIEVudW1lcmF0aW9uCiAgICAgKiBAZXhjZXB0aW9uIElPRXhjZXB0aW9uCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2Vw\ndGlvbkFjdGlvbjxFbnVtZXJhdGlvbjxVUkw+PiAKICAgICAgICBnZXRSZXNv\ndXJjZXNBY3Rpb24oCiAgICAgICAgZmluYWwgQ2xhc3NMb2FkZXIgbG9hZGVy\nLCBmaW5hbCBTdHJpbmcgcmVzb3VyY2UpIHRocm93cyBJT0V4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9u\nPEVudW1lcmF0aW9uPFVSTD4+KCkgewogICAgICAgICAgICBwdWJsaWMgRW51\nbWVyYXRpb248VVJMPiBydW4oKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAg\nICAgICAgICAgICAgcmV0dXJuIGxvYWRlci5nZXRSZXNvdXJjZXMocmVzb3Vy\nY2UpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIENs\nYXNzTG9hZGVyLmdldFN5c3RlbUNsYXNzTG9hZGVyKCkuCiAgICAgKiAKICAg\nICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1p\nc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNzaW9uICJnZXRDbGFzc0xv\nYWRlciI7JwogICAgICogICAKICAgICAqIEByZXR1cm4gQ2xhc3NMb2FkZXIK\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0\naW9uPENsYXNzTG9hZGVyPiAKICAgICAgICBnZXRTeXN0ZW1DbGFzc0xvYWRl\nckFjdGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rp\nb248Q2xhc3NMb2FkZXI+KCkgewogICAgICAgICAgICBwdWJsaWMgQ2xhc3NM\nb2FkZXIgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIENsYXNzTG9h\nZGVyLmdldFN5c3RlbUNsYXNzTG9hZGVyKCk7CiAgICAgICAgICAgIH0KICAg\nICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmls\nZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5kZWxldGUoKS4KICAgICAqIAogICAg\nICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlz\nc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9uICJkZWxldGUiOycKICAgICAq\nIAogICAgICogQHJldHVybiBCb29sZWFuCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbjxCb29sZWFuPiBkZWxldGVB\nY3Rpb24oZmluYWwgRmlsZSBmKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2\naWxlZ2VkQWN0aW9uPEJvb2xlYW4+KCkgewogICAgICAgICAgICBwdWJsaWMg\nQm9vbGVhbiBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZi5kZWxl\ndGUoKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xlYW4uRkFMU0U7CiAgICAgICAg\nICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5leGlzdHMoKS4KICAg\nICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICog\nICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9uICJyZWFkIjsn\nCiAgICAgKiAgIAogICAgICogQHJldHVybiBCb29sZWFuCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbjxCb29sZWFu\nPiBleGlzdHNBY3Rpb24oZmluYWwgRmlsZSBmKSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBQcml2aWxlZ2VkQWN0aW9uPEJvb2xlYW4+KCkgewogICAgICAgICAg\nICBwdWJsaWMgQm9vbGVhbiBydW4oKSB7CiAgICAgICAgICAgICAgICB0cnkg\newogICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmV4aXN0cygpID8gQm9v\nbGVhbi5UUlVFIDogQm9vbGVhbi5GQUxTRTsKICAgICAgICAgICAgICAgIH0g\nY2F0Y2ggKE51bGxQb2ludGVyRXhjZXB0aW9uIG5wZSkgewogICAgICAgICAg\nICAgICAgICAgIHJldHVybiBCb29sZWFuLkZBTFNFOwogICAgICAgICAgICAg\nICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIGYu\nZGVsZXRlT25FeGl0KCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3Vy\naXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxl\nUGVybWlzc2lvbiAiZGVsZXRlIjsnCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0\naWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbjxCb29sZWFuPiBkZWxldGVPbkV4\naXRBY3Rpb24oCiAgICAgICAgZmluYWwgRmlsZSBmKSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uPEJvb2xlYW4+KCkgewogICAgICAg\nICAgICBwdWJsaWMgQm9vbGVhbiBydW4oKSB7CiAgICAgICAgICAgICAgICBm\nLmRlbGV0ZU9uRXhpdCgpOwogICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xl\nYW4uVFJVRTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZv\nciBmLmdldEFic29sdXRlRmlsZSgpLgogICAgICogCiAgICAgKiBSZXF1aXJl\ncyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEu\ndXRpbC5Qcm9wZXJ0eVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqIAogICAg\nICogQHJldHVybiBGaWxlCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmlu\nYWwgUHJpdmlsZWdlZEFjdGlvbjxGaWxlPiBnZXRBYnNvbHV0ZUZpbGVBY3Rp\nb24oCiAgICAgICAgICAgIGZpbmFsIEZpbGUgZikgewogICAgICAgIHJldHVy\nbiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxGaWxlPigpIHsKICAgICAgICAgICAg\ncHVibGljIEZpbGUgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGYu\nZ2V0QWJzb2x1dGVGaWxlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9Owog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9u\nIG9iamVjdCBmb3IgZi5nZXRBYnNvbHV0ZVBhdGgoKS4KICAgICAqIAogICAg\nICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlz\nc2lvbiBqYXZhLnV0aWwuUHJvcGVydHlQZXJtaXNzaW9uICJyZWFkIjsnCiAg\nICAgKiAgIAogICAgICogQHJldHVybiBTdHJpbmcKICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uPFN0cmluZz4gCiAg\nICAgICAgZ2V0QWJzb2x1dGVQYXRoQWN0aW9uKGZpbmFsIEZpbGUgZikgewog\nICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxTdHJpbmc+KCkg\newogICAgICAgICAgICBwdWJsaWMgU3RyaW5nIHJ1bigpIHsKICAgICAgICAg\nICAgICAgIHJldHVybiBmLmdldEFic29sdXRlUGF0aCgpOwogICAgICAgICAg\nICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBh\nIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gb2JqZWN0IGZvciBmLmdldENh\nbm9uaWNhbFBhdGgoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJp\ndHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLnV0aWwuUHJv\ncGVydHlQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAgIAogICAgICogQHJl\ndHVybiBTdHJpbmcKICAgICAqIEBleGNlcHRpb24gSU9FeGNlcHRpb24KICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkRXhjZXB0\naW9uQWN0aW9uPFN0cmluZz4gCiAgICAgICAgZ2V0Q2Fub25pY2FsUGF0aEFj\ndGlvbigKICAgICAgICBmaW5hbCBGaWxlIGYpIHRocm93cyBJT0V4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0\naW9uPFN0cmluZz4oKSB7CiAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgcnVu\nKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJldHVy\nbiBmLmdldENhbm9uaWNhbFBhdGgoKTsKICAgICAgICAgICAgfQogICAgICAg\nIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VB\nY3Rpb24gb2JqZWN0IGZvciBmLmlzRGlyZWN0b3J5KCkuCiAgICAgKiAKICAg\nICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1p\nc3Npb24gamF2YS5pby5GaWxlUGVybWlzc2lvbiAicmVhZCI7JwogICAgICog\nCiAgICAgKiBAcmV0dXJuIEJvb2xlYW4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uPEJvb2xlYW4+IAogICAgICAg\nIGlzRGlyZWN0b3J5QWN0aW9uKGZpbmFsIEZpbGUgZikgewogICAgICAgIHJl\ndHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxCb29sZWFuPigpIHsKICAgICAg\nICAgICAgcHVibGljIEJvb2xlYW4gcnVuKCkgewogICAgICAgICAgICAgICAg\ncmV0dXJuIGYuaXNEaXJlY3RvcnkoKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xl\nYW4uRkFMU0U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBm\nb3IgZi5pc0ZpbGUoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJp\ndHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQ\nZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAKICAgICAqIEByZXR1cm4gQm9v\nbGVhbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVn\nZWRBY3Rpb248Qm9vbGVhbj4gaXNGaWxlQWN0aW9uKGZpbmFsIEZpbGUgZikg\newogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxCb29sZWFu\nPigpIHsKICAgICAgICAgICAgcHVibGljIEJvb2xlYW4gcnVuKCkgewogICAg\nICAgICAgICAgICAgcmV0dXJuIGYuaXNGaWxlKCkgPyBCb29sZWFuLlRSVUUg\nOiBCb29sZWFuLkZBTFNFOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBv\nYmplY3QgZm9yIGYubGVuZ3RoKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVz\nIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5p\nby5GaWxlUGVybWlzc2lvbiAicmVhZCI7JwogICAgICogICAKICAgICAqIEBy\nZXR1cm4gTG9uZwogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFBy\naXZpbGVnZWRBY3Rpb248TG9uZz4gbGVuZ3RoQWN0aW9uKGZpbmFsIEZpbGUg\nZikgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxMb25n\nPigpIHsKICAgICAgICAgICAgcHVibGljIExvbmcgcnVuKCkgewogICAgICAg\nICAgICAgICAgcmV0dXJuIG5ldyBMb25nKGYubGVuZ3RoKCkpOwogICAgICAg\nICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIGYubGlzdEZpbGVzKCku\nCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAg\nICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVybWlzc2lvbiAicmVh\nZCI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIEZpbGVbXQogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb248RmlsZSBb\nXT4gCiAgICAgICAgbGlzdEZpbGVzQWN0aW9uKGZpbmFsIEZpbGUgZikgewog\nICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxGaWxlIFtdPigp\nIHsKICAgICAgICAgICAgcHVibGljIEZpbGUgW10gcnVuKCkgewogICAgICAg\nICAgICAgICAgcmV0dXJuIGYubGlzdEZpbGVzKCk7CiAgICAgICAgICAgIH0K\nICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJp\ndmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5ta2RpcnMoKS4KICAgICAqIAog\nICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVy\nbWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9uICJ3cml0ZSI7JwogICAg\nICogICAKICAgICAqIEByZXR1cm4gQm9vbGVhbgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb248Qm9vbGVhbj4gbWtk\naXJzQWN0aW9uKGZpbmFsIEZpbGUgZikgewogICAgICAgIHJldHVybiBuZXcg\nUHJpdmlsZWdlZEFjdGlvbjxCb29sZWFuPigpIHsKICAgICAgICAgICAgcHVi\nbGljIEJvb2xlYW4gcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGYu\nbWtkaXJzKCkgPyBCb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFOwogICAg\nICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJl\ndHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIGYucmVuYW1lVG8o\nKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5Ogog\nICAgICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9uICJ3\ncml0ZSI7JwogICAgICogICAKICAgICAqIEByZXR1cm4gQm9vbGVhbgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb248\nQm9vbGVhbj4gcmVuYW1lVG9BY3Rpb24oCiAgICAgICAgZmluYWwgRmlsZSBm\ncm9tLCBmaW5hbCBGaWxlIHRvKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2\naWxlZ2VkQWN0aW9uPEJvb2xlYW4+KCkgewogICAgICAgICAgICBwdWJsaWMg\nQm9vbGVhbiBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbS5y\nZW5hbWVUbyh0bykgPyBCb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFOwog\nICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gb2JqZWN0IGZv\nciBmLnRvVVJMKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVy\nbWlzc2lvbiAicmVhZCI7JwogICAgICogICAKICAgICAqIEByZXR1cm4gVVJM\nCiAgICAgKiBAdGhyb3dzIE1hbGZvcm1lZFVSTEV4Y2VwdGlvbgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRFeGNlcHRpb25B\nY3Rpb248VVJMPiB0b1VSTEFjdGlvbigKICAgICAgICBmaW5hbCBGaWxlIGZp\nbGUpCiAgICAgICAgdGhyb3dzIE1hbGZvcm1lZFVSTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uPFVS\nTD4oKSB7CiAgICAgICAgICAgIHB1YmxpYyBVUkwgcnVuKCkgdGhyb3dzIE1h\nbGZvcm1lZFVSTEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4g\nZmlsZS50b1VSTCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25B\nY3Rpb24gb2JqZWN0IGZvciBuZXcgRmlsZUlucHV0U3RyZWFtKCkuCiAgICAg\nKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAg\nJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVybWlzc2lvbiAicmVhZCI7Jwog\nICAgICogCiAgICAgKiBAcmV0dXJuIEZpbGVJbnB1dFN0cmVhbQogICAgICog\nQHRocm93cyBGaWxlTm90Rm91bmRFeGNlcHRpb24KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uPEZp\nbGVJbnB1dFN0cmVhbT4gCiAgICAgICAgbmV3RmlsZUlucHV0U3RyZWFtQWN0\naW9uKAogICAgICAgIGZpbmFsIEZpbGUgZikgdGhyb3dzIEZpbGVOb3RGb3Vu\nZEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhj\nZXB0aW9uQWN0aW9uPEZpbGVJbnB1dFN0cmVhbT4oKSB7CiAgICAgICAgICAg\nIHB1YmxpYyBGaWxlSW5wdXRTdHJlYW0gcnVuKCkgdGhyb3dzIEZpbGVOb3RG\nb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZp\nbGVJbnB1dFN0cmVhbShmKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0\naW9uQWN0aW9uIG9iamVjdCBmb3IgbmV3IEZpbGVPdXRwdXRTdHJlYW0oKS4K\nICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAg\nICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9uICJ3cml0\nZSI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIEZpbGVPdXRwdXRTdHJlYW0K\nICAgICAqIEB0aHJvd3MgRmlsZU5vdEZvdW5kRXhjZXB0aW9uCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFj\ndGlvbjxGaWxlT3V0cHV0U3RyZWFtPiAKICAgICAgICBuZXdGaWxlT3V0cHV0\nU3RyZWFtQWN0aW9uKAogICAgICAgIGZpbmFsIEZpbGUgZikgdGhyb3dzIEZp\nbGVOb3RGb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2\naWxlZ2VkRXhjZXB0aW9uQWN0aW9uPEZpbGVPdXRwdXRTdHJlYW0+KCkgewog\nICAgICAgICAgICBwdWJsaWMgRmlsZU91dHB1dFN0cmVhbSBydW4oKSB0aHJv\nd3MgRmlsZU5vdEZvdW5kRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJl\ndHVybiBuZXcgRmlsZU91dHB1dFN0cmVhbShmKTsKICAgICAgICAgICAgfQog\nICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2\naWxlZ2VkRXhjZXB0aW9uQWN0aW9uIG9iamVjdCBmb3IgbmV3IEZpbGVPdXRw\ndXRTdHJlYW0oKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkg\ncG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJt\naXNzaW9uICJ3cml0ZSI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIEZpbGVP\ndXRwdXRTdHJlYW0KICAgICAqIEB0aHJvd3MgRmlsZU5vdEZvdW5kRXhjZXB0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdl\nZEV4Y2VwdGlvbkFjdGlvbjxGaWxlT3V0cHV0U3RyZWFtPiAKICAgICAgICBu\nZXdGaWxlT3V0cHV0U3RyZWFtQWN0aW9uKAogICAgICAgIGZpbmFsIFN0cmlu\nZyBmLCBmaW5hbCBib29sZWFuIGFwcGVuZCkgdGhyb3dzIEZpbGVOb3RGb3Vu\nZEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhj\nZXB0aW9uQWN0aW9uPEZpbGVPdXRwdXRTdHJlYW0+KCkgewogICAgICAgICAg\nICBwdWJsaWMgRmlsZU91dHB1dFN0cmVhbSBydW4oKSB0aHJvd3MgRmlsZU5v\ndEZvdW5kRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcg\nRmlsZU91dHB1dFN0cmVhbShmLCBhcHBlbmQpOwogICAgICAgICAgICB9CiAg\nICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZp\nbGVnZWRFeGNlcHRpb25BY3Rpb24gb2JqZWN0IGZvciBJbmV0QWRyZXNzLmdl\ndEJ5TmFtZSgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBw\nb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubmV0LlNvY2tldFBl\ncm1pc3Npb24gImNvbm5lY3QiOycKICAgICAqIAogICAgICogQHJldHVybiBJ\nbmV0QWRkcmVzcwogICAgICogQHRocm93cyBVbmtub3duSG9zdEV4Y2VwdGlv\nbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRF\neGNlcHRpb25BY3Rpb248SW5ldEFkZHJlc3M+IGdldEJ5TmFtZUFjdGlvbigK\nICAgICAgICBmaW5hbCBTdHJpbmcgaG9zdG5hbWUpIHRocm93cyBVbmtub3du\nSG9zdEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2Vk\nRXhjZXB0aW9uQWN0aW9uPEluZXRBZGRyZXNzPigpIHsKICAgICAgICAgICAg\ncHVibGljIEluZXRBZGRyZXNzIHJ1bigpIHRocm93cyBVbmtub3duSG9zdEV4\nY2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gSW5ldEFkZHJlc3Mu\nZ2V0QnlOYW1lKGhvc3RuYW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH07\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhj\nZXB0aW9uQWN0aW9uIG9iamVjdCBmb3IgbmV3IFNvY2tldCgpLgogICAgICog\nCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdw\nZXJtaXNzaW9uIGphdmEubmV0LlNvY2tldFBlcm1pc3Npb24gImNvbm5lY3Qi\nOycKICAgICAqIAogICAgICogQHJldHVybiBTb2NrZXQKICAgICAqIEB0aHJv\nd3MgSU9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uPFNvY2tldD4gbmV3U29ja2V0\nQWN0aW9uKAogICAgICAgIGZpbmFsIEluZXRBZGRyZXNzIGhvc3QsIGZpbmFs\nIGludCBwb3J0KSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbjxTb2NrZXQ+KCkgewog\nICAgICAgICAgICBwdWJsaWMgU29ja2V0IHJ1bigpIHRocm93cyBJT0V4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNvY2tldChob3N0\nLCBwb3J0KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9u\nIG9iamVjdCBmb3IgbmV3IFNlcnZlclNvY2tldCgpLgogICAgICogCiAgICAg\nKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNz\naW9uIGphdmEubmV0LlNvY2tldFBlcm1pc3Npb24gImxpc3RlbiI7JwogICAg\nICogCiAgICAgKiBAcmV0dXJuIFNlcnZlclNvY2tldAogICAgICogQHRocm93\ncyBJT0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb248U2VydmVyU29ja2V0PgogICAg\nICAgICAgICBuZXdTZXJ2ZXJTb2NrZXRBY3Rpb24oCiAgICAgICAgZmluYWwg\naW50IHBvcnQpIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uPFNlcnZlclNvY2tldD4o\nKSB7CiAgICAgICAgICAgIHB1YmxpYyBTZXJ2ZXJTb2NrZXQgcnVuKCkgdGhy\nb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcg\nU2VydmVyU29ja2V0KHBvcnQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNl\ncHRpb25BY3Rpb24gb2JqZWN0IGZvciBTZXJ2ZXJTb2NrZXQuYWNjZXB0KCku\nCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAg\nICAqICAgJ3Blcm1pc3Npb24gamF2YS5uZXQuU29ja2V0UGVybWlzc2lvbiAi\nbGlzdGVuIjsnCiAgICAgKiAKICAgICAqIEByZXR1cm4gU29ja2V0CiAgICAg\nKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0\naWMgZmluYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbjxTb2NrZXQ+IGFj\nY2VwdEFjdGlvbigKICAgICAgICBmaW5hbCBTZXJ2ZXJTb2NrZXQgc3MpIHRo\ncm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxl\nZ2VkRXhjZXB0aW9uQWN0aW9uPFNvY2tldD4oKSB7CiAgICAgICAgICAgIHB1\nYmxpYyBTb2NrZXQgcnVuKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAg\nICAgICAgICAgIHJldHVybiBzcy5hY2NlcHQoKTsKICAgICAgICAgICAgfQog\nICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2\naWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBTeXN0ZW0uZ2V0UHJvcGVydGllcygp\nLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAg\nICAgKiAgICdwZXJtaXNzaW9uIGphdmEudXRpbC5Qcm9wZXJ0eVBlcm1pc3Np\nb24gInJlYWQiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJuIFByb3BlcnRp\nZXMKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2Vk\nQWN0aW9uPFByb3BlcnRpZXM+IGdldFByb3BlcnRpZXNBY3Rpb24oKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uPFByb3BlcnRpZXM+\nKCkgewogICAgICAgICAgICBwdWJsaWMgUHJvcGVydGllcyBydW4oKSB7CiAg\nICAgICAgICAgICAgICByZXR1cm4gU3lzdGVtLmdldFByb3BlcnRpZXMoKTsK\nICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBTeXN0ZW0u\nZ2V0UHJvcGVydHkoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJp\ndHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLnV0aWwuUHJv\ncGVydHlQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAgIAogICAgICogQHJl\ndHVybiBTdHJpbmcKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQ\ncml2aWxlZ2VkQWN0aW9uPFN0cmluZz4gZ2V0UHJvcGVydHlBY3Rpb24oCiAg\nICAgICAgZmluYWwgU3RyaW5nIG5hbWUpIHsKICAgICAgICByZXR1cm4gbmV3\nIFByaXZpbGVnZWRBY3Rpb248U3RyaW5nPigpIHsKICAgICAgICAgICAgcHVi\nbGljIFN0cmluZyBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gU3lz\ndGVtLmdldFByb3BlcnR5KG5hbWUpOwogICAgICAgICAgICB9CiAgICAgICAg\nfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFj\ndGlvbiBvYmplY3QgZm9yIFRocmVhZC5jdXJyZW50VGhyZWFkCiAgICAgKiAg\nIC5nZXRDb250ZXh0Q2xhc3NMb2FkZXIoKS4KICAgICAqIAogICAgICogUmVx\ndWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBq\nYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImdldENsYXNzTG9hZGVyIjsn\nCiAgICAgKiAgIAogICAgICogQHJldHVybiBDbGFzc0xvYWRlcgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb248Q2xh\nc3NMb2FkZXI+IAogICAgICAgICAgICBnZXRDb250ZXh0Q2xhc3NMb2FkZXJB\nY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9u\nPENsYXNzTG9hZGVyPigpIHsKICAgICAgICAgICAgcHVibGljIENsYXNzTG9h\nZGVyIHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBUaHJlYWQuY3Vy\ncmVudFRocmVhZCgpLmdldENvbnRleHRDbGFzc0xvYWRlcigpOwogICAgICAg\nICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIFRocmVhZC5jdXJyZW50\nVGhyZWFkCiAgICAgKiAgIC5zZXRDb250ZXh0Q2xhc3NMb2FkZXIoKS4KICAg\nICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICog\nICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gInNl\ndENvbnRleHRDbGFzc0xvYWRlciI7JwogICAgICogICAKICAgICAqIEByZXR1\ncm4gQ2xhc3NMb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBQcml2aWxlZ2VkQWN0aW9uPEJvb2xlYW4+IAogICAgICAgICAgICBzZXRD\nb250ZXh0Q2xhc3NMb2FkZXJBY3Rpb24oZmluYWwgQ2xhc3NMb2FkZXIgbG9h\nZGVyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uPEJv\nb2xlYW4+KCkgewogICAgICAgICAgICBwdWJsaWMgQm9vbGVhbiBydW4oKSB7\nCiAgICAgICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgpLnNldENv\nbnRleHRDbGFzc0xvYWRlcihsb2FkZXIpOwogICAgICAgICAgICAgICAgcmV0\ndXJuIEJvb2xlYW4uVFJVRTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkQWN0aW9u\nIG9iamVjdCBmb3IgbmV3IFRocmVhZCgpLgogICAgICogCiAgICAgKiBSZXF1\naXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGph\ndmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAibW9kaWZ5VGhyZWFkR3JvdXAi\nOycKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQZXJt\naXNzaW9uICJtb2RpZnlUaHJlYWQiOycKICAgICAqIAogICAgICogQHJldHVy\nbiBUaHJlYWQKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2\naWxlZ2VkQWN0aW9uPFRocmVhZD4gbmV3RGFlbW9uVGhyZWFkQWN0aW9uKAog\nICAgICAgIGZpbmFsIFJ1bm5hYmxlIHRhcmdldCwgZmluYWwgU3RyaW5nIG5h\nbWUpIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb248VGhy\nZWFkPigpIHsKICAgICAgICAgICAgcHVibGljIFRocmVhZCBydW4oKSB7CiAg\nICAgICAgICAgICAgICBUaHJlYWQgdGhyZWFkID0gbmV3IFRocmVhZCh0YXJn\nZXQsIG5hbWUpOwogICAgICAgICAgICAgICAgdGhyZWFkLnNldERhZW1vbih0\ncnVlKTsKICAgICAgICAgICAgICAgIHJldHVybiB0aHJlYWQ7CiAgICAgICAg\nICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIHVybC5v\ncGVuU3RyZWFtKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVy\nbWlzc2lvbiAicmVhZCI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIElucHV0\nU3RyZWFtCiAgICAgKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlv\nbjxJbnB1dFN0cmVhbT4gb3BlblN0cmVhbUFjdGlvbigKICAgICAgICBmaW5h\nbCBVUkwgdXJsKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbjxJbnB1dFN0cmVhbT4o\nKSB7CiAgICAgICAgICAgIHB1YmxpYyBJbnB1dFN0cmVhbSBydW4oKSB0aHJv\nd3MgSU9FeGNlcHRpb24gewogICAgICAgICAgICAgICAgcmV0dXJuIHVybC5v\ncGVuU3RyZWFtKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFj\ndGlvbiBvYmplY3QgY29uLmdldENvbnRlbnQoKS4KICAgICAqIAogICAgICog\nUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lv\nbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAKICAg\nICAqIEByZXR1cm4gT2JqZWN0CiAgICAgKiBAdGhyb3dzIElPRXhjZXB0aW9u\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4\nY2VwdGlvbkFjdGlvbjxPYmplY3Q+IGdldENvbnRlbnRBY3Rpb24oCiAgICAg\nICAgZmluYWwgVVJMQ29ubmVjdGlvbiBjb24pIHRocm93cyBJT0V4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0\naW9uPE9iamVjdD4oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVu\nKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJldHVy\nbiBjb24uZ2V0Q29udGVudCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNl\ncHRpb25BY3Rpb24gb2JqZWN0IGZvciBuZXcgWmlwRmlsZSgpLgogICAgICog\nCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdw\nZXJtaXNzaW9uIGphdmEuaW8uRmlsZVBlcm1pc3Npb24gInJlYWQiOycKICAg\nICAqIAogICAgICogQHJldHVybiBaaXBGaWxlCiAgICAgKiBAdGhyb3dzIElP\nRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbjxaaXBGaWxlPiBuZXdaaXBGaWxlQWN0\naW9uKAogICAgICAgIGZpbmFsIEZpbGUgZikKICAgICAgICB0aHJvd3MgSU9F\neGNlcHRpb24gewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2Vw\ndGlvbkFjdGlvbjxaaXBGaWxlPigpIHsKICAgICAgICAgICAgcHVibGljIFpp\ncEZpbGUgcnVuKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICAgICAg\nICAgIHJldHVybiBuZXcgWmlwRmlsZShmKTsKICAgICAgICAgICAgfQogICAg\nICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxl\nZ2VBY3Rpb24gb2JqZWN0IGZvciBuZXcgc2VycC5ieXRlY29kZS5Db2RlKCku\nCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAg\nICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNzaW9u\nICJnZXRDbGFzc0xvYWRlciI7JwogICAgICogICAKICAgICAqIEByZXR1cm4g\nc2VycC5ieXRlY29kZS5Db2RlCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nZmluYWwgUHJpdmlsZWdlZEFjdGlvbjxDb2RlPiBuZXdDb2RlQWN0aW9uKCkg\newogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxDb2RlPigp\nIHsKICAgICAgICAgICAgcHVibGljIENvZGUgcnVuKCkgewogICAgICAgICAg\nICAgICAgcmV0dXJuIG5ldyBDb2RlKCk7CiAgICAgICAgICAgIH0KICAgICAg\nICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdl\nQWN0aW9uIG9iamVjdCBmb3IgbmV3IFRlbXBvcmFyeUNsYXNzTG9hZGVyKCku\nCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAg\nICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNzaW9u\nICJjcmVhdGVDbGFzc0xvYWRlciI7JwogICAgICogICAKICAgICAqIEByZXR1\ncm4gVGVtcG9yYXJ5Q2xhc3NMb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uPFRlbXBvcmFyeUNsYXNzTG9h\nZGVyPgogICAgICAgIG5ld1RlbXBvcmFyeUNsYXNzTG9hZGVyQWN0aW9uKAog\nICAgICAgIGZpbmFsIENsYXNzTG9hZGVyIHBhcmVudCkgewogICAgICAgIHJl\ndHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxUZW1wb3JhcnlDbGFzc0xvYWRl\ncj4oKSB7CiAgICAgICAgICAgIHB1YmxpYyBUZW1wb3JhcnlDbGFzc0xvYWRl\nciBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRlbXBvcmFy\neUNsYXNzTG9hZGVyKHBhcmVudCk7CiAgICAgICAgICAgIH0KICAgICAgICB9\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0\naW9uIG9iamVjdCBmb3IgbmV3IE11bHRpQ2xhc3NMb2FkZXIoKS4KICAgICAq\nIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAn\ncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImNyZWF0\nZUNsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBNdWx0\naUNsYXNzTG9hZGVyCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwg\nUHJpdmlsZWdlZEFjdGlvbjxNdWx0aUNsYXNzTG9hZGVyPiBuZXdNdWx0aUNs\nYXNzTG9hZGVyQWN0aW9uKCkgewogICAgICAgIHJldHVybiBuZXcgUHJpdmls\nZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE11bHRpQ2xhc3NM\nb2FkZXIgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNdWx0\naUNsYXNzTG9hZGVyKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAg\nfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9i\namVjdCBmb3IgbmV3IEJDQ2xhc3NMb2FkZXIoKS4KICAgICAqIAogICAgICog\nUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lv\nbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImNyZWF0ZUNsYXNzTG9h\nZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBCQ0NsYXNzTG9hZGVy\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFj\ndGlvbjxCQ0NsYXNzTG9hZGVyPiBuZXdCQ0NsYXNzTG9hZGVyQWN0aW9uKAog\nICAgICAgIGZpbmFsIFByb2plY3QgcHJvamVjdCwgZmluYWwgQ2xhc3NMb2Fk\nZXIgcGFyZW50KSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0\naW9uPEJDQ2xhc3NMb2FkZXI+KCkgewogICAgICAgICAgICBwdWJsaWMgQkND\nbGFzc0xvYWRlciBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3\nIEJDQ2xhc3NMb2FkZXIocHJvamVjdCwgcGFyZW50KTsKICAgICAgICAgICAg\nfQogICAgICAgIH07CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQ\ncml2aWxlZ2VkQWN0aW9uPEJDQ2xhc3NMb2FkZXI+IG5ld0JDQ2xhc3NMb2Fk\nZXJBY3Rpb24oCiAgICAgICAgZmluYWwgUHJvamVjdCBwcm9qZWN0KSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uPEJDQ2xhc3NMb2Fk\nZXI+KCkgewogICAgICAgICAgICBwdWJsaWMgQkNDbGFzc0xvYWRlciBydW4o\nKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJDQ2xhc3NMb2FkZXIo\ncHJvamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAg\nCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25B\nY3Rpb24gb2JqZWN0IGZvciBCQ0NsYXNzLndyaXRlKCkuCiAgICAgKiAKICAg\nICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1p\nc3Npb24gamF2YS5pby5GaWxlUGVybWlzc2lvbiAid3JpdGUiOycKICAgICAq\nIAogICAgICogQHJldHVybiBudWxsCiAgICAgKiBAdGhyb3dzIElPRXhjZXB0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdl\nZEV4Y2VwdGlvbkFjdGlvbjxPYmplY3Q+IGJDQ2xhc3NXcml0ZSgKICAgICAg\nICBmaW5hbCBCQ0NsYXNzIGJjLCBmaW5hbCBGaWxlIGYpIHRocm93cyBJT0V4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0\naW9uQWN0aW9uPE9iamVjdD4oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmpl\nY3QgcnVuKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAg\nIGJjLndyaXRlKGYpOwogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAg\nICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgQkNDbGFzcy5n\nZXRGaWVsZHMoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkg\ncG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGlt\nZVBlcm1pc3Npb24gImdldENsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAg\nICogQHJldHVybiBCQ0ZpZWxkCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nZmluYWwgUHJpdmlsZWdlZEFjdGlvbjxCQ0ZpZWxkIFtdPiBnZXRCQ0NsYXNz\nRmllbGRzQWN0aW9uKAogICAgICAgIGZpbmFsIEJDQ2xhc3MgYmNDbGFzcywg\nZmluYWwgU3RyaW5nIGZpZWxkTmFtZSkgewogICAgICAgIHJldHVybiBuZXcg\nUHJpdmlsZWdlZEFjdGlvbjxCQ0ZpZWxkIFtdPigpIHsKICAgICAgICAgICAg\ncHVibGljIEJDRmllbGQgW10gcnVuKCkgewogICAgICAgICAgICAgICAgcmV0\ndXJuIGJjQ2xhc3MuZ2V0RmllbGRzKGZpZWxkTmFtZSk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEg\nUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgRmllbGRJbnN0cnVjdGlvbi5n\nZXRGaWVsZCgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBw\nb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1l\nUGVybWlzc2lvbiAiZ2V0Q2xhc3NMb2FkZXIiOycKICAgICAqICAgCiAgICAg\nKiBAcmV0dXJuIEJDRmllbGQKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBQcml2aWxlZ2VkQWN0aW9uPEJDRmllbGQ+IGdldEZpZWxkSW5zdHJ1\nY3Rpb25GaWVsZEFjdGlvbgogICAgKAogICAgICAgIGZpbmFsIEZpZWxkSW5z\ndHJ1Y3Rpb24gaW5zdHJ1Y3Rpb24pIHsKICAgICAgICByZXR1cm4gbmV3IFBy\naXZpbGVnZWRBY3Rpb248QkNGaWVsZD4oKSB7CiAgICAgICAgICAgIHB1Ymxp\nYyBCQ0ZpZWxkIHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpbnN0\ncnVjdGlvbi5nZXRGaWVsZCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlv\nbiBvYmplY3QgZm9yIFByb2plY3QubG9hZENsYXNzKCkuCiAgICAgKiAKICAg\nICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1p\nc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNzaW9uICJjcmVhdGVDbGFz\nc0xvYWRlciI7JwogICAgICogICAKICAgICAqIEByZXR1cm4gQkNDbGFzcwog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rp\nb248QkNDbGFzcz4gbG9hZFByb2plY3RDbGFzc0FjdGlvbigKICAgICAgICBm\naW5hbCBQcm9qZWN0IHByb2plY3QsIGZpbmFsIENsYXNzPD8+IGNsYXp6KSB7\nCiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uPEJDQ2xhc3M+\nKCkgewogICAgICAgICAgICBwdWJsaWMgQkNDbGFzcyBydW4oKSB7CiAgICAg\nICAgICAgICAgICByZXR1cm4gcHJvamVjdC5sb2FkQ2xhc3MoY2xhenopOwog\nICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KICAgIAogICAgLyoqCiAg\nICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBQcm9q\nZWN0LmxvYWRDbGFzcygpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1\ncml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5S\ndW50aW1lUGVybWlzc2lvbiAiZ2V0Q2xhc3NMb2FkZXIiOycKICAgICAqICAg\nCiAgICAgKiBAcmV0dXJuIEJDQ2xhc3MKICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uPEJDQ2xhc3M+IGxvYWRQcm9q\nZWN0Q2xhc3NBY3Rpb24oCiAgICAgICAgZmluYWwgUHJvamVjdCBwcm9qZWN0\nLCBmaW5hbCBTdHJpbmcgY2xhenpOYW1lKSB7CiAgICAgICAgcmV0dXJuIG5l\ndyBQcml2aWxlZ2VkQWN0aW9uPEJDQ2xhc3M+KCkgewogICAgICAgICAgICBw\ndWJsaWMgQkNDbGFzcyBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4g\ncHJvamVjdC5sb2FkQ2xhc3MoY2xhenpOYW1lKTsKICAgICAgICAgICAgfQog\nICAgICAgIH07CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUmV0dXJuIGEg\nUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgQW5ub3RhdGVkRWxlbWVudC5n\nZXRBbm5vdGF0aW9ucygpLgogICAgICoKICAgICAqIFJlcXVpcmVzIHNlY3Vy\naXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1\nbnRpbWVQZXJtaXNzaW9uICJhY2Nlc3NEZWNsYXJlZE1lbWJlcnMiOycKICAg\nICAqCiAgICAgKiBAcmV0dXJuIEFubm90YXRpb25bXQogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb248QW5ub3RhdGlv\nbiBbXT4gZ2V0QW5ub3RhdGlvbnNBY3Rpb24oCiAgICAgICAgZmluYWwgQW5u\nb3RhdGVkRWxlbWVudCBlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIG5ldyBQ\ncml2aWxlZ2VkQWN0aW9uPEFubm90YXRpb24gW10+KCkgewogICAgICAgICAg\nICBwdWJsaWMgQW5ub3RhdGlvbiBbXSBydW4oKSB7CiAgICAgICAgICAgICAg\nICByZXR1cm4gZWxlbWVudC5nZXRBbm5vdGF0aW9ucygpOwogICAgICAgICAg\nICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBh\nIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yCiAgICAgKiAgIEFubm90YXRl\nZEVsZW1lbnQuZ2V0RGVjbGFyZWRBbm5vdGF0aW9ucygpLgogICAgICoKICAg\nICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1p\nc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNzaW9uICJhY2Nlc3NEZWNs\nYXJlZE1lbWJlcnMiOycKICAgICAqCiAgICAgKiBAcmV0dXJuIEFubm90YXRp\nb25bXQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVn\nZWRBY3Rpb248QW5ub3RhdGlvbiBbXT4gCiAgICAgICAgZ2V0RGVjbGFyZWRB\nbm5vdGF0aW9uc0FjdGlvbigKICAgICAgICBmaW5hbCBBbm5vdGF0ZWRFbGVt\nZW50IGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRB\nY3Rpb248QW5ub3RhdGlvbltdPigpIHsKICAgICAgICAgICAgcHVibGljIEFu\nbm90YXRpb24gW10gcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGVs\nZW1lbnQuZ2V0RGVjbGFyZWRBbm5vdGF0aW9ucygpOwogICAgICAgICAgICB9\nCiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFBy\naXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yCiAgICAgKiAgIEFubm90YXRlZEVs\nZW1lbnQuaXNBbm5vdGF0aW9uUHJlc2VudCgpLgogICAgICoKICAgICAqIFJl\ncXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24g\namF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNzaW9uICJhY2Nlc3NEZWNsYXJlZE1l\nbWJlcnMiOycKICAgICAqCiAgICAgKiBAcmV0dXJuIEJvb2xlYW4KICAgICAq\nLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uPEJv\nb2xlYW4+IGlzQW5ub3RhdGlvblByZXNlbnRBY3Rpb24oCiAgICAgICAgZmlu\nYWwgQW5ub3RhdGVkRWxlbWVudCBlbGVtZW50LAogICAgICAgIGZpbmFsIENs\nYXNzPD8gZXh0ZW5kcyBBbm5vdGF0aW9uPiBhbm5vdGF0aW9uQ2xhenopIHsK\nICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb248Qm9vbGVhbj4o\nKSB7CiAgICAgICAgICAgIHB1YmxpYyBCb29sZWFuIHJ1bigpIHsKICAgICAg\nICAgICAgICAgIHJldHVybiBlbGVtZW50LmlzQW5ub3RhdGlvblByZXNlbnQo\nYW5ub3RhdGlvbkNsYXp6KQogICAgICAgICAgICAgICAgICAgID8gQm9vbGVh\nbi5UUlVFIDogQm9vbGVhbi5GQUxTRTsKICAgICAgICAgICAgfQogICAgICAg\nIH07CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmls\nZWdlZEFjdGlvbiBvYmplY3QgZm9yCiAgICAgKiAgIEFubm90YXRlZEVsZW1l\nbnQuZ2V0QW5ub3RhdGlvbigpLgogICAgICoKICAgICAqIFJlcXVpcmVzIHNl\nY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5n\nLlJ1bnRpbWVQZXJtaXNzaW9uICJhY2Nlc3NEZWNsYXJlZE1lbWJlcnMiOycK\nICAgICAqCiAgICAgKiBAcmV0dXJuIEFubm90YXRpb24KICAgICAqLwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCA8VCBleHRlbmRzIEFubm90YXRpb24+IFBy\naXZpbGVnZWRBY3Rpb248VD4gCiAgICAgICAgZ2V0QW5ub3RhdGlvbkFjdGlv\nbigKICAgICAgICBmaW5hbCBBbm5vdGF0ZWRFbGVtZW50IGVsZW1lbnQsIAog\nICAgICAgIGZpbmFsIENsYXNzPFQ+IGFubm90YXRpb25DbGF6eikgewogICAg\nICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxUPigpIHsKICAgICAg\nICAgICAgcHVibGljIFQgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJu\nIChUKSBlbGVtZW50LmdldEFubm90YXRpb24oYW5ub3RhdGlvbkNsYXp6KTsK\nICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CiAgICAKICAgIC8qKgog\nICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgamF2\nYXgudmFsaWRhdGlvbi5WYWxpZGF0b3IudmFsaWRhdGUoKS4KICAgICAqIAog\nICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OiAncGVybWlzc2lvbiBq\nYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImFjY2Vzc0RlY2xhcmVkTWVt\nZWJlciI7JwogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIDxUPiBQ\ncml2aWxlZ2VkQWN0aW9uPFNldDxDb25zdHJhaW50VmlvbGF0aW9uPFQ+Pj4g\ndmFsaWRhdGVBY3Rpb24oCiAgICAgICAgZmluYWwgVmFsaWRhdG9yIHZhbGlk\nYXRvciwgZmluYWwgVCBhcmcwLCBmaW5hbCBDbGFzczw/PltdIGdyb3Vwcykg\newogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxTZXQ8Q29u\nc3RyYWludFZpb2xhdGlvbjxUPj4+KCkgewogICAgICAgICAgICBwdWJsaWMg\nU2V0PENvbnN0cmFpbnRWaW9sYXRpb248VD4+IHJ1bigpIHsKICAgICAgICAg\nICAgICAgIHJldHVybiB2YWxpZGF0b3IudmFsaWRhdGUoYXJnMCwgZ3JvdXBz\nKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBqYXZh\neC52YWxpZGF0aW9uLlZhbGlkYXRpb24uYnVpbGREZWZhdWx0VmFsaWRhdG9y\nRmFjdG9yeSgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBw\nb2xpY3k6ICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lv\nbiAiY3JlYXRlQ2xhc3NMb2FkZXIiOycKICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCA8VD4gUHJpdmlsZWdlZEFjdGlvbjxWYWxpZGF0b3JGYWN0\nb3J5PiBidWlsZERlZmF1bHRWYWxpZGF0b3JGYWN0b3J5QWN0aW9uKCkgewog\nICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbjxWYWxpZGF0b3JG\nYWN0b3J5PigpIHsKICAgICAgICAgICAgcHVibGljIFZhbGlkYXRvckZhY3Rv\ncnkgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFZhbGlkYXRpb24u\nYnVpbGREZWZhdWx0VmFsaWRhdG9yRmFjdG9yeSgpOwogICAgICAgICAgICB9\nCiAgICAgICAgfTsKICAgIH0KfQo=\n","encoding":"base64"}

