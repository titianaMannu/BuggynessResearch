{"sha":"9bc695931466a42981558d4b4511a7e2b8ad3fc1","node_id":"MDQ6QmxvYjIwNjM2NDo5YmM2OTU5MzE0NjZhNDI5ODE1NThkNGI0NTExYTdlMmI4YWQzZmMx","size":2803,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9bc695931466a42981558d4b4511a7e2b8ad3fc1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5pby5TZXJpYWxpemFibGU7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVj\ndGlvbjsKaW1wb3J0IGphdmEudXRpbC5MaW5rZWRIYXNoTWFwOwppbXBvcnQg\namF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CgovKioKICog\nQSBNYXAgd2l0aCBwcmVkaWN0YWJsZSBpdGVyYXRpb24gb3JkZXIuCiAqIAog\nKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICogQHNpbmNlIDIuMC4wCiAqLwpA\nU3VwcHJlc3NXYXJuaW5ncygic2VyaWFsIikKcHVibGljIGNsYXNzIE9yZGVy\nZWRNYXA8SywgVj4gaW1wbGVtZW50cyBNYXA8SywgVj4sIFNlcmlhbGl6YWJs\nZSB7CiAgICBwcml2YXRlIGZpbmFsIExpbmtlZEhhc2hNYXA8SywgVj4gX2Rl\nbDsKICAgIAogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Qgd2l0aCBwcmVkaWN0\nYWJsZSBpbnNlcnRpb24gb3JkZXIuCiAgICAgKi8KICAgIHB1YmxpYyBPcmRl\ncmVkTWFwKCkgewogICAgICAgIF9kZWwgPSBuZXcgTGlua2VkSGFzaE1hcDxL\nLCBWPig2LDAuMWYsZmFsc2UpOwogICAgfQogICAgCiAgICAvKioKICAgICAq\nIENvbnN0cnVjdCB3aXRoIHByZWRpY3RhYmxlIGl0ZXJhdGlvbiBvcmRlci4K\nICAgICAqIEBwYXJhbSBscnUgaWYgdHJ1ZSB0aGUgaXRlcmF0b3Igb3JkZXIg\naXMgYmFzZWQgb24gbGFzdCBhY2Nlc3MsIGZhbHNlIGZvciBvcmRlciBvZiBp\nbnNlcnRpb24uCiAgICAgKi8KICAgIHB1YmxpYyBPcmRlcmVkTWFwKGJvb2xl\nYW4gbHJ1KSB7CiAgICAgICAgX2RlbCA9IG5ldyBMaW5rZWRIYXNoTWFwPEss\nIFY+KDYsMC4xZixscnUpOwogICAgfQogICAgCiAgICBwdWJsaWMgaW50IGlu\nZGV4T2YoT2JqZWN0IGtleSkgewogICAgICAgIGludCBpID0gMDsKICAgICAg\nICBmb3IgKEsgayA6IF9kZWwua2V5U2V0KCkpIHsKICAgICAgICAgICAgaWYg\nKGtleS5lcXVhbHMoaykpCiAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAg\nICAgICAgICAgaSsrOwogICAgICAgIH0KICAgICAgICByZXR1cm4gLTE7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIGNsZWFyKCkgewogICAgfQoKICAg\nIAogICAgcHVibGljIGJvb2xlYW4gY29udGFpbnNLZXkoT2JqZWN0IGtleSkg\newogICAgICAgIHJldHVybiBfZGVsLmNvbnRhaW5zS2V5KGtleSk7CiAgICB9\nCgogICAgCiAgICBwdWJsaWMgYm9vbGVhbiBjb250YWluc1ZhbHVlKE9iamVj\ndCB2YWx1ZSkgewogICAgICAgIHJldHVybiBfZGVsLmNvbnRhaW5zVmFsdWUo\ndmFsdWUpOwogICAgfQoKICAgIAogICAgcHVibGljIFNldDxqYXZhLnV0aWwu\nTWFwLkVudHJ5PEssIFY+PiBlbnRyeVNldCgpIHsKICAgICAgICByZXR1cm4g\nX2RlbC5lbnRyeVNldCgpOwogICAgfQoKICAgIAogICAgcHVibGljIFYgZ2V0\nKE9iamVjdCBrZXkpIHsKICAgICAgICByZXR1cm4gX2RlbC5nZXQoa2V5KTsK\nICAgIH0KCiAgICAKICAgIHB1YmxpYyBib29sZWFuIGlzRW1wdHkoKSB7CiAg\nICAgICAgcmV0dXJuIF9kZWwuaXNFbXB0eSgpOwogICAgfQoKICAgIAogICAg\ncHVibGljIFNldDxLPiBrZXlTZXQoKSB7CiAgICAgICAgcmV0dXJuIF9kZWwu\na2V5U2V0KCk7CiAgICB9CgogICAgCiAgICBwdWJsaWMgViBwdXQoSyBrZXks\nIFYgdmFsdWUpIHsKICAgICAgICByZXR1cm4gX2RlbC5wdXQoa2V5LCB2YWx1\nZSk7CiAgICB9CgogICAgCiAgICBwdWJsaWMgdm9pZCBwdXRBbGwoTWFwPD8g\nZXh0ZW5kcyBLLCA/IGV4dGVuZHMgVj4gbSkgewogICAgICAgIF9kZWwucHV0\nQWxsKG0pOwogICAgfQoKICAgIAogICAgcHVibGljIFYgcmVtb3ZlKE9iamVj\ndCBrZXkpIHsKICAgICAgICByZXR1cm4gX2RlbC5yZW1vdmUoa2V5KTsKICAg\nIH0KCiAgICAKICAgIHB1YmxpYyBpbnQgc2l6ZSgpIHsKICAgICAgICByZXR1\ncm4gX2RlbC5zaXplKCk7CiAgICB9CgogICAgCiAgICBwdWJsaWMgQ29sbGVj\ndGlvbjxWPiB2YWx1ZXMoKSB7CiAgICAgICAgcmV0dXJuIF9kZWwudmFsdWVz\nKCk7CiAgICB9Cgp9Cg==\n","encoding":"base64"}

