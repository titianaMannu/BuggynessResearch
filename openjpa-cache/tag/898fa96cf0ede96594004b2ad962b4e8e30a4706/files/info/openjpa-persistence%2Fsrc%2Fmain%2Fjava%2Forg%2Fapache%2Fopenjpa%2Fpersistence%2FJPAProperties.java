{"sha":"2f36b05adba6ea1af64ec5c714fe07fa3f58a474","node_id":"MDQ6QmxvYjIwNjM2NDoyZjM2YjA1YWRiYTZlYTFhZjY0ZWM1YzcxNGZlMDdmYTNmNThhNDc0","size":9110,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2f36b05adba6ea1af64ec5c714fe07fa3f58a474","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2U7CgppbXBv\ncnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkNhY2hlUmV0cmlldmVNb2RlOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuQ2FjaGVTdG9yZU1vZGU7CgppbXBv\ncnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkRhdGFDYWNoZVJldHJpZXZl\nTW9kZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuRGF0YUNh\nY2hlU3RvcmVNb2RlOwoKLyoqCiAqIEVudW1lcmF0ZXMgY29uZmlndXJhdGlv\nbiBwcm9wZXJ0eSBrZXlzIGRlZmluZWQgaW4gSlBBIDIuMCBTcGVjaWZpY2F0\naW9uLgogKiA8YnI+CiAqIFByb3ZpZGVzIHN0YXRpYyB1dGlsaXR5IGZ1bmN0\naW9ucyB0byByZWFkIHRoZWlyIHZhbHVlcyBmcm9tIHN1cHBsaWVkIG1hcCBv\nZiBwcm9wZXJ0aWVzLgogKiA8YnI+CiAqIFByb3ZpZGVzIHN0YXRpYyB1dGls\naXR5IGZ1bmN0aW9ucyB0byBjb252ZXJ0IHRoZW0gdG8gdmFsdWVzIHRoYXQg\nYXJlIGZpdCBmb3IgT3BlbkpQQSBpbXBsZW1lbnRhdGlvbi4gIAogKiA8YnI+\nCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcgogKiBAc2luY2UgMi4wLjAKICoK\nICovCnB1YmxpYyBjbGFzcyBKUEFQcm9wZXJ0aWVzIHsKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIFN0cmluZyBSRUdFWF9ET1QgICAgICAgICAgID0gIlxc\nLiI7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBQUkVGSVggICAg\nICAgICAgICAgID0gImphdmF4LnBlcnNpc3RlbmNlLiI7CiAgICAKICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIFBST1ZJREVSICAgICAgICAgICAg\nPSBQUkVGSVggKyAicHJvdmlkZXIiOwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBTdHJpbmcgVFJBTlNBQ1RJT05fVFlQRSAgICA9IFBSRUZJWCArICJ0cmFu\nc2FjdGlvblR5cGUiOwogICAgCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0\ncmluZyBEQVRBU09VUkNFICAgICAgICAgID0gUFJFRklYICsgImRhdGFTb3Vy\nY2UiOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgREFUQVNPVVJD\nRV9KVEEgICAgICA9IFBSRUZJWCArICJqdGFEYXRhU291cmNlIjsKICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIERBVEFTT1VSQ0VfTk9OSlRBICAg\nPSBQUkVGSVggKyAibm9uSnRhRGF0YVNvdXJjZSI7CiAgICAKICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgU3RyaW5nIEpEQkNfRFJJVkVSICAgICAgICAgID0g\nUFJFRklYICsgImpkYmMuZHJpdmVyIjsKICAgIHB1YmxpYyBzdGF0aWMgZmlu\nYWwgU3RyaW5nIEpEQkNfVVJMICAgICAgICAgICAgID0gUFJFRklYICsgImpk\nYmMudXJsIjsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEpEQkNf\nVVNFUiAgICAgICAgICAgID0gUFJFRklYICsgImpkYmMudXNlciI7CiAgICBw\ndWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBKREJDX1BBU1NXT1JEICAgICAg\nICA9IFBSRUZJWCArICJqZGJjLnBhc3N3b3JkIjsKICAgIAogICAgcHVibGlj\nIHN0YXRpYyBmaW5hbCBTdHJpbmcgTE9DS19TQ09QRSAgICAgICAgICAgPSBQ\nUkVGSVggKyAibG9jay5zY29wZSI7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFN0cmluZyBMT0NLX1RJTUVPVVQgICAgICAgICA9IFBSRUZJWCArICJsb2Nr\nLnRpbWVvdXQiOwogICAgCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmlu\nZyBRVUVSWV9USU1FT1VUICAgICAgICA9IFBSRUZJWCArICJxdWVyeS50aW1l\nb3V0IjsKICAgIAogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQ0FD\nSEVfTU9ERSAgICAgICAgICAgPSBQUkVGSVggKyAic2hhcmVkQ2FjaGUubW9k\nZSI7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBDQUNIRV9TVE9S\nRV9NT0RFICAgICA9IFBSRUZJWCArICJjYWNoZS5zdG9yZU1vZGUiOwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQ0FDSEVfUkVUUklFVkVfTU9E\nRSAgPSBQUkVGSVggKyAiY2FjaGUucmV0cmlldmVNb2RlIjsKICAgIAogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgVkFMSURBVEVfRkFDVE9SWSAg\nICAgPSBQUkVGSVggKyAidmFsaWRhdGlvbi5mYWN0b3J5IjsKICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgU3RyaW5nIFZBTElEQVRFX01PREUgICAgICAgID0g\nUFJFRklYICsgInZhbGlkYXRpb24ubW9kZSI7CiAgICBwdWJsaWMgc3RhdGlj\nIGZpbmFsIFN0cmluZyBWQUxJREFURV9QUkVfUEVSU0lTVCA9IFBSRUZJWCAr\nICJ2YWxpZGF0aW9uLmdyb3VwLnByZS1wZXJzaXN0IjsKICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgU3RyaW5nIFZBTElEQVRFX1BSRV9SRU1PVkUgID0gUFJF\nRklYICsgInZhbGlkYXRpb24uZ3JvdXAucHJlLXJlbW92ZSI7CiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIFN0cmluZyBWQUxJREFURV9QUkVfVVBEQVRFICA9\nIFBSRUZJWCArICJ2YWxpZGF0aW9uLmdyb3VwLnByZS11cGRhdGUiOwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgVkFMSURBVEVfR1JPVVBfREVG\nQVVMVCA9ICJqYXZheC52YWxpZGF0aW9uLmdyb3Vwcy5EZWZhdWx0IjsKICAg\nIAogICAgcHJpdmF0ZSBzdGF0aWMgTWFwPFN0cmluZyxTdHJpbmc+IF9uYW1l\ncyA9IG5ldyBIYXNoTWFwPFN0cmluZywgU3RyaW5nPigpOwogICAgCiAgICAv\nKioKICAgICAqIFJlY29yZCB0aGUgZ2l2ZW4ga2VybmVsIHByb3BlcnR5IGtl\neSAod2hpY2ggaXMgYSBiZWFuIHByb3BlcnR5IG5hbWUgd2l0aG91dCBhbnkg\nc3VmZml4KQogICAgICogY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gb3Jp\nZ2luYWwgSlBBL09wZW5KUEEgcHJvcGVydHkgdXNlZCBieSB0aGUgdXNlciB0\nbyBzZXQgdGhlIHZhbHVlcy4KICAgICAqLwogICAgc3RhdGljIHZvaWQgcmVj\nb3JkKFN0cmluZyBrZXJuZWwsIFN0cmluZyB1c2VyKSB7CiAgICAgICAgX25h\nbWVzLnB1dChrZXJuZWwsIHVzZXIpOwogICAgfQogICAgCiAgICAvKioKICAg\nICAqIEdldHMgdGhlIG9yaWdpbmFsIEpQQSBQcm9wZXJ0eSBuYW1lIGNvcnJl\nc3BvbmRpbmcgdG8gdGhlIGtlcm5lbCBwcm9wZXJ0eSBrZXkgCiAgICAgKiAo\nd2hpY2ggaXMgYSBiZWFuIHByb3BlcnR5IG5hbWUgd2l0aG91dCBhbnkgc3Vm\nZml4KS4KICAgICAqLwogICAgc3RhdGljIFN0cmluZyBnZXRVc2VyTmFtZShT\ndHJpbmcgYmVhblByb3BlcnR5KSB7CiAgICAgICAgcmV0dXJuIF9uYW1lcy5j\nb250YWluc0tleShiZWFuUHJvcGVydHkpID8gX25hbWVzLmdldChiZWFuUHJv\ncGVydHkpIDogYmVhblByb3BlcnR5OwogICAgfQogICAgCiAgICAvKioKICAg\nICAqIElzIHRoZSBnaXZlbiBrZXkgYXBwZWFycyB0byBiZSBhIHZhbGlkIEpQ\nQSBzcGVjaWZpY2F0aW9uIGRlZmluZWQga2V5PwogICAgICogCiAgICAgKiBA\ncmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIHN0cmluZyBtZXJlbHkgcHJlZml4\nZWQgd2l0aCA8Y29kZT5qYXZheC5wZXJzaXN0ZW5jZS48L2NvZGU+LgogICAg\nICogRG9lcyBub3QgcmVhbGx5IGNoZWNrIGFsbCB0aGUga2V5cyBkZWZpbmVk\nIGluIHRoZSBzcGVjaWZpY2F0aW9uLgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIGJvb2xlYW4gaXNWYWxpZEtleShTdHJpbmcga2V5KSB7CiAgICAgICAg\ncmV0dXJuIGtleSAhPSBudWxsICYmIGtleS5zdGFydHNXaXRoKFBSRUZJWCk7\nCiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0cyBhIGJlYW4tc3R5bGUg\ncHJvcGVydHkgbmFtZSBmcm9tIHRoZSBnaXZlbiBrZXkuCiAgICAgKiAKICAg\nICAqIEBwYXJhbSBrZXkgbXVzdCBiZWdpbiB3aXRoIEpQQSBwcm9wZXJ0eSBw\ncmVmaXggPGNvZGU+amF2YXgucGVyc2lzdGVuY2U8L2NvZGU+CiAgICAgKiAK\nICAgICAqIEByZXR1cm4gY29uY2F0ZW5hdGVzIGVhY2ggcGFydCBvZiB0aGUg\nc3RyaW5nIGxlYXZpbmcgb3V0IDxjb2RlPmphdmF4LnBlcnNpc3RlbmNlLjwv\nY29kZT4gcHJlZml4LiAKICAgICAqIFBhcnQgb2Ygc3RyaW5nIGlzIHdoYXQg\nYXBwZWFycyBiZXR3ZWVuIERPVCBjaGFyYWN0ZXIuCiAgICAgKi8KICAgIHB1\nYmxpYyBzdGF0aWMgU3RyaW5nIGdldEJlYW5Qcm9wZXJ0eShTdHJpbmcga2V5\nKSB7CiAgICAgICAgaWYgKCFpc1ZhbGlkS2V5KGtleSkpCiAgICAgICAgICAg\nIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oIkludmFsaWQg\nSlBBIHByb3BlcnR5ICIgKyBrZXkpOwogICAgICAgIFN0cmluZ1tdIHBhcnRz\nID0ga2V5LnNwbGl0KFJFR0VYX0RPVCk7CiAgICAgICAgU3RyaW5nQnVpbGRl\nciBidWYgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwogICAgICAgIGZvciAoaW50\nIGkgPSAyOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAg\nYnVmLmFwcGVuZChTdHJpbmdVdGlscy5jYXBpdGFsaXplKHBhcnRzW2ldKSk7\nCiAgICAgICAgfQogICAgICAgIHJldHVybiBidWYudG9TdHJpbmcoKTsKICAg\nIH0KICAgIAogICAgLyoqCiAgICAgKiBDb252ZXJ0IHRoZSBnaXZlbiB1c2Vy\nIHZhbHVlIHRvIGEgdmFsdWUgY29uc3VtYWJsZSBieSBPcGVuSlBBIGtlcm5l\nbCBjb25zdHJ1Y3RzLgogICAgICogCiAgICAgKiBAcmV0dXJuIHRoZSBzYW1l\nIHZhbHVlIGlmIHRoZSBnaXZlbiBrZXkgaXMgbm90IGEgdmFsaWQgSlBBIHBy\nb3BlcnR5IGtleSBvciB0aGUgdmFsdWUgaXMgbnVsbC4KICAgICAqLwogICAg\ncHVibGljIHN0YXRpYyA8VD4gVCAgY29udmVydFRvS2VuZWxWYWx1ZShDbGFz\nczxUPiByZXN1bHRUeXBlLCBTdHJpbmcga2V5LCBPYmplY3QgdmFsdWUpIHsK\nICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJu\nIG51bGw7CiAgICAgICAgaWYgKEpQQVByb3BlcnRpZXMuaXNWYWxpZEtleShr\nZXkpKSB7CiAgICAgICAgICAgIC8vIHdvcmtzIGJlY2F1c2UgZW51bSB2YWx1\nZXMgYXJlIGlkZW50aWNhbCBTdHJpbmcKICAgICAgICAgICAgaWYgKHZhbHVl\nIGluc3RhbmNlb2YgQ2FjaGVSZXRyaWV2ZU1vZGUpIHsKICAgICAgICAgICAg\nICAgIHJldHVybiAoVClEYXRhQ2FjaGVSZXRyaWV2ZU1vZGUudmFsdWVPZih2\nYWx1ZS50b1N0cmluZygpLnRyaW0oKS50b1VwcGVyQ2FzZSgpKTsKICAgICAg\nICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENhY2hlU3RvcmVN\nb2RlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gKFQpRGF0YUNhY2hlU3Rv\ncmVNb2RlLnZhbHVlT2YodmFsdWUudG9TdHJpbmcoKS50cmltKCkudG9VcHBl\nckNhc2UoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0\ndXJuIChUKXZhbHVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIENvbnZl\ncnQgdGhlIGdpdmVuIGtlcm5lbCB2YWx1ZSB0byBhIHZhbHVlIHZpc2libGUg\ndG8gdGhlIHVzZXIuCiAgICAgKiAKICAgICAqIEByZXR1cm4gdGhlIHNhbWUg\ndmFsdWUgaWYgdGhlIGdpdmVuIGtleSBpcyBub3QgYSB2YWxpZCBKUEEgcHJv\ncGVydHkga2V5IG9yIHRoZSB2YWx1ZSBpcyBudWxsLgogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIE9iamVjdCBjb252ZXJ0VG9Vc2VyVmFsdWUoU3RyaW5n\nIGtleSwgT2JqZWN0IHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlID09IG51\nbGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIGlmIChKUEFQ\ncm9wZXJ0aWVzLmlzVmFsaWRLZXkoa2V5KSkgewogICAgICAgICAgICAvLyB3\nb3JrcyBiZWNhdXNlIGVudW0gdmFsdWVzIGFyZSBpZGVudGljYWwgU3RyaW5n\nCiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGFDYWNoZVJl\ndHJpZXZlTW9kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIENhY2hlUmV0\ncmlldmVNb2RlLnZhbHVlT2YodmFsdWUudG9TdHJpbmcoKS50cmltKCkudG9V\ncHBlckNhc2UoKSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5z\ndGFuY2VvZiBEYXRhQ2FjaGVTdG9yZU1vZGUpIHsKICAgICAgICAgICAgICAg\nIHJldHVybiBDYWNoZVN0b3JlTW9kZS52YWx1ZU9mKHZhbHVlLnRvU3RyaW5n\nKCkudHJpbSgpLnRvVXBwZXJDYXNlKCkpOwogICAgICAgICAgICB9CiAgICAg\nICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICAgIAogICAgLyoq\nCiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBrZXkgZnJvbSB0\naGUgZ2l2ZW4gcHJvcGVydGllcyBhZnRlciBjb252ZXJ0aW5nIGl0IHRvIHRo\nZSBnaXZlbgogICAgICogZW51bWVyYXRlZCB2YWx1ZS4KICAgICAqLwogICAg\ncHVibGljIHN0YXRpYyA8RSBleHRlbmRzIEVudW08RT4+IEUgZ2V0RW51bVZh\nbHVlKENsYXNzPEU+IHR5cGUsIFN0cmluZyBrZXksIE1hcDxTdHJpbmcsT2Jq\nZWN0PiBwcm9wKSB7CiAgICAgICAgcmV0dXJuIGdldEVudW1WYWx1ZSh0eXBl\nLCBudWxsLCBrZXksIHByb3ApOwogICAgfQogICAgCiAgICAvKioKICAgICAq\nIEdldHMgYSBlbnVtIHZhbHVlIG9mIHRoZSBnaXZlbiB0eXBlIGZyb20gdGhl\nIGdpdmVuIHByb3BlcnRpZXMgbG9va2luZyB1cCB3aXRoIHRoZSBnaXZlbiBr\nZXkuCiAgICAgKiBDb252ZXJ0cyB0aGUgb3JpZ2luYWwgdmFsdWUgZnJvbSBh\nIFN0cmluZyBvciBvcmRpbmFsIG51bWJlciwgaWYgbmVjZXNzYXJ5LgogICAg\nICogQ29udmVyc2lvbiBmcm9tIGFuIGludGVncmFsIG51bWJlciB0byBlbnVt\nIHZhbHVlIGlzIG9ubHkgYXR0ZW1wdGVkIGlmIHRoZSBhbGxvd2VkIGVudW0g\ndmFsdWVzCiAgICAgKiBhcmUgcHJvdmlkZWQgYXMgbm9uLW51bGwsIG5vbi1l\nbXB0eSBhcnJheS4gCiAgICAgKiAKICAgICAqIEByZXR1cm4gbnVsbCBpZiB0\naGUga2V5IGRvZXMgbm90IGV4aXN0IGluIHRoZSBnaXZlbiBwcm9wZXJ0aWVz\nLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIDxFIGV4dGVuZHMgRW51bTxF\nPj4gRSBnZXRFbnVtVmFsdWUoQ2xhc3M8RT4gdHlwZSwgRVtdIHZhbHVlcywg\nU3RyaW5nIGtleSwgTWFwPFN0cmluZyxPYmplY3Q+IHByb3ApIHsKICAgICAg\nICBpZiAocHJvcCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsK\nICAgICAgICByZXR1cm4gZ2V0RW51bVZhbHVlKHR5cGUsIHZhbHVlcywgcHJv\ncC5nZXQoa2V5KSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0cyBh\nIGVudW0gdmFsdWUgb2YgdGhlIGdpdmVuIHR5cGUgZnJvbSB0aGUgZ2l2ZW4g\ndmFsdWUuCiAgICAgKiBDb252ZXJ0cyB0aGUgb3JpZ2luYWwgdmFsdWUgZnJv\nbSBhIFN0cmluZywgaWYgbmVjZXNzYXJ5LgogICAgICogCiAgICAgKiBAcmV0\ndXJuIG51bGwgaWYgdGhlIGtleSBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZ2l2\nZW4gcHJvcGVydGllcy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyA8RSBl\neHRlbmRzIEVudW08RT4+IEUgIGdldEVudW1WYWx1ZShDbGFzczxFPiB0eXBl\nLCBPYmplY3QgdmFsKSB7CiAgICAgICAgcmV0dXJuIGdldEVudW1WYWx1ZSh0\neXBlLCBudWxsLCB2YWwpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEdl\ndHMgYSBlbnVtIHZhbHVlIG9mIHRoZSBnaXZlbiB0eXBlIGZyb20gdGhlIGdp\ndmVuIHZhbHVlLgogICAgICogQ29udmVydHMgdGhlIG9yaWdpbmFsIHZhbHVl\nIGZyb20gYSBTdHJpbmcgb3Igb3JkaW5hbCBudW1iZXIsIGlmIG5lY2Vzc2Fy\neS4KICAgICAqIENvbnZlcnNpb24gZnJvbSBhbiBpbnRlZ3JhbCBudW1iZXIg\ndG8gZW51bSB2YWx1ZSBpcyBvbmx5IGF0dGVtcHRlZCBpZiB0aGUgYWxsb3dl\nZCBlbnVtIHZhbHVlcwogICAgICogYXJlIHByb3ZpZGVkIGFzIG5vbi1udWxs\nLCBub24tZW1wdHkgYXJyYXkuIAogICAgICogCiAgICAgKiBAcmV0dXJuIG51\nbGwgaWYgdGhlIGtleSBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZ2l2ZW4gcHJv\ncGVydGllcy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyA8RSBleHRlbmRz\nIEVudW08RT4+IEUgIGdldEVudW1WYWx1ZShDbGFzczxFPiB0eXBlLCBFW10g\ndmFsdWVzLCBPYmplY3QgdmFsKSB7CiAgICAgICAgaWYgKHZhbCA9PSBudWxs\nKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBpZiAodHlwZS5p\nc0luc3RhbmNlKHZhbCkpCiAgICAgICAgICAgIHJldHVybiAoRSl2YWw7CiAg\nICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICAgICAg\nICByZXR1cm4gRW51bS52YWx1ZU9mKHR5cGUsIHZhbC50b1N0cmluZygpLnRy\naW0oKS50b1VwcGVyQ2FzZSgpKTsKICAgICAgICB9CiAgICAgICAgaWYgKHZh\nbHVlcyAhPSBudWxsICYmIHZhbHVlcy5sZW5ndGggPiAwICYmIHZhbCBpbnN0\nYW5jZW9mIE51bWJlcikgewogICAgICAgICAgICByZXR1cm4gdmFsdWVzWygo\nTnVtYmVyKXZhbCkuaW50VmFsdWUoKV07CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiBudWxsOyAKICAgIH0KfQo=\n","encoding":"base64"}

