{"sha":"287c0d3ac3cfc63603dc84e10c61016e74e2054d","node_id":"MDQ6QmxvYjIwNjM2NDoyODdjMGQzYWMzY2ZjNjM2MDNkYzg0ZTEwYzYxMDE2ZTc0ZTIwNTRk","size":16808,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/287c0d3ac3cfc63603dc84e10c61016e74e2054d","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2U7CgppbXBv\ncnQgamF2YS5sYW5nLmluc3RydW1lbnQuQ2xhc3NGaWxlVHJhbnNmb3JtZXI7\nCmltcG9ydCBqYXZhLmxhbmcuaW5zdHJ1bWVudC5JbGxlZ2FsQ2xhc3NGb3Jt\nYXRFeGNlcHRpb247CmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRy\nb2xsZXI7CmltcG9ydCBqYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW47\nCmltcG9ydCBqYXZhLnV0aWwuTWFwOwoKaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLkVudGl0eU1hbmFnZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5z\ncGkuQ2xhc3NUcmFuc2Zvcm1lcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLnNwaS5Mb2FkU3RhdGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5zcGku\nUGVyc2lzdGVuY2VQcm92aWRlcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLnNwaS5QZXJzaXN0ZW5jZVVuaXRJbmZvOwppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2Uuc3BpLlByb3ZpZGVyVXRpbDsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuY29uZi5Ccm9rZXJWYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5jb25mLk9wZW5KUEFDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmVuaGFuY2UuUENDbGFzc0ZpbGVU\ncmFuc2Zvcm1lcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNl\nLlBDRW5oYW5jZXJBZ2VudDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuQWJzdHJhY3RCcm9rZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5Cb290c3RyYXA7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEua2VybmVsLkJyb2tlckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uUHJvdmlk\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmln\ndXJhdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmxvZy5M\nb2c7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuSjJEb1By\naXZIZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwu\nTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGls\nLk9wdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5NZXRh\nRGF0YU1vZGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0\nYURhdGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLnZhbGlkYXRpb24uVmFsaWRhdGlvblV0aWxzOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuQ2xhc3NSZXNvbHZlcjsKCgovKioK\nICogQm9vdHN0cmFwcGluZyBjbGFzcyB0aGF0IGFsbG93cyB0aGUgY3JlYXRp\nb24gb2YgYSBzdGFuZC1hbG9uZQogKiB7QGxpbmsgRW50aXR5TWFuYWdlcn0u\nCiAqCiAqIEBzZWUgamF2YXgucGVyc2lzdGVuY2UuUGVyc2lzdGVuY2UjY3Jl\nYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoU3RyaW5nLE1hcCkKICogQHB1Ymxp\nc2hlZAogKi8KcHVibGljIGNsYXNzIFBlcnNpc3RlbmNlUHJvdmlkZXJJbXBs\nCiAgICBpbXBsZW1lbnRzIFBlcnNpc3RlbmNlUHJvdmlkZXIsIFByb3ZpZGVy\nVXRpbCB7CgogICAgc3RhdGljIGZpbmFsIFN0cmluZyBDTEFTU19UUkFOU0ZP\nUk1FUl9PUFRJT05TID0gIkNsYXNzVHJhbnNmb3JtZXJPcHRpb25zIjsKICAg\nIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBFTUZfUE9PTCA9ICJFbnRp\ndHlNYW5hZ2VyRmFjdG9yeVBvb2wiOwoKICAgIHByaXZhdGUgc3RhdGljIGZp\nbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2thZ2UoUGVy\nc2lzdGVuY2VQcm92aWRlckltcGwuY2xhc3MpOwoKICAgIHByaXZhdGUgTG9n\nIF9sb2c7CiAgICAvKioKICAgICAqIExvYWRzIHRoZSBlbnRpdHkgbWFuYWdl\nciBzcGVjaWZpZWQgYnkgPGNvZGU+bmFtZTwvY29kZT4sIGFwcGx5aW5nCiAg\nICAgKiB0aGUgcHJvcGVydGllcyBpbiA8Y29kZT5tPC9jb2RlPiBhcyBvdmVy\ncmlkZXMgdG8gdGhlIHByb3BlcnRpZXMgZGVmaW5lZAogICAgICogaW4gdGhl\nIFhNTCBjb25maWd1cmF0aW9uIGZpbGUgZm9yIDxjb2RlPm5hbWU8L2NvZGU+\nLiBJZiA8Y29kZT5uYW1lPC9jb2RlPgogICAgICogaXMgPGNvZGU+bnVsbDwv\nY29kZT4sIHRoaXMgbWV0aG9kIGxvYWRzIHRoZSBYTUwgaW4gdGhlIHJlc291\ncmNlCiAgICAgKiBpZGVudGlmaWVkIGJ5IDxjb2RlPnJlc291cmNlPC9jb2Rl\nPiwgYW5kIHVzZXMgdGhlIGZpcnN0IHJlc291cmNlIGZvdW5kCiAgICAgKiB3\naGVuIGRvaW5nIHRoaXMgbG9va3VwLCByZWdhcmRsZXNzIG9mIHRoZSBuYW1l\nIHNwZWNpZmllZCBpbiB0aGUgWE1MCiAgICAgKiByZXNvdXJjZSBvciB0aGUg\nbmFtZSBvZiB0aGUgamFyIHRoYXQgdGhlIHJlc291cmNlIGlzIGNvbnRhaW5l\nZCBpbi4KICAgICAqIFRoaXMgZG9lcyBubyBwb29saW5nIG9mIEVudGl0eU1h\nbmFnZXJzRmFjdG9yaWVzLgogICAgICogQHJldHVybiBFbnRpdHlNYW5hZ2Vy\nRmFjdG9yeSBvciBudWxsCiAgICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBRW50\naXR5TWFuYWdlckZhY3RvcnkgY3JlYXRlRW50aXR5TWFuYWdlckZhY3Rvcnko\nU3RyaW5nIG5hbWUsIFN0cmluZyByZXNvdXJjZSwgTWFwIG0pIHsKICAgICAg\nICBQZXJzaXN0ZW5jZVByb2R1Y3REZXJpdmF0aW9uIHBkID0gbmV3IFBlcnNp\nc3RlbmNlUHJvZHVjdERlcml2YXRpb24oKTsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBPYmplY3QgcG9vbFZhbHVlID0gQ29uZmlndXJhdGlvbnMucmVt\nb3ZlUHJvcGVydHkoRU1GX1BPT0wsIG0pOwogICAgICAgICAgICBDb25maWd1\ncmF0aW9uUHJvdmlkZXIgY3AgPSBwZC5sb2FkKHJlc291cmNlLCBuYW1lLCBt\nKTsKICAgICAgICAgICAgaWYgKGNwID09IG51bGwpIHsKICAgICAgICAgICAg\nICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBC\ncm9rZXJGYWN0b3J5IGZhY3RvcnkgPSBnZXRCcm9rZXJGYWN0b3J5KGNwLCBw\nb29sVmFsdWUsIG51bGwpOwogICAgICAgICAgICBPcGVuSlBBQ29uZmlndXJh\ndGlvbiBjb25mID0gZmFjdG9yeS5nZXRDb25maWd1cmF0aW9uKCk7CiAgICAg\nICAgICAgIF9sb2cgPSBjb25mLmdldExvZyhPcGVuSlBBQ29uZmlndXJhdGlv\nbi5MT0dfUlVOVElNRSk7ICAgICAgICAgICAgCiAgICAgICAgICAgIHBkLmNo\nZWNrUHVOYW1lQ29sbGlzaW9ucyhfbG9nLG5hbWUpOwogICAgICAgICAgICAK\nICAgICAgICAgICAgLy8gYWRkIGVuaGFuY2VyCiAgICAgICAgICAgIGxvYWRB\nZ2VudChmYWN0b3J5KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENy\nZWF0ZSBhcHByb3ByaWF0ZSBMaWZlY3ljbGVFdmVudE1hbmFnZXIKICAgICAg\nICAgICAgbG9hZFZhbGlkYXRvcihmYWN0b3J5KTsKICAgICAgICAgICAgCiAg\nICAgICAgICAgIC8vIFdlIG5lZWQgdG8gd2FpdCB0byBwcmVsb2FkIHVudGls\nIGFmdGVyIHdlIGdldCBiYWNrIGEgZnVsbHkgY29uZmlndXJlZC9pbnN0YW50\naWF0ZWQKICAgICAgICAgICAgLy8gQnJva2VyRmFjdG9yeS4gVGhpcyBpcyBi\nZWNhdXNlIGl0IGlzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSBoYXMgZXh0ZW5k\nZWQgT3BlbkpQQQogICAgICAgICAgICAvLyBmdW5jdGlvbnMgYW5kIHRoZXkg\nbmVlZCB0byBiZSBhbGxvd2VkIHRpbWUgdG8gY29uZmlndXJlIHRoZW1zZWx2\nZXMgYmVmb3JlIHdlIGdvIG9mZiBhbmQKICAgICAgICAgICAgLy8gc3RhcnQg\naW5zdGFudGluZyBjb25maWd1cmFibGUgb2JqZWN0cyAoaWU6b3BlbmpwYS5N\nZXRhRGF0YVJlcG9zaXRvcnkpLiBEb24ndCBjYXRjaAogICAgICAgICAgICAv\nLyBhbnkgZXhjZXB0aW9ucyBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBmYWls\nLWZhc3QuCiAgICAgICAgICAgIHByZWxvYWRNZXRhRGF0YVJlcG9zaXRvcnko\nZmFjdG9yeSk7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gSlBB\nRmFjYWRlSGVscGVyLnRvRW50aXR5TWFuYWdlckZhY3RvcnkoZmFjdG9yeSk7\nCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAg\naWYgKF9sb2cgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgX2xvZy5lcnJv\ncihfbG9jLmdldCgiY3JlYXRlLWVtZi1lcnJvciIsIG5hbWUpLCBlKTsKICAg\nICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyoKICAgICAg\nICAgICAgICogCiAgICAgICAgICAgICAqIE1haW50YWluIDEueCBiZWhhdmlv\nciBvZiB0aHJvd2luZyBleGNlcHRpb25zLCBldmVuIHRob3VnaAogICAgICAg\nICAgICAgKiBKUEEyIDkuMiAtIGNyZWF0ZUVNRiAibXVzdCIgcmV0dXJuIG51\nbGwgZm9yIFBVIGl0IGNhbid0IGhhbmRsZS4KICAgICAgICAgICAgICogCiAg\nICAgICAgICAgICAqIEpQQSAyLjAgU3BlY2lmaWNhdGlvbiBTZWN0aW9uIDku\nMiBzdGF0ZXM6CiAgICAgICAgICAgICAqICJJZiBhIHByb3ZpZGVyIGRvZXMg\nbm90IHF1YWxpZnkgYXMgdGhlIHByb3ZpZGVyIGZvciB0aGUgbmFtZWQgcGVy\nc2lzdGVuY2UgdW5pdCwgCiAgICAgICAgICAgICAqIGl0IG11c3QgcmV0dXJu\nIG51bGwgd2hlbiBjcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeSBpcyBpbnZv\na2VkIG9uIGl0LiIKICAgICAgICAgICAgICogVGhhdCBzcGVjaWZpY2F0aW9u\nIGNvbXBsaWFuY2UgYmVoYXZpb3IgaGFzIGhhcHBlbmVkIGZldyBsaW5lcyBh\nYm92ZSBvbiBudWxsIHJldHVybi4gCiAgICAgICAgICAgICAqIFRocm93aW5n\nIHJ1bnRpbWUgZXhjZXB0aW9uIGluIHRoZSBmb2xsb3dpbmcgY29kZSBpcyB2\nYWxpZCAoYW5kIHVzZWZ1bCkgYmVoYXZpb3IKICAgICAgICAgICAgICogYmVj\nYXVzZSB0aGUgcXVhbGlmaWVkIHByb3ZpZGVyIGhhcyBlbmNvdW50ZXJlZCBh\nbiB1bmV4cGVjdGVkIHNpdHVhdGlvbi4KICAgICAgICAgICAgICovCiAgICAg\nICAgICAgIHRocm93IFBlcnNpc3RlbmNlRXhjZXB0aW9ucy50b1BlcnNpc3Rl\nbmNlRXhjZXB0aW9uKGUpOyAgICAgICAgICAgICAgICAKICAgICAgICB9CiAg\nICB9CgogICAgcHJpdmF0ZSBCcm9rZXJGYWN0b3J5IGdldEJyb2tlckZhY3Rv\ncnkoQ29uZmlndXJhdGlvblByb3ZpZGVyIGNwLAogICAgICAgIE9iamVjdCBw\nb29sVmFsdWUsIENsYXNzTG9hZGVyIGxvYWRlcikgewogICAgICAgIC8vIGhh\nbmRsZSAidHJ1ZSIgYW5kICJmYWxzZSIKICAgICAgICBpZiAocG9vbFZhbHVl\nIGluc3RhbmNlb2YgU3RyaW5nCiAgICAgICAgICAgICYmICgidHJ1ZSIuZXF1\nYWxzSWdub3JlQ2FzZSgoU3RyaW5nKSBwb29sVmFsdWUpCiAgICAgICAgICAg\nICAgICB8fCAiZmFsc2UiLmVxdWFsc0lnbm9yZUNhc2UoKFN0cmluZykgcG9v\nbFZhbHVlKSkpCiAgICAgICAgICAgIHBvb2xWYWx1ZSA9IEJvb2xlYW4udmFs\ndWVPZigoU3RyaW5nKSBwb29sVmFsdWUpOwoKICAgICAgICBpZiAocG9vbFZh\nbHVlICE9IG51bGwgJiYgIShwb29sVmFsdWUgaW5zdGFuY2VvZiBCb29sZWFu\nKSkgewogICAgICAgICAgICAvLyB3ZSBvbmx5IHN1cHBvcnQgYm9vbGVhbiBz\nZXR0aW5ncyBmb3IgdGhpcyBvcHRpb24gY3VycmVudGx5LgogICAgICAgICAg\nICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKHBvb2xWYWx1\nZS50b1N0cmluZygpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYg\nKHBvb2xWYWx1ZSA9PSBudWxsIHx8ICEoKEJvb2xlYW4pIHBvb2xWYWx1ZSku\nYm9vbGVhblZhbHVlKCkpCiAgICAgICAgICAgIHJldHVybiBCb290c3RyYXAu\nbmV3QnJva2VyRmFjdG9yeShjcCwgbG9hZGVyKTsKICAgICAgICBlbHNlCiAg\nICAgICAgICAgIHJldHVybiBCb290c3RyYXAuZ2V0QnJva2VyRmFjdG9yeShj\ncCwgbG9hZGVyKTsKICAgIH0KCiAgICBwdWJsaWMgT3BlbkpQQUVudGl0eU1h\nbmFnZXJGYWN0b3J5IGNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFN0cmlu\nZyBuYW1lLCBNYXAgbSkgewogICAgICAgIHJldHVybiBjcmVhdGVFbnRpdHlN\nYW5hZ2VyRmFjdG9yeShuYW1lLCBudWxsLCBtKTsKICAgIH0KCiAgICBwdWJs\naWMgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IGNyZWF0ZUNvbnRhaW5l\nckVudGl0eU1hbmFnZXJGYWN0b3J5KFBlcnNpc3RlbmNlVW5pdEluZm8gcHVp\nLCBNYXAgbSkgewogICAgICAgIFBlcnNpc3RlbmNlUHJvZHVjdERlcml2YXRp\nb24gcGQgPSBuZXcgUGVyc2lzdGVuY2VQcm9kdWN0RGVyaXZhdGlvbigpOwog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIE9iamVjdCBwb29sVmFsdWUgPSBD\nb25maWd1cmF0aW9ucy5yZW1vdmVQcm9wZXJ0eShFTUZfUE9PTCwgbSk7CiAg\nICAgICAgICAgIENvbmZpZ3VyYXRpb25Qcm92aWRlciBjcCA9IHBkLmxvYWQo\ncHVpLCBtKTsKICAgICAgICAgICAgaWYgKGNwID09IG51bGwpCiAgICAgICAg\nICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAgICAgIC8vIGFkZCBlbmhh\nbmNlcgogICAgICAgICAgICBFeGNlcHRpb24gdHJhbnNmb3JtZXJFeGNlcHRp\nb24gPSBudWxsOwogICAgICAgICAgICBTdHJpbmcgY3RPcHRzID0gKFN0cmlu\nZykgQ29uZmlndXJhdGlvbnMuZ2V0UHJvcGVydHkoQ0xBU1NfVFJBTlNGT1JN\nRVJfT1BUSU9OUywgcHVpLmdldFByb3BlcnRpZXMoKSk7CiAgICAgICAgICAg\nIHRyeSB7CiAgICAgICAgICAgICAgICBwdWkuYWRkVHJhbnNmb3JtZXIobmV3\nIENsYXNzVHJhbnNmb3JtZXJJbXBsKGNwLCBjdE9wdHMsCiAgICAgICAgICAg\nICAgICAgICAgcHVpLmdldE5ld1RlbXBDbGFzc0xvYWRlcigpLCBuZXdDb25m\naWd1cmF0aW9uSW1wbCgpKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2Vw\ndGlvbiBlKSB7CiAgICAgICAgICAgICAgICAvLyBmYWlsIGdyYWNlZnVsbHkK\nICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVyRXhjZXB0aW9uID0gZTsKICAg\nICAgICAgICAgfQoKICAgICAgICAgICAgLy8gaWYgdGhlIEJyb2tlckltcGwg\naGFzbid0IGJlZW4gc3BlY2lmaWVkLCBzd2l0Y2ggdG8gdGhlCiAgICAgICAg\nICAgIC8vIG5vbi1maW5hbGl6aW5nIG9uZSwgc2luY2UgYW55dGhpbmcgY2xh\naW1pbmcgdG8gYmUgYSBjb250YWluZXIKICAgICAgICAgICAgLy8gc2hvdWxk\nIGJlIGRvaW5nIHByb3BlciByZXNvdXJjZSBtYW5hZ2VtZW50LgogICAgICAg\nICAgICBpZiAoIUNvbmZpZ3VyYXRpb25zLmNvbnRhaW5zUHJvcGVydHkoQnJv\na2VyVmFsdWUuS0VZLCBjcC5nZXRQcm9wZXJ0aWVzKCkpKSB7CiAgICAgICAg\nICAgICAgICBjcC5hZGRQcm9wZXJ0eSgib3BlbmpwYS4iICsgQnJva2VyVmFs\ndWUuS0VZLCBnZXREZWZhdWx0QnJva2VyQWxpYXMoKSk7CiAgICAgICAgICAg\nIH0KCiAgICAgICAgICAgIEJyb2tlckZhY3RvcnkgZmFjdG9yeSA9IGdldEJy\nb2tlckZhY3RvcnkoY3AsIHBvb2xWYWx1ZSwgcHVpLmdldENsYXNzTG9hZGVy\nKCkpOwogICAgICAgICAgICBpZiAodHJhbnNmb3JtZXJFeGNlcHRpb24gIT0g\nbnVsbCkgewogICAgICAgICAgICAgICAgTG9nIGxvZyA9IGZhY3RvcnkuZ2V0\nQ29uZmlndXJhdGlvbigpLmdldExvZyhPcGVuSlBBQ29uZmlndXJhdGlvbi5M\nT0dfUlVOVElNRSk7CiAgICAgICAgICAgICAgICBpZiAobG9nLmlzVHJhY2VF\nbmFibGVkKCkpIHsKICAgICAgICAgICAgICAgICAgICBsb2cud2FybihfbG9j\nLmdldCgidHJhbnNmb3JtZXItcmVnaXN0cmF0aW9uLWVycm9yLWV4IiwgcHVp\nKSwgdHJhbnNmb3JtZXJFeGNlcHRpb24pOwogICAgICAgICAgICAgICAgfSBl\nbHNlIHsKICAgICAgICAgICAgICAgICAgICBsb2cud2FybihfbG9jLmdldCgi\ndHJhbnNmb3JtZXItcmVnaXN0cmF0aW9uLWVycm9yIiwgcHVpKSk7CiAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENy\nZWF0ZSBhcHByb3ByaWF0ZSBMaWZlY3ljbGVFdmVudE1hbmFnZXIKICAgICAg\nICAgICAgbG9hZFZhbGlkYXRvcihmYWN0b3J5KTsKICAgICAgICAgICAgCiAg\nICAgICAgICAgIC8vIFdlIG5lZWQgdG8gd2FpdCB0byBwcmVsb2FkIHVudGls\nIGFmdGVyIHdlIGdldCBiYWNrIGEgZnVsbHkgY29uZmlndXJlZC9pbnN0YW50\naWF0ZWQKICAgICAgICAgICAgLy8gQnJva2VyRmFjdG9yeS4gVGhpcyBpcyBi\nZWNhdXNlIGl0IGlzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSBoYXMgZXh0ZW5k\nZWQgT3BlbkpQQQogICAgICAgICAgICAvLyBmdW5jdGlvbnMgYW5kIHRoZXkg\nbmVlZCB0byBiZSBhbGxvd2VkIHRpbWUgdG8gY29uZmlndXJlIHRoZW1zZWx2\nZXMgYmVmb3JlIHdlIGdvIG9mZiBhbmQKICAgICAgICAgICAgLy8gc3RhcnQg\naW5zdGFudGluZyBjb25maWd1cmFibGUgb2JqZWN0cyAoaWU6b3BlbmpwYS5N\nZXRhRGF0YVJlcG9zaXRvcnkpLiBEb24ndCBjYXRjaAogICAgICAgICAgICAv\nLyBhbnkgZXhjZXB0aW9ucyBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBmYWls\nLWZhc3QuCiAgICAgICAgICAgIHByZWxvYWRNZXRhRGF0YVJlcG9zaXRvcnko\nZmFjdG9yeSk7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gSlBB\nRmFjYWRlSGVscGVyLnRvRW50aXR5TWFuYWdlckZhY3RvcnkoZmFjdG9yeSk7\nCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAg\ndGhyb3cgUGVyc2lzdGVuY2VFeGNlcHRpb25zLnRvUGVyc2lzdGVuY2VFeGNl\ncHRpb24oZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qCiAgICAgKiBSZXR1\ncm5zIGEgUHJvdmlkZXJVdGlsIGZvciB1c2Ugd2l0aCBlbnRpdGllcyBtYW5h\nZ2VkIGJ5IHRoaXMKICAgICAqIHBlcnNpc3RlbmNlIHByb3ZpZGVyLgogICAg\nICovCiAgICBwdWJsaWMgUHJvdmlkZXJVdGlsIGdldFByb3ZpZGVyVXRpbCgp\nIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKgogICAgICog\nUmV0dXJucyBhIGRlZmF1bHQgQnJva2VyIGFsaWFzIHRvIGJlIHVzZWQgd2hl\nbiBubyBvcGVuanBhLkJyb2tlckltcGwKICAgICAqICBpcyBzcGVjaWZpZWQu\nIFRoaXMgbWV0aG9kIGFsbG93cyBQZXJzaXN0ZW5jZVByb3ZpZGVyIHN1YmNs\nYXNzIHRvCiAgICAgKiAgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYnJva2VyIGFs\naWFzLgogICAgICovCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdldERlZmF1bHRC\ncm9rZXJBbGlhcygpIHsKICAgICAgICByZXR1cm4gQnJva2VyVmFsdWUuTk9O\nX0ZJTkFMSVpJTkdfQUxJQVM7CiAgICB9CiAgICAKICAgIC8qCiAgICAgKiBS\nZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgQ29uZmlndXJhdGlvbiBzdWJjbGFz\ncyB1c2VkIGJ5IGVudGl0eQogICAgICogZW5oYW5jZW1lbnQgaW4gQ2xhc3NU\ncmFuc2Zvcm1lckltcGwuIElmIE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbAog\nICAgICogaW5zdGFuY2UgaXMgdXNlZCwgY29uZmlndXJhdGlvbiBvcHRpb25z\nIGRlY2xhcmVkIGluIGNvbmZpZ3VyYXRpb24KICAgICAqIHN1Yi1jbGFzcyB3\naWxsIG5vdCBiZSByZWNvZ25pemVkIGFuZCBhIHdhcm5pbmcgaXMgcG9zdGVk\nIGluIHRoZSBsb2cuCiAgICAgKi8KICAgIHByb3RlY3RlZCBPcGVuSlBBQ29u\nZmlndXJhdGlvbiBuZXdDb25maWd1cmF0aW9uSW1wbCgpIHsKICAgICAgICBy\nZXR1cm4gbmV3IE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbCgpOwogICAgfQoK\nICAgIC8qKgogICAgICogUHJpdmF0ZSB3b3JrZXIgbWV0aG9kIHRoYXQgd2ls\nbCBjYWxsIHRvIHRoZSBNZXRhRGF0YVJlcG9zaXRvcnkgdG8gcHJlbG9hZCBp\nZiB0aGUgcHJvdmlkZWQKICAgICAqIEJyb2tlckZhY3RvcnkgaXMgY29uZmln\ndXJlZCB0byBkbyBzby4KICAgICAqLwogICAgcHJpdmF0ZSB2b2lkIHByZWxv\nYWRNZXRhRGF0YVJlcG9zaXRvcnkoQnJva2VyRmFjdG9yeSBmYWN0b3J5KXsK\nICAgICAgICAvLyBXZSBuZWVkIHRvIHdhaXQgdG8gcHJlbG9hZCB1bnRpbCBh\nZnRlciB3ZSBnZXQgYmFjayBhIGZ1bGx5IGNvbmZpZ3VyZWQvaW5zdGFudGlh\ndGVkCiAgICAgICAgLy8gQnJva2VyRmFjdG9yeS4gVGhpcyBpcyBiZWNhdXNl\nIGl0IGlzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSBoYXMgZXh0ZW5kZWQgT3Bl\nbkpQQQogICAgICAgIC8vIGZ1bmN0aW9ucyBhbmQgdGhleSBuZWVkIHRvIGJl\nIGFsbG93ZWQgdGltZSB0byBjb25maWd1cmUgdGhlbXNlbHZlcyBiZWZvcmUg\nd2UgZ28gb2ZmIGFuZAogICAgICAgIC8vIHN0YXJ0IGluc3RhbnRpYXRpbmcg\nY29uZmlndXJhYmxlIG9iamVjdHMgKGllOm9wZW5qcGEuTWV0YURhdGFSZXBv\nc2l0b3J5KS4gRG9uJ3QgY2F0Y2gKICAgICAgICAvLyBhbnkgZXhjZXB0aW9u\ncyBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBmYWlsLWZhc3QuCiAgICAgICAg\nT3BlbkpQQUNvbmZpZ3VyYXRpb24gY29uZiA9IGZhY3RvcnkuZ2V0Q29uZmln\ndXJhdGlvbigpOwogICAgICAgIE9wdGlvbnMgbyA9IENvbmZpZ3VyYXRpb25z\nLnBhcnNlUHJvcGVydGllcyhDb25maWd1cmF0aW9ucy5nZXRQcm9wZXJ0aWVz\nKGNvbmYuZ2V0TWV0YURhdGFSZXBvc2l0b3J5KCkpKTsKICAgICAgICBpZiAo\nTWV0YURhdGFSZXBvc2l0b3J5Lm5lZWRzUHJlbG9hZChvKSA9PSB0cnVlKSB7\nCiAgICAgICAgICAgIE1ldGFEYXRhUmVwb3NpdG9yeSBtZHIgPSBjb25mLmdl\ndE1ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCk7IAogICAgICAgICAgICBt\nZHIuc2V0VmFsaWRhdGUoTWV0YURhdGFSZXBvc2l0b3J5LlZBTElEQVRFX1JV\nTlRJTUUsIHRydWUpOwogICAgICAgICAgICBtZHIuc2V0UmVzb2x2ZShNZXRh\nRGF0YVJlcG9zaXRvcnkuTU9ERV9NQVBQSU5HX0lOSVQsIHRydWUpOwogICAg\nICAgICAgICAKICAgICAgICAgICAgLy8gTG9hZCBwZXJzaXN0ZW50IGNsYXNz\nZXMgYW5kIGhvb2sgaW4gc3ViY2xhc3NlcgogICAgICAgICAgICAoKEFic3Ry\nYWN0QnJva2VyRmFjdG9yeSkgZmFjdG9yeSkubG9hZFBlcnNpc3RlbnRUeXBl\ncygoQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRyb2xsZXIKICAgICAgICAgICAg\nICAgIC5kb1ByaXZpbGVnZWQoSjJEb1ByaXZIZWxwZXIuZ2V0Q29udGV4dENs\nYXNzTG9hZGVyQWN0aW9uKCkpKTsKICAgICAgICAgICAgbWRyLnByZWxvYWQo\nKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogSmF2YSBF\nRSA1IGNsYXNzIHRyYW5zZm9ybWVyLgogICAgICovCiAgICBwcml2YXRlIHN0\nYXRpYyBjbGFzcyBDbGFzc1RyYW5zZm9ybWVySW1wbAogICAgICAgIGltcGxl\nbWVudHMgQ2xhc3NUcmFuc2Zvcm1lciB7CgogICAgICAgIHByaXZhdGUgZmlu\nYWwgQ2xhc3NGaWxlVHJhbnNmb3JtZXIgX3RyYW5zOwoKICAgICAgICBwcml2\nYXRlIENsYXNzVHJhbnNmb3JtZXJJbXBsKENvbmZpZ3VyYXRpb25Qcm92aWRl\nciBjcCwgU3RyaW5nIHByb3BzLCAKICAgICAgICAgICAgZmluYWwgQ2xhc3NM\nb2FkZXIgdG1wTG9hZGVyLCBPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25mKSB7\nCiAgICAgICAgICAgIGNwLnNldEludG8oY29uZik7CiAgICAgICAgICAgIC8v\nIHVzZSB0aGUgdGVtcG9yYXJ5IGxvYWRlciBmb3IgZXZlcnl0aGluZwogICAg\nICAgICAgICBjb25mLnNldENsYXNzUmVzb2x2ZXIobmV3IENsYXNzUmVzb2x2\nZXIoKSB7CiAgICAgICAgICAgICAgICBwdWJsaWMgQ2xhc3NMb2FkZXIgZ2V0\nQ2xhc3NMb2FkZXIoQ2xhc3M8Pz4gY29udGV4dCwgQ2xhc3NMb2FkZXIgZW52\nKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRtcExvYWRlcjsKICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNv\nbmYuc2V0UmVhZE9ubHkoQ29uZmlndXJhdGlvbi5JTklUX1NUQVRFX0ZSRUVa\nSU5HKTsKCiAgICAgICAgICAgIE1ldGFEYXRhUmVwb3NpdG9yeSByZXBvcyA9\nIGNvbmYuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2UoKTsKICAgICAg\nICAgICAgcmVwb3Muc2V0UmVzb2x2ZShNZXRhRGF0YU1vZGVzLk1PREVfTUFQ\nUElORywgZmFsc2UpOwogICAgICAgICAgICBfdHJhbnMgPSBuZXcgUENDbGFz\nc0ZpbGVUcmFuc2Zvcm1lcihyZXBvcywKICAgICAgICAgICAgICAgIENvbmZp\nZ3VyYXRpb25zLnBhcnNlUHJvcGVydGllcyhwcm9wcyksIHRtcExvYWRlcik7\nCiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgYnl0ZVtdIHRyYW5zZm9ybShD\nbGFzc0xvYWRlciBjbCwgU3RyaW5nIG5hbWUsCiAgICAgICAgICAgIENsYXNz\nPD8+IHByZXZpb3VzVmVyc2lvbiwgUHJvdGVjdGlvbkRvbWFpbiBwZCwgYnl0\nZVtdIGJ5dGVzKQogICAgICAgICAgICB0aHJvd3MgSWxsZWdhbENsYXNzRm9y\nbWF0RXhjZXB0aW9uIHsKICAgICAgICAgICAgcmV0dXJuIF90cmFucy50cmFu\nc2Zvcm0oY2wsIG5hbWUsIHByZXZpb3VzVmVyc2lvbiwgcGQsIGJ5dGVzKTsK\nICAgICAgICB9Cgl9CiAgICAKICAgIC8qKgogICAgICogVGhpcyBwcml2YXRl\nIHdvcmtlciBtZXRob2Qgd2lsbCBhdHRlbXB0IGxvYWQgdGhlIFBDRW5oYW5j\nZXJBZ2VudC4KICAgICAqLwogICAgcHJpdmF0ZSB2b2lkIGxvYWRBZ2VudChC\ncm9rZXJGYWN0b3J5IGZhY3RvcnkpIHsKICAgICAgICBPcGVuSlBBQ29uZmln\ndXJhdGlvbiBjb25mID0gZmFjdG9yeS5nZXRDb25maWd1cmF0aW9uKCk7CiAg\nICAgICAgTG9nIGxvZyA9IGNvbmYuZ2V0TG9nKE9wZW5KUEFDb25maWd1cmF0\naW9uLkxPR19SVU5USU1FKTsKCiAgICAgICAgaWYgKGNvbmYuZ2V0RHluYW1p\nY0VuaGFuY2VtZW50QWdlbnQoKSA9PSB0cnVlKSB7CiAgICAgICAgICAgIGJv\nb2xlYW4gcmVzID0gUENFbmhhbmNlckFnZW50LmxvYWREeW5hbWljQWdlbnQo\nbG9nKTsKICAgICAgICAgICAgaWYgKGxvZy5pc0luZm9FbmFibGVkKCkgJiYg\ncmVzID09IHRydWUgKXsKICAgICAgICAgICAgICAgIGxvZy5pbmZvKF9sb2Mu\nZ2V0KCJkeW5hbWljLWFnZW50IikpOwogICAgICAgICAgICB9CiAgICAgICAg\nfQogICAgfQogICAgCiAgICAvKioKICAgICAqIFRoaXMgcHJpdmF0ZSB3b3Jr\nZXIgbWV0aG9kIHdpbGwgYXR0ZW1wdCB0byBzZXR1cCB0aGUgcHJvcGVyCiAg\nICAgKiBMaWZlY3ljbGVFdmVudE1hbmFnZXIgdHlwZSBiYXNlZCBvbiBpZiB0\naGUgamF2YXgudmFsaWRhdGlvbiBBUElzIGFyZQogICAgICogYXZhaWxhYmxl\nIGFuZCBhIFZhbGlkYXRvckltcGwgaXMgcmVxdWlyZWQgYnkgdGhlIGNvbmZp\nZ3VyYXRpb24uCiAgICAgKiBAcGFyYW0gbG9nCiAgICAgKiBAcGFyYW0gY29u\nZgogICAgICogQHRocm93cyBpZiB2YWxpZGF0aW9uIHNldHVwIGZhaWxlZCBh\nbmQgd2FzIHJlcXVpcmVkIGJ5IHRoZSBjb25maWcKICAgICAqLwogICAgcHJp\ndmF0ZSB2b2lkIGxvYWRWYWxpZGF0b3IoQnJva2VyRmFjdG9yeSBmYWN0b3J5\nKSB7CiAgICAgICAgT3BlbkpQQUNvbmZpZ3VyYXRpb24gY29uZiA9IGZhY3Rv\ncnkuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgIExvZyBsb2cgPSBjb25m\nLmdldExvZyhPcGVuSlBBQ29uZmlndXJhdGlvbi5MT0dfUlVOVElNRSk7Cgog\nICAgICAgIGlmICgoVmFsaWRhdGlvblV0aWxzLnNldHVwVmFsaWRhdGlvbihj\nb25mKSA9PSB0cnVlKSAmJgogICAgICAgICAgICAgICAgbG9nLmlzSW5mb0Vu\nYWJsZWQoKSkgewogICAgICAgICAgICBsb2cuaW5mbyhfbG9jLmdldCgidmxl\nbS1jcmVhdGlvbi1pbmZvIikpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioK\nICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIG9iamVj\ndCBpcyBsb2FkZWQuCiAgICAgKiAKICAgICAqIEByZXR1cm4gTG9hZFN0YXRl\nLkxPQURFRCAtIGlmIGFsbCBpbXBsaWNpdCBvciBleHBsaWNpdCBFQUdFUiBm\nZXRjaAogICAgICogICAgICAgICBhdHRyaWJ1dGVzIGFyZSBsb2FkZWQKICAg\nICAqICAgICAgICAgTG9hZFN0YXRlLk5PVF9MT0FERUQgLSBpZiBhbnkgaW1w\nbGljaXQgb3IgZXhwbGljaXQgRUFHRVIgZmV0Y2gKICAgICAqICAgICAgICAg\nYXR0cmlidXRlIGlzIG5vdCBsb2FkZWQKICAgICAqICAgICAgICAgTG9hZFN0\nYXRlLlVOS05PV04gLSBpZiB0aGUgZW50aXR5IGlzIG5vdCBtYW5hZ2VkIGJ5\nIHRoaXMKICAgICAqICAgICAgICAgcHJvdmlkZXIuCiAgICAgKi8KICAgIHB1\nYmxpYyBMb2FkU3RhdGUgaXNMb2FkZWQoT2JqZWN0IG9iaikgewogICAgICAg\nIHJldHVybiBpc0xvYWRlZFdpdGhvdXRSZWZlcmVuY2Uob2JqLCBudWxsKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUg\nYXR0cmlidXRlIG9uIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlzIGxvYWRlZC4g\nIFRoaXMKICAgICAqIG1ldGhvZCBtYXkgYWNjZXNzIHRoZSB2YWx1ZSBvZiB0\naGUgYXR0cmlidXRlIHRvIGRldGVybWluZSBsb2FkIHN0YXRlIChidXQKICAg\nICAqIGN1cnJlbnRseSBkb2VzIG5vdCkuCiAgICAgKiAKICAgICAqIEByZXR1\ncm4gTG9hZFN0YXRlLkxPQURFRCAtIGlmIHRoZSBhdHRyaWJ1dGUgaXMgbG9h\nZGVkLgogICAgICogICAgICAgICBMb2FkU3RhdGUuTk9UX0xPQURFRCAtIGlm\nIHRoZSBhdHRyaWJ1dGUgaXMgbm90IGxvYWRlZCBvciBhbnkKICAgICAqICAg\nICAgICAgRUFHRVIgZmV0Y2ggYXR0cmlidXRlcyBvZiB0aGUgZW50aXR5IGFy\nZSBub3QgbG9hZGVkLgogICAgICogICAgICAgICBMb2FkU3RhdGUuVU5LTk9X\nTiAtIGlmIHRoZSBlbnRpdHkgaXMgbm90IG1hbmFnZWQgYnkgdGhpcwogICAg\nICogICAgICAgICBwcm92aWRlciBvciBpZiBpdCBkb2VzIG5vdCBjb250YWlu\nIHRoZSBwZXJzaXN0ZW50CiAgICAgKiAgICAgICAgIGF0dHJpYnV0ZS4KICAg\nICAqLwogICAgcHVibGljIExvYWRTdGF0ZSBpc0xvYWRlZFdpdGhSZWZlcmVu\nY2UoT2JqZWN0IG9iaiwgU3RyaW5nIGF0dHIpIHsKICAgICAgICAvLyBUT0RP\nOiBBcmUgdGhlcmUgYmUgYW55IGNhc2VzIHdoZXJlIE9wZW5KUEEgd2lsbCBu\nZWVkIHRvIGV4YW1pbmUKICAgICAgICAvLyB0aGUgY29udGVudHMgb2YgYSBm\naWVsZCB0byBkZXRlcm1pbmUgbG9hZCBzdGF0ZT8gIElmIHNvLCBwZXIgSlBB\nIAogICAgICAgIC8vIGNvbnRyYWN0LCB0aGlzIG1ldGhvZCBwZXJtaXRzIHRo\nYXQgc29ydCBvZiBhY2Nlc3MuIEluIHRoZSBleHRyZW1lbHkgCiAgICAgICAg\nLy8gdW5saWtlbHkgY2FzZSB0aGF0IHRoZSB0aGUgZW50aXR5IGlzIG1hbmFn\nZWQgYnkgbXVsdGlwbGUgcHJvdmlkZXJzLCAKICAgICAgICAvLyBldmVuIGlm\nIGl0IGRvZXNuJ3QgdHJpZ2dlciBsb2FkaW5nIGluIE9wZW5KUEEsIGFjY2Vz\nc2luZyBmaWVsZCBkYXRhIAogICAgICAgIC8vIGNvdWxkIHRyaWdnZXIgbG9h\nZGluZyBieSBhbiBhbHRlcm5hdGUgcHJvdmlkZXIuCiAgICAgICAgcmV0dXJu\nIGlzTG9hZGVkV2l0aG91dFJlZmVyZW5jZShvYmosIGF0dHIpOwogICAgfQoK\nICAgIC8qKgogICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBhdHRyaWJ1\ndGUgb24gdGhlIHNwZWNpZmllZCBvYmplY3QgaXMgbG9hZGVkLiAgVGhpcwog\nICAgICogbWV0aG9kIGRvZXMgbm90IGFjY2VzcyB0aGUgdmFsdWUgb2YgdGhl\nIGF0dHJpYnV0ZSB0byBkZXRlcm1pbmUgbG9hZCAKICAgICAqIHN0YXRlLgog\nICAgICogCiAgICAgKiBAcmV0dXJuIExvYWRTdGF0ZS5MT0FERUQgLSBpZiB0\naGUgYXR0cmlidXRlIGlzIGxvYWRlZC4KICAgICAqICAgICAgICAgTG9hZFN0\nYXRlLk5PVF9MT0FERUQgLSBpZiB0aGUgYXR0cmlidXRlIGlzIG5vdCBsb2Fk\nZWQgb3IgYW55CiAgICAgKiAgICAgICAgIEVBR0VSIGZldGNoIGF0dHJpYnV0\nZXMgb2YgdGhlIGVudGl0eSBhcmUgbm90IGxvYWRlZC4KICAgICAqICAgICAg\nICAgTG9hZFN0YXRlLlVOS05PV04gLSBpZiB0aGUgZW50aXR5IGlzIG5vdCBt\nYW5hZ2VkIGJ5IHRoaXMKICAgICAqICAgICAgICAgcHJvdmlkZXIgb3IgaWYg\naXQgZG9lcyBub3QgY29udGFpbiB0aGUgcGVyc2lzdGVudAogICAgICogICAg\nICAgICBhdHRyaWJ1dGUuCiAgICAgKi8KICAgIHB1YmxpYyBMb2FkU3RhdGUg\naXNMb2FkZWRXaXRob3V0UmVmZXJlbmNlKE9iamVjdCBvYmosIFN0cmluZyBh\ndHRyKSB7ICAgICAgICAKICAgICAgICBpZiAob2JqID09IG51bGwpIHsKICAg\nICAgICAgICAgcmV0dXJuIExvYWRTdGF0ZS5VTktOT1dOOwogICAgICAgIH0K\nCiAgICAgICAgcmV0dXJuIE9wZW5KUEFQZXJzaXN0ZW5jZVV0aWwuaXNMb2Fk\nZWQob2JqLCBhdHRyKTsKICAgIH0KfQo=\n","encoding":"base64"}

