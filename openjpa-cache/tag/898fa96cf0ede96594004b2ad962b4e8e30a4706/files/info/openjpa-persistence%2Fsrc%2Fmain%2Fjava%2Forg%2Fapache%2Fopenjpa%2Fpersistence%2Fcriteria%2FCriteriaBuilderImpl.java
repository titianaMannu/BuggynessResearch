{"sha":"d549c41c713c3e32d974ee85e0c29555b2a139ca","node_id":"MDQ6QmxvYjIwNjM2NDpkNTQ5YzQxYzcxM2MzZTMyZDk3NGVlODVlMGMyOTU1NWIyYTEzOWNh","size":26398,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d549c41c713c3e32d974ee85e0c29555b2a139ca","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZh\nLm1hdGguQmlnSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkRhdGU7CmltcG9y\ndCBqYXZhLnNxbC5UaW1lOwppbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wOwpp\nbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwu\nQ29sbGVjdGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2\nYS51dGlsLlNldDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5UdXBsZTsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkNvbXBvdW5kU2Vs\nZWN0aW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuQ3Jp\ndGVyaWFCdWlsZGVyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVy\naWEuQ3JpdGVyaWFRdWVyeTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNy\naXRlcmlhLkV4cHJlc3Npb247CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5j\ncml0ZXJpYS5Gcm9tOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVy\naWEuT3JkZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5Q\nYXJhbWV0ZXJFeHByZXNzaW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nY3JpdGVyaWEuUHJlZGljYXRlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nY3JpdGVyaWEuU2VsZWN0aW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nY3JpdGVyaWEuU3VicXVlcnk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5j\ncml0ZXJpYS5QcmVkaWNhdGUuQm9vbGVhbk9wZXJhdG9yOwppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLkF0dHJpYnV0ZTsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5NYW5hZ2VkVHlwZTsKaW1wb3J0\nIGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5NZXRhbW9kZWw7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5FeHByZXNzaW9uU3RvcmVR\ndWVyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5F\neHByZXNzaW9uRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuZXhwcy5FeHByZXNzaW9uUGFyc2VyOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5leHBzLlF1ZXJ5RXhwcmVzc2lvbnM7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuVmFsdWU7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLm1ldGEuTWV0YW1v\nZGVsSW1wbDsKCi8qKgogKiBGYWN0b3J5IGZvciBDcml0ZXJpYSBxdWVyeSBl\neHByZXNzaW9ucy4KICogCiAqIEFjdHMgYXMgYW4gYWRhcHRlciB0byBPcGVu\nSlBBIEV4cHJlc3Npb25GYWN0b3J5LgogKiAKICogQGF1dGhvciBQaW5ha2kg\nUG9kZGFyCiAqIEBhdXRob3IgRmF5IFdhbmcKICogCiAqIEBzaW5jZSAyLjAu\nMAogKgogKi8KQFN1cHByZXNzV2FybmluZ3MoInNlcmlhbCIpCnB1YmxpYyBj\nbGFzcyBDcml0ZXJpYUJ1aWxkZXJJbXBsIGltcGxlbWVudHMgT3BlbkpQQUNy\naXRlcmlhQnVpbGRlciwgRXhwcmVzc2lvblBhcnNlciB7CgogICAgcHJpdmF0\nZSBNZXRhbW9kZWxJbXBsIF9tb2RlbDsKCiAgICBwdWJsaWMgT3BlbkpQQUNy\naXRlcmlhQnVpbGRlciBzZXRNZXRhTW9kZWwoTWV0YW1vZGVsSW1wbCBtb2Rl\nbCkgewogICAgICAgIF9tb2RlbCA9IG1vZGVsOwogICAgICAgIHJldHVybiB0\naGlzOwogICAgfQogICAgCiAgICBwdWJsaWMgTWV0YW1vZGVsIGdldE1ldGFt\nb2RlbCgpIHsKICAgICAgICByZXR1cm4gX21vZGVsOwogICAgfQoKICAgIHB1\nYmxpYyBRdWVyeUV4cHJlc3Npb25zIGV2YWwoT2JqZWN0IHBhcnNlZCwgRXhw\ncmVzc2lvblN0b3JlUXVlcnkgcXVlcnksCiAgICAgICAgRXhwcmVzc2lvbkZh\nY3RvcnkgZmFjdG9yeSwgQ2xhc3NNZXRhRGF0YSBjYW5kaWRhdGUpIHsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5SW1wbDw/PiBjID0gKENyaXRlcmlhUXVlcnlJ\nbXBsPD8+KSBwYXJzZWQ7CiAgICAgICAgcmV0dXJuIGMuZ2V0UXVlcnlFeHBy\nZXNzaW9ucyhmYWN0b3J5KTsKICAgIH0KICAgIAogICAgcHVibGljIFZhbHVl\nW10gZXZhbChTdHJpbmdbXSB2YWxzLCBFeHByZXNzaW9uU3RvcmVRdWVyeSBx\ndWVyeSwKICAgICAgICBFeHByZXNzaW9uRmFjdG9yeSBmYWN0b3J5LCBDbGFz\nc01ldGFEYXRhIGNhbmRpZGF0ZSkgewogICAgICAgIHRocm93IG5ldyBBYnN0\ncmFjdE1ldGhvZEVycm9yKCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRMYW5ndWFnZSgpIHsKICAgICAgICByZXR1cm4gTEFOR19DUklURVJJQTsK\nICAgIH0KICAgIAogICAgLyoqCiAgICAgKiAgQ3JlYXRlIGEgQ3JpdGVyaWEg\ncXVlcnkgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCByZXN1bHQgdHlwZS4K\nICAgICAqICBAcGFyYW0gcmVzdWx0Q2xhc3MgIHR5cGUgb2YgdGhlIHF1ZXJ5\nIHJlc3VsdAogICAgICogIEByZXR1cm4gcXVlcnkgb2JqZWN0CiAgICAgKi8K\nICAgIHB1YmxpYyA8VD4gT3BlbkpQQUNyaXRlcmlhUXVlcnk8VD4gY3JlYXRl\nUXVlcnkoQ2xhc3M8VD4gcmVzdWx0Q2xhc3MpIHsKICAgICAgICByZXR1cm4g\nbmV3IENyaXRlcmlhUXVlcnlJbXBsPFQ+KF9tb2RlbCwgcmVzdWx0Q2xhc3Mp\nOwogICAgfQoKICAgIC8qKgogICAgICogIENyZWF0ZSBhIENyaXRlcmlhIHF1\nZXJ5IG9iamVjdCB0aGF0IHJldHVybnMgYSB0dXBsZSBvZiAKICAgICAqICBv\nYmplY3RzIGFzIGl0cyByZXN1bHQuCiAgICAgKiAgQHJldHVybiBxdWVyeSBv\nYmplY3QKICAgICAqLwogICAgcHVibGljIE9wZW5KUEFDcml0ZXJpYVF1ZXJ5\nPFR1cGxlPiBjcmVhdGVUdXBsZVF1ZXJ5KCkgewogICAgICAgIHJldHVybiBu\nZXcgQ3JpdGVyaWFRdWVyeUltcGw8VHVwbGU+KF9tb2RlbCwgVHVwbGUuY2xh\nc3MpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgcGFyc2UoU3RyaW5nIHFs\nLCBFeHByZXNzaW9uU3RvcmVRdWVyeSBxdWVyeSkgewogICAgICAgIHRocm93\nIG5ldyBBYnN0cmFjdE1ldGhvZEVycm9yKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgcG9wdWxhdGUoT2JqZWN0IHBhcnNlZCwgRXhwcmVzc2lvblN0b3Jl\nUXVlcnkgcXVlcnkpIHsKICAgICAgICBDcml0ZXJpYVF1ZXJ5SW1wbDw/PiBj\nID0gKENyaXRlcmlhUXVlcnlJbXBsPD8+KSBwYXJzZWQ7CiAgICAgICAgcXVl\ncnkuaW52YWxpZGF0ZUNvbXBpbGF0aW9uKCk7CiAgICAgICAgcXVlcnkuZ2V0\nQ29udGV4dCgpLnNldENhbmRpZGF0ZVR5cGUoYy5nZXRSb290KCkuZ2V0SmF2\nYVR5cGUoKSwgdHJ1ZSk7CiAgICAgICAgcXVlcnkuc2V0UXVlcnkocGFyc2Vk\nKTsKICAgIH0KCiAgICBwdWJsaWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4cHJl\nc3Npb248Tj4gYWJzKEV4cHJlc3Npb248Tj4geCkgewogICAgICAgIHJldHVy\nbiBuZXcgRXhwcmVzc2lvbnMuQWJzPE4+KHgpOwogICAgfQoKICAgIHB1Ymxp\nYyA8WT4gRXhwcmVzc2lvbjxZPiBhbGwoU3VicXVlcnk8WT4gc3VicXVlcnkp\nIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkFsbDxZPihzdWJx\ndWVyeSk7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBhbmQoUHJlZGlj\nYXRlLi4uIHJlc3RyaWN0aW9ucykgewogICAgCXJldHVybiBuZXcgUHJlZGlj\nYXRlSW1wbC5BbmQocmVzdHJpY3Rpb25zKTsKICAgIH0KCiAgICBwdWJsaWMg\nUHJlZGljYXRlIGFuZChFeHByZXNzaW9uPEJvb2xlYW4+IHgsIEV4cHJlc3Np\nb248Qm9vbGVhbj4geSkgewogICAgCXJldHVybiBuZXcgUHJlZGljYXRlSW1w\nbC5BbmQoeCx5KTsKICAgIH0KCiAgICBwdWJsaWMgPFk+IEV4cHJlc3Npb248\nWT4gYW55KFN1YnF1ZXJ5PFk+IHN1YnF1ZXJ5KSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBFeHByZXNzaW9ucy5Bbnk8WT4oc3VicXVlcnkpOwogICAgfQoKICAg\nIHB1YmxpYyBPcmRlciBhc2MoRXhwcmVzc2lvbjw/PiB4KSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBPcmRlckltcGwoeCwgdHJ1ZSk7CiAgICB9CgogICAgcHVi\nbGljIDxOIGV4dGVuZHMgTnVtYmVyPiBFeHByZXNzaW9uPERvdWJsZT4gYXZn\nKEV4cHJlc3Npb248Tj4geCkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuQXZnKHgpOwogICAgfQoKICAgIHB1YmxpYyA8WSBleHRlbmRzIENv\nbXBhcmFibGU8PyBzdXBlciBZPj4gUHJlZGljYXRlIGJldHdlZW4oRXhwcmVz\nc2lvbjw/IGV4dGVuZHMgWT4gdiwgRXhwcmVzc2lvbjw/IGV4dGVuZHMgWT4g\neCwKICAgICAgICBFeHByZXNzaW9uPD8gZXh0ZW5kcyBZPiB5KSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5CZXR3ZWVuKHYseCx5KTsKICAg\nIH0KCiAgICBwdWJsaWMgPFkgZXh0ZW5kcyBDb21wYXJhYmxlPD8gc3VwZXIg\nWT4+IFByZWRpY2F0ZSBiZXR3ZWVuKEV4cHJlc3Npb248PyBleHRlbmRzIFk+\nIHYsIFkgeCwgWSB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5CZXR3ZWVuKHYseCx5KTsKICAgIH0KCiAgICBwdWJsaWMgPFQ+IENvYWxl\nc2NlPFQ+IGNvYWxlc2NlKCkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuQ29hbGVzY2UoT2JqZWN0LmNsYXNzKTsKICAgIH0KCiAgICBwdWJs\naWMgPFk+IEV4cHJlc3Npb248WT4gY29hbGVzY2UoRXhwcmVzc2lvbjw/IGV4\ndGVuZHMgWT4geCwgRXhwcmVzc2lvbjw/IGV4dGVuZHMgWT4geSkgewogICAg\nCXJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ29hbGVzY2UoeC5nZXRKYXZhVHlw\nZSgpKS52YWx1ZSh4KS52YWx1ZSh5KTsKICAgIH0KCiAgICBwdWJsaWMgPFk+\nIEV4cHJlc3Npb248WT4gY29hbGVzY2UoRXhwcmVzc2lvbjw/IGV4dGVuZHMg\nWT4geCwgWSB5KSB7CiAgICAJcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Db2Fs\nZXNjZSh4LmdldEphdmFUeXBlKCkpLnZhbHVlKHgpLnZhbHVlKHkpOwogICB9\nCgogICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiBjb25jYXQoRXhwcmVz\nc2lvbjxTdHJpbmc+IHgsIEV4cHJlc3Npb248U3RyaW5nPiB5KSB7CiAgICAJ\ncmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Db25jYXQoeCwgeSk7CiAgICB9Cgog\nICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiBjb25jYXQoRXhwcmVzc2lv\nbjxTdHJpbmc+IHgsIFN0cmluZyB5KSB7CiAgICAJcmV0dXJuIG5ldyBFeHBy\nZXNzaW9ucy5Db25jYXQoeCwgeSk7CiAgICB9CgogICAgcHVibGljIEV4cHJl\nc3Npb248U3RyaW5nPiBjb25jYXQoU3RyaW5nIHgsIEV4cHJlc3Npb248U3Ry\naW5nPiB5KSB7CiAgICAJcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Db25jYXQo\neCwgeSk7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBjb25qdW5jdGlv\nbigpIHsKICAgICAgICByZXR1cm4gbmV3IFByZWRpY2F0ZUltcGwuQW5kKCk7\nCiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248TG9uZz4gY291bnQoRXhw\ncmVzc2lvbjw/PiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5Db3VudCh4KTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxMb25n\nPiBjb3VudERpc3RpbmN0KEV4cHJlc3Npb248Pz4geCkgewogICAgICAgIHJl\ndHVybiBuZXcgRXhwcmVzc2lvbnMuQ291bnQoeCwgdHJ1ZSk7CiAgICB9Cgog\nICAgcHVibGljIE9wZW5KUEFDcml0ZXJpYVF1ZXJ5PE9iamVjdD4gY3JlYXRl\nUXVlcnkoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDcml0ZXJpYVF1ZXJ5SW1w\nbDxPYmplY3Q+KF9tb2RlbCwgT2JqZWN0LmNsYXNzKTsKICAgIH0KCiAgICBw\ndWJsaWMgRXhwcmVzc2lvbjxEYXRlPiBjdXJyZW50RGF0ZSgpIHsKICAgIAly\nZXR1cm4gbmV3IEV4cHJlc3Npb25zLkN1cnJlbnREYXRlKCk7CiAgICB9Cgog\nICAgcHVibGljIEV4cHJlc3Npb248VGltZT4gY3VycmVudFRpbWUoKSB7CiAg\nICAJcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5DdXJyZW50VGltZSgpOwogICAg\nfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uPFRpbWVzdGFtcD4gY3VycmVudFRp\nbWVzdGFtcCgpIHsKICAgIAlyZXR1cm4gbmV3IEV4cHJlc3Npb25zLkN1cnJl\nbnRUaW1lc3RhbXAoKTsKICAgIH0KCiAgICBwdWJsaWMgT3JkZXIgZGVzYyhF\neHByZXNzaW9uPD8+IHgpIHsKICAgIAlyZXR1cm4gbmV3IE9yZGVySW1wbCh4\nLCBmYWxzZSk7CiAgICB9CgogICAgcHVibGljIDxOIGV4dGVuZHMgTnVtYmVy\nPiBFeHByZXNzaW9uPE4+IGRpZmYoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTj4g\neCwKICAgICAgICBFeHByZXNzaW9uPD8gZXh0ZW5kcyBOPiB5KSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5EaWZmPE4+KHgsIHkpOwogICAg\nfQoKICAgIHB1YmxpYyA8TiBleHRlbmRzIE51bWJlcj4gRXhwcmVzc2lvbjxO\nPiBkaWZmKAogICAgICAgIEV4cHJlc3Npb248PyBleHRlbmRzIE4+IHgsIE4g\neSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuRGlmZjxOPih4\nLCB5KTsKICAgIH0KCiAgICBwdWJsaWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4\ncHJlc3Npb248Tj4gZGlmZihOIHgsIAogICAgICAgIEV4cHJlc3Npb248PyBl\neHRlbmRzIE4+IHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25z\nLkRpZmY8Tj4oeCwgeSk7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBk\naXNqdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IFByZWRpY2F0ZUlt\ncGwuT3IoKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIGVxdWFsKEV4\ncHJlc3Npb248Pz4geCwgRXhwcmVzc2lvbjw/PiB5KSB7CiAgICAgICAgaWYg\nKHkgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5Jc051bGwoKEV4cHJlc3Npb25JbXBsPD8+ICl4KTsKICAgICAgICByZXR1\ncm4gbmV3IEV4cHJlc3Npb25zLkVxdWFsKHgsIHkpOwogICAgfQoKICAgIHB1\nYmxpYyBQcmVkaWNhdGUgZXF1YWwoRXhwcmVzc2lvbjw/PiB4LCBPYmplY3Qg\neSkgewogICAgICAgIGlmICh5ID09IG51bGwpCiAgICAgICAgICAgIHJldHVy\nbiBuZXcgRXhwcmVzc2lvbnMuSXNOdWxsKChFeHByZXNzaW9uSW1wbDw/PiAp\neCk7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5FcXVhbCh4LCB5\nKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIGV4aXN0cyhTdWJxdWVy\neTw/PiBzdWJxdWVyeSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lv\nbnMuRXhpc3RzKHN1YnF1ZXJ5KTsKICAgIH0KCiAgICBwdWJsaWMgPFQ+IEV4\ncHJlc3Npb248VD4gZnVuY3Rpb24oU3RyaW5nIG5hbWUsIENsYXNzPFQ+IHR5\ncGUsCiAgICAgICAgRXhwcmVzc2lvbjw/Pi4uLiBhcmdzKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBFeHByZXNzaW9ucy5EYXRhYmFzZUZ1bmN0aW9uKG5hbWUs\nIHR5cGUsIGFyZ3MpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgZ2Uo\nRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiB4LAogICAgICAgIEV4cHJl\nc3Npb248PyBleHRlbmRzIE51bWJlcj4geSkgewogICAgICAgIHJldHVybiBu\nZXcgRXhwcmVzc2lvbnMuR3JlYXRlclRoYW5FcXVhbCh4LHkpOwogICAgfQoK\nICAgIHB1YmxpYyBQcmVkaWNhdGUgZ2UoRXhwcmVzc2lvbjw/IGV4dGVuZHMg\nTnVtYmVyPiB4LCBOdW1iZXIgeSkgewogICAgICAgIHJldHVybiBuZXcgRXhw\ncmVzc2lvbnMuR3JlYXRlclRoYW5FcXVhbCh4LHkpOwogICAgfQoKICAgIHB1\nYmxpYyA8WSBleHRlbmRzIENvbXBhcmFibGU8PyBzdXBlciBZPj4gUHJlZGlj\nYXRlIGdyZWF0ZXJUaGFuKAogICAgICAgIEV4cHJlc3Npb248PyBleHRlbmRz\nIFk+IHgsIEV4cHJlc3Npb248PyBleHRlbmRzIFk+IHkpIHsKICAgICAgICBy\nZXR1cm4gbmV3IEV4cHJlc3Npb25zLkdyZWF0ZXJUaGFuKHgseSk7CiAgICB9\nCgogICAgcHVibGljIDxZIGV4dGVuZHMgQ29tcGFyYWJsZTw/IHN1cGVyIFk+\nPiBQcmVkaWNhdGUgZ3JlYXRlclRoYW4oCiAgICAgICAgRXhwcmVzc2lvbjw/\nIGV4dGVuZHMgWT4geCwgWSB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHBy\nZXNzaW9ucy5HcmVhdGVyVGhhbih4LCB5KTsKICAgIH0KCiAgICBwdWJsaWMg\nPFkgZXh0ZW5kcyBDb21wYXJhYmxlPD8gc3VwZXIgWT4+IFByZWRpY2F0ZSBn\ncmVhdGVyVGhhbk9yRXF1YWxUbygKICAgICAgICBFeHByZXNzaW9uPD8gZXh0\nZW5kcyBZPiB4LCBFeHByZXNzaW9uPD8gZXh0ZW5kcyBZPiB5KSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5HcmVhdGVyVGhhbkVxdWFsKHgs\neSk7CiAgICB9CgogICAgcHVibGljIDxZIGV4dGVuZHMgQ29tcGFyYWJsZTw/\nIHN1cGVyIFk+PiBQcmVkaWNhdGUgZ3JlYXRlclRoYW5PckVxdWFsVG8oCiAg\nICAgICAgRXhwcmVzc2lvbjw/IGV4dGVuZHMgWT4geCwgWSB5KSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5HcmVhdGVyVGhhbkVxdWFsKHgs\neSk7CiAgICB9CgogICAgcHVibGljIDxYIGV4dGVuZHMgQ29tcGFyYWJsZTw/\nIHN1cGVyIFg+PiBFeHByZXNzaW9uPFg+IGdyZWF0ZXN0KEV4cHJlc3Npb248\nWD4geCkgewogICAgCXJldHVybiBuZXcgRXhwcmVzc2lvbnMuTWF4PFg+KHgp\nOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgZ3QoRXhwcmVzc2lvbjw/\nIGV4dGVuZHMgTnVtYmVyPiB4LAogICAgICAgIEV4cHJlc3Npb248PyBleHRl\nbmRzIE51bWJlcj4geSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lv\nbnMuR3JlYXRlclRoYW4oeCx5KTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGlj\nYXRlIGd0KEV4cHJlc3Npb248PyBleHRlbmRzIE51bWJlcj4geCwgTnVtYmVy\nIHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkdyZWF0ZXJU\naGFuKHgseSk7CiAgICB9CgogICAgcHVibGljIDxUPiBJbjxUPiBpbihFeHBy\nZXNzaW9uPD8gZXh0ZW5kcyBUPiBleHByZXNzaW9uKSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBFeHByZXNzaW9ucy5JbjxUPihleHByZXNzaW9uKTsKICAgIH0K\nCiAgICBwdWJsaWMgPEMgZXh0ZW5kcyBDb2xsZWN0aW9uPD8+PiBQcmVkaWNh\ndGUgaXNFbXB0eShFeHByZXNzaW9uPEM+IGNvbGxlY3Rpb24pIHsKICAgICAg\nICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLklzRW1wdHkoY29sbGVjdGlvbik7\nCiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBpc0ZhbHNlKEV4cHJlc3Np\nb248Qm9vbGVhbj4geCkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lv\nbnMuRXF1YWwoeCwgZmFsc2UpOwogICAgfQoKICAgIHB1YmxpYyA8RSwgQyBl\neHRlbmRzIENvbGxlY3Rpb248RT4+IFByZWRpY2F0ZSBpc01lbWJlcihFIGUs\nIEV4cHJlc3Npb248Qz4gYykgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuSXNNZW1iZXI8RT4oZSwgYyk7CiAgICB9CgogICAgcHVibGljIDxF\nLCBDIGV4dGVuZHMgQ29sbGVjdGlvbjxFPj4gUHJlZGljYXRlIGlzTWVtYmVy\nKEV4cHJlc3Npb248RT4gZSwgRXhwcmVzc2lvbjxDPiBjKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Jc01lbWJlcjxFPihlLCBjKTsKICAg\nIH0KCiAgICBwdWJsaWMgPEMgZXh0ZW5kcyBDb2xsZWN0aW9uPD8+PiBQcmVk\naWNhdGUgaXNOb3RFbXB0eShFeHByZXNzaW9uPEM+IGNvbGxlY3Rpb24pIHsK\nICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLklzTm90RW1wdHkoY29s\nbGVjdGlvbik7CiAgICB9CgogICAgcHVibGljIDxFLCBDIGV4dGVuZHMgQ29s\nbGVjdGlvbjxFPj4gUHJlZGljYXRlIGlzTm90TWVtYmVyKEUgZSwgRXhwcmVz\nc2lvbjxDPiBjKSB7CiAgICAgICAgcmV0dXJuIGlzTWVtYmVyKGUsIGMpLm5v\ndCgpOwogICAgfQoKICAgIHB1YmxpYyA8RSwgQyBleHRlbmRzIENvbGxlY3Rp\nb248RT4+IFByZWRpY2F0ZSBpc05vdE1lbWJlcihFeHByZXNzaW9uPEU+IGUs\nIEV4cHJlc3Npb248Qz4gYykgewogICAgICAgIHJldHVybiBpc01lbWJlcihl\nLCBjKS5ub3QoKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIGlzVHJ1\nZShFeHByZXNzaW9uPEJvb2xlYW4+IHgpIHsKICAgICAgICBpZiAoeCBpbnN0\nYW5jZW9mIFByZWRpY2F0ZUltcGwpIHsKICAgICAgICAgICAgUHJlZGljYXRl\nSW1wbCBwcmVkaWNhdGUgPSAoUHJlZGljYXRlSW1wbCl4OyAKICAgICAgICAg\nICAgaWYgKHByZWRpY2F0ZS5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgICAg\nIHJldHVybiBwcmVkaWNhdGUuZ2V0T3BlcmF0b3IoKSA9PSBCb29sZWFuT3Bl\ncmF0b3IuQU5EID8gUHJlZGljYXRlSW1wbC5UUlVFIDogUHJlZGljYXRlSW1w\nbC5GQUxTRTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1\ncm4gbmV3IEV4cHJlc3Npb25zLkVxdWFsKHgsIHRydWUpOwogICAgfQoKICAg\nIHB1YmxpYyA8SywgTSBleHRlbmRzIE1hcDxLLCA/Pj4gRXhwcmVzc2lvbjxT\nZXQ8Sz4+IGtleXMoTSBtYXApIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJl\nc3Npb25zLkNvbnN0YW50PFNldDxLPj4obWFwID09IG51bGwgPyBDb2xsZWN0\naW9ucy5FTVBUWV9TRVQgOiBtYXAua2V5U2V0KCkpOwogICAgfQoKICAgIHB1\nYmxpYyBQcmVkaWNhdGUgbGUoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVy\nPiB4LCBFeHByZXNzaW9uPD8gZXh0ZW5kcyBOdW1iZXI+IHkpIHsKICAgICAg\nICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkxlc3NUaGFuRXF1YWwoeCx5KTsK\nICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIGxlKEV4cHJlc3Npb248PyBl\neHRlbmRzIE51bWJlcj4geCwgTnVtYmVyIHkpIHsKICAgICAgICByZXR1cm4g\nbmV3IEV4cHJlc3Npb25zLkxlc3NUaGFuRXF1YWwoeCx5KTsKICAgIH0KCiAg\nICBwdWJsaWMgPFggZXh0ZW5kcyBDb21wYXJhYmxlPD8gc3VwZXIgWD4+IEV4\ncHJlc3Npb248WD4gbGVhc3QoRXhwcmVzc2lvbjxYPiB4KSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBFeHByZXNzaW9ucy5NaW48WD4oeCk7CiAgICB9CgogICAg\ncHVibGljIEV4cHJlc3Npb248SW50ZWdlcj4gbGVuZ3RoKEV4cHJlc3Npb248\nU3RyaW5nPiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5M\nZW5ndGgoeCk7CgogICAgfQoKICAgIHB1YmxpYyA8WSBleHRlbmRzIENvbXBh\ncmFibGU8PyBzdXBlciBZPj4gUHJlZGljYXRlIGxlc3NUaGFuKEV4cHJlc3Np\nb248PyBleHRlbmRzIFk+IHgsIEV4cHJlc3Npb248PyBleHRlbmRzIFk+IHkp\nIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkxlc3NUaGFuKHgs\neSk7CiAgICB9CgogICAgcHVibGljIDxZIGV4dGVuZHMgQ29tcGFyYWJsZTw/\nIHN1cGVyIFk+PiBQcmVkaWNhdGUgbGVzc1RoYW4oRXhwcmVzc2lvbjw/IGV4\ndGVuZHMgWT4geCwgWSB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNz\naW9ucy5MZXNzVGhhbih4LHkpOwoKICAgIH0KCiAgICBwdWJsaWMgPFkgZXh0\nZW5kcyBDb21wYXJhYmxlPD8gc3VwZXIgWT4+IFByZWRpY2F0ZSBsZXNzVGhh\nbk9yRXF1YWxUbyhFeHByZXNzaW9uPD8gZXh0ZW5kcyBZPiB4LCAKICAgICAg\nICBFeHByZXNzaW9uPD8gZXh0ZW5kcyBZPiB5KSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBFeHByZXNzaW9ucy5MZXNzVGhhbkVxdWFsKHgseSk7CiAgICB9Cgog\nICAgcHVibGljIDxZIGV4dGVuZHMgQ29tcGFyYWJsZTw/IHN1cGVyIFk+PiBQ\ncmVkaWNhdGUgbGVzc1RoYW5PckVxdWFsVG8oRXhwcmVzc2lvbjw/IGV4dGVu\nZHMgWT4geCwgWSB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5MZXNzVGhhbkVxdWFsKHgseSk7CiAgICB9CgogICAgcHVibGljIFByZWRp\nY2F0ZSBsaWtlKEV4cHJlc3Npb248U3RyaW5nPiB4LCBFeHByZXNzaW9uPFN0\ncmluZz4gcGF0dGVybikgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lv\nbnMuTGlrZSh4LHBhdHRlcm4pOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNh\ndGUgbGlrZShFeHByZXNzaW9uPFN0cmluZz4geCwgU3RyaW5nIHBhdHRlcm4p\nIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkxpa2UoeCxwYXR0\nZXJuKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIGxpa2UoRXhwcmVz\nc2lvbjxTdHJpbmc+IHgsIEV4cHJlc3Npb248U3RyaW5nPiBwYXR0ZXJuLCBF\neHByZXNzaW9uPENoYXJhY3Rlcj4gZXNjYXBlQ2hhcikgewogICAgICAgIHJl\ndHVybiBuZXcgRXhwcmVzc2lvbnMuTGlrZSh4LHBhdHRlcm4sZXNjYXBlQ2hh\ncik7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBsaWtlKEV4cHJlc3Np\nb248U3RyaW5nPiB4LCBFeHByZXNzaW9uPFN0cmluZz4gcGF0dGVybiwgY2hh\nciBlc2NhcGVDaGFyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5MaWtlKHgscGF0dGVybixlc2NhcGVDaGFyKTsKICAgIH0KCiAgICBwdWJs\naWMgUHJlZGljYXRlIGxpa2UoRXhwcmVzc2lvbjxTdHJpbmc+IHgsIFN0cmlu\nZyBwYXR0ZXJuLCBFeHByZXNzaW9uPENoYXJhY3Rlcj4gZXNjYXBlQ2hhcikg\newogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuTGlrZSh4LHBhdHRl\ncm4sZXNjYXBlQ2hhcik7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBs\naWtlKEV4cHJlc3Npb248U3RyaW5nPiB4LCBTdHJpbmcgcGF0dGVybiwgY2hh\nciBlc2NhcGVDaGFyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5MaWtlKHgscGF0dGVybixlc2NhcGVDaGFyKTsKICAgIH0KCiAgICBwdWJs\naWMgPFQ+IEV4cHJlc3Npb248VD4gbGl0ZXJhbChUIHZhbHVlKSB7CiAgICAg\nICAgaWYgKEJvb2xlYW4uVFJVRS5lcXVhbHModmFsdWUpKQogICAgICAgICAg\nICByZXR1cm4gKEV4cHJlc3Npb248VD4pUHJlZGljYXRlSW1wbC5UUlVFOwog\nICAgICAgIGlmIChCb29sZWFuLkZBTFNFLmVxdWFscyh2YWx1ZSkpCiAgICAg\nICAgICAgIHJldHVybiAoRXhwcmVzc2lvbjxUPilQcmVkaWNhdGVJbXBsLkZB\nTFNFOwogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ29uc3RhbnQ8\nVD4odmFsdWUpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uPEludGVn\nZXI+IGxvY2F0ZShFeHByZXNzaW9uPFN0cmluZz4geCwgRXhwcmVzc2lvbjxT\ndHJpbmc+IHBhdHRlcm4pIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Np\nb25zLkxvY2F0ZSh4LCBwYXR0ZXJuKTsKICAgIH0KCiAgICBwdWJsaWMgRXhw\ncmVzc2lvbjxJbnRlZ2VyPiBsb2NhdGUoRXhwcmVzc2lvbjxTdHJpbmc+IHgs\nIFN0cmluZyBwYXR0ZXJuKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNz\naW9ucy5Mb2NhdGUoeCwgcGF0dGVybik7CgogICAgfQoKICAgIHB1YmxpYyBF\neHByZXNzaW9uPEludGVnZXI+IGxvY2F0ZShFeHByZXNzaW9uPFN0cmluZz4g\neCwgRXhwcmVzc2lvbjxTdHJpbmc+IHBhdHRlcm4sIEV4cHJlc3Npb248SW50\nZWdlcj4gZnJvbSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMu\nTG9jYXRlKHgsIHBhdHRlcm4sIGZyb20pOwoKICAgIH0KCiAgICBwdWJsaWMg\nRXhwcmVzc2lvbjxJbnRlZ2VyPiBsb2NhdGUoRXhwcmVzc2lvbjxTdHJpbmc+\nIHgsIFN0cmluZyBwYXR0ZXJuLCBpbnQgZnJvbSkgewogICAgICAgIHJldHVy\nbiBuZXcgRXhwcmVzc2lvbnMuTG9jYXRlKHgsIHBhdHRlcm4sIGZyb20pOwoK\nICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxTdHJpbmc+IGxvd2VyKEV4\ncHJlc3Npb248U3RyaW5nPiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHBy\nZXNzaW9ucy5Mb3dlcih4KTsKCiAgICB9CgogICAgcHVibGljIFByZWRpY2F0\nZSBsdChFeHByZXNzaW9uPD8gZXh0ZW5kcyBOdW1iZXI+IHgsIEV4cHJlc3Np\nb248PyBleHRlbmRzIE51bWJlcj4geSkgewogICAgICAgIHJldHVybiBuZXcg\nRXhwcmVzc2lvbnMuTGVzc1RoYW4oeCx5KTsKICAgIH0KCiAgICBwdWJsaWMg\nUHJlZGljYXRlIGx0KEV4cHJlc3Npb248PyBleHRlbmRzIE51bWJlcj4geCwg\nTnVtYmVyIHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkxl\nc3NUaGFuKHgseSk7CiAgICB9CgogICAgcHVibGljIDxOIGV4dGVuZHMgTnVt\nYmVyPiBFeHByZXNzaW9uPE4+IG1heChFeHByZXNzaW9uPE4+IHgpIHsKICAg\nICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLk1heDxOPih4KTsKICAgIH0K\nCiAgICBwdWJsaWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4cHJlc3Npb248Tj4g\nbWluKEV4cHJlc3Npb248Tj4geCkgewogICAgICAgIHJldHVybiBuZXcgRXhw\ncmVzc2lvbnMuTWluPE4+KHgpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNz\naW9uPEludGVnZXI+IG1vZChFeHByZXNzaW9uPEludGVnZXI+IHgsIEV4cHJl\nc3Npb248SW50ZWdlcj4geSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuTW9kKHgseSk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248\nSW50ZWdlcj4gbW9kKEV4cHJlc3Npb248SW50ZWdlcj4geCwgSW50ZWdlciB5\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Nb2QoeCx5KTsK\nICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxJbnRlZ2VyPiBtb2QoSW50\nZWdlciB4LCBFeHByZXNzaW9uPEludGVnZXI+IHkpIHsKICAgICAgICByZXR1\ncm4gbmV3IEV4cHJlc3Npb25zLk1vZCh4LHkpOwogICAgfQoKICAgIHB1Ymxp\nYyA8TiBleHRlbmRzIE51bWJlcj4gRXhwcmVzc2lvbjxOPiBuZWcoRXhwcmVz\nc2lvbjxOPiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5E\naWZmPE4+KDAsIHgpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgbm90\nKEV4cHJlc3Npb248Qm9vbGVhbj4gcmVzdHJpY3Rpb24pIHsKICAgICAgICBy\nZXR1cm4gKChQcmVkaWNhdGUpcmVzdHJpY3Rpb24pLm5vdCgpOwogICAgfQoK\nICAgIHB1YmxpYyBQcmVkaWNhdGUgbm90RXF1YWwoRXhwcmVzc2lvbjw/PiB4\nLCBFeHByZXNzaW9uPD8+IHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJl\nc3Npb25zLk5vdEVxdWFsKHgsIHkpOwogICAgfQoKICAgIHB1YmxpYyBQcmVk\naWNhdGUgbm90RXF1YWwoRXhwcmVzc2lvbjw/PiB4LCBPYmplY3QgeSkgewog\nICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuTm90RXF1YWwoeCwgeSk7\nCiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBub3RMaWtlKEV4cHJlc3Np\nb248U3RyaW5nPiB4LCBFeHByZXNzaW9uPFN0cmluZz4gcGF0dGVybikgewog\nICAgICAgIHJldHVybiBsaWtlKHgsIHBhdHRlcm4pLm5vdCgpOwogICAgfQoK\nICAgIHB1YmxpYyBQcmVkaWNhdGUgbm90TGlrZShFeHByZXNzaW9uPFN0cmlu\nZz4geCwgU3RyaW5nIHBhdHRlcm4pIHsKICAgICAgICByZXR1cm4gbGlrZSh4\nLCBwYXR0ZXJuKS5ub3QoKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRl\nIG5vdExpa2UoRXhwcmVzc2lvbjxTdHJpbmc+IHgsIEV4cHJlc3Npb248U3Ry\naW5nPiBwYXR0ZXJuLCBFeHByZXNzaW9uPENoYXJhY3Rlcj4gZXNjYXBlQ2hh\ncikgewogICAgICAgIHJldHVybiBsaWtlKHgsIHBhdHRlcm4sIGVzY2FwZUNo\nYXIpLm5vdCgpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgbm90TGlr\nZShFeHByZXNzaW9uPFN0cmluZz4geCwgRXhwcmVzc2lvbjxTdHJpbmc+IHBh\ndHRlcm4sIGNoYXIgZXNjYXBlQ2hhcikgewogICAgICAgIHJldHVybiBsaWtl\nKHgsIHBhdHRlcm4sIGVzY2FwZUNoYXIpLm5vdCgpOwogICAgfQoKICAgIHB1\nYmxpYyBQcmVkaWNhdGUgbm90TGlrZShFeHByZXNzaW9uPFN0cmluZz4geCwg\nU3RyaW5nIHBhdHRlcm4sIEV4cHJlc3Npb248Q2hhcmFjdGVyPiBlc2NhcGVD\naGFyKSB7CiAgICAgICAgcmV0dXJuIGxpa2UoeCwgcGF0dGVybiwgZXNjYXBl\nQ2hhcikubm90KCk7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBub3RM\naWtlKEV4cHJlc3Npb248U3RyaW5nPiB4LCBTdHJpbmcgcGF0dGVybiwgY2hh\nciBlc2NhcGVDaGFyKSB7CiAgICAgICAgcmV0dXJuIGxpa2UoeCwgcGF0dGVy\nbiwgZXNjYXBlQ2hhcikubm90KCk7CiAgICB9CgogICAgcHVibGljIDxZPiBF\neHByZXNzaW9uPFk+IG51bGxpZihFeHByZXNzaW9uPFk+IHgsIEV4cHJlc3Np\nb248Pz4geSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuTnVs\nbGlmKHgsIHkpOwogICAgfQoKICAgIHB1YmxpYyA8WT4gRXhwcmVzc2lvbjxZ\nPiBudWxsaWYoRXhwcmVzc2lvbjxZPiB4LCBZIHkpIHsKICAgICAgICByZXR1\ncm4gbmV3IEV4cHJlc3Npb25zLk51bGxpZih4LCB5KTsKICAgIH0KCiAgICBw\ndWJsaWMgUHJlZGljYXRlIG9yKFByZWRpY2F0ZS4uLiByZXN0cmljdGlvbnMp\nIHsKICAgICAgICByZXR1cm4gbmV3IFByZWRpY2F0ZUltcGwuT3IocmVzdHJp\nY3Rpb25zKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIG9yKEV4cHJl\nc3Npb248Qm9vbGVhbj4geCwgRXhwcmVzc2lvbjxCb29sZWFuPiB5KSB7CiAg\nICAJcmV0dXJuIG5ldyBQcmVkaWNhdGVJbXBsLk9yKHgseSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBDb25zdHJ1Y3QgYSBQYXJhbWV0ZXJFeHByZXNzaW9u\nIHdpdGggYSBudWxsIG5hbWUgYXMga2V5LgogICAgICogVGhlIG5hbWUgb2Yg\ndGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSBhc3NpZ25lZCBhdXRvbWF0aWNhbGx5\nCiAgICAgKiB3aGVuIHRoaXMgcGFyYW1ldGVyIGV4cHJlc3Npb24gaXMgCiAg\nICAgKiB7QGxpbmtwbGFpbiBDcml0ZXJpYVF1ZXJ5SW1wbCNyZWdpc3RlclBh\ncmFtZXRlcihQYXJhbWV0ZXJFeHByZXNzaW9uSW1wbCkKICAgICAqIHJlZ2lz\ndGVyZWR9IGluIGEgQ3JpdGVyaWFxdWVyeSBkdXJpbmcgdHJlZSB0cmF2ZXJz\nYWwuCiAgICAgKiAKICAgICAqIEBzZWUgUGFyYW1ldGVyRXhwcmVzc2lvbklt\ncGwjYXNzaWduQXV0b05hbWUoU3RyaW5nKQogICAgICovCiAgICBwdWJsaWMg\nPFQ+IFBhcmFtZXRlckV4cHJlc3Npb248VD4gcGFyYW1ldGVyKENsYXNzPFQ+\nIHBhcmFtQ2xhc3MpIHsKICAgICAgICByZXR1cm4gbmV3IFBhcmFtZXRlckV4\ncHJlc3Npb25JbXBsPFQ+KHBhcmFtQ2xhc3MsIG51bGwpOwogICAgfQoKICAg\nIHB1YmxpYyA8VD4gUGFyYW1ldGVyRXhwcmVzc2lvbjxUPiBwYXJhbWV0ZXIo\nQ2xhc3M8VD4gcGFyYW1DbGFzcywgU3RyaW5nIG5hbWUpIHsKICAgICAgICBy\nZXR1cm4gbmV3IFBhcmFtZXRlckV4cHJlc3Npb25JbXBsPFQ+KHBhcmFtQ2xh\nc3MsIG5hbWUpOwogICAgfQoKICAgIHB1YmxpYyA8TiBleHRlbmRzIE51bWJl\ncj4gRXhwcmVzc2lvbjxOPiBwcm9kKEV4cHJlc3Npb248PyBleHRlbmRzIE4+\nIHgsIEV4cHJlc3Npb248PyBleHRlbmRzIE4+IHkpIHsKICAgICAgICByZXR1\ncm4gbmV3IEV4cHJlc3Npb25zLlByb2R1Y3Q8Tj4oeCx5KTsKICAgIH0KCiAg\nICBwdWJsaWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4cHJlc3Npb248Tj4gcHJv\nZChFeHByZXNzaW9uPD8gZXh0ZW5kcyBOPiB4LCBOIHkpIHsKICAgICAgICBy\nZXR1cm4gbmV3IEV4cHJlc3Npb25zLlByb2R1Y3Q8Tj4oeCx5KTsKICAgIH0K\nCiAgICBwdWJsaWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4cHJlc3Npb248Tj4g\ncHJvZChOIHgsIEV4cHJlc3Npb248PyBleHRlbmRzIE4+IHkpIHsKICAgICAg\nICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLlByb2R1Y3Q8Tj4oeCx5KTsKICAg\nIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxOdW1iZXI+IHF1b3QoRXhwcmVz\nc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiB4LCBFeHByZXNzaW9uPD8gZXh0ZW5k\ncyBOdW1iZXI+IHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25z\nLlF1b3RpZW50PE51bWJlcj4oeCx5KTsKICAgIH0KCiAgICBwdWJsaWMgRXhw\ncmVzc2lvbjxOdW1iZXI+IHF1b3QoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVt\nYmVyPiB4LCBOdW1iZXIgeSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuUXVvdGllbnQ8TnVtYmVyPih4LHkpOwogICAgfQoKICAgIHB1Ymxp\nYyBFeHByZXNzaW9uPE51bWJlcj4gcXVvdChOdW1iZXIgeCwgRXhwcmVzc2lv\nbjw/IGV4dGVuZHMgTnVtYmVyPiB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBF\neHByZXNzaW9ucy5RdW90aWVudDxOdW1iZXI+KHgseSk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBEZWZpbmUgYSBzZWxlY3QgbGlzdCBpdGVtIGNvcnJlc3Bv\nbmRpbmcgdG8gYSBjb25zdHJ1Y3Rvci4KICAgICAqIEBwYXJhbSByZXN1bHQg\nIGNsYXNzIHdob3NlIGluc3RhbmNlIGlzIHRvIGJlIGNvbnN0cnVjdGVkCiAg\nICAgKiBAcGFyYW0gc2VsZWN0aW9ucyAgYXJndW1lbnRzIHRvIHRoZSBjb25z\ndHJ1Y3RvcgogICAgICogQHJldHVybiBzZWxlY3Rpb24gaXRlbQogICAgICov\nCiAgICBwdWJsaWMgPFk+IENvbXBvdW5kU2VsZWN0aW9uPFk+IGNvbnN0cnVj\ndChDbGFzczxZPiByZXN1bHQsIFNlbGVjdGlvbjw/Pi4uLiBzZWxlY3Rpb25z\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3VuZFNlbGVjdGlvbnMuTmV3\nSW5zdGFuY2U8WT4ocmVzdWx0LCBzZWxlY3Rpb25zKTsKICAgIH0KCiAgICBw\ndWJsaWMgPFI+IENhc2U8Uj4gc2VsZWN0Q2FzZSgpIHsKICAgICAgICByZXR1\ncm4gbmV3IEV4cHJlc3Npb25zLkNhc2UoT2JqZWN0LmNsYXNzKTsKICAgIH0K\nCiAgICBwdWJsaWMgPEMsIFI+IFNpbXBsZUNhc2U8QywgUj4gc2VsZWN0Q2Fz\nZShFeHByZXNzaW9uPD8gZXh0ZW5kcyBDPiBleHByZXNzaW9uKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5TaW1wbGVDYXNlKGV4cHJlc3Np\nb24pOwogICAgfQoKICAgIHB1YmxpYyA8QyBleHRlbmRzIENvbGxlY3Rpb248\nPz4+IEV4cHJlc3Npb248SW50ZWdlcj4gc2l6ZShDIGNvbGxlY3Rpb24pIHsK\nICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLlNpemUoY29sbGVjdGlv\nbik7CiAgICB9CgogICAgcHVibGljIDxDIGV4dGVuZHMgQ29sbGVjdGlvbjw/\nPj4gRXhwcmVzc2lvbjxJbnRlZ2VyPiBzaXplKEV4cHJlc3Npb248Qz4gY29s\nbGVjdGlvbikgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuU2l6\nZShjb2xsZWN0aW9uKTsKICAgIH0KCiAgICBwdWJsaWMgPFk+IEV4cHJlc3Np\nb248WT4gc29tZShTdWJxdWVyeTxZPiBzdWJxdWVyeSkgewogICAgICAgIC8v\nc29tZSBhbmQgYW55IGFyZSBzeW5vbnltb3VzCiAgICAgICAgcmV0dXJuIG5l\ndyBFeHByZXNzaW9ucy5Bbnk8WT4oc3VicXVlcnkpOwogICAgfQoKICAgIHB1\nYmxpYyBFeHByZXNzaW9uPERvdWJsZT4gc3FydChFeHByZXNzaW9uPD8gZXh0\nZW5kcyBOdW1iZXI+IHgpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Np\nb25zLlNxcnQoeCk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3Ry\naW5nPiBzdWJzdHJpbmcoRXhwcmVzc2lvbjxTdHJpbmc+IHgsIEV4cHJlc3Np\nb248SW50ZWdlcj4gZnJvbSkgewogICAgCXJldHVybiBuZXcgRXhwcmVzc2lv\nbnMuU3Vic3RyaW5nKHgsIGZyb20pOwogICAgfQoKICAgIHB1YmxpYyBFeHBy\nZXNzaW9uPFN0cmluZz4gc3Vic3RyaW5nKEV4cHJlc3Npb248U3RyaW5nPiB4\nLCBpbnQgZnJvbSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMu\nU3Vic3RyaW5nKHgsIGZyb20pOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNz\naW9uPFN0cmluZz4gc3Vic3RyaW5nKEV4cHJlc3Npb248U3RyaW5nPiB4LCBF\neHByZXNzaW9uPEludGVnZXI+IGZyb20sIEV4cHJlc3Npb248SW50ZWdlcj4g\nbGVuKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5TdWJzdHJp\nbmcoeCwgZnJvbSwgbGVuKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lv\nbjxTdHJpbmc+IHN1YnN0cmluZyhFeHByZXNzaW9uPFN0cmluZz4geCwgaW50\nIGZyb20sIGludCBsZW4pIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Np\nb25zLlN1YnN0cmluZyh4LCBmcm9tLCBsZW4pOwogICAgfQoKICAgIHB1Ymxp\nYyA8TiBleHRlbmRzIE51bWJlcj4gRXhwcmVzc2lvbjxOPiBzdW0oRXhwcmVz\nc2lvbjxOPiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5T\ndW08Tj4oeCk7CiAgICB9CgogICAgcHVibGljIDxOIGV4dGVuZHMgTnVtYmVy\nPiBFeHByZXNzaW9uPE4+IHN1bShFeHByZXNzaW9uPD8gZXh0ZW5kcyBOPiB4\nLCBFeHByZXNzaW9uPD8gZXh0ZW5kcyBOPiB5KSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBFeHByZXNzaW9ucy5TdW08Tj4oeCx5KTsKICAgIH0KCiAgICBwdWJs\naWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4cHJlc3Npb248Tj4gc3VtKEV4cHJl\nc3Npb248PyBleHRlbmRzIE4+IHgsIE4geSkgewogICAgICAgIHJldHVybiBu\nZXcgRXhwcmVzc2lvbnMuU3VtPE4+KHgseSk7CiAgICB9CgogICAgcHVibGlj\nIDxOIGV4dGVuZHMgTnVtYmVyPiBFeHByZXNzaW9uPE4+IHN1bShOIHgsIEV4\ncHJlc3Npb248PyBleHRlbmRzIE4+IHkpIHsKICAgICAgICByZXR1cm4gbmV3\nIEV4cHJlc3Npb25zLlN1bTxOPih4LHkpOwogICAgfQogICAgCiAgICBwdWJs\naWMgRXhwcmVzc2lvbjxMb25nPiBzdW1Bc0xvbmcoRXhwcmVzc2lvbjxJbnRl\nZ2VyPiB4KSB7CiAgICAgICAgcmV0dXJuIHN1bSh4KS5hcyhMb25nLmNsYXNz\nKTsKICAgIH0KICAgIAogICAgcHVibGljIEV4cHJlc3Npb248RG91YmxlPiBz\ndW1Bc0RvdWJsZShFeHByZXNzaW9uPEZsb2F0PiB4KSB7CiAgICAgICAgcmV0\ndXJuIHN1bSh4KS5hcyhEb3VibGUuY2xhc3MpOwogICAgfQoKICAgIHB1Ymxp\nYyBFeHByZXNzaW9uPEJpZ0RlY2ltYWw+IHRvQmlnRGVjaW1hbChFeHByZXNz\naW9uPD8gZXh0ZW5kcyBOdW1iZXI+IG51bWJlcikgewogICAgICAgIHJldHVy\nbiBuZXcgRXhwcmVzc2lvbnMuQ2FzdDxCaWdEZWNpbWFsPihudW1iZXIsIEJp\nZ0RlY2ltYWwuY2xhc3MpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9u\nPEJpZ0ludGVnZXI+IHRvQmlnSW50ZWdlcihFeHByZXNzaW9uPD8gZXh0ZW5k\ncyBOdW1iZXI+IG51bWJlcikgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuQ2FzdDxCaWdJbnRlZ2VyPihudW1iZXIsIEJpZ0ludGVnZXIuY2xh\nc3MpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uPERvdWJsZT4gdG9E\nb3VibGUoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiBudW1iZXIpIHsK\nICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkNhc3Q8RG91YmxlPihu\ndW1iZXIsIERvdWJsZS5jbGFzcyk7CiAgICB9CgogICAgcHVibGljIEV4cHJl\nc3Npb248RmxvYXQ+IHRvRmxvYXQoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVt\nYmVyPiBudW1iZXIpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25z\nLkNhc3Q8RmxvYXQ+KG51bWJlciwgRmxvYXQuY2xhc3MpOwogICAgfQoKICAg\nIHB1YmxpYyBFeHByZXNzaW9uPEludGVnZXI+IHRvSW50ZWdlcihFeHByZXNz\naW9uPD8gZXh0ZW5kcyBOdW1iZXI+IG51bWJlcikgewogICAgICAgIHJldHVy\nbiBuZXcgRXhwcmVzc2lvbnMuQ2FzdDxJbnRlZ2VyPihudW1iZXIsIEludGVn\nZXIuY2xhc3MpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uPExvbmc+\nIHRvTG9uZyhFeHByZXNzaW9uPD8gZXh0ZW5kcyBOdW1iZXI+IG51bWJlcikg\newogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ2FzdDxMb25nPihu\ndW1iZXIsIExvbmcuY2xhc3MpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNz\naW9uPFN0cmluZz4gdG9TdHJpbmcoRXhwcmVzc2lvbjxDaGFyYWN0ZXI+IGNo\nYXJhY3RlcikgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ2Fz\ndDxTdHJpbmc+KGNoYXJhY3RlciwgU3RyaW5nLmNsYXNzKTsKICAgIH0KCiAg\nICBwdWJsaWMgRXhwcmVzc2lvbjxTdHJpbmc+IHRyaW0oRXhwcmVzc2lvbjxT\ndHJpbmc+IHgpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLlRy\naW0oeCk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiB0\ncmltKFRyaW1zcGVjIHRzLCBFeHByZXNzaW9uPFN0cmluZz4geCkgewogICAg\nICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuVHJpbSh4LCB0cyk7CiAgICB9\nCgogICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiB0cmltKEV4cHJlc3Np\nb248Q2hhcmFjdGVyPiB0LCBFeHByZXNzaW9uPFN0cmluZz4geCkgewogICAg\nICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuVHJpbSh4LCB0KTsKICAgIH0K\nCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxTdHJpbmc+IHRyaW0oY2hhciB0LCBF\neHByZXNzaW9uPFN0cmluZz4geCkgewogICAgICAgIHJldHVybiBuZXcgRXhw\ncmVzc2lvbnMuVHJpbSh4LCB0KTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVz\nc2lvbjxTdHJpbmc+IHRyaW0oVHJpbXNwZWMgdHMsIEV4cHJlc3Npb248Q2hh\ncmFjdGVyPiB0LCBFeHByZXNzaW9uPFN0cmluZz4geCkgewogICAgICAgIHJl\ndHVybiBuZXcgRXhwcmVzc2lvbnMuVHJpbSh4LCB0LCB0cyk7CiAgICB9Cgog\nICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiB0cmltKFRyaW1zcGVjIHRz\nLCBjaGFyIHQsIEV4cHJlc3Npb248U3RyaW5nPiB4KSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBFeHByZXNzaW9ucy5UcmltKHgsIHQsIHRzKTsKICAgIH0KCiAg\nICBwdWJsaWMgRXhwcmVzc2lvbjxTdHJpbmc+IHVwcGVyKEV4cHJlc3Npb248\nU3RyaW5nPiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5V\ncHBlcih4KTsKCiAgICB9CgogICAgcHVibGljIDxWLCBNIGV4dGVuZHMgTWFw\nPD8sIFY+PiBFeHByZXNzaW9uPENvbGxlY3Rpb248Vj4+IHZhbHVlcyhNIG1h\ncCkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ29uc3RhbnQ8\nQ29sbGVjdGlvbjxWPj4obWFwID09IG51bGwgPyBDb2xsZWN0aW9ucy5FTVBU\nWV9MSVNUIDogbWFwLnZhbHVlcygpKTsKICAgIH0KCiAgICBwdWJsaWMgQ29t\ncG91bmRTZWxlY3Rpb248T2JqZWN0W10+IGFycmF5KFNlbGVjdGlvbjw/Pi4u\nLiB0ZXJtcykgewogICAgICAgIHJldHVybiBuZXcgQ29tcG91bmRTZWxlY3Rp\nb25zLkFycmF5PE9iamVjdFtdPihPYmplY3RbXS5jbGFzcywgdGVybXMpOwog\nICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgaXNOb3ROdWxsKEV4cHJlc3Np\nb248Pz4geCkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuSXNO\nb3ROdWxsKChFeHByZXNzaW9uSW1wbDw/Pil4KTsKICAgIH0KCiAgICBwdWJs\naWMgUHJlZGljYXRlIGlzTnVsbChFeHByZXNzaW9uPD8+IHgpIHsKICAgICAg\nICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLklzTnVsbCgoRXhwcmVzc2lvbklt\ncGw8Pz4gKXgpOwogICAgfQogICAgCiAgICBwdWJsaWMgPFQ+IEV4cHJlc3Np\nb248VD4gbnVsbExpdGVyYWwoQ2xhc3M8VD4gdCkgewogICAgICAgIHJldHVy\nbiBuZXcgRXhwcmVzc2lvbnMuQ29uc3RhbnQ8VD4odCwgKFQpbnVsbCk7CiAg\nICB9CgoKICAgIC8qKgogICAgICogRGVmaW5lIGEgdHVwbGUtdmFsdWVkIHNl\nbGVjdGlvbiBpdGVtCiAgICAgKiBAcGFyYW0gc2VsZWN0aW9ucyAgc2VsZWN0\naW9uIGl0ZW1zCiAgICAgKiBAcmV0dXJuIHR1cGxlLXZhbHVlZCBjb21wb3Vu\nZCBzZWxlY3Rpb24KICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhj\nZXB0aW9uIGlmIGFuIGFyZ3VtZW50IGlzIGEgdHVwbGUtIG9yCiAgICAgKiAg\nICAgICAgICBhcnJheS12YWx1ZWQgc2VsZWN0aW9uIGl0ZW0KICAgICAqLwog\nICAgcHVibGljIENvbXBvdW5kU2VsZWN0aW9uPFR1cGxlPiB0dXBsZShTZWxl\nY3Rpb248Pz4uLi4gc2VsZWN0aW9ucykgewogICAgICAgIHJldHVybiBuZXcg\nQ29tcG91bmRTZWxlY3Rpb25zLlR1cGxlKHNlbGVjdGlvbnMpOwogICAgfQog\nICAgCiAgICAvKioKICAgICAqIENyZWF0ZSBhIHByZWRpY2F0ZSBiYXNlZCB1\ncG9uIHRoZSBhdHRyaWJ1dGUgdmFsdWVzIG9mIGEgZ2l2ZW4KICAgICAqICJl\neGFtcGxlIiBlbnRpdHkgaW5zdGFuY2UuIFRoZSBwcmVkaWNhdGUgaXMgdGhl\nIGNvbmp1bmN0aW9uIAogICAgICogb3IgZGlzanVuY3Rpb24gb2YgcHJlZGlj\nYXRlcyBmb3Igc3Vic2V0IG9mIGF0dHJpYnV0ZSBvZiB0aGUgZW50aXR5Lgog\nICAgICogPGJyPgogICAgICogQnkgZGVmYXVsdCwgYWxsIHRoZSBzaW5ndWxh\nciBlbnRpdHkgYXR0cmlidXRlcyAodGhlIGJhc2ljLCBlbWJlZGRlZAogICAg\nICogYW5kIHVuaS1jYXJkaW5hbGl0eSByZWxhdGlvbnMpIHRoYXQgaGF2ZSBh\nIG5vbi1udWxsIG9yIG5vbi1kZWZhdWx0CiAgICAgKiB2YWx1ZSBmb3IgdGhl\nIGV4YW1wbGUgaW5zdGFuY2UgYW5kIGFyZSBub3QgYW4gaWRlbnRpdHkgb3Ig\ndmVyc2lvbgogICAgICogYXR0cmlidXRlIGFyZSBpbmNsdWRlZC4gVGhlIGNv\nbXBhcmFibGUgYXR0cmlidXRlcyBjYW4gYmUgZnVydGhlcgogICAgICogcHJ1\nbmVkIGJ5IHNwZWNpZnlpbmcgdmFyaWFibGUgbGlzdCBvZiBhdHRyaWJ1dGVz\nIGFzIHRoZSBmaW5hbCBhcmd1bWVudC4KICAgICAqIAogICAgICogQHBhcmFt\nIGV4YW1wbGUgYW4gaW5zdGFuY2Ugb2YgYW4gZW50aXR5IGNsYXNzCiAgICAg\nKiAKICAgICAqIEBwYXJhbSBzdHlsZSBzcGVjaWZpZXMgdmFyaW91cyBhc3Bl\nY3RzIG9mIGNvbXBhcmlzb24gc3VjaCBhcyB3aGV0aGVyCiAgICAgKiBub24t\nbnVsbCBhdHRyaWJ1dGUgdmFsdWVzIGJlIGluY2x1ZGVkLCBob3cgc3RyaW5n\nLXZhbHVlZCBhdHRyaWJ1dGUgYmUgCiAgICAgKiBjb21wYXJlZCwgd2hldGhl\nciB0aGUgaW5kaXZpZHVhbCBhdHRyaWJ1dGUgYmFzZWQgcHJlZGljYXRlcyBh\ncmUgQU5EZWQKICAgICAqIG9yIE9SZWQgZXRjLgogICAgICogCiAgICAgKiBA\ncGFyYW0gZXhjbHVkZXMgbGlzdCBvZiBhdHRyaWJ1dGVzIHRoYXQgYXJlIGV4\nY2x1ZGVkIGZyb20gY29tcGFyaXNvbi4KICAgICAqICAKICAgICAqIEByZXR1\ncm4gYSBwcmVkaWNhdGUgCiAgICAgKi8KICAgIHB1YmxpYyA8VD4gUHJlZGlj\nYXRlIHFiZShGcm9tPD8sIFQ+IGZyb20sIFQgZXhhbXBsZSwgQ29tcGFyaXNv\nblN0eWxlIHN0eWxlLCBBdHRyaWJ1dGU8Pyw/Pi4uLiBleGNsdWRlcykgewog\nICAgICAgIGlmIChmcm9tID09IG51bGwpCiAgICAgICAgICAgIHRocm93IG5l\ndyBOdWxsUG9pbnRlckV4Y2VwdGlvbigpOwogICAgICAgIGlmIChleGFtcGxl\nID09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIGZyb20uaXNOdWxsKCk7\nCiAgICAgICAgfQogICAgICAgIE1hbmFnZWRUeXBlPFQ+IHR5cGUgPSAoTWFu\nYWdlZFR5cGU8VD4pX21vZGVsLm1hbmFnZWRUeXBlKGV4YW1wbGUuZ2V0Q2xh\nc3MoKSk7CiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJlQnlFeGFtcGxlPFQ+\nKHRoaXMsIHR5cGUsIGZyb20sIGV4YW1wbGUsIAogICAgICAgICAgICBzdHls\nZSA9PSBudWxsID8gcWJlU3R5bGUoKSA6IHN0eWxlLCBleGNsdWRlcyk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyA8VD4gUHJlZGljYXRlIHFiZShGcm9tPD8s\nIFQ+IGZyb20sIFQgZXhhbXBsZSwgQ29tcGFyaXNvblN0eWxlIHN0eWxlKSB7\nCiAgICAgICAgcmV0dXJuIHFiZShmcm9tLCBleGFtcGxlLCBzdHlsZSwgbnVs\nbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyA8VD4gUHJlZGljYXRlIHFiZShG\ncm9tPD8sIFQ+IGZyb20sIFQgZXhhbXBsZSwgQXR0cmlidXRlPD8sPz4uLi4g\nZXhjbHVkZXMpIHsKICAgICAgICByZXR1cm4gcWJlKGZyb20sIGV4YW1wbGUs\nIHFiZVN0eWxlKCksIGV4Y2x1ZGVzKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIDxUPiBQcmVkaWNhdGUgcWJlKEZyb208PywgVD4gZnJvbSwgVCBleGFtcGxl\nKSB7CiAgICAgICAgcmV0dXJuIHFiZShmcm9tLCBleGFtcGxlLCBxYmVTdHls\nZSgpLCBudWxsKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDcmVhdGUg\nYSBzdHlsZSB0byB0dW5lIGRpZmZlcmVudCBhc3BlY3RzIG9mIGNvbXBhcmlz\nb24gYnkgZXhhbXBsZS4gCiAgICAgKi8KICAgIHB1YmxpYyBDb21wYXJpc29u\nU3R5bGUgcWJlU3R5bGUoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDb21wYXJp\nc29uU3R5bGUuRGVmYXVsdCgpOwogICAgfQp9Cg==\n","encoding":"base64"}

