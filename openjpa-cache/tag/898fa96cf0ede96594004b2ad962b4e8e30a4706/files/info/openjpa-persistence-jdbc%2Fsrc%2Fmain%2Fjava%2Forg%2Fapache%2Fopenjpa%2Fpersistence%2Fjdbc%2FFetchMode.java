{"sha":"bc2f27c179d2308b01117ac3bc48816a191b1771","node_id":"MDQ6QmxvYjIwNjM2NDpiYzJmMjdjMTc5ZDIzMDhiMDExMTdhYzNiYzQ4ODE2YTE5MWIxNzcx","size":2934,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bc2f27c179d2308b01117ac3bc48816a191b1771","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuRWFnZXJG\nZXRjaE1vZGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5G\nZXRjaENvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuT3BlbkpQQUVudW07CgovKioKICogVHlwZSBvZiBmZXRj\naGluZyB0byBlbXBsb3kuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBz\naW5jZSAwLjQuMAogKiBAcHVibGlzaGVkCiAqLwpwdWJsaWMgZW51bSBGZXRj\naE1vZGUgaW1wbGVtZW50cyBPcGVuSlBBRW51bTxGZXRjaE1vZGU+ewogICAg\nTk9ORShFYWdlckZldGNoTW9kZXMuRUFHRVJfTk9ORSwgIm5vbmUiKSwKICAg\nIEpPSU4oRWFnZXJGZXRjaE1vZGVzLkVBR0VSX0pPSU4sICJqb2luIiksCiAg\nICBQQVJBTExFTChFYWdlckZldGNoTW9kZXMuRUFHRVJfUEFSQUxMRUwsICJw\nYXJhbGxlbCIpOwoKICAgIHByaXZhdGUgZmluYWwgaW50IGVhZ2VyRmV0Y2hD\nb25zdGFudDsKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nW10gX25hbWVzOwog\nICAgCiAgICBwcml2YXRlIEZldGNoTW9kZShpbnQgdmFsdWUsIFN0cmluZy4u\nLiBuYW1lcykgewogICAgICAgIGVhZ2VyRmV0Y2hDb25zdGFudCA9IHZhbHVl\nOwogICAgICAgIF9uYW1lcyA9IG5hbWVzOwogICAgfQoKICAgIHB1YmxpYyBp\nbnQgdG9LZXJuZWxDb25zdGFudCgpIHsKICAgICAgICByZXR1cm4gZWFnZXJG\nZXRjaENvbnN0YW50OwogICAgfQoKICAgIHN0YXRpYyBGZXRjaE1vZGUgZnJv\nbUtlcm5lbENvbnN0YW50KGludCBrZXJuZWxDb25zdGFudCkgewogICAgICAg\nIHN3aXRjaCAoa2VybmVsQ29uc3RhbnQpIHsKICAgICAgICAgICAgY2FzZSBF\nYWdlckZldGNoTW9kZXMuRUFHRVJfTk9ORToKICAgICAgICAgICAgICAgIHJl\ndHVybiBOT05FOwoKICAgICAgICAgICAgY2FzZSBFYWdlckZldGNoTW9kZXMu\nRUFHRVJfSk9JTjoKICAgICAgICAgICAgICAgIHJldHVybiBKT0lOOwoKICAg\nICAgICAgICAgY2FzZSBFYWdlckZldGNoTW9kZXMuRUFHRVJfUEFSQUxMRUw6\nCiAgICAgICAgICAgICAgICByZXR1cm4gUEFSQUxMRUw7CgogICAgICAgICAg\nICBkZWZhdWx0OgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxB\ncmd1bWVudEV4Y2VwdGlvbihrZXJuZWxDb25zdGFudCArICIiKTsKICAgICAg\nICB9CiAgICB9CiAgICAKICAgIHB1YmxpYyBpbnQgY29udmVydFRvS2VybmVs\nQ29uc3RhbnQoU3RyaW5nIHMpIHsKICAgICAgICByZXR1cm4gRmV0Y2hNb2Rl\nLnRvS2VybmVsQ29uc3RhbnRGcm9tU3RyaW5nKHMpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgaW50IGNvbnZlcnRUb0tlcm5lbENvbnN0YW50KGludCBpKSB7\nCiAgICAgICAgaWYgKGkgPT0gRmV0Y2hDb25maWd1cmF0aW9uLkRFRkFVTFQp\nCiAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgIGZvciAoRmV0Y2hNb2Rl\nIG1vZGUgOiBGZXRjaE1vZGUudmFsdWVzKCkpIHsKICAgICAgICAgICAgaWYg\nKG1vZGUuZWFnZXJGZXRjaENvbnN0YW50ID09IGkpCiAgICAgICAgICAgICAg\nICByZXR1cm4gaTsKICAgICAgICB9CiAgICAgICAgdGhyb3cgbmV3IElsbGVn\nYWxBcmd1bWVudEV4Y2VwdGlvbihpICsgIiBpcyBpbnZhbGlkIHZhbHVlIGZv\nciBGZXRjaE1vZGUiKTsKICAgIH0KICAgIAogICAgcHVibGljIHN0YXRpYyBp\nbnQgdG9LZXJuZWxDb25zdGFudEZyb21TdHJpbmcoU3RyaW5nIHMpIHsKICAg\nICAgICBmb3IgKEZldGNoTW9kZSBsZXZlbCA6IEZldGNoTW9kZS52YWx1ZXMo\nKSkgewogICAgICAgICAgICBmb3IgKFN0cmluZyBuYW1lIDogbGV2ZWwuX25h\nbWVzKQogICAgICAgICAgICAgICBpZiAobmFtZS5lcXVhbHNJZ25vcmVDYXNl\nKHMpIHx8IFN0cmluZy52YWx1ZU9mKGxldmVsLnRvS2VybmVsQ29uc3RhbnQo\nKSkuZXF1YWxzKHMpKQogICAgICAgICAgICAgICAgICAgcmV0dXJuIGxldmVs\nLnRvS2VybmVsQ29uc3RhbnQoKTsKICAgICAgICB9CiAgICAgICAgdGhyb3cg\nbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihzICsgIiBpcyBub3QgYSB2\nYWxpZCBuYW1lIGZvciAiICsgRmV0Y2hNb2RlLmNsYXNzLmdldE5hbWUoKSk7\nCiAgICB9Cn0K\n","encoding":"base64"}

