{"sha":"b6e2119a33fc431f8d3c533b585ba81d9d659e7b","node_id":"MDQ6QmxvYjIwNjM2NDpiNmUyMTE5YTMzZmM0MzFmOGQzYzUzM2I1ODViYTgxZDlkNjU5ZTdi","size":3675,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b6e2119a33fc431f8d3c533b585ba81d9d659e7b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uOwoKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDRmV0Y2hDb25maWd1cmF0aW9u\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5K\nUEFFbnVtOwoKLyoqCiAqIElzb2xhdGlvbiBsZXZlbHMgZm9yIHVzZSBpbiB7\nQGxpbmsgSkRCQ0ZldGNoUGxhbiNzZXRJc29sYXRpb259LgogKgogKiBAc2lu\nY2UgMC45LjcKICogQHB1Ymxpc2hlZAogKi8KcHVibGljIGVudW0gSXNvbGF0\naW9uTGV2ZWwgaW1wbGVtZW50cyBPcGVuSlBBRW51bTxJc29sYXRpb25MZXZl\nbD57CiAgICBERUZBVUxUKC0xLCAiZGVmYXVsdCIpLAogICAgTk9ORShDb25u\nZWN0aW9uLlRSQU5TQUNUSU9OX05PTkUsICJub25lIiksCiAgICBSRUFEX1VO\nQ09NTUlUVEVEKENvbm5lY3Rpb24uVFJBTlNBQ1RJT05fUkVBRF9VTkNPTU1J\nVFRFRCwgInJlYWQtdW5jb21taXR0ZWQiLCAiUkVBRF9VTkNPTU1JVFRFRCIp\nLAogICAgUkVBRF9DT01NSVRURUQoQ29ubmVjdGlvbi5UUkFOU0FDVElPTl9S\nRUFEX0NPTU1JVFRFRCwgInJlYWQtY29tbWl0dGVkIiwgIlJFQURfQ09NTUlU\nVEVEIiksCiAgICBSRVBFQVRBQkxFX1JFQUQoQ29ubmVjdGlvbi5UUkFOU0FD\nVElPTl9SRVBFQVRBQkxFX1JFQUQsICJyZXBlYXRhYmxlLXJlYWQiLCAiUkVQ\nRUFUQUJMRV9SRUFEIiksCiAgICBTRVJJQUxJWkFCTEUoQ29ubmVjdGlvbi5U\nUkFOU0FDVElPTl9TRVJJQUxJWkFCTEUsICJzZXJpYWxpemFibGUiKTsKCiAg\nICBwcml2YXRlIGZpbmFsIGludCBfY29ubmVjdGlvbkNvbnN0YW50OwogICAg\ncHJpdmF0ZSBmaW5hbCBTdHJpbmdbXSBfbmFtZXM7CgogICAgcHJpdmF0ZSBJ\nc29sYXRpb25MZXZlbChpbnQgY29ubmVjdGlvbkNvbnN0YW50LCBTdHJpbmcu\nLi4gbmFtZXMpIHsKICAgICAgICBfY29ubmVjdGlvbkNvbnN0YW50ID0gY29u\nbmVjdGlvbkNvbnN0YW50OwogICAgICAgIF9uYW1lcyA9IG5hbWVzOwogICAg\nfQoKICAgIHB1YmxpYyBpbnQgZ2V0Q29ubmVjdGlvbkNvbnN0YW50KCkgewog\nICAgICAgIHJldHVybiBfY29ubmVjdGlvbkNvbnN0YW50OwogICAgfQoKICAg\nIHB1YmxpYyBzdGF0aWMgSXNvbGF0aW9uTGV2ZWwgZnJvbUNvbm5lY3Rpb25D\nb25zdGFudChpbnQgY29uc3RhbnQpIHsKICAgICAgICBzd2l0Y2goY29uc3Rh\nbnQpIHsKICAgICAgICAgICAgY2FzZSAtMToKICAgICAgICAgICAgY2FzZSBK\nREJDRmV0Y2hDb25maWd1cmF0aW9uLkRFRkFVTFQ6CiAgICAgICAgICAgICAg\nICByZXR1cm4gREVGQVVMVDsKCiAgICAgICAgICAgIGNhc2UgQ29ubmVjdGlv\nbi5UUkFOU0FDVElPTl9OT05FOgogICAgICAgICAgICAgICAgcmV0dXJuIE5P\nTkU7CgogICAgICAgICAgICBjYXNlIENvbm5lY3Rpb24uVFJBTlNBQ1RJT05f\nUkVBRF9VTkNPTU1JVFRFRDoKICAgICAgICAgICAgICAgIHJldHVybiBSRUFE\nX1VOQ09NTUlUVEVEOwoKICAgICAgICAgICAgY2FzZSBDb25uZWN0aW9uLlRS\nQU5TQUNUSU9OX1JFQURfQ09NTUlUVEVEOgogICAgICAgICAgICAgICAgcmV0\ndXJuIFJFQURfQ09NTUlUVEVEOwoKICAgICAgICAgICAgY2FzZSBDb25uZWN0\naW9uLlRSQU5TQUNUSU9OX1JFUEVBVEFCTEVfUkVBRDoKICAgICAgICAgICAg\nICAgIHJldHVybiBSRVBFQVRBQkxFX1JFQUQ7CgogICAgICAgICAgICBjYXNl\nIENvbm5lY3Rpb24uVFJBTlNBQ1RJT05fU0VSSUFMSVpBQkxFOgogICAgICAg\nICAgICAgICAgcmV0dXJuIFNFUklBTElaQUJMRTsKCiAgICAgICAgICAgIGRl\nZmF1bHQ6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3Vt\nZW50RXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgIEludGVnZXIudmFs\ndWVPZihjb25zdGFudCkudG9TdHJpbmcoKSk7CiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyBJc29sYXRpb25MZXZlbCBmcm9tS2VybmVsQ29uc3RhbnQo\naW50IGkpIHsKICAgICAgICByZXR1cm4gSXNvbGF0aW9uTGV2ZWwuZnJvbUNv\nbm5lY3Rpb25Db25zdGFudChpKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IHRv\nS2VybmVsQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIGdldENvbm5lY3Rp\nb25Db25zdGFudCgpOwogICAgfQogICAgCiAgICBwdWJsaWMgc3RhdGljIGlu\ndCB0b0tlcm5lbENvbnN0YW50RnJvbVN0cmluZyhTdHJpbmcgcykgewogICAg\nICAgIGZvciAoSXNvbGF0aW9uTGV2ZWwgbGV2ZWwgOiBJc29sYXRpb25MZXZl\nbC52YWx1ZXMoKSkgewogICAgICAgICAgICBmb3IgKFN0cmluZyBuYW1lIDog\nbGV2ZWwuX25hbWVzKSB7CiAgICAgICAgICAgICAgICBpZiAobmFtZS5lcXVh\nbHNJZ25vcmVDYXNlKHMpIHx8IFN0cmluZy52YWx1ZU9mKGxldmVsLnRvS2Vy\nbmVsQ29uc3RhbnQoKSkuZXF1YWxzKHMpKQogICAgICAgICAgICAgICAgICAg\nIHJldHVybiBsZXZlbC50b0tlcm5lbENvbnN0YW50KCk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9CiAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVu\ndEV4Y2VwdGlvbihzICsgIiBpcyBub3QgYSB2YWxpZCBuYW1lIGZvciAiICsg\nSXNvbGF0aW9uTGV2ZWwuY2xhc3MuZ2V0TmFtZSgpKTsKICAgIH0KICAgIAog\nICAgcHVibGljIGludCBjb252ZXJ0VG9LZXJuZWxDb25zdGFudChTdHJpbmcg\ncykgewogICAgICAgIHJldHVybiBJc29sYXRpb25MZXZlbC50b0tlcm5lbENv\nbnN0YW50RnJvbVN0cmluZyhzKTsKICAgIH0KICAgIAogICAgcHVibGljIGlu\ndCBjb252ZXJ0VG9LZXJuZWxDb25zdGFudChpbnQgaSkgewogICAgICAgIHJl\ndHVybiBJc29sYXRpb25MZXZlbC5mcm9tQ29ubmVjdGlvbkNvbnN0YW50KGkp\nLnRvS2VybmVsQ29uc3RhbnQoKTsKICAgIH0KCn0K\n","encoding":"base64"}

