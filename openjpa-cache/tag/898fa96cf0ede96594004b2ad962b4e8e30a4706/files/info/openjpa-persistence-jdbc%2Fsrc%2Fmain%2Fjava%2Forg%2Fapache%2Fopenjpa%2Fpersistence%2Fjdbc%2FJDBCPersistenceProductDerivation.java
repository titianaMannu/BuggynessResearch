{"sha":"b7ea755d2497ec0f69dd5ca132f21cd95b01fbd0","node_id":"MDQ6QmxvYjIwNjM2NDpiN2VhNzU1ZDI0OTdlYzBmNjlkZDVjYTEzMmYyMWNkOTViMDFmYmQw","size":5061,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b7ea755d2497ec0f69dd5ca132f21cd95b01fbd0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXI7CmltcG9y\ndCBqYXZhLnV0aWwuQ29sbGVjdGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuSGFz\naFNldDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwu\nU2V0OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLk9wZW5KUEFD\nb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYu\nT3BlbkpQQVByb2R1Y3REZXJpdmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmNvbmYuU3BlY2lmaWNhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb25JbXBsOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLkpEQkNTdG9yZU1h\nbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuTXlT\nUUxEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nc3FsLk9yYWNsZURpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEubGliLmNvbmYuQWJzdHJhY3RQcm9kdWN0RGVyaXZhdGlvbjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkoyRG9Qcml2SGVs\ncGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLkZl\ndGNoUGxhbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5QZXJzaXN0ZW5jZVByb2R1Y3REZXJpdmF0aW9uOwoKLyoqCiAqIFNldHMg\nSkRCQy1zcGVjaWZpYyBKUEEgc3BlY2lmaWNhdGlvbiBkZWZhdWx0cy4KICoK\nICogQGF1dGhvciBBYmUgV2hpdGUKICogQG5vamF2YWRvYwogKi8KcHVibGlj\nIGNsYXNzIEpEQkNQZXJzaXN0ZW5jZVByb2R1Y3REZXJpdmF0aW9uIAogICAg\nZXh0ZW5kcyBBYnN0cmFjdFByb2R1Y3REZXJpdmF0aW9uIAogICAgaW1wbGVt\nZW50cyBPcGVuSlBBUHJvZHVjdERlcml2YXRpb24gewogICAgCiAgICAKICAg\nIHB1YmxpYyB2b2lkIHB1dEJyb2tlckZhY3RvcnlBbGlhc2VzKE1hcCBtKSB7\nCiAgICB9CgogICAgcHVibGljIGludCBnZXRUeXBlKCkgewogICAgICAgIHJl\ndHVybiBUWVBFX1NQRUNfU1RPUkU7CiAgICB9CgogICAgQE92ZXJyaWRlCiAg\nICBwdWJsaWMgdm9pZCB2YWxpZGF0ZSgpCiAgICAgICAgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgLy8gbWFrZSBzdXJlIEpQQSBpcyBhdmFpbGFibGUK\nICAgICAgICBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZChKMkRvUHJp\ndkhlbHBlci5nZXRDbGFzc0xvYWRlckFjdGlvbigKICAgICAgICAgICAgamF2\nYXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3RvcnkuY2xhc3MpKTsK\nICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBib29sZWFuIGJlZm9y\nZUNvbmZpZ3VyYXRpb25Mb2FkKENvbmZpZ3VyYXRpb24gYykgewogICAgICAg\nIGlmIChjIGluc3RhbmNlb2YgT3BlbkpQQUNvbmZpZ3VyYXRpb24pIHsKICAg\nICAgICAgICAgKChPcGVuSlBBQ29uZmlndXJhdGlvbikgYykuZ2V0U3RvcmVG\nYWNhZGVUeXBlUmVnaXN0cnkoKS4KICAgICAgICAgICAgICAgIHJlZ2lzdGVy\nSW1wbGVtZW50YXRpb24oRmV0Y2hQbGFuLmNsYXNzLCBKREJDU3RvcmVNYW5h\nZ2VyLmNsYXNzLCAKICAgICAgICAgICAgICAgIEpEQkNGZXRjaFBsYW5JbXBs\nLmNsYXNzKTsKICAgICAgICB9CiAgICAgICAgaWYgKCEoYyBpbnN0YW5jZW9m\nIEpEQkNDb25maWd1cmF0aW9uSW1wbCkpCiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKCiAgICAgICAgSkRCQ0NvbmZpZ3VyYXRpb25JbXBsIGNvbmYgPSAo\nSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKSBjOwogICAgICAgIFNwZWNpZmljYXRp\nb24ganBhID0gUGVyc2lzdGVuY2VQcm9kdWN0RGVyaXZhdGlvbi5TUEVDX0pQ\nQTsKICAgICAgICBTcGVjaWZpY2F0aW9uIGVqYiA9IFBlcnNpc3RlbmNlUHJv\nZHVjdERlcml2YXRpb24uQUxJQVNfRUpCOwoKICAgICAgICBjb25mLm1ldGFG\nYWN0b3J5UGx1Z2luLnNldEFsaWFzKGVqYi5nZXROYW1lKCksCiAgICAgICAg\nICAgIFBlcnNpc3RlbmNlTWFwcGluZ0ZhY3RvcnkuY2xhc3MuZ2V0TmFtZSgp\nKTsKICAgICAgICBjb25mLm1ldGFGYWN0b3J5UGx1Z2luLnNldEFsaWFzKGpw\nYS5nZXROYW1lKCksCiAgICAgICAgICAgIFBlcnNpc3RlbmNlTWFwcGluZ0Zh\nY3RvcnkuY2xhc3MuZ2V0TmFtZSgpKTsKCiAgICAgICAgY29uZi5tYXBwaW5n\nRmFjdG9yeVBsdWdpbi5zZXRBbGlhcyhlamIuZ2V0TmFtZSgpLAogICAgICAg\nICAgICBQZXJzaXN0ZW5jZU1hcHBpbmdGYWN0b3J5LmNsYXNzLmdldE5hbWUo\nKSk7CiAgICAgICAgY29uZi5tYXBwaW5nRmFjdG9yeVBsdWdpbi5zZXRBbGlh\ncyhqcGEuZ2V0TmFtZSgpLAogICAgICAgICAgICBQZXJzaXN0ZW5jZU1hcHBp\nbmdGYWN0b3J5LmNsYXNzLmdldE5hbWUoKSk7CgogICAgICAgIGNvbmYubWFw\ncGluZ0RlZmF1bHRzUGx1Z2luLnNldEFsaWFzKGVqYi5nZXROYW1lKCksCiAg\nICAgICAgICAgIFBlcnNpc3RlbmNlTWFwcGluZ0RlZmF1bHRzLmNsYXNzLmdl\ndE5hbWUoKSk7CiAgICAgICAgY29uZi5tYXBwaW5nRGVmYXVsdHNQbHVnaW4u\nc2V0QWxpYXMoanBhLmdldE5hbWUoKSwKICAgICAgICAgICAgUGVyc2lzdGVu\nY2VNYXBwaW5nRGVmYXVsdHMuY2xhc3MuZ2V0TmFtZSgpKTsKICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBi\nb29sZWFuIGFmdGVyU3BlY2lmaWNhdGlvblNldChDb25maWd1cmF0aW9uIGMp\nIHsKICAgICAgICBpZiAoIShjIGluc3RhbmNlb2YgSkRCQ0NvbmZpZ3VyYXRp\nb25JbXBsKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIEpE\nQkNDb25maWd1cmF0aW9uSW1wbCBjb25mID0gKEpEQkNDb25maWd1cmF0aW9u\nSW1wbCkgYzsKICAgICAgICBTcGVjaWZpY2F0aW9uIGpwYSA9IFBlcnNpc3Rl\nbmNlUHJvZHVjdERlcml2YXRpb24uU1BFQ19KUEE7CiAgICAgICAgaWYgKCFq\ncGEuZ2V0TmFtZSgpLmVxdWFscyhjb25mLmdldFNwZWNpZmljYXRpb25JbnN0\nYW5jZSgpLmdldE5hbWUoKSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsK\nICAgICAgICAKICAgICAgICBjb25mLm1hcHBpbmdEZWZhdWx0c1BsdWdpbi5z\nZXREZWZhdWx0KGpwYS5nZXROYW1lKCkpOwogICAgICAgIGNvbmYubWFwcGlu\nZ0RlZmF1bHRzUGx1Z2luLnNldFN0cmluZyhqcGEuZ2V0TmFtZSgpKTsKICAg\nICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gCiAgICAKICAgIC8qKgogICAgICog\nSGludCBrZXlzIGNvcnJlc3BvbmQgdG8gc29tZSAobm90IGFsbCkgYmVhbi1z\ndHlsZSBtdXRhYmxlIHByb3BlcnR5IG5hbWUgaW4gSkRCQ0ZldGNoQ29uZmln\ndXJhdGlvbi4KICAgICAqIFRoZSBmdWxseSBxdWFsaWZpZWQga2V5IGlzIHBy\nZWZpeGVkIHdpdGggPGNvZGU+b3BlbmpwYS5qZGJjPC9jb2RlPi4KICAgICAq\nLwogICAgcHJpdmF0ZSBzdGF0aWMgU2V0PFN0cmluZz4gX2hpbnRzID0gbmV3\nIEhhc2hTZXQ8U3RyaW5nPigpOwogICAgc3RhdGljIHsKICAgICAgICBfaGlu\ndHMuYWRkKCJvcGVuanBhLkZldGNoUGxhbi5FYWdlckZldGNoTW9kZSIpOwog\nICAgICAgIF9oaW50cy5hZGQoIm9wZW5qcGEuRmV0Y2hQbGFuLkZldGNoRGly\nZWN0aW9uIik7CiAgICAgICAgX2hpbnRzLmFkZCgib3BlbmpwYS5GZXRjaFBs\nYW4uVHJhbnNhY3Rpb25Jc29sYXRpb24iKTsKICAgICAgICBfaGludHMuYWRk\nKCJvcGVuanBhLkZldGNoUGxhbi5Kb2luU3ludGF4Iik7CiAgICAgICAgX2hp\nbnRzLmFkZCgib3BlbmpwYS5GZXRjaFBsYW4uTFJTU2l6ZSIpOwogICAgICAg\nIF9oaW50cy5hZGQoIm9wZW5qcGEuRmV0Y2hQbGFuLlJlc3VsdFNldFR5cGUi\nKTsKICAgICAgICBfaGludHMuYWRkKCJvcGVuanBhLkZldGNoUGxhbi5TdWJj\nbGFzc0ZldGNoTW9kZSIpOwogICAgICAgIAogICAgICAgIF9oaW50cy5hZGQo\nTXlTUUxEaWN0aW9uYXJ5LlNFTEVDVF9ISU5UKTsKICAgICAgICBfaGludHMu\nYWRkKE9yYWNsZURpY3Rpb25hcnkuU0VMRUNUX0hJTlQpOwogICAgICAgIAog\nICAgICAgIF9oaW50cyA9IENvbGxlY3Rpb25zLnVubW9kaWZpYWJsZVNldChf\naGludHMpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIFNldDxT\ndHJpbmc+IGdldFN1cHBvcnRlZFF1ZXJ5SGludHMoKSB7CiAgICAgICAgcmV0\ndXJuIF9oaW50czsKICAgIH0KCn0K\n","encoding":"base64"}

