{"sha":"49193d8a59431244526c486d5fd3fd6204972fa2","node_id":"MDQ6QmxvYjIwNjM2NDo0OTE5M2Q4YTU5NDMxMjQ0NTI2YzQ4NmQ1ZmQzZmQ2MjA0OTcyZmEy","size":2854,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/49193d8a59431244526c486d5fd3fd6204972fa2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7CgppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5GZXRjaENvbmZpZ3VyYXRpb247CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudW07Cgov\nKioKICogVHlwZSBvZiByZXN1bHQgc2V0IHRvIHVzZS4KICoKICogQHNpbmNl\nIDEuMC4wCiAqIEBwdWJsaXNoZWQKICovCnB1YmxpYyBlbnVtIFJlc3VsdFNl\ndFR5cGUgaW1wbGVtZW50cyBPcGVuSlBBRW51bTxSZXN1bHRTZXRUeXBlPnsK\nICAgIEZPUldBUkRfT05MWShSZXN1bHRTZXQuVFlQRV9GT1JXQVJEX09OTFkp\nLAogICAgU0NST0xMX0lOU0VOU0lUSVZFKFJlc3VsdFNldC5UWVBFX1NDUk9M\nTF9JTlNFTlNJVElWRSksCiAgICBTQ1JPTExfU0VOU0lUSVZFKFJlc3VsdFNl\ndC5UWVBFX1NDUk9MTF9TRU5TSVRJVkUpOwoKICAgIHByaXZhdGUgZmluYWwg\naW50IHJlc3VsdFNldENvbnN0YW50OwoKICAgIHByaXZhdGUgUmVzdWx0U2V0\nVHlwZShpbnQgdmFsdWUpIHsKICAgICAgICByZXN1bHRTZXRDb25zdGFudCA9\nIHZhbHVlOwogICAgfQoKICAgIHB1YmxpYyBpbnQgdG9LZXJuZWxDb25zdGFu\ndCgpIHsKICAgICAgICByZXR1cm4gcmVzdWx0U2V0Q29uc3RhbnQ7CiAgICB9\nCgogICAgc3RhdGljIFJlc3VsdFNldFR5cGUgZnJvbUtlcm5lbENvbnN0YW50\nKGludCBrZXJuZWxDb25zdGFudCkgewogICAgICAgIHN3aXRjaCAoa2VybmVs\nQ29uc3RhbnQpIHsKICAgICAgICAgICAgY2FzZSBSZXN1bHRTZXQuVFlQRV9G\nT1JXQVJEX09OTFk6CiAgICAgICAgICAgICAgICByZXR1cm4gRk9SV0FSRF9P\nTkxZOwoKICAgICAgICAgICAgY2FzZSBSZXN1bHRTZXQuVFlQRV9TQ1JPTExf\nSU5TRU5TSVRJVkU6CiAgICAgICAgICAgICAgICByZXR1cm4gU0NST0xMX0lO\nU0VOU0lUSVZFOwoKICAgICAgICAgICAgY2FzZSBSZXN1bHRTZXQuVFlQRV9T\nQ1JPTExfU0VOU0lUSVZFOgogICAgICAgICAgICAgICAgcmV0dXJuIFNDUk9M\nTF9TRU5TSVRJVkU7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAg\nICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihrZXJu\nZWxDb25zdGFudCArICIiKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIHB1\nYmxpYyBpbnQgY29udmVydFRvS2VybmVsQ29uc3RhbnQoU3RyaW5nIHMpIHsK\nICAgICAgICByZXR1cm4gUmVzdWx0U2V0VHlwZS50b0tlcm5lbENvbnN0YW50\nRnJvbVN0cmluZyhzKTsKICAgIH0KICAgIAogICAgcHVibGljIGludCBjb252\nZXJ0VG9LZXJuZWxDb25zdGFudChpbnQgaSkgewogICAgICAgIGlmIChpID09\nIEZldGNoQ29uZmlndXJhdGlvbi5ERUZBVUxUKQogICAgICAgICAgICByZXR1\ncm4gaTsKICAgICAgICBmb3IgKFJlc3VsdFNldFR5cGUgbGV2ZWwgOiBSZXN1\nbHRTZXRUeXBlLnZhbHVlcygpKSB7CiAgICAgICAgICAgIGlmIChsZXZlbC5y\nZXN1bHRTZXRDb25zdGFudCA9PSBpKQogICAgICAgICAgICAgICAgcmV0dXJu\nIGk7CiAgICAgICAgfQogICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1l\nbnRFeGNlcHRpb24oaSArICIgaXMgaW52YWxpZCB2YWx1ZSBmb3IgUmVzdWx0\nU2V0VHlwZSIpOwogICAgfQogICAgCiAgICBwdWJsaWMgc3RhdGljIGludCB0\nb0tlcm5lbENvbnN0YW50RnJvbVN0cmluZyhTdHJpbmcgcykgewogICAgICAg\nIGZvciAoUmVzdWx0U2V0VHlwZSBsZXZlbCA6IFJlc3VsdFNldFR5cGUudmFs\ndWVzKCkpIHsKICAgICAgICAgICAgaWYgKGxldmVsLm5hbWUoKS5lcXVhbHNJ\nZ25vcmVDYXNlKHMpIHx8IFN0cmluZy52YWx1ZU9mKGxldmVsLnRvS2VybmVs\nQ29uc3RhbnQoKSkuZXF1YWxzKHMpKQogICAgICAgICAgICAgICAgcmV0dXJu\nIGxldmVsLnRvS2VybmVsQ29uc3RhbnQoKTsKICAgICAgICB9CiAgICAgICAg\ndGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihzICsgIiBpcyBu\nb3QgYSB2YWxpZCBuYW1lIGZvciAiICsgUmVzdWx0U2V0VHlwZS5jbGFzcy5n\nZXROYW1lKCkpOwogICAgfQp9Cg==\n","encoding":"base64"}

