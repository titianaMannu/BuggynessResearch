{"sha":"a50d73cc5348498c0a9ddea05849bdbca76c49f0","node_id":"MDQ6QmxvYjIwNjM2NDphNTBkNzNjYzUzNDg0OThjMGE5ZGRlYTA1ODQ5YmRiY2E3NmM0OWYw","size":5882,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a50d73cc5348498c0a9ddea05849bdbca76c49f0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5hbm5vdGF0aW9u\nczsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5T\nZXQ7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RD\nYXNlOwoKLyoqCiAqIFRlc3QgZm9yIFBlcnNpc3RlbnRDb2xsZWN0aW9uIEFu\nbm90YXRpb24KICogCiAqIEBhdXRob3IgQWxiZXJ0IExlZQogKi8KcHVibGlj\nIGNsYXNzIFRlc3RQZXJzaXN0ZW50Q29sbGVjdGlvbiBleHRlbmRzIFNpbmds\nZUVNRlRlc3RDYXNlIHsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAg\nICAgICBzZXRVcChQQ29sbF9FbnRpdHlBLmNsYXNzLCBQQ29sbF9FbWJlZEIu\nY2xhc3MsIFBDb2xsX0VudGl0eUMuY2xhc3MsCiAgICAgICAgICAgICAgICBQ\nQ29sbF9FbnRpdHlBMS5jbGFzcywgUENvbGxfRW50aXR5Qi5jbGFzcywgUENv\nbGxfRW50aXR5U3RyaW5nRWFnZXIuY2xhc3MsCiAgICAgICAgICAgICAgICBQ\nQ29sbF9FbnRpdHlTdHJpbmdMYXp5LmNsYXNzLCBDTEVBUl9UQUJMRVMpOwog\nICAgfQoKICAgIEBTdXBwcmVzc1dhcm5pbmdzKCJ1bmNoZWNrZWQiKQogICAg\ncHVibGljIHZvaWQgdGVzdFBlcnNpc3RlbnRDb2xsZWN0aW9uT2ZFbWJlZGRh\nYmxlcygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKCiAgICAgICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKCiAgICAgICAgICAg\nIFBDb2xsX0VudGl0eUMgYyA9IG5ldyBQQ29sbF9FbnRpdHlDKCk7CiAgICAg\nICAgICAgIGMuc2V0SWQoMTAxKTsKCiAgICAgICAgICAgIFBDb2xsX0VtYmVk\nQiBiMDEgPSBuZXcgUENvbGxfRW1iZWRCKCk7CiAgICAgICAgICAgIGIwMS5z\nZXROYW1lKCJiMDEiKTsKICAgICAgICAgICAgYjAxLnNldE0yb0MoYyk7Cgog\nICAgICAgICAgICBQQ29sbF9FbnRpdHlBIGEgPSBuZXcgUENvbGxfRW50aXR5\nQSgpOwogICAgICAgICAgICBhLnNldElkKDEpOwogICAgICAgICAgICBhLmdl\ndEVtYmVkQ29sbGVjdGlvbigpLmFkZChiMDEpOwogICAgICAgICAgICBlbS5w\nZXJzaXN0KGEpOwogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNv\nbW1pdCgpOwogICAgICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAgICAgICAg\nZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgICAgICBR\ndWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCBvIEZST00gUENvbGxf\nRW50aXR5QSBvIik7IAogICAgICAgICAgICBMaXN0PFBDb2xsX0VudGl0eUE+\nIG9MaXN0ID0gKExpc3Q8UENvbGxfRW50aXR5QT4pIHEuZ2V0UmVzdWx0TGlz\ndCgpOwogICAgICAgICAgICBQQ29sbF9FbnRpdHlBIGQxID0gb0xpc3QuZ2V0\nKDApOwogICAgICAgICAgICAKICAgICAgICAgICAgU2V0PFBDb2xsX0VtYmVk\nQj4gYjFzID0gZDEuZ2V0RW1iZWRDb2xsZWN0aW9uKCk7CgogICAgICAgICAg\nICBQQ29sbF9FbWJlZEIgYjEgPSBiMXMuaXRlcmF0b3IoKS5uZXh0KCk7CiAg\nICAgICAgICAgIFBDb2xsX0VudGl0eUMgYzEgPSBiMS5nZXRNMm9DKCk7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscygiYjAxIiwgYjEuZ2V0TmFtZSgpKTsK\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDEwMSwgYzEuZ2V0SWQoKSk7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscygxLCBkMS5nZXRJZCgpKTsKICAgICAg\nICAgICAgZW0uY2xvc2UoKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUg\ndCkgewogICAgICAgICAgICBmYWlsKHQuZ2V0TWVzc2FnZSgpKTsKICAgICAg\nICB9CiAgICB9CgogICAgQFN1cHByZXNzV2FybmluZ3MoInVuY2hlY2tlZCIp\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0UGVyc2lzdGVudENvbGxlY3Rpb25PZkVu\ndGl0aWVzKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEVudGl0eU1h\nbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwoKICAgICAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwoKICAgICAgICAg\nICAgUENvbGxfRW50aXR5QyBjID0gbmV3IFBDb2xsX0VudGl0eUMoKTsKICAg\nICAgICAgICAgYy5zZXRJZCgxMDEpOwoKICAgICAgICAgICAgUENvbGxfRW50\naXR5QiBiMDEgPSBuZXcgUENvbGxfRW50aXR5QigpOwogICAgICAgICAgICBi\nMDEuc2V0TmFtZSgiYjAxIik7CiAgICAgICAgICAgIGIwMS5zZXRNMm9DKGMp\nOwoKICAgICAgICAgICAgUENvbGxfRW50aXR5QTEgYSA9IG5ldyBQQ29sbF9F\nbnRpdHlBMSgpOwogICAgICAgICAgICBhLnNldElkKDEpOwogICAgICAgICAg\nICBhLmdldEVtYmVkQ29sbGVjdGlvbigpLmFkZChiMDEpOwogICAgICAgICAg\nICBlbS5wZXJzaXN0KGEpOwogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmNvbW1pdCgpOwogICAgICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAg\nICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAg\nICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCBvIEZST00g\nUENvbGxfRW50aXR5QTEgbyIpOyAKICAgICAgICAgICAgTGlzdDxQQ29sbF9F\nbnRpdHlBMT4gb0xpc3QgPQogICAgICAgICAgICAgICAgKExpc3Q8UENvbGxf\nRW50aXR5QTE+KSBxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICAgICAgUENv\nbGxfRW50aXR5QTEgYTEgPSBvTGlzdC5nZXQoMCk7CiAgICAgICAgICAgIAog\nICAgICAgICAgICBTZXQ8UENvbGxfRW50aXR5Qj4gYjFzID0gYTEuZ2V0RW1i\nZWRDb2xsZWN0aW9uKCk7CgogICAgICAgICAgICBQQ29sbF9FbnRpdHlCIGIx\nID0gYjFzLml0ZXJhdG9yKCkubmV4dCgpOwogICAgICAgICAgICBQQ29sbF9F\nbnRpdHlDIGMxID0gYjEuZ2V0TTJvQygpOwogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoImIwMSIsIGIxLmdldE5hbWUoKSk7CiAgICAgICAgICAgIGFzc2Vy\ndEVxdWFscygxMDEsIGMxLmdldElkKCkpOwogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoMSwgYTEuZ2V0SWQoKSk7CiAgICAgICAgICAgIGVtLmNsb3NlKCk7\nCiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAg\nZmFpbCh0LmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfSAgICAKCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0UGVyc2lzdGVudENvbGxlY3Rpb25TdHJpbmdz\nTGF6eSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKCiAgICAgICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKCiAgICAgICAgICAg\nIFBDb2xsX0VudGl0eVN0cmluZ0xhenkgYSA9IG5ldyBQQ29sbF9FbnRpdHlT\ndHJpbmdMYXp5KCk7CiAgICAgICAgICAgIGEuc2V0SWQoMSk7CiAgICAgICAg\nICAgIGEuZ2V0Q29sbGVjdGlvbk9mU3RyaW5ncygpLmFkZCgib25lIik7CiAg\nICAgICAgICAgIGVtLnBlcnNpc3QoYSk7CiAgICAgICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgICAgIGVtLmNsb3NlKCk7\nCiAgICAgICAgICAgIAogICAgICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRp\ndHlNYW5hZ2VyKCk7CiAgICAgICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVR\ndWVyeSgiU0VMRUNUIG8gRlJPTSBQQ29sbF9FbnRpdHlTdHJpbmdMYXp5IG8i\nKTsgCiAgICAgICAgICAgIFBDb2xsX0VudGl0eVN0cmluZ0xhenkgYTEgPSAo\nUENvbGxfRW50aXR5U3RyaW5nTGF6eSlxLmdldFNpbmdsZVJlc3VsdCgpOwog\nICAgICAgICAgICAKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGExLmdl\ndENvbGxlY3Rpb25PZlN0cmluZ3MoKS5zaXplKCkpOwogICAgICAgICAgICBh\nc3NlcnRFcXVhbHMoIm9uZSIsIGExLmdldENvbGxlY3Rpb25PZlN0cmluZ3Mo\nKS50b0FycmF5KClbMF0pOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMSwg\nYTEuZ2V0SWQoKSk7CiAgICAgICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAg\nfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgZmFpbCh0Lmdl\ndE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfSAgICAKCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0UGVyc2lzdGVudENvbGxlY3Rpb25TdHJpbmdzRWFnZXIoKSB7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9\nIGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CgogICAgICAgICAgICBQQ29sbF9F\nbnRpdHlTdHJpbmdFYWdlciBhID0gbmV3IFBDb2xsX0VudGl0eVN0cmluZ0Vh\nZ2VyKCk7CiAgICAgICAgICAgIGEuc2V0SWQoMSk7CiAgICAgICAgICAgIGEu\nZ2V0Q29sbGVjdGlvbk9mU3RyaW5ncygpLmFkZCgib25lIik7CiAgICAgICAg\nICAgIGVtLnBlcnNpc3QoYSk7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuY29tbWl0KCk7CiAgICAgICAgICAgIGVtLmNsb3NlKCk7CiAgICAg\nICAgICAgIAogICAgICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5h\nZ2VyKCk7CiAgICAgICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgi\nU0VMRUNUIG8gRlJPTSBQQ29sbF9FbnRpdHlTdHJpbmdFYWdlciBvIik7IAog\nICAgICAgICAgICBQQ29sbF9FbnRpdHlTdHJpbmdFYWdlciBhMSA9IChQQ29s\nbF9FbnRpdHlTdHJpbmdFYWdlcilxLmdldFNpbmdsZVJlc3VsdCgpOwogICAg\nICAgICAgICAKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGExLmdldENv\nbGxlY3Rpb25PZlN0cmluZ3MoKS5zaXplKCkpOwogICAgICAgICAgICBhc3Nl\ncnRFcXVhbHMoIm9uZSIsIGExLmdldENvbGxlY3Rpb25PZlN0cmluZ3MoKS50\nb0FycmF5KClbMF0pOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMSwgYTEu\nZ2V0SWQoKSk7CiAgICAgICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgfSBj\nYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgZmFpbCh0LmdldE1l\nc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfSAgICAKfQo=\n","encoding":"base64"}

