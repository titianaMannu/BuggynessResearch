{"sha":"68f1305deac71327e4cbf985f9ab8fafc9f0d198","node_id":"MDQ6QmxvYjIwNjM2NDo2OGYxMzA1ZGVhYzcxMzI3ZTRjYmY5ODVmOWFiOGZhZmM5ZjBkMTk4","size":4093,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/68f1305deac71327e4cbf985f9ab8fafc9f0d198","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jYWNoZS5qcGE7\nCgppbXBvcnQgamF2YS5sYW5nLnJlZmxlY3QuTW9kaWZpZXI7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLmpkYmMuSkRCQ0xpc3RlbmVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyRmFjdG9yeVNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5PcGVuSlBBUGVyc2lzdGVuY2U7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY2FjaGUuanBhLm1vZGVsLkNhY2hl\nRW50aXR5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmNhY2hlLmpwYS5tb2RlbC5DYWNoZWFibGVFbnRpdHk7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY2FjaGUuanBhLm1vZGVsLk5l\nZ2F0ZWRDYWNoYWJsZUVudGl0eTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5jYWNoZS5qcGEubW9kZWwuTmVnYXRlZFVuY2FjaGVh\nYmxlRW50aXR5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmNhY2hlLmpwYS5tb2RlbC5VbmNhY2hlYWJsZUVudGl0eTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jYWNoZS5qcGEubW9k\nZWwuVW5zcGVjaWZpZWRFbnRpdHk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuY2FjaGUuanBhLm1vZGVsLlhtbENhY2hlYWJsZUVu\ndGl0eTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5j\nYWNoZS5qcGEubW9kZWwuWG1sVW5jYWNoZWFibGVFbnRpdHk7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5BYnN0cmFjdFBl\ncnNpc3RlbmNlVGVzdENhc2U7CgpwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQWJz\ndHJhY3RDYWNoZVRlc3RDYXNlIGV4dGVuZHMgQWJzdHJhY3RQZXJzaXN0ZW5j\nZVRlc3RDYXNlIHsKICAgIHByb3RlY3RlZCBmaW5hbCBTdHJpbmcgUkVUUklF\nVkVfTU9ERV9QUk9QID0gImphdmF4LnBlcnNpc3RlbmNlLmNhY2hlLnJldHJp\nZXZlTW9kZSI7CiAgICBwcm90ZWN0ZWQgZmluYWwgU3RyaW5nIFNUT1JFX01P\nREVfUFJPUCA9ICJqYXZheC5wZXJzaXN0ZW5jZS5jYWNoZS5zdG9yZU1vZGUi\nOwogICAgCiAgICBhYnN0cmFjdCBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnlTUEkgZ2V0RW50aXR5TWFuYWdlckZhY3RvcnkoKTsKICAgIGFic3RyYWN0\nIEpEQkNMaXN0ZW5lciBnZXRMaXN0ZW5lcigpOwoKICAgIHByb3RlY3RlZCBz\ndGF0aWMgQ2xhc3M8Pz5bXSBwZXJzaXN0ZW50VHlwZXMgPQogICAgICAgIHsg\nQ2FjaGVhYmxlRW50aXR5LmNsYXNzLCBVbmNhY2hlYWJsZUVudGl0eS5jbGFz\ncywgVW5zcGVjaWZpZWRFbnRpdHkuY2xhc3MsIE5lZ2F0ZWRDYWNoYWJsZUVu\ndGl0eS5jbGFzcywKICAgICAgICAgICAgTmVnYXRlZFVuY2FjaGVhYmxlRW50\naXR5LmNsYXNzLCBYbWxDYWNoZWFibGVFbnRpdHkuY2xhc3MsIFhtbFVuY2Fj\naGVhYmxlRW50aXR5LmNsYXNzIH07CgogICAgcHVibGljIHZvaWQgcG9wdWxh\ndGUoKSB0aHJvd3MgSWxsZWdhbEFjY2Vzc0V4Y2VwdGlvbiwgSW5zdGFudGlh\ndGlvbkV4Y2VwdGlvbiB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGdl\ndEVudGl0eU1hbmFnZXJGYWN0b3J5KCkuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAg\nICBmb3IgKENsYXNzPD8+IGNsc3MgOiBwZXJzaXN0ZW50VHlwZXMpIHsKICAg\nICAgICAgICAgaWYgKCFNb2RpZmllci5pc0Fic3RyYWN0KGNsc3MuZ2V0TW9k\naWZpZXJzKCkpKSB7CiAgICAgICAgICAgICAgICBDYWNoZUVudGl0eSBjZSA9\nIChDYWNoZUVudGl0eSkgY2xzcy5uZXdJbnN0YW5jZSgpOwogICAgICAgICAg\nICAgICAgY2Uuc2V0SWQoMSk7CiAgICAgICAgICAgICAgICBlbS5wZXJzaXN0\nKGNlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7CiAg\nICB9CgogICAgcHVibGljIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQ\nSSBjcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeShTdHJpbmcgcHVOYW1lKSB7\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJIGVtZiA9\nCiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkp\nIE9wZW5KUEFQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9y\neShwdU5hbWUsCiAgICAgICAgICAgICAgICAiTUVUQS1JTkYvY2FjaGluZy1w\nZXJzaXN0ZW5jZS54bWwiLCBnZXRQcm9wZXJ0aWVzTWFwKCJvcGVuanBhLkRh\ndGFDYWNoZSIsICJ0cnVlIiwKICAgICAgICAgICAgICAgICAgICAib3Blbmpw\nYS5RdWVyeUNhY2hlIiwgInRydWUiLAogICAgICAgICAgICAgICAgICAgICJv\ncGVuanBhLlJlbW90ZUNvbW1pdFByb3ZpZGVyIiwgInNqdm0iLCBwZXJzaXN0\nZW50VHlwZXMsIAogICAgICAgICAgICAgICAgICAgICJvcGVuanBhLmpkYmMu\nSkRCQ0xpc3RlbmVycyIsIG5ldyBKREJDTGlzdGVuZXIgW10geyBnZXRMaXN0\nZW5lcigpIH0gKSk7CiAgICAgICAgcmV0dXJuIGVtZjsKICAgIH0KCiAgICBA\nT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgc3VwZXIuc2V0VXAoKTsKICAgICAgICBjbGVhbkRh\ndGFiYXNlKCk7CiAgICAgICAgcG9wdWxhdGUoKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgY2xlYW5EYXRhYmFzZSgpIHRocm93cyBFeGNlcHRpb24g\newogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBnZXRFbnRpdHlNYW5hZ2Vy\nRmFjdG9yeSgpLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZm9yIChDbGFzczw/\nPiBjbHNzIDogcGVyc2lzdGVudFR5cGVzKSB7CiAgICAgICAgICAgIGlmICgh\nTW9kaWZpZXIuaXNBYnN0cmFjdChjbHNzLmdldE1vZGlmaWVycygpKSkgewog\nICAgICAgICAgICAgICAgZW0uY3JlYXRlUXVlcnkoIkRlbGV0ZSBmcm9tICIg\nKyBjbHNzLmdldFNpbXBsZU5hbWUoKSkuZXhlY3V0ZVVwZGF0ZSgpOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCn0KCg==\n","encoding":"base64"}

