{"sha":"31d40d621d1cd5f0ad7eb095f854051a293dafb1","node_id":"MDQ6QmxvYjIwNjM2NDozMWQ0MGQ2MjFkMWNkNWYwYWQ3ZWIwOTVmODU0MDUxYTI5M2RhZmIx","size":91417,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/31d40d621d1cd5f0ad7eb095f854051a293dafb1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jcml0ZXJpYTsK\nCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7\nCmltcG9ydCBqYXZhLnV0aWwuU2V0OwoKaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLlBhcmFtZXRlcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuVHVwbGU7CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5Dcml0ZXJpYVF1ZXJ5OwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuRXhwcmVzc2lvbjsKaW1wb3J0\nIGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkpvaW47CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5Kb2luVHlwZTsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLmNyaXRlcmlhLkxpc3RKb2luOwppbXBvcnQgamF2YXgu\ncGVyc2lzdGVuY2UuY3JpdGVyaWEuTWFwSm9pbjsKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLmNyaXRlcmlhLlBhcmFtZXRlckV4cHJlc3Npb247CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5QcmVkaWNhdGU7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5Sb290OwppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuU3VicXVlcnk7CgppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkNvbXBhbnkxOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkNv\nbXBhbnkxXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5lbWJlZC5Db21wYW55MjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5lbWJlZC5Db21wYW55Ml87CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRGVwYXJ0bWVudDE7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRGVwYXJ0\nbWVudDFfOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmVtYmVkLkRlcGFydG1lbnQyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmVtYmVkLkRlcGFydG1lbnQzOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkRpdmlzaW9uOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVtYmVk\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVk\nLkVtYmVkXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5lbWJlZC5FbWJlZF9Db2xsX0VtYmVkOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVtYmVkX0NvbGxfRW1iZWRfOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVt\nYmVkX0NvbGxfSW50ZWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5lbWJlZC5FbWJlZF9Db2xsX0ludGVnZXJfOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVtYmVkX0Vt\nYmVkOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVt\nYmVkLkVtYmVkX0VtYmVkXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5lbWJlZC5FbWJlZF9FbWJlZF9Ub01hbnk7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1iZWRfRW1i\nZWRfVG9NYW55XzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5lbWJlZC5FbWJlZF9NYXBwZWRUb09uZTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbWJlZF9NYXBwZWRUb09u\nZV87CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1i\nZWQuRW1iZWRfVG9NYW55OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLmVtYmVkLkVtYmVkX1RvTWFueV87CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1iZWRfVG9PbmU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1i\nZWRfVG9PbmVfOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmVtYmVkLkVtcGxveWVlMTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbXBsb3llZTI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1wbG95ZWUzOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZDsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRf\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVk\nLkVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbnRpdHlBX0NvbGxfRW1iZWRf\nVG9PbmVfOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmVtYmVkLkVudGl0eUFfQ29sbF9TdHJpbmc7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50aXR5QV9Db2xsX1N0cmlu\nZ187CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1i\nZWQuRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfQ29s\nbF9FbWJlZF87CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuZW1iZWQuRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50aXR5QV9F\nbWJlZF9Db2xsX0ludGVnZXJfOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfRW1iZWQ7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50aXR5\nQV9FbWJlZF9FbWJlZF87CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuZW1iZWQuRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnk7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50\naXR5QV9FbWJlZF9FbWJlZF9Ub01hbnlfOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfTWFwcGVk\nVG9PbmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nZW1iZWQuRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZV87CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50aXR5QV9FbWJl\nZF9Ub01hbnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuZW1iZWQuRW50aXR5QV9FbWJlZF9Ub01hbnlfOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRf\nVG9PbmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nZW1iZWQuRW50aXR5QV9FbWJlZF9Ub09uZV87CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50aXR5QjE7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50aXR5QjFf\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVk\nLkl0ZW0xOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmVtYmVkLkl0ZW0xXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5lbWJlZC5JdGVtMjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5lbWJlZC5JdGVtMl87CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuSXRlbTM7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuSXRlbTNfOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLlZpY2VQ\ncmVzaWRlbnQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuZW1iZWQuVmljZVByZXNpZGVudF87CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UudGVzdC5BbGxvd0ZhaWx1cmU7CgoKcHVibGlj\nIGNsYXNzIFRlc3RFbWJlZGRhYmxlQ3JpdGVyaWEgZXh0ZW5kcyBFbWJlZGRh\nYmxlRG9tYWluVGVzdENhc2UgewogICAgcHVibGljIHZvaWQgdGVzdEVtYmVk\nZGFibGVRdWVyeTEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGUgZnJvbSBFbnRpdHlBX0NvbGxfU3RyaW5nIGEsIGluIChhLm5pY2tOYW1l\ncykgZSBvcmRlciBieSBhLmlkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFN0\ncmluZz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KFN0cmluZy5jbGFzcyk7CiAgICAg\nICAgUm9vdDxFbnRpdHlBX0NvbGxfU3RyaW5nPiBhID0gcS5mcm9tKEVudGl0\neUFfQ29sbF9TdHJpbmcuY2xhc3MpOwogICAgICAgIEpvaW48RW50aXR5QV9D\nb2xsX1N0cmluZywgU3RyaW5nPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9T\ndHJpbmdfLm5pY2tOYW1lcyk7CiAgICAgICAgcS5zZWxlY3QoZSk7CiAgICAg\nICAgcS5vcmRlckJ5KGNiLmFzYyhhLmdldChFbnRpdHlBX0NvbGxfU3RyaW5n\nXy5pZCkpKTsKICAgICAgICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShx\nLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVk\nZGFibGVRdWVyeTMoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGUgZnJvbSBFbnRpdHlBX0NvbGxfU3RyaW5nIGEsIGluIChhLm5pY2tOYW1l\ncykgZSBvcmRlciBieSBlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFN0cmlu\nZz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KFN0cmluZy5jbGFzcyk7CiAgICAgICAg\nUm9vdDxFbnRpdHlBX0NvbGxfU3RyaW5nPiBhID0gcS5mcm9tKEVudGl0eUFf\nQ29sbF9TdHJpbmcuY2xhc3MpOwogICAgICAgIEpvaW48RW50aXR5QV9Db2xs\nX1N0cmluZywgU3RyaW5nPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9TdHJp\nbmdfLm5pY2tOYW1lcyk7CiAgICAgICAgcS5zZWxlY3QoZSk7CiAgICAgICAg\ncS5vcmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk0KCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBhIGZyb20gRW50aXR5QV9Db2xsX1N0cmluZyBhIFdI\nRVJFIGEubmlja05hbWVzIElTIEVNUFRZIG9yZGVyIGJ5IGEiOwogICAgICAg\nIENyaXRlcmlhUXVlcnk8RW50aXR5QV9Db2xsX1N0cmluZz4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KEVudGl0eUFfQ29sbF9TdHJpbmcuY2xhc3MpOwogICAgICAg\nIFJvb3Q8RW50aXR5QV9Db2xsX1N0cmluZz4gYSA9IHEuZnJvbShFbnRpdHlB\nX0NvbGxfU3RyaW5nLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhKTsKICAg\nICAgICBxLndoZXJlKGNiLmlzRW1wdHkoYS5nZXQoRW50aXR5QV9Db2xsX1N0\ncmluZ18ubmlja05hbWVzKSkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2Mo\nYSkpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpw\ncWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJs\nZVF1ZXJ5NSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBm\ncm9tIEVudGl0eUFfQ29sbF9TdHJpbmcgYSBXSEVSRSBleGlzdHMgKHNlbGVj\ndCBuIGZyb20gRW50aXR5QV9Db2xsX1N0cmluZyBhLCAiICsKICAgICAgICAg\nICAgICAgICIgaW4gKGEubmlja05hbWVzKSBuIHdoZXJlIG4gbGlrZSAnJTEn\nKSBvcmRlciBieSBhIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVudGl0eUFf\nQ29sbF9TdHJpbmc+IHEgPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlBX0NvbGxf\nU3RyaW5nLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9TdHJp\nbmc+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX1N0cmluZy5jbGFzcyk7CiAg\nICAgICAgcS5zZWxlY3QoYSk7CiAgICAgICAgU3VicXVlcnk8U2V0PiBzcSA9\nIHEuc3VicXVlcnkoU2V0LmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFf\nQ29sbF9TdHJpbmc+IGExID0gc3EuZnJvbShFbnRpdHlBX0NvbGxfU3RyaW5n\nLmNsYXNzKTsKICAgICAgICBFeHByZXNzaW9uIG4gPSBhMS5nZXQoRW50aXR5\nQV9Db2xsX1N0cmluZ18ubmlja05hbWVzKTsKICAgICAgICBuLmFsaWFzKCJu\nIik7CiAgICAgICAgc3Eud2hlcmUoY2IubGlrZShuLCAiJTEiKSk7CiAgICAg\nICAgc3Euc2VsZWN0KG4pOwogICAgICAgIHEud2hlcmUoY2IuZXhpc3RzKHNx\nKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhhKSk7CiAgICAgICAgCiAg\nICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk2KCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gRW50aXR5QV9Db2xs\nX1N0cmluZyBhIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVudGl0eUFfQ29s\nbF9TdHJpbmc+IHEgPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlBX0NvbGxfU3Ry\naW5nLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9TdHJpbmc+\nIGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX1N0cmluZy5jbGFzcyk7CiAgICAg\nICAgcS5zZWxlY3QoYSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVt\nYmVkZGFibGVRdWVyeTcoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2Vs\nZWN0IGEuZW1iZWQgZnJvbSBFbnRpdHlBX0VtYmVkX1RvT25lIGEgIjsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX1RvT25lPiBxID0gY2IuY3JlYXRl\nUXVlcnkoRW1iZWRfVG9PbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5\nQV9FbWJlZF9Ub09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1RvT25l\nLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdldChFbnRpdHlBX0VtYmVk\nX1RvT25lXy5lbWJlZCkpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RW1iZWRkYWJsZVF1ZXJ5OSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgZSBmcm9tIEVudGl0eUFfRW1iZWRfVG9PbmUgYSAiICsKICAg\nICAgICAgICAgICAgICIgam9pbiBhLmVtYmVkIGUgam9pbiBlLmIgYiB3aGVy\nZSBlLmIuaWQgPiAwIG9yZGVyIGJ5IGEuaWQiOwogICAgICAgIENyaXRlcmlh\nUXVlcnk8RW1iZWRfVG9PbmU+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9U\nb09uZS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1RvT25l\nPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfVG9PbmUuY2xhc3MpOwogICAg\nICAgIEpvaW48RW50aXR5QV9FbWJlZF9Ub09uZSwgRW1iZWRfVG9PbmU+IGUg\nPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9Ub09uZV8uZW1iZWQpOwogICAgICAg\nIEpvaW48RW1iZWRfVG9PbmUsIEVudGl0eUIxPiBiID0gZS5qb2luKEVtYmVk\nX1RvT25lXy5iKTsKICAgICAgICBxLndoZXJlKGNiLmd0KGIuZ2V0KEVudGl0\neUIxXy5pZCksIDApKTsKICAgICAgICBxLnNlbGVjdChlKTsKICAgICAgICBx\nLm9yZGVyQnkoY2IuYXNjKGEuZ2V0KEVudGl0eUFfRW1iZWRfVG9PbmVfLmlk\nKSkpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpw\ncWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJs\nZVF1ZXJ5MTEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEu\nZW1iZWQgZnJvbSBFbnRpdHlBX0VtYmVkX1RvT25lIGEgT1JERVIgQlkgYS5l\nbWJlZCI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9Ub09uZT4gcSA9\nIGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1RvT25lLmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfRW1iZWRfVG9PbmU+IGEgPSBxLmZyb20oRW50aXR5QV9F\nbWJlZF9Ub09uZS5jbGFzcyk7CiAgICAgICAgcS5zZWxlY3QoYS5nZXQoRW50\naXR5QV9FbWJlZF9Ub09uZV8uZW1iZWQpKTsKICAgICAgICBxLm9yZGVyQnko\nY2IuYXNjKGEuZ2V0KEVudGl0eUFfRW1iZWRfVG9PbmVfLmVtYmVkKSkpOwog\nICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwog\nICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5\nMTIoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEuZW1iZWQg\nZnJvbSBFbnRpdHlBX0VtYmVkX1RvT25lIGEgV0hFUkUgYS5lbWJlZC5iIElT\nIE5PVCBOVUxMICIgKwogICAgICAgICAgICAgICAgIiBPUkRFUiBCWSBhLmVt\nYmVkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX1RvT25lPiBxID0g\nY2IuY3JlYXRlUXVlcnkoRW1iZWRfVG9PbmUuY2xhc3MpOwogICAgICAgIFJv\nb3Q8RW50aXR5QV9FbWJlZF9Ub09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0Vt\nYmVkX1RvT25lLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdldChFbnRp\ndHlBX0VtYmVkX1RvT25lXy5lbWJlZCkpOwogICAgICAgIHEud2hlcmUoY2Iu\naXNOb3ROdWxsKGEuZ2V0KEVudGl0eUFfRW1iZWRfVG9PbmVfLmVtYmVkKS5n\nZXQoRW1iZWRfVG9PbmVfLmIpKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFz\nYyhhLmdldChFbnRpdHlBX0VtYmVkX1RvT25lXy5lbWJlZCkpKTsKICAgICAg\nICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEzKCkg\newogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20g\nRW50aXR5QV9FbWJlZF9Ub09uZSBhIFdIRVJFIGV4aXN0cyAiICsKICAgICAg\nICAgICAgICAgICIgKHNlbGVjdCBhIGZyb20gRW50aXR5QV9FbWJlZF9Ub09u\nZSBhIHdoZXJlIGEuZW1iZWQuYiBJUyBOT1QgTlVMTCkgIiArCiAgICAgICAg\nICAgICAgICAiIE9SREVSIEJZIGEuZW1iZWQiOwogICAgICAgIENyaXRlcmlh\nUXVlcnk8RW1iZWRfVG9PbmU+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9U\nb09uZS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1RvT25l\nPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfVG9PbmUuY2xhc3MpOwogICAg\nICAgIHEuc2VsZWN0KGEuZ2V0KEVudGl0eUFfRW1iZWRfVG9PbmVfLmVtYmVk\nKSk7CiAgICAgICAgU3VicXVlcnk8RW50aXR5QV9FbWJlZF9Ub09uZT4gc3Eg\nPSBxLnN1YnF1ZXJ5KEVudGl0eUFfRW1iZWRfVG9PbmUuY2xhc3MpOwogICAg\nICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Ub09uZT4gYTEgPSBzcS5mcm9tKEVu\ndGl0eUFfRW1iZWRfVG9PbmUuY2xhc3MpOwogICAgICAgIEV4cHJlc3Npb24g\nbiA9IGExLmdldChFbnRpdHlBX0VtYmVkX1RvT25lXy5lbWJlZCkuZ2V0KEVt\nYmVkX1RvT25lXy5iKTsKICAgICAgICBzcS53aGVyZShjYi5pc05vdE51bGwo\nbikpOwogICAgICAgIHNxLnNlbGVjdChhMSk7CiAgICAgICAgcS53aGVyZShj\nYi5leGlzdHMoc3EpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGEuZ2V0\nKEVudGl0eUFfRW1iZWRfVG9PbmVfLmVtYmVkKSkpOwogICAgICAgIAogICAg\nICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkxNCgpIHsKICAgICAgICBT\ndHJpbmcganBxbCA9ICJzZWxlY3QgYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1i\nZWRfTWFwcGVkVG9PbmUgYSAiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1i\nZWRfTWFwcGVkVG9PbmU+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9NYXBw\nZWRUb09uZS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX01h\ncHBlZFRvT25lPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfTWFwcGVkVG9P\nbmUuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGEuZ2V0KEVudGl0eUFfRW1i\nZWRfTWFwcGVkVG9PbmVfLmVtYmVkKSk7CiAgICAgICAgCiAgICAgICAgYXNz\nZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkxNSgpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJzZWxlY3QgZSBmcm9tIEVudGl0eUFfRW1iZWRfTWFwcGVk\nVG9PbmUgYSAiICsKICAgICAgICAgICAgICAgICIgam9pbiBhLmVtYmVkIGUg\nam9pbiBlLmJtIGJtIHdoZXJlIGUuYm0uaWQgPiAwIG9yZGVyIGJ5IGEuaWQi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfTWFwcGVkVG9PbmU+IHEg\nPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9NYXBwZWRUb09uZS5jbGFzcyk7CiAg\nICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lPiBhID0gcS5m\ncm9tKEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUuY2xhc3MpOwogICAgICAg\nIEpvaW48RW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZSxFbWJlZF9NYXBwZWRU\nb09uZT4gZSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lXy5l\nbWJlZCk7CiAgICAgICAgSm9pbjxFbWJlZF9NYXBwZWRUb09uZSxFbnRpdHlC\nMT4gYm0gPSBlLmpvaW4oRW1iZWRfTWFwcGVkVG9PbmVfLmJtKTsKICAgICAg\nICBxLndoZXJlKGNiLmd0KGUuZ2V0KEVtYmVkX01hcHBlZFRvT25lXy5ibSku\nZ2V0KEVudGl0eUIxXy5pZCksIDApKTsKICAgICAgICBxLm9yZGVyQnkoY2Iu\nYXNjKGEuZ2V0KEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmVfLmlkKSkpOwog\nICAgICAgIHEuc2VsZWN0KGUpOwogICAgICAgIAogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTYoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAic2VsZWN0IGEuZW1iZWQgYXMgZSBmcm9tIEVudGl0eUFfRW1iZWRf\nTWFwcGVkVG9PbmUgYSBPUkRFUiBCWSBlIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEVtYmVkX01hcHBlZFRvT25lPiBxID0gY2IuY3JlYXRlUXVlcnkoRW1i\nZWRfTWFwcGVkVG9PbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9F\nbWJlZF9NYXBwZWRUb09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX01h\ncHBlZFRvT25lLmNsYXNzKTsKICAgICAgICBFeHByZXNzaW9uPEVtYmVkX01h\ncHBlZFRvT25lPiBlID0gYS5nZXQoRW50aXR5QV9FbWJlZF9NYXBwZWRUb09u\nZV8uZW1iZWQpOwogICAgICAgIGUuYWxpYXMoImUiKTsKICAgICAgICBxLnNl\nbGVjdChlKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUpKTsKICAgICAg\nICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTE3KCkg\newogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20g\nRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZSBhIFdIRVJFIGEuZW1iZWQuYm0g\nSVMgTk9UIE5VTEwiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfTWFw\ncGVkVG9PbmU+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9NYXBwZWRUb09u\nZS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX01hcHBlZFRv\nT25lPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUuY2xh\nc3MpOwogICAgICAgIHEud2hlcmUoY2IuaXNOb3ROdWxsKGEuZ2V0KEVudGl0\neUFfRW1iZWRfTWFwcGVkVG9PbmVfLmVtYmVkKS5nZXQoRW1iZWRfTWFwcGVk\nVG9PbmVfLmJtKSkpOwogICAgICAgIHEuc2VsZWN0KGEuZ2V0KEVudGl0eUFf\nRW1iZWRfTWFwcGVkVG9PbmVfLmVtYmVkKSk7CiAgICAgICAgCiAgICAgICAg\nYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkxOCgpIHsKICAgICAgICBT\ndHJpbmcganBxbCA9ICJzZWxlY3QgYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1i\nZWRfTWFwcGVkVG9PbmUgYSAiICsKICAgICAgICAgICAgICAgICIgV0hFUkUg\nZXhpc3RzIChzZWxlY3QgYSBmcm9tIEVudGl0eUFfRW1iZWRfTWFwcGVkVG9P\nbmUgYSAiICsKICAgICAgICAgICAgICAgICIgd2hlcmUgYS5lbWJlZC5ibSBJ\nUyBOT1QgTlVMTCkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfTWFw\ncGVkVG9PbmU+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9NYXBwZWRUb09u\nZS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX01hcHBlZFRv\nT25lPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUuY2xh\nc3MpOwogICAgICAgIFN1YnF1ZXJ5PEVudGl0eUFfRW1iZWRfTWFwcGVkVG9P\nbmU+IHNxID0gcS5zdWJxdWVyeShFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25l\nLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfTWFwcGVkVG9P\nbmU+IGExID0gc3EuZnJvbShFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lLmNs\nYXNzKTsKICAgICAgICBzcS5zZWxlY3QoYTEpOwogICAgICAgIHNxLndoZXJl\nKGNiLmlzTm90TnVsbChhMS5nZXQoRW50aXR5QV9FbWJlZF9NYXBwZWRUb09u\nZV8uZW1iZWQpLmdldChFbWJlZF9NYXBwZWRUb09uZV8uYm0pKSk7CiAgICAg\nICAgcS53aGVyZShjYi5leGlzdHMoc3EpKTsKICAgICAgICBxLnNlbGVjdChh\nLmdldChFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lXy5lbWJlZCkpOwogICAg\nICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAg\nfQogICAgCiAgICAvL2pwcWwgZG9lcyBub3Qgc3VwcG9ydCBjb21wYXJpc29u\nIG9mIGVtYmVkZGFibGUKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxl\nUXVlcnkxOSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYS5l\nbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUgYSAiICsKICAg\nICAgICAgICAgICAgICIgV0hFUkUgZXhpc3RzIChzZWxlY3QgZSBmcm9tIEVu\ndGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUgYSIgKwogICAgICAgICAgICAgICAg\nIiBqb2luIGEuZW1iZWQgZSB3aGVyZSBlLmJtIElTIE5PVCBOVUxMKSI7CiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9NYXBwZWRUb09uZT4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KEVtYmVkX01hcHBlZFRvT25lLmNsYXNzKTsKICAgICAg\nICBSb290PEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmU+IGEgPSBxLmZyb20o\nRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZS5jbGFzcyk7CiAgICAgICAgU3Vi\ncXVlcnk8RW1iZWRfTWFwcGVkVG9PbmU+IHNxID0gcS5zdWJxdWVyeShFbWJl\nZF9NYXBwZWRUb09uZS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0Vt\nYmVkX01hcHBlZFRvT25lPiBhMSA9IHNxLmZyb20oRW50aXR5QV9FbWJlZF9N\nYXBwZWRUb09uZS5jbGFzcyk7CiAgICAgICAgSm9pbjxFbnRpdHlBX0VtYmVk\nX01hcHBlZFRvT25lLCBFbWJlZF9NYXBwZWRUb09uZT4gZSA9IGExLmpvaW4o\nRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZV8uZW1iZWQpOwogICAgICAgIHNx\nLnNlbGVjdChlKTsKICAgICAgICBzcS53aGVyZShjYi5pc05vdE51bGwoZS5n\nZXQoRW1iZWRfTWFwcGVkVG9PbmVfLmJtKSkpOwogICAgICAgIHEud2hlcmUo\nY2IuZXhpc3RzKHNxKSk7CiAgICAgICAgcS5zZWxlY3QoYS5nZXQoRW50aXR5\nQV9FbWJlZF9NYXBwZWRUb09uZV8uZW1iZWQpKTsKICAgICAgICAKICAgICAg\nICBleGVjdXRlRXhwZWN0RmFpbChqcHFsKTsKICAgICAgICBleGVjdXRlRXhw\nZWN0RmFpbChxLCBqcHFsKTsKICAgIH0KICAgIAogICAgLy9ubyBzdXBwb3J0\nIGZvciBjb21wYXJpc29uIG9mIGVtYmVkZGFibGUgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MjAoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAic2VsZWN0IGEuZW1iZWQgZnJvbSBFbnRpdHlBX0VtYmVkX01hcHBl\nZFRvT25lIGEgIiArCiAgICAgICAgICAgICAgICAiIFdIRVJFIGV4aXN0cyAo\nc2VsZWN0IGEuZW1iZWQgZnJvbSBFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25l\nIGEgIiArCiAgICAgICAgICAgICAgICAiIHdoZXJlIGEuZW1iZWQuYm0gSVMg\nTk9UIE5VTEwpIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX01hcHBl\nZFRvT25lPiBxID0gY2IuY3JlYXRlUXVlcnkoRW1iZWRfTWFwcGVkVG9PbmUu\nY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9NYXBwZWRUb09u\nZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lLmNsYXNz\nKTsKICAgICAgICBTdWJxdWVyeTxFbWJlZF9NYXBwZWRUb09uZT4gc3EgPSBx\nLnN1YnF1ZXJ5KEVtYmVkX01hcHBlZFRvT25lLmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmU+IGExID0gc3EuZnJvbShF\nbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lLmNsYXNzKTsKICAgICAgICBzcS5z\nZWxlY3QoYTEuZ2V0KEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmVfLmVtYmVk\nKSk7CiAgICAgICAgc3Eud2hlcmUoY2IuaXNOb3ROdWxsKGExLmdldChFbnRp\ndHlBX0VtYmVkX01hcHBlZFRvT25lXy5lbWJlZCkuZ2V0KEVtYmVkX01hcHBl\nZFRvT25lXy5ibSkpKTsKICAgICAgICBxLndoZXJlKGNiLmV4aXN0cyhzcSkp\nOwogICAgICAgIHEuc2VsZWN0KGEuZ2V0KEVudGl0eUFfRW1iZWRfTWFwcGVk\nVG9PbmVfLmVtYmVkKSk7CiAgICAgICAgCiAgICAgICAgZXhlY3V0ZUV4cGVj\ndEZhaWwocSwganBxbCk7CiAgICAgICAgZXhlY3V0ZUV4cGVjdEZhaWwoanBx\nbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxl\nUXVlcnkyMSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBm\ncm9tIEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUgYSI7CiAgICAgICAgQ3Jp\ndGVyaWFRdWVyeTxFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lPiBxID0gY2Iu\nY3JlYXRlUXVlcnkoRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZS5jbGFzcyk7\nCiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lPiBhID0g\ncS5mcm9tKEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUuY2xhc3MpOwogICAg\nICAgIHEuc2VsZWN0KGEpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RF\nbWJlZGRhYmxlUXVlcnkyMigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJz\nZWxlY3QgZSwgZS5iIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX1RvT25lIGEs\nIGluIChhLmVtYmVkMXMpIGUgb3JkZXIgYnkgZS5uYW1lMSI7CiAgICAgICAg\nQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAg\nICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZT4gYSA9IHEuZnJvbShF\nbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmUuY2xhc3MpOwogICAgICAgIEpvaW48\nRW50aXR5QV9Db2xsX0VtYmVkX1RvT25lLCBFbWJlZF9Ub09uZT4gZSA9IGEu\nam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmVfLmVtYmVkMXMpOwogICAg\nICAgIHEub3JkZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfVG9PbmVfLm5hbWUx\nKSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfVG9P\nbmVfLmIpKTsKICAgICAgICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShx\nLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVk\nZGFibGVRdWVyeTIzKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVj\ndCBlLCBhLmlkIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX1RvT25lIGEsIGlu\nIChhLmVtYmVkMXMpIGUgd2hlcmUgZS5iLmlkID4gMCAiICsKICAgICAgICAg\nICAgIm9yZGVyIGJ5IGEuaWQiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4g\ncSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0Nv\nbGxfRW1iZWRfVG9PbmU+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVk\nX1RvT25lLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfQ29sbF9FbWJl\nZF9Ub09uZSwgRW1iZWRfVG9PbmU+IGUgPSBhLmpvaW4oRW50aXR5QV9Db2xs\nX0VtYmVkX1RvT25lXy5lbWJlZDFzKTsKICAgICAgICBxLndoZXJlKGNiLmd0\nKGUuZ2V0KEVtYmVkX1RvT25lXy5iKS5nZXQoRW50aXR5QjFfLmlkKSwgMCkp\nOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoYS5nZXQoRW50aXR5QV9Db2xs\nX0VtYmVkX1RvT25lXy5pZCkpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUs\nIGEuZ2V0KEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZV8uaWQpKTsKICAgICAg\nICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTI0KCkg\newogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmIuaWQgZnJv\nbSBFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmUgYSAiICsKICAgICAgICAgICAg\nICAgICIgLCBpbiAoYS5lbWJlZDFzKSBlIHdoZXJlIGUubmFtZTEgbGlrZSAn\nJTEnIG9yZGVyIGJ5IGUubmFtZTMiOwogICAgICAgIENyaXRlcmlhUXVlcnk8\nPz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlB\nX0NvbGxfRW1iZWRfVG9PbmU+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0Vt\nYmVkX1RvT25lLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfQ29sbF9F\nbWJlZF9Ub09uZSwgRW1iZWRfVG9PbmU+IGUgPSBhLmpvaW4oRW50aXR5QV9D\nb2xsX0VtYmVkX1RvT25lXy5lbWJlZDFzKTsKICAgICAgICBxLndoZXJlKGNi\nLmxpa2UoZS5nZXQoRW1iZWRfVG9PbmVfLm5hbWUxKSwgIiUxIikpOwogICAg\nICAgIHEub3JkZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfVG9PbmVfLm5hbWUz\nKSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfVG9P\nbmVfLmIpLmdldChFbnRpdHlCMV8uaWQpKTsKICAgICAgICAKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVi\nbGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTI1KCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmIuaWQgIGZyb20gRW50aXR5QV9D\nb2xsX0VtYmVkX1RvT25lIGEgIiArCiAgICAgICAgICAgICAgICAiICwgaW4g\nKGEuZW1iZWQxcykgZSB3aGVyZSBlLm5hbWUxIGxpa2UgJyUxJyBvcmRlciBi\neSBlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVR\ndWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX1RvT25l\nPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZS5jbGFzcyk7\nCiAgICAgICAgSm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmUsIEVtYmVk\nX1RvT25lPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZV8u\nZW1iZWQxcyk7CiAgICAgICAgcS53aGVyZShjYi5saWtlKGUuZ2V0KEVtYmVk\nX1RvT25lXy5uYW1lMSksICIlMSIpKTsKICAgICAgICBxLm9yZGVyQnkoY2Iu\nYXNjKGUpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVk\nX1RvT25lXy5iKS5nZXQoRW50aXR5QjFfLmlkKSk7CiAgICAgICAgCiAgICAg\nICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAg\nIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkyNigpIHsKICAgICAg\nICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5iLmlkICBmcm9tIEVudGl0\neUFfQ29sbF9FbWJlZF9Ub09uZSBhLCAiICsKICAgICAgICAgICAgICAgICJp\nbiAoYS5lbWJlZDFzKSBlIHdoZXJlIGUubmFtZTEgbGlrZSAnJTEnIGFuZCBh\nLmVtYmVkMXMgSVMgTk9UIEVNUFRZIGFuZCAiICsKICAgICAgICAgICAgICAg\nICIgZS5iIElTIE5PVCBOVUxMIG9yZGVyIGJ5IGUiOwogICAgICAgIENyaXRl\ncmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9v\ndDxFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmU+IGEgPSBxLmZyb20oRW50aXR5\nQV9Db2xsX0VtYmVkX1RvT25lLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0\neUFfQ29sbF9FbWJlZF9Ub09uZSwgRW1iZWRfVG9PbmU+IGUgPSBhLmpvaW4o\nRW50aXR5QV9Db2xsX0VtYmVkX1RvT25lXy5lbWJlZDFzKTsKICAgICAgICBQ\ncmVkaWNhdGUgcDEgPSBjYi5saWtlKGUuZ2V0KEVtYmVkX1RvT25lXy5uYW1l\nMSksICIlMSIpOwogICAgICAgIFByZWRpY2F0ZSBwMiA9IGNiLmlzRW1wdHko\nYS5nZXQoRW50aXR5QV9Db2xsX0VtYmVkX1RvT25lXy5lbWJlZDFzKSkubm90\nKCk7CiAgICAgICAgUHJlZGljYXRlIHAzID0gY2IuaXNOb3ROdWxsKGUuZ2V0\nKEVtYmVkX1RvT25lXy5iKSk7CiAgICAgICAgcS53aGVyZShjYi5hbmQoY2Iu\nYW5kKHAxLCBwMiksIHAzKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhl\nKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9Ub09u\nZV8uYikuZ2V0KEVudGl0eUIxXy5pZCkpOwogICAgICAgIAogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICAvLyBj\nYW4gbm90IGNvbXBhcmUgZW1iZWRkYWJsZS4gRXhwZWN0IHRvIGZhaWwKICAg\nIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkyNygpIHsKICAgICAg\nICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5iLmlkIGZyb20gRW50aXR5\nQV9Db2xsX0VtYmVkX1RvT25lIGEgIiArCiAgICAgICAgICAgICAgICAiICwg\naW4gKGEuZW1iZWQxcykgZSB3aGVyZSBleGlzdHMgKHNlbGVjdCBhLmVtYmVk\nMXMgZnJvbSAiICsKICAgICAgICAgICAgICAgICIgRW50aXR5QV9Db2xsX0Vt\nYmVkX1RvT25lIGEpIGFuZCBleGlzdHMgKHNlbGVjdCBlLmIgZnJvbSBhLmVt\nYmVkMXMgZSkgIiArCiAgICAgICAgICAgICAgICAiIG9yZGVyIGJ5IGUiOwog\nICAgICAgIENyaXRlcmlhUXVlcnk8SW50ZWdlcj4gcSA9IGNiLmNyZWF0ZVF1\nZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xs\nX0VtYmVkX1RvT25lPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9U\nb09uZS5jbGFzcyk7CiAgICAgICAgSm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRf\nVG9PbmUsIEVtYmVkX1RvT25lPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9F\nbWJlZF9Ub09uZV8uZW1iZWQxcyk7CiAgICAgICAgU3VicXVlcnk8U2V0PiBz\ncTEgPSBxLnN1YnF1ZXJ5KFNldC5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRp\ndHlBX0NvbGxfRW1iZWRfVG9PbmU+IGExID0gc3ExLmZyb20oRW50aXR5QV9D\nb2xsX0VtYmVkX1RvT25lLmNsYXNzKTsKICAgICAgICBFeHByZXNzaW9uIGUx\nID0gYTEuZ2V0KEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZV8uZW1iZWQxcyk7\nCiAgICAgICAgc3ExLnNlbGVjdChlMSk7CgogICAgICAgIFN1YnF1ZXJ5PEVu\ndGl0eUIxPiBzcTIgPSBxLnN1YnF1ZXJ5KEVudGl0eUIxLmNsYXNzKTsKICAg\nICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZT4gYTIgPSBzcTIu\nY29ycmVsYXRlKGEpOwogICAgICAgIEpvaW48RW50aXR5QV9Db2xsX0VtYmVk\nX1RvT25lLCBFbWJlZF9Ub09uZT4gZTIgPSBhMi5qb2luKEVudGl0eUFfQ29s\nbF9FbWJlZF9Ub09uZV8uZW1iZWQxcyk7CiAgICAgICAgc3EyLnNlbGVjdChl\nMi5nZXQoRW1iZWRfVG9PbmVfLmIpKTsKICAgICAgICAKICAgICAgICBQcmVk\naWNhdGUgcDEgPSBjYi5leGlzdHMoc3ExKTsKICAgICAgICBQcmVkaWNhdGUg\ncDIgPSBjYi5leGlzdHMoc3EyKTsKICAgICAgICBxLndoZXJlKGNiLmFuZChw\nMSwgcDIpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUpKTsKICAgICAg\nICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVkX1RvT25lXy5iKS5nZXQo\nRW50aXR5QjFfLmlkKSk7CiAgICAgICAgCiAgICAgICAgZXhlY3V0ZUV4cGVj\ndEZhaWwocSwganBxbCk7CiAgICAgICAgZXhlY3V0ZUV4cGVjdEZhaWwoanBx\nbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVy\neTI4KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVk\nIGZyb20gRW50aXR5QV9FbWJlZF9Ub01hbnkgYSI7CiAgICAgICAgQ3JpdGVy\naWFRdWVyeTxFbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJl\nZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9U\nb01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Ub01hbnkuY2xhc3Mp\nOwogICAgICAgIHEuc2VsZWN0KGEuZ2V0KEVudGl0eUFfRW1iZWRfVG9NYW55\nXy5lbWJlZCkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1\nZXJ5MjkoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUgZnJv\nbSBFbnRpdHlBX0VtYmVkX1RvTWFueSBhIGpvaW4gYS5lbWJlZCBlIjsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX1RvTWFueT4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KEVtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRp\ndHlBX0VtYmVkX1RvTWFueT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1Rv\nTWFueS5jbGFzcyk7CiAgICAgICAgSm9pbjxFbnRpdHlBX0VtYmVkX1RvTWFu\neSxFbWJlZF9Ub01hbnk+IGUgPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9Ub01h\nbnlfLmVtYmVkKTsKICAgICAgICBxLnNlbGVjdChlKTsKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTMwKCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gInNlbGVjdCBiIGZyb20gRW50aXR5QV9FbWJlZF9Ub01hbnkg\nYSBqb2luIGEuZW1iZWQuYnMgYiI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxF\nbnRpdHlCMT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVudGl0eUIxLmNsYXNzKTsK\nICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfVG9NYW55PiBhID0gcS5mcm9t\nKEVudGl0eUFfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBKb2luPEVt\nYmVkX1RvTWFueSwgRW50aXR5QjE+IGIgPSBhLmpvaW4oRW50aXR5QV9FbWJl\nZF9Ub01hbnlfLmVtYmVkKS5qb2luKEVtYmVkX1RvTWFueV8uYnMpOwogICAg\nICAgIHEuc2VsZWN0KGIpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEs\nIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRk\nYWJsZVF1ZXJ5MzEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGUgZnJvbSBFbnRpdHlBX0VtYmVkX1RvTWFueSBhIGpvaW4gYS5lbWJlZCBl\nIHdoZXJlIGUubmFtZTEgbGlrZSAnJTEnIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEVtYmVkX1RvTWFueT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1Rv\nTWFueS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1RvTWFu\neT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAg\nICAgICAgSm9pbjxFbnRpdHlBX0VtYmVkX1RvTWFueSxFbWJlZF9Ub01hbnk+\nIGUgPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9Ub01hbnlfLmVtYmVkKTsKICAg\nICAgICBxLnNlbGVjdChlKTsKICAgICAgICBxLndoZXJlKGNiLmxpa2UoZS5n\nZXQoRW1iZWRfVG9NYW55Xy5uYW1lMSksICIlMSIpKTsKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTMyKCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5QV9FbWJlZF9U\nb01hbnkgYSBPUkRFUiBCWSBhLmVtYmVkIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEVtYmVkX1RvTWFueT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1Rv\nTWFueS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1RvTWFu\neT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAg\nICAgICAgcS5zZWxlY3QoYS5nZXQoRW50aXR5QV9FbWJlZF9Ub01hbnlfLmVt\nYmVkKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhhLmdldChFbnRpdHlB\nX0VtYmVkX1RvTWFueV8uZW1iZWQpKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3RFbWJlZGRhYmxlUXVlcnkzMygpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgZSBmcm9tIEVudGl0eUFfRW1iZWRfVG9NYW55IGEgam9pbiBh\nLmVtYmVkIGUgT1JERVIgQlkgZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxF\nbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9Ub01hbnku\nY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Ub01hbnk+IGEg\nPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAg\nIEpvaW48RW50aXR5QV9FbWJlZF9Ub01hbnksRW1iZWRfVG9NYW55PiBlID0g\nYS5qb2luKEVudGl0eUFfRW1iZWRfVG9NYW55Xy5lbWJlZCk7CiAgICAgICAg\nZS5hbGlhcygiZSIpOwogICAgICAgIHEuc2VsZWN0KGUpOwogICAgICAgIHEu\nb3JkZXJCeShjYi5hc2MoZSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1i\nZWRkYWJsZVF1ZXJ5MzQoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2Vs\nZWN0IGIgZnJvbSBFbnRpdHlBX0VtYmVkX1RvTWFueSBhIGpvaW4gYS5lbWJl\nZC5icyBiIE9SREVSIEJZIGIiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW50\naXR5QjE+IHEgPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlCMS5jbGFzcyk7CiAg\nICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1RvTWFueT4gYSA9IHEuZnJvbShF\nbnRpdHlBX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48\nRW1iZWRfVG9NYW55LCBFbnRpdHlCMT4gYiA9IGEuam9pbihFbnRpdHlBX0Vt\nYmVkX1RvTWFueV8uZW1iZWQpLmpvaW4oRW1iZWRfVG9NYW55Xy5icyk7CiAg\nICAgICAgYi5hbGlhcygiYiIpOwogICAgICAgIHEuc2VsZWN0KGIpOwogICAg\nICAgIHEub3JkZXJCeShjYi5hc2MoYikpOwogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RW1iZWRkYWJsZVF1ZXJ5MzUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAic2VsZWN0IGUgZnJvbSBFbnRpdHlBX0VtYmVkX1RvTWFueSBhIGpvaW4g\nYS5lbWJlZCBlIFdIRVJFIGUuYnMgSVMgTk9UIEVNUFRZIE9SREVSIEJZIGUi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfVG9NYW55PiBxID0gY2Iu\nY3JlYXRlUXVlcnkoRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBSb290\nPEVudGl0eUFfRW1iZWRfVG9NYW55PiBhID0gcS5mcm9tKEVudGl0eUFfRW1i\nZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfRW1iZWRf\nVG9NYW55LCBFbWJlZF9Ub01hbnk+IGUgPSBhLmpvaW4oRW50aXR5QV9FbWJl\nZF9Ub01hbnlfLmVtYmVkKTsKICAgICAgICBlLmFsaWFzKCJlIik7CiAgICAg\nICAgcS5zZWxlY3QoZSk7CiAgICAgICAgcS53aGVyZShjYi5pc0VtcHR5KGUu\nZ2V0KEVtYmVkX1RvTWFueV8uYnMpKS5ub3QoKSk7CiAgICAgICAgcS5vcmRl\nckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRh\nYmxlUXVlcnkzNigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\nYSBmcm9tIEVudGl0eUFfRW1iZWRfVG9NYW55IGEgV0hFUkUgZXhpc3RzIChz\nZWxlY3QgYSBmcm9tIEVudGl0eUFfRW1iZWRfVG9NYW55IGEiICsKICAgICAg\nICAgICAgICAgICIgd2hlcmUgYS5lbWJlZC5icyBJUyBOT1QgRU1QVFkpIE9S\nREVSIEJZIGEiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW50aXR5QV9FbWJl\nZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlBX0VtYmVkX1Rv\nTWFueS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1RvTWFu\neT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAg\nICAgICAgcS5zZWxlY3QoYSk7CgogICAgICAgIFN1YnF1ZXJ5PEVudGl0eUFf\nRW1iZWRfVG9NYW55PiBzcSA9IHEuc3VicXVlcnkoRW50aXR5QV9FbWJlZF9U\nb01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Ub01h\nbnk+IGExID0gc3EuZnJvbShFbnRpdHlBX0VtYmVkX1RvTWFueS5jbGFzcyk7\nCiAgICAgICAgc3Euc2VsZWN0KGExKTsKICAgICAgICBzcS53aGVyZShjYi5p\nc0VtcHR5KGExLmdldChFbnRpdHlBX0VtYmVkX1RvTWFueV8uZW1iZWQpLmdl\ndChFbWJlZF9Ub01hbnlfLmJzKSkubm90KCkpOwogICAgICAgIHEud2hlcmUo\nY2IuZXhpc3RzKHNxKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhhKSk7\nCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAg\nICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkzOCgpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBmcm9tIEVudGl0eUFf\nRW1iZWRfVG9NYW55IGEiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW50aXR5\nQV9FbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlBX0Vt\nYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVk\nX1RvTWFueT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1RvTWFueS5jbGFz\ncyk7CiAgICAgICAgcS5zZWxlY3QoYSk7CiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVt\nYmVkZGFibGVRdWVyeTM5KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNl\nbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnkg\nYSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9FbWJlZF9Ub01hbnk+\nIHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9FbWJlZF9Ub01hbnkuY2xhc3Mp\nOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnk+IGEg\nPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnkuY2xhc3MpOwog\nICAgICAgIHEuc2VsZWN0KGEuZ2V0KEVudGl0eUFfRW1iZWRfRW1iZWRfVG9N\nYW55Xy5lbWJlZCkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpw\ncWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJs\nZVF1ZXJ5NDAoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEu\nZW1iZWQgZnJvbSBFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueSBhIHdoZXJl\nIGEuZW1iZWQuZW1iZWQubmFtZTEgbGlrZSAnJTEnICI7CiAgICAgICAgQ3Jp\ndGVyaWFRdWVyeTxFbWJlZF9FbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVR\ndWVyeShFbWJlZF9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8\nRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5\nQV9FbWJlZF9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0\nKGEuZ2V0KEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkpOwog\nICAgICAgIHEud2hlcmUoY2IubGlrZShhLmdldChFbnRpdHlBX0VtYmVkX0Vt\nYmVkX1RvTWFueV8uZW1iZWQpLmdldChFbWJlZF9FbWJlZF9Ub01hbnlfLmVt\nYmVkKS4KICAgICAgICAgICAgZ2V0KEVtYmVkX1RvTWFueV8ubmFtZTEpLCAi\nJTEiKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk0\nMSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYS5lbWJlZC5l\nbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55IGEiOwogICAg\nICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfVG9NYW55PiBxID0gY2IuY3JlYXRl\nUXVlcnkoRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBSb290PEVudGl0\neUFfRW1iZWRfRW1iZWRfVG9NYW55PiBhID0gcS5mcm9tKEVudGl0eUFfRW1i\nZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdl\ndChFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueV8uZW1iZWQpLmdldChFbWJl\nZF9FbWJlZF9Ub01hbnlfLmVtYmVkKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3RFbWJlZGRhYmxlUXVlcnk0MigpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgYiBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55IGEg\nam9pbiBhLmVtYmVkLmVtYmVkLmJzIGIiOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8RW50aXR5QjE+IHEgPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlCMS5jbGFz\ncyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueT4g\nYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7\nCiAgICAgICAgSm9pbjxFbWJlZF9Ub01hbnksIEVudGl0eUIxPiBiID0gYS5q\nb2luKEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkuam9pbihF\nbWJlZF9FbWJlZF9Ub01hbnlfLmVtYmVkKS4KICAgICAgICAgICAgam9pbihF\nbWJlZF9Ub01hbnlfLmJzKTsKICAgICAgICBiLmFsaWFzKCJiIik7CiAgICAg\nICAgcS5zZWxlY3QoYik7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRh\nYmxlUXVlcnk0MygpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\nYS5lbWJlZC5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55\nIGEgd2hlcmUgYS5lbWJlZC5lbWJlZC5uYW1lMSBsaWtlICclMSciOwogICAg\nICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfVG9NYW55PiBxID0gY2IuY3JlYXRl\nUXVlcnkoRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBSb290PEVudGl0\neUFfRW1iZWRfRW1iZWRfVG9NYW55PiBhID0gcS5mcm9tKEVudGl0eUFfRW1i\nZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdl\ndChFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueV8uZW1iZWQpLmdldChFbWJl\nZF9FbWJlZF9Ub01hbnlfLmVtYmVkKSk7CiAgICAgICAgcS53aGVyZShjYi5s\naWtlKGEuZ2V0KEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCku\nZ2V0KEVtYmVkX0VtYmVkX1RvTWFueV8uZW1iZWQpLgogICAgICAgICAgICBn\nZXQoRW1iZWRfVG9NYW55Xy5uYW1lMSksICIlMSIpKTsKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTQ0KCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gInNlbGVjdCBlMiBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWRf\nVG9NYW55IGEgbGVmdCBqb2luIGEuZW1iZWQgZTEgbGVmdCBqb2luIGUxLmVt\nYmVkIGUyIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX1RvTWFueT4g\ncSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAg\nICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueT4gYSA9IHEuZnJv\nbShFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAg\nSm9pbjxFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueSwgRW1iZWRfRW1iZWRf\nVG9NYW55PiBlMSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFu\neV8uZW1iZWQsIAogICAgICAgICAgICBKb2luVHlwZS5MRUZUKTsKICAgICAg\nICBKb2luPEVtYmVkX0VtYmVkX1RvTWFueSwgRW1iZWRfVG9NYW55PiBlMiA9\nIGUxLmpvaW4oRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCwgSm9pblR5cGUu\nTEVGVCk7CiAgICAgICAgcS5zZWxlY3QoZTIpOwogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NDUoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAic2VsZWN0IGUyIGZyb20gRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01h\nbnkgYSBqb2luIGEuZW1iZWQgZTEgam9pbiBlMS5lbWJlZCBlMiI7CiAgICAg\nICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVR\ndWVyeShFbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5\nQV9FbWJlZF9FbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJl\nZF9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIEpvaW48RW50aXR5QV9F\nbWJlZF9FbWJlZF9Ub01hbnksIEVtYmVkX0VtYmVkX1RvTWFueT4gZTEgPSBh\nLmpvaW4oRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnlfLmVtYmVkKTsKICAg\nICAgICBKb2luPEVtYmVkX0VtYmVkX1RvTWFueSwgRW1iZWRfVG9NYW55PiBl\nMiA9IGUxLmpvaW4oRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCk7CiAgICAg\nICAgcS5zZWxlY3QoZTIpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEs\nIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRk\nYWJsZVF1ZXJ5NDYoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGEuZW1iZWQgYXMgZSBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55\nIGEgT1JERVIgQlkgZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9F\nbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9FbWJlZF9U\nb01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9FbWJl\nZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01h\nbnkuY2xhc3MpOwogICAgICAgIEV4cHJlc3Npb248RW1iZWRfRW1iZWRfVG9N\nYW55PiBlID0gYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnlfLmVt\nYmVkKTsKICAgICAgICBlLmFsaWFzKCJlIik7CiAgICAgICAgcS5zZWxlY3Qo\nZSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgYXNz\nZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk0NygpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJzZWxlY3QgYS5lbWJlZC5lbWJlZCBhcyBlIGZyb20gRW50\naXR5QV9FbWJlZF9FbWJlZF9Ub01hbnkgYSAiICsgCiAgICAgICAgICAgICJ3\naGVyZSBhLmVtYmVkLmVtYmVkLm5hbWUxIGxpa2UgJyUxJyBPUkRFUiBCWSBl\nIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX1RvTWFueT4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KEVtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgUm9v\ndDxFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueT4gYSA9IHEuZnJvbShFbnRp\ndHlBX0VtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgRXhwcmVz\nc2lvbjxFbWJlZF9Ub01hbnk+IGUgPSBhLmdldChFbnRpdHlBX0VtYmVkX0Vt\nYmVkX1RvTWFueV8uZW1iZWQpLmdldChFbWJlZF9FbWJlZF9Ub01hbnlfLmVt\nYmVkKTsKICAgICAgICBlLmFsaWFzKCJlIik7CiAgICAgICAgcS5zZWxlY3Qo\nZSk7CiAgICAgICAgcS53aGVyZShjYi5saWtlKGEuZ2V0KEVudGl0eUFfRW1i\nZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkuZ2V0KEVtYmVkX0VtYmVkX1RvTWFu\neV8uZW1iZWQpLgogICAgICAgICAgICBnZXQoRW1iZWRfVG9NYW55Xy5uYW1l\nMSksICIlMSIpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUpKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTQ4KCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5\nQV9FbWJlZF9FbWJlZF9Ub01hbnkgYSAiICsKICAgICAgICAgICAgICAgICIg\nd2hlcmUgYS5lbWJlZC5lbWJlZC5icyBJUyBOT1QgRU1QVFkiOwogICAgICAg\nIENyaXRlcmlhUXVlcnk8RW1iZWRfRW1iZWRfVG9NYW55PiBxID0gY2IuY3Jl\nYXRlUXVlcnkoRW1iZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55PiBhID0gcS5mcm9tKEVu\ndGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBFeHBy\nZXNzaW9uPEVtYmVkX0VtYmVkX1RvTWFueT4gZSA9IGEuZ2V0KEVudGl0eUFf\nRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCk7CiAgICAgICAgcS5zZWxlY3Qo\nZSk7CiAgICAgICAgcS53aGVyZShjYi5pc0VtcHR5KGEuZ2V0KEVudGl0eUFf\nRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkuZ2V0KEVtYmVkX0VtYmVkX1Rv\nTWFueV8uZW1iZWQpLgogICAgICAgICAgICBnZXQoRW1iZWRfVG9NYW55Xy5i\ncykpLm5vdCgpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUpKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTQ5KCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5\nQV9FbWJlZF9FbWJlZF9Ub01hbnkgYSAiICsKICAgICAgICAgICAgICAgICIg\nd2hlcmUgZXhpc3RzIChzZWxlY3QgYS5lbWJlZC5lbWJlZC5icyBmcm9tIEVu\ndGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55IGEpIjsKICAgICAgICBDcml0ZXJp\nYVF1ZXJ5PEVtYmVkX0VtYmVkX1RvTWFueT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5\nKEVtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRp\ndHlBX0VtYmVkX0VtYmVkX1RvTWFueT4gYSA9IHEuZnJvbShFbnRpdHlBX0Vt\nYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgRXhwcmVzc2lvbjxF\nbWJlZF9FbWJlZF9Ub01hbnk+IGUgPSBhLmdldChFbnRpdHlBX0VtYmVkX0Vt\nYmVkX1RvTWFueV8uZW1iZWQpOwogICAgICAgIHEuc2VsZWN0KGUpOwogICAg\nICAgIFN1YnF1ZXJ5PExpc3Q+IHNxID0gcS5zdWJxdWVyeShMaXN0LmNsYXNz\nKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55PiBh\nMSA9IHNxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnkuY2xhc3Mp\nOwogICAgICAgIEV4cHJlc3Npb24gYnMgPSBhMS5nZXQoRW50aXR5QV9FbWJl\nZF9FbWJlZF9Ub01hbnlfLmVtYmVkKS5nZXQoRW1iZWRfRW1iZWRfVG9NYW55\nXy5lbWJlZCkuCiAgICAgICAgICAgIGdldChFbWJlZF9Ub01hbnlfLmJzKTsK\nICAgICAgICBzcS5zZWxlY3QoYnMpOwogICAgICAgIHEud2hlcmUoY2IuZXhp\nc3RzKHNxKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVl\ncnk1MCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYiBmcm9t\nIEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55IGEgam9pbiBhLmVtYmVkLmVt\nYmVkLmJzIGIiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW50aXR5QjE+IHEg\nPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlCMS5jbGFzcyk7CiAgICAgICAgUm9v\ndDxFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueT4gYSA9IHEuZnJvbShFbnRp\ndHlBX0VtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgSm9pbjxF\nbWJlZF9Ub01hbnksIEVudGl0eUIxPiBiID0gYS5qb2luKEVudGl0eUFfRW1i\nZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkuCiAgICAgICAgICAgIGpvaW4oRW1i\nZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkuam9pbihFbWJlZF9Ub01hbnlfLmJz\nKTsKICAgICAgICBiLmFsaWFzKCJiIik7CiAgICAgICAgcS5zZWxlY3QoYik7\nCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAg\nICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk1MSgpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBmcm9tIEVudGl0eUFf\nRW1iZWRfRW1iZWRfVG9NYW55IGEiOwogICAgICAgIENyaXRlcmlhUXVlcnk8\nRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVRdWVy\neShFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAg\nUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueT4gYSA9IHEuZnJvbShF\nbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgcS5z\nZWxlY3QoYSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTUy\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBhLmlkIGZy\nb20gRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIgYSwgaW4gKGEuZW1iZWQu\nb3RoZXJJbnRWYWxzKSBlIG9yZGVyIGJ5IGUiOwogICAgICAgIENyaXRlcmlh\nUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxF\nbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlcj4gYSA9IHEuZnJvbShFbnRpdHlB\nX0VtYmVkX0NvbGxfSW50ZWdlci5jbGFzcyk7CiAgICAgICAgSm9pbjxFbWJl\nZF9Db2xsX0ludGVnZXIsIEludGVnZXI+IGUgPSBhLmpvaW4oRW50aXR5QV9F\nbWJlZF9Db2xsX0ludGVnZXJfLmVtYmVkKS4KICAgICAgICAgICAgam9pbihF\nbWJlZF9Db2xsX0ludGVnZXJfLm90aGVySW50VmFscyk7CiAgICAgICAgZS5h\nbGlhcygiZSIpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgYS5nZXQoRW50\naXR5QV9FbWJlZF9Db2xsX0ludGVnZXJfLmlkKSk7CiAgICAgICAgcS5vcmRl\nckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRh\nYmxlUXVlcnk1NCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\nZSwgYS5pZCBmcm9tIEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyIGEsIGlu\nIChhLmVtYmVkLm90aGVySW50VmFscykgZSBvcmRlciBieSBhLmlkIjsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwog\nICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXI+IGEgPSBx\nLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIuY2xhc3MpOwogICAg\nICAgIEpvaW48RW1iZWRfQ29sbF9JbnRlZ2VyLCBJbnRlZ2VyPiBlID0gYS5q\nb2luKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5lbWJlZCkuCiAgICAg\nICAgICAgIGpvaW4oRW1iZWRfQ29sbF9JbnRlZ2VyXy5vdGhlckludFZhbHMp\nOwogICAgICAgIGUuYWxpYXMoImUiKTsKICAgICAgICBxLm11bHRpc2VsZWN0\nKGUsIGEuZ2V0KEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5pZCkpOwog\nICAgICAgIHEub3JkZXJCeShjYi5hc2MoYS5nZXQoRW50aXR5QV9FbWJlZF9D\nb2xsX0ludGVnZXJfLmlkKSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1i\nZWRkYWJsZVF1ZXJ5NTUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2Vs\nZWN0IGUsIGEuZW1iZWQuaW50VmFsMSBmcm9tIEVudGl0eUFfRW1iZWRfQ29s\nbF9JbnRlZ2VyIGEgIiArCiAgICAgICAgICAgICAgICAiICwgaW4gKGEuZW1i\nZWQub3RoZXJJbnRWYWxzKSBlIG9yZGVyIGJ5IGEuaWQiOwogICAgICAgIENy\naXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAg\nUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlcj4gYSA9IHEuZnJvbShF\nbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlci5jbGFzcyk7CiAgICAgICAgSm9p\nbjxFbWJlZF9Db2xsX0ludGVnZXIsIEludGVnZXI+IGUgPSBhLmpvaW4oRW50\naXR5QV9FbWJlZF9Db2xsX0ludGVnZXJfLmVtYmVkKS4KICAgICAgICAgICAg\nam9pbihFbWJlZF9Db2xsX0ludGVnZXJfLm90aGVySW50VmFscyk7CiAgICAg\nICAgZS5hbGlhcygiZSIpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgYS5n\nZXQoRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXJfLmVtYmVkKS5nZXQoRW1i\nZWRfQ29sbF9JbnRlZ2VyXy5pbnRWYWwxKSk7CiAgICAgICAgcS5vcmRlckJ5\nKGNiLmFzYyhhLmdldChFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlcl8uaWQp\nKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk1Nigp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgYS5lbWJlZC5p\nbnRWYWwyIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIgYSAiICsK\nICAgICAgICAgICAgICAgICIgLCBpbiAoYS5lbWJlZC5vdGhlckludFZhbHMp\nIGUgb3JkZXIgYnkgZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0g\nY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRf\nQ29sbF9JbnRlZ2VyPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfQ29sbF9J\nbnRlZ2VyLmNsYXNzKTsKICAgICAgICBKb2luPEVtYmVkX0NvbGxfSW50ZWdl\nciwgSW50ZWdlcj4gZSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0NvbGxfSW50\nZWdlcl8uZW1iZWQpLgogICAgICAgICAgICBqb2luKEVtYmVkX0NvbGxfSW50\nZWdlcl8ub3RoZXJJbnRWYWxzKTsKICAgICAgICBlLmFsaWFzKCJlIik7CiAg\nICAgICAgcS5tdWx0aXNlbGVjdChlLCBhLmdldChFbnRpdHlBX0VtYmVkX0Nv\nbGxfSW50ZWdlcl8uZW1iZWQpLmdldChFbWJlZF9Db2xsX0ludGVnZXJfLmlu\ndFZhbDIpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUpKTsKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTU3KCkgewogICAgICAg\nIFN0cmluZyBqcHFsMSA9ICJzZWxlY3QgZSwgYS5lbWJlZC5pbnRWYWwyIGZy\nb20gRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIgYSAiICsKICAgICAgICAg\nICAgIiAsIGluIChhLmVtYmVkLm90aGVySW50VmFscykgZSBXSEVSRSBhLmVt\nYmVkLm90aGVySW50VmFscyBJUyBOT1QgRU1QVFkgb3JkZXIgYnkgZSI7CiAg\nICAgICAgCiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUxLCBhLmVt\nYmVkLmludFZhbDIgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlciBh\nICIgKwogICAgICAgICAgICAiSk9JTiBhLmVtYmVkIGUgSk9JTiBlLm90aGVy\nSW50VmFscyBlMSBXSEVSRSBhLmVtYmVkLm90aGVySW50VmFscyBJUyBOT1Qg\nRU1QVFkgb3JkZXIgYnkgZTEiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4g\ncSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0Vt\nYmVkX0NvbGxfSW50ZWdlcj4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0Nv\nbGxfSW50ZWdlci5jbGFzcyk7CiAgICAgICAgSm9pbjxFbWJlZF9Db2xsX0lu\ndGVnZXIsIEludGVnZXI+IGUgPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9Db2xs\nX0ludGVnZXJfLmVtYmVkKS4KICAgICAgICAgICAgam9pbihFbWJlZF9Db2xs\nX0ludGVnZXJfLm90aGVySW50VmFscyk7CiAgICAgICAgZS5hbGlhcygiZSIp\nOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgYS5nZXQoRW50aXR5QV9FbWJl\nZF9Db2xsX0ludGVnZXJfLmVtYmVkKS5nZXQoRW1iZWRfQ29sbF9JbnRlZ2Vy\nXy5pbnRWYWwyKSk7CiAgICAgICAgcS53aGVyZShjYi5pc0VtcHR5KGEuZ2V0\nKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5lbWJlZCkuZ2V0KEVtYmVk\nX0NvbGxfSW50ZWdlcl8ub3RoZXJJbnRWYWxzKSkubm90KCkpOwogICAgICAg\nIHEub3JkZXJCeShjYi5hc2MoZSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxl\nbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nRW1iZWRkYWJsZVF1ZXJ5NTgoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAi\nc2VsZWN0IGUsIGEwLmludFZhbDIgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxf\nSW50ZWdlciBhICIgKwogICAgICAgICAgICAgICAgIkpPSU4gYS5lbWJlZCBh\nMCBKT0lOIGEwLm90aGVySW50VmFscyBlIFdIRVJFIGV4aXN0cyAoc2VsZWN0\nIGEgZnJvbSAiICsKICAgICAgICAgICAgICAgICIgRW50aXR5QV9FbWJlZF9D\nb2xsX0ludGVnZXIgYSBKT0lOIGEuZW1iZWQgYTAgSk9JTiBhMC5vdGhlcklu\ndFZhbHMgZSAiICsKICAgICAgICAgICAgICAgICIgd2hlcmUgZSA+IDApIG9y\nZGVyIGJ5IGUiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxf\nSW50ZWdlcj4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdl\nci5jbGFzcyk7CiAgICAgICAgSm9pbjxFbWJlZF9Db2xsX0ludGVnZXIsIElu\ndGVnZXI+IGUgPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXJf\nLmVtYmVkKS4KICAgICAgICAgICAgam9pbihFbWJlZF9Db2xsX0ludGVnZXJf\nLm90aGVySW50VmFscyk7CiAgICAgICAgZS5hbGlhcygiZSIpOwogICAgICAg\nIHEubXVsdGlzZWxlY3QoZSwgYS5nZXQoRW50aXR5QV9FbWJlZF9Db2xsX0lu\ndGVnZXJfLmVtYmVkKS5nZXQoRW1iZWRfQ29sbF9JbnRlZ2VyXy5pbnRWYWwy\nKSk7CiAgICAgICAgU3VicXVlcnk8RW50aXR5QV9FbWJlZF9Db2xsX0ludGVn\nZXI+IHNxID0gcS5zdWJxdWVyeShFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdl\nci5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxfSW50\nZWdlcj4gYTEgPSBzcS5mcm9tKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2Vy\nLmNsYXNzKTsKICAgICAgICBKb2luPEVtYmVkX0NvbGxfSW50ZWdlciwgSW50\nZWdlcj4gZTEgPSBhMS5qb2luKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2Vy\nXy5lbWJlZCkuCiAgICAgICAgICAgIGpvaW4oRW1iZWRfQ29sbF9JbnRlZ2Vy\nXy5vdGhlckludFZhbHMpOwogICAgICAgIHNxLndoZXJlKGNiLmd0KGUxLCAw\nKSk7CiAgICAgICAgcS53aGVyZShjYi5leGlzdHMoc3EpKTsKICAgICAgICBx\nLm9yZGVyQnkoY2IuYXNjKGUpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRk\nYWJsZVF1ZXJ5NTkoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGEgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlciBhIjsKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyPiBx\nID0gY2IuY3JlYXRlUXVlcnkoRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIu\nY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0ludGVn\nZXI+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIuY2xh\nc3MpOwogICAgICAgIHEuc2VsZWN0KGEpOwogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RF\nbWJlZGRhYmxlUXVlcnk2MCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJz\nZWxlY3QgYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWQgYSI7CiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9FbWJlZD4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KEVtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0\neUFfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJl\nZC5jbGFzcyk7CiAgICAgICAgcS5zZWxlY3QoYS5nZXQoRW50aXR5QV9FbWJl\nZF9FbWJlZF8uZW1iZWQpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShx\nLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVk\nZGFibGVRdWVyeTYxKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVj\ndCBhLmVtYmVkLmVtYmVkIGZyb20gRW50aXR5QV9FbWJlZF9FbWJlZCBhIjsK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkPiBxID0gY2IuY3JlYXRlUXVl\ncnkoRW1iZWQuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9F\nbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0VtYmVkLmNsYXNzKTsK\nICAgICAgICBxLnNlbGVjdChhLmdldChFbnRpdHlBX0VtYmVkX0VtYmVkXy5l\nbWJlZCkuZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkpOwogICAgICAgIGFzc2Vy\ndEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NjIoKSB7CiAgICAgICAgU3RyaW5n\nIGpwcWwgPSAic2VsZWN0IGEuZW1iZWQgYXMgZSBmcm9tIEVudGl0eUFfRW1i\nZWRfRW1iZWQgYSBPUkRFUiBCWSBlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5\nPEVtYmVkX0VtYmVkPiBxID0gY2IuY3JlYXRlUXVlcnkoRW1iZWRfRW1iZWQu\nY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9FbWJlZD4gYSA9\nIHEuZnJvbShFbnRpdHlBX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBF\neHByZXNzaW9uPEVtYmVkX0VtYmVkPiBlID0gYS5nZXQoRW50aXR5QV9FbWJl\nZF9FbWJlZF8uZW1iZWQpOwogICAgICAgIGUuYWxpYXMoImUiKTsKICAgICAg\nICBxLnNlbGVjdChlKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUpKTsK\nICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAg\nIAogICAgLy9jb21wYXJpc29uIG9mIGVtYmVkIGlzIG5vdCBzdXBwb3J0CiAg\nICBAQWxsb3dGYWlsdXJlKG1lc3NhZ2U9IiIpCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RW1iZWRkYWJsZVF1ZXJ5NjMoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAic2VsZWN0IGEuZW1iZWQgZnJvbSBFbnRpdHlBX0VtYmVkX0VtYmVkIGEg\nV0hFUkUgYS5lbWJlZC5lbWJlZCBJUyBOT1QgTlVMTCI7CiAgICAgICAgQ3Jp\ndGVyaWFRdWVyeTxFbWJlZF9FbWJlZD4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVt\nYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRf\nRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZC5jbGFzcyk7\nCiAgICAgICAgcS5zZWxlY3QoYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF8u\nZW1iZWQpKTsKICAgICAgICBxLndoZXJlKGNiLmlzTm90TnVsbChhLmdldChF\nbnRpdHlBX0VtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVkX0VtYmVkXy5l\nbWJlZCkpKTsKICAgICAgICBleGVjdXRlRXhwZWN0RmFpbChxLCBqcHFsKTsK\nICAgICAgICBleGVjdXRlRXhwZWN0RmFpbChqcHFsKTsKICAgIH0KICAgIAog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTY0KCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5\nQV9FbWJlZF9FbWJlZCBhIFdIRVJFIGV4aXN0cyAiICsKICAgICAgICAgICAg\nICAgICIgKHNlbGVjdCBhLmVtYmVkLmVtYmVkIGZyb20gRW50aXR5QV9FbWJl\nZF9FbWJlZCBhIHdoZXJlIGEuZW1iZWQgSVMgTk9UIE5VTEwpICI7CiAgICAg\nICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9FbWJlZD4gcSA9IGNiLmNyZWF0ZVF1\nZXJ5KEVtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFf\nRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZC5j\nbGFzcyk7CiAgICAgICAgcS5zZWxlY3QoYS5nZXQoRW50aXR5QV9FbWJlZF9F\nbWJlZF8uZW1iZWQpKTsKICAgICAgICBTdWJxdWVyeTxFbWJlZD4gc3EgPSBx\nLnN1YnF1ZXJ5KEVtYmVkLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFf\nRW1iZWRfRW1iZWQ+IGExID0gc3EuZnJvbShFbnRpdHlBX0VtYmVkX0VtYmVk\nLmNsYXNzKTsKICAgICAgICBzcS53aGVyZShjYi5pc05vdE51bGwoYTEuZ2V0\nKEVudGl0eUFfRW1iZWRfRW1iZWRfLmVtYmVkKSkpOwogICAgICAgIHNxLnNl\nbGVjdChhMS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF8uZW1iZWQpLmdldChF\nbWJlZF9FbWJlZF8uZW1iZWQpKTsKICAgICAgICBxLndoZXJlKGNiLmV4aXN0\ncyhzcSkpOwogICAgICAgIGV4ZWN1dGVFeHBlY3RGYWlsKHEsIGpwcWwpOwog\nICAgICAgIGV4ZWN1dGVFeHBlY3RGYWlsKGpwcWwpOyAgICB9CiAgICAKICAg\nIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk2NSgpIHsKICAgICAg\nICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBmcm9tIEVudGl0eUFfRW1iZWRf\nRW1iZWQgYSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbnRpdHlBX0VtYmVk\nX0VtYmVkPiBxID0gY2IuY3JlYXRlUXVlcnkoRW50aXR5QV9FbWJlZF9FbWJl\nZC5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkPiBh\nID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAg\nIHEuc2VsZWN0KGEpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpw\ncWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVl\ncnk2NigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5p\nbnRWYWwxLCBlLmVtYmVkLmludFZhbDIgZnJvbSAiICsKICAgICAgICAgICAg\nICAgICIgRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEsIGluIChhLmVtYmVk\ncykgZSBvcmRlciBieSBlLmludFZhbDMiOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRp\ndHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xs\nX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbnRpdHlB\nX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0VtYmVkPiBlID0gYS5qb2luKEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9y\nZGVyQnkoY2IuYXNjKGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwzKSkpOwog\nICAgICAgIHEubXVsdGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfRW1iZWRfLmlu\ndFZhbDIpLCBlLmdldChFbWJlZF9FbWJlZF8uZW1iZWQpLmdldChFbWJlZF8u\naW50VmFsMikpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1\nZXJ5NjgoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGEu\naWQgZnJvbSBFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQgYSwgaW4gKGEuZW1i\nZWRzKSBlIG9yZGVyIGJ5IGEuaWQiOwogICAgICAgIENyaXRlcmlhUXVlcnk8\nPz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlB\nX0NvbGxfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0VtYmVkPiBlID0gYS5qb2luKEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVy\nQnkoY2IuYXNjKGEuZ2V0KEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uaWQp\nKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBhLmdldChFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWRfLmlkKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RF\nbWJlZGRhYmxlUXVlcnk2OSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJz\nZWxlY3QgZSwgYS5pZCBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBh\nLCBpbiAoYS5lbWJlZHMpIGUgb3JkZXIgYnkgZSBkZXNjIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAg\nIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9tKEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpv\naW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZSA9\nIGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAg\nICAgICAgZS5hbGlhcygiZSIpOwogICAgICAgIHEub3JkZXJCeShjYi5kZXNj\nKGUpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGEuZ2V0KEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZF8uaWQpKTsKICAgICAgICBhc3NlcnRFcXVpdmFs\nZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVz\ndEVtYmVkZGFibGVRdWVyeTcwKCkgewogICAgICAgIFN0cmluZyBqcHFsID0g\nInNlbGVjdCBlLCBlLmludFZhbDEsIGUuZW1iZWQuaW50VmFsMiBmcm9tICIg\nKwogICAgICAgICAgICAgICAgIiBFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQg\nYSwgaW4gKGEuZW1iZWRzKSBlIFdIRVJFIGEuZW1iZWRzIElTIE5PVCBFTVBU\nWSAiICsKICAgICAgICAgICAgICAgICIgb3JkZXIgYnkgZS5pbnRWYWwzIjsK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgp\nOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhID0g\ncS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAg\nICAgTGlzdEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9F\nbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVt\nYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF9F\nbWJlZF8uaW50VmFsMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUu\nZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRf\nLmVtYmVkKS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBxLndoZXJl\nKGNiLmlzRW1wdHkoYS5nZXQoRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5l\nbWJlZHMpKS5ub3QoKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIC8vIGNvbXBhcmlzb24gb2YgZW1iZWRk\nYWJsZSBpcyBub3Qgc3VwcG9ydGVkCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1i\nZWRkYWJsZVF1ZXJ5NzEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2Vs\nZWN0IGUsIGUuaW50VmFsMSwgZS5lbWJlZC5pbnRWYWwyIGZyb20gIiArCiAg\nICAgICAgICAgICAgICAiIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhLCBp\nbiAoYS5lbWJlZHMpIGUgV0hFUkUgZXhpc3RzIChzZWxlY3QgYS5lbWJlZHMg\nIiArCiAgICAgICAgICAgICAgICAiIGZyb20gRW50aXR5QV9Db2xsX0VtYmVk\nX0VtYmVkIGEpIG9yZGVyIGJ5IGUuaW50VmFsMyI7CiAgICAgICAgICAgIAog\nICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7\nCiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGEgPSBx\nLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAg\nICBMaXN0Sm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0Vt\nYmVkPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1i\nZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0KEVtYmVkX0Vt\nYmVkXy5pbnRWYWwzKSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgZS5n\nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBlLmdldChFbWJlZF9FbWJlZF8u\nZW1iZWQpLmdldChFbWJlZF8uaW50VmFsMikpOwogICAgICAgIFN1YnF1ZXJ5\nPExpc3Q+IHNxID0gcS5zdWJxdWVyeShMaXN0LmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYTEgPSBzcS5mcm9tKEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgRXhwcmVz\nc2lvbiBlMiA9IGExLmdldChFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVt\nYmVkcyk7CiAgICAgICAgc3Euc2VsZWN0KGUyKTsKICAgICAgICBxLndoZXJl\nKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIGV4ZWN1dGVFeHBlY3RGYWlsKHEs\nIGpwcWwpOwogICAgICAgIGV4ZWN1dGVFeHBlY3RGYWlsKGpwcWwpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NzIo\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFs\nMSwgZS5lbWJlZC5pbnRWYWwyIGZyb20gIiArCiAgICAgICAgICAgICAgICAi\nIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhLCBpbiAoYS5lbWJlZHMpIGUg\nV0hFUkUgZS5pbnRWYWwxIDwgQU5ZIChzZWxlY3QgZTIuaW50VmFsMiAiICsK\nICAgICAgICAgICAgICAgICIgZnJvbSBFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWQgYTEsIGluIChhMS5lbWJlZHMpIGUyKSAiICsKICAgICAgICAgICAgICAg\nICIgb3JkZXIgYnkgZS5pbnRWYWwzIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5\nPD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5\nQV9Db2xsX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9F\nbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48RW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZSA9IGEuam9pbihFbnRp\ndHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgcS5vcmRl\nckJ5KGNiLmFzYyhlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMykpKTsKICAg\nICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRW\nYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRfLmVtYmVkKS5nZXQoRW1iZWRfLmlu\ndFZhbDIpKTsKICAgICAgICBTdWJxdWVyeTxJbnRlZ2VyPiBzcSA9IHEuc3Vi\ncXVlcnkoSW50ZWdlci5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWQ+IGExID0gc3EuZnJvbShFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIEpvaW48RW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZTIgPSBhMS5qb2luKEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBzcS5zZWxlY3Qo\nZTIuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwyKSk7CiAgICAgICAgcS53aGVy\nZShjYi5sdChlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGNiLmFueShz\ncSkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTcz\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZh\nbDEsIGUuZW1iZWQuaW50VmFsMiBmcm9tICIgKwogICAgICAgICAgICAgICAg\nIiBFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQgYSwgaW4gKGEuZW1iZWRzKSBl\nIFdIRVJFIGUuaW50VmFsMSA8IEFMTCAoc2VsZWN0IGUyLmludFZhbDIgIiAr\nCiAgICAgICAgICAgICAgICAiIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0Vt\nYmVkIGExLCBpbiAoYTEuZW1iZWRzKSBlMikgIiArCiAgICAgICAgICAgICAg\nICAiIG9yZGVyIGJ5IGUuaW50VmFsMyI7CiAgICAgICAgQ3JpdGVyaWFRdWVy\neTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0NvbGxf\nRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4oRW50\naXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEub3Jk\nZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7CiAg\nICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8uaW50\nVmFsMSksIGUuZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVkXy5p\nbnRWYWwyKSk7CiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1\nYnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkPiBhMSA9IHNxLmZyb20oRW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfQ29sbF9F\nbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUyID0gYTEuam9pbihFbnRpdHlB\nX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgc3Euc2VsZWN0\nKGUyLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMikpOwogICAgICAgIHEud2hl\ncmUoY2IubHQoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBjYi5hbGwo\nc3EpKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk3\nNCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5pbnRW\nYWwxLCBlLmVtYmVkLmludFZhbDIgZnJvbSAiICsKICAgICAgICAgICAgICAg\nICIgRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEsIGluIChhLmVtYmVkcykg\nZSBXSEVSRSBlLmludFZhbDEgPD0gU09NRSAiICsKICAgICAgICAgICAgICAg\nICIgKHNlbGVjdCBlMi5pbnRWYWwyIGZyb20gRW50aXR5QV9Db2xsX0VtYmVk\nX0VtYmVkIGExLCBpbiAoYTEuZW1iZWRzKSBlMikgIiArCiAgICAgICAgICAg\nICAgICAiIG9yZGVyIGJ5IGUuaW50VmFsMyI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4o\nRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEu\nb3JkZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7\nCiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8u\naW50VmFsMSksIGUuZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVk\nXy5pbnRWYWwyKSk7CiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBx\nLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5\nQV9Db2xsX0VtYmVkX0VtYmVkPiBhMSA9IHNxLmZyb20oRW50aXR5QV9Db2xs\nX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfQ29s\nbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUyID0gYTEuam9pbihFbnRp\ndHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgc3Euc2Vs\nZWN0KGUyLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMikpOwogICAgICAgIHEu\nd2hlcmUoY2IubGUoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBjYi5z\nb21lKHNxKSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1\nZXJ5NzUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUu\naW50VmFsMSwgZS5lbWJlZC5pbnRWYWwyIGZyb20gIiArCiAgICAgICAgICAg\nICAgICAiIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhLCBpbiAoYS5lbWJl\nZHMpIGUgV0hFUkUgZS5pbnRWYWwxID4gQUxMIChzZWxlY3QgZTIuaW50VmFs\nMiAiICsKICAgICAgICAgICAgICAgICIgZnJvbSBFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWQgYTEsIGluIChhMS5lbWJlZHMpIGUyKSBvcmRlciBieSBlLmlu\ndFZhbDMiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNz\nKTsKICAgICAgICBMaXN0Sm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQs\nIEVtYmVkX0VtYmVkPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9F\nbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0\nKEVtYmVkX0VtYmVkXy5pbnRWYWwzKSkpOwogICAgICAgIHEubXVsdGlzZWxl\nY3QoZSwgZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBlLmdldChFbWJl\nZF9FbWJlZF8uZW1iZWQpLmdldChFbWJlZF8uaW50VmFsMikpOwogICAgICAg\nIFN1YnF1ZXJ5PEludGVnZXI+IHNxID0gcS5zdWJxdWVyeShJbnRlZ2VyLmNs\nYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4g\nYTEgPSBzcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7\nCiAgICAgICAgSm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVk\nX0VtYmVkPiBlMiA9IGExLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVk\nXy5lbWJlZHMpOwogICAgICAgIHNxLnNlbGVjdChlMi5nZXQoRW1iZWRfRW1i\nZWRfLmludFZhbDIpKTsKICAgICAgICBxLndoZXJlKGNiLmd0KGUuZ2V0KEVt\nYmVkX0VtYmVkXy5pbnRWYWwxKSwgY2IuYWxsKHNxKSkpOwogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk3NigpIHsKICAgICAgICBTdHJpbmcg\nanBxbCA9ICJzZWxlY3QgZSwgZS5pbnRWYWwxLCBlLmVtYmVkLmludFZhbDIg\nZnJvbSBFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQgYSAiICsKICAgICAgICAg\nICAgICAgICIgLCBpbiAoYS5lbWJlZHMpIGUgV0hFUkUgZS5pbnRWYWwxIDwg\nQU5ZIChzZWxlY3QgZS5pbnRWYWwyICIgKwogICAgICAgICAgICAgICAgIiBm\ncm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhLCBpbiAoYS5lbWJlZHMp\nIGUpIG9yZGVyIGJ5IGUuaW50VmFsMyI7CgogICAgICAgIFN0cmluZyBleHBl\nY3RlZFNRTCA9ICJTRUxFQ1QgdDEuSW50VmFsMXgsIHQxLkludFZhbDJ4LCB0\nMS5JbnRWYWwzeCwgdDEuaW50VmFsMSwgdDEuaW50VmFsMiwgdDEuaW50VmFs\nMyAiICsgCiAgICAgICAgIkZST00gVEJMMUEgdDAgSU5ORVIgSk9JTiBUQkwx\nQV9lbWJlZHMgdDEgT04gdDAuaWQgPSB0MS5FTlRJVFlBX0NPTExfRU1CRURf\nRU1CRURfSUQgV0hFUkUgIiArIAogICAgICAgICIodDEuaW50VmFsMSA8IEFO\nWSAoIiArIAogICAgICAgICJTRUxFQ1QgdDMuaW50VmFsMiBGUk9NIFRCTDFB\nIHQyICIgKwogICAgICAgICJJTk5FUiBKT0lOIFRCTDFBX2VtYmVkcyB0MyBP\nTiB0Mi5pZCA9IHQzLkVOVElUWUFfQ09MTF9FTUJFRF9FTUJFRF9JRCkpICIg\nKyAKICAgICAgICAiT1JERVIgQlkgdDEuaW50VmFsMyBBU0MiOwoKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAg\nICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9t\nKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlz\ndEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4g\nZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7\nCiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF9FbWJlZF8u\naW50VmFsMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVt\nYmVkX0VtYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRfLmVtYmVk\nKS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBTdWJxdWVyeTxJbnRl\nZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50ZWdlci5jbGFzcyk7CiAgICAgICAg\nUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGExID0gc3EuZnJvbShF\nbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIEpvaW48\nRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZTIgPSBh\nMS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAg\nICAgICBzcS5zZWxlY3QoZTIuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwyKSk7\nCiAgICAgICAgcS53aGVyZShjYi5sdChlLmdldChFbWJlZF9FbWJlZF8uaW50\nVmFsMSksIGNiLmFueShzcSkpKTsKICAgICAgICAKICAgICAgICBhc3NlcnRF\ncXVpdmFsZW5jZShxLCBqcHFsLCBleHBlY3RlZFNRTCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTc3KCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZhbDEsIGUuZW1iZWQu\naW50VmFsMiBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhICIgKwog\nICAgICAgICAgICAgICAgIiAsIGluIChhLmVtYmVkcykgZSBXSEVSRSBlLmlu\ndFZhbDEgPCBBTEwgKHNlbGVjdCBlLmludFZhbDIgIiArCiAgICAgICAgICAg\nICAgICAiIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEsIGluIChh\nLmVtYmVkcykgZSkgb3JkZXIgYnkgZS5pbnRWYWwzIjsKCiAgICAgICAgU3Ry\naW5nIGV4cGVjdGVkU1FMID0gIlNFTEVDVCB0MS5JbnRWYWwxeCwgdDEuSW50\nVmFsMngsIHQxLkludFZhbDN4LCB0MS5pbnRWYWwxLCB0MS5pbnRWYWwyLCB0\nMS5pbnRWYWwzICIgKyAKICAgICAgICAiRlJPTSBUQkwxQSB0MCBJTk5FUiBK\nT0lOIFRCTDFBX2VtYmVkcyB0MSBPTiB0MC5pZCA9IHQxLkVOVElUWUFfQ09M\nTF9FTUJFRF9FTUJFRF9JRCAiICsKICAgICAgICAiV0hFUkUgKHQxLmludFZh\nbDEgPCBBTEwgKCIgKyAKICAgICAgICAiU0VMRUNUIHQzLmludFZhbDIgRlJP\nTSBUQkwxQSB0MiBJTk5FUiBKT0lOIFRCTDFBX2VtYmVkcyB0MyAiICsKICAg\nICAgICAiT04gdDIuaWQgPSB0My5FTlRJVFlBX0NPTExfRU1CRURfRU1CRURf\nSUQpKSAiICsgCiAgICAgICAgIk9SREVSIEJZIHQxLmludFZhbDMgQVNDIjsK\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnko\nKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9\nIHEuZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAg\nICAgIExpc3RKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRf\nRW1iZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5l\nbWJlZHMpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRf\nRW1iZWRfLmludFZhbDMpKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBl\nLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGUuZ2V0KEVtYmVkX0VtYmVk\nXy5lbWJlZCkuZ2V0KEVtYmVkXy5pbnRWYWwyKSk7CiAgICAgICAgU3VicXVl\ncnk8SW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwog\nICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhMSA9IHNx\nLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAg\nICBKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+\nIGUyID0gYTEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVk\ncyk7CiAgICAgICAgc3Euc2VsZWN0KGUyLmdldChFbWJlZF9FbWJlZF8uaW50\nVmFsMikpOwogICAgICAgIHEud2hlcmUoY2IubHQoZS5nZXQoRW1iZWRfRW1i\nZWRfLmludFZhbDEpLCBjYi5hbGwoc3EpKSk7CiAgICAgICAgYXNzZXJ0RXF1\naXZhbGVuY2UocSwganBxbCwgZXhwZWN0ZWRTUUwpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NzgoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5lbWJl\nZC5pbnRWYWwyIGZyb20gIiArCiAgICAgICAgICAgICAgICAiIEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZCBhLCBpbiAoYS5lbWJlZHMpIGUgV0hFUkUgZS5p\nbnRWYWwxIDw9IFNPTUUgIiArCiAgICAgICAgICAgICAgICAiIChzZWxlY3Qg\nZS5pbnRWYWwyIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEsIGlu\nIChhLmVtYmVkcykgZSkgIiArCiAgICAgICAgICAgICAgICAiIG9yZGVyIGJ5\nIGUuaW50VmFsMyI7CiAgICAgICAgU3RyaW5nIGV4cGVjdGVkU1FMID0gIlNF\nTEVDVCB0MS5JbnRWYWwxeCwgdDEuSW50VmFsMngsIHQxLkludFZhbDN4LCB0\nMS5pbnRWYWwxLCB0MS5pbnRWYWwyLCB0MS5pbnRWYWwzICIgKyAKICAgICAg\nICAiRlJPTSBUQkwxQSB0MCBJTk5FUiBKT0lOIFRCTDFBX2VtYmVkcyB0MSBP\nTiB0MC5pZCA9IHQxLkVOVElUWUFfQ09MTF9FTUJFRF9FTUJFRF9JRCAiICsK\nICAgICAgICAiV0hFUkUgKHQxLmludFZhbDEgPD0gQU5ZICgiICsgCiAgICAg\nICAgIlNFTEVDVCB0My5pbnRWYWwyIEZST00gVEJMMUEgdDIgSU5ORVIgSk9J\nTiBUQkwxQV9lbWJlZHMgdDMgT04gdDIuaWQgPSB0My5FTlRJVFlBX0NPTExf\nRU1CRURfRU1CRURfSUQpKSAiICsgCiAgICAgICAgIk9SREVSIEJZIHQxLmlu\ndFZhbDMgQVNDIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5j\ncmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVk\nX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5j\nbGFzcyk7CiAgICAgICAgTGlzdEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0Vt\nYmVkLCBFbWJlZF9FbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhl\nLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMykpKTsKICAgICAgICBxLm11bHRp\nc2VsZWN0KGUsIGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwgZS5nZXQo\nRW1iZWRfRW1iZWRfLmVtYmVkKS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAg\nICAgICBTdWJxdWVyeTxJbnRlZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50ZWdl\nci5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWQ+IGExID0gc3EuZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQuY2xh\nc3MpOwogICAgICAgIEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBF\nbWJlZF9FbWJlZD4gZTIgPSBhMS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9F\nbWJlZF8uZW1iZWRzKTsKICAgICAgICBzcS5zZWxlY3QoZTIuZ2V0KEVtYmVk\nX0VtYmVkXy5pbnRWYWwyKSk7CiAgICAgICAgcS53aGVyZShjYi5sZShlLmdl\ndChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGNiLnNvbWUoc3EpKSk7CiAgICAg\nICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCwgZXhwZWN0ZWRTUUwpOwog\nICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5\nNzkoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50\nVmFsMSwgZS5lbWJlZC5pbnRWYWwyIGZyb20gRW50aXR5QV9Db2xsX0VtYmVk\nX0VtYmVkIGEgIiArCiAgICAgICAgICAgICAgICAiICwgaW4gKGEuZW1iZWRz\nKSBlIFdIRVJFIGUuaW50VmFsMSA+IEFMTCAoc2VsZWN0IGUuaW50VmFsMiAi\nICsKICAgICAgICAgICAgICAgICIgZnJvbSBFbnRpdHlBX0NvbGxfRW1iZWRf\nRW1iZWQgYSwgaW4gKGEuZW1iZWRzKSBlKSBvcmRlciBieSBlLmludFZhbDMi\nOwogICAgICAgIFN0cmluZyBleHBlY3RlZFNRTCA9ICJTRUxFQ1QgdDEuSW50\nVmFsMXgsIHQxLkludFZhbDJ4LCB0MS5JbnRWYWwzeCwgdDEuaW50VmFsMSwg\ndDEuaW50VmFsMiwgdDEuaW50VmFsMyAiICsgCiAgICAgICAgICAgICJGUk9N\nIFRCTDFBIHQwIElOTkVSIEpPSU4gVEJMMUFfZW1iZWRzIHQxIE9OIHQwLmlk\nID0gdDEuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVEX0lEICIgKwogICAgICAg\nICAgICAiV0hFUkUgKHQxLmludFZhbDEgPiBBTEwgKCIgKyAKICAgICAgICAg\nICAgIlNFTEVDVCB0My5pbnRWYWwyIEZST00gVEJMMUEgdDIgSU5ORVIgSk9J\nTiBUQkwxQV9lbWJlZHMgdDMgT04gdDIuaWQgPSB0My5FTlRJVFlBX0NPTExf\nRU1CRURfRU1CRURfSUQpKSAiICsgCiAgICAgICAgICAgICJPUkRFUiBCWSB0\nMS5pbnRWYWwzIEFTQyI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0g\nY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9F\nbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0eUFfQ29sbF9FbWJl\nZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9Db2xs\nX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEub3JkZXJCeShjYi5h\nc2MoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7CiAgICAgICAgcS5t\ndWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGUu\nZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVkXy5pbnRWYWwyKSk7\nCiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KElu\ndGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVk\nX0VtYmVkPiBhMSA9IHNxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVk\nLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJl\nZCwgRW1iZWRfRW1iZWQ+IGUyID0gYTEuam9pbihFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgc3Euc2VsZWN0KGUyLmdldChF\nbWJlZF9FbWJlZF8uaW50VmFsMikpOwogICAgICAgIHEud2hlcmUoY2IuZ3Qo\nZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBjYi5hbGwoc3EpKSk7CiAg\nICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCwgZXhwZWN0ZWRTUUwp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1\nZXJ5ODAoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUu\naW50VmFsMSwgZS5lbWJlZC5pbnRWYWwyIGZyb20gRW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkIGEgIiArCiAgICAgICAgICAgICAgICAiICwgaW4gKGEuZW1i\nZWRzKSBlIFdIRVJFIGUuaW50VmFsMSA8IEFOWSAoc2VsZWN0IGUyLmludFZh\nbDIgIiArCiAgICAgICAgICAgICAgICAiIGZyb20gaW4oYS5lbWJlZHMpIGUy\nKSBvcmRlciBieSBlLmludFZhbDMiOwogICAgICAgIFN0cmluZyBleHBlY3Rl\nZFNRTCA9ICJTRUxFQ1QgdDEuSW50VmFsMXgsIHQxLkludFZhbDJ4LCB0MS5J\nbnRWYWwzeCwgdDEuaW50VmFsMSwgdDEuaW50VmFsMiwgdDEuaW50VmFsMyAi\nICsgCiAgICAgICAgIkZST00gVEJMMUEgdDAgSU5ORVIgSk9JTiBUQkwxQV9l\nbWJlZHMgdDEgT04gdDAuaWQgPSB0MS5FTlRJVFlBX0NPTExfRU1CRURfRU1C\nRURfSUQgV0hFUkUgIiArIAogICAgICAgICIodDEuaW50VmFsMSA8IEFOWSAo\nU0VMRUNUIHQyLmludFZhbDIgRlJPTSBUQkwxQV9lbWJlZHMgdDIgIiArIAog\nICAgICAgICJXSEVSRSAodDAuaWQgPSB0Mi5FTlRJVFlBX0NPTExfRU1CRURf\nRU1CRURfSUQpKSkgT1JERVIgQlkgdDEuaW50VmFsMyBBU0MiOwoKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAg\nICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9t\nKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlz\ndEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4g\nZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7\nCiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF9FbWJlZF8u\naW50VmFsMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVt\nYmVkX0VtYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRfLmVtYmVk\nKS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBTdWJxdWVyeTxJbnRl\nZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50ZWdlci5jbGFzcyk7CiAgICAgICAg\nUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGExID0gc3EuY29ycmVs\nYXRlKGEpOwogICAgICAgIEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVk\nLCBFbWJlZF9FbWJlZD4gZTIgPSBhMS5qb2luKEVudGl0eUFfQ29sbF9FbWJl\nZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBzcS5zZWxlY3QoZTIuZ2V0KEVt\nYmVkX0VtYmVkXy5pbnRWYWwyKSk7CiAgICAgICAgcS53aGVyZShjYi5sdChl\nLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGNiLmFueShzcSkpKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsLCBleHBlY3RlZFNRTCk7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVl\ncnk4MSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5p\nbnRWYWwxLCBlLmVtYmVkLmludFZhbDIgZnJvbSBFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWQgYSAiICsKICAgICAgICAgICAgICAgICIgLCBpbiAoYS5lbWJl\nZHMpIGUgV0hFUkUgZS5pbnRWYWwxIDwgQUxMIChzZWxlY3QgZTIuaW50VmFs\nMiAiICsKICAgICAgICAgICAgICAgICIgZnJvbSBhLmVtYmVkcyBlMikgb3Jk\nZXIgYnkgZS5pbnRWYWwzIjsKICAgICAgICBTdHJpbmcgZXhwZWN0ZWRTUUwg\nPSAiU0VMRUNUIHQxLkludFZhbDF4LCB0MS5JbnRWYWwyeCwgdDEuSW50VmFs\nM3gsIHQxLmludFZhbDEsIHQxLmludFZhbDIsIHQxLmludFZhbDMgIiArIAog\nICAgICAgICJGUk9NIFRCTDFBIHQwIElOTkVSIEpPSU4gVEJMMUFfZW1iZWRz\nIHQxIE9OIHQwLmlkID0gdDEuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVEX0lE\nIFdIRVJFICIgKyAKICAgICAgICAiKHQxLmludFZhbDEgPCBBTEwgKFNFTEVD\nVCB0Mi5pbnRWYWwyIEZST00gVEJMMUFfZW1iZWRzIHQyICIgKyAKICAgICAg\nICAiV0hFUkUgKHQwLmlkID0gdDIuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVE\nX0lEKSkpICIgKyAKICAgICAgICAiT1JERVIgQlkgdDEuaW50VmFsMyBBU0Mi\nOwoKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVy\neSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBh\nID0gcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAg\nICAgICAgTGlzdEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJl\nZF9FbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRf\nLmVtYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJl\nZF9FbWJlZF8uaW50VmFsMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUs\nIGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1i\nZWRfLmVtYmVkKS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBTdWJx\ndWVyeTxJbnRlZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50ZWdlci5jbGFzcyk7\nCiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGExID0g\nc3EuY29ycmVsYXRlKGEpOwogICAgICAgIEpvaW48RW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZTIgPSBhMS5qb2luKEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBzcS5zZWxlY3Qo\nZTIuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwyKSk7CiAgICAgICAgcS53aGVy\nZShjYi5sdChlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGNiLmFsbChz\ncSkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsLCBleHBl\nY3RlZFNRTCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJl\nZGRhYmxlUXVlcnk4MigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxl\nY3QgZSwgZS5pbnRWYWwxLCBlLmVtYmVkLmludFZhbDIgZnJvbSBFbnRpdHlB\nX0NvbGxfRW1iZWRfRW1iZWQgYSAiICsKICAgICAgICAgICAgICAgICIgLCBp\nbiAoYS5lbWJlZHMpIGUgV0hFUkUgZS5pbnRWYWwxIDw9IFNPTUUgKHNlbGVj\ndCBlMi5pbnRWYWwyICIgKwogICAgICAgICAgICAgICAgIiBmcm9tIGluKGEu\nZW1iZWRzKSBlMikgb3JkZXIgYnkgZS5pbnRWYWwzIjsKICAgICAgICBTdHJp\nbmcgZXhwZWN0ZWRTUUwgPSAiU0VMRUNUIHQxLkludFZhbDF4LCB0MS5JbnRW\nYWwyeCwgdDEuSW50VmFsM3gsIHQxLmludFZhbDEsIHQxLmludFZhbDIsIHQx\nLmludFZhbDMgIiArIAogICAgICAgICJGUk9NIFRCTDFBIHQwIElOTkVSIEpP\nSU4gVEJMMUFfZW1iZWRzIHQxIE9OIHQwLmlkID0gdDEuRU5USVRZQV9DT0xM\nX0VNQkVEX0VNQkVEX0lEIFdIRVJFICIgKyAKICAgICAgICAiKHQxLmludFZh\nbDEgPD0gQU5ZIChTRUxFQ1QgdDIuaW50VmFsMiBGUk9NIFRCTDFBX2VtYmVk\ncyB0MiAiICsgCiAgICAgICAgIldIRVJFICh0MC5pZCA9IHQyLkVOVElUWUFf\nQ09MTF9FTUJFRF9FTUJFRF9JRCkpKSAiICsgCiAgICAgICAgIk9SREVSIEJZ\nIHQxLmludFZhbDMgQVNDIjsKCiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBx\nID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0eUFfQ29s\nbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRf\nRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0eUFfQ29sbF9F\nbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEub3JkZXJCeShj\nYi5hc2MoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7CiAgICAgICAg\ncS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMSks\nIGUuZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVkXy5pbnRWYWwy\nKSk7CiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5\nKEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkPiBhMSA9IHNxLmNvcnJlbGF0ZShhKTsKICAgICAgICBKb2lu\nPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUyID0g\nYTEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAg\nICAgICAgc3Euc2VsZWN0KGUyLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMikp\nOwogICAgICAgIHEud2hlcmUoY2IubGUoZS5nZXQoRW1iZWRfRW1iZWRfLmlu\ndFZhbDEpLCBjYi5zb21lKHNxKSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxl\nbmNlKHEsIGpwcWwsIGV4cGVjdGVkU1FMKTsKICAgIH0KICAgIAogICAgcHVi\nbGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTgzKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZhbDEsIGUuZW1iZWQuaW50\nVmFsMiBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhICIgKwogICAg\nICAgICAgICAgICAgIiAsIGluIChhLmVtYmVkcykgZSBXSEVSRSBlLmludFZh\nbDEgPiBBTEwgKHNlbGVjdCBlMi5pbnRWYWwyICIgKwogICAgICAgICAgICAg\nICAgIiBmcm9tIGEuZW1iZWRzIGUyKSBvcmRlciBieSBlLmludFZhbDMiOwog\nICAgICAgIFN0cmluZyBleHBlY3RlZFNRTCA9ICJTRUxFQ1QgdDEuSW50VmFs\nMXgsIHQxLkludFZhbDJ4LCB0MS5JbnRWYWwzeCwgdDEuaW50VmFsMSwgdDEu\naW50VmFsMiwgdDEuaW50VmFsMyAiICsgCiAgICAgICAgIkZST00gVEJMMUEg\ndDAgSU5ORVIgSk9JTiBUQkwxQV9lbWJlZHMgdDEgT04gdDAuaWQgPSB0MS5F\nTlRJVFlBX0NPTExfRU1CRURfRU1CRURfSUQgV0hFUkUgIiArIAogICAgICAg\nICIodDEuaW50VmFsMSA+IEFMTCAoU0VMRUNUIHQyLmludFZhbDIgRlJPTSBU\nQkwxQV9lbWJlZHMgdDIgIiArIAogICAgICAgICJXSEVSRSAodDAuaWQgPSB0\nMi5FTlRJVFlBX0NPTExfRU1CRURfRU1CRURfSUQpKSkgIiArIAogICAgICAg\nICJPUkRFUiBCWSB0MS5pbnRWYWwzIEFTQyI7CgogICAgICAgIENyaXRlcmlh\nUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxF\nbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbnRp\ndHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0VtYmVkPiBlID0gYS5qb2lu\nKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBx\nLm9yZGVyQnkoY2IuYXNjKGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwzKSkp\nOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfRW1iZWRf\nLmludFZhbDEpLCBlLmdldChFbWJlZF9FbWJlZF8uZW1iZWQpLmdldChFbWJl\nZF8uaW50VmFsMikpOwogICAgICAgIFN1YnF1ZXJ5PEludGVnZXI+IHNxID0g\ncS5zdWJxdWVyeShJbnRlZ2VyLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZD4gYTEgPSBzcS5jb3JyZWxhdGUoYSk7CiAg\nICAgICAgSm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0Vt\nYmVkPiBlMiA9IGExLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5l\nbWJlZHMpOwogICAgICAgIHNxLnNlbGVjdChlMi5nZXQoRW1iZWRfRW1iZWRf\nLmludFZhbDIpKTsKICAgICAgICBxLndoZXJlKGNiLmd0KGUuZ2V0KEVtYmVk\nX0VtYmVkXy5pbnRWYWwxKSwgY2IuYWxsKHNxKSkpOwogICAgICAgIGFzc2Vy\ndEVxdWl2YWxlbmNlKHEsIGpwcWwsIGV4cGVjdGVkU1FMKTsKICAgIH0KICAg\nIAogICAgQEFsbG93RmFpbHVyZShtZXNzYWdlPSJKUFFMIHBhcnNlIGVycm9y\nIikKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk4NCgpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5pbnRWYWwxLCBl\nLmVtYmVkLmludFZhbDIgZnJvbSBFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQg\nYSwgIiArCiAgICAgICAgICAgICAgICAiIGluIChhLmVtYmVkcykgZSBXSEVS\nRSA6ZW1iZWQyIE1FTUJFUiBPRiBhLmVtYmVkcyBvcmRlciBieSBlLmludFZh\nbDMiOwogICAgICAgIENyaXRlcmlhUXVlcnk8VHVwbGU+IHEgPSBjYi5jcmVh\ndGVUdXBsZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVk\nLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRf\nRW1iZWQsIEVtYmVkX0VtYmVkPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9F\nbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNj\nKGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwzKSkpOwogICAgICAgIHEubXVs\ndGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBlLmdl\ndChFbWJlZF9FbWJlZF8uZW1iZWQpLmdldChFbWJlZF8uaW50VmFsMikpOwog\nICAgICAgIFBhcmFtZXRlckV4cHJlc3Npb248RW1iZWRfRW1iZWQ+IHBhcmFt\nMSA9IGNiLnBhcmFtZXRlcihFbWJlZF9FbWJlZC5jbGFzcywgImVtYmVkMiIp\nOwogICAgICAgIHEud2hlcmUoY2IuaXNNZW1iZXIocGFyYW0xLCBhLmdldChF\nbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcykpKTsKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShuZXcgUXVlcnlEZWNvcmF0b3IoKSB7CiAgICAg\nICAgICAgIHB1YmxpYyB2b2lkIGRlY29yYXRlKFF1ZXJ5IHEpIHsKICAgICAg\nICAgICAgICAgIHEuc2V0UGFyYW1ldGVyKCJlbWJlZDIiLCBuZXcgRW1iZWRf\nRW1iZWQoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCBxLCBqcHFsKTsK\nICAgIH0KICAgIAogICAgQEFsbG93RmFpbHVyZShtZXNzYWdlPSJKUFFMIHBh\ncnNlIGVycm9yIikKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVl\ncnk4NSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5p\nbnRWYWwxLCBlLmVtYmVkLmludFZhbDIgZnJvbSBFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWQgYSAiICsKICAgICAgICAgICAgICAgICIgbGVmdCBqb2luIGEu\nZW1iZWRzIGUgV0hFUkUgOmVtYmVkMiBNRU1CRVIgT0YgYS5lbWJlZHMgb3Jk\nZXIgYnkgZS5pbnRWYWwzIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEg\nPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xs\nX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9F\nbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48RW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWRfLmVtYmVkcywgSm9pblR5cGUuTEVGVCk7CiAgICAg\nICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF9FbWJlZF8uaW50VmFs\nMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVkX0Vt\nYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRfLmVtYmVkKS5nZXQo\nRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBQYXJhbWV0ZXJFeHByZXNzaW9u\nPEVtYmVkX0VtYmVkPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIoRW1iZWRfRW1i\nZWQuY2xhc3MsICJlbWJlZDIiKTsKICAgICAgICBxLndoZXJlKGNiLmlzTWVt\nYmVyKHBhcmFtMSwgYS5nZXQoRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5l\nbWJlZHMpKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2Uo\nbmV3IFF1ZXJ5RGVjb3JhdG9yKCkgewogICAgICAgICAgICBwdWJsaWMgdm9p\nZCBkZWNvcmF0ZShRdWVyeSBxKSB7CiAgICAgICAgICAgICAgICBxLnNldFBh\ncmFtZXRlcigiZW1iZWQyIiwgbmV3IEVtYmVkX0VtYmVkKCkpOwogICAgICAg\nICAgICB9CiAgICAgICAgfSwgcSwganBxbCk7CiAgICB9CiAgICAKICAgIEBB\nbGxvd0ZhaWx1cmUobWVzc2FnZT0iSlBRTCBwYXJzZSBlcnJvciIpCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5ODYoKSB7CiAgICAgICAg\nU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5lbWJlZC5p\nbnRWYWwyIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEgIiArCiAg\nICAgICAgICAgICAgICAiICwgaW4gKGEuZW1iZWRzKSBlIFdIRVJFID8xID0g\nZSBvcmRlciBieSBlLmludFZhbDMiOwogICAgICAgIENyaXRlcmlhUXVlcnk8\nPz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlB\nX0NvbGxfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0VtYmVkPiBlID0gYS5qb2luKEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVy\nQnkoY2IuYXNjKGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwzKSkpOwogICAg\nICAgIHEubXVsdGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfRW1iZWRfLmludFZh\nbDEpLCBlLmdldChFbWJlZF9FbWJlZF8uZW1iZWQpLmdldChFbWJlZF8uaW50\nVmFsMikpOwogICAgICAgIFBhcmFtZXRlcjxFbWJlZF9FbWJlZD4gcGFyYW0x\nID0gY2IucGFyYW1ldGVyKEVtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICAv\nL3Eud2hlcmUoY2IuZXF1YWwocGFyYW0xLCBlKSk7CiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UobmV3IFF1ZXJ5RGVjb3JhdG9yKCkgewogICAgICAgICAg\nICBwdWJsaWMgdm9pZCBkZWNvcmF0ZShRdWVyeSBxKSB7CiAgICAgICAgICAg\nICAgICBxLnNldFBhcmFtZXRlcigiZW1iZWQyIiwgbmV3IEVtYmVkX0VtYmVk\nKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgcSwganBxbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTg3KCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gRW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkIGEiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW50\naXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBxID0gY2IuY3JlYXRlUXVlcnkoRW50\naXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBSb290PEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGEpOwog\nICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk4OCgpIHsKICAgICAg\nICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5pbnRWYWwxLCBlLmludFZh\nbDIgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQgYSAiICsKICAgICAg\nICAgICAgICAgICIgLCBpbiAoYS5lbWJlZC5lbWJlZHMpIGUgb3JkZXIgYnkg\nZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVl\ncnkoKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZD4g\nYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQuY2xhc3MpOwog\nICAgICAgIExpc3RKb2luPEVtYmVkX0NvbGxfRW1iZWQsIEVtYmVkPiBlID0g\nYS5qb2luKEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZF8uZW1iZWQpLmpvaW4o\nRW1iZWRfQ29sbF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnko\nY2IuYXNjKGUpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVt\nYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTg5KCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZhbDEgZnJvbSBFbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWQgYSwgaW4gKGEuZW1iZWQuZW1iZWRzKSBl\nIG9yZGVyIGJ5IGUuaW50VmFsMyI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/\nPiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0eUFf\nRW1iZWRfQ29sbF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0Nv\nbGxfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVtYmVkX0NvbGxf\nRW1iZWQsIEVtYmVkPiBlID0gYS5qb2luKEVudGl0eUFfRW1iZWRfQ29sbF9F\nbWJlZF8uZW1iZWQpLmpvaW4oRW1iZWRfQ29sbF9FbWJlZF8uZW1iZWRzKTsK\nICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0KEVtYmVkXy5pbnRWYWwz\nKSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfLmlu\ndFZhbDEpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsK\nICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVy\neTkwKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBhLmlk\nIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkIGEsIGluIChhLmVtYmVk\nLmVtYmVkcykgZSBvcmRlciBieSBhLmlkIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50\naXR5QV9FbWJlZF9Db2xsX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfRW1i\nZWRfQ29sbF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48RW1iZWRf\nQ29sbF9FbWJlZCwgRW1iZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9D\nb2xsX0VtYmVkXy5lbWJlZCkuam9pbihFbWJlZF9Db2xsX0VtYmVkXy5lbWJl\nZHMpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoYS5nZXQoRW50aXR5QV9F\nbWJlZF9Db2xsX0VtYmVkXy5pZCkpKTsKICAgICAgICBxLm11bHRpc2VsZWN0\nKGUsIGUuZ2V0KEVtYmVkXy5pbnRWYWwxKSwgYS5nZXQoRW50aXR5QV9FbWJl\nZF9Db2xsX0VtYmVkXy5pZCkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1i\nZWRkYWJsZVF1ZXJ5OTEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2Vs\nZWN0IGUsIGUuaW50VmFsMSwgZS5pbnRWYWwyIGZyb20gRW50aXR5QV9FbWJl\nZF9Db2xsX0VtYmVkIGEgIiArCiAgICAgICAgICAgICAgICAiICwgaW4gKGEu\nZW1iZWQuZW1iZWRzKSBlIG9yZGVyIGJ5IGUuaW50VmFsMyI7CiAgICAgICAg\nQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAg\nICBSb290PEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZD4gYSA9IHEuZnJvbShF\nbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RK\nb2luPEVtYmVkX0NvbGxfRW1iZWQsIEVtYmVkPiBlID0gYS5qb2luKEVudGl0\neUFfRW1iZWRfQ29sbF9FbWJlZF8uZW1iZWQpLmpvaW4oRW1iZWRfQ29sbF9F\nbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0\nKEVtYmVkXy5pbnRWYWwzKSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwg\nZS5nZXQoRW1iZWRfLmludFZhbDEpLCBlLmdldChFbWJlZF8uaW50VmFsMikp\nOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQog\nICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5OTIoKSB7\nCiAgICAgICAgU3RyaW5nIGpwcWwxID0gInNlbGVjdCBlLCBlLmludFZhbDEs\nIGUuaW50VmFsMiBmcm9tIEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZCBhICIg\nKwogICAgICAgICAgICAiICwgaW4gKGEuZW1iZWQuZW1iZWRzKSBlIHdoZXJl\nIGEuZW1iZWQuZW1iZWRzIElTIE5PVCBFTVBUWSBvcmRlciBieSBlIjsKICAg\nICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZTEsIGUxLmludFZhbDEsIGUx\nLmludFZhbDIgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQgYSAiICsK\nICAgICAgICAgICAgIkpPSU4gYS5lbWJlZCBlIEpPSU4gZS5lbWJlZHMgZTEg\nd2hlcmUgZS5lbWJlZHMgSVMgTk9UIEVNUFRZIG9yZGVyIGJ5IGUxIjsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwog\nICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkPiBhID0gcS5m\ncm9tKEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZC5jbGFzcyk7CiAgICAgICAg\nTGlzdEpvaW48RW1iZWRfQ29sbF9FbWJlZCwgRW1iZWQ+IGUgPSBhLmpvaW4o\nRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkXy5lbWJlZCkuam9pbihFbWJlZF9D\nb2xsX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2Mo\nZSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfLmlu\ndFZhbDEpLCBlLmdldChFbWJlZF8uaW50VmFsMikpOwogICAgICAgIHEud2hl\ncmUoY2IuaXNFbXB0eShhLmdldChFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWRf\nLmVtYmVkKS5nZXQoRW1iZWRfQ29sbF9FbWJlZF8uZW1iZWRzKSkubm90KCkp\nOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk5MygpIHsKICAg\nICAgICBTdHJpbmcganBxbDEgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5p\nbnRWYWwyIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkIGEgIiArCiAg\nICAgICAgICAgICIgLCBpbiAoYS5lbWJlZC5lbWJlZHMpIGUgd2hlcmUgZXhp\nc3RzIChzZWxlY3QgZS5pbnRWYWwxICIgKwogICAgICAgICAgICAiIGZyb20g\nRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkIGEsIGluIChhLmVtYmVkLmVtYmVk\ncykgZSAiICsKICAgICAgICAgICAgIiB3aGVyZSBlLmludFZhbDIgPSAxMDUp\nIG9yZGVyIGJ5IGUiOwogICAgICAgIAogICAgICAgIFN0cmluZyBqcHFsID0g\nInNlbGVjdCBlLCBlLmludFZhbDEsIGUuaW50VmFsMiBmcm9tIEVudGl0eUFf\nRW1iZWRfQ29sbF9FbWJlZCBhICIgKwogICAgICAgICAgICAiIEpPSU4gYS5l\nbWJlZCBhZSBKT0lOIGFlLmVtYmVkcyBlIHdoZXJlIGV4aXN0cyAoc2VsZWN0\nIGUuaW50VmFsMSAiICsKICAgICAgICAgICAgIiBmcm9tIEVudGl0eUFfRW1i\nZWRfQ29sbF9FbWJlZCBhIEpPSU4gYS5lbWJlZCBhZSBKT0lOIGFlLmVtYmVk\ncyBlICIgKwogICAgICAgICAgICAiIHdoZXJlIGUuaW50VmFsMiA9IDEwNSkg\nb3JkZXIgYnkgZSI7CgogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0Nv\nbGxfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVk\nLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbWJlZF9Db2xsX0VtYmVkLCBF\nbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWRfLmVt\nYmVkKS5qb2luKEVtYmVkX0NvbGxfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAg\ncS5vcmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChl\nLCBlLmdldChFbWJlZF8uaW50VmFsMSksIGUuZ2V0KEVtYmVkXy5pbnRWYWwy\nKSk7CiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5\nKEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9D\nb2xsX0VtYmVkPiBhMSA9IHNxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0Vt\nYmVkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbWJlZF9Db2xsX0VtYmVk\nLCBFbWJlZD4gZTEgPSBhMS5qb2luKEVudGl0eUFfRW1iZWRfQ29sbF9FbWJl\nZF8uZW1iZWQpLmpvaW4oRW1iZWRfQ29sbF9FbWJlZF8uZW1iZWRzKTsKICAg\nICAgICBzcS53aGVyZShjYi5lcXVhbChlMS5nZXQoRW1iZWRfLmludFZhbDIp\nLCAxMDUpKTsKICAgICAgICBzcS5zZWxlY3QoZTEuZ2V0KEVtYmVkXy5pbnRW\nYWwxKSk7CiAgICAgICAgcS53aGVyZShjYi5leGlzdHMoc3EpKTsKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTk0KCkgewogICAgICAg\nIFN0cmluZyBqcHFsMSA9ICJzZWxlY3QgZSwgYSBmcm9tIEVudGl0eUFfRW1i\nZWRfQ29sbF9FbWJlZCBhLCBpbiAoYS5lbWJlZC5lbWJlZHMpIGUgIiArCiAg\nICAgICAgICAgICIgd2hlcmUgZS5pbnRWYWwxID0gU09NRSAoc2VsZWN0IGUy\nLmludFZhbDEgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQgYTIgIiAr\nCiAgICAgICAgICAgICIgLCBpbiAoYTIuZW1iZWQuZW1iZWRzKSBlMikgb3Jk\nZXIgYnkgZSI7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGEx\nIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkIGExIEpPSU4gYTEuZW1i\nZWQgYTAgSk9JTiBhMC5lbWJlZHMgZSAiICsKICAgICAgICAgICAgIiB3aGVy\nZSBlLmludFZhbDEgPSBTT01FIChzZWxlY3QgZTIuaW50VmFsMSBmcm9tIEVu\ndGl0eUFfRW1iZWRfQ29sbF9FbWJlZCBhMiAiICsKICAgICAgICAgICAgIkpP\nSU4gYTIuZW1iZWQgZTAgSk9JTiBlMC5lbWJlZHMgZTIpIG9yZGVyIGJ5IGUi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5\nKCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQ+IGEg\nPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkLmNsYXNzKTsKICAg\nICAgICBMaXN0Sm9pbjxFbWJlZF9Db2xsX0VtYmVkLCBFbWJlZD4gZSA9IGEu\nam9pbihFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWRfLmVtYmVkKS5qb2luKEVt\nYmVkX0NvbGxfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNi\nLmFzYyhlKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBhKTsKICAgICAg\nICBTdWJxdWVyeTxJbnRlZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50ZWdlci5j\nbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQ+\nIGEyID0gc3EuZnJvbShFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQuY2xhc3Mp\nOwogICAgICAgIEpvaW48RW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkLCBFbWJl\nZF9Db2xsX0VtYmVkPiBlMCA9IGEyLmpvaW4oRW50aXR5QV9FbWJlZF9Db2xs\nX0VtYmVkXy5lbWJlZCk7CiAgICAgICAgTGlzdEpvaW48RW1iZWRfQ29sbF9F\nbWJlZCwgRW1iZWQ+IGUyID0gZTAuam9pbihFbWJlZF9Db2xsX0VtYmVkXy5l\nbWJlZHMpOwogICAgICAgIHNxLnNlbGVjdChlMi5nZXQoRW1iZWRfLmludFZh\nbDEpKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGUuZ2V0KEVtYmVkXy5p\nbnRWYWwxKSwgY2Iuc29tZShzcSkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFs\nZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVz\ndEVtYmVkZGFibGVRdWVyeTk1KCkgewogICAgICAgIFN0cmluZyBqcHFsID0g\nInNlbGVjdCBlLCBhIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkIGEs\nIGluIChhLmVtYmVkLmVtYmVkcykgZSAiICsKICAgICAgICAgICAgICAgICIg\nd2hlcmUgZSA9IDpwIG9yZGVyIGJ5IGUiOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJl\nZF9Db2xsX0VtYmVkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbWJlZF9D\nb2xsX0VtYmVkLCBFbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0Nv\nbGxfRW1iZWRfLmVtYmVkKS5qb2luKEVtYmVkX0NvbGxfRW1iZWRfLmVtYmVk\ncyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgcS5t\ndWx0aXNlbGVjdChlLCBhKTsKICAgICAgICBQYXJhbWV0ZXI8RW1iZWQ+IHBh\ncmFtMSA9IGNiLnBhcmFtZXRlcihFbWJlZC5jbGFzcywgInAiKTsKICAgICAg\nICBxLndoZXJlKGNiLmVxdWFsKGUsIHBhcmFtMSkpOwogICAgICAgIGV4ZWN1\ndGVFeHBlY3RGYWlsKGpwcWwsIG5ldyBTdHJpbmdbXSB7InAxIn0sIG5ldyBP\nYmplY3RbXSB7bmV3IEVtYmVkKCl9KTsKICAgICAgICBleGVjdXRlRXhwZWN0\nRmFpbChxLCBqcHFsLCBuZXcgU3RyaW5nW10geyJwMSJ9LCBuZXcgT2JqZWN0\nW10ge25ldyBFbWJlZCgpfSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lk\nIHRlc3RFbWJlZGRhYmxlUXVlcnk5NigpIHsKICAgICAgICBTdHJpbmcganBx\nbCA9ICJzZWxlY3QgYSBmcm9tIEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZCBh\nIHdoZXJlIGEuZW1iZWQgPSA6cCBvcmRlciBieSBhIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZD4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZC5jbGFzcyk7CiAg\nICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQ+IGEgPSBxLmZy\nb20oRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkLmNsYXNzKTsKICAgICAgICBx\nLm9yZGVyQnkoY2IuYXNjKGEpKTsKICAgICAgICBxLnNlbGVjdChhKTsKICAg\nICAgICBQYXJhbWV0ZXI8RW1iZWQ+IHBhcmFtMSA9IGNiLnBhcmFtZXRlcihF\nbWJlZC5jbGFzcywgInAiKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGEu\nZ2V0KEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZF8uZW1iZWQpLCBwYXJhbTEp\nKTsKICAgICAgICBleGVjdXRlRXhwZWN0RmFpbChqcHFsLCBuZXcgU3RyaW5n\nW10geyJwMSJ9LCBuZXcgT2JqZWN0W10ge25ldyBFbWJlZCgpfSk7CiAgICAg\nICAgZXhlY3V0ZUV4cGVjdEZhaWwocSwganBxbCwgbmV3IFN0cmluZ1tdIHsi\ncDEifSwgbmV3IE9iamVjdFtdIHtuZXcgRW1iZWQoKX0pOwogICAgfQogICAg\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5OTcoKSB7CiAg\nICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEgZnJvbSBFbnRpdHlBX0Vt\nYmVkX0NvbGxfRW1iZWQgYSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWQ+IHEgPSBjYi5jcmVhdGVRdWVyeShFbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWQuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50\naXR5QV9FbWJlZF9Db2xsX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfRW1i\nZWRfQ29sbF9FbWJlZC5jbGFzcyk7CiAgICAgICAgcS5zZWxlY3QoYSk7CiAg\nICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk5OCgpIHsKICAg\nICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZCBmcm9tIERlcGFydG1lbnQx\nIGQiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RGVwYXJ0bWVudDE+IHEgPSBj\nYi5jcmVhdGVRdWVyeShEZXBhcnRtZW50MS5jbGFzcyk7CiAgICAgICAgUm9v\ndDxEZXBhcnRtZW50MT4gZCA9IHEuZnJvbShEZXBhcnRtZW50MS5jbGFzcyk7\nCiAgICAgICAgcS5zZWxlY3QoZCk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RF\nbWJlZGRhYmxlUXVlcnk5OSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJz\nZWxlY3QgZCBmcm9tIERlcGFydG1lbnQyIGQiOwogICAgICAgIENyaXRlcmlh\nUXVlcnk8RGVwYXJ0bWVudDI+IHEgPSBjYi5jcmVhdGVRdWVyeShEZXBhcnRt\nZW50Mi5jbGFzcyk7CiAgICAgICAgUm9vdDxEZXBhcnRtZW50Mj4gZCA9IHEu\nZnJvbShEZXBhcnRtZW50Mi5jbGFzcyk7CiAgICAgICAgcS5zZWxlY3QoZCk7\nCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAg\nICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkxMDAoKSB7\nCiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGQgZnJvbSBEZXBhcnRt\nZW50MyBkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PERlcGFydG1lbnQzPiBx\nID0gY2IuY3JlYXRlUXVlcnkoRGVwYXJ0bWVudDMuY2xhc3MpOwogICAgICAg\nIFJvb3Q8RGVwYXJ0bWVudDM+IGQgPSBxLmZyb20oRGVwYXJ0bWVudDMuY2xh\nc3MpOwogICAgICAgIHEuc2VsZWN0KGQpOwogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RW1iZWRkYWJsZVF1ZXJ5MTAxKCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gInNlbGVjdCBkIGZyb20gRGVwYXJ0bWVudDEgZCBqb2luIGQuZW1wTWFw\nIGUgd2hlcmUgS0VZKGUpID4gMSBvcmRlciBieSBkIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PERlcGFydG1lbnQxPiBxID0gY2IuY3JlYXRlUXVlcnkoRGVw\nYXJ0bWVudDEuY2xhc3MpOwogICAgICAgIFJvb3Q8RGVwYXJ0bWVudDE+IGQg\nPSBxLmZyb20oRGVwYXJ0bWVudDEuY2xhc3MpOwogICAgICAgIE1hcEpvaW48\nRGVwYXJ0bWVudDEsIEludGVnZXIsIEVtcGxveWVlMT4gZW1wTWFwID0gZC5q\nb2luKERlcGFydG1lbnQxXy5lbXBNYXApOwogICAgICAgIHEuc2VsZWN0KGQp\nOwogICAgICAgIHEud2hlcmUoY2IuZ3QoZW1wTWFwLmtleSgpLCAxKSk7CiAg\nICAgICAgcS5vcmRlckJ5KGNiLmFzYyhkKSk7CiAgICAgICAgYXNzZXJ0RXF1\naXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lk\nIHRlc3RFbWJlZGRhYmxlUXVlcnkxMDIoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAic2VsZWN0IGQgZnJvbSBEZXBhcnRtZW50MSBkIGpvaW4gZC5lbXBN\nYXAgZSB3aGVyZSBkLmRlcHRJZCA9IEtFWShlKSBvcmRlciBieSBkIjsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PERlcGFydG1lbnQxPiBxID0gY2IuY3JlYXRl\nUXVlcnkoRGVwYXJ0bWVudDEuY2xhc3MpOwogICAgICAgIFJvb3Q8RGVwYXJ0\nbWVudDE+IGQgPSBxLmZyb20oRGVwYXJ0bWVudDEuY2xhc3MpOwogICAgICAg\nIE1hcEpvaW48RGVwYXJ0bWVudDEsIEludGVnZXIsIEVtcGxveWVlMT4gZW1w\nTWFwID0gZC5qb2luKERlcGFydG1lbnQxXy5lbXBNYXApOwogICAgICAgIHEu\nc2VsZWN0KGQpOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwoZC5nZXQoRGVw\nYXJ0bWVudDFfLmRlcHRJZCksIGVtcE1hcC5rZXkoKSkpOwogICAgICAgIHEu\nb3JkZXJCeShjYi5hc2MoZCkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1i\nZWRkYWJsZVF1ZXJ5MTAzKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNl\nbGVjdCBkIGZyb20gRGVwYXJ0bWVudDEgZCB3aGVyZSBkLmRlcHRJZCA8IEFO\nWSAiICsKICAgICAgICAgICAgICAgICIgKHNlbGVjdCBLRVkoZSkgZnJvbSBp\nbihkLmVtcE1hcCkgZSkgb3JkZXIgYnkgZCI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxEZXBhcnRtZW50MT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KERlcGFydG1l\nbnQxLmNsYXNzKTsKICAgICAgICBSb290PERlcGFydG1lbnQxPiBkID0gcS5m\ncm9tKERlcGFydG1lbnQxLmNsYXNzKTsKICAgICAgICBTdWJxdWVyeTxJbnRl\nZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50ZWdlci5jbGFzcyk7CiAgICAgICAg\nUm9vdDxEZXBhcnRtZW50MT4gZDEgPSBzcS5jb3JyZWxhdGUoZCk7CiAgICAg\nICAgTWFwSm9pbjxEZXBhcnRtZW50MSwgSW50ZWdlciwgRW1wbG95ZWUxPiBl\nbXBNYXAgPSBkMS5qb2luKERlcGFydG1lbnQxXy5lbXBNYXApOwogICAgICAg\nIHNxLnNlbGVjdChlbXBNYXAua2V5KCkpOwogICAgICAgIHEuc2VsZWN0KGQp\nOwogICAgICAgIHEud2hlcmUoY2IubHQoZC5nZXQoRGVwYXJ0bWVudDFfLmRl\ncHRJZCksIGNiLmFueShzcSkpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNj\nKGQpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEw\nM2EoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IEtFWShlKSBm\ncm9tIERlcGFydG1lbnQxIGQsIGluKGQuZW1wTWFwKSBlIG9yZGVyIGJ5IGQi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8SW50ZWdlcj4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RGVwYXJ0bWVu\ndDE+IGQgPSBxLmZyb20oRGVwYXJ0bWVudDEuY2xhc3MpOwogICAgICAgIE1h\ncEpvaW48RGVwYXJ0bWVudDEsIEludGVnZXIsIEVtcGxveWVlMT4gZW1wTWFw\nID0gZC5qb2luKERlcGFydG1lbnQxXy5lbXBNYXApOwogICAgICAgIHEuc2Vs\nZWN0KGVtcE1hcC5rZXkoKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhk\nKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkxMDNi\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBFTlRSWShlKSBm\ncm9tIERlcGFydG1lbnQxIGQsIGluKGQuZW1wTWFwKSBlIG9yZGVyIGJ5IGQi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8TWFwLkVudHJ5PiBxID0gY2IuY3Jl\nYXRlUXVlcnkoTWFwLkVudHJ5LmNsYXNzKTsKICAgICAgICBSb290PERlcGFy\ndG1lbnQxPiBkID0gcS5mcm9tKERlcGFydG1lbnQxLmNsYXNzKTsKICAgICAg\nICBNYXBKb2luPERlcGFydG1lbnQxLCBJbnRlZ2VyLCBFbXBsb3llZTE+IGVt\ncE1hcCA9IGQuam9pbihEZXBhcnRtZW50MV8uZW1wTWFwKTsKICAgICAgICBx\nLnNlbGVjdChlbXBNYXAuZW50cnkoKSk7CiAgICAgICAgcS5vcmRlckJ5KGNi\nLmFzYyhkKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEw\nNCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZCBmcm9tIERl\ncGFydG1lbnQxIGQgd2hlcmUgZC5kZXB0SWQgPCBTT01FICIgKwogICAgICAg\nICAgICAgICAgIiAoc2VsZWN0IEtFWShlKSBmcm9tIERlcGFydG1lbnQxIGQx\nLCBpbihkMS5lbXBNYXApIGUpIG9yZGVyIGJ5IGQiOwogICAgICAgIENyaXRl\ncmlhUXVlcnk8RGVwYXJ0bWVudDE+IHEgPSBjYi5jcmVhdGVRdWVyeShEZXBh\ncnRtZW50MS5jbGFzcyk7CiAgICAgICAgUm9vdDxEZXBhcnRtZW50MT4gZCA9\nIHEuZnJvbShEZXBhcnRtZW50MS5jbGFzcyk7CiAgICAgICAgU3VicXVlcnk8\nSW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAg\nICAgIFJvb3Q8RGVwYXJ0bWVudDE+IGQxID0gc3EuZnJvbShEZXBhcnRtZW50\nMS5jbGFzcyk7CiAgICAgICAgTWFwSm9pbjxEZXBhcnRtZW50MSwgSW50ZWdl\nciwgRW1wbG95ZWUxPiBlbXBNYXAgPSBkMS5qb2luKERlcGFydG1lbnQxXy5l\nbXBNYXApOwogICAgICAgIHNxLnNlbGVjdChlbXBNYXAua2V5KCkpOwogICAg\nICAgIHEuc2VsZWN0KGQpOwogICAgICAgIHEud2hlcmUoY2IubHQoZC5nZXQo\nRGVwYXJ0bWVudDFfLmRlcHRJZCksIGNiLnNvbWUoc3EpKSk7CiAgICAgICAg\ncS5vcmRlckJ5KGNiLmFzYyhkKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RF\nbWJlZGRhYmxlUXVlcnkxMDUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAi\nc2VsZWN0IGUgZnJvbSBFbXBsb3llZTEgZSI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxFbXBsb3llZTE+IHEgPSBjYi5jcmVhdGVRdWVyeShFbXBsb3llZTEu\nY2xhc3MpOwogICAgICAgIFJvb3Q8RW1wbG95ZWUxPiBlID0gcS5mcm9tKEVt\ncGxveWVlMS5jbGFzcyk7CiAgICAgICAgcS5zZWxlY3QoZSk7CiAgICAgICAg\nYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEwNigpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJzZWxlY3QgZSBmcm9tIEVtcGxveWVlMiBlIjsKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PEVtcGxveWVlMj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5\nKEVtcGxveWVlMi5jbGFzcyk7CiAgICAgICAgUm9vdDxFbXBsb3llZTI+IGUg\nPSBxLmZyb20oRW1wbG95ZWUyLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChl\nKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEwNygp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSBmcm9tIEVtcGxv\neWVlMyBlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtcGxveWVlMz4gcSA9\nIGNiLmNyZWF0ZVF1ZXJ5KEVtcGxveWVlMy5jbGFzcyk7CiAgICAgICAgUm9v\ndDxFbXBsb3llZTM+IGUgPSBxLmZyb20oRW1wbG95ZWUzLmNsYXNzKTsKICAg\nICAgICBxLnNlbGVjdChlKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShx\nLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVk\nZGFibGVRdWVyeTEwOCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxl\nY3QgaSBmcm9tIEl0ZW0xIGkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8SXRl\nbTE+IHEgPSBjYi5jcmVhdGVRdWVyeShJdGVtMS5jbGFzcyk7CiAgICAgICAg\nUm9vdDxJdGVtMT4gaSA9IHEuZnJvbShJdGVtMS5jbGFzcyk7CiAgICAgICAg\ncS5zZWxlY3QoaSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBx\nbCk7CiAgICB9CiAgICAgICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRk\nYWJsZVF1ZXJ5MTA5KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVj\ndCBpIGZyb20gSXRlbTIgaSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxJdGVt\nMj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEl0ZW0yLmNsYXNzKTsKICAgICAgICBS\nb290PEl0ZW0yPiBpID0gcS5mcm9tKEl0ZW0yLmNsYXNzKTsKICAgICAgICBx\nLnNlbGVjdChpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5\nMTEwKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBpIGZyb20g\nSXRlbTMgaSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxJdGVtMz4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KEl0ZW0zLmNsYXNzKTsKICAgICAgICBSb290PEl0ZW0z\nPiBpID0gcS5mcm9tKEl0ZW0zLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChp\nKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTExKCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBpIGZyb20gSXRlbTEgaSB3\naGVyZSA6aW1hZ2UgPSBhbnkoc2VsZWN0IEtFWShlKSBmcm9tIGkuaW1hZ2Vz\nIGUpIG9yZGVyIGJ5IGkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8SXRlbTE+\nIHEgPSBjYi5jcmVhdGVRdWVyeShJdGVtMS5jbGFzcyk7CiAgICAgICAgUm9v\ndDxJdGVtMT4gaSA9IHEuZnJvbShJdGVtMS5jbGFzcyk7CiAgICAgICAgU3Vi\ncXVlcnk8U3RyaW5nPiBzcSA9IHEuc3VicXVlcnkoU3RyaW5nLmNsYXNzKTsK\nICAgICAgICBSb290PEl0ZW0xPiBpMSA9IHNxLmNvcnJlbGF0ZShpKTsKICAg\nICAgICBNYXBKb2luPEl0ZW0xLCBTdHJpbmcsIFN0cmluZz4gZSA9IGkxLmpv\naW4oSXRlbTFfLmltYWdlcyk7CiAgICAgICAgc3Euc2VsZWN0KGUua2V5KCkp\nOwogICAgICAgIHEuc2VsZWN0KGkpOwogICAgICAgIFBhcmFtZXRlckV4cHJl\nc3Npb248U3RyaW5nPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIoU3RyaW5nLmNs\nYXNzLCAiaW1hZ2UiKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKHBhcmFt\nMSwgY2IuYW55KHNxKSkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoaSkp\nOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKG5ldyBRdWVyeURlY29yYXRv\ncigpIHsKICAgICAgICAgICAgcHVibGljIHZvaWQgZGVjb3JhdGUoUXVlcnkg\ncSkgewogICAgICAgICAgICAgICAgcS5zZXRQYXJhbWV0ZXIoImltYWdlIiwg\nIm15IHBob3RvIik7CiAgICAgICAgICAgIH0KICAgICAgICB9LCBxLCBqcHFs\nKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVR\ndWVyeTExMigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgaSBm\ncm9tIEl0ZW0xIGkgd2hlcmUgOmltYWdlID0gYW55IChzZWxlY3QgS0VZKGUp\nIGZyb20gSXRlbTEgaSwgaW4oaS5pbWFnZXMpIGUpICIgKwogICAgICAgICAg\nICAgICAgIiBvcmRlciBieSBpIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEl0\nZW0xPiBxID0gY2IuY3JlYXRlUXVlcnkoSXRlbTEuY2xhc3MpOwogICAgICAg\nIFJvb3Q8SXRlbTE+IGkgPSBxLmZyb20oSXRlbTEuY2xhc3MpOwogICAgICAg\nIFN1YnF1ZXJ5PFN0cmluZz4gc3EgPSBxLnN1YnF1ZXJ5KFN0cmluZy5jbGFz\ncyk7CiAgICAgICAgUm9vdDxJdGVtMT4gaTEgPSBzcS5mcm9tKEl0ZW0xLmNs\nYXNzKTsKICAgICAgICBNYXBKb2luPEl0ZW0xLCBTdHJpbmcsIFN0cmluZz4g\nZSA9IGkxLmpvaW4oSXRlbTFfLmltYWdlcyk7CiAgICAgICAgc3Euc2VsZWN0\nKGUua2V5KCkpOwogICAgICAgIHEuc2VsZWN0KGkpOwogICAgICAgIFBhcmFt\nZXRlckV4cHJlc3Npb248U3RyaW5nPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIo\nU3RyaW5nLmNsYXNzLCAiaW1hZ2UiKTsKICAgICAgICBxLndoZXJlKGNiLmVx\ndWFsKHBhcmFtMSwgY2IuYW55KHNxKSkpOwogICAgICAgIHEub3JkZXJCeShj\nYi5hc2MoaSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKG5ldyBRdWVy\neURlY29yYXRvcigpIHsKICAgICAgICAgICAgcHVibGljIHZvaWQgZGVjb3Jh\ndGUoUXVlcnkgcSkgewogICAgICAgICAgICAgICAgcS5zZXRQYXJhbWV0ZXIo\nImltYWdlIiwgIm15IHBob3RvIik7CiAgICAgICAgICAgIH0KICAgICAgICB9\nLCBxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVt\nYmVkZGFibGVRdWVyeTExMygpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJz\nZWxlY3QgaSBmcm9tIEl0ZW0xIGkgd2hlcmUgZXhpc3RzIChzZWxlY3QgZSBm\ncm9tIEl0ZW0xIGksIGluKGkuaW1hZ2VzKSBlIiArCiAgICAgICAgICAgICAg\nICAiIHdoZXJlIDppbWFnZSA9IEtFWShlKSkgb3JkZXIgYnkgaSI7CiAgICAg\nICAgQ3JpdGVyaWFRdWVyeTxJdGVtMT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEl0\nZW0xLmNsYXNzKTsKICAgICAgICBSb290PEl0ZW0xPiBpID0gcS5mcm9tKEl0\nZW0xLmNsYXNzKTsKICAgICAgICBTdWJxdWVyeTxTdHJpbmc+IHNxID0gcS5z\ndWJxdWVyeShTdHJpbmcuY2xhc3MpOwogICAgICAgIFJvb3Q8SXRlbTE+IGkx\nID0gc3EuZnJvbShJdGVtMS5jbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJdGVt\nMSwgU3RyaW5nLCBTdHJpbmc+IGUgPSBpMS5qb2luKEl0ZW0xXy5pbWFnZXMp\nOwogICAgICAgIHNxLnNlbGVjdChlKTsKICAgICAgICBxLnNlbGVjdChpKTsK\nICAgICAgICBQYXJhbWV0ZXJFeHByZXNzaW9uPFN0cmluZz4gcGFyYW0xID0g\nY2IucGFyYW1ldGVyKFN0cmluZy5jbGFzcywgImltYWdlIik7CiAgICAgICAg\nc3Eud2hlcmUoY2IuZXF1YWwocGFyYW0xLCBlLmtleSgpKSk7CiAgICAgICAg\ncS53aGVyZShjYi5leGlzdHMoc3EpKTsKICAgICAgICBxLm9yZGVyQnkoY2Iu\nYXNjKGkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShuZXcgUXVlcnlE\nZWNvcmF0b3IoKSB7CiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGRlY29yYXRl\nKFF1ZXJ5IHEpIHsKICAgICAgICAgICAgICAgIHEuc2V0UGFyYW1ldGVyKCJp\nbWFnZSIsICJteSBwaG90byIpOwogICAgICAgICAgICB9CiAgICAgICAgfSwg\ncSwganBxbCk7CiAgICB9CiAgICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1i\nZWRkYWJsZVF1ZXJ5MTE0KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNl\nbGVjdCBpIGZyb20gSXRlbTIgaSB3aGVyZSA6aW1hZ2UgPSBhbnkgKHNlbGVj\ndCBLRVkoZSkgZnJvbSBJdGVtMiBpLCBpbihpLmltYWdlcykgZSkgIiArCiAg\nICAgICAgICAgICAgICAiIG9yZGVyIGJ5IGkiOwogICAgICAgIENyaXRlcmlh\nUXVlcnk8SXRlbTI+IHEgPSBjYi5jcmVhdGVRdWVyeShJdGVtMi5jbGFzcyk7\nCiAgICAgICAgUm9vdDxJdGVtMj4gaSA9IHEuZnJvbShJdGVtMi5jbGFzcyk7\nCiAgICAgICAgU3VicXVlcnk8U3RyaW5nPiBzcSA9IHEuc3VicXVlcnkoU3Ry\naW5nLmNsYXNzKTsKICAgICAgICBSb290PEl0ZW0yPiBpMSA9IHNxLmZyb20o\nSXRlbTIuY2xhc3MpOwogICAgICAgIE1hcEpvaW48SXRlbTIsIFN0cmluZywg\nU3RyaW5nPiBlID0gaTEuam9pbihJdGVtMl8uaW1hZ2VzKTsKICAgICAgICBz\ncS5zZWxlY3QoZS5rZXkoKSk7CiAgICAgICAgcS5zZWxlY3QoaSk7CiAgICAg\nICAgUGFyYW1ldGVyRXhwcmVzc2lvbjxTdHJpbmc+IHBhcmFtMSA9IGNiLnBh\ncmFtZXRlcihTdHJpbmcuY2xhc3MsICJpbWFnZSIpOwogICAgICAgIHEud2hl\ncmUoY2IuZXF1YWwocGFyYW0xLCBjYi5hbnkoc3EpKSk7CiAgICAgICAgcS5v\ncmRlckJ5KGNiLmFzYyhpKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2Uo\nbmV3IFF1ZXJ5RGVjb3JhdG9yKCkgewogICAgICAgICAgICBwdWJsaWMgdm9p\nZCBkZWNvcmF0ZShRdWVyeSBxKSB7CiAgICAgICAgICAgICAgICBxLnNldFBh\ncmFtZXRlcigiaW1hZ2UiLCAibXkgcGhvdG8iKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0sIHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTE1KCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBpIGZyb20gSXRlbTIgaSB3aGVyZSBleGlzdHMgKHNl\nbGVjdCBlIGZyb20gSXRlbTIgaSwgaW4oaS5pbWFnZXMpIGUiICsKICAgICAg\nICAgICAgICAgICIgICB3aGVyZSA6aW1hZ2UgPSBLRVkoZSkpIG9yZGVyIGJ5\nIGkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8SXRlbTI+IHEgPSBjYi5jcmVh\ndGVRdWVyeShJdGVtMi5jbGFzcyk7CiAgICAgICAgUm9vdDxJdGVtMj4gaSA9\nIHEuZnJvbShJdGVtMi5jbGFzcyk7CiAgICAgICAgU3VicXVlcnk8U3RyaW5n\nPiBzcSA9IHEuc3VicXVlcnkoU3RyaW5nLmNsYXNzKTsKICAgICAgICBSb290\nPEl0ZW0yPiBpMSA9IHNxLmZyb20oSXRlbTIuY2xhc3MpOwogICAgICAgIE1h\ncEpvaW48SXRlbTIsIFN0cmluZywgU3RyaW5nPiBlID0gaTEuam9pbihJdGVt\nMl8uaW1hZ2VzKTsKICAgICAgICBzcS5zZWxlY3QoZSk7CiAgICAgICAgcS5z\nZWxlY3QoaSk7CiAgICAgICAgUGFyYW1ldGVyRXhwcmVzc2lvbjxTdHJpbmc+\nIHBhcmFtMSA9IGNiLnBhcmFtZXRlcihTdHJpbmcuY2xhc3MsICJpbWFnZSIp\nOwogICAgICAgIHNxLndoZXJlKGNiLmVxdWFsKHBhcmFtMSwgZS5rZXkoKSkp\nOwogICAgICAgIHEud2hlcmUoY2IuZXhpc3RzKHNxKSk7CiAgICAgICAgcS5v\ncmRlckJ5KGNiLmFzYyhpKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2Uo\nbmV3IFF1ZXJ5RGVjb3JhdG9yKCkgewogICAgICAgICAgICBwdWJsaWMgdm9p\nZCBkZWNvcmF0ZShRdWVyeSBxKSB7CiAgICAgICAgICAgICAgICBxLnNldFBh\ncmFtZXRlcigiaW1hZ2UiLCAibXkgcGhvdG8iKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0sIHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTE2KCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBpIGZyb20gSXRlbTMgaSB3aGVyZSA6aW1hZ2UgPSBh\nbnkgKHNlbGVjdCBLRVkoZSkgZnJvbSBJdGVtMyBpLCBpbihpLmltYWdlcykg\nZSkgIiArCiAgICAgICAgICAgICAgICAib3JkZXIgYnkgaSI7CiAgICAgICAg\nQ3JpdGVyaWFRdWVyeTxJdGVtMz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEl0ZW0z\nLmNsYXNzKTsKICAgICAgICBSb290PEl0ZW0zPiBpID0gcS5mcm9tKEl0ZW0z\nLmNsYXNzKTsKICAgICAgICBTdWJxdWVyeTxTdHJpbmc+IHNxID0gcS5zdWJx\ndWVyeShTdHJpbmcuY2xhc3MpOwogICAgICAgIFJvb3Q8SXRlbTM+IGkxID0g\nc3EuZnJvbShJdGVtMy5jbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJdGVtMywg\nU3RyaW5nLCBTdHJpbmc+IGUgPSBpMS5qb2luKEl0ZW0zXy5pbWFnZXMpOwog\nICAgICAgIHNxLnNlbGVjdChlLmtleSgpKTsKICAgICAgICBxLnNlbGVjdChp\nKTsKICAgICAgICBQYXJhbWV0ZXJFeHByZXNzaW9uPFN0cmluZz4gcGFyYW0x\nID0gY2IucGFyYW1ldGVyKFN0cmluZy5jbGFzcywgImltYWdlIik7CiAgICAg\nICAgcS53aGVyZShjYi5lcXVhbChwYXJhbTEsIGNiLmFueShzcSkpKTsKICAg\nICAgICBxLm9yZGVyQnkoY2IuYXNjKGkpKTsKICAgICAgICBhc3NlcnRFcXVp\ndmFsZW5jZShuZXcgUXVlcnlEZWNvcmF0b3IoKSB7CiAgICAgICAgICAgIHB1\nYmxpYyB2b2lkIGRlY29yYXRlKFF1ZXJ5IHEpIHsKICAgICAgICAgICAgICAg\nIHEuc2V0UGFyYW1ldGVyKCJpbWFnZSIsICJteSBwaG90byIpOwogICAgICAg\nICAgICB9CiAgICAgICAgfSwgcSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkxMTcoKSB7CiAgICAgICAg\nU3RyaW5nIGpwcWwgPSAic2VsZWN0IGkgZnJvbSBJdGVtMyBpIHdoZXJlIGV4\naXN0cyAoc2VsZWN0IGUgZnJvbSBJdGVtMyBpLCBpbihpLmltYWdlcykgZSIg\nKwogICAgICAgICAgICAgICAgIiB3aGVyZSA6aW1hZ2UgPSBLRVkoZSkpIG9y\nZGVyIGJ5IGkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8SXRlbTM+IHEgPSBj\nYi5jcmVhdGVRdWVyeShJdGVtMy5jbGFzcyk7CiAgICAgICAgUm9vdDxJdGVt\nMz4gaSA9IHEuZnJvbShJdGVtMy5jbGFzcyk7CiAgICAgICAgU3VicXVlcnk8\nU3RyaW5nPiBzcSA9IHEuc3VicXVlcnkoU3RyaW5nLmNsYXNzKTsKICAgICAg\nICBSb290PEl0ZW0zPiBpMSA9IHNxLmZyb20oSXRlbTMuY2xhc3MpOwogICAg\nICAgIE1hcEpvaW48SXRlbTMsIFN0cmluZywgU3RyaW5nPiBlID0gaTEuam9p\nbihJdGVtM18uaW1hZ2VzKTsKICAgICAgICBzcS5zZWxlY3QoZSk7CiAgICAg\nICAgcS5zZWxlY3QoaSk7CiAgICAgICAgUGFyYW1ldGVyRXhwcmVzc2lvbjxT\ndHJpbmc+IHBhcmFtMSA9IGNiLnBhcmFtZXRlcihTdHJpbmcuY2xhc3MsICJp\nbWFnZSIpOwogICAgICAgIHNxLndoZXJlKGNiLmVxdWFsKHBhcmFtMSwgZS5r\nZXkoKSkpOwogICAgICAgIHEud2hlcmUoY2IuZXhpc3RzKHNxKSk7CiAgICAg\nICAgcS5vcmRlckJ5KGNiLmFzYyhpKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UobmV3IFF1ZXJ5RGVjb3JhdG9yKCkgewogICAgICAgICAgICBwdWJs\naWMgdm9pZCBkZWNvcmF0ZShRdWVyeSBxKSB7CiAgICAgICAgICAgICAgICBx\nLnNldFBhcmFtZXRlcigiaW1hZ2UiLCAibXkgcGhvdG8iKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0sIHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTE4KCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBjIGZyb20gQ29tcGFueTEgYyI7CiAgICAg\nICAgQ3JpdGVyaWFRdWVyeTxDb21wYW55MT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5\nKENvbXBhbnkxLmNsYXNzKTsKICAgICAgICBSb290PENvbXBhbnkxPiBjID0g\ncS5mcm9tKENvbXBhbnkxLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChjKTsK\nICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAg\nIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTExOSgpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYyBmcm9tIENvbXBhbnky\nIGMiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Q29tcGFueTI+IHEgPSBjYi5j\ncmVhdGVRdWVyeShDb21wYW55Mi5jbGFzcyk7CiAgICAgICAgUm9vdDxDb21w\nYW55Mj4gYyA9IHEuZnJvbShDb21wYW55Mi5jbGFzcyk7CiAgICAgICAgcS5z\nZWxlY3QoYyk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVl\ncnkxMjEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGMgZnJv\nbSBDb21wYW55MSBjIHdoZXJlIDpkaXZpc2lvbiA9ICIgKwogICAgICAgICAg\nICAgICAgIiAoc2VsZWN0IEtFWShkKSBmcm9tIENvbXBhbnkxIGMsIGluKGMu\nb3JnYW5pemF0aW9uKSBkIHdoZXJlIGQuaWQgPSAxKSBvcmRlciBieSBjICI7\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDb21wYW55MT4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KENvbXBhbnkxLmNsYXNzKTsKICAgICAgICBSb290PENvbXBhbnkx\nPiBjID0gcS5mcm9tKENvbXBhbnkxLmNsYXNzKTsKICAgICAgICBTdWJxdWVy\neTxEaXZpc2lvbj4gc3EgPSBxLnN1YnF1ZXJ5KERpdmlzaW9uLmNsYXNzKTsK\nICAgICAgICBSb290PENvbXBhbnkxPiBjMSA9IHNxLmZyb20oQ29tcGFueTEu\nY2xhc3MpOwogICAgICAgIE1hcEpvaW48Q29tcGFueTEsRGl2aXNpb24sVmlj\nZVByZXNpZGVudD4gZCA9IGMxLmpvaW4oQ29tcGFueTFfLm9yZ2FuaXphdGlv\nbik7CiAgICAgICAgc3Euc2VsZWN0KGQua2V5KCkpOwogICAgICAgIHEuc2Vs\nZWN0KGMpOwogICAgICAgIFBhcmFtZXRlckV4cHJlc3Npb248RGl2aXNpb24+\nIHBhcmFtMSA9IGNiLnBhcmFtZXRlcihEaXZpc2lvbi5jbGFzcywgImRpdmlz\naW9uIik7CiAgICAgICAgc3Eud2hlcmUoY2IuZXF1YWwoZC52YWx1ZSgpLmdl\ndChWaWNlUHJlc2lkZW50Xy5pZCksIDEpKTsKICAgICAgICBxLndoZXJlKGNi\nLmVxdWFsKHBhcmFtMSwgc3EpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNj\nKGMpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShuZXcgUXVlcnlEZWNv\ncmF0b3IoKSB7CiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGRlY29yYXRlKFF1\nZXJ5IHEpIHsKICAgICAgICAgICAgICAgIHEuc2V0UGFyYW1ldGVyKCJkaXZp\nc2lvbiIsIG5ldyBEaXZpc2lvbigpKTsKICAgICAgICAgICAgfQogICAgICAg\nIH0sIHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nRW1iZWRkYWJsZVF1ZXJ5MTIyKCkgewogICAgICAgIFN0cmluZyBqcHFsID0g\nInNlbGVjdCBjIGZyb20gQ29tcGFueTEgYyB3aGVyZSBleGlzdHMgKHNlbGVj\ndCBLRVkoZCkgZnJvbSBpbihjLm9yZ2FuaXphdGlvbikgZCIgKwogICAgICAg\nICAgICAgICAgIiAgd2hlcmUgS0VZKGQpID0gOmRpdmlzaW9uKSBvcmRlciBi\neSBjICI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDb21wYW55MT4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KENvbXBhbnkxLmNsYXNzKTsKICAgICAgICBSb290PENv\nbXBhbnkxPiBjID0gcS5mcm9tKENvbXBhbnkxLmNsYXNzKTsKICAgICAgICBT\ndWJxdWVyeTxEaXZpc2lvbj4gc3EgPSBxLnN1YnF1ZXJ5KERpdmlzaW9uLmNs\nYXNzKTsKICAgICAgICBSb290PENvbXBhbnkxPiBjMSA9IHNxLmNvcnJlbGF0\nZShjKTsKICAgICAgICBNYXBKb2luPENvbXBhbnkxLERpdmlzaW9uLFZpY2VQ\ncmVzaWRlbnQ+IGQgPSBjMS5qb2luKENvbXBhbnkxXy5vcmdhbml6YXRpb24p\nOwogICAgICAgIHEuc2VsZWN0KGMpOwogICAgICAgIFBhcmFtZXRlcjxEaXZp\nc2lvbj4gcGFyYW0xID0gY2IucGFyYW1ldGVyKERpdmlzaW9uLmNsYXNzLCAi\nZGl2aXNpb24iKTsKICAgICAgICBzcS53aGVyZShjYi5lcXVhbChkLmtleSgp\nLCBwYXJhbTEpKTsKICAgICAgICBzcS5zZWxlY3QoZC5rZXkoKSk7CiAgICAg\nICAgcS53aGVyZShjYi5leGlzdHMoc3EpKTsKICAgICAgICBxLm9yZGVyQnko\nY2IuYXNjKGMpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShuZXcgUXVl\ncnlEZWNvcmF0b3IoKSB7CiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGRlY29y\nYXRlKFF1ZXJ5IHEpIHsKICAgICAgICAgICAgICAgIHEuc2V0UGFyYW1ldGVy\nKCJkaXZpc2lvbiIsIG5ldyBEaXZpc2lvbigpKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0sIHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTIzKCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBjIGZyb20gQ29tcGFueTEgYyB3aGVyZSBleGlzdHMg\nKHNlbGVjdCBLRVkoZCkgZnJvbSBjLm9yZ2FuaXphdGlvbiBkIiArCiAgICAg\nICAgICAgICAgICAiICB3aGVyZSBLRVkoZCkgPSA6ZGl2aXNpb24pIG9yZGVy\nIGJ5IGMgIjsgIAogICAgICAgIENyaXRlcmlhUXVlcnk8Q29tcGFueTE+IHEg\nPSBjYi5jcmVhdGVRdWVyeShDb21wYW55MS5jbGFzcyk7CiAgICAgICAgUm9v\ndDxDb21wYW55MT4gYyA9IHEuZnJvbShDb21wYW55MS5jbGFzcyk7CiAgICAg\nICAgU3VicXVlcnk8RGl2aXNpb24+IHNxID0gcS5zdWJxdWVyeShEaXZpc2lv\nbi5jbGFzcyk7CiAgICAgICAgUm9vdDxDb21wYW55MT4gYzEgPSBzcS5jb3Jy\nZWxhdGUoYyk7CiAgICAgICAgTWFwSm9pbjxDb21wYW55MSxEaXZpc2lvbixW\naWNlUHJlc2lkZW50PiBkID0gYzEuam9pbihDb21wYW55MV8ub3JnYW5pemF0\naW9uKTsKICAgICAgICBzcS5zZWxlY3QoZC5rZXkoKSk7CiAgICAgICAgcS5z\nZWxlY3QoYyk7CiAgICAgICAgUGFyYW1ldGVyPERpdmlzaW9uPiBwYXJhbTEg\nPSBjYi5wYXJhbWV0ZXIoRGl2aXNpb24uY2xhc3MsICJkaXZpc2lvbiIpOwog\nICAgICAgIHNxLndoZXJlKGNiLmVxdWFsKGQua2V5KCksIHBhcmFtMSkpOwog\nICAgICAgIHEud2hlcmUoY2IuZXhpc3RzKHNxKSk7CiAgICAgICAgcS5vcmRl\nckJ5KGNiLmFzYyhjKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UobmV3\nIFF1ZXJ5RGVjb3JhdG9yKCkgewogICAgICAgICAgICBwdWJsaWMgdm9pZCBk\nZWNvcmF0ZShRdWVyeSBxKSB7CiAgICAgICAgICAgICAgICBxLnNldFBhcmFt\nZXRlcigiZGl2aXNpb24iLCBuZXcgRGl2aXNpb24oKSk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9LCBxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEyNCgpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJzZWxlY3QgYyBmcm9tIENvbXBhbnkyIGMgd2hlcmUgOmRp\ndmlzaW9uID0gKHNlbGVjdCBLRVkoZCkgZnJvbSBDb21wYW55MiBjLCBpbihj\nLm9yZ2FuaXphdGlvbikgZCIgCiAgICAgICAgICAgICAgICAgICAgKyAiIHdo\nZXJlIGQuaWQgPSAzKSBvcmRlciBieSBjICI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxDb21wYW55Mj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KENvbXBhbnkyLmNs\nYXNzKTsKICAgICAgICBSb290PENvbXBhbnkyPiBjID0gcS5mcm9tKENvbXBh\nbnkyLmNsYXNzKTsKICAgICAgICBTdWJxdWVyeTxEaXZpc2lvbj4gc3EgPSBx\nLnN1YnF1ZXJ5KERpdmlzaW9uLmNsYXNzKTsKICAgICAgICBSb290PENvbXBh\nbnkyPiBjMSA9IHNxLmZyb20oQ29tcGFueTIuY2xhc3MpOwogICAgICAgIE1h\ncEpvaW48Q29tcGFueTIsRGl2aXNpb24sVmljZVByZXNpZGVudD4gZCA9IGMx\nLmpvaW4oQ29tcGFueTJfLm9yZ2FuaXphdGlvbik7CiAgICAgICAgc3Euc2Vs\nZWN0KGQua2V5KCkpOwogICAgICAgIHEuc2VsZWN0KGMpOwogICAgICAgIFBh\ncmFtZXRlckV4cHJlc3Npb248RGl2aXNpb24+IHBhcmFtMSA9IGNiLnBhcmFt\nZXRlcihEaXZpc2lvbi5jbGFzcywgImRpdmlzaW9uIik7CiAgICAgICAgc3Eu\nd2hlcmUoY2IuZXF1YWwoZC52YWx1ZSgpLmdldChWaWNlUHJlc2lkZW50Xy5p\nZCksIDMpKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKHBhcmFtMSwgc3Ep\nKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGMpKTsKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShuZXcgUXVlcnlEZWNvcmF0b3IoKSB7CiAgICAgICAg\nICAgIHB1YmxpYyB2b2lkIGRlY29yYXRlKFF1ZXJ5IHEpIHsKICAgICAgICAg\nICAgICAgIHEuc2V0UGFyYW1ldGVyKCJkaXZpc2lvbiIsIG5ldyBEaXZpc2lv\nbigpKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHEsIGpwcWwpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTI1\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBjIGZyb20gQ29t\ncGFueTIgYyB3aGVyZSBleGlzdHMgKHNlbGVjdCBLRVkoZCkgZnJvbSBpbihj\nLm9yZ2FuaXphdGlvbikgZCIgKwogICAgICAgICAgICAgICAgIiAgd2hlcmUg\nS0VZKGQpID0gOmspIG9yZGVyIGJ5IGMgIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PENvbXBhbnkyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ29tcGFueTIuY2xh\nc3MpOwogICAgICAgIFJvb3Q8Q29tcGFueTI+IGMgPSBxLmZyb20oQ29tcGFu\neTIuY2xhc3MpOwogICAgICAgIFN1YnF1ZXJ5PERpdmlzaW9uPiBzcSA9IHEu\nc3VicXVlcnkoRGl2aXNpb24uY2xhc3MpOwogICAgICAgIFJvb3Q8Q29tcGFu\neTI+IGMxID0gc3EuY29ycmVsYXRlKGMpOwogICAgICAgIE1hcEpvaW48Q29t\ncGFueTIsRGl2aXNpb24sVmljZVByZXNpZGVudD4gZCA9IGMxLmpvaW4oQ29t\ncGFueTJfLm9yZ2FuaXphdGlvbik7CiAgICAgICAgcS5zZWxlY3QoYyk7CiAg\nICAgICAgUGFyYW1ldGVyPERpdmlzaW9uPiBwYXJhbTEgPSBjYi5wYXJhbWV0\nZXIoRGl2aXNpb24uY2xhc3MsICJrIik7CiAgICAgICAgc3Eud2hlcmUoY2Iu\nZXF1YWwoZC5rZXkoKSwgcGFyYW0xKSk7CiAgICAgICAgc3Euc2VsZWN0KGQu\na2V5KCkpOwogICAgICAgIHEud2hlcmUoY2IuZXhpc3RzKHNxKSk7CiAgICAg\nICAgcS5vcmRlckJ5KGNiLmFzYyhjKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UobmV3IFF1ZXJ5RGVjb3JhdG9yKCkgewogICAgICAgICAgICBwdWJs\naWMgdm9pZCBkZWNvcmF0ZShRdWVyeSBxKSB7CiAgICAgICAgICAgICAgICBx\nLnNldFBhcmFtZXRlcigiayIsIG5ldyBEaXZpc2lvbigpKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0sIHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTI2KCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBjIGZyb20gQ29tcGFueTIgYyB3aGVyZSBl\neGlzdHMgKHNlbGVjdCBWQUxVRShkKSBmcm9tIGMub3JnYW5pemF0aW9uIGQg\nIgogICAgICAgICAgICArICJ3aGVyZSBLRVkoZCkgPSA6aykgb3JkZXIgYnkg\nYyAiOyAgCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDb21wYW55Mj4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KENvbXBhbnkyLmNsYXNzKTsKICAgICAgICBSb290PENv\nbXBhbnkyPiBjID0gcS5mcm9tKENvbXBhbnkyLmNsYXNzKTsKICAgICAgICBT\ndWJxdWVyeTxWaWNlUHJlc2lkZW50PiBzcSA9IHEuc3VicXVlcnkoVmljZVBy\nZXNpZGVudC5jbGFzcyk7CiAgICAgICAgUm9vdDxDb21wYW55Mj4gYzEgPSBz\ncS5jb3JyZWxhdGUoYyk7CiAgICAgICAgTWFwSm9pbjxDb21wYW55MixEaXZp\nc2lvbixWaWNlUHJlc2lkZW50PiBkID0gYzEuam9pbihDb21wYW55Ml8ub3Jn\nYW5pemF0aW9uKTsKICAgICAgICBxLnNlbGVjdChjKTsKICAgICAgICBQYXJh\nbWV0ZXI8RGl2aXNpb24+IHBhcmFtMSA9IGNiLnBhcmFtZXRlcihEaXZpc2lv\nbi5jbGFzcywgImsiKTsKICAgICAgICBzcS53aGVyZShjYi5lcXVhbChkLmtl\neSgpLCBwYXJhbTEpKTsKICAgICAgICBzcS5zZWxlY3QoZC52YWx1ZSgpKTsK\nICAgICAgICBxLndoZXJlKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIHEub3Jk\nZXJCeShjYi5hc2MoYykpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKG5l\ndyBRdWVyeURlY29yYXRvcigpIHsKICAgICAgICAgICAgcHVibGljIHZvaWQg\nZGVjb3JhdGUoUXVlcnkgcSkgewogICAgICAgICAgICAgICAgcS5zZXRQYXJh\nbWV0ZXIoImsiLCBuZXcgRGl2aXNpb24oKSk7CiAgICAgICAgICAgIH0KICAg\nICAgICB9LCBxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nRW1iZWRkYWJsZVF1ZXJ5MTI3KCkgewogICAgICAgIFN0cmluZyBqcHFsID0g\nInNlbGVjdCBkIGZyb20gRGl2aXNpb24gZCI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxEaXZpc2lvbj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KERpdmlzaW9uLmNs\nYXNzKTsKICAgICAgICBSb290PERpdmlzaW9uPiBkID0gcS5mcm9tKERpdmlz\naW9uLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChkKTsKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTI4KCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCB2cCBmcm9tIFZpY2VQcmVzaWRlbnQgdnAiOwogICAg\nICAgIENyaXRlcmlhUXVlcnk8VmljZVByZXNpZGVudD4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KFZpY2VQcmVzaWRlbnQuY2xhc3MpOwogICAgICAgIFJvb3Q8Vmlj\nZVByZXNpZGVudD4gdnAgPSBxLmZyb20oVmljZVByZXNpZGVudC5jbGFzcyk7\nCiAgICAgICAgcS5zZWxlY3QodnApOwogICAgICAgIGFzc2VydEVxdWl2YWxl\nbmNlKHEsIGpwcWwpOwogICAgfQp9Cg==\n","encoding":"base64"}

