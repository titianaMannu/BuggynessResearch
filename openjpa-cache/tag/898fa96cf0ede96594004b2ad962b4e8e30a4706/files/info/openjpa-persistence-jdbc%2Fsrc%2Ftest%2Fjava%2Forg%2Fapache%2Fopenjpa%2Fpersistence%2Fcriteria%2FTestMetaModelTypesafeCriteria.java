{"sha":"5f1ae16d19a16cc3873a1edeff33bffee49b6524","node_id":"MDQ6QmxvYjIwNjM2NDo1ZjFhZTE2ZDE5YTE2Y2MzODczYTFlZGVmZjMzYmZmZWU0OWI2NTI0","size":26429,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5f1ae16d19a16cc3873a1edeff33bffee49b6524","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZh\nLnV0aWwuTGlzdDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5QYXJhbWV0\nZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5RdWVyeTsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLlR1cGxlOwppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuY3JpdGVyaWEuQ3JpdGVyaWFRdWVyeTsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLmNyaXRlcmlhLkV4cHJlc3Npb247CmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5jcml0ZXJpYS5Kb2luOwppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuY3JpdGVyaWEuSm9pblR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5jcml0ZXJpYS5MaXN0Sm9pbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLmNyaXRlcmlhLk1hcEpvaW47CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5j\ncml0ZXJpYS5QcmVkaWNhdGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5j\ncml0ZXJpYS5Sb290OwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVy\naWEuU2V0Sm9pbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlh\nLlN1YnF1ZXJ5OwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVs\nLkVtYmVkZGFibGVUeXBlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0\nYW1vZGVsLkVudGl0eVR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5t\nZXRhbW9kZWwuTWV0YW1vZGVsOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nbWV0YW1vZGVsLlNldEF0dHJpYnV0ZTsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UudGVzdC5BbGxvd0ZhaWx1cmU7CgpwdWJsaWMg\nY2xhc3MgVGVzdE1ldGFNb2RlbFR5cGVzYWZlQ3JpdGVyaWEgZXh0ZW5kcyBD\ncml0ZXJpYVRlc3QgewogICAgcHJvdGVjdGVkIEVudGl0eVR5cGU8QWNjb3Vu\ndD4gYWNjb3VudF8gPSBudWxsOwogICAgcHJvdGVjdGVkIEVtYmVkZGFibGVU\neXBlPEFkZHJlc3M+IGFkZHJlc3NfID0gbnVsbDsKICAgIHByb3RlY3RlZCBF\nbWJlZGRhYmxlVHlwZTxDb250YWN0PiBjb250YWN0XyA9IG51bGw7CiAgICBw\ncm90ZWN0ZWQgRW50aXR5VHlwZTxDb3Vyc2U+IGNvdXJzZV8gPSBudWxsOwog\nICAgcHJvdGVjdGVkIEVudGl0eVR5cGU8Q3JlZGl0Q2FyZD4gY3JlZGl0Q2Fy\nZF8gPSBudWxsOwogICAgcHJvdGVjdGVkIEVudGl0eVR5cGU8Q3VzdG9tZXI+\nIGN1c3RvbWVyXyA9IG51bGw7CiAgICBwcm90ZWN0ZWQgRW50aXR5VHlwZTxE\nZXBhcnRtZW50PiBkZXBhcnRtZW50XyA9IG51bGw7CiAgICBwcm90ZWN0ZWQg\nRW50aXR5VHlwZTxFbXBsb3llZT4gZW1wbG95ZWVfID0gbnVsbDsKICAgIHBy\nb3RlY3RlZCBFbnRpdHlUeXBlPEV4ZW1wdD4gZXhlbXB0XyA9IG51bGw7CiAg\nICBwcm90ZWN0ZWQgRW50aXR5VHlwZTxJdGVtPiBpdGVtXyA9IG51bGw7CiAg\nICBwcm90ZWN0ZWQgRW50aXR5VHlwZTxMaW5lSXRlbT4gbGluZUl0ZW1fID0g\nbnVsbDsKICAgIHByb3RlY3RlZCBFbnRpdHlUeXBlPE1hbmFnZXI+IG1hbmFn\nZXJfID0gbnVsbDsKICAgIHByb3RlY3RlZCBFbnRpdHlUeXBlPE1vdmllPiBt\nb3ZpZV8gPSBudWxsOwogICAgcHJvdGVjdGVkIEVudGl0eVR5cGU8T3JkZXI+\nIG9yZGVyXyA9IG51bGw7CiAgICBwcm90ZWN0ZWQgRW50aXR5VHlwZTxQZXJz\nb24+IHBlcnNvbl8gPSBudWxsOwogICAgcHJvdGVjdGVkIEVudGl0eVR5cGU8\nUGhvbmU+IHBob25lXyA9IG51bGw7CiAgICBwcm90ZWN0ZWQgRW50aXR5VHlw\nZTxQaG90bz4gcGhvdG9fID0gbnVsbDsKICAgIHByb3RlY3RlZCBFbnRpdHlU\neXBlPFByb2R1Y3Q+IHByb2R1Y3RfID0gbnVsbDsKICAgIHByb3RlY3RlZCBF\nbnRpdHlUeXBlPFNlbWVzdGVyPiBzZW1lc3Rlcl8gPSBudWxsOwogICAgcHJv\ndGVjdGVkIEVudGl0eVR5cGU8U3R1ZGVudD4gc3R1ZGVudF8gPSBudWxsOwog\nICAgcHJvdGVjdGVkIEVudGl0eVR5cGU8VHJhbnNhY3Rpb25IaXN0b3J5PiB0\ncmFuc2FjdGlvbkhpc3RvcnlfID0gbnVsbDsKICAgIHByb3RlY3RlZCBFbnRp\ndHlUeXBlPFZpZGVvU3RvcmU+IHZpZGVvU3RvcmVfID0gbnVsbDsKCiAgICBw\ndWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBzdXBlci5zZXRVcCgpOwoK\nICAgICAgICBNZXRhbW9kZWwgbW0gPSBlbS5nZXRNZXRhbW9kZWwoKTsKICAg\nICAgICBhY2NvdW50XyA9IG1tLmVudGl0eShBY2NvdW50LmNsYXNzKTsKICAg\nICAgICBhZGRyZXNzXyA9IG1tLmVtYmVkZGFibGUoQWRkcmVzcy5jbGFzcyk7\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbChhZGRyZXNzXyk7CiAgICAgICAgY29u\ndGFjdF8gPSBtbS5lbWJlZGRhYmxlKENvbnRhY3QuY2xhc3MpOwogICAgICAg\nIGNvdXJzZV8gPSBtbS5lbnRpdHkoQ291cnNlLmNsYXNzKTsKICAgICAgICBj\ncmVkaXRDYXJkXyA9IG1tLmVudGl0eShDcmVkaXRDYXJkLmNsYXNzKTsKICAg\nICAgICBjdXN0b21lcl8gPSBtbS5lbnRpdHkoQ3VzdG9tZXIuY2xhc3MpOwog\nICAgICAgIGRlcGFydG1lbnRfID0gbW0uZW50aXR5KERlcGFydG1lbnQuY2xh\nc3MpOwogICAgICAgIGVtcGxveWVlXyA9IG1tLmVudGl0eShFbXBsb3llZS5j\nbGFzcyk7CiAgICAgICAgZXhlbXB0XyA9IG1tLmVudGl0eShFeGVtcHQuY2xh\nc3MpOwogICAgICAgIGl0ZW1fID0gbW0uZW50aXR5KEl0ZW0uY2xhc3MpOwog\nICAgICAgIGxpbmVJdGVtXyA9IG1tLmVudGl0eShMaW5lSXRlbS5jbGFzcyk7\nCiAgICAgICAgbWFuYWdlcl8gPSBtbS5lbnRpdHkoTWFuYWdlci5jbGFzcyk7\nCiAgICAgICAgbW92aWVfID0gbW0uZW50aXR5KE1vdmllLmNsYXNzKTsKICAg\nICAgICBvcmRlcl8gPSBtbS5lbnRpdHkoT3JkZXIuY2xhc3MpOwogICAgICAg\nIHBlcnNvbl8gPSBtbS5lbnRpdHkoUGVyc29uLmNsYXNzKTsKICAgICAgICBw\naG9uZV8gPSBtbS5lbnRpdHkoUGhvbmUuY2xhc3MpOwogICAgICAgIHBob3Rv\nXyA9IG1tLmVudGl0eShQaG90by5jbGFzcyk7CiAgICAgICAgcHJvZHVjdF8g\nPSBtbS5lbnRpdHkoUHJvZHVjdC5jbGFzcyk7CiAgICAgICAgc2VtZXN0ZXJf\nID0gbW0uZW50aXR5KFNlbWVzdGVyLmNsYXNzKTsKICAgICAgICBzdHVkZW50\nXyA9IG1tLmVudGl0eShTdHVkZW50LmNsYXNzKTsKICAgICAgICB0cmFuc2Fj\ndGlvbkhpc3RvcnlfID0gbW0uZW50aXR5KFRyYW5zYWN0aW9uSGlzdG9yeS5j\nbGFzcyk7CiAgICAgICAgdmlkZW9TdG9yZV8gPSBtbS5lbnRpdHkoVmlkZW9T\ndG9yZS5jbGFzcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFN0cmlu\nZ0VxdWFsRXhwcmVzc2lvbigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJz\nZWxlY3QgYyBmcm9tIEN1c3RvbWVyIGMgIiAKICAgICAgICAgICAgICAgICAg\nICArICJ3aGVyZSBjLm5hbWU9J0F1dG93ZXN0IFRveW90YSciOwogICAgICAg\nIAogICAgICAgIENyaXRlcmlhUXVlcnkgcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7\nCiAgICAgICAgUm9vdDxDdXN0b21lcj4gY3VzdG9tZXIgPSBxLmZyb20oQ3Vz\ndG9tZXIuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGN1c3RvbWVyKQogICAg\nICAgICAud2hlcmUoY2IuZXF1YWwoCiAgICAgICAgICAgICAgICBjdXN0b21l\nci5nZXQoY3VzdG9tZXJfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJuYW1lIiwg\nU3RyaW5nLmNsYXNzKSksIAogICAgICAgICAgICAgICAgIkF1dG93ZXN0IFRv\neW90YSIpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNldEFuZExpc3RKb2lucygp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgYy5uYW1lIEZST00g\nQ3VzdG9tZXIgYyAiIAogICAgICAgICAgICAgICAgICAgICsgIkpPSU4gYy5v\ncmRlcnMgbyBKT0lOIG8ubGluZUl0ZW1zIGkgIiAKICAgICAgICAgICAgICAg\nICAgICArICJXSEVSRSBpLnByb2R1Y3QucHJvZHVjdFR5cGUgPSAncHJpbnRl\nciciOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnkgcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9IHEuZnJv\nbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgU2V0Sm9pbjxDdXN0b21lciwg\nT3JkZXI+IG8gPSBjLmpvaW4oY3VzdG9tZXJfLmdldFNldCgib3JkZXJzIiwK\nICAgICAgICAgICAgICAgIE9yZGVyLmNsYXNzKSk7CiAgICAgICAgTGlzdEpv\naW48T3JkZXIsIExpbmVJdGVtPiBpID0gby5qb2luKG9yZGVyXy5nZXRMaXN0\nKCJsaW5lSXRlbXMiLAogICAgICAgICAgICAgICAgTGluZUl0ZW0uY2xhc3Mp\nKTsKICAgICAgICBxLnNlbGVjdChjLmdldChDdXN0b21lcl8ubmFtZSkpLndo\nZXJlKAogICAgICAgICAgICAgICAgY2IuZXF1YWwoaS5nZXQobGluZUl0ZW1f\nLmdldFNpbmd1bGFyQXR0cmlidXRlKCJwcm9kdWN0IiwgUHJvZHVjdC5jbGFz\ncykpCiAgICAgICAgICAgICAgICAgICAgLmdldChwcm9kdWN0Xy5nZXRTaW5n\ndWxhckF0dHJpYnV0ZSgicHJvZHVjdFR5cGUiLCBTdHJpbmcuY2xhc3MpKSwK\nICAgICAgICAgICAgICAgICAgICAicHJpbnRlciIpKTsKCiAgICAgICAgYXNz\nZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RMZWZ0U2V0Sm9pbigpIHsKICAgICAgICBTdHJpbmcganBx\nbCA9ICJTRUxFQ1QgYyBGUk9NIEN1c3RvbWVyIGMgIgogICAgICAgICAgICAg\nICAgICAgICsgIkxFRlQgSk9JTiBjLm9yZGVycyBvICIKICAgICAgICAgICAg\nICAgICAgICArICJXSEVSRSBjLnN0YXR1cyA9IDEiOwogICAgICAgIAogICAg\nICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9tZXI+IHEgPSBjYi5jcmVhdGVRdWVy\neShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9\nIHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgU2V0Sm9pbjxDdXN0\nb21lciwgT3JkZXI+IG8gPSBjLmpvaW4oY3VzdG9tZXJfLmdldFNldCgib3Jk\nZXJzIiwKICAgICAgICAgICAgICAgIE9yZGVyLmNsYXNzKSwgSm9pblR5cGUu\nTEVGVCk7CiAgICAgICAgcS53aGVyZShjYi5lcXVhbCgKICAgICAgICAgICAg\nICAgIGMuZ2V0KGN1c3RvbWVyXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgic3Rh\ndHVzIiwgSW50ZWdlci5jbGFzcykpLCAKICAgICAgICAgICAgICAgIDEpKTsK\nCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdEZldGNoSm9pbnMoKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAiU0VMRUNUIGQgRlJPTSBEZXBhcnRtZW50IGQgTEVGVCBK\nT0lOIEZFVENIIGQuZW1wbG95ZWVzICIKICAgICAgICAgICAgICAgICsgIldI\nRVJFIGQuZGVwdE5vID0gMSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeSBxID0g\nY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PERlcGFydG1lbnQ+IGQg\nPSBxLmZyb20oRGVwYXJ0bWVudC5jbGFzcyk7CiAgICAgICAgZC5mZXRjaChk\nZXBhcnRtZW50Xy5nZXRTZXQoImVtcGxveWVlcyIsIEVtcGxveWVlLmNsYXNz\nKSwgSm9pblR5cGUuTEVGVCk7CiAgICAgICAgcS53aGVyZSgKICAgICAgICAg\nICAgICAgIGNiLmVxdWFsKGQuZ2V0KGRlcGFydG1lbnRfCiAgICAgICAgICAg\nICAgICAgICAgICAgIC5nZXRTaW5ndWxhckF0dHJpYnV0ZSgiZGVwdE5vIiwg\nSW50ZWdlci5jbGFzcykpLCAxKSkuc2VsZWN0KGQpOwoKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBAQWxsb3dGYWls\ndXJlKG1lc3NhZ2U9IlRoaXMgaXMgcmVncmVzc2lvbi4iKQogICAgcHVibGlj\nIHZvaWQgdGVzdFBhdGhOYXZpZ2F0aW9uKCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gIlNFTEVDVCBwLnZlbmRvciBGUk9NIEVtcGxveWVlIGUgIgogICAg\nICAgICAgICAgICAgICAgICsgIkpPSU4gZS5jb250YWN0SW5mby5waG9uZXMg\ncCAgIgogICAgICAgICAgICAgICAgICAgICsgIldIRVJFIGUuY29udGFjdElu\nZm8uYWRkcmVzcy56aXBDb2RlID0gJzk1MDU0JyI7CiAgICAgICAgCiAgICAg\nICAgCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxTdHJpbmc+IHEgPSBjYi5jcmVh\ndGVRdWVyeShTdHJpbmcuY2xhc3MpOwogICAgICAgIFJvb3Q8RW1wbG95ZWU+\nIGUgPSBxLmZyb20oRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIEpvaW48Q29u\ndGFjdCwgUGhvbmU+IHAgPSBlLmpvaW4oZW1wbG95ZWVfLmdldFNpbmd1bGFy\nQXR0cmlidXRlKCJjb250YWN0SW5mbyIsIENvbnRhY3QuY2xhc3MpKQogICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oY29udGFjdF8u\nZ2V0TGlzdCgicGhvbmVzIiwgUGhvbmUuY2xhc3MpKTsKICAgICAgICBxLndo\nZXJlKGNiLmVxdWFsKGUuZ2V0KGVtcGxveWVlXy5nZXRTaW5ndWxhckF0dHJp\nYnV0ZSgiY29udGFjdEluZm8iLCBDb250YWN0LmNsYXNzKSkKICAgICAgICAg\nICAgICAgICAgICAgICAgICAuZ2V0KGNvbnRhY3RfLmdldFNpbmd1bGFyQXR0\ncmlidXRlKCJhZGRyZXNzIiwgQWRkcmVzcy5jbGFzcykpCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgLmdldChhZGRyZXNzXy5nZXRTaW5ndWxhckF0dHJp\nYnV0ZSgiemlwQ29kZSIsIFN0cmluZy5jbGFzcykpLCAKICAgICAgICAgICAg\nICAgICAgICAgICAgICI5NTA1NCIpKTsKICAgICAgICBxLnNlbGVjdChwLmdl\ndChwaG9uZV8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInZlbmRvciIsIFN0cmlu\nZy5jbGFzcykpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBx\nbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RLZXlQYXRoTmF2\naWdhdGlvbigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgaS5u\nYW1lLCBwIEZST00gSXRlbSBpIEpPSU4gaS5waG90b3MgcCBXSEVSRSBLRVko\ncCkgTElLRSAnJWVncmV0JSciOwoKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFR1\ncGxlPiBxID0gY2IuY3JlYXRlVHVwbGVRdWVyeSgpOwogICAgICAgIFJvb3Q8\nSXRlbT4gaSA9IHEuZnJvbShJdGVtLmNsYXNzKTsKICAgICAgICBNYXBKb2lu\nPEl0ZW0sIFN0cmluZywgUGhvdG8+IHAgPSBpLmpvaW4oaXRlbV8uZ2V0TWFw\nKCJwaG90b3MiLCBTdHJpbmcuY2xhc3MsIFBob3RvLmNsYXNzKSk7CiAgICAg\nICAgcS5tdWx0aXNlbGVjdChpLmdldChpdGVtXy5nZXRTaW5ndWxhckF0dHJp\nYnV0ZSgibmFtZSIsIFN0cmluZy5jbGFzcykpLCBwKQogICAgICAgICAgICAg\nICAgLndoZXJlKGNiLmxpa2UocC5rZXkoKSwgIiVlZ3JldCUiKSk7CgogICAg\nICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHRlc3RJbmRleEV4cHJlc3Npb24oKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAiU0VMRUNUIHQgRlJPTSBDcmVkaXRDYXJkIGMgSk9JTiBj\nLnRyYW5zYWN0aW9uSGlzdG9yeSB0ICIKICAgICAgICAgICAgICAgICsgIldI\nRVJFIGMuY3VzdG9tZXIuYWNjb3VudE51bSA9IDMyMTk4NyBBTkQgSU5ERVgo\ndCkgQkVUV0VFTiAwICIKICAgICAgICAgICAgICAgICsgIkFORCA5IjsKICAg\nICAgICAKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFRyYW5zYWN0aW9uSGlzdG9y\neT4gY3EgPSBjYi5jcmVhdGVRdWVyeShUcmFuc2FjdGlvbkhpc3RvcnkuY2xh\nc3MpOwogICAgICAgIFJvb3Q8Q3JlZGl0Q2FyZD4gYyA9IGNxLmZyb20oQ3Jl\nZGl0Q2FyZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48Q3JlZGl0Q2FyZCwg\nVHJhbnNhY3Rpb25IaXN0b3J5PiB0ID0gYy5qb2luKGNyZWRpdENhcmRfLmdl\ndExpc3QoInRyYW5zYWN0aW9uSGlzdG9yeSIsIAogICAgICAgICAgICAgICAg\nVHJhbnNhY3Rpb25IaXN0b3J5LmNsYXNzKSk7CiAgICAgICAgUHJlZGljYXRl\nIHAxID0gY2IuZXF1YWwoCiAgICAgICAgICAgICAgICBjLmdldChjcmVkaXRD\nYXJkXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgiY3VzdG9tZXIiLCBDdXN0b21l\nci5jbGFzcykpCiAgICAgICAgICAgICAgICAgLmdldChjdXN0b21lcl8uZ2V0\nU2luZ3VsYXJBdHRyaWJ1dGUoImFjY291bnROdW0iLCBsb25nLmNsYXNzKSks\nIDMyMTk4Nyk7CiAgICAgICAgUHJlZGljYXRlIHAyID0gY2IuYmV0d2Vlbih0\nLmluZGV4KCksIDAsIDkpOwogICAgICAgIGNxLnNlbGVjdCh0KS53aGVyZShw\nMSxwMik7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKGNxLCBqcHFsKTsK\nICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdElzRW1wdHlFeHByZXNz\naW9uT25Kb2luKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBv\nIEZST00gT3JkZXIgbyBXSEVSRSBvLmxpbmVJdGVtcyBJUyBFTVBUWSI7IAog\nICAgICAgIENyaXRlcmlhUXVlcnk8T3JkZXI+IHEgPSBjYi5jcmVhdGVRdWVy\neShPcmRlci5jbGFzcyk7IAogICAgICAgIFJvb3Q8T3JkZXI+IG8gPSBxLmZy\nb20oT3JkZXIuY2xhc3MpOwogICAgICAgIEV4cHJlc3Npb248TGluZUl0ZW0+\nIGxpbmVJdGVtcyA9IG8uZ2V0KCJsaW5lSXRlbXMiKS5hcyhMaW5lSXRlbS5j\nbGFzcyk7CiAgICAgICAgcS53aGVyZShjYi5pc0VtcHR5KGxpbmVJdGVtcy5h\ncyhMaXN0LmNsYXNzKSkpOyAKICAgICAgICBxLnNlbGVjdChvKTsKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RnVuY3Rpb25hbEV4cHJlc3Npb25JblByb2plY3Rpb24o\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIG8ucXVhbnRpdHks\nIG8udG90YWxDb3N0KjEuMDggQVMgdGF4ZWRDb3N0LCAiCiAgICAgICAgICAg\nICAgICArICJhLnppcENvZGUgRlJPTSBDdXN0b21lciBjIEpPSU4gYy5vcmRl\ncnMgbyBKT0lOIGMuYWRkcmVzcyBhICIKICAgICAgICAgICAgICAgICsgIldI\nRVJFIGEuc3RhdGUgPSAnQ0EnIEFORCBhLmNvdW50eSA9ICdTYW50YSBDbGFy\nYSciOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8VHVwbGU+IHEg\nPSBjYi5jcmVhdGVUdXBsZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxDdXN0b21l\ncj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgSm9pbjxD\ndXN0b21lciwgT3JkZXI+IG8gPSBjLmpvaW4oY3VzdG9tZXJfLmdldFNldCgi\nb3JkZXJzIiwgT3JkZXIuY2xhc3MpKTsKICAgICAgICBKb2luPEN1c3RvbWVy\nLCBBZGRyZXNzPiBhID0gYy5qb2luKGN1c3RvbWVyXy5nZXRTaW5ndWxhckF0\ndHJpYnV0ZSgiYWRkcmVzcyIsIEFkZHJlc3MuY2xhc3MpKTsKICAgICAgICBF\neHByZXNzaW9uPERvdWJsZT4gdGF4ZWRDb3N0ID0gKEV4cHJlc3Npb248RG91\nYmxlPiljYi5wcm9kKG8uZ2V0KG9yZGVyXy5nZXRTaW5ndWxhckF0dHJpYnV0\nZSgidG90YWxDb3N0IiwgCiAgICAgICAgICAgICAgICBEb3VibGUuY2xhc3Mp\nKSwgMS4wOCkuYWxpYXMoInRheGVkQ29zdCIpOwogICAgICAgIHEud2hlcmUo\nY2IuZXF1YWwoYS5nZXQoYWRkcmVzc18uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUo\nInN0YXRlIiwgU3RyaW5nLmNsYXNzKSksICJDQSIpLCAKICAgICAgICAgICAg\nICAgIGNiLmVxdWFsKGEuZ2V0KGFkZHJlc3NfLmdldFNpbmd1bGFyQXR0cmli\ndXRlKCJjb3VudHkiLCBTdHJpbmcuY2xhc3MpKSwgIlNhbnRhIENsYXJhIikp\nOwogICAgICAgIHEubXVsdGlzZWxlY3Qoby5nZXQob3JkZXJfLmdldFNpbmd1\nbGFyQXR0cmlidXRlKCJxdWFudGl0eSIsIEludGVnZXIuY2xhc3MpKSwKICAg\nICAgICAgICAgICAgIHRheGVkQ29zdCwKICAgICAgICAgICAgICAgIGEuZ2V0\nKGFkZHJlc3NfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJ6aXBDb2RlIiwgU3Ry\naW5nLmNsYXNzKSkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBq\ncHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdFR5cGVFeHBy\nZXNzaW9uKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBUWVBF\nKGUpIEZST00gRW1wbG95ZWUgZSBXSEVSRSBUWVBFKGUpIDw+IEV4ZW1wdCI7\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeSBxID0gY2IuY3JlYXRlUXVlcnkoKTsK\nICAgICAgICBSb290PEVtcGxveWVlPiBlbXAgPSBxLmZyb20oRW1wbG95ZWUu\nY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGVtcC50eXBlKCkpLndoZXJlKGNi\nLm5vdEVxdWFsKGVtcC50eXBlKCksIEV4ZW1wdC5jbGFzcykpOwoKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdEpvaW5BbmRJbmRleEV4cHJlc3Npb24oKSB7CiAg\nICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1Qgdy5uYW1lIEZST00gQ291cnNl\nIGMgSk9JTiBjLnN0dWRlbnRXYWl0TGlzdCB3ICIKICAgICAgICAgICAgICAg\nICsgIldIRVJFIGMubmFtZSA9ICdDYWxjdWx1cycgQU5EIElOREVYKHcpID0g\nMCI7CiAgICAgICAgCiAgICAgICBDcml0ZXJpYVF1ZXJ5PFN0cmluZz4gcSA9\nIGNiLmNyZWF0ZVF1ZXJ5KFN0cmluZy5jbGFzcyk7CiAgICAgICAgUm9vdDxD\nb3Vyc2U+IGNvdXJzZSA9IHEuZnJvbShDb3Vyc2UuY2xhc3MpOwogICAgICAg\nIExpc3RKb2luPENvdXJzZSwgU3R1ZGVudD4gdyA9IGNvdXJzZS5qb2luKGNv\ndXJzZV8uZ2V0TGlzdCgic3R1ZGVudFdhaXRMaXN0IiwgU3R1ZGVudC5jbGFz\ncykpOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwoY291cnNlLmdldChjb3Vy\nc2VfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJuYW1lIiwgU3RyaW5nLmNsYXNz\nKSksICJDYWxjdWx1cyIpLCAKICAgICAgICAgICAgICAgIGNiLmVxdWFsKHcu\naW5kZXgoKSwgMCkpCiAgICAgICAgICAuc2VsZWN0KHcuZ2V0KHN0dWRlbnRf\nLmdldFNpbmd1bGFyQXR0cmlidXRlKCJuYW1lIiwgU3RyaW5nLmNsYXNzKSkp\nOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdEFnZ3JlZ2F0ZUV4cHJlc3Npb25J\nblByb2plY3Rpb24oKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNU\nIFNVTShpLnByaWNlKSAiIAogICAgICAgICAgICAgKyAiRlJPTSBPcmRlciBv\nIEpPSU4gby5saW5lSXRlbXMgaSBKT0lOIG8uY3VzdG9tZXIgYyAiCiAgICAg\nICAgICAgICArICJXSEVSRSBjLmxhc3ROYW1lID0gJ1NtaXRoJyBBTkQgYy5m\naXJzdE5hbWUgPSAnSm9obiciOwogICAgICAgIENyaXRlcmlhUXVlcnkgcSA9\nIGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxPcmRlcj4gbyA9IHEu\nZnJvbShPcmRlci5jbGFzcyk7CiAgICAgICAgSm9pbjxPcmRlciwgTGluZUl0\nZW0+IGkgPSBvLmpvaW4ob3JkZXJfLmdldExpc3QoImxpbmVJdGVtcyIsCiAg\nICAgICAgICAgICAgICBMaW5lSXRlbS5jbGFzcykpOwogICAgICAgIEpvaW48\nT3JkZXIsIEN1c3RvbWVyPiBjID0gby5qb2luKG9yZGVyXy5nZXRTaW5ndWxh\nckF0dHJpYnV0ZSgiY3VzdG9tZXIiLAogICAgICAgICAgICAgICAgQ3VzdG9t\nZXIuY2xhc3MpKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGMuZ2V0KGN1\nc3RvbWVyXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgibGFzdE5hbWUiLCBTdHJp\nbmcuY2xhc3MpKSwgIlNtaXRoIiksIAogICAgICAgICAgICAgICAgY2IuZXF1\nYWwoYy5nZXQoY3VzdG9tZXJfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJmaXJz\ndE5hbWUiLCBTdHJpbmcuY2xhc3MpKSwgIkpvaG4iKSk7CiAgICAgICAgcS5z\nZWxlY3QoY2Iuc3VtKGkuZ2V0KGxpbmVJdGVtXy5nZXRTaW5ndWxhckF0dHJp\nYnV0ZSgicHJpY2UiLCBEb3VibGUuY2xhc3MpKSkpOwoKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdFNpemVFeHByZXNzaW9uSW5Qcm9qZWN0aW9uKCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBTSVpFKGQuZW1wbG95ZWVzKSBG\nUk9NIERlcGFydG1lbnQgZCAiIAogICAgICAgICArICJXSEVSRSBkLm5hbWUg\nPSAnU2FsZXMnIjsgCiAgICAgICAgCiAgICAgICAgQ3JpdGVyaWFRdWVyeSBx\nID0gY2IuY3JlYXRlUXVlcnkoKTsgCiAgICAgICAgUm9vdDxEZXBhcnRtZW50\nPiBkID0gcS5mcm9tKERlcGFydG1lbnQuY2xhc3MpOwogICAgICAgIHEud2hl\ncmUoY2IuZXF1YWwoCiAgICAgICAgICAgICAgICBkLmdldChkZXBhcnRtZW50\nXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgibmFtZSIsIFN0cmluZy5jbGFzcykp\nLCAKICAgICAgICAgICAgICAgICJTYWxlcyIpKTsKICAgICAgICBTZXRBdHRy\naWJ1dGU8RGVwYXJ0bWVudCwgRW1wbG95ZWU+IGVtcGxveWVlcyA9IAogICAg\nICAgICAgICBkZXBhcnRtZW50Xy5nZXREZWNsYXJlZFNldCgiZW1wbG95ZWVz\nIiwgRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGNiLnNpemUo\nZC5nZXQoZW1wbG95ZWVzKSkpOwogICAgICAgIAogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwpOwogICAgICAgIAogICAgfQogICAgCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0Q2FzZUV4cHJlc3Npb24oKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAiU0VMRUNUIGUubmFtZSwgIgogICAgICAgICAgICAgKyAi\nQ0FTRSBXSEVOIGUucmF0aW5nID0gMSBUSEVOIGUuc2FsYXJ5ICogMS4xICIK\nICAgICAgICAgICAgICsgIldIRU4gZS5yYXRpbmcgPSAyIFRIRU4gZS5zYWxh\ncnkgKiAxLjIgRUxTRSBlLnNhbGFyeSAqIDEuMDEgRU5EICIKICAgICAgICAg\nICAgICsgIkZST00gRW1wbG95ZWUgZSBXSEVSRSBlLmRlcGFydG1lbnQubmFt\nZSA9ICdFbmdpbmVlcmluZyciOwogICAgICAgIAogICAgICAgIENyaXRlcmlh\nUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxF\nbXBsb3llZT4gZSA9IHEuZnJvbShFbXBsb3llZS5jbGFzcyk7CiAgICAgICAg\ncS53aGVyZShjYi5lcXVhbChlLmdldCgKICAgICAgICAgICAgICAgICAgICAg\nICAgZW1wbG95ZWVfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJkZXBhcnRtZW50\nIiwgRGVwYXJ0bWVudC5jbGFzcykpCiAgICAgICAgICAgICAgICAgICAgICAg\nIC5nZXQoZGVwYXJ0bWVudF8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoIm5hbWUi\nLCBTdHJpbmcuY2xhc3MpKSwKICAgICAgICAgICAgICAgICAgICAgICAgIkVu\nZ2luZWVyaW5nIikpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZS5nZXQoZW1w\nbG95ZWVfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJuYW1lIiwgU3RyaW5nLmNs\nYXNzKSksIAogICAgICAgICAgICAgICAgY2Iuc2VsZWN0Q2FzZSgpLndoZW4o\nCiAgICAgICAgICAgICAgICAgICAgICAgIGNiLmVxdWFsKGUuZ2V0KGVtcGxv\neWVlXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgicmF0aW5nIiwgSW50ZWdlci5j\nbGFzcykpLCAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgY2IucHJvZChl\nLmdldChlbXBsb3llZV8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInNhbGFyeSIs\nICBMb25nLmNsYXNzKSksIDEuMSkpLndoZW4oCiAgICAgICAgICAgICAgICAg\nICAgICAgIGNiLmVxdWFsKGUuZ2V0KGVtcGxveWVlXy5nZXRTaW5ndWxhckF0\ndHJpYnV0ZSgicmF0aW5nIiwgSW50ZWdlci5jbGFzcykpLCAyKSwKICAgICAg\nICAgICAgICAgICAgICAgICAgY2IucHJvZChlLmdldChlbXBsb3llZV8uZ2V0\nU2luZ3VsYXJBdHRyaWJ1dGUoInNhbGFyeSIsICBMb25nLmNsYXNzKSksIDEu\nMikpLm90aGVyd2lzZSgKICAgICAgICAgICAgICAgICAgICAgICAgY2IucHJv\nZChlLmdldChlbXBsb3llZV8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInNhbGFy\neSIsICBMb25nLmNsYXNzKSksIDEuMDEpKSk7CgogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RNZW1iZXJPZkV4cHJlc3Npb24oKSB7CiAgICAgIFN0cmluZyBqcHFsID0g\nIlNFTEVDVCBwIEZST00gUGVyc29uIHAgd2hlcmUgJ0pvZScgTUVNQkVSIE9G\nIHAubmlja05hbWVzIjsKICAgICAKICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBx\nID0gY2IuY3JlYXRlUXVlcnkoKTsgCiAgICAgIFJvb3Q8UGVyc29uPiBwID0g\ncS5mcm9tKFBlcnNvbi5jbGFzcyk7CiAgICAgIHEubXVsdGlzZWxlY3QocCku\nd2hlcmUoY2IuaXNNZW1iZXIoY2IubGl0ZXJhbCgiSm9lIiksIAogICAgICAg\nICAgICAgcC5nZXQocGVyc29uXy5nZXREZWNsYXJlZFNldCgibmlja05hbWVz\nIiwgU3RyaW5nLmNsYXNzKSkpKTsKICAgICAKICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwpOyAKICAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndFBhcmFtZXRlcnMoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNU\nIGMgRlJPTSBDdXN0b21lciBjIFdoZXJlIGMuc3RhdHVzID0gOnN0YXQiOwog\nICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7\nCiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9IHEuZnJvbShDdXN0b21lci5j\nbGFzcyk7CiAgICAgICAgUGFyYW1ldGVyPEludGVnZXI+IHBhcmFtID0gY2Iu\ncGFyYW1ldGVyKEludGVnZXIuY2xhc3MsICJzdGF0Iik7CiAgICAgICAgcS5t\ndWx0aXNlbGVjdChjKS53aGVyZShjYi5lcXVhbCgKICAgICAgICAgICAgYy5n\nZXQoY3VzdG9tZXJfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJzdGF0dXMiLCBJ\nbnRlZ2VyLmNsYXNzKSksIHBhcmFtKSk7CgogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKG5ldyBRdWVyeURlY29yYXRvcigpIHsKICAgICAgICAgICAgcHVi\nbGljIHZvaWQgZGVjb3JhdGUoUXVlcnkgcSkgewogICAgICAgICAgICAgICAg\ncS5zZXRQYXJhbWV0ZXIoInN0YXQiLCAxKTsKICAgICAgICAgICAgfQogICAg\nICAgIH0sIHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RL\nZXlFeHByZXNzaW9uSW5TZWxlY3RMaXN0KCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gIlNFTEVDVCB2LmxvY2F0aW9uLnN0cmVldCwgS0VZKGkpLnRpdGxl\nLCBWQUxVRShpKSAiCiAgICAgICAgICAgICAgICArICJGUk9NIFZpZGVvU3Rv\ncmUgdiBKT0lOIHYudmlkZW9JbnZlbnRvcnkgaSAiCiAgICAgICAgICAgICAg\nICArICJXSEVSRSB2LmxvY2F0aW9uLnppcENvZGUgPSAnOTQzMDEnIEFORCBW\nQUxVRShpKSA+IDAiOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8\nPz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxWaWRlb1N0\nb3JlPiB2ID0gcS5mcm9tKFZpZGVvU3RvcmUuY2xhc3MpOwogICAgICAgIE1h\ncEpvaW48VmlkZW9TdG9yZSwgTW92aWUsIEludGVnZXI+IGkgPSB2LmpvaW4o\ndmlkZW9TdG9yZV8uZ2V0TWFwKCJ2aWRlb0ludmVudG9yeSIsIE1vdmllLmNs\nYXNzLEludGVnZXIuY2xhc3MpKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFs\nKHYuZ2V0KHZpZGVvU3RvcmVfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJsb2Nh\ndGlvbiIsIEFkZHJlc3MuY2xhc3MpKQogICAgICAgICAgICAgICAgICAgICAg\nICAgIC5nZXQoYWRkcmVzc18uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInppcENv\nZGUiLCBTdHJpbmcuY2xhc3MpKSwgIjk0MzAxIiksIAogICAgICAgICAgICAg\nICAgICAgICAgICAgIGNiLmd0KGkudmFsdWUoKSwgMCkpOwogICAgICAgIHEu\nbXVsdGlzZWxlY3Qodi5nZXQodmlkZW9TdG9yZV8uZ2V0U2luZ3VsYXJBdHRy\naWJ1dGUoImxvY2F0aW9uIiwgQWRkcmVzcy5jbGFzcykpCiAgICAgICAgICAg\nICAgICAuZ2V0KGFkZHJlc3NfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJzdHJl\nZXQiLCBTdHJpbmcuY2xhc3MpKSwgCiAgICAgICAgICAgICAgICBpLmtleSgp\nLmdldChtb3ZpZV8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInRpdGxlIiwgU3Ry\naW5nLmNsYXNzKSksIAogICAgICAgICAgICAgICAgaS52YWx1ZSgpKTsKCiAg\nICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RDb25zdHJ1Y3RvckluU2VsZWN0TGlzdCgp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgTkVXIEN1c3RvbWVy\nRGV0YWlscyhjLmlkLCBjLnN0YXR1cywgby5xdWFudGl0eSkgIgogICAgICAg\nICAgICAgICAgICAgICsgIkZST00gQ3VzdG9tZXIgYyBKT0lOIGMub3JkZXJz\nIG8gV0hFUkUgby5xdWFudGl0eSA+IDEwMCI7CiAgICAgICAgCiAgICAgICAg\nQ3JpdGVyaWFRdWVyeTxDdXN0b21lckRldGFpbHM+IHEgPSBjYi5jcmVhdGVR\ndWVyeShDdXN0b21lckRldGFpbHMuY2xhc3MpOwogICAgICAgIFJvb3Q8Q3Vz\ndG9tZXI+IGMgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFNl\ndEpvaW48Q3VzdG9tZXIsIE9yZGVyPiBvID0gYy5qb2luKAogICAgICAgICAg\nICAgICAgY3VzdG9tZXJfLmdldFNldCgib3JkZXJzIiwgT3JkZXIuY2xhc3Mp\nKTsKICAgICAgICBxLndoZXJlKGNiLmd0KG8uZ2V0KG9yZGVyXy5nZXRTaW5n\ndWxhckF0dHJpYnV0ZSgicXVhbnRpdHkiLCBJbnRlZ2VyLmNsYXNzKSksCiAg\nICAgICAgICAgICAgICAxMDApKTsKICAgICAgICBxLnNlbGVjdChjYi5jb25z\ndHJ1Y3QoQ3VzdG9tZXJEZXRhaWxzLmNsYXNzLCAKICAgICAgICAgICAgICAg\nIGMuZ2V0KGN1c3RvbWVyXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgiaWQiLCBM\nb25nLmNsYXNzKSksIAogICAgICAgICAgICAgICAgYy5nZXQoY3VzdG9tZXJf\nLmdldFNpbmd1bGFyQXR0cmlidXRlKCJzdGF0dXMiLCBJbnRlZ2VyLmNsYXNz\nKSksIAogICAgICAgICAgICAgICAgby5nZXQob3JkZXJfLmdldFNpbmd1bGFy\nQXR0cmlidXRlKCJxdWFudGl0eSIsICBJbnRlZ2VyLmNsYXNzKSkpKTsKCiAg\nICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdFVuY29ycmVsYXRlZFN1YnF1ZXJ5V2l0aEFnZ3Jl\nZ2F0ZVByb2plY3Rpb24oKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VM\nRUNUIGdvb2RDdXN0b21lciBGUk9NIEN1c3RvbWVyIGdvb2RDdXN0b21lciBX\nSEVSRSAiCiAgICAgICAgICAgICAgICArICJnb29kQ3VzdG9tZXIuYmFsYW5j\nZU93ZWQgPCAoU0VMRUNUIEFWRyhjLmJhbGFuY2VPd2VkKSBGUk9NICIKICAg\nICAgICAgICAgICAgICsgIkN1c3RvbWVyIGMpIjsKICAgICAgICBDcml0ZXJp\nYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8\nQ3VzdG9tZXI+IGdvb2RDdXN0b21lciA9IHEuZnJvbShDdXN0b21lci5jbGFz\ncyk7CiAgICAgICAgU3VicXVlcnk8RG91YmxlPiBzcSA9IHEuc3VicXVlcnko\nRG91YmxlLmNsYXNzKTsKICAgICAgICBSb290PEN1c3RvbWVyPiBjID0gc3Eu\nZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgcS53aGVyZShjYi5sdChn\nb29kQ3VzdG9tZXIuZ2V0KGN1c3RvbWVyXy5nZXRTaW5ndWxhckF0dHJpYnV0\nZSgiYmFsYW5jZU93ZWQiLAogICAgICAgICAgICAgICAgSW50ZWdlci5jbGFz\ncykpLCBzcS5zZWxlY3QoY2IuYXZnKGMuZ2V0KGN1c3RvbWVyXy5nZXRTaW5n\ndWxhckF0dHJpYnV0ZSgKICAgICAgICAgICAgICAgICJiYWxhbmNlT3dlZCIs\nIEludGVnZXIuY2xhc3MpKSkpKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChn\nb29kQ3VzdG9tZXIpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBq\ncHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdFN1YnF1ZXJ5\nV2l0aEV4aXN0c0NsYXVzZSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJT\nRUxFQ1QgRElTVElOQ1QgZW1wIEZST00gRW1wbG95ZWUgZW1wIFdIRVJFIEVY\nSVNUUyAoIgogICAgICAgICAgICAgICAgKyAiU0VMRUNUIHNwb3VzZUVtcCBG\nUk9NIEVtcGxveWVlIHNwb3VzZUVtcCBXSEVSRSBzcG91c2VFbXAgPSAiCiAg\nICAgICAgICAgICAgICArICJlbXAuc3BvdXNlKSI7CiAgICAgICAgQ3JpdGVy\naWFRdWVyeTxFbXBsb3llZT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtcGxveWVl\nLmNsYXNzKTsKICAgICAgICBSb290PEVtcGxveWVlPiBlbXAgPSBxLmZyb20o\nRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIFN1YnF1ZXJ5PEVtcGxveWVlPiBz\ncSA9IHEuc3VicXVlcnkoRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIFJvb3Q8\nRW1wbG95ZWU+IHNwb3VzZUVtcCA9IHNxLmZyb20oRW1wbG95ZWUuY2xhc3Mp\nOwogICAgICAgIHNxLnNlbGVjdChzcG91c2VFbXApOwogICAgICAgIHNxLndo\nZXJlKGNiLmVxdWFsKHNwb3VzZUVtcCwgZW1wLmdldChlbXBsb3llZV8uZ2V0\nU2luZ3VsYXJBdHRyaWJ1dGUoInNwb3VzZSIsIEVtcGxveWVlLmNsYXNzKSkp\nKTsKICAgICAgICBxLndoZXJlKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIHEu\nZGlzdGluY3QodHJ1ZSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEs\nIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RTdWJxdWVyeVdp\ndGhBbGxDbGF1c2UoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNU\nIGVtcCBGUk9NIEVtcGxveWVlIGVtcCBXSEVSRSBlbXAuc2FsYXJ5ID4gQUxM\nICgiCiAgICAgICAgICAgICAgICArICJTRUxFQ1QgbS5zYWxhcnkgRlJPTSBN\nYW5hZ2VyIG0gV0hFUkUgbS5kZXBhcnRtZW50ID0iCiAgICAgICAgICAgICAg\nICArICIgZW1wLmRlcGFydG1lbnQpIjsKICAgICAgICAKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PEVtcGxveWVlPiBxID0gY2IuY3JlYXRlUXVlcnkoRW1wbG95\nZWUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW1wbG95ZWU+IGVtcCA9IHEuZnJv\nbShFbXBsb3llZS5jbGFzcyk7CiAgICAgICAgCiAgICAgICAgU3VicXVlcnk8\nQmlnRGVjaW1hbD4gc3EgPSBxLnN1YnF1ZXJ5KEJpZ0RlY2ltYWwuY2xhc3Mp\nOwogICAgICAgIFJvb3Q8TWFuYWdlcj4gbSA9IHNxLmZyb20oTWFuYWdlci5j\nbGFzcyk7CiAgICAgICAgc3Euc2VsZWN0KG0uZ2V0KG1hbmFnZXJfLmdldFNp\nbmd1bGFyQXR0cmlidXRlKCJzYWxhcnkiLCBCaWdEZWNpbWFsLmNsYXNzKSkp\nOwogICAgICAgIHNxLndoZXJlKGNiLmVxdWFsKG0uZ2V0KG1hbmFnZXJfLmdl\ndFNpbmd1bGFyQXR0cmlidXRlKCJkZXBhcnRtZW50IiwKICAgICAgICAgICAg\nICAgIERlcGFydG1lbnQuY2xhc3MpKSwgZW1wLmdldChlbXBsb3llZV8uZ2V0\nU2luZ3VsYXJBdHRyaWJ1dGUoCiAgICAgICAgICAgICAgICAiZGVwYXJ0bWVu\ndCIsIERlcGFydG1lbnQuY2xhc3MpKSkpOwogICAgICAgIHEud2hlcmUoY2Iu\nZ3QoZW1wLmdldChlbXBsb3llZV8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInNh\nbGFyeSIsIExvbmcuY2xhc3MpKSwgY2IKICAgICAgICAgICAgICAgIC5hbGwo\nc3EpKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwog\nICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29ycmVsYXRlZFN1YnF1\nZXJ5V2l0aENvdW50KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVD\nVCBjIEZST00gQ3VzdG9tZXIgYyBXSEVSRSAiCiAgICAgICAgICAgICAgICAr\nICIoU0VMRUNUIENPVU5UKG8pIEZST00gYy5vcmRlcnMgbykgPiAxMCI7CiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTxDdXN0b21lcj4gcSA9IGNiLmNyZWF0ZVF1\nZXJ5KEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBSb290PEN1c3RvbWVyPiBj\nMSA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgU3VicXVlcnk8\nTG9uZz4gc3EzID0gcS5zdWJxdWVyeShMb25nLmNsYXNzKTsKICAgICAgICBS\nb290PEN1c3RvbWVyPiBjMiA9IHNxMy5jb3JyZWxhdGUoYzEpOwogICAgICAg\nIEpvaW48Q3VzdG9tZXIsIE9yZGVyPiBvID0gYzIuam9pbihjdXN0b21lcl8u\nZ2V0U2V0KCJvcmRlcnMiLAogICAgICAgICAgICAgICAgT3JkZXIuY2xhc3Mp\nKTsKICAgICAgICBxLndoZXJlKGNiLmd0KHNxMy5zZWxlY3QoY2IuY291bnQo\nbykpLCAxMCkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdENvcnJlbGF0ZWRT\ndWJxdWVyeVdpdGhKb2luKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNF\nTEVDVCBvIEZST00gT3JkZXIgbyBXSEVSRSAxMDAwMCA8IEFMTCAoIgogICAg\nICAgICAgICAgICAgKyAiU0VMRUNUIGEuYmFsYW5jZSBGUk9NIG8uY3VzdG9t\nZXIgYyBKT0lOIGMuYWNjb3VudHMgYSkiOwogICAgICAgIAogICAgICAgIENy\naXRlcmlhUXVlcnk8T3JkZXI+IHEgPSBjYi5jcmVhdGVRdWVyeShPcmRlci5j\nbGFzcyk7CiAgICAgICAgUm9vdDxPcmRlcj4gbyA9IHEuZnJvbShPcmRlci5j\nbGFzcyk7CiAgICAgICAgCiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3Eg\nPSBxLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8T3Jk\nZXI+IG8yID0gc3EuY29ycmVsYXRlKG8pOwogICAgICAgIEpvaW48T3JkZXIs\nIEN1c3RvbWVyPiBjID0gbzIuam9pbihvcmRlcl8uZ2V0U2luZ3VsYXJBdHRy\naWJ1dGUoImN1c3RvbWVyIiwKICAgICAgICAgICAgICAgIEN1c3RvbWVyLmNs\nYXNzKSk7CiAgICAgICAgSm9pbjxDdXN0b21lciwgQWNjb3VudD4gYSA9IGMu\nam9pbihjdXN0b21lcl8uZ2V0TGlzdCgiYWNjb3VudHMiLAogICAgICAgICAg\nICAgICAgQWNjb3VudC5jbGFzcykpOwogICAgICAgIHNxLnNlbGVjdChhLmdl\ndChhY2NvdW50Xy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgiYmFsYW5jZSIsIElu\ndGVnZXIuY2xhc3MpKSk7CiAgICAgICAgcS53aGVyZShjYi5sdChjYi5saXRl\ncmFsKDEwMDAwKSwgY2IuYWxsKHNxKSkpOwoKICAgICAgICBhc3NlcnRFcXVp\ndmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdENvcnJlbGF0ZWRTdWJxdWVyeVdpdGhBbGxDbGF1c2UoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIG8gRlJPTSBPcmRlciBvIEpPSU4g\nby5jdXN0b21lciBjICIKICAgICAgICAgICAgICAgICAgICArICJXSEVSRSAx\nMDAwMCA8IEFMTCAoU0VMRUNUIGEuYmFsYW5jZSBGUk9NIGMuYWNjb3VudHMg\nYSkiOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8T3JkZXI+IHEg\nPSBjYi5jcmVhdGVRdWVyeShPcmRlci5jbGFzcyk7CiAgICAgICAgUm9vdDxP\ncmRlcj4gbyA9IHEuZnJvbShPcmRlci5jbGFzcyk7CiAgICAgICAgCiAgICAg\nICAgSm9pbjxPcmRlciwgQ3VzdG9tZXI+IGMgPSBvLmpvaW4oT3JkZXJfLmN1\nc3RvbWVyKTsKICAgICAgICBTdWJxdWVyeTxJbnRlZ2VyPiBzcSA9IHEuc3Vi\ncXVlcnkoSW50ZWdlci5jbGFzcyk7CiAgICAgICAgSm9pbjxPcmRlciwgQ3Vz\ndG9tZXI+IGNzcSA9IHNxLmNvcnJlbGF0ZShjKTsKICAgICAgICBKb2luPEN1\nc3RvbWVyLCBBY2NvdW50PiBhID0gY3NxLmpvaW4oY3VzdG9tZXJfLmdldExp\nc3QoImFjY291bnRzIiwKICAgICAgICAgICAgICAgIEFjY291bnQuY2xhc3Mp\nKTsKICAgICAgICBzcS5zZWxlY3QoYS5nZXQoYWNjb3VudF8uZ2V0U2luZ3Vs\nYXJBdHRyaWJ1dGUoImJhbGFuY2UiLCBJbnRlZ2VyLmNsYXNzKSkpOwogICAg\nICAgIHEud2hlcmUoY2IubHQoY2IubGl0ZXJhbCgxMDAwMCksIGNiLmFsbChz\ncSkpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdEdyb3VwQnlBbmRIYXZpbmcoKSB7\nCiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIGMuc3RhdHVzLCBBVkco\nYy5maWxsZWRPcmRlckNvdW50KSwgQ09VTlQoYykgRlJPTSAiCiAgICAgICAg\nICAgICAgICArICJDdXN0b21lciBjIEdST1VQIEJZIGMuc3RhdHVzIEhBVklO\nRyBjLnN0YXR1cyBJTiAoMSwgMikiOwogICAgICAgIAogICAgICAgIENyaXRl\ncmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9v\ndDxDdXN0b21lcj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAg\nICAgcS5ncm91cEJ5KGMuZ2V0KGN1c3RvbWVyXy5nZXRTaW5ndWxhckF0dHJp\nYnV0ZSgic3RhdHVzIiwgSW50ZWdlci5jbGFzcykpKTsKICAgICAgICBxLmhh\ndmluZyhjYi5pbihjLmdldChjdXN0b21lcl8uZ2V0U2luZ3VsYXJBdHRyaWJ1\ndGUoInN0YXR1cyIsIEludGVnZXIuY2xhc3MpKSkKICAgICAgICAgICAgICAg\nIC52YWx1ZSgxKS52YWx1ZSgyKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChj\nLmdldChjdXN0b21lcl8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInN0YXR1cyIs\nIEludGVnZXIuY2xhc3MpKSwgY2IKICAgICAgICAgICAgICAgIC5hdmcoYy5n\nZXQoY3VzdG9tZXJfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJmaWxsZWRPcmRl\nckNvdW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgSW50ZWdlci5jbGFz\ncykpKSwgY2IuY291bnQoYykpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3JkZXJp\nbmdCeUV4cHJlc3Npb25Ob3RJbmNsdWRlZEluU2VsZWN0aW9uKCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBvIEZST00gQ3VzdG9tZXIgYyAi\nIAogICAgICAgICAgICAgICAgICAgICsgIkpPSU4gYy5vcmRlcnMgbyBKT0lO\nIGMuYWRkcmVzcyBhICIKICAgICAgICAgICAgICAgICAgICArICJXSEVSRSBh\nLnN0YXRlID0gJ0NBJyAiCiAgICAgICAgICAgICAgICAgICAgKyAiT1JERVIg\nQlkgby5xdWFudGl0eSBERVNDLCBvLnRvdGFsQ29zdCI7CiAgICAgICAgCiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsK\nICAgICAgICBSb290PEN1c3RvbWVyPiBjID0gcS5mcm9tKEN1c3RvbWVyLmNs\nYXNzKTsKICAgICAgICBTZXRKb2luPEN1c3RvbWVyLCBPcmRlcj4gbyA9IGMu\nam9pbihjdXN0b21lcl8uZ2V0U2V0KCJvcmRlcnMiLCAKICAgICAgICAgICAg\nICAgIE9yZGVyLmNsYXNzKSk7CiAgICAgICAgSm9pbjxDdXN0b21lciwgQWRk\ncmVzcz4gYSA9IGMuam9pbihjdXN0b21lcl8uZ2V0U2luZ3VsYXJBdHRyaWJ1\ndGUoImFkZHJlc3MiLAogICAgICAgICAgICAgICAgQWRkcmVzcy5jbGFzcykp\nOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwoCiAgICAgICAgICAgICAgICBh\nLmdldChhZGRyZXNzXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgic3RhdGUiLCBT\ndHJpbmcuY2xhc3MpKSwKICAgICAgICAgICAgICAgICJDQSIpKTsKICAgICAg\nICBxLm9yZGVyQnkoCiAgICAgICAgICBjYi5kZXNjKG8uZ2V0KG9yZGVyXy5n\nZXRTaW5ndWxhckF0dHJpYnV0ZSgicXVhbnRpdHkiLCBJbnRlZ2VyLmNsYXNz\nKSkpLAogICAgICAgICAgY2IuYXNjKG8uZ2V0KG9yZGVyXy5nZXRTaW5ndWxh\nckF0dHJpYnV0ZSgidG90YWxDb3N0IiwgRG91YmxlLmNsYXNzKSkpKTsKICAg\nICAgICBxLm11bHRpc2VsZWN0KG8pOwoKICAgICAgICBhc3NlcnRFcXVpdmFs\nZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVz\ndE9yZGVyaW5nQnlFeHByZXNzaW9uSW5jbHVkZWRJblNlbGVjdGlvbigpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1Qgby5xdWFudGl0eSwgYS56\naXBDb2RlIEZST00gQ3VzdG9tZXIgYyAiCiAgICAgICAgICAgICAgICAgICAg\nKyAiSk9JTiBjLm9yZGVycyBvIEpPSU4gYy5hZGRyZXNzIGEgIiAKICAgICAg\nICAgICAgICAgICAgICArICJXSEVSRSBhLnN0YXRlID0gJ0NBJyAiCiAgICAg\nICAgICAgICAgICAgICAgKyAiT1JERVIgQlkgby5xdWFudGl0eSwgYS56aXBD\nb2RlIjsKICAgICAgICAKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBj\nYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBx\nLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIEpvaW48Q3VzdG9tZXIs\nIE9yZGVyPiBvID0gYy5qb2luKGN1c3RvbWVyXy5nZXRTZXQoIm9yZGVycyIs\nCiAgICAgICAgICAgICAgICBPcmRlci5jbGFzcykpOwogICAgICAgIEpvaW48\nQ3VzdG9tZXIsIEFkZHJlc3M+IGEgPSBjLmpvaW4oY3VzdG9tZXJfLmdldFNp\nbmd1bGFyQXR0cmlidXRlKCJhZGRyZXNzIiwKICAgICAgICAgICAgICAgIEFk\nZHJlc3MuY2xhc3MpKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKAogICAg\nICAgICAgICAgICAgYS5nZXQoYWRkcmVzc18uZ2V0U2luZ3VsYXJBdHRyaWJ1\ndGUoInN0YXRlIiwgU3RyaW5nLmNsYXNzKSksCiAgICAgICAgICAgICAgICAi\nQ0EiKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiCiAgICAgICAgICAgICAgICAu\nYXNjKG8uZ2V0KG9yZGVyXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgicXVhbnRp\ndHkiLCBJbnRlZ2VyLmNsYXNzKSkpLAogICAgICAgICAgICAgICAgY2IuYXNj\nKGEuZ2V0KGFkZHJlc3NfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJ6aXBDb2Rl\nIiwgU3RyaW5nLmNsYXNzKSkpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KG8u\nZ2V0KG9yZGVyXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgicXVhbnRpdHkiLCBJ\nbnRlZ2VyLmNsYXNzKSksIAogICAgICAgICAgICAgICAgYS5nZXQoYWRkcmVz\nc18uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInppcENvZGUiLCBTdHJpbmcuY2xh\nc3MpKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwog\nICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3JkZXJpbmdXaXRoTnVt\nZXJpY2FsRXhwcmVzc2lvbkluU2VsZWN0aW9uKCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gIlNFTEVDVCBvLnF1YW50aXR5LCBvLnRvdGFsQ29zdCAqIDEu\nMDggQVMgdGF4ZWRDb3N0LCBhLnppcENvZGUgIgogICAgICAgICAgICAgICAg\nKyAiRlJPTSBDdXN0b21lciBjIEpPSU4gYy5vcmRlcnMgbyBKT0lOIGMuYWRk\ncmVzcyBhICIKICAgICAgICAgICAgICAgICsgIldIRVJFIGEuc3RhdGUgPSAn\nQ0EnIEFORCBhLmNvdW50eSA9ICdTYW50YSBDbGFyYScgIgogICAgICAgICAg\nICAgICAgKyAiT1JERVIgQlkgby5xdWFudGl0eSwgdGF4ZWRDb3N0LCBhLnpp\ncENvZGUiOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9\nIGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9\nIHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgSm9pbjxDdXN0b21l\nciwgT3JkZXI+IG8gPSBjLmpvaW4oY3VzdG9tZXJfLmdldFNldCgib3JkZXJz\nIiwgIE9yZGVyLmNsYXNzKSk7CiAgICAgICAgSm9pbjxDdXN0b21lciwgQWRk\ncmVzcz4gYSA9IGMuam9pbihjdXN0b21lcl8uZ2V0U2luZ3VsYXJBdHRyaWJ1\ndGUoImFkZHJlc3MiLCBBZGRyZXNzLmNsYXNzKSk7CiAgICAgICAgRXhwcmVz\nc2lvbjxEb3VibGU+IHRheGVkQ29zdCA9IChFeHByZXNzaW9uPERvdWJsZT4p\nY2IucHJvZChvLmdldChvcmRlcl8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoInRv\ndGFsQ29zdCIsIAogICAgICAgICAgICAgICAgRG91YmxlLmNsYXNzKSksIDEu\nMDgpLmFsaWFzKCJ0YXhlZENvc3QiKTsKICAgICAgICBxLndoZXJlKGNiLmVx\ndWFsKGEuZ2V0KGFkZHJlc3NfLmdldFNpbmd1bGFyQXR0cmlidXRlKCJzdGF0\nZSIsIFN0cmluZy5jbGFzcykpLCAiQ0EiKSwgCiAgICAgICAgICAgICAgICBj\nYi5lcXVhbChhLmdldChhZGRyZXNzXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgi\nY291bnR5IiwgU3RyaW5nLmNsYXNzKSksICJTYW50YSBDbGFyYSIpKTsKICAg\nICAgICBxLm9yZGVyQnkoY2IuYXNjKG8uZ2V0KG9yZGVyXy5nZXRTaW5ndWxh\nckF0dHJpYnV0ZSgicXVhbnRpdHkiLCBJbnRlZ2VyLmNsYXNzKSkpLAogICAg\nICAgICAgICAgICAgICBjYi5hc2ModGF4ZWRDb3N0KSwgCiAgICAgICAgICAg\nICAgICAgIGNiLmFzYyhhLmdldChhZGRyZXNzXy5nZXRTaW5ndWxhckF0dHJp\nYnV0ZSgiemlwQ29kZSIsIFN0cmluZy5jbGFzcykpKSk7CiAgICAgICAgcS5t\ndWx0aXNlbGVjdChvLmdldChvcmRlcl8uZ2V0U2luZ3VsYXJBdHRyaWJ1dGUo\nInF1YW50aXR5IiwgSW50ZWdlci5jbGFzcykpLCAKICAgICAgICAgICAgICAg\nICAgICAgIHRheGVkQ29zdCwgCiAgICAgICAgICAgICAgICAgICAgICBhLmdl\ndChhZGRyZXNzXy5nZXRTaW5ndWxhckF0dHJpYnV0ZSgiemlwQ29kZSIsIFN0\ncmluZy5jbGFzcykpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBq\ncHFsKTsKICAgIH0KfQo=\n","encoding":"base64"}

