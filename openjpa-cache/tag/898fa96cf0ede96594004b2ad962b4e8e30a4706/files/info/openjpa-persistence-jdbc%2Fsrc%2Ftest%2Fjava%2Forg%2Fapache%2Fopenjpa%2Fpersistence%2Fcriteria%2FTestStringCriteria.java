{"sha":"3a106471e7c25ffec13eba251c08dc7eeaca7f83","node_id":"MDQ6QmxvYjIwNjM2NDozYTEwNjQ3MWU3YzI1ZmZlYzEzZWJhMjUxYzA4ZGM3ZWVhY2E3Zjgz","size":18131,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3a106471e7c25ffec13eba251c08dc7eeaca7f83","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbjsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5R\ndWVyeTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlR1cGxlOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuQ3JpdGVyaWFRdWVyeTsKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkV4cHJlc3Npb247Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5Kb2luOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuSm9pblR5cGU7CmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5MaXN0Sm9pbjsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLk1hcEpvaW47CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5QYXJhbWV0ZXJFeHByZXNzaW9uOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuUGF0aDsKaW1wb3J0\nIGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLlJvb3Q7CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5TZXRKb2luOwppbXBvcnQgamF2YXgu\ncGVyc2lzdGVuY2UuY3JpdGVyaWEuU3VicXVlcnk7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNyaXRlcmlhLkFic3RyYWN0Q3Jp\ndGVyaWFUZXN0Q2FzZS5RdWVyeURlY29yYXRvcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LkFsbG93RmFpbHVyZTsKCnB1\nYmxpYyBjbGFzcyBUZXN0U3RyaW5nQ3JpdGVyaWEgZXh0ZW5kcyBDcml0ZXJp\nYVRlc3QgewoKICAgIHB1YmxpYyB2b2lkIHRlc3RDcml0ZXJpYSgpIHsKICAg\nICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYyBmcm9tIEN1c3RvbWVyIGMg\nd2hlcmUgYy5uYW1lPSdBdXRvd2VzdCBUb3lvdGEnIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9t\nZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGN1c3RvbWVyID0g\ncS5mcm9tKEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBQYXRoPFN0cmluZz4g\ncGF0aCA9IGN1c3RvbWVyLjxTdHJpbmc+Z2V0KCJuYW1lIik7CiAgICAgICAg\ncS5zZWxlY3QoY3VzdG9tZXIpLndoZXJlKGNiLmVxdWFsKGN1c3RvbWVyLmdl\ndCgibmFtZSIpLCAiQXV0b3dlc3QgVG95b3RhIikpOwoKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Sm9pbnMxKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVD\nVCBjLm5hbWUgRlJPTSBDdXN0b21lciBjIEpPSU4gYy5vcmRlcnMgbyAiCiAg\nICAgICAgICAgICAgICArICJKT0lOIG8ubGluZUl0ZW1zIGkgV0hFUkUgaS5w\ncm9kdWN0LnByb2R1Y3RUeXBlID0gJ3ByaW50ZXInIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PFN0cmluZz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KFN0cmluZy5j\nbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gY3VzdCA9IHEuZnJvbShD\ndXN0b21lci5jbGFzcyk7CiAgICAgICAgU2V0Sm9pbjxDdXN0b21lciwgT3Jk\nZXI+IG9yZGVyID0gY3VzdC5qb2luU2V0KCJvcmRlcnMiKTsKICAgICAgICBM\naXN0Sm9pbjxPcmRlciwgTGluZUl0ZW0+IGl0ZW0gPSBvcmRlci5qb2luTGlz\ndCgibGluZUl0ZW1zIik7CiAgICAgICAgcS5zZWxlY3QoY3VzdC5nZXQoQ3Vz\ndG9tZXJfLm5hbWUpKS53aGVyZSgKICAgICAgICAgICAgICAgIGNiLmVxdWFs\nKGl0ZW0uZ2V0KCJwcm9kdWN0IikuZ2V0KCJwcm9kdWN0VHlwZSIpLCAicHJp\nbnRlciIpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEpvaW5zMigpIHsKICAgICAg\nICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgYyBGUk9NIEN1c3RvbWVyIGMgTEVG\nVCBKT0lOIGMub3JkZXJzIG8gV0hFUkUgIgogICAgICAgICAgICAgICAgKyAi\nYy5zdGF0dXMgPSAxIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3RvbWVy\nPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIuY2xhc3MpOwogICAgICAg\nIFJvb3Q8Q3VzdG9tZXI+IGMgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwog\nICAgICAgIFNldEpvaW48Q3VzdG9tZXIsIE9yZGVyPiBvID0gYy5qb2luU2V0\nKCJvcmRlcnMiLCBKb2luVHlwZS5MRUZUKTsKICAgICAgICBxLndoZXJlKGNi\nLmVxdWFsKGMuZ2V0KCJzdGF0dXMiKSwgMSkpCiAgICAgICAgIC5zZWxlY3Qo\nYyk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RGZXRjaEpvaW5zKCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gIlNFTEVDVCBkIEZST00gRGVwYXJ0bWVudCBkIExF\nRlQgSk9JTiBGRVRDSCBkLmVtcGxveWVlcyBXSEVSRSBkLmRlcHRObyA9IDEi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8RGVwYXJ0bWVudD4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KERlcGFydG1lbnQuY2xhc3MpOwogICAgICAgIFJvb3Q8RGVw\nYXJ0bWVudD4gZCA9IHEuZnJvbShEZXBhcnRtZW50LmNsYXNzKTsKICAgICAg\nICBkLmZldGNoKCJlbXBsb3llZXMiLCBKb2luVHlwZS5MRUZUKTsKICAgICAg\nICBxLndoZXJlKGNiLmVxdWFsKGQuZ2V0KCJkZXB0Tm8iKSwgMSkpLnNlbGVj\ndChkKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAg\nICB9CgogICAgQEFsbG93RmFpbHVyZShtZXNzYWdlPSJTUUwgbWlzbWF0Y2gu\nIE5vdCBhbmFseXplZCBmdXJ0aGVyLiBJcyB0aGUgQ3JpdGVyaWFRdWVyeSBj\nb3JlY3QgZm9yIGUuY29udGFjdEluZm8ucGhvbmVzPyIpCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0UGF0aE5hdmlnYXRpb24oKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAiU0VMRUNUIHAudmVuZG9yIEZST00gRW1wbG95ZWUgZSAiCiAgICAg\nICAgICAgICAgICArICJKT0lOIGUuY29udGFjdEluZm8ucGhvbmVzIHAgIFdI\nRVJFIGUuY29udGFjdEluZm8uYWRkcmVzcy56aXBDb2RlID0gJzk1MDU0JyI7\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxTdHJpbmc+IHEgPSBjYi5jcmVhdGVR\ndWVyeShTdHJpbmcuY2xhc3MpOwogICAgICAgIFJvb3Q8RW1wbG95ZWU+IGUg\nPSBxLmZyb20oRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIExpc3RKb2luPENv\nbnRhY3QsIFBob25lPiBwID0gZS5qb2luKCJjb250YWN0SW5mbyIpLmpvaW5M\naXN0KCJwaG9uZXMiKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGUuZ2V0\nKCJjb250YWN0SW5mbyIpLmdldCgiYWRkcmVzcyIpLmdldCgiemlwQ29kZSIp\nLCAiOTUwNTQiKSk7CiAgICAgICAgcS5zZWxlY3QocC5nZXQoInZlbmRvciIp\nLmFzKFN0cmluZy5jbGFzcykpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0S2V5KCkg\newogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBpLm5hbWUsIHAgRlJP\nTSBJdGVtIGkgSk9JTiBpLnBob3RvcyBwIFdIRVJFIEtFWShwKSBMSUtFICcl\nZWdyZXQlJyI7CgogICAgICAgIENyaXRlcmlhUXVlcnk8VHVwbGU+IHEgPSBj\nYi5jcmVhdGVUdXBsZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxJdGVtPiBpdGVt\nID0gcS5mcm9tKEl0ZW0uY2xhc3MpOwogICAgICAgIE1hcEpvaW48SXRlbSwg\nU3RyaW5nLCBQaG90bz4gcGhvdG8gPSBpdGVtLmpvaW5NYXAoInBob3RvcyIp\nOwogICAgICAgIHEubXVsdGlzZWxlY3QoaXRlbS5nZXQoIm5hbWUiKSwgcGhv\ndG8pCiAgICAgICAgICAgICAgICAud2hlcmUoY2IubGlrZShwaG90by5rZXko\nKSwgIiVlZ3JldCUiKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEs\nIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RSZXN0cmljdFF1\nZXJ5UmVzdWx0KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCB0\nIEZST00gQ3JlZGl0Q2FyZCBjIEpPSU4gYy50cmFuc2FjdGlvbkhpc3Rvcnkg\ndCAiCiAgICAgICAgICAgICAgICArICJXSEVSRSBjLmN1c3RvbWVyLmFjY291\nbnROdW0gPSAzMjE5ODcgQU5EIElOREVYKHQpIEJFVFdFRU4gMCBBTkQgOSI7\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxUcmFuc2FjdGlvbkhpc3Rvcnk+IHEg\nPSBjYi5jcmVhdGVRdWVyeShUcmFuc2FjdGlvbkhpc3RvcnkuY2xhc3MpOwog\nICAgICAgIFJvb3Q8Q3JlZGl0Q2FyZD4gYyA9IHEuZnJvbShDcmVkaXRDYXJk\nLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxDcmVkaXRDYXJkLCBUcmFuc2Fj\ndGlvbkhpc3Rvcnk+IHQgPSBjLmpvaW5MaXN0KCJ0cmFuc2FjdGlvbkhpc3Rv\ncnkiKTsKICAgICAgICBxLnNlbGVjdCh0KS53aGVyZSgKICAgICAgICAgICAg\nICAgIGNiLmVxdWFsKGMuZ2V0KCJjdXN0b21lciIpLmdldCgiYWNjb3VudE51\nbSIpLCAzMjE5ODcpLAogICAgICAgICAgICAgICAgY2IuYmV0d2Vlbih0Lmlu\nZGV4KCksIDAsIDkpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RJc0VtcHR5\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBvIEZST00gT3Jk\nZXIgbyBXSEVSRSBvLmxpbmVJdGVtcyBJUyBFTVBUWSI7IAogICAgICAgICAg\nQ3JpdGVyaWFRdWVyeTxPcmRlcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KE9yZGVy\nLmNsYXNzKTsgCiAgICAgICAgICBSb290PE9yZGVyPiBvID0gcS5mcm9tKE9y\nZGVyLmNsYXNzKTsKICAgICAgICAgIHEud2hlcmUoY2IuaXNFbXB0eShvLmdl\ndCgibGluZUl0ZW1zIikuYXMoQ29sbGVjdGlvbi5jbGFzcykpKTsgCiAgICAg\nICAgICBxLnNlbGVjdChvKTsKICAgICAgICAgIAogICAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ndGVzdEV4cHJlc3Npb25zKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNF\nTEVDVCBvLnF1YW50aXR5LCBvLnRvdGFsQ29zdCoxLjA4IEFTIHRheGVkQ29z\ndCwgIgogICAgICAgICAgICAgICAgKyAiYS56aXBDb2RlIEZST00gQ3VzdG9t\nZXIgYyBKT0lOIGMub3JkZXJzIG8gSk9JTiBjLmFkZHJlc3MgYSAiCiAgICAg\nICAgICAgICAgICArICJXSEVSRSBhLnN0YXRlID0gJ0NBJyBBTkQgYS5jb3Vu\ndHkgPSAnU2FudGEgQ2xhcmEnIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFR1\ncGxlPiBxID0gY2IuY3JlYXRlVHVwbGVRdWVyeSgpOwogICAgICAgIFJvb3Q8\nQ3VzdG9tZXI+IGMgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAg\nIFNldEpvaW48Q3VzdG9tZXIsIE9yZGVyPiBvID0gYy5qb2luU2V0KCJvcmRl\ncnMiKTsKICAgICAgICBKb2luPEN1c3RvbWVyLCBBZGRyZXNzPiBhICA9IGMu\nam9pbigiYWRkcmVzcyIpOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwoYS5n\nZXQoInN0YXRlIiksICJDQSIpLCBjYi5lcXVhbChhLmdldCgiY291bnR5Iiks\nICJTYW50YSBDbGFyYSIpKTsKICAgICAgICBFeHByZXNzaW9uPEZsb2F0PiBw\ncm9kdWN0VGVybSA9IChFeHByZXNzaW9uPEZsb2F0PiljYi50b0Zsb2F0KGNi\nLnByb2Qoby5nZXQoInRvdGFsQ29zdCIpLmFzKEZsb2F0LmNsYXNzKSwgMS4w\nOCkpCiAgICAgICAgICAgLmFsaWFzKCJ0YXhlZENvc3QiKTsKICAgICAgICBx\nLm11bHRpc2VsZWN0KG8uZ2V0KCJxdWFudGl0eSIpLCBwcm9kdWN0VGVybSwg\nYS5nZXQoInppcENvZGUiKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RJbmRleCgp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1Qgdy5uYW1lIEZST00g\nQ291cnNlIGMgSk9JTiBjLnN0dWRlbnRXYWl0TGlzdCB3ICIKICAgICAgICAg\nICAgICAgICsgIldIRVJFIGMubmFtZSA9ICdDYWxjdWx1cycgQU5EIElOREVY\nKHcpID0gMCI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxTdHJpbmc+IHEgPSBj\nYi5jcmVhdGVRdWVyeShTdHJpbmcuY2xhc3MpOwogICAgICAgIFJvb3Q8Q291\ncnNlPiBjb3Vyc2UgPSBxLmZyb20oQ291cnNlLmNsYXNzKTsKICAgICAgICBM\naXN0Sm9pbjxDb3Vyc2UsIFN0dWRlbnQ+IHcgPSBjb3Vyc2Uuam9pbkxpc3Qo\nInN0dWRlbnRXYWl0TGlzdCIpOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwo\nY291cnNlLmdldCgibmFtZSIpLCAiQ2FsY3VsdXMiKSwKICAgICAgICAgICAg\nICAgIGNiLmVxdWFsKHcuaW5kZXgoKSwgMCkpLnNlbGVjdCh3LmdldCgibmFt\nZSIpLmFzKFN0cmluZy5jbGFzcykpOwoKICAgICAgICBhc3NlcnRFcXVpdmFs\nZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3Vt\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBTVU0oaS5wcmlj\nZSkgRlJPTSBPcmRlciBvIEpPSU4gby5saW5lSXRlbXMgaSBKT0lOICIKICAg\nICAgICAgICAgICAgICsgIm8uY3VzdG9tZXIgYyBXSEVSRSBjLmxhc3ROYW1l\nID0gJ1NtaXRoJyBBTkQgYy5maXJzdE5hbWUgPSAnSm9obiciOwogICAgICAg\nIENyaXRlcmlhUXVlcnk8RG91YmxlPiBxID0gY2IuY3JlYXRlUXVlcnkoRG91\nYmxlLmNsYXNzKTsKICAgICAgICBSb290PE9yZGVyPiBvID0gcS5mcm9tKE9y\nZGVyLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxPcmRlciwgTGluZUl0ZW0+\nIGkgPSBvLmpvaW5MaXN0KCJsaW5lSXRlbXMiKTsKICAgICAgICBKb2luPE9y\nZGVyLCBDdXN0b21lcj4gYyA9IG8uam9pbigiY3VzdG9tZXIiKTsKICAgICAg\nICBxLndoZXJlKGNiLmVxdWFsKGMuZ2V0KCJsYXN0TmFtZSIpLCAiU21pdGgi\nKSwgY2IuZXF1YWwoYy5nZXQoImZpcnN0TmFtZSIpLCAiSm9obiIpKTsKICAg\nICAgICBxLnNlbGVjdChjYi5zdW0oaS5nZXQoInByaWNlIikuYXMoRG91Ymxl\nLmNsYXNzKSkpOyAKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBx\nbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNpemUoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIFNJWkUoZC5lbXBsb3llZXMpIEZS\nT00gRGVwYXJ0bWVudCBkICIKICAgICAgICAgICAgICAgICsgIldIRVJFIGQu\nbmFtZSA9ICdTYWxlcyciOwogICAgICAgIENyaXRlcmlhUXVlcnk8SW50ZWdl\ncj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAg\nIFJvb3Q8RGVwYXJ0bWVudD4gZCA9IHEuZnJvbShEZXBhcnRtZW50LmNsYXNz\nKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGQuZ2V0KCJuYW1lIiksICJT\nYWxlcyIpKTsKICAgICAgICBxLnNlbGVjdChjYi5zaXplKChkLmdldCgiZW1w\nbG95ZWVzIikuYXMoQ29sbGVjdGlvbi5jbGFzcykpKSk7IAoKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0Q2FzZSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxF\nQ1QgZS5uYW1lLCBDQVNFIFdIRU4gZS5yYXRpbmcgPSAxIFRIRU4gZS5zYWxh\ncnkgKiAxLjEgIgogICAgICAgICAgICAgICAgKyAiV0hFTiBlLnJhdGluZyA9\nIDIgVEhFTiBlLnNhbGFyeSAqIDEuMiBFTFNFIGUuc2FsYXJ5ICogMS4wMSBF\nTkQgIgogICAgICAgICAgICAgICAgKyAiRlJPTSBFbXBsb3llZSBlIFdIRVJF\nIGUuZGVwYXJ0bWVudC5uYW1lID0gJ0VuZ2luZWVyaW5nJyI7CiAgICAgICAg\nQ3JpdGVyaWFRdWVyeTxPYmplY3RbXT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KE9i\namVjdFtdLmNsYXNzKTsKICAgICAgICBSb290PEVtcGxveWVlPiBlID0gcS5m\ncm9tKEVtcGxveWVlLmNsYXNzKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFs\nKGUuZ2V0KCJkZXBhcnRtZW50IikuZ2V0KCJuYW1lIiksICJFbmdpbmVlcmlu\nZyIpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUuZ2V0KCJuYW1lIiksIAog\nICAgICAgICAgICAgICAgY2Iuc2VsZWN0Q2FzZSgpCiAgICAgICAgICAgICAg\nICAgIC53aGVuKGNiLmVxdWFsKGUuZ2V0KCJyYXRpbmciKSwgMSksIGNiLnBy\nb2QoZS5nZXQoInNhbGFyeSIpLmFzKEZsb2F0LmNsYXNzKSwgMS4xKSkKICAg\nICAgICAgICAgICAgICAgLndoZW4oY2IuZXF1YWwoZS5nZXQoInJhdGluZyIp\nLCAyKSwgY2IucHJvZChlLmdldCgic2FsYXJ5IikuYXMoRmxvYXQuY2xhc3Mp\nLCAxLjIpKQogICAgICAgICAgICAgICAgICAub3RoZXJ3aXNlKGNiLnByb2Qo\nZS5nZXQoInNhbGFyeSIpLmFzKEZsb2F0LmNsYXNzKSwgMS4wMSkpKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAog\nICAgICBwdWJsaWMgdm9pZCB0ZXN0TGl0ZXJhbHMoKSB7IAogICAgICAgICAg\nU3RyaW5nIGpwcWwgPSAiU0VMRUNUIHAgRlJPTSBQZXJzb24gcCB3aGVyZSAn\nSm9lJyBNRU1CRVIgT0YgIiArICJwLm5pY2tOYW1lcyI7CiAgICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PFBlcnNvbj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KFBlcnNv\nbi5jbGFzcyk7IAogICAgICAgICAgUm9vdDxQZXJzb24+IHAgPSBxLmZyb20o\nUGVyc29uLmNsYXNzKTsKICAgICAgICAgIHEuc2VsZWN0KHApLndoZXJlKGNi\nLmlzTWVtYmVyKCJKb2UiLCBwLmdldCgibmlja05hbWVzIikuYXMoQ29sbGVj\ndGlvbi5jbGFzcykpKTsKICAgICAgCiAgICAgICAgICBhc3NlcnRFcXVpdmFs\nZW5jZShxLCBqcHFsKTsgCiAgICAgfQogICAgICAKICAgIHB1YmxpYyB2b2lk\nIHRlc3RQYXJhbWV0ZXJzKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNF\nTEVDVCBjIEZST00gQ3VzdG9tZXIgYyBXaGVyZSBjLnN0YXR1cyA9IDpzdGF0\nIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3Jl\nYXRlUXVlcnkoQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8Q3VzdG9t\nZXI+IGMgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFBhcmFt\nZXRlckV4cHJlc3Npb248SW50ZWdlcj4gcGFyYW0gPSBjYi5wYXJhbWV0ZXIo\nSW50ZWdlci5jbGFzcywgInN0YXQiKTsKICAgICAgICBwYXJhbS5hbGlhcygi\nc3RhdCIpOwogICAgICAgIHEuc2VsZWN0KGMpLndoZXJlKGNiLmVxdWFsKGMu\nZ2V0KCJzdGF0dXMiKSwgcGFyYW0pKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UobmV3IFF1ZXJ5RGVjb3JhdG9yKCkgewogICAgICAgICAgICBwdWJs\naWMgdm9pZCBkZWNvcmF0ZShRdWVyeSBxKSB7CiAgICAgICAgICAgICAgICBx\nLnNldFBhcmFtZXRlcigic3RhdCIsIDEpOwogICAgICAgICAgICB9CiAgICAg\nICAgfSwgcSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNl\nbGVjdExpc3QoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIHYu\nbG9jYXRpb24uc3RyZWV0LCBLRVkoaSkudGl0bGUsIFZBTFVFKGkpIEZST00g\nIgogICAgICAgICAgICAgICAgKyAiVmlkZW9TdG9yZSB2IEpPSU4gdi52aWRl\nb0ludmVudG9yeSBpICIKICAgICAgICAgICAgICAgICsgIldIRVJFIHYubG9j\nYXRpb24uemlwQ29kZSA9ICIgKyAiJzk0MzAxJyBBTkQgVkFMVUUoaSkgPiAw\nIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRl\nVHVwbGVRdWVyeSgpOwogICAgICAgIFJvb3Q8VmlkZW9TdG9yZT4gdiA9IHEu\nZnJvbShWaWRlb1N0b3JlLmNsYXNzKTsKICAgICAgICBNYXBKb2luPFZpZGVv\nU3RvcmUsIE1vdmllLCBJbnRlZ2VyPiBpID0gdi5qb2luTWFwKCJ2aWRlb0lu\ndmVudG9yeSIpOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwodi5nZXQoImxv\nY2F0aW9uIikuZ2V0KCJ6aXBDb2RlIiksICI5NDMwMSIpLCBjYi5ndChpLnZh\nbHVlKCksIDApKTsKICAgICAgICBxLm11bHRpc2VsZWN0KHYuZ2V0KCJsb2Nh\ndGlvbiIpLmdldCgic3RyZWV0IiksIGkua2V5KCkuZ2V0KCJ0aXRsZSIpLCBp\nLnZhbHVlKCkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBUZXN0Q29udHJ1Y3RvcigpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgTkVXIEN1c3RvbWVyRGV0\nYWlscyhjLmlkLCBjLnN0YXR1cywgby5xdWFudGl0eSkgRlJPTSAiCiAgICAg\nICAgICAgICAgICArICJDdXN0b21lciBjIEpPSU4gYy5vcmRlcnMgbyBXSEVS\nRSBvLnF1YW50aXR5ID4gMTAwIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1\nc3RvbWVyRGV0YWlscz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVyRGV0\nYWlscy5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9IHEuZnJv\nbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgU2V0Sm9pbjxDdXN0b21lciwg\nT3JkZXI+IG8gPSBjLmpvaW5TZXQoIm9yZGVycyIpOwogICAgICAgIHEud2hl\ncmUoY2IuZ3Qoby5nZXQoInF1YW50aXR5IikuYXMoSW50ZWdlci5jbGFzcyks\nIDEwMCkpOyAKICAgICAgICBxLnNlbGVjdChjYi5jb25zdHJ1Y3QoQ3VzdG9t\nZXJEZXRhaWxzLmNsYXNzLCBjLmdldCgiaWQiKSwgYy5nZXQoInN0YXR1cyIp\nLCBvLmdldCgicXVhbnRpdHkiKSkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFs\nZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3Vi\ncXVlcnkxKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBnb29k\nQ3VzdG9tZXIgRlJPTSBDdXN0b21lciBnb29kQ3VzdG9tZXIgV0hFUkUgIgog\nICAgICAgICAgICAgICAgKyAiZ29vZEN1c3RvbWVyLmJhbGFuY2VPd2VkIDwg\nKFNFTEVDVCBBVkcoYy5iYWxhbmNlT3dlZCkgRlJPTSAiCiAgICAgICAgICAg\nICAgICArICJDdXN0b21lciBjKSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxD\ndXN0b21lcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVyLmNsYXNzKTsK\nICAgICAgICBSb290PEN1c3RvbWVyPiBnb29kQ3VzdG9tZXIgPSBxLmZyb20o\nQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFN1YnF1ZXJ5PERvdWJsZT4gc3Eg\nPSBxLnN1YnF1ZXJ5KERvdWJsZS5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0\nb21lcj4gYyA9IHNxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIHEu\nd2hlcmUoY2IubHQoZ29vZEN1c3RvbWVyLmdldCgiYmFsYW5jZU93ZWQiKS5h\ncyhEb3VibGUuY2xhc3MpLAogICAgICAgICAgICAgICAgICAgICAgc3Euc2Vs\nZWN0KGNiLmF2ZyhjLmdldCgiYmFsYW5jZU93ZWQiKS5hcyhEb3VibGUuY2xh\nc3MpKSkpKTsKICAgICAgICBxLnNlbGVjdChnb29kQ3VzdG9tZXIpOwoKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0U3VicXVlcnkyKCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gIlNFTEVDVCBESVNUSU5DVCBlbXAgRlJPTSBFbXBsb3llZSBlbXAg\nV0hFUkUgRVhJU1RTICgiCiAgICAgICAgICAgICAgICArICJTRUxFQ1Qgc3Bv\ndXNlRW1wIEZST00gRW1wbG95ZWUgc3BvdXNlRW1wIFdIRVJFIHNwb3VzZUVt\ncCA9ICIKICAgICAgICAgICAgICAgICsgImVtcC5zcG91c2UpIjsKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PEVtcGxveWVlPiBxID0gY2IuY3JlYXRlUXVlcnko\nRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW1wbG95ZWU+IGVtcCA9\nIHEuZnJvbShFbXBsb3llZS5jbGFzcyk7CiAgICAgICAgU3VicXVlcnk8RW1w\nbG95ZWU+IHNxMSA9IHEuc3VicXVlcnkoRW1wbG95ZWUuY2xhc3MpOwogICAg\nICAgIFJvb3Q8RW1wbG95ZWU+IHNwb3VzZUVtcCA9IHNxMS5mcm9tKEVtcGxv\neWVlLmNsYXNzKTsKICAgICAgICBzcTEuc2VsZWN0KHNwb3VzZUVtcCk7CiAg\nICAgICAgc3ExLndoZXJlKGNiLmVxdWFsKHNwb3VzZUVtcCwgZW1wLmdldCgi\nc3BvdXNlIikpKTsKICAgICAgICBxLndoZXJlKGNiLmV4aXN0cyhzcTEpKTsK\nICAgICAgICBxLnNlbGVjdChlbXApLmRpc3RpbmN0KHRydWUpOwoKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0U3VicXVlcnkzKCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gIlNFTEVDVCBlbXAgRlJPTSBFbXBsb3llZSBlbXAgV0hFUkUgZW1wLnNh\nbGFyeSA+IEFMTCAoIgogICAgICAgICAgICAgICAgKyAiU0VMRUNUIG0uc2Fs\nYXJ5IEZST00gTWFuYWdlciBtIFdIRVJFIG0uZGVwYXJ0bWVudCA9IgogICAg\nICAgICAgICAgICAgKyAiIGVtcC5kZXBhcnRtZW50KSI7CiAgICAgICAgQ3Jp\ndGVyaWFRdWVyeTxFbXBsb3llZT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtcGxv\neWVlLmNsYXNzKTsKICAgICAgICBSb290PEVtcGxveWVlPiBlbXAgPSBxLmZy\nb20oRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGVtcCk7CiAg\nICAgICAgU3VicXVlcnk8QmlnRGVjaW1hbD4gc3EgPSBxLnN1YnF1ZXJ5KEJp\nZ0RlY2ltYWwuY2xhc3MpOwogICAgICAgIFJvb3Q8TWFuYWdlcj4gbSA9IHNx\nLmZyb20oTWFuYWdlci5jbGFzcyk7CiAgICAgICAgc3Euc2VsZWN0KG0uZ2V0\nKCJzYWxhcnkiKS5hcyhCaWdEZWNpbWFsLmNsYXNzKSk7IAogICAgICAgIHNx\nLndoZXJlKGNiLmVxdWFsKG0uZ2V0KCJkZXBhcnRtZW50IiksIGVtcC5nZXQo\nImRlcGFydG1lbnQiKSkpOwogICAgICAgIHEud2hlcmUoY2IuZ3QoZW1wLmdl\ndCgic2FsYXJ5IikuYXMoQmlnRGVjaW1hbC5jbGFzcyksIGNiLmFsbChzcSkp\nKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdFN1YnF1ZXJ5NCgpIHsKICAgICAgICBT\ndHJpbmcganBxbCA9ICJTRUxFQ1QgYyBGUk9NIEN1c3RvbWVyIGMgV0hFUkUg\nIgogICAgICAgICAgICAgICAgKyAiKFNFTEVDVCBDT1VOVChvKSBGUk9NIGMu\nb3JkZXJzIG8pID4gMTAiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9t\nZXI+IHEgPSBjYi5jcmVhdGVRdWVyeShDdXN0b21lci5jbGFzcyk7CiAgICAg\nICAgUm9vdDxDdXN0b21lcj4gYzEgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3Mp\nOwogICAgICAgIHEuc2VsZWN0KGMxKTsKICAgICAgICBTdWJxdWVyeTxMb25n\nPiBzcTMgPSBxLnN1YnF1ZXJ5KExvbmcuY2xhc3MpOwogICAgICAgIFJvb3Q8\nQ3VzdG9tZXI+IGMyID0gc3EzLmNvcnJlbGF0ZShjMSk7CiAgICAgICAgU2V0\nSm9pbjxDdXN0b21lciwgT3JkZXI+IG8gPSBjMi5qb2luU2V0KCJvcmRlcnMi\nKTsKICAgICAgICBxLndoZXJlKGNiLmd0KHNxMy5zZWxlY3QoY2IuY291bnQo\nbykpLCAxMCkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3VicXVlcnk1KCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBvIEZST00gT3JkZXIgbyBX\nSEVSRSAxMDAwMCA8IEFMTCAoIgogICAgICAgICAgICAgICAgKyAiU0VMRUNU\nIGEuYmFsYW5jZSBGUk9NIG8uY3VzdG9tZXIgYyBKT0lOIGMuYWNjb3VudHMg\nYSkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8T3JkZXI+IHEgPSBjYi5jcmVh\ndGVRdWVyeShPcmRlci5jbGFzcyk7CiAgICAgICAgUm9vdDxPcmRlcj4gbzEg\nPSBxLmZyb20oT3JkZXIuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KG8xKTsK\nICAgICAgICBTdWJxdWVyeTxJbnRlZ2VyPiBzcTQgPSBxLnN1YnF1ZXJ5KElu\ndGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8T3JkZXI+IG8yID0gc3E0LmNv\ncnJlbGF0ZShvMSk7CiAgICAgICAgSm9pbjxPcmRlciwgQ3VzdG9tZXI+IGMz\nID0gbzIuam9pbigiY3VzdG9tZXIiKTsKICAgICAgICBMaXN0Sm9pbjxDdXN0\nb21lciwgQWNjb3VudD4gYSA9IGMzLmpvaW5MaXN0KCgiYWNjb3VudHMiKSk7\nCiAgICAgICAgc3E0LnNlbGVjdChhLmdldCgiYmFsYW5jZSIpLmFzKEludGVn\nZXIuY2xhc3MpKTsgCiAgICAgICAgcS53aGVyZShjYi5sdChjYi5saXRlcmFs\nKDEwMDAwKSwgY2IuYWxsKHNxNCkpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFN1\nYnF1ZXJ5NigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgbyBG\nUk9NIE9yZGVyIG8gSk9JTiBvLmN1c3RvbWVyIGMgV0hFUkUgMTAwMDAgPCAi\nCiAgICAgICAgICAgICAgICArICJBTEwgKFNFTEVDVCBhLmJhbGFuY2UgRlJP\nTSBjLmFjY291bnRzIGEpIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PE9yZGVy\nPiBxID0gY2IuY3JlYXRlUXVlcnkoT3JkZXIuY2xhc3MpOwogICAgICAgIFJv\nb3Q8T3JkZXI+IG8gPSBxLmZyb20oT3JkZXIuY2xhc3MpOwogICAgICAgIHEu\nc2VsZWN0KG8pOwogICAgICAgIEpvaW48T3JkZXIsIEN1c3RvbWVyPiBjID0g\nby5qb2luKE9yZGVyXy5jdXN0b21lcik7CiAgICAgICAgU3VicXVlcnk8SW50\nZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAg\nIEpvaW48T3JkZXIsIEN1c3RvbWVyPiBjMiA9IHNxLmNvcnJlbGF0ZShjKTsK\nICAgICAgICBMaXN0Sm9pbjxDdXN0b21lciwgQWNjb3VudD4gYSA9IGMyLmpv\naW5MaXN0KCJhY2NvdW50cyIpOwogICAgICAgIHNxLnNlbGVjdChhLmdldCgi\nYmFsYW5jZSIpLmFzKEludGVnZXIuY2xhc3MpKTsgCiAgICAgICAgcS53aGVy\nZShjYi5sdChjYi5saXRlcmFsKDEwMDAwKSwgY2IuYWxsKHNxKSkpOwoKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0R3JvdXBCeUFuZEhhdmluZygpIHsKICAgICAgICBT\ndHJpbmcganBxbCA9ICJTRUxFQ1QgYy5zdGF0dXMsIEFWRyhjLmZpbGxlZE9y\nZGVyQ291bnQpLCBDT1VOVChjKSBGUk9NICIKICAgICAgICAgICAgICAgICsg\nIkN1c3RvbWVyIGMgR1JPVVAgQlkgYy5zdGF0dXMgSEFWSU5HIGMuc3RhdHVz\nIElOICgxLCAyKSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxUdXBsZT4gcSA9\nIGNiLmNyZWF0ZVR1cGxlUXVlcnkoKTsKICAgICAgICBSb290PEN1c3RvbWVy\nPiBjID0gcS5mcm9tKEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBxLmdyb3Vw\nQnkoYy5nZXQoInN0YXR1cyIpKTsKICAgICAgICBxLmhhdmluZyhjYi5pbihj\nLmdldCgic3RhdHVzIikpLnZhbHVlKDEpLnZhbHVlKDIpKTsKICAgICAgICBx\nLm11bHRpc2VsZWN0KGMuZ2V0KCJzdGF0dXMiKSwgY2IuYXZnKGMuZ2V0KCJm\naWxsZWRPcmRlckNvdW50IikuYXMoSW50ZWdlci5jbGFzcykpLCBjYi5jb3Vu\ndChjKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RPcmRlcmluZzEoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIG8gRlJPTSBDdXN0b21lciBjIEpP\nSU4gYy5vcmRlcnMgbyAiCiAgICAgICAgICAgICAgICArICJKT0lOIGMuYWRk\ncmVzcyBhIFdIRVJFIGEuc3RhdGUgPSAnQ0EnIE9SREVSIEJZIG8ucXVhbnRp\ndHkgREVTQywgIgogICAgICAgICAgICAgICAgKyAiby50b3RhbENvc3QiOwog\nICAgICAgIENyaXRlcmlhUXVlcnk8T3JkZXI+IHEgPSBjYi5jcmVhdGVRdWVy\neShPcmRlci5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9IHEu\nZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgU2V0Sm9pbjxDdXN0b21l\nciwgT3JkZXI+IG8gPSBjLmpvaW5TZXQoIm9yZGVycyIpOwogICAgICAgIEpv\naW48Q3VzdG9tZXIsIEFkZHJlc3M+IGEgPSBjLmpvaW4oImFkZHJlc3MiKTsK\nICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGEuZ2V0KCJzdGF0ZSIpLCAiQ0Ei\nKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmRlc2Moby5nZXQoInF1YW50aXR5\nIikpLCBjYi5hc2Moby5nZXQoInRvdGFsQ29zdCIpKSk7CiAgICAgICAgcS5z\nZWxlY3Qobyk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RPcmRlcmluZzIoKSB7CiAg\nICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIG8ucXVhbnRpdHksIGEuemlw\nQ29kZSBGUk9NIEN1c3RvbWVyIGMgSk9JTiBjLm9yZGVycyBvICIKICAgICAg\nICAgICAgICAgICsgIkpPSU4gYy5hZGRyZXNzIGEgV0hFUkUgYS5zdGF0ZSA9\nICdDQScgT1JERVIgQlkgby5xdWFudGl0eSwgIgogICAgICAgICAgICAgICAg\nKyAiYS56aXBDb2RlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFR1cGxlPiBx\nID0gY2IuY3JlYXRlVHVwbGVRdWVyeSgpOwogICAgICAgIFJvb3Q8Q3VzdG9t\nZXI+IGMxID0gcS5mcm9tKEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBTZXRK\nb2luPEN1c3RvbWVyLCBPcmRlcj4gbzEgPSBjMS5qb2luU2V0KCJvcmRlcnMi\nKTsKICAgICAgICBKb2luPEN1c3RvbWVyLCBBZGRyZXNzPiBhMSA9IGMxLmpv\naW4oImFkZHJlc3MiKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGExLmdl\ndCgic3RhdGUiKSwgIkNBIikpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2Mo\nbzEuZ2V0KCJxdWFudGl0eSIpKSwgY2IuYXNjKGExLmdldCgiemlwQ29kZSIp\nKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChvMS5nZXQoInF1YW50aXR5Iiks\nIGExLmdldCgiemlwQ29kZSIpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdE9yZGVy\naW5nMygpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1Qgby5xdWFu\ndGl0eSwgby50b3RhbENvc3QgKiAxLjA4IEFTIHRheGVkQ29zdCwgYS56aXBD\nb2RlICIKICAgICAgICAgICAgICAgICsgIkZST00gQ3VzdG9tZXIgYyBKT0lO\nIGMub3JkZXJzIG8gSk9JTiBjLmFkZHJlc3MgYSAiCiAgICAgICAgICAgICAg\nICArICJXSEVSRSBhLnN0YXRlID0gJ0NBJyBBTkQgYS5jb3VudHkgPSAnU2Fu\ndGEgQ2xhcmEnICIKICAgICAgICAgICAgICAgICsgIk9SREVSIEJZIG8ucXVh\nbnRpdHksIHRheGVkQ29zdCwgYS56aXBDb2RlIjsKICAgICAgICAKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRlVHVwbGVRdWVy\neSgpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBxLmZyb20oQ3VzdG9t\nZXIuY2xhc3MpOwogICAgICAgIFNldEpvaW48Q3VzdG9tZXIsIE9yZGVyPiBv\nID0gYy5qb2luU2V0KCJvcmRlcnMiKTsKICAgICAgICBKb2luPEN1c3RvbWVy\nLCBBZGRyZXNzPiBhID0gYy5qb2luKCJhZGRyZXNzIik7CiAgICAgICAgcS53\naGVyZShjYi5lcXVhbChhLmdldCgic3RhdGUiKSwgIkNBIiksIGNiLmVxdWFs\nKGEuZ2V0KCJjb3VudHkiKSwgIlNhbnRhIENsYXJhIikpOwogICAgICAgIEV4\ncHJlc3Npb248RmxvYXQ+IHByb2R1Y3RUZXJtID0gKEV4cHJlc3Npb248Rmxv\nYXQ+KWNiLnRvRmxvYXQoY2IucHJvZChvLmdldCgidG90YWxDb3N0IikuYXMo\nRmxvYXQuY2xhc3MpLCAxLjA4KSkKICAgICAgICAgICAgLmFsaWFzKCJ0YXhl\nZENvc3QiKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKG8uZ2V0KCJxdWFu\ndGl0eSIpKSwgY2IuYXNjKHByb2R1Y3RUZXJtKSwgY2IuYXNjKGEuZ2V0KCJ6\naXBDb2RlIikpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KG8uZ2V0KCJxdWFu\ndGl0eSIpLCBwcm9kdWN0VGVybSwgYS5nZXQoInppcENvZGUiKSk7CgogICAg\nICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKfQo=\n","encoding":"base64"}

