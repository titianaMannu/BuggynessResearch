{"sha":"e6f1300e55964437ece0a64c689c5f221e1769af","node_id":"MDQ6QmxvYjIwNjM2NDplNmYxMzAwZTU1OTY0NDM3ZWNlMGE2NGM2ODljNWYyMjFlMTc2OWFm","size":3807,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e6f1300e55964437ece0a64c689c5f221e1769af","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kYXRhY2FjaGU7\nCgppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwu\nTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CgppbXBvcnQgamF2YXgucGVy\nc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmRhdGFjYWNoZS5Db25jdXJyZW50UXVlcnlDYWNoZTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBUGVyc2lzdGVuY2U7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5BYnN0\ncmFjdFRlc3RDYXNlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmRhdGFjYWNoZS5jb21tb24uYXBwcy5DYWNoZU9iamVjdEU7Cgpw\ndWJsaWMgY2xhc3MgVGVzdFF1ZXJ5UmVzdWx0U2l6ZQogICAgZXh0ZW5kcyBB\nYnN0cmFjdFRlc3RDYXNlIHsKCiAgICBwdWJsaWMgVGVzdFF1ZXJ5UmVzdWx0\nU2l6ZShTdHJpbmcgdGVzdCkgewogICAgICAgIHN1cGVyKHRlc3QsICJkYXRh\nY2FjaGVjYWN0dXNhcHAiKTsKICAgIH0KCiAgICBwcml2YXRlIEVudGl0eU1h\nbmFnZXJGYWN0b3J5IF9wbWY7CiAgICBwcml2YXRlIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtOwoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAg\nIFN5c3RlbS5vdXQucHJpbnRsbigiKioqKkRlbGV0ZWQgUmVjb3JkcyAiCiAg\nICAgICAgICAgICsgZGVsZXRlQWxsKENhY2hlT2JqZWN0RS5jbGFzcykpOwog\nICAgICAgIGRlbGV0ZUFsbChDYXNjYWRlUGFyZW50LmNsYXNzKTsKICAgICAg\nICBkZWxldGVBbGwoQ2FzY2FkZUNoaWxkLmNsYXNzKTsKICAgICAgICBNYXAg\ncHJvcHNNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIHByb3BzTWFwLnB1\ndCgib3BlbmpwYS5EYXRhQ2FjaGUiLCAidHJ1ZSIpOwogICAgICAgIHByb3Bz\nTWFwLnB1dCgib3BlbmpwYS5RdWVyeUNhY2hlIiwgInRydWUiKTsKICAgICAg\nICBwcm9wc01hcC5wdXQoIm9wZW5qcGEuUmVtb3RlQ29tbWl0UHJvdmlkZXIi\nLCAic2p2bSIpOwogICAgICAgIF9wbWYgPSBnZXRFbWYocHJvcHNNYXApOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3QoKSB7CiAgICAgICAgQ2FjaGVP\nYmplY3RFIHBjMSA9IG5ldyBDYWNoZU9iamVjdEUoKTsKICAgICAgICBwYzEu\nc2V0U3RyKCJwYzEiKTsKCiAgICAgICAgcG0gPSAoT3BlbkpQQUVudGl0eU1h\nbmFnZXIpIF9wbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwoKICAgICAgICBz\ndGFydFR4KHBtKTsKICAgICAgICBwbS5wZXJzaXN0KHBjMSk7CiAgICAgICAg\nZW5kVHgocG0pOwoKICAgICAgICBwbS5nZXRGZXRjaFBsYW4oKS5zZXRRdWVy\neVJlc3VsdENhY2hlRW5hYmxlZChmYWxzZSk7CiAgICAgICAgT3BlbkpQQVF1\nZXJ5IHEgPSBwbS5jcmVhdGVRdWVyeSgKICAgICAgICAgICAgInNlbGVjdCBh\nIEZST00gIiArIENhY2hlT2JqZWN0RS5jbGFzcy5nZXRTaW1wbGVOYW1lKCkg\nKwogICAgICAgICAgICAgICAgIiBhIHdoZXJlIGEuc3RyID0gJ3BjMSciKTsK\nICAgICAgICBMaXN0IHJlcyA9IChMaXN0KSBxLmdldFJlc3VsdExpc3QoKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoMCwgZ2V0UXVlcnlDYWNoZVNpemUoKSk7\nCiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICBTeXN0ZW0ub3V0LnByaW50\nbG4oIioqKipEZWxldGVkIFJlY29yZHMgIiArIAogICAgICAgICAgICBkZWxl\ndGVBbGwoQ2FjaGVPYmplY3RFLmNsYXNzKSk7CiAgICB9CgogICAgcHJpdmF0\nZSBpbnQgZ2V0UXVlcnlDYWNoZVNpemUoKSB7CiAgICAgICAgcmV0dXJuICgg\nKChDb25jdXJyZW50UXVlcnlDYWNoZSkoT3BlbkpQQVBlcnNpc3RlbmNlLmNh\nc3QoCiAgICAgICAgICAgIHBtLmdldEVudGl0eU1hbmFnZXJGYWN0b3J5KCkp\nLmdldFF1ZXJ5UmVzdWx0Q2FjaGUoKS5nZXREZWxlZ2F0ZSgpKSkuCiAgICAg\nICAgICAgIGdldENhY2hlTWFwKCkuc2l6ZSgpKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0Q3Jvc3NKb2luUXVlcnlDYWNoZSgpIHsKICAgICAgICBw\nbSA9IChPcGVuSlBBRW50aXR5TWFuYWdlcikgX3BtZi5jcmVhdGVFbnRpdHlN\nYW5hZ2VyKCk7CiAgICAgICAgLy8gY3JlYXRlCiAgICAgICAgc3RhcnRUeChw\nbSk7CiAgICAgICAgQ2FzY2FkZVBhcmVudCBwID0gbmV3IENhc2NhZGVQYXJl\nbnQoKTsKICAgICAgICBwLnNldE5hbWUoInAxIik7CiAgICAgICAgQ2FzY2Fk\nZUNoaWxkIGMgPSBuZXcgQ2FzY2FkZUNoaWxkKCk7CiAgICAgICAgYy5zZXRO\nYW1lKCJwMSIpOwogICAgICAgIHAuc2V0Q2hpbGQoYyk7CiAgICAgICAgcG0u\ncGVyc2lzdChwKTsKICAgICAgICBlbmRUeChwbSk7CgogICAgICAgIC8vIHF1\nZXJ5CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IHAubmFtZSwgYy5u\nYW1lIGZyb20gQ2FzY2FkZVBhcmVudCBwLCBDYXNjYWRlQ2hpbGQgYyB3aGVy\nZSBwLm5hbWUgPSBjLm5hbWUgIgogICAgICAgICAgICAgICAgKyAiYW5kIHAu\nbmFtZSA9ICdwMSciOwogICAgICAgIGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5\nIHF1ZXJ5ID0gcG0uY3JlYXRlUXVlcnkoanBxbCk7CiAgICAgICAgTGlzdCBy\nZXN1bHQxID0gcXVlcnkuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygxLCByZXN1bHQxLnNpemUoKSk7CgogICAgICAgIC8vIHVwZGF0\nZQogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIGMuc2V0TmFtZSgiYzEi\nKTsKICAgICAgICBlbmRUeChwbSk7CgogICAgICAgIC8vIHF1ZXJ5IGFnYWlu\nCiAgICAgICAgTGlzdCByZXN1bHQyID0gcXVlcnkuZ2V0UmVzdWx0TGlzdCgp\nOwogICAgICAgIGFzc2VydEVxdWFscygwLCByZXN1bHQyLnNpemUoKSk7CiAg\nICAgICAgZW5kRW0ocG0pOwogICAgfQoKCn0K\n","encoding":"base64"}

