{"sha":"4247f15db05b634555673a1c28449f29b869a082","node_id":"MDQ6QmxvYjIwNjM2NDo0MjQ3ZjE1ZGIwNWI2MzQ1NTU2NzNhMWMyODQ0OWYyOWI4NjlhMDgy","size":4172,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4247f15db05b634555673a1c28449f29b869a082","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnM7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRp\ndHlNYW5hZ2VyRmFjdG9yeVNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS50ZXN0LlNRTExpc3RlbmVyVGVzdENhc2U7CgpwdWJs\naWMgY2xhc3MgVGVzdERlbGltSWRSZXN1bHRTZXRBbm5vdGF0aW9ucyAKICAg\nICAgICBleHRlbmRzIFNRTExpc3RlbmVyVGVzdENhc2UgewogICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgZW07CiAgICBpbnQgaWQgPSAwOwogICAgQ2FyIGNh\ncjsKICAgIFBvbnRpYWMgcG9udGlhYzsKICAgIENoZXZyb2xldCBjaGV2cm9s\nZXQ7CiAgICBDYXIyIGNhcjI7CiAgICBQb250aWFjMiBwb250aWFjMjsKICAg\nIENoZXZyb2xldDIgY2hldnJvbGV0MjsKICAgIAogICAgQE92ZXJyaWRlCiAg\nICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRpb24gewogICAg\nICAgIHNldFN1cHBvcnRlZERhdGFiYXNlcygKICAgICAgICAgICAgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRlcmJ5RGljdGlvbmFyeS5jbGFzcywK\nICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCMkRp\nY3Rpb25hcnkuY2xhc3MpOwogICAgICAgIGlmIChpc1Rlc3RzRGlzYWJsZWQo\nKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAog\nICAgICAgIHN1cGVyLnNldFVwKAogICAgICAgICAgICBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJzLkNhci5j\nbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmRlbGltaXRlZC5pZGVudGlmaWVycy5Qb250aWFjLmNsYXNzLAogICAg\nICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1p\ndGVkLmlkZW50aWZpZXJzLkNoZXZyb2xldC5jbGFzcywKICAgICAgICAgICAg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmRlbGltaXRlZC5pZGVu\ndGlmaWVycy5DYXIyLmNsYXNzLAogICAgICAgICAgICBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJzLlBvbnRp\nYWMyLmNsYXNzLAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJzLkNoZXZyb2xldDIuY2xh\nc3MsCiAgICAgICAgICAgIERST1BfVEFCTEVTKTsKICAgICAgICBhc3NlcnRO\nb3ROdWxsKGVtZik7CiAgICAgICAgCiAgICAgICAgZW0gPSBlbWYuY3JlYXRl\nRW50aXR5TWFuYWdlcigpOwogICAgICAgIGFzc2VydE5vdE51bGwoZW0pOwog\nICAgfQogICAgCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCBPcGVuSlBB\nRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgY3JlYXRlRU1GKGZpbmFsIE9iamVj\ndC4uLiBwcm9wcykgewogICAgICAgIHJldHVybiBjcmVhdGVOYW1lZEVNRigi\nZGVsaW1pdGVkLWlkZW50aWZpZXJzIiwgcHJvcHMpOwogICAgfQoKICAgIHBy\naXZhdGUgdm9pZCBjcmVhdGVDaGV2cm9sZXQoaW50IGlkKSB7CiAgICAgICAg\nY2hldnJvbGV0ID0gbmV3IENoZXZyb2xldChpZCk7CiAgICAgICAgY2hldnJv\nbGV0LnNldE1vZGVsKCJNYWxpYnUiKTsKICAgICAgICBjaGV2cm9sZXQuc2V0\nQ29sb3IoImJsYWNrIik7CiAgICAgICAgY2hldnJvbGV0LnNldE1vZGVsWWVh\ncigiMjAwOSIpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBjcmVhdGVQb250\naWFjKGludCBpZCkgewogICAgICAgIHBvbnRpYWMgPSBuZXcgUG9udGlhYyhp\nZCk7CiAgICAgICAgcG9udGlhYy5zZXRNb2RlbCgiRzYiKTsKICAgICAgICBw\nb250aWFjLnNldENvbG9yKCJyZWQiKTsKICAgICAgICBwb250aWFjLnNldE1v\nZGVsWWVhcigiMjAwNSIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RD\ncmVhdGUoKSB7CiAgICAgICAgaWQrKzsKICAgICAgICBjcmVhdGVQb250aWFj\nKGlkKTsKICAgICAgICBpZCsrOwogICAgICAgIGNyZWF0ZUNoZXZyb2xldChp\nZCk7CiAgICAgICAgCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOwogICAgICAgIGVtLnBlcnNpc3QocG9udGlhYyk7CiAgICAgICAgZW0u\ncGVyc2lzdChjaGV2cm9sZXQpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuY29tbWl0KCk7CiAgICAgICAgCiAgICAgICAgcnVuUXVlcmllcygpOwog\nICAgfQogICAgCiAgICBwcml2YXRlIHZvaWQgcnVuUXVlcmllcygpIHsKICAg\nICAgICBlbS5jbGVhcigpOwogICAgICAgIHJlc3VsdFNldFF1ZXJ5KCk7CiAg\nICB9CiAgICAKICAgIHByaXZhdGUgdm9pZCByZXN1bHRTZXRRdWVyeSgpIHsK\nICAgICAgICBTdHJpbmcgcXVlcnkgPSAKICAgICAgICAgICAgIlNFTEVDVCBj\nLlwiaWRcIiwgYy5cImNhciBtb2RlbFwiLCBjLlwiY2FyIGNvbG9yXCIsICIg\nKwogICAgICAgICAgICAiYy5cImRpc2NyIGNvbFwiLCBjLlwibW9kZWwgeWVh\nclwiICIgKwogICAgICAgICAgICAiRlJPTSBcIkNhclwiIGMgIjsKICAgICAg\nICBRdWVyeSBxID0gZW0uY3JlYXRlTmF0aXZlUXVlcnkocXVlcnksIkFubm9D\nYXJSZXN1bHRTZXQiKTsKICAgICAgICBMaXN0PE9iamVjdFtdPiByZXN1bHRz\nID0gKExpc3Q8T2JqZWN0W10+KXEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAg\nIGFzc2VydEVxdWFscygyLHJlc3VsdHMuc2l6ZSgpKTsKICAgICAgICAKICAg\nICAgICBmb3IgKE9iamVjdFtdIHJlc3VsdCA6IHJlc3VsdHMpIHsKICAgICAg\nICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlc3VsdC5sZW5ndGgpOwogICAgICAg\nICAgICBhc3NlcnRUcnVlKHJlc3VsdFswXSBpbnN0YW5jZW9mIENhcjIpOwog\nICAgICAgICAgICBhc3NlcnRUcnVlKHJlc3VsdFsxXSBpbnN0YW5jZW9mIFN0\ncmluZyk7CiAgICAgICAgICAgIENhcjIgY2FyMiA9IChDYXIyKXJlc3VsdFsw\nXTsKICAgICAgICAgICAgU3RyaW5nIG1vZGVsWWVhciA9IChTdHJpbmcpcmVz\ndWx0WzFdOwogICAgICAgICAgICBpZiAoY2FyMi5nZXRNb2RlbCgpLmVxdWFs\ncygiRzYiKSkgewogICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCIyMDA1\nIiwgbW9kZWxZZWFyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNl\nIGlmIChjYXIyLmdldE1vZGVsKCkuZXF1YWxzKCJNYWxpYnUiKSkgewogICAg\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCIyMDA5IiwgbW9kZWxZZWFyKTsK\nICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

