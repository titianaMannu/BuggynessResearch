{"sha":"aeb14d6a5e7f2f90f571c02ae598d3eec67a9083","node_id":"MDQ6QmxvYjIwNjM2NDphZWIxNGQ2YTVlN2YyZjkwZjU3MWMwMmFlNTk4ZDNlZWM2N2E5MDgz","size":3999,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/aeb14d6a5e7f2f90f571c02ae598d3eec67a9083","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnM7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLkRCMkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zcWwuRGVyYnlEaWN0aW9uYXJ5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLnRlc3QuU1FMTGlzdGVuZXJUZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBUZXN0\nTWFudWFsRGVsaW1JZFJlc3VsdFNldEFubm90YXRpb25zIAogICAgICAgIGV4\ndGVuZHMgU1FMTGlzdGVuZXJUZXN0Q2FzZSB7CiAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBlbTsKICAgIGludCBpZCA9IDA7CiAgICBBbmltYWwgYW5pbWFs\nOwogICAgRG9nIGRvZzsKICAgIENhdCBjYXQ7CiAgICBBbmltYWwyIGFuaW1h\nbDI7CiAgICBEb2cyIGRvZzI7CiAgICBDYXQyIGNhdDI7CiAgICAKICAgIEBP\ndmVycmlkZQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB0aHJvd3MgRXhjZXB0\naW9uIHsKICAgICAgICAvLyBOT1RFOiBUaGlzIHRlc3QgaXMgb25seSBjb25m\naWd1cmVkIHRvIHJ1biBvbiBEQjIgYW5kIERlcmJ5IHNpbmNlIAogICAgICAg\nIC8vIHRob3NlIERCcyBoYW5kbGUgbm9uLWRlZmF1bHQgc2NoZW1hcyB3aXRo\nb3V0IGFkZGl0aW9uYWwgYXV0aG9yaXR5IG9yIAogICAgICAgIC8vIGNvbmZp\nZ3VyYXRpb24gIAogICAgICAgIHNldFN1cHBvcnRlZERhdGFiYXNlcyhEQjJE\naWN0aW9uYXJ5LmNsYXNzLCBEZXJieURpY3Rpb25hcnkuY2xhc3MpOwogICAg\nICAgIGlmIChpc1Rlc3RzRGlzYWJsZWQoKSkKICAgICAgICAgICAgcmV0dXJu\nOwogICAgICAgIAogICAgICAgIHN1cGVyLnNldFVwKAogICAgICAgICAgICBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50\naWZpZXJzLkFuaW1hbC5jbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmRlbGltaXRlZC5pZGVudGlmaWVycy5Eb2cu\nY2xhc3MsCiAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5kZWxpbWl0ZWQuaWRlbnRpZmllcnMuQ2F0LmNsYXNzLAogICAgICAg\nICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1pdGVk\nLmlkZW50aWZpZXJzLkFuaW1hbDIuY2xhc3MsCiAgICAgICAgICAgIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQuaWRlbnRpZmll\ncnMuRG9nMi5jbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmRlbGltaXRlZC5pZGVudGlmaWVycy5DYXQyLmNsYXNz\nLAogICAgICAgICAgICBEUk9QX1RBQkxFUyk7CiAgICAgICAgYXNzZXJ0Tm90\nTnVsbChlbWYpOwogICAgICAgIAogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVu\ndGl0eU1hbmFnZXIoKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVtKTsKICAg\nIH0KCiAgICBwcml2YXRlIHZvaWQgY3JlYXRlQ2F0KGludCBpZCkgewogICAg\nICAgIGNhdCA9IG5ldyBDYXQoaWQpOwogICAgICAgIGNhdC5zZXROYW1lKCJQ\ndWZmIik7CiAgICAgICAgY2F0LnNldFR5cGUoImNhdCIpOwogICAgICAgIGNh\ndC5zZXRBZ2UoMyk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGNyZWF0ZURv\nZyhpbnQgaWQpIHsKICAgICAgICBkb2cgPSBuZXcgRG9nKGlkKTsKICAgICAg\nICBkb2cuc2V0TmFtZSgiU3BvdCIpOwogICAgICAgIGRvZy5zZXRUeXBlKCJk\nb2ciKTsKICAgICAgICBkb2cuc2V0QWdlKDkpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RDcmVhdGUoKSB7CiAgICAgICAgaWQrKzsKICAgICAgICBj\ncmVhdGVEb2coaWQpOwogICAgICAgIGlkKys7CiAgICAgICAgY3JlYXRlQ2F0\nKGlkKTsKICAgICAgICAKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJl\nZ2luKCk7CiAgICAgICAgZW0ucGVyc2lzdChkb2cpOwogICAgICAgIGVtLnBl\ncnNpc3QoY2F0KTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOwogICAgICAgIAogICAgICAgIHJ1blF1ZXJpZXMoKTsKICAgIH0KICAg\nIAogICAgcHJpdmF0ZSB2b2lkIHJ1blF1ZXJpZXMoKSB7CiAgICAgICAgZW0u\nY2xlYXIoKTsKICAgICAgICByZXN1bHRTZXRRdWVyeSgpOwogICAgfQogICAg\nCiAgICBwcml2YXRlIHZvaWQgcmVzdWx0U2V0UXVlcnkoKSB7CiAgICAgICAg\nU3RyaW5nIHF1ZXJ5ID0gCiAgICAgICAgICAgICJTRUxFQ1QgYS5pZCwgYS5c\nImFuaW1hbCB0eXBlXCIsIGEuXCJhbmltYWwgbmFtZVwiLCAiICsKICAgICAg\nICAgICAgImEuXCJkaXNjciBjb2xcIiwgYS5cImFuaW1hbCBhZ2VcIiAiICsK\nICAgICAgICAgICAgIkZST00gXCJBbmltYWxcIiBhICI7CiAgICAgICAgUXVl\ncnkgcSA9IGVtLmNyZWF0ZU5hdGl2ZVF1ZXJ5KHF1ZXJ5LCJBbmltYWxSZXN1\nbHRTZXQiKTsKICAgICAgICBMaXN0PE9iamVjdFtdPiByZXN1bHRzID0gKExp\nc3Q8T2JqZWN0W10+KXEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygyLHJlc3VsdHMuc2l6ZSgpKTsKICAgICAgICAKICAgICAgICBm\nb3IgKE9iamVjdFtdIHJlc3VsdCA6IHJlc3VsdHMpIHsKICAgICAgICAgICAg\nYXNzZXJ0RXF1YWxzKDIsIHJlc3VsdC5sZW5ndGgpOwogICAgICAgICAgICBh\nc3NlcnRUcnVlKHJlc3VsdFswXSBpbnN0YW5jZW9mIEFuaW1hbDIpOwogICAg\nICAgICAgICBhc3NlcnRUcnVlKHJlc3VsdFsxXSBpbnN0YW5jZW9mIEludGVn\nZXIpOwogICAgICAgICAgICBBbmltYWwyIGFuaW1hbDIgPSAoQW5pbWFsMily\nZXN1bHRbMF07CiAgICAgICAgICAgIEludGVnZXIgYWdlID0gKEludGVnZXIp\ncmVzdWx0WzFdOwogICAgICAgICAgICBpZiAoYW5pbWFsMi5nZXROYW1lKCku\nZXF1YWxzKCJTcG90IikpIHsKICAgICAgICAgICAgICAgIGFzc2VydEVxdWFs\ncyg5LCBhZ2UuaW50VmFsdWUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAg\nICAgZWxzZSBpZiAoYW5pbWFsMi5nZXROYW1lKCkuZXF1YWxzKCJQdWZmIikp\nIHsKICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscygzLCBhZ2UuaW50VmFs\ndWUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

