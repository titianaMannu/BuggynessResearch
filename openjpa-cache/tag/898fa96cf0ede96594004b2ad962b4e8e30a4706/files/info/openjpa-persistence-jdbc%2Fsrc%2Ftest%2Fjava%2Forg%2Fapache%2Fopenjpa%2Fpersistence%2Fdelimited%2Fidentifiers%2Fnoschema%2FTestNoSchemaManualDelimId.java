{"sha":"9d6987f61f1b9022f6dc8834a1b465999d21d237","node_id":"MDQ6QmxvYjIwNjM2NDo5ZDY5ODdmNjFmMWI5MDIyZjZkYzg4MzRhMWI0NjU5OTlkMjFkMjM3","size":4062,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9d6987f61f1b9022f6dc8834a1b465999d21d237","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnMubm9zY2hlbWE7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7\nCgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQjJEaWN0aW9u\nYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGlj\ndGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5E\nZXJieURpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuTXlTUUxEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc3FsLk9yYWNsZURpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5B\nbGxvd0ZhaWx1cmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UudGVzdC5TUUxMaXN0ZW5lclRlc3RDYXNlOwoKcHVibGljIGNsYXNz\nIFRlc3ROb1NjaGVtYU1hbnVhbERlbGltSWQgZXh0ZW5kcyBTUUxMaXN0ZW5l\nclRlc3RDYXNlIHsKICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtOwogICAg\nRW50aXR5RiBlbnRpdHlGOwogICAgCiAgICBAT3ZlcnJpZGUKICAgIHB1Ymxp\nYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CgogICAgICAgIHN1\ncGVyLnNldFVwKAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJzLm5vc2NoZW1hLkVudGl0\neUYuY2xhc3MsCiAgICAgICAgICAgIERST1BfVEFCTEVTKTsKICAgICAgICBh\nc3NlcnROb3ROdWxsKGVtZik7CgogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVu\ndGl0eU1hbmFnZXIoKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVtKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBjcmVhdGVFbnRpdHlGKCkgewogICAgICAg\nIGVudGl0eUYgPSBuZXcgRW50aXR5RigiZk5hbWUiKTsKICAgICAgICBlbnRp\ndHlGLnNldE5vbkRlbGltTmFtZSgiZk5vbkRlbGltTmFtZSIpOwogICAgICAg\nIGVudGl0eUYuc2V0U2VjTmFtZSgic2VjIG5hbWUiKTsKICAgICAgICBlbnRp\ndHlGLmFkZENvbGxlY3Rpb25TZXQoInh4eCIpOwogICAgICAgIGVudGl0eUYu\nYWRkQ29sbGVjdGlvblNldCgieXl5Iik7CiAgICAgICAgZW50aXR5Ri5hZGRD\nb2xsZWN0aW9uRGVsaW1TZXQoImFhYSIpOwogICAgICAgIGVudGl0eUYuYWRk\nQ29sbGVjdGlvbkRlbGltU2V0KCJiYmIiKTsKICAgICAgICBlbnRpdHlGLmFk\nZENvbGxlY3Rpb25NYXAoImFhYSIsICJ4eHgiKTsKICAgICAgICBlbnRpdHlG\nLmFkZENvbGxlY3Rpb25NYXAoImJiYiIsICJ5eXkiKTsKICAgICAgICBlbnRp\ndHlGLmFkZERlbGltQ29sbGVjdGlvbk1hcCgid3d3IiwgInh4eCIpOwogICAg\nICAgIGVudGl0eUYuYWRkRGVsaW1Db2xsZWN0aW9uTWFwKCJ5eXkiLCAienp6\nIik7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RDcmVhdGVGKCkg\newogICAgICAgIGNyZWF0ZUVudGl0eUYoKTsKICAgICAgICAKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0ucGVyc2lz\ndChlbnRpdHlGKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOwogICAgICAgIAogICAgICAgIHJ1blF1ZXJpZXMoKTsKICAgICAgICAK\nICAgIH0KICAgIAogICAgLy8gUnVuIGEgc2Vjb25kIHRpbWUgdG8gcmUtY3Jl\nYXRlIGEgc2l0dWF0aW9uIHRoYXQgaW5pdGlhbGx5IGNhdXNlZCBhIHByb2Js\nZW0gd2hlbiBydW5uaW5nIHRoaXMKICAgIC8vIHRlc3QgY29uc2VjdXRpdmUg\ndGltZXMuCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q3JlYXRlRjIoKSB7CiAgICAg\nICAgY3JlYXRlRW50aXR5RigpOwogICAgICAgIAogICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5wZXJzaXN0KGVudGl0\neUYpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAg\nICB9CiAgICAKICAgIHByaXZhdGUgdm9pZCBydW5RdWVyaWVzKCkgewogICAg\nICAgIGVtLmNsZWFyKCk7CiAgICAgICAgcXVlcnlPbkVudGl0eU9ubHkoKTsK\nICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIHF1ZXJ5T25Db2x1bW5WYWx1\nZSgpOwogICAgICAgIGVtLmNsZWFyKCk7CiAgICAgICAgcXVlcnlDb2xsZWN0\naW9uKCk7CiAgICB9CiAgICAKICAgIHByaXZhdGUgdm9pZCBxdWVyeU9uRW50\naXR5T25seSgpIHsKICAgICAgICBTdHJpbmcgcXVlcnkgPQogICAgICAgICAg\nICAiU0VMRUNUIERJU1RJTkNUIGYgIiArCiAgICAgICAgICAgICJGUk9NIEVu\ndGl0eUYgZiI7CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHF1\nZXJ5KTsKICAgICAgICBMaXN0PEVudGl0eUY+IHJlc3VsdHMgPSAoTGlzdDxF\nbnRpdHlGPilxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoMSxyZXN1bHRzLnNpemUoKSk7CiAgICB9CiAgICAKICAgIHByaXZhdGUg\ndm9pZCBxdWVyeU9uQ29sdW1uVmFsdWUoKSB7CiAgICAgICAgU3RyaW5nIHF1\nZXJ5ID0KICAgICAgICAgICAgIlNFTEVDVCBESVNUSU5DVCBmICIgKwogICAg\nICAgICAgICAiRlJPTSBFbnRpdHlGIGYgIiArCiAgICAgICAgICAgICJXSEVS\nRSBmLm5hbWUgPSAnZk5hbWUnIjsKICAgICAgICBRdWVyeSBxID0gZW0uY3Jl\nYXRlUXVlcnkocXVlcnkpOwogICAgICAgIExpc3Q8RW50aXR5Rj4gcmVzdWx0\ncyA9IChMaXN0PEVudGl0eUY+KXEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAg\nIGFzc2VydEVxdWFscygxLHJlc3VsdHMuc2l6ZSgpKTsKICAgIH0KICAgIAog\nICAgcHJpdmF0ZSB2b2lkIHF1ZXJ5Q29sbGVjdGlvbigpIHsKICAgICAgICBT\ndHJpbmcgcXVlcnkgPQogICAgICAgICAgICAiU0VMRUNUIERJU1RJTkNUIGYg\nIiArCiAgICAgICAgICAgICJGUk9NIEVudGl0eUYgZiwgSU4oZi5uc2Nkcykg\ncyAiICsKICAgICAgICAgICAgIldIRVJFIHMgPSAnYWFhJyI7CiAgICAgICAg\nUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KTsKICAgICAgICBMaXN0\nPEVudGl0eUY+IHJlc3VsdHMgPSAoTGlzdDxFbnRpdHlGPilxLmdldFJlc3Vs\ndExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSxyZXN1bHRzLnNpemUo\nKSk7CiAgICB9Cn0K\n","encoding":"base64"}

