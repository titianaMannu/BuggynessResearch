{"sha":"489837322d9907b22a4d3f99575ff90636460eb4","node_id":"MDQ6QmxvYjIwNjM2NDo0ODk4MzczMjJkOTkwN2IyMmE0ZDNmOTk1NzVmZjkwNjM2NDYwZWI0","size":4159,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/489837322d9907b22a4d3f99575ff90636460eb4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnMueG1sOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlckZhY3RvcnlTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TUUxMaXN0ZW5lclRlc3RDYXNlOwoK\ncHVibGljIGNsYXNzIFRlc3RYbWxEZWxpbUlkUmVzdWx0U2V0cyAKICAgICAg\nICBleHRlbmRzIFNRTExpc3RlbmVyVGVzdENhc2UgewogICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgZW07CiAgICBpbnQgaWQgPSAwOwogICAgQ2FyIGNhcjsK\nICAgIFBvbnRpYWMgcG9udGlhYzsKICAgIENoZXZyb2xldCBjaGV2cm9sZXQ7\nCiAgICBDYXIyIGNhcjI7CiAgICBQb250aWFjMiBwb250aWFjMjsKICAgIENo\nZXZyb2xldDIgY2hldnJvbGV0MjsKICAgIAogICAgQE92ZXJyaWRlCiAgICBw\ndWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAg\nIHNldFN1cHBvcnRlZERhdGFiYXNlcygKICAgICAgICAgICAgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc3FsLkRlcmJ5RGljdGlvbmFyeS5jbGFzcywKICAg\nICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCMkRpY3Rp\nb25hcnkuY2xhc3MpOwogICAgICAgIGlmIChpc1Rlc3RzRGlzYWJsZWQoKSkg\newogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAg\nICAgIHN1cGVyLnNldFVwKAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJzLnhtbC5DYXIu\nY2xhc3MsCiAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5kZWxpbWl0ZWQuaWRlbnRpZmllcnMueG1sLlBvbnRpYWMuY2xhc3Ms\nCiAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5k\nZWxpbWl0ZWQuaWRlbnRpZmllcnMueG1sLkNoZXZyb2xldC5jbGFzcywKICAg\nICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmRlbGlt\naXRlZC5pZGVudGlmaWVycy54bWwuQ2FyMi5jbGFzcywKICAgICAgICAgICAg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmRlbGltaXRlZC5pZGVu\ndGlmaWVycy54bWwuUG9udGlhYzIuY2xhc3MsCiAgICAgICAgICAgIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQuaWRlbnRpZmll\ncnMueG1sLkNoZXZyb2xldDIuY2xhc3MsCiAgICAgICAgICAgIERST1BfVEFC\nTEVTKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVtZik7CiAgICAgICAgCiAg\nICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAg\nIGFzc2VydE5vdE51bGwoZW0pOwogICAgfQogICAgCiAgICBAT3ZlcnJpZGUK\nICAgIHByb3RlY3RlZCBTdHJpbmcgZ2V0UGVyc2lzdGVuY2VVbml0TmFtZSgp\nIHsKICAgICAgICByZXR1cm4gImRlbGltaXRlZC1pZGVudGlmaWVycy1yZXN1\nbHQtc2V0LXhtbCI7CiAgICB9ICAgIAogICAgCiAgICBwcml2YXRlIHZvaWQg\nY3JlYXRlQ2hldnJvbGV0KGludCBpZCkgewogICAgICAgIGNoZXZyb2xldCA9\nIG5ldyBDaGV2cm9sZXQoaWQpOwogICAgICAgIGNoZXZyb2xldC5zZXRNb2Rl\nbCgiTWFsaWJ1Iik7CiAgICAgICAgY2hldnJvbGV0LnNldENvbG9yKCJibGFj\nayIpOwogICAgICAgIGNoZXZyb2xldC5zZXRNb2RlbFllYXIoIjIwMDkiKTsK\nICAgIH0KCiAgICBwcml2YXRlIHZvaWQgY3JlYXRlUG9udGlhYyhpbnQgaWQp\nIHsKICAgICAgICBwb250aWFjID0gbmV3IFBvbnRpYWMoaWQpOwogICAgICAg\nIHBvbnRpYWMuc2V0TW9kZWwoIkc2Iik7CiAgICAgICAgcG9udGlhYy5zZXRD\nb2xvcigicmVkIik7CiAgICAgICAgcG9udGlhYy5zZXRNb2RlbFllYXIoIjIw\nMDUiKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q3JlYXRlKCkgewog\nICAgICAgIGlkKys7CiAgICAgICAgY3JlYXRlUG9udGlhYyhpZCk7CiAgICAg\nICAgaWQrKzsKICAgICAgICBjcmVhdGVDaGV2cm9sZXQoaWQpOwogICAgICAg\nIAogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAg\nICBlbS5wZXJzaXN0KHBvbnRpYWMpOwogICAgICAgIGVtLnBlcnNpc3QoY2hl\ndnJvbGV0KTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgp\nOwogICAgICAgIAogICAgICAgIHJ1blF1ZXJpZXMoKTsKICAgIH0KICAgIAog\nICAgcHJpdmF0ZSB2b2lkIHJ1blF1ZXJpZXMoKSB7CiAgICAgICAgZW0uY2xl\nYXIoKTsKICAgICAgICByZXN1bHRTZXRRdWVyeSgpOwogICAgfQogICAgCiAg\nICBwcml2YXRlIHZvaWQgcmVzdWx0U2V0UXVlcnkoKSB7CiAgICAgICAgU3Ry\naW5nIHF1ZXJ5ID0gCiAgICAgICAgICAgICJTRUxFQ1QgYy5pZCwgYy5cImNh\nciBtb2RlbFwiLCBjLlwiY2FyIGNvbG9yXCIsICIgKwogICAgICAgICAgICAi\nYy5cImRpc2NyIGNvbFwiLCBjLlwibW9kZWwgeWVhclwiICIgKwogICAgICAg\nICAgICAiRlJPTSBcIlhtbENhclwiIGMgIjsKICAgICAgICBRdWVyeSBxID0g\nZW0uY3JlYXRlTmF0aXZlUXVlcnkocXVlcnksIlhtbENhclJlc3VsdFNldCIp\nOwogICAgICAgIExpc3Q8T2JqZWN0W10+IHJlc3VsdHMgPSAoTGlzdDxPYmpl\nY3RbXT4pcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDIscmVzdWx0cy5zaXplKCkpOwogICAgICAgIAogICAgICAgIGZvciAoT2Jq\nZWN0W10gcmVzdWx0IDogcmVzdWx0cykgewogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoMiwgcmVzdWx0Lmxlbmd0aCk7CiAgICAgICAgICAgIGFzc2VydFRy\ndWUocmVzdWx0WzBdIGluc3RhbmNlb2YgQ2FyMik7CiAgICAgICAgICAgIGFz\nc2VydFRydWUocmVzdWx0WzFdIGluc3RhbmNlb2YgU3RyaW5nKTsKICAgICAg\nICAgICAgQ2FyMiBjYXIyID0gKENhcjIpcmVzdWx0WzBdOwogICAgICAgICAg\nICBTdHJpbmcgbW9kZWxZZWFyID0gKFN0cmluZylyZXN1bHRbMV07CiAgICAg\nICAgICAgIGlmIChjYXIyLmdldE1vZGVsKCkuZXF1YWxzKCJHNiIpKSB7CiAg\nICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoIjIwMDUiLCBtb2RlbFllYXIp\nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGNhcjIuZ2V0\nTW9kZWwoKS5lcXVhbHMoIk1hbGlidSIpKSB7CiAgICAgICAgICAgICAgICBh\nc3NlcnRFcXVhbHMoIjIwMDkiLCBtb2RlbFllYXIpOwogICAgICAgICAgICB9\nCiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

