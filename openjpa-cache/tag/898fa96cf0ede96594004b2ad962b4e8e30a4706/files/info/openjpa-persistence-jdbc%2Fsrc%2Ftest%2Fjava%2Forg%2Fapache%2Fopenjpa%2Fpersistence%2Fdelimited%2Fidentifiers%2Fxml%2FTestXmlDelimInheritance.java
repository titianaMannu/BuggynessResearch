{"sha":"7adc8c5b5b212fac6b78e99804c22c25abd4f8ba","node_id":"MDQ6QmxvYjIwNjM2NDo3YWRjOGM1YjViMjEyZmFjNmI3OGU5OTgwNGMyMmMyNWFiZDRmOGJh","size":3528,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7adc8c5b5b212fac6b78e99804c22c25abd4f8ba","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnMueG1sOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlckZhY3RvcnlTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TUUxMaXN0ZW5lclRlc3RDYXNlOwoK\ncHVibGljIGNsYXNzIFRlc3RYbWxEZWxpbUluaGVyaXRhbmNlIGV4dGVuZHMg\nU1FMTGlzdGVuZXJUZXN0Q2FzZSB7CiAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBlbTsKICAgIGludCBpZCA9IDA7CiAgICBQb250aWFjIHBvbnRpYWM7CiAg\nICBDaGV2cm9sZXQgY2hldnJvbGV0OwogICAgCiAgICBAT3ZlcnJpZGUKICAg\nIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgc2V0U3VwcG9ydGVkRGF0YWJhc2VzKAogICAgICAgICAgICBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zcWwuRGVyYnlEaWN0aW9uYXJ5LmNsYXNzLAog\nICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuREIyRGlj\ndGlvbmFyeS5jbGFzcyk7CiAgICAgICAgaWYgKGlzVGVzdHNEaXNhYmxlZCgp\nKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAg\nICAgICAgc3VwZXIuc2V0VXAoCiAgICAgICAgICAgIG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQuaWRlbnRpZmllcnMueG1sLkNh\nci5jbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmRlbGltaXRlZC5pZGVudGlmaWVycy54bWwuUG9udGlhYy5jbGFz\ncywKICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmRlbGltaXRlZC5pZGVudGlmaWVycy54bWwuQ2hldnJvbGV0LmNsYXNzLAog\nICAgICAgICAgICBEUk9QX1RBQkxFUyk7CiAgICAgICAgYXNzZXJ0Tm90TnVs\nbChlbWYpOwogICAgICAgIAogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVtKTsKICAgIH0K\nICAgIAogICAgQE92ZXJyaWRlCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdldFBl\ncnNpc3RlbmNlVW5pdE5hbWUoKSB7CiAgICAgICAgcmV0dXJuICJkZWxpbWl0\nZWQtaWRlbnRpZmllcnMtaW5oZXJpdGFuY2UteG1sIjsKICAgIH0gICAgCiAg\nICAKICAgIHByaXZhdGUgdm9pZCBjcmVhdGVQb250aWFjKGludCBpZCkgewog\nICAgICAgIHBvbnRpYWMgPSBuZXcgUG9udGlhYyhpZCk7CiAgICAgICAgcG9u\ndGlhYy5zZXRNb2RlbCgiRzYiKTsKICAgICAgICBwb250aWFjLnNldENvbG9y\nKCJyZWQiKTsKICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIGNyZWF0ZUNo\nZXZyb2xldChpbnQgaWQpIHsKICAgICAgICBjaGV2cm9sZXQgPSBuZXcgQ2hl\ndnJvbGV0KGlkKTsKICAgICAgICBjaGV2cm9sZXQuc2V0TW9kZWwoIk1hbGli\ndSIpOwogICAgICAgIGNoZXZyb2xldC5zZXRDb2xvcigiYmxhY2siKTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdENyZWF0ZSgpIHsKICAgICAg\nICBpZCsrOwogICAgICAgIGNyZWF0ZVBvbnRpYWMoaWQpOwogICAgICAgIGlk\nKys7CiAgICAgICAgY3JlYXRlQ2hldnJvbGV0KGlkKTsKICAgICAgICAKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0u\ncGVyc2lzdChwb250aWFjKTsKICAgICAgICBlbS5wZXJzaXN0KGNoZXZyb2xl\ndCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAg\nICAgICAKICAgICAgICBydW5RdWVyaWVzKCk7CiAgICB9CiAgICAKICAgIHBy\naXZhdGUgdm9pZCBydW5RdWVyaWVzKCkgewogICAgICAgIGVtLmNsZWFyKCk7\nCiAgICAgICAgcXVlcnlDaGV2cm9sZXQoKTsKICAgICAgICBlbS5jbGVhcigp\nOwogICAgICAgIHF1ZXJ5UG9udGlhYygpOwogICAgfQogICAgCiAgICBwcml2\nYXRlIHZvaWQgcXVlcnlDaGV2cm9sZXQoKSB7CiAgICAgICAgU3RyaW5nIHF1\nZXJ5ID0KICAgICAgICAgICAgIlNFTEVDVCBESVNUSU5DVCBjICIgKwogICAg\nICAgICAgICAiRlJPTSBDYXIgYyAiICsKICAgICAgICAgICAgIldIRVJFIGMu\nbW9kZWwgPSAnTWFsaWJ1JyI7CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0\nZVF1ZXJ5KHF1ZXJ5KTsKICAgICAgICBMaXN0PENhcj4gcmVzdWx0cyA9IChM\naXN0PENhcj4pcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEscmVzdWx0cy5zaXplKCkpOwogICAgfQogICAgCiAgICAvLyBVc2Ug\nbmF0aXZlIHF1ZXJ5CiAgICBwcml2YXRlIHZvaWQgcXVlcnlQb250aWFjKCkg\newogICAgICAgIFN0cmluZyBxdWVyeSA9IAogICAgICAgICAgICAiU0VMRUNU\nICogIiArCiAgICAgICAgICAgICJGUk9NIFwiWElDYXJcIiBjICIgKwogICAg\nICAgICAgICAiV0hFUkUgYy5cImRpc2NyIGNvbFwiID0gJ1BvbnRpYWMnIjsK\nICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlTmF0aXZlUXVlcnkocXVlcnkp\nOwogICAgICAgIExpc3Q8Q2FyPiByZXN1bHRzID0gKExpc3Q8Q2FyPilxLmdl\ndFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSxyZXN1bHRz\nLnNpemUoKSk7CiAgICB9Cn0K\n","encoding":"base64"}

