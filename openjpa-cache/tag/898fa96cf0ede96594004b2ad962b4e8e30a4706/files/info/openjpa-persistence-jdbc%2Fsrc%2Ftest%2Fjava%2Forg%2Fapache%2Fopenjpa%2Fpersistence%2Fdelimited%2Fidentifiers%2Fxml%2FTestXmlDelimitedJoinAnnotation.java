{"sha":"8f83a20619132fed8ad119f57444d91dfd36d6a6","node_id":"MDQ6QmxvYjIwNjM2NDo4ZjgzYTIwNjE5MTMyZmVkOGFkMTE5ZjU3NDQ0ZDkxZGZkMzZkNmE2","size":5046,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8f83a20619132fed8ad119f57444d91dfd36d6a6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnMueG1sOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU1FMTGlzdGVuZXJU\nZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBUZXN0WG1sRGVsaW1pdGVkSm9pbkFu\nbm90YXRpb24gZXh0ZW5kcyBTUUxMaXN0ZW5lclRlc3RDYXNlIHsKICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIGVtOwogICAgaW50IGlkID0gMDsKICAgIEVu\ndGl0eUggZW50aXR5SDsKICAgIEVudGl0eUkgZW50aXR5STsKICAgIEVudGl0\neUkyIGVudGl0eUkyOwogICAgRW50aXR5STMgZW50aXR5STM7CiAgICBFbnRp\ndHlJNCBlbnRpdHlJNDsKICAgIAogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMg\ndm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHNldFN1\ncHBvcnRlZERhdGFiYXNlcygKICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc3FsLkRlcmJ5RGljdGlvbmFyeS5jbGFzcywKICAgICAgICAg\nICAgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCMkRpY3Rpb25hcnku\nY2xhc3MpOwogICAgICAgIGlmIChpc1Rlc3RzRGlzYWJsZWQoKSkgewogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHN1\ncGVyLnNldFVwKAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJzLnhtbC5FbnRpdHlILmNs\nYXNzLAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJzLnhtbC5FbnRpdHlJLmNsYXNzLAog\nICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVs\naW1pdGVkLmlkZW50aWZpZXJzLnhtbC5FbnRpdHlJMi5jbGFzcywKICAgICAg\nICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmRlbGltaXRl\nZC5pZGVudGlmaWVycy54bWwuRW50aXR5STMuY2xhc3MsCiAgICAgICAgICAg\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQuaWRl\nbnRpZmllcnMueG1sLkVudGl0eUk0LmNsYXNzLAogICAgICAgICAgICBEUk9Q\nX1RBQkxFUyk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlbWYpOwogICAgICAg\nIAogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAg\nICAgICBhc3NlcnROb3ROdWxsKGVtKTsKICAgIH0KICAgIAogICAgQE92ZXJy\naWRlCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdldFBlcnNpc3RlbmNlVW5pdE5h\nbWUoKSB7CiAgICAgICAgcmV0dXJuICJkZWxpbWl0ZWQtaWRlbnRpZmllcnMt\nam9pbnMteG1sIjsKICAgIH0gICAgCiAgICAKICAgIHB1YmxpYyB2b2lkIGNy\nZWF0ZUhhbmRJKGludCBpZCkgewogICAgICAgIGVudGl0eUggPSBuZXcgRW50\naXR5SChpZCk7CiAgICAgICAgZW50aXR5SC5zZXROYW1lKCJlaCIpOwogICAg\nICAgIGVudGl0eUguc2V0U2VjTmFtZSgic2VjTmFtZTEiKTsKICAgICAgICAK\nICAgICAgICBlbnRpdHlJID0gbmV3IEVudGl0eUkoaWQpOwogICAgICAgIGVu\ndGl0eUkuc2V0TmFtZSgiZWkiKTsKICAgICAgICAKICAgICAgICBlbnRpdHlJ\nMiA9IG5ldyBFbnRpdHlJMihpZCk7CiAgICAgICAgZW50aXR5STIuc2V0TmFt\nZSgiZWkyIik7CiAgICAgICAgCiAgICAgICAgZW50aXR5STMgPSBuZXcgRW50\naXR5STMoaWQpOwogICAgICAgIGVudGl0eUkzLnNldE5hbWUoImVpMyIpOwog\nICAgICAgIAogICAgICAgIGVudGl0eUk0ID0gbmV3IEVudGl0eUk0KGlkKTsK\nICAgICAgICBlbnRpdHlJNC5zZXROYW1lKCJlaTQiKTsKICAgICAgICAKICAg\nICAgICBlbnRpdHlILmFkZEVudGl0eUkoZW50aXR5SSk7CiAgICAgICAgZW50\naXR5SS5hZGRFbnRpdHlIKGVudGl0eUgpOwogICAgICAgIAogICAgICAgIGVu\ndGl0eUguc2V0RW50aXR5STIoZW50aXR5STIpOwogICAgICAgIAogICAgICAg\nIGVudGl0eUguYWRkTWFwVmFsdWVzKGVudGl0eUkzLCBlbnRpdHlJNCk7CiAg\nICAgICAgZW50aXR5SC5hZGRNYXAyVmFsdWVzKGVudGl0eUk0LCBlbnRpdHlJ\nMyk7CiAgICAgICAgCiAgICAgICAgZW50aXR5STIuc2V0RW50aXR5STMoZW50\naXR5STMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RDcmVhdGUoKSB7\nCiAgICAgICAgaWQrKzsKICAgICAgICBjcmVhdGVIYW5kSShpZCk7CiAgICAg\nICAgCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAg\nICAgIGVtLnBlcnNpc3QoZW50aXR5SCk7CiAgICAgICAgZW0ucGVyc2lzdChl\nbnRpdHlJKTsKICAgICAgICBlbS5wZXJzaXN0KGVudGl0eUkyKTsKICAgICAg\nICBlbS5wZXJzaXN0KGVudGl0eUkzKTsKICAgICAgICBlbS5wZXJzaXN0KGVu\ndGl0eUk0KTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgp\nOwogICAgICAgIAogICAgICAgIHJ1blF1ZXJpZXMoKTsKICAgIH0KICAgIAog\nICAgcHJpdmF0ZSB2b2lkIHJ1blF1ZXJpZXMoKSB7CiAgICAgICAgZW0uY2xl\nYXIoKTsKICAgICAgICBxdWVyeUpvaW5UYWJsZSgpOwogICAgICAgIGVtLmNs\nZWFyKCk7CiAgICAgICAgcXVlcnlKb2luQ29sdW1uKCk7CiAgICAgICAgZW0u\nY2xlYXIoKTsKICAgICAgICBxdWVyeVNlY29uZGFyeVRhYmxlVmFsdWUoKTsK\nICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIHF1ZXJ5TWFwVmFsdWUoKTsK\nICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHF1ZXJ5Sm9pblRhYmxlKCkg\newogICAgICAgIFN0cmluZyBxdWVyeSA9CiAgICAgICAgICAgICJTRUxFQ1Qg\naCAiICsKICAgICAgICAgICAgIkZST00gRW50aXR5SCBoIEpPSU4gaC5lSXMg\naSAiICsKICAgICAgICAgICAgIldIRVJFIGkubmFtZSA9ICdlaSciOwogICAg\nICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSk7CiAgICAgICAg\nTGlzdDxFbnRpdHlIPiByZXN1bHRzID0gKExpc3Q8RW50aXR5SD4pcS5nZXRS\nZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEscmVzdWx0cy5z\naXplKCkpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBxdWVyeUpvaW5Db2x1\nbW4oKSB7CiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gCiAgICAgICAgICAgICJT\nRUxFQ1QgaCAiICsKICAgICAgICAgICAgIkZST00gRW50aXR5SCBoIEpPSU4g\naC5lSTIgaTIgIiArCiAgICAgICAgICAgICJXSEVSRSBpMi5uYW1lID0gJ2Vp\nMiciOwogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSk7\nCiAgICAgICAgTGlzdDxFbnRpdHlIPiByZXN1bHRzID0gKExpc3Q8RW50aXR5\nSD4pcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\ncmVzdWx0cy5zaXplKCkpOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBxdWVy\neVNlY29uZGFyeVRhYmxlVmFsdWUoKSB7CiAgICAgICAgU3RyaW5nIHF1ZXJ5\nID0gCiAgICAgICAgICAgICJTRUxFQ1QgaCAiICsKICAgICAgICAgICAgIkZS\nT00gRW50aXR5SCBoICIgKwogICAgICAgICAgICAiV0hFUkUgaC5zZWNOYW1l\nID0gJ3NlY05hbWUxJyI7CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1\nZXJ5KHF1ZXJ5KTsKICAgICAgICBMaXN0PEVudGl0eUg+IHJlc3VsdHMgPSAo\nTGlzdDxFbnRpdHlIPilxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoMSxyZXN1bHRzLnNpemUoKSk7CiAgICB9CgogICAgcHJpdmF0\nZSB2b2lkIHF1ZXJ5TWFwVmFsdWUoKSB7CiAgICAgICAgU3RyaW5nIHF1ZXJ5\nID0KICAgICAgICAgICAgIlNFTEVDVCBoICIgKwogICAgICAgICAgICAiRlJP\nTSBFbnRpdHlIIGgsIElOKGgubWFwMikgbSAiICsKICAgICAgICAgICAgIldI\nRVJFIG0ubmFtZSA9ICdlaTMnIjsKICAgICAgICBRdWVyeSBxID0gZW0uY3Jl\nYXRlUXVlcnkocXVlcnkpOwogICAgICAgIExpc3Q8RW50aXR5SD4gcmVzdWx0\ncyA9IChMaXN0PEVudGl0eUg+KXEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAg\nIGFzc2VydEVxdWFscygxLHJlc3VsdHMuc2l6ZSgpKTsKICAgIH0KICAgIAog\nICAgCn0K\n","encoding":"base64"}

