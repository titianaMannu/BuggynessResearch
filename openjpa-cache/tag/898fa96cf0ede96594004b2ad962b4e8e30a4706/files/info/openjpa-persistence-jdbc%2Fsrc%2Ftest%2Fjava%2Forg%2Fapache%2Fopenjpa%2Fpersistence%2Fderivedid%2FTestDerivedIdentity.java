{"sha":"2d15d2b75252fd148b6bfe492edd2b4ca10e8e10","node_id":"MDQ6QmxvYjIwNjM2NDoyZDE1ZDJiNzUyNTJmZDE0OGI2YmZlNDkyZWRkMmI0Y2ExMGU4ZTEw","size":4736,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2d15d2b75252fd148b6bfe492edd2b4ca10e8e10","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZGVyaXZlZGlkOw0KDQppbXBvcnQgamF2YS5tYXRoLkJp\nZ0RlY2ltYWw7DQppbXBvcnQgamF2YS5tYXRoLkJpZ0ludGVnZXI7DQppbXBv\ncnQgamF2YS51dGlsLkRhdGU7DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoN\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5Ow0KDQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU1FMTGlzdGVuZXJUZXN0\nQ2FzZTsNCg0KcHVibGljIGNsYXNzIFRlc3REZXJpdmVkSWRlbnRpdHkgIGV4\ndGVuZHMgU1FMTGlzdGVuZXJUZXN0Q2FzZSB7DQoNCiAgICBwdWJsaWMgdm9p\nZCBzZXRVcCgpIHsNCiAgICAgICAgc2V0VXAoRUJpZ0RlY2ltYWxJRC5jbGFz\ncywgRURCaWdEZWNpbWFsSUQuY2xhc3MsDQogICAgICAgICAgICBFQmlnSW50\nZWdlcklELmNsYXNzLCBFREJpZ0ludGVnZXJJRC5jbGFzcywNCiAgICAgICAg\nICAgIEVEYXRlSUQuY2xhc3MsIEVERGF0ZUlELmNsYXNzLA0KICAgICAgICAg\nICAgRVNRTERhdGVJRC5jbGFzcywgRURTUUxEYXRlSUQuY2xhc3MsDQogICAg\nICAgICAgICBDTEVBUl9UQUJMRVMpOw0KICAgICAgICBwb3B1bGF0ZSgpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHBvcHVsYXRlKCkgew0KICAgICAg\nICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIo\nKTsNCiAgICAgICAgDQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMjsg\naSsrKSB7DQogICAgICAgICAgICBsb25nIHRpbWUgPSAobG9uZykgKFN5c3Rl\nbS5jdXJyZW50VGltZU1pbGxpcygpIC8gMTAwMCkraSoxMzE3Ow0KICAgICAg\nICAgICAgQmlnRGVjaW1hbCBkaWQgPSBuZXcgQmlnRGVjaW1hbCh0aW1lKTsg\nICAgICAgICAgICANCiAgICAgICAgICAgIEVCaWdEZWNpbWFsSUQgZTEgPSBu\nZXcgRUJpZ0RlY2ltYWxJRChkaWQpOw0KICAgICAgICAgICAgRURCaWdEZWNp\nbWFsSUQgZTIgPSBuZXcgRURCaWdEZWNpbWFsSUQoZTEpOw0KICAgICAgICAg\nICAgZW0ucGVyc2lzdChlMSk7DQogICAgICAgICAgICBlbS5wZXJzaXN0KGUy\nKTsNCg0KICAgICAgICAgICAgaW50IHRpbWUyID0gKGludCkgKFN5c3RlbS5j\ndXJyZW50VGltZU1pbGxpcygpIC8gMTAwMCkraSo3MTMxOw0KICAgICAgICAg\nICAgQmlnSW50ZWdlciBpaWQgPSBuZXcgQmlnSW50ZWdlcihJbnRlZ2VyLnRv\nU3RyaW5nKHRpbWUyKSk7DQogICAgICAgICAgICBFQmlnSW50ZWdlcklEIGUz\nID0gbmV3IEVCaWdJbnRlZ2VySUQoaWlkKTsNCiAgICAgICAgICAgIEVEQmln\nSW50ZWdlcklEIGU0ID0gbmV3IEVEQmlnSW50ZWdlcklEKGUzKTsNCiAgICAg\nICAgICAgIGVtLnBlcnNpc3QoZTMpOw0KICAgICAgICAgICAgZW0ucGVyc2lz\ndChlNCk7DQoNCiAgICAgICAgICAgIERhdGUgaWQgPSBuZXcgRGF0ZSh0aW1l\nKTsNCiAgICAgICAgICAgIEVEYXRlSUQgZTUgPSBuZXcgRURhdGVJRChpZCk7\nDQogICAgICAgICAgICBFRERhdGVJRCBlNiA9IG5ldyBFRERhdGVJRChlNSk7\nDQogICAgICAgICAgICBlbS5wZXJzaXN0KGU1KTsNCiAgICAgICAgICAgIGVt\nLnBlcnNpc3QoZTYpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAo\naSA9PSAwKSB7DQogICAgICAgICAgICAgICAgamF2YS5zcWwuRGF0ZSBzaWQg\nPSBuZXcgamF2YS5zcWwuRGF0ZSh0aW1lKTsNCiAgICAgICAgICAgICAgICBF\nU1FMRGF0ZUlEIGU3ID0gbmV3IEVTUUxEYXRlSUQoc2lkKTsNCiAgICAgICAg\nICAgICAgICBFRFNRTERhdGVJRCBlOCA9IG5ldyBFRFNRTERhdGVJRChlNyk7\nDQogICAgICAgICAgICAgICAgZW0ucGVyc2lzdChlNyk7DQogICAgICAgICAg\nICAgICAgZW0ucGVyc2lzdChlOCk7DQogICAgICAgICAgICB9DQogICAgICAg\nIH0NCiAgICAgICAgDQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsN\nCiAgICAgICAgZW0uY2xvc2UoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RGVyaXZlZElkZW50aXR5KCkgew0KICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAg\nUXVlcnkgcXVlcnkgPSBudWxsOw0KICAgICAgICBTdHJpbmcgc3RyW10gPSB7\nDQogICAgICAgICAgICAic2VsZWN0IGUgZnJvbSBFRERhdGVJRCBlIiwNCiAg\nICAgICAgICAgICJzZWxlY3QgZSBmcm9tIEVEQmlnRGVjaW1hbElEIGUiLA0K\nICAgICAgICAgICAgInNlbGVjdCBlIGZyb20gRURCaWdJbnRlZ2VySUQgZSIs\nDQogICAgICAgICAgICAic2VsZWN0IGUgZnJvbSBFRFNRTERhdGVJRCBlIiwN\nCiAgICAgICAgICAgICJzZWxlY3QgZSBmcm9tIEVERGF0ZUlEIGUgam9pbiBm\nZXRjaCBlLnJpZCIsDQogICAgICAgICAgICAic2VsZWN0IGUgZnJvbSBFREJp\nZ0RlY2ltYWxJRCBlIGpvaW4gZmV0Y2ggZS5yaWQiLA0KICAgICAgICAgICAg\nInNlbGVjdCBlIGZyb20gRURCaWdJbnRlZ2VySUQgZSBqb2luIGZldGNoIGUu\ncmlkIiwNCiAgICAgICAgICAgICJzZWxlY3QgZSBmcm9tIEVEU1FMRGF0ZUlE\nIGUgam9pbiBmZXRjaCBlLnJpZCIsDQogICAgICAgIH07DQogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7DQogICAgICAg\nICAgICBxdWVyeSA9IGVtLmNyZWF0ZVF1ZXJ5KHN0cltpXSk7DQogICAgICAg\nICAgICBMaXN0IHJzID0gcXVlcnkuZ2V0UmVzdWx0TGlzdCgpOw0KICAgICAg\nICAgICAgYXNzZXJ0VHJ1ZShycy5zaXplKCkgPiAwKTsNCiAgICAgICAgICAg\nIGZvciAoaW50IGogPSAwOyBqIDwgcnMuc2l6ZSgpOyBqKyspIHsNCiAgICAg\nICAgICAgICAgICBPYmplY3QgZSA9IHJzLmdldChqKTsNCiAgICAgICAgICAg\nICAgICBTdHJpbmcgbmFtZSA9IG51bGw7DQogICAgICAgICAgICAgICAgT2Jq\nZWN0IG9pZCA9IG51bGw7DQogICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFu\nY2VvZiBFRERhdGVJRCkgew0KICAgICAgICAgICAgICAgICAgICBuYW1lID0g\nKChFRERhdGVJRCllKS5nZXROYW1lKCk7DQogICAgICAgICAgICAgICAgICAg\nIG9pZCA9ICgoRUREYXRlSUQpZSkuZ2V0UmlkKCkuZ2V0SWQoKTsNCiAgICAg\nICAgICAgICAgICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBFREJpZ0RlY2lt\nYWxJRCkgew0KICAgICAgICAgICAgICAgICAgICBuYW1lID0gKChFREJpZ0Rl\nY2ltYWxJRCllKS5nZXROYW1lKCk7DQogICAgICAgICAgICAgICAgICAgIG9p\nZCA9ICgoRURCaWdEZWNpbWFsSUQpZSkuZ2V0UmlkKCkuZ2V0SWQoKTsNCiAg\nICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBFREJpZ0lu\ndGVnZXJJRCkgew0KICAgICAgICAgICAgICAgICAgICBuYW1lID0gKChFREJp\nZ0ludGVnZXJJRCllKS5nZXROYW1lKCk7DQogICAgICAgICAgICAgICAgICAg\nIG9pZCA9ICgoRURCaWdJbnRlZ2VySUQpZSkuZ2V0UmlkKCkuZ2V0SWQoKTsN\nCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBFRFNR\nTERhdGVJRCkgew0KICAgICAgICAgICAgICAgICAgICBuYW1lID0gKChFRFNR\nTERhdGVJRCllKS5nZXROYW1lKCk7DQogICAgICAgICAgICAgICAgICAgIG9p\nZCA9ICgoRURTUUxEYXRlSUQpZSkuZ2V0UmlkKCkuZ2V0SWQoKTsNCiAgICAg\nICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy9TeXN0ZW0ub3V0LnBy\naW50bG4obmFtZSk7DQogICAgICAgICAgICAgICAgLy9TeXN0ZW0ub3V0LnBy\naW50bG4ob2lkLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgICAgIGFzc2Vy\ndFRydWUobmFtZS5zdGFydHNXaXRoKCJSZWwiKSk7DQogICAgICAgICAgICB9\nDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGVtLmNsb3NlKCk7DQog\nICAgfQ0KfQ0KDQo=\n","encoding":"base64"}

