{"sha":"e38591f9fb4e831e0a5efd786563ffae0d776af6","node_id":"MDQ6QmxvYjIwNjM2NDplMzg1OTFmOWZiNGU4MzFlMGE1ZWZkNzg2NTYzZmZhZTBkNzc2YWY2","size":16710,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e38591f9fb4e831e0a5efd786563ffae0d776af6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5nZW5lcmF0aW9u\ndHlwZTsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UuUGVyc2lzdGVuY2VFeGNlcHRpb247CmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5RdWVyeTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5jb25mLkpEQkNDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLnNxbC5NeVNRTERpY3Rpb25hcnk7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuT3JhY2xlRGljdGlvbmFyeTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Qb3N0Z3Jlc0Rp\nY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwu\nU1FMU2VydmVyRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3RvcnlTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJTUEk7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNl\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3Qu\nU2luZ2xlRU1GVGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVzdE11bHRpcGxl\nU2NoZW1hTmFtZXMgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7CgogICAg\ncHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAgLy8gTmVlZCB0byBza2lw\nIHRlc3RzIG9uIE15U1FMLCBPcmFjbGUgYW5kIE1TIFNRTCBTZXJ2ZXIKICAg\nICAgICAvLyBTZWUgY3JlYXRlU2NoZW1hcygpIGNvbW1lbnQgYXQgdGhlIGJv\ndHRvbQogICAgICAgIHNldFVuc3VwcG9ydGVkRGF0YWJhc2VzKAogICAgICAg\nICAgICAgICAgTXlTUUxEaWN0aW9uYXJ5LmNsYXNzLAogICAgICAgICAgICAg\nICAgT3JhY2xlRGljdGlvbmFyeS5jbGFzcywKICAgICAgICAgICAgICAgIFNR\nTFNlcnZlckRpY3Rpb25hcnkuY2xhc3MpOwogICAgICAgIGlmIChpc1Rlc3Rz\nRGlzYWJsZWQoKSkgewogICAgICAgICAgICAvLyBnZXRMb2coKS50cmFjZSgi\nVGVzdE11bHRpcGxlU2NoZW1hTmFtZXMoKSAtIFNraXBwaW5nIGFsbCB0ZXN0\ncyAtIE5vdCBzdXBwb3J0ZWQgb24gdGhpcyBEQiIpOwogICAgICAgICAgICBy\nZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBDcmVhdGUgc2NoZW1hcyB3\naGVuIGRhdGFiYXNlIHJlcXVpcmVzIHRoaXMgYW5kIHdlIGFyZSBhYm91dAog\nICAgICAgIC8vIHRvIGV4ZWN1dGUgdGhlIGZpcnN0IHRlc3QuCiAgICAgICAg\naWYgKCJ0ZXN0R2VuZXJhdGVkQVVUTyIuZXF1YWxzKGdldE5hbWUoKSkpIHsK\nICAgICAgICAgICAgY3JlYXRlU2NoZW1hcygpOwogICAgICAgIH0KCiAgICAg\nICAgc2V0VXAoRG9nMS5jbGFzcywgRG9nMi5jbGFzcywgRG9nMy5jbGFzcywg\nRG9nNC5jbGFzcywKICAgICAgICAgICAgRG9nVGFibGUuY2xhc3MsIERvZ1Rh\nYmxlMi5jbGFzcywgRG9nVGFibGUzLmNsYXNzLCBEb2dUYWJsZTQuY2xhc3Mp\nOwoKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2lu\nKCk7CiAgICAgICAgLy8gY2xlYW51cCBkYXRhYmFzZSBmaXJzdAogICAgICAg\nIFF1ZXJ5IHFyeSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3QgZCBmcm9tIERv\nZzEgZCIpOwogICAgICAgIExpc3QgcmVzdWx0ID0gcXJ5LmdldFJlc3VsdExp\nc3QoKTsKCiAgICAgICAgZm9yIChpbnQgaW5kZXggPSAwOyBpbmRleCA8IHJl\nc3VsdC5zaXplKCk7IGluZGV4KyspIHsKICAgICAgICAgICAgRG9nMSBPYmog\nPSAoRG9nMSkgcmVzdWx0LmdldChpbmRleCk7CiAgICAgICAgICAgIGVtLnJl\nbW92ZShPYmopOwogICAgICAgIH0KICAgICAgICBRdWVyeSBxcnkyID0gZW0u\nY3JlYXRlUXVlcnkoInNlbGVjdCBkIGZyb20gRG9nMiBkIik7CiAgICAgICAg\nTGlzdCByZXN1bHQyID0gcXJ5Mi5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAg\nIGZvciAoaW50IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHQyLnNpemUoKTsg\naW5kZXgrKykgewogICAgICAgICAgICBEb2cyIE9iaiA9IChEb2cyKSByZXN1\nbHQyLmdldChpbmRleCk7CiAgICAgICAgICAgIGVtLnJlbW92ZShPYmopOwog\nICAgICAgIH0KICAgICAgICBRdWVyeSBxcnkzID0gZW0uY3JlYXRlUXVlcnko\nInNlbGVjdCBkIGZyb20gRG9nVGFibGUgZCIpOwogICAgICAgIExpc3QgcmVz\ndWx0MyA9IHFyeTMuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBmb3IgKGlu\ndCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0My5zaXplKCk7IGluZGV4Kysp\nIHsKICAgICAgICAgICAgRG9nVGFibGUgT2JqID0gKERvZ1RhYmxlKSByZXN1\nbHQzLmdldChpbmRleCk7CiAgICAgICAgICAgIGVtLnJlbW92ZShPYmopOwog\nICAgICAgIH0KICAgICAgICBRdWVyeSBxcnk0ID0gZW0uY3JlYXRlUXVlcnko\nInNlbGVjdCBkIGZyb20gRG9nVGFibGUyIGQiKTsKICAgICAgICBMaXN0IHJl\nc3VsdDQgPSBxcnk0LmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgZm9yIChp\nbnQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdDQuc2l6ZSgpOyBpbmRleCsr\nKSB7CiAgICAgICAgICAgIERvZ1RhYmxlMiBPYmogPSAoRG9nVGFibGUyKSBy\nZXN1bHQ0LmdldChpbmRleCk7CiAgICAgICAgICAgIGVtLnJlbW92ZShPYmop\nOwogICAgICAgIH0KCiAgICAgICAgUXVlcnkgcXJ5NSA9IGVtLmNyZWF0ZVF1\nZXJ5KCJzZWxlY3QgZCBmcm9tIERvZ1RhYmxlMyBkIik7CiAgICAgICAgTGlz\ndCByZXN1bHQ1ID0gcXJ5NS5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGZv\nciAoaW50IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHQ1LnNpemUoKTsgaW5k\nZXgrKykgewogICAgICAgICAgICBEb2dUYWJsZTMgT2JqID0gKERvZ1RhYmxl\nMykgcmVzdWx0NS5nZXQoaW5kZXgpOwogICAgICAgICAgICBlbS5yZW1vdmUo\nT2JqKTsKICAgICAgICB9CgogICAgICAgIFF1ZXJ5IHFyeTYgPSBlbS5jcmVh\ndGVRdWVyeSgic2VsZWN0IGQgZnJvbSBEb2dUYWJsZTQgZCIpOwogICAgICAg\nIExpc3QgcmVzdWx0NiA9IHFyeTYuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAg\nICBmb3IgKGludCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0Ni5zaXplKCk7\nIGluZGV4KyspIHsKICAgICAgICAgICAgRG9nVGFibGU0IE9iaiA9IChEb2dU\nYWJsZTQpIHJlc3VsdDYuZ2V0KGluZGV4KTsKICAgICAgICAgICAgZW0ucmVt\nb3ZlKE9iaik7CiAgICAgICAgfQoKICAgICAgICBRdWVyeSBxcnk3ID0gZW0u\nY3JlYXRlUXVlcnkoInNlbGVjdCBkIGZyb20gRG9nMyBkIik7CiAgICAgICAg\nTGlzdCByZXN1bHQ3ID0gcXJ5Ny5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAg\nIGZvciAoaW50IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHQ3LnNpemUoKTsg\naW5kZXgrKykgewogICAgICAgICAgICBEb2czIE9iaiA9IChEb2czKSByZXN1\nbHQ3LmdldChpbmRleCk7CiAgICAgICAgICAgIGVtLnJlbW92ZShPYmopOwog\nICAgICAgIH0KCiAgICAgICAgUXVlcnkgcXJ5OCA9IGVtLmNyZWF0ZVF1ZXJ5\nKCJzZWxlY3QgZCBmcm9tIERvZzQgZCIpOwogICAgICAgIExpc3QgcmVzdWx0\nOCA9IHFyeTguZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBmb3IgKGludCBp\nbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0OC5zaXplKCk7IGluZGV4KyspIHsK\nICAgICAgICAgICAgRG9nNCBPYmogPSAoRG9nNCkgcmVzdWx0OC5nZXQoaW5k\nZXgpOwogICAgICAgICAgICBlbS5yZW1vdmUoT2JqKTsKICAgICAgICB9Cgog\nICAgICAgIFF1ZXJ5IGRlbHNjaGVtYTEgPSBlbS5jcmVhdGVOYXRpdmVRdWVy\neSgKICAgICAgICAgICAgICAgICJkZWxldGUgZnJvbSBzY2hlbWExLm9wZW5q\ncGFfc2VxdWVuY2VfdGFibGUiKTsKICAgICAgICBkZWxzY2hlbWExLmV4ZWN1\ndGVVcGRhdGUoKTsKICAgICAgICBRdWVyeSBkZWxzY2hlbWEyID0gZW0uY3Jl\nYXRlTmF0aXZlUXVlcnkoCiAgICAgICAgICAgICAgICAiZGVsZXRlIGZyb20g\nc2NoZW1hMi5vcGVuanBhX3NlcXVlbmNlX3RhYmxlIik7CiAgICAgICAgZGVs\nc2NoZW1hMi5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgUXVlcnkgZGVsZ2Vu\ndGFibGUgPSBlbS5jcmVhdGVOYXRpdmVRdWVyeSgiZGVsZXRlIGZyb20gc2No\nZW1hMS5pZF9nZW4xIik7CiAgICAgICAgZGVsZ2VudGFibGUuZXhlY3V0ZVVw\nZGF0ZSgpOwogICAgICAgIFF1ZXJ5IGRlbGdlbnRhYmxlMiA9IGVtCiAgICAg\nICAgICAgICAgICAuY3JlYXRlTmF0aXZlUXVlcnkoImRlbGV0ZSBmcm9tIHNj\naGVtYTIuaWRfZ2VuMiIpOwogICAgICAgIGRlbGdlbnRhYmxlMi5leGVjdXRl\nVXBkYXRlKCk7CiAgICAgICAgUXVlcnkgZGVsZ2VudGFibGUzID0gZW0KICAg\nICAgICAgICAgICAgIC5jcmVhdGVOYXRpdmVRdWVyeSgiZGVsZXRlIGZyb20g\nc2NoZW1hM2cuaWRfZ2VuMyIpOwogICAgICAgIGRlbGdlbnRhYmxlMy5leGVj\ndXRlVXBkYXRlKCk7CiAgICAgICAgUXVlcnkgZGVsZ2VudGFibGU0ID0gZW0K\nICAgICAgICAgICAgICAgIC5jcmVhdGVOYXRpdmVRdWVyeSgiZGVsZXRlIGZy\nb20gc2NoZW1hNGcuaWRfZ2VuNCIpOwogICAgICAgIGRlbGdlbnRhYmxlNC5l\neGVjdXRlVXBkYXRlKCk7CgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0R2VuZXJhdGVkQVVUTygpIHsKICAgICAgICBFbnRpdHlN\nYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBrZW0gPSBPcGVuSlBBUGVyc2lzdGVu\nY2UuY2FzdChlbSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOwoKICAgICAgICBEb2cxIGRvZzEgPSBuZXcgRG9nMSgpOwogICAgICAg\nIGRvZzEuc2V0TmFtZSgiaGVsbG9Eb2cxIik7CiAgICAgICAgZG9nMS5zZXRQ\ncmljZSgxMjAwMCk7CgogICAgICAgIGVtLnBlcnNpc3QoZG9nMSk7CiAgICAg\nICAgRG9nMSBkb2cxYSA9IG5ldyBEb2cxKCk7CiAgICAgICAgZG9nMWEuc2V0\nTmFtZSgiaGVsbG9Eb2cyIik7CiAgICAgICAgZG9nMWEuc2V0UHJpY2UoMjIw\nMDApOwogICAgICAgIGVtLnBlcnNpc3QoZG9nMWEpOwogICAgICAgIC8vIGFk\nZCBkb2cyCiAgICAgICAgRG9nMiBkb2cyID0gbmV3IERvZzIoKTsKICAgICAg\nICBkb2cyLnNldE5hbWUoImhlbGxvRG9nMyIpOwogICAgICAgIGRvZzIuc2V0\nUHJpY2UoMTUwMDApOwogICAgICAgIGVtLnBlcnNpc3QoZG9nMik7CgogICAg\nICAgIERvZzIgZG9nMmEgPSBuZXcgRG9nMigpOwogICAgICAgIGRvZzJhLnNl\ndE5hbWUoImhlbGxvRG9nNCIpOwogICAgICAgIGRvZzJhLnNldFByaWNlKDI1\nMDAwKTsKICAgICAgICBlbS5wZXJzaXN0KGRvZzJhKTsKICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwoKICAgICAgICBEb2cxIGRvZzF4\nID0gZW0uZmluZChEb2cxLmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQoZG9nMSkp\nOwogICAgICAgIC8vIERlcmJ5IGNhbid0IGd1YXJhbnRlZSB0aGUgb3JkZXIg\nb2YgdGhlIGdlbmVyYXRlZCB2YWx1ZSwgdGhlcmVmb3JlLAogICAgICAgIC8v\nIHdlIGNhbid0IGFzc2VydCB0aGUgaWQgYmFzZWQgb24gdGhlIG9yZGVyLiBG\nb3IgZGIyLCB3ZSBzZWUgdGhlIGlkIAogICAgICAgIC8vIHZhbHVlIGluIHRo\nZSByaWdodCBvcmRlcgogICAgICAgIGFzc2VydFRydWUoZG9nMXguZ2V0SWQy\nKCkgPT0gMSB8fCBkb2cxeC5nZXRJZDIoKSA9PSAyKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoZG9nMXguZ2V0TmFtZSgpLCAiaGVsbG9Eb2cxIik7CiAgICAg\nICAgZG9nMXguc2V0TmFtZSgiRG9nMSIpOwogICAgICAgIGRvZzF4LnNldERv\nbWVzdGljKHRydWUpOwogICAgICAgIERvZzEgZG9nMTEgPSBlbS5maW5kKERv\nZzEuY2xhc3MsIGtlbS5nZXRPYmplY3RJZChkb2cxYSkpOwogICAgICAgIGFz\nc2VydFRydWUoZG9nMTEuZ2V0SWQyKCkgPT0gMSB8fCBkb2cxMS5nZXRJZDIo\nKSA9PSAyKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZG9nMTEuZ2V0TmFtZSgp\nLCAiaGVsbG9Eb2cyIik7CiAgICAgICAgZG9nMTEuc2V0TmFtZSgiRG9nMiIp\nOwogICAgICAgIGRvZzExLnNldERvbWVzdGljKHRydWUpOwogICAgICAgIC8v\nIHVwZGF0ZSBkb2cyCiAgICAgICAgRG9nMiBkb2cyeCA9IGVtLmZpbmQoRG9n\nMi5jbGFzcywga2VtLmdldE9iamVjdElkKGRvZzIpKTsKICAgICAgICBhc3Nl\ncnRUcnVlKGRvZzJ4LmdldElkMigpID09IDEgfHwgZG9nMnguZ2V0SWQyKCkg\nPT0gMik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGRvZzJ4LmdldE5hbWUoKSwg\nImhlbGxvRG9nMyIpOwogICAgICAgIGRvZzJ4LnNldE5hbWUoIkRvZzMiKTsK\nICAgICAgICBkb2cyeC5zZXREb21lc3RpYyh0cnVlKTsKICAgICAgICBEb2cy\nIGRvZzIxID0gZW0uZmluZChEb2cyLmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQo\nZG9nMmEpKTsKICAgICAgICBhc3NlcnRUcnVlKGRvZzIxLmdldElkMigpID09\nIDEgfHwgZG9nMjEuZ2V0SWQyKCkgPT0gMik7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKGRvZzIxLmdldE5hbWUoKSwgImhlbGxvRG9nNCIpOwogICAgICAgIGRv\nZzIxLnNldE5hbWUoIkRvZzQiKTsKICAgICAgICBkb2cyMS5zZXREb21lc3Rp\nYyh0cnVlKTsKCiAgICAgICAgLy8gZ2V0IHRoZSB1cGRhdGUgZG9nIG5hbWUK\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIFF1ZXJ5IHFyeTEgPSBlbS5jcmVhdGVRdWVyeSgic2VsZWN0IGQgZnJvbSBE\nb2cxIGQgb3JkZXIgYnkgZC5uYW1lIik7CiAgICAgICAgTGlzdCByZXN1bHQx\nID0gcXJ5MS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgZm9yIChpbnQgaW5k\nZXggPSAwOyBpbmRleCA8IHJlc3VsdDEuc2l6ZSgpOyBpbmRleCsrKSB7CiAg\nICAgICAgICAgIERvZzEgZG9nNCA9IChEb2cxKSByZXN1bHQxLmdldChpbmRl\neCk7CiAgICAgICAgICAgIGludCBpID0gaW5kZXggKyAxOwogICAgICAgICAg\nICBhc3NlcnRUcnVlKGRvZzQuZ2V0SWQyKCkgPT0gMSB8fCBkb2c0LmdldElk\nMigpID09IDIpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoZG9nNC5nZXRO\nYW1lKCksICJEb2ciICsgaSk7CiAgICAgICAgfQoKICAgICAgICBRdWVyeSBx\ncnkyID0gZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBkIGZyb20gRG9nMiBkIG9y\nZGVyIGJ5IGQubmFtZSIpOwogICAgICAgIExpc3QgcmVzdWx0MiA9IHFyeTIu\nZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBmb3IgKGludCBpbmRleCA9IDA7\nIGluZGV4IDwgcmVzdWx0Mi5zaXplKCk7IGluZGV4KyspIHsKICAgICAgICAg\nICAgRG9nMiBkb2c1ID0gKERvZzIpIHJlc3VsdDIuZ2V0KGluZGV4KTsKICAg\nICAgICAgICAgYXNzZXJ0VHJ1ZShkb2c1LmdldElkMigpID09IDEgfHwgZG9n\nNS5nZXRJZDIoKSA9PSAyKTsKICAgICAgICAgICAgaW50IGogPSBpbmRleCAr\nIDM7CiAgICAgICAgICAgIGFzc2VydEVxdWFscyhkb2c1LmdldE5hbWUoKSwg\nIkRvZyIgKyBqKTsKICAgICAgICB9CgogICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0R2VuZXJhdGVkVEFCTEUoKSB7CiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIga2VtID0gT3BlbkpQQVBl\ncnNpc3RlbmNlLmNhc3QoZW0pOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuYmVnaW4oKTsKCiAgICAgICAgRG9nVGFibGUgZG9nMSA9IG5ldyBEb2dU\nYWJsZSgpOwogICAgICAgIGRvZzEuc2V0TmFtZSgiaGVsbG9Eb2cxIik7CiAg\nICAgICAgZG9nMS5zZXRQcmljZSgxMjAwMCk7CgogICAgICAgIGVtLnBlcnNp\nc3QoZG9nMSk7CiAgICAgICAgRG9nVGFibGUgZG9nMWEgPSBuZXcgRG9nVGFi\nbGUoKTsKICAgICAgICBkb2cxYS5zZXROYW1lKCJoZWxsb0RvZzIiKTsKICAg\nICAgICBkb2cxYS5zZXRQcmljZSgyMjAwMCk7CiAgICAgICAgZW0ucGVyc2lz\ndChkb2cxYSk7CiAgICAgICAgLy8gYWRkIGRvZzIKICAgICAgICBEb2dUYWJs\nZTIgZG9nMiA9IG5ldyBEb2dUYWJsZTIoKTsKICAgICAgICBkb2cyLnNldE5h\nbWUoImhlbGxvRG9nMyIpOwogICAgICAgIGRvZzIuc2V0UHJpY2UoMTUwMDAp\nOwogICAgICAgIGVtLnBlcnNpc3QoZG9nMik7CgogICAgICAgIERvZ1RhYmxl\nMiBkb2cyYSA9IG5ldyBEb2dUYWJsZTIoKTsKICAgICAgICBkb2cyYS5zZXRO\nYW1lKCJoZWxsb0RvZzQiKTsKICAgICAgICBkb2cyYS5zZXRQcmljZSgyNTAw\nMCk7CiAgICAgICAgZW0ucGVyc2lzdChkb2cyYSk7CgogICAgICAgIC8vIGFk\nZCBkb2czCiAgICAgICAgRG9nVGFibGUzIGRvZzMgPSBuZXcgRG9nVGFibGUz\nKCk7CiAgICAgICAgZG9nMy5zZXROYW1lKCJoZWxsb0RvZzUiKTsKICAgICAg\nICBkb2czLnNldFByaWNlKDE1MDAxKTsKICAgICAgICBlbS5wZXJzaXN0KGRv\nZzMpOwoKICAgICAgICBEb2dUYWJsZTMgZG9nM2EgPSBuZXcgRG9nVGFibGUz\nKCk7CiAgICAgICAgZG9nM2Euc2V0TmFtZSgiaGVsbG9Eb2c2Iik7CiAgICAg\nICAgZG9nM2Euc2V0UHJpY2UoMjUwMDEpOwogICAgICAgIGVtLnBlcnNpc3Qo\nZG9nM2EpOwoKICAgICAgICAvLyBhZGQgZG9nNAogICAgICAgIERvZ1RhYmxl\nNCBkb2c0ID0gbmV3IERvZ1RhYmxlNCgpOwogICAgICAgIGRvZzQuc2V0TmFt\nZSgiaGVsbG9Eb2c3Iik7CiAgICAgICAgZG9nNC5zZXRQcmljZSgxNTAwMik7\nCiAgICAgICAgZW0ucGVyc2lzdChkb2c0KTsKCiAgICAgICAgRG9nVGFibGU0\nIGRvZzRhID0gbmV3IERvZ1RhYmxlNCgpOwogICAgICAgIGRvZzRhLnNldE5h\nbWUoImhlbGxvRG9nOCIpOwogICAgICAgIGRvZzRhLnNldFByaWNlKDI1MDAy\nKTsKICAgICAgICBlbS5wZXJzaXN0KGRvZzRhKTsKICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLmNvbW1pdCgpOyAgICAgICAgCiAgICAgICAgCiAgICAg\nICAgRG9nVGFibGUgZG9nMXggPSBlbS5maW5kKERvZ1RhYmxlLmNsYXNzLCBr\nZW0uZ2V0T2JqZWN0SWQoZG9nMSkpOwogICAgICAgIGFzc2VydFRydWUoZG9n\nMXguZ2V0SWQyKCkgPT0gMjAgfHwgZG9nMXguZ2V0SWQyKCkgPT0gMjEpOwog\nICAgICAgIGFzc2VydEVxdWFscyhkb2cxeC5nZXROYW1lKCksICJoZWxsb0Rv\nZzEiKTsKICAgICAgICBkb2cxeC5zZXROYW1lKCJEb2cxIik7CiAgICAgICAg\nZG9nMXguc2V0RG9tZXN0aWModHJ1ZSk7CiAgICAgICAgRG9nVGFibGUgZG9n\nMTEgPSBlbS5maW5kKERvZ1RhYmxlLmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQo\nZG9nMWEpKTsKICAgICAgICBhc3NlcnRUcnVlKGRvZzExLmdldElkMigpID09\nIDIwIHx8IGRvZzExLmdldElkMigpID09IDIxKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoZG9nMTEuZ2V0TmFtZSgpLCAiaGVsbG9Eb2cyIik7CiAgICAgICAg\nZG9nMTEuc2V0TmFtZSgiRG9nMiIpOwogICAgICAgIGRvZzExLnNldERvbWVz\ndGljKHRydWUpOwogICAgICAgIAogICAgICAgIC8vIHVwZGF0ZSBkb2cyCiAg\nICAgICAgRG9nVGFibGUyIGRvZzJ4ID0gZW0uZmluZChEb2dUYWJsZTIuY2xh\nc3MsIGtlbS5nZXRPYmplY3RJZChkb2cyKSk7CiAgICAgICAgYXNzZXJ0VHJ1\nZShkb2cyeC5nZXRJZDIoKSA9PSAxMDAgfHwgZG9nMnguZ2V0SWQyKCkgPT0g\nMTAxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZG9nMnguZ2V0TmFtZSgpLCAi\naGVsbG9Eb2czIik7CiAgICAgICAgZG9nMnguc2V0TmFtZSgiRG9nMyIpOwog\nICAgICAgIGRvZzJ4LnNldERvbWVzdGljKHRydWUpOwogICAgICAgIERvZ1Rh\nYmxlMiBkb2cyMSA9IGVtLmZpbmQoRG9nVGFibGUyLmNsYXNzLCBrZW0uZ2V0\nT2JqZWN0SWQoZG9nMmEpKTsKICAgICAgICBhc3NlcnRUcnVlKGRvZzIxLmdl\ndElkMigpID09IDEwMCB8fCBkb2cyMS5nZXRJZDIoKSA9PSAxMDEpOwogICAg\nICAgIGFzc2VydEVxdWFscyhkb2cyMS5nZXROYW1lKCksICJoZWxsb0RvZzQi\nKTsKICAgICAgICBkb2cyMS5zZXROYW1lKCJEb2c0Iik7CiAgICAgICAgZG9n\nMjEuc2V0RG9tZXN0aWModHJ1ZSk7CgogICAgICAgIC8vIHVwZGF0ZSBkb2cz\nCiAgICAgICAgRG9nVGFibGUzIGRvZzN4ID0gZW0uZmluZChEb2dUYWJsZTMu\nY2xhc3MsIGtlbS5nZXRPYmplY3RJZChkb2czKSk7CiAgICAgICAgYXNzZXJ0\nVHJ1ZShkb2czeC5nZXRJZDIoKSA9PSAxMDAgfHwgZG9nM3guZ2V0SWQyKCkg\nPT0gMTAxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZG9nM3guZ2V0TmFtZSgp\nLCAiaGVsbG9Eb2c1Iik7CiAgICAgICAgZG9nM3guc2V0TmFtZSgiRG9nNSIp\nOwogICAgICAgIGRvZzN4LnNldERvbWVzdGljKHRydWUpOwogICAgICAgIERv\nZ1RhYmxlMyBkb2czMSA9IGVtLmZpbmQoRG9nVGFibGUzLmNsYXNzLCBrZW0u\nZ2V0T2JqZWN0SWQoZG9nM2EpKTsKICAgICAgICBhc3NlcnRUcnVlKGRvZzMx\nLmdldElkMigpID09IDEwMCB8fCBkb2czMS5nZXRJZDIoKSA9PSAxMDEpOwog\nICAgICAgIGFzc2VydEVxdWFscyhkb2czMS5nZXROYW1lKCksICJoZWxsb0Rv\nZzYiKTsKICAgICAgICBkb2czMS5zZXROYW1lKCJEb2c2Iik7CiAgICAgICAg\nZG9nMzEuc2V0RG9tZXN0aWModHJ1ZSk7CgogICAgICAgIC8vIHVwZGF0ZSBk\nb2c0CiAgICAgICAgRG9nVGFibGU0IGRvZzR4ID0gZW0uZmluZChEb2dUYWJs\nZTQuY2xhc3MsIGtlbS5nZXRPYmplY3RJZChkb2c0KSk7CiAgICAgICAgYXNz\nZXJ0VHJ1ZShkb2c0eC5nZXRJZDIoKSA9PSAxMDAgfHwgZG9nNHguZ2V0SWQy\nKCkgPT0gMTAxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZG9nNHguZ2V0TmFt\nZSgpLCAiaGVsbG9Eb2c3Iik7CiAgICAgICAgZG9nNHguc2V0TmFtZSgiRG9n\nNyIpOwogICAgICAgIGRvZzR4LnNldERvbWVzdGljKHRydWUpOwogICAgICAg\nIERvZ1RhYmxlNCBkb2c0MSA9IGVtLmZpbmQoRG9nVGFibGU0LmNsYXNzLCBr\nZW0uZ2V0T2JqZWN0SWQoZG9nNGEpKTsKICAgICAgICBhc3NlcnRUcnVlKGRv\nZzQxLmdldElkMigpID09IDEwMCB8fCBkb2c0MS5nZXRJZDIoKSA9PSAxMDEp\nOwogICAgICAgIGFzc2VydEVxdWFscyhkb2c0MS5nZXROYW1lKCksICJoZWxs\nb0RvZzgiKTsKICAgICAgICBkb2c0MS5zZXROYW1lKCJEb2c4Iik7CiAgICAg\nICAgZG9nNDEuc2V0RG9tZXN0aWModHJ1ZSk7CgogICAgICAgIC8vIGdldCB0\naGUgdXBkYXRlIGRvZyBuYW1lCgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuYmVnaW4oKTsKICAgICAgICBRdWVyeSBxcnkxID0gZW0uY3JlYXRlUXVl\ncnkoInNlbGVjdCBkIGZyb20gRG9nVGFibGUgZCBvcmRlciBieSBkLm5hbWUi\nKTsKICAgICAgICBMaXN0IHJlc3VsdDEgPSBxcnkxLmdldFJlc3VsdExpc3Qo\nKTsKICAgICAgICBmb3IgKGludCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0\nMS5zaXplKCk7IGluZGV4KyspIHsKICAgICAgICAgICAgRG9nVGFibGUgZG9n\nMXh4ID0gKERvZ1RhYmxlKSByZXN1bHQxLmdldChpbmRleCk7CiAgICAgICAg\nICAgIGFzc2VydFRydWUoZG9nMXh4LmdldElkMigpID09IDIwIHx8IGRvZzF4\neC5nZXRJZDIoKSA9PSAyMSk7CiAgICAgICAgICAgIGludCBqID0gaW5kZXgg\nKyAxOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoZG9nMXh4LmdldE5hbWUo\nKSwgIkRvZyIgKyBqKTsKCiAgICAgICAgfQoKICAgICAgICBRdWVyeSBxcnky\nID0gZW0KICAgICAgICAgICAgICAgIC5jcmVhdGVRdWVyeSgic2VsZWN0IGQg\nZnJvbSBEb2dUYWJsZTIgZCBvcmRlciBieSBkLm5hbWUiKTsKICAgICAgICBM\naXN0IHJlc3VsdDIgPSBxcnkyLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAg\nZm9yIChpbnQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdDIuc2l6ZSgpOyBp\nbmRleCsrKSB7CiAgICAgICAgICAgIERvZ1RhYmxlMiBkb2cyeHggPSAoRG9n\nVGFibGUyKSByZXN1bHQyLmdldChpbmRleCk7CiAgICAgICAgICAgIGFzc2Vy\ndFRydWUoZG9nMnh4LmdldElkMigpID09IDEwMCB8fCBkb2cyeHguZ2V0SWQy\nKCkgPT0gMTAxKTsKICAgICAgICAgICAgaW50IGogPSBpbmRleCArIDM7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscyhkb2cyeHguZ2V0TmFtZSgpLCAiRG9n\nIiArIGopOwogICAgICAgIH0KCiAgICAgICAgUXVlcnkgcXJ5MyA9IGVtCiAg\nICAgICAgICAgICAgICAuY3JlYXRlUXVlcnkoInNlbGVjdCBkIGZyb20gRG9n\nVGFibGUzIGQgb3JkZXIgYnkgZC5uYW1lIik7CiAgICAgICAgTGlzdCByZXN1\nbHQzID0gcXJ5My5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGZvciAoaW50\nIGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHQzLnNpemUoKTsgaW5kZXgrKykg\newogICAgICAgICAgICBEb2dUYWJsZTMgZG9nM3h4ID0gKERvZ1RhYmxlMykg\ncmVzdWx0My5nZXQoaW5kZXgpOwogICAgICAgICAgICBhc3NlcnRUcnVlKGRv\nZzN4eC5nZXRJZDIoKSA9PSAxMDAgfHwgZG9nM3h4LmdldElkMigpID09IDEw\nMSk7CiAgICAgICAgICAgIGludCBqID0gaW5kZXggKyA1OwogICAgICAgICAg\nICBhc3NlcnRFcXVhbHMoZG9nM3h4LmdldE5hbWUoKSwgIkRvZyIgKyBqKTsK\nICAgICAgICB9CgogICAgICAgIFF1ZXJ5IHFyeTQgPSBlbQogICAgICAgICAg\nICAgICAgLmNyZWF0ZVF1ZXJ5KCJzZWxlY3QgZCBmcm9tIERvZ1RhYmxlNCBk\nIG9yZGVyIGJ5IGQubmFtZSIpOwogICAgICAgIExpc3QgcmVzdWx0NCA9IHFy\neTQuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBmb3IgKGludCBpbmRleCA9\nIDA7IGluZGV4IDwgcmVzdWx0NC5zaXplKCk7IGluZGV4KyspIHsKICAgICAg\nICAgICAgRG9nVGFibGU0IGRvZzR4eCA9IChEb2dUYWJsZTQpIHJlc3VsdDQu\nZ2V0KGluZGV4KTsKICAgICAgICAgICAgYXNzZXJ0VHJ1ZShkb2c0eHguZ2V0\nSWQyKCkgPT0gMTAwIHx8IGRvZzR4eC5nZXRJZDIoKSA9PSAxMDEpOwogICAg\nICAgICAgICBpbnQgaiA9IGluZGV4ICsgNzsKICAgICAgICAgICAgYXNzZXJ0\nRXF1YWxzKGRvZzR4eC5nZXROYW1lKCksICJEb2ciICsgaik7CiAgICAgICAg\nfQoKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAg\nICAgIGVtLmNsb3NlKCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3RHZW5lcmF0ZWRJREVOVElUWSgpIHsKICAgICAgICBFbnRpdHlNYW5hZ2Vy\nIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBPcGVu\nSlBBRW50aXR5TWFuYWdlciBrZW0gPSBPcGVuSlBBUGVyc2lzdGVuY2UuY2Fz\ndChlbSk7CgogICAgICAgIC8vIERvZzMgaXMgYSBzY2hlbWEgZG9nLgogICAg\nICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBEb2cz\nIGRvZzMwID0gbmV3IERvZzMoKTsKICAgICAgICBkb2czMC5zZXROYW1lKCJE\nb2czMCIpOwogICAgICAgIGVtLnBlcnNpc3QoZG9nMzApOwogICAgICAgIAog\nICAgICAgIERvZzMgZG9nMzEgPSBuZXcgRG9nMygpOwogICAgICAgIGRvZzMx\nLnNldE5hbWUoIkRvZzMxIik7CiAgICAgICAgZW0ucGVyc2lzdChkb2czMSk7\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAg\nICAgLy8gV2UgY2FuJ3QgYXNzdW1lIGdlbmVyYXRlZCB2YWx1ZXMgc3RhcnQg\nd2l0aCAxIGFzCiAgICAgICAgLy8gdGhlIHRhYmxlIG1pZ2h0IGhhdmUgYWxy\nZWFkeSBleGlzdGVkIGFuZCBoYWQgc29tZSByb3dzLgogICAgICAgIERvZzMg\nZG9nMzB4ID0gZW0uZmluZChEb2czLmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQo\nZG9nMzApKTsKICAgICAgICBEb2czIGRvZzMxeCA9IGVtLmZpbmQoRG9nMy5j\nbGFzcywga2VtLmdldE9iamVjdElkKGRvZzMxKSk7CiAgICAgICAgYXNzZXJ0\nVHJ1ZSgoZG9nMzB4LmdldElkKCkgKyAxID09IGRvZzMxeC5nZXRJZCgpKSB8\nfAogICAgICAgICAgICAoZG9nMzB4LmdldElkKCkgPT0gZG9nMzF4LmdldElk\nKCkgKyAxKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGRvZzMweC5nZXROYW1l\nKCksICJEb2czMCIpOwoKICAgICAgICAvLyBEb2c0IGlzIGEgbm9uLXNjaGVt\nYSBkb2cuCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwog\nICAgICAgIERvZzQgZG9nNDAgPSBuZXcgRG9nNCgpOwogICAgICAgIGRvZzQw\nLnNldE5hbWUoIkRvZzQwIik7CiAgICAgICAgZW0ucGVyc2lzdChkb2c0MCk7\nCiAgICAgICAgCiAgICAgICAgRG9nNCBkb2c0MSA9IG5ldyBEb2c0KCk7CiAg\nICAgICAgZG9nNDEuc2V0TmFtZSgiRG9nNDEiKTsKICAgICAgICBlbS5wZXJz\naXN0KGRvZzQxKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOwoKICAgICAgICBEb2c0IGRvZzQweCA9IGVtLmZpbmQoRG9nNC5jbGFz\ncywga2VtLmdldE9iamVjdElkKGRvZzQwKSk7CiAgICAgICAgRG9nNCBkb2c0\nMXggPSBlbS5maW5kKERvZzQuY2xhc3MsIGtlbS5nZXRPYmplY3RJZChkb2c0\nMSkpOwogICAgICAgIGFzc2VydFRydWUoKGRvZzQweC5nZXRJZCgpICsgMSA9\nPSBkb2c0MXguZ2V0SWQoKSkgfHwKICAgICAgICAgICAgKGRvZzQweC5nZXRJ\nZCgpID09IGRvZzQxeC5nZXRJZCgpICsgMSkpOwogICAgICAgIGFzc2VydEVx\ndWFscyhkb2c0MHguZ2V0TmFtZSgpLCAiRG9nNDAiKTsKCiAgICAgICAgZW0u\nY2xvc2UoKTsKICAgIH0KCiAgICAvKioKICAgICAqIENyZWF0ZSBuZWNlc3Nh\ncnkgc2NoZW1hcyBpZiBydW5uaW5nIG9uIFBvc3RncmVTUUwgYXMgaXQgZG9l\ncwogICAgICogbm90IGNyZWF0ZSB0aGVtIGF1dG9tYXRpY2FsbHkuCiAgICAg\nKiBPcmFjbGUsIE15U1FMIGFuZCBNU1NRTCBhbHNvIGRvbid0IGNyZWF0ZSBz\nY2hlbWFzIGF1dG9tYXRpY2FsbHkgYnV0CiAgICAgKiB3ZSBnaXZlIHVwIGFz\nIHRoZXkgdHJlYXQgc2NoZW1hcyBpbiBzcGVjaWFsIHdheXMuCiAgICAgKi8K\nICAgIHByaXZhdGUgdm9pZCBjcmVhdGVTY2hlbWFzKCkgewogICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSB0ZW1wRW1mID0gY3JlYXRl\nRU1GKCk7CiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3QgPSAoKEpEQkNDb25m\naWd1cmF0aW9uKSB0ZW1wRW1mLmdldENvbmZpZ3VyYXRpb24oKSkuZ2V0REJE\naWN0aW9uYXJ5SW5zdGFuY2UoKTsKICAgICAgICAKICAgICAgICBpZiAoIShk\naWN0IGluc3RhbmNlb2YgUG9zdGdyZXNEaWN0aW9uYXJ5KSkgewogICAgICAg\nICAgICBjbG9zZUVNRih0ZW1wRW1mKTsKICAgICAgICAgICAgcmV0dXJuOwog\nICAgICAgIH0KICAgICAgICAKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nclNQSSBlbSA9IHRlbXBFbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAg\nICAgIFN0cmluZ1tdIHNjaGVtYXMgPQogICAgICAgICAgICB7ICJTQ0hFTUEx\nIiwgIlNDSEVNQTIiLCAiU0NIRU1BMyIsICJTQ0hFTUEzRyIsICJTQ0hFTUE0\nRyIgfTsKICAgICAgICBmb3IgKFN0cmluZyBzY2hlbWEgOiBzY2hlbWFzKSB7\nCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgICAgICAgICBRdWVyeSBxID0g\nZW0uY3JlYXRlTmF0aXZlUXVlcnkoImNyZWF0ZSBzY2hlbWEgIiArIHNjaGVt\nYSk7CiAgICAgICAgICAgICAgICBxLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAg\nICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAg\nICAgICAgIH0gY2F0Y2ggKFBlcnNpc3RlbmNlRXhjZXB0aW9uIGUpIHsgICAg\nICAgICAgCiAgICAgICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLnJv\nbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY2xv\nc2VFTUYodGVtcEVtZik7CiAgICB9Cgp9IC8vIGVuZCBvZiBUZXN0TXVsdGlw\nbGVTY2hlbWFOYW1lcwoK\n","encoding":"base64"}

