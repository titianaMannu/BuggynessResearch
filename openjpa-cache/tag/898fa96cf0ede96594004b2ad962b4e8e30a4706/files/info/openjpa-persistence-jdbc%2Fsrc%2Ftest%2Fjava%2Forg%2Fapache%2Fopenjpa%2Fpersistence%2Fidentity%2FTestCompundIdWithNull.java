{"sha":"cbbaba739785ad064e992ca66206153b1798f1a4","node_id":"MDQ6QmxvYjIwNjM2NDpjYmJhYmE3Mzk3ODVhZDA2NGU5OTJjYTY2MjA2MTUzYjE3OThmMWE0","size":5913,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cbbaba739785ad064e992ca66206153b1798f1a4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuaWRlbnRp\ndHk7CgppbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEu\ndXRpbC5MaXN0OwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1h\nbmFnZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRl\ncmJ5RGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBUGVyc2lzdGVuY2U7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5BbGxv\nd0ZhaWx1cmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UudGVzdC5EYXRhYmFzZVBsYXRmb3JtOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU2luZ2xlRU1GVGVzdENhc2U7Cgov\nKioKICogVGVzdCB0aGF0IGNvbXBvdW5kIGlkZW50aXR5IGNhbiBjb25zaXN0\ncyBvZiBudWxsIGNvbXBvbmVudCBjb2x1bW4gdmFsdWUuCiAqIAogKiBUaGlz\nIHRlc3QgdXNlcyBwcmUtZGVmaW5lZCBkYXRhYmFzZSB0YWJsZXMgY3JlYXRl\nZCBieSBEREwgZXhwbGljaXRseS4KICogVGhlIHRhYmxlcyBoYXZlIDxlbT5s\nb2dpY2FsPC9lbT4gY29tcG91bmQgcHJpbWFyeSBrZXlzIGluIHRoZSBzZW5z\nZSBub24tbnVsbAogKiBjb25zdHJhaW50IGlzIDxlbT5ub3Q8L2VtPiBzZXQg\nb24gdGhlIHByaW1hcnkgY29sdW1ucy4gVGhlIHRhYmxlcyBhcmUgcG9wdWxh\ndGVkIAogKiB3aXRoIFNRTCB0byBjb250YWluIG51bGwgdmFsdWVzIGluIHRo\nZXNlIGNvbHVtbnMuIAogKiBUaGUgdGVzdCB2ZXJpZmllcyB0aGF0IHJlc3Vs\ndHMgYXJlIHJldHVybmVkIGFzIHBhciBleHBlY3RhdGlvbi4KICogRm9yIG1v\ncmUgZGV0YWlscywgcmVmZXIKICogPEEgaHJlZj0iaHR0cHM6Ly9pc3N1ZXMu\nYXBhY2hlLm9yZy9qaXJhL2Jyb3dzZS9PUEVOSlBBLTEzOTciPkpJUkEtMTM5\nNzwvQT4KICogCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcgogKiBAYXV0aG9y\nIE1pY2hhZWwgVm9yYnVyZ2VyCiAqLwoKQERhdGFiYXNlUGxhdGZvcm0oIm9y\nZy5hcGFjaGUuZGVyYnkuamRiYy5FbWJlZGRlZERyaXZlciIpCnB1YmxpYyBj\nbGFzcyBUZXN0Q29tcHVuZElkV2l0aE51bGwgZXh0ZW5kcyBTaW5nbGVFTUZU\nZXN0Q2FzZSB7CiAgICBwcml2YXRlIHN0YXRpYyBib29sZWFuIHRhYmxlc0Ny\nZWF0ZWQgPSBmYWxzZTsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93\ncyBFeGNlcHRpb24gewogICAgICAgIC8vIE9ubHkgcnVuIG9uIERlcmJ5IGJl\nY2F1c2Ugd2UgdXNlIERETCBzcGVjaWZpYyB0byBEZXJieQogICAgICAgIHNl\ndFN1cHBvcnRlZERhdGFiYXNlcygKICAgICAgICAgICAgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLkRlcmJ5RGljdGlvbmFyeS5jbGFzcyk7CiAgICAg\nICAgaWYgKGlzVGVzdHNEaXNhYmxlZCgpKSB7CiAgICAgICAgICAgIHJldHVy\nbjsKICAgICAgICB9CgogICAgICAgIC8vIGRvIG5vdCB1c2UgQ0xFQVJfVEFC\nTEVTIG9yIERST1BfVEFCTEVTCiAgICAgICAgc3VwZXIuc2V0VXAoU2ltcGxl\nQ29tcG91bmRJZFRlc3RFbnRpdHkuY2xhc3MsIENvbXBsZXhDb21wb3VuZElk\nVGVzdEVudGl0eS5jbGFzcywgVHlwZUVudGl0eS5jbGFzcyk7CiAgICAgICAg\naWYgKCF0YWJsZXNDcmVhdGVkKSB7CiAgICAgICAgICAgIGNyZWF0ZVRhYmxl\ncyhlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpKTsKICAgICAgICAgICAgdGFi\nbGVzQ3JlYXRlZCA9IHRydWU7CiAgICAgICAgfQogICAgfQoJCiAgICBwdWJs\naWMgdm9pZCB0ZXN0U2ltcGxlQ29tcG91bmRJZFRlc3RFbnRpdHkoKSB0aHJv\nd3MgRXhjZXB0aW9uICB7CgkJCUVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3Jl\nYXRlRW50aXR5TWFuYWdlcigpOwoJCQlTdHJpbmcganBxbCA9ICJTRUxFQ1Qg\nbyBGUk9NIFNpbXBsZUNvbXBvdW5kSWRUZXN0RW50aXR5IG8gT1JERVIgQlkg\nby5zZWNvbmRJZCI7CgkJCUxpc3Q8U2ltcGxlQ29tcG91bmRJZFRlc3RFbnRp\ndHk+IGxpc3QgPSBlbS5jcmVhdGVRdWVyeShqcHFsLFNpbXBsZUNvbXBvdW5k\nSWRUZXN0RW50aXR5LmNsYXNzKQoJCQkgICAgLmdldFJlc3VsdExpc3QoKTsK\nCQkJYXNzZXJ0RXF1YWxzKDIsIGxpc3Quc2l6ZSgpKTsKCQkJYXNzZXJ0RXF1\nYWxzKExvbmcudmFsdWVPZigxMjMpLCBsaXN0LmdldCgwKS5nZXRTZWNvbmRJ\nZCgpKTsKCQkJCgkJCVNpbXBsZUNvbXBvdW5kSWRUZXN0RW50aXR5IHNlY29u\nZFJlc3VsdCA9IGxpc3QuZ2V0KDEpOwoJCQlhc3NlcnROb3ROdWxsKCJCVUcg\nKEpJUkEtMTM5NykhIFJlc3VsdCBsaXN0IGNvbnRhaW5zIG51bGwgaW4gc2Vj\nb25kIGVsZW1lbnQiLCBzZWNvbmRSZXN1bHQpOwoJCQlhc3NlcnROdWxsKHNl\nY29uZFJlc3VsdC5nZXRTZWNvbmRJZCgpKTsKCQkJZW0uY2xvc2UoKTsKCX0K\nCgkKCXB1YmxpYyB2b2lkIHRlc3RDb21wbGV4Q29tcG91bmRJZFRlc3RFbnRp\ndHkoKSB0aHJvd3MgRXhjZXB0aW9uICB7CgkJCUVudGl0eU1hbmFnZXIgZW0g\nPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwoJCQlTdHJpbmcganBxbCA9\nICJTRUxFQ1QgbyBGUk9NIENvbXBsZXhDb21wb3VuZElkVGVzdEVudGl0eSBv\nIE9SREVSIEJZIG8udHlwZSI7CgkJCUxpc3Q8Q29tcGxleENvbXBvdW5kSWRU\nZXN0RW50aXR5PiBsaXN0ID0gZW0uY3JlYXRlUXVlcnkoanBxbCxDb21wbGV4\nQ29tcG91bmRJZFRlc3RFbnRpdHkuY2xhc3MpCgkJCSAgICAuZ2V0UmVzdWx0\nTGlzdCgpOwoJCQlhc3NlcnRFcXVhbHMoMiwgbGlzdC5zaXplKCkpOwoJCQlD\nb21wbGV4Q29tcG91bmRJZFRlc3RFbnRpdHkgc2Vjb25kUmVzdWx0ID0gbGlz\ndC5nZXQoMSk7CgkJCWFzc2VydE5vdE51bGwoIlJlc3VsdCBsaXN0IGNvbnRh\naW5zIG51bGwgaW4gc2Vjb25kIGVsZW1lbnQiLCBzZWNvbmRSZXN1bHQpOwoJ\nCQlhc3NlcnROdWxsKCJSZXN1bHQgbGlzdCdzIHNlY29uZCByZWNvcmQgc2Vj\nb25kSWQgZmllbGQgd2FzIG5vdCBudWxsIiwgc2Vjb25kUmVzdWx0LmdldFR5\ncGUoKSk7CgkJCWVtLmNsb3NlKCk7Cgl9CgkKCS8qKgoJICogQ3JlYXRlIHRh\nYmxlcyB3aXRoIGxvZ2ljYWwgY29tcG91bmQga2V5cyB3aXRob3V0IG5vbi1u\ndWxsIGNvbnN0cmFpbnQuCgkgKiBQb3B1bGF0ZSB0aGVtIHdpdGggbnVsbCB2\nYWx1ZXMgaW4gc29tZSBvZiB0aGUgY29sdW1ucy4KCSAqLwogICAgcHJpdmF0\nZSB2b2lkIGNyZWF0ZVRhYmxlcyhFbnRpdHlNYW5hZ2VyIGVtKSB0aHJvd3Mg\nRXhjZXB0aW9uIHsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2lu\nKCk7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIga2VtID0gT3BlbkpQ\nQVBlcnNpc3RlbmNlLmNhc3QoZW0pOwoKICAgICAgICBDb25uZWN0aW9uIGNv\nbm4gPSAoQ29ubmVjdGlvbikga2VtLmdldENvbm5lY3Rpb24oKTsKICAgICAg\nICAvLyBOT1RFIHRoYXQgJ2xvZ2ljYWxseScgdGVzdF9zaW1wbGUgaGFzIGEg\nIiwgQ09OU1RSQUlOVCB0ZXN0X3NpbXBsZV9wayBQUklNQVJZIEtFWSAoZmly\nc3RJZCwgc2Vjb25kSWQpIiwKICAgICAgICAvLyBidXQgYXQgbGVhc3QgRGVy\nYnkgZG9lc24ndCBwZXJtaXQgTlVMTCB0aGVuLi4gaW4gb3VyIHJlYWwtd29y\nbGQgdW5kZXJseWluZyBzY2hlbWEgdGhhdCBsZWFkcwogICAgICAgIC8vIHRv\nIHRoaXMgdGhlcmUgYXJlICpOTyogUFJJTUFSWSBLRVkgb24gYW55IHRhYmxl\ncywgYnV0IHRoZXJlIGlzIGEgbG9naWNhbCBtb2RlbCBleHByZXNzZWQKICAg\nICAgICAvLyBlbHNld2hlcmUgc3RhdGluZyB0aGF0IHRob3NlIHR3byBjb2x1\nbW5zIHVuaXF1ZWx5IGlkZW50aWZ5IGEgcm93LgogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIGNvbm4uY3JlYXRlU3RhdGVtZW50KCkuZXhlY3V0ZSgiRFJP\nUCBUQUJMRSB0ZXN0X3R5cGUiKTsKICAgICAgICAgICAgY29ubi5jcmVhdGVT\ndGF0ZW1lbnQoKS5leGVjdXRlKCJEUk9QIFRBQkxFIHRlc3Rfc2ltcGxlIik7\nCiAgICAgICAgICAgIGNvbm4uY3JlYXRlU3RhdGVtZW50KCkuZXhlY3V0ZSgi\nRFJPUCBUQUJMRSB0ZXN0X2NvbXBsZXgiKTsKICAgICAgICB9IGNhdGNoIChF\neGNlcHRpb24gZSkgewogICAgICAgIH0KICAgICAgICAKICAgICAgICBjb25u\nLmNyZWF0ZVN0YXRlbWVudCgpLmV4ZWN1dGUoIkNSRUFURSBUQUJMRSB0ZXN0\nX3NpbXBsZShmaXJzdElkIE5VTUVSSUMsIHNlY29uZElkIE5VTUVSSUMpIik7\nCiAgICAgICAgY29ubi5jcmVhdGVTdGF0ZW1lbnQoKS5leGVjdXRlKCJJTlNF\nUlQgSU5UTyB0ZXN0X3NpbXBsZShmaXJzdElkLCBzZWNvbmRJZCkgVkFMVUVT\nICgxLCAxMjMpIik7CiAgICAgICAgY29ubi5jcmVhdGVTdGF0ZW1lbnQoKS5l\neGVjdXRlKCJJTlNFUlQgSU5UTyB0ZXN0X3NpbXBsZShmaXJzdElkLCBzZWNv\nbmRJZCkgVkFMVUVTICgxLCBOVUxMKSIpOwoKICAgICAgICBjb25uLmNyZWF0\nZVN0YXRlbWVudCgpLmV4ZWN1dGUoIkNSRUFURSBUQUJMRSB0ZXN0X3R5cGUo\naWQgTlVNRVJJQyBDT05TVFJBSU5UIHRlc3RfdHlwZV9wayBQUklNQVJZIEtF\nWSwgIiArCiAgICAgICAgICAgICAgICAiY29kZSBWQVJDSEFSKDE2KSkiKTsK\nICAgICAgICBjb25uLmNyZWF0ZVN0YXRlbWVudCgpLmV4ZWN1dGUoIklOU0VS\nVCBJTlRPIHRlc3RfdHlwZShpZCwgY29kZSkgVkFMVUVTICg5ODcsICdBQkMn\nKSIpOwoKICAgICAgICBjb25uLmNyZWF0ZVN0YXRlbWVudCgpLmV4ZWN1dGUo\nIkNSRUFURSBUQUJMRSB0ZXN0X2NvbXBsZXgoaWQgTlVNRVJJQywgdHlwZV9p\nZCBOVU1FUklDKSIpOwogICAgICAgIGNvbm4uY3JlYXRlU3RhdGVtZW50KCku\nZXhlY3V0ZSgiSU5TRVJUIElOVE8gdGVzdF9jb21wbGV4KGlkLCB0eXBlX2lk\nKSBWQUxVRVMgKDEsIDk4NykiKTsKICAgICAgICBjb25uLmNyZWF0ZVN0YXRl\nbWVudCgpLmV4ZWN1dGUoIklOU0VSVCBJTlRPIHRlc3RfY29tcGxleChpZCwg\ndHlwZV9pZCkgVkFMVUVTICgxLCBOVUxMKSIpOwoKICAgICAgICBjb25uLmNs\nb3NlKCk7CiAgICAgICAgCiAgICAgICAgZW0uZmx1c2goKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3Nl\nKCk7CiAgICB9CgkgICAgCn0K\n","encoding":"base64"}

