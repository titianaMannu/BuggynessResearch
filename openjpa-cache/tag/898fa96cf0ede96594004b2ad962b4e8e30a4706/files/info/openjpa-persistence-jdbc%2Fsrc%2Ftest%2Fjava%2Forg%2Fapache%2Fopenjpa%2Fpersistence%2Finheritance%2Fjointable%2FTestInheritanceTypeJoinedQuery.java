{"sha":"e844187734e3a04e34059cd194f120123426b541","node_id":"MDQ6QmxvYjIwNjM2NDplODQ0MTg3NzM0ZTNhMDRlMzQwNTljZDE5NGYxMjAxMjM0MjZiNTQx","size":6885,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e844187734e3a04e34059cd194f120123426b541","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuaW5oZXJpdGFuY2Uuam9pbnRhYmxlOw0KDQppbXBvcnQg\namF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5F\nbnRpdHlNYW5hZ2VyOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5\nOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRl\nc3QuU1FMTGlzdGVuZXJUZXN0Q2FzZTsNCg0KDQpwdWJsaWMgY2xhc3MgVGVz\ndEluaGVyaXRhbmNlVHlwZUpvaW5lZFF1ZXJ5ICBleHRlbmRzIFNRTExpc3Rl\nbmVyVGVzdENhc2Ugew0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7DQog\nICAgICAgIHNldFVwKENvbnRyYWN0b3IuY2xhc3MsIEVtcGxveWVlLmNsYXNz\nLCBEZXBhcnRtZW50LmNsYXNzLCBQZXJzb24uY2xhc3MsDQogICAgICAgICAg\nICBDTEVBUl9UQUJMRVMpOw0KICAgICAgICBwb3B1bGF0ZSgpOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHBvcHVsYXRlKCkgew0KICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAg\nICAgICAgDQogICAgICAgIERlcGFydG1lbnQgZCA9IG5ldyBEZXBhcnRtZW50\nKCJJVCIpOw0KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDM7IGkrKykg\new0KICAgICAgICAgICAgQ29udHJhY3RvciBjID0gbmV3IENvbnRyYWN0b3Io\nImN0ciIgKyBpKTsNCiAgICAgICAgICAgIGMuc2V0RGVwdChkKTsNCiAgICAg\nICAgICAgIGVtLnBlcnNpc3QoYyk7DQogICAgICAgIH0NCiAgICAgICAgZW0u\ncGVyc2lzdChkKTsNCiAgICAgIA0KICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7DQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29t\nbWl0KCk7DQogICAgICAgIGVtLmNsb3NlKCk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgdGVzdEluaGVyaXRhbmNlVHlwZUpvaW5lZFF1ZXJ5KCkgew0K\nICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1h\nbmFnZXIoKTsNCiAgICAgICAgUXVlcnkgcSA9IG51bGw7DQogICAgICAgIFN0\ncmluZyBxUyA9IG51bGw7DQogICAgICAgIERlcGFydG1lbnQgZGVwdCA9IG51\nbGw7DQogICAgICAgIA0KICAgICAgICBxUyA9ICJTRUxFQ1QgYy5PSUQsIGMu\nZGVwdCBGUk9NIERlcGFydG1lbnQgZCwgQ29udHJhY3RvciBjIHdoZXJlIGQu\nT0lEID0gYy5kZXB0Lk9JRCBhbmQgZC5kZXNjcmlwdGlvbiA9ICdJVCciOw0K\nICAgICAgICBxID0gZW0uY3JlYXRlUXVlcnkocVMpOyANCiAgICAgICAgTGlz\ndDxPYmplY3RbXT4gbFJlc3VsdCA9IHEuZ2V0UmVzdWx0TGlzdCgpOw0KICAg\nICAgICBmb3IgKE9iamVjdFtdIHJlc3VsdEVsZW1lbnQgOiBsUmVzdWx0KSB7\nDQogICAgICAgICAgICBMb25nIG9pZCA9IChMb25nKXJlc3VsdEVsZW1lbnRb\nMF07DQogICAgICAgICAgICBkZXB0ID0gKERlcGFydG1lbnQpcmVzdWx0RWxl\nbWVudFsxXTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgcVMgPSAi\nU0VMRUNUIGMuT0lEIEZST00gRGVwYXJ0bWVudCBkLCBDb250cmFjdG9yIGMg\nd2hlcmUgZC5PSUQgPSBjLmRlcHQuT0lEIGFuZCBkLmRlc2NyaXB0aW9uID0g\nJ0lUJyI7DQogICAgICAgIHEgPSBlbS5jcmVhdGVRdWVyeShxUyk7IA0KICAg\nICAgICBmb3IgKE9iamVjdCByZXN1bHRFbGVtZW50IDogcS5nZXRSZXN1bHRM\naXN0KCkpIHsNCiAgICAgICAgICAgIExvbmcgb2lkID0gKExvbmcpcmVzdWx0\nRWxlbWVudDsNCiAgICAgICAgfQ0KICAgICAgIA0KICAgICAgICBxUyA9ICJT\nRUxFQ1QgZCBGUk9NIERlcGFydG1lbnQgZCwgQ29udHJhY3RvciBjIHdoZXJl\nIGQuT0lEID0gYy5kZXB0Lk9JRCBhbmQgZC5kZXNjcmlwdGlvbiA9ICdJVCci\nOw0KICAgICAgICBxID0gZW0uY3JlYXRlUXVlcnkocVMpOyANCiAgICAgICAg\nZm9yIChEZXBhcnRtZW50IGFSZXN1bHQ6IChMaXN0IDxEZXBhcnRtZW50Pikg\ncS5nZXRSZXN1bHRMaXN0KCkpIHsNCiAgICAgICAgICAgIGFzc2VydEVxdWFs\ncyhkZXB0LmdldE9JRCgpLCBhUmVzdWx0LmdldE9JRCgpKTsNCiAgICAgICAg\nfQ0KDQogICAgICAgIHFTID0gIlNFTEVDVCBjIEZST00gRGVwYXJ0bWVudCBk\nLCBDb250cmFjdG9yIGMgIHdoZXJlIGQuT0lEID0gYy5kZXB0Lk9JRCBhbmQg\nZC5kZXNjcmlwdGlvbiA9ICdJVCciOw0KICAgICAgICBxID0gZW0uY3JlYXRl\nUXVlcnkocVMpOyAgICAgICAgICAgICANCiAgICAgICAgZm9yIChDb250cmFj\ndG9yIGFSZXN1bHQ6IChMaXN0IDxDb250cmFjdG9yPikgcS5nZXRSZXN1bHRM\naXN0KCkpIHsNCiAgICAgICAgICAgIC8vU3lzdGVtLm91dC5wcmludGxuKGFS\nZXN1bHQuZ2V0RGVzY3JpcHRpb24oKSArICIsICIgKyBhUmVzdWx0LmdldE9J\nRCgpKTsNCiAgICAgICAgICAgIGFzc2VydEVxdWFscyhkZXB0LmdldE9JRCgp\nLCBhUmVzdWx0LmdldERlcHQoKS5nZXRPSUQoKSk7DQogICAgICAgIH0NCiAg\nICAgICAgcVMgPSAiU0VMRUNUIGMgRlJPTSBDb250cmFjdG9yIGMsIERlcGFy\ndG1lbnQgZCAgd2hlcmUgZC5PSUQgPSBjLmRlcHQuT0lEIGFuZCBkLmRlc2Ny\naXB0aW9uID0gJ0lUJyI7DQogICAgICAgIHEgPSBlbS5jcmVhdGVRdWVyeShx\nUyk7ICAgICAgICAgICAgIA0KICAgICAgICBmb3IgKENvbnRyYWN0b3IgYVJl\nc3VsdDogKExpc3QgPENvbnRyYWN0b3I+KSBxLmdldFJlc3VsdExpc3QoKSkg\new0KICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGRlcHQuZ2V0T0lEKCksIGFS\nZXN1bHQuZ2V0RGVwdCgpLmdldE9JRCgpKTsNCiAgICAgICAgfQ0KICAgICAg\nICANCiAgICAgICAgcVMgPSAiU0VMRUNUIGMsIGMuT0lEIEZST00gRGVwYXJ0\nbWVudCBkLCBDb250cmFjdG9yIGMgd2hlcmUgZC5PSUQgPSBjLmRlcHQuT0lE\nIGFuZCBkLmRlc2NyaXB0aW9uID0gJ0lUJyI7DQogICAgICAgIHEgPSBlbS5j\ncmVhdGVRdWVyeShxUyk7ICAgICAgICAgICAgIA0KICAgICAgICBMaXN0PE9i\namVjdFtdPiBjUmVzdWx0ID0gcS5nZXRSZXN1bHRMaXN0KCk7DQogICAgICAg\nIENvbnRyYWN0b3IgY29udHJhY3RvciA9IG51bGw7DQogICAgICAgIGZvciAo\nT2JqZWN0W10gcmVzdWx0RWxlbWVudCA6IGNSZXN1bHQpIHsNCiAgICAgICAg\nICAgIGNvbnRyYWN0b3IgPSAoQ29udHJhY3RvcilyZXN1bHRFbGVtZW50WzBd\nOw0KICAgICAgICAgICAgTG9uZyBvaWQgPSAoTG9uZylyZXN1bHRFbGVtZW50\nWzFdOw0KICAgICAgICAgICAgYXNzZXJ0VHJ1ZShjb250cmFjdG9yLmdldE9J\nRCgpID09IG9pZCk7DQogICAgICAgICAgICBhc3NlcnRFcXVhbHMoZGVwdC5n\nZXRPSUQoKSwgY29udHJhY3Rvci5nZXREZXB0KCkuZ2V0T0lEKCkpOw0KICAg\nICAgICB9DQogICAgICAgIA0KICAgICAgICBxUyA9ICJTRUxFQ1QgYy5PSUQs\nIGMgRlJPTSBDb250cmFjdG9yIGMsIERlcGFydG1lbnQgZCB3aGVyZSBkLk9J\nRCA9IGMuZGVwdC5PSUQgYW5kIGQuZGVzY3JpcHRpb24gPSAnSVQnIjsNCiAg\nICAgICAgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHFTKTsgICAgICAgICAgICAgDQog\nICAgICAgIExpc3Q8T2JqZWN0W10+IGRSZXN1bHQgPSBxLmdldFJlc3VsdExp\nc3QoKTsNCiAgICAgICAgZm9yIChPYmplY3RbXSByZXN1bHRFbGVtZW50IDog\nZFJlc3VsdCkgew0KICAgICAgICAgICAgTG9uZyBvaWQgPSAoTG9uZylyZXN1\nbHRFbGVtZW50WzBdOw0KICAgICAgICAgICAgY29udHJhY3RvciA9IChDb250\ncmFjdG9yKXJlc3VsdEVsZW1lbnRbMV07DQogICAgICAgICAgICBhc3NlcnRU\ncnVlKGNvbnRyYWN0b3IuZ2V0T0lEKCkgPT0gb2lkKTsNCiAgICAgICAgICAg\nIGFzc2VydEVxdWFscyhkZXB0LmdldE9JRCgpLCBjb250cmFjdG9yLmdldERl\ncHQoKS5nZXRPSUQoKSk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAg\nIHFTID0gIlNFTEVDVCBjLCBjLk9JRCBGUk9NIERlcGFydG1lbnQgZCwgQ29u\ndHJhY3RvciBjIHdoZXJlIGQuT0lEID0gYy5kZXB0Lk9JRCBhbmQgZC5kZXNj\ncmlwdGlvbiA9ICdJVCciOw0KICAgICAgICBxID0gZW0uY3JlYXRlUXVlcnko\ncVMpOyAgICAgICAgICAgICANCiAgICAgICAgTGlzdDxPYmplY3RbXT4gZVJl\nc3VsdCA9IHEuZ2V0UmVzdWx0TGlzdCgpOw0KICAgICAgICBmb3IgKE9iamVj\ndFtdIHJlc3VsdEVsZW1lbnQgOiBlUmVzdWx0KSB7DQogICAgICAgICAgICBM\nb25nIG9pZCA9IChMb25nKXJlc3VsdEVsZW1lbnRbMV07DQogICAgICAgICAg\nICBjb250cmFjdG9yID0gKENvbnRyYWN0b3IpcmVzdWx0RWxlbWVudFswXTsN\nCiAgICAgICAgICAgIGFzc2VydFRydWUoY29udHJhY3Rvci5nZXRPSUQoKSA9\nPSBvaWQpOw0KICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGRlcHQuZ2V0T0lE\nKCksIGNvbnRyYWN0b3IuZ2V0RGVwdCgpLmdldE9JRCgpKTsNCiAgICAgICAg\nfQ0KDQogICAgICAgIHFTID0gIlNFTEVDVCBjLk9JRCwgYyBGUk9NIERlcGFy\ndG1lbnQgZCwgQ29udHJhY3RvciBjIHdoZXJlIGQuT0lEID0gYy5kZXB0Lk9J\nRCBhbmQgZC5kZXNjcmlwdGlvbiA9ICdJVCciOw0KICAgICAgICBxID0gZW0u\nY3JlYXRlUXVlcnkocVMpOyAgICAgICAgICAgICANCiAgICAgICAgTGlzdDxP\nYmplY3RbXT4gZlJlc3VsdCA9IHEuZ2V0UmVzdWx0TGlzdCgpOw0KICAgICAg\nICBmb3IgKE9iamVjdFtdIHJlc3VsdEVsZW1lbnQgOiBmUmVzdWx0KSB7DQog\nICAgICAgICAgICBMb25nIG9pZCA9IChMb25nKXJlc3VsdEVsZW1lbnRbMF07\nDQogICAgICAgICAgICBDb250cmFjdG9yIGMgPSAoQ29udHJhY3RvcilyZXN1\nbHRFbGVtZW50WzFdOw0KICAgICAgICAgICAgYXNzZXJ0VHJ1ZShvaWQubG9u\nZ1ZhbHVlKCkgPT0gYy5nZXRPSUQoKSk7DQogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoZGVwdC5nZXRPSUQoKSwgYy5nZXREZXB0KCkuZ2V0T0lEKCkpOw0K\nICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBxUyA9ICJTRUxFQ1QgZCxj\nIEZST00gRGVwYXJ0bWVudCBkLCBDb250cmFjdG9yIGMgd2hlcmUgZC5PSUQg\nPSBjLmRlcHQuT0lEIGFuZCBkLmRlc2NyaXB0aW9uID0gJ0lUJyAiICsNCiAg\nICAgICAgICAgICAgICAiIGFuZCBjID0gPzEiOw0KICAgICAgICBxID0gZW0u\nY3JlYXRlUXVlcnkocVMpOw0KICAgICAgICBxLnNldFBhcmFtZXRlcigxLCBj\nb250cmFjdG9yKTsNCiAgICAgICAgZm9yIChPYmplY3RbXSBhUmVzdWx0OiAo\nTGlzdCA8T2JqZWN0W10+KSBxLmdldFJlc3VsdExpc3QoKSkgew0KICAgICAg\nICAgICAgU3lzdGVtLm91dC5wcmludGxuKCgoRGVwYXJ0bWVudClhUmVzdWx0\nWzBdKS5nZXRPSUQoKSArICIsICIgKyAoKENvbnRyYWN0b3IpYVJlc3VsdFsx\nXSkuZ2V0T0lEKCkpOw0KICAgICAgICAgICAgYXNzZXJ0VHJ1ZShjb250cmFj\ndG9yLmVxdWFscyhhUmVzdWx0WzFdKSk7DQogICAgICAgIH0NCiAgICAgICAg\nICAgICAgICANCiAgICAgICAgcVMgPSAiU0VMRUNUIGMsZCBGUk9NIENvbnRy\nYWN0b3IgYywgRGVwYXJ0bWVudCBkIHdoZXJlIGQuT0lEID0gYy5kZXB0Lk9J\nRCBhbmQgZC5kZXNjcmlwdGlvbiA9ICdJVCcgIiArDQogICAgICAgICAgICAg\nICAgIiBhbmQgYyA9ID8xIjsNCiAgICAgICAgcSA9IGVtLmNyZWF0ZVF1ZXJ5\nKHFTKTsNCiAgICAgICAgcS5zZXRQYXJhbWV0ZXIoMSwgY29udHJhY3Rvcik7\nDQogICAgICAgIGZvciAoT2JqZWN0W10gYVJlc3VsdDogKExpc3QgPE9iamVj\ndFtdPikgcS5nZXRSZXN1bHRMaXN0KCkpIHsNCiAgICAgICAgICAgIFN5c3Rl\nbS5vdXQucHJpbnRsbigoKENvbnRyYWN0b3IpYVJlc3VsdFswXSkuZ2V0T0lE\nKCkgKyAiLCAiICsgKChEZXBhcnRtZW50KWFSZXN1bHRbMV0pLmdldE9JRCgp\nKTsNCiAgICAgICAgICAgIGFzc2VydFRydWUoY29udHJhY3Rvci5lcXVhbHMo\nYVJlc3VsdFswXSkpOw0KICAgICAgICB9DQoNCiAgICAgICAgcVMgPSAiU0VM\nRUNUIHAgRlJPTSBQZXJzb24gcCAiOw0KICAgICAgICBxID0gZW0uY3JlYXRl\nUXVlcnkocVMpOw0KICAgICAgICBmb3IgKE9iamVjdCBhUmVzdWx0OiAoTGlz\ndDxPYmplY3Q+KSBxLmdldFJlc3VsdExpc3QoKSkgew0KICAgICAgICAgICAg\nYXNzZXJ0VHJ1ZShhUmVzdWx0IGluc3RhbmNlb2YgQ29udHJhY3Rvcik7DQog\nICAgICAgIH0NCg0KICAgICAgICBlbS5jbG9zZSgpOw0KICAgIH0NCn0NCg0K\n","encoding":"base64"}

