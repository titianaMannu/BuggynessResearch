{"sha":"26c2f42d2ebcc9c39bfba10f4a5f74f9bbf97b51","node_id":"MDQ6QmxvYjIwNjM2NDoyNmMyZjQyZDJlYmNjOWMzOWJmYmExMGY0YTVmNzRmOWJiZjk3YjUx","size":39661,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/26c2f42d2ebcc9c39bfba10f4a5f74f9bbf97b51","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5z\ncWxjYWNoZTsKCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQg\namF2YS51dGlsLkFycmF5czsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9u\nczsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRp\nbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLlByb3BlcnRpZXM7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLkxvY2tNb2RlVHlwZTsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLlF1ZXJ5OwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuVHlwZWRR\ndWVyeTsKCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5QcmVwYXJlZFF1ZXJ5Owpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5QcmVwYXJlZFF1ZXJ5\nQ2FjaGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlF1ZXJ5\nSGludHM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlF1ZXJ5\nTGFuZ3VhZ2VzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5R\ndWVyeVN0YXRpc3RpY3M7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2Vy\nbmVsLmpwcWwuSlBRTFBhcnNlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIuamRiYy5BYnN0cmFjdEpEQkNMaXN0ZW5lcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIuamRiYy5KREJDRXZlbnQ7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLmpkYmMuSkRCQ0xpc3RlbmVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdl\nclNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5P\ncGVuSlBBUGVyc2lzdGVuY2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmpkYmMuc3FsY2FjaGUuRW1wbG95ZWUuQ2F0\nZWdvcnk7CgovKioKICogVGVzdHMgY29ycmVjdG5lc3MgYW5kIHBlcmZvcm1h\nbmNlIG9mIHF1ZXJpZXMgd2l0aCBhbmQgd2l0aG91dCBQcmVwYXJlZCBRdWVy\neSBDYWNoZWluZy4KICogIAogKiBUaGlzIHRlc3QgdXNlcyBhIHNpbmdsZSBF\nbnRpdHlNYW5hZ2VyRmFjdG9yeSBpbml0aWFsaXplZCB3aXRoIGZpeGVkIHNl\ndCBvZiBlbnRpdHkgY2xhc3NlcyAKICogYW5kIGFwcHJvcHJpYXRlIGNvbmZp\nZ3VyYXRpb24gcGFyYW1ldGVycyBmb3IgUHJlcGFyZWQgUXVlcnkgQ2FjaGUu\nIAogKiAKICogVGhlIGVudGl0eSBjbGFzc2VzIGFyZSBzcGVjaWZpZWQgaW4g\ncGVyc2lzdGVuY2UgdW5pdCA8Y29kZT4iUHJlcGFyZWRRdWVyeSI8L2NvZGU+\nIGluIGEgCiAqIDxjb2RlPk1FVEEtSU5GL3BlcnNpc3RlbmNlLnhtbDwvY29k\nZT4gdGhhdCBtdXN0IGJlIGF2YWlsYWJsZSB0byB0aGUgY2xhc3NwYXRoLgog\nKiAKICogQ29uZmlndXJlcyB0aGUgRW50aXR5TWFuYWdlckZhY3Rvcnkgd2l0\naCBwcm9wZXJ0aWVzIHRoYXQgYXJlIHJlbGV2YW50IHRvIHRlc3RpbmcgUHJl\ncGFyZWRRdWVyeSBjYWNoZXMuCiAqIFN3aXRjaGVzIG9mZiBydW50aW1lIGVu\naGFuY2VtZW50IHRvIGF2b2lkIHVuaW50ZW5kZWQgY29uc2VxdWVuY2VzLgog\nKiBQcm92aWRlcyBmYWNpbGl0aWVzIHRvIHJ1biBhIEpQUUwgcXVlcnkgd2l0\naCBhbmQgd2l0aG91dCBjYWNoZSBhbmQgY29tcHV0ZSB0aGUgcGVyZm9ybWFu\nY2UgZGVsdGEuIAogKiAKICogVXNlcyBhIGhhcmQtY29kZWQgZGF0YSBzZXQg\naW5pdGlhbGl6ZWQgb25jZSBmb3IgdGhlIGVudGlyZSBzdWl0ZS4gCiAqIAog\nKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICogCiAqLwpwdWJsaWMgY2xhc3Mg\nVGVzdFByZXBhcmVkUXVlcnlDYWNoZSBleHRlbmRzIFRlc3RDYXNlIHsKICAg\nIAogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIFJFU09VUkNFID0gIk1FVEEt\nSU5GL3BlcnNpc3RlbmNlLnhtbCI7IAogICAgcHJpdmF0ZSBzdGF0aWMgU3Ry\naW5nIFVOSVRfTkFNRSA9ICJQcmVwYXJlZFF1ZXJ5IjsKICAgIAogICAgcHJv\ndGVjdGVkIHN0YXRpYyBmaW5hbCBpbnQgU0FNUExFX1NJWkUgPSAxMDA7ICAv\nLyBuby4gb2Ygb2JzZXJ2YXRpb25zIGZvciBwZXJmb3JtYW5jZSBzdGF0aXN0\naWNzIAogICAgcHVibGljIHN0YXRpYyBmaW5hbCBib29sZWFuIFVTRV9DQUNI\nRSAgPSB0cnVlOyAvLyBtbmVtb25pYyBmb3IgdXNpbmcgY2FjaGUKICAgIHBy\naXZhdGUgc3RhdGljIE9iamVjdFtdIE5PX1BBUkFNUyAgICAgID0gbnVsbDsg\nLy8gbW5lbW9uaWMgZm9yIG5vIHF1ZXJ5IHBhcmFtZXRlcnMKICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgYm9vbGVhbiBJU19OQU1FRF9RVUVSWSAgPSB0cnVl\nOyAvLyBtbmVtb25pYyBmb3IgbmFtZWQgcXVlcnkKICAgIAogICAgcHJpdmF0\nZSBzdGF0aWMgYm9vbGVhbiBGQUlMX0lGX1BFUkZfREVHUkFERSA9IGZhbHNl\nOyAKCiAgICAKICAgIHByaXZhdGUgc3RhdGljIENvbXBhbnkgSUJNOwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSBDT01QQU5ZX05BTUVTICAg\nID0geyJJQk0iLCAiQkVBIiwgImFjbWUub3JnIiB9OwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBpbnRbXSAgICBTVEFSVF9ZRUFSUyAgICAgID0gezE5MDAs\nIDIwMDAsIDIwMTAgfTsKCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nW10g\nREVQQVJUTUVOVF9OQU1FUyA9IHsiTWFya2V0aW5nIiwgIlNhbGVzIiwgIkVu\nZ2luZWVyaW5nIiB9OwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmdb\nXSBFTVBMT1lFRV9OQU1FUyAgID0geyJUb20iLCAiRGljayIsICJIYXJyYXki\nIH07CglwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZ1tdIENJVFlfTkFNRVMg\nICAgICAgPSB7IlR1bHNhIiwgIkR1cmJhbiIsICJIYXJsZW0ifTsKCQogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgRVhDTFVERURfUVVFUllfMSA9\nICJzZWxlY3QgY291bnQocCkgZnJvbSBDb21wYW55IHAiOwogICAgcHVibGlj\nIHN0YXRpYyBmaW5hbCBTdHJpbmcgRVhDTFVERURfUVVFUllfMiA9ICJzZWxl\nY3QgY291bnQocCkgZnJvbSBEZXBhcnRtZW50IHAiOwoJcHVibGljIHN0YXRp\nYyBmaW5hbCBTdHJpbmcgSU5DTFVERURfUVVFUlkgICA9ICJzZWxlY3QgcCBm\ncm9tIEFkZHJlc3MgcCI7CgkKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgbG9u\nZ1tdIEJPT0tfSURTICAgICA9IHsxMDAwLCAyMDAwLCAzMDAwfTsKICAgIHB1\nYmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nW10gQk9PS19OQU1FUyA9IHsiQXJn\ndW1lbnRhdGl2ZSBJbmRpYW4iLCAiVGluIERydW0iLCAiQmxpbmsifTsKICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgbG9uZ1tdIENEX0lEUyAgICAgICA9IHsx\nMDAxLCAyMDAxLCAzMDAxfTsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3Ry\naW5nW10gQ0RfTEFCRUxTICA9ICB7IkJlYXRsZXMiLCAiU2luYXRyYSIsICJE\nb24ndCBSb2NrIE15IEJvYXQifTsKICAgIAogICAgcHJvdGVjdGVkIHN0YXRp\nYyBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgZW1mOwogICAgcHJv\ndGVjdGVkIHN0YXRpYyBTUUxBdWRpdG9yIGF1ZGl0b3I7CiAgICBwcml2YXRl\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyU1BJIGVtOwoJCgkvKioKCSAqIFNldHMg\ndXAgdGhlIHRlc3Qgc3VpdGUgd2l0aCBhIHN0YXRpY2FsbHkgaW5pdGlhbGl6\nZWQgRW50aXR5TWFuYWdlckZhY3RvcnkuCgkgKiBDcmVhdGVzIGRhdGEgb25j\nZSBmb3IgYWxsIG90aGVyIHRlc3RzIHRvIHVzZS4KCSAqLwoJcHVibGljIHZv\naWQgc2V0VXAoKSAgewogICAgICAgIGlmIChlbWYgPT0gbnVsbCkgewogICAg\nICAgICAgICBQcm9wZXJ0aWVzIGNvbmZpZyA9IG5ldyBQcm9wZXJ0aWVzKCk7\nCiAgICAgICAgICAgIGNvbmZpZy5wdXQoIm9wZW5qcGEuamRiYy5TeW5jaHJv\nbml6ZU1hcHBpbmdzIiwgImJ1aWxkU2NoZW1hKEZvcmVpZ25LZXlzPXRydWUs\nU2NoZW1hQWN0aW9uPSdkcm9wLGFkZCcpIik7CiAgICAgICAgICAgIGNvbmZp\nZy5wdXQoIm9wZW5qcGEuamRiYy5KREJDTGlzdGVuZXJzIiwgbmV3IEpEQkNM\naXN0ZW5lcltdIHsgYXVkaXRvciA9IG5ldyBTUUxBdWRpdG9yKCl9KTsKICAg\nICAgICAgICAgY29uZmlnLnB1dCgib3BlbmpwYS5qZGJjLlF1ZXJ5U1FMQ2Fj\naGUiLCAidHJ1ZSIpOwogICAgICAgICAgICBjb25maWcucHV0KCJvcGVuanBh\nLlJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3NlcyIsICJ1bnN1cHBvcnRlZCIpOwog\nICAgICAgICAgICBjb25maWcucHV0KCJvcGVuanBhLkR5bmFtaWNFbmhhbmNl\nbWVudEFnZW50IiwgImZhbHNlIik7CiAgICAgICAgICAgIGVtZiA9IChPcGVu\nSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkpT3BlbkpQQVBlcnNpc3RlbmNl\nLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KAogICAgICAgICAgICAgICAg\nICAgIFVOSVRfTkFNRSwgUkVTT1VSQ0UsIGNvbmZpZyk7CiAgICAgICAgICAg\nIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICAgICAg\nY3JlYXRlVGVzdERhdGEoKTsKICAgICAgICB9IGVsc2UgewogICAgCQllbSA9\nIGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgICAgIGdldFBy\nZXBhcmVkUXVlcnlDYWNoZSgpLmNsZWFyKCk7CiAgICAgICAgfQoJfQoJCgkv\nKioKCSAqIENyZWF0ZSBkYXRhIGZvciB0aGUgZW50aXJlIHRlc3Qgc3VpdGUg\ndG8gdXNlLgoJICovCgl2b2lkIGNyZWF0ZVRlc3REYXRhKCkgewoJICAgIGVt\nLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKCSAgICBmb3IgKGludCBpID0g\nMDsgaSA8IENPTVBBTllfTkFNRVMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAg\nQ29tcGFueSBjb21wYW55ID0gbmV3IENvbXBhbnkoKTsKCSAgICAgICAgaWYg\nKGkgPT0gMCkgCgkgICAgICAgICAgICBJQk0gPSBjb21wYW55OwoJICAgICAg\nICBjb21wYW55LnNldE5hbWUoQ09NUEFOWV9OQU1FU1tpXSk7CgkgICAgICAg\nIGNvbXBhbnkuc2V0U3RhcnRZZWFyKFNUQVJUX1lFQVJTW2ldKTsKCSAgICAg\nICAgZW0ucGVyc2lzdChjb21wYW55KTsKCSAgICAgICAgZm9yIChpbnQgaiA9\nIDA7IGogPCBERVBBUlRNRU5UX05BTUVTLmxlbmd0aDsgaisrKSB7CgkgICAg\nICAgICAgICBEZXBhcnRtZW50IGRlcHQgPSBuZXcgRGVwYXJ0bWVudCgpOwoJ\nICAgICAgICAgICAgZGVwdC5zZXROYW1lKERFUEFSVE1FTlRfTkFNRVNbal0p\nOwoJICAgICAgICAgICAgY29tcGFueS5hZGREZXBhcnRtZW50KGRlcHQpOwoJ\nICAgICAgICAgICAgZW0ucGVyc2lzdChkZXB0KTsKCSAgICAgICAgICAgIGZv\nciAoaW50IGsgPSAwOyBrIDwgRU1QTE9ZRUVfTkFNRVMubGVuZ3RoOyBrKysp\nIHsKCSAgICAgICAgICAgICAgICBFbXBsb3llZSBlbXAgPSBuZXcgRW1wbG95\nZWUoKTsKCSAgICAgICAgICAgICAgICBlbXAuc2V0TmFtZShFTVBMT1lFRV9O\nQU1FU1trXSk7CgkgICAgICAgICAgICAgICAgQWRkcmVzcyBhZGRyID0gbmV3\nIEFkZHJlc3MoKTsKCSAgICAgICAgICAgICAgICBhZGRyLnNldENpdHkoQ0lU\nWV9OQU1FU1trXSk7CiAgICAgICAgICAgICAgICAgICAgZW0ucGVyc2lzdChl\nbXApOwoJICAgICAgICAgICAgICAgIGVtLnBlcnNpc3QoYWRkcik7CgkgICAg\nICAgICAgICAgICAgZW1wLnNldEFkZHJlc3MoYWRkcik7CiAgICAgICAgICAg\nICAgICAgICAgZGVwdC5hZGRFbXBsb3llZXMoZW1wKTsKCSAgICAgICAgICAg\nIH0KCSAgICAgICAgfQoJICAgIH0KICAgICAgICBQZXJzb24gcDEgPSBuZXcg\nUGVyc29uKCJKb2huIiwgIkRvZSIsIChzaG9ydCk0NSwgMTk2NCk7CiAgICAg\nICAgUGVyc29uIHAyID0gbmV3IFBlcnNvbigiSm9obiIsICJEb2UiLCAoc2hv\ncnQpNDIsIDE5NjcpOwogICAgICAgIFBlcnNvbiBwMyA9IG5ldyBQZXJzb24o\nIkhhcnJ5IiwgIkRvZSIsIChzaG9ydCkxMiwgMTk5NSk7CiAgICAgICAgUGVy\nc29uIHA0ID0gbmV3IFBlcnNvbigiQmFycnkiLCAiRG9lIiwgKHNob3J0KTIy\nLCAxOTg1KTsKICAgICAgICBlbS5wZXJzaXN0KHAxKTsKICAgICAgICBlbS5w\nZXJzaXN0KHAyKTsKICAgICAgICBlbS5wZXJzaXN0KHAzKTsKICAgICAgICBl\nbS5wZXJzaXN0KHA0KTsKICAgICAgICAKICAgICAgICBBdXRob3IgYTEgPSBu\nZXcgQXV0aG9yKCJBdXRob3IxIiwgIiIsIChzaG9ydCk0MCwgMTk2MCk7CiAg\nICAgICAgQXV0aG9yIGEyID0gbmV3IEF1dGhvcigiQXV0aG9yMiIsICIiLCAo\nc2hvcnQpNDEsIDE5NjEpOwogICAgICAgIEF1dGhvciBhMyA9IG5ldyBBdXRo\nb3IoIkF1dGhvcjMiLCAiIiwgKHNob3J0KTQyLCAxOTYyKTsKICAgICAgICBT\naW5nZXIgczEgPSBuZXcgU2luZ2VyKCJTaW5nZXIxIiwgIiIsIChzaG9ydCky\nMSwgMTk5MSk7CiAgICAgICAgU2luZ2VyIHMyID0gbmV3IFNpbmdlcigiU2lu\nZ2VyMiIsICIiLCAoc2hvcnQpMjIsIDE5OTIpOwogICAgICAgIAogICAgICAg\nIGxvbmcgaWQgPSAxMDA7CiAgICAgICAgQm9vayAgIGIxID0gbmV3IEJvb2so\nIkJvb2sxIik7CiAgICAgICAgQm9vayAgIGIyID0gbmV3IEJvb2soIkJvb2sy\nIik7CiAgICAgICAgQ0QgICAgIGMxID0gbmV3IENEKCJDRDEiKTsKICAgICAg\nICBDRCAgICAgYzIgPSBuZXcgQ0QoIkNEMiIpOwogICAgICAgIAogICAgICAg\nIGIxLnNldElkKGlkKyspOwogICAgICAgIGIyLnNldElkKGlkKyspOwogICAg\nICAgIGMxLnNldElkKGlkKyspOwogICAgICAgIGMyLnNldElkKGlkKyspOwog\nICAgICAgIGIxLmFkZEF1dGhvcihhMSk7CiAgICAgICAgYjEuYWRkQXV0aG9y\nKGEyKTsKICAgICAgICBiMi5hZGRBdXRob3IoYTIpOwogICAgICAgIGIyLmFk\nZEF1dGhvcihhMyk7CiAgICAgICAgYzEuc2V0U2luZ2VyKHMxKTsKICAgICAg\nICBjMi5zZXRTaW5nZXIoczIpOwogICAgICAgIAogICAgICAgIGVtLnBlcnNp\nc3QoYTEpOyBlbS5wZXJzaXN0KGEyKTsgICBlbS5wZXJzaXN0KGEzKTsKICAg\nICAgICBlbS5wZXJzaXN0KHMxKTsgZW0ucGVyc2lzdChzMik7CiAgICAgICAg\nZW0ucGVyc2lzdChiMSk7IGVtLnBlcnNpc3QoYjIpOwogICAgICAgIGVtLnBl\ncnNpc3QoYzEpOyBlbS5wZXJzaXN0KGMyKTsKCgkgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5jb21taXQoKTsKCX0KCglwdWJsaWMgdm9pZCB0ZWFyRG93bigp\nIHRocm93cyBFeGNlcHRpb24gewoJICAgIGlmIChlbS5pc09wZW4oKSkKCSAg\nICAgICAgZW0uY2xvc2UoKTsKCQlzdXBlci50ZWFyRG93bigpOwoJfQoJCgoJ\ncHVibGljIHZvaWQgdGVzdFByZXBhcmVkUXVlcnlDYWNoZUlzQWN0aXZlQnlE\nZWZhdWx0KCkgewoJCWFzc2VydE5vdE51bGwoZ2V0UHJlcGFyZWRRdWVyeUNh\nY2hlKCkpOwoJfQoJCglwdWJsaWMgdm9pZCB0ZXN0UHJlcGFyZWRRdWVyeUNh\nY2hlSXNQZXJVbml0U2luZ2xldG9uKCkgewoJCVByZXBhcmVkUXVlcnlDYWNo\nZSBjMSA9IGdldFByZXBhcmVkUXVlcnlDYWNoZSgpOwoJCVByZXBhcmVkUXVl\ncnlDYWNoZSBjMiA9IGdldFByZXBhcmVkUXVlcnlDYWNoZSgpOwoJCWFzc2Vy\ndFNhbWUoYzEsIGMyKTsKCX0KCQoJcHVibGljIHZvaWQgdGVzdFByZXBhcmVk\nUXVlcnlJZGVudGlmaWVySXNPcmlnaW5hbEpQUUxRdWVyeSgpIHsKICAgICAg\nICBTdHJpbmcganBxbCA9ICJzZWxlY3QgcCBmcm9tIENvbXBhbnkgcCI7CiAg\nICAgICAgT3BlbkpQQVF1ZXJ5PD8+IHExID0gZW0uY3JlYXRlUXVlcnkoanBx\nbCk7CiAgICAgICAgcTEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIFByZXBh\ncmVkUXVlcnkgcHEgPSBnZXRQcmVwYXJlZFF1ZXJ5Q2FjaGUoKS5nZXQoanBx\nbCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChwcSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKGpwcWwsIHBxLmdldElkZW50aWZpZXIoKSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKGpwcWwsIHBxLmdldE9yaWdpbmFsUXVlcnkoKSk7Cgl9CgkK\nCXB1YmxpYyB2b2lkIHRlc3RPcmlnaW5hbEpQUUxRdWVyeVN0cmluZ0lzU2V0\nT25QcmVwYXJlZFF1ZXJ5KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNl\nbGVjdCBwIGZyb20gQ29tcGFueSBwIjsKICAgICAgICBPcGVuSlBBUXVlcnk8\nPz4gcTEgPSBlbS5jcmVhdGVRdWVyeShqcHFsKTsKICAgICAgICBxMS5nZXRS\nZXN1bHRMaXN0KCk7CiAgICAgICAgUHJlcGFyZWRRdWVyeSBwcSA9IGdldFBy\nZXBhcmVkUXVlcnlDYWNoZSgpLmdldChqcHFsKTsKICAgICAgICBhc3NlcnRO\nb3ROdWxsKHBxKTsKICAgICAgICBPcGVuSlBBUXVlcnk8Pz4gcTIgPSBlbS5j\ncmVhdGVRdWVyeShqcHFsKTsKICAgICAgICBhc3NlcnRFcXVhbHMoanBxbCxx\nMi5nZXRRdWVyeVN0cmluZygpKTsKCX0KCglwdWJsaWMgdm9pZCB0ZXN0T3Jk\nZXJCeUVsZW1lbnRzQWJzZW50SW5Qcm9qZWN0aW9uKCkgewoJICAgIFN0cmlu\nZyBqcHFsID0gInNlbGVjdCBjLm5hbWUgZnJvbSBDb21wYW55IGMgT1JERVIg\nQlkgYy5zdGFydFllYXIiOwogICAgICAgIE9wZW5KUEFRdWVyeTw/PiBxMSA9\nIGVtLmNyZWF0ZVF1ZXJ5KGpwcWwpOwogICAgICAgIExpc3QgbDEgPSBxMS5n\nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgCiAgICAgICAgUHJlcGFyZWRRdWVy\neSBwcSA9IGdldFByZXBhcmVkUXVlcnlDYWNoZSgpLmdldChqcHFsKTsKICAg\nICAgICBhc3NlcnROb3ROdWxsKHBxKTsKICAgICAgICBPcGVuSlBBUXVlcnk8\nPz4gcTIgPSBlbS5jcmVhdGVRdWVyeShqcHFsKTsKICAgICAgICBMaXN0IGwy\nID0gcTIuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIAogICAgICAgIGFzc2Vy\ndEVxdWFscyhsMS5zaXplKCksIGwyLnNpemUoKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKGwxLnRvU3RyaW5nKCksIGwyLnRvU3RyaW5nKCkpOwoJfQoJCglw\ndWJsaWMgdm9pZCB0ZXN0RXhjbHVzaW9uUGF0dGVybigpIHsKCQlPcGVuSlBB\nUXVlcnk8Pz4gcTEgPSBlbS5jcmVhdGVRdWVyeShFWENMVURFRF9RVUVSWV8x\nKTsKCQlxMS5nZXRSZXN1bHRMaXN0KCk7CgkJYXNzZXJ0Tm90Q2FjaGVkKEVY\nQ0xVREVEX1FVRVJZXzEpOwoJCQoJCU9wZW5KUEFRdWVyeTw/PiBxMiA9IGVt\nLmNyZWF0ZVF1ZXJ5KEVYQ0xVREVEX1FVRVJZXzIpOwoJCXEyLmdldFJlc3Vs\ndExpc3QoKTsKCQlhc3NlcnROb3RDYWNoZWQoRVhDTFVERURfUVVFUllfMik7\nCgkJCgkJT3BlbkpQQVF1ZXJ5PD8+IHEzID0gZW0uY3JlYXRlUXVlcnkoSU5D\nTFVERURfUVVFUlkpOwoJCXEzLmdldFJlc3VsdExpc3QoKTsKCQlhc3NlcnRD\nYWNoZWQoSU5DTFVERURfUVVFUlkpOwoJfQoJCgl2b2lkIGFzc2VydExhbmd1\nYWdlKE9wZW5KUEFRdWVyeTw/PiBxLCBTdHJpbmcgbGFuZykgewoJCWFzc2Vy\ndEVxdWFscyhsYW5nLCBxLmdldExhbmd1YWdlKCkpOwoJfQoJCgl2b2lkIGFz\nc2VydENhY2hlZChTdHJpbmcgaWQpIHsKCQlQcmVwYXJlZFF1ZXJ5IGNhY2hl\nZCA9IGdldFByZXBhcmVkUXVlcnlDYWNoZSgpLmdldChpZCk7CgkJYXNzZXJ0\nTm90TnVsbChnZXRQcmVwYXJlZFF1ZXJ5Q2FjaGUoKSArICI6ICIgKyBnZXRQ\ncmVwYXJlZFF1ZXJ5Q2FjaGUoKS5nZXRNYXBWaWV3KCkgKyAKCQkJCSIgZG9l\ncyBub3QgY29udGFpbiAiICsgaWQsIGNhY2hlZCk7Cgl9CgkKCXZvaWQgYXNz\nZXJ0Tm90Q2FjaGVkKFN0cmluZyBpZCkgewoJICAgIFByZXBhcmVkUXVlcnlD\nYWNoZSBjYWNoZSA9IGdldFByZXBhcmVkUXVlcnlDYWNoZSgpOwoJCWlmIChj\nYWNoZSAhPSBudWxsKSB7CgkJCWFzc2VydE51bGwoY2FjaGUuZ2V0KGlkKSk7\nCgkJfQoJfQoJCglwdWJsaWMgdm9pZCB0ZXN0UHJlcGFyZWRRdWVyeUlzQ2Fj\naGVkT25FeGVjdXRpb24oKSB7CgkJU3RyaW5nIGpwcWwgPSAic2VsZWN0IHAg\nZnJvbSBDb21wYW55IHAiOwoJCU9wZW5KUEFRdWVyeTw/PiBxMSA9IGVtLmNy\nZWF0ZVF1ZXJ5KGpwcWwpOwoJCWFzc2VydE5vdENhY2hlZChqcHFsKTsKCQlh\nc3NlcnRMYW5ndWFnZShxMSwgSlBRTFBhcnNlci5MQU5HX0pQUUwpOwoJCQoJ\nCXExLmdldFJlc3VsdExpc3QoKTsKCQlhc3NlcnRDYWNoZWQoanBxbCk7CgkJ\nYXNzZXJ0TGFuZ3VhZ2UocTEsIEpQUUxQYXJzZXIuTEFOR19KUFFMKTsKCQkK\nCQlQcmVwYXJlZFF1ZXJ5IGNhY2hlZCA9IGdldFByZXBhcmVkUXVlcnlDYWNo\nZSgpLmdldChqcHFsKTsKCQlhc3NlcnRFcXVhbHMoanBxbCwgY2FjaGVkLmdl\ndElkZW50aWZpZXIoKSk7CgkJYXNzZXJ0RmFsc2UoanBxbC5lcXVhbHNJZ25v\ncmVDYXNlKGNhY2hlZC5nZXRUYXJnZXRRdWVyeSgpKSk7Cgl9CgoJcHVibGlj\nIHZvaWQgdGVzdFByZXBhcmVkUXVlcnlJc0NhY2hlZEFjcm9zc0V4ZWN1dGlv\nbigpIHsKCQlTdHJpbmcganBxbCA9ICJzZWxlY3QgcCBmcm9tIENvbXBhbnkg\ncCI7CgkJT3BlbkpQQVF1ZXJ5PD8+IHExID0gZW0uY3JlYXRlUXVlcnkoanBx\nbCk7CgkJYXNzZXJ0Tm90Q2FjaGVkKGpwcWwpOwoJCWFzc2VydExhbmd1YWdl\nKHExLCBKUFFMUGFyc2VyLkxBTkdfSlBRTCk7CgkJCgkJCgkJcTEuZ2V0UmVz\ndWx0TGlzdCgpOwoJCWFzc2VydENhY2hlZChqcHFsKTsKCQlhc3NlcnRMYW5n\ndWFnZShxMSwgSlBRTFBhcnNlci5MQU5HX0pQUUwpOwoJCQoJCS8vIENyZWF0\nZSBhIG5ldyBxdWVyeSB3aXRoIHRoZSBzYW1lIEpQUUwKCQkvLyBUaGlzIGlz\nIG5vdCBvbmx5IGNhY2hlZCwgaXRzIGxhbmd1YWdlIGlzIGRpZmZlcmVudCB0\nb28KCQlPcGVuSlBBUXVlcnk8Pz4gcTIgPSBlbS5jcmVhdGVRdWVyeShqcHFs\nKTsKCQlhc3NlcnRDYWNoZWQoanBxbCk7CgkJYXNzZXJ0TGFuZ3VhZ2UocTIs\nIFF1ZXJ5TGFuZ3VhZ2VzLkxBTkdfUFJFUEFSRURfU1FMKTsKCX0KCQoJcHVi\nbGljIHZvaWQgdGVzdEludmFsaWRhdGVQcmVwYXJlZFF1ZXJ5V2l0aEhpbnQo\nKSB7CgkJU3RyaW5nIGpwcWwgPSAic2VsZWN0IHAgZnJvbSBDb21wYW55IHAi\nOwoJCU9wZW5KUEFRdWVyeTw/PiBxMSA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwp\nOwoJCWFzc2VydE5vdENhY2hlZChqcHFsKTsKCQkKCQlxMS5nZXRSZXN1bHRM\naXN0KCk7CgkJYXNzZXJ0Q2FjaGVkKGpwcWwpOwoJCWFzc2VydExhbmd1YWdl\nKHExLCBKUFFMUGFyc2VyLkxBTkdfSlBRTCk7CgkJCgkJLy8gQ3JlYXRlIGEg\nbmV3IHF1ZXJ5IHdpdGggdGhlIHNhbWUgSlBRTAoJCS8vIFRoaXMgaXMgY2Fj\naGVkIG9uIGNyZWF0aW9uLCBpdHMgbGFuZ3VhZ2UgaXMgUHJlcGFyZWQgU1FM\nCgkJT3BlbkpQQVF1ZXJ5PD8+IHEyID0gZW0uY3JlYXRlUXVlcnkoanBxbCk7\nCgkJYXNzZXJ0Q2FjaGVkKGpwcWwpOwoJCWFzc2VydExhbmd1YWdlKHEyLCBR\ndWVyeUxhbmd1YWdlcy5MQU5HX1BSRVBBUkVEX1NRTCk7CgkJcTIuZ2V0UmVz\ndWx0TGlzdCgpOwoJCQoJCS8vIE5vdyBleGVjdXRlIHdpdGggaGludHMgdG8g\naW52YWxpZGF0ZS4gCgkJcTIuc2V0SGludChRdWVyeUhpbnRzLkhJTlRfSU5W\nQUxJREFURV9QUkVQQVJFRF9RVUVSWSwgdHJ1ZSk7CgkJLy8gSW1tZWRpYXRl\nbHkgaXQgc2hvdWxkIGJlIHJlbW92ZWQgZnJvbSB0aGUgY2FjaGUKCQlhc3Nl\ncnROb3RDYWNoZWQoanBxbCk7CgkJYXNzZXJ0RXF1YWxzKEpQUUxQYXJzZXIu\nTEFOR19KUFFMLCBxMi5nZXRMYW5ndWFnZSgpKTsKCQlxMi5nZXRSZXN1bHRM\naXN0KCk7CgkJCgkJLy8gQ3JlYXRlIGEgbmV3IHF1ZXJ5IHdpdGggdGhlIHNh\nbWUgSlBRTAoJCS8vIFRoaXMgaXMgbm90IGNhY2hlZCBvbiBjcmVhdGlvbiwg\naXRzIGxhbmd1YWdlIGlzIEpQUUwKCQlPcGVuSlBBUXVlcnk8Pz4gcTMgPSBl\nbS5jcmVhdGVRdWVyeShqcHFsKTsKCQlhc3NlcnROb3RDYWNoZWQoanBxbCk7\nCgkJYXNzZXJ0TGFuZ3VhZ2UocTMsIEpQUUxQYXJzZXIuTEFOR19KUFFMKTsK\nCX0KCQoJcHVibGljIHZvaWQgdGVzdElnbm9yZVByZXBhcmVkUXVlcnlXaXRo\nSGludCgpIHsKCQlTdHJpbmcganBxbCA9ICJzZWxlY3QgcCBmcm9tIENvbXBh\nbnkgcCI7CgkJT3BlbkpQQVF1ZXJ5PD8+IHExID0gZW0uY3JlYXRlUXVlcnko\nanBxbCk7CgkJYXNzZXJ0Tm90Q2FjaGVkKGpwcWwpOwoJCQoJCXExLmdldFJl\nc3VsdExpc3QoKTsKCQlhc3NlcnRDYWNoZWQoanBxbCk7CgkJYXNzZXJ0TGFu\nZ3VhZ2UocTEsIEpQUUxQYXJzZXIuTEFOR19KUFFMKTsKCQkKCQkvLyBDcmVh\ndGUgYSBuZXcgcXVlcnkgd2l0aCB0aGUgc2FtZSBKUFFMCgkJLy8gVGhpcyBp\ncyBjYWNoZWQgb24gY3JlYXRpb24sIGl0cyBsYW5ndWFnZSBpcyBQUkVQQVJF\nRCBTUUwKCQlPcGVuSlBBUXVlcnk8Pz4gcTIgPSBlbS5jcmVhdGVRdWVyeShq\ncHFsKTsKCQlhc3NlcnRDYWNoZWQoanBxbCk7CgkJYXNzZXJ0TGFuZ3VhZ2Uo\ncTIsIFF1ZXJ5TGFuZ3VhZ2VzLkxBTkdfUFJFUEFSRURfU1FMKTsKCQlxMi5n\nZXRSZXN1bHRMaXN0KCk7CgkJCgkJLy8gTm93IGV4ZWN1dGUgd2l0aCBoaW50\ncyB0byBpZ25vcmUuIAoJCXEyLnNldEhpbnQoUXVlcnlIaW50cy5ISU5UX0lH\nTk9SRV9QUkVQQVJFRF9RVUVSWSwgdHJ1ZSk7CgkJLy8gSXQgc2hvdWxkIHJl\nbWFpbiBpbiB0aGUgY2FjaGUKCQlhc3NlcnRDYWNoZWQoanBxbCk7CgkJLy8g\nQnV0IGl0cyBsYW5ndWFnZSBzaG91bGQgYmUgSlBRTCBhbmQgbm90IFBSRVBB\nUkVEIFNRTAoJCWFzc2VydEVxdWFscyhKUFFMUGFyc2VyLkxBTkdfSlBRTCwg\ncTIuZ2V0TGFuZ3VhZ2UoKSk7CgkJcTIuZ2V0UmVzdWx0TGlzdCgpOwoJCQoJ\nCS8vIENyZWF0ZSBhIG5ldyBxdWVyeSB3aXRoIHRoZSBzYW1lIEpQUUwKCQkv\nLyBUaGlzIGlzIGNhY2hlZCBvbiBjcmVhdGlvbiwgaXRzIGxhbmd1YWdlIGlz\nIFBSRVBBUkVEIFNRTAoJCU9wZW5KUEFRdWVyeTw/PiBxMyA9IGVtLmNyZWF0\nZVF1ZXJ5KGpwcWwpOwoJCWFzc2VydENhY2hlZChqcHFsKTsKCQlhc3NlcnRM\nYW5ndWFnZShxMywgUXVlcnlMYW5ndWFnZXMuTEFOR19QUkVQQVJFRF9TUUwp\nOwoJfQoKCXB1YmxpYyB2b2lkIHRlc3RRdWVyeVN0YXRpc3RpY3MoKSB7CiAg\nICAgICAgUXVlcnlTdGF0aXN0aWNzPFN0cmluZz4gc3RhdHMgPSBnZXRQcmVw\nYXJlZFF1ZXJ5Q2FjaGUoKS5nZXRTdGF0aXN0aWNzKCk7CiAgICAgICAgc3Rh\ndHMucmVzZXQoKTsKCiAgICAgICAgU3RyaW5nIGpwcWwxID0gInNlbGVjdCBj\nIGZyb20gQ29tcGFueSBjIjsKICAgICAgICBTdHJpbmcganBxbDIgPSAic2Vs\nZWN0IGMgZnJvbSBDb21wYW55IGMgd2hlcmUgYy5uYW1lID0gJ1BPYmplY3Qn\nIjsKCQlpbnQgTjEgPSA1OwoJCWludCBOMiA9IDg7CgkJZm9yIChpbnQgaSA9\nIDA7IGkgPCBOMTsgaSsrKSB7CgkgICAgICAgIE9wZW5KUEFRdWVyeTw/PiBx\nMSA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwxKTsKCQkJcTEuZ2V0UmVzdWx0TGlz\ndCgpOwoJCX0KCQlmb3IgKGludCBpID0gMDsgaSA8IE4yOyBpKyspIHsKCSAg\nICAgICAgT3BlbkpQQVF1ZXJ5PD8+IHEyID0gZW0uY3JlYXRlUXVlcnkoanBx\nbDIpOwoJCQlxMi5nZXRSZXN1bHRMaXN0KCk7CgkJfQoJCQoJCWFzc2VydEVx\ndWFscyhOMSwgICAgICBzdGF0cy5nZXRFeGVjdXRpb25Db3VudChqcHFsMSkp\nOwoJCWFzc2VydEVxdWFscyhOMiwgICAgICBzdGF0cy5nZXRFeGVjdXRpb25D\nb3VudChqcHFsMikpOwoJCWFzc2VydEVxdWFscyhOMStOMiwgICBzdGF0cy5n\nZXRFeGVjdXRpb25Db3VudCgpKTsKCQlhc3NlcnRFcXVhbHMoTjEtMSwgICAg\nc3RhdHMuZ2V0SGl0Q291bnQoanBxbDEpKTsKCQlhc3NlcnRFcXVhbHMoTjIt\nMSwgICAgc3RhdHMuZ2V0SGl0Q291bnQoanBxbDIpKTsKCQlhc3NlcnRFcXVh\nbHMoTjErTjItMiwgc3RhdHMuZ2V0SGl0Q291bnQoKSk7CgkJCgl9CgoJcHVi\nbGljIHZvaWQgdGVzdFJlc2V0UXVlcnlTdGF0aXN0aWNzKCkgewogICAgICAg\nIFF1ZXJ5U3RhdGlzdGljczxTdHJpbmc+IHN0YXRzID0gZ2V0UHJlcGFyZWRR\ndWVyeUNhY2hlKCkuZ2V0U3RhdGlzdGljcygpOwogICAgICAgIHN0YXRzLnJl\nc2V0KCk7CiAgICAgICAgCgkJU3RyaW5nIGpwcWwxID0gInNlbGVjdCBjIGZy\nb20gQ29tcGFueSBjIjsKICAgICAgICBTdHJpbmcganBxbDIgPSAic2VsZWN0\nIGMgZnJvbSBDb21wYW55IGMgd2hlcmUgYy5uYW1lID0gJ1BPYmplY3QnIjsK\nCQlpbnQgTjEwID0gNDsKCQlpbnQgTjIwID0gNzsKCQlmb3IgKGludCBpID0g\nMDsgaSA8IE4xMDsgaSsrKSB7CgkgICAgICAgIE9wZW5KUEFRdWVyeTw/PiBx\nMSA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwxKTsKCQkJcTEuZ2V0UmVzdWx0TGlz\ndCgpOwoJCX0KCQlmb3IgKGludCBpID0gMDsgaSA8IE4yMDsgaSsrKSB7Cgkg\nICAgICAgIE9wZW5KUEFRdWVyeTw/PiBxMiA9IGVtLmNyZWF0ZVF1ZXJ5KGpw\ncWwyKTsKCQkJcTIuZ2V0UmVzdWx0TGlzdCgpOwoJCX0KCQkKCQlhc3NlcnRF\ncXVhbHMoTjEwLCAgICAgICBzdGF0cy5nZXRFeGVjdXRpb25Db3VudChqcHFs\nMSkpOwoJCWFzc2VydEVxdWFscyhOMjAsICAgICAgIHN0YXRzLmdldEV4ZWN1\ndGlvbkNvdW50KGpwcWwyKSk7CgkJYXNzZXJ0RXF1YWxzKE4xMCtOMjAsICAg\nc3RhdHMuZ2V0RXhlY3V0aW9uQ291bnQoKSk7CgkJYXNzZXJ0RXF1YWxzKE4x\nMC0xLCAgICAgc3RhdHMuZ2V0SGl0Q291bnQoanBxbDEpKTsKCQlhc3NlcnRF\ncXVhbHMoTjIwLTEsICAgICBzdGF0cy5nZXRIaXRDb3VudChqcHFsMikpOwoJ\nCWFzc2VydEVxdWFscyhOMTArTjIwLTIsIHN0YXRzLmdldEhpdENvdW50KCkp\nOwoJCQoJCXN0YXRzLnJlc2V0KCk7CgkJCgkJaW50IE4xMSA9IDc7CgkJaW50\nIE4yMSA9IDQ7CgkJZm9yIChpbnQgaSA9IDA7IGkgPCBOMTE7IGkrKykgewog\nICAgICAgICAgICBPcGVuSlBBUXVlcnk8Pz4gcTEgPSBlbS5jcmVhdGVRdWVy\neShqcHFsMSk7CgkJCXExLmdldFJlc3VsdExpc3QoKTsKCQl9CgkJZm9yIChp\nbnQgaSA9IDA7IGkgPCBOMjE7IGkrKykgewogICAgICAgICAgICBPcGVuSlBB\nUXVlcnk8Pz4gcTIgPSBlbS5jcmVhdGVRdWVyeShqcHFsMik7CgkJCXEyLmdl\ndFJlc3VsdExpc3QoKTsKCQl9CgoJCWFzc2VydEVxdWFscyhOMTEsICAgICBz\ndGF0cy5nZXRFeGVjdXRpb25Db3VudChqcHFsMSkpOwoJCWFzc2VydEVxdWFs\ncyhOMjEsICAgICBzdGF0cy5nZXRFeGVjdXRpb25Db3VudChqcHFsMikpOwoJ\nCWFzc2VydEVxdWFscyhOMTErTjIxLCBzdGF0cy5nZXRFeGVjdXRpb25Db3Vu\ndCgpKTsKCQlhc3NlcnRFcXVhbHMoTjExLCAgICAgc3RhdHMuZ2V0SGl0Q291\nbnQoanBxbDEpKTsKCQlhc3NlcnRFcXVhbHMoTjIxLCAgICAgc3RhdHMuZ2V0\nSGl0Q291bnQoanBxbDIpKTsKCQlhc3NlcnRFcXVhbHMoTjExK04yMSwgc3Rh\ndHMuZ2V0SGl0Q291bnQoKSk7CgkJCi8vCQlhc3NlcnRFcXVhbHMoTjEwK04x\nMSwgICAgIHN0YXRzLmdldFRvdGFsRXhlY3V0aW9uQ291bnQoanBxbDEpKTsK\nLy8JCWFzc2VydEVxdWFscyhOMjArTjIxLCAgICAgc3RhdHMuZ2V0VG90YWxF\neGVjdXRpb25Db3VudChqcHFsMikpOwovLwkJYXNzZXJ0RXF1YWxzKE4xMCtO\nMTErTjIwK04yMSwgc3RhdHMuZ2V0VG90YWxFeGVjdXRpb25Db3VudCgpKTsK\nCQlhc3NlcnRFcXVhbHMoTjEwK04xMS0xLCAgICAgc3RhdHMuZ2V0VG90YWxI\naXRDb3VudChqcHFsMSkpOwoJCWFzc2VydEVxdWFscyhOMjArTjIxLTEsICAg\nICBzdGF0cy5nZXRUb3RhbEhpdENvdW50KGpwcWwyKSk7CgkJYXNzZXJ0RXF1\nYWxzKE4xMCtOMTErTjIwK04yMS0yLCBzdGF0cy5nZXRUb3RhbEhpdENvdW50\nKCkpOwoJCQoJfQoKCXB1YmxpYyB2b2lkIHRlc3RRdWVyeVdpdGhOb1BhcmFt\nZXRlcigpIHsKCQlTdHJpbmcganBxbCA9ICJzZWxlY3QgcCBmcm9tIENvbXBh\nbnkgcCI7CgkJY29tcGFyZShqcHFsLCAhSVNfTkFNRURfUVVFUlkpOwoJfQoK\nCXB1YmxpYyB2b2lkIHRlc3RRdWVyeVdpdGhMaXRlcmFsKCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gInNlbGVjdCBwIGZyb20gQ29tcGFueSBwIHdoZXJl\nIHAubmFtZSA9ICIgKyBsaXRlcmFsKENPTVBBTllfTkFNRVNbMF0pOwoJCWNv\nbXBhcmUoanBxbCwgIUlTX05BTUVEX1FVRVJZKTsKCX0KCglwdWJsaWMgdm9p\nZCB0ZXN0UXVlcnlXaXRoUGFyYW1ldGVyKCkgewoJCVN0cmluZyBqcHFsID0g\nInNlbGVjdCBwIGZyb20gQ29tcGFueSBwIHdoZXJlIHAubmFtZSA9IDpwYXJh\nbSI7CgkJT2JqZWN0W10gcGFyYW1zID0geyJwYXJhbSIsIENPTVBBTllfTkFN\nRVNbMF19OwoJCWNvbXBhcmUoanBxbCwgIUlTX05BTUVEX1FVRVJZLCAgcGFy\nYW1zKTsKCX0KCglwdWJsaWMgdm9pZCB0ZXN0UXVlcnlXaXRoSm9pbnNBbmRQ\nYXJhbWV0ZXJzKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBl\nIGZyb20gRW1wbG95ZWUgZSAiICsgIndoZXJlIGUubmFtZSA9IDplbXAiCgkJ\nCQkJKyAiIGFuZCBlLmRlcGFydG1lbnQubmFtZSA9IDpkZXB0IgogICAgICAg\nICAgICAgICAgICAgICsgIiBhbmQgZS5kZXBhcnRtZW50LmNvbXBhbnkubmFt\nZSBMSUtFICAiCiAgICAgICAgICAgICAgICAgICAgKyBsaXRlcmFsKENPTVBB\nTllfTkFNRVNbMF0pIAoJCQkJCSsgIiBhbmQgZS5hZGRyZXNzLmNpdHkgPSA6\nY2l0eSI7CgkJT2JqZWN0W10gcGFyYW1zID0geyAiZW1wIiwgRU1QTE9ZRUVf\nTkFNRVNbMF0sIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRlcHQi\nLCBERVBBUlRNRU5UX05BTUVTWzBdLAoJCQkJCQkJImNpdHkiLCBDSVRZX05B\nTUVTWzBdfTsKCQljb21wYXJlKGpwcWwsICFJU19OQU1FRF9RVUVSWSwgIHBh\ncmFtcyk7Cgl9CgoJcHVibGljIHZvaWQgdGVzdE5hbWVkUXVlcnlXaXRoTm9Q\nYXJhbWV0ZXIoKSB7CgkJU3RyaW5nIG5hbWVkUXVlcnkgPSAiQ29tcGFueS5Q\ncmVwYXJlZFF1ZXJ5V2l0aE5vUGFyYW1ldGVyIjsKICAgICAgICBjb21wYXJl\nKG5hbWVkUXVlcnksIElTX05BTUVEX1FVRVJZKTsKCX0KCglwdWJsaWMgdm9p\nZCB0ZXN0TmFtZWRRdWVyeVdpdGhMaXRlcmFsKCkgewoJCVN0cmluZyBuYW1l\nZFF1ZXJ5ID0gIkNvbXBhbnkuUHJlcGFyZWRRdWVyeVdpdGhMaXRlcmFsIjsK\nCQljb21wYXJlKG5hbWVkUXVlcnksIElTX05BTUVEX1FVRVJZKTsKCX0KCglw\ndWJsaWMgdm9pZCB0ZXN0TmFtZWRRdWVyeVdpdGhQb3NpdGlvbmFsUGFyYW1l\ndGVyKCkgewogICAgICAgIFN0cmluZyBuYW1lZFF1ZXJ5ID0gIkNvbXBhbnku\nUHJlcGFyZWRRdWVyeVdpdGhQb3NpdGlvbmFsUGFyYW1ldGVyIjsKCQlPYmpl\nY3RbXSBwYXJhbXMgPSB7MSwgQ09NUEFOWV9OQU1FU1swXSwgMiwgU1RBUlRf\nWUVBUlNbMF19OwoJCWNvbXBhcmUobmFtZWRRdWVyeSwgSVNfTkFNRURfUVVF\nUlksICBwYXJhbXMpOwoJfQoJCglwdWJsaWMgdm9pZCB0ZXN0TmFtZWRRdWVy\neVdpdGhOYW1lZFBhcmFtZXRlcigpIHsKCQlTdHJpbmcgbmFtZWRRdWVyeSA9\nICJDb21wYW55LlByZXBhcmVkUXVlcnlXaXRoTmFtZWRQYXJhbWV0ZXIiOwog\nICAgICAgIE9iamVjdFtdIHBhcmFtcyA9IHsibmFtZSIsIENPTVBBTllfTkFN\nRVNbMF0sICJzdGFydFllYXIiLAogICAgICAgICAgICAgICAgU1RBUlRfWUVB\nUlNbMF19OwoJCWNvbXBhcmUobmFtZWRRdWVyeSwgSVNfTkFNRURfUVVFUlks\nICBwYXJhbXMpOwoJfQoJCglwdWJsaWMgdm9pZCB0ZXN0UGVyc2lzdGVuY2VD\nYXBhYmxlUGFyYW1ldGVyKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNl\nbGVjdCBlIGZyb20gRW1wbG95ZWUgZSAiICsKICAgICAgICAgICAgICAgICJ3\naGVyZSBlLmRlcGFydG1lbnQuY29tcGFueT06Y29tcGFueSI7CgkgICAgT2Jq\nZWN0W10gcGFyYW1zID0geyJjb21wYW55IiwgSUJNfTsKCSAgICBjb21wYXJl\nKGpwcWwsICFJU19OQU1FRF9RVUVSWSwgIHBhcmFtcyk7Cgl9CgkKCS8qKgoJ\nICogUHJvamVjdCByZXN1bHRzIGFyZSByZXR1cm5lZCB3aXRoIGRpZmZlcmVu\ndCB0eXBlcyBvZiBST1AuCgkgKi8KCXB1YmxpYyB2b2lkIHRlc3RQcm9qZWN0\naW9uUmVzdWx0KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBl\nLm5hbWUgZnJvbSBFbXBsb3llZSBlICIgKwogICAgICAgICAgICAgICAgIndo\nZXJlIGUuYWRkcmVzcy5jaXR5PTpjaXR5IjsKICAgICAgICBPYmplY3RbXSBw\nYXJhbXMgPSB7ImNpdHkiLCBDSVRZX05BTUVTWzBdfTsKICAgICAgICBjb21w\nYXJlKGpwcWwsICFJU19OQU1FRF9RVUVSWSwgcGFyYW1zKTsKCX0KCQoJcHVi\nbGljIHZvaWQgdGVzdENvbGxlY3Rpb25WYWx1ZWRQYXJhbWV0ZXJzKCkgewoJ\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlIGZyb20gRW1wbG95ZWUgZSB3\naGVyZSBlLm5hbWUgaW4gOm5hbWVzIjsKCSAgICBPYmplY3RbXSBwYXJhbXMx\nID0geyJuYW1lcyIsCgkgICAgICAgICAgICBBcnJheXMuYXNMaXN0KG5ldyBT\ndHJpbmdbXXtFTVBMT1lFRV9OQU1FU1swXSwKCSAgICAgICAgICAgIEVNUExP\nWUVFX05BTUVTWzFdfSl9OwogICAgICAgIE9iamVjdFtdIHBhcmFtczIgPSB7\nIm5hbWVzIiwKICAgICAgICAgICAgICAgIEFycmF5cy5hc0xpc3QobmV3IFN0\ncmluZ1tde0VNUExPWUVFX05BTUVTWzJdfSl9OwogICAgICAgIE9iamVjdFtd\nIHBhcmFtczMgPSB7Im5hbWVzIiwgQXJyYXlzLmFzTGlzdChFTVBMT1lFRV9O\nQU1FUyl9OwogICAgICAgIAogICAgICAgIGludCBleHBlY3RlZENvdW50ID0g\nMiAqIENPTVBBTllfTkFNRVMubGVuZ3RoICogREVQQVJUTUVOVF9OQU1FUy5s\nZW5ndGg7CiAgICAgICAgcnVuKGpwcWwsICFJU19OQU1FRF9RVUVSWSwgcGFy\nYW1zMSwgZXhwZWN0ZWRDb3VudCwgVVNFX0NBQ0hFLCAxKTsKICAgICAgICAK\nICAgICAgICBleHBlY3RlZENvdW50ID0gMSAqIENPTVBBTllfTkFNRVMubGVu\nZ3RoICogREVQQVJUTUVOVF9OQU1FUy5sZW5ndGg7CiAgICAgICAgcnVuKGpw\ncWwsICFJU19OQU1FRF9RVUVSWSwgcGFyYW1zMiwgZXhwZWN0ZWRDb3VudCwg\nVVNFX0NBQ0hFLCAxKTsKICAgICAgICAKICAgICAgICBleHBlY3RlZENvdW50\nID0gRU1QTE9ZRUVfTkFNRVMubGVuZ3RoICogQ09NUEFOWV9OQU1FUy5sZW5n\ndGggKiBERVBBUlRNRU5UX05BTUVTLmxlbmd0aDsKICAgICAgICBydW4oanBx\nbCwgIUlTX05BTUVEX1FVRVJZLCBwYXJhbXMzLCBleHBlY3RlZENvdW50LCBV\nU0VfQ0FDSEUsIDEpOwoJfQoJCiAgICBwdWJsaWMgdm9pZCB0ZXN0UXVlcnlQ\ncm9qZWN0aW9uTm90Q2FuZGlkYXRlQ2xhc3MoKSB7CiAgICAgICAgU3RyaW5n\nIGpwcWwgPSAic2VsZWN0IGUuZGVwYXJ0bWVudCBmcm9tIEVtcGxveWVlIGUi\nOwogICAgICAgIGNvbXBhcmUoanBxbCwgIUlTX05BTUVEX1FVRVJZKTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdFF1ZXJ5TXVsdGlwbGVQcm9q\nZWN0aW9uQ2xhc3MoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGQsIGUgZnJvbSBEZXBhcnRtZW50IGQsIGluIChkLmVtcGxveWVlcykgZSI7\nCiAgICAgICAgY29tcGFyZShqcHFsLCAhSVNfTkFNRURfUVVFUlkpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0UXVlcnlXaXRoT3JkZXJCeUNs\nYXVzZSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZS5uYW1l\nIGZyb20gRW1wbG95ZWUgZSBvcmRlciBieSBlLmlkIjsKICAgICAgICBjb21w\nYXJlKGpwcWwsICFJU19OQU1FRF9RVUVSWSk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHRlc3RRdWVyeUNvdW50KCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBjb3VudChlKSxkIGZyb20gRGVwYXJ0bWVudCBkIGpv\naW4gZC5lbXBsb3llZXMgZSBncm91cCBieSBkIjsKICAgICAgICBjb21wYXJl\nKGpwcWwsICFJU19OQU1FRF9RVUVSWSk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RQcm9qZWN0UmVwZWF0c1Rlcm0oKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAic2VsZWN0IGUubmFtZSwgZS5uYW1lIGZyb20gRW1wbG95\nZWUgZSI7CiAgICAgICAgY29tcGFyZShqcHFsLCAhSVNfTkFNRURfUVVFUlkp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0UHJvamVjdEVtYmVk\nZGVkKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLmFkZHJl\nc3MgZnJvbSBFbXBsb3llZSBlIjsKICAgICAgICBjb21wYXJlKGpwcWwsICFJ\nU19OQU1FRF9RVUVSWSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3ROZWVkc1R5cGVDb252ZXJzaW9uKCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gInNlbGVjdCBlLm5hbWUsIGUuaXNNYW5hZ2VyIGZyb20gRW1wbG95ZWUg\nZSI7CiAgICAgICAgY29tcGFyZShqcHFsLCAhSVNfTkFNRURfUVVFUlkpOwog\nICAgfSAgICAKCQoJU3RyaW5nIGxpdGVyYWwoU3RyaW5nIHMpIHsKCSAgICBy\nZXR1cm4gIiciK3MrIiciOwoJfQoJCiAgICBwdWJsaWMgdm9pZCB0ZXN0UG9z\naXRpb25hbCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgcCBm\ncm9tIFBlcnNvbiBwIHdoZXJlIHAuZmlyc3ROYW1lPT8xIiArCiAgICAgICAg\nICAgICAgICAgICAgICAiIGFuZCBwLmxhc3ROYW1lPSdEb2UnIGFuZCBwLmFn\nZSA+ID8yIjsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0\nZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICAKICAgICAgICBPcGVuSlBBUXVl\ncnk8Pz4gcTEgPSBPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdChlbS5jcmVhdGVR\ndWVyeShqcHFsKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKEpQUUxQYXJzZXIu\nTEFOR19KUFFMLCBxMS5nZXRMYW5ndWFnZSgpKTsKICAgICAgICAKICAgICAg\nICBMaXN0PD8+IHJlc3VsdDEgPSBxMS5zZXRQYXJhbWV0ZXIoMSwgIkpvaG4i\nKQogICAgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoMiwgKHNo\nb3J0KTQwKQogICAgICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0\nKCk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlc3VsdDEu\nc2l6ZSgpKTsKICAgICAgICAKICAgICAgICBPcGVuSlBBUXVlcnk8Pz4gcTIg\nPSBPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdChlbS5jcmVhdGVRdWVyeShqcHFs\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKFF1ZXJ5TGFuZ3VhZ2VzLkxBTkdf\nUFJFUEFSRURfU1FMLCBxMi5nZXRMYW5ndWFnZSgpKTsKICAgICAgICBMaXN0\nPD8+IHJlc3VsdDIgPSBxMi5zZXRQYXJhbWV0ZXIoMSwgIkhhcnJ5IikKICAg\nICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcigyLCAoc2hvcnQpMTApCiAg\nICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDEsIHJlc3VsdDIuc2l6ZSgpKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdE5hbWVkKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBwIGZyb20gUGVyc29uIHAgd2hlcmUgcC5m\naXJzdE5hbWU9OmZpcnN0IiArCiAgICAgICAgICAgICAgICAgICAgICAiIGFu\nZCBwLmxhc3ROYW1lPSdEb2UnIGFuZCBwLmFnZSA+IDphZ2UiOwogICAgICAg\nIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOwogICAgICAgIAogICAgICAgIE9wZW5KUEFRdWVyeTw/PiBxMSA9IE9wZW5K\nUEFQZXJzaXN0ZW5jZS5jYXN0KGVtLmNyZWF0ZVF1ZXJ5KGpwcWwpKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoSlBRTFBhcnNlci5MQU5HX0pQUUwsIHExLmdl\ndExhbmd1YWdlKCkpOwogICAgICAgIAogICAgICAgIExpc3Q8Pz4gcmVzdWx0\nMSA9IHExLnNldFBhcmFtZXRlcigiZmlyc3QiLCAiSm9obiIpCiAgICAgICAg\nICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcigiYWdlIiwgKHNob3J0KTQw\nKQogICAgICAgICAgICAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7CiAg\nICAgICAgCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlc3VsdDEuc2l6ZSgp\nKTsKICAgICAgICAKICAgICAgICBPcGVuSlBBUXVlcnk8Pz4gcTIgPSBPcGVu\nSlBBUGVyc2lzdGVuY2UuY2FzdChlbS5jcmVhdGVRdWVyeShqcHFsKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKFF1ZXJ5TGFuZ3VhZ2VzLkxBTkdfUFJFUEFS\nRURfU1FMLCBxMi5nZXRMYW5ndWFnZSgpKTsKICAgICAgICBMaXN0PD8+IHJl\nc3VsdDIgPSBxMi5zZXRQYXJhbWV0ZXIoImZpcnN0IiwgIkJhcnJ5IikKICAg\nICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcigiYWdlIiwgKHNob3J0KTIw\nKQogICAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAg\nIAogICAgICAgIGFzc2VydEVxdWFscygxLCByZXN1bHQyLnNpemUoKSk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RXcm9uZ1BhcmFtZXRlclZh\nbHVlVHlwZVRocm93RXhjZXB0aW9uKCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gInNlbGVjdCBwIGZyb20gUGVyc29uIHAgd2hlcmUgcC5maXJzdE5hbWU9\nOmZpcnN0IiAKICAgICAgICAgICAgICAgICAgICArICIgYW5kIHAuYWdlID4g\nOmFnZSI7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIE9wZW5KUEFRdWVyeTw/PiBxMSA9\nIE9wZW5KUEFQZXJzaXN0ZW5jZS5jYXN0KGVtLmNyZWF0ZVF1ZXJ5KGpwcWwp\nKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBMaXN0PD8+IHJlc3VsdDEg\nPSBxMS5zZXRQYXJhbWV0ZXIoImZpcnN0IiwgKHNob3J0KTQwKQogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoImFnZSIsICJK\nb2huIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0UmVzdWx0\nTGlzdCgpOwogICAgICAgICAgICBmYWlsKCJFeHBlY3RlZCB0byBmYWlsIHdp\ndGggd3JvbmcgcGFyYW1ldGVyIHZhbHVlIik7CiAgICAgICAgfSBjYXRjaCAo\nSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgLy8g\nZ29vZAogICAgICAgIH0KICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVz\ndE51bGxQYXJhbWV0ZXJWYWx1ZUZvclByaW1pdGl2ZVR5cGVUaHJvd3NFeGNl\ncHRpb24oKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IHAgZnJv\nbSBQZXJzb24gcCB3aGVyZSBwLmZpcnN0TmFtZT06Zmlyc3QiIAogICAgICAg\nICAgICAgICAgICAgICsgIiBhbmQgcC5hZ2UgPiA6YWdlIjsKICAgICAgICBF\nbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsK\nCiAgICAgICAgT3BlbkpQQVF1ZXJ5PD8+IHExID0gT3BlbkpQQVBlcnNpc3Rl\nbmNlLmNhc3QoZW0uY3JlYXRlUXVlcnkoanBxbCkpOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIExpc3Q8Pz4gcmVzdWx0MSA9IHExLnNldFBhcmFtZXRl\ncigiZmlyc3QiLCAiSm9obiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgLnNldFBhcmFtZXRlcigiYWdlIiwgbnVsbCkKICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgICAgICBm\nYWlsKCJFeHBlY3RlZCB0byBmYWlsIHdpdGggbnVsbCBwYXJhbWV0ZXIgdmFs\ndWUgZm9yIHByaW1pdGl2ZXMiKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1l\nRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgLy8gZ29vZAogICAgICAgIH0K\nICAgIH0KICAgIHB1YmxpYyB2b2lkIHRlc3RRdWVyeVdpdGhMYXp5UmVsYXRp\nb25Jc0NhY2hlZCgpIHsKICAgICAgICAvLyBBdXRob3IgaXMgbGF6aWx5IHJl\nbGF0ZWQgdG8gQm9vawogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBw\nIGZyb20gQXV0aG9yIHAiOwogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBl\nbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIAogICAgICAgIFF1\nZXJ5IHExID0gZW0uY3JlYXRlUXVlcnkoanBxbCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKE9wZW5KUEFQZXJzaXN0ZW5jZS5jYXN0KHExKS5nZXRMYW5ndWFn\nZSgpLAogICAgICAgICAgICAgICAgSlBRTFBhcnNlci5MQU5HX0pQUUwpOwog\nICAgICAgIExpc3Q8QXV0aG9yPiBhdXRob3JzMSA9IHExLmdldFJlc3VsdExp\nc3QoKTsKICAgICAgICBhc3NlcnRGYWxzZShhdXRob3JzMS5pc0VtcHR5KCkp\nOwogICAgICAgIEF1dGhvciBhdXRob3IxID0gYXV0aG9yczEuaXRlcmF0b3Io\nKS5uZXh0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsgLy8gbm90aGluZyB3aWxs\nIGJlIGxvYWRlZCBieSBjaGFuY2UKICAgICAgICAKICAgICAgICBhc3NlcnRO\ndWxsKGF1dGhvcjEuZ2V0Qm9va3MoKSk7CiAgICAgICAgCiAgICAgICAgLy8g\nZG8gdGhlIHNhbWUgdGhpbmcgYWdhaW4sIHRoaXMgdGltZSBxdWVyeSBzaG91\nbGQgYmUgY2FjaGVkCiAgICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFu\nYWdlcigpOwogICAgICAgIFF1ZXJ5IHEyID0gZW0uY3JlYXRlUXVlcnkoanBx\nbCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKE9wZW5KUEFQZXJzaXN0ZW5jZS5j\nYXN0KHEyKS5nZXRMYW5ndWFnZSgpLAogICAgICAgICAgICAgICAgUXVlcnlM\nYW5ndWFnZXMuTEFOR19QUkVQQVJFRF9TUUwpOwogICAgICAgIExpc3Q8QXV0\naG9yPiBhdXRob3JzMiA9IHEyLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBh\nc3NlcnRGYWxzZShhdXRob3JzMi5pc0VtcHR5KCkpOwogICAgICAgIEF1dGhv\nciBhdXRob3IyID0gYXV0aG9yczIuaXRlcmF0b3IoKS5uZXh0KCk7CiAgICAg\nICAgZW0uY2xvc2UoKTsKICAgICAgICAKICAgICAgICBhc3NlcnROdWxsKGF1\ndGhvcjIuZ2V0Qm9va3MoKSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lk\nIHRlc3RRdWVyeVdpdGhFYWdlclJlbGF0aW9uSXNOb3RDYWNoZWQoKSB7CiAg\nICAgICAgLy8gQm9vayBpcyBlYWdlcmx5IHJlbGF0ZWQgdG8gQXV0aG9yCiAg\nICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGIgZnJvbSBCb29rIGIiOwog\nICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFu\nYWdlcigpOwogICAgICAgIAogICAgICAgIFF1ZXJ5IHExID0gZW0uY3JlYXRl\nUXVlcnkoanBxbCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKE9wZW5KUEFQZXJz\naXN0ZW5jZS5jYXN0KHExKS5nZXRMYW5ndWFnZSgpLAogICAgICAgICAgICAg\nICAgSlBRTFBhcnNlci5MQU5HX0pQUUwpOwogICAgICAgIExpc3Q8Qm9vaz4g\nYm9va3MgPSBxMS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RmFs\nc2UoYm9va3MuaXNFbXB0eSgpKTsKICAgICAgICBCb29rIGJvb2sxID0gYm9v\na3MuaXRlcmF0b3IoKS5uZXh0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsgLy8g\nbm90aGluZyB3aWxsIGJlIGxvYWRlZCBieSBjaGFuY2UKICAgICAgICAKICAg\nICAgICBhc3NlcnROb3ROdWxsKGJvb2sxLmdldEF1dGhvcnMoKSk7CiAgICAg\nICAgYXNzZXJ0RmFsc2UoYm9vazEuZ2V0QXV0aG9ycygpLmlzRW1wdHkoKSk7\nCiAgICAgICAgCiAgICAgICAgLy8gZG8gdGhlIHNhbWUgdGhpbmcgYWdhaW4s\nIHRoaXMgdGltZSBxdWVyeSBzaG91bGQgbm90IGJlIGNhY2hlZAogICAgICAg\nIC8vIGJlY2F1c2UgaXQgcmVxdWlyZXMgbXVsdGlwbGUgc2VsZWN0cwogICAg\nICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBR\ndWVyeSBxMiA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyhPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdChxMikuZ2V0TGFuZ3Vh\nZ2UoKSwKICAgICAgICAgICAgICAgIEpQUUxQYXJzZXIuTEFOR19KUFFMKTsK\nICAgICAgICBMaXN0PEJvb2s+IGJvb2tzMiA9IHEyLmdldFJlc3VsdExpc3Qo\nKTsKICAgICAgICBhc3NlcnRGYWxzZShib29rczIuaXNFbXB0eSgpKTsKICAg\nICAgICBCb29rIGJvb2syID0gYm9va3MyLml0ZXJhdG9yKCkubmV4dCgpOwog\nICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0Tm90\nTnVsbChib29rMi5nZXRBdXRob3JzKCkpOwogICAgICAgIGFzc2VydEZhbHNl\nKGJvb2syLmdldEF1dGhvcnMoKS5pc0VtcHR5KCkpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHRlc3RRdWVyeVdpdGhVc2VyRGVmaW5lZEFuZEludGVybmFs\nUGFyYW10ZXJzSW5TdWJxdWVyeSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJTZWxlY3QgYSBGcm9tIEFkZHJlc3MgYSBXaGVyZSBOb3QgRXhpc3RzICgi\nCiAgICAgICAgICAgICsgIiAgICAgU2VsZWN0IHMuaWQgRnJvbSBTaW5nZXIg\nQXMgcyBXaGVyZSAiCiAgICAgICAgICAgICsgIiAgICAgICAgcy5hZGRyZXNz\nID0gYSAgQW5kICIKICAgICAgICAgICAgKyAiICAgICAgICBOb3QgKCIKICAg\nICAgICAgICAgKyAiICAgICAgICAgICAgICAocy5maXJzdE5hbWUgPSA6Zmly\nc3ROYW1lKSAiCiAgICAgICAgICAgICsgIiAgICAgICAgICAgICAgT3IgIgog\nICAgICAgICAgICArICIgICAgICAgICAgICAgICgiCiAgICAgICAgICAgICsg\nIiAgICAgICAgICAgICAgICAgICgiCiAgICAgICAgICAgICsgIiAgICAgICAg\nICAgICAgICAgICAgICBleGlzdHMgKHNlbGVjdCBjLmlkIGZyb20gQ0QgYyB3\naGVyZSBjLnNpbmdlciA9IHMgYW5kIGMuc3RhdHVzID0gMSkgQW5kICIKICAg\nICAgICAgICAgKyAiICAgICAgICAgICAgICAgICAgICAgIHMubGFzdE5hbWUg\nPSA6bGFzdE5hbWUiCiAgICAgICAgICAgICsgIiAgICAgICAgICAgICAgICAg\nICkgIgogICAgICAgICAgICArICIgICAgICAgICAgICAgICAgICBPciAiCiAg\nICAgICAgICAgICsgIiAgICAgICAgICAgICAgICAgICgiCiAgICAgICAgICAg\nICsgIiAgICAgICAgICAgICAgICAgICAgICBub3QgZXhpc3RzIChTZWxlY3Qg\nYy5pZCBmcm9tIENEIGMgd2hlcmUgYy5zaW5nZXIgPSBzIGFuZCBjLnN0YXR1\ncyA9IDIpIgogICAgICAgICAgICArICIgICAgICAgICAgICAgICAgICApIgog\nICAgICAgICAgICArICIgICAgICAgICAgICAgICkiCiAgICAgICAgICAgICsg\nIiAgICAgICAgICAgICkiCiAgICAgICAgICAgICsgIiAgICAgKSI7CiAgICAg\nICAgCiAgICAgICAgUXVlcnkgalEgPSBlbS5jcmVhdGVRdWVyeShqcHFsKTsK\nICAgICAgICBqUS5zZXRQYXJhbWV0ZXIoImxhc3ROYW1lIiwgIkxhc3ROYW1l\nIik7CiAgICAgICAgalEuc2V0UGFyYW1ldGVyKCJmaXJzdE5hbWUiLCAiRmly\nc3ROYW1lIik7CiAgICAgICAgTGlzdCBqTGlzdCA9IGpRLmdldFJlc3VsdExp\nc3QoKTsKICAgICAgICAKICAgICAgICBRdWVyeSBqUTEgPSBlbS5jcmVhdGVR\ndWVyeShqcHFsKTsKICAgICAgICBqUTEuc2V0UGFyYW1ldGVyKCJsYXN0TmFt\nZSIsICJMYXN0TmFtZTEiKTsKICAgICAgICBqUTEuc2V0UGFyYW1ldGVyKCJm\naXJzdE5hbWUiLCAiRmlyc3ROYW1lMSIpOwogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIExpc3Qgakxpc3QxID0galExLmdldFJlc3VsdExpc3QoKTsKICAg\nICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBmYWls\nKCJGYWlsIHRvIGV4ZWN1dGUgYWdhaW4gLSBQYXJhbWV0ZXJzIGFyZSBtZXNz\nZWQgdXA6IiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgICAgICB9CiAgICB9CiAg\nICAKICAgIHB1YmxpYyB2b2lkIHRlc3RQcmVwYXJlZFF1ZXJ5SWdub3JlZFdo\nZW5Mb2NrTW9kZUlzU2V0KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNl\nbGVjdCBwIGZyb20gQXV0aG9yIHAiOwogICAgICAgIEVudGl0eU1hbmFnZXIg\nZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIAogICAg\nICAgIFF1ZXJ5IHExID0gZW0uY3JlYXRlUXVlcnkoanBxbCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKEpQUUxQYXJzZXIuTEFOR19KUFFMLCBPcGVuSlBBUGVy\nc2lzdGVuY2UuY2FzdChxMSkuZ2V0TGFuZ3VhZ2UoKSk7CiAgICAgICAgTGlz\ndDxBdXRob3I+IGF1dGhvcnMxID0gcTEuZ2V0UmVzdWx0TGlzdCgpOwogICAg\nICAgIAogICAgICAgIC8vIGRvIHRoZSBzYW1lIHRoaW5nIGFnYWluLCB0aGlz\nIHRpbWUgcXVlcnkgc2hvdWxkIGJlIGNhY2hlZAogICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBRdWVyeSBxMiA9IGVtLmNy\nZWF0ZVF1ZXJ5KGpwcWwpOwogICAgICAgIGFzc2VydEVxdWFscyhRdWVyeUxh\nbmd1YWdlcy5MQU5HX1BSRVBBUkVEX1NRTCwgT3BlbkpQQVBlcnNpc3RlbmNl\nLmNhc3QocTIpLmdldExhbmd1YWdlKCkpOwogICAgICAgIExvY2tNb2RlVHlw\nZSBsbW9kZTEgPSBxMi5nZXRMb2NrTW9kZSgpOwogICAgICAgIHEyLnNldExv\nY2tNb2RlKExvY2tNb2RlVHlwZS5PUFRJTUlTVElDKTsKICAgICAgICBMb2Nr\nTW9kZVR5cGUgbG1vZGUyID0gcTIuZ2V0TG9ja01vZGUoKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoSlBRTFBhcnNlci5MQU5HX0pQUUwsIE9wZW5KUEFQZXJz\naXN0ZW5jZS5jYXN0KHEyKS5nZXRMYW5ndWFnZSgpKTsKICAgICAgICBhc3Nl\ncnRGYWxzZShsbW9kZTEuZXF1YWxzKGxtb2RlMikpOwogICAgICAgIExpc3Q8\nQXV0aG9yPiBhdXRob3JzMiA9IHEyLmdldFJlc3VsdExpc3QoKTsKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLnJvbGxiYWNrKCk7CiAgICB9CiAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RFbnVtUGFyYW1ldGVyKCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gInNlbGVjdCBlIGZyb20gRW1wbG95ZWUgZSB3aGVy\nZSBlLnN0YXR1cz06Y3VycmVudCBhbmQgZS5oaXJlU3RhdHVzPTpoaXJlIjsK\nICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1h\nbmFnZXIoKTsKICAgICAgICAKICAgICAgICBUeXBlZFF1ZXJ5PEVtcGxveWVl\nPiBxMSA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwsIEVtcGxveWVlLmNsYXNzKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoSlBRTFBhcnNlci5MQU5HX0pQUUwsIE9w\nZW5KUEFQZXJzaXN0ZW5jZS5jYXN0KHExKS5nZXRMYW5ndWFnZSgpKTsKICAg\nICAgICBMaXN0PEVtcGxveWVlPiBlbXBzID0gcTEuc2V0UGFyYW1ldGVyKCJj\ndXJyZW50IiwgQ2F0ZWdvcnkuUEVSTUFORU5UKQogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoImhpcmUiLCBDYXRlZ29y\neS5DT05UUkFDVE9SKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgCiAgICAg\nICAgLy8gZG8gdGhlIHNhbWUgdGhpbmcgYWdhaW4sIHRoaXMgdGltZSBxdWVy\neSBzaG91bGQgYmUgY2FjaGVkCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOwogICAgICAgIFR5cGVkUXVlcnk8RW1wbG95ZWU+IHEyID0g\nZW0uY3JlYXRlUXVlcnkoanBxbCwgRW1wbG95ZWUuY2xhc3MpOwogICAgICAg\nIGFzc2VydEVxdWFscyhRdWVyeUxhbmd1YWdlcy5MQU5HX1BSRVBBUkVEX1NR\nTCwgT3BlbkpQQVBlcnNpc3RlbmNlLmNhc3QocTIpLmdldExhbmd1YWdlKCkp\nOwogICAgICAgIExpc3Q8RW1wbG95ZWU+IGVtcHMyID0gcTIuc2V0UGFyYW1l\ndGVyKCJjdXJyZW50IiwgQ2F0ZWdvcnkuUEVSTUFORU5UKQogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcigiaGlyZSIsIENhdGVn\nb3J5LkNPTlRSQUNUT1IpLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLnJvbGxiYWNrKCk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHRlc3RNdWx0aXRocmVhZGVkQWNjZXNzKCkgewogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtMSA9IGVtZi5jcmVhdGVFbnRpdHlN\nYW5hZ2VyKCk7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IHAgZnJv\nbSBBdXRob3IgcCB3aGVyZSBwLm5hbWU9Om5hbWUiOwogICAgICAgIGludCBO\nID0gNTsKICAgICAgICBUaHJlYWRbXSB0aHJlYWRzID0gIG5ldyBUaHJlYWRb\nTl07CiAgICAgICAgUXVlcnlUaHJlYWRbXSBxdHMgPSBuZXcgUXVlcnlUaHJl\nYWRbTl07CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBOOyBpKyspIHsK\nICAgICAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW10ID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICAgICAgcXRzW2ldID0gbmV3\nIFF1ZXJ5VGhyZWFkKGVtdCwganBxbCk7CiAgICAgICAgICAgIHRocmVhZHNb\naV0gPSBuZXcgVGhyZWFkKHF0c1tpXSk7CiAgICAgICAgICAgIHRocmVhZHNb\naV0uc2V0RGFlbW9uKHRydWUpOwogICAgICAgIH0KICAgICAgICBmb3IgKFRo\ncmVhZCB0IDogdGhyZWFkcykgewogICAgICAgICAgICB0LnN0YXJ0KCk7IAog\nICAgICAgIH0KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IE47IGkrKykg\newogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHRocmVhZHNbaV0u\nam9pbigpOwogICAgICAgICAgICAgIGFzc2VydEZhbHNlKHF0c1tpXS5pc0Zh\naWxlZCgpKTsKICAgICAgICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNl\ncHRpb24gZSkgewogICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2Uo\nKTsKICAgICAgICAgICAgICAgIGZhaWwoKTsKICAgICAgICAgICAgfQogICAg\nICAgIH0KICAgIH0KICAgIAogICAgCiAgICBQcmVwYXJlZFF1ZXJ5Q2FjaGUg\nZ2V0UHJlcGFyZWRRdWVyeUNhY2hlKCkgewogICAgICAgIHJldHVybiBlbWYu\nZ2V0Q29uZmlndXJhdGlvbigpLmdldFF1ZXJ5U1FMQ2FjaGVJbnN0YW5jZSgp\nOwogICAgfQogICAgCiAgICAvKioKICAgICAqIENvbXBhcmUgdGhlIHJlc3Vs\ndCBvZiBleGVjdXRpb24gb2YgdGhlIG5vbi1wYXJhbWV0ZXJpemVkIHF1ZXJ5\nIHdpdGggYW5kIHdpdGhvdXQgUHJlcGFyZWRRdWVyeSBjYWNoZS4KICAgICAq\nIAogICAgICogQHBhcmFtIGpwcWwgYSBTdHJpbmcgcmVwcmVzZW50aW5nIGVp\ndGhlciBhIEpQUUwgb3IgdGhlIG5hbWUgb2YgYSBOYW1lZFF1ZXJ5CiAgICAg\nKiBAcGFyYW0gaXNOYW1lZFF1ZXJ5IGZsYWdzIGlmIHRoZSBmaXJzdCBpbnB1\ndCByZXByZXNlbnRzIGEgSlBRTCBzdHJpbmcgb3IgYSBOYW1lZFF1ZXJ5IG5h\nbWUKICAgICAqLwogICAgdm9pZCBjb21wYXJlKFN0cmluZyBqcHFsLCBib29s\nZWFuIGlzTmFtZWQpIHsKICAgICAgICBjb21wYXJlKGpwcWwsIGlzTmFtZWQs\nIC0xLCBOT19QQVJBTVMpOwogICAgfQoKICAgIAogICAgLyoqCiAgICAgKiBD\nb21wYXJlIHRoZSByZXN1bHQgb2YgZXhlY3V0aW9uIG9mIHRoZSBub24tcGFy\nYW1ldGVyaXplZCBxdWVyeSB3aXRoIGFuZCB3aXRob3V0IFByZXBhcmVkUXVl\ncnkgY2FjaGUuCiAgICAgKiAKICAgICAqIEBwYXJhbSBqcHFsIGEgU3RyaW5n\nIHJlcHJlc2VudGluZyBlaXRoZXIgYSBKUFFMIG9yIHRoZSBuYW1lIG9mIGEg\nTmFtZWRRdWVyeQogICAgICogQHBhcmFtIGlzTmFtZWRRdWVyeSBmbGFncyBp\nZiB0aGUgZmlyc3QgaW5wdXQgcmVwcmVzZW50cyBhIEpQUUwgc3RyaW5nIG9y\nIGEgTmFtZWRRdWVyeSBuYW1lCiAgICAgKiBAcGFyYW0gZXhwZWN0ZWRDb3Vu\ndCBleHBlY3RlZCBudW1iZXIgb2YgcmVzdWx0cwogICAgICovCiAgICB2b2lk\nIGNvbXBhcmUoU3RyaW5nIGpwcWwsIGJvb2xlYW4gaXNOYW1lZCwgaW50IGV4\ncGVjdGVkQ291bnQpIHsKICAgICAgICBjb21wYXJlKGpwcWwsIGlzTmFtZWQs\nIGV4cGVjdGVkQ291bnQsIE5PX1BBUkFNUyk7CiAgICB9CiAgICAKICAgIC8q\nKgogICAgICogQ29tcGFyZSB0aGUgcmVzdWx0IG9mIGV4ZWN1dGlvbiBvZiB0\naGUgcXVlcnkgd2l0aCBhbmQgd2l0aG91dCBQcmVwYXJlZFF1ZXJ5IGNhY2hl\nLgogICAgICogCiAgICAgKiAKICAgICAqIEBwYXJhbSBqcHFsIGEgU3RyaW5n\nIHJlcHJlc2VudGluZyBlaXRoZXIgYSBKUFFMIG9yIHRoZSBuYW1lIG9mIGEg\nTmFtZWRRdWVyeQogICAgICogQHBhcmFtIGlzTmFtZWRRdWVyeSBmbGFncyBp\nZiB0aGUgZmlyc3QgaW5wdXQgcmVwcmVzZW50cyBhIEpQUUwgc3RyaW5nIG9y\nIGEgTmFtZWRRdWVyeSBuYW1lCiAgICAgKiBAcGFyYW0gcGFyYW1zIGEgZXZl\nbiBzaXplZCBhcnJheSB3aG9zZSBldmVuLWluZGV4ZWQgZWxlbWVudHMgYXJl\nIGtleXMgYW5kIG9kZC1pbmRleGVkIGVsZW1lbnRzIGFyZSBjb3JyZXNwb25k\naW5nCiAgICAgKiBwYXJhbWV0ZXIgdmFsdWUgZm9yIHRoZSBxdWVyeS4gQSBu\ndWxsIGFycmF5IGRlbm90ZXMgdGhlIHF1ZXJ5IGlzIG5vdCBwYXJhbWV0ZXJp\nemVkLgogICAgICovCiAgICB2b2lkIGNvbXBhcmUoU3RyaW5nIGpwcWwsIGJv\nb2xlYW4gaXNOYW1lZCwgT2JqZWN0Li4uIHBhcmFtcykgewogICAgICAgIGNv\nbXBhcmUoanBxbCwgaXNOYW1lZCwgLTEsIHBhcmFtcyk7CiAgICB9CiAgICAv\nKioKICAgICAqIENvbXBhcmUgdGhlIHJlc3VsdCBvZiBleGVjdXRpb24gb2Yg\ndGhlIHF1ZXJ5IHdpdGggYW5kIHdpdGhvdXQgUHJlcGFyZWRRdWVyeSBjYWNo\nZS4KICAgICAqIAogICAgICogCiAgICAgKiBAcGFyYW0ganBxbCBhIFN0cmlu\nZyByZXByZXNlbnRpbmcgZWl0aGVyIGEgSlBRTCBvciB0aGUgbmFtZSBvZiBh\nIE5hbWVkUXVlcnkKICAgICAqIEBwYXJhbSBpc05hbWVkUXVlcnkgZmxhZ3Mg\naWYgdGhlIGZpcnN0IGlucHV0IHJlcHJlc2VudHMgYSBKUFFMIHN0cmluZyBv\nciBhIE5hbWVkUXVlcnkgbmFtZQogICAgICogQHBhcmFtIHBhcmFtcyBhIGV2\nZW4gc2l6ZWQgYXJyYXkgd2hvc2UgZXZlbi1pbmRleGVkIGVsZW1lbnRzIGFy\nZSBrZXlzIGFuZCBvZGQtaW5kZXhlZCBlbGVtZW50cyBhcmUgY29ycmVzcG9u\nZGluZwogICAgICogcGFyYW1ldGVyIHZhbHVlIGZvciB0aGUgcXVlcnkuIEEg\nbnVsbCBhcnJheSBkZW5vdGVzIHRoZSBxdWVyeSBpcyBub3QgcGFyYW1ldGVy\naXplZC4KICAgICAqIEBwYXJhbSBleHBlY3RlZENvdW50IGV4cGVjdGVkIG51\nbWJlciBvZiByZXN1bHRzLiBTdXBwbHkgYSBuZWdhdGl2ZSBudW1iZXIgdG8g\naWdub3JlLgogICAgICovCiAgICB2b2lkIGNvbXBhcmUoU3RyaW5nIHF1ZXJ5\nLCBib29sZWFuIGlzTmFtZWQsIGludCBleHBlY3RlZENvdW50LCBPYmplY3Qu\nLi4gcGFyYW1zKSB7CiAgICAgICAgcnVuKHF1ZXJ5LCBpc05hbWVkLCBwYXJh\nbXMsIGV4cGVjdGVkQ291bnQsICFVU0VfQ0FDSEUsIDEpOyAvLyBydW4gdGhl\nIHF1ZXJ5IG9uY2UgZm9yIHdhcm1pbmcgdXAKICAgICAgICAKICAgICAgICAv\nLyBydW4gTiB0aW1lcyB3aXRob3V0IGNhY2hlCiAgICAgICAgYXVkaXRvci5j\nbGVhcigpOwogICAgICAgIGxvbmcgd2l0aG91dCA9IHJ1bihxdWVyeSwgaXNO\nYW1lZCwgcGFyYW1zLCBleHBlY3RlZENvdW50LCAhVVNFX0NBQ0hFLCBTQU1Q\nTEVfU0laRSk7CiAgICAgICAgTGlzdDxTdHJpbmc+IG9yaWdpbmFsU1FMcyA9\nIGF1ZGl0b3IuZ2V0U1FMcygpOwogICAgICAgIAogICAgICAgIC8vIHJ1biBO\nIHRpbWVzIHdpdGggY2FjaGUKICAgICAgICBhdWRpdG9yLmNsZWFyKCk7CiAg\nICAgICAgbG9uZyB3aXRoID0gcnVuKHF1ZXJ5LCBpc05hbWVkLCBwYXJhbXMs\nIGV4cGVjdGVkQ291bnQsIFVTRV9DQUNIRSwgU0FNUExFX1NJWkUpOwogICAg\nICAgIExpc3Q8U3RyaW5nPiBjYWNoZWRTUUxzID0gYXVkaXRvci5nZXRTUUxz\nKCk7CiAgICAgICAgCiAgICAgICAgY29tcGFyZVNRTHMob3JpZ2luYWxTUUxz\nLCBjYWNoZWRTUUxzKTsKICAgICAgICBsb25nIGRlbHRhID0gKHdpdGhvdXQg\nPT0gMCkgPyAwIDogKHdpdGhvdXQgLSB3aXRoKSAqIDEwMCAvIHdpdGhvdXQ7\nCiAgICAgICAgCiAgICAgICAgU3RyaW5nIGpwcWwgPSBnZXRKUFFMU3RyaW5n\nKHF1ZXJ5LCBpc05hbWVkKTsKICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4o\nKGRlbHRhIDwgMCA/ICIqKipXQVJOICIgOiAiIikgKyBNYXRoLmFicyhkZWx0\nYSkgKyAiJSAiICsgCiAgICAgICAgICAgICAgICAoZGVsdGEgPCAwID8gImRl\nZ3JhZHRpb24iIDogImltcHJvdmVtZW50IikgKyAiIGZvciBbIisganBxbCAr\nICJdIik7CiAgICAgICAgYXNzZXJ0VHJ1ZShNYXRoLmFicyhkZWx0YSkgKyAi\nJSBkZWdyYWR0aW9uIGZvciBbIisganBxbCArICJdIiwgIUZBSUxfSUZfUEVS\nRl9ERUdSQURFIHx8IGRlbHRhID4gMCk7CiAgICB9CiAgICAKICAgIHZvaWQg\nY29tcGFyZVNRTHMoTGlzdDxTdHJpbmc+IGEsIExpc3Q8U3RyaW5nPiBiKSB7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKGEuc2l6ZSgpLCBiLnNpemUoKSk7CiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhLnNpemUoKTsgaSsrKSB7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscyhhLmdldChpKSwgYi5nZXQoaSkpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENyZWF0ZSBhIHF1ZXJ5\nIGZyb20gdGhlIGdpdmVuIHN0cmluZyBhbmQgZXhlY3V0ZSBpdCBmb3IgZ2l2\nZW4gbnVtYmVyIG9mIHRpbWVzLgogICAgICogCiAgICAgKiBAcGFyYW0ganBx\nbCBhIFN0cmluZyByZXByZXNlbnRpbmcgZWl0aGVyIGEgSlBRTCBvciB0aGUg\nbmFtZSBvZiBhIE5hbWVkUXVlcnkKICAgICAqIEBwYXJhbSBpc05hbWVkUXVl\ncnkgZmxhZ3MgaWYgdGhlIGZpcnN0IGlucHV0IHJlcHJlc2VudHMgYSBKUFFM\nIHN0cmluZyBvciBhIE5hbWVkUXVlcnkgbmFtZQogICAgICogQHBhcmFtIHBh\ncmFtcyBhIGV2ZW4gc2l6ZWQgYXJyYXkgd2hvc2UgZXZlbi1pbmRleGVkIGVs\nZW1lbnRzIGFyZSBrZXlzIGFuZCBvZGQtaW5kZXhlZCBlbGVtZW50cyBhcmUg\nY29ycmVzcG9uZGluZwogICAgICogcGFyYW1ldGVyIHZhbHVlIGZvciB0aGUg\ncXVlcnkuIEEgbnVsbCBhcnJheSBkZW5vdGVzIHRoZSBxdWVyeSBpcyBub3Qg\ncGFyYW1ldGVyaXplZC4KICAgICAqIEBwYXJhbSBleHBlY3RlZENvdW50IGV4\ncGVjdGVkIG51bWJlciBvZiByZXN1bHRzLiBTdXBwbHkgYSBuZWdhdGl2ZSBu\ndW1iZXIgdG8gaWdub3JlLgogICAgICogQHBhcmFtIHVzZUNhY2hlIGZsYWdz\nIGlmIHRoZSBQcmVwYXJlZFF1ZXJ5IGNhY2hlIGlzIHRvIGJlIGFjdGl2YXRl\nZC4KICAgICAqIEBwYXJhbSBOIG51bWJlciBvZiB0aW1lcyB0aGUgcXVlcnkg\naXMgdG8gYmUgZXhlY3V0ZWQgdG8gY2FsY3VsYXRlIHJlYXNvbmFibGUgc3Rh\ndGlzdGljcy4KICAgICAqIAogICAgICogQHJldHVybiBtZWRpYW4gdGltZSB0\nbyBleGVjdXRlIGEgcXVlcnkgYW5kIGl0ZXJhdGUgdGhyb3VnaCBpdHMgcmVz\ndWx0cyAKICAgICAqLwogICAgbG9uZyBydW4oU3RyaW5nIGpwcWwsIGJvb2xl\nYW4gaXNOYW1lZFF1ZXJ5LCBPYmplY3RbXSBwYXJhbXMsIGludCBleHBlY3Rl\nZENvdW50LCBib29sZWFuIHVzZUNhY2hlLCBpbnQgTikgewogICAgICAgIExp\nc3Q8TG9uZz4gc3RhdHMgPSBuZXcgQXJyYXlMaXN0PExvbmc+KCk7CiAgICAg\nICAgU3RyaW5nIGNhY2hlS2V5ID0gZ2V0SlBRTFN0cmluZyhqcHFsLCBpc05h\nbWVkUXVlcnkpOwogICAgICAgIFF1ZXJ5U3RhdGlzdGljczxTdHJpbmc+IGNh\nY2hlU3RhdHMgPSBnZXRQcmVwYXJlZFF1ZXJ5Q2FjaGUoKS5nZXRTdGF0aXN0\naWNzKCk7CiAgICAgICAgZ2V0UHJlcGFyZWRRdWVyeUNhY2hlKCkuY2xlYXIo\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMCwgY2FjaGVTdGF0cy5nZXRFeGVj\ndXRpb25Db3VudChjYWNoZUtleSkpOwogICAgICAgIGFzc2VydEVxdWFscygw\nLCBjYWNoZVN0YXRzLmdldEhpdENvdW50KGNhY2hlS2V5KSk7CiAgICAgICAg\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBOOyBpKyspIHsKICAgICAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkgZW0gPSAoT3BlbkpQQUVu\ndGl0eU1hbmFnZXJTUEkpZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAg\nICAgICAgICAgZW0uc2V0UXVlcnlTUUxDYWNoZSh1c2VDYWNoZSk7CiAgICAg\nICAgICAgIGFzc2VydEVxdWFscyh1c2VDYWNoZSwgZW0uZ2V0UXVlcnlTUUxD\nYWNoZSgpKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIG1lYXN1cmUg\ndGltZSAKICAgICAgICAgICAgbG9uZyBzdGFydCA9IFN5c3RlbS5uYW5vVGlt\nZSgpOwogICAgICAgICAgICBPcGVuSlBBUXVlcnk8Pz4gcSA9IGlzTmFtZWRR\ndWVyeSA/IGVtLmNyZWF0ZU5hbWVkUXVlcnkoanBxbCkgOiBlbS5jcmVhdGVR\ndWVyeShqcHFsKTsKICAgICAgICAgICAgcGFyYW1ldGVyaXplKHEsIHBhcmFt\ncyk7CiAgICAgICAgICAgIExpc3Q8Pz4gbGlzdCA9IHEuZ2V0UmVzdWx0TGlz\ndCgpOwogICAgICAgICAgICBpZiAoZXhwZWN0ZWRDb3VudCA+PSAwKQogICAg\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGV4cGVjdGVkQ291bnQsIGxpc3Qu\nc2l6ZSgpKTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgYXNz\nZXJ0RmFsc2UobGlzdC5pc0VtcHR5KCkpOwogICAgICAgICAgICBpdGVyYXRl\nKGxpc3QpOwogICAgICAgICAgICBsb25nIGVuZCA9IFN5c3RlbS5uYW5vVGlt\nZSgpOyAgIAogICAgICAgICAgICAKICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKHVzZUNhY2hlID8gaSsxIDogMCwgY2FjaGVTdGF0cy5nZXRFeGVjdXRpb25D\nb3VudChjYWNoZUtleSkpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHModXNl\nQ2FjaGUgPyBpIDogMCwgICBjYWNoZVN0YXRzLmdldEhpdENvdW50KGNhY2hl\nS2V5KSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBxLmNsb3NlQWxsKCk7\nCiAgICAgICAgICAgIHN0YXRzLmFkZChlbmQgLSBzdGFydCk7CiAgICAgICAg\nICAgIGVtLmNsb3NlKCk7CiAgICAgICAgfQogICAgICAgIGFzc2VydEVxdWFs\ncygiRXhlY3V0aW9uIENvdW50IFsiICsgY2FjaGVLZXkgKyAiXSIsIHVzZUNh\nY2hlID8gTiA6IDAsIGNhY2hlU3RhdHMuZ2V0VG90YWxFeGVjdXRpb25Db3Vu\ndCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIkhpdCBDb3VudCBbIiArIGNh\nY2hlS2V5ICsgIl0iLCB1c2VDYWNoZSA/IE4tMSA6IDAsIGNhY2hlU3RhdHMu\nZ2V0VG90YWxIaXRDb3VudCgpKTsKICAgICAgICAKICAgICAgICBDb2xsZWN0\naW9ucy5zb3J0KHN0YXRzKTsKICAgICAgICByZXR1cm4gc3RhdHMuZ2V0KE4v\nMik7CiAgICB9ICAgCiAgICAKICAgIAogICAgdm9pZCBwYXJhbWV0ZXJpemUo\nUXVlcnkgcSwgT2JqZWN0W10gcGFyYW1zKSB7CiAgICAgICAgaWYgKHBhcmFt\ncyA9PSBudWxsKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgZm9yIChp\nbnQgaiA9IDA7IHBhcmFtcyAhPSBudWxsICYmIGogPCBwYXJhbXMubGVuZ3Ro\nIC0gMTsgaiArPSAyKSB7CiAgICAgICAgICAgIE9iamVjdCBrZXkgPSBwYXJh\nbXNbal07CiAgICAgICAgICAgIE9iamVjdCB2YWwgPSBwYXJhbXNbaiArIDFd\nOwogICAgICAgICAgICBpZiAoa2V5IGluc3RhbmNlb2YgSW50ZWdlcikKICAg\nICAgICAgICAgICAgIHEuc2V0UGFyYW1ldGVyKCgoTnVtYmVyKWtleSkuaW50\nVmFsdWUoKSwgdmFsKTsgCiAgICAgICAgICAgIGVsc2UgaWYgKGtleSBpbnN0\nYW5jZW9mIFN0cmluZykKICAgICAgICAgICAgICAgIHEuc2V0UGFyYW1ldGVy\nKGtleS50b1N0cmluZygpLCB2YWwpOyAKICAgICAgICAgICAgZWxzZQogICAg\nICAgICAgICAgICAgZmFpbCgia2V5ICIgKyBrZXkgKyAiIGlzIG5laXRoZXIg\nTnVtYmVyIG5vciBTdHJpbmciKTsKICAgICAgICB9CiAgICB9CiAgICAKICAg\nIHZvaWQgaXRlcmF0ZShMaXN0PD8+IGxpc3QpIHsKICAgICAgICBJdGVyYXRv\ncjw/PiBpID0gbGlzdC5pdGVyYXRvcigpOwogICAgICAgIHdoaWxlIChpLmhh\nc05leHQoKSkKICAgICAgICAgICAgaS5uZXh0KCk7CiAgICB9CiAgICAKICAg\nIC8qKgogICAgICogR2V0cyB0aGUgSlBRTCBTdHJpbmcgb2YgYSBOYW1lZFF1\nZXJ5IG9mIHRoZSBnaXZlbiBuYW1lLgogICAgICovCiAgICBTdHJpbmcgZ2V0\nSlBRTFN0cmluZyhTdHJpbmcgbmFtZSwgYm9vbGVhbiBpc05hbWVkUXVlcnkp\nIHsKICAgICAgICBpZiAoIWlzTmFtZWRRdWVyeSkKICAgICAgICAgICAgcmV0\ndXJuIG5hbWU7CiAgICAgICAgcmV0dXJuIGVtZi5nZXRDb25maWd1cmF0aW9u\nKCkKICAgICAgICAgICAgICAgICAgLmdldE1ldGFEYXRhUmVwb3NpdG9yeUlu\nc3RhbmNlKCkKICAgICAgICAgICAgICAgICAgLmdldFF1ZXJ5TWV0YURhdGEo\nbnVsbCwgbmFtZSwgbnVsbCwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgLmdl\ndFF1ZXJ5U3RyaW5nKCk7CiAgICB9CgoKICAgIC8qKgogICAgICogQSBKREJD\nIExpc3RlbmVyIHRvIGF1ZGl0IHRhcmdldCBTUUwgZXhlY3V0ZWQgcGVyIEpQ\nUUwgcXVlcnkuCiAgICAgKgogICAgICovCiAgICBwdWJsaWMgY2xhc3MgU1FM\nQXVkaXRvciBleHRlbmRzIEFic3RyYWN0SkRCQ0xpc3RlbmVyIHsKICAgICAg\nICBwcml2YXRlIExpc3Q8U3RyaW5nPiBzcWxzID0gbmV3IEFycmF5TGlzdDxT\ndHJpbmc+KCk7CiAgICAKICAgICAgICBAT3ZlcnJpZGUKICAgICAgICBwdWJs\naWMgdm9pZCBiZWZvcmVFeGVjdXRlU3RhdGVtZW50KEpEQkNFdmVudCBldmVu\ndCkgewogICAgICAgICAgICBpZiAoZXZlbnQuZ2V0U1FMKCkgIT0gbnVsbCAm\nJiBzcWxzICE9IG51bGwpIHsKICAgICAgICAgICAgICAgc3Fscy5hZGQoZXZl\nbnQuZ2V0U1FMKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAg\nIAogICAgICAgIHZvaWQgY2xlYXIoKSB7CiAgICAgICAgICAgIHNxbHMuY2xl\nYXIoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgTGlzdDxTdHJpbmc+\nIGdldFNRTHMoKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlMaXN0\nPFN0cmluZz4oc3Fscyk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBwdWJs\naWMgc3RhdGljIGNsYXNzIFF1ZXJ5VGhyZWFkIGltcGxlbWVudHMgUnVubmFi\nbGUgewogICAgICAgIHByaXZhdGUgZmluYWwgT3BlbkpQQUVudGl0eU1hbmFn\nZXIgZW07CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcganBxbDsKICAg\nICAgICBwcml2YXRlIGJvb2xlYW4gZmFpbGVkID0gZmFsc2U7CiAgICAgICAg\ncHVibGljIFF1ZXJ5VGhyZWFkKE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtLCBT\ndHJpbmcganBxbCkgewogICAgICAgICAgICBzdXBlcigpOwogICAgICAgICAg\nICB0aGlzLmVtID0gZW07CiAgICAgICAgICAgIHRoaXMuanBxbCA9IGpwcWw7\nCiAgICAgICAgfQogICAgICAgIAogICAgICAgIHB1YmxpYyB2b2lkIHJ1bigp\nIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAoaW50\nIGkgPSAwOyBpIDwgMTAgJiYgIWZhaWxlZDsgaSsrKSB7CiAgICAgICAgICAg\nICAgICAgICAgT3BlbkpQQVF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeShqcHFs\nKTsKICAgICAgICAgICAgICAgICAgICBxLnNldFBhcmFtZXRlcigibmFtZSIs\nICJBdXRob3ItIitpKTsKICAgICAgICAgICAgICAgICAgICBxLmdldFJlc3Vs\ndExpc3QoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDEpIAogICAg\nICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoUXVlcnlMYW5ndWFn\nZXMuTEFOR19QUkVQQVJFRF9TUUwsIHEuZ2V0TGFuZ3VhZ2UoKSk7CiAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBl\nKSB7CiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAg\nICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAg\nICAgIH0KICAgICAgICAKICAgICAgICBwdWJsaWMgYm9vbGVhbiBpc0ZhaWxl\nZCgpIHsKICAgICAgICAgICAgcmV0dXJuIGZhaWxlZDsKICAgICAgICB9CiAg\nICAgICAgCiAgICB9Cgp9Cg==\n","encoding":"base64"}

