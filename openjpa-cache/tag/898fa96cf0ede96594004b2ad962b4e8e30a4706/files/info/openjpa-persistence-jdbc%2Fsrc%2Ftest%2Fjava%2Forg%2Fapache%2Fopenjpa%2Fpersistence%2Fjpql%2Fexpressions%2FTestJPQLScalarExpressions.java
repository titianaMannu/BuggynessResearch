{"sha":"8c884949a0f576f9d7f0d49f8497ffdcaaa18f9e","node_id":"MDQ6QmxvYjIwNjM2NDo4Yzg4NDk0OWEwZjU3NmY5ZDdmMGQ0OWY4NDk3ZmZkY2FhYTE4Zjll","size":14829,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8c884949a0f576f9d7f0d49f8497ffdcaaa18f9e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuanBxbC5l\neHByZXNzaW9uczsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLio7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0aWxz\nLkFic3RyYWN0VGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVzdEpQUUxTY2Fs\nYXJFeHByZXNzaW9ucyBleHRlbmRzIEFic3RyYWN0VGVzdENhc2UgewoKICAg\nIHByaXZhdGUgaW50IHVzZXJpZDEsIHVzZXJpZDIsIHVzZXJpZDMsIHVzZXJp\nZDQsIHVzZXJpZDUsIHVzZXJpZDY7CgogICAgcHVibGljIFRlc3RKUFFMU2Nh\nbGFyRXhwcmVzc2lvbnMoU3RyaW5nIG5hbWUpIHsKICAgICAgICBzdXBlcihu\nYW1lLCAianBxbGNsYXVzZXNjYWN0dXNhcHAiKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBkZWxldGVBbGwoQ29tcFVzZXIu\nY2xhc3MpOwogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50\naXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgoZW0pOwoKICAgICAgICBB\nZGRyZXNzW10gYWRkID0gbmV3IEFkZHJlc3NbXXsKICAgICAgICAgICAgbmV3\nIEFkZHJlc3MoIjQzIFNhbnNvbWUiLCAiU0YiLCAiVW5pdGVkLUtpbmdkb20i\nLCAiOTQxMDQiKSwKICAgICAgICAgICAgbmV3IEFkZHJlc3MoIjI0IE1pbmsi\nLCAiQU5USU9DSCIsICJVU0EiLCAiOTQ1MTMiKSwKICAgICAgICAgICAgbmV3\nIEFkZHJlc3MoIjIzIE9nYmV0ZSIsICJDb2FsQ2FtcCIsICJOSUdFUklBIiwg\nIjAwMDAwIiksCiAgICAgICAgICAgIG5ldyBBZGRyZXNzKCIxMCBXaWxzaGly\nZSIsICJXb3JjZXN0ZXIiLCAiQ0FOQURBIiwgIjgwMDgwIiksCiAgICAgICAg\nICAgIG5ldyBBZGRyZXNzKCIyMyBCZWxsZmxvd2VyIiwgIk9ndWkiLCBudWxs\nLCAiMDIwMDAiKSwKICAgICAgICAgICAgbmV3IEFkZHJlc3MoIjIyIE1vbnRn\nb21lcnkiLCAiU0YiLCBudWxsLCAiNTAwNTQiKSB9OwoKICAgICAgICBDb21w\nVXNlciB1c2VyMSA9IGNyZWF0ZVVzZXIoIlNlZXRoYSIsICJNQUMiLCBhZGRb\nMF0sIDM2LCB0cnVlKTsKICAgICAgICBDb21wVXNlciB1c2VyMiA9IGNyZWF0\nZVVzZXIoIlNoYW5ub24gIiwgIlBDIiwgYWRkWzFdLCAzNiwgZmFsc2UpOwog\nICAgICAgIENvbXBVc2VyIHVzZXIzID0gY3JlYXRlVXNlcigiVWdvIiwgIlBD\nIiwgYWRkWzJdLCAxOSwgdHJ1ZSk7CiAgICAgICAgQ29tcFVzZXIgdXNlcjQg\nPSBjcmVhdGVVc2VyKCJKYWNvYiIsICJMSU5VWCIsIGFkZFszXSwgMTAsIHRy\ndWUpOwogICAgICAgIENvbXBVc2VyIHVzZXI1ID0gY3JlYXRlVXNlcigiRmFt\nenkiLCAiVU5JWCIsIGFkZFs0XSwgMjksIGZhbHNlKTsKICAgICAgICBDb21w\nVXNlciB1c2VyNiA9IGNyZWF0ZVVzZXIoIlNoYWRlIiwgIlVOSVgiLCBhZGRb\nNV0sIDIzLCBmYWxzZSk7CgogICAgICAgIGVtLnBlcnNpc3QodXNlcjEpOwog\nICAgICAgIHVzZXJpZDEgPSB1c2VyMS5nZXRVc2VyaWQoKTsKICAgICAgICBl\nbS5wZXJzaXN0KHVzZXIyKTsKICAgICAgICB1c2VyaWQyID0gdXNlcjIuZ2V0\nVXNlcmlkKCk7CiAgICAgICAgZW0ucGVyc2lzdCh1c2VyMyk7CiAgICAgICAg\ndXNlcmlkMyA9IHVzZXIzLmdldFVzZXJpZCgpOwogICAgICAgIGVtLnBlcnNp\nc3QodXNlcjQpOwogICAgICAgIHVzZXJpZDQgPSB1c2VyNC5nZXRVc2VyaWQo\nKTsKICAgICAgICBlbS5wZXJzaXN0KHVzZXI1KTsKICAgICAgICB1c2VyaWQ1\nID0gdXNlcjUuZ2V0VXNlcmlkKCk7CiAgICAgICAgZW0ucGVyc2lzdCh1c2Vy\nNik7CiAgICAgICAgdXNlcmlkNiA9IHVzZXI2LmdldFVzZXJpZCgpOwoKICAg\nICAgICBlbmRUeChlbSk7CiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAg\nIEBTdXBwcmVzc1dhcm5pbmdzKCJ1bmNoZWNrZWQiKQogICAgcHVibGljIHZv\naWQgdGVzdENvYWxlc2NlRXhwcmVzc2lvbnMoKSB7CiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nc3RhcnRUeChlbSk7CgogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1Qg\nZS5uYW1lLCAiICsKICAgICAgICAgICAgIkNPQUxFU0NFIChlLmFkZHJlc3Mu\nY291bnRyeSwgJ1Vua25vd24nKSIgKwogICAgICAgICAgICAiIEZST00gQ29t\ncFVzZXIgZSBPUkRFUiBCWSBlLm5hbWUgREVTQyI7CiAgICAgICAgTGlzdCBy\ncyA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CiAg\nICAgICAgT2JqZWN0W10gcmVzdWx0ID0gKE9iamVjdFtdKSBycy5nZXQocnMu\nc2l6ZSgpLTEpOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIG5hbWUgaXMg\nbm90IGZhbXp5IiwgIkZhbXp5IiwgcmVzdWx0WzBdKTsgICAgICAgIAogICAg\nICAgIGFzc2VydEVxdWFscygiVW5rbm93biIsIHJlc3VsdFsxXSk7CgogICAg\nICAgIGVuZFR4KGVtKTsKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAg\nQFN1cHByZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0TnVsbElmRXhwcmVzc2lvbnMoKSB7CiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3Rh\ncnRUeChlbSk7CgogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1QgZS5u\nYW1lLCAiICsKICAgICAgICAgICAgIk5VTExJRiAoZS5hZGRyZXNzLmNvdW50\ncnksICdVU0EnKSIgKwogICAgICAgICAgICAiIEZST00gQ29tcFVzZXIgZSBP\nUkRFUiBCWSBlLm5hbWUgREVTQyI7CgogICAgICAgIExpc3QgcnMgPSBlbS5j\ncmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIE9i\namVjdFtdIHJlc3VsdCA9IChPYmplY3RbXSkgcnMuZ2V0KDEpOwogICAgICAg\nIGFzc2VydEVxdWFscygidGhlIG5hbWUgaXMgbm90IHNoYW5ub24gIiwgIlNo\nYW5ub24gIiwgcmVzdWx0WzBdKTsKICAgICAgICBhc3NlcnROdWxsKCJpcyBu\nb3QgbnVsbCIsIHJlc3VsdFsxXSk7CiAgICAgICAgCiAgICAgICAgZW5kVHgo\nZW0pOwogICAgICAgIGVuZEVtKGVtKTsKICAgIH0KCiAgICBAU3VwcHJlc3NX\nYXJuaW5ncygidW5jaGVja2VkIikKICAgIHB1YmxpYyB2b2lkIHRlc3RTaW1w\nbGVDYXNlRXhwcmVzc2lvbnMoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIENvbXBVc2Vy\nIHVzZXIgPSBlbS5maW5kKENvbXBVc2VyLmNsYXNzLCB1c2VyaWQxKTsKICAg\nICAgICBhc3NlcnROb3ROdWxsKCJ1c2VyIGlzIG51bGwiLCB1c2VyKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoInRoZSBuYW1lIGlzIG5vdCBzZWV0aGEiLCAi\nU2VldGhhIiwgdXNlci5nZXROYW1lKCkpOwogICAgICAgIFN0cmluZyBxdWVy\neSA9ICJTRUxFQ1QgZS5uYW1lLCBlLmFnZSsxIGFzIGNhZ2UsICIgKwogICAg\nICAgICAgICAiQ0FTRSBlLmFkZHJlc3MuY291bnRyeSBXSEVOICdVU0EnIiAr\nCiAgICAgICAgICAgICIgVEhFTiAndXMnICIgKwogICAgICAgICAgICAiIEVM\nU0UgJ25vbi11cycgIEVORCBhcyBkMiwiICsKICAgICAgICAgICAgIiBlLmFk\nZHJlc3MuY291bnRyeSAiICsKICAgICAgICAgICAgIiBGUk9NIENvbXBVc2Vy\nIGUgT1JERVIgQlkgY2FnZSwgZDIgREVTQyI7CiAgICAgICAgTGlzdCBycyA9\nIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CiAgICAg\nICAgT2JqZWN0W10gcmVzdWx0ID0gKE9iamVjdFtdKSBycy5nZXQocnMuc2l6\nZSgpLTEpOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIG5hbWUgaXMgbm90\nIHNlZXRoYSIsICJTZWV0aGEiLCByZXN1bHRbMF0pOwoKICAgICAgICBTdHJp\nbmcgcXVlcnkyID0gIlNFTEVDVCBlLm5hbWUsIGUuYWdlKzEgYXMgY2FnZSwg\nIiArCiAgICAgICAgICAgICJDQVNFIGUuYWRkcmVzcy5jb3VudHJ5IFdIRU4g\nJ1VTQSciICsKICAgICAgICAgICAgIiBUSEVOICdVbml0ZWQtU3RhdGVzJyAi\nICsKICAgICAgICAgICAgIiBFTFNFIGUuYWRkcmVzcy5jb3VudHJ5ICBFTkQg\nYXMgZDIsIiArCiAgICAgICAgICAgICIgZS5hZGRyZXNzLmNvdW50cnkgIiAr\nCiAgICAgICAgICAgICIgRlJPTSBDb21wVXNlciBlIE9SREVSIEJZIGNhZ2Us\nIGQyIERFU0MiOwogICAgICAgIExpc3QgcnMyID0gZW0uY3JlYXRlUXVlcnko\ncXVlcnkyKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgT2JqZWN0W10gcmVz\ndWx0MiA9IChPYmplY3RbXSkgcnMyLmdldChyczIuc2l6ZSgpLTEpOwogICAg\nICAgIGFzc2VydEVxdWFscygidGhlIG5hbWUgaXMgbm90IHNlZXRoYSIsICJT\nZWV0aGEiLCByZXN1bHQyWzBdKTsKCiAgICAgICAgU3RyaW5nIHF1ZXJ5MyA9\nICJTRUxFQ1QgZS5uYW1lLCAiICsKICAgICAgICAgICAgIiBDQVNFIFRZUEUo\nZSkgV0hFTiBGZW1hbGVVc2VyIFRIRU4gJ0ZlbWFsZScgIiArCiAgICAgICAg\nICAgICIgRUxTRSAnTWFsZScgIiArCiAgICAgICAgICAgICIgRU5EIGFzIHJl\nc3VsdCIgKwogICAgICAgICAgICAiIEZST00gQ29tcFVzZXIgZSBXSEVSRSBl\nLm5hbWUgbGlrZSAnUyUnICIgKwogICAgICAgICAgICAiIE9SREVSIEJZIGUu\nbmFtZSBERVNDIjsKICAgICAgICBMaXN0IHJzMyA9IGVtLmNyZWF0ZVF1ZXJ5\nKHF1ZXJ5MykuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIE9iamVjdFtdIHJl\nc3VsdDMgPSAoT2JqZWN0W10pIHJzMy5nZXQoMCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ0aGUgcmVzdWx0IGlzIG5vdCBmZW1hbGUiLCAiRmVtYWxlIiwg\ncmVzdWx0M1sxXSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGUgbmFtZSBp\ncyBub3Qgc2hhbm5vbiIsICJTaGFubm9uICIsIHJlc3VsdDNbMF0pOwogICAg\nICAgIHJlc3VsdDMgPSAoT2JqZWN0W10pIHJzMy5nZXQoMik7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJ0aGUgcmVzdWx0IGlzIG5vdCBtYWxlIiwgIk1hbGUi\nLCByZXN1bHQzWzFdKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInRoZSBuYW1l\nIGlzIG5vdCBzZWV0aGEiLCAiU2VldGhhIiwgcmVzdWx0M1swXSk7CgogICAg\nICAgIC8vIGJvb2xlYW4gbGl0ZXJhbCBpbiBjYXNlIGV4cHJlc3Npb24KICAg\nICAgICBxdWVyeSA9ICJTRUxFQ1QgZS5uYW1lLCAiICsKICAgICAgICAgICAg\nIkNBU0UgZS5hZGRyZXNzLmNvdW50cnkgV0hFTiAnVVNBJyIgKwogICAgICAg\nICAgICAiIFRIRU4gdHJ1ZSAiICsKICAgICAgICAgICAgIiBFTFNFIGZhbHNl\nICBFTkQgYXMgYiwiICsKICAgICAgICAgICAgIiBlLmFkZHJlc3MuY291bnRy\neSAiICsKICAgICAgICAgICAgIiBGUk9NIENvbXBVc2VyIGUgb3JkZXIgYnkg\nYiI7CiAgICAgICAgcnMgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVz\ndWx0TGlzdCgpOwoKICAgICAgICByZXN1bHQgPSAoT2JqZWN0W10pIHJzLmdl\ndChycy5zaXplKCktMSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHJlc3VsdFsx\nXSwgMSk7CgogICAgICAgIHN0YXJ0VHgoZW0pOwogICAgICAgIFN0cmluZyB1\ncGRhdGUgPSAidXBkYXRlIENvbXBVc2VyIGMgc2V0IGMuY3JlZGl0UmF0aW5n\nID0gIiArCiAgICAgICAgICAgICIgQ0FTRSBjLmFnZSBXSEVOIDM1IFRIRU4g\nIiArCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuY29tbW9uLmFwcHMuIiArCiAgICAgICAgICAgICJDb21wVXNlciRDcmVk\naXRSYXRpbmcuUE9PUiIgKyAKICAgICAgICAgICAgIiBXSEVOIDExIFRIRU4g\nIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmNvbW1vbi5hcHBzLiIgKyAKICAgICAgICAgICAgIkNvbXBVc2VyJENy\nZWRpdFJhdGluZy5HT09EIiArCiAgICAgICAgICAgICIgRUxTRSAiICsgCiAg\nICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29t\nbW9uLmFwcHMuIiArIAogICAgICAgICAgICAiQ29tcFVzZXIkQ3JlZGl0UmF0\naW5nLkVYQ0VMTEVOVCIgKwogICAgICAgICAgICAiIEVORCAiOwogICAgICAg\nIGludCB1cGRhdGVDb3VudCA9IGVtLmNyZWF0ZVF1ZXJ5KHVwZGF0ZSkuZXhl\nY3V0ZVVwZGF0ZSgpOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIHJlc3Vs\ndCBpcyBub3QgNiIsIDYsIHVwZGF0ZUNvdW50KTsKCiAgICAgICAgLyoKICAg\nICAgICAvL0RlcmJ5IGZhaWxzIGJ1dCBEQjIgd29ya3MgCiAgICAgICAgU3Ry\naW5nIHVwZGF0ZTIgPSAidXBkYXRlIENvbXBVc2VyIGMgc2V0IGMuY3JlZGl0\nUmF0aW5nID0gIiArCiAgICAgICAgICAgICIgKHNlbGVjdCAiICsKICAgICAg\nICAgICAgIiBDQVNFIGMxLmFnZSBXSEVOIDEwIFRIRU4gIiArIAogICAgICAg\nICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5h\ncHBzLiIgKyAKICAgICAgICAgICAgICBDb21wVXNlciRDcmVkaXRSYXRpbmcu\nUE9PUiIgKyAKICAgICAgICAgICAgIiBXSEVOIDE5IFRIRU4gIiArIAogICAg\nICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1v\nbi5hcHBzLiIgKyAKICAgICAgICAgICAgIkNvbXBVc2VyJENyZWRpdFJhdGlu\nZy5HT09EICIgKwogICAgICAgICAgICAiIEVMU0UgIiArIAogICAgICAgICAg\nICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBz\nLiIgKyAKICAgICAgICAgICAgQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLkVYQ0VM\nTEVOVCAiICsKICAgICAgICAgICAgIiBFTkQgIiArCiAgICAgICAgICAgICIg\nZnJvbSBDb21wVXNlciBjMSIgKwogICAgICAgICAgICAiIHdoZXJlIGMudXNl\ncmlkID0gYzEudXNlcmlkKSI7CiAgICAgICAgdXBkYXRlQ291bnQgPSBlbS5j\ncmVhdGVRdWVyeSh1cGRhdGUyKS5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJ0aGUgcmVzdWx0IGlzIG5vdCA2IiwgNiwgdXBkYXRl\nQ291bnQpOwogICAgICAgICovCiAgICAgICAgZW5kVHgoZW0pOwogICAgICAg\nIGVuZEVtKGVtKTsKICAgIH0KCiAgICBAU3VwcHJlc3NXYXJuaW5ncygidW5j\naGVja2VkIikKICAgIHB1YmxpYyB2b2lkIHRlc3RHZW5lcmFsQ2FzZUV4cHJl\nc3Npb25zKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50\nRW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgoZW0pOwoKICAgICAg\nICBDb21wVXNlciB1c2VyID0gZW0uZmluZChDb21wVXNlci5jbGFzcywgdXNl\ncmlkMSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbCgidXNlciBpcyBudWxsIiwg\ndXNlcik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGUgbmFtZSBpcyBub3Qg\nc2VldGhhIiwgIlNlZXRoYSIsIHVzZXIuZ2V0TmFtZSgpKTsKCiAgICAgICAg\nU3RyaW5nIHF1ZXJ5ID0gIlNFTEVDVCBlLm5hbWUsIGUuYWdlLCAiICsKICAg\nICAgICAgICAgIiBDQVNFIFdIRU4gZS5hZ2UgPiAzMCBUSEVOIGUuYWdlIC0g\nMSAiICsKICAgICAgICAgICAgIiBXSEVOIGUuYWdlIDwgMTUgVEhFTiBlLmFn\nZSArIDEgIiArCiAgICAgICAgICAgICIgRUxTRSBlLmFnZSArIDAgIiArCiAg\nICAgICAgICAgICIgRU5EIEFTIGNhZ2UgIiArCiAgICAgICAgICAgICIgRlJP\nTSBDb21wVXNlciBlIE9SREVSIEJZIGNhZ2UiOwogICAgICAgIExpc3QgcnMg\nPSBlbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOwoKICAg\nICAgICBTdHJpbmcgdXBkYXRlID0gIlVQREFURSBDb21wVXNlciBlIFNFVCBl\nLmFnZSA9ICIgKwogICAgICAgICAgICAiQ0FTRSBXSEVOIGUuYWdlID4gMzAg\nVEhFTiBlLmFnZSAtIDEgIiArCiAgICAgICAgICAgICJXSEVOIGUuYWdlIDwg\nMTUgVEhFTiBlLmFnZSArIDEgIiArCiAgICAgICAgICAgICJFTFNFIGUuYWdl\nICsgMCAiICsKICAgICAgICAgICAgIkVORCI7CgogICAgICAgIGludCByZXN1\nbHQgPSBlbS5jcmVhdGVRdWVyeSh1cGRhdGUpLmV4ZWN1dGVVcGRhdGUoKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoInRoZSByZXN1bHQgaXMgbm90IDYiLCA2\nLCByZXN1bHQpOwogICAgICAgIAogICAgICAgIFN0cmluZyBxdWVyeTIgPSAi\nU0VMRUNUIGUubmFtZSwgZS5hZ2UrMSBhcyBjYWdlLCAiICsKICAgICAgICAg\nICAgIkNBU0UgV0hFTiBlLmFkZHJlc3MuY291bnRyeSA9ICdVU0EnICIgKwog\nICAgICAgICAgICAiIFRIRU4gJ1VuaXRlZC1TdGF0ZXMnICIgKwogICAgICAg\nICAgICAiIEVMU0UgJ05vbiBVbml0ZWQtU3RhdGVzJyAgRU5EIGFzIGQyLCIg\nKwogICAgICAgICAgICAiIGUuYWRkcmVzcy5jb3VudHJ5ICIgKwogICAgICAg\nICAgICAiIEZST00gQ29tcFVzZXIgZSBPUkRFUiBCWSBjYWdlLCBkMiBERVND\nIjsKICAgICAgICBMaXN0IHJzMiA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5Miku\nZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIE9iamVjdFtdIHJlc3VsdDIgPSAo\nT2JqZWN0W10pIHJzMi5nZXQocnMyLnNpemUoKS0xKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoInRoZSBuYW1lIGlzIG5vdCBzZWV0aGEiLCAiU2VldGhhIiwg\ncmVzdWx0MlswXSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGUgY291bnRy\neSBpcyBub3QgJ05vbiBVbml0ZWQtU3RhdGVzJyIsIAogICAgICAgICAgICAi\nTm9uIFVuaXRlZC1TdGF0ZXMiLCByZXN1bHQyWzJdKTsKICAgICAgICAKICAg\nICAgICBTdHJpbmcgcXVlcnkzID0gIiBzZWxlY3QgZS5uYW1lLCAiICsKICAg\nICAgICAgICAgIkNBU0UgV0hFTiBlLmFnZSA9IDExIFRIRU4gIiArCiAgICAg\nICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9u\nLmFwcHMuIiArCiAgICAgICAgICAgICJDb21wVXNlciRDcmVkaXRSYXRpbmcu\nUE9PUiIgKyAKICAgICAgICAgICAgIiBXSEVOIGUuYWdlID0gMzUgVEhFTiAi\nICsgCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuY29tbW9uLmFwcHMuIiArCiAgICAgICAgICAgICJDb21wVXNlciRDcmVk\naXRSYXRpbmcuR09PRCIgKwogICAgICAgICAgICAiIEVMU0UgIiArIAogICAg\nICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1v\nbi5hcHBzLiIgKwogICAgICAgICAgICAiQ29tcFVzZXIkQ3JlZGl0UmF0aW5n\nLkVYQ0VMTEVOVCIgKwogICAgICAgICAgICAiIEVORCBGUk9NIENvbXBVc2Vy\nIGUgT1JERVIgQlkgZS5hZ2UiOwogICAgICAgIExpc3QgcnMzID0gZW0uY3Jl\nYXRlUXVlcnkocXVlcnkzKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgT2Jq\nZWN0W10gcmVzdWx0MyA9IChPYmplY3RbXSkgcnMzLmdldCgwKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoInRoZSBuYW1lIGlzIG5vdCBKYWNvYiIsICJKYWNv\nYiIsIHJlc3VsdDNbMF0pOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIGNy\nZWRpdCByYXRpbmcgaXMgbm90ICdQT09SJyIsICJQT09SIiwgcmVzdWx0M1sx\nXSk7CgogICAgICAgIFN0cmluZyB1cGRhdGUyID0gInVwZGF0ZSBDb21wVXNl\nciBjIHNldCBjLmNyZWRpdFJhdGluZyA9ICIgKwogICAgICAgICAgICAiIENB\nU0UgV0hFTiBjLm5hbWUgPSdKYWNvYicgVEhFTiAiICsKICAgICAgICAgICAg\nIm9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24uYXBwcy5D\nb21wVXNlciRDcmVkaXRSYXRpbmcuUE9PUiIgKyAKICAgICAgICAgICAgIiBX\nSEVOIGMubmFtZSA9ICdVZ28nIFRIRU4gIiArIAogICAgICAgICAgICAib3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLkNvbXBV\nc2VyJENyZWRpdFJhdGluZy5HT09EICIgKwogICAgICAgICAgICAiIEVMU0Ug\nIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmNvbW1vbi5hcHBzLkNvbXBVc2VyJENyZWRpdFJhdGluZy5FWENFTExF\nTlQgIiArCiAgICAgICAgICAgICIgRU5EICI7CiAgICAgICAgaW50IHVwZGF0\nZUNvdW50ID0gZW0uY3JlYXRlUXVlcnkodXBkYXRlMikuZXhlY3V0ZVVwZGF0\nZSgpOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIHJlc3VsdCBpcyBub3Qg\nNiIsIDYsIHVwZGF0ZUNvdW50KTsKICAgICAgICAKICAgICAgICAKICAgICAg\nICBTdHJpbmcgdXBkYXRlMyA9ICJ1cGRhdGUgQ29tcFVzZXIgYyBzZXQgYy5j\ncmVkaXRSYXRpbmcgPSAiICsKICAgICAgICAgICAgIiBDQVNFIFdIRU4gYy5h\nZ2UgPiAzMCBUSEVOICIgKwogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLiIgKwogICAgICAgICAgICAi\nQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLlBPT1IiICsgCiAgICAgICAgICAgICIg\nV0hFTiBjLmFnZSA8IDE1IFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLiIgKwogICAg\nICAgICAgICAiQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLkdPT0QgIiArCiAgICAg\nICAgICAgICIgRUxTRSAiICsgCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuIiArCiAgICAgICAgICAg\nICJDb21wVXNlciRDcmVkaXRSYXRpbmcuRVhDRUxMRU5UICIgKwogICAgICAg\nICAgICAiIEVORCAiOyAKICAgICAgICB1cGRhdGVDb3VudCA9IGVtLmNyZWF0\nZVF1ZXJ5KHVwZGF0ZTMpLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoInRoZSByZXN1bHQgaXMgbm90IDYiLCA2LCB1cGRhdGVDb3Vu\ndCk7CiAgICAgICAgCiAgICAgICAgU3RyaW5nIHF1ZXJ5NCA9ICJzZWxlY3Qg\nZS5uYW1lLCBlLmNyZWRpdFJhdGluZyBmcm9tIENvbXBVc2VyIGUgIiArIAog\nICAgICAgICAgICAid2hlcmUgZS5jcmVkaXRSYXRpbmcgPSAiICsKICAgICAg\nICAgICAgIihzZWxlY3QgIiArCiAgICAgICAgICAgICJDQVNFIFdIRU4gZTEu\nYWdlID0gMTEgVEhFTiAiICsgCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuIiArCiAgICAgICAgICAg\nICJDb21wVXNlciRDcmVkaXRSYXRpbmcuUE9PUiIgKyAKICAgICAgICAgICAg\nIiBXSEVOIGUxLmFnZSA9IDM1IFRIRU4gIiArIAogICAgICAgICAgICAib3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLiIgKwog\nICAgICAgICAgICAiQ29tcFVzZXIkQ3JlZGl0UmF0aW5nLkdPT0QiICsKICAg\nICAgICAgICAgIiBFTFNFICIgKyAKICAgICAgICAgICAgIm9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24uYXBwcy4iICsKICAgICAgICAg\nICAgIkNvbXBVc2VyJENyZWRpdFJhdGluZy5FWENFTExFTlQiICsKICAgICAg\nICAgICAgIiBFTkQgIiArCiAgICAgICAgICAgICJmcm9tIENvbXBVc2VyIGUx\nIiArCiAgICAgICAgICAgICIgd2hlcmUgZS51c2VyaWQgPSBlMS51c2VyaWQp\nIE9SREVSIEJZIGUuYWdlIjsKICAgICAgICBMaXN0IHJzNCA9IGVtLmNyZWF0\nZVF1ZXJ5KHF1ZXJ5NCkuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIE9iamVj\ndFtdIHJlc3VsdDQgPSAoT2JqZWN0W10pIHJzNC5nZXQoMCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJ0aGUgbmFtZSBpcyBub3QgVWdvIiwgIlVnbyIsIHJl\nc3VsdDRbMF0pOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIGNyZWRpdCBy\nYXRpbmcgaXMgbm90ICdFWENFTExFTlQnIiwgIkVYQ0VMTEVOVCIsCiAgICAg\nICAgICAgICgob3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1v\nbi5hcHBzLkNvbXBVc2VyLkNyZWRpdFJhdGluZykKICAgICAgICAgICAgcmVz\ndWx0NFsxXSkubmFtZSgpKTsKICAgICAgICAKICAgICAgICBTdHJpbmcgdXBk\nYXRlNCA9ICJ1cGRhdGUgQ29tcFVzZXIgYyBzZXQgYy5jcmVkaXRSYXRpbmcg\nPSAiICsKICAgICAgICAgICAgIiBDQVNFIGMuYWdlIFdIRU4gMzUgVEhFTiAi\nICsKICAgICAgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5jb21tb24uYXBwcy4iICsKICAgICAgICAgICAgIkNvbXBVc2VyJENyZWRp\ndFJhdGluZy5QT09SIiArIAogICAgICAgICAgICAiIFdIRU4gMTEgVEhFTiAi\nICsgCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuY29tbW9uLmFwcHMuIiArCiAgICAgICAgICAgICJDb21wVXNlciRDcmVk\naXRSYXRpbmcuR09PRCAiICsKICAgICAgICAgICAgIiBFTFNFICIgKyAKICAg\nICAgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21t\nb24uYXBwcy4iICsKICAgICAgICAgICAgIkNvbXBVc2VyJENyZWRpdFJhdGlu\nZy5FWENFTExFTlQgIiArCiAgICAgICAgICAgICIgRU5EICI7IAogICAgICAg\nIHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KHVwZGF0ZTQpLmV4ZWN1dGVVcGRh\ndGUoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInRoZSByZXN1bHQgaXMgbm90\nIDYiLCA2LCByZXN1bHQpOwoKICAgICAgICAvLyBEZXJieSBmYWlscyBidXQg\nREIyIHdvcmtzIAogICAgICAgIC8qCiAgICAgICAgU3RyaW5nIHVwZGF0ZTQg\nPSAidXBkYXRlIENvbXBVc2VyIGMgc2V0IGMuY3JlZGl0UmF0aW5nID0gIiAr\nCiAgICAgICAgICAgICIgKHNlbGVjdCAiICsKICAgICAgICAgICAgIiBDQVNF\nIGMxLmFnZSBXSEVOIDEwIFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLgogICAgICAg\nICAgICBDb21wVXNlciRDcmVkaXRSYXRpbmcuUE9PUiIgKyAKICAgICAgICAg\nICAgIiBXSEVOIDE5IFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzCiAgICAgICAgICAg\nIC5Db21wVXNlciRDcmVkaXRSYXRpbmcuR09PRCIgKwogICAgICAgICAgICAi\nIEVMU0UgIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLmNvbW1vbi5hcHBzLgogICAgICAgICAgICBDb21wVXNlciRD\ncmVkaXRSYXRpbmcuRVhDRUxMRU5UIiArCiAgICAgICAgICAgICIgRU5EICIg\nKwogICAgICAgICAgICAiIGZyb20gQ29tcFVzZXIgYzEiICsKICAgICAgICAg\nICAgIiB3aGVyZSBjLnVzZXJpZCA9IGMxLnVzZXJpZCkiOwogICAgICAgIHVw\nZGF0ZUNvdW50ID0gZW0uY3JlYXRlUXVlcnkodXBkYXRlNCkuZXhlY3V0ZVVw\nZGF0ZSgpOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIHJlc3VsdCBpcyBu\nb3QgNiIsIDYsIHVwZGF0ZUNvdW50KTsKICAgICAgICAqLwogICAgICAgIGVu\nZFR4KGVtKTsKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgQFN1cHBy\nZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nTWF0aEZ1bmNPcmRlckJ5QWxpYXMoKSB7CiAgICAgICAgRW50aXR5TWFuYWdl\nciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIFN0cmlu\nZyBxdWVyeSA9ICJTRUxFQ1QgZS5hZ2UgKiAyIGFzIGNBZ2UgRlJPTSBDb21w\nVXNlciBlIE9SREVSIEJZIGNBZ2UiOwoKICAgICAgICBMaXN0IHJlc3VsdCA9\nIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CgogICAg\nICAgIGFzc2VydE5vdE51bGwocmVzdWx0KTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoNiwgcmVzdWx0LnNpemUoKSk7CgogICAgICAgIGVuZEVtKGVtKTsKICAg\nIH0KCiAgICBwdWJsaWMgQ29tcFVzZXIgY3JlYXRlVXNlcihTdHJpbmcgbmFt\nZSwgU3RyaW5nIGNOYW1lLCBBZGRyZXNzIGFkZCwgaW50IGFnZSwKICAgICAg\nICBib29sZWFuIGlzTWFsZSkgewogICAgICAgIENvbXBVc2VyIHVzZXIgPSBu\ndWxsOwogICAgICAgIGlmIChpc01hbGUpIHsKICAgICAgICAgICAgdXNlciA9\nIG5ldyBNYWxlVXNlcigpOwogICAgICAgICAgICB1c2VyLnNldE5hbWUobmFt\nZSk7CiAgICAgICAgICAgIHVzZXIuc2V0Q29tcHV0ZXJOYW1lKGNOYW1lKTsK\nICAgICAgICAgICAgdXNlci5zZXRBZGRyZXNzKGFkZCk7CiAgICAgICAgICAg\nIHVzZXIuc2V0QWdlKGFnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAg\nICAgdXNlciA9IG5ldyBGZW1hbGVVc2VyKCk7CiAgICAgICAgICAgIHVzZXIu\nc2V0TmFtZShuYW1lKTsKICAgICAgICAgICAgdXNlci5zZXRDb21wdXRlck5h\nbWUoY05hbWUpOwogICAgICAgICAgICB1c2VyLnNldEFkZHJlc3MoYWRkKTsK\nICAgICAgICAgICAgdXNlci5zZXRBZ2UoYWdlKTsKICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIHVzZXI7CiAgICB9Cn0K\n","encoding":"base64"}

