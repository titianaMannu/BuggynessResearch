{"sha":"22f9c95a57f41aaaa1c7a07c8653e64a38d01776","node_id":"MDQ6QmxvYjIwNjM2NDoyMmY5Yzk1YTU3ZjQxYWFhYTFjN2EwN2M4NjUzZTY0YTM4ZDAxNzc2","size":2733,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/22f9c95a57f41aaaa1c7a07c8653e64a38d01776","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsK\nCmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXI7CmltcG9y\ndCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLnV0aWwuSjJEb1ByaXZIZWxwZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLm1ldGEuTWV0YURhdGFSZXBvc2l0b3J5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuUXVlcnlNZXRhRGF0YTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5\nTWFuYWdlckZhY3RvcnlTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UudGVzdC5BYnN0cmFjdFBlcnNpc3RlbmNlVGVzdENhc2U7\nCgpwdWJsaWMgY2xhc3MgVGVzdE1ldGFEYXRhUmVwb3NpdG9yeSBleHRlbmRz\nIEFic3RyYWN0UGVyc2lzdGVuY2VUZXN0Q2FzZSB7CiAgICBwcml2YXRlIGZp\nbmFsIFN0cmluZyBQVV9OQU1FID0gIm1kci1wdSI7CgogICAgQE92ZXJyaWRl\nCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIHN1cGVyLnNldFVwKCk7CgogICAgfQoKICAgIC8qKgogICAgICog\nVGhpcyBtZXRob2QgZW5zdXJlcyB0aGF0IHNvbWUgb2YgdGhlIGJhc2ljIE1l\ndGFEYXRhIGlzIHByb3Blcmx5IHJlZ2lzdGVyZWQgYWZ0ZXIgY3JlYXRpbmcg\nYW4KICAgICAqIEVNRi4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdFBy\nZWxvYWRCYXNpYygpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZh\nY3RvcnlTUEkgZW1mID0gbnVsbDsKICAgICAgICB0cnkgewogICAgICAgICAg\nICBlbWYgPSBjcmVhdGVOYW1lZEVNRihQVV9OQU1FLCAib3BlbmpwYS5NZXRh\nRGF0YVJlcG9zaXRvcnkiLCAiUHJlbG9hZD10cnVlIik7CiAgICAgICAgICAg\nIE1ldGFEYXRhUmVwb3NpdG9yeSBtZHIgPSBlbWYuZ2V0Q29uZmlndXJhdGlv\nbigpLmdldE1ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCk7CgogICAgICAg\nICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIGNhY2hlZCBtZXRhZGF0YSBp\nbiB0aGUgcmVwbwogICAgICAgICAgICBDbGFzc01ldGFEYXRhIG1ldGFkYXRh\nID0gbWRyLmdldENhY2hlZE1ldGFEYXRhKE1kclRlc3RFbnRpdHkuY2xhc3Mp\nOwogICAgICAgICAgICBhc3NlcnROb3ROdWxsKG1ldGFkYXRhKTsKCiAgICAg\nICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZXJlIGlzIGFuIGFsaWFzIHJl\nZ2lzdGVyZWQKLy8gICAgICAgICAgICBpbnQgbnVtRW50aXRpZXMgPQovLyAg\nICAgICAgICAgICAgICBtZHIuZ2V0UGVyc2lzdGVudFR5cGVOYW1lcyhmYWxz\nZSwKLy8gICAgICAgICAgICAgICAgICAgIEFjY2Vzc0NvbnRyb2xsZXIuZG9Q\ncml2aWxlZ2VkKEoyRG9Qcml2SGVscGVyLmdldENvbnRleHRDbGFzc0xvYWRl\nckFjdGlvbigpKSkuc2l6ZSgpOwogICAgICAgICAgICBDb2xsZWN0aW9uPFN0\ncmluZz4gYWxpYXNlcyA9IG1kci5nZXRBbGlhc05hbWVzKCk7CiAgICAgICAg\nICAgIGFzc2VydFRydWUoYWxpYXNlcy5jb250YWlucygiTWRyVGVzdEVudGl0\neSIpKTsKCi8vICAgICAgICAgICAgYXNzZXJ0VHJ1ZShhbGlhc2VzLnNpemUo\nKSA9PSBudW1FbnRpdGllcyk7CgogICAgICAgICAgICBRdWVyeU1ldGFEYXRh\nIHF1ZXJ5ID0gbWRyLmdldENhY2hlZFF1ZXJ5TWV0YURhdGEoTWRyVGVzdEVu\ndGl0eS5jbGFzcywgInF1ZXJ5Iik7CiAgICAgICAgICAgIGFzc2VydE5vdE51\nbGwocXVlcnkpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGlm\nIChlbWYgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgZW1mLmNsb3NlKCk7\nCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

