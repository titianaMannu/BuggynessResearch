{"sha":"9899d8c80ef40c7f3f1f58e2b0fc4b68fc03810e","node_id":"MDQ6QmxvYjIwNjM2NDo5ODk5ZDhjODBlZjQwYzdmM2YxZjU4ZTJiMGZjNGI2OGZjMDM4MTBl","size":3727,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9899d8c80ef40c7f3f1f58e2b0fc4b68fc03810e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsK\nCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGls\nLkhhc2hTZXQ7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEu\ndXRpbC5TZXQ7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFu\nYWdlckZhY3Rvcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEu\nTWV0YURhdGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlclNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOwoKcHVibGljIGNs\nYXNzIFRlc3RRdWVyeVR5cGVBbGlhc1JlZ2lzdHJhdGlvbiBleHRlbmRzIFNp\nbmdsZUVNRlRlc3RDYXNlIHsKICAgIHByaXZhdGUgZmluYWwgaW50IHRocmVh\nZHMgPSAxMDA7CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBzZXRV\ncCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHN1cGVyLnNldFVwKE1k\nclRlc3RFbnRpdHkuY2xhc3MpOwogICAgICAgIGFzc2VydE5vdE51bGwoZW1m\nKTsKICAgICAgICAvLyBDcmVhdGUgdGhlIEVudGl0eSB3aGljaCB3ZSdyZSBn\nb2luZyB0byB0cnkgdG8gZ2V0IE1ldGFEYXRhIGZvciB1c2luZwogICAgICAg\nIC8vIGFuIGFsaWFzLiBEbyB0aGlzIHRvIGVuc3VyZSB0aGF0IGl0IGhhcyBi\nZWVuIHJlZ2lzdGVyZWQgdG8gdGhlIFBDUmVnaXN0cnkuCiAgICAgICAgbmV3\nIE1kclRlc3RFbnRpdHkoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMg\nbWV0aG9kIHRlc3RzIGEgdGltaW5nIHdpbmRvdyB3aGVyZSBtb3JlIHRoYW4g\nb25lIHRocmVhZCByZXF1ZXN0cyBNZXRhRGF0YSB1c2luZyBhbiBhbGlhcwog\nICAgICogYXQgdGhlIHNhbWUgdGltZS4gQWxsIHRocmVhZHMgc2hvdWxkIGdl\ndCBkYXRhIGJhY2sgYW5kIG5vIHRocmVhZHMgc2hvdWxkIHJlY2VpdmUgYW4K\nICAgICAqIGV4Y2VwdGlvbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVz\ndE11bHRpVGhyZWFkR2V0TWV0YURhdGFBbGlhcygpIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIExpc3Q8V29ya2VyPiB3\nb3JrZXJzID0gbmV3IEFycmF5TGlzdDxXb3JrZXI+KCk7CiAgICAgICAgICAg\nIFNldDxFeGNlcHRpb24+IGV4Y2VwdGlvbnMgPSBuZXcgSGFzaFNldDxFeGNl\ncHRpb24+KCk7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgdGhy\nZWFkczsgaSsrKSB7CiAgICAgICAgICAgICAgICBXb3JrZXIgdyA9IG5ldyBX\nb3JrZXIoZW1mKTsKICAgICAgICAgICAgICAgIHdvcmtlcnMuYWRkKHcpOwog\nICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoV29ya2VyIHcgOiB3b3Jr\nZXJzKSB7CiAgICAgICAgICAgICAgICB3LnN0YXJ0KCk7CiAgICAgICAgICAg\nIH0KICAgICAgICAgICAgZm9yIChXb3JrZXIgdyA6IHdvcmtlcnMpIHsKICAg\nICAgICAgICAgICAgIHcuam9pbigpOwogICAgICAgICAgICAgICAgRXhjZXB0\naW9uIGUgPSB3LmdldEV4Y2VwdGlvbigpOwogICAgICAgICAgICAgICAgaWYg\nKGUgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGV4Y2VwdGlvbnMu\nYWRkKHcuZ2V0RXhjZXB0aW9uKCkpOwogICAgICAgICAgICAgICAgfQogICAg\nICAgICAgICB9CiAgICAgICAgICAgIGFzc2VydFRydWUoIkNhdWdodCAiICAr\nIGV4Y2VwdGlvbnMudG9TdHJpbmcoKSwgZXhjZXB0aW9ucy5zaXplKCkgPT0g\nMCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgaWYgKGVtZiAh\nPSBudWxsKSB7CiAgICAgICAgICAgICAgICBlbWYuY2xvc2UoKTsKICAgICAg\nICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBjbGFzcyBXb3JrZXIgZXh0\nZW5kcyBUaHJlYWQgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFj\ndG9yeVNQSSBlbWY7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkg\nZW07CiAgICAgICAgTWV0YURhdGFSZXBvc2l0b3J5IHJlcG87CiAgICAgICAg\nRXhjZXB0aW9uIGV4OwoKICAgICAgICBXb3JrZXIoRW50aXR5TWFuYWdlckZh\nY3RvcnkgZSkgewogICAgICAgICAgICBlbWYgPSAoT3BlbkpQQUVudGl0eU1h\nbmFnZXJGYWN0b3J5U1BJKSBlOwogICAgICAgICAgICAvLyBDcmVhdGUgYW4g\nRU0gaGVyZSBiZWNhdXNlIHRoYXQgdHJpZ2dlcnMgcmVnaXN0ZXJpbmcgdGhl\nIE1EUiBhcyBhIGNsYXNzIHJlZ2lzdHJhdGlvbgogICAgICAgICAgICAvLyBs\naXN0ZW5lciB3aXRoIHRoZSBQQ1JlZ2lzdHJ5LgogICAgICAgICAgICBlbSA9\nIGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgICAgIHJlcG8g\nPSBlbS5nZXRDb25maWd1cmF0aW9uKCkuZ2V0TWV0YURhdGFSZXBvc2l0b3J5\nSW5zdGFuY2UoKTsKICAgICAgICB9CgogICAgICAgIEV4Y2VwdGlvbiBnZXRF\neGNlcHRpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBleDsKICAgICAgICB9\nCgogICAgICAgIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyB2b2lkIHJ1bigp\nIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJlcG8uZ2V0\nTWV0YURhdGEoIk1kclRlc3RFbnRpdHkiLCBUaHJlYWQuY3VycmVudFRocmVh\nZCgpLmdldENvbnRleHRDbGFzc0xvYWRlcigpLCB0cnVlKTsKICAgICAgICAg\nICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgICAgIGV4\nID0gZTsKICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAg\nICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBlbS5jbG9z\nZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

