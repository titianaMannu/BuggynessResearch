{"sha":"fcf494bef732a38642c8347488e741e17256d657","node_id":"MDQ6QmxvYjIwNjM2NDpmY2Y0OTRiZWY3MzJhMzg2NDJjODM0NzQ4OGU3NDFlMTcyNTZkNjU3","size":5276,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fcf494bef732a38642c8347488e741e17256d657","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5sb2NrbWdyOwoK\naW1wb3J0IGphdmEudXRpbC5BcnJheXM7CgppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLkxvY2tNb2RlVHlwZTsKCi8qKgogKiBUZXN0IEVudGl0eU1hbmFnZXIgZmlu\nZC9uYW1lZFF1ZXJ5IGRlYWRsb2NrIGV4Y2VwdGlvbnMuCiAqLwpwdWJsaWMg\nY2xhc3MgVGVzdE1peGVkTG9ja01hbmFnZXJEZWFkbG9jayBleHRlbmRzIFNl\ncXVlbmNlZEFjdGlvbnNUZXN0IHsKICAgIHByaXZhdGUgREJUeXBlIGRiVHlw\nZTsKICAgIAogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAgc2V0\nU3VwcG9ydGVkRGF0YWJhc2VzKAogICAgICAgICAgICAgICAgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc3FsLkRlcmJ5RGljdGlvbmFyeS5jbGFzcywKICAg\nICAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5PcmFj\nbGVEaWN0aW9uYXJ5LmNsYXNzLAogICAgICAgICAgICAgICAgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc3FsLkRCMkRpY3Rpb25hcnkuY2xhc3MpOwogICAg\nICAgIGlmIChpc1Rlc3RzRGlzYWJsZWQoKSkgewogICAgICAgICAgICByZXR1\ncm47CiAgICAgICAgfQoKICAgICAgICBzZXRVcChMb2NrRW1wbG95ZWUuY2xh\nc3MKICAgICAgICAgICAgLCAib3BlbmpwYS5Mb2NrTWFuYWdlciIsICJtaXhl\nZCIKICAgICAgICApOwogICAgICAgIGNvbW1vblNldFVwKCk7CiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgZGJUeXBlID0gZ2V0REJUeXBlKGVtKTsKICAgIH0KCiAgICAv\nKiA9PT09PT09PSBGaW5kIGRlYWQgbG9jayBleGNlcHRpb24gdGVzdCA9PT09\nPT09PT09PT0qLwogICAgcHVibGljIHZvaWQgdGVzdEZpbmREZWFkTG9ja0V4\nY2VwdGlvbigpIHsKICAgICAgICBjb21tb25GaW5kVGVzdCgidGVzdEZpbmRE\nZWFkTG9ja0V4Y2VwdGlvbiIsIExvY2tNb2RlVHlwZS5SRUFELCBudWxsKTsg\nCiAgICAgICAgY29tbW9uRmluZFRlc3QoInRlc3RGaW5kRGVhZExvY2tFeGNl\ncHRpb24iLCBMb2NrTW9kZVR5cGUuV1JJVEUsIGRiVHlwZSA9PSBEQlR5cGUu\nb3JhY2xlID8gbnVsbAogICAgICAgICAgICAgICAgOiBFeHBlY3RpbmdPcHRp\nbWlzdGljTG9ja0V4Q2xhc3MpOwogICAgICAgIGNvbW1vbkZpbmRUZXN0KCJ0\nZXN0RmluZERlYWRMb2NrRXhjZXB0aW9uIiwgTG9ja01vZGVUeXBlLlBFU1NJ\nTUlTVElDX1dSSVRFLCBFeHBlY3RpbmdBbnlMb2NrRXhDbGFzcyk7CiAgICB9\nCgogICAgcHJpdmF0ZSB2b2lkIGNvbW1vbkZpbmRUZXN0KCBTdHJpbmcgdGVz\ndE5hbWUsIAogICAgICAgIExvY2tNb2RlVHlwZSB0MUxvY2ssIENsYXNzPD8+\nW10gdDFFeGNlcHRpb25zICkgewogICAgICAgIFN0cmluZ1tdIHBhcmFtZXRl\ncnMgPSBuZXcgU3RyaW5nW10geyAiVGhyZWFkIDE6IGxvY2s9ICIgKyB0MUxv\nY2sgKyAiLCBleHBlY3RlZEV4PSAiCiAgICAgICAgICAgICAgICArIEFycmF5\ncy50b1N0cmluZyh0MUV4Y2VwdGlvbnMpIH07CiAgICAgICAgICAgIAogICAg\nICAgIE9iamVjdFtdW10gdGhyZWFkTWFpbiA9IHsKICAgICAgICAgICAge0Fj\ndC5DcmVhdGVFbX0sCiAgICAgICAgICAgIHtBY3QuU3RhcnRUeH0sCiAgICAg\nICAgICAgIAogICAgICAgICAgICB7QWN0LkZpbmRXaXRoTG9jaywgMSwgdDFM\nb2NrfSwKICAgICAgICAgICAge0FjdC5GbHVzaH0sICAgICAgICAgICAgCiAg\nICAgICAgICAgIAogICAgICAgICAgICB7QWN0Lk5ld1RocmVhZCwgMSB9LAog\nICAgICAgICAgICB7QWN0LlN0YXJ0VGhyZWFkLCAxIH0sCgogICAgICAgICAg\nICB7QWN0LldhaXQsIDB9LAogICAgICAgICAgICB7QWN0LkZpbmRXaXRoTG9j\naywgMiwgdDFMb2NrfSwgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAg\nICAgICAgCiAgICAgICAgICAgIHtBY3QuV2FpdEFsbENoaWxkcmVufSwKICAg\nICAgICAgICAge0FjdC5UZXN0RXhjZXB0aW9uLCAxLCB0MUV4Y2VwdGlvbnN9\nLAogICAgICAgICAgICB7QWN0LlJvbGxiYWNrVHh9CiAgICAgICAgfTsKICAg\nICAgICBPYmplY3RbXVtdIHRocmVhZDEgPSB7CiAgICAgICAgICAgIHtBY3Qu\nQ3JlYXRlRW19LAogICAgICAgICAgICB7QWN0LlN0YXJ0VHh9LAogICAgICAg\nICAgICB7QWN0LkZpbmRXaXRoTG9jaywgMiwgdDFMb2NrfSwgICAgICAgICAg\nICAKICAgICAgICAgICAge0FjdC5GbHVzaH0sICAgICAgICAgICAgCgogICAg\nICAgICAgICB7QWN0Lk5vdGlmeSwgMH0sCiAgICAgICAgICAgIHtBY3QuU2xl\nZXAsIDEwMDB9LAogICAgICAgICAgICB7QWN0LkZpbmRXaXRoTG9jaywgMSwg\ndDFMb2NrfSwgICAgICAgICAgICAKCiAgICAgICAgICAgIHtBY3QuUm9sbGJh\nY2tUeH0sCiAgICAgICAgfTsKICAgICAgICBsYXVuY2hBY3Rpb25TZXF1ZW5j\nZSh0ZXN0TmFtZSwgcGFyYW1ldGVycywgdGhyZWFkTWFpbiwgdGhyZWFkMSk7\nCiAgICB9CiAgICAKICAgIC8qID09PT09PT09IG5hbWVkIHF1ZXJ5IGRlYWQg\nbG9jayBleGNlcHRpb24gdGVzdCA9PT09PT09PT09PT0qLwogICAgcHVibGlj\nIHZvaWQgdGVzdE5hbWVkUXVlcnlEZWFkTG9ja0V4Y2VwdGlvbigpIHsKICAg\nICAgICBjb21tb25OYW1lZFF1ZXJ5VGVzdCgidGVzdE5hbWVkUXVlcnlEZWFk\nTG9ja0V4Y2VwdGlvbiIsIExvY2tNb2RlVHlwZS5SRUFELCBudWxsKTsKICAg\nICAgICBjb21tb25OYW1lZFF1ZXJ5VGVzdCgidGVzdE5hbWVkUXVlcnlEZWFk\nTG9ja0V4Y2VwdGlvbiIsIExvY2tNb2RlVHlwZS5XUklURSwgZGJUeXBlID09\nIERCVHlwZS5vcmFjbGUgPyBudWxsCiAgICAgICAgICAgICAgICA6IEV4cGVj\ndGluZ09wdGltaXN0aWNMb2NrRXhDbGFzcyk7Ci8vICAgICAgY29tbW9uTmFt\nZWRRdWVyeVRlc3QoInRlc3ROYW1lZFF1ZXJ5RGVhZExvY2tFeGNlcHRpb24i\nLCBMb2NrTW9kZVR5cGUuUEVTU0lNSVNUSUNfRk9SQ0VfSU5DUkVNRU5ULAov\nLyAgICAgIEV4cGVjdGluZ0FueUxvY2tFeENsYXNzKTsKICAgIH0KCiAgICBw\ncml2YXRlIHZvaWQgY29tbW9uTmFtZWRRdWVyeVRlc3QoIFN0cmluZyB0ZXN0\nTmFtZSwgCiAgICAgICAgTG9ja01vZGVUeXBlIHQxTG9jaywgQ2xhc3M8Pz5b\nXSB0MUV4Y2VwdGlvbnMgKSB7CiAgICAgICAgU3RyaW5nW10gcGFyYW1ldGVy\ncyA9IG5ldyBTdHJpbmdbXSB7ICJUaHJlYWQgMTogbG9jaz0gIiArIHQxTG9j\nayArICIsIGV4cGVjdGVkRXg9ICIKICAgICAgICAgICAgICAgICsgQXJyYXlz\nLnRvU3RyaW5nKHQxRXhjZXB0aW9ucykgfTsKICAgICAgICAgICAgCiAgICAg\nICAgT2JqZWN0W11bXSB0aHJlYWRNYWluID0gewogICAgICAgICAgICB7QWN0\nLkNyZWF0ZUVtfSwKICAgICAgICAgICAge0FjdC5TdGFydFR4fSwKICAgICAg\nICAgICAgCiAgICAgICAgICAgIHtBY3QuTmFtZWRRdWVyeVdpdGhMb2NrLCAi\nZmluZEVtcGxveWVlQnlJZCIsIDEsIHQxTG9jaywgIm9wZW5qcGEuaGludC5J\nZ25vcmVQcmVwYXJlZFF1ZXJ5IiwgdHJ1ZX0sCiAgICAgICAgICAgIHtBY3Qu\nRmx1c2h9LCAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAg\ne0FjdC5OZXdUaHJlYWQsIDEgfSwKICAgICAgICAgICAge0FjdC5TdGFydFRo\ncmVhZCwgMSB9LAoKICAgICAgICAgICAge0FjdC5XYWl0LCAwfSwKICAgICAg\nICAgICAge0FjdC5OYW1lZFF1ZXJ5V2l0aExvY2ssICJmaW5kRW1wbG95ZWVC\neUlkIiwgMiwgdDFMb2NrLCAib3BlbmpwYS5oaW50Lklnbm9yZVByZXBhcmVk\nUXVlcnkiLCB0cnVlfSwgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAg\nICAgICAgCiAgICAgICAgICAgIHtBY3QuV2FpdEFsbENoaWxkcmVufSwKICAg\nICAgICAgICAge0FjdC5UZXN0RXhjZXB0aW9uLCAxLCB0MUV4Y2VwdGlvbnN9\nLAoKICAgICAgICAgICAge0FjdC5Sb2xsYmFja1R4fQogICAgICAgIH07CiAg\nICAgICAgT2JqZWN0W11bXSB0aHJlYWQxID0gewogICAgICAgICAgICB7QWN0\nLkNyZWF0ZUVtfSwKICAgICAgICAgICAge0FjdC5TdGFydFR4fSwKICAgICAg\nICAgICAge0FjdC5OYW1lZFF1ZXJ5V2l0aExvY2ssICJmaW5kRW1wbG95ZWVC\neUlkIiwgMiwgdDFMb2NrLCAib3BlbmpwYS5oaW50Lklnbm9yZVByZXBhcmVk\nUXVlcnkiLCB0cnVlfSwgICAgICAgICAgICAKICAgICAgICAgICAge0FjdC5G\nbHVzaH0sICAgICAgICAgICAgCgogICAgICAgICAgICB7QWN0Lk5vdGlmeSwg\nMH0sCiAgICAgICAgICAgIHtBY3QuU2xlZXAsIDEwMDB9LAogICAgICAgICAg\nICB7QWN0Lk5hbWVkUXVlcnlXaXRoTG9jaywgImZpbmRFbXBsb3llZUJ5SWQi\nLCAxLCB0MUxvY2ssICJvcGVuanBhLmhpbnQuSWdub3JlUHJlcGFyZWRRdWVy\neSIsIHRydWV9LCAgICAgICAgICAgIAoKICAgICAgICAgICAge0FjdC5Sb2xs\nYmFja1R4fSwKICAgICAgICB9OwogICAgICAgIGxhdW5jaEFjdGlvblNlcXVl\nbmNlKHRlc3ROYW1lLCBwYXJhbWV0ZXJzLCB0aHJlYWRNYWluLCB0aHJlYWQx\nKTsKICAgIH0KfQo=\n","encoding":"base64"}

