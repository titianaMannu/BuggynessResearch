{"sha":"6ca988d4dc0464f2fa952dcff45ad13e7c3624ff","node_id":"MDQ6QmxvYjIwNjM2NDo2Y2E5ODhkNGRjMDQ2NGYyZmE5NTJkY2ZmNDVhZDEzZTdjMzYyNGZm","size":3426,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6ca988d4dc0464f2fa952dcff45ad13e7c3624ff","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwczsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFw\ncGluZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuRmll\nbGRNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2No\nZW1hLkNvbHVtbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNj\naGVtYS5UYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNx\nbC5TUUxCdWZmZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5z\ncWwuU2VsZWN0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuWE1M\nTWV0YURhdGE7CgovKioKICogSW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIEZp\nbHRlclZhbHVlfSB0aGF0IHdyYXBzIGEge0BsaW5rIFZhbH0uCiAqCiAqIEBh\ndXRob3IgQWJlIFdoaXRlCiAqLwpjbGFzcyBGaWx0ZXJWYWx1ZUltcGwKICAg\nIGltcGxlbWVudHMgRmlsdGVyVmFsdWUgewoKICAgIHByaXZhdGUgZmluYWwg\nU2VsZWN0IF9zZWw7CiAgICBwcml2YXRlIGZpbmFsIEV4cENvbnRleHQgX2N0\neDsKICAgIHByaXZhdGUgZmluYWwgRXhwU3RhdGUgX3N0YXRlOwogICAgcHJp\ndmF0ZSBmaW5hbCBWYWwgX3ZhbDsKCiAgICBwdWJsaWMgRmlsdGVyVmFsdWVJ\nbXBsKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0\nZSwgCiAgICAgICAgVmFsIHZhbCkgewogICAgICAgIF9zZWwgPSBzZWw7CiAg\nICAgICAgX2N0eCA9IGN0eDsKICAgICAgICBfc3RhdGUgPSBzdGF0ZTsKICAg\nICAgICBfdmFsID0gdmFsOwogICAgfQoKICAgIHB1YmxpYyBDbGFzcyBnZXRU\neXBlKCkgewogICAgICAgIHJldHVybiBfdmFsLmdldFR5cGUoKTsKICAgIH0K\nCiAgICBwdWJsaWMgaW50IGxlbmd0aCgpIHsKICAgICAgICByZXR1cm4gX3Zh\nbC5sZW5ndGgoX3NlbCwgX2N0eCwgX3N0YXRlKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBhcHBlbmRUbyhTUUxCdWZmZXIgYnVmKSB7CiAgICAgICAgYXBw\nZW5kVG8oYnVmLCAwKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhcHBlbmRU\nbyhTUUxCdWZmZXIgYnVmLCBpbnQgaW5kZXgpIHsKICAgICAgICBfdmFsLmFw\ncGVuZFRvKF9zZWwsIF9jdHgsIF9zdGF0ZSwgYnVmLCBpbmRleCk7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRDb2x1bW5BbGlhcyhDb2x1bW4gY29s\nKSB7CiAgICAgICAgcmV0dXJuIF9zZWwuZ2V0Q29sdW1uQWxpYXMoY29sLCBf\nc3RhdGUuam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29s\ndW1uQWxpYXMoU3RyaW5nIGNvbCwgVGFibGUgdGFibGUpIHsKICAgICAgICBy\nZXR1cm4gX3NlbC5nZXRDb2x1bW5BbGlhcyhjb2wsIHRhYmxlLCBfc3RhdGUu\nam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgdG9EYXRhU3RvcmVW\nYWx1ZShPYmplY3QgdmFsKSB7CiAgICAgICAgcmV0dXJuIF92YWwudG9EYXRh\nU3RvcmVWYWx1ZShfc2VsLCBfY3R4LCBfc3RhdGUsIHZhbCk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gaXNDb25zdGFudCgpIHsKICAgICAgICByZXR1\ncm4gX3ZhbCBpbnN0YW5jZW9mIENvbnN0OwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgZ2V0VmFsdWUoKSB7CiAgICAgICAgcmV0dXJuIChpc0NvbnN0YW50\nKCkpID8gKChDb25zdCkgX3ZhbCkuZ2V0VmFsdWUoX2N0eC5wYXJhbXMpIDog\nbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldFNRTFZhbHVlKCkg\newogICAgICAgIHJldHVybiAoaXNDb25zdGFudCgpKSA/ICgoQ29uc3QpIF92\nYWwpLmdldFNRTFZhbHVlKF9zZWwsIF9jdHgsIF9zdGF0ZSkgCiAgICAgICAg\nICAgIDogbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1BhdGgo\nKSB7CiAgICAgICAgcmV0dXJuIF92YWwgaW5zdGFuY2VvZiBQQ1BhdGg7CiAg\nICB9CgogICAgcHVibGljIENsYXNzTWFwcGluZyBnZXRDbGFzc01hcHBpbmco\nKSB7CiAgICAgICAgcmV0dXJuIChpc1BhdGgoKSkgPyAoKFBDUGF0aCkgX3Zh\nbCkuZ2V0Q2xhc3NNYXBwaW5nKF9zdGF0ZSkgOiBudWxsOwogICAgfQoKICAg\nIHB1YmxpYyBGaWVsZE1hcHBpbmcgZ2V0RmllbGRNYXBwaW5nKCkgewogICAg\nICAgIHJldHVybiAoaXNQYXRoKCkpID8gKChQQ1BhdGgpIF92YWwpLmdldEZp\nZWxkTWFwcGluZyhfc3RhdGUpIDogbnVsbDsKICAgIH0KICAgIAogICAgcHVi\nbGljIFBDUGF0aCBnZXRYUGF0aCgpIHsKICAgICAgICBpZiAoaXNQYXRoKCkg\nJiYgKChQQ1BhdGgpIF92YWwpLmlzWFBhdGgoKSkKICAgICAgICAgICAgcmV0\ndXJuIChQQ1BhdGgpIF92YWw7CiAgICAgICAgZWxzZQogICAgICAgICAgICBy\nZXR1cm4gbnVsbDsKICAgIH0KICAgIAogICAgcHVibGljIFhNTE1ldGFEYXRh\nIGdldFhtbE1hcHBpbmcoKSB7CiAgICAgICAgcmV0dXJuIChnZXRYUGF0aCgp\nID09IG51bGwpID8gbnVsbCA6IGdldFhQYXRoKCkuZ2V0WG1sTWFwcGluZygp\nOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIHJlcXVpcmVzQ2FzdCgpIHsK\nICAgICAgICByZXR1cm4gIShfdmFsIGluc3RhbmNlb2YgQWxsIHx8IF92YWwg\naW5zdGFuY2VvZiBBbnkgfHwgX3ZhbCBpbnN0YW5jZW9mIFBDUGF0aCk7CiAg\nICB9Cn0K\n","encoding":"base64"}

