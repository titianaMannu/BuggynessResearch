{"sha":"d557aadd2156ad1a599f60c8191d6c4ebeb3409e","node_id":"MDQ6QmxvYjIwNjM2NDpkNTU3YWFkZDIxNTZhZDFhNTk5ZjYwYzgxOTFkNmM0ZWJlYjM0MDll","size":13330,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d557aadd2156ad1a599f60c8191d6c4ebeb3409e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5zcWwuQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEuc3FsLkRhdGFiYXNl\nTWV0YURhdGE7CmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7CmltcG9ydCBq\nYXZhLnNxbC5TUUxFeGNlcHRpb247CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMua2VybmVsLmV4cHMuRmlsdGVyVmFsdWU7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuU2VxdWVuY2U7CgpwdWJsaWMg\nY2xhc3MgSW5ncmVzRGljdGlvbmFyeSBleHRlbmRzIERCRGljdGlvbmFyeSB7\nCiAgICAKICAgIHB1YmxpYyBJbmdyZXNEaWN0aW9uYXJ5KCkgewogICAgICAg\nIC8vIFNjaGVtYSBEYXRhCiAgICAgICAgcGxhdGZvcm0gPSAiSW5ncmVzIjsK\nICAgICAgICBkcml2ZXJWZW5kb3IgPSAiSW5ncmVzIENvcnBvcmF0aW9uIjsK\nICAgICAgICBtYXhDb2x1bW5OYW1lTGVuZ3RoID0gMzI7CiAgICAgICAgbWF4\nQ29uc3RyYWludE5hbWVMZW5ndGggPSAzMjsKICAgICAgICBtYXhJbmRleE5h\nbWVMZW5ndGggPSAzMjsKICAgICAgICBtYXhUYWJsZU5hbWVMZW5ndGggPSAz\nMjsKICAgICAgICBzdXBwb3J0c0RlZmVycmVkQ29uc3RyYWludHMgPSBmYWxz\nZTsKICAgICAgICBzY2hlbWFDYXNlID0gREJEaWN0aW9uYXJ5LlNDSEVNQV9D\nQVNFX0xPV0VSOwogICAgICAgIHN5c3RlbVNjaGVtYXMgPSAiJGluZ3JlcyI7\nCiAgICAgICAgc3VwcG9ydHNEZWZhdWx0RGVsZXRlQWN0aW9uID0gZmFsc2U7\nCiAgICAgICAgc3VwcG9ydHNEZWZhdWx0VXBkYXRlQWN0aW9uID0gZmFsc2U7\nCgogICAgICAgIC8vIFNRTAogICAgICAgIHZhbGlkYXRpb25TUUwgPSAiU0VM\nRUNUIERBVEUoJ25vdycpIjsKICAgICAgICByYW5nZVBvc2l0aW9uID0gREJE\naWN0aW9uYXJ5LlJBTkdFX1BPU1RfU0VMRUNUOwogICAgICAgIHN1cHBvcnRz\nTG9ja2luZ1dpdGhEaXN0aW5jdENsYXVzZSA9IGZhbHNlOwogICAgICAgIHN1\ncHBvcnRzTG9ja2luZ1dpdGhJbm5lckpvaW4gPSBmYWxzZTsKICAgICAgICBz\ndXBwb3J0c0xvY2tpbmdXaXRoTXVsdGlwbGVUYWJsZXMgPSBmYWxzZTsKICAg\nICAgICBzdXBwb3J0c0xvY2tpbmdXaXRoT3V0ZXJKb2luID0gZmFsc2U7CiAg\nICAgICAgc3VwcG9ydHNTZWxlY3RFbmRJbmRleCA9IHRydWU7CiAgICAgICAg\nc3VwcG9ydHNNdWx0aXBsZU5vbnRyYW5zYWN0aW9uYWxSZXN1bHRTZXRzID0g\nZmFsc2U7CiAgICAgICAgYWxsb3dzQWxpYXNJbkJ1bGtDbGF1c2UgPSBmYWxz\nZTsKICAgICAgICByZXF1aXJlc0Nhc3RGb3JNYXRoRnVuY3Rpb25zID0gdHJ1\nZTsKICAgICAgICByZXF1aXJlc0FsaWFzRm9yU3Vic2VsZWN0ID0gdHJ1ZTsK\nCiAgICAgICAgLy8gRnVuY3Rpb25zCiAgICAgICAgc3RyaW5nTGVuZ3RoRnVu\nY3Rpb24gPSAiTEVOR1RIKHswfSkiOwoKICAgICAgICAvLyBUeXBlcwogICAg\nICAgIGJpbmFyeVR5cGVOYW1lID0gIkJZVEUiOwogICAgICAgIGJpdFR5cGVO\nYW1lID0gIlRJTllJTlQiOwogICAgICAgIGJsb2JUeXBlTmFtZSA9ICJMT05H\nIEJZVEUiOwogICAgICAgIGJvb2xlYW5UeXBlTmFtZSA9ICJUSU5ZSU5UIjsK\nICAgICAgICBjaGFyVHlwZU5hbWUgPSAiQ0hBUiI7CiAgICAgICAgY2xvYlR5\ncGVOYW1lID0gIkxPTkcgTlZBUkNIQVIiOwogICAgICAgIGphdmFPYmplY3RU\neXBlTmFtZSA9ICJMT05HIEJZVEUiOwogICAgICAgIG51bWVyaWNUeXBlTmFt\nZSA9ICJERUNJTUFMIjsKICAgICAgICBkb3VibGVUeXBlTmFtZSA9ICJGTE9B\nVCI7CiAgICAgICAgbG9uZ1ZhcmNoYXJUeXBlTmFtZSA9ICJMT05HIE5WQVJD\nSEFSIjsKICAgICAgICBsb25nVmFyYmluYXJ5VHlwZU5hbWUgPSAiTE9ORyBC\nWVRFIjsKICAgICAgICB2YXJiaW5hcnlUeXBlTmFtZSA9ICJMT05HIEJZVEUi\nOwogICAgICAgIGRhdGVQcmVjaXNpb24gPSBEQkRpY3Rpb25hcnkuTkFOTzsK\nCiAgICAgICAgLy8gU2NoZW1hIE1ldGFkYXRhCiAgICAgICAgc3VwcG9ydHNO\ndWxsVGFibGVGb3JHZXRJbXBvcnRlZEtleXMgPSB0cnVlOwogICAgICAgIHN1\ncHBvcnRzTnVsbFRhYmxlRm9yR2V0SW1wb3J0ZWRLZXlzID0gdHJ1ZTsKICAg\nICAgICBzdXBwb3J0c051bGxUYWJsZUZvckdldEluZGV4SW5mbyA9IHRydWU7\nCiAgICAgICAgc3VwcG9ydHNOdWxsVGFibGVGb3JHZXRQcmltYXJ5S2V5cyA9\nIHRydWU7CiAgICAgICAgdGFibGVUeXBlcyA9ICJUQUJMRSxWSUVXLFNZU1RF\nTSBUQUJMRSI7CiAgICAgICAgcmVxdWlyZXNBdXRvQ29tbWl0Rm9yTWV0YURh\ndGEgPSB0cnVlOwoKICAgICAgICAvLyBBdXRvIEluY3JlbWVudAogICAgICAg\nIG1heEF1dG9Bc3NpZ25OYW1lTGVuZ3RoID0gMzI7CiAgICAgICAgc3VwcG9y\ndHNBdXRvQXNzaWduID0gZmFsc2U7CiAgICAgICAgYXV0b0Fzc2lnbkNsYXVz\nZSA9IG51bGw7CiAgICAgICAgYXV0b0Fzc2lnblR5cGVOYW1lID0gbnVsbDsK\nICAgICAgICBzZXF1ZW5jZVNRTCA9ICJTRUxFQ1Qgc2VxX25hbWUgQVMgU0VR\nVUVOQ0VfTkFNRSwgc2VxX293bmVyIEFTIFNFUVVFTkNFX1NDSEVNQSBGUk9N\nIGlpc2VxdWVuY2VzIjsKICAgICAgICBzZXF1ZW5jZU5hbWVTUUwgPSAic2Vx\nX25hbWUgPSA/IjsKICAgICAgICBzZXF1ZW5jZVNjaGVtYVNRTCA9ICJzZXFf\nb3duZXIgPSA/IjsKICAgICAgICBuZXh0U2VxdWVuY2VRdWVyeSA9ICJTRUxF\nQ1QgTkVYVCBWQUxVRSBGT1IgezB9IjsKCiAgICAgICAgc3lzdGVtVGFibGVz\nID0KICAgICAgICAgICAgImlpYWNjZXNzLCBpaWFsdF9jb2x1bW5zLCBpaWF0\ndHJpYnV0ZSwgaWlhdWRpdCwgaWlhdWRpdHRhYmxlcywgIgogICAgICAgICAg\nICAgICAgKyAiaWljZGJpZF9pZHgsIGlpY29sdW1ucywgaWljb25zdHJhaW50\nX2luZGV4ZXMsICIgCiAgICAgICAgICAgICAgICArICJpaWNvbnN0cmFpbnRz\nLCBpaWRhdGFiYXNlLCBpaWRhdGFiYXNlX2luZm8sIGlpZGJfY29tbWVudHMs\nICIgCiAgICAgICAgICAgICAgICArICJpaWRiX3N1YmNvbW1lbnRzLCBpaWRi\nY2FwYWJpbGl0aWVzLCBpaWRiY29uc3RhbnRzLCAiIAogICAgICAgICAgICAg\nICAgKyAiaWlkYmRlcGVuZHMsIGlpZGJpZF9pZHgsIGlpZGJtc19jb21tZW50\nLCBpaWRicHJpdiwgIiAKICAgICAgICAgICAgICAgICsgImlpZGJwcml2aWxl\nZ2VzLCBpaWRkYl9uZXRjb3N0LCBpaWRkYl9ub2RlY29zdHMsIGlpZGVmYXVs\ndCwgIiAKICAgICAgICAgICAgICAgICsgImlpZGVmYXVsdGlkeCwgaWlkZXZp\nY2VzLCBpaWRpc3Rjb2wsIGlpZGlzdGNvbHMsICIgCiAgICAgICAgICAgICAg\nICArICJpaWRpc3RzY2hlbWUsIGlpZGlzdHNjaGVtZXMsIGlpZGlzdHZhbCwg\nIgogICAgICAgICAgICAgICAgKyAiaWlldmVudCwgaWlldmVudHMsIGlpZXh0\nZW5kLCBpaWV4dGVuZF9pbmZvLCAiCiAgICAgICAgICAgICAgICArICJpaWV4\ndGVuZGVkX3JlbGF0aW9uLCBpaWZpbGVfaW5mbywgaWlndzA2X2F0dHJpYnV0\nZSwgIgogICAgICAgICAgICAgICAgKyAiaWlndzA2X3JlbGF0aW9uLCBpaWd3\nMDdfYXR0cmlidXRlLCBpaWd3MDdfaW5kZXgsICIKICAgICAgICAgICAgICAg\nICsgImlpZ3cwN19yZWxhdGlvbiwgaWloaXN0b2dyYW0sIGlpaGlzdG9ncmFt\ncywgaWlpbmRleCwgIgogICAgICAgICAgICAgICAgKyAiaWlpbmRleF9jb2x1\nbW5zLCBpaWluZGV4ZXMsIGlpaW5ncmVzX3RhYmxlcywgaWlpbnRlZ3JpdGll\ncywgIgogICAgICAgICAgICAgICAgKyAiaWlpbnRlZ3JpdHksIGlpaW50ZWdy\naXR5aWR4LCBpaWtleSwgaWlrZXlfY29sdW1ucywgaWlrZXlzLCAiCiAgICAg\nICAgICAgICAgICArICJpaWxvY2F0aW9uX2luZm8sIGlpbG9jYXRpb25zLCBp\naWxvZ19oZWxwLCBpaWxwYXJ0aXRpb25zLCAiCiAgICAgICAgICAgICAgICAr\nICJpaW11bHRpX2xvY2F0aW9ucywgaWlvY29sdW1ucywgaWlvdGFibGVzLCBp\naXBhcnRuYW1lLCAiCiAgICAgICAgICAgICAgICArICJpaXBlcm1pdHMsIGlp\ncGh5c2ljYWxfY29sdW1ucywgaWlwaHlzaWNhbF90YWJsZXMsIGlpcHJpdiwg\nIgogICAgICAgICAgICAgICAgKyAiaWlwcml2bGlzdCwgaWlwcm9jX2FjY2Vz\ncywgaWlwcm9jX3BhcmFtcywgaWlwcm9jZWR1cmUsICIKICAgICAgICAgICAg\nICAgICsgImlpcHJvY2VkdXJlX3BhcmFtZXRlciwgaWlwcm9jZWR1cmVzLCBp\naXByb2ZpbGUsIGlpcHJvZmlsZXMsICIKICAgICAgICAgICAgICAgICsgImlp\ncHJvdGVjdCwgaWlxcnl0ZXh0LCBpaXJhbmdlLCBpaXJlZl9jb25zdHJhaW50\ncywgIgogICAgICAgICAgICAgICAgKyAiaWlyZWdpc3RyYXRpb25zLCBpaXJl\nbF9pZHgsIGlpcmVsYXRpb24sIGlpcm9sZSwgIgogICAgICAgICAgICAgICAg\nKyAiaWlyb2xlZ3JhbnQsIGlpcm9sZWdyYW50cywgaWlyb2xlcywgaWlydWxl\nLCBpaXJ1bGVpZHgsICIKICAgICAgICAgICAgICAgICsgImlpcnVsZWlkeDEs\nIGlpcnVsZXMsIGlpc2NoZW1hLCBpaXNjaGVtYWlkeCwgaWlzZWNhbGFybSwg\nIgogICAgICAgICAgICAgICAgKyAiaWlzZWN0eXBlLCBpaXNlY3VyaXR5X2Fs\nYXJtcywgaWlzZWN1cml0eV9zdGF0ZSwgIgogICAgICAgICAgICAgICAgKyAi\naWlzZWN1cml0eXN0YXRlLCBpaXNlcXVlbmNlLCBpaXNlcXVlbmNlcywgIgog\nICAgICAgICAgICAgICAgKyAiaWlzZXNzaW9uX3ByaXZpbGVnZXMsIGlpc3Rh\ncl9jZGJpbmZvLCBpaXN0YXJfY2RicywgIgogICAgICAgICAgICAgICAgKyAi\naWlzdGF0aXN0aWNzLCBpaXN0YXRzLCBpaXN5bm9ueW0sIGlpc3lub255bXMs\nIGlpdGFibGVzLCAiCiAgICAgICAgICAgICAgICArICJpaXRyZWUsIGlpdXNl\nciwgaWl1c2VyZ3JvdXAsIGlpdXNlcnMsIGlpdmlld3MsICIKICAgICAgICAg\nICAgICAgICsgImlpeGRiZGVwZW5kcywgaWl4ZXZlbnQsIGlpeHByaXYsIGlp\neHByb2NlZHVyZSwgIgogICAgICAgICAgICAgICAgKyAiaWl4c3lub255bSwg\naWlfYWJmY2xhc3NlcywgaWlfYWJmZGVwZW5kZW5jaWVzLCAiCiAgICAgICAg\nICAgICAgICArICJpaV9hYmZvYmplY3RzLCBpaV9hcHBfY250bnNfY29tcCwg\naWlfYXBwX2NudG5zX2NvbXBfaW5kZXgsICIKICAgICAgICAgICAgICAgICsg\nImlpX2FwcGxpY2F0aW9ucywgaWlfYXR0dHlwZSwgaWlfY2xpZW50X2RlcF9t\nb2QsICIKICAgICAgICAgICAgICAgICsgImlpX2NvbXBvbmVudHMsIGlpX2Rh\ndGFiYXNlcywgaWlfZGJkX2FjbCwgIgogICAgICAgICAgICAgICAgKyAiaWlf\nZGJkX2lkZW50aWZpZXJzLCBpaV9kYmRfbG9jYXRpb25zLCBpaV9kYmRfcmln\naHRzbGlzdCwgIgogICAgICAgICAgICAgICAgKyAiaWlfZGJkX3RhYmxlX2No\nYXIsIGlpX2RlZmF1bHRzLCBpaV9kZXBlbmRlbmNpZXMsICIKICAgICAgICAg\nICAgICAgICsgImlpX2RlcGVuZGVuY2llc19pbmRleCwgaWlfZGVwZW5kZW5j\naWVzX2luZGV4MiwgIgogICAgICAgICAgICAgICAgKyAiaWlfZGljdF9tb2R1\nbGVzLCBpaV9kb21haW5zLCBpaV9lbmNvZGVkX2Zvcm1zLCAiCiAgICAgICAg\nICAgICAgICArICJpaV9lbmNvZGluZ3MsIGlpX2VudGl0aWVzLCBpaV9lbnRp\ndGllc19pbmRleCwgaWlfZW50dHlwZSwgIgogICAgICAgICAgICAgICAgKyAi\naWlfZmllbGRzLCAiICsgImlpX2Zvcm1zLCBpaV9mcmFtZXZhcnMsIGlpX2dy\nb3B0cywgIgogICAgICAgICAgICAgICAgKyAiaWlfaWQsIGlpX2luY2xfYXBw\ncywgaWlfam9pbmRlZnMsIGlpX2pvaW5zcGVjcywgIgogICAgICAgICAgICAg\nICAgKyAiaWlfa2V5X2luZm8sIGlpX2tleV9tYXAsIGlpX2xpbWl0cywgaWlf\nbG9ja3MsICIKICAgICAgICAgICAgICAgICsgImlpX2xvbmdyZW1hcmtzLCBp\naV9tZW51YXJncywgaWlfb2JqZWN0cywgIgogICAgICAgICAgICAgICAgKyAi\naWlfb2JqZWN0c19pbmRleCwgaWlfcWJmbmFtZXMsIGlpX3Jjb21tYW5kcywg\nIgogICAgICAgICAgICAgICAgKyAiaWlfcmVsX2NuY3RzX2VudCwgaWlfcmVs\ndHlwZSwgaWlfcmVwb3J0cywgIgogICAgICAgICAgICAgICAgKyAiaWlfc2Vx\ndWVuY2VfdmFsdWVzLCBpaV9zcWxhdHRzLCBpaV9zcWx0YWJsZXMsICIKICAg\nICAgICAgICAgICAgICsgImlpX3NyY29ial9lbmNvZGVkLCBpaV9zdG9yZWRf\nYml0bWFwcywgaWlfc3RvcmVkX3N0cmluZ3MsICIKICAgICAgICAgICAgICAg\nICsgImlpX3RyaW0sIGlpX3Zxam9pbnMsIGlpX3ZxdGFiY29scywgaWlfdnF0\nYWJsZXMiOwogICAgICAgIGZpeGVkU2l6ZVR5cGVOYW1lcyA9CiAgICAgICAg\nICAgICJJTlRFR0VSLElOVEVHRVIxLElOVEVHRVIyLElOVEVHRVI0LElOVEVH\nRVI4LFRJTllJTlQsU01BTExJTlQsIgogICAgICAgICAgICAgICAgKyAiQklH\nSU5ULEZMT0FULEZMT0FUNCxGTE9BVDgsUkVBTCxEQVRFLElOR1JFU0RBVEUs\nQU5TSURBVEUiOwogICAgICAgIHJlc2VydmVkV29yZHMgPQogICAgICAgICAg\nICAiQUJPUlQsQllSRUYsQ0FMTFBST0MsQ09NTUVOVCxDT1BZLERFRklORSxE\nSVNBQkxFLERPLEVMU0VJRiwiCiAgICAgICAgICAgICAgICArICJFTkFCTEUs\nRU5ESUYsRU5ETE9PUCxFTkRXSElMRSxFWENMVURJTkcsSUYsSU1QT1JULElO\nREVYLCIKICAgICAgICAgICAgICAgICsgIklOVEVHUklUWSxNRVNTQUdFLE1P\nRElGWSxQRVJNSVQsUkFJU0UsUkVGRVJFTkNJTkcsUkVHSVNURVIsIgogICAg\nICAgICAgICAgICAgKyAiUkVMT0NBVEUsUkVNT1ZFLFJFUEVBVCxSRVRVUk4s\nU0FWRSxTQVZFUE9JTlQsVU5USUwsV0hJTEUiOwogICAgICAgIAogICAgICAg\nIC8qIERvbid0IGFsbG93ICJ0aWQiIGFzIGEgY29sdW1uIG5hbWU7IHRoaXMg\naXMgYW4gaW50ZXJuYWwgY29sdW1uICovCiAgICAgICAgaW52YWxpZENvbHVt\nbldvcmRTZXQuYWRkKCJ0aWQiKTsKICAgIH0KCiAgICAvKiAobm9uLUphdmFk\nb2MpCiAgICAgKiBAc2VlIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5E\nQkRpY3Rpb25hcnkjY29ubmVjdGVkQ29uZmlndXJhdGlvbihqYXZhLnNxbC5D\nb25uZWN0aW9uKQogICAgICovCiAgICBwdWJsaWMgdm9pZCBjb25uZWN0ZWRD\nb25maWd1cmF0aW9uKENvbm5lY3Rpb24gY29ubikgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ29uZmlndXJhdGlvbihj\nb25uKTsKICAgICAgICAKICAgICAgICBpZiAoaXNWZXJzaW9uOV8yb3JMYXRl\ncihjb25uKSkKICAgICAgICAgICAgc3VwcG9ydHNTZWxlY3RTdGFydEluZGV4\nID0gdHJ1ZTsKICAgIH0KICAgIAogICAgYm9vbGVhbiBpc1ZlcnNpb245XzJv\nckxhdGVyKENvbm5lY3Rpb24gY29ubikgdGhyb3dzIFNRTEV4Y2VwdGlvbgog\nICAgewogICAgICAgIERhdGFiYXNlTWV0YURhdGEgbWV0YSA9IGNvbm4uZ2V0\nTWV0YURhdGEoKTsKICAgICAgICAKICAgICAgICBpbnQgZGJNYWpvclZlcnNp\nb24gPSBtZXRhLmdldERhdGFiYXNlTWFqb3JWZXJzaW9uKCk7CiAgICAgICAg\naW50IGRiTWlub3JWZXJzaW9uID0gbWV0YS5nZXREYXRhYmFzZU1pbm9yVmVy\nc2lvbigpOwogICAgICAgIAogICAgICAgIGlmICgoZGJNYWpvclZlcnNpb24g\nPT0gOSAmJiBkYk1pbm9yVmVyc2lvbiA+PSAyKSB8fAogICAgICAgICAgICAg\nICAgZGJNYWpvclZlcnNpb24gPiA5KQogICAgICAgICAgICByZXR1cm4gdHJ1\nZTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAg\nIH0KCiAgICAvKioKICAgICAqIEltcGxlbWVudGF0aW9uIG9mIGFwcGVuZFNl\nbGVjdFJhbmdlIGZvciBJbmdyZXMgLSB1c2VzICJTRUxFQ1QgRklSU1QgbiIK\nICAgICAqIHN5bnRheC4gTm90IGltcGxlbWVudGVkIGluIHN1cGVyY2xhc3Mu\nCiAgICAgKiAKICAgICAqIEBzZWUgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nc3FsLkRCRGljdGlvbmFyeSNhcHBlbmRTZWxlY3RSYW5nZSgKICAgICAqICAg\nICAgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEJ1ZmZlciwgbG9u\nZywgbG9uZywgYm9vbGVhbikKICAgICAqIAogICAgICogQHBhcmFtIGJ1Zgog\nICAgICogICAgICAgICAgICAtIFNRTCBidWlsZGluZyBidWZmZXIuCiAgICAg\nKiBAcGFyYW0gc3RhcnQKICAgICAqICAgICAgICAgICAgLSBJZ25vcmVkLCBu\nb3Qgc3VwcG9ydGVkIGJ5IEluZ3Jlcy4gVGhyb3dzIGFuCiAgICAgKiBAcGFy\nYW0gZW5kCiAgICAgKiAgICAgICAgICAgIC0gVGhlIG51bWJlciBvZiByZWNv\ncmRzIHRvIHJldHVybi4KICAgICAqIEBwYXJhbSBzdWJzZWxlY3QKICAgICAq\nICAgICAgICAgICAgLSBJcyB0aGUgU1FMIHF1ZXJ5IHBhcnQgb2YgYSBzdWJz\nZWxlY3Qgc3RhdGVtZW50PwogICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBh\ncHBlbmRTZWxlY3RSYW5nZShTUUxCdWZmZXIgYnVmLCBsb25nIHN0YXJ0LCBs\nb25nIGVuZCwKICAgICAgICBib29sZWFuIHN1YnNlbGVjdCkgewogICAgICAg\nIGlmICghc3VwcG9ydHNTZWxlY3RTdGFydEluZGV4ICYmIHN0YXJ0ID4gMCkg\nCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRp\nb24oCiAgICAgICAgICAgICAgICAiSW5ncmVzIGRvZXMgbm90IHN1cHBvcnQg\nc3RhcnQgaW5kZXhlcyBmb3IgU2VsZWN0IFJhbmdlcyIpOwogICAgICAgIAog\nICAgICAgIGlmIChzdGFydCA+IDAgJiYgc3RhcnQgIT0gTG9uZy5NQVhfVkFM\nVUUgJiYgIXN1YnNlbGVjdCkKICAgICAgICAgICAgYnVmLmFwcGVuZCgiIE9G\nRlNFVCAiKS5hcHBlbmQoTG9uZy50b1N0cmluZyhzdGFydCkpOwogICAgICAg\nIAogICAgICAgIGlmIChlbmQgPiAwICYmIGVuZCAhPSBMb25nLk1BWF9WQUxV\nRSAmJiAhc3Vic2VsZWN0KSAKICAgICAgICAgICAgYnVmLmFwcGVuZCgiIEZF\nVENIIE5FWFQgIikuYXBwZW5kKExvbmcudG9TdHJpbmcoZW5kKSkuYXBwZW5k\nKCIgUk9XUyBPTkxZIik7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogSW1w\nbGVtZW50YXRpb24gb2YgZW1wdHkgbWV0aG9kIGluIERCRGljdGlvbmFyeS4g\nIFJldHVybnMgU1FMIHRvIGZpbmQgdGhlIHNlcXVlbmNlcyBkZWZpbmVkIGlu\nIHRoZSBkYXRhYmFzZS4KICAgICAqLwogICAgQE92ZXJyaWRlCiAgICBwcm90\nZWN0ZWQgU3RyaW5nIGdldFNlcXVlbmNlc1NRTChTdHJpbmcgc2NoZW1hTmFt\nZSwgU3RyaW5nIHNlcXVlbmNlTmFtZSkgewogICAgICAgIFN0cmluZ0J1ZmZl\nciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CiAgICAgICAgYnVmLmFwcGVu\nZChzZXF1ZW5jZVNRTCk7CiAgICAgICAgaWYgKHNjaGVtYU5hbWUgIT0gbnVs\nbCB8fCBzZXF1ZW5jZU5hbWUgIT0gbnVsbCkKICAgICAgICAgICAgYnVmLmFw\ncGVuZCgiIFdIRVJFICIpOwogICAgICAgIGlmIChzY2hlbWFOYW1lICE9IG51\nbGwpIHsKICAgICAgICAgICAgYnVmLmFwcGVuZChzZXF1ZW5jZVNjaGVtYVNR\nTCk7CiAgICAgICAgICAgIGlmIChzZXF1ZW5jZU5hbWUgIT0gbnVsbCkKICAg\nICAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIiBBTkQgIik7CiAgICAgICAgfQog\nICAgICAgIGlmIChzZXF1ZW5jZU5hbWUgIT0gbnVsbCkKICAgICAgICAgICAg\nYnVmLmFwcGVuZChzZXF1ZW5jZU5hbWVTUUwpOwogICAgICAgIHJldHVybiBi\ndWYudG9TdHJpbmcoKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBPdmVy\ncmlkZXMgREJEaWN0aW9uYXJ5J3MgbmV3U2VxdWVuY2UgbWV0aG9kOyB0cmlt\ncyB0aGUgc2VxdWVuY2UgbmFtZS4KICAgICAqIAogICAgICogQHNlZSBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuREJEaWN0aW9uYXJ5I25ld1NlcXVl\nbmNlKFJlc3VsdFNldCkKICAgICAqLwogICAgQE92ZXJyaWRlCiAgICBwcm90\nZWN0ZWQgU2VxdWVuY2UgbmV3U2VxdWVuY2UoUmVzdWx0U2V0IHNlcXVlbmNl\nTWV0YSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgU2VxdWVuY2Ug\nc2VxID0gc3VwZXIubmV3U2VxdWVuY2Uoc2VxdWVuY2VNZXRhKTsKICAgICAg\nICBzZXEuc2V0TmFtZShzZXEuZ2V0TmFtZSgpLnRyaW0oKSk7CiAgICAgICAg\ncmV0dXJuIHNlcTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBJbnZva2Ug\nSW5ncmVzJyBJbmRleE9mIEZ1bmN0aW9uIChGaW5kIHRoZSBmaXJzdCBpbmRl\neCBvZiBhIHN0cmluZyBpbgogICAgICogYW5vdGhlciBzdHJpbmcsIHN0YXJ0\naW5nIGF0IGEgZ2l2ZW4gaW5kZXgpLgogICAgICogCiAgICAgKiBAc2VlIG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnkjaW5kZXhP\nZigKICAgICAqICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNR\nTEJ1ZmZlciwKICAgICAqICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\na2VybmVsLmV4cHMuRmlsdGVyVmFsdWUsCiAgICAgKiAgICAgIG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLmtlcm5lbC5leHBzLkZpbHRlclZhbHVlLAogICAg\nICogICAgICBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwcy5G\naWx0ZXJWYWx1ZSkKICAgICAqIAogICAgICogQHBhcmFtIGJ1ZgogICAgICog\nICAgICAgICAgICAtIHRoZSBTUUwgQnVmZmVyIHRvIHdyaXRlIHRoZSBpbmRl\neE9mIGludm9jYXRpb24gdG8KICAgICAqIEBwYXJhbSBzdHIKICAgICAqICAg\nICAgICAgICAgLSBhIHF1ZXJ5IHZhbHVlIHJlcHJlc2VudGluZyB0aGUgdGFy\nZ2V0IHN0cmluZwogICAgICogQHBhcmFtIGZpbmQKICAgICAqICAgICAgICAg\nICAgLSBhIHF1ZXJ5IHZhbHVlIHJlcHJlc2VudGluZyB0aGUgc2VhcmNoIHN0\ncmluZwogICAgICogQHBhcmFtIHN0YXJ0CiAgICAgKiAgICAgICAgICAgIC0g\nYSBxdWVyeSB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIHN0YXJ0IGluZGV4LCBv\nciBudWxsIHRvIAogICAgICogICAgICAgICAgICBzdGFydCBhdCB0aGUgYmVn\naW5uaW5nCiAgICAgKi8KCiAgICBwdWJsaWMgdm9pZCBpbmRleE9mKFNRTEJ1\nZmZlciBidWYsIEZpbHRlclZhbHVlIHN0ciwgRmlsdGVyVmFsdWUgZmluZCwK\nICAgICAgICBGaWx0ZXJWYWx1ZSBzdGFydCkgewogICAgICAgIGJ1Zi5hcHBl\nbmQoIihQT1NJVElPTigoIik7CiAgICAgICAgZmluZC5hcHBlbmRUbyhidWYp\nOwogICAgICAgIGJ1Zi5hcHBlbmQoIikgSU4gKCIpOwoKICAgICAgICBpZiAo\nc3RhcnQgIT0gbnVsbCkKICAgICAgICAgICAgc3Vic3RyaW5nKGJ1Ziwgc3Ry\nLCBzdGFydCwgbnVsbCk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBzdHIu\nYXBwZW5kVG8oYnVmKTsKICAgICAgICAKICAgICAgICBidWYuYXBwZW5kKCIp\nKSAtIDEiKTsKCiAgICAgICAgaWYgKHN0YXJ0ICE9IG51bGwpIHsKICAgICAg\nICAgICAgYnVmLmFwcGVuZCgiICsgIik7CiAgICAgICAgICAgIHN0YXJ0LmFw\ncGVuZFRvKGJ1Zik7CiAgICAgICAgfQogICAgICAgIGJ1Zi5hcHBlbmQoIiki\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBzZWUgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeSNzdWJzdHJpbmcoCiAgICAgKiAg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEJ1ZmZlciwgCiAgICAg\nKiAgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLmV4cHMuRmlsdGVy\nVmFsdWUsIAogICAgICogIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5l\nbC5leHBzLkZpbHRlclZhbHVlLCAKICAgICAqICBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5rZXJuZWwuZXhwcy5GaWx0ZXJWYWx1ZSkKICAgICAqLwogICAg\ncHVibGljIHZvaWQgc3Vic3RyaW5nKFNRTEJ1ZmZlciBidWYsIEZpbHRlclZh\nbHVlIHN0ciwgRmlsdGVyVmFsdWUgc3RhcnQsCiAgICAgICAgRmlsdGVyVmFs\ndWUgZW5kKSB7CiAgICAgICAgYnVmLmFwcGVuZChzdWJzdHJpbmdGdW5jdGlv\nbk5hbWUpLmFwcGVuZCgiKCIpOwogICAgICAgIHN0ci5hcHBlbmRUbyhidWYp\nOwogICAgICAgIGJ1Zi5hcHBlbmQoIiwgIik7CiAgICAgICAgaWYgKHN0YXJ0\nLmdldFZhbHVlKCkgaW5zdGFuY2VvZiBOdW1iZXIpIHsKICAgICAgICAgICAg\nbG9uZyBzdGFydExvbmcgPSB0b0xvbmcoc3RhcnQpOwogICAgICAgICAgICBi\ndWYuYXBwZW5kKExvbmcudG9TdHJpbmcoc3RhcnRMb25nICsgMSkpOwogICAg\nICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIihDQVNUICgo\nIik7CiAgICAgICAgICAgIHN0YXJ0LmFwcGVuZFRvKGJ1Zik7CiAgICAgICAg\nICAgIGJ1Zi5hcHBlbmQoIiArIDEpIEFTIElOVEVHRVIpKSIpOwogICAgICAg\nIH0KICAgICAgICBpZiAoZW5kICE9IG51bGwpIHsKICAgICAgICAgICAgYnVm\nLmFwcGVuZCgiLCAiKTsKICAgICAgICAgICAgaWYgKHN0YXJ0LmdldFZhbHVl\nKCkgaW5zdGFuY2VvZiBOdW1iZXIKICAgICAgICAgICAgICAgICYmIGVuZC5n\nZXRWYWx1ZSgpIGluc3RhbmNlb2YgTnVtYmVyKSB7CiAgICAgICAgICAgICAg\nICBsb25nIHN0YXJ0TG9uZyA9IHRvTG9uZyhzdGFydCk7CiAgICAgICAgICAg\nICAgICBsb25nIGVuZExvbmcgPSB0b0xvbmcoZW5kKTsKICAgICAgICAgICAg\nICAgIGJ1Zi5hcHBlbmQoTG9uZy50b1N0cmluZyhlbmRMb25nIC0gc3RhcnRM\nb25nKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBi\ndWYuYXBwZW5kKCIoQ0FTVCAoIik7CiAgICAgICAgICAgICAgICBlbmQuYXBw\nZW5kVG8oYnVmKTsKICAgICAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIiAtICgi\nKTsKICAgICAgICAgICAgICAgIHN0YXJ0LmFwcGVuZFRvKGJ1Zik7CiAgICAg\nICAgICAgICAgICBidWYuYXBwZW5kKCIpIEFTIElOVEVHRVIpKSIpOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGJ1Zi5hcHBlbmQoIikiKTsK\nICAgIH0gIAp9Cg==\n","encoding":"base64"}

