{"sha":"9376be854caa72e45005f894491af3ce14304eef","node_id":"MDQ6QmxvYjIwNjM2NDo5Mzc2YmU4NTRjYWE3MmU0NTAwNWY4OTQ0OTFhZjNjZTE0MzA0ZWVm","size":5211,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9376be854caa72e45005f894491af3ce14304eef","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5DbGFzc01hcHBpbmc7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuRm9yZWlnbktl\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5UYWJs\nZTsKCi8qKgogKiBSZXByZXNlbnRzIGEgU1FMIGpvaW4uCiAqCiAqIEBhdXRo\nb3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgSm9pbgogICAgaW1wbGVt\nZW50cyBDbG9uZWFibGUsIEpvaW5TeW50YXhlcyB7CgogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBpbnQgVFlQRV9JTk5FUiA9IDA7CiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIGludCBUWVBFX09VVEVSID0gMTsKICAgIHB1YmxpYyBzdGF0\naWMgZmluYWwgaW50IFRZUEVfQ1JPU1MgPSAyOwoKICAgIHByaXZhdGUgaW50\nIF90eXBlID0gVFlQRV9JTk5FUjsKCiAgICBwcml2YXRlIGludCBfYWxpYXMx\nOwogICAgcHJpdmF0ZSBpbnQgX2FsaWFzMjsKICAgIHByaXZhdGUgVGFibGUg\nX3RhYmxlMTsKICAgIHByaXZhdGUgVGFibGUgX3RhYmxlMjsKICAgIHByaXZh\ndGUgRm9yZWlnbktleSBfZms7CiAgICBwcml2YXRlIENsYXNzTWFwcGluZyBf\ndGFyZ2V0OwogICAgcHJpdmF0ZSBpbnQgX3N1YnM7CiAgICBwcml2YXRlIEpv\naW5zIF9qb2luczsKICAgIHByaXZhdGUgYm9vbGVhbiBfaW52ZXJzZTsKICAg\nIHByaXZhdGUgYm9vbGVhbiBfY29ycmVsYXRlZCA9IGZhbHNlOwogICAgcHJp\ndmF0ZSBib29sZWFuIF9pc05vdE15Sm9pbiA9IGZhbHNlOwoKICAgIC8qKgog\nICAgICogQ29uc3RydWN0b3IgZm9yIGlubmVyIGFuZCBvdXRlciBqb2lucy4K\nICAgICAqLwogICAgSm9pbihUYWJsZSB0YWJsZTEsIGludCBhbGlhczEsIFRh\nYmxlIHRhYmxlMiwgaW50IGFsaWFzMiwgRm9yZWlnbktleSBmaywKICAgICAg\nICBib29sZWFuIGludmVyc2UpIHsKICAgICAgICBfdGFibGUxID0gdGFibGUx\nOwogICAgICAgIF9hbGlhczEgPSBhbGlhczE7CiAgICAgICAgX3RhYmxlMiA9\nIHRhYmxlMjsKICAgICAgICBfYWxpYXMyID0gYWxpYXMyOwogICAgICAgIF9m\nayA9IGZrOwogICAgICAgIF9pbnZlcnNlID0gaW52ZXJzZTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFByaXZhdGUgZGVmYXVsdCBjb25zdHJ1Y3Rvci4KICAg\nICAqLwogICAgcHJpdmF0ZSBKb2luKCkgewogICAgfQoKICAgIHB1YmxpYyBp\nbnQgZ2V0VHlwZSgpIHsKICAgICAgICByZXR1cm4gX3R5cGU7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0VHlwZShpbnQgdHlwZSkgewogICAgICAgIF90\neXBlID0gdHlwZTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEFsaWFz\nMSgpIHsKICAgICAgICByZXR1cm4gU2VsZWN0SW1wbC50b0FsaWFzKF9hbGlh\nczEpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWxpYXMyKCkgewog\nICAgICAgIHJldHVybiBTZWxlY3RJbXBsLnRvQWxpYXMoX2FsaWFzMik7CiAg\nICB9CgogICAgaW50IGdldEluZGV4MSgpIHsKICAgICAgICByZXR1cm4gX2Fs\naWFzMTsKICAgIH0KCiAgICBpbnQgZ2V0SW5kZXgyKCkgewogICAgICAgIHJl\ndHVybiBfYWxpYXMyOwogICAgfQoKICAgIHB1YmxpYyBUYWJsZSBnZXRUYWJs\nZTEoKSB7CiAgICAgICAgcmV0dXJuIF90YWJsZTE7CiAgICB9CgogICAgcHVi\nbGljIFRhYmxlIGdldFRhYmxlMigpIHsKICAgICAgICByZXR1cm4gX3RhYmxl\nMjsKICAgIH0KCiAgICBwdWJsaWMgRm9yZWlnbktleSBnZXRGb3JlaWduS2V5\nKCkgewogICAgICAgIHJldHVybiBfZms7CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gaXNGb3JlaWduS2V5SW52ZXJzZWQoKSB7CiAgICAgICAgcmV0dXJu\nIF9pbnZlcnNlOwogICAgfQoKICAgIC8qKgogICAgICogSWYgam9pbmluZyBh\nIHJlbGF0aW9uLCB0aGUgdGFyZ2V0IHR5cGUuICAKICAgICAqLwogICAgcHVi\nbGljIENsYXNzTWFwcGluZyBnZXRSZWxhdGlvblRhcmdldCgpIHsKICAgICAg\nICByZXR1cm4gX3RhcmdldDsKICAgIH0KCiAgICAvKioKICAgICAqIElmIGpv\naW5pbmcgYSByZWxhdGlvbiwgaG93IHRvIGRlYWwgd2l0aCBzdWJjbGFzc2Vz\nLiAgU2VlIHN1YmNsYXNzCiAgICAgKiBjb25zdGFudHMgaW4ge0BsaW5rIFNl\nbGVjdH0uCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0U3ViY2xhc3Nlcygp\nIHsKICAgICAgICByZXR1cm4gX3N1YnM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBJZiBqb2luaW5nIGEgcmVsYXRpb24sIHRoZSBqb2lucyBsZWFkaW5nIHRv\nIHRoZSByZWxhdGlvbi4KICAgICAqLwogICAgcHVibGljIEpvaW5zIGdldFJl\nbGF0aW9uSm9pbnMoKSB7CiAgICAgICAgcmV0dXJuIF9qb2luczsKICAgIH0K\nCiAgICAvKioKICAgICAqIFdoZW4gam9pbmluZyBhIHJlbGF0aW9uLCBzZXQg\ndGFyZ2V0IHR5cGUgYW5kIGhvdyB0byBkZWFsIHdpdGgKICAgICAqIHN1YmNs\nYXNzZXMuICBTZWUgc3ViY2xhc3MgY29uc3RhbnRzIGluIHtAbGluayAjU2Vs\nZWN0fS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0UmVsYXRpb24oQ2xh\nc3NNYXBwaW5nIHRhcmdldCwgaW50IHN1YnMsIEpvaW5zIGpvaW5zKSB7CiAg\nICAgICAgX3RhcmdldCA9IHRhcmdldDsKICAgICAgICBfc3VicyA9IHN1YnM7\nCiAgICAgICAgX2pvaW5zID0gam9pbnM7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gYSBqb2luIHRoYXQgaXMgdGhpcyBqb2luIGluIHJldmVyc2Uu\nCiAgICAgKi8KICAgIHB1YmxpYyBKb2luIHJldmVyc2UoKSB7CiAgICAgICAg\nSm9pbiBqb2luID0gbmV3IEpvaW4oKTsKICAgICAgICBqb2luLl90eXBlID0g\nX3R5cGU7CiAgICAgICAgam9pbi5fdGFibGUxID0gX3RhYmxlMjsKICAgICAg\nICBqb2luLl9hbGlhczEgPSBfYWxpYXMyOwogICAgICAgIGpvaW4uX3RhYmxl\nMiA9IF90YWJsZTE7CiAgICAgICAgam9pbi5fYWxpYXMyID0gX2FsaWFzMTsK\nICAgICAgICBqb2luLl9pbnZlcnNlID0gIV9pbnZlcnNlOwogICAgICAgIGpv\naW4uX2ZrID0gX2ZrOwogICAgICAgIGpvaW4uX3RhcmdldCA9IF90YXJnZXQ7\nCiAgICAgICAgam9pbi5fc3VicyA9IF9zdWJzOwogICAgICAgIGpvaW4uX2pv\naW5zID0gX2pvaW5zOwogICAgICAgIGpvaW4uX2NvcnJlbGF0ZWQgPSBfY29y\ncmVsYXRlZDsKICAgICAgICByZXR1cm4gam9pbjsKICAgIH0KCiAgICBwdWJs\naWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgIHJldHVybiBfYWxpYXMxIF4g\nX2FsaWFzMjsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVhbHMoT2Jq\nZWN0IG90aGVyKSB7CiAgICAgICAgaWYgKG90aGVyID09IHRoaXMpCiAgICAg\nICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIGlmICghKG90aGVyIGluc3Rh\nbmNlb2YgSm9pbikpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAg\nICAgSm9pbiBqID0gKEpvaW4pIG90aGVyOwogICAgICAgIHJldHVybiAoX2Fs\naWFzMSA9PSBqLl9hbGlhczEgJiYgX2FsaWFzMiA9PSBqLl9hbGlhczIpCiAg\nICAgICAgICAgIHx8IChfYWxpYXMxID09IGouX2FsaWFzMiAmJiBfYWxpYXMy\nID09IGouX2FsaWFzMSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyB0b1N0\ncmluZygpIHsKICAgICAgICBTdHJpbmcgdHlwZVN0cmluZzsKICAgICAgICBp\nZiAoX3R5cGUgPT0gVFlQRV9DUk9TUykKICAgICAgICAgICAgdHlwZVN0cmlu\nZyA9ICJjcm9zcyI7CiAgICAgICAgZWxzZSBpZiAoX3R5cGUgPT0gVFlQRV9J\nTk5FUikKICAgICAgICAgICAgdHlwZVN0cmluZyA9ICJpbm5lciI7CiAgICAg\nICAgZWxzZQogICAgICAgICAgICB0eXBlU3RyaW5nID0gIm91dGVyIjsKICAg\nICAgICBpZiAoX2NvcnJlbGF0ZWQpCiAgICAgICAgICAgIHR5cGVTdHJpbmcg\nKz0gIiAmIjsKICAgICAgICByZXR1cm4gIjwiICsgU3lzdGVtLmlkZW50aXR5\nSGFzaENvZGUodGhpcykgKyAiPiB0IgogICAgICAgICAgICArIF9hbGlhczEg\nKyAiLT50IiArIF9hbGlhczIgKyAiICgiICsgdHlwZVN0cmluZyArICIpIjsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGNsb25lKCkgewogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHJldHVybiBzdXBlci5jbG9uZSgpOwogICAgICAg\nIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJldHVybiBu\ndWxsOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0Nv\ncnJlbGF0ZWQoKSB7CiAgICAgICAgcmV0dXJuIF9jb3JyZWxhdGVkOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldENvcnJlbGF0ZWQoKSB7CiAgICAgICAg\nX2NvcnJlbGF0ZWQgPSB0cnVlOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFu\nIGlzTm90TXlKb2luKCkgewogICAgICAgIHJldHVybiBfaXNOb3RNeUpvaW47\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SXNOb3RNeUpvaW4oKSB7CiAg\nICAgICAgX2lzTm90TXlKb2luID0gdHJ1ZTsKICAgIH0KfQoK\n","encoding":"base64"}

