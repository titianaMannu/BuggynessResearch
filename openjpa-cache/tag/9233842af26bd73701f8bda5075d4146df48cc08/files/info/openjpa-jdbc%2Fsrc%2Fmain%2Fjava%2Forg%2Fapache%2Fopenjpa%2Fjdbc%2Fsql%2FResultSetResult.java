{"sha":"9eb2a2b66a8025addc83b33eabc7a5c44585791c","node_id":"MDQ6QmxvYjIwNjM2NDo5ZWIyYTJiNjZhODAyNWFkZGM4M2IzM2VhYmM3YTVjNDQ1ODU3OTFj","size":16531,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9eb2a2b66a8025addc83b33eabc7a5c44585791c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUmVhZGVyOwpp\nbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZhLm1hdGgu\nQmlnSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkFycmF5OwppbXBvcnQgamF2\nYS5zcWwuQmxvYjsKaW1wb3J0IGphdmEuc3FsLkNsb2I7CmltcG9ydCBqYXZh\nLnNxbC5Db25uZWN0aW9uOwppbXBvcnQgamF2YS5zcWwuUmVmOwppbXBvcnQg\namF2YS5zcWwuUmVzdWx0U2V0OwppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0\naW9uOwppbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50OwppbXBvcnQgamF2YS5z\ncWwuVGltZTsKaW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDsKaW1wb3J0IGph\ndmEuc3FsLlR5cGVzOwppbXBvcnQgamF2YS51dGlsLkNhbGVuZGFyOwppbXBv\ncnQgamF2YS51dGlsLkRhdGU7CmltcG9ydCBqYXZhLnV0aWwuTG9jYWxlOwpp\nbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5rZXJuZWwuSkRCQ1N0b3JlOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMubWV0YS5KYXZhU1FMVHlwZXM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwoKaW1wb3J0IHNlcnAudXRp\nbC5OdW1iZXJzOwoKLyoqCiAqIEJhc2Uge0BsaW5rIFJlc3VsdH0gaW1wbGVt\nZW50YXRpb24gd3JhcHBlZCBhcm91bmQgYSByZXN1bHQgc2V0LgogKiBDb2x1\nbW4gb2JqZWN0cywgY29sdW1uIG5hbWVzLCBvciBjb2x1bW4gaW5kZXhlcyAo\nYXMgPGNvZGU+TnVtYmVyPC9jb2RlPgogKiBpbnN0YW5jZXMpIGNhbiBiZSB1\nc2VkIHRvIHJldHJpZXZlIHJlc3VsdCBzZXQgZGF0YS4KICoKICogQGF1dGhv\nciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBSZXN1bHRTZXRSZXN1bHQK\nICAgIGV4dGVuZHMgQWJzdHJhY3RSZXN1bHQgewoKICAgIHByaXZhdGUgZmlu\nYWwgQ29ubmVjdGlvbiBfY29ubjsKICAgIHByaXZhdGUgZmluYWwgU3RhdGVt\nZW50IF9zdG1udDsKICAgIHByaXZhdGUgZmluYWwgUmVzdWx0U2V0IF9yczsK\nICAgIHByaXZhdGUgZmluYWwgREJEaWN0aW9uYXJ5IF9kaWN0OwogICAgcHJp\ndmF0ZSBib29sZWFuIF9jbG9zZUNvbm4gPSB0cnVlOwogICAgcHJpdmF0ZSBp\nbnQgX3JvdyA9IC0xOwogICAgcHJpdmF0ZSBpbnQgX3NpemUgPSAtMTsKCiAg\nICAvLyBvcHRpb25hbDsgdXNlZCB0byBkZXNlcmlhbGl6ZSBibG9icyBjb250\nYWluaW5nIHJlZnMgdG8gcGVyc2lzdGVudCBvYmpzCiAgICBwcml2YXRlIEpE\nQkNTdG9yZSBfc3RvcmUgPSBudWxsOwoKICAgIC8qKgogICAgICogQ29uc3Ry\ndWN0b3IuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHRTZXRSZXN1bHQoQ29u\nbmVjdGlvbiBjb25uLCBTdGF0ZW1lbnQgc3RtbnQsCiAgICAgICAgUmVzdWx0\nU2V0IHJzLCBEQkRpY3Rpb25hcnkgZGljdCkgewogICAgICAgIGlmIChzdG1u\ndCA9PSBudWxsKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAg\nc3RtbnQgPSBycy5nZXRTdGF0ZW1lbnQoKTsKICAgICAgICAgICAgfSBjYXRj\naCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgfQoKICAgICAgICBfY29u\nbiA9IGNvbm47CiAgICAgICAgX3N0bW50ID0gc3RtbnQ7CiAgICAgICAgX3Jz\nID0gcnM7CiAgICAgICAgX2RpY3QgPSBkaWN0OwogICAgfQoKICAgIC8qKgog\nICAgICogQ29uc3RydWN0b3IuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHRT\nZXRSZXN1bHQoQ29ubmVjdGlvbiBjb25uLCBTdGF0ZW1lbnQgc3RtbnQsCiAg\nICAgICAgUmVzdWx0U2V0IHJzLCBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAg\nICB0aGlzKGNvbm4sIHN0bW50LCBycywgc3RvcmUuZ2V0REJEaWN0aW9uYXJ5\nKCkpOwogICAgICAgIHNldFN0b3JlKHN0b3JlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIENvbnN0cnVjdG9yLgogICAgICovCiAgICBwdWJsaWMgUmVzdWx0\nU2V0UmVzdWx0KENvbm5lY3Rpb24gY29ubiwKICAgICAgICBSZXN1bHRTZXQg\ncnMsIERCRGljdGlvbmFyeSBkaWN0KSB7CiAgICAgICAgX2Nvbm4gPSBjb25u\nOwogICAgICAgIF9zdG1udCA9IG51bGw7CiAgICAgICAgX3JzID0gcnM7CiAg\nICAgICAgX2RpY3QgPSBkaWN0OwogICAgfQoKICAgIC8qKgogICAgICogSkRC\nQyAyIGNvbnN0cnVjdG9yLiBSZWxpZXMgb24gYmVpbmcgYWJsZSB0byByZXRy\naWV2ZSB0aGUgc3RhdGVtZW50CiAgICAgKiBmcm9tIHRoZSByZXN1bHQgc2V0\nLCBhbmQgdGhlIGNvbm5lY3Rpb24gZnJvbSB0aGUgc3RhdGVtZW50LgogICAg\nICovCiAgICBwdWJsaWMgUmVzdWx0U2V0UmVzdWx0KFJlc3VsdFNldCBycywg\nREJEaWN0aW9uYXJ5IGRpY3QpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgX3N0bW50ID0gcnMuZ2V0U3RhdGVtZW50KCk7CiAgICAg\nICAgX2Nvbm4gPSBfc3RtbnQuZ2V0Q29ubmVjdGlvbigpOwogICAgICAgIF9y\ncyA9IHJzOwogICAgICAgIF9kaWN0ID0gZGljdDsKICAgIH0KCiAgICAvKioK\nICAgICAqIEpEQkMgMiBjb25zdHJ1Y3Rvci4gUmVsaWVzIG9uIGJlaW5nIGFi\nbGUgdG8gcmV0cmlldmUgdGhlIHN0YXRlbWVudAogICAgICogZnJvbSB0aGUg\ncmVzdWx0IHNldCwgYW5kIHRoZSBjb25uZWN0aW9uIGZyb20gdGhlIHN0YXRl\nbWVudC4KICAgICAqLwogICAgcHVibGljIFJlc3VsdFNldFJlc3VsdChSZXN1\nbHRTZXQgcnMsIEpEQkNTdG9yZSBzdG9yZSkKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICB0aGlzKHJzLCBzdG9yZS5nZXREQkRpY3Rp\nb25hcnkoKSk7CiAgICAgICAgc2V0U3RvcmUoc3RvcmUpOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIHRoZSBzdGF0ZW1lbnQgdGhhdCBwcm9kdWNl\nZCB0aGlzIHJlc3VsdC4KICAgICAqLwogICAgcHVibGljIFN0YXRlbWVudCBn\nZXRTdGF0ZW1lbnQoKSB7CiAgICAgICAgcmV0dXJuIF9zdG1udDsKICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgYmFja2luZyByZXN1bHQgc2V0\nLgogICAgICovCiAgICBwdWJsaWMgUmVzdWx0U2V0IGdldFJlc3VsdFNldCgp\nIHsKICAgICAgICByZXR1cm4gX3JzOwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIHRoZSBkaWN0aW9uYXJ5IGluIHVzZS4KICAgICAqLwogICAgcHVi\nbGljIERCRGljdGlvbmFyeSBnZXREQkRpY3Rpb25hcnkoKSB7CiAgICAgICAg\ncmV0dXJuIF9kaWN0OwogICAgfQoKICAgIC8qKgogICAgICogT3B0aW9uYWwg\nc3RvcmUgbWFuYWdlciB1c2VkIHRvIGRlc2VyaWFsaXplIGJsb2JzIGNvbnRh\naW5pbmcKICAgICAqIHJlZmVyZW5jZXMgdG8gcGVyc2lzdGVudCBvYmplY3Rz\nLgogICAgICovCiAgICBwdWJsaWMgSkRCQ1N0b3JlIGdldFN0b3JlKCkgewog\nICAgICAgIHJldHVybiBfc3RvcmU7CiAgICB9CgogICAgLyoqCiAgICAgKiBP\ncHRpb25hbCBzdG9yZSBtYW5hZ2VyIHVzZWQgdG8gZGVzZXJpYWxpemUgYmxv\nYnMgY29udGFpbmluZwogICAgICogcmVmZXJlbmNlcyB0byBwZXJzaXN0ZW50\nIG9iamVjdHMuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFN0b3JlKEpE\nQkNTdG9yZSBzdG9yZSkgewogICAgICAgIF9zdG9yZSA9IHN0b3JlOwogICAg\nfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBjbG9zZSB0aGUgYmFja2lu\nZyBjb25uZWN0aW9uIHdoZW4gdGhpcyByZXN1bHQgaXMgY2xvc2VkLgogICAg\nICogRGVmYXVsdHMgdG8gdHJ1ZS4KICAgICAqLwogICAgcHVibGljIGJvb2xl\nYW4gZ2V0Q2xvc2VDb25uZWN0aW9uKCkgewogICAgICAgIHJldHVybiBfY2xv\nc2VDb25uOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciB0byBjbG9z\nZSB0aGUgYmFja2luZyBjb25uZWN0aW9uIHdoZW4gdGhpcyByZXN1bHQgaXMg\nY2xvc2VkLgogICAgICogRGVmYXVsdHMgdG8gdHJ1ZS4KICAgICAqLwogICAg\ncHVibGljIHZvaWQgc2V0Q2xvc2VDb25uZWN0aW9uKGJvb2xlYW4gY2xvc2VD\nb25uKSB7CiAgICAgICAgX2Nsb3NlQ29ubiA9IGNsb3NlQ29ubjsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBjbG9zZSgpIHsKICAgICAgICBzdXBlci5jbG9z\nZSgpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9ycy5jbG9zZSgpOwog\nICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBzZSkgewogICAgICAgIH0K\nICAgICAgICBpZiAoX3N0bW50ICE9IG51bGwpCiAgICAgICAgICAgIHRyeSB7\nCiAgICAgICAgICAgICAgICBfc3RtbnQuY2xvc2UoKTsKICAgICAgICAgICAg\nfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlKSB7CiAgICAgICAgICAgIH0KICAg\nICAgICBpZiAoX2Nsb3NlQ29ubikKICAgICAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgICAgIF9jb25uLmNsb3NlKCk7CiAgICAgICAgICAgIH0gY2F0Y2gg\nKFNRTEV4Y2VwdGlvbiBzZSkgewogICAgICAgICAgICB9CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gc3VwcG9ydHNSYW5kb21BY2Nlc3MoKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcnMuZ2V0\nVHlwZSgpICE9IFJlc3VsdFNldC5UWVBFX0ZPUldBUkRfT05MWTsKICAgIH0K\nCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBhYnNvbHV0ZUludGVybmFsKGludCBy\nb3cpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgaWYg\nKHJvdyA9PSArK19yb3cpCiAgICAgICAgICAgIHJldHVybiBfcnMubmV4dCgp\nOwoKICAgICAgICAvLyByYW5kb20gYWNjZXNzCiAgICAgICAgX3JzLmFic29s\ndXRlKHJvdyArIDEpOwogICAgICAgIGlmIChfcnMuZ2V0Um93KCkgPT0gMCkg\newogICAgICAgICAgICBfcm93ID0gLTE7CiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKICAgICAgICB9CiAgICAgICAgX3JvdyA9IHJvdzsKICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgYm9vbGVhbiBuZXh0\nSW50ZXJuYWwoKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIF9yb3crKzsKICAgICAgICByZXR1cm4gX3JzLm5leHQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgaW50IHNpemUoKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIGlmIChfc2l6ZSA9PSAtMSkgewogICAgICAgICAg\nICBfcnMubGFzdCgpOwogICAgICAgICAgICBfc2l6ZSA9IF9ycy5nZXRSb3co\nKTsKICAgICAgICAgICAgaWYgKF9yb3cgPT0gLTEpCiAgICAgICAgICAgICAg\nICBfcnMuYmVmb3JlRmlyc3QoKTsKICAgICAgICAgICAgZWxzZQogICAgICAg\nICAgICAgICAgX3JzLmFic29sdXRlKF9yb3cgKyAxKTsKICAgICAgICB9CiAg\nICAgICAgcmV0dXJuIF9zaXplOwogICAgfQoKICAgIHByb3RlY3RlZCBib29s\nZWFuIGNvbnRhaW5zSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMp\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nICgoTnVtYmVyKSB0cmFuc2xhdGUob2JqLCBqb2lucykpLmludFZhbHVlKCkg\nPiAwOwogICAgfQoKICAgIHByb3RlY3RlZCBBcnJheSBnZXRBcnJheUludGVy\nbmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRBcnJheShf\ncnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAgIHBy\nb3RlY3RlZCBJbnB1dFN0cmVhbSBnZXRBc2NpaVN0cmVhbUludGVybmFsKE9i\namVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRBc2NpaVN0cmVhbShf\ncnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAgIHBy\nb3RlY3RlZCBCaWdEZWNpbWFsIGdldEJpZ0RlY2ltYWxJbnRlcm5hbChPYmpl\nY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0QmlnRGVjaW1hbChfcnMs\nICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAgIHByb3Rl\nY3RlZCBOdW1iZXIgZ2V0TnVtYmVySW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9p\nbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIF9kaWN0LmdldE51bWJlcihfcnMsICgoTnVtYmVyKSBvYmop\nLmludFZhbHVlKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBCaWdJbnRlZ2Vy\nIGdldEJpZ0ludGVnZXJJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lu\ncykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX2RpY3QuZ2V0QmlnSW50ZWdlcihfcnMsICgoTnVtYmVyKSBvYmopLmlu\ndFZhbHVlKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBJbnB1dFN0cmVhbSBn\nZXRCaW5hcnlTdHJlYW1JbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lu\ncykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX2RpY3QuZ2V0QmluYXJ5U3RyZWFtKF9ycywgKChOdW1iZXIpIG9iaiku\naW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIEJsb2IgZ2V0Qmxv\nYkludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRC\nbG9iKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9Cgog\nICAgcHJvdGVjdGVkIGJvb2xlYW4gZ2V0Qm9vbGVhbkludGVybmFsKE9iamVj\ndCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRCb29sZWFuKF9ycywgKChO\ndW1iZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHJvdGVjdGVk\nIGJ5dGUgZ2V0Qnl0ZUludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5z\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfZGljdC5nZXRCeXRlKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUo\nKSk7CiAgICB9CgogICAgcHJvdGVjdGVkIGJ5dGVbXSBnZXRCeXRlc0ludGVy\nbmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRCeXRlcyhf\ncnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAgIHBy\nb3RlY3RlZCBDYWxlbmRhciBnZXRDYWxlbmRhckludGVybmFsKE9iamVjdCBv\nYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfZGljdC5nZXRDYWxlbmRhcihfcnMsICgoTnVt\nYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBj\naGFyIGdldENoYXJJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykK\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nX2RpY3QuZ2V0Q2hhcihfcnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkp\nOwogICAgfQoKICAgIHByb3RlY3RlZCBSZWFkZXIgZ2V0Q2hhcmFjdGVyU3Ry\nZWFtSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9kaWN0Lmdl\ndENoYXJhY3RlclN0cmVhbShfcnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVl\nKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBDbG9iIGdldENsb2JJbnRlcm5h\nbChPYmplY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0Q2xvYihfcnMs\nICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAgIHByb3Rl\nY3RlZCBEYXRlIGdldERhdGVJbnRlcm5hbChPYmplY3Qgb2JqLCBKb2lucyBq\nb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gX2RpY3QuZ2V0RGF0ZShfcnMsICgoTnVtYmVyKSBvYmopLmludFZh\nbHVlKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBqYXZhLnNxbC5EYXRlIGdl\ndERhdGVJbnRlcm5hbChPYmplY3Qgb2JqLCBDYWxlbmRhciBjYWwsCiAgICAg\nICAgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9kaWN0LmdldERhdGUoX3JzLCAoKE51bWJlcikg\nb2JqKS5pbnRWYWx1ZSgpLCBjYWwpOwogICAgfQoKICAgIHByb3RlY3RlZCBk\nb3VibGUgZ2V0RG91YmxlSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9p\nbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIF9kaWN0LmdldERvdWJsZShfcnMsICgoTnVtYmVyKSBvYmopLmludFZh\nbHVlKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBmbG9hdCBnZXRGbG9hdElu\ndGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfZGljdC5nZXRGbG9h\ndChfcnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAg\nIHByb3RlY3RlZCBpbnQgZ2V0SW50SW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9p\nbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIF9kaWN0LmdldEludChfcnMsICgoTnVtYmVyKSBvYmopLmlu\ndFZhbHVlKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBMb2NhbGUgZ2V0TG9j\nYWxlSW50ZXJuYWwoT2JqZWN0IG9iaiwgSm9pbnMgam9pbnMpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9kaWN0Lmdl\ndExvY2FsZShfcnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCkpOwogICAg\nfQoKICAgIHByb3RlY3RlZCBsb25nIGdldExvbmdJbnRlcm5hbChPYmplY3Qg\nb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0TG9uZyhfcnMsICgoTnVtYmVy\nKSBvYmopLmludFZhbHVlKCkpOwogICAgfQoKICAgIHByb3RlY3RlZCBPYmpl\nY3QgZ2V0U3RyZWFtSW50ZXJuYWwoSkRCQ1N0b3JlIHN0b3JlLCBPYmplY3Qg\nb2JqLAogICAgICAgIGludCBtZXRhVHlwZUNvZGUsIE9iamVjdCBhcmcsIEpv\naW5zIGpvaW5zKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gZ2V0TE9CU3RyZWFtSW50ZXJuYWwoc3RvcmUsIG9iaiwgam9pbnMpOwog\nICAgfQogICAgCiAgICBwcm90ZWN0ZWQgT2JqZWN0IGdldE9iamVjdEludGVy\nbmFsKE9iamVjdCBvYmosIGludCBtZXRhVHlwZUNvZGUsCiAgICAgICAgT2Jq\nZWN0IGFyZywgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgaWYgKG1ldGFUeXBlQ29kZSA9PSAtMSAmJiBvYmog\naW5zdGFuY2VvZiBDb2x1bW4pCiAgICAgICAgICAgIG1ldGFUeXBlQ29kZSA9\nICgoQ29sdW1uKSBvYmopLmdldEphdmFUeXBlKCk7CgogICAgICAgIGJvb2xl\nYW4gaXNDbG9iID0gKG9iaiBpbnN0YW5jZW9mIENvbHVtbikgPyAoKENvbHVt\nbikgb2JqKS5nZXRUeXBlKCkgPT0gVHlwZXMuQ0xPQiAmJiAhKChDb2x1bW4p\nIG9iaikuaXNYTUwoKQogICAgICAgICAgICAgICAgOiBmYWxzZTsKICAgICAg\nICBvYmogPSB0cmFuc2xhdGUob2JqLCBqb2lucyk7CiAgICAgICAgCiAgICAg\nICAgT2JqZWN0IHZhbCA9IG51bGw7CiAgICAgICAgc3dpdGNoIChtZXRhVHlw\nZUNvZGUpIHsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQk9PTEVBTjoK\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQk9PTEVBTl9PQko6CiAgICAg\nICAgICAgICAgICB2YWwgPSAoZ2V0Qm9vbGVhbkludGVybmFsKG9iaiwgam9p\nbnMpKSA/IEJvb2xlYW4uVFJVRQogICAgICAgICAgICAgICAgICAgIDogQm9v\nbGVhbi5GQUxTRTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAg\nICBjYXNlIEphdmFUeXBlcy5CWVRFOgogICAgICAgICAgICBjYXNlIEphdmFU\neXBlcy5CWVRFX09CSjoKICAgICAgICAgICAgICAgIHZhbCA9IG5ldyBCeXRl\nKGdldEJ5dGVJbnRlcm5hbChvYmosIGpvaW5zKSk7CiAgICAgICAgICAgICAg\nICBicmVhazsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQ0hBUjoKICAg\nICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQ0hBUl9PQko6CiAgICAgICAgICAg\nICAgICB2YWwgPSBuZXcgQ2hhcmFjdGVyKGdldENoYXJJbnRlcm5hbChvYmos\nIGpvaW5zKSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAg\nY2FzZSBKYXZhVHlwZXMuRE9VQkxFOgogICAgICAgICAgICBjYXNlIEphdmFU\neXBlcy5ET1VCTEVfT0JKOgogICAgICAgICAgICAgICAgdmFsID0gbmV3IERv\ndWJsZShnZXREb3VibGVJbnRlcm5hbChvYmosIGpvaW5zKSk7CiAgICAgICAg\nICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuRkxP\nQVQ6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkZMT0FUX09CSjoKICAg\nICAgICAgICAgICAgIHZhbCA9IG5ldyBGbG9hdChnZXRGbG9hdEludGVybmFs\nKG9iaiwgam9pbnMpKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAg\nICAgICBjYXNlIEphdmFUeXBlcy5JTlQ6CiAgICAgICAgICAgIGNhc2UgSmF2\nYVR5cGVzLklOVF9PQko6CiAgICAgICAgICAgICAgICB2YWwgPSBOdW1iZXJz\nLnZhbHVlT2YoZ2V0SW50SW50ZXJuYWwob2JqLCBqb2lucykpOwogICAgICAg\nICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxP\nTkc6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxPTkdfT0JKOgogICAg\nICAgICAgICAgICAgdmFsID0gTnVtYmVycy52YWx1ZU9mKGdldExvbmdJbnRl\ncm5hbChvYmosIGpvaW5zKSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAg\nICAgICAgICAgY2FzZSBKYXZhVHlwZXMuU0hPUlQ6CiAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLlNIT1JUX09CSjoKICAgICAgICAgICAgICAgIHZhbCA9\nIG5ldyBTaG9ydChnZXRTaG9ydEludGVybmFsKG9iaiwgam9pbnMpKTsKICAg\nICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIEphdmFUeXBl\ncy5TVFJJTkc6CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U3RyaW5nSW50\nZXJuYWwob2JqLCBqb2lucywgaXNDbG9iKTsKICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuT0JKRUNUOgogICAgICAgICAgICAgICAgcmV0dXJuIF9kaWN0\nCiAgICAgICAgICAgICAgICAgICAgLmdldEJsb2JPYmplY3QoX3JzLCAoKE51\nbWJlcikgb2JqKS5pbnRWYWx1ZSgpLCBfc3RvcmUpOwogICAgICAgICAgICBj\nYXNlIEphdmFUeXBlcy5EQVRFOgogICAgICAgICAgICAgICAgcmV0dXJuIGdl\ndERhdGVJbnRlcm5hbChvYmosIGpvaW5zKTsKICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuQ0FMRU5EQVI6CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0\nQ2FsZW5kYXJJbnRlcm5hbChvYmosIGpvaW5zKTsKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuQklHREVDSU1BTDoKICAgICAgICAgICAgICAgIHJldHVy\nbiBnZXRCaWdEZWNpbWFsSW50ZXJuYWwob2JqLCBqb2lucyk7CiAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLk5VTUJFUjoKICAgICAgICAgICAgICAgIHJl\ndHVybiBnZXROdW1iZXJJbnRlcm5hbChvYmosIGpvaW5zKTsKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuQklHSU5URUdFUjoKICAgICAgICAgICAgICAg\nIHJldHVybiBnZXRCaWdJbnRlZ2VySW50ZXJuYWwob2JqLCBqb2lucyk7CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkxPQ0FMRToKICAgICAgICAgICAg\nICAgIHJldHVybiBnZXRMb2NhbGVJbnRlcm5hbChvYmosIGpvaW5zKTsKICAg\nICAgICAgICAgY2FzZSBKYXZhU1FMVHlwZXMuU1FMX0FSUkFZOgogICAgICAg\nICAgICAgICAgcmV0dXJuIGdldEFycmF5SW50ZXJuYWwob2JqLCBqb2lucyk7\nCiAgICAgICAgICAgIGNhc2UgSmF2YVNRTFR5cGVzLkFTQ0lJX1NUUkVBTToK\nICAgICAgICAgICAgICAgIHJldHVybiBnZXRBc2NpaVN0cmVhbUludGVybmFs\nKG9iaiwgam9pbnMpOwogICAgICAgICAgICBjYXNlIEphdmFTUUxUeXBlcy5C\nSU5BUllfU1RSRUFNOgogICAgICAgICAgICAgICAgcmV0dXJuIGdldEJpbmFy\neVN0cmVhbUludGVybmFsKG9iaiwgam9pbnMpOwogICAgICAgICAgICBjYXNl\nIEphdmFTUUxUeXBlcy5CTE9COgogICAgICAgICAgICAgICAgcmV0dXJuIGdl\ndEJsb2JJbnRlcm5hbChvYmosIGpvaW5zKTsKICAgICAgICAgICAgY2FzZSBK\nYXZhU1FMVHlwZXMuQllURVM6CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0\nQnl0ZXNJbnRlcm5hbChvYmosIGpvaW5zKTsKICAgICAgICAgICAgY2FzZSBK\nYXZhU1FMVHlwZXMuQ0hBUl9TVFJFQU06CiAgICAgICAgICAgICAgICByZXR1\ncm4gZ2V0Q2hhcmFjdGVyU3RyZWFtSW50ZXJuYWwob2JqLCBqb2lucyk7CiAg\nICAgICAgICAgIGNhc2UgSmF2YVNRTFR5cGVzLkNMT0I6CiAgICAgICAgICAg\nICAgICByZXR1cm4gZ2V0Q2xvYkludGVybmFsKG9iaiwgam9pbnMpOwogICAg\nICAgICAgICBjYXNlIEphdmFTUUxUeXBlcy5TUUxfREFURToKICAgICAgICAg\nICAgICAgIHJldHVybiBnZXREYXRlSW50ZXJuYWwob2JqLCAoQ2FsZW5kYXIp\nIGFyZywgam9pbnMpOwogICAgICAgICAgICBjYXNlIEphdmFTUUxUeXBlcy5T\nUUxfT0JKRUNUOgogICAgICAgICAgICAgICAgcmV0dXJuIGdldFNRTE9iamVj\ndEludGVybmFsKG9iaiwgKE1hcCkgYXJnLCBqb2lucyk7CiAgICAgICAgICAg\nIGNhc2UgSmF2YVNRTFR5cGVzLlJFRjoKICAgICAgICAgICAgICAgIHJldHVy\nbiBnZXRSZWZJbnRlcm5hbChvYmosIChNYXApIGFyZywgam9pbnMpOwogICAg\nICAgICAgICBjYXNlIEphdmFTUUxUeXBlcy5USU1FOgogICAgICAgICAgICAg\nICAgcmV0dXJuIGdldFRpbWVJbnRlcm5hbChvYmosIChDYWxlbmRhcikgYXJn\nLCBqb2lucyk7CiAgICAgICAgICAgIGNhc2UgSmF2YVNRTFR5cGVzLlRJTUVT\nVEFNUDoKICAgICAgICAgICAgICAgIHJldHVybiBnZXRUaW1lc3RhbXBJbnRl\ncm5hbChvYmosIChDYWxlbmRhcikgYXJnLCBqb2lucyk7CiAgICAgICAgICAg\nIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2Yg\nQ29sdW1uKSB7CiAgICAgICAgICAgICAgICAgICAgQ29sdW1uIGNvbCA9IChD\nb2x1bW4pIG9iajsKICAgICAgICAgICAgICAgICAgICBpZiAoY29sLmdldFR5\ncGUoKSA9PSBUeXBlcy5CTE9CCiAgICAgICAgICAgICAgICAgICAgICAgIHx8\nIGNvbC5nZXRUeXBlKCkgPT0gVHlwZXMuVkFSQklOQVJZKSB7CiAgICAgICAg\nICAgICAgICAgICAgICAgIHJldHVybiBfZGljdAogICAgICAgICAgICAgICAg\nICAgICAgICAgICAgLmdldEJsb2JPYmplY3QoX3JzLCBjb2wuZ2V0SW5kZXgo\nKSwgX3N0b3JlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gX2RpY3QuZ2V0T2JqZWN0\nKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSwgbnVsbCk7CiAgICAg\nICAgfQogICAgICAgIHJldHVybiAoX3JzLndhc051bGwoKSkgPyBudWxsIDog\ndmFsOwogICAgfQoKICAgIHByb3RlY3RlZCBPYmplY3QgZ2V0U1FMT2JqZWN0\nSW50ZXJuYWwoT2JqZWN0IG9iaiwgTWFwIG1hcCwgSm9pbnMgam9pbnMpCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9k\naWN0LmdldE9iamVjdChfcnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCks\nIG1hcCk7CiAgICB9CgogICAgcHJvdGVjdGVkIFJlZiBnZXRSZWZJbnRlcm5h\nbChPYmplY3Qgb2JqLCBNYXAgbWFwLCBKb2lucyBqb2lucykKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0\nUmVmKF9ycywgKChOdW1iZXIpIG9iaikuaW50VmFsdWUoKSwgbWFwKTsKICAg\nIH0KCiAgICBwcm90ZWN0ZWQgc2hvcnQgZ2V0U2hvcnRJbnRlcm5hbChPYmpl\nY3Qgb2JqLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX2RpY3QuZ2V0U2hvcnQoX3JzLCAoKE51\nbWJlcikgb2JqKS5pbnRWYWx1ZSgpKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQg\nU3RyaW5nIGdldFN0cmluZ0ludGVybmFsKE9iamVjdCBvYmosIEpvaW5zIGpv\naW5zLCBib29sZWFuIGlzQ2xvYlN0cmluZykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICBpZiAoaXNDbG9iU3RyaW5nKSB7CiAgICAg\nICAgICAgIHJldHVybiBfZGljdC5nZXRDbG9iU3RyaW5nKF9ycywgKChOdW1i\nZXIpIG9iaikuaW50VmFsdWUoKSk7CiAgICAgICAgfQogICAgICAgIHJldHVy\nbiBfZGljdC5nZXRTdHJpbmcoX3JzLCAoKE51bWJlcikgb2JqKS5pbnRWYWx1\nZSgpKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgVGltZSBnZXRUaW1lSW50ZXJu\nYWwoT2JqZWN0IG9iaiwgQ2FsZW5kYXIgY2FsLCBKb2lucyBqb2lucykKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX2Rp\nY3QuZ2V0VGltZShfcnMsICgoTnVtYmVyKSBvYmopLmludFZhbHVlKCksIGNh\nbCk7CiAgICB9CgogICAgcHJvdGVjdGVkIFRpbWVzdGFtcCBnZXRUaW1lc3Rh\nbXBJbnRlcm5hbChPYmplY3Qgb2JqLCBDYWxlbmRhciBjYWwsCiAgICAgICAg\nSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIF9kaWN0LmdldFRpbWVzdGFtcChfcnMsICgoTnVtYmVy\nKSBvYmopLmludFZhbHVlKCksIGNhbCk7CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gd2FzTnVsbCgpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9ycy53YXNOdWxsKCk7CiAgICB9CgogICAgcHJv\ndGVjdGVkIE9iamVjdCB0cmFuc2xhdGUoT2JqZWN0IG9iaiwgSm9pbnMgam9p\nbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgaWYg\nKG9iaiBpbnN0YW5jZW9mIE51bWJlcikKICAgICAgICAgICAgcmV0dXJuIG9i\najsKICAgICAgICByZXR1cm4gTnVtYmVycy52YWx1ZU9mKGZpbmRPYmplY3Qo\nb2JqLCBqb2lucykpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRo\nZSAxLWJhc2VkIHJlc3VsdCBzZXQgaW5kZXggZm9yIHRoZSBnaXZlbiBjb2x1\nbW4gb3IgaWQsIG9yIGEKICAgICAqIG5vbi1wb3NpdGl2ZSBudW1iZXIgaWYg\ndGhlIGNvbHVtbiBpcyBub3QgY29udGFpbmVkIGluIHRoaXMgcmVzdWx0Lgog\nICAgICovCiAgICBwcm90ZWN0ZWQgaW50IGZpbmRPYmplY3QoT2JqZWN0IG9i\naiwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgdHJ5IHsKICAgICAgICAgIFN0cmluZyBzMSA9IG9iai50b1N0\ncmluZygpOwogICAgICAgICAgczEgPSBfZGljdC5zdHJpcERlbGltaXRlcnMo\nczEpOwogICAgICAgICAgcmV0dXJuIGdldFJlc3VsdFNldCgpLmZpbmRDb2x1\nbW4oczEpOwogICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBzZSkgewog\nICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICB9CiAgCiAgICBw\ncm90ZWN0ZWQgSW5wdXRTdHJlYW0gZ2V0TE9CU3RyZWFtSW50ZXJuYWwoSkRC\nQ1N0b3JlIHN0b3JlLCBPYmplY3Qgb2JqLAogICAgICAgIEpvaW5zIGpvaW5z\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX2RpY3Qu\nZ2V0TE9CU3RyZWFtKHN0b3JlLCBfcnMsICgoTnVtYmVyKSBvYmopLmludFZh\nbHVlKCkpOwogICAgfQp9Cg==\n","encoding":"base64"}

