{"sha":"ba45990a46ebe2f27c397e1d0f902cfe0806563b","node_id":"MDQ6QmxvYjIwNjM2NDpiYTQ1OTkwYTQ2ZWJlMmYyN2MzOTdlMWQwZjkwMmNmZTA4MDY1NjNi","size":2249,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ba45990a46ebe2f27c397e1d0f902cfe0806563b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVj\ndGlvbjsKCi8qKgogKiBBIHF1ZXJ5IHJlc3VsdC4KICoKICogQGF1dGhvciBB\nYmUgV2hpdGUKICovCkBTdXBwcmVzc1dhcm5pbmdzKCJzZXJpYWwiKQpwdWJs\naWMgY2xhc3MgUXVlcnlSZXN1bHQKICAgIGV4dGVuZHMgQXJyYXlMaXN0PE9i\namVjdD4gewoKICAgIHByaXZhdGUgZmluYWwgbG9uZyBfZXg7CgogICAgcHJp\ndmF0ZSBsb25nIF90aW1lc3RhbXAgPSAwTDsKICAgIC8qKgogICAgICogQ29u\nc3RydWN0b3I7IHN1cHBseSBjb3JyZXNwb25kaW5nIHF1ZXJ5IGtleSBhbmQg\ncmVzdWx0IGRhdGEuCiAgICAgKi8KICAgIHB1YmxpYyBRdWVyeVJlc3VsdChR\ndWVyeUtleSBrZXksIENvbGxlY3Rpb248T2JqZWN0PiBkYXRhKSB7CiAgICAg\nICAgc3VwZXIoZGF0YSk7CgogICAgICAgIGlmIChrZXkuZ2V0VGltZW91dCgp\nID09IC0xKQogICAgICAgICAgICBfZXggPSAtMTsKICAgICAgICBlbHNlCiAg\nICAgICAgICAgIF9leCA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpICsg\na2V5LmdldFRpbWVvdXQoKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0\ncnVjdG9yIHRvIHNldCBpbnRlcm5hbCBkYXRhIGZyb20gYSBzZXJpYWxpemVy\nLgogICAgICovCiAgICBwdWJsaWMgUXVlcnlSZXN1bHQoQ29sbGVjdGlvbjxP\nYmplY3Q+IGRhdGEsIGxvbmcgZXgpIHsKICAgICAgICBzdXBlcihkYXRhKTsK\nICAgICAgICBfZXggPSBleDsKICAgIH0KCiAgICAvKioKICAgICAqIEV4cGly\nYXRpb24gdGltZSwgb3IgLTEgZm9yIG5vIHRpbWVvdXQuCiAgICAgKi8KICAg\nIHB1YmxpYyBsb25nIGdldFRpbWVvdXRUaW1lKCkgewogICAgICAgIHJldHVy\nbiBfZXg7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgZGF0\nYSBpcyB0aW1lZCBvdXQuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlz\nVGltZWRPdXQoKSB7CiAgICAgICAgcmV0dXJuIF9leCAhPSAtMSAmJiBfZXgg\nPCBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTsKCX0KCiAgICAvKioKICAg\nICAqIFNldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgcXVlcnkgcmVzdWx0Lgog\nICAgICogQHBhcmFtIHRzICAtLSBUaW1lc3RhbXAgdmFsdWUgaW4gbG9uZwog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRUaW1lc3RhbXAobG9uZyB0cykg\newogICAgICAgIHRoaXMuX3RpbWVzdGFtcCA9IHRzOwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJucyB0aGUgdGltZXN0YW1wIG9mIHRoZSBxdWVyeSBy\nZXN1bHQuCiAgICAgKiBAcmV0dXJuIC0tIHRoZSB0aW1lc3RhbXAgdmFsdWUg\naW4gbG9uZwogICAgICovCiAgICBwdWJsaWMgbG9uZyBnZXRUaW1lc3RhbXAo\nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVzdGFtcDsKICAgIH0KfQo=\n","encoding":"base64"}

