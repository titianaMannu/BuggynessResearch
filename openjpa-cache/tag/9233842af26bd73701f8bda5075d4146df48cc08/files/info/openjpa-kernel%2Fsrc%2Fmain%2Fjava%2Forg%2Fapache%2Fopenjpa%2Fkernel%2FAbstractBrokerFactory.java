{"sha":"387ece883436e7c6208047a90cd4ac3006a59664","node_id":"MDQ6QmxvYjIwNjM2NDozODdlY2U4ODM0MzZlN2M2MjA4MDQ3YTkwY2Q0YWMzMDA2YTU5NjY0","size":32307,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/387ece883436e7c6208047a90cd4ac3006a59664","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uT2JqZWN0U3RyZWFtRXhjZXB0aW9uOwppbXBvcnQgamF2YS51dGls\nLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBv\ncnQgamF2YS51dGlsLkNvbGxlY3Rpb25zOwppbXBvcnQgamF2YS51dGlsLkhh\nc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7CmltcG9ydCBqYXZh\nLnV0aWwuTGlua2VkTGlzdDsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBv\ncnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CmltcG9y\ndCBqYXZhLnV0aWwuY29uY3VycmVudC5Db25jdXJyZW50SGFzaE1hcDsKaW1w\nb3J0IGphdmEudXRpbC5jb25jdXJyZW50LmxvY2tzLlJlZW50cmFudExvY2s7\nCgppbXBvcnQgamF2YXgudHJhbnNhY3Rpb24uU3RhdHVzOwppbXBvcnQgamF2\nYXgudHJhbnNhY3Rpb24uU3luY2hyb25pemF0aW9uOwppbXBvcnQgamF2YXgu\ndHJhbnNhY3Rpb24uVHJhbnNhY3Rpb247CmltcG9ydCBqYXZheC50cmFuc2Fj\ndGlvbi5UcmFuc2FjdGlvbk1hbmFnZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5j\nb21tb25zLmNvbGxlY3Rpb25zLnNldC5NYXBCYWNrZWRTZXQ7CmltcG9ydCBv\ncmcuYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5jb25mLkJyb2tlclZhbHVlOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmNvbmYuTWV0YURhdGFSZXBvc2l0b3J5VmFsdWU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZi5PcGVuSlBBQ29uZmln\ndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLk9wZW5K\nUEFDb25maWd1cmF0aW9uSW1wbDsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5jb25mLk9wZW5KUEFWZXJzaW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmRhdGFjYWNoZS5EYXRhQ2FjaGVTdG9yZU1hbmFnZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuZWUuTWFuYWdlZFJ1bnRpbWU7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5NYW5hZ2VkQ2xhc3NTdWJjbGFz\nc2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmVuaGFuY2UuUENSZWdp\nc3RyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNlLlBlcnNp\nc3RlbmNlQ2FwYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVu\ndC5Ccm9rZXJGYWN0b3J5RXZlbnQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuZXZlbnQuUmVtb3RlQ29tbWl0RXZlbnRNYW5hZ2VyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRpb247CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbnM7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmxvZy5Mb2c7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuSjJEb1ByaXZIZWxwZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLmNvbmN1cnJl\nbnQuQ29uY3VycmVudFJlZmVyZW5jZUhhc2hTZXQ7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubWV0YS5NZXRhRGF0YU1vZGVzOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLm1ldGEuTWV0YURhdGFSZXBvc2l0b3J5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuR2VuZXJhbEV4Y2VwdGlvbjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkludmFsaWRTdGF0ZUV4Y2Vw\ndGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLk1ldGFEYXRh\nRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuT3Bl\nbkpQQUV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGls\nLlVzZXJFeGNlcHRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEud3Jp\ndGViZWhpbmQuV3JpdGVCZWhpbmRDYWNoZTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS53cml0ZWJlaGluZC5Xcml0ZUJlaGluZENhbGxiYWNrOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLndyaXRlYmVoaW5kLldyaXRlQmVoaW5k\nQ29uZmlndXJhdGlvbkV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS53cml0ZWJlaGluZC5Xcml0ZUJlaGluZFN0b3JlTWFuYWdlcjsKCi8q\nKgogKiBBYnN0cmFjdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUge0BsaW5rIEJy\nb2tlckZhY3Rvcnl9CiAqIHRoYXQgbXVzdCBiZSBzdWJjbGFzc2VkIGZvciBh\nIHNwZWNpZmljIHJ1bnRpbWUuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAq\nLwpAU3VwcHJlc3NXYXJuaW5ncygic2VyaWFsIikKcHVibGljIGFic3RyYWN0\nIGNsYXNzIEFic3RyYWN0QnJva2VyRmFjdG9yeQogICAgaW1wbGVtZW50cyBC\ncm9rZXJGYWN0b3J5IHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2Nh\nbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlKEFic3RyYWN0QnJv\na2VyRmFjdG9yeS5jbGFzcyk7CgogICAgLy8gc3RhdGljIG1hcHBpbmcgb2Yg\nY29uZmlndXJhdGlvbnMgdG8gcG9vbGVkIGJyb2tlciBmYWN0b3JpZXMKICAg\nIHByaXZhdGUgc3RhdGljIGZpbmFsIE1hcDxPYmplY3QsQWJzdHJhY3RCcm9r\nZXJGYWN0b3J5PiBfcG9vbCA9IAogICAgICAgQ29sbGVjdGlvbnMuc3luY2hy\nb25pemVkTWFwKG5ldyBIYXNoTWFwPE9iamVjdCxBYnN0cmFjdEJyb2tlckZh\nY3Rvcnk+KCkpOwoKICAgIC8vIGNvbmZpZ3VyYXRpb24KICAgIHByaXZhdGUg\nZmluYWwgT3BlbkpQQUNvbmZpZ3VyYXRpb24gX2NvbmY7CiAgICBwcml2YXRl\nIHRyYW5zaWVudCBib29sZWFuIF9yZWFkT25seSA9IGZhbHNlOwogICAgcHJp\ndmF0ZSB0cmFuc2llbnQgYm9vbGVhbiBfY2xvc2VkID0gZmFsc2U7CiAgICBw\ncml2YXRlIHRyYW5zaWVudCBSdW50aW1lRXhjZXB0aW9uIF9jbG9zZWRFeGNl\ncHRpb24gPSBudWxsOwogICAgcHJpdmF0ZSBNYXA8T2JqZWN0LE9iamVjdD4g\nX3VzZXJPYmplY3RzID0gbnVsbDsKCiAgICAvLyBpbnRlcm5hbCBsb2NrOiBz\ncGVjIGZvcmJpZHMgc3luY2hyb25pemF0aW9uIG9uIHRoaXMgb2JqZWN0CiAg\nICBwcml2YXRlIGZpbmFsIFJlZW50cmFudExvY2sgX2xvY2sgPSBuZXcgUmVl\nbnRyYW50TG9jaygpOwoKICAgIC8vIG1hcHMgZ2xvYmFsIHRyYW5zYWN0aW9u\ncyB0byBhc3NvY2lhdGVkIGJyb2tlcnMKICAgIHByaXZhdGUgdHJhbnNpZW50\nIENvbmN1cnJlbnRIYXNoTWFwPE9iamVjdCxDb2xsZWN0aW9uPEJyb2tlcj4+\nIAogICAgICAgIF90cmFuc2FjdGlvbmFsID0gbmV3IENvbmN1cnJlbnRIYXNo\nTWFwPE9iamVjdCxDb2xsZWN0aW9uPEJyb2tlcj4+KCk7CgogICAgLy8gd2Vh\nay1yZWYgdHJhY2tpbmcgb2Ygb3BlbiBicm9rZXJzCiAgICBwcml2YXRlIHRy\nYW5zaWVudCBTZXQ8QnJva2VyPiBfYnJva2VyczsKCiAgICAvLyBjYWNoZSB0\naGUgY2xhc3MgbmFtZXMgbG9hZGVkIGZyb20gdGhlIHBlcnNpc3RlbnQgY2xh\nc3NlcyBwcm9wZXJ0eSBzbwogICAgLy8gdGhhdCB3ZSBjYW4gcmUtbG9hZCB0\naGVtIGZvciBlYWNoIG5ldyBicm9rZXIKICAgIHByaXZhdGUgdHJhbnNpZW50\nIENvbGxlY3Rpb248U3RyaW5nPiBfcGNDbGFzc05hbWVzID0gbnVsbDsKICAg\nIHByaXZhdGUgdHJhbnNpZW50IENvbGxlY3Rpb248Q2xhc3NMb2FkZXI+IF9w\nY0NsYXNzTG9hZGVycyA9IG51bGw7CiAgICBwcml2YXRlIHRyYW5zaWVudCBi\nb29sZWFuIF9wZXJzaXN0ZW50VHlwZXNMb2FkZWQgPSBmYWxzZTsKCiAgICAv\nLyBsaWZlY3ljbGUgbGlzdGVuZXJzIHRvIHBhc3MgdG8gZWFjaCBicm9rZXIK\nICAgIHByaXZhdGUgdHJhbnNpZW50IE1hcDxPYmplY3QsIENsYXNzPD8+W10+\nIF9saWZlY3ljbGVMaXN0ZW5lcnMgPSBudWxsOwoKICAgIC8vIHRyYW5zYWN0\naW9uIGxpc3RlbmVycyB0byBwYXNzIHRvIGVhY2ggYnJva2VyCiAgICBwcml2\nYXRlIHRyYW5zaWVudCBMaXN0PE9iamVjdD4gX3RyYW5zYWN0aW9uTGlzdGVu\nZXJzID0gbnVsbDsKCiAgICAvLyBrZXkgdW5kZXIgd2hpY2ggdGhpcyBpbnN0\nYW5jZSBjYW4gYmUgc3RvcmVkIGluIHRoZSBicm9rZXIgcG9vbAogICAgLy8g\nYW5kIGxhdGVyIGlkZW50aWZpZWQKICAgIHByaXZhdGUgT2JqZWN0IF9wb29s\nS2V5OyAgIAogICAgCiAgICBwcml2YXRlIFdyaXRlQmVoaW5kQ2FsbGJhY2sg\nX3dyaXRlQmVoaW5kQ2FsbGJhY2s7IAoKICAgIC8qKgogICAgICogUmV0dXJu\nIGFuIGludGVybmFsIGZhY3RvcnkgcG9vbCBrZXkgZm9yIHRoZSBnaXZlbiBj\nb25maWd1cmF0aW9uLgogICAgICoKICAgICAqIEBzaW5jZSAxLjEuMAogICAg\nICovCiAgICBwcm90ZWN0ZWQgc3RhdGljIE9iamVjdCB0b1Bvb2xLZXkoTWFw\nPFN0cmluZyxPYmplY3Q+IG1hcCkgewogICAgICAgIE9iamVjdCBrZXkgPSBD\nb25maWd1cmF0aW9ucy5nZXRQcm9wZXJ0eSgiSWQiLCBtYXApOwogICAgICAg\nIHJldHVybiAoIGtleSAhPSBudWxsKSA/IGtleSA6IG1hcDsKICAgIH0KCiAg\nICAvKioKICAgICAqIFJlZ2lzdGVyIDxjb2RlPmZhY3Rvcnk8L2NvZGU+IGlu\nIHRoZSBwb29sIHVuZGVyIDxjb2RlPmtleTwvY29kZT4uCiAgICAgKgogICAg\nICogQHNpbmNlIDEuMS4wCiAgICAgKi8KICAgIHByb3RlY3RlZCBzdGF0aWMg\ndm9pZCBwb29sKE9iamVjdCBrZXksIEFic3RyYWN0QnJva2VyRmFjdG9yeSBm\nYWN0b3J5KSB7CiAgICAgICAgc3luY2hyb25pemVkKF9wb29sKSB7CiAgICAg\nICAgICAgIF9wb29sLnB1dChrZXksIGZhY3RvcnkpOwogICAgICAgICAgICBm\nYWN0b3J5LnNldFBvb2xLZXkoa2V5KTsKICAgICAgICAgICAgZmFjdG9yeS5t\nYWtlUmVhZE9ubHkoKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gdGhlIHBvb2xlZCBmYWN0b3J5IG1hdGNoaW5nIHRoZSBnaXZl\nbiBrZXksIG9yIG51bGwKICAgICAqIGlmIG5vbmUuIFRoZSBrZXkgbXVzdCBi\nZSBvZiB0aGUgZm9ybSBjcmVhdGVkIGJ5IHtAbGluayAjZ2V0UG9vbEtleX0u\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgQWJzdHJhY3RCcm9rZXJGYWN0\nb3J5IGdldFBvb2xlZEZhY3RvcnlGb3JLZXkoT2JqZWN0IGtleSkgewogICAg\nICAgIHJldHVybiAoQWJzdHJhY3RCcm9rZXJGYWN0b3J5KSBfcG9vbC5nZXQo\na2V5KTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLiBDb25m\naWd1cmF0aW9uIG11c3QgYmUgcHJvdmlkZWQgb24gY29uc3RydWN0aW9uLgog\nICAgICovCiAgICBwcm90ZWN0ZWQgQWJzdHJhY3RCcm9rZXJGYWN0b3J5KE9w\nZW5KUEFDb25maWd1cmF0aW9uIGNvbmZpZykgewogICAgICAgIF9jb25mID0g\nY29uZmlnOwogICAgICAgIF9icm9rZXJzID0gbmV3QnJva2VyU2V0KCk7CiAg\nICAgICAgZ2V0UGNDbGFzc0xvYWRlcnMoKTsKICAgICAgICBpZiAoY29uZmln\nLmlzSW5pdGlhbGl6ZUVhZ2VybHkoKSkgewogICAgICAgICAgICBuZXdCcm9r\nZXIoX2NvbmYuZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCksIAogICAgICAgICAg\nICAJX2NvbmYuZ2V0Q29ubmVjdGlvblBhc3N3b3JkKCksIAogICAgICAgICAg\nICAJX2NvbmYuaXNDb25uZWN0aW9uRmFjdG9yeU1vZGVNYW5hZ2VkKCksCiAg\nICAgICAgICAgICAgICBfY29uZi5nZXRDb25uZWN0aW9uUmV0YWluTW9kZUNv\nbnN0YW50KCksIGZhbHNlKS5jbG9zZSgpOyAKICAgICAgICB9CgogICAgICAg\nIGluaXRXcml0ZUJlaGluZENhbGxiYWNrKCk7ICAgICAgICAKICAgIH0KCiAg\nICAvKioKICAgICAqIFJldHVybiB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhp\ncyBmYWN0b3J5LgogICAgICovCiAgICBwdWJsaWMgT3BlbkpQQUNvbmZpZ3Vy\nYXRpb24gZ2V0Q29uZmlndXJhdGlvbigpIHsKICAgICAgICByZXR1cm4gX2Nv\nbmY7CiAgICB9CgogICAgcHVibGljIEJyb2tlciBuZXdCcm9rZXIoKSB7CiAg\nICAgICAgcmV0dXJuIG5ld0Jyb2tlcihfY29uZi5nZXRDb25uZWN0aW9uVXNl\nck5hbWUoKSwgX2NvbmYuZ2V0Q29ubmVjdGlvblBhc3N3b3JkKCkpOwogICAg\nfQoKICAgIHB1YmxpYyBCcm9rZXIgbmV3QnJva2VyKFN0cmluZyB1c2VyLCBT\ndHJpbmcgcGFzcykgewogICAgICAgIHJldHVybiBuZXdCcm9rZXIodXNlciwg\ncGFzcywgX2NvbmYuaXNUcmFuc2FjdGlvbk1vZGVNYW5hZ2VkKCksIF9jb25m\nLmdldENvbm5lY3Rpb25SZXRhaW5Nb2RlQ29uc3RhbnQoKSk7CiAgICB9Cgog\nICAgcHVibGljIEJyb2tlciBuZXdCcm9rZXIoYm9vbGVhbiBtYW5hZ2VkLCBp\nbnQgY29ublJldGFpbk1vZGUpIHsKICAgICAgICByZXR1cm4gbmV3QnJva2Vy\nKF9jb25mLmdldENvbm5lY3Rpb25Vc2VyTmFtZSgpLCBfY29uZi5nZXRDb25u\nZWN0aW9uUGFzc3dvcmQoKSwgbWFuYWdlZCwgY29ublJldGFpbk1vZGUpOwog\nICAgfQoKICAgIHB1YmxpYyBCcm9rZXIgbmV3QnJva2VyKFN0cmluZyB1c2Vy\nLCBTdHJpbmcgcGFzcywgYm9vbGVhbiBtYW5hZ2VkLCBpbnQgY29ublJldGFp\nbk1vZGUpIHsKICAgICAgICByZXR1cm4gbmV3QnJva2VyKHVzZXIsIHBhc3Ms\nIG1hbmFnZWQsIGNvbm5SZXRhaW5Nb2RlLCB0cnVlKTsKICAgIH0KCiAgICBw\ndWJsaWMgQnJva2VyIG5ld0Jyb2tlcihTdHJpbmcgdXNlciwgU3RyaW5nIHBh\nc3MsIGJvb2xlYW4gbWFuYWdlZCwgaW50IGNvbm5SZXRhaW5Nb2RlLCBib29s\nZWFuIGZpbmRFeGlzdGluZykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIGFzc2VydE9wZW4oKTsKICAgICAgICAgICAgbWFrZVJlYWRPbmx5KCk7Cgog\nICAgICAgICAgICBCcm9rZXIgYnJva2VyID0gbnVsbDsKICAgICAgICAgICAg\naWYgKGZpbmRFeGlzdGluZykKICAgICAgICAgICAgICAgIGJyb2tlciA9IGZp\nbmRCcm9rZXIodXNlciwgcGFzcywgbWFuYWdlZCk7CiAgICAgICAgICAgIGlm\nIChicm9rZXIgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgYnJva2VyID0g\nbmV3QnJva2VySW1wbCh1c2VyLCBwYXNzKTsKICAgICAgICAgICAgICAgIGlu\naXRpYWxpemVCcm9rZXIobWFuYWdlZCwgY29ublJldGFpbk1vZGUsIGJyb2tl\nciwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBi\ncm9rZXI7CiAgICAgICAgfSBjYXRjaCAoT3BlbkpQQUV4Y2VwdGlvbiBrZSkg\newogICAgICAgICAgICB0aHJvdyBrZTsKICAgICAgICB9IGNhdGNoIChSdW50\naW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBHZW5l\ncmFsRXhjZXB0aW9uKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgdm9pZCBp\nbml0aWFsaXplQnJva2VyKGJvb2xlYW4gbWFuYWdlZCwgaW50IGNvbm5SZXRh\naW5Nb2RlLCBCcm9rZXIgYnJva2VyLCBib29sZWFuIGZyb21EZXNlcmlhbGl6\nYXRpb24pIHsKICAgICAgICBhc3NlcnRPcGVuKCk7CiAgICAgICAgbWFrZVJl\nYWRPbmx5KCk7CiAgICAgICAgCiAgICAgICAgRGVsZWdhdGluZ1N0b3JlTWFu\nYWdlciBkc20gPSBjcmVhdGVEZWxlZ2F0aW5nU3RvcmVNYW5hZ2VyKCk7Cgog\nICAgICAgICgoQnJva2VySW1wbCkgYnJva2VyKS5pbml0aWFsaXplKHRoaXMs\nIGRzbSwgbWFuYWdlZCwgY29ublJldGFpbk1vZGUsIGZyb21EZXNlcmlhbGl6\nYXRpb24pOwogICAgICAgIGlmICghZnJvbURlc2VyaWFsaXphdGlvbikKICAg\nICAgICAgICAgYWRkTGlzdGVuZXJzKGJyb2tlcik7CgogICAgICAgIC8vIGlm\nIHdlJ3JlIHVzaW5nIHJlbW90ZSBldmVudHMsIHJlZ2lzdGVyIHRoZSBldmVu\ndCBtYW5hZ2VyIHNvCiAgICAgICAgLy8gdGhhdCBpdCBjYW4gYnJvYWRjYXN0\nIGNvbW1pdCBub3RpZmljYXRpb25zIGZyb20gdGhlIGJyb2tlcgogICAgICAg\nIFJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlciByZW1vdGUgPSBfY29uZi5nZXRS\nZW1vdGVDb21taXRFdmVudE1hbmFnZXIoKTsKICAgICAgICBpZiAocmVtb3Rl\nLmFyZVJlbW90ZUV2ZW50c0VuYWJsZWQoKSkKICAgICAgICAgICAgYnJva2Vy\nLmFkZFRyYW5zYWN0aW9uTGlzdGVuZXIocmVtb3RlKTsKCiAgICAgICAgbG9h\nZFBlcnNpc3RlbnRUeXBlcyhicm9rZXIuZ2V0Q2xhc3NMb2FkZXIoKSk7CiAg\nICAgICAgX2Jyb2tlcnMuYWRkKGJyb2tlcik7CiAgICAgICAgX2NvbmYuc2V0\nUmVhZE9ubHkoQ29uZmlndXJhdGlvbi5JTklUX1NUQVRFX0ZST1pFTik7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBBZGQgZmFjdG9yeS1yZWdpc3RlcmVkIGxp\nZmVjeWNsZSBsaXN0ZW5lcnMgdG8gdGhlIGJyb2tlci4KICAgICAqLwogICAg\ncHJvdGVjdGVkIHZvaWQgYWRkTGlzdGVuZXJzKEJyb2tlciBicm9rZXIpIHsK\nICAgICAgICBpZiAoX2xpZmVjeWNsZUxpc3RlbmVycyAhPSBudWxsICYmICFf\nbGlmZWN5Y2xlTGlzdGVuZXJzLmlzRW1wdHkoKSkgewogICAgICAgICAgICBm\nb3IgKE1hcC5FbnRyeTxPYmplY3QsQ2xhc3M8Pz5bXT4gZW50cnkgOiBfbGlm\nZWN5Y2xlTGlzdGVuZXJzLmVudHJ5U2V0KCkpIHsKICAgICAgICAgICAgICAg\nIGJyb2tlci5hZGRMaWZlY3ljbGVMaXN0ZW5lcihlbnRyeS5nZXRLZXkoKSwg\nZW50cnkuZ2V0VmFsdWUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9Cgog\nICAgICAgIGlmIChfdHJhbnNhY3Rpb25MaXN0ZW5lcnMgIT0gbnVsbCAmJiAh\nX3RyYW5zYWN0aW9uTGlzdGVuZXJzLmlzRW1wdHkoKSkgewogICAgICAgICAg\nICBmb3IgKEl0ZXJhdG9yPE9iamVjdD4gaXRyID0gX3RyYW5zYWN0aW9uTGlz\ndGVuZXJzLml0ZXJhdG9yKCk7CiAgICAgICAgICAgICAgICBpdHIuaGFzTmV4\ndCgpOyApIHsKICAgICAgICAgICAgICAgIGJyb2tlci5hZGRUcmFuc2FjdGlv\nbkxpc3RlbmVyKGl0ci5uZXh0KCkpOwogICAgICAgICAgICB9CiAgICAgICAg\nfQogICAgfQoKICAgIC8qKgogICAgICogTG9hZCB0aGUgY29uZmlndXJlZCBw\nZXJzaXN0ZW50IGNsYXNzZXMgbGlzdC4gUGVyZm9ybWVkIGF1dG9tYXRpY2Fs\nbHkKICAgICAqIHdoZW5ldmVyIGEgYnJva2VyIGlzIGNyZWF0ZWQuCiAgICAg\nKi8KICAgIHByaXZhdGUgdm9pZCBsb2FkUGVyc2lzdGVudFR5cGVzKENsYXNz\nTG9hZGVyIGVudkxvYWRlcikgewogICAgICAgIC8vIGlmIHdlJ3ZlIGxvYWRl\nZCB0aGUgcGVyc2lzdGVudCB0eXBlcyBhbmQgdGhlIGNsYXNzIG5hbWUgbGlz\ndAogICAgICAgIC8vIGlzIGVtcHR5LCB0aGVuIHdlIGNhbiBzaW1wbHkgcmV0\ndXJuLiBOb3RlIHRoYXQgdGhlcmUgaXMgYQogICAgICAgIC8vIHBvdGVudGlh\nbCB0aHJlYWRpbmcgc2NlbmFyaW8gaW4gd2hpY2ggX3BlcnNpc3RlbnRUeXBl\nc0xvYWRlZCBpcwogICAgICAgIC8vIGZhbHNlIHdoZW4gcmVhZCwgYnV0IHRo\nZSB3b3JrIHRvIHBvcHVsYXRlIF9wY0NsYXNzTmFtZXMgaGFzCiAgICAgICAg\nLy8gYWxyZWFkeSBiZWVuIGRvbmUuIFRoaXMgaXMgb2s7IF9wY0NsYXNzTmFt\nZXMgY2FuIHRvbGVyYXRlCiAgICAgICAgLy8gY29uY3VycmVudCBhY2Nlc3Ms\nIHNvIHRoZSB3b3JzdCBjYXNlIGlzIHRoYXQgdGhlIGxpc3QgaXMKICAgICAg\nICAvLyBwZXJzaXN0ZW50IHR5cGUgZGF0YSBpcyBwcm9jZXNzZWQgbXVsdGlw\nbGUgdGltZXMsIHdoaWNoIHRoaXMKICAgICAgICAvLyBhbGdvcml0aG0gdGFr\nZXMgaW50byBhY2NvdW50LgogICAgICAgIGlmIChfcGVyc2lzdGVudFR5cGVz\nTG9hZGVkICYmIF9wY0NsYXNzTmFtZXMuaXNFbXB0eSgpKQogICAgICAgICAg\nICByZXR1cm47CgogICAgICAgIC8vIGNhY2hlIHBlcnNpc3RlbnQgdHlwZSBu\nYW1lcyBpZiBub3QgYWxyZWFkeQogICAgICAgIENsYXNzTG9hZGVyIGxvYWRl\nciA9IF9jb25mLmdldENsYXNzUmVzb2x2ZXJJbnN0YW5jZSgpLgogICAgICAg\nICAgICBnZXRDbGFzc0xvYWRlcihnZXRDbGFzcygpLCBlbnZMb2FkZXIpOwog\nICAgICAgIENvbGxlY3Rpb248Q2xhc3M8Pz4+IHRvUmVkZWZpbmUgPSBuZXcg\nQXJyYXlMaXN0PENsYXNzPD8+PigpOwogICAgICAgIGlmICghX3BlcnNpc3Rl\nbnRUeXBlc0xvYWRlZCkgewogICAgICAgICAgICBDb2xsZWN0aW9uPENsYXNz\nPD8+PiBjbHNzID0gX2NvbmYuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFu\nY2UoKS4KICAgICAgICAgICAgICAgIGxvYWRQZXJzaXN0ZW50VHlwZXMoZmFs\nc2UsIGxvYWRlciwgX2NvbmYuaXNJbml0aWFsaXplRWFnZXJseSgpKTsKICAg\nICAgICAgICAgaWYgKGNsc3MuaXNFbXB0eSgpKQogICAgICAgICAgICAgICAg\nX3BjQ2xhc3NOYW1lcyA9IENvbGxlY3Rpb25zLmVtcHR5TGlzdCgpOwogICAg\nICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIENvbGxlY3Rpb248U3Ry\naW5nPiBjID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KGNsc3Muc2l6ZSgpKTsK\nICAgICAgICAgICAgICAgIGZvciAoSXRlcmF0b3I8Q2xhc3M8Pz4+IGl0ciA9\nIGNsc3MuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspIHsKICAgICAgICAg\nICAgICAgICAgICBDbGFzczw/PiBjbHMgPSBpdHIubmV4dCgpOwogICAgICAg\nICAgICAgICAgICAgIGMuYWRkKGNscy5nZXROYW1lKCkpOwogICAgICAgICAg\nICAgICAgICAgIGlmIChuZWVkc1N1YihjbHMpKQogICAgICAgICAgICAgICAg\nICAgICAgICB0b1JlZGVmaW5lLmFkZChjbHMpOwogICAgICAgICAgICAgICAg\nfQogICAgICAgICAgICAgICAgZ2V0UGNDbGFzc0xvYWRlcnMoKS5hZGQobG9h\nZGVyKTsKICAgICAgICAgICAgICAgIF9wY0NsYXNzTmFtZXMgPSBjOwogICAg\nICAgICAgICB9CiAgICAgICAgICAgIF9wZXJzaXN0ZW50VHlwZXNMb2FkZWQg\nPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHJlbG9h\nZCB3aXRoIHRoaXMgbG9hZGVyCiAgICAgICAgICAgIGlmIChnZXRQY0NsYXNz\nTG9hZGVycygpLmFkZChsb2FkZXIpKSB7CiAgICAgICAgICAgICAgICBmb3Ig\nKFN0cmluZyBjbHNOYW1lIDogX3BjQ2xhc3NOYW1lcykgewogICAgICAgICAg\nICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIENsYXNz\nPD8+IGNscyA9IENsYXNzLmZvck5hbWUoY2xzTmFtZSwgdHJ1ZSwgbG9hZGVy\nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRzU3ViKGNscykp\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1JlZGVmaW5lLmFkZChj\nbHMpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0\nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb25mLmdldExvZyhPcGVu\nSlBBQ29uZmlndXJhdGlvbi5MT0dfUlVOVElNRSkud2FybihudWxsLCB0KTsK\nICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAg\nICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGdldCB0aGUgTWFuYWdl\nZENsYXNzU3ViY2xhc3NlciBpbnRvIHRoZSBsb29wCiAgICAgICAgTWFuYWdl\nZENsYXNzU3ViY2xhc3Nlci5wcmVwYXJlVW5lbmhhbmNlZENsYXNzZXMoX2Nv\nbmYsIHRvUmVkZWZpbmUsIGVudkxvYWRlcik7CiAgICB9CgogICAgcHJpdmF0\nZSBib29sZWFuIG5lZWRzU3ViKENsYXNzPD8+IGNscykgewogICAgICAgIHJl\ndHVybiAhY2xzLmlzSW50ZXJmYWNlKCkKICAgICAgICAgICAgJiYgIVBlcnNp\nc3RlbmNlQ2FwYWJsZS5jbGFzcy5pc0Fzc2lnbmFibGVGcm9tKGNscyk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgYWRkTGlmZWN5Y2xlTGlzdGVuZXIoT2Jq\nZWN0IGxpc3RlbmVyLCBDbGFzczw/PltdIGNsYXNzZXMpIHsKICAgICAgICBs\nb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYXNzZXJ0T3Blbigp\nOwogICAgICAgICAgICBpZiAoX2xpZmVjeWNsZUxpc3RlbmVycyA9PSBudWxs\nKQogICAgICAgICAgICAgICAgX2xpZmVjeWNsZUxpc3RlbmVycyA9IG5ldyBI\nYXNoTWFwPE9iamVjdCwgQ2xhc3M8Pz5bXT4oNyk7CiAgICAgICAgICAgIF9s\naWZlY3ljbGVMaXN0ZW5lcnMucHV0KGxpc3RlbmVyLCBjbGFzc2VzKTsKICAg\nICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2soKTsKICAgICAg\nICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgcmVtb3ZlTGlmZWN5Y2xlTGlz\ndGVuZXIoT2JqZWN0IGxpc3RlbmVyKSB7CiAgICAgICAgbG9jaygpOwogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIGFzc2VydE9wZW4oKTsKICAgICAgICAg\nICAgaWYgKF9saWZlY3ljbGVMaXN0ZW5lcnMgIT0gbnVsbCkKICAgICAgICAg\nICAgICAgIF9saWZlY3ljbGVMaXN0ZW5lcnMucmVtb3ZlKGxpc3RlbmVyKTsK\nICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2soKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgYWRkVHJhbnNhY3Rpb25M\naXN0ZW5lcihPYmplY3QgbGlzdGVuZXIpIHsKICAgICAgICBsb2NrKCk7CiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgYXNzZXJ0T3BlbigpOwogICAgICAg\nICAgICBpZiAoX3RyYW5zYWN0aW9uTGlzdGVuZXJzID09IG51bGwpCiAgICAg\nICAgICAgICAgICBfdHJhbnNhY3Rpb25MaXN0ZW5lcnMgPSBuZXcgTGlua2Vk\nTGlzdDxPYmplY3Q+KCk7CiAgICAgICAgICAgIF90cmFuc2FjdGlvbkxpc3Rl\nbmVycy5hZGQobGlzdGVuZXIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAg\nICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCByZW1vdmVUcmFuc2FjdGlvbkxpc3RlbmVyKE9iamVjdCBsaXN0ZW5l\ncikgewogICAgICAgIGxvY2soKTsKICAgICAgICB0cnkgewogICAgICAgICAg\nICBhc3NlcnRPcGVuKCk7CiAgICAgICAgICAgIGlmIChfdHJhbnNhY3Rpb25M\naXN0ZW5lcnMgIT0gbnVsbCkKICAgICAgICAgICAgICAgIF90cmFuc2FjdGlv\nbkxpc3RlbmVycy5yZW1vdmUobGlzdGVuZXIpOwogICAgICAgIH0gZmluYWxs\neSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGJyb2tlciBmYWN0\nb3J5IGlzIGNsb3NlZC4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gaXND\nbG9zZWQoKSB7CiAgICAgICAgcmV0dXJuIF9jbG9zZWQ7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgY2xvc2UoKSB7CiAgICAgICAgbG9jaygpOwoKICAgICAg\nICBpZihfd3JpdGVCZWhpbmRDYWxsYmFjayAhPSBudWxsKSB7CiAgICAgICAg\nICAgIF93cml0ZUJlaGluZENhbGxiYWNrLmNsb3NlKCk7CiAgICAgICAgfQog\nICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGFzc2VydE9wZW4o\nKTsKICAgICAgICAgICAgYXNzZXJ0Tm9BY3RpdmVUcmFuc2FjdGlvbigpOwoK\nICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gZmFjdG9yeSBwb29sCiAgICAg\nICAgICAgIHN5bmNocm9uaXplZCAoX3Bvb2wpIHsKICAgICAgICAgICAgICAg\nIGlmIChfcG9vbC5nZXQoX3Bvb2xLZXkpID09IHRoaXMpCiAgICAgICAgICAg\nICAgICAgICAgX3Bvb2wucmVtb3ZlKF9wb29sS2V5KTsKICAgICAgICAgICAg\nfQoKICAgICAgICAgICAgLy8gY2xvc2UgYWxsIGJyb2tlcnMKICAgICAgICAg\nICAgZm9yIChCcm9rZXIgYnJva2VyIDogX2Jyb2tlcnMpIHsKICAgICAgICAg\nICAgICAgIC8vIENoZWNrIGZvciBudWxsIGJlY2F1c2UgX2Jyb2tlcnMgbWF5\nIGNvbnRhaW4gd2VhayByZWZlcmVuY2VzCiAgICAgICAgICAgICAgICBpZiAo\nKGJyb2tlciAhPSBudWxsKSAmJiAoIWJyb2tlci5pc0Nsb3NlZCgpKSkKICAg\nICAgICAgICAgICAgICAgICBicm9rZXIuY2xvc2UoKTsKICAgICAgICAgICAg\nfQoKICAgICAgICAgICAgaWYoX2NvbmYubWV0YURhdGFSZXBvc2l0b3J5QXZh\naWxhYmxlKCkpIHsKICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBtZXRhZGF0\nYSByZXBvc2l0b3J5IGZyb20gbGlzdGVuZXIgbGlzdAogICAgICAgICAgICAg\nICAgUENSZWdpc3RyeS5yZW1vdmVSZWdpc3RlckNsYXNzTGlzdGVuZXIKICAg\nICAgICAgICAgICAgICAgICAoX2NvbmYuZ2V0TWV0YURhdGFSZXBvc2l0b3J5\nSW5zdGFuY2UoKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb25m\nLmNsb3NlKCk7CiAgICAgICAgICAgIF9jbG9zZWQgPSB0cnVlOwogICAgICAg\nICAgICBMb2cgbG9nID0gX2NvbmYuZ2V0TG9nKE9wZW5KUEFDb25maWd1cmF0\naW9uLkxPR19SVU5USU1FKTsKICAgICAgICAgICAgaWYgKGxvZy5pc1RyYWNl\nRW5hYmxlZCgpKQogICAgICAgICAgICAgICAgX2Nsb3NlZEV4Y2VwdGlvbiA9\nIG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKTsKICAgICAgICB9IGZpbmFs\nbHkgewogICAgICAgICAgICB1bmxvY2soKTsKICAgICAgICB9CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlz\nIG1ldGhvZCB0byBhZGQgYSA8Y29kZT5QbGF0Zm9ybTwvY29kZT4KICAgICAq\nIHByb3BlcnR5IGxpc3RpbmcgdGhlIHJ1bnRpbWUgcGxhdGZvcm0sIHN1Y2gg\nYXM6CiAgICAgKiA8Y29kZT5PcGVuSlBBIEpEQkMgRWRpdGlvbjogT3JhY2xl\nIERhdGFiYXNlPC9jb2RlPgogICAgICovCiAgICBwdWJsaWMgTWFwPFN0cmlu\nZyxPYmplY3Q+IGdldFByb3BlcnRpZXMoKSB7CiAgICAgICAgLy8gcmVxdWly\nZWQgcHJvcHMgYXJlIFZlbmRvck5hbWUgYW5kIFZlcnNpb25OdW1iZXIKICAg\nICAgICBNYXA8U3RyaW5nLE9iamVjdD4gcHJvcHMgPSBfY29uZi50b1Byb3Bl\ncnRpZXModHJ1ZSk7CiAgICAgICAgcHJvcHMucHV0KCJWZW5kb3JOYW1lIiwg\nT3BlbkpQQVZlcnNpb24uVkVORE9SX05BTUUpOwogICAgICAgIHByb3BzLnB1\ndCgiVmVyc2lvbk51bWJlciIsIE9wZW5KUEFWZXJzaW9uLlZFUlNJT05fTlVN\nQkVSKTsKICAgICAgICBwcm9wcy5wdXQoIlZlcnNpb25JZCIsIE9wZW5KUEFW\nZXJzaW9uLlZFUlNJT05fSUQpOwogICAgICAgIHJldHVybiBwcm9wczsKICAg\nIH0KCiAgICBwdWJsaWMgU2V0PFN0cmluZz4gZ2V0U3VwcG9ydGVkUHJvcGVy\ndGllcygpIHsKICAgICAgICByZXR1cm4gX2NvbmYuZ2V0UHJvcGVydHlLZXlz\nKCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRVc2VyT2JqZWN0KE9i\namVjdCBrZXkpIHsKICAgICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgYXNzZXJ0T3BlbigpOwogICAgICAgICAgICByZXR1cm4gKF91\nc2VyT2JqZWN0cyA9PSBudWxsKSA/IG51bGwgOiBfdXNlck9iamVjdHMuZ2V0\nKGtleSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdW5sb2Nr\nKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgcHV0VXNl\nck9iamVjdChPYmplY3Qga2V5LCBPYmplY3QgdmFsKSB7CiAgICAgICAgbG9j\naygpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGFzc2VydE9wZW4oKTsK\nICAgICAgICAgICAgaWYgKHZhbCA9PSBudWxsKQogICAgICAgICAgICAgICAg\ncmV0dXJuIChfdXNlck9iamVjdHMgPT0gbnVsbCkgPyBudWxsIDogX3VzZXJP\nYmplY3RzLnJlbW92ZShrZXkpOwoKICAgICAgICAgICAgaWYgKF91c2VyT2Jq\nZWN0cyA9PSBudWxsKQogICAgICAgICAgICAgICAgX3VzZXJPYmplY3RzID0g\nbmV3IEhhc2hNYXA8T2JqZWN0LE9iamVjdD4oKTsKICAgICAgICAgICAgcmV0\ndXJuIF91c2VyT2JqZWN0cy5wdXQoa2V5LCB2YWwpOwogICAgICAgIH0gZmlu\nYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBsb2NrKCkgewogICAgICAgIF9sb2NrLmxvY2so\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB1bmxvY2soKSB7CiAgICAgICAg\nX2xvY2sudW5sb2NrKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXBsYWNl\ncyB0aGUgZmFjdG9yeSB3aXRoIHRoaXMgSlZNcyBwb29sZWQgdmVyc2lvbiBp\nZiBpdCBleGlzdHMuIEFsc28KICAgICAqIGZyZWV6ZXMgdGhlIGZhY3Rvcnku\nCiAgICAgKi8KICAgIHByb3RlY3RlZCBPYmplY3QgcmVhZFJlc29sdmUoKQog\nICAgICAgIHRocm93cyBPYmplY3RTdHJlYW1FeGNlcHRpb24gewogICAgICAg\nIEFic3RyYWN0QnJva2VyRmFjdG9yeSBmYWN0b3J5ID0gZ2V0UG9vbGVkRmFj\ndG9yeUZvcktleShfcG9vbEtleSk7CiAgICAgICAgaWYgKGZhY3RvcnkgIT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7CgogICAgICAgIC8v\nIHJlc2V0IHRoZXNlIHRyYW5zaWVudCBmaWVsZHMgdG8gZW1wdHkgdmFsdWVz\nCiAgICAgICAgX3RyYW5zYWN0aW9uYWwgPSBuZXcgQ29uY3VycmVudEhhc2hN\nYXA8T2JqZWN0LENvbGxlY3Rpb248QnJva2VyPj4oKTsKICAgICAgICBfYnJv\na2VycyA9IG5ld0Jyb2tlclNldCgpOwoKICAgICAgICBtYWtlUmVhZE9ubHko\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwcml2YXRlIFNl\ndDxCcm9rZXI+IG5ld0Jyb2tlclNldCgpIHsKICAgICAgICBCcm9rZXJWYWx1\nZSBidjsKICAgICAgICBpZiAoX2NvbmYgaW5zdGFuY2VvZiBPcGVuSlBBQ29u\nZmlndXJhdGlvbkltcGwpCiAgICAgICAgICAgIGJ2ID0gKChPcGVuSlBBQ29u\nZmlndXJhdGlvbkltcGwpIF9jb25mKS5icm9rZXJQbHVnaW47CiAgICAgICAg\nZWxzZQogICAgICAgICAgICBidiA9IChCcm9rZXJWYWx1ZSkgX2NvbmYuZ2V0\nVmFsdWUoQnJva2VyVmFsdWUuS0VZKTsKCiAgICAgICAgaWYgKEZpbmFsaXpp\nbmdCcm9rZXJJbXBsLmNsYXNzLmlzQXNzaWduYWJsZUZyb20oCiAgICAgICAg\nICAgIGJ2LmdldFRlbXBsYXRlQnJva2VyVHlwZShfY29uZikpKSB7CiAgICAg\nICAgICAgIHJldHVybiBNYXBCYWNrZWRTZXQuZGVjb3JhdGUobmV3IENvbmN1\ncnJlbnRIYXNoTWFwKCksIG5ldyBPYmplY3QoKSB7IH0pOwogICAgICAgIH0g\nZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uY3VycmVudFJlZmVy\nZW5jZUhhc2hTZXQ8QnJva2VyPihDb25jdXJyZW50UmVmZXJlbmNlSGFzaFNl\ndC5XRUFLKTsKICAgICAgICB9CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vCiAgICAvLyBNZXRob2RzIGZvciBPdmVycmlkZQogICAgLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgLyoqCiAgICAgKiBSZXR1cm4g\nYSBuZXcgU3RvcmVNYW5hZ2VyIGZvciB0aGlzIHJ1bnRpbWUuIE5vdGUgdGhh\ndCB0aGUgaW5zdGFuY2UKICAgICAqIHJldHVybmVkIGhlcmUgbWF5IGJlIHdy\nYXBwZWQgYmVmb3JlIGJlaW5nIHBhc3NlZCB0byB0aGUKICAgICAqIHtAbGlu\nayAjbmV3QnJva2VyfSBtZXRob2QuCiAgICAgKi8KICAgIHByb3RlY3RlZCBh\nYnN0cmFjdCBTdG9yZU1hbmFnZXIgbmV3U3RvcmVNYW5hZ2VyKCk7CgogICAg\nLyoqCiAgICAgKiBGaW5kIGEgcG9vbGVkIGJyb2tlciwgb3IgcmV0dXJuIG51\nbGwgaWYgbm9uZS4gSWYgdXNpbmcKICAgICAqIG1hbmFnZWQgdHJhbnNhY3Rp\nb25zLCBsb29rcyBmb3IgYSB0cmFuc2FjdGlvbmFsIGJyb2tlcjsKICAgICAq\nIG90aGVyd2lzZSByZXR1cm5zIG51bGwgYnkgZGVmYXVsdC4gVGhpcyBtZXRo\nb2Qgd2lsbCBiZSBjYWxsZWQgYmVmb3JlCiAgICAgKiB7QGxpbmsgI25ld1N0\nb3JlTWFuYWdlcn0gc28gdGhhdCBmYWN0b3J5IHN1YmNsYXNzZXMgaW1wbGVt\nZW50aW5nCiAgICAgKiBwb29saW5nIGNhbiByZXR1cm4gYSBtYXRjaGluZyBt\nYW5hZ2VyIGJlZm9yZSBhIG5ldyB7QGxpbmsgU3RvcmVNYW5hZ2VyfQogICAg\nICogaXMgY3JlYXRlZC4KICAgICAqLwogICAgcHJvdGVjdGVkIEJyb2tlciBm\naW5kQnJva2VyKFN0cmluZyB1c2VyLCBTdHJpbmcgcGFzcywgYm9vbGVhbiBt\nYW5hZ2VkKSB7CiAgICAgICAgaWYgKG1hbmFnZWQpCiAgICAgICAgICAgIHJl\ndHVybiBmaW5kVHJhbnNhY3Rpb25hbEJyb2tlcih1c2VyLCBwYXNzKTsKICAg\nICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbiBhIGJyb2tlciBjb25maWd1cmVkIHdpdGggdGhlIHByb3BlciBzZXR0aW5n\ncy4KICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGNvbnN0cnVjdHMg\nYSBuZXcKICAgICAqIEJyb2tlckltcGwgb2YgdGhlIGNsYXNzIHNldCBmb3Ig\ndGhpcyBmYWN0b3J5LgogICAgICovCiAgICBwcm90ZWN0ZWQgQnJva2VySW1w\nbCBuZXdCcm9rZXJJbXBsKFN0cmluZyB1c2VyLCBTdHJpbmcgcGFzcykgewog\nICAgICAgIEJyb2tlckltcGwgYnJva2VyID0gX2NvbmYubmV3QnJva2VySW5z\ndGFuY2UodXNlciwgcGFzcyk7CiAgICAgICAgaWYgKGJyb2tlciA9PSBudWxs\nKQogICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4Y2VwdGlvbihfbG9jLmdl\ndCgibm8tYnJva2VyLWNsYXNzIiwKICAgICAgICAgICAgICAgIF9jb25mLmdl\ndEJyb2tlckltcGwoKSkpOwoKICAgICAgICByZXR1cm4gYnJva2VyOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0dXAgdHJhbnNpZW50IHN0YXRlIHVzZWQg\nYnkgdGhpcyBmYWN0b3J5IGJhc2VkIG9uIHRoZQogICAgICogY3VycmVudCBj\nb25maWd1cmF0aW9uLCB3aGljaCB3aWxsIHN1YnNlcXVlbnRseSBiZSBsb2Nr\nZWQgZG93bi4gVGhpcwogICAgICogbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGJl\nZm9yZSB0aGUgZmlyc3QgYnJva2VyIGlzIHJlcXVlc3RlZCwKICAgICAqIGFu\nZCB3aWxsIGJlIHJlLWNhbGxlZCBlYWNoIHRpbWUgdGhlIGZhY3RvcnkgaXMg\nZGVzZXJpYWxpemVkIGludG8gYSBKVk0KICAgICAqIHRoYXQgaGFzIG5vIGNv\nbmZpZ3VyYXRpb24gZm9yIHRoaXMgZGF0YSBzdG9yZS4KICAgICAqLwogICAg\ncHJvdGVjdGVkIHZvaWQgc2V0dXAoKSB7CiAgICB9CgogICAgLy8vLy8vLy8v\nLy8vLwogICAgLy8gVXRpbGl0aWVzCiAgICAvLy8vLy8vLy8vLy8vCgogICAg\nLyoqCiAgICAgKiBGaW5kIGEgbWFuYWdlZCBydW50aW1lIGJyb2tlciBhc3Nv\nY2lhdGVkIHdpdGggdGhlCiAgICAgKiBjdXJyZW50IHRyYW5zYWN0aW9uLCBv\nciByZXR1cm5zIG51bGwgaWYgbm9uZS4KICAgICAqLwogICAgcHJvdGVjdGVk\nIEJyb2tlciBmaW5kVHJhbnNhY3Rpb25hbEJyb2tlcihTdHJpbmcgdXNlciwg\nU3RyaW5nIHBhc3MpIHsKICAgICAgICBUcmFuc2FjdGlvbiB0cmFuczsKICAg\nICAgICBNYW5hZ2VkUnVudGltZSBtciA9IF9jb25mLmdldE1hbmFnZWRSdW50\naW1lSW5zdGFuY2UoKTsKICAgICAgICBPYmplY3QgdHhLZXk7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgdHJhbnMgPSBtci5nZXRUcmFuc2FjdGlvbk1h\nbmFnZXIoKS4KICAgICAgICAgICAgICAgIGdldFRyYW5zYWN0aW9uKCk7CiAg\nICAgICAgICAgIHR4S2V5ID0gbXIuZ2V0VHJhbnNhY3Rpb25LZXkoKTsKCiAg\nICAgICAgICAgIGlmICh0cmFucyA9PSBudWxsCiAgICAgICAgICAgICAgICB8\nfCB0cmFucy5nZXRTdGF0dXMoKSA9PSBTdGF0dXMuU1RBVFVTX05PX1RSQU5T\nQUNUSU9OCiAgICAgICAgICAgICAgICB8fCB0cmFucy5nZXRTdGF0dXMoKSA9\nPSBTdGF0dXMuU1RBVFVTX1VOS05PV04pCiAgICAgICAgICAgICAgICByZXR1\ncm4gbnVsbDsKICAgICAgICB9IGNhdGNoIChPcGVuSlBBRXhjZXB0aW9uIGtl\nKSB7CiAgICAgICAgICAgIHRocm93IGtlOwogICAgICAgIH0gY2F0Y2ggKEV4\nY2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXhj\nZXB0aW9uKGUpOwogICAgICAgIH0KCiAgICAgICAgQ29sbGVjdGlvbjxCcm9r\nZXI+IGJyb2tlcnMgPSBfdHJhbnNhY3Rpb25hbC5nZXQodHhLZXkpOwogICAg\nICAgIGlmIChicm9rZXJzICE9IG51bGwpIHsKICAgICAgICAgICAgLy8gd2Ug\nZG9uJ3QgbmVlZCB0byBzeW5jaHJvbml6ZSBvbiBicm9rZXJzIHNpbmNlIG9u\nZSBKVEEgdHJhbnNhY3Rpb24KICAgICAgICAgICAgLy8gY2FuIG5ldmVyIGJl\nIGFjdGl2ZSBvbiBtdWx0aXBsZSBjb25jdXJyZW50IHRocmVhZHMuCiAgICAg\nICAgICAgIGZvciAoQnJva2VyIGJyb2tlciA6IGJyb2tlcnMpIHsKICAgICAg\nICAgICAgICAgIGlmIChTdHJpbmdVdGlscy5lcXVhbHMoYnJva2VyLmdldENv\nbm5lY3Rpb25Vc2VyTmFtZSgpLCB1c2VyKSAKICAgICAgICAgICAgICAgICAm\nJiBTdHJpbmdVdGlscy5lcXVhbHMoYnJva2VyLmdldENvbm5lY3Rpb25QYXNz\nd29yZCgpLCBwYXNzKSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnJv\na2VyOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBu\ndWxsOwogICAgfQoKICAgIC8qKgogICAgICogQ29uZmlndXJlcyB0aGUgZ2l2\nZW4gYnJva2VyIHdpdGggdGhlIGN1cnJlbnQgZmFjdG9yeSBvcHRpb24gc2V0\ndGluZ3MuCiAgICAgKi8KICAgIHByb3RlY3RlZCB2b2lkIGNvbmZpZ3VyZUJy\nb2tlcihCcm9rZXJJbXBsIGJyb2tlcikgewogICAgICAgIGJyb2tlci5zZXRP\ncHRpbWlzdGljKF9jb25mLmdldE9wdGltaXN0aWMoKSk7CiAgICAgICAgYnJv\na2VyLnNldE5vbnRyYW5zYWN0aW9uYWxSZWFkKF9jb25mLmdldE5vbnRyYW5z\nYWN0aW9uYWxSZWFkKCkpOwogICAgICAgIGJyb2tlci5zZXROb250cmFuc2Fj\ndGlvbmFsV3JpdGUoX2NvbmYuZ2V0Tm9udHJhbnNhY3Rpb25hbFdyaXRlKCkp\nOwogICAgICAgIGJyb2tlci5zZXRSZXRhaW5TdGF0ZShfY29uZi5nZXRSZXRh\naW5TdGF0ZSgpKTsKICAgICAgICBicm9rZXIuc2V0UmVzdG9yZVN0YXRlKF9j\nb25mLmdldFJlc3RvcmVTdGF0ZUNvbnN0YW50KCkpOwogICAgICAgIGJyb2tl\nci5zZXRBdXRvQ2xlYXIoX2NvbmYuZ2V0QXV0b0NsZWFyQ29uc3RhbnQoKSk7\nCiAgICAgICAgYnJva2VyLnNldElnbm9yZUNoYW5nZXMoX2NvbmYuZ2V0SWdu\nb3JlQ2hhbmdlcygpKTsKICAgICAgICBicm9rZXIuc2V0TXVsdGl0aHJlYWRl\nZChfY29uZi5nZXRNdWx0aXRocmVhZGVkKCkpOwogICAgICAgIGJyb2tlci5z\nZXRBdXRvRGV0YWNoKF9jb25mLmdldEF1dG9EZXRhY2hDb25zdGFudCgpKTsK\nICAgICAgICBicm9rZXIuc2V0RGV0YWNoU3RhdGUoX2NvbmYuZ2V0RGV0YWNo\nU3RhdGVJbnN0YW5jZSgpLmdldERldGFjaFN0YXRlKCkpOwogICAgfQoKICAg\nIC8qKgogICAgICogRnJlZXplcyB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlz\nIGZhY3RvcnkuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIG1ha2VSZWFkT25s\neSgpIHsKICAgICAgICBpZiAoX3JlYWRPbmx5KQogICAgICAgICAgICByZXR1\ncm47CgogICAgICAgIGxvY2soKTsKICAgICAgICB0cnkgewogICAgICAgICAg\nICAvLyBjaGVjayBhZ2FpbgogICAgICAgICAgICBpZiAoX3JlYWRPbmx5KQog\nICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBfcmVhZE9ubHkg\nPSB0cnVlOwoKICAgICAgICAgICAgTG9nIGxvZyA9IF9jb25mLmdldExvZyhP\ncGVuSlBBQ29uZmlndXJhdGlvbi5MT0dfUlVOVElNRSk7CiAgICAgICAgICAg\nIGlmIChsb2cuaXNJbmZvRW5hYmxlZCgpKQogICAgICAgICAgICAgICAgbG9n\nLmluZm8oZ2V0RmFjdG9yeUluaXRpYWxpemF0aW9uQmFubmVyKCkpOwogICAg\nICAgICAgICBpZiAobG9nLmlzVHJhY2VFbmFibGVkKCkpIHsKICAgICAgICAg\nICAgICAgIE1hcDxTdHJpbmcsT2JqZWN0PiBwcm9wcyA9IF9jb25mLnRvUHJv\ncGVydGllcyh0cnVlKTsKICAgICAgICAgICAgICAgIFN0cmluZyBsaW5lU2Vw\nID0gSjJEb1ByaXZIZWxwZXIuZ2V0TGluZVNlcGFyYXRvcigpOwogICAgICAg\nICAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo\nKTsKICAgICAgICAgICAgICAgIE1hcC5FbnRyeTw/LD8+IGVudHJ5OwogICAg\nICAgICAgICAgICAgZm9yIChJdGVyYXRvcjxNYXAuRW50cnk8U3RyaW5nLE9i\namVjdD4+IGl0ciA9IHByb3BzLmVudHJ5U2V0KCkuaXRlcmF0b3IoKTsgaXRy\nLmhhc05leHQoKTspIHsKICAgICAgICAgICAgICAgICAgICBlbnRyeSA9IGl0\nci5uZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgYnVmLmFwcGVuZChlbnRy\neS5nZXRLZXkoKSkuYXBwZW5kKCI6ICIpLmFwcGVuZChlbnRyeS5nZXRWYWx1\nZSgpKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaXRyLmhhc05leHQoKSkK\nICAgICAgICAgICAgICAgICAgICAgICAgYnVmLmFwcGVuZChsaW5lU2VwKTsK\nICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxvZy50cmFjZShf\nbG9jLmdldCgiZmFjdG9yeS1wcm9wZXJ0aWVzIiwgYnVmLnRvU3RyaW5nKCkp\nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gc2V0dXAgdHJhbnNp\nZW50IHN0YXRlCiAgICAgICAgICAgIHNldHVwKCk7CgogICAgICAgICAgICAv\nLyByZWdpc3RlciB0aGUgbWV0ZGF0YSByZXBvc2l0b3J5IHRvIGF1dG8tbG9h\nZCBwZXJzaXN0ZW50IHR5cGVzCiAgICAgICAgICAgIC8vIGFuZCBtYWtlIHN1\ncmUgdHlwZXMgYXJlIGVuaGFuY2VkCiAgICAgICAgICAgIE1ldGFEYXRhUmVw\nb3NpdG9yeSByZXBvcyA9IF9jb25mLmdldE1ldGFEYXRhUmVwb3NpdG9yeUlu\nc3RhbmNlKCk7CiAgICAgICAgICAgIHJlcG9zLnNldFZhbGlkYXRlKE1ldGFE\nYXRhUmVwb3NpdG9yeS5WQUxJREFURV9SVU5USU1FLCB0cnVlKTsKICAgICAg\nICAgICAgcmVwb3Muc2V0UmVzb2x2ZShNZXRhRGF0YU1vZGVzLk1PREVfTUFQ\nUElOR19JTklULCB0cnVlKTsKICAgICAgICAgICAgUENSZWdpc3RyeS5hZGRS\nZWdpc3RlckNsYXNzTGlzdGVuZXIocmVwb3MpOwoKICAgICAgICAgICAgLy8g\nZnJlZXplIHVuZGVybHlpbmcgY29uZmlndXJhdGlvbiBhbmQgZWFnZXJseSBp\nbml0aWFsaXplIHRvCiAgICAgICAgICAgIC8vIGF2b2lkIHN5bmNocm9uaXph\ndGlvbgogICAgICAgICAgICBfY29uZi5zZXRSZWFkT25seShDb25maWd1cmF0\naW9uLklOSVRfU1RBVEVfRlJFRVpJTkcpOwogICAgICAgICAgICBfY29uZi5p\nbnN0YW50aWF0ZUFsbCgpOwogICAgICAgICAgICBpZiAoX2NvbmYuaXNJbml0\naWFsaXplRWFnZXJseSgpKQogICAgICAgICAgICAJX2NvbmYuc2V0UmVhZE9u\nbHkoQ29uZmlndXJhdGlvbi5JTklUX1NUQVRFX0ZST1pFTik7CiAgICAgICAg\nICAgIC8vIGZpcmUgYW4gZXZlbnQgZm9yIGFsbCB0aGUgYnJva2VyIGZhY3Rv\ncnkgbGlzdGVuZXJzCiAgICAgICAgICAgIC8vIHJlZ2lzdGVyZWQgb24gdGhl\nIGNvbmZpZ3VyYXRpb24uCiAgICAgICAgICAgIF9jb25mLmdldEJyb2tlckZh\nY3RvcnlFdmVudE1hbmFnZXIoKS5maXJlRXZlbnQoCiAgICAgICAgICAgICAg\nICBuZXcgQnJva2VyRmFjdG9yeUV2ZW50KHRoaXMsCiAgICAgICAgICAgICAg\nICAgICAgQnJva2VyRmFjdG9yeUV2ZW50LkJST0tFUl9GQUNUT1JZX0NSRUFU\nRUQpKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2so\nKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYW4g\nb2JqZWN0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIGxvZyB3aGVuIHRoaXMgYnJv\na2VyIGZhY3RvcnkKICAgICAqIGluaXRpYWxpemVzLiBUaGlzIGhhcHBlbnMg\nYWZ0ZXIgdGhlIGNvbmZpZ3VyYXRpb24gaXMgZnVsbHkgbG9hZGVkLgogICAg\nICovCiAgICBwcm90ZWN0ZWQgT2JqZWN0IGdldEZhY3RvcnlJbml0aWFsaXph\ndGlvbkJhbm5lcigpIHsKICAgICAgICByZXR1cm4gX2xvYy5nZXQoImZhY3Rv\ncnktaW5pdCIsIE9wZW5KUEFWZXJzaW9uLlZFUlNJT05fTlVNQkVSKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRocm93IGFuIGV4Y2VwdGlvbiBpZiB0aGUg\nZmFjdG9yeSBpcyBjbG9zZWQuICBUaGUgZXhhY3QgbWVzc2FnZSBhbmQKICAg\nICAqIGNvbnRlbnQgb2YgdGhlIGV4Y2VwdGlvbiB2YXJpZXMgd2hldGhlciBU\nUkFDRSBpcyBlbmFibGVkIG9yIG5vdC4KICAgICAqLwogICAgcHJpdmF0ZSB2\nb2lkIGFzc2VydE9wZW4oKSB7CiAgICAgICAgaWYgKF9jbG9zZWQpIHsKICAg\nICAgICAgICAgaWYgKF9jbG9zZWRFeGNlcHRpb24gPT0gbnVsbCkgIC8vIFRS\nQUNFIG5vdCBlbmFibGVkCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52\nYWxpZFN0YXRlRXhjZXB0aW9uKF9sb2MKICAgICAgICAgICAgICAgICAgICAg\nICAgLmdldCgiY2xvc2VkLWZhY3Rvcnktbm90cmFjZSIpKTsKICAgICAgICAg\nICAgZWxzZQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRTdGF0\nZUV4Y2VwdGlvbihfbG9jLmdldCgiY2xvc2VkLWZhY3RvcnkiKSkKICAgICAg\nICAgICAgICAgICAgICAgICAgLnNldENhdXNlKF9jbG9zZWRFeGNlcHRpb24p\nOwogICAgICAgIH0KICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLwog\nICAgLy8gQnJva2VyIHV0aWxpdGllcwogICAgLy8vLy8vLy8vLy8vLy8vLy8v\nLy8KCiAgICAvKioKICAgICAqIFRocm93cyBhIHtAbGluayBVc2VyRXhjZXB0\naW9ufSBpZiBhIHRyYW5zYWN0aW9uIGlzIGFjdGl2ZS4gVGhlIHRocm93bgog\nICAgICogZXhjZXB0aW9uIHdpbGwgY29udGFpbiBhbGwgdGhlIEJyb2tlcnMg\nd2l0aCBhY3RpdmUgdHJhbnNhY3Rpb25zIGFzCiAgICAgKiBmYWlsZWQgb2Jq\nZWN0cyBpbiB0aGUgbmVzdGVkIGV4Y2VwdGlvbnMuCiAgICAgKi8KICAgIHBy\naXZhdGUgdm9pZCBhc3NlcnROb0FjdGl2ZVRyYW5zYWN0aW9uKCkgewogICAg\nICAgIENvbGxlY3Rpb248VGhyb3dhYmxlPiBleGNzOwogICAgICAgIGlmIChf\ndHJhbnNhY3Rpb25hbC5pc0VtcHR5KCkpCiAgICAgICAgICAgIHJldHVybjsK\nCiAgICAgICAgZXhjcyA9IG5ldyBBcnJheUxpc3Q8VGhyb3dhYmxlPihfdHJh\nbnNhY3Rpb25hbC5zaXplKCkpOwogICAgICAgIGZvciAoQ29sbGVjdGlvbjxC\ncm9rZXI+IGJyb2tlcnMgOiBfdHJhbnNhY3Rpb25hbC52YWx1ZXMoKSkgewog\nICAgICAgICAgICBmb3IgKEJyb2tlciBicm9rZXIgOiBicm9rZXJzKSB7CiAg\nICAgICAgICAgICAgICBleGNzLmFkZChuZXcgSW52YWxpZFN0YXRlRXhjZXB0\naW9uKF9sb2MuZ2V0KCJhY3RpdmUiKSkuc2V0RmFpbGVkT2JqZWN0KGJyb2tl\ncikpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIWV4\nY3MuaXNFbXB0eSgpKQogICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFN0\nYXRlRXhjZXB0aW9uKF9sb2MuZ2V0KCJuZXN0ZWQtZXhjZXBzIikpLgogICAg\nICAgICAgICAgICAgc2V0TmVzdGVkVGhyb3dhYmxlcygoVGhyb3dhYmxlW10p\nIGV4Y3MudG9BcnJheShuZXcgVGhyb3dhYmxlW2V4Y3Muc2l6ZSgpXSkpOwog\nICAgfQoKICAgIC8qKgogICAgICogU3luY2hyb25pemUgdGhlIGdpdmVuIGJy\nb2tlciB3aXRoIGEgbWFuYWdlZCB0cmFuc2FjdGlvbiwKICAgICAqIG9wdGlv\nbmFsbHkgc3RhcnRpbmcgb25lIGlmIG5vbmUgaXMgaW4gcHJvZ3Jlc3MuCiAg\nICAgKgogICAgICogQHJldHVybiB0cnVlIGlmIHN5bmNoZWQgd2l0aCB0cmFu\nc2FjdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAgIGJvb2xlYW4g\nc3luY1dpdGhNYW5hZ2VkVHJhbnNhY3Rpb24oQnJva2VySW1wbCBicm9rZXIs\nIGJvb2xlYW4gYmVnaW4pIHsKICAgICAgICBUcmFuc2FjdGlvbiB0cmFuczsK\nICAgICAgICB0cnkgewogICAgICAgICAgICBNYW5hZ2VkUnVudGltZSBtciA9\nIGJyb2tlci5nZXRNYW5hZ2VkUnVudGltZSgpOwogICAgICAgICAgICBUcmFu\nc2FjdGlvbk1hbmFnZXIgdG0gPSBtci5nZXRUcmFuc2FjdGlvbk1hbmFnZXIo\nKTsKICAgICAgICAgICAgdHJhbnMgPSB0bS5nZXRUcmFuc2FjdGlvbigpOwog\nICAgICAgICAgICBpZiAodHJhbnMgIT0gbnVsbAogICAgICAgICAgICAgICAg\nJiYgKHRyYW5zLmdldFN0YXR1cygpID09IFN0YXR1cy5TVEFUVVNfTk9fVFJB\nTlNBQ1RJT04KICAgICAgICAgICAgICAgIHx8IHRyYW5zLmdldFN0YXR1cygp\nID09IFN0YXR1cy5TVEFUVVNfVU5LTk9XTikpCiAgICAgICAgICAgICAgICB0\ncmFucyA9IG51bGw7CgogICAgICAgICAgICBpZiAodHJhbnMgPT0gbnVsbCAm\nJiBiZWdpbikgewogICAgICAgICAgICAgICAgdG0uYmVnaW4oKTsKICAgICAg\nICAgICAgICAgIHRyYW5zID0gdG0uZ2V0VHJhbnNhY3Rpb24oKTsKICAgICAg\nICAgICAgfSBlbHNlIGlmICh0cmFucyA9PSBudWxsKQogICAgICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAgICAgLy8gc3luY2ggYnJva2Vy\nIGFuZCB0cmFucwogICAgICAgICAgICB0cmFucy5yZWdpc3RlclN5bmNocm9u\naXphdGlvbihicm9rZXIpOwoKICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVl\nZCB0byBzeW5jaHJvbml6ZSBvbiBicm9rZXJzIG9yIGd1YXJkIGFnYWluc3Qg\nbXVsdGlwbGUKICAgICAgICAgICAgLy8gdGhyZWFkcyB1c2luZyB0aGUgc2Ft\nZSB0cmFucyBzaW5jZSBvbmUgSlRBIHRyYW5zYWN0aW9uIGNhbiBuZXZlcgog\nICAgICAgICAgICAvLyBiZSBhY3RpdmUgb24gbXVsdGlwbGUgY29uY3VycmVu\ndCB0aHJlYWRzLgogICAgICAgICAgICBPYmplY3QgdHhLZXkgPSBtci5nZXRU\ncmFuc2FjdGlvbktleSgpOwogICAgICAgICAgICBDb2xsZWN0aW9uPEJyb2tl\ncj4gYnJva2VycyA9IF90cmFuc2FjdGlvbmFsLmdldCh0eEtleSk7CiAgICAg\nICAgICAgIAogICAgICAgICAgICBpZiAoYnJva2VycyA9PSBudWxsKSB7CiAg\nICAgICAgICAgICAgICBicm9rZXJzID0gbmV3IEFycmF5TGlzdDxCcm9rZXI+\nKDIpOwogICAgICAgICAgICAgICAgX3RyYW5zYWN0aW9uYWwucHV0KHR4S2V5\nLCBicm9rZXJzKTsKICAgICAgICAgICAgICAgIHRyYW5zLnJlZ2lzdGVyU3lu\nY2hyb25pemF0aW9uKG5ldyBSZW1vdmVUcmFuc2FjdGlvblN5bmModHhLZXkp\nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicm9rZXJzLmFkZChicm9r\nZXIpOwogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAg\nICAgICAgfSBjYXRjaCAoT3BlbkpQQUV4Y2VwdGlvbiBrZSkgewogICAgICAg\nICAgICB0aHJvdyBrZTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkg\newogICAgICAgICAgICB0aHJvdyBuZXcgR2VuZXJhbEV4Y2VwdGlvbihlKTsK\nICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgc2V0\nIG9mIGFsbCB0aGUgb3BlbiBicm9rZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlz\nIGZhY3RvcnkuIFRoZQogICAgICogcmV0dXJuZWQgc2V0IGlzIHVubW9kaWZp\nYWJsZSwgYW5kIG1heSBjb250YWluIG51bGwgcmVmZXJlbmNlcy4KICAgICAq\nLwogICAgcHVibGljIENvbGxlY3Rpb248QnJva2VyPiBnZXRPcGVuQnJva2Vy\ncygpIHsKICAgICAgICByZXR1cm4gQ29sbGVjdGlvbnMudW5tb2RpZmlhYmxl\nQ29sbGVjdGlvbihfYnJva2Vycyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZWxlYXNlIDxjb2RlPmJyb2tlcjwvY29kZT4gZnJvbSBhbnkgaW50ZXJuYWwg\nZGF0YSBzdHJ1Y3R1cmVzLiBUaGlzCiAgICAgKiBpcyBpbnZva2VkIGJ5IDxj\nb2RlPmJyb2tlcjwvY29kZT4gYWZ0ZXIgdGhlIGJyb2tlciBpcyBmdWxseSBj\nbG9zZWQuCiAgICAgKgogICAgICogQHNpbmNlIDEuMS4wCiAgICAgKi8KICAg\nIHByb3RlY3RlZCB2b2lkIHJlbGVhc2VCcm9rZXIoQnJva2VySW1wbCBicm9r\nZXIpIHsKICAgICAgICBfYnJva2Vycy5yZW1vdmUoYnJva2VyKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIEByZXR1cm4gYSBrZXkgdGhhdCBjYW4gYmUgdXNl\nZCB0byBvYnRhaW4gdGhpcyBicm9rZXIgZmFjdG9yeSBmcm9tIHRoZQogICAg\nICogcG9vbCBhdCBhIGxhdGVyIHRpbWUuCiAgICAgKgogICAgICogQHNpbmNl\nIDEuMS4wCiAgICAgKi8KICAgIHB1YmxpYyBPYmplY3QgZ2V0UG9vbEtleSgp\nIHsKICAgICAgICByZXR1cm4gX3Bvb2xLZXk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBTZXQgYSBrZXkgdGhhdCBjYW4gYmUgdXNlZCB0byBvYnRhaW4gdGhp\ncyBicm9rZXIgZmFjdG9yeSBmcm9tIHRoZQogICAgICogcG9vbCBhdCBhIGxh\ndGVyIHRpbWUuCiAgICAgKgogICAgICogQHNpbmNlIDEuMS4wCiAgICAgKi8K\nICAgIHZvaWQgc2V0UG9vbEtleShPYmplY3Qga2V5KSB7CiAgICAgICAgX3Bv\nb2xLZXkgPSBrZXk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTaW1wbGUgc3lu\nY2hyb25pemF0aW9uIGxpc3RlbmVyIHRvIHJlbW92ZSBjb21wbGV0ZWQgdHJh\nbnNhY3Rpb25zCiAgICAgKiBmcm9tIG91ciBjYWNoZS4KICAgICAqLwogICAg\ncHJpdmF0ZSBjbGFzcyBSZW1vdmVUcmFuc2FjdGlvblN5bmMKICAgICAgICBp\nbXBsZW1lbnRzIFN5bmNocm9uaXphdGlvbiB7CgogICAgICAgIHByaXZhdGUg\nZmluYWwgT2JqZWN0IF90cmFuczsKCiAgICAgICAgcHVibGljIFJlbW92ZVRy\nYW5zYWN0aW9uU3luYyhPYmplY3QgdHJhbnMpIHsKICAgICAgICAgICAgX3Ry\nYW5zID0gdHJhbnM7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBi\nZWZvcmVDb21wbGV0aW9uKCkgewogICAgICAgIH0KCiAgICAgICAgcHVibGlj\nIHZvaWQgYWZ0ZXJDb21wbGV0aW9uKGludCBzdGF0dXMpIHsKICAgICAgICAg\nICAgX3RyYW5zYWN0aW9uYWwucmVtb3ZlIChfdHJhbnMpOwoJCX0KCX0KICAg\nIAogICAgLyoqCiAgICAgKiBNZXRob2QgaW5zdXJlcyB0aGF0IGRlc2VyaWFs\naXplZCBFTUYgaGFzIHRoaXMgcmVmZXJlbmNlIHJlLWluc3RhbnRpYXRlZAog\nICAgICovCiAgICBwcml2YXRlIENvbGxlY3Rpb248Q2xhc3NMb2FkZXI+IGdl\ndFBjQ2xhc3NMb2FkZXJzKCkgewogICAgICAgaWYgKF9wY0NsYXNzTG9hZGVy\ncyA9PSBudWxsKQogICAgICAgICBfcGNDbGFzc0xvYWRlcnMgPSBuZXcgQ29u\nY3VycmVudFJlZmVyZW5jZUhhc2hTZXQ8Q2xhc3NMb2FkZXI+KENvbmN1cnJl\nbnRSZWZlcmVuY2VIYXNoU2V0LldFQUspOwogICAgICAgICAgCiAgICAgICBy\nZXR1cm4gX3BjQ2xhc3NMb2FkZXJzOwogICAgfQoKICAgIC8qKgogICAgICog\nPFA+CiAgICAgKiBDcmVhdGUgYSBEZWxlZ2F0aW5nU3RvcmVNYW5hZ2VyIGZv\nciB1c2Ugd2l0aCBhIEJyb2tlciBjcmVhdGVkIGJ5IHRoaXMgZmFjdG9yeS4K\nICAgICAqIDwvUD4KICAgICAqIDxQPgogICAgICogSWYgYSBEYXRhQ2FjaGUg\naGFzIGJlZW4gZW5hYmxlZCBhIERhdGFDYWNoZVN0b3JlTWFuYWdlciB3aWxs\nIGJlIHJldHVybmVkLiBJZiBhIFdyaXRlQmVoaW5kIGNhY2hlIGlzIGFsc28g\nZW5hYmxlZCAKICAgICAqIHRoZSBEYXRhQ2FjaGVTdG9yZU1hbmFnZXIgd2ls\nbCAgZGVsZWdhdGUgdG8gYSBXcml0ZUJlaGluZFN0b3JlTWFuYWdlci4gSWYg\nbm8gV3JpdGVCZWhpbmRDYWNoZSBpcyBpbiB1c2UgdGhlIAogICAgICogRGF0\nYUNhY2hlIHdpbGwgZGVsZWdhdGUgdG8gYSBTdG9yZU1hbmFnZXIgcmV0dXJu\nZWQgYnkgbmV3U3RvcmVNYW5hZ2VyKCkuIAogICAgICogPC9QPgogICAgICog\nPFA+CiAgICAgKiBJZiBubyBEYXRhQ2FjaGUgaXMgaW4gdXNlIGFuIFJPUFN0\nb3JlTWFuYWdlciB3aWxsIGJlIHJldHVybmVkLiAKICAgICAqIDwvUD4KICAg\nICAqIAogICAgICogQHJldHVybiBBIGRlbGVnYXRpbmcgc3RvcmUgbWFuYWdl\nciBzdWl0YWJsZSBmb3IgdGhlIGN1cnJlbnQKICAgICAqICAgICAgICAgY29u\nZmlndXJhdGlvbi4KICAgICAqLwogICAgcHJvdGVjdGVkIERlbGVnYXRpbmdT\ndG9yZU1hbmFnZXIgY3JlYXRlRGVsZWdhdGluZ1N0b3JlTWFuYWdlcigpIHsg\nCiAgICAgICAgLy8gZGVjb3JhdGUgdGhlIHN0b3JlIG1hbmFnZXIgZm9yIGRh\ndGEgY2FjaGluZyBhbmQgY3VzdG9tCiAgICAgICAgLy8gcmVzdWx0IG9iamVj\ndCBwcm92aWRlcnM7IGFsd2F5cyBtYWtlIHN1cmUgaXQncyBhIGRlbGVnYXRp\nbmcKICAgICAgICAvLyBzdG9yZSBtYW5hZ2VyLCBiZWNhdXNlIGl0J3MgZWFz\naWVyIGZvciB1c2VycyB0byBkZWFsIHdpdGgKICAgICAgICAvLyB0aGF0IHdh\neQogICAgICAgIFN0b3JlTWFuYWdlciBzbSA9IG5ld1N0b3JlTWFuYWdlcigp\nOwogICAgICAgIERlbGVnYXRpbmdTdG9yZU1hbmFnZXIgZHNtID0gbnVsbDsK\nICAgICAgICBpZiAoX2NvbmYuZ2V0RGF0YUNhY2hlTWFuYWdlckluc3RhbmNl\nKCkuZ2V0U3lzdGVtRGF0YUNhY2hlKCkgIT0gbnVsbCkgewogICAgICAgICAg\nICBXcml0ZUJlaGluZENhY2hlIHdiQ2FjaGUgPSBfY29uZi5nZXRXcml0ZUJl\naGluZENhY2hlTWFuYWdlckluc3RhbmNlKCkuZ2V0U3lzdGVtV3JpdGVCZWhp\nbmRDYWNoZSgpOwogICAgICAgICAgICBpZiAod2JDYWNoZSAhPSBudWxsKSB7\nCiAgICAgICAgICAgICAgICBkc20gPSBuZXcgRGF0YUNhY2hlU3RvcmVNYW5h\nZ2VyKG5ldyBXcml0ZUJlaGluZFN0b3JlTWFuYWdlcihzbSwgd2JDYWNoZSkp\nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZHNtID0g\nbmV3IERhdGFDYWNoZVN0b3JlTWFuYWdlcihzbSk7CiAgICAgICAgICAgIH0K\nICAgICAgICB9CiAgICAgICAgZHNtID0gbmV3IFJPUFN0b3JlTWFuYWdlcigo\nZHNtID09IG51bGwpID8gc20gOiBkc20pOwogICAgICAgIAogICAgICAgIHJl\ndHVybiBkc207CiAgICB9CiAgICAKICAgIHByb3RlY3RlZCB2b2lkIGluaXRX\ncml0ZUJlaGluZENhbGxiYWNrKCkgeyAKICAgICAgICBXcml0ZUJlaGluZENh\nY2hlIGNhY2hlID0gX2NvbmYuZ2V0V3JpdGVCZWhpbmRDYWNoZU1hbmFnZXJJ\nbnN0YW5jZSgpLmdldFN5c3RlbVdyaXRlQmVoaW5kQ2FjaGUoKTsKICAgICAg\nICBpZiAoY2FjaGUgIT0gbnVsbCkgewogICAgICAgICAgICAvLyBWZXJpZnkg\nd2UgYXJlIG5vdCBtaXNzaW5nIG9uZSBvciBtb3JlIG9mIHRoZSBmb2xsb3dp\nbmcgcmVxdWlyZWQKICAgICAgICAgICAgLy8gV3JpdGVCZWhpbmQgY29uZmln\ndXJhdGlvbiBwYXJhbWV0ZXJzOgogICAgICAgICAgICAvLyAgIC0gb3Blbmpw\nYS5EYXRhQ2FjaGUKICAgICAgICAgICAgLy8gICAtIG9wZW5qcGEuV3JpdGVC\nZWhpbmRDYWxsYmFjawogICAgICAgICAgICBpZiAoX2NvbmYuZ2V0RGF0YUNh\nY2hlTWFuYWdlckluc3RhbmNlKCkuZ2V0U3lzdGVtRGF0YUNhY2hlKCkgPT0g\nbnVsbCkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFdyaXRlQmVoaW5k\nQ29uZmlndXJhdGlvbkV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICBf\nbG9jLmdldCgid3JpdGViZWhpbmQtY2ZnLWVyciIsCiAgICAgICAgICAgICAg\nICAgICAgIm9wZW5qcGEuRGF0YUNhY2hlIikuZ2V0TWVzc2FnZSgpKTsKICAg\nICAgICAgICAgfQogICAgICAgICAgICBpZiAoX2NvbmYuZ2V0V3JpdGVCZWhp\nbmRDYWxsYmFja0luc3RhbmNlKCkgPT0gbnVsbCApIHsKICAgICAgICAgICAg\nICAgIHRocm93IG5ldyBXcml0ZUJlaGluZENvbmZpZ3VyYXRpb25FeGNlcHRp\nb24oCiAgICAgICAgICAgICAgICAgICAgX2xvYy5nZXQoIndyaXRlYmVoaW5k\nLWNmZy1lcnIiLAogICAgICAgICAgICAgICAgICAgICJvcGVuanBhLldyaXRl\nQmVoaW5kQ2FsbGJhY2siKS5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICB9\nCiAgICAKICAgICAgICAgICAgQnJva2VyIGJyb2tlciA9CiAgICAgICAgICAg\nICAgICBuZXdCcm9rZXIoX2NvbmYuZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCks\nIAogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb25mLmdldENvbm5lY3Rp\nb25QYXNzd29yZCgpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxz\nZSwgLy8gV3JpdGVCZWhpbmQgYnJva2VyIGlzIGFsd2F5cyB1bm1hbmFnZWQu\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbmYuZ2V0Q29ubmVjdGlv\nblJldGFpbk1vZGVDb25zdGFudCgpLAogICAgICAgICAgICAgICAgICAgICAg\nICAgIGZhbHNlKTsKCiAgICAgICAgICAgIC8vIFRoZSBCcm9rZXIgdXNlZCBi\neSB0aGUgV3JpdGVCZWhpbmQgY2FjaGUgc2hvdWxkIG5vdCBiZSB0cmFja2Vk\nCiAgICAgICAgICAgIC8vIGJ5IHRoZSBmYWN0b3J5IC0gd2UnbGwgbWFudWFs\nbHkgY2xlYW4gdXAgd2hlbiB0aGUgZmFjdG9yeSBpcwogICAgICAgICAgICAv\nLyBjbG9zZWQuCiAgICAgICAgICAgIF90cmFuc2FjdGlvbmFsLnJlbW92ZShi\ncm9rZXIpOwogICAgICAgICAgICBfYnJva2Vycy5yZW1vdmUoYnJva2VyKTsK\nICAgICAgICAgICAgCiAgICAgICAgICAgIF93cml0ZUJlaGluZENhbGxiYWNr\nID0gX2NvbmYuZ2V0V3JpdGVCZWhpbmRDYWxsYmFja0luc3RhbmNlKCk7CiAg\nICAgICAgICAgIF93cml0ZUJlaGluZENhbGxiYWNrLmluaXRpYWxpemUoYnJv\na2VyLCBjYWNoZSk7CgogICAgICAgICAgICBuZXcgVGhyZWFkKF93cml0ZUJl\naGluZENhbGxiYWNrKS5zdGFydCgpOwogICAgICAgIH0KICAgIH0KfQoK\n","encoding":"base64"}

