{"sha":"08672d4c1cb763343a8fcfd55a941613cf2c1142","node_id":"MDQ6QmxvYjIwNjM2NDowODY3MmQ0YzFjYjc2MzM0M2E4ZmNmZDU1YTk0MTYxM2NmMmMxMTQy","size":6103,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/08672d4c1cb763343a8fcfd55a941613cf2c1142","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwuUHJvcGVydGllczsKaW1w\nb3J0IGphdmEudXRpbC5TZXQ7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmNvbmYuT3BlbkpQQUNvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEudXRpbC5SdW50aW1lRXhjZXB0aW9uVHJhbnNsYXRvcjsKCi8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLwovLyBOT1RFOiB3aGVuIGFkZGluZyBhIHB1Ymxp\nYyBBUEkgbWV0aG9kLCBiZSBzdXJlIHRvIGFkZCBpdCB0byAKLy8gSkRPIGFu\nZCBKUEEgZmFjYWRlcyEKLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgovKioKICogRGVs\nZWdhdGluZyBicm9rZXIgZmFjdG9yeSB0aGF0IGNhbiBhbHNvIHBlcmZvcm0g\nZXhjZXB0aW9uIHRyYW5zbGF0aW9uCiAqIGZvciB1c2UgaW4gZmFjYWRlcy4K\nICoKICogQHNpbmNlIDAuNC4wCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBu\nb2phdmFkb2MKICovCnB1YmxpYyBjbGFzcyBEZWxlZ2F0aW5nQnJva2VyRmFj\ndG9yeQogICAgaW1wbGVtZW50cyBCcm9rZXJGYWN0b3J5IHsKCiAgICBwcml2\nYXRlIGZpbmFsIEJyb2tlckZhY3RvcnkgX2ZhY3Rvcnk7CiAgICBwcml2YXRl\nIGZpbmFsIERlbGVnYXRpbmdCcm9rZXJGYWN0b3J5IF9kZWw7CiAgICBwcml2\nYXRlIGZpbmFsIFJ1bnRpbWVFeGNlcHRpb25UcmFuc2xhdG9yIF90cmFuczsK\nCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yOyBzdXBwbHkgZGVsZWdhdGUu\nCiAgICAgKi8KICAgIHB1YmxpYyBEZWxlZ2F0aW5nQnJva2VyRmFjdG9yeShC\ncm9rZXJGYWN0b3J5IGZhY3RvcnkpIHsKICAgICAgICB0aGlzKGZhY3Rvcnks\nIG51bGwpOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1\ncHBseSBkZWxlZ2F0ZSBhbmQgZXhjZXB0aW9uIHRyYW5zbGF0b3IuCiAgICAg\nKi8KICAgIHB1YmxpYyBEZWxlZ2F0aW5nQnJva2VyRmFjdG9yeShCcm9rZXJG\nYWN0b3J5IGZhY3RvcnksCiAgICAgICAgUnVudGltZUV4Y2VwdGlvblRyYW5z\nbGF0b3IgdHJhbnMpIHsKICAgICAgICBfZmFjdG9yeSA9IGZhY3Rvcnk7CiAg\nICAgICAgaWYgKGZhY3RvcnkgaW5zdGFuY2VvZiBEZWxlZ2F0aW5nQnJva2Vy\nRmFjdG9yeSkKICAgICAgICAgICAgX2RlbCA9IChEZWxlZ2F0aW5nQnJva2Vy\nRmFjdG9yeSkgZmFjdG9yeTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIF9k\nZWwgPSBudWxsOwogICAgICAgIF90cmFucyA9IHRyYW5zOwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIHRoZSBkaXJlY3QgZGVsZWdhdGUuCiAgICAg\nKi8KICAgIHB1YmxpYyBCcm9rZXJGYWN0b3J5IGdldERlbGVnYXRlKCkgewog\nICAgICAgIHJldHVybiBfZmFjdG9yeTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgbmF0aXZlIGRlbGVnYXRlLgogICAgICovCiAgICBwdWJs\naWMgQnJva2VyRmFjdG9yeSBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpIHsKICAg\nICAgICByZXR1cm4gKF9kZWwgPT0gbnVsbCkgPyBfZmFjdG9yeSA6IF9kZWwu\nZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKTsKICAgIH0KCiAgICBwdWJsaWMgaW50\nIGhhc2hDb2RlKCkgewogICAgICAgIHJldHVybiBnZXRJbm5lcm1vc3REZWxl\nZ2F0ZSgpLmhhc2hDb2RlKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4g\nZXF1YWxzKE9iamVjdCBvdGhlcikgewogICAgICAgIGlmIChvdGhlciA9PSB0\naGlzKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBpZiAob3Ro\nZXIgaW5zdGFuY2VvZiBEZWxlZ2F0aW5nQnJva2VyRmFjdG9yeSkKICAgICAg\nICAgICAgb3RoZXIgPSAoKERlbGVnYXRpbmdCcm9rZXJGYWN0b3J5KSBvdGhl\ncikuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKTsKICAgICAgICByZXR1cm4gZ2V0\nSW5uZXJtb3N0RGVsZWdhdGUoKS5lcXVhbHMob3RoZXIpOwogICAgfQoKICAg\nIC8qKgogICAgICogVHJhbnNsYXRlIHRoZSBPcGVuSlBBIGV4Y2VwdGlvbi4K\nICAgICAqLwogICAgcHJvdGVjdGVkIFJ1bnRpbWVFeGNlcHRpb24gdHJhbnNs\nYXRlKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICByZXR1cm4gKF90\ncmFucyA9PSBudWxsKSA/IHJlIDogX3RyYW5zLnRyYW5zbGF0ZShyZSk7CiAg\nICB9CgogICAgcHVibGljIE9wZW5KUEFDb25maWd1cmF0aW9uIGdldENvbmZp\nZ3VyYXRpb24oKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJu\nIF9mYWN0b3J5LmdldENvbmZpZ3VyYXRpb24oKTsKICAgICAgICB9IGNhdGNo\nIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRy\nYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBNYXA8\nU3RyaW5nLE9iamVjdD4gZ2V0UHJvcGVydGllcygpIHsKICAgICAgICB0cnkg\newogICAgICAgICAgICByZXR1cm4gX2ZhY3RvcnkuZ2V0UHJvcGVydGllcygp\nOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAg\nICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9\nCiAgICAKICAgIHB1YmxpYyBTZXQ8U3RyaW5nPiBnZXRTdXBwb3J0ZWRQcm9w\nZXJ0aWVzKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBf\nZmFjdG9yeS5nZXRTdXBwb3J0ZWRQcm9wZXJ0aWVzKCk7CiAgICAgICAgfSBj\nYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJv\ndyB0cmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMg\nT2JqZWN0IHB1dFVzZXJPYmplY3QoT2JqZWN0IGtleSwgT2JqZWN0IHZhbCkg\newogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBfZmFjdG9yeS5w\ndXRVc2VyT2JqZWN0KGtleSwgdmFsKTsKICAgICAgICB9IGNhdGNoIChSdW50\naW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0\nZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0\nVXNlck9iamVjdChPYmplY3Qga2V5KSB7CiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgcmV0dXJuIF9mYWN0b3J5LmdldFVzZXJPYmplY3Qoa2V5KTsKICAg\nICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAg\nICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyBCcm9rZXIgbmV3QnJva2VyKCkgewogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIHJldHVybiBfZmFjdG9yeS5uZXdCcm9rZXIoKTsKICAgICAg\nICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAg\nIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1\nYmxpYyBCcm9rZXIgbmV3QnJva2VyKFN0cmluZyB1c2VyLCBTdHJpbmcgcGFz\ncywgYm9vbGVhbiBtYW5hZ2VkLAogICAgICAgIGludCBjb25uUmV0YWluTW9k\nZSwgYm9vbGVhbiBmaW5kRXhpc3RpbmcpIHsKICAgICAgICB0cnkgewogICAg\nICAgICAgICByZXR1cm4gX2ZhY3RvcnkubmV3QnJva2VyKHVzZXIsIHBhc3Ms\nIG1hbmFnZWQsIGNvbm5SZXRhaW5Nb2RlLAogICAgICAgICAgICAgICAgZmlu\nZEV4aXN0aW5nKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9u\nIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAg\nICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFkZExpZmVjeWNsZUxpc3Rl\nbmVyKE9iamVjdCBsaXN0ZW5lciwgQ2xhc3NbXSBjbGFzc2VzKSB7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgX2ZhY3RvcnkuYWRkTGlmZWN5Y2xlTGlz\ndGVuZXIobGlzdGVuZXIsIGNsYXNzZXMpOwogICAgICAgIH0gY2F0Y2ggKFJ1\nbnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNs\nYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgcmVt\nb3ZlTGlmZWN5Y2xlTGlzdGVuZXIoT2JqZWN0IGxpc3RlbmVyKSB7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgX2ZhY3RvcnkucmVtb3ZlTGlmZWN5Y2xl\nTGlzdGVuZXIobGlzdGVuZXIpOwogICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVF\neGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhyb3cgdHJhbnNsYXRlKHJl\nKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgYWRkVHJhbnNh\nY3Rpb25MaXN0ZW5lcihPYmplY3QgbGlzdGVuZXIpIHsKICAgICAgICB0cnkg\newogICAgICAgICAgICBfZmFjdG9yeS5hZGRUcmFuc2FjdGlvbkxpc3RlbmVy\nKGxpc3RlbmVyKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9u\nIHJlKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAg\nICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlbW92ZVRyYW5zYWN0aW9u\nTGlzdGVuZXIoT2JqZWN0IGxpc3RlbmVyKSB7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgX2ZhY3RvcnkucmVtb3ZlVHJhbnNhY3Rpb25MaXN0ZW5lcihs\naXN0ZW5lcik7CiAgICAgICAgfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiBy\nZSkgewogICAgICAgICAgICB0aHJvdyB0cmFuc2xhdGUocmUpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbG9zZSgpIHsKICAgICAgICB0\ncnkgewogICAgICAgICAgICBfZmFjdG9yeS5jbG9zZSgpOwogICAgICAgIH0g\nY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsKICAgICAgICAgICAgdGhy\nb3cgdHJhbnNsYXRlKHJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGlj\nIGJvb2xlYW4gaXNDbG9zZWQoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg\nICAgcmV0dXJuIF9mYWN0b3J5LmlzQ2xvc2VkKCk7CiAgICAgICAgfSBjYXRj\naCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICB0aHJvdyB0\ncmFuc2xhdGUocmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBsb2NrKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9mYWN0b3J5\nLmxvY2soKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJl\nKSB7CiAgICAgICAgICAgIHRocm93IHRyYW5zbGF0ZShyZSk7CiAgICAgICAg\nfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHVubG9jaygpIHsKICAgICAgICB0\ncnkgewogICAgICAgICAgICBfZmFjdG9yeS51bmxvY2soKTsKICAgICAgICB9\nIGNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgIHRo\ncm93IHRyYW5zbGF0ZShyZSk7CgkJfQoJfQp9Cg==\n","encoding":"base64"}

