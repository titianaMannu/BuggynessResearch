{"sha":"c8cb329400c3c017a327da121265cbe4434b85fc","node_id":"MDQ6QmxvYjIwNjM2NDpjOGNiMzI5NDAwYzNjMDE3YTMyN2RhMTIxMjY1Y2JlNDQzNGI4NWZj","size":5824,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c8cb329400c3c017a327da121265cbe4434b85fc","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEudXRpbC5CaXRTZXQ7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnJvcC5SZXN1bHRPYmpl\nY3RQcm92aWRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNs\nYXNzTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5G\naWVsZE1ldGFEYXRhOwoKLyoqCiAqIEJhc2UgY2xhc3MgZm9yIHN0b3JlIG1h\nbmFnZXIgZGVjb3JhdG9ycyB0aGF0IGRlbGVnYXRlIHRvIGFub3RoZXIKICog\nc3RvcmUgbWFuYWdlciBmb3Igc29tZSBvcGVyYXRpb25zLgogKgogKiBAYXV0\naG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGFic3RyYWN0IGNsYXNzIERlbGVn\nYXRpbmdTdG9yZU1hbmFnZXIKICAgIGltcGxlbWVudHMgU3RvcmVNYW5hZ2Vy\nIHsKCiAgICBwcml2YXRlIGZpbmFsIFN0b3JlTWFuYWdlciBfc3RvcmU7CiAg\nICBwcml2YXRlIGZpbmFsIERlbGVnYXRpbmdTdG9yZU1hbmFnZXIgX2RlbDsK\nCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLiBTdXBwbHkgZGVsZWdhdGUu\nCiAgICAgKi8KICAgIHB1YmxpYyBEZWxlZ2F0aW5nU3RvcmVNYW5hZ2VyKFN0\nb3JlTWFuYWdlciBzdG9yZSkgewogICAgICAgIF9zdG9yZSA9IHN0b3JlOwog\nICAgICAgIGlmIChzdG9yZSBpbnN0YW5jZW9mIERlbGVnYXRpbmdTdG9yZU1h\nbmFnZXIpCiAgICAgICAgICAgIF9kZWwgPSAoRGVsZWdhdGluZ1N0b3JlTWFu\nYWdlcikgX3N0b3JlOwogICAgICAgIGVsc2UKICAgICAgICAgICAgX2RlbCA9\nIG51bGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHdyYXBw\nZWQgc3RvcmUgbWFuYWdlci4KICAgICAqLwogICAgcHVibGljIFN0b3JlTWFu\nYWdlciBnZXREZWxlZ2F0ZSgpIHsKICAgICAgICByZXR1cm4gX3N0b3JlOwog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBiYXNlIHVuZGVybHlp\nbmcgbmF0aXZlIHN0b3JlIG1hbmFnZXIuCiAgICAgKi8KICAgIHB1YmxpYyBT\ndG9yZU1hbmFnZXIgZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKSB7CiAgICAgICAg\ncmV0dXJuIChfZGVsID09IG51bGwpID8gX3N0b3JlIDogX2RlbC5nZXRJbm5l\ncm1vc3REZWxlZ2F0ZSgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgaGFzaENv\nZGUoKSB7CiAgICAgICAgcmV0dXJuIGdldElubmVybW9zdERlbGVnYXRlKCku\naGFzaENvZGUoKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVhbHMo\nT2JqZWN0IG90aGVyKSB7CiAgICAgICAgaWYgKG90aGVyID09IHRoaXMpCiAg\nICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIGlmIChvdGhlciBpbnN0\nYW5jZW9mIERlbGVnYXRpbmdTdG9yZU1hbmFnZXIpCiAgICAgICAgICAgIG90\naGVyID0gKChEZWxlZ2F0aW5nU3RvcmVNYW5hZ2VyKSBvdGhlcikuZ2V0SW5u\nZXJtb3N0RGVsZWdhdGUoKTsKICAgICAgICByZXR1cm4gZ2V0SW5uZXJtb3N0\nRGVsZWdhdGUoKS5lcXVhbHMob3RoZXIpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldENvbnRleHQoU3RvcmVDb250ZXh0IGN0eCkgewogICAgICAgIF9z\ndG9yZS5zZXRDb250ZXh0KGN0eCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nYmVnaW5PcHRpbWlzdGljKCkgewogICAgICAgIF9zdG9yZS5iZWdpbk9wdGlt\naXN0aWMoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByb2xsYmFja09wdGlt\naXN0aWMoKSB7CiAgICAgICAgX3N0b3JlLnJvbGxiYWNrT3B0aW1pc3RpYygp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGJlZ2luKCkgewogICAgICAgIF9z\ndG9yZS5iZWdpbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNvbW1pdCgp\nIHsKICAgICAgICBfc3RvcmUuY29tbWl0KCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgcm9sbGJhY2soKSB7CiAgICAgICAgX3N0b3JlLnJvbGxiYWNrKCk7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZXhpc3RzKE9wZW5KUEFTdGF0\nZU1hbmFnZXIgc20sIE9iamVjdCBjb250ZXh0KSB7CiAgICAgICAgcmV0dXJu\nIF9zdG9yZS5leGlzdHMoc20sIGNvbnRleHQpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIHN5bmNWZXJzaW9uKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20s\nIE9iamVjdCBjb250ZXh0KSB7CiAgICAgICAgcmV0dXJuIF9zdG9yZS5zeW5j\nVmVyc2lvbihzbSwgY29udGV4dCk7CiAgICB9CgogICAgcHVibGljIGJvb2xl\nYW4gaW5pdGlhbGl6ZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBQQ1N0YXRl\nIHN0YXRlLAogICAgICAgIEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCwgT2Jq\nZWN0IGNvbnRleHQpIHsKICAgICAgICByZXR1cm4gX3N0b3JlLmluaXRpYWxp\nemUoc20sIHN0YXRlLCBmZXRjaCwgY29udGV4dCk7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gbG9hZChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBCaXRT\nZXQgZmllbGRzLAogICAgICAgIEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCwg\naW50IGxvY2tMZXZlbCwgT2JqZWN0IGNvbnRleHQpIHsKICAgICAgICByZXR1\ncm4gX3N0b3JlLmxvYWQoc20sIGZpZWxkcywgZmV0Y2gsIGxvY2tMZXZlbCwg\nY29udGV4dCk7CiAgICB9CgogICAgcHVibGljIENvbGxlY3Rpb248T2JqZWN0\nPiBsb2FkQWxsKENvbGxlY3Rpb248T3BlbkpQQVN0YXRlTWFuYWdlcj4gc21z\nLCBQQ1N0YXRlIHN0YXRlLCBpbnQgbG9hZCwKICAgICAgICBGZXRjaENvbmZp\nZ3VyYXRpb24gZmV0Y2gsIE9iamVjdCBjb250ZXh0KSB7CiAgICAgICAgcmV0\ndXJuIF9zdG9yZS5sb2FkQWxsKHNtcywgc3RhdGUsIGxvYWQsIGZldGNoLCBj\nb250ZXh0KTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBiZWZvcmVTdGF0ZUNo\nYW5nZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBQQ1N0YXRlIGZyb21TdGF0\nZSwKICAgICAgICBQQ1N0YXRlIHRvU3RhdGUpIHsKICAgICAgICBfc3RvcmUu\nYmVmb3JlU3RhdGVDaGFuZ2Uoc20sIGZyb21TdGF0ZSwgdG9TdGF0ZSk7CiAg\nICB9CgogICAgcHVibGljIENvbGxlY3Rpb248RXhjZXB0aW9uPiBmbHVzaChD\nb2xsZWN0aW9uPE9wZW5KUEFTdGF0ZU1hbmFnZXI+IHNtcykgewogICAgICAg\nIHJldHVybiBfc3RvcmUuZmx1c2goc21zKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBhc3NpZ25PYmplY3RJZChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNt\nLCBib29sZWFuIHByZUZsdXNoKSB7CiAgICAgICAgcmV0dXJuIF9zdG9yZS5h\nc3NpZ25PYmplY3RJZChzbSwgcHJlRmx1c2gpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGFzc2lnbkZpZWxkKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20s\nIGludCBmaWVsZCwKICAgICAgICBib29sZWFuIHByZUZsdXNoKSB7CiAgICAg\nICAgcmV0dXJuIF9zdG9yZS5hc3NpZ25GaWVsZChzbSwgZmllbGQsIHByZUZs\ndXNoKTsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3M8Pz4gZ2V0TWFuYWdlZFR5\ncGUoT2JqZWN0IG9pZCkgewogICAgICAgIHJldHVybiBfc3RvcmUuZ2V0TWFu\nYWdlZFR5cGUob2lkKTsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3M8Pz4gZ2V0\nRGF0YVN0b3JlSWRUeXBlKENsYXNzTWV0YURhdGEgbWV0YSkgewogICAgICAg\nIHJldHVybiBfc3RvcmUuZ2V0RGF0YVN0b3JlSWRUeXBlKG1ldGEpOwogICAg\nfQoKICAgIHB1YmxpYyBPYmplY3QgY29weURhdGFTdG9yZUlkKE9iamVjdCBv\naWQsIENsYXNzTWV0YURhdGEgbWV0YSkgewogICAgICAgIHJldHVybiBfc3Rv\ncmUuY29weURhdGFTdG9yZUlkKG9pZCwgbWV0YSk7CiAgICB9CgogICAgcHVi\nbGljIE9iamVjdCBuZXdEYXRhU3RvcmVJZChPYmplY3Qgb2lkVmFsLCBDbGFz\nc01ldGFEYXRhIG1ldGEpIHsKICAgICAgICByZXR1cm4gX3N0b3JlLm5ld0Rh\ndGFTdG9yZUlkKG9pZFZhbCwgbWV0YSk7CiAgICB9CgogICAgcHVibGljIE9i\namVjdCBnZXRDbGllbnRDb25uZWN0aW9uKCkgewogICAgICAgIHJldHVybiBf\nc3RvcmUuZ2V0Q2xpZW50Q29ubmVjdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHJldGFpbkNvbm5lY3Rpb24oKSB7CiAgICAgICAgX3N0b3JlLnJl\ndGFpbkNvbm5lY3Rpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZWxl\nYXNlQ29ubmVjdGlvbigpIHsKICAgICAgICBfc3RvcmUucmVsZWFzZUNvbm5l\nY3Rpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgUmVzdWx0T2JqZWN0UHJvdmlk\nZXIgZXhlY3V0ZUV4dGVudChDbGFzc01ldGFEYXRhIG1ldGEsCiAgICAgICAg\nYm9vbGVhbiBzdWJjbGFzc2VzLCBGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gp\nIHsKICAgICAgICByZXR1cm4gX3N0b3JlLmV4ZWN1dGVFeHRlbnQobWV0YSwg\nc3ViY2xhc3NlcywgZmV0Y2gpOwogICAgfQoKICAgIHB1YmxpYyBTdG9yZVF1\nZXJ5IG5ld1F1ZXJ5KFN0cmluZyBsYW5ndWFnZSkgewogICAgICAgIHJldHVy\nbiBfc3RvcmUubmV3UXVlcnkobGFuZ3VhZ2UpOwogICAgfQoKICAgIHB1Ymxp\nYyBGZXRjaENvbmZpZ3VyYXRpb24gbmV3RmV0Y2hDb25maWd1cmF0aW9uKCkg\newogICAgICAgIHJldHVybiBfc3RvcmUubmV3RmV0Y2hDb25maWd1cmF0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgY2xvc2UoKSB7CiAgICAgICAg\nX3N0b3JlLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIGludCBjb21wYXJl\nVmVyc2lvbihPcGVuSlBBU3RhdGVNYW5hZ2VyIHN0YXRlLCBPYmplY3QgdjEs\nIE9iamVjdCB2MikgewogICAgICAgIHJldHVybiBfc3RvcmUuY29tcGFyZVZl\ncnNpb24oc3RhdGUsIHYxLCB2Mik7CiAgICB9CgogICAgcHVibGljIFNlcSBn\nZXREYXRhU3RvcmVJZFNlcXVlbmNlKENsYXNzTWV0YURhdGEgZm9yQ2xhc3Mp\nIHsKICAgICAgICByZXR1cm4gX3N0b3JlLmdldERhdGFTdG9yZUlkU2VxdWVu\nY2UoZm9yQ2xhc3MpOwogICAgfQoKICAgIHB1YmxpYyBTZXEgZ2V0VmFsdWVT\nZXF1ZW5jZShGaWVsZE1ldGFEYXRhIGZtZCkgewogICAgICAgIHJldHVybiBf\nc3RvcmUuZ2V0VmFsdWVTZXF1ZW5jZShmbWQpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGNhbmNlbEFsbCgpIHsKICAgICAgICByZXR1cm4gX3N0b3Jl\nLmNhbmNlbEFsbCgpOwoJfQp9Cg==\n","encoding":"base64"}

