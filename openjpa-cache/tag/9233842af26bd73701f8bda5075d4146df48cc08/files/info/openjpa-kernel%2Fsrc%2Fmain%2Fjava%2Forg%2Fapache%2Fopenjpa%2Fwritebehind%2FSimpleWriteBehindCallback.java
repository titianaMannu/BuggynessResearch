{"sha":"e7ad5fcbe34056ef128bb4860c6fe468ee526169","node_id":"MDQ6QmxvYjIwNjM2NDplN2FkNWZjYmUzNDA1NmVmMTI4YmI0ODYwYzZmZTQ2OGVlNTI2MTY5","size":3180,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e7ad5fcbe34056ef128bb4860c6fe468ee526169","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEud3JpdGViZWhpbmQ7CgppbXBv\ncnQgamF2YS51dGlsLkNvbGxlY3Rpb247CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5Ccm9rZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEua2VybmVsLk9wZW5KUEFTdGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLlN0YXRlTWFuYWdlckltcGw7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0b3JlTWFuYWdlcjsKCnB1Ymxp\nYyBjbGFzcyBTaW1wbGVXcml0ZUJlaGluZENhbGxiYWNrIGV4dGVuZHMgQWJz\ndHJhY3RXcml0ZUJlaGluZENhbGxiYWNrIHsKCiAgICBwcml2YXRlIGludCBf\nc2xlZXBUaW1lID0gMjAwMDsKICAgIHByaXZhdGUgYm9vbGVhbiBkb25lID0g\nZmFsc2U7CgogICAgcHJpdmF0ZSBXcml0ZUJlaGluZENhY2hlIF9jYWNoZSA9\nIG51bGw7CiAgICBwcml2YXRlIEJyb2tlciBfYnJva2VyOwoKICAgIHB1Ymxp\nYyB2b2lkIGluaXRpYWxpemUoQnJva2VyIGJyb2tlciwgV3JpdGVCZWhpbmRD\nYWNoZSBjYWNoZSkgewogICAgICAgIF9jYWNoZSA9IGNhY2hlOwogICAgICAg\nIF9icm9rZXIgPSBicm9rZXI7CiAgICB9CgogICAgcHVibGljIENvbGxlY3Rp\nb248RXhjZXB0aW9uPiBmbHVzaCgpIHsKICAgICAgICBDb2xsZWN0aW9uPEV4\nY2VwdGlvbj4gZXJyb3JzID0gbnVsbDsKICAgICAgICAvLyBza2lwIHBhc3Qg\nYW55IGRlbGVnYXRpbmcgc3RvcmUgbWFuYWdlcnMuCiAgICAgICAgU3RvcmVN\nYW5hZ2VyIHN0b3JlTWFuYWdlciA9CiAgICAgICAgICAgIF9icm9rZXIuZ2V0\nU3RvcmVNYW5hZ2VyKCkuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKTsKICAgICAg\nICBDb2xsZWN0aW9uPE9wZW5KUEFTdGF0ZU1hbmFnZXI+IHNtcyA9IG51bGw7\nCiAgICAgICAgaWYgKF9jYWNoZSAhPSBudWxsICYmICFfY2FjaGUuaXNFbXB0\neSgpKSB7CiAgICAgICAgICAgIC8vIFRPRE8gbG9jayBvciBzd2l0Y2ggdGhl\nIGNhY2hlCiAgICAgICAgICAgIHNtcyA9IF9jYWNoZS5nZXRTdGF0ZU1hbmFn\nZXJzKCk7CiAgICAgICAgICAgIF9jYWNoZS5jbGVhcigpOwogICAgICAgIH0K\nICAgICAgICBpZiAoc21zICE9IG51bGwgJiYgIXNtcy5pc0VtcHR5KCkpIHsK\nICAgICAgICAgICAgc3RvcmVNYW5hZ2VyLnJldGFpbkNvbm5lY3Rpb24oKTsK\nICAgICAgICAgICAgc3RvcmVNYW5hZ2VyLmJlZ2luKCk7CiAgICAgICAgICAg\nIGVycm9ycyA9IHN0b3JlTWFuYWdlci5mbHVzaChzbXMpOwogICAgICAgICAg\nICBpZihlcnJvcnMgIT0gbnVsbCAmJiAhZXJyb3JzLmlzRW1wdHkoKSApIHsK\nICAgICAgICAgICAgICAgIGZvcihFeGNlcHRpb24gZSA6IGVycm9ycykgewog\nICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gYWRkIGVycm9yIGhhbmRsaW5n\nLgogICAgICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3Rv\ncmVNYW5hZ2VyLmNvbW1pdCgpOwogICAgICAgICAgICBzdG9yZU1hbmFnZXIu\ncmVsZWFzZUNvbm5lY3Rpb24oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJu\nIGVycm9yczsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBydW4oKSB7CiAgICAg\nICAgd2hpbGUgKCFkb25lKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAg\nICAgICAgICBUaHJlYWQuc2xlZXAoX3NsZWVwVGltZSk7CiAgICAgICAgICAg\nICAgICBoYW5kbGVFeGNlcHRpb25zKGZsdXNoKCkpOwogICAgICAgICAgICB9\nIGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAg\nICAgICAvLyBpZ25vcmUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBoYW5kbGVFeGNlcHRpb25zKENvbGxlY3Rpb248\nRXhjZXB0aW9uPiBleGNlcHRpb25zKSB7CiAgICAgICAgaWYgKGV4Y2VwdGlv\nbnMgIT0gbnVsbCAmJiAhZXhjZXB0aW9ucy5pc0VtcHR5KCkpIHsKICAgICAg\nICAgICAgZG9uZSA9IHRydWU7CiAgICAgICAgICAgIGZvciAoRXhjZXB0aW9u\nIGUgOiBleGNlcHRpb25zKSB7CiAgICAgICAgICAgICAgICBlLnByaW50U3Rh\nY2tUcmFjZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIGNsb3NlKCkgewogICAgICAgIGRvbmUgPSB0cnVlOwog\nICAgICAgIGZsdXNoKCk7CiAgICAgICAgX2Jyb2tlci5jbG9zZSgpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgaW50IGdldFNsZWVwVGltZSgpIHsgCiAgICAg\nICAgcmV0dXJuIF9zbGVlcFRpbWU7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHNldFNsZWVwVGltZShpbnQgc2xlZXBUaW1lKSB7IAogICAgICAgIF9z\nbGVlcFRpbWUgPSBzbGVlcFRpbWU7CiAgICB9Cn0K\n","encoding":"base64"}

