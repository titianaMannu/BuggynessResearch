{"sha":"ad95cbc00cbbd5f7a267032766dd4b92ac9c65a3","node_id":"MDQ6QmxvYjIwNjM2NDphZDk1Y2JjMDBjYmJkNWY3YTI2NzAzMjc2NmRkNGI5MmFjOWM2NWEz","size":23606,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ad95cbc00cbbd5f7a267032766dd4b92ac9c65a3","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmpkYmM7CgppbXBvcnQg\namF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUmVhZGVyOwpp\nbXBvcnQgamF2YS5sYW5nLnJlZmxlY3QuQ29uc3RydWN0b3I7CmltcG9ydCBq\nYXZhLm1hdGguQmlnRGVjaW1hbDsKaW1wb3J0IGphdmEubmV0LlVSTDsKaW1w\nb3J0IGphdmEuc3FsLkFycmF5OwppbXBvcnQgamF2YS5zcWwuQmxvYjsKaW1w\nb3J0IGphdmEuc3FsLkNhbGxhYmxlU3RhdGVtZW50OwppbXBvcnQgamF2YS5z\ncWwuQ2xvYjsKaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247CmltcG9ydCBq\nYXZhLnNxbC5EYXRlOwppbXBvcnQgamF2YS5zcWwuUGFyYW1ldGVyTWV0YURh\ndGE7CmltcG9ydCBqYXZhLnNxbC5SZWY7CmltcG9ydCBqYXZhLnNxbC5SZXN1\nbHRTZXQ7CmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXRNZXRhRGF0YTsKaW1w\nb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsKaW1wb3J0IGphdmEuc3FsLlNR\nTFdhcm5pbmc7CmltcG9ydCBqYXZhLnNxbC5UaW1lOwppbXBvcnQgamF2YS5z\ncWwuVGltZXN0YW1wOwppbXBvcnQgamF2YS51dGlsLkNhbGVuZGFyOwppbXBv\ncnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLnV0aWwuQ2xvc2VhYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmxpYi51dGlsLkNvbmNyZXRlQ2xhc3NHZW5lcmF0b3I7CgovKioKICoge0Bs\naW5rIENhbGxhYmxlU3RhdGVtZW50fSB0aGF0IGRlbGVnYXRlcyB0byBhbiBp\nbnRlcm5hbCBzdGF0ZW1lbnQuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAq\nLwpwdWJsaWMgYWJzdHJhY3QgY2xhc3MgRGVsZWdhdGluZ0NhbGxhYmxlU3Rh\ndGVtZW50CiAgICBpbXBsZW1lbnRzIENhbGxhYmxlU3RhdGVtZW50LCBDbG9z\nZWFibGUgewoKICAgIHN0YXRpYyBmaW5hbCBDb25zdHJ1Y3RvcjxEZWxlZ2F0\naW5nQ2FsbGFibGVTdGF0ZW1lbnQ+IGNvbmNyZXRlSW1wbDsKCiAgICBzdGF0\naWMgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbmNyZXRlSW1wbCA9\nIENvbmNyZXRlQ2xhc3NHZW5lcmF0b3IuZ2V0Q29uY3JldGVDb25zdHJ1Y3Rv\ncihEZWxlZ2F0aW5nQ2FsbGFibGVTdGF0ZW1lbnQuY2xhc3MsIAogICAgICAg\nICAgICAgICAgQ2FsbGFibGVTdGF0ZW1lbnQuY2xhc3MsIENvbm5lY3Rpb24u\nY2xhc3MpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAg\nICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25JbkluaXRpYWxpemVyRXJyb3Io\nZSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgZmluYWwgQ2FsbGFi\nbGVTdGF0ZW1lbnQgX3N0bW50OwogICAgcHJpdmF0ZSBmaW5hbCBEZWxlZ2F0\naW5nQ2FsbGFibGVTdGF0ZW1lbnQgX2RlbDsKICAgIHByaXZhdGUgZmluYWwg\nQ29ubmVjdGlvbiBfY29ubjsKCiAgICBwdWJsaWMgRGVsZWdhdGluZ0NhbGxh\nYmxlU3RhdGVtZW50KENhbGxhYmxlU3RhdGVtZW50IHN0bW50LAogICAgICAg\nIENvbm5lY3Rpb24gY29ubikgewogICAgICAgIF9jb25uID0gY29ubjsKICAg\nICAgICBfc3RtbnQgPSBzdG1udDsKICAgICAgICBpZiAoX3N0bW50IGluc3Rh\nbmNlb2YgRGVsZWdhdGluZ0NhbGxhYmxlU3RhdGVtZW50KQogICAgICAgICAg\nICBfZGVsID0gKERlbGVnYXRpbmdDYWxsYWJsZVN0YXRlbWVudCkgX3N0bW50\nOwogICAgICAgIGVsc2UKICAgICAgICAgICAgX2RlbCA9IG51bGw7CiAgICB9\nCgogICAgLyoqIAogICAgICogIENvbnN0cnVjdG9yIGZvciB0aGUgY29uY3Jl\ndGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBhYnN0cmFjdCBjbGFzcy4KICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBEZWxlZ2F0aW5nQ2FsbGFibGVTdGF0\nZW1lbnQgbmV3SW5zdGFuY2UoQ2FsbGFibGVTdGF0ZW1lbnQgc3RtbnQsIENv\nbm5lY3Rpb24gY29ubikgewogICAgICAgIHJldHVybiBDb25jcmV0ZUNsYXNz\nR2VuZXJhdG9yLm5ld0luc3RhbmNlKGNvbmNyZXRlSW1wbCwgc3RtbnQsIGNv\nbm4pOwogICAgfQoKICAgIHByb3RlY3RlZCBSZXN1bHRTZXQgd3JhcFJlc3Vs\ndChib29sZWFuIHdyYXAsIFJlc3VsdFNldCBycykgewogICAgICAgIGlmICgh\nd3JhcCkKICAgICAgICAgICAgcmV0dXJuIHJzOwoKICAgICAgICAvLyBuZXZl\nciB3cmFwIG51bGwKICAgICAgICBpZiAocnMgPT0gbnVsbCkKICAgICAgICAg\nICAgcmV0dXJuIG51bGw7CgogICAgICAgIHJldHVybiBEZWxlZ2F0aW5nUmVz\ndWx0U2V0Lm5ld0luc3RhbmNlKHJzLCB0aGlzKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiB0aGUgd3JhcHBlZCBzdGF0ZW1lbnQuCiAgICAgKi8K\nICAgIHB1YmxpYyBDYWxsYWJsZVN0YXRlbWVudCBnZXREZWxlZ2F0ZSgpIHsK\nICAgICAgICByZXR1cm4gX3N0bW50OwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIHRoZSBiYXNlIHVuZGVybHlpbmcgZGF0YSBzdG9yZSBzdGF0ZW1l\nbnQuCiAgICAgKi8KICAgIHB1YmxpYyBDYWxsYWJsZVN0YXRlbWVudCBnZXRJ\nbm5lcm1vc3REZWxlZ2F0ZSgpIHsKICAgICAgICByZXR1cm4gKF9kZWwgPT0g\nbnVsbCkgPyBfc3RtbnQgOiBfZGVsLmdldElubmVybW9zdERlbGVnYXRlKCk7\nCiAgICB9CgogICAgcHVibGljIGludCBoYXNoQ29kZSgpIHsKICAgICAgICBy\nZXR1cm4gZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKS5oYXNoQ29kZSgpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3Qgb3RoZXIpIHsK\nICAgICAgICBpZiAob3RoZXIgPT0gdGhpcykKICAgICAgICAgICAgcmV0dXJu\nIHRydWU7CiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgRGVsZWdhdGlu\nZ0NhbGxhYmxlU3RhdGVtZW50KQogICAgICAgICAgICBvdGhlciA9ICgoRGVs\nZWdhdGluZ0NhbGxhYmxlU3RhdGVtZW50KSBvdGhlcikuCiAgICAgICAgICAg\nICAgICBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpOwogICAgICAgIHJldHVybiBn\nZXRJbm5lcm1vc3REZWxlZ2F0ZSgpLmVxdWFscyhvdGhlcik7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICBTdHJpbmdC\ndWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigiY2FsbHN0bW50ICIpLmFw\ncGVuZChoYXNoQ29kZSgpKTsKICAgICAgICBhcHBlbmRJbmZvKGJ1Zik7CiAg\nICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAgfQoKICAgIHByb3Rl\nY3RlZCB2b2lkIGFwcGVuZEluZm8oU3RyaW5nQnVmZmVyIGJ1ZikgewogICAg\nICAgIGlmIChfZGVsICE9IG51bGwpCiAgICAgICAgICAgIF9kZWwuYXBwZW5k\nSW5mbyhidWYpOwogICAgfQoKICAgIHB1YmxpYyBSZXN1bHRTZXQgZXhlY3V0\nZVF1ZXJ5KFN0cmluZyBzdHIpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBleGVjdXRlUXVlcnkodHJ1ZSk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBFeGVjdXRlIHRoZSBxdWVyeSwgd2l0aCB0aGUgb3B0aW9uIG9m\nIG5vdCB3cmFwcGluZyBpdCBpbiBhCiAgICAgKiB7QGxpbmsgRGVsZWdhdGlu\nZ1Jlc3VsdFNldH0sIHdoaWNoIGlzIHRoZSBkZWZhdWx0LgogICAgICovCiAg\nICBwcm90ZWN0ZWQgUmVzdWx0U2V0IGV4ZWN1dGVRdWVyeShTdHJpbmcgc3Fs\nLCBib29sZWFuIHdyYXApCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgUmVzdWx0U2V0IHJzOwogICAgICAgIGlmIChfZGVsICE9IG51\nbGwpCiAgICAgICAgICAgIHJzID0gX2RlbC5leGVjdXRlUXVlcnkoc3FsLCBm\nYWxzZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBycyA9IF9zdG1udC5l\neGVjdXRlUXVlcnkoc3FsKTsKCiAgICAgICAgcmV0dXJuIHdyYXBSZXN1bHQo\nd3JhcCwgcnMpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZXhlY3V0ZVVwZGF0\nZShTdHJpbmcgc3RyKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gX3N0bW50LmV4ZWN1dGVVcGRhdGUoc3RyKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBleGVjdXRlKFN0cmluZyBzdHIpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQuZXhlY3V0ZShzdHIp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgX3N0bW50LmNsb3NlKCk7CiAgICB9CgogICAg\ncHVibGljIGludCBnZXRNYXhGaWVsZFNpemUoKSB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX3N0bW50LmdldE1heEZpZWxkU2l6ZSgp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1heEZpZWxkU2l6ZShpbnQg\naSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldE1h\neEZpZWxkU2l6ZShpKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldE1heFJv\nd3MoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0\nbW50LmdldE1heFJvd3MoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRN\nYXhSb3dzKGludCBpKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBf\nc3RtbnQuc2V0TWF4Um93cyhpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRFc2NhcGVQcm9jZXNzaW5nKGJvb2xlYW4gYm9vbCkgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldEVzY2FwZVByb2Nlc3Npbmco\nYm9vbCk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRRdWVyeVRpbWVvdXQo\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0bW50\nLmdldFF1ZXJ5VGltZW91dCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFF1ZXJ5VGltZW91dChpbnQgaSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgX3N0bW50LnNldFF1ZXJ5VGltZW91dChpKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBjYW5jZWwoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICBfc3RtbnQuY2FuY2VsKCk7CiAgICB9CgogICAgcHVibGljIFNRTFdh\ncm5pbmcgZ2V0V2FybmluZ3MoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3N0bW50LmdldFdhcm5pbmdzKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgY2xlYXJXYXJuaW5ncygpIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIF9zdG1udC5jbGVhcldhcm5pbmdzKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0Q3Vyc29yTmFtZShTdHJpbmcgc3RyKSB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0Q3Vyc29yTmFt\nZShzdHIpOwogICAgfQoKICAgIHB1YmxpYyBSZXN1bHRTZXQgZ2V0UmVzdWx0\nU2V0KCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIGdl\ndFJlc3VsdFNldCh0cnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0\naGUgbGFzdCByZXN1bHQgc2V0LCB3aXRoIHRoZSBvcHRpb24gb2Ygbm90IHdy\nYXBwaW5nIGl0IGluIGEKICAgICAqIHtAbGluayBEZWxlZ2F0aW5nUmVzdWx0\nU2V0fSwgd2hpY2ggaXMgdGhlIGRlZmF1bHQuCiAgICAgKi8KICAgIHByb3Rl\nY3RlZCBSZXN1bHRTZXQgZ2V0UmVzdWx0U2V0KGJvb2xlYW4gd3JhcCkgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgUmVzdWx0U2V0IHJzOwogICAg\nICAgIGlmIChfZGVsICE9IG51bGwpCiAgICAgICAgICAgIHJzID0gX2RlbC5n\nZXRSZXN1bHRTZXQoZmFsc2UpOwogICAgICAgIGVsc2UKICAgICAgICAgICAg\ncnMgPSBfc3RtbnQuZ2V0UmVzdWx0U2V0KCk7CgogICAgICAgIHJldHVybiB3\ncmFwUmVzdWx0KHdyYXAsIHJzKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdl\ndFVwZGF0ZUNvdW50KCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIF9zdG1udC5nZXRVcGRhdGVDb3VudCgpOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGdldE1vcmVSZXN1bHRzKCkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRNb3JlUmVzdWx0cygp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZldGNoRGlyZWN0aW9uKGlu\ndCBpKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0\nRmV0Y2hEaXJlY3Rpb24oaSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRG\nZXRjaERpcmVjdGlvbigpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBfc3RtbnQuZ2V0RmV0Y2hEaXJlY3Rpb24oKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRGZXRjaFNpemUoaW50IGkpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRGZXRjaFNpemUoaSk7CiAg\nICB9CgogICAgcHVibGljIGludCBnZXRGZXRjaFNpemUoKSB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0bW50LmdldEZldGNoU2l6\nZSgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0UmVzdWx0U2V0Q29uY3Vy\ncmVuY3koKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nX3N0bW50LmdldFJlc3VsdFNldENvbmN1cnJlbmN5KCk7CiAgICB9CgogICAg\ncHVibGljIGludCBnZXRSZXN1bHRTZXRUeXBlKCkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRSZXN1bHRTZXRUeXBl\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgYWRkQmF0Y2goU3RyaW5nIHN0\ncikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LmFkZEJh\ndGNoKHN0cik7CiAgICB9CgogICAgcHVibGljIHZvaWQgY2xlYXJCYXRjaCgp\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5jbGVhckJh\ndGNoKCk7CiAgICB9CgogICAgcHVibGljIGludFtdIGV4ZWN1dGVCYXRjaCgp\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQu\nZXhlY3V0ZUJhdGNoKCk7CiAgICB9CgogICAgcHVibGljIENvbm5lY3Rpb24g\nZ2V0Q29ubmVjdGlvbigpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBfY29ubjsKICAgIH0KCiAgICBwdWJsaWMgUmVzdWx0U2V0IGV4\nZWN1dGVRdWVyeSgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBleGVjdXRlUXVlcnkodHJ1ZSk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBFeGVjdXRlIHRoZSBxdWVyeSwgd2l0aCB0aGUgb3B0aW9uIG9mIG5vdCB3\ncmFwcGluZyBpdCBpbiBhCiAgICAgKiB7QGxpbmsgRGVsZWdhdGluZ1Jlc3Vs\ndFNldH0sIHdoaWNoIGlzIHRoZSBkZWZhdWx0LgogICAgICovCiAgICBwcm90\nZWN0ZWQgUmVzdWx0U2V0IGV4ZWN1dGVRdWVyeShib29sZWFuIHdyYXApIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIFJlc3VsdFNldCByczsKICAg\nICAgICBpZiAoX2RlbCAhPSBudWxsKQogICAgICAgICAgICBycyA9IF9kZWwu\nZXhlY3V0ZVF1ZXJ5KGZhbHNlKTsKICAgICAgICBlbHNlCiAgICAgICAgICAg\nIHJzID0gX3N0bW50LmV4ZWN1dGVRdWVyeSgpOwoKICAgICAgICByZXR1cm4g\nd3JhcFJlc3VsdCh3cmFwLCBycyk7CiAgICB9CgogICAgcHVibGljIGludCBl\neGVjdXRlVXBkYXRlKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIF9zdG1udC5leGVjdXRlVXBkYXRlKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0TnVsbChpbnQgaTEsIGludCBpMikgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldE51bGwoaTEsIGkyKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRCb29sZWFuKGludCBpLCBib29sZWFu\nIGIpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRC\nb29sZWFuKGksIGIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEJ5dGUo\naW50IGksIGJ5dGUgYikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\nX3N0bW50LnNldEJ5dGUoaSwgYik7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0U2hvcnQoaW50IGksIHNob3J0IHMpIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIF9zdG1udC5zZXRTaG9ydChpLCBzKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRJbnQoaW50IGkxLCBpbnQgaTIpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRJbnQoaTEsIGkyKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRMb25nKGludCBpLCBsb25nIGwpIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRMb25nKGks\nIGwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZsb2F0KGludCBpLCBm\nbG9hdCBmKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQu\nc2V0RmxvYXQoaSwgZik7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RG91\nYmxlKGludCBpLCBkb3VibGUgZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgX3N0bW50LnNldERvdWJsZShpLCBkKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRCaWdEZWNpbWFsKGludCBpLCBCaWdEZWNpbWFsIGJkKSB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0QmlnRGVj\naW1hbChpLCBiZCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U3RyaW5n\nKGludCBpLCBTdHJpbmcgcykgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgX3N0bW50LnNldFN0cmluZyhpLCBzKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRCeXRlcyhpbnQgaSwgYnl0ZVtdIGIpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIF9zdG1udC5zZXRCeXRlcyhpLCBiKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXREYXRlKGludCBpLCBEYXRlIGQpIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXREYXRlKGksIGQp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRpbWUoaW50IGksIFRpbWUg\ndCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldFRp\nbWUoaSwgdCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VGltZXN0YW1w\nKGludCBpLCBUaW1lc3RhbXAgdCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgX3N0bW50LnNldFRpbWVzdGFtcChpLCB0KTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRBc2NpaVN0cmVhbShpbnQgaTEsIElucHV0U3RyZWFt\nIGlzLCBpbnQgaTIpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgX3N0bW50LnNldEFzY2lpU3RyZWFtKGkxLCBpcywgaTIpOwogICAg\nfQoKICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQgCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIHNldFVuaWNvZGVTdHJlYW0oaW50IGkxLCBJbnB1dFN0cmVh\nbSBpcywgaW50IGkyKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIF9zdG1udC5zZXRVbmljb2RlU3RyZWFtKGkxLCBpcywgaTIpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEJpbmFyeVN0cmVhbShpbnQgaTEs\nIElucHV0U3RyZWFtIGlzLCBpbnQgaTIpCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldEJpbmFyeVN0cmVhbShpMSwg\naXMsIGkyKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbGVhclBhcmFtZXRl\ncnMoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuY2xl\nYXJQYXJhbWV0ZXJzKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0T2Jq\nZWN0KGludCBpMSwgT2JqZWN0IG8sIGludCBpMiwgaW50IGkzKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRPYmpl\nY3QoaTEsIG8sIGkyLCBpMyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nT2JqZWN0KGludCBpMSwgT2JqZWN0IG8sIGludCBpMikgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldE9iamVjdChpMSwgbywgaTIp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9iamVjdChpbnQgaSwgT2Jq\nZWN0IG8pIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5z\nZXRPYmplY3QoaSwgbyk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZXhl\nY3V0ZSgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBf\nc3RtbnQuZXhlY3V0ZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFkZEJh\ndGNoKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LmFk\nZEJhdGNoKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q2hhcmFjdGVy\nU3RyZWFtKGludCBpMSwgUmVhZGVyIHIsIGludCBpMikKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0Q2hhcmFjdGVy\nU3RyZWFtKGkxLCByLCBpMik7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nUmVmKGludCBpLCBSZWYgcikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgX3N0bW50LnNldFJlZihpLCByKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRCbG9iKGludCBpLCBCbG9iIGIpIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIF9zdG1udC5zZXRCbG9iKGksIGIpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldENsb2IoaW50IGksIENsb2IgYykgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldENsb2IoaSwgYyk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0QXJyYXkoaW50IGksIEFycmF5IGEpIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRBcnJheShp\nLCBhKTsKICAgIH0KCiAgICBwdWJsaWMgUmVzdWx0U2V0TWV0YURhdGEgZ2V0\nTWV0YURhdGEoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX3N0bW50LmdldE1ldGFEYXRhKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0RGF0ZShpbnQgaSwgRGF0ZSBkLCBDYWxlbmRhciBjKSB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0RGF0ZShpLCBkLCBj\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUaW1lKGludCBpLCBUaW1l\nIHQsIENhbGVuZGFyIGMpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIF9zdG1udC5zZXRUaW1lKGksIHQsIGMpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFRpbWVzdGFtcChpbnQgaSwgVGltZXN0YW1wIHQsIENhbGVuZGFy\nIGMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0\nbW50LnNldFRpbWVzdGFtcChpLCB0LCBjKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXROdWxsKGludCBpMSwgaW50IGkyLCBTdHJpbmcgcykgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldE51bGwoaTEsIGky\nLCBzKTsKICAgIH0KCiAgICAvLyBKREJDIDMuMCAodW5zdXBwb3J0ZWQpIG1l\ndGhvZHMgZm9sbG93OyB0aGVzZSBhcmUgcmVxdWlyZWQgdG8gYmUgYWJsZQog\nICAgLy8gdG8gY29tcGlsZSBhZ2FpbnN0IEpESyAxLjQKCiAgICBwdWJsaWMg\nYm9vbGVhbiBnZXRNb3JlUmVzdWx0cyhpbnQgaSkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFJlc3VsdFNldCBnZXRH\nZW5lcmF0ZWRLZXlzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIGludCBleGVjdXRlVXBkYXRlKFN0cmluZyBzLCBp\nbnQgaSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIGludCBleGVjdXRlVXBkYXRlKFN0cmluZyBzLCBpbnRbXSBpYSkg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIGludCBleGVjdXRlVXBkYXRlKFN0cmluZyBzLCBTdHJpbmdbXSBzYSkgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJv\nb2xlYW4gZXhlY3V0ZShTdHJpbmcgcywgaW50IGkpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGV4ZWN1\ndGUoU3RyaW5nIHMsIGludFtdIGlhKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBleGVjdXRlKFN0cmlu\nZyBzLCBTdHJpbmdbXSBzYSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIGludCBnZXRSZXN1bHRTZXRIb2xkYWJpbGl0\neSgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldFVSTChpbnQgaSwgVVJMIHVybCkgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFBhcmFtZXRlck1l\ndGFEYXRhIGdldFBhcmFtZXRlck1ldGFEYXRhKCkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8KICAgIC8vIENhbGxhYmxlU3RhdGVtZW50IG1ldGhvZHMKICAg\nIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIHZv\naWQgcmVnaXN0ZXJPdXRQYXJhbWV0ZXIoaW50IGkxLCBpbnQgaTIpIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5yZWdpc3Rlck91dFBh\ncmFtZXRlcihpMSwgaTIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlZ2lz\ndGVyT3V0UGFyYW1ldGVyKGludCBpMSwgaW50IGkyLCBpbnQgaTMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnJlZ2lz\ndGVyT3V0UGFyYW1ldGVyKGkxLCBpMiwgaTMpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIHdhc051bGwoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3N0bW50Lndhc051bGwoKTsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldFN0cmluZyhpbnQgaSkgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRTdHJpbmcoaSk7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gZ2V0Qm9vbGVhbihpbnQgaSkgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRCb29s\nZWFuKGkpOwogICAgfQoKICAgIHB1YmxpYyBieXRlIGdldEJ5dGUoaW50IGkp\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQu\nZ2V0Qnl0ZShpKTsKICAgIH0KCiAgICBwdWJsaWMgc2hvcnQgZ2V0U2hvcnQo\naW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBf\nc3RtbnQuZ2V0U2hvcnQoaSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRJ\nbnQoaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfc3RtbnQuZ2V0SW50KGkpOwogICAgfQoKICAgIHB1YmxpYyBsb25nIGdl\ndExvbmcoaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBfc3RtbnQuZ2V0TG9uZyhpKTsKICAgIH0KCiAgICBwdWJsaWMgZmxv\nYXQgZ2V0RmxvYXQoaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBfc3RtbnQuZ2V0RmxvYXQoaSk7CiAgICB9CgogICAgcHVi\nbGljIGRvdWJsZSBnZXREb3VibGUoaW50IGkpIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBfc3RtbnQuZ2V0RG91YmxlKGkpOwogICAg\nfQoKICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQgdXNlIDxjb2RlPmdldEJp\nZ0RlY2ltYWwoaW50IHBhcmFtZXRlckluZGV4KTwvY29kZT4gb3IKICAgICAq\nICAgICAgICAgICAgIDxjb2RlPmdldEJpZ0RlY2ltYWwoU3RyaW5nIHBhcmFt\nZXRlck5hbWUpPC9jb2RlPgogICAgICovCiAgICBwdWJsaWMgQmlnRGVjaW1h\nbCBnZXRCaWdEZWNpbWFsKGludCBhLCBpbnQgYikgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRCaWdEZWNpbWFsKGEs\nIGIpOwogICAgfQoKICAgIHB1YmxpYyBieXRlW10gZ2V0Qnl0ZXMoaW50IGkp\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQu\nZ2V0Qnl0ZXMoaSk7CiAgICB9CgogICAgcHVibGljIERhdGUgZ2V0RGF0ZShp\nbnQgaSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9z\ndG1udC5nZXREYXRlKGkpOwogICAgfQoKICAgIHB1YmxpYyBUaW1lIGdldFRp\nbWUoaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfc3RtbnQuZ2V0VGltZShpKTsKICAgIH0KCiAgICBwdWJsaWMgVGltZXN0\nYW1wIGdldFRpbWVzdGFtcChpbnQgaSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRUaW1lc3RhbXAoaSk7CiAgICB9\nCgogICAgcHVibGljIE9iamVjdCBnZXRPYmplY3QoaW50IGkpIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQuZ2V0T2JqZWN0\nKGkpOwogICAgfQoKICAgIHB1YmxpYyBCaWdEZWNpbWFsIGdldEJpZ0RlY2lt\nYWwoaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfc3RtbnQuZ2V0QmlnRGVjaW1hbChpKTsKICAgIH0KCiAgICBwdWJsaWMg\nT2JqZWN0IGdldE9iamVjdChpbnQgaSwgTWFwPFN0cmluZyxDbGFzczw/Pj4g\nbSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9zdG1u\ndC5nZXRPYmplY3QoaSwgbSk7CiAgICB9CgogICAgcHVibGljIFJlZiBnZXRS\nZWYoaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfc3RtbnQuZ2V0UmVmKGkpOwogICAgfQoKICAgIHB1YmxpYyBCbG9iIGdl\ndEJsb2IoaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBfc3RtbnQuZ2V0QmxvYihpKTsKICAgIH0KCiAgICBwdWJsaWMgQ2xv\nYiBnZXRDbG9iKGludCBpKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gX3N0bW50LmdldENsb2IoaSk7CiAgICB9CgogICAgcHVibGlj\nIEFycmF5IGdldEFycmF5KGludCBpKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX3N0bW50LmdldEFycmF5KGkpOwogICAgfQoKICAg\nIHB1YmxpYyBEYXRlIGdldERhdGUoaW50IGksIENhbGVuZGFyIGMpIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQuZ2V0RGF0\nZShpLCBjKTsKICAgIH0KCiAgICBwdWJsaWMgVGltZSBnZXRUaW1lKGludCBp\nLCBDYWxlbmRhciBjKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gX3N0bW50LmdldFRpbWUoaSwgYyk7CiAgICB9CgogICAgcHVibGlj\nIFRpbWVzdGFtcCBnZXRUaW1lc3RhbXAoaW50IGksIENhbGVuZGFyIGMpIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQuZ2V0\nVGltZXN0YW1wKGksIGMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlZ2lz\ndGVyT3V0UGFyYW1ldGVyKGludCBpMSwgaW50IGkyLCBTdHJpbmcgcykKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQucmVn\naXN0ZXJPdXRQYXJhbWV0ZXIoaTEsIGkyLCBzKTsKICAgIH0KCiAgICAvLyBK\nREJDIDMuMCAodW5zdXBwb3J0ZWQpIG1ldGhvZHMgZm9sbG93OyB0aGVzZSBh\ncmUgcmVxdWlyZWQgdG8gYmUgYWJsZQogICAgLy8gdG8gY29tcGlsZSBhZ2Fp\nbnN0IEpESyAxLjQKCiAgICBwdWJsaWMgdm9pZCByZWdpc3Rlck91dFBhcmFt\nZXRlcihTdHJpbmcgcywgaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlZ2lzdGVyT3V0UGFyYW1l\ndGVyKFN0cmluZyBzLCBpbnQgaTEsIGludCBpMikKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBy\nZWdpc3Rlck91dFBhcmFtZXRlcihTdHJpbmcgczEsIGludCBpLCBTdHJpbmcg\nczIpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIFVSTCBnZXRVUkwoaW50IGkpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVSTChT\ndHJpbmcgYSwgVVJMIGIpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyBVUkwgZ2V0VVJMKFN0cmluZyBhKSB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXROdWxsKFN0cmluZyBhLCBpbnQgYikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Qm9vbGVhbihTdHJp\nbmcgYSwgYm9vbGVhbiBiKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRCeXRlKFN0cmluZyBhLCBieXRl\nIGIpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldFNob3J0KFN0cmluZyBhLCBzaG9ydCBiKSB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRJbnQoU3RyaW5nIGEsIGludCBiKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRMb25nKFN0cmluZyBh\nLCBsb25nIGIpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldEZsb2F0KFN0cmluZyBhLCBmbG9hdCBiKSB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXREb3VibGUoU3RyaW5nIGEsIGRvdWJsZSBiKSB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRC\naWdEZWNpbWFsKFN0cmluZyBhLCBCaWdEZWNpbWFsIGIpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFN0\ncmluZyhTdHJpbmcgYSwgU3RyaW5nIGIpIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEJ5dGVzKFN0cmlu\nZyBhLCBieXRlW10gYikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0ZShTdHJpbmcgYSwgRGF0ZSBi\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRUaW1lKFN0cmluZyBhLCBUaW1lIGIpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRp\nbWVzdGFtcChTdHJpbmcgYSwgVGltZXN0YW1wIGIpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEFzY2lp\nU3RyZWFtKFN0cmluZyBhLCBJbnB1dFN0cmVhbSBiLCBpbnQgYykKICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRCaW5hcnlTdHJlYW0oU3RyaW5nIGEsIElucHV0U3RyZWFt\nIGIsIGludCBjKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9iamVjdChTdHJpbmcgYSwg\nT2JqZWN0IGIsIGludCBjLCBpbnQgZCkKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRPYmpl\nY3QoU3RyaW5nIGEsIE9iamVjdCBiLCBpbnQgYykgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0T2JqZWN0\nKFN0cmluZyBhLCBPYmplY3QgYikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q2hhcmFjdGVyU3RyZWFt\nKFN0cmluZyBhLCBSZWFkZXIgYiwgaW50IGMpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nRGF0ZShTdHJpbmcgYSwgRGF0ZSBiLCBDYWxlbmRhciBjKSB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRU\naW1lKFN0cmluZyBhLCBUaW1lIGIsIENhbGVuZGFyIGMpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRp\nbWVzdGFtcChTdHJpbmcgYSwgVGltZXN0YW1wIGIsIENhbGVuZGFyIGMpCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0TnVsbChTdHJpbmcgYSwgaW50IGIsIFN0cmluZyBj\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldFN0cmluZyhTdHJpbmcgYSkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZ2V0Qm9v\nbGVhbihTdHJpbmcgYSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIGJ5dGUgZ2V0Qnl0ZShTdHJpbmcgYSkgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHNob3J0\nIGdldFNob3J0KFN0cmluZyBhKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24o\nKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldEludChTdHJpbmcgYSkgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGxv\nbmcgZ2V0TG9uZyhTdHJpbmcgYSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIGZsb2F0IGdldEZsb2F0KFN0cmluZyBh\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgZG91YmxlIGdldERvdWJsZShTdHJpbmcgYSkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJ5dGVbXSBnZXRCeXRl\ncyhTdHJpbmcgYSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIERhdGUgZ2V0RGF0ZShTdHJpbmcgYSkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFRpbWUgZ2V0\nVGltZShTdHJpbmcgYSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIFRpbWVzdGFtcCBnZXRUaW1lc3RhbXAoU3RyaW5n\nIGEpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3QgZ2V0T2JqZWN0KFN0cmluZyBhKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgQmlnRGVjaW1hbCBn\nZXRCaWdEZWNpbWFsKFN0cmluZyBhKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldE9iamVjdChTdHJp\nbmcgYSwgTWFwPFN0cmluZywgQ2xhc3M8Pz4+YikgdGhyb3dzCiAgICAgICAg\nICAgIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFJl\nZiBnZXRSZWYoU3RyaW5nIGEpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwogICAgfQoKICAgIHB1YmxpYyBCbG9iIGdldEJsb2IoU3RyaW5nIGEpIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBD\nbG9iIGdldENsb2IoU3RyaW5nIGEpIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyBBcnJheSBnZXRBcnJheShTdHJpbmcg\nYSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIERhdGUgZ2V0RGF0ZShTdHJpbmcgYSwgQ2FsZW5kYXIgYikgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFRpbWUg\nZ2V0VGltZShTdHJpbmcgYSwgQ2FsZW5kYXIgYikgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFRpbWVzdGFtcCBnZXRU\naW1lc3RhbXAoU3RyaW5nIGEsIENhbGVuZGFyIGIpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIC8vIGphdmEuc3FsLldyYXBwZXIg\naW1wbGVtZW50YXRpb24gKEpEQkMgNCkKICAgIHB1YmxpYyBib29sZWFuIGlz\nV3JhcHBlckZvcihDbGFzcyBpZmFjZSkgewogICAgICAgIHJldHVybiBpZmFj\nZS5pc0Fzc2lnbmFibGVGcm9tKGdldERlbGVnYXRlKCkuZ2V0Q2xhc3MoKSk7\nCiAgICB9CgogICAgcHVibGljIE9iamVjdCB1bndyYXAoQ2xhc3MgaWZhY2Up\nIHsKICAgICAgICBpZiAoaXNXcmFwcGVyRm9yKGlmYWNlKSkKICAgICAgICAg\nICAgcmV0dXJuIGdldERlbGVnYXRlKCk7CiAgICAgICAgZWxzZQogICAgICAg\nICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQo=\n","encoding":"base64"}

