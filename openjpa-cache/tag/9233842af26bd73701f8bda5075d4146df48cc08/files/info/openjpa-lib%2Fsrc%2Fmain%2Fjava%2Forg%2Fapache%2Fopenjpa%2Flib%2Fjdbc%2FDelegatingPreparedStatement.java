{"sha":"515cf57126bb6c5fd6fa62370415630d6cf77157","node_id":"MDQ6QmxvYjIwNjM2NDo1MTVjZjU3MTI2YmI2YzVmZDZmYTYyMzcwNDE1NjMwZDZjZjc3MTU3","size":13790,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/515cf57126bb6c5fd6fa62370415630d6cf77157","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmpkYmM7CgppbXBvcnQg\namF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUmVhZGVyOwpp\nbXBvcnQgamF2YS5sYW5nLnJlZmxlY3QuQ29uc3RydWN0b3I7CmltcG9ydCBq\nYXZhLm1hdGguQmlnRGVjaW1hbDsKaW1wb3J0IGphdmEubmV0LlVSTDsKaW1w\nb3J0IGphdmEuc3FsLkFycmF5OwppbXBvcnQgamF2YS5zcWwuQmxvYjsKaW1w\nb3J0IGphdmEuc3FsLkNsb2I7CmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9u\nOwppbXBvcnQgamF2YS5zcWwuRGF0ZTsKaW1wb3J0IGphdmEuc3FsLlBhcmFt\nZXRlck1ldGFEYXRhOwppbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1l\nbnQ7CmltcG9ydCBqYXZhLnNxbC5SZWY7CmltcG9ydCBqYXZhLnNxbC5SZXN1\nbHRTZXQ7CmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXRNZXRhRGF0YTsKaW1w\nb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsKaW1wb3J0IGphdmEuc3FsLlNR\nTFdhcm5pbmc7CmltcG9ydCBqYXZhLnNxbC5UaW1lOwppbXBvcnQgamF2YS5z\ncWwuVGltZXN0YW1wOwppbXBvcnQgamF2YS51dGlsLkNhbGVuZGFyOwoKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5DbG9zZWFibGU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuQ29uY3JldGVDbGFz\nc0dlbmVyYXRvcjsKCi8qKgogKiBXcmFwcGVyIGFyb3VuZCBhbiBleGlzdGlu\nZyBzdGF0ZW1lbnQuIFN1YmNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoZQogKiBt\nZXRob2RzIHdob3NlIGJlaGF2aW9yIHRoZXkgbWVhbiB0byBjaGFuZ2UuIFRo\nZSA8Y29kZT5lcXVhbHM8L2NvZGU+IGFuZAogKiA8Y29kZT5oYXNoQ29kZTwv\nY29kZT4gbWV0aG9kcyBwYXNzIHRocm91Z2ggdG8gdGhlIGJhc2UgdW5kZXJs\neWluZyBkYXRhCiAqIHN0b3JlIHN0YXRlbWVudC4KICoKICogQGF1dGhvciBB\nYmUgV2hpdGUKICovCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBEZWxlZ2F0aW5n\nUHJlcGFyZWRTdGF0ZW1lbnQKICAgIGltcGxlbWVudHMgUHJlcGFyZWRTdGF0\nZW1lbnQsIENsb3NlYWJsZSB7CiAgICAKICAgIHN0YXRpYyBmaW5hbCBDb25z\ndHJ1Y3RvcjxEZWxlZ2F0aW5nUHJlcGFyZWRTdGF0ZW1lbnQ+IGNvbmNyZXRl\nSW1wbDsKICAgIHN0YXRpYyB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\nY29uY3JldGVJbXBsID0gQ29uY3JldGVDbGFzc0dlbmVyYXRvci5nZXRDb25j\ncmV0ZUNvbnN0cnVjdG9yKERlbGVnYXRpbmdQcmVwYXJlZFN0YXRlbWVudC5j\nbGFzcywKICAgICAgICAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudC5j\nbGFzcywgQ29ubmVjdGlvbi5jbGFzcyk7CiAgICAgICAgfSBjYXRjaCAoRXhj\nZXB0aW9uIGUpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbklu\nSW5pdGlhbGl6ZXJFcnJvcihlKTsKICAgICAgICB9CiAgICB9CgogICAgcHJp\ndmF0ZSBmaW5hbCBQcmVwYXJlZFN0YXRlbWVudCBfc3RtbnQ7CiAgICBwcml2\nYXRlIGZpbmFsIERlbGVnYXRpbmdQcmVwYXJlZFN0YXRlbWVudCBfZGVsOwog\nICAgcHJpdmF0ZSBmaW5hbCBDb25uZWN0aW9uIF9jb25uOwoKICAgIHB1Ymxp\nYyBEZWxlZ2F0aW5nUHJlcGFyZWRTdGF0ZW1lbnQoUHJlcGFyZWRTdGF0ZW1l\nbnQgc3RtbnQsCiAgICAgICAgQ29ubmVjdGlvbiBjb25uKSB7CiAgICAgICAg\nX2Nvbm4gPSBjb25uOwogICAgICAgIF9zdG1udCA9IHN0bW50OwogICAgICAg\nIGlmIChfc3RtbnQgaW5zdGFuY2VvZiBEZWxlZ2F0aW5nUHJlcGFyZWRTdGF0\nZW1lbnQpCiAgICAgICAgICAgIF9kZWwgPSAoRGVsZWdhdGluZ1ByZXBhcmVk\nU3RhdGVtZW50KSBfc3RtbnQ7CiAgICAgICAgZWxzZQogICAgICAgICAgICBf\nZGVsID0gbnVsbDsKICAgIH0KICAgIAogICAgcHVibGljIHN0YXRpYyBEZWxl\nZ2F0aW5nUHJlcGFyZWRTdGF0ZW1lbnQgbmV3SW5zdGFuY2UoUHJlcGFyZWRT\ndGF0ZW1lbnQgc3RtbnQsIENvbm5lY3Rpb24gY29ubikgewogICAgICAgIHJl\ndHVybiBDb25jcmV0ZUNsYXNzR2VuZXJhdG9yLm5ld0luc3RhbmNlKGNvbmNy\nZXRlSW1wbCwgc3RtbnQsIGNvbm4pOwogICAgfQoKICAgIHByb3RlY3RlZCBS\nZXN1bHRTZXQgd3JhcFJlc3VsdChSZXN1bHRTZXQgcnMsIGJvb2xlYW4gd3Jh\ncCkgewogICAgICAgIGlmICghd3JhcCB8fCBycyA9PSBudWxsKQogICAgICAg\nICAgICByZXR1cm4gcnM7CiAgICAgICAgcmV0dXJuIERlbGVnYXRpbmdSZXN1\nbHRTZXQubmV3SW5zdGFuY2UocnMsIHRoaXMpOwogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIHRoZSB3cmFwcGVkIHN0YXRlbWVudC4KICAgICAqLwog\nICAgcHVibGljIFByZXBhcmVkU3RhdGVtZW50IGdldERlbGVnYXRlKCkgewog\nICAgICAgIHJldHVybiBfc3RtbnQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gdGhlIGJhc2UgdW5kZXJseWluZyBkYXRhIHN0b3JlIHN0YXRlbWVu\ndC4KICAgICAqLwogICAgcHVibGljIFByZXBhcmVkU3RhdGVtZW50IGdldElu\nbmVybW9zdERlbGVnYXRlKCkgewogICAgICAgIHJldHVybiAoX2RlbCA9PSBu\ndWxsKSA/IF9zdG1udCA6IF9kZWwuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKTsK\nICAgIH0KCiAgICBwdWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgIHJl\ndHVybiBnZXRJbm5lcm1vc3REZWxlZ2F0ZSgpLmhhc2hDb2RlKCk7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvdGhlcikgewog\nICAgICAgIGlmIChvdGhlciA9PSB0aGlzKQogICAgICAgICAgICByZXR1cm4g\ndHJ1ZTsKICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBEZWxlZ2F0aW5n\nUHJlcGFyZWRTdGF0ZW1lbnQpCiAgICAgICAgICAgIG90aGVyID0gKChEZWxl\nZ2F0aW5nUHJlcGFyZWRTdGF0ZW1lbnQpIG90aGVyKS4KICAgICAgICAgICAg\nICAgIGdldElubmVybW9zdERlbGVnYXRlKCk7CiAgICAgICAgcmV0dXJuIGdl\ndElubmVybW9zdERlbGVnYXRlKCkuZXF1YWxzKG90aGVyKTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkgewogICAgICAgIFN0cmluZ0J1\nZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCJwcmVwc3RtbnQgIikuYXBw\nZW5kKGhhc2hDb2RlKCkpOwogICAgICAgIGFwcGVuZEluZm8oYnVmKTsKICAg\nICAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7CiAgICB9CgogICAgcHJvdGVj\ndGVkIHZvaWQgYXBwZW5kSW5mbyhTdHJpbmdCdWZmZXIgYnVmKSB7CiAgICAg\nICAgaWYgKF9kZWwgIT0gbnVsbCkKICAgICAgICAgICAgX2RlbC5hcHBlbmRJ\nbmZvKGJ1Zik7CiAgICB9CgogICAgcHVibGljIFJlc3VsdFNldCBleGVjdXRl\nUXVlcnkoU3RyaW5nIHN0cikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIGV4ZWN1dGVRdWVyeShzdHIsIHRydWUpOwogICAgfQoKICAg\nIC8qKgogICAgICogRXhlY3V0ZSB0aGUgcXVlcnksIHdpdGggdGhlIG9wdGlv\nbiBvZiBub3Qgd3JhcHBpbmcgaXQgaW4gYQogICAgICoge0BsaW5rIERlbGVn\nYXRpbmdSZXN1bHRTZXR9LCB3aGljaCBpcyB0aGUgZGVmYXVsdC4KICAgICAq\nLwogICAgcHJvdGVjdGVkIFJlc3VsdFNldCBleGVjdXRlUXVlcnkoU3RyaW5n\nIHNxbCwgYm9vbGVhbiB3cmFwKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIFJlc3VsdFNldCByczsKICAgICAgICBpZiAoX2RlbCAh\nPSBudWxsKQogICAgICAgICAgICBycyA9IF9kZWwuZXhlY3V0ZVF1ZXJ5KHNx\nbCwgZmFsc2UpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcnMgPSBfc3Rt\nbnQuZXhlY3V0ZVF1ZXJ5KHNxbCk7CiAgICAgICAgcmV0dXJuIHdyYXBSZXN1\nbHQocnMsIHdyYXApOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZXhlY3V0ZVVw\nZGF0ZShTdHJpbmcgc3RyKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gX3N0bW50LmV4ZWN1dGVVcGRhdGUoc3RyKTsKICAgIH0KCiAg\nICBwdWJsaWMgYm9vbGVhbiBleGVjdXRlKFN0cmluZyBzdHIpIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQuZXhlY3V0ZShz\ndHIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LmNsb3NlKCk7CiAgICB9Cgog\nICAgcHVibGljIGludCBnZXRNYXhGaWVsZFNpemUoKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0bW50LmdldE1heEZpZWxkU2l6\nZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1heEZpZWxkU2l6ZShp\nbnQgaSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNl\ndE1heEZpZWxkU2l6ZShpKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldE1h\neFJvd3MoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nX3N0bW50LmdldE1heFJvd3MoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRNYXhSb3dzKGludCBpKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICBfc3RtbnQuc2V0TWF4Um93cyhpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRFc2NhcGVQcm9jZXNzaW5nKGJvb2xlYW4gYm9vbCkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldEVzY2FwZVByb2Nlc3Np\nbmcoYm9vbCk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRRdWVyeVRpbWVv\ndXQoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0\nbW50LmdldFF1ZXJ5VGltZW91dCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFF1ZXJ5VGltZW91dChpbnQgaSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgX3N0bW50LnNldFF1ZXJ5VGltZW91dChpKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBjYW5jZWwoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICBfc3RtbnQuY2FuY2VsKCk7CiAgICB9CgogICAgcHVibGljIFNR\nTFdhcm5pbmcgZ2V0V2FybmluZ3MoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX3N0bW50LmdldFdhcm5pbmdzKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgY2xlYXJXYXJuaW5ncygpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIF9zdG1udC5jbGVhcldhcm5pbmdzKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0Q3Vyc29yTmFtZShTdHJpbmcgc3RyKSB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0Q3Vyc29y\nTmFtZShzdHIpOwogICAgfQoKICAgIHB1YmxpYyBSZXN1bHRTZXQgZ2V0UmVz\ndWx0U2V0KCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIGdldFJlc3VsdFNldCh0cnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEdl\ndCB0aGUgbGFzdCByZXN1bHQgc2V0LCB3aXRoIHRoZSBvcHRpb24gb2Ygbm90\nIHdyYXBwaW5nIGl0IGluIGEKICAgICAqIHtAbGluayBEZWxlZ2F0aW5nUmVz\ndWx0U2V0fSwgd2hpY2ggaXMgdGhlIGRlZmF1bHQuCiAgICAgKi8KICAgIHBy\nb3RlY3RlZCBSZXN1bHRTZXQgZ2V0UmVzdWx0U2V0KGJvb2xlYW4gd3JhcCkg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgUmVzdWx0U2V0IHJzOwog\nICAgICAgIGlmIChfZGVsICE9IG51bGwpCiAgICAgICAgICAgIHJzID0gX2Rl\nbC5nZXRSZXN1bHRTZXQoZmFsc2UpOwogICAgICAgIGVsc2UKICAgICAgICAg\nICAgcnMgPSBfc3RtbnQuZ2V0UmVzdWx0U2V0KCk7CiAgICAgICAgcmV0dXJu\nIHdyYXBSZXN1bHQocnMsIHdyYXApOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nZ2V0VXBkYXRlQ291bnQoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gX3N0bW50LmdldFVwZGF0ZUNvdW50KCk7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gZ2V0TW9yZVJlc3VsdHMoKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0bW50LmdldE1vcmVSZXN1bHRz\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RmV0Y2hEaXJlY3Rpb24o\naW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5z\nZXRGZXRjaERpcmVjdGlvbihpKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdl\ndEZldGNoRGlyZWN0aW9uKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIF9zdG1udC5nZXRGZXRjaERpcmVjdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldEZldGNoU2l6ZShpbnQgaSkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldEZldGNoU2l6ZShpKTsK\nICAgIH0KCiAgICBwdWJsaWMgaW50IGdldEZldGNoU2l6ZSgpIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQuZ2V0RmV0Y2hT\naXplKCk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRSZXN1bHRTZXRDb25j\ndXJyZW5jeSgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfc3RtbnQuZ2V0UmVzdWx0U2V0Q29uY3VycmVuY3koKTsKICAgIH0KCiAg\nICBwdWJsaWMgaW50IGdldFJlc3VsdFNldFR5cGUoKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0bW50LmdldFJlc3VsdFNldFR5\ncGUoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhZGRCYXRjaChTdHJpbmcg\nc3RyKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuYWRk\nQmF0Y2goc3RyKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbGVhckJhdGNo\nKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LmNsZWFy\nQmF0Y2goKTsKICAgIH0KCiAgICBwdWJsaWMgaW50W10gZXhlY3V0ZUJhdGNo\nKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9zdG1u\ndC5leGVjdXRlQmF0Y2goKTsKICAgIH0KCiAgICBwdWJsaWMgQ29ubmVjdGlv\nbiBnZXRDb25uZWN0aW9uKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIF9jb25uOwogICAgfQoKICAgIHB1YmxpYyBSZXN1bHRTZXQg\nZXhlY3V0ZVF1ZXJ5KCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIGV4ZWN1dGVRdWVyeSh0cnVlKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIEV4ZWN1dGUgdGhlIHF1ZXJ5LCB3aXRoIHRoZSBvcHRpb24gb2Ygbm90\nIHdyYXBwaW5nIGl0IGluIGEKICAgICAqIHtAbGluayBEZWxlZ2F0aW5nUmVz\ndWx0U2V0fSwgd2hpY2ggaXMgdGhlIGRlZmF1bHQuCiAgICAgKi8KICAgIHBy\nb3RlY3RlZCBSZXN1bHRTZXQgZXhlY3V0ZVF1ZXJ5KGJvb2xlYW4gd3JhcCkg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgUmVzdWx0U2V0IHJzOwog\nICAgICAgIGlmIChfZGVsICE9IG51bGwpCiAgICAgICAgICAgIHJzID0gX2Rl\nbC5leGVjdXRlUXVlcnkoZmFsc2UpOwogICAgICAgIGVsc2UKICAgICAgICAg\nICAgcnMgPSBfc3RtbnQuZXhlY3V0ZVF1ZXJ5KCk7CiAgICAgICAgcmV0dXJu\nIHdyYXBSZXN1bHQocnMsIHdyYXApOwogICAgfQoKICAgIHB1YmxpYyBpbnQg\nZXhlY3V0ZVVwZGF0ZSgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBfc3RtbnQuZXhlY3V0ZVVwZGF0ZSgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldE51bGwoaW50IGkxLCBpbnQgaTIpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXROdWxsKGkxLCBpMik7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0Qm9vbGVhbihpbnQgaSwgYm9vbGVh\nbiBiKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0\nQm9vbGVhbihpLCBiKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRCeXRl\nKGludCBpLCBieXRlIGIpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIF9zdG1udC5zZXRCeXRlKGksIGIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFNob3J0KGludCBpLCBzaG9ydCBzKSB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICBfc3RtbnQuc2V0U2hvcnQoaSwgcyk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0SW50KGludCBpMSwgaW50IGkyKSB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0SW50KGkxLCBpMik7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0TG9uZyhpbnQgaSwgbG9uZyBsKSB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0TG9uZyhp\nLCBsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGbG9hdChpbnQgaSwg\nZmxvYXQgZikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50\nLnNldEZsb2F0KGksIGYpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldERv\ndWJsZShpbnQgaSwgZG91YmxlIGQpIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIF9zdG1udC5zZXREb3VibGUoaSwgZCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0QmlnRGVjaW1hbChpbnQgaSwgQmlnRGVjaW1hbCBiZCkg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldEJpZ0Rl\nY2ltYWwoaSwgYmQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFN0cmlu\nZyhpbnQgaSwgU3RyaW5nIHMpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIF9zdG1udC5zZXRTdHJpbmcoaSwgcyk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0Qnl0ZXMoaW50IGksIGJ5dGVbXSBiKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0Qnl0ZXMoaSwgYik7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0RGF0ZShpbnQgaSwgRGF0ZSBkKSB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0RGF0ZShpLCBk\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUaW1lKGludCBpLCBUaW1l\nIHQpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRU\naW1lKGksIHQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRpbWVzdGFt\ncChpbnQgaSwgVGltZXN0YW1wIHQpIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIF9zdG1udC5zZXRUaW1lc3RhbXAoaSwgdCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0QXNjaWlTdHJlYW0oaW50IGkxLCBJbnB1dFN0cmVh\nbSBpcywgaW50IGkyKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIF9zdG1udC5zZXRBc2NpaVN0cmVhbShpMSwgaXMsIGkyKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIEBkZXByZWNhdGVkIAogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXRVbmljb2RlU3RyZWFtKGludCBpMSwgSW5wdXRTdHJl\nYW0gaXMsIGludCBpMikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICBfc3RtbnQuc2V0VW5pY29kZVN0cmVhbShpMSwgaXMsIGkyKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRCaW5hcnlTdHJlYW0oaW50IGkx\nLCBJbnB1dFN0cmVhbSBpcywgaW50IGkyKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRCaW5hcnlTdHJlYW0oaTEs\nIGlzLCBpMik7CiAgICB9CgogICAgcHVibGljIHZvaWQgY2xlYXJQYXJhbWV0\nZXJzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LmNs\nZWFyUGFyYW1ldGVycygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9i\namVjdChpbnQgaTEsIE9iamVjdCBvLCBpbnQgaTIsIGludCBpMykKICAgICAg\nICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0T2Jq\nZWN0KGkxLCBvLCBpMiwgaTMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndE9iamVjdChpbnQgaTEsIE9iamVjdCBvLCBpbnQgaTIpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRPYmplY3QoaTEsIG8sIGky\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRPYmplY3QoaW50IGksIE9i\namVjdCBvKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQu\nc2V0T2JqZWN0KGksIG8pOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGV4\nZWN1dGUoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nX3N0bW50LmV4ZWN1dGUoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhZGRC\nYXRjaCgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5h\nZGRCYXRjaCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENoYXJhY3Rl\nclN0cmVhbShpbnQgaTEsIFJlYWRlciByLCBpbnQgaTIpCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldENoYXJhY3Rl\nclN0cmVhbShpMSwgciwgaTIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFJlZihpbnQgaSwgUmVmIHIpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIF9zdG1udC5zZXRSZWYoaSwgcik7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0QmxvYihpbnQgaSwgQmxvYiBiKSB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICBfc3RtbnQuc2V0QmxvYihpLCBiKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRDbG9iKGludCBpLCBDbG9iIGMpIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRDbG9iKGksIGMpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldEFycmF5KGludCBpLCBBcnJheSBhKSB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0QXJyYXko\naSwgYSk7CiAgICB9CgogICAgcHVibGljIFJlc3VsdFNldE1ldGFEYXRhIGdl\ndE1ldGFEYXRhKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIF9zdG1udC5nZXRNZXRhRGF0YSgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldERhdGUoaW50IGksIERhdGUgZCwgQ2FsZW5kYXIgYykgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldERhdGUoaSwgZCwg\nYyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VGltZShpbnQgaSwgVGlt\nZSB0LCBDYWxlbmRhciBjKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICBfc3RtbnQuc2V0VGltZShpLCB0LCBjKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRUaW1lc3RhbXAoaW50IGksIFRpbWVzdGFtcCB0LCBDYWxlbmRh\nciBjKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9z\ndG1udC5zZXRUaW1lc3RhbXAoaSwgdCwgYyk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0TnVsbChpbnQgaTEsIGludCBpMiwgU3RyaW5nIHMpIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXROdWxsKGkxLCBp\nMiwgcyk7CiAgICB9CgogICAgLy8gSkRCQyAzLjAgKHVuc3VwcG9ydGVkKSBt\nZXRob2QgZm9sbG93OyB0aGVzZSBhcmUgcmVxdWlyZWQgdG8gYmUgYWJsZQog\nICAgLy8gdG8gY29tcGlsZSBhZ2FpbnN0IEpESyAxLjQKCiAgICBwdWJsaWMg\nYm9vbGVhbiBnZXRNb3JlUmVzdWx0cyhpbnQgaSkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9u\nRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFJlc3VsdFNldCBnZXRH\nZW5lcmF0ZWRLZXlzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIF9zdG1udC5nZXRHZW5lcmF0ZWRLZXlzKCk7CiAgICB9CgogICAg\ncHVibGljIGludCBleGVjdXRlVXBkYXRlKFN0cmluZyBzLCBpbnQgaSkgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y\ndGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGlu\ndCBleGVjdXRlVXBkYXRlKFN0cmluZyBzLCBpbnRbXSBpYSkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGludCBleGVj\ndXRlVXBkYXRlKFN0cmluZyBzLCBTdHJpbmdbXSBzYSkgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZXhl\nY3V0ZShTdHJpbmcgcywgaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGV4ZWN1dGUoU3RyaW5n\nIHMsIGludFtdIGlhKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBleGVjdXRlKFN0cmluZyBzLCBTdHJp\nbmdbXSBzYSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIGludCBnZXRSZXN1bHRTZXRIb2xkYWJpbGl0eSgpIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFVSTChpbnQgaSwgVVJMIHVybCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIFBhcmFtZXRlck1ldGFEYXRhIGdl\ndFBhcmFtZXRlck1ldGFEYXRhKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CiAgICAKICAgIC8vIGphdmEuc3FsLldyYXBwZXIgaW1wbGVt\nZW50YXRpb24gKEpEQkMgNCkKICAgIHB1YmxpYyBib29sZWFuIGlzV3JhcHBl\nckZvcihDbGFzcyBpZmFjZSkgewogICAgICAgIHJldHVybiBpZmFjZS5pc0Fz\nc2lnbmFibGVGcm9tKGdldERlbGVnYXRlKCkuZ2V0Q2xhc3MoKSk7CiAgICB9\nCgogICAgcHVibGljIE9iamVjdCB1bndyYXAoQ2xhc3MgaWZhY2UpIHsKICAg\nICAgICBpZiAoaXNXcmFwcGVyRm9yKGlmYWNlKSkKICAgICAgICAgICAgcmV0\ndXJuIGdldERlbGVnYXRlKCk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBy\nZXR1cm4gbnVsbDsKICAgIH0KfQo=\n","encoding":"base64"}

