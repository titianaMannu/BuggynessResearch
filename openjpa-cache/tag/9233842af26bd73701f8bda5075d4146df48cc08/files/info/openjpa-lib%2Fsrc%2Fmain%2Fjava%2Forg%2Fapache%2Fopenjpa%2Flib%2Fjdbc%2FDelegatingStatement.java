{"sha":"d0f1e3e12e6d80119fbb7b536f472b7dc45f1ead","node_id":"MDQ6QmxvYjIwNjM2NDpkMGYxZTNlMTJlNmQ4MDExOWZiYjdiNTM2ZjQ3MmI3ZGM0NWYxZWFk","size":8869,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d0f1e3e12e6d80119fbb7b536f472b7dc45f1ead","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmpkYmM7CgppbXBvcnQg\namF2YS5sYW5nLnJlZmxlY3QuQ29uc3RydWN0b3I7CmltcG9ydCBqYXZhLnNx\nbC5Db25uZWN0aW9uOwppbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0OwppbXBv\ncnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwppbXBvcnQgamF2YS5zcWwuU1FM\nV2FybmluZzsKaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDsKCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuQ2xvc2VhYmxlOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkNvbmNyZXRlQ2xhc3NHZW5l\ncmF0b3I7CgovKioKICogV3JhcHBlciBhcm91bmQgYW4gZXhpc3Rpbmcgc3Rh\ndGVtZW50LiBTdWJjbGFzc2VzIGNhbiBvdmVycmlkZSB0aGUKICogbWV0aG9k\ncyB3aG9zZSBiZWhhdmlvciB0aGV5IG1lYW4gdG8gY2hhbmdlLiBUaGUgPGNv\nZGU+ZXF1YWxzPC9jb2RlPiBhbmQKICogPGNvZGU+aGFzaENvZGU8L2NvZGU+\nIG1ldGhvZHMgcGFzcyB0aHJvdWdoIHRvIHRoZSBiYXNlIHVuZGVybHlpbmcg\nZGF0YQogKiBzdG9yZSBzdGF0ZW1lbnQuCiAqCiAqIEBhdXRob3IgQWJlIFdo\naXRlCiAqLwpwdWJsaWMgYWJzdHJhY3QgY2xhc3MgRGVsZWdhdGluZ1N0YXRl\nbWVudCBpbXBsZW1lbnRzIFN0YXRlbWVudCwgQ2xvc2VhYmxlIHsKCiAgICBz\ndGF0aWMgZmluYWwgQ29uc3RydWN0b3I8RGVsZWdhdGluZ1N0YXRlbWVudD4g\nY29uY3JldGVJbXBsOwoKICAgIHN0YXRpYyB7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgY29uY3JldGVJbXBsID0gQ29uY3JldGVDbGFzc0dlbmVyYXRv\nci5nZXRDb25jcmV0ZUNvbnN0cnVjdG9yKERlbGVnYXRpbmdTdGF0ZW1lbnQu\nY2xhc3MsIAogICAgICAgICAgICAgICAgU3RhdGVtZW50LmNsYXNzLCBDb25u\nZWN0aW9uLmNsYXNzKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkg\newogICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uSW5Jbml0aWFsaXpl\nckVycm9yKGUpOwogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIGZpbmFs\nIFN0YXRlbWVudCBfc3RtbnQ7CiAgICBwcml2YXRlIGZpbmFsIERlbGVnYXRp\nbmdTdGF0ZW1lbnQgX2RlbDsKICAgIHByaXZhdGUgZmluYWwgQ29ubmVjdGlv\nbiBfY29ubjsKCiAgICBwdWJsaWMgRGVsZWdhdGluZ1N0YXRlbWVudChTdGF0\nZW1lbnQgc3RtbnQsIENvbm5lY3Rpb24gY29ubikgewogICAgICAgIF9jb25u\nID0gY29ubjsKICAgICAgICBfc3RtbnQgPSBzdG1udDsKICAgICAgICBpZiAo\nc3RtbnQgaW5zdGFuY2VvZiBEZWxlZ2F0aW5nU3RhdGVtZW50KQogICAgICAg\nICAgICBfZGVsID0gKERlbGVnYXRpbmdTdGF0ZW1lbnQpIHN0bW50OwogICAg\nICAgIGVsc2UKICAgICAgICAgICAgX2RlbCA9IG51bGw7CiAgICB9CgogICAg\ncHVibGljIHN0YXRpYyBEZWxlZ2F0aW5nU3RhdGVtZW50IG5ld0luc3RhbmNl\nKFN0YXRlbWVudCBzdG1udCwgQ29ubmVjdGlvbiBjb25uKSAgewogICAgICAg\nIHJldHVybiBDb25jcmV0ZUNsYXNzR2VuZXJhdG9yLm5ld0luc3RhbmNlKGNv\nbmNyZXRlSW1wbCwgc3RtbnQsIGNvbm4pOwogICAgfQoKICAgIC8qKiAKICAg\nICAqICBNYXJrZXIgdG8gZW5mb3JjZSB0aGF0IHN1YmNsYXNzZXMgb2YgdGhp\ncyBjbGFzcyBhcmUgYWJzdHJhY3QuCiAgICAgKi8KICAgIHByb3RlY3RlZCBh\nYnN0cmFjdCB2b2lkIGVuZm9yY2VBYnN0cmFjdCgpOwoKICAgIHByb3RlY3Rl\nZCBSZXN1bHRTZXQgd3JhcFJlc3VsdChSZXN1bHRTZXQgcnMsIGJvb2xlYW4g\nd3JhcCkgewogICAgICAgIGlmICghd3JhcCB8fCBycyA9PSBudWxsKQogICAg\nICAgICAgICByZXR1cm4gcnM7CiAgICAgICAgcmV0dXJuIERlbGVnYXRpbmdS\nZXN1bHRTZXQubmV3SW5zdGFuY2UocnMsIHRoaXMpOwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIHRoZSB3cmFwcGVkIHN0YXRlbWVudC4KICAgICAq\nLwogICAgcHVibGljIFN0YXRlbWVudCBnZXREZWxlZ2F0ZSgpIHsKICAgICAg\nICByZXR1cm4gX3N0bW50OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIHRoZSBiYXNlIHVuZGVybHlpbmcgZGF0YSBzdG9yZSBzdGF0ZW1lbnQuCiAg\nICAgKi8KICAgIHB1YmxpYyBTdGF0ZW1lbnQgZ2V0SW5uZXJtb3N0RGVsZWdh\ndGUoKSB7CiAgICAgICAgcmV0dXJuIChfZGVsID09IG51bGwpID8gX3N0bW50\nIDogX2RlbC5nZXRJbm5lcm1vc3REZWxlZ2F0ZSgpOwogICAgfQoKICAgIHB1\nYmxpYyBpbnQgaGFzaENvZGUoKSB7CiAgICAgICAgcmV0dXJuIGdldElubmVy\nbW9zdERlbGVnYXRlKCkuaGFzaENvZGUoKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBlcXVhbHMoT2JqZWN0IG90aGVyKSB7CiAgICAgICAgaWYgKG90\naGVyID09IHRoaXMpCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAg\nIGlmIChvdGhlciBpbnN0YW5jZW9mIERlbGVnYXRpbmdTdGF0ZW1lbnQpCiAg\nICAgICAgICAgIG90aGVyID0gKChEZWxlZ2F0aW5nU3RhdGVtZW50KSBvdGhl\ncikuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKTsKICAgICAgICByZXR1cm4gZ2V0\nSW5uZXJtb3N0RGVsZWdhdGUoKS5lcXVhbHMob3RoZXIpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgU3RyaW5nQnVm\nZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoInN0bW50ICIpLmFwcGVuZCho\nYXNoQ29kZSgpKTsKICAgICAgICBhcHBlbmRJbmZvKGJ1Zik7CiAgICAgICAg\ncmV0dXJuIGJ1Zi50b1N0cmluZygpOwogICAgfQoKICAgIHByb3RlY3RlZCB2\nb2lkIGFwcGVuZEluZm8oU3RyaW5nQnVmZmVyIGJ1ZikgewogICAgICAgIGlm\nIChfZGVsICE9IG51bGwpCiAgICAgICAgICAgIF9kZWwuYXBwZW5kSW5mbyhi\ndWYpOwogICAgfQoKICAgIHB1YmxpYyBSZXN1bHRTZXQgZXhlY3V0ZVF1ZXJ5\nKFN0cmluZyBzdHIpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBleGVjdXRlUXVlcnkoc3RyLCB0cnVlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIEV4ZWN1dGUgdGhlIHF1ZXJ5LCB3aXRoIHRoZSBvcHRpb24gb2Yg\nbm90IHdyYXBwaW5nIGl0IGluIGEKICAgICAqIHtAbGluayBEZWxlZ2F0aW5n\nUmVzdWx0U2V0fSwgd2hpY2ggaXMgdGhlIGRlZmF1bHQuCiAgICAgKi8KICAg\nIHByb3RlY3RlZCBSZXN1bHRTZXQgZXhlY3V0ZVF1ZXJ5KFN0cmluZyBzcWws\nIGJvb2xlYW4gd3JhcCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICBSZXN1bHRTZXQgcnM7CiAgICAgICAgaWYgKF9kZWwgIT0gbnVs\nbCkKICAgICAgICAgICAgcnMgPSBfZGVsLmV4ZWN1dGVRdWVyeShzcWwsIGZh\nbHNlKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJzID0gX3N0bW50LmV4\nZWN1dGVRdWVyeShzcWwpOwogICAgICAgIHJldHVybiB3cmFwUmVzdWx0KHJz\nLCB3cmFwKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGV4ZWN1dGVVcGRhdGUo\nU3RyaW5nIHN0cikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIF9zdG1udC5leGVjdXRlVXBkYXRlKHN0cik7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gZXhlY3V0ZShTdHJpbmcgc3RyKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0bW50LmV4ZWN1dGUoc3RyKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbG9zZSgpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIF9zdG1udC5jbG9zZSgpOwogICAgfQoKICAgIHB1\nYmxpYyBpbnQgZ2V0TWF4RmllbGRTaXplKCkgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRNYXhGaWVsZFNpemUoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNYXhGaWVsZFNpemUoaW50IGkp\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5zZXRNYXhG\naWVsZFNpemUoaSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRNYXhSb3dz\nKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9zdG1u\ndC5nZXRNYXhSb3dzKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWF4\nUm93cyhpbnQgaSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0\nbW50LnNldE1heFJvd3MoaSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nRXNjYXBlUHJvY2Vzc2luZyhib29sZWFuIGJvb2wpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIF9zdG1udC5zZXRFc2NhcGVQcm9jZXNzaW5nKGJv\nb2wpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0UXVlcnlUaW1lb3V0KCkg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5n\nZXRRdWVyeVRpbWVvdXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRR\ndWVyeVRpbWVvdXQoaW50IGkpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIF9zdG1udC5zZXRRdWVyeVRpbWVvdXQoaSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgY2FuY2VsKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgX3N0bW50LmNhbmNlbCgpOwogICAgfQoKICAgIHB1YmxpYyBTUUxXYXJu\naW5nIGdldFdhcm5pbmdzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIF9zdG1udC5nZXRXYXJuaW5ncygpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGNsZWFyV2FybmluZ3MoKSB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICBfc3RtbnQuY2xlYXJXYXJuaW5ncygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldEN1cnNvck5hbWUoU3RyaW5nIHN0cikgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LnNldEN1cnNvck5hbWUo\nc3RyKTsKICAgIH0KCiAgICBwdWJsaWMgUmVzdWx0U2V0IGdldFJlc3VsdFNl\ndCgpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBnZXRS\nZXN1bHRTZXQodHJ1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgdGhl\nIGxhc3QgcmVzdWx0IHNldCwgd2l0aCB0aGUgb3B0aW9uIG9mIG5vdCB3cmFw\ncGluZyBpdCBpbiBhCiAgICAgKiB7QGxpbmsgRGVsZWdhdGluZ1Jlc3VsdFNl\ndH0sIHdoaWNoIGlzIHRoZSBkZWZhdWx0LgogICAgICovCiAgICBwcm90ZWN0\nZWQgUmVzdWx0U2V0IGdldFJlc3VsdFNldChib29sZWFuIHdyYXApIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIFJlc3VsdFNldCByczsKICAgICAg\nICBpZiAoX2RlbCAhPSBudWxsKQogICAgICAgICAgICBycyA9IF9kZWwuZ2V0\nUmVzdWx0U2V0KGZhbHNlKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJz\nID0gX3N0bW50LmdldFJlc3VsdFNldCgpOwogICAgICAgIHJldHVybiB3cmFw\nUmVzdWx0KHJzLCB3cmFwKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFVw\nZGF0ZUNvdW50KCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0\ndXJuIF9zdG1udC5nZXRVcGRhdGVDb3VudCgpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGdldE1vcmVSZXN1bHRzKCkgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRNb3JlUmVzdWx0cygpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZldGNoRGlyZWN0aW9uKGludCBp\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBfc3RtbnQuc2V0RmV0\nY2hEaXJlY3Rpb24oaSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRGZXRj\naERpcmVjdGlvbigpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBfc3RtbnQuZ2V0RmV0Y2hEaXJlY3Rpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRGZXRjaFNpemUoaW50IGkpIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIF9zdG1udC5zZXRGZXRjaFNpemUoaSk7CiAgICB9\nCgogICAgcHVibGljIGludCBnZXRGZXRjaFNpemUoKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0bW50LmdldEZldGNoU2l6ZSgp\nOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0UmVzdWx0U2V0Q29uY3VycmVu\nY3koKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3N0\nbW50LmdldFJlc3VsdFNldENvbmN1cnJlbmN5KCk7CiAgICB9CgogICAgcHVi\nbGljIGludCBnZXRSZXN1bHRTZXRUeXBlKCkgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIF9zdG1udC5nZXRSZXN1bHRTZXRUeXBlKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgYWRkQmF0Y2goU3RyaW5nIHN0cikg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3N0bW50LmFkZEJhdGNo\nKHN0cik7CiAgICB9CgogICAgcHVibGljIHZvaWQgY2xlYXJCYXRjaCgpIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIF9zdG1udC5jbGVhckJhdGNo\nKCk7CiAgICB9CgogICAgcHVibGljIGludFtdIGV4ZWN1dGVCYXRjaCgpIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfc3RtbnQuZXhl\nY3V0ZUJhdGNoKCk7CiAgICB9CgogICAgcHVibGljIENvbm5lY3Rpb24gZ2V0\nQ29ubmVjdGlvbigpIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBfY29ubjsKICAgIH0KCiAgICAvLyBKREJDIDMuMCAodW5zdXBwb3J0\nZWQpIG1ldGhvZCBmb2xsb3c7IHRoZXNlIGFyZSByZXF1aXJlZCB0byBiZSBh\nYmxlCiAgICAvLyB0byBjb21waWxlIGFnYWluc3QgSkRLIDEuNAoKICAgIHB1\nYmxpYyBib29sZWFuIGdldE1vcmVSZXN1bHRzKGludCBpKSB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgUmVzdWx0U2V0\nIGdldEdlbmVyYXRlZEtleXMoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24o\nKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGV4ZWN1dGVVcGRhdGUoU3RyaW5n\nIHMsIGludCBpKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgaW50IGV4ZWN1dGVVcGRhdGUoU3RyaW5nIHMsIGludFtd\nIGlhKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcg\nVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGV4ZWN1dGVVcGRhdGUoU3RyaW5nIHMsIFN0cmluZ1tdIHNh\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBleGVjdXRlKFN0cmluZyBzLCBpbnQgaSkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4g\nZXhlY3V0ZShTdHJpbmcgcywgaW50W10gaWEpIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGV4ZWN1dGUo\nU3RyaW5nIHMsIFN0cmluZ1tdIHNhKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFJlc3VsdFNldEhvbGRh\nYmlsaXR5KCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgLy8gamF2YS5zcWwuV3JhcHBlciBpbXBsZW1lbnRhdGlvbiAoSkRCQyA0\nKQogICAgcHVibGljIGJvb2xlYW4gaXNXcmFwcGVyRm9yKENsYXNzIGlmYWNl\nKSB7CiAgICAgICAgcmV0dXJuIGlmYWNlLmlzQXNzaWduYWJsZUZyb20oZ2V0\nRGVsZWdhdGUoKS5nZXRDbGFzcygpKTsKICAgIH0KCiAgICBwdWJsaWMgT2Jq\nZWN0IHVud3JhcChDbGFzcyBpZmFjZSkgewogICAgICAgIGlmIChpc1dyYXBw\nZXJGb3IoaWZhY2UpKQogICAgICAgICAgICByZXR1cm4gZ2V0RGVsZWdhdGUo\nKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAg\nfQp9Cg==\n","encoding":"base64"}

