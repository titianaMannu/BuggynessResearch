{"sha":"2de619370550e457c413e23c38a9e30163332489","node_id":"MDQ6QmxvYjIwNjM2NDoyZGU2MTkzNzA1NTBlNDU3YzQxM2UyM2MzOGE5ZTMwMTYzMzMyNDg5","size":8458,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2de619370550e457c413e23c38a9e30163332489","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jcml0ZXJpYTsK\nCmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5Db25zdHJ1Y3RvcjsKaW1wb3J0\nIGphdmEudXRpbC5BcnJheXM7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlv\nbnM7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5UdXBsZUVsZW1lbnQ7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5jcml0ZXJpYS5Db21wb3VuZFNlbGVjdGlvbjsKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLmNyaXRlcmlhLlNlbGVjdGlvbjsKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLkZpbGxTdHJhdGVneTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuVHVwbGVGYWN0b3J5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLlR1cGxlSW1wbDsK\nCi8qKgogKiBJbXBsZW1lbnRzIHNlbGVjdGlvbiB0ZXJtcyB0aGF0IGFyZSBj\nb21wb3NlZCBvZiBvdGhlciBzZWxlY3Rpb24gdGVybXMuCiAqICAKICogQGF1\ndGhvciBQaW5ha2kgUG9kZGFyCiAqIAogKiBAc2luY2UgMi4wLjAKICoKICov\nCmNsYXNzIENvbXBvdW5kU2VsZWN0aW9ucyB7CiAgICBwcml2YXRlIHN0YXRp\nYyBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlKENvbXBv\ndW5kU2VsZWN0aW9ucy5jbGFzcyk7CiAgICAvKioKICAgICAqIEdldHMgdGhl\nIHN0cmF0ZWd5IHRvIGZpbGwgYSBnaXZlbiBjb21wb3VuZCBzZWxlY3Rpb24u\nCiAgICAgKiAKICAgICAqLwogICAgc3RhdGljIDxYPiBGaWxsU3RyYXRlZ3k8\nWD4gZ2V0RmlsbFN0cmF0ZWd5KFNlbGVjdGlvbjxYPiBzKSB7CiAgICAgICAg\naWYgKHMgaW5zdGFuY2VvZiBDb21wb3VuZFNlbGVjdGlvbkltcGwpIHsKICAg\nICAgICAgICAgcmV0dXJuICgoQ29tcG91bmRTZWxlY3Rpb25JbXBsPFg+KXMp\nLmdldEZpbGxTdHJhdGVneSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAg\nICAgIHJldHVybiBuZXcgRmlsbFN0cmF0ZWd5LkFzc2lnbjxYPigpOwogICAg\nICAgIH0KICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBBYnN0cmFjdCBpbXBs\nZW1lbnRhdGlvbiBvZiBhIHNlbGVjdGlvbiB0ZXJtIGNvbXBvc2VkIG9mIG11\nbHRpcGxlIHNlbGVjdGlvbiB0ZXJtcy4KICAgICAqCiAgICAgKi8KICAgIHBy\naXZhdGUgYWJzdHJhY3Qgc3RhdGljIGNsYXNzIENvbXBvdW5kU2VsZWN0aW9u\nSW1wbDxYPiBleHRlbmRzIFNlbGVjdGlvbkltcGw8WD4gaW1wbGVtZW50cyBD\nb21wb3VuZFNlbGVjdGlvbjxYPiB7CiAgICAgICAgcHJpdmF0ZSBmaW5hbCBM\naXN0PFNlbGVjdGlvbjw/Pj4gX2FyZ3M7CiAgICAgICAgCiAgICAgICAgcHVi\nbGljIENvbXBvdW5kU2VsZWN0aW9uSW1wbChDbGFzczxYPiBjbHMsIFNlbGVj\ndGlvbjw/Pi4uLmFyZ3MpIHsKICAgICAgICAgICAgc3VwZXIoY2xzKTsKLy8g\nICAgICAgICAgICBhc3NlcnROb0NvbXBvdW5kU2VsZWN0aW9uKGFyZ3MpOwog\nICAgICAgICAgICBfYXJncyA9IGFyZ3MgPT0gbnVsbCA/IChMaXN0PFNlbGVj\ndGlvbjw/Pj4pQ29sbGVjdGlvbnMuRU1QVFlfTElTVCA6IEFycmF5cy5hc0xp\nc3QoYXJncyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHB1YmxpYyBm\naW5hbCBib29sZWFuIGlzQ29tcG91bmRTZWxlY3Rpb24oKSB7CiAgICAgICAg\nICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAv\nKioKICAgICAgICAgKiBSZXR1cm4gc2VsZWN0aW9uIGl0ZW1zIGNvbXBvc2lu\nZyBhIGNvbXBvdW5kIHNlbGVjdGlvbgogICAgICAgICAqIEByZXR1cm4gbGlz\ndCBvZiBzZWxlY3Rpb24gaXRlbXMKICAgICAgICAgKiBAdGhyb3dzIElsbGVn\nYWxTdGF0ZUV4Y2VwdGlvbiBpZiBzZWxlY3Rpb24gaXMgbm90IGEgY29tcG91\nbmQKICAgICAgICAgKiAgICAgICAgICAgc2VsZWN0aW9uCiAgICAgICAgICov\nCiAgICAgICAgcHVibGljIGZpbmFsIExpc3Q8U2VsZWN0aW9uPD8+PiBnZXRD\nb21wb3VuZFNlbGVjdGlvbkl0ZW1zKCkgewogICAgICAgICAgICByZXR1cm4g\nRXhwcmVzc2lvbnMucmV0dXJuQ29weShfYXJncyk7CiAgICAgICAgfQogICAg\nICAgIAogICAgICAgIHZvaWQgYXNzZXJ0Tm9Db21wb3VuZFNlbGVjdGlvbihT\nZWxlY3Rpb248Pz4uLi5hcmdzKSB7CiAgICAgICAgICAgIGlmIChhcmdzID09\nIG51bGwpCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGZv\nciAoU2VsZWN0aW9uPD8+IHMgOiBhcmdzKSB7CiAgICAgICAgICAgICAgICBp\nZiAocy5pc0NvbXBvdW5kU2VsZWN0aW9uKCkgJiYgIShzLmdldENsYXNzKCkg\nPT0gTmV3SW5zdGFuY2UuY2xhc3MpKSB7CiAgICAgICAgICAgICAgICAgICAg\ndGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiY29tcG91bmQg\nc2VsZWN0aW9uICIgKyBzICsgIiBjYW4gbm90IGJlIG5lc3RlZCBpbiAiICsg\ndGhpcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAg\nICB9CgogICAgICAgIGFic3RyYWN0IEZpbGxTdHJhdGVneTxYPiBnZXRGaWxs\nU3RyYXRlZ3koKTsKICAgICAgICAKICAgICAgICBAT3ZlcnJpZGUKICAgICAg\nICBwdWJsaWMgU3RyaW5nQnVpbGRlciBhc1ZhbHVlKEFsaWFzQ29udGV4dCBx\nKSB7CiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgYnVmZmVyID0gbmV3IFN0\ncmluZ0J1aWxkZXIoKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkg\nPCBfYXJncy5zaXplKCk7IGkrKykgewogICAgICAgICAgICAgICAgYnVmZmVy\nLmFwcGVuZCgoKChDcml0ZXJpYUV4cHJlc3Npb24pX2FyZ3MuZ2V0KGkpKS5h\nc1ZhbHVlKHEpKSk7CiAgICAgICAgICAgICAgICBpZiAoaSsxICE9IF9hcmdz\nLnNpemUoKSkKICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKCIs\nICIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBidWZmZXI7\nCiAgICAgICAgfQogICAgICAgIAogICAgICAgIEBPdmVycmlkZQogICAgICAg\nIHB1YmxpYyBTdHJpbmdCdWlsZGVyIGFzUHJvamVjdGlvbihBbGlhc0NvbnRl\neHQgcSkgewogICAgICAgICAgICBTdHJpbmdCdWlsZGVyIGJ1ZmZlciA9IG5l\ndyBTdHJpbmdCdWlsZGVyKCk7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAw\nOyBpIDwgX2FyZ3Muc2l6ZSgpOyBpKyspIHsKICAgICAgICAgICAgICAgIGJ1\nZmZlci5hcHBlbmQoKCgoQ3JpdGVyaWFFeHByZXNzaW9uKV9hcmdzLmdldChp\nKSkuYXNQcm9qZWN0aW9uKHEpKSk7CiAgICAgICAgICAgICAgICBpZiAoaSsx\nICE9IF9hcmdzLnNpemUoKSkKICAgICAgICAgICAgICAgICAgICBidWZmZXIu\nYXBwZW5kKCIsICIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVy\nbiBidWZmZXI7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAq\nIEEgY29tcG91bmQgc2VsZWN0aW9uIHdoaWNoIGlzIGFuIGFycmF5IG9mIGl0\ncyBjb21wb25lbnQgdGVybXMuCiAgICAgKgogICAgICogQHBhcmFtIDxYPiB0\neXBlIG11c3QgYmUgYW4gYXJyYXkKICAgICAqLwogICAgc3RhdGljIGNsYXNz\nIEFycmF5PFg+IGV4dGVuZHMgQ29tcG91bmRTZWxlY3Rpb25JbXBsPFg+IHsK\nICAgICAgICBwdWJsaWMgQXJyYXkoQ2xhc3M8WD4gY2xzLCBTZWxlY3Rpb248\nPz4uLi4gdGVybXMpIHsKICAgICAgICAgICAgc3VwZXIoY2xzLCB0ZXJtcyk7\nCiAgICAgICAgICAgIGlmICghY2xzLmlzQXJyYXkoKSkgewogICAgICAgICAg\nICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihjbHMg\nKyAiIGlzIG5vdCBhbiBhcnJheS4gIiArIHRoaXMgKyAiIG5lZWRzIGFuIGFy\ncmF5Iik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAg\nICAgcHVibGljIEZpbGxTdHJhdGVneTxYPiBnZXRGaWxsU3RyYXRlZ3koKSB7\nCiAgICAgICAgICAgIHJldHVybiBuZXcgRmlsbFN0cmF0ZWd5LkFycmF5PFg+\nKGdldEphdmFUeXBlKCkpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLyoq\nCiAgICAgKiBBIGNvbXBvdW5kIHNlbGVjdGlvbiB3aGljaCBpcyBhbiBpbnN0\nYW5jZSBjb25zdHJ1Y3RlZCBvZiBpdHMgY29tcG9uZW50IHRlcm1zLgogICAg\nICoKICAgICAqIEBwYXJhbSA8WD4gdHlwZSBvZiB0aGUgY29uc3RydWN0ZWQg\naW5zdGFuY2UKICAgICAqLwogICAgc3RhdGljIGNsYXNzIE5ld0luc3RhbmNl\nPFg+IGV4dGVuZHMgQ29tcG91bmRTZWxlY3Rpb25JbXBsPFg+IHsKICAgICAg\nICBwcml2YXRlIEZpbGxTdHJhdGVneS5OZXdJbnN0YW5jZTxYPiBzdHJhdGVn\neTsKICAgICAgICBwdWJsaWMgTmV3SW5zdGFuY2UoQ2xhc3M8WD4gY2xzLCBT\nZWxlY3Rpb248Pz4uLi4gc2VsZWN0aW9ucykgewogICAgICAgICAgICBzdXBl\ncihjbHMsIHNlbGVjdGlvbnMpOwogICAgICAgICAgICBzdHJhdGVneSA9IG5l\ndyBGaWxsU3RyYXRlZ3kuTmV3SW5zdGFuY2U8WD4oZmluZENvbnN0cnVjdG9y\nKGNscywgc2VsZWN0aW9ucykpOwogICAgICAgIH0KICAgICAgICAKICAgICAg\nICBwdWJsaWMgRmlsbFN0cmF0ZWd5PFg+IGdldEZpbGxTdHJhdGVneSgpIHsK\nICAgICAgICAgICAgcmV0dXJuIHN0cmF0ZWd5OwogICAgICAgIH0KICAgICAg\nICAKICAgICAgICBwcml2YXRlIENvbnN0cnVjdG9yPFg+IGZpbmRDb25zdHJ1\nY3RvcihDbGFzczxYPiBjbHMsIFNlbGVjdGlvbjw/Pi4uLiBzZWxlY3Rpb25z\nKSB7CiAgICAgICAgICAgIENsYXNzPD8+W10gdHlwZXMgPSBzZWxlY3Rpb25z\nID09IG51bGwgPyBudWxsIDogbmV3IENsYXNzW3NlbGVjdGlvbnMubGVuZ3Ro\nXTsKICAgICAgICAgICAgaWYgKHNlbGVjdGlvbnMgIT0gbnVsbCkgewogICAg\nICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzZWxlY3Rpb25zLmxl\nbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdHlwZXNbaV0gPSBz\nZWxlY3Rpb25zW2ldLmdldEphdmFUeXBlKCk7CiAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAg\nICAgIHJldHVybiBjbHMuZ2V0Q29uc3RydWN0b3IodHlwZXMpOwogICAgICAg\nICAgICB9IGNhdGNoIChOb1N1Y2hNZXRob2RFeGNlcHRpb24gZSkgewogICAg\nICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlv\nbihfbG9jLmdldCgic2VsZWN0LW5vLWN0b3IiLCBjbHMsIAogICAgICAgICAg\nICAgICAgICAgIHR5cGVzID09IG51bGwgPyAiW10iIDogQXJyYXlzLnRvU3Ry\naW5nKHR5cGVzKSkuZ2V0TWVzc2FnZSgpKTsKICAgICAgICAgICAgfQogICAg\nICAgIH0KICAgICAgICAKICAgICAgICBAT3ZlcnJpZGUKICAgICAgICBwdWJs\naWMgU3RyaW5nQnVpbGRlciBhc1ZhbHVlKEFsaWFzQ29udGV4dCBxKSB7CiAg\nICAgICAgICAgIHJldHVybiBuZXcgU3RyaW5nQnVpbGRlcigiTkVXICIpLmFw\ncGVuZChnZXRKYXZhVHlwZSgpLmdldE5hbWUoKSkuYXBwZW5kKCIoIikKICAg\nICAgICAgICAgICAgLmFwcGVuZChzdXBlci5hc1ZhbHVlKHEpKS5hcHBlbmQo\nIikiKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQSBj\nb21wb3VuZCBzZWxlY3Rpb24gd2hpY2ggaXMgYSBUdXBsZSBjb21wb3NlZCBv\nZiBpdHMgY29tcG9uZW50IHRlcm1zLgogICAgICoKICAgICAqLwogICAgc3Rh\ndGljIGNsYXNzIFR1cGxlIGV4dGVuZHMgQ29tcG91bmRTZWxlY3Rpb25JbXBs\nPGphdmF4LnBlcnNpc3RlbmNlLlR1cGxlPiB7CiAgICAgICAgcHVibGljIFR1\ncGxlKGZpbmFsIFNlbGVjdGlvbjw/PltdIHNlbGVjdGlvbnMpIHsKICAgICAg\nICAgICAgc3VwZXIoamF2YXgucGVyc2lzdGVuY2UuVHVwbGUuY2xhc3MsIHNl\nbGVjdGlvbnMpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBwdWJsaWMg\nRmlsbFN0cmF0ZWd5PGphdmF4LnBlcnNpc3RlbmNlLlR1cGxlPiBnZXRGaWxs\nU3RyYXRlZ3koKSB7CiAgICAgICAgICAgIExpc3Q8U2VsZWN0aW9uPD8+PiB0\nZXJtcyA9IGdldENvbXBvdW5kU2VsZWN0aW9uSXRlbXMoKTsKICAgICAgICAg\nICAgVHVwbGVGYWN0b3J5IGZhY3RvcnkgPSBuZXcgVHVwbGVGYWN0b3J5KHRl\ncm1zLnRvQXJyYXkobmV3IFR1cGxlRWxlbWVudFt0ZXJtcy5zaXplKCldKSk7\nCiAgICAgICAgICAgIHJldHVybiBuZXcgRmlsbFN0cmF0ZWd5LkZhY3Rvcnk8\namF2YXgucGVyc2lzdGVuY2UuVHVwbGU+KGZhY3RvcnksIFR1cGxlSW1wbC5Q\nVVQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEEgc2VsZWN0\naW9uIG9mIHRlcm1zIHRoYXQgaW50ZXJwcmV0cyBpdHMgYXJndW1lbnRzIGJh\nc2VkIG9uIHRhcmdldCByZXN1bHQgdHlwZS4KICAgICAqCiAgICAgKiBAcGFy\nYW0gPFQ+IHRoZSB0YXJnZXQgcmVzdWx0IHR5cGUuCiAgICAgKi8KICAgIHN0\nYXRpYyBjbGFzcyBNdWx0aVNlbGVjdGlvbjxUPiBleHRlbmRzIENvbXBvdW5k\nU2VsZWN0aW9uSW1wbDxUPiB7CiAgICAgICAgcHVibGljIE11bHRpU2VsZWN0\naW9uKENsYXNzPFQ+IHJlc3VsdCwgZmluYWwgU2VsZWN0aW9uPD8+W10gc2Vs\nZWN0aW9ucykgewogICAgICAgICAgICBzdXBlcihyZXN1bHQsIHNlbGVjdGlv\nbnMpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBwdWJsaWMgRmlsbFN0\ncmF0ZWd5PFQ+IGdldEZpbGxTdHJhdGVneSgpIHsKICAgICAgICAgICAgQ2xh\nc3M8Pz4gcmVzdWx0Q2xhc3MgPSBnZXRKYXZhVHlwZSgpOwogICAgICAgICAg\nICBMaXN0PFNlbGVjdGlvbjw/Pj4gdGVybXMgPSBnZXRDb21wb3VuZFNlbGVj\ndGlvbkl0ZW1zKCk7CiAgICAgICAgICAgIEZpbGxTdHJhdGVneTw/PiBzdHJh\ndGVneSA9IG51bGw7CiAgICAgICAgICAgIGlmIChqYXZheC5wZXJzaXN0ZW5j\nZS5UdXBsZS5jbGFzcy5pc0Fzc2lnbmFibGVGcm9tKHJlc3VsdENsYXNzKSkg\newogICAgICAgICAgICAgICAgVHVwbGVGYWN0b3J5IGZhY3RvcnkgPSBuZXcg\nVHVwbGVGYWN0b3J5KHRlcm1zLnRvQXJyYXkobmV3IFR1cGxlRWxlbWVudFt0\nZXJtcy5zaXplKCldKSk7CiAgICAgICAgICAgICAgICBzdHJhdGVneSA9IG5l\ndyBGaWxsU3RyYXRlZ3kuRmFjdG9yeTxqYXZheC5wZXJzaXN0ZW5jZS5UdXBs\nZT4oZmFjdG9yeSwgIFR1cGxlSW1wbC5QVVQpOwogICAgICAgICAgIH0gZWxz\nZSBpZiAocmVzdWx0Q2xhc3MgPT0gT2JqZWN0LmNsYXNzKSB7CiAgICAgICAg\nICAgICAgIGlmICh0ZXJtcy5zaXplKCkgPiAxKSB7IAogICAgICAgICAgICAg\nICAgICAgcmVzdWx0Q2xhc3MgPSBPYmplY3RbXS5jbGFzczsKICAgICAgICAg\nICAgICAgICAgIHN0cmF0ZWd5ID0gbmV3IEZpbGxTdHJhdGVneS5BcnJheTxP\nYmplY3RbXT4oT2JqZWN0W10uY2xhc3MpOwogICAgICAgICAgICAgICB9IGVs\nc2UgewogICAgICAgICAgICAgICAgICAgc3RyYXRlZ3kgPSBuZXcgRmlsbFN0\ncmF0ZWd5LkFzc2lnbigpOwogICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nfSBlbHNlIHsKICAgICAgICAgICAgICAgc3RyYXRlZ3kgPSByZXN1bHRDbGFz\ncy5pc0FycmF5KCkgCiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IEZp\nbGxTdHJhdGVneS5BcnJheShyZXN1bHRDbGFzcykgCiAgICAgICAgICAgICAg\nICAgICAgICAgIDogbmV3IEZpbGxTdHJhdGVneS5OZXdJbnN0YW5jZShyZXN1\nbHRDbGFzcyk7CiAgICAgICAgICAgfSAKICAgICAgICAgICAgcmV0dXJuIChG\naWxsU3RyYXRlZ3k8VD4pc3RyYXRlZ3k7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

