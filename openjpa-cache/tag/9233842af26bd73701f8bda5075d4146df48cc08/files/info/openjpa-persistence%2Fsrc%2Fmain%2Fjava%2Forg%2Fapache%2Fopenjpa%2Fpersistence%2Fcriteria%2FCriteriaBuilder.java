{"sha":"10c29dd6c1f7008fc0e7110b06e3dbf55711ac6d","node_id":"MDQ6QmxvYjIwNjM2NDoxMGMyOWRkNmMxZjcwMDhmYzBlNzExMGIwNmUzZGJmNTU3MTFhYzZk","size":25796,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/10c29dd6c1f7008fc0e7110b06e3dbf55711ac6d","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZh\nLm1hdGguQmlnSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkRhdGU7CmltcG9y\ndCBqYXZhLnNxbC5UaW1lOwppbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wOwpp\nbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwu\nQ29sbGVjdGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2\nYS51dGlsLlNldDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5UdXBsZTsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkNvbXBvdW5kU2Vs\nZWN0aW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuQ3Jp\ndGVyaWFRdWVyeTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlh\nLkV4cHJlc3Npb247CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJp\nYS5Gcm9tOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuT3Jk\nZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5QYXJhbWV0\nZXJFeHByZXNzaW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVy\naWEuUHJlZGljYXRlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVy\naWEuU2VsZWN0aW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVy\naWEuU3VicXVlcnk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9k\nZWwuQXR0cmlidXRlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1v\nZGVsLk1hbmFnZWRUeXBlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0\nYW1vZGVsLk1ldGFtb2RlbDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLkV4cHJlc3Npb25TdG9yZVF1ZXJ5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5leHBzLkV4cHJlc3Npb25GYWN0b3J5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLkV4cHJlc3Npb25Q\nYXJzZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHMu\nUXVlcnlFeHByZXNzaW9uczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuZXhwcy5WYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5t\nZXRhLkNsYXNzTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UubWV0YS5NZXRhbW9kZWxJbXBsOwoKLyoqCiAqIEZhY3Rv\ncnkgZm9yIENyaXRlcmlhIHF1ZXJ5IGV4cHJlc3Npb25zLgogKiAKICogQWN0\ncyBhcyBhbiBhZGFwdGVyIHRvIE9wZW5KUEEgRXhwcmVzc2lvbkZhY3Rvcnku\nCiAqIAogKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICogQGF1dGhvciBGYXkg\nV2FuZwogKiAKICogQHNpbmNlIDIuMC4wCiAqCiAqLwpAU3VwcHJlc3NXYXJu\naW5ncygic2VyaWFsIikKcHVibGljIGNsYXNzIENyaXRlcmlhQnVpbGRlciBp\nbXBsZW1lbnRzIE9wZW5KUEFDcml0ZXJpYUJ1aWxkZXIsIEV4cHJlc3Npb25Q\nYXJzZXIgewogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgTEFOR19D\nUklURVJJQSA9ICJqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYSI7CgogICAg\ncHJpdmF0ZSBNZXRhbW9kZWxJbXBsIF9tb2RlbDsKCiAgICBwdWJsaWMgQ3Jp\ndGVyaWFCdWlsZGVyIHNldE1ldGFNb2RlbChNZXRhbW9kZWxJbXBsIG1vZGVs\nKSB7CiAgICAgICAgX21vZGVsID0gbW9kZWw7CiAgICAgICAgcmV0dXJuIHRo\naXM7CiAgICB9CiAgICAKICAgIHB1YmxpYyBNZXRhbW9kZWwgZ2V0TWV0YW1v\nZGVsKCkgewogICAgICAgIHJldHVybiBfbW9kZWw7CiAgICB9CgogICAgcHVi\nbGljIFF1ZXJ5RXhwcmVzc2lvbnMgZXZhbChPYmplY3QgcGFyc2VkLCBFeHBy\nZXNzaW9uU3RvcmVRdWVyeSBxdWVyeSwKICAgICAgICBFeHByZXNzaW9uRmFj\ndG9yeSBmYWN0b3J5LCBDbGFzc01ldGFEYXRhIGNhbmRpZGF0ZSkgewogICAg\nICAgIENyaXRlcmlhUXVlcnlJbXBsPD8+IGMgPSAoQ3JpdGVyaWFRdWVyeUlt\ncGw8Pz4pIHBhcnNlZDsKICAgICAgICByZXR1cm4gYy5nZXRRdWVyeUV4cHJl\nc3Npb25zKGZhY3RvcnkpOwogICAgfQogICAgCiAgICBwdWJsaWMgVmFsdWVb\nXSBldmFsKFN0cmluZ1tdIHZhbHMsIEV4cHJlc3Npb25TdG9yZVF1ZXJ5IHF1\nZXJ5LAogICAgICAgIEV4cHJlc3Npb25GYWN0b3J5IGZhY3RvcnksIENsYXNz\nTWV0YURhdGEgY2FuZGlkYXRlKSB7CiAgICAgICAgdGhyb3cgbmV3IEFic3Ry\nYWN0TWV0aG9kRXJyb3IoKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndExhbmd1YWdlKCkgewogICAgICAgIHJldHVybiBMQU5HX0NSSVRFUklBOwog\nICAgfQogICAgCiAgICAvKioKICAgICAqICBDcmVhdGUgYSBDcml0ZXJpYSBx\ndWVyeSBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHJlc3VsdCB0eXBlLgog\nICAgICogIEBwYXJhbSByZXN1bHRDbGFzcyAgdHlwZSBvZiB0aGUgcXVlcnkg\ncmVzdWx0CiAgICAgKiAgQHJldHVybiBxdWVyeSBvYmplY3QKICAgICAqLwog\nICAgcHVibGljIDxUPiBPcGVuSlBBQ3JpdGVyaWFRdWVyeTxUPiBjcmVhdGVR\ndWVyeShDbGFzczxUPiByZXN1bHRDbGFzcykgewogICAgICAgIHJldHVybiBu\nZXcgQ3JpdGVyaWFRdWVyeUltcGw8VD4oX21vZGVsLCByZXN1bHRDbGFzcyk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiAgQ3JlYXRlIGEgQ3JpdGVyaWEgcXVl\ncnkgb2JqZWN0IHRoYXQgcmV0dXJucyBhIHR1cGxlIG9mIAogICAgICogIG9i\namVjdHMgYXMgaXRzIHJlc3VsdC4KICAgICAqICBAcmV0dXJuIHF1ZXJ5IG9i\namVjdAogICAgICovCiAgICBwdWJsaWMgT3BlbkpQQUNyaXRlcmlhUXVlcnk8\nVHVwbGU+IGNyZWF0ZVR1cGxlUXVlcnkoKSB7CiAgICAgICAgcmV0dXJuIG5l\ndyBDcml0ZXJpYVF1ZXJ5SW1wbDxUdXBsZT4oX21vZGVsLCBUdXBsZS5jbGFz\ncyk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBwYXJzZShTdHJpbmcgcWws\nIEV4cHJlc3Npb25TdG9yZVF1ZXJ5IHF1ZXJ5KSB7CiAgICAgICAgdGhyb3cg\nbmV3IEFic3RyYWN0TWV0aG9kRXJyb3IoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBwb3B1bGF0ZShPYmplY3QgcGFyc2VkLCBFeHByZXNzaW9uU3RvcmVR\ndWVyeSBxdWVyeSkgewogICAgICAgIENyaXRlcmlhUXVlcnlJbXBsPD8+IGMg\nPSAoQ3JpdGVyaWFRdWVyeUltcGw8Pz4pIHBhcnNlZDsKICAgICAgICBxdWVy\neS5pbnZhbGlkYXRlQ29tcGlsYXRpb24oKTsKICAgICAgICBxdWVyeS5nZXRD\nb250ZXh0KCkuc2V0Q2FuZGlkYXRlVHlwZShjLmdldFJvb3QoKS5nZXRKYXZh\nVHlwZSgpLCB0cnVlKTsKICAgICAgICBxdWVyeS5zZXRRdWVyeShwYXJzZWQp\nOwogICAgfQoKICAgIHB1YmxpYyA8TiBleHRlbmRzIE51bWJlcj4gRXhwcmVz\nc2lvbjxOPiBhYnMoRXhwcmVzc2lvbjxOPiB4KSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBFeHByZXNzaW9ucy5BYnM8Tj4oeCk7CiAgICB9CgogICAgcHVibGlj\nIDxZPiBFeHByZXNzaW9uPFk+IGFsbChTdWJxdWVyeTxZPiBzdWJxdWVyeSkg\newogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuQWxsPFk+KHN1YnF1\nZXJ5KTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIGFuZChQcmVkaWNh\ndGUuLi4gcmVzdHJpY3Rpb25zKSB7CiAgICAJcmV0dXJuIG5ldyBQcmVkaWNh\ndGVJbXBsLkFuZChyZXN0cmljdGlvbnMpOwogICAgfQoKICAgIHB1YmxpYyBQ\ncmVkaWNhdGUgYW5kKEV4cHJlc3Npb248Qm9vbGVhbj4geCwgRXhwcmVzc2lv\nbjxCb29sZWFuPiB5KSB7CiAgICAJcmV0dXJuIG5ldyBQcmVkaWNhdGVJbXBs\nLkFuZCh4LHkpOwogICAgfQoKICAgIHB1YmxpYyA8WT4gRXhwcmVzc2lvbjxZ\nPiBhbnkoU3VicXVlcnk8WT4gc3VicXVlcnkpIHsKICAgICAgICByZXR1cm4g\nbmV3IEV4cHJlc3Npb25zLkFueTxZPihzdWJxdWVyeSk7CiAgICB9CgogICAg\ncHVibGljIE9yZGVyIGFzYyhFeHByZXNzaW9uPD8+IHgpIHsKICAgICAgICBy\nZXR1cm4gbmV3IE9yZGVySW1wbCh4LCB0cnVlKTsKICAgIH0KCiAgICBwdWJs\naWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4cHJlc3Npb248RG91YmxlPiBhdmco\nRXhwcmVzc2lvbjxOPiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNz\naW9ucy5BdmcoeCk7CiAgICB9CgogICAgcHVibGljIDxZIGV4dGVuZHMgQ29t\ncGFyYWJsZTxZPj4gUHJlZGljYXRlIGJldHdlZW4oCiAgICAgICAgRXhwcmVz\nc2lvbjw/IGV4dGVuZHMgWT4gdiwgRXhwcmVzc2lvbjw/IGV4dGVuZHMgWT4g\neCwKICAgICAgICBFeHByZXNzaW9uPD8gZXh0ZW5kcyBZPiB5KSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5CZXR3ZWVuPFk+KHYsIHgsIHkp\nOwogICAgfQoKICAgIHB1YmxpYyA8WSBleHRlbmRzIENvbXBhcmFibGU8WT4+\nIFByZWRpY2F0ZSBiZXR3ZWVuKAogICAgICAgIEV4cHJlc3Npb248PyBleHRl\nbmRzIFk+IHYsIFkgeCwgWSB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHBy\nZXNzaW9ucy5CZXR3ZWVuPFk+KHYseCx5KTsKICAgIH0KCiAgICBwdWJsaWMg\nPFQ+IENvYWxlc2NlPFQ+IGNvYWxlc2NlKCkgewogICAgICAgIHJldHVybiBu\nZXcgRXhwcmVzc2lvbnMuQ29hbGVzY2UoT2JqZWN0LmNsYXNzKTsKICAgIH0K\nCiAgICBwdWJsaWMgPFk+IEV4cHJlc3Npb248WT4gY29hbGVzY2UoRXhwcmVz\nc2lvbjw/IGV4dGVuZHMgWT4geCwgRXhwcmVzc2lvbjw/IGV4dGVuZHMgWT4g\neSkgewogICAgCXJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ29hbGVzY2UoeC5n\nZXRKYXZhVHlwZSgpKS52YWx1ZSh4KS52YWx1ZSh5KTsKICAgIH0KCiAgICBw\ndWJsaWMgPFk+IEV4cHJlc3Npb248WT4gY29hbGVzY2UoRXhwcmVzc2lvbjw/\nIGV4dGVuZHMgWT4geCwgWSB5KSB7CiAgICAJcmV0dXJuIG5ldyBFeHByZXNz\naW9ucy5Db2FsZXNjZSh4LmdldEphdmFUeXBlKCkpLnZhbHVlKHgpLnZhbHVl\nKHkpOwogICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiBjb25j\nYXQoRXhwcmVzc2lvbjxTdHJpbmc+IHgsIEV4cHJlc3Npb248U3RyaW5nPiB5\nKSB7CiAgICAJcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Db25jYXQoeCwgeSk7\nCiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiBjb25jYXQo\nRXhwcmVzc2lvbjxTdHJpbmc+IHgsIFN0cmluZyB5KSB7CiAgICAJcmV0dXJu\nIG5ldyBFeHByZXNzaW9ucy5Db25jYXQoeCwgeSk7CiAgICB9CgogICAgcHVi\nbGljIEV4cHJlc3Npb248U3RyaW5nPiBjb25jYXQoU3RyaW5nIHgsIEV4cHJl\nc3Npb248U3RyaW5nPiB5KSB7CiAgICAJcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5Db25jYXQoeCwgeSk7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBj\nb25qdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IFByZWRpY2F0ZUlt\ncGwuQW5kKCk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248TG9uZz4g\nY291bnQoRXhwcmVzc2lvbjw/PiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBF\neHByZXNzaW9ucy5Db3VudCh4KTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVz\nc2lvbjxMb25nPiBjb3VudERpc3RpbmN0KEV4cHJlc3Npb248Pz4geCkgewog\nICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ291bnQoeCwgdHJ1ZSk7\nCiAgICB9CgogICAgcHVibGljIENyaXRlcmlhUXVlcnk8T2JqZWN0PiBjcmVh\ndGVRdWVyeSgpIHsKICAgICAgICByZXR1cm4gbmV3IENyaXRlcmlhUXVlcnlJ\nbXBsPE9iamVjdD4oX21vZGVsLCBPYmplY3QuY2xhc3MpOwogICAgfQoKICAg\nIHB1YmxpYyBFeHByZXNzaW9uPERhdGU+IGN1cnJlbnREYXRlKCkgewogICAg\nCXJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ3VycmVudERhdGUoKTsKICAgIH0K\nCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxUaW1lPiBjdXJyZW50VGltZSgpIHsK\nICAgIAlyZXR1cm4gbmV3IEV4cHJlc3Npb25zLkN1cnJlbnRUaW1lKCk7CiAg\nICB9CgogICAgcHVibGljIEV4cHJlc3Npb248VGltZXN0YW1wPiBjdXJyZW50\nVGltZXN0YW1wKCkgewogICAgCXJldHVybiBuZXcgRXhwcmVzc2lvbnMuQ3Vy\ncmVudFRpbWVzdGFtcCgpOwogICAgfQoKICAgIHB1YmxpYyBPcmRlciBkZXNj\nKEV4cHJlc3Npb248Pz4geCkgewogICAgCXJldHVybiBuZXcgT3JkZXJJbXBs\nKHgsIGZhbHNlKTsKICAgIH0KCiAgICBwdWJsaWMgPE4gZXh0ZW5kcyBOdW1i\nZXI+IEV4cHJlc3Npb248Tj4gZGlmZihFeHByZXNzaW9uPD8gZXh0ZW5kcyBO\nPiB4LAogICAgICAgIEV4cHJlc3Npb248PyBleHRlbmRzIE4+IHkpIHsKICAg\nICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkRpZmY8Tj4oeCwgeSk7CiAg\nICB9CgogICAgcHVibGljIDxOIGV4dGVuZHMgTnVtYmVyPiBFeHByZXNzaW9u\nPE4+IGRpZmYoCiAgICAgICAgRXhwcmVzc2lvbjw/IGV4dGVuZHMgTj4geCwg\nTiB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5EaWZmPE4+\nKHgsIHkpOwogICAgfQoKICAgIHB1YmxpYyA8TiBleHRlbmRzIE51bWJlcj4g\nRXhwcmVzc2lvbjxOPiBkaWZmKE4geCwgCiAgICAgICAgRXhwcmVzc2lvbjw/\nIGV4dGVuZHMgTj4geSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lv\nbnMuRGlmZjxOPih4LCB5KTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRl\nIGRpc2p1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBuZXcgUHJlZGljYXRl\nSW1wbC5PcigpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgZXF1YWwo\nRXhwcmVzc2lvbjw/PiB4LCBFeHByZXNzaW9uPD8+IHkpIHsKICAgICAgICBp\nZiAoeSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Np\nb25zLklzTnVsbCgoRXhwcmVzc2lvbkltcGw8Pz4gKXgpOwogICAgICAgIHJl\ndHVybiBuZXcgRXhwcmVzc2lvbnMuRXF1YWwoeCwgeSk7CiAgICB9CgogICAg\ncHVibGljIFByZWRpY2F0ZSBlcXVhbChFeHByZXNzaW9uPD8+IHgsIE9iamVj\ndCB5KSB7CiAgICAgICAgaWYgKHkgPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIG5ldyBFeHByZXNzaW9ucy5Jc051bGwoKEV4cHJlc3Npb25JbXBsPD8+\nICl4KTsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkVxdWFsKHgs\nIHkpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgZXhpc3RzKFN1YnF1\nZXJ5PD8+IHN1YnF1ZXJ5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNz\naW9ucy5FeGlzdHMoc3VicXVlcnkpOwogICAgfQoKICAgIHB1YmxpYyA8VD4g\nRXhwcmVzc2lvbjxUPiBmdW5jdGlvbihTdHJpbmcgbmFtZSwgQ2xhc3M8VD4g\ndHlwZSwKICAgICAgICBFeHByZXNzaW9uPD8+Li4uIGFyZ3MpIHsKICAgICAg\nICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkRhdGFiYXNlRnVuY3Rpb24obmFt\nZSwgdHlwZSwgYXJncyk7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBn\nZShFeHByZXNzaW9uPD8gZXh0ZW5kcyBOdW1iZXI+IHgsCiAgICAgICAgRXhw\ncmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiB5KSB7CiAgICAgICAgcmV0dXJu\nIG5ldyBFeHByZXNzaW9ucy5HcmVhdGVyVGhhbkVxdWFsKHgseSk7CiAgICB9\nCgogICAgcHVibGljIFByZWRpY2F0ZSBnZShFeHByZXNzaW9uPD8gZXh0ZW5k\ncyBOdW1iZXI+IHgsIE51bWJlciB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBF\neHByZXNzaW9ucy5HcmVhdGVyVGhhbkVxdWFsKHgseSk7CiAgICB9CgogICAg\ncHVibGljIDxZIGV4dGVuZHMgQ29tcGFyYWJsZTxZPj4gUHJlZGljYXRlIGdy\nZWF0ZXJUaGFuKAogICAgICAgIEV4cHJlc3Npb248PyBleHRlbmRzIFk+IHgs\nIEV4cHJlc3Npb248PyBleHRlbmRzIFk+IHkpIHsKICAgICAgICByZXR1cm4g\nbmV3IEV4cHJlc3Npb25zLkdyZWF0ZXJUaGFuKHgseSk7CiAgICB9CgogICAg\ncHVibGljIDxZIGV4dGVuZHMgQ29tcGFyYWJsZTxZPj4gUHJlZGljYXRlIGdy\nZWF0ZXJUaGFuKAogICAgICAgIEV4cHJlc3Npb248PyBleHRlbmRzIFk+IHgs\nIFkgeSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuR3JlYXRl\nclRoYW4oeCwgeSk7CiAgICB9CgogICAgcHVibGljIDxZIGV4dGVuZHMgQ29t\ncGFyYWJsZTxZPj4gUHJlZGljYXRlIGdyZWF0ZXJUaGFuT3JFcXVhbFRvKAog\nICAgICAgIEV4cHJlc3Npb248PyBleHRlbmRzIFk+IHgsIEV4cHJlc3Npb248\nPyBleHRlbmRzIFk+IHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Np\nb25zLkdyZWF0ZXJUaGFuRXF1YWwoeCx5KTsKICAgIH0KCiAgICBwdWJsaWMg\nPFkgZXh0ZW5kcyBDb21wYXJhYmxlPFk+PiBQcmVkaWNhdGUgZ3JlYXRlclRo\nYW5PckVxdWFsVG8oCiAgICAgICAgRXhwcmVzc2lvbjw/IGV4dGVuZHMgWT4g\neCwgWSB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5HcmVh\ndGVyVGhhbkVxdWFsKHgseSk7CiAgICB9CgogICAgcHVibGljIDxYIGV4dGVu\nZHMgQ29tcGFyYWJsZTxYPj4gRXhwcmVzc2lvbjxYPiBncmVhdGVzdChFeHBy\nZXNzaW9uPFg+IHgpIHsKICAgIAlyZXR1cm4gbmV3IEV4cHJlc3Npb25zLk1h\neDxYPih4KTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIGd0KEV4cHJl\nc3Npb248PyBleHRlbmRzIE51bWJlcj4geCwKICAgICAgICBFeHByZXNzaW9u\nPD8gZXh0ZW5kcyBOdW1iZXI+IHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4\ncHJlc3Npb25zLkdyZWF0ZXJUaGFuKHgseSk7CiAgICB9CgogICAgcHVibGlj\nIFByZWRpY2F0ZSBndChFeHByZXNzaW9uPD8gZXh0ZW5kcyBOdW1iZXI+IHgs\nIE51bWJlciB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5H\ncmVhdGVyVGhhbih4LHkpOwogICAgfQoKICAgIHB1YmxpYyA8VD4gSW48VD4g\naW4oRXhwcmVzc2lvbjw/IGV4dGVuZHMgVD4gZXhwcmVzc2lvbikgewogICAg\nICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuSW48VD4oZXhwcmVzc2lvbik7\nCiAgICB9CgogICAgcHVibGljIDxDIGV4dGVuZHMgQ29sbGVjdGlvbjw/Pj4g\nUHJlZGljYXRlIGlzRW1wdHkoRXhwcmVzc2lvbjxDPiBjb2xsZWN0aW9uKSB7\nCiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Jc0VtcHR5KGNvbGxl\nY3Rpb24pOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgaXNGYWxzZShF\neHByZXNzaW9uPEJvb2xlYW4+IHgpIHsKICAgICAgICByZXR1cm4gbmV3IEV4\ncHJlc3Npb25zLkVxdWFsKHgsIGZhbHNlKTsKICAgIH0KCiAgICBwdWJsaWMg\nPEUsIEMgZXh0ZW5kcyBDb2xsZWN0aW9uPEU+PiBQcmVkaWNhdGUgaXNNZW1i\nZXIoRSBlLCBFeHByZXNzaW9uPEM+IGMpIHsKICAgICAgICByZXR1cm4gbmV3\nIEV4cHJlc3Npb25zLklzTWVtYmVyPEU+KGUsIGMpOwogICAgfQoKICAgIHB1\nYmxpYyA8RSwgQyBleHRlbmRzIENvbGxlY3Rpb248RT4+IFByZWRpY2F0ZSBp\nc01lbWJlcihFeHByZXNzaW9uPEU+IGUsIEV4cHJlc3Npb248Qz4gYykgewog\nICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuSXNNZW1iZXI8RT4oZSwg\nYyk7CiAgICB9CgogICAgcHVibGljIDxDIGV4dGVuZHMgQ29sbGVjdGlvbjw/\nPj4gUHJlZGljYXRlIGlzTm90RW1wdHkoRXhwcmVzc2lvbjxDPiBjb2xsZWN0\naW9uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Jc05vdEVt\ncHR5KGNvbGxlY3Rpb24pOwogICAgfQoKICAgIHB1YmxpYyA8RSwgQyBleHRl\nbmRzIENvbGxlY3Rpb248RT4+IFByZWRpY2F0ZSBpc05vdE1lbWJlcihFIGUs\nIEV4cHJlc3Npb248Qz4gYykgewogICAgICAgIHJldHVybiBpc01lbWJlcihl\nLCBjKS5uZWdhdGUoKTsKICAgIH0KCiAgICBwdWJsaWMgPEUsIEMgZXh0ZW5k\ncyBDb2xsZWN0aW9uPEU+PiBQcmVkaWNhdGUgaXNOb3RNZW1iZXIoRXhwcmVz\nc2lvbjxFPiBlLCBFeHByZXNzaW9uPEM+IGMpIHsKICAgICAgICByZXR1cm4g\naXNNZW1iZXIoZSwgYykubmVnYXRlKCk7CiAgICB9CgogICAgcHVibGljIFBy\nZWRpY2F0ZSBpc1RydWUoRXhwcmVzc2lvbjxCb29sZWFuPiB4KSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5FcXVhbCh4LCBmYWxzZSk7CiAg\nICB9CgogICAgcHVibGljIDxLLCBNIGV4dGVuZHMgTWFwPEssID8+PiBFeHBy\nZXNzaW9uPFNldDxLPj4ga2V5cyhNIG1hcCkgewogICAgICAgIHJldHVybiBu\nZXcgRXhwcmVzc2lvbnMuQ29uc3RhbnQ8U2V0PEs+PihtYXAgPT0gbnVsbCA/\nIENvbGxlY3Rpb25zLkVNUFRZX1NFVCA6IG1hcC5rZXlTZXQoKSk7CiAgICB9\nCgogICAgcHVibGljIFByZWRpY2F0ZSBsZShFeHByZXNzaW9uPD8gZXh0ZW5k\ncyBOdW1iZXI+IHgsIEV4cHJlc3Npb248PyBleHRlbmRzIE51bWJlcj4geSkg\newogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuTGVzc1RoYW5FcXVh\nbCh4LHkpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgbGUoRXhwcmVz\nc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiB4LCBOdW1iZXIgeSkgewogICAgICAg\nIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuTGVzc1RoYW5FcXVhbCh4LHkpOwog\nICAgfQoKICAgIHB1YmxpYyA8WCBleHRlbmRzIENvbXBhcmFibGU8WD4+IEV4\ncHJlc3Npb248WD4gbGVhc3QoRXhwcmVzc2lvbjxYPiB4KSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBFeHByZXNzaW9ucy5NaW48WD4oeCk7CiAgICB9CgogICAg\ncHVibGljIEV4cHJlc3Npb248SW50ZWdlcj4gbGVuZ3RoKEV4cHJlc3Npb248\nU3RyaW5nPiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5M\nZW5ndGgoeCk7CgogICAgfQoKICAgIHB1YmxpYyA8WSBleHRlbmRzIENvbXBh\ncmFibGU8WT4+IFByZWRpY2F0ZSBsZXNzVGhhbihFeHByZXNzaW9uPD8gZXh0\nZW5kcyBZPiB4LCBFeHByZXNzaW9uPD8gZXh0ZW5kcyBZPiB5KSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5MZXNzVGhhbih4LHkpOwogICAg\nfQoKICAgIHB1YmxpYyA8WSBleHRlbmRzIENvbXBhcmFibGU8WT4+IFByZWRp\nY2F0ZSBsZXNzVGhhbihFeHByZXNzaW9uPD8gZXh0ZW5kcyBZPiB4LCBZIHkp\nIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkxlc3NUaGFuKHgs\neSk7CgogICAgfQoKICAgIHB1YmxpYyA8WSBleHRlbmRzIENvbXBhcmFibGU8\nWT4+IFByZWRpY2F0ZSBsZXNzVGhhbk9yRXF1YWxUbyhFeHByZXNzaW9uPD8g\nZXh0ZW5kcyBZPiB4LCBFeHByZXNzaW9uPD8gZXh0ZW5kcyBZPiB5KSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5MZXNzVGhhbkVxdWFsKHgs\neSk7CiAgICB9CgogICAgcHVibGljIDxZIGV4dGVuZHMgQ29tcGFyYWJsZTxZ\nPj4gUHJlZGljYXRlIGxlc3NUaGFuT3JFcXVhbFRvKEV4cHJlc3Npb248PyBl\neHRlbmRzIFk+IHgsIFkgeSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuTGVzc1RoYW5FcXVhbCh4LHkpOwogICAgfQoKICAgIHB1YmxpYyBQ\ncmVkaWNhdGUgbGlrZShFeHByZXNzaW9uPFN0cmluZz4geCwgRXhwcmVzc2lv\nbjxTdHJpbmc+IHBhdHRlcm4pIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJl\nc3Npb25zLkxpa2UoeCxwYXR0ZXJuKTsKICAgIH0KCiAgICBwdWJsaWMgUHJl\nZGljYXRlIGxpa2UoRXhwcmVzc2lvbjxTdHJpbmc+IHgsIFN0cmluZyBwYXR0\nZXJuKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5MaWtlKHgs\ncGF0dGVybik7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBsaWtlKEV4\ncHJlc3Npb248U3RyaW5nPiB4LCBFeHByZXNzaW9uPFN0cmluZz4gcGF0dGVy\nbiwgRXhwcmVzc2lvbjxDaGFyYWN0ZXI+IGVzY2FwZUNoYXIpIHsKICAgICAg\nICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkxpa2UoeCxwYXR0ZXJuLGVzY2Fw\nZUNoYXIpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgbGlrZShFeHBy\nZXNzaW9uPFN0cmluZz4geCwgRXhwcmVzc2lvbjxTdHJpbmc+IHBhdHRlcm4s\nIGNoYXIgZXNjYXBlQ2hhcikgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuTGlrZSh4LHBhdHRlcm4sZXNjYXBlQ2hhcik7CiAgICB9CgogICAg\ncHVibGljIFByZWRpY2F0ZSBsaWtlKEV4cHJlc3Npb248U3RyaW5nPiB4LCBT\ndHJpbmcgcGF0dGVybiwgRXhwcmVzc2lvbjxDaGFyYWN0ZXI+IGVzY2FwZUNo\nYXIpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkxpa2UoeCxw\nYXR0ZXJuLGVzY2FwZUNoYXIpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNh\ndGUgbGlrZShFeHByZXNzaW9uPFN0cmluZz4geCwgU3RyaW5nIHBhdHRlcm4s\nIGNoYXIgZXNjYXBlQ2hhcikgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuTGlrZSh4LHBhdHRlcm4sZXNjYXBlQ2hhcik7CiAgICB9CgogICAg\ncHVibGljIDxUPiBFeHByZXNzaW9uPFQ+IGxpdGVyYWwoVCB2YWx1ZSkgewog\nICAgICAgIGlmIChCb29sZWFuLlRSVUUuZXF1YWxzKHZhbHVlKSkKICAgICAg\nICAgICAgcmV0dXJuIChFeHByZXNzaW9uPFQ+KVByZWRpY2F0ZUltcGwuVFJV\nRTsKICAgICAgICBpZiAoQm9vbGVhbi5GQUxTRS5lcXVhbHModmFsdWUpKQog\nICAgICAgICAgICByZXR1cm4gKEV4cHJlc3Npb248VD4pUHJlZGljYXRlSW1w\nbC5GQUxTRTsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkNvbnN0\nYW50PFQ+KHZhbHVlKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxJ\nbnRlZ2VyPiBsb2NhdGUoRXhwcmVzc2lvbjxTdHJpbmc+IHgsIEV4cHJlc3Np\nb248U3RyaW5nPiBwYXR0ZXJuKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHBy\nZXNzaW9ucy5Mb2NhdGUoeCwgcGF0dGVybik7CiAgICB9CgogICAgcHVibGlj\nIEV4cHJlc3Npb248SW50ZWdlcj4gbG9jYXRlKEV4cHJlc3Npb248U3RyaW5n\nPiB4LCBTdHJpbmcgcGF0dGVybikgewogICAgICAgIHJldHVybiBuZXcgRXhw\ncmVzc2lvbnMuTG9jYXRlKHgsIHBhdHRlcm4pOwoKICAgIH0KCiAgICBwdWJs\naWMgRXhwcmVzc2lvbjxJbnRlZ2VyPiBsb2NhdGUoRXhwcmVzc2lvbjxTdHJp\nbmc+IHgsIEV4cHJlc3Npb248U3RyaW5nPiBwYXR0ZXJuLCBFeHByZXNzaW9u\nPEludGVnZXI+IGZyb20pIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Np\nb25zLkxvY2F0ZSh4LCBwYXR0ZXJuLCBmcm9tKTsKCiAgICB9CgogICAgcHVi\nbGljIEV4cHJlc3Npb248SW50ZWdlcj4gbG9jYXRlKEV4cHJlc3Npb248U3Ry\naW5nPiB4LCBTdHJpbmcgcGF0dGVybiwgaW50IGZyb20pIHsKICAgICAgICBy\nZXR1cm4gbmV3IEV4cHJlc3Npb25zLkxvY2F0ZSh4LCBwYXR0ZXJuLCBmcm9t\nKTsKCiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiBsb3dl\ncihFeHByZXNzaW9uPFN0cmluZz4geCkgewogICAgICAgIHJldHVybiBuZXcg\nRXhwcmVzc2lvbnMuTG93ZXIoeCk7CgogICAgfQoKICAgIHB1YmxpYyBQcmVk\naWNhdGUgbHQoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiB4LCBFeHBy\nZXNzaW9uPD8gZXh0ZW5kcyBOdW1iZXI+IHkpIHsKICAgICAgICByZXR1cm4g\nbmV3IEV4cHJlc3Npb25zLkxlc3NUaGFuKHgseSk7CiAgICB9CgogICAgcHVi\nbGljIFByZWRpY2F0ZSBsdChFeHByZXNzaW9uPD8gZXh0ZW5kcyBOdW1iZXI+\nIHgsIE51bWJlciB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5MZXNzVGhhbih4LHkpOwogICAgfQoKICAgIHB1YmxpYyA8TiBleHRlbmRz\nIE51bWJlcj4gRXhwcmVzc2lvbjxOPiBtYXgoRXhwcmVzc2lvbjxOPiB4KSB7\nCiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5NYXg8Tj4oeCk7CiAg\nICB9CgogICAgcHVibGljIDxOIGV4dGVuZHMgTnVtYmVyPiBFeHByZXNzaW9u\nPE4+IG1pbihFeHByZXNzaW9uPE4+IHgpIHsKICAgICAgICByZXR1cm4gbmV3\nIEV4cHJlc3Npb25zLk1pbjxOPih4KTsKICAgIH0KCiAgICBwdWJsaWMgRXhw\ncmVzc2lvbjxJbnRlZ2VyPiBtb2QoRXhwcmVzc2lvbjxJbnRlZ2VyPiB4LCBF\neHByZXNzaW9uPEludGVnZXI+IHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4\ncHJlc3Npb25zLk1vZCh4LHkpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNz\naW9uPEludGVnZXI+IG1vZChFeHByZXNzaW9uPEludGVnZXI+IHgsIEludGVn\nZXIgeSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuTW9kKHgs\neSk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248SW50ZWdlcj4gbW9k\nKEludGVnZXIgeCwgRXhwcmVzc2lvbjxJbnRlZ2VyPiB5KSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Nb2QoeCx5KTsKICAgIH0KCiAgICBw\ndWJsaWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4cHJlc3Npb248Tj4gbmVnKEV4\ncHJlc3Npb248Tj4geCkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lv\nbnMuRGlmZjxOPigwLCB4KTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRl\nIG5vdChFeHByZXNzaW9uPEJvb2xlYW4+IHJlc3RyaWN0aW9uKSB7CiAgICAg\nICAgcmV0dXJuICgoUHJlZGljYXRlKXJlc3RyaWN0aW9uKS5uZWdhdGUoKTsK\nICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIG5vdEVxdWFsKEV4cHJlc3Np\nb248Pz4geCwgRXhwcmVzc2lvbjw/PiB5KSB7CiAgICAgICAgcmV0dXJuIG5l\ndyBFeHByZXNzaW9ucy5Ob3RFcXVhbCh4LCB5KTsKICAgIH0KCiAgICBwdWJs\naWMgUHJlZGljYXRlIG5vdEVxdWFsKEV4cHJlc3Npb248Pz4geCwgT2JqZWN0\nIHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLk5vdEVxdWFs\nKHgsIHkpOwogICAgfQoKICAgIHB1YmxpYyBQcmVkaWNhdGUgbm90TGlrZShF\neHByZXNzaW9uPFN0cmluZz4geCwgRXhwcmVzc2lvbjxTdHJpbmc+IHBhdHRl\ncm4pIHsKICAgICAgICByZXR1cm4gbGlrZSh4LCBwYXR0ZXJuKS5uZWdhdGUo\nKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIG5vdExpa2UoRXhwcmVz\nc2lvbjxTdHJpbmc+IHgsIFN0cmluZyBwYXR0ZXJuKSB7CiAgICAgICAgcmV0\ndXJuIGxpa2UoeCwgcGF0dGVybikubmVnYXRlKCk7CiAgICB9CgogICAgcHVi\nbGljIFByZWRpY2F0ZSBub3RMaWtlKEV4cHJlc3Npb248U3RyaW5nPiB4LCBF\neHByZXNzaW9uPFN0cmluZz4gcGF0dGVybiwgRXhwcmVzc2lvbjxDaGFyYWN0\nZXI+IGVzY2FwZUNoYXIpIHsKICAgICAgICByZXR1cm4gbGlrZSh4LCBwYXR0\nZXJuLCBlc2NhcGVDaGFyKS5uZWdhdGUoKTsKICAgIH0KCiAgICBwdWJsaWMg\nUHJlZGljYXRlIG5vdExpa2UoRXhwcmVzc2lvbjxTdHJpbmc+IHgsIEV4cHJl\nc3Npb248U3RyaW5nPiBwYXR0ZXJuLCBjaGFyIGVzY2FwZUNoYXIpIHsKICAg\nICAgICByZXR1cm4gbGlrZSh4LCBwYXR0ZXJuLCBlc2NhcGVDaGFyKS5uZWdh\ndGUoKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlIG5vdExpa2UoRXhw\ncmVzc2lvbjxTdHJpbmc+IHgsIFN0cmluZyBwYXR0ZXJuLCBFeHByZXNzaW9u\nPENoYXJhY3Rlcj4gZXNjYXBlQ2hhcikgewogICAgICAgIHJldHVybiBsaWtl\nKHgsIHBhdHRlcm4sIGVzY2FwZUNoYXIpLm5lZ2F0ZSgpOwogICAgfQoKICAg\nIHB1YmxpYyBQcmVkaWNhdGUgbm90TGlrZShFeHByZXNzaW9uPFN0cmluZz4g\neCwgU3RyaW5nIHBhdHRlcm4sIGNoYXIgZXNjYXBlQ2hhcikgewogICAgICAg\nIHJldHVybiBsaWtlKHgsIHBhdHRlcm4sIGVzY2FwZUNoYXIpLm5lZ2F0ZSgp\nOwogICAgfQoKICAgIHB1YmxpYyA8WT4gRXhwcmVzc2lvbjxZPiBudWxsaWYo\nRXhwcmVzc2lvbjxZPiB4LCBFeHByZXNzaW9uPD8+IHkpIHsKICAgICAgICBy\nZXR1cm4gbmV3IEV4cHJlc3Npb25zLk51bGxpZih4LCB5KTsKICAgIH0KCiAg\nICBwdWJsaWMgPFk+IEV4cHJlc3Npb248WT4gbnVsbGlmKEV4cHJlc3Npb248\nWT4geCwgWSB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5O\ndWxsaWYoeCwgeSk7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBvcihQ\ncmVkaWNhdGUuLi4gcmVzdHJpY3Rpb25zKSB7CiAgICAgICAgcmV0dXJuIG5l\ndyBQcmVkaWNhdGVJbXBsLk9yKHJlc3RyaWN0aW9ucyk7CiAgICB9CgogICAg\ncHVibGljIFByZWRpY2F0ZSBvcihFeHByZXNzaW9uPEJvb2xlYW4+IHgsIEV4\ncHJlc3Npb248Qm9vbGVhbj4geSkgewogICAgCXJldHVybiBuZXcgUHJlZGlj\nYXRlSW1wbC5Pcih4LHkpOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3Ry\ndWN0IGEgUGFyYW1ldGVyRXhwcmVzc2lvbiB3aXRoIGEgbnVsbCBuYW1lIGFz\nIGtleS4KICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcGFyYW1ldGVyIHdpbGwg\nYmUgYXNzaWduZWQgYXV0b21hdGljYWxseQogICAgICogd2hlbiB0aGlzIHBh\ncmFtZXRlciBleHByZXNzaW9uIGlzIAogICAgICoge0BsaW5rcGxhaW4gQ3Jp\ndGVyaWFRdWVyeUltcGwjcmVnaXN0ZXJQYXJhbWV0ZXIoUGFyYW1ldGVyRXhw\ncmVzc2lvbkltcGwpCiAgICAgKiByZWdpc3RlcmVkfSBpbiBhIENyaXRlcmlh\ncXVlcnkgZHVyaW5nIHRyZWUgdHJhdmVyc2FsLgogICAgICogCiAgICAgKiBA\nc2VlIFBhcmFtZXRlckV4cHJlc3Npb25JbXBsI2Fzc2lnbkF1dG9OYW1lKFN0\ncmluZykKICAgICAqLwogICAgcHVibGljIDxUPiBQYXJhbWV0ZXJFeHByZXNz\naW9uPFQ+IHBhcmFtZXRlcihDbGFzczxUPiBwYXJhbUNsYXNzKSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBQYXJhbWV0ZXJFeHByZXNzaW9uSW1wbDxUPihwYXJh\nbUNsYXNzLCBudWxsKTsKICAgIH0KCiAgICBwdWJsaWMgPFQ+IFBhcmFtZXRl\nckV4cHJlc3Npb248VD4gcGFyYW1ldGVyKENsYXNzPFQ+IHBhcmFtQ2xhc3Ms\nIFN0cmluZyBuYW1lKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQYXJhbWV0ZXJF\neHByZXNzaW9uSW1wbDxUPihwYXJhbUNsYXNzLCBuYW1lKTsKICAgIH0KCiAg\nICBwdWJsaWMgPE4gZXh0ZW5kcyBOdW1iZXI+IEV4cHJlc3Npb248Tj4gcHJv\nZChFeHByZXNzaW9uPD8gZXh0ZW5kcyBOPiB4LCBFeHByZXNzaW9uPD8gZXh0\nZW5kcyBOPiB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5Q\ncm9kdWN0PE4+KHgseSk7CiAgICB9CgogICAgcHVibGljIDxOIGV4dGVuZHMg\nTnVtYmVyPiBFeHByZXNzaW9uPE4+IHByb2QoRXhwcmVzc2lvbjw/IGV4dGVu\nZHMgTj4geCwgTiB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5Qcm9kdWN0PE4+KHgseSk7CiAgICB9CgogICAgcHVibGljIDxOIGV4dGVu\nZHMgTnVtYmVyPiBFeHByZXNzaW9uPE4+IHByb2QoTiB4LCBFeHByZXNzaW9u\nPD8gZXh0ZW5kcyBOPiB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNz\naW9ucy5Qcm9kdWN0PE4+KHgseSk7CiAgICB9CgogICAgcHVibGljIEV4cHJl\nc3Npb248TnVtYmVyPiBxdW90KEV4cHJlc3Npb248PyBleHRlbmRzIE51bWJl\ncj4geCwgRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiB5KSB7CiAgICAg\nICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5RdW90aWVudDxOdW1iZXI+KHgs\neSk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248TnVtYmVyPiBxdW90\nKEV4cHJlc3Npb248PyBleHRlbmRzIE51bWJlcj4geCwgTnVtYmVyIHkpIHsK\nICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLlF1b3RpZW50PE51bWJl\ncj4oeCx5KTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxOdW1iZXI+\nIHF1b3QoTnVtYmVyIHgsIEV4cHJlc3Npb248PyBleHRlbmRzIE51bWJlcj4g\neSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuUXVvdGllbnQ8\nTnVtYmVyPih4LHkpOwogICAgfQoKICAgIC8qKgogICAgICogRGVmaW5lIGEg\nc2VsZWN0IGxpc3QgaXRlbSBjb3JyZXNwb25kaW5nIHRvIGEgY29uc3RydWN0\nb3IuCiAgICAgKiBAcGFyYW0gcmVzdWx0ICBjbGFzcyB3aG9zZSBpbnN0YW5j\nZSBpcyB0byBiZSBjb25zdHJ1Y3RlZAogICAgICogQHBhcmFtIHNlbGVjdGlv\nbnMgIGFyZ3VtZW50cyB0byB0aGUgY29uc3RydWN0b3IKICAgICAqIEByZXR1\ncm4gc2VsZWN0aW9uIGl0ZW0KICAgICAqLwogICAgcHVibGljIDxZPiBDb21w\nb3VuZFNlbGVjdGlvbjxZPiBjb25zdHJ1Y3QoQ2xhc3M8WT4gcmVzdWx0LCBT\nZWxlY3Rpb248Pz4uLi4gc2VsZWN0aW9ucykgewogICAgICAgIHJldHVybiBu\nZXcgQ29tcG91bmRTZWxlY3Rpb25zLk5ld0luc3RhbmNlPFk+KHJlc3VsdCwg\nc2VsZWN0aW9ucyk7CiAgICB9CgogICAgcHVibGljIDxSPiBDYXNlPFI+IHNl\nbGVjdENhc2UoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5D\nYXNlKE9iamVjdC5jbGFzcyk7CiAgICB9CgogICAgcHVibGljIDxDLCBSPiBT\naW1wbGVDYXNlPEMsIFI+IHNlbGVjdENhc2UoRXhwcmVzc2lvbjw/IGV4dGVu\nZHMgQz4gZXhwcmVzc2lvbikgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVz\nc2lvbnMuU2ltcGxlQ2FzZShleHByZXNzaW9uKTsKICAgIH0KCiAgICBwdWJs\naWMgPEMgZXh0ZW5kcyBDb2xsZWN0aW9uPD8+PiBFeHByZXNzaW9uPEludGVn\nZXI+IHNpemUoQyBjb2xsZWN0aW9uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBF\neHByZXNzaW9ucy5TaXplKGNvbGxlY3Rpb24pOwogICAgfQoKICAgIHB1Ymxp\nYyA8QyBleHRlbmRzIENvbGxlY3Rpb248Pz4+IEV4cHJlc3Npb248SW50ZWdl\ncj4gc2l6ZShFeHByZXNzaW9uPEM+IGNvbGxlY3Rpb24pIHsKICAgICAgICBy\nZXR1cm4gbmV3IEV4cHJlc3Npb25zLlNpemUoY29sbGVjdGlvbik7CiAgICB9\nCgogICAgcHVibGljIDxZPiBFeHByZXNzaW9uPFk+IHNvbWUoU3VicXVlcnk8\nWT4gc3VicXVlcnkpIHsKICAgICAgICAvL3NvbWUgYW5kIGFueSBhcmUgc3lu\nb255bW91cwogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuQW55PFk+\nKHN1YnF1ZXJ5KTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxEb3Vi\nbGU+IHNxcnQoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiB4KSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5TcXJ0KHgpOwogICAgfQoK\nICAgIHB1YmxpYyBFeHByZXNzaW9uPFN0cmluZz4gc3Vic3RyaW5nKEV4cHJl\nc3Npb248U3RyaW5nPiB4LCBFeHByZXNzaW9uPEludGVnZXI+IGZyb20pIHsK\nICAgIAlyZXR1cm4gbmV3IEV4cHJlc3Npb25zLlN1YnN0cmluZyh4LCBmcm9t\nKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxTdHJpbmc+IHN1YnN0\ncmluZyhFeHByZXNzaW9uPFN0cmluZz4geCwgaW50IGZyb20pIHsKICAgICAg\nICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLlN1YnN0cmluZyh4LCBmcm9tKTsK\nICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxTdHJpbmc+IHN1YnN0cmlu\nZyhFeHByZXNzaW9uPFN0cmluZz4geCwgRXhwcmVzc2lvbjxJbnRlZ2VyPiBm\ncm9tLCBFeHByZXNzaW9uPEludGVnZXI+IGxlbikgewogICAgICAgIHJldHVy\nbiBuZXcgRXhwcmVzc2lvbnMuU3Vic3RyaW5nKHgsIGZyb20sIGxlbik7CiAg\nICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiBzdWJzdHJpbmco\nRXhwcmVzc2lvbjxTdHJpbmc+IHgsIGludCBmcm9tLCBpbnQgbGVuKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5TdWJzdHJpbmcoeCwgZnJv\nbSwgbGVuKTsKICAgIH0KCiAgICBwdWJsaWMgPE4gZXh0ZW5kcyBOdW1iZXI+\nIEV4cHJlc3Npb248Tj4gc3VtKEV4cHJlc3Npb248Tj4geCkgewogICAgICAg\nIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuU3VtPE4+KHgpOwogICAgfQoKICAg\nIHB1YmxpYyA8TiBleHRlbmRzIE51bWJlcj4gRXhwcmVzc2lvbjxOPiBzdW0o\nRXhwcmVzc2lvbjw/IGV4dGVuZHMgTj4geCwgRXhwcmVzc2lvbjw/IGV4dGVu\nZHMgTj4geSkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuU3Vt\nPE4+KHgseSk7CiAgICB9CgogICAgcHVibGljIDxOIGV4dGVuZHMgTnVtYmVy\nPiBFeHByZXNzaW9uPE4+IHN1bShFeHByZXNzaW9uPD8gZXh0ZW5kcyBOPiB4\nLCBOIHkpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLlN1bTxO\nPih4LHkpOwogICAgfQoKICAgIHB1YmxpYyA8TiBleHRlbmRzIE51bWJlcj4g\nRXhwcmVzc2lvbjxOPiBzdW0oTiB4LCBFeHByZXNzaW9uPD8gZXh0ZW5kcyBO\nPiB5KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9ucy5TdW08Tj4o\neCx5KTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxCaWdEZWNpbWFs\nPiB0b0JpZ0RlY2ltYWwoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiBu\ndW1iZXIpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkNhc3Q8\nQmlnRGVjaW1hbD4obnVtYmVyLCBCaWdEZWNpbWFsLmNsYXNzKTsKICAgIH0K\nCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxCaWdJbnRlZ2VyPiB0b0JpZ0ludGVn\nZXIoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiBudW1iZXIpIHsKICAg\nICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkNhc3Q8QmlnSW50ZWdlcj4o\nbnVtYmVyLCBCaWdJbnRlZ2VyLmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMg\nRXhwcmVzc2lvbjxEb3VibGU+IHRvRG91YmxlKEV4cHJlc3Npb248PyBleHRl\nbmRzIE51bWJlcj4gbnVtYmVyKSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHBy\nZXNzaW9ucy5DYXN0PERvdWJsZT4obnVtYmVyLCBEb3VibGUuY2xhc3MpOwog\nICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uPEZsb2F0PiB0b0Zsb2F0KEV4\ncHJlc3Npb248PyBleHRlbmRzIE51bWJlcj4gbnVtYmVyKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBFeHByZXNzaW9ucy5DYXN0PEZsb2F0PihudW1iZXIsIEZs\nb2F0LmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxJbnRl\nZ2VyPiB0b0ludGVnZXIoRXhwcmVzc2lvbjw/IGV4dGVuZHMgTnVtYmVyPiBu\ndW1iZXIpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkNhc3Q8\nSW50ZWdlcj4obnVtYmVyLCBJbnRlZ2VyLmNsYXNzKTsKICAgIH0KCiAgICBw\ndWJsaWMgRXhwcmVzc2lvbjxMb25nPiB0b0xvbmcoRXhwcmVzc2lvbjw/IGV4\ndGVuZHMgTnVtYmVyPiBudW1iZXIpIHsKICAgICAgICByZXR1cm4gbmV3IEV4\ncHJlc3Npb25zLkNhc3Q8TG9uZz4obnVtYmVyLCBMb25nLmNsYXNzKTsKICAg\nIH0KCiAgICBwdWJsaWMgRXhwcmVzc2lvbjxTdHJpbmc+IHRvU3RyaW5nKEV4\ncHJlc3Npb248Q2hhcmFjdGVyPiBjaGFyYWN0ZXIpIHsKICAgICAgICByZXR1\ncm4gbmV3IEV4cHJlc3Npb25zLkNhc3Q8U3RyaW5nPihjaGFyYWN0ZXIsIFN0\ncmluZy5jbGFzcyk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3Ry\naW5nPiB0cmltKEV4cHJlc3Npb248U3RyaW5nPiB4KSB7CiAgICAgICAgcmV0\ndXJuIG5ldyBFeHByZXNzaW9ucy5UcmltKHgpOwogICAgfQoKICAgIHB1Ymxp\nYyBFeHByZXNzaW9uPFN0cmluZz4gdHJpbShUcmltc3BlYyB0cywgRXhwcmVz\nc2lvbjxTdHJpbmc+IHgpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Np\nb25zLlRyaW0oeCwgdHMpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9u\nPFN0cmluZz4gdHJpbShFeHByZXNzaW9uPENoYXJhY3Rlcj4gdCwgRXhwcmVz\nc2lvbjxTdHJpbmc+IHgpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Np\nb25zLlRyaW0oeCwgdCk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248\nU3RyaW5nPiB0cmltKGNoYXIgdCwgRXhwcmVzc2lvbjxTdHJpbmc+IHgpIHsK\nICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLlRyaW0oeCwgdCk7CiAg\nICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3RyaW5nPiB0cmltKFRyaW1z\ncGVjIHRzLCBFeHByZXNzaW9uPENoYXJhY3Rlcj4gdCwgRXhwcmVzc2lvbjxT\ndHJpbmc+IHgpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLlRy\naW0oeCwgdCwgdHMpOwogICAgfQoKICAgIHB1YmxpYyBFeHByZXNzaW9uPFN0\ncmluZz4gdHJpbShUcmltc3BlYyB0cywgY2hhciB0LCBFeHByZXNzaW9uPFN0\ncmluZz4geCkgewogICAgICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbnMuVHJp\nbSh4LCB0LCB0cyk7CiAgICB9CgogICAgcHVibGljIEV4cHJlc3Npb248U3Ry\naW5nPiB1cHBlcihFeHByZXNzaW9uPFN0cmluZz4geCkgewogICAgICAgIHJl\ndHVybiBuZXcgRXhwcmVzc2lvbnMuVXBwZXIoeCk7CgogICAgfQoKICAgIHB1\nYmxpYyA8ViwgTSBleHRlbmRzIE1hcDw/LCBWPj4gRXhwcmVzc2lvbjxDb2xs\nZWN0aW9uPFY+PiB2YWx1ZXMoTSBtYXApIHsKICAgICAgICByZXR1cm4gbmV3\nIEV4cHJlc3Npb25zLkNvbnN0YW50PENvbGxlY3Rpb248Vj4+KG1hcCA9PSBu\ndWxsID8gQ29sbGVjdGlvbnMuRU1QVFlfTElTVCA6IG1hcC52YWx1ZXMoKSk7\nCiAgICB9CgogICAgcHVibGljIENvbXBvdW5kU2VsZWN0aW9uPE9iamVjdFtd\nPiBhcnJheShTZWxlY3Rpb248Pz4uLi4gdGVybXMpIHsKICAgICAgICByZXR1\ncm4gbmV3IENvbXBvdW5kU2VsZWN0aW9ucy5BcnJheTxPYmplY3RbXT4oT2Jq\nZWN0W10uY2xhc3MsIHRlcm1zKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGlj\nYXRlIGlzTm90TnVsbChFeHByZXNzaW9uPD8+IHgpIHsKICAgICAgICByZXR1\ncm4gbmV3IEV4cHJlc3Npb25zLklzTm90TnVsbCgoRXhwcmVzc2lvbkltcGw8\nPz4peCk7CiAgICB9CgogICAgcHVibGljIFByZWRpY2F0ZSBpc051bGwoRXhw\ncmVzc2lvbjw/PiB4KSB7CiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9u\ncy5Jc051bGwoKEV4cHJlc3Npb25JbXBsPD8+ICl4KTsKICAgIH0KICAgIAog\nICAgcHVibGljIDxUPiBFeHByZXNzaW9uPFQ+IG51bGxMaXRlcmFsKENsYXNz\nPFQ+IHQpIHsKICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25zLkNvbnN0\nYW50PFQ+KHQsIChUKW51bGwpOwogICAgfQoKCiAgICAvKioKICAgICAqIERl\nZmluZSBhIHR1cGxlLXZhbHVlZCBzZWxlY3Rpb24gaXRlbQogICAgICogQHBh\ncmFtIHNlbGVjdGlvbnMgIHNlbGVjdGlvbiBpdGVtcwogICAgICogQHJldHVy\nbiB0dXBsZS12YWx1ZWQgY29tcG91bmQgc2VsZWN0aW9uCiAgICAgKiBAdGhy\nb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBhbiBhcmd1bWVudCBp\ncyBhIHR1cGxlLSBvcgogICAgICogICAgICAgICAgYXJyYXktdmFsdWVkIHNl\nbGVjdGlvbiBpdGVtCiAgICAgKi8KICAgIHB1YmxpYyBDb21wb3VuZFNlbGVj\ndGlvbjxUdXBsZT4gdHVwbGUoU2VsZWN0aW9uPD8+Li4uIHNlbGVjdGlvbnMp\nIHsKICAgICAgICByZXR1cm4gbmV3IENvbXBvdW5kU2VsZWN0aW9ucy5UdXBs\nZShzZWxlY3Rpb25zKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDcmVh\ndGUgYSBwcmVkaWNhdGUgYmFzZWQgdXBvbiB0aGUgYXR0cmlidXRlIHZhbHVl\ncyBvZiBhIGdpdmVuCiAgICAgKiAiZXhhbXBsZSIgZW50aXR5IGluc3RhbmNl\nLiBUaGUgcHJlZGljYXRlIGlzIHRoZSBjb25qdW5jdGlvbiAKICAgICAqIG9y\nIGRpc2p1bmN0aW9uIG9mIHByZWRpY2F0ZXMgZm9yIHN1YnNldCBvZiBhdHRy\naWJ1dGUgb2YgdGhlIGVudGl0eS4KICAgICAqIDxicj4KICAgICAqIEJ5IGRl\nZmF1bHQsIGFsbCB0aGUgc2luZ3VsYXIgZW50aXR5IGF0dHJpYnV0ZXMgKHRo\nZSBiYXNpYywgZW1iZWRkZWQKICAgICAqIGFuZCB1bmktY2FyZGluYWxpdHkg\ncmVsYXRpb25zKSB0aGF0IGhhdmUgYSBub24tbnVsbCBvciBub24tZGVmYXVs\ndAogICAgICogdmFsdWUgZm9yIHRoZSBleGFtcGxlIGluc3RhbmNlIGFuZCBh\ncmUgbm90IGFuIGlkZW50aXR5IG9yIHZlcnNpb24KICAgICAqIGF0dHJpYnV0\nZSBhcmUgaW5jbHVkZWQuIFRoZSBjb21wYXJhYmxlIGF0dHJpYnV0ZXMgY2Fu\nIGJlIGZ1cnRoZXIKICAgICAqIHBydW5lZCBieSBzcGVjaWZ5aW5nIHZhcmlh\nYmxlIGxpc3Qgb2YgYXR0cmlidXRlcyBhcyB0aGUgZmluYWwgYXJndW1lbnQu\nCiAgICAgKiAKICAgICAqIEBwYXJhbSBleGFtcGxlIGFuIGluc3RhbmNlIG9m\nIGFuIGVudGl0eSBjbGFzcwogICAgICogCiAgICAgKiBAcGFyYW0gc3R5bGUg\nc3BlY2lmaWVzIHZhcmlvdXMgYXNwZWN0cyBvZiBjb21wYXJpc29uIHN1Y2gg\nYXMgd2hldGhlcgogICAgICogbm9uLW51bGwgYXR0cmlidXRlIHZhbHVlcyBi\nZSBpbmNsdWRlZCwgaG93IHN0cmluZy12YWx1ZWQgYXR0cmlidXRlIGJlIAog\nICAgICogY29tcGFyZWQsIHdoZXRoZXIgdGhlIGluZGl2aWR1YWwgYXR0cmli\ndXRlIGJhc2VkIHByZWRpY2F0ZXMgYXJlIEFORGVkCiAgICAgKiBvciBPUmVk\nIGV0Yy4KICAgICAqIAogICAgICogQHBhcmFtIGV4Y2x1ZGVzIGxpc3Qgb2Yg\nYXR0cmlidXRlcyB0aGF0IGFyZSBleGNsdWRlZCBmcm9tIGNvbXBhcmlzb24u\nCiAgICAgKiAgCiAgICAgKiBAcmV0dXJuIGEgcHJlZGljYXRlIAogICAgICov\nCiAgICBwdWJsaWMgPFQ+IFByZWRpY2F0ZSBxYmUoRnJvbTw/LCBUPiBmcm9t\nLCBUIGV4YW1wbGUsIENvbXBhcmlzb25TdHlsZSBzdHlsZSwgQXR0cmlidXRl\nPD8sPz4uLi4gZXhjbHVkZXMpIHsKICAgICAgICBpZiAoZnJvbSA9PSBudWxs\nKQogICAgICAgICAgICB0aHJvdyBuZXcgTnVsbFBvaW50ZXJFeGNlcHRpb24o\nKTsKICAgICAgICBpZiAoZXhhbXBsZSA9PSBudWxsKSB7CiAgICAgICAgICAg\nIHJldHVybiBmcm9tLmlzTnVsbCgpOwogICAgICAgICAgICAKICAgICAgICB9\nCiAgICAgICAgTWFuYWdlZFR5cGU8VD4gdHlwZSA9IChNYW5hZ2VkVHlwZTxU\nPilfbW9kZWwudHlwZShleGFtcGxlLmdldENsYXNzKCkpOwogICAgICAgIHJl\ndHVybiBuZXcgQ29tcGFyZUJ5RXhhbXBsZTxUPih0aGlzLCB0eXBlLCBmcm9t\nLCBleGFtcGxlLCAKICAgICAgICAgICAgc3R5bGUgPT0gbnVsbCA/IHFiZVN0\neWxlKCkgOiBzdHlsZSwgZXhjbHVkZXMpOwogICAgfQogICAgCiAgICBwdWJs\naWMgPFQ+IFByZWRpY2F0ZSBxYmUoRnJvbTw/LCBUPiBmcm9tLCBUIGV4YW1w\nbGUsIENvbXBhcmlzb25TdHlsZSBzdHlsZSkgewogICAgICAgIHJldHVybiBx\nYmUoZnJvbSwgZXhhbXBsZSwgc3R5bGUsIG51bGwpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgPFQ+IFByZWRpY2F0ZSBxYmUoRnJvbTw/LCBUPiBmcm9tLCBU\nIGV4YW1wbGUsIEF0dHJpYnV0ZTw/LD8+Li4uIGV4Y2x1ZGVzKSB7CiAgICAg\nICAgcmV0dXJuIHFiZShmcm9tLCBleGFtcGxlLCBxYmVTdHlsZSgpLCBleGNs\ndWRlcyk7CiAgICB9CiAgICAKICAgIHB1YmxpYyA8VD4gUHJlZGljYXRlIHFi\nZShGcm9tPD8sIFQ+IGZyb20sIFQgZXhhbXBsZSkgewogICAgICAgIHJldHVy\nbiBxYmUoZnJvbSwgZXhhbXBsZSwgcWJlU3R5bGUoKSwgbnVsbCk7CiAgICB9\nCiAgICAKICAgIC8qKgogICAgICogQ3JlYXRlIGEgc3R5bGUgdG8gdHVuZSBk\naWZmZXJlbnQgYXNwZWN0cyBvZiBjb21wYXJpc29uIGJ5IGV4YW1wbGUuIAog\nICAgICovCiAgICBwdWJsaWMgQ29tcGFyaXNvblN0eWxlIHFiZVN0eWxlKCkg\newogICAgICAgIHJldHVybiBuZXcgQ29tcGFyaXNvblN0eWxlLkRlZmF1bHQo\nKTsKICAgIH0KfQo=\n","encoding":"base64"}

