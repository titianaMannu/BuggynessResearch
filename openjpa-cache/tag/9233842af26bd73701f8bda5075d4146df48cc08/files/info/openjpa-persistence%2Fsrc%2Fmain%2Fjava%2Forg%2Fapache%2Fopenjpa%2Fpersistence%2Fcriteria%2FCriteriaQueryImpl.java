{"sha":"00e9623f3781e3312ffb73e79737313bea12ce20","node_id":"MDQ6QmxvYjIwNjM2NDowMGU5NjIzZjM3ODFlMzMxMmZmYjczZTc5NzM3MzEzYmVhMTJjZTIw","size":24141,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/00e9623f3781e3312ffb73e79737313bea12ce20","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEu\ndXRpbC5BcnJheXM7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1w\nb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsKaW1wb3J0IGphdmEudXRpbC5I\nYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLkxpbmtlZEhhc2hTZXQ7CmltcG9y\ndCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9y\ndCBqYXZhLnV0aWwuU2V0OwppbXBvcnQgamF2YS51dGlsLlN0YWNrOwoKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkFic3RyYWN0UXVlcnk7\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5Dcml0ZXJpYVF1\nZXJ5OwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuRXhwcmVz\nc2lvbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkZldGNo\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuSm9pbjsKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLk9yZGVyOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuUGFyYW1ldGVyRXhwcmVzc2lv\nbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLlByZWRpY2F0\nZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLlJvb3Q7Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5TZWxlY3Rpb247Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5TdWJxdWVyeTsKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5FbnRpdHlUeXBlOwoK\naW1wb3J0IG9yZy5hcGFjaGUuY29tbW9ucy5jb2xsZWN0aW9ucy5tYXAuTGlu\na2VkTWFwOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5TdG9y\nZVF1ZXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBz\nLkNvbnRleHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4\ncHMuRXhwcmVzc2lvbkZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEua2VybmVsLmV4cHMuUXVlcnlFeHByZXNzaW9uczsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuZXhwcy5WYWx1ZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YS5NZXRhbW9kZWxJbXBs\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLm1ldGEu\nVHlwZXM7CgovKioKICogQ3JpdGVyaWEgcXVlcnkgaW1wbGVtZW50YXRpb24u\nCiAqIAogKiBDb2xsZWN0cyBjbGF1c2VzIG9mIGNyaXRlcmlhIHF1ZXJ5IChl\nLmcuIHNlbGVjdCBwcm9qZWN0aW9ucywgZnJvbS9qb2luLCAKICogd2hlcmUg\nY29uZGl0aW9ucywgb3JkZXIgYnkpLgogKiBFdmVudHVhbGx5IHRyYW5zbGF0\nZXMgdGhlc2UgY2xhdXNlcyB0byBhIHNpbWlsYXIgZm9ybSBvZiBFeHByZXNz\naW9uIHRyZWUKICogdGhhdCBjYW4gYmUgaW50ZXJwcmV0ZWQgYW5kIGV4ZWN1\ndGVkIGFnYWluc3QgYSBkYXRhIHN0b3JlIGJ5IE9wZW5KUEEga2VybmVsLgog\nKiAgIAogKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICogQGF1dGhvciBGYXkg\nV2FuZwogKgogKiBAc2luY2UgMi4wLjAKICovCmNsYXNzIENyaXRlcmlhUXVl\ncnlJbXBsPFQ+IGltcGxlbWVudHMgT3BlbkpQQUNyaXRlcmlhUXVlcnk8VD4s\nIEFsaWFzQ29udGV4dCB7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2Nh\nbGl6ZXIgX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlKENyaXRlcmlhUXVl\ncnlJbXBsLmNsYXNzKTsKICAgIAogICAgcHJpdmF0ZSBmaW5hbCBNZXRhbW9k\nZWxJbXBsICBfbW9kZWw7CiAgICBwcml2YXRlIFNldDxSb290PD8+PiAgICAg\nICAgX3Jvb3RzOwogICAgcHJpdmF0ZSBQcmVkaWNhdGVJbXBsICAgICAgIF93\naGVyZTsKICAgIHByaXZhdGUgTGlzdDxPcmRlcj4gICAgICAgICBfb3JkZXJz\nOwogICAgcHJpdmF0ZSBMaW5rZWRNYXAgICAgICAgICAgIF9wYXJhbXM7IC8q\nPFBhcmFtZXRlckV4cHJlc3Npb248Pz4sIENsYXNzPD8+PiovIAogICAgcHJp\ndmF0ZSBTZWxlY3Rpb248PyBleHRlbmRzIFQ+IF9zZWxlY3Rpb247CiAgICBw\ncml2YXRlIExpc3Q8U2VsZWN0aW9uPD8+PiAgX3NlbGVjdGlvbnM7CiAgICBw\ncml2YXRlIExpc3Q8RXhwcmVzc2lvbjw/Pj4gX2dyb3VwczsKICAgIHByaXZh\ndGUgUHJlZGljYXRlSW1wbCAgICAgICBfaGF2aW5nOwogICAgcHJpdmF0ZSBM\naXN0PFN1YnF1ZXJ5PD8+PiAgIF9zdWJxdWVyaWVzOwogICAgcHJpdmF0ZSBi\nb29sZWFuICAgICAgICAgICAgIF9kaXN0aW5jdDsKICAgIHByaXZhdGUgZmlu\nYWwgU3VicXVlcnlJbXBsPD8+IF9kZWxlZ2F0b3I7CiAgICBwcml2YXRlIGZp\nbmFsIENsYXNzPFQ+ICAgICAgX3Jlc3VsdENsYXNzOwogICAgcHJpdmF0ZSBi\nb29sZWFuICAgICAgICAgICAgIF9jb21waWxlZDsKCiAgICAvLyBBbGlhc0Nv\nbnRleHQKICAgIHByaXZhdGUgaW50IGFsaWFzQ291bnQgPSAwOwogICAgcHJp\ndmF0ZSBzdGF0aWMgU3RyaW5nIEFMSUFTX0JBU0UgPSAiYXV0b0FsaWFzIjsK\nICAgIAogICAgcHJpdmF0ZSBNYXA8U2VsZWN0aW9uPD8+LFZhbHVlPiBfdmFy\naWFibGVzID0gbmV3IEhhc2hNYXA8U2VsZWN0aW9uPD8+LCBWYWx1ZT4oKTsK\nICAgIHByaXZhdGUgTWFwPFNlbGVjdGlvbjw/PixWYWx1ZT4gX3ZhbHVlcyAg\nICA9IG5ldyBIYXNoTWFwPFNlbGVjdGlvbjw/PiwgVmFsdWU+KCk7CiAgICBw\ncml2YXRlIE1hcDxTZWxlY3Rpb248Pz4sU3RyaW5nPiBfYWxpYXNlcyAgPSBu\ndWxsOwogICAgcHJpdmF0ZSBNYXA8U2VsZWN0aW9uPD8+LFZhbHVlPiBfcm9v\ndFZhcmlhYmxlcyA9IG5ldyBIYXNoTWFwPFNlbGVjdGlvbjw/PiwgVmFsdWU+\nKCk7CiAgICAKICAgIC8vIFN1YnF1ZXJ5Q29udGV4dAogICAgcHJpdmF0ZSBT\ndGFjazxDb250ZXh0PiBfY29udGV4dHMgPSBudWxsOwogICAgCiAgICBwdWJs\naWMgQ3JpdGVyaWFRdWVyeUltcGwoTWV0YW1vZGVsSW1wbCBtb2RlbCwgQ2xh\nc3M8VD4gcmVzdWx0Q2xhc3MpIHsKICAgICAgICB0aGlzLl9tb2RlbCA9IG1v\nZGVsOwogICAgICAgIHRoaXMuX3Jlc3VsdENsYXNzID0gcmVzdWx0Q2xhc3M7\nCiAgICAgICAgdGhpcy5fZGVsZWdhdG9yID0gbnVsbDsKICAgICAgICBfYWxp\nYXNlcyA9IG5ldyBIYXNoTWFwPFNlbGVjdGlvbjw/PiwgU3RyaW5nPigpOyAK\nICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBVc2VkIGJ5IGEgc3VicXVlcnkg\ndG8gZGVsZWdhdGUgdG8gdGhpcyByZWNlaXZlci4KICAgICAqIAogICAgICog\nQHBhcmFtIG1vZGVsIHRoZSBtZXRhbW9kZWwgZGVmaW5lcyB0aGUgc2NvcGUg\nb2YgYWxsIHBlcnNpc3RlbnQgZW50aXR5IHJlZmVyZW5jZXMuCiAgICAgKiBA\ncGFyYW0gZGVsZWdhdG9yIHRoZSBzdWJxdWVyeSB3aGljaCB3aWxsIGRlbGVn\nYXRlIHRvIHRoaXMgcmVjZWl2ZXIuCiAgICAgKi8KICAgIENyaXRlcmlhUXVl\ncnlJbXBsKE1ldGFtb2RlbEltcGwgbW9kZWwsIFN1YnF1ZXJ5SW1wbDxUPiBk\nZWxlZ2F0b3IpIHsKICAgICAgICB0aGlzLl9tb2RlbCA9IG1vZGVsOwogICAg\nICAgIHRoaXMuX3Jlc3VsdENsYXNzID0gZGVsZWdhdG9yLmdldEphdmFUeXBl\nKCk7CiAgICAgICAgX2RlbGVnYXRvciA9IGRlbGVnYXRvcjsKICAgICAgICBf\nYWxpYXNlcyA9IGdldEFsaWFzZXMoKTsKICAgIH0KICAgIAogICAgLyoqCiAg\nICAgKiBHZXRzIHRoZSBzdWJxdWVyeSwgaWYgYW55LCB3aGljaCBpcyBkZWxl\nZ2F0aW5nIHRvIHRoaXMgcmVjZWl2ZXIuCiAgICAgKi8KICAgIFN1YnF1ZXJ5\nSW1wbDw/PiBnZXREZWxlZ2F0b3IoKSB7CiAgICAgICAgcmV0dXJuIF9kZWxl\nZ2F0b3I7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0cyB0aGUgbWV0\nYW1vZGVsIHdoaWNoIGRlZmluZXMgdGhlIHNjb3BlIG9mIGFsbCBwZXJzaXN0\nZW50IGVudGl0eSByZWZlcmVuY2VzLgogICAgICovCiAgICBwdWJsaWMgTWV0\nYW1vZGVsSW1wbCBnZXRNZXRhbW9kZWwoKSB7CiAgICAgICAgcmV0dXJuIF9t\nb2RlbDsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBzdGFj\nayBvZiBjb250ZXh0cyB1c2VkIGJ5IHRoaXMgcXVlcnkuCiAgICAgKi8KICAg\nIFN0YWNrPENvbnRleHQ+IGdldENvbnRleHRzKCkgewogICAgICAgIHJldHVy\nbiBfY29udGV4dHM7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogU2V0cyB3\naGV0aGVyIHRoaXMgcXVlcnkgYXMgZGlzdGluY3QuCiAgICAgKi8KICAgIHB1\nYmxpYyBDcml0ZXJpYVF1ZXJ5PFQ+IGRpc3RpbmN0KGJvb2xlYW4gZGlzdGlu\nY3QpIHsKICAgICAgICBfZGlzdGluY3QgPSBkaXN0aW5jdDsKICAgICAgICBy\nZXR1cm4gdGhpczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldHMgdGhlIGxp\nc3Qgb2Ygb3JkZXJpbmcgZWxlbWVudHMuCiAgICAgKiAKICAgICAqIEByZXR1\ncm4gRW1wdHkgbGlzdCBpZiB0aGVyZSBpcyBubyBvcmRlcmluZyBlbGVtZW50\ncy4KICAgICAqIFRoZSByZXR1cm5lZCBsaXN0IGlmIG11dGFibGUgYnV0IG11\ndGF0aW9uIGhhcyBubyBpbXBhY3Qgb24gdGhpcyBxdWVyeS4KICAgICAqLwog\nICAgcHVibGljIExpc3Q8T3JkZXI+IGdldE9yZGVyTGlzdCgpIHsKICAgICAg\nICByZXR1cm4gRXhwcmVzc2lvbnMucmV0dXJuQ29weShfb3JkZXJzKTsKICAg\nIH0KICAgIAogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHNlbGVjdGlvbiBv\nZiB0aGUgcXVlcnkKICAgICAqIEByZXR1cm4gdGhlIGl0ZW0gdG8gYmUgcmV0\ndXJuZWQgaW4gdGhlIHF1ZXJ5IHJlc3VsdAogICAgICovCiAgICBwdWJsaWMg\nU2VsZWN0aW9uPFQ+IGdldFNlbGVjdGlvbigpIHsKICAgICAgICByZXR1cm4g\nKFNlbGVjdGlvbjxUPilfc2VsZWN0aW9uOwogICAgfQogICAgCiAgICAvKioK\nICAgICAqIFNwZWNpZnkgdGhlIGl0ZW1zIHRoYXQgYXJlIHRvIGJlIHJldHVy\nbmVkIGluIHRoZSBxdWVyeSByZXN1bHQuCiAgICAgKiBSZXBsYWNlcyB0aGUg\ncHJldmlvdXNseSBzcGVjaWZpZWQgc2VsZWN0aW9uKHMpLCBpZiBhbnkuCiAg\nICAgKgogICAgICogVGhlIHR5cGUgb2YgdGhlIHJlc3VsdCBvZiB0aGUgcXVl\ncnkgZXhlY3V0aW9uIGRlcGVuZHMgb24KICAgICAqIHRoZSBzcGVjaWZpY2F0\naW9uIG9mIHRoZSBjcml0ZXJpYSBxdWVyeSBvYmplY3QgYXMgd2VsbCBhcyB0\naGUKICAgICAqIGFyZ3VtZW50cyB0byB0aGUgbXVsdGlzZWxlY3QgbWV0aG9k\nIGFzIGZvbGxvd3M6CiAgICAgKgogICAgICogSWYgdGhlIHR5cGUgb2YgdGhl\nIGNyaXRlcmlhIHF1ZXJ5IGlzIENyaXRlcmlhUXVlcnk8VHVwbGU+LAogICAg\nICogYSBUdXBsZSBvYmplY3QgY29ycmVzcG9uZGluZyB0byB0aGUgYXJndW1l\nbnRzIG9mIHRoZSAKICAgICAqIG11bHRpc2VsZWN0IG1ldGhvZCB3aWxsIGJl\nIGluc3RhbnRpYXRlZCBhbmQgcmV0dXJuZWQgZm9yIAogICAgICogZWFjaCBy\nb3cgdGhhdCByZXN1bHRzIGZyb20gdGhlIHF1ZXJ5IGV4ZWN1dGlvbi4KICAg\nICAqCiAgICAgKiBJZiB0aGUgdHlwZSBvZiB0aGUgY3JpdGVyaWEgcXVlcnkg\naXMgQ3JpdGVyaWFRdWVyeTxYPiBmb3IKICAgICAqIHNvbWUgdXNlci1kZWZp\nbmVkIGNsYXNzIFgsIHRoZW4gdGhlIGFyZ3VtZW50cyB0byB0aGUgCiAgICAg\nKiBtdWx0aXNlbGVjdCBtZXRob2Qgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIFgg\nY29uc3RydWN0b3IgYW5kIAogICAgICogYW4gaW5zdGFuY2Ugb2YgdHlwZSBY\nIHdpbGwgYmUgcmV0dXJuZWQgZm9yIGVhY2ggcm93LiAgCiAgICAgKiBUaGUg\nSWxsZWdhbFN0YXRlRXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duIGlmIGEgY29u\nc3RydWN0b3IgCiAgICAgKiBmb3IgdGhlIGdpdmVuIGFyZ3VtZW50IHR5cGVz\nIGRvZXMgbm90IGV4aXN0LgogICAgICoKICAgICAqIElmIHRoZSB0eXBlIG9m\nIHRoZSBjcml0ZXJpYSBxdWVyeSBpcyBDcml0ZXJpYVF1ZXJ5PFhbXT4gZm9y\nCiAgICAgKiBzb21lIGNsYXNzIFgsIGFuIGluc3RhbmNlIG9mIHR5cGUgWFtd\nIHdpbGwgYmUgcmV0dXJuZWQgZm9yIAogICAgICogZWFjaCByb3cuICBUaGUg\nZWxlbWVudHMgb2YgdGhlIGFycmF5IHdpbGwgY29ycmVzcG9uZCB0byB0aGUg\nCiAgICAgKiBhcmd1bWVudHMgb2YgdGhlIG11bHRpc2VsZWN0IG1ldGhvZC4g\nICAgVGhlIAogICAgICogSWxsZWdhbFN0YXRlRXhjZXB0aW9uIHdpbGwgYmUg\ndGhyb3duIGlmIHRoZSBhcmd1bWVudHMgdG8gdGhlIAogICAgICogbXVsdGlz\nZWxlY3QgbWV0aG9kIGFyZSBub3Qgb2YgdHlwZSBYLgogICAgICoKICAgICAq\nIElmIHRoZSB0eXBlIG9mIHRoZSBjcml0ZXJpYSBxdWVyeSBpcyBDcml0ZXJp\nYVF1ZXJ5PE9iamVjdD4sCiAgICAgKiBhbmQgb25seSBhIHNpbmdsZSBhcmd1\nbWVudCBpcyBwYXNzZWQgdG8gdGhlIG11bHRpc2VsZWN0IAogICAgICogbWV0\naG9kLCBhbiBpbnN0YW5jZSBvZiB0eXBlIE9iamVjdCB3aWxsIGJlIHJldHVy\nbmVkIGZvciAKICAgICAqIGVhY2ggcm93LgogICAgICoKICAgICAqIElmIHRo\nZSB0eXBlIG9mIHRoZSBjcml0ZXJpYSBxdWVyeSBpcyBDcml0ZXJpYVF1ZXJ5\nPE9iamVjdD4sCiAgICAgKiBhbmQgbW9yZSB0aGFuIG9uZSBhcmd1bWVudCBp\ncyBwYXNzZWQgdG8gdGhlIG11bHRpc2VsZWN0IAogICAgICogbWV0aG9kLCBh\nbiBpbnN0YW5jZSBvZiB0eXBlIE9iamVjdFtdIHdpbGwgYmUgaW5zdGFudGlh\ndGVkIAogICAgICogYW5kIHJldHVybmVkIGZvciBlYWNoIHJvdy4gIFRoZSBl\nbGVtZW50cyBvZiB0aGUgYXJyYXkgd2lsbAogICAgICogY29ycmVzcG9uZCB0\nbyB0aGUgYXJndW1lbnRzIHRvIHRoZSBtdWx0aXNlbGVjdCBtZXRob2QuCiAg\nICAgKgogICAgICogQHBhcmFtIHNlbGVjdGlvbnMgIGV4cHJlc3Npb25zIHNw\nZWNpZnlpbmcgdGhlIGl0ZW1zIHRoYXQKICAgICAqICAgICAgICBhcmUgcmV0\ndXJuZWQgaW4gdGhlIHF1ZXJ5IHJlc3VsdAogICAgICogQHJldHVybiB0aGUg\nbW9kaWZpZWQgcXVlcnkKICAgICAqLwogICAgcHVibGljIENyaXRlcmlhUXVl\ncnk8VD4gbXVsdGlzZWxlY3QoU2VsZWN0aW9uPD8+Li4uIHNlbGVjdGlvbnMp\nIHsKICAgICAgICBfc2VsZWN0aW9ucyA9IEFycmF5cy5hc0xpc3Qoc2VsZWN0\naW9ucyk7IC8vIGRvIG5vdCB0ZWxlc2NvcGUKICAgICAgICBfc2VsZWN0aW9u\nICA9IG5ldyBDb21wb3VuZFNlbGVjdGlvbnMuTXVsdGlTZWxlY3Rpb24oX3Jl\nc3VsdENsYXNzLCBzZWxlY3Rpb25zKTsKICAgICAgICByZXR1cm4gdGhpczsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJlZ2lzdGVycyB0aGUgZ2l2ZW4gcGFy\nYW1ldGVyLgogICAgICovCiAgICB2b2lkIHJlZ2lzdGVyUGFyYW1ldGVyKFBh\ncmFtZXRlckV4cHJlc3Npb25JbXBsPD8+IHApIHsKICAgICAgICBpZiAoX3Bh\ncmFtcyA9PSBudWxsKQogICAgICAgICAgICBfcGFyYW1zID0gbmV3IExpbmtl\nZE1hcC8qPFBhcmFtZXRlckV4cHJlc3Npb248Pz4sIENsYXNzPD8+Ki8oKTsK\nICAgICAgICBpZiAoIV9wYXJhbXMuY29udGFpbnNLZXkocCkpIHsKICAgICAg\nICAgICAgcC5zZXRJbmRleChfcGFyYW1zLnNpemUoKSk7CiAgICAgICAgICAg\nIF9wYXJhbXMucHV0KHAsIHAuZ2V0SmF2YVR5cGUoKSk7CiAgICAgICAgfQog\nICAgfQogICAgCiAgICBwdWJsaWMgU2V0PFBhcmFtZXRlckV4cHJlc3Npb248\nPz4+IGdldFBhcmFtZXRlcnMoKSB7CiAgICAgICAgY29sbGVjdFBhcmFtZXRl\ncnMobmV3IENyaXRlcmlhRXhwcmVzc2lvblZpc2l0b3IuUGFyYW1ldGVyVmlz\naXRvcih0aGlzKSk7CiAgICAgICAgcmV0dXJuIF9wYXJhbXMgPT0gbnVsbCA/\nIENvbGxlY3Rpb25zLkVNUFRZX1NFVCA6IF9wYXJhbXMua2V5U2V0KCk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHNlbGVjdGlvbiBpdGVt\ncyBvZiB0aGUgcXVlcnkgYXMgYSBsaXN0CiAgICAgKiBAcmV0dXJuIHRoZSBz\nZWxlY3Rpb24gaXRlbXMgb2YgdGhlIHF1ZXJ5IGFzIGEgbGlzdAogICAgICov\nCiAgICBwdWJsaWMgTGlzdDxTZWxlY3Rpb248Pz4+IGdldFNlbGVjdGlvbkxp\nc3QoKSB7CiAgICAgICAgcmV0dXJuIEV4cHJlc3Npb25zLnJldHVybkNvcHko\nX3NlbGVjdGlvbnMpOwogICAgfQoKICAgIHB1YmxpYyBDcml0ZXJpYVF1ZXJ5\nPFQ+IGdyb3VwQnkoRXhwcmVzc2lvbjw/Pi4uLiBncm91cGluZykgewogICAg\nCWlmIChncm91cGluZyA9PSBudWxsKSB7CiAgICAJICAgIF9ncm91cHMgPSBu\ndWxsOwogICAgCSAgICByZXR1cm4gdGhpczsKICAgIAl9CiAgICAgICAgX2dy\nb3VwcyA9IG5ldyBBcnJheUxpc3Q8RXhwcmVzc2lvbjw/Pj4oKTsKICAgIAlm\nb3IgKEV4cHJlc3Npb248Pz4gZSA6IGdyb3VwaW5nKQogICAgCQlfZ3JvdXBz\nLmFkZChlKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIAogICAg\ncHVibGljIENyaXRlcmlhUXVlcnk8VD4gZ3JvdXBCeShMaXN0PEV4cHJlc3Np\nb248Pz4+IGdyb3VwaW5nKSB7CiAgICAgICAgaWYgKGdyb3VwaW5nID09IG51\nbGwpIHsKICAgICAgICAgICAgX2dyb3VwcyA9IG51bGw7CiAgICAgICAgICAg\nIHJldHVybiB0aGlzOwogICAgICAgIH0KICAgICAgICBfZ3JvdXBzID0gbmV3\nIEFycmF5TGlzdDxFeHByZXNzaW9uPD8+PigpOwogICAgICAgIGZvciAoRXhw\ncmVzc2lvbjw/PiBlIDogZ3JvdXBpbmcpCiAgICAgICAgICAgIF9ncm91cHMu\nYWRkKGUpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKCiAgICBwdWJs\naWMgQ3JpdGVyaWFRdWVyeTxUPiBoYXZpbmcoRXhwcmVzc2lvbjxCb29sZWFu\nPiByZXN0cmljdGlvbikgewogICAgICAgIF9oYXZpbmcgPSAoUHJlZGljYXRl\nSW1wbClyZXN0cmljdGlvbjsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0K\nCiAgICBwdWJsaWMgQ3JpdGVyaWFRdWVyeTxUPiBoYXZpbmcoUHJlZGljYXRl\nLi4uIHJlc3RyaWN0aW9ucykgewogICAgICAgIGlmIChyZXN0cmljdGlvbnMg\nPT0gbnVsbCkgewogICAgICAgICAgICBfaGF2aW5nID0gbnVsbDsKICAgICAg\nICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQogICAgICAgIF9oYXZpbmcg\nPSBuZXcgUHJlZGljYXRlSW1wbC5BbmQoKTsKICAgICAgICBmb3IgKFByZWRp\nY2F0ZSBwIDogcmVzdHJpY3Rpb25zKQogICAgICAgIAlfaGF2aW5nLmFkZChw\nKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgQ3Jp\ndGVyaWFRdWVyeTxUPiBvcmRlckJ5KE9yZGVyLi4uIG9yZGVycykgewogICAg\nICAgIGlmIChvcmRlcnMgPT0gbnVsbCkgewogICAgICAgICAgICBfb3JkZXJz\nID0gbnVsbDsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQog\nICAgICAgIF9vcmRlcnMgPSBuZXcgQXJyYXlMaXN0PE9yZGVyPigpOwogICAg\nICAgIGZvciAoT3JkZXIgbyA6IG9yZGVycykgewogICAgICAgICAgICBfb3Jk\nZXJzLmFkZChvKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXM7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyBDcml0ZXJpYVF1ZXJ5PFQ+IG9yZGVyQnko\nTGlzdDxPcmRlcj4gb3JkZXJzKSB7CiAgICAgICAgaWYgKG9yZGVycyA9PSBu\ndWxsKSB7CiAgICAgICAgICAgIF9vcmRlcnMgPSBudWxsOwogICAgICAgICAg\nICByZXR1cm4gdGhpczsKICAgICAgICB9CiAgICAgICAgX29yZGVycyA9IG5l\ndyBBcnJheUxpc3Q8T3JkZXI+KCk7CiAgICAgICAgZm9yIChPcmRlciBvIDog\nb3JkZXJzKSB7CiAgICAgICAgICAgIF9vcmRlcnMuYWRkKG8pOwogICAgICAg\nIH0KICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIAogICAgLyoqCiAg\nICAgKiBTcGVjaWZ5IHRoZSBpdGVtIHRoYXQgaXMgdG8gYmUgcmV0dXJuZWQg\naW4gdGhlIHF1ZXJ5IHJlc3VsdC4KICAgICAqIFJlcGxhY2VzIHRoZSBwcmV2\naW91c2x5IHNwZWNpZmllZCBzZWxlY3Rpb24ocyksIGlmIGFueS4KICAgICAq\nIEBwYXJhbSBzZWxlY3Rpb24gIHNlbGVjdGlvbiBzcGVjaWZ5aW5nIHRoZSBp\ndGVtIHRoYXQKICAgICAqICAgICAgICBpcyB0byBiZSByZXR1cm5lZCBpbiB0\naGUgcXVlcnkgcmVzdWx0CiAgICAgKiBAcmV0dXJuIHRoZSBtb2RpZmllZCBx\ndWVyeQogICAgICovCiAgICBwdWJsaWMgQ3JpdGVyaWFRdWVyeTxUPiBzZWxl\nY3QoU2VsZWN0aW9uPD8gZXh0ZW5kcyBUPiBzZWxlY3Rpb24pIHsKICAgICAg\nICBfc2VsZWN0aW9uID0gc2VsZWN0aW9uOwogICAgICAgIF9zZWxlY3Rpb25z\nID0gbmV3IEFycmF5TGlzdDxTZWxlY3Rpb248Pz4+KCk7CiAgICAgICAgX3Nl\nbGVjdGlvbnMuYWRkKHNlbGVjdGlvbik7CiAgICAgICAgcmV0dXJuIHRoaXM7\nCiAgICB9CgogICAgcHVibGljIENyaXRlcmlhUXVlcnk8VD4gd2hlcmUoRXhw\ncmVzc2lvbjxCb29sZWFuPiByZXN0cmljdGlvbikgewogICAgICAgIGludmFs\naWRhdGVDb21waWxhdGlvbigpOwogICAgICAgIGlmIChyZXN0cmljdGlvbiA9\nPSBudWxsKSB7CiAgICAgICAgICAgIF93aGVyZSA9IG51bGw7CiAgICAgICAg\nICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KICAgICAgICBfd2hlcmUgPSAo\nUHJlZGljYXRlSW1wbClyZXN0cmljdGlvbjsKICAgICAgICByZXR1cm4gdGhp\nczsKICAgIH0KCiAgICBwdWJsaWMgQ3JpdGVyaWFRdWVyeTxUPiB3aGVyZShQ\ncmVkaWNhdGUuLi4gcmVzdHJpY3Rpb25zKSB7CiAgICAgICAgaW52YWxpZGF0\nZUNvbXBpbGF0aW9uKCk7CiAgICAgICAgaWYgKHJlc3RyaWN0aW9ucyA9PSBu\ndWxsKSB7CiAgICAgICAgICAgIF93aGVyZSA9IG51bGw7CiAgICAgICAgICAg\nIHJldHVybiB0aGlzOwogICAgICAgIH0KICAgICAgICBfd2hlcmUgPSBuZXcg\nUHJlZGljYXRlSW1wbC5BbmQocmVzdHJpY3Rpb25zKTsKICAgICAgICByZXR1\ncm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgPFg+IFJvb3Q8WD4gZnJvbShF\nbnRpdHlUeXBlPFg+IGVudGl0eSkgewogICAgICAgIFJvb3RJbXBsPFg+IHJv\nb3QgPSBuZXcgUm9vdEltcGw8WD4oKFR5cGVzLkVudGl0eTxYPillbnRpdHkp\nOwogICAgICAgIGFkZFJvb3Qocm9vdCk7CiAgICAgICAgcmV0dXJuIHJvb3Q7\nCiAgICB9CgogICAgCiAgICBwdWJsaWMgPFg+IFJvb3Q8WD4gZnJvbShDbGFz\nczxYPiBjbHMpIHsKICAgICAgICBFbnRpdHlUeXBlPFg+IGVudGl0eSA9IF9t\nb2RlbC5lbnRpdHkoY2xzKTsKICAgICAgICBpZiAoZW50aXR5ID09IG51bGwp\nCiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRp\nb24oX2xvYy5nZXQoInJvb3Qtbm9uLWVudGl0eSIsIGNscykuZ2V0TWVzc2Fn\nZSgpKTsKICAgICAgICByZXR1cm4gZnJvbShlbnRpdHkpOwogICAgfQoKICAg\nIHB1YmxpYyBMaXN0PEV4cHJlc3Npb248Pz4+IGdldEdyb3VwTGlzdCgpIHsK\nICAgICAgICByZXR1cm4gRXhwcmVzc2lvbnMucmV0dXJuQ29weShfZ3JvdXBz\nKTsKICAgIH0KCiAgICBwdWJsaWMgUHJlZGljYXRlSW1wbCBnZXRHcm91cFJl\nc3RyaWN0aW9uKCkgewogICAgICAgIHJldHVybiBfaGF2aW5nOwogICAgfQoK\nICAgIHB1YmxpYyBQcmVkaWNhdGVJbXBsIGdldFJlc3RyaWN0aW9uKCkgewog\nICAgICAgIHJldHVybiBfd2hlcmU7CiAgICB9CgogICAgcHVibGljIFNldDxS\nb290PD8+PiBnZXRSb290cygpIHsKICAgICAgICByZXR1cm4gRXhwcmVzc2lv\nbnMucmV0dXJuQ29weShfcm9vdHMpOwogICAgfQoKICAgIHB1YmxpYyBSb290\nPD8+IGdldFJvb3QoKSB7CiAgICAgICAgYXNzZXJ0Um9vdCgpOwogICAgICAg\nIHJldHVybiBfcm9vdHMuaXRlcmF0b3IoKS5uZXh0KCk7CiAgICB9CiAgICAK\nICAgIFJvb3Q8Pz4gZ2V0Um9vdChib29sZWFuIG11c3RFeGlzdCkgewogICAg\nICAgIGlmIChtdXN0RXhpc3QpIHsKICAgICAgICAgICAgcmV0dXJuIGdldFJv\nb3QoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9yb290cyA9PSBudWxs\nIHx8IF9yb290cy5pc0VtcHR5KCkgPyBudWxsIDogX3Jvb3RzLml0ZXJhdG9y\nKCkubmV4dCgpOwogICAgfQogICAgCiAgICB2b2lkIGFkZFJvb3QoUm9vdElt\ncGw8Pz4gcm9vdCkgewogICAgICAgIGlmIChfcm9vdHMgPT0gbnVsbCkgewog\nICAgICAgICAgICBfcm9vdHMgPSBuZXcgTGlua2VkSGFzaFNldDxSb290PD8+\nPigpOwogICAgICAgIH0KICAgICAgICBfcm9vdHMuYWRkKHJvb3QpOwogICAg\nfQogICAgCiAgICAvKioKICAgICAqIEFmZmlybXMgaWYgc2VsZWN0aW9uIG9m\nIHRoaXMgcXVlcnkgaXMgZGlzdGluY3QuCiAgICAgKi8KICAgIHB1YmxpYyBi\nb29sZWFuIGlzRGlzdGluY3QoKSB7CiAgICAgICAgcmV0dXJuIF9kaXN0aW5j\ndDsKICAgIH0KCiAgICBwdWJsaWMgPFU+IFN1YnF1ZXJ5PFU+IHN1YnF1ZXJ5\nKENsYXNzPFU+IHR5cGUpIHsKICAgICAgICBpZiAoX3N1YnF1ZXJpZXMgPT0g\nbnVsbCkKICAgICAgICAgICAgX3N1YnF1ZXJpZXMgPSBuZXcgQXJyYXlMaXN0\nPFN1YnF1ZXJ5PD8+PigpOwogICAgICAgIFN1YnF1ZXJ5PFU+IHN1YnF1ZXJ5\nID0gbmV3IFN1YnF1ZXJ5SW1wbDxVPih0eXBlLCB0aGlzKTsKICAgICAgICBf\nc3VicXVlcmllcy5hZGQoc3VicXVlcnkpOwogICAgICAgIHJldHVybiBzdWJx\ndWVyeTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBSZXR1cm4gbWFwIHdo\nZXJlIGtleSBpcyB0aGUgcGFyYW1ldGVyIGV4cHJlc3Npb24gaXRzZWxmIGFu\nZCB2YWx1ZSBpcyB0aGUgZXhwZWN0ZWQgdHlwZS4KICAgICAqIEVtcHR5IG1h\ncCBpZiBubyBwYXJhbWV0ZXIgaGFzIGJlZW4gZGVjbGFyZWQuIAogICAgICov\nCiAgICBwdWJsaWMgTGlua2VkTWFwIGdldFBhcmFtZXRlclR5cGVzKCkgewog\nICAgICAgIGNvbGxlY3RQYXJhbWV0ZXJzKG5ldyBDcml0ZXJpYUV4cHJlc3Np\nb25WaXNpdG9yLlBhcmFtZXRlclZpc2l0b3IodGhpcykpOwogICAgICAgIHJl\ndHVybiBfcGFyYW1zID09IG51bGwgPyBTdG9yZVF1ZXJ5LkVNUFRZX1BBUkFN\nUyA6IF9wYXJhbXM7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUG9wdWxh\ndGUgYSBrZXJuZWwgZXhwcmVzc2lvbiB0cmVlIGJ5IHRyYW5zbGF0aW5nIHRo\nZSBjb21wb25lbnRzIG9mIHRoaXMKICAgICAqIHJlY2VpdmVyIHdpdGggdGhl\nIGhlbHAgb2YgdGhlIGdpdmVuIHtAbGluayBFeHByZXNzaW9uRmFjdG9yeX0u\nCiAgICAgKi8KICAgIFF1ZXJ5RXhwcmVzc2lvbnMgZ2V0UXVlcnlFeHByZXNz\naW9ucyhFeHByZXNzaW9uRmFjdG9yeSBmYWN0b3J5KSB7CiAgICAgICAgX2Nv\nbnRleHRzID0gbmV3IFN0YWNrPENvbnRleHQ+KCk7CiAgICAgICAgQ29udGV4\ndCBjb250ZXh0ID0gbmV3IENvbnRleHQobnVsbCwgbnVsbCwgbnVsbCk7CiAg\nICAgICAgX2NvbnRleHRzLnB1c2goY29udGV4dCk7CiAgICAgICAgcmV0dXJu\nIG5ldyBDcml0ZXJpYUV4cHJlc3Npb25CdWlsZGVyKCkuZ2V0UXVlcnlFeHBy\nZXNzaW9ucyhmYWN0b3J5LCB0aGlzKTsKICAgIH0gICAgCiAgICAKICAgIHB1\nYmxpYyB2b2lkIGFzc2VydFJvb3QoKSB7CiAgICAgICAgaWYgKF9yb290cyA9\nPSBudWxsIHx8IF9yb290cy5pc0VtcHR5KCkpCiAgICAgICAgICAgIHRocm93\nIG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oX2xvYy5nZXQoInJvb3QtdW5k\nZWZpbmVkIikuZ2V0TWVzc2FnZSgpKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgYXNzZXJ0U2VsZWN0aW9uKCkgewogICAgICAgIGlmIChfc2VsZWN0\naW9uID09IG51bGwgJiYgIWlzRGVmYXVsdFByb2plY3Rpb24oKSkKICAgICAg\nICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbihfbG9jLmdl\ndCgic2VsZWN0LXVuZGVmaW5lZCIpLmdldE1lc3NhZ2UoKSk7CiAgICB9CiAg\nICAKICAgIC8vCiAgICAvLyBTdWJxdWVyeUNvbnRleHQKICAgIC8vCiAgICB2\nb2lkIHNldENvbnRleHRzKFN0YWNrPENvbnRleHQ+IGNvbnRleHRzKSB7CiAg\nICAgICAgX2NvbnRleHRzID0gY29udGV4dHM7CiAgICB9CiAgICAKICAgIC8q\nKgogICAgICogR2V0cyBlaXRoZXIgdGhpcyBxdWVyeSBpdHNlbGYgaWYgdGhp\ncyBpcyBub3QgYSBjYXB0aXZlIHF1ZXJ5IGZvcgogICAgICogYSBzdWJxdWVy\neS4gT3RoZXJ3aXNlIGdldHMgdGhlIHBhcmVudCBxdWVyeSBvZiB0aGUgZGVs\nZWdhdGluZwogICAgICogc3VicXVlcnkuCiAgICAgKi8KICAgIENyaXRlcmlh\nUXVlcnlJbXBsPD8+IGdldEFuY2VzdG9yKCkgewogICAgICAgIGlmIChfZGVs\nZWdhdG9yID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAg\nICAgIEFic3RyYWN0UXVlcnk8Pz4gcGFyZW50ID0gX2RlbGVnYXRvci5nZXRQ\nYXJlbnQoKTsKICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgQ3JpdGVy\naWFRdWVyeUltcGwpIAogICAgICAgICAgICByZXR1cm4gKENyaXRlcmlhUXVl\ncnlJbXBsPD8+KXBhcmVudDsKICAgICAgICAvLyBwYXJlbnQgaXMgYSBTdWJx\ndWVyeUltcGwgICAgCiAgICAgICAgcmV0dXJuICgoU3VicXVlcnlJbXBsPD8+\nKXBhcmVudCkuZ2V0RGVsZWdhdGUoKS5nZXRBbmNlc3RvcigpOwogICAgfQog\nICAgCiAgICBwdWJsaWMgTWFwPFNlbGVjdGlvbjw/PixTdHJpbmc+IGdldEFs\naWFzZXMoKSB7CiAgICAgICAgQ3JpdGVyaWFRdWVyeUltcGw8Pz4gYyA9IGdl\ndEFuY2VzdG9yKCk7CiAgICAgICAgaWYgKGMuX2FsaWFzZXMgPT0gbnVsbCkK\nICAgICAgICAgICAgYy5fYWxpYXNlcyA9IG5ldyBIYXNoTWFwPFNlbGVjdGlv\nbjw/PiwgU3RyaW5nPigpOwogICAgICAgIHJldHVybiBjLl9hbGlhc2VzOwog\nICAgfQogICAgCiAgICAvKioKICAgICAqIEdldHMgdGhlIGN1cnJlbnQgY29u\ndGV4dC4KICAgICAqLwogICAgQ29udGV4dCBjdHgoKSB7CiAgICAgICAgcmV0\ndXJuIF9jb250ZXh0cy5wZWVrKCk7CiAgICB9CiAgICAKICAgIC8vCiAgICAv\nLyBBbGlhc0NvbnRleHQgbWFuYWdlbWVudAogICAgLy8KICAgIAogICAgLyoq\nCiAgICAgKiBHZXRzIHRoZSBhbGlhcyBvZiB0aGUgZ2l2ZW4gbm9kZS4gQ3Jl\nYXRlcyBhbiBhdXRvbWF0aWMgYWxpYXMsIGlmIG5lY2Vzc2FyeS4KICAgICAq\nLwogICAgcHVibGljIFN0cmluZyBnZXRBbGlhcyhTZWxlY3Rpb248Pz4gc2Vs\nZWN0aW9uKSB7CiAgICAgICAgU3RyaW5nIGFsaWFzID0gc2VsZWN0aW9uLmdl\ndEFsaWFzKCk7CiAgICAgICAgaWYgKGFsaWFzICE9IG51bGwpIHsKICAgICAg\nICAgICAgX2FsaWFzZXMucHV0KHNlbGVjdGlvbiwgYWxpYXMpOwogICAgICAg\nICAgICByZXR1cm4gYWxpYXM7CiAgICAgICAgfQogICAgICAgIGFsaWFzID0g\nQUxJQVNfQkFTRSArICgrK2FsaWFzQ291bnQpOwogICAgICAgIHdoaWxlIChf\nYWxpYXNlcy5jb250YWluc1ZhbHVlKGFsaWFzKSkKICAgICAgICAgICAgYWxp\nYXMgPSBBTElBU19CQVNFICsgKCsrYWxpYXNDb3VudCk7CiAgICAgICAgKChT\nZWxlY3Rpb25JbXBsPD8+KXNlbGVjdGlvbikuc2V0QXV0b0FsaWFzKGFsaWFz\nKTsKICAgICAgICBfYWxpYXNlcy5wdXQoc2VsZWN0aW9uLCBhbGlhcyk7CiAg\nICAgICAgcmV0dXJuIF9hbGlhc2VzLmdldChzZWxlY3Rpb24pOwogICAgfQog\nICAgCiAgICAvKioKICAgICAqIFJlZ2lzdGVyIHRoZSBnaXZlbiB2YXJpYWJs\nZSBvZiBnaXZlbiBwYXRoIHZhbHVlIGFnYWluc3QgdGhlIGdpdmVuIG5vZGUu\nCiAgICAgKiBJZiB0aGUgZ2l2ZW4gbm9kZSBoYXMgbm8gYWxpYXMgdGhlbiBh\nbiBhbGlhcyBpcyBzZXQgdG8gdGhlIGdpdmVuIG5vZGUuCiAgICAgKiBJZiB0\naGUgdmFyaWFibGUgb3IgdGhlIHBhdGggaGFzIG5vbi1udWxsIGFsaWFzLCB0\naGVuIHRoYXQgYWxpYXMgbXVzdAogICAgICogYmUgZXF1YWwgdG8gdGhlIGFs\naWFzIG9mIHRoZSBnaXZlbiBub2RlLiBPdGhlcndpc2UsIHRoZSBub2RlIGFs\naWFzIGlzIHNldAogICAgICogb24gdGhlIHZhcmlhYmxlIGFuZCBwYXRoLiAg\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHJlZ2lzdGVyVmFyaWFibGUoU2Vs\nZWN0aW9uPD8+IG5vZGUsIFZhbHVlIHZhciwgVmFsdWUgcGF0aCkgewogICAg\nICAgIGlmIChpc1JlZ2lzdGVyZWQobm9kZSkpIHsKICAgICAgICAgICAgdGhy\nb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24obm9kZSArICIgaXMgYWxyZWFkeSBi\nb3VuZCIpOwogICAgICAgIH0KICAgICAgICBpZiAoIXZhci5pc1ZhcmlhYmxl\nKCkpCiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKHZh\nci5nZXRDbGFzcygpICsgIiBpcyBub3QgYSB2YXJpYWJsZSIpOwogICAgICAg\nIGlmICh2YXIuZ2V0UGF0aCgpICE9IHBhdGgpCiAgICAgICAgICAgIHRocm93\nIG5ldyBSdW50aW1lRXhjZXB0aW9uKHZhciArICIgZG9lcyBub3QgbWF0Y2gg\nZ2l2ZW4gIiArIHBhdGggKyAiIFZhcmlhYmxlIHBhdGggaXMgIiArIHZhci5n\nZXRQYXRoKCkpOwogICAgICAgIFN0cmluZyBhbGlhcyA9IGdldEFsaWFzKG5v\nZGUpOwogICAgICAgIAogICAgICAgIGlmICghYWxpYXMuZXF1YWxzKHZhci5n\nZXRBbGlhcygpKSkgewogICAgICAgICAgICBpZiAodmFyLmdldEFsaWFzKCkg\nPT0gbnVsbCkKICAgICAgICAgICAgICAgIHZhci5zZXRBbGlhcyhhbGlhcyk7\nCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHRocm93IG5ldyBS\ndW50aW1lRXhjZXB0aW9uKCJWYXJpYWJsZSBhbGlhcyAiICsgdmFyLmdldEFs\naWFzKCkgKyAKICAgICAgICAgICAgICAgICIgZG9lcyBub3QgbWF0Y2ggZXhw\nZWN0ZWQgc2VsZWN0aW9uIGFsaWFzICIgKyBhbGlhcyk7CiAgICAgICAgfQog\nICAgICAgIGlmICghYWxpYXMuZXF1YWxzKHBhdGguZ2V0QWxpYXMoKSkpIHsK\nICAgICAgICAgICAgaWYgKHBhdGguZ2V0QWxpYXMoKSA9PSBudWxsKSAKICAg\nICAgICAgICAgICAgIHBhdGguc2V0QWxpYXMoYWxpYXMpOwogICAgICAgICAg\nICBlbHNlCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2Vw\ndGlvbigiUGF0aCBhbGlhcyAiICsgcGF0aC5nZXRBbGlhcygpICsgCiAgICAg\nICAgICAgICAgICAiIGRvZXMgbm90IG1hdGNoIGV4cGVjdGVkIHNlbGVjdGlv\nbiBhbGlhcyAiICsgYWxpYXMpOwogICAgICAgIH0KICAgICAgICBfdmFyaWFi\nbGVzLnB1dChub2RlLCB2YXIpOwogICAgICAgIF92YWx1ZXMucHV0KG5vZGUs\nIHBhdGgpOwogICAgICAgIF9hbGlhc2VzLnB1dChub2RlLCBhbGlhcyk7CiAg\nICAgICAgLy8gYWRkIHRvIGNvbnRleHQKICAgICAgICBjdHgoKS5hZGRTY2hl\nbWEoYWxpYXMsIHZhci5nZXRNZXRhRGF0YSgpKTsKICAgICAgICBjdHgoKS5h\nZGRWYXJpYWJsZShhbGlhcywgdmFyKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIGJvb2xlYW4gaXNSZWdpc3RlcmVkKFNlbGVjdGlvbjw/PiBzZWxlY3Rpb24p\nIHsKICAgICAgICBpZiAoX3ZhcmlhYmxlcy5jb250YWluc0tleShzZWxlY3Rp\nb24pKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBTdWJxdWVy\neUltcGw8Pz4gZGVsZWdhdG9yID0gZ2V0RGVsZWdhdG9yKCk7CiAgICAgICAg\ncmV0dXJuIChkZWxlZ2F0b3IgPT0gbnVsbCkgPyBmYWxzZSA6IGdldERlbGVn\nYXRvclBhcmVudCgpLmlzUmVnaXN0ZXJlZChzZWxlY3Rpb24pOwogICAgfQoK\nICAgIHB1YmxpYyBWYWx1ZSBnZXRSZWdpc3RlcmVkVmFyaWFibGUoU2VsZWN0\naW9uPD8+IHNlbGVjdGlvbikgewogICAgICAgIFZhbHVlIHZhciA9IF92YXJp\nYWJsZXMuZ2V0KHNlbGVjdGlvbik7CiAgICAgICAgaWYgKHZhciAhPSBudWxs\nKQogICAgICAgICAgICByZXR1cm4gdmFyOwogICAgICAgIFN1YnF1ZXJ5SW1w\nbDw/PiBkZWxlZ2F0b3IgPSBnZXREZWxlZ2F0b3IoKTsKICAgICAgICByZXR1\ncm4gKGRlbGVnYXRvciA9PSBudWxsKSA/IG51bGwgOiBnZXREZWxlZ2F0b3JQ\nYXJlbnQoKS5nZXRSZWdpc3RlcmVkVmFyaWFibGUoc2VsZWN0aW9uKTsKICAg\nIH0KCiAgICBwdWJsaWMgVmFsdWUgZ2V0UmVnaXN0ZXJlZFZhbHVlKFNlbGVj\ndGlvbjw/PiBzZWxlY3Rpb24pIHsKICAgICAgICBWYWx1ZSB2YWwgPSBfdmFs\ndWVzLmdldChzZWxlY3Rpb24pOwogICAgICAgIGlmICh2YWwgIT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgICBTdWJxdWVyeUltcGw8\nPz4gZGVsZWdhdG9yID0gZ2V0RGVsZWdhdG9yKCk7CiAgICAgICAgcmV0dXJu\nIChkZWxlZ2F0b3IgPT0gbnVsbCkgPyBudWxsIDogZ2V0RGVsZWdhdG9yUGFy\nZW50KCkuZ2V0UmVnaXN0ZXJlZFZhbHVlKHNlbGVjdGlvbik7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZWdpc3RlcnMgYSB2YXJpYWJsZSBmb3IgdGhlIGdp\ndmVuIHJvb3QgZXhwcmVzc2lvbi4KICAgICAqIEEgcm9vdCBleHByZXNzaW9u\nIGlzIHJlZ2lzdGVyZWQgb25seSBmb3IgY3Jvc3Mgam9pbi4gIAogICAgICog\nQHBhcmFtIHJvb3QKICAgICAqIEBwYXJhbSB2YXIKICAgICAqLwogICAgdm9p\nZCByZWdpc3RlclJvb3QoUm9vdDw/PiByb290LCBWYWx1ZSB2YXIpIHsKICAg\nICAgICBpZiAodmFyID09IG51bGwgfHwgIXZhci5pc1ZhcmlhYmxlKCkpCiAg\nICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24o\nIkF0dGVtcHQgdG8gcmVnaXN0ZXIgbm9uLXZhcmlhYmxlICIgKyB2YXIpOwog\nICAgICAgIF9yb290VmFyaWFibGVzLnB1dChyb290LCB2YXIpOwogICAgICAg\nIFN0cmluZyBhbGlhcyA9IHZhci5nZXROYW1lKCk7CiAgICAgICAgY3R4KCku\nYWRkU2NoZW1hKGFsaWFzLCB2YXIuZ2V0TWV0YURhdGEoKSk7CiAgICAgICAg\nY3R4KCkuYWRkVmFyaWFibGUoYWxpYXMsIHZhcik7CiAgICB9CiAgICAKICAg\nIC8qKgogICAgICogR2V0cyB0aGUgcmVnaXN0ZXJlZCB2YXJpYWJsZSBmb3Ig\ndGhlIGdpdmVuIHJvb3QuIAogICAgICovCiAgICBwdWJsaWMgVmFsdWUgZ2V0\nUmVnaXN0ZXJlZFJvb3RWYXJpYWJsZShSb290PD8+IHJvb3QpIHsKICAgICAg\nICBWYWx1ZSB2YXIgPSBfcm9vdFZhcmlhYmxlcy5nZXQocm9vdCk7CiAgICAg\nICAgaWYgKHZhciAhPSBudWxsKQogICAgICAgICAgICByZXR1cm4gdmFyOwog\nICAgICAgIFN1YnF1ZXJ5SW1wbDw/PiBkZWxlZ2F0b3IgPSBnZXREZWxlZ2F0\nb3IoKTsKICAgICAgICByZXR1cm4gKGRlbGVnYXRvciA9PSBudWxsKSA/IG51\nbGwgOiBnZXREZWxlZ2F0b3JQYXJlbnQoKS5nZXRSZWdpc3RlcmVkUm9vdFZh\ncmlhYmxlKHJvb3QpOwogICAgfQogICAgCiAgICBDcml0ZXJpYVF1ZXJ5SW1w\nbDw/PiBnZXREZWxlZ2F0b3JQYXJlbnQoKSB7CiAgICAgICAgQWJzdHJhY3RR\ndWVyeTw/PiBwYXJlbnQgPSBfZGVsZWdhdG9yLmdldFBhcmVudCgpOwogICAg\nICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBDcml0ZXJpYVF1ZXJ5SW1wbCkg\nCiAgICAgICAgICAgIHJldHVybiAoKENyaXRlcmlhUXVlcnlJbXBsPD8+KXBh\ncmVudCk7CiAgICAgICAgLy8gcGFyZW50IGlzIGEgU3VicXVlcnlJbXBsICAg\nIAogICAgICAgIHJldHVybiAoKFN1YnF1ZXJ5SW1wbDw/PilwYXJlbnQpLmdl\ndERlbGVnYXRlKCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyBDbGFzczxUPiBn\nZXRSZXN1bHRUeXBlKCkgewogICAgICAgIHJldHVybiBfcmVzdWx0Q2xhc3M7\nCiAgICB9CgogICAgcHVibGljIENyaXRlcmlhUXVlcnk8VD4gbXVsdGlzZWxl\nY3QoTGlzdDxTZWxlY3Rpb248Pz4+IGxpc3QpIHsKICAgICAgICByZXR1cm4g\nbXVsdGlzZWxlY3QobGlzdC50b0FycmF5KG5ldyBTZWxlY3Rpb248Pz5bbGlz\ndC5zaXplKCldKSk7CiAgICB9CiAgICAKICAgIGJvb2xlYW4gaXNNdWx0aXNl\nbGVjdCgpIHsKICAgICAgICByZXR1cm4gX3NlbGVjdGlvbiBpbnN0YW5jZW9m\nIENvbXBvdW5kU2VsZWN0aW9ucy5NdWx0aVNlbGVjdGlvbjsKICAgIH0KICAg\nIAogICAgcHJvdGVjdGVkIGJvb2xlYW4gaXNEZWZhdWx0UHJvamVjdGlvbigp\nIHsKICAgICAgICBpZiAoX3NlbGVjdGlvbnMgPT0gbnVsbCkgewogICAgICAg\nICAgICByZXR1cm4gZ2V0Um9vdHMoKS5zaXplKCkgPT0gMSAmJiBnZXRSb290\nKCkuZ2V0TW9kZWwoKS5nZXRKYXZhVHlwZSgpID09IF9yZXN1bHRDbGFzczsK\nICAgICAgICB9IAogICAgICAgIGlmIChfc2VsZWN0aW9ucy5zaXplKCkgIT0g\nMSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAg\nICAgIFNlbGVjdGlvbjw/PiBzZWwgPSBfc2VsZWN0aW9ucy5nZXQoMCk7CiAg\nICAgICAgaWYgKCFnZXRSb290cygpLmlzRW1wdHkoKSAmJiBzZWwgPT0gZ2V0\nUm9vdCgpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0K\nICAgICAgICBpZiAoKHNlbCBpbnN0YW5jZW9mIFBhdGhJbXBsPD8sPz4pICYm\nICgoUGF0aEltcGw8Pyw/PilzZWwpLmlzQ29ycmVsYXRlZCgpKSB7CiAgICAg\nICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICB9CiAgICAKICAgIHZvaWQgaW52YWxpZGF0ZUNvbXBpbGF0\naW9uKCkgewogICAgICAgIF9jb21waWxlZCA9IGZhbHNlOwogICAgICAgIF9w\nYXJhbXMgICA9IG51bGw7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQ29t\ncGlsZXMgdG8gdmVyaWZ5IHRoYXQgYXQgbGVhc3Qgb25lIHJvb3QgaXMgZGVm\naW5lZCwgYSBzZWxlY3Rpb24gdGVybSBpcyBwcmVzZW50CiAgICAgKiBhbmQs\nIG1vc3QgaW1wb3J0YW50bHksIGNvbGxlY3RzIGFsbCB0aGUgcGFyYW1ldGVy\ncyBzbyB0aGF0IHRoZXkgY2FuIGJlIGJvdW5kIHRvCiAgICAgKiB0aGUgZXhl\nY3V0YWJsZSBxdWVyeS4gCiAgICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBQ3Jp\ndGVyaWFRdWVyeTxUPiBjb21waWxlKCkgewogICAgICAgIGlmIChfY29tcGls\nZWQpCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGFzc2VydFJv\nb3QoKTsKICAgICAgICBhc3NlcnRTZWxlY3Rpb24oKTsKICAgICAgICBjb2xs\nZWN0UGFyYW1ldGVycyhuZXcgQ3JpdGVyaWFFeHByZXNzaW9uVmlzaXRvci5Q\nYXJhbWV0ZXJWaXNpdG9yKHRoaXMpKTsKICAgICAgICBfY29tcGlsZWQgPSB0\ncnVlOwogICAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgCiAgICBwcml2\nYXRlIHZvaWQgY29sbGVjdFBhcmFtZXRlcnMoQ3JpdGVyaWFFeHByZXNzaW9u\nVmlzaXRvciB2aXNpdG9yKSB7CiAgICAgICAgaWYgKF9jb21waWxlZCkKICAg\nICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChfd2hlcmUgIT0gbnVsbCkg\newogICAgICAgICAgICBfd2hlcmUuYWNjZXB0VmlzaXQodmlzaXRvcik7CiAg\nICAgICAgfQogICAgICAgIGlmIChfc3VicXVlcmllcyAhPSBudWxsKSB7CiAg\nICAgICAgICAgIGZvciAoU3VicXVlcnk8Pz4gc3VicSA6IF9zdWJxdWVyaWVz\nKSB7CiAgICAgICAgICAgICAgICAoKFN1YnF1ZXJ5SW1wbDw/PilzdWJxKS5n\nZXREZWxlZ2F0ZSgpLmNvbGxlY3RQYXJhbWV0ZXJzKHZpc2l0b3IpOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogR2V0\ncyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBxdWVyeS4KICAg\nICAqLwogICAgcHVibGljIFN0cmluZyB0b0NRTCgpIHsKICAgICAgICBTdHJp\nbmdCdWlsZGVyIGJ1ZmZlciA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgICAg\nICAgcmVuZGVyKGJ1ZmZlciwgX3Jvb3RzLCBudWxsKTsKICAgICAgICByZXR1\ncm4gYnVmZmVyLnRvU3RyaW5nKCkudHJpbSgpOwogICAgfQogICAgCiAgICB2\nb2lkIHJlbmRlcihTdHJpbmdCdWlsZGVyIGJ1ZmZlciwgU2V0PFJvb3Q8Pz4+\nIHJvb3RzLCBMaXN0PEpvaW48Pyw/Pj4gY29ycmVsYXRlZEpvaW5zKSB7CiAg\nICAgICAgYnVmZmVyLmFwcGVuZCgiU0VMRUNUICIpOwogICAgICAgIGlmIChp\nc0Rpc3RpbmN0KCkpIGJ1ZmZlci5hcHBlbmQoIiBESVNUSU5DVCAiKTsKICAg\nICAgICBidWZmZXIuYXBwZW5kKF9zZWxlY3Rpb24gIT0gbnVsbCA/ICgoQ3Jp\ndGVyaWFFeHByZXNzaW9uKV9zZWxlY3Rpb24pLmFzUHJvamVjdGlvbih0aGlz\nKSA6ICIqIik7CiAgICAgICAgYnVmZmVyLmFwcGVuZCgiIEZST00gIik7CiAg\nICAgICAgcmVuZGVyUm9vdHMoYnVmZmVyLCByb290cyk7CiAgICAgICAgcmVu\nZGVySm9pbnMoYnVmZmVyLCBjb3JyZWxhdGVkSm9pbnMpOwogICAgICAgIGlm\nIChfd2hlcmUgIT0gbnVsbCkgewogICAgICAgICAgICBidWZmZXIuYXBwZW5k\nKCIgV0hFUkUgIikuYXBwZW5kKF93aGVyZS5hc1ZhbHVlKHRoaXMpKTsKICAg\nICAgICB9CiAgICAgICAgaWYgKF9vcmRlcnMgIT0gbnVsbCkgewogICAgICAg\nICAgICBidWZmZXIuYXBwZW5kKCIgT1JERVIgQlkgIik7CiAgICAgICAgICAg\nIGZvciAoT3JkZXIgb3JkZXJCeSA6IGdldE9yZGVyTGlzdCgpKSB7CiAgICAg\nICAgICAgICAgICBidWZmZXIuYXBwZW5kKCgoQ3JpdGVyaWFFeHByZXNzaW9u\nKW9yZGVyQnkpLmFzVmFsdWUodGhpcykpOwogICAgICAgICAgICB9CiAgICAg\nICAgfQogICAgICAgIGlmIChfZ3JvdXBzICE9IG51bGwpIHsKICAgICAgICAg\nICAgYnVmZmVyLmFwcGVuZCgiIEdST1VQIEJZICIpOwogICAgICAgICAgICBm\nb3IgKEV4cHJlc3Npb248Pz4gZ3JvdXBCeSA6IGdldEdyb3VwTGlzdCgpKSB7\nCiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKCgoQ3JpdGVyaWFFeHBy\nZXNzaW9uKWdyb3VwQnkpLmFzVmFsdWUodGhpcykpOwogICAgICAgICAgICB9\nCiAgICAgICAgfQogICAgICAgIGlmIChfaGF2aW5nICE9IG51bGwpIHsKICAg\nICAgICAgICAgYnVmZmVyLmFwcGVuZCgiIEhBVklORyAiKTsKICAgICAgICAg\nICAgYnVmZmVyLmFwcGVuZChfaGF2aW5nLmFzVmFsdWUodGhpcykpOwogICAg\nICAgIH0KICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHJlbmRlckpvaW5z\nKFN0cmluZ0J1aWxkZXIgYnVmZmVyLCBDb2xsZWN0aW9uPEpvaW48Pyw/Pj4g\nam9pbnMpIHsKICAgICAgICBpZiAoam9pbnMgPT0gbnVsbCkgcmV0dXJuOwog\nICAgICAgIGZvciAoSm9pbiBqIDogam9pbnMpIHsKICAgICAgICAgICAgYnVm\nZmVyLmFwcGVuZCgoKENyaXRlcmlhRXhwcmVzc2lvbilqKS5hc1ZhcmlhYmxl\nKHRoaXMpKS5hcHBlbmQoIiAiKTsKICAgICAgICAgICAgcmVuZGVySm9pbnMo\nYnVmZmVyLCBqLmdldEpvaW5zKCkpOwogICAgICAgICAgICByZW5kZXJGZXRj\naGVzKGJ1ZmZlciwgai5nZXRGZXRjaGVzKCkpOwogICAgICAgIH0KICAgIH0K\nICAgIAogICAgcHJpdmF0ZSB2b2lkIHJlbmRlclJvb3RzKFN0cmluZ0J1aWxk\nZXIgYnVmZmVyLCBDb2xsZWN0aW9uPFJvb3Q8Pz4+IHJvb3RzKSB7CiAgICAg\nICAgaWYgKHJvb3RzID09IG51bGwpIHJldHVybjsKICAgICAgICBpbnQgaSA9\nIDA7CiAgICAgICAgZm9yIChSb290IHIgOiByb290cykgewogICAgICAgICAg\nICBidWZmZXIuYXBwZW5kKCgoRXhwcmVzc2lvbkltcGw8Pz4pcikuYXNWYXJp\nYWJsZSh0aGlzKSk7CiAgICAgICAgICAgIGlmICgrK2kgIT0gcm9vdHMuc2l6\nZSgpKSBidWZmZXIuYXBwZW5kKCIsICIpOwogICAgICAgICAgICByZW5kZXJK\nb2lucyhidWZmZXIsIHIuZ2V0Sm9pbnMoKSk7CiAgICAgICAgICAgIHJlbmRl\nckZldGNoZXMoYnVmZmVyLCByLmdldEZldGNoZXMoKSk7CiAgICAgICAgfQog\nICAgfQogICAgcHJpdmF0ZSB2b2lkIHJlbmRlckZldGNoZXMoU3RyaW5nQnVp\nbGRlciBidWZmZXIsIFNldDxGZXRjaD4gZmV0Y2hlcykgewogICAgICAgIGlm\nIChmZXRjaGVzID09IG51bGwpIHJldHVybjsKICAgICAgICBmb3IgKEZldGNo\nIGogOiBmZXRjaGVzKSB7CiAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQoKChF\neHByZXNzaW9uSW1wbDw/PilqKS5hc1ZhbHVlKHRoaXMpKS5hcHBlbmQoIiAi\nKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

