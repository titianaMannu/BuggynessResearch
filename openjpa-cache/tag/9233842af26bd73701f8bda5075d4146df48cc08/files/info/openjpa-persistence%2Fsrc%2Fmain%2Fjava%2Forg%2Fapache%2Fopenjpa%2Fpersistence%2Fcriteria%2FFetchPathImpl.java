{"sha":"daf1df48cb9425d5aaf5b5c4c8614d07239dd89c","node_id":"MDQ6QmxvYjIwNjM2NDpkYWYxZGY0OGNiOTQyNWQ1YWFmNWI1YzRjODYxNGQwNzIzOWRkODlj","size":3910,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/daf1df48cb9425d5aaf5b5c4c8614d07239dd89c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jcml0ZXJpYTsK\nCmltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsKaW1wb3J0IGphdmEudXRpbC5T\nZXQ7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuRmV0Y2g7\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5GZXRjaFBhcmVu\ndDsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkpvaW5UeXBl\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLkF0dHJpYnV0\nZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5NYW5hZ2Vk\nVHlwZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5QbHVy\nYWxBdHRyaWJ1dGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9k\nZWwuU2luZ3VsYXJBdHRyaWJ1dGU7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLm1ldGEuTWVtYmVyczsKCi8qKgogKiAgCiAqIEBh\ndXRob3IgUGluYWtpIFBvZGRhcgogKgogKiBAcGFyYW0gPFo+IHR5cGUgb2Yg\ncGFyZW50CiAqIEBwYXJhbSA8WD4gdHlwZSBvZiB0aGlzCiAqLwpjbGFzcyBG\nZXRjaFBhdGhJbXBsPFosWD4gZXh0ZW5kcyBQYXRoSW1wbDxaLFg+IGltcGxl\nbWVudHMgRmV0Y2g8WiwgWD4gewogICAgcHJvdGVjdGVkIFNldDxGZXRjaDw/\nLD8+PiBfZmV0Y2hlczsKICAgIHByb3RlY3RlZCBKb2luVHlwZSBqb2luVHlw\nZTsKICAgIAogICAgCiAgICBGZXRjaFBhdGhJbXBsKEZldGNoUGFyZW50PD8s\nWj4gcGFyZW50LCBNZW1iZXJzLk1lbWJlcjw/IHN1cGVyIFosWD4gbWVtYmVy\nKSB7CiAgICAgICAgdGhpcyhwYXJlbnQsIG1lbWJlciwgSm9pblR5cGUuSU5O\nRVIpOwogICAgfQogICAgCiAgICBGZXRjaFBhdGhJbXBsKEZldGNoUGFyZW50\nPD8sWj4gcGFyZW50LCBNZW1iZXJzLk1lbWJlcjw/IHN1cGVyIFosWD4gbWVt\nYmVyLCBKb2luVHlwZSB0eXBlKSB7CiAgICAgICAgc3VwZXIoKFBhdGhJbXBs\nPD8sWj4pcGFyZW50LCBtZW1iZXIsIG1lbWJlci5nZXRKYXZhVHlwZSgpKTsK\nICAgICAgICB0aGlzLmpvaW5UeXBlID0gdHlwZTsKICAgIH0KICAgIAogICAg\ncHVibGljIEpvaW5UeXBlIGdldEpvaW5UeXBlKCkgewogICAgICAgIHJldHVy\nbiBqb2luVHlwZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBSZXR1cm4g\ndGhlIG1ldGFtb2RlbCBhdHRyaWJ1dGUgY29ycmVzcG9uZGluZyB0byB0aGUg\nZmV0Y2ggam9pbi4KICAgICAqIEByZXR1cm4gbWV0YW1vZGVsIGF0dHJpYnV0\nZSBmb3IgdGhlIGpvaW4KICAgICAqLwogICAgcHVibGljIEF0dHJpYnV0ZTxa\nLCBYPiBnZXRBdHRyaWJ1dGUoKSB7CiAgICAgICAgcmV0dXJuIChBdHRyaWJ1\ndGU8WiwgWD4pX21lbWJlcjsKICAgIH0KICAgIAogICAgcHVibGljIEZldGNo\nUGFyZW50PD8sIFo+IGdldFBhcmVudCgpIHsKICAgICAgICByZXR1cm4gKEZl\ndGNoUGFyZW50PD8sIFo+KV9wYXJlbnQ7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyA8WT4gRmV0Y2g8WCwgWT4gZmV0Y2goU2luZ3VsYXJBdHRyaWJ1dGU8PyBz\ndXBlciBYLCBZPiBhc3NvYykgewogICAgICAgIHJldHVybiBhZGRGZXRjaCgo\nTWVtYmVycy5NZW1iZXI8PyBzdXBlciBYLFk+KWFzc29jLCBKb2luVHlwZS5J\nTk5FUik7CiAgICB9CgogICAgcHVibGljIDxZPiBGZXRjaDxYLCBZPiBmZXRj\naChQbHVyYWxBdHRyaWJ1dGU8PyBzdXBlciBYLCA/LCBZPiBhc3NvYykgewog\nICAgICAgIHJldHVybiBhZGRGZXRjaCgoTWVtYmVycy5NZW1iZXI8PyBzdXBl\nciBYLFk+KWFzc29jLCBKb2luVHlwZS5JTk5FUik7CiAgICB9CgogICAgcHVi\nbGljIDxYLFk+IEZldGNoPFgsIFk+IGZldGNoKFN0cmluZyBhc3NvY05hbWUp\nIHsKICAgICAgICByZXR1cm4gZmV0Y2goYXNzb2NOYW1lLCBKb2luVHlwZS5J\nTk5FUik7CiAgICB9CgogICAgcHVibGljIDxZPiBGZXRjaDxYLCBZPiBmZXRj\naChTaW5ndWxhckF0dHJpYnV0ZTw/IHN1cGVyIFgsIFk+IGFzc29jLCBKb2lu\nVHlwZSBqdCkgewogICAgICAgIHJldHVybiBhZGRGZXRjaCgoTWVtYmVycy5N\nZW1iZXI8PyBzdXBlciBYLFk+KWFzc29jLCBqdCk7CiAgICB9CgogICAgcHVi\nbGljIDxZPiBGZXRjaDxYLCBZPiBmZXRjaChQbHVyYWxBdHRyaWJ1dGU8PyBz\ndXBlciBYLCA/LCBZPiBhc3NvYywgSm9pblR5cGUganQpIHsKICAgICAgICBy\nZXR1cm4gYWRkRmV0Y2goKE1lbWJlcnMuTWVtYmVyPD8gc3VwZXIgWCxZPilh\nc3NvYywganQpOwogICAgfQoKICAgIHB1YmxpYyA8WCxZPiBGZXRjaDxYLCBZ\nPiBmZXRjaChTdHJpbmcgYXNzb2NOYW1lLCBKb2luVHlwZSBqdCkgewogICAg\nICAgIEF0dHJpYnV0ZTw/IHN1cGVyIFgsID8+IGFzc29jID0gKChNYW5hZ2Vk\nVHlwZTxYPilfbWVtYmVyLmdldFR5cGUoKSkuZ2V0QXR0cmlidXRlKGFzc29j\nTmFtZSk7CiAgICAgICAgcmV0dXJuIGFkZEZldGNoKChNZW1iZXJzLk1lbWJl\ncjw/IHN1cGVyIFgsWT4pYXNzb2MsIGp0KTsKICAgIH0KCiAgICBwdWJsaWMg\nU2V0PEZldGNoPFgsID8+PiBnZXRGZXRjaGVzKCkgewogICAgICAgIFNldDxG\nZXRjaDxYLD8+PiByZXN1bHQgPSBuZXcgSGFzaFNldDxGZXRjaDxYLD8+Pigp\nOwogICAgICAgIGZvciAoRmV0Y2ggZiA6IF9mZXRjaGVzKSB7CiAgICAgICAg\nICAgIHJlc3VsdC5hZGQoZik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBy\nZXN1bHQ7CiAgICB9CiAgICAKICAgIHByaXZhdGUgPFgsWT4gRmV0Y2g8WCxZ\nPiBhZGRGZXRjaChNZW1iZXJzLk1lbWJlcjw/IHN1cGVyIFgsIFk+IG1lbWJl\nciwgSm9pblR5cGUganQpIHsKICAgICAgICBGZXRjaDxYLFk+IGZldGNoID0g\nbmV3IEZldGNoUGF0aEltcGwodGhpcywgbWVtYmVyLCBqdCk7CiAgICAgICAg\naWYgKF9mZXRjaGVzID09IG51bGwpCiAgICAgICAgICAgIF9mZXRjaGVzID0g\nbmV3IEhhc2hTZXQ8RmV0Y2g8Pyw/Pj4oKTsKICAgICAgICBfZmV0Y2hlcy5h\nZGQoZmV0Y2gpOwogICAgICAgIHJldHVybiBmZXRjaDsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nQnVpbGRlciBhc1ZhbHVlKEFsaWFzQ29udGV4dCBxKSB7\nCiAgICAgICAgcmV0dXJuIHN1cGVyLmFzVmFsdWUocSkuaW5zZXJ0KDAsICIg\nIiArIGpvaW5UeXBlICsgIiBKT0lOIEZFVENIICIpOwogICAgfQp9Cg==\n","encoding":"base64"}

