{"sha":"ff4ab54dcdb189a6d3f1b3fb18c56e11066f22e5","node_id":"MDQ6QmxvYjIwNjM2NDpmZjRhYjU0ZGNkYjE4OWE2ZDNmMWIzZmIxOGM1NmUxMTA2NmYyMmU1","size":3513,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ff4ab54dcdb189a6d3f1b3fb18c56e11066f22e5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CgppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuUGFyYW1ldGVyRXhwcmVzc2lvbjsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRXhwcmVz\nc2lvbkZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVs\nLmV4cHMuVmFsdWU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5J\nbnRlcm5hbEV4Y2VwdGlvbjsKCi8qKgogKiBQYXJhbWV0ZXIgb2YgYSBjcml0\nZXJpYSBxdWVyeS4KICogPGJyPgogKiBBIHBhcmFtZXRlciBpbiBDcml0ZXJp\nYVF1ZXJ5IGlzIGFsd2F5cyBhIG5hbWVkIHBhcmFtZXRlciBidXQgY2FuIGJl\nIGNvbnN0cnVjdGVkIHdpdGggYSBudWxsIG5hbWUuCiAqIFBvc2l0aW9uYWwg\ncGFyYW1ldGVycyBhcmUgbm90IGFsbG93ZWQgaW4gQ3JpdGVyYVF1ZXJ5Lgog\nKiA8YnI+IAogKiAKICogQGF1dGhvciBQaW5ha2kgUG9kZGFyCiAqIEBhdXRo\nb3IgRmF5IHdhbmcKICogCiAqIEBwYXJhbSA8VD4gdGhlIHR5cGUgb2YgdmFs\ndWUgaGVsZCBieSB0aGlzIHBhcmFtZXRlci4KICovCmNsYXNzIFBhcmFtZXRl\nckV4cHJlc3Npb25JbXBsPFQ+IGV4dGVuZHMgRXhwcmVzc2lvbkltcGw8VD4g\nCiAgICBpbXBsZW1lbnRzIFBhcmFtZXRlckV4cHJlc3Npb248VD4gewogICAg\ncHJpdmF0ZSBTdHJpbmcgX25hbWU7CiAgICBwcml2YXRlIGludCBfaW5kZXgg\nPSAwOyAvLyBpbmRleCBvZiB0aGUgcGFyYW1ldGVyIGFzIHNlZW4gYnkgdGhl\nIGtlcm5lbCwgbm90IHBvc2l0aW9uCgkKCS8qKgoJICogQ29uc3RydWN0IGEg\nUGFyYW1ldGVyIG9mIGdpdmVuIGV4cGVjdGVkIHZhbHVlIHR5cGUgYW5kIG5h\nbWUuCgkgKiAKCSAqIEBwYXJhbSBjbHMgZXhwZWN0ZWQgdmFsdWUgdHlwZQoJ\nICogQHBhcmFtIG5hbWUgbmFtZSBvZiB0aGUgcGFyYW1ldGVyIHdoaWNoIGNh\nbiBiZSBudWxsLgoJICovCiAgICBwdWJsaWMgUGFyYW1ldGVyRXhwcmVzc2lv\nbkltcGwoQ2xhc3M8VD4gY2xzLCBTdHJpbmcgbmFtZSkgewogICAgICAgIHN1\ncGVyKGNscyk7CiAgICAgICAgaWYgKG5hbWUgIT0gbnVsbCkKICAgICAgICAg\nICAgYXNzZXJ0VmFsaWROYW1lKG5hbWUpOwogICAgICAgIF9uYW1lID0gbmFt\nZTsKICAgIH0KCiAgICAvKioKICAgICAqIEdldHMgdGhlIG5hbWUgb2YgdGhp\ncyBwYXJhbWV0ZXIuCiAgICAgKiBUaGUgbmFtZSBjYW4gYmUgbnVsbC4KICAg\nICAqLwogICAgcHVibGljIGZpbmFsIFN0cmluZyBnZXROYW1lKCkgewogICAg\nICAgIHJldHVybiBfbmFtZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBS\nYWlzZXMgYW4gaW50ZXJuYWwgZXhjZXB0aW9uIGJlY2F1c2UgcGFyYW1ldGVy\ncyBvZiBDcml0ZXJpYVF1ZXJ5CiAgICAgKiBhcmUgbm90IHBvc2l0aW9uYWwu\nIAogICAgICovCiAgICBwdWJsaWMgZmluYWwgSW50ZWdlciBnZXRQb3NpdGlv\nbigpIHsKICAgICAgICB0aHJvdyBuZXcgSW50ZXJuYWxFeGNlcHRpb24odGhp\ncyArICIgbXVzdCBub3QgYmUgYXNrZWQgZm9yIGl0cyBwb3NpdGlvbiIpOwog\nICAgfQogICAgCiAgICB2b2lkIHNldEluZGV4KGludCBpbmRleCkgewogICAg\nICAgIF9pbmRleCA9IGluZGV4OwogICAgfQogICAgCiAgICBwdWJsaWMgU3Ry\naW5nIHRvU3RyaW5nKCkgewogICAgICAgIFN0cmluZ0J1aWxkZXIgYnVmID0g\nbmV3IFN0cmluZ0J1aWxkZXIoIlBhcmFtZXRlckV4cHJlc3Npb24iKTsKICAg\nICAgICBidWYuYXBwZW5kKCI8IiArIGdldEphdmFUeXBlKCkuZ2V0U2ltcGxl\nTmFtZSgpICsgIj4iKTsKICAgICAgICBpZiAoX25hbWUgIT0gbnVsbCkKICAg\nICAgICAgICAgYnVmLmFwcGVuZCgiKCciKyBfbmFtZSArIicpIik7IAoKICAg\nICAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7CiAgICB9CiAgICAKICAgIEBP\ndmVycmlkZQogICAgcHVibGljIFZhbHVlIHRvVmFsdWUoRXhwcmVzc2lvbkZh\nY3RvcnkgZmFjdG9yeSwgQ3JpdGVyaWFRdWVyeUltcGw8Pz4gcSkgewogICAg\nICAgIENsYXNzPD8+IGNsenogPSBnZXRKYXZhVHlwZSgpOwogICAgICAgIE9i\namVjdCBwYXJhbUtleSA9IF9uYW1lID09IG51bGwgPyBfaW5kZXggOiBfbmFt\nZTsKICAgICAgICBib29sZWFuIGlzQ29sbGVjdGlvblZhbHVlZCAgPSBDb2xs\nZWN0aW9uLmNsYXNzLmlzQXNzaWduYWJsZUZyb20oY2x6eik7CiAgICAgICAg\nb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLlBhcmFtZXRlciBwYXJh\nbSA9IGlzQ29sbGVjdGlvblZhbHVlZCAKICAgICAgICAgICAgPyBmYWN0b3J5\nLm5ld0NvbGxlY3Rpb25WYWx1ZWRQYXJhbWV0ZXIocGFyYW1LZXksIGNsenop\nIAogICAgICAgICAgICA6IGZhY3RvcnkubmV3UGFyYW1ldGVyKHBhcmFtS2V5\nLCBjbHp6KTsKICAgICAgICBwYXJhbS5zZXRJbmRleChfaW5kZXgpOwogICAg\nICAgIAogICAgICAgIHJldHVybiBwYXJhbTsKICAgIH0gICAKICAgIAogICAg\nQE92ZXJyaWRlCiAgICBwdWJsaWMgU3RyaW5nQnVpbGRlciBhc1ZhbHVlKEFs\naWFzQ29udGV4dCBxKSB7CiAgICAgICAgcmV0dXJuIEV4cHJlc3Npb25zLmFz\nVmFsdWUocSwgIjoiLCBfbmFtZSA9PSBudWxsID8gInBhcmFtIiA6IF9uYW1l\nKTsKICAgIH0KICAgIAogICAgcHVibGljIENsYXNzPFQ+IGdldFBhcmFtZXRl\nclR5cGUoKSB7CiAgICAgICAgcmV0dXJuIGdldEphdmFUeXBlKCk7CiAgICB9\nCn0K\n","encoding":"base64"}

