{"sha":"6a4fada87ff5a35d2030ae0bf1e06bde172179e1","node_id":"MDQ6QmxvYjIwNjM2NDo2YTRmYWRhODdmZjVhMzVkMjAzMGFlMGJmMWUwNmJkZTE3MjE3OWUx","size":5156,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6a4fada87ff5a35d2030ae0bf1e06bde172179e1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQgamF2YXgucGVy\nc2lzdGVuY2UuY3JpdGVyaWEuRXhwcmVzc2lvbjsKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLmNyaXRlcmlhLlNlbGVjdGlvbjsKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRXhwcmVzc2lvbkZhY3Rvcnk7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudXRpbC5SZXNl\ncnZlZFdvcmRzOwoKLyoqCiAqIEFuIGl0ZW0gc2VsZWN0ZWQgaW4gdGhlIHBy\nb2plY3Rpb24gY2xhdXNlIG9mIENyaXRlcmlhIHF1ZXJ5LgogKiBCYXNlIGlt\ncGxlbWVudGF0aW9uIGZvciBhbGwgY29uY3JldGUgZXhwcmVzc2lvbnMuCiAq\nIAogKiBAcGFyYW0gPFg+IHRoZSB0eXBlIHRoaXMgdGVybSBldmFsdWF0ZXMg\ndG8KICogCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcgogKgogKiBAc2luY2Ug\nMi4wLjAKICovCmFic3RyYWN0IGNsYXNzIFNlbGVjdGlvbkltcGw8WD4gaW1w\nbGVtZW50cyBTZWxlY3Rpb248WD4sIENyaXRlcmlhRXhwcmVzc2lvbiB7CiAg\nICBwcml2YXRlIGZpbmFsIENsYXNzPFg+IF9jbHM7CiAgICBwcml2YXRlIFN0\ncmluZyBfYWxpYXM7CiAgICBwcml2YXRlIEJvb2xlYW4gX2F1dG9BbGlhc2Vk\nOyAKICAgIAogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Qgd2l0aCB0aGUgaW1t\ndXRhYmxlIHR5cGUgcmVwcmVzZW50ZWQgYnkgdGhpcyBzZWxlY3Rpb24gdGVy\nbS4KICAgICAqLwogICAgcHVibGljIFNlbGVjdGlvbkltcGwoQ2xhc3M8WD4g\nY2xzKSB7CiAgICAgICAgX2NscyA9IGNsczsKICAgIH0KICAgIAogICAgLyoq\nCiAgICAgKiBHZXRzIHRoZSBpbW11dGFibGUgdHlwZSByZXByZXNlbnRlZCBi\neSB0aGlzIHNlbGVjdGlvbiB0ZXJtLgogICAgICovCiAgICBwdWJsaWMgQ2xh\nc3M8WD4gZ2V0SmF2YVR5cGUoKSB7CiAgICAgICAgcmV0dXJuIF9jbHM7CiAg\nICB9CiAgICAKICAgIC8qKgogICAgICogR2V0cyB0aGUgYWxpYXMgc2V0IG9m\nIHRoaXMgc2VsZWN0aW9uIHRlcm0uCiAgICAgKi8KICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0QWxpYXMoKSB7CiAgICAgICAgcmV0dXJuIF9hbGlhczsgCiAgICB9\nCiAgICAKICAgIC8qKgogICAgICogU2V0cyB0aGUgYWxpYXMgb24gdGhpcyBz\nZWxlY3Rpb24gdGVybS4KICAgICAqIEFsaWFzIGNhbiBvbmx5IGJlIHNldCBv\nbmNlLgogICAgICovCiAgICBwdWJsaWMgU2VsZWN0aW9uPFg+IGFsaWFzKFN0\ncmluZyBhbGlhcykgewogICAgICAgIGFzc2VydFZhbGlkTmFtZShhbGlhcyk7\nCiAgICAgICAgaWYgKGlzQWxpYXNlZCgpKQogICAgICAgICAgICB0aHJvdyBu\nZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKHRoaXMgKyAiIGhhcyBiZWVuIGFs\naWFzZWQgdG8gWyIgKyBfYWxpYXMgCiAgICAgICAgICAgICAgICAgICAgKyAi\nLiBDYW4gbm90IGFsaWFzIGFnYWluIHRvICIgKyBhbGlhcyk7CiAgICAgICAg\nX2FsaWFzID0gYWxpYXM7CiAgICAgICAgX2F1dG9BbGlhc2VkID0gZmFsc2U7\nCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAKICAgIC8qKgogICAg\nICogU2V0cyB0aGUgYWxpYXMgb2YgdGhpcyBleHByZXNzaW9uIGludGVybmFs\nbHkuIE9ubHkgdmFsaWQgaWYgdGhlIGV4cHJlc3Npb24gaXMgbm90IGFsaWFz\nZWQgZXhwbGljaXRseQogICAgICogYnkgY2FsbGluZyB7QGxpbmtwbGFpbiAj\nYWxpYXMoU3RyaW5nKX0uCiAgICAgKi8KICAgIHZvaWQgc2V0QXV0b0FsaWFz\nKFN0cmluZyBhbGlhcykgewogICAgICAgIGlmIChpc0FsaWFzZWQoKSkKICAg\nICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbih0aGlz\nICsgIiBoYXMgYmVlbiBhbGlhc2VkLiBDYW4gbm90IHNldCBhbGlhcyBpbnRl\ncm5hbGx5Iik7CiAgICAgICAgX2FsaWFzID0gYWxpYXM7CiAgICAgICAgX2F1\ndG9BbGlhc2VkID0gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBB\nZmZpcm1zIGlmIHRoZSBhbGlhcyBvZiB0aGlzIGV4cHJlc3Npb24gaXMgYXNz\naWduZWQgYXV0b21hdGljYWxseS4KICAgICAqLwogICAgYm9vbGVhbiBpc0F1\ndG9BbGlhc2VkKCkgewogICAgICAgIHJldHVybiBfYXV0b0FsaWFzZWQgPT0g\nbnVsbCA/IHRydWUgOiBfYXV0b0FsaWFzZWQuYm9vbGVhblZhbHVlKCk7CiAg\nICB9ICAKICAgIAogICAgLyoqCiAgICAgKiBBZmZpcm1zIGlmIHRoaXMgZXhw\ncmVzc2lvbiBoYXMgYmVlbiBhc3NpZ25lZCBhbiBhbGlhcyBieSB7QGxpbmtw\nbGFpbiAjYWxpYXMoU3RyaW5nKX0gbWV0aG9kLgogICAgICogQW4gYWxpYXMg\nY2FuIGJlIGFzc2lnbmVkIGFsc28gYnkgaW50ZXJuYWwgaW1wbGVtZW50YXRp\nb24uCiAgICAgKiBAc2VlICNpc0F1dG9BbGlhc2VkKCkgCiAgICAgKi8KICAg\nIGJvb2xlYW4gaXNBbGlhc2VkKCkgewogICAgICAgIHJldHVybiBCb29sZWFu\nLkZBTFNFLmVxdWFscyhfYXV0b0FsaWFzZWQpOwogICAgfSAgCgogICAgLyoq\nCiAgICAgKiBUaHJvd3MgSWxsZWdhbFN0YXRlRXhjZXB0aW9uIGJlY2F1c2Ug\nYSBzZWxlY3Rpb24gdGVybSwgYnkgZGVmYXVsdCwgY29uc2lzdHMgb2Ygc2lu\nZ2xlIHZhbHVlLgogICAgICovCiAgICBwdWJsaWMgTGlzdDxTZWxlY3Rpb248\nPz4+IGdldENvbXBvdW5kU2VsZWN0aW9uSXRlbXMoKSB7CiAgICAgICAgdGhy\nb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbih0aGlzICsgIiBpcyBub3Qg\nYSBjb21wb3VuZCBzZWxlY3Rpb24iKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybnMgZmFsc2UgYmVjYXVzZSBhIHNlbGVjdGlvbiB0ZXJtLCBieSBk\nZWZhdWx0LCBjb25zaXN0cyBvZiBzaW5nbGUgdmFsdWUuCiAgICAgKi8KICAg\nIHB1YmxpYyBib29sZWFuIGlzQ29tcG91bmRTZWxlY3Rpb24oKSB7CiAgICAg\nICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgCiAgICB2b2lkIGFzc2VydFZh\nbGlkTmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIGlmIChuYW1lID09IG51\nbGwgfHwgbmFtZS50cmltKCkubGVuZ3RoKCkgPT0gMCkKICAgICAgICAgICAg\ndGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiZW1wdHkgbmFt\nZSBpcyBpbnZhbGlkIik7CiAgICAgICAgaWYgKFJlc2VydmVkV29yZHMuaXNL\nZXl3b3JkKG5hbWUpKSAKICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxB\ncmd1bWVudEV4Y2VwdGlvbigicmVzZXJ2ZWQgd29yZCAiICsgbmFtZSArICIg\naXMgbm90IHZhbGlkIik7CiAgICAgICAgQ2hhcmFjdGVyIGNoID0gUmVzZXJ2\nZWRXb3Jkcy5oYXNTcGVjaWFsQ2hhcmFjdGVyKG5hbWUpOwogICAgICAgIGlm\nIChjaCAhPSBudWxsKSAKICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxB\ncmd1bWVudEV4Y2VwdGlvbihuYW1lICsgIiBjb250YWlucyByZXNlcnZlZCBz\neW1ib2wgIiArIGNoKTsKICAgIH0KICAgIAogICAgLy8gIC0tLS0tLS0tLS0t\nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t\nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gIENvbnRyYWN0\nIGZvciBDcml0ZXJpYUV4cHJlc3Npb24gaW1wbGVtZW50ZWQgbW9zdGx5IGFz\nIGEgbm8tb3AgZm9yIGVhc2llciBkZXJpdmF0aW9uLgogICAgLy8gIC0tLS0t\nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t\nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgCiAgICBw\ndWJsaWMgU3RyaW5nQnVpbGRlciBhc1ZhbHVlKEFsaWFzQ29udGV4dCBxKSB7\nCiAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbih0aGlz\nLmdldENsYXNzKCkuZ2V0U2ltcGxlTmFtZSgpICsgIiBjYW4gbm90IGJlIHJl\nbmRlcmVkIGFzIHZhbHVlIik7CiAgICB9CiAgICAKICAgIHB1YmxpYyBTdHJp\nbmdCdWlsZGVyIGFzVmFyaWFibGUoQWxpYXNDb250ZXh0IHEpIHsKICAgICAg\nICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKHRoaXMuZ2V0Q2xh\nc3MoKS5nZXRTaW1wbGVOYW1lKCkgKyAiIGNhbiBub3QgYmUgcmVuZGVyZWQg\nYXMgdmFyaWFibGUiKTsKICAgIH0KICAgIAogICAgcHVibGljIFN0cmluZ0J1\naWxkZXIgYXNQcm9qZWN0aW9uKEFsaWFzQ29udGV4dCBxKSB7CiAgICAgICAg\nU3RyaW5nIGFzID0gKGlzQXV0b0FsaWFzZWQoKSA/ICIiIDogIiBBUyAiICsg\nZ2V0QWxpYXMoKSk7CiAgICAgICAgcmV0dXJuIGFzVmFsdWUocSkuYXBwZW5k\nKGFzKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgYWNjZXB0VmlzaXQo\nQ3JpdGVyaWFFeHByZXNzaW9uVmlzaXRvciB2aXNpdG9yKSB7CiAgICAgICAg\nRXhwcmVzc2lvbnMuYWNjZXB0VmlzaXQodmlzaXRvciwgdGhpcywgKEV4cHJl\nc3Npb248Pz5bXSludWxsKTsKICAgIH0KfQo=\n","encoding":"base64"}

