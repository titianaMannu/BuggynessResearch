{"sha":"a198a2b71f1ab1ccd16b53f94ace947e1000ecc6","node_id":"MDQ6QmxvYjIwNjM2NDphMTk4YTJiNzFmMWFiMWNjZDE2YjUzZjk0YWNlOTQ3ZTEwMDBlY2M2","size":11324,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a198a2b71f1ab1ccd16b53f94ace947e1000ecc6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsKCmlt\ncG9ydCBqYXZhLnV0aWwuU2V0OwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLm1ldGFtb2RlbC5BdHRyaWJ1dGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5tZXRhbW9kZWwuQ29sbGVjdGlvbkF0dHJpYnV0ZTsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5MaXN0QXR0cmlidXRlOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLk1hbmFnZWRUeXBlOwppbXBv\ncnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLk1hcEF0dHJpYnV0ZTsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5QbHVyYWxBdHRy\naWJ1dGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuU2V0\nQXR0cmlidXRlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVs\nLlNpbmd1bGFyQXR0cmlidXRlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nbWV0YW1vZGVsLlR5cGU7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1l\ndGEuRmllbGRNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5t\nZXRhLkphdmFUeXBlczsKCi8qKgogKiBQZXJzaXN0ZW50IGF0dHJpYnV0ZSBh\nY2NvcmRpbmcgdG8gSlBBIDIuMCBtZXRhbW9kZWwuCiAqIAogKiBJbXBsZW1l\nbnRlZCBhcyBhIHRoaW4gYWRhcHRlciB0byBPcGVuSlBBIEZpZWxkTWV0YWRh\ndGEuIE1vc3RseSBpbW11dGFibGUuCiAqIAogKiBAYXV0aG9yIFBpbmFraSBQ\nb2RkYXIKICogCiAqIEBzaW5jZSAyLjAuMAogKgogKi8KcHVibGljIGNsYXNz\nIE1lbWJlcnMgewogICAgLyoqCiAgICAgKiBBbiBhdHRyaWJ1dGUgb2YgYSBK\nYXZhIHR5cGUuIEEgcGVyc2lzdGVudCBhdHRyaWJ1dGUgaXMgcmVhbGl6ZWQg\nYXMgYSBmaWVsZCBhbmQgZ2V0dGVyL3NldHRlcgogICAgICogbWV0aG9kIG9m\nIGEgSmF2YSBjbGFzcy4gVGhpcyBpbXBsZW1lbnRhdGlvbiBhZGFwdHMga2Vy\nbmVsJ3Mge0BsaW5rIEZpZWxkTWV0YURhdGF9IGNvbnN0cnVjdCAKICAgICAq\nIHRvIG1lZXQgdGhlIEpQQSBBUEkgY29udHJhY3QuCgkgKgoJICoKICAgICAq\nIEBwYXJhbSA8WD4gVGhlIHR5cGUgdGhhdCBjb250YWlucyB0aGlzIGF0dHJp\nYnV0ZQogICAgICogQHBhcmFtIDxZPiBUaGUgdHlwZSBvZiB0aGlzIGF0dHJp\nYnV0ZQoJICovCiAgICBwdWJsaWMgc3RhdGljIGFic3RyYWN0IGNsYXNzIE1l\nbWJlcjxYLCBZPiBpbXBsZW1lbnRzIEF0dHJpYnV0ZTxYLCBZPiwgQ29tcGFy\nYWJsZTxNZW1iZXI8WCxZPj4gewogICAgICAgIHB1YmxpYyBmaW5hbCBBYnN0\ncmFjdE1hbmFnZWRUeXBlPFg+IG93bmVyOwogICAgICAgIHB1YmxpYyBmaW5h\nbCBGaWVsZE1ldGFEYXRhIGZtZDsKCiAgICAgICAgLyoqCiAgICAgICAgICog\nU3VwcGx5IGltbXV0YWJsZSBwYXJ0cy4KICAgICAgICAgKiAKICAgICAgICAg\nKiBAcGFyYW0gb3duZXIgdGhlIHBlcnNpc3RlbnQgdHlwZSB0aGF0IGNvbnRh\naW5zIHRoaXMgYXR0cmlidXRlCiAgICAgICAgICogQHBhcmFtIGZtZCB0aGUg\na2VybmVsJ3MgY29uY3JldGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBhdHRy\naWJ1dGUKICAgICAgICAgKi8KICAgICAgICBwcm90ZWN0ZWQgTWVtYmVyKEFi\nc3RyYWN0TWFuYWdlZFR5cGU8WD4gb3duZXIsIEZpZWxkTWV0YURhdGEgZm1k\nKSB7CiAgICAgICAgICAgIHRoaXMub3duZXIgPSBvd25lcjsKICAgICAgICAg\nICAgdGhpcy5mbWQgPSBmbWQ7CiAgICAgICAgfQoKICAgICAgICAvKioKICAg\nICAgICAgKiAgUmV0dXJucyB0aGUgbWFuYWdlZCB0eXBlIHdoaWNoIGRlY2xh\ncmVkIHRoaXMgYXR0cmlidXRlLgogICAgICAgICAqLwogICAgICAgIHB1Ymxp\nYyBmaW5hbCBNYW5hZ2VkVHlwZTxYPiBnZXREZWNsYXJpbmdUeXBlKCkgewog\nICAgICAgICAgICByZXR1cm4gb3duZXIubW9kZWwudHlwZShmbWQuZ2V0RGVj\nbGFyaW5nVHlwZSgpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoq\nCiAgICAgICAgICogIFJldHVybnMgdGhlIGphdmEubGFuZy5yZWZsZWN0Lk1l\nbWJlciBmb3IgdGhpcyBhdHRyaWJ1dGUuIAogICAgICAgICAqLwogICAgICAg\nIHB1YmxpYyBmaW5hbCBqYXZhLmxhbmcucmVmbGVjdC5NZW1iZXIgZ2V0SmF2\nYU1lbWJlcigpIHsKICAgICAgICAgICAgcmV0dXJuIGZtZC5nZXRCYWNraW5n\nTWVtYmVyKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qKgogICAg\nICAgICAqICBHZXRzIHRoZSBKYXZhIHR5cGUgb2YgdGhpcyBhdHRyaWJ1dGUu\nCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIENsYXNzPFk+IGdl\ndEphdmFUeXBlKCkgewogICAgICAgICAgICByZXR1cm4gKENsYXNzPFk+KWZt\nZC5nZXREZWNsYXJlZFR5cGUoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAg\nICAgLyoqCiAgICAgICAgICogR2V0cyB0aGUgbmFtZSBvZiB0aGlzIGF0dHJp\nYnV0ZS4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgZmluYWwgU3RyaW5n\nIGdldE5hbWUoKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQuZ2V0TmFtZSgp\nOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogUmV0dXJucyB0\naGUgdHlwZSB0aGF0IHJlcHJlc2VudHMgdGhlIHR5cGUgb2YgdGhpcyBhdHRy\naWJ1dGUuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIFR5cGU8\nWT4gZ2V0VHlwZSgpIHsKICAgICAgICAgICAgcmV0dXJuIG93bmVyLm1vZGVs\nLmdldFR5cGUoaXNDb2xsZWN0aW9uKCkgPwogICAgICAgICAgICAgICAgICAg\nZm1kLmdldEVsZW1lbnQoKS5nZXREZWNsYXJlZFR5cGUoKSA6IGZtZC5nZXRE\nZWNsYXJlZFR5cGUoKSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8q\nKgogICAgICAgICAqIEFmZmlybXMgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgYW4g\nYXNzb2NpYXRpb24uCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFs\nIGJvb2xlYW4gaXNBc3NvY2lhdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJu\nIGZtZC5pc0RlY2xhcmVkVHlwZVBDKCk7CiAgICAgICAgfQoKICAgICAgICAv\nKioKICAgICAgICAgKiBBZmZpcm1zIGlmIHRoaXMgYXR0cmlidXRlIGlzIGEg\nY29sbGVjdGlvbi4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgZmluYWwg\nYm9vbGVhbiBpc0NvbGxlY3Rpb24oKSB7CiAgICAgICAgICAgIGludCB0eXBl\nQ29kZSA9IGZtZC5nZXREZWNsYXJlZFR5cGVDb2RlKCk7CiAgICAgICAgICAg\nIHJldHVybiAgdHlwZUNvZGUgPT0gSmF2YVR5cGVzLkNPTExFQ1RJT04KICAg\nICAgICAgICAgICAgICB8fCB0eXBlQ29kZSA9PSBKYXZhVHlwZXMuTUFQCiAg\nICAgICAgICAgICAgICAgfHwgdHlwZUNvZGUgPT0gSmF2YVR5cGVzLkFSUkFZ\nOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKioKICAgICAgICAgKiAg\nUmV0dXJucyB0aGUgcGVyc2lzdGVudCBjYXRlZ29yeSBmb3IgdGhlIGF0dHJp\nYnV0ZS4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgUGVyc2lzdGVudEF0\ndHJpYnV0ZVR5cGUgZ2V0UGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUoKSB7CiAg\nICAgICAgICAgIGlmIChmbWQuaXNFbWJlZGRlZFBDKCkpCiAgICAgICAgICAg\nICAgICByZXR1cm4gUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuRU1CRURERUQ7\nCiAgICAgICAgICAgIGlmIChmbWQuaXNFbGVtZW50Q29sbGVjdGlvbigpKQog\nICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBl\nLkVMRU1FTlRfQ09MTEVDVElPTjsKICAgICAgICAgICAgcmV0dXJuIFBlcnNp\nc3RlbnRBdHRyaWJ1dGVUeXBlLkJBU0lDOwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIGludCBjb21wYXJlVG8oTWVtYmVyPFgsIFk+IG8pIHsKICAgICAg\nICAgICAgcmV0dXJuIGZtZC5nZXROYW1lKCkuY29tcGFyZVRvKG8uZm1kLmdl\ndE5hbWUoKSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAKICAgIC8qKgog\nICAgICogUmVwcmVzZW50cyBzaW5nbGUtdmFsdWVkIHBlcnNpc3RlbnQgYXR0\ncmlidXRlcy4KICAgICAqCiAgICAgKiBAcGFyYW0gPFg+IFRoZSB0eXBlIGNv\nbnRhaW5pbmcgdGhlIHJlcHJlc2VudGVkIGF0dHJpYnV0ZQogICAgICogQHBh\ncmFtIDxUPiBUaGUgdHlwZSBvZiB0aGUgcmVwcmVzZW50ZWQgYXR0cmlidXRl\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgY2xhc3MgU2luZ3Vs\nYXJBdHRyaWJ1dGVJbXBsPFgsIFQ+IGV4dGVuZHMgTWVtYmVyPFgsIFQ+IAog\nICAgICAgIGltcGxlbWVudHMgU2luZ3VsYXJBdHRyaWJ1dGU8WCwgVD4gewoK\nICAgICAgICBwdWJsaWMgU2luZ3VsYXJBdHRyaWJ1dGVJbXBsKEFic3RyYWN0\nTWFuYWdlZFR5cGU8WD4gb3duZXIsIEZpZWxkTWV0YURhdGEgZm1kKSB7CiAg\nICAgICAgICAgIHN1cGVyKG93bmVyLCBmbWQpOwogICAgICAgIH0KCiAgICAg\nICAgLyoqCiAgICAgICAgICogIEFmZmlybXMgaWYgdGhpcyBhdHRyaWJ1dGUg\naXMgYW4gaWQgYXR0cmlidXRlLgogICAgICAgICAqLwogICAgICAgIHB1Ymxp\nYyBib29sZWFuIGlzSWQoKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQuaXNQ\ncmltYXJ5S2V5KCk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAg\nKiAgQWZmaXJtcyBpZiB0aGlzIGF0dHJpYnV0ZSByZXByZXNlbnRzIGEgdmVy\nc2lvbiBhdHRyaWJ1dGUuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGJv\nb2xlYW4gaXNWZXJzaW9uKCkgewogICAgICAgICAgICByZXR1cm4gZm1kLmlz\nVmVyc2lvbigpOwogICAgICAgIH0KCiAgICAgICAgLyoqIAogICAgICAgICAq\nICBBZmZpcm1zIGlmIHRoaXMgYXR0cmlidXRlIGNhbiBiZSBudWxsLgogICAg\nICAgICAqLwogICAgICAgIHB1YmxpYyBib29sZWFuIGlzT3B0aW9uYWwoKSB7\nCiAgICAgICAgICAgIHJldHVybiBmbWQuZ2V0TnVsbFZhbHVlKCkgIT0gRmll\nbGRNZXRhRGF0YS5OVUxMX0VYQ0VQVElPTjsKICAgICAgICB9CgogICAgICAg\nIC8qKgogICAgICAgICAqICBDYXRlZ29yaXplcyBiaW5kYWJsZSB0eXBlIHJl\ncHJlc2VudGVkIGJ5IHRoaXMgYXR0cmlidXRlLgogICAgICAgICAqLyAKICAg\nICAgICBwdWJsaWMgZmluYWwgQmluZGFibGVUeXBlIGdldEJpbmRhYmxlVHlw\nZSgpIHsKICAgICAgICAgICAgcmV0dXJuIGZtZC5pc0RlY2xhcmVkVHlwZVBD\nKCkgCiAgICAgICAgICAgICAgICA/IEJpbmRhYmxlVHlwZS5FTlRJVFlfVFlQ\nRQogICAgICAgICAgICAgICAgOiBCaW5kYWJsZVR5cGUuU0lOR1VMQVJfQVRU\nUklCVVRFOwogICAgICAgIH0KICAgICAgIAogICAgICAgIC8qKgogICAgICAg\nICAqIFJldHVybnMgdGhlIGJpbmRhYmxlIEphdmEgdHlwZSBvZiB0aGlzIGF0\ndHJpYnV0ZS4KICAgICAgICAgKiAKICAgICAgICAgKiBJZiB0aGUgYmluZGFi\nbGUgY2F0ZWdvcnkgb2YgdGhpcyBhdHRyaWJ1dGUgaXMgUExVUkFMX0FUVFJJ\nQlVURSwgdGhlIEphdmEgZWxlbWVudCB0eXBlIAogICAgICAgICAqIGlzIHJl\ndHVybmVkLiBJZiB0aGUgYmluZGFibGUgdHlwZSBpcyBTSU5HVUxBUl9BVFRS\nSUJVVEUgb3IgRU5USVRZX1RZUEUsIHRoZSBKYXZhIHR5cGUgCiAgICAgICAg\nICogb2YgdGhlIHJlcHJlc2VudGVkIGVudGl0eSBvciBhdHRyaWJ1dGUgaXMg\ncmV0dXJuZWQuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIGZpbmFsIENs\nYXNzPFQ+IGdldEJpbmRhYmxlSmF2YVR5cGUoKSB7CiAgICAgICAgICAgIHJl\ndHVybiBmbWQuZ2V0RWxlbWVudCgpLmdldERlY2xhcmVkVHlwZSgpOwogICAg\nICAgIH0KICAgICAgICAKICAgICAgICAvKioKICAgICAgICAgKiBDYXRlZ29y\naXplcyB0aGUgYXR0cmlidXRlLgogICAgICAgICAqLwogICAgICAgIHB1Ymxp\nYyBmaW5hbCBQZXJzaXN0ZW50QXR0cmlidXRlVHlwZSBnZXRQZXJzaXN0ZW50\nQXR0cmlidXRlVHlwZSgpIHsKICAgICAgICAgICAgaWYgKCFmbWQuaXNEZWNs\nYXJlZFR5cGVQQygpKQogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdl\ndFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlKCk7CiAgICAgICAgICAgIHJldHVy\nbiBmbWQuZ2V0TWFwcGVkQnlNZXRhRGF0YSgpID09IG51bGwgCiAgICAgICAg\nICAgICAgICAgPyBQZXJzaXN0ZW50QXR0cmlidXRlVHlwZS5PTkVfVE9fT05F\nCiAgICAgICAgICAgICAgICAgOiBQZXJzaXN0ZW50QXR0cmlidXRlVHlwZS5P\nTkVfVE9fTUFOWTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nb290IG9mIG11bHRpLWNhcmRpbmFsaXR5IGF0dHJpYnV0ZS4KICAgICAqCgkg\nKiBAcGFyYW0gPFg+IHRoZSB0eXBlIHRoYXQgb3ducyB0aGlzIG1lbWJlcgoJ\nICogQHBhcmFtIDxDPiB0aGUgY29udGFpbmVyIHR5cGUgdGhhdCBob2xkcyB0\naGlzIG1lbWJlciAoZS5nLiBqYXZhLnV0aWwuU2V0Jmx0O0VtcGxveWVlJmd0\nOykKICAgICAqIEBwYXJhbSA8RT4gdGhlIHR5cGUgb2YgdGhlIGVsZW1lbnQg\naGVsZCBieSB0aGlzIG1lbWJlciAoZS5nLiBFbXBsb3llZSkuIAogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIGFic3RyYWN0IGNsYXNzIFBsdXJhbEF0dHJp\nYnV0ZUltcGw8WCwgQywgRT4gZXh0ZW5kcyBNZW1iZXI8WCwgQz4KICAgICAg\nICBpbXBsZW1lbnRzIFBsdXJhbEF0dHJpYnV0ZTxYLCBDLCBFPiB7CiAgICAg\nICAgCiAgICAgICAgcHVibGljIFBsdXJhbEF0dHJpYnV0ZUltcGwoQWJzdHJh\nY3RNYW5hZ2VkVHlwZTxYPiBvd25lciwgRmllbGRNZXRhRGF0YSBmbWQpIHsK\nICAgICAgICAgICAgc3VwZXIob3duZXIsIGZtZCk7CiAgICAgICAgfQoKICAg\nICAgICAvKioKICAgICAgICAgKiBSZXR1cm5zIHRoZSB0eXBlIHJlcHJlc2Vu\ndGluZyB0aGUgZWxlbWVudCB0eXBlIG9mIHRoZSBjb2xsZWN0aW9uLgogICAg\nICAgICAqLwogICAgICAgIHB1YmxpYyBmaW5hbCBUeXBlPEU+IGdldEVsZW1l\nbnRUeXBlKCkgewogICAgICAgICAgICByZXR1cm4gb3duZXIubW9kZWwuZ2V0\nVHlwZShnZXRCaW5kYWJsZUphdmFUeXBlKCkpOwogICAgICAgIH0KCiAgICAg\nICAgLyoqCiAgICAgICAgICogIFJldHVybnMgdGhlIGJpbmRhYmxlIGNhdGVn\nb3J5IG9mIHRoaXMgYXR0cmlidXRlLgogICAgICAgICAqLyAKICAgICAgICBw\ndWJsaWMgZmluYWwgQmluZGFibGVUeXBlIGdldEJpbmRhYmxlVHlwZSgpIHsK\nICAgICAgICAgICAgcmV0dXJuIEJpbmRhYmxlVHlwZS5QTFVSQUxfQVRUUklC\nVVRFOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKioKICAgICAgICAg\nKiBSZXR1cm5zIHRoZSBiaW5kYWJsZSBKYXZhIHR5cGUgb2YgdGhpcyBhdHRy\naWJ1dGUuCiAgICAgICAgICogCiAgICAgICAgICogRm9yIFBMVVJBTF9BVFRS\nSUJVVEUsIHRoZSBKYXZhIGVsZW1lbnQgdHlwZSBpcyByZXR1cm5lZC4gCiAg\nICAgICAgICovCiAgICAgICAgcHVibGljIENsYXNzPEU+IGdldEJpbmRhYmxl\nSmF2YVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQuZ2V0RWxlbWVu\ndCgpLmdldERlY2xhcmVkVHlwZSgpOwogICAgICAgIH0KICAgICAgICAKICAg\nICAgICAKICAgICAgICBwdWJsaWMgUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUg\nZ2V0UGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUoKSB7CiAgICAgICAgICAgIHJl\ndHVybiBQZXJzaXN0ZW50QXR0cmlidXRlVHlwZS5PTkVfVE9fTUFOWTsKICAg\nICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXByZXNlbnRzIGF0dHJp\nYnV0ZXMgZGVjbGFyZWQgYXMgamF2YS51dGlsLkNvbGxlY3Rpb24mbHQ7RSZn\ndDsuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgQ29sbGVjdGlv\nbkF0dHJpYnV0ZUltcGw8WCwgRT4gCiAgICAgICAgZXh0ZW5kcyBQbHVyYWxB\ndHRyaWJ1dGVJbXBsPFgsIGphdmEudXRpbC5Db2xsZWN0aW9uPEU+LCBFPiAK\nICAgICAgICBpbXBsZW1lbnRzIENvbGxlY3Rpb25BdHRyaWJ1dGU8WCwgRT4g\newoKICAgICAgICBwdWJsaWMgQ29sbGVjdGlvbkF0dHJpYnV0ZUltcGwoQWJz\ndHJhY3RNYW5hZ2VkVHlwZTxYPiBvd25lciwgRmllbGRNZXRhRGF0YSBmbWQp\nIHsKICAgICAgICAgICAgc3VwZXIob3duZXIsIGZtZCk7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgQ29sbGVjdGlvblR5cGUgZ2V0Q29sbGVjdGlvblR5\ncGUoKSB7CiAgICAgICAgICAgIHJldHVybiBDb2xsZWN0aW9uVHlwZS5DT0xM\nRUNUSU9OOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJlcHJl\nc2VudHMgYXR0cmlidXRlcyBkZWNsYXJlZCBhcyBqYXZhLnV0aWwuTGlzdCZs\ndDtFJmd0Oy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBjbGFzcyBMaXN0\nQXR0cmlidXRlSW1wbDxYLCBFPiAKICAgICAgICBleHRlbmRzIFBsdXJhbEF0\ndHJpYnV0ZUltcGw8WCwgamF2YS51dGlsLkxpc3Q8RT4sIEU+IAogICAgICAg\nIGltcGxlbWVudHMgTGlzdEF0dHJpYnV0ZTxYLCBFPiB7CgogICAgICAgIHB1\nYmxpYyBMaXN0QXR0cmlidXRlSW1wbChBYnN0cmFjdE1hbmFnZWRUeXBlPFg+\nIG93bmVyLCBGaWVsZE1ldGFEYXRhIGZtZCkgewogICAgICAgICAgICBzdXBl\ncihvd25lciwgZm1kKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBDb2xs\nZWN0aW9uVHlwZSBnZXRDb2xsZWN0aW9uVHlwZSgpIHsKICAgICAgICAgICAg\ncmV0dXJuIENvbGxlY3Rpb25UeXBlLkxJU1Q7CiAgICAgICAgfQogICAgfQoK\nICAgIC8qKgogICAgICogUmVwcmVzZW50cyBhdHRyaWJ1dGVzIGRlY2xhcmVk\nIGFzIGphdmEudXRpbC5TZXQmbHQ7RSZndDsuCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgY2xhc3MgU2V0QXR0cmlidXRlSW1wbDxYLCBFPiAKICAgICAg\nICBleHRlbmRzIFBsdXJhbEF0dHJpYnV0ZUltcGw8WCwgamF2YS51dGlsLlNl\ndDxFPiwgRT4gCiAgICAgICAgaW1wbGVtZW50cyBTZXRBdHRyaWJ1dGU8WCwg\nRT4gewoKICAgICAgICBwdWJsaWMgU2V0QXR0cmlidXRlSW1wbChBYnN0cmFj\ndE1hbmFnZWRUeXBlPFg+IG93bmVyLCBGaWVsZE1ldGFEYXRhIGZtZCkgewog\nICAgICAgICAgICBzdXBlcihvd25lciwgZm1kKTsKICAgICAgICB9CgogICAg\nICAgIHB1YmxpYyBDb2xsZWN0aW9uVHlwZSBnZXRDb2xsZWN0aW9uVHlwZSgp\nIHsKICAgICAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25UeXBlLlNFVDsKICAg\nICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUmVwcmVzZW50cyB0\naGUga2V5cyBvZiBqYXZhLnV0aWwuTWFwJmx0O0ssViZndDsgaW4gbWFuYWdl\nZCB0eXBlICZsdDtYJmd0OyBhcyBhIHBzZXVkby1hdHRyaWJ1dGUgb2YgdHlw\nZSAKICAgICAqIGphdmEudXRpbC5TZXQmbHQ7SyZndDsuCiAgICAgKgogICAg\nICogQHBhcmFtIDxYPiB0aGUgZGVjbGFyaW5nIHR5cGUgb2YgdGhlIG9yaWdp\nbmFsIGphdmEudXRpbC5NYXAmbHQ7SyxWJmd0OyBhdHRyaWJ1dGUgCiAgICAg\nKiBAcGFyYW0gPEs+IHRoZSB0eXBlIG9mIHRoZSBrZXkgb2YgdGhlIG9yaWdp\nbmFsIGphdmEudXRpbC5NYXAmbHQ7SyxWJmd0OyBhdHRyaWJ1dGUKICAgICAq\nLwogICAgcHVibGljIHN0YXRpYyBjbGFzcyBLZXlBdHRyaWJ1dGVJbXBsPFgs\nSz4gZXh0ZW5kcyBTZXRBdHRyaWJ1dGVJbXBsPFgsIEs+IHsKICAgICAgICBw\ndWJsaWMgS2V5QXR0cmlidXRlSW1wbChBYnN0cmFjdE1hbmFnZWRUeXBlPFg+\nIG93bmVyLCBGaWVsZE1ldGFEYXRhIGZtZCl7CiAgICAgICAgICAgIHN1cGVy\nKG93bmVyLCBmbWQpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIENsYXNz\nPEs+IGdldEJpbmRhYmxlSmF2YVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVy\nbiAoQ2xhc3M8Sz4pZm1kLmdldEtleSgpLmdldERlY2xhcmVkVHlwZSgpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJlcHJlc2VudHMgYXR0\ncmlidXRlcyBkZWNsYXJlZCBhcyBqYXZhLnV0aWwuTWFwJmx0O0ssViZndDsg\naW4gbWFuYWdlZCB0eXBlICZsdDtYJmd0Oy4KICAgICAqLwogICAgcHVibGlj\nIHN0YXRpYyBjbGFzcyBNYXBBdHRyaWJ1dGVJbXBsPFgsIEssIFY+IAogICAg\nICAgIGV4dGVuZHMgUGx1cmFsQXR0cmlidXRlSW1wbDxYLCBqYXZhLnV0aWwu\nTWFwPEssIFY+LCBWPiAKICAgICAgICBpbXBsZW1lbnRzIE1hcEF0dHJpYnV0\nZTxYLCBLLCBWPiB7CgogICAgICAgIHB1YmxpYyBNYXBBdHRyaWJ1dGVJbXBs\nKEFic3RyYWN0TWFuYWdlZFR5cGU8WD4gb3duZXIsIEZpZWxkTWV0YURhdGEg\nZm1kKSB7CiAgICAgICAgICAgIHN1cGVyKG93bmVyLCBmbWQpOwogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIENvbGxlY3Rpb25UeXBlIGdldENvbGxlY3Rp\nb25UeXBlKCkgewogICAgICAgICAgICByZXR1cm4gQ29sbGVjdGlvblR5cGUu\nTUFQOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBwdWJsaWMgQ2xhc3M8\nSz4gZ2V0S2V5SmF2YVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVybiBmbWQu\nZ2V0S2V5KCkuZ2V0RGVjbGFyZWRUeXBlKCk7CiAgICAgICAgfQoKICAgICAg\nICBwdWJsaWMgVHlwZTxLPiBnZXRLZXlUeXBlKCkgewogICAgICAgICAgICBy\nZXR1cm4gb3duZXIubW9kZWwuZ2V0VHlwZShnZXRLZXlKYXZhVHlwZSgpKTsK\nICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcHVibGljIFBlcnNpc3RlbnRB\ndHRyaWJ1dGVUeXBlIGdldFBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlKCkgewog\nICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuTUFO\nWV9UT19NQU5ZOwogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

