{"sha":"cb6e0938a0a695f3e028046510794e45429111c6","node_id":"MDQ6QmxvYjIwNjM2NDpjYjZlMDkzOGEwYTY5NWYzZTAyODA0NjUxMDc5NGU0NTQyOTExMWM2","size":89861,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cb6e0938a0a695f3e028046510794e45429111c6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jcml0ZXJpYTsK\nCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7\nCmltcG9ydCBqYXZhLnV0aWwuU2V0OwoKaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLlBhcmFtZXRlcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlR1cGxl\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuQ3JpdGVyaWFR\ndWVyeTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkV4cHJl\nc3Npb247CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5Kb2lu\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuSm9pblR5cGU7\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5MaXN0Sm9pbjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLk1hcEpvaW47Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5QYXJhbWV0ZXJFeHBy\nZXNzaW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuUHJl\nZGljYXRlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuUm9v\ndDsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLlN1YnF1ZXJ5\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJl\nZC5Db21wYW55MTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5lbWJlZC5Db21wYW55MV87CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuZW1iZWQuQ29tcGFueTI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuQ29tcGFueTJfOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkRlcGFy\ndG1lbnQxOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmVtYmVkLkRlcGFydG1lbnQxXzsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5lbWJlZC5EZXBhcnRtZW50MjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5EZXBhcnRtZW50MzsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5E\naXZpc2lvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5lbWJlZC5FbWJlZDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5lbWJlZC5FbWJlZF87CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuZW1iZWQuRW1iZWRfQ29sbF9FbWJlZDsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbWJlZF9D\nb2xsX0VtYmVkXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5lbWJlZC5FbWJlZF9Db2xsX0ludGVnZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1iZWRfQ29sbF9JbnRl\nZ2VyXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5l\nbWJlZC5FbWJlZF9FbWJlZDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5lbWJlZC5FbWJlZF9FbWJlZF87CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1iZWRfRW1iZWRfVG9N\nYW55OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVt\nYmVkLkVtYmVkX0VtYmVkX1RvTWFueV87CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1iZWRfTWFwcGVkVG9PbmU7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1i\nZWRfTWFwcGVkVG9PbmVfOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLmVtYmVkLkVtYmVkX1RvTWFueTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbWJlZF9Ub01hbnlfOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVt\nYmVkX1RvT25lOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmVtYmVkLkVtYmVkX1RvT25lXzsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbXBsb3llZTE7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW1wbG95ZWUyOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVt\ncGxveWVlMzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5lbWJlZC5FbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50aXR5QV9Db2xs\nX0VtYmVkX0VtYmVkXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5lbWJlZC5FbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmU7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuRW50aXR5\nQV9Db2xsX0VtYmVkX1RvT25lXzsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbnRpdHlBX0NvbGxfU3RyaW5nOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0\neUFfQ29sbF9TdHJpbmdfOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZDsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWRfOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfQ29sbF9JbnRl\nZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVt\nYmVkLkVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXzsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbnRpdHlBX0VtYmVk\nX0VtYmVkOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmVtYmVkLkVudGl0eUFfRW1iZWRfRW1iZWRfOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfRW1i\nZWRfVG9NYW55OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55XzsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5FbnRpdHlB\nX0VtYmVkX01hcHBlZFRvT25lOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmVf\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVk\nLkVudGl0eUFfRW1iZWRfVG9NYW55OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfVG9NYW55XzsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbWJlZC5F\nbnRpdHlBX0VtYmVkX1RvT25lOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0eUFfRW1iZWRfVG9PbmVfOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkVudGl0\neUIxOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVt\nYmVkLkVudGl0eUIxXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5lbWJlZC5JdGVtMTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5lbWJlZC5JdGVtMV87CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuSXRlbTI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQuSXRlbTJfOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVkLkl0ZW0z\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmVtYmVk\nLkl0ZW0zXzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5lbWJlZC5WaWNlUHJlc2lkZW50OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmVtYmVkLlZpY2VQcmVzaWRlbnRfOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuQWxsb3dGYWls\ndXJlOwoKCnB1YmxpYyBjbGFzcyBUZXN0RW1iZWRkYWJsZUNyaXRlcmlhIGV4\ndGVuZHMgRW1iZWRkYWJsZURvbWFpblRlc3RDYXNlIHsKICAgIHB1YmxpYyB2\nb2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkxKCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBlIGZyb20gRW50aXR5QV9Db2xsX1N0cmluZyBhLCBp\nbiAoYS5uaWNrTmFtZXMpIGUgb3JkZXIgYnkgYS5pZCI7CiAgICAgICAgQ3Jp\ndGVyaWFRdWVyeTxTdHJpbmc+IHEgPSBjYi5jcmVhdGVRdWVyeShTdHJpbmcu\nY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX1N0cmluZz4gYSA9\nIHEuZnJvbShFbnRpdHlBX0NvbGxfU3RyaW5nLmNsYXNzKTsKICAgICAgICBK\nb2luPEVudGl0eUFfQ29sbF9TdHJpbmcsIFN0cmluZz4gZSA9IGEuam9pbihF\nbnRpdHlBX0NvbGxfU3RyaW5nXy5uaWNrTmFtZXMpOwogICAgICAgIHEuc2Vs\nZWN0KGUpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoYS5nZXQoRW50aXR5\nQV9Db2xsX1N0cmluZ18uaWQpKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkzKCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBlIGZyb20gRW50aXR5QV9Db2xsX1N0cmluZyBhLCBp\nbiAoYS5uaWNrTmFtZXMpIGUgb3JkZXIgYnkgZSI7CiAgICAgICAgQ3JpdGVy\naWFRdWVyeTxTdHJpbmc+IHEgPSBjYi5jcmVhdGVRdWVyeShTdHJpbmcuY2xh\nc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX1N0cmluZz4gYSA9IHEu\nZnJvbShFbnRpdHlBX0NvbGxfU3RyaW5nLmNsYXNzKTsKICAgICAgICBKb2lu\nPEVudGl0eUFfQ29sbF9TdHJpbmcsIFN0cmluZz4gZSA9IGEuam9pbihFbnRp\ndHlBX0NvbGxfU3RyaW5nXy5uaWNrTmFtZXMpOwogICAgICAgIHEuc2VsZWN0\nKGUpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoZSkpOwogICAgICAgIAog\nICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAg\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NCgpIHsKICAg\nICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBmcm9tIEVudGl0eUFfQ29s\nbF9TdHJpbmcgYSBXSEVSRSBhLm5pY2tOYW1lcyBJUyBFTVBUWSBvcmRlciBi\neSBhIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVudGl0eUFfQ29sbF9TdHJp\nbmc+IHEgPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlBX0NvbGxfU3RyaW5nLmNs\nYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9TdHJpbmc+IGEgPSBx\nLmZyb20oRW50aXR5QV9Db2xsX1N0cmluZy5jbGFzcyk7CiAgICAgICAgcS5z\nZWxlY3QoYSk7CiAgICAgICAgcS53aGVyZShjYi5pc0VtcHR5KGEuZ2V0KEVu\ndGl0eUFfQ29sbF9TdHJpbmdfLm5pY2tOYW1lcykpKTsKICAgICAgICBxLm9y\nZGVyQnkoY2IuYXNjKGEpKTsKICAgICAgICAKICAgICAgICBhc3NlcnRFcXVp\ndmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdEVtYmVkZGFibGVRdWVyeTUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAic2VsZWN0IGEgZnJvbSBFbnRpdHlBX0NvbGxfU3RyaW5nIGEgV0hFUkUg\nZXhpc3RzIChzZWxlY3QgbiBmcm9tIEVudGl0eUFfQ29sbF9TdHJpbmcgYSwg\nIiArCiAgICAgICAgICAgICAgICAiIGluIChhLm5pY2tOYW1lcykgbiB3aGVy\nZSBuIGxpa2UgJyUxJykgb3JkZXIgYnkgYSI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxFbnRpdHlBX0NvbGxfU3RyaW5nPiBxID0gY2IuY3JlYXRlUXVlcnko\nRW50aXR5QV9Db2xsX1N0cmluZy5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRp\ndHlBX0NvbGxfU3RyaW5nPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9TdHJp\nbmcuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGEpOwogICAgICAgIFN1YnF1\nZXJ5PFNldD4gc3EgPSBxLnN1YnF1ZXJ5KFNldC5jbGFzcyk7CiAgICAgICAg\nUm9vdDxFbnRpdHlBX0NvbGxfU3RyaW5nPiBhMSA9IHNxLmZyb20oRW50aXR5\nQV9Db2xsX1N0cmluZy5jbGFzcyk7CiAgICAgICAgRXhwcmVzc2lvbiBuID0g\nYTEuZ2V0KEVudGl0eUFfQ29sbF9TdHJpbmdfLm5pY2tOYW1lcyk7CiAgICAg\nICAgbi5hbGlhcygibiIpOwogICAgICAgIHNxLndoZXJlKGNiLmxpa2Uobiwg\nIiUxIikpOwogICAgICAgIHNxLnNlbGVjdChuKTsKICAgICAgICBxLndoZXJl\nKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoYSkp\nOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1\nZXJ5NigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBmcm9t\nIEVudGl0eUFfQ29sbF9TdHJpbmcgYSI7CiAgICAgICAgQ3JpdGVyaWFRdWVy\neTxFbnRpdHlBX0NvbGxfU3RyaW5nPiBxID0gY2IuY3JlYXRlUXVlcnkoRW50\naXR5QV9Db2xsX1N0cmluZy5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlB\nX0NvbGxfU3RyaW5nPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9TdHJpbmcu\nY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGEpOwogICAgICAgIAogICAgICAg\nIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk3KCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5QV9FbWJlZF9U\nb09uZSBhICI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9Ub09uZT4g\ncSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1RvT25lLmNsYXNzKTsKICAgICAg\nICBSb290PEVudGl0eUFfRW1iZWRfVG9PbmU+IGEgPSBxLmZyb20oRW50aXR5\nQV9FbWJlZF9Ub09uZS5jbGFzcyk7CiAgICAgICAgcS5zZWxlY3QoYS5nZXQo\nRW50aXR5QV9FbWJlZF9Ub09uZV8uZW1iZWQpKTsKICAgICAgICAKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTkoKSB7CiAgICAgICAg\nU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUgZnJvbSBFbnRpdHlBX0VtYmVkX1Rv\nT25lIGEgIiArCiAgICAgICAgICAgICAgICAiIGpvaW4gYS5lbWJlZCBlIGpv\naW4gZS5iIGIgd2hlcmUgZS5iLmlkID4gMCBvcmRlciBieSBhLmlkIjsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX1RvT25lPiBxID0gY2IuY3JlYXRl\nUXVlcnkoRW1iZWRfVG9PbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5\nQV9FbWJlZF9Ub09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1RvT25l\nLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfRW1iZWRfVG9PbmUsIEVt\nYmVkX1RvT25lPiBlID0gYS5qb2luKEVudGl0eUFfRW1iZWRfVG9PbmVfLmVt\nYmVkKTsKICAgICAgICBKb2luPEVtYmVkX1RvT25lLCBFbnRpdHlCMT4gYiA9\nIGUuam9pbihFbWJlZF9Ub09uZV8uYik7CiAgICAgICAgcS53aGVyZShjYi5n\ndChiLmdldChFbnRpdHlCMV8uaWQpLCAwKSk7CiAgICAgICAgcS5zZWxlY3Qo\nZSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhhLmdldChFbnRpdHlBX0Vt\nYmVkX1RvT25lXy5pZCkpKTsKICAgICAgICAKICAgICAgICBhc3NlcnRFcXVp\ndmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdEVtYmVkZGFibGVRdWVyeTExKCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gInNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5QV9FbWJlZF9Ub09uZSBh\nIE9SREVSIEJZIGEuZW1iZWQiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1i\nZWRfVG9PbmU+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9Ub09uZS5jbGFz\ncyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1RvT25lPiBhID0gcS5m\ncm9tKEVudGl0eUFfRW1iZWRfVG9PbmUuY2xhc3MpOwogICAgICAgIHEuc2Vs\nZWN0KGEuZ2V0KEVudGl0eUFfRW1iZWRfVG9PbmVfLmVtYmVkKSk7CiAgICAg\nICAgcS5vcmRlckJ5KGNiLmFzYyhhLmdldChFbnRpdHlBX0VtYmVkX1RvT25l\nXy5lbWJlZCkpKTsKICAgICAgICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVt\nYmVkZGFibGVRdWVyeTEyKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNl\nbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5QV9FbWJlZF9Ub09uZSBhIFdIRVJF\nIGEuZW1iZWQuYiBJUyBOT1QgTlVMTCAiICsKICAgICAgICAgICAgICAgICIg\nT1JERVIgQlkgYS5lbWJlZCI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJl\nZF9Ub09uZT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1RvT25lLmNsYXNz\nKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfVG9PbmU+IGEgPSBxLmZy\nb20oRW50aXR5QV9FbWJlZF9Ub09uZS5jbGFzcyk7CiAgICAgICAgcS5zZWxl\nY3QoYS5nZXQoRW50aXR5QV9FbWJlZF9Ub09uZV8uZW1iZWQpKTsKICAgICAg\nICBxLndoZXJlKGNiLmlzTm90TnVsbChhLmdldChFbnRpdHlBX0VtYmVkX1Rv\nT25lXy5lbWJlZCkuZ2V0KEVtYmVkX1RvT25lXy5iKSkpOwogICAgICAgIHEu\nb3JkZXJCeShjYi5hc2MoYS5nZXQoRW50aXR5QV9FbWJlZF9Ub09uZV8uZW1i\nZWQpKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRh\nYmxlUXVlcnkxMygpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\nYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfVG9PbmUgYSBXSEVSRSBleGlz\ndHMgIiArCiAgICAgICAgICAgICAgICAiIChzZWxlY3QgYSBmcm9tIEVudGl0\neUFfRW1iZWRfVG9PbmUgYSB3aGVyZSBhLmVtYmVkLmIgSVMgTk9UIE5VTEwp\nICIgKwogICAgICAgICAgICAgICAgIiBPUkRFUiBCWSBhLmVtYmVkIjsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX1RvT25lPiBxID0gY2IuY3JlYXRl\nUXVlcnkoRW1iZWRfVG9PbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5\nQV9FbWJlZF9Ub09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1RvT25l\nLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdldChFbnRpdHlBX0VtYmVk\nX1RvT25lXy5lbWJlZCkpOwogICAgICAgIFN1YnF1ZXJ5PEVudGl0eUFfRW1i\nZWRfVG9PbmU+IHNxID0gcS5zdWJxdWVyeShFbnRpdHlBX0VtYmVkX1RvT25l\nLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfVG9PbmU+IGEx\nID0gc3EuZnJvbShFbnRpdHlBX0VtYmVkX1RvT25lLmNsYXNzKTsKICAgICAg\nICBFeHByZXNzaW9uIG4gPSBhMS5nZXQoRW50aXR5QV9FbWJlZF9Ub09uZV8u\nZW1iZWQpLmdldChFbWJlZF9Ub09uZV8uYik7CiAgICAgICAgc3Eud2hlcmUo\nY2IuaXNOb3ROdWxsKG4pKTsKICAgICAgICBzcS5zZWxlY3QoYTEpOwogICAg\nICAgIHEud2hlcmUoY2IuZXhpc3RzKHNxKSk7CiAgICAgICAgcS5vcmRlckJ5\nKGNiLmFzYyhhLmdldChFbnRpdHlBX0VtYmVkX1RvT25lXy5lbWJlZCkpKTsK\nICAgICAgICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTQo\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEuZW1iZWQgZnJv\nbSBFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lIGEgIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PEVtYmVkX01hcHBlZFRvT25lPiBxID0gY2IuY3JlYXRlUXVl\ncnkoRW1iZWRfTWFwcGVkVG9PbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50\naXR5QV9FbWJlZF9NYXBwZWRUb09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0Vt\nYmVkX01hcHBlZFRvT25lLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdl\ndChFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lXy5lbWJlZCkpOwogICAgICAg\nIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQog\nICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTUoKSB7\nCiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUgZnJvbSBFbnRpdHlB\nX0VtYmVkX01hcHBlZFRvT25lIGEgIiArCiAgICAgICAgICAgICAgICAiIGpv\naW4gYS5lbWJlZCBlIGpvaW4gZS5ibSBibSB3aGVyZSBlLmJtLmlkID4gMCBv\ncmRlciBieSBhLmlkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX01h\ncHBlZFRvT25lPiBxID0gY2IuY3JlYXRlUXVlcnkoRW1iZWRfTWFwcGVkVG9P\nbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9NYXBwZWRU\nb09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lLmNs\nYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUs\nRW1iZWRfTWFwcGVkVG9PbmU+IGUgPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9N\nYXBwZWRUb09uZV8uZW1iZWQpOwogICAgICAgIEpvaW48RW1iZWRfTWFwcGVk\nVG9PbmUsRW50aXR5QjE+IGJtID0gZS5qb2luKEVtYmVkX01hcHBlZFRvT25l\nXy5ibSk7CiAgICAgICAgcS53aGVyZShjYi5ndChlLmdldChFbWJlZF9NYXBw\nZWRUb09uZV8uYm0pLmdldChFbnRpdHlCMV8uaWQpLCAwKSk7CiAgICAgICAg\ncS5vcmRlckJ5KGNiLmFzYyhhLmdldChFbnRpdHlBX0VtYmVkX01hcHBlZFRv\nT25lXy5pZCkpKTsKICAgICAgICBxLnNlbGVjdChlKTsKICAgICAgICAKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTE2KCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGFzIGUgZnJvbSBF\nbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lIGEgT1JERVIgQlkgZSI7CiAgICAg\nICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9NYXBwZWRUb09uZT4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KEVtYmVkX01hcHBlZFRvT25lLmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmU+IGEgPSBxLmZyb20oRW50\naXR5QV9FbWJlZF9NYXBwZWRUb09uZS5jbGFzcyk7CiAgICAgICAgRXhwcmVz\nc2lvbjxFbWJlZF9NYXBwZWRUb09uZT4gZSA9IGEuZ2V0KEVudGl0eUFfRW1i\nZWRfTWFwcGVkVG9PbmVfLmVtYmVkKTsKICAgICAgICBlLmFsaWFzKCJlIik7\nCiAgICAgICAgcS5zZWxlY3QoZSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFz\nYyhlKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRh\nYmxlUXVlcnkxNygpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\nYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUgYSBXSEVS\nRSBhLmVtYmVkLmJtIElTIE5PVCBOVUxMIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEVtYmVkX01hcHBlZFRvT25lPiBxID0gY2IuY3JlYXRlUXVlcnkoRW1i\nZWRfTWFwcGVkVG9PbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9F\nbWJlZF9NYXBwZWRUb09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX01h\ncHBlZFRvT25lLmNsYXNzKTsKICAgICAgICBxLndoZXJlKGNiLmlzTm90TnVs\nbChhLmdldChFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lXy5lbWJlZCkuZ2V0\nKEVtYmVkX01hcHBlZFRvT25lXy5ibSkpKTsKICAgICAgICBxLnNlbGVjdChh\nLmdldChFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lXy5lbWJlZCkpOwogICAg\nICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTgo\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEuZW1iZWQgZnJv\nbSBFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lIGEgIiArCiAgICAgICAgICAg\nICAgICAiIFdIRVJFIGV4aXN0cyAoc2VsZWN0IGEgZnJvbSBFbnRpdHlBX0Vt\nYmVkX01hcHBlZFRvT25lIGEgIiArCiAgICAgICAgICAgICAgICAiIHdoZXJl\nIGEuZW1iZWQuYm0gSVMgTk9UIE5VTEwpIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEVtYmVkX01hcHBlZFRvT25lPiBxID0gY2IuY3JlYXRlUXVlcnkoRW1i\nZWRfTWFwcGVkVG9PbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9F\nbWJlZF9NYXBwZWRUb09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX01h\ncHBlZFRvT25lLmNsYXNzKTsKICAgICAgICBTdWJxdWVyeTxFbnRpdHlBX0Vt\nYmVkX01hcHBlZFRvT25lPiBzcSA9IHEuc3VicXVlcnkoRW50aXR5QV9FbWJl\nZF9NYXBwZWRUb09uZS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0Vt\nYmVkX01hcHBlZFRvT25lPiBhMSA9IHNxLmZyb20oRW50aXR5QV9FbWJlZF9N\nYXBwZWRUb09uZS5jbGFzcyk7CiAgICAgICAgc3Euc2VsZWN0KGExKTsKICAg\nICAgICBzcS53aGVyZShjYi5pc05vdE51bGwoYTEuZ2V0KEVudGl0eUFfRW1i\nZWRfTWFwcGVkVG9PbmVfLmVtYmVkKS5nZXQoRW1iZWRfTWFwcGVkVG9PbmVf\nLmJtKSkpOwogICAgICAgIHEud2hlcmUoY2IuZXhpc3RzKHNxKSk7CiAgICAg\nICAgcS5zZWxlY3QoYS5nZXQoRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZV8u\nZW1iZWQpKTsKICAgICAgICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShx\nLCBqcHFsKTsKICAgIH0KICAgIAogICAgLy9qcHFsIGRvZXMgbm90IHN1cHBv\ncnQgY29tcGFyaXNvbiBvZiBlbWJlZGRhYmxlCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RW1iZWRkYWJsZVF1ZXJ5MTkoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAic2VsZWN0IGEuZW1iZWQgZnJvbSBFbnRpdHlBX0VtYmVkX01hcHBlZFRv\nT25lIGEgIiArCiAgICAgICAgICAgICAgICAiIFdIRVJFIGV4aXN0cyAoc2Vs\nZWN0IGUgZnJvbSBFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lIGEiICsKICAg\nICAgICAgICAgICAgICIgam9pbiBhLmVtYmVkIGUgd2hlcmUgZS5ibSBJUyBO\nT1QgTlVMTCkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfTWFwcGVk\nVG9PbmU+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9NYXBwZWRUb09uZS5j\nbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25l\nPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUuY2xhc3Mp\nOwogICAgICAgIFN1YnF1ZXJ5PEVtYmVkX01hcHBlZFRvT25lPiBzcSA9IHEu\nc3VicXVlcnkoRW1iZWRfTWFwcGVkVG9PbmUuY2xhc3MpOwogICAgICAgIFJv\nb3Q8RW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZT4gYTEgPSBzcS5mcm9tKEVu\ndGl0eUFfRW1iZWRfTWFwcGVkVG9PbmUuY2xhc3MpOwogICAgICAgIEpvaW48\nRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZSwgRW1iZWRfTWFwcGVkVG9PbmU+\nIGUgPSBhMS5qb2luKEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmVfLmVtYmVk\nKTsKICAgICAgICBzcS5zZWxlY3QoZSk7CiAgICAgICAgc3Eud2hlcmUoY2Iu\naXNOb3ROdWxsKGUuZ2V0KEVtYmVkX01hcHBlZFRvT25lXy5ibSkpKTsKICAg\nICAgICBxLndoZXJlKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIHEuc2VsZWN0\nKGEuZ2V0KEVudGl0eUFfRW1iZWRfTWFwcGVkVG9PbmVfLmVtYmVkKSk7CiAg\nICAgICAgCiAgICAgICAgZXhlY3V0ZUV4cGVjdEZhaWwoanBxbCk7CiAgICAg\nICAgZXhlY3V0ZUV4cGVjdEZhaWwocSwganBxbCk7CiAgICB9CiAgICAKICAg\nIC8vbm8gc3VwcG9ydCBmb3IgY29tcGFyaXNvbiBvZiBlbWJlZGRhYmxlIAog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTIwKCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5\nQV9FbWJlZF9NYXBwZWRUb09uZSBhICIgKwogICAgICAgICAgICAgICAgIiBX\nSEVSRSBleGlzdHMgKHNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5QV9FbWJl\nZF9NYXBwZWRUb09uZSBhICIgKwogICAgICAgICAgICAgICAgIiB3aGVyZSBh\nLmVtYmVkLmJtIElTIE5PVCBOVUxMKSI7CiAgICAgICAgQ3JpdGVyaWFRdWVy\neTxFbWJlZF9NYXBwZWRUb09uZT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVk\nX01hcHBlZFRvT25lLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfRW1i\nZWRfTWFwcGVkVG9PbmU+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9NYXBw\nZWRUb09uZS5jbGFzcyk7CiAgICAgICAgU3VicXVlcnk8RW1iZWRfTWFwcGVk\nVG9PbmU+IHNxID0gcS5zdWJxdWVyeShFbWJlZF9NYXBwZWRUb09uZS5jbGFz\ncyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lPiBh\nMSA9IHNxLmZyb20oRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZS5jbGFzcyk7\nCiAgICAgICAgc3Euc2VsZWN0KGExLmdldChFbnRpdHlBX0VtYmVkX01hcHBl\nZFRvT25lXy5lbWJlZCkpOwogICAgICAgIHNxLndoZXJlKGNiLmlzTm90TnVs\nbChhMS5nZXQoRW50aXR5QV9FbWJlZF9NYXBwZWRUb09uZV8uZW1iZWQpLmdl\ndChFbWJlZF9NYXBwZWRUb09uZV8uYm0pKSk7CiAgICAgICAgcS53aGVyZShj\nYi5leGlzdHMoc3EpKTsKICAgICAgICBxLnNlbGVjdChhLmdldChFbnRpdHlB\nX0VtYmVkX01hcHBlZFRvT25lXy5lbWJlZCkpOwogICAgICAgIAogICAgICAg\nIGV4ZWN1dGVFeHBlY3RGYWlsKHEsIGpwcWwpOwogICAgICAgIGV4ZWN1dGVF\neHBlY3RGYWlsKGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RW1iZWRkYWJsZVF1ZXJ5MjEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAic2VsZWN0IGEgZnJvbSBFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25lIGEi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW50aXR5QV9FbWJlZF9NYXBwZWRU\nb09uZT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVudGl0eUFfRW1iZWRfTWFwcGVk\nVG9PbmUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9NYXBw\nZWRUb09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX01hcHBlZFRvT25l\nLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhKTsKICAgICAgICAKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MjIoKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuYiBmcm9tIEVudGl0eUFfQ29sbF9F\nbWJlZF9Ub09uZSBhLCBpbiAoYS5lbWJlZDFzKSBlIG9yZGVyIGJ5IGUubmFt\nZTEiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1\nZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmU+\nIGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX1RvT25lLmNsYXNzKTsK\nICAgICAgICBKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZSwgRW1iZWRf\nVG9PbmU+IGUgPSBhLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX1RvT25lXy5l\nbWJlZDFzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0KEVtYmVk\nX1RvT25lXy5uYW1lMSkpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUu\nZ2V0KEVtYmVkX1RvT25lXy5iKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkyMygpIHsKICAgICAgICBTdHJpbmcg\nanBxbCA9ICJzZWxlY3QgZSwgYS5pZCBmcm9tIEVudGl0eUFfQ29sbF9FbWJl\nZF9Ub09uZSBhLCBpbiAoYS5lbWJlZDFzKSBlIHdoZXJlIGUuYi5pZCA+IDAg\nIiArCiAgICAgICAgICAgICJvcmRlciBieSBhLmlkIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJv\nb3Q8RW50aXR5QV9Db2xsX0VtYmVkX1RvT25lPiBhID0gcS5mcm9tKEVudGl0\neUFfQ29sbF9FbWJlZF9Ub09uZS5jbGFzcyk7CiAgICAgICAgSm9pbjxFbnRp\ndHlBX0NvbGxfRW1iZWRfVG9PbmUsIEVtYmVkX1RvT25lPiBlID0gYS5qb2lu\nKEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZV8uZW1iZWQxcyk7CiAgICAgICAg\ncS53aGVyZShjYi5ndChlLmdldChFbWJlZF9Ub09uZV8uYikuZ2V0KEVudGl0\neUIxXy5pZCksIDApKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGEuZ2V0\nKEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZV8uaWQpKSk7CiAgICAgICAgcS5t\ndWx0aXNlbGVjdChlLCBhLmdldChFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmVf\nLmlkKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRh\nYmxlUXVlcnkyNCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\nZSwgZS5iLmlkIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX1RvT25lIGEgIiAr\nCiAgICAgICAgICAgICAgICAiICwgaW4gKGEuZW1iZWQxcykgZSB3aGVyZSBl\nLm5hbWUxIGxpa2UgJyUxJyBvcmRlciBieSBlLm5hbWUzIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAg\nIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX1RvT25lPiBhID0gcS5mcm9tKEVu\ndGl0eUFfQ29sbF9FbWJlZF9Ub09uZS5jbGFzcyk7CiAgICAgICAgSm9pbjxF\nbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmUsIEVtYmVkX1RvT25lPiBlID0gYS5q\nb2luKEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZV8uZW1iZWQxcyk7CiAgICAg\nICAgcS53aGVyZShjYi5saWtlKGUuZ2V0KEVtYmVkX1RvT25lXy5uYW1lMSks\nICIlMSIpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0KEVtYmVk\nX1RvT25lXy5uYW1lMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUu\nZ2V0KEVtYmVkX1RvT25lXy5iKS5nZXQoRW50aXR5QjFfLmlkKSk7CiAgICAg\nICAgCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkyNSgp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5iLmlkICBm\ncm9tIEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZSBhICIgKwogICAgICAgICAg\nICAgICAgIiAsIGluIChhLmVtYmVkMXMpIGUgd2hlcmUgZS5uYW1lMSBsaWtl\nICclMScgb3JkZXIgYnkgZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBx\nID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0eUFfQ29s\nbF9FbWJlZF9Ub09uZT4gYSA9IHEuZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRf\nVG9PbmUuY2xhc3MpOwogICAgICAgIEpvaW48RW50aXR5QV9Db2xsX0VtYmVk\nX1RvT25lLCBFbWJlZF9Ub09uZT4gZSA9IGEuam9pbihFbnRpdHlBX0NvbGxf\nRW1iZWRfVG9PbmVfLmVtYmVkMXMpOwogICAgICAgIHEud2hlcmUoY2IubGlr\nZShlLmdldChFbWJlZF9Ub09uZV8ubmFtZTEpLCAiJTEiKSk7CiAgICAgICAg\ncS5vcmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChl\nLCBlLmdldChFbWJlZF9Ub09uZV8uYikuZ2V0KEVudGl0eUIxXy5pZCkpOwog\nICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwog\nICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5\nMjYoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuYi5p\nZCAgZnJvbSBFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmUgYSwgIiArCiAgICAg\nICAgICAgICAgICAiaW4gKGEuZW1iZWQxcykgZSB3aGVyZSBlLm5hbWUxIGxp\na2UgJyUxJyBhbmQgYS5lbWJlZDFzIElTIE5PVCBFTVBUWSBhbmQgIiArCiAg\nICAgICAgICAgICAgICAiIGUuYiBJUyBOT1QgTlVMTCBvcmRlciBieSBlIjsK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgp\nOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX1RvT25lPiBhID0g\ncS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZS5jbGFzcyk7CiAgICAg\nICAgSm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmUsIEVtYmVkX1RvT25l\nPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZV8uZW1iZWQx\ncyk7CiAgICAgICAgUHJlZGljYXRlIHAxID0gY2IubGlrZShlLmdldChFbWJl\nZF9Ub09uZV8ubmFtZTEpLCAiJTEiKTsKICAgICAgICBQcmVkaWNhdGUgcDIg\nPSBjYi5pc0VtcHR5KGEuZ2V0KEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZV8u\nZW1iZWQxcykpLm5lZ2F0ZSgpOwogICAgICAgIFByZWRpY2F0ZSBwMyA9IGNi\nLmlzTm90TnVsbChlLmdldChFbWJlZF9Ub09uZV8uYikpOwogICAgICAgIHEu\nd2hlcmUoY2IuYW5kKGNiLmFuZChwMSwgcDIpLCBwMykpOwogICAgICAgIHEu\nb3JkZXJCeShjYi5hc2MoZSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwg\nZS5nZXQoRW1iZWRfVG9PbmVfLmIpLmdldChFbnRpdHlCMV8uaWQpKTsKICAg\nICAgICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KICAgIAogICAgLy8gY2FuIG5vdCBjb21wYXJlIGVtYmVkZGFibGUuIEV4\ncGVjdCB0byBmYWlsCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1\nZXJ5MjcoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUu\nYi5pZCBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZSBhICIgKwogICAg\nICAgICAgICAgICAgIiAsIGluIChhLmVtYmVkMXMpIGUgd2hlcmUgZXhpc3Rz\nIChzZWxlY3QgYS5lbWJlZDFzIGZyb20gIiArCiAgICAgICAgICAgICAgICAi\nIEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZSBhKSBhbmQgZXhpc3RzIChzZWxl\nY3QgZS5iIGZyb20gYS5lbWJlZDFzIGUpICIgKwogICAgICAgICAgICAgICAg\nIiBvcmRlciBieSBlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEludGVnZXI+\nIHEgPSBjYi5jcmVhdGVRdWVyeShJbnRlZ2VyLmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZT4gYSA9IHEuZnJvbShFbnRp\ndHlBX0NvbGxfRW1iZWRfVG9PbmUuY2xhc3MpOwogICAgICAgIEpvaW48RW50\naXR5QV9Db2xsX0VtYmVkX1RvT25lLCBFbWJlZF9Ub09uZT4gZSA9IGEuam9p\nbihFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmVfLmVtYmVkMXMpOwogICAgICAg\nIFN1YnF1ZXJ5PFNldD4gc3ExID0gcS5zdWJxdWVyeShTZXQuY2xhc3MpOwog\nICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX1RvT25lPiBhMSA9IHNx\nMS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9Ub09uZS5jbGFzcyk7CiAgICAg\nICAgRXhwcmVzc2lvbiBlMSA9IGExLmdldChFbnRpdHlBX0NvbGxfRW1iZWRf\nVG9PbmVfLmVtYmVkMXMpOwogICAgICAgIHNxMS5zZWxlY3QoZTEpOwoKICAg\nICAgICBTdWJxdWVyeTxFbnRpdHlCMT4gc3EyID0gcS5zdWJxdWVyeShFbnRp\ndHlCMS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRf\nVG9PbmU+IGEyID0gc3EyLmNvcnJlbGF0ZShhKTsKICAgICAgICBKb2luPEVu\ndGl0eUFfQ29sbF9FbWJlZF9Ub09uZSwgRW1iZWRfVG9PbmU+IGUyID0gYTIu\nam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfVG9PbmVfLmVtYmVkMXMpOwogICAg\nICAgIHNxMi5zZWxlY3QoZTIuZ2V0KEVtYmVkX1RvT25lXy5iKSk7CiAgICAg\nICAgCiAgICAgICAgUHJlZGljYXRlIHAxID0gY2IuZXhpc3RzKHNxMSk7CiAg\nICAgICAgUHJlZGljYXRlIHAyID0gY2IuZXhpc3RzKHNxMik7CiAgICAgICAg\ncS53aGVyZShjYi5hbmQocDEsIHAyKSk7CiAgICAgICAgcS5vcmRlckJ5KGNi\nLmFzYyhlKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJl\nZF9Ub09uZV8uYikuZ2V0KEVudGl0eUIxXy5pZCkpOwogICAgICAgIAogICAg\nICAgIGV4ZWN1dGVFeHBlY3RGYWlsKHEsIGpwcWwpOwogICAgICAgIGV4ZWN1\ndGVFeHBlY3RGYWlsKGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RFbWJlZGRhYmxlUXVlcnkyOCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfVG9NYW55IGEi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfVG9NYW55PiBxID0gY2Iu\nY3JlYXRlUXVlcnkoRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBSb290\nPEVudGl0eUFfRW1iZWRfVG9NYW55PiBhID0gcS5mcm9tKEVudGl0eUFfRW1i\nZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdldChFbnRp\ndHlBX0VtYmVkX1RvTWFueV8uZW1iZWQpKTsKICAgICAgICBhc3NlcnRFcXVp\ndmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdEVtYmVkZGFibGVRdWVyeTI5KCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gInNlbGVjdCBlIGZyb20gRW50aXR5QV9FbWJlZF9Ub01hbnkgYSBqb2lu\nIGEuZW1iZWQgZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9Ub01h\nbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9Ub01hbnkuY2xhc3MpOwog\nICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20o\nRW50aXR5QV9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIEpvaW48RW50\naXR5QV9FbWJlZF9Ub01hbnksRW1iZWRfVG9NYW55PiBlID0gYS5qb2luKEVu\ndGl0eUFfRW1iZWRfVG9NYW55Xy5lbWJlZCk7CiAgICAgICAgcS5zZWxlY3Qo\nZSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkzMCgp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYiBmcm9tIEVudGl0\neUFfRW1iZWRfVG9NYW55IGEgam9pbiBhLmVtYmVkLmJzIGIiOwogICAgICAg\nIENyaXRlcmlhUXVlcnk8RW50aXR5QjE+IHEgPSBjYi5jcmVhdGVRdWVyeShF\nbnRpdHlCMS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1Rv\nTWFueT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX1RvTWFueS5jbGFzcyk7\nCiAgICAgICAgSm9pbjxFbWJlZF9Ub01hbnksIEVudGl0eUIxPiBiID0gYS5q\nb2luKEVudGl0eUFfRW1iZWRfVG9NYW55Xy5lbWJlZCkuam9pbihFbWJlZF9U\nb01hbnlfLmJzKTsKICAgICAgICBxLnNlbGVjdChiKTsKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTMxKCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gInNlbGVjdCBlIGZyb20gRW50aXR5QV9FbWJlZF9Ub01hbnkg\nYSBqb2luIGEuZW1iZWQgZSB3aGVyZSBlLm5hbWUxIGxpa2UgJyUxJyI7CiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVh\ndGVRdWVyeShFbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50\naXR5QV9FbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9U\nb01hbnkuY2xhc3MpOwogICAgICAgIEpvaW48RW50aXR5QV9FbWJlZF9Ub01h\nbnksRW1iZWRfVG9NYW55PiBlID0gYS5qb2luKEVudGl0eUFfRW1iZWRfVG9N\nYW55Xy5lbWJlZCk7CiAgICAgICAgcS5zZWxlY3QoZSk7CiAgICAgICAgcS53\naGVyZShjYi5saWtlKGUuZ2V0KEVtYmVkX1RvTWFueV8ubmFtZTEpLCAiJTEi\nKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkzMigp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYS5lbWJlZCBmcm9t\nIEVudGl0eUFfRW1iZWRfVG9NYW55IGEgT1JERVIgQlkgYS5lbWJlZCI7CiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVh\ndGVRdWVyeShFbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50\naXR5QV9FbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9U\nb01hbnkuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGEuZ2V0KEVudGl0eUFf\nRW1iZWRfVG9NYW55Xy5lbWJlZCkpOwogICAgICAgIHEub3JkZXJCeShjYi5h\nc2MoYS5nZXQoRW50aXR5QV9FbWJlZF9Ub01hbnlfLmVtYmVkKSkpOwogICAg\nICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MzMoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUgZnJvbSBFbnRpdHlBX0VtYmVk\nX1RvTWFueSBhIGpvaW4gYS5lbWJlZCBlIE9SREVSIEJZIGUiOwogICAgICAg\nIENyaXRlcmlhUXVlcnk8RW1iZWRfVG9NYW55PiBxID0gY2IuY3JlYXRlUXVl\ncnkoRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFf\nRW1iZWRfVG9NYW55PiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfVG9NYW55\nLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfRW1iZWRfVG9NYW55LEVt\nYmVkX1RvTWFueT4gZSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX1RvTWFueV8u\nZW1iZWQpOwogICAgICAgIGUuYWxpYXMoImUiKTsKICAgICAgICBxLnNlbGVj\ndChlKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUpKTsKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVi\nbGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTM0KCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBiIGZyb20gRW50aXR5QV9FbWJlZF9Ub01h\nbnkgYSBqb2luIGEuZW1iZWQuYnMgYiBPUkRFUiBCWSBiIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PEVudGl0eUIxPiBxID0gY2IuY3JlYXRlUXVlcnkoRW50\naXR5QjEuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Ub01h\nbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Ub01hbnkuY2xhc3MpOwog\nICAgICAgIExpc3RKb2luPEVtYmVkX1RvTWFueSwgRW50aXR5QjE+IGIgPSBh\nLmpvaW4oRW50aXR5QV9FbWJlZF9Ub01hbnlfLmVtYmVkKS5qb2luKEVtYmVk\nX1RvTWFueV8uYnMpOwogICAgICAgIGIuYWxpYXMoImIiKTsKICAgICAgICBx\nLnNlbGVjdChiKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGIpKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTM1KCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlIGZyb20gRW50aXR5QV9FbWJl\nZF9Ub01hbnkgYSBqb2luIGEuZW1iZWQgZSBXSEVSRSBlLmJzIElTIE5PVCBF\nTVBUWSBPUkRFUiBCWSBlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVk\nX1RvTWFueT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1RvTWFueS5jbGFz\ncyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX1RvTWFueT4gYSA9IHEu\nZnJvbShFbnRpdHlBX0VtYmVkX1RvTWFueS5jbGFzcyk7CiAgICAgICAgSm9p\nbjxFbnRpdHlBX0VtYmVkX1RvTWFueSwgRW1iZWRfVG9NYW55PiBlID0gYS5q\nb2luKEVudGl0eUFfRW1iZWRfVG9NYW55Xy5lbWJlZCk7CiAgICAgICAgZS5h\nbGlhcygiZSIpOwogICAgICAgIHEuc2VsZWN0KGUpOwogICAgICAgIHEud2hl\ncmUoY2IuaXNFbXB0eShlLmdldChFbWJlZF9Ub01hbnlfLmJzKSkubmVnYXRl\nKCkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoZSkpOwogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MzYoKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAic2VsZWN0IGEgZnJvbSBFbnRpdHlBX0VtYmVkX1RvTWFu\neSBhIFdIRVJFIGV4aXN0cyAoc2VsZWN0IGEgZnJvbSBFbnRpdHlBX0VtYmVk\nX1RvTWFueSBhIiArCiAgICAgICAgICAgICAgICAiIHdoZXJlIGEuZW1iZWQu\nYnMgSVMgTk9UIEVNUFRZKSBPUkRFUiBCWSBhIjsKICAgICAgICBDcml0ZXJp\nYVF1ZXJ5PEVudGl0eUFfRW1iZWRfVG9NYW55PiBxID0gY2IuY3JlYXRlUXVl\ncnkoRW50aXR5QV9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8\nRW50aXR5QV9FbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJl\nZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGEpOwoKICAgICAg\nICBTdWJxdWVyeTxFbnRpdHlBX0VtYmVkX1RvTWFueT4gc3EgPSBxLnN1YnF1\nZXJ5KEVudGl0eUFfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBSb290\nPEVudGl0eUFfRW1iZWRfVG9NYW55PiBhMSA9IHNxLmZyb20oRW50aXR5QV9F\nbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIHNxLnNlbGVjdChhMSk7CiAg\nICAgICAgc3Eud2hlcmUoY2IuaXNFbXB0eShhMS5nZXQoRW50aXR5QV9FbWJl\nZF9Ub01hbnlfLmVtYmVkKS5nZXQoRW1iZWRfVG9NYW55Xy5icykpLm5lZ2F0\nZSgpKTsKICAgICAgICBxLndoZXJlKGNiLmV4aXN0cyhzcSkpOwogICAgICAg\nIHEub3JkZXJCeShjYi5hc2MoYSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxl\nbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nRW1iZWRkYWJsZVF1ZXJ5MzgoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAi\nc2VsZWN0IGEgZnJvbSBFbnRpdHlBX0VtYmVkX1RvTWFueSBhIjsKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PEVudGl0eUFfRW1iZWRfVG9NYW55PiBxID0gY2Iu\nY3JlYXRlUXVlcnkoRW50aXR5QV9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAg\nICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50\naXR5QV9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGEp\nOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkzOSgpIHsKICAg\nICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYS5lbWJlZCBmcm9tIEVudGl0\neUFfRW1iZWRfRW1iZWRfVG9NYW55IGEiOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8RW1iZWRfRW1iZWRfVG9NYW55PiBxID0gY2IuY3JlYXRlUXVlcnkoRW1i\nZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFf\nRW1iZWRfRW1iZWRfVG9NYW55PiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRf\nRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdldChF\nbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueV8uZW1iZWQpKTsKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVi\nbGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTQwKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGZyb20gRW50aXR5QV9FbWJl\nZF9FbWJlZF9Ub01hbnkgYSB3aGVyZSBhLmVtYmVkLmVtYmVkLm5hbWUxIGxp\na2UgJyUxJyAiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRfRW1iZWRf\nVG9NYW55PiBxID0gY2IuY3JlYXRlUXVlcnkoRW1iZWRfRW1iZWRfVG9NYW55\nLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfRW1iZWRfVG9N\nYW55PiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55LmNs\nYXNzKTsKICAgICAgICBxLnNlbGVjdChhLmdldChFbnRpdHlBX0VtYmVkX0Vt\nYmVkX1RvTWFueV8uZW1iZWQpKTsKICAgICAgICBxLndoZXJlKGNiLmxpa2Uo\nYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnlfLmVtYmVkKS5nZXQo\nRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkuCiAgICAgICAgICAgIGdldChF\nbWJlZF9Ub01hbnlfLm5hbWUxKSwgIiUxIikpOwogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NDEoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAic2VsZWN0IGEuZW1iZWQuZW1iZWQgZnJvbSBFbnRpdHlBX0VtYmVk\nX0VtYmVkX1RvTWFueSBhIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVk\nX1RvTWFueT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1RvTWFueS5jbGFz\ncyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueT4g\nYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7\nCiAgICAgICAgcS5zZWxlY3QoYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF9U\nb01hbnlfLmVtYmVkKS5nZXQoRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkp\nOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQog\nICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NDIoKSB7\nCiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGIgZnJvbSBFbnRpdHlB\nX0VtYmVkX0VtYmVkX1RvTWFueSBhIGpvaW4gYS5lbWJlZC5lbWJlZC5icyBi\nIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVudGl0eUIxPiBxID0gY2IuY3Jl\nYXRlUXVlcnkoRW50aXR5QjEuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5\nQV9FbWJlZF9FbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJl\nZF9FbWJlZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIEpvaW48RW1iZWRfVG9N\nYW55LCBFbnRpdHlCMT4gYiA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0VtYmVk\nX1RvTWFueV8uZW1iZWQpLmpvaW4oRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJl\nZCkuCiAgICAgICAgICAgIGpvaW4oRW1iZWRfVG9NYW55Xy5icyk7CiAgICAg\nICAgYi5hbGlhcygiYiIpOwogICAgICAgIHEuc2VsZWN0KGIpOwogICAgICAg\nIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NDMoKSB7CiAgICAgICAg\nU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEuZW1iZWQuZW1iZWQgZnJvbSBFbnRp\ndHlBX0VtYmVkX0VtYmVkX1RvTWFueSBhIHdoZXJlIGEuZW1iZWQuZW1iZWQu\nbmFtZTEgbGlrZSAnJTEnIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVk\nX1RvTWFueT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX1RvTWFueS5jbGFz\ncyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueT4g\nYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueS5jbGFzcyk7\nCiAgICAgICAgcS5zZWxlY3QoYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF9U\nb01hbnlfLmVtYmVkKS5nZXQoRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCkp\nOwogICAgICAgIHEud2hlcmUoY2IubGlrZShhLmdldChFbnRpdHlBX0VtYmVk\nX0VtYmVkX1RvTWFueV8uZW1iZWQpLmdldChFbWJlZF9FbWJlZF9Ub01hbnlf\nLmVtYmVkKS4KICAgICAgICAgICAgZ2V0KEVtYmVkX1RvTWFueV8ubmFtZTEp\nLCAiJTEiKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVl\ncnk0NCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZTIgZnJv\nbSBFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueSBhIGxlZnQgam9pbiBhLmVt\nYmVkIGUxIGxlZnQgam9pbiBlMS5lbWJlZCBlMiI7CiAgICAgICAgQ3JpdGVy\naWFRdWVyeTxFbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJl\nZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9F\nbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZF9U\nb01hbnkuY2xhc3MpOwogICAgICAgIEpvaW48RW50aXR5QV9FbWJlZF9FbWJl\nZF9Ub01hbnksIEVtYmVkX0VtYmVkX1RvTWFueT4gZTEgPSBhLmpvaW4oRW50\naXR5QV9FbWJlZF9FbWJlZF9Ub01hbnlfLmVtYmVkLCAKICAgICAgICAgICAg\nSm9pblR5cGUuTEVGVCk7CiAgICAgICAgSm9pbjxFbWJlZF9FbWJlZF9Ub01h\nbnksIEVtYmVkX1RvTWFueT4gZTIgPSBlMS5qb2luKEVtYmVkX0VtYmVkX1Rv\nTWFueV8uZW1iZWQsIEpvaW5UeXBlLkxFRlQpOwogICAgICAgIHEuc2VsZWN0\nKGUyKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTQ1\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlMiBmcm9tIEVu\ndGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55IGEgam9pbiBhLmVtYmVkIGUxIGpv\naW4gZTEuZW1iZWQgZTIiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRf\nVG9NYW55PiBxID0gY2IuY3JlYXRlUXVlcnkoRW1iZWRfVG9NYW55LmNsYXNz\nKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55PiBh\nID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsK\nICAgICAgICBKb2luPEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55LCBFbWJl\nZF9FbWJlZF9Ub01hbnk+IGUxID0gYS5qb2luKEVudGl0eUFfRW1iZWRfRW1i\nZWRfVG9NYW55Xy5lbWJlZCk7CiAgICAgICAgSm9pbjxFbWJlZF9FbWJlZF9U\nb01hbnksIEVtYmVkX1RvTWFueT4gZTIgPSBlMS5qb2luKEVtYmVkX0VtYmVk\nX1RvTWFueV8uZW1iZWQpOwogICAgICAgIHEuc2VsZWN0KGUyKTsKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTQ2KCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVkIGFzIGUgZnJvbSBFbnRp\ndHlBX0VtYmVkX0VtYmVkX1RvTWFueSBhIE9SREVSIEJZIGUiOwogICAgICAg\nIENyaXRlcmlhUXVlcnk8RW1iZWRfRW1iZWRfVG9NYW55PiBxID0gY2IuY3Jl\nYXRlUXVlcnkoRW1iZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55PiBhID0gcS5mcm9tKEVu\ndGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBFeHBy\nZXNzaW9uPEVtYmVkX0VtYmVkX1RvTWFueT4gZSA9IGEuZ2V0KEVudGl0eUFf\nRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCk7CiAgICAgICAgZS5hbGlhcygi\nZSIpOwogICAgICAgIHEuc2VsZWN0KGUpOwogICAgICAgIHEub3JkZXJCeShj\nYi5hc2MoZSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1\nZXJ5NDcoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEuZW1i\nZWQuZW1iZWQgYXMgZSBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55\nIGEgIiArIAogICAgICAgICAgICAid2hlcmUgYS5lbWJlZC5lbWJlZC5uYW1l\nMSBsaWtlICclMScgT1JERVIgQlkgZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVy\neTxFbWJlZF9Ub01hbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9Ub01h\nbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9FbWJlZF9U\nb01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnku\nY2xhc3MpOwogICAgICAgIEV4cHJlc3Npb248RW1iZWRfVG9NYW55PiBlID0g\nYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnlfLmVtYmVkKS5nZXQo\nRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJlZCk7CiAgICAgICAgZS5hbGlhcygi\nZSIpOwogICAgICAgIHEuc2VsZWN0KGUpOwogICAgICAgIHEud2hlcmUoY2Iu\nbGlrZShhLmdldChFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueV8uZW1iZWQp\nLmdldChFbWJlZF9FbWJlZF9Ub01hbnlfLmVtYmVkKS4KICAgICAgICAgICAg\nZ2V0KEVtYmVkX1RvTWFueV8ubmFtZTEpLCAiJTEiKSk7CiAgICAgICAgcS5v\ncmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2Uo\ncSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJl\nZGRhYmxlUXVlcnk0OCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxl\nY3QgYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55IGEg\nIiArCiAgICAgICAgICAgICAgICAiIHdoZXJlIGEuZW1iZWQuZW1iZWQuYnMg\nSVMgTk9UIEVNUFRZIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtYmVkX0Vt\nYmVkX1RvTWFueT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX0VtYmVkX1Rv\nTWFueS5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVk\nX1RvTWFueT4gYSA9IHEuZnJvbShFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFu\neS5jbGFzcyk7CiAgICAgICAgRXhwcmVzc2lvbjxFbWJlZF9FbWJlZF9Ub01h\nbnk+IGUgPSBhLmdldChFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueV8uZW1i\nZWQpOwogICAgICAgIHEuc2VsZWN0KGUpOwogICAgICAgIHEud2hlcmUoY2Iu\naXNFbXB0eShhLmdldChFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueV8uZW1i\nZWQpLmdldChFbWJlZF9FbWJlZF9Ub01hbnlfLmVtYmVkKS4KICAgICAgICAg\nICAgZ2V0KEVtYmVkX1RvTWFueV8uYnMpKS5uZWdhdGUoKSk7CiAgICAgICAg\ncS5vcmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RF\nbWJlZGRhYmxlUXVlcnk0OSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJz\nZWxlY3QgYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55\nIGEgIiArCiAgICAgICAgICAgICAgICAiIHdoZXJlIGV4aXN0cyAoc2VsZWN0\nIGEuZW1iZWQuZW1iZWQuYnMgZnJvbSBFbnRpdHlBX0VtYmVkX0VtYmVkX1Rv\nTWFueSBhKSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9FbWJlZF9U\nb01hbnk+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9FbWJlZF9Ub01hbnku\nY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9FbWJlZF9Ub01h\nbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnkuY2xh\nc3MpOwogICAgICAgIEV4cHJlc3Npb248RW1iZWRfRW1iZWRfVG9NYW55PiBl\nID0gYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01hbnlfLmVtYmVkKTsK\nICAgICAgICBxLnNlbGVjdChlKTsKICAgICAgICBTdWJxdWVyeTxMaXN0PiBz\ncSA9IHEuc3VicXVlcnkoTGlzdC5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRp\ndHlBX0VtYmVkX0VtYmVkX1RvTWFueT4gYTEgPSBzcS5mcm9tKEVudGl0eUFf\nRW1iZWRfRW1iZWRfVG9NYW55LmNsYXNzKTsKICAgICAgICBFeHByZXNzaW9u\nIGJzID0gYTEuZ2V0KEVudGl0eUFfRW1iZWRfRW1iZWRfVG9NYW55Xy5lbWJl\nZCkuZ2V0KEVtYmVkX0VtYmVkX1RvTWFueV8uZW1iZWQpLgogICAgICAgICAg\nICBnZXQoRW1iZWRfVG9NYW55Xy5icyk7CiAgICAgICAgc3Euc2VsZWN0KGJz\nKTsKICAgICAgICBxLndoZXJlKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NTAoKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAic2VsZWN0IGIgZnJvbSBFbnRpdHlBX0VtYmVkX0VtYmVk\nX1RvTWFueSBhIGpvaW4gYS5lbWJlZC5lbWJlZC5icyBiIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PEVudGl0eUIxPiBxID0gY2IuY3JlYXRlUXVlcnkoRW50\naXR5QjEuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9FbWJl\nZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZF9Ub01h\nbnkuY2xhc3MpOwogICAgICAgIEpvaW48RW1iZWRfVG9NYW55LCBFbnRpdHlC\nMT4gYiA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueV8uZW1i\nZWQpLgogICAgICAgICAgICBqb2luKEVtYmVkX0VtYmVkX1RvTWFueV8uZW1i\nZWQpLmpvaW4oRW1iZWRfVG9NYW55Xy5icyk7CiAgICAgICAgYi5hbGlhcygi\nYiIpOwogICAgICAgIHEuc2VsZWN0KGIpOwogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RW1iZWRkYWJsZVF1ZXJ5NTEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAic2VsZWN0IGEgZnJvbSBFbnRpdHlBX0VtYmVkX0VtYmVkX1RvTWFueSBh\nIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVudGl0eUFfRW1iZWRfRW1iZWRf\nVG9NYW55PiBxID0gY2IuY3JlYXRlUXVlcnkoRW50aXR5QV9FbWJlZF9FbWJl\nZF9Ub01hbnkuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9F\nbWJlZF9Ub01hbnk+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZF9U\nb01hbnkuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGEpOwogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk1MigpIHsKICAgICAgICBTdHJpbmcg\nanBxbCA9ICJzZWxlY3QgZSwgYS5pZCBmcm9tIEVudGl0eUFfRW1iZWRfQ29s\nbF9JbnRlZ2VyIGEsIGluIChhLmVtYmVkLm90aGVySW50VmFscykgZSBvcmRl\nciBieSBlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVh\ndGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0lu\ndGVnZXI+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIu\nY2xhc3MpOwogICAgICAgIEpvaW48RW1iZWRfQ29sbF9JbnRlZ2VyLCBJbnRl\nZ2VyPiBlID0gYS5qb2luKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5l\nbWJlZCkuCiAgICAgICAgICAgIGpvaW4oRW1iZWRfQ29sbF9JbnRlZ2VyXy5v\ndGhlckludFZhbHMpOwogICAgICAgIGUuYWxpYXMoImUiKTsKICAgICAgICBx\nLm11bHRpc2VsZWN0KGUsIGEuZ2V0KEVudGl0eUFfRW1iZWRfQ29sbF9JbnRl\nZ2VyXy5pZCkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoZSkpOwogICAg\nICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NTQoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGEuaWQgZnJvbSBFbnRpdHlB\nX0VtYmVkX0NvbGxfSW50ZWdlciBhLCBpbiAoYS5lbWJlZC5vdGhlckludFZh\nbHMpIGUgb3JkZXIgYnkgYS5pZCI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/\nPiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0eUFf\nRW1iZWRfQ29sbF9JbnRlZ2VyPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRf\nQ29sbF9JbnRlZ2VyLmNsYXNzKTsKICAgICAgICBKb2luPEVtYmVkX0NvbGxf\nSW50ZWdlciwgSW50ZWdlcj4gZSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0Nv\nbGxfSW50ZWdlcl8uZW1iZWQpLgogICAgICAgICAgICBqb2luKEVtYmVkX0Nv\nbGxfSW50ZWdlcl8ub3RoZXJJbnRWYWxzKTsKICAgICAgICBlLmFsaWFzKCJl\nIik7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBhLmdldChFbnRpdHlBX0Vt\nYmVkX0NvbGxfSW50ZWdlcl8uaWQpKTsKICAgICAgICBxLm9yZGVyQnkoY2Iu\nYXNjKGEuZ2V0KEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5pZCkpKTsK\nICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAg\nIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTU1KCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBhLmVtYmVkLmludFZh\nbDEgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlciBhICIgKwogICAg\nICAgICAgICAgICAgIiAsIGluIChhLmVtYmVkLm90aGVySW50VmFscykgZSBv\ncmRlciBieSBhLmlkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBj\nYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9D\nb2xsX0ludGVnZXI+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0lu\ndGVnZXIuY2xhc3MpOwogICAgICAgIEpvaW48RW1iZWRfQ29sbF9JbnRlZ2Vy\nLCBJbnRlZ2VyPiBlID0gYS5qb2luKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRl\nZ2VyXy5lbWJlZCkuCiAgICAgICAgICAgIGpvaW4oRW1iZWRfQ29sbF9JbnRl\nZ2VyXy5vdGhlckludFZhbHMpOwogICAgICAgIGUuYWxpYXMoImUiKTsKICAg\nICAgICBxLm11bHRpc2VsZWN0KGUsIGEuZ2V0KEVudGl0eUFfRW1iZWRfQ29s\nbF9JbnRlZ2VyXy5lbWJlZCkuZ2V0KEVtYmVkX0NvbGxfSW50ZWdlcl8uaW50\nVmFsMSkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoYS5nZXQoRW50aXR5\nQV9FbWJlZF9Db2xsX0ludGVnZXJfLmlkKSkpOwogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NTYoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAic2VsZWN0IGUsIGEuZW1iZWQuaW50VmFsMiBmcm9tIEVudGl0eUFf\nRW1iZWRfQ29sbF9JbnRlZ2VyIGEgIiArCiAgICAgICAgICAgICAgICAiICwg\naW4gKGEuZW1iZWQub3RoZXJJbnRWYWxzKSBlIG9yZGVyIGJ5IGUiOwogICAg\nICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAg\nICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlcj4gYSA9IHEu\nZnJvbShFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlci5jbGFzcyk7CiAgICAg\nICAgSm9pbjxFbWJlZF9Db2xsX0ludGVnZXIsIEludGVnZXI+IGUgPSBhLmpv\naW4oRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXJfLmVtYmVkKS4KICAgICAg\nICAgICAgam9pbihFbWJlZF9Db2xsX0ludGVnZXJfLm90aGVySW50VmFscyk7\nCiAgICAgICAgZS5hbGlhcygiZSIpOwogICAgICAgIHEubXVsdGlzZWxlY3Qo\nZSwgYS5nZXQoRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXJfLmVtYmVkKS5n\nZXQoRW1iZWRfQ29sbF9JbnRlZ2VyXy5pbnRWYWwyKSk7CiAgICAgICAgcS5v\ncmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2Uo\ncSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJl\nZGRhYmxlUXVlcnk1NygpIHsKICAgICAgICBTdHJpbmcganBxbDEgPSAic2Vs\nZWN0IGUsIGEuZW1iZWQuaW50VmFsMiBmcm9tIEVudGl0eUFfRW1iZWRfQ29s\nbF9JbnRlZ2VyIGEgIiArCiAgICAgICAgICAgICIgLCBpbiAoYS5lbWJlZC5v\ndGhlckludFZhbHMpIGUgV0hFUkUgYS5lbWJlZC5vdGhlckludFZhbHMgSVMg\nTk9UIEVNUFRZIG9yZGVyIGJ5IGUiOwogICAgICAgIAogICAgICAgIFN0cmlu\nZyBqcHFsID0gInNlbGVjdCBlMSwgYS5lbWJlZC5pbnRWYWwyIGZyb20gRW50\naXR5QV9FbWJlZF9Db2xsX0ludGVnZXIgYSAiICsKICAgICAgICAgICAgIkpP\nSU4gYS5lbWJlZCBlIEpPSU4gZS5vdGhlckludFZhbHMgZTEgV0hFUkUgYS5l\nbWJlZC5vdGhlckludFZhbHMgSVMgTk9UIEVNUFRZIG9yZGVyIGJ5IGUxIjsK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgp\nOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXI+IGEg\nPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIuY2xhc3MpOwog\nICAgICAgIEpvaW48RW1iZWRfQ29sbF9JbnRlZ2VyLCBJbnRlZ2VyPiBlID0g\nYS5qb2luKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5lbWJlZCkuCiAg\nICAgICAgICAgIGpvaW4oRW1iZWRfQ29sbF9JbnRlZ2VyXy5vdGhlckludFZh\nbHMpOwogICAgICAgIGUuYWxpYXMoImUiKTsKICAgICAgICBxLm11bHRpc2Vs\nZWN0KGUsIGEuZ2V0KEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5lbWJl\nZCkuZ2V0KEVtYmVkX0NvbGxfSW50ZWdlcl8uaW50VmFsMikpOwogICAgICAg\nIHEud2hlcmUoY2IuaXNFbXB0eShhLmdldChFbnRpdHlBX0VtYmVkX0NvbGxf\nSW50ZWdlcl8uZW1iZWQpLmdldChFbWJlZF9Db2xsX0ludGVnZXJfLm90aGVy\nSW50VmFscykpLm5lZ2F0ZSgpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNj\nKGUpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTU4\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBhMC5pbnRW\nYWwyIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIgYSAiICsKICAg\nICAgICAgICAgICAgICJKT0lOIGEuZW1iZWQgYTAgSk9JTiBhMC5vdGhlcklu\ndFZhbHMgZSBXSEVSRSBleGlzdHMgKHNlbGVjdCBhIGZyb20gIiArCiAgICAg\nICAgICAgICAgICAiIEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyIGEgSk9J\nTiBhLmVtYmVkIGEwIEpPSU4gYTAub3RoZXJJbnRWYWxzIGUgIiArCiAgICAg\nICAgICAgICAgICAiIHdoZXJlIGUgPiAwKSBvcmRlciBieSBlIjsKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAg\nICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXI+IGEgPSBxLmZy\nb20oRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIuY2xhc3MpOwogICAgICAg\nIEpvaW48RW1iZWRfQ29sbF9JbnRlZ2VyLCBJbnRlZ2VyPiBlID0gYS5qb2lu\nKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5lbWJlZCkuCiAgICAgICAg\nICAgIGpvaW4oRW1iZWRfQ29sbF9JbnRlZ2VyXy5vdGhlckludFZhbHMpOwog\nICAgICAgIGUuYWxpYXMoImUiKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUs\nIGEuZ2V0KEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyXy5lbWJlZCkuZ2V0\nKEVtYmVkX0NvbGxfSW50ZWdlcl8uaW50VmFsMikpOwogICAgICAgIFN1YnF1\nZXJ5PEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyPiBzcSA9IHEuc3VicXVl\ncnkoRW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXIuY2xhc3MpOwogICAgICAg\nIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0ludGVnZXI+IGExID0gc3EuZnJv\nbShFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlci5jbGFzcyk7CiAgICAgICAg\nSm9pbjxFbWJlZF9Db2xsX0ludGVnZXIsIEludGVnZXI+IGUxID0gYTEuam9p\nbihFbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlcl8uZW1iZWQpLgogICAgICAg\nICAgICBqb2luKEVtYmVkX0NvbGxfSW50ZWdlcl8ub3RoZXJJbnRWYWxzKTsK\nICAgICAgICBzcS53aGVyZShjYi5ndChlMSwgMCkpOwogICAgICAgIHEud2hl\ncmUoY2IuZXhpc3RzKHNxKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhl\nKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTU5KCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gRW50aXR5QV9F\nbWJlZF9Db2xsX0ludGVnZXIgYSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxF\nbnRpdHlBX0VtYmVkX0NvbGxfSW50ZWdlcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5\nKEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyLmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyPiBhID0gcS5mcm9tKEVu\ndGl0eUFfRW1iZWRfQ29sbF9JbnRlZ2VyLmNsYXNzKTsKICAgICAgICBxLnNl\nbGVjdChhKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NjAo\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEuZW1iZWQgZnJv\nbSBFbnRpdHlBX0VtYmVkX0VtYmVkIGEiOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8RW1iZWRfRW1iZWQ+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9FbWJl\nZC5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkPiBh\nID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAg\nIHEuc2VsZWN0KGEuZ2V0KEVudGl0eUFfRW1iZWRfRW1iZWRfLmVtYmVkKSk7\nCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAg\nICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk2MSgpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYS5lbWJlZC5lbWJlZCBm\ncm9tIEVudGl0eUFfRW1iZWRfRW1iZWQgYSI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxFbWJlZD4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkLmNsYXNzKTsK\nICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20o\nRW50aXR5QV9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgcS5zZWxlY3Qo\nYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJlZF8uZW1iZWQpLmdldChFbWJlZF9F\nbWJlZF8uZW1iZWQpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBq\ncHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFi\nbGVRdWVyeTYyKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBh\nLmVtYmVkIGFzIGUgZnJvbSBFbnRpdHlBX0VtYmVkX0VtYmVkIGEgT1JERVIg\nQlkgZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbWJlZF9FbWJlZD4gcSA9\nIGNiLmNyZWF0ZVF1ZXJ5KEVtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9F\nbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgRXhwcmVzc2lvbjxFbWJlZF9F\nbWJlZD4gZSA9IGEuZ2V0KEVudGl0eUFfRW1iZWRfRW1iZWRfLmVtYmVkKTsK\nICAgICAgICBlLmFsaWFzKCJlIik7CiAgICAgICAgcS5zZWxlY3QoZSk7CiAg\nICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgYXNzZXJ0RXF1\naXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIC8vY29tcGFyaXNv\nbiBvZiBlbWJlZCBpcyBub3Qgc3VwcG9ydAogICAgQEFsbG93RmFpbHVyZSht\nZXNzYWdlPSIiKQogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVy\neTYzKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhLmVtYmVk\nIGZyb20gRW50aXR5QV9FbWJlZF9FbWJlZCBhIFdIRVJFIGEuZW1iZWQuZW1i\nZWQgSVMgTk9UIE5VTEwiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RW1iZWRf\nRW1iZWQ+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9FbWJlZC5jbGFzcyk7\nCiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9t\nKEVudGl0eUFfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0\nKGEuZ2V0KEVudGl0eUFfRW1iZWRfRW1iZWRfLmVtYmVkKSk7CiAgICAgICAg\ncS53aGVyZShjYi5pc05vdE51bGwoYS5nZXQoRW50aXR5QV9FbWJlZF9FbWJl\nZF8uZW1iZWQpLmdldChFbWJlZF9FbWJlZF8uZW1iZWQpKSk7CiAgICAgICAg\nZXhlY3V0ZUV4cGVjdEZhaWwocSwganBxbCk7CiAgICAgICAgZXhlY3V0ZUV4\ncGVjdEZhaWwoanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3RFbWJlZGRhYmxlUXVlcnk2NCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgYS5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWQgYSBX\nSEVSRSBleGlzdHMgIiArCiAgICAgICAgICAgICAgICAiIChzZWxlY3QgYS5l\nbWJlZC5lbWJlZCBmcm9tIEVudGl0eUFfRW1iZWRfRW1iZWQgYSB3aGVyZSBh\nLmVtYmVkIElTIE5PVCBOVUxMKSAiOwogICAgICAgIENyaXRlcmlhUXVlcnk8\nRW1iZWRfRW1iZWQ+IHEgPSBjYi5jcmVhdGVRdWVyeShFbWJlZF9FbWJlZC5j\nbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkPiBhID0g\ncS5mcm9tKEVudGl0eUFfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIHEu\nc2VsZWN0KGEuZ2V0KEVudGl0eUFfRW1iZWRfRW1iZWRfLmVtYmVkKSk7CiAg\nICAgICAgU3VicXVlcnk8RW1iZWQ+IHNxID0gcS5zdWJxdWVyeShFbWJlZC5j\nbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0VtYmVkPiBhMSA9\nIHNxLmZyb20oRW50aXR5QV9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAg\nc3Eud2hlcmUoY2IuaXNOb3ROdWxsKGExLmdldChFbnRpdHlBX0VtYmVkX0Vt\nYmVkXy5lbWJlZCkpKTsKICAgICAgICBzcS5zZWxlY3QoYTEuZ2V0KEVudGl0\neUFfRW1iZWRfRW1iZWRfLmVtYmVkKS5nZXQoRW1iZWRfRW1iZWRfLmVtYmVk\nKSk7CiAgICAgICAgcS53aGVyZShjYi5leGlzdHMoc3EpKTsKICAgICAgICBl\neGVjdXRlRXhwZWN0RmFpbChxLCBqcHFsKTsKICAgICAgICBleGVjdXRlRXhw\nZWN0RmFpbChqcHFsKTsgICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nRW1iZWRkYWJsZVF1ZXJ5NjUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAi\nc2VsZWN0IGEgZnJvbSBFbnRpdHlBX0VtYmVkX0VtYmVkIGEiOwogICAgICAg\nIENyaXRlcmlhUXVlcnk8RW50aXR5QV9FbWJlZF9FbWJlZD4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KEVudGl0eUFfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAg\nIFJvb3Q8RW50aXR5QV9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlB\nX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChhKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NjYoKSB7CiAgICAgICAg\nU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5lbWJlZC5p\nbnRWYWwyIGZyb20gIiArCiAgICAgICAgICAgICAgICAiIEVudGl0eUFfQ29s\nbF9FbWJlZF9FbWJlZCBhLCBpbiAoYS5lbWJlZHMpIGUgb3JkZXIgYnkgZS5p\nbnRWYWwzIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVh\ndGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0Vt\nYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFz\ncyk7CiAgICAgICAgTGlzdEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVk\nLCBFbWJlZF9FbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRf\nRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdl\ndChFbWJlZF9FbWJlZF8uaW50VmFsMykpKTsKICAgICAgICBxLm11bHRpc2Vs\nZWN0KGUsIGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwyKSwgZS5nZXQoRW1i\nZWRfRW1iZWRfLmVtYmVkKS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTY4KCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBhLmlkIGZyb20gRW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkIGEsIGluIChhLmVtYmVkcykgZSBvcmRlciBieSBh\nLmlkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVR\ndWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVk\nPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7\nCiAgICAgICAgTGlzdEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBF\nbWJlZF9FbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWRfLmVtYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhhLmdldChF\nbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmlkKSkpOwogICAgICAgIHEubXVs\ndGlzZWxlY3QoZSwgYS5nZXQoRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5p\nZCkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5Njko\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGEuaWQgZnJv\nbSBFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQgYSwgaW4gKGEuZW1iZWRzKSBl\nIG9yZGVyIGJ5IGUgZGVzYyI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBx\nID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0eUFfQ29s\nbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRf\nRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0eUFfQ29sbF9F\nbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIGUuYWxpYXMoImUi\nKTsKICAgICAgICBxLm9yZGVyQnkoY2IuZGVzYyhlKSk7CiAgICAgICAgcS5t\ndWx0aXNlbGVjdChlLCBhLmdldChFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRf\nLmlkKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk3\nMCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5pbnRW\nYWwxLCBlLmVtYmVkLmludFZhbDIgZnJvbSAiICsKICAgICAgICAgICAgICAg\nICIgRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEsIGluIChhLmVtYmVkcykg\nZSBXSEVSRSBhLmVtYmVkcyBJUyBOT1QgRU1QVFkgIiArCiAgICAgICAgICAg\nICAgICAiIG9yZGVyIGJ5IGUuaW50VmFsMyI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4o\nRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEu\nb3JkZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7\nCiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8u\naW50VmFsMSksIGUuZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVk\nXy5pbnRWYWwyKSk7CiAgICAgICAgcS53aGVyZShjYi5pc0VtcHR5KGEuZ2V0\nKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKSkubmVnYXRlKCkp\nOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQog\nICAgCiAgICAvLyBjb21wYXJpc29uIG9mIGVtYmVkZGFibGUgaXMgbm90IHN1\ncHBvcnRlZAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTcx\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZh\nbDEsIGUuZW1iZWQuaW50VmFsMiBmcm9tICIgKwogICAgICAgICAgICAgICAg\nIiBFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQgYSwgaW4gKGEuZW1iZWRzKSBl\nIFdIRVJFIGV4aXN0cyAoc2VsZWN0IGEuZW1iZWRzICIgKwogICAgICAgICAg\nICAgICAgIiBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhKSBvcmRl\nciBieSBlLmludFZhbDMiOwogICAgICAgICAgICAKICAgICAgICBDcml0ZXJp\nYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8\nRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48RW50\naXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZSA9IGEuam9p\nbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAg\ncS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMykp\nKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVkX0VtYmVk\nXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRfLmVtYmVkKS5nZXQoRW1i\nZWRfLmludFZhbDIpKTsKICAgICAgICBTdWJxdWVyeTxMaXN0PiBzcSA9IHEu\nc3VicXVlcnkoTGlzdC5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWQ+IGExID0gc3EuZnJvbShFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIEV4cHJlc3Npb24gZTIgPSBhMS5n\nZXQoRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAg\nIHNxLnNlbGVjdChlMik7CiAgICAgICAgcS53aGVyZShjYi5leGlzdHMoc3Ep\nKTsKICAgICAgICBleGVjdXRlRXhwZWN0RmFpbChxLCBqcHFsKTsKICAgICAg\nICBleGVjdXRlRXhwZWN0RmFpbChqcHFsKTsKICAgIH0KICAgIAogICAgcHVi\nbGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTcyKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZhbDEsIGUuZW1iZWQuaW50\nVmFsMiBmcm9tICIgKwogICAgICAgICAgICAgICAgIiBFbnRpdHlBX0NvbGxf\nRW1iZWRfRW1iZWQgYSwgaW4gKGEuZW1iZWRzKSBlIFdIRVJFIGUuaW50VmFs\nMSA8IEFOWSAoc2VsZWN0IGUyLmludFZhbDIgIiArCiAgICAgICAgICAgICAg\nICAiIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGExLCBpbiAoYTEu\nZW1iZWRzKSBlMikgIiArCiAgICAgICAgICAgICAgICAiIG9yZGVyIGJ5IGUu\naW50VmFsMyI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3Jl\nYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9F\nbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQuY2xh\nc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJl\nZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVk\nX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoZS5n\nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7CiAgICAgICAgcS5tdWx0aXNl\nbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGUuZ2V0KEVt\nYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVkXy5pbnRWYWwyKSk7CiAgICAg\nICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KEludGVnZXIu\nY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVk\nPiBhMSA9IHNxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNz\nKTsKICAgICAgICBKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1i\nZWRfRW1iZWQ+IGUyID0gYTEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWRfLmVtYmVkcyk7CiAgICAgICAgc3Euc2VsZWN0KGUyLmdldChFbWJlZF9F\nbWJlZF8uaW50VmFsMikpOwogICAgICAgIHEud2hlcmUoY2IubHQoZS5nZXQo\nRW1iZWRfRW1iZWRfLmludFZhbDEpLCBjYi5hbnkoc3EpKSk7CiAgICAgICAg\nYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk3MygpIHsKICAgICAgICBT\ndHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5pbnRWYWwxLCBlLmVtYmVkLmlu\ndFZhbDIgZnJvbSAiICsKICAgICAgICAgICAgICAgICIgRW50aXR5QV9Db2xs\nX0VtYmVkX0VtYmVkIGEsIGluIChhLmVtYmVkcykgZSBXSEVSRSBlLmludFZh\nbDEgPCBBTEwgKHNlbGVjdCBlMi5pbnRWYWwyICIgKwogICAgICAgICAgICAg\nICAgIiBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhMSwgaW4gKGEx\nLmVtYmVkcykgZTIpICIgKwogICAgICAgICAgICAgICAgIiBvcmRlciBieSBl\nLmludFZhbDMiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRf\nRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNs\nYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWQsIEVtYmVkX0VtYmVkPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9FbWJl\nZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUu\nZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwzKSkpOwogICAgICAgIHEubXVsdGlz\nZWxlY3QoZSwgZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBlLmdldChF\nbWJlZF9FbWJlZF8uZW1iZWQpLmdldChFbWJlZF8uaW50VmFsMikpOwogICAg\nICAgIFN1YnF1ZXJ5PEludGVnZXI+IHNxID0gcS5zdWJxdWVyeShJbnRlZ2Vy\nLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJl\nZD4gYTEgPSBzcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFz\ncyk7CiAgICAgICAgSm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVt\nYmVkX0VtYmVkPiBlMiA9IGExLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX0Vt\nYmVkXy5lbWJlZHMpOwogICAgICAgIHNxLnNlbGVjdChlMi5nZXQoRW1iZWRf\nRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBxLndoZXJlKGNiLmx0KGUuZ2V0\nKEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwgY2IuYWxsKHNxKSkpOwogICAgICAg\nIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5NzQoKSB7CiAgICAgICAg\nU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5lbWJlZC5p\nbnRWYWwyIGZyb20gIiArCiAgICAgICAgICAgICAgICAiIEVudGl0eUFfQ29s\nbF9FbWJlZF9FbWJlZCBhLCBpbiAoYS5lbWJlZHMpIGUgV0hFUkUgZS5pbnRW\nYWwxIDw9IFNPTUUgIiArCiAgICAgICAgICAgICAgICAiIChzZWxlY3QgZTIu\naW50VmFsMiBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhMSwgaW4g\nKGExLmVtYmVkcykgZTIpICIgKwogICAgICAgICAgICAgICAgIiBvcmRlciBi\neSBlLmludFZhbDMiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1i\nZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVk\nLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRf\nRW1iZWQsIEVtYmVkX0VtYmVkPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9F\nbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNj\nKGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwzKSkpOwogICAgICAgIHEubXVs\ndGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBlLmdl\ndChFbWJlZF9FbWJlZF8uZW1iZWQpLmdldChFbWJlZF8uaW50VmFsMikpOwog\nICAgICAgIFN1YnF1ZXJ5PEludGVnZXI+IHNxID0gcS5zdWJxdWVyeShJbnRl\nZ2VyLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9F\nbWJlZD4gYTEgPSBzcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5j\nbGFzcyk7CiAgICAgICAgSm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQs\nIEVtYmVkX0VtYmVkPiBlMiA9IGExLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVk\nX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHNxLnNlbGVjdChlMi5nZXQoRW1i\nZWRfRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBxLndoZXJlKGNiLmxlKGUu\nZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwgY2Iuc29tZShzcSkpKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTc1KCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZhbDEsIGUuZW1i\nZWQuaW50VmFsMiBmcm9tICIgKwogICAgICAgICAgICAgICAgIiBFbnRpdHlB\nX0NvbGxfRW1iZWRfRW1iZWQgYSwgaW4gKGEuZW1iZWRzKSBlIFdIRVJFIGUu\naW50VmFsMSA+IEFMTCAoc2VsZWN0IGUyLmludFZhbDIgIiArCiAgICAgICAg\nICAgICAgICAiIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGExLCBp\nbiAoYTEuZW1iZWRzKSBlMikgb3JkZXIgYnkgZS5pbnRWYWwzIjsKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAg\nICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9t\nKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlz\ndEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4g\nZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7\nCiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF9FbWJlZF8u\naW50VmFsMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVt\nYmVkX0VtYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRfLmVtYmVk\nKS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBTdWJxdWVyeTxJbnRl\nZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50ZWdlci5jbGFzcyk7CiAgICAgICAg\nUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGExID0gc3EuZnJvbShF\nbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIEpvaW48\nRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZTIgPSBh\nMS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAg\nICAgICBzcS5zZWxlY3QoZTIuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwyKSk7\nCiAgICAgICAgcS53aGVyZShjYi5ndChlLmdldChFbWJlZF9FbWJlZF8uaW50\nVmFsMSksIGNiLmFsbChzcSkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRk\nYWJsZVF1ZXJ5NzYoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGUsIGUuaW50VmFsMSwgZS5lbWJlZC5pbnRWYWwyIGZyb20gRW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkIGEgIiArCiAgICAgICAgICAgICAgICAiICwgaW4g\nKGEuZW1iZWRzKSBlIFdIRVJFIGUuaW50VmFsMSA8IEFOWSAoc2VsZWN0IGUu\naW50VmFsMiAiICsKICAgICAgICAgICAgICAgICIgZnJvbSBFbnRpdHlBX0Nv\nbGxfRW1iZWRfRW1iZWQgYSwgaW4gKGEuZW1iZWRzKSBlKSBvcmRlciBieSBl\nLmludFZhbDMiOwoKICAgICAgICBTdHJpbmcgZXhwZWN0ZWRTUUwgPSAiU0VM\nRUNUIHQxLkludFZhbDF4LCB0MS5JbnRWYWwyeCwgdDEuSW50VmFsM3gsIHQx\nLmludFZhbDEsIHQxLmludFZhbDIsIHQxLmludFZhbDMgIiArIAogICAgICAg\nICJGUk9NIFRCTDFBIHQwIElOTkVSIEpPSU4gVEJMMUFfZW1iZWRzIHQxIE9O\nIHQwLmlkID0gdDEuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVEX0lEIFdIRVJF\nICIgKyAKICAgICAgICAiKHQxLmludFZhbDEgPCBBTlkgKCIgKyAKICAgICAg\nICAiU0VMRUNUIHQzLmludFZhbDIgRlJPTSBUQkwxQSB0MiAiICsKICAgICAg\nICAiSU5ORVIgSk9JTiBUQkwxQV9lbWJlZHMgdDMgT04gdDIuaWQgPSB0My5F\nTlRJVFlBX0NPTExfRU1CRURfRU1CRURfSUQpKSAiICsgCiAgICAgICAgIk9S\nREVSIEJZIHQxLmludFZhbDMgQVNDIjsKCiAgICAgICAgQ3JpdGVyaWFRdWVy\neTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0NvbGxf\nRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4oRW50\naXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEub3Jk\nZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7CiAg\nICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8uaW50\nVmFsMSksIGUuZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVkXy5p\nbnRWYWwyKSk7CiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1\nYnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkPiBhMSA9IHNxLmZyb20oRW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfQ29sbF9F\nbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUyID0gYTEuam9pbihFbnRpdHlB\nX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgc3Euc2VsZWN0\nKGUyLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMikpOwogICAgICAgIHEud2hl\ncmUoY2IubHQoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBjYi5hbnko\nc3EpKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCwgZXhwZWN0ZWRTUUwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RFbWJlZGRhYmxlUXVlcnk3NygpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgZSwgZS5pbnRWYWwxLCBlLmVtYmVkLmludFZhbDIgZnJvbSBF\nbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQgYSAiICsKICAgICAgICAgICAgICAg\nICIgLCBpbiAoYS5lbWJlZHMpIGUgV0hFUkUgZS5pbnRWYWwxIDwgQUxMIChz\nZWxlY3QgZS5pbnRWYWwyICIgKwogICAgICAgICAgICAgICAgIiBmcm9tIEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhLCBpbiAoYS5lbWJlZHMpIGUpIG9y\nZGVyIGJ5IGUuaW50VmFsMyI7CgogICAgICAgIFN0cmluZyBleHBlY3RlZFNR\nTCA9ICJTRUxFQ1QgdDEuSW50VmFsMXgsIHQxLkludFZhbDJ4LCB0MS5JbnRW\nYWwzeCwgdDEuaW50VmFsMSwgdDEuaW50VmFsMiwgdDEuaW50VmFsMyAiICsg\nCiAgICAgICAgIkZST00gVEJMMUEgdDAgSU5ORVIgSk9JTiBUQkwxQV9lbWJl\nZHMgdDEgT04gdDAuaWQgPSB0MS5FTlRJVFlBX0NPTExfRU1CRURfRU1CRURf\nSUQgIiArCiAgICAgICAgIldIRVJFICh0MS5pbnRWYWwxIDwgQUxMICgiICsg\nCiAgICAgICAgIlNFTEVDVCB0My5pbnRWYWwyIEZST00gVEJMMUEgdDIgSU5O\nRVIgSk9JTiBUQkwxQV9lbWJlZHMgdDMgIiArCiAgICAgICAgIk9OIHQyLmlk\nID0gdDMuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVEX0lEKSkgIiArIAogICAg\nICAgICJPUkRFUiBCWSB0MS5pbnRWYWwzIEFTQyI7CgogICAgICAgIENyaXRl\ncmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9v\ndDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5\nQV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxF\nbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0VtYmVkPiBlID0gYS5q\nb2luKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAg\nICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwz\nKSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgZS5nZXQoRW1iZWRfRW1i\nZWRfLmludFZhbDEpLCBlLmdldChFbWJlZF9FbWJlZF8uZW1iZWQpLmdldChF\nbWJlZF8uaW50VmFsMikpOwogICAgICAgIFN1YnF1ZXJ5PEludGVnZXI+IHNx\nID0gcS5zdWJxdWVyeShJbnRlZ2VyLmNsYXNzKTsKICAgICAgICBSb290PEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYTEgPSBzcS5mcm9tKEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgSm9pbjxFbnRpdHlB\nX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0VtYmVkPiBlMiA9IGExLmpvaW4o\nRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHNx\nLnNlbGVjdChlMi5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDIpKTsKICAgICAg\nICBxLndoZXJlKGNiLmx0KGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwg\nY2IuYWxsKHNxKSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpw\ncWwsIGV4cGVjdGVkU1FMKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdEVtYmVkZGFibGVRdWVyeTc4KCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gInNlbGVjdCBlLCBlLmludFZhbDEsIGUuZW1iZWQuaW50VmFsMiBmcm9t\nICIgKwogICAgICAgICAgICAgICAgIiBFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWQgYSwgaW4gKGEuZW1iZWRzKSBlIFdIRVJFIGUuaW50VmFsMSA8PSBTT01F\nICIgKwogICAgICAgICAgICAgICAgIiAoc2VsZWN0IGUuaW50VmFsMiBmcm9t\nIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhLCBpbiAoYS5lbWJlZHMpIGUp\nICIgKwogICAgICAgICAgICAgICAgIiBvcmRlciBieSBlLmludFZhbDMiOwog\nICAgICAgIFN0cmluZyBleHBlY3RlZFNRTCA9ICJTRUxFQ1QgdDEuSW50VmFs\nMXgsIHQxLkludFZhbDJ4LCB0MS5JbnRWYWwzeCwgdDEuaW50VmFsMSwgdDEu\naW50VmFsMiwgdDEuaW50VmFsMyAiICsgCiAgICAgICAgIkZST00gVEJMMUEg\ndDAgSU5ORVIgSk9JTiBUQkwxQV9lbWJlZHMgdDEgT04gdDAuaWQgPSB0MS5F\nTlRJVFlBX0NPTExfRU1CRURfRU1CRURfSUQgIiArCiAgICAgICAgIldIRVJF\nICh0MS5pbnRWYWwxIDw9IEFOWSAoIiArIAogICAgICAgICJTRUxFQ1QgdDMu\naW50VmFsMiBGUk9NIFRCTDFBIHQyIElOTkVSIEpPSU4gVEJMMUFfZW1iZWRz\nIHQzIE9OIHQyLmlkID0gdDMuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVEX0lE\nKSkgIiArIAogICAgICAgICJPUkRFUiBCWSB0MS5pbnRWYWwzIEFTQyI7CiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsK\nICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEu\nZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAg\nIExpc3RKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1i\nZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJl\nZHMpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfRW1i\nZWRfLmludFZhbDMpKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdl\ndChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGUuZ2V0KEVtYmVkX0VtYmVkXy5l\nbWJlZCkuZ2V0KEVtYmVkXy5pbnRWYWwyKSk7CiAgICAgICAgU3VicXVlcnk8\nSW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAg\nICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhMSA9IHNxLmZy\nb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBK\nb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUy\nID0gYTEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7\nCiAgICAgICAgc3Euc2VsZWN0KGUyLmdldChFbWJlZF9FbWJlZF8uaW50VmFs\nMikpOwogICAgICAgIHEud2hlcmUoY2IubGUoZS5nZXQoRW1iZWRfRW1iZWRf\nLmludFZhbDEpLCBjYi5zb21lKHNxKSkpOwogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwsIGV4cGVjdGVkU1FMKTsKICAgIH0KICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTc5KCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZhbDEsIGUuZW1iZWQu\naW50VmFsMiBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhICIgKwog\nICAgICAgICAgICAgICAgIiAsIGluIChhLmVtYmVkcykgZSBXSEVSRSBlLmlu\ndFZhbDEgPiBBTEwgKHNlbGVjdCBlLmludFZhbDIgIiArCiAgICAgICAgICAg\nICAgICAiIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEsIGluIChh\nLmVtYmVkcykgZSkgb3JkZXIgYnkgZS5pbnRWYWwzIjsKICAgICAgICBTdHJp\nbmcgZXhwZWN0ZWRTUUwgPSAiU0VMRUNUIHQxLkludFZhbDF4LCB0MS5JbnRW\nYWwyeCwgdDEuSW50VmFsM3gsIHQxLmludFZhbDEsIHQxLmludFZhbDIsIHQx\nLmludFZhbDMgIiArIAogICAgICAgICAgICAiRlJPTSBUQkwxQSB0MCBJTk5F\nUiBKT0lOIFRCTDFBX2VtYmVkcyB0MSBPTiB0MC5pZCA9IHQxLkVOVElUWUFf\nQ09MTF9FTUJFRF9FTUJFRF9JRCAiICsKICAgICAgICAgICAgIldIRVJFICh0\nMS5pbnRWYWwxID4gQUxMICgiICsgCiAgICAgICAgICAgICJTRUxFQ1QgdDMu\naW50VmFsMiBGUk9NIFRCTDFBIHQyIElOTkVSIEpPSU4gVEJMMUFfZW1iZWRz\nIHQzIE9OIHQyLmlkID0gdDMuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVEX0lE\nKSkgIiArIAogICAgICAgICAgICAiT1JERVIgQlkgdDEuaW50VmFsMyBBU0Mi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5\nKCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGEg\nPSBxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAg\nICAgICBMaXN0Sm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVk\nX0VtYmVkPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8u\nZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0KEVtYmVk\nX0VtYmVkXy5pbnRWYWwzKSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwg\nZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBlLmdldChFbWJlZF9FbWJl\nZF8uZW1iZWQpLmdldChFbWJlZF8uaW50VmFsMikpOwogICAgICAgIFN1YnF1\nZXJ5PEludGVnZXI+IHNxID0gcS5zdWJxdWVyeShJbnRlZ2VyLmNsYXNzKTsK\nICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYTEgPSBz\ncS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAg\nICAgSm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVtYmVkX0VtYmVk\nPiBlMiA9IGExLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJl\nZHMpOwogICAgICAgIHNxLnNlbGVjdChlMi5nZXQoRW1iZWRfRW1iZWRfLmlu\ndFZhbDIpKTsKICAgICAgICBxLndoZXJlKGNiLmd0KGUuZ2V0KEVtYmVkX0Vt\nYmVkXy5pbnRWYWwxKSwgY2IuYWxsKHNxKSkpOwogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwsIGV4cGVjdGVkU1FMKTsKICAgIH0KICAgIAog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTgwKCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZhbDEsIGUuZW1i\nZWQuaW50VmFsMiBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCBhICIg\nKwogICAgICAgICAgICAgICAgIiAsIGluIChhLmVtYmVkcykgZSBXSEVSRSBl\nLmludFZhbDEgPCBBTlkgKHNlbGVjdCBlMi5pbnRWYWwyICIgKwogICAgICAg\nICAgICAgICAgIiBmcm9tIGluKGEuZW1iZWRzKSBlMikgb3JkZXIgYnkgZS5p\nbnRWYWwzIjsKICAgICAgICBTdHJpbmcgZXhwZWN0ZWRTUUwgPSAiU0VMRUNU\nIHQxLkludFZhbDF4LCB0MS5JbnRWYWwyeCwgdDEuSW50VmFsM3gsIHQxLmlu\ndFZhbDEsIHQxLmludFZhbDIsIHQxLmludFZhbDMgIiArIAogICAgICAgICJG\nUk9NIFRCTDFBIHQwIElOTkVSIEpPSU4gVEJMMUFfZW1iZWRzIHQxIE9OIHQw\nLmlkID0gdDEuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVEX0lEIFdIRVJFICIg\nKyAKICAgICAgICAiKHQxLmludFZhbDEgPCBBTlkgKFNFTEVDVCB0Mi5pbnRW\nYWwyIEZST00gVEJMMUFfZW1iZWRzIHQyICIgKyAKICAgICAgICAiV0hFUkUg\nKHQwLmlkID0gdDIuRU5USVRZQV9DT0xMX0VNQkVEX0VNQkVEX0lEKSkpIE9S\nREVSIEJZIHQxLmludFZhbDMgQVNDIjsKCiAgICAgICAgQ3JpdGVyaWFRdWVy\neTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlBX0NvbGxf\nRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVudGl0eUFf\nQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBhLmpvaW4oRW50\naXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEub3Jk\nZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7CiAg\nICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8uaW50\nVmFsMSksIGUuZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVkXy5p\nbnRWYWwyKSk7CiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1\nYnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9D\nb2xsX0VtYmVkX0VtYmVkPiBhMSA9IHNxLmNvcnJlbGF0ZShhKTsKICAgICAg\nICBKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+\nIGUyID0gYTEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVk\ncyk7CiAgICAgICAgc3Euc2VsZWN0KGUyLmdldChFbWJlZF9FbWJlZF8uaW50\nVmFsMikpOwogICAgICAgIHEud2hlcmUoY2IubHQoZS5nZXQoRW1iZWRfRW1i\nZWRfLmludFZhbDEpLCBjYi5hbnkoc3EpKSk7CiAgICAgICAgYXNzZXJ0RXF1\naXZhbGVuY2UocSwganBxbCwgZXhwZWN0ZWRTUUwpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5ODEoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5lbWJl\nZC5pbnRWYWwyIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEgIiAr\nCiAgICAgICAgICAgICAgICAiICwgaW4gKGEuZW1iZWRzKSBlIFdIRVJFIGUu\naW50VmFsMSA8IEFMTCAoc2VsZWN0IGUyLmludFZhbDIgIiArCiAgICAgICAg\nICAgICAgICAiIGZyb20gYS5lbWJlZHMgZTIpIG9yZGVyIGJ5IGUuaW50VmFs\nMyI7CiAgICAgICAgU3RyaW5nIGV4cGVjdGVkU1FMID0gIlNFTEVDVCB0MS5J\nbnRWYWwxeCwgdDEuSW50VmFsMngsIHQxLkludFZhbDN4LCB0MS5pbnRWYWwx\nLCB0MS5pbnRWYWwyLCB0MS5pbnRWYWwzICIgKyAKICAgICAgICAiRlJPTSBU\nQkwxQSB0MCBJTk5FUiBKT0lOIFRCTDFBX2VtYmVkcyB0MSBPTiB0MC5pZCA9\nIHQxLkVOVElUWUFfQ09MTF9FTUJFRF9FTUJFRF9JRCBXSEVSRSAiICsgCiAg\nICAgICAgIih0MS5pbnRWYWwxIDwgQUxMIChTRUxFQ1QgdDIuaW50VmFsMiBG\nUk9NIFRCTDFBX2VtYmVkcyB0MiAiICsgCiAgICAgICAgIldIRVJFICh0MC5p\nZCA9IHQyLkVOVElUWUFfQ09MTF9FTUJFRF9FTUJFRF9JRCkpKSAiICsgCiAg\nICAgICAgIk9SREVSIEJZIHQxLmludFZhbDMgQVNDIjsKCiAgICAgICAgQ3Jp\ndGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBS\nb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEuZnJvbShFbnRp\ndHlBX0NvbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2lu\nPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1iZWQ+IGUgPSBh\nLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAg\nICAgIHEub3JkZXJCeShjYi5hc2MoZS5nZXQoRW1iZWRfRW1iZWRfLmludFZh\nbDMpKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdldChFbWJlZF9F\nbWJlZF8uaW50VmFsMSksIGUuZ2V0KEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0\nKEVtYmVkXy5pbnRWYWwyKSk7CiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4g\nc3EgPSBxLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8\nRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhMSA9IHNxLmNvcnJlbGF0ZShh\nKTsKICAgICAgICBKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1i\nZWRfRW1iZWQ+IGUyID0gYTEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1i\nZWRfLmVtYmVkcyk7CiAgICAgICAgc3Euc2VsZWN0KGUyLmdldChFbWJlZF9F\nbWJlZF8uaW50VmFsMikpOwogICAgICAgIHEud2hlcmUoY2IubHQoZS5nZXQo\nRW1iZWRfRW1iZWRfLmludFZhbDEpLCBjYi5hbGwoc3EpKSk7CiAgICAgICAg\nYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCwgZXhwZWN0ZWRTUUwpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5ODIo\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFs\nMSwgZS5lbWJlZC5pbnRWYWwyIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0Vt\nYmVkIGEgIiArCiAgICAgICAgICAgICAgICAiICwgaW4gKGEuZW1iZWRzKSBl\nIFdIRVJFIGUuaW50VmFsMSA8PSBTT01FIChzZWxlY3QgZTIuaW50VmFsMiAi\nICsKICAgICAgICAgICAgICAgICIgZnJvbSBpbihhLmVtYmVkcykgZTIpIG9y\nZGVyIGJ5IGUuaW50VmFsMyI7CiAgICAgICAgU3RyaW5nIGV4cGVjdGVkU1FM\nID0gIlNFTEVDVCB0MS5JbnRWYWwxeCwgdDEuSW50VmFsMngsIHQxLkludFZh\nbDN4LCB0MS5pbnRWYWwxLCB0MS5pbnRWYWwyLCB0MS5pbnRWYWwzICIgKyAK\nICAgICAgICAiRlJPTSBUQkwxQSB0MCBJTk5FUiBKT0lOIFRCTDFBX2VtYmVk\ncyB0MSBPTiB0MC5pZCA9IHQxLkVOVElUWUFfQ09MTF9FTUJFRF9FTUJFRF9J\nRCBXSEVSRSAiICsgCiAgICAgICAgIih0MS5pbnRWYWwxIDw9IEFOWSAoU0VM\nRUNUIHQyLmludFZhbDIgRlJPTSBUQkwxQV9lbWJlZHMgdDIgIiArIAogICAg\nICAgICJXSEVSRSAodDAuaWQgPSB0Mi5FTlRJVFlBX0NPTExfRU1CRURfRU1C\nRURfSUQpKSkgIiArIAogICAgICAgICJPUkRFUiBCWSB0MS5pbnRWYWwzIEFT\nQyI7CgogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1\nZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+\nIGEgPSBxLmZyb20oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsK\nICAgICAgICBMaXN0Sm9pbjxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQsIEVt\nYmVkX0VtYmVkPiBlID0gYS5qb2luKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJl\nZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGUuZ2V0KEVt\nYmVkX0VtYmVkXy5pbnRWYWwzKSkpOwogICAgICAgIHEubXVsdGlzZWxlY3Qo\nZSwgZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDEpLCBlLmdldChFbWJlZF9F\nbWJlZF8uZW1iZWQpLmdldChFbWJlZF8uaW50VmFsMikpOwogICAgICAgIFN1\nYnF1ZXJ5PEludGVnZXI+IHNxID0gcS5zdWJxdWVyeShJbnRlZ2VyLmNsYXNz\nKTsKICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYTEg\nPSBzcS5jb3JyZWxhdGUoYSk7CiAgICAgICAgSm9pbjxFbnRpdHlBX0NvbGxf\nRW1iZWRfRW1iZWQsIEVtYmVkX0VtYmVkPiBlMiA9IGExLmpvaW4oRW50aXR5\nQV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHNxLnNlbGVj\ndChlMi5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBxLndo\nZXJlKGNiLmxlKGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwgY2Iuc29t\nZShzcSkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsLCBl\neHBlY3RlZFNRTCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RF\nbWJlZGRhYmxlUXVlcnk4MygpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJz\nZWxlY3QgZSwgZS5pbnRWYWwxLCBlLmVtYmVkLmludFZhbDIgZnJvbSBFbnRp\ndHlBX0NvbGxfRW1iZWRfRW1iZWQgYSAiICsKICAgICAgICAgICAgICAgICIg\nLCBpbiAoYS5lbWJlZHMpIGUgV0hFUkUgZS5pbnRWYWwxID4gQUxMIChzZWxl\nY3QgZTIuaW50VmFsMiAiICsKICAgICAgICAgICAgICAgICIgZnJvbSBhLmVt\nYmVkcyBlMikgb3JkZXIgYnkgZS5pbnRWYWwzIjsKICAgICAgICBTdHJpbmcg\nZXhwZWN0ZWRTUUwgPSAiU0VMRUNUIHQxLkludFZhbDF4LCB0MS5JbnRWYWwy\neCwgdDEuSW50VmFsM3gsIHQxLmludFZhbDEsIHQxLmludFZhbDIsIHQxLmlu\ndFZhbDMgIiArIAogICAgICAgICJGUk9NIFRCTDFBIHQwIElOTkVSIEpPSU4g\nVEJMMUFfZW1iZWRzIHQxIE9OIHQwLmlkID0gdDEuRU5USVRZQV9DT0xMX0VN\nQkVEX0VNQkVEX0lEIFdIRVJFICIgKyAKICAgICAgICAiKHQxLmludFZhbDEg\nPiBBTEwgKFNFTEVDVCB0Mi5pbnRWYWwyIEZST00gVEJMMUFfZW1iZWRzIHQy\nICIgKyAKICAgICAgICAiV0hFUkUgKHQwLmlkID0gdDIuRU5USVRZQV9DT0xM\nX0VNQkVEX0VNQkVEX0lEKSkpICIgKyAKICAgICAgICAiT1JERVIgQlkgdDEu\naW50VmFsMyBBU0MiOwoKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBj\nYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJl\nZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48RW50aXR5QV9Db2xsX0VtYmVk\nX0VtYmVkLCBFbWJlZF9FbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0NvbGxf\nRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFz\nYyhlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMykpKTsKICAgICAgICBxLm11\nbHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwgZS5n\nZXQoRW1iZWRfRW1iZWRfLmVtYmVkKS5nZXQoRW1iZWRfLmludFZhbDIpKTsK\nICAgICAgICBTdWJxdWVyeTxJbnRlZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50\nZWdlci5jbGFzcyk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0NvbGxfRW1iZWRf\nRW1iZWQ+IGExID0gc3EuY29ycmVsYXRlKGEpOwogICAgICAgIEpvaW48RW50\naXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZTIgPSBhMS5q\nb2luKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKTsKICAgICAg\nICBzcS5zZWxlY3QoZTIuZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwyKSk7CiAg\nICAgICAgcS53aGVyZShjYi5ndChlLmdldChFbWJlZF9FbWJlZF8uaW50VmFs\nMSksIGNiLmFsbChzcSkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShx\nLCBqcHFsLCBleHBlY3RlZFNRTCk7CiAgICB9CiAgICAKICAgIEBBbGxvd0Zh\naWx1cmUobWVzc2FnZT0iSlBRTCBwYXJzZSBlcnJvciIpCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5ODQoKSB7CiAgICAgICAgU3RyaW5n\nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5lbWJlZC5pbnRWYWwy\nIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEsICIgKwogICAgICAg\nICAgICAgICAgIiBpbiAoYS5lbWJlZHMpIGUgV0hFUkUgOmVtYmVkMiBNRU1C\nRVIgT0YgYS5lbWJlZHMgb3JkZXIgYnkgZS5pbnRWYWwzIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRlVHVwbGVRdWVyeSgp\nOwogICAgICAgIFJvb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhID0g\ncS5mcm9tKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAg\nICAgTGlzdEpvaW48RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9F\nbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVt\nYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF9F\nbWJlZF8uaW50VmFsMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUu\nZ2V0KEVtYmVkX0VtYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRf\nLmVtYmVkKS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBQYXJhbWV0\nZXJFeHByZXNzaW9uPEVtYmVkX0VtYmVkPiBwYXJhbTEgPSBjYi5wYXJhbWV0\nZXIoRW1iZWRfRW1iZWQuY2xhc3MsICJlbWJlZDIiKTsKICAgICAgICBxLndo\nZXJlKGNiLmlzTWVtYmVyKHBhcmFtMSwgYS5nZXQoRW50aXR5QV9Db2xsX0Vt\nYmVkX0VtYmVkXy5lbWJlZHMpKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UocSwganBxbCwgbmV3IFN0cmluZ1tdeyJlbWJlZDIifSwgbmV3IE9iamVj\ndFtde25ldyBFbWJlZF9FbWJlZCgpfSk7CiAgICB9CiAgICAKICAgIEBBbGxv\nd0ZhaWx1cmUobWVzc2FnZT0iSlBRTCBwYXJzZSBlcnJvciIpCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5ODUoKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5lbWJlZC5pbnRW\nYWwyIGZyb20gRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkIGEgIiArCiAgICAg\nICAgICAgICAgICAiIGxlZnQgam9pbiBhLmVtYmVkcyBlIFdIRVJFIDplbWJl\nZDIgTUVNQkVSIE9GIGEuZW1iZWRzIG9yZGVyIGJ5IGUuaW50VmFsMyI7CiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsK\nICAgICAgICBSb290PEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gYSA9IHEu\nZnJvbShFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQuY2xhc3MpOwogICAgICAg\nIExpc3RKb2luPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZCwgRW1iZWRfRW1i\nZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkXy5lbWJl\nZHMsIEpvaW5UeXBlLkxFRlQpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2Mo\nZS5nZXQoRW1iZWRfRW1iZWRfLmludFZhbDMpKSk7CiAgICAgICAgcS5tdWx0\naXNlbGVjdChlLCBlLmdldChFbWJlZF9FbWJlZF8uaW50VmFsMSksIGUuZ2V0\nKEVtYmVkX0VtYmVkXy5lbWJlZCkuZ2V0KEVtYmVkXy5pbnRWYWwyKSk7CiAg\nICAgICAgUGFyYW1ldGVyRXhwcmVzc2lvbjxFbWJlZF9FbWJlZD4gcGFyYW0x\nID0gY2IucGFyYW1ldGVyKEVtYmVkX0VtYmVkLmNsYXNzLCAiZW1iZWQyIik7\nCiAgICAgICAgcS53aGVyZShjYi5pc01lbWJlcihwYXJhbTEsIGEuZ2V0KEVu\ndGl0eUFfQ29sbF9FbWJlZF9FbWJlZF8uZW1iZWRzKSkpOwogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwsIG5ldyBTdHJpbmdbXXsiZW1iZWQy\nIn0sIG5ldyBPYmplY3RbXXtuZXcgRW1iZWRfRW1iZWQoKX0pOwogICAgfQog\nICAgCiAgICBAQWxsb3dGYWlsdXJlKG1lc3NhZ2U9IkpQUUwgcGFyc2UgZXJy\nb3IiKQogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTg2KCkg\newogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBlLCBlLmludFZhbDEs\nIGUuZW1iZWQuaW50VmFsMiBmcm9tIEVudGl0eUFfQ29sbF9FbWJlZF9FbWJl\nZCBhICIgKwogICAgICAgICAgICAgICAgIiAsIGluIChhLmVtYmVkcykgZSBX\nSEVSRSA/MSA9IGUgb3JkZXIgYnkgZS5pbnRWYWwzIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJv\nb3Q8RW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48\nRW50aXR5QV9Db2xsX0VtYmVkX0VtYmVkLCBFbWJlZF9FbWJlZD4gZSA9IGEu\nam9pbihFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWRfLmVtYmVkcyk7CiAgICAg\nICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF9FbWJlZF8uaW50VmFs\nMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVkX0Vt\nYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfRW1iZWRfLmVtYmVkKS5nZXQo\nRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBQYXJhbWV0ZXI8RW1iZWRfRW1i\nZWQ+IHBhcmFtMSA9IGNiLnBhcmFtZXRlcihFbWJlZF9FbWJlZC5jbGFzcyk7\nCiAgICAgICAgLy9xLndoZXJlKGNiLmVxdWFsKHBhcmFtMSwgZSkpOwogICAg\nICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwsIG5ldyBTdHJpbmdbXXsi\nZW1iZWQyIn0sIG5ldyBPYmplY3RbXXtuZXcgRW1iZWRfRW1iZWQoKX0pOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk4Nygp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBmcm9tIEVudGl0\neUFfQ29sbF9FbWJlZF9FbWJlZCBhIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5\nPEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZD4gcSA9IGNiLmNyZWF0ZVF1ZXJ5\nKEVudGl0eUFfQ29sbF9FbWJlZF9FbWJlZC5jbGFzcyk7CiAgICAgICAgUm9v\ndDxFbnRpdHlBX0NvbGxfRW1iZWRfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5\nQV9Db2xsX0VtYmVkX0VtYmVkLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChh\nKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5ODgoKSB7CiAg\nICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUsIGUuaW50VmFsMSwgZS5p\nbnRWYWwyIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkIGEgIiArCiAg\nICAgICAgICAgICAgICAiICwgaW4gKGEuZW1iZWQuZW1iZWRzKSBlIG9yZGVy\nIGJ5IGUiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxfRW1i\nZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkLmNsYXNz\nKTsKICAgICAgICBMaXN0Sm9pbjxFbWJlZF9Db2xsX0VtYmVkLCBFbWJlZD4g\nZSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWRfLmVtYmVkKS5q\nb2luKEVtYmVkX0NvbGxfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgcS5vcmRl\nckJ5KGNiLmFzYyhlKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLCBlLmdl\ndChFbWJlZF8uaW50VmFsMSksIGUuZ2V0KEVtYmVkXy5pbnRWYWwyKSk7CiAg\nICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk4OSgpIHsKICAg\nICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwgZS5pbnRWYWwxIGZyb20g\nRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkIGEsIGluIChhLmVtYmVkLmVtYmVk\ncykgZSBvcmRlciBieSBlLmludFZhbDMiOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWQ+IGEgPSBxLmZyb20oRW50aXR5QV9FbWJl\nZF9Db2xsX0VtYmVkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxFbWJlZF9D\nb2xsX0VtYmVkLCBFbWJlZD4gZSA9IGEuam9pbihFbnRpdHlBX0VtYmVkX0Nv\nbGxfRW1iZWRfLmVtYmVkKS5qb2luKEVtYmVkX0NvbGxfRW1iZWRfLmVtYmVk\ncyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhlLmdldChFbWJlZF8uaW50\nVmFsMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVk\nXy5pbnRWYWwxKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBx\nbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxl\nUXVlcnk5MCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZSwg\nYS5pZCBmcm9tIEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZCBhLCBpbiAoYS5l\nbWJlZC5lbWJlZHMpIGUgb3JkZXIgYnkgYS5pZCI7CiAgICAgICAgQ3JpdGVy\naWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290\nPEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZD4gYSA9IHEuZnJvbShFbnRpdHlB\nX0VtYmVkX0NvbGxfRW1iZWQuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEVt\nYmVkX0NvbGxfRW1iZWQsIEVtYmVkPiBlID0gYS5qb2luKEVudGl0eUFfRW1i\nZWRfQ29sbF9FbWJlZF8uZW1iZWQpLmpvaW4oRW1iZWRfQ29sbF9FbWJlZF8u\nZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGEuZ2V0KEVudGl0\neUFfRW1iZWRfQ29sbF9FbWJlZF8uaWQpKSk7CiAgICAgICAgcS5tdWx0aXNl\nbGVjdChlLCBlLmdldChFbWJlZF8uaW50VmFsMSksIGEuZ2V0KEVudGl0eUFf\nRW1iZWRfQ29sbF9FbWJlZF8uaWQpKTsKICAgICAgICBhc3NlcnRFcXVpdmFs\nZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVz\ndEVtYmVkZGFibGVRdWVyeTkxKCkgewogICAgICAgIFN0cmluZyBqcHFsID0g\nInNlbGVjdCBlLCBlLmludFZhbDEsIGUuaW50VmFsMiBmcm9tIEVudGl0eUFf\nRW1iZWRfQ29sbF9FbWJlZCBhICIgKwogICAgICAgICAgICAgICAgIiAsIGlu\nIChhLmVtYmVkLmVtYmVkcykgZSBvcmRlciBieSBlLmludFZhbDMiOwogICAg\nICAgIENyaXRlcmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAg\nICAgICAgUm9vdDxFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQ+IGEgPSBxLmZy\nb20oRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkLmNsYXNzKTsKICAgICAgICBM\naXN0Sm9pbjxFbWJlZF9Db2xsX0VtYmVkLCBFbWJlZD4gZSA9IGEuam9pbihF\nbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWRfLmVtYmVkKS5qb2luKEVtYmVkX0Nv\nbGxfRW1iZWRfLmVtYmVkcyk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhl\nLmdldChFbWJlZF8uaW50VmFsMykpKTsKICAgICAgICBxLm11bHRpc2VsZWN0\nKGUsIGUuZ2V0KEVtYmVkXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfLmludFZh\nbDIpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTky\nKCkgewogICAgICAgIFN0cmluZyBqcHFsMSA9ICJzZWxlY3QgZSwgZS5pbnRW\nYWwxLCBlLmludFZhbDIgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQg\nYSAiICsKICAgICAgICAgICAgIiAsIGluIChhLmVtYmVkLmVtYmVkcykgZSB3\naGVyZSBhLmVtYmVkLmVtYmVkcyBJUyBOT1QgRU1QVFkgb3JkZXIgYnkgZSI7\nCiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUxLCBlMS5pbnRWYWwx\nLCBlMS5pbnRWYWwyIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkIGEg\nIiArCiAgICAgICAgICAgICJKT0lOIGEuZW1iZWQgZSBKT0lOIGUuZW1iZWRz\nIGUxIHdoZXJlIGUuZW1iZWRzIElTIE5PVCBFTVBUWSBvcmRlciBieSBlMSI7\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBxID0gY2IuY3JlYXRlUXVlcnko\nKTsKICAgICAgICBSb290PEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZD4gYSA9\nIHEuZnJvbShFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQuY2xhc3MpOwogICAg\nICAgIExpc3RKb2luPEVtYmVkX0NvbGxfRW1iZWQsIEVtYmVkPiBlID0gYS5q\nb2luKEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZF8uZW1iZWQpLmpvaW4oRW1i\nZWRfQ29sbF9FbWJlZF8uZW1iZWRzKTsKICAgICAgICBxLm9yZGVyQnkoY2Iu\nYXNjKGUpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUsIGUuZ2V0KEVtYmVk\nXy5pbnRWYWwxKSwgZS5nZXQoRW1iZWRfLmludFZhbDIpKTsKICAgICAgICBx\nLndoZXJlKGNiLmlzRW1wdHkoYS5nZXQoRW50aXR5QV9FbWJlZF9Db2xsX0Vt\nYmVkXy5lbWJlZCkuZ2V0KEVtYmVkX0NvbGxfRW1iZWRfLmVtYmVkcykpLm5l\nZ2F0ZSgpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5OTMo\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwxID0gInNlbGVjdCBlLCBlLmludFZh\nbDEsIGUuaW50VmFsMiBmcm9tIEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZCBh\nICIgKwogICAgICAgICAgICAiICwgaW4gKGEuZW1iZWQuZW1iZWRzKSBlIHdo\nZXJlIGV4aXN0cyAoc2VsZWN0IGUuaW50VmFsMSAiICsKICAgICAgICAgICAg\nIiBmcm9tIEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZCBhLCBpbiAoYS5lbWJl\nZC5lbWJlZHMpIGUgIiArCiAgICAgICAgICAgICIgd2hlcmUgZS5pbnRWYWwy\nID0gMTA1KSBvcmRlciBieSBlIjsKICAgICAgICAKICAgICAgICBTdHJpbmcg\nanBxbCA9ICJzZWxlY3QgZSwgZS5pbnRWYWwxLCBlLmludFZhbDIgZnJvbSBF\nbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQgYSAiICsKICAgICAgICAgICAgIiBK\nT0lOIGEuZW1iZWQgYWUgSk9JTiBhZS5lbWJlZHMgZSB3aGVyZSBleGlzdHMg\nKHNlbGVjdCBlLmludFZhbDEgIiArCiAgICAgICAgICAgICIgZnJvbSBFbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWQgYSBKT0lOIGEuZW1iZWQgYWUgSk9JTiBh\nZS5lbWJlZHMgZSAiICsKICAgICAgICAgICAgIiB3aGVyZSBlLmludFZhbDIg\nPSAxMDUpIG9yZGVyIGJ5IGUiOwoKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+\nIHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9F\nbWJlZF9Db2xsX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfQ29s\nbF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48RW1iZWRfQ29sbF9F\nbWJlZCwgRW1iZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9Db2xsX0Vt\nYmVkXy5lbWJlZCkuam9pbihFbWJlZF9Db2xsX0VtYmVkXy5lbWJlZHMpOwog\nICAgICAgIHEub3JkZXJCeShjYi5hc2MoZSkpOwogICAgICAgIHEubXVsdGlz\nZWxlY3QoZSwgZS5nZXQoRW1iZWRfLmludFZhbDEpLCBlLmdldChFbWJlZF8u\naW50VmFsMikpOwogICAgICAgIFN1YnF1ZXJ5PEludGVnZXI+IHNxID0gcS5z\ndWJxdWVyeShJbnRlZ2VyLmNsYXNzKTsKICAgICAgICBSb290PEVudGl0eUFf\nRW1iZWRfQ29sbF9FbWJlZD4gYTEgPSBzcS5mcm9tKEVudGl0eUFfRW1iZWRf\nQ29sbF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48RW1iZWRfQ29s\nbF9FbWJlZCwgRW1iZWQ+IGUxID0gYTEuam9pbihFbnRpdHlBX0VtYmVkX0Nv\nbGxfRW1iZWRfLmVtYmVkKS5qb2luKEVtYmVkX0NvbGxfRW1iZWRfLmVtYmVk\ncyk7CiAgICAgICAgc3Eud2hlcmUoY2IuZXF1YWwoZTEuZ2V0KEVtYmVkXy5p\nbnRWYWwyKSwgMTA1KSk7CiAgICAgICAgc3Euc2VsZWN0KGUxLmdldChFbWJl\nZF8uaW50VmFsMSkpOwogICAgICAgIHEud2hlcmUoY2IuZXhpc3RzKHNxKSk7\nCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAg\nICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk5NCgpIHsK\nICAgICAgICBTdHJpbmcganBxbDEgPSAic2VsZWN0IGUsIGEgZnJvbSBFbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWQgYSwgaW4gKGEuZW1iZWQuZW1iZWRzKSBl\nICIgKwogICAgICAgICAgICAiIHdoZXJlIGUuaW50VmFsMSA9IFNPTUUgKHNl\nbGVjdCBlMi5pbnRWYWwxIGZyb20gRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVk\nIGEyICIgKwogICAgICAgICAgICAiICwgaW4gKGEyLmVtYmVkLmVtYmVkcykg\nZTIpIG9yZGVyIGJ5IGUiOwogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVj\ndCBlLCBhMSBmcm9tIEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZCBhMSBKT0lO\nIGExLmVtYmVkIGEwIEpPSU4gYTAuZW1iZWRzIGUgIiArCiAgICAgICAgICAg\nICIgd2hlcmUgZS5pbnRWYWwxID0gU09NRSAoc2VsZWN0IGUyLmludFZhbDEg\nZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQgYTIgIiArCiAgICAgICAg\nICAgICJKT0lOIGEyLmVtYmVkIGUwIEpPSU4gZTAuZW1iZWRzIGUyKSBvcmRl\nciBieSBlIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVh\ndGVRdWVyeSgpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0Vt\nYmVkPiBhID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZC5jbGFz\ncyk7CiAgICAgICAgTGlzdEpvaW48RW1iZWRfQ29sbF9FbWJlZCwgRW1iZWQ+\nIGUgPSBhLmpvaW4oRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkXy5lbWJlZCku\nam9pbihFbWJlZF9Db2xsX0VtYmVkXy5lbWJlZHMpOwogICAgICAgIHEub3Jk\nZXJCeShjYi5hc2MoZSkpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZSwgYSk7\nCiAgICAgICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KElu\ndGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xs\nX0VtYmVkPiBhMiA9IHNxLmZyb20oRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVk\nLmNsYXNzKTsKICAgICAgICBKb2luPEVudGl0eUFfRW1iZWRfQ29sbF9FbWJl\nZCwgRW1iZWRfQ29sbF9FbWJlZD4gZTAgPSBhMi5qb2luKEVudGl0eUFfRW1i\nZWRfQ29sbF9FbWJlZF8uZW1iZWQpOwogICAgICAgIExpc3RKb2luPEVtYmVk\nX0NvbGxfRW1iZWQsIEVtYmVkPiBlMiA9IGUwLmpvaW4oRW1iZWRfQ29sbF9F\nbWJlZF8uZW1iZWRzKTsKICAgICAgICBzcS5zZWxlY3QoZTIuZ2V0KEVtYmVk\nXy5pbnRWYWwxKSk7CiAgICAgICAgcS53aGVyZShjYi5lcXVhbChlLmdldChF\nbWJlZF8uaW50VmFsMSksIGNiLnNvbWUoc3EpKSk7CiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHRlc3RFbWJlZGRhYmxlUXVlcnk5NSgpIHsKICAgICAgICBTdHJpbmcg\nanBxbCA9ICJzZWxlY3QgZSwgYSBmcm9tIEVudGl0eUFfRW1iZWRfQ29sbF9F\nbWJlZCBhLCBpbiAoYS5lbWJlZC5lbWJlZHMpIGUgIiArCiAgICAgICAgICAg\nICAgICAiIHdoZXJlIGUgPSA6cCBvcmRlciBieSBlIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJv\nb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkPiBhID0gcS5mcm9tKEVudGl0\neUFfRW1iZWRfQ29sbF9FbWJlZC5jbGFzcyk7CiAgICAgICAgTGlzdEpvaW48\nRW1iZWRfQ29sbF9FbWJlZCwgRW1iZWQ+IGUgPSBhLmpvaW4oRW50aXR5QV9F\nbWJlZF9Db2xsX0VtYmVkXy5lbWJlZCkuam9pbihFbWJlZF9Db2xsX0VtYmVk\nXy5lbWJlZHMpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoZSkpOwogICAg\nICAgIHEubXVsdGlzZWxlY3QoZSwgYSk7CiAgICAgICAgUGFyYW1ldGVyPEVt\nYmVkPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIoRW1iZWQuY2xhc3MsICJwIik7\nCiAgICAgICAgcS53aGVyZShjYi5lcXVhbChlLCBwYXJhbTEpKTsKICAgICAg\nICBleGVjdXRlRXhwZWN0RmFpbChqcHFsLCBuZXcgU3RyaW5nW10geyJwMSJ9\nLCBuZXcgT2JqZWN0W10ge25ldyBFbWJlZCgpfSk7CiAgICAgICAgZXhlY3V0\nZUV4cGVjdEZhaWwocSwganBxbCwgbmV3IFN0cmluZ1tdIHsicDEifSwgbmV3\nIE9iamVjdFtdIHtuZXcgRW1iZWQoKX0pOwogICAgfQogICAgCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5OTYoKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAic2VsZWN0IGEgZnJvbSBFbnRpdHlBX0VtYmVkX0NvbGxf\nRW1iZWQgYSB3aGVyZSBhLmVtYmVkID0gOnAgb3JkZXIgYnkgYSI7CiAgICAg\nICAgQ3JpdGVyaWFRdWVyeTxFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQ+IHEg\nPSBjYi5jcmVhdGVRdWVyeShFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWQuY2xh\nc3MpOwogICAgICAgIFJvb3Q8RW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkPiBh\nID0gcS5mcm9tKEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZC5jbGFzcyk7CiAg\nICAgICAgcS5vcmRlckJ5KGNiLmFzYyhhKSk7CiAgICAgICAgcS5zZWxlY3Qo\nYSk7CiAgICAgICAgUGFyYW1ldGVyPEVtYmVkPiBwYXJhbTEgPSBjYi5wYXJh\nbWV0ZXIoRW1iZWQuY2xhc3MsICJwIik7CiAgICAgICAgcS53aGVyZShjYi5l\ncXVhbChhLmdldChFbnRpdHlBX0VtYmVkX0NvbGxfRW1iZWRfLmVtYmVkKSwg\ncGFyYW0xKSk7CiAgICAgICAgZXhlY3V0ZUV4cGVjdEZhaWwoanBxbCwgbmV3\nIFN0cmluZ1tdIHsicDEifSwgbmV3IE9iamVjdFtdIHtuZXcgRW1iZWQoKX0p\nOwogICAgICAgIGV4ZWN1dGVFeHBlY3RGYWlsKHEsIGpwcWwsIG5ldyBTdHJp\nbmdbXSB7InAxIn0sIG5ldyBPYmplY3RbXSB7bmV3IEVtYmVkKCl9KTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTk3\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gRW50\naXR5QV9FbWJlZF9Db2xsX0VtYmVkIGEiOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8RW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkPiBxID0gY2IuY3JlYXRlUXVl\ncnkoRW50aXR5QV9FbWJlZF9Db2xsX0VtYmVkLmNsYXNzKTsKICAgICAgICBS\nb290PEVudGl0eUFfRW1iZWRfQ29sbF9FbWJlZD4gYSA9IHEuZnJvbShFbnRp\ndHlBX0VtYmVkX0NvbGxfRW1iZWQuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0\nKGEpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5OTgo\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGQgZnJvbSBEZXBh\ncnRtZW50MSBkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PERlcGFydG1lbnQx\nPiBxID0gY2IuY3JlYXRlUXVlcnkoRGVwYXJ0bWVudDEuY2xhc3MpOwogICAg\nICAgIFJvb3Q8RGVwYXJ0bWVudDE+IGQgPSBxLmZyb20oRGVwYXJ0bWVudDEu\nY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGQpOwogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5OTkoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAic2VsZWN0IGQgZnJvbSBEZXBhcnRtZW50MiBkIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PERlcGFydG1lbnQyPiBxID0gY2IuY3JlYXRlUXVlcnko\nRGVwYXJ0bWVudDIuY2xhc3MpOwogICAgICAgIFJvb3Q8RGVwYXJ0bWVudDI+\nIGQgPSBxLmZyb20oRGVwYXJ0bWVudDIuY2xhc3MpOwogICAgICAgIHEuc2Vs\nZWN0KGQpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwog\nICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5\nMTAwKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBkIGZyb20g\nRGVwYXJ0bWVudDMgZCI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxEZXBhcnRt\nZW50Mz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KERlcGFydG1lbnQzLmNsYXNzKTsK\nICAgICAgICBSb290PERlcGFydG1lbnQzPiBkID0gcS5mcm9tKERlcGFydG1l\nbnQzLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChkKTsKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEwMSgpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJzZWxlY3QgZCBmcm9tIERlcGFydG1lbnQxIGQgam9pbiBk\nLmVtcE1hcCBlIHdoZXJlIEtFWShlKSA+IDEgb3JkZXIgYnkgZCI7CiAgICAg\nICAgQ3JpdGVyaWFRdWVyeTxEZXBhcnRtZW50MT4gcSA9IGNiLmNyZWF0ZVF1\nZXJ5KERlcGFydG1lbnQxLmNsYXNzKTsKICAgICAgICBSb290PERlcGFydG1l\nbnQxPiBkID0gcS5mcm9tKERlcGFydG1lbnQxLmNsYXNzKTsKICAgICAgICBN\nYXBKb2luPERlcGFydG1lbnQxLCBJbnRlZ2VyLCBFbXBsb3llZTE+IGVtcE1h\ncCA9IGQuam9pbihEZXBhcnRtZW50MV8uZW1wTWFwKTsKICAgICAgICBxLnNl\nbGVjdChkKTsKICAgICAgICBxLndoZXJlKGNiLmd0KGVtcE1hcC5rZXkoKSwg\nMSkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoZCkpOwogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTAyKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBkIGZyb20gRGVwYXJ0bWVudDEgZCBqb2lu\nIGQuZW1wTWFwIGUgd2hlcmUgZC5kZXB0SWQgPSBLRVkoZSkgb3JkZXIgYnkg\nZCI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxEZXBhcnRtZW50MT4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KERlcGFydG1lbnQxLmNsYXNzKTsKICAgICAgICBSb290\nPERlcGFydG1lbnQxPiBkID0gcS5mcm9tKERlcGFydG1lbnQxLmNsYXNzKTsK\nICAgICAgICBNYXBKb2luPERlcGFydG1lbnQxLCBJbnRlZ2VyLCBFbXBsb3ll\nZTE+IGVtcE1hcCA9IGQuam9pbihEZXBhcnRtZW50MV8uZW1wTWFwKTsKICAg\nICAgICBxLnNlbGVjdChkKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGQu\nZ2V0KERlcGFydG1lbnQxXy5kZXB0SWQpLCBlbXBNYXAua2V5KCkpKTsKICAg\nICAgICBxLm9yZGVyQnkoY2IuYXNjKGQpKTsKICAgICAgICBhc3NlcnRFcXVp\ndmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdEVtYmVkZGFibGVRdWVyeTEwMygpIHsKICAgICAgICBTdHJpbmcganBx\nbCA9ICJzZWxlY3QgZCBmcm9tIERlcGFydG1lbnQxIGQgd2hlcmUgZC5kZXB0\nSWQgPCBBTlkgIiArCiAgICAgICAgICAgICAgICAiIChzZWxlY3QgS0VZKGUp\nIGZyb20gaW4oZC5lbXBNYXApIGUpIG9yZGVyIGJ5IGQiOwogICAgICAgIENy\naXRlcmlhUXVlcnk8RGVwYXJ0bWVudDE+IHEgPSBjYi5jcmVhdGVRdWVyeShE\nZXBhcnRtZW50MS5jbGFzcyk7CiAgICAgICAgUm9vdDxEZXBhcnRtZW50MT4g\nZCA9IHEuZnJvbShEZXBhcnRtZW50MS5jbGFzcyk7CiAgICAgICAgU3VicXVl\ncnk8SW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwog\nICAgICAgIFJvb3Q8RGVwYXJ0bWVudDE+IGQxID0gc3EuY29ycmVsYXRlKGQp\nOwogICAgICAgIE1hcEpvaW48RGVwYXJ0bWVudDEsIEludGVnZXIsIEVtcGxv\neWVlMT4gZW1wTWFwID0gZDEuam9pbihEZXBhcnRtZW50MV8uZW1wTWFwKTsK\nICAgICAgICBzcS5zZWxlY3QoZW1wTWFwLmtleSgpKTsKICAgICAgICBxLnNl\nbGVjdChkKTsKICAgICAgICBxLndoZXJlKGNiLmx0KGQuZ2V0KERlcGFydG1l\nbnQxXy5kZXB0SWQpLCBjYi5hbnkoc3EpKSk7CiAgICAgICAgcS5vcmRlckJ5\nKGNiLmFzYyhkKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBx\nbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxl\nUXVlcnkxMDNhKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBL\nRVkoZSkgZnJvbSBEZXBhcnRtZW50MSBkLCBpbihkLmVtcE1hcCkgZSBvcmRl\nciBieSBkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEludGVnZXI+IHEgPSBj\nYi5jcmVhdGVRdWVyeShJbnRlZ2VyLmNsYXNzKTsKICAgICAgICBSb290PERl\ncGFydG1lbnQxPiBkID0gcS5mcm9tKERlcGFydG1lbnQxLmNsYXNzKTsKICAg\nICAgICBNYXBKb2luPERlcGFydG1lbnQxLCBJbnRlZ2VyLCBFbXBsb3llZTE+\nIGVtcE1hcCA9IGQuam9pbihEZXBhcnRtZW50MV8uZW1wTWFwKTsKICAgICAg\nICBxLnNlbGVjdChlbXBNYXAua2V5KCkpOwogICAgICAgIHEub3JkZXJCeShj\nYi5hc2MoZCkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1\nZXJ5MTAzYigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgRU5U\nUlkoZSkgZnJvbSBEZXBhcnRtZW50MSBkLCBpbihkLmVtcE1hcCkgZSBvcmRl\nciBieSBkIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PE1hcC5FbnRyeT4gcSA9\nIGNiLmNyZWF0ZVF1ZXJ5KE1hcC5FbnRyeS5jbGFzcyk7CiAgICAgICAgUm9v\ndDxEZXBhcnRtZW50MT4gZCA9IHEuZnJvbShEZXBhcnRtZW50MS5jbGFzcyk7\nCiAgICAgICAgTWFwSm9pbjxEZXBhcnRtZW50MSwgSW50ZWdlciwgRW1wbG95\nZWUxPiBlbXBNYXAgPSBkLmpvaW4oRGVwYXJ0bWVudDFfLmVtcE1hcCk7CiAg\nICAgICAgcS5zZWxlY3QoZW1wTWFwLmVudHJ5KCkpOwogICAgICAgIHEub3Jk\nZXJCeShjYi5hc2MoZCkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEs\nIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxl\nUXVlcnkxMDQoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGQg\nZnJvbSBEZXBhcnRtZW50MSBkIHdoZXJlIGQuZGVwdElkIDwgU09NRSAiICsK\nICAgICAgICAgICAgICAgICIgKHNlbGVjdCBLRVkoZSkgZnJvbSBEZXBhcnRt\nZW50MSBkMSwgaW4oZDEuZW1wTWFwKSBlKSBvcmRlciBieSBkIjsKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PERlcGFydG1lbnQxPiBxID0gY2IuY3JlYXRlUXVl\ncnkoRGVwYXJ0bWVudDEuY2xhc3MpOwogICAgICAgIFJvb3Q8RGVwYXJ0bWVu\ndDE+IGQgPSBxLmZyb20oRGVwYXJ0bWVudDEuY2xhc3MpOwogICAgICAgIFN1\nYnF1ZXJ5PEludGVnZXI+IHNxID0gcS5zdWJxdWVyeShJbnRlZ2VyLmNsYXNz\nKTsKICAgICAgICBSb290PERlcGFydG1lbnQxPiBkMSA9IHNxLmZyb20oRGVw\nYXJ0bWVudDEuY2xhc3MpOwogICAgICAgIE1hcEpvaW48RGVwYXJ0bWVudDEs\nIEludGVnZXIsIEVtcGxveWVlMT4gZW1wTWFwID0gZDEuam9pbihEZXBhcnRt\nZW50MV8uZW1wTWFwKTsKICAgICAgICBzcS5zZWxlY3QoZW1wTWFwLmtleSgp\nKTsKICAgICAgICBxLnNlbGVjdChkKTsKICAgICAgICBxLndoZXJlKGNiLmx0\nKGQuZ2V0KERlcGFydG1lbnQxXy5kZXB0SWQpLCBjYi5zb21lKHNxKSkpOwog\nICAgICAgIHEub3JkZXJCeShjYi5hc2MoZCkpOwogICAgICAgIGFzc2VydEVx\ndWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5MTA1KCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBlIGZyb20gRW1wbG95ZWUxIGUiOwogICAgICAgIENy\naXRlcmlhUXVlcnk8RW1wbG95ZWUxPiBxID0gY2IuY3JlYXRlUXVlcnkoRW1w\nbG95ZWUxLmNsYXNzKTsKICAgICAgICBSb290PEVtcGxveWVlMT4gZSA9IHEu\nZnJvbShFbXBsb3llZTEuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGUpOwog\nICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVlcnkxMDYoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUgZnJvbSBFbXBsb3llZTIgZSI7\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbXBsb3llZTI+IHEgPSBjYi5jcmVh\ndGVRdWVyeShFbXBsb3llZTIuY2xhc3MpOwogICAgICAgIFJvb3Q8RW1wbG95\nZWUyPiBlID0gcS5mcm9tKEVtcGxveWVlMi5jbGFzcyk7CiAgICAgICAgcS5z\nZWxlY3QoZSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVl\ncnkxMDcoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGUgZnJv\nbSBFbXBsb3llZTMgZSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbXBsb3ll\nZTM+IHEgPSBjYi5jcmVhdGVRdWVyeShFbXBsb3llZTMuY2xhc3MpOwogICAg\nICAgIFJvb3Q8RW1wbG95ZWUzPiBlID0gcS5mcm9tKEVtcGxveWVlMy5jbGFz\ncyk7CiAgICAgICAgcS5zZWxlY3QoZSk7CiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3RFbWJlZGRhYmxlUXVlcnkxMDgoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAic2VsZWN0IGkgZnJvbSBJdGVtMSBpIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEl0ZW0xPiBxID0gY2IuY3JlYXRlUXVlcnkoSXRlbTEuY2xhc3MpOwog\nICAgICAgIFJvb3Q8SXRlbTE+IGkgPSBxLmZyb20oSXRlbTEuY2xhc3MpOwog\nICAgICAgIHEuc2VsZWN0KGkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQogICAgICAgIAogICAgcHVibGljIHZvaWQgdGVz\ndEVtYmVkZGFibGVRdWVyeTEwOSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgaSBmcm9tIEl0ZW0yIGkiOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8SXRlbTI+IHEgPSBjYi5jcmVhdGVRdWVyeShJdGVtMi5jbGFzcyk7CiAg\nICAgICAgUm9vdDxJdGVtMj4gaSA9IHEuZnJvbShJdGVtMi5jbGFzcyk7CiAg\nICAgICAgcS5zZWxlY3QoaSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2Uo\ncSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFi\nbGVRdWVyeTExMCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\naSBmcm9tIEl0ZW0zIGkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8SXRlbTM+\nIHEgPSBjYi5jcmVhdGVRdWVyeShJdGVtMy5jbGFzcyk7CiAgICAgICAgUm9v\ndDxJdGVtMz4gaSA9IHEuZnJvbShJdGVtMy5jbGFzcyk7CiAgICAgICAgcS5z\nZWxlY3QoaSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEx\nMSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgaSBmcm9tIEl0\nZW0xIGkgd2hlcmUgOmltYWdlID0gYW55KHNlbGVjdCBLRVkoZSkgZnJvbSBp\nLmltYWdlcyBlKSBvcmRlciBieSBpIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5\nPEl0ZW0xPiBxID0gY2IuY3JlYXRlUXVlcnkoSXRlbTEuY2xhc3MpOwogICAg\nICAgIFJvb3Q8SXRlbTE+IGkgPSBxLmZyb20oSXRlbTEuY2xhc3MpOwogICAg\nICAgIFN1YnF1ZXJ5PFN0cmluZz4gc3EgPSBxLnN1YnF1ZXJ5KFN0cmluZy5j\nbGFzcyk7CiAgICAgICAgUm9vdDxJdGVtMT4gaTEgPSBzcS5jb3JyZWxhdGUo\naSk7CiAgICAgICAgTWFwSm9pbjxJdGVtMSwgU3RyaW5nLCBTdHJpbmc+IGUg\nPSBpMS5qb2luKEl0ZW0xXy5pbWFnZXMpOwogICAgICAgIHNxLnNlbGVjdChl\nLmtleSgpKTsKICAgICAgICBxLnNlbGVjdChpKTsKICAgICAgICBQYXJhbWV0\nZXJFeHByZXNzaW9uPFN0cmluZz4gcGFyYW0xID0gY2IucGFyYW1ldGVyKFN0\ncmluZy5jbGFzcywgImltYWdlIik7CiAgICAgICAgcS53aGVyZShjYi5lcXVh\nbChwYXJhbTEsIGNiLmFueShzcSkpKTsKICAgICAgICBxLm9yZGVyQnkoY2Iu\nYXNjKGkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsLCBu\nZXcgU3RyaW5nW117ImltYWdlIn0sIG5ldyBTdHJpbmdbXXsibXkgcGhvdG8i\nfSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxl\nUXVlcnkxMTIoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGkg\nZnJvbSBJdGVtMSBpIHdoZXJlIDppbWFnZSA9IGFueSAoc2VsZWN0IEtFWShl\nKSBmcm9tIEl0ZW0xIGksIGluKGkuaW1hZ2VzKSBlKSAiICsKICAgICAgICAg\nICAgICAgICIgb3JkZXIgYnkgaSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxJ\ndGVtMT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEl0ZW0xLmNsYXNzKTsKICAgICAg\nICBSb290PEl0ZW0xPiBpID0gcS5mcm9tKEl0ZW0xLmNsYXNzKTsKICAgICAg\nICBTdWJxdWVyeTxTdHJpbmc+IHNxID0gcS5zdWJxdWVyeShTdHJpbmcuY2xh\nc3MpOwogICAgICAgIFJvb3Q8SXRlbTE+IGkxID0gc3EuZnJvbShJdGVtMS5j\nbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJdGVtMSwgU3RyaW5nLCBTdHJpbmc+\nIGUgPSBpMS5qb2luKEl0ZW0xXy5pbWFnZXMpOwogICAgICAgIHNxLnNlbGVj\ndChlLmtleSgpKTsKICAgICAgICBxLnNlbGVjdChpKTsKICAgICAgICBQYXJh\nbWV0ZXJFeHByZXNzaW9uPFN0cmluZz4gcGFyYW0xID0gY2IucGFyYW1ldGVy\nKFN0cmluZy5jbGFzcywgImltYWdlIik7CiAgICAgICAgcS53aGVyZShjYi5l\ncXVhbChwYXJhbTEsIGNiLmFueShzcSkpKTsKICAgICAgICBxLm9yZGVyQnko\nY2IuYXNjKGkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nLCBuZXcgU3RyaW5nW117ImltYWdlIn0sIG5ldyBTdHJpbmdbXXsibXkgcGhv\ndG8ifSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRh\nYmxlUXVlcnkxMTMoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGkgZnJvbSBJdGVtMSBpIHdoZXJlIGV4aXN0cyAoc2VsZWN0IGUgZnJvbSBJ\ndGVtMSBpLCBpbihpLmltYWdlcykgZSIgKwogICAgICAgICAgICAgICAgIiB3\naGVyZSA6aW1hZ2UgPSBLRVkoZSkpIG9yZGVyIGJ5IGkiOwogICAgICAgIENy\naXRlcmlhUXVlcnk8SXRlbTE+IHEgPSBjYi5jcmVhdGVRdWVyeShJdGVtMS5j\nbGFzcyk7CiAgICAgICAgUm9vdDxJdGVtMT4gaSA9IHEuZnJvbShJdGVtMS5j\nbGFzcyk7CiAgICAgICAgU3VicXVlcnk8U3RyaW5nPiBzcSA9IHEuc3VicXVl\ncnkoU3RyaW5nLmNsYXNzKTsKICAgICAgICBSb290PEl0ZW0xPiBpMSA9IHNx\nLmZyb20oSXRlbTEuY2xhc3MpOwogICAgICAgIE1hcEpvaW48SXRlbTEsIFN0\ncmluZywgU3RyaW5nPiBlID0gaTEuam9pbihJdGVtMV8uaW1hZ2VzKTsKICAg\nICAgICBzcS5zZWxlY3QoZSk7CiAgICAgICAgcS5zZWxlY3QoaSk7CiAgICAg\nICAgUGFyYW1ldGVyRXhwcmVzc2lvbjxTdHJpbmc+IHBhcmFtMSA9IGNiLnBh\ncmFtZXRlcihTdHJpbmcuY2xhc3MsICJpbWFnZSIpOwogICAgICAgIHNxLndo\nZXJlKGNiLmVxdWFsKHBhcmFtMSwgZS5rZXkoKSkpOwogICAgICAgIHEud2hl\ncmUoY2IuZXhpc3RzKHNxKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhp\nKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCwgbmV3IFN0\ncmluZ1tdeyJpbWFnZSJ9LCBuZXcgU3RyaW5nW117Im15IHBob3RvIn0pOwog\nICAgfQogICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVy\neTExNCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgaSBmcm9t\nIEl0ZW0yIGkgd2hlcmUgOmltYWdlID0gYW55IChzZWxlY3QgS0VZKGUpIGZy\nb20gSXRlbTIgaSwgaW4oaS5pbWFnZXMpIGUpICIgKwogICAgICAgICAgICAg\nICAgIiBvcmRlciBieSBpIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEl0ZW0y\nPiBxID0gY2IuY3JlYXRlUXVlcnkoSXRlbTIuY2xhc3MpOwogICAgICAgIFJv\nb3Q8SXRlbTI+IGkgPSBxLmZyb20oSXRlbTIuY2xhc3MpOwogICAgICAgIFN1\nYnF1ZXJ5PFN0cmluZz4gc3EgPSBxLnN1YnF1ZXJ5KFN0cmluZy5jbGFzcyk7\nCiAgICAgICAgUm9vdDxJdGVtMj4gaTEgPSBzcS5mcm9tKEl0ZW0yLmNsYXNz\nKTsKICAgICAgICBNYXBKb2luPEl0ZW0yLCBTdHJpbmcsIFN0cmluZz4gZSA9\nIGkxLmpvaW4oSXRlbTJfLmltYWdlcyk7CiAgICAgICAgc3Euc2VsZWN0KGUu\na2V5KCkpOwogICAgICAgIHEuc2VsZWN0KGkpOwogICAgICAgIFBhcmFtZXRl\nckV4cHJlc3Npb248U3RyaW5nPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIoU3Ry\naW5nLmNsYXNzLCAiaW1hZ2UiKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFs\nKHBhcmFtMSwgY2IuYW55KHNxKSkpOwogICAgICAgIHEub3JkZXJCeShjYi5h\nc2MoaSkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwsIG5l\ndyBTdHJpbmdbXXsiaW1hZ2UifSwgbmV3IFN0cmluZ1tdeyJteSBwaG90byJ9\nKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVR\ndWVyeTExNSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgaSBm\ncm9tIEl0ZW0yIGkgd2hlcmUgZXhpc3RzIChzZWxlY3QgZSBmcm9tIEl0ZW0y\nIGksIGluKGkuaW1hZ2VzKSBlIiArCiAgICAgICAgICAgICAgICAiICAgd2hl\ncmUgOmltYWdlID0gS0VZKGUpKSBvcmRlciBieSBpIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PEl0ZW0yPiBxID0gY2IuY3JlYXRlUXVlcnkoSXRlbTIuY2xh\nc3MpOwogICAgICAgIFJvb3Q8SXRlbTI+IGkgPSBxLmZyb20oSXRlbTIuY2xh\nc3MpOwogICAgICAgIFN1YnF1ZXJ5PFN0cmluZz4gc3EgPSBxLnN1YnF1ZXJ5\nKFN0cmluZy5jbGFzcyk7CiAgICAgICAgUm9vdDxJdGVtMj4gaTEgPSBzcS5m\ncm9tKEl0ZW0yLmNsYXNzKTsKICAgICAgICBNYXBKb2luPEl0ZW0yLCBTdHJp\nbmcsIFN0cmluZz4gZSA9IGkxLmpvaW4oSXRlbTJfLmltYWdlcyk7CiAgICAg\nICAgc3Euc2VsZWN0KGUpOwogICAgICAgIHEuc2VsZWN0KGkpOwogICAgICAg\nIFBhcmFtZXRlckV4cHJlc3Npb248U3RyaW5nPiBwYXJhbTEgPSBjYi5wYXJh\nbWV0ZXIoU3RyaW5nLmNsYXNzLCAiaW1hZ2UiKTsKICAgICAgICBzcS53aGVy\nZShjYi5lcXVhbChwYXJhbTEsIGUua2V5KCkpKTsKICAgICAgICBxLndoZXJl\nKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoaSkp\nOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwsIG5ldyBTdHJp\nbmdbXXsiaW1hZ2UifSwgbmV3IFN0cmluZ1tdeyJteSBwaG90byJ9KTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEx\nNigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgaSBmcm9tIEl0\nZW0zIGkgd2hlcmUgOmltYWdlID0gYW55IChzZWxlY3QgS0VZKGUpIGZyb20g\nSXRlbTMgaSwgaW4oaS5pbWFnZXMpIGUpICIgKwogICAgICAgICAgICAgICAg\nIm9yZGVyIGJ5IGkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8SXRlbTM+IHEg\nPSBjYi5jcmVhdGVRdWVyeShJdGVtMy5jbGFzcyk7CiAgICAgICAgUm9vdDxJ\ndGVtMz4gaSA9IHEuZnJvbShJdGVtMy5jbGFzcyk7CiAgICAgICAgU3VicXVl\ncnk8U3RyaW5nPiBzcSA9IHEuc3VicXVlcnkoU3RyaW5nLmNsYXNzKTsKICAg\nICAgICBSb290PEl0ZW0zPiBpMSA9IHNxLmZyb20oSXRlbTMuY2xhc3MpOwog\nICAgICAgIE1hcEpvaW48SXRlbTMsIFN0cmluZywgU3RyaW5nPiBlID0gaTEu\nam9pbihJdGVtM18uaW1hZ2VzKTsKICAgICAgICBzcS5zZWxlY3QoZS5rZXko\nKSk7CiAgICAgICAgcS5zZWxlY3QoaSk7CiAgICAgICAgUGFyYW1ldGVyRXhw\ncmVzc2lvbjxTdHJpbmc+IHBhcmFtMSA9IGNiLnBhcmFtZXRlcihTdHJpbmcu\nY2xhc3MsICJpbWFnZSIpOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwocGFy\nYW0xLCBjYi5hbnkoc3EpKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmFzYyhp\nKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCwgbmV3IFN0\ncmluZ1tdeyJpbWFnZSJ9LCBuZXcgU3RyaW5nW117Im15IHBob3RvIn0pOwog\nICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1iZWRkYWJsZVF1ZXJ5\nMTE3KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBpIGZyb20g\nSXRlbTMgaSB3aGVyZSBleGlzdHMgKHNlbGVjdCBlIGZyb20gSXRlbTMgaSwg\naW4oaS5pbWFnZXMpIGUiICsKICAgICAgICAgICAgICAgICIgd2hlcmUgOmlt\nYWdlID0gS0VZKGUpKSBvcmRlciBieSBpIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEl0ZW0zPiBxID0gY2IuY3JlYXRlUXVlcnkoSXRlbTMuY2xhc3MpOwog\nICAgICAgIFJvb3Q8SXRlbTM+IGkgPSBxLmZyb20oSXRlbTMuY2xhc3MpOwog\nICAgICAgIFN1YnF1ZXJ5PFN0cmluZz4gc3EgPSBxLnN1YnF1ZXJ5KFN0cmlu\nZy5jbGFzcyk7CiAgICAgICAgUm9vdDxJdGVtMz4gaTEgPSBzcS5mcm9tKEl0\nZW0zLmNsYXNzKTsKICAgICAgICBNYXBKb2luPEl0ZW0zLCBTdHJpbmcsIFN0\ncmluZz4gZSA9IGkxLmpvaW4oSXRlbTNfLmltYWdlcyk7CiAgICAgICAgc3Eu\nc2VsZWN0KGUpOwogICAgICAgIHEuc2VsZWN0KGkpOwogICAgICAgIFBhcmFt\nZXRlckV4cHJlc3Npb248U3RyaW5nPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIo\nU3RyaW5nLmNsYXNzLCAiaW1hZ2UiKTsKICAgICAgICBzcS53aGVyZShjYi5l\ncXVhbChwYXJhbTEsIGUua2V5KCkpKTsKICAgICAgICBxLndoZXJlKGNiLmV4\naXN0cyhzcSkpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MoaSkpOwogICAg\nICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwsIG5ldyBTdHJpbmdbXXsi\naW1hZ2UifSwgbmV3IFN0cmluZ1tdeyJteSBwaG90byJ9KTsKICAgIH0KICAg\nIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTExOCgpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYyBmcm9tIENvbXBhbnkx\nIGMiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Q29tcGFueTE+IHEgPSBjYi5j\ncmVhdGVRdWVyeShDb21wYW55MS5jbGFzcyk7CiAgICAgICAgUm9vdDxDb21w\nYW55MT4gYyA9IHEuZnJvbShDb21wYW55MS5jbGFzcyk7CiAgICAgICAgcS5z\nZWxlY3QoYyk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7\nCiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRhYmxlUXVl\ncnkxMTkoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGMgZnJv\nbSBDb21wYW55MiBjIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PENvbXBhbnky\nPiBxID0gY2IuY3JlYXRlUXVlcnkoQ29tcGFueTIuY2xhc3MpOwogICAgICAg\nIFJvb3Q8Q29tcGFueTI+IGMgPSBxLmZyb20oQ29tcGFueTIuY2xhc3MpOwog\nICAgICAgIHEuc2VsZWN0KGMpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1i\nZWRkYWJsZVF1ZXJ5MTIxKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNl\nbGVjdCBjIGZyb20gQ29tcGFueTEgYyB3aGVyZSA6ZGl2aXNpb24gPSAiICsK\nICAgICAgICAgICAgICAgICIgKHNlbGVjdCBLRVkoZCkgZnJvbSBDb21wYW55\nMSBjLCBpbihjLm9yZ2FuaXphdGlvbikgZCB3aGVyZSBkLmlkID0gMSkgb3Jk\nZXIgYnkgYyAiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Q29tcGFueTE+IHEg\nPSBjYi5jcmVhdGVRdWVyeShDb21wYW55MS5jbGFzcyk7CiAgICAgICAgUm9v\ndDxDb21wYW55MT4gYyA9IHEuZnJvbShDb21wYW55MS5jbGFzcyk7CiAgICAg\nICAgU3VicXVlcnk8RGl2aXNpb24+IHNxID0gcS5zdWJxdWVyeShEaXZpc2lv\nbi5jbGFzcyk7CiAgICAgICAgUm9vdDxDb21wYW55MT4gYzEgPSBzcS5mcm9t\nKENvbXBhbnkxLmNsYXNzKTsKICAgICAgICBNYXBKb2luPENvbXBhbnkxLERp\ndmlzaW9uLFZpY2VQcmVzaWRlbnQ+IGQgPSBjMS5qb2luKENvbXBhbnkxXy5v\ncmdhbml6YXRpb24pOwogICAgICAgIHNxLnNlbGVjdChkLmtleSgpKTsKICAg\nICAgICBxLnNlbGVjdChjKTsKICAgICAgICBQYXJhbWV0ZXJFeHByZXNzaW9u\nPERpdmlzaW9uPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIoRGl2aXNpb24uY2xh\nc3MsICJkaXZpc2lvbiIpOwogICAgICAgIHNxLndoZXJlKGNiLmVxdWFsKGQu\ndmFsdWUoKS5nZXQoVmljZVByZXNpZGVudF8uaWQpLCAxKSk7CiAgICAgICAg\ncS53aGVyZShjYi5lcXVhbChwYXJhbTEsIHNxKSk7CiAgICAgICAgcS5vcmRl\nckJ5KGNiLmFzYyhjKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCwgbmV3IFN0cmluZ1tdeyJkaXZpc2lvbiJ9LCBuZXcgT2JqZWN0W117\nbmV3IERpdmlzaW9uKCl9KTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdEVtYmVkZGFibGVRdWVyeTEyMigpIHsKICAgICAgICBTdHJpbmcganBx\nbCA9ICJzZWxlY3QgYyBmcm9tIENvbXBhbnkxIGMgd2hlcmUgZXhpc3RzIChz\nZWxlY3QgS0VZKGQpIGZyb20gaW4oYy5vcmdhbml6YXRpb24pIGQiICsKICAg\nICAgICAgICAgICAgICIgIHdoZXJlIEtFWShkKSA9IDpkaXZpc2lvbikgb3Jk\nZXIgYnkgYyAiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Q29tcGFueTE+IHEg\nPSBjYi5jcmVhdGVRdWVyeShDb21wYW55MS5jbGFzcyk7CiAgICAgICAgUm9v\ndDxDb21wYW55MT4gYyA9IHEuZnJvbShDb21wYW55MS5jbGFzcyk7CiAgICAg\nICAgU3VicXVlcnk8RGl2aXNpb24+IHNxID0gcS5zdWJxdWVyeShEaXZpc2lv\nbi5jbGFzcyk7CiAgICAgICAgUm9vdDxDb21wYW55MT4gYzEgPSBzcS5jb3Jy\nZWxhdGUoYyk7CiAgICAgICAgTWFwSm9pbjxDb21wYW55MSxEaXZpc2lvbixW\naWNlUHJlc2lkZW50PiBkID0gYzEuam9pbihDb21wYW55MV8ub3JnYW5pemF0\naW9uKTsKICAgICAgICBxLnNlbGVjdChjKTsKICAgICAgICBQYXJhbWV0ZXI8\nRGl2aXNpb24+IHBhcmFtMSA9IGNiLnBhcmFtZXRlcihEaXZpc2lvbi5jbGFz\ncywgImRpdmlzaW9uIik7CiAgICAgICAgc3Eud2hlcmUoY2IuZXF1YWwoZC5r\nZXkoKSwgcGFyYW0xKSk7CiAgICAgICAgc3Euc2VsZWN0KGQua2V5KCkpOwog\nICAgICAgIHEud2hlcmUoY2IuZXhpc3RzKHNxKSk7CiAgICAgICAgcS5vcmRl\nckJ5KGNiLmFzYyhjKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCwgbmV3IFN0cmluZ1tdeyJkaXZpc2lvbiJ9LCBuZXcgT2JqZWN0W117\nbmV3IERpdmlzaW9uKCl9KTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdEVtYmVkZGFibGVRdWVyeTEyMygpIHsKICAgICAgICBTdHJpbmcganBx\nbCA9ICJzZWxlY3QgYyBmcm9tIENvbXBhbnkxIGMgd2hlcmUgZXhpc3RzIChz\nZWxlY3QgS0VZKGQpIGZyb20gYy5vcmdhbml6YXRpb24gZCIgKwogICAgICAg\nICAgICAgICAgIiAgd2hlcmUgS0VZKGQpID0gOmRpdmlzaW9uKSBvcmRlciBi\neSBjICI7ICAKICAgICAgICBDcml0ZXJpYVF1ZXJ5PENvbXBhbnkxPiBxID0g\nY2IuY3JlYXRlUXVlcnkoQ29tcGFueTEuY2xhc3MpOwogICAgICAgIFJvb3Q8\nQ29tcGFueTE+IGMgPSBxLmZyb20oQ29tcGFueTEuY2xhc3MpOwogICAgICAg\nIFN1YnF1ZXJ5PERpdmlzaW9uPiBzcSA9IHEuc3VicXVlcnkoRGl2aXNpb24u\nY2xhc3MpOwogICAgICAgIFJvb3Q8Q29tcGFueTE+IGMxID0gc3EuY29ycmVs\nYXRlKGMpOwogICAgICAgIE1hcEpvaW48Q29tcGFueTEsRGl2aXNpb24sVmlj\nZVByZXNpZGVudD4gZCA9IGMxLmpvaW4oQ29tcGFueTFfLm9yZ2FuaXphdGlv\nbik7CiAgICAgICAgc3Euc2VsZWN0KGQua2V5KCkpOwogICAgICAgIHEuc2Vs\nZWN0KGMpOwogICAgICAgIFBhcmFtZXRlcjxEaXZpc2lvbj4gcGFyYW0xID0g\nY2IucGFyYW1ldGVyKERpdmlzaW9uLmNsYXNzLCAiZGl2aXNpb24iKTsKICAg\nICAgICBzcS53aGVyZShjYi5lcXVhbChkLmtleSgpLCBwYXJhbTEpKTsKICAg\nICAgICBxLndoZXJlKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIHEub3JkZXJC\neShjYi5hc2MoYykpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpw\ncWwsIG5ldyBTdHJpbmdbXXsiZGl2aXNpb24ifSwgbmV3IE9iamVjdFtde25l\ndyBEaXZpc2lvbigpfSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3RFbWJlZGRhYmxlUXVlcnkxMjQoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAic2VsZWN0IGMgZnJvbSBDb21wYW55MiBjIHdoZXJlIDpkaXZpc2lvbiA9\nIChzZWxlY3QgS0VZKGQpIGZyb20gQ29tcGFueTIgYywgaW4oYy5vcmdhbml6\nYXRpb24pIGQiIAogICAgICAgICAgICAgICAgICAgICsgIiB3aGVyZSBkLmlk\nID0gMykgb3JkZXIgYnkgYyAiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Q29t\ncGFueTI+IHEgPSBjYi5jcmVhdGVRdWVyeShDb21wYW55Mi5jbGFzcyk7CiAg\nICAgICAgUm9vdDxDb21wYW55Mj4gYyA9IHEuZnJvbShDb21wYW55Mi5jbGFz\ncyk7CiAgICAgICAgU3VicXVlcnk8RGl2aXNpb24+IHNxID0gcS5zdWJxdWVy\neShEaXZpc2lvbi5jbGFzcyk7CiAgICAgICAgUm9vdDxDb21wYW55Mj4gYzEg\nPSBzcS5mcm9tKENvbXBhbnkyLmNsYXNzKTsKICAgICAgICBNYXBKb2luPENv\nbXBhbnkyLERpdmlzaW9uLFZpY2VQcmVzaWRlbnQ+IGQgPSBjMS5qb2luKENv\nbXBhbnkyXy5vcmdhbml6YXRpb24pOwogICAgICAgIHNxLnNlbGVjdChkLmtl\neSgpKTsKICAgICAgICBxLnNlbGVjdChjKTsKICAgICAgICBQYXJhbWV0ZXJF\neHByZXNzaW9uPERpdmlzaW9uPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIoRGl2\naXNpb24uY2xhc3MsICJkaXZpc2lvbiIpOwogICAgICAgIHNxLndoZXJlKGNi\nLmVxdWFsKGQudmFsdWUoKS5nZXQoVmljZVByZXNpZGVudF8uaWQpLCAzKSk7\nCiAgICAgICAgcS53aGVyZShjYi5lcXVhbChwYXJhbTEsIHNxKSk7CiAgICAg\nICAgcS5vcmRlckJ5KGNiLmFzYyhjKSk7CiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCwgbmV3IFN0cmluZ1tdeyJkaXZpc2lvbiJ9LCBuZXcg\nT2JqZWN0W117bmV3IERpdmlzaW9uKCl9KTsKICAgIH0KICAgIAogICAgcHVi\nbGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEyNSgpIHsKICAgICAgICBT\ndHJpbmcganBxbCA9ICJzZWxlY3QgYyBmcm9tIENvbXBhbnkyIGMgd2hlcmUg\nZXhpc3RzIChzZWxlY3QgS0VZKGQpIGZyb20gaW4oYy5vcmdhbml6YXRpb24p\nIGQiICsKICAgICAgICAgICAgICAgICIgIHdoZXJlIEtFWShkKSA9IDprKSBv\ncmRlciBieSBjICI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDb21wYW55Mj4g\ncSA9IGNiLmNyZWF0ZVF1ZXJ5KENvbXBhbnkyLmNsYXNzKTsKICAgICAgICBS\nb290PENvbXBhbnkyPiBjID0gcS5mcm9tKENvbXBhbnkyLmNsYXNzKTsKICAg\nICAgICBTdWJxdWVyeTxEaXZpc2lvbj4gc3EgPSBxLnN1YnF1ZXJ5KERpdmlz\naW9uLmNsYXNzKTsKICAgICAgICBSb290PENvbXBhbnkyPiBjMSA9IHNxLmNv\ncnJlbGF0ZShjKTsKICAgICAgICBNYXBKb2luPENvbXBhbnkyLERpdmlzaW9u\nLFZpY2VQcmVzaWRlbnQ+IGQgPSBjMS5qb2luKENvbXBhbnkyXy5vcmdhbml6\nYXRpb24pOwogICAgICAgIHEuc2VsZWN0KGMpOwogICAgICAgIFBhcmFtZXRl\ncjxEaXZpc2lvbj4gcGFyYW0xID0gY2IucGFyYW1ldGVyKERpdmlzaW9uLmNs\nYXNzLCAiayIpOwogICAgICAgIHNxLndoZXJlKGNiLmVxdWFsKGQua2V5KCks\nIHBhcmFtMSkpOwogICAgICAgIHNxLnNlbGVjdChkLmtleSgpKTsKICAgICAg\nICBxLndoZXJlKGNiLmV4aXN0cyhzcSkpOwogICAgICAgIHEub3JkZXJCeShj\nYi5hc2MoYykpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWws\nIG5ldyBTdHJpbmdbXXsiayJ9LCBuZXcgT2JqZWN0W117bmV3IERpdmlzaW9u\nKCl9KTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFi\nbGVRdWVyeTEyNigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\nYyBmcm9tIENvbXBhbnkyIGMgd2hlcmUgZXhpc3RzIChzZWxlY3QgVkFMVUUo\nZCkgZnJvbSBjLm9yZ2FuaXphdGlvbiBkICIKICAgICAgICAgICAgKyAid2hl\ncmUgS0VZKGQpID0gOmspIG9yZGVyIGJ5IGMgIjsgIAogICAgICAgIENyaXRl\ncmlhUXVlcnk8Q29tcGFueTI+IHEgPSBjYi5jcmVhdGVRdWVyeShDb21wYW55\nMi5jbGFzcyk7CiAgICAgICAgUm9vdDxDb21wYW55Mj4gYyA9IHEuZnJvbShD\nb21wYW55Mi5jbGFzcyk7CiAgICAgICAgU3VicXVlcnk8VmljZVByZXNpZGVu\ndD4gc3EgPSBxLnN1YnF1ZXJ5KFZpY2VQcmVzaWRlbnQuY2xhc3MpOwogICAg\nICAgIFJvb3Q8Q29tcGFueTI+IGMxID0gc3EuY29ycmVsYXRlKGMpOwogICAg\nICAgIE1hcEpvaW48Q29tcGFueTIsRGl2aXNpb24sVmljZVByZXNpZGVudD4g\nZCA9IGMxLmpvaW4oQ29tcGFueTJfLm9yZ2FuaXphdGlvbik7CiAgICAgICAg\ncS5zZWxlY3QoYyk7CiAgICAgICAgUGFyYW1ldGVyPERpdmlzaW9uPiBwYXJh\nbTEgPSBjYi5wYXJhbWV0ZXIoRGl2aXNpb24uY2xhc3MsICJrIik7CiAgICAg\nICAgc3Eud2hlcmUoY2IuZXF1YWwoZC5rZXkoKSwgcGFyYW0xKSk7CiAgICAg\nICAgc3Euc2VsZWN0KGQudmFsdWUoKSk7CiAgICAgICAgcS53aGVyZShjYi5l\neGlzdHMoc3EpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKGMpKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsLCBuZXcgU3RyaW5nW117\nImsifSwgbmV3IE9iamVjdFtde25ldyBEaXZpc2lvbigpfSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEyNygpIHsKICAg\nICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgZCBmcm9tIERpdmlzaW9uIGQi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8RGl2aXNpb24+IHEgPSBjYi5jcmVh\ndGVRdWVyeShEaXZpc2lvbi5jbGFzcyk7CiAgICAgICAgUm9vdDxEaXZpc2lv\nbj4gZCA9IHEuZnJvbShEaXZpc2lvbi5jbGFzcyk7CiAgICAgICAgcS5zZWxl\nY3QoZCk7CiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdEVtYmVkZGFibGVRdWVyeTEyOCgp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgdnAgZnJvbSBWaWNl\nUHJlc2lkZW50IHZwIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFZpY2VQcmVz\naWRlbnQ+IHEgPSBjYi5jcmVhdGVRdWVyeShWaWNlUHJlc2lkZW50LmNsYXNz\nKTsKICAgICAgICBSb290PFZpY2VQcmVzaWRlbnQ+IHZwID0gcS5mcm9tKFZp\nY2VQcmVzaWRlbnQuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KHZwKTsKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KfQo=\n","encoding":"base64"}

