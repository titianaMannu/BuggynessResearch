{"sha":"0370c093b4ab9ad8c260ca54d6162e0fb023de36","node_id":"MDQ6QmxvYjIwNjM2NDowMzcwYzA5M2I0YWI5YWQ4YzI2MGNhNTRkNjE2MmUwZmIwMjNkZTM2","size":7006,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0370c093b4ab9ad8c260ca54d6162e0fb023de36","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuQ29sbGVj\ndGlvbkpvaW47CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5D\ncml0ZXJpYVF1ZXJ5OwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVy\naWEuSm9pbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkpv\naW5UeXBlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuTGlz\ndEpvaW47CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5NYXBK\nb2luOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuUm9vdDsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLlNldEpvaW47Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuQmluZGFibGU7Cgov\nKioKICogVGVzdHMgQ3JpdGVyaWEgUXVlcmllcyB0aGF0IHVzZSBKb2luLgog\nKiAgCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcgogKgogKi8KcHVibGljIGNs\nYXNzIFRlc3RKb2luQ29uZGl0aW9uIGV4dGVuZHMgSm9pbkRvbWFpblRlc3RD\nYXNlIHsKICAgIHB1YmxpYyB2b2lkIHRlc3RTaW5nbGVBdHRyaWJ1dGVKb2lu\nTW9kZWwoKSB7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/PiBjcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxBPiBhID0gY3EuZnJvbShBLmNs\nYXNzKTsKICAgICAgICBKb2luPEEsQj4gYiA9IGEuam9pbihBXy5iKTsKICAg\nICAgICBhc3NlcnRUcnVlKGIuZ2V0TW9kZWwoKSBpbnN0YW5jZW9mIEJpbmRh\nYmxlKTsKICAgICAgICBhc3NlcnRTYW1lKEIuY2xhc3MsIGIuZ2V0SmF2YVR5\ncGUoKSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RDb2xsZWN0\naW9uSm9pbk1vZGVsKCkgewogICAgICAgIENyaXRlcmlhUXVlcnk8Pz4gY3Eg\nPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAgIFJvb3Q8Qz4gYyA9IGNxLmZy\nb20oQy5jbGFzcyk7CiAgICAgICAgQ29sbGVjdGlvbkpvaW48QyxEPiBkID0g\nYy5qb2luKENfLmNvbGwpOwogICAgICAgIGFzc2VydFNhbWUoRC5jbGFzcywg\nZC5nZXRKYXZhVHlwZSgpKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdFNldEpvaW5Nb2RlbCgpIHsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+\nIGNxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEM+IGMgPSBj\ncS5mcm9tKEMuY2xhc3MpOwogICAgICAgIFNldEpvaW48QyxEPiBkID0gYy5q\nb2luKENfLnNldCk7CiAgICAgICAgYXNzZXJ0U2FtZShELmNsYXNzLCBkLmdl\ndEphdmFUeXBlKCkpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nTGlzdEpvaW5Nb2RlbCgpIHsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PD8+IGNx\nID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEM+IGMgPSBjcS5m\ncm9tKEMuY2xhc3MpOwogICAgICAgIExpc3RKb2luPEMsRD4gZCA9IGMuam9p\nbihDXy5saXN0KTsKICAgICAgICBhc3NlcnRTYW1lKEQuY2xhc3MsIGQuZ2V0\nSmF2YVR5cGUoKSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RJ\nbm5lckpvaW5TaW5nbGVBdHRyaWJ1dGVXaXRob3V0Q29uZGl0aW9uKCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gQSBhIElOTkVS\nIEpPSU4gYS5iIGIiOwogICAgICAgIENyaXRlcmlhUXVlcnk8QT4gYyA9IGNi\nLmNyZWF0ZVF1ZXJ5KEEuY2xhc3MpOwogICAgICAgIGMuZnJvbShBLmNsYXNz\nKS5qb2luKEFfLmIsIEpvaW5UeXBlLklOTkVSKTsKICAgICAgICAKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShjLCBqcHFsKTsKICAgIH0gIAogICAgCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0Q3Jvc3NKb2luV2l0aG91dENvbmRpdGlvbigp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBmcm9tIEEgYSwg\nQyBjIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEE+IGNxID0gY2IuY3JlYXRl\nUXVlcnkoQS5jbGFzcyk7CiAgICAgICAgUm9vdDxBPiBhID0gY3EuZnJvbShB\nLmNsYXNzKTsKICAgICAgICBSb290PEM+IGMgPSBjcS5mcm9tKEMuY2xhc3Mp\nOwogICAgICAgIGNxLnNlbGVjdChhKTsKICAgICAgICBhc3NlcnRFcXVpdmFs\nZW5jZShjcSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3RDcm9zc0pvaW5XaXRob3V0Q29uZGl0aW9uMSgpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJzZWxlY3QgYSwgYyBmcm9tIEEgYSwgQyBjIjsKICAgICAg\nICBDcml0ZXJpYVF1ZXJ5PD8+IGNxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAg\nICAgICBSb290PEE+IGEgPSBjcS5mcm9tKEEuY2xhc3MpOwogICAgICAgIFJv\nb3Q8Qz4gYyA9IGNxLmZyb20oQy5jbGFzcyk7CiAgICAgICAgY3EubXVsdGlz\nZWxlY3QoYSwgYyk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UoY3EsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RDcm9z\nc0pvaW4oKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEgZnJv\nbSBBIGEsIEMgYyB3aGVyZSBhLm5hbWU9Yy5uYW1lIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PEE+IGNxID0gY2IuY3JlYXRlUXVlcnkoQS5jbGFzcyk7CiAg\nICAgICAgUm9vdDxBPiBhID0gY3EuZnJvbShBLmNsYXNzKTsKICAgICAgICBS\nb290PEM+IGMgPSBjcS5mcm9tKEMuY2xhc3MpOwogICAgICAgIGNxLndoZXJl\nKGNiLmVxdWFsKGEuZ2V0KEFfLm5hbWUpLCBjLmdldChDXy5uYW1lKSkpOwog\nICAgICAgIGNxLnNlbGVjdChhKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShjcSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdElubmVy\nSm9pblNpbmdsZUF0dHJpYnV0ZSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgYSBmcm9tIEEgYSBJTk5FUiBKT0lOIGEuYiBiIFdIRVJFIGEu\naWQ9Yi5hZ2UiOwogICAgICAgIENyaXRlcmlhUXVlcnk8QT4gY3EgPSBjYi5j\ncmVhdGVRdWVyeShBLmNsYXNzKTsKICAgICAgICBSb290PEE+IGEgPSBjcS5m\ncm9tKEEuY2xhc3MpOwogICAgICAgIEpvaW48QSxCPiBiID0gYS5qb2luKEFf\nLmIpOwogICAgICAgIGNxLndoZXJlKGNiLmVxdWFsKGEuZ2V0KEFfLmlkKSwg\nYi5nZXQoQl8uYWdlKSkpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKGNxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdE91dGVySm9pblNpbmdsZUF0dHJpYnV0ZVdpdGhvdXRDb25kaXRpb24o\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEgZnJvbSBBIGEg\nTEVGVCBKT0lOIGEuYiBiIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEE+IGNx\nID0gY2IuY3JlYXRlUXVlcnkoQS5jbGFzcyk7CiAgICAgICAgUm9vdDxBPiBh\nID0gY3EuZnJvbShBLmNsYXNzKTsKICAgICAgICBKb2luPEEsQj4gYiA9IGEu\nam9pbihBXy5iLCBKb2luVHlwZS5MRUZUKTsKICAgICAgICAKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShjcSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHRlc3RPdXRlckpvaW5TaW5nbGVBdHRyaWJ1dGUoKSB7CiAg\nICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0IGEgZnJvbSBBIGEgTEVGVCBK\nT0lOIGEuYiBiIHdoZXJlIGEuaWQ9Yi5hZ2UiOwogICAgICAgIENyaXRlcmlh\nUXVlcnk8QT4gY3EgPSBjYi5jcmVhdGVRdWVyeShBLmNsYXNzKTsKICAgICAg\nICBSb290PEE+IGEgPSBjcS5mcm9tKEEuY2xhc3MpOwogICAgICAgIEpvaW48\nQSxCPiBiID0gYS5qb2luKEFfLmIsIEpvaW5UeXBlLkxFRlQpOwogICAgICAg\nIGNxLndoZXJlKGNiLmVxdWFsKGEuZ2V0KEFfLmlkKSwgYi5nZXQoQl8uYWdl\nKSkpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKGNxLCBq\ncHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2V0Sm9pbldpdGhv\ndXRDb25kaXRpb24oKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGMgZnJvbSBDIGMgSk9JTiBjLnNldCBkIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEM+IGMgPSBjYi5jcmVhdGVRdWVyeShDLmNsYXNzKTsKICAgICAgICBj\nLmZyb20oQy5jbGFzcykuam9pbihDXy5zZXQpOwogICAgICAgIAogICAgICAg\nIGFzc2VydEVxdWl2YWxlbmNlKGMsIGpwcWwpOwogICAgfQogICAgCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0TGlzdEpvaW5XaXRob3V0Q29uZGl0aW9uKCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBjIGZyb20gQyBjIEpPSU4g\nYy5saXN0IGQiOwogICAgICAgIENyaXRlcmlhUXVlcnk8Qz4gYyA9IGNiLmNy\nZWF0ZVF1ZXJ5KEMuY2xhc3MpOwogICAgICAgIGMuZnJvbShDLmNsYXNzKS5q\nb2luKENfLmxpc3QpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxl\nbmNlKGMsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nQ29sbGVjdGlvbkpvaW5XaXRob3V0Q29uZGl0aW9uKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBjIGZyb20gQyBjIEpPSU4gYy5jb2xsIGQi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8Qz4gYyA9IGNiLmNyZWF0ZVF1ZXJ5\nKEMuY2xhc3MpOwogICAgICAgIGMuZnJvbShDLmNsYXNzKS5qb2luKENfLmNv\nbGwpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKGMsIGpw\ncWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWFwSm9pbldp\ndGhvdXRDb25kaXRpb24oKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2Vs\nZWN0IGMgZnJvbSBDIGMgSk9JTiBjLm1hcCBkIjsKICAgICAgICBDcml0ZXJp\nYVF1ZXJ5PEM+IGMgPSBjYi5jcmVhdGVRdWVyeShDLmNsYXNzKTsKICAgICAg\nICBjLmZyb20oQy5jbGFzcykuam9pbihDXy5tYXApOwogICAgICAgIAogICAg\nICAgIGFzc2VydEVxdWl2YWxlbmNlKGMsIGpwcWwpOwogICAgfQogCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0S2V5RXhwcmVzc2lvbigpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJzZWxlY3QgYyBmcm9tIEMgYyBKT0lOIGMubWFwIGQgd2hl\ncmUgS0VZKGQpPTMzIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEM+IGNxID0g\nY2IuY3JlYXRlUXVlcnkoQy5jbGFzcyk7CiAgICAgICAgUm9vdDxDPiBjID0g\nY3EuZnJvbShDLmNsYXNzKTsKICAgICAgICBNYXBKb2luPEMsSW50ZWdlcixE\nPiBkID0gYy5qb2luKENfLm1hcCk7CiAgICAgICAgY3Eud2hlcmUoY2IuZXF1\nYWwoZC5rZXkoKSwzMykpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKGNxLCBqcHFsKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdFZhbHVlRXhwcmVzc2lvbigpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgYyBmcm9tIEMgYyBKT0lOIGMubWFwIGQgd2hlcmUgVkFMVUUo\nZCkubmFtZT0neHknIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEM+IGNxID0g\nY2IuY3JlYXRlUXVlcnkoQy5jbGFzcyk7CiAgICAgICAgUm9vdDxDPiBjID0g\nY3EuZnJvbShDLmNsYXNzKTsKICAgICAgICBNYXBKb2luPEMsSW50ZWdlcixE\nPiBkID0gYy5qb2luKENfLm1hcCk7CiAgICAgICAgY3Eud2hlcmUoY2IuZXF1\nYWwoZC52YWx1ZSgpLmdldChEXy5uYW1lKSwieHkiKSk7CiAgICAgICAgCiAg\nICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UoY3EsIGpwcWwpOwogICAgfQogICAg\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0RmV0Y2hKb2luKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gQSBhIEpPSU4gRkVUQ0ggYS5i\nIjsKICAgICAgICAKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEE+IGNxID0gY2Iu\nY3JlYXRlUXVlcnkoQS5jbGFzcyk7CiAgICAgICAgUm9vdDxBPiBhID0gY3Eu\nZnJvbShBLmNsYXNzKTsKICAgICAgICBhLmZldGNoKEFfLmIpOwogICAgICAg\nIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKGNxLCBqcHFsKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdE91dGVyRmV0Y2hKb2luKCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gQSBhIExFRlQg\nSk9JTiBGRVRDSCBhLmIiOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVl\ncnk8QT4gY3EgPSBjYi5jcmVhdGVRdWVyeShBLmNsYXNzKTsKICAgICAgICBS\nb290PEE+IGEgPSBjcS5mcm9tKEEuY2xhc3MpOwogICAgICAgIGEuZmV0Y2go\nQV8uYiwgSm9pblR5cGUuTEVGVCk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UoY3EsIGpwcWwpOwogICAgfQp9Cg==\n","encoding":"base64"}

