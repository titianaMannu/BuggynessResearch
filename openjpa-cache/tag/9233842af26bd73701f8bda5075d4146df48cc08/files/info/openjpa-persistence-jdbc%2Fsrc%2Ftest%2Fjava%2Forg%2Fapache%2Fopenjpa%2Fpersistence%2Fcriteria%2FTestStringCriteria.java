{"sha":"914e1538f7ab6f69206b2eecca54a48b05abe658","node_id":"MDQ6QmxvYjIwNjM2NDo5MTRlMTUzOGY3YWI2ZjY5MjA2YjJlZWNjYTU0YTQ4YjA1YWJlNjU4","size":17921,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/914e1538f7ab6f69206b2eecca54a48b05abe658","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbjsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5U\ndXBsZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkNyaXRl\ncmlhUXVlcnk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5F\neHByZXNzaW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEu\nSm9pbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLkpvaW5U\neXBlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuTGlzdEpv\naW47CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5NYXBKb2lu\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuUGFyYW1ldGVy\nRXhwcmVzc2lvbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlh\nLlBhdGg7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5jcml0ZXJpYS5Sb290\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuY3JpdGVyaWEuU2V0Sm9pbjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNyaXRlcmlhLlN1YnF1ZXJ5OwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LkFs\nbG93RmFpbHVyZTsKCnB1YmxpYyBjbGFzcyBUZXN0U3RyaW5nQ3JpdGVyaWEg\nZXh0ZW5kcyBDcml0ZXJpYVRlc3QgewoKICAgIHB1YmxpYyB2b2lkIHRlc3RD\ncml0ZXJpYSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYyBm\ncm9tIEN1c3RvbWVyIGMgd2hlcmUgYy5uYW1lPSdBdXRvd2VzdCBUb3lvdGEn\nIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3Jl\nYXRlUXVlcnkoQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8Q3VzdG9t\nZXI+IGN1c3RvbWVyID0gcS5mcm9tKEN1c3RvbWVyLmNsYXNzKTsKICAgICAg\nICBQYXRoPFN0cmluZz4gcGF0aCA9IGN1c3RvbWVyLjxTdHJpbmc+Z2V0KCJu\nYW1lIik7CiAgICAgICAgcS5zZWxlY3QoY3VzdG9tZXIpLndoZXJlKGNiLmVx\ndWFsKGN1c3RvbWVyLmdldCgibmFtZSIpLCAiQXV0b3dlc3QgVG95b3RhIikp\nOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0Sm9pbnMxKCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gIlNFTEVDVCBjLm5hbWUgRlJPTSBDdXN0b21lciBjIEpPSU4g\nYy5vcmRlcnMgbyAiCiAgICAgICAgICAgICAgICArICJKT0lOIG8ubGluZUl0\nZW1zIGkgV0hFUkUgaS5wcm9kdWN0LnByb2R1Y3RUeXBlID0gJ3ByaW50ZXIn\nIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFN0cmluZz4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KFN0cmluZy5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4g\nY3VzdCA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgU2V0Sm9p\nbjxDdXN0b21lciwgT3JkZXI+IG9yZGVyID0gY3VzdC5qb2luU2V0KCJvcmRl\ncnMiKTsKICAgICAgICBMaXN0Sm9pbjxPcmRlciwgTGluZUl0ZW0+IGl0ZW0g\nPSBvcmRlci5qb2luTGlzdCgibGluZUl0ZW1zIik7CiAgICAgICAgcS5zZWxl\nY3QoY3VzdC5nZXQoQ3VzdG9tZXJfLm5hbWUpKS53aGVyZSgKICAgICAgICAg\nICAgICAgIGNiLmVxdWFsKGl0ZW0uZ2V0KCJwcm9kdWN0IikuZ2V0KCJwcm9k\ndWN0VHlwZSIpLCAicHJpbnRlciIpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEpv\naW5zMigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgYyBGUk9N\nIEN1c3RvbWVyIGMgTEVGVCBKT0lOIGMub3JkZXJzIG8gV0hFUkUgIgogICAg\nICAgICAgICAgICAgKyAiYy5zdGF0dXMgPSAxIjsKICAgICAgICBDcml0ZXJp\nYVF1ZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIu\nY2xhc3MpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBxLmZyb20oQ3Vz\ndG9tZXIuY2xhc3MpOwogICAgICAgIFNldEpvaW48Q3VzdG9tZXIsIE9yZGVy\nPiBvID0gYy5qb2luU2V0KCJvcmRlcnMiLCBKb2luVHlwZS5MRUZUKTsKICAg\nICAgICBxLndoZXJlKGNiLmVxdWFsKGMuZ2V0KCJzdGF0dXMiKSwgMSkpCiAg\nICAgICAgIC5zZWxlY3QoYyk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RGZXRjaEpv\naW5zKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBkIEZST00g\nRGVwYXJ0bWVudCBkIExFRlQgSk9JTiBGRVRDSCBkLmVtcGxveWVlcyBXSEVS\nRSBkLmRlcHRObyA9IDEiOwogICAgICAgIENyaXRlcmlhUXVlcnk8RGVwYXJ0\nbWVudD4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KERlcGFydG1lbnQuY2xhc3MpOwog\nICAgICAgIFJvb3Q8RGVwYXJ0bWVudD4gZCA9IHEuZnJvbShEZXBhcnRtZW50\nLmNsYXNzKTsKICAgICAgICBkLmZldGNoKCJlbXBsb3llZXMiLCBKb2luVHlw\nZS5MRUZUKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGQuZ2V0KCJkZXB0\nTm8iKSwgMSkpLnNlbGVjdChkKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UocSwganBxbCk7CiAgICB9CgogICAgQEFsbG93RmFpbHVyZShtZXNzYWdl\nPSJTUUwgbWlzbWF0Y2guIE5vdCBhbmFseXplZCBmdXJ0aGVyLiBJcyB0aGUg\nQ3JpdGVyaWFRdWVyeSBjb3JlY3QgZm9yIGUuY29udGFjdEluZm8ucGhvbmVz\nPyIpCiAgICBwdWJsaWMgdm9pZCB0ZXN0UGF0aE5hdmlnYXRpb24oKSB7CiAg\nICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIHAudmVuZG9yIEZST00gRW1w\nbG95ZWUgZSAiCiAgICAgICAgICAgICAgICArICJKT0lOIGUuY29udGFjdElu\nZm8ucGhvbmVzIHAgIFdIRVJFIGUuY29udGFjdEluZm8uYWRkcmVzcy56aXBD\nb2RlID0gJzk1MDU0JyI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxTdHJpbmc+\nIHEgPSBjYi5jcmVhdGVRdWVyeShTdHJpbmcuY2xhc3MpOwogICAgICAgIFJv\nb3Q8RW1wbG95ZWU+IGUgPSBxLmZyb20oRW1wbG95ZWUuY2xhc3MpOwogICAg\nICAgIExpc3RKb2luPENvbnRhY3QsIFBob25lPiBwID0gZS5qb2luKCJjb250\nYWN0SW5mbyIpLmpvaW5MaXN0KCJwaG9uZXMiKTsKICAgICAgICBxLndoZXJl\nKGNiLmVxdWFsKGUuZ2V0KCJjb250YWN0SW5mbyIpLmdldCgiYWRkcmVzcyIp\nLmdldCgiemlwQ29kZSIpLCAiOTUwNTQiKSk7CiAgICAgICAgcS5zZWxlY3Qo\ncC5nZXQoInZlbmRvciIpLmFzKFN0cmluZy5jbGFzcykpOwoKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0S2V5KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVD\nVCBpLm5hbWUsIHAgRlJPTSBJdGVtIGkgSk9JTiBpLnBob3RvcyBwIFdIRVJF\nIEtFWShwKSBMSUtFICclZWdyZXQlJyI7CgogICAgICAgIENyaXRlcmlhUXVl\ncnk8VHVwbGU+IHEgPSBjYi5jcmVhdGVUdXBsZVF1ZXJ5KCk7CiAgICAgICAg\nUm9vdDxJdGVtPiBpdGVtID0gcS5mcm9tKEl0ZW0uY2xhc3MpOwogICAgICAg\nIE1hcEpvaW48SXRlbSwgU3RyaW5nLCBQaG90bz4gcGhvdG8gPSBpdGVtLmpv\naW5NYXAoInBob3RvcyIpOwogICAgICAgIHEubXVsdGlzZWxlY3QoaXRlbS5n\nZXQoIm5hbWUiKSwgcGhvdG8pCiAgICAgICAgICAgICAgICAud2hlcmUoY2Iu\nbGlrZShwaG90by5rZXkoKSwgIiVlZ3JldCUiKSk7CgogICAgICAgIGFzc2Vy\ndEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RSZXN0cmljdFF1ZXJ5UmVzdWx0KCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gIlNFTEVDVCB0IEZST00gQ3JlZGl0Q2FyZCBjIEpPSU4gYy50cmFu\nc2FjdGlvbkhpc3RvcnkgdCAiCiAgICAgICAgICAgICAgICArICJXSEVSRSBj\nLmN1c3RvbWVyLmFjY291bnROdW0gPSAzMjE5ODcgQU5EIElOREVYKHQpIEJF\nVFdFRU4gMCBBTkQgOSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxUcmFuc2Fj\ndGlvbkhpc3Rvcnk+IHEgPSBjYi5jcmVhdGVRdWVyeShUcmFuc2FjdGlvbkhp\nc3RvcnkuY2xhc3MpOwogICAgICAgIFJvb3Q8Q3JlZGl0Q2FyZD4gYyA9IHEu\nZnJvbShDcmVkaXRDYXJkLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxDcmVk\naXRDYXJkLCBUcmFuc2FjdGlvbkhpc3Rvcnk+IHQgPSBjLmpvaW5MaXN0KCJ0\ncmFuc2FjdGlvbkhpc3RvcnkiKTsKICAgICAgICBxLnNlbGVjdCh0KS53aGVy\nZSgKICAgICAgICAgICAgICAgIGNiLmVxdWFsKGMuZ2V0KCJjdXN0b21lciIp\nLmdldCgiYWNjb3VudE51bSIpLCAzMjE5ODcpLAogICAgICAgICAgICAgICAg\nY2IuYmV0d2Vlbih0LmluZGV4KCksIDAsIDkpKTsKCiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHRlc3RJc0VtcHR5KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNF\nTEVDVCBvIEZST00gT3JkZXIgbyBXSEVSRSBvLmxpbmVJdGVtcyBJUyBFTVBU\nWSI7IAogICAgICAgICAgQ3JpdGVyaWFRdWVyeTxPcmRlcj4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KE9yZGVyLmNsYXNzKTsgCiAgICAgICAgICBSb290PE9yZGVy\nPiBvID0gcS5mcm9tKE9yZGVyLmNsYXNzKTsKICAgICAgICAgIHEud2hlcmUo\nY2IuaXNFbXB0eShvLmdldCgibGluZUl0ZW1zIikuYXMoQ29sbGVjdGlvbi5j\nbGFzcykpKTsgCiAgICAgICAgICBxLnNlbGVjdChvKTsKICAgICAgICAgIAog\nICAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdEV4cHJlc3Npb25zKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gIlNFTEVDVCBvLnF1YW50aXR5LCBvLnRvdGFsQ29zdCox\nLjA4IEFTIHRheGVkQ29zdCwgIgogICAgICAgICAgICAgICAgKyAiYS56aXBD\nb2RlIEZST00gQ3VzdG9tZXIgYyBKT0lOIGMub3JkZXJzIG8gSk9JTiBjLmFk\nZHJlc3MgYSAiCiAgICAgICAgICAgICAgICArICJXSEVSRSBhLnN0YXRlID0g\nJ0NBJyBBTkQgYS5jb3VudHkgPSAnU2FudGEgQ2xhcmEnIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRlVHVwbGVRdWVyeSgp\nOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBxLmZyb20oQ3VzdG9tZXIu\nY2xhc3MpOwogICAgICAgIFNldEpvaW48Q3VzdG9tZXIsIE9yZGVyPiBvID0g\nYy5qb2luU2V0KCJvcmRlcnMiKTsKICAgICAgICBKb2luPEN1c3RvbWVyLCBB\nZGRyZXNzPiBhICA9IGMuam9pbigiYWRkcmVzcyIpOwogICAgICAgIHEud2hl\ncmUoY2IuZXF1YWwoYS5nZXQoInN0YXRlIiksICJDQSIpLCBjYi5lcXVhbChh\nLmdldCgiY291bnR5IiksICJTYW50YSBDbGFyYSIpKTsKICAgICAgICBFeHBy\nZXNzaW9uPEZsb2F0PiBwcm9kdWN0VGVybSA9IChFeHByZXNzaW9uPEZsb2F0\nPiljYi50b0Zsb2F0KGNiLnByb2Qoby5nZXQoInRvdGFsQ29zdCIpLmFzKEZs\nb2F0LmNsYXNzKSwgMS4wOCkpCiAgICAgICAgICAgLmFsaWFzKCJ0YXhlZENv\nc3QiKTsKICAgICAgICBxLm11bHRpc2VsZWN0KG8uZ2V0KCJxdWFudGl0eSIp\nLCBwcm9kdWN0VGVybSwgYS5nZXQoInppcENvZGUiKSk7CgogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RJbmRleCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxF\nQ1Qgdy5uYW1lIEZST00gQ291cnNlIGMgSk9JTiBjLnN0dWRlbnRXYWl0TGlz\ndCB3ICIKICAgICAgICAgICAgICAgICsgIldIRVJFIGMubmFtZSA9ICdDYWxj\ndWx1cycgQU5EIElOREVYKHcpID0gMCI7CiAgICAgICAgQ3JpdGVyaWFRdWVy\neTxTdHJpbmc+IHEgPSBjYi5jcmVhdGVRdWVyeShTdHJpbmcuY2xhc3MpOwog\nICAgICAgIFJvb3Q8Q291cnNlPiBjb3Vyc2UgPSBxLmZyb20oQ291cnNlLmNs\nYXNzKTsKICAgICAgICBMaXN0Sm9pbjxDb3Vyc2UsIFN0dWRlbnQ+IHcgPSBj\nb3Vyc2Uuam9pbkxpc3QoInN0dWRlbnRXYWl0TGlzdCIpOwogICAgICAgIHEu\nd2hlcmUoY2IuZXF1YWwoY291cnNlLmdldCgibmFtZSIpLCAiQ2FsY3VsdXMi\nKSwKICAgICAgICAgICAgICAgIGNiLmVxdWFsKHcuaW5kZXgoKSwgMCkpLnNl\nbGVjdCh3LmdldCgibmFtZSIpLmFzKFN0cmluZy5jbGFzcykpOwoKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0U3VtKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNF\nTEVDVCBTVU0oaS5wcmljZSkgRlJPTSBPcmRlciBvIEpPSU4gby5saW5lSXRl\nbXMgaSBKT0lOICIKICAgICAgICAgICAgICAgICsgIm8uY3VzdG9tZXIgYyBX\nSEVSRSBjLmxhc3ROYW1lID0gJ1NtaXRoJyBBTkQgYy5maXJzdE5hbWUgPSAn\nSm9obiciOwogICAgICAgIENyaXRlcmlhUXVlcnk8RG91YmxlPiBxID0gY2Iu\nY3JlYXRlUXVlcnkoRG91YmxlLmNsYXNzKTsKICAgICAgICBSb290PE9yZGVy\nPiBvID0gcS5mcm9tKE9yZGVyLmNsYXNzKTsKICAgICAgICBMaXN0Sm9pbjxP\ncmRlciwgTGluZUl0ZW0+IGkgPSBvLmpvaW5MaXN0KCJsaW5lSXRlbXMiKTsK\nICAgICAgICBKb2luPE9yZGVyLCBDdXN0b21lcj4gYyA9IG8uam9pbigiY3Vz\ndG9tZXIiKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGMuZ2V0KCJsYXN0\nTmFtZSIpLCAiU21pdGgiKSwgY2IuZXF1YWwoYy5nZXQoImZpcnN0TmFtZSIp\nLCAiSm9obiIpKTsKICAgICAgICBxLnNlbGVjdChjYi5zdW0oaS5nZXQoInBy\naWNlIikuYXMoRG91YmxlLmNsYXNzKSkpOyAKCiAgICAgICAgYXNzZXJ0RXF1\naXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndFNpemUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIFNJWkUo\nZC5lbXBsb3llZXMpIEZST00gRGVwYXJ0bWVudCBkICIKICAgICAgICAgICAg\nICAgICsgIldIRVJFIGQubmFtZSA9ICdTYWxlcyciOwogICAgICAgIENyaXRl\ncmlhUXVlcnk8SW50ZWdlcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEludGVnZXIu\nY2xhc3MpOwogICAgICAgIFJvb3Q8RGVwYXJ0bWVudD4gZCA9IHEuZnJvbShE\nZXBhcnRtZW50LmNsYXNzKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGQu\nZ2V0KCJuYW1lIiksICJTYWxlcyIpKTsKICAgICAgICBxLnNlbGVjdChjYi5z\naXplKChkLmdldCgiZW1wbG95ZWVzIikuYXMoQ29sbGVjdGlvbi5jbGFzcykp\nKSk7IAoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q2FzZSgpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJTRUxFQ1QgZS5uYW1lLCBDQVNFIFdIRU4gZS5yYXRpbmcg\nPSAxIFRIRU4gZS5zYWxhcnkgKiAxLjEgIgogICAgICAgICAgICAgICAgKyAi\nV0hFTiBlLnJhdGluZyA9IDIgVEhFTiBlLnNhbGFyeSAqIDEuMiBFTFNFIGUu\nc2FsYXJ5ICogMS4wMSBFTkQgIgogICAgICAgICAgICAgICAgKyAiRlJPTSBF\nbXBsb3llZSBlIFdIRVJFIGUuZGVwYXJ0bWVudC5uYW1lID0gJ0VuZ2luZWVy\naW5nJyI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxPYmplY3RbXT4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KE9iamVjdFtdLmNsYXNzKTsKICAgICAgICBSb290PEVt\ncGxveWVlPiBlID0gcS5mcm9tKEVtcGxveWVlLmNsYXNzKTsKICAgICAgICBx\nLndoZXJlKGNiLmVxdWFsKGUuZ2V0KCJkZXBhcnRtZW50IikuZ2V0KCJuYW1l\nIiksICJFbmdpbmVlcmluZyIpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGUu\nZ2V0KCJuYW1lIiksIAogICAgICAgICAgICAgICAgY2Iuc2VsZWN0Q2FzZSgp\nCiAgICAgICAgICAgICAgICAgIC53aGVuKGNiLmVxdWFsKGUuZ2V0KCJyYXRp\nbmciKSwgMSksIGNiLnByb2QoZS5nZXQoInNhbGFyeSIpLmFzKEZsb2F0LmNs\nYXNzKSwgMS4xKSkKICAgICAgICAgICAgICAgICAgLndoZW4oY2IuZXF1YWwo\nZS5nZXQoInJhdGluZyIpLCAyKSwgY2IucHJvZChlLmdldCgic2FsYXJ5Iiku\nYXMoRmxvYXQuY2xhc3MpLCAxLjIpKQogICAgICAgICAgICAgICAgICAub3Ro\nZXJ3aXNlKGNiLnByb2QoZS5nZXQoInNhbGFyeSIpLmFzKEZsb2F0LmNsYXNz\nKSwgMS4wMSkpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KICAgIAogICAgICBwdWJsaWMgdm9pZCB0ZXN0TGl0ZXJhbHMo\nKSB7IAogICAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIHAgRlJPTSBQ\nZXJzb24gcCB3aGVyZSAnSm9lJyBNRU1CRVIgT0YgIiArICJwLm5pY2tOYW1l\ncyI7CiAgICAgICAgICBDcml0ZXJpYVF1ZXJ5PFBlcnNvbj4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KFBlcnNvbi5jbGFzcyk7IAogICAgICAgICAgUm9vdDxQZXJz\nb24+IHAgPSBxLmZyb20oUGVyc29uLmNsYXNzKTsKICAgICAgICAgIHEuc2Vs\nZWN0KHApLndoZXJlKGNiLmlzTWVtYmVyKCJKb2UiLCBwLmdldCgibmlja05h\nbWVzIikuYXMoQ29sbGVjdGlvbi5jbGFzcykpKTsKICAgICAgCiAgICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsgCiAgICAgfQogICAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RQYXJhbWV0ZXJzKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gIlNFTEVDVCBjIEZST00gQ3VzdG9tZXIgYyBXaGVyZSBj\nLnN0YXR1cyA9IDpzdGF0IjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3Rv\nbWVyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIuY2xhc3MpOwogICAg\nICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3Mp\nOwogICAgICAgIFBhcmFtZXRlckV4cHJlc3Npb248SW50ZWdlcj4gcGFyYW0g\nPSBjYi5wYXJhbWV0ZXIoSW50ZWdlci5jbGFzcywgInN0YXQiKTsKICAgICAg\nICBwYXJhbS5hbGlhcygic3RhdCIpOwogICAgICAgIHEuc2VsZWN0KGMpLndo\nZXJlKGNiLmVxdWFsKGMuZ2V0KCJzdGF0dXMiKSwgcGFyYW0pKTsKCiAgICAg\nICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCwgbmV3IFN0cmluZ1tdIHsg\nInN0YXQiIH0sIG5ldyBPYmplY3RbXSB7IDEgfSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdFNlbGVjdExpc3QoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAiU0VMRUNUIHYubG9jYXRpb24uc3RyZWV0LCBLRVkoaSkudGl0bGUs\nIFZBTFVFKGkpIEZST00gIgogICAgICAgICAgICAgICAgKyAiVmlkZW9TdG9y\nZSB2IEpPSU4gdi52aWRlb0ludmVudG9yeSBpICIKICAgICAgICAgICAgICAg\nICsgIldIRVJFIHYubG9jYXRpb24uemlwQ29kZSA9ICIgKyAiJzk0MzAxJyBB\nTkQgVkFMVUUoaSkgPiAwIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFR1cGxl\nPiBxID0gY2IuY3JlYXRlVHVwbGVRdWVyeSgpOwogICAgICAgIFJvb3Q8Vmlk\nZW9TdG9yZT4gdiA9IHEuZnJvbShWaWRlb1N0b3JlLmNsYXNzKTsKICAgICAg\nICBNYXBKb2luPFZpZGVvU3RvcmUsIE1vdmllLCBJbnRlZ2VyPiBpID0gdi5q\nb2luTWFwKCJ2aWRlb0ludmVudG9yeSIpOwogICAgICAgIHEud2hlcmUoY2Iu\nZXF1YWwodi5nZXQoImxvY2F0aW9uIikuZ2V0KCJ6aXBDb2RlIiksICI5NDMw\nMSIpLCBjYi5ndChpLnZhbHVlKCksIDApKTsKICAgICAgICBxLm11bHRpc2Vs\nZWN0KHYuZ2V0KCJsb2NhdGlvbiIpLmdldCgic3RyZWV0IiksIGkua2V5KCku\nZ2V0KCJ0aXRsZSIpLCBpLnZhbHVlKCkpOwoKICAgICAgICBhc3NlcnRFcXVp\ndmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBUZXN0\nQ29udHJ1Y3RvcigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1Qg\nTkVXIEN1c3RvbWVyRGV0YWlscyhjLmlkLCBjLnN0YXR1cywgby5xdWFudGl0\neSkgRlJPTSAiCiAgICAgICAgICAgICAgICArICJDdXN0b21lciBjIEpPSU4g\nYy5vcmRlcnMgbyBXSEVSRSBvLnF1YW50aXR5ID4gMTAwIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PEN1c3RvbWVyRGV0YWlscz4gcSA9IGNiLmNyZWF0ZVF1\nZXJ5KEN1c3RvbWVyRGV0YWlscy5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0\nb21lcj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgU2V0\nSm9pbjxDdXN0b21lciwgT3JkZXI+IG8gPSBjLmpvaW5TZXQoIm9yZGVycyIp\nOwogICAgICAgIHEud2hlcmUoY2IuZ3Qoby5nZXQoInF1YW50aXR5IikuYXMo\nSW50ZWdlci5jbGFzcyksIDEwMCkpOyAKICAgICAgICBxLnNlbGVjdChjYi5j\nb25zdHJ1Y3QoQ3VzdG9tZXJEZXRhaWxzLmNsYXNzLCBjLmdldCgiaWQiKSwg\nYy5nZXQoInN0YXR1cyIpLCBvLmdldCgicXVhbnRpdHkiKSkpOwoKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0U3VicXVlcnkxKCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gIlNFTEVDVCBnb29kQ3VzdG9tZXIgRlJPTSBDdXN0b21lciBnb29kQ3Vz\ndG9tZXIgV0hFUkUgIgogICAgICAgICAgICAgICAgKyAiZ29vZEN1c3RvbWVy\nLmJhbGFuY2VPd2VkIDwgKFNFTEVDVCBBVkcoYy5iYWxhbmNlT3dlZCkgRlJP\nTSAiCiAgICAgICAgICAgICAgICArICJDdXN0b21lciBjKSI7CiAgICAgICAg\nQ3JpdGVyaWFRdWVyeTxDdXN0b21lcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEN1\nc3RvbWVyLmNsYXNzKTsKICAgICAgICBSb290PEN1c3RvbWVyPiBnb29kQ3Vz\ndG9tZXIgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFN1YnF1\nZXJ5PERvdWJsZT4gc3EgPSBxLnN1YnF1ZXJ5KERvdWJsZS5jbGFzcyk7CiAg\nICAgICAgUm9vdDxDdXN0b21lcj4gYyA9IHNxLmZyb20oQ3VzdG9tZXIuY2xh\nc3MpOwogICAgICAgIHEud2hlcmUoY2IubHQoZ29vZEN1c3RvbWVyLmdldCgi\nYmFsYW5jZU93ZWQiKS5hcyhEb3VibGUuY2xhc3MpLAogICAgICAgICAgICAg\nICAgICAgICAgc3Euc2VsZWN0KGNiLmF2ZyhjLmdldCgiYmFsYW5jZU93ZWQi\nKS5hcyhEb3VibGUuY2xhc3MpKSkpKTsKICAgICAgICBxLnNlbGVjdChnb29k\nQ3VzdG9tZXIpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3VicXVlcnkyKCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBESVNUSU5DVCBlbXAgRlJP\nTSBFbXBsb3llZSBlbXAgV0hFUkUgRVhJU1RTICgiCiAgICAgICAgICAgICAg\nICArICJTRUxFQ1Qgc3BvdXNlRW1wIEZST00gRW1wbG95ZWUgc3BvdXNlRW1w\nIFdIRVJFIHNwb3VzZUVtcCA9ICIKICAgICAgICAgICAgICAgICsgImVtcC5z\ncG91c2UpIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEVtcGxveWVlPiBxID0g\nY2IuY3JlYXRlUXVlcnkoRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIFJvb3Q8\nRW1wbG95ZWU+IGVtcCA9IHEuZnJvbShFbXBsb3llZS5jbGFzcyk7CiAgICAg\nICAgU3VicXVlcnk8RW1wbG95ZWU+IHNxMSA9IHEuc3VicXVlcnkoRW1wbG95\nZWUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW1wbG95ZWU+IHNwb3VzZUVtcCA9\nIHNxMS5mcm9tKEVtcGxveWVlLmNsYXNzKTsKICAgICAgICBzcTEuc2VsZWN0\nKHNwb3VzZUVtcCk7CiAgICAgICAgc3ExLndoZXJlKGNiLmVxdWFsKHNwb3Vz\nZUVtcCwgZW1wLmdldCgic3BvdXNlIikpKTsKICAgICAgICBxLndoZXJlKGNi\nLmV4aXN0cyhzcTEpKTsKICAgICAgICBxLnNlbGVjdChlbXApLmRpc3RpbmN0\nKHRydWUpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3VicXVlcnkzKCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBlbXAgRlJPTSBFbXBsb3llZSBl\nbXAgV0hFUkUgZW1wLnNhbGFyeSA+IEFMTCAoIgogICAgICAgICAgICAgICAg\nKyAiU0VMRUNUIG0uc2FsYXJ5IEZST00gTWFuYWdlciBtIFdIRVJFIG0uZGVw\nYXJ0bWVudCA9IgogICAgICAgICAgICAgICAgKyAiIGVtcC5kZXBhcnRtZW50\nKSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxFbXBsb3llZT4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KEVtcGxveWVlLmNsYXNzKTsKICAgICAgICBSb290PEVtcGxv\neWVlPiBlbXAgPSBxLmZyb20oRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIHEu\nc2VsZWN0KGVtcCk7CiAgICAgICAgU3VicXVlcnk8QmlnRGVjaW1hbD4gc3Eg\nPSBxLnN1YnF1ZXJ5KEJpZ0RlY2ltYWwuY2xhc3MpOwogICAgICAgIFJvb3Q8\nTWFuYWdlcj4gbSA9IHNxLmZyb20oTWFuYWdlci5jbGFzcyk7CiAgICAgICAg\nc3Euc2VsZWN0KG0uZ2V0KCJzYWxhcnkiKS5hcyhCaWdEZWNpbWFsLmNsYXNz\nKSk7IAogICAgICAgIHNxLndoZXJlKGNiLmVxdWFsKG0uZ2V0KCJkZXBhcnRt\nZW50IiksIGVtcC5nZXQoImRlcGFydG1lbnQiKSkpOwogICAgICAgIHEud2hl\ncmUoY2IuZ3QoZW1wLmdldCgic2FsYXJ5IikuYXMoQmlnRGVjaW1hbC5jbGFz\ncyksIGNiLmFsbChzcSkpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2Uo\ncSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFN1YnF1ZXJ5\nNCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgYyBGUk9NIEN1\nc3RvbWVyIGMgV0hFUkUgIgogICAgICAgICAgICAgICAgKyAiKFNFTEVDVCBD\nT1VOVChvKSBGUk9NIGMub3JkZXJzIG8pID4gMTAiOwogICAgICAgIENyaXRl\ncmlhUXVlcnk8Q3VzdG9tZXI+IHEgPSBjYi5jcmVhdGVRdWVyeShDdXN0b21l\nci5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYzEgPSBxLmZyb20o\nQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGMxKTsKICAgICAg\nICBTdWJxdWVyeTxMb25nPiBzcTMgPSBxLnN1YnF1ZXJ5KExvbmcuY2xhc3Mp\nOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMyID0gc3EzLmNvcnJlbGF0ZShj\nMSk7CiAgICAgICAgU2V0Sm9pbjxDdXN0b21lciwgT3JkZXI+IG8gPSBjMi5q\nb2luU2V0KCJvcmRlcnMiKTsKICAgICAgICBxLndoZXJlKGNiLmd0KHNxMy5z\nZWxlY3QoY2IuY291bnQobykpLCAxMCkpOwoKICAgICAgICBhc3NlcnRFcXVp\ndmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nU3VicXVlcnk1KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBv\nIEZST00gT3JkZXIgbyBXSEVSRSAxMDAwMCA8IEFMTCAoIgogICAgICAgICAg\nICAgICAgKyAiU0VMRUNUIGEuYmFsYW5jZSBGUk9NIG8uY3VzdG9tZXIgYyBK\nT0lOIGMuYWNjb3VudHMgYSkiOwogICAgICAgIENyaXRlcmlhUXVlcnk8T3Jk\nZXI+IHEgPSBjYi5jcmVhdGVRdWVyeShPcmRlci5jbGFzcyk7CiAgICAgICAg\nUm9vdDxPcmRlcj4gbzEgPSBxLmZyb20oT3JkZXIuY2xhc3MpOwogICAgICAg\nIHEuc2VsZWN0KG8xKTsKICAgICAgICBTdWJxdWVyeTxJbnRlZ2VyPiBzcTQg\nPSBxLnN1YnF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8T3Jk\nZXI+IG8yID0gc3E0LmNvcnJlbGF0ZShvMSk7CiAgICAgICAgSm9pbjxPcmRl\nciwgQ3VzdG9tZXI+IGMzID0gbzIuam9pbigiY3VzdG9tZXIiKTsKICAgICAg\nICBMaXN0Sm9pbjxDdXN0b21lciwgQWNjb3VudD4gYSA9IGMzLmpvaW5MaXN0\nKCgiYWNjb3VudHMiKSk7CiAgICAgICAgc3E0LnNlbGVjdChhLmdldCgiYmFs\nYW5jZSIpLmFzKEludGVnZXIuY2xhc3MpKTsgCiAgICAgICAgcS53aGVyZShj\nYi5sdChjYi5saXRlcmFsKDEwMDAwKSwgY2IuYWxsKHNxNCkpKTsKCiAgICAg\nICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdFN1YnF1ZXJ5NigpIHsKICAgICAgICBTdHJpbmcganBx\nbCA9ICJTRUxFQ1QgbyBGUk9NIE9yZGVyIG8gSk9JTiBvLmN1c3RvbWVyIGMg\nV0hFUkUgMTAwMDAgPCAiCiAgICAgICAgICAgICAgICArICJBTEwgKFNFTEVD\nVCBhLmJhbGFuY2UgRlJPTSBjLmFjY291bnRzIGEpIjsKICAgICAgICBDcml0\nZXJpYVF1ZXJ5PE9yZGVyPiBxID0gY2IuY3JlYXRlUXVlcnkoT3JkZXIuY2xh\nc3MpOwogICAgICAgIFJvb3Q8T3JkZXI+IG8gPSBxLmZyb20oT3JkZXIuY2xh\nc3MpOwogICAgICAgIHEuc2VsZWN0KG8pOwogICAgICAgIEpvaW48T3JkZXIs\nIEN1c3RvbWVyPiBjID0gby5qb2luKE9yZGVyXy5jdXN0b21lcik7CiAgICAg\nICAgU3VicXVlcnk8SW50ZWdlcj4gc3EgPSBxLnN1YnF1ZXJ5KEludGVnZXIu\nY2xhc3MpOwogICAgICAgIEpvaW48T3JkZXIsIEN1c3RvbWVyPiBjMiA9IHNx\nLmNvcnJlbGF0ZShjKTsKICAgICAgICBMaXN0Sm9pbjxDdXN0b21lciwgQWNj\nb3VudD4gYSA9IGMyLmpvaW5MaXN0KCJhY2NvdW50cyIpOwogICAgICAgIHNx\nLnNlbGVjdChhLmdldCgiYmFsYW5jZSIpLmFzKEludGVnZXIuY2xhc3MpKTsg\nCiAgICAgICAgcS53aGVyZShjYi5sdChjYi5saXRlcmFsKDEwMDAwKSwgY2Iu\nYWxsKHNxKSkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0R3JvdXBCeUFuZEhhdmlu\nZygpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgYy5zdGF0dXMs\nIEFWRyhjLmZpbGxlZE9yZGVyQ291bnQpLCBDT1VOVChjKSBGUk9NICIKICAg\nICAgICAgICAgICAgICsgIkN1c3RvbWVyIGMgR1JPVVAgQlkgYy5zdGF0dXMg\nSEFWSU5HIGMuc3RhdHVzIElOICgxLCAyKSI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxUdXBsZT4gcSA9IGNiLmNyZWF0ZVR1cGxlUXVlcnkoKTsKICAgICAg\nICBSb290PEN1c3RvbWVyPiBjID0gcS5mcm9tKEN1c3RvbWVyLmNsYXNzKTsK\nICAgICAgICBxLmdyb3VwQnkoYy5nZXQoInN0YXR1cyIpKTsKICAgICAgICBx\nLmhhdmluZyhjYi5pbihjLmdldCgic3RhdHVzIikpLnZhbHVlKDEpLnZhbHVl\nKDIpKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGMuZ2V0KCJzdGF0dXMiKSwg\nY2IuYXZnKGMuZ2V0KCJmaWxsZWRPcmRlckNvdW50IikuYXMoSW50ZWdlci5j\nbGFzcykpLCBjYi5jb3VudChjKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxl\nbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RPcmRl\ncmluZzEoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIG8gRlJP\nTSBDdXN0b21lciBjIEpPSU4gYy5vcmRlcnMgbyAiCiAgICAgICAgICAgICAg\nICArICJKT0lOIGMuYWRkcmVzcyBhIFdIRVJFIGEuc3RhdGUgPSAnQ0EnIE9S\nREVSIEJZIG8ucXVhbnRpdHkgREVTQywgIgogICAgICAgICAgICAgICAgKyAi\nby50b3RhbENvc3QiOwogICAgICAgIENyaXRlcmlhUXVlcnk8T3JkZXI+IHEg\nPSBjYi5jcmVhdGVRdWVyeShPcmRlci5jbGFzcyk7CiAgICAgICAgUm9vdDxD\ndXN0b21lcj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAg\nU2V0Sm9pbjxDdXN0b21lciwgT3JkZXI+IG8gPSBjLmpvaW5TZXQoIm9yZGVy\ncyIpOwogICAgICAgIEpvaW48Q3VzdG9tZXIsIEFkZHJlc3M+IGEgPSBjLmpv\naW4oImFkZHJlc3MiKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGEuZ2V0\nKCJzdGF0ZSIpLCAiQ0EiKSk7CiAgICAgICAgcS5vcmRlckJ5KGNiLmRlc2Mo\nby5nZXQoInF1YW50aXR5IikpLCBjYi5hc2Moby5nZXQoInRvdGFsQ29zdCIp\nKSk7CiAgICAgICAgcS5zZWxlY3Qobyk7CgogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RP\ncmRlcmluZzIoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIG8u\ncXVhbnRpdHksIGEuemlwQ29kZSBGUk9NIEN1c3RvbWVyIGMgSk9JTiBjLm9y\nZGVycyBvICIKICAgICAgICAgICAgICAgICsgIkpPSU4gYy5hZGRyZXNzIGEg\nV0hFUkUgYS5zdGF0ZSA9ICdDQScgT1JERVIgQlkgby5xdWFudGl0eSwgIgog\nICAgICAgICAgICAgICAgKyAiYS56aXBDb2RlIjsKICAgICAgICBDcml0ZXJp\nYVF1ZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRlVHVwbGVRdWVyeSgpOwogICAg\nICAgIFJvb3Q8Q3VzdG9tZXI+IGMxID0gcS5mcm9tKEN1c3RvbWVyLmNsYXNz\nKTsKICAgICAgICBTZXRKb2luPEN1c3RvbWVyLCBPcmRlcj4gbzEgPSBjMS5q\nb2luU2V0KCJvcmRlcnMiKTsKICAgICAgICBKb2luPEN1c3RvbWVyLCBBZGRy\nZXNzPiBhMSA9IGMxLmpvaW4oImFkZHJlc3MiKTsKICAgICAgICBxLndoZXJl\nKGNiLmVxdWFsKGExLmdldCgic3RhdGUiKSwgIkNBIikpOwogICAgICAgIHEu\nb3JkZXJCeShjYi5hc2MobzEuZ2V0KCJxdWFudGl0eSIpKSwgY2IuYXNjKGEx\nLmdldCgiemlwQ29kZSIpKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChvMS5n\nZXQoInF1YW50aXR5IiksIGExLmdldCgiemlwQ29kZSIpKTsKCiAgICAgICAg\nYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdE9yZGVyaW5nMygpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJTRUxFQ1Qgby5xdWFudGl0eSwgby50b3RhbENvc3QgKiAxLjA4IEFTIHRh\neGVkQ29zdCwgYS56aXBDb2RlICIKICAgICAgICAgICAgICAgICsgIkZST00g\nQ3VzdG9tZXIgYyBKT0lOIGMub3JkZXJzIG8gSk9JTiBjLmFkZHJlc3MgYSAi\nCiAgICAgICAgICAgICAgICArICJXSEVSRSBhLnN0YXRlID0gJ0NBJyBBTkQg\nYS5jb3VudHkgPSAnU2FudGEgQ2xhcmEnICIKICAgICAgICAgICAgICAgICsg\nIk9SREVSIEJZIG8ucXVhbnRpdHksIHRheGVkQ29zdCwgYS56aXBDb2RlIjsK\nICAgICAgICAKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFR1cGxlPiBxID0gY2Iu\nY3JlYXRlVHVwbGVRdWVyeSgpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMg\nPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFNldEpvaW48Q3Vz\ndG9tZXIsIE9yZGVyPiBvID0gYy5qb2luU2V0KCJvcmRlcnMiKTsKICAgICAg\nICBKb2luPEN1c3RvbWVyLCBBZGRyZXNzPiBhID0gYy5qb2luKCJhZGRyZXNz\nIik7CiAgICAgICAgcS53aGVyZShjYi5lcXVhbChhLmdldCgic3RhdGUiKSwg\nIkNBIiksIGNiLmVxdWFsKGEuZ2V0KCJjb3VudHkiKSwgIlNhbnRhIENsYXJh\nIikpOwogICAgICAgIEV4cHJlc3Npb248RmxvYXQ+IHByb2R1Y3RUZXJtID0g\nKEV4cHJlc3Npb248RmxvYXQ+KWNiLnRvRmxvYXQoY2IucHJvZChvLmdldCgi\ndG90YWxDb3N0IikuYXMoRmxvYXQuY2xhc3MpLCAxLjA4KSkKICAgICAgICAg\nICAgLmFsaWFzKCJ0YXhlZENvc3QiKTsKICAgICAgICBxLm9yZGVyQnkoY2Iu\nYXNjKG8uZ2V0KCJxdWFudGl0eSIpKSwgY2IuYXNjKHByb2R1Y3RUZXJtKSwg\nY2IuYXNjKGEuZ2V0KCJ6aXBDb2RlIikpKTsKICAgICAgICBxLm11bHRpc2Vs\nZWN0KG8uZ2V0KCJxdWFudGl0eSIpLCBwcm9kdWN0VGVybSwgYS5nZXQoInpp\ncENvZGUiKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQoKfQo=\n","encoding":"base64"}

