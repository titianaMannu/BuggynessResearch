{"sha":"b5502ed83ce0e8d2c23fcc2d72a1e3bbc81b5127","node_id":"MDQ6QmxvYjIwNjM2NDpiNTUwMmVkODNjZTBlOGQyYzIzZmNjMmQ3MmExZTNiYmM4MWI1MTI3","size":56522,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b5502ed83ce0e8d2c23fcc2d72a1e3bbc81b5127","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY3JpdGVy\naWE7CgppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZh\nLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Cmlt\ncG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7Cgpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUGFyYW1ldGVyOwppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuVHVwbGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5jcml0ZXJpYS5Dcml0ZXJpYVF1ZXJ5OwppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UuY3JpdGVyaWEuRXhwcmVzc2lvbjsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLmNyaXRlcmlhLkpvaW47CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5jcml0ZXJpYS5Kb2luVHlwZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLmNyaXRlcmlhLkxpc3RKb2luOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nY3JpdGVyaWEuTWFwSm9pbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLmNy\naXRlcmlhLlBhcmFtZXRlckV4cHJlc3Npb247CmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5jcml0ZXJpYS5Sb290OwppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuY3JpdGVyaWEuU2VsZWN0aW9uOwppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuY3JpdGVyaWEuU2V0Sm9pbjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLmNyaXRlcmlhLlN1YnF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS50ZXN0LkFsbG93RmFpbHVyZTsKCi8qKgogKiBUZXN0\ncyB0eXBlLXN0cmljdCB2ZXJzaW9uIG9mIENyaXRlcmlhIEFQSS4KICogCiAq\nIE1vc3Qgb2YgdGhlIHRlc3RzIGJ1aWxkIENyaXRlcmlhIFF1ZXJ5IGFuZCB0\naGVuIGV4ZWN1dGUgdGhlIHF1ZXJ5IGFzIHdlbGwgYXMKICogYSByZWZlcmVu\nY2UgSlBRTCBxdWVyeSBzdXBwbGllZCBhcyBhIHN0cmluZy4gVGhlIHRlc3Qg\naXMgdmFsaWRhdGVkIGJ5CiAqIGFzc2VydGluZyB0aGF0IHRoZSByZXN1bHRh\nbnQgU1FMIHF1ZXJpZXMgZm9yIHRoZXNlIHR3byBhbHRlcm5hdGl2ZSBmb3Jt\nIG9mCiAqIGV4ZWN1dGluZyBhIHF1ZXJ5IGFyZSB0aGUgc2FtZS4KICogCiAq\nIAogKi8KcHVibGljIGNsYXNzIFRlc3RUeXBlc2FmZUNyaXRlcmlhIGV4dGVu\nZHMgQ3JpdGVyaWFUZXN0IHsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0\ncmluZyBUUlVFX0pQUUwgPSAiU0VMRUNUIHAgRlJPTSBQZXJzb24gcCBXSEVS\nRSAxPTEiOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEZBTFNF\nX0pQUUwgPSAiU0VMRUNUIHAgRlJPTSBQZXJzb24gcCBXSEVSRSAxPD4xIjsK\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdFRydWVMaXRlcmFsKCkgewogICAg\nICAgIENyaXRlcmlhUXVlcnk8UGVyc29uPiBxID0gY2IuY3JlYXRlUXVlcnko\nUGVyc29uLmNsYXNzKTsKICAgICAgICBxLmZyb20oUGVyc29uLmNsYXNzKTsK\nICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLndoZXJlKGNiLmxpdGVyYWwo\nQm9vbGVhbi5UUlVFKSksIFRSVUVfSlBRTCk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHRlc3RGYWxzZUxpdGVyYWwoKSB7CiAgICAgICAgQ3JpdGVy\naWFRdWVyeTxQZXJzb24+IHEgPSBjYi5jcmVhdGVRdWVyeShQZXJzb24uY2xh\nc3MpOwogICAgICAgIHEuZnJvbShQZXJzb24uY2xhc3MpOwogICAgICAgIGFz\nc2VydEVxdWl2YWxlbmNlKHEud2hlcmUoY2IubGl0ZXJhbChCb29sZWFuLkZB\nTFNFKSksIEZBTFNFX0pQUUwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RGVmYXVsdEFuZElzVHJ1ZSgpIHsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PFBlcnNvbj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KFBlcnNvbi5jbGFzcyk7\nCiAgICAgICAgcS5mcm9tKFBlcnNvbi5jbGFzcyk7CiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UocS53aGVyZShjYi5hbmQoKSksIFRSVUVfSlBRTCk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3REZWZhdWx0T3JJc0ZhbHNl\nKCkgewogICAgICAgIENyaXRlcmlhUXVlcnk8UGVyc29uPiBxID0gY2IuY3Jl\nYXRlUXVlcnkoUGVyc29uLmNsYXNzKTsKICAgICAgICBxLmZyb20oUGVyc29u\nLmNsYXNzKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLndoZXJlKGNi\nLm9yKCkpLCBGQUxTRV9KUFFMKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZXN0WmVyb0Rpc2p1bmN0SXNGYWxzZSgpIHsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PFBlcnNvbj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KFBlcnNvbi5jbGFzcyk7\nCiAgICAgICAgcS5mcm9tKFBlcnNvbi5jbGFzcyk7CiAgICAgICAgYXNzZXJ0\nRXF1aXZhbGVuY2UocS53aGVyZShjYi5kaXNqdW5jdGlvbigpKSwgRkFMU0Vf\nSlBRTCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RaZXJvQ29u\nanVuY3RJc1RydWUoKSB7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxQZXJzb24+\nIHEgPSBjYi5jcmVhdGVRdWVyeShQZXJzb24uY2xhc3MpOwogICAgICAgIHEu\nZnJvbShQZXJzb24uY2xhc3MpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEud2hlcmUoY2IuY29uanVuY3Rpb24oKSksIFRSVUVfSlBRTCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdEV4cHJlc3Npb25zKCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gIlNFTEVDVCBvLnF1YW50aXR5LCBvLnRvdGFsQ29z\ndCoxLjA4LCAiCiAgICAgICAgICAgICAgICArICJhLnppcENvZGUgRlJPTSBD\ndXN0b21lciBjIEpPSU4gYy5vcmRlcnMgbyBKT0lOIGMuYWRkcmVzcyBhICIK\nICAgICAgICAgICAgICAgICsgIldIRVJFIGEuc3RhdGUgPSAnQ0EnIEFORCBh\nLmNvdW50eSA9ICdTYW50YSBDbGFyYSciOwogICAgICAgIENyaXRlcmlhUXVl\ncnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxDdXN0\nb21lcj4gY3VzdCA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAg\nU2V0Sm9pbjxDdXN0b21lciwgT3JkZXI+IG9yZGVyID0gY3VzdC5qb2luU2V0\nKCJvcmRlcnMiKTsKICAgICAgICBKb2luPEN1c3RvbWVyLCBBZGRyZXNzPiBh\nZGRyZXNzID0gY3VzdC5qb2luKCJhZGRyZXNzIik7CiAgICAgICAgcS53aGVy\nZShjYi5lcXVhbChhZGRyZXNzLmdldCgic3RhdGUiKSwgIkNBIiksIGNiLmVx\ndWFsKGFkZHJlc3MKICAgICAgICAgICAgLmdldCgiY291bnR5IiksICJTYW50\nYSBDbGFyYSIpKTsKICAgICAgICBFeHByZXNzaW9uPERvdWJsZT4gdGF4ZWRD\nb3N0ID0gY2IucHJvZChvcmRlci5nZXQoT3JkZXJfLnRvdGFsQ29zdCksIDEu\nMDgpOwogICAgICAgIHEubXVsdGlzZWxlY3Qob3JkZXIuZ2V0KCJxdWFudGl0\neSIpLCB0YXhlZENvc3QsIGFkZHJlc3MuZ2V0KCJ6aXBDb2RlIikpOwoKICAg\nICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KICAgIHB1\nYmxpYyB2b2lkIHRlc3RFeHBsaWN0Um9vdCgpIHsKICAgICAgICBTdHJpbmcg\nanBxbCA9ICJzZWxlY3QgYSBmcm9tIEFjY291bnQgYSI7CiAgICAgICAgCiAg\nICAgICAgQ3JpdGVyaWFRdWVyeTxBY2NvdW50PiBjID0gY2IuY3JlYXRlUXVl\ncnkoQWNjb3VudC5jbGFzcyk7CiAgICAgICAgUm9vdDxBY2NvdW50PiBhY2Nv\ndW50ID0gYy5mcm9tKEFjY291bnQuY2xhc3MpOwogICAgICAgIGMuc2VsZWN0\nKGFjY291bnQpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShjLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW1wbGljaXRSb290KCkg\newogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gQWNjb3Vu\ndCBhIjsKICAgICAgICAKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEFjY291bnQ+\nIGMgPSBjYi5jcmVhdGVRdWVyeShBY2NvdW50LmNsYXNzKTsKICAgICAgICBj\nLmZyb20oQWNjb3VudC5jbGFzcyk7CgogICAgICAgIGFzc2VydEVxdWl2YWxl\nbmNlKGMsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RFcXVh\nbFdpdGhBdHRyaWJ1dGVBbmRMaXRlcmFsKCkgewogICAgICAgIFN0cmluZyBq\ncHFsID0gInNlbGVjdCBhIGZyb20gQWNjb3VudCBhIHdoZXJlIGEuYmFsYW5j\nZT0xMDAiOwoKICAgICAgICBDcml0ZXJpYVF1ZXJ5IGMgPSBjYi5jcmVhdGVR\ndWVyeSgpOwogICAgICAgIFJvb3Q8QWNjb3VudD4gYWNjb3VudCA9IGMuZnJv\nbShBY2NvdW50LmNsYXNzKTsKICAgICAgICBjLnNlbGVjdChhY2NvdW50KS53\naGVyZShjYi5lcXVhbChhY2NvdW50LmdldChBY2NvdW50Xy5iYWxhbmNlKSwg\nMTAwKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKGMsIGpwcWwpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RFcXVhbFdpdGhBdHRyaWJ1dGVB\nbmRBdHRyaWJ1dGUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAic2VsZWN0\nIGEgZnJvbSBBY2NvdW50IGEgd2hlcmUgYS5iYWxhbmNlPWEubG9hbiI7Cgog\nICAgICAgIENyaXRlcmlhUXVlcnk8QWNjb3VudD4gYyA9IGNiLmNyZWF0ZVF1\nZXJ5KEFjY291bnQuY2xhc3MpOwogICAgICAgIFJvb3Q8QWNjb3VudD4gYWNj\nb3VudCA9IGMuZnJvbShBY2NvdW50LmNsYXNzKTsKICAgICAgICBjLnNlbGVj\ndChhY2NvdW50KS53aGVyZSgKICAgICAgICAgICAgICAgIGNiLmVxdWFsKGFj\nY291bnQuZ2V0KEFjY291bnRfLmJhbGFuY2UpLCBhY2NvdW50CiAgICAgICAg\nICAgICAgICAgICAgICAgIC5nZXQoQWNjb3VudF8ubG9hbikpKTsKCiAgICAg\nICAgYXNzZXJ0RXF1aXZhbGVuY2UoYywganBxbCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdFByb2plY3Rpb24oKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAic2VsZWN0IGEuYmFsYW5jZSxhLmxvYW4gZnJvbSBBY2NvdW50IGEi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8VHVwbGU+IGMgPSBjYi5jcmVhdGVU\ndXBsZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxBY2NvdW50PiBhY2NvdW50ID0g\nYy5mcm9tKEFjY291bnQuY2xhc3MpOwogICAgICAgIGMubXVsdGlzZWxlY3Qo\nYWNjb3VudC5nZXQoQWNjb3VudF8uYmFsYW5jZSksIGFjY291bnQuZ2V0KEFj\nY291bnRfLmxvYW4pKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShjLCBq\ncHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0QWJzRXhwcmVzc2lv\nbigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3QgYSBmcm9tIEFj\nY291bnQgYSB3aGVyZSBhYnMoYS5iYWxhbmNlKT0xMDAiOwoKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PEFjY291bnQ+IGMgPSBjYi5jcmVhdGVRdWVyeShBY2Nv\ndW50LmNsYXNzKTsKICAgICAgICBSb290PEFjY291bnQ+IGFjY291bnQgPSBj\nLmZyb20oQWNjb3VudC5jbGFzcyk7CgogICAgICAgIGMuc2VsZWN0KGFjY291\nbnQpLndoZXJlKGNiLmVxdWFsKGNiLmFicyhhY2NvdW50LmdldChBY2NvdW50\nXy5iYWxhbmNlKSksIDEwMCkpOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKGMsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RBdmdFeHBy\nZXNzaW9uKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhdmco\nYS5iYWxhbmNlKSBmcm9tIEFjY291bnQgYSI7CgogICAgICAgIENyaXRlcmlh\nUXVlcnk8RG91YmxlPiBjID0gY2IuY3JlYXRlUXVlcnkoRG91YmxlLmNsYXNz\nKTsKICAgICAgICBSb290PEFjY291bnQ+IGFjY291bnQgPSBjLmZyb20oQWNj\nb3VudC5jbGFzcyk7CgogICAgICAgIGMuc2VsZWN0KGNiLmF2ZyhhY2NvdW50\nLmdldChBY2NvdW50Xy5iYWxhbmNlKSkpOwogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKGMsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RJ\nblByZWRpY2F0ZSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJzZWxlY3Qg\nYSBmcm9tIEFjY291bnQgYSB3aGVyZSBhLm5hbWUgaW4gKCdYJywnWScsJ1on\nKSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxBY2NvdW50PiBjID0gY2IuY3Jl\nYXRlUXVlcnkoQWNjb3VudC5jbGFzcyk7CiAgICAgICAgUm9vdDxBY2NvdW50\nPiBhY2NvdW50ID0gYy5mcm9tKEFjY291bnQuY2xhc3MpOwogICAgICAgIGMu\nd2hlcmUoY2IuaW4oYWNjb3VudC5nZXQoQWNjb3VudF8ubmFtZSkpLnZhbHVl\nKCJYIikudmFsdWUoIlkiKS52YWx1ZSgiWiIpKTsKICAgICAgICBhc3NlcnRF\ncXVpdmFsZW5jZShjLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZXN0SW5QcmVkaWNhdGVXaXRoUGF0aCgpIHsKICAgICAgICBTdHJpbmcganBx\nbCA9ICJzZWxlY3QgYSBmcm9tIEFjY291bnQgYSB3aGVyZSBhLm93bmVyLm5h\nbWUgaW4gKCdYJywnWScsJ1onKSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxB\nY2NvdW50PiBjID0gY2IuY3JlYXRlUXVlcnkoQWNjb3VudC5jbGFzcyk7CiAg\nICAgICAgUm9vdDxBY2NvdW50PiBhY2NvdW50ID0gYy5mcm9tKEFjY291bnQu\nY2xhc3MpOwogICAgICAgIGMud2hlcmUoY2IuaW4oYWNjb3VudC5nZXQoQWNj\nb3VudF8ub3duZXIpLmdldChQZXJzb25fLm5hbWUpKS52YWx1ZSgiWCIpCiAg\nICAgICAgICAgICAgICAudmFsdWUoIlkiKS52YWx1ZSgiWiIpKTsKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShjLCBqcHFsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0QmluYXJ5UHJlZGljYXRlKCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gInNlbGVjdCBhIGZyb20gQWNjb3VudCBhIHdoZXJlIGEuYmFs\nYW5jZT4xMDAgYW5kIGEuYmFsYW5jZTwyMDAiOwoKICAgICAgICBDcml0ZXJp\nYVF1ZXJ5PEFjY291bnQ+IGMgPSBjYi5jcmVhdGVRdWVyeShBY2NvdW50LmNs\nYXNzKTsKICAgICAgICBSb290PEFjY291bnQ+IGFjY291bnQgPSBjLmZyb20o\nQWNjb3VudC5jbGFzcyk7CiAgICAgICAgYy5zZWxlY3QoYWNjb3VudCkud2hl\ncmUoCiAgICAgICAgICAgICAgICBjYi5hbmQoY2IuZ3JlYXRlclRoYW4oYWNj\nb3VudC5nZXQoQWNjb3VudF8uYmFsYW5jZSksIDEwMCksIGNiCiAgICAgICAg\nICAgICAgICAgICAgICAgIC5sZXNzVGhhbihhY2NvdW50LmdldChBY2NvdW50\nXy5iYWxhbmNlKSwgMjAwKSkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShjLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RXF1YWxX\naXRoQXR0cmlidXRlQW5kVW5hcnlFeHByZXNzaW9uKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gQWNjb3VudCBhIHdoZXJlIGEu\nYmFsYW5jZT1hYnMoYS5iYWxhbmNlKSI7CgogICAgICAgIENyaXRlcmlhUXVl\ncnk8QWNjb3VudD4gYyA9IGNiLmNyZWF0ZVF1ZXJ5KEFjY291bnQuY2xhc3Mp\nOwogICAgICAgIFJvb3Q8QWNjb3VudD4gYWNjb3VudCA9IGMuZnJvbShBY2Nv\ndW50LmNsYXNzKTsKICAgICAgICBjLnNlbGVjdChhY2NvdW50KS53aGVyZSgK\nICAgICAgICAgICAgICAgIGNiLmVxdWFsKGFjY291bnQuZ2V0KEFjY291bnRf\nLmJhbGFuY2UpLCBjYi5hYnMoYWNjb3VudAogICAgICAgICAgICAgICAgICAg\nICAgICAuZ2V0KEFjY291bnRfLmJhbGFuY2UpKSkpOwoKICAgICAgICBhc3Nl\ncnRFcXVpdmFsZW5jZShjLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0QmV0d2VlbkV4cHJlc3Npb24oKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPQogICAgICAgICAgICAic2VsZWN0IGEgZnJvbSBBY2NvdW50IGEgd2hl\ncmUgYS5iYWxhbmNlIGJldHdlZW4gMTAwIGFuZCAyMDAiOwoKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PEFjY291bnQ+IGMgPSBjYi5jcmVhdGVRdWVyeShBY2Nv\ndW50LmNsYXNzKTsKICAgICAgICBSb290PEFjY291bnQ+IGFjY291bnQgPSBj\nLmZyb20oQWNjb3VudC5jbGFzcyk7CiAgICAgICAgYy5zZWxlY3QoYWNjb3Vu\ndCkud2hlcmUoCiAgICAgICAgICAgICAgICBjYi5iZXR3ZWVuKGFjY291bnQu\nZ2V0KEFjY291bnRfLmJhbGFuY2UpLCAxMDAsIDIwMCkpOwoKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShjLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0U2ltcGxlUGF0aCgpIHsKICAgICAgICBTdHJpbmcganBxbCA9\nICJzZWxlY3QgYSBmcm9tIEFjY291bnQgYSB3aGVyZSBhLm93bmVyLm5hbWU9\nJ1BpbmFraSciOwogICAgICAgIENyaXRlcmlhUXVlcnk8QWNjb3VudD4gYyA9\nIGNiLmNyZWF0ZVF1ZXJ5KEFjY291bnQuY2xhc3MpOwogICAgICAgIFJvb3Q8\nQWNjb3VudD4gYSA9IGMuZnJvbShBY2NvdW50LmNsYXNzKTsKICAgICAgICBj\nLndoZXJlKGNiLmVxdWFsKGEuZ2V0KEFjY291bnRfLm93bmVyKS5nZXQoUGVy\nc29uXy5uYW1lKSwgIlBpbmFraSIpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UoYywganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNp\nbXBsZUxlZnRKb2luKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVD\nVCBjIEZST00gQ3VzdG9tZXIgYyBMRUZUIEpPSU4gYy5vcmRlcnMgbyAiOwog\nICAgICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9tZXI+IGMgPSBjYi5jcmVhdGVR\ndWVyeShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgYy5mcm9tKEN1c3RvbWVy\nLmNsYXNzKS5qb2luKEN1c3RvbWVyXy5vcmRlcnMsIEpvaW5UeXBlLkxFRlQp\nOwogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKGMsIGpwcWwpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RNdWx0aXBhcnROYXZpZ2F0aW9uKCkgewog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBhIGZyb20gQSBhIHdoZXJl\nIGEuYi5hZ2U9MjIiOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8\nQT4gY3EgPSBjYi5jcmVhdGVRdWVyeShBLmNsYXNzKTsKICAgICAgICBSb290\nPEE+IGEgPSBjcS5mcm9tKEEuY2xhc3MpOwogICAgICAgIGNxLndoZXJlKGNi\nLmVxdWFsKGEuZ2V0KEFfLmIpLmdldChCXy5hZ2UpLCAyMikpOwogICAgICAg\nIAogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKGNxLCBqcHFsKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdE11bHRpTGV2ZWxKb2lucygpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgYyBGUk9NIEN1c3RvbWVy\nIGMgSk9JTiBjLm9yZGVycyBvICIgCiAgICAgICAgICAgICAgICAgICAgKyAi\nSk9JTiBvLmxpbmVJdGVtcyBpIFdIRVJFIGkucHJvZHVjdC5wcm9kdWN0VHlw\nZSA9ICdwcmludGVyJyI7CgogICAgICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9t\nZXI+IGNxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIuY2xhc3MpOwogICAg\nICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBjcS5mcm9tKEN1c3RvbWVyLmNsYXNz\nKTsKICAgICAgICBKb2luPEN1c3RvbWVyLCBPcmRlcj4gbyA9IGMuam9pbihD\ndXN0b21lcl8ub3JkZXJzKTsKICAgICAgICBKb2luPE9yZGVyLCBMaW5lSXRl\nbT4gaSA9IG8uam9pbihPcmRlcl8ubGluZUl0ZW1zKTsKICAgICAgICBjcS5z\nZWxlY3QoYykKICAgICAgICAgICAgLndoZXJlKGNiLmVxdWFsKGkuZ2V0KExp\nbmVJdGVtXy5wcm9kdWN0KQogICAgICAgICAgICAuZ2V0KFByb2R1Y3RfLnBy\nb2R1Y3RUeXBlKSwgInByaW50ZXIiKSk7CgogICAgICAgIGFzc2VydEVxdWl2\nYWxlbmNlKGNxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nSm9pbnNOb3RQcmVzZW50SW5XaGVyZUNsYXVzZSgpIHsKICAgICAgICBTdHJp\nbmcganBxbCA9ICJTRUxFQ1QgYyBGUk9NIEN1c3RvbWVyIGMgTEVGVCBKT0lO\nIGMub3JkZXJzIG8gV0hFUkUgYy5zdGF0dXMgPSAxIjsKICAgICAgICAKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3RvbWVyPiBjID0gY2IuY3JlYXRlUXVl\ncnkoQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGN1\nc3QgPSBjLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIEpvaW48Q3Vz\ndG9tZXIsIE9yZGVyPiBvcmRlciA9IGN1c3QKICAgICAgICAuam9pbihDdXN0\nb21lcl8ub3JkZXJzLCBKb2luVHlwZS5MRUZUKTsKICAgICAgICBjLndoZXJl\nKGNiLmVxdWFsKGN1c3QuZ2V0KEN1c3RvbWVyXy5zdGF0dXMpLCAxKSkuc2Vs\nZWN0KGN1c3QpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShjLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RmV0Y2hKb2lucygpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgZCBGUk9NIERlcGFydG1l\nbnQgZCBMRUZUIEpPSU4gRkVUQ0ggZC5lbXBsb3llZXMgV0hFUkUgZC5kZXB0\nTm8gPSAxIjsKICAgICAgICAKICAgICAgICBDcml0ZXJpYVF1ZXJ5PERlcGFy\ndG1lbnQ+IHEgPSBjYi5jcmVhdGVRdWVyeShEZXBhcnRtZW50LmNsYXNzKTsK\nICAgICAgICBSb290PERlcGFydG1lbnQ+IGQgPSBxLmZyb20oRGVwYXJ0bWVu\ndC5jbGFzcyk7CiAgICAgICAgZC5mZXRjaChEZXBhcnRtZW50Xy5lbXBsb3ll\nZXMsIEpvaW5UeXBlLkxFRlQpOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwo\nZC5nZXQoRGVwYXJ0bWVudF8uZGVwdE5vKSwgMSkpLnNlbGVjdChkKTsKCiAg\nICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdEpvaW5lZFBhdGhJblByb2plY3Rpb24oKSB7CiAg\nICAgICAgU3RyaW5nIGpwcWwxID0gIlNFTEVDVCBwLnZlbmRvciBGUk9NIEVt\ncGxveWVlIGUgSk9JTiBlLmNvbnRhY3RJbmZvLnBob25lcyBwICIKICAgICAg\nICAgICAgICAgICAgICAgKyAiV0hFUkUgZS5jb250YWN0SW5mby5hZGRyZXNz\nLnppcENvZGUgPSAnOTUwNTQnIjsKCiAgICAgICAgU3RyaW5nIGpwcWwgPSAi\nU0VMRUNUIHAudmVuZG9yIEZST00gRW1wbG95ZWUgZSBKT0lOIGUuY29udGFj\ndEluZm8gYyBKT0lOIGMucGhvbmVzIHAgIgogICAgICAgICAgICAgICAgICAg\nICsgIldIRVJFIGMuYWRkcmVzcy56aXBDb2RlID0gJzk1MDU0JyI7CgogICAg\nICAgIENyaXRlcmlhUXVlcnk8U3RyaW5nPiBjcSA9IGNiLmNyZWF0ZVF1ZXJ5\nKFN0cmluZy5jbGFzcyk7CiAgICAgICAgUm9vdDxFbXBsb3llZT4gZSA9IGNx\nLmZyb20oRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIEpvaW48Q29udGFjdCwg\nUGhvbmU+IHAgPSBlLmpvaW4oRW1wbG95ZWVfLmNvbnRhY3RJbmZvKS5qb2lu\nKENvbnRhY3RfLnBob25lcyk7CiAgICAgICAgY3Eud2hlcmUoY2IuZXF1YWwo\nZS5nZXQoRW1wbG95ZWVfLmNvbnRhY3RJbmZvKS5nZXQoQ29udGFjdF8uYWRk\ncmVzcykKICAgICAgICAgICAgICAgIC5nZXQoQWRkcmVzc18uemlwQ29kZSks\nICI5NTA1NCIpKTsKICAgICAgICBjcS5zZWxlY3QocC5nZXQoUGhvbmVfLnZl\nbmRvcikpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShjcSwganBxbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEtleUV4cHJlc3Npb24oKSB7\nCi8vICAgICAgICBTdHJpbmcganBxbCA9Ci8vICAgICAgICAgICAgIlNFTEVD\nVCBpLm5hbWUsIHAgRlJPTSBJdGVtIGkgSk9JTiBpLnBob3RvcyBwIFdIRVJF\nIEtFWShwKSAiCi8vICAgICAgICAgICAgKyAiTElLRSAnJWVncmV0JSciOwog\nICAgICAgIFN0cmluZyBqcHFsID0gInNlbGVjdCBpLm5hbWUsIFZBTFVFKHAp\nIGZyb20gSXRlbSBpIGpvaW4gaS5waG90b3MgcCB3aGVyZSBLRVkocCkgbGlr\nZSAnZWdyZXQnIjsKCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxUdXBsZT4gcSA9\nIGNiLmNyZWF0ZVR1cGxlUXVlcnkoKTsKICAgICAgICBSb290PEl0ZW0+IGl0\nZW0gPSBxLmZyb20oSXRlbS5jbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJdGVt\nLCBTdHJpbmcsIFBob3RvPiBwaG90byA9IGl0ZW0uam9pbihJdGVtXy5waG90\nb3MpOwogICAgICAgIHEubXVsdGlzZWxlY3QoaXRlbS5nZXQoSXRlbV8ubmFt\nZSksIHBob3RvKS53aGVyZShjYi5saWtlKHBob3RvLmtleSgpLCAiJWVncmV0\nJSIpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdEluZGV4RXhwcmVzc2lvbigpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgdCBGUk9NIENyZWRpdENh\ncmQgYyBKT0lOIGMudHJhbnNhY3Rpb25IaXN0b3J5IHQgIgogICAgICAgICAg\nICArICJXSEVSRSBjLmN1c3RvbWVyLmFjY291bnROdW0gPSAzMjE5ODcgQU5E\nIElOREVYKHQpIEJFVFdFRU4gMCBBTkQgOSI7CiAgICAgICAgCiAgICAgICAg\nQ3JpdGVyaWFRdWVyeTxUcmFuc2FjdGlvbkhpc3Rvcnk+IHEgPSBjYi5jcmVh\ndGVRdWVyeShUcmFuc2FjdGlvbkhpc3RvcnkuY2xhc3MpOwogICAgICAgIFJv\nb3Q8Q3JlZGl0Q2FyZD4gYyA9IHEuZnJvbShDcmVkaXRDYXJkLmNsYXNzKTsK\nICAgICAgICBMaXN0Sm9pbjxDcmVkaXRDYXJkLCBUcmFuc2FjdGlvbkhpc3Rv\ncnk+IHQgPSBjCiAgICAgICAgLmpvaW4oQ3JlZGl0Q2FyZF8udHJhbnNhY3Rp\nb25IaXN0b3J5KTsKICAgICAgICBxLnNlbGVjdCh0KS53aGVyZShjYi5hbmQo\nCiAgICAgICAgICAgIGNiLmVxdWFsKGMuZ2V0KENyZWRpdENhcmRfLmN1c3Rv\nbWVyKS5nZXQoQ3VzdG9tZXJfLmFjY291bnROdW0pLAogICAgICAgICAgICAg\nICAgMzIxOTg3KSwgCiAgICAgICAgICAgIGNiLmJldHdlZW4odC5pbmRleCgp\nLCAwLCA5KSkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0SXNFbXB0eUV4cHJlc3Np\nb24oKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIG8gRlJPTSBP\ncmRlciBvIFdIRVJFIG8ubGluZUl0ZW1zIElTIEVNUFRZIjsKICAgICAgICAK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PE9yZGVyPiBxID0gY2IuY3JlYXRlUXVl\ncnkoT3JkZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8T3JkZXI+IG9yZGVyID0g\ncS5mcm9tKE9yZGVyLmNsYXNzKTsKICAgICAgICBxLndoZXJlKGNiLmlzRW1w\ndHkob3JkZXIuZ2V0KE9yZGVyXy5saW5lSXRlbXMpKSkuc2VsZWN0KG9yZGVy\nKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdEV4cHJlc3Npb25JblByb2plY3Rpb24o\nKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIG8ucXVhbnRpdHks\nIG8udG90YWxDb3N0KjEuMDgsICIKICAgICAgICAgICAgKyAiYS56aXBDb2Rl\nIEZST00gQ3VzdG9tZXIgYyBKT0lOIGMub3JkZXJzIG8gSk9JTiBjLmFkZHJl\nc3MgYSAiCiAgICAgICAgICAgICsgIldIRVJFIGEuc3RhdGUgPSAnQ0EnIEFO\nRCBhLmNvdW50eSA9ICdTYW50YSBDbGFyYSciOwogICAgICAgIAogICAgICAg\nIENyaXRlcmlhUXVlcnk8VHVwbGU+IGNxID0gY2IuY3JlYXRlVHVwbGVRdWVy\neSgpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBjcS5mcm9tKEN1c3Rv\nbWVyLmNsYXNzKTsKICAgICAgICBKb2luPEN1c3RvbWVyLCBPcmRlcj4gbyA9\nIGMuam9pbihDdXN0b21lcl8ub3JkZXJzKTsKICAgICAgICBKb2luPEN1c3Rv\nbWVyLCBBZGRyZXNzPiBhID0gYy5qb2luKEN1c3RvbWVyXy5hZGRyZXNzKTsK\nICAgICAgICBjcS53aGVyZShjYi5hbmQoCiAgICAgICAgICAgIGNiLmVxdWFs\nKGEuZ2V0KEFkZHJlc3NfLnN0YXRlKSwgIkNBIiksIAogICAgICAgICAgICBj\nYi5lcXVhbChhLmdldChBZGRyZXNzXy5jb3VudHkpLCAiU2FudGEgQ2xhcmEi\nKSkpOwogICAgICAgIGNxLm11bHRpc2VsZWN0KG8uZ2V0KE9yZGVyXy5xdWFu\ndGl0eSksIGNiLnByb2QobwogICAgICAgICAgICAgICAgLmdldChPcmRlcl8u\ndG90YWxDb3N0KSwgMS4wOCksIGEuZ2V0KEFkZHJlc3NfLnppcENvZGUpKTsK\nCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UoY3EsIGpwcWwpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RUeXBlRXhwcmVzc2lvbigpIHsKICAgICAg\nICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgVFlQRShlKSBGUk9NIEVtcGxveWVl\nIGUgV0hFUkUgVFlQRShlKSA8PiBFeGVtcHQiOwogICAgICAgIAogICAgICAg\nIENyaXRlcmlhUXVlcnk8T2JqZWN0PiBxID0gY2IuY3JlYXRlUXVlcnkoKTsK\nICAgICAgICBSb290PEVtcGxveWVlPiBlbXAgPSBxLmZyb20oRW1wbG95ZWUu\nY2xhc3MpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZW1wLnR5cGUoKSkud2hl\ncmUoY2Iubm90RXF1YWwoZW1wLnR5cGUoKSwgRXhlbXB0LmNsYXNzKSk7Cgog\nICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RJbmRleEV4cHJlc3Npb25BbmRMaWV0cmFsKCkg\newogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCB3Lm5hbWUgRlJPTSBD\nb3Vyc2UgYyBKT0lOIGMuc3R1ZGVudFdhaXRMaXN0IHcgIgogICAgICAgICAg\nICAgICAgICAgICsgIldIRVJFIGMubmFtZSA9ICdDYWxjdWx1cycgQU5EIElO\nREVYKHcpID0gMCI7CiAgICAgICAgCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxT\ndHJpbmc+IHEgPSBjYi5jcmVhdGVRdWVyeShTdHJpbmcuY2xhc3MpOwogICAg\nICAgIFJvb3Q8Q291cnNlPiBjb3Vyc2UgPSBxLmZyb20oQ291cnNlLmNsYXNz\nKTsKICAgICAgICBMaXN0Sm9pbjxDb3Vyc2UsIFN0dWRlbnQ+IHcgPSBjb3Vy\nc2Uuam9pbihDb3Vyc2VfLnN0dWRlbnRXYWl0TGlzdCk7CiAgICAgICAgcS53\naGVyZShjYi5hbmQoCiAgICAgICAgICAgIGNiLmVxdWFsKGNvdXJzZS5nZXQo\nQ291cnNlXy5uYW1lKSwgIkNhbGN1bHVzIiksCiAgICAgICAgICAgIGNiLmVx\ndWFsKHcuaW5kZXgoKSwgMCkpKS5zZWxlY3Qody5nZXQoU3R1ZGVudF8ubmFt\nZSkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0QWdncmVnYXRlSW5Qcm9qZWN0aW9u\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBTVU0oaS5wcmlj\nZSkgRlJPTSBPcmRlciBvIEpPSU4gby5saW5lSXRlbXMgaSAiICsgCiAgICAg\nICAgICAgICJKT0lOIG8uY3VzdG9tZXIgYyBXSEVSRSBjLmxhc3ROYW1lID0g\nJ1NtaXRoJyBBTkQgIiArIAogICAgICAgICAgICAiYy5maXJzdE5hbWUgPSAn\nSm9obiciOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8RG91Ymxl\nPiBxID0gY2IuY3JlYXRlUXVlcnkoRG91YmxlLmNsYXNzKTsKICAgICAgICBS\nb290PE9yZGVyPiBvID0gcS5mcm9tKE9yZGVyLmNsYXNzKTsKICAgICAgICBK\nb2luPE9yZGVyLCBMaW5lSXRlbT4gaSA9IG8uam9pbihPcmRlcl8ubGluZUl0\nZW1zKTsKICAgICAgICBKb2luPE9yZGVyLCBDdXN0b21lcj4gYyA9IG8uam9p\nbihPcmRlcl8uY3VzdG9tZXIpOwogICAgICAgIHEud2hlcmUoY2IuYW5kKAog\nICAgICAgICAgICBjYi5lcXVhbChjLmdldChDdXN0b21lcl8ubGFzdE5hbWUp\nLCAiU21pdGgiKSwgCiAgICAgICAgICAgIGNiLmVxdWFsKGMuZ2V0KEN1c3Rv\nbWVyXy5maXJzdE5hbWUpLCAiSm9obiIpKSk7CiAgICAgICAgcS5zZWxlY3Qo\nY2Iuc3VtKGkuZ2V0KExpbmVJdGVtXy5wcmljZSkpKTsKCiAgICAgICAgYXNz\nZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdFNpemVFeHByZXNzaW9uKCkgewogICAgICAgIFN0cmluZyBqcHFs\nID0gIlNFTEVDVCBTSVpFKGQuZW1wbG95ZWVzKSBGUk9NIERlcGFydG1lbnQg\nZCAiCiAgICAgICAgICAgICsgIldIRVJFIGQubmFtZSA9ICdTYWxlcyciOwog\nICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8SW50ZWdlcj4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KEludGVnZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8RGVw\nYXJ0bWVudD4gZCA9IHEuZnJvbShEZXBhcnRtZW50LmNsYXNzKTsKICAgICAg\nICBxLndoZXJlKGNiLmVxdWFsKGQuZ2V0KERlcGFydG1lbnRfLm5hbWUpLCAi\nU2FsZXMiKSk7CiAgICAgICAgcS5zZWxlY3QoY2Iuc2l6ZShkLmdldChEZXBh\ncnRtZW50Xy5lbXBsb3llZXMpKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxl\nbmNlKHEsIGpwcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RDYXNl\nRXhwcmVzc2lvbigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1Qg\nZS5uYW1lLCBDQVNFICIgCiAgICAgICAgCQkrICJXSEVOIGUucmF0aW5nID0g\nMSBUSEVOIGUuc2FsYXJ5ICogMS4xICIKICAgICAgICAgICAgICAgICsgIldI\nRU4gZS5yYXRpbmcgPSAyIFRIRU4gZS5zYWxhcnkgKiAxLjIgIgogICAgICAg\nICAgICAgICAgKyAiRUxTRSBlLnNhbGFyeSAqIDEuMDEgRU5EICIKICAgICAg\nICAgICAgKyAiRlJPTSBFbXBsb3llZSBlIFdIRVJFIGUuZGVwYXJ0bWVudC5u\nYW1lID0gJ0VuZ2luZWVyaW5nJyI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTw/\nPiBxID0gY2IuY3JlYXRlUXVlcnkoKTsKICAgICAgICBSb290PEVtcGxveWVl\nPiBlID0gcS5mcm9tKEVtcGxveWVlLmNsYXNzKTsKICAgICAgICBxLndoZXJl\nKGNiLmVxdWFsKGUuZ2V0KEVtcGxveWVlXy5kZXBhcnRtZW50KS5nZXQoRGVw\nYXJ0bWVudF8ubmFtZSksICJFbmdpbmVlcmluZyIpKTsKICAgICAgICBxLm11\nbHRpc2VsZWN0KGUuZ2V0KEVtcGxveWVlXy5uYW1lKSwgCiAgICAgICAgICAg\nICAgICBjYi5zZWxlY3RDYXNlKCkKICAgICAgICAgICAgICAgICAgLndoZW4o\nY2IuZXF1YWwoZS5nZXQoRW1wbG95ZWVfLnJhdGluZyksIDEpLCBjYi5wcm9k\nKGUuZ2V0KEVtcGxveWVlXy5zYWxhcnkpLCAxLjEpKQogICAgICAgICAgICAg\nICAgICAud2hlbihjYi5lcXVhbChlLmdldChFbXBsb3llZV8ucmF0aW5nKSwg\nMiksIGNiLnByb2QoZS5nZXQoRW1wbG95ZWVfLnNhbGFyeSksIDEuMikpCiAg\nICAgICAgICAgICAgICAgIC5vdGhlcndpc2UoY2IucHJvZChlLmdldChFbXBs\nb3llZV8uc2FsYXJ5KSwgMS4wMSkpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZh\nbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEV4\ncHJlc3Npb24xKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBv\nLnF1YW50aXR5LCBvLnRvdGFsQ29zdCoxLjA4LCAiCiAgICAgICAgICAgICsg\nImEuemlwQ29kZSBGUk9NIEN1c3RvbWVyIGMgSk9JTiBjLm9yZGVycyBvIEpP\nSU4gYy5hZGRyZXNzIGEgIgogICAgICAgICAgICArICJXSEVSRSBhLnN0YXRl\nID0gJ0NBJyBBTkQgYS5jb3VudHkgPSAnU2FudGEgQ2xhcmEnIjsKICAgICAg\nICAKICAgICAgICBDcml0ZXJpYVF1ZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRl\nVHVwbGVRdWVyeSgpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGN1c3QgPSBx\nLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIEpvaW48Q3VzdG9tZXIs\nIE9yZGVyPiBvcmRlciA9IGN1c3Quam9pbihDdXN0b21lcl8ub3JkZXJzKTsK\nICAgICAgICBKb2luPEN1c3RvbWVyLCBBZGRyZXNzPiBhZGRyZXNzID0gY3Vz\ndC5qb2luKEN1c3RvbWVyXy5hZGRyZXNzKTsKICAgICAgICBxLndoZXJlKGNi\nLmFuZCgKICAgICAgICAgICAgY2IuZXF1YWwoYWRkcmVzcy5nZXQoQWRkcmVz\nc18uc3RhdGUpLCAiQ0EiKSwgCiAgICAgICAgICAgIGNiLmVxdWFsKGFkZHJl\nc3MuZ2V0KEFkZHJlc3NfLmNvdW50eSksICJTYW50YSBDbGFyYSIpKSk7CiAg\nICAgICAgcS5tdWx0aXNlbGVjdChvcmRlci5nZXQoT3JkZXJfLnF1YW50aXR5\nKSwgY2IucHJvZChvcmRlcgogICAgICAgICAgICAgICAgLmdldChPcmRlcl8u\ndG90YWxDb3N0KSwgMS4wOCksIGFkZHJlc3MuZ2V0KEFkZHJlc3NfLnppcENv\nZGUpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdEV4cHJlc3Npb24zKCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCB3Lm5hbWUgRlJPTSBDb3Vyc2Ug\nYyBKT0lOIGMuc3R1ZGVudFdhaXRMaXN0IHcgIgogICAgICAgICAgICArICJX\nSEVSRSBjLm5hbWUgPSAnQ2FsY3VsdXMnIEFORCBJTkRFWCh3KSA9IDAiOwog\nICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8U3RyaW5nPiBxID0gY2Iu\nY3JlYXRlUXVlcnkoU3RyaW5nLmNsYXNzKTsKICAgICAgICBSb290PENvdXJz\nZT4gY291cnNlID0gcS5mcm9tKENvdXJzZS5jbGFzcyk7CiAgICAgICAgTGlz\ndEpvaW48Q291cnNlLCBTdHVkZW50PiB3ID0gY291cnNlLmpvaW4oQ291cnNl\nXy5zdHVkZW50V2FpdExpc3QpOwogICAgICAgIHEud2hlcmUoY2IuYW5kKAog\nICAgICAgICAgICBjYi5lcXVhbChjb3Vyc2UuZ2V0KENvdXJzZV8ubmFtZSks\nICJDYWxjdWx1cyIpLAogICAgICAgICAgICBjYi5lcXVhbCh3LmluZGV4KCks\nIDApKSkuc2VsZWN0KHcuZ2V0KFN0dWRlbnRfLm5hbWUpKTsKCiAgICAgICAg\nYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdEdlbmVyYWxDYXNlRXhwcmVzc2lvbigpIHsKICAgICAgICBT\ndHJpbmcganBxbCA9ICJTRUxFQ1QgZS5uYW1lLCBDQVNFICIKICAgICAgICAg\nICAgKyAiV0hFTiBlLnJhdGluZyA9IDEgVEhFTiBlLnNhbGFyeSAqIDEuMSAi\nCiAgICAgICAgICAgICsgIldIRU4gZS5yYXRpbmcgPSAyIFRIRU4gZS5zYWxh\ncnkgKiAxLjIgRUxTRSBlLnNhbGFyeSAqICIKICAgICAgICAgICAgKyAiMS4w\nMSBFTkQgIgogICAgICAgICAgICArICJGUk9NIEVtcGxveWVlIGUgV0hFUkUg\nZS5kZXBhcnRtZW50Lm5hbWUgPSAnRW5naW5lZXJpbmcnIjsKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PD8+IHEgPSBjYi5jcmVhdGVRdWVyeSgpOwogICAgICAg\nIFJvb3Q8RW1wbG95ZWU+IGUgPSBxLmZyb20oRW1wbG95ZWUuY2xhc3MpOwog\nICAgICAgIHEud2hlcmUoY2IuZXF1YWwoZS5nZXQoRW1wbG95ZWVfLmRlcGFy\ndG1lbnQpLmdldChEZXBhcnRtZW50Xy5uYW1lKSwgIkVuZ2luZWVyaW5nIikp\nOwogICAgICAgIHEubXVsdGlzZWxlY3QoZS5nZXQoRW1wbG95ZWVfLm5hbWUp\nLCAKICAgICAgICAgICAgICAgIGNiLnNlbGVjdENhc2UoKQogICAgICAgICAg\nICAgICAgICAud2hlbihjYi5lcXVhbChlLmdldChFbXBsb3llZV8ucmF0aW5n\nKSwgMSksIGNiLnByb2QoZS5nZXQoRW1wbG95ZWVfLnNhbGFyeSksIDEuMSkp\nCiAgICAgICAgICAgICAgICAgIC53aGVuKGNiLmVxdWFsKGUuZ2V0KEVtcGxv\neWVlXy5yYXRpbmcpLCAyKSwgY2IucHJvZChlLmdldChFbXBsb3llZV8uc2Fs\nYXJ5KSwgMS4yKSkKICAgICAgICAgICAgICAgICAgLm90aGVyd2lzZShjYi5w\ncm9kKGUuZ2V0KEVtcGxveWVlXy5zYWxhcnkpLCAxLjAxKSkpOwoKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0U2ltcGxlQ2FzZUV4cHJlc3Npb24xKCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gIlNFTEVDVCBlLm5hbWUsIENBU0UgZS5yYXRpbmcg\nIgogICAgICAgICAgICArICJXSEVOIDEgVEhFTiBlLnNhbGFyeSAqIDEuMSAi\nCiAgICAgICAgICAgICsgIldIRU4gMiBUSEVOIGUuc2FsYXJ5ICogMS4yIEVM\nU0UgZS5zYWxhcnkgKiAxLjAxIEVORCAiCiAgICAgICAgICAgICsgIkZST00g\nRW1wbG95ZWUgZSBXSEVSRSBlLmRlcGFydG1lbnQubmFtZSA9ICdFbmdpbmVl\ncmluZyciOwogICAgICAgIENyaXRlcmlhUXVlcnk8VHVwbGU+IHEgPSBjYi5j\ncmVhdGVUdXBsZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxFbXBsb3llZT4gZSA9\nIHEuZnJvbShFbXBsb3llZS5jbGFzcyk7CiAgICAgICAgcS53aGVyZShjYi5l\ncXVhbChlLmdldChFbXBsb3llZV8uZGVwYXJ0bWVudCkuZ2V0KERlcGFydG1l\nbnRfLm5hbWUpLCAiRW5naW5lZXJpbmciKSk7CiAgICAgICAgRXhwcmVzc2lv\nbjxMb25nPiBzYWxhcnkgPSBlLmdldChFbXBsb3llZV8uc2FsYXJ5KTsgCiAg\nICAgICAgRXhwcmVzc2lvbjxJbnRlZ2VyPiByYXRpbmcgID0gZS5nZXQoRW1w\nbG95ZWVfLnJhdGluZyk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChlLmdldChF\nbXBsb3llZV8ubmFtZSksCiAgICAgICAgICAgICAgICAgICAgICBjYi5zZWxl\nY3RDYXNlKHJhdGluZykuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIHdoZW4oMSwgY2IucHJvZChzYWxhcnksIDEuMSkpCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgLndoZW4oMiwgY2IucHJvZChzYWxhcnksIDEuMikp\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm90aGVyd2lzZShjYi5w\ncm9kKHNhbGFyeSwgMS4wMSkpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVu\nY2UocSwganBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNpbXBs\nZUNhc2VFeHByZXNzaW9uMigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJT\nRUxFQ1QgZS5uYW1lLCBDQVNFIGUucmF0aW5nIFdIRU4gMSBUSEVOIDEwICIK\nICAgICAgICAgICAgKyAiV0hFTiAyIFRIRU4gMjAgRUxTRSAzMCBFTkQgIgog\nICAgICAgICAgICArICJGUk9NIEVtcGxveWVlIGUgV0hFUkUgZS5kZXBhcnRt\nZW50Lm5hbWUgPSAnRW5naW5lZXJpbmcnIjsKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRlVHVwbGVRdWVyeSgpOwogICAgICAg\nIFJvb3Q8RW1wbG95ZWU+IGUgPSBxLmZyb20oRW1wbG95ZWUuY2xhc3MpOwog\nICAgICAgIEV4cHJlc3Npb248SW50ZWdlcj4gcmF0aW5nICA9IGUuZ2V0KEVt\ncGxveWVlXy5yYXRpbmcpOwogICAgICAgIHEud2hlcmUoY2IuZXF1YWwoZS5n\nZXQoRW1wbG95ZWVfLmRlcGFydG1lbnQpLmdldChEZXBhcnRtZW50Xy5uYW1l\nKSwgIkVuZ2luZWVyaW5nIikpOwogICAgICAgIHEubXVsdGlzZWxlY3QoZS5n\nZXQoRW1wbG95ZWVfLm5hbWUpLCAKICAgICAgICAgICAgICAgIGNiLnNlbGVj\ndENhc2UocmF0aW5nKQogICAgICAgICAgICAgICAgICAud2hlbigxLCAxMCkK\nICAgICAgICAgICAgICAgICAgLndoZW4oMiwgMjApCiAgICAgICAgICAgICAg\nICAgIC5vdGhlcndpc2UoMzApKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TGl0ZXJh\nbHMoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIHAgRlJPTSBQ\nZXJzb24gcCB3aGVyZSAnSm9lJyBNRU1CRVIgT0YgcC5uaWNrTmFtZXMiOwog\nICAgICAgIENyaXRlcmlhUXVlcnk8UGVyc29uPiBxID0gY2IuY3JlYXRlUXVl\ncnkoUGVyc29uLmNsYXNzKTsKICAgICAgICBSb290PFBlcnNvbj4gcCA9IHEu\nZnJvbShQZXJzb24uY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KHApLndoZXJl\nKGNiLmlzTWVtYmVyKGNiLmxpdGVyYWwoIkpvZSIpLCBwLmdldChQZXJzb25f\nLm5pY2tOYW1lcykpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RQYXJhbWV0\nZXJzMSgpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgYyBGUk9N\nIEN1c3RvbWVyIGMgV2hlcmUgYy5zdGF0dXMgPSA6c3RhdCI7CiAgICAgICAg\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDdXN0b21lcj4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBSb290PEN1c3RvbWVy\nPiBjID0gcS5mcm9tKEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBQYXJhbWV0\nZXI8SW50ZWdlcj4gcGFyYW0gPSBjYi5wYXJhbWV0ZXIoSW50ZWdlci5jbGFz\ncywgInN0YXQiKTsKICAgICAgICBxLnNlbGVjdChjKS53aGVyZShjYi5lcXVh\nbChjLmdldChDdXN0b21lcl8uc3RhdHVzKSwgcGFyYW0pKTsKCiAgICAgICAg\nYXNzZXJ0RXF1aXZhbGVuY2UocSwganBxbCwgbmV3IFN0cmluZ1tdIHsgInN0\nYXQiIH0sIG5ldyBPYmplY3RbXSB7IDEgfSk7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHRlc3RQYXJhbWV0ZXJzMigpIHsKICAgICAgICBTdHJpbmcg\nanBxbCA9ICJTRUxFQ1QgYyBGUk9NIEN1c3RvbWVyIGMgV2hlcmUgYy5zdGF0\ndXMgPSA6c3RhdCBBTkQgYy5uYW1lID0gOm5hbWUiOwogICAgICAgIAogICAg\nICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9tZXI+IHEgPSBjYi5jcmVhdGVRdWVy\neShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9\nIHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgUGFyYW1ldGVyPElu\ndGVnZXI+IHBhcmFtMSA9IGNiLnBhcmFtZXRlcihJbnRlZ2VyLmNsYXNzLCAi\nc3RhdCIpOwogICAgICAgIFBhcmFtZXRlcjxTdHJpbmc+IHBhcmFtMiA9IGNi\nLnBhcmFtZXRlcihTdHJpbmcuY2xhc3MsICJuYW1lIik7CiAgICAgICAgcS5z\nZWxlY3QoYykud2hlcmUoY2IuYW5kKGNiLmVxdWFsKGMuZ2V0KEN1c3RvbWVy\nXy5zdGF0dXMpLCBwYXJhbTEpLCAKICAgICAgICAgICAgICAgIGNiLmVxdWFs\nKGMuZ2V0KEN1c3RvbWVyXy5uYW1lKSwgcGFyYW0yKSkpOwoKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsLCBuZXcgU3RyaW5nW10geyAic3Rh\ndCIsICJuYW1lIiB9LAogICAgICAgICAgICAgICAgbmV3IE9iamVjdFtdIHsg\nMSwgInRlc3QiIH0pOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nUGFyYW1ldGVyczMoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNU\nIGMgRlJPTSBDdXN0b21lciBjIFdoZXJlIGMuc3RhdHVzID0gOnN0YXQiOwoK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3JlYXRl\nUXVlcnkoQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+\nIGMgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFBhcmFtZXRl\ncjxJbnRlZ2VyPiBwYXJhbSA9IGNiLnBhcmFtZXRlcihJbnRlZ2VyLmNsYXNz\nLCAic3RhdCIpOwogICAgICAgIHEuc2VsZWN0KGMpLndoZXJlKGNiLmVxdWFs\nKGMuZ2V0KEN1c3RvbWVyXy5zdGF0dXMpLCBwYXJhbSkpOwogICAgICAgIAog\nICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwsIG5ldyBTdHJpbmdb\nXXsic3RhdCJ9LCBuZXcgT2JqZWN0W10geyAxIH0pOwogICAgfQogICAgCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0UGFyYW1ldGVyczQoKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAiU0VMRUNUIGMgRlJPTSBDdXN0b21lciBjIFdoZXJlIGMu\nc3RhdHVzID0gOnN0YXQgQU5EIGMubmFtZSA9IDpuYW1lIjsKICAgICAgICAK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3JlYXRl\nUXVlcnkoQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+\nIGMgPSBxLmZyb20oQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFBhcmFtZXRl\ncjxJbnRlZ2VyPiBwYXJhbTEgPSBjYi5wYXJhbWV0ZXIoSW50ZWdlci5jbGFz\ncywgInN0YXQiKTsKICAgICAgICBQYXJhbWV0ZXI8U3RyaW5nPiBwYXJhbTIg\nPSBjYi5wYXJhbWV0ZXIoU3RyaW5nLmNsYXNzLCAibmFtZSIpOwogICAgICAg\nIHEuc2VsZWN0KGMpLndoZXJlKGNiLmFuZChjYi5lcXVhbChjLmdldChDdXN0\nb21lcl8uc3RhdHVzKSwgcGFyYW0xKSwgCiAgICAgICAgICAgICAgICBjYi5l\ncXVhbChjLmdldChDdXN0b21lcl8ubmFtZSksIHBhcmFtMikpKTsKICAgICAg\nICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsLCBuZXcgU3RyaW5nW117InN0\nYXQiLCAibmFtZSJ9LAogICAgICAgICAgICAgICAgbmV3IE9iamVjdFtdIHsg\nMSwgInRlc3QiIH0pOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nUGFyYW1ldGVyczUoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNU\nIGMgRlJPTSBDdXN0b21lciBjIFdoZXJlIGMuc3RhdHVzIElOICg6Y29sbCki\nOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9tZXI+IHEg\nPSBjYi5jcmVhdGVRdWVyeShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgUm9v\ndDxDdXN0b21lcj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAg\nICAgUGFyYW1ldGVyRXhwcmVzc2lvbjxMaXN0PiBwYXJhbTEgPSBjYi5wYXJh\nbWV0ZXIoTGlzdC5jbGFzcywgImNvbGwiKTsKICAgICAgICBxLndoZXJlKGMu\nZ2V0KEN1c3RvbWVyXy5zdGF0dXMpLmluKHBhcmFtMSkpOwogICAgICAgIHEu\nc2VsZWN0KGMpOwogICAgICAgIExpc3QgdmFscyA9IG5ldyBBcnJheUxpc3Qo\nKTsKICAgICAgICB2YWxzLmFkZCgxKTsKICAgICAgICB2YWxzLmFkZCgyKTsK\nICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsLCBuZXcgU3RyaW5n\nW10geyJjb2xsIn0sIG5ldyBPYmplY3RbXSB7dmFsc30pOwogICAgfQogICAg\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2VsZWN0TGlzdDEoKSB7CiAgICAgICAg\nU3RyaW5nIGpwcWwgPSAiU0VMRUNUIHYubG9jYXRpb24uc3RyZWV0LCBLRVko\naSkudGl0bGUsIFZBTFVFKGkpIEZST00gIgogICAgICAgICAgICArICJWaWRl\nb1N0b3JlIHYgSk9JTiB2LnZpZGVvSW52ZW50b3J5IGkgV0hFUkUgdi5sb2Nh\ndGlvbi56aXBDb2RlID0gIgogICAgICAgICAgICArICInOTQzMDEnIEFORCBW\nQUxVRShpKSA+IDAiOwogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8\nVHVwbGU+IHEgPSBjYi5jcmVhdGVUdXBsZVF1ZXJ5KCk7CiAgICAgICAgUm9v\ndDxWaWRlb1N0b3JlPiB2ID0gcS5mcm9tKFZpZGVvU3RvcmUuY2xhc3MpOwog\nICAgICAgIE1hcEpvaW48VmlkZW9TdG9yZSwgTW92aWUsIEludGVnZXI+IGkg\nPSB2LmpvaW4oVmlkZW9TdG9yZV8udmlkZW9JbnZlbnRvcnkpOwogICAgICAg\nIHEud2hlcmUoY2IuYW5kKAogICAgICAgIGNiLmVxdWFsKHYuZ2V0KFZpZGVv\nU3RvcmVfLmxvY2F0aW9uKS5nZXQoQWRkcmVzc18uemlwQ29kZSksICI5NDMw\nMSIpLCAKICAgICAgICBjYi5ndChpLnZhbHVlKCksIDApKSk7CiAgICAgICAg\ncS5tdWx0aXNlbGVjdCh2LmdldChWaWRlb1N0b3JlXy5sb2NhdGlvbikuZ2V0\nKEFkZHJlc3NfLnN0cmVldCksIAogICAgICAgICAgICAgICAgaS5rZXkoKS5n\nZXQoTW92aWVfLnRpdGxlKSwgCiAgICAgICAgICAgICAgICBpLnZhbHVlKCkp\nOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0TmV3Q29uc3RydWN0KCkgewogICAgICAg\nIFN0cmluZyBqcHFsID0gIlNFTEVDVCBORVcgQ3VzdG9tZXJEZXRhaWxzKGMu\naWQsIGMuc3RhdHVzKSBGUk9NIEN1c3RvbWVyIGMiOwogICAgICAgIAogICAg\nICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9tZXJEZXRhaWxzPiBxID0gY2IuY3Jl\nYXRlUXVlcnkoQ3VzdG9tZXJEZXRhaWxzLmNsYXNzKTsKCiAgICAgICAgUm9v\ndDxDdXN0b21lcj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAg\nICAgcS5zZWxlY3QoY2IuY29uc3RydWN0KEN1c3RvbWVyRGV0YWlscy5jbGFz\ncywgYy5nZXQoQ3VzdG9tZXJfLmlkKSwgYy5nZXQoQ3VzdG9tZXJfLnN0YXR1\ncykpKTsKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdENvbnN0cnVjdG9ySW5Qcm9q\nZWN0aW9uKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBORVcg\nQ3VzdG9tZXJEZXRhaWxzKGMuaWQsIGMuc3RhdHVzLCBvLnF1YW50aXR5KSAi\nCiAgICAgICAgICAgICAgICAgICAgKyAiRlJPTSBDdXN0b21lciBjIEpPSU4g\nYy5vcmRlcnMgbyBXSEVSRSBvLnF1YW50aXR5ID4gMTAwIjsKICAgICAgICAK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3RvbWVyRGV0YWlscz4gcSA9IGNi\nLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVyRGV0YWlscy5jbGFzcyk7CiAgICAgICAg\nUm9vdDxDdXN0b21lcj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAg\nICAgICAgU2V0Sm9pbjxDdXN0b21lciwgT3JkZXI+IG8gPSBjLmpvaW4oQ3Vz\ndG9tZXJfLm9yZGVycyk7CiAgICAgICAgcS53aGVyZShjYi5ndChvLmdldChP\ncmRlcl8ucXVhbnRpdHkpLCAxMDApKTsKICAgICAgICBxLnNlbGVjdChjYi5j\nb25zdHJ1Y3QoQ3VzdG9tZXJEZXRhaWxzLmNsYXNzLCAKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIGMuZ2V0KEN1c3RvbWVyXy5pZCksIAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgYy5nZXQoQ3VzdG9tZXJfLnN0YXR1cyks\nIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgby5nZXQoT3JkZXJfLnF1\nYW50aXR5KSkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TXVsdGlwbGVDb25zdHJ1\nY3RvckluUHJvamVjdGlvbigpIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJT\nRUxFQ1QgTkVXIEN1c3RvbWVyRGV0YWlscyhjLmlkLCBjLnN0YXR1cyksICIg\nCiAgICAgICAgICAgICAgICAgICAgKyAiTkVXIEN1c3RvbWVyRnVsbE5hbWUo\nYy5maXJzdE5hbWUsIGMubGFzdE5hbWUpICIKICAgICAgICAgICAgICAgICAg\nICArICJGUk9NIEN1c3RvbWVyIGMiOwogICAgICAgIAogICAgICAgIENyaXRl\ncmlhUXVlcnk8Pz4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KCk7CiAgICAgICAgUm9v\ndDxDdXN0b21lcj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAg\nICAgcS5tdWx0aXNlbGVjdChjYi5jb25zdHJ1Y3QoQ3VzdG9tZXJEZXRhaWxz\nLmNsYXNzLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmdldChD\ndXN0b21lcl8uaWQpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBj\nLmdldChDdXN0b21lcl8uc3RhdHVzKSksCiAgICAgICAgICAgICAgICBjYi5j\nb25zdHJ1Y3QoQ3VzdG9tZXJGdWxsTmFtZS5jbGFzcywgCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgYy5nZXQoQ3VzdG9tZXJfLmZpcnN0TmFtZSks\nIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuZ2V0KEN1c3RvbWVy\nXy5sYXN0TmFtZSkpCiAgICAgICAgKTsKICAgICAgICBlbS5jcmVhdGVRdWVy\neShxKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgCiAgICAgICAgLy8gYXNz\nZXJ0RXF1aXZhbGVuY2UocSwganBxbCk7CiAgICB9CiAgICAKICAgIAogICAg\ncHVibGljIHZvaWQgdGVzdFN1YnF1ZXJpZXMxKCkgewogICAgICAgIFN0cmlu\nZyBqcHFsID0gIlNFTEVDVCBnb29kQ3VzdG9tZXIgRlJPTSBDdXN0b21lciBn\nb29kQ3VzdG9tZXIgV0hFUkUgIgogICAgICAgICAgICArICJnb29kQ3VzdG9t\nZXIuYmFsYW5jZU93ZWQgPCAoU0VMRUNUIEFWRyhjLmJhbGFuY2VPd2VkKSAi\nIAogICAgICAgICAgICArICIgRlJPTSAiCiAgICAgICAgICAgICsgIkN1c3Rv\nbWVyIGMpIjsKICAgICAgICBDcml0ZXJpYVF1ZXJ5PEN1c3RvbWVyPiBxID0g\nY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8\nQ3VzdG9tZXI+IGdvb2RDdXN0b21lciA9IHEuZnJvbShDdXN0b21lci5jbGFz\ncyk7CiAgICAgICAgU3VicXVlcnk8RG91YmxlPiBzcSA9IHEuc3VicXVlcnko\nRG91YmxlLmNsYXNzKTsKICAgICAgICBSb290PEN1c3RvbWVyPiBjID0gc3Eu\nZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgcS53aGVyZShjYi5sdChn\nb29kQ3VzdG9tZXIuZ2V0KEN1c3RvbWVyXy5iYWxhbmNlT3dlZCksIHNxLnNl\nbGVjdChjYgogICAgICAgICAgICAgICAgLmF2ZyhjLmdldChDdXN0b21lcl8u\nYmFsYW5jZU93ZWQpKSkpKTsKICAgICAgICBxLnNlbGVjdChnb29kQ3VzdG9t\nZXIpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3VicXVlcmllczIoKSB7CiAgICAg\nICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIERJU1RJTkNUIGVtcCBGUk9NIEVt\ncGxveWVlIGVtcCBXSEVSRSBFWElTVFMgKCIKICAgICAgICAgICAgKyAiU0VM\nRUNUIHNwb3VzZUVtcCBGUk9NIEVtcGxveWVlIHNwb3VzZUVtcCBXSEVSRSBz\ncG91c2VFbXAgPSIKICAgICAgICAgICAgKyAiIGVtcC5zcG91c2UpIjsKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PEVtcGxveWVlPiBxID0gY2IuY3JlYXRlUXVl\ncnkoRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIFJvb3Q8RW1wbG95ZWU+IGVt\ncCA9IHEuZnJvbShFbXBsb3llZS5jbGFzcyk7CiAgICAgICAgU3VicXVlcnk8\nRW1wbG95ZWU+IHNxID0gcS5zdWJxdWVyeShFbXBsb3llZS5jbGFzcyk7CiAg\nICAgICAgUm9vdDxFbXBsb3llZT4gc3BvdXNlRW1wID0gc3EuZnJvbShFbXBs\nb3llZS5jbGFzcyk7CiAgICAgICAgc3Euc2VsZWN0KHNwb3VzZUVtcCk7CiAg\nICAgICAgc3Eud2hlcmUoY2IuZXF1YWwoc3BvdXNlRW1wLCBlbXAuZ2V0KEVt\ncGxveWVlXy5zcG91c2UpKSk7CiAgICAgICAgcS53aGVyZShjYi5leGlzdHMo\nc3EpKTsKICAgICAgICBxLnNlbGVjdChlbXApLmRpc3RpbmN0KHRydWUpOwoK\nICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0U3VicXVlcmllczMoKSB7CiAgICAgICAgU3Ry\naW5nIGpwcWwgPSAiU0VMRUNUIGVtcCBGUk9NIEVtcGxveWVlIGVtcCBXSEVS\nRSBlbXAuc2FsYXJ5ID4gQUxMICgiCiAgICAgICAgICAgICsgIlNFTEVDVCBt\nLnNhbGFyeSBGUk9NIE1hbmFnZXIgbSBXSEVSRSBtLmRlcGFydG1lbnQgPSAi\nCiAgICAgICAgICAgICsgImVtcC5kZXBhcnRtZW50KSI7CiAgICAgICAgQ3Jp\ndGVyaWFRdWVyeTxFbXBsb3llZT4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEVtcGxv\neWVlLmNsYXNzKTsKICAgICAgICBSb290PEVtcGxveWVlPiBlbXAgPSBxLmZy\nb20oRW1wbG95ZWUuY2xhc3MpOwogICAgICAgIHEuc2VsZWN0KGVtcCk7CiAg\nICAgICAgU3VicXVlcnk8QmlnRGVjaW1hbD4gc3EgPSBxLnN1YnF1ZXJ5KEJp\nZ0RlY2ltYWwuY2xhc3MpOwogICAgICAgIFJvb3Q8TWFuYWdlcj4gbSA9IHNx\nLmZyb20oTWFuYWdlci5jbGFzcyk7CiAgICAgICAgc3Euc2VsZWN0KG0uZ2V0\nKE1hbmFnZXJfLnNhbGFyeSkpOwogICAgICAgIHNxLndoZXJlKGNiLmVxdWFs\nKG0uZ2V0KE1hbmFnZXJfLmRlcGFydG1lbnQpLCBlbXAKICAgICAgICAgICAg\nICAgIC5nZXQoRW1wbG95ZWVfLmRlcGFydG1lbnQpKSk7CiAgICAgICAgcS53\naGVyZShjYi5ndChlbXAuZ2V0KEVtcGxveWVlXy5zYWxhcnkpLCBjYi5hbGwo\nc3EpKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RTdWJxdWVyaWVzNCgpIHsKICAg\nICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgYyBGUk9NIEN1c3RvbWVyIGMg\nV0hFUkUgIgogICAgICAgICAgICArICIoU0VMRUNUIENPVU5UKG8pIEZST00g\nYy5vcmRlcnMgbykgPiAxMCI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDdXN0\nb21lcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVyLmNsYXNzKTsKICAg\nICAgICBSb290PEN1c3RvbWVyPiBjMSA9IHEuZnJvbShDdXN0b21lci5jbGFz\ncyk7CiAgICAgICAgcS5zZWxlY3QoYzEpOwogICAgICAgIFN1YnF1ZXJ5PExv\nbmc+IHNxMyA9IHEuc3VicXVlcnkoTG9uZy5jbGFzcyk7CiAgICAgICAgUm9v\ndDxDdXN0b21lcj4gYzIgPSBzcTMuY29ycmVsYXRlKGMxKTsKICAgICAgICBK\nb2luPEN1c3RvbWVyLCBPcmRlcj4gbyA9IGMyLmpvaW4oQ3VzdG9tZXJfLm9y\nZGVycyk7CiAgICAgICAgcS53aGVyZShjYi5ndChzcTMuc2VsZWN0KGNiLmNv\ndW50KG8pKSwgMTApKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFN1YnF1ZXJpZXM1\nKCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBvIEZST00gT3Jk\nZXIgbyBXSEVSRSAxMDAwMCA8IEFMTCAoIgogICAgICAgICAgICArICJTRUxF\nQ1QgYS5iYWxhbmNlIEZST00gby5jdXN0b21lciBjIEpPSU4gYy5hY2NvdW50\ncyBhKSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxPcmRlcj4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KE9yZGVyLmNsYXNzKTsKICAgICAgICBSb290PE9yZGVyPiBv\nID0gcS5mcm9tKE9yZGVyLmNsYXNzKTsKICAgICAgICBxLnNlbGVjdChvKTsK\nICAgICAgICBTdWJxdWVyeTxJbnRlZ2VyPiBzcSA9IHEuc3VicXVlcnkoSW50\nZWdlci5jbGFzcyk7CiAgICAgICAgUm9vdDxPcmRlcj4gb3NxID0gc3EuY29y\ncmVsYXRlKG8pOwogICAgICAgIEpvaW48T3JkZXIsIEN1c3RvbWVyPiBjID0g\nb3NxLmpvaW4oT3JkZXJfLmN1c3RvbWVyKTsKICAgICAgICBKb2luPEN1c3Rv\nbWVyLCBBY2NvdW50PiBhID0gYy5qb2luKEN1c3RvbWVyXy5hY2NvdW50cyk7\nCiAgICAgICAgc3Euc2VsZWN0KGEuZ2V0KEFjY291bnRfLmJhbGFuY2UpKTsK\nICAgICAgICBxLndoZXJlKGNiLmx0KGNiLmxpdGVyYWwoMTAwMDApLCBjYi5h\nbGwoc3EpKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RTdWJxdWVyaWVzNigpIHsK\nICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgbyBGUk9NIE9yZGVyIG8g\nSk9JTiBvLmN1c3RvbWVyIGMgV0hFUkUgMTAwMDAgPCAiCiAgICAgICAgICAg\nICsgIkFMTCAoU0VMRUNUIGEuYmFsYW5jZSBGUk9NIGMuYWNjb3VudHMgYSki\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8T3JkZXI+IHEgPSBjYi5jcmVhdGVR\ndWVyeShPcmRlci5jbGFzcyk7CiAgICAgICAgUm9vdDxPcmRlcj4gbyA9IHEu\nZnJvbShPcmRlci5jbGFzcyk7CiAgICAgICAgcS5zZWxlY3Qobyk7CiAgICAg\nICAgSm9pbjxPcmRlciwgQ3VzdG9tZXI+IGMgPSBvLmpvaW4oT3JkZXJfLmN1\nc3RvbWVyKTsKICAgICAgICBTdWJxdWVyeTxJbnRlZ2VyPiBzcSA9IHEuc3Vi\ncXVlcnkoSW50ZWdlci5jbGFzcyk7CiAgICAgICAgSm9pbjxPcmRlciwgQ3Vz\ndG9tZXI+IGNzcSA9IHNxLmNvcnJlbGF0ZShjKTsKICAgICAgICBKb2luPEN1\nc3RvbWVyLCBBY2NvdW50PiBhID0gY3NxLmpvaW4oQ3VzdG9tZXJfLmFjY291\nbnRzKTsKICAgICAgICBzcS5zZWxlY3QoYS5nZXQoQWNjb3VudF8uYmFsYW5j\nZSkpOwogICAgICAgIHEud2hlcmUoY2IubHQoY2IubGl0ZXJhbCgxMDAwMCks\nIGNiLmFsbChzcSkpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwg\nanBxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEdyb3VwQnlBbmRI\nYXZpbmcoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VMRUNUIGMuc3Rh\ndHVzLCBBVkcoYy5maWxsZWRPcmRlckNvdW50KSwgQ09VTlQoYykgRlJPTSAi\nCiAgICAgICAgICAgICsgIkN1c3RvbWVyIGMgR1JPVVAgQlkgYy5zdGF0dXMg\nSEFWSU5HIGMuc3RhdHVzIElOICgxLCAyKSI7CiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxUdXBsZT4gcSA9IGNiLmNyZWF0ZVR1cGxlUXVlcnkoKTsKICAgICAg\nICBSb290PEN1c3RvbWVyPiBjID0gcS5mcm9tKEN1c3RvbWVyLmNsYXNzKTsK\nICAgICAgICBxLmdyb3VwQnkoYy5nZXQoQ3VzdG9tZXJfLnN0YXR1cykpOwog\nICAgICAgIHEuaGF2aW5nKGNiLmluKGMuZ2V0KEN1c3RvbWVyXy5zdGF0dXMp\nKS52YWx1ZSgxKS52YWx1ZSgyKSk7CiAgICAgICAgcS5tdWx0aXNlbGVjdChj\nLmdldChDdXN0b21lcl8uc3RhdHVzKSwgY2IuYXZnKGMKICAgICAgICAgICAg\nICAgIC5nZXQoQ3VzdG9tZXJfLmZpbGxlZE9yZGVyQ291bnQpKSwgY2IuY291\nbnQoYykpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3JkZXJpbmcxKCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBvIEZST00gQ3VzdG9tZXIgYyBK\nT0lOIGMub3JkZXJzIG8gIgogICAgICAgICAgICArICJKT0lOIGMuYWRkcmVz\ncyBhIFdIRVJFIGEuc3RhdGUgPSAnQ0EnIE9SREVSIEJZIG8ucXVhbnRpdHkg\nREVTQywgIgogICAgICAgICAgICArICJvLnRvdGFsQ29zdCI7CiAgICAgICAg\nQ3JpdGVyaWFRdWVyeTxPcmRlcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KE9yZGVy\nLmNsYXNzKTsKICAgICAgICBSb290PEN1c3RvbWVyPiBjID0gcS5mcm9tKEN1\nc3RvbWVyLmNsYXNzKTsKICAgICAgICBKb2luPEN1c3RvbWVyLCBPcmRlcj4g\nbyA9IGMuam9pbihDdXN0b21lcl8ub3JkZXJzKTsKICAgICAgICBKb2luPEN1\nc3RvbWVyLCBBZGRyZXNzPiBhID0gYy5qb2luKEN1c3RvbWVyXy5hZGRyZXNz\nKTsKICAgICAgICBxLndoZXJlKGNiLmVxdWFsKGEuZ2V0KEFkZHJlc3NfLnN0\nYXRlKSwgIkNBIikpOwogICAgICAgIHEub3JkZXJCeShjYi5kZXNjKG8uZ2V0\nKE9yZGVyXy5xdWFudGl0eSkpLCBjYi5hc2MobwogICAgICAgICAgICAgICAg\nLmdldChPcmRlcl8udG90YWxDb3N0KSkpOwogICAgICAgIHEuc2VsZWN0KG8p\nOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3JkZXJpbmcyKCkgewogICAgICAgIFN0\ncmluZyBqcHFsID0gIlNFTEVDVCBvLnF1YW50aXR5LCBhLnppcENvZGUgRlJP\nTSBDdXN0b21lciBjICIKICAgICAgICAgICAgKyAiSk9JTiBjLm9yZGVycyBv\nIEpPSU4gYy5hZGRyZXNzIGEgV0hFUkUgYS5zdGF0ZSA9ICdDQScgIgogICAg\nICAgICAgICArICJPUkRFUiBCWSBvLnF1YW50aXR5LCBhLnppcENvZGUiOwog\nICAgICAgIENyaXRlcmlhUXVlcnk8VHVwbGU+IHEgPSBjYi5jcmVhdGVUdXBs\nZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9IHEuZnJvbShD\ndXN0b21lci5jbGFzcyk7CiAgICAgICAgSm9pbjxDdXN0b21lciwgT3JkZXI+\nIG8gPSBjLmpvaW4oQ3VzdG9tZXJfLm9yZGVycyk7CiAgICAgICAgSm9pbjxD\ndXN0b21lciwgQWRkcmVzcz4gYSA9IGMuam9pbihDdXN0b21lcl8uYWRkcmVz\ncyk7CiAgICAgICAgcS53aGVyZShjYi5lcXVhbChhLmdldChBZGRyZXNzXy5z\ndGF0ZSksICJDQSIpKTsKICAgICAgICBxLm9yZGVyQnkoY2IuYXNjKG8uZ2V0\nKE9yZGVyXy5xdWFudGl0eSkpLCBjYi5hc2MoYQogICAgICAgICAgICAgICAg\nLmdldChBZGRyZXNzXy56aXBDb2RlKSkpOwogICAgICAgIHEubXVsdGlzZWxl\nY3Qoby5nZXQoT3JkZXJfLnF1YW50aXR5KSwgYS5nZXQoQWRkcmVzc18uemlw\nQ29kZSkpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3JkZXJpbmczKCkgewogICAg\nICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBvLnF1YW50aXR5LCBvLnRvdGFs\nQ29zdCAqIDEuMDggQVMgdGF4ZWRDb3N0LCAiCiAgICAgICAgICAgICsgImEu\nemlwQ29kZSBGUk9NIEN1c3RvbWVyIGMgSk9JTiBjLm9yZGVycyBvIEpPSU4g\nYy5hZGRyZXNzIGEgIgogICAgICAgICAgICArICJXSEVSRSBhLnN0YXRlID0g\nJ0NBJyBBTkQgYS5jb3VudHkgPSAnU2FudGEgQ2xhcmEnICIKICAgICAgICAg\nICAgKyAiT1JERVIgQlkgby5xdWFudGl0eSwgdGF4ZWRDb3N0LCBhLnppcENv\nZGUiOwogICAgICAgIENyaXRlcmlhUXVlcnk8VHVwbGU+IHEgPSBjYi5jcmVh\ndGVUdXBsZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9IHEu\nZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgSm9pbjxDdXN0b21lciwg\nT3JkZXI+IG8gPSBjLmpvaW4oQ3VzdG9tZXJfLm9yZGVycyk7CiAgICAgICAg\nSm9pbjxDdXN0b21lciwgQWRkcmVzcz4gYSA9IGMuam9pbihDdXN0b21lcl8u\nYWRkcmVzcyk7CiAgICAgICAgRXhwcmVzc2lvbjxEb3VibGU+IHRheGVkQ29z\ndCA9IChFeHByZXNzaW9uPERvdWJsZT4pY2IucHJvZChvLmdldChPcmRlcl8u\ndG90YWxDb3N0KSwgMS4wOCkuYWxpYXMoInRheGVkQ29zdCIpOwogICAgICAg\nIHEud2hlcmUoY2IuZXF1YWwoYS5nZXQoQWRkcmVzc18uc3RhdGUpLCAiQ0Ei\nKSwgCiAgICAgICAgICAgICAgICBjYi5lcXVhbChhLmdldChBZGRyZXNzXy5j\nb3VudHkpLCAiU2FudGEgQ2xhcmEiKSk7CiAgICAgICAgcS5vcmRlckJ5KGNi\nLmFzYyhvLmdldChPcmRlcl8ucXVhbnRpdHkpKSwgCiAgICAgICAgICAgICAg\nICBjYi5hc2ModGF4ZWRDb3N0KSwKICAgICAgICAgICAgICAgIGNiLmFzYyhh\nLmdldChBZGRyZXNzXy56aXBDb2RlKSkpOwogICAgICAgIHEubXVsdGlzZWxl\nY3Qoby5nZXQoT3JkZXJfLnF1YW50aXR5KSwgdGF4ZWRDb3N0LCBhLmdldChB\nZGRyZXNzXy56aXBDb2RlKSk7CgogICAgICAgIGFzc2VydEVxdWl2YWxlbmNl\nKHEsIGpwcWwpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3Jk\nZXJpbmc0KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBjIEZS\nT00gQ3VzdG9tZXIgYyBPUkRFUiBCWSBjLm5hbWUgREVTQywgYy5zdGF0dXMi\nOwogICAgICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9tZXI+IHEgPSBjYi5jcmVh\ndGVRdWVyeShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgUm9vdDxDdXN0b21l\ncj4gYyA9IHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgcS5vcmRl\nckJ5KGNiLmRlc2MoYy5nZXQoQ3VzdG9tZXJfLm5hbWUpKSwgCiAgICAgICAg\nICAgICAgICAgIGNiLmFzYyhjLmdldChDdXN0b21lcl8uc3RhdHVzKSkpOwog\nICAgICAgIHEuc2VsZWN0KGMpOwoKICAgICAgICBhc3NlcnRFcXVpdmFsZW5j\nZShxLCBqcHFsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3JkZXJp\nbmc1KCkgewogICAgICAgIFN0cmluZyBqcHFsID0gIlNFTEVDVCBjLmZpcnN0\nTmFtZSwgYy5sYXN0TmFtZSwgYy5iYWxhbmNlT3dlZCBGUk9NIEN1c3RvbWVy\nIGMgT1JERVIgQlkgYy5uYW1lIERFU0MsIGMuc3RhdHVzIjsKICAgICAgICAK\nICAgICAgICBDcml0ZXJpYVF1ZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRlVHVw\nbGVRdWVyeSgpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBxLmZyb20o\nQ3VzdG9tZXIuY2xhc3MpOwogICAgICAgIHEub3JkZXJCeShjYi5kZXNjKGMu\nZ2V0KEN1c3RvbWVyXy5uYW1lKSksIGNiLmFzYyhjCiAgICAgICAgICAgICAg\nICAuZ2V0KEN1c3RvbWVyXy5zdGF0dXMpKSk7CiAgICAgICAgcS5tdWx0aXNl\nbGVjdChjLmdldChDdXN0b21lcl8uZmlyc3ROYW1lKSwgYy5nZXQoQ3VzdG9t\nZXJfLmxhc3ROYW1lKSwgYwogICAgICAgICAgICAgICAgLmdldChDdXN0b21l\ncl8uYmFsYW5jZU93ZWQpKTsKCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2Uo\ncSwganBxbCk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogMC1hcmcgZnVu\nY3Rpb24gd29ya3Mgb25seSBpZiB0aGVyZSBpcyBvdGhlciBwcm9qZWN0aW9u\nIGl0ZW1zIHRvIGRldGVybWluZSB0aGUgdGFibGUgdG8gc2VsZWN0IGZyb20u\nIAogICAgICovCiAgICBAQWxsb3dGYWlsdXJlKG1lc3NhZ2U9InJ1bnMgb25s\neSBvbiBkYXRhYmFzZXMgd2l0aCBDVVJSRU5UX1VTRVIoKSBmdW5jdGlvbiBl\nLmcuIE15U1FMIGJ1dCBub3QgRGVyYnkiKQogICAgcHVibGljIHZvaWQgdGVz\ndEZ1bmN0aW9uV2l0aE5vQXJndW1lbnQoKSB7CiAgICAgICAgU3RyaW5nIGpw\ncWwgPSAiU0VMRUNUIGMuYmFsYW5jZU93ZWQgRlJPTSBDdXN0b21lciBjIjsK\nICAgICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCBDVVJSRU5UX1VTRVIoKSwg\ndDAuYmFsYW5jZU93ZWQgRlJPTSBDUl9DVVNUIHQwIjsKICAgICAgICAKICAg\nICAgICBDcml0ZXJpYVF1ZXJ5PFR1cGxlPiBxID0gY2IuY3JlYXRlVHVwbGVR\ndWVyeSgpOwogICAgICAgIFJvb3Q8Q3VzdG9tZXI+IGMgPSBxLmZyb20oQ3Vz\ndG9tZXIuY2xhc3MpOwogICAgICAgIHEubXVsdGlzZWxlY3QoY2IuZnVuY3Rp\nb24oIkNVUlJFTlRfVVNFUiIsIFN0cmluZy5jbGFzcywgKEV4cHJlc3Npb248\nPz5bXSludWxsKSwgYy5nZXQoQ3VzdG9tZXJfLmJhbGFuY2VPd2VkKSk7CiAg\nICAgICAgCiAgICAgICAgZXhlY3V0ZUFuZENvbXBhcmVTUUwocSwgc3FsKTsK\nLy8gICAgICAgIGFzc2VydEVxdWl2YWxlbmNlKHEsIGpwcWwpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RGdW5jdGlvbldpdGhPbmVBcmd1bWVudCgp\nIHsKICAgICAgICBTdHJpbmcganBxbCA9ICJTRUxFQ1QgTUFYKGMuYmFsYW5j\nZU93ZWQpIEZST00gQ3VzdG9tZXIgYyI7CiAgICAgICAgCiAgICAgICAgQ3Jp\ndGVyaWFRdWVyeTxUdXBsZT4gcSA9IGNiLmNyZWF0ZVR1cGxlUXVlcnkoKTsK\nICAgICAgICBSb290PEN1c3RvbWVyPiBjID0gcS5mcm9tKEN1c3RvbWVyLmNs\nYXNzKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGNiLmZ1bmN0aW9uKCJNQVgi\nLCBJbnRlZ2VyLmNsYXNzLCBjLmdldChDdXN0b21lcl8uYmFsYW5jZU93ZWQp\nKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1aXZhbGVuY2UocSwganBx\nbCk7CgogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RnVuY3Rpb25X\naXRoVHdvQXJndW1lbnQoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAiU0VM\nRUNUIE1PRChjLmJhbGFuY2VPd2VkLDEwKSBGUk9NIEN1c3RvbWVyIGMiOwog\nICAgICAgIAogICAgICAgIENyaXRlcmlhUXVlcnk8VHVwbGU+IHEgPSBjYi5j\ncmVhdGVUdXBsZVF1ZXJ5KCk7CiAgICAgICAgUm9vdDxDdXN0b21lcj4gYyA9\nIHEuZnJvbShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgcS5tdWx0aXNlbGVj\ndChjYi5mdW5jdGlvbigiTU9EIiwgSW50ZWdlci5jbGFzcywgYy5nZXQoQ3Vz\ndG9tZXJfLmJhbGFuY2VPd2VkKSwgY2IubGl0ZXJhbCgxMCkpKTsKICAgICAg\nICAKICAgICAgICBhc3NlcnRFcXVpdmFsZW5jZShxLCBqcHFsKTsKCiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RGdW5jdGlvbldpdGhGdW5jdGlv\nbkFyZ3VtZW50SW5PcmRlckJ5KCkgewogICAgICAgIFN0cmluZyBqcHFsID0g\nIlNFTEVDVCBNT0QoYy5iYWxhbmNlT3dlZCwxMCkgRlJPTSBDdXN0b21lciBj\nIFdIRVJFIExFTkdUSChjLm5hbWUpPjMgT1JERVIgQlkgTEVOR1RIKGMubmFt\nZSkiOwogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUIE1PRCh0MC5iYWxh\nbmNlT3dlZCwgPyksIExFTkdUSCh0MC5uYW1lKSBGUk9NIENSX0NVU1QgdDAg\nV0hFUkUgKExFTkdUSCh0MC5uYW1lKSA+ID8pICIgKwogICAgICAgICAgICAg\nICAgICAgICAiT1JERVIgQlkgTEVOR1RIKHQwLm5hbWUpIEFTQyI7CiAgICAg\nICAgCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxUdXBsZT4gcSA9IGNiLmNyZWF0\nZVR1cGxlUXVlcnkoKTsKICAgICAgICBSb290PEN1c3RvbWVyPiBjID0gcS5m\ncm9tKEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBFeHByZXNzaW9uPEludGVn\nZXI+IG5hbWVMZW5ndGggPSBjYi5mdW5jdGlvbigiTEVOR1RIIiwgSW50ZWdl\nci5jbGFzcywgYy5nZXQoQ3VzdG9tZXJfLm5hbWUpKTsKICAgICAgICBxLm11\nbHRpc2VsZWN0KGNiLmZ1bmN0aW9uKCJNT0QiLCBJbnRlZ2VyLmNsYXNzLCBj\nLmdldChDdXN0b21lcl8uYmFsYW5jZU93ZWQpLCBjYi5saXRlcmFsKDEwKSkp\nOwogICAgICAgIHEud2hlcmUoY2IuZ3JlYXRlclRoYW4obmFtZUxlbmd0aCwg\nMykpOwogICAgICAgIHEub3JkZXJCeShjYi5hc2MobmFtZUxlbmd0aCkpOwog\nICAgICAgIAogICAgICAgIGV4ZWN1dGVBbmRDb21wYXJlU1FMKHEsIHNxbCk7\nCgogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RLZXlzMSgpIHsKICAgICAg\nICBTdHJpbmcgc3FsID0gIlNFTEVDVCB0MC5uYW1lLCB0Mi5pZCwgdDIubGFi\nZWwgRlJPTSBDUl9JVEVNIHQwICIKICAgICAgICAgICAgKyAiSU5ORVIgSk9J\nTiBDUl9JVEVNX3Bob3RvcyB0MSBPTiB0MC5pZCA9IHQxLklURU1fSUQgIgog\nICAgICAgICAgICArICJJTk5FUiBKT0lOIENSX1BIVCB0MiBPTiB0MS5WQUxV\nRV9JRCA9IHQyLmlkIFdIRVJFICIgKyAKICAgICAgICAgICAgIigodDEuS0VZ\nMCA9ID8gT1IgdDEuS0VZMCA9ID8gT1IgdDEuS0VZMCA9ID8gT1IgdDEuS0VZ\nMCA9ID8gT1IgdDEuS0VZMCA9ID8pICIKICAgICAgICAgICAgKyAiQU5EIDAg\nPCAoU0VMRUNUIENPVU5UKCopIEZST00gQ1JfSVRFTV9waG90b3MgV0hFUkUg\nQ1JfSVRFTV9waG90b3MuSVRFTV9JRCA9IHQwLmlkKSkiOwoKICAgICAgICBD\ncml0ZXJpYVF1ZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3Vz\ndG9tZXIuY2xhc3MpOwogICAgICAgIFJvb3Q8SXRlbT4gaXRlbSA9IHEuZnJv\nbShJdGVtLmNsYXNzKTsKICAgICAgICBNYXBKb2luPEl0ZW0sIFN0cmluZywg\nUGhvdG8+IHBob3RvID0gaXRlbS5qb2luKEl0ZW1fLnBob3Rvcyk7CiAgICAg\nICAgcS5tdWx0aXNlbGVjdChpdGVtLmdldChJdGVtXy5uYW1lKSwgcGhvdG8p\nOwogICAgICAgIE1hcDxTdHJpbmcsIFBob3RvPiBwaG90bzEgPSBuZXcgSGFz\naE1hcDxTdHJpbmcsIFBob3RvPigpOwogICAgICAgIGZvciAoaW50IGkgPSAw\nOyBpIDwgNTsgaSsrKSB7CiAgICAgICAgICAgIFBob3RvIHAxID0gbmV3IFBo\nb3RvKCk7CiAgICAgICAgICAgIHAxLnNldExhYmVsKCJsYWJlbCIgKyBpKTsK\nICAgICAgICAgICAgcGhvdG8xLnB1dCgicGhvdG8iICsgaSwgcDEpOwogICAg\nICAgIH0KICAgICAgICBxLndoZXJlKHBob3RvLmtleSgpLmluKGNiLmtleXMo\ncGhvdG8xKSkpOyAKICAgICAgICBleGVjdXRlQW5kQ29tcGFyZVNRTChxLCBz\ncWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RLZXlzMigpIHsKICAg\nICAgICBTdHJpbmcgc3FsID0gIlNFTEVDVCB0MC5uYW1lLCB0Mi5pZCwgdDIu\nbGFiZWwgRlJPTSBDUl9JVEVNIHQwICIKICAgICAgICAgICAgKyAiSU5ORVIg\nSk9JTiBDUl9JVEVNX3Bob3RvcyB0MSBPTiB0MC5pZCA9IHQxLklURU1fSUQg\nIgogICAgICAgICAgICArICJJTk5FUiBKT0lOIENSX1BIVCB0MiBPTiB0MS5W\nQUxVRV9JRCA9IHQyLmlkIFdIRVJFICIgKyAKICAgICAgICAgICAgIih0MS5L\nRVkwIElOICg/LCA/LCA/LCA/LCA/KSkiOwoKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIuY2xh\nc3MpOwogICAgICAgIFJvb3Q8SXRlbT4gaXRlbSA9IHEuZnJvbShJdGVtLmNs\nYXNzKTsKICAgICAgICBNYXBKb2luPEl0ZW0sIFN0cmluZywgUGhvdG8+IHBo\nb3RvID0gaXRlbS5qb2luKEl0ZW1fLnBob3Rvcyk7CiAgICAgICAgcS5tdWx0\naXNlbGVjdChpdGVtLmdldChJdGVtXy5uYW1lKSwgcGhvdG8pOwogICAgICAg\nIE1hcDxTdHJpbmcsIFBob3RvPiBwaG90bzEgPSBuZXcgSGFzaE1hcDxTdHJp\nbmcsIFBob3RvPigpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNTsg\naSsrKSB7CiAgICAgICAgICAgIFBob3RvIHAxID0gbmV3IFBob3RvKCk7CiAg\nICAgICAgICAgIHAxLnNldExhYmVsKCJsYWJlbCIgKyBpKTsKICAgICAgICAg\nICAgcGhvdG8xLnB1dCgicGhvdG8iICsgaSwgcDEpOwogICAgICAgIH0KICAg\nICAgICBxLndoZXJlKGNiLmlzTWVtYmVyKHBob3RvLmtleSgpLCBjYi5rZXlz\nKHBob3RvMSkpKTsgCiAgICAgICAgZXhlY3V0ZUFuZENvbXBhcmVTUUwocSwg\nc3FsKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0S2V5czMoKSB7CiAg\nICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgdDAubmFtZSwgdDIuaWQsIHQy\nLmxhYmVsIEZST00gQ1JfSVRFTSB0MCAiCiAgICAgICAgICAgICsgIklOTkVS\nIEpPSU4gQ1JfSVRFTV9waG90b3MgdDEgT04gdDAuaWQgPSB0MS5JVEVNX0lE\nICIKICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBDUl9QSFQgdDIgT04gdDEu\nVkFMVUVfSUQgPSB0Mi5pZCBXSEVSRSAoMSA8PiAxKSI7CgogICAgICAgIENy\naXRlcmlhUXVlcnk8Q3VzdG9tZXI+IHEgPSBjYi5jcmVhdGVRdWVyeShDdXN0\nb21lci5jbGFzcyk7CiAgICAgICAgUm9vdDxJdGVtPiBpdGVtID0gcS5mcm9t\nKEl0ZW0uY2xhc3MpOwogICAgICAgIE1hcEpvaW48SXRlbSwgU3RyaW5nLCBQ\naG90bz4gcGhvdG8gPSBpdGVtLmpvaW4oSXRlbV8ucGhvdG9zKTsKICAgICAg\nICBxLm11bHRpc2VsZWN0KGl0ZW0uZ2V0KEl0ZW1fLm5hbWUpLCBwaG90byk7\nCiAgICAgICAgTWFwPFN0cmluZywgUGhvdG8+IHBob3RvMSA9IG5ldyBIYXNo\nTWFwPFN0cmluZywgUGhvdG8+KCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7\nIGkgPCA1OyBpKyspIHsKICAgICAgICAgICAgUGhvdG8gcDEgPSBuZXcgUGhv\ndG8oKTsKICAgICAgICAgICAgcDEuc2V0TGFiZWwoImxhYmVsIiArIGkpOwog\nICAgICAgICAgICBwaG90bzEucHV0KCJwaG90byIgKyBpLCBwMSk7CiAgICAg\nICAgfQogICAgICAgIHEud2hlcmUoY2IuaXNFbXB0eShjYi5rZXlzKHBob3Rv\nMSkpKTsgCiAgICAgICAgZXhlY3V0ZUFuZENvbXBhcmVTUUwocSwgc3FsKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0S2V5czQoKSB7CiAgICAgICAg\nU3RyaW5nIHNxbCA9ICJTRUxFQ1QgdDAubmFtZSwgdDIuaWQsIHQyLmxhYmVs\nIEZST00gQ1JfSVRFTSB0MCAiCiAgICAgICAgICAgICsgIklOTkVSIEpPSU4g\nQ1JfSVRFTV9waG90b3MgdDEgT04gdDAuaWQgPSB0MS5JVEVNX0lEICIKICAg\nICAgICAgICAgKyAiSU5ORVIgSk9JTiBDUl9QSFQgdDIgT04gdDEuVkFMVUVf\nSUQgPSB0Mi5pZCBXSEVSRSAoNSA9IDUpIjsKCiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxDdXN0b21lcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVyLmNs\nYXNzKTsKICAgICAgICBSb290PEl0ZW0+IGl0ZW0gPSBxLmZyb20oSXRlbS5j\nbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJdGVtLCBTdHJpbmcsIFBob3RvPiBw\naG90byA9IGl0ZW0uam9pbihJdGVtXy5waG90b3MpOwogICAgICAgIHEubXVs\ndGlzZWxlY3QoaXRlbS5nZXQoSXRlbV8ubmFtZSksIHBob3RvKTsKICAgICAg\nICBNYXA8U3RyaW5nLCBQaG90bz4gcGhvdG8xID0gbmV3IEhhc2hNYXA8U3Ry\naW5nLCBQaG90bz4oKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDU7\nIGkrKykgewogICAgICAgICAgICBQaG90byBwMSA9IG5ldyBQaG90bygpOwog\nICAgICAgICAgICBwMS5zZXRMYWJlbCgibGFiZWwiICsgaSk7CiAgICAgICAg\nICAgIHBob3RvMS5wdXQoInBob3RvIiArIGksIHAxKTsKICAgICAgICB9CiAg\nICAgICAgcS53aGVyZShjYi5lcXVhbChjYi5zaXplKGNiLmtleXMocGhvdG8x\nKSksIDUpKTsgCiAgICAgICAgZXhlY3V0ZUFuZENvbXBhcmVTUUwocSwgc3Fs\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0S2V5czUoKSB7CiAgICAg\nICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgdDAubmFtZSwgdDIuaWQsIHQyLmxh\nYmVsIEZST00gQ1JfSVRFTSB0MCAiCiAgICAgICAgICAgICsgIklOTkVSIEpP\nSU4gQ1JfSVRFTV9waG90b3MgdDEgT04gdDAuaWQgPSB0MS5JVEVNX0lEICIK\nICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBDUl9QSFQgdDIgT04gdDEuVkFM\nVUVfSUQgPSB0Mi5pZCBXSEVSRSAiICsgCiAgICAgICAgICAgICIoTk9UICh0\nMS5LRVkwID0gPyBPUiB0MS5LRVkwID0gPyBPUiB0MS5LRVkwID0gPyBPUiB0\nMS5LRVkwID0gPyBPUiB0MS5LRVkwID0gPykgIgogICAgICAgICAgICArICJB\nTkQgMCA8IChTRUxFQ1QgQ09VTlQoKikgRlJPTSBDUl9JVEVNX3Bob3RvcyBX\nSEVSRSBDUl9JVEVNX3Bob3Rvcy5JVEVNX0lEID0gdDAuaWQpKSI7CiAgICAg\nICAgCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDdXN0b21lcj4gcSA9IGNiLmNy\nZWF0ZVF1ZXJ5KEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBSb290PEl0ZW0+\nIGl0ZW0gPSBxLmZyb20oSXRlbS5jbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJ\ndGVtLCBTdHJpbmcsIFBob3RvPiBwaG90byA9IGl0ZW0uam9pbihJdGVtXy5w\naG90b3MpOwogICAgICAgIHEubXVsdGlzZWxlY3QoaXRlbS5nZXQoSXRlbV8u\nbmFtZSksIHBob3RvKTsKICAgICAgICBNYXA8U3RyaW5nLCBQaG90bz4gcGhv\ndG8xID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBQaG90bz4oKTsKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICAgICAgICBQaG90\nbyBwMSA9IG5ldyBQaG90bygpOwogICAgICAgICAgICBwMS5zZXRMYWJlbCgi\nbGFiZWwiICsgaSk7CiAgICAgICAgICAgIHBob3RvMS5wdXQoInBob3RvIiAr\nIGksIHAxKTsKICAgICAgICB9CiAgICAgICAgcS53aGVyZShwaG90by5rZXko\nKS5pbihjYi5rZXlzKHBob3RvMSkpLm5lZ2F0ZSgpKTsgCiAgICAgICAgZXhl\nY3V0ZUFuZENvbXBhcmVTUUwocSwgc3FsKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0S2V5czYoKSB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxF\nQ1QgdDAubmFtZSwgdDIuaWQsIHQyLmxhYmVsIEZST00gQ1JfSVRFTSB0MCAi\nCiAgICAgICAgICAgICsgIklOTkVSIEpPSU4gQ1JfSVRFTV9waG90b3MgdDEg\nT04gdDAuaWQgPSB0MS5JVEVNX0lEICIKICAgICAgICAgICAgKyAiSU5ORVIg\nSk9JTiBDUl9QSFQgdDIgT04gdDEuVkFMVUVfSUQgPSB0Mi5pZCBXSEVSRSAi\nICsgCiAgICAgICAgICAgICIoTk9UICh0MS5LRVkwIElOICg/LCA/LCA/LCA/\nLCA/KSkpIjsKCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDdXN0b21lcj4gcSA9\nIGNiLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBSb290\nPEl0ZW0+IGl0ZW0gPSBxLmZyb20oSXRlbS5jbGFzcyk7CiAgICAgICAgTWFw\nSm9pbjxJdGVtLCBTdHJpbmcsIFBob3RvPiBwaG90byA9IGl0ZW0uam9pbihJ\ndGVtXy5waG90b3MpOwogICAgICAgIHEubXVsdGlzZWxlY3QoaXRlbS5nZXQo\nSXRlbV8ubmFtZSksIHBob3RvKTsKICAgICAgICBNYXA8U3RyaW5nLCBQaG90\nbz4gcGhvdG8xID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBQaG90bz4oKTsKICAg\nICAgICBmb3IgKGludCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICAgICAg\nICBQaG90byBwMSA9IG5ldyBQaG90bygpOwogICAgICAgICAgICBwMS5zZXRM\nYWJlbCgibGFiZWwiICsgaSk7CiAgICAgICAgICAgIHBob3RvMS5wdXQoInBo\nb3RvIiArIGksIHAxKTsKICAgICAgICB9CiAgICAgICAgcS53aGVyZShjYi5p\nc05vdE1lbWJlcihwaG90by5rZXkoKSwgY2Iua2V5cyhwaG90bzEpKSk7IAog\nICAgICAgIGV4ZWN1dGVBbmRDb21wYXJlU1FMKHEsIHNxbCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdEtleXM3KCkgewogICAgICAgIFN0cmluZyBz\ncWwgPSAiU0VMRUNUIHQwLm5hbWUsIHQyLmlkLCB0Mi5sYWJlbCBGUk9NIENS\nX0lURU0gdDAgIgogICAgICAgICAgICArICJJTk5FUiBKT0lOIENSX0lURU1f\ncGhvdG9zIHQxIE9OIHQwLmlkID0gdDEuSVRFTV9JRCAiCiAgICAgICAgICAg\nICsgIklOTkVSIEpPSU4gQ1JfUEhUIHQyIE9OIHQxLlZBTFVFX0lEID0gdDIu\naWQgV0hFUkUgKE5PVCAoMSA8PiAxKSkiOwoKICAgICAgICBDcml0ZXJpYVF1\nZXJ5PEN1c3RvbWVyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIuY2xh\nc3MpOwogICAgICAgIFJvb3Q8SXRlbT4gaXRlbSA9IHEuZnJvbShJdGVtLmNs\nYXNzKTsKICAgICAgICBNYXBKb2luPEl0ZW0sIFN0cmluZywgUGhvdG8+IHBo\nb3RvID0gaXRlbS5qb2luKEl0ZW1fLnBob3Rvcyk7CiAgICAgICAgcS5tdWx0\naXNlbGVjdChpdGVtLmdldChJdGVtXy5uYW1lKSwgcGhvdG8pOwogICAgICAg\nIE1hcDxTdHJpbmcsIFBob3RvPiBwaG90bzEgPSBuZXcgSGFzaE1hcDxTdHJp\nbmcsIFBob3RvPigpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNTsg\naSsrKSB7CiAgICAgICAgICAgIFBob3RvIHAxID0gbmV3IFBob3RvKCk7CiAg\nICAgICAgICAgIHAxLnNldExhYmVsKCJsYWJlbCIgKyBpKTsKICAgICAgICAg\nICAgcGhvdG8xLnB1dCgicGhvdG8iICsgaSwgcDEpOwogICAgICAgIH0KICAg\nICAgICBxLndoZXJlKGNiLmlzTm90RW1wdHkoY2Iua2V5cyhwaG90bzEpKSk7\nIAogICAgICAgIGV4ZWN1dGVBbmRDb21wYXJlU1FMKHEsIHNxbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdEtleXM4KCkgewogICAgICAgIFN0cmlu\nZyBzcWwgPSAiU0VMRUNUIHQwLm5hbWUsIHQyLmlkLCB0Mi5sYWJlbCBGUk9N\nIENSX0lURU0gdDAgIgogICAgICAgICAgICArICJJTk5FUiBKT0lOIENSX0lU\nRU1fcGhvdG9zIHQxIE9OIHQwLmlkID0gdDEuSVRFTV9JRCAiCiAgICAgICAg\nICAgICsgIklOTkVSIEpPSU4gQ1JfUEhUIHQyIE9OIHQxLlZBTFVFX0lEID0g\ndDIuaWQgV0hFUkUgKDUgPSA0KSI7CiAgICAgICAgQ3JpdGVyaWFRdWVyeTxD\ndXN0b21lcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVyLmNsYXNzKTsK\nICAgICAgICBSb290PEl0ZW0+IGl0ZW0gPSBxLmZyb20oSXRlbS5jbGFzcyk7\nCiAgICAgICAgTWFwSm9pbjxJdGVtLCBTdHJpbmcsIFBob3RvPiBwaG90byA9\nIGl0ZW0uam9pbihJdGVtXy5waG90b3MpOwogICAgICAgIHEubXVsdGlzZWxl\nY3QoaXRlbS5nZXQoSXRlbV8ubmFtZSksIHBob3RvKTsKICAgICAgICBNYXA8\nU3RyaW5nLCBQaG90bz4gcGhvdG8xID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBQ\naG90bz4oKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDU7IGkrKykg\newogICAgICAgICAgICBQaG90byBwMSA9IG5ldyBQaG90bygpOwogICAgICAg\nICAgICBwMS5zZXRMYWJlbCgibGFiZWwiICsgaSk7CiAgICAgICAgICAgIHBo\nb3RvMS5wdXQoInBob3RvIiArIGksIHAxKTsKICAgICAgICB9CiAgICAgICAg\ncS53aGVyZShjYi5lcXVhbChjYi5zaXplKGNiLmtleXMocGhvdG8xKSksIDQp\nKTsgCiAgICAgICAgZXhlY3V0ZUFuZENvbXBhcmVTUUwocSwgc3FsKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0VmFsdWVzMSgpIHsKICAgICAgICBT\ndHJpbmcgc3FsID0gIlNFTEVDVCB0MC5uYW1lLCB0Mi5pZCwgdDIubGFiZWwg\nRlJPTSBDUl9JVEVNIHQwICIKICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBD\nUl9JVEVNX3Bob3RvcyB0MSBPTiB0MC5pZCA9IHQxLklURU1fSUQgIgogICAg\nICAgICAgICArICJJTk5FUiBKT0lOIENSX0lURU1fcGhvdG9zIHQzIE9OIHQw\nLmlkID0gdDMuSVRFTV9JRCAiCiAgICAgICAgICAgICsgIklOTkVSIEpPSU4g\nQ1JfUEhUIHQyIE9OIHQxLlZBTFVFX0lEID0gdDIuaWQgV0hFUkUgIiArIAog\nICAgICAgICAgICAiKCh0My5WQUxVRV9JRCA9ID8gT1IgdDMuVkFMVUVfSUQg\nPSA/IE9SIHQzLlZBTFVFX0lEID0gPyBPUiB0My5WQUxVRV9JRCA9ID8gT1Ig\ndDMuVkFMVUVfSUQgPSA/KSAiCiAgICAgICAgICAgICsgIkFORCAwIDwgKFNF\nTEVDVCBDT1VOVCgqKSBGUk9NIENSX0lURU1fcGhvdG9zIFdIRVJFIENSX0lU\nRU1fcGhvdG9zLklURU1fSUQgPSB0MC5pZCkpIjsKCiAgICAgICAgQ3JpdGVy\naWFRdWVyeTxDdXN0b21lcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVy\nLmNsYXNzKTsKICAgICAgICBSb290PEl0ZW0+IGl0ZW0gPSBxLmZyb20oSXRl\nbS5jbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJdGVtLCBTdHJpbmcsIFBob3Rv\nPiBwaG90byA9IGl0ZW0uam9pbihJdGVtXy5waG90b3MpOwogICAgICAgIHEu\nbXVsdGlzZWxlY3QoaXRlbS5nZXQoSXRlbV8ubmFtZSksIHBob3RvKTsKICAg\nICAgICBNYXA8U3RyaW5nLCBQaG90bz4gcGhvdG8xID0gbmV3IEhhc2hNYXA8\nU3RyaW5nLCBQaG90bz4oKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIDU7IGkrKykgewogICAgICAgICAgICBQaG90byBwMSA9IG5ldyBQaG90bygp\nOwogICAgICAgICAgICBwMS5zZXRMYWJlbCgibGFiZWwiICsgaSk7CiAgICAg\nICAgICAgIHBob3RvMS5wdXQoInBob3RvIiArIGksIHAxKTsKICAgICAgICB9\nCiAgICAgICAgcS53aGVyZShwaG90by52YWx1ZSgpLmluKGNiLnZhbHVlcyhw\naG90bzEpKSk7IAogICAgICAgIGV4ZWN1dGVBbmRDb21wYXJlU1FMKHEsIHNx\nbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFZhbHVlczIoKSB7CiAg\nICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgdDAubmFtZSwgdDIuaWQsIHQy\nLmxhYmVsIEZST00gQ1JfSVRFTSB0MCAiCiAgICAgICAgICAgICsgIklOTkVS\nIEpPSU4gQ1JfSVRFTV9waG90b3MgdDEgT04gdDAuaWQgPSB0MS5JVEVNX0lE\nICIKICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBDUl9QSFQgdDIgT04gdDEu\nVkFMVUVfSUQgPSB0Mi5pZCBXSEVSRSAodDEuVkFMVUVfSUQgSU4gKD8sID8s\nID8sID8sID8pKSI7CgogICAgICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9tZXI+\nIHEgPSBjYi5jcmVhdGVRdWVyeShDdXN0b21lci5jbGFzcyk7CiAgICAgICAg\nUm9vdDxJdGVtPiBpdGVtID0gcS5mcm9tKEl0ZW0uY2xhc3MpOwogICAgICAg\nIE1hcEpvaW48SXRlbSwgU3RyaW5nLCBQaG90bz4gcGhvdG8gPSBpdGVtLmpv\naW4oSXRlbV8ucGhvdG9zKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGl0ZW0u\nZ2V0KEl0ZW1fLm5hbWUpLCBwaG90byk7CiAgICAgICAgTWFwPFN0cmluZywg\nUGhvdG8+IHBob3RvMSA9IG5ldyBIYXNoTWFwPFN0cmluZywgUGhvdG8+KCk7\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCA1OyBpKyspIHsKICAgICAg\nICAgICAgUGhvdG8gcDEgPSBuZXcgUGhvdG8oKTsKICAgICAgICAgICAgcDEu\nc2V0TGFiZWwoImxhYmVsIiArIGkpOwogICAgICAgICAgICBwaG90bzEucHV0\nKCJwaG90byIgKyBpLCBwMSk7CiAgICAgICAgfQogICAgICAgIHEud2hlcmUo\nY2IuaXNNZW1iZXIocGhvdG8udmFsdWUoKSwgY2IudmFsdWVzKHBob3RvMSkp\nKTsgCiAgICAgICAgZXhlY3V0ZUFuZENvbXBhcmVTUUwocSwgc3FsKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0VmFsdWVzMygpIHsKICAgICAgICBT\ndHJpbmcgc3FsID0gIlNFTEVDVCB0MC5uYW1lLCB0Mi5pZCwgdDIubGFiZWwg\nRlJPTSBDUl9JVEVNIHQwICIKICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBD\nUl9JVEVNX3Bob3RvcyB0MSBPTiB0MC5pZCA9IHQxLklURU1fSUQgIgogICAg\nICAgICAgICArICJJTk5FUiBKT0lOIENSX1BIVCB0MiBPTiB0MS5WQUxVRV9J\nRCA9IHQyLmlkIFdIRVJFICgxIDw+IDEpIjsKCiAgICAgICAgQ3JpdGVyaWFR\ndWVyeTxDdXN0b21lcj4gcSA9IGNiLmNyZWF0ZVF1ZXJ5KEN1c3RvbWVyLmNs\nYXNzKTsKICAgICAgICBSb290PEl0ZW0+IGl0ZW0gPSBxLmZyb20oSXRlbS5j\nbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJdGVtLCBTdHJpbmcsIFBob3RvPiBw\naG90byA9IGl0ZW0uam9pbihJdGVtXy5waG90b3MpOwogICAgICAgIHEubXVs\ndGlzZWxlY3QoaXRlbS5nZXQoSXRlbV8ubmFtZSksIHBob3RvKTsKICAgICAg\nICBNYXA8U3RyaW5nLCBQaG90bz4gcGhvdG8xID0gbmV3IEhhc2hNYXA8U3Ry\naW5nLCBQaG90bz4oKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDU7\nIGkrKykgewogICAgICAgICAgICBQaG90byBwMSA9IG5ldyBQaG90bygpOwog\nICAgICAgICAgICBwMS5zZXRMYWJlbCgibGFiZWwiICsgaSk7CiAgICAgICAg\nICAgIHBob3RvMS5wdXQoInBob3RvIiArIGksIHAxKTsKICAgICAgICB9CiAg\nICAgICAgcS53aGVyZShjYi5pc0VtcHR5KGNiLnZhbHVlcyhwaG90bzEpKSk7\nIAogICAgICAgIGV4ZWN1dGVBbmRDb21wYXJlU1FMKHEsIHNxbCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdFZhbHVlNCgpIHsKICAgICAgICBTdHJp\nbmcgc3FsID0gIlNFTEVDVCB0MC5uYW1lLCB0Mi5pZCwgdDIubGFiZWwgRlJP\nTSBDUl9JVEVNIHQwICIKICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBDUl9J\nVEVNX3Bob3RvcyB0MSBPTiB0MC5pZCA9IHQxLklURU1fSUQgIgogICAgICAg\nICAgICArICJJTk5FUiBKT0lOIENSX1BIVCB0MiBPTiB0MS5WQUxVRV9JRCA9\nIHQyLmlkIFdIRVJFICg1ID0gNSkiOwoKICAgICAgICBDcml0ZXJpYVF1ZXJ5\nPEN1c3RvbWVyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIuY2xhc3Mp\nOwogICAgICAgIFJvb3Q8SXRlbT4gaXRlbSA9IHEuZnJvbShJdGVtLmNsYXNz\nKTsKICAgICAgICBNYXBKb2luPEl0ZW0sIFN0cmluZywgUGhvdG8+IHBob3Rv\nID0gaXRlbS5qb2luKEl0ZW1fLnBob3Rvcyk7CiAgICAgICAgcS5tdWx0aXNl\nbGVjdChpdGVtLmdldChJdGVtXy5uYW1lKSwgcGhvdG8pOwogICAgICAgIE1h\ncDxTdHJpbmcsIFBob3RvPiBwaG90bzEgPSBuZXcgSGFzaE1hcDxTdHJpbmcs\nIFBob3RvPigpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNTsgaSsr\nKSB7CiAgICAgICAgICAgIFBob3RvIHAxID0gbmV3IFBob3RvKCk7CiAgICAg\nICAgICAgIHAxLnNldExhYmVsKCJsYWJlbCIgKyBpKTsKICAgICAgICAgICAg\ncGhvdG8xLnB1dCgicGhvdG8iICsgaSwgcDEpOwogICAgICAgIH0KICAgICAg\nICBxLndoZXJlKGNiLmVxdWFsKGNiLnNpemUoY2IudmFsdWVzKHBob3RvMSkp\nLCA1KSk7IAogICAgICAgIGV4ZWN1dGVBbmRDb21wYXJlU1FMKHEsIHNxbCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFZhbHVlczUoKSB7CiAgICAg\nICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgdDAubmFtZSwgdDIuaWQsIHQyLmxh\nYmVsIEZST00gQ1JfSVRFTSB0MCAiCiAgICAgICAgICAgICsgIklOTkVSIEpP\nSU4gQ1JfSVRFTV9waG90b3MgdDEgT04gdDAuaWQgPSB0MS5JVEVNX0lEICIK\nICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBDUl9QSFQgdDIgT04gdDEuVkFM\nVUVfSUQgPSB0Mi5pZCBXSEVSRSAiCiAgICAgICAgICAgICsgIigwID0gKFNF\nTEVDVCBDT1VOVCgqKSBGUk9NIENSX0lURU1fcGhvdG9zIHQzIFdIRVJFICIK\nICAgICAgICAgICAgKyAiKHQzLlZBTFVFX0lEID0gPyBPUiB0My5WQUxVRV9J\nRCA9ID8gT1IgdDMuVkFMVUVfSUQgPSA/IE9SIHQzLlZBTFVFX0lEID0gPyBP\nUiB0My5WQUxVRV9JRCA9ID8pICIKICAgICAgICAgICAgKyAiQU5EICh0MC5p\nZCA9IHQzLklURU1fSUQpIEFORCB0MC5pZCA9IHQzLklURU1fSUQpICIKICAg\nICAgICAgICAgKyAiQU5EIDAgPCAoU0VMRUNUIENPVU5UKCopIEZST00gQ1Jf\nSVRFTV9waG90b3MgV0hFUkUgQ1JfSVRFTV9waG90b3MuSVRFTV9JRCA9IHQw\nLmlkKSkiOwogICAgICAgIAogICAgICAgIAogICAgICAgIENyaXRlcmlhUXVl\ncnk8Q3VzdG9tZXI+IHEgPSBjYi5jcmVhdGVRdWVyeShDdXN0b21lci5jbGFz\ncyk7CiAgICAgICAgUm9vdDxJdGVtPiBpdGVtID0gcS5mcm9tKEl0ZW0uY2xh\nc3MpOwogICAgICAgIE1hcEpvaW48SXRlbSwgU3RyaW5nLCBQaG90bz4gcGhv\ndG8gPSBpdGVtLmpvaW4oSXRlbV8ucGhvdG9zKTsKICAgICAgICBxLm11bHRp\nc2VsZWN0KGl0ZW0uZ2V0KEl0ZW1fLm5hbWUpLCBwaG90byk7CiAgICAgICAg\nTWFwPFN0cmluZywgUGhvdG8+IHBob3RvMSA9IG5ldyBIYXNoTWFwPFN0cmlu\nZywgUGhvdG8+KCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCA1OyBp\nKyspIHsKICAgICAgICAgICAgUGhvdG8gcDEgPSBuZXcgUGhvdG8oKTsKICAg\nICAgICAgICAgcDEuc2V0TGFiZWwoImxhYmVsIiArIGkpOwogICAgICAgICAg\nICBwaG90bzEucHV0KCJwaG90byIgKyBpLCBwMSk7CiAgICAgICAgfQogICAg\nICAgIHEud2hlcmUocGhvdG8udmFsdWUoKS5pbihjYi52YWx1ZXMocGhvdG8x\nKSkubmVnYXRlKCkpOyAKICAgICAgICBleGVjdXRlQW5kQ29tcGFyZVNRTChx\nLCBzcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RWYWx1ZXM2KCkg\newogICAgICAgIFN0cmluZyBzcWwgPSAiU0VMRUNUIHQwLm5hbWUsIHQyLmlk\nLCB0Mi5sYWJlbCBGUk9NIENSX0lURU0gdDAgIgogICAgICAgICAgICArICJJ\nTk5FUiBKT0lOIENSX0lURU1fcGhvdG9zIHQxIE9OIHQwLmlkID0gdDEuSVRF\nTV9JRCAiCiAgICAgICAgICAgICsgIklOTkVSIEpPSU4gQ1JfUEhUIHQyIE9O\nIHQxLlZBTFVFX0lEID0gdDIuaWQgV0hFUkUgKE5PVCAodDEuVkFMVUVfSUQg\nSU4gKD8sID8sID8sID8sID8pKSkiOwoKICAgICAgICBDcml0ZXJpYVF1ZXJ5\nPEN1c3RvbWVyPiBxID0gY2IuY3JlYXRlUXVlcnkoQ3VzdG9tZXIuY2xhc3Mp\nOwogICAgICAgIFJvb3Q8SXRlbT4gaXRlbSA9IHEuZnJvbShJdGVtLmNsYXNz\nKTsKICAgICAgICBNYXBKb2luPEl0ZW0sIFN0cmluZywgUGhvdG8+IHBob3Rv\nID0gaXRlbS5qb2luKEl0ZW1fLnBob3Rvcyk7CiAgICAgICAgcS5tdWx0aXNl\nbGVjdChpdGVtLmdldChJdGVtXy5uYW1lKSwgcGhvdG8pOwogICAgICAgIE1h\ncDxTdHJpbmcsIFBob3RvPiBwaG90bzEgPSBuZXcgSGFzaE1hcDxTdHJpbmcs\nIFBob3RvPigpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNTsgaSsr\nKSB7CiAgICAgICAgICAgIFBob3RvIHAxID0gbmV3IFBob3RvKCk7CiAgICAg\nICAgICAgIHAxLnNldExhYmVsKCJsYWJlbCIgKyBpKTsKICAgICAgICAgICAg\ncGhvdG8xLnB1dCgicGhvdG8iICsgaSwgcDEpOwogICAgICAgIH0KICAgICAg\nICBxLndoZXJlKGNiLmlzTm90TWVtYmVyKHBob3RvLnZhbHVlKCksIGNiLnZh\nbHVlcyhwaG90bzEpKSk7IAogICAgICAgIGV4ZWN1dGVBbmRDb21wYXJlU1FM\nKHEsIHNxbCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFZhbHVlczco\nKSB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgdDAubmFtZSwgdDIu\naWQsIHQyLmxhYmVsIEZST00gQ1JfSVRFTSB0MCAiCiAgICAgICAgICAgICsg\nIklOTkVSIEpPSU4gQ1JfSVRFTV9waG90b3MgdDEgT04gdDAuaWQgPSB0MS5J\nVEVNX0lEICIKICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBDUl9QSFQgdDIg\nT04gdDEuVkFMVUVfSUQgPSB0Mi5pZCBXSEVSRSAoTk9UICgxIDw+IDEpKSI7\nCgogICAgICAgIENyaXRlcmlhUXVlcnk8Q3VzdG9tZXI+IHEgPSBjYi5jcmVh\ndGVRdWVyeShDdXN0b21lci5jbGFzcyk7CiAgICAgICAgUm9vdDxJdGVtPiBp\ndGVtID0gcS5mcm9tKEl0ZW0uY2xhc3MpOwogICAgICAgIE1hcEpvaW48SXRl\nbSwgU3RyaW5nLCBQaG90bz4gcGhvdG8gPSBpdGVtLmpvaW4oSXRlbV8ucGhv\ndG9zKTsKICAgICAgICBxLm11bHRpc2VsZWN0KGl0ZW0uZ2V0KEl0ZW1fLm5h\nbWUpLCBwaG90byk7CiAgICAgICAgTWFwPFN0cmluZywgUGhvdG8+IHBob3Rv\nMSA9IG5ldyBIYXNoTWFwPFN0cmluZywgUGhvdG8+KCk7CiAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCA1OyBpKyspIHsKICAgICAgICAgICAgUGhvdG8g\ncDEgPSBuZXcgUGhvdG8oKTsKICAgICAgICAgICAgcDEuc2V0TGFiZWwoImxh\nYmVsIiArIGkpOwogICAgICAgICAgICBwaG90bzEucHV0KCJwaG90byIgKyBp\nLCBwMSk7CiAgICAgICAgfQogICAgICAgIHEud2hlcmUoY2IuaXNOb3RFbXB0\neShjYi52YWx1ZXMocGhvdG8xKSkpOyAKICAgICAgICBleGVjdXRlQW5kQ29t\ncGFyZVNRTChxLCBzcWwpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RW\nYWx1ZTgoKSB7CiAgICAgICAgU3RyaW5nIHNxbCA9ICJTRUxFQ1QgdDAubmFt\nZSwgdDIuaWQsIHQyLmxhYmVsIEZST00gQ1JfSVRFTSB0MCAiCiAgICAgICAg\nICAgICsgIklOTkVSIEpPSU4gQ1JfSVRFTV9waG90b3MgdDEgT04gdDAuaWQg\nPSB0MS5JVEVNX0lEICIKICAgICAgICAgICAgKyAiSU5ORVIgSk9JTiBDUl9Q\nSFQgdDIgT04gdDEuVkFMVUVfSUQgPSB0Mi5pZCBXSEVSRSAoNSA9IDQpIjsK\nCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxDdXN0b21lcj4gcSA9IGNiLmNyZWF0\nZVF1ZXJ5KEN1c3RvbWVyLmNsYXNzKTsKICAgICAgICBSb290PEl0ZW0+IGl0\nZW0gPSBxLmZyb20oSXRlbS5jbGFzcyk7CiAgICAgICAgTWFwSm9pbjxJdGVt\nLCBTdHJpbmcsIFBob3RvPiBwaG90byA9IGl0ZW0uam9pbihJdGVtXy5waG90\nb3MpOwogICAgICAgIHEubXVsdGlzZWxlY3QoaXRlbS5nZXQoSXRlbV8ubmFt\nZSksIHBob3RvKTsKICAgICAgICBNYXA8U3RyaW5nLCBQaG90bz4gcGhvdG8x\nID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBQaG90bz4oKTsKICAgICAgICBmb3Ig\nKGludCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICAgICAgICBQaG90byBw\nMSA9IG5ldyBQaG90bygpOwogICAgICAgICAgICBwMS5zZXRMYWJlbCgibGFi\nZWwiICsgaSk7CiAgICAgICAgICAgIHBob3RvMS5wdXQoInBob3RvIiArIGks\nIHAxKTsKICAgICAgICB9CiAgICAgICAgcS53aGVyZShjYi5lcXVhbChjYi5z\naXplKGNiLnZhbHVlcyhwaG90bzEpKSwgNCkpOyAKICAgICAgICBleGVjdXRl\nQW5kQ29tcGFyZVNRTChxLCBzcWwpOwogICAgfQogICAgCiAgICAvKioKICAg\nICAqIFRoZSBzeW50YXggZm9yIGpvaW5pbmcgdGhlIGtleSBvZiBhIE1hcCBh\ndHRyaWJ1dGUgaXMgZGlmZmVyZW50IGluIEpQUUwuCiAgICAgKiBIZW5jZSBp\nbnN0ZWFkIG9mIGNvbXBhcmluZyB0YXJnZXQgU1FMIHdlIGNvbXBhcmUgdGhl\nIHJlc3VsdC4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEpvaW5LZXko\nKSB7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAg\nICAgIGVtLmNyZWF0ZVF1ZXJ5KCJERUxFVEUgRlJPTSBTdHVkZW50IHMiKS5l\neGVjdXRlVXBkYXRlKCk7CiAgICAgICAgZW0uY3JlYXRlUXVlcnkoIkRFTEVU\nRSBGUk9NIENvdXJzZSBzIikuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIGVt\nLmNyZWF0ZVF1ZXJ5KCJERUxFVEUgRlJPTSBTZW1lc3RlciBzIikuZXhlY3V0\nZVVwZGF0ZSgpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0\nKCk7CiAgICAgICAgCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOwogICAgICAgIFN0dWRlbnQgczEgPSBuZXcgU3R1ZGVudCgpOyBzMS5z\nZXROYW1lKCJTMSIpOwogICAgICAgIFN0dWRlbnQgczIgPSBuZXcgU3R1ZGVu\ndCgpOyBzMi5zZXROYW1lKCJTMiIpOwogICAgICAgIFN0dWRlbnQgczMgPSBu\nZXcgU3R1ZGVudCgpOyBzMy5zZXROYW1lKCJTMyIpOwogICAgICAgIFN0dWRl\nbnQgczQgPSBuZXcgU3R1ZGVudCgpOyBzNC5zZXROYW1lKCJTNCIpOwogICAg\nICAgIFNlbWVzdGVyIHNtMSA9IG5ldyBTZW1lc3RlcigpOyBzbTEuc2V0TmFt\nZSgiU3VtbWVyIik7CiAgICAgICAgU2VtZXN0ZXIgc20yID0gbmV3IFNlbWVz\ndGVyKCk7IHNtMi5zZXROYW1lKCJGYWxsIik7CiAgICAgICAgQ291cnNlIGMx\nID0gbmV3IENvdXJzZSgpOyBjMS5zZXROYW1lKCJDMSIpOwogICAgICAgIENv\ndXJzZSBjMiA9IG5ldyBDb3Vyc2UoKTsgYzIuc2V0TmFtZSgiQzIiKTsKCiAg\nICAgICAgczEuYWRkVG9FbnJvbGxtZW50KGMxLCBzbTEpOyBzMS5hZGRUb0Vu\ncm9sbG1lbnQoYzIsIHNtMik7CiAgICAgICAgczIuYWRkVG9FbnJvbGxtZW50\nKGMyLCBzbTEpOyBzMi5hZGRUb0Vucm9sbG1lbnQoYzEsIHNtMik7CiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMy5hZGRUb0Vucm9s\nbG1lbnQoYzEsIHNtMik7IAogICAgICAgIHM0LmFkZFRvRW5yb2xsbWVudChj\nMiwgc20xKTsKICAgICAgICAKICAgICAgICBlbS5wZXJzaXN0KHMxKTsgZW0u\ncGVyc2lzdChzMik7IGVtLnBlcnNpc3QoczMpOyBlbS5wZXJzaXN0KHM0KTsK\nICAgICAgICBlbS5wZXJzaXN0KGMxKTsgZW0ucGVyc2lzdChjMik7CiAgICAg\nICAgZW0ucGVyc2lzdChzbTEpOyBlbS5wZXJzaXN0KHNtMik7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICAKICAgICAg\nICBTdHJpbmcganBxbCA9ICJzZWxlY3QgcyBmcm9tIFN0dWRlbnQgcyBKT0lO\nIHMuZW5yb2xsbWVudCBlIHdoZXJlIEtFWShlKS5uYW1lPTpuYW1lIjsKICAg\nICAgICBMaXN0PFN0dWRlbnQ+IGpSZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShq\ncHFsKS5zZXRQYXJhbWV0ZXIoIm5hbWUiLCAiQzEiKS5nZXRSZXN1bHRMaXN0\nKCk7CiAgICAgICAgCiAgICAgICAgQ3JpdGVyaWFRdWVyeTxTdHVkZW50PiBx\nID0gY2IuY3JlYXRlUXVlcnkoU3R1ZGVudC5jbGFzcyk7CiAgICAgICAgUm9v\ndDxTdHVkZW50PiBzID0gcS5mcm9tKFN0dWRlbnQuY2xhc3MpOwogICAgICAg\nIEpvaW48TWFwPENvdXJzZSxTZW1lc3Rlcj4sQ291cnNlPiBjID0gcy5qb2lu\nKFN0dWRlbnRfLmVucm9sbG1lbnQpLmpvaW5LZXkoKTsKICAgICAgICBxLndo\nZXJlKGNiLmVxdWFsKGMuZ2V0KENvdXJzZV8ubmFtZSksIGNiLnBhcmFtZXRl\ncihTdHJpbmcuY2xhc3MsICJuYW1lIikpKTsKICAgICAgICAKICAgICAgICBM\naXN0PFN0dWRlbnQ+IGNSZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShxKS5zZXRQ\nYXJhbWV0ZXIoIm5hbWUiLCJDMSIpLmdldFJlc3VsdExpc3QoKTsKICAgICAg\nICAKICAgICAgICBhc3NlcnRGYWxzZShqUmVzdWx0LmlzRW1wdHkoKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKGNSZXN1bHQuc2l6ZSgpLCBqUmVzdWx0LnNp\nemUoKSk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBqUmVzdWx0LnNp\nemUoKTsgaSsrKSB7CiAgICAgICAgICAgIGFzc2VydEVxdWFscyhqUmVzdWx0\nLmdldChpKS5nZXROYW1lKCksIGNSZXN1bHQuZ2V0KGkpLmdldE5hbWUoKSk7\nCiAgICAgICAgfQogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0QWxp\nYXNJbk9yZGVyQnlDbGF1c2UoKSB7CiAgICAgICAgU3RyaW5nIGpwcWwgPSAi\nU0VMRUNUIEFWRyhhLmJhbGFuY2UpIEFTIHggRlJPTSBBY2NvdW50IGEgT1JE\nRVIgQlkgeCI7CgogICAgICAgIE9wZW5KUEFDcml0ZXJpYVF1ZXJ5PERvdWJs\nZT4gYyA9IGNiLmNyZWF0ZVF1ZXJ5KERvdWJsZS5jbGFzcyk7CiAgICAgICAg\nUm9vdDxBY2NvdW50PiBhY2NvdW50ID0gYy5mcm9tKEFjY291bnQuY2xhc3Mp\nOwogICAgICAgIEV4cHJlc3Npb248RG91YmxlPiBvcmlnaW5hbCA9IGNiLmF2\nZyhhY2NvdW50LmdldChBY2NvdW50Xy5iYWxhbmNlKSk7CiAgICAgICAgRXhw\ncmVzc2lvbjxEb3VibGU+IGFsaWFzZWQgPSAoRXhwcmVzc2lvbjxEb3VibGU+\nKW9yaWdpbmFsLmFsaWFzKCJ4Iik7CiAgICAgICAgYy5vcmRlckJ5KGNiLmFz\nYyhhbGlhc2VkKSk7CiAgICAgICAgYXNzZXJ0U2FtZShvcmlnaW5hbCwgYWxp\nYXNlZCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ4IiwgYWxpYXNlZC5nZXRB\nbGlhcygpKTsKICAgICAgICBjLnNlbGVjdChhbGlhc2VkKTsKICAgICAgICBh\nc3NlcnRFcXVpdmFsZW5jZShjLCBqcHFsKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoanBxbCwgYy50b0NRTCgpKTsKICAgIH0KICAgIAogICAgcHVibGljIHZv\naWQgdGVzdFJlYWxpYXNOb3RBbGxvd2VkKCkgewogICAgICAgIE9wZW5KUEFD\ncml0ZXJpYVF1ZXJ5PERvdWJsZT4gYyA9IGNiLmNyZWF0ZVF1ZXJ5KERvdWJs\nZS5jbGFzcyk7CiAgICAgICAgUm9vdDxBY2NvdW50PiBhY2NvdW50ID0gYy5m\ncm9tKEFjY291bnQuY2xhc3MpOwogICAgICAgIFNlbGVjdGlvbjxEb3VibGU+\nIHRlcm0gPSBjYi5hdmcoYWNjb3VudC5nZXQoQWNjb3VudF8uYmFsYW5jZSkp\nOwogICAgICAgIHRlcm0uYWxpYXMoImZpcnN0dGltZSIpOwogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIHRlcm0uYWxpYXMoInNlY29uZHRpbWUiKTsKICAg\nICAgICAgICAgZmFpbCgiRXhwZWN0ZWQgdG8gZmFpbCBvbiByZS1hbGlhc2lu\nZyIpOwogICAgICAgIH0gY2F0Y2ggKElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiBl\nKSB7CiAgICAgICAgICAgIC8vIGdvb2QKICAgICAgICB9CiAgICB9CiAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RJbnZhbGlkQWxpYXNOb3RBbGxvd2VkKCkg\newogICAgICAgIE9wZW5KUEFDcml0ZXJpYVF1ZXJ5PERvdWJsZT4gYyA9IGNi\nLmNyZWF0ZVF1ZXJ5KERvdWJsZS5jbGFzcyk7CiAgICAgICAgUm9vdDxBY2Nv\ndW50PiBhY2NvdW50ID0gYy5mcm9tKEFjY291bnQuY2xhc3MpOwogICAgICAg\nIFNlbGVjdGlvbjxEb3VibGU+IHRlcm0gPSBjYi5hdmcoYWNjb3VudC5nZXQo\nQWNjb3VudF8uYmFsYW5jZSkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIHRlcm0uYWxpYXMoImZyb20iKTsKICAgICAgICAgICAgZmFpbCgiRXhwZWN0\nZWQgdG8gZmFpbCBvbiByZXNlcnZlZCB3b3JkIGFzIGFsaWFzIik7CiAgICAg\nICAgfSBjYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsKICAg\nICAgICAgICAgLy8gZ29vZAogICAgICAgICAgICBhc3NlcnROdWxsKHRlcm0u\nZ2V0QWxpYXMoKSk7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAg\nICAgIHRlcm0uYWxpYXMoIiB3aXRoIGEgc3BhY2UiKTsKICAgICAgICAgICAg\nZmFpbCgiRXhwZWN0ZWQgdG8gZmFpbCBvbiBpbnZhbGlkIGFsaWFzIik7CiAg\nICAgICAgfSBjYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsK\nICAgICAgICAgICAgLy8gZ29vZAogICAgICAgICAgICBhc3NlcnROdWxsKHRl\ncm0uZ2V0QWxpYXMoKSk7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIHRlcm0uYWxpYXMoIiB3aXRoP2tub3duX3N5bWJvbCIpOwogICAg\nICAgICAgICBmYWlsKCJFeHBlY3RlZCB0byBmYWlsIG9uIGludmFsaWQgYWxp\nYXMiKTsKICAgICAgICB9IGNhdGNoIChJbGxlZ2FsQXJndW1lbnRFeGNlcHRp\nb24gZSkgewogICAgICAgICAgICAvLyBnb29kCiAgICAgICAgICAgIGFzc2Vy\ndE51bGwodGVybS5nZXRBbGlhcygpKTsKICAgICAgICB9CiAgICB9CiAgICAK\nICAgIHB1YmxpYyB2b2lkIHRlc3RJbnZhbGlkUGFyYW1ldGVyTmFtZSgpIHsK\nICAgICAgICB0cnkgewogICAgICAgICAgICBjYi5wYXJhbWV0ZXIoSW50ZWdl\nci5jbGFzcywgImZyb20iKTsKICAgICAgICAgICAgZmFpbCgiRXhwZWN0ZWQg\ndG8gZmFpbCBvbiByZXNlcnZlZCB3b3JkIGFzIGFsaWFzIik7CiAgICAgICAg\nfSBjYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsKICAgICAg\nICB9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY2IucGFyYW1ldGVyKElu\ndGVnZXIuY2xhc3MsICI6bmFtZSIpOwogICAgICAgICAgICBmYWlsKCJFeHBl\nY3RlZCB0byBmYWlsIG9uIGludmFsaWQgYWxpYXMiKTsKICAgICAgICB9IGNh\ndGNoIChJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gZSkgewogICAgICAgIH0K\nICAgICAgICB0cnkgewogICAgICAgICAgICBjYi5wYXJhbWV0ZXIoSW50ZWdl\nci5jbGFzcywgIj8zIik7CiAgICAgICAgICAgIGZhaWwoIkV4cGVjdGVkIHRv\nIGZhaWwgb24gaW52YWxpZCBhbGlhcyIpOwogICAgICAgIH0gY2F0Y2ggKEls\nbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgfQogICAgfQoK\nfQo=\n","encoding":"base64"}

