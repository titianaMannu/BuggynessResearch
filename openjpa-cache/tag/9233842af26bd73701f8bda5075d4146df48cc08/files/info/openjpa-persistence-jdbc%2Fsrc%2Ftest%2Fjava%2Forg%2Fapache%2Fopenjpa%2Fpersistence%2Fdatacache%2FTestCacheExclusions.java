{"sha":"b7a71a03575cd2af0d2059fd9829a4307610fc95","node_id":"MDQ6QmxvYjIwNjM2NDpiN2E3MWEwMzU3NWNkMmFmMGQyMDU5ZmQ5ODI5YTQzMDc2MTBmYzk1","size":8793,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b7a71a03575cd2af0d2059fd9829a4307610fc95","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZh\nLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLlF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLm1ldGEuQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neVNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5T\ndG9yZUNhY2hlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLnRlc3QuQWJzdHJhY3RDYWNoZWRFTUZUZXN0Q2FzZTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlBlcnNpc3RlbmNl\nVGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVzdENhY2hlRXhjbHVzaW9ucyBl\neHRlbmRzIEFic3RyYWN0Q2FjaGVkRU1GVGVzdENhc2UgewoKICAgIHByaXZh\ndGUgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJIGVtZiA9IG51bGw7\nCgogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nW10gSVRFTV9OQU1FUyA9CiAg\nICAgICAgeyAiQ3VwIiwgInBlbiIsICJwZW5jaWwiLCAicGhvbmUiLCAibGFw\ndG9wIiwgImtleWJvYXJkIiwgIm1vdXNlIiB9OwogICAgCiAgICBwcml2YXRl\nIHN0YXRpYyBmaW5hbCBTdHJpbmcgX3RTZXAgPSAiOyI7CgogICAgSXRlbVtd\nIGl0ZW1zID0gbmV3IEl0ZW1bSVRFTV9OQU1FUy5sZW5ndGhdOwogICAgT3Jk\nZXIgbzEsIG8yOwogICAgUHVyY2hhc2UgcDsKCiAgICBwdWJsaWMgdm9pZCBw\nb3B1bGF0ZSgpIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7CiAgICAgICAgaW50IG4gPSAwOwogICAgICAgIGZvciAo\nU3RyaW5nIHMgOiBJVEVNX05BTUVTKSB7CiAgICAgICAgICAgIGl0ZW1zW25d\nID0gbmV3IEl0ZW0oKTsKICAgICAgICAgICAgaXRlbXNbbl0uc2V0TmFtZShz\nKTsKICAgICAgICAgICAgaXRlbXNbbl0uc2V0SWQobik7CiAgICAgICAgICAg\nIGVtLnBlcnNpc3QoaXRlbXNbbisrXSk7CiAgICAgICAgfQogICAgICAgIHAg\nPSBuZXcgUHVyY2hhc2UoKTsKICAgICAgICBwLnNldE9yZGVycyhuZXcgQXJy\nYXlMaXN0PE9yZGVyPigpKTsKICAgICAgICBvMSA9IG5ldyBPcmRlcigpOwog\nICAgICAgIG8xLnNldEl0ZW0oZW0uZmluZChJdGVtLmNsYXNzLCAxKSk7CiAg\nICAgICAgbzEuc2V0UXVhbnRpdHkoMik7CiAgICAgICAgbzEuc2V0UHVyY2hh\nc2UocCk7CiAgICAgICAgcC5nZXRPcmRlcnMoKS5hZGQobzEpOwoKICAgICAg\nICBvMiA9IG5ldyBPcmRlcigpOwogICAgICAgIG8yLnNldEl0ZW0oZW0uZmlu\nZChJdGVtLmNsYXNzLCA0KSk7CiAgICAgICAgbzIuc2V0UXVhbnRpdHkoMjMp\nOwogICAgICAgIG8yLnNldFB1cmNoYXNlKHApOwogICAgICAgIHAuZ2V0T3Jk\nZXJzKCkuYWRkKG8yKTsKCiAgICAgICAgZW0ucGVyc2lzdChwKTsKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNs\nb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVhckRvd24oKSB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAoZW1mICE9IG51bGwpIHsKICAg\nICAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlN\nYW5hZ2VyKCk7CiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKCiAgICAgICAgICAgIGZvciAoQ2xhc3NNYXBwaW5nIG1hcHBpbmcg\nOiAoKENsYXNzTWFwcGluZ1tdKSBlbWYKICAgICAgICAgICAgICAgIC5nZXRD\nb25maWd1cmF0aW9uKCkuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2Uo\nKQogICAgICAgICAgICAgICAgLmdldE1ldGFEYXRhcygpKSkgewogICAgICAg\nICAgICAgICAgUXVlcnkgcSA9CiAgICAgICAgICAgICAgICAgICAgZW0uY3Jl\nYXRlTmF0aXZlUXVlcnkoIkRST1AgVEFCTEUgIgogICAgICAgICAgICAgICAg\nICAgICAgICArIG1hcHBpbmcuZ2V0VGFibGUoKS5nZXROYW1lKCkpOwogICAg\nICAgICAgICAgICAgcS5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgICAgIH0K\nICAgICAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAg\nICAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICAgICAgCiAgICAgICAgICAg\nIGVtZi5jbG9zZSgpOwogICAgICAgIH0KICAgICAgICBlbWYgPSBudWxsOwog\nICAgICAgIHN1cGVyLnRlYXJEb3duKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdENhY2hlQWxsKCkgewogICAgICAgIGdldEVudGl0eU1hbmFnZXJG\nYWN0b3J5Q2FjaGVTZXR0aW5ncyhudWxsLCBudWxsKTsKICAgICAgICBwb3B1\nbGF0ZSgpOwogICAgICAgIFN0b3JlQ2FjaGUgY2FjaGUgPSBlbWYuZ2V0U3Rv\ncmVDYWNoZSgpOwogICAgICAgIGFzc2VydENhY2hlQ29udGVudHMoY2FjaGUs\nIHRydWUsIHRydWUsIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RDYWNoZUl0ZW1zKCkgewogICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0\nb3J5Q2FjaGVTZXR0aW5ncyhuZXcgQ2xhc3NbXSB7IEl0ZW0uY2xhc3MgfSwg\nbnVsbCk7CiAgICAgICAgcG9wdWxhdGUoKTsKICAgICAgICBTdG9yZUNhY2hl\nIGNhY2hlID0gZW1mLmdldFN0b3JlQ2FjaGUoKTsKICAgICAgICBhc3NlcnRD\nYWNoZUNvbnRlbnRzKGNhY2hlLCBmYWxzZSwgZmFsc2UsIHRydWUpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RDYWNoZUl0ZW1zQW5kUHVyY2hhc2Vz\nKCkgewogICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0b3J5Q2FjaGVTZXR0\naW5ncyhuZXcgQ2xhc3NbXSB7IEl0ZW0uY2xhc3MsCiAgICAgICAgICAgIFB1\ncmNoYXNlLmNsYXNzIH0sIG51bGwpOwogICAgICAgIHBvcHVsYXRlKCk7CiAg\nICAgICAgU3RvcmVDYWNoZSBjYWNoZSA9IGVtZi5nZXRTdG9yZUNhY2hlKCk7\nCiAgICAgICAgYXNzZXJ0Q2FjaGVDb250ZW50cyhjYWNoZSwgdHJ1ZSwgZmFs\nc2UsIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RDYWNoZUl0\nZW1zQW5kT3JkZXJzKCkgewogICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0\nb3J5Q2FjaGVTZXR0aW5ncyhuZXcgQ2xhc3NbXSB7IEl0ZW0uY2xhc3MsCiAg\nICAgICAgICAgIE9yZGVyLmNsYXNzIH0sIG51bGwpOwogICAgICAgIHBvcHVs\nYXRlKCk7CiAgICAgICAgU3RvcmVDYWNoZSBjYWNoZSA9IGVtZi5nZXRTdG9y\nZUNhY2hlKCk7CiAgICAgICAgYXNzZXJ0Q2FjaGVDb250ZW50cyhjYWNoZSwg\nZmFsc2UsIHRydWUsIHRydWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RDYWNoZVB1cmNoYXNlc0FuZE9yZGVycygpIHsKICAgICAgICBnZXRFbnRp\ndHlNYW5hZ2VyRmFjdG9yeUNhY2hlU2V0dGluZ3MobmV3IENsYXNzW10geyBQ\ndXJjaGFzZS5jbGFzcywKICAgICAgICAgICAgT3JkZXIuY2xhc3MgfSwgbnVs\nbCk7CiAgICAgICAgcG9wdWxhdGUoKTsKICAgICAgICBTdG9yZUNhY2hlIGNh\nY2hlID0gZW1mLmdldFN0b3JlQ2FjaGUoKTsKICAgICAgICBhc3NlcnRDYWNo\nZUNvbnRlbnRzKGNhY2hlLCB0cnVlLCB0cnVlLCBmYWxzZSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdEV4Y2x1ZGVQdXJjaGFzZXMoKSB7CiAgICAg\nICAgZ2V0RW50aXR5TWFuYWdlckZhY3RvcnlDYWNoZVNldHRpbmdzKG51bGws\nCiAgICAgICAgICAgIG5ldyBDbGFzc1tdIHsgUHVyY2hhc2UuY2xhc3MgfSk7\nCiAgICAgICAgcG9wdWxhdGUoKTsKICAgICAgICBTdG9yZUNhY2hlIGNhY2hl\nID0gZW1mLmdldFN0b3JlQ2FjaGUoKTsKICAgICAgICBhc3NlcnRDYWNoZUNv\nbnRlbnRzKGNhY2hlLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdEV4Y2x1ZGVPcmRlcnMoKSB7CiAgICAgICAgZ2V0\nRW50aXR5TWFuYWdlckZhY3RvcnlDYWNoZVNldHRpbmdzKG51bGwsIG5ldyBD\nbGFzc1tdIHsgT3JkZXIuY2xhc3MgfSk7CiAgICAgICAgcG9wdWxhdGUoKTsK\nICAgICAgICBTdG9yZUNhY2hlIGNhY2hlID0gZW1mLmdldFN0b3JlQ2FjaGUo\nKTsKICAgICAgICBhc3NlcnRDYWNoZUNvbnRlbnRzKGNhY2hlLCB0cnVlLCBm\nYWxzZSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEV4Y2x1\nZGVJdGVtcygpIHsKICAgICAgICBnZXRFbnRpdHlNYW5hZ2VyRmFjdG9yeUNh\nY2hlU2V0dGluZ3MobnVsbCwgbmV3IENsYXNzW10geyBJdGVtLmNsYXNzIH0p\nOwogICAgICAgIHBvcHVsYXRlKCk7CiAgICAgICAgU3RvcmVDYWNoZSBjYWNo\nZSA9IGVtZi5nZXRTdG9yZUNhY2hlKCk7CiAgICAgICAgYXNzZXJ0Q2FjaGVD\nb250ZW50cyhjYWNoZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RFeGNsdWRlT3JkZXJzQW5kUHVyY2hhc2VzKCkg\newogICAgICAgIGdldEVudGl0eU1hbmFnZXJGYWN0b3J5Q2FjaGVTZXR0aW5n\ncyhudWxsLCBuZXcgQ2xhc3NbXSB7IE9yZGVyLmNsYXNzLAogICAgICAgICAg\nICBQdXJjaGFzZS5jbGFzcyB9KTsKICAgICAgICBwb3B1bGF0ZSgpOwogICAg\nICAgIFN0b3JlQ2FjaGUgY2FjaGUgPSBlbWYuZ2V0U3RvcmVDYWNoZSgpOwog\nICAgICAgIGFzc2VydENhY2hlQ29udGVudHMoY2FjaGUsIGZhbHNlLCBmYWxz\nZSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEluY2x1ZGVQ\ndXJjaGFzZUl0ZW1FeGNsdWRlUHVyY2hhc2UoKSB7CiAgICAgICAgZ2V0RW50\naXR5TWFuYWdlckZhY3RvcnlDYWNoZVNldHRpbmdzKG5ldyBDbGFzc1tdIHsg\nUHVyY2hhc2UuY2xhc3MsCiAgICAgICAgICAgIEl0ZW0uY2xhc3MgfSwgbmV3\nIENsYXNzW10geyBQdXJjaGFzZS5jbGFzcyB9KTsKICAgICAgICBwb3B1bGF0\nZSgpOwogICAgICAgIFN0b3JlQ2FjaGUgY2FjaGUgPSBlbWYuZ2V0U3RvcmVD\nYWNoZSgpOwogICAgICAgIGFzc2VydENhY2hlQ29udGVudHMoY2FjaGUsIGZh\nbHNlLCBmYWxzZSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBnZXRFbnRpdHlNYW5hZ2VyRmFjdG9y\neUNhY2hlU2V0dGluZ3MoCiAgICAgICAgQ2xhc3M8Pz5bXSBpbmNsdWRlZFR5\ncGVzLCBDbGFzczw/PltdIGV4Y2x1ZGVkVHlwZXMpIHsKICAgICAgICBTdHJp\nbmdCdWlsZGVyIGluY2x1ZGVzID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKICAg\nICAgICBpZiAoaW5jbHVkZWRUeXBlcyAhPSBudWxsICYmIGluY2x1ZGVkVHlw\nZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBpbmNsdWRlcy5hcHBlbmQo\nIlR5cGVzPSIpOwogICAgICAgICAgICBmb3IgKENsYXNzPD8+IGMgOiBpbmNs\ndWRlZFR5cGVzKSB7CiAgICAgICAgICAgICAgICBpbmNsdWRlcy5hcHBlbmQo\nYy5nZXROYW1lKCkpOwogICAgICAgICAgICAgICAgaW5jbHVkZXMuYXBwZW5k\nKF90U2VwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbmNsdWRlcy5z\nZXRMZW5ndGgoaW5jbHVkZXMubGVuZ3RoKCkgLSAxKTsgLy8gcmVtb3ZlIGxh\nc3Qgc2VtaWNvbG9uCiAgICAgICAgfQogICAgICAgIFN0cmluZ0J1aWxkZXIg\nZXhjbHVkZXMgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwogICAgICAgIGlmIChl\neGNsdWRlZFR5cGVzICE9IG51bGwgJiYgZXhjbHVkZWRUeXBlcy5sZW5ndGgg\nPiAwKSB7CiAgICAgICAgICAgIGV4Y2x1ZGVzLmFwcGVuZCgiRXhjbHVkZWRU\neXBlcz0iKTsKICAgICAgICAgICAgZm9yIChDbGFzczw/PiBjIDogZXhjbHVk\nZWRUeXBlcykgewogICAgICAgICAgICAgICAgZXhjbHVkZXMuYXBwZW5kKGMu\nZ2V0TmFtZSgpKTsKICAgICAgICAgICAgICAgIGV4Y2x1ZGVzLmFwcGVuZChf\ndFNlcCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXhjbHVkZXMuc2V0\nTGVuZ3RoKGV4Y2x1ZGVzLmxlbmd0aCgpIC0gMSk7IC8vIHJlbW92ZSBsYXN0\nIHNlbWljb2xvbgogICAgICAgIH0KICAgICAgICBTdHJpbmdCdWlsZGVyIGRh\ndGFDYWNoZVNldHRpbmdzID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKICAgICAg\nICBkYXRhQ2FjaGVTZXR0aW5ncy5hcHBlbmQoInRydWUiKTsKICAgICAgICBp\nZiAoaW5jbHVkZXMubGVuZ3RoKCkgPiAwIHx8IGV4Y2x1ZGVzLmxlbmd0aCgp\nID4gMCkgewogICAgICAgICAgICBkYXRhQ2FjaGVTZXR0aW5ncy5hcHBlbmQo\nIigiKTsKICAgICAgICAgICAgZGF0YUNhY2hlU2V0dGluZ3MuYXBwZW5kKGlu\nY2x1ZGVzKTsKICAgICAgICAgICAgaWYgKGluY2x1ZGVzLmxlbmd0aCgpID4g\nMCAmJiBleGNsdWRlcy5sZW5ndGgoKSA+IDApIHsKICAgICAgICAgICAgICAg\nIGRhdGFDYWNoZVNldHRpbmdzLmFwcGVuZCgiLCIpOwogICAgICAgICAgICB9\nCiAgICAgICAgICAgIGRhdGFDYWNoZVNldHRpbmdzLmFwcGVuZChleGNsdWRl\ncyk7CiAgICAgICAgICAgIGRhdGFDYWNoZVNldHRpbmdzLmFwcGVuZCgiKSIp\nOwogICAgICAgIH0KICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHByb3Bz\nID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBTdHJpbmc+KCk7CiAgICAgICAgcHJv\ncHMucHV0KCJvcGVuanBhLkRhdGFDYWNoZSIsIGRhdGFDYWNoZVNldHRpbmdz\nLnRvU3RyaW5nKCkpOwogICAgICAgIHByb3BzLnB1dCgib3BlbmpwYS5SZW1v\ndGVDb21taXRQcm92aWRlciIsICJzanZtIik7CiAgICAgICAgcHJvcHMucHV0\nKCJvcGVuanBhLk1ldGFEYXRhRmFjdG9yeSIsICJqcGEoVHlwZXM9IgogICAg\nICAgICAgICArIEl0ZW0uY2xhc3MuZ2V0TmFtZSgpICsgX3RTZXAgKyBQdXJj\naGFzZS5jbGFzcy5nZXROYW1lKCkgKyBfdFNlcAogICAgICAgICAgICArIE9y\nZGVyLmNsYXNzLmdldE5hbWUoKSArICIpIik7CiAgICAgICAgZW1mID0KICAg\nICAgICAgICAgKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSkgamF2\nYXgucGVyc2lzdGVuY2UuUGVyc2lzdGVuY2UKICAgICAgICAgICAgICAgIC5j\ncmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeSgidGVzdCIsIHByb3BzKTsKICAg\nICAgICByZXR1cm4gZW1mOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFzc2Vy\ndENhY2hlQ29udGVudHMoU3RvcmVDYWNoZSBjYWNoZSwgYm9vbGVhbiBleHBl\nY3RQdXJjaGFzZSwKICAgICAgICBib29sZWFuIGV4cGVjdE9yZGVycywgYm9v\nbGVhbiBleHBlY3RJdGVtcykgewogICAgICAgIGFzc2VydEVxdWFscygiRXhw\nZWN0ZWQgcHVyY2hhc2VzIHRvICIgKyAoZXhwZWN0UHVyY2hhc2UgPyAiIiA6\nICJub3QgIikKICAgICAgICAgICAgKyAiZXhpc3QgaW4gdGhlIGNhY2hlIiwg\nZXhwZWN0UHVyY2hhc2UsIGNhY2hlLmNvbnRhaW5zKAogICAgICAgICAgICBQ\ndXJjaGFzZS5jbGFzcywgcC5nZXRJZCgpKSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJFeHBlY3RlZCBPcmRlcnMgdG8gIiArIChleHBlY3RPcmRlcnMgPyAi\nIiA6ICJub3QgIikKICAgICAgICAgICAgKyAiZXhpc3QgaW4gdGhlIGNhY2hl\nIiwgZXhwZWN0T3JkZXJzLCBjYWNoZS5jb250YWlucyhPcmRlci5jbGFzcywK\nICAgICAgICAgICAgbzEuZ2V0SWQoKSkpOwogICAgICAgIGFzc2VydEVxdWFs\ncygiRXhwZWN0ZWQgT3JkZXJzIHRvICIgKyAoZXhwZWN0T3JkZXJzID8gIiIg\nOiAibm90ICIpCiAgICAgICAgICAgICsgImV4aXN0IGluIHRoZSBjYWNoZSIs\nIGV4cGVjdE9yZGVycywgY2FjaGUuY29udGFpbnMoT3JkZXIuY2xhc3MsCiAg\nICAgICAgICAgIG8yLmdldElkKCkpKTsKICAgICAgICBmb3IgKGludCBpID0g\nMDsgaSA8IElURU1fTkFNRVMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJFeHBlY3RlZCBJdGVtcyB0byAiICsgKGV4cGVjdEl0\nZW1zID8gIiIgOiAibm90ICIpCiAgICAgICAgICAgICAgICArICJleGlzdCBp\nbiB0aGUgY2FjaGUiLCBleHBlY3RJdGVtcywgY2FjaGUuY29udGFpbnMoSXRl\nbS5jbGFzcywKICAgICAgICAgICAgICAgIGl0ZW1zW2ldLmdldElkKCkpKTsK\nICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

