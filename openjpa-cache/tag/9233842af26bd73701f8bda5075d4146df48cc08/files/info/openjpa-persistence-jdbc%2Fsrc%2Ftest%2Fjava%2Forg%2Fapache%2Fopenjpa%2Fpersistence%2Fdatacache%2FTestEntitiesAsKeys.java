{"sha":"97dc011e1540fdd61b1ac70f8b5e413a4eb29d55","node_id":"MDQ6QmxvYjIwNjM2NDo5N2RjMDExZTE1NDBmZGQ2MWIxYWM3MGY4YjVlNDEzYTRlYjI5ZDU1","size":3126,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/97dc011e1540fdd61b1ac70f8b5e413a4eb29d55","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51\ndGlsLk1hcDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5h\nZ2VyOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5P\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5BYnN0cmFjdENhY2hlZEVN\nRlRlc3RDYXNlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLnRlc3QuUGVyc2lzdGVuY2VUZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBU\nZXN0RW50aXRpZXNBc0tleXMgZXh0ZW5kcyBBYnN0cmFjdENhY2hlZEVNRlRl\nc3RDYXNlIHsKCiAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkg\nZW1mID0KICAgICAgICBjcmVhdGVFTUYoTWFwSG9sZGVyLmNsYXNzLCBNYXBF\nbWJlZGRhYmxlLmNsYXNzLCAib3BlbmpwYS5EYXRhQ2FjaGUiLCAidHJ1ZSIs\nICJvcGVuanBhLlJlbW90ZUNvbW1pdFByb3ZpZGVyIiwKICAgICAgICAgICAg\nInNqdm0iLCAib3BlbmpwYS5SdW50aW1lVW5lbmhhbmNlZENsYXNzZXMiLCAi\ndW5zdXBwb3J0ZWQiKTsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAg\nICAgICBwb3B1bGF0ZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHBvcHVs\nYXRlKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRl\nRW50aXR5TWFuYWdlcigpOwogICAgICAgIC8vIGNsZWFuIHVwIGJlZm9yZSBl\neGVjdXRpb24KICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7\nCiAgICAgICAgZW0uY3JlYXRlUXVlcnkoIkRlbGV0ZSBmcm9tIE1hcEhvbGRl\nciIpLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmNvbW1pdCgpOwoKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJl\nZ2luKCk7CiAgICAgICAgTWFwSG9sZGVyIG1oID0gbmV3IE1hcEhvbGRlcigp\nOwogICAgICAgIG1oLnNldElkKDEwKTsKICAgICAgICBtaC5zZXRFbWJlZGRh\nYmxlTWFwKGdldEVtYmVkZGFibGVNYXAoMSwgMiwgMywgNCwgNSwgNiwgNywg\nOCkpOwogICAgICAgIGVtLnBlcnNpc3QobWgpOwogICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWFwQ29udGVudHMoKSB7CiAgICAg\nICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCk7CgogICAgICAgIE1hcEhvbGRlciBtaCA9IGVtLmZpbmQoTWFwSG9sZGVy\nLmNsYXNzLCAxMCk7CiAgICAgICAgbWguZ2V0RW1iZWRkYWJsZU1hcCgpOwog\nICAgICAgIGFzc2VydE5vdE51bGwobWgpOwoKICAgICAgICBmb3IgKE9iamVj\ndCBvIDogbWguZ2V0RW1iZWRkYWJsZU1hcCgpLmtleVNldCgpKSB7CiAgICAg\nICAgICAgIGFzc2VydFRydWUoIkV4cGVjdGVkIGtleSB0byBiZSBpbnN0YW5j\nZW9mIE1hcEVtYmVkZGFibGUgYnV0IHdhcyAiICsgby5nZXRDbGFzcygpLmdl\ndENhbm9uaWNhbE5hbWUoKSwKICAgICAgICAgICAgICAgIG8gaW5zdGFuY2Vv\nZiBNYXBFbWJlZGRhYmxlKTsKICAgICAgICB9CgogICAgICAgIGZvciAoT2Jq\nZWN0IG8gOiBtaC5nZXRFbWJlZGRhYmxlTWFwKCkudmFsdWVzKCkpIHsKICAg\nICAgICAgICAgYXNzZXJ0VHJ1ZSgiRXhwZWN0ZWQgdmFsdWUgdG8gYmUgaW5z\ndGFuY2VvZiBNYXBFbWJlZGRhYmxlIGJ1dCB3YXMgIiArIG8uZ2V0Q2xhc3Mo\nKS5nZXRDYW5vbmljYWxOYW1lKCksCiAgICAgICAgICAgICAgICBvIGluc3Rh\nbmNlb2YgTWFwRW1iZWRkYWJsZSk7CiAgICAgICAgfQogICAgICAgIGVtLmNs\nb3NlKCk7CiAgICB9CgogICAgcHJpdmF0ZSBNYXA8TWFwRW1iZWRkYWJsZSwg\nTWFwRW1iZWRkYWJsZT4gZ2V0RW1iZWRkYWJsZU1hcChJbnRlZ2VyLi4uIGlu\ndGVnZXJzKSB7CiAgICAgICAgTWFwPE1hcEVtYmVkZGFibGUsIE1hcEVtYmVk\nZGFibGU+IHJ2YWwgPSBuZXcgSGFzaE1hcDxNYXBFbWJlZGRhYmxlLCBNYXBF\nbWJlZGRhYmxlPigpOwogICAgICAgIGFzc2VydEVxdWFscygwLCBpbnRlZ2Vy\ncy5sZW5ndGggJSAyKTsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBp\nbnRlZ2Vycy5sZW5ndGg7IGkgKz0gMikgewogICAgICAgICAgICBydmFsLnB1\ndChuZXcgTWFwRW1iZWRkYWJsZShpbnRlZ2Vyc1tpXSksIG5ldyBNYXBFbWJl\nZGRhYmxlKGludGVnZXJzW2kgKyAxXSkpOwogICAgICAgIH0KCiAgICAgICAg\ncmV0dXJuIHJ2YWw7CiAgICB9Cn0K\n","encoding":"base64"}

