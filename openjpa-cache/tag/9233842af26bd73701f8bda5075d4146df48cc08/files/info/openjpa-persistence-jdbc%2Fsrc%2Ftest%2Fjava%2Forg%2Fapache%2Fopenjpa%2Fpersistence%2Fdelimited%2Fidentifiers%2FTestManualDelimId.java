{"sha":"130fe7acb780ac42c3d6c70fab6b93c64ce7394e","node_id":"MDQ6QmxvYjIwNjM2NDoxMzBmZTdhY2I3ODBhYzQyYzNkNmM3MGZhYjZiOTNjNjRjZTczOTRl","size":4110,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/130fe7acb780ac42c3d6c70fab6b93c64ce7394e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnM7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLkRCMkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zcWwuRGVyYnlEaWN0aW9uYXJ5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLnRlc3QuU1FMTGlzdGVuZXJUZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBUZXN0\nTWFudWFsRGVsaW1JZCBleHRlbmRzIFNRTExpc3RlbmVyVGVzdENhc2Ugewog\nICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW07CiAgICBFbnRpdHlGIGVudGl0\neUY7CiAgICAKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgc2V0VXAo\nKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICAvLyBOT1RFOiBUaGlzIHRl\nc3QgaXMgb25seSBjb25maWd1cmVkIHRvIHJ1biBvbiBEQjIgYW5kIERlcmJ5\nIHNpbmNlIAogICAgICAgIC8vIHRob3NlIERCcyBoYW5kbGUgbm9uLWRlZmF1\nbHQgc2NoZW1hcyB3aXRob3V0IGFkZGl0aW9uYWwgYXV0aG9yaXR5IG9yIAog\nICAgICAgIC8vIGNvbmZpZ3VyYXRpb24gIAogICAgICAgIHNldFN1cHBvcnRl\nZERhdGFiYXNlcyhEQjJEaWN0aW9uYXJ5LmNsYXNzLCBEZXJieURpY3Rpb25h\ncnkuY2xhc3MpOwogICAgICAgIGlmIChpc1Rlc3RzRGlzYWJsZWQoKSkKICAg\nICAgICAgICAgcmV0dXJuOwogICAgICAgIAogICAgICAgIHN1cGVyLnNldFVw\nKAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nZGVsaW1pdGVkLmlkZW50aWZpZXJzLkVudGl0eUYuY2xhc3MsCiAgICAgICAg\nICAgIERST1BfVEFCTEVTKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVtZik7\nCiAgICAgICAgCiAgICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdl\ncigpOwogICAgICAgIGFzc2VydE5vdE51bGwoZW0pOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGNyZWF0ZUVudGl0eUYoKSB7CiAgICAgICAgZW50aXR5RiA9\nIG5ldyBFbnRpdHlGKCJmTmFtZSIpOwogICAgICAgIGVudGl0eUYuc2V0Tm9u\nRGVsaW1OYW1lKCJmTm9uRGVsaW1OYW1lIik7CiAgICAgICAgZW50aXR5Ri5z\nZXRTZWNOYW1lKCJzZWMgbmFtZSIpOwogICAgICAgIGVudGl0eUYuYWRkQ29s\nbGVjdGlvblNldCgieHh4Iik7CiAgICAgICAgZW50aXR5Ri5hZGRDb2xsZWN0\naW9uU2V0KCJ5eXkiKTsKICAgICAgICBlbnRpdHlGLmFkZENvbGxlY3Rpb25E\nZWxpbVNldCgiYWFhIik7CiAgICAgICAgZW50aXR5Ri5hZGRDb2xsZWN0aW9u\nRGVsaW1TZXQoImJiYiIpOwogICAgICAgIGVudGl0eUYuYWRkQ29sbGVjdGlv\nbk1hcCgiYWFhIiwgInh4eCIpOwogICAgICAgIGVudGl0eUYuYWRkQ29sbGVj\ndGlvbk1hcCgiYmJiIiwgInl5eSIpOwogICAgICAgIGVudGl0eUYuYWRkRGVs\naW1Db2xsZWN0aW9uTWFwKCJ3d3ciLCAieHh4Iik7CiAgICAgICAgZW50aXR5\nRi5hZGREZWxpbUNvbGxlY3Rpb25NYXAoInl5eSIsICJ6enoiKTsKICAgIH0K\nICAgIAogICAgcHVibGljIHZvaWQgdGVzdENyZWF0ZUYoKSB7CiAgICAgICAg\nY3JlYXRlRW50aXR5RigpOwogICAgICAgIAogICAgICAgIGVtLmdldFRyYW5z\nYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5wZXJzaXN0KGVudGl0eUYp\nOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAg\nICAgCiAgICAgICAgcnVuUXVlcmllcygpOwogICAgICAgIAogICAgfQogICAg\nCiAgICAvLyBSdW4gYSBzZWNvbmQgdGltZSB0byByZS1jcmVhdGUgYSBzaXR1\nYXRpb24gdGhhdCBpbml0aWFsbHkgY2F1c2VkIGEgcHJvYmxlbSB3aGVuIHJ1\nbm5pbmcgdGhpcwogICAgLy8gdGVzdCBjb25zZWN1dGl2ZSB0aW1lcy4KICAg\nIHB1YmxpYyB2b2lkIHRlc3RDcmVhdGVGMigpIHsKICAgICAgICBjcmVhdGVF\nbnRpdHlGKCk7CiAgICAgICAgCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3QoZW50aXR5Rik7CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgIH0KICAgIAog\nICAgcHJpdmF0ZSB2b2lkIHJ1blF1ZXJpZXMoKSB7CiAgICAgICAgZW0uY2xl\nYXIoKTsKICAgICAgICBxdWVyeU9uRW50aXR5T25seSgpOwogICAgICAgIGVt\nLmNsZWFyKCk7CiAgICAgICAgcXVlcnlPbkNvbHVtblZhbHVlKCk7CiAgICAg\nICAgZW0uY2xlYXIoKTsKICAgICAgICBxdWVyeUNvbGxlY3Rpb24oKTsKICAg\nIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHF1ZXJ5T25FbnRpdHlPbmx5KCkg\newogICAgICAgIFN0cmluZyBxdWVyeSA9CiAgICAgICAgICAgICJTRUxFQ1Qg\nRElTVElOQ1QgZiAiICsKICAgICAgICAgICAgIkZST00gRW50aXR5RiBmIjsK\nICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpOwogICAg\nICAgIExpc3Q8RW50aXR5Rj4gcmVzdWx0cyA9IChMaXN0PEVudGl0eUY+KXEu\nZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygxLHJlc3Vs\ndHMuc2l6ZSgpKTsKICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHF1ZXJ5\nT25Db2x1bW5WYWx1ZSgpIHsKICAgICAgICBTdHJpbmcgcXVlcnkgPQogICAg\nICAgICAgICAiU0VMRUNUIERJU1RJTkNUIGYgIiArCiAgICAgICAgICAgICJG\nUk9NIEVudGl0eUYgZiAiICsKICAgICAgICAgICAgIldIRVJFIGYubmFtZSA9\nICdmTmFtZSciOwogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeShx\ndWVyeSk7CiAgICAgICAgTGlzdDxFbnRpdHlGPiByZXN1bHRzID0gKExpc3Q8\nRW50aXR5Rj4pcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEscmVzdWx0cy5zaXplKCkpOwogICAgfQogICAgCiAgICBwcml2YXRl\nIHZvaWQgcXVlcnlDb2xsZWN0aW9uKCkgewogICAgICAgIFN0cmluZyBxdWVy\neSA9CiAgICAgICAgICAgICJTRUxFQ1QgRElTVElOQ1QgZiAiICsKICAgICAg\nICAgICAgIkZST00gRW50aXR5RiBmLCBJTihmLmNvbGxlY3Rpb25EZWxpbVNl\ndCkgcyAiICsKICAgICAgICAgICAgIldIRVJFIHMgPSAnYWFhJyI7CiAgICAg\nICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KTsKICAgICAgICBM\naXN0PEVudGl0eUY+IHJlc3VsdHMgPSAoTGlzdDxFbnRpdHlGPilxLmdldFJl\nc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSxyZXN1bHRzLnNp\nemUoKSk7CiAgICB9Cn0K\n","encoding":"base64"}

