{"sha":"dc02ed9eafe184fcd8b237e6f6c55f9cc43fe17c","node_id":"MDQ6QmxvYjIwNjM2NDpkYzAyZWQ5ZWFmZTE4NGZjZDhiMjM3ZTZmNmM1NWY5Y2M0M2ZlMTdj","size":3987,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/dc02ed9eafe184fcd8b237e6f6c55f9cc43fe17c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnM7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLkRCMkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zcWwuRGVyYnlEaWN0aW9uYXJ5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLnRlc3QuU1FMTGlzdGVuZXJUZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBUZXN0\nTWFudWFsRGVsaW1JZFJlc3VsdFNldEFubm90YXRpb25zIAogICAgICAgIGV4\ndGVuZHMgU1FMTGlzdGVuZXJUZXN0Q2FzZSB7CiAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBlbTsKICAgIGludCBpZCA9IDA7CiAgICBBbmltYWwgYW5pbWFs\nOwogICAgRG9nIGRvZzsKICAgIENhdCBjYXQ7CiAgICBBbmltYWwyIGFuaW1h\nbDI7CiAgICBEb2cyIGRvZzI7CiAgICBDYXQyIGNhdDI7CiAgICAKICAgIEBP\ndmVycmlkZQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB0aHJvd3MgRXhjZXB0\naW9uIHsKICAgICAgICAvLyBOT1RFOiBUaGlzIHRlc3QgaXMgb25seSBjb25m\naWd1cmVkIHRvIHJ1biBvbiBEQjIgYW5kIERlcmJ5IHNpbmNlIAogICAgICAg\nIC8vIHRob3NlIERCcyBoYW5kbGUgbm9uLWRlZmF1bHQgc2NoZW1hcyB3aXRo\nb3V0IGFkZGl0aW9uYWwgYXV0aG9yaXR5IG9yIAogICAgICAgIC8vIGNvbmZp\nZ3VyYXRpb24gIAogICAgICAgIHNldFN1cHBvcnRlZERhdGFiYXNlcyhEQjJE\naWN0aW9uYXJ5LmNsYXNzLCBEZXJieURpY3Rpb25hcnkuY2xhc3MpOwogICAg\nICAgIGlmIChpc1Rlc3RzRGlzYWJsZWQoKSkKICAgICAgICAgICAgcmV0dXJu\nOwogICAgICAgIAogICAgICAgIHN1cGVyLnNldFVwKAogICAgICAgICAgICBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50\naWZpZXJzLkFuaW1hbC5jbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmRlbGltaXRlZC5pZGVudGlmaWVycy5Eb2cu\nY2xhc3MsCiAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5kZWxpbWl0ZWQuaWRlbnRpZmllcnMuQ2F0LmNsYXNzLAogICAgICAg\nICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1pdGVk\nLmlkZW50aWZpZXJzLkFuaW1hbDIuY2xhc3MsCiAgICAgICAgICAgIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQuaWRlbnRpZmll\ncnMuRG9nMi5jbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmRlbGltaXRlZC5pZGVudGlmaWVycy5DYXQyLmNsYXNz\nCiAgICAgICAgICAgICk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlbWYpOwog\nICAgICAgIAogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIo\nKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVtKTsKICAgIH0KCiAgICBwcml2\nYXRlIHZvaWQgY3JlYXRlQ2F0KGludCBpZCkgewogICAgICAgIGNhdCA9IG5l\ndyBDYXQoaWQpOwogICAgICAgIGNhdC5zZXROYW1lKCJQdWZmIik7CiAgICAg\nICAgY2F0LnNldFR5cGUoImNhdCIpOwogICAgICAgIGNhdC5zZXRBZ2UoMyk7\nCiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGNyZWF0ZURvZyhpbnQgaWQpIHsK\nICAgICAgICBkb2cgPSBuZXcgRG9nKGlkKTsKICAgICAgICBkb2cuc2V0TmFt\nZSgiU3BvdCIpOwogICAgICAgIGRvZy5zZXRUeXBlKCJkb2ciKTsKICAgICAg\nICBkb2cuc2V0QWdlKDkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RD\ncmVhdGUoKSB7CiAgICAgICAgaWQrKzsKICAgICAgICBjcmVhdGVEb2coaWQp\nOwogICAgICAgIGlkKys7CiAgICAgICAgY3JlYXRlQ2F0KGlkKTsKICAgICAg\nICAKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAg\nICAgZW0ucGVyc2lzdChkb2cpOwogICAgICAgIGVtLnBlcnNpc3QoY2F0KTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAg\nIAogICAgICAgIHJ1blF1ZXJpZXMoKTsKICAgIH0KICAgIAogICAgcHJpdmF0\nZSB2b2lkIHJ1blF1ZXJpZXMoKSB7CiAgICAgICAgZW0uY2xlYXIoKTsKICAg\nICAgICByZXN1bHRTZXRRdWVyeSgpOwogICAgfQogICAgCiAgICBwcml2YXRl\nIHZvaWQgcmVzdWx0U2V0UXVlcnkoKSB7CiAgICAgICAgU3RyaW5nIHF1ZXJ5\nID0gCiAgICAgICAgICAgICJTRUxFQ1QgYS5pZCwgYS5cImFuaW1hbCB0eXBl\nXCIsIGEuXCJhbmltYWwgbmFtZVwiLCAiICsKICAgICAgICAgICAgImEuXCJk\naXNjciBjb2xcIiwgYS5cImFuaW1hbCBhZ2VcIiAiICsKICAgICAgICAgICAg\nIkZST00gXCJBbmltYWxcIiBhICI7CiAgICAgICAgUXVlcnkgcSA9IGVtLmNy\nZWF0ZU5hdGl2ZVF1ZXJ5KHF1ZXJ5LCJBbmltYWxSZXN1bHRTZXQiKTsKICAg\nICAgICBMaXN0PE9iamVjdFtdPiByZXN1bHRzID0gKExpc3Q8T2JqZWN0W10+\nKXEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLHJl\nc3VsdHMuc2l6ZSgpKTsKICAgICAgICAKICAgICAgICBmb3IgKE9iamVjdFtd\nIHJlc3VsdCA6IHJlc3VsdHMpIHsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKDIsIHJlc3VsdC5sZW5ndGgpOwogICAgICAgICAgICBhc3NlcnRUcnVlKHJl\nc3VsdFswXSBpbnN0YW5jZW9mIEFuaW1hbDIpOwogICAgICAgICAgICBhc3Nl\ncnRUcnVlKHJlc3VsdFsxXSBpbnN0YW5jZW9mIEludGVnZXIpOwogICAgICAg\nICAgICBBbmltYWwyIGFuaW1hbDIgPSAoQW5pbWFsMilyZXN1bHRbMF07CiAg\nICAgICAgICAgIEludGVnZXIgYWdlID0gKEludGVnZXIpcmVzdWx0WzFdOwog\nICAgICAgICAgICBpZiAoYW5pbWFsMi5nZXROYW1lKCkuZXF1YWxzKCJTcG90\nIikpIHsKICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscyg5LCBhZ2UuaW50\nVmFsdWUoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAo\nYW5pbWFsMi5nZXROYW1lKCkuZXF1YWxzKCJQdWZmIikpIHsKICAgICAgICAg\nICAgICAgIGFzc2VydEVxdWFscygzLCBhZ2UuaW50VmFsdWUoKSk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

