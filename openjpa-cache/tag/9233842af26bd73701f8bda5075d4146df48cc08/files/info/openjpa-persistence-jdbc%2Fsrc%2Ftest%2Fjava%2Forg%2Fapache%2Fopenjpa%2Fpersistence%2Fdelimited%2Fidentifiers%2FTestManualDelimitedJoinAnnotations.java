{"sha":"8efcf533d5e9236d99f5eb387c62c80b5d0a485f","node_id":"MDQ6QmxvYjIwNjM2NDo4ZWZjZjUzM2Q1ZTkyMzZkOTlmNWViMzg3YzYyYzgwYjVkMGE0ODVm","size":5314,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8efcf533d5e9236d99f5eb387c62c80b5d0a485f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnM7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQjJEaWN0aW9uYXJ5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EZXJieURpY3Rp\nb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nT3BlbkpQQUVudGl0eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UudGVzdC5TUUxMaXN0ZW5lclRlc3RDYXNlOwoKcHVi\nbGljIGNsYXNzIFRlc3RNYW51YWxEZWxpbWl0ZWRKb2luQW5ub3RhdGlvbnMg\nZXh0ZW5kcyBTUUxMaXN0ZW5lclRlc3RDYXNlIHsKICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIGVtOwogICAgaW50IGlkID0gMDsKICAgIEVudGl0eUMgZW50\naXR5QzsKICAgIEVudGl0eUQgZW50aXR5RDsKICAgIEVudGl0eUQyIGVudGl0\neUQyOwogICAgRW50aXR5RDMgZW50aXR5RDM7CiAgICBFbnRpdHlENCBlbnRp\ndHlENDsKICAgIEpEQkNDb25maWd1cmF0aW9uIGNvbmY7CiAgICBEQkRpY3Rp\nb25hcnkgZGljdDsKICAgIAogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9p\nZCBzZXRVcCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIC8vIE5PVEU6\nIFRoaXMgdGVzdCBpcyBvbmx5IGNvbmZpZ3VyZWQgdG8gcnVuIG9uIERCMiBh\nbmQgRGVyYnkgc2luY2UgCiAgICAgICAgLy8gdGhvc2UgREJzIGhhbmRsZSBu\nb24tZGVmYXVsdCBzY2hlbWFzIHdpdGhvdXQgYWRkaXRpb25hbCBhdXRob3Jp\ndHkgb3IgCiAgICAgICAgLy8gY29uZmlndXJhdGlvbiAgCiAgICAgICAgc2V0\nU3VwcG9ydGVkRGF0YWJhc2VzKERCMkRpY3Rpb25hcnkuY2xhc3MsIERlcmJ5\nRGljdGlvbmFyeS5jbGFzcyk7CiAgICAgICAgaWYgKGlzVGVzdHNEaXNhYmxl\nZCgpKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgCiAgICAgICAgc3Vw\nZXIuc2V0VXAoCiAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5kZWxpbWl0ZWQuaWRlbnRpZmllcnMuRW50aXR5Qy5jbGFzcywK\nICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmRl\nbGltaXRlZC5pZGVudGlmaWVycy5FbnRpdHlELmNsYXNzLAogICAgICAgICAg\nICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1pdGVkLmlk\nZW50aWZpZXJzLkVudGl0eUQyLmNsYXNzLAogICAgICAgICAgICBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJz\nLkVudGl0eUQzLmNsYXNzLAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuZGVsaW1pdGVkLmlkZW50aWZpZXJzLkVudGl0eUQ0\nLmNsYXNzLAogICAgICAgICAgICBEUk9QX1RBQkxFUyk7CiAgICAgICAgYXNz\nZXJ0Tm90TnVsbChlbWYpOwogICAgICAgIAogICAgICAgIGVtID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVt\nKTsKICAgICAgICAKICAgICAgICBjb25mID0gKEpEQkNDb25maWd1cmF0aW9u\nKSBlbWYuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgIGRpY3QgPSBjb25m\nLmdldERCRGljdGlvbmFyeUluc3RhbmNlKCk7CiAgICB9CiAgICAKICAgIHBy\naXZhdGUgdm9pZCBjcmVhdGVDYW5kRChpbnQgaWQpIHsKICAgICAgICBlbnRp\ndHlDID0gbmV3IEVudGl0eUMoaWQpOwogICAgICAgIGVudGl0eUMuc2V0TmFt\nZSgiZWMiKTsKICAgICAgICBlbnRpdHlDLnNldFNlY05hbWUoInNlY05hbWUx\nIik7CiAgICAgICAgCiAgICAgICAgZW50aXR5RCA9IG5ldyBFbnRpdHlEKGlk\nKTsKICAgICAgICBlbnRpdHlELnNldE5hbWUoImVkIik7CiAgICAgICAgCiAg\nICAgICAgZW50aXR5RDIgPSBuZXcgRW50aXR5RDIoaWQpOwogICAgICAgIGVu\ndGl0eUQyLnNldE5hbWUoImVkMiIpOwogICAgICAgIAogICAgICAgIGVudGl0\neUQzID0gbmV3IEVudGl0eUQzKGlkKTsKICAgICAgICBlbnRpdHlEMy5zZXRO\nYW1lKCJlZDMiKTsKICAgICAgICAKICAgICAgICBlbnRpdHlENCA9IG5ldyBF\nbnRpdHlENChpZCk7CiAgICAgICAgZW50aXR5RDQuc2V0TmFtZSgiZWQ0Iik7\nCiAgICAgICAgCiAgICAgICAgZW50aXR5Qy5hZGRFbnRpdHlEKGVudGl0eUQp\nOwogICAgICAgIGVudGl0eUQuYWRkRW50aXR5QyhlbnRpdHlDKTsKICAgICAg\nICAKICAgICAgICBlbnRpdHlDLnNldEVudGl0eUQyKGVudGl0eUQyKTsKICAg\nICAgICAKICAgICAgICBlbnRpdHlDLmFkZE1hcFZhbHVlcyhlbnRpdHlEMywg\nZW50aXR5RDQpOwogICAgICAgIGVudGl0eUMuYWRkTWFwMlZhbHVlcyhlbnRp\ndHlENCwgZW50aXR5RDMpOwogICAgICAgIAogICAgICAgIGVudGl0eUQyLnNl\ndEVudGl0eUQzKGVudGl0eUQzKTsKICAgIH0KICAgIAogICAgcHVibGljIHZv\naWQgdGVzdENyZWF0ZSgpIHsKICAgICAgICBpZCsrOwogICAgICAgIGNyZWF0\nZUNhbmREKGlkKTsKICAgICAgICAvLyBUT0RPOiBNYXliZSBjcmVhdGUgYW5v\ndGhlciBvbmUuCiAgICAgICAgCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3QoZW50aXR5Qyk7CiAgICAg\nICAgZW0ucGVyc2lzdChlbnRpdHlEKTsKICAgICAgICBlbS5wZXJzaXN0KGVu\ndGl0eUQyKTsKICAgICAgICBlbS5wZXJzaXN0KGVudGl0eUQzKTsKICAgICAg\nICBlbS5wZXJzaXN0KGVudGl0eUQ0KTsKICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAgIHJ1blF1ZXJpZXMo\nKTsKICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHJ1blF1ZXJpZXMoKSB7\nCiAgICAgICAgZW0uY2xlYXIoKTsKICAgICAgICBxdWVyeUpvaW5UYWJsZSgp\nOwogICAgICAgIGVtLmNsZWFyKCk7CiAgICAgICAgcXVlcnlKb2luQ29sdW1u\nKCk7CiAgICAgICAgZW0uY2xlYXIoKTsKICAgICAgICBxdWVyeVNlY29uZGFy\neVRhYmxlVmFsdWUoKTsKICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIHF1\nZXJ5TWFwVmFsdWUoKTsKICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHF1\nZXJ5Sm9pblRhYmxlKCkgewogICAgICAgIFN0cmluZyBxdWVyeSA9CiAgICAg\nICAgICAgICJTRUxFQ1QgYyAiICsKICAgICAgICAgICAgIkZST00gRW50aXR5\nQyBjIEpPSU4gYy5lbnRpdHlEcyBkICIgKwogICAgICAgICAgICAiV0hFUkUg\nZC5uYW1lID0gJ2VkJyI7CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1\nZXJ5KHF1ZXJ5KTsKICAgICAgICBMaXN0PEVudGl0eUM+IHJlc3VsdHMgPSAo\nTGlzdDxFbnRpdHlDPilxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoMSxyZXN1bHRzLnNpemUoKSk7CiAgICB9CiAgICAKICAgIHBy\naXZhdGUgdm9pZCBxdWVyeUpvaW5Db2x1bW4oKSB7CiAgICAgICAgU3RyaW5n\nIHF1ZXJ5ID0gCiAgICAgICAgICAgICJTRUxFQ1QgYyAiICsKICAgICAgICAg\nICAgIkZST00gRW50aXR5QyBjIEpPSU4gYy5lbnRpdHlEMiBkMiAiICsKICAg\nICAgICAgICAgIldIRVJFIGQyLm5hbWUgPSAnZWQyJyI7CiAgICAgICAgUXVl\ncnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KTsKICAgICAgICBMaXN0PEVu\ndGl0eUM+IHJlc3VsdHMgPSAoTGlzdDxFbnRpdHlDPilxLmdldFJlc3VsdExp\nc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSxyZXN1bHRzLnNpemUoKSk7\nCiAgICB9CiAgICAKICAgIHByaXZhdGUgdm9pZCBxdWVyeVNlY29uZGFyeVRh\nYmxlVmFsdWUoKSB7CiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gCiAgICAgICAg\nICAgICJTRUxFQ1QgYyAiICsKICAgICAgICAgICAgIkZST00gRW50aXR5QyBj\nICIgKwogICAgICAgICAgICAiV0hFUkUgYy5zZWNOYW1lID0gJ3NlY05hbWUx\nJyI7CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KTsK\nICAgICAgICBMaXN0PEVudGl0eUM+IHJlc3VsdHMgPSAoTGlzdDxFbnRpdHlD\nPilxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSxy\nZXN1bHRzLnNpemUoKSk7CiAgICB9CiAgICAKICAgIHByaXZhdGUgdm9pZCBx\ndWVyeU1hcFZhbHVlKCkgewogICAgICAgIFN0cmluZyBxdWVyeSA9CiAgICAg\nICAgICAgICJTRUxFQ1QgYyAiICsKICAgICAgICAgICAgIkZST00gRW50aXR5\nQyBjLCBJTihjLm1hcDIpIG0gIiArCiAgICAgICAgICAgICJXSEVSRSBtLm5h\nbWUgPSAnZWQzJyI7CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5\nKHF1ZXJ5KTsKICAgICAgICBMaXN0PEVudGl0eUM+IHJlc3VsdHMgPSAoTGlz\ndDxFbnRpdHlDPilxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoMSxyZXN1bHRzLnNpemUoKSk7CiAgICB9CiAgICAgICAgCiAgICAg\nIAp9Cg==\n","encoding":"base64"}

