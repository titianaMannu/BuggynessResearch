{"sha":"d688ad2a8f785565b9792f4b6660b54dcbdf153b","node_id":"MDQ6QmxvYjIwNjM2NDpkNjg4YWQyYThmNzg1NTY1Yjk3OTJmNGI2NjYwYjU0ZGNiZGYxNTNi","size":4558,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d688ad2a8f785565b9792f4b6660b54dcbdf153b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnMubm9zY2hlbWE7CgppbXBvcnQgamF2YS51dGlsLkxpc3Q7\nCgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQjJEaWN0aW9u\nYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGlj\ndGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5E\nZXJieURpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zcWwuTXlTUUxEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc3FsLk9yYWNsZURpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5B\nbGxvd0ZhaWx1cmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UudGVzdC5TUUxMaXN0ZW5lclRlc3RDYXNlOwoKQEFsbG93RmFpbHVy\nZShtZXNzYWdlPSJUZW1wb3JhcmlseSBhbGxvd2luZyB0aGlzIHRlc3QgdG8g\nZmFpbCB1bnRpbCBjbGVhbnVwICIgKwogICAgIm9yZGVyIGlzc3VlcyBhcmUg\ncmVzb2x2ZWQuIikKcHVibGljIGNsYXNzIFRlc3ROb1NjaGVtYU1hbnVhbERl\nbGltSWQgZXh0ZW5kcyBTUUxMaXN0ZW5lclRlc3RDYXNlIHsKICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIGVtOwogICAgRW50aXR5RiBlbnRpdHlGOwogICAg\nCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgCiAgICAgICAgLy8gVE9ETzogRGVsaW1p\ndGVyIHN1cHBvcnQgaXMgY3VycmVudGx5IGxpbWl0ZWQgdG8gZGF0YWJhc2Ug\ndGhhdCB1c2UKICAgICAgICAvLyBkb3VibGUgcXVvdGUgYXMgYSBkZWxpbWl0\nZXIuCiAgICAgICAgLy8gQWxzbyBEaXNhYmxpbmcgREIyIHVudGlsIGEgU1FM\nQ09ERSAtMjA0IGlzc3VlIGR1cmluZyB0aGUgY2xlYW51cCBwaGFzZSAKICAg\nICAgICAvLyBpcyByZXNvbHZlZC4KICAgICAgICBzZXRVbnN1cHBvcnRlZERh\ndGFiYXNlcyhNeVNRTERpY3Rpb25hcnkuY2xhc3MsIERCMkRpY3Rpb25hcnku\nY2xhc3MpOwogICAgICAgIGlmIChpc1Rlc3RzRGlzYWJsZWQoKSkKICAgICAg\nICAgICAgcmV0dXJuOwogICAgICAgIAogICAgICAgIHN1cGVyLnNldFVwKAog\nICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGVs\naW1pdGVkLmlkZW50aWZpZXJzLm5vc2NoZW1hLkVudGl0eUYuY2xhc3MsCiAg\nICAgICAgICAgIERST1BfVEFCTEVTKTsKICAgICAgICBhc3NlcnROb3ROdWxs\nKGVtZik7CgogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIo\nKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVtKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBjcmVhdGVFbnRpdHlGKCkgewogICAgICAgIGVudGl0eUYgPSBu\nZXcgRW50aXR5RigiZk5hbWUiKTsKICAgICAgICBlbnRpdHlGLnNldE5vbkRl\nbGltTmFtZSgiZk5vbkRlbGltTmFtZSIpOwogICAgICAgIGVudGl0eUYuc2V0\nU2VjTmFtZSgic2VjIG5hbWUiKTsKICAgICAgICBlbnRpdHlGLmFkZENvbGxl\nY3Rpb25TZXQoInh4eCIpOwogICAgICAgIGVudGl0eUYuYWRkQ29sbGVjdGlv\nblNldCgieXl5Iik7CiAgICAgICAgZW50aXR5Ri5hZGRDb2xsZWN0aW9uRGVs\naW1TZXQoImFhYSIpOwogICAgICAgIGVudGl0eUYuYWRkQ29sbGVjdGlvbkRl\nbGltU2V0KCJiYmIiKTsKICAgICAgICBlbnRpdHlGLmFkZENvbGxlY3Rpb25N\nYXAoImFhYSIsICJ4eHgiKTsKICAgICAgICBlbnRpdHlGLmFkZENvbGxlY3Rp\nb25NYXAoImJiYiIsICJ5eXkiKTsKICAgICAgICBlbnRpdHlGLmFkZERlbGlt\nQ29sbGVjdGlvbk1hcCgid3d3IiwgInh4eCIpOwogICAgICAgIGVudGl0eUYu\nYWRkRGVsaW1Db2xsZWN0aW9uTWFwKCJ5eXkiLCAienp6Iik7CiAgICB9CiAg\nICAKICAgIHB1YmxpYyB2b2lkIHRlc3RDcmVhdGVGKCkgewogICAgICAgIGNy\nZWF0ZUVudGl0eUYoKTsKICAgICAgICAKICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0ucGVyc2lzdChlbnRpdHlGKTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAg\nIAogICAgICAgIHJ1blF1ZXJpZXMoKTsKICAgICAgICAKICAgIH0KICAgIAog\nICAgLy8gUnVuIGEgc2Vjb25kIHRpbWUgdG8gcmUtY3JlYXRlIGEgc2l0dWF0\naW9uIHRoYXQgaW5pdGlhbGx5IGNhdXNlZCBhIHByb2JsZW0gd2hlbiBydW5u\naW5nIHRoaXMKICAgIC8vIHRlc3QgY29uc2VjdXRpdmUgdGltZXMuCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0Q3JlYXRlRjIoKSB7CiAgICAgICAgY3JlYXRlRW50\naXR5RigpOwogICAgICAgIAogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsKICAgICAgICBlbS5wZXJzaXN0KGVudGl0eUYpOwogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICB9CiAgICAKICAg\nIHByaXZhdGUgdm9pZCBydW5RdWVyaWVzKCkgewogICAgICAgIGVtLmNsZWFy\nKCk7CiAgICAgICAgcXVlcnlPbkVudGl0eU9ubHkoKTsKICAgICAgICBlbS5j\nbGVhcigpOwogICAgICAgIHF1ZXJ5T25Db2x1bW5WYWx1ZSgpOwogICAgICAg\nIGVtLmNsZWFyKCk7CiAgICAgICAgcXVlcnlDb2xsZWN0aW9uKCk7CiAgICB9\nCiAgICAKICAgIHByaXZhdGUgdm9pZCBxdWVyeU9uRW50aXR5T25seSgpIHsK\nICAgICAgICBTdHJpbmcgcXVlcnkgPQogICAgICAgICAgICAiU0VMRUNUIERJ\nU1RJTkNUIGYgIiArCiAgICAgICAgICAgICJGUk9NIEVudGl0eUYgZiI7CiAg\nICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KTsKICAgICAg\nICBMaXN0PEVudGl0eUY+IHJlc3VsdHMgPSAoTGlzdDxFbnRpdHlGPilxLmdl\ndFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSxyZXN1bHRz\nLnNpemUoKSk7CiAgICB9CiAgICAKICAgIHByaXZhdGUgdm9pZCBxdWVyeU9u\nQ29sdW1uVmFsdWUoKSB7CiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0KICAgICAg\nICAgICAgIlNFTEVDVCBESVNUSU5DVCBmICIgKwogICAgICAgICAgICAiRlJP\nTSBFbnRpdHlGIGYgIiArCiAgICAgICAgICAgICJXSEVSRSBmLm5hbWUgPSAn\nZk5hbWUnIjsKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkocXVl\ncnkpOwogICAgICAgIExpc3Q8RW50aXR5Rj4gcmVzdWx0cyA9IChMaXN0PEVu\ndGl0eUY+KXEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFs\ncygxLHJlc3VsdHMuc2l6ZSgpKTsKICAgIH0KICAgIAogICAgcHJpdmF0ZSB2\nb2lkIHF1ZXJ5Q29sbGVjdGlvbigpIHsKICAgICAgICBTdHJpbmcgcXVlcnkg\nPQogICAgICAgICAgICAiU0VMRUNUIERJU1RJTkNUIGYgIiArCiAgICAgICAg\nICAgICJGUk9NIEVudGl0eUYgZiwgSU4oZi5jb2xsZWN0aW9uRGVsaW1TZXQp\nIHMgIiArCiAgICAgICAgICAgICJXSEVSRSBzID0gJ2FhYSciOwogICAgICAg\nIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSk7CiAgICAgICAgTGlz\ndDxFbnRpdHlGPiByZXN1bHRzID0gKExpc3Q8RW50aXR5Rj4pcS5nZXRSZXN1\nbHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEscmVzdWx0cy5zaXpl\nKCkpOwogICAgfQp9Cg==\n","encoding":"base64"}

