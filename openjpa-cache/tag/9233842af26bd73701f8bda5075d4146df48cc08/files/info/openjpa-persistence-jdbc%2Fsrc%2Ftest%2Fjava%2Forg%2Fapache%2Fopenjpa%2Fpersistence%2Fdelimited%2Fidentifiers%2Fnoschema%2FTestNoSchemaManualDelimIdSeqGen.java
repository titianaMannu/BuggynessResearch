{"sha":"99ddae8f93f1640f967bb6accbd6b2e736d75820","node_id":"MDQ6QmxvYjIwNjM2NDo5OWRkYWU4ZjkzZjE2NDBmOTY3YmI2YWNjYmQ2YjJlNzM2ZDc1ODIw","size":4413,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/99ddae8f93f1640f967bb6accbd6b2e736d75820","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZWxpbWl0ZWQu\naWRlbnRpZmllcnMubm9zY2hlbWE7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQjJEaWN0aW9uYXJ5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5NeVNRTERpY3Rpb25h\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3Bl\nbkpQQUVudGl0eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UudGVzdC5BbGxvd0ZhaWx1cmU7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TUUxMaXN0ZW5lclRlc3RD\nYXNlOwoKQEFsbG93RmFpbHVyZShtZXNzYWdlPSJUZW1wb3JhcmlseSBhbGxv\nd2luZyB0aGlzIHRlc3QgdG8gZmFpbCB1bnRpbCBjbGVhbnVwICIgKwogICAg\nIm9yZGVyIGlzc3VlcyBhcmUgcmVzb2x2ZWQuIikKcHVibGljIGNsYXNzIFRl\nc3ROb1NjaGVtYU1hbnVhbERlbGltSWRTZXFHZW4gZXh0ZW5kcyBTUUxMaXN0\nZW5lclRlc3RDYXNlIHsKICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtOwog\nICAgSkRCQ0NvbmZpZ3VyYXRpb24gY29uZjsKICAgIERCRGljdGlvbmFyeSBk\naWN0OwogICAgYm9vbGVhbiBzdXBwb3J0c05hdGl2ZVNlcXVlbmNlID0gZmFs\nc2U7CiAgICAKICAgIEVudGl0eUUgZW50aXR5RTsKICAgIAogICAgQE92ZXJy\naWRlCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRpb24g\newoKICAgICAgICAvLyBUT0RPOiBEZWxpbWl0ZXIgc3VwcG9ydCBpcyBjdXJy\nZW50bHkgbGltaXRlZCB0byBkYXRhYmFzZSB0aGF0IHVzZQogICAgICAgIC8v\nIGRvdWJsZSBxdW90ZSBhcyBhIGRlbGltaXRlci4KICAgICAgICAvLyBBbHNv\nIERpc2FibGluZyBEQjIgdW50aWwgYSBTUUxDT0RFIC0yMDQgaXNzdWUgZHVy\naW5nIHRoZSBjbGVhbnVwIHBoYXNlIAogICAgICAgIC8vIGlzIHJlc29sdmVk\nLgogICAgICAgIHNldFVuc3VwcG9ydGVkRGF0YWJhc2VzKE15U1FMRGljdGlv\nbmFyeS5jbGFzcywgREIyRGljdGlvbmFyeS5jbGFzcyk7CiAgICAgICAgaWYg\nKGlzVGVzdHNEaXNhYmxlZCgpKQogICAgICAgICAgICByZXR1cm47CiAgICAg\nICAgCiAgICAgICAgc3VwZXIuc2V0VXAoRW50aXR5RS5jbGFzcywgRFJPUF9U\nQUJMRVMpOwogICAgICAgIGFzc2VydE5vdE51bGwoZW1mKTsKICAgICAgICAK\nICAgICAgICBjb25mID0gKEpEQkNDb25maWd1cmF0aW9uKSBlbWYuZ2V0Q29u\nZmlndXJhdGlvbigpOwogICAgICAgIGRpY3QgPSBjb25mLmdldERCRGljdGlv\nbmFyeUluc3RhbmNlKCk7CiAgICAgICAgc3VwcG9ydHNOYXRpdmVTZXF1ZW5j\nZSA9IGRpY3QubmV4dFNlcXVlbmNlUXVlcnkgIT0gbnVsbDsKICAgICAgICAK\nICAgICAgICBpZiAoc3VwcG9ydHNOYXRpdmVTZXF1ZW5jZSkgewogICAgICAg\nICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nICAgIGFzc2VydE5vdE51bGwoZW0pOwogICAgICAgIH0KICAgIH0KICAgIAog\nICAgcHVibGljIHZvaWQgY3JlYXRlRW50aXR5RSgpIHsKICAgICAgICBlbnRp\ndHlFID0gbmV3IEVudGl0eUUoImUgbmFtZSIpOwogICAgfQogICAgCiAgICAv\nLyBUT0RPOiB0ZW1wCi8vICAgIHB1YmxpYyB2b2lkIHRlc3REQkNhcGFiaWxp\ndHkoKSB7Ci8vICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSAoQ29ubmVjdGlv\nbillbS5nZXRDb25uZWN0aW9uKCk7Ci8vICAgICAgICB0cnkgewovLyAgICAg\nICAgICAgIERhdGFiYXNlTWV0YURhdGEgbWV0YSA9IGNvbm4uZ2V0TWV0YURh\ndGEoKTsKLy8gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkxDIC0g\nIiArIAovLyAgICAgICAgICAgICAgICBtZXRhLnN0b3Jlc0xvd2VyQ2FzZUlk\nZW50aWZpZXJzKCkpOwovLyAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRs\nbigiTENRIC0gIiArIAovLyAgICAgICAgICAgICAgICBtZXRhLnN0b3Jlc0xv\nd2VyQ2FzZVF1b3RlZElkZW50aWZpZXJzKCkpOwovLyAgICAgICAgICAgIFN5\nc3RlbS5vdXQucHJpbnRsbigiTUMgLSAiICsgCi8vICAgICAgICAgICAgICAg\nIG1ldGEuc3RvcmVzTWl4ZWRDYXNlSWRlbnRpZmllcnMoKSk7Ci8vICAgICAg\nICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJNQ1EgLSAiICsgCi8vICAgICAg\nICAgICAgICAgIG1ldGEuc3RvcmVzTWl4ZWRDYXNlUXVvdGVkSWRlbnRpZmll\ncnMoKSk7Ci8vICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJVQyAt\nICIgKyAKLy8gICAgICAgICAgICAgICAgbWV0YS5zdG9yZXNVcHBlckNhc2VJ\nZGVudGlmaWVycygpKTsKLy8gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50\nbG4oIlVDUSAtICIgKyAKLy8gICAgICAgICAgICAgICAgbWV0YS5zdG9yZXNV\ncHBlckNhc2VRdW90ZWRJZGVudGlmaWVycygpKTsKLy8gICAgICAgICAgICAK\nLy8gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oImRiIHByb2R1Y3Qg\nbmFtZSAtICIgKyAKLy8gICAgICAgICAgICAgICAgbWV0YS5nZXREYXRhYmFz\nZVByb2R1Y3ROYW1lKCkpOwovLyAgICAgICAgICAgIFN5c3RlbS5vdXQucHJp\nbnRsbigiZGIgcHJvZHVjdCB2ZXJzaW9uIC0gIiArIAovLyAgICAgICAgICAg\nICAgICBtZXRhLmdldERhdGFiYXNlUHJvZHVjdFZlcnNpb24oKSk7Ci8vICAg\nICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJkcml2ZXIgbmFtZSAtICIg\nKyAKLy8gICAgICAgICAgICAgICAgbWV0YS5nZXREcml2ZXJOYW1lKCkpOwov\nLyAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiZHJpdmVyIHZlcnNp\nb24gLSAiICsgCi8vICAgICAgICAgICAgICAgIG1ldGEuZ2V0RHJpdmVyVmVy\nc2lvbigpKTsKLy8gICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7\nCi8vICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKLy8gICAgICAg\nIH0KLy8gICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2VxR2VuKCkg\newogICAgICAgIGlmICghc3VwcG9ydHNOYXRpdmVTZXF1ZW5jZSkgewogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNyZWF0ZUVudGl0\neUUoKTsKICAgICAgICAKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJl\nZ2luKCk7CiAgICAgICAgZW0ucGVyc2lzdChlbnRpdHlFKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIAogICAgICAg\nIFN5c3RlbS5vdXQucHJpbnRsbihzdXBlci50b1N0cmluZyhzcWwpKTsKICAg\nICAgICAKICAgICAgICBpbnQgZ2VuSWQgPSBlbnRpdHlFLmdldElkKCk7CiAg\nICAgICAgZW0uY2xlYXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigp\nLmJlZ2luKCk7CiAgICAgICAgRW50aXR5RSBlQSA9IGVtLmZpbmQoRW50aXR5\nRS5jbGFzcywgZ2VuSWQpOwogICAgICAgIGFzc2VydEVxdWFscygiZSBuYW1l\nIiwgZUEuZ2V0TmFtZSgpKTsKICAgICAgICAKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9\nCn0K\n","encoding":"base64"}

