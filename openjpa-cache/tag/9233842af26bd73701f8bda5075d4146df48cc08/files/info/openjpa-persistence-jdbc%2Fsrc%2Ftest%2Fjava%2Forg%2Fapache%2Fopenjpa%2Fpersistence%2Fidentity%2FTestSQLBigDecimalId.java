{"sha":"1bc69ff21ed5e9c6c9f947d30b44c99c6555c699","node_id":"MDQ6QmxvYjIwNjM2NDoxYmM2OWZmMjFlZDVlOWM2YzlmOTQ3ZDMwYjQ0Yzk5YzY1NTVjNjk5","size":3469,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1bc69ff21ed5e9c6c9f947d30b44c99c6555c699","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuaWRlbnRp\ndHk7CgppbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CgppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKCmltcG9ydCBqdW5pdC50\nZXh0dWkuVGVzdFJ1bm5lcjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5jb25mLkpEQkNDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNxbC5NeVNRTERpY3Rpb25hcnk7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5BbGxvd0Zh\naWx1cmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\ndGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsKCi8qKgogKiBAYXV0aG9yIDxhIGhy\nZWY9Im1haWx0bzptbmFjaGV2QGdtYWlsLmNvbSI+TWlyb3NsYXYgTmFjaGV2\nPC9hPgogKi8KcHVibGljIGNsYXNzIFRlc3RTUUxCaWdEZWNpbWFsSWQKICAg\nIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoKICAgIHB1YmxpYyB2b2lk\nIHNldFVwKCkgewogICAgICAgIHNldFVwKFNRTEJpZ0RlY2ltYWxJZEVudGl0\neS5jbGFzcywgRFJPUF9UQUJMRVMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RQZXJzaXN0KCkgewogICAgICAgIGxvbmcgdGltZSA9ICgobG9uZykg\nKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC8gMTAwMCkpICogMTAwMDsK\nICAgICAgICBCaWdEZWNpbWFsIGRlY2ltYWwgPSBuZXcgQmlnRGVjaW1hbCh0\naW1lKTsKCiAgICAgICAgU1FMQmlnRGVjaW1hbElkRW50aXR5IGUgPSBuZXcg\nU1FMQmlnRGVjaW1hbElkRW50aXR5KCk7CiAgICAgICAgZS5zZXRJZChkZWNp\nbWFsKTsKICAgICAgICBlLnNldERhdGEoMSk7CiAgICAgICAgCiAgICAgICAg\nLy8gdHJpZ2dlciBzY2hlbWEgZGVmaW5pdGlvbgogICAgICAgIEpEQkNDb25m\naWd1cmF0aW9uIGpkYmNjZmcgPSAoSkRCQ0NvbmZpZ3VyYXRpb24pIGVtZi5n\nZXRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3Qg\nPSBqZGJjY2ZnLmdldERCRGljdGlvbmFyeUluc3RhbmNlKCk7CiAgICAgICAg\nLy8gY3VycmVudGx5IEJpZ0RlY2ltYWwgaXMgbWFwcGVkIHRvIE5VTUVSSUMg\nY29sdW1uIHR5cGUuIFRoaXMgY2F1c2VzCiAgICAgICAgLy8gdHJ1bmNhdGlv\nbiBlcnJvciBmcm9tIE15U1FMLiBXaXRob3V0IGtub3dpbmcgdGhlIGltcGxp\nY2F0aW9uIG9mIGNoYW5naW5nIHRoZQogICAgICAgIC8vIG1hcHBpbmcgb2Yg\nQmlnRGVjaW1hbCB1bml2ZXJzYWxseSB0byBET1VCTEUsIEkgd2lsbCBqdXN0\nIGNoYW5nZSB0aGUgbWFwcGluZwogICAgICAgIC8vIGZvciB0aGlzIHRlc3Qg\nY2FzZS4KICAgICAgICBpZiAoZGljdCBpbnN0YW5jZW9mIE15U1FMRGljdGlv\nbmFyeSkgewogICAgICAgICAgICBkaWN0Lm51bWVyaWNUeXBlTmFtZSA9ICJE\nT1VCTEUiOwogICAgICAgIH0KCiAgICAgICAgCiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNp\nc3QoZSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsK\nICAgICAgICBhc3NlcnRFcXVhbHModGltZSwgZS5nZXRJZCgpLmxvbmdWYWx1\nZSgpKTsKICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAgICBlbSA9IGVtZi5j\ncmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZSA9IGVtLmZpbmQoU1FM\nQmlnRGVjaW1hbElkRW50aXR5LmNsYXNzLCBkZWNpbWFsKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoMSwgZS5nZXREYXRhKCkpOwogICAgICAgIGVtLmNsb3Nl\nKCk7CiAgICAgICAgCiAgICB9CiAgICAKICAgIEBBbGxvd0ZhaWx1cmUKICAg\nIHB1YmxpYyB2b2lkIHRlc3RRdWVyeSgpIHsKICAgICAgICBpbnQgZGF0YSA9\nIDE1NjsKICAgICAgICBCaWdEZWNpbWFsIGRlY2ltYWwgPSBuZXcgQmlnRGVj\naW1hbCgxMjM0KTsKICAgICAgICBTUUxCaWdEZWNpbWFsSWRFbnRpdHkgZSA9\nIG5ldyBTUUxCaWdEZWNpbWFsSWRFbnRpdHkoKTsKICAgICAgICBlLnNldElk\nKGRlY2ltYWwpOwogICAgICAgIGUuc2V0RGF0YShkYXRhKTsKCiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIGVtLnBlcnNpc3QoZSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5j\nb21taXQoKTsKCiAgICAgICAgU1FMQmlnRGVjaW1hbElkRW50aXR5IGUyID0K\nICAgICAgICAgICAgKFNRTEJpZ0RlY2ltYWxJZEVudGl0eSkgZW0uY3JlYXRl\nUXVlcnkoIlNFTEVDVCBhIEZST00gU1FMQmlnRGVjaW1hbElkRW50aXR5IGEg\nV0hFUkUgYS5kYXRhPSIgKyBkYXRhKQogICAgICAgICAgICAgICAgLmdldFNp\nbmdsZVJlc3VsdCgpOwogICAgICAgIAogICAgICAgIGFzc2VydEVxdWFscyhl\nLCBlMik7CiAgICAgICAgZW0uY2xvc2UoKTsKCiAgICB9CgogICAgcHVibGlj\nIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIFRl\nc3RSdW5uZXIucnVuKFRlc3RTUUxCaWdEZWNpbWFsSWQuY2xhc3MpOwogICAg\nfQp9Cg==\n","encoding":"base64"}

