{"sha":"c539fa3e10de729a1dc878b77ccea07af336a714","node_id":"MDQ6QmxvYjIwNjM2NDpjNTM5ZmEzZTEwZGU3MjlhMWRjODc4Yjc3Y2NlYTA3YWYzMzZhNzE0","size":9226,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c539fa3e10de729a1dc878b77ccea07af336a714","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5x\ndWVyeS5jYWNoZTsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlN\nYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmRhdGFjYWNoZS5Db25jdXJyZW50UXVl\ncnlDYWNoZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmNvbmYu\nSkRCQ0NvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJz\naXN0ZW5jZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5RdWVyeVJlc3VsdENhY2hlSW1wbDsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuQ2FjaGVNYXA7CgpwdWJsaWMg\nYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RRdWVyeUNhY2hlVGVzdCBleHRlbmRz\nIFNpbmdsZUVNRlRlc3RDYXNlIHsKICAgIHByaXZhdGUgQ2xhc3NbXSBlbnRp\ndHlDbGFzc1R5cGVzID0geyBQYXJ0LmNsYXNzLCBQYXJ0QmFzZS5jbGFzcywg\nCiAgICAgICAgICAgIFBhcnRDb21wb3NpdGUuY2xhc3MsIFN1cHBsaWVyLmNs\nYXNzLCBVc2FnZS5jbGFzc307CiAgICAKICAgIHByb3RlY3RlZCBib29sZWFu\nIGRlbGV0ZURhdGEgPSBmYWxzZTsKICAgIHByb3RlY3RlZCBib29sZWFuIHJl\nY3JlYXRlRGF0YSA9IHRydWU7CiAgICAKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKE9iamVjdC4uLiBwcm9wcykgewogICAgICAgIGludCBhcnJMZW4gPSBlbnRp\ndHlDbGFzc1R5cGVzLmxlbmd0aCArIHByb3BzLmxlbmd0aDsKICAgICAgICBP\nYmplY3QgYXJnc1tdID0gbmV3IE9iamVjdFthcnJMZW5dOwogICAgICAgIAog\nICAgICAgIC8vIEFkZCB0aGUgZW50aXR5IGNsYXNzIHR5cGVzIHN1cHBvcnRl\nZCBieSB0aGlzIHRlc3RpbmcKICAgICAgICBpbnQgaWR4ID0gMDsKICAgICAg\nICBmb3IgKENsYXNzIGNsYXp6IDogZW50aXR5Q2xhc3NUeXBlcykgewogICAg\nICAgICAgICBhcmdzW2lkeCsrXSA9IGNsYXp6OwogICAgICAgIH0KICAgICAg\nICAKICAgICAgICAvLyBBZGQgdGhlIHByb3BlcnR5IHBhcmFtZXRlcnMgcGFz\nc2VkIGluIGJ5IHRoZSBzdWJjbGFzcwogICAgICAgIGZvciAoT2JqZWN0IG9i\naiA6IHByb3BzKSB7CiAgICAgICAgICAgIGFyZ3NbaWR4KytdID0gb2JqOwog\nICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBJbnZva2Ugc3VwZXJjbGFz\ncycgaW1wbGVtZW50YXRpb24gb2Ygc2V0VXAoKS4uLgogICAgICAgIHN1cGVy\nLnNldFVwKGFyZ3MpOwoKICAgICAgICAvLyBOb3QgYWxsIGRhdGFiYXNlcyBz\ndXBwb3J0IEdlbmVyYXRpb25UeXBlLklERU5USVRZIGNvbHVtbihzKQogICAg\nICAgIGlmIChjaGVja1N1cHBvcnRzSWRlbnRpdHlHZW5lcmF0aW9uVHlwZSgp\nICYmIHJlY3JlYXRlRGF0YSkgewogICAgICAgICAgICAvLyBkZWxldGVzIGFu\neSBkYXRhIGxlZnRvdmVyIGRhdGEgaW4gdGhlIGRhdGFiYXNlIGR1ZSB0byB0\naGUgZmFpbGVkCiAgICAgICAgICAgIC8vIGxhc3QgcnVuIG9mIHRoaXMgdGVz\ndGNhc2UKICAgICAgICAgICAgZGVsZXRlQWxsRGF0YSgpOyAKICAgICAgICAg\nICAgcmVDcmVhdGVEYXRhKCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBw\ndWJsaWMgdm9pZCB0ZWFyRG93bigpIHRocm93cyBFeGNlcHRpb24gewogICAg\nICAgIGlmIChkZWxldGVEYXRhKSB7CiAgICAgICAgICAgIGRlbGV0ZUFsbERh\ndGEoKTsKICAgICAgICB9CiAgICB9ICAgIAogICAgCiAgICAvKioKICAgICAq\nIFBvcHVsYXRlIHRoZSBkYXRhYmFzZSB3aXRoIGRhdGEgdGhhdCBpcyBjb25z\ndW1hYmxlIGJ5IHRoZSBxdWVyeSBjYWNoZQogICAgICogdGVzdHMuCiAgICAg\nKiAKICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgcmVDcmVhdGVEYXRhKCkg\newogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4o\nKTsKCiAgICAgICAgU3VwcGxpZXIgczEgPSBuZXcgU3VwcGxpZXIoMSwgIlMx\nIik7CiAgICAgICAgZW0ucGVyc2lzdChzMSk7CiAgICAgICAgU3VwcGxpZXIg\nczIgPSBuZXcgU3VwcGxpZXIoMiwgIlMyIik7CiAgICAgICAgZW0ucGVyc2lz\ndChzMik7CiAgICAgICAgU3VwcGxpZXIgczMgPSBuZXcgU3VwcGxpZXIoMywg\nIlMzIik7CiAgICAgICAgZW0ucGVyc2lzdChzMyk7CgogICAgICAgIFBhcnRC\nYXNlIHAxID0gbmV3IFBhcnRCYXNlKDEwLCAiV2hlZWwiLCAxNTAsIDE1LjAw\nKTsKICAgICAgICBlbS5wZXJzaXN0KHAxKTsKICAgICAgICBQYXJ0QmFzZSBw\nMiA9IG5ldyBQYXJ0QmFzZSgxMSwgIkZyYW1lIiwgNTUwLjAwLCAyNS4wMCk7\nCiAgICAgICAgZW0ucGVyc2lzdChwMik7CiAgICAgICAgUGFydEJhc2UgcDMg\nPSBuZXcgUGFydEJhc2UoMTIsICJIYW5kbGVCYXIiLCAxMjUuMDAsIDgwLjAw\nKTsKICAgICAgICBlbS5wZXJzaXN0KHAzKTsKCiAgICAgICAgczEuYWRkUGFy\ndChwMSkuYWRkUGFydChwMikuYWRkUGFydChwMyk7CiAgICAgICAgczIuYWRk\nUGFydChwMSkuYWRkUGFydChwMyk7CgogICAgICAgIFBhcnRDb21wb3NpdGUg\ncDQgPSBuZXcgUGFydENvbXBvc2l0ZSgyMCwgIkJpa2UiLCAxODAsIDEuMCk7\nCiAgICAgICAgZW0ucGVyc2lzdChwNCk7CiAgICAgICAgcDQuYWRkU3ViUGFy\ndChlbSwgMiwgcDEpLmFkZFN1YlBhcnQoZW0sIDEsIHAyKS5hZGRTdWJQYXJ0\nKGVtLCAxLCBwMyk7CgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29t\nbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJlbW92ZSBhbGwgcm93cyBmcm9tIHRoZSBkYXRhYmFzZS4KICAgICAq\nIAogICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBkZWxldGVBbGxEYXRhKCkg\newogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4o\nKTsKCiAgICAgICAgZW0uY3JlYXRlTmF0aXZlUXVlcnkoImRlbGV0ZSBmcm9t\nIFN1cHBsaWVyX1BhcnQiKS5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgZW0u\nY3JlYXRlUXVlcnkoImRlbGV0ZSBmcm9tIFBhcnRCYXNlIHMiKS5leGVjdXRl\nVXBkYXRlKCk7CiAgICAgICAgZW0uY3JlYXRlUXVlcnkoImRlbGV0ZSBmcm9t\nIFN1cHBsaWVyIHMiKS5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgZW0uY3Jl\nYXRlUXVlcnkoImRlbGV0ZSBmcm9tIFVzYWdlIHUiKS5leGVjdXRlVXBkYXRl\nKCk7CiAgICAgICAgZW0uY3JlYXRlUXVlcnkoImRlbGV0ZSBmcm9tIFBhcnQg\ncCIpLmV4ZWN1dGVVcGRhdGUoKTsKCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rp\nb24oKS5jb21taXQoKTsKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQogICAg\nCiAgICAvKioKICAgICAqIFBvcHVsYXRlIHRoZSBxdWVyeSBjYWNoZSB3aXRo\nIDM1IGVudHJpZXMuCiAgICAgKiAKICAgICAqLwogICAgcHJvdGVjdGVkIHZv\naWQgbG9hZFF1ZXJ5Q2FjaGUoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIFN0cmluZyBxcnkgPSAi\nc2VsZWN0IHAgZnJvbSBQYXJ0QmFzZSBwIHdoZXJlIHAuY29zdCA+ID8xIjsK\nICAgICAgICBmb3IgKGludCBpPTEyMDsgaTwxNTU7IGkrKykgewogICAgICAg\nICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkocXJ5KTsKICAgICAgICAg\nICAgcS5zZXRQYXJhbWV0ZXIoMSwgbmV3IERvdWJsZShpKSk7CiAgICAgICAg\nICAgIHEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIH0KICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBVcGRhdGUgYW4gZW50aXR5IHRoYXQg\naXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBxdWVyaWVzIGluIHRoZSAKICAgICAq\nIHF1ZXJ5IGNhY2hlLgogICAgICogCiAgICAgKi8KICAgIHByb3RlY3RlZCB2\nb2lkIHVwZGF0ZUFuRW50aXR5KCkgewogICAgICAgIEVudGl0eU1hbmFnZXIg\nZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKCiAgICAgICAgLy8gVXBkYXRlIGVu\ndGl0eQogICAgICAgIFBhcnRCYXNlIHAgPSBlbS5maW5kKFBhcnRCYXNlLmNs\nYXNzLDExKTsKICAgICAgICBkb3VibGUgb2xkY29zdCA9IHAuZ2V0Q29zdCgp\nOwogICAgICAgIGlmIChwICE9IG51bGwpIHsKICAgICAgICAgICAgcC5zZXRD\nb3N0KChvbGRjb3N0ICsgMTAuMCkpOwogICAgICAgIH0KCiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5jbG9zZSgp\nOwogICAgfQoKICAgIC8qKgogICAgICogRmV0Y2hlcyBhIHJlZmVyZW5jZSB0\nbyB0aGUgRW50aXR5TWFuYWdlckZhY3RvcnkncyBxdWVyeSBjYWNoZSAKICAg\nICAqIG9iamVjdC4KICAgICAqIAogICAgICovCiAgICBwcm90ZWN0ZWQgQ29u\nY3VycmVudFF1ZXJ5Q2FjaGUgZ2V0UXVlcnlDYWNoZSgpIHsKICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnkgb2VtZiA9IE9wZW5KUEFQZXJz\naXN0ZW5jZS5jYXN0KGVtZik7CiAgICAgICAgUXVlcnlSZXN1bHRDYWNoZUlt\ncGwgc2NhY2hlID0gCiAgICAgICAgICAgIChRdWVyeVJlc3VsdENhY2hlSW1w\nbCkgb2VtZi5nZXRRdWVyeVJlc3VsdENhY2hlKCk7CgogICAgICAgIHJldHVy\nbiAoQ29uY3VycmVudFF1ZXJ5Q2FjaGUpIHNjYWNoZS5nZXREZWxlZ2F0ZSgp\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgY3VycmVudCBz\naXplIG9mIHRoZSBFbnRpdHlNYW5hZ2VyRmFjdG9yeSdzIAogICAgICogcXVl\ncnkgY2FjaGUuCiAgICAgKiAKICAgICAqLwogICAgcHJvdGVjdGVkIGludCBx\ndWVyeUNhY2hlR2V0KCkgewogICAgICAgIENvbmN1cnJlbnRRdWVyeUNhY2hl\nIGRjYWNoZSA9IGdldFF1ZXJ5Q2FjaGUoKTsKICAgICAgICBDYWNoZU1hcCBt\nYXAgPSBkY2FjaGUuZ2V0Q2FjaGVNYXAoKTsKICAgICAgICByZXR1cm4gbWFw\nLnNpemUoKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRy\ndWUgaWYgdGhlIGRhdGFiYXNlIHN1cHBvcnRzIEdlbmVyYXRpb25UeXBlLklE\nRU5USVRZIGNvbHVtbihzKSwKICAgICAqIGZhbHNlIGlmIGl0IGRvZXMgbm90\nLgogICAgICogCiAgICAgKi8KICAgIHByb3RlY3RlZCBib29sZWFuIGNoZWNr\nU3VwcG9ydHNJZGVudGl0eUdlbmVyYXRpb25UeXBlKCkgewogICAgICAgIHJl\ndHVybiAoKChKREJDQ29uZmlndXJhdGlvbikgZW1mLmdldENvbmZpZ3VyYXRp\nb24oKSkuCiAgICAgICAgICAgICAgICBnZXREQkRpY3Rpb25hcnlJbnN0YW5j\nZSgpLnN1cHBvcnRzQXV0b0Fzc2lnbik7CiAgICB9CiAgICAKICAgIC8qCiAg\nICAgKiBDb21tb24gdGVzdHMgLS0gdGhlIGZvbGxvd2luZyB0ZXN0cyBhcmUg\nY29tbW9uIHRvIGFueSBldmljdGlvbiBwb2xpY3kKICAgICAqIHVzZWQgYnkg\nT3BlbkpQQSdzIHF1ZXJ5IGNhY2hlIGltcGxlbWVudGF0aW9uLgogICAgICog\nCiAgICAgKi8KICAgIAogICAgLyoqCiAgICAgKiBUZXN0cyB0aGUgcXVlcnkg\nY2FjaGUgZXZpY3Rpb24gZnVuY3Rpb24gd2l0aCB0aGUgZm9sbG93aW5nIHRl\nc3QgbG9naWM6CiAgICAgKiAKICAgICAqIDEpIFBvcHVsYXRlIHRoZSBxdWVy\neSBjYWNoZSB3aXRoIHRoZSBlbnRyaWVzIHN1cHBsaWVkIGJ5IGxvYWRRdWVy\neUNhY2hlKCkKICAgICAqIDIpIFNsZWVwIDIwbXMgKHRvIGF2b2lkIHJhY2Ug\nY29uZGl0aW9ucyB3aXRoIHRoZSBUaW1lc3RhbXAgZXZpY3Rpb24KICAgICAq\nICAgICAgICAgICAgICAgIHBvbGljeS4pCiAgICAgKiAzKSBVcGRhdGUgb25l\nIG9mIHRoZSBlbnRpdGllcyBhc3NvY2lhdGVkIHdpdGggdGhlIGNhY2hlZCBx\ndWVyaWVzLCBpbgogICAgICogICAgb3JkZXIgdG8gZGlydHkgdGhlIHF1ZXJ5\nIGNhY2hlCiAgICAgKiA0KSBJbnNlcnQgYSByb3cgaW50byB0aGUgZGF0YWJh\nc2UgdmlhIG5hdGl2ZSBxdWVyaWVzICh0aGlzIGFwcHJvYWNoCiAgICAgKiAg\nICBhdm9pZHMgZGlydHlpbmcgdGhlIHF1ZXJ5IGNhY2hlLCBlbnN1cmluZyBz\ndGVwICMzIHJlbWFpbnMgdGhlCiAgICAgKiAgICBjb250cm9sIHN0ZXAuKQog\nICAgICogNSkgV2l0aCBhIGNvbW1vbiBjcml0ZXJpYSBvZiBhbGwgcGFydCBl\nbnRpdGllcyB3aXRoIGEgY29zdCA+IDEyMCwKICAgICAqICAgIGV4YW1pbmUg\ndGhlIHF1ZXJ5IHJlc3VsdCBsaXN0IHNpemVzIGZyb20gYm90aCBhIG5hdGl2\nZSBxdWVyeQogICAgICogICAgc2VsZWN0IGludm9jYXRpb24sIGFuZCBhIEpQ\nQSBxdWVyeSBpbnZvY2F0aW9uLiAgQmVjYXVzZSB0aGUKICAgICAqICAgIHF1\nZXJ5IGNhY2hlIHdhcyBkaXJ0aWVkIGJ5IHN0ZXAgIzMsIHRoZSBKUEEgcXVl\ncnkgc2hvdWxkIGludm9rZQogICAgICogICAgYSBmcmVzaCBTRUxFQ1Qgb3Bl\ncmF0aW9uIG9uIHRoZSBkYXRhYmFzZS4gICAKICAgICAqIAogICAgICovCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0RXZpY3Rpb24oKSB7CiAgICAgICAgLy8gTm90\nIGFsbCBkYXRhYmFzZXMgc3VwcG9ydCBHZW5lcmF0aW9uVHlwZS5JREVOVElU\nWSBjb2x1bW4ocykKICAgICAgICBpZiAoIWNoZWNrU3VwcG9ydHNJZGVudGl0\neUdlbmVyYXRpb25UeXBlKCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAg\nICAgIH0KICAgICAgICAKICAgICAgICBsb2FkUXVlcnlDYWNoZSgpOwogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIFRocmVhZC5zbGVlcCgyMCk7CiAgICAg\nICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkgewogICAgICAg\nICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgIH0KICAgICAgICB1\ncGRhdGVBbkVudGl0eSgpOwoKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0g\nZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmJlZ2luKCk7CgogICAgICAgIFN0cmluZyBpbnNlcnQxID0g\nCiAgICAgICAgICAgICJpbnNlcnQgaW50byBQYXJ0KHBhcnRubyxwYXJ0dHlw\nZSxuYW1lLGNvc3QsbWFzcykiICsKICAgICAgICAgICAgIiB2YWx1ZXMoMTMs\nJ1BhcnRCYXNlJywnYnJlYWtlcycsMTAwMC4wLDEwMC4wKSI7CiAgICAgICAg\nZW0uY3JlYXRlTmF0aXZlUXVlcnkoaW5zZXJ0MSkuZXhlY3V0ZVVwZGF0ZSgp\nOwogICAgICAgIFN0cmluZyBpbnNlcnQyID0gCiAgICAgICAgICAgICJpbnNl\ncnQgaW50byBTdXBwbGllcl9QYXJ0KHN1cHBsaWVyc19zaWQsc3VwcGxpZXNf\ncGFydG5vKSIgKyAKICAgICAgICAgICAgIiB2YWx1ZXMoMSwxMykiOwogICAg\nICAgIGVtLmNyZWF0ZU5hdGl2ZVF1ZXJ5KGluc2VydDIpLmV4ZWN1dGVVcGRh\ndGUoKTsKCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsK\nICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAgICBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOwoKICAgICAgICBTdHJpbmcgc3FsID0gInNlbGVjdCBwYXJ0bm8g\nZnJvbSBQYXJ0IHdoZXJlIGNvc3QgPiAxMjAgIjsKICAgICAgICBRdWVyeSBu\nYXRpdmVxID0gZW0uY3JlYXRlTmF0aXZlUXVlcnkoc3FsKTsKICAgICAgICBp\nbnQgbmF0aXZlbGlzdFNpemUgPSBuYXRpdmVxLmdldFJlc3VsdExpc3QoKS5z\naXplKCk7CgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7\nCiAgICAgICAgZW0uY2xvc2UoKTsKCiAgICAgICAgZW0gPSBlbWYuY3JlYXRl\nRW50aXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoInNl\nbGVjdCBwIGZyb20gUGFydEJhc2UgcCB3aGVyZSBwLmNvc3Q+PzEiKTsKICAg\nICAgICBxLnNldFBhcmFtZXRlcigxLCBuZXcgRG91YmxlKDEyMCkpOwogICAg\nICAgIGludCBqcGFsaXN0U2l6ZSA9IHEuZ2V0UmVzdWx0TGlzdCgpLnNpemUo\nKTsKCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAg\nICAgICBlbS5jbG9zZSgpOwoKICAgICAgICAvLyBUaGUgcmVzdWx0bGlzdCBv\nZiBuYXRpdmVsaXN0IGFuZCBqcGFsaXN0IHNob3VsZCBiZSB0aGUgc2FtZSAK\nICAgICAgICAvLyBpbiBib3RoIGV2aWN0aW9uIHBvbGljaWVzKGRhZmF1bHQv\ndGltZXN0YW1wKQogICAgICAgIGFzc2VydEVxdWFscyhuYXRpdmVsaXN0U2l6\nZSxqcGFsaXN0U2l6ZSk7CgogICAgICAgIHRoaXMuZGVsZXRlRGF0YSA9IHRy\ndWU7CiAgICAgICAgdGhpcy5yZWNyZWF0ZURhdGEgPSB0cnVlOwogICAgfQp9\nCg==\n","encoding":"base64"}

