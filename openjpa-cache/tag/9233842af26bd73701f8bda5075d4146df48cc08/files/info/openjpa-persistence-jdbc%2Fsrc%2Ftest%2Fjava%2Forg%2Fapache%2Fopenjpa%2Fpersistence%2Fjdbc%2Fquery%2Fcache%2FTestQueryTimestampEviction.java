{"sha":"d30d36b03d0bb4ac4a7e1d856a7e55b6de0e97cc","node_id":"MDQ6QmxvYjIwNjM2NDpkMzBkMzZiMDNkMGJiNGFjNGE3ZTFkODU2YTdlNTViNmRlMGU5N2Nj","size":2404,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d30d36b03d0bb4ac4a7e1d856a7e55b6de0e97cc","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5x\ndWVyeS5jYWNoZTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNh\nY2hlLkNvbmN1cnJlbnRRdWVyeUNhY2hlOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmRhdGFjYWNoZS5BYnN0cmFjdFF1ZXJ5Q2FjaGUuRXZpY3RQb2xp\nY3k7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mLkpEQkND\nb25maWd1cmF0aW9uOwoKcHVibGljIGNsYXNzIFRlc3RRdWVyeVRpbWVzdGFt\ncEV2aWN0aW9uIGV4dGVuZHMgQWJzdHJhY3RRdWVyeUNhY2hlVGVzdCB7CiAg\nICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNlcHRpb24gewogICAg\nICAgIHN1cGVyLnNldFVwKAogICAgICAgICAgICAgICAgIm9wZW5qcGEuRGF0\nYUNhY2hlIiwgInRydWUiLAogICAgICAgICAgICAgICAgIm9wZW5qcGEuUXVl\ncnlDYWNoZSIsCiAgICAgICAgICAgICAgICAiQ2FjaGVTaXplPTEwMDAsIEV2\naWN0UG9saWN5PSd0aW1lc3RhbXAnIiwKICAgICAgICAgICAgICAgICJvcGVu\nanBhLlJlbW90ZUNvbW1pdFByb3ZpZGVyIiwgInNqdm0iKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFZlcmlmeSB0aGF0IHRoZSBwZXJzaXN0ZW50IHVuaXQg\ncHJvcGVydHkgY29uZmlndXJhdGlvbiBpcyBlbmFibGluZwogICAgICogdGhl\nIFRJTUVTVEFNUCBFdmljdGlvbiBQb2xpY3kuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHRlc3RUaW1lc3RhbXBFdmljdGlvbkVuYWJsZW1lbnQoKSB7CiAg\nICAgICAgQ29uY3VycmVudFF1ZXJ5Q2FjaGUgcWMgPSBnZXRRdWVyeUNhY2hl\nKCk7CiAgICAgICAgRXZpY3RQb2xpY3kgZXAgPSBxYy5nZXRFdmljdFBvbGlj\neSgpOwogICAgICAgIGFzc2VydFRydWUoZXAgPT0gRXZpY3RQb2xpY3kuVElN\nRVNUQU1QKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdExvYWRR\ndWVyaWVzKCkgewogICAgICAgIC8vIE5vdCBhbGwgZGF0YWJhc2VzIHN1cHBv\ncnQgR2VuZXJhdGlvblR5cGUuSURFTlRJVFkgY29sdW1uKHMpCiAgICAgICAg\naWYgKCEoKEpEQkNDb25maWd1cmF0aW9uKSBlbWYuZ2V0Q29uZmlndXJhdGlv\nbigpKS4KICAgICAgICAgICAgZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKS5z\ndXBwb3J0c0F1dG9Bc3NpZ24pIHsKICAgICAgICAJcmV0dXJuOwogICAgICAg\nIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICBs\nb2FkUXVlcnlDYWNoZSgpOwogICAgICAgIGludCBjYWNoZVNpemVCZWZvcmVV\ncGRhdGUgPSBxdWVyeUNhY2hlR2V0KCk7CiAgICAgICAgdXBkYXRlQW5FbnRp\ndHkoKTsKICAgICAgICBpbnQgY2FjaGVTaXplQWZ0ZXJVcGRhdGUgPSBxdWVy\neUNhY2hlR2V0KCk7CgogICAgICAgIC8vIElmIGV2aWN0UG9saWN5IGlzIHRp\nbWVzdGFtcCB0aGUgcXVlcnljYWNoZSBzaXplIHNob3VsZCBiZSBlcXVhbCB0\nbwogICAgICAgIC8vIGNhY2hlU2l6ZUJlZm9yZVVwZGF0ZSB2YWx1ZS4KICAg\nICAgICBhc3NlcnRFcXVhbHMoY2FjaGVTaXplQmVmb3JlVXBkYXRlLCBjYWNo\nZVNpemVBZnRlclVwZGF0ZSk7CgogICAgICAgIHRoaXMucmVjcmVhdGVEYXRh\nID0gZmFsc2U7CiAgICB9Cn0KCg==\n","encoding":"base64"}

