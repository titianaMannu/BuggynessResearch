{"sha":"cb3a0069582fe07f93edb480b70ae17b686acea5","node_id":"MDQ6QmxvYjIwNjM2NDpjYjNhMDA2OTU4MmZlMDdmOTNlZGI0ODBiNzBhZTE3YjY4NmFjZWE1","size":4299,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cb3a0069582fe07f93edb480b70ae17b686acea5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy51\nbmlxdWU7CgppbXBvcnQgamF2YS51dGlsLkFycmF5czsKaW1wb3J0IGphdmEu\ndXRpbC5MaXN0OwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1h\nbmFnZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5K\nREJDQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zcWwuTXlTUUxEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFj\ndG9yeVNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5PcGVuSlBBRW50aXR5TWFuYWdlclNQSTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLlNRTFNuaWZmZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TUUxMaXN0ZW5l\nclRlc3RDYXNlOwoKcHVibGljIGNsYXNzIFRlc3ROYW1lZFVuaXF1ZUNvbnN0\ncmFpbnRXaXRoWE1MRGVzY3JpcHRvciBleHRlbmRzIFNRTExpc3RlbmVyVGVz\ndENhc2UgewogICAgREJEaWN0aW9uYXJ5IGRpY3Q7CgogICAgQE92ZXJyaWRl\nCiAgICBwdWJsaWMgdm9pZCBzZXRVcChPYmplY3QuLi4gcHJvcHMpIHsKICAg\nICAgICBzdXBlci5zZXRVcChEUk9QX1RBQkxFUywgTmFtZWRVbmlxdWVBLmNs\nYXNzLCBOYW1lZFVuaXF1ZUIuY2xhc3MpOwogICAgfQogICAgCiAgICBwcm90\nZWN0ZWQgU3RyaW5nIGdldFBlcnNpc3RlbmNlVW5pdE5hbWUoKSB7CiAgICAg\nICAgcmV0dXJuICJOYW1lZFVuaXF1ZUNvbnN0cmFpbnRUZXN0IjsKICAgIH0g\nICAgCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RNYXBwaW5nKCkgewogICAg\nICAgIAogICAgICAgIC8vIElmIHRoZSBkYXRhYmFzZSBkb2VzIG5vdCBzdXBw\nb3J0IHVuaXF1ZSBjb25zdHJhaW50cywgZXhpdAogICAgICAgIGlmICghc3Vw\ncG9ydHNVbmlxdWVDb25zdHJhaW50cygpKQogICAgICAgICAgICByZXR1cm47\nCiAgICAgICAgCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVh\ndGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0\nKCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICAvLyBUaGUgYWJvdmUg\nc2hvdWxkIHRyaWdnZXIgc2NoZW1hIGRlZmluaXRpb24KICAgICAgICAKICAg\nICAgICBMaXN0PFN0cmluZz4gc3FscyA9IHN1cGVyLnNxbDsKICAgICAgICAK\nICAgICAgICBhc3NlcnRTUUxGcmFnbm1lbnRzKHNxbHMsICJDUkVBVEUgVEFC\nTEUgTlhfVU5JUVVFX0EiLAogICAgICAgICAgICBnZXRVbmlxdWVDb25zdHJh\naW50KCJ1Y3hhX2YxX2YyIFVOSVFVRSAuKlxcKGYxeCwgZjJ4XFwpIiksIAog\nICAgICAgICAgICBnZXRVbmlxdWVDb25zdHJhaW50KCJ1Y3hhX2YzX2Y0IFVO\nSVFVRSAuKlxcKGYzeCwgZjR4XFwpLioiKSk7CiAgICAgICAgYXNzZXJ0U1FM\nRnJhZ25tZW50cyhzcWxzLCAiQ1JFQVRFIFRBQkxFIE5YX1VOSVFVRV9CIiwK\nICAgICAgICAgICAgZ2V0VW5pcXVlQ29uc3RyYWludCgidWN4Yl9mMV9mMiBV\nTklRVUUgLipcXChmMXgsIGYyeFxcKS4qIikpOwogICAgICAgIGFzc2VydFNR\nTEZyYWdubWVudHMoc3FscywgIkNSRUFURSBUQUJMRSBOWF9VTklRVUVfU0VD\nT05EQVJZIiwKICAgICAgICAgICAgZ2V0VW5pcXVlQ29uc3RyYWludCgidWN4\nYV9zZjEgVU5JUVVFIC4qXFwoc2YxeFxcKSIpKTsKICAgICAgICBhc3NlcnRT\nUUxGcmFnbm1lbnRzKHNxbHMsICJDUkVBVEUgVEFCTEUgTlhfVU5JUVVFX0dF\nTkVSQVRPUiIsCiAgICAgICAgICAgIGdldFVuaXF1ZUNvbnN0cmFpbnQoInVj\neGJfZ2VuMV9nZW4yIFVOSVFVRSAuKlxcKEdFTjFfWE1MLCBHRU4yX1hNTFxc\nKSIpKTsKICAgICAgICBhc3NlcnRTUUxGcmFnbm1lbnRzKHNxbHMsICJDUkVB\nVEUgVEFCTEUgTlhfVU5JUVVFX0pPSU5UQUJMRSIsCiAgICAgICAgICAgIGdl\ndFVuaXF1ZUNvbnN0cmFpbnQoInVjeGFfZmthX2ZrYiBVTklRVUUgLipcXChG\nS19BX1hNTCwgRktfQl9YTUxcXCkiKSk7CiAgICAgICAgYXNzZXJ0U1FMRnJh\nZ25tZW50cyhzcWxzLCAiQ1JFQVRFIFRBQkxFIE5YX1VfQ09MTF9UQkwiLAog\nICAgICAgICAgICBnZXRVbmlxdWVDb25zdHJhaW50KCJ1Y3hiX2YzIFVOSVFV\nRSAuKlxcKGYzeFxcKS4qIikpOwogICAgfQogICAgICAgIAogICAgcHJpdmF0\nZSBib29sZWFuIHN1cHBvcnRzVW5pcXVlQ29uc3RyYWludHMoKSB7CiAgICAg\nICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJIGVtZnMgPSAoT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKWVtZjsKICAgICAgICBKREJD\nQ29uZmlndXJhdGlvbiBqZGJjY2ZnID0gKEpEQkNDb25maWd1cmF0aW9uKWVt\nZnMuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgIGRpY3QgPSBqZGJjY2Zn\nLmdldERCRGljdGlvbmFyeUluc3RhbmNlKCk7CiAgICAgICAgcmV0dXJuIGRp\nY3Quc3VwcG9ydHNVbmlxdWVDb25zdHJhaW50czsKICAgIH0KCiAgICBwcml2\nYXRlIFN0cmluZyBnZXRVbmlxdWVDb25zdHJhaW50KFN0cmluZyB1bmlxdWUp\nIHsKICAgICAgICBpZiAoZGljdCBpbnN0YW5jZW9mIE15U1FMRGljdGlvbmFy\neSkgewogICAgICAgICAgICAvL0NSRUFURSBUQUJMRSBOX1VOSVFVRV9BIChh\naWQgSU5URUdFUiBOT1QgTlVMTCwgZjEgSU5URUdFUiBOT1QgTlVMTCwgZjIg\nSU5URUdFUiBOT1QgTlVMTCwgCiAgICAgICAgICAgIC8vZjMgSU5URUdFUiBO\nT1QgTlVMTCwgZjQgSU5URUdFUiBOT1QgTlVMTCwgZjUgSU5URUdFUiwgZjYg\nSU5URUdFUiwgUFJJTUFSWSBLRVkgKGFpZCksIAogICAgICAgICAgICAvL1VO\nSVFVRSBVX05fVU5RVV9fRjEgKGYxKSwgCiAgICAgICAgICAgIC8vVU5JUVVF\nIHVjYV9mMV9mMiAoZjEsIGYyKSwgCiAgICAgICAgICAgIC8vVU5JUVVFIHVj\nYV9mM19mNCAoZjMsIGY0KSkgVFlQRSA9IGlubm9kYgogICAgICAgICAgICBy\nZXR1cm4gVGVzdE5hbWVkVW5pcXVlQ29uc3RyYWludC5nZXRVbmlxdWVDb25z\ndHJhaW50KGRpY3QsIHVuaXF1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVy\nbiB1bmlxdWU7CiAgICB9CiAgICAKICAgIHZvaWQgYXNzZXJ0U1FMRnJhZ25t\nZW50cyhMaXN0PFN0cmluZz4gbGlzdCwgU3RyaW5nLi4uIGtleXMpIHsKICAg\nICAgICBpZiAoU1FMU25pZmZlci5tYXRjaGVzKGxpc3QsIGtleXMpKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgZmFpbCgiTm9uZSBvZiB0aGUgZm9s\nbG93aW5nICIgKyBzcWwuc2l6ZSgpICsgIiBTUUwgXHJcbiIgKyAKICAgICAg\nICAgICAgICAgIHRvU3RyaW5nKHNxbCkgKyAiXHJcbiBjb250YWlucyBhbGwg\na2V5cyBcclxuIgogICAgICAgICAgICAgICAgKyB0b1N0cmluZyhBcnJheXMu\nYXNMaXN0KGtleXMpKSk7CiAgICB9Cn0K\n","encoding":"base64"}

