{"sha":"37aaba46b0d72c5fa3dd8427a441a29ba24a8967","node_id":"MDQ6QmxvYjIwNjM2NDozN2FhYmE0NmIwZDcyYzVmYTNkZDg0MjdhNDQxYTI5YmEyNGE4OTY3","size":4171,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/37aaba46b0d72c5fa3dd8427a441a29ba24a8967","content":"LyoKICogVGVzdERhdGVRdWVyaWVzLmphdmEKICoKICogQ3JlYXRlZCBvbiBP\nY3RvYmVyIDEwLCAyMDA2LCAxOjI4IFBNCiAqCiAqIFRvIGNoYW5nZSB0aGlz\nIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2VyCiAq\nIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8KCi8q\nCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlv\nbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNl\nbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3Ry\naWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0\naW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFT\nRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFj\naGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5\nb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNl\nCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkg\nb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3Jn\nL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBi\neSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICog\nc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlz\ndHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJS\nQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBl\neHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQog\nKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICovCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbDsK\nCmltcG9ydCBqYXZhLnRleHQuU2ltcGxlRGF0ZUZvcm1hdDsKaW1wb3J0IGph\ndmEudXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkRhdGU7Cmlt\ncG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuTGlz\ndDsKaW1wb3J0IGphdmEudXRpbC5Mb2NhbGU7CgoKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLkFs\nbEZpZWxkVHlwZXNUZXN0OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBUXVlcnk7CgpwdWJs\naWMgY2xhc3MgVGVzdERhdGVRdWVyaWVzIGV4dGVuZHMgQmFzZUtlcm5lbFRl\nc3QgewoKICAgIHByaXZhdGUgT3BlbkpQQUVudGl0eU1hbmFnZXIgX3BtID0g\nbnVsbDsKICAgIHByaXZhdGUgRGF0ZSBfZGF0ZSA9IG51bGw7CiAgICBwcml2\nYXRlIERhdGUgX2JlZm9yZSA9IG51bGw7CiAgICBwcml2YXRlIERhdGUgX2Fm\ndGVyID0gbnVsbDsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgaW5z\ndGFuY2Ugb2YgVGVzdERhdGVRdWVyaWVzCiAgICAgKi8KICAgIHB1YmxpYyBU\nZXN0RGF0ZVF1ZXJpZXMoKSB7CiAgICB9CgogICAgcHVibGljIFRlc3REYXRl\nUXVlcmllcyhTdHJpbmcgbmFtZSkgewogICAgICAgIHN1cGVyKG5hbWUpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkKICAgICAgICB0aHJvd3Mg\nRXhjZXB0aW9uIHsKICAgICAgICBzdXBlci5zZXRVcChBbGxGaWVsZFR5cGVz\nVGVzdC5jbGFzcyk7CgogICAgICAgIFNpbXBsZURhdGVGb3JtYXQgc2RmID0g\nbmV3IFNpbXBsZURhdGVGb3JtYXQoIk1NTU1NIGRkLCB5eXl5IiwKICAgICAg\nICAgICAgTG9jYWxlLlVTKTsKICAgICAgICBfZGF0ZSA9IHNkZi5wYXJzZSgi\nQXByaWwgMjYsIDE5NzgiKTsKICAgICAgICBfYmVmb3JlID0gc2RmLnBhcnNl\nKCJBcHJpbCAyNSwgMTk3OCIpOwogICAgICAgIF9hZnRlciA9IHNkZi5wYXJz\nZSgiQXByaWwgMjcsIDE5NzgiKTsKICAgICAgICBfcG0gPSBnZXRQTSgpOwoK\nICAgICAgICAvLyBjcmVhdGUgc29tZSBpbnN0YW5jZXMgdG8gcXVlcnkgb24K\nICAgICAgICBzdGFydFR4KF9wbSk7CiAgICAgICAgQWxsRmllbGRUeXBlc1Rl\nc3QgdGVzdCA9IG5ldyBBbGxGaWVsZFR5cGVzVGVzdCgpOwogICAgICAgIHRl\nc3Quc2V0VGVzdERhdGUoX2RhdGUpOwogICAgICAgIF9wbS5wZXJzaXN0KHRl\nc3QpOwoKICAgICAgICB0ZXN0ID0gbmV3IEFsbEZpZWxkVHlwZXNUZXN0KCk7\nCiAgICAgICAgdGVzdC5zZXRUZXN0RGF0ZShfYmVmb3JlKTsKICAgICAgICBf\ncG0ucGVyc2lzdCh0ZXN0KTsKCiAgICAgICAgdGVzdCA9IG5ldyBBbGxGaWVs\nZFR5cGVzVGVzdCgpOwogICAgICAgIHRlc3Quc2V0VGVzdERhdGUoX2FmdGVy\nKTsKICAgICAgICBfcG0ucGVyc2lzdCh0ZXN0KTsKICAgICAgICBlbmRUeChf\ncG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RFcXVhbHMoKSB7CiAg\nICAgICAgQ29sbGVjdGlvbiB2YWxzID0gZXhlY3V0ZVF1ZXJ5KCJ0ZXN0RGF0\nZSA9IDpkYXRlIik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHZhbHMuc2l6\nZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoX2RhdGUsICgoQWxsRmllbGRU\neXBlc1Rlc3QpIHZhbHMuaXRlcmF0b3IoKS5uZXh0KCkpLgogICAgICAgICAg\nICBnZXRUZXN0RGF0ZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nTm90RXF1YWxzKCkgewogICAgICAgIENvbGxlY3Rpb24gdmFscyA9IGV4ZWN1\ndGVRdWVyeSgidGVzdERhdGUgPD4gOmRhdGUiKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoMiwgdmFscy5zaXplKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RCZWZvcmUoKSB7CiAgICAgICAgQ29sbGVjdGlvbiB2YWxzID0gZXhl\nY3V0ZVF1ZXJ5KCJ0ZXN0RGF0ZSA8IDpkYXRlIik7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEsIHZhbHMuc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nX2JlZm9yZSwgKChBbGxGaWVsZFR5cGVzVGVzdCkgdmFscy5pdGVyYXRvcigp\nLm5leHQoKSkuCiAgICAgICAgICAgIGdldFRlc3REYXRlKCkpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RBZnRlcigpIHsKICAgICAgICBDb2xsZWN0\naW9uIHZhbHMgPSBleGVjdXRlUXVlcnkoInRlc3REYXRlID4gOmRhdGUiKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoMSwgdmFscy5zaXplKCkpOwogICAgICAg\nIGFzc2VydEVxdWFscyhfYWZ0ZXIsICgoQWxsRmllbGRUeXBlc1Rlc3QpIHZh\nbHMuaXRlcmF0b3IoKS5uZXh0KCkpLgogICAgICAgICAgICBnZXRUZXN0RGF0\nZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3JkZXJCeSgpIHsK\nICAgICAgICBTdHJpbmcgcXVlcnkgPQogICAgICAgICAgICAiU0VMRUNUIG8g\nRlJPTSBBbGxGaWVsZFR5cGVzVGVzdCBvIE9SREVSIEJZIG8udGVzdERhdGUg\nQVNDIjsKICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IF9wbS5jcmVhdGVRdWVy\neShxdWVyeSk7CiAgICAgICAgTGlzdCB2YWxzID0gcS5nZXRSZXN1bHRMaXN0\nKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHZhbHMuc2l6ZSgpKTsKCiAg\nICAgICAgSXRlcmF0b3IgaSA9IHZhbHMuaXRlcmF0b3IoKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoX2JlZm9yZSwgKChBbGxGaWVsZFR5cGVzVGVzdCkgaS5u\nZXh0KCkpLmdldFRlc3REYXRlKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhf\nZGF0ZSwgKChBbGxGaWVsZFR5cGVzVGVzdCkgaS5uZXh0KCkpLmdldFRlc3RE\nYXRlKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhfYWZ0ZXIsICgoQWxsRmll\nbGRUeXBlc1Rlc3QpIGkubmV4dCgpKS5nZXRUZXN0RGF0ZSgpKTsKICAgIH0K\nCiAgICBwcml2YXRlIExpc3QgZXhlY3V0ZVF1ZXJ5KFN0cmluZyBmaWx0ZXIp\nIHsKICAgICAgICBTdHJpbmcgcXVlcnkgPSAiU0VMRUNUIG8gRlJPTSBBbGxG\naWVsZFR5cGVzVGVzdCBvIFdIRVJFIG8uIiArIGZpbHRlcjsKICAgICAgICBP\ncGVuSlBBUXVlcnkgcSA9IF9wbS5jcmVhdGVRdWVyeShxdWVyeSk7CiAgICAg\nICAgcS5zZXRQYXJhbWV0ZXIoImRhdGUiLCBfZGF0ZSk7CiAgICAgICAgcmV0\ndXJuIHEuZ2V0UmVzdWx0TGlzdCgpOwogICAgfQp9Cg==\n","encoding":"base64"}

