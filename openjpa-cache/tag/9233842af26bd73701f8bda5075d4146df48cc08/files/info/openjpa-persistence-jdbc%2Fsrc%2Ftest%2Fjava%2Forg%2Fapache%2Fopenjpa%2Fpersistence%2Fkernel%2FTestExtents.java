{"sha":"d2e3d394eb00416a0e61fafb54250f3667e005b9","node_id":"MDQ6QmxvYjIwNjM2NDpkMmUzZDM5NGViMDA0MTZhMGU2MWZhZmI1NDI1MGYzNjY3ZTAwNWI5","size":3713,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d2e3d394eb00416a0e61fafb54250f3667e005b9","content":"LyoKICogVGVzdEV4dGVudHMuamF2YQogKgogKiBDcmVhdGVkIG9uIE9jdG9i\nZXIgMTAsIDIwMDYsIDQ6MzQgUE0KICoKICogVG8gY2hhbmdlIHRoaXMgdGVt\ncGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRlIE1hbmFnZXIKICogYW5k\nIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0b3IuCiAqLwoKLyoKICog\nTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChB\nU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2Ug\nYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJpYnV0\nZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24K\nICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxp\nY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBM\naWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlvdSBt\nYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKICog\nd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0\naGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGlj\nZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFw\ncGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0\nd2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmli\ndXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJ\nRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJl\nc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNw\nZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGlt\naXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsOwoKaW1w\nb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkl0\nZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxpbmtlZExpc3Q7CmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsKCgoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUnVudGltZVRlc3QxOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5j\nb21tb24uYXBwcy5SdW50aW1lVGVzdDI7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLkV4dGVudDsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKCnB1\nYmxpYyBjbGFzcyBUZXN0RXh0ZW50cyBleHRlbmRzIEJhc2VLZXJuZWxUZXN0\nIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2Yg\nVGVzdEV4dGVudHMKICAgICAqLwogICAgcHVibGljIFRlc3RFeHRlbnRzKCkg\newogICAgfQoKICAgIHB1YmxpYyBUZXN0RXh0ZW50cyhTdHJpbmcgbmFtZSkg\newogICAgICAgIHN1cGVyKG5hbWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgc3VwZXIuc2V0\nVXAoUnVudGltZVRlc3QxLmNsYXNzLCBSdW50aW1lVGVzdDIuY2xhc3MpOwoK\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKCk7CiAg\nICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIFJ1bnRpbWVUZXN0MSBiID0g\nbmV3IFJ1bnRpbWVUZXN0MSgiU1RSSU5HIiwgMTApOwogICAgICAgIFJ1bnRp\nbWVUZXN0MiBjID0gbmV3IFJ1bnRpbWVUZXN0MigiU1RSSU5HMiIsIDExKTsK\nICAgICAgICBwbS5wZXJzaXN0KGIpOwogICAgICAgIHBtLnBlcnNpc3QoYyk7\nCgogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdEV4dGVudDEoKSB7CgogICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBFeHRl\nbnQgZXh0ID0gcG0uY3JlYXRlRXh0ZW50KFJ1bnRpbWVUZXN0MS5jbGFzcywg\nZmFsc2UpOwoKICAgICAgICBhc3NlcnRFcXVhbHMocG0sIGV4dC5nZXRFbnRp\ndHlNYW5hZ2VyKCkpOwoKICAgICAgICBhc3NlcnRFcXVhbHMoUnVudGltZVRl\nc3QxLmNsYXNzLCBleHQuZ2V0RWxlbWVudENsYXNzKCkpOwogICAgICAgIGFz\nc2VydFRydWUoIWV4dC5oYXNTdWJjbGFzc2VzKCkpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHRlc3RFeHRlbnQyKCkgewogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBFeHRlbnQgZXh0ID0g\ncG0uY3JlYXRlRXh0ZW50KFJ1bnRpbWVUZXN0MS5jbGFzcywgZmFsc2UpOwoK\nICAgICAgICBib29sZWFuIGZvdW5kID0gZmFsc2U7CiAgICAgICAgZm9yIChJ\ndGVyYXRvciBpID0gZXh0Lml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgpOyBmb3Vu\nZCA9IHRydWUpCiAgICAgICAgICAgIGFzc2VydEVxdWFscyhSdW50aW1lVGVz\ndDEuY2xhc3MsIGkubmV4dCgpLmdldENsYXNzKCkpOwogICAgICAgIGFzc2Vy\ndFRydWUoZm91bmQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RFeHRl\nbnQzKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0\nUE0oKTsKICAgICAgICBFeHRlbnQgZXh0ID0gcG0uY3JlYXRlRXh0ZW50KFJ1\nbnRpbWVUZXN0MS5jbGFzcywgdHJ1ZSk7CgogICAgICAgIGJvb2xlYW4gZm91\nbmRCID0gZmFsc2U7CiAgICAgICAgZm9yIChJdGVyYXRvciBpID0gZXh0Lml0\nZXJhdG9yKCk7IGkuaGFzTmV4dCgpOykKICAgICAgICAgICAgaWYgKGkubmV4\ndCgpLmdldENsYXNzKCkuZXF1YWxzKFJ1bnRpbWVUZXN0Mi5jbGFzcykpCiAg\nICAgICAgICAgICAgICBmb3VuZEIgPSB0cnVlOwogICAgICAgIGFzc2VydFRy\ndWUoZm91bmRCKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RXh0ZW50\nNCgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBN\nKCk7CiAgICAgICAgRXh0ZW50IGV4dCA9IHBtLmNyZWF0ZUV4dGVudChSdW50\naW1lVGVzdDEuY2xhc3MsIHRydWUpOwoKICAgICAgICBMaXN0IGFsbCA9IG5l\ndyBMaW5rZWRMaXN0KCk7CiAgICAgICAgZm9yIChJdGVyYXRvciBpID0gZXh0\nLml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgpOykKICAgICAgICAgICAgYWxsLmFk\nZChpLm5leHQoKSk7CgogICAgICAgIExpc3QgYUxpc3QgPSBleHQubGlzdCgp\nOwogICAgICAgIGFzc2VydEVxdWFscyhhbGwuc2l6ZSgpLCBhTGlzdC5zaXpl\nKCkpOwogICAgICAgIGFzc2VydENvbnRhaW5zU2FtZShhbGwsIGFMaXN0KTsK\nICAgIH0KCiAgICBwcml2YXRlIHZvaWQgYXNzZXJ0Q29udGFpbnNTYW1lKExp\nc3QgbCwgQ29sbGVjdGlvbiBjKSB7CiAgICAgICAgaW50IHNpemUgPSAwOwog\nICAgICAgIGZvciAoSXRlcmF0b3IgaXRlciA9IGMuaXRlcmF0b3IoKTsgaXRl\nci5oYXNOZXh0KCk7IGl0ZXIubmV4dCgpKQogICAgICAgICAgICBzaXplKys7\nCgogICAgICAgIGFzc2VydEVxdWFscyhsLnNpemUoKSwgc2l6ZSk7CgogICAg\nICAgIGZvciAoSXRlcmF0b3IgaXRlciA9IGwuaXRlcmF0b3IoKTsgaXRlci5o\nYXNOZXh0KCk7KQogICAgICAgICAgICBhc3NlcnRUcnVlKGMuY29udGFpbnMo\naXRlci5uZXh0KCkpKTsKICAgIH0KfQo=\n","encoding":"base64"}

