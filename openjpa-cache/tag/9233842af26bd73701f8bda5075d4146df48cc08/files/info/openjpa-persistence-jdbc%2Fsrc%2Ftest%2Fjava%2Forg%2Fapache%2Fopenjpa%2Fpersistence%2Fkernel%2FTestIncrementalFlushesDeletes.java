{"sha":"7e02e2bff30bbf66ef2310c55407a41fdfc82dfb","node_id":"MDQ6QmxvYjIwNjM2NDo3ZTAyZTJiZmYzMGJiZjY2ZWYyMzEwYzU1NDA3YTQxZmRmYzgyZGZi","size":4042,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7e02e2bff30bbf66ef2310c55407a41fdfc82dfb","content":"LyoKICogVGVzdEluY3JlbWVudGFsRmx1c2hlc0RlbGV0ZXMuamF2YQogKgog\nKiBDcmVhdGVkIG9uIE9jdG9iZXIgMTIsIDIwMDYsIDExOjM4IEFNCiAqCiAq\nIFRvIGNoYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1w\nbGF0ZSBNYW5hZ2VyCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUg\nZWRpdG9yLgogKi8KCi8qCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29m\ndHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBj\nb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElD\nRSBmaWxlCiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRp\ndGlvbmFsIGluZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3du\nZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91\nIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQog\nKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2Vw\ndCBpbiBjb21wbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5\nIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDov\nL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVu\nbGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8g\naW4gd3JpdGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhl\nIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAq\nIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExp\nY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcg\ncGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNl\nbnNlLiAgICAKICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmtlcm5lbDsKCgoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUnVudGltZVRlc3QxOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5j\nb21tb24uYXBwcy5SdW50aW1lVGVzdDI7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLlJ1bnRpbWVU\nZXN0MzsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLk9wZW5K\nUEFTdGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2Vy\nbmVsLlBDU3RhdGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CgpwdWJsaWMgY2xhc3MgVGVz\ndEluY3JlbWVudGFsRmx1c2hlc0RlbGV0ZXMgZXh0ZW5kcyBCYXNlS2VybmVs\nVGVzdCB7CgogICAgcHJpdmF0ZSBPcGVuSlBBRW50aXR5TWFuYWdlciBwbTsK\nICAgIHByaXZhdGUgT2JqZWN0IG9pZDsKICAgIHByaXZhdGUgUnVudGltZVRl\nc3QxIGE7CgogICAgcHVibGljIFRlc3RJbmNyZW1lbnRhbEZsdXNoZXNEZWxl\ndGVzKFN0cmluZyBzdHIpIHsKICAgICAgICBzdXBlcihzdHIpOwogICAgfQoK\nICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0\nSW5jcmVtZW50YWxGbHVzaGVzRGVsZXRlcwogICAgICovCiAgICBwdWJsaWMg\nVGVzdEluY3JlbWVudGFsRmx1c2hlc0RlbGV0ZXMoKSB7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0VXAoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAg\nICBzdXBlci5zZXRVcChSdW50aW1lVGVzdDEuY2xhc3MsIFJ1bnRpbWVUZXN0\nMi5jbGFzcywgUnVudGltZVRlc3QzLmNsYXNzKTsKCiAgICAgICAgcG0gPSBn\nZXRQTSh0cnVlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAg\nICAgYSA9IG5ldyBSdW50aW1lVGVzdDEoImZvbyIsIDEwKTsKICAgICAgICBw\nbS5wZXJzaXN0KGEpOwogICAgICAgIG9pZCA9IHBtLmdldE9iamVjdElkKGEp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkgdGhyb3dzIEV4\nY2VwdGlvbiB7CiAgICAgICAgZW5kVHgocG0pOwoKICAgICAgICBPcGVuSlBB\nRW50aXR5TWFuYWdlciBuZXdQbSA9IGdldFBNKCk7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgT2JqZWN0IG8gPSBuZXdQbS5maW5kKFJ1bnRpbWVUZXN0\nMS5jbGFzcywgb2lkKTsKICAgICAgICAgICAgaWYgKG8gIT0gbnVsbCkgewog\nICAgICAgICAgICAgICAgZmFpbCgic2hvdWxkIG5vdCBiZSBhYmxlIHRvIGxv\nYWQgZGVsZXRlZCBvYmplY3QiKTsKICAgICAgICAgICAgfQogICAgICAgIH0g\nY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIC8vIGV4cGVjdGVk\nIGNhc2UKICAgICAgICB9CgogICAgICAgIGVuZEVtKG5ld1BtKTsKICAgICAg\nICBlbmRFbShwbSk7CgogICAgICAgIHN1cGVyLnRlYXJEb3duKCk7CiAgICB9\nCgogICAgcHJpdmF0ZSB2b2lkIGFzc2VydFN0YXRlKFBDU3RhdGUgc3RhdGUs\nIGJvb2xlYW4gZmx1c2hlZCkgewogICAgICAgIE9wZW5KUEFTdGF0ZU1hbmFn\nZXIgc20gPSBnZXRTdGF0ZU1hbmFnZXIoYSwgcG0pOwogICAgICAgIGFzc2Vy\ndE5vdE51bGwoc20pOwogICAgICAgIGFzc2VydEVxdWFscyhmbHVzaGVkLCBz\nbS5pc0ZsdXNoZWQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHN0YXRlLCBz\nbS5nZXRQQ1N0YXRlKCkpOwogICAgfQoKICAgIC8qKgogICAgICogUE5ldyA9\nPiBQTmV3RGVsZXRlZAogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0TmV3\nRGVsZXRlZCgpIHsKICAgICAgICBwbS5yZW1vdmUoYSk7CiAgICAgICAgYXNz\nZXJ0U3RhdGUoUENTdGF0ZS5QTkVXREVMRVRFRCwgZmFsc2UpOwogICAgfQoK\nICAgIC8qKgogICAgICogUE5ldyA9PiBQTmV3RGVsZXRlZCA9PiBQTmV3RGVs\nZXRlZEZsdXNoZWQKICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdE5ld0Rl\nbGV0ZWRGbHVzaGVkKCkgewogICAgICAgIHBtLnJlbW92ZShhKTsKICAgICAg\nICBhc3NlcnRTdGF0ZShQQ1N0YXRlLlBORVdERUxFVEVELCBmYWxzZSk7CiAg\nICAgICAgcG0uZmx1c2goKTsKICAgICAgICBhc3NlcnRTdGF0ZShQQ1N0YXRl\nLlBORVdERUxFVEVELCB0cnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFBO\nZXcgPT4gUE5ld0ZsdXNoZWQgPT4gUE5ld0ZsdXNoZWREZWxldGVkCiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHRlc3ROZXdGbHVzaGVkRGVsZXRlZCgpIHsK\nICAgICAgICBwbS5mbHVzaCgpOwogICAgICAgIGFzc2VydFN0YXRlKFBDU3Rh\ndGUuUE5FVywgdHJ1ZSk7CiAgICAgICAgcG0ucmVtb3ZlKGEpOwogICAgICAg\nIGFzc2VydFN0YXRlKFBDU3RhdGUuUE5FV0ZMVVNIRURERUxFVEVELCB0cnVl\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFBOZXcgPT4gUE5ld0ZsdXNoZWQg\nPT4gUE5ld0ZsdXNoZWREZWxldGVkID0+IFBOZXdGbHVzaGVkRGVsZXRlZEZs\ndXNoZWQKICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdE5ld0ZsdXNoZWRE\nZWxldGVkRmx1c2hlZCgpIHsKICAgICAgICBwbS5mbHVzaCgpOwogICAgICAg\nIGFzc2VydFN0YXRlKFBDU3RhdGUuUE5FVywgdHJ1ZSk7CiAgICAgICAgcG0u\ncmVtb3ZlKGEpOwogICAgICAgIGFzc2VydFN0YXRlKFBDU3RhdGUuUE5FV0ZM\nVVNIRURERUxFVEVELCB0cnVlKTsKICAgICAgICBwbS5mbHVzaCgpOwogICAg\nICAgIGFzc2VydFN0YXRlKFBDU3RhdGUuUE5FV0ZMVVNIRURERUxFVEVERkxV\nU0hFRCwgdHJ1ZSk7CiAgICB9CgovKgoqIAkjIyMgc29tZSByZW1haW5pbmcg\ndGVzdCBkZWxldGVzOgoqCQlQRGlydHkgPT4gUERlbGV0ZWQgPT4gUERlbGV0\nZWRGbHVzaGVkCiogICAgICAgUERpcnR5ID0+IChjaGFuZ2UgYW5kIGZsdXNo\nKSBQRGlydHkgPT4gUERlbGV0ZWQgPT4gUERlbGV0ZWRGbHVzaGVkCioJCVBD\nbGVhbiA9PiBQRGVsZXRlZCA9PiBQRGVsZXRlZEZsdXNoZWQKKgkJSG9sbG93\nID0+IFBEZWxldGVkID0+IFBEZWxldGVkRmx1c2hlZAoqLwp9Cg==\n","encoding":"base64"}

