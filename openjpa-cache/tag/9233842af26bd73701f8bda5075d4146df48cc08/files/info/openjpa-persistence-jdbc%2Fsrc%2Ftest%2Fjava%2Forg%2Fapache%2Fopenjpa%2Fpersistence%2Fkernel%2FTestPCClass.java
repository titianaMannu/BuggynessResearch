{"sha":"e078d8e3b4235792d8be53c4cff9fdeed54750f9","node_id":"MDQ6QmxvYjIwNjM2NDplMDc4ZDhlM2I0MjM1NzkyZDhiZTUzYzRjZmY5ZmRlZWQ1NDc1MGY5","size":5654,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e078d8e3b4235792d8be53c4cff9fdeed54750f9","content":"LyoKICogVGVzdFBDQ2xhc3MuamF2YQogKgogKiBDcmVhdGVkIG9uIE9jdG9i\nZXIgMTIsIDIwMDYsIDQ6MjcgUE0KICoKICogVG8gY2hhbmdlIHRoaXMgdGVt\ncGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRlIE1hbmFnZXIKICogYW5k\nIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0b3IuCiAqLwovKgogKiBM\naWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFT\nRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBh\nZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQogKiBkaXN0cmlidXRl\nZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgog\nKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGlj\nZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExp\nY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsgeW91IG1h\neSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQogKiB3\naXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRo\nZSBMaWNlbnNlIGF0CiAqCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNl\nbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBw\nbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3\nYXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1\ndGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElF\nUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVz\ncyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3Bl\nY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1p\ndGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4gICAgCiAqLwpwYWNrYWdl\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWw7CgppbXBv\ncnQgamF2YS5pby5TZXJpYWxpemFibGU7CgoKCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLlBDQ2xh\nc3NJbnRlcmZhY2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLlBDQ2xhc3NQQzsKCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5QZXJzaXN0ZW5jZUNhcGFibGU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRh\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuRmllbGRNZXRhRGF0\nYTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkphdmFUeXBlczsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLk1ldGFEYXRhUmVwb3Np\ndG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5P\ncGVuSlBBRW50aXR5TWFuYWdlcjsKCnB1YmxpYyBjbGFzcyBUZXN0UENDbGFz\ncyBleHRlbmRzIEJhc2VLZXJuZWxUZXN0IHsKCiAgICAvKioKICAgICAqIENy\nZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVGVzdFBDQ2xhc3MKICAgICAqLwog\nICAgcHVibGljIFRlc3RQQ0NsYXNzKCkgewogICAgfQoKICAgIHB1YmxpYyBU\nZXN0UENDbGFzcyhTdHJpbmcgdGVzdCkgewogICAgICAgIHN1cGVyKHRlc3Qp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7CiAgICAgICAgc3VwZXIuc2V0VXAoUENDbGFzc1BDLmNsYXNzKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWV0YURhdGEoKSB7CgogICAg\nICAgIE1ldGFEYXRhUmVwb3NpdG9yeSByZXBvcyA9IGdldENvbmZpZ3VyYXRp\nb24oKQogICAgICAgICAgICAuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFu\nY2UoKTsKICAgICAgICBDbGFzc01ldGFEYXRhIG1ldGEgPSByZXBvcy5nZXRN\nZXRhRGF0YShQQ0NsYXNzUEMuY2xhc3MsIG51bGwsIHRydWUpOwoKICAgICAg\nICBGaWVsZE1ldGFEYXRhIGZtZCA9IG1ldGEuZ2V0RmllbGQoInNwZWNpZmlj\nUEMiKTsKICAgICAgICBhc3NlcnROb3ROdWxsKCJmbWQgaXMgbnVsbGwiLCBm\nbWQpOwogICAgICAgIGFzc2VydEVxdWFscygiSmF2YVR5cGVzLlBDICE9IGZt\nZC5nZXRUeXBlQ29kZSgpIiwgSmF2YVR5cGVzLlBDLAogICAgICAgICAgICBm\nbWQuZ2V0VHlwZUNvZGUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJQQ0Ns\nYXNzUEMuY2xhc3MuZ2V0TmFtZSgpICE9IGZtZC5nZXRUeXBlKCkuZ2V0TmFt\nZSgpIiwKICAgICAgICAgICAgUENDbGFzc1BDLmNsYXNzLmdldE5hbWUoKSwg\nZm1kLmdldFR5cGUoKS5nZXROYW1lKCkpOwogICAgICAgIGFzc2VydEVxdWFs\ncygKICAgICAgICAgICAgIk9iamVjdC5jbGFzcy5nZXROYW1lKCkgIT0gZm1k\nLmdldERlY2xhcmVkVHlwZSgpLmdldE5hbWUoKSIsCiAgICAgICAgICAgIE9i\namVjdC5jbGFzcy5nZXROYW1lKCksIGZtZC5nZXREZWNsYXJlZFR5cGUoKS5n\nZXROYW1lKCkpOwoKICAgICAgICBmbWQgPSBtZXRhLmdldEZpZWxkKCJnZW5l\ncmljUEMiKTsKICAgICAgICBhc3NlcnROb3ROdWxsKCJmbWQgaXMgbnVsbCIs\nIGZtZCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJKYXZhVHlwZXMuUENfVU5U\nWVBFICE9IGZtZC5nZXRUeXBlQ29kZSgpIiwKICAgICAgICAgICAgSmF2YVR5\ncGVzLlBDX1VOVFlQRUQsIGZtZC5nZXRUeXBlQ29kZSgpKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoCiAgICAgICAgICAgICJQZXJzaXN0ZW5jZUNhcGFibGUu\nY2xhc3MuZ2V0TmFtZSgpICE9IGZtZC5nZXRUeXBlKCkuZ2V0TmFtZSgpIiwK\nICAgICAgICAgICAgUGVyc2lzdGVuY2VDYXBhYmxlLmNsYXNzLmdldE5hbWUo\nKSwgZm1kLmdldFR5cGUoKS5nZXROYW1lKCkpOwogICAgICAgIGFzc2VydEVx\ndWFscyhPYmplY3QuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICBmbWQu\nZ2V0RGVjbGFyZWRUeXBlKCkuZ2V0TmFtZSgpKTsKCiAgICAgICAgZm1kID0g\nbWV0YS5nZXRGaWVsZCgiZ2VuZXJpY09iamVjdCIpOwogICAgICAgIGFzc2Vy\ndE5vdE51bGwoZm1kKTsKICAgICAgICBhc3NlcnRFcXVhbHMoSmF2YVR5cGVz\nLk9CSkVDVCwgZm1kLmdldFR5cGVDb2RlKCkpOwogICAgICAgIGFzc2VydEVx\ndWFscyhPYmplY3QuY2xhc3MuZ2V0TmFtZSgpLCBmbWQuZ2V0VHlwZSgpLmdl\ndE5hbWUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKE9iamVjdC5jbGFzcy5n\nZXROYW1lKCksCiAgICAgICAgICAgIGZtZC5nZXREZWNsYXJlZFR5cGUoKS5n\nZXROYW1lKCkpOwoKICAgICAgICBmbWQgPSBtZXRhLmdldEZpZWxkKCJzcGVj\naWZpY0ludGVyZmFjZSIpOwogICAgICAgIGFzc2VydE5vdE51bGwoZm1kKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoSmF2YVR5cGVzLlBDLCBmbWQuZ2V0VHlw\nZUNvZGUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKFBDQ2xhc3NQQy5jbGFz\ncy5nZXROYW1lKCksIGZtZC5nZXRUeXBlKCkuZ2V0TmFtZSgpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoUENDbGFzc0ludGVyZmFjZS5jbGFzcy5nZXROYW1l\nKCksCiAgICAgICAgICAgIGZtZC5nZXREZWNsYXJlZFR5cGUoKS5nZXROYW1l\nKCkpOwoKICAgICAgICBmbWQgPSBtZXRhLmdldEZpZWxkKCJkZWZhdWx0SW50\nZXJmYWNlIik7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChmbWQpOwogICAgICAg\nIGFzc2VydEVxdWFscyhKYXZhVHlwZXMuUENfVU5UWVBFRCwgZm1kLmdldFR5\ncGVDb2RlKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhQQ0NsYXNzSW50ZXJm\nYWNlLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICAgICAgZm1kLmdldFR5cGUo\nKS5nZXROYW1lKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhQQ0NsYXNzSW50\nZXJmYWNlLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICAgICAgZm1kLmdldERl\nY2xhcmVkVHlwZSgpLmdldE5hbWUoKSk7CgogICAgICAgIGZtZCA9IG1ldGEu\nZ2V0RmllbGQoInNlcmlhbGl6YWJsZUludGVyZmFjZSIpOwogICAgICAgIGFz\nc2VydE5vdE51bGwoZm1kKTsKICAgICAgICBhc3NlcnRFcXVhbHMoSmF2YVR5\ncGVzLk9CSkVDVCwgZm1kLmdldFR5cGVDb2RlKCkpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyhTZXJpYWxpemFibGUuY2xhc3MuZ2V0TmFtZSgpLCBmbWQuZ2V0\nVHlwZSgpLmdldE5hbWUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKFNlcmlh\nbGl6YWJsZS5jbGFzcy5nZXROYW1lKCksCiAgICAgICAgICAgIGZtZC5nZXRE\nZWNsYXJlZFR5cGUoKS5nZXROYW1lKCkpOwoKICAgICAgICBmbWQgPSBtZXRh\nLmdldEZpZWxkKCJnZW5lcmljSW50ZXJmYWNlIik7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChmbWQpOwogICAgICAgIGFzc2VydEVxdWFscyhKYXZhVHlwZXMu\nT0JKRUNULCBmbWQuZ2V0VHlwZUNvZGUoKSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKE9iamVjdC5jbGFzcy5nZXROYW1lKCksIGZtZC5nZXRUeXBlKCkuZ2V0\nTmFtZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoUENDbGFzc0ludGVyZmFj\nZS5jbGFzcy5nZXROYW1lKCksCiAgICAgICAgICAgIGZtZC5nZXREZWNsYXJl\nZFR5cGUoKS5nZXROYW1lKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RQZXJzaXN0KCkgewogICAgICAgIFBDQ2xhc3NQQyBwYyA9IG5ldyBQQ0Ns\nYXNzUEMoKTsKICAgICAgICBwYy5zZXRTcGVjaWZpY1BDKHBjKTsKICAgICAg\nICBwYy5zZXRHZW5lcmljUEMocGMpOwogICAgICAgIHBjLnNldEdlbmVyaWNP\nYmplY3QocGMpOwogICAgICAgIHBjLnNldFNwZWNpZmljSW50ZXJmYWNlKHBj\nKTsKICAgICAgICBwYy5zZXREZWZhdWx0SW50ZXJmYWNlKHBjKTsKICAgICAg\nICBwYy5zZXRHZW5lcmljSW50ZXJmYWNlKHBjKTsKICAgICAgICBwYy5zZXRT\nZXJpYWxpemFibGVJbnRlcmZhY2UocGMpOwoKICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlciBwbSA9IGdldFBNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7\nCiAgICAgICAgcG0ucGVyc2lzdChwYyk7CiAgICAgICAgT2JqZWN0IG9pZCA9\nIHBtLmdldE9iamVjdElkKHBjKTsKICAgICAgICBlbmRUeChwbSk7CiAgICAg\nICAgZW5kRW0ocG0pOwoKICAgICAgICBwbSA9IGdldFBNKCk7CgogICAgICAg\nIHBjID0gcG0uZmluZChQQ0NsYXNzUEMuY2xhc3MsIG9pZCk7CgogICAgICAg\nIGFzc2VydFRydWUocGMgPT0gcGMuZ2V0U3BlY2lmaWNQQygpKTsKICAgICAg\nICBhc3NlcnRUcnVlKHBjID09IHBjLmdldEdlbmVyaWNQQygpKTsKICAgICAg\nICBhc3NlcnROb3ROdWxsKHBjLmdldEdlbmVyaWNPYmplY3QoKSk7CiAgICAg\nICAgYXNzZXJ0VHJ1ZShwYyA9PSBwYy5nZXRHZW5lcmljT2JqZWN0KCkpOwog\nICAgICAgIGFzc2VydFRydWUocGMgPT0gcGMuZ2V0U3BlY2lmaWNJbnRlcmZh\nY2UoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShwYyA9PSBwYy5nZXREZWZhdWx0\nSW50ZXJmYWNlKCkpOwogICAgICAgIGFzc2VydE5vdE51bGwocGMuZ2V0R2Vu\nZXJpY0ludGVyZmFjZSgpKTsKICAgICAgICBhc3NlcnRUcnVlKHBjID09IHBj\nLmdldEdlbmVyaWNJbnRlcmZhY2UoKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVs\nbChwYy5nZXRTZXJpYWxpemFibGVJbnRlcmZhY2UoKSk7CiAgICAgICAgYXNz\nZXJ0VHJ1ZShwYyA9PSBwYy5nZXRTZXJpYWxpemFibGVJbnRlcmZhY2UoKSk7\nCgogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KfQo=\n","encoding":"base64"}

