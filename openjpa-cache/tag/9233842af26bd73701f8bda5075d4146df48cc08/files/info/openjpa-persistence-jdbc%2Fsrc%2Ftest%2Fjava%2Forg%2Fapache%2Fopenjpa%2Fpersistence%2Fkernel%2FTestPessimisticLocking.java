{"sha":"6a134cfd00e4df15c3ef13af51c99b46918ac764","node_id":"MDQ6QmxvYjIwNjM2NDo2YTEzNGNmZDAwZTRkZjE1YzNlZjEzYWY1MWM5OWI0NjkxOGFjNzY0","size":9038,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6a134cfd00e4df15c3ef13af51c99b46918ac764","content":"LyoKICogVGVzdFBlc3NpbWlzdGljTG9ja2luZy5qYXZhCiAqCiAqIENyZWF0\nZWQgb24gT2N0b2JlciAxMywgMjAwNiwgMzoxNyBQTQogKgogKiBUbyBjaGFu\nZ2UgdGhpcyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFu\nYWdlcgogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4K\nICovCgovKgogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZv\ndW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0\nb3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQog\nKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBp\nbmZvcm1hdGlvbgogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4g\nIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vu\nc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29t\ncGxpYW5jZQogKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4g\nYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4gICAg\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5r\nZXJuZWw7CgppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZh\nLnV0aWwuTWFwOwoKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5SdW50aW1lVGVzdDE7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1v\nbi5hcHBzLlJ1bnRpbWVUZXN0MjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUnVudGltZVRlc3Qz\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1v\nbi51dGlscy5BYnN0cmFjdFRlc3RDYXNlOwoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247CmltcG9ydCBq\nYXZhLnV0aWwuY29uY3VycmVudC5sb2Nrcy5SZWVudHJhbnRMb2NrOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRp\ndHlNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLkZldGNoTW9kZTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLkpEQkNG\nZXRjaFBsYW47CgpwdWJsaWMgY2xhc3MgVGVzdFBlc3NpbWlzdGljTG9ja2lu\nZyBleHRlbmRzIEJhc2VLZXJuZWxUZXN0IHsKCiAgICBwcml2YXRlIE9iamVj\ndCBfaWQgPSBudWxsOwogICAgcHJpdmF0ZSBpbnQgX2J1Z0NvdW50ID0gMDsK\nICAgIHByaXZhdGUgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IF9mYWN0\nb3J5ID0gbnVsbDsKCiAgICBwdWJsaWMgVGVzdFBlc3NpbWlzdGljTG9ja2lu\nZyhTdHJpbmcgbmFtZSkgewogICAgICAgIHN1cGVyKG5hbWUpOwogICAgfQoK\nICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0\nUGVzc2ltaXN0aWNMb2NraW5nCiAgICAgKi8KICAgIHB1YmxpYyBUZXN0UGVz\nc2ltaXN0aWNMb2NraW5nKCkgewogICAgfQoKICAgIHByb3RlY3RlZCBib29s\nZWFuIHNraXBUZXN0KCkgewogICAgICAgIC8vIHBvaW50YmFzZSBkb2Vzbid0\nIHJlYWxseSBsb2NrCiAgICAgICAgaWYgKGdldEN1cnJlbnRQbGF0Zm9ybSgp\nID09IEFic3RyYWN0VGVzdENhc2UuUGxhdGZvcm0uUE9JTlRCQVNFKQogICAg\nICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgICAgaWYgKGdldENvbmZpZ3Vy\nYXRpb24oKSBpbnN0YW5jZW9mIEpEQkNDb25maWd1cmF0aW9uKSB7CiAgICAg\nICAgICAgIEpEQkNDb25maWd1cmF0aW9uIGNvbmYgPSAoSkRCQ0NvbmZpZ3Vy\nYXRpb24pIGdldENvbmZpZ3VyYXRpb24oKTsKICAgICAgICAgICAgcmV0dXJu\nICFjb25mLmdldERCRGljdGlvbmFyeUluc3RhbmNlKCkuc3VwcG9ydHNTZWxl\nY3RGb3JVcGRhdGU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFVzZSBhIGxvY2tpbmcgcGVyc2lzdGVu\nY2UgbWFuYWdlciB3aXRoIHN1YmNsYXNzIGZldGNoIG1vZGUgdG8gc2V0IHRv\nCiAgICAgKiAibm9uZSIgdG8gYXZvaWQgc3ViY2xhc3Mgam9pbnMuCiAgICAg\nKi8KICAgIHByb3RlY3RlZCBPcGVuSlBBRW50aXR5TWFuYWdlciBnZXRMb2Nr\naW5nUE0oKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBf\nZmFjdG9yeS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgKChKREJD\nRmV0Y2hQbGFuKSBwbS5nZXRGZXRjaFBsYW4oKSkKICAgICAgICAgICAgLnNl\ndFN1YmNsYXNzRmV0Y2hNb2RlKEZldGNoTW9kZS5OT05FKTsKICAgICAgICBy\nZXR1cm4gcG07CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICBzdXBlci5zZXRVcChSdW50aW1lVGVz\ndDEuY2xhc3MsIFJ1bnRpbWVUZXN0Mi5jbGFzcywgUnVudGltZVRlc3QzLmNs\nYXNzKTsKCiAgICAgICAgTWFwIHByb3BzTWFwID0gbmV3IEhhc2hNYXAoKTsK\nICAgICAgICBwcm9wc01hcC5wdXQoIm9wZW5qcGEuTG9ja01hbmFnZXIiLCAi\ncGVzc2ltaXN0aWMiKTsKICAgICAgICBfZmFjdG9yeSA9IGdldEVtZihwcm9w\nc01hcCk7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0\nTG9ja2luZ1BNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIFJ1\nbnRpbWVUZXN0MSBhID0gbmV3IFJ1bnRpbWVUZXN0MSgibmFtZSIsIDApOwog\nICAgICAgIHBtLnBlcnNpc3QoYSk7CiAgICAgICAgX2lkID0gcG0uZ2V0T2Jq\nZWN0SWQoYSk7CgogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShw\nbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVhckRvd24oKSB7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgaWYgKF9mYWN0b3J5ICE9IG51bGwpCiAg\nICAgICAgICAgICAgICBfZmFjdG9yeS5jbG9zZSgpOwogICAgICAgIH0gY2F0\nY2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgog\nICAgICogVGVzdCB0aGF0IHBlc3NpbWlzdGljIGxvY2tpbmcgaXMgd29ya2lu\nZyBpbiB0aGUgZGF0YSBzdG9yZS4KICAgICAqLwogICAgcHVibGljIHZvaWQg\ndGVzdFBlc3NpbWlzdGljTG9ja2luZygpIHRocm93cyBUaHJvd2FibGUgewog\nICAgICAgIHBlc3NpbWlzdGljTG9ja2luZ1Rlc3QoZmFsc2UpOwogICAgfQoK\nICAgIC8qKgogICAgICogVGVzdCB0aGF0IHRoZSB0ZXN0IGNhc2UgaXRzZWxm\nIGlzIHdvcmtpbmcgYmUgdXNpbmcgYSBSZWVudHJhbnRMb2NrLiBUaGlzCiAg\nICAgKiB0ZXN0IHdpbGwgdmFsaWRhdGUgdGhhdCB0aGUgdGVzdCBjYXNlIGl0\nc2VsZiBpcyB3b3JraW5nIGNvcnJlY3RseSwgbm90CiAgICAgKiB0aGF0IHRo\nZSBkYXRhc3RvcmUncyBwZXNzaW1pc3RpYyBsb2NraW5nIGlzIHdvcmtpbmcu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RQZXNzaW1pc3RpY0xvY2tp\nbmdJbnRlcm5hbCgpIHRocm93cyBUaHJvd2FibGUgewogICAgICAgIHBlc3Np\nbWlzdGljTG9ja2luZ1Rlc3QodHJ1ZSk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBUZXN0IHRoYXQgcGVzc2ltaXN0aWMgbG9ja2luZyBpcyB3b3JraW5nIGJ5\nIGF0dGVtcHRpbmcgdG8gdXBkYXRlIHRoZSBzYW1lCiAgICAgKiBvYmplY3Qg\naW4gdGhlIGRhdGEgc3RvcmUuCiAgICAgKgogICAgICogQHBhcmFtIHVzZVJl\nZW50cmFudExvY2sgdHJ1ZSBpZiB3ZSB3YW50IHRvIHN5bmNocm9uaXplIG9u\nIGEgbG9jayBpbnN0ZWFkCiAgICAgKiBvZiByZWx5aW5nIG9uIHRoZSBkYXRh\nIHN0b3JlICh1c2VkIGZvciB2YWxpZGF0aW5nIHRoZSB0ZXN0IGNhc2UpLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBwZXNzaW1pc3RpY0xvY2tpbmdUZXN0\nKGJvb2xlYW4gdXNlUmVlbnRyYW50TG9jaykKICAgICAgICB0aHJvd3MgVGhy\nb3dhYmxlIHsKICAgICAgICBsb25nIHRpbWVvdXQgPSBTeXN0ZW0uY3VycmVu\ndFRpbWVNaWxsaXMoKSArICg2MCAqIDUgKiAxMDAwKTsKCiAgICAgICAgUmVl\nbnRyYW50TG9jayBsb2NrID0gbnVsbDsKICAgICAgICBpZiAodXNlUmVlbnRy\nYW50TG9jaykKICAgICAgICAgICAgbG9jayA9IG5ldyBSZWVudHJhbnRMb2Nr\nKCk7CgogICAgICAgIFRlc3RUaHJlYWQgdDEgPSBuZXcgVGVzdFRocmVhZChs\nb2NrKTsKICAgICAgICBUZXN0VGhyZWFkIHQyID0gbmV3IFRlc3RUaHJlYWQo\nbG9jayk7CiAgICAgICAgdDEuc3RhcnQoKTsKICAgICAgICB0Mi5zdGFydCgp\nOwoKICAgICAgICBnZXRMb2coKS50cmFjZSgic3RhcnRlZCB0aHJlYWQiKTsK\nCiAgICAgICAgLy8gd2FpdCBmb3IgdGhyZWFkcyB0byBkaWUgb3IgdGltZW91\ndAogICAgICAgIHdoaWxlICgodDEuaXNBbGl2ZSgpIHx8IHQyLmlzQWxpdmUo\nKSkKICAgICAgICAgICAgJiYgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkg\nPCB0aW1lb3V0KSB7CiAgICAgICAgICAgIFRocmVhZC5zbGVlcCgxMDAwKTsK\nICAgICAgICAgICAgZ2V0TG9nKCkudHJhY2UoCiAgICAgICAgICAgICAgICAi\ndGhyZWFkIHdhaXRpbmcgZm9yIGNvbXBsZXRpb24gKCIKICAgICAgICAgICAg\nICAgICAgICArICh0aW1lb3V0IC0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlz\nKCkpCiAgICAgICAgICAgICAgICAgICAgKyAiIG1zIGxlZnQpIik7CiAgICAg\nICAgfQoKICAgICAgICBnZXRMb2coKS50cmFjZSgiY2hlY2tpbmcgaWYgdGhy\nZWFkIGlzIGFsaXZlIik7CiAgICAgICAgU3lzdGVtLm91dC5mbHVzaCgpOwoK\nICAgICAgICBpZiAodDEuaXNBbGl2ZSgpIHx8IHQyLmlzQWxpdmUoKSkgewog\nICAgICAgICAgICBnZXRMb2coKS50cmFjZSgidGhyZWFkIGlzIHN0aWxsIGFs\naXZlIik7CiAgICAgICAgICAgIFN5c3RlbS5vdXQuZmx1c2goKTsKCiAgICAg\nICAgICAgIC8vIGRvIG91dCBiZXN0IHRvIGNsZWFuIHRoZW0gdXAKICAgICAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHQxLmludGVycnVwdCgpOwog\nICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkg\newogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAg\nICAgICB0Mi5pbnRlcnJ1cHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAg\nICBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgfQoKICAgICAg\nICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigiVGhyZWFkIGRpZCBub3QgY29t\ncGxldGUgYWZ0ZXIgdGltZW91dCAoIgogICAgICAgICAgICAgICAgKyB0aW1l\nb3V0ICsgIik6IHBvc3NpYmxlIGRlYWRsb2NrIik7CiAgICAgICAgfQoKICAg\nICAgICBnZXRMb2coKS50cmFjZSgiY2hlY2tpbmcgZXhjZXB0aW9uIGZvciB0\nMSIpOwogICAgICAgIGlmICh0MS5leGNlcHRpb24gIT0gbnVsbCkKICAgICAg\nICAgICAgdGhyb3cgdDEuZXhjZXB0aW9uOwoKICAgICAgICBnZXRMb2coKS50\ncmFjZSgiY2hlY2tpbmcgZXhjZXB0aW9uIGZvciB0MiIpOwogICAgICAgIGlm\nICh0Mi5leGNlcHRpb24gIT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cgdDIu\nZXhjZXB0aW9uOwoKICAgICAgICBnZXRMb2coKS50cmFjZSgidmVyaWZ5aW5n\nIHBlc3NpbWlzdGljIGxvY2tpbmcgd29ya2VkLi4uIik7CiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRMb2NraW5nUE0oKTsKICAgICAg\nICBSdW50aW1lVGVzdDEgYSA9IHBtLmZpbmQoUnVudGltZVRlc3QxLmNsYXNz\nLCBfaWQpOwogICAgICAgIGFzc2VydEVxdWFscygyMCAtIF9idWdDb3VudCwg\nYS5nZXRJbnRGaWVsZDEoKSk7CiAgICAgICAgZ2V0TG9nKCkudHJhY2UoImNs\nb3NpbmcgcG0iKTsKICAgICAgICBlbmRFbShwbSk7CiAgICAgICAgZ2V0TG9n\nKCkudHJhY2UoImRvbmUiKTsKICAgIH0KCiAgICAvKioKICAgICAqIFVwZGF0\nZSB0aHJlYWQgdGhhdCB0cmllcyB0byBpbmNyZW1lbnQgYW4gaW50IGZpZWxk\nLgogICAgICoKICAgICAqIEBhdXRob3IgPGEgaHJlZj0ibWFpbHRvOm1hcmNA\nc29sYXJtZXRyaWMuY29tIj5NYXJjIFBydWQnaG9tbWVhdXg8L2E+CiAgICAg\nKi8KICAgIHByaXZhdGUgY2xhc3MgVGVzdFRocmVhZCBleHRlbmRzIFRocmVh\nZCB7CgogICAgICAgIHByaXZhdGUgT3BlbkpQQUVudGl0eU1hbmFnZXIgX3Bt\nID0gZ2V0TG9ja2luZ1BNKCk7CgogICAgICAgIHB1YmxpYyBFeGNlcHRpb24g\nZXhjZXB0aW9uID0gbnVsbDsKCiAgICAgICAgcHJpdmF0ZSBmaW5hbCBSZWVu\ndHJhbnRMb2NrIF9sb2NrOwoKICAgICAgICAvKioKICAgICAgICAgKiBDb25z\ndHJ1Y3RvcgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIGxvY2sgdGhl\nIFJlZW50cmFudExvY2sgd2Ugc2hvdWxkIHVzZSwgb3IgbnVsbCB0byByZWx5\nIG9uCiAgICAgICAgICogcGVzc2ltaXN0aWMgbG9ja2luZyBpbiB0aGUgZGF0\nYSBzdG9yZS4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgVGVzdFRocmVh\nZChSZWVudHJhbnRMb2NrIGxvY2spIHsKICAgICAgICAgICAgdGhpcy5fbG9j\nayA9IGxvY2s7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3luY2hyb25p\nemVkIHZvaWQgcnVuKCkgewogICAgICAgICAgICBnZXRMb2coKS50cmFjZSgK\nICAgICAgICAgICAgICAgIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuZ2V0TmFt\nZSgpCiAgICAgICAgICAgICAgICAgICAgKyAiOiBzdGFydGluZyB1cGRhdGUg\ndGhyZWFkIik7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgICAgICAgICAgICAg\nICAgICBpZiAoX2xvY2sgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICAg\nICAgX2xvY2subG9jaygpOwoKICAgICAgICAgICAgICAgICAgICB0cnkgewog\nICAgICAgICAgICAgICAgICAgICAgICBfcG0uc2V0T3B0aW1pc3RpYyhmYWxz\nZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VHgoX3BtKTsKICAg\nICAgICAgICAgICAgICAgICAgICAgUnVudGltZVRlc3QxIGEgPSAoUnVudGlt\nZVRlc3QxKSBfcG0uZmluZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIFJ1bnRpbWVUZXN0MS5jbGFzcywgX2lkKTsKICAgICAgICAgICAgICAgICAg\nICAgICAgZ2V0TG9nKCkudHJhY2UoCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgpLmdldE5hbWUoKQogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICsgIjogb2J0YWluZWQgYW5kIGxv\nY2tlZDogIiArIGEpOwogICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCgp\nOwogICAgICAgICAgICAgICAgICAgICAgICBzdXBlci53YWl0KDUwKTsKICAg\nICAgICAgICAgICAgICAgICAgICAgZ2V0TG9nKCkudHJhY2UoCiAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgpLmdl\ndE5hbWUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIjog\ndXBkYXRpbmcgYWdlIGZyb20gIgogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICsgYS5nZXRJbnRGaWVsZDEoKSk7CiAgICAgICAgICAgICAgICAg\nICAgICAgIGEuc2V0SW50RmllbGQxKGEuZ2V0SW50RmllbGQxKCkgKyAxKTsK\nICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TG9nKCkudHJhY2UoCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgp\nLmdldE5hbWUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsg\nIjogY29tbWl0dGVkIHVwZGF0ZSIpOwogICAgICAgICAgICAgICAgICAgICAg\nICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BtLmZsdXNo\nKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRUeChfcG0pOwog\nICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAg\nICAgIGNhdGNoIChFeGNlcHRpb24gZXgpIHsKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIHRocm93IG5ldyBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5V\nc2VyRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICJPcHRpbWlzdGljIGxvY2sgcHJvYmFibHkgZmFpbGVkIGFmdGVyICIKICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBpICsgIiBpdGVy\nYXRpb25zICgiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICsgVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5nZXROYW1lKCkKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiKSIsIGV4KTsKICAgICAg\nICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB5\naWVsZCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nICAgICBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9s\nb2NrICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9j\nay51bmxvY2soKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgIH0KCQkJY2F0Y2ggKEV4Y2VwdGlvbiBlKQoJ\nCQl7CgkJCQlleGNlcHRpb24gPSBlOwoJCQl9CgkJfQoJfQoKfQo=\n","encoding":"base64"}

