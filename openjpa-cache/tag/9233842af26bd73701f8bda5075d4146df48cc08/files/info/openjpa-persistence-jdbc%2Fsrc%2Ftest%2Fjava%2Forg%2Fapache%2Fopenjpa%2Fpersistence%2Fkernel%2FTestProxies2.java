{"sha":"0f636aaf7c7d6cd6247a7486e3fd48c3b6dcff7b","node_id":"MDQ6QmxvYjIwNjM2NDowZjYzNmFhZjdjN2Q2Y2Q2MjQ3YTc0ODZlM2ZkNDhjM2I2ZGNmZjdi","size":16869,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0f636aaf7c7d6cd6247a7486e3fd48c3b6dcff7b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nOwoKaW1wb3J0IGphdmEudXRpbC5Db21wYXJhdG9yOwppbXBvcnQgamF2YS51\ndGlsLkRhdGU7CmltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsKaW1wb3J0IGph\ndmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBv\ncnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CmltcG9y\ndCBqYXZhLnV0aWwuVHJlZVNldDsKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5Qcm94aWVzUEM7\nCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMuY29sbGVjdGlvbnMuY29tcGFy\nYXRvcnMuQ29tcGFyYWJsZUNvbXBhcmF0b3I7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Qcm94eTsKCnB1YmxpYyBj\nbGFzcyBUZXN0UHJveGllczIgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7Cgog\nICAgcHJpdmF0ZSBpbnQgX29pZCA9IDA7CiAgICBwcml2YXRlIERhdGUgX2Rh\ndGUgPSBudWxsOwogICAgcHJpdmF0ZSBqYXZhLnNxbC5EYXRlIF9zcWxEYXRl\nID0gbnVsbDsKICAgIHByaXZhdGUgamF2YS5zcWwuVGltZXN0YW1wIF90aW1l\nc3RhbXAgPSBudWxsOwoKICAgIHB1YmxpYyBUZXN0UHJveGllczIoU3RyaW5n\nIGNhc2VuYW1lKSB7CiAgICAgICAgc3VwZXIoY2FzZW5hbWUpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAg\nICAgICAgc3VwZXIuc2V0VXAoUHJveGllc1BDLmNsYXNzKTsKCiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBsb25nIG5vdyA9IFN5\nc3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAgICAgIF9kYXRlID0gbmV3\nIERhdGUobm93KTsKICAgICAgICBfc3FsRGF0ZSA9IG5ldyBqYXZhLnNxbC5E\nYXRlKG5vdyk7CiAgICAgICAgX3RpbWVzdGFtcCA9IG5ldyBqYXZhLnNxbC5U\naW1lc3RhbXAobm93KTsKCiAgICAgICAgUHJveGllc1BDIHBjID0gbmV3IFBy\nb3hpZXNQQygibWFpbiIpOwogICAgICAgIHBjLnNldERhdGUoX2RhdGUpOwog\nICAgICAgIHBjLnNldFNRTERhdGUoX3NxbERhdGUpOwogICAgICAgIHBjLnNl\ndFRpbWVzdGFtcChfdGltZXN0YW1wKTsKCiAgICAgICAgcGMuZ2V0U3RyaW5n\nU2V0KCkuYWRkKCJ2YWwxIik7CiAgICAgICAgcGMuZ2V0U3RyaW5nU2V0KCku\nYWRkKCJ2YWwyIik7CiAgICAgICAgcGMuZ2V0U3RyaW5nU2V0KCkuYWRkKCJ2\nYWwzIik7CiAgICAgICAgcGMuZ2V0U3RyaW5nU2V0KCkuYWRkKG51bGwpOwoK\nICAgICAgICBwYy5nZXRQcm94eVNldCgpLmFkZChuZXcgUHJveGllc1BDKCJz\nZXQxIikpOwogICAgICAgIHBjLmdldFByb3h5U2V0KCkuYWRkKG5ldyBQcm94\naWVzUEMoInNldDIiKSk7CiAgICAgICAgcGMuZ2V0UHJveHlTZXQoKS5hZGQo\nbmV3IFByb3hpZXNQQygic2V0MyIpKTsKCiAgICAgICAgcGMuZ2V0U3RyaW5n\nTWFwKCkucHV0KCJrZXkxIiwgIjEiKTsKICAgICAgICBwYy5nZXRTdHJpbmdN\nYXAoKS5wdXQoImtleTIiLCAiMiIpOwogICAgICAgIHBjLmdldFN0cmluZ01h\ncCgpLnB1dCgia2V5MyIsICIzIik7CiAgICAgICAgcGMuZ2V0U3RyaW5nTWFw\nKCkucHV0KG51bGwsICJudWxsIik7CiAgICAgICAgcGMuZ2V0U3RyaW5nTWFw\nKCkucHV0KCJudWxsIiwgbnVsbCk7CgogICAgICAgIHBjLmdldFByb3h5TWFw\nKCkucHV0KCJrZXkxIiwgbmV3IFByb3hpZXNQQygibWFwMSIpKTsKICAgICAg\nICBwYy5nZXRQcm94eU1hcCgpLnB1dCgia2V5MiIsIG5ldyBQcm94aWVzUEMo\nIm1hcDIiKSk7CiAgICAgICAgcGMuZ2V0UHJveHlNYXAoKS5wdXQoImtleTMi\nLCBuZXcgUHJveGllc1BDKCJtYXAzIikpOwoKICAgICAgICBwYy5nZXRMaXN0\nKCkuYWRkKCJ2YWwxIik7CiAgICAgICAgcGMuZ2V0TGlzdCgpLmFkZCgidmFs\nMSIpOwogICAgICAgIHBjLmdldExpc3QoKS5hZGQoInZhbDIiKTsKICAgICAg\nICBwYy5nZXRMaXN0KCkuYWRkKCJ2YWwzIik7CiAgICAgICAgcGMuZ2V0TGlz\ndCgpLmFkZCgidmFsMyIpOwoKICAgICAgICBwbS5wZXJzaXN0KHBjKTsKCiAg\nICAgICAgX29pZCA9IHBjLmdldElkKCk7CgogICAgICAgIGVuZFR4KHBtKTsK\nICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndFN0cmluZ1NldCgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBw\nbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbSk7\nCiAgICAgICAgUHJveGllc1BDIHBjID0gcG0uZmluZChQcm94aWVzUEMuY2xh\nc3MsIF9vaWQpOwoKICAgICAgICAvLyBjaGVjayB0aGF0IG9yaWcgdmFsdWVz\nIGFyZSBjb3JyZWN0CiAgICAgICAgU2V0IHNldCA9IHBjLmdldFN0cmluZ1Nl\ndCgpOwogICAgICAgIGFzc2VydEVxdWFscyg0LCBzZXQuc2l6ZSgpKTsKICAg\nICAgICBhc3NlcnRUcnVlKHNldC5jb250YWlucygidmFsMSIpKTsKICAgICAg\nICBhc3NlcnRUcnVlKHNldC5jb250YWlucygidmFsMiIpKTsKICAgICAgICBh\nc3NlcnRUcnVlKHNldC5jb250YWlucygidmFsMyIpKTsKICAgICAgICBhc3Nl\ncnRUcnVlKHNldC5jb250YWlucyhudWxsKSk7CgogICAgICAgIC8vIGRvIHNv\nbWUgbW9kcyB0byB0cnkgdG8gY29uZnVzZSB0aGUgcHJveHkKICAgICAgICBz\nZXQucmVtb3ZlKCJ2YWwxIik7CiAgICAgICAgc2V0LnJlbW92ZSgidmFsMSIp\nOwogICAgICAgIHNldC5hZGQoInZhbDQiKTsKICAgICAgICBzZXQucmVtb3Zl\nKCJ2YWw0Iik7CiAgICAgICAgc2V0LmFkZCgidmFsNSIpOwogICAgICAgIHNl\ndC5hZGQoInZhbDUiKTsKICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5k\nRW0ocG0pOwoKICAgICAgICAvLyByZS1yZXRyaWV2ZSBhbmQgY2hlY2sgc2V0\nCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHBj\nID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwoKICAgICAgICBz\nZXQgPSBwYy5nZXRTdHJpbmdTZXQoKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nNCwgc2V0LnNpemUoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSghc2V0LmNvbnRh\naW5zKCJ2YWwxIikpOwogICAgICAgIGFzc2VydFRydWUoc2V0LmNvbnRhaW5z\nKCJ2YWwyIikpOwogICAgICAgIGFzc2VydFRydWUoc2V0LmNvbnRhaW5zKCJ2\nYWwzIikpOwogICAgICAgIGFzc2VydFRydWUoIXNldC5jb250YWlucygidmFs\nNCIpKTsKICAgICAgICBhc3NlcnRUcnVlKHNldC5jb250YWlucygidmFsNSIp\nKTsKICAgICAgICBhc3NlcnRUcnVlKHNldC5jb250YWlucyhudWxsKSk7CiAg\nICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RT\ndHJpbmdNYXAoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0g\nPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0pOwog\nICAgICAgIFByb3hpZXNQQyBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNz\nLCBfb2lkKTsKCiAgICAgICAgLy8gY2hlY2sgdGhhdCBvcmlnIHZhbHVlcyBh\ncmUgY29ycmVjdAogICAgICAgIE1hcCBtYXAgPSBwYy5nZXRTdHJpbmdNYXAo\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoNSwgbWFwLnNpemUoKSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKCIxIiwgbWFwLmdldCgia2V5MSIpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoIjIiLCBtYXAuZ2V0KCJrZXkyIikpOwogICAgICAg\nIGFzc2VydEVxdWFscygiMyIsIG1hcC5nZXQoImtleTMiKSk7CiAgICAgICAg\nYXNzZXJ0TnVsbChtYXAuZ2V0KCJudWxsIikpOwogICAgICAgIGFzc2VydEVx\ndWFscygibnVsbCIsIG1hcC5nZXQobnVsbCkpOwoKICAgICAgICAvLyBkbyBz\nb21lIG1vZHMgdG8gdHJ5IHRvIGNvbmZ1c2UgdGhlIHByb3h5CiAgICAgICAg\nbWFwLnB1dCgia2V5MSIsICIxYSIpOwogICAgICAgIG1hcC5wdXQoImtleTEi\nLCAiMWIiKTsKICAgICAgICBtYXAucHV0KCJrZXk0IiwgIjQiKTsKICAgICAg\nICBtYXAucmVtb3ZlKCJrZXk0Iik7CiAgICAgICAgbWFwLnJlbW92ZSgiZm9v\nIik7CiAgICAgICAgbWFwLnB1dCgia2V5NSIsICI1Iik7CiAgICAgICAgZW5k\nVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgLy8gcmUtcmV0\ncmlldmUgYW5kIGNoZWNrIG1hcAogICAgICAgIHBtID0gZ2V0UE0oZmFsc2Us\nIGZhbHNlKTsKICAgICAgICBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNz\nLCBfb2lkKTsKCiAgICAgICAgbWFwID0gcGMuZ2V0U3RyaW5nTWFwKCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDYsIG1hcC5zaXplKCkpOwogICAgICAgIGFz\nc2VydEVxdWFscygiMWIiLCBtYXAuZ2V0KCJrZXkxIikpOwogICAgICAgIGFz\nc2VydEVxdWFscygiNSIsIG1hcC5nZXQoImtleTUiKSk7CiAgICAgICAgZW5k\nRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RQcm94eVNldCgp\nIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZh\nbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgUHJv\neGllc1BDIHBjID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwoK\nICAgICAgICAvLyBjaGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBjb3JyZWN0\nCiAgICAgICAgU2V0IHNldCA9IHBjLmdldFByb3h5U2V0KCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDMsIHNldC5zaXplKCkpOwogICAgICAgIEl0ZXJhdG9y\nIGl0ciA9IHNldC5pdGVyYXRvcigpOwogICAgICAgIFByb3hpZXNQQyBzZXQx\nID0gKFByb3hpZXNQQykgaXRyLm5leHQoKTsKICAgICAgICBQcm94aWVzUEMg\nc2V0MiA9IChQcm94aWVzUEMpIGl0ci5uZXh0KCk7CiAgICAgICAgUHJveGll\nc1BDIHNldDMgPSAoUHJveGllc1BDKSBpdHIubmV4dCgpOwogICAgICAgIGFz\nc2VydEVxdWFscygic2V0MSIsIHNldDEuZ2V0TmFtZSgpKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoInNldDIiLCBzZXQyLmdldE5hbWUoKSk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJzZXQzIiwgc2V0My5nZXROYW1lKCkpOwoKICAgICAg\nICAvLyBkbyBzb21lIG1vZHMgdG8gdHJ5IHRvIGNvbmZ1c2UgdGhlIHByb3h5\nCiAgICAgICAgc2V0LnJlbW92ZShzZXQxKTsKICAgICAgICBzZXQucmVtb3Zl\nKHNldDEpOwogICAgICAgIFByb3hpZXNQQyBzZXQ0ID0gbmV3IFByb3hpZXNQ\nQygic2V0NCIpOwogICAgICAgIHNldC5hZGQoc2V0NCk7CiAgICAgICAgc2V0\nLnJlbW92ZShzZXQ0KTsKICAgICAgICBQcm94aWVzUEMgc2V0NSA9IG5ldyBQ\ncm94aWVzUEMoInNldDUiKTsKICAgICAgICBzZXQuYWRkKHNldDUpOwogICAg\nICAgIHNldC5hZGQoc2V0NSk7CiAgICAgICAgZW5kVHgocG0pOwogICAgICAg\nIGVuZEVtKHBtKTsKCiAgICAgICAgLy8gcmUtcmV0cmlldmUgYW5kIGNoZWNr\nIHNldAogICAgICAgIHBtID0gZ2V0UE0odHJ1ZSwgZmFsc2UpOwogICAgICAg\nIHN0YXJ0VHgocG0pOwogICAgICAgIHBjID0gcG0uZmluZChQcm94aWVzUEMu\nY2xhc3MsIF9vaWQpOwogICAgICAgIHBtLnJlZnJlc2gocGMpOwoKICAgICAg\nICBzZXQgPSBwYy5nZXRQcm94eVNldCgpOwogICAgICAgIGFzc2VydEVxdWFs\ncygzLCBzZXQuc2l6ZSgpKTsKICAgICAgICBpdHIgPSBzZXQuaXRlcmF0b3Io\nKTsKICAgICAgICBzZXQxID0gKFByb3hpZXNQQykgaXRyLm5leHQoKTsKICAg\nICAgICBzZXQyID0gKFByb3hpZXNQQykgaXRyLm5leHQoKTsKICAgICAgICBz\nZXQzID0gKFByb3hpZXNQQykgaXRyLm5leHQoKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoInNldDIiLCBzZXQxLmdldE5hbWUoKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJzZXQzIiwgc2V0Mi5nZXROYW1lKCkpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygic2V0NSIsIHNldDMuZ2V0TmFtZSgpKTsKICAgICAgICBlbmRU\neChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RQcm94eU1hcCgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRU\neChwbSk7CiAgICAgICAgUHJveGllc1BDIHBjID0gcG0uZmluZChQcm94aWVz\nUEMuY2xhc3MsIF9vaWQpOwoKICAgICAgICAvLyBjaGVjayB0aGF0IG9yaWcg\ndmFsdWVzIGFyZSBjb3JyZWN0CiAgICAgICAgTWFwIG1hcCA9IHBjLmdldFBy\nb3h5TWFwKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJvcmlnaW5hbCBtYXAg\nc2l6ZSBpcyBjb3JyZWN0OiAzIiwgMywgbWFwLnNpemUoKSk7CiAgICAgICAg\nUHJveGllc1BDIG1hcDEgPSAoUHJveGllc1BDKSBtYXAuZ2V0KCJrZXkxIik7\nCiAgICAgICAgUHJveGllc1BDIG1hcDIgPSAoUHJveGllc1BDKSBtYXAuZ2V0\nKCJrZXkyIik7CiAgICAgICAgUHJveGllc1BDIG1hcDMgPSAoUHJveGllc1BD\nKSBtYXAuZ2V0KCJrZXkzIik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJtYXAx\nIiwgbWFwMS5nZXROYW1lKCkpOwogICAgICAgIGFzc2VydEVxdWFscygibWFw\nMiIsIG1hcDIuZ2V0TmFtZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm1h\ncDMiLCBtYXAzLmdldE5hbWUoKSk7CgogICAgICAgIC8vIGRvIHNvbWUgbW9k\ncyB0byB0cnkgdG8gY29uZnVzZSB0aGUgcHJveHkKICAgICAgICBQcm94aWVz\nUEMgbWFwMWEgPSBuZXcgUHJveGllc1BDKCJtYXAxYSIpOwogICAgICAgIG1h\ncC5wdXQoImtleTEiLCBtYXAxYSk7CiAgICAgICAgUHJveGllc1BDIG1hcDFi\nID0gbmV3IFByb3hpZXNQQygibWFwMWIiKTsKICAgICAgICBtYXAucHV0KCJr\nZXkxIiwgbWFwMWIpOwogICAgICAgIG1hcC5wdXQoImtleTQiLCBuZXcgUHJv\neGllc1BDKCJtYXA0IikpOwogICAgICAgIG1hcC5yZW1vdmUoImtleTQiKTsK\nICAgICAgICBtYXAucmVtb3ZlKCJmb28iKTsKICAgICAgICBtYXAucHV0KCJr\nZXk1IiwgbmV3IFByb3hpZXNQQygibWFwNSIpKTsKICAgICAgICBlbmRUeChw\nbSk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICAvLyByZS1yZXRyaWV2\nZSBhbmQgY2hlY2sgbWFwCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwgZmFs\nc2UpOwogICAgICAgIHBjID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9v\naWQpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIHBtLnJlZnJlc2go\ncGMpOwoKICAgICAgICBtYXAgPSBwYy5nZXRQcm94eU1hcCgpOwoKICAgICAg\nICBhc3NlcnRFcXVhbHMoNCwgbWFwLnNpemUoKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJtYXAxYiIsICgoUHJveGllc1BDKSBtYXAuZ2V0KCJrZXkxIikp\nLmdldE5hbWUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJtYXA1IiwgKChQ\ncm94aWVzUEMpIG1hcC5nZXQoImtleTUiKSkuZ2V0TmFtZSgpKTsKCiAgICAg\nICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0UmVwbGFjZSgpIHsKICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAg\nc3RhcnRUeChwbSk7CiAgICAgICAgUHJveGllc1BDIHBjID0gcG0uZmluZChQ\ncm94aWVzUEMuY2xhc3MsIF9vaWQpOwoKICAgICAgICAvLyB0b3RhbGx5IHJl\ncGxhY2Ugc2V0CiAgICAgICAgU2V0IHNldCA9IG5ldyBIYXNoU2V0KCk7CiAg\nICAgICAgc2V0LmFkZCgibmV3Iik7CiAgICAgICAgcGMuc2V0U3RyaW5nU2V0\nKHNldCk7CgogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7\nCgogICAgICAgIC8vIHJlLXJldHJpZXZlIGFuZCBjaGVjayBzZXQKICAgICAg\nICBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgcGMgPSBwbS5m\naW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CgogICAgICAgIHNldCA9IHBj\nLmdldFN0cmluZ1NldCgpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBzZXQu\nc2l6ZSgpKTsKICAgICAgICBhc3NlcnRUcnVlKHNldC5jb250YWlucygibmV3\nIikpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Q29tcGFyYXRvcnMoKSB7CiAgICAgICAgLy8gbWFrZSBzdXJlIHRo\nZSBzeXN0ZW0gdXNlcyB0aGUgaW5pdGlhbCBmaWVsZCB2YWx1ZSB0byBmaW5k\nCiAgICAgICAgLy8gY29tcGFyYXRvcnMKICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3Rh\ncnRUeChwbSk7CiAgICAgICAgUHJveGllc1BDIHBjID0gcG0uZmluZChQcm94\naWVzUEMuY2xhc3MsIF9vaWQpOwogICAgICAgIGFzc2VydE5vdE51bGwoInBj\nIGlzIG51bGwiLCBwYyk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgicGMuZ2V0Q29t\ncCgpIGlzIG5vdCBpbnN0YW5jZW9mIFByb3h5IiwKICAgICAgICAgICAgcGMu\nZ2V0Q29tcCgpIGluc3RhbmNlb2YgUHJveHkpOwogICAgICAgIGFzc2VydFRy\ndWUoCiAgIihUcmVlU2V0KSBpcyBub3QgcGMuZ2V0Q29tcCgpKS5jb21wYXJh\ndG9yKCkgaW5zdGFuY2VvZiBDb21wYXJhYmxlQ29tcGFyYXRvciIsCiAgICAg\nICAgICAgICgoVHJlZVNldCkgcGMuZ2V0Q29tcCgpKQogICAgICAgICAgICAg\nICAgLmNvbXBhcmF0b3IoKSBpbnN0YW5jZW9mIENvbXBhcmFibGVDb21wYXJh\ndG9yKTsKICAgICAgICBwbS5ldmljdChwYyk7CiAgICAgICAgZW5kVHgocG0p\nOwoKICAgICAgICAvLyBzZWUgaWYgaXQgc3RpbGwgc2F2ZXMgY29tcGFyYXRv\nciBhZnRlciB0cmFuc2l0aW9uIHRvIGhvbGxvdwogICAgICAgIC8vIGFuZCBi\nYWNrCiAgICAgICAgYXNzZXJ0VHJ1ZSgicGMuZ2V0Q29tcCgpIGlzIG5vdCBp\nbnN0YW5jZW9mIFByb3h5VHJlZVNldCIsCiAgICAgICAgICAgIHBjLmdldENv\nbXAoKSBpbnN0YW5jZW9mIFByb3h5KTsKICAgICAgICBDb21wYXJhdG9yIGNv\nbXBhcnQgPSAoKFRyZWVTZXQpIHBjLmdldENvbXAoKSkuY29tcGFyYXRvcigp\nOwogICAgICAgIGFzc2VydE5vdE51bGwoImNvbXBhcnQgaXMgbnVsbCIsIGNv\nbXBhcnQpOwogICAgICAgIGFzc2VydFRydWUoCiAgIigoVHJlZVNldCkgaXMg\nbm90IHBjLmdldENvbXAoKSkuY29tcGFyYXRvcigpaW5zdGFuY2VvZiBDb21w\nYXJhYmxlQ29tcGFyYXRvciIsCiAgICAgICAgICAgICgoVHJlZVNldCkgcGMu\nZ2V0Q29tcCgpKQogICAgICAgICAgICAgICAgLmNvbXBhcmF0b3IoKSBpbnN0\nYW5jZW9mIENvbXBhcmFibGVDb21wYXJhdG9yKTsKCiAgICAgICAgZW5kRW0o\ncG0pOwogICAgfQoKICAgIC8vICAgIEZJWCBNRTogTW92aW5nIGZpeCB0byBl\nc3NleAogICAgLypwdWJsaWMgdm9pZCB0ZXN0TGlzdCgpIHsKICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7\nCiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgUHJveGllc1BDIHBjID0g\ncG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwoKICAgICAgICAvLyBj\naGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBjb3JyZWN0CiAgICAgICAgTGlz\ndCBsaXN0ID0gcGMuZ2V0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscyg1\nLCBsaXN0LnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwg\nbGlzdC5nZXQoMCkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIsIGxp\nc3QuZ2V0KDEpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDIiLCBsaXN0\nLmdldCgyKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwzIiwgbGlzdC5n\nZXQoMykpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3QuZ2V0\nKDQpKTsKCiAgICAgICAgLy8gZG8gc29tZSBtb2RzIHRvIHRyeSB0byBjb25m\ndXNlIHRoZSBwcm94eQogICAgICAgIGxpc3QucmVtb3ZlKCJ2YWwyIik7CiAg\nICAgICAgbGlzdC5hZGQoInZhbDQiKTsKICAgICAgICBsaXN0LnJlbW92ZSgi\ndmFsNCIpOwogICAgICAgIGxpc3QuYWRkKCJ2YWw1Iik7CiAgICAgICAgbGlz\ndC5hZGQoInZhbDYiKTsKICAgICAgICBsaXN0LmFkZCgidmFsNiIpOwogICAg\nICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CgogICAgICAgIC8v\nIHJlLXJldHJpZXZlIGFuZCBtb2RpZnkgYWdhaW4gdG8gY2hlY2sgaG9sZXMg\naW4gb3JkZXJpbmcKICAgICAgICBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7\nCiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgcGMgPSAoUHJveGllc1BD\nKSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CgogICAgICAgIGxp\nc3QgPSBwYy5nZXRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDcsIGxp\nc3Quc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDEiLCBsaXN0\nLmdldCgwKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5n\nZXQoMSkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3QuZ2V0\nKDIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0LmdldCgz\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWw1IiwgbGlzdC5nZXQoNCkp\nOwogICAgICAgIGFzc2VydEVxdWFscygidmFsNiIsIGxpc3QuZ2V0KDUpKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDYiLCBsaXN0LmdldCg2KSk7Cgog\nICAgICAgIGxpc3QucmVtb3ZlKCJ2YWw1Iik7CiAgICAgICAgbGlzdC5hZGQo\nInZhbDciKTsKICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0p\nOwoKICAgICAgICAvLyByZS1yZXRyaWV2ZSBhbmQgY2hlY2sgZmluYWwgY29u\ndGVudHMKICAgICAgICBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAg\nICAgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CgogICAg\nICAgIGxpc3QgPSBwYy5nZXRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDcsIGxpc3Quc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDEi\nLCBsaXN0LmdldCgwKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwg\nbGlzdC5nZXQoMSkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxp\nc3QuZ2V0KDIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0\nLmdldCgzKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWw2IiwgbGlzdC5n\nZXQoNCkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsNiIsIGxpc3QuZ2V0\nKDUpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDciLCBsaXN0LmdldCg2\nKSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RMaXN0RGlzYWJsZXNDaGFuZ2VUcmFja2luZygpIHsKICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7\nCiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgUHJveGllc1BDIHBjID0g\ncG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwoKICAgICAgICAvLyBj\naGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBjb3JyZWN0CiAgICAgICAgTGlz\ndCBsaXN0ID0gcGMuZ2V0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscyg1\nLCBsaXN0LnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwg\nbGlzdC5nZXQoMCkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIsIGxp\nc3QuZ2V0KDEpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDIiLCBsaXN0\nLmdldCgyKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwzIiwgbGlzdC5n\nZXQoMykpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3QuZ2V0\nKDQpKTsKCiAgICAgICAgLy8gcmVtb3ZpbmcgYSBjb3B5IG9mIHZhbDMgc2hv\ndWxkIGRpc2FibGUgdHJhY2tpbmcKICAgICAgICBsaXN0LnJlbW92ZSgidmFs\nMiIpOwogICAgICAgIGxpc3QucmVtb3ZlKCJ2YWwzIik7CiAgICAgICAgbGlz\ndC5hZGQoInZhbDUiKTsKICAgICAgICBsaXN0LmFkZCgidmFsNSIpOwogICAg\nICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CgogICAgICAgIC8v\nIHJlLXJldHJpZXZlIGFuZCBjaGFuZ2UgYWdhaW4gdG8gY2hlY2sgb3JkZXJp\nbmcKICAgICAgICBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAg\nc3RhcnRUeChwbSk7CiAgICAgICAgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5j\nbGFzcywgX29pZCk7CgogICAgICAgIGxpc3QgPSBwYy5nZXRMaXN0KCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDUsIGxpc3Quc2l6ZSgpKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoInZhbDEiLCBsaXN0LmdldCgwKSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQoMSkpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygidmFsMyIsIGxpc3QuZ2V0KDIpKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoInZhbDUiLCBsaXN0LmdldCgzKSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJ2YWw1IiwgbGlzdC5nZXQoNCkpOwoKICAgICAgICBsaXN0LnJlbW92\nZSgidmFsMyIpOwogICAgICAgIGxpc3QuYWRkKCJ2YWw2Iik7CiAgICAgICAg\nZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgLy8gY2hl\nY2sgZmluYWwgY29udGVudHMKICAgICAgICBwbSA9IGdldFBNKGZhbHNlLCBm\nYWxzZSk7CiAgICAgICAgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywg\nX29pZCk7CgogICAgICAgIGxpc3QgPSBwYy5nZXRMaXN0KCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDUsIGxpc3Quc2l6ZSgpKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoInZhbDEiLCBsaXN0LmdldCgwKSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJ2YWwxIiwgbGlzdC5nZXQoMSkpOwogICAgICAgIGFzc2VydEVxdWFs\ncygidmFsNiIsIGxpc3QuZ2V0KDIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nInZhbDUiLCBsaXN0LmdldCgzKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2\nYWw1IiwgbGlzdC5nZXQoNCkpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0K\nKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RDaGFuZ2VMaXN0T3JkZXIoKSB7CiAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwg\nZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIFByb3hpZXNQ\nQyBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsKCiAgICAg\nICAgLy8gY2hlY2sgdGhhdCBvcmlnIHZhbHVlcyBhcmUgY29ycmVjdAogICAg\nICAgIExpc3QgbGlzdCA9IHBjLmdldExpc3QoKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoNSwgbGlzdC5zaXplKCkpOwogICAgICAgIGFzc2VydEVxdWFscygi\ndmFsMSIsIGxpc3QuZ2V0KDApKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZh\nbDEiLCBsaXN0LmdldCgxKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwy\nIiwgbGlzdC5nZXQoMikpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIs\nIGxpc3QuZ2V0KDMpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBs\naXN0LmdldCg0KSk7CgogICAgICAgIC8vIHJlb3JkZXIgdmFsMgogICAgICAg\nIGxpc3QucmVtb3ZlKCJ2YWwyIik7CiAgICAgICAgbGlzdC5hZGQoInZhbDIi\nKTsKICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAg\nICAgICAvLyByZS1yZXRyaWV2ZSB0byBjaGVjayBvcmRlcmluZwogICAgICAg\nIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsKICAgICAgICBwYyA9IHBtLmZp\nbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsKCiAgICAgICAgbGlzdCA9IHBj\nLmdldExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoNSwgbGlzdC5zaXpl\nKCkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIsIGxpc3QuZ2V0KDAp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDEiLCBsaXN0LmdldCgxKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwyIiwgbGlzdC5nZXQoMikpOwog\nICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3QuZ2V0KDMpKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0LmdldCg0KSk7CiAgICAg\nICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3REYXRl\nKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0o\ndHJ1ZSwgdHJ1ZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgUHJv\neGllc1BDIHBjID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwog\nICAgICAgIERhdGUgZGF0ZSA9IHBjLmdldERhdGUoKTsKICAgICAgICBhc3Nl\ncnROb3ROdWxsKGRhdGUpOwoKICAgICAgICAvLyBkYXRlcyBjYW4gbG9zZSBw\ncmVjaXNpb24sIGJ1dCBtYWtlIHN1cmUgc2FtZSBkYXkKICAgICAgICBhc3Nl\ncnRFcXVhbHMoX2RhdGUuZ2V0WWVhcigpLCBkYXRlLmdldFllYXIoKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKF9kYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0\nTW9udGgoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKF9kYXRlLmdldERhdGUo\nKSwgZGF0ZS5nZXREYXRlKCkpOwoKICAgICAgICAvLyBtYWtlIHN1cmUgcHJv\neGllZAogICAgICAgIGFzc2VydFRydWUoIXBtLmlzRGlydHkocGMpKTsKICAg\nICAgICBkYXRlLnNldFRpbWUoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkg\nKyAxMDAwICogNjAgKiA2MCAqIDI0KTsKICAgICAgICBhc3NlcnRUcnVlKHBt\nLmlzRGlydHkocGMpKTsKCiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGFz\nc2VydEVxdWFscyhkYXRlLCBwYy5nZXREYXRlKCkpOwogICAgICAgIGVuZEVt\nKHBtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U1FMRGF0ZSgpIHsK\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKHRydWUs\nIHRydWUpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIFByb3hpZXNQ\nQyBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsKICAgICAg\nICBqYXZhLnNxbC5EYXRlIGRhdGUgPSBwYy5nZXRTUUxEYXRlKCk7CiAgICAg\nICAgYXNzZXJ0Tm90TnVsbChkYXRlKTsKCiAgICAgICAgLy8gZGF0ZXMgY2Fu\nIGxvc2UgcHJlY2lzaW9uLCBidXQgbWFrZSBzdXJlIHNhbWUgZGF5CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKF9zcWxEYXRlLmdldFllYXIoKSwgZGF0ZS5nZXRZ\nZWFyKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhfc3FsRGF0ZS5nZXRNb250\naCgpLCBkYXRlLmdldE1vbnRoKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhf\nc3FsRGF0ZS5nZXREYXRlKCksIGRhdGUuZ2V0RGF0ZSgpKTsKCiAgICAgICAg\nLy8gbWFrZSBzdXJlIHByb3hpZWQKICAgICAgICBhc3NlcnRUcnVlKCFwbS5p\nc0RpcnR5KHBjKSk7CiAgICAgICAgZGF0ZS5zZXRUaW1lKFN5c3RlbS5jdXJy\nZW50VGltZU1pbGxpcygpICsgMTAwMCAqIDYwICogNjAgKiAyNCk7CiAgICAg\nICAgYXNzZXJ0VHJ1ZShwbS5pc0RpcnR5KHBjKSk7CgogICAgICAgIGVuZFR4\nKHBtKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZGF0ZSwgcGMuZ2V0U1FMRGF0\nZSgpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdFRpbWVzdGFtcCgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9IGdldFBNKHRydWUsIHRydWUpOwogICAgICAgIHN0YXJ0VHgo\ncG0pOwogICAgICAgIFByb3hpZXNQQyBwYyA9IHBtLmZpbmQoUHJveGllc1BD\nLmNsYXNzLCBfb2lkKTsKICAgICAgICBqYXZhLnNxbC5UaW1lc3RhbXAgdHN0\nYW1wID0gcGMuZ2V0VGltZXN0YW1wKCk7CiAgICAgICAgYXNzZXJ0Tm90TnVs\nbCh0c3RhbXApOwoKICAgICAgICAvLyBkYXRlcyBjYW4gbG9zZSBwcmVjaXNp\nb24sIGJ1dCBtYWtlIHN1cmUgc2FtZSBkYXkKICAgICAgICBhc3NlcnRFcXVh\nbHMoX3RpbWVzdGFtcC5nZXRZZWFyKCksIHRzdGFtcC5nZXRZZWFyKCkpOwog\nICAgICAgIGFzc2VydEVxdWFscyhfdGltZXN0YW1wLmdldE1vbnRoKCksIHRz\ndGFtcC5nZXRNb250aCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoX3RpbWVz\ndGFtcC5nZXREYXRlKCksIHRzdGFtcC5nZXREYXRlKCkpOwoKICAgICAgICAv\nLyBtYWtlIHN1cmUgcHJveGllZAogICAgICAgIGFzc2VydFRydWUoIXBtLmlz\nRGlydHkocGMpKTsKICAgICAgICB0c3RhbXAuc2V0TmFub3MoMTAwKTsKICAg\nICAgICBhc3NlcnRUcnVlKHBtLmlzRGlydHkocGMpKTsKCiAgICAgICAgZW5k\nVHgocG0pOwogICAgICAgIGFzc2VydEVxdWFscyh0c3RhbXAsIHBjLmdldFRp\nbWVzdGFtcCgpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9Cn0K\n","encoding":"base64"}

