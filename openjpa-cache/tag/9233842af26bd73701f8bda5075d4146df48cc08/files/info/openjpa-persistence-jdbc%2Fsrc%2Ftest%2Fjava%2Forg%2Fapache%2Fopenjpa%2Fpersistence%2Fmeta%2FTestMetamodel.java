{"sha":"41b857361f2431f8fa466e28e5e751f8675757c6","node_id":"MDQ6QmxvYjIwNjM2NDo0MWI4NTczNjFmMjQzMWY4ZmE0NjZlMjhlNWU3NTFmODY3NTc1N2M2","size":16504,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/41b857361f2431f8fa466e28e5e751f8675757c6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsKCmlt\ncG9ydCBqYXZhLmxhbmcucmVmbGVjdC5GaWVsZDsKaW1wb3J0IGphdmEubGFu\nZy5yZWZsZWN0Lk1vZGlmaWVyOwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLm1ldGFtb2RlbC5BdHRyaWJ1dGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5tZXRhbW9kZWwuQ29sbGVjdGlvbkF0dHJpYnV0ZTsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5FbnRpdHlUeXBlOwppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLklkZW50aWZpYWJsZVR5cGU7Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuTGlzdEF0dHJpYnV0\nZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5NYW5hZ2Vk\nVHlwZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2RlbC5TZXRB\ndHRyaWJ1dGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwu\nU2luZ3VsYXJBdHRyaWJ1dGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5t\nZXRhbW9kZWwuQXR0cmlidXRlLlBlcnNpc3RlbnRBdHRyaWJ1dGVUeXBlOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLkJpbmRhYmxlLkJp\nbmRhYmxlVHlwZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLm1ldGFtb2Rl\nbC5QbHVyYWxBdHRyaWJ1dGUuQ29sbGVjdGlvblR5cGU7CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuVHlwZS5QZXJzaXN0ZW5jZVR5cGU7\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0\nYTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5lbmhh\nbmNlLmlkZW50aXR5LkJvb2s7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZW5oYW5jZS5pZGVudGl0eS5Cb29rSWQ7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW5oYW5jZS5pZGVudGl0\neS5MaWJyYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmVuaGFuY2UuaWRlbnRpdHkuUGFnZTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5yZWxhdGlvbnMuT25lT25lQ2hpbGQ7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucmVsYXRpb25z\nLk9uZU9uZVBhcmVudDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOwoKLyoqCiAqIFRlc3Rz\nIEpQQSAyLjAgTWV0YW1vZGVsLgogKiAKICogQGF1dGhvciBQaW5ha2kgUG9k\nZGFyCiAqCiAqLwpwdWJsaWMgY2xhc3MgVGVzdE1ldGFtb2RlbCBleHRlbmRz\nIFNpbmdsZUVNRlRlc3RDYXNlIHsKICAgIHByaXZhdGUgc3RhdGljIE1ldGFt\nb2RlbEltcGwgbW9kZWw7CiAgICAKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkg\newogICAgICAgIGlmIChtb2RlbCA9PSBudWxsKSB7CiAgICAJc3VwZXIuc2V0\nVXAoCiAgICAJICAgICAgICAib3BlbmpwYS5SdW50aW1lVW5lbmhhbmNlZENs\nYXNzZXMiLCAidW5zdXBwb3J0ZWQiLAogICAgCSAgICAgICAgIm9wZW5qcGEu\nRHluYW1pY0VuaGFuY2VtZW50QWdlbnQiLCAiZmFsc2UiLAogICAgCQkJSW1w\nbGljaXRGaWVsZEFjY2Vzc01hcHBlZFN1cGVyY2xhc3MuY2xhc3MsCiAgICAJ\nICAgICAgICBJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZS5jbGFzcywgCiAgICAJ\nICAgICAgICBJbXBsaWNpdEZpZWxkQWNjZXNzU3ViY2xhc3MuY2xhc3MsCiAg\nICAJICAgICAgICBFeHBsaWNpdEZpZWxkQWNjZXNzLmNsYXNzLCAKICAgIAkg\nICAgICAgIEV4cGxpY2l0UHJvcGVydHlBY2Nlc3MuY2xhc3MsCiAgICAJICAg\nICAgICBFbWJlZDAuY2xhc3MsIAogICAgCSAgICAgICAgRW1iZWQxLmNsYXNz\nLAogICAgCSAgICAgICAgT25lT25lUGFyZW50LmNsYXNzLAogICAgCSAgICAg\nICAgT25lT25lQ2hpbGQuY2xhc3MsCiAgICAJICAgICAgICBCb29rLmNsYXNz\nLAogICAgCSAgICAgICAgTGlicmFyeS5jbGFzcywKICAgIAkgICAgICAgIFBh\nZ2UuY2xhc3MpOwogICAgCWVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAg\nICAgICAgbW9kZWwgPSAoTWV0YW1vZGVsSW1wbCllbWYuZ2V0TWV0YW1vZGVs\nKCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nTWV0YU1vZGVsRm9yRG9tYWluQ2xhc3Nlc0V4aXN0KCkgewogICAgICAgIGFz\nc2VydEZhbHNlKG1vZGVsLmdldEVudGl0aWVzKCkuaXNFbXB0eSgpKTsKICAg\nICAgICBhc3NlcnRGYWxzZShtb2RlbC5nZXRFbWJlZGRhYmxlcygpLmlzRW1w\ndHkoKSk7CiAgICAgICAgYXNzZXJ0RmFsc2UobW9kZWwuZ2V0TWFuYWdlZFR5\ncGVzKCkuaXNFbXB0eSgpKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQg\ndGVzdE1ldGFDbGFzc0ZpZWxkc0FyZVBvcHVsYXRlZCgpIHsKICAgICAgICBF\nbnRpdHlUeXBlPEltcGxpY2l0RmllbGRBY2Nlc3NTdWJjbGFzcz4gbSA9ICBt\nb2RlbC5lbnRpdHkoSW1wbGljaXRGaWVsZEFjY2Vzc1N1YmNsYXNzLmNsYXNz\nKTsKICAgICAgICBhc3NlcnROb3ROdWxsKG0pOwogICAgICAgIENsYXNzPD8+\nIG1DbHMgPSBtLmdldEphdmFUeXBlKCk7CiAgICAgICAgYXNzZXJ0U2FtZShJ\nbXBsaWNpdEZpZWxkQWNjZXNzU3ViY2xhc3MuY2xhc3MsIG1DbHMpOwogICAg\nICAgIAogICAgICAgIENsYXNzPD8+IG0yQ2xzID0gbW9kZWwuZ2V0UmVwb3Np\ndG9yeSgpLmdldE1ldGFNb2RlbChtQ2xzLCB0cnVlKTsKICAgICAgICBhc3Nl\ncnROb3ROdWxsKG0yQ2xzKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBG\naWVsZCBmMiA9IGdldFN0YXRpY0ZpZWxkKG0yQ2xzLCAiYmFzZSIpOwogICAg\nICAgICAgICBhc3NlcnROb3ROdWxsKGYyKTsKICAgICAgICAgICAgT2JqZWN0\nIHZhbHVlID0gZjIuZ2V0KG51bGwpOwogICAgICAgICAgICBhc3NlcnROb3RO\ndWxsKHZhbHVlKTsKICAgICAgICAgICAgYXNzZXJ0VHJ1ZShBdHRyaWJ1dGUu\nY2xhc3MuaXNBc3NpZ25hYmxlRnJvbSh2YWx1ZS5nZXRDbGFzcygpKSk7CiAg\nICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdC5w\ncmludFN0YWNrVHJhY2UoKTsKICAgICAgICAgICAgZmFpbCgpOwogICAgICAg\nIH0KICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdERvbWFpbkNsYXNz\nQ2F0ZWdvcml6ZWRJblBlcnNpc3RlbnRDYXRlZ29yeSgpIHsKICAgIAlhc3Nl\ncnRDYXRlZ29yeShQZXJzaXN0ZW5jZVR5cGUuTUFQUEVEX1NVUEVSQ0xBU1Ms\nIEltcGxpY2l0RmllbGRBY2Nlc3NNYXBwZWRTdXBlcmNsYXNzLmNsYXNzKTsK\nICAgIAlhc3NlcnRDYXRlZ29yeShQZXJzaXN0ZW5jZVR5cGUuRU5USVRZLCBJ\nbXBsaWNpdEZpZWxkQWNjZXNzQmFzZS5jbGFzcyk7CiAgICAJYXNzZXJ0Q2F0\nZWdvcnkoUGVyc2lzdGVuY2VUeXBlLkVOVElUWSwgSW1wbGljaXRGaWVsZEFj\nY2Vzc1N1YmNsYXNzLmNsYXNzKTsKICAgIAlhc3NlcnRDYXRlZ29yeShQZXJz\naXN0ZW5jZVR5cGUuRU1CRUREQUJMRSwgRW1iZWQwLmNsYXNzKTsKICAgIAlh\nc3NlcnRDYXRlZ29yeShQZXJzaXN0ZW5jZVR5cGUuRU1CRUREQUJMRSwgRW1i\nZWQxLmNsYXNzKTsKICAgIAkKICAgICAgICBhc3NlcnROb3ROdWxsKG1vZGVs\nLmVudGl0eShJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZS5jbGFzcykpOwogICAg\nICAgIGFzc2VydE5vdE51bGwobW9kZWwuZW50aXR5KEltcGxpY2l0RmllbGRB\nY2Nlc3NTdWJjbGFzcy5jbGFzcykpOyAgICAgIAogICAgICAgIGFzc2VydE5v\ndE51bGwobW9kZWwuZW1iZWRkYWJsZShFbWJlZDAuY2xhc3MpKTsKICAgICAg\nICBhc3NlcnROb3ROdWxsKG1vZGVsLmVtYmVkZGFibGUoRW1iZWQxLmNsYXNz\nKSk7CiAgICAgICAgCiAgICAgICAgamF2YS51dGlsLlNldDxNYW5hZ2VkVHlw\nZTw/Pj4gbWFuYWdlZFR5cGVzID0gbW9kZWwuZ2V0TWFuYWdlZFR5cGVzKCk7\nCiAgICAgICAgbWFuYWdlZFR5cGVzLnJlbW92ZUFsbChtb2RlbC5nZXRFbWJl\nZGRhYmxlcygpKTsKICAgICAgICBtYW5hZ2VkVHlwZXMucmVtb3ZlQWxsKG1v\nZGVsLmdldEVudGl0aWVzKCkpOwogICAgICAgIGFzc2VydE5vdE51bGwobW9k\nZWwudHlwZShJbXBsaWNpdEZpZWxkQWNjZXNzTWFwcGVkU3VwZXJjbGFzcy5j\nbGFzcykpOwogICAgICAgIGFzc2VydFRydWUobWFuYWdlZFR5cGVzLmNvbnRh\naW5zKG1vZGVsLnR5cGUoSW1wbGljaXRGaWVsZEFjY2Vzc01hcHBlZFN1cGVy\nY2xhc3MuY2xhc3MpKSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRl\nc3RHZXRBdHRyaWJ1dGVCeU5hbWVBbmRUeXBlRnJvbU1ldGFDbGFzcygpIHsK\nICAgICAgICBNYW5hZ2VkVHlwZTxJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZT4g\nZTAgPSBtb2RlbC5lbnRpdHkoSW1wbGljaXRGaWVsZEFjY2Vzc0Jhc2UuY2xh\nc3MpOwogICAgICAgIGFzc2VydE5vdE51bGwoZTAuZ2V0QXR0cmlidXRlKCJm\nMCIpKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGUwLmdldFNpbmd1bGFyQXR0\ncmlidXRlKCJmMCIsIFN0cmluZy5jbGFzcykpOwogICAgICAgIGFzc2VydFNh\nbWUoZTAuZ2V0QXR0cmlidXRlKCJmMCIpLCBlMC5nZXRTaW5ndWxhckF0dHJp\nYnV0ZSgiZjAiLCBTdHJpbmcuY2xhc3MpKTsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBlMC5nZXRTaW5ndWxhckF0dHJpYnV0ZSgiZjAiLCBFeHBsaWNp\ndEZpZWxkQWNjZXNzLmNsYXNzKTsKICAgICAgICAgICAgZmFpbCgiRXhwZWN0\nZWQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIik7CiAgICAgICAgfSBjYXRj\naCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAg\nLy8gZ29vZAogICAgICAgIH0KICAgICAgICBNYW5hZ2VkVHlwZTxJbXBsaWNp\ndEZpZWxkQWNjZXNzU3ViY2xhc3M+IGUxID0gbW9kZWwuZW50aXR5KEltcGxp\nY2l0RmllbGRBY2Nlc3NTdWJjbGFzcy5jbGFzcyk7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChlMS5nZXRBdHRyaWJ1dGUoImYwIikpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0QXR0cmlidXRlQnlEZWNsYXJhdGlvbigpIHsK\nICAgICAgICBNYW5hZ2VkVHlwZTxJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZT4g\nZTAgPSBtb2RlbC5lbnRpdHkoSW1wbGljaXRGaWVsZEFjY2Vzc0Jhc2UuY2xh\nc3MpOwogICAgICAgIE1hbmFnZWRUeXBlPEltcGxpY2l0RmllbGRBY2Nlc3NT\ndWJjbGFzcz4gZTEgPSBtb2RlbC5lbnRpdHkoSW1wbGljaXRGaWVsZEFjY2Vz\nc1N1YmNsYXNzLmNsYXNzKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGUwLmdl\ndEF0dHJpYnV0ZSgiZjAiKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlMS5n\nZXRBdHRyaWJ1dGUoImYwIikpOwogICAgICAgIFN5c3RlbS5lcnIucHJpbnRs\nbihlMC5nZXRBdHRyaWJ1dGUoImYwIikpOwogICAgICAgIGFzc2VydE5vdE51\nbGwoZTAuZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoImYwIiwgU3RyaW5nLmNsYXNz\nKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlMS5nZXRTaW5ndWxhckF0dHJp\nYnV0ZSgiZjAiLCBTdHJpbmcuY2xhc3MpKTsKICAgICAgICBhc3NlcnRTYW1l\nKGUwLmdldEF0dHJpYnV0ZSgiZjAiKSwgZTAuZ2V0U2luZ3VsYXJBdHRyaWJ1\ndGUoImYwIiwgU3RyaW5nLmNsYXNzKSk7CiAgICAgICAgYXNzZXJ0U2FtZShl\nMS5nZXRBdHRyaWJ1dGUoImYwIiksIGUxLmdldFNpbmd1bGFyQXR0cmlidXRl\nKCJmMCIsIFN0cmluZy5jbGFzcykpOwogICAgICAgIGFzc2VydE5vdFNhbWUo\nZTAuZ2V0QXR0cmlidXRlKCJmMCIpLCBlMS5nZXRBdHRyaWJ1dGUoImYwIikp\nOwogICAgICAgIGFzc2VydE5vdFNhbWUoZTAuZ2V0U2luZ3VsYXJBdHRyaWJ1\ndGUoImYwIiwgU3RyaW5nLmNsYXNzKSwgZTEuZ2V0U2luZ3VsYXJBdHRyaWJ1\ndGUoImYwIiwgU3RyaW5nLmNsYXNzKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVs\nbChlMC5nZXREZWNsYXJlZEF0dHJpYnV0ZSgiZjAiKSk7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgZTEuZ2V0RGVjbGFyZWRBdHRyaWJ1dGUoImYwIik7\nCiAgICAgICAgICAgIGZhaWwoIkV4cGVjdGVkIElsbGVnYWxBcmd1bWVudEV4\nY2VwdGlvbiIpOwogICAgICAgIH0gY2F0Y2ggKElsbGVnYWxBcmd1bWVudEV4\nY2VwdGlvbiBlKSB7CiAgICAgICAgICAgIC8vIGdvb2QKICAgICAgICB9CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RQQ0NvbGxlY3Rpb24oKSB7\nCiAgICAgICAgTWFuYWdlZFR5cGU8SW1wbGljaXRGaWVsZEFjY2Vzc0Jhc2U+\nIGUwID0gbW9kZWwuZW50aXR5KEltcGxpY2l0RmllbGRBY2Nlc3NCYXNlLmNs\nYXNzKTsKICAgICAgICBNYW5hZ2VkVHlwZTxFeHBsaWNpdEZpZWxkQWNjZXNz\nPiByMSA9IG1vZGVsLmVudGl0eShFeHBsaWNpdEZpZWxkQWNjZXNzLmNsYXNz\nKTsKICAgICAgICBDb2xsZWN0aW9uQXR0cmlidXRlPD8sPz4gcmVsQ29sbCA9\nIGUwLmdldENvbGxlY3Rpb24oImNvbGxlY3Rpb25SZWxhdGlvbiIsIEV4cGxp\nY2l0RmllbGRBY2Nlc3MuY2xhc3MpOwogICAgICAgIGFzc2VydEVxdWFscyhq\nYXZheC5wZXJzaXN0ZW5jZS5tZXRhbW9kZWwuUGx1cmFsQXR0cmlidXRlLkNv\nbGxlY3Rpb25UeXBlLkNPTExFQ1RJT04sIAogICAgICAgICAgICAgICAgcmVs\nQ29sbC5nZXRDb2xsZWN0aW9uVHlwZSgpKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoZTAsIHJlbENvbGwuZ2V0RGVjbGFyaW5nVHlwZSgpKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMocjEsIHJlbENvbGwuZ2V0RWxlbWVudFR5cGUoKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKEV4cGxpY2l0RmllbGRBY2Nlc3MuY2xhc3Ms\nIHJlbENvbGwuZ2V0QmluZGFibGVKYXZhVHlwZSgpKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoQmluZGFibGVUeXBlLlBMVVJBTF9BVFRSSUJVVEUsIHJlbENv\nbGwuZ2V0QmluZGFibGVUeXBlKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhB\ndHRyaWJ1dGUuUGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUuT05FX1RPX01BTlks\nIHJlbENvbGwuZ2V0UGVyc2lzdGVudEF0dHJpYnV0ZVR5cGUoKSk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RQQ0xpc3QoKSB7CiAgICAgICAg\nTWFuYWdlZFR5cGU8SW1wbGljaXRGaWVsZEFjY2Vzc0Jhc2U+IGUwID0gbW9k\nZWwuZW50aXR5KEltcGxpY2l0RmllbGRBY2Nlc3NCYXNlLmNsYXNzKTsKICAg\nICAgICBNYW5hZ2VkVHlwZTxFeHBsaWNpdEZpZWxkQWNjZXNzPiByMSA9IG1v\nZGVsLmVudGl0eShFeHBsaWNpdEZpZWxkQWNjZXNzLmNsYXNzKTsKICAgICAg\nICBMaXN0QXR0cmlidXRlPD8sID8+IHJlbExpc3QgPSBlMC5nZXRMaXN0KCJs\naXN0UmVsYXRpb24iLCBFeHBsaWNpdEZpZWxkQWNjZXNzLmNsYXNzKTsKICAg\nICAgICAKICAgICAgICBhc3NlcnRFcXVhbHMoQ29sbGVjdGlvblR5cGUuTElT\nVCwgcmVsTGlzdC5nZXRDb2xsZWN0aW9uVHlwZSgpKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoZTAsIHJlbExpc3QuZ2V0RGVjbGFyaW5nVHlwZSgpKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMocjEsIHJlbExpc3QuZ2V0RWxlbWVudFR5cGUo\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKEV4cGxpY2l0RmllbGRBY2Nlc3Mu\nY2xhc3MsIHJlbExpc3QuZ2V0QmluZGFibGVKYXZhVHlwZSgpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoQmluZGFibGVUeXBlLlBMVVJBTF9BVFRSSUJVVEUs\nIHJlbExpc3QuZ2V0QmluZGFibGVUeXBlKCkpOwogICAgICAgIGFzc2VydEVx\ndWFscyhQZXJzaXN0ZW50QXR0cmlidXRlVHlwZS5PTkVfVE9fTUFOWSwgcmVs\nTGlzdC5nZXRQZXJzaXN0ZW50QXR0cmlidXRlVHlwZSgpKTsKICAgIH0KICAg\nIAogICAgcHVibGljIHZvaWQgdGVzdFBDU2V0KCkgewogICAgICAgIE1hbmFn\nZWRUeXBlPEltcGxpY2l0RmllbGRBY2Nlc3NCYXNlPiBlMCA9IG1vZGVsLmVu\ndGl0eShJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZS5jbGFzcyk7CiAgICAgICAg\nTWFuYWdlZFR5cGU8RXhwbGljaXRGaWVsZEFjY2Vzcz4gcjEgPSBtb2RlbC5l\nbnRpdHkoRXhwbGljaXRGaWVsZEFjY2Vzcy5jbGFzcyk7CiAgICAgICAgU2V0\nQXR0cmlidXRlPD8sID8+IHJlbFNldCA9IGUwLmdldFNldCgic2V0UmVsYXRp\nb24iLCBFeHBsaWNpdEZpZWxkQWNjZXNzLmNsYXNzKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoamF2YXgucGVyc2lzdGVuY2UubWV0YW1vZGVsLlBsdXJhbEF0\ndHJpYnV0ZS5Db2xsZWN0aW9uVHlwZS5TRVQsIHJlbFNldC5nZXRDb2xsZWN0\naW9uVHlwZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZTAsIHJlbFNldC5n\nZXREZWNsYXJpbmdUeXBlKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhyMSwg\ncmVsU2V0LmdldEVsZW1lbnRUeXBlKCkpOwogICAgICAgIGFzc2VydEVxdWFs\ncyhFeHBsaWNpdEZpZWxkQWNjZXNzLmNsYXNzLCByZWxTZXQuZ2V0QmluZGFi\nbGVKYXZhVHlwZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoQmluZGFibGVU\neXBlLlBMVVJBTF9BVFRSSUJVVEUsIHJlbFNldC5nZXRCaW5kYWJsZVR5cGUo\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKFBlcnNpc3RlbnRBdHRyaWJ1dGVU\neXBlLk9ORV9UT19NQU5ZLCByZWxTZXQuZ2V0UGVyc2lzdGVudEF0dHJpYnV0\nZVR5cGUoKSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3REZWNs\nYXJlZEZpZWxkcygpIHsKICAgICAgICBNYW5hZ2VkVHlwZTxJbXBsaWNpdEZp\nZWxkQWNjZXNzU3ViY2xhc3M+IGUxID0gbW9kZWwuZW50aXR5KEltcGxpY2l0\nRmllbGRBY2Nlc3NTdWJjbGFzcy5jbGFzcyk7CiAgICAgICAgamF2YS51dGls\nLlNldDw/PiBhbGwgPSBlMS5nZXRBdHRyaWJ1dGVzKCk7CiAgICAgICAgamF2\nYS51dGlsLlNldDw/PiBkZWNsID0gZTEuZ2V0RGVjbGFyZWRBdHRyaWJ1dGVz\nKCk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgiQWxsIGZpZWxkcyAiICsgYWxsICsg\nIlxyXG5EZWNsYXJlZCBmaWVsZHMgIiArIGRlY2wgKyAiXHJcbiIrCiAgICAg\nICAgICJleHBlY2V0ZCBub3QgYWxsIGZpZWxkcyBhcyBkZWNsYXJlZCIsIGFs\nbC5zaXplKCkgPiBkZWNsLnNpemUoKSk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyB2b2lkIHRlc3ROb25FeGlzdGVudEZpZWxkKCkgewogICAgICAgIE1hbmFn\nZWRUeXBlPEltcGxpY2l0RmllbGRBY2Nlc3NCYXNlPiBlMCA9IG1vZGVsLmVu\ndGl0eShJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZS5jbGFzcyk7CiAgICAgICAg\nTWFuYWdlZFR5cGU8SW1wbGljaXRGaWVsZEFjY2Vzc1N1YmNsYXNzPiBlMSA9\nIG1vZGVsLmVudGl0eShJbXBsaWNpdEZpZWxkQWNjZXNzU3ViY2xhc3MuY2xh\nc3MpOwogICAgICAgIGFzc2VydEZhaWxzKGUwLCAieHl6IiwgZmFsc2UpOwog\nICAgICAgIGFzc2VydEZhaWxzKGUxLCAiZjAiLCB0cnVlKTsKICAgIH0KICAg\nIAogICAgLyoqCiAgICAgKiBUZXN0IGFsbCBhdHRyaWJ1dGUgZ2V0dGVycyBv\nZiBNYW5hZ2VkVHlwZSBmb3IgdmFsaWQgaW5wdXRzLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0QXR0cmlidXRlR2V0dGVyc0ZvclZhbGlkSW5wdXQo\nKSB7CiAgICAgICAgSWRlbnRpZmlhYmxlVHlwZTxJbXBsaWNpdEZpZWxkQWNj\nZXNzU3ViY2xhc3M+IHN1YkNsYXNzID0gbW9kZWwuZW50aXR5KEltcGxpY2l0\nRmllbGRBY2Nlc3NTdWJjbGFzcy5jbGFzcyk7CiAgICAgICAgSWRlbnRpZmlh\nYmxlVHlwZTxJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZT4gc3VwZXJDbGFzcyA9\nIG1vZGVsLmVudGl0eShJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZS5jbGFzcyk7\nCiAgICAgICAgCiAgICAgICAgYXNzZXJ0RXF1YWxzKHN1cGVyQ2xhc3MsIHN1\nYkNsYXNzLmdldFN1cGVydHlwZSgpKTsKICAgICAgICAKICAgICAgICBhc3Nl\ncnROb3ROdWxsKHN1YkNsYXNzLmdldEF0dHJpYnV0ZSgiZjAiKSk7CiAgICAg\nICAgYXNzZXJ0Tm90TnVsbChzdXBlckNsYXNzLmdldEF0dHJpYnV0ZSgiZjAi\nKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChzdWJDbGFzcy5nZXRBdHRyaWJ1\ndGUoIm1hcFJlbGF0aW9uS2V5RW1iZWRkZWQiKSk7CiAgICAgICAgCiAgICAg\nICAgYXNzZXJ0Tm90TnVsbChzdWJDbGFzcy5nZXRBdHRyaWJ1dGVzKCkpOwog\nICAgICAgIGFzc2VydE5vdE51bGwoc3VwZXJDbGFzcy5nZXRBdHRyaWJ1dGVz\nKCkpOwogICAgICAgIGFzc2VydEVxdWFscygxNCwgc3ViQ2xhc3MuZ2V0QXR0\ncmlidXRlcygpLnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEyLCBz\ndXBlckNsYXNzLmdldEF0dHJpYnV0ZXMoKS5zaXplKCkpOwogICAgICAgIAog\nICAgICAgIGFzc2VydE5vdE51bGwoc3VwZXJDbGFzcy5nZXRDb2xsZWN0aW9u\nKCJjb2xsZWN0aW9uUmVsYXRpb24iKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVs\nbChzdXBlckNsYXNzLmdldENvbGxlY3Rpb24oImNvbGxlY3Rpb25SZWxhdGlv\nbiIsIEV4cGxpY2l0RmllbGRBY2Nlc3MuY2xhc3MpKTsKICAgICAgICAKICAg\nICAgICBhc3NlcnROb3ROdWxsKHN1YkNsYXNzLmdldFBsdXJhbEF0dHJpYnV0\nZXMoKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChzdXBlckNsYXNzLmdldFBs\ndXJhbEF0dHJpYnV0ZXMoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDYsIHN1\nYkNsYXNzLmdldFBsdXJhbEF0dHJpYnV0ZXMoKS5zaXplKCkpOwogICAgICAg\nIGFzc2VydEVxdWFscyg1LCBzdXBlckNsYXNzLmdldFBsdXJhbEF0dHJpYnV0\nZXMoKS5zaXplKCkpOwogICAgICAgIAogICAgICAgIGFzc2VydE5vdE51bGwo\nc3ViQ2xhc3MuZ2V0RGVjbGFyZWRBdHRyaWJ1dGUoIm1hcFJlbGF0aW9uS2V5\nRW1iZWRkZWQiKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0Tm90TnVsbChz\ndWJDbGFzcy5nZXREZWNsYXJlZEF0dHJpYnV0ZXMoKSk7CiAgICAgICAgYXNz\nZXJ0Tm90TnVsbChzdXBlckNsYXNzLmdldERlY2xhcmVkQXR0cmlidXRlcygp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMiwgc3ViQ2xhc3MuZ2V0RGVjbGFy\nZWRBdHRyaWJ1dGVzKCkuc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nOSwgc3VwZXJDbGFzcy5nZXREZWNsYXJlZEF0dHJpYnV0ZXMoKS5zaXplKCkp\nOwogICAgICAgIAogICAgICAgIGFzc2VydE5vdE51bGwoc3VwZXJDbGFzcy5n\nZXREZWNsYXJlZENvbGxlY3Rpb24oImNvbGxlY3Rpb25SZWxhdGlvbiIpKTsK\nICAgICAgICAKICAgICAgICBhc3NlcnROb3ROdWxsKHN1YkNsYXNzLmdldERl\nY2xhcmVkUGx1cmFsQXR0cmlidXRlcygpKTsKICAgICAgICBhc3NlcnROb3RO\ndWxsKHN1cGVyQ2xhc3MuZ2V0RGVjbGFyZWRQbHVyYWxBdHRyaWJ1dGVzKCkp\nOwogICAgICAgIGFzc2VydEVxdWFscygxLCBzdWJDbGFzcy5nZXREZWNsYXJl\nZFBsdXJhbEF0dHJpYnV0ZXMoKS5zaXplKCkpOwogICAgICAgIGFzc2VydEVx\ndWFscyg1LCBzdXBlckNsYXNzLmdldERlY2xhcmVkUGx1cmFsQXR0cmlidXRl\ncygpLnNpemUoKSk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0Tm90TnVsbChz\ndXBlckNsYXNzLmdldERlY2xhcmVkTGlzdCgibGlzdFJlbGF0aW9uIikpOwog\nICAgICAgIGFzc2VydE5vdE51bGwoc3VwZXJDbGFzcy5nZXREZWNsYXJlZExp\nc3QoImxpc3RSZWxhdGlvbiIsIEV4cGxpY2l0RmllbGRBY2Nlc3MuY2xhc3Mp\nKTsKICAgICAgICBhc3NlcnROb3ROdWxsKHN1cGVyQ2xhc3MuZ2V0RGVjbGFy\nZWRNYXAoIm1hcFJlbGF0aW9uS2V5QmFzaWMiKSk7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChzdXBlckNsYXNzLmdldERlY2xhcmVkTWFwKCJtYXBSZWxhdGlv\nbktleUJhc2ljIiwgSW50ZWdlci5jbGFzcywgRXhwbGljaXRGaWVsZEFjY2Vz\ncy5jbGFzcykpOwogICAgICAgIGFzc2VydE5vdE51bGwoc3VwZXJDbGFzcy5n\nZXREZWNsYXJlZFNldCgic2V0UmVsYXRpb24iKSk7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChzdXBlckNsYXNzLmdldERlY2xhcmVkU2V0KCJzZXRSZWxhdGlv\nbiIsIEV4cGxpY2l0RmllbGRBY2Nlc3MuY2xhc3MpKTsKICAgICAgICBhc3Nl\ncnROb3ROdWxsKHN1cGVyQ2xhc3MuZ2V0RGVjbGFyZWRTaW5ndWxhckF0dHJp\nYnV0ZSgib25lMm9uZVJlbGF0aW9uIikpOwogICAgICAgIGFzc2VydE5vdE51\nbGwoc3VwZXJDbGFzcy5nZXREZWNsYXJlZFNpbmd1bGFyQXR0cmlidXRlKCJv\nbmUyb25lUmVsYXRpb24iLCBFeHBsaWNpdEZpZWxkQWNjZXNzLmNsYXNzKSk7\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbChzdXBlckNsYXNzLmdldERlY2xhcmVk\nU2luZ3VsYXJBdHRyaWJ1dGVzKCkpOwogICAgICAgIAogICAgICAgIAogICAg\nICAgIGFzc2VydE5vdE51bGwoc3ViQ2xhc3MuZ2V0TGlzdCgibGlzdFJlbGF0\naW9uIikpOwogICAgICAgIGFzc2VydE5vdE51bGwoc3ViQ2xhc3MuZ2V0TGlz\ndCgibGlzdFJlbGF0aW9uIiwgRXhwbGljaXRGaWVsZEFjY2Vzcy5jbGFzcykp\nOwogICAgICAgIGFzc2VydE5vdE51bGwoc3ViQ2xhc3MuZ2V0TWFwKCJtYXBS\nZWxhdGlvbktleUJhc2ljIikpOwogICAgICAgIGFzc2VydE5vdE51bGwoc3Vi\nQ2xhc3MuZ2V0TWFwKCJtYXBSZWxhdGlvbktleUJhc2ljIiwgSW50ZWdlci5j\nbGFzcywgRXhwbGljaXRGaWVsZEFjY2Vzcy5jbGFzcykpOwogICAgICAgIGFz\nc2VydE5vdE51bGwoc3ViQ2xhc3MuZ2V0UGVyc2lzdGVuY2VUeXBlKCkpOwog\nICAgICAgIGFzc2VydE5vdE51bGwoc3ViQ2xhc3MuZ2V0U2V0KCJzZXRSZWxh\ndGlvbiIpKTsKICAgICAgICBhc3NlcnROb3ROdWxsKHN1YkNsYXNzLmdldFNl\ndCgic2V0UmVsYXRpb24iLCBFeHBsaWNpdEZpZWxkQWNjZXNzLmNsYXNzKSk7\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbChzdWJDbGFzcy5nZXRTaW5ndWxhckF0\ndHJpYnV0ZSgib25lMm9uZVJlbGF0aW9uIikpOwogICAgICAgIGFzc2VydE5v\ndE51bGwoc3ViQ2xhc3MuZ2V0U2luZ3VsYXJBdHRyaWJ1dGUoIm9uZTJvbmVS\nZWxhdGlvbiIsIEV4cGxpY2l0RmllbGRBY2Nlc3MuY2xhc3MpKTsKICAgICAg\nICBhc3NlcnROb3ROdWxsKHN1YkNsYXNzLmdldFNpbmd1bGFyQXR0cmlidXRl\ncygpKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdFNpbXBsZUlk\nQXR0cmlidXRlcygpIHsKICAgICAgICBJZGVudGlmaWFibGVUeXBlPE9uZU9u\nZVBhcmVudD4gZW50aXR5ID0gbW9kZWwuZW50aXR5KE9uZU9uZVBhcmVudC5j\nbGFzcyk7CiAgICAgICAgZm9yIChBdHRyaWJ1dGU8PyBzdXBlciBPbmVPbmVQ\nYXJlbnQsPz4gYSA6IGVudGl0eS5nZXRBdHRyaWJ1dGVzKCkpIHsKICAgICAg\nICAgICAgU3lzdGVtLmVyci5wcmludGxuKGEuZ2V0TmFtZSgpKTsKICAgICAg\nICB9CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlbnRpdHkuZ2V0SWQobG9uZy5j\nbGFzcykpOwogICAgICAgIGFzc2VydE5vdE51bGwoZW50aXR5LmdldERlY2xh\ncmVkSWQobG9uZy5jbGFzcykpOwogICAgICAgIGFzc2VydFRydWUoZW50aXR5\nLmhhc1NpbmdsZUlkQXR0cmlidXRlKCkpOwogICAgICAgIGFzc2VydEVxdWFs\ncyhsb25nLmNsYXNzLCBlbnRpdHkuZ2V0SWRUeXBlKCkuZ2V0SmF2YVR5cGUo\nKSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RWZXJzaW9uQXR0\ncmlidXRlcygpIHsKICAgICAgICBJZGVudGlmaWFibGVUeXBlPE9uZU9uZVBh\ncmVudD4gZW50aXR5ID0gbW9kZWwuZW50aXR5KE9uZU9uZVBhcmVudC5jbGFz\ncyk7CiAgICAgICAgZm9yIChBdHRyaWJ1dGU8PyBzdXBlciBPbmVPbmVQYXJl\nbnQsPz4gYSA6IGVudGl0eS5nZXRBdHRyaWJ1dGVzKCkpIHsKICAgICAgICAg\nICAgU3lzdGVtLmVyci5wcmludGxuKGEuZ2V0TmFtZSgpKTsKICAgICAgICB9\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbChlbnRpdHkuZ2V0VmVyc2lvbihJbnRl\nZ2VyLmNsYXNzKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlbnRpdHkuZ2V0\nRGVjbGFyZWRWZXJzaW9uKEludGVnZXIuY2xhc3MpKTsKICAgICAgICBhc3Nl\ncnRUcnVlKGVudGl0eS5oYXNWZXJzaW9uQXR0cmlidXRlKCkpOwogICAgfQog\nICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0SWRDbGFzc0F0dHJpYnV0ZXMoKSB7\nCiAgICAgICAgSWRlbnRpZmlhYmxlVHlwZTxCb29rPiBlbnRpdHkgPSBtb2Rl\nbC5lbnRpdHkoQm9vay5jbGFzcyk7CiAgICAgICAgCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDIsIGVudGl0eS5nZXRJZENsYXNzQXR0cmlidXRlcygpLnNpemUo\nKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlbnRpdHkuZ2V0SWQoU3RyaW5n\nLmNsYXNzKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChlbnRpdHkuZ2V0SWQo\nTGlicmFyeS5jbGFzcykpOwogICAgICAgIGFzc2VydE5vdE51bGwoZW50aXR5\nLmdldERlY2xhcmVkSWQoU3RyaW5nLmNsYXNzKSk7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChlbnRpdHkuZ2V0RGVjbGFyZWRJZChMaWJyYXJ5LmNsYXNzKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKEJvb2tJZC5jbGFzcywgZW50aXR5Lmdl\ndElkVHlwZSgpLmdldEphdmFUeXBlKCkpOwogICAgICAgIGFzc2VydEZhbHNl\nKGVudGl0eS5oYXNTaW5nbGVJZEF0dHJpYnV0ZSgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0QmFzaWNBdHRyaWJ1dGVUeXBlKCkgewogICAgICAg\nIE1hbmFnZWRUeXBlPEltcGxpY2l0RmllbGRBY2Nlc3NCYXNlPiBlMCA9IG1v\nZGVsLmVudGl0eShJbXBsaWNpdEZpZWxkQWNjZXNzQmFzZS5jbGFzcyk7CiAg\nICAgICAgU2luZ3VsYXJBdHRyaWJ1dGU8SW1wbGljaXRGaWVsZEFjY2Vzc0Jh\nc2UsPz4gcEludCA9IGUwLmdldERlY2xhcmVkU2luZ3VsYXJBdHRyaWJ1dGUo\nInByaW1pdGl2ZUludCIpOwogICAgICAgIGFzc2VydEVxdWFscyhQZXJzaXN0\nZW50QXR0cmlidXRlVHlwZS5CQVNJQywgcEludC5nZXRQZXJzaXN0ZW50QXR0\ncmlidXRlVHlwZSgpKTsKICAgIH0KICAgIAogICAgdm9pZCBhc3NlcnRGYWls\ncyhNYW5hZ2VkVHlwZTw/PiB0eXBlLCBTdHJpbmcgbmFtZSwgYm9vbGVhbiBk\nZWMpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBBdHRyaWJ1dGU8Pyw/\nPiBhID0gZGVjID8gdHlwZS5nZXREZWNsYXJlZEF0dHJpYnV0ZShuYW1lKSAK\nICAgICAgICAgICAgICAgIDogdHlwZS5nZXRBdHRyaWJ1dGUobmFtZSk7CiAg\nICAgICAgICAgIGZhaWwoIkV4cGVjdGVkIHRvIGZhaWwgIiArIG5hbWUgKyAi\nIG9uICIgKyB0eXBlKTsKICAgICAgICB9IGNhdGNoIChJbGxlZ2FsQXJndW1l\nbnRFeGNlcHRpb24gZSkgewogICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50\nbG4oIkV4cGVjZXRlZDoiICsgZSk7CiAgICAgICAgfQogICAgfQogICAgCiAg\nICBQZXJzaXN0ZW5jZVR5cGUgY2F0ZWdvcml6ZShDbGFzczw/PiBjKSB7CiAg\nICAgICAgQWJzdHJhY3RNYW5hZ2VkVHlwZTw/PiB0eXBlID0gKEFic3RyYWN0\nTWFuYWdlZFR5cGU8Pz4pbW9kZWwuZ2V0VHlwZShjKTsKICAgICAgICBDbGFz\nc01ldGFEYXRhIG1ldGEgPSB0eXBlLm1ldGE7CiAgICAgICAgcmV0dXJuIE1l\ndGFtb2RlbEltcGwuZ2V0UGVyc2lzdGVuY2VUeXBlKG1ldGEpOwogICAgfQog\nICAgCiAgICB2b2lkIGFzc2VydENhdGVnb3J5KFBlcnNpc3RlbmNlVHlwZSBj\nYXRlZ29yeSwgQ2xhc3M8Pz4gY2xzKSB7CiAgICAJYXNzZXJ0RXF1YWxzKGNs\ncy50b1N0cmluZygpLCBjYXRlZ29yeSwgY2F0ZWdvcml6ZShjbHMpKTsKICAg\nIH0KICAgIAogICAgRmllbGQgZ2V0U3RhdGljRmllbGQoQ2xhc3M8Pz4gY2xz\nLCBTdHJpbmcgbmFtZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEZp\nZWxkW10gZmRzID0gY2xzLmdldERlY2xhcmVkRmllbGRzKCk7CiAgICAgICAg\nICAgIGZvciAoRmllbGQgZiA6IGZkcykgewogICAgICAgICAgICAgICAgaW50\nIG1vZHMgPSBmLmdldE1vZGlmaWVycygpOwogICAgICAgICAgICAgICAgaWYg\nKGYuZ2V0TmFtZSgpLmVxdWFscyhuYW1lKSAmJiBNb2RpZmllci5pc1N0YXRp\nYyhtb2RzKSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZjsKICAgICAg\nICAgICAgfQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAg\nICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9Cg==\n","encoding":"base64"}

