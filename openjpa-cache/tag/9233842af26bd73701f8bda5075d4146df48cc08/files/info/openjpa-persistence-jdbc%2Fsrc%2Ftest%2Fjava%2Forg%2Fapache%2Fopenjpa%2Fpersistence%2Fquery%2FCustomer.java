{"sha":"ca8725329cb98816025ccbfd515086273a666e0a","node_id":"MDQ6QmxvYjIwNjM2NDpjYTg3MjUzMjljYjk4ODE2MDI1Y2NiZmQ1MTUwODYyNzNhNjY2ZTBh","size":3059,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ca8725329cb98816025ccbfd515086273a666e0a","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuKjsKCmltcG9ydCBqYXZhLmlv\nLlNlcmlhbGl6YWJsZTsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwpp\nbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5M\naXN0OwoKQEVudGl0eQpAVGFibGUobmFtZT0iVENVUyIpCnB1YmxpYyBjbGFz\ncyBDdXN0b21lciB7CgogICAgQEVtYmVkZGFibGUKCXB1YmxpYyBzdGF0aWMg\nY2xhc3MgQ3VzdG9tZXJLZXkgaW1wbGVtZW50cyBTZXJpYWxpemFibGUgewoJ\nCXB1YmxpYyBTdHJpbmcgY3lDb2RlOwoJCXB1YmxpYyBpbnQgaWQ7CgkJCgkJ\ncHVibGljIEN1c3RvbWVyS2V5KCl7fQoJCQoJCXB1YmxpYyAgQ3VzdG9tZXJL\nZXkoU3RyaW5nIGNjLCBpbnQgaWQpewoJCQljeUNvZGU9Y2M7CgkJCXRoaXMu\naWQ9aWQ7CgkJfQoJCQoJCXB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CgkJ\nCXJldHVybiBjeUNvZGUrIi8iK2lkOwoJCX0KCQlAT3ZlcnJpZGUKCQlwdWJs\naWMgYm9vbGVhbiBlcXVhbHMoT2JqZWN0IG9iail7CgkJCWlmIChvYmo9PXRo\naXMpIHJldHVybiB0cnVlOwoJCQlpZiAoICEgKG9iaiBpbnN0YW5jZW9mIEN1\nc3RvbWVyS2V5KSApIHJldHVybiBmYWxzZTsKCQkJQ3VzdG9tZXJLZXkga2V5\nID0gKEN1c3RvbWVyS2V5KW9iajsKCQkJaWYgKGtleS5jeUNvZGUuZXF1YWxz\nKHRoaXMuY3lDb2RlKSAmJiAKCQkJCQlrZXkuaWQ9PXRoaXMuaWQpIHJldHVy\nbiB0cnVlOwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCQoJCUBPdmVycmlkZQoJ\nCXB1YmxpYyBpbnQgaGFzaENvZGUoKSB7CgkJCXJldHVybiB0aGlzLmN5Q29k\nZS5oYXNoQ29kZSgpCgkJCQleIHRoaXMuaWQ7CgkJfQoJfQoJCglwdWJsaWMg\nZW51bSBDcmVkaXRSYXRpbmcgeyBQT09SLCBHT09ELCBFWENFTExFTlQgfTsK\nCQoJQEVtYmVkZGVkSWQKCSBDdXN0b21lcktleSBjaWQ7CglAQ29sdW1uKGxl\nbmd0aD0zMCkKICAgIEBCYXNpYwoJIFN0cmluZyBuYW1lOwoJQEVudW1lcmF0\nZWQoRW51bVR5cGUuU1RSSU5HKQogICAgQEJhc2ljCgkgQ3JlZGl0UmF0aW5n\nIGNyZWRpdFJhdGluZzsKCUBWZXJzaW9uCgkgbG9uZyB2ZXJzaW9uOwoJCiAg\nICBAT25lVG9NYW55KGZldGNoPUZldGNoVHlwZS5FQUdFUiwgbWFwcGVkQnk9\nImN1c3RvbWVyIikKICAgIHByaXZhdGUgQ29sbGVjdGlvbjxPcmRlcj4gb3Jk\nZXJzID0gbmV3IEFycmF5TGlzdDxPcmRlcj4oKTsKCiAgICBAT25lVG9NYW55\nKG1hcHBlZEJ5PSJjdXN0IikKICAgIHByaXZhdGUgTGlzdDxBY2NvdW50PiBh\nY2NvdW50cyA9IG5ldyBBcnJheUxpc3Q8QWNjb3VudD4oKTsKCglwdWJsaWMg\nQ3VzdG9tZXIoKSB7fQoJCglwdWJsaWMgQ3VzdG9tZXIoQ3VzdG9tZXJLZXkg\nY2lkLCBTdHJpbmcgbmFtZSwgQ3JlZGl0UmF0aW5nIHJhdGluZyl7CgkJdGhp\ncy5jaWQ9Y2lkOwoJCXRoaXMubmFtZT1uYW1lOwoJCXRoaXMuY3JlZGl0UmF0\naW5nPXJhdGluZzsKCX0KCQoKCXB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsK\nCQlyZXR1cm4gbmFtZTsKCX0KCXB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5n\nIG5hbWUpIHsKCQl0aGlzLm5hbWUgPSBuYW1lOwoJfQoJcHVibGljIENyZWRp\ndFJhdGluZyBnZXRSYXRpbmcoKSB7CgkJcmV0dXJuIGNyZWRpdFJhdGluZzsK\nCX0KCXB1YmxpYyB2b2lkIHNldFJhdGluZyhDcmVkaXRSYXRpbmcgcmF0aW5n\nKSB7CgkJdGhpcy5jcmVkaXRSYXRpbmcgPSByYXRpbmc7Cgl9CgoJcHVibGlj\nIENvbGxlY3Rpb248T3JkZXI+IGdldE9yZGVycygpIHsKCQlyZXR1cm4gb3Jk\nZXJzOwoJfQoJcHVibGljIHZvaWQgc2V0T3JkZXJzKENvbGxlY3Rpb248T3Jk\nZXI+IG9yZGVycykgewoJCXRoaXMub3JkZXJzID0gb3JkZXJzOwoJfQogICAg\nCiAgICBwdWJsaWMgTGlzdDxBY2NvdW50PiBnZXRBY2NvdW50cygpIHsKICAg\nICAgICByZXR1cm4gYWNjb3VudHM7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHNldEFjY291bnRzKExpc3Q8QWNjb3VudD4gYWNjb3VudHMpIHsKICAg\nICAgICB0aGlzLmFjY291bnRzID0gYWNjb3VudHM7CiAgICB9CgkKCXB1Ymxp\nYyBTdHJpbmcgdG9TdHJpbmcoKSB7CgkJcmV0dXJuICJDdXN0b21lcjoiK2Np\nZCsiIG5hbWU6IituYW1lOyAKCX0KCglwdWJsaWMgQ3VzdG9tZXJLZXkgZ2V0\nQ2lkKCkgewoJCXJldHVybiBjaWQ7Cgl9CgoJcHVibGljIHZvaWQgc2V0Q2lk\nKEN1c3RvbWVyS2V5IGNpZCkgewoJCXRoaXMuY2lkID0gY2lkOwoJfQp9Cgo=\n","encoding":"base64"}

