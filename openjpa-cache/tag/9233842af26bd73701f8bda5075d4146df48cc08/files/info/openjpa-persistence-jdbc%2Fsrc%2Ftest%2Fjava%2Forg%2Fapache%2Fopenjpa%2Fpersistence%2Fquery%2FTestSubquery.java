{"sha":"6307214cabc0cda8d9de59dc8e67b73a11c5ed75","node_id":"MDQ6QmxvYjIwNjM2NDo2MzA3MjE0Y2FiYzBjZGE4ZDlkZTU5ZGM4ZTY3YjczYTExYzVlZDc1","size":13485,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6307214cabc0cda8d9de59dc8e67b73a11c5ed75","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YS51dGlsLkRhdGU7CmltcG9ydCBqYXZhLnV0aWwuTGlz\ndDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuRGVyYnlEaWN0\naW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLk15\nU1FMRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5xdWVyeS5DdXN0b21lci5DcmVkaXRSYXRpbmc7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TaW5nbGVFTUZU\nZXN0Q2FzZTsKCi8qKgogKiBUZXN0IEpQUUwgc3VicXVlcnkKICovCnB1Ymxp\nYyBjbGFzcyBUZXN0U3VicXVlcnkKICAgIGV4dGVuZHMgU2luZ2xlRU1GVGVz\ndENhc2UgewoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIHNl\ndFVwKEN1c3RvbWVyLmNsYXNzLCBDdXN0b21lci5DdXN0b21lcktleS5jbGFz\ncywgT3JkZXIuY2xhc3MsCiAgICAgICAgICAgIE9yZGVySXRlbS5jbGFzcywg\nTWFnYXppbmUuY2xhc3MsIFB1Ymxpc2hlci5jbGFzcywgRW1wbG95ZWUuY2xh\nc3MsCiAgICAgICAgICAgIERlcGVuZGVudC5jbGFzcywgRGVwZW5kZW50SWQu\nY2xhc3MsIEFjY291bnQuY2xhc3MsIERST1BfVEFCTEVTKTsKICAgIH0KCiAg\nICBzdGF0aWMgU3RyaW5nW10gIHF1ZXJ5cyA9IG5ldyBTdHJpbmdbXSB7CiAg\nICAgICAgInNlbGVjdCBjIGZyb20gQ3VzdG9tZXIgYyB3aGVyZSBFWElTVFMi\nICsKICAgICAgICAgICAgIiAoc2VsZWN0IG8gZnJvbSAgaW4oYy5vcmRlcnMp\nICBvKSIgLCAKICAgICAgICAic2VsZWN0IGMgZnJvbSBDdXN0b21lciBjIHdo\nZXJlIEVYSVNUUyIgKwogICAgICAgICAgICAiIChzZWxlY3QgbyBmcm9tIGMu\nb3JkZXJzIG8pIiAsIAogICAgICAgICJzZWxlY3QgYyBmcm9tIEN1c3RvbWVy\nIGMgd2hlcmUgTk9UIEVYSVNUUyIgKwogICAgICAgICAgICAiIChzZWxlY3Qg\nbyBmcm9tIGluIChjLm9yZGVycykgbykiICwgCiAgICAgICAgInNlbGVjdCBj\nIGZyb20gQ3VzdG9tZXIgYyB3aGVyZSBOT1QgRVhJU1RTIiArCiAgICAgICAg\nICAgICIgKHNlbGVjdCBvIGZyb20gIGMub3JkZXJzIG8pIiAsIAogICAgICAg\nICJzZWxlY3QgbzEub2lkIGZyb20gT3JkZXIgbzEgd2hlcmUgbzEub2lkIGlu\nICIgKwogICAgICAgICAgICAiIChzZWxlY3QgZGlzdGluY3Qgby5vaWQgZnJv\nbSBPcmRlckl0ZW0gaSwgT3JkZXIgbyIgKwogICAgICAgICAgICAiIHdoZXJl\nIGkucXVhbnRpdHkgPiAxMCBhbmQgby5hbW91bnQgPiAxMDAwIGFuZCBpLmxp\nZCA9IG8ub2lkKSIgLAogICAgICAgICJzZWxlY3Qgby5vaWQgZnJvbSBPcmRl\nciBvIHdoZXJlIG8uY3VzdG9tZXIubmFtZSA9IiArCiAgICAgICAgICAgICIg\nKHNlbGVjdCBtYXgobzIuY3VzdG9tZXIubmFtZSkgZnJvbSBPcmRlciBvMiIg\nKwogICAgICAgICAgICAiIHdoZXJlIG8uY3VzdG9tZXIuY2lkLmlkID0gbzIu\nY3VzdG9tZXIuY2lkLmlkKSIsCiAgICAgICAgInNlbGVjdCBvIGZyb20gT3Jk\nZXIgbyB3aGVyZSBvLmN1c3RvbWVyLm5hbWUgPSIgKwogICAgICAgICAgICAi\nIChzZWxlY3QgbWF4KG8yLmN1c3RvbWVyLm5hbWUpIGZyb20gT3JkZXIgbzIi\nICsKICAgICAgICAgICAgIiB3aGVyZSBvLmN1c3RvbWVyLmNpZC5pZCA9IG8y\nLmN1c3RvbWVyLmNpZC5pZCkiLAogICAgICAgICJzZWxlY3Qgby5vaWQgZnJv\nbSBPcmRlciBvIHdoZXJlIG8uYW1vdW50ID4iICsKICAgICAgICAgICAgIiAo\nc2VsZWN0IGNvdW50KGkpIGZyb20gby5saW5laXRlbXMgaSkiLAogICAgICAg\nICJzZWxlY3Qgby5vaWQgZnJvbSBPcmRlciBvIHdoZXJlIG8uYW1vdW50ID4i\nICsKICAgICAgICAgICAgIiAoc2VsZWN0IGNvdW50KG8uYW1vdW50KSBmcm9t\nIE9yZGVyIG8pIiwKICAgICAgICAic2VsZWN0IG8ub2lkIGZyb20gT3JkZXIg\nbyB3aGVyZSBvLmFtb3VudCA+IiArCiAgICAgICAgICAgICIgKHNlbGVjdCBj\nb3VudChvLm9pZCkgZnJvbSBPcmRlciBvKSIsCiAgICAgICAgInNlbGVjdCBv\nLm9pZCBmcm9tIE9yZGVyIG8gd2hlcmUgby5hbW91bnQgPiIgKwogICAgICAg\nICAgICAiIChzZWxlY3QgYXZnKG8uYW1vdW50KSBmcm9tIE9yZGVyIG8pIiwK\nICAgICAgICAic2VsZWN0IGMubmFtZSBmcm9tIEN1c3RvbWVyIGMgd2hlcmUg\nZXhpc3RzIiArCiAgICAgICAgICAgICIgKHNlbGVjdCBvIGZyb20gYy5vcmRl\ncnMgbyB3aGVyZSBvLm9pZCA9IDEpIG9yIGV4aXN0cyIgKwogICAgICAgICAg\nICAiIChzZWxlY3QgbyBmcm9tIGMub3JkZXJzIG8gd2hlcmUgby5vaWQgPSAy\nKSIsCiAgICAgICAgInNlbGVjdCBjLm5hbWUgZnJvbSBDdXN0b21lciBjLCBp\nbihjLm9yZGVycykgbyB3aGVyZSBvLmFtb3VudCAiICsKICAgICAgICAgICAg\nImJldHdlZW4iICsKICAgICAgICAgICAgIiAoc2VsZWN0IG1heChvLmFtb3Vu\ndCkgZnJvbSBPcmRlciBvKSBhbmQiICsKICAgICAgICAgICAgIiAoc2VsZWN0\nIGF2ZyhvLmFtb3VudCkgZnJvbSBPcmRlciBvKSAiLAogICAgICAgICJzZWxl\nY3Qgby5vaWQgZnJvbSBPcmRlciBvIHdoZXJlIG8uYW1vdW50ID4iICsKICAg\nICAgICAgICAgIiAoc2VsZWN0IHN1bShvMi5hbW91bnQpIGZyb20gQ3VzdG9t\nZXIgYywgaW4oYy5vcmRlcnMpIG8yKSAiLCAgIAogICAgICAgICJzZWxlY3Qg\nby5vaWQgZnJvbSBPcmRlciBvIHdoZXJlIG8uYW1vdW50IGJldHdlZW4iICsK\nICAgICAgICAgICAgIiAoc2VsZWN0IGF2ZyhvMi5hbW91bnQpIGZyb20gQ3Vz\ndG9tZXIgYywgaW4oYy5vcmRlcnMpIG8yKSIgKwogICAgICAgICAgICAiIGFu\nZCAoc2VsZWN0IG1pbihvMi5hbW91bnQpIGZyb20gQ3VzdG9tZXIgYywgaW4o\nYy5vcmRlcnMpIG8yKSIsCiAgICAgICAgInNlbGVjdCBvLm9pZCBmcm9tIEN1\nc3RvbWVyIGMsIGluKGMub3JkZXJzKW8gd2hlcmUgby5hbW91bnQgPiIgKwog\nICAgICAgICAgICAiIChzZWxlY3Qgc3VtKG8yLmFtb3VudCkgZnJvbSBjLm9y\nZGVycyBvMikiLAogICAgICAgICJzZWxlY3QgbzEub2lkLCBjLm5hbWUgZnJv\nbSBPcmRlciBvMSwgQ3VzdG9tZXIgYyB3aGVyZSBvMS5hbW91bnQgPSAiICsK\nICAgICAgICAgICAgIiBhbnkoc2VsZWN0IG8yLmFtb3VudCBmcm9tIGluKGMu\nb3JkZXJzKSBvMikiLAogICAgICAgICJTRUxFQ1QgcCwgbSAiKwogICAgICAg\nICAgICAiRlJPTSBQdWJsaXNoZXIgcCAiKwogICAgICAgICAgICAiTEVGVCBP\nVVRFUiBKT0lOIHAubWFnYXppbmVDb2xsZWN0aW9uIG0gIisKICAgICAgICAg\nICAgIldIRVJFIG0uaWQgPSAoU0VMRUNUIE1BWChtMi5pZCkgIisKICAgICAg\nICAgICAgIkZST00gTWFnYXppbmUgbTIgIisKICAgICAgICAgICAgIldIRVJF\nIG0yLmlkUHVibGlzaGVyLmlkID0gcC5pZCAiKwogICAgICAgICAgICAiQU5E\nIG0yLmRhdGVQdWJsaXNoZWQgPSAiKwogICAgICAgICAgICAiKFNFTEVDVCBN\nQVgobTMuZGF0ZVB1Ymxpc2hlZCkgIisKICAgICAgICAgICAgIkZST00gTWFn\nYXppbmUgbTMgIisKICAgICAgICAgICAgIldIRVJFIG0zLmlkUHVibGlzaGVy\nLmlkID0gcC5pZCkpICIsIAogICAgICAgICJzZWxlY3QgbyBmcm9tIE9yZGVy\nIG8gd2hlcmUgby5hbW91bnQgPiAiICsKICAgICAgICAgICAgIiAoc2VsZWN0\nIGNvdW50KG8pIGZyb20gT3JkZXIgbykiLAogICAgICAgICJzZWxlY3QgbyBm\ncm9tIE9yZGVyIG8gd2hlcmUgby5hbW91bnQgPiAiICsKICAgICAgICAgICAg\nIihzZWxlY3QgY291bnQobzIpIGZyb20gT3JkZXIgbzIpIiwKICAgICAgICAi\nc2VsZWN0IGMgZnJvbSBDdXN0b21lciBjIGxlZnQgam9pbiBjLm9yZGVycyBv\nIHdoZXJlIG5vdCBleGlzdHMiCiAgICAgICAgICsgIiAoc2VsZWN0IG8yIGZy\nb20gYy5vcmRlcnMgbzIgd2hlcmUgbzIgPSBvKSIsCiAgICB9OwoKICAgIHN0\nYXRpYyBTdHJpbmdbXSAgcXVlcnlzX2pwYTIwID0gbmV3IFN0cmluZ1tdIHsg\nICAgICAgIAogICAgICAgICJzZWxlY3Qgby5vaWQgZnJvbSBPcmRlciBvIHdo\nZXJlIG8uZGVsaXZlcmVkID0iICsKICAgICAgICAgICAgIiAoc2VsZWN0ICIg\nKwogICAgICAgICAgICAiICAgQ0FTRSBXSEVOIG8yLmFtb3VudCA+IDEwIFRI\nRU4gdHJ1ZSIgKyAKICAgICAgICAgICAgIiAgICAgV0hFTiBvMi5hbW91bnQg\nPSAxMCBUSEVOIGZhbHNlICIgKwogICAgICAgICAgICAiICAgICBFTFNFIGZh\nbHNlICIgKwogICAgICAgICAgICAiICAgICBFTkQgIiArCiAgICAgICAgICAg\nICIgZnJvbSBPcmRlciBvMiIgKwogICAgICAgICAgICAiIHdoZXJlIG8uY3Vz\ndG9tZXIuY2lkLmlkID0gbzIuY3VzdG9tZXIuY2lkLmlkKSIsCiAKICAgICAg\nICAic2VsZWN0IG8xLm9pZCBmcm9tIE9yZGVyIG8xIHdoZXJlIG8xLmFtb3Vu\ndCA+ICIgKwogICAgICAgICAgICAiIChzZWxlY3Qgby5hbW91bnQqMC44IGZy\nb20gT3JkZXJJdGVtIGksIE9yZGVyIG8iICsKICAgICAgICAgICAgIiB3aGVy\nZSBpLnF1YW50aXR5ID4gMTAgYW5kIG8uYW1vdW50ID4gMTAwMCBhbmQgaS5s\naWQgPSBvLm9pZCkiLAogICAgICAgICAgICAKICAgICAgICAic2VsZWN0IG8u\nb2lkIGZyb20gT3JkZXIgbyB3aGVyZSBvLmN1c3RvbWVyLm5hbWUgPSIgKwog\nICAgICAgICAgICAiIChzZWxlY3Qgc3Vic3RyaW5nKG8yLmN1c3RvbWVyLm5h\nbWUsIDMpIGZyb20gT3JkZXIgbzIiICsKICAgICAgICAgICAgIiB3aGVyZSBv\nLmN1c3RvbWVyLmNpZC5pZCA9IG8yLmN1c3RvbWVyLmNpZC5pZCkiLAogICAg\nICAgICAgICAKICAgICAgICAic2VsZWN0IG8ub2lkIGZyb20gT3JkZXIgbyB3\naGVyZSBvLm9yZGVyVHMgPiIgKwogICAgICAgICAgICAiIChzZWxlY3QgQ1VS\nUkVOVF9USU1FU1RBTVAgZnJvbSBvLmxpbmVpdGVtcyBpKSIsCiAgICAgICAg\nICAgIAogICAgICAgICJzZWxlY3Qgby5vaWQgZnJvbSBPcmRlciBvIHdoZXJl\nIG8uYW1vdW50ID4iICsKICAgICAgICAgICAgIiAoc2VsZWN0IFNRUlQoby5h\nbW91bnQpIGZyb20gT3JkZXIgbyB3aGVyZSBvLmRlbGl2ZXJlZCA9IHRydWUp\nIiwKICAgICAgICAgICAgCiAgICAgICAgInNlbGVjdCBvLm9pZCBmcm9tIE9y\nZGVyIG8gd2hlcmUgby5jdXN0b21lci5uYW1lIGluIiArCiAgICAgICAgICAg\nICIgKHNlbGVjdCBDT05DQVQoby5jdXN0b21lci5uYW1lLCAnWFgnKSBmcm9t\nIE9yZGVyIG8iICsKICAgICAgICAgICAgIiB3aGVyZSBvLmFtb3VudCA+IDEw\nKSIsICAKICAgICAgICAgICAgCiAgICAgICAgInNlbGVjdCBjIGZyb20gQ3Vz\ndG9tZXIgYyB3aGVyZSBjLmNyZWRpdFJhdGluZyA9IiArCiAgICAgICAgICAg\nICIgKHNlbGVjdCAiICsKICAgICAgICAgICAgIiAgIENBU0UgV0hFTiBvMi5h\nbW91bnQgPiAxMCBUSEVOICIgKyAKICAgICAgICAgICAgIm9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeS5DdXN0b21lciRDcmVkaXRSYXRp\nbmcuUE9PUiIgKwogICAgICAgICAgICAiICAgICBXSEVOIG8yLmFtb3VudCA9\nIDEwIFRIRU4gIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLnF1ZXJ5LkN1c3RvbWVyJENyZWRpdFJhdGluZy4iICsK\nICAgICAgICAgICAgIkdPT0QgIiArCiAgICAgICAgICAgICIgICAgIEVMU0Ug\nIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLnF1ZXJ5LiIgKwogICAgICAgICAgICAiQ3VzdG9tZXIkQ3JlZGl0UmF0\naW5nLkVYQ0VMTEVOVCAiICsKICAgICAgICAgICAgIiAgICAgRU5EICIgKwog\nICAgICAgICAgICAiIGZyb20gT3JkZXIgbzIiICsKICAgICAgICAgICAgIiB3\naGVyZSBjLmNpZC5pZCA9IG8yLmN1c3RvbWVyLmNpZC5pZCkiLAoKICAgICAg\nICAic2VsZWN0IGMgZnJvbSBDdXN0b21lciBjICIgKyAKICAgICAgICAgICAg\nIndoZXJlIGMuY3JlZGl0UmF0aW5nID0gKHNlbGVjdCBDT0FMRVNDRSAoYzEu\nY3JlZGl0UmF0aW5nLCAiICsgCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UucXVlcnkuIiArCiAgICAgICAgICAgICJDdXN0\nb21lciRDcmVkaXRSYXRpbmcuUE9PUikgIiArCiAgICAgICAgICAgICJmcm9t\nIEN1c3RvbWVyIGMxIHdoZXJlIGMxLm5hbWUgPSAnRmFtenknKSBvcmRlciBi\neSBjLm5hbWUgREVTQyIsIAogICAgICAgICAgICAKICAgICAgICAic2VsZWN0\nIGMgZnJvbSBDdXN0b21lciBjICIgKyAKICAgICAgICAgICAgIndoZXJlIGMu\nY3JlZGl0UmF0aW5nID0gKHNlbGVjdCBOVUxMSUYgKGMxLmNyZWRpdFJhdGlu\nZywgIiArIAogICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLnF1ZXJ5LiIgKwogICAgICAgICAgICAiQ3VzdG9tZXIkQ3JlZGl0\nUmF0aW5nLlBPT1IpICIgKwogICAgICAgICAgICAiZnJvbSBDdXN0b21lciBj\nMSB3aGVyZSBjMS5uYW1lID0gJ0ZhbXp5Jykgb3JkZXIgYnkgYy5uYW1lIERF\nU0MiLAogICAgfTsKCiAgICBzdGF0aWMgU3RyaW5nW10gdXBkYXRlcyA9IG5l\ndyBTdHJpbmdbXSB7CiAgICAgICAgInVwZGF0ZSBPcmRlciBvIHNldCBvLmFt\nb3VudCA9IDEwMDAgd2hlcmUgby5jdXN0b21lci5uYW1lID0gIiArCiAgICAg\nICAgICAgICIgKHNlbGVjdCBtYXgobzIuY3VzdG9tZXIubmFtZSkgZnJvbSBP\ncmRlciBvMiAiICsgCiAgICAgICAgICAgICIgd2hlcmUgby5jdXN0b21lci5j\naWQuaWQgPSBvMi5jdXN0b21lci5jaWQuaWQpIiwgIAogICAgfTsKCiAgICBz\ndGF0aWMgU3RyaW5nW10gIHF1ZXJ5czIgPSBuZXcgU3RyaW5nW10gewogICAg\nICAgICAgICAvLyAwCiAgICAgICAgInNlbGVjdCBvMS5vaWQsIGMubmFtZSBm\ncm9tIE9yZGVyIG8xLCBDdXN0b21lciBjIiArCiAgICAgICAgICAgICIgd2hl\ncmUgbzEuY3VzdG9tZXIubmFtZSA9ICIgKyAKICAgICAgICAgICAgIiBhbnko\nc2VsZWN0IG8yLmN1c3RvbWVyLm5hbWUgZnJvbSBpbihjLm9yZGVycykgbzIp\nIiwKICAgICAgICAgICAgLy8gMQogICAgICAgICJzZWxlY3QgbzEub2lkLCBj\nLm5hbWUgZnJvbSBPcmRlciBvMSwgQ3VzdG9tZXIgYyIgKwogICAgICAgICAg\nICAiIHdoZXJlIG8xLmFtb3VudCA9ICIgKwogICAgICAgICAgICAiIGFueShz\nZWxlY3QgbzIuYW1vdW50IGZyb20gaW4oYy5vcmRlcnMpIG8yKSIsCiAgICAg\nICAgICAgIC8vIDIKICAgICAgICAic2VsZWN0IERJU1RJTkNUIGMubmFtZSBG\nUk9NIEN1c3RvbWVyIGMgSk9JTiBjLm9yZGVycyBvICIgKwogICAgICAgICAg\nICAiV0hFUkUgRVhJU1RTIChTRUxFQ1QgbyBGUk9NIG8ubGluZWl0ZW1zIGwg\nd2hlcmUgbC5xdWFudGl0eSA+IDIgKSAiLAogICAgICAgICAgICAvLyAzCiAg\nICAgICAgInNlbGVjdCBESVNUSU5DVCBjLm5hbWUgRlJPTSBDdXN0b21lciBj\nLCBJTihjLm9yZGVycykgY28gIiArCiAgICAgICAgICAgICJXSEVSRSBjby5h\nbW91bnQgPiBBTEwgIiArCiAgICAgICAgICAgICIoU2VsZWN0IG8uYW1vdW50\nIEZST00gT3JkZXIgbywgaW4oby5saW5laXRlbXMpIGwgV0hFUkUgbC5xdWFu\ndGl0eSA+IDIpIiwgCiAgICAgICAgICAgIC8vIDQKICAgICAgICAic2VsZWN0\nIGRpc3RpbmN0IGMubmFtZSBGUk9NIEN1c3RvbWVyIEMsIElOKEMub3JkZXJz\nKSBjbyAiICsKICAgICAgICAgICAgIldIRVJFIGNvLmFtb3VudCA8IEFMTCAi\nICsKICAgICAgICAgICAgIihTZWxlY3Qgby5hbW91bnQgRlJPTSBPcmRlciBv\nLCBJTihvLmxpbmVpdGVtcykgbCBXSEVSRSBsLnF1YW50aXR5ID4gMikiLCAK\nICAgICAgICAgICAgLy81CiAgICAgICAgInNlbGVjdCBjLm5hbWUgRlJPTSBD\ndXN0b21lciBjLCBJTihjLm9yZGVycykgY28gIiArCiAgICAgICAgICAgICJX\nSEVSRSBjby5hbW91bnQgPD0gQUxMICIgKwogICAgICAgICAgICAiKFNlbGVj\ndCBvLmFtb3VudCBGUk9NIE9yZGVyIG8sIElOKG8ubGluZWl0ZW1zKSBsIFdI\nRVJFIGwucXVhbnRpdHkgPiAyKSIsCiAgICAgICAgICAgIC8vIDYKICAgICAg\nICAic2VsZWN0IERJU1RJTkNUIGMubmFtZSBGUk9NIEN1c3RvbWVyIGMsIElO\nKGMub3JkZXJzKSBjbyAiICsKICAgICAgICAgICAgIldIRVJFIGNvLmFtb3Vu\ndCA+IEFOWSAiICsKICAgICAgICAgICAgIihTZWxlY3Qgby5hbW91bnQgRlJP\nTSBPcmRlciBvLCBJTihvLmxpbmVpdGVtcykgbCBXSEVSRSBsLnF1YW50aXR5\nID0gMikiLAogICAgICAgICAgICAvLyA3CiAgICAgICAgInNlbGVjdCBESVNU\nSU5DVCBjLm5hbWUgRlJPTSBDdXN0b21lciBjICIgKwogICAgICAgICAgICAi\nV0hFUkUgRVhJU1RTIChTRUxFQ1QgbyBGUk9NIGMub3JkZXJzIG8gd2hlcmUg\nby5hbW91bnQgIiArCiAgICAgICAgICAgICJCRVRXRUVOIDEwMDAgQU5EIDEy\nMDApIiwKICAgICAgICAgICAgLy8gOAogICAgICAgICJzZWxlY3QgRElTVElO\nQ1QgYy5uYW1lIEZST00gQ3VzdG9tZXIgYyAiICsKICAgICAgICAgICAgIldI\nRVJFIEVYSVNUUyAoU0VMRUNUIG8gRlJPTSBjLm9yZGVycyBvIHdoZXJlIG8u\nYW1vdW50ID4gMTAwMCApIiwKICAgICAgICAgICAgLy8gOQogICAgICAgICJT\nRUxFQ1Qgby5vaWQgZnJvbSBPcmRlciBvIFdIRVJFICIgKwogICAgICAgICAg\nICAiRVhJU1RTIChTRUxFQ1QgYy5uYW1lIEZyb20gby5jdXN0b21lciBjIFdI\nRVJFIGMubmFtZSBMSUtFICclbG9zJykgIiwKICAgICAgICAgICAgLy8gMTAK\nICAgICAgICAic2VsZWN0IERpc3RpbmN0IGMubmFtZSBGUk9NIEN1c3RvbWVy\nIGMsIElOKGMub3JkZXJzKSBjbyAiICsKICAgICAgICAgICAgIldIRVJFIGNv\nLmFtb3VudCA+PSBTT01FIiArCiAgICAgICAgICAgICIoU2VsZWN0IG8uYW1v\ndW50IEZST00gT3JkZXIgbywgSU4oby5saW5laXRlbXMpIGwgV0hFUkUgbC5x\ndWFudGl0eSA9IDIpIiwKICAgICAgICAgICAgLy8gMTEKICAgICAgICAic2Vs\nZWN0IGMgRlJPTSBDdXN0b21lciBjIFdIRVJFIEVYSVNUUyIgKwogICAgICAg\nICAgICAiIChTRUxFQ1QgbyBGUk9NIGMub3JkZXJzIG8gd2hlcmUgby5hbW91\nbnQgPiAxMDAwKSIsCiAgICAgICAgICAgIC8vIDEyCiAgICAgICAgInNlbGVj\ndCBjIEZST00gQ3VzdG9tZXIgYyBXSEVSRSBFWElTVFMiICsKICAgICAgICAg\nICAgIiAoU0VMRUNUIG8gRlJPTSBjLm9yZGVycyBvKSIsCiAgICAgICAgICAg\nIC8vIDEzCiAgICAgICAgIlNFTEVDVCBjIEZST00gQ3VzdG9tZXIgYyBXSEVS\nRSAiCiAgICAgICAgICAgICsgIihTRUxFQ1QgQ09VTlQobykgRlJPTSBjLm9y\nZGVycyBvKSA+IDEwIiwKICAgICAgICAgICAgLy8gMTQKICAgICAgICAiU0VM\nRUNUIG8gRlJPTSBPcmRlciBvIEpPSU4gby5jdXN0b21lciBjIFdIRVJFIGMu\nbmFtZSA9ICIKICAgICAgICAgICAgKyAiU09NRSAoU0VMRUNUIGEubmFtZSBG\nUk9NIGMuYWNjb3VudHMgYSkiLAoKICAgICAgICB9OwoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RTdWJxdWVyeTIoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZm9yIChp\nbnQgaSA9IDA7IGkgPCBxdWVyeXMyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAg\nICAgIFN0cmluZyBxID0gcXVlcnlzMltpXTsKICAgICAgICAgICAgU3lzdGVt\nLmVyci5wcmludGxuKCI+Pj4gSlBRTCBKUEEyIDpbICIgKyBpICsgIl0iICtx\nKTsKICAgICAgICAgICAgTGlzdCBycyA9IGVtLmNyZWF0ZVF1ZXJ5KHEpLmdl\ndFJlc3VsdExpc3QoKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIHJz\nLnNpemUoKSk7CiAgICAgICAgfQogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9\nCgoKICAgIHB1YmxpYyB2b2lkIHRlc3RTdWJxdWVyeSgpIHsKICAgICAgICBK\nREJDQ29uZmlndXJhdGlvbiBjb25mID0gKEpEQkNDb25maWd1cmF0aW9uKSBl\nbWYuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgIERCRGljdGlvbmFyeSBk\naWN0ID0gY29uZi5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpOwogICAgICAg\nIAogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcXVlcnlz\nX2pwYTIwLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIFN0cmluZyBxID0g\ncXVlcnlzX2pwYTIwW2ldOwogICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50\nbG4oIj4+PiBKUFFMIEpQQTIgOlsgIiArIGkgKyAiXSIgK3EpOwogICAgICAg\nICAgICBMaXN0IHJzID0gZW0uY3JlYXRlUXVlcnkocSkuZ2V0UmVzdWx0TGlz\ndCgpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMCwgcnMuc2l6ZSgpKTsK\nICAgICAgICB9CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBxdWVyeXMu\nbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgU3RyaW5nIHEgPSBxdWVyeXNb\naV07CiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiPj4+IEpQUUw6\nIFsgIiArIGkgKyAiXSIrcSk7CiAgICAgICAgICAgIExpc3QgcnMgPSBlbS5j\ncmVhdGVRdWVyeShxKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgICAgIGFz\nc2VydEVxdWFscygwLCBycy5zaXplKCkpOwogICAgICAgIH0KCiAgICAgICAg\nLy8gTXlTUUwgdGhyb3dzIGV4Y2VwdGlvbiBmb3IgdGhlIGpwcWwgaW4gdGhl\nIHVwZGF0ZXM6CiAgICAgICAgLy8gIllvdSBjYW4ndCBzcGVjaWZ5IHRhcmdl\ndCB0YWJsZSAneHh4JyBmb3IgdXBkYXRlIGluIEZST00gY2xhdXNlIi4gVGhl\nIE15U1FMIG1hbnVhbCBtZW50aW9ucyAKICAgICAgICAvLyB0aGlzIGF0IHRo\nZSBib3R0b20gb2YgdGhlIFVQREFURSBkb2N1bWVudGF0aW9uKGh0dHA6Ly9k\nZXYubXlzcWwuY29tL2RvYy9yZWZtYW4vNS4wL2VuL3VwZGF0ZS5odG1sKTog\nCiAgICAgICAgLy8gQ3VycmVudGx5LCB5b3UgY2Fubm90IHVwZGF0ZSBhIHRh\nYmxlIGFuZCBzZWxlY3QgZnJvbSB0aGUgc2FtZSB0YWJsZSBpbiBhIHN1YnF1\nZXJ5LgogICAgICAgIAogICAgICAgIGlmIChkaWN0IGluc3RhbmNlb2YgTXlT\nUUxEaWN0aW9uYXJ5KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgCiAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgdXBkYXRlcy5sZW5ndGg7IGkrKykgewogICAg\nICAgICAgICBpbnQgdXBkYXRlQ291bnQgPSBlbS5jcmVhdGVRdWVyeSh1cGRh\ndGVzW2ldKS5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgICAgIGFzc2VydEVx\ndWFscygwLCB1cGRhdGVDb3VudCk7CiAgICAgICAgfQoKICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLnJvbGxiYWNrKCk7CiAgICAgICAgZW0uY2xvc2Uo\nKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBWZXJpZnkgYSBzdWIgcXVl\ncnkgY2FuIGNvbnRhaW4gTUFYIGFuZCBhZGRpdGlvbmFsIGRhdGUgY29tcGFy\naXNvbnMgCiAgICAgKiB3aXRob3V0IGxvc2luZyB0aGUgY29ycmVjdCBhbGlh\ncyBpbmZvcm1hdGlvbi4gVGhpcyBzb3J0IG9mIHF1ZXJ5IAogICAgICogb3Jp\nZ2luYWxseSBjYXVzZWQgcHJvYmxlbXMgZm9yIERCRGljdGlvbmFyaWVzIHdo\naWNoIHVzZWQgREFUQUJBU0UgCiAgICAgKiBzeW50YXguCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHRlc3RTdWJTZWxlY3RNYXhEYXRlUmFuZ2UoKSB7ICAg\nICAgICAKICAgICAgICBTdHJpbmcgcXVlcnkgPQogICAgICAgICAgICAiU0VM\nRUNUIGUsZCBmcm9tIEVtcGxveWVlIGUsIERlcGVuZGVudCBkICIKICAgICAg\nICAgICAgICAgICsgIldIRVJFIGUuZW1wSWQgPSA6ZW1waWQgIgogICAgICAg\nICAgICAgICAgKyAiQU5EIGQuaWQuZW1waWQgPSAoU0VMRUNUIE1BWCAoZTIu\nZW1wSWQpIEZST00gRW1wbG95ZWUgZTIpICIKICAgICAgICAgICAgICAgICsg\nIkFORCBkLmlkLmVmZkRhdGUgPiA6bWluRGF0ZSAiCiAgICAgICAgICAgICAg\nICArICJBTkQgZC5pZC5lZmZEYXRlIDwgOm1heERhdGUgIjsKICAgICAgICBF\nbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsK\nICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpOwogICAg\nICAgIHEuc2V0UGFyYW1ldGVyKCJlbXBpZCIsIChsb25nKSAxMDEpOwogICAg\nICAgIHEuc2V0UGFyYW1ldGVyKCJtaW5EYXRlIiwgbmV3IERhdGUoMTAwKSk7\nCiAgICAgICAgcS5zZXRQYXJhbWV0ZXIoIm1heERhdGUiLCBuZXcgRGF0ZSgx\nMDAwMDApKTsKICAgICAgICBxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBl\nbS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RVcGRhdGVX\naXRoQ29ycmVsYXRlZFN1YnF1ZXJ5KCkgewogICAgICAgIFN0cmluZyB1cGRh\ndGUgPSAidXBkYXRlIEN1c3RvbWVyIGMgc2V0IGMuY3JlZGl0UmF0aW5nID0g\nPzEgd2hlcmUgRVhJU1RTIiArCiAgICAgICAgICAgIiAoc2VsZWN0IG8gZnJv\nbSAgaW4oYy5vcmRlcnMpICBvKSI7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIENyZWRpdFJhdGluZyBj\ncmVkaXRSYXRpbmcgPSBDcmVkaXRSYXRpbmcuR09PRDsKICAgICAgICBpbnQg\ndXBkYXRlQ291bnQgPSBlbS5jcmVhdGVRdWVyeSh1cGRhdGUpLgogICAgICAg\nICAgICBzZXRQYXJhbWV0ZXIoMSwgY3JlZGl0UmF0aW5nKS5leGVjdXRlVXBk\nYXRlKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5yb2xsYmFjaygp\nOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9Cn0K\n","encoding":"base64"}

