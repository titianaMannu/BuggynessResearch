{"sha":"7649bffa981d4c69267feafa3226c631a3defdb2","node_id":"MDQ6QmxvYjIwNjM2NDo3NjQ5YmZmYTk4MWQ0YzY5MjY3ZmVhZmEzMjI2YzYzMWEzZGVmZGIy","size":3079,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7649bffa981d4c69267feafa3226c631a3defdb2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdDsK\nCmltcG9ydCBqYXZhLnV0aWwuTGlua2VkSGFzaE1hcDsKaW1wb3J0IGphdmEu\ndXRpbC5NYXA7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSTsKCi8qKgogKiBU\nZXN0Y2FzZSB3aGljaCBjYWNoZXMgRW50aXR5TWFuYWdlckZhY3RvcmllcyBi\nYXNlZCBvbiB0aGUgcGVyc2lzdGVuY2UgdW5pdCBuYW1lIGFuZCB0aGUgcHJv\ncGVydGllcyBwcm92aWRlZCBhdAogKiBydW50aW1lLgogKiAKICovCnB1Ymxp\nYyBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENhY2hlZEVNRlRlc3RDYXNlIGV4\ndGVuZHMgQWJzdHJhY3RQZXJzaXN0ZW5jZVRlc3RDYXNlIHsKICAgIHByaXZh\ndGUgc3RhdGljIEZpeGVkTWFwPEVNRktleSwgT3BlbkpQQUVudGl0eU1hbmFn\nZXJGYWN0b3J5U1BJPiBfZW1mcyA9CiAgICAgICAgbmV3IEZpeGVkTWFwPEVN\nRktleSwgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJPigpOwoKICAg\nIC8qKgogICAgICogQ3JlYXRlIGFuIGVudGl0eSBtYW5hZ2VyIGZhY3Rvcnkg\nZm9yIHBlcnNpc3RlbmNlIHVuaXQgPGNvZGU+cHU8L2NvZGU+LiBQdXQge0Bs\naW5rICNDTEVBUl9UQUJMRVN9IGluIHRoaXMgbGlzdCB0bwogICAgICogdGVs\nbCB0aGUgdGVzdCBmcmFtZXdvcmsgdG8gZGVsZXRlIGFsbCB0YWJsZSBjb250\nZW50cyBiZWZvcmUgcnVubmluZyB0aGUgdGVzdHMuCiAgICAgKiAKICAgICAq\nIEBwYXJhbSBwcm9wcwogICAgICogICAgICAgICAgICBsaXN0IG9mIHBlcnNp\nc3RlbnQgdHlwZXMgdXNlZCBpbiB0ZXN0aW5nIGFuZC9vciBjb25maWd1cmF0\naW9uIHZhbHVlcyBpbiB0aGUgZm9ybQogICAgICogICAgICAgICAgICBrZXks\ndmFsdWUsa2V5LHZhbHVlLi4uCiAgICAgKi8KICAgIHByb3RlY3RlZCBPcGVu\nSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgY3JlYXRlTmFtZWRFTUYoU3Ry\naW5nIHB1LCBPYmplY3QuLi4gcHJvcHMpIHsKICAgICAgICBNYXA8U3RyaW5n\nLCBPYmplY3Q+IG1hcCA9IGdldFByb3BlcnRpZXNNYXAocHJvcHMpOwogICAg\nICAgIEVNRktleSBrZXkgPSBuZXcgRU1GS2V5KHB1LCBtYXApOwogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBvZW1mID0gX2VtZnMu\nZ2V0KGtleSk7CiAgICAgICAgaWYgKF9mcmVzaCB8fCBvZW1mID09IG51bGwg\nfHwgIW9lbWYuaXNPcGVuKCkpIHsKICAgICAgICAgICAgb2VtZiA9IHN1cGVy\nLmNyZWF0ZU5hbWVkRU1GKHB1LCBwcm9wcyk7CiAgICAgICAgICAgIGlmICgh\nX2ZyZXNoKSB7CiAgICAgICAgICAgICAgICBfZW1mcy5wdXQoa2V5LCBvZW1m\nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBfZnJlc2ggPSBm\nYWxzZTsKICAgICAgICByZXR1cm4gb2VtZjsKICAgIH0KCiAgICBwcml2YXRl\nIHN0YXRpYyBjbGFzcyBGaXhlZE1hcDxLLCBWPiBleHRlbmRzIExpbmtlZEhh\nc2hNYXA8SywgVj4gewogICAgICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGxv\nbmcgc2VyaWFsVmVyc2lvblVJRCA9IC0zMTUzODUyMDk3NDY4MzkwNzc5TDsK\nCiAgICAgICAgcHVibGljIGJvb2xlYW4gcmVtb3ZlRWxkZXN0RW50cnkoTWFw\nLkVudHJ5PEssIFY+IGVudHJ5KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlz\nLnNpemUoKSA+IDI7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgc3Rh\ndGljIGNsYXNzIEVNRktleSB7CiAgICAgICAgZmluYWwgU3RyaW5nIHVuaXQ7\nCiAgICAgICAgZmluYWwgTWFwPFN0cmluZywgT2JqZWN0PiBjb25maWc7Cgog\nICAgICAgIEVNRktleShTdHJpbmcgdW5pdCwgTWFwPFN0cmluZywgT2JqZWN0\nPiBjb25maWcpIHsKICAgICAgICAgICAgdGhpcy51bml0ID0gdW5pdDsKICAg\nICAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgaW50IGhhc2hDb2RlKCkgewogICAgICAgICAgICByZXR1\ncm4gKHVuaXQgIT0gbnVsbCA/IHVuaXQuaGFzaENvZGUoKSA6IDApICsgY29u\nZmlnLmhhc2hDb2RlKCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgYm9v\nbGVhbiBlcXVhbHMoT2JqZWN0IG90aGVyKSB7CiAgICAgICAgICAgIEVNRktl\neSB0aGF0ID0gKEVNRktleSkgb3RoZXI7CiAgICAgICAgICAgIHJldHVybiAo\ndW5pdCAhPSBudWxsID8gdW5pdC5lcXVhbHModGhhdC51bml0KSA6IHRoYXQu\ndW5pdCA9PSBudWxsKSAmJiBjb25maWcuZXF1YWxzKHRoYXQuY29uZmlnKTsK\nICAgICAgICB9CiAgICB9Cgp9Cg==\n","encoding":"base64"}

