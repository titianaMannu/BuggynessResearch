{"sha":"227a07a7786e68c347b8bd094e76495dd855ca67","node_id":"MDQ6QmxvYjIwNjM2NDoyMjdhMDdhNzc4NmU2OGMzNDdiOGJkMDk0ZTc2NDk1ZGQ4NTVjYTY3","size":9869,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/227a07a7786e68c347b8bd094e76495dd855ca67","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZSBvciBtb3JlCiAqIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmli\ndXRlZCB3aXRoIHRoaXMKICogd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1h\ndGlvbiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gVGhlIEFTRgog\nKiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBBcGFjaGUg\nTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3Ug\nbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdp\ndGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0\naGUgTGljZW5zZSBhdAogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z\nZXMvTElDRU5TRS0yLjAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUg\nbGF3CiAqIG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0\ncmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcwogKiBkaXN0cmlidXRlZCBv\nbiBhbiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09O\nRElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1w\nbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3Vh\nZ2UKICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1\nbmRlciB0aGUgTGljZW5zZS4KICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLnZhbGlkYXRpb247CgppbXBvcnQgamF2YS51dGls\nLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLnNwaS5WYWxpZGF0aW9uTW9kZTsKCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuY29uZi5PcGVuSlBBQ29uZmlndXJhdGlvbjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxvZzsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3RvcnlTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNlOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNlRXhjZXB0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnF1ZXJ5LlNp\nbXBsZUVudGl0eTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOwoKLyoqCiAqIFRlc3RzIHRo\nZSBuZXcgQmVhbiBWYWxpZGF0aW9uIE1vZGUgc3VwcG9ydCBpbiB0aGUgSlBB\nIDIuMCBzcGVjLgogKiBCYXNpYyAobm8gcHJvdmlkZXIpIFZhbGlkYXRpb24g\nc2NlbmFyaW9zIGJlaW5nIHRlc3RlZDoKICogICAxKSBCeSBkZWZhdWx0LCB2\nYWxpZGF0aW9uIG1vZGUgaXMgQVVUTwogKiAgIDIpIFZhbGlkYXRpb24gbW9k\nZSBvZiBBVVRPIGluIHBlcnNpc3RlbmNlLnhtbCBpcyB0aGUgc2FtZSBhcyBk\nZWZhdWx0CiAqICAgMykgVmFsaWRhdGlvbiBtb2RlIG9mIE5PTkUgaW4gcGVy\nc2lzdGVuY2UueG1sIG92ZXJyaWRlcyBkZWZhdWx0IEFVVE8KICogICA0KSBW\nYWxpZGF0aW9uIG1vZGUgb2YgQ0FMTEJBQ0sgaW4gcGVyc2lzdGVuY2UueG1s\nIG92ZXJyaWRlcyBkZWZhdWx0IEFVVE8KICogICA1KSBWYWxpZGF0aW9uIG1v\nZGUgaW4gY3JlYXRlRU1GKE1hcCBwcm9wcykgb3ZlcnJpZGVzIG5vIHBlcnNp\nc3RlbmNlLnhtbAogKiAgIDYpIFZhbGlkYXRpb24gbW9kZSBpbiBjcmVhdGVF\nTUYoTWFwIHByb3BzKSBvdmVycmlkZXMgcGVyc2lzdGVuY2UueG1sCiAqICAg\nNykgVmFsaWRhdGlvbiBtb2RlIGluIGNyZWF0ZUVNRihNYXAgcHJvcHMpIGNh\nbiBiZSBhIFZhbGlkYXRpb25Nb2RlIGVudW0KICogCiAqIEB2ZXJzaW9uICRS\nZXYkICREYXRlJAogKi8KcHVibGljIGNsYXNzIFRlc3RWYWxpZGF0aW9uTW9k\nZSBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsKCiAgICBAT3ZlcnJpZGUK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIHN1cGVyLnNldFVw\nKENMRUFSX1RBQkxFUywgU2ltcGxlRW50aXR5LmNsYXNzKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFNjZW5hcmlvIGJlaW5nIHRlc3RlZDoKICAgICAqICAg\nMSkgQnkgZGVmYXVsdCwgdmFsaWRhdGlvbiBtb2RlID09IEFVVE8KICAgICAq\nLwogICAgcHVibGljIHZvaWQgdGVzdFZhbGlkYXRpb25Nb2RlMSgpIHsKICAg\nICAgICBnZXRMb2coKS50cmFjZSgidGVzdFZhbGlkYXRpb25Nb2RlMSgpIC0g\nRGVmYXVsdCBtb2RlIGlzIEFVVE8iKTsKICAgICAgICAvLyBjcmVhdGUgb3Vy\nIEVNRgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBl\nbWYgPSAoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKQogICAgICAg\nICAgICBPcGVuSlBBUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdlckZh\nY3RvcnkoCiAgICAgICAgICAgICAgICAic2ltcGxlIiwKICAgICAgICAgICAg\nICAgICJvcmcvYXBhY2hlL29wZW5qcGEvcGVyc2lzdGVuY2UvdmFsaWRhdGlv\nbi9wZXJzaXN0ZW5jZS54bWwiKTsKICAgICAgICBhc3NlcnROb3ROdWxsKGVt\nZik7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gdmVyaWZ5IGRlZmF1\nbHQgdmFsaWRhdGlvbiBtb2RlCiAgICAgICAgICAgIE9wZW5KUEFDb25maWd1\ncmF0aW9uIGNvbmYgPSBlbWYuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAg\nICAgICBhc3NlcnROb3ROdWxsKGNvbmYpOwogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoIkRlZmF1bHQgdmFsaWRhdGlvbiBtb2RlIiwgCiAgICAgICAgICAg\nICAgICBTdHJpbmcudmFsdWVPZihWYWxpZGF0aW9uTW9kZS5BVVRPKSwKICAg\nICAgICAgICAgICAgIGNvbmYuZ2V0VmFsaWRhdGlvbk1vZGUoKSk7CiAgICAg\nICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgY2xlYW51cChlbWYpOwogICAg\nICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNjZW5hcmlvIGJlaW5nIHRl\nc3RlZDoKICAgICAqICAgMikgVmFsaWRhdGlvbiBtb2RlIG9mIEFVVE8gaW4g\ncGVyc2lzdGVuY2UueG1sIGlzIHRoZSBzYW1lIGFzIGRlZmF1bHQKICAgICAq\nLwogICAgcHVibGljIHZvaWQgdGVzdFZhbGlkYXRpb25Nb2RlMigpIHsKICAg\nICAgICBnZXRMb2coKS50cmFjZSgidGVzdFZhbGlkYXRpb25Nb2RlMSgpIC0g\nQVVUTyBpbiBwZXJzaXN0ZW5jZS54bWwiKTsKICAgICAgICAvLyBjcmVhdGUg\nb3VyIEVNRgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQ\nSSBlbWYgPSAoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKQogICAg\nICAgICAgICBPcGVuSlBBUGVyc2lzdGVuY2UuY3JlYXRlRW50aXR5TWFuYWdl\nckZhY3RvcnkoCiAgICAgICAgICAgICAgICAic2ltcGxlLWF1dG8tbW9kZSIs\nCiAgICAgICAgICAgICAgICAib3JnL2FwYWNoZS9vcGVuanBhL3BlcnNpc3Rl\nbmNlL3ZhbGlkYXRpb24vcGVyc2lzdGVuY2UueG1sIik7CiAgICAgICAgYXNz\nZXJ0Tm90TnVsbChlbWYpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8v\nIHZlcmlmeSBleHBlY3RlZCB2YWxpZGF0aW9uIG1vZGUKICAgICAgICAgICAg\nT3BlbkpQQUNvbmZpZ3VyYXRpb24gY29uZiA9IGVtZi5nZXRDb25maWd1cmF0\naW9uKCk7CiAgICAgICAgICAgIGFzc2VydE5vdE51bGwoY29uZik7CiAgICAg\nICAgICAgIGFzc2VydEVxdWFscygiVmFsaWRhdGlvbiBtb2RlIiwgCiAgICAg\nICAgICAgICAgICBTdHJpbmcudmFsdWVPZihWYWxpZGF0aW9uTW9kZS5BVVRP\nKSwKICAgICAgICAgICAgICAgIGNvbmYuZ2V0VmFsaWRhdGlvbk1vZGUoKSk7\nCiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgY2xlYW51cChlbWYp\nOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNjZW5hcmlvIGJl\naW5nIHRlc3RlZDoKICAgICAqICAgMykgVmFsaWRhdGlvbiBtb2RlIG9mIE5P\nTkUgaW4gcGVyc2lzdGVuY2UueG1sIG92ZXJyaWRlcyBkZWZhdWx0CiAgICAg\nKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RWYWxpZGF0aW9uTW9kZTMoKSB7CiAg\nICAgICAgZ2V0TG9nKCkudHJhY2UoInRlc3RWYWxpZGF0aW9uTW9kZTMoKSAt\nIHBlcnNpc3RlbmNlLnhtbCBvdmVycmlkZXMgIiArCiAgICAgICAgICAgICJE\nZWZhdWx0Iik7CiAgICAgICAgLy8gY3JlYXRlIG91ciBFTUYKICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgZW1mID0gKE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSkKICAgICAgICAgICAgT3BlbkpQQVBl\ncnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KAogICAgICAg\nICAgICAgICAgInNpbXBsZS1ub25lLW1vZGUiLAogICAgICAgICAgICAgICAg\nIm9yZy9hcGFjaGUvb3BlbmpwYS9wZXJzaXN0ZW5jZS92YWxpZGF0aW9uL3Bl\ncnNpc3RlbmNlLnhtbCIpOwogICAgICAgIGFzc2VydE5vdE51bGwoZW1mKTsK\nICAgICAgICB0cnkgewogICAgICAgICAgICAvLyB2ZXJpZnkgdmFsaWRhdGlv\nbiBtb2RlCiAgICAgICAgICAgIE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYg\nPSBlbWYuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgICAgICBhc3NlcnRO\nb3ROdWxsKGNvbmYpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoIlZhbGlk\nYXRpb24gbW9kZSIsIAogICAgICAgICAgICAgICAgU3RyaW5nLnZhbHVlT2Yo\nVmFsaWRhdGlvbk1vZGUuTk9ORSksCiAgICAgICAgICAgICAgICBjb25mLmdl\ndFZhbGlkYXRpb25Nb2RlKCkpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAg\nICAgICAgIGNsZWFudXAoZW1mKTsKICAgICAgICB9CiAgICB9CgogICAgLyoq\nCiAgICAgKiBTY2VuYXJpbyBiZWluZyB0ZXN0ZWQ6CiAgICAgKiAgIDQpIFZh\nbGlkYXRpb24gbW9kZSBvZiBDQUxMQkFDSyBpbiBwZXJzaXN0ZW5jZS54bWwg\nb3ZlcnJpZGVzIGRlZmF1bHQKICAgICAqICAgYW5kIGNhdXNlcyBhbiBleGNl\ncHRpb24gd2hlbiBuZWl0aGVyIHRoZSBWYWxpZGF0aW9uIEFQSXMgbm9yCiAg\nICAgKiAgIGEgcHJvdmlkZXIgYXJlIGF2YWlsYWJsZQogICAgICovCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0VmFsaWRhdGlvbk1vZGU0KCkgewogICAgICAgIGdl\ndExvZygpLnRyYWNlKCJ0ZXN0VmFsaWRhdGlvbk1vZGU0KCkgLSBwZXJzaXN0\nZW5jZS54bWwgb3ZlcnJpZGVzICIgKwogICAgICAgICAgICAiRGVmYXVsdCIp\nOwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBlbWYg\nPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIGNyZWF0ZSBv\ndXIgRU1GCiAgICAgICAgICAgIGVtZiA9IChPcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3RvcnlTUEkpCiAgICAgICAgICAgICAgICBPcGVuSlBBUGVyc2lzdGVu\nY2UuY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoCiAgICAgICAgICAgICAg\nICAgICAgInNpbXBsZS1jYWxsYmFjay1tb2RlIiwKICAgICAgICAgICAgICAg\nICAgICAib3JnL2FwYWNoZS9vcGVuanBhL3BlcnNpc3RlbmNlL3ZhbGlkYXRp\nb24vcGVyc2lzdGVuY2UueG1sIik7CiAgICAgICAgICAgIGFzc2VydE5vdE51\nbGwoZW1mKTsKICAgICAgICAgICAgLy8gdmVyaWZ5IHZhbGlkYXRpb24gbW9k\nZQogICAgICAgICAgICBPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25mID0gZW1m\nLmdldENvbmZpZ3VyYXRpb24oKTsKICAgICAgICAgICAgYXNzZXJ0Tm90TnVs\nbChjb25mKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJWYWxpZGF0aW9u\nIG1vZGUiLCAKICAgICAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKFZhbGlk\nYXRpb25Nb2RlLkNBTExCQUNLKSwKICAgICAgICAgICAgICAgIGNvbmYuZ2V0\nVmFsaWRhdGlvbk1vZGUoKSk7CiAgICAgICAgfSBjYXRjaCAoUGVyc2lzdGVu\nY2VFeGNlcHRpb24gZSkgewogICAgICAgICAgICAvLyBleHBlY3RlZCB3aGVu\nIG5vIFZhbGlkYXRpb24gQVBJcyBvciBwcm92aWRlciBhcmUgYXZhaWxhYmxl\nCiAgICAgICAgICAgIGdldExvZygpLnRyYWNlKCJ0ZXN0VmFsaWRhdGlvbk1v\nZGU0KCkgLSBjYXVnaHQgZXhwZWN0ZWQgIiArCiAgICAgICAgICAgICAgICAi\nZXhjZXB0aW9uIiwgZSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAg\nICAgY2xlYW51cChlbWYpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAg\nICAqIFNjZW5hcmlvIGJlaW5nIHRlc3RlZDoKICAgICAqICAgNSkgVmFsaWRh\ndGlvbiBtb2RlIGluIGNyZWF0ZUVNRihNYXAgcHJvcHMpIG92ZXJyaWRlcyBu\nbyBwZXJzaXN0ZW5jZS54bWwKICAgICAqLwogICAgcHVibGljIHZvaWQgdGVz\ndFZhbGlkYXRpb25Nb2RlNSgpIHsKICAgICAgICBnZXRMb2coKS50cmFjZSgi\ndGVzdFZhbGlkYXRpb25Nb2RlNSgpIC0gTWFwKE5PTkUpIG92ZXJyaWRlcyBk\nZWZhdWx0Iik7CgogICAgICAgIC8vIGNyZWF0ZSB0aGUgTWFwIHRvIHRlc3Qg\nb3ZlcnJpZGVzCiAgICAgICAgTWFwPFN0cmluZyxTdHJpbmc+IHByb3BzID0g\nbmV3IEhhc2hNYXA8U3RyaW5nLFN0cmluZz4oKTsKICAgICAgICBwcm9wcy5w\ndXQoImphdmF4LnBlcnNpc3RlbmNlLnZhbGlkYXRpb24ubW9kZSIsCiAgICAg\nICAgICAgIFN0cmluZy52YWx1ZU9mKFZhbGlkYXRpb25Nb2RlLk5PTkUpKTsK\nCiAgICAgICAgLy8gY3JlYXRlIG91ciBFTUYKICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlckZhY3RvcnlTUEkgZW1mID0gKE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyRmFjdG9yeVNQSSkKICAgICAgICAgICAgT3BlbkpQQVBlcnNpc3RlbmNl\nLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KAogICAgICAgICAgICAgICAg\nInNpbXBsZSIsCiAgICAgICAgICAgICAgICAib3JnL2FwYWNoZS9vcGVuanBh\nL3BlcnNpc3RlbmNlL3ZhbGlkYXRpb24vcGVyc2lzdGVuY2UueG1sIiwKICAg\nICAgICAgICAgcHJvcHMpOwogICAgICAgIGFzc2VydE5vdE51bGwoZW1mKTsK\nICAgICAgICB0cnkgewogICAgICAgICAgICAvLyB2ZXJpZnkgdmFsaWRhdGlv\nbiBtb2RlCiAgICAgICAgICAgIE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYg\nPSBlbWYuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgICAgICBhc3NlcnRO\nb3ROdWxsKGNvbmYpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoIlZhbGlk\nYXRpb24gbW9kZSIsIAogICAgICAgICAgICAgICAgU3RyaW5nLnZhbHVlT2Yo\nVmFsaWRhdGlvbk1vZGUuTk9ORSksCiAgICAgICAgICAgICAgICBjb25mLmdl\ndFZhbGlkYXRpb25Nb2RlKCkpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAg\nICAgICAgIGNsZWFudXAoZW1mKTsKICAgICAgICB9CiAgICB9CgogICAgLyoq\nCiAgICAgKiBTY2VuYXJpbyBiZWluZyB0ZXN0ZWQ6CiAgICAgKiAgIDYpIFZh\nbGlkYXRpb24gbW9kZSBpbiBjcmVhdGVFTUYoTWFwIHByb3BzKSBvdmVycmlk\nZXMgcGVyc2lzdGVuY2UueG1sCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRl\nc3RWYWxpZGF0aW9uTW9kZTYoKSB7CiAgICAgICAgZ2V0TG9nKCkudHJhY2Uo\nInRlc3RWYWxpZGF0aW9uTW9kZTYoKSAtIE1hcChOT05FKSBvdmVycmlkZXMg\nUFUgIiArCiAgICAgICAgICAgICJwcm92aWRlZCBtb2RlPWNhbGxiYWNrIik7\nCgogICAgICAgIC8vIGNyZWF0ZSB0aGUgTWFwIHRvIHRlc3Qgb3ZlcnJpZGVz\nCiAgICAgICAgTWFwPFN0cmluZyxTdHJpbmc+IHByb3BzID0gbmV3IEhhc2hN\nYXA8U3RyaW5nLFN0cmluZz4oKTsKICAgICAgICBwcm9wcy5wdXQoImphdmF4\nLnBlcnNpc3RlbmNlLnZhbGlkYXRpb24ubW9kZSIsCiAgICAgICAgICAgIFN0\ncmluZy52YWx1ZU9mKFZhbGlkYXRpb25Nb2RlLk5PTkUpKTsKCiAgICAgICAg\nLy8gY3JlYXRlIG91ciBFTUYKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3RvcnlTUEkgZW1mID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neVNQSSkKICAgICAgICAgICAgT3BlbkpQQVBlcnNpc3RlbmNlLmNyZWF0ZUVu\ndGl0eU1hbmFnZXJGYWN0b3J5KAogICAgICAgICAgICAgICAgInNpbXBsZS1j\nYWxsYmFjay1tb2RlIiwKICAgICAgICAgICAgICAgICJvcmcvYXBhY2hlL29w\nZW5qcGEvcGVyc2lzdGVuY2UvdmFsaWRhdGlvbi9wZXJzaXN0ZW5jZS54bWwi\nLAogICAgICAgICAgICBwcm9wcyk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChl\nbWYpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIHZlcmlmeSB2YWxp\nZGF0aW9uIG1vZGUKICAgICAgICAgICAgT3BlbkpQQUNvbmZpZ3VyYXRpb24g\nY29uZiA9IGVtZi5nZXRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgICAgIGFz\nc2VydE5vdE51bGwoY29uZik7CiAgICAgICAgICAgIGFzc2VydEVxdWFscygi\nVmFsaWRhdGlvbiBtb2RlIiwgCiAgICAgICAgICAgICAgICBTdHJpbmcudmFs\ndWVPZihWYWxpZGF0aW9uTW9kZS5OT05FKSwKICAgICAgICAgICAgICAgIGNv\nbmYuZ2V0VmFsaWRhdGlvbk1vZGUoKSk7CiAgICAgICAgfSBmaW5hbGx5IHsK\nICAgICAgICAgICAgY2xlYW51cChlbWYpOwogICAgICAgIH0KICAgIH0KCiAg\nICAvKioKICAgICAqIFNjZW5hcmlvIGJlaW5nIHRlc3RlZDoKICAgICAqICAg\nNykgVmFsaWRhdGlvbiBtb2RlIGluIGNyZWF0ZUVNRihNYXAgcHJvcHMpIGNh\nbiBiZSBhIFZhbGlkYXRpb25Nb2RlIGVudW0KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgdGVzdFZhbGlkYXRpb25Nb2RlNygpIHsKICAgICAgICBnZXRMb2co\nKS50cmFjZSgidGVzdFZhbGlkYXRpb25Nb2RlNygpIC0gTWFwKFZhbGlkYXRp\nb25Nb2RlLk5PTkUpICIgKwogICAgICAgICAgICAib3ZlcnJpZGVzIFBVIHBy\nb3ZpZGVkIG1vZGU9Y2FsbGJhY2siKTsKCiAgICAgICAgLy8gY3JlYXRlIHRo\nZSBNYXAgdG8gdGVzdCBvdmVycmlkZXMKICAgICAgICBNYXA8U3RyaW5nLE9i\namVjdD4gcHJvcHMgPSBuZXcgSGFzaE1hcDxTdHJpbmcsT2JqZWN0PigpOwog\nICAgICAgIHByb3BzLnB1dCgiamF2YXgucGVyc2lzdGVuY2UudmFsaWRhdGlv\nbi5tb2RlIiwKICAgICAgICAgICAgVmFsaWRhdGlvbk1vZGUuTk9ORSk7Cgog\nICAgICAgIC8vIGNyZWF0ZSBvdXIgRU1GCiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5U1BJIGVtZiA9IChPcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3RvcnlTUEkpCiAgICAgICAgICAgIE9wZW5KUEFQZXJzaXN0ZW5jZS5j\ncmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeSgKICAgICAgICAgICAgICAgICJz\naW1wbGUtY2FsbGJhY2stbW9kZSIsCiAgICAgICAgICAgICAgICAib3JnL2Fw\nYWNoZS9vcGVuanBhL3BlcnNpc3RlbmNlL3ZhbGlkYXRpb24vcGVyc2lzdGVu\nY2UueG1sIiwKICAgICAgICAgICAgcHJvcHMpOwogICAgICAgIGFzc2VydE5v\ndE51bGwoZW1mKTsKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyB2ZXJp\nZnkgdmFsaWRhdGlvbiBtb2RlCiAgICAgICAgICAgIE9wZW5KUEFDb25maWd1\ncmF0aW9uIGNvbmYgPSBlbWYuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAg\nICAgICBhc3NlcnROb3ROdWxsKGNvbmYpOwogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoIlZhbGlkYXRpb24gbW9kZSIsIAogICAgICAgICAgICAgICAgU3Ry\naW5nLnZhbHVlT2YoVmFsaWRhdGlvbk1vZGUuTk9ORSksCiAgICAgICAgICAg\nICAgICBjb25mLmdldFZhbGlkYXRpb25Nb2RlKCkpOwogICAgICAgIH0gZmlu\nYWxseSB7CiAgICAgICAgICAgIGNsZWFudXAoZW1mKTsKICAgICAgICB9CiAg\nICB9CgogICAgCiAgICAvKioKICAgICAqIEhlbHBlciBtZXRob2QgdG8gcmVt\nb3ZlIGVudGl0aWVzIGFuZCBjbG9zZSB0aGUgZW1mIGFuIGFueSBvcGVuIGVt\nJ3MuCiAgICAgKiBAcGFyYW0gZW1mCiAgICAgKi8KICAgIHByaXZhdGUgdm9p\nZCBjbGVhbnVwKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBlbWYp\nIHsKICAgICAgICBjbGVhcihlbWYpOwogICAgICAgIGNsb3NlRU1GKGVtZik7\nCiAgICB9ICAgIAoKfQo=\n","encoding":"base64"}

