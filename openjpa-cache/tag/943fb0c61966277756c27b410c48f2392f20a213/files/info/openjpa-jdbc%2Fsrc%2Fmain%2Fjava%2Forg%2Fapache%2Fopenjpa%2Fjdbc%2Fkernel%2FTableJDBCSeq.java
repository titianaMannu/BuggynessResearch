{"sha":"59178a57cd0d58d26f11d09e5effa27426795db3","node_id":"MDQ6QmxvYjIwNjM2NDo1OTE3OGE1N2NkMGQ1OGQyNmYxMWQwOWU1ZWZmYTI3NDI2Nzk1ZGIz","size":24479,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/59178a57cd0d58d26f11d09e5effa27426795db3","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWw7CgppbXBv\ncnQgamF2YS5pby5TZXJpYWxpemFibGU7CmltcG9ydCBqYXZhLnNxbC5Db25u\nZWN0aW9uOwppbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7Cmlt\ncG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7CmltcG9ydCBqYXZhLnNxbC5TUUxF\neGNlcHRpb247CmltcG9ydCBqYXZhLnNxbC5UeXBlczsKaW1wb3J0IGphdmEu\ndXRpbC5IYXNoTWFwOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJj\nLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5jb25mLkpEQkNDb25maWd1cmF0aW9uSW1wbDsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuQ2xhc3NNYXBwaW5nOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5JbmRleDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5QcmltYXJ5\nS2V5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLlNj\naGVtYTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5T\nY2hlbWFHcm91cDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNj\naGVtYS5TY2hlbWFUb29sOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc2NoZW1hLlNjaGVtYXM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zY2hlbWEuVGFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuREJEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc3FsLlNRTEJ1ZmZlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNxbC5TUUxFeGNlcHRpb25zOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYWJsZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRpb25zOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5sb2cuTG9nOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5PcHRpb25zOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnV0aWwuSW52YWxpZFN0YXRlRXhjZXB0aW9uOwpp\nbXBvcnQgc2VycC51dGlsLk51bWJlcnM7CmltcG9ydCBzZXJwLnV0aWwuU3Ry\naW5nczsKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwovLyBOT1RFOiBEbyBub3QgY2hhbmdl\nIHByb3BlcnR5IG5hbWVzOyBzZWUgU2VxdWVuY2VNZXRhRGF0YQovLyBhbmQg\nU2VxdWVuY2VNYXBwaW5nIGZvciBzdGFuZGFyZCBwcm9wZXJ0eSBuYW1lcy4K\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vCgovKioKICoge0BsaW5rIEpEQkNTZXF9IGltcGxl\nbWVudGF0aW9uIHRoYXQgdXNlcyBhIGRhdGFiYXNlIHRhYmxlCiAqIGZvciBz\nZXF1ZW5jZSBudW1iZXIgZ2VuZXJhdGlvbi4gVGhpcyBiYXNlIGltcGxlbWVu\ndGF0aW9uIHVzZXMgYSBzaW5nbGUKICogcm93IGZvciBhIGdsb2JhbCBzZXF1\nZW5jZSBudW1iZXIuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJs\naWMgY2xhc3MgVGFibGVKREJDU2VxCiAgICBleHRlbmRzIEFic3RyYWN0SkRC\nQ1NlcQogICAgaW1wbGVtZW50cyBDb25maWd1cmFibGUgewoKICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFDVElPTl9EUk9QID0gImRyb3AiOwog\nICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQUNUSU9OX0FERCA9ICJh\nZGQiOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQUNUSU9OX0dF\nVCA9ICJnZXQiOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQUNU\nSU9OX1NFVCA9ICJzZXQiOwoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExv\nY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAo\nVGFibGVKREJDU2VxLmNsYXNzKTsKCiAgICBwcml2YXRlIHRyYW5zaWVudCBK\nREJDQ29uZmlndXJhdGlvbiBfY29uZiA9IG51bGw7CiAgICBwcml2YXRlIHRy\nYW5zaWVudCBMb2cgX2xvZyA9IG51bGw7CiAgICBwcml2YXRlIGludCBfYWxs\nb2MgPSA1MDsKICAgIHByaXZhdGUgaW50IF9pbnRWYWx1ZSA9IDE7CiAgICBw\ncml2YXRlIGZpbmFsIEhhc2hNYXAgX3N0YXQgPSBuZXcgSGFzaE1hcCgpOwoK\nICAgIHByaXZhdGUgU3RyaW5nIF90YWJsZSA9ICJPUEVOSlBBX1NFUVVFTkNF\nX1RBQkxFIjsKICAgIHByaXZhdGUgU3RyaW5nIF9zZXFDb2x1bW5OYW1lID0g\nIlNFUVVFTkNFX1ZBTFVFIjsKICAgIHByaXZhdGUgU3RyaW5nIF9wa0NvbHVt\nbk5hbWUgPSAiSUQiOwoKICAgIHByaXZhdGUgQ29sdW1uIF9zZXFDb2x1bW4g\nPSBudWxsOwogICAgcHJpdmF0ZSBDb2x1bW4gX3BrQ29sdW1uID0gbnVsbDsK\nICAgIHByaXZhdGUgaW50IF9zY2hlbWFzSWR4ID0gMDsgICAgCgogICAgLyoq\nCiAgICAgKiBUaGUgc2VxdWVuY2UgdGFibGUgbmFtZS4gRGVmYXVsdHMgdG8g\nPGNvZGU+T1BFTkpQQV9TRVFVRU5DRV9UQUJMRTwvY29kZT4uCiAgICAgKiBC\neSBkZWZhdWx0LCB0aGUgdGFibGUgd2lsbCBiZSBwbGFjZWQgaW4gdGhlIGZp\ncnN0IHNjaGVtYSBsaXN0ZWQgaW4geW91cgogICAgICogPGNvZGU+b3Blbmpw\nYS5qZGJjLlNjaGVtYXM8L2NvZGU+IHByb3BlcnR5LCBvciBpbiB0aGUgZGVm\nYXVsdCBzY2hlbWEgaWYKICAgICAqIHRoZSBwcm9wZXJ0eSBpcyBub3QgZ2l2\nZW4uIElmIHlvdSBzcGVjaWZ5IGEgdGFibGUgbmFtZSBpbiB0aGUgZm9ybQog\nICAgICogPGNvZGU+Jmx0O3NjaGVtYSZndDsuJmx0O3RhYmxlJmd0OzwvY29k\nZT4sIHRoZW4gdGhlIGdpdmVuIHNjaGVtYQogICAgICogd2lsbCBiZSB1c2Vk\nLgogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFRhYmxlKCkgewogICAg\nICAgIHJldHVybiBfdGFibGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUg\nc2VxdWVuY2UgdGFibGUgbmFtZS4gRGVmYXVsdHMgdG8gPGNvZGU+T1BFTkpQ\nQV9TRVFVRU5DRV9UQUJMRTwvY29kZT4uCiAgICAgKiBCeSBkZWZhdWx0LCB0\naGUgdGFibGUgd2lsbCBiZSBwbGFjZWQgaW4gdGhlIGZpcnN0IHNjaGVtYSBs\naXN0ZWQgaW4geW91cgogICAgICogPGNvZGU+b3BlbmpwYS5qZGJjLlNjaGVt\nYXM8L2NvZGU+IHByb3BlcnR5LCBvciBpbiB0aGUgZGVmYXVsdCBzY2hlbWEg\naWYKICAgICAqIHRoZSBwcm9wZXJ0eSBpcyBub3QgZ2l2ZW4uIElmIHlvdSBz\ncGVjaWZ5IGEgdGFibGUgbmFtZSBpbiB0aGUgZm9ybQogICAgICogPGNvZGU+\nJmx0O3NjaGVtYSZndDsuJmx0O3RhYmxlJmd0OzwvY29kZT4sIHRoZW4gdGhl\nIGdpdmVuIHNjaGVtYQogICAgICogd2lsbCBiZSB1c2VkLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRUYWJsZShTdHJpbmcgbmFtZSkgewogICAgICAg\nIF90YWJsZSA9IG5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGVwcmVj\nYXRlZCBVc2Uge0BsaW5rICNzZXRUYWJsZX0uIFJldGFpbmVkIGZvcgogICAg\nICogYmFja3dhcmRzLWNvbXBhdGliaWxpdHkJd2l0aCBhdXRvLWNvbmZpZ3Vy\nYXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFRhYmxlTmFtZShT\ndHJpbmcgbmFtZSkgewogICAgICAgIHNldFRhYmxlKG5hbWUpOwogICAgfQoK\nICAgIC8qKgogICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbHVtbiB0aGF0IGhv\nbGRzIHRoZSBzZXF1ZW5jZSB2YWx1ZS4gRGVmYXVsdHMKICAgICAqIHRvIDxj\nb2RlPlNFUVVFTkNFX1ZBTFVFPC9jb2RlPi4KICAgICAqLwogICAgcHVibGlj\nIFN0cmluZyBnZXRTZXF1ZW5jZUNvbHVtbigpIHsKICAgICAgICByZXR1cm4g\nX3NlcUNvbHVtbk5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgbmFt\nZSBvZiB0aGUgY29sdW1uIHRoYXQgaG9sZHMgdGhlIHNlcXVlbmNlIHZhbHVl\nLiBEZWZhdWx0cwogICAgICogdG8gPGNvZGU+U0VRVUVOQ0VfVkFMVUU8L2Nv\nZGU+LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRTZXF1ZW5jZUNvbHVt\nbihTdHJpbmcgc2VxdWVuY2VDb2x1bW4pIHsKICAgICAgICBfc2VxQ29sdW1u\nTmFtZSA9IHNlcXVlbmNlQ29sdW1uOwogICAgfQoKICAgIC8qKgogICAgICog\nVGhlIG5hbWUgb2YgdGhlIHRhYmxlJ3MgcHJpbWFyeSBrZXkgY29sdW1uLiBE\nZWZhdWx0cyB0bwogICAgICogPGNvZGU+SUQ8L2NvZGU+LgogICAgICovCiAg\nICBwdWJsaWMgU3RyaW5nIGdldFByaW1hcnlLZXlDb2x1bW4oKSB7CiAgICAg\nICAgcmV0dXJuIF9wa0NvbHVtbk5hbWU7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBUaGUgbmFtZSBvZiB0aGUgdGFibGUncyBwcmltYXJ5IGtleSBjb2x1bW4u\nIERlZmF1bHRzIHRvCiAgICAgKiA8Y29kZT5JRDwvY29kZT4uCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldFByaW1hcnlLZXlDb2x1bW4oU3RyaW5nIHBy\naW1hcnlLZXlDb2x1bW4pIHsKICAgICAgICBfcGtDb2x1bW5OYW1lID0gcHJp\nbWFyeUtleUNvbHVtbjsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0\naGUgbnVtYmVyIG9mIHNlcXVlbmNlcyB0byBhbGxvY2F0ZSBmb3IgZWFjaCB1\ncGRhdGUgb2YgdGhlCiAgICAgKiBzZXF1ZW5jZSB0YWJsZS4gU2VxdWVuY2Ug\nbnVtYmVycyB3aWxsIGJlIGdyYWJiZWQgaW4gYmxvY2tzIG9mIHRoaXMKICAg\nICAqIHZhbHVlIHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHRyYW5zYWN0aW9u\ncyB0aGF0IG11c3QgYmUgcGVyZm9ybWVkIG9uCiAgICAgKiB0aGUgc2VxdWVu\nY2UgdGFibGUuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0QWxsb2NhdGUo\nKSB7CiAgICAgICAgcmV0dXJuIF9hbGxvYzsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiB0aGUgbnVtYmVyIG9mIHNlcXVlbmNlcyB0byBhbGxvY2F0\nZSBmb3IgZWFjaCB1cGRhdGUgb2YgdGhlCiAgICAgKiBzZXF1ZW5jZSB0YWJs\nZS4gU2VxdWVuY2UgbnVtYmVycyB3aWxsIGJlIGdyYWJiZWQgaW4gYmxvY2tz\nIG9mIHRoaXMKICAgICAqIHZhbHVlIHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9m\nIHRyYW5zYWN0aW9ucyB0aGF0IG11c3QgYmUgcGVyZm9ybWVkIG9uCiAgICAg\nKiB0aGUgc2VxdWVuY2UgdGFibGUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHNldEFsbG9jYXRlKGludCBhbGxvYykgewogICAgICAgIF9hbGxvYyA9IGFs\nbG9jOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgbnVt\nYmVyIGFzIHRoZSBpbml0aWFsIG51bWJlciBmb3IgdGhlIAogICAgICogR2Vu\nZXJhdGVkVmFsdWUuVEFCTEUgc3RyYXRlZ3kgdG8gc3RhcnQgd2l0aC4gCiAg\nICAgKiBAcmV0dXJuIGFuIGluaXRpYWwgbnVtYmVyCiAgICAgKi8KICAgIHB1\nYmxpYyBpbnQgZ2V0SW5pdGlhbFZhbHVlKCkgeyAgICAgICAgCiAgICAgICAg\ncmV0dXJuIF9pbnRWYWx1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0\naGUgaW5pdGlhbCBudW1iZXIgaW4gdGhlIHRhYmxlIGZvciB0aGUgR2VuZXJh\ndGVkVmFsdWUuVEFCTEUKICAgICAqIHN0cmF0ZWd5IHRvIHVzZSBhcyBpbml0\naWFsIG51bWJlci4gCiAgICAgKiBAcGFyYW0gaW50VmFsdWUuIFRoZSBpbml0\naWFsIG51bWJlcgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRJbml0aWFs\nVmFsdWUoaW50IGludFZhbHVlKSB7CiAgICAgICAgX2ludFZhbHVlID0gaW50\nVmFsdWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBAZGVwcmVjYXRlZCBVc2Ug\ne0BsaW5rICNzZXRBbGxvY2F0ZX0uIFJldGFpbmVkIGZvciBiYWNrd2FyZHMK\nICAgICAqIGNvbXBhdGliaWxpdHkgb2YgYXV0by1jb25maWd1cmF0aW9uLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRJbmNyZW1lbnQoaW50IGluYykg\newogICAgICAgIHNldEFsbG9jYXRlKGluYyk7CiAgICB9CgogICAgcHVibGlj\nIEpEQkNDb25maWd1cmF0aW9uIGdldENvbmZpZ3VyYXRpb24oKSB7CiAgICAg\nICAgcmV0dXJuIF9jb25mOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENv\nbmZpZ3VyYXRpb24oQ29uZmlndXJhdGlvbiBjb25mKSB7CiAgICAgICAgX2Nv\nbmYgPSAoSkRCQ0NvbmZpZ3VyYXRpb24pIGNvbmY7CiAgICAgICAgX2xvZyA9\nIF9jb25mLmdldExvZyhKREJDQ29uZmlndXJhdGlvbi5MT0dfUlVOVElNRSk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc3RhcnRDb25maWd1cmF0aW9uKCkg\newogICAgfQoKICAgIHB1YmxpYyB2b2lkIGVuZENvbmZpZ3VyYXRpb24oKSB7\nCiAgICAgICAgYnVpbGRUYWJsZSgpOwogICAgfQogICAgCgogICAgcHVibGlj\nIHZvaWQgYWRkU2NoZW1hKENsYXNzTWFwcGluZyBtYXBwaW5nLCBTY2hlbWFH\ncm91cCBncm91cCkgewogICAgICAgIC8vIFNpbmNlIHRoZSB0YWJsZSBpcyBj\ncmVhdGVkIGJ5IG9wZW5qcGEgaW50ZXJuYWxseQogICAgICAgIC8vIHdlIGNh\nbiBjcmVhdGUgdGhlIHRhYmxlIGZvciBlYWNoIHNjaGVtYSB3aXRoaW4gdGhl\nIFBVCiAgICAgICAgLy8gaW4gaGVyZS4KICAgICAgICAKICAgICAgICBTY2hl\nbWFbXSBzY2hlbWFzID0gZ3JvdXAuZ2V0U2NoZW1hcygpOwogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgc2NoZW1hcy5sZW5ndGg7IGkrKykgewogICAg\nICAgICAgICBTdHJpbmcgc2NoZW1hTmFtZSA9IFN0cmluZ3MuZ2V0UGFja2Fn\nZU5hbWUoX3RhYmxlKTsKICAgICAgICAgICAgaWYgKHNjaGVtYU5hbWUubGVu\nZ3RoKCkgPT0gMCkKICAgICAgICAgICAgICAgIHNjaGVtYU5hbWUgPSBTY2hl\nbWFzLmdldE5ld1RhYmxlU2NoZW1hKF9jb25mKTsKICAgICAgICAgICAgaWYg\nKHNjaGVtYU5hbWUgPT0gbnVsbCkKICAgICAgICAgICAgICAgIHNjaGVtYU5h\nbWUgPSBzY2hlbWFzW2ldLmdldE5hbWUoKTsKCiAgICAgICAgICAgIC8vIGNy\nZWF0ZSB0YWJsZSBpbiB0aGlzIGdyb3VwCiAgICAgICAgICAgIFNjaGVtYSBz\nY2hlbWEgPSBncm91cC5nZXRTY2hlbWEoc2NoZW1hTmFtZSk7CiAgICAgICAg\nICAgIGlmIChzY2hlbWEgPT0gbnVsbCkKICAgICAgICAgICAgICAgIHNjaGVt\nYSA9IGdyb3VwLmFkZFNjaGVtYShzY2hlbWFOYW1lKTsKICAgICAgICAgICAg\nCiAgICAgICAgICAgIHNjaGVtYS5pbXBvcnRUYWJsZShfcGtDb2x1bW4uZ2V0\nVGFibGUoKSk7CiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVzZXQgdGhl\nIHRhYmxlIG5hbWUgaW4gdGhlIGNvbHVtbiB3aXRoIHRoZQogICAgICAgICAg\nICAvLyBmdWxseSBxdWFsaWZpZWQgbmFtZSBmb3IgbWF0Y2hpbmcgdGhlIHRh\nYmxlIG5hbWUgZnJvbSB0aGUKICAgICAgICAgICAgLy8gQ29sdW1uLgogICAg\nICAgICAgICBfcGtDb2x1bW4ucmVzZXRUYWJsZU5hbWUoc2NoZW1hTmFtZSAr\nICIuIgogICAgICAgICAgICAgICAgICAgICsgX3BrQ29sdW1uLmdldFRhYmxl\nTmFtZSgpKTsKICAgICAgICAgICAgLy8gc29tZSBkYXRhYmFzZXMgcmVxdWly\nZSB0byBjcmVhdGUgYW4gaW5kZXggZm9yIHRoZSBzZXF1ZW5jZSB0YWJsZQog\nICAgICAgICAgICBfY29uZi5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpLmNy\nZWF0ZUluZGV4SWZOZWNlc3Nhcnkoc2NoZW1hLAogICAgICAgICAgICAgICAg\nICAgIF90YWJsZSwgX3BrQ29sdW1uKTsKICAgICAgICAgCiAgICAgICAgfQog\nICAgfQoKICAgIHByb3RlY3RlZCBPYmplY3QgbmV4dEludGVybmFsKEpEQkNT\ndG9yZSBzdG9yZSwgQ2xhc3NNYXBwaW5nIG1hcHBpbmcpCiAgICAgICAgdGhy\nb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgLy8gaWYgbmVlZGVkLCBncmFiIHRo\nZSBuZXh0IGhhbmRmdWwgb2YgaWRzCiAgICAgICAgU3RhdHVzIHN0YXQgPSBn\nZXRTdGF0dXMobWFwcGluZyk7CiAgICAgICAgaWYgKHN0YXQgPT0gbnVsbCkK\nICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRTdGF0ZUV4Y2VwdGlvbihf\nbG9jLmdldCgiYmFkLXNlcS10eXBlIiwKICAgICAgICAgICAgICAgIGdldENs\nYXNzKCksIG1hcHBpbmcpKTsKCiAgICAgICAgd2hpbGUgKHRydWUpIHsKICAg\nICAgICAgICAgc3luY2hyb25pemVkIChzdGF0KSB7CiAgICAgICAgICAgICAg\nICAvLyBtYWtlIHN1cmUgc2VxIGlzIGF0IGxlYXN0IDEsIHNpbmNlIGF1dG9h\nc3NpZ25lZCBpZHMgb2YgMCBjYW4KICAgICAgICAgICAgICAgIC8vIGNvbmZs\naWN0IHdpdGggdW5pbml0aWFsaXplZCB2YWx1ZXMKICAgICAgICAgICAgICAg\nIHN0YXQuc2VxID0gTWF0aC5tYXgoc3RhdC5zZXEsIDEpOwogICAgICAgICAg\nICAgICAgaWYgKHN0YXQuc2VxIDwgc3RhdC5tYXgpCiAgICAgICAgICAgICAg\nICAgICAgcmV0dXJuIE51bWJlcnMudmFsdWVPZihzdGF0LnNlcSsrKTsKICAg\nICAgICAgICAgfQogICAgICAgICAgICBhbGxvY2F0ZVNlcXVlbmNlKHN0b3Jl\nLCBtYXBwaW5nLCBzdGF0LCBfYWxsb2MsIHRydWUpOwogICAgICAgIH0KICAg\nIH0KCiAgICBwcm90ZWN0ZWQgT2JqZWN0IGN1cnJlbnRJbnRlcm5hbChKREJD\nU3RvcmUgc3RvcmUsIENsYXNzTWFwcGluZyBtYXBwaW5nKQogICAgICAgIHRo\ncm93cyBFeGNlcHRpb24gewogICAgICAgIGlmIChjdXJyZW50ID09IG51bGwp\nIHsKICAgICAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gZ2V0Q29ubmVjdGlv\nbihzdG9yZSk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBs\nb25nIGN1ciA9IGdldFNlcXVlbmNlKG1hcHBpbmcsIGNvbm4pOwogICAgICAg\nICAgICAgICAgaWYgKGN1ciAhPSAtMSkKICAgICAgICAgICAgICAgICAgICBj\ndXJyZW50ID0gTnVtYmVycy52YWx1ZU9mKGN1cik7CiAgICAgICAgICAgIH0g\nZmluYWxseSB7CiAgICAgICAgICAgICAgICBjbG9zZUNvbm5lY3Rpb24oY29u\nbik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN1\ncGVyLmN1cnJlbnRJbnRlcm5hbChzdG9yZSwgbWFwcGluZyk7CiAgICB9Cgog\nICAgcHJvdGVjdGVkIHZvaWQgYWxsb2NhdGVJbnRlcm5hbChpbnQgY291bnQs\nIEpEQkNTdG9yZSBzdG9yZSwKICAgICAgICBDbGFzc01hcHBpbmcgbWFwcGlu\nZykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBTdGF0\ndXMgc3RhdCA9IGdldFN0YXR1cyhtYXBwaW5nKTsKICAgICAgICBpZiAoc3Rh\ndCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIHdoaWxl\nICh0cnVlKSB7CiAgICAgICAgICAgIGludCBhdmFpbGFibGU7CiAgICAgICAg\nICAgIHN5bmNocm9uaXplZCAoc3RhdCkgewogICAgICAgICAgICAgICAgYXZh\naWxhYmxlID0gKGludCkgKHN0YXQubWF4IC0gc3RhdC5zZXEpOwogICAgICAg\nICAgICAgICAgaWYgKGF2YWlsYWJsZSA+PSBjb3VudCkKICAgICAgICAgICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYWxs\nb2NhdGVTZXF1ZW5jZShzdG9yZSwgbWFwcGluZywgc3RhdCwgY291bnQgLSBh\ndmFpbGFibGUsIGZhbHNlKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHN0YXR1cyBvYmplY3QgZm9y\nIHRoZSBnaXZlbiBjbGFzcywgb3IgbnVsbAogICAgICogaWYgY2Fubm90IGhh\nbmRsZSB0aGUgZ2l2ZW4gY2xhc3MuIFRoZSBtYXBwaW5nIG1heSBiZSBudWxs\nLgogICAgICovCiAgICBwcm90ZWN0ZWQgU3RhdHVzIGdldFN0YXR1cyhDbGFz\nc01hcHBpbmcgbWFwcGluZykgeyAgCiAgICAgICAgU3RhdHVzIHN0YXR1cyA9\nIChTdGF0dXMpX3N0YXQuZ2V0KG1hcHBpbmcpOyAgICAgICAgCiAgICAgICAg\naWYgKHN0YXR1cyA9PSBudWxsKXsgCiAgICAgICAgICAgIHN0YXR1cyA9IG5l\ndyBTdGF0dXMoKTsKICAgICAgICAgICAgX3N0YXQucHV0KG1hcHBpbmcsIHN0\nYXR1cyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdGF0dXM7CiAgICAg\nICAgICAgIAogICAgfQoKICAgIC8qKgogICAgICogQWRkIHRoZSBwcmltYXJ5\nIGtleSBjb2x1bW4gdG8gdGhlIGdpdmVuIHRhYmxlIGFuZCByZXR1cm4gaXQu\nCiAgICAgKi8KICAgIHByb3RlY3RlZCBDb2x1bW4gYWRkUHJpbWFyeUtleUNv\nbHVtbihUYWJsZSB0YWJsZSkgewogICAgICAgIERCRGljdGlvbmFyeSBkaWN0\nID0gX2NvbmYuZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsKICAgICAgICBD\nb2x1bW4gcGtDb2x1bW4gPSB0YWJsZS5hZGRDb2x1bW4oZGljdC5nZXRWYWxp\nZENvbHVtbk5hbWUKICAgICAgICAgICAgKGdldFByaW1hcnlLZXlDb2x1bW4o\nKSwgdGFibGUpKTsKICAgICAgICBwa0NvbHVtbi5zZXRUeXBlKGRpY3QuZ2V0\nUHJlZmVycmVkVHlwZShUeXBlcy5USU5ZSU5UKSk7CiAgICAgICAgcGtDb2x1\nbW4uc2V0SmF2YVR5cGUoSmF2YVR5cGVzLklOVCk7CiAgICAgICAgcmV0dXJu\nIHBrQ29sdW1uOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBw\ncmltYXJ5IGtleSB2YWx1ZSBmb3IgdGhlIGdpdmVuIGNsYXNzLgogICAgICov\nCiAgICBwcm90ZWN0ZWQgT2JqZWN0IGdldFByaW1hcnlLZXkoQ2xhc3NNYXBw\naW5nIG1hcHBpbmcpIHsKICAgICAgICByZXR1cm4gTnVtYmVycy52YWx1ZU9m\nKDApOwogICAgfQoKICAgIC8qKgogICAgICogQ3JlYXRlcyB0aGUgb2JqZWN0\nLWxldmVsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzZXF1ZW5jZSB0YWJsZS4K\nICAgICAqLwogICAgcHJpdmF0ZSB2b2lkIGJ1aWxkVGFibGUoKSB7CiAgICAg\nICAgU3RyaW5nIHRhYmxlTmFtZSA9IFN0cmluZ3MuZ2V0Q2xhc3NOYW1lKF90\nYWJsZSk7CiAgICAgICAgU3RyaW5nIHNjaGVtYU5hbWUgPSBTdHJpbmdzLmdl\ndFBhY2thZ2VOYW1lKF90YWJsZSk7CiAgICAgICAgaWYgKHNjaGVtYU5hbWUu\nbGVuZ3RoKCkgPT0gMCkKICAgICAgICAgICAgc2NoZW1hTmFtZSA9IFNjaGVt\nYXMuZ2V0TmV3VGFibGVTY2hlbWEoX2NvbmYpOwoKICAgICAgICBTY2hlbWFH\ncm91cCBncm91cCA9IG5ldyBTY2hlbWFHcm91cCgpOwogICAgICAgIFNjaGVt\nYSBzY2hlbWEgPSBncm91cC5hZGRTY2hlbWEoc2NoZW1hTmFtZSk7CgogICAg\nICAgIFRhYmxlIHRhYmxlID0gc2NoZW1hLmFkZFRhYmxlKHRhYmxlTmFtZSk7\nCiAgICAgICAgX3BrQ29sdW1uID0gYWRkUHJpbWFyeUtleUNvbHVtbih0YWJs\nZSk7CiAgICAgICAgUHJpbWFyeUtleSBwayA9IHRhYmxlLmFkZFByaW1hcnlL\nZXkoKTsKICAgICAgICBway5hZGRDb2x1bW4oX3BrQ29sdW1uKTsKCiAgICAg\nICAgREJEaWN0aW9uYXJ5IGRpY3QgPSBfY29uZi5nZXREQkRpY3Rpb25hcnlJ\nbnN0YW5jZSgpOwogICAgICAgIF9zZXFDb2x1bW4gPSB0YWJsZS5hZGRDb2x1\nbW4oZGljdC5nZXRWYWxpZENvbHVtbk5hbWUKICAgICAgICAgICAgKF9zZXFD\nb2x1bW5OYW1lLCB0YWJsZSkpOwogICAgICAgIF9zZXFDb2x1bW4uc2V0VHlw\nZShkaWN0LmdldFByZWZlcnJlZFR5cGUoVHlwZXMuQklHSU5UKSk7CiAgICAg\nICAgX3NlcUNvbHVtbi5zZXRKYXZhVHlwZShKYXZhVHlwZXMuTE9ORyk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBVcGRhdGVzIHRoZSBtYXggYXZhaWxhYmxl\nIHNlcXVlbmNlIHZhbHVlLgogICAgICovCiAgICBwcml2YXRlIHZvaWQgYWxs\nb2NhdGVTZXF1ZW5jZShKREJDU3RvcmUgc3RvcmUsIENsYXNzTWFwcGluZyBt\nYXBwaW5nLAogICAgICAgIFN0YXR1cyBzdGF0LCBpbnQgYWxsb2MsIGJvb2xl\nYW4gdXBkYXRlU3RhdFNlcSkgCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gZ2V0Q29ubmVjdGlvbihz\ndG9yZSk7CiAgICAgICAgdHJ5IHsgCiAgICAgICAgICAgIGlmIChzZXRTZXF1\nZW5jZShtYXBwaW5nLCBzdGF0LCBhbGxvYywgdXBkYXRlU3RhdFNlcSwgY29u\nbikpCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBjYXRjaCAo\nU1FMRXhjZXB0aW9uIHNlKSB7CiAgICAgICAgICAgIHRocm93IFNRTEV4Y2Vw\ndGlvbnMuZ2V0U3RvcmUoX2xvYy5nZXQoImJhZC1zZXEtdXAiLCBfdGFibGUp\nLAogICAgICAgICAgICAgICAgc2UsIF9jb25mLmdldERCRGljdGlvbmFyeUlu\nc3RhbmNlKCkpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGNs\nb3NlQ29ubmVjdGlvbihjb25uKTsKICAgICAgICB9CiAgICAgICAgCiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgLy8gcG9zc2libGUgdGhhdCB3ZSBtaWdo\ndCBnZXQgZXJyb3JzIHdoZW4gaW5zZXJ0aW5nIGlmCiAgICAgICAgICAgIC8v\nIGFub3RoZXIgdGhyZWFkL3Byb2Nlc3MgaXMgaW5zZXJ0aW5nIHNhbWUgcGsg\nYXQgc2FtZSB0aW1lCiAgICAgICAgICAgIFNRTEV4Y2VwdGlvbiBlcnIgPSBu\ndWxsOyAKICAgICAgICAgICAgLy8gIyMjIHdoeSBkb2VzIHRoaXMgbm90IGNh\nbGwgZ2V0Q29ubmVjdGlvbigpIC8gY2xvc2VDb25uZWN0aW9uKCk/CiAgICAg\nICAgICAgIGNvbm4gPSBfY29uZi5nZXREYXRhU291cmNlMihzdG9yZS5nZXRD\nb250ZXh0KCkpLmdldENvbm5lY3Rpb24oKTsKICAgICAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgICAgIGluc2VydFNlcXVlbmNlKG1hcHBpbmcsIGNvbm4p\nOwogICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gc2UpIHsKICAg\nICAgICAgICAgICAgIGVyciA9IHNlOwogICAgICAgICAgICB9IGZpbmFsbHkg\newogICAgICAgICAgICAgICAgdHJ5IHsgY29ubi5jbG9zZSgpOyB9IGNhdGNo\nIChTUUxFeGNlcHRpb24gc2UpIHt9CiAgICAgICAgICAgIH0KCiAgICAgICAg\nICAgIC8vIG5vdyB3ZSBzaG91bGQgYmUgYWJsZSB0byB1cGRhdGUuLi4KICAg\nICAgICAgICAgY29ubiA9IGdldENvbm5lY3Rpb24oc3RvcmUpOwogICAgICAg\nICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCFzZXRTZXF1ZW5jZSht\nYXBwaW5nLCBzdGF0LCBhbGxvYywgdXBkYXRlU3RhdFNlcSwgY29ubikpCiAg\nICAgICAgICAgICAgICAgICAgdGhyb3cgKGVyciAhPSBudWxsKSA/IGVyciA6\nIG5ldyBTUUxFeGNlcHRpb24oX2xvYy5nZXQKICAgICAgICAgICAgICAgICAg\nICAgICAgKCJuby1zZXEtcm93IiwgbWFwcGluZywgX3RhYmxlKS5nZXRNZXNz\nYWdlKCkpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAg\nICAgY2xvc2VDb25uZWN0aW9uKGNvbm4pOwogICAgICAgICAgICB9CiAgICAg\nICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlMikgewogICAgICAgICAgICB0\naHJvdyBTUUxFeGNlcHRpb25zLmdldFN0b3JlKF9sb2MuZ2V0KCJiYWQtc2Vx\nLXVwIiwgX3RhYmxlKSwKICAgICAgICAgICAgICAgIHNlMiwgX2NvbmYuZ2V0\nREJEaWN0aW9uYXJ5SW5zdGFuY2UoKSk7CiAgICAgICAgfSAKICAgIH0KCiAg\nICAvKioKICAgICAqIEluc2VydHMgdGhlIGluaXRpYWwgc2VxdWVuY2UgaW5m\nb3JtYXRpb24gaW50byB0aGUgZGF0YWJhc2UsIGlmIGFueS4KICAgICAqLwog\nICAgcHJpdmF0ZSB2b2lkIGluc2VydFNlcXVlbmNlKENsYXNzTWFwcGluZyBt\nYXBwaW5nLCBDb25uZWN0aW9uIGNvbm4pCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgaWYgKF9sb2cuaXNUcmFjZUVuYWJsZWQoKSkK\nICAgICAgICAgICAgX2xvZy50cmFjZShfbG9jLmdldCgiaW5zZXJ0LXNlcSIp\nKTsKCiAgICAgICAgT2JqZWN0IHBrID0gZ2V0UHJpbWFyeUtleShtYXBwaW5n\nKTsKICAgICAgICBpZiAocGsgPT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cg\nbmV3IEludmFsaWRTdGF0ZUV4Y2VwdGlvbihfbG9jLmdldCgiYmFkLXNlcS10\neXBlIiwKICAgICAgICAgICAgICAgIGdldENsYXNzKCksIG1hcHBpbmcpKTsK\nCiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3QgPSBfY29uZi5nZXREQkRpY3Rp\nb25hcnlJbnN0YW5jZSgpOwogICAgICAgIFN0cmluZyB0YWJsZU5hbWUgPSBy\nZXNvbHZlVGFibGVOYW1lKG1hcHBpbmcsIF9wa0NvbHVtbi5nZXRUYWJsZSgp\nKTsKICAgICAgICBTUUxCdWZmZXIgaW5zZXJ0ID0gbmV3IFNRTEJ1ZmZlcihk\naWN0KS5hcHBlbmQoIklOU0VSVCBJTlRPICIpLgogICAgICAgICAgICBhcHBl\nbmQodGFibGVOYW1lKS5hcHBlbmQoIiAoIikuCiAgICAgICAgICAgIGFwcGVu\nZChfcGtDb2x1bW4pLmFwcGVuZCgiLCAiKS5hcHBlbmQoX3NlcUNvbHVtbiku\nCiAgICAgICAgICAgIGFwcGVuZCgiKSBWQUxVRVMgKCIpLgogICAgICAgICAg\nICBhcHBlbmRWYWx1ZShwaywgX3BrQ29sdW1uKS5hcHBlbmQoIiwgIikuCiAg\nICAgICAgICAgIGFwcGVuZFZhbHVlKF9pbnRWYWx1ZSwgX3NlcUNvbHVtbiku\nYXBwZW5kKCIpIik7CiAgICAgICAgCiAgICAgICAgYm9vbGVhbiB3YXNBdXRv\nID0gY29ubi5nZXRBdXRvQ29tbWl0KCk7CiAgICAgICAgaWYgKCF3YXNBdXRv\nICYmICFzdXNwZW5kSW5KVEEoKSkKICAgICAgICAgICAgY29ubi5zZXRBdXRv\nQ29tbWl0KHRydWUpOwoKICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBzdG1u\ndCA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgc3RtbnQgPSBp\nbnNlcnQucHJlcGFyZVN0YXRlbWVudChjb25uKTsKICAgICAgICAgICAgc3Rt\nbnQuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAg\nICAgICAgIGlmIChzdG1udCAhPSBudWxsKQogICAgICAgICAgICAgICAgdHJ5\nIHsgc3RtbnQuY2xvc2UoKTsgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlKSB7\nfQogICAgICAgICAgICBpZiAoIXdhc0F1dG8gJiYgIXN1c3BlbmRJbkpUQSgp\nKQogICAgICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTsK\nICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGN1\ncnJlbnQgc2VxdWVuY2UgdmFsdWUsIG9yIC0xIGlmIHVuYXR0YWluYWJsZS4K\nICAgICAqLwogICAgcHJvdGVjdGVkIGxvbmcgZ2V0U2VxdWVuY2UoQ2xhc3NN\nYXBwaW5nIG1hcHBpbmcsIENvbm5lY3Rpb24gY29ubikKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBpZiAoX2xvZy5pc1RyYWNlRW5h\nYmxlZCgpKQogICAgICAgICAgICBfbG9nLnRyYWNlKF9sb2MuZ2V0KCJnZXQt\nc2VxIikpOwoKICAgICAgICBPYmplY3QgcGsgPSBnZXRQcmltYXJ5S2V5KG1h\ncHBpbmcpOwogICAgICAgIGlmIChwayA9PSBudWxsKQogICAgICAgICAgICBy\nZXR1cm4gLTE7CgogICAgICAgIERCRGljdGlvbmFyeSBkaWN0ID0gX2NvbmYu\nZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsKICAgICAgICBTUUxCdWZmZXIg\nc2VsID0gbmV3IFNRTEJ1ZmZlcihkaWN0KS5hcHBlbmQoX3NlcUNvbHVtbik7\nCiAgICAgICAgU1FMQnVmZmVyIHdoZXJlID0gbmV3IFNRTEJ1ZmZlcihkaWN0\nKS5hcHBlbmQoX3BrQ29sdW1uKS5hcHBlbmQoIiA9ICIpLgogICAgICAgICAg\nICBhcHBlbmRWYWx1ZShwaywgX3BrQ29sdW1uKTsKICAgICAgICBTdHJpbmcg\ndGFibGVOYW1lID0gcmVzb2x2ZVRhYmxlTmFtZShtYXBwaW5nLCBfc2VxQ29s\ndW1uLmdldFRhYmxlKCkpOwogICAgICAgIFNRTEJ1ZmZlciB0YWJsZXMgPSBu\nZXcgU1FMQnVmZmVyKGRpY3QpLmFwcGVuZCh0YWJsZU5hbWUpOwoKICAgICAg\nICBTUUxCdWZmZXIgc2VsZWN0ID0gZGljdC50b1NlbGVjdChzZWwsIG51bGws\nIHRhYmxlcywgd2hlcmUsIG51bGwsIG51bGwsCiAgICAgICAgICAgICAgICBu\ndWxsLCBmYWxzZSwgZGljdC5zdXBwb3J0c1NlbGVjdEZvclVwZGF0ZSwgMCwg\nTG9uZy5NQVhfVkFMVUUsCiAgICAgICAgICAgICAgICBmYWxzZSwgdHJ1ZSk7\nCgogICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHN0bW50ID0gc2VsZWN0LnBy\nZXBhcmVTdGF0ZW1lbnQoY29ubik7CiAgICAgICAgUmVzdWx0U2V0IHJzID0g\nbnVsbDsKICAgICAgICB0cnkgewogICAgICAgICAgICBycyA9IHN0bW50LmV4\nZWN1dGVRdWVyeSgpOwogICAgICAgICAgICBpZiAoIXJzLm5leHQoKSkKICAg\nICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgcmV0dXJuIGRp\nY3QuZ2V0TG9uZyhycywgMSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAg\nICAgICAgaWYgKHJzICE9IG51bGwpCiAgICAgICAgICAgICAgICB0cnkgeyBy\ncy5jbG9zZSgpOyB9IGNhdGNoIChTUUxFeGNlcHRpb24gc2UpIHt9CiAgICAg\nICAgICAgIHRyeSB7IHN0bW50LmNsb3NlKCk7IH0gY2F0Y2ggKFNRTEV4Y2Vw\ndGlvbiBzZSkge30KICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBH\ncmFicyB0aGUgbmV4dCBoYW5kZnVsIG9mIHNlcXVlbmNlIG51bWJlcnMuCiAg\nICAgKgogICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBzZXF1ZW5jZSB3YXMg\ndXBkYXRlZCwgZmFsc2UgaWYgbm8gc2VxdWVuY2UKICAgICAqIHJvdyBleGlz\ndGVkIGZvciB0aGlzIG1hcHBpbmcKICAgICAqLwogICAgcHJvdGVjdGVkIGJv\nb2xlYW4gc2V0U2VxdWVuY2UoQ2xhc3NNYXBwaW5nIG1hcHBpbmcsIFN0YXR1\ncyBzdGF0LCBpbnQgaW5jLAogICAgICAgIGJvb2xlYW4gdXBkYXRlU3RhdFNl\ncSwgQ29ubmVjdGlvbiBjb25uKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIGlmIChfbG9nLmlzVHJhY2VFbmFibGVkKCkpCiAgICAg\nICAgICAgIF9sb2cudHJhY2UoX2xvYy5nZXQoInVwZGF0ZS1zZXEiKSk7Cgog\nICAgICAgIE9iamVjdCBwayA9IGdldFByaW1hcnlLZXkobWFwcGluZyk7CiAg\nICAgICAgaWYgKHBrID09IG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBJ\nbnZhbGlkU3RhdGVFeGNlcHRpb24oX2xvYy5nZXQoImJhZC1zZXEtdHlwZSIs\nCiAgICAgICAgICAgICAgICBnZXRDbGFzcygpLCBtYXBwaW5nKSk7CgogICAg\nICAgIERCRGljdGlvbmFyeSBkaWN0ID0gX2NvbmYuZ2V0REJEaWN0aW9uYXJ5\nSW5zdGFuY2UoKTsgICAgICAgIAogICAgICAgIFNRTEJ1ZmZlciB3aGVyZSA9\nIG5ldyBTUUxCdWZmZXIoZGljdCkuYXBwZW5kKF9wa0NvbHVtbikuYXBwZW5k\nKCIgPSAiKS4KICAgICAgICAgICAgYXBwZW5kVmFsdWUocGssIF9wa0NvbHVt\nbik7CgogICAgICAgIC8vIGxvb3AgdW50aWwgd2UgaGF2ZSBhIHN1Y2Nlc3Nm\ndWwgYXRvbWljIHNlbGVjdC91cGRhdGUgc2VxdWVuY2UKICAgICAgICBsb25n\nIGN1ciA9IDA7CiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RtbnQ7CiAg\nICAgICAgUmVzdWx0U2V0IHJzOwogICAgICAgIFNRTEJ1ZmZlciB1cGQ7CiAg\nICAgICAgZm9yIChpbnQgdXBkYXRlcyA9IDA7IHVwZGF0ZXMgPT0gMDspIHsK\nICAgICAgICAgICAgc3RtbnQgPSBudWxsOwogICAgICAgICAgICBycyA9IG51\nbGw7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjdXIgPSBn\nZXRTZXF1ZW5jZShtYXBwaW5nLCBjb25uKTsKICAgICAgICAgICAgICAgIGlm\nIChjdXIgPT0gLTEpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNl\nOwoKICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgdmFsdWUKICAgICAg\nICAgICAgICAgIHVwZCA9IG5ldyBTUUxCdWZmZXIoZGljdCk7CiAgICAgICAg\nICAgICAgICBTdHJpbmcgdGFibGVOYW1lID0gcmVzb2x2ZVRhYmxlTmFtZSht\nYXBwaW5nLCBfc2VxQ29sdW1uLmdldFRhYmxlKCkpOwogICAgICAgICAgICAg\nICAgdXBkLmFwcGVuZCgiVVBEQVRFICIpLmFwcGVuZCh0YWJsZU5hbWUpLgog\nICAgICAgICAgICAgICAgICAgIGFwcGVuZCgiIFNFVCAiKS5hcHBlbmQoX3Nl\ncUNvbHVtbikuYXBwZW5kKCIgPSAiKS4KICAgICAgICAgICAgICAgICAgICBh\ncHBlbmRWYWx1ZShOdW1iZXJzLnZhbHVlT2YoY3VyICsgaW5jKSwgX3NlcUNv\nbHVtbikuCiAgICAgICAgICAgICAgICAgICAgYXBwZW5kKCIgV0hFUkUgIiku\nYXBwZW5kKHdoZXJlKS5hcHBlbmQoIiBBTkQgIikuCiAgICAgICAgICAgICAg\nICAgICAgYXBwZW5kKF9zZXFDb2x1bW4pLmFwcGVuZCgiID0gIikuCiAgICAg\nICAgICAgICAgICAgICAgYXBwZW5kVmFsdWUoTnVtYmVycy52YWx1ZU9mKGN1\nciksIF9zZXFDb2x1bW4pOwoKICAgICAgICAgICAgICAgIHN0bW50ID0gdXBk\nLnByZXBhcmVTdGF0ZW1lbnQoY29ubik7CiAgICAgICAgICAgICAgICB1cGRh\ndGVzID0gc3RtbnQuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgICAgICB9IGZp\nbmFsbHkgewogICAgICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIAogICAg\nICAgICAgICAgICAgICAgIHRyeSB7IHJzLmNsb3NlKCk7IH0gY2F0Y2ggKFNR\nTEV4Y2VwdGlvbiBzZSkge30KICAgICAgICAgICAgICAgIGlmIChzdG1udCAh\nPSBudWxsKQogICAgICAgICAgICAgICAgICAgIHRyeSB7IHN0bW50LmNsb3Nl\nKCk7IH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBzZSkge30KICAgICAgICAgICAg\nfQogICAgICAgIH0KCiAgICAgICAgLy8gc2V0dXAgbmV3IHNlcXVlbmNlIHJh\nbmdlICAgICAgICAKICAgICAgICBzeW5jaHJvbml6ZWQgKHN0YXQpIHsKICAg\nICAgICAgICAgaWYgKHVwZGF0ZVN0YXRTZXEgJiYgc3RhdC5zZXEgPCBjdXIp\nCiAgICAgICAgICAgICAgICBzdGF0LnNlcSA9IGN1cjsKICAgICAgICAgICAg\naWYgKHN0YXQubWF4IDwgY3VyICsgaW5jKQogICAgICAgICAgICAgICAgc3Rh\ndC5tYXggPSBjdXIgKyBpbmM7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0\ncnVlOwogICAgfQogICAgLyoqCiAgICAgKiBSZXNvbHZlIGEgZnVsbHkgcXVh\nbGlmaWVkIHRhYmxlIG5hbWUKICAgICAqIAogICAgICogQHBhcmFtIGNsYXNz\nCiAgICAgKiAgICAgICAgICAgIG1hcHBpbmcgdG8gZ2V0IHRoZSBzY2hlbWEg\nbmFtZQogICAgICovCiAgICBwdWJsaWMgU3RyaW5nIHJlc29sdmVUYWJsZU5h\nbWUoQ2xhc3NNYXBwaW5nIG1hcHBpbmcsIFRhYmxlIHRhYmxlKSB7CiAgICAg\nICAgU3RyaW5nIHNOYW1lID0gbWFwcGluZy5nZXRUYWJsZSgpLmdldFNjaGVt\nYU5hbWUoKTsKICAgICAgICBTdHJpbmcgdGFibGVOYW1lOwogICAgICAgIGlm\nIChzTmFtZSA9PSBudWxsKQogICAgICAgICAgICB0YWJsZU5hbWUgPSB0YWJs\nZS5nZXRGdWxsTmFtZSgpOwogICAgICAgIGVsc2UgaWYgKHRhYmxlLmdldFNj\naGVtYU5hbWUoKSAhPSBudWxsKQogICAgICAgICAgICB0YWJsZU5hbWUgPSB0\nYWJsZS5nZXRGdWxsTmFtZSgpOwogICAgICAgIGVsc2UKICAgICAgICAgICAg\ndGFibGVOYW1lID0gc05hbWUgKyAiLiIgKyB0YWJsZS5nZXROYW1lKCk7CiAg\nICAgICAgcmV0dXJuIHRhYmxlTmFtZTsKICAgIH0KCiAgICAvKioKICAgICAq\nIENyZWF0ZXMgdGhlIHNlcXVlbmNlIHRhYmxlIGluIHRoZSBEQi4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgcmVmcmVzaFRhYmxlKCkKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBpZiAoX2xvZy5pc0luZm9FbmFi\nbGVkKCkpCiAgICAgICAgICAgIF9sb2cuaW5mbyhfbG9jLmdldCgibWFrZS1z\nZXEtdGFibGUiKSk7CgogICAgICAgIC8vIGNyZWF0ZSB0aGUgdGFibGUKICAg\nICAgICBTY2hlbWFUb29sIHRvb2wgPSBuZXcgU2NoZW1hVG9vbChfY29uZik7\nCiAgICAgICAgdG9vbC5zZXRJZ25vcmVFcnJvcnModHJ1ZSk7CiAgICAgICAg\ndG9vbC5jcmVhdGVUYWJsZShfcGtDb2x1bW4uZ2V0VGFibGUoKSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBEcm9wcyB0aGUgc2VxdWVuY2UgdGFibGUgaW4g\ndGhlIERCLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBkcm9wVGFibGUoKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGlmIChfbG9n\nLmlzSW5mb0VuYWJsZWQoKSkKICAgICAgICAgICAgX2xvZy5pbmZvKF9sb2Mu\nZ2V0KCJkcm9wLXNlcS10YWJsZSIpKTsKCiAgICAgICAgLy8gZHJvcCB0aGUg\ndGFibGUKICAgICAgICBTY2hlbWFUb29sIHRvb2wgPSBuZXcgU2NoZW1hVG9v\nbChfY29uZik7CiAgICAgICAgdG9vbC5zZXRJZ25vcmVFcnJvcnModHJ1ZSk7\nCiAgICAgICAgdG9vbC5kcm9wVGFibGUoX3BrQ29sdW1uLmdldFRhYmxlKCkp\nOwogICAgfQoKICAgIC8vLy8vLy8vLwogICAgLy8gTWFpbgogICAgLy8vLy8v\nLy8vCgogICAgLyoqCiAgICAgKiBVc2FnZTogamF2YSBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5zY2hlbWEuVGFibGVKREJDU2VxdWVuY2UgW29wdGlvbl0q\nCiAgICAgKiAtYWN0aW9uLy1hICZsdDthZGQgfCBkcm9wIHwgZ2V0IHwgc2V0\nJmd0OyBbdmFsdWVdCiAgICAgKiAgV2hlcmUgdGhlIGZvbGxvd2luZyBvcHRp\nb25zIGFyZSByZWNvZ25pemVkLgogICAgICogPHVsPgogICAgICogPGxpPjxp\nPi1wcm9wZXJ0aWVzLy1wICZsdDtwcm9wZXJ0aWVzIGZpbGUgb3IgcmVzb3Vy\nY2UmZ3Q7PC9pPjogVGhlCiAgICAgKiBwYXRoIG9yIHJlc291cmNlIG5hbWUg\nb2YgYSBPcGVuSlBBIHByb3BlcnRpZXMgZmlsZSBjb250YWluaW5nCiAgICAg\nKiBpbmZvcm1hdGlvbiBzdWNoIGFzIHRoZSBsaWNlbnNlIGtleQlhbmQgY29u\nbmVjdGlvbiBkYXRhIGFzCiAgICAgKiBvdXRsaW5lZCBpbiB7QGxpbmsgSkRC\nQ0NvbmZpZ3VyYXRpb259LiBPcHRpb25hbC48L2xpPgogICAgICogPGxpPjxp\nPi0mbHQ7cHJvcGVydHkgbmFtZSZndDsgJmx0O3Byb3BlcnR5IHZhbHVlJmd0\nOzwvaT46IEFsbCBiZWFuCiAgICAgKiBwcm9wZXJ0aWVzIG9mIHRoZSBPcGVu\nSlBBIHtAbGluayBKREJDQ29uZmlndXJhdGlvbn0gY2FuIGJlIHNldCBieQog\nICAgICogdXNpbmcgdGhlaXIJbmFtZXMgYW5kIHN1cHBseWluZyBhIHZhbHVl\nLiBGb3IgZXhhbXBsZToKICAgICAqIDxjb2RlPi1saWNlbnNlS2V5IGFkc2xm\namE4M3IzbGthZGY8L2NvZGU+PC9saT4KICAgICAqIDwvdWw+CiAgICAgKiAg\nVGhlIHZhcmlvdXMgYWN0aW9ucyBhcmUgYXMgZm9sbG93cy4KICAgICAqIDx1\nbD4KICAgICAqIDxsaT48aT5hZGQ8L2k+OiBDcmVhdGUgdGhlIHNlcXVlbmNl\nIHRhYmxlLjwvbGk+CiAgICAgKiA8bGk+PGk+ZHJvcDwvaT46IERyb3AgdGhl\nIHNlcXVlbmNlIHRhYmxlLjwvbGk+CiAgICAgKiA8bGk+PGk+Z2V0PC9pPjog\nUHJpbnQgdGhlIGN1cnJlbnQgc2VxdWVuY2UgdmFsdWUuPC9saT4KICAgICAq\nIDxsaT48aT5zZXQ8L2k+OiBTZXQgdGhlIHNlcXVlbmNlIHZhbHVlLjwvbGk+\nCiAgICAgKiA8L3VsPgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQg\nbWFpbihTdHJpbmdbXSBhcmdzKQogICAgICAgIHRocm93cyBFeGNlcHRpb24g\newogICAgICAgIE9wdGlvbnMgb3B0cyA9IG5ldyBPcHRpb25zKCk7CiAgICAg\nICAgYXJncyA9IG9wdHMuc2V0RnJvbUNtZExpbmUoYXJncyk7CiAgICAgICAg\nSkRCQ0NvbmZpZ3VyYXRpb24gY29uZiA9IG5ldyBKREJDQ29uZmlndXJhdGlv\nbkltcGwoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoIXJ1bihj\nb25mLCBhcmdzLCBvcHRzKSkKICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQu\ncHJpbnRsbihfbG9jLmdldCgic2VxLXVzYWdlIikpOwogICAgICAgIH0gZmlu\nYWxseSB7CiAgICAgICAgICAgIGNvbmYuY2xvc2UoKTsKICAgICAgICB9CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSdW4gdGhlIHRvb2wuIFJldHVybnMgZmFs\nc2UgaWYgaW52YWxpZCBvcHRpb25zIHdlcmUgZ2l2ZW4uCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBydW4oSkRCQ0NvbmZpZ3VyYXRpb24g\nY29uZiwgU3RyaW5nW10gYXJncywKICAgICAgICBPcHRpb25zIG9wdHMpCiAg\nICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKG9wdHMuY29u\ndGFpbnNLZXkoImhlbHAiKSB8fCBvcHRzLmNvbnRhaW5zS2V5KCItaGVscCIp\nKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICAgIFN0cmluZyBh\nY3Rpb24gPSBvcHRzLnJlbW92ZVByb3BlcnR5KCJhY3Rpb24iLCAiYSIsIG51\nbGwpOwogICAgICAgIENvbmZpZ3VyYXRpb25zLnBvcHVsYXRlQ29uZmlndXJh\ndGlvbihjb25mLCBvcHRzKTsKICAgICAgICByZXR1cm4gcnVuKGNvbmYsIGFy\nZ3MsIGFjdGlvbik7CiAgICB9CgogICAgLyoqCiAgICAgKiBSdW4gdGhlIHRv\nb2wuIFJldHVybiBmYWxzZSBpZiBhbiBpbnZhbGlkIG9wdGlvbiB3YXMgZ2l2\nZW4uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBydW4oSkRC\nQ0NvbmZpZ3VyYXRpb24gY29uZiwgU3RyaW5nW10gYXJncywKICAgICAgICBT\ndHJpbmcgYWN0aW9uKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAg\nICAgIGlmIChhcmdzLmxlbmd0aCA+IDEgfHwgKGFyZ3MubGVuZ3RoICE9IDAK\nICAgICAgICAgICAgJiYgIUFDVElPTl9TRVQuZXF1YWxzKGFjdGlvbikpKQog\nICAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICAgIFRhYmxlSkRCQ1Nl\ncSBzZXEgPSBuZXcgVGFibGVKREJDU2VxKCk7CiAgICAgICAgU3RyaW5nIHBy\nb3BzID0gQ29uZmlndXJhdGlvbnMuZ2V0UHJvcGVydGllcyhjb25mLmdldFNl\ncXVlbmNlKCkpOwogICAgICAgIENvbmZpZ3VyYXRpb25zLmNvbmZpZ3VyZUlu\nc3RhbmNlKHNlcSwgY29uZiwgcHJvcHMpOwoKICAgICAgICBpZiAoQUNUSU9O\nX0RST1AuZXF1YWxzKGFjdGlvbikpCiAgICAgICAgICAgIHNlcS5kcm9wVGFi\nbGUoKTsKICAgICAgICBlbHNlIGlmIChBQ1RJT05fQURELmVxdWFscyhhY3Rp\nb24pKQogICAgICAgICAgICBzZXEucmVmcmVzaFRhYmxlKCk7CiAgICAgICAg\nZWxzZSBpZiAoQUNUSU9OX0dFVC5lcXVhbHMoYWN0aW9uKSB8fCBBQ1RJT05f\nU0VULmVxdWFscyhhY3Rpb24pKSB7CiAgICAgICAgICAgIENvbm5lY3Rpb24g\nY29ubiA9IGNvbmYuZ2V0RGF0YVNvdXJjZTIobnVsbCkuZ2V0Q29ubmVjdGlv\nbigpOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbG9uZyBj\ndXIgPSBzZXEuZ2V0U2VxdWVuY2UobnVsbCwgY29ubik7CiAgICAgICAgICAg\nICAgICBpZiAoQUNUSU9OX0dFVC5lcXVhbHMoYWN0aW9uKSkKICAgICAgICAg\nICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oY3VyKTsKICAgICAgICAg\nICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxvbmcgc2V0Owog\nICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDApCiAgICAg\nICAgICAgICAgICAgICAgICAgIHNldCA9IExvbmcucGFyc2VMb25nKGFyZ3Nb\nMF0pOwogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAg\nICAgICAgICAgc2V0ID0gY3VyICsgc2VxLmdldEFsbG9jYXRlKCk7CiAgICAg\nICAgICAgICAgICAgICAgaWYgKHNldCA8IGN1cikKICAgICAgICAgICAgICAg\nICAgICAgICAgc2V0ID0gY3VyOwogICAgICAgICAgICAgICAgICAgIGVsc2Ug\newogICAgICAgICAgICAgICAgICAgICAgICBTdGF0dXMgc3RhdCA9IHNlcS5n\nZXRTdGF0dXMobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlcS5z\nZXRTZXF1ZW5jZShudWxsLCBzdGF0LCAoaW50KSAoc2V0IC0gY3VyKSwgdHJ1\nZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4pOwogICAgICAg\nICAgICAgICAgICAgICAgICBzZXQgPSBzdGF0LnNlcTsKICAgICAgICAgICAg\nICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmlu\ndGxuKHNldCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAg\nICAgICAgICAgY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2VwdGlvbiBuZmUpIHsK\nICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBm\naW5hbGx5IHsKICAgICAgICAgICAgICAgIHRyeSB7IGNvbm4uY2xvc2UoKTsg\nfSBjYXRjaCAoU1FMRXhjZXB0aW9uIHNlKSB7fQogICAgICAgICAgICB9CiAg\nICAgICAgfSBlbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAg\nICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEhlbHBlciBz\ndHJ1Y3QgdG8gaG9sZCBzdGF0dXMgaW5mb3JtYXRpb24uCiAgICAgKi8KICAg\nIHByb3RlY3RlZCBzdGF0aWMgY2xhc3MgU3RhdHVzCiAgICAgICAgaW1wbGVt\nZW50cyBTZXJpYWxpemFibGUgewoKICAgICAgICBwdWJsaWMgbG9uZyBzZXEg\nPSAxTDsKICAgICAgICBwdWJsaWMgbG9uZyBtYXggPSAwTDsKICAgIH0KfQo=\n","encoding":"base64"}

