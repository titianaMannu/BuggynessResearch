{"sha":"29e8be589bdebe8545b206bdf7ea62d6df364597","node_id":"MDQ6QmxvYjIwNjM2NDoyOWU4YmU1ODliZGViZTg1NDViMjA2YmRmN2VhNjJkNmRmMzY0NTk3","size":28857,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/29e8be589bdebe8545b206bdf7ea62d6df364597","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLk9iamVjdE91dHB1\ndDsKaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwppbXBvcnQgamF2YS51\ndGlsLkJpdFNldDsKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBv\ncnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nZW5oYW5jZS5QZXJzaXN0ZW5jZUNhcGFibGU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuZW5oYW5jZS5TdGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi51dGlsLmNvbmN1cnJlbnQuUmVlbnRyYW50TG9j\nazsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0YURh\ndGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFE\nYXRhOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVz\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuVmFsdWVNZXRhRGF0\nYTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkV4Y2VwdGlvbnM7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Qcm94eTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlVuc3VwcG9ydGVkRXhjZXB0aW9u\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuSW1wbEhlbHBlcjsK\nCi8qKgogKiBJbnRlcm5hbCBzdGF0ZSBtYW5hZ2VyIGZvciBkZXRhY2hlZCBp\nbnN0YW5jZXMuIERvZXMgbm90IGZ1bGx5CiAqIGltcGxlbWVudCB7QGxpbmsg\nT3BlbkpQQVN0YXRlTWFuYWdlcn0gY29udHJhY3QgdG8gYWxsb3cgZm9yIHNl\ncmlhbGl6YXRpb24uCiAqCiAqIEBhdXRob3IgU3RldmUgS2ltCiAqIEBub2ph\ndmFkb2MKICovCnB1YmxpYyBjbGFzcyBEZXRhY2hlZFN0YXRlTWFuYWdlcgog\nICAgZXh0ZW5kcyBBdHRhY2hTdHJhdGVneQogICAgaW1wbGVtZW50cyBPcGVu\nSlBBU3RhdGVNYW5hZ2VyLCBTZXJpYWxpemFibGUgewogIAogICAgcHJpdmF0\nZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gNDExMjIy\nMzY2NTU4NDczMTEwMEw7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9j\nYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgIChE\nZXRhY2hlZFN0YXRlTWFuYWdlci5jbGFzcyk7CgogICAgcHJpdmF0ZSBmaW5h\nbCBQZXJzaXN0ZW5jZUNhcGFibGUgX3BjOwogICAgcHJpdmF0ZSBmaW5hbCBi\nb29sZWFuIF9lbWJlZGRlZDsKICAgIHByaXZhdGUgZmluYWwgYm9vbGVhbiBf\nYWNjZXNzOwogICAgcHJpdmF0ZSBmaW5hbCBCaXRTZXQgX2xvYWRlZDsKICAg\nIHByaXZhdGUgZmluYWwgQml0U2V0IF9kaXJ0eTsKICAgIHByaXZhdGUgZmlu\nYWwgT2JqZWN0IF9vaWQ7CiAgICBwcml2YXRlIGZpbmFsIE9iamVjdCBfdmVy\nc2lvbjsKICAgIHByaXZhdGUgZmluYWwgUmVlbnRyYW50TG9jayBfbG9jazsK\nCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLgogICAgICoKICAgICAqIEBw\nYXJhbSBwYyB0aGUgbWFuYWdlZCBpbnN0YW5jZQogICAgICogQHBhcmFtIHNt\nIHRoZSBpbnN0YW5jZSdzIHN0YXRlIG1hbmFnZXIKICAgICAqIEBwYXJhbSBs\nb2FkIHRoZSBzZXQgb2YgZGV0YWNoZWQgZmllbGQgaW5kZXhlcwogICAgICog\nQHBhcmFtIGFjY2VzcyB3aGV0aGVyIHRvIGFsbG93IGFjY2VzcyB0byB1bmxv\nYWRlZCBmaWVsZHMKICAgICAqIEBwYXJhbSBtdWx0aXRocmVhZGVkIHdoZXRo\nZXIgdGhlIGluc3RhbmNlIHdpbGwgYmUgdXNlZCBjb25jdXJyZW50bHkKICAg\nICAqIGJ5IG11bHRpcGxlIHRocmVhZHMKICAgICAqLwogICAgcHVibGljIERl\ndGFjaGVkU3RhdGVNYW5hZ2VyKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgT3Bl\nbkpQQVN0YXRlTWFuYWdlciBzbSwKICAgICAgICBCaXRTZXQgbG9hZCwgYm9v\nbGVhbiBhY2Nlc3MsIGJvb2xlYW4gbXVsdGl0aHJlYWRlZCkgewogICAgICAg\nIF9wYyA9IHBjOwogICAgICAgIF9lbWJlZGRlZCA9IHNtLmlzRW1iZWRkZWQo\nKTsKICAgICAgICBfbG9hZGVkID0gbG9hZDsKICAgICAgICBfYWNjZXNzID0g\nYWNjZXNzOwogICAgICAgIF9kaXJ0eSA9IG5ldyBCaXRTZXQoX2xvYWRlZC5s\nZW5ndGgoKSk7CiAgICAgICAgX29pZCA9IHNtLmZldGNoT2JqZWN0SWQoKTsK\nICAgICAgICBfdmVyc2lvbiA9IHNtLmdldFZlcnNpb24oKTsKICAgICAgICBp\nZiAobXVsdGl0aHJlYWRlZCkKICAgICAgICAgICAgX2xvY2sgPSBuZXcgUmVl\nbnRyYW50TG9jaygpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgX2xvY2sg\nPSBudWxsOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLwogICAgLy8gQXR0YWNoU3RyYXRlZ3kgaW1wbGVtZW50YXRpb24K\nICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIHB1\nYmxpYyBPYmplY3QgYXR0YWNoKEF0dGFjaE1hbmFnZXIgbWFuYWdlciwgT2Jq\nZWN0IHRvQXR0YWNoLAogICAgICAgIENsYXNzTWV0YURhdGEgbWV0YSwgUGVy\nc2lzdGVuY2VDYXBhYmxlIGludG8sIE9wZW5KUEFTdGF0ZU1hbmFnZXIgb3du\nZXIsCiAgICAgICAgVmFsdWVNZXRhRGF0YSBvd25lck1ldGEsIGJvb2xlYW4g\nZXhwbGljaXQpIHsKICAgICAgICBCcm9rZXJJbXBsIGJyb2tlciA9IG1hbmFn\nZXIuZ2V0QnJva2VyKCk7CiAgICAgICAgU3RhdGVNYW5hZ2VySW1wbCBzbTsK\nICAgICAgICBpZiAoX2VtYmVkZGVkKSB7CiAgICAgICAgICAgIGlmIChfZGly\ndHkubGVuZ3RoICgpID4gMCkKICAgICAgICAgICAgICAgIG93bmVyLmRpcnR5\nKG93bmVyTWV0YS5nZXRGaWVsZE1ldGFEYXRhKCkuZ2V0SW5kZXgoKSk7CiAg\nICAgICAgICAgIHNtID0gKFN0YXRlTWFuYWdlckltcGwpIGJyb2tlci5lbWJl\nZChfcGMsIF9vaWQsIG93bmVyLCBvd25lck1ldGEpOwogICAgICAgICAgICBJ\nbXBsSGVscGVyLnRvUGVyc2lzdGVuY2VDYXBhYmxlKHRvQXR0YWNoLCBicm9r\nZXIuZ2V0Q29uZmlndXJhdGlvbigpKQogICAgICAgICAgICAgICAgLnBjUmVw\nbGFjZVN0YXRlTWFuYWdlcih0aGlzKTsKICAgICAgICB9IGVsc2UgewogICAg\nICAgICAgICBQQ1N0YXRlIHN0YXRlID0gKF9kaXJ0eS5sZW5ndGgoKSA+IDAp\nID8gUENTdGF0ZS5QRElSVFkKICAgICAgICAgICAgICAgIDogUENTdGF0ZS5Q\nQ0xFQU47CiAgICAgICAgICAgIHNtID0gKFN0YXRlTWFuYWdlckltcGwpIGJy\nb2tlci5jb3B5KHRoaXMsIHN0YXRlKTsKICAgICAgICB9CiAgICAgICAgUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjID0gc20uZ2V0UGVyc2lzdGVuY2VDYXBhYmxl\nKCk7CiAgICAgICAgbWFuYWdlci5zZXRBdHRhY2hlZENvcHkodG9BdHRhY2gs\nIHBjKTsKCiAgICAgICAgbWFuYWdlci5maXJlQmVmb3JlQXR0YWNoKHRvQXR0\nYWNoLCBtZXRhKTsKCiAgICAgICAgLy8gcHJlLWxvYWQgZm9yIGVmZmljaWVu\nY3k6IGN1cnJlbnQgZmllbGQgdmFsdWVzIGZvciByZXN0b3JlLCBkZXBlbmRl\nbnQKICAgICAgICAvLyBmb3IgZGVsZXRlCiAgICAgICAgRmllbGRNZXRhRGF0\nYVtdIGZpZWxkcyA9IG1ldGEuZ2V0RmllbGRzKCk7CiAgICAgICAgaW50IHJl\nc3RvcmUgPSBicm9rZXIuZ2V0UmVzdG9yZVN0YXRlKCk7CiAgICAgICAgaWYg\nKF9kaXJ0eS5sZW5ndGgoKSA+IDApIHsKICAgICAgICAgICAgQml0U2V0IGxv\nYWQgPSBuZXcgQml0U2V0KGZpZWxkcy5sZW5ndGgpOwogICAgICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykgewogICAg\nICAgICAgICAgICAgaWYgKCFfZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAg\nICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgICAgIHN3aXRjaCAoZmll\nbGRzW2ldLmdldERlY2xhcmVkVHlwZUNvZGUoKSkgewogICAgICAgICAgICAg\nICAgICAgIGNhc2UgSmF2YVR5cGVzLkFSUkFZOgogICAgICAgICAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLkNPTExFQ1RJT046CiAgICAgICAgICAgICAg\nICAgICAgICAgIGlmIChyZXN0b3JlID09IFJlc3RvcmVTdGF0ZS5SRVNUT1JF\nX0FMTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZmllbGRzW2ld\nLmdldEVsZW1lbnQoKS5nZXRDYXNjYWRlRGVsZXRlKCkKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgID09IFZhbHVlTWV0YURhdGEuQ0FTQ0FERV9BVVRP\nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZC5zZXQoaSk7CiAg\nICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLk1BUDoKICAgICAgICAgICAgICAgICAgICAg\nICAgaWYgKHJlc3RvcmUgPT0gUmVzdG9yZVN0YXRlLlJFU1RPUkVfQUxMCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBmaWVsZHNbaV0uZ2V0RWxl\nbWVudCgpLmdldENhc2NhZGVEZWxldGUoKQogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgPT0gVmFsdWVNZXRhRGF0YS5DQVNDQURFX0FVVE8KICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIHx8IGZpZWxkc1tpXS5nZXRLZXkoKS5n\nZXRDYXNjYWRlRGVsZXRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nID09IFZhbHVlTWV0YURhdGEuQ0FTQ0FERV9BVVRPKQogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgbG9hZC5zZXQoaSk7CiAgICAgICAgICAgICAgICAg\nICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAg\nICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN0b3JlICE9IFJlc3RvcmVT\ndGF0ZS5SRVNUT1JFX05PTkUKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIHx8IGZpZWxkc1tpXS5nZXRDYXNjYWRlRGVsZXRlKCkKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgID09IFZhbHVlTWV0YURhdGEuQ0FTQ0FERV9BVVRP\nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZC5zZXQoaSk7CiAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRmV0\nY2hDb25maWd1cmF0aW9uIGZjID0gYnJva2VyLmdldEZldGNoQ29uZmlndXJh\ndGlvbigpOwogICAgICAgICAgICBzbS5sb2FkRmllbGRzKGxvYWQsIGZjLCBm\nYy5nZXRXcml0ZUxvY2tMZXZlbCgpLCBudWxsLCB0cnVlKTsKICAgICAgICB9\nICAgICAgICAKICAgICAgICBPYmplY3Qgb3JpZ1ZlcnNpb24gPSBzbS5nZXRW\nZXJzaW9uKCk7CiAgICAgICAgc20uc2V0VmVyc2lvbihfdmVyc2lvbik7Cgog\nICAgICAgIEJpdFNldCBsb2FkZWQgPSBzbS5nZXRMb2FkZWQoKTsKICAgICAg\nICBpbnQgc2V0ID0gU3RhdGVNYW5hZ2VyLlNFVF9BVFRBQ0g7CiAgICAgICAg\nZm9yIChpbnQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHsKICAg\nICAgICAgICAgaWYgKCFfbG9hZGVkLmdldChpKSkKICAgICAgICAgICAgICAg\nIGNvbnRpbnVlOwogICAgICAgICAgICAvLyBkb24ndCByZWxvYWQgYWxyZWFk\neSBsb2FkZWQgbm9uLW11dGFibGUgb2JqZWN0cwogICAgICAgICAgICBpZiAo\nIV9kaXJ0eS5nZXQoaSkgJiYgbG9hZGVkLmdldChpKSAmJiBpZ25vcmVMb2Fk\nZWQoZmllbGRzW2ldKSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAg\nICAgICAgICAgcHJvdmlkZUZpZWxkKGkpOwogICAgICAgICAgICBzd2l0Y2gg\nKGZpZWxkc1tpXS5nZXREZWNsYXJlZFR5cGVDb2RlKCkpIHsKICAgICAgICAg\nICAgICAgIGNhc2UgSmF2YVR5cGVzLkJPT0xFQU46CiAgICAgICAgICAgICAg\nICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAg\nICAgIHNtLnNldHRpbmdCb29sZWFuRmllbGQocGMsIGksCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAobG9hZGVkLmdldChpKSkgJiYgc20uZmV0Y2hC\nb29sZWFuRmllbGQoaSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBs\nb25ndmFsID09IDEsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQog\nICAgICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZUJvb2xlYW5GaWVsZChp\nLCBsb25ndmFsID09IDEpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwog\nICAgICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQllURToKICAgICAgICAg\nICAgICAgICAgICBpZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAgICAgICAg\nICAgICAgICAgc20uc2V0dGluZ0J5dGVGaWVsZChwYywgaSwgKCFsb2FkZWQu\nZ2V0KGkpKSA/IChieXRlKSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICA6IHNtLmZldGNoQnl0ZUZpZWxkKGkpLCAoYnl0ZSkgbG9uZ3ZhbCwgc2V0\nKTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAg\nICAgICAgIHNtLnN0b3JlQnl0ZUZpZWxkKGksIChieXRlKSBsb25ndmFsKTsK\nICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLkNIQVI6CiAgICAgICAgICAgICAgICAgICAgaWYgKF9k\naXJ0eS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRp\nbmdDaGFyRmllbGQocGMsIGksICghbG9hZGVkLmdldChpKSkgPyAoY2hhcikg\nMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaENoYXJG\naWVsZChpKSwgKGNoYXIpIGxvbmd2YWwsIHNldCk7CiAgICAgICAgICAgICAg\nICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZUNo\nYXJGaWVsZChpLCAoY2hhcikgbG9uZ3ZhbCk7CiAgICAgICAgICAgICAgICAg\nICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5JTlQ6\nCiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAg\nICAgICAgICAgICAgICAgICAgIHNtLnNldHRpbmdJbnRGaWVsZChwYywgaSwg\nKCFsb2FkZWQuZ2V0KGkpKSA/IDAKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIDogc20uZmV0Y2hJbnRGaWVsZChpKSwgKGludCkgbG9uZ3ZhbCwgc2V0\nKTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAg\nICAgICAgIHNtLnN0b3JlSW50RmllbGQoaSwgKGludCkgbG9uZ3ZhbCk7CiAg\nICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5MT05HOgogICAgICAgICAgICAgICAgICAgIGlmIChfZGly\ndHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zZXR0aW5n\nTG9uZ0ZpZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gMEwKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIDogc20uZmV0Y2hMb25nRmllbGQoaSks\nIGxvbmd2YWwsIHNldCk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAg\nICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZUxvbmdGaWVsZChpLCBsb25n\ndmFsKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLlNIT1JUOgogICAgICAgICAgICAgICAgICAg\nIGlmIChfZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgICAgICBz\nbS5zZXR0aW5nU2hvcnRGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0KGkpKSA/\nIChzaG9ydCkgMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzbS5m\nZXRjaFNob3J0RmllbGQoaSksIChzaG9ydCkgbG9uZ3ZhbCwgc2V0KTsKICAg\nICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAg\nIHNtLnN0b3JlU2hvcnRGaWVsZChpLCAoc2hvcnQpIGxvbmd2YWwpOwogICAg\nICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0\neS5nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRpbmdG\nbG9hdEZpZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gMEYKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIDogc20uZmV0Y2hGbG9hdEZpZWxkKGkp\nLCAoZmxvYXQpIGRibHZhbCwgc2V0KTsKICAgICAgICAgICAgICAgICAgICBl\nbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0b3JlRmxvYXRGaWVs\nZChpLCAoZmxvYXQpIGRibHZhbCk7CiAgICAgICAgICAgICAgICAgICAgYnJl\nYWs7CiAgICAgICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5ET1VCTEU6CiAg\nICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5nZXQoaSkpCiAgICAgICAg\nICAgICAgICAgICAgICAgIHNtLnNldHRpbmdEb3VibGVGaWVsZChwYywgaSwg\nKCFsb2FkZWQuZ2V0KGkpKSA/IDBECiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICA6IHNtLmZldGNoRG91YmxlRmllbGQoaSksIGRibHZhbCwgc2V0KTsK\nICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAg\nICAgIHNtLnN0b3JlRG91YmxlRmllbGQoaSwgZGJsdmFsKTsKICAgICAgICAg\nICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgSmF2YVR5\ncGVzLlNUUklORzoKICAgICAgICAgICAgICAgICAgICBpZiAoX2RpcnR5Lmdl\ndChpKSkKICAgICAgICAgICAgICAgICAgICAgICAgc20uc2V0dGluZ1N0cmlu\nZ0ZpZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gbnVsbAogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaFN0cmluZ0ZpZWxkKGkp\nLCAoU3RyaW5nKSBvYmp2YWwsIHNldCk7CiAgICAgICAgICAgICAgICAgICAg\nZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZVN0cmluZ0Zp\nZWxkKGksIChTdHJpbmcpIG9ianZhbCk7CiAgICAgICAgICAgICAgICAgICAg\nb2JqdmFsID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAg\nICAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlBDOgogICAgICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuUENfVU5UWVBFRDoKICAgICAgICAgICAgICAg\nICAgICBpZiAoZmllbGRzW2ldLmdldENhc2NhZGVBdHRhY2goKSA9PSBWYWx1\nZU1ldGFEYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIC5DQVNDQURFX05P\nTkUpCiAgICAgICAgICAgICAgICAgICAgICAgIG9ianZhbCA9IGdldFJlZmVy\nZW5jZShtYW5hZ2VyLCBvYmp2YWwsIHNtLCBmaWVsZHNbaV0pOwogICAgICAg\nICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBQ\nZXJzaXN0ZW5jZUNhcGFibGUgdG9QQyA9IG51bGw7CiAgICAgICAgICAgICAg\nICAgICAgICAgIGlmIChvYmp2YWwgIT0gbnVsbCAmJiBmaWVsZHNbaV0uaXNF\nbWJlZGRlZFBDKCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1BD\nID0gSW1wbEhlbHBlci50b1BlcnNpc3RlbmNlQ2FwYWJsZShvYmp2YWwsCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJva2VyLmdldENvbmZp\nZ3VyYXRpb24oKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG9ianZhbCA9\nIG1hbmFnZXIuYXR0YWNoKG9ianZhbCwgdG9QQywgc20sIGZpZWxkc1tpXSwK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKTsKICAgICAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaXJ0eS5n\nZXQoaSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnNldHRpbmdPYmpl\nY3RGaWVsZChwYywgaSwgKCFsb2FkZWQuZ2V0KGkpKSA/IG51bGwKICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIDogc20uZmV0Y2hPYmplY3RGaWVsZChp\nKSwgb2JqdmFsLCBzZXQpOwogICAgICAgICAgICAgICAgICAgIGVsc2UKICAg\nICAgICAgICAgICAgICAgICAgICAgc20uc3RvcmVPYmplY3RGaWVsZChpLCBv\nYmp2YWwpOwogICAgICAgICAgICAgICAgICAgIG9ianZhbCA9IG51bGw7CiAg\nICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNl\nIEphdmFUeXBlcy5DT0xMRUNUSU9OOgogICAgICAgICAgICAgICAgICAgIENv\nbGxlY3Rpb24gY29sbCA9IChDb2xsZWN0aW9uKSBvYmp2YWw7CiAgICAgICAg\nICAgICAgICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAgICAgICAgICAgICAg\nICBpZiAoY29sbCAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgICAgICBj\nb2xsID0gYXR0YWNoQ29sbGVjdGlvbihtYW5hZ2VyLCBjb2xsLCBzbSwgZmll\nbGRzW2ldKTsKICAgICAgICAgICAgICAgICAgICBpZiAoX2RpcnR5LmdldChp\nKSkKICAgICAgICAgICAgICAgICAgICAgICAgc20uc2V0dGluZ09iamVjdEZp\nZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8gbnVsbAogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaE9iamVjdEZpZWxkKGkpLCBj\nb2xsLCBzZXQpOwogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAg\nICAgICAgICAgICAgICAgc20uc3RvcmVPYmplY3RGaWVsZChpLCBjb2xsKTsK\nICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNh\nc2UgSmF2YVR5cGVzLk1BUDoKICAgICAgICAgICAgICAgICAgICBNYXAgbWFw\nID0gKE1hcCkgb2JqdmFsOwogICAgICAgICAgICAgICAgICAgIG9ianZhbCA9\nIG51bGw7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcCAhPSBudWxsKQog\nICAgICAgICAgICAgICAgICAgICAgICBtYXAgPSBhdHRhY2hNYXAobWFuYWdl\nciwgbWFwLCBzbSwgZmllbGRzW2ldKTsKICAgICAgICAgICAgICAgICAgICBp\nZiAoX2RpcnR5LmdldChpKSkKICAgICAgICAgICAgICAgICAgICAgICAgc20u\nc2V0dGluZ09iamVjdEZpZWxkKHBjLCBpLCAoIWxvYWRlZC5nZXQoaSkpID8g\nbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzbS5mZXRjaE9i\namVjdEZpZWxkKGkpLCBtYXAsIHNldCk7CiAgICAgICAgICAgICAgICAgICAg\nZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zdG9yZU9iamVjdEZp\nZWxkKGksIG1hcCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAg\nICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGlmIChf\nZGlydHkuZ2V0KGkpKQogICAgICAgICAgICAgICAgICAgICAgICBzbS5zZXR0\naW5nT2JqZWN0RmllbGQocGMsIGksICghbG9hZGVkLmdldChpKSkgPyBudWxs\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNtLmZldGNoT2JqZWN0\nRmllbGQoaSksIG9ianZhbCwgc2V0KTsKICAgICAgICAgICAgICAgICAgICBl\nbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHNtLnN0b3JlT2JqZWN0Rmll\nbGQoaSwgb2JqdmFsKTsKICAgICAgICAgICAgICAgICAgICBvYmp2YWwgPSBu\ndWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHBjLnBjUmVw\nbGFjZVN0YXRlTWFuYWdlcihzbSk7CgogICAgICAgIC8vIGlmIHdlIHdlcmUg\nY2xlYW4gYXQgbGVhc3QgbWFrZSBzdXJlIGEgdmVyc2lvbiBjaGVjayBpcyBk\nb25lIHRvCiAgICAgICAgLy8gcHJldmVudCB1c2luZyBvbGQgc3RhdGUKICAg\nICAgICBpZiAoIXNtLmlzVmVyc2lvbkNoZWNrUmVxdWlyZWQoKSAmJiBicm9r\nZXIuaXNBY3RpdmUoKQogICAgICAgICAgICAmJiBfdmVyc2lvbiAhPSBvcmln\nVmVyc2lvbiAmJiAob3JpZ1ZlcnNpb24gPT0gbnVsbCAKICAgICAgICAgICAg\nfHwgYnJva2VyLmdldFN0b3JlTWFuYWdlcigpLmNvbXBhcmVWZXJzaW9uKHNt\nLCBfdmVyc2lvbiwgCiAgICAgICAgICAgIG9yaWdWZXJzaW9uKSAhPSBTdG9y\nZU1hbmFnZXIuVkVSU0lPTl9TQU1FKSkgewogICAgICAgICAgICBicm9rZXIu\ndHJhbnNhY3Rpb25hbChzbS5nZXRNYW5hZ2VkSW5zdGFuY2UoKSwgZmFsc2Us\nIAogICAgICAgICAgICAgICAgbWFuYWdlci5nZXRCZWhhdmlvcigpKTsKICAg\nICAgICB9CgogICAgICAgIHJldHVybiBzbS5nZXRNYW5hZ2VkSW5zdGFuY2Uo\nKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgT2JqZWN0IGdldERldGFjaGVkT2Jq\nZWN0SWQoQXR0YWNoTWFuYWdlciBtYW5hZ2VyLAogICAgICAgIE9iamVjdCB0\nb0F0dGFjaCkgewogICAgICAgIHJldHVybiBfb2lkOwogICAgfQoKICAgIHZv\naWQgcHJvdmlkZUZpZWxkKGludCBmaWVsZCkgewogICAgICAgIF9wYy5wY1By\nb3ZpZGVGaWVsZChmaWVsZCk7CiAgICB9CgogICAgcHJvdGVjdGVkIHZvaWQg\ncHJvdmlkZUZpZWxkKE9iamVjdCB0b0F0dGFjaCwgU3RhdGVNYW5hZ2VySW1w\nbCBzbSwKICAgICAgICBpbnQgZmllbGQpIHsKICAgICAgICBwcm92aWRlRmll\nbGQoZmllbGQpOwogICAgfQoKICAgIC8qKgogICAgICogSWdub3JlIGlmIHRo\nZSBmaWVsZCBpcyBub3QgZGlydHkgYnV0IGxvYWRlZAogICAgICovCiAgICBw\ncm90ZWN0ZWQgc3RhdGljIGJvb2xlYW4gaWdub3JlTG9hZGVkKEZpZWxkTWV0\nYURhdGEgZm1kKSB7CiAgICAgICAgc3dpdGNoIChmbWQuZ2V0VHlwZUNvZGUo\nKSkgewogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFOOgogICAg\nICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09MRUFOX09CSjoKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuQllURToKICAgICAgICAgICAgY2FzZSBKYXZh\nVHlwZXMuQllURV9PQko6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklO\nVDoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuSU5UX09CSjoKICAgICAg\nICAgICAgY2FzZSBKYXZhVHlwZXMuTE9ORzoKICAgICAgICAgICAgY2FzZSBK\nYXZhVHlwZXMuTE9OR19PQko6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLlNIT1JUOgogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5TSE9SVF9PQko6\nCiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkRPVUJMRToKICAgICAgICAg\nICAgY2FzZSBKYXZhVHlwZXMuRE9VQkxFX09CSjoKICAgICAgICAgICAgY2Fz\nZSBKYXZhVHlwZXMuRkxPQVQ6CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVz\nLkZMT0FUX09CSjoKICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQ0hBUjoK\nICAgICAgICAgICAgY2FzZSBKYXZhVHlwZXMuQ0hBUl9PQko6CiAgICAgICAg\nICAgIGNhc2UgSmF2YVR5cGVzLlNUUklORzoKICAgICAgICAgICAgICAgIHJl\ndHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICB9CgogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAg\nLy8gU3RhdGVNYW5hZ2VyIGltcGxlbWVudGF0aW9uCiAgICAvLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIE9iamVjdCBnZXRH\nZW5lcmljQ29udGV4dCgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IGdldFBDUHJpbWFyeUtleShPYmplY3Qgb2lk\nLCBpbnQgZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRP\ncGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgU3RhdGVN\nYW5hZ2VyIHJlcGxhY2VTdGF0ZU1hbmFnZXIoU3RhdGVNYW5hZ2VyIHNtKSB7\nCiAgICAgICAgcmV0dXJuIHNtOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nZ2V0VmVyc2lvbigpIHsKICAgICAgICByZXR1cm4gX3ZlcnNpb247CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0VmVyc2lvbihPYmplY3QgdmVyc2lvbikg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRGlydHkoKSB7CiAgICAgICAg\ncmV0dXJuIF9kaXJ0eS5sZW5ndGgoKSAhPSAwOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGlzVHJhbnNhY3Rpb25hbCgpIHsKICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNQZXJzaXN0ZW50\nKCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBpc05ldygpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gaXNEZWxldGVkKCkgewogICAgICAgIHJl\ndHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc0RldGFj\naGVkKCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIGlzVmVyc2lvblVwZGF0ZVJlcXVpcmVkKCkgewogICAgICAg\nIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBpc1Zl\ncnNpb25DaGVja1JlcXVpcmVkKCkgewogICAgICAgIHJldHVybiBmYWxzZTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBkaXJ0eShTdHJpbmcgZmllbGQpIHsK\nICAgICAgICAvLyBzaG91bGQgd2Ugc3RvcmUgQ2xhc3NNZXRhRGF0YT8KICAg\nICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRFeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IGZldGNoT2JqZWN0SWQoKSB7CiAgICAgICAg\ncmV0dXJuIF9vaWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgYWNjZXNzaW5n\nRmllbGQoaW50IGlkeCkgewogICAgICAgIGlmICghX2FjY2VzcyAmJiAhX2xv\nYWRlZC5nZXQoaWR4KSkKICAgICAgICAJLy8gZG8gbm90IGFjY2VzcyB0aGUg\ncGMgZmllbGRzIGJ5IGltcGxpY3RseSBpbnZva2luZyBfcGMudG9TdHJpbmco\nKQogICAgICAgIAkvLyBtYXkgY2F1c2UgaW5maW5pdGUgbG9vcCBpZiBhZ2Fp\nbiB0cmllcyB0byBhY2Nlc3MgdW5sb2FkZWQgZmllbGQgCiAgICAgICAgICAg\nIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oX2xvYy5nZXQoInVu\nbG9hZGVkLWRldGFjaGVkIiwKICAgICAgICAgICAgICAgRXhjZXB0aW9ucy50\nb1N0cmluZyhfcGMpKS5nZXRNZXNzYWdlKCkpOwogICAgfQoKICAgIHB1Ymxp\nYyBib29sZWFuIHNlcmlhbGl6aW5nKCkgewogICAgICAgIHJldHVybiBmYWxz\nZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiB3cml0ZURldGFjaGVkKE9i\namVjdE91dHB1dCBvdXQpCiAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uIHsK\nICAgICAgICBvdXQud3JpdGVPYmplY3QoX3BjLnBjR2V0RGV0YWNoZWRTdGF0\nZSgpKTsKICAgICAgICBvdXQud3JpdGVPYmplY3QodGhpcyk7CiAgICAgICAg\ncmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3h5RGV0\nYWNoZWREZXNlcmlhbGl6ZWQoaW50IGlkeCkgewogICAgICAgIGxvY2soKTsK\nICAgICAgICB0cnkgewogICAgICAgICAgICBfcGMucGNQcm92aWRlRmllbGQo\naWR4KTsKICAgICAgICAgICAgaWYgKG9ianZhbCBpbnN0YW5jZW9mIFByb3h5\nKQogICAgICAgICAgICAgICAgKChQcm94eSkgb2JqdmFsKS5zZXRPd25lcih0\naGlzLCBpZHgpOwogICAgICAgICAgICBvYmp2YWwgPSBudWxsOwogICAgICAg\nIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0K\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nQm9vbGVhbkZpZWxkKFBl\ncnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwKICAgICAgICBib29sZWFu\nIGN1ciwgYm9vbGVhbiBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgYWNjZXNz\naW5nRmllbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09IG5leHQgfHwgIV9s\nb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBs\nb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5LnNldChp\nZHgpOwogICAgICAgICAgICBsb25ndmFsID0gbmV4dCA/IDEgOiAwOwogICAg\nICAgICAgICBwYy5wY1JlcGxhY2VGaWVsZChpZHgpOwogICAgICAgIH0gZmlu\nYWxseSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXR0aW5nQ2hhckZpZWxkKFBlcnNpc3RlbmNl\nQ2FwYWJsZSBwYywgaW50IGlkeCwgY2hhciBjdXIsCiAgICAgICAgY2hhciBu\nZXh0LCBpbnQgc2V0KSB7CiAgICAgICAgYWNjZXNzaW5nRmllbGQoaWR4KTsK\nICAgICAgICBpZiAoY3VyID09IG5leHQgfHwgIV9sb2FkZWQuZ2V0KGlkeCkp\nCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBsb2NrKCk7CiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgX2RpcnR5LnNldChpZHgpOwogICAgICAgICAg\nICBsb25ndmFsID0gbmV4dDsKICAgICAgICAgICAgcGMucGNSZXBsYWNlRmll\nbGQoaWR4KTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxv\nY2soKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0dGlu\nZ0J5dGVGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGJ5\ndGUgY3VyLAogICAgICAgIGJ5dGUgbmV4dCwgaW50IHNldCkgewogICAgICAg\nIGFjY2Vzc2luZ0ZpZWxkKGlkeCk7CiAgICAgICAgaWYgKGN1ciA9PSBuZXh0\nIHx8ICFfbG9hZGVkLmdldChpZHgpKQogICAgICAgICAgICByZXR1cm47CiAg\nICAgICAgbG9jaygpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIF9kaXJ0\neS5zZXQoaWR4KTsKICAgICAgICAgICAgbG9uZ3ZhbCA9IG5leHQ7CiAgICAg\nICAgICAgIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5h\nbGx5IHsKICAgICAgICAgICAgdW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldHRpbmdTaG9ydEZpZWxkKFBlcnNpc3RlbmNl\nQ2FwYWJsZSBwYywgaW50IGlkeCwgc2hvcnQgY3VyLAogICAgICAgIHNob3J0\nIG5leHQsIGludCBzZXQpIHsKICAgICAgICBhY2Nlc3NpbmdGaWVsZChpZHgp\nOwogICAgICAgIGlmIChjdXIgPT0gbmV4dCB8fCAhX2xvYWRlZC5nZXQoaWR4\nKSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGxvY2soKTsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBfZGlydHkuc2V0KGlkeCk7CiAgICAgICAg\nICAgIGxvbmd2YWwgPSBuZXh0OwogICAgICAgICAgICBwYy5wY1JlcGxhY2VG\naWVsZChpZHgpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVu\nbG9jaygpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXR0\naW5nSW50RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LCBp\nbnQgY3VyLAogICAgICAgIGludCBuZXh0LCBpbnQgc2V0KSB7CiAgICAgICAg\nYWNjZXNzaW5nRmllbGQoaWR4KTsKICAgICAgICBpZiAoY3VyID09IG5leHQg\nfHwgIV9sb2FkZWQuZ2V0KGlkeCkpCiAgICAgICAgICAgIHJldHVybjsKICAg\nICAgICBsb2NrKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2RpcnR5\nLnNldChpZHgpOwogICAgICAgICAgICBsb25ndmFsID0gbmV4dDsKICAgICAg\nICAgICAgcGMucGNSZXBsYWNlRmllbGQoaWR4KTsKICAgICAgICB9IGZpbmFs\nbHkgewogICAgICAgICAgICB1bmxvY2soKTsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0dGluZ0xvbmdGaWVsZChQZXJzaXN0ZW5jZUNh\ncGFibGUgcGMsIGludCBpZHgsIGxvbmcgY3VyLAogICAgICAgIGxvbmcgbmV4\ndCwgaW50IHNldCkgewogICAgICAgIGFjY2Vzc2luZ0ZpZWxkKGlkeCk7CiAg\nICAgICAgaWYgKGN1ciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdldChpZHgpKQog\nICAgICAgICAgICByZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAgICAg\nbG9uZ3ZhbCA9IG5leHQ7CiAgICAgICAgICAgIHBjLnBjUmVwbGFjZUZpZWxk\nKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdW5sb2Nr\nKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldHRpbmdG\nbG9hdEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgZmxv\nYXQgY3VyLAogICAgICAgIGZsb2F0IG5leHQsIGludCBzZXQpIHsKICAgICAg\nICBhY2Nlc3NpbmdGaWVsZChpZHgpOwogICAgICAgIGlmIChjdXIgPT0gbmV4\ndCB8fCAhX2xvYWRlZC5nZXQoaWR4KSkKICAgICAgICAgICAgcmV0dXJuOwog\nICAgICAgIGxvY2soKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBfZGly\ndHkuc2V0KGlkeCk7CiAgICAgICAgICAgIGRibHZhbCA9IG5leHQ7CiAgICAg\nICAgICAgIHBjLnBjUmVwbGFjZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5h\nbGx5IHsKICAgICAgICAgICAgdW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldHRpbmdEb3VibGVGaWVsZChQZXJzaXN0ZW5j\nZUNhcGFibGUgcGMsIGludCBpZHgsIGRvdWJsZSBjdXIsCiAgICAgICAgZG91\nYmxlIG5leHQsIGludCBzZXQpIHsKICAgICAgICBhY2Nlc3NpbmdGaWVsZChp\nZHgpOwogICAgICAgIGlmIChjdXIgPT0gbmV4dCB8fCAhX2xvYWRlZC5nZXQo\naWR4KSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGxvY2soKTsKICAg\nICAgICB0cnkgewogICAgICAgICAgICBfZGlydHkuc2V0KGlkeCk7CiAgICAg\nICAgICAgIGRibHZhbCA9IG5leHQ7CiAgICAgICAgICAgIHBjLnBjUmVwbGFj\nZUZpZWxkKGlkeCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAg\ndW5sb2NrKCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndHRpbmdTdHJpbmdGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBp\nZHgsIFN0cmluZyBjdXIsCiAgICAgICAgU3RyaW5nIG5leHQsIGludCBzZXQp\nIHsKICAgICAgICBhY2Nlc3NpbmdGaWVsZChpZHgpOwogICAgICAgIGlmIChj\ndXIgPT0gbmV4dCB8fCAoY3VyICE9IG51bGwgJiYgY3VyLmVxdWFscyhuZXh0\nKSkKICAgICAgICAgICAgICAgIHx8ICFfbG9hZGVkLmdldChpZHgpKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgbG9jaygpOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAgICAgICAgb2Jq\ndmFsID0gbmV4dDsKICAgICAgICAgICAgcGMucGNSZXBsYWNlRmllbGQoaWR4\nKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1bmxvY2soKTsK\nICAgICAgICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAgICB9CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0dGluZ09iamVjdEZpZWxkKFBlcnNpc3RlbmNl\nQ2FwYWJsZSBwYywgaW50IGlkeCwgT2JqZWN0IGN1ciwKICAgICAgICBPYmpl\nY3QgbmV4dCwgaW50IHNldCkgewogICAgICAgIGFjY2Vzc2luZ0ZpZWxkKGlk\neCk7CiAgICAgICAgaWYgKGN1ciA9PSBuZXh0IHx8ICFfbG9hZGVkLmdldChp\nZHgpKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgbG9jaygpOwogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIF9kaXJ0eS5zZXQoaWR4KTsKICAgICAg\nICAgICAgb2JqdmFsID0gbmV4dDsKICAgICAgICAgICAgcGMucGNSZXBsYWNl\nRmllbGQoaWR4KTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB1\nbmxvY2soKTsKICAgICAgICAgICAgb2JqdmFsID0gbnVsbDsKICAgICAgICB9\nCiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRCb29sZWFuRmllbGQo\nUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIGJvb2xl\nYW4gY3VyKSB7CiAgICAgICAgbG9uZ3ZhbCA9IGN1ciA/IDEgOiAwOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkQ2hhckZpZWxkKFBlcnNpc3Rl\nbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgY2hhciBjdXIpIHsKICAgICAgICBs\nb25ndmFsID0gY3VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVk\nQnl0ZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwgYnl0\nZSBjdXIpIHsKICAgICAgICBsb25ndmFsID0gY3VyOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHByb3ZpZGVkU2hvcnRGaWVsZChQZXJzaXN0ZW5jZUNhcGFi\nbGUgcGMsIGludCBpZHgsIHNob3J0IGN1cikgewogICAgICAgIGxvbmd2YWwg\nPSBjdXI7CiAgICB9CgogICAgcHVibGljIHZvaWQgcHJvdmlkZWRJbnRGaWVs\nZChQZXJzaXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGludCBjdXIpIHsK\nICAgICAgICBsb25ndmFsID0gY3VyOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHByb3ZpZGVkTG9uZ0ZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50\nIGlkeCwgbG9uZyBjdXIpIHsKICAgICAgICBsb25ndmFsID0gY3VyOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkRmxvYXRGaWVsZChQZXJzaXN0\nZW5jZUNhcGFibGUgcGMsIGludCBpZHgsIGZsb2F0IGN1cikgewogICAgICAg\nIGRibHZhbCA9IGN1cjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwcm92aWRl\nZERvdWJsZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCwK\nICAgICAgICBkb3VibGUgY3VyKSB7CiAgICAgICAgZGJsdmFsID0gY3VyOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHByb3ZpZGVkU3RyaW5nRmllbGQoUGVy\nc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4LAogICAgICAgIFN0cmluZyBj\ndXIpIHsKICAgICAgICBvYmp2YWwgPSBjdXI7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgcHJvdmlkZWRPYmplY3RGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUg\ncGMsIGludCBpZHgsCiAgICAgICAgT2JqZWN0IGN1cikgewogICAgICAgIG9i\nanZhbCA9IGN1cjsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiByZXBsYWNl\nQm9vbGVhbkZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkg\newogICAgICAgIHJldHVybiBsb25ndmFsID09IDE7CiAgICB9CgogICAgcHVi\nbGljIGNoYXIgcmVwbGFjZUNoYXJGaWVsZChQZXJzaXN0ZW5jZUNhcGFibGUg\ncGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4gKGNoYXIpIGxvbmd2YWw7\nCiAgICB9CgogICAgcHVibGljIGJ5dGUgcmVwbGFjZUJ5dGVGaWVsZChQZXJz\naXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4g\nKGJ5dGUpIGxvbmd2YWw7CiAgICB9CgogICAgcHVibGljIHNob3J0IHJlcGxh\nY2VTaG9ydEZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgaW50IGlkeCkg\newogICAgICAgIHJldHVybiAoc2hvcnQpIGxvbmd2YWw7CiAgICB9CgogICAg\ncHVibGljIGludCByZXBsYWNlSW50RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxl\nIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgcmV0dXJuIChpbnQpIGxvbmd2YWw7\nCiAgICB9CgogICAgcHVibGljIGxvbmcgcmVwbGFjZUxvbmdGaWVsZChQZXJz\naXN0ZW5jZUNhcGFibGUgcGMsIGludCBpZHgpIHsKICAgICAgICByZXR1cm4g\nbG9uZ3ZhbDsKICAgIH0KCiAgICBwdWJsaWMgZmxvYXQgcmVwbGFjZUZsb2F0\nRmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAg\nICAgcmV0dXJuIChmbG9hdCkgZGJsdmFsOwogICAgfQoKICAgIHB1YmxpYyBk\nb3VibGUgcmVwbGFjZURvdWJsZUZpZWxkKFBlcnNpc3RlbmNlQ2FwYWJsZSBw\nYywgaW50IGlkeCkgewogICAgICAgIHJldHVybiBkYmx2YWw7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyByZXBsYWNlU3RyaW5nRmllbGQoUGVyc2lzdGVu\nY2VDYXBhYmxlIHBjLCBpbnQgaWR4KSB7CiAgICAgICAgU3RyaW5nIHN0ciA9\nIChTdHJpbmcpIG9ianZhbDsKICAgICAgICBvYmp2YWwgPSBudWxsOwogICAg\nICAgIHJldHVybiBzdHI7CiAgICB9CgogICAgcHVibGljIE9iamVjdCByZXBs\nYWNlT2JqZWN0RmllbGQoUGVyc2lzdGVuY2VDYXBhYmxlIHBjLCBpbnQgaWR4\nKSB7CiAgICAgICAgT2JqZWN0IHJldCA9IG9ianZhbDsKICAgICAgICBvYmp2\nYWwgPSBudWxsOwogICAgICAgIHJldHVybiByZXQ7CiAgICB9CgogICAgLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIE9w\nZW5KUEFTdGF0ZU1hbmFnZXIgaW1wbGVtZW50YXRpb24KICAgIC8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIHZv\naWQgaW5pdGlhbGl6ZShDbGFzcyBmb3JUeXBlLCBQQ1N0YXRlIHN0YXRlKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgbG9hZChGZXRjaENvbmZp\nZ3VyYXRpb24gZmV0Y2gpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2Jq\nZWN0IGdldE1hbmFnZWRJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gX3Bj\nOwogICAgfQoKICAgIHB1YmxpYyBQZXJzaXN0ZW5jZUNhcGFibGUgZ2V0UGVy\nc2lzdGVuY2VDYXBhYmxlKCkgewogICAgICAgIHJldHVybiBfcGM7CiAgICB9\nCgogICAgcHVibGljIENsYXNzTWV0YURhdGEgZ2V0TWV0YURhdGEoKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIE9wZW5KUEFTdGF0ZU1hbmFnZXIgZ2V0\nT3duZXIoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIFZhbHVlTWV0YURh\ndGEgZ2V0T3duZXJNZXRhRGF0YSgpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgYm9vbGVhbiBpc0VtYmVkZGVkKCkgewogICAgICAgIHJldHVybiBfZW1i\nZWRkZWQ7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNGbHVzaGVkKCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRmx1c2hlZERp\ncnR5KCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzUHJv\ndmlzaW9uYWwoKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3Bl\ncmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIEJpdFNldCBn\nZXRMb2FkZWQoKSB7CiAgICAgICAgcmV0dXJuIF9sb2FkZWQ7CiAgICB9Cgog\nICAgcHVibGljIEJpdFNldCBnZXREaXJ0eSgpIHsKICAgICAgICByZXR1cm4g\nX2RpcnR5OwogICAgfQoKICAgIHB1YmxpYyBCaXRTZXQgZ2V0Rmx1c2hlZCgp\nIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgQml0U2V0IGdldFVubG9hZGVk\nKEZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCkgewogICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAg\nIHB1YmxpYyBPYmplY3QgbmV3UHJveHkoaW50IGZpZWxkKSB7CiAgICAgICAg\ndGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAg\nICB9CgogICAgcHVibGljIE9iamVjdCBuZXdGaWVsZFByb3h5KGludCBmaWVs\nZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4\nY2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGlzRGVmYXVs\ndFZhbHVlKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBT\ndG9yZUNvbnRleHQgZ2V0Q29udGV4dCgpIHsKICAgICAgICByZXR1cm4gbnVs\nbDsKICAgIH0KCiAgICBwdWJsaWMgUENTdGF0ZSBnZXRQQ1N0YXRlKCkgewog\nICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlv\nbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0T2JqZWN0SWQoKSB7\nCiAgICAgICAgcmV0dXJuIF9vaWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0T2JqZWN0SWQoT2JqZWN0IG9pZCkgewogICAgICAgIHRocm93IG5ldyBV\nbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGFzc2lnbk9iamVjdElkKGJvb2xlYW4gZmx1c2gpIHsK\nICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0\nIGdldElkKCkgewogICAgICAgIHJldHVybiBnZXRPYmplY3RJZCgpOwogICAg\nfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0TG9jaygpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRMb2NrKE9iamVjdCBsb2NrKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TmV4dFZlcnNpb24oT2JqZWN0\nIHZlcnNpb24pIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVy\nYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdl\ndEltcGxEYXRhKCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3Qg\nc2V0SW1wbERhdGEoT2JqZWN0IGRhdGEsIGJvb2xlYW4gY2FjaGVhYmxlKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNJbXBsRGF0YUNh\nY2hlYWJsZSgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAg\ncHVibGljIE9iamVjdCBnZXRJbXBsRGF0YShpbnQgZmllbGQpIHsKICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IHNldEltcGxEYXRhKGludCBmaWVs\nZCwgT2JqZWN0IGRhdGEpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgYm9v\nbGVhbiBpc0ltcGxEYXRhQ2FjaGVhYmxlKGludCBmaWVsZCkgewogICAgICAg\nIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwog\nICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0SW50ZXJtZWRpYXRlKGludCBm\naWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlv\nbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEludGVy\nbWVkaWF0ZShpbnQgZmllbGQsIE9iamVjdCBkYXRhKSB7CiAgICAgICAgdGhy\nb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgcmVtb3ZlZChpbnQgZmllbGQsIE9iamVjdCBy\nZW1vdmVkLCBib29sZWFuIGtleSkgewogICAgICAgIGRpcnR5KGZpZWxkKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBiZWZvcmVSZWZyZXNoKGJvb2xl\nYW4gYWxsKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0\naW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgZGlydHko\naW50IGZpZWxkKSB7CiAgICAgICAgbG9jaygpOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIF9kaXJ0eS5zZXQoZmllbGQpOwogICAgICAgIH0gZmluYWxs\neSB7CiAgICAgICAgICAgIHVubG9jaygpOwogICAgICAgIH0KICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzdG9yZUJvb2xlYW4oaW50IGZpZWxkLCBib29sZWFu\nIGV4dFZhbCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0b3Jl\nQnl0ZShpbnQgZmllbGQsIGJ5dGUgZXh0VmFsKSB7CiAgICAgICAgdGhyb3cg\nbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc3RvcmVDaGFyKGludCBmaWVsZCwgY2hhciBleHRW\nYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F\neGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzdG9yZUludChp\nbnQgZmllbGQsIGludCBleHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z\ndXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzdG9yZVNob3J0KGludCBmaWVsZCwgc2hvcnQgZXh0VmFsKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVMb25nKGludCBm\naWVsZCwgbG9uZyBleHRWYWwpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzdG9yZUZsb2F0KGludCBmaWVsZCwgZmxvYXQgZXh0VmFsKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVEb3VibGUoaW50IGZp\nZWxkLCBkb3VibGUgZXh0VmFsKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc3RvcmVTdHJpbmcoaW50IGZpZWxkLCBTdHJpbmcgZXh0VmFsKSB7\nCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0\naW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVPYmplY3QoaW50\nIGZpZWxkLCBPYmplY3QgZXh0VmFsKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc3RvcmUoaW50IGZpZWxkLCBPYmplY3QgZXh0VmFsKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc3RvcmVGaWVsZChpbnQgZmll\nbGQsIE9iamVjdCB2YWx1ZSkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGZldGNoQm9vbGVhbihpbnQgZmllbGQpIHsKICAgICAgICB0aHJv\ndyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgIH0K\nCiAgICBwdWJsaWMgYnl0ZSBmZXRjaEJ5dGUoaW50IGZpZWxkKSB7CiAgICAg\nICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7\nCiAgICB9CgogICAgcHVibGljIGNoYXIgZmV0Y2hDaGFyKGludCBmaWVsZCkg\newogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2Vw\ndGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBzaG9ydCBmZXRjaFNob3J0KGlu\ndCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZmV0Y2hJ\nbnQoaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIGxvbmcg\nZmV0Y2hMb25nKGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1\ncHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1Ymxp\nYyBmbG9hdCBmZXRjaEZsb2F0KGludCBmaWVsZCkgewogICAgICAgIHRocm93\nIG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoK\nICAgIHB1YmxpYyBkb3VibGUgZmV0Y2hEb3VibGUoaW50IGZpZWxkKSB7CiAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBmZXRjaFN0cmluZyhpbnQg\nZmllbGQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRp\nb25FeGNlcHRpb24oKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGZldGNo\nT2JqZWN0KGludCBmaWVsZCkgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBv\ncnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgZmV0Y2goaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgcHVi\nbGljIE9iamVjdCBmZXRjaEZpZWxkKGludCBmaWVsZCwgYm9vbGVhbiB0cmFu\nc2l0aW9ucykgewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZmV0\nY2hJbml0aWFsRmllbGQoaW50IGZpZWxkKSB7CiAgICAgICAgdGhyb3cgbmV3\nIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0UmVtb3RlKGludCBmaWVsZCwgT2JqZWN0IHZhbHVl\nKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgbG9jaygpIHsKICAg\nICAgICBpZiAoX2xvY2sgIT0gbnVsbCkKICAgICAgICAgICAgX2xvY2subG9j\naygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHVubG9jaygpIHsKICAgICAg\nICBpZiAoX2xvY2sgIT0gbnVsbCkKICAgICAgICAgICAgX2xvY2sudW5sb2Nr\nKCk7CiAgICB9Cn0K\n","encoding":"base64"}

