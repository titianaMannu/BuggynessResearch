{"sha":"9f8320647190acfa95a6cd4e4bf66591066b529f","node_id":"MDQ6QmxvYjIwNjM2NDo5ZjgzMjA2NDcxOTBhY2ZhOTVhNmNkNGU0YmY2NjU5MTA2NmI1Mjlm","size":4372,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9f8320647190acfa95a6cd4e4bf66591066b529f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHM7CgppbXBv\ncnQgamF2YS51dGlsLkNvbGxlY3Rpb25zOwppbXBvcnQgamF2YS51dGlsLkhh\nc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoKaW1wb3J0IG9yZy5hcGFj\naGUuY29tbW9ucy5jb2xsZWN0aW9ucy5tYXAuTGlua2VkTWFwOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5RdWVyeU9wZXJhdGlvbnM7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0b3JlUXVlcnk7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuRmllbGRNZXRhRGF0YTsK\nCi8qKgogKiBTdHJ1Y3QgdG8gaG9sZCB0aGUgc3RhdGUgb2YgYSBwYXJzZWQg\nZXhwcmVzc2lvbiBxdWVyeS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICog\nQHNpbmNlIDAuMy4yCiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBjbGFzcyBR\ndWVyeUV4cHJlc3Npb25zIHsKCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGlu\ndCBESVNUSU5DVF9BVVRPID0gMiA8PCAwOwogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBpbnQgRElTVElOQ1RfVFJVRSA9IDIgPDwgMTsKICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgaW50IERJU1RJTkNUX0ZBTFNFID0gMiA8PCAyOwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBWYWx1ZVtdIEVNUFRZX1ZBTFVFUyA9IG5l\ndyBWYWx1ZVswXTsKCiAgICAvKioKICAgICAqIE1hcCBvZiB7QGxpbmsgRmll\nbGRNZXRhRGF0YX0se0BsaW5rIFZhbHVlfSBmb3IgdXBkYXRlIHN0YXRlbWVu\ndHMuCiAgICAgKi8KICAgIHB1YmxpYyBNYXAgdXBkYXRlcyA9IENvbGxlY3Rp\nb25zLkVNUFRZX01BUDsKICAgIHB1YmxpYyBpbnQgZGlzdGluY3QgPSBESVNU\nSU5DVF9BVVRPOwogICAgcHVibGljIFN0cmluZyBhbGlhcyA9IG51bGw7CiAg\nICBwdWJsaWMgVmFsdWVbXSBwcm9qZWN0aW9ucyA9IEVNUFRZX1ZBTFVFUzsK\nICAgIHB1YmxpYyBTdHJpbmdbXSBwcm9qZWN0aW9uQ2xhdXNlcyA9IFN0b3Jl\nUXVlcnkuRU1QVFlfU1RSSU5HUzsKICAgIHB1YmxpYyBTdHJpbmdbXSBwcm9q\nZWN0aW9uQWxpYXNlcyA9IFN0b3JlUXVlcnkuRU1QVFlfU1RSSU5HUzsKICAg\nIHB1YmxpYyBDbGFzcyByZXN1bHRDbGFzcyA9IG51bGw7CiAgICBwdWJsaWMg\nRXhwcmVzc2lvbiBmaWx0ZXIgPSBudWxsOwogICAgcHVibGljIFZhbHVlW10g\nZ3JvdXBpbmcgPSBFTVBUWV9WQUxVRVM7CiAgICBwdWJsaWMgU3RyaW5nW10g\nZ3JvdXBpbmdDbGF1c2VzID0gU3RvcmVRdWVyeS5FTVBUWV9TVFJJTkdTOwog\nICAgcHVibGljIEV4cHJlc3Npb24gaGF2aW5nID0gbnVsbDsKICAgIHB1Ymxp\nYyBWYWx1ZVtdIG9yZGVyaW5nID0gRU1QVFlfVkFMVUVTOwogICAgcHVibGlj\nIGJvb2xlYW5bXSBhc2NlbmRpbmcgPSBTdG9yZVF1ZXJ5LkVNUFRZX0JPT0xF\nQU5TOwogICAgcHVibGljIFN0cmluZ1tdIG9yZGVyaW5nQ2xhdXNlcyA9IFN0\nb3JlUXVlcnkuRU1QVFlfU1RSSU5HUzsKICAgIHB1YmxpYyBMaW5rZWRNYXAg\ncGFyYW1ldGVyVHlwZXMgPSBTdG9yZVF1ZXJ5LkVNUFRZX1BBUkFNUzsKICAg\nIHB1YmxpYyBpbnQgb3BlcmF0aW9uID0gUXVlcnlPcGVyYXRpb25zLk9QX1NF\nTEVDVDsKICAgIHB1YmxpYyBDbGFzc01ldGFEYXRhW10gYWNjZXNzUGF0aCA9\nIFN0b3JlUXVlcnkuRU1QVFlfTUVUQVM7CiAgICBwdWJsaWMgU3RyaW5nW10g\nZmV0Y2hQYXRocyA9IFN0b3JlUXVlcnkuRU1QVFlfU1RSSU5HUzsKICAgIHB1\nYmxpYyBTdHJpbmdbXSBmZXRjaElubmVyUGF0aHMgPSBTdG9yZVF1ZXJ5LkVN\nUFRZX1NUUklOR1M7CiAgICBwdWJsaWMgVmFsdWVbXSByYW5nZSA9IEVNUFRZ\nX1ZBTFVFUzsKICAgIHByaXZhdGUgQm9vbGVhbiBfYWdncmVnYXRlID0gbnVs\nbDsKCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhpcyBpcyBhbiBhZ2dyZWdh\ndGUgcmVzdWx0cy4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNBZ2dy\nZWdhdGUoKSB7CiAgICAgICAgaWYgKHByb2plY3Rpb25zLmxlbmd0aCA9PSAw\nKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7IAogICAgICAgIGlmIChfYWdn\ncmVnYXRlID09IG51bGwpCiAgICAgICAgICAgIF9hZ2dyZWdhdGUgPSAoQWdn\ncmVnYXRlRXhwcmVzc2lvblZpc2l0b3IuaXNBZ2dyZWdhdGUocHJvamVjdGlv\nbnMpKQogICAgICAgICAgICAgICAgPyBCb29sZWFuLlRSVUUgOiBCb29sZWFu\nLkZBTFNFOwogICAgICAgIHJldHVybiBfYWdncmVnYXRlLmJvb2xlYW5WYWx1\nZSgpOyAgICAKICAgIH0KCiAgICAvKioKICAgICAqIEFkZCBhbiB1cGRhdGUu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHB1dFVwZGF0ZShGaWVsZE1ldGFE\nYXRhIGZtZCwgVmFsdWUgdmFsKSB7CiAgICAgICAgaWYgKHVwZGF0ZXMgPT0g\nQ29sbGVjdGlvbnMuRU1QVFlfTUFQKQogICAgICAgICAgICB1cGRhdGVzID0g\nbmV3IEhhc2hNYXAoKTsKICAgICAgICB1cGRhdGVzLnB1dChmbWQsIHZhbCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBWaXNpdG9yIHRvIGRldGVybWluZSB3\naGV0aGVyIG91ciBwcm9qZWN0aW9ucyBhcmUgYWdncmVnYXRlcy4KICAgICAq\nLwogICAgcHJpdmF0ZSBzdGF0aWMgY2xhc3MgQWdncmVnYXRlRXhwcmVzc2lv\nblZpc2l0b3IKICAgICAgICBleHRlbmRzIEFic3RyYWN0RXhwcmVzc2lvblZp\nc2l0b3IgewogICAgICAgIAogICAgICAgIHByaXZhdGUgVmFsdWUgX3N1YiA9\nIG51bGw7CiAgICAgICAgcHJpdmF0ZSBib29sZWFuIF9hZ2cgPSBmYWxzZTsK\nCiAgICAgICAgLyoqCiAgICAgICAgICogUmV0dXJuIHdoZXRoZXIgdGhlIGdp\ndmVuIHZhbHVlcyBpbmNsdWRlIHByb2plY3Rpb25zLgogICAgICAgICAqLwog\nICAgICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBpc0FnZ3JlZ2F0ZShWYWx1\nZVtdIHZhbHMpIHsKICAgICAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09IDAp\nCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIEFn\nZ3JlZ2F0ZUV4cHJlc3Npb25WaXNpdG9yIHYgPSBuZXcgQWdncmVnYXRlRXhw\ncmVzc2lvblZpc2l0b3IoKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7\nIGkgPCB2YWxzLmxlbmd0aCAmJiAhdi5fYWdnOyBpKyspCiAgICAgICAgICAg\nICAgICB2YWxzW2ldLmFjY2VwdFZpc2l0KHYpOwogICAgICAgICAgICByZXR1\ncm4gdi5fYWdnOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgZW50\nZXIoVmFsdWUgdmFsKSB7CiAgICAgICAgICAgIGlmIChfYWdnKQogICAgICAg\nICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoX3N1YiA9PSBudWxs\nKSB7CiAgICAgICAgICAgICAgICBpZiAodmFsLmlzQWdncmVnYXRlKCkpCiAg\nICAgICAgICAgICAgICAgICAgX2FnZyA9IHRydWU7CiAgICAgICAgICAgIH0g\nZWxzZSBpZiAodmFsIGluc3RhbmNlb2YgU3VicXVlcnkpCiAgICAgICAgICAg\nICAgICBfc3ViID0gdmFsOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZv\naWQgZXhpdChWYWx1ZSB2YWwpIHsKICAgICAgICAgICAgaWYgKHZhbCA9PSBf\nc3ViKQogICAgICAgICAgICAgICAgX3N1YiA9IG51bGw7CiAgICAgICAgfQog\nICAgfQp9Cg==\n","encoding":"base64"}

