{"sha":"666972176d75f9b2fe7edfb8f665bbd5bb1ef7b0","node_id":"MDQ6QmxvYjIwNjM2NDo2NjY5NzIxNzZkNzVmOWIyZmU3ZWRmYjhmNjY1YmJkNWJiMWVmN2Iw","size":3393,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/666972176d75f9b2fe7edfb8f665bbd5bb1ef7b0","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5nZW5lcmF0aW9udHlwZTsNCg0KaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLkVudGl0eU1hbmFnZXI7DQppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuRW50aXR5RXhpc3RzRXhjZXB0aW9uOw0KDQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLkludmFsaWRTdGF0ZUV4Y2VwdGlvbjsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5T\naW5nbGVFTUZUZXN0Q2FzZTsNCg0KcHVibGljIGNsYXNzIFRlc3RHZW5lcmF0\nZWRWYWx1ZXMgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7DQogICAgDQog\nICAgcHVibGljIHZvaWQgc2V0VXAoKSB7IA0KICAgICAgICBzZXRVcChHZW5l\ncmF0ZWRWYWx1ZXMuY2xhc3MsIENMRUFSX1RBQkxFUyk7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgdGVzdERlZmF1bHRWYWx1ZXMoKSB7IA0KICAgICAg\nICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIo\nKTsNCg0KICAgICAgICBHZW5lcmF0ZWRWYWx1ZXMgZ3YgPSBuZXcgR2VuZXJh\ndGVkVmFsdWVzKCk7DQogICAgICAgIEdlbmVyYXRlZFZhbHVlcyBndjIgPSBu\nZXcgR2VuZXJhdGVkVmFsdWVzKCk7DQoNCiAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOw0KICAgICAgICBlbS5wZXJzaXN0KGd2KTsNCiAg\nICAgICAgZW0ucGVyc2lzdChndjIpOw0KICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmNvbW1pdCgpOw0KDQogICAgICAgIGVtLnJlZnJlc2goZ3YpOw0K\nICAgICAgICBlbS5yZWZyZXNoKGd2Mik7DQoNCiAgICAgICAgYXNzZXJ0RmFs\nc2UoZ3YuZ2V0SWQoKSA9PSBndjIuZ2V0SWQoKSk7DQogICAgICAgIGFzc2Vy\ndEZhbHNlKGd2LmdldEZpZWxkKCkgPT0gZ3YyLmdldEZpZWxkKCkpOw0KICAg\nIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW5pdGlhbFZhbHVlcygp\nIHsgDQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOw0KDQogICAgICAgIEdlbmVyYXRlZFZhbHVlcyBndiA9\nIG5ldyBHZW5lcmF0ZWRWYWx1ZXMoNywgOSk7DQoNCiAgICAgICAgdHJ5IHsN\nCiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsNCiAg\nICAgICAgICAgIGVtLnBlcnNpc3QoZ3YpOw0KICAgICAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5jb21taXQoKTsNCiAgICAgICAgfSBjYXRjaCAoSW52\nYWxpZFN0YXRlRXhjZXB0aW9uIGlzZSkgew0KICAgICAgICAgICAgLy8gZXhw\nZWN0ZWQgcmVzdWx0DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0g\nIGNhdGNoIChFbnRpdHlFeGlzdHNFeGNlcHRpb24gZWVlKSB7DQogICAgICAg\nICAgICAvLyBhbHNvIG9rDQogICAgICAgICAgICByZXR1cm47DQogICAgICAg\nIH0NCiAgICAgICAgDQogICAgICAgIC8vIHNob3VsZCBub3QgZ2V0IGhlcmUu\nLi4NCiAgICAgICAgZmFpbCgpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0SWRTZXR0ZXIoKSB7IA0KICAgICAgICBFbnRpdHlNYW5hZ2Vy\nIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCg0KICAgICAgICBH\nZW5lcmF0ZWRWYWx1ZXMgZ3YgPSBuZXcgR2VuZXJhdGVkVmFsdWVzKCk7DQog\nICAgICAgIGd2LnNldElkKDMpOw0KDQogICAgICAgIHRyeSB7DQogICAgICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7DQogICAgICAgICAg\nICBlbS5wZXJzaXN0KGd2KTsNCiAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuY29tbWl0KCk7DQogICAgICAgIH0gY2F0Y2ggKEludmFsaWRTdGF0\nZUV4Y2VwdGlvbiBpc2UpIHsNCiAgICAgICAgICAgIC8vIGV4cGVjdGVkIHJl\nc3VsdA0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9ICBjYXRjaCAo\nRW50aXR5RXhpc3RzRXhjZXB0aW9uIGVlZSkgew0KICAgICAgICAgICAgLy8g\nYWxzbyBvaw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAg\nICAgIA0KICAgICAgICAvLyBzaG91bGQgbm90IGdldCBoZXJlLi4uDQogICAg\nICAgIGZhaWwoKTsNCiAgICB9DQogICAgDQogICAgcHVibGljIHZvaWQgdGVz\ndEZpZWxkU2V0dGVyKCkgeyANCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9\nIGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAgICAgR2VuZXJh\ndGVkVmFsdWVzIGd2ID0gbmV3IEdlbmVyYXRlZFZhbHVlcygpOw0KICAgICAg\nICBndi5zZXRGaWVsZCg1KTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOw0KICAgICAgICAgICAg\nZW0ucGVyc2lzdChndik7DQogICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmNvbW1pdCgpOw0KICAgICAgICB9IGNhdGNoIChJbnZhbGlkU3RhdGVF\neGNlcHRpb24gaXNlKSB7DQogICAgICAgICAgICAvLyBleHBlY3RlZCByZXN1\nbHQNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICAN\nCiAgICAgICAgLy8gc2hvdWxkIG5vdCBnZXQgaGVyZS4uLg0KICAgICAgICBm\nYWlsKCk7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

