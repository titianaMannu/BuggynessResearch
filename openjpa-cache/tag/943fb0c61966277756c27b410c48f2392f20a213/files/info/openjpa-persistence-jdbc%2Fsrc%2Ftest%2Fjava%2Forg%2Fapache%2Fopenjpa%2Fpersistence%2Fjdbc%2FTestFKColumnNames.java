{"sha":"16ce6ded011e4d3df0c62050a1f7b1f87deeda7e","node_id":"MDQ6QmxvYjIwNjM2NDoxNmNlNmRlZDAxMWU0ZDNkZjBjNjIwNTBhMWY3YjFmODdkZWVkYTdl","size":3316,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/16ce6ded011e4d3df0c62050a1f7b1f87deeda7e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHk7CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5HZW5lcmF0ZWRWYWx1ZTsKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLklkOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuT25lVG9P\nbmU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTsKCmlt\ncG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMubWV0YS5NYXBwaW5nUmVwb3NpdG9yeTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50\naXR5TWFuYWdlckZhY3RvcnlTUEk7CgovKioKICogVGVzdGNhc2UgdGhhdCB2\nZXJpZmllcyB0aGUgbmFtZXMgZm9yIEZvcmVpZ24gS2V5IGNvbHVtbnMgaXMg\nYXMgZXhwZWN0ZWQuCiAqLwpwdWJsaWMgY2xhc3MgVGVzdEZLQ29sdW1uTmFt\nZXMgZXh0ZW5kcyBUZXN0Q2FzZSB7CgogICAgT3BlbkpQQUVudGl0eU1hbmFn\nZXJGYWN0b3J5U1BJIGVtZiA9IG51bGw7CgogICAgcHVibGljIHZvaWQgc2V0\nVXAoKSB7CiAgICAgICAgZW1mID0KICAgICAgICAgICAgICAgIChPcGVuSlBB\nRW50aXR5TWFuYWdlckZhY3RvcnlTUEkpIFBlcnNpc3RlbmNlCiAgICAgICAg\nICAgICAgICAgICAgICAgIC5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeSgi\ndGVzdCIpOwogICAgfQoKICAgIC8qKgogICAgICogPFA+CiAgICAgKiBJZiBh\nIEZvcmVpZ24gS2V5IGZpZWxkIGNvbnRhaW5zIGEgU1FMIHJlc2VydmVkIHdv\ncmQsIHRoZSByZXN1bHRpbmcgY29sdW1uCiAgICAgKiBzaG91bGQgYmUgbmFt\nZWQgJHtyZXNlcnZlZFdvcmR9X0lELCBub3QgJHtyZXNlcnZlZFdvcmR9PEI+\nMDwvQj5fSUQuCiAgICAgKiA8L1A+CiAgICAgKiA8UD4KICAgICAqIFRoaXMg\ndGVzdCBkb2VzIG5vdCB0YWtlIGludG8gYWNjb3VudCBhbmQgREIgc3BlY2lm\naWMgcmVzZXJ2ZWQgd29yZHMgYW5kCiAgICAgKiBjYW4gYmUgcnVuIHdpdGgg\nYW55IERCRGljdGlvbmFyeS4KICAgICAqIDwvUD4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgdGVzdFNRTEtleXdvcmRzKCkgewogICAgICAgIE1hcHBpbmdS\nZXBvc2l0b3J5IHJlcG9zID0KICAgICAgICAgICAgICAgIChNYXBwaW5nUmVw\nb3NpdG9yeSkgZW1mCiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRDb25m\naWd1cmF0aW9uKCkuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2UoKTsK\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJTRUxFQ1RfSUQiLCByZXBvcwogICAg\nICAgICAgICAgICAgLmdldE1hcHBpbmcoSW5uZXIxLmNsYXNzLCBudWxsLCB0\ncnVlKS5nZXRGaWVsZE1hcHBpbmcoInNlbGVjdCIpCiAgICAgICAgICAgICAg\nICAuZ2V0Q29sdW1ucygpWzBdLmdldE5hbWUoKS50b1VwcGVyQ2FzZSgpKTsK\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJGUk9NX0lEIiwgcmVwb3MKICAgICAg\nICAgICAgICAgIC5nZXRNYXBwaW5nKElubmVyMi5jbGFzcywgbnVsbCwgdHJ1\nZSkuZ2V0RmllbGRNYXBwaW5nKCJmcm9tIikKICAgICAgICAgICAgICAgIC5n\nZXRDb2x1bW5zKClbMF0uZ2V0TmFtZSgpLnRvVXBwZXJDYXNlKCkpOwogICAg\nfQoKICAgIEBFbnRpdHkKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgSW5uZXIx\nIHsKICAgICAgICBASWQKICAgICAgICBAR2VuZXJhdGVkVmFsdWUKICAgICAg\nICBpbnQgaWQ7CgogICAgICAgIEBPbmVUb09uZQogICAgICAgIElubmVyMiBz\nZWxlY3Q7CgogICAgICAgIHB1YmxpYyBJbm5lcjIgZ2V0U2VsZWN0KCkgewog\nICAgICAgICAgICByZXR1cm4gc2VsZWN0OwogICAgICAgIH0KCiAgICAgICAg\ncHVibGljIHZvaWQgc2V0U2VsZWN0KElubmVyMiBzZWxlY3QpIHsKICAgICAg\nICAgICAgdGhpcy5zZWxlY3QgPSBzZWxlY3Q7CiAgICAgICAgfQoKICAgICAg\nICBwdWJsaWMgaW50IGdldElkKCkgewogICAgICAgICAgICByZXR1cm4gaWQ7\nCiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQp\nIHsKICAgICAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgICAgIH0KICAgIH0K\nCiAgICBARW50aXR5CiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIElubmVyMiB7\nCiAgICAgICAgQElkCiAgICAgICAgQEdlbmVyYXRlZFZhbHVlCiAgICAgICAg\naW50IGlkOwoKICAgICAgICBAT25lVG9PbmUKICAgICAgICBJbm5lcjEgZnJv\nbTsKCiAgICAgICAgcHVibGljIElubmVyMSBnZXRGcm9tKCkgewogICAgICAg\nICAgICByZXR1cm4gZnJvbTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2\nb2lkIHNldEZyb20oSW5uZXIxIGZyb20pIHsKICAgICAgICAgICAgdGhpcy5m\ncm9tID0gZnJvbTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBpbnQgZ2V0\nSWQoKSB7CiAgICAgICAgICAgIHJldHVybiBpZDsKICAgICAgICB9CgogICAg\nICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkgewogICAgICAgICAgICB0\naGlzLmlkID0gaWQ7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

