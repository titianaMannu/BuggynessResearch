{"sha":"b7d815784f7313f967ad94911d42652b1ab7ea19","node_id":"MDQ6QmxvYjIwNjM2NDpiN2Q4MTU3ODRmNzMxM2Y5NjdhZDk0OTExZDQyNjUyYjFhYjdlYTE5","size":9155,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b7d815784f7313f967ad94911d42652b1ab7ea19","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuaW50ZWdyYXRpb24ucGVyc2lz\ndGVuY2UucHJvdmlkZXI7CgppbXBvcnQgamF2YS5pby5CdWZmZXJlZElucHV0\nU3RyZWFtOwppbXBvcnQgamF2YS5pby5CdWZmZXJlZE91dHB1dFN0cmVhbTsK\naW1wb3J0IGphdmEuaW8uQnVmZmVyZWRXcml0ZXI7CmltcG9ydCBqYXZhLmlv\nLkZpbGU7CmltcG9ydCBqYXZhLmlvLkZpbGVJbnB1dFN0cmVhbTsKaW1wb3J0\nIGphdmEuaW8uRmlsZU91dHB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uRmls\nZVdyaXRlcjsKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBq\nYXZhLm5ldC5VUkw7CmltcG9ydCBqYXZhLm5ldC5VUkxDbGFzc0xvYWRlcjsK\naW1wb3J0IGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0\nIGphdmEudXRpbC5MaW5rZWRMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7\nCmltcG9ydCBqYXZhLnV0aWwuamFyLkphckVudHJ5OwppbXBvcnQgamF2YS51\ndGlsLmphci5KYXJPdXRwdXRTdHJlYW07CgppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2Uuc3BpLlBlcnNpc3RlbmNlUHJvdmlkZXI7CmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5zcGkuUGVyc2lzdGVuY2VQcm92aWRlclJlc29sdmVyOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uuc3BpLlBlcnNpc3RlbmNlUHJvdmlk\nZXJSZXNvbHZlckhvbGRlcjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLnV0aWwuSjJEb1ByaXZIZWxwZXI7CgppbXBvcnQganVuaXQuZnJhbWV3\nb3JrLlRlc3RDYXNlOwoKcHVibGljIGNsYXNzIFRlc3RQZXJzaXN0ZW5jZVBy\nb3ZpZGVyUmVzb2x2ZXIgZXh0ZW5kcyBUZXN0Q2FzZSB7CiAgICBGaWxlIHBl\ncnNpc3RlbmNlUHJvdmlkZXJGaWxlOwogICAgRmlsZSB0YXJnZXRKYXIxOwog\nICAgRmlsZSB0YXJnZXRKYXIyOwogICAgVVJMIGNsYXNzZXNEaXJVcmw7CiAg\nICBTdHJpbmcgY3VycmVudERpcjsKICAgIFN0cmluZyBvcGVuanBhUHJvdmlk\nZXIgPSAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLlBlcnNpc3Rl\nbmNlUHJvdmlkZXJJbXBsIjsKICAgIFN0cmluZyBkdW1teVByb3ZpZGVyMSA9\nICJvcmcuYXBhY2hlLm9wZW5qcGEuaW50ZWdyYXRpb24ucGVyc2lzdGVuY2Uu\ncHJvdmlkZXIuRHVtbXlQcm92aWRlcjEiOwogICAgU3RyaW5nIGR1bW15UHJv\ndmlkZXIyID0gIm9yZy5hcGFjaGUub3BlbmpwYS5pbnRlZ3JhdGlvbi5wZXJz\naXN0ZW5jZS5wcm92aWRlci5EdW1teVByb3ZpZGVyMiI7CiAgICBEdW1teVBl\ncnNpc3RlbmNlUHJvdmlkZXJSZXNvbHZlciBkdW1teVJlc29sdmVyID0gbmV3\nIER1bW15UGVyc2lzdGVuY2VQcm92aWRlclJlc29sdmVyKCk7CiAgICAKICAg\nIENsYXNzTG9hZGVyIG9yaWdpbmFsTG9hZGVyID0gbnVsbDsKICAgIFRlbXBV\ncmxMb2FkZXIgdGVtcExvYWRlciA9IG51bGw7CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgc3VwZXIu\nc2V0VXAoKTsKICAgICAgICAKICAgICAgICBjdXJyZW50RGlyID0gU3lzdGVt\nLmdldFByb3BlcnR5KCJ1c2VyLmRpciIpOwogICAgICAgIAogICAgICAgIHRh\ncmdldEphcjEgPSBuZXcgRmlsZShjdXJyZW50RGlyICsgRmlsZS5zZXBhcmF0\nb3IgKyAidGFyZ2V0IiArIAogICAgICAgICAgICBGaWxlLnNlcGFyYXRvciAr\nIAogICAgICAgICAgICAiVGVzdFBlcnNpc3RlbmNlUHJvdmlkZXJSZXNvbHZl\ncjEuamFyIik7CiAgICAgICAgdGFyZ2V0SmFyMiA9IG5ldyBGaWxlKGN1cnJl\nbnREaXIgKyBGaWxlLnNlcGFyYXRvciArICJ0YXJnZXQiICsgCiAgICAgICAg\nICAgIEZpbGUuc2VwYXJhdG9yICsgCiAgICAgICAgICAgICJUZXN0UGVyc2lz\ndGVuY2VQcm92aWRlclJlc29sdmVyMi5qYXIiKTsKICAgICAgICAKICAgICAg\nICBkZWxldGVUYXJnZXRKYXJzKCk7CiAgICAgICAgCiAgICAgICAgRmlsZSBj\nbGFzc2VzRGlyID0gbmV3IEZpbGUoY3VycmVudERpciArIEZpbGUuc2VwYXJh\ndG9yICsgInRhcmdldCIgKwogICAgICAgICAgICBGaWxlLnNlcGFyYXRvciAr\nICJ0ZXN0LWNsYXNzZXMiICsgRmlsZS5zZXBhcmF0b3IpOwogICAgICAgIGNs\nYXNzZXNEaXJVcmwgPSBjbGFzc2VzRGlyLnRvVVJJKCkudG9VUkwoKTsKICAg\nICAgICAKICAgICAgICBvcmlnaW5hbExvYWRlciA9IChVUkxDbGFzc0xvYWRl\ncilUaHJlYWQuY3VycmVudFRocmVhZCgpLmdldENvbnRleHRDbGFzc0xvYWRl\ncigpOwogICAgfQogICAgCiAgICBwcm90ZWN0ZWQgdm9pZCB0ZWFyRG93bigp\nIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHN1cGVyLnRlYXJEb3duKCk7\nCiAgICAgICAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgY2xhc3Nsb2FkZXIs\nIGluIGNhc2UgdGhlcmUgd2FzIGFuIGV4Y2VwdGlvbgogICAgICAgIFRocmVh\nZC5jdXJyZW50VGhyZWFkKCkuc2V0Q29udGV4dENsYXNzTG9hZGVyKG9yaWdp\nbmFsTG9hZGVyKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgdGVzdERl\nZmF1bHQoKSB7CiAgICAgICAgTGlzdDxTdHJpbmc+IHByb3ZpZGVyTmFtZXMg\nPSBuZXcgTGlua2VkTGlzdDxTdHJpbmc+KCk7CiAgICAgICAgcHJvdmlkZXJO\nYW1lcy5hZGQob3BlbmpwYVByb3ZpZGVyKTsKICAgICAgICBjaGVja1Byb3Zp\nZGVycyhwcm92aWRlck5hbWVzKTsKICAgIH0KICAgIAogICAgCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RGVmYXVsdE11bHRpcGxlSmFycygpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIFN0cmluZ1tdIGNvbnRlbnRzID0gbmV3IFN0cmlu\nZ1tde2R1bW15UHJvdmlkZXIxfTsKICAgICAgICBidWlsZEZpbGUoInRlc3RQ\nZXJzaXN0ZW5jZVByb3ZpZGVyUmVzb2x2ZXIxIiwgY29udGVudHMpOwogICAg\nICAgIGJ1aWxkVGFyZ2V0SmFyKHRhcmdldEphcjEpOwogICAgICAgIHRlbXBM\nb2FkZXIgPSBuZXcgVGVtcFVybExvYWRlcihuZXcgVVJMW117dGFyZ2V0SmFy\nMS50b1VSSSgpLnRvVVJMKCksIGNsYXNzZXNEaXJVcmx9CiAgICAgICAgICAg\nICxvcmlnaW5hbExvYWRlcik7CiAgICAgICAgQWNjZXNzQ29udHJvbGxlci5k\nb1ByaXZpbGVnZWQoSjJEb1ByaXZIZWxwZXIKICAgICAgICAgICAgLnNldENv\nbnRleHRDbGFzc0xvYWRlckFjdGlvbih0ZW1wTG9hZGVyKSk7CiAgICAgICAg\nCiAgICAgICAgTGlzdDxTdHJpbmc+IHByb3ZpZGVyTmFtZXMgPSBuZXcgTGlu\na2VkTGlzdDxTdHJpbmc+KCk7CiAgICAgICAgcHJvdmlkZXJOYW1lcy5hZGQo\nb3BlbmpwYVByb3ZpZGVyKTsKICAgICAgICBwcm92aWRlck5hbWVzLmFkZChk\ndW1teVByb3ZpZGVyMSk7CiAgICAgICAgY2hlY2tQcm92aWRlcnMocHJvdmlk\nZXJOYW1lcyk7CiAgICAgICAgCiAgICAgICAgQWNjZXNzQ29udHJvbGxlci5k\nb1ByaXZpbGVnZWQoSjJEb1ByaXZIZWxwZXIKICAgICAgICAgICAgLnNldENv\nbnRleHRDbGFzc0xvYWRlckFjdGlvbihvcmlnaW5hbExvYWRlcikpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGVmYXVsdE11bHRpcGxlUHJv\ndmlkZXJzKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgU3RyaW5nW10g\nY29udGVudHMgPSBuZXcgU3RyaW5nW117ZHVtbXlQcm92aWRlcjEsIGR1bW15\nUHJvdmlkZXIyfTsKICAgICAgICBidWlsZEZpbGUoInRlc3RQZXJzaXN0ZW5j\nZVByb3ZpZGVyUmVzb2x2ZXIyIiwgY29udGVudHMpOwogICAgICAgIGJ1aWxk\nVGFyZ2V0SmFyKHRhcmdldEphcjIpOwogICAgICAgIHRlbXBMb2FkZXIgPSBu\nZXcgVGVtcFVybExvYWRlcihuZXcgVVJMW117dGFyZ2V0SmFyMi50b1VSSSgp\nLnRvVVJMKCksIGNsYXNzZXNEaXJVcmx9CiAgICAgICAgICAgICxvcmlnaW5h\nbExvYWRlcik7IAogICAgICAgIAogICAgICAgIEFjY2Vzc0NvbnRyb2xsZXIu\nZG9Qcml2aWxlZ2VkKEoyRG9Qcml2SGVscGVyCiAgICAgICAgICAgIC5zZXRD\nb250ZXh0Q2xhc3NMb2FkZXJBY3Rpb24odGVtcExvYWRlcikpOwogICAgICAg\nIAogICAgICAgIExpc3Q8U3RyaW5nPiBwcm92aWRlck5hbWVzID0gbmV3IExp\nbmtlZExpc3Q8U3RyaW5nPigpOwogICAgICAgIHByb3ZpZGVyTmFtZXMuYWRk\nKG9wZW5qcGFQcm92aWRlcik7CiAgICAgICAgcHJvdmlkZXJOYW1lcy5hZGQo\nZHVtbXlQcm92aWRlcjEpOwogICAgICAgIHByb3ZpZGVyTmFtZXMuYWRkKGR1\nbW15UHJvdmlkZXIyKTsKICAgICAgICBjaGVja1Byb3ZpZGVycyhwcm92aWRl\nck5hbWVzKTsKICAgICAgICAKICAgICAgICAKICAgICAgICBBY2Nlc3NDb250\ncm9sbGVyLmRvUHJpdmlsZWdlZChKMkRvUHJpdkhlbHBlcgogICAgICAgICAg\nICAuc2V0Q29udGV4dENsYXNzTG9hZGVyQWN0aW9uKG9yaWdpbmFsTG9hZGVy\nKSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RDbGVhckNhY2hl\nZFByb3ZpZGVycygpIHsKICAgICAgICBQZXJzaXN0ZW5jZVByb3ZpZGVyUmVz\nb2x2ZXIgcmVzb2x2ZXIgPSAKICAgICAgICAgICAgUGVyc2lzdGVuY2VQcm92\naWRlclJlc29sdmVySG9sZGVyLmdldFBlcnNpc3RlbmNlUHJvdmlkZXJSZXNv\nbHZlcigpOwogICAgICAgIExpc3Q8UGVyc2lzdGVuY2VQcm92aWRlcj4gcHJv\ndmlkZXJzID0gcmVzb2x2ZXIuZ2V0UGVyc2lzdGVuY2VQcm92aWRlcnMoKTsK\nICAgICAgICBhc3NlcnROb3ROdWxsKHByb3ZpZGVycyk7CiAgICAgICAgcmVz\nb2x2ZXIuY2xlYXJDYWNoZWRQcm92aWRlcnMoKTsKICAgICAgICAKICAgICAg\nICBMaXN0PFN0cmluZz4gcHJvdmlkZXJOYW1lcyA9IG5ldyBMaW5rZWRMaXN0\nPFN0cmluZz4oKTsKICAgICAgICBwcm92aWRlck5hbWVzLmFkZChvcGVuanBh\nUHJvdmlkZXIpOwogICAgICAgIGNoZWNrUHJvdmlkZXJzKHByb3ZpZGVyTmFt\nZXMpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9uRGVmYXVs\ndFJlc29sdmVyKCkgewogICAgICAgIFBlcnNpc3RlbmNlUHJvdmlkZXJSZXNv\nbHZlciBvcmlnaW5hbFJlc29sdmVyID0KICAgICAgICAgICAgUGVyc2lzdGVu\nY2VQcm92aWRlclJlc29sdmVySG9sZGVyLmdldFBlcnNpc3RlbmNlUHJvdmlk\nZXJSZXNvbHZlcigpOwogICAgICAgIFBlcnNpc3RlbmNlUHJvdmlkZXJSZXNv\nbHZlckhvbGRlci5zZXRQZXJzaXN0ZW5jZVByb3ZpZGVyUmVzb2x2ZXIoZHVt\nbXlSZXNvbHZlcik7CiAgICAgICAgUGVyc2lzdGVuY2VQcm92aWRlclJlc29s\ndmVyIHJldHJpZXZlZFJlc29sdmVyID0gCiAgICAgICAgICAgIFBlcnNpc3Rl\nbmNlUHJvdmlkZXJSZXNvbHZlckhvbGRlci5nZXRQZXJzaXN0ZW5jZVByb3Zp\nZGVyUmVzb2x2ZXIoKTsKICAgICAgICBhc3NlcnRUcnVlKHJldHJpZXZlZFJl\nc29sdmVyIGluc3RhbmNlb2YgRHVtbXlQZXJzaXN0ZW5jZVByb3ZpZGVyUmVz\nb2x2ZXIpOwogICAgICAgIAogICAgICAgIFBlcnNpc3RlbmNlUHJvdmlkZXJS\nZXNvbHZlckhvbGRlci5zZXRQZXJzaXN0ZW5jZVByb3ZpZGVyUmVzb2x2ZXIo\nb3JpZ2luYWxSZXNvbHZlcik7CiAgICB9CiAgICAKICAgIAogICAgcHJpdmF0\nZSB2b2lkIGRlbGV0ZVRhcmdldEphcnMoKSB7CiAgICAgICAgaWYgKHRhcmdl\ndEphcjEuZXhpc3RzKCkpIHsKICAgICAgICAgICAgdGFyZ2V0SmFyMS5kZWxl\ndGUoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRhcmdldEphcjIuZXhpc3Rz\nKCkpIHsKICAgICAgICAgICAgdGFyZ2V0SmFyMi5kZWxldGUoKTsKICAgICAg\nICB9CiAgICB9CiAgICAKICAgIHByaXZhdGUgdm9pZCBidWlsZEZpbGUoU3Ry\naW5nIGRpciwgU3RyaW5nW10gY29udGVudHMpIHRocm93cyBFeGNlcHRpb24g\newogICAgICAgIEZpbGUgc2VydmljZXNEaXIgPSBuZXcgRmlsZShjdXJyZW50\nRGlyICsgRmlsZS5zZXBhcmF0b3IgKyAidGFyZ2V0IiArIEZpbGUuc2VwYXJh\ndG9yCiAgICAgICAgICAgICsgInRlc3QtY2xhc3NlcyIgKyBGaWxlLnNlcGFy\nYXRvciArIGRpciArIEZpbGUuc2VwYXJhdG9yICsgIk1FVEEtSU5GIiArIEZp\nbGUuc2VwYXJhdG9yCiAgICAgICAgICAgICsgInNlcnZpY2VzIik7CiAgICAg\nICAgc2VydmljZXNEaXIubWtkaXJzKCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShz\nZXJ2aWNlc0Rpci5leGlzdHMoKSk7CiAgICAgICAgcGVyc2lzdGVuY2VQcm92\naWRlckZpbGUgPSBuZXcgRmlsZShzZXJ2aWNlc0RpciwgImphdmF4LnBlcnNp\nc3RlbmNlLnNwaS5QZXJzaXN0ZW5jZVByb3ZpZGVyIik7CiAgICAgICAgaWYg\nKHBlcnNpc3RlbmNlUHJvdmlkZXJGaWxlLmV4aXN0cygpKSB7CiAgICAgICAg\nICAgIHBlcnNpc3RlbmNlUHJvdmlkZXJGaWxlLmRlbGV0ZSgpOwogICAgICAg\nIH0KICAgICAgICB0cnkgewogICAgICAgICAgICBwZXJzaXN0ZW5jZVByb3Zp\nZGVyRmlsZS5jcmVhdGVOZXdGaWxlKCk7CiAgICAgICAgICAgIEJ1ZmZlcmVk\nV3JpdGVyIGJ3ID0gbmV3IEJ1ZmZlcmVkV3JpdGVyKG5ldyBGaWxlV3JpdGVy\nKHBlcnNpc3RlbmNlUHJvdmlkZXJGaWxlKSk7CiAgICAgICAgICAgIGZvciAo\nU3RyaW5nIGxpbmUgOiBjb250ZW50cykgewogICAgICAgICAgICAgICAgYncu\nd3JpdGUobGluZSk7CiAgICAgICAgICAgICAgICBidy5uZXdMaW5lKCk7CiAg\nICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGJ3LmZsdXNo\nKCk7CiAgICAgICAgICAgIGJ3LmNsb3NlKCk7CiAgICAgICAgfSBjYXRjaCAo\nSU9FeGNlcHRpb24gZSkgewogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50\nbG4oIlByb2JsZW0gd3JpdGluZyB0byBmaWxlOiAiICsgcGVyc2lzdGVuY2VQ\ncm92aWRlckZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpOwogICAgICAgICAgICB0\naHJvdyBlOwogICAgICAgIH0KICAgICAgICBhc3NlcnRUcnVlKHBlcnNpc3Rl\nbmNlUHJvdmlkZXJGaWxlLmV4aXN0cygpKTsKICAgIH0KICAgIAogICAgCiAg\nICBwcml2YXRlIHZvaWQgYnVpbGRUYXJnZXRKYXIoRmlsZSB0YXJnZXRKYXIp\nIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIEphck91dHB1dFN0cmVhbSBv\ndXQgPSBuZXcgSmFyT3V0cHV0U3RyZWFtKAogICAgICAgICAgICBuZXcgQnVm\nZmVyZWRPdXRwdXRTdHJlYW0obmV3IEZpbGVPdXRwdXRTdHJlYW0odGFyZ2V0\nSmFyKSkpOwogICAgICAgIAogICAgICAgIEJ1ZmZlcmVkSW5wdXRTdHJlYW0g\naW4gPSAKICAgICAgICAgICAgbmV3IEJ1ZmZlcmVkSW5wdXRTdHJlYW0obmV3\nIEZpbGVJbnB1dFN0cmVhbShwZXJzaXN0ZW5jZVByb3ZpZGVyRmlsZSkpOwoK\nICAgICAgICBvdXQucHV0TmV4dEVudHJ5KG5ldyBKYXJFbnRyeSgiTUVUQS1J\nTkYvIikpOwogICAgICAgIG91dC5wdXROZXh0RW50cnkobmV3IEphckVudHJ5\nKCJNRVRBLUlORi9zZXJ2aWNlcy8iKSk7CiAgICAgICAgb3V0LnB1dE5leHRF\nbnRyeShuZXcgSmFyRW50cnkoIk1FVEEtSU5GL3NlcnZpY2VzL2phdmF4LnBl\ncnNpc3RlbmNlLnNwaS5QZXJzaXN0ZW5jZVByb3ZpZGVyIikpOwogICAgICAg\nIC8vd3JpdGUgdGhlIGZpbGUgdG8gdGhlIGphcgogICAgICAgIGJ5dGVbXSBi\ndWYgPSBuZXcgYnl0ZVsxMDI0XTsKICAgICAgICBpbnQgaTsKICAgICAgICB3\naGlsZSAoKGkgPSBpbi5yZWFkKGJ1ZikpICE9IC0xKSB7CiAgICAgICAgICBv\ndXQud3JpdGUoYnVmLCAwLCBpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAg\nICAgb3V0LmNsb3NlKCk7CiAgICAgICAgaW4uY2xvc2UoKTsgICAgICAgIAog\nICAgfQogICAgCiAgICBwcml2YXRlIHZvaWQgY2hlY2tQcm92aWRlcnMoTGlz\ndDxTdHJpbmc+IHByb3ZpZGVyTmFtZXMpIHsKICAgICAgICBQZXJzaXN0ZW5j\nZVByb3ZpZGVyUmVzb2x2ZXIgcmVzb2x2ZXIgPSAKICAgICAgICAgICAgUGVy\nc2lzdGVuY2VQcm92aWRlclJlc29sdmVySG9sZGVyLmdldFBlcnNpc3RlbmNl\nUHJvdmlkZXJSZXNvbHZlcigpOwogICAgICAgIExpc3Q8UGVyc2lzdGVuY2VQ\ncm92aWRlcj4gcHJvdmlkZXJzID0gcmVzb2x2ZXIuZ2V0UGVyc2lzdGVuY2VQ\ncm92aWRlcnMoKTsKICAgICAgICBhc3NlcnROb3ROdWxsKHByb3ZpZGVycyk7\nCiAgICAgICAgYXNzZXJ0RmFsc2UocHJvdmlkZXJzLmlzRW1wdHkoKSk7CiAg\nICAgICAgZm9yIChQZXJzaXN0ZW5jZVByb3ZpZGVyIHByb3ZpZGVyIDogcHJv\ndmlkZXJzKSB7CiAgICAgICAgICAgIFN0cmluZyBwcm92aWRlck5hbWUgPSBw\ncm92aWRlci5nZXRDbGFzcygpLmdldE5hbWUoKTsKICAgICAgICAgICAgaWYg\nKHByb3ZpZGVyTmFtZXMuY29udGFpbnMocHJvdmlkZXJOYW1lKSkgewogICAg\nICAgICAgICAgICAgcHJvdmlkZXJOYW1lcy5yZW1vdmUocHJvdmlkZXJOYW1l\nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBhc3NlcnRUcnVl\nKHByb3ZpZGVyTmFtZXMuaXNFbXB0eSgpKTsKICAgIH0KICAgIAogICAgY2xh\nc3MgVGVtcFVybExvYWRlciBleHRlbmRzIFVSTENsYXNzTG9hZGVyIHsKICAg\nICAgICBwdWJsaWMgVGVtcFVybExvYWRlcihVUkxbXSB1cmxzLCBDbGFzc0xv\nYWRlciBwYXJlbnQpIHsKICAgICAgICAgICAgc3VwZXIodXJscyxwYXJlbnQp\nOwogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

