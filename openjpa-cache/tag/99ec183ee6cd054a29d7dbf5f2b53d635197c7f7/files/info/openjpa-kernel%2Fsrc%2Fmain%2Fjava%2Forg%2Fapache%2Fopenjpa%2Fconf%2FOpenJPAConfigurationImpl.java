{"sha":"db1ea81c5ecde84716325926080d784270d88ed6","node_id":"MDQ6QmxvYjIwNjM2NDpkYjFlYTgxYzVlY2RlODQ3MTYzMjU5MjYwODBkNzg0MjcwZDg4ZWQ2","size":60590,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/db1ea81c5ecde84716325926080d784270d88ed6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Owpp\nbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1v\nbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5kYXRhY2FjaGUuQ2FjaGVEaXN0cmlidXRpb25Qb2xpY3k7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkNvbmN1cnJlbnREYXRhQ2Fj\naGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkNvbmN1\ncnJlbnRRdWVyeUNhY2hlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmRh\ndGFjYWNoZS5EYXRhQ2FjaGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmRhdGFjYWNoZS5EYXRhQ2FjaGVNYW5hZ2VySW1wbDsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5kYXRhY2FjaGUuUGFydGl0aW9uZWREYXRh\nQ2FjaGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZWUuTWFuYWdlZFJ1\nbnRpbWU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5SdW50\naW1lVW5lbmhhbmNlZENsYXNzZXNNb2RlczsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5ldmVudC5Ccm9rZXJGYWN0b3J5RXZlbnRNYW5hZ2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmV2ZW50LkxpZmVjeWNsZUV2ZW50TWFu\nYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5PcnBoYW5l\nZEtleUFjdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5S\nZW1vdGVDb21taXRFdmVudE1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuZXZlbnQuUmVtb3RlQ29tbWl0UHJvdmlkZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkF1dG9DbGVhcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuQnJva2VySW1wbDsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuQ29ubmVjdGlvblJldGFpbk1vZGVzOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5GaW5kZXJDYWNoZTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuSW52ZXJzZU1hbmFn\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tMZXZl\nbHM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tNYW5h\nZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5QcmVwYXJl\nZFF1ZXJ5Q2FjaGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVs\nLlF1ZXJ5Rmx1c2hNb2RlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuUmVzdG9yZVN0YXRlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmtlcm5lbC5TYXZlcG9pbnRNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5TZXE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLmV4cHMuQWdncmVnYXRlTGlzdGVuZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRmlsdGVyTGlzdGVuZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQm9vbGVhblZhbHVlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNvbmZpZ3VyYXRp\nb25JbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNv\nbmZpZ3VyYXRpb25zOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5j\nb25mLkludFZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5j\nb25mLk9iamVjdFZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLlBsdWdpbkxpc3RWYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIuY29uZi5QbHVnaW5WYWx1ZTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIuY29uZi5Qcm9kdWN0RGVyaXZhdGlvbnM7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuU3RyaW5nTGlzdFZhbHVlOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLlN0cmluZ1ZhbHVl\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5lbmNyeXB0aW9uLkVu\nY3J5cHRpb25Qcm92aWRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIubG9nLkxvZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRp\nbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5N\nZXRhRGF0YUZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0\nYS5NZXRhRGF0YVJlcG9zaXRvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEudXRpbC5DbGFzc1Jlc29sdmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnV0aWwuSW1wbEhlbHBlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS51dGlsLlByb3h5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS51dGlsLlN0b3JlRmFjYWRlVHlwZVJlZ2lzdHJ5OwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnZhbGlkYXRpb24uVmFsaWRhdGluZ0xpZmVjeWNsZUV2\nZW50TWFuYWdlcjsKCi8qKgogKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUge0Bs\naW5rIE9wZW5KUEFDb25maWd1cmF0aW9ufSBpbnRlcmZhY2UuCiAqCiAqIEBz\nZWUgQ29uZmlndXJhdGlvbkltcGwKICogQGF1dGhvciBNYXJjIFBydWQnaG9t\nbWVhdXgKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBP\ncGVuSlBBQ29uZmlndXJhdGlvbkltcGwKICAgIGV4dGVuZHMgQ29uZmlndXJh\ndGlvbkltcGwKICAgIGltcGxlbWVudHMgT3BlbkpQQUNvbmZpZ3VyYXRpb24g\newoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0g\nTG9jYWxpemVyLmZvclBhY2thZ2UoT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBs\nLmNsYXNzKTsKCiAgICAvLyBjYWNoZWQgc3RhdGU7IHNvbWUgb2YgdGhpcyBp\ncyBjcmVhdGVkIGluIGdldHRlciBtZXRob2RzLCBzbyBtYWtlCiAgICAvLyBw\ncm90ZWN0ZWQgaW4gY2FzZSBzdWJjbGFzc2VzIHdhbnQgdG8gYWNjZXNzIHdp\ndGhvdXQgY3JlYXRpbmcKICAgIHByb3RlY3RlZCBNZXRhRGF0YVJlcG9zaXRv\ncnkgbWV0YVJlcG9zaXRvcnkgPSBudWxsOwogICAgcHJvdGVjdGVkIFJlbW90\nZUNvbW1pdEV2ZW50TWFuYWdlciByZW1vdGVFdmVudE1hbmFnZXIgPSBudWxs\nOwoKICAgIC8vIG9wZW5qcGEgcHJvcGVydGllcwogICAgcHVibGljIE9iamVj\ndFZhbHVlIGNsYXNzUmVzb2x2ZXJQbHVnaW47CiAgICBwdWJsaWMgQnJva2Vy\nVmFsdWUgYnJva2VyUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGRh\ndGFDYWNoZVBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBkYXRhQ2Fj\naGVNYW5hZ2VyUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNhY2hl\nRGlzdHJpYnV0aW9uUG9saWN5UGx1Z2luOwogICAgcHVibGljIEludFZhbHVl\nIGRhdGFDYWNoZVRpbWVvdXQ7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgcXVl\ncnlDYWNoZVBsdWdpbjsKICAgIHB1YmxpYyBCb29sZWFuVmFsdWUgZHluYW1p\nY0RhdGFTdHJ1Y3RzOwogICAgcHVibGljIE9iamVjdFZhbHVlIG1hbmFnZWRS\ndW50aW1lUGx1Z2luOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSB0cmFuc2Fj\ndGlvbk1vZGU7CiAgICBwdWJsaWMgSW50VmFsdWUgY29ubmVjdGlvblJldGFp\nbk1vZGU7CiAgICBwdWJsaWMgSW50VmFsdWUgZmV0Y2hCYXRjaFNpemU7CiAg\nICBwdWJsaWMgSW50VmFsdWUgbWF4RmV0Y2hEZXB0aDsKICAgIHB1YmxpYyBT\ndHJpbmdMaXN0VmFsdWUgZmV0Y2hHcm91cHM7CiAgICBwdWJsaWMgSW50VmFs\ndWUgZmx1c2hCZWZvcmVRdWVyaWVzOwogICAgcHVibGljIEludFZhbHVlIGxv\nY2tUaW1lb3V0OwogICAgcHVibGljIEludFZhbHVlIHF1ZXJ5VGltZW91dDsK\nICAgIHB1YmxpYyBJbnRWYWx1ZSByZWFkTG9ja0xldmVsOwogICAgcHVibGlj\nIEludFZhbHVlIHdyaXRlTG9ja0xldmVsOwogICAgcHVibGljIE9iamVjdFZh\nbHVlIHNlcVBsdWdpbjsKICAgIHB1YmxpYyBQbHVnaW5MaXN0VmFsdWUgZmls\ndGVyTGlzdGVuZXJQbHVnaW5zOwogICAgcHVibGljIFBsdWdpbkxpc3RWYWx1\nZSBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnM7CiAgICBwdWJsaWMgQm9vbGVh\nblZhbHVlIHJldHJ5Q2xhc3NSZWdpc3RyYXRpb247CiAgICBwdWJsaWMgT2Jq\nZWN0VmFsdWUgcHJveHlNYW5hZ2VyUGx1Z2luOwogICAgcHVibGljIFN0cmlu\nZ1ZhbHVlIGNvbm5lY3Rpb25Vc2VyTmFtZTsKICAgIHB1YmxpYyBTdHJpbmdW\nYWx1ZSBjb25uZWN0aW9uUGFzc3dvcmQ7CiAgICBwdWJsaWMgUGx1Z2luVmFs\ndWUgZW5jcnlwdGlvblByb3ZpZGVyOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb25VUkw7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbkRyaXZlck5hbWU7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgY29ubmVj\ndGlvbkZhY3Rvcnk7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVjdGlv\nbkZhY3RvcnlOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25Qcm9wZXJ0aWVzOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25GYWN0b3J5UHJvcGVydGllczsKICAgIHB1YmxpYyBCb29sZWFuVmFsdWUg\nY29ubmVjdGlvbkZhY3RvcnlNb2RlOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb24yVXNlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUg\nY29ubmVjdGlvbjJQYXNzd29yZDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBj\nb25uZWN0aW9uMlVSTDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uMkRyaXZlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbjJQcm9wZXJ0aWVzOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MjsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uRmFjdG9yeTJOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MlByb3BlcnRpZXM7CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIG9wdGltaXN0aWM7CiAgICBwdWJsaWMgSW50VmFsdWUgYXV0b0NsZWFy\nOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSByZXRhaW5TdGF0ZTsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSByZXN0b3JlU3RhdGU7CiAgICBwdWJsaWMgT2JqZWN0\nVmFsdWUgZGV0YWNoU3RhdGVQbHVnaW47CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIGlnbm9yZUNoYW5nZXM7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIG5v\nbnRyYW5zYWN0aW9uYWxSZWFkOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSBu\nb250cmFuc2FjdGlvbmFsV3JpdGU7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVl\nIHJlZnJlc2hGcm9tRGF0YUNhY2hlOwogICAgcHVibGljIEJvb2xlYW5WYWx1\nZSBtdWx0aXRocmVhZGVkOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIG1hcHBp\nbmc7CiAgICBwdWJsaWMgUGx1Z2luVmFsdWUgbWV0YUZhY3RvcnlQbHVnaW47\nCiAgICBwdWJsaWMgTWV0YURhdGFSZXBvc2l0b3J5VmFsdWUgbWV0YVJlcG9z\naXRvcnlQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgbG9ja01hbmFn\nZXJQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgaW52ZXJzZU1hbmFn\nZXJQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgc2F2ZXBvaW50TWFu\nYWdlclBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBvcnBoYW5lZEtl\neVBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBjb21wYXRpYmlsaXR5\nUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNhbGxiYWNrUGx1Z2lu\nOwogICAgcHVibGljIFF1ZXJ5Q29tcGlsYXRpb25DYWNoZVZhbHVlIHF1ZXJ5\nQ29tcGlsYXRpb25DYWNoZVBsdWdpbjsKICAgIHB1YmxpYyBJbnRWYWx1ZSBy\ndW50aW1lVW5lbmhhbmNlZENsYXNzZXM7CiAgICBwdWJsaWMgQ2FjaGVNYXJz\naGFsbGVyc1ZhbHVlIGNhY2hlTWFyc2hhbGxlclBsdWdpbnM7CiAgICBwdWJs\naWMgQm9vbGVhblZhbHVlIGVhZ2VySW5pdGlhbGl6YXRpb247CiAgICBwdWJs\naWMgUGx1Z2luVmFsdWUgcHJlcGFyZWRRdWVyeUNhY2hlUGx1Z2luOwogICAg\ncHVibGljIFBsdWdpblZhbHVlIGZpbmRlckNhY2hlUGx1Z2luOwogICAgcHVi\nbGljIE9iamVjdFZhbHVlIHNwZWNpZmljYXRpb247CiAgICBwdWJsaWMgU3Ry\naW5nVmFsdWUgdmFsaWRhdGlvbk1vZGU7CiAgICBwdWJsaWMgT2JqZWN0VmFs\ndWUgdmFsaWRhdGlvbkZhY3Rvcnk7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUg\ndmFsaWRhdG9yOwogICAgcHVibGljIE9iamVjdFZhbHVlIGxpZmVjeWNsZUV2\nZW50TWFuYWdlcjsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSB2YWxpZGF0aW9u\nR3JvdXBQcmVQZXJzaXN0OwogICAgcHVibGljIFN0cmluZ1ZhbHVlIHZhbGlk\nYXRpb25Hcm91cFByZVVwZGF0ZTsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSB2\nYWxpZGF0aW9uR3JvdXBQcmVSZW1vdmU7CiAgICBwdWJsaWMgT2JqZWN0VmFs\ndWUgd3JpdGVCZWhpbmRDYWNoZVBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RW\nYWx1ZSB3cml0ZUJlaGluZENhY2hlTWFuYWdlclBsdWdpbjsKICAgIHB1Ymxp\nYyBPYmplY3RWYWx1ZSB3cml0ZUJlaGluZENhbGxiYWNrUGx1Z2luOwogICAg\ncHVibGljIFN0cmluZ1ZhbHVlIGRhdGFDYWNoZU1vZGU7IAogICAgcHVibGlj\nIEJvb2xlYW5WYWx1ZSBkeW5hbWljRW5oYW5jZW1lbnRBZ2VudDsKICAgIAog\nICAgLy8gY3VzdG9tIHZhbHVlcwogICAgcHVibGljIEJyb2tlckZhY3RvcnlW\nYWx1ZSBicm9rZXJGYWN0b3J5UGx1Z2luOwogICAgcHVibGljIFJlbW90ZUNv\nbW1pdFByb3ZpZGVyVmFsdWUgcmVtb3RlUHJvdmlkZXJQbHVnaW47CiAgICBw\ndWJsaWMgQXV0b0RldGFjaFZhbHVlIGF1dG9EZXRhY2g7CgogICAgcHJpdmF0\nZSBDb2xsZWN0aW9uPFN0cmluZz4gc3VwcG9ydGVkT3B0aW9ucyA9IG5ldyBI\nYXNoU2V0PFN0cmluZz4oMzMpOwogICAgcHJpdmF0ZSBmaW5hbCBTdG9yZUZh\nY2FkZVR5cGVSZWdpc3RyeSBfc3RvcmVGYWNhZGVSZWdpc3RyeSA9IG5ldyBT\ndG9yZUZhY2FkZVR5cGVSZWdpc3RyeSgpOwogICAgcHJpdmF0ZSBCcm9rZXJG\nYWN0b3J5RXZlbnRNYW5hZ2VyIF9icm9rZXJGYWN0b3J5RXZlbnRNYW5hZ2Vy\nID0gbmV3IEJyb2tlckZhY3RvcnlFdmVudE1hbmFnZXIodGhpcyk7CiAgICBw\ncml2YXRlIE1hcDxTdHJpbmcsIE9iamVjdD4gX3BlTWFwOyAvL2NvbnRhaW5z\nIHBlcnNpc3RlbmNlIGVudmlyb25tZW50LXNwZWNpZmljIGluZm8gICAgCgog\nICAgLyoqCiAgICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yLiBBdHRlbXB0cyB0\nbyBsb2FkIGdsb2JhbCBwcm9wZXJ0aWVzLgogICAgICovCiAgICBwdWJsaWMg\nT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsKCkgewogICAgICAgIHRoaXModHJ1\nZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3Rvci4KICAgICAq\nCiAgICAgKiBAcGFyYW0gbG9hZEdsb2JhbHMgd2hldGhlciB0byBhdHRlbXB0\nIHRvIGxvYWQgdGhlIGdsb2JhbCBwcm9wZXJ0aWVzCiAgICAgKi8KICAgIHB1\nYmxpYyBPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwoYm9vbGVhbiBsb2FkR2xv\nYmFscykgewogICAgICAgIHRoaXModHJ1ZSwgbG9hZEdsb2JhbHMpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuCiAgICAgKgogICAgICog\nQHBhcmFtIGRlcml2YXRpb25zIHdoZXRoZXIgdG8gYXBwbHkgcHJvZHVjdCBk\nZXJpdmF0aW9ucwogICAgICogQHBhcmFtIGxvYWRHbG9iYWxzIHdoZXRoZXIg\ndG8gYXR0ZW1wdCB0byBsb2FkIHRoZSBnbG9iYWwgcHJvcGVydGllcwogICAg\nICovCiAgICBwdWJsaWMgT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsKGJvb2xl\nYW4gZGVyaXZhdGlvbnMsIGJvb2xlYW4gbG9hZEdsb2JhbHMpIHsKICAgICAg\nICBzdXBlcihmYWxzZSk7CiAgICAgICAgU3RyaW5nW10gYWxpYXNlczsKCiAg\nICAgICAgY2xhc3NSZXNvbHZlclBsdWdpbiA9IGFkZFBsdWdpbigiQ2xhc3NS\nZXNvbHZlciIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5n\nW10geyAKICAgICAgICAgICAgICAgICJkZWZhdWx0IiwgIm9yZy5hcGFjaGUu\nb3BlbmpwYS51dGlsLkNsYXNzUmVzb2x2ZXJJbXBsIiwKICAgICAgICAgICAg\nICAgIC8vIGRlcHJlY2F0ZWQgYWxpYXMKICAgICAgICAgICAgICAgICJzcGVj\nIiwgIm9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkNsYXNzUmVzb2x2ZXJJbXBs\nIiwgfTsKICAgICAgICBjbGFzc1Jlc29sdmVyUGx1Z2luLnNldEFsaWFzZXMo\nYWxpYXNlcyk7CiAgICAgICAgY2xhc3NSZXNvbHZlclBsdWdpbi5zZXREZWZh\ndWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGNsYXNzUmVzb2x2ZXJQbHVnaW4u\nc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIGNsYXNzUmVzb2x2ZXJQ\nbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0Q2xhc3NSZXNvbHZl\nckluc3RhbmNlIik7CgogICAgICAgIGJyb2tlckZhY3RvcnlQbHVnaW4gPSBu\nZXcgQnJva2VyRmFjdG9yeVZhbHVlKCk7CiAgICAgICAgYWRkVmFsdWUoYnJv\na2VyRmFjdG9yeVBsdWdpbik7CgogICAgICAgIGJyb2tlclBsdWdpbiA9IG5l\ndyBCcm9rZXJWYWx1ZSgpOwogICAgICAgIGFkZFZhbHVlKGJyb2tlclBsdWdp\nbik7CgogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4gPSBhZGRQbHVn\naW4oIkRhdGFDYWNoZU1hbmFnZXIiLCB0cnVlKTsKICAgICAgICBhbGlhc2Vz\nID0KICAgICAgICAgICAgbmV3IFN0cmluZ1tdIHsgImRlZmF1bHQiLCBEYXRh\nQ2FjaGVNYW5hZ2VySW1wbC5jbGFzcy5nZXROYW1lKCksIH07CiAgICAgICAg\nZGF0YUNhY2hlTWFuYWdlclBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwog\nICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlh\nc2VzWzBdKTsKICAgICAgICBkYXRhQ2FjaGVNYW5hZ2VyUGx1Z2luLnNldFN0\ncmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBkYXRhQ2FjaGVNYW5hZ2VyUGx1\nZ2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldERhdGFDYWNoZU1hbmFn\nZXIiKTsKCiAgICAgICAgY2FjaGVEaXN0cmlidXRpb25Qb2xpY3lQbHVnaW4g\nPSBhZGRQbHVnaW4oIkNhY2hlRGlzdHJpYnV0aW9uUG9saWN5IiwgdHJ1ZSk7\nCiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7CiAgICAgICAgICAg\nICAgICAiZGVmYXVsdCIsICAgICJvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNh\nY2hlLkRlZmF1bHRDYWNoZURpc3RyaWJ1dGlvblBvbGljeSIsCiAgICAgICAg\nICAgICAgICAidHlwZS1iYXNlZCIsICJvcmcuYXBhY2hlLm9wZW5qcGEuZGF0\nYWNhY2hlLlR5cGVCYXNlZENhY2hlRGlzdHJpYnV0aW9uUG9saWN5In07CiAg\nICAgICAgY2FjaGVEaXN0cmlidXRpb25Qb2xpY3lQbHVnaW4uc2V0QWxpYXNl\ncyhhbGlhc2VzKTsKICAgICAgICBjYWNoZURpc3RyaWJ1dGlvblBvbGljeVBs\ndWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGNhY2hlRGlz\ndHJpYnV0aW9uUG9saWN5UGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsK\nICAgICAgICBjYWNoZURpc3RyaWJ1dGlvblBvbGljeVBsdWdpbi5zZXRJbnN0\nYW50aWF0aW5nR2V0dGVyKCJnZXRDYWNoZURpc3RyaWJ1dGlvblBvbGljeSIp\nOwogICAgICAgIAogICAgICAgIGRhdGFDYWNoZVBsdWdpbiA9IGFkZFBsdWdp\nbigiRGF0YUNhY2hlIiwgZmFsc2UpOwogICAgICAgIGFsaWFzZXMgPSBuZXcg\nU3RyaW5nW10geyAKICAgICAgICAgICAgImZhbHNlIiwgbnVsbCwgCiAgICAg\nICAgICAgICJ0cnVlIiwgQ29uY3VycmVudERhdGFDYWNoZS5jbGFzcy5nZXRO\nYW1lKCksIAogICAgICAgICAgICAiY29uY3VycmVudCIsIENvbmN1cnJlbnRE\nYXRhQ2FjaGUuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICAicGFydGl0\naW9uZWQiLCBQYXJ0aXRpb25lZERhdGFDYWNoZS5jbGFzcy5nZXROYW1lKCks\nCiAgICAgICAgfTsKICAgICAgICBkYXRhQ2FjaGVQbHVnaW4uc2V0QWxpYXNl\ncyhhbGlhc2VzKTsKICAgICAgICBkYXRhQ2FjaGVQbHVnaW4uc2V0RGVmYXVs\ndChhbGlhc2VzWzBdKTsKICAgICAgICBkYXRhQ2FjaGVQbHVnaW4uc2V0U3Ry\naW5nKGFsaWFzZXNbMF0pOwoKICAgICAgICBkYXRhQ2FjaGVUaW1lb3V0ID0g\nYWRkSW50KCJEYXRhQ2FjaGVUaW1lb3V0Iik7CiAgICAgICAgZGF0YUNhY2hl\nVGltZW91dC5zZXREZWZhdWx0KCItMSIpOwogICAgICAgIGRhdGFDYWNoZVRp\nbWVvdXQuc2V0KC0xKTsKICAgICAgICBkYXRhQ2FjaGVUaW1lb3V0LnNldER5\nbmFtaWModHJ1ZSk7CgogICAgICAgIHF1ZXJ5Q2FjaGVQbHVnaW4gPSBhZGRQ\nbHVnaW4oIlF1ZXJ5Q2FjaGUiLCBmYWxzZSk7CiAgICAgICAgYWxpYXNlcyA9\nIG5ldyBTdHJpbmdbXSB7IAogICAgICAgICAgICAiZmFsc2UiLCBudWxsLCAK\nICAgICAgICAgICAgInRydWUiLCBDb25jdXJyZW50UXVlcnlDYWNoZS5jbGFz\ncy5nZXROYW1lKCksCiAgICAgICAgICAgICJjb25jdXJyZW50IiwgQ29uY3Vy\ncmVudFF1ZXJ5Q2FjaGUuY2xhc3MuZ2V0TmFtZSgpLCAKICAgICAgICB9Owog\nICAgICAgIHF1ZXJ5Q2FjaGVQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsK\nICAgICAgICBxdWVyeUNhY2hlUGx1Z2luLnNldERlZmF1bHQoYWxpYXNlc1sw\nXSk7CiAgICAgICAgcXVlcnlDYWNoZVBsdWdpbi5zZXRTdHJpbmcoYWxpYXNl\nc1swXSk7CiAgICAgICAgCiAgICAgICAgcmVmcmVzaEZyb21EYXRhQ2FjaGUg\nPSBhZGRCb29sZWFuKCJSZWZyZXNoRnJvbURhdGFDYWNoZSIpOwogICAgICAg\nIHJlZnJlc2hGcm9tRGF0YUNhY2hlLnNldERlZmF1bHQoImZhbHNlIik7CiAg\nICAgICAgcmVmcmVzaEZyb21EYXRhQ2FjaGUuc2V0KGZhbHNlKTsKICAgICAg\nICByZWZyZXNoRnJvbURhdGFDYWNoZS5zZXREeW5hbWljKHRydWUpOwogICAg\nICAgIAogICAgICAgIGR5bmFtaWNEYXRhU3RydWN0cyA9IGFkZEJvb2xlYW4o\nIkR5bmFtaWNEYXRhU3RydWN0cyIpOwogICAgICAgIGR5bmFtaWNEYXRhU3Ry\ndWN0cy5zZXREZWZhdWx0KCJmYWxzZSIpOwogICAgICAgIGR5bmFtaWNEYXRh\nU3RydWN0cy5zZXQoZmFsc2UpOwoKICAgICAgICBsb2NrTWFuYWdlclBsdWdp\nbiA9IGFkZFBsdWdpbigiTG9ja01hbmFnZXIiLCBmYWxzZSk7CiAgICAgICAg\nYWxpYXNlcyA9CiAgICAgICAgICAgIG5ldyBTdHJpbmdbXSB7IAogICAgICAg\nICAgICAgICAgIm5vbmUiLCAib3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5O\nb25lTG9ja01hbmFnZXIiLAogICAgICAgICAgICAgICAgInZlcnNpb24iLCAi\nb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5WZXJzaW9uTG9ja01hbmFnZXIi\nLCB9OwogICAgICAgIGxvY2tNYW5hZ2VyUGx1Z2luLnNldEFsaWFzZXMoYWxp\nYXNlcyk7CiAgICAgICAgbG9ja01hbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChh\nbGlhc2VzWzBdKTsKICAgICAgICBsb2NrTWFuYWdlclBsdWdpbi5zZXRTdHJp\nbmcoYWxpYXNlc1swXSk7CgogICAgICAgIGludmVyc2VNYW5hZ2VyUGx1Z2lu\nID0gYWRkUGx1Z2luKCJJbnZlcnNlTWFuYWdlciIsIGZhbHNlKTsKICAgICAg\nICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsgCiAgICAgICAgICAgICAgICAi\nZmFsc2UiLCBudWxsLCAKICAgICAgICAgICAgICAgICJ0cnVlIiwgICJvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkludmVyc2VNYW5hZ2VyIiwgfTsKICAg\nICAgICBpbnZlcnNlTWFuYWdlclBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMp\nOwogICAgICAgIGludmVyc2VNYW5hZ2VyUGx1Z2luLnNldERlZmF1bHQoYWxp\nYXNlc1swXSk7CiAgICAgICAgaW52ZXJzZU1hbmFnZXJQbHVnaW4uc2V0U3Ry\naW5nKGFsaWFzZXNbMF0pOwoKICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1\nZ2luID0gYWRkUGx1Z2luKCJTYXZlcG9pbnRNYW5hZ2VyIiwgdHJ1ZSk7CiAg\nICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7IAogICAgICAgICAgICAg\nICAgImluLW1lbSIsICJvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkluTWVt\nb3J5U2F2ZXBvaW50TWFuYWdlciIsIH07CiAgICAgICAgc2F2ZXBvaW50TWFu\nYWdlclBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHNhdmVw\nb2ludE1hbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAg\nICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhhbGlhc2Vz\nWzBdKTsKICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLnNldEluc3Rh\nbnRpYXRpbmdHZXR0ZXIoImdldFNhdmVwb2ludE1hbmFnZXJJbnN0YW5jZSIp\nOwoKICAgICAgICBvcnBoYW5lZEtleVBsdWdpbiA9IGFkZFBsdWdpbigiT3Jw\naGFuZWRLZXlBY3Rpb24iLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3\nIFN0cmluZ1tdIHsgCiAgICAgICAgICAgICAgICAibG9nIiwgICAgICAgIm9y\nZy5hcGFjaGUub3BlbmpwYS5ldmVudC5Mb2dPcnBoYW5lZEtleUFjdGlvbiIs\nIAogICAgICAgICAgICAgICAgImV4Y2VwdGlvbiIsICJvcmcuYXBhY2hlLm9w\nZW5qcGEuZXZlbnQuRXhjZXB0aW9uT3JwaGFuZWRLZXlBY3Rpb24iLCAKICAg\nICAgICAgICAgICAgICJub25lIiwgICAgICAib3JnLmFwYWNoZS5vcGVuanBh\nLmV2ZW50Lk5vbmVPcnBoYW5lZEtleUFjdGlvbiIsIH07CiAgICAgICAgb3Jw\naGFuZWRLZXlQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBv\ncnBoYW5lZEtleVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAg\nICAgIG9ycGhhbmVkS2V5UGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsK\nICAgICAgICBvcnBoYW5lZEtleVBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0\ndGVyKCJnZXRPcnBoYW5lZEtleUFjdGlvbkluc3RhbmNlIik7CgogICAgICAg\nIHJlbW90ZVByb3ZpZGVyUGx1Z2luID0gbmV3IFJlbW90ZUNvbW1pdFByb3Zp\nZGVyVmFsdWUoKTsKICAgICAgICBhZGRWYWx1ZShyZW1vdGVQcm92aWRlclBs\ndWdpbik7CgogICAgICAgIHRyYW5zYWN0aW9uTW9kZSA9IGFkZEJvb2xlYW4o\nIlRyYW5zYWN0aW9uTW9kZSIpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3Ry\naW5nW10geyAibG9jYWwiLCAiZmFsc2UiLCAibWFuYWdlZCIsICJ0cnVlIiwg\nfTsKICAgICAgICB0cmFuc2FjdGlvbk1vZGUuc2V0QWxpYXNlcyhhbGlhc2Vz\nKTsKICAgICAgICB0cmFuc2FjdGlvbk1vZGUuc2V0RGVmYXVsdChhbGlhc2Vz\nWzBdKTsKCiAgICAgICAgbWFuYWdlZFJ1bnRpbWVQbHVnaW4gPSBhZGRQbHVn\naW4oIk1hbmFnZWRSdW50aW1lIiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9\nIG5ldyBTdHJpbmdbXSB7IAogICAgICAgICAgICAgICAgImF1dG8iLCAgICAg\nICAib3JnLmFwYWNoZS5vcGVuanBhLmVlLkF1dG9tYXRpY01hbmFnZWRSdW50\naW1lIiwgCiAgICAgICAgICAgICAgICAiam5kaSIsICAgICAgICJvcmcuYXBh\nY2hlLm9wZW5qcGEuZWUuSk5ESU1hbmFnZWRSdW50aW1lIiwgCiAgICAgICAg\nICAgICAgICAiaW52b2NhdGlvbiIsICJvcmcuYXBhY2hlLm9wZW5qcGEuZWUu\nSW52b2NhdGlvbk1hbmFnZWRSdW50aW1lIiwgfTsKICAgICAgICBtYW5hZ2Vk\nUnVudGltZVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIG1h\nbmFnZWRSdW50aW1lUGx1Z2luLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAg\nICAgICAgbWFuYWdlZFJ1bnRpbWVQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNb\nMF0pOwogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luCiAgICAgICAgICAg\nIC5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRNYW5hZ2VkUnVudGltZUlu\nc3RhbmNlIik7CgogICAgICAgIHByb3h5TWFuYWdlclBsdWdpbiA9IGFkZFBs\ndWdpbigiUHJveHlNYW5hZ2VyIiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9\nIG5ldyBTdHJpbmdbXSB7IAogICAgICAgICAgICAgICAgImRlZmF1bHQiLCAi\nb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuUHJveHlNYW5hZ2VySW1wbCIgfTsK\nICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2Vz\nKTsKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlh\nc2VzWzBdKTsKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uc2V0U3RyaW5n\nKGFsaWFzZXNbMF0pOwogICAgICAgIHByb3h5TWFuYWdlclBsdWdpbi5zZXRJ\nbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRQcm94eU1hbmFnZXJJbnN0YW5jZSIp\nOwoKICAgICAgICBtYXBwaW5nID0gYWRkU3RyaW5nKCJNYXBwaW5nIik7CiAg\nICAgICAgbWV0YUZhY3RvcnlQbHVnaW4gPSBhZGRQbHVnaW4oIk1ldGFEYXRh\nRmFjdG9yeSIsIGZhbHNlKTsKCiAgICAgICAgbWV0YVJlcG9zaXRvcnlQbHVn\naW4gPSAoTWV0YURhdGFSZXBvc2l0b3J5VmFsdWUpIGFkZFZhbHVlKG5ldyBN\nZXRhRGF0YVJlcG9zaXRvcnlWYWx1ZSgpKTsKCiAgICAgICAgY29ubmVjdGlv\nbkZhY3RvcnkgPSBhZGRPYmplY3QoIkNvbm5lY3Rpb25GYWN0b3J5Iik7CiAg\nICAgICAgY29ubmVjdGlvbkZhY3Rvcnkuc2V0SW5zdGFudGlhdGluZ0dldHRl\ncigiZ2V0Q29ubmVjdGlvbkZhY3RvcnkiKTsKCiAgICAgICAgY29ubmVjdGlv\nbkZhY3RvcnkyID0gYWRkT2JqZWN0KCJDb25uZWN0aW9uRmFjdG9yeTIiKTsK\nICAgICAgICBjb25uZWN0aW9uRmFjdG9yeTIuc2V0SW5zdGFudGlhdGluZ0dl\ndHRlcigiZ2V0Q29ubmVjdGlvbkZhY3RvcnkyIik7CiAgICAgICAgLy8gVGhp\ncyBpcyBkb25lIGJlY2F1c2UgdGhpcyBwbHVnLWluIG1heSBnZXQgaW5pdGlh\nbGl6ZWQgdmVyeSBsYXppbHkKICAgICAgICAvLyB3aGVuIHRoZSBydW50aW1l\nIG5lZWRzIGl0IGZvciBmbHVzaCBvciBhIHNlcXVlbmNlLiBUbyBrZWVwIGl0\nCiAgICAgICAgLy8gZHluYW1pYyBhbGxvd3MgaXQgdG8gYmUgc2V0IGV2ZW4g\nd2hlbiB0aGUgY29uZmlndXJhdGlvbiBpcyBmcm96ZW4KICAgICAgICBjb25u\nZWN0aW9uRmFjdG9yeS5zZXREeW5hbWljKHRydWUpOwogICAgICAgIGNvbm5l\nY3Rpb25GYWN0b3J5Mi5zZXREeW5hbWljKHRydWUpOwoKCiAgICAgICAgY29u\nbmVjdGlvblVzZXJOYW1lID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uVXNlck5h\nbWUiKTsKICAgICAgICBjb25uZWN0aW9uVXNlck5hbWUuYWRkRXF1aXZhbGVu\ndEtleSgiamF2YXgucGVyc2lzdGVuY2UuamRiYy51c2VyIik7CiAgICAgICAg\nCiAgICAgICAgY29ubmVjdGlvblBhc3N3b3JkID0gYWRkU3RyaW5nKCJDb25u\nZWN0aW9uUGFzc3dvcmQiKTsKICAgICAgICBjb25uZWN0aW9uUGFzc3dvcmQu\nYWRkRXF1aXZhbGVudEtleSgiamF2YXgucGVyc2lzdGVuY2UuamRiYy5wYXNz\nd29yZCIpOwogICAgICAgIGNvbm5lY3Rpb25QYXNzd29yZC5oaWRlKCk7CiAg\nICAgICAgCiAgICAgICAgZW5jcnlwdGlvblByb3ZpZGVyID0gYWRkUGx1Z2lu\nKCJFbmNyeXB0aW9uUHJvdmlkZXIiLHRydWUpOwoKICAgICAgICBjb25uZWN0\naW9uVVJMID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uVVJMIik7CiAgICAgICAg\nY29ubmVjdGlvblVSTC5hZGRFcXVpdmFsZW50S2V5KCJqYXZheC5wZXJzaXN0\nZW5jZS5qZGJjLnVybCIpOwogICAgICAgIAogICAgICAgIGNvbm5lY3Rpb25E\ncml2ZXJOYW1lID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uRHJpdmVyTmFtZSIp\nOwogICAgICAgIGNvbm5lY3Rpb25Ecml2ZXJOYW1lLmFkZEVxdWl2YWxlbnRL\nZXkoImphdmF4LnBlcnNpc3RlbmNlLmpkYmMuZHJpdmVyIik7CiAgICAgICAg\nCiAgICAgICAgY29ubmVjdGlvbkZhY3RvcnlOYW1lID0gYWRkU3RyaW5nKCJD\nb25uZWN0aW9uRmFjdG9yeU5hbWUiKTsKICAgICAgICBjb25uZWN0aW9uUHJv\ncGVydGllcyA9IGFkZFN0cmluZygiQ29ubmVjdGlvblByb3BlcnRpZXMiKTsK\nICAgICAgICBjb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMgPSBhZGRTdHJp\nbmcoIkNvbm5lY3Rpb25GYWN0b3J5UHJvcGVydGllcyIpOwogICAgICAgIGNv\nbm5lY3Rpb24yVXNlck5hbWUgPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb24yVXNl\nck5hbWUiKTsKICAgICAgICBjb25uZWN0aW9uMlBhc3N3b3JkID0gYWRkU3Ry\naW5nKCJDb25uZWN0aW9uMlBhc3N3b3JkIik7CiAgICAgICAgY29ubmVjdGlv\nbjJQYXNzd29yZC5oaWRlKCk7CiAgICAgICAgCiAgICAgICAgY29ubmVjdGlv\nbjJVUkwgPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb24yVVJMIik7CiAgICAgICAg\nY29ubmVjdGlvbjJEcml2ZXJOYW1lID0gYWRkU3RyaW5nKCJDb25uZWN0aW9u\nMkRyaXZlck5hbWUiKTsKICAgICAgICBjb25uZWN0aW9uMlByb3BlcnRpZXMg\nPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb24yUHJvcGVydGllcyIpOwogICAgICAg\nIGNvbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMgPSBhZGRTdHJpbmcoIkNv\nbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMiKTsKICAgICAgICBjb25uZWN0\naW9uRmFjdG9yeTJOYW1lID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uRmFjdG9y\neTJOYW1lIik7CgogICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TW9kZSA9IGFk\nZEJvb2xlYW4oIkNvbm5lY3Rpb25GYWN0b3J5TW9kZSIpOwogICAgICAgIGFs\naWFzZXMgPSBuZXcgU3RyaW5nW10geyAibG9jYWwiLCAiZmFsc2UiLCAibWFu\nYWdlZCIsICJ0cnVlIiwgfTsKICAgICAgICBjb25uZWN0aW9uRmFjdG9yeU1v\nZGUuc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBjb25uZWN0aW9uRmFj\ndG9yeU1vZGUuc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKCiAgICAgICAgb3B0\naW1pc3RpYyA9IGFkZEJvb2xlYW4oIk9wdGltaXN0aWMiKTsKICAgICAgICBv\ncHRpbWlzdGljLnNldERlZmF1bHQoInRydWUiKTsKICAgICAgICBvcHRpbWlz\ndGljLnNldCh0cnVlKTsKCiAgICAgICAgYXV0b0NsZWFyID0gYWRkSW50KCJB\ndXRvQ2xlYXIiKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAgbmV3\nIFN0cmluZ1tdIHsgImRhdGFzdG9yZSIsCiAgICAgICAgICAgICAgICBTdHJp\nbmcudmFsdWVPZihBdXRvQ2xlYXIuQ0xFQVJfREFUQVNUT1JFKSwgImFsbCIs\nCiAgICAgICAgICAgICAgICBTdHJpbmcudmFsdWVPZihBdXRvQ2xlYXIuQ0xF\nQVJfQUxMKSwgfTsKICAgICAgICBhdXRvQ2xlYXIuc2V0QWxpYXNlcyhhbGlh\nc2VzKTsKICAgICAgICBhdXRvQ2xlYXIuc2V0RGVmYXVsdChhbGlhc2VzWzBd\nKTsKICAgICAgICBhdXRvQ2xlYXIuc2V0KEF1dG9DbGVhci5DTEVBUl9EQVRB\nU1RPUkUpOwogICAgICAgIGF1dG9DbGVhci5zZXRBbGlhc0xpc3RDb21wcmVo\nZW5zaXZlKHRydWUpOwoKICAgICAgICByZXRhaW5TdGF0ZSA9IGFkZEJvb2xl\nYW4oIlJldGFpblN0YXRlIik7CiAgICAgICAgcmV0YWluU3RhdGUuc2V0RGVm\nYXVsdCgidHJ1ZSIpOwogICAgICAgIHJldGFpblN0YXRlLnNldCh0cnVlKTsK\nCiAgICAgICAgcmVzdG9yZVN0YXRlID0gYWRkSW50KCJSZXN0b3JlU3RhdGUi\nKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsgCiAgICAgICAg\nICAgICAgICAibm9uZSIsICAgICAgU3RyaW5nLnZhbHVlT2YoUmVzdG9yZVN0\nYXRlLlJFU1RPUkVfTk9ORSksCiAgICAgICAgICAgICAgICAiZmFsc2UiLCAg\nICAgU3RyaW5nLnZhbHVlT2YoUmVzdG9yZVN0YXRlLlJFU1RPUkVfTk9ORSks\nCiAgICAgICAgICAgICAgICAiaW1tdXRhYmxlIiwgU3RyaW5nLnZhbHVlT2Yo\nUmVzdG9yZVN0YXRlLlJFU1RPUkVfSU1NVVRBQkxFKSwKICAgICAgICAgICAg\nICAgIC8vICJ0cnVlIiBmb3IgY29tcGF0IHdpdGggamRvIFJlc3RvcmVWYWx1\nZXMKICAgICAgICAgICAgICAgICJ0cnVlIiwgICAgICBTdHJpbmcudmFsdWVP\nZihSZXN0b3JlU3RhdGUuUkVTVE9SRV9JTU1VVEFCTEUpLCAKICAgICAgICAg\nICAgICAgICJhbGwiLCAgICAgICBTdHJpbmcudmFsdWVPZihSZXN0b3JlU3Rh\ndGUuUkVTVE9SRV9BTEwpLCB9OwogICAgICAgIHJlc3RvcmVTdGF0ZS5zZXRB\nbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHJlc3RvcmVTdGF0ZS5zZXREZWZh\ndWx0KGFsaWFzZXNbMF0pOwogICAgICAgIHJlc3RvcmVTdGF0ZS5zZXQoUmVz\ndG9yZVN0YXRlLlJFU1RPUkVfSU1NVVRBQkxFKTsKICAgICAgICByZXN0b3Jl\nU3RhdGUuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAg\nICAgYXV0b0RldGFjaCA9IG5ldyBBdXRvRGV0YWNoVmFsdWUoKTsKICAgICAg\nICBhZGRWYWx1ZShhdXRvRGV0YWNoKTsKCiAgICAgICAgZGV0YWNoU3RhdGVQ\nbHVnaW4gPSBhZGRQbHVnaW4oIkRldGFjaFN0YXRlIiwgdHJ1ZSk7CiAgICAg\nICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7CiAgICAgICAgICAgICJsb2Fk\nZWQiLCAgICAgICBEZXRhY2hPcHRpb25zLkxvYWRlZC5jbGFzcy5nZXROYW1l\nKCksCiAgICAgICAgICAgICJmZ3MiLCAgICAgICAgICBEZXRhY2hPcHRpb25z\nLkZldGNoR3JvdXBzLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICAgICAgImZl\ndGNoLWdyb3VwcyIsIERldGFjaE9wdGlvbnMuRmV0Y2hHcm91cHMuY2xhc3Mu\nZ2V0TmFtZSgpLCAKICAgICAgICAgICAgImFsbCIsICAgICAgICAgIERldGFj\naE9wdGlvbnMuQWxsLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICB9OwogICAg\nICAgIGRldGFjaFN0YXRlUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAg\nICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBd\nKTsKICAgICAgICBkZXRhY2hTdGF0ZVBsdWdpbi5zZXRTdHJpbmcoYWxpYXNl\nc1swXSk7CiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uc2V0SW5zdGFudGlh\ndGluZ0dldHRlcigiZ2V0RGV0YWNoU3RhdGVJbnN0YW5jZSIpOwoKICAgICAg\nICBpZ25vcmVDaGFuZ2VzID0gYWRkQm9vbGVhbigiSWdub3JlQ2hhbmdlcyIp\nOwoKICAgICAgICBub250cmFuc2FjdGlvbmFsUmVhZCA9IGFkZEJvb2xlYW4o\nIk5vbnRyYW5zYWN0aW9uYWxSZWFkIik7CiAgICAgICAgbm9udHJhbnNhY3Rp\nb25hbFJlYWQuc2V0RGVmYXVsdCgidHJ1ZSIpOwogICAgICAgIG5vbnRyYW5z\nYWN0aW9uYWxSZWFkLnNldCh0cnVlKTsKCiAgICAgICAgbm9udHJhbnNhY3Rp\nb25hbFdyaXRlID0gYWRkQm9vbGVhbigiTm9udHJhbnNhY3Rpb25hbFdyaXRl\nIik7CiAgICAgICAgbXVsdGl0aHJlYWRlZCA9IGFkZEJvb2xlYW4oIk11bHRp\ndGhyZWFkZWQiKTsKCiAgICAgICAgZmV0Y2hCYXRjaFNpemUgPSBhZGRJbnQo\nIkZldGNoQmF0Y2hTaXplIik7CiAgICAgICAgZmV0Y2hCYXRjaFNpemUuc2V0\nRGVmYXVsdCgiLTEiKTsKICAgICAgICBmZXRjaEJhdGNoU2l6ZS5zZXQoLTEp\nOwogICAgICAgIGZldGNoQmF0Y2hTaXplLnNldER5bmFtaWModHJ1ZSk7Cgog\nICAgICAgIG1heEZldGNoRGVwdGggPSBhZGRJbnQoIk1heEZldGNoRGVwdGgi\nKTsKICAgICAgICBtYXhGZXRjaERlcHRoLnNldERlZmF1bHQoIi0xIik7CiAg\nICAgICAgbWF4RmV0Y2hEZXB0aC5zZXQoLTEpOwoKICAgICAgICBmZXRjaEdy\nb3VwcyA9IGFkZFN0cmluZ0xpc3QoIkZldGNoR3JvdXBzIik7CiAgICAgICAg\nZmV0Y2hHcm91cHMuc2V0RGVmYXVsdCgiZGVmYXVsdCIpOwogICAgICAgIGZl\ndGNoR3JvdXBzLnNldChuZXcgU3RyaW5nW10geyAiZGVmYXVsdCIgfSk7Cgog\nICAgICAgIGZsdXNoQmVmb3JlUXVlcmllcyA9IGFkZEludCgiRmx1c2hCZWZv\ncmVRdWVyaWVzIik7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7\nIAogICAgICAgICAgICAgICAgInRydWUiLCAgICAgICAgICAgIFN0cmluZy52\nYWx1ZU9mKFF1ZXJ5Rmx1c2hNb2Rlcy5GTFVTSF9UUlVFKSwKICAgICAgICAg\nICAgICAgICJmYWxzZSIsICAgICAgICAgICBTdHJpbmcudmFsdWVPZihRdWVy\neUZsdXNoTW9kZXMuRkxVU0hfRkFMU0UpLAogICAgICAgICAgICAgICAgIndp\ndGgtY29ubmVjdGlvbiIsIFN0cmluZy52YWx1ZU9mKFF1ZXJ5Rmx1c2hNb2Rl\ncy5GTFVTSF9XSVRIX0NPTk5FQ1RJT04pLCAKICAgICAgICB9OwogICAgICAg\nIGZsdXNoQmVmb3JlUXVlcmllcy5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAg\nICAgIGZsdXNoQmVmb3JlUXVlcmllcy5zZXREZWZhdWx0KGFsaWFzZXNbMF0p\nOwogICAgICAgIGZsdXNoQmVmb3JlUXVlcmllcy5zZXQoUXVlcnlGbHVzaE1v\nZGVzLkZMVVNIX1RSVUUpOwogICAgICAgIGZsdXNoQmVmb3JlUXVlcmllcy5z\nZXRBbGlhc0xpc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBsb2Nr\nVGltZW91dCA9IGFkZEludCgiTG9ja1RpbWVvdXQiKTsKICAgICAgICBsb2Nr\nVGltZW91dC5hZGRFcXVpdmFsZW50S2V5KCJqYXZheC5wZXJzaXN0ZW5jZS5s\nb2NrLnRpbWVvdXQiKTsKICAgICAgICBsb2NrVGltZW91dC5zZXREZWZhdWx0\nKCItMSIpOwogICAgICAgIGxvY2tUaW1lb3V0LnNldER5bmFtaWModHJ1ZSk7\nCiAgICAgICAgCiAgICAgICAgcmVhZExvY2tMZXZlbCA9IGFkZEludCgiUmVh\nZExvY2tMZXZlbCIpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW10g\newogICAgICAgICAgICAgICAgInJlYWQiLCBTdHJpbmcudmFsdWVPZihMb2Nr\nTGV2ZWxzLkxPQ0tfUkVBRCksCiAgICAgICAgICAgICAgICAid3JpdGUiLCBT\ndHJpbmcudmFsdWVPZihMb2NrTGV2ZWxzLkxPQ0tfV1JJVEUpLAogICAgICAg\nICAgICAgICAgIm5vbmUiLCBTdHJpbmcudmFsdWVPZihMb2NrTGV2ZWxzLkxP\nQ0tfTk9ORSksCiAgICAgICAgICAgIH07CiAgICAgICAgcmVhZExvY2tMZXZl\nbC5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHJlYWRMb2NrTGV2ZWwu\nc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICByZWFkTG9ja0xldmVs\nLnNldChMb2NrTGV2ZWxzLkxPQ0tfUkVBRCk7CiAgICAgICAgcmVhZExvY2tM\nZXZlbC5zZXRBbGlhc0xpc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAg\nICB3cml0ZUxvY2tMZXZlbCA9IGFkZEludCgiV3JpdGVMb2NrTGV2ZWwiKTsK\nICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsKICAgICAgICAgICAg\nICAgICJyZWFkIiwgU3RyaW5nLnZhbHVlT2YoTG9ja0xldmVscy5MT0NLX1JF\nQUQpLAogICAgICAgICAgICAgICAgIndyaXRlIiwgU3RyaW5nLnZhbHVlT2Yo\nTG9ja0xldmVscy5MT0NLX1dSSVRFKSwKICAgICAgICAgICAgICAgICJub25l\nIiwgU3RyaW5nLnZhbHVlT2YoTG9ja0xldmVscy5MT0NLX05PTkUpLAogICAg\nICAgICAgICB9OwogICAgICAgIHdyaXRlTG9ja0xldmVsLnNldEFsaWFzZXMo\nYWxpYXNlcyk7CiAgICAgICAgd3JpdGVMb2NrTGV2ZWwuc2V0RGVmYXVsdChh\nbGlhc2VzWzFdKTsKICAgICAgICB3cml0ZUxvY2tMZXZlbC5zZXQoTG9ja0xl\ndmVscy5MT0NLX1dSSVRFKTsKICAgICAgICB3cml0ZUxvY2tMZXZlbC5zZXRB\nbGlhc0xpc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBzZXFQbHVn\naW4gPSBuZXcgU2VxVmFsdWUoIlNlcXVlbmNlIik7CiAgICAgICAgc2VxUGx1\nZ2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldFNlcXVlbmNlSW5zdGFu\nY2UiKTsKICAgICAgICBhZGRWYWx1ZShzZXFQbHVnaW4pOwoKICAgICAgICBj\nb25uZWN0aW9uUmV0YWluTW9kZSA9IGFkZEludCgiQ29ubmVjdGlvblJldGFp\nbk1vZGUiKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdIHsKICAg\nICAgICAgICAgICAgICJvbi1kZW1hbmQiLCAgIFN0cmluZy52YWx1ZU9mKENv\nbm5lY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JFVEFJTl9ERU1BTkQpLAogICAg\nICAgICAgICAgICAgInRyYW5zYWN0aW9uIiwgU3RyaW5nLnZhbHVlT2YoQ29u\nbmVjdGlvblJldGFpbk1vZGVzLkNPTk5fUkVUQUlOX1RSQU5TKSwKICAgICAg\nICAgICAgICAgICJhbHdheXMiLCAgICAgIFN0cmluZy52YWx1ZU9mKENvbm5l\nY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JFVEFJTl9BTFdBWVMpLAogICAgICAg\nICAgICAgICAgLy8gZGVwcmVjYXRlZAogICAgICAgICAgICAgICAgInBlcnNp\nc3RlbmNlLW1hbmFnZXIiLCBTdHJpbmcudmFsdWVPZihDb25uZWN0aW9uUmV0\nYWluTW9kZXMuQ09OTl9SRVRBSU5fQUxXQVlTKSwKICAgICAgICAgICAgfTsK\nICAgICAgICBjb25uZWN0aW9uUmV0YWluTW9kZS5zZXRBbGlhc2VzKGFsaWFz\nZXMpOwogICAgICAgIGNvbm5lY3Rpb25SZXRhaW5Nb2RlLnNldERlZmF1bHQo\nYWxpYXNlc1swXSk7CiAgICAgICAgY29ubmVjdGlvblJldGFpbk1vZGUuc2V0\nQWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKICAgICAgICBjb25uZWN0\naW9uUmV0YWluTW9kZS5zZXQoQ29ubmVjdGlvblJldGFpbk1vZGVzLkNPTk5f\nUkVUQUlOX0RFTUFORCk7CgogICAgICAgIGZpbHRlckxpc3RlbmVyUGx1Z2lu\ncyA9IGFkZFBsdWdpbkxpc3QoIkZpbHRlckxpc3RlbmVycyIpOwogICAgICAg\nIGZpbHRlckxpc3RlbmVyUGx1Z2lucy5zZXRJbnN0YW50aWF0aW5nR2V0dGVy\nKCJnZXRGaWx0ZXJMaXN0ZW5lckluc3RhbmNlcyIpOwoKICAgICAgICBhZ2dy\nZWdhdGVMaXN0ZW5lclBsdWdpbnMgPSBhZGRQbHVnaW5MaXN0KCJBZ2dyZWdh\ndGVMaXN0ZW5lcnMiKTsKICAgICAgICBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdp\nbnMuc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0QWdncmVnYXRlTGlzdGVu\nZXJJbnN0YW5jZXMiKTsKCiAgICAgICAgcmV0cnlDbGFzc1JlZ2lzdHJhdGlv\nbiA9IGFkZEJvb2xlYW4oIlJldHJ5Q2xhc3NSZWdpc3RyYXRpb24iKTsKCiAg\nICAgICAgY29tcGF0aWJpbGl0eVBsdWdpbiA9IGFkZFBsdWdpbigiQ29tcGF0\naWJpbGl0eSIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5n\nW10geyAiZGVmYXVsdCIsIENvbXBhdGliaWxpdHkuY2xhc3MuZ2V0TmFtZSgp\nIH07CiAgICAgICAgY29tcGF0aWJpbGl0eVBsdWdpbi5zZXRBbGlhc2VzKGFs\naWFzZXMpOwogICAgICAgIGNvbXBhdGliaWxpdHlQbHVnaW4uc2V0RGVmYXVs\ndChhbGlhc2VzWzBdKTsKICAgICAgICBjb21wYXRpYmlsaXR5UGx1Z2luLnNl\ndFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBjb21wYXRpYmlsaXR5UGx1\nZ2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldENvbXBhdGliaWxpdHlJ\nbnN0YW5jZSIpOwogICAgICAgIAogICAgICAgIGNhbGxiYWNrUGx1Z2luID0g\nYWRkUGx1Z2luKCJDYWxsYmFja3MiLCB0cnVlKTsKICAgICAgICBhbGlhc2Vz\nID0gbmV3IFN0cmluZ1tdIHsgImRlZmF1bHQiLCBDYWxsYmFja09wdGlvbnMu\nY2xhc3MuZ2V0TmFtZSgpIH07CiAgICAgICAgY2FsbGJhY2tQbHVnaW4uc2V0\nQWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBjYWxsYmFja1BsdWdpbi5zZXRE\nZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGNhbGxiYWNrUGx1Z2luLnNl\ndFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBjYWxsYmFja1BsdWdpbi5z\nZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRDYWxsYmFja09wdGlvbnNJbnN0\nYW5jZSIpOwogICAgICAgICAgIAogICAgICAgIHF1ZXJ5Q29tcGlsYXRpb25D\nYWNoZVBsdWdpbiA9IG5ldyBRdWVyeUNvbXBpbGF0aW9uQ2FjaGVWYWx1ZSgi\nUXVlcnlDb21waWxhdGlvbkNhY2hlIik7CiAgICAgICAgcXVlcnlDb21waWxh\ndGlvbkNhY2hlUGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdldFF1\nZXJ5Q29tcGlsYXRpb25DYWNoZUluc3RhbmNlIik7CiAgICAgICAgYWRkVmFs\ndWUocXVlcnlDb21waWxhdGlvbkNhY2hlUGx1Z2luKTsKICAgICAgICAKICAg\nICAgICBydW50aW1lVW5lbmhhbmNlZENsYXNzZXMgPSBhZGRJbnQoIlJ1bnRp\nbWVVbmVuaGFuY2VkQ2xhc3NlcyIpOwogICAgICAgIHJ1bnRpbWVVbmVuaGFu\nY2VkQ2xhc3Nlcy5zZXRBbGlhc2VzKG5ldyBTdHJpbmdbXSB7CiAgICAgICAg\nICAgICJzdXBwb3J0ZWQiLCAgIFN0cmluZy52YWx1ZU9mKFJ1bnRpbWVVbmVu\naGFuY2VkQ2xhc3Nlc01vZGVzLlNVUFBPUlRFRCksCiAgICAgICAgICAgICJ1\nbnN1cHBvcnRlZCIsIFN0cmluZy52YWx1ZU9mKFJ1bnRpbWVVbmVuaGFuY2Vk\nQ2xhc3Nlc01vZGVzLlVOU1VQUE9SVEVEKSwKICAgICAgICAgICAgIndhcm4i\nLCAgICAgICAgU3RyaW5nLnZhbHVlT2YoUnVudGltZVVuZW5oYW5jZWRDbGFz\nc2VzTW9kZXMuV0FSTiksCiAgICAgICAgfSk7CiAgICAgICAgcnVudGltZVVu\nZW5oYW5jZWRDbGFzc2VzLnNldERlZmF1bHQoInVuc3VwcG9ydGVkIik7CiAg\nICAgICAgcnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLnNldFN0cmluZygidW5z\ndXBwb3J0ZWQiKTsKICAgICAgICBydW50aW1lVW5lbmhhbmNlZENsYXNzZXMu\nc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAgY2Fj\naGVNYXJzaGFsbGVyUGx1Z2lucyA9IChDYWNoZU1hcnNoYWxsZXJzVmFsdWUp\nIGFkZFZhbHVlKG5ldyBDYWNoZU1hcnNoYWxsZXJzVmFsdWUodGhpcykpOwog\nICAgICAgIAogICAgICAgIGVhZ2VySW5pdGlhbGl6YXRpb24gPSBhZGRCb29s\nZWFuKCJJbml0aWFsaXplRWFnZXJseSIpOwogICAgICAgIAogICAgICAgIHNw\nZWNpZmljYXRpb24gPSBuZXcgU3BlY2lmaWNhdGlvblBsdWdpbih0aGlzLCAi\nU3BlY2lmaWNhdGlvbiIpOyAKICAgICAgICBhZGRWYWx1ZShzcGVjaWZpY2F0\naW9uKTsKICAgICAgICBzcGVjaWZpY2F0aW9uLnNldEluc3RhbnRpYXRpbmdH\nZXR0ZXIoImdldFNwZWNpZmljYXRpb25JbnN0YW5jZSIpOwogICAgICAgIAog\nICAgICAgIHF1ZXJ5VGltZW91dCA9IGFkZEludCgiamF2YXgucGVyc2lzdGVu\nY2UucXVlcnkudGltZW91dCIpOwogICAgICAgIHF1ZXJ5VGltZW91dC5zZXRE\nZWZhdWx0KCItMSIpOwogICAgICAgIHF1ZXJ5VGltZW91dC5zZXREeW5hbWlj\nKHRydWUpOwogICAgICAKICAgICAgICBsaWZlY3ljbGVFdmVudE1hbmFnZXIg\nPSBhZGRQbHVnaW4oIkxpZmVjeWNsZUV2ZW50TWFuYWdlciIsIHRydWUpOwog\nICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW10gewogICAgICAgICAgICAi\nZGVmYXVsdCIsIExpZmVjeWNsZUV2ZW50TWFuYWdlci5jbGFzcy5nZXROYW1l\nKCksCiAgICAgICAgICAgICJ2YWxpZGF0aW5nIiwgVmFsaWRhdGluZ0xpZmVj\neWNsZUV2ZW50TWFuYWdlci5jbGFzcy5nZXROYW1lKCksCiAgICAgICAgfTsK\nICAgICAgICBsaWZlY3ljbGVFdmVudE1hbmFnZXIuc2V0QWxpYXNlcyhhbGlh\nc2VzKTsKICAgICAgICBsaWZlY3ljbGVFdmVudE1hbmFnZXIuc2V0RGVmYXVs\ndChhbGlhc2VzWzBdKTsKICAgICAgICBsaWZlY3ljbGVFdmVudE1hbmFnZXIu\nc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIGxpZmVjeWNsZUV2ZW50\nTWFuYWdlci5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRMaWZlY3ljbGVF\ndmVudE1hbmFnZXJJbnN0YW5jZSIpOwoKICAgICAgICBkeW5hbWljRW5oYW5j\nZW1lbnRBZ2VudCAgPSBhZGRCb29sZWFuKCJEeW5hbWljRW5oYW5jZW1lbnRB\nZ2VudCIpOwogICAgICAgIGR5bmFtaWNFbmhhbmNlbWVudEFnZW50LnNldERl\nZmF1bHQoInRydWUiKTsKICAgICAgICBkeW5hbWljRW5oYW5jZW1lbnRBZ2Vu\ndC5zZXQodHJ1ZSk7CiAgICAgICAgCiAgICAgICAgLy8gaW5pdGlhbGl6ZSBz\ndXBwb3J0ZWQgb3B0aW9ucyB0aGF0IHNvbWUgcnVudGltZXMgbWF5IG5vdCBz\ndXBwb3J0CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9OX05P\nTlRSQU5TX1JFQUQpOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9Q\nVElPTl9PUFRJTUlTVElDKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zLmFk\nZChPUFRJT05fSURfQVBQTElDQVRJT04pOwogICAgICAgIHN1cHBvcnRlZE9w\ndGlvbnMuYWRkKE9QVElPTl9JRF9EQVRBU1RPUkUpOwogICAgICAgIHN1cHBv\ncnRlZE9wdGlvbnMuYWRkKE9QVElPTl9UWVBFX0NPTExFQ1RJT04pOwogICAg\nICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9UWVBFX01BUCk7CiAg\nICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9OX1RZUEVfQVJSQVkp\nOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9OVUxMX0NP\nTlRBSU5FUik7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9O\nX0VNQkVEREVEX1JFTEFUSU9OKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25z\nLmFkZChPUFRJT05fRU1CRURERURfQ09MTEVDVElPTl9SRUxBVElPTik7CiAg\nICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BUSU9OX0VNQkVEREVEX01B\nUF9SRUxBVElPTik7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQoT1BU\nSU9OX0lOQ19GTFVTSCk7CiAgICAgICAgc3VwcG9ydGVkT3B0aW9ucy5hZGQo\nT1BUSU9OX1ZBTFVFX0FVVE9BU1NJR04pOwogICAgICAgIHN1cHBvcnRlZE9w\ndGlvbnMuYWRkKE9QVElPTl9WQUxVRV9JTkNSRU1FTlQpOwogICAgICAgIHN1\ncHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9EQVRBU1RPUkVfQ09OTkVDVElP\nTik7CiAgICAgICAgCiAgICAgICAgaWYgKGRlcml2YXRpb25zKQogICAgICAg\nICAgICBQcm9kdWN0RGVyaXZhdGlvbnMuYmVmb3JlQ29uZmlndXJhdGlvbkxv\nYWQodGhpcyk7CiAgICAgICAgaWYgKGxvYWRHbG9iYWxzKQogICAgICAgICAg\nICBsb2FkR2xvYmFscygpOwogICAgfQoKICAgIHB1YmxpYyBDb2xsZWN0aW9u\nPFN0cmluZz4gc3VwcG9ydGVkT3B0aW9ucygpIHsKICAgICAgICByZXR1cm4g\nc3VwcG9ydGVkT3B0aW9uczsKICAgIH0KCiAgICAvKioKICAgICAqIEdldCB0\naGUgbmFtZSBvZiB0aGUgU3BlY2lmaWNhdGlvbiBvbmx5IChub3QgdGhlIHZl\ncnNpb24gb3Igb3RoZXIgCiAgICAgKiBpbmZvcm1hdGlvbikgb3IgYW4gZW1w\ndHkgU3RyaW5nIGlmIG5vdCBzZXQuCiAgICAgKiAKICAgICAqLwogICAgcHVi\nbGljIFN0cmluZyBnZXRTcGVjaWZpY2F0aW9uKCkgewogICAgICAgIFNwZWNp\nZmljYXRpb24gc3BlYyA9IGdldFNwZWNpZmljYXRpb25JbnN0YW5jZSgpOwog\nICAgICAgIHJldHVybiBzcGVjID09IG51bGwgPyAiIiA6IHNwZWMuZ2V0TmFt\nZSgpOwogICAgfQogICAgCiAgICBwdWJsaWMgU3BlY2lmaWNhdGlvbiBnZXRT\ncGVjaWZpY2F0aW9uSW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIChTcGVj\naWZpY2F0aW9uKXNwZWNpZmljYXRpb24uZ2V0KCk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBTZXRzIFNwZWNpZmljYXRpb24gZnJvbSB0aGUgZ2l2ZW4gU3Ry\naW5nLgogICAgICogCiAgICAgKiBAcGFyYW0gc3BlYyBzaG91bGQgYmUgZW5j\nb2RlZCBpbiB0aGUgZm9ybWF0IHNwZWNpZmllZCBpbiB7QGxpbmsgCiAgICAg\nKiBTcGVjaWZpY2F0aW9ufS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0\nU3BlY2lmaWNhdGlvbihTdHJpbmcgc3BlYykgewogICAgICAgIHNwZWNpZmlj\nYXRpb24uc2V0U3RyaW5nKHNwZWMpOwogICAgfQogICAgCiAgICBwdWJsaWMg\ndm9pZCBzZXRTcGVjaWZpY2F0aW9uKFNwZWNpZmljYXRpb24gbmV3U3BlYykg\newogICAgICAgIHNwZWNpZmljYXRpb24uc2V0KG5ld1NwZWMpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldENsYXNzUmVzb2x2ZXIoU3RyaW5nIGNsYXNz\nUmVzb2x2ZXIpIHsKICAgICAgICBjbGFzc1Jlc29sdmVyUGx1Z2luLnNldFN0\ncmluZyhjbGFzc1Jlc29sdmVyKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIGdldENsYXNzUmVzb2x2ZXIoKSB7CiAgICAgICAgcmV0dXJuIGNsYXNzUmVz\nb2x2ZXJQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0Q2xhc3NSZXNvbHZlcihDbGFzc1Jlc29sdmVyIGNsYXNzUmVzb2x2\nZXIpIHsKICAgICAgICBjbGFzc1Jlc29sdmVyUGx1Z2luLnNldChjbGFzc1Jl\nc29sdmVyKTsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3NSZXNvbHZlciBnZXRD\nbGFzc1Jlc29sdmVySW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKGNsYXNzUmVz\nb2x2ZXJQbHVnaW4uZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgY2xhc3NS\nZXNvbHZlclBsdWdpbi5pbnN0YW50aWF0ZShDbGFzc1Jlc29sdmVyLmNsYXNz\nLCB0aGlzKTsKICAgICAgICByZXR1cm4gKENsYXNzUmVzb2x2ZXIpIGNsYXNz\nUmVzb2x2ZXJQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0QnJva2VyRmFjdG9yeShTdHJpbmcgZmFjdG9yeSkgewogICAgICAgIGJy\nb2tlckZhY3RvcnlQbHVnaW4uc2V0U3RyaW5nKGZhY3RvcnkpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0QnJva2VyRmFjdG9yeSgpIHsKICAgICAg\nICByZXR1cm4gYnJva2VyRmFjdG9yeVBsdWdpbi5nZXRTdHJpbmcoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRCcm9rZXJJbXBsKFN0cmluZyBicm9r\nZXIpIHsKICAgICAgICBicm9rZXJQbHVnaW4uc2V0U3RyaW5nKGJyb2tlcik7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRCcm9rZXJJbXBsKCkgewog\nICAgICAgIHJldHVybiBicm9rZXJQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9\nCgogICAgcHVibGljIEJyb2tlckltcGwgbmV3QnJva2VySW5zdGFuY2UoU3Ry\naW5nIHVzZXIsIFN0cmluZyBwYXNzKSB7CiAgICAgICAgQnJva2VySW1wbCBi\ncm9rZXIgPSAoQnJva2VySW1wbCkgYnJva2VyUGx1Z2luLmluc3RhbnRpYXRl\nKEJyb2tlckltcGwuY2xhc3MsIHRoaXMpOwogICAgICAgIGlmIChicm9rZXIg\nIT0gbnVsbCkKICAgICAgICAgICAgYnJva2VyLnNldEF1dGhlbnRpY2F0aW9u\nKHVzZXIsIHBhc3MpOwogICAgICAgIHJldHVybiBicm9rZXI7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0RGF0YUNhY2hlTWFuYWdlcihTdHJpbmcgbWdy\nKSB7CiAgICAgICAgZGF0YUNhY2hlTWFuYWdlclBsdWdpbi5zZXRTdHJpbmco\nbWdyKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldERhdGFDYWNoZU1h\nbmFnZXIoKSB7CiAgICAgICAgcmV0dXJuIGRhdGFDYWNoZU1hbmFnZXJQbHVn\naW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0\nYUNhY2hlTWFuYWdlcihEYXRhQ2FjaGVNYW5hZ2VyIGRjbSkgewogICAgICAg\nIGlmIChkY20gIT0gbnVsbCkKICAgICAgICAgICAgZGNtLmluaXRpYWxpemUo\ndGhpcywgZGF0YUNhY2hlUGx1Z2luLCBxdWVyeUNhY2hlUGx1Z2luKTsKICAg\nICAgICBkYXRhQ2FjaGVNYW5hZ2VyUGx1Z2luLnNldChkY20pOwogICAgfQoK\nICAgIHB1YmxpYyBEYXRhQ2FjaGVNYW5hZ2VyIGdldERhdGFDYWNoZU1hbmFn\nZXJJbnN0YW5jZSgpIHsKICAgICAgICBEYXRhQ2FjaGVNYW5hZ2VyIGRjbSA9\nIChEYXRhQ2FjaGVNYW5hZ2VyKSBkYXRhQ2FjaGVNYW5hZ2VyUGx1Z2luLmdl\ndCgpOwogICAgICAgIGlmIChkY20gPT0gbnVsbCkgewogICAgICAgICAgICBk\nY20gPSAgKERhdGFDYWNoZU1hbmFnZXIpIGRhdGFDYWNoZU1hbmFnZXJQbHVn\naW4uaW5zdGFudGlhdGUoRGF0YUNhY2hlTWFuYWdlci5jbGFzcywgdGhpcyk7\nCiAgICAgICAgICAgIGRjbS5pbml0aWFsaXplKHRoaXMsIGRhdGFDYWNoZVBs\ndWdpbiwgcXVlcnlDYWNoZVBsdWdpbik7CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiBkY207CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0YUNhY2hl\nKFN0cmluZyBkYXRhQ2FjaGUpIHsKICAgICAgICBkYXRhQ2FjaGVQbHVnaW4u\nc2V0U3RyaW5nKGRhdGFDYWNoZSk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXREYXRhQ2FjaGUoKSB7CiAgICAgICAgcmV0dXJuIGRhdGFDYWNoZVBs\ndWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRE\nYXRhQ2FjaGVUaW1lb3V0KGludCBkYXRhQ2FjaGVUaW1lb3V0KSB7CiAgICAg\nICAgdGhpcy5kYXRhQ2FjaGVUaW1lb3V0LnNldChkYXRhQ2FjaGVUaW1lb3V0\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREYXRhQ2FjaGVUaW1lb3V0\nKEludGVnZXIgZGF0YUNhY2hlVGltZW91dCkgewogICAgICAgIGlmIChkYXRh\nQ2FjaGVUaW1lb3V0ICE9IG51bGwpCiAgICAgICAgICAgIHNldERhdGFDYWNo\nZVRpbWVvdXQoZGF0YUNhY2hlVGltZW91dC5pbnRWYWx1ZSgpKTsKICAgIH0K\nCiAgICBwdWJsaWMgaW50IGdldERhdGFDYWNoZVRpbWVvdXQoKSB7CiAgICAg\nICAgcmV0dXJuIGRhdGFDYWNoZVRpbWVvdXQuZ2V0KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0UXVlcnlDYWNoZShTdHJpbmcgcXVlcnlDYWNoZSkg\newogICAgICAgIHF1ZXJ5Q2FjaGVQbHVnaW4uc2V0U3RyaW5nKHF1ZXJ5Q2Fj\naGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UXVlcnlDYWNoZSgp\nIHsKICAgICAgICByZXR1cm4gcXVlcnlDYWNoZVBsdWdpbi5nZXRTdHJpbmco\nKTsKICAgIH0KICAgIAogICAgcHVibGljIGJvb2xlYW4gZ2V0UmVmcmVzaEZy\nb21EYXRhQ2FjaGUoKSB7CiAgICAJcmV0dXJuIHJlZnJlc2hGcm9tRGF0YUNh\nY2hlLmdldCgpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCBzZXRSZWZy\nZXNoRnJvbURhdGFDYWNoZShib29sZWFuIGZsYWcpIHsKICAgIAlyZWZyZXNo\nRnJvbURhdGFDYWNoZS5zZXQoZmxhZyk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyB2b2lkIHNldFJlZnJlc2hGcm9tRGF0YUNhY2hlKEJvb2xlYW4gZmxhZykg\newogICAgCWlmIChmbGFnICE9IG51bGwpIHsKICAgIAkJcmVmcmVzaEZyb21E\nYXRhQ2FjaGUuc2V0KGZsYWcuYm9vbGVhblZhbHVlKCkpOwogICAgCX0KICAg\nIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXREeW5hbWljRGF0YVN0cnVjdHMo\nKSB7CiAgICAgICAgcmV0dXJuIGR5bmFtaWNEYXRhU3RydWN0cy5nZXQoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREeW5hbWljRGF0YVN0cnVjdHMo\nYm9vbGVhbiBkeW5hbWljKSB7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3Rz\nLnNldChkeW5hbWljKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREeW5h\nbWljRGF0YVN0cnVjdHMoQm9vbGVhbiBkeW5hbWljKSB7CiAgICAgICAgc2V0\nRHluYW1pY0RhdGFTdHJ1Y3RzKGR5bmFtaWMuYm9vbGVhblZhbHVlKCkpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExvY2tNYW5hZ2VyKFN0cmluZyBs\nb2NrTWFuYWdlcikgewogICAgICAgIGxvY2tNYW5hZ2VyUGx1Z2luLnNldFN0\ncmluZyhsb2NrTWFuYWdlcik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRMb2NrTWFuYWdlcigpIHsKICAgICAgICByZXR1cm4gbG9ja01hbmFnZXJQ\nbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIExvY2tNYW5h\nZ2VyIG5ld0xvY2tNYW5hZ2VySW5zdGFuY2UoKSB7CiAgICAgICAgLy8gZG9u\nJ3QgdmFsaWRhdGUgcGx1Z2luIHByb3BlcnRpZXMgb24gaW5zdGFudGlhdGlv\nbiBiZWNhdXNlIGl0CiAgICAgICAgLy8gaXMgbGlrZWx5IHRoYXQgYmFjayBl\nbmRzIHdpbGwgb3ZlcnJpZGUgZGVmYXVsdHMgd2l0aCB0aGVpcgogICAgICAg\nIC8vIG93biBzdWJjbGFzc2VzIHdpdGggbmV3IHByb3BlcnRpZXMKICAgICAg\nICByZXR1cm4gKExvY2tNYW5hZ2VyKSBsb2NrTWFuYWdlclBsdWdpbi5pbnN0\nYW50aWF0ZShMb2NrTWFuYWdlci5jbGFzcywKICAgICAgICAgICAgdGhpcywg\nZmFsc2UpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEludmVyc2VNYW5h\nZ2VyKFN0cmluZyBpbnZlcnNlTWFuYWdlcikgewogICAgICAgIGludmVyc2VN\nYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhpbnZlcnNlTWFuYWdlcik7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRJbnZlcnNlTWFuYWdlcigpIHsKICAg\nICAgICByZXR1cm4gaW52ZXJzZU1hbmFnZXJQbHVnaW4uZ2V0U3RyaW5nKCk7\nCiAgICB9CgogICAgcHVibGljIEludmVyc2VNYW5hZ2VyIG5ld0ludmVyc2VN\nYW5hZ2VySW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIChJbnZlcnNlTWFu\nYWdlcikgaW52ZXJzZU1hbmFnZXJQbHVnaW4uaW5zdGFudGlhdGUoSW52ZXJz\nZU1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFNhdmVwb2ludE1hbmFnZXIoU3RyaW5nIHNhdmVwb2ludE1hbmFnZXIp\nIHsKICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhz\nYXZlcG9pbnRNYW5hZ2VyKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdl\ndFNhdmVwb2ludE1hbmFnZXIoKSB7CiAgICAgICAgcmV0dXJuIHNhdmVwb2lu\ndE1hbmFnZXJQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGlj\nIFNhdmVwb2ludE1hbmFnZXIgZ2V0U2F2ZXBvaW50TWFuYWdlckluc3RhbmNl\nKCkgewogICAgICAgIGlmIChzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLmdldCgp\nID09IG51bGwpCiAgICAgICAgICAgIHNhdmVwb2ludE1hbmFnZXJQbHVnaW4u\naW5zdGFudGlhdGUoU2F2ZXBvaW50TWFuYWdlci5jbGFzcywgdGhpcyk7CiAg\nICAgICAgcmV0dXJuIChTYXZlcG9pbnRNYW5hZ2VyKSBzYXZlcG9pbnRNYW5h\nZ2VyUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9y\ncGhhbmVkS2V5QWN0aW9uKFN0cmluZyBhY3Rpb24pIHsKICAgICAgICBvcnBo\nYW5lZEtleVBsdWdpbi5zZXRTdHJpbmcoYWN0aW9uKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldE9ycGhhbmVkS2V5QWN0aW9uKCkgewogICAgICAg\nIHJldHVybiBvcnBoYW5lZEtleVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgT3JwaGFuZWRLZXlBY3Rpb24gZ2V0T3JwaGFuZWRLZXlB\nY3Rpb25JbnN0YW5jZSgpIHsKICAgICAgICBpZiAob3JwaGFuZWRLZXlQbHVn\naW4uZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgb3JwaGFuZWRLZXlQbHVn\naW4uaW5zdGFudGlhdGUoT3JwaGFuZWRLZXlBY3Rpb24uY2xhc3MsIHRoaXMp\nOwogICAgICAgIHJldHVybiAoT3JwaGFuZWRLZXlBY3Rpb24pIG9ycGhhbmVk\nS2V5UGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9y\ncGhhbmVkS2V5QWN0aW9uKE9ycGhhbmVkS2V5QWN0aW9uIGFjdGlvbikgewog\nICAgICAgIG9ycGhhbmVkS2V5UGx1Z2luLnNldChhY3Rpb24pOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldFJlbW90ZUNvbW1pdFByb3ZpZGVyKFN0cmlu\nZyByZW1vdGVDb21taXRQcm92aWRlcikgewogICAgICAgIHJlbW90ZVByb3Zp\nZGVyUGx1Z2luLnNldFN0cmluZyhyZW1vdGVDb21taXRQcm92aWRlcik7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXRSZW1vdGVDb21taXRQcm92aWRl\ncigpIHsKICAgICAgICByZXR1cm4gcmVtb3RlUHJvdmlkZXJQbHVnaW4uZ2V0\nU3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIFJlbW90ZUNvbW1pdFByb3Zp\nZGVyIG5ld1JlbW90ZUNvbW1pdFByb3ZpZGVySW5zdGFuY2UoKSB7CiAgICAg\nICAgcmV0dXJuIHJlbW90ZVByb3ZpZGVyUGx1Z2luLmluc3RhbnRpYXRlUHJv\ndmlkZXIodGhpcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVtb3Rl\nQ29tbWl0RXZlbnRNYW5hZ2VyKAogICAgICAgIFJlbW90ZUNvbW1pdEV2ZW50\nTWFuYWdlciByZW1vdGVFdmVudE1hbmFnZXIpIHsKICAgICAgICB0aGlzLnJl\nbW90ZUV2ZW50TWFuYWdlciA9IHJlbW90ZUV2ZW50TWFuYWdlcjsKICAgICAg\nICByZW1vdGVQcm92aWRlclBsdWdpbi5jb25maWd1cmVFdmVudE1hbmFnZXIo\ncmVtb3RlRXZlbnRNYW5hZ2VyKTsKICAgIH0KCiAgICBwdWJsaWMgUmVtb3Rl\nQ29tbWl0RXZlbnRNYW5hZ2VyIGdldFJlbW90ZUNvbW1pdEV2ZW50TWFuYWdl\ncigpIHsKICAgICAgICBpZiAocmVtb3RlRXZlbnRNYW5hZ2VyID09IG51bGwp\nIHsKICAgICAgICAgICAgcmVtb3RlRXZlbnRNYW5hZ2VyID0gbmV3IFJlbW90\nZUNvbW1pdEV2ZW50TWFuYWdlcih0aGlzKTsKICAgICAgICAgICAgcmVtb3Rl\nUHJvdmlkZXJQbHVnaW4uY29uZmlndXJlRXZlbnRNYW5hZ2VyKHJlbW90ZUV2\nZW50TWFuYWdlcik7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZW1vdGVF\ndmVudE1hbmFnZXI7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHJhbnNh\nY3Rpb25Nb2RlKFN0cmluZyB0cmFuc2FjdGlvbk1vZGUpIHsKICAgICAgICB0\naGlzLnRyYW5zYWN0aW9uTW9kZS5zZXRTdHJpbmcodHJhbnNhY3Rpb25Nb2Rl\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFRyYW5zYWN0aW9uTW9k\nZSgpIHsKICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Nb2RlLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRyYW5zYWN0aW9uTW9k\nZU1hbmFnZWQoYm9vbGVhbiBtYW5hZ2VkKSB7CiAgICAgICAgdHJhbnNhY3Rp\nb25Nb2RlLnNldChtYW5hZ2VkKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiBpc1RyYW5zYWN0aW9uTW9kZU1hbmFnZWQoKSB7CiAgICAgICAgcmV0dXJu\nIHRyYW5zYWN0aW9uTW9kZS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRNYW5hZ2VkUnVudGltZShTdHJpbmcgbWFuYWdlZFJ1bnRpbWUpIHsK\nICAgICAgICBtYW5hZ2VkUnVudGltZVBsdWdpbi5zZXRTdHJpbmcobWFuYWdl\nZFJ1bnRpbWUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TWFuYWdl\nZFJ1bnRpbWUoKSB7CiAgICAgICAgcmV0dXJuIG1hbmFnZWRSdW50aW1lUGx1\nZ2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1h\nbmFnZWRSdW50aW1lKE1hbmFnZWRSdW50aW1lIG1hbmFnZWRSdW50aW1lKSB7\nCiAgICAgICAgbWFuYWdlZFJ1bnRpbWVQbHVnaW4uc2V0KG1hbmFnZWRSdW50\naW1lKTsKICAgIH0KCiAgICBwdWJsaWMgTWFuYWdlZFJ1bnRpbWUgZ2V0TWFu\nYWdlZFJ1bnRpbWVJbnN0YW5jZSgpIHsKICAgICAgICBpZiAobWFuYWdlZFJ1\nbnRpbWVQbHVnaW4uZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgbWFuYWdl\nZFJ1bnRpbWVQbHVnaW4uaW5zdGFudGlhdGUoTWFuYWdlZFJ1bnRpbWUuY2xh\nc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAoTWFuYWdlZFJ1bnRpbWUpIG1h\nbmFnZWRSdW50aW1lUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFByb3h5TWFuYWdlcihTdHJpbmcgcHJveHlNYW5hZ2VyKSB7CiAg\nICAgICAgcHJveHlNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhwcm94eU1hbmFn\nZXIpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UHJveHlNYW5hZ2Vy\nKCkgewogICAgICAgIHJldHVybiBwcm94eU1hbmFnZXJQbHVnaW4uZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UHJveHlNYW5hZ2Vy\nKFByb3h5TWFuYWdlciBwcm94eU1hbmFnZXIpIHsKICAgICAgICBwcm94eU1h\nbmFnZXJQbHVnaW4uc2V0KHByb3h5TWFuYWdlcik7CiAgICB9CgogICAgcHVi\nbGljIFByb3h5TWFuYWdlciBnZXRQcm94eU1hbmFnZXJJbnN0YW5jZSgpIHsK\nICAgICAgICBpZiAocHJveHlNYW5hZ2VyUGx1Z2luLmdldCgpID09IG51bGwp\nCiAgICAgICAgICAgIHByb3h5TWFuYWdlclBsdWdpbi5pbnN0YW50aWF0ZShQ\ncm94eU1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAoUHJv\neHlNYW5hZ2VyKSBwcm94eU1hbmFnZXJQbHVnaW4uZ2V0KCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0TWFwcGluZyhTdHJpbmcgbWFwcGluZykgewog\nICAgICAgIHRoaXMubWFwcGluZy5zZXRTdHJpbmcobWFwcGluZyk7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRNYXBwaW5nKCkgewogICAgICAgIHJl\ndHVybiBtYXBwaW5nLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldE1ldGFEYXRhRmFjdG9yeShTdHJpbmcgbWV0YSkgewogICAgICAg\nIHRoaXMubWV0YUZhY3RvcnlQbHVnaW4uc2V0U3RyaW5nKG1ldGEpOwogICAg\nfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0TWV0YURhdGFGYWN0b3J5KCkgewog\nICAgICAgIHJldHVybiBtZXRhRmFjdG9yeVBsdWdpbi5nZXRTdHJpbmcoKTsK\nICAgIH0KCiAgICBwdWJsaWMgTWV0YURhdGFGYWN0b3J5IG5ld01ldGFEYXRh\nRmFjdG9yeUluc3RhbmNlKCkgewogICAgICAgIHJldHVybiAoTWV0YURhdGFG\nYWN0b3J5KSBtZXRhRmFjdG9yeVBsdWdpbi5pbnN0YW50aWF0ZSgKICAgICAg\nICAgICAgTWV0YURhdGFGYWN0b3J5LmNsYXNzLCB0aGlzKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRNZXRhRGF0YVJlcG9zaXRvcnkoU3RyaW5nIG1l\ndGEpIHsKICAgICAgICB0aGlzLm1ldGFSZXBvc2l0b3J5UGx1Z2luLnNldFN0\ncmluZyhtZXRhKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE1ldGFE\nYXRhUmVwb3NpdG9yeSgpIHsKICAgICAgICByZXR1cm4gbWV0YVJlcG9zaXRv\ncnlQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0TWV0YURhdGFSZXBvc2l0b3J5KE1ldGFEYXRhUmVwb3NpdG9yeSBtZXRh\nKSB7CiAgICAgICAgbWV0YVJlcG9zaXRvcnkgPSBtZXRhOwogICAgfQoKICAg\nIHB1YmxpYyBNZXRhRGF0YVJlcG9zaXRvcnkgZ2V0TWV0YURhdGFSZXBvc2l0\nb3J5SW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKG1ldGFSZXBvc2l0b3J5ID09\nIG51bGwpCiAgICAgICAgICAgIG1ldGFSZXBvc2l0b3J5ID0gbmV3TWV0YURh\ndGFSZXBvc2l0b3J5SW5zdGFuY2UoKTsKICAgICAgICByZXR1cm4gbWV0YVJl\ncG9zaXRvcnk7CiAgICB9CiAgICAKICAgIHB1YmxpYyBib29sZWFuIG1ldGFE\nYXRhUmVwb3NpdG9yeUF2YWlsYWJsZSgpeyAKICAgICAgICByZXR1cm4gbWV0\nYVJlcG9zaXRvcnkgIT0gbnVsbDsgCiAgICB9CgogICAgcHVibGljIE1ldGFE\nYXRhUmVwb3NpdG9yeSBuZXdNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgp\nIHsKICAgICAgICByZXR1cm4gKE1ldGFEYXRhUmVwb3NpdG9yeSkgbWV0YVJl\ncG9zaXRvcnlQbHVnaW4uaW5zdGFudGlhdGUoCiAgICAgICAgICAgIE1ldGFE\nYXRhUmVwb3NpdG9yeS5jbGFzcywgdGhpcyk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0Q29ubmVjdGlvblVzZXJOYW1lKFN0cmluZyBjb25uZWN0aW9u\nVXNlck5hbWUpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25Vc2VyTmFtZS5z\nZXRTdHJpbmcoY29ubmVjdGlvblVzZXJOYW1lKTsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldENvbm5lY3Rpb25Vc2VyTmFtZSgpIHsKICAgICAgICBy\nZXR1cm4gY29ubmVjdGlvblVzZXJOYW1lLmdldFN0cmluZygpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25QYXNzd29yZChTdHJpbmcg\nY29ubmVjdGlvblBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5jb25uZWN0aW9u\nUGFzc3dvcmQuc2V0U3RyaW5nKGNvbm5lY3Rpb25QYXNzd29yZCk7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uUGFzc3dvcmQoKSB7\nCiAgICAJRW5jcnlwdGlvblByb3ZpZGVyIHAgPSBnZXRFbmNyeXB0aW9uUHJv\ndmlkZXIoKTsKICAgIAlpZihwICE9IG51bGwpIHsKICAgIAkJcmV0dXJuIHAu\nZGVjcnlwdChjb25uZWN0aW9uUGFzc3dvcmQuZ2V0U3RyaW5nKCkpOwogICAg\nCX0KICAgICAgICByZXR1cm4gY29ubmVjdGlvblBhc3N3b3JkLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25VUkwo\nU3RyaW5nIGNvbm5lY3Rpb25VUkwpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rp\nb25VUkwuc2V0U3RyaW5nKGNvbm5lY3Rpb25VUkwpOwogICAgfQoKICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvblVSTCgpIHsKICAgICAgICByZXR1\ncm4gY29ubmVjdGlvblVSTC5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRDb25uZWN0aW9uRHJpdmVyTmFtZShTdHJpbmcgZHJpdmVy\nTmFtZSkgewogICAgICAgIHRoaXMuY29ubmVjdGlvbkRyaXZlck5hbWUuc2V0\nU3RyaW5nKGRyaXZlck5hbWUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0Q29ubmVjdGlvbkRyaXZlck5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGNv\nbm5lY3Rpb25Ecml2ZXJOYW1lLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldENvbm5lY3Rpb25Qcm9wZXJ0aWVzKFN0cmluZyBjb25u\nZWN0aW9uUHJvcGVydGllcykgewogICAgICAgIHRoaXMuY29ubmVjdGlvblBy\nb3BlcnRpZXMuc2V0U3RyaW5nKGNvbm5lY3Rpb25Qcm9wZXJ0aWVzKTsKICAg\nIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb25Qcm9wZXJ0aWVz\nKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uUHJvcGVydGllcy5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9u\nRmFjdG9yeVByb3BlcnRpZXMoCiAgICAgICAgU3RyaW5nIGNvbm5lY3Rpb25G\nYWN0b3J5UHJvcGVydGllcykgewogICAgICAgIHRoaXMuY29ubmVjdGlvbkZh\nY3RvcnlQcm9wZXJ0aWVzLnNldFN0cmluZyhjb25uZWN0aW9uRmFjdG9yeVBy\nb3BlcnRpZXMpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVj\ndGlvbkZhY3RvcnlQcm9wZXJ0aWVzKCkgewogICAgICAgIHJldHVybiBjb25u\nZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMuZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uRmFjdG9yeU1vZGUoKSB7\nCiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5TW9kZS5nZXRTdHJp\nbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRmFj\ndG9yeU1vZGUoU3RyaW5nIG1vZGUpIHsKICAgICAgICBjb25uZWN0aW9uRmFj\ndG9yeU1vZGUuc2V0U3RyaW5nKG1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGlzQ29ubmVjdGlvbkZhY3RvcnlNb2RlTWFuYWdlZCgpIHsKICAg\nICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnlNb2RlLmdldCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb25GYWN0b3J5TW9kZU1h\nbmFnZWQoYm9vbGVhbiBtYW5hZ2VkKSB7CiAgICAgICAgY29ubmVjdGlvbkZh\nY3RvcnlNb2RlLnNldChtYW5hZ2VkKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRDb25uZWN0aW9uRmFjdG9yeU5hbWUoU3RyaW5nIGNvbm5lY3Rpb25G\nYWN0b3J5TmFtZSkgewogICAgICAgIHRoaXMuY29ubmVjdGlvbkZhY3RvcnlO\nYW1lLnNldFN0cmluZyhjb25uZWN0aW9uRmFjdG9yeU5hbWUpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbkZhY3RvcnlOYW1lKCkg\newogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9yeU5hbWUuZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZh\nY3RvcnkoT2JqZWN0IGZhY3RvcnkpIHsKICAgICAgICBjb25uZWN0aW9uRmFj\ndG9yeS5zZXQoZmFjdG9yeSk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBn\nZXRDb25uZWN0aW9uRmFjdG9yeSgpIHsKICAgICAgICBpZiAoY29ubmVjdGlv\nbkZhY3RvcnkuZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgY29ubmVjdGlv\nbkZhY3Rvcnkuc2V0KAogICAgICAgICAgICAgICAgbG9va3VwQ29ubmVjdGlv\nbkZhY3RvcnkoZ2V0Q29ubmVjdGlvbkZhY3RvcnlOYW1lKCksCiAgICAgICAg\nICAgICAgICAJCWNvbm5lY3Rpb25GYWN0b3J5LmdldFByb3BlcnR5KCkpLCB0\ncnVlKTsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnkuZ2V0KCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBMb29rdXAgdGhlIGNvbm5lY3Rpb24g\nZmFjdG9yeSBhdCB0aGUgZ2l2ZW4gbmFtZS4KICAgICAqLwogICAgcHJpdmF0\nZSBPYmplY3QgbG9va3VwQ29ubmVjdGlvbkZhY3RvcnkoU3RyaW5nIG5hbWUs\nIFN0cmluZyB1c2VyS2V5KSB7CiAgICAgICAgbmFtZSA9IFN0cmluZ1V0aWxz\nLnRyaW1Ub051bGwobmFtZSk7CiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAg\nICAJcmV0dXJuIENvbmZpZ3VyYXRpb25zLmxvb2t1cChuYW1lLCB1c2VyS2V5\nLAogICAgICAgIAkJCWdldExvZyhPcGVuSlBBQ29uZmlndXJhdGlvbi5MT0df\nUlVOVElNRSkpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgewog\nICAgICAgIAlyZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0Q29ubmVjdGlvbjJVc2VyTmFtZShTdHJpbmcgY29ubmVj\ndGlvbjJVc2VyTmFtZSkgewogICAgICAgIHRoaXMuY29ubmVjdGlvbjJVc2Vy\nTmFtZS5zZXRTdHJpbmcoY29ubmVjdGlvbjJVc2VyTmFtZSk7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uMlVzZXJOYW1lKCkgewog\nICAgICAgIHJldHVybiBjb25uZWN0aW9uMlVzZXJOYW1lLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rpb24yUGFzc3dv\ncmQoU3RyaW5nIGNvbm5lY3Rpb24yUGFzc3dvcmQpIHsKICAgICAgICB0aGlz\nLmNvbm5lY3Rpb24yUGFzc3dvcmQuc2V0U3RyaW5nKGNvbm5lY3Rpb24yUGFz\nc3dvcmQpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlv\nbjJQYXNzd29yZCgpIHsKICAgIAlFbmNyeXB0aW9uUHJvdmlkZXIgcCA9IGdl\ndEVuY3J5cHRpb25Qcm92aWRlcigpOwogICAgCWlmKHAgIT0gbnVsbCl7CiAg\nICAJCXJldHVybiBwLmRlY3J5cHQoY29ubmVjdGlvbjJQYXNzd29yZC5nZXRT\ndHJpbmcoKSk7CiAgICAJfQogICAgICAgIHJldHVybiBjb25uZWN0aW9uMlBh\nc3N3b3JkLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndENvbm5lY3Rpb24yVVJMKFN0cmluZyBjb25uZWN0aW9uMlVSTCkgewogICAg\nICAgIHRoaXMuY29ubmVjdGlvbjJVUkwuc2V0U3RyaW5nKGNvbm5lY3Rpb24y\nVVJMKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb24y\nVVJMKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uMlVSTC5nZXRTdHJp\nbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uMkRy\naXZlck5hbWUoU3RyaW5nIGRyaXZlck5hbWUpIHsKICAgICAgICB0aGlzLmNv\nbm5lY3Rpb24yRHJpdmVyTmFtZS5zZXRTdHJpbmcoZHJpdmVyTmFtZSk7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uMkRyaXZlck5h\nbWUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24yRHJpdmVyTmFtZS5n\nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0\naW9uMlByb3BlcnRpZXMoU3RyaW5nIGNvbm5lY3Rpb24yUHJvcGVydGllcykg\newogICAgICAgIHRoaXMuY29ubmVjdGlvbjJQcm9wZXJ0aWVzLnNldFN0cmlu\nZyhjb25uZWN0aW9uMlByb3BlcnRpZXMpOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0Q29ubmVjdGlvbjJQcm9wZXJ0aWVzKCkgewogICAgICAgIHJl\ndHVybiBjb25uZWN0aW9uMlByb3BlcnRpZXMuZ2V0U3RyaW5nKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3RvcnkyUHJvcGVy\ndGllcygKICAgICAgICBTdHJpbmcgY29ubmVjdGlvbkZhY3RvcnkyUHJvcGVy\ndGllcykgewogICAgICAgIHRoaXMuY29ubmVjdGlvbkZhY3RvcnkyUHJvcGVy\ndGllcwogICAgICAgICAgICAuc2V0U3RyaW5nKGNvbm5lY3Rpb25GYWN0b3J5\nMlByb3BlcnRpZXMpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29u\nbmVjdGlvbkZhY3RvcnkyUHJvcGVydGllcygpIHsKICAgICAgICByZXR1cm4g\nY29ubmVjdGlvbkZhY3RvcnkyUHJvcGVydGllcy5nZXRTdHJpbmcoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRmFjdG9yeTJOYW1l\nKFN0cmluZyBjb25uZWN0aW9uRmFjdG9yeTJOYW1lKSB7CiAgICAgICAgdGhp\ncy5jb25uZWN0aW9uRmFjdG9yeTJOYW1lLnNldFN0cmluZyhjb25uZWN0aW9u\nRmFjdG9yeTJOYW1lKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENv\nbm5lY3Rpb25GYWN0b3J5Mk5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5l\nY3Rpb25GYWN0b3J5Mk5hbWUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3RvcnkyKE9iamVjdCBmYWN0b3J5\nKSB7CiAgICAgICAgY29ubmVjdGlvbkZhY3RvcnkyLnNldChmYWN0b3J5KTsK\nICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldENvbm5lY3Rpb25GYWN0b3J5\nMigpIHsKICAgICAgICBpZiAoY29ubmVjdGlvbkZhY3RvcnkyLmdldCgpID09\nIG51bGwpCiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXQoCiAg\nICAgICAgICAgICAgICBsb29rdXBDb25uZWN0aW9uRmFjdG9yeShnZXRDb25u\nZWN0aW9uRmFjdG9yeTJOYW1lKCksIAogICAgICAgICAgICAgICAgCQljb25u\nZWN0aW9uRmFjdG9yeTIuZ2V0UHJvcGVydHkoKSksIGZhbHNlKTsKICAgICAg\nICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnkyLmdldCgpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldE9wdGltaXN0aWMoYm9vbGVhbiBvcHRpbWlzdGlj\nKSB7CiAgICAgICAgdGhpcy5vcHRpbWlzdGljLnNldChvcHRpbWlzdGljKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRPcHRpbWlzdGljKEJvb2xlYW4g\nb3B0aW1pc3RpYykgewogICAgICAgIGlmIChvcHRpbWlzdGljICE9IG51bGwp\nCiAgICAgICAgICAgIHNldE9wdGltaXN0aWMob3B0aW1pc3RpYy5ib29sZWFu\nVmFsdWUoKSk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZ2V0T3B0aW1p\nc3RpYygpIHsKICAgICAgICByZXR1cm4gb3B0aW1pc3RpYy5nZXQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRBdXRvQ2xlYXIoU3RyaW5nIGNsZWFy\nKSB7CiAgICAgICAgYXV0b0NsZWFyLnNldFN0cmluZyhjbGVhcik7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRBdXRvQ2xlYXIoKSB7CiAgICAgICAg\ncmV0dXJuIGF1dG9DbGVhci5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRBdXRvQ2xlYXIoaW50IGNsZWFyKSB7CiAgICAgICAgYXV0\nb0NsZWFyLnNldChjbGVhcik7CiAgICB9CgogICAgcHVibGljIGludCBnZXRB\ndXRvQ2xlYXJDb25zdGFudCgpIHsKICAgICAgICByZXR1cm4gYXV0b0NsZWFy\nLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJldGFpblN0YXRl\nKGJvb2xlYW4gcmV0YWluU3RhdGUpIHsKICAgICAgICB0aGlzLnJldGFpblN0\nYXRlLnNldChyZXRhaW5TdGF0ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0UmV0YWluU3RhdGUoQm9vbGVhbiByZXRhaW5TdGF0ZSkgewogICAgICAg\nIGlmIChyZXRhaW5TdGF0ZSAhPSBudWxsKQogICAgICAgICAgICBzZXRSZXRh\naW5TdGF0ZShyZXRhaW5TdGF0ZS5ib29sZWFuVmFsdWUoKSk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gZ2V0UmV0YWluU3RhdGUoKSB7CiAgICAgICAg\ncmV0dXJuIHJldGFpblN0YXRlLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFJlc3RvcmVTdGF0ZShTdHJpbmcgcmVzdG9yZVN0YXRlKSB7CiAg\nICAgICAgdGhpcy5yZXN0b3JlU3RhdGUuc2V0U3RyaW5nKHJlc3RvcmVTdGF0\nZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRSZXN0b3JlU3RhdGUo\nKSB7CiAgICAgICAgcmV0dXJuIHJlc3RvcmVTdGF0ZS5nZXRTdHJpbmcoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSZXN0b3JlU3RhdGUoaW50IHJl\nc3RvcmVTdGF0ZSkgewogICAgICAgIHRoaXMucmVzdG9yZVN0YXRlLnNldChy\nZXN0b3JlU3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0UmVzdG9y\nZVN0YXRlQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIHJlc3RvcmVTdGF0\nZS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRBdXRvRGV0YWNo\nKFN0cmluZyBhdXRvRGV0YWNoKSB7CiAgICAgICAgdGhpcy5hdXRvRGV0YWNo\nLnNldFN0cmluZyhhdXRvRGV0YWNoKTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldEF1dG9EZXRhY2goKSB7CiAgICAgICAgcmV0dXJuIGF1dG9EZXRh\nY2guZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QXV0\nb0RldGFjaChpbnQgYXV0b0RldGFjaEZsYWdzKSB7CiAgICAgICAgYXV0b0Rl\ndGFjaC5zZXRDb25zdGFudChhdXRvRGV0YWNoRmxhZ3MpOwogICAgfQoKICAg\nIHB1YmxpYyBpbnQgZ2V0QXV0b0RldGFjaENvbnN0YW50KCkgewogICAgICAg\nIHJldHVybiBhdXRvRGV0YWNoLmdldENvbnN0YW50KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0RGV0YWNoU3RhdGUoU3RyaW5nIGRldGFjaFN0YXRl\nKSB7CiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uc2V0U3RyaW5nKGRldGFj\naFN0YXRlKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldERldGFjaFN0\nYXRlKCkgewogICAgICAgIHJldHVybiBkZXRhY2hTdGF0ZVBsdWdpbi5nZXRT\ndHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREZXRhY2hTdGF0\nZShEZXRhY2hPcHRpb25zIGRldGFjaFN0YXRlKSB7CiAgICAgICAgZGV0YWNo\nU3RhdGVQbHVnaW4uc2V0KGRldGFjaFN0YXRlKTsKICAgIH0KCiAgICBwdWJs\naWMgRGV0YWNoT3B0aW9ucyBnZXREZXRhY2hTdGF0ZUluc3RhbmNlKCkgewog\nICAgICAgIGlmIChkZXRhY2hTdGF0ZVBsdWdpbi5nZXQoKSA9PSBudWxsKQog\nICAgICAgICAgICBkZXRhY2hTdGF0ZVBsdWdpbi5pbnN0YW50aWF0ZShEZXRh\nY2hPcHRpb25zLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKERldGFj\naE9wdGlvbnMpIGRldGFjaFN0YXRlUGx1Z2luLmdldCgpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldElnbm9yZUNoYW5nZXMoYm9vbGVhbiBpZ25vcmVD\naGFuZ2VzKSB7CiAgICAgICAgdGhpcy5pZ25vcmVDaGFuZ2VzLnNldChpZ25v\ncmVDaGFuZ2VzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRJZ25vcmVD\naGFuZ2VzKEJvb2xlYW4gaWdub3JlQ2hhbmdlcykgewogICAgICAgIGlmIChp\nZ25vcmVDaGFuZ2VzICE9IG51bGwpCiAgICAgICAgICAgIHNldElnbm9yZUNo\nYW5nZXMoaWdub3JlQ2hhbmdlcy5ib29sZWFuVmFsdWUoKSk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gZ2V0SWdub3JlQ2hhbmdlcygpIHsKICAgICAg\nICByZXR1cm4gaWdub3JlQ2hhbmdlcy5nZXQoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXROb250cmFuc2FjdGlvbmFsUmVhZChib29sZWFuIG5vbnRy\nYW5zYWN0aW9uYWxSZWFkKSB7CiAgICAgICAgdGhpcy5ub250cmFuc2FjdGlv\nbmFsUmVhZC5zZXQobm9udHJhbnNhY3Rpb25hbFJlYWQpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldE5vbnRyYW5zYWN0aW9uYWxSZWFkKEJvb2xlYW4g\nbm9udHJhbnNhY3Rpb25hbFJlYWQpIHsKICAgICAgICBpZiAobm9udHJhbnNh\nY3Rpb25hbFJlYWQgIT0gbnVsbCkKICAgICAgICAgICAgc2V0Tm9udHJhbnNh\nY3Rpb25hbFJlYWQobm9udHJhbnNhY3Rpb25hbFJlYWQuYm9vbGVhblZhbHVl\nKCkpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldE5vbnRyYW5zYWN0\naW9uYWxSZWFkKCkgewogICAgICAgIHJldHVybiBub250cmFuc2FjdGlvbmFs\nUmVhZC5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROb250cmFu\nc2FjdGlvbmFsV3JpdGUoYm9vbGVhbiBub250cmFuc2FjdGlvbmFsV3JpdGUp\nIHsKICAgICAgICB0aGlzLm5vbnRyYW5zYWN0aW9uYWxXcml0ZS5zZXQobm9u\ndHJhbnNhY3Rpb25hbFdyaXRlKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXROb250cmFuc2FjdGlvbmFsV3JpdGUoQm9vbGVhbiBub250cmFuc2FjdGlv\nbmFsV3JpdGUpIHsKICAgICAgICBpZiAobm9udHJhbnNhY3Rpb25hbFdyaXRl\nICE9IG51bGwpCiAgICAgICAgICAgIHNldE5vbnRyYW5zYWN0aW9uYWxXcml0\nZShub250cmFuc2FjdGlvbmFsV3JpdGUuYm9vbGVhblZhbHVlKCkpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIGdldE5vbnRyYW5zYWN0aW9uYWxXcml0\nZSgpIHsKICAgICAgICByZXR1cm4gbm9udHJhbnNhY3Rpb25hbFdyaXRlLmdl\ndCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE11bHRpdGhyZWFkZWQo\nYm9vbGVhbiBtdWx0aXRocmVhZGVkKSB7CiAgICAgICAgdGhpcy5tdWx0aXRo\ncmVhZGVkLnNldChtdWx0aXRocmVhZGVkKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRNdWx0aXRocmVhZGVkKEJvb2xlYW4gbXVsdGl0aHJlYWRlZCkg\newogICAgICAgIGlmIChtdWx0aXRocmVhZGVkICE9IG51bGwpCiAgICAgICAg\nICAgIHNldE11bHRpdGhyZWFkZWQobXVsdGl0aHJlYWRlZC5ib29sZWFuVmFs\ndWUoKSk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZ2V0TXVsdGl0aHJl\nYWRlZCgpIHsKICAgICAgICByZXR1cm4gbXVsdGl0aHJlYWRlZC5nZXQoKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGZXRjaEJhdGNoU2l6ZShpbnQg\nZmV0Y2hCYXRjaFNpemUpIHsKICAgICAgICB0aGlzLmZldGNoQmF0Y2hTaXpl\nLnNldChmZXRjaEJhdGNoU2l6ZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0RmV0Y2hCYXRjaFNpemUoSW50ZWdlciBmZXRjaEJhdGNoU2l6ZSkgewog\nICAgICAgIGlmIChmZXRjaEJhdGNoU2l6ZSAhPSBudWxsKQogICAgICAgICAg\nICBzZXRGZXRjaEJhdGNoU2l6ZShmZXRjaEJhdGNoU2l6ZS5pbnRWYWx1ZSgp\nKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldEZldGNoQmF0Y2hTaXplKCkg\newogICAgICAgIHJldHVybiBmZXRjaEJhdGNoU2l6ZS5nZXQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRNYXhGZXRjaERlcHRoKGludCBtYXhGZXRj\naERlcHRoKSB7CiAgICAgICAgdGhpcy5tYXhGZXRjaERlcHRoLnNldChtYXhG\nZXRjaERlcHRoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNYXhGZXRj\naERlcHRoKEludGVnZXIgbWF4RmV0Y2hEZXB0aCkgewogICAgICAgIGlmICht\nYXhGZXRjaERlcHRoICE9IG51bGwpCiAgICAgICAgICAgIHNldE1heEZldGNo\nRGVwdGgobWF4RmV0Y2hEZXB0aC5pbnRWYWx1ZSgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldE1heEZldGNoRGVwdGgoKSB7CiAgICAgICAgcmV0dXJu\nIG1heEZldGNoRGVwdGguZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0RmV0Y2hHcm91cHMoU3RyaW5nIGZldGNoR3JvdXBzKSB7CiAgICAgICAg\ndGhpcy5mZXRjaEdyb3Vwcy5zZXRTdHJpbmcoZmV0Y2hHcm91cHMpOwogICAg\nfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RmV0Y2hHcm91cHMoKSB7CiAgICAg\nICAgcmV0dXJuIGZldGNoR3JvdXBzLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmdbXSBnZXRGZXRjaEdyb3Vwc0xpc3QoKSB7CiAgICAg\nICAgcmV0dXJuIGZldGNoR3JvdXBzLmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldEZldGNoR3JvdXBzKFN0cmluZ1tdIGZldGNoR3JvdXBzKSB7\nCiAgICAgICAgdGhpcy5mZXRjaEdyb3Vwcy5zZXQoZmV0Y2hHcm91cHMpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZsdXNoQmVmb3JlUXVlcmllcyhT\ndHJpbmcgZmx1c2gpIHsKICAgICAgICBmbHVzaEJlZm9yZVF1ZXJpZXMuc2V0\nU3RyaW5nKGZsdXNoKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEZs\ndXNoQmVmb3JlUXVlcmllcygpIHsKICAgICAgICByZXR1cm4gZmx1c2hCZWZv\ncmVRdWVyaWVzLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldEZsdXNoQmVmb3JlUXVlcmllcyhpbnQgZmx1c2gpIHsKICAgICAgICBm\nbHVzaEJlZm9yZVF1ZXJpZXMuc2V0KGZsdXNoKTsKICAgIH0KCiAgICBwdWJs\naWMgaW50IGdldEZsdXNoQmVmb3JlUXVlcmllc0NvbnN0YW50KCkgewogICAg\nICAgIHJldHVybiBmbHVzaEJlZm9yZVF1ZXJpZXMuZ2V0KCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0TG9ja1RpbWVvdXQoaW50IHRpbWVvdXQpIHsK\nICAgICAgICBsb2NrVGltZW91dC5zZXQodGltZW91dCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0TG9ja1RpbWVvdXQoSW50ZWdlciB0aW1lb3V0KSB7\nCiAgICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkKICAgICAgICAgICAgc2V0\nTG9ja1RpbWVvdXQodGltZW91dC5pbnRWYWx1ZSgpKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldExvY2tUaW1lb3V0KCkgewogICAgICAgIHJldHVybiBs\nb2NrVGltZW91dC5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFF1\nZXJ5VGltZW91dCgpIHsKICAgICAgICByZXR1cm4gcXVlcnlUaW1lb3V0Lmdl\ndCgpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCBzZXRRdWVyeVRpbWVv\ndXQoaW50IHRpbWVvdXQpIHsKICAgICAgICAgcXVlcnlUaW1lb3V0LnNldCh0\naW1lb3V0KTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSZWFkTG9ja0xl\ndmVsKFN0cmluZyBsZXZlbCkgewogICAgICAgIHJlYWRMb2NrTGV2ZWwuc2V0\nU3RyaW5nKGxldmVsKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFJl\nYWRMb2NrTGV2ZWwoKSB7CiAgICAgICAgcmV0dXJuIHJlYWRMb2NrTGV2ZWwu\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVhZExv\nY2tMZXZlbChpbnQgbGV2ZWwpIHsKICAgICAgICByZWFkTG9ja0xldmVsLnNl\ndChsZXZlbCk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRSZWFkTG9ja0xl\ndmVsQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIHJlYWRMb2NrTGV2ZWwu\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0V3JpdGVMb2NrTGV2\nZWwoU3RyaW5nIGxldmVsKSB7CiAgICAgICAgd3JpdGVMb2NrTGV2ZWwuc2V0\nU3RyaW5nKGxldmVsKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFdy\naXRlTG9ja0xldmVsKCkgewogICAgICAgIHJldHVybiB3cml0ZUxvY2tMZXZl\nbC5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRXcml0\nZUxvY2tMZXZlbChpbnQgbGV2ZWwpIHsKICAgICAgICB3cml0ZUxvY2tMZXZl\nbC5zZXQobGV2ZWwpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0V3JpdGVM\nb2NrTGV2ZWxDb25zdGFudCgpIHsKICAgICAgICByZXR1cm4gd3JpdGVMb2Nr\nTGV2ZWwuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U2VxdWVu\nY2UoU3RyaW5nIHNlcXVlbmNlKSB7CiAgICAgICAgc2VxUGx1Z2luLnNldFN0\ncmluZyhzZXF1ZW5jZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRT\nZXF1ZW5jZSgpIHsKICAgICAgICByZXR1cm4gc2VxUGx1Z2luLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNlcXVlbmNlKFNlcSBz\nZXEpIHsKICAgICAgICBzZXFQbHVnaW4uc2V0KHNlcSk7CiAgICB9CgogICAg\ncHVibGljIFNlcSBnZXRTZXF1ZW5jZUluc3RhbmNlKCkgewogICAgICAgIGlm\nIChzZXFQbHVnaW4uZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgc2VxUGx1\nZ2luLmluc3RhbnRpYXRlKFNlcS5jbGFzcywgdGhpcyk7CiAgICAgICAgcmV0\ndXJuIChTZXEpIHNlcVBsdWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRDb25uZWN0aW9uUmV0YWluTW9kZShTdHJpbmcgY29ubmVjdGlv\nblJldGFpbk1vZGUpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25SZXRhaW5N\nb2RlLnNldFN0cmluZyhjb25uZWN0aW9uUmV0YWluTW9kZSk7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uUmV0YWluTW9kZSgpIHsK\nICAgICAgICByZXR1cm4gY29ubmVjdGlvblJldGFpbk1vZGUuZ2V0U3RyaW5n\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvblJldGFp\nbk1vZGUoaW50IGNvbm5lY3Rpb25SZXRhaW5Nb2RlKSB7CiAgICAgICAgdGhp\ncy5jb25uZWN0aW9uUmV0YWluTW9kZS5zZXQoY29ubmVjdGlvblJldGFpbk1v\nZGUpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0Q29ubmVjdGlvblJldGFp\nbk1vZGVDb25zdGFudCgpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvblJl\ndGFpbk1vZGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Rmls\ndGVyTGlzdGVuZXJzKFN0cmluZyBmaWx0ZXJMaXN0ZW5lcnMpIHsKICAgICAg\nICBmaWx0ZXJMaXN0ZW5lclBsdWdpbnMuc2V0U3RyaW5nKGZpbHRlckxpc3Rl\nbmVycyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRGaWx0ZXJMaXN0\nZW5lcnMoKSB7CiAgICAgICAgcmV0dXJuIGZpbHRlckxpc3RlbmVyUGx1Z2lu\ncy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGaWx0\nZXJMaXN0ZW5lcnMoRmlsdGVyTGlzdGVuZXJbXSBsaXN0ZW5lcnMpIHsKICAg\nICAgICBmaWx0ZXJMaXN0ZW5lclBsdWdpbnMuc2V0KGxpc3RlbmVycyk7CiAg\nICB9CgogICAgcHVibGljIEZpbHRlckxpc3RlbmVyW10gZ2V0RmlsdGVyTGlz\ndGVuZXJJbnN0YW5jZXMoKSB7CiAgICAgICAgaWYgKGZpbHRlckxpc3RlbmVy\nUGx1Z2lucy5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBmaWx0ZXJMaXN0\nZW5lclBsdWdpbnMuaW5zdGFudGlhdGUoRmlsdGVyTGlzdGVuZXIuY2xhc3Ms\nIHRoaXMpOwogICAgICAgIHJldHVybiAoRmlsdGVyTGlzdGVuZXJbXSkgZmls\ndGVyTGlzdGVuZXJQbHVnaW5zLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldEFnZ3JlZ2F0ZUxpc3RlbmVycyhTdHJpbmcgYWdncmVnYXRlTGlz\ndGVuZXJzKSB7CiAgICAgICAgYWdncmVnYXRlTGlzdGVuZXJQbHVnaW5zLnNl\ndFN0cmluZyhhZ2dyZWdhdGVMaXN0ZW5lcnMpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0QWdncmVnYXRlTGlzdGVuZXJzKCkgewogICAgICAgIHJl\ndHVybiBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnMuZ2V0U3RyaW5nKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0QWdncmVnYXRlTGlzdGVuZXJzKEFn\nZ3JlZ2F0ZUxpc3RlbmVyW10gbGlzdGVuZXJzKSB7CiAgICAgICAgYWdncmVn\nYXRlTGlzdGVuZXJQbHVnaW5zLnNldChsaXN0ZW5lcnMpOwogICAgfQoKICAg\nIHB1YmxpYyBBZ2dyZWdhdGVMaXN0ZW5lcltdIGdldEFnZ3JlZ2F0ZUxpc3Rl\nbmVySW5zdGFuY2VzKCkgewogICAgICAgIGlmIChhZ2dyZWdhdGVMaXN0ZW5l\nclBsdWdpbnMuZ2V0KCkgPT0gbnVsbCkKICAgICAgICAgICAgYWdncmVnYXRl\nTGlzdGVuZXJQbHVnaW5zLmluc3RhbnRpYXRlKEFnZ3JlZ2F0ZUxpc3RlbmVy\nLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKEFnZ3JlZ2F0ZUxpc3Rl\nbmVyW10pIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucy5nZXQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRSZXRyeUNsYXNzUmVnaXN0cmF0aW9uKGJv\nb2xlYW4gcmV0cnkpIHsKICAgICAgICByZXRyeUNsYXNzUmVnaXN0cmF0aW9u\nLnNldChyZXRyeSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmV0cnlD\nbGFzc1JlZ2lzdHJhdGlvbihCb29sZWFuIHJldHJ5KSB7CiAgICAgICAgaWYg\nKHJldHJ5ICE9IG51bGwpCiAgICAgICAgICAgIHNldFJldHJ5Q2xhc3NSZWdp\nc3RyYXRpb24ocmV0cnkuYm9vbGVhblZhbHVlKCkpOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGdldFJldHJ5Q2xhc3NSZWdpc3RyYXRpb24oKSB7CiAg\nICAgICAgcmV0dXJuIHJldHJ5Q2xhc3NSZWdpc3RyYXRpb24uZ2V0KCk7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb21wYXRpYmlsaXR5KCkgewog\nICAgICAgIHJldHVybiBjb21wYXRpYmlsaXR5UGx1Z2luLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbXBhdGliaWxpdHkoU3Ry\naW5nIGNvbXBhdGliaWxpdHkpIHsKICAgICAgICBjb21wYXRpYmlsaXR5UGx1\nZ2luLnNldFN0cmluZyhjb21wYXRpYmlsaXR5KTsKICAgIH0KCiAgICAvKioK\nICAgICAqIElmIGEgQ29tcGF0aWJpbGl0eSBpbnN0YW5jZSBpcyBhc3NvY2lh\ndGVkIHdpdGggdGhlIFNwZWNpZmljYXRpb24sIAogICAgICogd2Ugd2lsbCBj\nb25maWd1cmUgdGhpcyBDb21wYXRpYmlsaXR5IGluc3RhbmNlIGluc3RlYWQg\nb2YgaW5zdGFudGlhdGluZyBhIAogICAgICogbmV3IG9uZSBzbyB0aGF0IHRo\nZSBjb21wYXRpYmlsaXR5IGZsYWdzIHNldCBpbiBjb21wbGlhbmNlIHdpdGgg\ndGhlIAogICAgICogU3BlY2lmaWNhdGlvbiBjYW4gYmUgcHJlc2VydmVkLgog\nICAgICovCiAgICBwdWJsaWMgQ29tcGF0aWJpbGl0eSBnZXRDb21wYXRpYmls\naXR5SW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKGNvbXBhdGliaWxpdHlQbHVn\naW4uZ2V0KCkgPT0gbnVsbCkgewogICAgICAgICAgICBTcGVjaWZpY2F0aW9u\nIHNwZWMgPSBnZXRTcGVjaWZpY2F0aW9uSW5zdGFuY2UoKTsKICAgICAgICAg\nICAgQ29tcGF0aWJpbGl0eSBjb21wID0gc3BlYyAhPSBudWxsID8gc3BlYy5n\nZXRDb21wYXRpYmlsaXR5KCkgOiBudWxsOwogICAgICAgICAgICBpZiAoY29t\ncCA9PSBudWxsKQogICAgICAgICAgICAgICAgY29tcGF0aWJpbGl0eVBsdWdp\nbi5pbnN0YW50aWF0ZShDb21wYXRpYmlsaXR5LmNsYXNzLCB0aGlzKTsKICAg\nICAgICAgICAgZWxzZSAKICAgICAgICAgICAgICAgIGNvbXBhdGliaWxpdHlQ\nbHVnaW4uY29uZmlndXJlKGNvbXAsIHRoaXMpOwogICAgICAgIH0KICAgICAg\nICByZXR1cm4gKENvbXBhdGliaWxpdHkpIGNvbXBhdGliaWxpdHlQbHVnaW4u\nZ2V0KCk7CiAgICB9CiAgICAKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q2FsbGJh\nY2tPcHRpb25zKCkgewogICAgICAgIHJldHVybiBjYWxsYmFja1BsdWdpbi5n\nZXRTdHJpbmcoKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgc2V0Q2Fs\nbGJhY2tPcHRpb25zKFN0cmluZyBvcHRpb25zKSB7CiAgICAgICAgY2FsbGJh\nY2tQbHVnaW4uc2V0U3RyaW5nKG9wdGlvbnMpOwogICAgfQogICAgCiAgICBw\ndWJsaWMgQ2FsbGJhY2tPcHRpb25zIGdldENhbGxiYWNrT3B0aW9uc0luc3Rh\nbmNlKCkgewogICAgICAgIGlmIChjYWxsYmFja1BsdWdpbi5nZXQoKSA9PSBu\ndWxsKQogICAgICAgICAgICBjYWxsYmFja1BsdWdpbi5pbnN0YW50aWF0ZShD\nYWxsYmFja09wdGlvbnMuY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAo\nQ2FsbGJhY2tPcHRpb25zKSBjYWxsYmFja1BsdWdpbi5nZXQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldFF1ZXJ5Q29tcGlsYXRpb25DYWNoZSgp\nIHsKICAgICAgICByZXR1cm4gcXVlcnlDb21waWxhdGlvbkNhY2hlUGx1Z2lu\nLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFF1ZXJ5\nQ29tcGlsYXRpb25DYWNoZShTdHJpbmcgcXVlcnlDb21waWxhdGlvbkNhY2hl\nKSB7CiAgICAgICAgcXVlcnlDb21waWxhdGlvbkNhY2hlUGx1Z2luLnNldFN0\ncmluZyhxdWVyeUNvbXBpbGF0aW9uQ2FjaGUpOwogICAgfQogICAgCiAgICBw\ndWJsaWMgTWFwIGdldFF1ZXJ5Q29tcGlsYXRpb25DYWNoZUluc3RhbmNlKCkg\newogICAgICAgIGlmIChxdWVyeUNvbXBpbGF0aW9uQ2FjaGVQbHVnaW4uZ2V0\nKCkgPT0gbnVsbCkKICAgICAgICAgICAgcXVlcnlDb21waWxhdGlvbkNhY2hl\nUGx1Z2luLmluc3RhbnRpYXRlKE1hcC5jbGFzcywgdGhpcyk7CiAgICAgICAg\ncmV0dXJuIChNYXApIHF1ZXJ5Q29tcGlsYXRpb25DYWNoZVBsdWdpbi5nZXQo\nKTsKICAgIH0KCiAgICBwdWJsaWMgU3RvcmVGYWNhZGVUeXBlUmVnaXN0cnkg\nZ2V0U3RvcmVGYWNhZGVUeXBlUmVnaXN0cnkoKSB7CiAgICAgICAgcmV0dXJu\nIF9zdG9yZUZhY2FkZVJlZ2lzdHJ5OwogICAgfQoKICAgIHB1YmxpYyBCcm9r\nZXJGYWN0b3J5RXZlbnRNYW5hZ2VyIGdldEJyb2tlckZhY3RvcnlFdmVudE1h\nbmFnZXIoKSB7CiAgICAgICAgcmV0dXJuIF9icm9rZXJGYWN0b3J5RXZlbnRN\nYW5hZ2VyOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UnVudGltZVVu\nZW5oYW5jZWRDbGFzc2VzKCkgewogICAgICAgIHJldHVybiBydW50aW1lVW5l\nbmhhbmNlZENsYXNzZXMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGlj\nIGludCBnZXRSdW50aW1lVW5lbmhhbmNlZENsYXNzZXNDb25zdGFudCgpIHsK\nICAgICAgICByZXR1cm4gcnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLmdldCgp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJ1bnRpbWVVbmVuaGFuY2Vk\nQ2xhc3NlcyhpbnQgbW9kZSkgewogICAgICAgIHJ1bnRpbWVVbmVuaGFuY2Vk\nQ2xhc3Nlcy5zZXQobW9kZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nUnVudGltZVVuZW5oYW5jZWRDbGFzc2VzKFN0cmluZyBtb2RlKSB7CiAgICAg\nICAgcnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLnNldFN0cmluZyhtb2RlKTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENhY2hlTWFyc2hhbGxlcnMo\nKSB7CiAgICAgICAgcmV0dXJuIGNhY2hlTWFyc2hhbGxlclBsdWdpbnMuZ2V0\nU3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q2FjaGVNYXJz\naGFsbGVycyhTdHJpbmcgbWFyc2hhbGxlcnMpIHsKICAgICAgICBjYWNoZU1h\ncnNoYWxsZXJQbHVnaW5zLnNldFN0cmluZyhtYXJzaGFsbGVycyk7CiAgICB9\nCgogICAgcHVibGljIE1hcCBnZXRDYWNoZU1hcnNoYWxsZXJJbnN0YW5jZXMo\nKSB7CiAgICAgICAgcmV0dXJuIGNhY2hlTWFyc2hhbGxlclBsdWdpbnMuZ2V0\nSW5zdGFuY2VzQXNNYXAoKTsKICAgIH0KICAgIAogICAgcHVibGljIGJvb2xl\nYW4gaXNJbml0aWFsaXplRWFnZXJseSgpIHsKICAgIAlyZXR1cm4gZWFnZXJJ\nbml0aWFsaXphdGlvbi5nZXQoKTsKICAgIH0KICAgIAogICAgcHVibGljIHZv\naWQgc2V0SW5pdGlhbGl6ZUVhZ2VybHkoYm9vbGVhbiByZXRyeSkgewogICAg\nCWVhZ2VySW5pdGlhbGl6YXRpb24uc2V0KHJldHJ5KTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRWYWxpZGF0aW9uTW9kZShTdHJpbmcgbW9kZSkgewog\nICAgICAgIHZhbGlkYXRpb25Nb2RlLnNldFN0cmluZyhtb2RlKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldFZhbGlkYXRpb25Nb2RlKCkgewogICAg\nICAgIFN0cmluZyBtb2RlID0gdmFsaWRhdGlvbk1vZGUuZ2V0U3RyaW5nKCk7\nCiAgICAgICAgaWYgKG1vZGUgPT0gbnVsbCkKICAgICAgICAgICAgbW9kZSA9\nIHZhbGlkYXRpb25Nb2RlLmdldERlZmF1bHQoKTsKICAgICAgICByZXR1cm4g\nbW9kZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRWYWxpZGF0aW9uR3Jv\ndXBQcmVQZXJzaXN0KFN0cmluZyB2Z1ByZVBlcnNpc3QpIHsKICAgICAgICB2\nYWxpZGF0aW9uR3JvdXBQcmVQZXJzaXN0LnNldFN0cmluZyh2Z1ByZVBlcnNp\nc3QpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0VmFsaWRhdGlvbkdy\nb3VwUHJlUGVyc2lzdCgpIHsKICAgICAgICBTdHJpbmcgdmdQcmVQZXJzaXN0\nID0gdmFsaWRhdGlvbkdyb3VwUHJlUGVyc2lzdC5nZXRTdHJpbmcoKTsKICAg\nICAgICBpZiAodmdQcmVQZXJzaXN0ID09IG51bGwpCiAgICAgICAgICAgIHZn\nUHJlUGVyc2lzdCA9IHZhbGlkYXRpb25Hcm91cFByZVBlcnNpc3QuZ2V0RGVm\nYXVsdCgpOwogICAgICAgIHJldHVybiB2Z1ByZVBlcnNpc3Q7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0VmFsaWRhdGlvbkdyb3VwUHJlVXBkYXRlKFN0\ncmluZyB2Z1ByZVVwZGF0ZSkgewogICAgICAgIHZhbGlkYXRpb25Hcm91cFBy\nZVVwZGF0ZS5zZXRTdHJpbmcodmdQcmVVcGRhdGUpOwogICAgfQoKICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0VmFsaWRhdGlvbkdyb3VwUHJlVXBkYXRlKCkgewog\nICAgICAgIFN0cmluZyB2Z1ByZVVwZGF0ZSA9IHZhbGlkYXRpb25Hcm91cFBy\nZVVwZGF0ZS5nZXRTdHJpbmcoKTsKICAgICAgICBpZiAodmdQcmVVcGRhdGUg\nPT0gbnVsbCkKICAgICAgICAgICAgdmdQcmVVcGRhdGUgPSB2YWxpZGF0aW9u\nR3JvdXBQcmVVcGRhdGUuZ2V0RGVmYXVsdCgpOwogICAgICAgIHJldHVybiB2\nZ1ByZVVwZGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRWYWxpZGF0\naW9uR3JvdXBQcmVSZW1vdmUoU3RyaW5nIHZnUHJlUmVtb3ZlKSB7CiAgICAg\nICAgdmFsaWRhdGlvbkdyb3VwUHJlUmVtb3ZlLnNldFN0cmluZyh2Z1ByZVJl\nbW92ZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRWYWxpZGF0aW9u\nR3JvdXBQcmVSZW1vdmUoKSB7CiAgICAgICAgU3RyaW5nIHZnUHJlUmVtb3Zl\nID0gdmFsaWRhdGlvbkdyb3VwUHJlUmVtb3ZlLmdldFN0cmluZygpOwogICAg\nICAgIGlmICh2Z1ByZVJlbW92ZSA9PSBudWxsKQogICAgICAgICAgICB2Z1By\nZVJlbW92ZSA9IHZhbGlkYXRpb25Hcm91cFByZVJlbW92ZS5nZXREZWZhdWx0\nKCk7CiAgICAgICAgcmV0dXJuIHZnUHJlUmVtb3ZlOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGluc3RhbnRpYXRlQWxsKCkgewogICAgICAgIHN1cGVyLmlu\nc3RhbnRpYXRlQWxsKCk7CiAgICAgICAgZ2V0TWV0YURhdGFSZXBvc2l0b3J5\nSW5zdGFuY2UoKTsKICAgICAgICBnZXRSZW1vdGVDb21taXRFdmVudE1hbmFn\nZXIoKTsKICAgICAgICBjYWNoZU1hcnNoYWxsZXJQbHVnaW5zLmluaXRpYWxp\nemUoKTsKICAgICAgICBpZiAoaXNJbml0aWFsaXplRWFnZXJseSgpKSB7CiAg\nICAgICAgCWdldENvbm5lY3Rpb25GYWN0b3J5KCk7CiAgICAgICAgCWdldENv\nbm5lY3Rpb25GYWN0b3J5MigpOwogICAgICAgIH0KICAgIH0KCiAgICBwcm90\nZWN0ZWQgdm9pZCBwcmVDbG9zZSgpIHsKICAgICAgICBJbXBsSGVscGVyLmNs\nb3NlKG1ldGFSZXBvc2l0b3J5KTsKICAgICAgICBJbXBsSGVscGVyLmNsb3Nl\nKHJlbW90ZUV2ZW50TWFuYWdlcik7CiAgICAgICAgc3VwZXIucHJlQ2xvc2Uo\nKTsKICAgIH0KCiAgICBwdWJsaWMgTG9nIGdldENvbmZpZ3VyYXRpb25Mb2co\nKSB7CiAgICAgICAgcmV0dXJuIGdldExvZyhMT0dfUlVOVElNRSk7CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHNldFF1ZXJ5U1FMQ2FjaGUoU3RyaW5n\nIHF1ZXJ5U1FMQ2FjaGUpIHsKICAgICAgICBwcmVwYXJlZFF1ZXJ5Q2FjaGVQ\nbHVnaW4uc2V0U3RyaW5nKHF1ZXJ5U1FMQ2FjaGUpOwogICAgfQogICAgCiAg\nICBwdWJsaWMgdm9pZCBzZXRRdWVyeVNRTENhY2hlKFByZXBhcmVkUXVlcnlD\nYWNoZSBxdWVyeVNRTENhY2hlKSB7CiAgICAgICAgcHJlcGFyZWRRdWVyeUNh\nY2hlUGx1Z2luLnNldChxdWVyeVNRTENhY2hlKTsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldFF1ZXJ5U1FMQ2FjaGUoKSB7CiAgICAgICAgcmV0dXJu\nIHByZXBhcmVkUXVlcnlDYWNoZVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0K\nICAgIAogICAgcHVibGljIFByZXBhcmVkUXVlcnlDYWNoZSBnZXRRdWVyeVNR\nTENhY2hlSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKHByZXBhcmVkUXVlcnlD\nYWNoZVBsdWdpbiA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsK\nICAgICAgICAKICAgICAgICBpZiAocHJlcGFyZWRRdWVyeUNhY2hlUGx1Z2lu\nLmdldCgpID09IG51bGwpIHsKICAgICAgICAgICAgcHJlcGFyZWRRdWVyeUNh\nY2hlUGx1Z2luLmluc3RhbnRpYXRlKFByZXBhcmVkUXVlcnlDYWNoZS5jbGFz\ncywKICAgICAgICAgICAgICAgICAgICB0aGlzKTsKICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIChQcmVwYXJlZFF1ZXJ5Q2FjaGUpcHJlcGFyZWRRdWVyeUNh\nY2hlUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZp\nbmRlckNhY2hlKFN0cmluZyBmaW5kZXJDYWNoZSkgewogICAgICAgIGZpbmRl\nckNhY2hlUGx1Z2luLnNldFN0cmluZyhmaW5kZXJDYWNoZSk7CiAgICB9CiAg\nICAKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RmluZGVyQ2FjaGUoKSB7CiAgICAg\nICAgcmV0dXJuIGZpbmRlckNhY2hlUGx1Z2luLmdldFN0cmluZygpOwogICAg\nfQogICAgCiAgICBwdWJsaWMgRmluZGVyQ2FjaGUgZ2V0RmluZGVyQ2FjaGVJ\nbnN0YW5jZSgpIHsKICAgICAgICBpZiAoZmluZGVyQ2FjaGVQbHVnaW4uZ2V0\nKCkgPT0gbnVsbCkgewogICAgICAgICAgICBmaW5kZXJDYWNoZVBsdWdpbi5p\nbnN0YW50aWF0ZShGaW5kZXJDYWNoZS5jbGFzcywgdGhpcyk7CiAgICAgICAg\nfQogICAgICAgIHJldHVybiAoRmluZGVyQ2FjaGUpZmluZGVyQ2FjaGVQbHVn\naW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRWYWxpZGF0\naW9uRmFjdG9yeUluc3RhbmNlKCkgewogICAgICAgIHJldHVybiB2YWxpZGF0\naW9uRmFjdG9yeS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRW\nYWxpZGF0aW9uRmFjdG9yeShPYmplY3QgZmFjdG9yeSkgewogICAgICAgIHZh\nbGlkYXRpb25GYWN0b3J5LnNldChmYWN0b3J5KTsgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgCiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRWYWxp\nZGF0b3JJbnN0YW5jZSgpIHsKICAgICAgICByZXR1cm4gdmFsaWRhdG9yLmdl\ndCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFZhbGlkYXRvckluc3Rh\nbmNlKE9iamVjdCB2YWwpIHsKICAgICAgICB2YWxpZGF0b3Iuc2V0KHZhbCk7\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0TGlmZWN5Y2xlRXZlbnRNYW5hZ2VyKCkgewogICAgICAg\nIHJldHVybiBsaWZlY3ljbGVFdmVudE1hbmFnZXIuZ2V0U3RyaW5nKCk7CiAg\nICB9CgogICAgcHVibGljIExpZmVjeWNsZUV2ZW50TWFuYWdlciBnZXRMaWZl\nY3ljbGVFdmVudE1hbmFnZXJJbnN0YW5jZSgpIHsKICAgICAgICBMaWZlY3lj\nbGVFdmVudE1hbmFnZXIgbGVtID0gKExpZmVjeWNsZUV2ZW50TWFuYWdlcikK\nICAgICAgICAgICAgbGlmZWN5Y2xlRXZlbnRNYW5hZ2VyLmdldCgpOwogICAg\nICAgIGlmIChsZW0gPT0gbnVsbCkgewogICAgICAgICAgICBsZW0gPSAoTGlm\nZWN5Y2xlRXZlbnRNYW5hZ2VyKWxpZmVjeWNsZUV2ZW50TWFuYWdlcgogICAg\nICAgICAgICAgICAgLmluc3RhbnRpYXRlKExpZmVjeWNsZUV2ZW50TWFuYWdl\nci5jbGFzcywgdGhpcyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsZW07\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TGlmZWN5Y2xlRXZlbnRNYW5h\nZ2VyKFN0cmluZyBsZW0pIHsKICAgICAgICBsaWZlY3ljbGVFdmVudE1hbmFn\nZXIuc2V0U3RyaW5nKGxlbSk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4g\nZ2V0RHluYW1pY0VuaGFuY2VtZW50QWdlbnQoKSB7CiAgICAgICAgcmV0dXJu\nIGR5bmFtaWNFbmhhbmNlbWVudEFnZW50LmdldCgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldER5bmFtaWNFbmhhbmNlbWVudEFnZW50KGJvb2xlYW4g\nZHluYW1pYykgewogICAgICAgIGR5bmFtaWNFbmhhbmNlbWVudEFnZW50LnNl\ndChkeW5hbWljKTsKICAgIH0gICAgCgogICAgcHVibGljIHZvaWQgc2V0RW5j\ncnlwdGlvblByb3ZpZGVyKFN0cmluZyBwKSB7CiAgICAgICAgZW5jcnlwdGlv\nblByb3ZpZGVyLnNldFN0cmluZyhwKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIEVuY3J5cHRpb25Qcm92aWRlciBnZXRFbmNyeXB0aW9uUHJvdmlkZXIoKSB7\nCiAgICAgICAgaWYgKGVuY3J5cHRpb25Qcm92aWRlci5nZXQoKSA9PSBudWxs\nKQogICAgICAgICAgICBlbmNyeXB0aW9uUHJvdmlkZXIuaW5zdGFudGlhdGUo\nRW5jcnlwdGlvblByb3ZpZGVyLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1\ncm4gKEVuY3J5cHRpb25Qcm92aWRlcikgZW5jcnlwdGlvblByb3ZpZGVyLmdl\ndCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldERhdGFDYWNoZU1vZGUo\nU3RyaW5nIG1vZGUpIHsKICAgICAgICB0aGlzLmRhdGFDYWNoZU1vZGUuc2V0\nU3RyaW5nKG1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGF0\nYUNhY2hlTW9kZSgpIHsKICAgICAgICByZXR1cm4gZGF0YUNhY2hlTW9kZS5n\nZXRTdHJpbmcoKTsKICAgIH0KICAgIAoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nQ2FjaGVEaXN0cmlidXRpb25Qb2xpY3koKSB7CiAgICAgICAgcmV0dXJuIGNh\nY2hlRGlzdHJpYnV0aW9uUG9saWN5UGx1Z2luLmdldFN0cmluZygpOwogICAg\nfQoKICAgIHB1YmxpYyBDYWNoZURpc3RyaWJ1dGlvblBvbGljeSBnZXRDYWNo\nZURpc3RyaWJ1dGlvblBvbGljeUluc3RhbmNlKCkgewogICAgICAgIENhY2hl\nRGlzdHJpYnV0aW9uUG9saWN5IHBvbGljeSA9IChDYWNoZURpc3RyaWJ1dGlv\nblBvbGljeSkgY2FjaGVEaXN0cmlidXRpb25Qb2xpY3lQbHVnaW4uZ2V0KCk7\nCiAgICAgICAgaWYgKHBvbGljeSA9PSBudWxsKSB7CiAgICAgICAgICAgIHBv\nbGljeSA9ICAoQ2FjaGVEaXN0cmlidXRpb25Qb2xpY3kpIAogICAgICAgICAg\nICAgICAgY2FjaGVEaXN0cmlidXRpb25Qb2xpY3lQbHVnaW4uaW5zdGFudGlh\ndGUoQ2FjaGVEaXN0cmlidXRpb25Qb2xpY3kuY2xhc3MsIHRoaXMpOwogICAg\nICAgIH0KICAgICAgICByZXR1cm4gcG9saWN5OwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldENhY2hlRGlzdHJpYnV0aW9uUG9saWN5KFN0cmluZyBwb2xp\nY3lQbHVnaW4pIHsKICAgICAgICBjYWNoZURpc3RyaWJ1dGlvblBvbGljeVBs\ndWdpbi5zZXRTdHJpbmcocG9saWN5UGx1Z2luKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRDYWNoZURpc3RyaWJ1dGlvblBvbGljeUluc3RhbmNlKENh\nY2hlRGlzdHJpYnV0aW9uUG9saWN5IHBvbGljeSkgewogICAgICAgIGNhY2hl\nRGlzdHJpYnV0aW9uUG9saWN5UGx1Z2luLnNldChwb2xpY3kpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldFBlcnNpc3RlbmNlRW52aXJvbm1lbnQoTWFw\nPFN0cmluZywgT2JqZWN0PiBwZU1hcCkgewogICAgICAgIHRoaXMuX3BlTWFw\nID0gcGVNYXA7CiAgICB9CgogICAgcHVibGljIE1hcDxTdHJpbmcsIE9iamVj\ndD4gZ2V0UGVyc2lzdGVuY2VFbnZpcm9ubWVudCgpIHsKICAgICAgICByZXR1\ncm4gX3BlTWFwOwogICAgfQp9Cgo=\n","encoding":"base64"}

