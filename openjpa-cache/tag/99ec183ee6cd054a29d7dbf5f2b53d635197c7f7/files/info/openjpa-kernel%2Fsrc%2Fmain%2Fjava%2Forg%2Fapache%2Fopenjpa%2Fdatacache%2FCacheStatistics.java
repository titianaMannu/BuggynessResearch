{"sha":"bb4d9ce26b96e05cfa7d5ad0613f8bd313038225","node_id":"MDQ6QmxvYjIwNjM2NDpiYjRkOWNlMjZiOTZlMDVjZmE3ZDVhZDA2MTNmOGJkMzEzMDM4MjI1","size":5835,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bb4d9ce26b96e05cfa7d5ad0613f8bd313038225","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIGphdmEuaW8uU2VyaWFsaXphYmxlOwppbXBvcnQgamF2YS51dGlsLkRhdGU7\nCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5N\nYXA7CgovKioKICogQ291bnRzIG51bWJlciBvZiByZWFkL3dyaXRlIHJlcXVl\nc3RzIGFuZCBoaXQgcmF0aW8gZm9yIGEgY2FjaGUgaW4gdG90YWwgYW5kCiAq\nIHBlci1jbGFzcyBiYXNpcy4KICogCiAqIEFsbCBtZXRob2RzIHdpdGggQ2xh\nc3MgYXMgaW5wdXQgYXJndW1lbnQgdHJlYXRzIG51bGwgYXMgCiAqIDxjb2Rl\nPmphdmEubGFuZy5PYmplY3Q8L2NvZGU+LiBBbGwgcGVyLWNsYXNzIHN0YXRp\nc3RpY3MgIGRlcGVuZHMgb24gCiAqIGRldGVybWluaW5nIHRoZSBydW50aW1l\nIHR5cGUgb2YgdGhlIGluc3RhbmNlIGJlaW5nIGNhY2hlZC4gSWYgaXQgaXMg\nbm90CiAqIHBvc3NpYmxlIHRvIGRldGVybWluZSB0aGUgcnVudGltZSB0eXBl\nIGZyb20gdGhlIGdpdmVuIGNvbnRleHQsIHRoZSBzdGF0aXN0aWNzCiAqIGlz\nIHJlZ2lzdGVyZWQgdW5kZXIgZ2VuZXJpYyA8Y29kZT5qYXZhLmxhbmcuT2Jq\nZWN0PC9jb2RlPi4gCiAqIAogKiBAc2luY2UgMS4zLjAKICogCiAqIEBhdXRo\nb3IgUGluYWtpIFBvZGRhcgogKiAKICovCnB1YmxpYyBpbnRlcmZhY2UgQ2Fj\naGVTdGF0aXN0aWNzIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsKCS8qKgoJICog\nR2V0cyBudW1iZXIgb2YgdG90YWwgcmVhZCByZXF1ZXN0cyBzaW5jZSBsYXN0\nIHJlc2V0LgoJICovCglwdWJsaWMgbG9uZyBnZXRSZWFkQ291bnQoKTsKCgkv\nKioKCSAqIEdldHMgbnVtYmVyIG9mIHRvdGFsIHJlYWQgcmVxdWVzdHMgdGhh\ndCBoYXMgYmVlbiBmb3VuZCBpbiBjYWNoZSBzaW5jZQoJICogbGFzdCByZXNl\ndC4KCSAqLwoJcHVibGljIGxvbmcgZ2V0SGl0Q291bnQoKTsKCgkvKioKCSAq\nIEdldHMgbnVtYmVyIG9mIHRvdGFsIHdyaXRlIHJlcXVlc3RzIHNpbmNlIGxh\nc3QgcmVzZXQuCgkgKi8KCXB1YmxpYyBsb25nIGdldFdyaXRlQ291bnQoKTsK\nCgkvKioKCSAqIEdldHMgbnVtYmVyIG9mIHRvdGFsIHJlYWQgcmVxdWVzdHMg\nc2luY2Ugc3RhcnQuCgkgKi8KCXB1YmxpYyBsb25nIGdldFRvdGFsUmVhZENv\ndW50KCk7CgoJLyoqCgkgKiBHZXRzIG51bWJlciBvZiB0b3RhbCByZWFkIHJl\ncXVlc3RzIHRoYXQgaGFzIGJlZW4gZm91bmQgaW4gY2FjaGUgc2luY2UKCSAq\nIHN0YXJ0LgoJICovCglwdWJsaWMgbG9uZyBnZXRUb3RhbEhpdENvdW50KCk7\nCgoJLyoqCgkgKiBHZXRzIG51bWJlciBvZiB0b3RhbCB3cml0ZSByZXF1ZXN0\ncyBzaW5jZSBzdGFydC4KCSAqLwoJcHVibGljIGxvbmcgZ2V0VG90YWxXcml0\nZUNvdW50KCk7CgoJLyoqCiAgICAgKiBHZXRzIG51bWJlciBvZiB0b3RhbCBy\nZWFkIHJlcXVlc3RzIGZvciB0aGUgZ2l2ZW4gY2xhc3Mgc2luY2UgbGFzdCBy\nZXNldC4KCSAqLwoJcHVibGljIGxvbmcgZ2V0UmVhZENvdW50KENsYXNzIGMp\nOwoKCS8qKgogICAgICogR2V0cyBudW1iZXIgb2YgdG90YWwgcmVhZCByZXF1\nZXN0cyB0aGF0IGhhcyBiZWVuIGZvdW5kIGluIGNhY2hlIGZvciB0aGUKCSAq\nIGdpdmVuIGNsYXNzIHNpbmNlIGxhc3QgcmVzZXQuCgkgKi8KCXB1YmxpYyBs\nb25nIGdldEhpdENvdW50KENsYXNzIGMpOwoKCS8qKgogICAgICogR2V0cyBu\ndW1iZXIgb2YgdG90YWwgd3JpdGUgcmVxdWVzdHMgZm9yIHRoZSBnaXZlbiBj\nbGFzcyBzaW5jZSBsYXN0IHJlc2V0LgoJICovCglwdWJsaWMgbG9uZyBnZXRX\ncml0ZUNvdW50KENsYXNzIGMpOwoKCS8qKgoJICogR2V0cyBudW1iZXIgb2Yg\ndG90YWwgcmVhZCByZXF1ZXN0cyBmb3IgdGhlIGdpdmVuIGNsYXNzIHNpbmNl\nIHN0YXJ0LgoJICovCglwdWJsaWMgbG9uZyBnZXRUb3RhbFJlYWRDb3VudChD\nbGFzcyBjKTsKCgkvKioKICAgICAqIEdldHMgbnVtYmVyIG9mIHRvdGFsIHJl\nYWQgcmVxdWVzdHMgdGhhdCBoYXMgYmVlbiBmb3VuZCBpbiBjYWNoZSBmb3Ig\ndGhlCgkgKiBnaXZlbiBjbGFzcyBzaW5jZSBzdGFydC4KCSAqLwoJcHVibGlj\nIGxvbmcgZ2V0VG90YWxIaXRDb3VudChDbGFzcyBjKTsKCgkvKioKCSAqIEdl\ndHMgbnVtYmVyIG9mIHRvdGFsIHdyaXRlIHJlcXVlc3RzIGZvciB0aGUgZ2l2\nZW4gY2xhc3Mgc2luY2Ugc3RhcnQuCgkgKi8KCXB1YmxpYyBsb25nIGdldFRv\ndGFsV3JpdGVDb3VudChDbGFzcyBjKTsKCgkvKioKCSAqIEdldHMgdGhlIHRp\nbWUgb2YgbGFzdCByZXNldC4KCSAqLwoJcHVibGljIERhdGUgc2luY2UoKTsK\nCgkvKioKCSAqIEdldHMgdGhlIHRpbWUgb2Ygc3RhcnQuCgkgKi8KCXB1Ymxp\nYyBEYXRlIHN0YXJ0KCk7CgoJLyoqCgkgKiBDbGVhcnMgYWxsIGFjY3VtdWxh\ndGVkIHN0YXRpc3RpY3MuCgkgKi8KCXB1YmxpYyB2b2lkIHJlc2V0KCk7CgkK\nCS8qKgoJICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBzdGF0aXN0aWNzIHdp\nbGwgYmUgY29sbGVjdGVkLgoJICovCglwdWJsaWMgYm9vbGVhbiBpc0VuYWJs\nZWQoKTsKCQoJLyoqCgkgKiBBIGRlZmF1bHQgaW1wbGVtZW50YXRpb24uCgkg\nKgoJICovCglwdWJsaWMgc3RhdGljIGNsYXNzIERlZmF1bHQgaW1wbGVtZW50\ncyBDYWNoZVN0YXRpc3RpY3MgewoJCXByaXZhdGUgbG9uZ1tdIGFzdGF0ID0g\nbmV3IGxvbmdbM107CgkJcHJpdmF0ZSBsb25nW10gc3RhdCAgPSBuZXcgbG9u\nZ1szXTsKICAgICAgICBwcml2YXRlIE1hcDxDbGFzcywgbG9uZ1tdPiBzdGF0\ncyAgPSBuZXcgSGFzaE1hcDxDbGFzcywgbG9uZ1tdPigpOwogICAgICAgIHBy\naXZhdGUgTWFwPENsYXNzLCBsb25nW10+IGFzdGF0cyA9IG5ldyBIYXNoTWFw\nPENsYXNzLCBsb25nW10+KCk7CgkJcHJpdmF0ZSBEYXRlIHN0YXJ0ID0gbmV3\nIERhdGUoKTsKCQlwcml2YXRlIERhdGUgc2luY2UgPSBuZXcgRGF0ZSgpOwoJ\nCXByaXZhdGUgYm9vbGVhbiBlbmFibGVkID0gZmFsc2U7CgkJCgkJcHJpdmF0\nZSBzdGF0aWMgZmluYWwgaW50IFJFQUQgID0gMDsKCQlwcml2YXRlIHN0YXRp\nYyBmaW5hbCBpbnQgSElUICAgPSAxOwoJCXByaXZhdGUgc3RhdGljIGZpbmFs\nIGludCBXUklURSA9IDI7CgoJCXB1YmxpYyBsb25nIGdldFJlYWRDb3VudCgp\nIHsKCQkJcmV0dXJuIHN0YXRbUkVBRF07CgkJfQoKCQlwdWJsaWMgbG9uZyBn\nZXRIaXRDb3VudCgpIHsKCQkJcmV0dXJuIHN0YXRbSElUXTsKCQl9CgoJCXB1\nYmxpYyBsb25nIGdldFdyaXRlQ291bnQoKSB7CgkJCXJldHVybiBzdGF0W1dS\nSVRFXTsKCQl9CgoJCXB1YmxpYyBsb25nIGdldFRvdGFsUmVhZENvdW50KCkg\newoJCQlyZXR1cm4gYXN0YXRbUkVBRF07CgkJfQoKCQlwdWJsaWMgbG9uZyBn\nZXRUb3RhbEhpdENvdW50KCkgewoJCQlyZXR1cm4gYXN0YXRbSElUXTsKCQl9\nCgoJCXB1YmxpYyBsb25nIGdldFRvdGFsV3JpdGVDb3VudCgpIHsKCQkJcmV0\ndXJuIGFzdGF0W1dSSVRFXTsKCQl9CgoJCXB1YmxpYyBsb25nIGdldFJlYWRD\nb3VudChDbGFzcyBjKSB7CgkJCXJldHVybiBnZXRDb3VudChzdGF0cywgYywg\nUkVBRCk7CgkJfQoKCQlwdWJsaWMgbG9uZyBnZXRIaXRDb3VudChDbGFzcyBj\nKSB7CgkJCXJldHVybiBnZXRDb3VudChzdGF0cywgYywgSElUKTsKCQl9CgoJ\nCXB1YmxpYyBsb25nIGdldFdyaXRlQ291bnQoQ2xhc3MgYykgewoJCQlyZXR1\ncm4gZ2V0Q291bnQoc3RhdHMsIGMsIFdSSVRFKTsKCQl9CgoJCXB1YmxpYyBs\nb25nIGdldFRvdGFsUmVhZENvdW50KENsYXNzIGMpIHsKCQkJcmV0dXJuIGdl\ndENvdW50KGFzdGF0cywgYywgUkVBRCk7CgkJfQoKCQlwdWJsaWMgbG9uZyBn\nZXRUb3RhbEhpdENvdW50KENsYXNzIGMpIHsKCQkJcmV0dXJuIGdldENvdW50\nKGFzdGF0cywgYywgSElUKTsKCQl9CgoJCXB1YmxpYyBsb25nIGdldFRvdGFs\nV3JpdGVDb3VudChDbGFzcyBjKSB7CgkJCXJldHVybiBnZXRDb3VudChhc3Rh\ndHMsIGMsIFdSSVRFKTsKCQl9CgkJCiAgICAgICAgcHJpdmF0ZSBsb25nIGdl\ndENvdW50KE1hcDxDbGFzcywgbG9uZ1tdPiB0YXJnZXQsIENsYXNzIGMsIGlu\ndCBpbmRleCkgewoJCQlsb25nW10gcm93ID0gdGFyZ2V0LmdldChjKTsKCQkJ\ncmV0dXJuIChyb3cgPT0gbnVsbCkgPyAwIDogcm93W2luZGV4XTsKCQl9CgoJ\nCXB1YmxpYyBEYXRlIHNpbmNlKCkgewoJCQlyZXR1cm4gc2luY2U7CgkJfQoK\nCQlwdWJsaWMgRGF0ZSBzdGFydCgpIHsKCQkJcmV0dXJuIHN0YXJ0OwoJCX0K\nCgkJcHVibGljIHZvaWQgcmVzZXQoKSB7CgkJCXN0YXQgPSBuZXcgbG9uZ1sz\nXTsKCQkJc3RhdHMuY2xlYXIoKTsKCQkJc2luY2UgPSBuZXcgRGF0ZSgpOwoJ\nCX0KCgkJcHVibGljIGJvb2xlYW4gaXNFbmFibGVkKCkgewoJCSAgICByZXR1\ncm4gZW5hYmxlZDsKCQl9CgkJdm9pZCBlbmFibGUoKXsKCQkgICAgZW5hYmxl\nZCA9IHRydWU7CgkJfQoJICAgICAgdm9pZCBkaXNhYmxlKCkgewogICAgICAg\nICAgICBlbmFibGVkID0gZmFsc2U7CiAgICAgICAgfQoJCXZvaWQgbmV3R2V0\nKENsYXNzIGNscywgYm9vbGVhbiBoaXQpIHsKCQkJY2xzID0gKGNscyA9PSBu\ndWxsKSA/IE9iamVjdC5jbGFzcyA6IGNsczsKCQkJYWRkU2FtcGxlKGNscywg\nUkVBRCk7CgkJCWlmIChoaXQpIHsKCQkJCWFkZFNhbXBsZShjbHMsIEhJVCk7\nCgkJCX0KCQl9CgoJCXZvaWQgbmV3UHV0KENsYXNzIGNscykgewoJCQljbHMg\nPSAoY2xzID09IG51bGwpID8gT2JqZWN0LmNsYXNzIDogY2xzOwoJCQlhZGRT\nYW1wbGUoY2xzLCBXUklURSk7CgkJfQoJCQoJCXByaXZhdGUgdm9pZCBhZGRT\nYW1wbGUoQ2xhc3MgYywgaW50IGluZGV4KSB7CgkJCXN0YXRbaW5kZXhdKys7\nCgkJCWFzdGF0W2luZGV4XSsrOwoJCQlhZGRTYW1wbGUoc3RhdHMsIGMsIGlu\nZGV4KTsKCQkJYWRkU2FtcGxlKGFzdGF0cywgYywgaW5kZXgpOwoJCX0KCQkK\nICAgICAgICBwcml2YXRlIHZvaWQgYWRkU2FtcGxlKE1hcDxDbGFzcywgbG9u\nZ1tdPiB0YXJnZXQsIENsYXNzIGMsIGludCBpbmRleCkgewoJCQlsb25nW10g\ncm93ID0gdGFyZ2V0LmdldChjKTsKCQkJaWYgKHJvdyA9PSBudWxsKSB7CgkJ\nCQlyb3cgPSBuZXcgbG9uZ1szXTsKCQkJfQoJCQlyb3dbaW5kZXhdKys7CgkJ\nCXRhcmdldC5wdXQoYywgcm93KTsKCQl9Cgl9Cn0K\n","encoding":"base64"}

