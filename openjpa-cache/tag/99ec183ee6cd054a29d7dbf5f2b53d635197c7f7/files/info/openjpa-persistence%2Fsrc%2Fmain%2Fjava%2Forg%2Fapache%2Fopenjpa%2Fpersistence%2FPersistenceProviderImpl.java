{"sha":"9941cf6f78934e474d7e32b8fdb7d0c6337e9741","node_id":"MDQ6QmxvYjIwNjM2NDo5OTQxY2Y2Zjc4OTM0ZTQ3NGQ3ZTMyYjhmZGI3ZDBjNjMzN2U5NzQx","size":17940,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9941cf6f78934e474d7e32b8fdb7d0c6337e9741","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2U7CgppbXBv\ncnQgamF2YS5sYW5nLmluc3RydW1lbnQuQ2xhc3NGaWxlVHJhbnNmb3JtZXI7\nCmltcG9ydCBqYXZhLmxhbmcuaW5zdHJ1bWVudC5JbGxlZ2FsQ2xhc3NGb3Jt\nYXRFeGNlcHRpb247CmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRy\nb2xsZXI7CmltcG9ydCBqYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW47\nCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5N\nYXA7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLnNwaS5DbGFzc1RyYW5zZm9ybWVy\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uuc3BpLkxvYWRTdGF0ZTsKaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLnNwaS5QZXJzaXN0ZW5jZVByb3ZpZGVy\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uuc3BpLlBlcnNpc3RlbmNlVW5p\ndEluZm87CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5zcGkuUHJvdmlkZXJV\ndGlsOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLkJyb2tlclZh\nbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNv\nbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZi5P\ncGVuSlBBQ29uZmlndXJhdGlvbkltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuZW5oYW5jZS5QQ0NsYXNzRmlsZVRyYW5zZm9ybWVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmVuaGFuY2UuUENFbmhhbmNlckFnZW50Owpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5BYnN0cmFjdEJyb2tl\nckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJv\nb3RzdHJhcDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuQnJv\na2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29u\nZi5Db25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLkNvbmZpZ3VyYXRpb25Qcm92aWRlcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxvZzsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIudXRpbC5KMkRvUHJpdkhlbHBlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuT3B0aW9uczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5tZXRhLkFic3RyYWN0Q0ZNZXRhRGF0YUZhY3Rv\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5NZXRhRGF0YU1v\nZGVzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURhdGFS\nZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLnZhbGlkYXRpb24uVmFsaWRhdGlvblV0aWxzOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnV0aWwuQ2xhc3NSZXNvbHZlcjsKCgovKioKICogQm9v\ndHN0cmFwcGluZyBjbGFzcyB0aGF0IGFsbG93cyB0aGUgY3JlYXRpb24gb2Yg\nYSBzdGFuZC1hbG9uZQogKiB7QGxpbmsgRW50aXR5TWFuYWdlcn0uCiAqCiAq\nIEBzZWUgamF2YXgucGVyc2lzdGVuY2UuUGVyc2lzdGVuY2UjY3JlYXRlRW50\naXR5TWFuYWdlckZhY3RvcnkoU3RyaW5nLE1hcCkKICogQHB1Ymxpc2hlZAog\nKi8KcHVibGljIGNsYXNzIFBlcnNpc3RlbmNlUHJvdmlkZXJJbXBsCiAgICBp\nbXBsZW1lbnRzIFBlcnNpc3RlbmNlUHJvdmlkZXIsIFByb3ZpZGVyVXRpbCB7\nCgogICAgc3RhdGljIGZpbmFsIFN0cmluZyBDTEFTU19UUkFOU0ZPUk1FUl9P\nUFRJT05TID0gIkNsYXNzVHJhbnNmb3JtZXJPcHRpb25zIjsKICAgIHByaXZh\ndGUgc3RhdGljIGZpbmFsIFN0cmluZyBFTUZfUE9PTCA9ICJFbnRpdHlNYW5h\nZ2VyRmFjdG9yeVBvb2wiOwoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExv\nY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2thZ2UoUGVyc2lzdGVu\nY2VQcm92aWRlckltcGwuY2xhc3MpOwoKICAgIHByaXZhdGUgTG9nIF9sb2c7\nCiAgICAvKioKICAgICAqIExvYWRzIHRoZSBlbnRpdHkgbWFuYWdlciBzcGVj\naWZpZWQgYnkgPGNvZGU+bmFtZTwvY29kZT4sIGFwcGx5aW5nCiAgICAgKiB0\naGUgcHJvcGVydGllcyBpbiA8Y29kZT5tPC9jb2RlPiBhcyBvdmVycmlkZXMg\ndG8gdGhlIHByb3BlcnRpZXMgZGVmaW5lZAogICAgICogaW4gdGhlIFhNTCBj\nb25maWd1cmF0aW9uIGZpbGUgZm9yIDxjb2RlPm5hbWU8L2NvZGU+LiBJZiA8\nY29kZT5uYW1lPC9jb2RlPgogICAgICogaXMgPGNvZGU+bnVsbDwvY29kZT4s\nIHRoaXMgbWV0aG9kIGxvYWRzIHRoZSBYTUwgaW4gdGhlIHJlc291cmNlCiAg\nICAgKiBpZGVudGlmaWVkIGJ5IDxjb2RlPnJlc291cmNlPC9jb2RlPiwgYW5k\nIHVzZXMgdGhlIGZpcnN0IHJlc291cmNlIGZvdW5kCiAgICAgKiB3aGVuIGRv\naW5nIHRoaXMgbG9va3VwLCByZWdhcmRsZXNzIG9mIHRoZSBuYW1lIHNwZWNp\nZmllZCBpbiB0aGUgWE1MCiAgICAgKiByZXNvdXJjZSBvciB0aGUgbmFtZSBv\nZiB0aGUgamFyIHRoYXQgdGhlIHJlc291cmNlIGlzIGNvbnRhaW5lZCBpbi4K\nICAgICAqIFRoaXMgZG9lcyBubyBwb29saW5nIG9mIEVudGl0eU1hbmFnZXJz\nRmFjdG9yaWVzLgogICAgICogQHJldHVybiBFbnRpdHlNYW5hZ2VyRmFjdG9y\neSBvciBudWxsCiAgICAgKi8KICAgIHB1YmxpYyBPcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3RvcnkgY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoU3RyaW5n\nIG5hbWUsIFN0cmluZyByZXNvdXJjZSwgTWFwIG0pIHsKICAgICAgICBQZXJz\naXN0ZW5jZVByb2R1Y3REZXJpdmF0aW9uIHBkID0gbmV3IFBlcnNpc3RlbmNl\nUHJvZHVjdERlcml2YXRpb24oKTsKICAgICAgICB0cnkgewogICAgICAgICAg\nICBPYmplY3QgcG9vbFZhbHVlID0gQ29uZmlndXJhdGlvbnMucmVtb3ZlUHJv\ncGVydHkoRU1GX1BPT0wsIG0pOwogICAgICAgICAgICBDb25maWd1cmF0aW9u\nUHJvdmlkZXIgY3AgPSBwZC5sb2FkKHJlc291cmNlLCBuYW1lLCBtKTsKICAg\nICAgICAgICAgaWYgKGNwID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJl\ndHVybiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBCcm9rZXJG\nYWN0b3J5IGZhY3RvcnkgPSBnZXRCcm9rZXJGYWN0b3J5KGNwLCBwb29sVmFs\ndWUsIG51bGwpOwogICAgICAgICAgICBPcGVuSlBBQ29uZmlndXJhdGlvbiBj\nb25mID0gZmFjdG9yeS5nZXRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgICAg\nIF9sb2cgPSBjb25mLmdldExvZyhPcGVuSlBBQ29uZmlndXJhdGlvbi5MT0df\nUlVOVElNRSk7ICAgICAgICAgICAgCiAgICAgICAgICAgIHBkLmNoZWNrUHVO\nYW1lQ29sbGlzaW9ucyhfbG9nLG5hbWUpOwogICAgICAgICAgICAKICAgICAg\nICAgICAgLy8gYWRkIGVuaGFuY2VyCiAgICAgICAgICAgIGxvYWRBZ2VudChm\nYWN0b3J5KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENyZWF0ZSBh\ncHByb3ByaWF0ZSBMaWZlY3ljbGVFdmVudE1hbmFnZXIKICAgICAgICAgICAg\nbG9hZFZhbGlkYXRvcihmYWN0b3J5KTsKICAgICAgICAgICAgCiAgICAgICAg\nICAgIC8vIFdlIG5lZWQgdG8gd2FpdCB0byBwcmVsb2FkIHVudGlsIGFmdGVy\nIHdlIGdldCBiYWNrIGEgZnVsbHkgY29uZmlndXJlZC9pbnN0YW50aWF0ZWQK\nICAgICAgICAgICAgLy8gQnJva2VyRmFjdG9yeS4gVGhpcyBpcyBiZWNhdXNl\nIGl0IGlzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSBoYXMgZXh0ZW5kZWQgT3Bl\nbkpQQQogICAgICAgICAgICAvLyBmdW5jdGlvbnMgYW5kIHRoZXkgbmVlZCB0\nbyBiZSBhbGxvd2VkIHRpbWUgdG8gY29uZmlndXJlIHRoZW1zZWx2ZXMgYmVm\nb3JlIHdlIGdvIG9mZiBhbmQKICAgICAgICAgICAgLy8gc3RhcnQgaW5zdGFu\ndGluZyBjb25maWd1cmFibGUgb2JqZWN0cyAoaWU6b3BlbmpwYS5NZXRhRGF0\nYVJlcG9zaXRvcnkpLiBEb24ndCBjYXRjaAogICAgICAgICAgICAvLyBhbnkg\nZXhjZXB0aW9ucyBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBmYWlsLWZhc3Qu\nCiAgICAgICAgICAgIHByZWxvYWRNZXRhRGF0YVJlcG9zaXRvcnkoZmFjdG9y\neSk7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gSlBBRmFjYWRl\nSGVscGVyLnRvRW50aXR5TWFuYWdlckZhY3RvcnkoZmFjdG9yeSk7CiAgICAg\nICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgaWYgKF9s\nb2cgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgX2xvZy5lcnJvcihfbG9j\nLmdldCgiY3JlYXRlLWVtZi1lcnJvciIsIG5hbWUpLCBlKTsKICAgICAgICAg\nICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLyoKICAgICAgICAgICAg\nICogCiAgICAgICAgICAgICAqIE1haW50YWluIDEueCBiZWhhdmlvciBvZiB0\naHJvd2luZyBleGNlcHRpb25zLCBldmVuIHRob3VnaAogICAgICAgICAgICAg\nKiBKUEEyIDkuMiAtIGNyZWF0ZUVNRiAibXVzdCIgcmV0dXJuIG51bGwgZm9y\nIFBVIGl0IGNhbid0IGhhbmRsZS4KICAgICAgICAgICAgICogCiAgICAgICAg\nICAgICAqIEpQQSAyLjAgU3BlY2lmaWNhdGlvbiBTZWN0aW9uIDkuMiBzdGF0\nZXM6CiAgICAgICAgICAgICAqICJJZiBhIHByb3ZpZGVyIGRvZXMgbm90IHF1\nYWxpZnkgYXMgdGhlIHByb3ZpZGVyIGZvciB0aGUgbmFtZWQgcGVyc2lzdGVu\nY2UgdW5pdCwgCiAgICAgICAgICAgICAqIGl0IG11c3QgcmV0dXJuIG51bGwg\nd2hlbiBjcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeSBpcyBpbnZva2VkIG9u\nIGl0LiIKICAgICAgICAgICAgICogVGhhdCBzcGVjaWZpY2F0aW9uIGNvbXBs\naWFuY2UgYmVoYXZpb3IgaGFzIGhhcHBlbmVkIGZldyBsaW5lcyBhYm92ZSBv\nbiBudWxsIHJldHVybi4gCiAgICAgICAgICAgICAqIFRocm93aW5nIHJ1bnRp\nbWUgZXhjZXB0aW9uIGluIHRoZSBmb2xsb3dpbmcgY29kZSBpcyB2YWxpZCAo\nYW5kIHVzZWZ1bCkgYmVoYXZpb3IKICAgICAgICAgICAgICogYmVjYXVzZSB0\naGUgcXVhbGlmaWVkIHByb3ZpZGVyIGhhcyBlbmNvdW50ZXJlZCBhbiB1bmV4\ncGVjdGVkIHNpdHVhdGlvbi4KICAgICAgICAgICAgICovCiAgICAgICAgICAg\nIHRocm93IFBlcnNpc3RlbmNlRXhjZXB0aW9ucy50b1BlcnNpc3RlbmNlRXhj\nZXB0aW9uKGUpOyAgICAgICAgICAgICAgICAKICAgICAgICB9CiAgICB9Cgog\nICAgcHJpdmF0ZSBCcm9rZXJGYWN0b3J5IGdldEJyb2tlckZhY3RvcnkoQ29u\nZmlndXJhdGlvblByb3ZpZGVyIGNwLAogICAgICAgIE9iamVjdCBwb29sVmFs\ndWUsIENsYXNzTG9hZGVyIGxvYWRlcikgewogICAgICAgIC8vIGhhbmRsZSAi\ndHJ1ZSIgYW5kICJmYWxzZSIKICAgICAgICBpZiAocG9vbFZhbHVlIGluc3Rh\nbmNlb2YgU3RyaW5nCiAgICAgICAgICAgICYmICgidHJ1ZSIuZXF1YWxzSWdu\nb3JlQ2FzZSgoU3RyaW5nKSBwb29sVmFsdWUpCiAgICAgICAgICAgICAgICB8\nfCAiZmFsc2UiLmVxdWFsc0lnbm9yZUNhc2UoKFN0cmluZykgcG9vbFZhbHVl\nKSkpCiAgICAgICAgICAgIHBvb2xWYWx1ZSA9IEJvb2xlYW4udmFsdWVPZigo\nU3RyaW5nKSBwb29sVmFsdWUpOwoKICAgICAgICBpZiAocG9vbFZhbHVlICE9\nIG51bGwgJiYgIShwb29sVmFsdWUgaW5zdGFuY2VvZiBCb29sZWFuKSkgewog\nICAgICAgICAgICAvLyB3ZSBvbmx5IHN1cHBvcnQgYm9vbGVhbiBzZXR0aW5n\ncyBmb3IgdGhpcyBvcHRpb24gY3VycmVudGx5LgogICAgICAgICAgICB0aHJv\ndyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKHBvb2xWYWx1ZS50b1N0\ncmluZygpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKHBvb2xW\nYWx1ZSA9PSBudWxsIHx8ICEoKEJvb2xlYW4pIHBvb2xWYWx1ZSkuYm9vbGVh\nblZhbHVlKCkpCiAgICAgICAgICAgIHJldHVybiBCb290c3RyYXAubmV3QnJv\na2VyRmFjdG9yeShjcCwgbG9hZGVyKTsKICAgICAgICBlbHNlCiAgICAgICAg\nICAgIHJldHVybiBCb290c3RyYXAuZ2V0QnJva2VyRmFjdG9yeShjcCwgbG9h\nZGVyKTsKICAgIH0KCiAgICBwdWJsaWMgT3BlbkpQQUVudGl0eU1hbmFnZXJG\nYWN0b3J5IGNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFN0cmluZyBuYW1l\nLCBNYXAgbSkgewogICAgICAgIHJldHVybiBjcmVhdGVFbnRpdHlNYW5hZ2Vy\nRmFjdG9yeShuYW1lLCBudWxsLCBtKTsKICAgIH0KCiAgICBwdWJsaWMgT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IGNyZWF0ZUNvbnRhaW5lckVudGl0\neU1hbmFnZXJGYWN0b3J5KFBlcnNpc3RlbmNlVW5pdEluZm8gcHVpLCBNYXAg\nbSkgewogICAgICAgIFBlcnNpc3RlbmNlUHJvZHVjdERlcml2YXRpb24gcGQg\nPSBuZXcgUGVyc2lzdGVuY2VQcm9kdWN0RGVyaXZhdGlvbigpOwogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIE9iamVjdCBwb29sVmFsdWUgPSBDb25maWd1\ncmF0aW9ucy5yZW1vdmVQcm9wZXJ0eShFTUZfUE9PTCwgbSk7CiAgICAgICAg\nICAgIENvbmZpZ3VyYXRpb25Qcm92aWRlciBjcCA9IHBkLmxvYWQocHVpLCBt\nKTsKICAgICAgICAgICAgaWYgKGNwID09IG51bGwpCiAgICAgICAgICAgICAg\nICByZXR1cm4gbnVsbDsKCiAgICAgICAgICAgIC8vIGFkZCBlbmhhbmNlcgog\nICAgICAgICAgICBFeGNlcHRpb24gdHJhbnNmb3JtZXJFeGNlcHRpb24gPSBu\ndWxsOwogICAgICAgICAgICBTdHJpbmcgY3RPcHRzID0gKFN0cmluZykgQ29u\nZmlndXJhdGlvbnMuZ2V0UHJvcGVydHkoQ0xBU1NfVFJBTlNGT1JNRVJfT1BU\nSU9OUywgcHVpLmdldFByb3BlcnRpZXMoKSk7CiAgICAgICAgICAgIHRyeSB7\nCiAgICAgICAgICAgICAgICBwdWkuYWRkVHJhbnNmb3JtZXIobmV3IENsYXNz\nVHJhbnNmb3JtZXJJbXBsKGNwLCBjdE9wdHMsCiAgICAgICAgICAgICAgICAg\nICAgcHVpLmdldE5ld1RlbXBDbGFzc0xvYWRlcigpLCBuZXdDb25maWd1cmF0\naW9uSW1wbCgpKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBl\nKSB7CiAgICAgICAgICAgICAgICAvLyBmYWlsIGdyYWNlZnVsbHkKICAgICAg\nICAgICAgICAgIHRyYW5zZm9ybWVyRXhjZXB0aW9uID0gZTsKICAgICAgICAg\nICAgfQoKICAgICAgICAgICAgLy8gaWYgdGhlIEJyb2tlckltcGwgaGFzbid0\nIGJlZW4gc3BlY2lmaWVkLCBzd2l0Y2ggdG8gdGhlCiAgICAgICAgICAgIC8v\nIG5vbi1maW5hbGl6aW5nIG9uZSwgc2luY2UgYW55dGhpbmcgY2xhaW1pbmcg\ndG8gYmUgYSBjb250YWluZXIKICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGRv\naW5nIHByb3BlciByZXNvdXJjZSBtYW5hZ2VtZW50LgogICAgICAgICAgICBp\nZiAoIUNvbmZpZ3VyYXRpb25zLmNvbnRhaW5zUHJvcGVydHkoQnJva2VyVmFs\ndWUuS0VZLCBjcC5nZXRQcm9wZXJ0aWVzKCkpKSB7CiAgICAgICAgICAgICAg\nICBjcC5hZGRQcm9wZXJ0eSgib3BlbmpwYS4iICsgQnJva2VyVmFsdWUuS0VZ\nLCBnZXREZWZhdWx0QnJva2VyQWxpYXMoKSk7CiAgICAgICAgICAgIH0KCiAg\nICAgICAgICAgIEJyb2tlckZhY3RvcnkgZmFjdG9yeSA9IGdldEJyb2tlckZh\nY3RvcnkoY3AsIHBvb2xWYWx1ZSwgcHVpLmdldENsYXNzTG9hZGVyKCkpOwog\nICAgICAgICAgICBpZiAodHJhbnNmb3JtZXJFeGNlcHRpb24gIT0gbnVsbCkg\newogICAgICAgICAgICAgICAgTG9nIGxvZyA9IGZhY3RvcnkuZ2V0Q29uZmln\ndXJhdGlvbigpLmdldExvZyhPcGVuSlBBQ29uZmlndXJhdGlvbi5MT0dfUlVO\nVElNRSk7CiAgICAgICAgICAgICAgICBpZiAobG9nLmlzVHJhY2VFbmFibGVk\nKCkpIHsKICAgICAgICAgICAgICAgICAgICBsb2cud2FybihfbG9jLmdldCgi\ndHJhbnNmb3JtZXItcmVnaXN0cmF0aW9uLWVycm9yLWV4IiwgcHVpKSwgdHJh\nbnNmb3JtZXJFeGNlcHRpb24pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsK\nICAgICAgICAgICAgICAgICAgICBsb2cud2FybihfbG9jLmdldCgidHJhbnNm\nb3JtZXItcmVnaXN0cmF0aW9uLWVycm9yIiwgcHVpKSk7CiAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgT3BlbkpQQUNvbmZp\nZ3VyYXRpb24gY29uZiA9IGZhY3RvcnkuZ2V0Q29uZmlndXJhdGlvbigpOwog\nICAgICAgICAgICBzZXRQZXJzaXN0ZW5jZUVudmlyb25tZW50SW5mbyhjb25m\nLCBwdWkpOwogICAgICAgICAgICBfbG9nID0gY29uZi5nZXRMb2coT3BlbkpQ\nQUNvbmZpZ3VyYXRpb24uTE9HX1JVTlRJTUUpOwoKICAgICAgICAgICAgLy8g\nQ3JlYXRlIGFwcHJvcHJpYXRlIExpZmVjeWNsZUV2ZW50TWFuYWdlcgogICAg\nICAgICAgICBsb2FkVmFsaWRhdG9yKGZhY3RvcnkpOwogICAgICAgICAgICAK\nICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IHRvIHByZWxvYWQgdW50\naWwgYWZ0ZXIgd2UgZ2V0IGJhY2sgYSBmdWxseSBjb25maWd1cmVkL2luc3Rh\nbnRpYXRlZAogICAgICAgICAgICAvLyBCcm9rZXJGYWN0b3J5LiBUaGlzIGlz\nIGJlY2F1c2UgaXQgaXMgcG9zc2libGUgdGhhdCBzb21lb25lIGhhcyBleHRl\nbmRlZCBPcGVuSlBBCiAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhbmQgdGhl\neSBuZWVkIHRvIGJlIGFsbG93ZWQgdGltZSB0byBjb25maWd1cmUgdGhlbXNl\nbHZlcyBiZWZvcmUgd2UgZ28gb2ZmIGFuZAogICAgICAgICAgICAvLyBzdGFy\ndCBpbnN0YW50aW5nIGNvbmZpZ3VyYWJsZSBvYmplY3RzIChpZTpvcGVuanBh\nLk1ldGFEYXRhUmVwb3NpdG9yeSkuIERvbid0IGNhdGNoCiAgICAgICAgICAg\nIC8vIGFueSBleGNlcHRpb25zIGhlcmUgYmVjYXVzZSB3ZSB3YW50IHRvIGZh\naWwtZmFzdC4KICAgICAgICAgICAgcHJlbG9hZE1ldGFEYXRhUmVwb3NpdG9y\neShmYWN0b3J5KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBK\nUEFGYWNhZGVIZWxwZXIudG9FbnRpdHlNYW5hZ2VyRmFjdG9yeShmYWN0b3J5\nKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAg\nICB0aHJvdyBQZXJzaXN0ZW5jZUV4Y2VwdGlvbnMudG9QZXJzaXN0ZW5jZUV4\nY2VwdGlvbihlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0UGVyc2lzdGVuY2VFbnZpcm9ubWVudEluZm8oT3BlbkpQQUNvbmZpZ3Vy\nYXRpb24gY29uZiwgUGVyc2lzdGVuY2VVbml0SW5mbyBwdWkpIHsKICAgICAg\nICAvLyBPUEVOSlBBLTE0NjAgRml4IHNjb3BlIHZpc2liaWxpdHkgb2Ygb3Jt\nLnhtbCB3aGVuIGl0IGlzIHBhY2thZ2VkIGluIGJvdGggZWFyIGZpbGUgYW5k\nIHdhciBmaWxlCiAgICAgICAgaWYgKGNvbmYgaW5zdGFuY2VvZiBPcGVuSlBB\nQ29uZmlndXJhdGlvbkltcGwpIHsKICAgICAgICAgICAgTWFwPFN0cmluZywg\nT2JqZWN0PiBwZU1hcCA9KChPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwpY29u\nZikuZ2V0UGVyc2lzdGVuY2VFbnZpcm9ubWVudCgpOwogICAgICAgICAgICBp\nZiAocGVNYXAgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGVNYXAgPSBu\nZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICAgICAgICAg\nICgoT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsKWNvbmYpLnNldFBlcnNpc3Rl\nbmNlRW52aXJvbm1lbnQocGVNYXApOwogICAgICAgICAgICB9CiAgICAgICAg\nICAgIHBlTWFwLnB1dChBYnN0cmFjdENGTWV0YURhdGFGYWN0b3J5LlBFUlNJ\nU1RFTkNFX1VOSVRfUk9PVF9VUkwsIHB1aS5nZXRQZXJzaXN0ZW5jZVVuaXRS\nb290VXJsKCkpOwogICAgICAgICAgICBwZU1hcC5wdXQoQWJzdHJhY3RDRk1l\ndGFEYXRhRmFjdG9yeS5NQVBQSU5HX0ZJTEVfTkFNRVMsIHB1aS5nZXRNYXBw\naW5nRmlsZU5hbWVzKCkpOwogICAgICAgICAgICBwZU1hcC5wdXQoQWJzdHJh\nY3RDRk1ldGFEYXRhRmFjdG9yeS5KQVJfRklMRV9VUkxTLCBwdWkuZ2V0SmFy\nRmlsZVVybHMoKSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKgogICAg\nICogUmV0dXJucyBhIFByb3ZpZGVyVXRpbCBmb3IgdXNlIHdpdGggZW50aXRp\nZXMgbWFuYWdlZCBieSB0aGlzCiAgICAgKiBwZXJzaXN0ZW5jZSBwcm92aWRl\nci4KICAgICAqLwogICAgcHVibGljIFByb3ZpZGVyVXRpbCBnZXRQcm92aWRl\nclV0aWwoKSB7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLyoK\nICAgICAqIFJldHVybnMgYSBkZWZhdWx0IEJyb2tlciBhbGlhcyB0byBiZSB1\nc2VkIHdoZW4gbm8gb3BlbmpwYS5Ccm9rZXJJbXBsCiAgICAgKiAgaXMgc3Bl\nY2lmaWVkLiBUaGlzIG1ldGhvZCBhbGxvd3MgUGVyc2lzdGVuY2VQcm92aWRl\nciBzdWJjbGFzcyB0bwogICAgICogIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJy\nb2tlciBhbGlhcy4KICAgICAqLwogICAgcHJvdGVjdGVkIFN0cmluZyBnZXRE\nZWZhdWx0QnJva2VyQWxpYXMoKSB7CiAgICAgICAgcmV0dXJuIEJyb2tlclZh\nbHVlLk5PTl9GSU5BTElaSU5HX0FMSUFTOwogICAgfQogICAgCiAgICAvKgog\nICAgICogUmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIENvbmZpZ3VyYXRpb24g\nc3ViY2xhc3MgdXNlZCBieSBlbnRpdHkKICAgICAqIGVuaGFuY2VtZW50IGlu\nIENsYXNzVHJhbnNmb3JtZXJJbXBsLiBJZiBPcGVuSlBBQ29uZmlndXJhdGlv\nbkltcGwKICAgICAqIGluc3RhbmNlIGlzIHVzZWQsIGNvbmZpZ3VyYXRpb24g\nb3B0aW9ucyBkZWNsYXJlZCBpbiBjb25maWd1cmF0aW9uCiAgICAgKiBzdWIt\nY2xhc3Mgd2lsbCBub3QgYmUgcmVjb2duaXplZCBhbmQgYSB3YXJuaW5nIGlz\nIHBvc3RlZCBpbiB0aGUgbG9nLgogICAgICovCiAgICBwcm90ZWN0ZWQgT3Bl\nbkpQQUNvbmZpZ3VyYXRpb24gbmV3Q29uZmlndXJhdGlvbkltcGwoKSB7CiAg\nICAgICAgcmV0dXJuIG5ldyBPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwoKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFByaXZhdGUgd29ya2VyIG1ldGhvZCB0\naGF0IHdpbGwgY2FsbCB0byB0aGUgTWV0YURhdGFSZXBvc2l0b3J5IHRvIHBy\nZWxvYWQgaWYgdGhlIHByb3ZpZGVkCiAgICAgKiBCcm9rZXJGYWN0b3J5IGlz\nIGNvbmZpZ3VyZWQgdG8gZG8gc28uCiAgICAgKi8KICAgIHByaXZhdGUgdm9p\nZCBwcmVsb2FkTWV0YURhdGFSZXBvc2l0b3J5KEJyb2tlckZhY3RvcnkgZmFj\ndG9yeSl7CiAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IHRvIHByZWxvYWQg\ndW50aWwgYWZ0ZXIgd2UgZ2V0IGJhY2sgYSBmdWxseSBjb25maWd1cmVkL2lu\nc3RhbnRpYXRlZAogICAgICAgIC8vIEJyb2tlckZhY3RvcnkuIFRoaXMgaXMg\nYmVjYXVzZSBpdCBpcyBwb3NzaWJsZSB0aGF0IHNvbWVvbmUgaGFzIGV4dGVu\nZGVkIE9wZW5KUEEKICAgICAgICAvLyBmdW5jdGlvbnMgYW5kIHRoZXkgbmVl\nZCB0byBiZSBhbGxvd2VkIHRpbWUgdG8gY29uZmlndXJlIHRoZW1zZWx2ZXMg\nYmVmb3JlIHdlIGdvIG9mZiBhbmQKICAgICAgICAvLyBzdGFydCBpbnN0YW50\naWF0aW5nIGNvbmZpZ3VyYWJsZSBvYmplY3RzIChpZTpvcGVuanBhLk1ldGFE\nYXRhUmVwb3NpdG9yeSkuIERvbid0IGNhdGNoCiAgICAgICAgLy8gYW55IGV4\nY2VwdGlvbnMgaGVyZSBiZWNhdXNlIHdlIHdhbnQgdG8gZmFpbC1mYXN0Lgog\nICAgICAgIE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYgPSBmYWN0b3J5Lmdl\ndENvbmZpZ3VyYXRpb24oKTsKICAgICAgICBPcHRpb25zIG8gPSBDb25maWd1\ncmF0aW9ucy5wYXJzZVByb3BlcnRpZXMoQ29uZmlndXJhdGlvbnMuZ2V0UHJv\ncGVydGllcyhjb25mLmdldE1ldGFEYXRhUmVwb3NpdG9yeSgpKSk7CiAgICAg\nICAgaWYgKE1ldGFEYXRhUmVwb3NpdG9yeS5uZWVkc1ByZWxvYWQobykgPT0g\ndHJ1ZSkgewogICAgICAgICAgICBNZXRhRGF0YVJlcG9zaXRvcnkgbWRyID0g\nY29uZi5nZXRNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgpOyAKICAgICAg\nICAgICAgbWRyLnNldFZhbGlkYXRlKE1ldGFEYXRhUmVwb3NpdG9yeS5WQUxJ\nREFURV9SVU5USU1FLCB0cnVlKTsKICAgICAgICAgICAgbWRyLnNldFJlc29s\ndmUoTWV0YURhdGFSZXBvc2l0b3J5Lk1PREVfTUFQUElOR19JTklULCB0cnVl\nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIExvYWQgcGVyc2lzdGVu\ndCBjbGFzc2VzIGFuZCBob29rIGluIHN1YmNsYXNzZXIKICAgICAgICAgICAg\nKChBYnN0cmFjdEJyb2tlckZhY3RvcnkpIGZhY3RvcnkpLmxvYWRQZXJzaXN0\nZW50VHlwZXMoKENsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9sbGVyCiAgICAg\nICAgICAgICAgICAuZG9Qcml2aWxlZ2VkKEoyRG9Qcml2SGVscGVyLmdldENv\nbnRleHRDbGFzc0xvYWRlckFjdGlvbigpKSk7CiAgICAgICAgICAgIG1kci5w\ncmVsb2FkKCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAq\nIEphdmEgRUUgNSBjbGFzcyB0cmFuc2Zvcm1lci4KICAgICAqLwogICAgcHJp\ndmF0ZSBzdGF0aWMgY2xhc3MgQ2xhc3NUcmFuc2Zvcm1lckltcGwKICAgICAg\nICBpbXBsZW1lbnRzIENsYXNzVHJhbnNmb3JtZXIgewoKICAgICAgICBwcml2\nYXRlIGZpbmFsIENsYXNzRmlsZVRyYW5zZm9ybWVyIF90cmFuczsKCiAgICAg\nICAgcHJpdmF0ZSBDbGFzc1RyYW5zZm9ybWVySW1wbChDb25maWd1cmF0aW9u\nUHJvdmlkZXIgY3AsIFN0cmluZyBwcm9wcywgCiAgICAgICAgICAgIGZpbmFs\nIENsYXNzTG9hZGVyIHRtcExvYWRlciwgT3BlbkpQQUNvbmZpZ3VyYXRpb24g\nY29uZikgewogICAgICAgICAgICBjcC5zZXRJbnRvKGNvbmYpOwogICAgICAg\nICAgICAvLyB1c2UgdGhlIHRlbXBvcmFyeSBsb2FkZXIgZm9yIGV2ZXJ5dGhp\nbmcKICAgICAgICAgICAgY29uZi5zZXRDbGFzc1Jlc29sdmVyKG5ldyBDbGFz\nc1Jlc29sdmVyKCkgewogICAgICAgICAgICAgICAgcHVibGljIENsYXNzTG9h\nZGVyIGdldENsYXNzTG9hZGVyKENsYXNzPD8+IGNvbnRleHQsIENsYXNzTG9h\nZGVyIGVudikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0bXBMb2Fk\nZXI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAg\nICAgICBjb25mLnNldFJlYWRPbmx5KENvbmZpZ3VyYXRpb24uSU5JVF9TVEFU\nRV9GUkVFWklORyk7CgogICAgICAgICAgICBNZXRhRGF0YVJlcG9zaXRvcnkg\ncmVwb3MgPSBjb25mLmdldE1ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCk7\nCiAgICAgICAgICAgIHJlcG9zLnNldFJlc29sdmUoTWV0YURhdGFNb2Rlcy5N\nT0RFX01BUFBJTkcsIGZhbHNlKTsKICAgICAgICAgICAgX3RyYW5zID0gbmV3\nIFBDQ2xhc3NGaWxlVHJhbnNmb3JtZXIocmVwb3MsCiAgICAgICAgICAgICAg\nICBDb25maWd1cmF0aW9ucy5wYXJzZVByb3BlcnRpZXMocHJvcHMpLCB0bXBM\nb2FkZXIpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGJ5dGVbXSB0cmFu\nc2Zvcm0oQ2xhc3NMb2FkZXIgY2wsIFN0cmluZyBuYW1lLAogICAgICAgICAg\nICBDbGFzczw/PiBwcmV2aW91c1ZlcnNpb24sIFByb3RlY3Rpb25Eb21haW4g\ncGQsIGJ5dGVbXSBieXRlcykKICAgICAgICAgICAgdGhyb3dzIElsbGVnYWxD\nbGFzc0Zvcm1hdEV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHJldHVybiBfdHJh\nbnMudHJhbnNmb3JtKGNsLCBuYW1lLCBwcmV2aW91c1ZlcnNpb24sIHBkLCBi\neXRlcyk7CiAgICAgICAgfQoJfQogICAgCiAgICAvKioKICAgICAqIFRoaXMg\ncHJpdmF0ZSB3b3JrZXIgbWV0aG9kIHdpbGwgYXR0ZW1wdCBsb2FkIHRoZSBQ\nQ0VuaGFuY2VyQWdlbnQuCiAgICAgKi8KICAgIHByaXZhdGUgdm9pZCBsb2Fk\nQWdlbnQoQnJva2VyRmFjdG9yeSBmYWN0b3J5KSB7CiAgICAgICAgT3BlbkpQ\nQUNvbmZpZ3VyYXRpb24gY29uZiA9IGZhY3RvcnkuZ2V0Q29uZmlndXJhdGlv\nbigpOwogICAgICAgIExvZyBsb2cgPSBjb25mLmdldExvZyhPcGVuSlBBQ29u\nZmlndXJhdGlvbi5MT0dfUlVOVElNRSk7CgogICAgICAgIGlmIChjb25mLmdl\ndER5bmFtaWNFbmhhbmNlbWVudEFnZW50KCkgPT0gdHJ1ZSkgewogICAgICAg\nICAgICBib29sZWFuIHJlcyA9IFBDRW5oYW5jZXJBZ2VudC5sb2FkRHluYW1p\nY0FnZW50KGxvZyk7CiAgICAgICAgICAgIGlmIChsb2cuaXNJbmZvRW5hYmxl\nZCgpICYmIHJlcyA9PSB0cnVlICl7CiAgICAgICAgICAgICAgICBsb2cuaW5m\nbyhfbG9jLmdldCgiZHluYW1pYy1hZ2VudCIpKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBUaGlzIHByaXZh\ndGUgd29ya2VyIG1ldGhvZCB3aWxsIGF0dGVtcHQgdG8gc2V0dXAgdGhlIHBy\nb3BlcgogICAgICogTGlmZWN5Y2xlRXZlbnRNYW5hZ2VyIHR5cGUgYmFzZWQg\nb24gaWYgdGhlIGphdmF4LnZhbGlkYXRpb24gQVBJcyBhcmUKICAgICAqIGF2\nYWlsYWJsZSBhbmQgYSBWYWxpZGF0b3JJbXBsIGlzIHJlcXVpcmVkIGJ5IHRo\nZSBjb25maWd1cmF0aW9uLgogICAgICogQHBhcmFtIGxvZwogICAgICogQHBh\ncmFtIGNvbmYKICAgICAqIEB0aHJvd3MgaWYgdmFsaWRhdGlvbiBzZXR1cCBm\nYWlsZWQgYW5kIHdhcyByZXF1aXJlZCBieSB0aGUgY29uZmlnCiAgICAgKi8K\nICAgIHByaXZhdGUgdm9pZCBsb2FkVmFsaWRhdG9yKEJyb2tlckZhY3Rvcnkg\nZmFjdG9yeSkgewogICAgICAgIE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYg\nPSBmYWN0b3J5LmdldENvbmZpZ3VyYXRpb24oKTsKICAgICAgICBMb2cgbG9n\nID0gY29uZi5nZXRMb2coT3BlbkpQQUNvbmZpZ3VyYXRpb24uTE9HX1JVTlRJ\nTUUpOwoKICAgICAgICBpZiAoKFZhbGlkYXRpb25VdGlscy5zZXR1cFZhbGlk\nYXRpb24oY29uZikgPT0gdHJ1ZSkgJiYKICAgICAgICAgICAgICAgIGxvZy5p\nc0luZm9FbmFibGVkKCkpIHsKICAgICAgICAgICAgbG9nLmluZm8oX2xvYy5n\nZXQoInZsZW0tY3JlYXRpb24taW5mbyIpKTsKICAgICAgICB9CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmll\nZCBvYmplY3QgaXMgbG9hZGVkLgogICAgICogCiAgICAgKiBAcmV0dXJuIExv\nYWRTdGF0ZS5MT0FERUQgLSBpZiBhbGwgaW1wbGljaXQgb3IgZXhwbGljaXQg\nRUFHRVIgZmV0Y2gKICAgICAqICAgICAgICAgYXR0cmlidXRlcyBhcmUgbG9h\nZGVkCiAgICAgKiAgICAgICAgIExvYWRTdGF0ZS5OT1RfTE9BREVEIC0gaWYg\nYW55IGltcGxpY2l0IG9yIGV4cGxpY2l0IEVBR0VSIGZldGNoCiAgICAgKiAg\nICAgICAgIGF0dHJpYnV0ZSBpcyBub3QgbG9hZGVkCiAgICAgKiAgICAgICAg\nIExvYWRTdGF0ZS5VTktOT1dOIC0gaWYgdGhlIGVudGl0eSBpcyBub3QgbWFu\nYWdlZCBieSB0aGlzCiAgICAgKiAgICAgICAgIHByb3ZpZGVyLgogICAgICov\nCiAgICBwdWJsaWMgTG9hZFN0YXRlIGlzTG9hZGVkKE9iamVjdCBvYmopIHsK\nICAgICAgICByZXR1cm4gaXNMb2FkZWRXaXRob3V0UmVmZXJlbmNlKG9iaiwg\nbnVsbCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBEZXRlcm1pbmVzIHdoZXRo\nZXIgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgc3BlY2lmaWVkIG9iamVjdCBpcyBs\nb2FkZWQuICBUaGlzCiAgICAgKiBtZXRob2QgbWF5IGFjY2VzcyB0aGUgdmFs\ndWUgb2YgdGhlIGF0dHJpYnV0ZSB0byBkZXRlcm1pbmUgbG9hZCBzdGF0ZSAo\nYnV0CiAgICAgKiBjdXJyZW50bHkgZG9lcyBub3QpLgogICAgICogCiAgICAg\nKiBAcmV0dXJuIExvYWRTdGF0ZS5MT0FERUQgLSBpZiB0aGUgYXR0cmlidXRl\nIGlzIGxvYWRlZC4KICAgICAqICAgICAgICAgTG9hZFN0YXRlLk5PVF9MT0FE\nRUQgLSBpZiB0aGUgYXR0cmlidXRlIGlzIG5vdCBsb2FkZWQgb3IgYW55CiAg\nICAgKiAgICAgICAgIEVBR0VSIGZldGNoIGF0dHJpYnV0ZXMgb2YgdGhlIGVu\ndGl0eSBhcmUgbm90IGxvYWRlZC4KICAgICAqICAgICAgICAgTG9hZFN0YXRl\nLlVOS05PV04gLSBpZiB0aGUgZW50aXR5IGlzIG5vdCBtYW5hZ2VkIGJ5IHRo\naXMKICAgICAqICAgICAgICAgcHJvdmlkZXIgb3IgaWYgaXQgZG9lcyBub3Qg\nY29udGFpbiB0aGUgcGVyc2lzdGVudAogICAgICogICAgICAgICBhdHRyaWJ1\ndGUuCiAgICAgKi8KICAgIHB1YmxpYyBMb2FkU3RhdGUgaXNMb2FkZWRXaXRo\nUmVmZXJlbmNlKE9iamVjdCBvYmosIFN0cmluZyBhdHRyKSB7CiAgICAgICAg\nLy8gVE9ETzogQXJlIHRoZXJlIGJlIGFueSBjYXNlcyB3aGVyZSBPcGVuSlBB\nIHdpbGwgbmVlZCB0byBleGFtaW5lCiAgICAgICAgLy8gdGhlIGNvbnRlbnRz\nIG9mIGEgZmllbGQgdG8gZGV0ZXJtaW5lIGxvYWQgc3RhdGU/ICBJZiBzbywg\ncGVyIEpQQSAKICAgICAgICAvLyBjb250cmFjdCwgdGhpcyBtZXRob2QgcGVy\nbWl0cyB0aGF0IHNvcnQgb2YgYWNjZXNzLiBJbiB0aGUgZXh0cmVtZWx5IAog\nICAgICAgIC8vIHVubGlrZWx5IGNhc2UgdGhhdCB0aGUgdGhlIGVudGl0eSBp\ncyBtYW5hZ2VkIGJ5IG11bHRpcGxlIHByb3ZpZGVycywgCiAgICAgICAgLy8g\nZXZlbiBpZiBpdCBkb2Vzbid0IHRyaWdnZXIgbG9hZGluZyBpbiBPcGVuSlBB\nLCBhY2Nlc3NpbmcgZmllbGQgZGF0YSAKICAgICAgICAvLyBjb3VsZCB0cmln\nZ2VyIGxvYWRpbmcgYnkgYW4gYWx0ZXJuYXRlIHByb3ZpZGVyLgogICAgICAg\nIHJldHVybiBpc0xvYWRlZFdpdGhvdXRSZWZlcmVuY2Uob2JqLCBhdHRyKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUg\nYXR0cmlidXRlIG9uIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlzIGxvYWRlZC4g\nIFRoaXMKICAgICAqIG1ldGhvZCBkb2VzIG5vdCBhY2Nlc3MgdGhlIHZhbHVl\nIG9mIHRoZSBhdHRyaWJ1dGUgdG8gZGV0ZXJtaW5lIGxvYWQgCiAgICAgKiBz\ndGF0ZS4KICAgICAqIAogICAgICogQHJldHVybiBMb2FkU3RhdGUuTE9BREVE\nIC0gaWYgdGhlIGF0dHJpYnV0ZSBpcyBsb2FkZWQuCiAgICAgKiAgICAgICAg\nIExvYWRTdGF0ZS5OT1RfTE9BREVEIC0gaWYgdGhlIGF0dHJpYnV0ZSBpcyBu\nb3QgbG9hZGVkIG9yIGFueQogICAgICogICAgICAgICBFQUdFUiBmZXRjaCBh\ndHRyaWJ1dGVzIG9mIHRoZSBlbnRpdHkgYXJlIG5vdCBsb2FkZWQuCiAgICAg\nKiAgICAgICAgIExvYWRTdGF0ZS5VTktOT1dOIC0gaWYgdGhlIGVudGl0eSBp\ncyBub3QgbWFuYWdlZCBieSB0aGlzCiAgICAgKiAgICAgICAgIHByb3ZpZGVy\nIG9yIGlmIGl0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHBlcnNpc3RlbnQKICAg\nICAqICAgICAgICAgYXR0cmlidXRlLgogICAgICovCiAgICBwdWJsaWMgTG9h\nZFN0YXRlIGlzTG9hZGVkV2l0aG91dFJlZmVyZW5jZShPYmplY3Qgb2JqLCBT\ndHJpbmcgYXR0cikgeyAgICAgICAgCiAgICAgICAgaWYgKG9iaiA9PSBudWxs\nKSB7CiAgICAgICAgICAgIHJldHVybiBMb2FkU3RhdGUuVU5LTk9XTjsKICAg\nICAgICB9CgogICAgICAgIHJldHVybiBPcGVuSlBBUGVyc2lzdGVuY2VVdGls\nLmlzTG9hZGVkKG9iaiwgYXR0cik7CiAgICB9Cn0K\n","encoding":"base64"}

