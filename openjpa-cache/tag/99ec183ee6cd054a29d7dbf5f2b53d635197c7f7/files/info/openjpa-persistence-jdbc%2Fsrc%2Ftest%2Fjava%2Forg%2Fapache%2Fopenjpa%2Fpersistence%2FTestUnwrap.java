{"sha":"2ec29377c4872d94b8ace4f4e91b0e51036a255e","node_id":"MDQ6QmxvYjIwNjM2NDoyZWMyOTM3N2M0ODcyZDk0YjhhY2U0ZjRlOTFiMGU1MTAzNmEyNTVl","size":3351,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2ec29377c4872d94b8ace4f4e91b0e51036a255e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZTsKCmltcG9ydCBq\nYXZhLnV0aWwuUHJvcGVydGllczsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50\naXR5VHJhbnNhY3Rpb247CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5RdWVy\neTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlF1ZXJ5TGFu\nZ3VhZ2VzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLnRlc3QuU2luZ2xlRU1GVGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVzdFVu\nd3JhcCBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsKICAgIAogICAgLyoq\nCiAgICAgKiBUZXN0cyBhIHF1ZXJ5IGNhbiBiZSB1bndyYXBwZWQgYXMgYW4g\naW5zdGFuY2Ugb2YgYSBzZXJpZXMgb2YgY2xhc3Mgb3IgCiAgICAgKiBpbnRl\ncmZhY2UuIAogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0VmFsaWRRdWVy\neVVud3JhcCgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBlbSA9\nIGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgUXVlcnkgcXVl\ncnkgPSBlbS5jcmVhdGVRdWVyeShRdWVyeUxhbmd1YWdlcy5MQU5HX1NRTCwi\nIik7CiAgICAgICAgCiAgICAgICAgQ2xhc3NbXSB2YWxpZENhc3RzID0gbmV3\nIENsYXNzW10gewogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5LmNsYXNzLAogICAgICAgICAgICBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5U1BJLmNs\nYXNzLAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkRl\nbGVnYXRpbmdRdWVyeS5jbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5RdWVyeS5jbGFzcywKICAgICAgICAgICAgb3JnLmFw\nYWNoZS5vcGVuanBhLmtlcm5lbC5RdWVyeUltcGwuY2xhc3MKICAgICAgICB9\nOwogICAgICAgIGZvciAoQ2xhc3MgYyA6IHZhbGlkQ2FzdHMpIHsKICAgICAg\nICAgICAgT2JqZWN0IHVud3JhcHBlZCA9IHF1ZXJ5LnVud3JhcChjKTsKICAg\nICAgICAgICAgYXNzZXJ0VHJ1ZShjLmlzSW5zdGFuY2UodW53cmFwcGVkKSk7\nCiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogVGVzdHMgYSBFbnRp\ndHlNYW5hZ2VyIGNhbiBiZSB1bndyYXBwZWQgYXMgYW4gaW5zdGFuY2Ugb2Yg\nYSBzZXJpZXMgb2YgCiAgICAgKiBjbGFzcyBvciBpbnRlcmZhY2UuIAogICAg\nICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0VmFsaWRFbnRpdHlNYW5hZ2VyVW53\ncmFwKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRl\nRW50aXR5TWFuYWdlcigpOwogICAgICAgIAogICAgICAgIENsYXNzPD8+W10g\ndmFsaWRDYXN0cyA9IG5ldyBDbGFzc1tdIHsKICAgICAgICAgICAgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nLmNsYXNzLAogICAgICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkuY2xhc3MsCiAgICAgICAg\nICAgIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuRGVsZWdhdGluZ0Jyb2tl\nci5jbGFzcywKICAgICAgICAgICAgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5l\nbC5Ccm9rZXIuY2xhc3MKICAgICAgICB9OwogICAgICAgIGZvciAoQ2xhc3M8\nPz4gYyA6IHZhbGlkQ2FzdHMpIHsKICAgICAgICAgICAgT2JqZWN0IHVud3Jh\ncHBlZCA9IGVtLnVud3JhcChjKTsKICAgICAgICAgICAgYXNzZXJ0VHJ1ZShj\nLmlzSW5zdGFuY2UodW53cmFwcGVkKSk7CiAgICAgICAgfQogICAgfQogICAg\nCiAgICAvKioKICAgICAqIFRlc3RzIGEgRW50aXR5TWFuYWdlciBjYW4gYmUg\ndW53cmFwcGVkIGFzIGFuIGluc3RhbmNlIG9mIGEgc2VyaWVzIG9mIAogICAg\nICogY2xhc3Mgb3IgaW50ZXJmYWNlLiAKICAgICAqLwogICAgcHVibGljIHZv\naWQgdGVzdEludmFsaWRFbnRpdHlNYW5hZ2VyVW53cmFwKCkgewogICAgICAg\nIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOwogICAgICAgIAogICAgICAgIENsYXNzPD8+W10gaW52YWxpZENhc3RzID0g\nbmV3IENsYXNzW10gewogICAgICAgICAgICBPYmplY3QuY2xhc3MsCiAgICAg\nICAgICAgIFByb3BlcnRpZXMuY2xhc3MsCiAgICAgICAgICAgIG51bGwsCiAg\nICAgICAgfTsKICAgICAgICBmb3IgKENsYXNzPD8+IGMgOiBpbnZhbGlkQ2Fz\ndHMpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGVtLnVu\nd3JhcChjKTsKICAgICAgICAgICAgICAgIGZhaWwoIkV4cGVjdGVkIHRvIGZh\naWwgdG8gdW53YXJwIHdpdGggIiArIGMpOwogICAgICAgICAgICB9IGNhdGNo\nIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgRW50aXR5VHJhbnNh\nY3Rpb24gdHhuID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTsKICAgICAgICAgICAg\nICAgIGFzc2VydEZhbHNlKHR4bi5pc0FjdGl2ZSgpKTsKICAgICAgICAgICAg\nfQogICAgICAgIH0KICAgIH0KCn0K\n","encoding":"base64"}

