{"sha":"74cd3538020477d170295ecef1a0705602adc979","node_id":"MDQ6QmxvYjIwNjM2NDo3NGNkMzUzODAyMDQ3N2QxNzAyOTVlY2VmMWEwNzA1NjAyYWRjOTc5","size":16797,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/74cd3538020477d170295ecef1a0705602adc979","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5nZW5lcmF0aW9u\ndHlwZTsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UuUGVyc2lzdGVuY2VFeGNlcHRpb247CmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5RdWVyeTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5jb25mLkpEQkNDb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLnNxbC5IMkRpY3Rpb25hcnk7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuTXlTUUxEaWN0aW9uYXJ5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLk9yYWNsZURpY3Rpb25h\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuUG9zdGdy\nZXNEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nc3FsLlNRTFNlcnZlckRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5U1BJOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyU1BJOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0\nZW5jZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50\nZXN0LlNpbmdsZUVNRlRlc3RDYXNlOwoKcHVibGljIGNsYXNzIFRlc3RNdWx0\naXBsZVNjaGVtYU5hbWVzIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIC8vIE5lZWQgdG8g\nc2tpcCB0ZXN0cyBvbiBNeVNRTCwgT3JhY2xlIGFuZCBNUyBTUUwgU2VydmVy\nCiAgICAgICAgLy8gU2VlIGNyZWF0ZVNjaGVtYXMoKSBjb21tZW50IGF0IHRo\nZSBib3R0b20KICAgICAgICBzZXRVbnN1cHBvcnRlZERhdGFiYXNlcygKICAg\nICAgICAgICAgICAgIE15U1FMRGljdGlvbmFyeS5jbGFzcywKICAgICAgICAg\nICAgICAgIE9yYWNsZURpY3Rpb25hcnkuY2xhc3MsCiAgICAgICAgICAgICAg\nICBTUUxTZXJ2ZXJEaWN0aW9uYXJ5LmNsYXNzKTsKICAgICAgICBpZiAoaXNU\nZXN0c0Rpc2FibGVkKCkpIHsKICAgICAgICAgICAgLy8gZ2V0TG9nKCkudHJh\nY2UoIlRlc3RNdWx0aXBsZVNjaGVtYU5hbWVzKCkgLSBTa2lwcGluZyBhbGwg\ndGVzdHMgLSBOb3Qgc3VwcG9ydGVkIG9uIHRoaXMgREIiKTsKICAgICAgICAg\nICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gQ3JlYXRlIHNjaGVt\nYXMgd2hlbiBkYXRhYmFzZSByZXF1aXJlcyB0aGlzIGFuZCB3ZSBhcmUgYWJv\ndXQKICAgICAgICAvLyB0byBleGVjdXRlIHRoZSBmaXJzdCB0ZXN0LgogICAg\nICAgIGlmICgidGVzdEdlbmVyYXRlZEFVVE8iLmVxdWFscyhnZXROYW1lKCkp\nKSB7CiAgICAgICAgICAgIGNyZWF0ZVNjaGVtYXMoKTsKICAgICAgICB9Cgog\nICAgICAgIHNldFVwKERvZzEuY2xhc3MsIERvZzIuY2xhc3MsIERvZzMuY2xh\nc3MsIERvZzQuY2xhc3MsCiAgICAgICAgICAgIERvZ1RhYmxlLmNsYXNzLCBE\nb2dUYWJsZTIuY2xhc3MsIERvZ1RhYmxlMy5jbGFzcywgRG9nVGFibGU0LmNs\nYXNzKTsKCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOwogICAgICAgIC8vIGNsZWFudXAgZGF0YWJhc2UgZmlyc3QKICAg\nICAgICBRdWVyeSBxcnkgPSBlbS5jcmVhdGVRdWVyeSgic2VsZWN0IGQgZnJv\nbSBEb2cxIGQiKTsKICAgICAgICBMaXN0IHJlc3VsdCA9IHFyeS5nZXRSZXN1\nbHRMaXN0KCk7CgogICAgICAgIGZvciAoaW50IGluZGV4ID0gMDsgaW5kZXgg\nPCByZXN1bHQuc2l6ZSgpOyBpbmRleCsrKSB7CiAgICAgICAgICAgIERvZzEg\nT2JqID0gKERvZzEpIHJlc3VsdC5nZXQoaW5kZXgpOwogICAgICAgICAgICBl\nbS5yZW1vdmUoT2JqKTsKICAgICAgICB9CiAgICAgICAgUXVlcnkgcXJ5MiA9\nIGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3QgZCBmcm9tIERvZzIgZCIpOwogICAg\nICAgIExpc3QgcmVzdWx0MiA9IHFyeTIuZ2V0UmVzdWx0TGlzdCgpOwoKICAg\nICAgICBmb3IgKGludCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0Mi5zaXpl\nKCk7IGluZGV4KyspIHsKICAgICAgICAgICAgRG9nMiBPYmogPSAoRG9nMikg\ncmVzdWx0Mi5nZXQoaW5kZXgpOwogICAgICAgICAgICBlbS5yZW1vdmUoT2Jq\nKTsKICAgICAgICB9CiAgICAgICAgUXVlcnkgcXJ5MyA9IGVtLmNyZWF0ZVF1\nZXJ5KCJzZWxlY3QgZCBmcm9tIERvZ1RhYmxlIGQiKTsKICAgICAgICBMaXN0\nIHJlc3VsdDMgPSBxcnkzLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgZm9y\nIChpbnQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdDMuc2l6ZSgpOyBpbmRl\neCsrKSB7CiAgICAgICAgICAgIERvZ1RhYmxlIE9iaiA9IChEb2dUYWJsZSkg\ncmVzdWx0My5nZXQoaW5kZXgpOwogICAgICAgICAgICBlbS5yZW1vdmUoT2Jq\nKTsKICAgICAgICB9CiAgICAgICAgUXVlcnkgcXJ5NCA9IGVtLmNyZWF0ZVF1\nZXJ5KCJzZWxlY3QgZCBmcm9tIERvZ1RhYmxlMiBkIik7CiAgICAgICAgTGlz\ndCByZXN1bHQ0ID0gcXJ5NC5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGZv\nciAoaW50IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHQ0LnNpemUoKTsgaW5k\nZXgrKykgewogICAgICAgICAgICBEb2dUYWJsZTIgT2JqID0gKERvZ1RhYmxl\nMikgcmVzdWx0NC5nZXQoaW5kZXgpOwogICAgICAgICAgICBlbS5yZW1vdmUo\nT2JqKTsKICAgICAgICB9CgogICAgICAgIFF1ZXJ5IHFyeTUgPSBlbS5jcmVh\ndGVRdWVyeSgic2VsZWN0IGQgZnJvbSBEb2dUYWJsZTMgZCIpOwogICAgICAg\nIExpc3QgcmVzdWx0NSA9IHFyeTUuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAg\nICBmb3IgKGludCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0NS5zaXplKCk7\nIGluZGV4KyspIHsKICAgICAgICAgICAgRG9nVGFibGUzIE9iaiA9IChEb2dU\nYWJsZTMpIHJlc3VsdDUuZ2V0KGluZGV4KTsKICAgICAgICAgICAgZW0ucmVt\nb3ZlKE9iaik7CiAgICAgICAgfQoKICAgICAgICBRdWVyeSBxcnk2ID0gZW0u\nY3JlYXRlUXVlcnkoInNlbGVjdCBkIGZyb20gRG9nVGFibGU0IGQiKTsKICAg\nICAgICBMaXN0IHJlc3VsdDYgPSBxcnk2LmdldFJlc3VsdExpc3QoKTsKCiAg\nICAgICAgZm9yIChpbnQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdDYuc2l6\nZSgpOyBpbmRleCsrKSB7CiAgICAgICAgICAgIERvZ1RhYmxlNCBPYmogPSAo\nRG9nVGFibGU0KSByZXN1bHQ2LmdldChpbmRleCk7CiAgICAgICAgICAgIGVt\nLnJlbW92ZShPYmopOwogICAgICAgIH0KCiAgICAgICAgUXVlcnkgcXJ5NyA9\nIGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3QgZCBmcm9tIERvZzMgZCIpOwogICAg\nICAgIExpc3QgcmVzdWx0NyA9IHFyeTcuZ2V0UmVzdWx0TGlzdCgpOwoKICAg\nICAgICBmb3IgKGludCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0Ny5zaXpl\nKCk7IGluZGV4KyspIHsKICAgICAgICAgICAgRG9nMyBPYmogPSAoRG9nMykg\ncmVzdWx0Ny5nZXQoaW5kZXgpOwogICAgICAgICAgICBlbS5yZW1vdmUoT2Jq\nKTsKICAgICAgICB9CgogICAgICAgIFF1ZXJ5IHFyeTggPSBlbS5jcmVhdGVR\ndWVyeSgic2VsZWN0IGQgZnJvbSBEb2c0IGQiKTsKICAgICAgICBMaXN0IHJl\nc3VsdDggPSBxcnk4LmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgZm9yIChp\nbnQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdDguc2l6ZSgpOyBpbmRleCsr\nKSB7CiAgICAgICAgICAgIERvZzQgT2JqID0gKERvZzQpIHJlc3VsdDguZ2V0\nKGluZGV4KTsKICAgICAgICAgICAgZW0ucmVtb3ZlKE9iaik7CiAgICAgICAg\nfQoKICAgICAgICBRdWVyeSBkZWxzY2hlbWExID0gZW0uY3JlYXRlTmF0aXZl\nUXVlcnkoCiAgICAgICAgICAgICAgICAiZGVsZXRlIGZyb20gc2NoZW1hMS5v\ncGVuanBhX3NlcXVlbmNlX3RhYmxlIik7CiAgICAgICAgZGVsc2NoZW1hMS5l\neGVjdXRlVXBkYXRlKCk7CiAgICAgICAgUXVlcnkgZGVsc2NoZW1hMiA9IGVt\nLmNyZWF0ZU5hdGl2ZVF1ZXJ5KAogICAgICAgICAgICAgICAgImRlbGV0ZSBm\ncm9tIHNjaGVtYTIub3BlbmpwYV9zZXF1ZW5jZV90YWJsZSIpOwogICAgICAg\nIGRlbHNjaGVtYTIuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIFF1ZXJ5IGRl\nbGdlbnRhYmxlID0gZW0uY3JlYXRlTmF0aXZlUXVlcnkoImRlbGV0ZSBmcm9t\nIHNjaGVtYTEuaWRfZ2VuMSIpOwogICAgICAgIGRlbGdlbnRhYmxlLmV4ZWN1\ndGVVcGRhdGUoKTsKICAgICAgICBRdWVyeSBkZWxnZW50YWJsZTIgPSBlbQog\nICAgICAgICAgICAgICAgLmNyZWF0ZU5hdGl2ZVF1ZXJ5KCJkZWxldGUgZnJv\nbSBzY2hlbWEyLmlkX2dlbjIiKTsKICAgICAgICBkZWxnZW50YWJsZTIuZXhl\nY3V0ZVVwZGF0ZSgpOwogICAgICAgIFF1ZXJ5IGRlbGdlbnRhYmxlMyA9IGVt\nCiAgICAgICAgICAgICAgICAuY3JlYXRlTmF0aXZlUXVlcnkoImRlbGV0ZSBm\ncm9tIHNjaGVtYTNnLmlkX2dlbjMiKTsKICAgICAgICBkZWxnZW50YWJsZTMu\nZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIFF1ZXJ5IGRlbGdlbnRhYmxlNCA9\nIGVtCiAgICAgICAgICAgICAgICAuY3JlYXRlTmF0aXZlUXVlcnkoImRlbGV0\nZSBmcm9tIHNjaGVtYTRnLmlkX2dlbjQiKTsKICAgICAgICBkZWxnZW50YWJs\nZTQuZXhlY3V0ZVVwZGF0ZSgpOwoKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdEdlbmVyYXRlZEFVVE8oKSB7CiAgICAgICAgRW50\naXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIga2VtID0gT3BlbkpQQVBlcnNp\nc3RlbmNlLmNhc3QoZW0pOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsKCiAgICAgICAgRG9nMSBkb2cxID0gbmV3IERvZzEoKTsKICAg\nICAgICBkb2cxLnNldE5hbWUoImhlbGxvRG9nMSIpOwogICAgICAgIGRvZzEu\nc2V0UHJpY2UoMTIwMDApOwoKICAgICAgICBlbS5wZXJzaXN0KGRvZzEpOwog\nICAgICAgIERvZzEgZG9nMWEgPSBuZXcgRG9nMSgpOwogICAgICAgIGRvZzFh\nLnNldE5hbWUoImhlbGxvRG9nMiIpOwogICAgICAgIGRvZzFhLnNldFByaWNl\nKDIyMDAwKTsKICAgICAgICBlbS5wZXJzaXN0KGRvZzFhKTsKICAgICAgICAv\nLyBhZGQgZG9nMgogICAgICAgIERvZzIgZG9nMiA9IG5ldyBEb2cyKCk7CiAg\nICAgICAgZG9nMi5zZXROYW1lKCJoZWxsb0RvZzMiKTsKICAgICAgICBkb2cy\nLnNldFByaWNlKDE1MDAwKTsKICAgICAgICBlbS5wZXJzaXN0KGRvZzIpOwoK\nICAgICAgICBEb2cyIGRvZzJhID0gbmV3IERvZzIoKTsKICAgICAgICBkb2cy\nYS5zZXROYW1lKCJoZWxsb0RvZzQiKTsKICAgICAgICBkb2cyYS5zZXRQcmlj\nZSgyNTAwMCk7CiAgICAgICAgZW0ucGVyc2lzdChkb2cyYSk7CiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKCiAgICAgICAgRG9nMSBk\nb2cxeCA9IGVtLmZpbmQoRG9nMS5jbGFzcywga2VtLmdldE9iamVjdElkKGRv\nZzEpKTsKICAgICAgICAvLyBEZXJieSBjYW4ndCBndWFyYW50ZWUgdGhlIG9y\nZGVyIG9mIHRoZSBnZW5lcmF0ZWQgdmFsdWUsIHRoZXJlZm9yZSwKICAgICAg\nICAvLyB3ZSBjYW4ndCBhc3NlcnQgdGhlIGlkIGJhc2VkIG9uIHRoZSBvcmRl\nci4gRm9yIGRiMiwgd2Ugc2VlIHRoZSBpZCAKICAgICAgICAvLyB2YWx1ZSBp\nbiB0aGUgcmlnaHQgb3JkZXIKICAgICAgICBhc3NlcnRUcnVlKGRvZzF4Lmdl\ndElkMigpID09IDEgfHwgZG9nMXguZ2V0SWQyKCkgPT0gMik7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKGRvZzF4LmdldE5hbWUoKSwgImhlbGxvRG9nMSIpOwog\nICAgICAgIGRvZzF4LnNldE5hbWUoIkRvZzEiKTsKICAgICAgICBkb2cxeC5z\nZXREb21lc3RpYyh0cnVlKTsKICAgICAgICBEb2cxIGRvZzExID0gZW0uZmlu\nZChEb2cxLmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQoZG9nMWEpKTsKICAgICAg\nICBhc3NlcnRUcnVlKGRvZzExLmdldElkMigpID09IDEgfHwgZG9nMTEuZ2V0\nSWQyKCkgPT0gMik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGRvZzExLmdldE5h\nbWUoKSwgImhlbGxvRG9nMiIpOwogICAgICAgIGRvZzExLnNldE5hbWUoIkRv\nZzIiKTsKICAgICAgICBkb2cxMS5zZXREb21lc3RpYyh0cnVlKTsKICAgICAg\nICAvLyB1cGRhdGUgZG9nMgogICAgICAgIERvZzIgZG9nMnggPSBlbS5maW5k\nKERvZzIuY2xhc3MsIGtlbS5nZXRPYmplY3RJZChkb2cyKSk7CiAgICAgICAg\nYXNzZXJ0VHJ1ZShkb2cyeC5nZXRJZDIoKSA9PSAxIHx8IGRvZzJ4LmdldElk\nMigpID09IDIpOwogICAgICAgIGFzc2VydEVxdWFscyhkb2cyeC5nZXROYW1l\nKCksICJoZWxsb0RvZzMiKTsKICAgICAgICBkb2cyeC5zZXROYW1lKCJEb2cz\nIik7CiAgICAgICAgZG9nMnguc2V0RG9tZXN0aWModHJ1ZSk7CiAgICAgICAg\nRG9nMiBkb2cyMSA9IGVtLmZpbmQoRG9nMi5jbGFzcywga2VtLmdldE9iamVj\ndElkKGRvZzJhKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShkb2cyMS5nZXRJZDIo\nKSA9PSAxIHx8IGRvZzIxLmdldElkMigpID09IDIpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyhkb2cyMS5nZXROYW1lKCksICJoZWxsb0RvZzQiKTsKICAgICAg\nICBkb2cyMS5zZXROYW1lKCJEb2c0Iik7CiAgICAgICAgZG9nMjEuc2V0RG9t\nZXN0aWModHJ1ZSk7CgogICAgICAgIC8vIGdldCB0aGUgdXBkYXRlIGRvZyBu\nYW1lCgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAg\nICAgICBRdWVyeSBxcnkxID0gZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBkIGZy\nb20gRG9nMSBkIG9yZGVyIGJ5IGQubmFtZSIpOwogICAgICAgIExpc3QgcmVz\ndWx0MSA9IHFyeTEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGZvciAoaW50\nIGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHQxLnNpemUoKTsgaW5kZXgrKykg\newogICAgICAgICAgICBEb2cxIGRvZzQgPSAoRG9nMSkgcmVzdWx0MS5nZXQo\naW5kZXgpOwogICAgICAgICAgICBpbnQgaSA9IGluZGV4ICsgMTsKICAgICAg\nICAgICAgYXNzZXJ0VHJ1ZShkb2c0LmdldElkMigpID09IDEgfHwgZG9nNC5n\nZXRJZDIoKSA9PSAyKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGRvZzQu\nZ2V0TmFtZSgpLCAiRG9nIiArIGkpOwogICAgICAgIH0KCiAgICAgICAgUXVl\ncnkgcXJ5MiA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3QgZCBmcm9tIERvZzIg\nZCBvcmRlciBieSBkLm5hbWUiKTsKICAgICAgICBMaXN0IHJlc3VsdDIgPSBx\ncnkyLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgZm9yIChpbnQgaW5kZXgg\nPSAwOyBpbmRleCA8IHJlc3VsdDIuc2l6ZSgpOyBpbmRleCsrKSB7CiAgICAg\nICAgICAgIERvZzIgZG9nNSA9IChEb2cyKSByZXN1bHQyLmdldChpbmRleCk7\nCiAgICAgICAgICAgIGFzc2VydFRydWUoZG9nNS5nZXRJZDIoKSA9PSAxIHx8\nIGRvZzUuZ2V0SWQyKCkgPT0gMik7CiAgICAgICAgICAgIGludCBqID0gaW5k\nZXggKyAzOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoZG9nNS5nZXROYW1l\nKCksICJEb2ciICsgaik7CiAgICAgICAgfQoKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdEdlbmVyYXRlZFRBQkxFKCkgewogICAg\nICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdl\ncigpOwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGtlbSA9IE9wZW5K\nUEFQZXJzaXN0ZW5jZS5jYXN0KGVtKTsKICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmJlZ2luKCk7CgogICAgICAgIERvZ1RhYmxlIGRvZzEgPSBuZXcg\nRG9nVGFibGUoKTsKICAgICAgICBkb2cxLnNldE5hbWUoImhlbGxvRG9nMSIp\nOwogICAgICAgIGRvZzEuc2V0UHJpY2UoMTIwMDApOwoKICAgICAgICBlbS5w\nZXJzaXN0KGRvZzEpOwogICAgICAgIERvZ1RhYmxlIGRvZzFhID0gbmV3IERv\nZ1RhYmxlKCk7CiAgICAgICAgZG9nMWEuc2V0TmFtZSgiaGVsbG9Eb2cyIik7\nCiAgICAgICAgZG9nMWEuc2V0UHJpY2UoMjIwMDApOwogICAgICAgIGVtLnBl\ncnNpc3QoZG9nMWEpOwogICAgICAgIC8vIGFkZCBkb2cyCiAgICAgICAgRG9n\nVGFibGUyIGRvZzIgPSBuZXcgRG9nVGFibGUyKCk7CiAgICAgICAgZG9nMi5z\nZXROYW1lKCJoZWxsb0RvZzMiKTsKICAgICAgICBkb2cyLnNldFByaWNlKDE1\nMDAwKTsKICAgICAgICBlbS5wZXJzaXN0KGRvZzIpOwoKICAgICAgICBEb2dU\nYWJsZTIgZG9nMmEgPSBuZXcgRG9nVGFibGUyKCk7CiAgICAgICAgZG9nMmEu\nc2V0TmFtZSgiaGVsbG9Eb2c0Iik7CiAgICAgICAgZG9nMmEuc2V0UHJpY2Uo\nMjUwMDApOwogICAgICAgIGVtLnBlcnNpc3QoZG9nMmEpOwoKICAgICAgICAv\nLyBhZGQgZG9nMwogICAgICAgIERvZ1RhYmxlMyBkb2czID0gbmV3IERvZ1Rh\nYmxlMygpOwogICAgICAgIGRvZzMuc2V0TmFtZSgiaGVsbG9Eb2c1Iik7CiAg\nICAgICAgZG9nMy5zZXRQcmljZSgxNTAwMSk7CiAgICAgICAgZW0ucGVyc2lz\ndChkb2czKTsKCiAgICAgICAgRG9nVGFibGUzIGRvZzNhID0gbmV3IERvZ1Rh\nYmxlMygpOwogICAgICAgIGRvZzNhLnNldE5hbWUoImhlbGxvRG9nNiIpOwog\nICAgICAgIGRvZzNhLnNldFByaWNlKDI1MDAxKTsKICAgICAgICBlbS5wZXJz\naXN0KGRvZzNhKTsKCiAgICAgICAgLy8gYWRkIGRvZzQKICAgICAgICBEb2dU\nYWJsZTQgZG9nNCA9IG5ldyBEb2dUYWJsZTQoKTsKICAgICAgICBkb2c0LnNl\ndE5hbWUoImhlbGxvRG9nNyIpOwogICAgICAgIGRvZzQuc2V0UHJpY2UoMTUw\nMDIpOwogICAgICAgIGVtLnBlcnNpc3QoZG9nNCk7CgogICAgICAgIERvZ1Rh\nYmxlNCBkb2c0YSA9IG5ldyBEb2dUYWJsZTQoKTsKICAgICAgICBkb2c0YS5z\nZXROYW1lKCJoZWxsb0RvZzgiKTsKICAgICAgICBkb2c0YS5zZXRQcmljZSgy\nNTAwMik7CiAgICAgICAgZW0ucGVyc2lzdChkb2c0YSk7CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsgICAgICAgIAogICAgICAgIAog\nICAgICAgIERvZ1RhYmxlIGRvZzF4ID0gZW0uZmluZChEb2dUYWJsZS5jbGFz\ncywga2VtLmdldE9iamVjdElkKGRvZzEpKTsKICAgICAgICBhc3NlcnRUcnVl\nKGRvZzF4LmdldElkMigpID09IDIwIHx8IGRvZzF4LmdldElkMigpID09IDIx\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZG9nMXguZ2V0TmFtZSgpLCAiaGVs\nbG9Eb2cxIik7CiAgICAgICAgZG9nMXguc2V0TmFtZSgiRG9nMSIpOwogICAg\nICAgIGRvZzF4LnNldERvbWVzdGljKHRydWUpOwogICAgICAgIERvZ1RhYmxl\nIGRvZzExID0gZW0uZmluZChEb2dUYWJsZS5jbGFzcywga2VtLmdldE9iamVj\ndElkKGRvZzFhKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShkb2cxMS5nZXRJZDIo\nKSA9PSAyMCB8fCBkb2cxMS5nZXRJZDIoKSA9PSAyMSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKGRvZzExLmdldE5hbWUoKSwgImhlbGxvRG9nMiIpOwogICAg\nICAgIGRvZzExLnNldE5hbWUoIkRvZzIiKTsKICAgICAgICBkb2cxMS5zZXRE\nb21lc3RpYyh0cnVlKTsKICAgICAgICAKICAgICAgICAvLyB1cGRhdGUgZG9n\nMgogICAgICAgIERvZ1RhYmxlMiBkb2cyeCA9IGVtLmZpbmQoRG9nVGFibGUy\nLmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQoZG9nMikpOwogICAgICAgIGFzc2Vy\ndFRydWUoZG9nMnguZ2V0SWQyKCkgPT0gMTAwIHx8IGRvZzJ4LmdldElkMigp\nID09IDEwMSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGRvZzJ4LmdldE5hbWUo\nKSwgImhlbGxvRG9nMyIpOwogICAgICAgIGRvZzJ4LnNldE5hbWUoIkRvZzMi\nKTsKICAgICAgICBkb2cyeC5zZXREb21lc3RpYyh0cnVlKTsKICAgICAgICBE\nb2dUYWJsZTIgZG9nMjEgPSBlbS5maW5kKERvZ1RhYmxlMi5jbGFzcywga2Vt\nLmdldE9iamVjdElkKGRvZzJhKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShkb2cy\nMS5nZXRJZDIoKSA9PSAxMDAgfHwgZG9nMjEuZ2V0SWQyKCkgPT0gMTAxKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoZG9nMjEuZ2V0TmFtZSgpLCAiaGVsbG9E\nb2c0Iik7CiAgICAgICAgZG9nMjEuc2V0TmFtZSgiRG9nNCIpOwogICAgICAg\nIGRvZzIxLnNldERvbWVzdGljKHRydWUpOwoKICAgICAgICAvLyB1cGRhdGUg\nZG9nMwogICAgICAgIERvZ1RhYmxlMyBkb2czeCA9IGVtLmZpbmQoRG9nVGFi\nbGUzLmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQoZG9nMykpOwogICAgICAgIGFz\nc2VydFRydWUoZG9nM3guZ2V0SWQyKCkgPT0gMTAwIHx8IGRvZzN4LmdldElk\nMigpID09IDEwMSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGRvZzN4LmdldE5h\nbWUoKSwgImhlbGxvRG9nNSIpOwogICAgICAgIGRvZzN4LnNldE5hbWUoIkRv\nZzUiKTsKICAgICAgICBkb2czeC5zZXREb21lc3RpYyh0cnVlKTsKICAgICAg\nICBEb2dUYWJsZTMgZG9nMzEgPSBlbS5maW5kKERvZ1RhYmxlMy5jbGFzcywg\na2VtLmdldE9iamVjdElkKGRvZzNhKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShk\nb2czMS5nZXRJZDIoKSA9PSAxMDAgfHwgZG9nMzEuZ2V0SWQyKCkgPT0gMTAx\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZG9nMzEuZ2V0TmFtZSgpLCAiaGVs\nbG9Eb2c2Iik7CiAgICAgICAgZG9nMzEuc2V0TmFtZSgiRG9nNiIpOwogICAg\nICAgIGRvZzMxLnNldERvbWVzdGljKHRydWUpOwoKICAgICAgICAvLyB1cGRh\ndGUgZG9nNAogICAgICAgIERvZ1RhYmxlNCBkb2c0eCA9IGVtLmZpbmQoRG9n\nVGFibGU0LmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQoZG9nNCkpOwogICAgICAg\nIGFzc2VydFRydWUoZG9nNHguZ2V0SWQyKCkgPT0gMTAwIHx8IGRvZzR4Lmdl\ndElkMigpID09IDEwMSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGRvZzR4Lmdl\ndE5hbWUoKSwgImhlbGxvRG9nNyIpOwogICAgICAgIGRvZzR4LnNldE5hbWUo\nIkRvZzciKTsKICAgICAgICBkb2c0eC5zZXREb21lc3RpYyh0cnVlKTsKICAg\nICAgICBEb2dUYWJsZTQgZG9nNDEgPSBlbS5maW5kKERvZ1RhYmxlNC5jbGFz\ncywga2VtLmdldE9iamVjdElkKGRvZzRhKSk7CiAgICAgICAgYXNzZXJ0VHJ1\nZShkb2c0MS5nZXRJZDIoKSA9PSAxMDAgfHwgZG9nNDEuZ2V0SWQyKCkgPT0g\nMTAxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoZG9nNDEuZ2V0TmFtZSgpLCAi\naGVsbG9Eb2c4Iik7CiAgICAgICAgZG9nNDEuc2V0TmFtZSgiRG9nOCIpOwog\nICAgICAgIGRvZzQxLnNldERvbWVzdGljKHRydWUpOwoKICAgICAgICAvLyBn\nZXQgdGhlIHVwZGF0ZSBkb2cgbmFtZQoKICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmJlZ2luKCk7CiAgICAgICAgUXVlcnkgcXJ5MSA9IGVtLmNyZWF0\nZVF1ZXJ5KCJzZWxlY3QgZCBmcm9tIERvZ1RhYmxlIGQgb3JkZXIgYnkgZC5u\nYW1lIik7CiAgICAgICAgTGlzdCByZXN1bHQxID0gcXJ5MS5nZXRSZXN1bHRM\naXN0KCk7CiAgICAgICAgZm9yIChpbnQgaW5kZXggPSAwOyBpbmRleCA8IHJl\nc3VsdDEuc2l6ZSgpOyBpbmRleCsrKSB7CiAgICAgICAgICAgIERvZ1RhYmxl\nIGRvZzF4eCA9IChEb2dUYWJsZSkgcmVzdWx0MS5nZXQoaW5kZXgpOwogICAg\nICAgICAgICBhc3NlcnRUcnVlKGRvZzF4eC5nZXRJZDIoKSA9PSAyMCB8fCBk\nb2cxeHguZ2V0SWQyKCkgPT0gMjEpOwogICAgICAgICAgICBpbnQgaiA9IGlu\nZGV4ICsgMTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGRvZzF4eC5nZXRO\nYW1lKCksICJEb2ciICsgaik7CgogICAgICAgIH0KCiAgICAgICAgUXVlcnkg\ncXJ5MiA9IGVtCiAgICAgICAgICAgICAgICAuY3JlYXRlUXVlcnkoInNlbGVj\ndCBkIGZyb20gRG9nVGFibGUyIGQgb3JkZXIgYnkgZC5uYW1lIik7CiAgICAg\nICAgTGlzdCByZXN1bHQyID0gcXJ5Mi5nZXRSZXN1bHRMaXN0KCk7CgogICAg\nICAgIGZvciAoaW50IGluZGV4ID0gMDsgaW5kZXggPCByZXN1bHQyLnNpemUo\nKTsgaW5kZXgrKykgewogICAgICAgICAgICBEb2dUYWJsZTIgZG9nMnh4ID0g\nKERvZ1RhYmxlMikgcmVzdWx0Mi5nZXQoaW5kZXgpOwogICAgICAgICAgICBh\nc3NlcnRUcnVlKGRvZzJ4eC5nZXRJZDIoKSA9PSAxMDAgfHwgZG9nMnh4Lmdl\ndElkMigpID09IDEwMSk7CiAgICAgICAgICAgIGludCBqID0gaW5kZXggKyAz\nOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoZG9nMnh4LmdldE5hbWUoKSwg\nIkRvZyIgKyBqKTsKICAgICAgICB9CgogICAgICAgIFF1ZXJ5IHFyeTMgPSBl\nbQogICAgICAgICAgICAgICAgLmNyZWF0ZVF1ZXJ5KCJzZWxlY3QgZCBmcm9t\nIERvZ1RhYmxlMyBkIG9yZGVyIGJ5IGQubmFtZSIpOwogICAgICAgIExpc3Qg\ncmVzdWx0MyA9IHFyeTMuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBmb3Ig\nKGludCBpbmRleCA9IDA7IGluZGV4IDwgcmVzdWx0My5zaXplKCk7IGluZGV4\nKyspIHsKICAgICAgICAgICAgRG9nVGFibGUzIGRvZzN4eCA9IChEb2dUYWJs\nZTMpIHJlc3VsdDMuZ2V0KGluZGV4KTsKICAgICAgICAgICAgYXNzZXJ0VHJ1\nZShkb2czeHguZ2V0SWQyKCkgPT0gMTAwIHx8IGRvZzN4eC5nZXRJZDIoKSA9\nPSAxMDEpOwogICAgICAgICAgICBpbnQgaiA9IGluZGV4ICsgNTsKICAgICAg\nICAgICAgYXNzZXJ0RXF1YWxzKGRvZzN4eC5nZXROYW1lKCksICJEb2ciICsg\naik7CiAgICAgICAgfQoKICAgICAgICBRdWVyeSBxcnk0ID0gZW0KICAgICAg\nICAgICAgICAgIC5jcmVhdGVRdWVyeSgic2VsZWN0IGQgZnJvbSBEb2dUYWJs\nZTQgZCBvcmRlciBieSBkLm5hbWUiKTsKICAgICAgICBMaXN0IHJlc3VsdDQg\nPSBxcnk0LmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgZm9yIChpbnQgaW5k\nZXggPSAwOyBpbmRleCA8IHJlc3VsdDQuc2l6ZSgpOyBpbmRleCsrKSB7CiAg\nICAgICAgICAgIERvZ1RhYmxlNCBkb2c0eHggPSAoRG9nVGFibGU0KSByZXN1\nbHQ0LmdldChpbmRleCk7CiAgICAgICAgICAgIGFzc2VydFRydWUoZG9nNHh4\nLmdldElkMigpID09IDEwMCB8fCBkb2c0eHguZ2V0SWQyKCkgPT0gMTAxKTsK\nICAgICAgICAgICAgaW50IGogPSBpbmRleCArIDc7CiAgICAgICAgICAgIGFz\nc2VydEVxdWFscyhkb2c0eHguZ2V0TmFtZSgpLCAiRG9nIiArIGopOwogICAg\nICAgIH0KCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsK\nICAgICAgICBlbS5jbG9zZSgpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0R2VuZXJhdGVkSURFTlRJVFkoKSB7CiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIga2VtID0gT3BlbkpQQVBlcnNpc3RlbmNl\nLmNhc3QoZW0pOwoKICAgICAgICAvLyBEb2czIGlzIGEgc2NoZW1hIGRvZy4K\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAg\nRG9nMyBkb2czMCA9IG5ldyBEb2czKCk7CiAgICAgICAgZG9nMzAuc2V0TmFt\nZSgiRG9nMzAiKTsKICAgICAgICBlbS5wZXJzaXN0KGRvZzMwKTsKICAgICAg\nICAKICAgICAgICBEb2czIGRvZzMxID0gbmV3IERvZzMoKTsKICAgICAgICBk\nb2czMS5zZXROYW1lKCJEb2czMSIpOwogICAgICAgIGVtLnBlcnNpc3QoZG9n\nMzEpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7Cgog\nICAgICAgIC8vIFdlIGNhbid0IGFzc3VtZSBnZW5lcmF0ZWQgdmFsdWVzIHN0\nYXJ0IHdpdGggMSBhcwogICAgICAgIC8vIHRoZSB0YWJsZSBtaWdodCBoYXZl\nIGFscmVhZHkgZXhpc3RlZCBhbmQgaGFkIHNvbWUgcm93cy4KICAgICAgICBE\nb2czIGRvZzMweCA9IGVtLmZpbmQoRG9nMy5jbGFzcywga2VtLmdldE9iamVj\ndElkKGRvZzMwKSk7CiAgICAgICAgRG9nMyBkb2czMXggPSBlbS5maW5kKERv\nZzMuY2xhc3MsIGtlbS5nZXRPYmplY3RJZChkb2czMSkpOwogICAgICAgIGFz\nc2VydFRydWUoKGRvZzMweC5nZXRJZCgpICsgMSA9PSBkb2czMXguZ2V0SWQo\nKSkgfHwKICAgICAgICAgICAgKGRvZzMweC5nZXRJZCgpID09IGRvZzMxeC5n\nZXRJZCgpICsgMSkpOwogICAgICAgIGFzc2VydEVxdWFscyhkb2czMHguZ2V0\nTmFtZSgpLCAiRG9nMzAiKTsKCiAgICAgICAgLy8gRG9nNCBpcyBhIG5vbi1z\nY2hlbWEgZG9nLgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4o\nKTsKICAgICAgICBEb2c0IGRvZzQwID0gbmV3IERvZzQoKTsKICAgICAgICBk\nb2c0MC5zZXROYW1lKCJEb2c0MCIpOwogICAgICAgIGVtLnBlcnNpc3QoZG9n\nNDApOwogICAgICAgIAogICAgICAgIERvZzQgZG9nNDEgPSBuZXcgRG9nNCgp\nOwogICAgICAgIGRvZzQxLnNldE5hbWUoIkRvZzQxIik7CiAgICAgICAgZW0u\ncGVyc2lzdChkb2c0MSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5j\nb21taXQoKTsKCiAgICAgICAgRG9nNCBkb2c0MHggPSBlbS5maW5kKERvZzQu\nY2xhc3MsIGtlbS5nZXRPYmplY3RJZChkb2c0MCkpOwogICAgICAgIERvZzQg\nZG9nNDF4ID0gZW0uZmluZChEb2c0LmNsYXNzLCBrZW0uZ2V0T2JqZWN0SWQo\nZG9nNDEpKTsKICAgICAgICBhc3NlcnRUcnVlKChkb2c0MHguZ2V0SWQoKSAr\nIDEgPT0gZG9nNDF4LmdldElkKCkpIHx8CiAgICAgICAgICAgIChkb2c0MHgu\nZ2V0SWQoKSA9PSBkb2c0MXguZ2V0SWQoKSArIDEpKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoZG9nNDB4LmdldE5hbWUoKSwgIkRvZzQwIik7CgogICAgICAg\nIGVtLmNsb3NlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGUgbmVj\nZXNzYXJ5IHNjaGVtYXMgaWYgcnVubmluZyBvbiBQb3N0Z3JlU1FMIG9yIEgy\nIGFzIHRoZXkgZG8KICAgICAqIG5vdCBjcmVhdGUgdGhlbSBhdXRvbWF0aWNh\nbGx5LgogICAgICogT3JhY2xlLCBNeVNRTCBhbmQgTVNTUUwgYWxzbyBkb24n\ndCBjcmVhdGUgc2NoZW1hcyBhdXRvbWF0aWNhbGx5IGJ1dAogICAgICogd2Ug\nZ2l2ZSB1cCBhcyB0aGV5IHRyZWF0IHNjaGVtYXMgaW4gc3BlY2lhbCB3YXlz\nLgogICAgICovCiAgICBwcml2YXRlIHZvaWQgY3JlYXRlU2NoZW1hcygpIHsK\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgdGVtcEVt\nZiA9IGNyZWF0ZUVNRigpOwogICAgICAgIERCRGljdGlvbmFyeSBkaWN0ID0g\nKChKREJDQ29uZmlndXJhdGlvbikgdGVtcEVtZi5nZXRDb25maWd1cmF0aW9u\nKCkpLmdldERCRGljdGlvbmFyeUluc3RhbmNlKCk7CiAgICAgICAgCiAgICAg\nICAgaWYgKCEoZGljdCBpbnN0YW5jZW9mIFBvc3RncmVzRGljdGlvbmFyeSB8\nfCBkaWN0IGluc3RhbmNlb2YgSDJEaWN0aW9uYXJ5KSkgewogICAgICAgICAg\nICBjbG9zZUVNRih0ZW1wRW1mKTsKICAgICAgICAgICAgcmV0dXJuOwogICAg\nICAgIH0KICAgICAgICAKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlclNQ\nSSBlbSA9IHRlbXBFbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAg\nIFN0cmluZ1tdIHNjaGVtYXMgPQogICAgICAgICAgICB7ICJTQ0hFTUExIiwg\nIlNDSEVNQTIiLCAiU0NIRU1BMyIsICJTQ0hFTUEzRyIsICJTQ0hFTUE0RyIg\nfTsKICAgICAgICBmb3IgKFN0cmluZyBzY2hlbWEgOiBzY2hlbWFzKSB7CiAg\nICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmJlZ2luKCk7CiAgICAgICAgICAgICAgICBRdWVyeSBxID0gZW0u\nY3JlYXRlTmF0aXZlUXVlcnkoImNyZWF0ZSBzY2hlbWEgIiArIHNjaGVtYSk7\nCiAgICAgICAgICAgICAgICBxLmV4ZWN1dGVVcGRhdGUoKTsKICAgICAgICAg\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAg\nICAgIH0gY2F0Y2ggKFBlcnNpc3RlbmNlRXhjZXB0aW9uIGUpIHsgICAgICAg\nICAgCiAgICAgICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLnJvbGxi\nYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY2xvc2VF\nTUYodGVtcEVtZik7CiAgICB9Cgp9IC8vIGVuZCBvZiBUZXN0TXVsdGlwbGVT\nY2hlbWFOYW1lcwoK\n","encoding":"base64"}

