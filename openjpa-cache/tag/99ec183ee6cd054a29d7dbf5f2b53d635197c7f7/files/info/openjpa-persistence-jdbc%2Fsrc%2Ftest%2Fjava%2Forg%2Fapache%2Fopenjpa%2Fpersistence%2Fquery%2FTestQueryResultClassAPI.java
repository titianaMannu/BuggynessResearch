{"sha":"fa8bab88c637ca82cc685b9102cca81e17135233","node_id":"MDQ6QmxvYjIwNjM2NDpmYThiYWI4OGM2MzdjYTgyY2M2ODViOTEwMmNjYTgxZTE3MTM1MjMz","size":3201,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fa8bab88c637ca82cc685b9102cca81e17135233","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeTsKCmlt\ncG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5M\naXN0OwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5RdWVyeTsKCgoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuUHJlcGFyZWRRdWVyeTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuUHJlcGFyZWRRdWVyeUNhY2hl\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnF1ZXJ5\nLmNvbW1vbi5hcHBzLlF1ZXJ5VGVzdDE7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UucXVlcnkuY29tbW9uLmFwcHMuUXVlcnlUZXN0\nMjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVy\neS5jb21tb24uYXBwcy5RdWVyeVRlc3Q0OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU2luZ2xlRU1GVGVzdENhc2U7Cgpw\ndWJsaWMgY2xhc3MgVGVzdFF1ZXJ5UmVzdWx0Q2xhc3NBUEkgZXh0ZW5kcyBT\naW5nbGVFTUZUZXN0Q2FzZSB7CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7\nCiAgICAgICAgc2V0VXAoUXVlcnlUZXN0MS5jbGFzcywgUXVlcnlUZXN0Mi5j\nbGFzcywgUXVlcnlUZXN0NC5jbGFzcywKICAgICAgICAgICAgIm9wZW5qcGEu\namRiYy5RdWVyeVNRTENhY2hlIiwgInRydWUiLAogICAgICAgICAgICBDTEVB\nUl9UQUJMRVMpOwoKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7CiAgICAgICAgUXVlcnlUZXN0MSBwYyA9IG51bGw7CiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICAgICAg\nICAgIHBjID0gbmV3IFF1ZXJ5VGVzdDEoKTsKICAgICAgICAgICAgaWYgKGkg\nPCA1KQogICAgICAgICAgICAgICAgcGMuc2V0TnVtKDQpOwogICAgICAgICAg\nICBlbHNlCiAgICAgICAgICAgICAgICBwYy5zZXROdW0oaSArIDEwKTsKICAg\nICAgICAgICAgcGMuc2V0RGF0ZShuZXcgamF2YS51dGlsLkRhdGUoOTk5OSkp\nOwogICAgICAgICAgICBlbS5wZXJzaXN0KHBjKTsKICAgICAgICB9CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5j\nbG9zZSgpOwogICAgfQoKCiAgICBwdWJsaWMgdm9pZCB0ZXN0UXVlcnlXaXRo\nUmVzdWx0Q2xhc3MoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVt\nZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgU3RyaW5nIGpwcWwg\nPSAiU0VMRUNUIG8gRlJPTSBRdWVyeVRlc3QxIG8iOwoKICAgICAgICBRdWVy\neSBxdWVyeSA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwsIFF1ZXJ5VGVzdDEuY2xh\nc3MpOwoKICAgICAgICBMaXN0IHJzID0gcXVlcnkuZ2V0UmVzdWx0TGlzdCgp\nOwogICAgICAgIGFzc2VydFRydWUocnMuZ2V0KDApIGluc3RhbmNlb2YgUXVl\ncnlUZXN0MSk7CiAgICAgICAgUHJlcGFyZWRRdWVyeSBwcSA9IGdldFByZXBh\ncmVkUXVlcnlDYWNoZSgpLmdldChqcHFsKTsKICAgICAgICBhc3NlcnROb3RO\ndWxsKHBxKTsKCiAgICAgICAgUXVlcnkgcXVlcnkyID0gZW0uY3JlYXRlUXVl\ncnkoanBxbCwgUXVlcnlUZXN0MS5jbGFzcyk7CiAgICAgICAgUHJlcGFyZWRR\ndWVyeSBwcTIgPSBnZXRQcmVwYXJlZFF1ZXJ5Q2FjaGUoKS5nZXQoanBxbCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKHBxLCBwcTIpOwogICAgICAgIHJzID0g\ncXVlcnkyLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRUcnVlKHJz\nLmdldCgwKSBpbnN0YW5jZW9mIFF1ZXJ5VGVzdDEpOwoKICAgICAgICBqcHFs\nID0gIlNFTEVDVCBvLmRhdHVtIEZST00gUXVlcnlUZXN0MSBvIjsKICAgICAg\nICBxdWVyeSA9IGVtLmNyZWF0ZVF1ZXJ5KGpwcWwsIGphdmEudXRpbC5EYXRl\nLmNsYXNzKTsKICAgICAgICBycyA9IHF1ZXJ5LmdldFJlc3VsdExpc3QoKTsK\nICAgICAgICBhc3NlcnRUcnVlKHJzLmdldCgwKSBpbnN0YW5jZW9mIGphdmEu\ndXRpbC5EYXRlKTsKCiAgICAgICAgcXVlcnkgPSBlbS5jcmVhdGVOYW1lZFF1\nZXJ5KCJuYW1lZCIsIFF1ZXJ5VGVzdDEuY2xhc3MpOwogICAgICAgIHJzID0g\ncXVlcnkuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydFRydWUocnMu\nZ2V0KDApIGluc3RhbmNlb2YgUXVlcnlUZXN0MSk7CgogICAgICAgIGVtLmNs\nb3NlKCk7CiAgICB9CiAgICAKICAgIFByZXBhcmVkUXVlcnlDYWNoZSBnZXRQ\ncmVwYXJlZFF1ZXJ5Q2FjaGUoKSB7CiAgICAgICAgcmV0dXJuIGVtZi5nZXRD\nb25maWd1cmF0aW9uKCkuZ2V0UXVlcnlTUUxDYWNoZUluc3RhbmNlKCk7CiAg\nICB9Cn0K\n","encoding":"base64"}

