{"sha":"a14299bf006b9069ea1002589bd0533151bd16e3","node_id":"MDQ6QmxvYjIwNjM2NDphMTQyOTliZjAwNmI5MDY5ZWExMDAyNTg5YmQwNTMzMTUxYmQxNmUz","size":3408,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a14299bf006b9069ea1002589bd0533151bd16e3","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucmVsYXRpb25z\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5yZWxh\ndGlvbnMuZW50aXR5LkluY29tcGxldGVSZWxhdGlvbnNoaXBDaGlsZEVudGl0\neTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5yZWxh\ndGlvbnMuZW50aXR5LkluY29tcGxldGVSZWxhdGlvbnNoaXBQYXJlbnRFbnRp\ndHk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucmVs\nYXRpb25zLmVudGl0eS5JbmNvbXBsZXRlUmVsYXRpb25zaGlwU3ViY2xhc3M7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5T\naW5nbGVFTUZUZXN0Q2FzZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVu\ndGl0eU1hbmFnZXI7CgovKioKICogQSB0ZXN0IGNhc2UgdGhhdCB0ZXN0cyBm\nb3IgaW5jb21wbGV0ZSBmb3JlaWduLWtleSByZWxhdGlvbnNoaXBzIGFuZCBl\nbnN1cmVzCiAqIHRoYXQgcHJvcGVyIGRhdGFiYXNlIG1lY2hhbmljcyBhcmUg\nZW5mb3JjZWQuCiAqLwpwdWJsaWMgY2xhc3MgVGVzdEluY29tcGxldGVSZWxh\ndGlvbnNoaXAgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7CiAgICBwcml2\nYXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgQ0xJRU5UX0lEID0gIjAwMDAwLTAw\nMDAwLTAwMDAwLTAwMDAwLTAwMDAwLTAwMDAwIjsKCiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgRElTQ09VTlRTW10gPSB7CiAgICAgICAgIkZp\ndmUtRmluZ2VyIERpc2NvdW50IiwKICAgICAgICAiU3RhZmYgRGlzY291bnQi\nCiAgICB9OwoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgc2V0VXAo\nKSB7CiAgICAgICAgc3VwZXIuc2V0VXAoQ0xFQVJfVEFCTEVTLAogICAgICAg\nICAgICAgICAgICAgIEluY29tcGxldGVSZWxhdGlvbnNoaXBQYXJlbnRFbnRp\ndHkuY2xhc3MsCiAgICAgICAgICAgICAgICAgICAgSW5jb21wbGV0ZVJlbGF0\naW9uc2hpcFBhcmVudEVudGl0eS5JbmNvbXBsZXRlUmVsYXRpb25zaGlwUGFy\nZW50RW50aXR5UGsuY2xhc3MsCiAgICAgICAgICAgICAgICAgICAgSW5jb21w\nbGV0ZVJlbGF0aW9uc2hpcENoaWxkRW50aXR5LmNsYXNzLAogICAgICAgICAg\nICAgICAgICAgIEluY29tcGxldGVSZWxhdGlvbnNoaXBDaGlsZEVudGl0eS5J\nbmNvbXBsZXRlUmVsYXRpb25zaGlwQ2hpbGRFbnRpdHlQay5jbGFzcywKICAg\nICAgICAgICAgICAgICAgICBJbmNvbXBsZXRlUmVsYXRpb25zaGlwU3ViY2xh\nc3MuY2xhc3MsCiAgICAgICAgICAgICAgICAgICAgIm9wZW5qcGEuamRiYy5R\ndWVyeVNRTENhY2hlIiwgInRydWUiKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0SW5jb21wbGV0ZVJlbGF0aW9uc2hpcCgpIHsKICAgICAgICBmaW5h\nbCBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIo\nKTsKICAgICAgICBJbmNvbXBsZXRlUmVsYXRpb25zaGlwU3ViY2xhc3MgcGFy\nZW50ID0gbnVsbDsKICAgICAgICBJbmNvbXBsZXRlUmVsYXRpb25zaGlwQ2hp\nbGRFbnRpdHkgY2hpbGQgPSBudWxsOwoKICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmJlZ2luKCk7CiAgICAgICAgZm9yIChTdHJpbmcgcyA6IERJU0NP\nVU5UUykgewogICAgICAgICAgICBjaGlsZCA9IG5ldyBJbmNvbXBsZXRlUmVs\nYXRpb25zaGlwQ2hpbGRFbnRpdHkocywgQ0xJRU5UX0lEKTsKICAgICAgICAg\nICAgZW0ucGVyc2lzdChjaGlsZCk7CiAgICAgICAgfQogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAgIGZvciAoaW50IGkg\nPSAxOyBpIDwgMTAwOyBpKyspIHsKICAgICAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwoKICAgICAgICAgICAgcGFyZW50ID0gbmV3IElu\nY29tcGxldGVSZWxhdGlvbnNoaXBTdWJjbGFzcyhpLCBDTElFTlRfSUQpOwov\nLyAgICAgICAgICAgIHBhcmVudC5zZXRDaGlsZChjaGlsZCk7CgogICAgICAg\nICAgICBlbS5wZXJzaXN0KHBhcmVudCk7CiAgICAgICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAgICAgICBwYXJlbnQgPSAo\nSW5jb21wbGV0ZVJlbGF0aW9uc2hpcFN1YmNsYXNzKQogICAgICAgICAgICAg\nICAgICAgIGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgaSAiKwogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICJGUk9NIEluY29tcGxldGVSZWxh\ndGlvbnNoaXBTdWJjbGFzcyBpICIrCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIldIRVJFICAgaS5way5pZCA9IDppZCAiKwogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICJBTkQgICAgIGkucGsuY2xp\nZW50SWQgPSA6Y2xpZW50SWQgIikKICAgICAgICAgICAgICAuc2V0UGFyYW1l\ndGVyKCJpZCIsIGkpCiAgICAgICAgICAgICAgLnNldFBhcmFtZXRlcigiY2xp\nZW50SWQiLCBDTElFTlRfSUQpCiAgICAgICAgICAgICAgLmdldFNpbmdsZVJl\nc3VsdCgpOwoKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKHBhcmVudC5nZXRQ\naygpLmdldElkKCksIGkpOwogICAgICAgICAgICBhc3NlcnROdWxsKHBhcmVu\ndC5nZXRDaGlsZCgpKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

