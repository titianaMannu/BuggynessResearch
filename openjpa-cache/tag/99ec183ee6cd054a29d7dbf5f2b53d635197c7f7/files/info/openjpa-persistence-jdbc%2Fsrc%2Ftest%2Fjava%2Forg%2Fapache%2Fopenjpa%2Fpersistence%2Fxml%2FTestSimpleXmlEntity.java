{"sha":"870cda078fc15ff6819099e0b8fe8b923c6cd45e","node_id":"MDQ6QmxvYjIwNjM2NDo4NzBjZGEwNzhmYzE1ZmY2ODE5MDk5ZTBiOGZlOGI5MjNjNmNkNDVl","size":3268,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/870cda078fc15ff6819099e0b8fe8b923c6cd45e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UueG1sOwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5Bcmd1bWVu\ndEV4Y2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS50ZXN0LlNpbmdsZUVNVGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVz\ndFNpbXBsZVhtbEVudGl0eQogICAgZXh0ZW5kcyBTaW5nbGVFTVRlc3RDYXNl\nIHsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBzZXRVcCgK\nICAgICAgICBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZW1iZWQu\nYXR0ck92ZXJyaWRlcy5Bbm5vT3ZlckVtYmVkLmNsYXNzLAogICAgICAgIENM\nRUFSX1RBQkxFUyk7CiAgICB9CgogICAgcHJvdGVjdGVkIFN0cmluZyBnZXRQ\nZXJzaXN0ZW5jZVVuaXROYW1lKCkgewogICAgICAgIHJldHVybiAieG1sLXBl\ncnNpc3RlbmNlLXVuaXQiOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RJ\nZCgpIHsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAg\nICAgICAgU2ltcGxlWG1sRW50aXR5IGUgPSBuZXcgU2ltcGxlWG1sRW50aXR5\nKCk7CiAgICAgICAgZW0ucGVyc2lzdChlKTsKICAgICAgICBlbS5mbHVzaCgp\nOwogICAgICAgIGFzc2VydE5vdE51bGwoZS5nZXRJZCgpKTsKICAgICAgICB0\ncnkgewogICAgICAgICAgICBJbnRlZ2VyLnBhcnNlSW50KGUuZ2V0SWQoKSk7\nCiAgICAgICAgICAgIGZhaWwoInV1aWQtYmFzZWQgaWQgc2hvdWxkIG5vdCBi\nZSBhbiBpbnRlZ2VyOyB3YXMgIiArIGUuZ2V0SWQoKSk7CiAgICAgICAgfSBj\nYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIG5mZSkgewogICAgICAgICAg\nICAvLyBleHBlY3RlZAogICAgICAgIH0KICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLnJvbGxiYWNrKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndE5hbWVkUXVlcnlJblhtbE5hbWVkRW50aXR5KCkgewogICAgICAgIGVtLmNy\nZWF0ZU5hbWVkUXVlcnkoIlNpbXBsZVhtbC5maW5kQWxsIikuZ2V0UmVzdWx0\nTGlzdCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3ROYW1lZFF1ZXJ5\nSW5YbWxVc2luZ1Nob3J0Q2xhc3NOYW1lKCkgewogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIGVtLmNyZWF0ZU5hbWVkUXVlcnkoIlNpbXBsZVhtbEVudGl0\neS5maW5kQWxsIikuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgICAgICBmYWls\nKCJzaG91bGQgbm90IGJlIGFibGUgdG8gZXhlY3V0ZSBxdWVyeSB1c2luZyBz\naG9ydCBjbGFzcyBuYW1lICIgKwogICAgICAgICAgICAgICAgImZvciBlbnRp\ndHkgdGhhdCBoYXMgYW4gZW50aXR5IG5hbWUgc3BlY2lmaWVkIik7CiAgICAg\nICAgfSBjYXRjaCAoQXJndW1lbnRFeGNlcHRpb24gYWUpIHsKICAgICAgICAg\nICAgYXNzZXJ0TWFya2VySW5FcnJvck1lc3NhZ2UoYWUsICJUaGUgbmFtZSBc\nIlNpbXBsZVhtbEVudGl0eVwiIGlzIG5vdCBhIHJlY29nbml6ZWQgZW50aXR5\nIik7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3ROYW1l\nZEVudGl0eUluRHluYW1pY1F1ZXJ5KCkgewogICAgICAgIGVtLmNyZWF0ZVF1\nZXJ5KCJzZWxlY3QgbyBmcm9tIFNpbXBsZVhtbCBvIikuZ2V0UmVzdWx0TGlz\ndCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RTaG9ydENsYXNzTmFt\nZUluRHluYW1pY1F1ZXJ5KCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3QgbyBmcm9tIFNpbXBsZVhtbEVudGl0\neSBvIikuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgICAgICBmYWlsKCJzaG91\nbGQgbm90IGJlIGFibGUgdG8gZXhlY3V0ZSBxdWVyeSB1c2luZyBzaG9ydCBj\nbGFzcyBuYW1lICIgKwogICAgICAgICAgICAgICAgImZvciBlbnRpdHkgdGhh\ndCBoYXMgYW4gZW50aXR5IG5hbWUgc3BlY2lmaWVkIik7CiAgICAgICAgfSBj\nYXRjaCAoQXJndW1lbnRFeGNlcHRpb24gYWUpIHsKICAgICAgICAgICAgYXNz\nZXJ0TWFya2VySW5FcnJvck1lc3NhZ2UoYWUsICJUaGUgbmFtZSBcIlNpbXBs\nZVhtbEVudGl0eVwiIGlzIG5vdCBhIHJlY29nbml6ZWQgZW50aXR5Iik7CiAg\nICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAqIEFzc2VydHMgdGhh\ndCB0aGUgZ2l2ZW4gbWFya2VyIHN0cmluZyBhcHBlYXJzIGluIHRoZSBlcnJv\nciBtZXNzYWdlLgogICAgICogTm90IGEga29zaGVyIHdheSB0byB2ZXJpZnkg\nLS0gYnV0IC4uLgogICAgICovCiAgICB2b2lkIGFzc2VydE1hcmtlckluRXJy\nb3JNZXNzYWdlKEV4Y2VwdGlvbiBleCwgU3RyaW5nIG1hcmtlcikgewogICAg\nICAgIFN0cmluZyBtZXNzYWdlID0gZXguZ2V0TWVzc2FnZSgpOwogICAgICAg\nIGFzc2VydFRydWUoIkNhbiBub3QgZmluZCBbIiArIG1hcmtlciArICJdIGlu\nIHRoZSBtZXNzYWdlIFsiICsgbWVzc2FnZSArICJdIiwgbWVzc2FnZS5pbmRl\neE9mKG1hcmtlcikgIT0gLTEpOwogICAgfQp9Cg==\n","encoding":"base64"}

