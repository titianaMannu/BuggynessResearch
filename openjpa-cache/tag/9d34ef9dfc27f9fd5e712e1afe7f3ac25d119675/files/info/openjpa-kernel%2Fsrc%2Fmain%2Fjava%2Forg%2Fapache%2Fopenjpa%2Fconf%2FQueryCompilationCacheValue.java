{"sha":"c7546b4abe705c72f28028ba71ef505054f02860","node_id":"MDQ6QmxvYjIwNjM2NDpjNzU0NmI0YWJlNzA1YzcyZjI4MDI4YmE3MWVmNTA1MDU0ZjAyODYw","size":3915,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c7546b4abe705c72f28028ba71ef505054f02860","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuSGFzaHRhYmxl\nOwppbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIuY29uZi5QbHVnaW5WYWx1ZTsKaW1wb3J0IGphdmEu\ndXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRIYXNoTWFwOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLlBhcnNlRXhjZXB0aW9uOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuQ2FjaGVNYXA7CgovKioKICog\nQSBjYWNoZSBvZiBjb21waWxlZCBxdWVyaWVzLgogKgogKiBAYXV0aG9yIEFi\nZSBXaGl0ZQogKiBAc2luY2UgMC45LjYgKGFsc28gZXhpc3RlZCBpbiBwcmlv\nciB2ZXJzaW9ucyBvZiBLb2RvKQogKiBAbm9qYXZhZG9jCiAqLwpwdWJsaWMg\nY2xhc3MgUXVlcnlDb21waWxhdGlvbkNhY2hlVmFsdWUKICAgIGV4dGVuZHMg\nUGx1Z2luVmFsdWUgewoKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5n\nW10gQUxJQVNFUyA9IHsKICAgICAgICAidHJ1ZSIsIENhY2hlTWFwLmNsYXNz\nLmdldE5hbWUoKSwKICAgICAgICAiYWxsIiwgQ29uY3VycmVudEhhc2hNYXAu\nY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICJmYWxzZSIsIG51bGwsCiAgICB9\nOwoKICAgIHB1YmxpYyBRdWVyeUNvbXBpbGF0aW9uQ2FjaGVWYWx1ZShTdHJp\nbmcgcHJvcCkgewogICAgICAgIHN1cGVyKHByb3AsIHRydWUpOwogICAgICAg\nIHNldEFsaWFzZXMoQUxJQVNFUyk7CiAgICAgICAgc2V0RGVmYXVsdChBTElB\nU0VTWzBdKTsKICAgICAgICBzZXRDbGFzc05hbWUoQUxJQVNFU1sxXSk7CiAg\nICB9CgogICAgcHVibGljIE9iamVjdCBuZXdJbnN0YW5jZShTdHJpbmcgY2xz\nTmFtZSwgQ2xhc3MgdHlwZSwKICAgICAgICBDb25maWd1cmF0aW9uIGNvbmYs\nIGJvb2xlYW4gZmF0YWwpIHsKICAgICAgICAvLyBtYWtlIHN1cmUgbWFwIGhh\nbmRsZXMgY29uY3VycmVuY3kKICAgICAgICBNYXAgbWFwOwogICAgICAgIAog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIG1hcCA9IChNYXApIHN1cGVyLm5l\nd0luc3RhbmNlKGNsc05hbWUsIHR5cGUsIGNvbmYsIGZhdGFsKTsKICAgICAg\nICB9IGNhdGNoIChQYXJzZUV4Y2VwdGlvbiBwZSkgewogICAgICAgICAgICAv\nLyBPUEVOSlBBMjU2OiB0aGlzIGNsYXNzIGRpZmZlcnMgZnJvbSBtb3N0IHBs\ndWdpbnMgaW4gdGhhdAogICAgICAgICAgICAvLyB0aGUgcGx1Z2luIHR5cGUg\naXMgdGhlIHN0YW5kYXJkIGphdmEgaW50ZXJmYWNlIE1hcC5jbGFzcyAocmF0\naGVyCiAgICAgICAgICAgIC8vIHRoYW4gYW4gb3BlbmpwYS1zcGVjaWZpYyBp\nbnRlcmZhY2UpLCB3aGljaCBtZWFucyB0aGF0IHRoZQogICAgICAgICAgICAv\nLyBDbGFzc0xvYWRlciB1c2VkIHRvIGxvYWQgdGhlIGltcGxlbWVudGF0aW9u\nIHdpbGwgYmUgdGhlIHN5c3RlbQogICAgICAgICAgICAvLyBjbGFzcyBsb2Fk\nZXI7IHRoaXMgcHJlc2VudHMgYSBwcm9ibGVtIGlmIE9wZW5KUEEgaXMgbm90\nIGluIHRoZQogICAgICAgICAgICAvLyBzeXN0ZW0gY2xhc3NwYXRoLCBzbyB3\nb3JrIGFyb3VuZCB0aGUgcHJvYmxlbSBieSBjYXRjaGluZwogICAgICAgICAg\nICAvLyB0aGUgUGFyc2VFeGNlcHRpb24gKHdoaWNoIGlzIHdoYXQgd2Ugd3Jh\ncCB0aGUKICAgICAgICAgICAgLy8gQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBp\nbikgYW5kIHRyeSBhZ2FpbiwgdGhpcyB0aW1lIHVzaW5nCiAgICAgICAgICAg\nIC8vIHRoaXMgY2xhc3MnIENsYXNzTG9hZGVyLgogICAgICAgICAgICBtYXAg\nPSAoTWFwKSBzdXBlci5uZXdJbnN0YW5jZShjbHNOYW1lLAogICAgICAgICAg\nICAgICAgUXVlcnlDb21waWxhdGlvbkNhY2hlVmFsdWUuY2xhc3MsIGNvbmYs\nIGZhdGFsKTsKICAgICAgICB9IGNhdGNoIChJbGxlZ2FsQXJndW1lbnRFeGNl\ncHRpb24gaWFlKSB7CiAgICAgICAgICAgIC8vIE9QRU5KUEEyNTY6IHRoaXMg\nY2xhc3MgZGlmZmVycyBmcm9tIG1vc3QgcGx1Z2lucyBpbiB0aGF0CiAgICAg\nICAgICAgIC8vIHRoZSBwbHVnaW4gdHlwZSBpcyB0aGUgc3RhbmRhcmQgamF2\nYSBpbnRlcmZhY2UgTWFwLmNsYXNzIChyYXRoZXIKICAgICAgICAgICAgLy8g\ndGhhbiBhbiBvcGVuanBhLXNwZWNpZmljIGludGVyZmFjZSksIHdoaWNoIG1l\nYW5zIHRoYXQgdGhlCiAgICAgICAgICAgIC8vIENsYXNzTG9hZGVyIHVzZWQg\ndG8gbG9hZCB0aGUgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB0aGUgc3lzdGVt\nCiAgICAgICAgICAgIC8vIGNsYXNzIGxvYWRlcjsgdGhpcyBwcmVzZW50cyBh\nIHByb2JsZW0gaWYgT3BlbkpQQSBpcyBub3QgaW4gdGhlCiAgICAgICAgICAg\nIC8vIHN5c3RlbSBjbGFzc3BhdGgsIHNvIHdvcmsgYXJvdW5kIHRoZSBwcm9i\nbGVtIGJ5IGNhdGNoaW5nCiAgICAgICAgICAgIC8vIHRoZSBJbGxlZ2FsQXJn\ndW1lbnRFeGNlcHRpb24gKHdoaWNoIGlzIHdoYXQgd2Ugd3JhcCB0aGUKICAg\nICAgICAgICAgLy8gQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBpbikgYW5kIHRy\neSBhZ2FpbiwgdGhpcyB0aW1lIHVzaW5nCiAgICAgICAgICAgIC8vIHRoaXMg\nY2xhc3MnIENsYXNzTG9hZGVyLgogICAgICAgICAgICBtYXAgPSAoTWFwKSBz\ndXBlci5uZXdJbnN0YW5jZShjbHNOYW1lLAogICAgICAgICAgICAgICAgUXVl\ncnlDb21waWxhdGlvbkNhY2hlVmFsdWUuY2xhc3MsIGNvbmYsIGZhdGFsKTsK\nICAgICAgICB9CgogICAgICAgIGlmIChtYXAgIT0gbnVsbCAmJiAhKG1hcCBp\nbnN0YW5jZW9mIEhhc2h0YWJsZSkKICAgICAgICAgICAgJiYgIShtYXAgaW5z\ndGFuY2VvZiBDYWNoZU1hcCkKICAgICAgICAgICAgJiYgIShtYXAgaW5zdGFu\nY2VvZgogICAgICAgICAgICAgICAgICAgIG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIudXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRNYXApCiAgICAgICAgICAg\nICYmICEobWFwIGluc3RhbmNlb2YgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29u\nY3VycmVudE1hcCkpCiAgICAgICAgICAgIG1hcCA9IENvbGxlY3Rpb25zLnN5\nbmNocm9uaXplZE1hcChtYXApOwogICAgICAgIHJldHVybiBtYXA7Cgl9Cn0K\n","encoding":"base64"}

