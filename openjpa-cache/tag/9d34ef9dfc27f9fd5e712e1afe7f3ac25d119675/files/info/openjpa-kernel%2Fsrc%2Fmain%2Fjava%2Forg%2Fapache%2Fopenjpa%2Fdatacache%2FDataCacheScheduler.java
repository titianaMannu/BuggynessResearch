{"sha":"28e7e211ced156204672294e6c9cd7f36797c6b0","node_id":"MDQ6QmxvYjIwNjM2NDoyOGU3ZTIxMWNlZDE1NjIwNDY3MjI5NGU2YzljZDdmMzY3OTdjNmIw","size":8415,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/28e7e211ced156204672294e6c9cd7f36797c6b0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEu\ndGV4dC5EYXRlRm9ybWF0OwppbXBvcnQgamF2YS50ZXh0LlNpbXBsZURhdGVG\nb3JtYXQ7CmltcG9ydCBqYXZhLnV0aWwuQ2FsZW5kYXI7CmltcG9ydCBqYXZh\nLnV0aWwuRGF0ZTsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0\nIGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwuU3RyaW5nVG9rZW5p\nemVyOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLk9wZW5KUEFD\nb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5s\nb2cuTG9nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkoy\nRG9Qcml2SGVscGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51\ndGlsLkxvY2FsaXplcjsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNv\nbmN1cnJlbnRIYXNoTWFwOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0\naWwuSW52YWxpZFN0YXRlRXhjZXB0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnV0aWwuVXNlckV4Y2VwdGlvbjsKaW1wb3J0IHNlcnAudXRpbC5T\ndHJpbmdzOwoKLyoqCiAqIENyb24tc3R5bGUgY2FjaGUgZXZpY3Rpb24uIFVu\nZGVyc3RhbmRzIHNjaGVkdWxlcyBiYXNlZCBvbiBjcm9uIGZvcm1hdDoKICog\nPGNvZGU+bWludXRlIGhvdXIgbWRheSBtb250aCB3ZGF5PC9jb2RlPgogKiBG\nb3IgZXhhbXBsZToKICogPGNvZGU+MTUsMzAgNiwxOSAyLDEwIDEgMiA8L2Nv\nZGU+CiAqIFdvdWxkIHJ1biBhdCAxNSBhbmQgMzAgcGFzdCB0aGUgNkFNIGFu\nZCA3UE0sIG9uIHRoZSAybmQgYW5kIDEwdGgKICogb2YgSmFudWFyeSB3aGVu\nIGl0cyBhIE1vbmRheS4KICoKICogQGF1dGhvciBTdGV2ZSBLaW0KICovCnB1\nYmxpYyBjbGFzcyBEYXRhQ2FjaGVTY2hlZHVsZXIKICAgIGltcGxlbWVudHMg\nUnVubmFibGUgewoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIExvY2FsaXpl\nciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAoRGF0YUNh\nY2hlU2NoZWR1bGVyLmNsYXNzKTsKCiAgICBwcml2YXRlIE1hcCBfY2FjaGVz\nID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwKCk7CiAgICBwcml2YXRlIGJvb2xl\nYW4gX3N0b3AgPSBmYWxzZTsKICAgIHByaXZhdGUgaW50IF9pbnRlcnZhbCA9\nIDI7CiAgICBwcml2YXRlIExvZyBfbG9nOwogICAgcHJpdmF0ZSBUaHJlYWQg\nX3RocmVhZDsKCiAgICBwdWJsaWMgRGF0YUNhY2hlU2NoZWR1bGVyKE9wZW5K\nUEFDb25maWd1cmF0aW9uIGNvbmYpIHsKICAgICAgICBfbG9nID0gY29uZi5n\nZXRMb2dGYWN0b3J5KCkuZ2V0TG9nKE9wZW5KUEFDb25maWd1cmF0aW9uLkxP\nR19EQVRBQ0FDSEUpOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGludGVy\ndmFsIHRpbWUgaW4gbWludXRlcyBiZXR3ZWVuIGNhY2hlIGNoZWNrcy4gRGVm\nYXVsdHMgdG8gMi4KICAgICAqLwogICAgcHVibGljIGludCBnZXRJbnRlcnZh\nbCgpIHsKICAgICAgICByZXR1cm4gX2ludGVydmFsOwogICAgfQoKICAgIC8q\nKgogICAgICogVGhlIGludGVydmFsIHRpbWUgaW4gbWludXRlcyBiZXR3ZWVu\nIGNhY2hlIGNoZWNrcy4gRGVmYXVsdHMgdG8gMi4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgc2V0SW50ZXJ2YWwoaW50IGludGVydmFsKSB7CiAgICAgICAg\nX2ludGVydmFsID0gaW50ZXJ2YWw7CiAgICB9CgogICAgLyoqCiAgICAgKiBT\ndG9wIHRoZSBhc3NvY2lhdGVkIHRocmVhZCBpZiB0aGVyZSBhbmQgc3RvcCB0\naGUgY3VycmVudCBydW5uYWJsZS4KICAgICAqLwogICAgcHVibGljIHN5bmNo\ncm9uaXplZCB2b2lkIHN0b3AoKSB7CiAgICAgICAgX3N0b3AgPSB0cnVlOwog\nICAgfQoKICAgIHByaXZhdGUgYm9vbGVhbiBpc1N0b3BwZWQoKSB7CiAgICAg\nICAgcmV0dXJuIF9zdG9wOwogICAgfQoKICAgIC8qKgogICAgICogU2NoZWR1\nbGUgdGhlIGdpdmVuIGNhY2hlIGZvciBldmljdGlvbi4gU3RhcnRzIHRoZSBz\nY2hlZHVsaW5nIHRocmVhZAogICAgICogaWYgbm90IHN0YXJ0ZWQuCiAgICAg\nKi8KICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgdm9pZCBzY2hlZHVsZUV2aWN0\naW9uKERhdGFDYWNoZSBjYWNoZSwgU3RyaW5nIHRpbWVzKSB7CiAgICAgICAg\naWYgKHRpbWVzID09IG51bGwpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAg\nICAgU2NoZWR1bGUgc2NoZWR1bGUgPSBuZXcgU2NoZWR1bGUodGltZXMpOwog\nICAgICAgIF9jYWNoZXMucHV0KGNhY2hlLCBzY2hlZHVsZSk7CiAgICAgICAg\nX3N0b3AgPSBmYWxzZTsKICAgICAgICBpZiAoX3RocmVhZCA9PSBudWxsKSB7\nCiAgICAgICAgICAgIF90aHJlYWQgPSAoVGhyZWFkKSBBY2Nlc3NDb250cm9s\nbGVyLmRvUHJpdmlsZWdlZChKMkRvUHJpdkhlbHBlcgogICAgICAgICAgICAg\nICAgLm5ld0RhZW1vblRocmVhZEFjdGlvbih0aGlzLCBfbG9jLmdldCgic2No\nZWR1bGVyLW5hbWUiKQogICAgICAgICAgICAgICAgICAgIC5nZXRNZXNzYWdl\nKCkpKTsKICAgICAgICAgICAgX3RocmVhZC5zdGFydCgpOwogICAgICAgICAg\nICBpZiAoX2xvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAgICAgICAgICAgICAg\nX2xvZy50cmFjZShfbG9jLmdldCgic2NoZWR1bGVyLXN0YXJ0IiwgX3RocmVh\nZC5nZXROYW1lKCkpKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZW1vdmUgdGhlIGdpdmVuIGNhY2hlIGZyb20gc2NoZWR1bGluZy4KICAg\nICAqLwogICAgcHVibGljIHN5bmNocm9uaXplZCB2b2lkIHJlbW92ZUZyb21T\nY2hlZHVsZShEYXRhQ2FjaGUgY2FjaGUpIHsKICAgICAgICBfY2FjaGVzLnJl\nbW92ZShjYWNoZSk7CiAgICAgICAgaWYgKF9jYWNoZXMuc2l6ZSgpID09IDAp\nCiAgICAgICAgICAgIHN0b3AoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBy\ndW4oKSB7CiAgICAgICAgaWYgKF9sb2cuaXNUcmFjZUVuYWJsZWQoKSkKICAg\nICAgICAgICAgX2xvZy50cmFjZShfbG9jLmdldCgic2NoZWR1bGVyLWludGVy\ndmFsIiwgX2ludGVydmFsICsgIiIpKTsKCiAgICAgICAgRGF0ZSBsYXN0UnVu\nID0gbmV3IERhdGUoKTsKICAgICAgICBEYXRlRm9ybWF0IGZvbSA9IG5ldyBT\naW1wbGVEYXRlRm9ybWF0KCJFIEhIOm1tOnNzIik7CiAgICAgICAgd2hpbGUg\nKCFpc1N0b3BwZWQoKSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAg\nICAgICAgVGhyZWFkLnNsZWVwKF9pbnRlcnZhbCAqIDYwICogMTAwMCk7Cgog\nICAgICAgICAgICAgICAgRGF0ZSBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAg\nICAgICAgICAgRGF0YUNhY2hlIGNhY2hlOwogICAgICAgICAgICAgICAgU2No\nZWR1bGUgc2NoZWR1bGU7CiAgICAgICAgICAgICAgICBNYXAuRW50cnkgZW50\ncnk7CiAgICAgICAgICAgICAgICBmb3IgKEl0ZXJhdG9yIGkgPSBfY2FjaGVz\nLmVudHJ5U2V0KCkuaXRlcmF0b3IoKTsgaS5oYXNOZXh0KCk7KSB7CiAgICAg\nICAgICAgICAgICAgICAgZW50cnkgPSAoTWFwLkVudHJ5KSBpLm5leHQoKTsK\nICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IChEYXRhQ2FjaGUpIGVudHJ5\nLmdldEtleSgpOwogICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlID0gKFNj\naGVkdWxlKSBlbnRyeS5nZXRWYWx1ZSgpOwogICAgICAgICAgICAgICAgICAg\nIGlmIChzY2hlZHVsZS5tYXRjaGVzKGxhc3RSdW4sIG5vdykpIHsKICAgICAg\nICAgICAgICAgICAgICAgICAgaWYgKF9sb2cuaXNUcmFjZUVuYWJsZWQoKSkK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2cudHJhY2UoX2xvYy5n\nZXQoInNjaGVkdWxlci1jbGVhciIsCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgY2FjaGUuZ2V0TmFtZSgpLCBmb20uZm9ybWF0KG5vdykpKTsK\nICAgICAgICAgICAgICAgICAgICAgICAgZXZpY3QoY2FjaGUpOwogICAgICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nICAgIGxhc3RSdW4gPSBub3c7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2Vw\ndGlvbiBlKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFN0\nYXRlRXhjZXB0aW9uKF9sb2MuZ2V0KCJzY2hlZHVsZXItZmFpbCIpLCBlKS4K\nICAgICAgICAgICAgICAgICAgICBzZXRGYXRhbCh0cnVlKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0KCiAgICAgICAgX2xvZy5pbmZvKF9sb2MuZ2V0KCJz\nY2hlZHVsZXItc3RvcCIpKTsKICAgICAgICBzeW5jaHJvbml6ZWQgKHRoaXMp\nIHsKICAgICAgICAgICAgaWYgKGlzU3RvcHBlZCgpKQogICAgICAgICAgICAg\nICAgX3RocmVhZCA9IG51bGw7IC8vIGJlIHN1cmUgdG8gZGVyZWYgdGhlIHRo\ncmVhZCBzbyBpdCBjYW4gcmVzdGFydAogICAgICAgIH0KICAgIH0KCiAgICBw\ncm90ZWN0ZWQgdm9pZCBldmljdChEYXRhQ2FjaGUgY2FjaGUpIHsKICAgICAg\nICBjYWNoZS5jbGVhcigpOwogICAgfQoKICAgIC8qKgogICAgICogU2ltcGxl\nIGNsYXNzIHdoaWNoIHJlcHJlc2VudHMgdGhlIGdpdmVuIHRpbWUgc2NoZWR1\nbGUuCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIGNsYXNzIFNjaGVkdWxl\nIHsKCiAgICAgICAgc3RhdGljIGZpbmFsIGludFtdIFdJTERDQVJEID0gbmV3\nIGludFswXTsKICAgICAgICBzdGF0aWMgZmluYWwgaW50W10gVU5JVFMgPSB7\nCiAgICAgICAgICAgIENhbGVuZGFyLk1PTlRILAogICAgICAgICAgICBDYWxl\nbmRhci5EQVlfT0ZfTU9OVEgsCiAgICAgICAgICAgIENhbGVuZGFyLkRBWV9P\nRl9XRUVLLAogICAgICAgICAgICBDYWxlbmRhci5IT1VSX09GX0RBWSwKICAg\nICAgICAgICAgQ2FsZW5kYXIuTUlOVVRFCiAgICAgICAgfTsKICAgICAgICBm\naW5hbCBpbnRbXSBtb250aDsKICAgICAgICBmaW5hbCBpbnRbXSBkYXlPZk1v\nbnRoOwogICAgICAgIGZpbmFsIGludFtdIGRheU9mV2VlazsKICAgICAgICBm\naW5hbCBpbnRbXSBob3VyOwogICAgICAgIGZpbmFsIGludFtdIG1pbjsKCiAg\nICAgICAgcHVibGljIFNjaGVkdWxlKFN0cmluZyBkYXRlKSB7CiAgICAgICAg\nICAgIFN0cmluZ1Rva2VuaXplciB0b2tlbiA9IG5ldyBTdHJpbmdUb2tlbml6\nZXIoZGF0ZSwgIiBcdCIpOwogICAgICAgICAgICBpZiAodG9rZW4uY291bnRU\nb2tlbnMoKSAhPSA1KQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJF\neGNlcHRpb24oX2xvYy5nZXQoImJhZC1jb3VudCIsIGRhdGUpKS4KICAgICAg\nICAgICAgICAgICAgICBzZXRGYXRhbCh0cnVlKTsKICAgICAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgICAgIG1pbiA9IHBhcnNlKHRva2VuLm5leHRUb2tl\nbigpLCAwLCA2MCk7CiAgICAgICAgICAgICAgICBob3VyID0gcGFyc2UodG9r\nZW4ubmV4dFRva2VuKCksIDAsIDI0KTsKICAgICAgICAgICAgICAgIGRheU9m\nTW9udGggPSBwYXJzZSh0b2tlbi5uZXh0VG9rZW4oKSwgMSwgMzEpOwogICAg\nICAgICAgICAgICAgbW9udGggPSBwYXJzZSh0b2tlbi5uZXh0VG9rZW4oKSwg\nMSwgMTMpOwogICAgICAgICAgICAgICAgZGF5T2ZXZWVrID0gcGFyc2UodG9r\nZW4ubmV4dFRva2VuKCksIDEsIDgpOwogICAgICAgICAgICB9IGNhdGNoIChU\naHJvd2FibGUgdCkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJF\neGNlcHRpb24oX2xvYy5nZXQoImJhZC1zY2hlZHVsZSIsIGRhdGUpLCB0KS4K\nICAgICAgICAgICAgICAgICAgICBzZXRGYXRhbCh0cnVlKTsKICAgICAgICAg\nICAgfQogICAgICAgIH0KCiAgICAgICAgcHJpdmF0ZSBpbnRbXSBwYXJzZShT\ndHJpbmcgdG9rZW4sIGludCBtaW4sIGludCBtYXgpIHsKICAgICAgICAgICAg\naWYgKCIqIi5lcXVhbHModG9rZW4udHJpbSgpKSkKICAgICAgICAgICAgICAg\nIHJldHVybiBXSUxEQ0FSRDsKICAgICAgICAgICAgU3RyaW5nW10gdG9rZW5z\nID0gU3RyaW5ncy5zcGxpdCh0b2tlbiwgIiwiLCAwKTsKICAgICAgICAgICAg\naW50IFtdIHRpbWVzID0gbmV3IGludFt0b2tlbnMubGVuZ3RoXTsKICAgICAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKysp\nIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAg\ndGltZXNbaV0gPSBJbnRlZ2VyLnBhcnNlSW50KHRva2Vuc1tpXSk7CiAgICAg\nICAgICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAg\nICAgICAgICAgIHRocm93IG5ldyBVc2VyRXhjZXB0aW9uKF9sb2MuZ2V0KCJu\nb3QtbnVtYmVyIiwgdG9rZW4pKS4KICAgICAgICAgICAgICAgICAgICAgICAg\nc2V0RmF0YWwodHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nICAgICBpZiAodGltZXNbaV0gPCBtaW4gfHwgdGltZXNbaV0gPj0gbWF4KQog\nICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXhjZXB0aW9uKF9s\nb2MuZ2V0KCJub3QtcmFuZ2UiLCB0b2tlbiwKICAgICAgICAgICAgICAgICAg\nICAgICAgU3RyaW5nLnZhbHVlT2YobWluKSwgU3RyaW5nLnZhbHVlT2YobWF4\nKSkpLgogICAgICAgICAgICAgICAgICAgICAgICBzZXRGYXRhbCh0cnVlKTsK\nICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGltZXM7CiAgICAg\nICAgfQoKICAgICAgICBib29sZWFuIG1hdGNoZXMoRGF0ZSBsYXN0LCBEYXRl\nIG5vdykgewogICAgICAgICAgICBDYWxlbmRhciB0aW1lID0gQ2FsZW5kYXIu\nZ2V0SW5zdGFuY2UoKTsKICAgICAgICAgICAgdGltZS5zZXRUaW1lKG5vdyk7\nCiAgICAgICAgICAgIHRpbWUuc2V0KENhbGVuZGFyLlNFQ09ORCwgMCk7CiAg\nICAgICAgICAgIHRpbWUuc2V0KENhbGVuZGFyLk1JTExJU0VDT05ELCAwKTsK\nCiAgICAgICAgICAgIGludFtdW10gYWxsID0KICAgICAgICAgICAgICAgIG5l\ndyBpbnRbXVtdeyBtb250aCwgZGF5T2ZNb250aCwgZGF5T2ZXZWVrLCBob3Vy\nLCBtaW4gfTsKICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMobGFzdCwgbm93\nLCB0aW1lLCBhbGwsIDApOwogICAgICAgIH0KCiAgICAgICAgcHJpdmF0ZSBi\nb29sZWFuIG1hdGNoZXMoRGF0ZSBsYXN0LCBEYXRlIG5vdywgQ2FsZW5kYXIg\ndGltZSwKICAgICAgICAgICAgaW50W11bXSB0aW1lcywgaW50IGRlcHRoKSB7\nCiAgICAgICAgICAgIGlmIChkZXB0aCA9PSBVTklUUy5sZW5ndGgpIHsKICAg\nICAgICAgICAgICAgIERhdGUgY29tcGFyZSA9IHRpbWUuZ2V0VGltZSgpOwog\nICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUuY29tcGFyZVRvKGxhc3Qp\nID49IDAgJiYKICAgICAgICAgICAgICAgICAgICBjb21wYXJlLmNvbXBhcmVU\nbyhub3cpIDwgMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRp\nbWVzW2RlcHRoXSAhPSBXSUxEQ0FSRCkgewogICAgICAgICAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCB0aW1lc1tkZXB0aF0ubGVuZ3RoOyBpKyspIHsK\nICAgICAgICAgICAgICAgICAgICB0aW1lLnNldChVTklUU1tkZXB0aF0sIHRp\nbWVzW2RlcHRoXVtpXSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNo\nZXMobGFzdCwgbm93LCB0aW1lLCB0aW1lcywgZGVwdGggKyAxKSkKICAgICAg\nICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAg\nICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMo\nbGFzdCwgbm93LCB0aW1lLCB0aW1lcywgZGVwdGggKyAxKTsKCQl9Cgl9Cn0K\n","encoding":"base64"}

