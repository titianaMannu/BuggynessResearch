{"sha":"b8062348dc244aba3751546c022e54e4afe13b42","node_id":"MDQ6QmxvYjIwNjM2NDpiODA2MjM0OGRjMjQ0YWJhMzc1MTU0NmMwMjJlNTRlNGFmZTEzYjQy","size":4673,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b8062348dc244aba3751546c022e54e4afe13b42","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZXZlbnQ7CgppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLmNvbmN1cnJlbnQuQWJzdHJhY3RD\nb25jdXJyZW50RXZlbnRNYW5hZ2VyOwoKLyoqCiAqIE1hbmFnZXIgdGhhdCBj\nYW4gYmUgdXNlZCB0byB0cmFjayBhbmQgbm90aWZ5IHRyYW5zYWN0aW9uIGxp\nc3RlbmVycwogKiBvZiB0cmFuc2FjdGlvbi1yZWxhdGVkIGV2ZW50cy4KICoK\nICogQGF1dGhvciBQYXRyaWNrIExpbnNrZXkKICogQGF1dGhvciBBYmUgV2hp\ndGUKICogQHNpbmNlIDAuMy4wCiAqIEBub2phdmFkb2MKICovCnB1YmxpYyBj\nbGFzcyBUcmFuc2FjdGlvbkV2ZW50TWFuYWdlcgogICAgZXh0ZW5kcyBBYnN0\ncmFjdENvbmN1cnJlbnRFdmVudE1hbmFnZXIgewoKICAgIHByaXZhdGUgaW50\nIF9iZWdpbiA9IDA7CiAgICBwcml2YXRlIGludCBfZmx1c2ggPSAwOwogICAg\ncHJpdmF0ZSBpbnQgX2VuZCA9IDA7CgogICAgcHVibGljIHZvaWQgYWRkTGlz\ndGVuZXIoT2JqZWN0IGxpc3RlbmVyKSB7CiAgICAgICAgc3VwZXIuYWRkTGlz\ndGVuZXIobGlzdGVuZXIpOwogICAgICAgIGlmIChsaXN0ZW5lciBpbnN0YW5j\nZW9mIEJlZ2luVHJhbnNhY3Rpb25MaXN0ZW5lcikKICAgICAgICAgICAgX2Jl\nZ2luKys7CiAgICAgICAgaWYgKGxpc3RlbmVyIGluc3RhbmNlb2YgRmx1c2hU\ncmFuc2FjdGlvbkxpc3RlbmVyKQogICAgICAgICAgICBfZmx1c2grKzsKICAg\nICAgICBpZiAobGlzdGVuZXIgaW5zdGFuY2VvZiBFbmRUcmFuc2FjdGlvbkxp\nc3RlbmVyKQogICAgICAgICAgICBfZW5kKys7CiAgICB9CgogICAgcHVibGlj\nIGJvb2xlYW4gcmVtb3ZlTGlzdGVuZXIoT2JqZWN0IGxpc3RlbmVyKSB7CiAg\nICAgICAgaWYgKCFzdXBlci5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikpCiAg\nICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAgaWYgKGxpc3RlbmVy\nIGluc3RhbmNlb2YgQmVnaW5UcmFuc2FjdGlvbkxpc3RlbmVyKQogICAgICAg\nICAgICBfYmVnaW4tLTsKICAgICAgICBpZiAobGlzdGVuZXIgaW5zdGFuY2Vv\nZiBGbHVzaFRyYW5zYWN0aW9uTGlzdGVuZXIpCiAgICAgICAgICAgIF9mbHVz\naC0tOwogICAgICAgIGlmIChsaXN0ZW5lciBpbnN0YW5jZW9mIEVuZFRyYW5z\nYWN0aW9uTGlzdGVuZXIpCiAgICAgICAgICAgIF9lbmQtLTsKICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhl\ncmUgYXJlIGFueSBiZWdpbiB0cmFuc2FjdGlvbiBsaXN0ZW5lcnMuCiAgICAg\nKi8KICAgIHB1YmxpYyBib29sZWFuIGhhc0JlZ2luTGlzdGVuZXJzKCkgewog\nICAgICAgIHJldHVybiBfYmVnaW4gPiAwOwogICAgfQoKICAgIC8qKgogICAg\nICogV2hldGhlciB0aGVyZSBhcmUgYW55IGZsdXNoIHRyYW5zYWN0aW9uIGxp\nc3RlbmVycy4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gaGFzRmx1c2hM\naXN0ZW5lcnMoKSB7CiAgICAgICAgcmV0dXJuIF9mbHVzaCA+IDA7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoZXJlIGFyZSBhbnkgZW5kIHRy\nYW5zYWN0aW9uIGxpc3RlbmVycy4KICAgICAqLwogICAgcHVibGljIGJvb2xl\nYW4gaGFzRW5kTGlzdGVuZXJzKCkgewogICAgICAgIHJldHVybiBfZW5kID4g\nMDsKICAgIH0KCiAgICAvKioKICAgICAqIEZpcmUgdGhlIGdpdmVuIGV2ZW50\nIHRvIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVycy4KICAgICAqLwogICAgcHJv\ndGVjdGVkIHZvaWQgZmlyZUV2ZW50KE9iamVjdCBldmVudCwgT2JqZWN0IGxp\nc3RlbmVyKSB7CiAgICAgICAgVHJhbnNhY3Rpb25FdmVudCBldiA9IChUcmFu\nc2FjdGlvbkV2ZW50KSBldmVudDsKICAgICAgICBzd2l0Y2ggKGV2LmdldFR5\ncGUoKSkgewogICAgICAgICAgICBjYXNlIFRyYW5zYWN0aW9uRXZlbnQuQUZU\nRVJfQkVHSU46CiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgaW5zdGFu\nY2VvZiBCZWdpblRyYW5zYWN0aW9uTGlzdGVuZXIpCiAgICAgICAgICAgICAg\nICAgICAgKChCZWdpblRyYW5zYWN0aW9uTGlzdGVuZXIpIGxpc3RlbmVyKS5h\nZnRlckJlZ2luKGV2KTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAg\nICAgICBjYXNlIFRyYW5zYWN0aW9uRXZlbnQuQkVGT1JFX0ZMVVNIOgogICAg\nICAgICAgICAgICAgaWYgKGxpc3RlbmVyIGluc3RhbmNlb2YgRmx1c2hUcmFu\nc2FjdGlvbkxpc3RlbmVyKQogICAgICAgICAgICAgICAgICAgICgoRmx1c2hU\ncmFuc2FjdGlvbkxpc3RlbmVyKSBsaXN0ZW5lcikuYmVmb3JlRmx1c2goZXYp\nOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgVHJh\nbnNhY3Rpb25FdmVudC5BRlRFUl9GTFVTSDoKICAgICAgICAgICAgICAgIGlm\nIChsaXN0ZW5lciBpbnN0YW5jZW9mIEZsdXNoVHJhbnNhY3Rpb25MaXN0ZW5l\ncikKICAgICAgICAgICAgICAgICAgICAoKEZsdXNoVHJhbnNhY3Rpb25MaXN0\nZW5lcikgbGlzdGVuZXIpLmFmdGVyRmx1c2goZXYpOwogICAgICAgICAgICAg\nICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgVHJhbnNhY3Rpb25FdmVudC5C\nRUZPUkVfQ09NTUlUOgogICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyIGlu\nc3RhbmNlb2YgRW5kVHJhbnNhY3Rpb25MaXN0ZW5lcikKICAgICAgICAgICAg\nICAgICAgICAoKEVuZFRyYW5zYWN0aW9uTGlzdGVuZXIpIGxpc3RlbmVyKS5i\nZWZvcmVDb21taXQoZXYpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAg\nICAgICAgIGNhc2UgVHJhbnNhY3Rpb25FdmVudC5BRlRFUl9DT01NSVQ6CiAg\nICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgaW5zdGFuY2VvZiBFbmRUcmFu\nc2FjdGlvbkxpc3RlbmVyKQogICAgICAgICAgICAgICAgICAgICgoRW5kVHJh\nbnNhY3Rpb25MaXN0ZW5lcikgbGlzdGVuZXIpLmFmdGVyQ29tbWl0KGV2KTsK\nICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIFRyYW5z\nYWN0aW9uRXZlbnQuQUZURVJfUk9MTEJBQ0s6CiAgICAgICAgICAgICAgICBp\nZiAobGlzdGVuZXIgaW5zdGFuY2VvZiBFbmRUcmFuc2FjdGlvbkxpc3RlbmVy\nKQogICAgICAgICAgICAgICAgICAgICgoRW5kVHJhbnNhY3Rpb25MaXN0ZW5l\ncikgbGlzdGVuZXIpLmFmdGVyUm9sbGJhY2soZXYpOwogICAgICAgICAgICAg\nICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgVHJhbnNhY3Rpb25FdmVudC5B\nRlRFUl9TVEFURV9UUkFOU0lUSU9OUzoKICAgICAgICAgICAgICAgIGlmIChs\naXN0ZW5lciBpbnN0YW5jZW9mIEVuZFRyYW5zYWN0aW9uTGlzdGVuZXIpCiAg\nICAgICAgICAgICAgICAgICAgKChFbmRUcmFuc2FjdGlvbkxpc3RlbmVyKSBs\naXN0ZW5lcikKICAgICAgICAgICAgICAgICAgICAgICAgLmFmdGVyU3RhdGVU\ncmFuc2l0aW9ucyhldik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAg\nICAgICAgY2FzZSBUcmFuc2FjdGlvbkV2ZW50LkFGVEVSX0NPTU1JVF9DT01Q\nTEVURToKICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciBpbnN0YW5jZW9m\nIEVuZFRyYW5zYWN0aW9uTGlzdGVuZXIpCiAgICAgICAgICAgICAgICAgICAg\nKChFbmRUcmFuc2FjdGlvbkxpc3RlbmVyKSBsaXN0ZW5lcikuYWZ0ZXJDb21t\naXRDb21wbGV0ZShldik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAg\nICAgICAgY2FzZSBUcmFuc2FjdGlvbkV2ZW50LkFGVEVSX1JPTExCQUNLX0NP\nTVBMRVRFOgogICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyIGluc3RhbmNl\nb2YgRW5kVHJhbnNhY3Rpb25MaXN0ZW5lcikKICAgICAgICAgICAgICAgICAg\nICAoKEVuZFRyYW5zYWN0aW9uTGlzdGVuZXIpIGxpc3RlbmVyKQogICAgICAg\nICAgICAgICAgICAgICAgICAuYWZ0ZXJSb2xsYmFja0NvbXBsZXRlKGV2KTsK\nICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCX0KfQo=\n","encoding":"base64"}

