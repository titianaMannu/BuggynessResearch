{"sha":"2ac03497fe2144db0bdb0b31425dd872e5d14db6","node_id":"MDQ6QmxvYjIwNjM2NDoyYWMwMzQ5N2ZlMjE0NGRiMGJkYjBiMzE0MjVkZDg3MmU1ZDE0ZGI2","size":3847,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2ac03497fe2144db0bdb0b31425dd872e5d14db6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLm1ldGEuU291cmNlVHJhY2tlcjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIueG1sLkNvbW1lbnRhYmxl\nOwoKLyoqCiAqIE1ldGFkYXRhIGFib3V0IGEgcGVyc2lzdGVuY2UtYXdhcmUg\ndHlwZS4KICoKICogQGF1dGhvciBQaW5ha2kgUG9kZGFyCiAqLwpwdWJsaWMg\nY2xhc3MgTm9uUGVyc2lzdGVudE1ldGFEYXRhIAoJaW1wbGVtZW50cyBDb21w\nYXJhYmxlLCBTb3VyY2VUcmFja2VyLCBDb21tZW50YWJsZSwgTWV0YURhdGFD\nb250ZXh0LAogICAgICAgIFNlcmlhbGl6YWJsZSB7CiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIGludCBUWVBFX1BFUlNJU1RFTkNFX0FXQVJFID0gMTsKICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFRZUEVfTk9OX01BUFBFRF9JTlRF\nUkZBQ0UgPSAyOwoKICAgIHByaXZhdGUgZmluYWwgTWV0YURhdGFSZXBvc2l0\nb3J5IF9yZXBvczsKCXByaXZhdGUgZmluYWwgQ2xhc3MgX2NsYXNzOwogICAg\ncHJpdmF0ZSBmaW5hbCBpbnQgX3R5cGU7CgkKICAgIHByaXZhdGUgRmlsZSBf\nc3JjRmlsZSA9IG51bGw7CiAgICBwcml2YXRlIGludCBfbGluZU51bSA9IDA7\nICAKICAgIHByaXZhdGUgaW50IF9jb2xOdW0gPSAwOyAgCiAgICAKICAgIHBy\naXZhdGUgaW50IF9zcmNUeXBlID0gU1JDX09USEVSOwogICAgcHJpdmF0ZSBT\ndHJpbmdbXSBfY29tbWVudHMgPSBudWxsOwogICAgcHJpdmF0ZSBpbnQgX2xp\nc3RJbmRleCA9IC0xOwoJCglwcm90ZWN0ZWQgTm9uUGVyc2lzdGVudE1ldGFE\nYXRhKENsYXNzIGNscywgTWV0YURhdGFSZXBvc2l0b3J5IHJlcG9zLCAKICAg\nICAgICBpbnQgdHlwZSkgewoJCV9yZXBvcyA9IHJlcG9zOwoJCV9jbGFzcyA9\nIGNsczsKICAgICAgICBfdHlwZSA9IHR5cGU7Cgl9CgkKICAgIC8qKgogICAg\nICogT3duaW5nIHJlcG9zaXRvcnkuCiAgICAgKi8KCXB1YmxpYyBNZXRhRGF0\nYVJlcG9zaXRvcnkgZ2V0UmVwb3NpdG9yeSgpIHsKCQlyZXR1cm4gX3JlcG9z\nOwoJfQoJCiAgICAvKioKICAgICAqIFBlcnNpc3RlbmNlLWF3YXJlIHR5cGUu\nCiAgICAgKi8KCXB1YmxpYyBDbGFzcyBnZXREZXNjcmliZWRUeXBlKCkgewoJ\nCXJldHVybiBfY2xhc3M7Cgl9CgogICAgLyoqCiAgICAgKiBUaGUgdHlwZSBv\nZiBtZXRhZGF0YS4KICAgICAqLwogICAgcHVibGljIGludCBnZXRUeXBlKCkg\newogICAgICAgIHJldHVybiBfdHlwZTsKICAgIH0KCQogICAgLyoqCiAgICAg\nKiBUaGUgaW5kZXggaW4gd2hpY2ggdGhpcyBjbGFzcyB3YXMgbGlzdGVkIGlu\nIHRoZSBtZXRhZGF0YS4gRGVmYXVsdHMgdG8KICAgICAqIDxjb2RlPi0xPC9j\nb2RlPiBpZiB0aGlzIGNsYXNzIHdhcyBub3QgbGlzdGVkIGluIHRoZSBtZXRh\nZGF0YS4KICAgICAqLwogICAgcHVibGljIGludCBnZXRMaXN0aW5nSW5kZXgo\nKSB7CiAgICAgICAgcmV0dXJuIF9saXN0SW5kZXg7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBUaGUgaW5kZXggaW4gd2hpY2ggdGhpcyBmaWVsZCB3YXMgbGlz\ndGVkIGluIHRoZSBtZXRhZGF0YS4gRGVmYXVsdHMgdG8KICAgICAqIDxjb2Rl\nPi0xPC9jb2RlPiBpZiB0aGlzIGNsYXNzIHdhcyBub3QgbGlzdGVkIGluIHRo\nZSBtZXRhZGF0YS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0TGlzdGlu\nZ0luZGV4KGludCBpbmRleCkgewogICAgICAgIF9saXN0SW5kZXggPSBpbmRl\neDsKICAgIH0KCiAgICBwdWJsaWMgRmlsZSBnZXRTb3VyY2VGaWxlKCkgewog\nICAgICAgIHJldHVybiBfc3JjRmlsZTsKICAgIH0KCiAgICBwdWJsaWMgT2Jq\nZWN0IGdldFNvdXJjZVNjb3BlKCkgewogICAgICAgIHJldHVybiBudWxsOwog\nICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0U291cmNlVHlwZSgpIHsKICAgICAg\nICByZXR1cm4gX3NyY1R5cGU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nU291cmNlKEZpbGUgZmlsZSwgaW50IHNyY1R5cGUpIHsKICAgICAgICBfc3Jj\nRmlsZSA9IGZpbGU7CiAgICAgICAgX3NyY1R5cGUgPSBzcmNUeXBlOwogICAg\nfQoKICAgIHB1YmxpYyBpbnQgZ2V0TGluZU51bWJlcigpIHsKICAgICAgICBy\nZXR1cm4gX2xpbmVOdW07CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TGlu\nZU51bWJlcihpbnQgbGluZU51bSkgewogICAgICAgIF9saW5lTnVtID0gbGlu\nZU51bTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldENvbE51bWJlcigpIHsK\nICAgICAgICByZXR1cm4gX2NvbE51bTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRDb2xOdW1iZXIoaW50IGNvbE51bSkgewogICAgICAgIF9jb2xOdW0g\nPSBjb2xOdW07CiAgICB9CiAgICAKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVz\nb3VyY2VOYW1lKCkgewogICAgICAgIHJldHVybiBfY2xhc3MuZ2V0TmFtZSgp\nOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmdbXSBnZXRDb21tZW50cygpIHsK\nICAgICAgICByZXR1cm4gKF9jb21tZW50cyA9PSBudWxsKSA/IENsYXNzTWV0\nYURhdGEuRU1QVFlfQ09NTUVOVFMgOiBfY29tbWVudHM7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0Q29tbWVudHMoU3RyaW5nW10gY29tbWVudHMpIHsK\nICAgICAgICBfY29tbWVudHMgPSBjb21tZW50czsKICAgIH0KICAgIAogICAg\ncHVibGljIGludCBjb21wYXJlVG8oT2JqZWN0IG8pIHsKICAgICAgICBpZiAo\nbyA9PSB0aGlzKQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICBpZiAo\nIShvIGluc3RhbmNlb2YgTm9uUGVyc2lzdGVudE1ldGFEYXRhKSkKICAgICAg\nICAJcmV0dXJuIDE7CiAgICAgICAgTm9uUGVyc2lzdGVudE1ldGFEYXRhIG90\naGVyID0gKE5vblBlcnNpc3RlbnRNZXRhRGF0YSkgbzsKICAgICAgICBpZiAo\nX3R5cGUgIT0gb3RoZXIuZ2V0VHlwZSgpKQogICAgICAgICAgICByZXR1cm4g\nX3R5cGUgLSBvdGhlci5nZXRUeXBlKCk7CiAgICAgICAgcmV0dXJuIF9jbGFz\ncy5nZXROYW1lKCkuY29tcGFyZVRvKG90aGVyLmdldERlc2NyaWJlZFR5cGUo\nKS5nZXROYW1lKCkpOwogICAgfQp9Cg==\n","encoding":"base64"}

