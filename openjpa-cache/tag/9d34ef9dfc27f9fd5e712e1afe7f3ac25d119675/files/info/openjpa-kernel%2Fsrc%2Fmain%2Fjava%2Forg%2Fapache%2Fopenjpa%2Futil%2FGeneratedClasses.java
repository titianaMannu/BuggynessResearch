{"sha":"16168945faa8b8f594bb874de7ee8cccf0e09631","node_id":"MDQ6QmxvYjIwNjM2NDoxNjE2ODk0NWZhYThiOGY1OTRiYjg3NGRlN2VlOGNjY2YwZTA5NjMx","size":3102,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/16168945faa8b8f594bb874de7ee8cccf0e09631","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS51dGlsOwoKaW1wb3J0IGphdmEuc2Vj\ndXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEuc2VjdXJpdHku\nUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbjsKaW1wb3J0IGphdmEubGFuZy5y\nZWZsZWN0LkNvbnN0cnVjdG9yOwoKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIudXRpbC5KMkRvUHJpdkhlbHBlcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBzZXJwLmJ5dGVj\nb2RlLkJDQ2xhc3M7CmltcG9ydCBzZXJwLmJ5dGVjb2RlLkJDQ2xhc3NMb2Fk\nZXI7CgovKioKICogVXRpbGl0eSBtZXRob2RzIHdoZW4gZ2VuZXJhdGluZyBj\nbGFzc2VzLCBpbmNsdWRpbmcgYXQgcnVudGltZS4KICoKICogQHNpbmNlIDEu\nMC4wCiAqLwpwdWJsaWMgY2xhc3MgR2VuZXJhdGVkQ2xhc3NlcyB7CgogICAg\nLyoqCiAgICAgKiBSZXR1cm4gdGhlIG1vcmUgZGVyaXZlZCBsb2FkZXIgb2Yg\ndGhlIGNsYXNzIGxhb2RlcnMgZm9yIHRoZSBnaXZlbiAKICAgICAqIGNsYXNz\nZXMuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgQ2xhc3NMb2FkZXIgZ2V0\nTW9zdERlcml2ZWRMb2FkZXIoQ2xhc3MgYzEsIENsYXNzIGMyKSB7CiAgICAg\nICAgQ2xhc3NMb2FkZXIgbDEgPSAoQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRy\nb2xsZXIuZG9Qcml2aWxlZ2VkKAogICAgICAgICAgICBKMkRvUHJpdkhlbHBl\nci5nZXRDbGFzc0xvYWRlckFjdGlvbihjMSkpOwogICAgICAgIENsYXNzTG9h\nZGVyIGwyID0gKENsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJp\ndmlsZWdlZCgKICAgICAgICAgICAgSjJEb1ByaXZIZWxwZXIuZ2V0Q2xhc3NM\nb2FkZXJBY3Rpb24oYzIpKTsKICAgICAgICBpZiAobDEgPT0gbDIpCiAgICAg\nICAgICAgIHJldHVybiBsMTsKICAgICAgICBpZiAobDEgPT0gbnVsbCkKICAg\nICAgICAgICAgcmV0dXJuIGwyOwogICAgICAgIGlmIChsMiA9PSBudWxsKQog\nICAgICAgICAgICByZXR1cm4gbDE7CgogICAgICAgIGlmKGNhbkxvYWQobDEs\nIGMyKSkgewogICAgICAgICAgICByZXR1cm4gbDE7CiAgICAgICAgfQogICAg\nICAgIHJldHVybiBsMjsKICAgIH0KCiAgICAvKioKICAgICAqIExvYWQgdGhl\nIGNsYXNzIHJlcHJlc2VudGVkIGJ5IHRoZSBnaXZlbiBieXRlY29kZS4KICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBDbGFzcyBsb2FkQkNDbGFzcyhCQ0Ns\nYXNzIGJjLCBDbGFzc0xvYWRlciBsb2FkZXIpIHsKICAgICAgICBCQ0NsYXNz\nTG9hZGVyIGJjbG9hZGVyID0gKEJDQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRy\nb2xsZXIKICAgICAgICAgICAgICAgIC5kb1ByaXZpbGVnZWQoSjJEb1ByaXZI\nZWxwZXIubmV3QkNDbGFzc0xvYWRlckFjdGlvbihiYwogICAgICAgICAgICAg\nICAgICAgICAgICAuZ2V0UHJvamVjdCgpLCBsb2FkZXIpKTsKICAgICAgICB0\ncnkgewogICAgICAgICAgICBDbGFzcyBjID0gQ2xhc3MuZm9yTmFtZShiYy5n\nZXROYW1lKCksIHRydWUsIGJjbG9hZGVyKTsKICAgICAgICAgICAgYmMuZ2V0\nUHJvamVjdCgpLmNsZWFyKCk7CiAgICAgICAgICAgIHJldHVybiBjOwogICAg\nICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93\nIG5ldyBHZW5lcmFsRXhjZXB0aW9uKGJjLmdldE5hbWUoKSkuc2V0Q2F1c2Uo\ndCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAqIFJldHVy\nbiB0cnVlIGlmIHRoZSBnaXZlbiBsb2FkZXIgd2lsbCBsb2FkIHRoZSBzYW1l\nIHZlcnNpb24gb2YgYSBnaXZlbiAKICAgICAqIGNsYXNzLiAgCiAgICAgKiAK\nICAgICAqIEBwYXJhbSBsb2FkZXIgQ2xhc3Nsb2FkZXIgdG8gdXNlLgogICAg\nICogQHBhcmFtIGNsYXp6ICBFeHBlY3RlZCBjbGFzcy4gCiAgICAgKiBAcmV0\ndXJuIHRydWUgaWYgbG9hZGVyLmxvYWQoY2xhenouZ2V0TmFtZSgpKSA9PSBj\nbGF6ei4gT3RoZXJ3aXNlIGZhbHNlLgogICAgICovCiAgICBwcml2YXRlIHN0\nYXRpYyBib29sZWFuIGNhbkxvYWQoQ2xhc3NMb2FkZXIgbG9hZGVyLCBDbGFz\ncyBjbGF6eikgewogICAgICAgIENsYXNzIGxvYWRlZCA9IG51bGw7CiAgICAg\nICAgdHJ5IHsKICAgICAgICAgICAgbG9hZGVkID0gbG9hZGVyLmxvYWRDbGFz\ncyhjbGF6ei5nZXROYW1lKCkpOwogICAgICAgIH0gY2F0Y2ggKENsYXNzTm90\nRm91bmRFeGNlcHRpb24gZSkgewogICAgICAgICAgICAvLyBSZWx5IG9uIGNh\nbGxlciB0byBoYW5kbGUgcmV0dXJuIHZhbHVlID0gZmFsc2UuCiAgICAgICAg\nfQogICAgICAgIHJldHVybiBjbGF6eiA9PSBsb2FkZWQ7CiAgICB9Cn0K\n","encoding":"base64"}

