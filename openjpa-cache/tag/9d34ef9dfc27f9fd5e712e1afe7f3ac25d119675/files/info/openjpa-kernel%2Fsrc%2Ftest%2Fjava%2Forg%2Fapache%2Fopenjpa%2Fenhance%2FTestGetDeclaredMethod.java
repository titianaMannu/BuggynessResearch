{"sha":"ce0958229f1aec56780e61974d3e32f908c1d0dd","node_id":"MDQ6QmxvYjIwNjM2NDpjZTA5NTgyMjlmMWFlYzU2NzgwZTYxOTc0ZDNlMzJmOTA4YzFkMGRk","size":3107,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ce0958229f1aec56780e61974d3e32f908c1d0dd","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNlOwoKaW1wb3J0IGphdmEu\nbGFuZy5yZWZsZWN0Lk1ldGhvZDsKaW1wb3J0IGphdmEudXRpbC5MaXN0Owpp\nbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKCmltcG9ydCBqdW5pdC5mcmFt\nZXdvcmsuVGVzdENhc2U7CgovKioKICogVGVzdHMgdGhhdCB7QGxpbmsgUmVm\nbGVjdGlvbiNnZXREZWNsYXJlZE1ldGhvZChDbGFzcywgU3RyaW5nLCBDbGFz\ncyl9CiAqIHJldHVybnMgdGhlIG1vc3QtZGVyaXZlZCBjbGFzcydzIG1ldGhv\nZCB3aGVuIGNhbGxlZCBmcm9tIGEgdHlwZSBoaWVyYXJjaHkuCiAqIFNlZSBP\nUEVOSlBBLTI1MS4KICovCnB1YmxpYyBjbGFzcyBUZXN0R2V0RGVjbGFyZWRN\nZXRob2QgZXh0ZW5kcyBUZXN0Q2FzZSB7CgogICAgcHVibGljIHZvaWQgdGVz\ndEdldERlY2xhcmVkTWV0aG9kKCkgewogICAgICAgIE1ldGhvZCBtZXRoID0K\nICAgICAgICAgICAgUmVmbGVjdGlvbi5nZXREZWNsYXJlZE1ldGhvZChJbXBs\nLmNsYXNzLCAiZ2V0T2JqZWN0IiwgbnVsbCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKEltcGwuY2xhc3MsIG1ldGguZ2V0RGVjbGFyaW5nQ2xhc3MoKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKFN0cmluZy5jbGFzcywgbWV0aC5nZXRSZXR1\ncm5UeXBlKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RNb3N0RGVy\naXZlZCgpIHRocm93cyBOb1N1Y2hNZXRob2RFeGNlcHRpb24gewogICAgICAg\nIE1ldGhvZCBpbXBsID0gSW1wbC5jbGFzcy5nZXREZWNsYXJlZE1ldGhvZCgi\nZ2V0T2JqZWN0IiwgbnVsbCk7CiAgICAgICAgTWV0aG9kIGlmYWNlID0gSWZh\nY2UuY2xhc3MuZ2V0RGVjbGFyZWRNZXRob2QoImdldE9iamVjdCIsIG51bGwp\nOwogICAgICAgIE1ldGhvZCBvdGhlciA9IE90aGVyLmNsYXNzLmdldERlY2xh\ncmVkTWV0aG9kKCJnZXRPYmplY3QiLCBudWxsKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoSW1wbC5jbGFzcywgUmVmbGVjdGlvbi5tb3N0RGVyaXZlZChpbXBs\nLCBpZmFjZSkKICAgICAgICAgICAgLmdldERlY2xhcmluZ0NsYXNzKCkpOwog\nICAgICAgIGFzc2VydEVxdWFscyhJbXBsLmNsYXNzLCBSZWZsZWN0aW9uLm1v\nc3REZXJpdmVkKGlmYWNlLCBpbXBsKQogICAgICAgICAgICAuZ2V0RGVjbGFy\naW5nQ2xhc3MoKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgUmVmbGVj\ndGlvbi5tb3N0RGVyaXZlZChpZmFjZSwgb3RoZXIpOwogICAgICAgICAgICBm\nYWlsKCInaWZhY2UnIGFuZCAnb3RoZXInIGFyZSBub3QgZnJvbSByZWxhdGVk\nIHR5cGVzIik7CiAgICAgICAgfSBjYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhj\nZXB0aW9uIGUpIHsKICAgICAgICAgICAgLy8gZXhwZWN0ZWQKICAgICAgICB9\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEdlbmVyaWNzKCkgdGhyb3dz\nIE5vU3VjaE1ldGhvZEV4Y2VwdGlvbiB7CiAgICAgICAgTGlzdDxNZXRob2Q+\nIG1ldGhzID0gbmV3IEFycmF5TGlzdDxNZXRob2Q+KCk7CiAgICAgICAgZm9y\nIChNZXRob2QgbWV0aCA6IEdlbmVyaWNzSW1wbC5jbGFzcy5nZXREZWNsYXJl\nZE1ldGhvZHMoKSkgewogICAgICAgICAgICBpZiAoImdldE9iamVjdCIuZXF1\nYWxzKG1ldGguZ2V0TmFtZSgpKSkKICAgICAgICAgICAgICAgIG1ldGhzLmFk\nZChtZXRoKTsKICAgICAgICB9CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIG1l\ndGhzLnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKFN0cmluZy5jbGFz\ncywgUmVmbGVjdGlvbi5tb3N0RGVyaXZlZChtZXRocy5nZXQoMCksCiAgICAg\nICAgICAgIG1ldGhzLmdldCgxKSkuZ2V0UmV0dXJuVHlwZSgpKTsKICAgIH0K\nICAgIAogICAgaW50ZXJmYWNlIElmYWNlIHsKICAgICAgICBPYmplY3QgZ2V0\nT2JqZWN0KCk7CiAgICB9CgogICAgc3RhdGljIGNsYXNzIEltcGwgaW1wbGVt\nZW50cyBJZmFjZSB7CiAgICAgICAgcHVibGljIFN0cmluZyBnZXRPYmplY3Qo\nKSB7CiAgICAgICAgICAgIHJldHVybiAic3RyaW5nIjsKICAgICAgICB9CiAg\nICB9CgogICAgc3RhdGljIGNsYXNzIE90aGVyIHsKICAgICAgICBwdWJsaWMg\nU3RyaW5nIGdldE9iamVjdCgpIHsKICAgICAgICAgICAgcmV0dXJuICJvdGhl\nciI7CiAgICAgICAgfQogICAgfQoKICAgIGludGVyZmFjZSBHZW5lcmljc0lm\nYWNlPFQ+IHsKICAgICAgICBwdWJsaWMgVCBnZXRPYmplY3QoKTsKICAgIH0K\nCiAgICBzdGF0aWMgY2xhc3MgR2VuZXJpY3NJbXBsIGltcGxlbWVudHMgR2Vu\nZXJpY3NJZmFjZSB7CiAgICAgICAgcHVibGljIFN0cmluZyBnZXRPYmplY3Qo\nKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgIH0K\nfQo=\n","encoding":"base64"}

