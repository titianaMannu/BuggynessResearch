{"sha":"e40e160910ef01d40326a0b10f353465a76c7eb5","node_id":"MDQ6QmxvYjIwNjM2NDplNDBlMTYwOTEwZWYwMWQ0MDMyNmEwYjEwZjM1MzQ2NWE3NmM3ZWI1","size":4542,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e40e160910ef01d40326a0b10f353465a76c7eb5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuZ3JhcGg7CgppbXBvcnQgamF2\nYS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsK\naW1wb3J0IGphdmEudXRpbC5IYXNoU2V0OwppbXBvcnQgamF2YS51dGlsLkl0\nZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxpbmtlZExpc3Q7CmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBq\nYXZhLnV0aWwuU2V0OwoKLyoqCiAqIDxwPlBlcmZvcm1zIGEgYnJlYWR0aC1m\naXJzdCB3YWxrIG9mIGEgZ2l2ZW4ge0BsaW5rIEdyYXBofSwKICogbm90aWZ5\naW5nIHZpc2l0b3JzIGFzIGl0IHNlZXMgZWFjaCBub2RlLiAgU2VlIHRoZSBC\nRlMgYWxnb3JpdGhtCiAqIGluIHRoZSBib29rICdJbnRyb2R1Y3Rpb24gdG8g\nQWxnb3JpdGhtcycgYnkgQ29ybWVuLCBMZWlzZXJzb24sIGFuZAogKiBSaXZl\nc3QuPC9wPgogKiA8cC8+CiAqIDxwPkVhY2gge0BsaW5rIEdyYXBoVmlzaXRv\ncn0gd2lsbCBiZSBub3RpZmllZCB3aGVuIGEgbm9kZQogKiBpcyBjb2xvcmVk\nIGJsYWNrIChub2RlVmlzaXRlZCksIGVkZ2Ugc2VlbiAoZWRnZVZpc2l0ZWQp\nLAogKiBhbmQgYSBub2RlIGlzIHNlZW4gZm9yIHRoZSBmaXJzdCB0aW1lLCBp\nLmUuIGNvbG9yZWQgZ3JheSAobm9kZVNlZW4pLjwvcD4KICoKICogQGF1dGhv\nciBTdGV2ZSBLaW0KICogQHNpbmNlIDEuMC4wCiAqIEBub2phdmFkb2MKICov\nCnB1YmxpYyBjbGFzcyBCcmVhZHRoRmlyc3RXYWxrIHsKCiAgICBwcml2YXRl\nIGZpbmFsIEdyYXBoIF9ncmFwaDsKICAgIHByaXZhdGUgZmluYWwgU2V0IF92\naXNpdG9ycyA9IG5ldyBIYXNoU2V0KCk7CiAgICBwcml2YXRlIGZpbmFsIExp\nc3QgX3F1ZXVlID0gbmV3IExpbmtlZExpc3QoKTsKICAgIHByaXZhdGUgZmlu\nYWwgTWFwIF9ub2RlSW5mbyA9IG5ldyBIYXNoTWFwKCk7CgogICAgcHVibGlj\nIEJyZWFkdGhGaXJzdFdhbGsoR3JhcGggZ3JhcGgpIHsKICAgICAgICBfZ3Jh\ncGggPSBncmFwaDsKICAgIH0KCiAgICAvKioKICAgICAqIEJlZ2lucyB0aGUg\nYnJlYWR0aCBmaXJzdCB0cmF2ZXJzYWwuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHdhbGsoKSB7CiAgICAgICAgX3F1ZXVlLmNsZWFyKCk7CiAgICAgICAg\nX25vZGVJbmZvLmNsZWFyKCk7CgogICAgICAgIENvbGxlY3Rpb24gbm9kZXMg\nPSBfZ3JhcGguZ2V0Tm9kZXMoKTsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0\nciA9IG5vZGVzLml0ZXJhdG9yKCk7IGl0ci5oYXNOZXh0KCk7KQogICAgICAg\nICAgICBfbm9kZUluZm8ucHV0KGl0ci5uZXh0KCksIG5ldyBOb2RlSW5mbygp\nKTsKCiAgICAgICAgT2JqZWN0IG5vZGU7CiAgICAgICAgTm9kZUluZm8gaW5m\nbzsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0ciA9IG5vZGVzLml0ZXJhdG9y\nKCk7IGl0ci5oYXNOZXh0KCk7KSB7CiAgICAgICAgICAgIG5vZGUgPSBpdHIu\nbmV4dCgpOwogICAgICAgICAgICBpbmZvID0gKE5vZGVJbmZvKSBfbm9kZUlu\nZm8uZ2V0KG5vZGUpOwogICAgICAgICAgICBpZiAoaW5mby5jb2xvciA9PSBO\nb2RlSW5mby5DT0xPUl9XSElURSkKICAgICAgICAgICAgICAgIGVucXVldWUo\nbm9kZSwgaW5mbyk7CiAgICAgICAgICAgIHByb2Nlc3NRdWV1ZSgpOwogICAg\nICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFByb2Nlc3MgdGhlIHF1ZXVl\nIHRvIHNlZSB3aGF0IGRhdGEgbmVlZHMgdG8gYmUgb2J0YWluZWQuCiAgICAg\nKi8KICAgIHByaXZhdGUgdm9pZCBwcm9jZXNzUXVldWUoKSB7CiAgICAgICAg\nT2JqZWN0IG5vZGU7CiAgICAgICAgT2JqZWN0IG90aGVyOwogICAgICAgIE5v\nZGVJbmZvIGluZm87CiAgICAgICAgTm9kZUluZm8gb3RoZXJJbmZvOwogICAg\nICAgIENvbGxlY3Rpb24gZWRnZXM7CiAgICAgICAgRWRnZSBlZGdlOwogICAg\nICAgIHdoaWxlIChfcXVldWUuc2l6ZSgpID4gMCkgewogICAgICAgICAgICBu\nb2RlID0gX3F1ZXVlLnJlbW92ZSgwKTsKICAgICAgICAgICAgaW5mbyA9IChO\nb2RlSW5mbykgX25vZGVJbmZvLmdldChub2RlKTsKICAgICAgICAgICAgdmlz\naXQobm9kZSwgaW5mbyk7CgogICAgICAgICAgICBlZGdlcyA9IF9ncmFwaC5n\nZXRFZGdlc0Zyb20obm9kZSk7CiAgICAgICAgICAgIGZvciAoSXRlcmF0b3Ig\naXRyID0gZWRnZXMuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspIHsKICAg\nICAgICAgICAgICAgIGVkZ2UgPSAoRWRnZSkgaXRyLm5leHQoKTsKICAgICAg\nICAgICAgICAgIGVkZ2VWaXNpdGVkKGVkZ2UpOwogICAgICAgICAgICAgICAg\nb3RoZXIgPSBlZGdlLmdldE90aGVyKG5vZGUpOwogICAgICAgICAgICAgICAg\nb3RoZXJJbmZvID0gKE5vZGVJbmZvKSBfbm9kZUluZm8uZ2V0KG90aGVyKTsK\nICAgICAgICAgICAgICAgIGlmIChvdGhlckluZm8uY29sb3IgPT0gTm9kZUlu\nZm8uQ09MT1JfV0hJVEUpCiAgICAgICAgICAgICAgICAgICAgZW5xdWV1ZShv\ndGhlciwgb3RoZXJJbmZvKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAg\nIH0KCiAgICAvKioKICAgICAqIFB1c2ggdGhlIGdpdmVuIG5vZGUgb250byB0\naGUgcXVldWUgdG8gYmUgcHJvY2Vzc2VkLgogICAgICogTm90aWZ5IHZpc2l0\nb3JzLgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9pZCBlbnF1ZXVlKE9iamVj\ndCBub2RlLCBOb2RlSW5mbyBpbmZvKSB7CiAgICAgICAgX3F1ZXVlLmFkZChu\nb2RlKTsKICAgICAgICBpbmZvLmNvbG9yID0gTm9kZUluZm8uQ09MT1JfR1JB\nWTsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGkgPSBfdmlzaXRvcnMuaXRlcmF0\nb3IoKTsgaS5oYXNOZXh0KCk7KQogICAgICAgICAgICAoKEdyYXBoVmlzaXRv\ncikgaS5uZXh0KCkpLm5vZGVTZWVuKG5vZGUpOwogICAgfQoKICAgIC8qKgog\nICAgICogVmlzaXQgdGhlIG5vZGUuICBNYXJrIHRoZSBub2RlIGJsYWNrIGFu\nZCBub3RpZnkgdmlzaXRvcnMuCiAgICAgKi8KICAgIHByb3RlY3RlZCB2b2lk\nIHZpc2l0KE9iamVjdCBub2RlLCBOb2RlSW5mbyBpbmZvKSB7CiAgICAgICAg\naW5mby5jb2xvciA9IE5vZGVJbmZvLkNPTE9SX0JMQUNLOwogICAgICAgIGZv\nciAoSXRlcmF0b3IgaSA9IF92aXNpdG9ycy5pdGVyYXRvcigpOyBpLmhhc05l\neHQoKTspCiAgICAgICAgICAgICgoR3JhcGhWaXNpdG9yKSBpLm5leHQoKSku\nbm9kZVZpc2l0ZWQobm9kZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBbiBl\nZGdlIGlzIHNlZW4uICBOb3RpZnkgdmlzaXRvcnMuCiAgICAgKi8KICAgIHBy\nb3RlY3RlZCB2b2lkIGVkZ2VWaXNpdGVkKEVkZ2UgZWRnZSkgewogICAgICAg\nIGZvciAoSXRlcmF0b3IgaSA9IF92aXNpdG9ycy5pdGVyYXRvcigpOyBpLmhh\nc05leHQoKTspCiAgICAgICAgICAgICgoR3JhcGhWaXNpdG9yKSBpLm5leHQo\nKSkuZWRnZVZpc2l0ZWQoZWRnZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBh\nZGQgYSB7QGxpbmsgR3JhcGhWaXNpdG9yfSB0byBiZSBub3RpZmllZCBkdXJp\nbmcgYnJlYWR0aCBmaXJzdCBzZWFyY2guCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIGFkZEdyYXBoVmlzaXRvcihHcmFwaFZpc2l0b3IgdmlzaXRvcikgewog\nICAgICAgIF92aXNpdG9ycy5hZGQodmlzaXRvcik7CiAgICB9CgogICAgLyoq\nCiAgICAgKiByZW1vdmUgYSBnaXZlbiB7QGxpbmsgR3JhcGhWaXNpdG9yfSBm\ncm9tIHRoZSBsaXN0ZW5lciBzZXQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lk\nIHJlbW92ZUdyYXBoVmlzaXRvcihHcmFwaFZpc2l0b3IgdmlzaXRvcikgewog\nICAgICAgIF92aXNpdG9ycy5yZW1vdmUodmlzaXRvcik7CiAgICB9Cn0K\n","encoding":"base64"}

