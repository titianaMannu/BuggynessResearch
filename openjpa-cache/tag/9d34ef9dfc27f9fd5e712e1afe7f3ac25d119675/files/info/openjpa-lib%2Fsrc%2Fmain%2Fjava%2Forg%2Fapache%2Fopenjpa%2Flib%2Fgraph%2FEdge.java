{"sha":"aa57109b62f5fcfde616c78983d9928b955271b3","node_id":"MDQ6QmxvYjIwNjM2NDphYTU3MTA5YjYyZjVmY2ZkZTYxNmM3ODk4M2Q5OTI4Yjk1NTI3MWIz","size":5744,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/aa57109b62f5fcfde616c78983d9928b955271b3","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuZ3JhcGg7CgppbXBvcnQgamF2\nYS51dGlsLkxpc3Q7CgovKioKICogPHA+QSBncmFwaCBlZGdlLiAgSW5jbHVk\nZXMgdGhlIGZyb20gYW5kIHRvIG5vZGVzLCBhbiBhcmJpdHJhcnkgdXNlciBv\nYmplY3QsCiAqIGFuZCBhIHdlaWdodC4gIEVkZ2VzIGNhbiBiZSBlaXRoZXIg\nZGlyZWN0ZWQgb3IgdW5kaXJlY3RlZC48L3A+CiAqCiAqIEBhdXRob3IgQWJl\nIFdoaXRlCiAqIEBzaW5jZSAxLjAuMAogKiBAbm9qYXZhZG9jCiAqLwpwdWJs\naWMgY2xhc3MgRWRnZSB7CgogICAgLyoqCiAgICAgKiBBbiBlZGdlICh1LCB2\nKSBpcyBhIHRyZWUgZWRnZSBpZiBub2RlIHYgd2FzIGZpcnN0IGRpc2NvdmVy\nZWQgYnkKICAgICAqIHRyYXZlcnNpbmcgdGhlIGVkZ2UuCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFRZUEVfVFJFRSA9IDE7CgogICAg\nLyoqCiAgICAgKiBBbiBlZGdlICh1LCB2KSBpcyBhIGJhY2sgZWRnZSBpZiBp\ndCBjcmVhdGVzIGEgY3ljbGUgYmFjayB0byBhbgogICAgICogYW5jZXN0b3Ig\naW4gdGhlIGdyYXBoLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIGludCBUWVBFX0JBQ0sgPSAyOwoKICAgIC8qKgogICAgICogQW4gZWRnZSAo\ndSwgdikgaXMgYSBmb3J3YXJkIGVkZ2UgaWYgaXQgaXMgbm90IGEgdHJlZSBv\nciBiYWNrIGVkZ2UuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwg\naW50IFRZUEVfRk9SV0FSRCA9IDM7CgogICAgcHJpdmF0ZSBmaW5hbCBPYmpl\nY3QgX2Zyb207CiAgICBwcml2YXRlIGZpbmFsIE9iamVjdCBfdG87CiAgICBw\ncml2YXRlIGZpbmFsIGJvb2xlYW4gX2RpcmVjdGVkOwoKICAgIHByaXZhdGUg\naW50IF90eXBlID0gMDsKICAgIHByaXZhdGUgZG91YmxlIF93ZWlnaHQgPSAw\nOwogICAgcHJpdmF0ZSBPYmplY3QgX3VzZXJPYmogPSBudWxsOwogICAgcHJp\ndmF0ZSBMaXN0IF9jeWNsZSA9IG51bGw7CiAgICBwcml2YXRlIGJvb2xlYW4g\nX3JlbW92ZWRGcm9tR3JhcGggPSBmYWxzZTsKCiAgICAvKioKICAgICAqIENv\nbnN0cnVjdG9yLgogICAgICoKICAgICAqIEBwYXJhbSAgICBmcm9tICAgICAg\nICB0aGUgbm9kZSB0aGUgZWRnZSBjb21lcyBmcm9tCiAgICAgKiBAcGFyYW0g\nICAgdG8gICAgICAgICAgICB0aGUgbm9kZSB0aGUgZWRnZSBnb2VzIHRvCiAg\nICAgKiBAcGFyYW0gICAgZGlyZWN0ZWQgICAgd2hldGhlciB0aGUgZWRnZSBp\ncyBkaXJlY3RlZAogICAgICovCiAgICBwdWJsaWMgRWRnZShPYmplY3QgZnJv\nbSwgT2JqZWN0IHRvLCBib29sZWFuIGRpcmVjdGVkKSB7CiAgICAgICAgaWYg\nKGZyb20gPT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cgbmV3IE51bGxQb2lu\ndGVyRXhjZXB0aW9uKCJmcm9tID09IG51bGwiKTsKICAgICAgICBpZiAodG8g\nPT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cgbmV3IE51bGxQb2ludGVyRXhj\nZXB0aW9uKCJ0byA9PSBudWxsIik7CiAgICAgICAgX2Zyb20gPSBmcm9tOwog\nICAgICAgIF90byA9IHRvOwogICAgICAgIF9kaXJlY3RlZCA9IGRpcmVjdGVk\nOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuCiAgICAgKgog\nICAgICogQHBhcmFtICAgIGZyb20gICAgICAgIHRoZSBub2RlIHRoZSBlZGdl\nIGNvbWVzIGZyb20KICAgICAqIEBwYXJhbSAgICB0byAgICAgICAgICAgIHRo\nZSBub2RlIHRoZSBlZGdlIGdvZXMgdG8KICAgICAqIEBwYXJhbSAgICBkaXJl\nY3RlZCAgICB3aGV0aGVyIHRoZSBlZGdlIGlzIGRpcmVjdGVkCiAgICAgKiBA\ncGFyYW0gICAgdXNlck9iamVjdCAgICBhbiBhc3NvY2lhdGVkIG9iamVjdAog\nICAgICovCiAgICBwdWJsaWMgRWRnZShPYmplY3QgZnJvbSwgT2JqZWN0IHRv\nLCBib29sZWFuIGRpcmVjdGVkLCBPYmplY3QgdXNlck9iamVjdCkgewogICAg\nICAgIHRoaXMoZnJvbSwgdG8sIGRpcmVjdGVkKTsKICAgICAgICBfdXNlck9i\naiA9IHVzZXJPYmplY3Q7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4g\ndGhlIG5vZGUgdGhlIGVkZ2UgbGlua3MgZnJvbS4KICAgICAqLwogICAgcHVi\nbGljIE9iamVjdCBnZXRGcm9tKCkgewogICAgICAgIHJldHVybiBfZnJvbTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgbm9kZSB0aGUgZWRn\nZSBsaW5rcyB0by4KICAgICAqLwogICAgcHVibGljIE9iamVjdCBnZXRUbygp\nIHsKICAgICAgICByZXR1cm4gX3RvOwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIHRoZSBub2RlIG9uIHRoZSBvcHBvc2l0ZSBlbmQgb2YgdGhlIGdp\ndmVuIG9uZSwgb3IgbnVsbCBpZiB0aGUKICAgICAqIGdpdmVuIG5vZGUgaXMg\nbm90IHBhcnQgb2YgdGhpcyBlZGdlLgogICAgICovCiAgICBwdWJsaWMgT2Jq\nZWN0IGdldE90aGVyKE9iamVjdCBub2RlKSB7CiAgICAgICAgaWYgKF90by5l\ncXVhbHMobm9kZSkpCiAgICAgICAgICAgIHJldHVybiBfZnJvbTsKICAgICAg\nICBpZiAoX2Zyb20uZXF1YWxzKG5vZGUpKQogICAgICAgICAgICByZXR1cm4g\nX3RvOwogICAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRydWUgaWYgdGhpcyBlZGdlIGxpbmtzIHRvIHRoZSBnaXZl\nbiBub2RlLiAgRm9yIHVuZGlyZWN0ZWQgZWRnZXMsCiAgICAgKiB0aGlzIG1l\ndGhvZCByZXR1cm5zIHRydWUgaWYgZWl0aGVyIHNpZGUgaXMgZXF1YWwgdG8g\ndGhlIGdpdmVuIG5vZGUuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlz\nVG8oT2JqZWN0IG5vZGUpIHsKICAgICAgICByZXR1cm4gX3RvLmVxdWFscyhu\nb2RlKSB8fCAoIV9kaXJlY3RlZCAmJiBfZnJvbS5lcXVhbHMobm9kZSkpOwog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRydWUgaWYgdGhpcyBlZGdl\nIGxpbmtzIGZyb20gdGhlIGdpdmVuIG5vZGUuICBGb3IgdW5kaXJlY3RlZAog\nICAgICogZWRnZXMsIHRoaXMgbWV0aG9kIHJldHVybnMgdHJ1ZSBpZiBlaXRo\nZXIgc2lkZSBpcyBlcXVhbCB0byB0aGUgZ2l2ZW4KICAgICAqIG5vZGUuCiAg\nICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzRnJvbShPYmplY3Qgbm9kZSkg\newogICAgICAgIHJldHVybiBfZnJvbS5lcXVhbHMobm9kZSkgfHwgKCFfZGly\nZWN0ZWQgJiYgX3RvLmVxdWFscyhub2RlKSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBSZXR1cm4gd2hldGhlciB0aGUgZWRnZSBpcyBkaXJlY3RlZC4KICAg\nICAqLwogICAgcHVibGljIGJvb2xlYW4gaXNEaXJlY3RlZCgpIHsKICAgICAg\nICByZXR1cm4gX2RpcmVjdGVkOwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIHRoZSB3ZWlnaHQgb2YgdGhlIGVkZ2UuCiAgICAgKi8KICAgIHB1Ymxp\nYyBkb3VibGUgZ2V0V2VpZ2h0KCkgewogICAgICAgIHJldHVybiBfd2VpZ2h0\nOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSB3ZWlnaHQgb2YgdGhl\nIGVkZ2UuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFdlaWdodChkb3Vi\nbGUgd2VpZ2h0KSB7CiAgICAgICAgX3dlaWdodCA9IHdlaWdodDsKICAgIH0K\nCiAgICAvKioKICAgICAqIEFyYml0cmFyeSB1c2VyIG9iamVjdCBhc3NvY2lh\ndGVkIHdpdGggdGhlIGVkZ2UuCiAgICAgKi8KICAgIHB1YmxpYyBPYmplY3Qg\nZ2V0VXNlck9iamVjdCgpIHsKICAgICAgICByZXR1cm4gX3VzZXJPYmo7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBBcmJpdHJhcnkgdXNlciBvYmplY3QgYXNz\nb2NpYXRlZCB3aXRoIHRoZSBlZGdlLgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXRVc2VyT2JqZWN0KE9iamVjdCBvYmopIHsKICAgICAgICBfdXNlck9i\naiA9IG9iajsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYXZlcnNhbCBib29r\na2VlcGluZyBpbmZvLgogICAgICovCiAgICBwdWJsaWMgaW50IGdldFR5cGUo\nKSB7CiAgICAgICAgcmV0dXJuIF90eXBlOwogICAgfQoKICAgIC8qKgogICAg\nICogVHJhdmVyc2FsIGJvb2trZWVwaW5nIGluZm8uCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIHNldFR5cGUoaW50IHR5cGUpIHsKICAgICAgICBfdHlwZSA9\nIHR5cGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBMaXN0IG9mIGVkZ2VzIGZv\ncm1pbmcgYSBjeWNsZS4gT25seSBzZXQgZm9yIFRZUEVfQkFDSyBhbmQgVFlQ\nRV9GT1JXQVJEIGVkZ2VzLgogICAgICovCiAgICBwdWJsaWMgTGlzdCBnZXRD\neWNsZSgpIHsKICAgICAgICByZXR1cm4gX2N5Y2xlOwogICAgfQogICAgCiAg\nICAvKioKICAgICAqIExpc3Qgb2YgZWRnZXMgZm9ybWluZyBhIGN5Y2xlLiBP\nbmx5IHNldCBmb3IgVFlQRV9CQUNLIGFuZCBUWVBFX0ZPUldBUkQgZWRnZXMu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEN5Y2xlKExpc3QgY3ljbGUp\nIHsKICAgICAgICBfY3ljbGUgPSBjeWNsZTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybnMgaWYgdGhpcyBlZGdlIGlzIChzdGlsbCkgcGFydCBvZiB0\naGUgZ3JhcGguCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzUmVtb3Zl\nZEZyb21HcmFwaCgpIHsKICAgICAgICByZXR1cm4gX3JlbW92ZWRGcm9tR3Jh\ncGg7CiAgICB9CgogICAgLyoqCiAgICAgKiBNYXJrIHRoaXMgZWRnZSBhcyBy\nZW1vdmVkIGZyb20gdGhlIGdyYXBoLgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCBzZXRSZW1vdmVkRnJvbUdyYXBoKCkgewogICAgICAgIHRoaXMuX3JlbW92\nZWRGcm9tR3JhcGggPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQ2xl\nYXIgdHJhdmVyc2FsIGluZm8uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIGNs\nZWFyVHJhdmVyc2FsKCkgewogICAgICAgIF90eXBlID0gMDsKICAgICAgICBf\nY3ljbGUgPSBudWxsOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJp\nbmcoKSB7CiAgICAgICAgcmV0dXJuIHN1cGVyLnRvU3RyaW5nKCkgKyAiW2Zy\nb209IiArIGdldEZyb20oKSArICI7dG89IiArIGdldFRvKCkKICAgICAgICAg\nICAgKyAiO2RpcmVjdGVkPSIgKyBpc0RpcmVjdGVkICgpICsgIjt3ZWlnaHQ9\nIiArIGdldFdlaWdodCAoKSArICJdIjsKCX0KfQo=\n","encoding":"base64"}

