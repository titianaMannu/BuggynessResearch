{"sha":"7c05693c780b214a0efb09f474eed944ca92ffde","node_id":"MDQ6QmxvYjIwNjM2NDo3YzA1NjkzYzc4MGIyMTRhMGVmYjA5ZjQ3NGVlZDk0NGNhOTJmZmRl","size":5619,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7c05693c780b214a0efb09f474eed944ca92ffde","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmxvZzsKCmltcG9ydCBq\nYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkFycmF5czsK\naW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5M\naXN0OwoKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNvcHlPbldyaXRl\nQXJyYXlMaXN0OwoKLyoqCiAqIEEgTG9nRmFjdG9yeSBpbXBsZW1lbnRhdGlv\nbiB0byBwYXNzIGV2ZW50cyB0aHJvdWdoIG11bHRpcGxlCiAqIExvZ0ZhY3Rv\ncnkgaW1wbGVtZW50YXRpb25zKHN1Y2ggYXMgbG9nNGogYW5kIExvZ1BhbmVs\nRmFjdG9yeSkuCiAqCiAqIEBhdXRob3IgU3RldmUgS2ltCiAqLwpwdWJsaWMg\nY2xhc3MgTXVsdGlMb2dGYWN0b3J5IGltcGxlbWVudHMgTG9nRmFjdG9yeSB7\nCgogICAgcHJpdmF0ZSBMaXN0IF9kZWxlZ2F0ZXM7CgogICAgLyoqCiAgICAg\nKiBDcmVhdGUgYW4gaW5zdGFuY2Ugd2l0aCB0aGUgZ2l2ZW4gZGVsZWdhdGVz\nLgogICAgICovCiAgICBwdWJsaWMgTXVsdGlMb2dGYWN0b3J5KExvZ0ZhY3Rv\ncnkgZDEsIExvZ0ZhY3RvcnkgZDIpIHsKICAgICAgICB0aGlzKG5ldyBMb2dG\nYWN0b3J5W117IGQxLCBkMiB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIENy\nZWF0ZSBhbiBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBkZWxlZ2F0ZXMuCiAg\nICAgKi8KICAgIHB1YmxpYyBNdWx0aUxvZ0ZhY3RvcnkoTG9nRmFjdG9yeSBk\nMSwgTG9nRmFjdG9yeSBkMiwgTG9nRmFjdG9yeSBkMykgewogICAgICAgIHRo\naXMobmV3IExvZ0ZhY3RvcnlbXXsgZDEsIGQyLCBkMyB9KTsKICAgIH0KCiAg\nICAvKioKICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSB3aXRoIHRoZSBnaXZl\nbiBkZWxlZ2F0ZXMuCiAgICAgKi8KICAgIHB1YmxpYyBNdWx0aUxvZ0ZhY3Rv\ncnkoTG9nRmFjdG9yeVtdIGRlbGVnYXRlcykgewogICAgICAgIF9kZWxlZ2F0\nZXMgPSBuZXcgQ29weU9uV3JpdGVBcnJheUxpc3QoQXJyYXlzLmFzTGlzdChk\nZWxlZ2F0ZXMpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhZGRMb2dGYWN0\nb3J5KExvZ0ZhY3RvcnkgZmFjdG9yeSkgewogICAgICAgIF9kZWxlZ2F0ZXMu\nYWRkKGZhY3RvcnkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlbW92ZUxv\nZ0ZhY3RvcnkoTG9nRmFjdG9yeSBmYWN0b3J5KSB7CiAgICAgICAgX2RlbGVn\nYXRlcy5yZW1vdmUoZmFjdG9yeSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm5zIHRoZSBkZWxlZ2F0ZXMgdGhhdCB0aGlzIE11bHRpTG9nRmFjdG9y\neSBkZWxlZ2F0ZXMgbWVzc2FnZXMgdG8uCiAgICAgKi8KICAgIHB1YmxpYyBM\nb2dGYWN0b3J5W10gZ2V0RGVsZWdhdGVzKCkgewogICAgICAgIHJldHVybiAo\nTG9nRmFjdG9yeVtdKSBfZGVsZWdhdGVzLnRvQXJyYXkobmV3IExvZ0ZhY3Rv\ncnlbMF0pOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyBhIExvZyBp\nbXBsIHRoYXQgY29tYmluZXMgYWxsIGxvZ3MuCiAgICAgKi8KICAgIHB1Ymxp\nYyBzeW5jaHJvbml6ZWQgTG9nIGdldExvZyhTdHJpbmcgY2hhbm5lbCkgewog\nICAgICAgIExpc3QgbG9ncyA9IG5ldyBBcnJheUxpc3QoX2RlbGVnYXRlcy5z\naXplKCkpOwogICAgICAgIGZvciAoSXRlcmF0b3IgaSA9IF9kZWxlZ2F0ZXMu\naXRlcmF0b3IoKTsgaS5oYXNOZXh0KCk7KSB7CiAgICAgICAgICAgIExvZ0Zh\nY3RvcnkgZiA9IChMb2dGYWN0b3J5KSBpLm5leHQoKTsKICAgICAgICAgICAg\naWYgKGYgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgTG9nIGwgPSBmLmdl\ndExvZyhjaGFubmVsKTsKICAgICAgICAgICAgICAgIGlmIChsICE9IG51bGwp\nCiAgICAgICAgICAgICAgICAgICAgbG9ncy5hZGQobCk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBNdWx0aUxvZygoTG9n\nW10pIGxvZ3MudG9BcnJheShuZXcgTG9nW2xvZ3Muc2l6ZSgpXSkpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ29tYmluYXRvcnkgTG9nIGltcGwuCiAgICAg\nKi8KICAgIHByaXZhdGUgc3RhdGljIGNsYXNzIE11bHRpTG9nIGltcGxlbWVu\ndHMgTG9nIHsKCiAgICAgICAgcHJpdmF0ZSBMb2dbXSBfbG9nczsKCiAgICAg\nICAgcHVibGljIE11bHRpTG9nKExvZ1tdIGxvZ3MpIHsKICAgICAgICAgICAg\nX2xvZ3MgPSBsb2dzOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAg\nICogUmV0dXJuIHRoZSBsb2dzIHRoYXQgdGhpcyBsb2cgZGVsZWdhdGVzIHRv\nLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBMb2dbXSBnZXREZWxlZ2F0\nZXMoKSB7CiAgICAgICAgICAgIHJldHVybiBfbG9nczsKICAgICAgICB9Cgog\nICAgICAgIHB1YmxpYyB2b2lkIHRyYWNlKE9iamVjdCBtc2cpIHsKICAgICAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbG9ncy5sZW5ndGg7IGkrKykK\nICAgICAgICAgICAgICAgIF9sb2dzW2ldLnRyYWNlKG1zZyk7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgdm9pZCB0cmFjZShPYmplY3QgbXNnLCBUaHJv\nd2FibGUgdCkgewogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9s\nb2dzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgX2xvZ3NbaV0udHJh\nY2UobXNnLCB0KTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGlu\nZm8oT2JqZWN0IG1zZykgewogICAgICAgICAgICBmb3IgKGludCBpID0gMDsg\naSA8IF9sb2dzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgX2xvZ3Nb\naV0uaW5mbyhtc2cpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQg\naW5mbyhPYmplY3QgbXNnLCBUaHJvd2FibGUgdCkgewogICAgICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0aDsgaSsrKQogICAgICAg\nICAgICAgICAgX2xvZ3NbaV0uaW5mbyhtc2csIHQpOwogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIHZvaWQgd2FybihPYmplY3QgbXNnKSB7CiAgICAgICAg\nICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xvZ3MubGVuZ3RoOyBpKyspCiAg\nICAgICAgICAgICAgICBfbG9nc1tpXS53YXJuKG1zZyk7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgdm9pZCB3YXJuKE9iamVjdCBtc2csIFRocm93YWJs\nZSB0KSB7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xvZ3Mu\nbGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICBfbG9nc1tpXS53YXJuKG1z\nZywgdCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBlcnJvcihP\nYmplY3QgbXNnKSB7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\nX2xvZ3MubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICBfbG9nc1tpXS5l\ncnJvcihtc2cpOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgZXJy\nb3IoT2JqZWN0IG1zZywgVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCBfbG9ncy5sZW5ndGg7IGkrKykKICAgICAgICAg\nICAgICAgIF9sb2dzW2ldLmVycm9yKG1zZywgdCk7CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgdm9pZCBmYXRhbChPYmplY3QgbXNnKSB7CiAgICAgICAg\nICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2xvZ3MubGVuZ3RoOyBpKyspCiAg\nICAgICAgICAgICAgICBfbG9nc1tpXS5mYXRhbChtc2cpOwogICAgICAgIH0K\nCiAgICAgICAgcHVibGljIHZvaWQgZmF0YWwoT2JqZWN0IG1zZywgVGhyb3dh\nYmxlIHQpIHsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbG9n\ncy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIF9sb2dzW2ldLmZhdGFs\nKG1zZywgdCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgYm9vbGVhbiBp\nc1RyYWNlRW5hYmxlZCgpIHsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7\nIGkgPCBfbG9ncy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIGlmIChf\nbG9nc1tpXS5pc1RyYWNlRW5hYmxlZCgpKQogICAgICAgICAgICAgICAgICAg\nIHJldHVybiB0cnVlOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAg\nICAgfQoKICAgICAgICBwdWJsaWMgYm9vbGVhbiBpc0luZm9FbmFibGVkKCkg\newogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0\naDsgaSsrKQogICAgICAgICAgICAgICAgaWYgKF9sb2dzW2ldLmlzSW5mb0Vu\nYWJsZWQoKSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAg\nICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcHVi\nbGljIGJvb2xlYW4gaXNXYXJuRW5hYmxlZCgpIHsKICAgICAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCBfbG9ncy5sZW5ndGg7IGkrKykKICAgICAgICAg\nICAgICAgIGlmIChfbG9nc1tpXS5pc1dhcm5FbmFibGVkKCkpCiAgICAgICAg\nICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBib29sZWFuIGlzRXJy\nb3JFbmFibGVkKCkgewogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIF9sb2dzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICAgICAgaWYgKF9sb2dz\nW2ldLmlzRXJyb3JFbmFibGVkKCkpCiAgICAgICAgICAgICAgICAgICAgcmV0\ndXJuIHRydWU7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyBib29sZWFuIGlzRmF0YWxFbmFibGVkKCkgewog\nICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0aDsg\naSsrKQogICAgICAgICAgICAgICAgaWYgKF9sb2dzW2ldLmlzRmF0YWxFbmFi\nbGVkKCkpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAg\nICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

