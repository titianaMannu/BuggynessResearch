{"sha":"9eebc566c3e3ad02e0a90637e22163f10eda369b","node_id":"MDQ6QmxvYjIwNjM2NDo5ZWViYzU2NmMzZTNhZDAyZTBhOTA2MzdlMjIxNjNmMTBlZGEzNjli","size":4738,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9eebc566c3e3ad02e0a90637e22163f10eda369b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgovKioKICog\nVGhpcyBjbGFzcyBjYW1lIGZyb20gdGhlIEFwYWNoZSBDb21tb25zIElkIHNh\nbmRib3ggcHJvamVjdCBpbiBzdXBwb3J0CiAqIG9mIHRoZSBVVUlER2VuZXJh\ndG9yIGltcGxlbWVudGF0aW9uLgogKgogKiA8cD5TdGF0aWMgbWV0aG9kcyBm\nb3IgbWFuYWdpbmcgYnl0ZSBhcnJheXMgKGFsbCBtZXRob2RzIGZvbGxvdyBC\naWcKICogRW5kaWFuIG9yZGVyIHdoZXJlIG1vc3Qgc2lnbmlmaWNhbnQgYml0\ncyBhcmUgaW4gZnJvbnQpLjwvcD4KICovCnB1YmxpYyBmaW5hbCBjbGFzcyBC\neXRlcyB7CgogICAgLyoqCiAgICAgKiA8cD5IaWRlIGNvbnN0cnVjdG9yIGlu\nIHV0aWxpdHkgY2xhc3MuPC9wPgogICAgICovCiAgICBwcml2YXRlIEJ5dGVz\nKCkgewogICAgfQoKICAgIC8qKgogICAgICogQXBwZW5kcyB0d28gYnl0ZXMg\nYXJyYXkgaW50byBvbmUuCiAgICAgKgogICAgICogQHBhcmFtIGEgQSBieXRl\nW10uCiAgICAgKiBAcGFyYW0gYiBBIGJ5dGVbXS4KICAgICAqIEByZXR1cm4g\nQSBieXRlW10uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgYnl0ZVtdIGFw\ncGVuZChieXRlW10gYSwgYnl0ZVtdIGIpIHsKICAgICAgICBieXRlW10geiA9\nIG5ldyBieXRlW2EubGVuZ3RoICsgYi5sZW5ndGhdOwogICAgICAgIFN5c3Rl\nbS5hcnJheWNvcHkoYSwgMCwgeiwgMCwgYS5sZW5ndGgpOwogICAgICAgIFN5\nc3RlbS5hcnJheWNvcHkoYiwgMCwgeiwgYS5sZW5ndGgsIGIubGVuZ3RoKTsK\nICAgICAgICByZXR1cm4gejsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbnMgYSA4LWJ5dGUgYXJyYXkgYnVpbHQgZnJvbSBhIGxvbmcuCiAgICAgKgog\nICAgICogQHBhcmFtIG4gVGhlIG51bWJlciB0byBjb252ZXJ0LgogICAgICog\nQHJldHVybiBBIGJ5dGVbXS4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBi\neXRlW10gdG9CeXRlcyhsb25nIG4pIHsKICAgICAgICByZXR1cm4gdG9CeXRl\ncyhuLCBuZXcgYnl0ZVs4XSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBCdWls\nZCBhIDgtYnl0ZSBhcnJheSBmcm9tIGEgbG9uZy4gIE5vIGNoZWNrIGlzIHBl\ncmZvcm1lZCBvbiB0aGUKICAgICAqIGFycmF5IGxlbmd0aC4KICAgICAqCiAg\nICAgKiBAcGFyYW0gbiBUaGUgbnVtYmVyIHRvIGNvbnZlcnQuCiAgICAgKiBA\ncGFyYW0gYiBUaGUgYXJyYXkgdG8gZmlsbC4KICAgICAqIEByZXR1cm4gQSBi\neXRlW10uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgYnl0ZVtdIHRvQnl0\nZXMobG9uZyBuLCBieXRlW10gYikgewogICAgICAgIGJbN10gPSAoYnl0ZSkg\nKG4pOwogICAgICAgIG4gPj4+PSA4OwogICAgICAgIGJbNl0gPSAoYnl0ZSkg\nKG4pOwogICAgICAgIG4gPj4+PSA4OwogICAgICAgIGJbNV0gPSAoYnl0ZSkg\nKG4pOwogICAgICAgIG4gPj4+PSA4OwogICAgICAgIGJbNF0gPSAoYnl0ZSkg\nKG4pOwogICAgICAgIG4gPj4+PSA4OwogICAgICAgIGJbM10gPSAoYnl0ZSkg\nKG4pOwogICAgICAgIG4gPj4+PSA4OwogICAgICAgIGJbMl0gPSAoYnl0ZSkg\nKG4pOwogICAgICAgIG4gPj4+PSA4OwogICAgICAgIGJbMV0gPSAoYnl0ZSkg\nKG4pOwogICAgICAgIG4gPj4+PSA4OwogICAgICAgIGJbMF0gPSAoYnl0ZSkg\nKG4pOwoKICAgICAgICByZXR1cm4gYjsKICAgIH0KCiAgICAvKioKICAgICAq\nIEJ1aWxkIGEgbG9uZyBmcm9tIGZpcnN0IDggYnl0ZXMgb2YgdGhlIGFycmF5\nLgogICAgICoKICAgICAqIEBwYXJhbSBiIFRoZSBieXRlW10gdG8gY29udmVy\ndC4KICAgICAqIEByZXR1cm4gQSBsb25nLgogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIGxvbmcgdG9Mb25nKGJ5dGVbXSBiKSB7CiAgICAgICAgcmV0dXJu\nICgoKChsb25nKSBiWzddKSAmIDB4RkYpCiAgICAgICAgICAgICAgICArICgo\nKChsb25nKSBiWzZdKSAmIDB4RkYpIDw8IDgpCiAgICAgICAgICAgICAgICAr\nICgoKChsb25nKSBiWzVdKSAmIDB4RkYpIDw8IDE2KQogICAgICAgICAgICAg\nICAgKyAoKCgobG9uZykgYls0XSkgJiAweEZGKSA8PCAyNCkKICAgICAgICAg\nICAgICAgICsgKCgoKGxvbmcpIGJbM10pICYgMHhGRikgPDwgMzIpCiAgICAg\nICAgICAgICAgICArICgoKChsb25nKSBiWzJdKSAmIDB4RkYpIDw8IDQwKQog\nICAgICAgICAgICAgICAgKyAoKCgobG9uZykgYlsxXSkgJiAweEZGKSA8PCA0\nOCkKICAgICAgICAgICAgICAgICsgKCgoKGxvbmcpIGJbMF0pICYgMHhGRikg\nPDwgNTYpKTsKICAgIH0KCiAgICAvKioKICAgICogQ29tcGFyZXMgdHdvIGJ5\ndGUgYXJyYXlzIGZvciBlcXVhbGl0eS4KICAgICoKICAgICogQHBhcmFtIGEg\nQSBieXRlW10uCiAgICAqIEBwYXJhbSBiIEEgYnl0ZVtdLgogICAgKiBAcmV0\ndXJuIFRydWUgaWYgdGhlIGFycmF5cyBoYXZlIGlkZW50aWNhbCBjb250ZW50\ncy4KICAgICovCiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gYXJlRXF1YWwo\nYnl0ZVtdIGEsIGJ5dGVbXSBiKSB7CiAgICAgICAgaW50IGFMZW5ndGggPSBh\nLmxlbmd0aDsKICAgICAgICBpZiAoYUxlbmd0aCAhPSBiLmxlbmd0aCkgewog\nICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IGFMZW5ndGg7IGkrKykgewogICAgICAgICAg\nICBpZiAoYVtpXSAhPSBiW2ldKSB7CiAgICAgICAgICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJu\nIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiA8cD5Db21wYXJlcyB0d28g\nYnl0ZSBhcnJheXMgYXMgc3BlY2lmaWVkIGJ5IDxjb2RlPkNvbXBhcmFibGU8\nL2NvZGU+LgogICAgICoKICAgICAqIEBwYXJhbSBsaHMgLSBsZWZ0IGhhbmQg\ndmFsdWUgaW4gdGhlIGNvbXBhcmlzb24gb3BlcmF0aW9uLgogICAgICogQHBh\ncmFtIHJocyAtIHJpZ2h0IGhhbmQgdmFsdWUgaW4gdGhlIGNvbXBhcmlzb24g\nb3BlcmF0aW9uLgogICAgICogQHJldHVybiAgYSBuZWdhdGl2ZSBpbnRlZ2Vy\nLCB6ZXJvLCBvciBhIHBvc2l0aXZlIGludGVnZXIgYXMgCiAgICAgKiA8Y29k\nZT5saHM8L2NvZGU+IGlzIGxlc3MgdGhhbiwgZXF1YWwgdG8sIG9yIGdyZWF0\nZXIgdGhhbiAKICAgICAqIDxjb2RlPnJoczwvY29kZT4uCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgaW50IGNvbXBhcmVUbyhieXRlW10gbGhzLCBieXRl\nW10gcmhzKSB7CiAgICAgICAgaWYgKGxocyA9PSByaHMpIHsKICAgICAgICAg\nICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGlmIChsaHMgPT0gbnVs\nbCkgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAg\nIGlmIChyaHMgPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4gKzE7CiAg\nICAgICAgfQogICAgICAgIGlmIChsaHMubGVuZ3RoICE9IHJocy5sZW5ndGgp\nIHsKICAgICAgICAgICAgcmV0dXJuICgobGhzLmxlbmd0aCA8IHJocy5sZW5n\ndGgpID8gLTEgOiArMSk7CiAgICAgICAgfQogICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgbGhzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChs\naHNbaV0gPCByaHNbaV0pIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsK\nICAgICAgICAgICAgfSBlbHNlIGlmIChsaHNbaV0gPiByaHNbaV0pIHsKICAg\nICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAg\nfQogICAgICAgIHJldHVybiAwOwogICAgfQoKICAgIC8qKgogICAgICogQnVp\nbGQgYSBzaG9ydCBmcm9tIGZpcnN0IDIgYnl0ZXMgb2YgdGhlIGFycmF5Lgog\nICAgICoKICAgICAqIEBwYXJhbSBiIFRoZSBieXRlW10gdG8gY29udmVydC4K\nICAgICAqIEByZXR1cm4gQSBzaG9ydC4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBzaG9ydCB0b1Nob3J0KGJ5dGVbXSBiKSB7CiAgICAgICAgcmV0dXJu\nICAoc2hvcnQpICgoYlsxXSAmIDB4RkYpICsgKChiWzBdICYgMHhGRikgPDwg\nOCkpOwogICAgfQp9Cg==\n","encoding":"base64"}

