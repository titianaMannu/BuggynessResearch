{"sha":"96dfd32f5775291b461256dda8a6e040de456d1f","node_id":"MDQ6QmxvYjIwNjM2NDo5NmRmZDMyZjU3NzUyOTFiNDYxMjU2ZGRhOGE2ZTA0MGRlNDU2ZDFm","size":2247,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/96dfd32f5775291b461256dda8a6e040de456d1f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5zcWwuVGltZXN0YW1wOwoKLyoqCiAqIEhlbHBlciBiYXNlIGNsYXNz\nIGF0dGVtcHRzIHRvIHJldHVybiBqYXZhLnNxbC5UaW1lc3RhbXAgb2JqZWN0\nIHdpdGgKICogbmFub3NlY29uZCBwcmVjaXNpb24uIAogKiAKICogQGF1dGhv\nciBBbGJlcnQgTGVlCiAqLwpwdWJsaWMgY2xhc3MgVGltZXN0YW1wSGVscGVy\nIHsKCiAgICAvLyBudW1iZXIgb2YgbWlsbGlzZWNvbmQsIG1pcmNvc2Vjb25k\ncyBhbmQgbmFub3NlY29uZHMgaW4gb25lIHNlY29uZC4KICAgIHByb3RlY3Rl\nZCBzdGF0aWMgZmluYWwgbG9uZyBNaWxsaU11bGlwbGllciA9IDEwMDBMOwog\nICAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbCBsb25nIE1pY3JvTXVsaXBsaWVy\nID0gTWlsbGlNdWxpcGxpZXIgKiAxMDAwTDsKICAgIHByb3RlY3RlZCBzdGF0\naWMgZmluYWwgbG9uZyBOYW5vTXVsaXBsaWVyID0gTWljcm9NdWxpcGxpZXIg\nKiAxMDAwTDsKCiAgICAvLyBudW1iZXIgb2Ygc2Vjb25kcyBwYXNzZWQgMTk3\nMC8xLzEgMDA6MDA6MDAgR01ULgogICAgcHJpdmF0ZSBzdGF0aWMgbG9uZyBz\nZWMwOwogICAgLy8gZnJhY3Rpb24gb2Ygc2Vjb25kcyBwYXNzZWQgMTk3MC8x\nLzEgMDA6MDA6MDAgR01ULCBvZmZzZXQgYnkKICAgIC8vIHRoZSBiYXNlIFN5\nc3RlbS5uYW5vVGltZSAobmFubzApLCBpbiBuYW5vc2Vjb25kIHVuaXQuCiAg\nICBwcml2YXRlIHN0YXRpYyBsb25nIG5hbm8wOwoKICAgIHN0YXRpYyB7CiAg\nICAgICAgLy8gaW5pdGlhbGl6ZSBiYXNlIHRpbWUgaW4gc2Vjb25kIGFuZCBm\ncmFjdGlvbiBvZiBzZWNvbmQgKG5zKS4KICAgICAgICBsb25nIGN1clRpbWUg\nPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTsKICAgICAgICBzZWMwID0g\nY3VyVGltZSAvIE1pbGxpTXVsaXBsaWVyOwogICAgICAgIG5hbm8wID0gKGN1\nclRpbWUgJSBNaWxsaU11bGlwbGllcikgKiBNaWNyb011bGlwbGllciAtIFN5\nc3RlbS5uYW5vVGltZSgpOwogICAgfQoKICAgIC8qCiAgICAgKiBSZXR1cm4g\nYSBqYXZhLnNxbC5UaW1lc3RhbXAgb2JqZWN0IG9mIGN1cnJlbnQgdGltZS4K\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBUaW1lc3RhbXAgZ2V0TmFub1By\nZWNpc2lvblRpbWVzdGFtcCgpIHsKICAgICAgICBsb25nIG5hbm9fZGVsdGEg\nPSBuYW5vMCArIFN5c3RlbS5uYW5vVGltZSgpOwogICAgICAgIGxvbmcgc2Vj\nMSA9IHNlYzAgKyAobmFub19kZWx0YSAvIE5hbm9NdWxpcGxpZXIpOwogICAg\nICAgIGxvbmcgbmFubzEgPSBuYW5vX2RlbHRhICUgTmFub011bGlwbGllcjsK\nCiAgICAgICAgVGltZXN0YW1wIHJ0blRzID0gbmV3IFRpbWVzdGFtcChzZWMx\nICogTWlsbGlNdWxpcGxpZXIpOwogICAgICAgIHJ0blRzLnNldE5hbm9zKChp\nbnQpIG5hbm8xKTsKICAgICAgICByZXR1cm4gcnRuVHM7CiAgICB9Cn0K\n","encoding":"base64"}

