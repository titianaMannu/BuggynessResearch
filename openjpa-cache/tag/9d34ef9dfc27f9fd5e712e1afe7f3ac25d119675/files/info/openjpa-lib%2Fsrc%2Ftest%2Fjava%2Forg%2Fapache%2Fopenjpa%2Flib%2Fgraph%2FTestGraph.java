{"sha":"3b21530ffeb82b4c131a042d4b88c688da26bc08","node_id":"MDQ6QmxvYjIwNjM2NDozYjIxNTMwZmZlYjgyYjRjMTMxYTA0MmQ0Yjg4YzY4OGRhMjZiYzA4","size":5115,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3b21530ffeb82b4c131a042d4b88c688da26bc08","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuZ3JhcGg7CgppbXBvcnQgamF2\nYS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi50ZXN0LkFic3RyYWN0\nVGVzdENhc2U7CgovKioKICogPHA+VGVzdHMgdGhlIHtAbGluayBHcmFwaH0g\ndHlwZSwgYW5kIGluIHNvIGRvaW5nIGltcGxpY2l0bHkgdGVzdHMgdGhlCiAq\nIHtAbGluayBFZGdlfSBhcyB3ZWxsLjwvcD4KICoKICogQGF1dGhvciBBYmUg\nV2hpdGUKICovCnB1YmxpYyBjbGFzcyBUZXN0R3JhcGgKICAgIGV4dGVuZHMg\nQWJzdHJhY3RUZXN0Q2FzZSB7CgogICAgcHJpdmF0ZSBHcmFwaCBfZ3JhcGgg\nPSBuZXcgR3JhcGgoKTsKICAgIHByaXZhdGUgT2JqZWN0IF9ub2RlMSA9IG5l\ndyBPYmplY3QoKTsKICAgIHByaXZhdGUgT2JqZWN0IF9ub2RlMiA9IG5ldyBP\nYmplY3QoKTsKICAgIHByaXZhdGUgT2JqZWN0IF9ub2RlMyA9IG5ldyBPYmpl\nY3QoKTsKICAgIHByaXZhdGUgRWRnZSBfZWRnZTEgPSBuZXcgRWRnZShfbm9k\nZTEsIF9ub2RlMiwgdHJ1ZSk7CiAgICBwcml2YXRlIEVkZ2UgX2VkZ2UyID0g\nbmV3IEVkZ2UoX25vZGUyLCBfbm9kZTMsIHRydWUpOwogICAgcHJpdmF0ZSBF\nZGdlIF9lZGdlMyA9IG5ldyBFZGdlKF9ub2RlMSwgX25vZGUzLCBmYWxzZSk7\nCiAgICBwcml2YXRlIEVkZ2UgX2VkZ2U0ID0gbmV3IEVkZ2UoX25vZGUyLCBf\nbm9kZTIsIGZhbHNlKTsKCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAg\nICAgICBfZ3JhcGguYWRkTm9kZShfbm9kZTEpOwogICAgICAgIF9ncmFwaC5h\nZGROb2RlKF9ub2RlMik7CiAgICAgICAgX2dyYXBoLmFkZE5vZGUoX25vZGUz\nKTsKICAgICAgICBfZ3JhcGguYWRkRWRnZShfZWRnZTEpOwogICAgICAgIF9n\ncmFwaC5hZGRFZGdlKF9lZGdlMik7CiAgICAgICAgX2dyYXBoLmFkZEVkZ2Uo\nX2VkZ2UzKTsKICAgICAgICBfZ3JhcGguYWRkRWRnZShfZWRnZTQpOwogICAg\nfQoKICAgIC8qKgogICAgICogVGVzdHMgYWRkaW5nIGFuZCByZXRyaWV2aW5n\nIG5vZGVzIGFuZCBlZGdlcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVz\ndEFkZFJldHJpZXZlKCkgewogICAgICAgIGFzc2VydEVxdWFscygzLCBfZ3Jh\ncGguZ2V0Tm9kZXMoKS5zaXplKCkpOwogICAgICAgIGFzc2VydEVxdWFscyg0\nLCBfZ3JhcGguZ2V0RWRnZXMoKS5zaXplKCkpOwoKICAgICAgICBDb2xsZWN0\naW9uIGVkZ2VzID0gX2dyYXBoLmdldEVkZ2VzRnJvbShfbm9kZTEpOwogICAg\nICAgIGFzc2VydEVxdWFscygyLCBlZGdlcy5zaXplKCkpOwogICAgICAgIEl0\nZXJhdG9yIGl0ciA9IGVkZ2VzLml0ZXJhdG9yKCk7CiAgICAgICAgRWRnZSBl\nZGdlMCA9IChFZGdlKSBpdHIubmV4dCgpOwogICAgICAgIEVkZ2UgZWRnZTEg\nPSAoRWRnZSkgaXRyLm5leHQoKTsKICAgICAgICBhc3NlcnRUcnVlKChlZGdl\nMCA9PSBfZWRnZTEgJiYgZWRnZTEgPT0gX2VkZ2UzKQogICAgICAgICAgICB8\nfCAoZWRnZTAgPT0gX2VkZ2UzICYmIGVkZ2UxID09IF9lZGdlMSkpOwoKICAg\nICAgICBlZGdlcyA9IF9ncmFwaC5nZXRFZGdlc1RvKF9ub2RlMSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIGVkZ2VzLnNpemUoKSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKF9lZGdlMywgZWRnZXMuaXRlcmF0b3IoKS5uZXh0KCkpOwoK\nICAgICAgICBlZGdlcyA9IF9ncmFwaC5nZXRFZGdlcyhfbm9kZTEsIF9ub2Rl\nMyk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGVkZ2VzLnNpemUoKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKF9lZGdlMywgZWRnZXMuaXRlcmF0b3IoKS5u\nZXh0KCkpOwogICAgICAgIGVkZ2VzID0gX2dyYXBoLmdldEVkZ2VzKF9ub2Rl\nMywgX25vZGUxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgZWRnZXMuc2l6\nZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoX2VkZ2UzLCBlZGdlcy5pdGVy\nYXRvcigpLm5leHQoKSk7CgogICAgICAgIGVkZ2VzID0gX2dyYXBoLmdldEVk\nZ2VzRnJvbShfbm9kZTIpOwogICAgICAgIGFzc2VydEVxdWFscygyLCBlZGdl\ncy5zaXplKCkpOwogICAgICAgIGl0ciA9IGVkZ2VzLml0ZXJhdG9yKCk7CiAg\nICAgICAgZWRnZTAgPSAoRWRnZSkgaXRyLm5leHQoKTsKICAgICAgICBlZGdl\nMSA9IChFZGdlKSBpdHIubmV4dCgpOwogICAgICAgIGFzc2VydFRydWUoKGVk\nZ2UwID09IF9lZGdlMiAmJiBlZGdlMSA9PSBfZWRnZTQpCiAgICAgICAgICAg\nIHx8IChlZGdlMCA9PSBfZWRnZTQgJiYgZWRnZTEgPT0gX2VkZ2UyKSk7Cgog\nICAgICAgIGVkZ2VzID0gX2dyYXBoLmdldEVkZ2VzVG8oX25vZGUyKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoMiwgZWRnZXMuc2l6ZSgpKTsKICAgICAgICBp\ndHIgPSBlZGdlcy5pdGVyYXRvcigpOwogICAgICAgIGVkZ2UwID0gKEVkZ2Up\nIGl0ci5uZXh0KCk7CiAgICAgICAgZWRnZTEgPSAoRWRnZSkgaXRyLm5leHQo\nKTsKICAgICAgICBhc3NlcnRUcnVlKChlZGdlMCA9PSBfZWRnZTEgJiYgZWRn\nZTEgPT0gX2VkZ2U0KQogICAgICAgICAgICB8fCAoZWRnZTAgPT0gX2VkZ2U0\nICYmIGVkZ2UxID09IF9lZGdlMSkpOwoKICAgICAgICBlZGdlcyA9IF9ncmFw\naC5nZXRFZGdlcyhfbm9kZTIsIF9ub2RlMik7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEsIGVkZ2VzLnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKF9l\nZGdlNCwgZWRnZXMuaXRlcmF0b3IoKS5uZXh0KCkpOwoKICAgICAgICBlZGdl\ncyA9IF9ncmFwaC5nZXRFZGdlc0Zyb20oX25vZGUzKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoMSwgZWRnZXMuc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoX2VkZ2UzLCBlZGdlcy5pdGVyYXRvcigpLm5leHQoKSk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBUZXN0IHJlbW92aW5nIGVkZ2VzLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0UmVtb3ZlRWRnZXMoKSB7CiAgICAgICAgYXNz\nZXJ0VHJ1ZShfZ3JhcGgucmVtb3ZlRWRnZShfZWRnZTIpKTsKICAgICAgICBD\nb2xsZWN0aW9uIGVkZ2VzID0gX2dyYXBoLmdldEVkZ2VzRnJvbShfbm9kZTIp\nOwogICAgICAgIGFzc2VydEVxdWFscygxLCBlZGdlcy5zaXplKCkpOwogICAg\nICAgIGFzc2VydEVxdWFscyhfZWRnZTQsIGVkZ2VzLml0ZXJhdG9yKCkubmV4\ndCgpKTsKCiAgICAgICAgYXNzZXJ0VHJ1ZShfZ3JhcGgucmVtb3ZlRWRnZShf\nZWRnZTMpKTsKICAgICAgICBlZGdlcyA9IF9ncmFwaC5nZXRFZGdlc0Zyb20o\nX25vZGUxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgZWRnZXMuc2l6ZSgp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoX2VkZ2UxLCBlZGdlcy5pdGVyYXRv\ncigpLm5leHQoKSk7CiAgICAgICAgZWRnZXMgPSBfZ3JhcGguZ2V0RWRnZXNU\nbyhfbm9kZTEpOwogICAgICAgIGFzc2VydEVxdWFscygwLCBlZGdlcy5zaXpl\nKCkpOwogICAgICAgIGVkZ2VzID0gX2dyYXBoLmdldEVkZ2VzVG8oX25vZGUz\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMCwgZWRnZXMuc2l6ZSgpKTsKICAg\nICAgICBlZGdlcyA9IF9ncmFwaC5nZXRFZGdlc0Zyb20oX25vZGUzKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoMCwgZWRnZXMuc2l6ZSgpKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFRlc3QgcmVtb3Zpbmcgbm9kZXMuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHRlc3RSZW1vdmVOb2RlcygpIHsKICAgICAgICBhc3Nl\ncnRUcnVlKF9ncmFwaC5yZW1vdmVOb2RlKF9ub2RlMykpOwogICAgICAgIENv\nbGxlY3Rpb24gZWRnZXMgPSBfZ3JhcGguZ2V0RWRnZXMoKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoMiwgZWRnZXMuc2l6ZSgpKTsKICAgICAgICBJdGVyYXRv\nciBpdHIgPSBlZGdlcy5pdGVyYXRvcigpOwogICAgICAgIEVkZ2UgZWRnZTAg\nPSAoRWRnZSkgaXRyLm5leHQoKTsKICAgICAgICBFZGdlIGVkZ2UxID0gKEVk\nZ2UpIGl0ci5uZXh0KCk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgoZWRnZTAgPT0g\nX2VkZ2UxICYmIGVkZ2UxID09IF9lZGdlNCkKICAgICAgICAgICAgfHwgKGVk\nZ2UwID09IF9lZGdlNCAmJiBlZGdlMSA9PSBfZWRnZTEpKTsKICAgICAgICBl\nZGdlcyA9IF9ncmFwaC5nZXRFZGdlc0Zyb20oX25vZGUxKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoMSwgZWRnZXMuc2l6ZSgpKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoX2VkZ2UxLCBlZGdlcy5pdGVyYXRvcigpLm5leHQoKSk7CiAgICAg\nICAgZWRnZXMgPSBfZ3JhcGguZ2V0RWRnZXNUbyhfbm9kZTEpOwogICAgICAg\nIGFzc2VydEVxdWFscygwLCBlZGdlcy5zaXplKCkpOwogICAgfQoKICAgIHB1\nYmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAg\nICBtYWluKFRlc3RHcmFwaC5jbGFzcyk7Cgl9Cn0K\n","encoding":"base64"}

