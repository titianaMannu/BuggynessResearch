{"sha":"bfb6538f3d8c2517b0663ab7572f2292ed3a82f8","node_id":"MDQ6QmxvYjIwNjM2NDpiZmI2NTM4ZjNkOGMyNTE3YjA2NjNhYjc1NzJmMjI5MmVkM2E4MmY4","size":3041,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bfb6538f3d8c2517b0663ab7572f2292ed3a82f8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\nanVuaXQuZnJhbWV3b3JrLlRlc3Q7CmltcG9ydCBqdW5pdC5mcmFtZXdvcmsu\nVGVzdENhc2U7CmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdFN1aXRlOwpp\nbXBvcnQganVuaXQudGV4dHVpLlRlc3RSdW5uZXI7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVudC5BYnN0cmFjdENvbmN1\ncnJlbnRFdmVudE1hbmFnZXI7CgovKioKICogVGVzdHMgdGhlIHtAbGluayBB\nYnN0cmFjdENvbmN1cnJlbnRFdmVudE1hbmFnZXJ9LgogKgogKiBAYXV0aG9y\nIEFiZSBXaGl0ZQogKi8KcHVibGljIGNsYXNzIFRlc3RBYnN0cmFjdEV2ZW50\nTWFuYWdlciBleHRlbmRzIFRlc3RDYXNlIHsKCiAgICBwcml2YXRlIEV2ZW50\nTWFuYWdlciBfZW0gPSBuZXcgRXZlbnRNYW5hZ2VyKCk7CgogICAgcHVibGlj\nIFRlc3RBYnN0cmFjdEV2ZW50TWFuYWdlcihTdHJpbmcgdGVzdCkgewogICAg\nICAgIHN1cGVyKHRlc3QpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RS\nZWVudHJhbnRBZGQoKSB7CiAgICAgICAgTGlzdGVuZXIgbDEgPSBuZXcgTGlz\ndGVuZXIoTGlzdGVuZXIuQUREKTsKICAgICAgICBMaXN0ZW5lciBsMiA9IG5l\ndyBMaXN0ZW5lcihMaXN0ZW5lci5OT05FKTsKICAgICAgICBfZW0uYWRkTGlz\ndGVuZXIobDEpOwogICAgICAgIF9lbS5hZGRMaXN0ZW5lcihsMik7CiAgICAg\nICAgX2VtLmZpcmVFdmVudChuZXcgT2JqZWN0KCkpOwogICAgICAgIGFzc2Vy\ndFRydWUobDEuZmlyZWQpOwogICAgICAgIGFzc2VydFRydWUobDIuZmlyZWQp\nOwogICAgICAgIGFzc2VydEVxdWFscygzLCBfZW0uZ2V0TGlzdGVuZXJzKCku\nc2l6ZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmVlbnRyYW50\nUmVtb3ZlKCkgewogICAgICAgIExpc3RlbmVyIGwxID0gbmV3IExpc3RlbmVy\nKExpc3RlbmVyLlJFTU9WRSk7CiAgICAgICAgTGlzdGVuZXIgbDIgPSBuZXcg\nTGlzdGVuZXIoTGlzdGVuZXIuTk9ORSk7CiAgICAgICAgX2VtLmFkZExpc3Rl\nbmVyKGwxKTsKICAgICAgICBfZW0uYWRkTGlzdGVuZXIobDIpOwogICAgICAg\nIF9lbS5maXJlRXZlbnQobmV3IE9iamVjdCgpKTsKICAgICAgICBhc3NlcnRU\ncnVlKGwxLmZpcmVkKTsKICAgICAgICBhc3NlcnRUcnVlKGwyLmZpcmVkKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoMSwgX2VtLmdldExpc3RlbmVycygpLnNp\nemUoKSk7CiAgICAgICAgYXNzZXJ0RmFsc2UoX2VtLmdldExpc3RlbmVycygp\nLmNvbnRhaW5zKGwxKSk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBUZXN0\nIHN1aXRlKCkgewogICAgICAgIHJldHVybiBuZXcgVGVzdFN1aXRlKFRlc3RB\nYnN0cmFjdEV2ZW50TWFuYWdlci5jbGFzcyk7CiAgICB9CgogICAgcHVibGlj\nIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIFRl\nc3RSdW5uZXIucnVuKHN1aXRlKCkpOwogICAgfQoKICAgIHByaXZhdGUgc3Rh\ndGljIGNsYXNzIEV2ZW50TWFuYWdlciBleHRlbmRzIEFic3RyYWN0Q29uY3Vy\ncmVudEV2ZW50TWFuYWdlciB7CgogICAgICAgIHByb3RlY3RlZCB2b2lkIGZp\ncmVFdmVudChPYmplY3QgZXZlbnQsIE9iamVjdCBsaXN0ZW5lcikgewogICAg\nICAgICAgICAoKExpc3RlbmVyKSBsaXN0ZW5lcikuZmlyZSgpOwogICAgICAg\nIH0KICAgIH0KCiAgICBwcml2YXRlIGNsYXNzIExpc3RlbmVyIHsKCiAgICAg\nICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgTk9ORSA9IDA7CiAgICAgICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBpbnQgQUREID0gMTsKICAgICAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIGludCBSRU1PVkUgPSAyOwoKICAgICAgICBwdWJs\naWMgYm9vbGVhbiBmaXJlZDsKICAgICAgICBwcml2YXRlIGZpbmFsIGludCBf\nYWN0aW9uOwoKICAgICAgICBwdWJsaWMgTGlzdGVuZXIoaW50IGFjdGlvbikg\newogICAgICAgICAgICBfYWN0aW9uID0gYWN0aW9uOwogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIHZvaWQgZmlyZSgpIHsKICAgICAgICAgICAgZmlyZWQg\nPSB0cnVlOwogICAgICAgICAgICBpZiAoX2FjdGlvbiA9PSBBREQpCiAgICAg\nICAgICAgICAgICBfZW0uYWRkTGlzdGVuZXIobmV3IExpc3RlbmVyKE5PTkUp\nKTsKICAgICAgICAgICAgZWxzZSBpZiAoX2FjdGlvbiA9PSBSRU1PVkUpCiAg\nICAgICAgICAgICAgICBhc3NlcnRUcnVlKF9lbS5yZW1vdmVMaXN0ZW5lcih0\naGlzKSk7CiAgICAgICAgfQogICAgfQp9Cgo=\n","encoding":"base64"}

