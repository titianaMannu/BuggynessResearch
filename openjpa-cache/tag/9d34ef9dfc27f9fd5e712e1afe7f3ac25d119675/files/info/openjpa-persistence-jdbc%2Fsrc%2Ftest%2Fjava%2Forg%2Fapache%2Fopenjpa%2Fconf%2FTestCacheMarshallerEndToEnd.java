{"sha":"e8739b1b8e556e93bfecb92913c0ca43e87005b8","node_id":"MDQ6QmxvYjIwNjM2NDplODczOWIxYjhlNTU2ZTkzYmZlY2I5MjkxM2MwY2E0M2U4NzAwNWI4","size":5895,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e8739b1b8e556e93bfecb92913c0ca43e87005b8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5jb25mOwoKaW1wb3J0IGphdmEuaW8u\nQnl0ZUFycmF5T3V0cHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5JT0V4Y2Vw\ndGlvbjsKaW1wb3J0IGphdmEuaW8uUHJpbnRTdHJlYW07CmltcG9ydCBqYXZh\nLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLkpQQUZhY2FkZUhlbHBlcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3RvcnlTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UucXVlcnkuTmFtZWRRdWVyeUVudGl0eTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5zaW1wbGUuQWxsRmllbGRUeXBlczsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlBl\ncnNpc3RlbmNlVGVzdENhc2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmxvZy5Mb2c7CgpwdWJsaWMgY2xhc3MgVGVzdENhY2hlTWFyc2hhbGxl\nckVuZFRvRW5kCiAgICBleHRlbmRzIFBlcnNpc3RlbmNlVGVzdENhc2UgewoK\nICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIE9iamVjdFtdIFNUT1JFX1BST1BT\nID0gbmV3IE9iamVjdFtdIHsKICAgICAgICAib3BlbmpwYS5DYWNoZU1hcnNo\nYWxsZXJzIiwKICAgICAgICAiZGVmYXVsdChJZD0iICsgTWV0YURhdGFDYWNo\nZU1haW50ZW5hbmNlLmNsYXNzLmdldE5hbWUoKQogICAgICAgICAgICArICIs\nIE91dHB1dEZpbGU9dGFyZ2V0LyIKICAgICAgICAgICAgICAgICsgTWV0YURh\ndGFDYWNoZU1haW50ZW5hbmNlLmNsYXNzLmdldE5hbWUoKSArIi5zZXIiCiAg\nICAgICAgICAgICsgIiwgQ29uc3VtZVNlcmlhbGl6YXRpb25FcnJvcnM9ZmFs\nc2UiCiAgICAgICAgICAgICsgIiwgVmFsaWRhdGlvblBvbGljeT0iCiAgICAg\nICAgICAgICsgT3BlbkpQQVZlcnNpb25BbmRDb25maWd1cmF0aW9uVHlwZVZh\nbGlkYXRpb25Qb2xpY3kuY2xhc3MuZ2V0TmFtZSgpCiAgICAgICAgICAgICsg\nIikiLAogICAgICAgICJvcGVuanBhLlF1ZXJ5Q29tcGlsYXRpb25DYWNoZSIs\nCiAgICAgICAgImphdmEudXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRIYXNo\nTWFwIiwKICAgICAgICBBbGxGaWVsZFR5cGVzLmNsYXNzLAogICAgICAgIE5h\nbWVkUXVlcnlFbnRpdHkuY2xhc3MsCiAgICAgICAgQ0xFQVJfVEFCTEVTCiAg\nICB9OwoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIE9iamVjdFtdIExPQURf\nUFJPUFMgPSBuZXcgT2JqZWN0W10gewogICAgICAgICJvcGVuanBhLkNhY2hl\nTWFyc2hhbGxlcnMiLAogICAgICAgICJkZWZhdWx0KElkPSIgKyBNZXRhRGF0\nYUNhY2hlTWFpbnRlbmFuY2UuY2xhc3MuZ2V0TmFtZSgpCiAgICAgICAgICAg\nICsgIiwgSW5wdXRVUkw9ZmlsZTp0YXJnZXQvIgogICAgICAgICAgICAgICAg\nKyBNZXRhRGF0YUNhY2hlTWFpbnRlbmFuY2UuY2xhc3MuZ2V0TmFtZSgpICsg\nIi5zZXIiCiAgICAgICAgICAgICsgIiwgQ29uc3VtZVNlcmlhbGl6YXRpb25F\ncnJvcnM9ZmFsc2UiCiAgICAgICAgICAgICsgIiwgVmFsaWRhdGlvblBvbGlj\neT0iCiAgICAgICAgICAgICsgT3BlbkpQQVZlcnNpb25BbmRDb25maWd1cmF0\naW9uVHlwZVZhbGlkYXRpb25Qb2xpY3kuY2xhc3MuZ2V0TmFtZSgpCiAgICAg\nICAgICAgICsgIikiLAogICAgICAgICJvcGVuanBhLlF1ZXJ5Q29tcGlsYXRp\nb25DYWNoZSIsCiAgICAgICAgImphdmEudXRpbC5jb25jdXJyZW50LkNvbmN1\ncnJlbnRIYXNoTWFwIiwKICAgICAgICBBbGxGaWVsZFR5cGVzLmNsYXNzLAog\nICAgICAgIE5hbWVkUXVlcnlFbnRpdHkuY2xhc3MKICAgIH07CgoKICAgIHB1\nYmxpYyB2b2lkIHRlc3RDYWNoZU1hcnNoYWxsZXJFbmRUb0VuZCgpCiAgICAg\nICAgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlckZhY3RvcnlTUEkgZW1mID0gY3JlYXRlRU1GKFNUT1JFX1BST1BT\nKTsKICAgICAgICBDYWNoZU1hcnNoYWxsZXJJbXBsIGNtID0gKENhY2hlTWFy\nc2hhbGxlckltcGwpCiAgICAgICAgICAgIENhY2hlTWFyc2hhbGxlcnNWYWx1\nZS5nZXRNYXJzaGFsbGVyQnlJZCgKICAgICAgICAgICAgZW1mLmdldENvbmZp\nZ3VyYXRpb24oKSwgTWV0YURhdGFDYWNoZU1haW50ZW5hbmNlLmNsYXNzLmdl\ndE5hbWUoKSk7CiAgICAgICAgY20uZ2V0T3V0cHV0RmlsZSgpLmRlbGV0ZSgp\nOwogICAgICAgIE1ldGFEYXRhQ2FjaGVNYWludGVuYW5jZSBtYWludCA9IG5l\ndyBNZXRhRGF0YUNhY2hlTWFpbnRlbmFuY2UoCiAgICAgICAgICAgIEpQQUZh\nY2FkZUhlbHBlci50b0Jyb2tlckZhY3RvcnkoZW1mKSwgZmFsc2UpOwogICAg\nICAgIExvZ0ltcGwgbG9nID0gbmV3IExvZ0ltcGwoKTsKICAgICAgICBtYWlu\ndC5zZXRMb2cobG9nKTsKICAgICAgICBtYWludC5zdG9yZSgpOwogICAgICAg\nIGFzc2VydENvbnRhaW5zKGxvZy5saW5lcywgIiAgICAiICsgQWxsRmllbGRU\neXBlcy5jbGFzcy5nZXROYW1lKCkpOwogICAgICAgIGFzc2VydENvbnRhaW5z\nKGxvZy5saW5lcywgIiAgICAiICsgTmFtZWRRdWVyeUVudGl0eS5jbGFzcy5n\nZXROYW1lKCkpOwogICAgICAgIGFzc2VydENvbnRhaW5zKGxvZy5saW5lcywg\nIiAgICBOYW1lZFF1ZXJ5RW50aXR5Lm5hbWVkUXVlcnkiKTsKICAgICAgICBl\nbWYuY2xvc2UoKTsKCiAgICAgICAgZW1mID0gY3JlYXRlRU1GKExPQURfUFJP\nUFMpOwogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsKICAgICAgICBlbS5wZXJzaXN0KG5ldyBOYW1lZFF1ZXJ5RW50aXR5\nKCJmb28iKSk7CiAgICAgICAgZW0uZmx1c2goKTsKICAgICAgICBRdWVyeSBx\nID0gZW0uY3JlYXRlTmFtZWRRdWVyeSgiTmFtZWRRdWVyeUVudGl0eS5uYW1l\nZFF1ZXJ5Iik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHEuZ2V0UmVzdWx0\nTGlzdCgpLnNpemUoKSk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5y\nb2xsYmFjaygpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgZW1mLmNs\nb3NlKCk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGFzc2VydENvbnRhaW5z\nKExpc3Q8U3RyaW5nPiBsaW5lcywgU3RyaW5nIHByZWZpeCkgewogICAgICAg\nIGZvciAoU3RyaW5nIGxpbmUgOiBsaW5lcykKICAgICAgICAgICAgaWYgKGxp\nbmUuc3RhcnRzV2l0aChwcmVmaXgpKQogICAgICAgICAgICAgICAgcmV0dXJu\nOwogICAgICAgIGZhaWwoInNob3VsZCBjb250YWluIGEgbGluZSBzdGFydGlu\nZyB3aXRoICIgKyBwcmVmaXgKICAgICAgICAgICAgKyAiOiAiICsgbGluZXMp\nOwogICAgfQoKICAgIHByaXZhdGUgY2xhc3MgTG9nSW1wbCBpbXBsZW1lbnRz\nIExvZyB7CiAgICAgICAgcHJpdmF0ZSBMaXN0PFN0cmluZz4gbGluZXMgPSBu\nZXcgQXJyYXlMaXN0PFN0cmluZz4oKTsKCiAgICAgICAgcHVibGljIGJvb2xl\nYW4gaXNUcmFjZUVuYWJsZWQoKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVl\nOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIGJvb2xlYW4gaXNJbmZvRW5h\nYmxlZCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgYm9vbGVhbiBpc1dhcm5FbmFibGVkKCkgewogICAg\nICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRp\nb24oKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBib29sZWFuIGlzRXJy\nb3JFbmFibGVkKCkgewogICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0\nZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgICAgICB9CgogICAgICAgIHB1\nYmxpYyBib29sZWFuIGlzRmF0YWxFbmFibGVkKCkgewogICAgICAgICAgICB0\naHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAg\nICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHRyYWNlKE9iamVjdCBvKSB7\nCiAgICAgICAgICAgIGxpbmVzLmFkZChvLnRvU3RyaW5nKCkpOwogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIHZvaWQgdHJhY2UoT2JqZWN0IG8sIFRocm93\nYWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w\nZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgICAgIH0KCiAgICAgICAgcHVibGlj\nIHZvaWQgaW5mbyhPYmplY3QgbykgewogICAgICAgICAgICBsaW5lcy5hZGQo\nby50b1N0cmluZygpKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lk\nIGluZm8oT2JqZWN0IG8sIFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIHRo\ncm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgd2FybihPYmplY3Qgbykgewog\nICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNl\ncHRpb24oKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHdhcm4o\nT2JqZWN0IG8sIFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwogICAgICAgIH0K\nCiAgICAgICAgcHVibGljIHZvaWQgZXJyb3IoT2JqZWN0IG8pIHsKICAgICAg\nICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9u\nKCk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBlcnJvcihPYmpl\nY3QgbywgVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFVu\nc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICAgICAgfQoKICAg\nICAgICBwdWJsaWMgdm9pZCBmYXRhbChPYmplY3QgbykgewogICAgICAgICAg\nICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsK\nICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGZhdGFsKE9iamVjdCBv\nLCBUaHJvd2FibGUgdCkgewogICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

