{"sha":"b22458cc6143b5204db1219c6c2e3de0062580d1","node_id":"MDQ6QmxvYjIwNjM2NDpiMjI0NThjYzYxNDNiNTIwNGRiMTIxOWM2YzJlM2RlMDA2MjU4MGQx","size":3874,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b22458cc6143b5204db1219c6c2e3de0062580d1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuYW5ub3Rh\ndGlvbnM7CgppbXBvcnQgamF2YS51dGlsLio7CgppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmNvbmYuKjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5t\nZXRhLio7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nT3BlbkpQQUVudGl0eU1hbmFnZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmFubm90YXRpb25zLmNvbW1vbi5hcHBzLmFubm90\nQXBwLmFubm90eXBlLio7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuY29tbW9uLnV0aWxzLio7CgppbXBvcnQganVuaXQuZnJhbWV3\nb3JrLio7CgovKioKICogPHA+VGVzdCBAT3JkZXJCeSBhbm5vdGF0aW9uIHN1\ncHBvcnQuPC9wPgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGlj\nIGNsYXNzIFRlc3RFbnRpdHlPcmRlckJ5IGV4dGVuZHMgQW5ub3RhdGlvblRl\nc3RDYXNlCnsKCglwdWJsaWMgVGVzdEVudGl0eU9yZGVyQnkoU3RyaW5nIG5h\nbWUpCgl7CgkJc3VwZXIobmFtZSwgImFubm90YXRpb25jYWN0dXNhcHAiKTsK\nCX0KCi8vICAgIHByaXZhdGUgQ2xhc3NNZXRhRGF0YSBfbWV0YTsKCiAgICBw\ndWJsaWMgdm9pZCBzZXRVcCgpCiAgICB7Ci8vICAgICAgICBfbWV0YSA9ICgo\nT3BlbkpQQUNvbmZpZ3VyYXRpb24pIGdldENvbmZpZ3VyYXRpb24oKSkuCi8v\nICAgICAgICAgICAgZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2UoKS5n\nZXRNZXRhRGF0YShPcmRlckJ5RW50aXR5LmNsYXNzLAovLyAgICAgICAgICAg\nIG51bGwsIHRydWUpOwogICAgfQoKIC8qICAgcHVibGljIHZvaWQgdGVzdEVt\ncHR5T3JkZXJCeSgpIHsKICAgICAgICBTdHJpbmcgZGVjID0gT3JkZXIuRUxF\nTUVOVCArICIgYXNjIjsKICAgICAgICBhc3NlcnRFcXVhbHMoZGVjLCBfbWV0\nYS5nZXRGaWVsZCgic3RyaW5ncyIpLmdldE9yZGVyRGVjbGFyYXRpb24oKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKGRlYywgX21ldGEuZ2V0RmllbGQoInBr\nUmVscyIpLmdldE9yZGVyRGVjbGFyYXRpb24oKSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdFNwZWNpZmllZE9yZGVyQnkoKSB7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJzdHJpbmcgZGVzYyIsIF9tZXRhLmdldEZpZWxkKCJzdHJp\nbmdSZWxzIikuCiAgICAgICAgICAgIGdldE9yZGVyRGVjbGFyYXRpb24oKSk7\nCiAgICB9CiovCiAgICBwdWJsaWMgdm9pZCB0ZXN0VXNlKCkgewogICAgICAg\nIC8vIG5vdGU6IGZ1bmN0aW9uYWxpdHkgdGhvcm91Z2hseSB0ZXN0ZWQgaW4g\na29kby5tZXRhLlRlc3RPcmRlckJ5OwogICAgICAgIC8vIHRoaXMgaXMganVz\ndCBhIHNhbml0eSBjaGVjayBvbiBKUEEgdXNlCiAgICAgICAgZGVsZXRlQWxs\nKE9yZGVyQnlFbnRpdHkuY2xhc3MpOwoKICAgICAgICBPcmRlckJ5RW50aXR5\nIHBjID0gbmV3IE9yZGVyQnlFbnRpdHkoKTsKICAgICAgICBwYy5zZXRJZCgx\nTCk7CiAgICAgICAgcGMuZ2V0U3RyaW5ncygpLmFkZCgiMiIpOwogICAgICAg\nIHBjLmdldFN0cmluZ3MoKS5hZGQoIjEiKTsKICAgICAgICBwYy5nZXRTdHJp\nbmdzKCkuYWRkKCIzIik7CgogICAgICAgIE9yZGVyQnlFbnRpdHkgcmVsMSA9\nIG5ldyBPcmRlckJ5RW50aXR5KCk7CiAgICAgICAgcmVsMS5zZXRJZCgxMDJM\nKTsKICAgICAgICByZWwxLnNldFN0cmluZygiMiIpOwogICAgICAgIE9yZGVy\nQnlFbnRpdHkgcmVsMiA9IG5ldyBPcmRlckJ5RW50aXR5KCk7CiAgICAgICAg\ncmVsMi5zZXRJZCgxMDFMKTsKICAgICAgICByZWwyLnNldFN0cmluZygiMSIp\nOwogICAgICAgIE9yZGVyQnlFbnRpdHkgcmVsMyA9IG5ldyBPcmRlckJ5RW50\naXR5KCk7CiAgICAgICAgcmVsMy5zZXRJZCgxMDNMKTsKICAgICAgICByZWwz\nLnNldFN0cmluZygiMyIpOwogICAgICAgIHBjLmdldFBLUmVscygpLmFkZChy\nZWwxKTsKICAgICAgICBwYy5nZXRQS1JlbHMoKS5hZGQocmVsMik7CiAgICAg\nICAgcGMuZ2V0UEtSZWxzKCkuYWRkKHJlbDMpOwogICAgICAgIHBjLmdldFN0\ncmluZ1JlbHMoKS5hZGQocmVsMSk7CiAgICAgICAgcGMuZ2V0U3RyaW5nUmVs\ncygpLmFkZChyZWwyKTsKICAgICAgICBwYy5nZXRTdHJpbmdSZWxzKCkuYWRk\nKHJlbDMpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBlbSA9IChP\ncGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsK\nICAgICAgICBzdGFydFR4KGVtKTsKICAgICAgICBlbS5wZXJzaXN0QWxsKHBj\nLCByZWwxLCByZWwyLCByZWwzKTsKICAgICAgICBlbmRUeChlbSk7CiAgICAg\nICAgZW5kRW0oZW0pOwoKICAgICAgICBlbSA9IChPcGVuSlBBRW50aXR5TWFu\nYWdlcikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBwYyA9IGVt\nLmZpbmQoT3JkZXJCeUVudGl0eS5jbGFzcywgMUwpOwogICAgICAgIExpc3Q8\nU3RyaW5nPiBzdHJpbmdzID0gcGMuZ2V0U3RyaW5ncygpOwogICAgICAgIGFz\nc2VydEVxdWFscygiMSIsIHN0cmluZ3MuZ2V0KDApKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoIjIiLCBzdHJpbmdzLmdldCgxKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCIzIiwgc3RyaW5ncy5nZXQoMikpOwoKICAgICAgICBMaXN0PE9y\nZGVyQnlFbnRpdHk+IHBrUmVscyA9IHBjLmdldFBLUmVscygpOwogICAgICAg\nIGFzc2VydEVxdWFscygxMDFMLCBwa1JlbHMuZ2V0KDApLmdldElkKCkpOwog\nICAgICAgIGFzc2VydEVxdWFscygxMDJMLCBwa1JlbHMuZ2V0KDEpLmdldElk\nKCkpOwogICAgICAgIGFzc2VydEVxdWFscygxMDNMLCBwa1JlbHMuZ2V0KDIp\nLmdldElkKCkpOwoKICAgICAgICBMaXN0PE9yZGVyQnlFbnRpdHk+IHN0cmlu\nZ1JlbHMgPSBwYy5nZXRTdHJpbmdSZWxzKCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCIzIiwgc3RyaW5nUmVscy5nZXQoMCkuZ2V0U3RyaW5nKCkpOwogICAg\nICAgIGFzc2VydEVxdWFscygiMiIsIHN0cmluZ1JlbHMuZ2V0KDEpLmdldFN0\ncmluZygpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIjEiLCBzdHJpbmdSZWxz\nLmdldCgyKS5nZXRTdHJpbmcoKSk7CiAgICAgICAgZW5kRW0oZW0pOwogICAg\nfQp9Cg==\n","encoding":"base64"}

