{"sha":"5bad087a25cd38528f6f1e7d2f2124ad01449f2a","node_id":"MDQ6QmxvYjIwNjM2NDo1YmFkMDg3YTI1Y2QzODUyOGY2ZjFlN2QyZjIxMjRhZDAxNDQ5ZjJh","size":3923,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5bad087a25cd38528f6f1e7d2f2124ad01449f2a","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuYW5ub3Rh\ndGlvbnM7CgppbXBvcnQgamF2YS51dGlsLio7CgppbXBvcnQgamF2YXgucGVy\nc2lzdGVuY2UuKjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuYW5ub3RhdGlvbnMuY29tbW9uLmFwcHMuYW5ub3RBcHAuYW5ub3R5\ncGUuKjsKaW1wb3J0IGp1bml0LmZyYW1ld29yay4qOwoKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24udXRpbHMuKjsKCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVu\ndGl0eU1hbmFnZXI7CgovKioKICogVGVzdCBmb3IgbS1tCiAqCiAqIEBhdXRo\nb3IgU3RldmUgS2ltCiAqLwpwdWJsaWMgY2xhc3MgVGVzdE1hbnlUb01hbnkg\nZXh0ZW5kcyBBbm5vdGF0aW9uVGVzdENhc2UKewoJcHVibGljIFRlc3RNYW55\nVG9NYW55KFN0cmluZyBuYW1lKQoJewoJCXN1cGVyKG5hbWUsICJhbm5vdGF0\naW9uY2FjdHVzYXBwIik7Cgl9CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7\nCiAgICAgICAgZGVsZXRlQWxsKEFubm9UZXN0MS5jbGFzcyk7CiAgICAgICAg\nZGVsZXRlQWxsKEFubm9UZXN0Mi5jbGFzcyk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdE1hbnlUb01hbnkoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXIgZW0gPShPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVu\ndGl0eU1hbmFnZXIoKTsKICAgICAgICBzdGFydFR4KGVtKTsKICAgICAgICBs\nb25nIGxpZCA9IDQ7CiAgICAgICAgQW5ub1Rlc3QxIHBjID0gbmV3IEFubm9U\nZXN0MShsaWQpOwogICAgICAgIGVtLnBlcnNpc3QocGMpOwogICAgICAgIEFu\nbm9UZXN0MiBwYzI7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCAzOyBp\nKyspIHsKICAgICAgICAgICAgcGMyID0gbmV3IEFubm9UZXN0Mig1ICsgaSwg\nImZvbyIgKyBpKTsKICAgICAgICAgICAgcGMuZ2V0TWFueU1hbnkoKS5hZGQo\ncGMyKTsKICAgICAgICAgICAgZW0ucGVyc2lzdChwYzIpOwogICAgICAgIH0K\nICAgICAgICBlbmRUeChlbSk7CiAgICAgICAgZW5kRW0oZW0pOwoKICAgICAg\nICBlbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFu\nYWdlcigpOwogICAgICAgIHBjID0gZW0uZmluZChBbm5vVGVzdDEuY2xhc3Ms\nIG5ldyBMb25nKGxpZCkpOwogICAgICAgIFNldDxBbm5vVGVzdDI+IG1hbnkg\nPSBwYy5nZXRNYW55TWFueSgpOwogICAgICAgIGFzc2VydEVxdWFscygzLCBt\nYW55LnNpemUoKSk7CiAgICAgICAgZm9yIChBbm5vVGVzdDIgbWFueVBjMiA6\nIG1hbnkpIHsKICAgICAgICAgICAgc3dpdGNoICgoaW50KSBtYW55UGMyLmdl\ndFBrMSgpKSB7CiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAg\nICAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb28wIiwgbWFueVBjMi5nZXRQazIo\nKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAg\nICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJm\nb28xIiwgbWFueVBjMi5nZXRQazIoKSk7CiAgICAgICAgICAgICAgICAgICAg\nYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJmb28yIiwgbWFueVBjMi5nZXRQazIoKSk7\nCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBk\nZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGZhaWwoImJhZCBwazoiICsg\nbWFueVBjMi5nZXRQazEoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAg\nICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RJ\nbnZlcnNlT3duZXJNYW55VG9NYW55KCkgewogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIGVtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpIGN1cnJlbnRF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3RhcnRUeChlbSk7CiAgICAgICAg\nbG9uZyBsaWQgPSA0OwogICAgICAgIEFubm9UZXN0MSBwYyA9IG5ldyBBbm5v\nVGVzdDEobGlkKTsKICAgICAgICBlbS5wZXJzaXN0KHBjKTsKICAgICAgICBB\nbm5vVGVzdDIgcGMyOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMzsg\naSsrKSB7CiAgICAgICAgICAgIHBjMiA9IG5ldyBBbm5vVGVzdDIoNSArIGks\nICJmb28iICsgaSk7CiAgICAgICAgICAgIHBjMi5nZXRNYW55TWFueSgpLmFk\nZChwYyk7CiAgICAgICAgICAgIGVtLnBlcnNpc3QocGMyKTsKICAgICAgICB9\nCiAgICAgICAgZW5kVHgoZW0pOwogICAgICAgIGVuZEVtKGVtKTsKCiAgICAg\nICAgZW0gPShPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0eU1h\nbmFnZXIoKTsKICAgICAgICBwYyA9IGVtLmZpbmQoQW5ub1Rlc3QxLmNsYXNz\nLCBuZXcgTG9uZyhsaWQpKTsKICAgICAgICBTZXQ8QW5ub1Rlc3QyPiBtYW55\nID0gcGMuZ2V0SW52ZXJzZU93bmVyTWFueU1hbnkoKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoMywgbWFueS5zaXplKCkpOwogICAgICAgIGZvciAoQW5ub1Rl\nc3QyIG1hbnlQYzIgOiBtYW55KSB7CiAgICAgICAgICAgIGFzc2VydFRydWUo\nbWFueVBjMi5nZXRNYW55TWFueSgpLmNvbnRhaW5zKHBjKSk7CiAgICAgICAg\nICAgIHN3aXRjaCAoKGludCkgbWFueVBjMi5nZXRQazEoKSkgewogICAgICAg\nICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgIGFzc2VydEVx\ndWFscygiZm9vMCIsIG1hbnlQYzIuZ2V0UGsyKCkpOwogICAgICAgICAgICAg\nICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAg\nICAgICAgICAgICAgIGFzc2VydEVxdWFscygiZm9vMSIsIG1hbnlQYzIuZ2V0\nUGsyKCkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAg\nICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFs\ncygiZm9vMiIsIG1hbnlQYzIuZ2V0UGsyKCkpOwogICAgICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAg\nICAgICAgICAgICBmYWlsKCJiYWQgcGs6IiArIG1hbnlQYzIuZ2V0UGsxKCkp\nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVuZEVtKGVtKTsK\nICAgIH0KfQo=\n","encoding":"base64"}

