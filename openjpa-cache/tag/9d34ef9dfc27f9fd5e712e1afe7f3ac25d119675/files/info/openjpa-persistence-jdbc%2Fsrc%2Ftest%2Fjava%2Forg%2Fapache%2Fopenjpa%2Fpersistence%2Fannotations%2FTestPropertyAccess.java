{"sha":"e061cdca25f310a0cf013bb33a69138b7eedcefe","node_id":"MDQ6QmxvYjIwNjM2NDplMDYxY2RjYTI1ZjMxMGEwY2YwMTNiYjMzYTY5MTM4YjdlZWRjZWZl","size":4438,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e061cdca25f310a0cf013bb33a69138b7eedcefe","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuYW5ub3Rh\ndGlvbnM7CgoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLio7CgppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5hbm5vdGF0aW9ucy5jb21tb24uYXBwcy5hbm5vdEFwcC5hbm5vdHlwZS4q\nOwppbXBvcnQganVuaXQuZnJhbWV3b3JrLio7CgppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy4qOwoKCgpwdWJs\naWMgY2xhc3MgVGVzdFByb3BlcnR5QWNjZXNzIGV4dGVuZHMgQW5ub3RhdGlv\nblRlc3RDYXNlCnsKCXB1YmxpYyBUZXN0UHJvcGVydHlBY2Nlc3MoU3RyaW5n\nIG5hbWUpCgl7CgkJc3VwZXIobmFtZSwgImFubm90YXRpb25jYWN0dXNhcHAi\nKTsKCX0KCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBkZWxl\ndGVBbGwoUHJvcGVydHlBY2Nlc3MxLmNsYXNzKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0UHJvcGVydHlBY2Nlc3NCYXNpY0NyZWF0aW9uKCkgewog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gKE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0\nYXJ0VHgoZW0pOwogICAgICAgIFByb3BlcnR5QWNjZXNzMSBwYTFfMSA9IG5l\ndyBQcm9wZXJ0eUFjY2VzczEoMTApOwogICAgICAgIHBhMV8xLnNldE5hbWUo\nImZvbyIpOwogICAgICAgIGVtLnBlcnNpc3QocGExXzEpOwogICAgICAgIGVu\nZFR4KGVtKTsKCiAgICAgICAgLy8gZ2V0dGluZyBhIG5ldyBFTSBzaG91bGQg\nbm90IGJlIG5lY2Vzc2FyeSBvbmNlIHRoZSBleHRlbmRlZCBQQyBzdHVmZgog\nICAgICAgIC8vIGlzIGNvbXBsZXRlLgogICAgICAgIGVtID0gKE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwoKICAgICAg\nICBQcm9wZXJ0eUFjY2VzczEgcGExXzIgPSBlbS5maW5kKFByb3BlcnR5QWNj\nZXNzMS5jbGFzcywgMTApOwogICAgICAgIGFzc2VydE5vdFNhbWUocGExXzEs\nIHBhMV8yKTsKICAgICAgICBhc3NlcnROb3ROdWxsKHBhMV8yKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoMTAsIHBhMV8yLmdldElkKCkpOwogICAgICAgIGFz\nc2VydEVxdWFscygiZm9vIiwgcGExXzIuZ2V0TmFtZSgpKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0UHJvcGVydHlBY2Nlc3NCYXNpY011dGF0aW9u\nKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gKE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAg\nICAgIHN0YXJ0VHgoZW0pOwogICAgICAgIFByb3BlcnR5QWNjZXNzMSBwYTFf\nMSA9IG5ldyBQcm9wZXJ0eUFjY2VzczEoMTApOwogICAgICAgIHBhMV8xLnNl\ndE5hbWUoImZvbyIpOwogICAgICAgIGVtLnBlcnNpc3QocGExXzEpOwogICAg\nICAgIGVuZFR4KGVtKTsKCiAgICAgICAgLy8gZ2V0dGluZyBhIG5ldyBFTSBz\naG91bGQgbm90IGJlIG5lY2Vzc2FyeSBvbmNlIHRoZSBleHRlbmRlZCBQQyBz\ndHVmZgogICAgICAgIC8vIGlzIGNvbXBsZXRlLgogICAgICAgIGVtID0gKE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwoK\nICAgICAgICBzdGFydFR4KGVtKTsKICAgICAgICBQcm9wZXJ0eUFjY2VzczEg\ncGExXzIgPSBlbS5maW5kKFByb3BlcnR5QWNjZXNzMS5jbGFzcywgMTApOwog\nICAgICAgIHBhMV8yLnNldE5hbWUocGExXzIuZ2V0TmFtZSgpICsgImJhciIp\nOwogICAgICAgIGVuZFR4KGVtKTsKCiAgICAgICAgZW0gPSAoT3BlbkpQQUVu\ndGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nUHJvcGVydHlBY2Nlc3MxIHBhMV8zID0gZW0uZmluZChQcm9wZXJ0eUFjY2Vz\nczEuY2xhc3MsIDEwKTsKICAgICAgICBhc3NlcnROb3RTYW1lKHBhMV8yLCBw\nYTFfMyk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb29iYXIiLCBwYTFfMy5n\nZXROYW1lKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RKUFFMKCkg\newogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0oT3BlbkpQQUVu\ndGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBvIGZyb20gUHJvcGVydHlBY2Nlc3Mx\nIG8gd2hlcmUgIiArCiAgICAgICAgICAgICJvLm5hbWUgPSAnZm9vJyIpLmdl\ndFJlc3VsdExpc3QoKTsKICAgICAgICBlbS5jcmVhdGVRdWVyeSgic2VsZWN0\nIG8gZnJvbSBQcm9wZXJ0eUFjY2VzczEgbyBvcmRlciBieSAiICsKICAgICAg\nICAgICAgIm8ubmFtZSBhc2MiKS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAg\nZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RKUFFMV2l0\naEZpZWxkTmFtZU1pc21hdGNoKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIGVtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRp\ndHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBv\nIGZyb20gUHJvcGVydHlBY2Nlc3MxIG8gd2hlcmUgIiArCiAgICAgICAgICAg\nICJvLmludFZhbHVlID0gMCIpLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBl\nbS5jcmVhdGVRdWVyeSgic2VsZWN0IG8gZnJvbSBQcm9wZXJ0eUFjY2VzczEg\nbyBvcmRlciBieSAiICsKICAgICAgICAgICAgIm8uaW50VmFsdWUgYXNjIiku\nZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGVuZEVtKGVtKTsKICAgIH0KCiAg\nICAvKnB1YmxpYyB2b2lkIHRlc3RKRE9RTCgpIHsKICAgICAgICBQZXJzaXN0\nZW5jZU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAgIHBtLm5ld1F1ZXJ5\nKCJzZWxlY3QgZnJvbSBwZXJzaXN0ZW5jZS5hbm5vdGF0aW9ucy5jb21tb24u\nYXBwcy5hbm5vdEFwcC5hbm5vdHlwZS5Qcm9wZXJ0eUFjY2VzczEgIgogICAg\nICAgICAgICArICJ3aGVyZSBuYW1lID09ICdmb28nIikuZXhlY3V0ZSgpOwog\nICAgICAgIHBtLm5ld1F1ZXJ5KCJzZWxlY3QgZnJvbSBwZXJzaXN0ZW5jZS5h\nbm5vdGF0aW9ucy5jb21tb24uYXBwcy5hbm5vdEFwcC5hbm5vdHlwZS5Qcm9w\nZXJ0eUFjY2VzczEgIgogICAgICAgICAgICArICJvcmRlciBieSBuYW1lIGFz\nY2VuZGluZyIpLmV4ZWN1dGUoKTsKICAgICAgICBwbS5jbG9zZSgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RKRE9RTFdpdGhGaWVsZE5hbWVNaXNt\nYXRjaCgpIHsKICAgICAgICBQZXJzaXN0ZW5jZU1hbmFnZXIgcG0gPSBnZXRQ\nTSgpOwogICAgICAgIHBtLm5ld1F1ZXJ5KCJzZWxlY3QgZnJvbSBwZXJzaXN0\nZW5jZS5hbm5vdGF0aW9ucy5jb21tb24uYXBwcy5hbm5vdEFwcC5hbm5vdHlw\nZS5Qcm9wZXJ0eUFjY2VzczEgIgogICAgICAgICAgICArICJ3aGVyZSBpbnRW\nYWx1ZSA9PSAwIikuZXhlY3V0ZSgpOwogICAgICAgIHBtLm5ld1F1ZXJ5KCJz\nZWxlY3QgZnJvbSBwZXJzaXN0ZW5jZS5hbm5vdGF0aW9ucy5jb21tb24uYXBw\ncy5hbm5vdEFwcC5hbm5vdHlwZS5Qcm9wZXJ0eUFjY2VzczEgIgogICAgICAg\nICAgICArICJvcmRlciBieSBpbnRWYWx1ZSBhc2MiKS5leGVjdXRlKCk7CiAg\nICAgICAgcG0uY2xvc2UoKTsKICAgIH0qLwp9Cg==\n","encoding":"base64"}

