{"sha":"56ed85ff73428d677ff85387afa97db2bbe2b5e7","node_id":"MDQ6QmxvYjIwNjM2NDo1NmVkODVmZjczNDI4ZDY3N2ZmODUzODdhZmE5N2RiMmJiZTJiNWU3","size":6215,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/56ed85ff73428d677ff85387afa97db2bbe2b5e7","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuYW5ub3Rh\ndGlvbnM7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuKiA7CgppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi4qIDsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuKiA7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0cy4qIDsKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuYW5ub3RhdGlvbnMuY29tbW9uLmFw\ncHMuYW5ub3RBcHAuYW5ub3R5cGUuKiA7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRp\ndHlNYW5hZ2VyU1BJOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5jZTsKCi8qCiAgIFRlc3QgZm9yIG9w\ndC1sb2NrCgogICBAYXV0aG9yIFN0ZXZlIEtpbQogICovCnB1YmxpYyBjbGFz\ncyBUZXN0VmVyc2lvbiBleHRlbmRzIEFubm90YXRpb25UZXN0Q2FzZQp7Cglw\ncml2YXRlIE9iamVjdCBvaWQ7CgoJcHJpdmF0ZSBPYmplY3Qgb2lkMTsKCglw\ncml2YXRlIE9iamVjdCBvaWQyOwoKCXB1YmxpYyBUZXN0VmVyc2lvbihTdHJp\nbmcgbmFtZSkKCXsKCQlzdXBlcihuYW1lLCAiYW5ub3RhdGlvbmNhY3R1c2Fw\ncCIpOwoJfQoKCXB1YmxpYyB2b2lkIHNldFVwKCkKCXsKCQluZXcgQW5ub1Rl\nc3QxKCk7CgkJbmV3IEFubm9UZXN0MigpOwoJCW5ldyBBbm5vVGVzdDMoKTsK\nCgkJZGVsZXRlQWxsKEFubm9UZXN0MS5jbGFzcyk7CgkJZGVsZXRlQWxsKEFu\nbm9UZXN0Mi5jbGFzcyk7CgoJCU9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0g\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsKCQlzdGFydFR4KGVtKTsKCQlBbm5v\nVGVzdDEgdGVzdDEgPSBuZXcgQW5ub1Rlc3QxKCk7CgkJdGVzdDEuc2V0UGso\nbmV3IExvbmcoNSkpOwoJCXRlc3QxLnNldEJhc2ljKDUwKTsKCQl0ZXN0MS5z\nZXRUcmFuc2llbnQoNTAwKTsKCQllbS5wZXJzaXN0KHRlc3QxKTsKCgkJQW5u\nb1Rlc3QyIHRlc3QyID0gbmV3IEFubm9UZXN0MigpOwoJCXRlc3QyLnNldFBr\nMSg1KTsKCQl0ZXN0Mi5zZXRQazIoImJhciIpOwoJCXRlc3QyLnNldEJhc2lj\nKCI1MCIpOwoJCWVtLnBlcnNpc3QodGVzdDIpOwoKCQlBbm5vVGVzdDMgdGVz\ndDMgPSBuZXcgQW5ub1Rlc3QzKCk7CgkJdGVzdDMuc2V0UGsobmV3IExvbmco\nMykpOwoJCXRlc3QzLnNldEJhc2ljMig1MCk7CgkJZW0ucGVyc2lzdCh0ZXN0\nMyk7CgkJb2lkID0gZW0uZ2V0T2JqZWN0SWQodGVzdDEpOwoJCW9pZDEgPSBl\nbS5nZXRPYmplY3RJZCh0ZXN0Mik7CgkJb2lkMiA9IGVtLmdldE9iamVjdElk\nKHRlc3QzKTsKCgkJZW5kVHgoZW0pOwoJCWVuZEVtKGVtKTsKCX0KCi8qCiAq\nIEZpeCBNZSBhb2tla2UgLS0gVGVzdGNhc2VzIGNhdXNlcyBkZWFkbG9jayBk\ndXJpbmcgcnVudGltZSBDUjMwNzIxNiBpcyB1c2VkIHRvIHRyYWNrIHRoaXMg\naXNzdWUuCiAqLwogcHVibGljIHZvaWQgdGVzdFZlcnNpb25OdW1lcmljKCkK\nCXsKCQlPcGVuSlBBRW50aXR5TWFuYWdlciBlbTEgPSBjdXJyZW50RW50aXR5\nTWFuYWdlcigpOwoJCXN0YXJ0VHgoZW0xKTsKCQlFbnRpdHlNYW5hZ2VyIGVt\nMiA9IGdldEVtZigpLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKCgkJQW5ub1Rl\nc3QxIHBjMSA9IGVtMS5maW5kKEFubm9UZXN0MS5jbGFzcywgb2lkKTsKCQlB\nbm5vVGVzdDEgcGMyID0gZW0yLmZpbmQoQW5ub1Rlc3QxLmNsYXNzLCBvaWQp\nOwoJCWFzc2VydEVxdWFscygxLCBwYzEuZ2V0VmVyc2lvbigpKTsKCQlhc3Nl\ncnRFcXVhbHMoMSwgcGMyLmdldFZlcnNpb24oKSk7CgkJYXNzZXJ0RXF1YWxz\nKDAsIHBjMS5nZXRUcmFuc2llbnQoKSk7CgkJcGMxLnNldEJhc2ljKDc1KTsK\nCgkJZW5kVHgoZW0xKTsKCQllbmRFbShlbTEpOwoKCQllbTIuZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwoJCXBjMi5zZXRCYXNpYyg3NSk7CgkJZW0xID0g\nKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigp\nOwoJCXBjMSA9IGVtMS5maW5kKEFubm9UZXN0MS5jbGFzcywgb2lkKTsKCQlh\nc3NlcnRFcXVhbHMoMiwgcGMxLmdldFZlcnNpb24oKSk7CgkJZW5kRW0oZW0x\nKTsKCQl0cnkKCQl7CgkJCWVtMi5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgp\nOwoJCQlmYWlsKCJPcHRpbWlzdGljIGZhaWwiKTsKCQl9CgkJY2F0Y2ggKFJ1\nbnRpbWVFeGNlcHRpb24gcmUpCgkJe30KCQljYXRjaCAoRXhjZXB0aW9uIGUp\nCgkJe30KCQlmaW5hbGx5CgkJewoJCQllbTIuY2xvc2UoKTsKCQl9Cgl9CgoJ\ncHVibGljIHZvaWQgdGVzdFZlcnNpb25UaW1lc3RhbXAoKQoJewoJCU9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIGVtMSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nCgkJc3RhcnRUeChlbTEpOwoJCU9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtMiA9\nIGdldEVtZigpLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKCgkJQW5ub1Rlc3Qy\nIHBjMSA9IGVtMS5maW5kKEFubm9UZXN0Mi5jbGFzcywgb2lkMSk7CgkJQW5u\nb1Rlc3QyIHBjMiA9IGVtMi5maW5kKEFubm9UZXN0Mi5jbGFzcywgb2lkMSk7\nCgkJYXNzZXJ0Tm90TnVsbChwYzEuZ2V0VmVyc2lvbigpKTsKCQlhc3NlcnRF\ncXVhbHMocGMxLmdldFZlcnNpb24oKSwgcGMyLmdldFZlcnNpb24oKSk7CgkJ\ncGMxLnNldEJhc2ljKCI3NSIpOwoKCQllbmRUeChlbTEpOwoJCWVuZEVtKGVt\nMSk7CgoJCWVtMi5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CgkJcGMyLnNl\ndEJhc2ljKCI3NSIpOwoKCQllbTEgPSAoT3BlbkpQQUVudGl0eU1hbmFnZXIp\nIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgkJcGMxID0gZW0xLmZpbmQoQW5u\nb1Rlc3QyLmNsYXNzLCBvaWQxKTsKCQlhc3NlcnRUcnVlKHBjMS5nZXRWZXJz\naW9uKCkuY29tcGFyZVRvKHBjMi5nZXRWZXJzaW9uKCkpID4gMCk7CgkJZW5k\nRW0oZW0xKTsKCQl0cnkKCQl7CgkJCWVtMi5nZXRUcmFuc2FjdGlvbigpLmNv\nbW1pdCgpOwoJCQlmYWlsKCJPcHRpbWlzdGljIGZhaWwiKTsKCQl9CgkJY2F0\nY2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpCgkJe30KCQljYXRjaCAoRXhjZXB0\naW9uIGUpCgkJe30KCQlmaW5hbGx5CgkJewoJCQllbTIuY2xvc2UoKTsKCQl9\nCgl9CgoJcHVibGljIHZvaWQgdGVzdFZlcnNpb25TdWJjbGFzcygpCgl7CgkJ\nT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0xID0gY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsKCQlzdGFydFR4KGVtMSk7CgkJT3BlbkpQQUVudGl0eU1hbmFnZXIg\nZW0yID0gZ2V0RW1mKCkuY3JlYXRlRW50aXR5TWFuYWdlcigpOwoKCQlBbm5v\nVGVzdDMgcGMxID0gZW0xLmZpbmQoQW5ub1Rlc3QzLmNsYXNzLCBvaWQyKTsK\nCQlBbm5vVGVzdDMgcGMyID0gZW0yLmZpbmQoQW5ub1Rlc3QzLmNsYXNzLCBv\naWQyKTsKCQlhc3NlcnRFcXVhbHMoMSwgcGMxLmdldFZlcnNpb24oKSk7CgkJ\nYXNzZXJ0RXF1YWxzKDEsIHBjMi5nZXRWZXJzaW9uKCkpOwoJCXBjMS5zZXRC\nYXNpYzIoNzUpOwoKCQllbmRUeChlbTEpOwoJCWVuZEVtKGVtMSk7CgoKCQll\nbTIuZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwoJCXBjMi5zZXRCYXNpYzIo\nNzUpOwoKCgkJZW0xID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJyZW50\nRW50aXR5TWFuYWdlcigpOwoJCXBjMSA9IGVtMS5maW5kKEFubm9UZXN0My5j\nbGFzcywgb2lkMik7CgkJYXNzZXJ0RXF1YWxzKDIsIHBjMS5nZXRWZXJzaW9u\nKCkpOwoJCWVuZEVtKGVtMSk7CgkJdHJ5CgkJewoJCQllbTIuZ2V0VHJhbnNh\nY3Rpb24oKS5jb21taXQoKTsKCQkJZmFpbCgiT3B0aW1pc3RpYyBmYWlsIik7\nCgkJfQoJCWNhdGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKQoJCXt9CgkJY2F0\nY2ggKEV4Y2VwdGlvbiBlKQoJCXt9CgkJZmluYWxseQoJCXsKCQkJZW0yLmNs\nb3NlKCk7CgkJfQoJfQoKCXB1YmxpYyB2b2lkIHRlc3RWZXJzaW9uTm9DaGFu\nZ2UoKQoJewoJCU9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVu\ndGl0eU1hbmFnZXIoKTsKCQlzdGFydFR4KGVtKTsKCgkJQW5ub1Rlc3QxIHBj\nID0gZW0uZmluZChBbm5vVGVzdDEuY2xhc3MsIG9pZCk7CgkJYXNzZXJ0RXF1\nYWxzKDEsIHBjLmdldFZlcnNpb24oKSk7CgkJYXNzZXJ0RXF1YWxzKDAsIHBj\nLmdldFRyYW5zaWVudCgpKTsKCQlwYy5zZXRUcmFuc2llbnQoNzUwKTsKCQll\nbmRUeChlbSk7CgkJZW5kRW0oZW0pOwoKCQllbSA9IChPcGVuSlBBRW50aXR5\nTWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsKCQlwYyA9IGVtLmZp\nbmQoQW5ub1Rlc3QxLmNsYXNzLCBvaWQpOwoJCWFzc2VydEVxdWFscygxLCBw\nYy5nZXRWZXJzaW9uKCkpOwoJCWFzc2VydEVxdWFscygwLCBwYy5nZXRUcmFu\nc2llbnQoKSk7CgkJZW5kRW0oZW0pOwoJfQoKCSAgIHB1YmxpYyB2b2lkIHRl\nc3ROb0RlZmF1bHRWZXJzaW9uV2l0aG91dEZpZWxkT3JDb2x1bW4oKQoJICAg\newoJCQlPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IChPcGVuSlBBRW50aXR5\nTWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsKCQkgICBDbGFzc01h\ncHBpbmcgY2xzID0gICgoSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKSgoT3BlbkpQ\nQUVudGl0eU1hbmFnZXJTUEkpIE9wZW5KUEFQZXJzaXN0ZW5jZS5jYXN0KHBt\nKSkuZ2V0Q29uZmlndXJhdGlvbigpKS5nZXRNYXBwaW5nUmVwb3NpdG9yeUlu\nc3RhbmNlKCkuZ2V0TWFwcGluZyhFbWJlZE93bmVyLmNsYXNzLCBudWxsLCB0\ncnVlKTsKCQkgICBhc3NlcnRFcXVhbHMoTm9uZVZlcnNpb25TdHJhdGVneS5n\nZXRJbnN0YW5jZSgpLAoJCQkJICAgY2xzLmdldFZlcnNpb24oKS5nZXRTdHJh\ndGVneSgpKTsgYXNzZXJ0RXF1YWxzKDAsCgkJCQkJCSAgIGNscy5nZXRWZXJz\naW9uKCkuZ2V0Q29sdW1ucygpLmxlbmd0aCk7CgkJCWVuZEVtKHBtKTsKCSAg\nIH0KCgkgICBwdWJsaWMgdm9pZCB0ZXN0VmVyc2lvbldpdGhGaWVsZCgpCgkg\nICB7CgkJICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSAoT3BlbkpQQUVu\ndGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgkJICAgQ2xh\nc3NNYXBwaW5nIGNscyA9ICgoSkRCQ0NvbmZpZ3VyYXRpb25JbXBsKSgoT3Bl\nbkpQQUVudGl0eU1hbmFnZXJTUEkpIE9wZW5KUEFQZXJzaXN0ZW5jZS5jYXN0\nKHBtKSkuZ2V0Q29uZmlndXJhdGlvbigpKS5nZXRNYXBwaW5nUmVwb3NpdG9y\neUluc3RhbmNlKCkuZ2V0TWFwcGluZyhBbm5vVGVzdDEuY2xhc3MsIG51bGws\nIHRydWUpOwoJCSAgIGFzc2VydFRydWUoTm9uZVZlcnNpb25TdHJhdGVneS5n\nZXRJbnN0YW5jZSgpICE9CgkJCSAgIGNscy5nZXRWZXJzaW9uKCkuZ2V0U3Ry\nYXRlZ3koKSk7IGFzc2VydEVxdWFscygxLAoJCQkJCSAgIGNscy5nZXRWZXJz\naW9uKCkuZ2V0Q29sdW1ucygpLmxlbmd0aCk7CgkJCWVuZEVtKHBtKTsKCSAg\nIH0KfQo=\n","encoding":"base64"}

