{"sha":"8ef6311a2dee019b77e31557b0f3135c63af960a","node_id":"MDQ6QmxvYjIwNjM2NDo4ZWY2MzExYTJkZWUwMTliNzdlMzE1NTdiMGYzMTM1YzYzYWY5NjBh","size":4171,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8ef6311a2dee019b77e31557b0f3135c63af960a","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuYW5ub3Rh\ndGlvbnMuY29tbW9uLmFwcHMuYW5ub3RBcHAuYW5ub3R5cGU7CgppbXBvcnQg\namF2YS51dGlsLio7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuKjsKCkBF\nbnRpdHkKQFRhYmxlKG5hbWUgPSAiQU5OT1RFU1QyIikKQEluaGVyaXRhbmNl\nKHN0cmF0ZWd5ID0gSW5oZXJpdGFuY2VUeXBlLlNJTkdMRV9UQUJMRSkKQERp\nc2NyaW1pbmF0b3JDb2x1bW4obmFtZSA9ICJBTk5PQ0xTIikKQERpc2NyaW1p\nbmF0b3JWYWx1ZSgiQU5OTzIiKQpASWRDbGFzcyhBbm5vVGVzdDIuT2lkLmNs\nYXNzKQpwdWJsaWMgY2xhc3MgQW5ub1Rlc3QyIHsKCiAgICBASWQKICAgIEBD\nb2x1bW4obmFtZSA9ICJQSzEiKQogICAgcHJvdGVjdGVkIGxvbmcgcGsxOwoK\nICAgIEBJZAogICAgQENvbHVtbihuYW1lID0gIlBLMiIpCiAgICBwcm90ZWN0\nZWQgU3RyaW5nIHBrMjsKCiAgICBAVmVyc2lvbgogICAgQENvbHVtbihuYW1l\nID0gIkFOTk9WRVIiKQogICAgcHJvdGVjdGVkIERhdGUgdmVyc2lvbjsKCiAg\nICBAQmFzaWMKICAgIHByb3RlY3RlZCBTdHJpbmcgYmFzaWM7CgogICAgQE9u\nZVRvT25lKGZldGNoID0gRmV0Y2hUeXBlLkxBWlkpCiAgICBASm9pbkNvbHVt\nbihuYW1lID0gIklOVkVSU0VPTkVPTkVfUEsiLCByZWZlcmVuY2VkQ29sdW1u\nTmFtZSA9ICJQSyIpCiAgICBwcm90ZWN0ZWQgQW5ub1Rlc3QxIGludmVyc2VP\nbmVPbmU7CgogICAgQE1hbnlUb09uZShmZXRjaCA9IEZldGNoVHlwZS5MQVpZ\nKQogICAgQEpvaW5Db2x1bW4obmFtZSA9ICJNQU5ZT05FT05FX1BLIiwgcmVm\nZXJlbmNlZENvbHVtbk5hbWUgPSAiUEsiKQogICAgcHJvdGVjdGVkIEFubm9U\nZXN0MSBvbmVNYW55T3duZXI7CgogICAgQE1hbnlUb01hbnkKICAgIEBKb2lu\nVGFibGUobmFtZSA9ICJBTk5PVEVTVDJfTUFOWU1BTlkiLAogICAgICAgIGpv\naW5Db2x1bW5zID0gewogICAgICAgIEBKb2luQ29sdW1uKG5hbWUgPSAiTUFO\nWV9QSzEiLCByZWZlcmVuY2VkQ29sdW1uTmFtZSA9ICJQSzEiKSwKICAgICAg\nICBASm9pbkNvbHVtbihuYW1lID0gIk1BTllfUEsyIiwgcmVmZXJlbmNlZENv\nbHVtbk5hbWUgPSAiUEsyIikgfSwKICAgICAgICBpbnZlcnNlSm9pbkNvbHVt\nbnMgPQogICAgICAgIEBKb2luQ29sdW1uKG5hbWUgPSAiTUFOWUVfUEsiLCBy\nZWZlcmVuY2VkQ29sdW1uTmFtZSA9ICJQSyIpKQogICAgcHJvdGVjdGVkIFNl\ndDxBbm5vVGVzdDE+IG1hbnlNYW55ID0gbmV3IEhhc2hTZXQoKTsKCiAgICBw\ndWJsaWMgQW5ub1Rlc3QyKCkgewogICAgfQoKICAgIHB1YmxpYyBBbm5vVGVz\ndDIobG9uZyBwazEsIFN0cmluZyBwazIpIHsKICAgICAgICB0aGlzLnBrMSA9\nIHBrMTsKICAgICAgICB0aGlzLnBrMiA9IHBrMjsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRQazEobG9uZyB2YWwpIHsKICAgICAgICBwazEgPSB2YWw7\nCiAgICB9CgogICAgcHVibGljIGxvbmcgZ2V0UGsxKCkgewogICAgICAgIHJl\ndHVybiBwazE7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UGsyKFN0cmlu\nZyBzdHIpIHsKICAgICAgICBwazIgPSBzdHI7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRQazIoKSB7CiAgICAgICAgcmV0dXJuIHBrMjsKICAgIH0K\nCiAgICBwdWJsaWMgRGF0ZSBnZXRWZXJzaW9uKCkgewogICAgICAgIHJldHVy\nbiB2ZXJzaW9uOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEJhc2ljKFN0\ncmluZyBzKSB7CiAgICAgICAgYmFzaWMgPSBzOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0QmFzaWMoKSB7CiAgICAgICAgcmV0dXJuIGJhc2ljOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEludmVyc2VPbmVPbmUoQW5ub1Rl\nc3QxIG90aGVyKSB7CiAgICAgICAgaW52ZXJzZU9uZU9uZSA9IG90aGVyOwog\nICAgfQoKICAgIHB1YmxpYyBBbm5vVGVzdDEgZ2V0SW52ZXJzZU9uZU9uZSgp\nIHsKICAgICAgICByZXR1cm4gaW52ZXJzZU9uZU9uZTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRPbmVNYW55T3duZXIoQW5ub1Rlc3QxIG90aGVyKSB7\nCiAgICAgICAgb25lTWFueU93bmVyID0gb3RoZXI7CiAgICB9CgogICAgcHVi\nbGljIEFubm9UZXN0MSBnZXRPbmVNYW55T3duZXIoKSB7CiAgICAgICAgcmV0\ndXJuIG9uZU1hbnlPd25lcjsKICAgIH0KCiAgICBwdWJsaWMgU2V0IGdldE1h\nbnlNYW55KCkgewogICAgICAgIHJldHVybiBtYW55TWFueTsKICAgIH0KCiAg\nICBwdWJsaWMgc3RhdGljIGNsYXNzIE9pZCB7CgogICAgICAgIHB1YmxpYyBs\nb25nIHBrMTsKICAgICAgICBwdWJsaWMgU3RyaW5nIHBrMjsKCiAgICAgICAg\ncHVibGljIE9pZCgpIHsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBPaWQo\nbG9uZyBwazEsIFN0cmluZyBwazIpIHsKICAgICAgICAgICAgdGhpcy5wazEg\nPSBwazE7CiAgICAgICAgICAgIHRoaXMucGsyID0gcGsyOwogICAgICAgIH0K\nCiAgICAgICAgcHVibGljIE9pZChTdHJpbmcgc3RyKSB7CiAgICAgICAgICAg\nIGlmIChzdHIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgaW50IGluZGV4\nID0gc3RyLmluZGV4T2YoIiwiKTsKICAgICAgICAgICAgICAgIHBrMSA9IExv\nbmcucGFyc2VMb25nKHN0ci5zdWJzdHJpbmcoMCwgaW5kZXgpKTsKICAgICAg\nICAgICAgICAgIHBrMiA9IHN0ci5zdWJzdHJpbmcoaW5kZXggKyAxKTsKICAg\nICAgICAgICAgICAgIGlmICgibnVsbCIuZXF1YWxzKHBrMikpCiAgICAgICAg\nICAgICAgICAgICAgcGsyID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAg\nIH0KCiAgICAgICAgcHVibGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvKSB7\nCiAgICAgICAgICAgIGlmIChvID09IHRoaXMpCiAgICAgICAgICAgICAgICBy\nZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIE9p\nZCkpCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAg\nIE9pZCBvdGhlciA9IChPaWQpIG87CiAgICAgICAgICAgIGlmIChwazEgIT0g\nb3RoZXIucGsxKQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAg\nICAgICAgICBpZiAocGsyID09IG51bGwpCiAgICAgICAgICAgICAgICByZXR1\ncm4gb3RoZXIucGsyID09IG51bGw7CiAgICAgICAgICAgIHJldHVybiBwazIu\nZXF1YWxzKG90aGVyLnBrMik7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMg\naW50IGhhc2hDb2RlKCkgewogICAgICAgICAgICByZXR1cm4gKChpbnQpIHBr\nMSkgKyAocGsyID09IG51bGwgPyAwIDogcGsyLmhhc2hDb2RlKCkpOwogICAg\nICAgIH0KCiAgICAgICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAg\nICAgICAgICAgcmV0dXJuIHBrMSArICIsIiArIChwazIgPT0gbnVsbCA/ICJu\ndWxsIiA6IHBrMik7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

