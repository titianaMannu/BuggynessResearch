{"sha":"f4bf2ad002feb4ddd212f04580e49ca6d5991d9b","node_id":"MDQ6QmxvYjIwNjM2NDpmNGJmMmFkMDAyZmViNGRkZDIxMmYwNDU4MGU0OWNhNmQ1OTkxZDli","size":3618,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f4bf2ad002feb4ddd212f04580e49ca6d5991d9b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNh\nY2hlOwoKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nZGF0YWNhY2hlLmNvbW1vbi5hcHBzLkNhY2hlT2JqZWN0QTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kYXRhY2FjaGUuY29tbW9u\nLmFwcHMuQ2FjaGVPYmplY3RCOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5BYnN0cmFjdFRlc3RDYXNlOwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuQnJva2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5RdWVyeTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuanBxbC5KUFFMUGFyc2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLkpQQUZhY2FkZUhl\nbHBlcjsKCi8qKgogKiBUZXN0IHNvbWUgYXNzdW1wdGlvbnMgYWJvdXQgcXVl\ncnkgcmVzdWx0IG1ldGFkYXRhIHRoYXQgdGhlIHF1ZXJ5CiAqIGNhY2hlIHJl\nbGllcyBvbi4KICovCnB1YmxpYyBjbGFzcyBUZXN0UXVlcnlSZXN1bHRUeXBl\ncyBleHRlbmRzIEFic3RyYWN0VGVzdENhc2UgewoKICAgIHB1YmxpYyBUZXN0\nUXVlcnlSZXN1bHRUeXBlcyhTdHJpbmcgdGVzdCkgewogICAgICAgIHN1cGVy\nKHRlc3QsICJkYXRhY2FjaGVjYWN0dXNhcHAiKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0UXVlcnlSZXN1bHRUeXBlc1dpdGhUaGlzKCkgewogICAg\nICAgIEJyb2tlciBicm9rZXIgPSBnZXRCcm9rZXIoKTsKICAgICAgICBRdWVy\neSBxID0KICAgICAgICAgICAgYnJva2VyLm5ld1F1ZXJ5KEpQUUxQYXJzZXIu\nTEFOR19KUFFMLCAic2VsZWN0IGEubmFtZSxhIEZST00gIiArCiAgICAgICAg\nICAgICAgICBDYWNoZU9iamVjdEEuY2xhc3MuZ2V0U2ltcGxlTmFtZSgpICsg\nIiBhIik7CgogICAgICAgIENsYXNzW10gdHlwZXMgPSBxLmdldFByb2plY3Rp\nb25UeXBlcygpOwogICAgICAgIGFzc2VydEVxdWFscygyLCB0eXBlcy5sZW5n\ndGgpOwogICAgICAgIGFzc2VydEVxdWFscyhTdHJpbmcuY2xhc3MsIHR5cGVz\nWzBdKTsKICAgICAgICBhc3NlcnRFcXVhbHMoQ2FjaGVPYmplY3RBLmNsYXNz\nLCB0eXBlc1sxXSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFF1ZXJ5\nUmVzdWx0VHlwZXNXaXRoUmVsYXRlZCgpIHsKICAgICAgICBCcm9rZXIgYnJv\na2VyID0gZ2V0QnJva2VyKCk7CiAgICAgICAgUXVlcnkgcSA9IGJyb2tlcgog\nICAgICAgICAgICAubmV3UXVlcnkoSlBRTFBhcnNlci5MQU5HX0pQUUwsICJz\nZWxlY3QgYS5uYW1lLGEucmVsYXRlZEIgRlJPTSAiICsKICAgICAgICAgICAg\nICAgIENhY2hlT2JqZWN0QS5jbGFzcy5nZXRTaW1wbGVOYW1lKCkgKyAiIGEi\nKTsKCiAgICAgICAgLy9DYWNoZU9iamVjdEEuY2xhc3MsICAgICAgICAgICAi\nc2VsZWN0IG5hbWUsIHJlbGF0ZWRCIik7CiAgICAgICAgQ2xhc3NbXSB0eXBl\ncyA9IHEuZ2V0UHJvamVjdGlvblR5cGVzKCk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDIsIHR5cGVzLmxlbmd0aCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKFN0\ncmluZy5jbGFzcywgdHlwZXNbMF0pOwogICAgICAgIGFzc2VydEVxdWFscyhD\nYWNoZU9iamVjdEIuY2xhc3MsIHR5cGVzWzFdKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0U2luZ2xlUHJvamVjdGlvbk9mTm9uVGhpc1JlbGF0aW9u\nKCkgewogICAgICAgIEJyb2tlciBicm9rZXIgPSBnZXRCcm9rZXIoKTsKICAg\nICAgICBRdWVyeSBxID0KICAgICAgICAgICAgYnJva2VyLm5ld1F1ZXJ5KEpQ\nUUxQYXJzZXIuTEFOR19KUFFMLCAic2VsZWN0IGEucmVsYXRlZEIgRlJPTSAi\nICsKICAgICAgICAgICAgICAgIENhY2hlT2JqZWN0QS5jbGFzcy5nZXRTaW1w\nbGVOYW1lKCkgKyAiIGEiKTsKCiAgICAgICAgQ2xhc3NbXSB0eXBlcyA9IHEu\nZ2V0UHJvamVjdGlvblR5cGVzKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\nIHR5cGVzLmxlbmd0aCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKENhY2hlT2Jq\nZWN0Qi5jbGFzcywgdHlwZXNbMF0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RTaW5nbGVQcm9qZWN0aW9uT2ZUaGlzUmVsYXRpb24oKSB7CiAgICAg\nICAgQnJva2VyIGJyb2tlciA9IGdldEJyb2tlcigpOwogICAgICAgIFF1ZXJ5\nIHEgPSBicm9rZXIubmV3UXVlcnkoSlBRTFBhcnNlci5MQU5HX0pQUUwsICJz\nZWxlY3QgYSBGUk9NICIgKwogICAgICAgICAgICBDYWNoZU9iamVjdEEuY2xh\nc3MuZ2V0U2ltcGxlTmFtZSgpICsgIiBhIik7CiAgICAgICAgQ2xhc3NbXSB0\neXBlcyA9IHEuZ2V0UHJvamVjdGlvblR5cGVzKCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDAsIHR5cGVzLmxlbmd0aCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdE5vUmVzdWx0Q2xhdXNlKCkgewogICAgICAgIEJyb2tlciBicm9r\nZXIgPSBnZXRCcm9rZXIoKTsKICAgICAgICBRdWVyeSBxID0KICAgICAgICAg\nICAgYnJva2VyLm5ld1F1ZXJ5KEpQUUxQYXJzZXIuTEFOR19KUFFMLCAic2Vs\nZWN0IGEgRlJPTSAiICsKICAgICAgICAgICAgICAgIENhY2hlT2JqZWN0QS5j\nbGFzcy5nZXRTaW1wbGVOYW1lKCkgKyAiIGEiKTsKICAgICAgICBDbGFzc1td\nIHR5cGVzID0gcS5nZXRQcm9qZWN0aW9uVHlwZXMoKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoMCwgdHlwZXMubGVuZ3RoKTsKICAgIH0KCiAgICBwcml2YXRl\nIEJyb2tlciBnZXRCcm9rZXIoKSB7CiAgICAgICAgcmV0dXJuIEpQQUZhY2Fk\nZUhlbHBlcgogICAgICAgICAgICAudG9Ccm9rZXIoY3VycmVudEVudGl0eU1h\nbmFnZXIoKSk7CiAgICB9Cn0K\n","encoding":"base64"}

