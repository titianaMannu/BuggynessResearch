{"sha":"9de2231c8b763eddec9fc3f63dc182c3c3798131","node_id":"MDQ6QmxvYjIwNjM2NDo5ZGUyMjMxYzhiNzYzZWRkZWM5ZmMzZjYzZGMxODJjM2MzNzk4MTMx","size":3686,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9de2231c8b763eddec9fc3f63dc182c3c3798131","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZXRhY2htZW50\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5lbmhhbmNlLlBlcnNpc3Rl\nbmNlQ2FwYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlclNQSTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5kZXRhY2htZW50Lm1vZGVsLk5vRGV0\nYWNoZWRTdGF0ZUVudGl0eUZpZWxkQWNjZXNzOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmRldGFjaG1lbnQubW9kZWwuTm9EZXRh\nY2hlZFN0YXRlRW50aXR5UHJvcGVydHlBY2Nlc3M7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2Fz\nZTsKCnB1YmxpYyBjbGFzcyBUZXN0RGV0YWNoTm9TdGF0ZUZpZWxkIGV4dGVu\nZHMgU2luZ2xlRU1GVGVzdENhc2UgewoKICAgIEBPdmVycmlkZQogICAgcHJv\ndGVjdGVkIHZvaWQgc2V0VXAoT2JqZWN0Li4uIHByb3BzKSB7CiAgICAgICAg\nc3VwZXIuc2V0VXAoQ0xFQVJfVEFCTEVTLCAib3BlbmpwYS5EZXRhY2hTdGF0\nZSIsICJsb2FkZWQoRGV0YWNoZWRTdGF0ZUZpZWxkPWZhbHNlKSIsCiAgICAg\nICAgICAgIE5vRGV0YWNoZWRTdGF0ZUVudGl0eVByb3BlcnR5QWNjZXNzLmNs\nYXNzLCBOb0RldGFjaGVkU3RhdGVFbnRpdHlGaWVsZEFjY2Vzcy5jbGFzcyk7\nCiAgICAgICAgbG9hZERCKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlz\nIHRlc3RjYXNlIHdhcyBhZGRlZCBmb3IgT1BFTkpQQS0xNDAwLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0SXNEZXRjaGVkTm9TdGF0ZU1hbmFnZXJa\nZXJvVmVyc2lvbkZpZWxkKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyU1BJIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICBOb0RldGFjaGVkU3RhdGVFbnRpdHlQcm9wZXJ0eUFjY2VzcyBwcm9wZXJ0\neSA9IGVtLmZpbmQoTm9EZXRhY2hlZFN0YXRlRW50aXR5UHJvcGVydHlBY2Nl\nc3MuY2xhc3MsIDEpOwogICAgICAgIE5vRGV0YWNoZWRTdGF0ZUVudGl0eUZp\nZWxkQWNjZXNzIGZpZWxkID0gZW0uZmluZChOb0RldGFjaGVkU3RhdGVFbnRp\ndHlGaWVsZEFjY2Vzcy5jbGFzcywgMSk7CiAgICAgICAgZW0uY2xvc2UoKTsK\nCiAgICAgICAgUGVyc2lzdGVuY2VDYXBhYmxlIHBjUHJvcGVydHkgPSAoUGVy\nc2lzdGVuY2VDYXBhYmxlKSBwcm9wZXJ0eTsKICAgICAgICBQZXJzaXN0ZW5j\nZUNhcGFibGUgcGNGaWVsZCA9IChQZXJzaXN0ZW5jZUNhcGFibGUpIGZpZWxk\nOwoKICAgICAgICBhc3NlcnRUcnVlKHBjUHJvcGVydHkucGNJc0RldGFjaGVk\nKCkpOwogICAgICAgIGFzc2VydFRydWUocGNGaWVsZC5wY0lzRGV0YWNoZWQo\nKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIHRlc3RjYXNlIHdhcyBh\nZGRlZCBmb3IgT1BFTkpQQS0xNDAwLgogICAgICovCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0UGVyc2lzdFJlbGF0aW9uc2hpcFRvRGV0Y2hlZEVudGl0eVplcm9W\nZXJzaW9uKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyU1BJIGVt\nID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBOb0RldGFj\naGVkU3RhdGVFbnRpdHlQcm9wZXJ0eUFjY2VzcyBwcm9wZXJ0eSA9IGVtLmZp\nbmQoTm9EZXRhY2hlZFN0YXRlRW50aXR5UHJvcGVydHlBY2Nlc3MuY2xhc3Ms\nIDEpOwogICAgICAgIGVtLmNsb3NlKCk7CgogICAgICAgIC8vIE1ha2Ugc3Vy\nZSB3ZSBkb24ndCBoaXQgYW55IGV4Y2VwdGlvbnMgd2hlbiBwZXJzaXN0aW5n\nIGEgcmVsYXRpb25zaGlwIHRvIGEgZGV0YWNoZWQKICAgICAgICAvLyBlbnRp\ndHkuCiAgICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBO\nb0RldGFjaGVkU3RhdGVFbnRpdHlGaWVsZEFjY2VzcyBmaWVsZCA9IGVtLmZp\nbmQoTm9EZXRhY2hlZFN0YXRlRW50aXR5RmllbGRBY2Nlc3MuY2xhc3MsIDEp\nOwogICAgICAgIGZpZWxkLnNldFJlbGF0aW9uc2hpcChwcm9wZXJ0eSk7CiAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBl\nbS5jbG9zZSgpOwoKICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgcmVs\nYXRpb25zaGlwIHdhcyBwZXJzaXN0ZWQKICAgICAgICBlbSA9IGVtZi5jcmVh\ndGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZmllbGQgPSBlbS5maW5kKE5v\nRGV0YWNoZWRTdGF0ZUVudGl0eUZpZWxkQWNjZXNzLmNsYXNzLCAxKTsKICAg\nICAgICBwcm9wZXJ0eSA9IGZpZWxkLmdldFJlbGF0aW9uc2hpcCgpOwogICAg\nICAgIGFzc2VydE5vdE51bGwocHJvcGVydHkpOwogICAgICAgIGFzc2VydEVx\ndWFscygxLCBwcm9wZXJ0eS5nZXRJZCgpKTsKCiAgICB9CgogICAgdm9pZCBs\nb2FkREIoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkgZW0g\nPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBlbS5jcmVhdGVOYXRpdmVR\ndWVyeSgiSU5TRVJUIElOVE8gTm9EZXRhY2hlZFN0YXRlRW50aXR5UHJvcGVy\ndHlBY2Nlc3MgKElELFZFUlNJT04pIFZBTFVFUyAoMSwwKSIpCiAgICAgICAg\nICAgIC5leGVjdXRlVXBkYXRlKCk7CiAgICAgICAgZW0uY3JlYXRlTmF0aXZl\nUXVlcnkoIklOU0VSVCBJTlRPIE5vRGV0YWNoZWRTdGF0ZUVudGl0eUZpZWxk\nQWNjZXNzIChJRCxWRVJTSU9OKSBWQUxVRVMgKDEsMCkiKQogICAgICAgICAg\nICAuZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KfQo=\n","encoding":"base64"}

