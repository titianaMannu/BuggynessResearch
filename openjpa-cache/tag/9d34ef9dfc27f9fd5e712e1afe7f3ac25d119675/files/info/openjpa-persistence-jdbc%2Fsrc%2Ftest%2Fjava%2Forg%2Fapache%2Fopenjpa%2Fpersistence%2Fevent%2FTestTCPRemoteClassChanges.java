{"sha":"8445541d43cac8c1f8dc76d6edcbc51898f26860","node_id":"MDQ6QmxvYjIwNjM2NDo4NDQ1NTQxZDQzY2FjOGMxZjhkYzc2ZDZlZGNiYzUxODk4ZjI2ODYw","size":9978,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8445541d43cac8c1f8dc76d6edcbc51898f26860","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZXZlbnQ7\nCgppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CmltcG9ydCBqYXZhLnV0\naWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwoKCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZXZlbnQuY29tbW9uLmFwcHMuRHVy\nYXRpb247CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nZXZlbnQuY29tbW9uLmFwcHMuUnVudGltZVRlc3QxOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5BYnN0cmFj\ndFRlc3RDYXNlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5S\nZW1vdGVDb21taXRFdmVudDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5l\ndmVudC5SZW1vdGVDb21taXRMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5ldmVudC5UQ1BSZW1vdGVDb21taXRQcm92aWRlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uczsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnk7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1h\nbmFnZXJGYWN0b3J5U1BJOwoKcHVibGljIGNsYXNzIFRlc3RUQ1BSZW1vdGVD\nbGFzc0NoYW5nZXMKICAgIGV4dGVuZHMgQWJzdHJhY3RUZXN0Q2FzZSB7Cgog\nICAgcHVibGljIFRlc3RUQ1BSZW1vdGVDbGFzc0NoYW5nZXMoU3RyaW5nIHMp\nIHsKICAgICAgICBzdXBlcihzLCAiZXZlbnRjYWN0dXNhcHAiKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBkZWxldGVBbGwo\nUnVudGltZVRlc3QxLmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZWFyRG93blRlc3RDbGFzcygpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgLy9zdXBlci50ZWFyRG93blRlc3RDbGFzcygpOwogICAgfQoK\nICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGludCBOVU1fT0JKRUNUUyA9IDQ7\nCgogICAgcHJpdmF0ZSB2b2lkIHBhdXNlKGRvdWJsZSBzZWNvbmRzKSB7CiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgVGhyZWFkLmN1cnJlbnRUaHJlYWQo\nKS55aWVsZCgpOwogICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgp\nLnNsZWVwKChpbnQpIHNlY29uZHMgKiAxMDAwKTsKICAgICAgICB9IGNhdGNo\nIChFeGNlcHRpb24gZSkgewogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0QWRkZWRDbGFzc2VzKCkgewogICAgICAgIC8vIENyZWF0ZSB0\nd28gcG1mcyBpbiBhIGNsdXN0ZXIgdGhhdCBhcmUgdXNpbmcgUkNQVENQLgog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBwbWZTZW5kZXIg\nPSBjcmVhdGVEaXN0aW5jdEZhY3RvcnkoCiAgICAgICAgICAgIFRDUFJlbW90\nZUNvbW1pdFByb3ZpZGVyLmNsYXNzLAogICAgICAgICAgICAiUG9ydD01NjM2\nLCBBZGRyZXNzZXM9MTI3LjAuMC4xOjU2MzY7MTI3LjAuMC4xOjY2MzYiKTsK\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgcG1mUmVjZWl2\nZXIgPSBjcmVhdGVEaXN0aW5jdEZhY3RvcnkoCiAgICAgICAgICAgIFRDUFJl\nbW90ZUNvbW1pdFByb3ZpZGVyLmNsYXNzLAogICAgICAgICAgICAiUG9ydD02\nNjM2LCBBZGRyZXNzZXM9MTI3LjAuMC4xOjY2MzY7MTI3LjAuMC4xOjU2MzYi\nKTsKCiAgICAgICAgLy8gUmVnaXN0ZXIgYSBSQ0VMaXN0ZW5lciB3aXRoIHRo\nZSBSQ0VNLiBPdXIgUkNFTGlzdGVuZXIgd2lsbAogICAgICAgIC8vIHJlY29y\nZCB0aGUgdG90YWwgbnVtYmVyIG9mIGEsZCwgYW5kIHUgcmVjZXZpZWQgZnJv\nbSBlYWNoCiAgICAgICAgLy8gUkNFIGFzIHRoZSBzZW5kaW5nIFBNIHBlcmZv\ncm1zIGNvbW1pdHMuCiAgICAgICAgUmVtb3RlQ29tbWl0TGlzdGVuZXJUZXN0\nSW1wbCBsaXN0ZW5lckF0UmVjZWl2ZXIKICAgICAgICAgICAgPSBuZXcgUmVt\nb3RlQ29tbWl0TGlzdGVuZXJUZXN0SW1wbCgpOwogICAgICAgICgoT3BlbkpQ\nQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKSBwbWZSZWNlaXZlcikuZ2V0Q29u\nZmlndXJhdGlvbigpCiAgICAgICAgICAgIC5nZXRSZW1vdGVDb21taXRFdmVu\ndE1hbmFnZXIoKS4KICAgICAgICAgICAgYWRkTGlzdGVuZXIobGlzdGVuZXJB\ndFJlY2VpdmVyKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG1T\nZW5kZXIgPSAoT3BlbkpQQUVudGl0eU1hbmFnZXIpCiAgICAgICAgICAgIHBt\nZlNlbmRlci5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIFN5c3Rl\nbS5vdXQucHJpbnRsbigiLS0tLS0tLS0tLS0tLS0tLS0tLSIpOwogICAgICAg\nIFN5c3RlbS5vdXQucHJpbnRsbigKICAgICAgICAgICAgIjIgUE1GcyBjcmVh\ndGVkLCBhY3RpbmcgYXMgYSBjbHVzdGVyIHVzaW5nIHBvcnRzIDU2MzYgYW5k\nIDY2MzYiKTsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oCiAgICAgICAg\nICAgICJUZXN0aW5nIHNjZW5hcmlvOiIpOwogICAgICAgIFN5c3RlbS5vdXQu\ncHJpbnRsbigKICAgICAgICAgICAgIiAgLSB0eCBvZiBpbnNlcnRzIChub3Jt\nYWwgdHJhbnMpXG4iICsKICAgICAgICAgICAgICAgICIgIC0gdHggb2YgaW5z\nZXJ0cyAobGFyZ2UgdHJhbnMpXG4iICsKICAgICAgICAgICAgICAgICIgIC0g\ndHggb2YgaW5zZXJ0cyx1cGRhdGVzLCBkZWxzIChsYXJnZSB0cmFucykiKTsK\nICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oCiAgICAgICAgICAgICJSZW1v\ndGUgY29tbWl0IGV2ZW50IHdpbGwgdHJhbnNtaXQgY2xhc3Nlcy4iKTsKCiAg\nICAgICAgLy8gUGVyZm9ybSB0cmFuc2FjdGlvbiB0aGF0IGFkZHMgb2JqZWN0\ncy4KICAgICAgICAvLyBOb3JhbWwgdHJhbnNhY3Rpb24KICAgICAgICBwZXJm\nb3JtQWRkcyhwbVNlbmRlciwgTlVNX09CSkVDVFMpOwoKICAgICAgICAvLyBX\nYWl0IGZvciBhIGJpdCBzbyB0aGUgcmVjZWl2ZXIgY2FuIGdldCB0aGUgZXZl\nbnQuCiAgICAgICAgcGF1c2UoMSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKE5V\nTV9PQkpFQ1RTLCBsaXN0ZW5lckF0UmVjZWl2ZXIudG90YWxBZGRlZENsYXNz\nZXMpOwoKICAgICAgICAvLyBsYXJnZVRyYW5zYWN0aW9uCiAgICAgICAgLy9w\nbVNlbmRlci5zZXRMYXJnZVRyYW5zYWN0aW9uKHRydWUpOwogICAgICAgIHBt\nU2VuZGVyLnNldFRyYWNrQ2hhbmdlc0J5VHlwZSh0cnVlKTsKICAgICAgICBw\nZXJmb3JtQWRkcyhwbVNlbmRlciwgTlVNX09CSkVDVFMpOwogICAgICAgIHBh\ndXNlKDEpOwogICAgICAgIGFzc2VydEVxdWFscygyICogTlVNX09CSkVDVFMs\nIGxpc3RlbmVyQXRSZWNlaXZlci50b3RhbEFkZGVkQ2xhc3Nlcyk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDAsIGxpc3RlbmVyQXRSZWNlaXZlci50b3RhbFVw\nZGF0ZWRDbGFzc2VzKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMCwgbGlzdGVu\nZXJBdFJlY2VpdmVyLnRvdGFsRGVsZXRlZENsYXNzZXMpOwogICAgICAgIGFz\nc2VydEVxdWFscyhOVU1fT0JKRUNUUywgbGlzdGVuZXJBdFJlY2VpdmVyLnJl\nY2VpdmVkRXh0ZW50RXZDb3VudCk7CgogICAgICAgIC8vIFN0aWxsIGluIGxh\ncmdlIHRyYW5zIG1vZGUsIHBlcmZvcm0gdXBkYXRlcyBhbmQgZGVsZXRlcyBv\nZgogICAgICAgIC8vIGNoZWNrIHRoYXQgY2xhc3MgbmFtZXMgYXJlIGNvbW11\nbmljYXRlZAoKICAgICAgICAvL3BtU2VuZGVyLnNldExhcmdlVHJhbnNhY3Rp\nb24odHJ1ZSk7CiAgICAgICAgcG1TZW5kZXIuc2V0VHJhY2tDaGFuZ2VzQnlU\neXBlKHRydWUpOwogICAgICAgIHBlcmZvcm1BZGRzTW9kaWZpZXNEZWxldGVz\nKHBtU2VuZGVyLCBOVU1fT0JKRUNUUyk7CiAgICAgICAgcGF1c2UoMSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDMgKiBOVU1fT0JKRUNUUywgbGlzdGVuZXJB\ndFJlY2VpdmVyLnRvdGFsQWRkZWRDbGFzc2VzKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoTlVNX09CSkVDVFMsIGxpc3RlbmVyQXRSZWNlaXZlci50b3RhbFVw\nZGF0ZWRDbGFzc2VzKTsKICAgICAgICAvLyBhbGwgZGVsZXRlcyB0aGVuIGEg\nY29tbWl0CiAgICAgICAgYXNzZXJ0RXF1YWxzKE5VTV9PQkpFQ1RTLCBsaXN0\nZW5lckF0UmVjZWl2ZXIudG90YWxEZWxldGVkQ2xhc3Nlcyk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDQgKiBOVU1fT0JKRUNUUywKICAgICAgICAgICAgbGlz\ndGVuZXJBdFJlY2VpdmVyLnJlY2VpdmVkRXh0ZW50RXZDb3VudCk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDAsIGxpc3RlbmVyQXRSZWNlaXZlci50b3RhbE9p\nZFVwZGF0ZWQpOwogICAgICAgIGFzc2VydEVxdWFscygwLCBsaXN0ZW5lckF0\nUmVjZWl2ZXIudG90YWxPaWREZWxldGVkKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoMCwgbGlzdGVuZXJBdFJlY2VpdmVyLnRvdGFsT2lkQWRkZWQpOwoKICAg\nICAgICAvLyBzaHV0ZG93bgogICAgICAgIHBtU2VuZGVyLmNsb3NlKCk7CiAg\nICAgICAgcG1mU2VuZGVyLmNsb3NlKCk7CiAgICAgICAgcG1mUmVjZWl2ZXIu\nY2xvc2UoKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZG91YmxlIHBlcmZvcm1B\nZGRzKEVudGl0eU1hbmFnZXIgcG0sCiAgICAgICAgaW50IG51bU9iamVjdHMp\nIHsKICAgICAgICAvLyBQZXJmb3JtIGEgdHJhbnNhY3Rpb24gdGhhdCB3aWxs\nIHRyaWdnZXIgYWRkcwogICAgICAgIER1cmF0aW9uIHRpbWVUb0FNRCA9IG5l\ndyBEdXJhdGlvbigKICAgICAgICAgICAgIkFkZHMsICIgKyBudW1PYmplY3Rz\nICsgIiBvYmplY3RzLiIpOwogICAgICAgIHRpbWVUb0FNRC5zdGFydCgpOwoK\nICAgICAgICAvLyBjcmVhdGUgb2JqZWN0cwogICAgICAgIFJ1bnRpbWVUZXN0\nMVtdIHBlcnNpc3RhYmxlcyA9IG5ldyBSdW50aW1lVGVzdDFbbnVtT2JqZWN0\nc107CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBwZXJzaXN0YWJsZXMu\nbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcGVyc2lzdGFibGVzW2ldID0g\nbmV3IFJ1bnRpbWVUZXN0MSgiZm9vICMiICsgaSwgaSk7CiAgICAgICAgfQoK\nICAgICAgICAvLyBhZGQgdGhlbSwgYSBjb21taXQgcGVyIG9iamVjdAogICAg\nICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcGVyc2lzdGFibGVzLmxlbmd0aDsg\naSsrKSB7CiAgICAgICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgICAgICBw\nbS5wZXJzaXN0KHBlcnNpc3RhYmxlc1tpXSk7CiAgICAgICAgICAgIGVuZFR4\nKHBtKTsKICAgICAgICB9CgogICAgICAgIHRpbWVUb0FNRC5zdG9wKCk7CiAg\nICAgICAgcmV0dXJuIHRpbWVUb0FNRC5nZXREdXJhdGlvbkFzU2Vjb25kcygp\nOwogICAgfQoKICAgIHByb3RlY3RlZCB2b2lkIHBlcmZvcm1BZGRzTW9kaWZp\nZXNEZWxldGVzKEVudGl0eU1hbmFnZXIgcG0sCiAgICAgICAgaW50IG51bU9i\namVjdHMpIHsKICAgICAgICAvLyBQZXJmb3JtIGEgc2VyaWVzIG9mIHRyYW5z\nYWN0aW9ucyB0aGF0IHdpbGwgdHJpZ2dlciBhZGRzLAogICAgICAgIC8vIGRl\nbGV0ZXMsIGFuZCB1ZHBhdGVzCgogICAgICAgIC8vIGNyZWF0ZSBvYmplY3Rz\nCiAgICAgICAgUnVudGltZVRlc3QxW10gcGVyc2lzdGFibGVzID0gbmV3IFJ1\nbnRpbWVUZXN0MVtudW1PYmplY3RzXTsKICAgICAgICBmb3IgKGludCBpID0g\nMDsgaSA8IHBlcnNpc3RhYmxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAg\nICBwZXJzaXN0YWJsZXNbaV0gPSBuZXcgUnVudGltZVRlc3QxKCJmb28gIyIg\nKyBpLCBpKTsKICAgICAgICB9CgogICAgICAgIC8vIGFkZCB0aGVtCiAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBwZXJzaXN0YWJsZXMubGVuZ3RoOyBp\nKyspIHsKICAgICAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgICAgIHBt\nLnBlcnNpc3QocGVyc2lzdGFibGVzW2ldKTsKICAgICAgICAgICAgZW5kVHgo\ncG0pOwogICAgICAgIH0KCiAgICAgICAgLy8gbW9kaWZ5IHRoZW0KICAgICAg\nICBmb3IgKGludCBpID0gMDsgaSA8IHBlcnNpc3RhYmxlcy5sZW5ndGg7IGkr\nKykgewogICAgICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICAgICAgcGVy\nc2lzdGFibGVzW2ldLnNldFN0cmluZ0ZpZWxkKCJiYXp6ZWQiICsgaSk7CiAg\nICAgICAgICAgIGVuZFR4KHBtKTsKICAgICAgICB9CgogICAgICAgIC8vIGRl\nbGV0ZSB0aGVtCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBwZXJzaXN0\nYWJsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgc3RhcnRUeChwbSk7\nCiAgICAgICAgICAgIHBtLnJlbW92ZShwZXJzaXN0YWJsZXNbaV0pOwogICAg\nICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgfQogICAgfQoKICAgIHN0YXRp\nYyBpbnQgX2ZldGNoR3JvdXBTZXJpYWwgPSAwOwoKICAgIHByb3RlY3RlZCBP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgY3JlYXRlRGlzdGluY3RGYWN0\nb3J5KAogICAgICAgIENsYXNzIHByb3ZpZGVyQ2xhc3MsIFN0cmluZyBjbGFz\nc1Byb3BzMSkgewogICAgICAgIE1hcCBwcm9wc01hcDsKCiAgICAgICAgaWYg\nKHByb3ZpZGVyQ2xhc3MgIT0gbnVsbCkgewoKICAgICAgICAgICAgcHJvcHNN\nYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgICAgICBwcm9wc01hcC5wdXQo\nIm9wZW5qcGEuUmVtb3RlQ29tbWl0UHJvdmlkZXIiLCBDb25maWd1cmF0aW9u\ncy4KICAgICAgICAgICAgICAgIGdldFBsdWdpbihwcm92aWRlckNsYXNzLmdl\ndE5hbWUoKSwgY2xhc3NQcm9wczEpKTsKICAgICAgICAgICAgcHJvcHNNYXAu\ncHV0KCJvcGVuanBhLkZldGNoR3JvdXBzIiwgImRpZmZlcmVudGlhdGluZ0Zl\ndGNoR3JvdXAiICsKICAgICAgICAgICAgICAgIF9mZXRjaEdyb3VwU2VyaWFs\nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBObyBSQ1AKICAg\nICAgICAgICAgcHJvcHNNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgICAg\nICBwcm9wc01hcC5wdXQoIm9wZW5qcGEuUmVtb3RlQ29tbWl0UHJvdmlkZXIi\nLCAic2p2bSIpOwogICAgICAgICAgICBwcm9wc01hcC5wdXQoIm9wZW5qcGEu\nRmV0Y2hHcm91cHMiLCAiZGlmZmVyZW50aWF0aW5nRmV0Y2hHcm91cCIgKwog\nICAgICAgICAgICAgICAgX2ZldGNoR3JvdXBTZXJpYWwpOwogICAgICAgIH0K\nICAgICAgICBfZmV0Y2hHcm91cFNlcmlhbCArPSAxOwoKICAgICAgICByZXR1\ncm4gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSkgZ2V0RW1mKHByb3Bz\nTWFwKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgc3RhdGljIGNsYXNzIFJlbW90\nZUNvbW1pdExpc3RlbmVyVGVzdEltcGwKICAgICAgICBpbXBsZW1lbnRzIFJl\nbW90ZUNvbW1pdExpc3RlbmVyIHsKCiAgICAgICAgQ29sbGVjdGlvbiB1cGRh\ndGVkOwogICAgICAgIENvbGxlY3Rpb24gZGVsZXRlZDsKICAgICAgICBpbnQg\ndG90YWxBZGRlZENsYXNzZXMgPSAwOwogICAgICAgIGludCB0b3RhbFVwZGF0\nZWRDbGFzc2VzID0gMDsKICAgICAgICBpbnQgdG90YWxEZWxldGVkQ2xhc3Nl\ncyA9IDA7CgogICAgICAgIGludCB0b3RhbE9pZEFkZGVkID0gMDsKICAgICAg\nICBpbnQgdG90YWxPaWRVcGRhdGVkID0gMDsKICAgICAgICBpbnQgdG90YWxP\naWREZWxldGVkID0gMDsKCiAgICAgICAgaW50IHJlY2VpdmVkRXh0ZW50RXZD\nb3VudCA9IDA7CgogICAgICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgdm9pZCBh\nZnRlckNvbW1pdChSZW1vdGVDb21taXRFdmVudCBldmVudCkgewogICAgICAg\nICAgICB0b3RhbEFkZGVkQ2xhc3NlcyArPSBldmVudC5nZXRQZXJzaXN0ZWRU\neXBlTmFtZXMoKS5zaXplKCk7CiAgICAgICAgICAgIGlmIChldmVudC5nZXRQ\nYXlsb2FkVHlwZSgpID09IFJlbW90ZUNvbW1pdEV2ZW50LlBBWUxPQURfRVhU\nRU5UUykgewogICAgICAgICAgICAgICAgcmVjZWl2ZWRFeHRlbnRFdkNvdW50\nICs9IDE7CiAgICAgICAgICAgICAgICB0b3RhbFVwZGF0ZWRDbGFzc2VzICs9\nIGV2ZW50LmdldFVwZGF0ZWRUeXBlTmFtZXMoKS5zaXplKCk7CiAgICAgICAg\nICAgICAgICB0b3RhbERlbGV0ZWRDbGFzc2VzICs9IGV2ZW50LmdldERlbGV0\nZWRUeXBlTmFtZXMoKS5zaXplKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAg\nICAgICAgICAgICAgICBpZiAoZXZlbnQuZ2V0UGF5bG9hZFR5cGUoKSA9PQog\nICAgICAgICAgICAgICAgICAgIFJlbW90ZUNvbW1pdEV2ZW50LlBBWUxPQURf\nT0lEU19XSVRIX0FERFMpCiAgICAgICAgICAgICAgICAgICAgdG90YWxPaWRB\nZGRlZCA9IGV2ZW50LmdldFBlcnNpc3RlZE9iamVjdElkcygpLnNpemUoKTsK\nICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlZCA9IGV2ZW50LmdldFVwZGF0\nZWRPYmplY3RJZHMoKTsKICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlZCA9\nIGV2ZW50LmdldERlbGV0ZWRPYmplY3RJZHMoKTsKICAgICAgICAgICAgICAg\nIHRvdGFsT2lkVXBkYXRlZCArPSB1cGRhdGVkLnNpemUoKTsKICAgICAgICAg\nICAgICAgIHRvdGFsT2lkRGVsZXRlZCArPSBkZWxldGVkLnNpemUoKTsKICAg\nICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQgcmVz\nZXRDb3VudHMoKSB7CiAgICAgICAgICAgIHRvdGFsQWRkZWRDbGFzc2VzID0g\nMDsKICAgICAgICAgICAgdG90YWxVcGRhdGVkQ2xhc3NlcyA9IDA7CiAgICAg\nICAgICAgIHRvdGFsRGVsZXRlZENsYXNzZXMgPSAwOwogICAgICAgICAgICB0\nb3RhbE9pZEFkZGVkID0gMDsKICAgICAgICAgICAgdG90YWxPaWRVcGRhdGVk\nID0gMDsKICAgICAgICAgICAgdG90YWxPaWREZWxldGVkID0gMDsKICAgICAg\nICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGNsb3NlKCkgewogICAgICAgIH0K\nCiAgICAgICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICAg\nICAgU3RyaW5nIHJldHVyblN0cmluZyA9ICJDbHNzZXMgYWRkPSIgKyB0b3Rh\nbEFkZGVkQ2xhc3NlcyArICIgZGVscz0iICsKICAgICAgICAgICAgICAgIHRv\ndGFsRGVsZXRlZENsYXNzZXMgKyAiIHVwcz0iICsgdG90YWxVcGRhdGVkQ2xh\nc3NlczsKICAgICAgICAgICAgcmV0dXJuU3RyaW5nID0gcmV0dXJuU3RyaW5n\nICsgIk9pZHMgYWRkPSIgKyB0b3RhbEFkZGVkQ2xhc3NlcyArCiAgICAgICAg\nICAgICAgICAiIGRlbHM9IiArIHRvdGFsRGVsZXRlZENsYXNzZXMgKyAiIHVw\ncz0iICsgdG90YWxVcGRhdGVkQ2xhc3NlczsKICAgICAgICAgICAgcmV0dXJu\nIHJldHVyblN0cmluZzsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

