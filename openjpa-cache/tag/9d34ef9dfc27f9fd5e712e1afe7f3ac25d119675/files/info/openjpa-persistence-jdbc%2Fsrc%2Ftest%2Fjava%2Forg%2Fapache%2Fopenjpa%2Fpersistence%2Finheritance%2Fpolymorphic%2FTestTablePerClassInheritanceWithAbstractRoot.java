{"sha":"fb27b036c16e3da80452eeca14c9c266ca4edd04","node_id":"MDQ6QmxvYjIwNjM2NDpmYjI3YjAzNmMxNmUzZGE4MDQ1MmVlY2ExNGM5YzI2NmNhNGVkZDA0","size":5293,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fb27b036c16e3da80452eeca14c9c266ca4edd04","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5pbmhlcml0YW5j\nZS5wb2x5bW9ycGhpYzsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsKCi8qKgogKiBUZXN0cyBhIGRv\nbWFpbiBtb2RlbCB3aXRoIGZvbGxvd2luZyBjaGFyYWN0ZXJpc3RpY3M6CiAq\nIGEpIEEgdHlwaWNhbCBiaWRpcmVjdGlvbmFsIE1hbnlUb09uZS9PbmVUb01h\nbnkgcmVsYXRpb24gCiAqICAgIEVudGl0eUEgcmVmZXJlbmNlcyBhIHNpbmds\nZSBpbnN0YW5jZSBvZiBFbnRpdHlCCiAqICAgIEVudGl0eUIgcmVmZXJlbmNl\ncyBhIGNvbGxlY3Rpb24gb2YgRW50aXR5QQogKiBiKSBFbnRpdHlCIGl0c2Vs\nZiBpcyBhYnN0cmFjdCAKICogYykgTWFueSBjb25jcmV0ZSBzdWJjbGFzc2Vz\nIG9mIEVudGl0eUIgZXhpc3QKICogZCkgRW50aXR5QiB1c2VzIFRBQkxFX1BF\nUl9DTEFTUyBpbmhlcml0YW5jZSBzdHJhdGVneSwgaGVuY2Ugbm8gbWFwcGlu\nZyB0YWJsZSAKICogICAgZXhpc3RzIGZvciBFbnRpdHlCIGl0c2VsZi4KICog\nZSkgUmVsYXRpb24gZmllbGQgaW4gRW50aXR5QSBpcyBkZWNsYXJlZCBhcyBh\nYnN0cmFjdCB0eXBlIEVudGl0eUIgKGZvciB3aGljaAogKiBmKSBhbGwgdGhl\nIGRvbWFpbiBjbGFzc2VzIGkuZS4gRW50aXR5QSwgRW50aXR5QiBhbmQgYWxs\nIGl0cyBzdWJjbGFzc2VzIGlzCiAqICAgIGRlcml2ZWQgZnJvbSBhbiBhYnN0\ncmFjdCBNYXBwZWRTdXBlckNsYXNzIHdoaWNoIGhvbGRzIHByaW1hcnkga2V5\nIGFuZAogKiAgICB2ZXJzaW9uIGZpZWxkcy4KICogICAgCiAqICBUaGUgdGVz\ndCBhZGRyZXNzZXMgYSByZXBvcnRlZCBlcnJvciBbMV0gaW4gbWFwcGluZyB0\naGUgYWJvdmUgZG9tYWluIG1vZGVsLgogKiAgVGhlIHRlc3QgdmVyaWZpZXMg\nYmFzaWMgcGVyc2lzdCwgcXVlcnkgYW5kIGRlbGV0ZSBvcGVyYXRpb25zIG9u\nIHRoZSBkb21haW4KICogIG1vZGVsLgogKiAgCiAqICBbMV0gPEEgSFJFRj0i\naHR0cHM6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9qaXJhL2Jyb3dzZS9PUEVOSlBB\nLTYwMiI+IE9QRU5KUEEtNjAyPC9BPn0KICogICAgICAgIAogKiBAYXV0aG9y\nIFBpbmFraSBQb2RkYXIKICoKICovCnB1YmxpYyBjbGFzcyBUZXN0VGFibGVQ\nZXJDbGFzc0luaGVyaXRhbmNlV2l0aEFic3RyYWN0Um9vdCBleHRlbmRzCgkJ\nU2luZ2xlRU1GVGVzdENhc2UgewoJQ2xhc3NbXSBVTkpPSU5FRF9TVUJDTEFT\nU0VTID0gewoJCQlFbmdsaXNoUGFyYWdyYXBoLmNsYXNzLCAKCQkJRnJlbmNo\nUGFyYWdyYXBoLmNsYXNzLCAKCQkJR2VybWFuUGFyYWdyYXBoLmNsYXNzfTsK\nCQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAgc2V0VXAoQ0xF\nQVJfVEFCTEVTLCAKICAgICAgICAJCSJvcGVuanBhLkxvZyIsICJTUUw9VFJB\nQ0UiLCAKICAgICAgICAJCVRyYW5zbGF0aW9uLmNsYXNzLCBCYXNlRW50aXR5\nLmNsYXNzLAogICAgICAgIAkJRW5nbGlzaFBhcmFncmFwaC5jbGFzcywgRnJl\nbmNoUGFyYWdyYXBoLmNsYXNzLCAKICAgICAgICAJCUdlcm1hblBhcmFncmFw\naC5jbGFzcywgVHJhbnNsYXRhYmxlLmNsYXNzKTsKICAgIH0KICAgIAoJcHVi\nbGljIHZvaWQgdGVzdENvbnNpc3RlbmN5KCkgewoJCU9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKCQllbS5n\nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CgkJLyoqCgkJICogQWdncmVnYXRl\nIHF1ZXJ5IG9wZXJhdGlvbnMgY2FuIG5vdCBiZSBwZXJmb3JtZWQgb24gdW5q\nb2luZWQgCgkJICogc3ViY2xhc3Nlcy4gSGVuY2UgYWxsIGNvbmNyZXRlIHN1\nYmNsYXNzZXMgb2YgYWJzdHJhY3QgYmFzZQoJCSAqIGNsYXNzIGlzIGNvdW50\nZWQgc2VwYXJhdGVseSB0byBjb3VudCBhbGwgVHJhbnNsYXRhYmxlIGluc3Rh\nbmNlcy4KCQkgKi8KCQlpbnQgblRyYW5zbGF0YWJsZUJlZm9yZSA9IGNvdW50\nKFVOSk9JTkVEX1NVQkNMQVNTRVMpOwoJCWludCBuVHJhbnNsYXRpb25CZWZv\ncmUgPSBjb3VudChUcmFuc2xhdGlvbi5jbGFzcyk7CgkJCgkJRW5nbGlzaFBh\ncmFncmFwaCBlbmdsaXNoID0gbmV3IEVuZ2xpc2hQYXJhZ3JhcGgoKTsKCQlG\ncmVuY2hQYXJhZ3JhcGggZnJlbmNoICAgPSBuZXcgRnJlbmNoUGFyYWdyYXBo\nKCk7CgkJR2VybWFuUGFyYWdyYXBoIGdlcm1hbiAgID0gbmV3IEdlcm1hblBh\ncmFncmFwaCgpOwoJCQoJCVRyYW5zbGF0aW9uIHRyYW5zbGF0aW9uMSA9IG5l\ndyBUcmFuc2xhdGlvbigpOyAKCQlUcmFuc2xhdGlvbiB0cmFuc2xhdGlvbjIg\nPSBuZXcgVHJhbnNsYXRpb24oKTsgCgkJVHJhbnNsYXRpb24gdHJhbnNsYXRp\nb24zID0gbmV3IFRyYW5zbGF0aW9uKCk7IAoJCVRyYW5zbGF0aW9uIHRyYW5z\nbGF0aW9uNCA9IG5ldyBUcmFuc2xhdGlvbigpOyAKCQkKCQllbmdsaXNoLnNl\ndENvbnRlbnQoIkhlbGxvIik7CgkJZnJlbmNoLnNldENvbnRlbnQoIkJvbiBq\nb3VyIik7CgkJZ2VybWFuLnNldENvbnRlbnQoIkd1dGVuIFRhZyIpOwoKCQkK\nCQl0cmFuc2xhdGlvbjEuc2V0VHJhbnNsYXRhYmxlKGVuZ2xpc2gpOwoJCXRy\nYW5zbGF0aW9uMi5zZXRUcmFuc2xhdGFibGUoZW5nbGlzaCk7CgkJdHJhbnNs\nYXRpb24zLnNldFRyYW5zbGF0YWJsZShmcmVuY2gpOwoJCXRyYW5zbGF0aW9u\nNC5zZXRUcmFuc2xhdGFibGUoZ2VybWFuKTsKCQkKCQllbmdsaXNoLmFkZFRy\nYW5zbGF0aW9uKHRyYW5zbGF0aW9uMSk7CgkJZW5nbGlzaC5hZGRUcmFuc2xh\ndGlvbih0cmFuc2xhdGlvbjIpOwoJCWZyZW5jaC5hZGRUcmFuc2xhdGlvbih0\ncmFuc2xhdGlvbjMpOwoJCWdlcm1hbi5hZGRUcmFuc2xhdGlvbih0cmFuc2xh\ndGlvbjQpOwoJCQoJCWVtLnBlcnNpc3QodHJhbnNsYXRpb24xKTsKCQllbS5w\nZXJzaXN0KHRyYW5zbGF0aW9uMik7CgkJZW0ucGVyc2lzdCh0cmFuc2xhdGlv\nbjMpOwoJCWVtLnBlcnNpc3QodHJhbnNsYXRpb240KTsKCQllbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOwoJCQoJCWVtLmNsZWFyKCk7CgoJCWludCBu\nVHJhbnNsYXRhYmxlQWZ0ZXIgPSBjb3VudChVTkpPSU5FRF9TVUJDTEFTU0VT\nKTsKCQlpbnQgblRyYW5zbGF0aW9uQWZ0ZXIgID0gY291bnQoVHJhbnNsYXRp\nb24uY2xhc3MpOwoJCQoJCWFzc2VydEVxdWFscyhuVHJhbnNsYXRhYmxlQmVm\nb3JlKzMsIG5UcmFuc2xhdGFibGVBZnRlcik7CgkJYXNzZXJ0RXF1YWxzKG5U\ncmFuc2xhdGlvbkJlZm9yZSs0LCBuVHJhbnNsYXRpb25BZnRlcik7CgkJCgkJ\nLyoqCgkJICogVmVyaWZ5IHRoYXQgaWYgQSByZWZlcnMgdG8gQiB0aGVuIEEg\nbXVzdCBiZSBhIG1lbWJlciBvZiB0aGUgc2V0IAoJCSAqIHJlZmVycmVkIGJ5\nIEIKCQkgKi8KCQllbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CgkJTGlz\ndDxUcmFuc2xhdGlvbj4gcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVD\nVCBwIEZST00gVHJhbnNsYXRpb24gcCIpCgkJCS5nZXRSZXN1bHRMaXN0KCk7\nCgkJYXNzZXJ0VHJ1ZSghcmVzdWx0LmlzRW1wdHkoKSk7CgkJZm9yIChUcmFu\nc2xhdGlvbiB0cmFuc2xhdGlvbiA6IHJlc3VsdCkgewoJCQlhc3NlcnRUcnVl\nKHRyYW5zbGF0aW9uLmdldFRyYW5zbGF0YWJsZSgpCgkJCQkJLmdldFRyYW5z\nbGF0aW9ucygpLmNvbnRhaW5zKHRyYW5zbGF0aW9uKSk7CgkJfQoJCWVtLmdl\ndFRyYW5zYWN0aW9uKCkucm9sbGJhY2soKTsKCX0KCQoJCgl2b2lkIGxpbmtD\nb25zaXN0ZW50bHkoVHJhbnNsYXRpb24gdHJhbnNsYXRpb24sIFRyYW5zbGF0\nYWJsZSB0cmFuc2xhdGFibGUpIHsKCQl0cmFuc2xhdGFibGUuYWRkVHJhbnNs\nYXRpb24odHJhbnNsYXRpb24pOwoJCXRyYW5zbGF0aW9uLnNldFRyYW5zbGF0\nYWJsZSh0cmFuc2xhdGFibGUpOwoJfQoJCgkvKioKCSAqIENvdW50IHRoZSBu\ndW1iZXIgb2YgaW5zdGFuY2VzIGluIHRoZSBnaXZlbiBjbGFzcyBieSBhZ2dy\nZWdhdGUgSlBRTCBxdWVyeS4KCSAqLwoJcHVibGljIGludCBjb3VudChDbGFz\ncyBjKSB7CgkJT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRl\nRW50aXR5TWFuYWdlcigpOwoJCXJldHVybiAoKE51bWJlcikgZW0uY3JlYXRl\nUXVlcnkoIlNFTEVDVCBDT1VOVChwKSBGUk9NICIgKyAKCQkJCWMuZ2V0U2lt\ncGxlTmFtZSgpICsgIiBwIikuZ2V0U2luZ2xlUmVzdWx0KCkpLmludFZhbHVl\nKCk7Cgl9CgkKCS8qKgoJICogQ291bnQgdG90YWwgbnVtYmVyIG9mIGluc3Rh\nbmNlcyBvZiBhbGwgdGhlIGdpdmVuIGNsYXNzZXMgYnkgc2VwYXJhdGUgSlBR\nTAoJICogYWdncmVnYXRlIHF1ZXJ5LiBVc2VmdWwgd2hlbiBhIGJhc2UgY2xh\nc3MgaGFzIHVuam9pbmVkIHN1YmNsYXNzZXMuCgkgKi8KCXB1YmxpYyBpbnQg\nY291bnQoQ2xhc3MuLi4gY2xhc3NlcykgewoJCWludCB0b3RhbCA9IDA7CgkJ\nZm9yIChDbGFzcyBjOmNsYXNzZXMpIHsKCQkJdG90YWwgKz0gY291bnQoYyk7\nCgkJfQoJCXJldHVybiB0b3RhbDsKCX0KCQp9Cg==\n","encoding":"base64"}

