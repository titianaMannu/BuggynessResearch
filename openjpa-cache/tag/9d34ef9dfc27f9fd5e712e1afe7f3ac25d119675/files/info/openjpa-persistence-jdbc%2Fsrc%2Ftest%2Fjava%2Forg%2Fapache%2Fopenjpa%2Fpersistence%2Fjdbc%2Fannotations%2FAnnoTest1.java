{"sha":"5d2d9407c9cfa07e1d54d9dd57f44af85bfe27b1","node_id":"MDQ6QmxvYjIwNjM2NDo1ZDJkOTQwN2M5Y2ZhMDdlMWQ1NGQ5ZGQ1N2Y0NGFmODViZmUyN2Ix","size":7615,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5d2d9407c9cfa07e1d54d9dd57f44af85bfe27b1","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmFubm90\nYXRpb25zOwoKCmltcG9ydCBqYXZhLnV0aWwuKjsKCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS4qOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5qZGJjLio7CgpARW50aXR5CkBUYWJsZShuYW1lID0gIkFOTk9U\nRVNUMSIpCkBJbmhlcml0YW5jZShzdHJhdGVneSA9IEluaGVyaXRhbmNlVHlw\nZS5KT0lORUQpCkBEaXNjcmltaW5hdG9yQ29sdW1uKG5hbWUgPSAiQU5OT0NM\nUyIpCkBEaXNjcmltaW5hdG9yVmFsdWUoIkFOTk8xIikKQFNlY29uZGFyeVRh\nYmxlcyh7IEBTZWNvbmRhcnlUYWJsZShuYW1lID0gIk9USEVSX0FOTk9URVNU\nMSIsCiAgICBwa0pvaW5Db2x1bW5zID0gQFByaW1hcnlLZXlKb2luQ29sdW1u\nKG5hbWUgPSAiT1RIRVJfUEsiLAogICAgICAgIHJlZmVyZW5jZWRDb2x1bW5O\nYW1lID0gIlBLIikpIH0pCnB1YmxpYyBjbGFzcyBBbm5vVGVzdDEgewoKICAg\nIEBJZAogICAgQENvbHVtbihuYW1lID0gIlBLIikKICAgIHByb3RlY3RlZCBM\nb25nIHBrOwoKICAgIEBWZXJzaW9uCiAgICBAQ29sdW1uKG5hbWUgPSAiQU5O\nT1ZFUiIpCiAgICBwcm90ZWN0ZWQgaW50IHZlcnNpb247CgogICAgQEJhc2lj\nCiAgICBwcm90ZWN0ZWQgaW50IGJhc2ljOwoKICAgIEBUcmFuc2llbnQKICAg\nIHByb3RlY3RlZCBpbnQgdHJhbnM7CgogICAgQEJhc2ljCiAgICBAQ29sdW1u\nKG5hbWUgPSAiT1RIRVJWQUxVRSIsIHRhYmxlID0gIk9USEVSX0FOTk9URVNU\nMSIpCiAgICBwcm90ZWN0ZWQgaW50IG90aGVyVGFibGVCYXNpYzsKCiAgICBA\nT25lVG9PbmUoZmV0Y2ggPSBGZXRjaFR5cGUuTEFaWSkKICAgIEBKb2luQ29s\ndW1uKG5hbWUgPSAiU0VMRk9ORU9ORV9QSyIsIHJlZmVyZW5jZWRDb2x1bW5O\nYW1lID0gIlBLIikKICAgIHByb3RlY3RlZCBBbm5vVGVzdDEgc2VsZk9uZU9u\nZTsKCiAgICBAT25lVG9PbmUKICAgIEBQcmltYXJ5S2V5Sm9pbkNvbHVtbgog\nICAgcHJvdGVjdGVkIEFubm9UZXN0MSBwa0pvaW5TZWxmT25lT25lOwoKICAg\nIEBPbmVUb09uZQogICAgQEpvaW5Db2x1bW5zKHsKICAgIEBKb2luQ29sdW1u\nKG5hbWUgPSAiT05FT05FX1BLMSIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0g\nIlBLMSIpLAogICAgQEpvaW5Db2x1bW4obmFtZSA9ICJPTkVPTkVfUEsyIiwg\ncmVmZXJlbmNlZENvbHVtbk5hbWUgPSAiUEsyIikgfSkKICAgIHByb3RlY3Rl\nZCBBbm5vVGVzdDIgb25lT25lOwoKICAgIEBPbmVUb09uZShmZXRjaCA9IEZl\ndGNoVHlwZS5MQVpZKQogICAgQEpvaW5Db2x1bW5zKHsKICAgIEBKb2luQ29s\ndW1uKG5hbWUgPSAiT1RIRVJPTkVfUEsxIiwgcmVmZXJlbmNlZENvbHVtbk5h\nbWUgPSAiUEsxIiwKICAgICAgICB0YWJsZSA9ICJPVEhFUl9BTk5PVEVTVDEi\nKSwKICAgIEBKb2luQ29sdW1uKG5hbWUgPSAiT1RIRVJPTkVfUEsyIiwgcmVm\nZXJlbmNlZENvbHVtbk5hbWUgPSAiUEsyIiwKICAgICAgICB0YWJsZSA9ICJP\nVEhFUl9BTk5PVEVTVDEiKSB9KQogICAgcHJvdGVjdGVkIEFubm9UZXN0MiBv\ndGhlclRhYmxlT25lT25lOwoKICAgIEBPbmVUb09uZShtYXBwZWRCeSA9ICJp\nbnZlcnNlT25lT25lIiwgZmV0Y2ggPSBGZXRjaFR5cGUuTEFaWSkKICAgIHBy\nb3RlY3RlZCBBbm5vVGVzdDIgaW52ZXJzZU93bmVyT25lT25lOwoKICAgIEBM\nb2IKICAgIEBDb2x1bW4obmFtZSA9ICJCTE9CVkFMIikKICAgIHByb3RlY3Rl\nZCBieXRlW10gYmxvYjsKCiAgICBAQmFzaWMKICAgIEBMb2IKICAgIEBDb2x1\nbW4obmFtZSA9ICJTRVJWQUwiKQogICAgcHJvdGVjdGVkIE9iamVjdCBzZXJp\nYWw7CgogICAgQENvbHVtbihuYW1lID0gIkNMT0JWQUwiKQogICAgQExvYgog\nICAgcHJvdGVjdGVkIFN0cmluZyBjbG9iOwoKICAgIC8vIHVuLWFubm90YXRl\nZCBlbnVtIHNob3VsZCBiZSBwZXJzaXN0ZWQgYnkgZGVmYXVsdAogICAgQENv\nbHVtbihuYW1lID0gIkVOVU1WQUwiKQogICAgcHJvdGVjdGVkIEluaGVyaXRh\nbmNlVHlwZSBlbnVtZXJhdGlvbjsKCiAgICBARW51bWVyYXRlZAogICAgQENv\nbHVtbihuYW1lID0gIk9SRF9FTlVNVkFMIikKICAgIHByb3RlY3RlZCBJbmhl\ncml0YW5jZVR5cGUgb3JkaW5hbEVudW1lcmF0aW9uOwoKICAgIEBFbnVtZXJh\ndGVkKEVudW1UeXBlLlNUUklORykKICAgIEBDb2x1bW4obmFtZSA9ICJTVFJf\nRU5VTVZBTCIpCiAgICBwcm90ZWN0ZWQgSW5oZXJpdGFuY2VUeXBlIHN0cmlu\nZ0VudW1lcmF0aW9uOwoKICAgIEBPbmVUb01hbnkKICAgIEBFbGVtZW50Sm9p\nbkNvbHVtbihuYW1lID0gIk9ORU1BTllfUEsiLCByZWZlcmVuY2VkQ29sdW1u\nTmFtZSA9ICJQSyIpCiAgICBwcm90ZWN0ZWQgU2V0PEFubm9UZXN0Mj4gb25l\nTWFueSA9IG5ldyBIYXNoU2V0KCk7CgogICAgQE9uZVRvTWFueShtYXBwZWRC\neSA9ICJvbmVNYW55T3duZXIiKQogICAgcHJvdGVjdGVkIFNldDxBbm5vVGVz\ndDI+IGludmVyc2VPd25lck9uZU1hbnkgPSBuZXcgSGFzaFNldCgpOwoKICAg\nIEBNYW55VG9NYW55CiAgICBASm9pblRhYmxlKG5hbWUgPSAiQU5OT1RFU1Qx\nX01BTllNQU5ZIiwKICAgICAgICBqb2luQ29sdW1ucyA9IEBKb2luQ29sdW1u\nKG5hbWUgPSAiTUFOWV9QSyIpLAogICAgICAgIGludmVyc2VKb2luQ29sdW1u\ncyA9IHsKICAgICAgICBASm9pbkNvbHVtbihuYW1lID0gIk1BTllfUEsxIiwg\ncmVmZXJlbmNlZENvbHVtbk5hbWUgPSAiUEsxIiksCiAgICAgICAgQEpvaW5D\nb2x1bW4obmFtZSA9ICJNQU5ZX1BLMiIsIHJlZmVyZW5jZWRDb2x1bW5OYW1l\nID0gIlBLMiIpIH0pCiAgICBwcm90ZWN0ZWQgU2V0PEFubm9UZXN0Mj4gbWFu\neU1hbnkgPSBuZXcgSGFzaFNldCgpOwoKICAgIEBNYW55VG9NYW55KG1hcHBl\nZEJ5ID0gIm1hbnlNYW55IikKICAgIHByb3RlY3RlZCBTZXQ8QW5ub1Rlc3Qy\nPiBpbnZlcnNlT3duZXJNYW55TWFueSA9IG5ldyBIYXNoU2V0KCk7CgogICAg\nQE1hcEtleQogICAgQE9uZVRvTWFueQogICAgcHJvdGVjdGVkIE1hcDxJbnRl\nZ2VyLCBGbGF0MT4gZGVmYXVsdE1hcEtleSA9IG5ldyBIYXNoTWFwKCk7Cgog\nICAgQE1hcEtleShuYW1lID0gImJhc2ljIikKICAgIEBPbmVUb01hbnkKICAg\nIHByb3RlY3RlZCBNYXA8SW50ZWdlciwgRmxhdDE+IG5hbWVkTWFwS2V5ID0g\nbmV3IEhhc2hNYXAoKTsKCiAgICBATWFwS2V5KG5hbWUgPSAiYmFzaWMiKQog\nICAgQE9uZVRvTWFueShtYXBwZWRCeSA9ICJvbmVNYW55T3duZXIiKQogICAg\ncHJvdGVjdGVkIE1hcDxTdHJpbmcsIEFubm9UZXN0Mj4gaW52ZXJzZU93bmVy\nTWFwS2V5ID0gbmV3IEhhc2hNYXAoKTsKCiAgICBwdWJsaWMgQW5ub1Rlc3Qx\nKCkgewogICAgfQoKICAgIHB1YmxpYyBBbm5vVGVzdDEobG9uZyBwaykgewog\nICAgICAgIHRoaXMobmV3IExvbmcocGspKTsKICAgIH0KCiAgICBwdWJsaWMg\nQW5ub1Rlc3QxKExvbmcgcGspIHsKICAgICAgICB0aGlzLnBrID0gcGs7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0UGsoTG9uZyB2YWwpIHsKICAgICAg\nICBwayA9IHZhbDsKICAgIH0KCiAgICBwdWJsaWMgTG9uZyBnZXRQaygpIHsK\nICAgICAgICByZXR1cm4gcGs7CiAgICB9CgogICAgcHVibGljIGludCBnZXRW\nZXJzaW9uKCkgewogICAgICAgIHJldHVybiB2ZXJzaW9uOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldEJhc2ljKGludCBpKSB7CiAgICAgICAgYmFzaWMg\nPSBpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0QmFzaWMoKSB7CiAgICAg\nICAgcmV0dXJuIGJhc2ljOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRy\nYW5zaWVudChpbnQgaSkgewogICAgICAgIHRyYW5zID0gaTsKICAgIH0KCiAg\nICBwdWJsaWMgaW50IGdldFRyYW5zaWVudCgpIHsKICAgICAgICByZXR1cm4g\ndHJhbnM7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0T3RoZXJUYWJsZUJh\nc2ljKGludCBpKSB7CiAgICAgICAgb3RoZXJUYWJsZUJhc2ljID0gaTsKICAg\nIH0KCiAgICBwdWJsaWMgaW50IGdldE90aGVyVGFibGVCYXNpYygpIHsKICAg\nICAgICByZXR1cm4gb3RoZXJUYWJsZUJhc2ljOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFNlbGZPbmVPbmUoQW5ub1Rlc3QxIG90aGVyKSB7CiAgICAg\nICAgc2VsZk9uZU9uZSA9IG90aGVyOwogICAgfQoKICAgIHB1YmxpYyBBbm5v\nVGVzdDEgZ2V0U2VsZk9uZU9uZSgpIHsKICAgICAgICByZXR1cm4gc2VsZk9u\nZU9uZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRQS0pvaW5TZWxmT25l\nT25lKEFubm9UZXN0MSBvdGhlcikgewogICAgICAgIHBrSm9pblNlbGZPbmVP\nbmUgPSBvdGhlcjsKICAgIH0KCiAgICBwdWJsaWMgQW5ub1Rlc3QxIGdldFBL\nSm9pblNlbGZPbmVPbmUoKSB7CiAgICAgICAgcmV0dXJuIHBrSm9pblNlbGZP\nbmVPbmU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0T25lT25lKEFubm9U\nZXN0MiBvdGhlcikgewogICAgICAgIG9uZU9uZSA9IG90aGVyOwogICAgfQoK\nICAgIHB1YmxpYyBBbm5vVGVzdDIgZ2V0T25lT25lKCkgewogICAgICAgIHJl\ndHVybiBvbmVPbmU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0T3RoZXJU\nYWJsZU9uZU9uZShBbm5vVGVzdDIgb3RoZXIpIHsKICAgICAgICBvdGhlclRh\nYmxlT25lT25lID0gb3RoZXI7CiAgICB9CgogICAgcHVibGljIEFubm9UZXN0\nMiBnZXRPdGhlclRhYmxlT25lT25lKCkgewogICAgICAgIHJldHVybiBvdGhl\nclRhYmxlT25lT25lOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEludmVy\nc2VPd25lck9uZU9uZShBbm5vVGVzdDIgb3RoZXIpIHsKICAgICAgICBpbnZl\ncnNlT3duZXJPbmVPbmUgPSBvdGhlcjsKICAgIH0KCiAgICBwdWJsaWMgQW5u\nb1Rlc3QyIGdldEludmVyc2VPd25lck9uZU9uZSgpIHsKICAgICAgICByZXR1\ncm4gaW52ZXJzZU93bmVyT25lT25lOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldEJsb2IoYnl0ZVtdIGJ5dGVzKSB7CiAgICAgICAgYmxvYiA9IGJ5dGVz\nOwogICAgfQoKICAgIHB1YmxpYyBieXRlW10gZ2V0QmxvYigpIHsKICAgICAg\nICByZXR1cm4gYmxvYjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTZXJp\nYWxpemVkKE9iamVjdCBvKSB7CiAgICAgICAgc2VyaWFsID0gbzsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IGdldFNlcmlhbGl6ZWQoKSB7CiAgICAgICAg\ncmV0dXJuIHNlcmlhbDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDbG9i\nKFN0cmluZyBzKSB7CiAgICAgICAgY2xvYiA9IHM7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyBnZXRDbG9iKCkgewogICAgICAgIHJldHVybiBjbG9iOwog\nICAgfQoKICAgIHB1YmxpYyBJbmhlcml0YW5jZVR5cGUgZ2V0RW51bWVyYXRp\nb24oKSB7CiAgICAgICAgcmV0dXJuIGVudW1lcmF0aW9uOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldEVudW1lcmF0aW9uKEluaGVyaXRhbmNlVHlwZSB2\nYWwpIHsKICAgICAgICBlbnVtZXJhdGlvbiA9IHZhbDsKICAgIH0KCiAgICBw\ndWJsaWMgSW5oZXJpdGFuY2VUeXBlIGdldE9yZGluYWxFbnVtZXJhdGlvbigp\nIHsKICAgICAgICByZXR1cm4gb3JkaW5hbEVudW1lcmF0aW9uOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldE9yZGluYWxFbnVtZXJhdGlvbihJbmhlcml0\nYW5jZVR5cGUgdmFsKSB7CiAgICAgICAgb3JkaW5hbEVudW1lcmF0aW9uID0g\ndmFsOwogICAgfQoKICAgIHB1YmxpYyBJbmhlcml0YW5jZVR5cGUgZ2V0U3Ry\naW5nRW51bWVyYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIHN0cmluZ0VudW1l\ncmF0aW9uOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFN0cmluZ0VudW1l\ncmF0aW9uKEluaGVyaXRhbmNlVHlwZSB2YWwpIHsKICAgICAgICBzdHJpbmdF\nbnVtZXJhdGlvbiA9IHZhbDsKICAgIH0KCiAgICBwdWJsaWMgU2V0PEFubm9U\nZXN0Mj4gZ2V0T25lTWFueSgpIHsKICAgICAgICByZXR1cm4gb25lTWFueTsK\nICAgIH0KCiAgICBwdWJsaWMgU2V0PEFubm9UZXN0Mj4gZ2V0SW52ZXJzZU93\nbmVyT25lTWFueSgpIHsKICAgICAgICByZXR1cm4gaW52ZXJzZU93bmVyT25l\nTWFueTsKICAgIH0KCiAgICBwdWJsaWMgU2V0PEFubm9UZXN0Mj4gZ2V0TWFu\neU1hbnkoKSB7CiAgICAgICAgcmV0dXJuIG1hbnlNYW55OwogICAgfQoKICAg\nIHB1YmxpYyBTZXQ8QW5ub1Rlc3QyPiBnZXRJbnZlcnNlT3duZXJNYW55TWFu\neSgpIHsKICAgICAgICByZXR1cm4gaW52ZXJzZU93bmVyTWFueU1hbnk7CiAg\nICB9CgogICAgcHVibGljIE1hcDxJbnRlZ2VyLCBGbGF0MT4gZ2V0RGVmYXVs\ndE1hcEtleSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0TWFwS2V5\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldERlZmF1bHRNYXBLZXkoTWFw\nPEludGVnZXIsIEZsYXQxPiBkZWZhdWx0TWFwS2V5KSB7CiAgICAgICAgdGhp\ncy5kZWZhdWx0TWFwS2V5ID0gZGVmYXVsdE1hcEtleTsKICAgIH0KCiAgICBw\ndWJsaWMgTWFwPEludGVnZXIsIEZsYXQxPiBnZXROYW1lZE1hcEtleSgpIHsK\nICAgICAgICByZXR1cm4gdGhpcy5uYW1lZE1hcEtleTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXROYW1lZE1hcEtleShNYXA8SW50ZWdlciwgRmxhdDE+\nIG5hbWVkTWFwS2V5KSB7CiAgICAgICAgdGhpcy5uYW1lZE1hcEtleSA9IG5h\nbWVkTWFwS2V5OwogICAgfQoKICAgIHB1YmxpYyBNYXA8U3RyaW5nLCBBbm5v\nVGVzdDI+IGdldEludmVyc2VPd25lck1hcEtleSgpIHsKICAgICAgICByZXR1\ncm4gdGhpcy5pbnZlcnNlT3duZXJNYXBLZXk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0SW52ZXJzZU93bmVyTWFwS2V5KAogICAgICAgIE1hcDxTdHJp\nbmcsIEFubm9UZXN0Mj4gaW52ZXJzZU93bmVyTWFwS2V5KSB7CiAgICAgICAg\ndGhpcy5pbnZlcnNlT3duZXJNYXBLZXkgPSBpbnZlcnNlT3duZXJNYXBLZXk7\nCiAgICB9Cn0KCg==\n","encoding":"base64"}

