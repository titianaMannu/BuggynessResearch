{"sha":"843d15d04923c1e0a1d7b10be74aa27e5086f7c6","node_id":"MDQ6QmxvYjIwNjM2NDo4NDNkMTVkMDQ5MjNjMWUwYTFkN2IxMGJlNzRhYTI3ZTUwODZmN2M2","size":4143,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/843d15d04923c1e0a1d7b10be74aa27e5086f7c6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmFubm90\nYXRpb25zOwoKCmltcG9ydCBqYXZhLnV0aWwuKjsKCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS4qOwoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJBTk5PVEVT\nVDIiKQpASW5oZXJpdGFuY2Uoc3RyYXRlZ3kgPSBJbmhlcml0YW5jZVR5cGUu\nU0lOR0xFX1RBQkxFKQpARGlzY3JpbWluYXRvckNvbHVtbihuYW1lID0gIkFO\nTk9DTFMiKQpARGlzY3JpbWluYXRvclZhbHVlKCJBTk5PMiIpCkBJZENsYXNz\nKEFubm9UZXN0Mi5PaWQuY2xhc3MpCnB1YmxpYyBjbGFzcyBBbm5vVGVzdDIg\newoKICAgIEBJZAogICAgQENvbHVtbihuYW1lID0gIlBLMSIpCiAgICBwcm90\nZWN0ZWQgbG9uZyBwazE7CgogICAgQElkCiAgICBAQ29sdW1uKG5hbWUgPSAi\nUEsyIikKICAgIHByb3RlY3RlZCBTdHJpbmcgcGsyOwoKICAgIEBWZXJzaW9u\nCiAgICBAQ29sdW1uKG5hbWUgPSAiQU5OT1ZFUiIpCiAgICBwcm90ZWN0ZWQg\nRGF0ZSB2ZXJzaW9uOwoKICAgIEBCYXNpYwogICAgcHJvdGVjdGVkIFN0cmlu\nZyBiYXNpYzsKCiAgICBAT25lVG9PbmUoZmV0Y2ggPSBGZXRjaFR5cGUuTEFa\nWSkKICAgIEBKb2luQ29sdW1uKG5hbWUgPSAiSU5WRVJTRU9ORU9ORV9QSyIs\nIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gIlBLIikKICAgIHByb3RlY3RlZCBB\nbm5vVGVzdDEgaW52ZXJzZU9uZU9uZTsKCiAgICBATWFueVRvT25lKGZldGNo\nID0gRmV0Y2hUeXBlLkxBWlkpCiAgICBASm9pbkNvbHVtbihuYW1lID0gIk1B\nTllPTkVPTkVfUEsiLCByZWZlcmVuY2VkQ29sdW1uTmFtZSA9ICJQSyIpCiAg\nICBwcm90ZWN0ZWQgQW5ub1Rlc3QxIG9uZU1hbnlPd25lcjsKCiAgICBATWFu\neVRvTWFueQogICAgQEpvaW5UYWJsZShuYW1lID0gIkFOTk9URVNUMl9NQU5Z\nTUFOWSIsCiAgICAgICAgam9pbkNvbHVtbnMgPSB7CiAgICAgICAgQEpvaW5D\nb2x1bW4obmFtZSA9ICJNQU5ZX1BLMSIsIHJlZmVyZW5jZWRDb2x1bW5OYW1l\nID0gIlBLMSIpLAogICAgICAgIEBKb2luQ29sdW1uKG5hbWUgPSAiTUFOWV9Q\nSzIiLCByZWZlcmVuY2VkQ29sdW1uTmFtZSA9ICJQSzIiKSB9LAogICAgICAg\nIGludmVyc2VKb2luQ29sdW1ucyA9CiAgICAgICAgQEpvaW5Db2x1bW4obmFt\nZSA9ICJNQU5ZRV9QSyIsIHJlZmVyZW5jZWRDb2x1bW5OYW1lID0gIlBLIikp\nCiAgICBwcm90ZWN0ZWQgU2V0PEFubm9UZXN0MT4gbWFueU1hbnkgPSBuZXcg\nSGFzaFNldCgpOwoKICAgIHB1YmxpYyBBbm5vVGVzdDIoKSB7CiAgICB9Cgog\nICAgcHVibGljIEFubm9UZXN0Mihsb25nIHBrMSwgU3RyaW5nIHBrMikgewog\nICAgICAgIHRoaXMucGsxID0gcGsxOwogICAgICAgIHRoaXMucGsyID0gcGsy\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFBrMShsb25nIHZhbCkgewog\nICAgICAgIHBrMSA9IHZhbDsKICAgIH0KCiAgICBwdWJsaWMgbG9uZyBnZXRQ\nazEoKSB7CiAgICAgICAgcmV0dXJuIHBrMTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRQazIoU3RyaW5nIHN0cikgewogICAgICAgIHBrMiA9IHN0cjsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFBrMigpIHsKICAgICAgICBy\nZXR1cm4gcGsyOwogICAgfQoKICAgIHB1YmxpYyBEYXRlIGdldFZlcnNpb24o\nKSB7CiAgICAgICAgcmV0dXJuIHZlcnNpb247CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0QmFzaWMoU3RyaW5nIHMpIHsKICAgICAgICBiYXNpYyA9IHM7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRCYXNpYygpIHsKICAgICAg\nICByZXR1cm4gYmFzaWM7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SW52\nZXJzZU9uZU9uZShBbm5vVGVzdDEgb3RoZXIpIHsKICAgICAgICBpbnZlcnNl\nT25lT25lID0gb3RoZXI7CiAgICB9CgogICAgcHVibGljIEFubm9UZXN0MSBn\nZXRJbnZlcnNlT25lT25lKCkgewogICAgICAgIHJldHVybiBpbnZlcnNlT25l\nT25lOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9uZU1hbnlPd25lcihB\nbm5vVGVzdDEgb3RoZXIpIHsKICAgICAgICBvbmVNYW55T3duZXIgPSBvdGhl\ncjsKICAgIH0KCiAgICBwdWJsaWMgQW5ub1Rlc3QxIGdldE9uZU1hbnlPd25l\ncigpIHsKICAgICAgICByZXR1cm4gb25lTWFueU93bmVyOwogICAgfQoKICAg\nIHB1YmxpYyBTZXQgZ2V0TWFueU1hbnkoKSB7CiAgICAgICAgcmV0dXJuIG1h\nbnlNYW55OwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgT2lkIHsK\nCiAgICAgICAgcHVibGljIGxvbmcgcGsxOwogICAgICAgIHB1YmxpYyBTdHJp\nbmcgcGsyOwoKICAgICAgICBwdWJsaWMgT2lkKCkgewogICAgICAgIH0KCiAg\nICAgICAgcHVibGljIE9pZChsb25nIHBrMSwgU3RyaW5nIHBrMikgewogICAg\nICAgICAgICB0aGlzLnBrMSA9IHBrMTsKICAgICAgICAgICAgdGhpcy5wazIg\nPSBwazI7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgT2lkKFN0cmluZyBz\ndHIpIHsKICAgICAgICAgICAgaWYgKHN0ciAhPSBudWxsKSB7CiAgICAgICAg\nICAgICAgICBpbnQgaW5kZXggPSBzdHIuaW5kZXhPZigiLCIpOwogICAgICAg\nICAgICAgICAgcGsxID0gTG9uZy5wYXJzZUxvbmcoc3RyLnN1YnN0cmluZygw\nLCBpbmRleCkpOwogICAgICAgICAgICAgICAgcGsyID0gc3RyLnN1YnN0cmlu\nZyhpbmRleCArIDEpOwogICAgICAgICAgICAgICAgaWYgKCJudWxsIi5lcXVh\nbHMocGsyKSkKICAgICAgICAgICAgICAgICAgICBwazIgPSBudWxsOwogICAg\nICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgYm9vbGVhbiBl\ncXVhbHMoT2JqZWN0IG8pIHsKICAgICAgICAgICAgaWYgKG8gPT0gdGhpcykK\nICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICBpZiAo\nIShvIGluc3RhbmNlb2YgT2lkKSkKICAgICAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKICAgICAgICAgICAgT2lkIG90aGVyID0gKE9pZCkgbzsKICAgICAg\nICAgICAgaWYgKHBrMSAhPSBvdGhlci5wazEpCiAgICAgICAgICAgICAgICBy\nZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGlmIChwazIgPT0gbnVsbCkKICAg\nICAgICAgICAgICAgIHJldHVybiBvdGhlci5wazIgPT0gbnVsbDsKICAgICAg\nICAgICAgcmV0dXJuIHBrMi5lcXVhbHMob3RoZXIucGsyKTsKICAgICAgICB9\nCgogICAgICAgIHB1YmxpYyBpbnQgaGFzaENvZGUoKSB7CiAgICAgICAgICAg\nIHJldHVybiAoKGludCkgcGsxKSArIChwazIgPT0gbnVsbCA/IDAgOiBwazIu\naGFzaENvZGUoKSk7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgU3RyaW5n\nIHRvU3RyaW5nKCkgewogICAgICAgICAgICByZXR1cm4gcGsxICsgIiwiICsg\nKHBrMiA9PSBudWxsID8gIm51bGwiIDogcGsyKTsKICAgICAgICB9CiAgICB9\nCn0K\n","encoding":"base64"}

