{"sha":"b0ab6d09888c14a5ae50c546197828f03c98aeef","node_id":"MDQ6QmxvYjIwNjM2NDpiMGFiNmQwOTg4OGMxNGE1YWU1MGM1NDYxOTc4MjhmMDNjOThhZWVm","size":2832,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b0ab6d09888c14a5ae50c546197828f03c98aeef","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmFubm90\nYXRpb25zOwoKCmltcG9ydCBqYXZhLnV0aWwuKjsKCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS4qOwoKQEVudGl0eQovLyBub24tcHNxbC9vcmEgZGJzIGNh\ndXNlIGlzc3VlcyB3aXRoIFNlcXVlbmNlR2VuZXJhdG9yIGluIGF1dG8tbWFw\ncGluZwovL0BTZXF1ZW5jZUdlbmVyYXRvcihuYW1lPSJzZXEiLCBzZXF1ZW5j\nZU5hbWU9ImVqYl9zZXF1ZW5jZSIpCkBUYWJsZUdlbmVyYXRvcihuYW1lID0g\nInRhYiIpCkBJZENsYXNzKEdlbmVyYXRvci5PaWQuY2xhc3MpCnB1YmxpYyBj\nbGFzcyBHZW5lcmF0b3IgewoKICAgIEBJZAogICAgcHJvdGVjdGVkIGludCBw\nazsKCiAgICBASWQKICAgIEBHZW5lcmF0ZWRWYWx1ZShzdHJhdGVneSA9IEdl\nbmVyYXRpb25UeXBlLlRBQkxFLCBnZW5lcmF0b3IgPSAidGFiIikKICAgIHBy\nb3RlY3RlZCBJbnRlZ2VyIHBrMjsKCiAgICBASWQKICAgIEBHZW5lcmF0ZWRW\nYWx1ZQogICAgcHJvdGVjdGVkIGxvbmcgcGszOwoKICAgIEBCYXNpYwogICAg\ncHJvdGVjdGVkIFN0cmluZyBzdHJpbmdGaWVsZDsKCiAgICAvLyBmb3Igbm9u\nLXNlcQogICAgcHVibGljIHZvaWQgc2V0UGsoaW50IHBrKSB7CiAgICAgICAg\ndGhpcy5wayA9IHBrOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0UGsoKSB7\nCiAgICAgICAgcmV0dXJuIHBrOwogICAgfQoKICAgIHB1YmxpYyBJbnRlZ2Vy\nIGdldFBrMigpIHsKICAgICAgICByZXR1cm4gcGsyOwogICAgfQoKICAgIHB1\nYmxpYyBsb25nIGdldFBrMygpIHsKICAgICAgICByZXR1cm4gcGszOwogICAg\nfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3RyaW5nRmllbGQoKSB7CiAgICAg\nICAgcmV0dXJuIHN0cmluZ0ZpZWxkOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFN0cmluZ0ZpZWxkKFN0cmluZyBzKSB7CiAgICAgICAgc3RyaW5nRmll\nbGQgPSBzOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgT2lkIHsK\nCiAgICAgICAgcHVibGljIGludCBwazsKICAgICAgICBwdWJsaWMgSW50ZWdl\nciBwazI7CiAgICAgICAgcHVibGljIGxvbmcgcGszOwoKICAgICAgICBwdWJs\naWMgT2lkKCkgewogICAgICAgIH0KCiAgICAgICAgcHVibGljIE9pZChTdHJp\nbmcgc3RyKSB7CiAgICAgICAgICAgIFN0cmluZ1Rva2VuaXplciB0b2sgPSBu\nZXcgU3RyaW5nVG9rZW5pemVyKHN0ciwgIiwiKTsKICAgICAgICAgICAgcGsg\nPSBJbnRlZ2VyLnBhcnNlSW50KHRvay5uZXh0VG9rZW4oKSk7CiAgICAgICAg\nICAgIHBrMiA9IEludGVnZXIudmFsdWVPZih0b2submV4dFRva2VuKCkpOwog\nICAgICAgICAgICBwazMgPSBMb25nLnZhbHVlT2YodG9rLm5leHRUb2tlbigp\nKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBib29sZWFuIGVxdWFscyhP\nYmplY3QgbykgewogICAgICAgICAgICBpZiAobyA9PSBudWxsIHx8ICEobyBp\nbnN0YW5jZW9mIE9pZCkpCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7\nCiAgICAgICAgICAgIE9pZCBvdGhlciA9IChPaWQpIG87CiAgICAgICAgICAg\nIGlmIChwayAhPSBvdGhlci5waykKICAgICAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKICAgICAgICAgICAgaWYgKHBrMyAhPSBvdGhlci5wazMpCiAgICAg\nICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGlmIChwazIg\nPT0gbnVsbCkKICAgICAgICAgICAgICAgIHJldHVybiBvdGhlci5wazIgPT0g\nbnVsbDsKICAgICAgICAgICAgcmV0dXJuIHBrMi5lcXVhbHMob3RoZXIucGsy\nKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBpbnQgaGFzaENvZGUoKSB7\nCiAgICAgICAgICAgIHJldHVybiBwayArIChwazIgPT0gbnVsbCA/IDAgOiBw\nazIuaGFzaENvZGUoKSkKICAgICAgICAgICAgICAgICsgKGludCkgKHBrMyAl\nIEludGVnZXIuTUFYX1ZBTFVFKTsKICAgICAgICB9CgogICAgICAgIHB1Ymxp\nYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgICAgIHJldHVybiBwayAr\nICIsIiArIHBrMiArICIsIiArIHBrMzsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

