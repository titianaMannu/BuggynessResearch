{"sha":"c2e4dadf7addda8fd5f2679de9ae62b0c7cbbcec","node_id":"MDQ6QmxvYjIwNjM2NDpjMmU0ZGFkZjdhZGRkYThmZDVmMjY3OWRlOWFlNjJiMGM3Y2JiY2Vj","size":3514,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c2e4dadf7addda8fd5f2679de9ae62b0c7cbbcec","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmFubm90\nYXRpb25zOwoKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwoKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5\nTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOwoKLyoqCiAqIFRlc3QgZm9yIDEt\nbQogKgogKiBAYXV0aG9yIFN0ZXZlIEtpbQogKi8KcHVibGljIGNsYXNzIFRl\nc3RPbmVUb01hbnkKICAgIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIHNldFVwKEFubm9U\nZXN0MS5jbGFzcywgQW5ub1Rlc3QyLmNsYXNzLCBGbGF0MS5jbGFzcywgQ0xF\nQVJfVEFCTEVTKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0T25lVG9N\nYW55KCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gZW1m\nLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2Fj\ndGlvbigpLmJlZ2luKCk7CiAgICAgICAgQW5ub1Rlc3QxIHBjID0gbmV3IEFu\nbm9UZXN0MSg1KTsKICAgICAgICBwYy5nZXRPbmVNYW55KCkuYWRkKG5ldyBB\nbm5vVGVzdDIoMTUsICJmb28iKSk7CiAgICAgICAgcGMuZ2V0T25lTWFueSgp\nLmFkZChuZXcgQW5ub1Rlc3QyKDIwLCAiZm9vYmFyIikpOwogICAgICAgIGVt\nLnBlcnNpc3QocGMpOwogICAgICAgIGVtLnBlcnNpc3RBbGwocGMuZ2V0T25l\nTWFueSgpKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgp\nOwogICAgICAgIGVtLmNsb3NlKCk7CgogICAgICAgIGVtID0gZW1mLmNyZWF0\nZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBwYyA9IGVtLmZpbmQoQW5ub1Rl\nc3QxLmNsYXNzLCBuZXcgTG9uZyg1KSk7CiAgICAgICAgQ29sbGVjdGlvbjxB\nbm5vVGVzdDI+IG1hbnkgPSBwYy5nZXRPbmVNYW55KCk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDIsIG1hbnkuc2l6ZSgpKTsKICAgICAgICBmb3IgKEFubm9U\nZXN0MiBwYzIgOiBtYW55KSB7CiAgICAgICAgICAgIHN3aXRjaCAoKGludCkg\ncGMyLmdldFBrMSgpKSB7CiAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAg\nICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscygiZm9vIiwgcGMyLmdldFBr\nMigpKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAg\nICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJmb29iYXIiLCBwYzIuZ2V0UGsyKCkpOwogICAgICAgICAgICAgICAgICAg\nIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAg\nICAgICAgICBmYWlsKCJ1bmtub3duIGVsZW1lbnQ6IiArIHBjMi5nZXRQazEo\nKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZW0uY2xvc2Uo\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW52ZXJzZU93bmVyT25l\nVG9NYW55KCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0g\nZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgQW5ub1Rlc3QxIHBjID0gbmV3\nIEFubm9UZXN0MSg1KTsKICAgICAgICBBbm5vVGVzdDIgcGMyID0gbmV3IEFu\nbm9UZXN0MigxNSwgImZvbyIpOwogICAgICAgIHBjLmdldEludmVyc2VPd25l\nck9uZU1hbnkoKS5hZGQocGMyKTsKICAgICAgICBwYzIuc2V0T25lTWFueU93\nbmVyKHBjKTsKICAgICAgICBwYzIgPSBuZXcgQW5ub1Rlc3QyKDIwLCAiZm9v\nYmFyIik7CiAgICAgICAgcGMuZ2V0SW52ZXJzZU93bmVyT25lTWFueSgpLmFk\nZChwYzIpOwogICAgICAgIHBjMi5zZXRPbmVNYW55T3duZXIocGMpOwogICAg\nICAgIGVtLnBlcnNpc3QocGMpOwogICAgICAgIGVtLnBlcnNpc3RBbGwocGMu\nZ2V0SW52ZXJzZU93bmVyT25lTWFueSgpKTsKICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7CgogICAg\nICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBw\nYyA9IGVtLmZpbmQoQW5ub1Rlc3QxLmNsYXNzLCBuZXcgTG9uZyg1KSk7CiAg\nICAgICAgQ29sbGVjdGlvbjxBbm5vVGVzdDI+IG1hbnkgPSBwYy5nZXRJbnZl\ncnNlT3duZXJPbmVNYW55KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIG1h\nbnkuc2l6ZSgpKTsKICAgICAgICBmb3IgKEFubm9UZXN0MiBwYzMgOiBtYW55\nKSB7CiAgICAgICAgICAgIGFzc2VydEVxdWFscyhwYywgcGMzLmdldE9uZU1h\nbnlPd25lcigpKTsKICAgICAgICAgICAgc3dpdGNoICgoaW50KSBwYzMuZ2V0\nUGsxKCkpIHsKICAgICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAg\nICAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb28iLCBwYzMuZ2V0UGsyKCkpOwog\nICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2Fz\nZSAyMDoKICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoImZvb2Jh\nciIsIHBjMy5nZXRQazIoKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7\nCiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAg\nIGZhaWwoInVua25vd24gZWxlbWVudDoiICsgcGMzLmdldFBrMSgpKTsKICAg\nICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbS5jbG9zZSgpOwogICAg\nfQp9Cg==\n","encoding":"base64"}

