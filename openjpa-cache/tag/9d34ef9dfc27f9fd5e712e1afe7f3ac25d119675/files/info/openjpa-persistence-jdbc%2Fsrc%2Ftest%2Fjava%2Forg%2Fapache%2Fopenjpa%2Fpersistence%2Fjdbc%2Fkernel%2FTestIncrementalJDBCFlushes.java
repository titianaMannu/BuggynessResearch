{"sha":"7c3a4d15cdecf96ec5ae2f9967eac71fcab65ba9","node_id":"MDQ6QmxvYjIwNjM2NDo3YzNhNGQxNWNkZWNmOTZlYzVhZTJmOTk2N2VhYzcxZmNhYjY1YmE5","size":3927,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7c3a4d15cdecf96ec5ae2f9967eac71fcab65ba9","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5r\nZXJuZWw7CgppbXBvcnQgamF2YS5zcWwuKjsKaW1wb3J0IGphdmEudXRpbC4q\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJj\nLmNvbW1vbi5hcHBzLio7CgoKaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9u\nLkFubm90YXRpb247CmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsKaW1wb3J0\nIGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3Rvcnk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5QZXJzaXN0\nZW5jZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5K\nREJDU3RvcmU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0\nb3JlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nRGVsZWdhdGluZ1N0b3JlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBUGVyc2lz\ndGVuY2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nSlBBRmFjYWRlSGVscGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5DbGFzc01hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5tZXRhLkZpZWxkTWFwcGluZzsKCnB1YmxpYyBjbGFzcyBUZXN0\nSW5jcmVtZW50YWxKREJDRmx1c2hlcwogICAgICAgIGV4dGVuZHMgQmFzZUpE\nQkNUZXN0IHsKICAgIAogICAgcHJpdmF0ZSBFbnRpdHlNYW5hZ2VyRmFjdG9y\neSBlbWY7CiAgICAKCi8vICAgIHByaXZhdGUgYm9vbGVhbiAgPSB0cnVlOwov\nLyAgICAKICAgIAogICAgcHVibGljIFRlc3RJbmNyZW1lbnRhbEpEQkNGbHVz\naGVzKFN0cmluZyBzdHIpIHsKICAgICAgICBzdXBlcihzdHIpOwogICAgfQog\nICAgCiAgICAKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIGVt\nZiA9IGdldEVtZihnZXRQcm9wcygpKTsKICAgICAgICAKICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtID1lbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAg\nICAgZGVsZXRlQWxsKFJ1bnRpbWVUZXN0MS5jbGFzcyxlbSk7CiAgICAgICAg\nCiAgICB9CiAgICAKICAgIAogICAgcHVibGljIHZvaWQgdGVzdEZsdXNoSGFw\ncGVuZWQoKSB0aHJvd3MgamF2YS5zcWwuU1FMRXhjZXB0aW9uewogICAgICAg\nIAogICAgICAgIAogICAgICAgIAogICAgICAgIEVudGl0eU1hbmFnZXIgZW0g\nPWVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3RhcnRUeChl\nbSk7CiAgICAgICAgUnVudGltZVRlc3QxIGEgPSBuZXcgUnVudGltZVRlc3Qx\nKCJhLW5hbWUiLCAxMCk7CiAgICAgICAgZW0ucGVyc2lzdChhKTsKICAgICAg\nICBlbS5mbHVzaCgpOwogICAgICAgIEpEQkNTdG9yZSBzdG9yZSA9IChKREJD\nU3RvcmUpIGdldFN0b3JlTWFuYWdlcihlbSwgdHJ1ZSk7CiAgICAgICAgQ29u\nbmVjdGlvbiBjb25uID0gc3RvcmUuZ2V0Q29ubmVjdGlvbigpOwogICAgICAg\nIENsYXNzTWFwcGluZyBtYXBwaW5nID0gc3RvcmUuZ2V0Q29uZmlndXJhdGlv\nbigpLgogICAgICAgICAgICAgICAgZ2V0TWFwcGluZ1JlcG9zaXRvcnlJbnN0\nYW5jZSgpLmdldE1hcHBpbmcoUnVudGltZVRlc3QxLmNsYXNzLAogICAgICAg\nICAgICAgICAgbnVsbCwgdHJ1ZSk7CiAgICAgICAgRmllbGRNYXBwaW5nIGZt\nID0gbWFwcGluZy5nZXRGaWVsZE1hcHBpbmcoInN0cmluZ0ZpZWxkIik7CiAg\nICAgICAgU3RyaW5nIHRhYmxlTmFtZSA9IHN0b3JlLmdldENvbmZpZ3VyYXRp\nb24oKS5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpLmdldEZ1bGxOYW1lKGZt\nLmdldFRhYmxlKCksIGZhbHNlKTsKICAgICAgICBTdHJpbmcgY29sTmFtZSA9\nIGZtLmdldENvbHVtbnMoKVswXS5nZXROYW1lKCk7CiAgICAgICAgU3RhdGVt\nZW50IHN0ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTsKICAgICAgICBSZXN1\nbHRTZXQgcnMgPSBzdC5leGVjdXRlUXVlcnkoIlNFTEVDVCAiICsgY29sTmFt\nZSArICIgRlJPTSAiCiAgICAgICAgICAgICAgICArIHRhYmxlTmFtZSArICIg\nV0hFUkUgIiArIGNvbE5hbWUgKyAiID0gJ2EtbmFtZSciKTsKICAgICAgICBp\nbnQgY291bnQgPSAwOwogICAgICAgIHdoaWxlIChycy5uZXh0KCkpCiAgICAg\nICAgICAgIGNvdW50Kys7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGNvdW50\nKTsKICAgICAgICByb2xsYmFja1R4KGVtKTsKICAgICAgICBlbmRFbShlbSk7\nCiAgICAgICAgCiAgICAgICAgCiAgICB9CiAgICAKICAgIHByaXZhdGUgU3Rv\ncmVNYW5hZ2VyIGdldFN0b3JlTWFuYWdlcihFbnRpdHlNYW5hZ2VyIGVtLCBi\nb29sZWFuIGlubmVybW9zdCkgewogICAgICAgIERlbGVnYXRpbmdTdG9yZU1h\nbmFnZXIgbWdyID0gSlBBRmFjYWRlSGVscGVyLnRvQnJva2VyKGVtKS5nZXRT\ndG9yZU1hbmFnZXIoKTsKICAgICAgICBpZiAoaW5uZXJtb3N0KQogICAgICAg\nICAgICByZXR1cm4gbWdyLmdldElubmVybW9zdERlbGVnYXRlKCk7CiAgICAg\nICAgcmV0dXJuIG1ncjsKICAgIH0KICAgIAogICAgcHJpdmF0ZSBNYXAgZ2V0\nUHJvcHMoKSB7CiAgICAgICAgTWFwIHByb3BzPW5ldyBIYXNoTWFwKCk7CiAg\nICAgICAgcHJvcHMucHV0KCJvcGVuanBhLkRhdGFDYWNoZSIsICJ0cnVlIik7\nCiAgICAgICAgcHJvcHMucHV0KCJvcGVuanBhLlJlbW90ZUNvbW1pdFByb3Zp\nZGVyIiwgInNqdm0iKTsKICAgICAgICBwcm9wcy5wdXQoIm9wZW5qcGEuRmx1\nc2hCZWZvcmVRdWVyaWVzIiwgInRydWUiKTsKICAgICAgICBwcm9wcy5wdXQo\nImphdmF4Lmpkby5vcHRpb24uSWdub3JlQ2FjaGUiLCAiZmFsc2UiKTsKICAg\nICAgICAvL3Byb3BzTWFwLnB1dCgib3BlbmpwYS5Ccm9rZXJJbXBsIiwgImtv\nZG8uZGF0YWNhY2hlLkNhY2hlVGVzdEJyb2tlciIpOy8vQ2FjaGVUZXN0QnJv\na2VyLmNsYXNzLmdldE5hbWUgKCkpOwogICAgICAgIHJldHVybiBwcm9wczsK\nICAgIH0KICAgIAp9\n","encoding":"base64"}

