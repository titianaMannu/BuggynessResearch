{"sha":"a8ed49f5b1b2847a5c1b1723f79249f974da24bc","node_id":"MDQ6QmxvYjIwNjM2NDphOGVkNDlmNWIxYjI4NDdhNWMxYjE3MjNmNzkyNDlmOTc0ZGEyNGJj","size":4534,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a8ed49f5b1b2847a5c1b1723f79249f974da24bc","content":"LyoKICogVGVzdFVua25vd25TdWJjbGFzcy5qYXZhCiAqCiAqIENyZWF0ZWQg\nb24gU2VwdGVtYmVyIDI5LCAyMDA2LCAzOjU1IFBNCiAqCiAqIFRvIGNoYW5n\nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5h\nZ2VyCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgog\nKi8KLyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNo\nZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVp\ncmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5n\nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBp\ncyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VU\nIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0\naGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3Ig\ndGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9u\ncyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAog\nKi8KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRi\nYy5rZXJuZWw7CgoKaW1wb3J0IGphdmEuc3FsLio7CmltcG9ydCBqYXZheC5z\ncWwuKjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmNvbmYuKjsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlclNQSTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3RvcnlTUEk7CgoKaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkFu\nbm90YXRpb247CmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmNvbW1vbi5hcHBz\nLio7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5K\nUEFQZXJzaXN0ZW5jZTsKCgpwdWJsaWMgY2xhc3MgVGVzdFVua25vd25TdWJj\nbGFzcyAgZXh0ZW5kcyBKREJDVGVzdENhc2UgewoKICAgIHByaXZhdGUgU3Ry\naW5nIHBhcmVudE5hbWUgPQogICAgICAgICJvcGVuanBhLmpkYmMua2VybmVs\nLlVua25vd25TdWJjbGFzc1BhcmVudCI7CiAgICBwcml2YXRlIFN0cmluZyBj\naGlsZE5hbWUgPQogICAgICAgICJvcGVuanBhLmpkYmMua2VybmVsLlVua25v\nd25TdWJjbGFzc0NoaWxkIjsKCiAgICAvKiogQ3JlYXRlcyBhIG5ldyBpbnN0\nYW5jZSBvZiBUZXN0VW5rbm93blN1YmNsYXNzICovCiAgICBwdWJsaWMgVGVz\ndFVua25vd25TdWJjbGFzcygpIHsKICAgIH0KIAogICAgcHVibGljIFRlc3RV\nbmtub3duU3ViY2xhc3MoU3RyaW5nIG5hbWUpIHsKICAgICAgICBzdXBlcihu\nYW1lKTsKICAgIH0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkKICAgICAgICB0\naHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICAvLyBwY2w6IGluIHRoZSBuZXcg\nKHJlZ2lzdHJhdGlvbi1sZXNzKSBzeXN0ZW0sIHRoaXMgc2hvdWxkIG5vdAog\nICAgICAgIC8vIG1hdHRlci4KICAgICAgICAvL2Fzc2VydE5vdFJlZ2lzdGVy\nZWQgKHBhcmVudE5hbWUpOwogICAgICAgIC8vYXNzZXJ0Tm90UmVnaXN0ZXJl\nZCAoY2hpbGROYW1lKTsKCiAgICAgICAgRW50aXR5TWFuYWdlciBlbT0gY3Vy\ncmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBrZW0gPSBPcGVuSlBBUGVyc2lzdGVuY2UuY2FzdCAoZW0pOwogICAg\nICAgIAogICAgICAgIAogICAgICAgIEpEQkNDb25maWd1cmF0aW9uIGNvbmYg\nPSAoSkRCQ0NvbmZpZ3VyYXRpb24pICgoT3BlbkpQQUVudGl0eU1hbmFnZXJT\nUEkpIGtlbSkuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgIGJvb2xlYW4g\nZmxhdCA9ICFpc0luaGVyaXRhbmNlU3RyYXRlZ3lWZXJ0aWNhbCgpOwoKICAg\nICAgICBEYXRhU291cmNlIGRzID0gKERhdGFTb3VyY2UpIGNvbmYuZ2V0Q29u\nbmVjdGlvbkZhY3RvcnkoKTsKICAgICAgICBDb25uZWN0aW9uIGMgPSBkcy5n\nZXRDb25uZWN0aW9uKGNvbmYuZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCksCiAg\nICAgICAgICAgIGNvbmYuZ2V0Q29ubmVjdGlvblBhc3N3b3JkKCkpOwogICAg\nICAgIGlmIChjLmdldEF1dG9Db21taXQoKSkKICAgICAgICAgICAgYy5zZXRB\ndXRvQ29tbWl0KGZhbHNlKTsKCiAgICAgICAgYy5jcmVhdGVTdGF0ZW1lbnQo\nKQogICAgICAgICAgICAuZXhlY3V0ZVVwZGF0ZSgiREVMRVRFIEZST00gVU5L\nTk9XTlNVQkNMQVNTUEFSRU5UIik7CiAgICAgICAgaWYgKCFmbGF0KQogICAg\nICAgICAgICBjLmNyZWF0ZVN0YXRlbWVudCgpCiAgICAgICAgICAgICAgICAu\nZXhlY3V0ZVVwZGF0ZSgiREVMRVRFIEZST00gVU5LTk9XTlNVQkNMQVNTQ0hJ\nTEQiKTsKCiAgICAgICAgU3RyaW5nIGluc2VydCA9ICJJTlNFUlQgSU5UTyBV\nTktOT1dOU1VCQ0xBU1NQQVJFTlQiCiAgICAgICAgICAgICsgIihUWVAsIElE\nLCBWRVJTTikgVkFMVUVTICgiOwoKICAgICAgICBjLmNyZWF0ZVN0YXRlbWVu\ndCgpLmV4ZWN1dGVVcGRhdGUoaW5zZXJ0CiAgICAgICAgICAgICsgIiciICsg\ncGFyZW50TmFtZSArICInLCAxLCAxKSIpOwogICAgICAgIGMuY3JlYXRlU3Rh\ndGVtZW50KCkuZXhlY3V0ZVVwZGF0ZShpbnNlcnQKICAgICAgICAgICAgKyAi\nJyIgKyBjaGlsZE5hbWUgKyAiJywgMiwgMSkiKTsKCiAgICAgICAgaWYgKCFm\nbGF0KSB7CiAgICAgICAgICAgIGluc2VydCA9ICJJTlNFUlQgSU5UTyBVTktO\nT1dOU1VCQ0xBU1NDSElMRCAoSUQpIFZBTFVFUyAoIjsKICAgICAgICAgICAg\nYy5jcmVhdGVTdGF0ZW1lbnQoKS5leGVjdXRlVXBkYXRlKGluc2VydCArICIx\nKSIpOwogICAgICAgICAgICBjLmNyZWF0ZVN0YXRlbWVudCgpLmV4ZWN1dGVV\ncGRhdGUoaW5zZXJ0ICsgIjIpIik7CiAgICAgICAgfQoKICAgICAgICBjLmNv\nbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAga2VtLmNsb3Nl\nKCk7CiAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHRlc3RVbmtub3duU3Vi\nY2xhc3MoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIC8v\nIGFzc2VydE5vdFJlZ2lzdGVyZWQgKHBhcmVudE5hbWUpOwogICAgICAgIC8v\nIGFzc2VydE5vdFJlZ2lzdGVyZWQgKGNoaWxkTmFtZSk7CgogICAgICAgIENs\nYXNzIGMgPSBVbmtub3duU3ViY2xhc3NQYXJlbnQuY2xhc3M7CgogICAgICAg\nIC8vIGFzc2VydE5vdFJlZ2lzdGVyZWQgKGNoaWxkTmFtZSk7CgogICAgICAg\nIEVudGl0eU1hbmFnZXIgZW09IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7ICAg\nICAgICAgICAgCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIga2VtID0g\nT3BlbkpQQVBlcnNpc3RlbmNlLmNhc3QoZW0pOwoKICAgICAgICAKICAgICAg\nICBzdGFydFR4KGVtKTsKICAgICAgICAvLyBjID0gVW5rbm93blN1YmNsYXNz\nQ2hpbGQuY2xhc3M7CgogICAgICAgIC8vRklYTUUganRob21hcyBjb252ZXJz\naW9uIGluY29tcGxldGUgCiAgICAgICAgLyoKICAgICAgICBhc3NlcnRTaXpl\nKDEsIGtlbS5jcmVhdGVFeHRlbnQoVW5rbm93blN1YmNsYXNzUGFyZW50LmNs\nYXNzLCBmYWxzZSkpOwogICAgICAgIGFzc2VydFNpemUoMSwga2VtLm5ld1F1\nZXJ5KAogICAgICAgICAgICBrZW0uY3JlYXRlRXh0ZW50KFVua25vd25TdWJj\nbGFzc1BhcmVudC5jbGFzcywgZmFsc2UpLCAiIikpOwoKICAgICAgICBhc3Nl\ncnRTaXplKDIsIGtlbS5jcmVhdGVFeHRlbnQoVW5rbm93blN1YmNsYXNzUGFy\nZW50LmNsYXNzLCB0cnVlKSk7CiAgICAgICAgYXNzZXJ0U2l6ZSgyLCBrZW0u\nY3JlYXRlUXVlcnkoa2VtLmNyZWF0ZUV4dGVudChVbmtub3duU3ViY2xhc3NQ\nYXJlbnQuY2xhc3MsIHRydWUpLCAiIikpOwogICAgICAgICovCiAgICAgICAg\nZW5kVHgoZW0pOwogICAgICAgIAogICAgICAgIGVtLmNsb3NlKCk7CiAgICAg\nICAga2VtLmNsb3NlKCk7CiAgICB9CiAgICAKICAgIAp9Cg==\n","encoding":"base64"}

