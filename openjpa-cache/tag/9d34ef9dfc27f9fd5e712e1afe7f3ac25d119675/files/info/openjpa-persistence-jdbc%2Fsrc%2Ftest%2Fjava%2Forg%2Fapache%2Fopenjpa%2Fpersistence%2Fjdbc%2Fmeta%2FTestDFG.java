{"sha":"4f1540875f24dbb564c5f565cad026ad2d1de4f9","node_id":"MDQ6QmxvYjIwNjM2NDo0ZjE1NDA4NzVmMjRkYmI1NjRjNWY1NjVjYWQwMjZhZDJkMWRlNGY5","size":3616,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4f1540875f24dbb564c5f565cad026ad2d1de4f9","content":"LyoKICogVGVzdERGRy5qYXZhCiAqCiAqIENyZWF0ZWQgb24gT2N0b2JlciAy\nLCAyMDA2LCA1OjU1IFBNCiAqCiAqIFRvIGNoYW5nZSB0aGlzIHRlbXBsYXRl\nLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2VyCiAqIGFuZCBvcGVu\nIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8KCi8qCiAqIExpY2Vu\nc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1\nbmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVl\nbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1dGVkIHdp\ndGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiAqIHJl\nZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNl\ncyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5z\nZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5v\ndCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAqIHdpdGgg\ndGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp\nY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2Vz\nL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNh\nYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdhcmUg\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9y\nIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZp\nYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRp\nb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICovCnBhY2thZ2Ugb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMubWV0YTsKCmltcG9y\ndCBqYXZhLnV0aWwuKjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0\neVRyYW5zYWN0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5l\nbC5PcGVuSlBBU3RhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLm1ldGEuRmllbGRNZXRhRGF0YTsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuamRiYy5jb21tb24uYXBwcy4qOwoKCmltcG9y\ndCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5Bbm5vdGF0aW9uOwppbXBvcnQganVu\naXQuZnJhbWV3b3JrLio7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRp\ndHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFu\nYWdlckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5h\nZ2VyOwoKCgpwdWJsaWMgY2xhc3MgVGVzdERGRyBleHRlbmRzIG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmtlcm5lbC5CYXNlSkRCQ1Rl\nc3R7CiAgICAKICAgIHByaXZhdGUgT2JqZWN0IG9pZDsKICAgIC8qKiBDcmVh\ndGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RERkcgKi8KICAgIHB1YmxpYyBU\nZXN0REZHKFN0cmluZyBuYW1lKQogICAgewogICAgCXN1cGVyKG5hbWUpOwog\nICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgIGRl\nbGV0ZUFsbChERkdUZXN0LmNsYXNzKTsKICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBwbSA9IChPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50\naXR5TWFuYWdlcigpOwogICAgICAgIEVudGl0eVRyYW5zYWN0aW9uIHQ9IHBt\nLmdldFRyYW5zYWN0aW9uKCk7CiAgICAgICAgdC5iZWdpbigpOwogICAgICAg\nIERGR1Rlc3QgYSA9IG5ldyBERkdUZXN0KCk7CiAgICAgICAgcG0ucGVyc2lz\ndChhKTsKICAgICAgICBhLnNldE5vbkRGR0ZpZWxkKDIpOwogICAgICAgIHQu\nY29tbWl0KCk7CiAgICAgICAgCiAgICAgICAgLy8gbW9kaWZ5IGEgZmllbGQg\nc28gdGhhdCBpZiB3ZSdyZSBleGFtaW5pbmcgc3FsIHdlIGNhbiBzZWUKICAg\nICAgICAvLyBob3cgbXVjaCBpcyBmbHVzaGVkLgogICAgICAgIHQuYmVnaW4o\nKTsKICAgICAgICBhLnNldERGR0ZpZWxkKDEpOwogICAgICAgIHQuY29tbWl0\nKCk7CiAgICAgICAgCiAgICAgICAgb2lkID0gcG0uZ2V0T2JqZWN0SWQoYSk7\nCiAgICAgICAgcG0uY2xvc2UoKTsKICAgIH0KICAgIAogICAgcHVibGljIHZv\naWQgdGVzdERGRygpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBw\nbSA9IChPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdl\ncigpOwogICAgICAgIAogICAgICAgIERGR1Rlc3QgYSA9IChERkdUZXN0KSBw\nbS5nZXRPYmplY3RJZChvaWQpOwogICAgICAgIAogICAgICAgIC8vIGNoZWNr\nIHRoZSBub24tZGZnIGZpZWxkcwogICAgICAgIAogICAgICAgIE9wZW5KUEFT\ndGF0ZU1hbmFnZXIgc20gPSBnZXRTdGF0ZU1hbmFnZXIoYSxwbSk7CiAgICAg\nICAgRmllbGRNZXRhRGF0YSBmbWQgPSBzbS5nZXRNZXRhRGF0YSgpLmdldEZp\nZWxkKCJub25ERkdGaWVsZCIpOwogICAgICAgIGFzc2VydFRydWUoIm5vbkRG\nR0ZpZWxkIHNob3VsZCBub3QgYmUgbG9hZGVkIiwKICAgICAgICAgICAgICAg\nICFzbS5nZXRMb2FkZWQoKS5nZXQoZm1kLmdldEluZGV4KCkpKTsKICAgICAg\nICAKICAgICAgICBmbWQgPSBzbS5nZXRNZXRhRGF0YSgpLmdldEZpZWxkKCJk\nZmdGaWVsZCIpOwogICAgICAgIGFzc2VydFRydWUoImRmZ0ZpZWxkIHNob3Vs\nZCBiZSBsb2FkZWQiLAogICAgICAgICAgICAgICAgc20uZ2V0TG9hZGVkKCku\nZ2V0KGZtZC5nZXRJbmRleCgpKSk7CiAgICAgICAgCiAgICAgICAgaW50IHZh\nbCA9IGEuZ2V0Tm9uREZHRmllbGQoKTsKICAgICAgICBhc3NlcnRUcnVlKCJu\nb25ERkdGaWVsZCBzaG91bGQgYmUgbG9hZGVkIiwKICAgICAgICAgICAgICAg\nIHNtLmdldExvYWRlZCgpLmdldChmbWQuZ2V0SW5kZXgoKSkpOwogICAgICAg\nIGFzc2VydEVxdWFscygyLCB2YWwpOwogICAgICAgIAogICAgICAgIHBtLmNs\nb3NlKCk7CiAgICB9CiAgICAKICAgIC8vIGl0J2QgYmUgbmljZSBpZiB3ZSBj\nb3VsZCBhY3R1YWxseSBhdXRvbWF0ZSB0aGlzIHRlc3QuIEFzIGl0CiAgICAv\nLyBzdGFuZHMsIHRoaXMgaXMganVzdCBoZXJlIHNvIHRoYXQgdGhlcmUncyBh\nbiBlYXN5IHBsYWNlIHRvIGxvb2sKICAgIC8vIGF0IHRoZSBTUUwuCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0REZHV3JpdGVzKCkgewogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAg\nICAgCiAgICAgICAgCiAgICAgICAgREZHVGVzdCBhID0gKERGR1Rlc3QpIHBt\nLmdldE9iamVjdElkKG9pZCk7CiAgICAgICAgYS5zZXRERkdGaWVsZCgzKTsK\nICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgCiAgICAgICAgcG0uY2xvc2Uo\nKTsKICAgIH0KICAgIAp9Cg==\n","encoding":"base64"}

