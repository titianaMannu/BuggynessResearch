{"sha":"7cbc469e3fccc4f93884980bcac890a87090eb32","node_id":"MDQ6QmxvYjIwNjM2NDo3Y2JjNDY5ZTNmY2NjNGY5Mzg4NDk4MGJjYWM4OTBhODcwOTBlYjMy","size":4222,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7cbc469e3fccc4f93884980bcac890a87090eb32","content":"LyoKICogVGVzdEludGVybWVkaWF0ZS5qYXZhCiAqCiAqIENyZWF0ZWQgb24g\nT2N0b2JlciAzLCAyMDA2LCAxMjowMSBQTQogKgogKiBUbyBjaGFuZ2UgdGhp\ncyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFuYWdlcgog\nKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4KICovCgov\nKgogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRp\nb24gKEFTRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGlj\nZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQogKiBkaXN0\ncmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1h\ndGlvbgogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBB\nU0YgbGljZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0aGUgQXBh\nY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vuc2UiKTsg\neW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5j\nZQogKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5\nIG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9y\nZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQg\nYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAq\nIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRp\nc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FS\nUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIg\nZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUK\nICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFu\nZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4gICAgCiAqLwpw\nYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLm1l\ndGE7CgppbXBvcnQgamF2YS51dGlsLio7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEua2VybmVsLkJyb2tlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5rZXJuZWwuQnJva2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5rZXJuZWwuT3BlbkpQQVN0YXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5tZXRhLkZpZWxkTWV0YURhdGE7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNl\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLkpQQUZh\nY2FkZUhlbHBlcjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuamRiYy5jb21tb24uYXBwcy4qOwoKCmltcG9ydCBqYXZhLmxhbmcu\nYW5ub3RhdGlvbi5Bbm5vdGF0aW9uOwppbXBvcnQganVuaXQuZnJhbWV3b3Jr\nLio7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQ\nQUVudGl0eU1hbmFnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOwoKCnB1Ymxp\nYyBjbGFzcyBUZXN0SW50ZXJtZWRpYXRlIGV4dGVuZHMgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmpkYmMua2VybmVsLkJhc2VKREJDVGVzdAp7\nCiAgICAKICAgIHByaXZhdGUgT2JqZWN0IF9wYzsKICAgIHByaXZhdGUgT2Jq\nZWN0IF9yZWw7CiAgICAKICAgIHB1YmxpYyBUZXN0SW50ZXJtZWRpYXRlKFN0\ncmluZyB0ZXN0KSB7CiAgICAgICAgc3VwZXIodGVzdCk7CiAgICB9CiAgICAK\nICAgIC8qKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RJbnRlcm1l\nZGlhdGUgKi8KICAgIHB1YmxpYyBUZXN0SW50ZXJtZWRpYXRlKCkgewogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBSdW50\naW1lVGVzdDEgcGMgPSBuZXcgUnVudGltZVRlc3QxKCJwYyIsIDEpOwogICAg\nICAgIFJ1bnRpbWVUZXN0MSByZWwgPSBuZXcgUnVudGltZVRlc3QxKCJyZWwi\nLCAyKTsKICAgICAgICBwYy5zZXRTZWxmT25lT25lKHJlbCk7CiAgICAgICAg\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPShPcGVuSlBBRW50\naXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIEJy\nb2tlciBicm9rZXIgPSBKUEFGYWNhZGVIZWxwZXIudG9Ccm9rZXIoZW0pOwog\nICAgICAgIGJyb2tlci5iZWdpbigpOwogICAgICAgIGJyb2tlci5wZXJzaXN0\nKHBjLCBudWxsKTsKICAgICAgICBicm9rZXIuY29tbWl0KCk7CiAgICAgICAg\nX3BjID0gYnJva2VyLmdldE9iamVjdElkKHBjKTsKICAgICAgICBfcmVsID0g\nYnJva2VyLmdldE9iamVjdElkKHJlbCk7CiAgICAgICAgYnJva2VyLmNsb3Nl\nKCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KICAgIAogICAgcHVibGlj\nIHZvaWQgdGVzdE9uZU9uZVNldHNJbnRlcm1lZGlhdGUoKSB7CiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPShPcGVuSlBBRW50aXR5TWFuYWdl\nciljdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIEJyb2tlciBicm9r\nZXIgPSBKUEFGYWNhZGVIZWxwZXIudG9Ccm9rZXIoZW0pOwogICAgICAgIHRy\neSB7CiAgICAgICAgICAgIG9uZU9uZUludGVybWVkaWF0ZVRlc3QoYnJva2Vy\nKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBicm9rZXIuY2xv\nc2UoKTsKICAgICAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICB9CiAgICB9\nCiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3REYXRhQ2FjaGVPbmVPbmVTZXRz\nSW50ZXJtZWRpYXRlKCkgewogICAgICAgIEJyb2tlckZhY3RvcnkgZmFjdG9y\neSA9IGdldEJyb2tlckZhY3RvcnkobmV3IFN0cmluZ1tdewogICAgICAgICAg\nICAib3BlbmpwYS5EYXRhQ2FjaGUiLCAidHJ1ZSIsCiAgICAgICAgICAgICJv\ncGVuanBhLlJlbW90ZUNvbW1pdFByb3ZpZGVyIiwgInNqdm0iLAogICAgICAg\nIH0pOwogICAgICAgIAogICAgICAgIC8vIGdldCBvYmogaW50byBjYWNoZQog\nICAgICAgIEJyb2tlciBicm9rZXIgPSBmYWN0b3J5Lm5ld0Jyb2tlcigpOwog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIGJyb2tlci5maW5kKF9wYywgdHJ1\nZSwgbnVsbCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgYnJv\na2VyLmNsb3NlKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIHRl\nc3QgZnJvbSBjYWNoZQogICAgICAgIGJyb2tlciA9IGZhY3RvcnkubmV3QnJv\na2VyKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgb25lT25lSW50ZXJt\nZWRpYXRlVGVzdChicm9rZXIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAg\nICAgICAgIGJyb2tlci5jbG9zZSgpOwogICAgICAgICAgICB0cnkgewogICAg\nICAgICAgICAgICAgZmFjdG9yeS5jbG9zZSgpOwogICAgICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICB9CiAgICAgICAgfQog\nICAgfQogICAgCiAgICAvKioKICAgICAqIEhlbHBlciBtZXRob2QgdG8gc2Vl\nIHRoYXQgdGhlIG9uZSB0byBvbmUgdXNlcyBhbiBpbnRlcm1lZGlhdGUgdmFs\ndWVzLgogICAgICovCiAgICBwcml2YXRlIHZvaWQgb25lT25lSW50ZXJtZWRp\nYXRlVGVzdChCcm9rZXIgYnJva2VyKSB7CiAgICAgICAgUnVudGltZVRlc3Qx\nIHBjID0gKFJ1bnRpbWVUZXN0MSkgYnJva2VyLmZpbmQoX3BjLCB0cnVlLCBu\ndWxsKTsKICAgICAgICBPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtID0gYnJva2Vy\nLmdldFN0YXRlTWFuYWdlcihwYyk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChz\nbSk7CiAgICAgICAgRmllbGRNZXRhRGF0YSBmbWQgPSBzbS5nZXRNZXRhRGF0\nYSgpLmdldEZpZWxkKCJzZWxmT25lT25lIik7CiAgICAgICAgYXNzZXJ0Tm90\nTnVsbChmbWQpOwogICAgICAgIGFzc2VydEVxdWFscyhfcmVsLCBzbS5nZXRJ\nbnRlcm1lZGlhdGUoZm1kLmdldEluZGV4KCkpKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoX3JlbCwgYnJva2VyLmdldE9iamVjdElkKHBjLmdldFNlbGZPbmVP\nbmUoKSkpOwogICAgICAgIGFzc2VydE51bGwoc20uZ2V0SW50ZXJtZWRpYXRl\nKGZtZC5nZXRJbmRleCgpKSk7CiAgICB9CiAgICAKICAgIAp9Cg==\n","encoding":"base64"}

