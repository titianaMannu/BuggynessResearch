{"sha":"1cdd1607a6e0bf7351d4548b10b73f00db093831","node_id":"MDQ6QmxvYjIwNjM2NDoxY2RkMTYwN2E2ZTBiZjczNTFkNDU0OGIxMGI3M2YwMGRiMDkzODMx","size":3996,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1cdd1607a6e0bf7351d4548b10b73f00db093831","content":"LyoKICogVGVzdEpvaW5Ub0Jhc2VDbGFzcy5qYXZhCiAqCiAqIENyZWF0ZWQg\nb24gT2N0b2JlciAzLCAyMDA2LCA0OjE5IFBNCiAqCiAqIFRvIGNoYW5nZSB0\naGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2Vy\nCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8K\nCi8qCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUu\nb3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJl\nZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywK\nICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMg\nZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBX\nQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhl\nciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICov\nCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMu\nbWV0YTsKCmltcG9ydCBqYXZhLnV0aWwuKjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFwcGluZzsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuRmllbGRNYXBwaW5n\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLkNvbHVt\nbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Gb3Jl\naWduS2V5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1h\nLlRhYmxlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5qZGJjLmNvbW1vbi5hcHBzLio7CgoKaW1wb3J0IGphdmEubGFuZy5hbm5v\ndGF0aW9uLkFubm90YXRpb247CmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsK\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50\naXR5TWFuYWdlckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CgoKcHVibGljIGNs\nYXNzIFRlc3RKb2luVG9CYXNlQ2xhc3MgZXh0ZW5kcyBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuamRiYy5rZXJuZWwuQmFzZUpEQkNUZXN0ewog\nICAgCiAgICAKICAgIAogICAgLyoqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ug\nb2YgVGVzdEpvaW5Ub0Jhc2VDbGFzcyAqLwogICAgcHVibGljIFRlc3RKb2lu\nVG9CYXNlQ2xhc3MoU3RyaW5nIG5hbWUpIAogICAgewogICAgCXN1cGVyKG5h\nbWUpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWFwcGluZygp\nIHsKICAgICAgICBDbGFzc01hcHBpbmcgbWFwcGluZyA9ICgoSkRCQ0NvbmZp\nZ3VyYXRpb24pIGdldENvbmZpZ3VyYXRpb24oKSkuCiAgICAgICAgICAgIGdl\ndE1hcHBpbmdSZXBvc2l0b3J5SW5zdGFuY2UoKS4KICAgICAgICAgICAgZ2V0\nTWFwcGluZyhNYXBwaW5nVGVzdDUuY2xhc3MsIG51bGwsIHRydWUpOwoKICAg\nICAgICBUYWJsZSBzdXBUYWJsZSA9IG1hcHBpbmcuZ2V0UENTdXBlcmNsYXNz\nTWFwcGluZygpLmdldFRhYmxlKCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShtYXBw\naW5nLmdldFRhYmxlKCkgIT0gc3VwVGFibGUpOwogICAgICAgIEZpZWxkTWFw\ncGluZyBmaWVsZCA9IG1hcHBpbmcuZ2V0RmllbGRNYXBwaW5nKCJ2ZXJ0UmVs\nIik7CiAgICAgICAgRm9yZWlnbktleSBmayA9IGZpZWxkLmdldEZvcmVpZ25L\nZXkoKTsKICAgICAgICBhc3NlcnRFcXVhbHMobWFwcGluZy5nZXRUYWJsZSgp\nLCBmay5nZXRUYWJsZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoc3VwVGFi\nbGUsIGZrLmdldFByaW1hcnlLZXlUYWJsZSgpKTsKICAgICAgICBDb2x1bW5b\nXSBjb2xzID0gZmllbGQuZ2V0Q29sdW1ucygpOwogICAgICAgIGFzc2VydEVx\ndWFscygyLCBjb2xzLmxlbmd0aCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJW\nMSIsIGNvbHNbMF0uZ2V0TmFtZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nIlYyIiwgY29sc1sxXS5nZXROYW1lKCkpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RDb25zdHJhaW50QW5hbHlzaXMoKSB7CiAgICAgICAgLy9GSVhN\nRSBqdGhvbWFzCiAgICAgICAgLy9QZXJzaXN0ZW5jZU1hbmFnZXJGYWN0b3J5\nIGZhY3RvcnkgPSBnZXRQTUZhY3RvcnkobmV3IFN0cmluZ1tdewogICAgICAg\nICAgLy8gICJvcGVuanBhLmpkYmMuU2NoZW1hRmFjdG9yeSIsICJuYXRpdmUo\nRm9yZWlnbktleXM9dHJ1ZSkiLAogICAgICAgIC8vfSk7CiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IGZhY3Rvcnk9bnVsbDsKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGZhY3RvcnkuY3JlYXRlRW50\naXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIAog\nICAgICAgZGVsZXRlQWxsKCBNYXBwaW5nVGVzdDEuY2xhc3MscG0pOwogICAg\nICAgZGVsZXRlQWxsKCBNYXBwaW5nVGVzdDIuY2xhc3MscG0pOwogICAgICAg\nIGVuZFR4KHBtKTsKICAgICAgICBwbS5jbG9zZSgpOwoKICAgICAgICBwbSA9\nIGZhY3RvcnkuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0\nVHgocG0pOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykg\newogICAgICAgICAgICBNYXBwaW5nVGVzdDUgcGMxID0gbmV3IE1hcHBpbmdU\nZXN0NSgpOwogICAgICAgICAgICBwYzEuc2V0UGsxKGkpOwogICAgICAgICAg\nICBwYzEuc2V0UGsyKGkgKyAxKTsKICAgICAgICAgICAgTWFwcGluZ1Rlc3Q1\nIHBjMiA9IG5ldyBNYXBwaW5nVGVzdDUoKTsKICAgICAgICAgICAgcGMyLnNl\ndFBrMShpICsgMTApOwogICAgICAgICAgICBwYzIuc2V0UGsyKGkgKyAxMSk7\nCiAgICAgICAgICAgIHBjMS5zZXRWZXJ0UmVsKHBjMik7CiAgICAgICAgICAg\nIHBjMi5zZXRWZXJ0UmVsKHBjMSk7CiAgICAgICAgICAgIHBtLnBlcnNpc3Qo\ncGMxKTsKICAgICAgICB9CiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIHBt\nLmNsb3NlKCk7CgogICAgICAgIGFzc2VydFNpemVzKDIwLCBNYXBwaW5nVGVz\ndDUuY2xhc3MpOwoKICAgICAgICBwbSA9IGZhY3RvcnkuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIGRlbGV0\nZUFsbChNYXBwaW5nVGVzdDIuY2xhc3MscG0pOwogICAgICAgIGVuZFR4KHBt\nKTsKICAgICAgICBwbS5jbG9zZSgpOwogICAgfQoKICAgIHByaXZhdGUgdm9p\nZCBhc3NlcnRTaXplcyhpbnQgc2l6ZSwgQ2xhc3MgY2xzKSB7CiAgICAgICAg\nYXNzZXJ0U2l6ZShzaXplLCBjdXJyZW50RW50aXR5TWFuYWdlcigpLmNyZWF0\nZUV4dGVudChjbHMsIHRydWUpLmxpc3QoKSk7CiAgICB9Cn0K\n","encoding":"base64"}

