{"sha":"3acd04bcc31161087014bcb5c3ec9cc951a8119d","node_id":"MDQ6QmxvYjIwNjM2NDozYWNkMDRiY2MzMTE2MTA4NzAxNGJjYjVjM2VjOWNjOTUxYTgxMTlk","size":10685,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3acd04bcc31161087014bcb5c3ec9cc951a8119d","content":"LyoKICogVGVzdE1hcHBlZEJ5S2V5TWFwcy5qYXZhCiAqCiAqIENyZWF0ZWQg\nb24gT2N0b2JlciA0LCAyMDA2LCA5OjI2IEFNCiAqCiAqIFRvIGNoYW5nZSB0\naGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2Vy\nCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8K\nCi8qCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUu\nb3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJl\nZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywK\nICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMg\nZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBX\nQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhl\nciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICov\nCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMu\nbWV0YTsKCmltcG9ydCBqYXZhLnV0aWwuKjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFwcGluZzsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuRmllbGRNYXBwaW5n\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5zdHJhdHMu\nUmVsYXRpb25NYXBJbnZlcnNlS2V5RmllbGRTdHJhdGVneTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzLlJlbGF0aW9uTWFw\nVGFibGVGaWVsZFN0cmF0ZWd5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnV0aWwuQWJzdHJhY3RMUlNQcm94eU1hcDsKCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5jb21tb24uYXBwcy4qOwoKCmlt\ncG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5Bbm5vdGF0aW9uOwppbXBvcnQg\nanVuaXQuZnJhbWV3b3JrLio7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5F\nbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5\nTWFuYWdlckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLk9wZW5KUEFRdWVyeTsKCgpwdWJsaWMgY2xhc3MgVGVzdE1hcHBlZEJ5S2V5\nTWFwcyBleHRlbmRzIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5q\nZGJjLmtlcm5lbC5CYXNlSkRCQ1Rlc3QKewogICAgCiAgICAvKiogQ3JlYXRl\ncyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0TWFwcGVkQnlLZXlNYXBzICovCiAg\nICBwdWJsaWMgVGVzdE1hcHBlZEJ5S2V5TWFwcyhTdHJpbmcgbmFtZSkgCiAg\nICB7CiAgICAJc3VwZXIobmFtZSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2\nb2lkIHRlc3RJbnZlcnNlS2V5TWFwTWFwcGluZygpIHsKICAgICAgICBKREJD\nQ29uZmlndXJhdGlvbiBjb25mID0gKEpEQkNDb25maWd1cmF0aW9uKSBnZXRD\nb25maWd1cmF0aW9uKCk7CiAgICAgICAgQ2xhc3NNYXBwaW5nIHBjID0gY29u\nZi5nZXRNYXBwaW5nUmVwb3NpdG9yeUluc3RhbmNlKCkuZ2V0TWFwcGluZwog\nICAgICAgICAgICAgICAgKEludmVyc2VLZXlNYXBQQy5jbGFzcywgbnVsbCwg\ndHJ1ZSk7CiAgICAgICAgRmllbGRNYXBwaW5nIG1hcCA9IHBjLmdldEZpZWxk\nTWFwcGluZygiaGVscGVycyIpOwogICAgICAgIAogICAgICAgIENsYXNzTWFw\ncGluZyBoZWxwZXIgPSBjb25mLmdldE1hcHBpbmdSZXBvc2l0b3J5SW5zdGFu\nY2UoKS5nZXRNYXBwaW5nCiAgICAgICAgICAgICAgICAoSGVscGVyUEMuY2xh\nc3MsIG51bGwsIHRydWUpOwogICAgICAgIEZpZWxkTWFwcGluZyBzdHIgPSBo\nZWxwZXIuZ2V0RmllbGRNYXBwaW5nKCJzdHJpbmdGaWVsZCIpOwogICAgICAg\nIAogICAgICAgIGFzc2VydEVxdWFscygic3RyaW5nRmllbGQiLCBtYXAuZ2V0\nS2V5KCkuZ2V0VmFsdWVNYXBwZWRCeSgpKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoc3RyLCBtYXAuZ2V0S2V5KCkuZ2V0VmFsdWVNYXBwZWRCeU1ldGFEYXRh\nKCkpOwogICAgICAgIGFzc2VydFRydWUobWFwLmdldFN0cmF0ZWd5KCkgaW5z\ndGFuY2VvZgogICAgICAgICAgICAgICAgUmVsYXRpb25NYXBJbnZlcnNlS2V5\nRmllbGRTdHJhdGVneSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIG1hcC5n\nZXRLZXlNYXBwaW5nKCkuZ2V0Q29sdW1ucygpLmxlbmd0aCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKG1hcC5nZXRLZXlNYXBwaW5nKCkuZ2V0Q29sdW1ucygp\nWzBdLAogICAgICAgICAgICAgICAgc3RyLmdldENvbHVtbnMoKVswXSk7CiAg\nICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RKb2luVGFibGVNYXBNYXBw\naW5nKCkgewogICAgICAgIEpEQkNDb25maWd1cmF0aW9uIGNvbmYgPSAoSkRC\nQ0NvbmZpZ3VyYXRpb24pIGdldENvbmZpZ3VyYXRpb24oKTsKICAgICAgICBD\nbGFzc01hcHBpbmcgcGMgPSBjb25mLmdldE1hcHBpbmdSZXBvc2l0b3J5SW5z\ndGFuY2UoKS5nZXRNYXBwaW5nCiAgICAgICAgICAgICAgICAoSm9pblRhYmxl\nTWFwUEMuY2xhc3MsIG51bGwsIHRydWUpOwogICAgICAgIEZpZWxkTWFwcGlu\nZyBtYXAgPSBwYy5nZXRGaWVsZE1hcHBpbmcoImhlbHBlcnMiKTsKICAgICAg\nICAKICAgICAgICBDbGFzc01hcHBpbmcgaGVscGVyID0gY29uZi5nZXRNYXBw\naW5nUmVwb3NpdG9yeUluc3RhbmNlKCkuZ2V0TWFwcGluZwogICAgICAgICAg\nICAgICAgKEhlbHBlclBDLmNsYXNzLCBudWxsLCB0cnVlKTsKICAgICAgICBG\naWVsZE1hcHBpbmcgc3RyID0gaGVscGVyLmdldEZpZWxkTWFwcGluZygic3Ry\naW5nRmllbGQiKTsKICAgICAgICAKICAgICAgICBhc3NlcnRFcXVhbHMoInN0\ncmluZ0ZpZWxkIiwgbWFwLmdldEtleSgpLmdldFZhbHVlTWFwcGVkQnkoKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKHN0ciwgbWFwLmdldEtleSgpLmdldFZh\nbHVlTWFwcGVkQnlNZXRhRGF0YSgpKTsKICAgICAgICBhc3NlcnRUcnVlKG1h\ncC5nZXRTdHJhdGVneSgpIGluc3RhbmNlb2YgUmVsYXRpb25NYXBUYWJsZUZp\nZWxkU3RyYXRlZ3kpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBtYXAuZ2V0\nS2V5TWFwcGluZygpLmdldENvbHVtbnMoKS5sZW5ndGgpOwogICAgICAgIGFz\nc2VydEVxdWFscyhtYXAuZ2V0S2V5TWFwcGluZygpLmdldENvbHVtbnMoKVsw\nXSwKICAgICAgICAgICAgICAgIHN0ci5nZXRDb2x1bW5zKClbMF0pOwogICAg\nfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW52ZXJzZUtleU1hcCgpIHsK\nICAgICAgICBtYXBwZWRCeU1hcChuZXcgSW52ZXJzZUtleU1hcFBDKCksIGZh\nbHNlKTsKICAgICAgICBxdWVyeU1hcChuZXcgSW52ZXJzZUtleU1hcFBDKCkp\nOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW52ZXJzZUtleUxS\nU01hcCgpIHsKICAgICAgICBtYXBwZWRCeU1hcChuZXcgSW52ZXJzZUtleU1h\ncFBDKCksIHRydWUpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nSm9pblRhYmxlTWFwKCkgewogICAgICAgIG1hcHBlZEJ5TWFwKG5ldyBKb2lu\nVGFibGVNYXBQQygpLCBmYWxzZSk7CiAgICAgICAgcXVlcnlNYXAobmV3IEpv\naW5UYWJsZU1hcFBDKCkpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0\nZXN0Sm9pblRhYmxlTFJTTWFwKCkgewogICAgICAgIG1hcHBlZEJ5TWFwKG5l\ndyBKb2luVGFibGVNYXBQQygpLCB0cnVlKTsKICAgIH0KICAgIAogICAgcHJp\ndmF0ZSB2b2lkIG1hcHBlZEJ5TWFwKE1hcHBlZEJ5TWFwUEMgcGMsIGJvb2xl\nYW4gbHJzKSB7CiAgICAgICBkZWxldGVBbGwoSGVscGVyUEMuY2xhc3MpOwog\nICAgICAgZGVsZXRlQWxsKHBjLmdldENsYXNzKCkpOwogICAgICAgIAogICAg\nICAgIEhlbHBlclBDIGgxID0gbmV3IEhlbHBlclBDKCk7CiAgICAgICAgaDEu\nc2V0U3RyaW5nRmllbGQoImgxIik7CiAgICAgICAgcGMuZ2V0SGVscGVycygp\nLnB1dChoMS5nZXRTdHJpbmdGaWVsZCgpLCBoMSk7CiAgICAgICAgSGVscGVy\nUEMgaDIgPSBuZXcgSGVscGVyUEMoKTsKICAgICAgICBoMi5zZXRTdHJpbmdG\naWVsZCgiaDIiKTsKICAgICAgICBwYy5nZXRIZWxwZXJzKCkucHV0KGgyLmdl\ndFN0cmluZ0ZpZWxkKCksIGgyKTsKICAgICAgICBIZWxwZXJQQyBoMyA9IG5l\ndyBIZWxwZXJQQygpOwogICAgICAgIGgzLnNldFN0cmluZ0ZpZWxkKCJoMyIp\nOwogICAgICAgIHBjLmdldEhlbHBlcnMoKS5wdXQoaDMuZ2V0U3RyaW5nRmll\nbGQoKSwgaDMpOwogICAgICAgIAogICAgICAgIHNldExSUyhwYy5nZXRDbGFz\ncygpLCBscnMpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgICAgIHN0YXJ0VHgocG0pOzsK\nICAgICAgICAgICAgcG0ucGVyc2lzdChwYyk7CiAgICAgICAgICAgIGVuZFR4\nKHBtKTs7CiAgICAgICAgICAgIE9iamVjdCBvaWQgPSBwbS5nZXRPYmplY3RJ\nZChwYyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBhc3NlcnRGYWxzZShw\nYy5nZXRIZWxwZXJzKCkuY29udGFpbnNLZXkoImZvbyIpKTsKICAgICAgICAg\nICAgYXNzZXJ0TnVsbChwYy5nZXRIZWxwZXJzKCkuZ2V0KCJmb28iKSk7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscygzLCBwYy5nZXRIZWxwZXJzKCkuc2l6\nZSgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGgxLCBwYy5nZXRIZWxw\nZXJzKCkuZ2V0KCJoMSIpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGgy\nLCBwYy5nZXRIZWxwZXJzKCkuZ2V0KCJoMiIpKTsKICAgICAgICAgICAgcG0u\nY2xvc2UoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHBtID0gKE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7OwogICAg\nICAgICAgICBwYyA9IChNYXBwZWRCeU1hcFBDKSBwbS5nZXRPYmplY3RJZChv\naWQpOwogICAgICAgICAgICBpZiAobHJzKQogICAgICAgICAgICAgICAgYXNz\nZXJ0VHJ1ZShwYy5nZXRIZWxwZXJzKCkgaW5zdGFuY2VvZiBBYnN0cmFjdExS\nU1Byb3h5TWFwKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHBjLmdl\ndEhlbHBlcnMoKS5zaXplKCkpOwogICAgICAgICAgICBhc3NlcnRGYWxzZShw\nYy5nZXRIZWxwZXJzKCkuY29udGFpbnNLZXkoImZvbyIpKTsKICAgICAgICAg\nICAgYXNzZXJ0TnVsbChwYy5nZXRIZWxwZXJzKCkuZ2V0KCJmb28iKSk7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscygiaDEiLCAoKEhlbHBlclBDKSBwYy5n\nZXRIZWxwZXJzKCkuZ2V0KCJoMSIpKS4KICAgICAgICAgICAgICAgICAgICBn\nZXRTdHJpbmdGaWVsZCgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJo\nMiIsICgoSGVscGVyUEMpIHBjLmdldEhlbHBlcnMoKS5nZXQoImgyIikpLgog\nICAgICAgICAgICAgICAgICAgIGdldFN0cmluZ0ZpZWxkKCkpOwogICAgICAg\nICAgICAKICAgICAgICAgICAgcG0uYmVnaW4oKTsKICAgICAgICAgICAgcGMu\nZ2V0SGVscGVycygpLnJlbW92ZSgiaDEiKTsKICAgICAgICAgICAgYXNzZXJ0\nRXF1YWxzKDIsIHBjLmdldEhlbHBlcnMoKS5zaXplKCkpOwogICAgICAgICAg\nICBhc3NlcnRGYWxzZShwYy5nZXRIZWxwZXJzKCkuY29udGFpbnNLZXkoImgx\nIikpOwogICAgICAgICAgICBhc3NlcnROdWxsKHBjLmdldEhlbHBlcnMoKS5n\nZXQoImgxIikpOwogICAgICAgICAgICBIZWxwZXJQQyBoNCA9IG5ldyBIZWxw\nZXJQQygpOwogICAgICAgICAgICBoNC5zZXRTdHJpbmdGaWVsZCgiaDQiKTsK\nICAgICAgICAgICAgcGMuZ2V0SGVscGVycygpLnB1dCgiaDQiLCBoNCk7CiAg\nICAgICAgICAgIGFzc2VydFRydWUocGMuZ2V0SGVscGVycygpLmNvbnRhaW5z\nS2V5KCJoNCIpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGg0LCBwYy5n\nZXRIZWxwZXJzKCkuZ2V0KCJoNCIpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1\nYWxzKDMsIHBjLmdldEhlbHBlcnMoKS5zaXplKCkpOwogICAgICAgICAgICBw\nbS5jb21taXQoKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHBjLmdl\ndEhlbHBlcnMoKS5zaXplKCkpOwogICAgICAgICAgICBhc3NlcnRGYWxzZShw\nYy5nZXRIZWxwZXJzKCkuY29udGFpbnNLZXkoImgxIikpOwogICAgICAgICAg\nICBhc3NlcnROdWxsKHBjLmdldEhlbHBlcnMoKS5nZXQoImgxIikpOwogICAg\nICAgICAgICBhc3NlcnRFcXVhbHMoImgyIiwgKChIZWxwZXJQQykgcGMuZ2V0\nSGVscGVycygpLmdldCgiaDIiKSkuCiAgICAgICAgICAgICAgICAgICAgZ2V0\nU3RyaW5nRmllbGQoKSk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscygiaDQi\nLCAoKEhlbHBlclBDKSBwYy5nZXRIZWxwZXJzKCkuZ2V0KCJoNCIpKS4KICAg\nICAgICAgICAgICAgICAgICBnZXRTdHJpbmdGaWVsZCgpKTsKICAgICAgICAg\nICAgcG0uY2xvc2UoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHBtID0g\nKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nOwogICAgICAgICAgICBwYyA9IChNYXBwZWRCeU1hcFBDKSBwbS5nZXRPYmpl\nY3RJZChvaWQpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMywgcGMuZ2V0\nSGVscGVycygpLnNpemUoKSk7CiAgICAgICAgICAgIGFzc2VydEZhbHNlKHBj\nLmdldEhlbHBlcnMoKS5jb250YWluc0tleSgiaDEiKSk7CiAgICAgICAgICAg\nIGFzc2VydE51bGwocGMuZ2V0SGVscGVycygpLmdldCgiaDEiKSk7CiAgICAg\nICAgICAgIGFzc2VydEVxdWFscygiaDIiLCAoKEhlbHBlclBDKSBwYy5nZXRI\nZWxwZXJzKCkuZ2V0KCJoMiIpKS4KICAgICAgICAgICAgICAgICAgICBnZXRT\ndHJpbmdGaWVsZCgpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJoNCIs\nICgoSGVscGVyUEMpIHBjLmdldEhlbHBlcnMoKS5nZXQoImg0IikpLgogICAg\nICAgICAgICAgICAgICAgIGdldFN0cmluZ0ZpZWxkKCkpOwogICAgICAgICAg\nICAKICAgICAgICAgICAgLy8gdG8gdGVzdCBscnMgZnVuY3Rpb25zCiAgICAg\nICAgICAgIGFzc2VydFRydWUocGMuZ2V0SGVscGVycygpLmNvbnRhaW5zVmFs\ndWUKICAgICAgICAgICAgICAgICAgICAocGMuZ2V0SGVscGVycygpLmdldCgi\naDIiKSkpOwogICAgICAgICAgICAKICAgICAgICAgICAgU2V0IGtleVNldCA9\nIHBjLmdldEhlbHBlcnMoKS5rZXlTZXQoKTsKICAgICAgICAgICAgU2V0IG9y\nZGVyZWQgPSBuZXcgVHJlZVNldCgpOwogICAgICAgICAgICBhc3NlcnRFcXVh\nbHMoMywga2V5U2V0LnNpemUoKSk7CiAgICAgICAgICAgIEl0ZXJhdG9yIGl0\nciA9IGtleVNldC5pdGVyYXRvcigpOwogICAgICAgICAgICB3aGlsZSAoaXRy\nLmhhc05leHQoKSkKICAgICAgICAgICAgICAgIG9yZGVyZWQuYWRkKGl0ci5u\nZXh0KCkpOwogICAgICAgICAgICAvL0ZJWE1FIGp0aG9tYXMKICAgICAgICAg\nICAgLy9Lb2RvSkRPSGVscGVyLmNsb3NlKGl0cik7CiAgICAgICAgICAgIGFz\nc2VydEVxdWFscygzLCBvcmRlcmVkLnNpemUoKSk7CiAgICAgICAgICAgIGFz\nc2VydFRydWUob3JkZXJlZC5jb250YWlucygiaDIiKSk7CiAgICAgICAgICAg\nIGFzc2VydFRydWUob3JkZXJlZC5jb250YWlucygiaDMiKSk7CiAgICAgICAg\nICAgIGFzc2VydFRydWUob3JkZXJlZC5jb250YWlucygiaDQiKSk7CiAgICAg\nICAgICAgIG9yZGVyZWQuY2xlYXIoKTsKICAgICAgICAgICAgCiAgICAgICAg\nICAgIENvbGxlY3Rpb24gdmFsdWVzID0gcGMuZ2V0SGVscGVycygpLnZhbHVl\ncygpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMywgdmFsdWVzLnNpemUo\nKSk7CiAgICAgICAgICAgIGl0ciA9IHZhbHVlcy5pdGVyYXRvcigpOwogICAg\nICAgICAgICB3aGlsZSAoaXRyLmhhc05leHQoKSkgewogICAgICAgICAgICAg\nICAgT2JqZWN0IG5leHQgPSBpdHIubmV4dCgpOwogICAgICAgICAgICAgICAg\nYXNzZXJ0VHJ1ZShuZXh0IGluc3RhbmNlb2YgSGVscGVyUEMpOwogICAgICAg\nICAgICAgICAgb3JkZXJlZC5hZGQoKChIZWxwZXJQQykgbmV4dCkuZ2V0U3Ry\naW5nRmllbGQoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9GSVhN\nRSBqdGhvbWFzCiAgICAgICAgICAgIC8vS29kb0pET0hlbHBlci5jbG9zZShp\ndHIpOwogICAgICAgICAgICBhc3NlcnRFcXVhbHMoMywgb3JkZXJlZC5zaXpl\nKCkpOwogICAgICAgICAgICBhc3NlcnRUcnVlKG9yZGVyZWQuY29udGFpbnMo\nImgyIikpOwogICAgICAgICAgICBhc3NlcnRUcnVlKG9yZGVyZWQuY29udGFp\nbnMoImgzIikpOwogICAgICAgICAgICBhc3NlcnRUcnVlKG9yZGVyZWQuY29u\ndGFpbnMoImg0IikpOwogICAgICAgICAgICBwbS5jbG9zZSgpOwogICAgICAg\nIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVuc2V0TFJTKHBjLmdldENsYXNz\nKCkpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgcHJpdmF0ZSB2b2lkIHF1\nZXJ5TWFwKE1hcHBlZEJ5TWFwUEMgcGMpIHsKICAgICAgICBIZWxwZXJQQyBo\nNSA9IG5ldyBIZWxwZXJQQygpOwogICAgICAgIGg1LnNldFN0cmluZ0ZpZWxk\nKCJoNSIpOwogICAgICAgIHBjLmdldEhlbHBlcnMoKS5wdXQoImg1IiwgaDUp\nOwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gKE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\ncG0uYmVnaW4oKTsKICAgICAgICBwbS5wZXJzaXN0KHBjKTsKICAgICAgICBw\nbS5jb21taXQoKTsKICAgICAgICBwbS5jbG9zZSgpOwogICAgICAgIAogICAg\nICAgIHBtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlN\nYW5hZ2VyKCk7OwogICAgICAgIE9wZW5KUEFRdWVyeSBxID0gcG0uY3JlYXRl\nTmF0aXZlUXVlcnkoInN0cmluZ0ZpZWxkID09ICdoMiciLEhlbHBlclBDLmNs\nYXNzKTsKICAgICAgICAvL0ZJWE1FIGp0aG9tYXMKICAgICAgICAvL3Euc2V0\nVW5pcXVlKHRydWUpOwogICAgICAgIEhlbHBlclBDIGgyID0gKEhlbHBlclBD\nKSBxLmdldFNpbmdsZVJlc3VsdCgpOwogICAgICAgIAogICAgICAgIHEgPSBw\nbS5jcmVhdGVOYXRpdmVRdWVyeSgiaGVscGVycy5jb250YWluc0tleSAoJ2gy\nJykiLHBjLmdldENsYXNzKCkpOwogICAgICAgIC8vRklYTUUganRob21hcwog\nICAgICAgIC8vcS5zZXRVbmlxdWUodHJ1ZSk7CiAgICAgICAgcGMgPSAoTWFw\ncGVkQnlNYXBQQykgcS5nZXRTaW5nbGVSZXN1bHQoKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoMywgcGMuZ2V0SGVscGVycygpLnNpemUoKSk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKGgyLCBwYy5nZXRIZWxwZXJzKCkuZ2V0KCJoMiIpKTsK\nICAgICAgICAKICAgICAgICBxID0gcG0uY3JlYXRlTmF0aXZlUXVlcnkoImhl\nbHBlcnMuY29udGFpbnNWYWx1ZSAoOmgyKSIscGMuZ2V0Q2xhc3MoKSk7CiAg\nICAgICAgLy9GSVhNRSAganRob21hcwogICAgICAgIC8vcS5zZXRVbmlxdWUo\ndHJ1ZSk7CiAgICAgICAgcGMgPSAoTWFwcGVkQnlNYXBQQykgcS5nZXRTaW5n\nbGVSZXN1bHQoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMywgcGMuZ2V0SGVs\ncGVycygpLnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGgyLCBwYy5n\nZXRIZWxwZXJzKCkuZ2V0KCJoMiIpKTsKICAgICAgICBwbS5jbG9zZSgpOwog\nICAgfQogICAgCiAgICBwcml2YXRlIHZvaWQgc2V0TFJTKENsYXNzIGNscywg\nYm9vbGVhbiBscnMpIHsKICAgICAgICBDbGFzc01hcHBpbmcgY20gPSAoKEpE\nQkNDb25maWd1cmF0aW9uKSBnZXRDb25maWd1cmF0aW9uKCkpLgogICAgICAg\nICAgICAgICAgZ2V0TWFwcGluZ1JlcG9zaXRvcnlJbnN0YW5jZSgpLmdldE1h\ncHBpbmcoY2xzLCBudWxsLCB0cnVlKTsKICAgICAgICBjbS5nZXRGaWVsZE1h\ncHBpbmcoImhlbHBlcnMiKS5zZXRMUlMobHJzKTsKICAgIH0KICAgIAogICAg\ncHJpdmF0ZSB2b2lkIHVuc2V0TFJTKENsYXNzIGNscykgewogICAgICAgIENs\nYXNzTWFwcGluZyBjbSA9ICgoSkRCQ0NvbmZpZ3VyYXRpb24pIGdldENvbmZp\nZ3VyYXRpb24oKSkuCiAgICAgICAgICAgICAgICBnZXRNYXBwaW5nUmVwb3Np\ndG9yeUluc3RhbmNlKCkuZ2V0TWFwcGluZyhjbHMsIG51bGwsIHRydWUpOwog\nICAgICAgIGNtLmdldEZpZWxkTWFwcGluZygiaGVscGVycyIpLnNldExSUyhm\nYWxzZSk7CiAgICB9CiAgICAKfQo=\n","encoding":"base64"}

