{"sha":"f8be2ea390a29750c164f53b4b800901243476c7","node_id":"MDQ6QmxvYjIwNjM2NDpmOGJlMmVhMzkwYTI5NzUwYzE2NGY1M2I0YjgwMDkwMTI0MzQ3NmM3","size":2953,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f8be2ea390a29750c164f53b4b800901243476c7","content":"LyoKICogVGVzdFF1ZXJ5QWdhaW5zdEVudGlyZU1hcHBlZEhpZXJhcmNoeS5q\nYXZhCiAqCiAqIENyZWF0ZWQgb24gT2N0b2JlciA1LCAyMDA2LCAxMDo0NiBB\nTQogKgogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xz\nIHwgVGVtcGxhdGUgTWFuYWdlcgogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUg\naW4gdGhlIGVkaXRvci4KICovCgovKgogKiBMaWNlbnNlZCB0byB0aGUgQXBh\nY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiAqIG9y\nIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRo\nZSBOT1RJQ0UgZmlsZQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBm\nb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgogKiByZWdhcmRpbmcgY29weXJp\nZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiAq\nIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4w\nICh0aGUKICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmls\nZSBleGNlcHQgaW4gY29tcGxpYW5jZQogKiB3aXRoIHRoZSBMaWNlbnNlLiAg\nWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAq\nIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAog\nKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdy\nZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVu\nZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJ\nUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9G\nIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2Vl\nIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292\nZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0\naGUgTGljZW5zZS4gICAgCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5qZGJjLm1ldGEuaG9yaXpvbnRhbDsKCmltcG9ydCBq\nYXZhLnV0aWwuKjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuamRiYy5jb21tb24uYXBwcy4qOwoKCmltcG9ydCBqYXZhLmxhbmcu\nYW5ub3RhdGlvbi5Bbm5vdGF0aW9uOwppbXBvcnQganVuaXQuZnJhbWV3b3Jr\nLio7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQ\nQUVudGl0eU1hbmFnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOwoKCnB1Ymxp\nYyBjbGFzcyBUZXN0UXVlcnlBZ2FpbnN0RW50aXJlTWFwcGVkSGllcmFyY2h5\nIGV4dGVuZHMgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMu\na2VybmVsLlRlc3RTUUxMaXN0ZW5lclRlc3RDYXNlCnsKCQogICAgLyoqIENy\nZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVGVzdFF1ZXJ5QWdhaW5zdEVudGly\nZU1hcHBlZEhpZXJhcmNoeSAqLwogICAgcHVibGljIFRlc3RRdWVyeUFnYWlu\nc3RFbnRpcmVNYXBwZWRIaWVyYXJjaHkoU3RyaW5nIG5hbWUpIAogICAgewog\nICAgCXN1cGVyKG5hbWUpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCBz\nZXRVcFRlc3RDYXNlKCkgCiAgICB7ICAgICAgICAKICAgICAgICAvLyB0aGlz\nIHRlc3QgZGVwZW5kcyBvbiB0aGlzIGZhY3QKICAgICAgICBhc3NlcnRUcnVl\nKEhvcml6Si5jbGFzcy5nZXRTdXBlcmNsYXNzKCkgPT0gSG9yaXpELmNsYXNz\nKTsKICAgICAgICBhc3NlcnRUcnVlKEhvcml6Sy5jbGFzcy5nZXRTdXBlcmNs\nYXNzKCkgPT0gSG9yaXpKLmNsYXNzKTsKCiAgICAgICBkZWxldGVBbGwoSG9y\naXpELmNsYXNzKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgcG0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwoKICAgICAg\nICBIb3JpekQgZCA9IG5ldyBIb3JpekQoKTsKICAgICAgICBkLnNldFN0cmlu\nZ0EoInN0cmluZ2EtZCIpOwogICAgICAgIGQuc2V0U3RyaW5nQygic3RyaW5n\nYy1kIik7CiAgICAgICAgcG0ucGVyc2lzdChkKTsKCiAgICAgICAgSG9yaXpK\nIGogPSBuZXcgSG9yaXpKKCk7CiAgICAgICAgai5zZXRTdHJpbmdBKCJzdHJp\nbmdhLWoiKTsKICAgICAgICBqLnNldFN0cmluZ0MoInN0cmluZ2MtaiIpOwog\nICAgICAgIHBtLnBlcnNpc3Qoaik7CgogICAgICAgIEhvcml6SyBrID0gbmV3\nIEhvcml6SygpOwogICAgICAgIGsuc2V0U3RyaW5nQSgic3RyaW5nYS1rIik7\nCiAgICAgICAgay5zZXRTdHJpbmdDKCJzdHJpbmdjLWsiKTsKICAgICAgICBw\nbS5wZXJzaXN0KGspOwoKICAgICAgICBwbS5nZXRUcmFuc2FjdGlvbigpLmNv\nbW1pdCgpOwogICAgICAgIHBtLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdFF1ZXJ5QWdhaW5zdEVudGlyZU1hcHBlZEhpZXJhcmNoeSgp\nIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nc3FsLmNsZWFyKCk7CiAgICAgICAgLy9GSVhNRSBqdGhvbWFzCiAgICAgICAg\nLy9wbS5uZXdRdWVyeShIb3JpekQuY2xhc3MpLmV4ZWN1dGUoKTsKICAgICAg\nICBTdHJpbmcgbGFzdFN0YXRlbWVudCA9IChTdHJpbmcpIHNxbC5nZXQoc3Fs\nLnNpemUoKSAtIDEpOwogICAgICAgIGFzc2VydFRydWUobGFzdFN0YXRlbWVu\ndC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImluICgiKSA9PSAtMSk7CiAgICAg\nICAgcG0uY2xvc2UoKTsKICAgIH0KICAgIAp9Cg==\n","encoding":"base64"}

