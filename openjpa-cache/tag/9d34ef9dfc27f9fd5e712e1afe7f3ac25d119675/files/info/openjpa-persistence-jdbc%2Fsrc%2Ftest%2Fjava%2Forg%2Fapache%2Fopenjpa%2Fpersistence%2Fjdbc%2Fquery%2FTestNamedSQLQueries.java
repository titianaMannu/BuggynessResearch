{"sha":"67ad1da4e173f522d89d637b665f8bd7d39eb69a","node_id":"MDQ6QmxvYjIwNjM2NDo2N2FkMWRhNGUxNzNmNTIyZDg5ZDYzN2I2NjVmOGJkN2QzOWViNjlh","size":3632,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/67ad1da4e173f522d89d637b665f8bd7d39eb69a","content":"LyoKICogVGVzdE5hbWVkU1FMUXVlcmllcy5qYXZhCiAqCiAqIENyZWF0ZWQg\nb24gT2N0b2JlciA1LCAyMDA2LCA1OjI2IFBNCiAqCiAqIFRvIGNoYW5nZSB0\naGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2Vy\nCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8K\nCi8qCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUu\nb3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJl\nZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywK\nICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMg\nZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBX\nQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhl\nciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICov\nCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMu\ncXVlcnk7CgppbXBvcnQgamF2YS51dGlsLio7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5OwoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmNvbW1vbi5hcHBz\nLio7CgoKaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkFubm90YXRpb247\nCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLkVudGl0eU1hbmFnZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQ\nQUVudGl0eU1hbmFnZXI7CgoKcHVibGljIGNsYXNzIFRlc3ROYW1lZFNRTFF1\nZXJpZXMgZXh0ZW5kcyBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\namRiYy5rZXJuZWwuQmFzZUpEQkNUZXN0ewogICAgIAogICAgCiAgICAvKiog\nQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0TmFtZWRTUUxRdWVyaWVz\nICovCiAgICBwdWJsaWMgVGVzdE5hbWVkU1FMUXVlcmllcygpIHsKICAgIH0K\nICAgIAogICAgcHVibGljIFRlc3ROYW1lZFNRTFF1ZXJpZXMoU3RyaW5nIHRl\nc3QpIHsKICAgICAgICBzdXBlcih0ZXN0KTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRVcCgpIHsKICAgICAgIGRlbGV0ZUFsbChOYW1lZFNRTC5jbGFz\ncyk7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBB\nRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAg\nIHN0YXJ0VHgocG0pOzsKICAgICAgICBOYW1lZFNRTCBwYzsKICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgICAgICAgICAgcGMg\nPSBuZXcgTmFtZWRTUUwoKTsKICAgICAgICAgICAgaWYgKGkgPCA1KQogICAg\nICAgICAgICAgICAgcGMuc2V0TnVtKDQpOwogICAgICAgICAgICBlbHNlCiAg\nICAgICAgICAgICAgICBwYy5zZXROdW0oaSArIDEwKTsKICAgICAgICAgICAg\ncG0ucGVyc2lzdChwYyk7CiAgICAgICAgfQogICAgICAgIGVuZFR4KHBtKTs7\nCiAgICAgICAgcG0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZXN0TmFtZWRRdWVyeSgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5h\nZ2VyKCk7CiAgICAgICAgT3BlbkpQQVF1ZXJ5IHEgPSBwbS5jcmVhdGVOYXRp\ndmVRdWVyeSgiY2xzIixOYW1lZFNRTC5jbGFzcyk7CgogICAgICAgIGFzc2Vy\ndEVxdWFscygiamF2YXguamRvLnF1ZXJ5LlNRTCIsICgoT3BlbkpQQVF1ZXJ5\nKSBxKS5nZXRMYW5ndWFnZSgpKTsKICAgICAgICBDb2xsZWN0aW9uIHJlc3Vs\ndHMgPSAoQ29sbGVjdGlvbikgcS5nZXRDYW5kaWRhdGVDb2xsZWN0aW9uKCk7\nCiAgICAgICAgZm9yIChJdGVyYXRvciBpID0gcmVzdWx0cy5pdGVyYXRvcigp\nOyBpLmhhc05leHQoKTspCiAgICAgICAgICAgIGFzc2VydEVxdWFscyg0LCAo\nKE5hbWVkU1FMKSBpLm5leHQoKSkuZ2V0TnVtKCkpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyg1LCByZXN1bHRzLnNpemUoKSk7CiAgICAgICAgcS5jbG9zZUFs\nbCgpOwogICAgICAgIHBtLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdFN5c3RlbSgpIHsKICAgICAgICAvLyB0ZXN0IHRvcC1sZXZlbCBw\nYWNrYWdlLmpkb3F1ZXJ5CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIg\ncG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdl\ncigpOwogICAgICAgIC8vRklYTUUganRob21hcwogICAgICAgIC8qCiAgICAg\nICAgT3BlbkpQQVF1ZXJ5IHF1ZXJ5ID0gcG0ubmV3TmFtZWRRdWVyeShudWxs\nLCAic3lzdGVtMiIpOwogICAgICAgIHF1ZXJ5LnNldFVuaXF1ZSh0cnVlKTsK\nICAgICAgICBxdWVyeS5zZXRSZXN1bHRDbGFzcyhpbnQuY2xhc3MpOwogICAg\nICAgIEludGVnZXIgY291bnQgPSAoSW50ZWdlcikgcXVlcnkuZXhlY3V0ZSgp\nOwogICAgICAgIGFzc2VydEVxdWFscygyMCwgY291bnQuaW50VmFsdWUoKSk7\nCiAgICAgICAgcXVlcnkuY2xvc2VBbGwoKTsKCiAgICAgICAgLy8gdGVzdCBz\ncWwgcXVlcnkgaW4gbG9jYWwgcGFja2FnZS5qZG9xdWVyeQogICAgICAgIHF1\nZXJ5ID0gcG0ubmV3TmFtZWRRdWVyeShOYW1lZFNRTC5jbGFzcywgImNscyIp\nOwogICAgICAgIHF1ZXJ5LmNsb3NlQWxsKCk7IC8vIGZvcmNlIHBhcnNpbmcg\nb2YgcGFja2FnZSBxdWVyeSBmaWxlCiAgICAgICAgcXVlcnkgPSBwbS5uZXdO\nYW1lZFF1ZXJ5KG51bGwsICJzeXN0ZW0iKTsKICAgICAgICBxdWVyeS5zZXRV\nbmlxdWUodHJ1ZSk7CiAgICAgICAgcXVlcnkuc2V0UmVzdWx0Q2xhc3MoaW50\nLmNsYXNzKTsKICAgICAgICBjb3VudCA9IChJbnRlZ2VyKSBxdWVyeS5leGVj\ndXRlKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIwLCBjb3VudC5pbnRWYWx1\nZSgpKTsKICAgICAgICBxdWVyeS5jbG9zZUFsbCgpOwogICAgICAgIHBtLmNs\nb3NlKCk7CiAgICAgICAgICovCiAgICB9CiAgICAKfQo=\n","encoding":"base64"}

