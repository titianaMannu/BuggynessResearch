{"sha":"bea38ad11fb18bd5e12f7c9b3960eb453a61e845","node_id":"MDQ6QmxvYjIwNjM2NDpiZWEzOGFkMTFmYjE4YmQ1ZTEyZjdjOWIzOTYwZWI0NTNhNjFlODQ1","size":3921,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bea38ad11fb18bd5e12f7c9b3960eb453a61e845","content":"LyoKICogVGVzdFN0cmluZ0Z1bmN0aW9ucy5qYXZhCiAqCiAqIENyZWF0ZWQg\nb24gT2N0b2JlciA1LCAyMDA2LCA1OjIwIFBNCiAqCiAqIFRvIGNoYW5nZSB0\naGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2Vy\nCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8K\nCi8qCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUu\nb3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJl\nZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywK\nICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMg\nZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBX\nQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhl\nciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICov\nCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMu\ncXVlcnk7CgppbXBvcnQgamF2YS51dGlsLio7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5OwoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmNvbW1vbi5hcHBz\nLio7CgoKaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkFubm90YXRpb247\nCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLkVudGl0eU1hbmFnZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQ\nQUVudGl0eU1hbmFnZXI7CgoKcHVibGljIGNsYXNzIFRlc3RTdHJpbmdGdW5j\ndGlvbnMgZXh0ZW5kcyBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\namRiYy5rZXJuZWwuQmFzZUpEQkNUZXN0CnsKICAgIHByaXZhdGUgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgX3BtID0gbnVsbDsKICAgIHByaXZhdGUgUXVlcnlU\nZXN0MSBfbWF0Y2ggPSBudWxsOwogICAgCiAgICAvKiogQ3JlYXRlcyBhIG5l\ndyBpbnN0YW5jZSBvZiBUZXN0U3RyaW5nRnVuY3Rpb25zICovCiAgICBwdWJs\naWMgVGVzdFN0cmluZ0Z1bmN0aW9ucyhTdHJpbmcgbmFtZSkgCiAgICB7CiAg\nICAJc3VwZXIobmFtZSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyB2b2lkIHNl\ndFVwKCkgewogICAgICAgZGVsZXRlQWxsKFF1ZXJ5VGVzdDEuY2xhc3MpOwoK\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgcG0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIFF1ZXJ5VGVzdDEg\nbWF0Y2ggPSBuZXcgUXVlcnlUZXN0MSgpOwogICAgICAgIG1hdGNoLnNldFN0\ncmluZygiZm9vYmFyYml6Iik7CiAgICAgICAgcG0ucGVyc2lzdChtYXRjaCk7\nCiAgICAgICAgUXVlcnlUZXN0MSBmYWlsID0gbmV3IFF1ZXJ5VGVzdDEoKTsK\nICAgICAgICBmYWlsLnNldFN0cmluZygiYmFyYml6cmF6Iik7CiAgICAgICAg\ncG0ucGVyc2lzdChmYWlsKTsKICAgICAgICBwbS5nZXRUcmFuc2FjdGlvbigp\nLmNvbW1pdCgpOwogICAgICAgIE9iamVjdCBvaWQgPSBwbS5nZXRPYmplY3RJ\nZChtYXRjaCk7CiAgICAgICAgcG0uY2xvc2UoKTsKCiAgICAgICAgX3BtID0g\nKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgX21hdGNoID0gKFF1ZXJ5VGVzdDEpIF9wbS5nZXRPYmplY3RJ\nZChvaWQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkKICAg\nICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAoX3BtICE9IG51\nbGwpCiAgICAgICAgICAgIF9wbS5jbG9zZSgpOwoKICAgICAgICBzdXBlci50\nZWFyRG93bigpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RTdWJzdHJp\nbmcoKSB7CiAgICAgICAgYXNzZXJ0TWF0Y2goInN0cmluZy5zdWJzdHJpbmcg\nKDMpID09ICdiYXJiaXonIik7CiAgICAgICAgYXNzZXJ0TWF0Y2goInN0cmlu\nZy5zdWJzdHJpbmcgKDMsIDYpID09ICdiYXInIik7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdEluZGV4T2YoKSB7CiAgICAgICAgYXNzZXJ0TWF0Y2go\nInN0cmluZy5pbmRleE9mICgnYmFyJykgPT0gMyIpOwogICAgICAgIGFzc2Vy\ndE1hdGNoKCJzdHJpbmcuaW5kZXhPZiAoXCJiXCIsIDQpID09IDYiKTsKICAg\nICAgICBhc3NlcnRNYXRjaCgic3RyaW5nLmluZGV4T2YgKCdiJywgNCkgPT0g\nNiIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RUb0xvd2VyQ2FzZSgp\nIHsKICAgICAgICBhc3NlcnRNYXRjaCgic3RyaW5nLnRvTG93ZXJDYXNlICgp\nID09ICdmb29iYXJiaXonIik7CiAgICAgICAgYXNzZXJ0TWF0Y2goIidGT09C\nQVJCSVonLnRvTG93ZXJDYXNlICgpID09IHN0cmluZyIpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RUb1VwcGVyQ2FzZSgpIHsKICAgICAgICBhc3Nl\ncnRNYXRjaCgic3RyaW5nLnRvVXBwZXJDYXNlICgpID09ICdGT09CQVJCSVon\nIik7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFN0YXJ0c1dpdGgoKSB7\nCiAgICAgICAgYXNzZXJ0TWF0Y2goInN0cmluZy5zdGFydHNXaXRoICgnZm9v\nYmFyJykiKTsKICAgICAgICBhc3NlcnRNYXRjaCgiJ2Zvb2JhcmJpemJheicu\nc3RhcnRzV2l0aCAoc3RyaW5nKSIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RFbmRzV2l0aCgpIHsKICAgICAgICBhc3NlcnRNYXRjaCgic3RyaW5n\nLmVuZHNXaXRoICgnYmFyYml6JykiKTsKICAgICAgICBhc3NlcnRNYXRjaCgi\nJ2JhemZvb2JhcmJpeicuZW5kc1dpdGggKHN0cmluZykiKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0TWF0Y2hlcygpIHsKICAgICAgICBhc3NlcnRN\nYXRjaCgic3RyaW5nLm1hdGNoZXMgKCcub29iYXIuKicpIik7CiAgICAgICAg\nYXNzZXJ0TWF0Y2goInN0cmluZy5tYXRjaGVzICgnRk9PLkFSLklaKD9pKScp\nIik7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGFzc2VydE1hdGNoKFN0cmlu\nZyBmaWx0ZXIpIHsKICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IF9wbS5jcmVh\ndGVOYXRpdmVRdWVyeShmaWx0ZXIsUXVlcnlUZXN0MS5jbGFzcyk7CiAgICAg\nICAgQ29sbGVjdGlvbiByZXMgPSAoQ29sbGVjdGlvbikgcS5nZXRDYW5kaWRh\ndGVDb2xsZWN0aW9uKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHJlcy5z\naXplKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhfbWF0Y2gsIHJlcy5pdGVy\nYXRvcigpLm5leHQoKSk7CiAgICAgICAgcS5jbG9zZUFsbCgpOwogICAgfQog\nICAgCn0K\n","encoding":"base64"}

