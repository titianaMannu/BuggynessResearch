{"sha":"028b753273ee21bfd4e7096e1bc46cf76fc43ed9","node_id":"MDQ6QmxvYjIwNjM2NDowMjhiNzUzMjczZWUyMWJmZDRlNzA5NmUxYmM0NmNmNzZmYzQzZWQ5","size":4091,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/028b753273ee21bfd4e7096e1bc46cf76fc43ed9","content":"LyoKICogVGVzdFBlckNsYXNzU2VxdWVuY2VGYWN0b3J5LmphdmEKICoKICog\nQ3JlYXRlZCBvbiBPY3RvYmVyIDYsIDIwMDYsIDI6MjUgUE0KICoKICogVG8g\nY2hhbmdlIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRl\nIE1hbmFnZXIKICogYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0\nb3IuCiAqLwoKLyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2Fy\nZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRy\naWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZp\nbGUKICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9u\nYWwgaW5mb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNo\naXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5k\nZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJM\naWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGlu\nIGNvbXBsaWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0\nYWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNz\nIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3\ncml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGlj\nZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBX\nSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lO\nRCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5z\nZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJt\naXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2Uu\nICAgIAogKi8KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuamRiYy5zY2hlbWE7CgppbXBvcnQgamF2YS51dGlsLio7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mLkpEQkNDb25maWd1cmF0aW9u\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5DbGFzc01h\ncHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEu\nU2VxdWVuY2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlNl\ncTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuU3RvcmVDb250\nZXh0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRh\nRGF0YTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\namRiYy5jb21tb24uYXBwcy4qOwoKCmltcG9ydCBqYXZhLmxhbmcuYW5ub3Rh\ndGlvbi5Bbm5vdGF0aW9uOwppbXBvcnQganVuaXQuZnJhbWV3b3JrLio7Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOwoKCnB1YmxpYyBjbGFz\ncyBUZXN0UGVyQ2xhc3NTZXF1ZW5jZUZhY3RvcnkgZXh0ZW5kcyBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5rZXJuZWwuQmFzZUpEQkNU\nZXN0ewogICAgCiAgIAogICAgLyoqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ug\nb2YgVGVzdFBlckNsYXNzU2VxdWVuY2VGYWN0b3J5ICovCiAgICBwdWJsaWMg\nVGVzdFBlckNsYXNzU2VxdWVuY2VGYWN0b3J5KCkgewogICAgfQogICAgcHVi\nbGljIFRlc3RQZXJDbGFzc1NlcXVlbmNlRmFjdG9yeShTdHJpbmcgdGVzdCkg\newogICAgICAgIHN1cGVyKHRlc3QpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RQZXJDbGFzc1NlcXVlbmNlRmFjdG9yeSgpCiAgICAgICAgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgTWFwIHByb3BzPW5ldyBIYXNoTWFwKCk7\nCiAgICAgICAgcHJvcHMucHV0KCJvcGVuanBhLlNlcXVlbmNlIiwgInRhYmxl\nIik7CiAgICAgICAgCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0\nb3J5IGZhY3RvcnkgPShPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkpCiAg\nICAgICAgICAgICAgICBnZXRFbWYocHJvcHMpOwoKICAgICAgICBKREJDQ29u\nZmlndXJhdGlvbiBjb25mID0gKEpEQkNDb25maWd1cmF0aW9uKQogICAgICAg\nICAgICBmYWN0b3J5LmdldENvbmZpZ3VyYXRpb24oKTsKICAgICAgICBDbGFz\nc01hcHBpbmcgbWFwcGluZzEgPSBjb25mLmdldE1hcHBpbmdSZXBvc2l0b3J5\nSW5zdGFuY2UoKS4KICAgICAgICAgICAgZ2V0TWFwcGluZyhSdW50aW1lVGVz\ndDEuY2xhc3MsIG51bGwsIHRydWUpOwogICAgICAgIENsYXNzTWFwcGluZyBt\nYXBwaW5nMiA9IGNvbmYuZ2V0TWFwcGluZ1JlcG9zaXRvcnlJbnN0YW5jZSgp\nLgogICAgICAgICAgICBnZXRNYXBwaW5nKFBlckNsYXNzVGVzdE9iamVjdC5j\nbGFzcywgbnVsbCwgdHJ1ZSk7CiAgICAgICAgQ2xhc3NNYXBwaW5nIG1hcHBp\nbmczID0gY29uZi5nZXRNYXBwaW5nUmVwb3NpdG9yeUluc3RhbmNlKCkuCiAg\nICAgICAgICAgIGdldE1hcHBpbmcoUGVyQ2xhc3NUZXN0T2JqZWN0Mi5jbGFz\ncywgbnVsbCwgdHJ1ZSk7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsKICAgICAgICAvL0ZJWE1FIGp0aG9tYXMKICAgICAgICAvKgogICAg\nICAgIFNlcXVlbmNlIHMxID0gcG0uZ2V0SWRlbnRpdHlTZXF1ZW5jZShtYXBw\naW5nMS5nZXREZXNjcmliZWRUeXBlKCkpOwogICAgICAgIFNlcXVlbmNlIHMy\nID0gcG0uZ2V0SWRlbnRpdHlTZXF1ZW5jZShtYXBwaW5nMi5nZXREZXNjcmli\nZWRUeXBlKCkpOwogICAgICAgIFNlcXVlbmNlIHMzID0gcG0uZ2V0RmllbGRT\nZXF1ZW5jZShtYXBwaW5nMy5nZXREZXNjcmliZWRUeXBlKCksICJhZ2UiKTsK\nICAgICAgICBhc3NlcnRUcnVlKCgoU2VxdWVuY2VJbXBsKSBzMSkuZ2V0RGVs\nZWdhdGUoKQogICAgICAgICAgICBpbnN0YW5jZW9mIFRhYmxlSkRCQ1NlcSk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZSgoKFNlcXVlbmNlSW1wbCkgczIpLmdldERl\nbGVnYXRlKCkudG9TdHJpbmcoKSwKICAgICAgICAgICAgKChTZXF1ZW5jZUlt\ncGwpIHMyKS5nZXREZWxlZ2F0ZSgpCiAgICAgICAgICAgICAgICBpbnN0YW5j\nZW9mIER1bW15U2VxdWVuY2VGYWN0b3J5KTsKICAgICAgICBhc3NlcnRUcnVl\nKCgoU2VxdWVuY2VJbXBsKSBzMikuZ2V0RGVsZWdhdGUoKS50b1N0cmluZygp\nLAogICAgICAgICAgICAoKFNlcXVlbmNlSW1wbCkgczMpLmdldERlbGVnYXRl\nKCkKICAgICAgICAgICAgICAgIGluc3RhbmNlb2YgRHVtbXlTZXF1ZW5jZUZh\nY3RvcnkpOwogICAgICAgICAqLwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMg\nY2xhc3MgRHVtbXlTZXF1ZW5jZUZhY3RvcnkKICAgICAgICBpbXBsZW1lbnRz\nIFNlcSB7CgogICAgICAgIHByaXZhdGUgbG9uZyBfdmFsID0gMTsKCiAgICAg\nICAgcHVibGljIHZvaWQgc2V0VHlwZShpbnQgdHlwZSkgewogICAgICAgIH0K\nCiAgICAgICAgcHVibGljIE9iamVjdCBuZXh0KFN0b3JlQ29udGV4dCBjdHgs\nIENsYXNzTWV0YURhdGEgbWV0YSkgewogICAgICAgICAgICBfdmFsKys7CiAg\nICAgICAgICAgIHJldHVybiBjdXJyZW50KGN0eCwgbWV0YSk7CiAgICAgICAg\nfQoKICAgICAgICBwdWJsaWMgT2JqZWN0IGN1cnJlbnQoU3RvcmVDb250ZXh0\nIGN0eCwgQ2xhc3NNZXRhRGF0YSBtZXRhKSB7CiAgICAgICAgICAgIHJldHVy\nbiBuZXcgTG9uZyhfdmFsKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2\nb2lkIGFsbG9jYXRlKGludCBudW0sIFN0b3JlQ29udGV4dCBjdHgsIENsYXNz\nTWV0YURhdGEgbWV0YSkgewogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZv\naWQgY2xvc2UoKSB7CiAgICAgICAgfQogICAgfQogICAgCiAgICAKfQo=\n","encoding":"base64"}

