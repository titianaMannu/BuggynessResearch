{"sha":"ca68ecbffbd2d814e0839f37f7023a28af918ad3","node_id":"MDQ6QmxvYjIwNjM2NDpjYTY4ZWNiZmZiZDJkODE0ZTA4MzlmMzdmNzAyM2EyOGFmOTE4YWQz","size":11368,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ca68ecbffbd2d814e0839f37f7023a28af918ad3","content":"LyoKICogVGVzdFNjaGVtYS5qYXZhCiAqCiAqIENyZWF0ZWQgb24gT2N0b2Jl\nciA2LCAyMDA2LCAyOjM2IFBNCiAqCiAqIFRvIGNoYW5nZSB0aGlzIHRlbXBs\nYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2VyCiAqIGFuZCBv\ncGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8KCi8qCiAqIExp\nY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNG\nKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFn\ncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1dGVk\nIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiAq\nIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNl\nbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGlj\nZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3UgbWF5\nIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAqIHdp\ndGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhl\nIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vu\nc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBs\naWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdh\ncmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0\nZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVT\nIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNz\nIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVj\naWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0\nYXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICovCnBhY2thZ2Ug\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMuc2NoZW1hOwoK\naW1wb3J0IGphdmEudXRpbC4qOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuc2NoZW1hLkNvbHVtbjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNjaGVtYS5Gb3JlaWduS2V5OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLkluZGV4OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLlByaW1hcnlLZXk7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuU2NoZW1hOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLlNjaGVtYUdyb3VwOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLlRhYmxlOwoKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmNvbW1vbi5h\ncHBzLio7CgoKaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkFubm90YXRp\nb247CmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3Bl\nbkpQQUVudGl0eU1hbmFnZXI7CgoKcHVibGljIGNsYXNzIFRlc3RTY2hlbWEg\nZXh0ZW5kcyBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5r\nZXJuZWwuQmFzZUpEQkNUZXN0ewogICAgCiAgICBwcml2YXRlIFNjaGVtYSBf\nc2NoZW1hID0gbmV3IFNjaGVtYUdyb3VwKCkuYWRkU2NoZW1hKCJzY2hlbWEi\nKTsKICAgIAogICAgLyoqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVGVz\ndFNjaGVtYSAqLwogICAgcHVibGljIFRlc3RTY2hlbWEoKSB7CiAgICB9CiAg\nICBwdWJsaWMgVGVzdFNjaGVtYShTdHJpbmcgdGVzdCkgewogICAgICAgIHN1\ncGVyKHRlc3QpOwogICAgfQoKICAgIC8qKgogICAgICogVGVzdCB0aGUge0Bs\naW5rIFNjaGVtYX0gY2xhc3MuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRl\nc3RTY2hlbWEoKSB7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzY2hlbWEiLCBf\nc2NoZW1hLmdldE5hbWUoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShfc2NoZW1h\nLmdldFNjaGVtYUdyb3VwKCkuaXNOYW1lVGFrZW4oInNjaGVtYSIpKTsKCiAg\nICAgICAgYXNzZXJ0VHJ1ZSghX3NjaGVtYS5nZXRTY2hlbWFHcm91cCgpLmlz\nTmFtZVRha2VuKCJ0YWJsZTEiKSk7CiAgICAgICAgVGFibGUgdGFibGUxID0g\nX3NjaGVtYS5hZGRUYWJsZSgidGFibGUxIik7CiAgICAgICAgYXNzZXJ0VHJ1\nZShfc2NoZW1hLmdldFNjaGVtYUdyb3VwKCkuaXNOYW1lVGFrZW4oInRhYmxl\nMSIpKTsKICAgICAgICBUYWJsZSB0YWJsZTIgPSBfc2NoZW1hLmFkZFRhYmxl\nKCJ0YWJsZTIiKTsKICAgICAgICBhc3NlcnRUcnVlKF9zY2hlbWEuZ2V0U2No\nZW1hR3JvdXAoKS5pc05hbWVUYWtlbigidGFibGUyIikpOwoKICAgICAgICBU\nYWJsZVtdIHRhYmxlcyA9IF9zY2hlbWEuZ2V0VGFibGVzKCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDIsIHRhYmxlcy5sZW5ndGgpOwogICAgICAgIGFzc2Vy\ndEVxdWFscyh0YWJsZTEsIHRhYmxlc1swXSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKHRhYmxlMiwgdGFibGVzWzFdKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\ndGFibGUxLCBfc2NoZW1hLmdldFRhYmxlKCJ0YWJsZTEiKSk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKHRhYmxlMiwgX3NjaGVtYS5nZXRUYWJsZSgidGFibGUy\nIikpOwogICAgICAgIGFzc2VydE51bGwoX3NjaGVtYS5nZXRUYWJsZSgidGFi\nbGUzIikpOwoKICAgICAgICBhc3NlcnRUcnVlKF9zY2hlbWEucmVtb3ZlVGFi\nbGUodGFibGUxKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSghX3NjaGVtYS5nZXRT\nY2hlbWFHcm91cCgpLmlzTmFtZVRha2VuKCJ0YWJsZTEiKSk7CiAgICAgICAg\nYXNzZXJ0TnVsbChfc2NoZW1hLmdldFRhYmxlKCJ0YWJsZTEiKSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKHRhYmxlMiwgX3NjaGVtYS5nZXRUYWJsZSgidGFi\nbGUyIikpOwogICAgICAgIGFzc2VydFRydWUoX3NjaGVtYS5yZW1vdmVUYWJs\nZSh0YWJsZTIpKTsKICAgICAgICBhc3NlcnRUcnVlKCFfc2NoZW1hLmdldFNj\naGVtYUdyb3VwKCkuaXNOYW1lVGFrZW4oInRhYmxlMiIpKTsKICAgICAgICBh\nc3NlcnROdWxsKF9zY2hlbWEuZ2V0VGFibGUoInRhYmxlMiIpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoMCwgX3NjaGVtYS5nZXRUYWJsZXMoKS5sZW5ndGgp\nOwogICAgfQoKICAgIC8qKgogICAgICogVGVzdCB0aGUge0BsaW5rIFRhYmxl\nfSBjbGFzcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdFRhYmxlKCkg\newogICAgICAgIFRhYmxlIHRhYmxlID0gX3NjaGVtYS5hZGRUYWJsZSgidGFi\nbGUiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoX3NjaGVtYSwgdGFibGUuZ2V0\nU2NoZW1hKCkpOwogICAgICAgIGFzc2VydEVxdWFscygidGFibGUiLCB0YWJs\nZS5nZXROYW1lKCkpOwoKICAgICAgICBhc3NlcnRUcnVlKCF0YWJsZS5pc05h\nbWVUYWtlbigic2NoZW1hIikpOwogICAgICAgIGFzc2VydFRydWUodGFibGUu\naXNOYW1lVGFrZW4oInRhYmxlIikpOwoKICAgICAgICAvLyBwayB0ZXN0aW5n\nCiAgICAgICAgYXNzZXJ0TnVsbCh0YWJsZS5nZXRQcmltYXJ5S2V5KCkpOwog\nICAgICAgIFByaW1hcnlLZXkgcGsgPSB0YWJsZS5hZGRQcmltYXJ5S2V5KCJw\nayIpOwogICAgICAgIGFzc2VydEVxdWFscyh0YWJsZSwgcGsuZ2V0VGFibGUo\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKHBrLCB0YWJsZS5nZXRQcmltYXJ5\nS2V5KCkpOwogICAgICAgIGFzc2VydFRydWUoIXRhYmxlLmlzTmFtZVRha2Vu\nKCJwayIpKTsKICAgICAgICBhc3NlcnRUcnVlKF9zY2hlbWEuZ2V0U2NoZW1h\nR3JvdXAoKS5pc05hbWVUYWtlbigicGsiKSk7CgogICAgICAgIHRhYmxlLnJl\nbW92ZVByaW1hcnlLZXkoKTsKICAgICAgICBhc3NlcnROdWxsKHRhYmxlLmdl\ndFByaW1hcnlLZXkoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSghX3NjaGVtYS5n\nZXRTY2hlbWFHcm91cCgpLmlzTmFtZVRha2VuKCJwayIpKTsKCiAgICAgICAg\nLy8gY29sdW1uIHRlc3RpbmcKICAgICAgICBDb2x1bW4gYzIgPSB0YWJsZS5h\nZGRDb2x1bW4oImMyIik7CiAgICAgICAgQ29sdW1uIGMxID0gdGFibGUuYWRk\nQ29sdW1uKCJjMSIpOwogICAgICAgIGFzc2VydFRydWUodGFibGUuaXNOYW1l\nVGFrZW4oImMxIikpOwogICAgICAgIGFzc2VydFRydWUoIV9zY2hlbWEuZ2V0\nU2NoZW1hR3JvdXAoKS5pc05hbWVUYWtlbigiYzEiKSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKHRhYmxlLCBjMS5nZXRUYWJsZSgpKTsKICAgICAgICBDb2x1\nbW5bXSBjb2xzID0gdGFibGUuZ2V0Q29sdW1ucygpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygyLCBjb2xzLmxlbmd0aCk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKGMyLCBjb2xzWzBdKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYzEsIGNvbHNb\nMV0pOwoKICAgICAgICBhc3NlcnRFcXVhbHMoYzEsIHRhYmxlLmdldENvbHVt\nbigiYzEiKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGMyLCB0YWJsZS5nZXRD\nb2x1bW4oImMyIikpOwoKICAgICAgICBhc3NlcnRUcnVlKHRhYmxlLnJlbW92\nZUNvbHVtbihjMSkpOwogICAgICAgIGFzc2VydFRydWUoIXRhYmxlLmlzTmFt\nZVRha2VuKCJjMSIpKTsKICAgICAgICBhc3NlcnROdWxsKHRhYmxlLmdldENv\nbHVtbigiYzEiKSk7CgogICAgICAgIC8vIGZvcmVpZ24ga2V5IHRlc3RpbmcK\nICAgICAgICBGb3JlaWduS2V5IGZrID0gdGFibGUuYWRkRm9yZWlnbktleSgi\nZmsiKTsKICAgICAgICBhc3NlcnRUcnVlKF9zY2hlbWEuZ2V0U2NoZW1hR3Jv\ndXAoKS5pc05hbWVUYWtlbigiZmsiKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgh\ndGFibGUuaXNOYW1lVGFrZW4oImZrIikpOwogICAgICAgIGFzc2VydEVxdWFs\ncyh0YWJsZSwgZmsuZ2V0VGFibGUoKSk7CiAgICAgICAgRm9yZWlnbktleVtd\nIGZrcyA9IHRhYmxlLmdldEZvcmVpZ25LZXlzKCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEsIGZrcy5sZW5ndGgpOwogICAgICAgIGFzc2VydEVxdWFscyhm\naywgZmtzWzBdKTsKCiAgICAgICAgYXNzZXJ0VHJ1ZSh0YWJsZS5yZW1vdmVG\nb3JlaWduS2V5KGZrKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSghX3NjaGVtYS5n\nZXRTY2hlbWFHcm91cCgpLmlzTmFtZVRha2VuKCJmayIpKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoMCwgdGFibGUuZ2V0Rm9yZWlnbktleXMoKS5sZW5ndGgp\nOwoKICAgICAgICAvLyBpbmRleCB0ZXN0aW5nCiAgICAgICAgSW5kZXggaWR4\nID0gdGFibGUuYWRkSW5kZXgoImlkeCIpOwogICAgICAgIGFzc2VydFRydWUo\nX3NjaGVtYS5nZXRTY2hlbWFHcm91cCgpLmlzTmFtZVRha2VuKCJpZHgiKSk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZSghdGFibGUuaXNOYW1lVGFrZW4oImlkeCIp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHModGFibGUsIGlkeC5nZXRUYWJsZSgp\nKTsKICAgICAgICBJbmRleFtdIGlkeHMgPSB0YWJsZS5nZXRJbmRleGVzKCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGlkeHMubGVuZ3RoKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoaWR4LCBpZHhzWzBdKTsKCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKGlkeCwgdGFibGUuZ2V0SW5kZXgoImlkeCIpKTsKICAgICAgICBh\nc3NlcnRUcnVlKHRhYmxlLnJlbW92ZUluZGV4KGlkeCkpOwogICAgICAgIGFz\nc2VydFRydWUoIXRhYmxlLmlzTmFtZVRha2VuKCJpZHgiKSk7CiAgICAgICAg\nYXNzZXJ0TnVsbCh0YWJsZS5nZXRJbmRleCgiaWR4IikpOwogICAgfQoKICAg\nIC8qKgogICAgICogVGVzdCB0aGUge0BsaW5rIEluZGV4fSBjbGFzcy4KICAg\nICAqLwogICAgcHVibGljIHZvaWQgdGVzdEluZGV4KCkgewogICAgICAgIFRh\nYmxlIHRhYmxlID0gX3NjaGVtYS5hZGRUYWJsZSgidGFibGUiKTsKICAgICAg\nICBDb2x1bW4gYzEgPSB0YWJsZS5hZGRDb2x1bW4oImMxIik7CiAgICAgICAg\nQ29sdW1uIGMyID0gdGFibGUuYWRkQ29sdW1uKCJjMiIpOwogICAgICAgIFRh\nYmxlIHRhYmxlMiA9IF9zY2hlbWEuYWRkVGFibGUoInRhYmxlMiIpOwogICAg\nICAgIENvbHVtbiBjMyA9IHRhYmxlMi5hZGRDb2x1bW4oImMzIik7CgogICAg\nICAgIEluZGV4IGlkeCA9IHRhYmxlLmFkZEluZGV4KCJpZHgiKTsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBpZHguYWRkQ29sdW1uKGMzKTsKICAgICAg\nICAgICAgZmFpbCgiQWxsb3dlZCBhZGRpdGlvbiBvZiBjb2x1bW4gb2YgYW5v\ndGhlciB0YWJsZS4iKTsKICAgICAgICB9IGNhdGNoIChSdW50aW1lRXhjZXB0\naW9uIHJlKSB7CiAgICAgICAgfQoKICAgICAgICBDb2x1bW5bXSBjb2xzID0g\naWR4LmdldENvbHVtbnMoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMCwgY29s\ncy5sZW5ndGgpOwoKICAgICAgICBpZHguYWRkQ29sdW1uKGMxKTsKICAgICAg\nICBpZHguYWRkQ29sdW1uKGMyKTsKICAgICAgICBjb2xzID0gaWR4LmdldENv\nbHVtbnMoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMiwgY29scy5sZW5ndGgp\nOwogICAgICAgIGFzc2VydEVxdWFscyhjMSwgY29sc1swXSk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKGMyLCBjb2xzWzFdKTsKCiAgICAgICAgYXNzZXJ0VHJ1\nZShpZHgucmVtb3ZlQ29sdW1uKGMxKSk7CiAgICAgICAgY29scyA9IGlkeC5n\nZXRDb2x1bW5zKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGNvbHMubGVu\nZ3RoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYzIsIGNvbHNbMF0pOwogICAg\nICAgIGFzc2VydFRydWUoaWR4LnJlbW92ZUNvbHVtbihjMikpOwogICAgICAg\nIGNvbHMgPSBpZHguZ2V0Q29sdW1ucygpOwogICAgICAgIGFzc2VydEVxdWFs\ncygwLCBjb2xzLmxlbmd0aCk7CgogICAgICAgIGFzc2VydFRydWUoIWlkeC5p\nc1VuaXF1ZSgpKTsKICAgICAgICBpZHguc2V0VW5pcXVlKHRydWUpOwogICAg\nICAgIGFzc2VydFRydWUoaWR4LmlzVW5pcXVlKCkpOwogICAgfQoKICAgIC8q\nKgogICAgICogVGVzdCB0aGUge0BsaW5rIEZvcmVpZ25LZXl9IGNsYXNzLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0Rm9yZWlnbktleSgpIHsKICAg\nICAgICBUYWJsZSB0YWJsZSA9IF9zY2hlbWEuYWRkVGFibGUoInRhYmxlIik7\nCiAgICAgICAgQ29sdW1uIGMxID0gdGFibGUuYWRkQ29sdW1uKCJjMSIpOwog\nICAgICAgIENvbHVtbiBjMiA9IHRhYmxlLmFkZENvbHVtbigiYzIiKTsKICAg\nICAgICBUYWJsZSB0YWJsZTIgPSBfc2NoZW1hLmFkZFRhYmxlKCJ0YWJsZTIi\nKTsKICAgICAgICBDb2x1bW4gYzMgPSB0YWJsZTIuYWRkQ29sdW1uKCJjMyIp\nOwogICAgICAgIENvbHVtbiBjNCA9IHRhYmxlMi5hZGRDb2x1bW4oImM0Iik7\nCgogICAgICAgIEZvcmVpZ25LZXkgZmsgPSB0YWJsZS5hZGRGb3JlaWduS2V5\nKCJmayIpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZrLmpvaW4oYzQs\nIGMyKTsKICAgICAgICAgICAgZmFpbCgiQWxsb3dlZCBhZGRpdGlvbiBvZiBj\nb2x1bW4gb2YgYW5vdGhlciB0YWJsZS4iKTsKICAgICAgICB9IGNhdGNoIChS\ndW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgfQoKICAgICAgICBDb2x1\nbW5bXSBjb2xzID0gZmsuZ2V0Q29sdW1ucygpOwogICAgICAgIENvbHVtbltd\nIHBrQ29scyA9IGZrLmdldFByaW1hcnlLZXlDb2x1bW5zKCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDAsIGNvbHMubGVuZ3RoKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoMCwgcGtDb2xzLmxlbmd0aCk7CiAgICAgICAgUHJpbWFyeUtleSBw\nayA9IHRhYmxlMi5hZGRQcmltYXJ5S2V5KCJwayIpOwogICAgICAgIHBrLmFk\nZENvbHVtbihjMyk7CiAgICAgICAgZmsuam9pbihjMSwgYzMpOwogICAgICAg\nIHBrLmFkZENvbHVtbihjNCk7CiAgICAgICAgZmsuam9pbihjMiwgYzQpOwog\nICAgICAgIGNvbHMgPSBmay5nZXRDb2x1bW5zKCk7CiAgICAgICAgcGtDb2xz\nID0gZmsuZ2V0UHJpbWFyeUtleUNvbHVtbnMoKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoMiwgY29scy5sZW5ndGgpOwogICAgICAgIGFzc2VydEVxdWFscyhj\nMSwgY29sc1swXSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGMyLCBjb2xzWzFd\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYzMsIHBrQ29sc1swXSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKGM0LCBwa0NvbHNbMV0pOwoKICAgICAgICBhc3Nl\ncnRUcnVlKGZrLnJlbW92ZUpvaW4oYzEpKTsKICAgICAgICBjb2xzID0gZmsu\nZ2V0Q29sdW1ucygpOwogICAgICAgIHBrQ29scyA9IGZrLmdldFByaW1hcnlL\nZXlDb2x1bW5zKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGNvbHMubGVu\nZ3RoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgcGtDb2xzLmxlbmd0aCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKGMyLCBjb2xzWzBdKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoYzQsIHBrQ29sc1swXSk7CiAgICAgICAgYXNzZXJ0VHJ1\nZShmay5yZW1vdmVKb2luKGMyKSk7CiAgICAgICAgY29scyA9IGZrLmdldENv\nbHVtbnMoKTsKICAgICAgICBwa0NvbHMgPSBmay5nZXRQcmltYXJ5S2V5Q29s\ndW1ucygpOwogICAgICAgIGFzc2VydEVxdWFscygwLCBjb2xzLmxlbmd0aCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIHBrQ29scy5sZW5ndGgpOwoKICAg\nICAgICBhc3NlcnRFcXVhbHMoRm9yZWlnbktleS5BQ1RJT05fTk9ORSwgZmsu\nZ2V0RGVsZXRlQWN0aW9uKCkpOwogICAgICAgIGFzc2VydFRydWUoZmsuaXNM\nb2dpY2FsKCkpOwogICAgICAgIGZrLnNldERlbGV0ZUFjdGlvbihGb3JlaWdu\nS2V5LkFDVElPTl9SRVNUUklDVCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKEZv\ncmVpZ25LZXkuQUNUSU9OX1JFU1RSSUNULCBmay5nZXREZWxldGVBY3Rpb24o\nKSk7CiAgICAgICAgYXNzZXJ0RmFsc2UoZmsuaXNMb2dpY2FsKCkpOwogICAg\nfQoKICAgIC8qKgogICAgICogVGVzdHMgdGhlIHtAbGluayBTY2hlbWFHcm91\ncH0gY2xhc3MuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RTY2hlbWFH\ncm91cCgpIHsKICAgICAgICBTY2hlbWFHcm91cCBncm91cCA9IF9zY2hlbWEu\nZ2V0U2NoZW1hR3JvdXAoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoX3NjaGVt\nYSwgZ3JvdXAuZ2V0U2NoZW1hKCJzY2hlbWEiKSk7CiAgICAgICAgVGFibGUg\nZm9vMSA9IF9zY2hlbWEuYWRkVGFibGUoImZvbyIpOwoKICAgICAgICBTY2hl\nbWEgc2NoZW1hMiA9IGdyb3VwLmFkZFNjaGVtYSgic2NoZW1hMiIpOwogICAg\nICAgIGFzc2VydE51bGwoc2NoZW1hMi5nZXRUYWJsZSgiZm9vIikpOwogICAg\nICAgIFRhYmxlIGZvbzIgPSBzY2hlbWEyLmFkZFRhYmxlKCJmb28iKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoZm9vMiwgc2NoZW1hMi5nZXRUYWJsZSgiZm9v\nIikpOwogICAgICAgIGFzc2VydEVxdWFscyhmb28xLCBfc2NoZW1hLmdldFRh\nYmxlKCJmb28iKSk7CgogICAgICAgIGFzc2VydEVxdWFscyhmb28xLCBncm91\ncC5maW5kVGFibGUoInNjaGVtYS5mb28iKSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKGZvbzIsIGdyb3VwLmZpbmRUYWJsZSgic2NoZW1hMi5mb28iKSk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUZXN0IHByaW1hcnkga2V5IHJlbW92YWwu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RQcmltYXJ5S2V5UmVtb3Zh\nbCgpIHsKICAgICAgICBUYWJsZSB0YWJsZSA9IF9zY2hlbWEuYWRkVGFibGUo\nInRhYmxlIik7CiAgICAgICAgQ29sdW1uIGMxID0gdGFibGUuYWRkQ29sdW1u\nKCJjMSIpOwogICAgICAgIENvbHVtbiBjMiA9IHRhYmxlLmFkZENvbHVtbigi\nYzIiKTsKICAgICAgICBUYWJsZSB0YWJsZTIgPSBfc2NoZW1hLmFkZFRhYmxl\nKCJ0YWJsZTIiKTsKICAgICAgICBDb2x1bW4gYzMgPSB0YWJsZTIuYWRkQ29s\ndW1uKCJjMyIpOwogICAgICAgIENvbHVtbiBjNCA9IHRhYmxlMi5hZGRDb2x1\nbW4oImM0Iik7CiAgICAgICAgUHJpbWFyeUtleSBwayA9IHRhYmxlMi5hZGRQ\ncmltYXJ5S2V5KCJwayIpOwogICAgICAgIHBrLmFkZENvbHVtbihjMyk7CiAg\nICAgICAgcGsuYWRkQ29sdW1uKGM0KTsKICAgICAgICBGb3JlaWduS2V5IGZr\nID0gdGFibGUuYWRkRm9yZWlnbktleSgiZmsiKTsKICAgICAgICBmay5qb2lu\nKGMxLCBjMyk7CiAgICAgICAgZmsuam9pbihjMiwgYzQpOwoKICAgICAgICB0\nYWJsZTIucmVtb3ZlUHJpbWFyeUtleSgpOwogICAgICAgIGFzc2VydE51bGwo\ncGsuZ2V0VGFibGUoKSk7CiAgICAgICAgYXNzZXJ0TnVsbCh0YWJsZTIuZ2V0\nUHJpbWFyeUtleSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMCwgdGFibGUu\nZ2V0Rm9yZWlnbktleXMoKS5sZW5ndGgpOwogICAgfQoKICAgIC8qKgogICAg\nICogVGVzdCBjb2x1bW4gcmVtb3ZhbC4KICAgICAqLwogICAgcHVibGljIHZv\naWQgdGVzdENvbHVtblJlbW92YWwoKSB7CiAgICAgICAgVGFibGUgdGFibGUg\nPSBfc2NoZW1hLmFkZFRhYmxlKCJ0YWJsZSIpOwogICAgICAgIENvbHVtbiBj\nMSA9IHRhYmxlLmFkZENvbHVtbigiYzEiKTsKICAgICAgICBDb2x1bW4gYzIg\nPSB0YWJsZS5hZGRDb2x1bW4oImMyIik7CiAgICAgICAgUHJpbWFyeUtleSBw\nayA9IHRhYmxlLmFkZFByaW1hcnlLZXkoInBrIik7CiAgICAgICAgcGsuYWRk\nQ29sdW1uKGMxKTsKICAgICAgICBJbmRleCBpZHgxID0gdGFibGUuYWRkSW5k\nZXgoImlkeDEiKTsKICAgICAgICBpZHgxLmFkZENvbHVtbihjMSk7CiAgICAg\nICAgSW5kZXggaWR4MiA9IHRhYmxlLmFkZEluZGV4KCJpZHgyIik7CiAgICAg\nICAgaWR4Mi5hZGRDb2x1bW4oYzEpOwogICAgICAgIGlkeDIuYWRkQ29sdW1u\nKGMyKTsKCiAgICAgICAgVGFibGUgdGFibGUyID0gX3NjaGVtYS5hZGRUYWJs\nZSgidGFibGUyIik7CiAgICAgICAgQ29sdW1uIGMzID0gdGFibGUyLmFkZENv\nbHVtbigiYzMiKTsKICAgICAgICBDb2x1bW4gYzQgPSB0YWJsZTIuYWRkQ29s\ndW1uKCJjNCIpOwogICAgICAgIHBrID0gdGFibGUyLmFkZFByaW1hcnlLZXko\nInBrMiIpOwogICAgICAgIHBrLmFkZENvbHVtbihjMyk7CiAgICAgICAgRm9y\nZWlnbktleSBmayA9IHRhYmxlLmFkZEZvcmVpZ25LZXkoImZrIik7CiAgICAg\nICAgZmsuam9pbihjMSwgYzMpOwoKICAgICAgICB0YWJsZS5yZW1vdmVDb2x1\nbW4oYzEpOwogICAgICAgIGFzc2VydE51bGwodGFibGUuZ2V0UHJpbWFyeUtl\neSgpKTsKICAgICAgICBhc3NlcnROdWxsKHRhYmxlLmdldEluZGV4KCJpZHgx\nIikpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBpZHgyLmdldENvbHVtbnMo\nKS5sZW5ndGgpOwogICAgICAgIGFzc2VydEVxdWFscygwLCB0YWJsZS5nZXRG\nb3JlaWduS2V5cygpLmxlbmd0aCk7CiAgICB9CgogICAgcHVibGljIHN0YXRp\nYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIC8vbWFpbihU\nZXN0U2NoZW1hLmNsYXNzKTsKCX0KICAgIAp9Cg==\n","encoding":"base64"}

