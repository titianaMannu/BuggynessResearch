{"sha":"52e6269439dad3e11f5efe550b794f6740fa41b3","node_id":"MDQ6QmxvYjIwNjM2NDo1MmU2MjY5NDM5ZGFkM2UxMWY1ZWZlNTUwYjc5NGY2NzQwZmE0MWIz","size":4993,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/52e6269439dad3e11f5efe550b794f6740fa41b3","content":"LyoKICogVGVzdFNjaGVtYUdlbmVyYXRvci5qYXZhCiAqCiAqIENyZWF0ZWQg\nb24gT2N0b2JlciA2LCAyMDA2LCAyOjU3IFBNCiAqCiAqIFRvIGNoYW5nZSB0\naGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2Vy\nCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8K\nCi8qCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBs\naWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRp\nc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9y\nbWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBB\ncGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIp\nOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh\nbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNv\ncHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUu\nb3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJl\nZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywK\nICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMg\nZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBX\nQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhl\nciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo\nZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMg\nYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICov\nCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMu\nc2NoZW1hOwoKaW1wb3J0IGphdmEuaW8uU3RyaW5nV3JpdGVyOwppbXBvcnQg\namF2YS5zcWwuQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEuc3FsLkRhdGFiYXNl\nTWV0YURhdGE7CmltcG9ydCBqYXZhLnV0aWwuKjsKaW1wb3J0IGphdmF4LnNx\nbC5EYXRhU291cmNlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nY29uZi5KREJDQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLm1ldGEuQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMubWV0YS5NYXBwaW5nUmVwb3NpdG9yeTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW47CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuU2NoZW1hVG9vbDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5UYWJsZTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25h\ncnk7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpk\nYmMuY29tbW9uLmFwcHMuKjsKCgppbXBvcnQgamF2YS5sYW5nLmFubm90YXRp\nb24uQW5ub3RhdGlvbjsKaW1wb3J0IGp1bml0LmZyYW1ld29yay4qOwppbXBv\ncnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5OwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZh\nY3RvcnlTUEk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJTUEk7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNlOwoKCnB1\nYmxpYyBjbGFzcyBUZXN0U2NoZW1hR2VuZXJhdG9yIGV4dGVuZHMgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMua2VybmVsLkJhc2VKREJD\nVGVzdHsKICAgICAgICAKICAgIC8qKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNl\nIG9mIFRlc3RTY2hlbWFHZW5lcmF0b3IgKi8KICAgIHB1YmxpYyBUZXN0U2No\nZW1hR2VuZXJhdG9yKFN0cmluZyBuYW1lKSAKICAgIHsKICAgIAlzdXBlcihu\nYW1lKTsKICAgIH0KICAgIAogICAgcHVibGljIHZvaWQgREJNZXRhZGF0YVRl\nc3QoKQogICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXJGYWN0b3J5IHBtZiA9IChPcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3RvcnkpCiAgICAgICAgZ2V0RW1mKCk7CiAgICAgICAgLy9GSVhNRSBq\ndGhvbWFzCiAgICAgICAgCiAgICAgICAgLy9DbGFzc01hcHBpbmcgY20gPSAo\nQ2xhc3NNYXBwaW5nKSBLb2RvSkRPSGVscGVyLmdldE1ldGFEYXRhCiAgICAg\nICAgLy8gICAgKHBtZiwgUnVudGltZVRlc3QxLmNsYXNzKTsKICAgICAgICBD\nbGFzc01hcHBpbmcgY20gPW51bGw7CiAgICAgICAgSkRCQ0NvbmZpZ3VyYXRp\nb24gY29uZiA9IChKREJDQ29uZmlndXJhdGlvbikgZ2V0Q29uZmlndXJhdGlv\nbigpOwogICAgICAgIAogICAgICAgIERhdGFTb3VyY2UgZHMgPSAoRGF0YVNv\ndXJjZSkgY29uZi5nZXREYXRhU291cmNlMihudWxsKTsKICAgICAgICBDb25u\nZWN0aW9uIGMgPSBkcy5nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgRGF0YWJh\nc2VNZXRhRGF0YSBtZXRhID0gYy5nZXRNZXRhRGF0YSgpOwogICAgICAgIERC\nRGljdGlvbmFyeSBkaWN0ID0gY29uZi5nZXREQkRpY3Rpb25hcnlJbnN0YW5j\nZSgpOwogICAgICAgIAogICAgICAgIFN0cmluZyBzY2hlbWEgPSBjbS5nZXRU\nYWJsZSgpLmdldFNjaGVtYSgpLmdldE5hbWUoKTsKICAgICAgICBUYWJsZVtd\nIHRhYmxlcyA9IGRpY3QuZ2V0VGFibGVzKG1ldGEsIGMuZ2V0Q2F0YWxvZygp\nLCBzY2hlbWEsCiAgICAgICAgICAgICAgICBjbS5nZXRUYWJsZSgpLmdldE5h\nbWUoKSwgYyk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHRhYmxlcy5sZW5n\ndGgpOwogICAgICAgIAogICAgICAgIENvbHVtbltdIGNvbHVtbnMgPSBkaWN0\nLmdldENvbHVtbnMobWV0YSwgYy5nZXRDYXRhbG9nKCksIHNjaGVtYSwKICAg\nICAgICAgICAgICAgIGNtLmdldFRhYmxlKCkuZ2V0TmFtZSgpLCBudWxsLCBj\nKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGNvbHVtbnMubGVuZ3Ro\nOyBpKyspCiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiIyMjICIg\nKyBjb2x1bW5zW2ldLmdldE5hbWUoKSk7CiAgICB9CiAgICAKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RTY2hlbWFHZW4oKQogICAgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBtZiA9IChP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkpCiAgICAgICAgZ2V0RW1mKCk7\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBwbWYuY3JlYXRl\nRW50aXR5TWFuYWdlcigpOwogICAgICAgIEpEQkNDb25maWd1cmF0aW9uIGNv\nbiA9IChKREJDQ29uZmlndXJhdGlvbikgKChPcGVuSlBBRW50aXR5TWFuYWdl\nclNQSSkgcG0pLmdldENvbmZpZ3VyYXRpb24oKTsKICAgICAgICBEQkRpY3Rp\nb25hcnkgZGljdCA9IGNvbi5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpOwog\nICAgICAgIE1hcHBpbmdSZXBvc2l0b3J5IHJlcG9zID0gY29uLmdldE1hcHBp\nbmdSZXBvc2l0b3J5SW5zdGFuY2UoKTsKICAgICAgICBDbGFzc01hcHBpbmcg\nY20gPSByZXBvcy5nZXRNYXBwaW5nKFJ1bnRpbWVUZXN0MS5jbGFzcywKICAg\nICAgICAgICAgICAgIHBtLmdldENsYXNzTG9hZGVyKCksIHRydWUpOwogICAg\nICAgIFN0cmluZyBzY2hlbWFzID0gY20uZ2V0VGFibGUoKS5nZXRTY2hlbWEo\nKS5nZXROYW1lKCk7CiAgICAgICAgaWYgKHNjaGVtYXMgPT0gbnVsbCkKICAg\nICAgICAgICAgc2NoZW1hcyA9ICIiOwogICAgICAgIHNjaGVtYXMgKz0gIi4i\nICsgY20uZ2V0VGFibGUoKS5nZXROYW1lKCk7CiAgICAgICAgCiAgICAgICAg\nTWFwIHByb3BzPW5ldyBIYXNoTWFwKCk7CiAgICAgICAgcHJvcHMucHV0KCJv\ncGVuanBhLmpkYmMuU2NoZW1hcyIsIHNjaGVtYXMpOwogICAgICAgIAogICAg\nICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBrcG1mID0oT3BlbkpQ\nQUVudGl0eU1hbmFnZXJGYWN0b3J5KQogICAgICAgICAgICAgICAgZ2V0RW1m\nKHByb3BzKTsKICAgICAgICBKREJDQ29uZmlndXJhdGlvbiBjb25mID0gKEpE\nQkNDb25maWd1cmF0aW9uKSAoKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neVNQSSkga3BtZikuZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgIAogICAg\nICAgIFN0cmluZ1dyaXRlciBzdyA9IG5ldyBTdHJpbmdXcml0ZXIoKTsKICAg\nICAgICAKICAgICAgICBTY2hlbWFUb29sLkZsYWdzIGZsYWdzID0gbmV3IFNj\naGVtYVRvb2wuRmxhZ3MoKTsKICAgICAgICBmbGFncy53cml0ZXIgPSBzdzsK\nICAgICAgICBmbGFncy5wcmltYXJ5S2V5cyA9IHRydWU7CiAgICAgICAgZmxh\nZ3MuZm9yZWlnbktleXMgPSB0cnVlOwogICAgICAgIGZsYWdzLmluZGV4ZXMg\nPSB0cnVlOwogICAgICAgIGZsYWdzLm9wZW5qcGFUYWJsZXMgPSB0cnVlOwog\nICAgICAgIGZsYWdzLmFjdGlvbiA9IFNjaGVtYVRvb2wuQUNUSU9OX1JFRkxF\nQ1Q7CiAgICAgICAgCiAgICAgICAgU2NoZW1hVG9vbC5ydW4oY29uZiwgbmV3\nIFN0cmluZ1swXSwgZmxhZ3MsCiAgICAgICAgICAgICAgICBnZXRDbGFzcygp\nLmdldENsYXNzTG9hZGVyKCkpOwogICAgICAgIAogICAgICAgIHN3LmZsdXNo\nKCk7CiAgICAgICAgU3RyaW5nIGRhdGEgPSBzdy50b1N0cmluZygpOwogICAg\nICAgIGFzc2VydFRydWUoZGF0YS5sZW5ndGgoKSA+IDApOwogICAgfQp9Cg==\n","encoding":"base64"}

