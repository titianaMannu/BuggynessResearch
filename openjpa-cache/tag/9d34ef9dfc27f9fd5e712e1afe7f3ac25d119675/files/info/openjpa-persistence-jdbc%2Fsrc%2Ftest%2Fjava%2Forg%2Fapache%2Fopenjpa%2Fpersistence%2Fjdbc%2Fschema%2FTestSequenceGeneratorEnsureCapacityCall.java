{"sha":"1881eb99a7cde1260470013ba089482c293f3a34","node_id":"MDQ6QmxvYjIwNjM2NDoxODgxZWI5OWE3Y2RlMTI2MDQ3MDAxM2JhMDg5NDgyYzI5M2YzYTM0","size":3508,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1881eb99a7cde1260470013ba089482c293f3a34","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5z\nY2hlbWE7CgppbXBvcnQgamF2YS51dGlsLio7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuY29uZi5PcGVuSlBBQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5DbGFzc1RhYmxlSkRCQ1Nl\ncTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5UYWJs\nZUpEQkNTZXE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hl\nbWEuU2VxdWVuY2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVs\nLlNlcTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0\nYURhdGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5TZXF1ZW5j\nZU1ldGFEYXRhOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5qZGJjLmNvbW1vbi5hcHBzLio7CgoKaW1wb3J0IGphdmEubGFuZy5h\nbm5vdGF0aW9uLkFubm90YXRpb247CmltcG9ydCBqdW5pdC5mcmFtZXdvcmsu\nKjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7Cmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CgoKcHVibGlj\nIGNsYXNzIFRlc3RTZXF1ZW5jZUdlbmVyYXRvckVuc3VyZUNhcGFjaXR5Q2Fs\nbCAKICAgICAgICBleHRlbmRzIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5qZGJjLmtlcm5lbC5UZXN0U1FMTGlzdGVuZXJUZXN0Q2FzZXsKICAg\nCiAgICAKICAgIAogICAgLyoqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2Yg\nVGVzdFNlcXVlbmNlR2VuZXJhdG9yRW5zdXJlQ2FwYWNpdHlDYWxsICovCiAg\nICBwdWJsaWMgVGVzdFNlcXVlbmNlR2VuZXJhdG9yRW5zdXJlQ2FwYWNpdHlD\nYWxsKFN0cmluZyBuYW1lKSAKICAgIHsKICAgIAlzdXBlcihuYW1lKTsKICAg\nIH0KCiAgICAvLyBjbGFzcyBTZXFBIHVzZXMgdGhlIGRlZmF1bHQgc2VxdWVu\nY2UgZmFjdG9yeS4KICAgIHB1YmxpYyB2b2lkIHRlc3REQlNlcXVlbmNlRmFj\ndG9yeSgpIHsKICAgICAgICBUYWJsZUpEQkNTZXEgc2VxID0gKFRhYmxlSkRC\nQ1NlcSkgc2VxRm9yQ2xhc3MoU2VxQS5jbGFzcyk7CiAgICAgICAgaW5jcmVt\nZW50VGVzdChTZXFBLmNsYXNzLCBzZXEuZ2V0QWxsb2NhdGUoKSk7CiAgICB9\nCgogICAgLy8gY2xhc3MgU2VxRCB1c2VzIHRoZSBkYi1jbGFzcyBzZXF1ZW5j\nZSBmYWN0b3J5LgogICAgcHVibGljIHZvaWQgdGVzdENsYXNzREJTZXF1ZW5j\nZUZhY3RvcnkoKSB7CiAgICAgICAgQ2xhc3NUYWJsZUpEQkNTZXEgc2VxID0g\nKENsYXNzVGFibGVKREJDU2VxKSBzZXFGb3JDbGFzcyhTZXFELmNsYXNzKTsK\nICAgICAgICBpbmNyZW1lbnRUZXN0KFNlcUQuY2xhc3MsIHNlcS5nZXRBbGxv\nY2F0ZSgpKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgaW5jcmVtZW50VGVz\ndChDbGFzcyBjbHMsIGludCBnZW5lcmF0b3JJbmNyZW1lbnQpIHsKICAgICAg\nICAvLyBndWFyYW50ZWVkIHRvIGJlIG1vcmUgdGhhbiBhIHNpbmdsZSBiYXRj\naCwgc28gZW5zdXJlQ2FwYWNpdHkgc2hvdWxkCiAgICAgICAgLy8gZG8gaXRz\nIHRoaW5nLgogICAgICAgIGludCBhbW91bnRUb0luY3JlbWVudCA9IGdlbmVy\nYXRvckluY3JlbWVudCAqIDI7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyIHBtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVudGl0eU1h\nbmFnZXIoKTsKICAgICAgICAvL0ZJWE1FIGp0aG9tYXMKICAgICAgICAvL1Nl\ncXVlbmNlIHMgPSBwbS5nZXRJZGVudGl0eVNlcXVlbmNlKGNscyk7CiAgICAg\nICAgU2VxdWVuY2UgcyA9bnVsbDsKICAgICAgICBzLnNldEFsbG9jYXRlKGFt\nb3VudFRvSW5jcmVtZW50KTsKCiAgICAgICAgc3FsLmNsZWFyKCk7CiAgICAg\nICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhbW91bnRUb0luY3JlbWVudDsgaSsr\nKSB7CiAgICAgICAgICAgIHMuZ2V0SW5jcmVtZW50KCk7CiAgICAgICAgICAg\nIGFzc2VydEVxdWFscygiU1FMIGxpc3Qgc2hvdWxkIGhhdmUgYmVlbiBlbXB0\neSBvbiBzZXF1ZW5jZSIKICAgICAgICAgICAgICAgICsgIiBmZXRjaCAjIiAr\nIGkgKyAiIG9mICMiICsgYW1vdW50VG9JbmNyZW1lbnQKICAgICAgICAgICAg\nICAgICsgIiwgYnV0IGNvbnRhaW5lZDogIiArIHNxbCwgMCwgc3FsLnNpemUo\nKSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgU2VxIHNlcUZvckNs\nYXNzKENsYXNzIGNscykgewogICAgICAgIE9wZW5KUEFDb25maWd1cmF0aW9u\nIGNvbmYgPSBnZXRDb25maWd1cmF0aW9uKCk7CiAgICAgICAgQ2xhc3NNZXRh\nRGF0YSBtZXRhID0gY29uZi5nZXRNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5j\nZSgpLmdldE1ldGFEYXRhCiAgICAgICAgICAgIChjbHMsIG51bGwsIHRydWUp\nOwogICAgICAgIFNlcXVlbmNlTWV0YURhdGEgc21ldGEgPSBtZXRhLmdldElk\nZW50aXR5U2VxdWVuY2VNZXRhRGF0YSgpOwogICAgICAgIHJldHVybiAoc21l\ndGEgPT0gbnVsbCkgPyBjb25mLmdldFNlcXVlbmNlSW5zdGFuY2UoKQogICAg\nICAgICAgICA6IHNtZXRhLmdldEluc3RhbmNlKG51bGwpOwogICAgfQp9Cg==\n","encoding":"base64"}

