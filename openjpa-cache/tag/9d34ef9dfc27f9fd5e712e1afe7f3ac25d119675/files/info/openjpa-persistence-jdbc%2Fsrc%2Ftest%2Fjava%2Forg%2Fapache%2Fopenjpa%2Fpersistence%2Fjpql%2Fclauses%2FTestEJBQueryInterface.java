{"sha":"34cb00ce402cb3f9001bfeba2cbf762f211e99f2","node_id":"MDQ6QmxvYjIwNjM2NDozNGNiMDBjZTQwMmNiM2Y5MDAxYmZlYmEyY2JmNzYyZjIxMWU5OWYy","size":4390,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/34cb00ce402cb3f9001bfeba2cbf762f211e99f2","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuanBxbC5j\nbGF1c2VzOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YXgu\ncGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLk5hbWVkUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLkVudGl0eTE7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuRW50aXR5\nMjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21t\nb24udXRpbHMuQWJzdHJhY3RUZXN0Q2FzZTsKCkBOYW1lZFF1ZXJ5KG5hbWUg\nPSAic2V0UGFyYW0xIiwKICAgIHF1ZXJ5ID0gIlNFTEVDVCBvIEZST00gRW50\naXR5MSBvIFdIRVJFIG8ucGsgTElLRSA6cGsiKQpwdWJsaWMgY2xhc3MgVGVz\ndEVKQlF1ZXJ5SW50ZXJmYWNlIGV4dGVuZHMgQWJzdHJhY3RUZXN0Q2FzZSB7\nCgogICAgcHVibGljIFRlc3RFSkJRdWVyeUludGVyZmFjZShTdHJpbmcgbmFt\nZSkgewogICAgICAgIHN1cGVyKG5hbWUsICJqcHFsY2xhdXNlc2NhY3R1c2Fw\ncCIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAg\nIGRlbGV0ZUFsbChFbnRpdHkxLmNsYXNzKTsKCiAgICAgICAgaW50IGluc3RO\ndW0gPSAxMDsKCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3RhcnRUeChlbSk7CgogICAgICAg\nIC8vY3JlYXRlIGFuZCBwZXJzaXN0IG11bHRpcGxlIGVudGl0eTEgaW5zdGFu\nY2VzCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpbnN0TnVtOyBpKysp\nIHsKICAgICAgICAgICAgRW50aXR5MSBlbnQgPSBuZXcgRW50aXR5MShpLCAi\nc3RyaW5nIiArIGksIGkgKyAyKTsKICAgICAgICAgICAgRW50aXR5MiBlbnQy\nID0gbmV3IEVudGl0eTIoaSAqIDIsICJlbnQyIiArIGksIGkpOwogICAgICAg\nICAgICBlbnQuc2V0RW50aXR5MkZpZWxkKGVudDIpOwogICAgICAgICAgICBl\nbS5wZXJzaXN0KGVudCk7CiAgICAgICAgfQoKICAgICAgICBlbmRUeChlbSk7\nCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RSZXN1bHRMaXN0KCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBj\ndXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIExpc3QgbGlzdCA9IGVt\nLmNyZWF0ZVF1ZXJ5KCJTZWxlY3Qgb2JqZWN0KG8pIGZyb20gRW50aXR5MSBv\nIikKICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDEwLCBsaXN0LnNpemUoKSk7CgogICAgICAgIGVuZEVtKGVt\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0R2V0U2luZ2xlTGlzdCgp\nIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1h\nbmFnZXIoKTsKICAgICAgICBTdHJpbmcgY3VyciA9IDIgKyAiIjsKCiAgICAg\nICAgRW50aXR5MSByZXQgPQogICAgICAgICAgICAoRW50aXR5MSkgZW0uY3Jl\nYXRlUXVlcnkoIlNFTEVDVCBvIEZST00gRW50aXR5MSBvIFdIRVJFIG8ucGsg\nPSAyIikKICAgICAgICAgICAgICAgIC5nZXRTaW5nbGVSZXN1bHQoKTsKCiAg\nICAgICAgYXNzZXJ0Tm90TnVsbChyZXQpOwogICAgICAgIGFzc2VydEVxdWFs\ncygic3RyaW5nMiIsIHJldC5nZXRTdHJpbmdGaWVsZCgpKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoNCwgcmV0LmdldEludEZpZWxkKCkpOwoKICAgICAgICBl\nbmRFbShlbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEV4ZWN1dGVV\ncGRhdGUoKSB7CgogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50\nRW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgoZW0pOwogICAgICAg\nIGludCByZXQgPSBlbS5jcmVhdGVRdWVyeSgiRGVsZXRlIEZST00gRW50aXR5\nMSBvIFdIRVJFIG8ucGsgPSAyIikKICAgICAgICAgICAgLmV4ZWN1dGVVcGRh\ndGUoKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKHJldCwgMSk7CgogICAgICAg\nIGludCByZXQyID0gZW0uY3JlYXRlUXVlcnkoIkRlbGV0ZSBGUk9NIEVudGl0\neTEgbyBXSEVSRSBvLnBrID0gMjIiKQogICAgICAgICAgICAuZXhlY3V0ZVVw\nZGF0ZSgpOwoKICAgICAgICBhc3NlcnRFcXVhbHMocmV0MiwgMCk7CgogICAg\nICAgIGVuZFR4KGVtKTsKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdFNldE1heFJlc3VsdHMoKSB7CiAgICAgICAgRW50\naXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAg\nICAgIExpc3QgbCA9IGVtLmNyZWF0ZVF1ZXJ5KCJTZWxlY3Qgb2JqZWN0KG8p\nIGZyb20gRW50aXR5MSBvIikKICAgICAgICAgICAgLnNldE1heFJlc3VsdHMo\nNSkKICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbChsKTsKICAgICAgICBhc3NlcnRFcXVhbHMoNSwgbC5zaXpl\nKCkpOwoKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdFNldEZpcnN0UmVzdWx0cygpIHsKICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKCiAgICAgICAgTGlz\ndCBsID0gZW0uY3JlYXRlUXVlcnkoIlNlbGVjdCBvYmplY3QobykgZnJvbSBF\nbnRpdHkxIG8iKQogICAgICAgICAgICAuc2V0Rmlyc3RSZXN1bHQoMykKICAg\nICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgRW50aXR5MSBl\nbnQgPSAoRW50aXR5MSkgbC5nZXQoMCk7CgogICAgICAgIGFzc2VydE5vdE51\nbGwoZW50KTsKICAgICAgICBhc3NlcnRFcXVhbHMoInN0cmluZzMiLCBlbnQu\nZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIGVu\ndC5nZXRJbnRGaWVsZCgpKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoK\nICAgIC8vIFRlc3RzIEJpbmRpbmcgYW4gYXJndW1lbnQgdG8gYSBuYW1lZCBw\nYXJhbWV0ZXIuCiAgICAvLyBwaywgdGhlIG5hbWVkIHBhcmFtZXRlciAtLU5v\ndCB3b3JraW5nIHlldC0tCiAgICBwdWJsaWMgdm9pZCB4eHh0ZXN0U2V0UGFy\nYW1ldGVyMSgpIHsKCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgU3RyaW5nIGN1cnIgPSAyICsg\nIiI7CgogICAgICAgIExpc3QgcmV0ID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVD\nVCBvIEZST00gRW50aXR5MSBvIFdIRVJFIG8ucGsgTElLRSA6cGsiKQogICAg\nICAgICAgICAuc2V0UGFyYW1ldGVyKCJwayIsIGN1cnIpCiAgICAgICAgICAg\nIC5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGFzc2VydE5vdE51bGwocmV0\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgcmV0LnNpemUoKSk7CgogICAg\nICAgIHJldCA9IGVtLmNyZWF0ZU5hbWVkUXVlcnkoInNldFBhcmFtMSIpCiAg\nICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoInBrIiwgY3VycikKICAgICAgICAg\nICAgLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgYXNzZXJ0Tm90TnVsbChy\nZXQpOwogICAgICAgIGFzc2VydEVxdWFscygxLCByZXQuc2l6ZSgpKTsKCiAg\nICAgICAgZW5kVHgoZW0pOwogICAgfQp9Cg==\n","encoding":"base64"}

