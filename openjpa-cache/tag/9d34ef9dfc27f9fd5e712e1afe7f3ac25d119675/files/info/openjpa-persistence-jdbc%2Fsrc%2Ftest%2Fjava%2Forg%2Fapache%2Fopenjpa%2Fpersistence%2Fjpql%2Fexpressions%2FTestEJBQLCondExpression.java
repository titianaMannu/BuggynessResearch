{"sha":"c9d2b288ff02332acd3b50c97478a8abdf1b2ee7","node_id":"MDQ6QmxvYjIwNjM2NDpjOWQyYjI4OGZmMDIzMzJhY2QzYjUwYzk3NDc4YThhYmRmMWIyZWU3","size":10801,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c9d2b288ff02332acd3b50c97478a8abdf1b2ee7","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuanBxbC5l\neHByZXNzaW9uczsKCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLio7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0aWxz\nLkFic3RyYWN0VGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVzdEVKQlFMQ29u\nZEV4cHJlc3Npb24gZXh0ZW5kcyBBYnN0cmFjdFRlc3RDYXNlIHsKCiAgICBw\ncml2YXRlIGludCB1c2VyaWQxLCB1c2VyaWQyLCB1c2VyaWQzLCB1c2VyaWQ0\nLCB1c2VyaWQ1OwoKICAgIHB1YmxpYyBUZXN0RUpCUUxDb25kRXhwcmVzc2lv\nbihTdHJpbmcgbmFtZSkgewogICAgICAgIHN1cGVyKG5hbWUsICJqcHFsY2xh\ndXNlc2NhY3R1c2FwcCIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgewogICAgICAgIGRlbGV0ZUFsbChDb21wVXNlci5jbGFzcyk7CiAgICAg\nICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nCiAgICAgICAgc3RhcnRUeChlbSk7CgogICAgICAgIEFkZHJlc3NbXSBhZGQg\nPQogICAgICAgICAgICBuZXcgQWRkcmVzc1tdeyBuZXcgQWRkcmVzcygiNDMg\nU2Fuc29tZSIsICJTRiIsICJVU0EiLCAiOTQxMDQiKSwKICAgICAgICAgICAg\nICAgIG5ldyBBZGRyZXNzKCIyNCBNaW5rIiwgIkFOVElPQ0giLCAiVVNBIiwg\nIjk0NTEzIiksCiAgICAgICAgICAgICAgICBuZXcgQWRkcmVzcygiMjMgT2di\nZXRlIiwgIkNvYWxDYW1wIiwgIk5JR0VSSUEiLCAiMDAwMDAiKSwKICAgICAg\nICAgICAgICAgIG5ldyBBZGRyZXNzKCIxMCBXaWxzaGlyZSIsICJXb3JjZXN0\nZXIiLCAiQ0FOQURBIiwgIjgwMDgwIiksCiAgICAgICAgICAgICAgICBuZXcg\nQWRkcmVzcygiMjMgQmVsbGZsb3dlciIsICJPZ3VpIiwgIk5JR0VSSUEiLCAi\nMDIwMDAiKSB9OwoKICAgICAgICBDb21wVXNlciB1c2VyMSA9IGNyZWF0ZVVz\nZXIoIlNlZXRoYSIsICJNQUMiLCBhZGRbMF0sIDQwLCB0cnVlKTsKICAgICAg\nICBDb21wVXNlciB1c2VyMiA9IGNyZWF0ZVVzZXIoIlNoYW5ub24iLCAiUEMi\nLCBhZGRbMV0sIDM2LCBmYWxzZSk7CiAgICAgICAgQ29tcFVzZXIgdXNlcjMg\nPSBjcmVhdGVVc2VyKCJVZ28iLCAiUEMiLCBhZGRbMl0sIDE5LCB0cnVlKTsK\nICAgICAgICBDb21wVXNlciB1c2VyNCA9IGNyZWF0ZVVzZXIoIkphY29iIiwg\nIkxJTlVYIiwgYWRkWzNdLCAxMCwgdHJ1ZSk7CiAgICAgICAgQ29tcFVzZXIg\ndXNlcjUgPSBjcmVhdGVVc2VyKCJGYW16eSIsICJVTklYIiwgYWRkWzRdLCAy\nOSwgZmFsc2UpOwoKICAgICAgICBlbS5wZXJzaXN0KHVzZXIxKTsKICAgICAg\nICB1c2VyaWQxID0gdXNlcjEuZ2V0VXNlcmlkKCk7CiAgICAgICAgZW0ucGVy\nc2lzdCh1c2VyMik7CiAgICAgICAgdXNlcmlkMiA9IHVzZXIyLmdldFVzZXJp\nZCgpOwogICAgICAgIGVtLnBlcnNpc3QodXNlcjMpOwogICAgICAgIHVzZXJp\nZDMgPSB1c2VyMy5nZXRVc2VyaWQoKTsKICAgICAgICBlbS5wZXJzaXN0KHVz\nZXI0KTsKICAgICAgICB1c2VyaWQ0ID0gdXNlcjQuZ2V0VXNlcmlkKCk7CiAg\nICAgICAgZW0ucGVyc2lzdCh1c2VyNSk7CiAgICAgICAgdXNlcmlkNSA9IHVz\nZXI1LmdldFVzZXJpZCgpOwoKICAgICAgICBlbmRUeChlbSk7CiAgICAgICAg\nZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3ROb3RoaW5n\nKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5\nTWFuYWdlcigpOwogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1QgbyBG\nUk9NIENvbXBVc2VyIG8iOwoKICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNy\nZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGFz\nc2VydE5vdE51bGwoInRoZSBsaXN0IGlzIG51bGwiLCByZXN1bHQpOwogICAg\nICAgIGFzc2VydEVxdWFscygidGhlIHNpemUgb2YgdGhlIGxpc3QgaXMgbm90\nIDUiLCA1LCByZXN1bHQuc2l6ZSgpKTsKCiAgICAgICAgZW5kRW0oZW0pOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RCZXR3ZWVuRXhwcigpIHsKICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIo\nKTsKICAgICAgICBTdHJpbmcgcXVlcnkgPQogICAgICAgICAgICAiU0VMRUNU\nIG8ubmFtZSBGUk9NIENvbXBVc2VyIG8gV0hFUkUgby5hZ2UgQkVUV0VFTiAx\nOSBBTkQgNDAgQU5EIG8uY29tcHV0ZXJOYW1lID0gJ1BDJyI7CgogICAgICAg\nIExpc3QgcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3Vs\ndExpc3QoKTsKCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgidGhlIGxpc3QgaXMg\nbnVsbCIsIHJlc3VsdCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGV5IGFy\nZSBub3QgZXF1YWwiLCAyLCByZXN1bHQuc2l6ZSgpKTsKICAgICAgICBhc3Nl\ncnRUcnVlKCJyZXN1bHQgZG9udCBjb250YWluIHNoYW5ub24iLCByZXN1bHQu\nY29udGFpbnMoIlNoYW5ub24iKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgicmVz\ndWx0IGRvbnQgY29udGFpbiB1Z28iLCByZXN1bHQuY29udGFpbnMoIlVnbyIp\nKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3ROb3RCZXR3ZWVuRXhwcigpIHsKICAgICAgICBFbnRpdHlNYW5hZ2Vy\nIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBTdHJpbmcg\ncXVlcnkgPQogICAgICAgICAgICAiU0VMRUNUIG8ubmFtZSBGUk9NIENvbXBV\nc2VyIG8gV0hFUkUgby5hZ2UgTk9UIEJFVFdFRU4gMTkgQU5EIDQwIEFORCBv\nLmNvbXB1dGVyTmFtZT0gJ1BDJyI7CgogICAgICAgIExpc3QgcmVzdWx0ID0g\nZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3QoKTsKCiAgICAg\nICAgYXNzZXJ0Tm90TnVsbCgidGhlIGxpc3QgaXMgbnVsbCIsIHJlc3VsdCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGV5IGFyZSBub3QgZXF1YWwiLCAw\nLCByZXN1bHQuc2l6ZSgpKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RJbkV4cHIoKSB7CiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nU3RyaW5nIHF1ZXJ5ID0KICAgICAgICAgICAgIlNFTEVDVCBvLm5hbWUgRlJP\nTSBDb21wVXNlciBvIFdIRVJFIG8uYWdlIElOICgyOSwgNDAsIDEwKSI7Cgog\nICAgICAgIExpc3QgcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdl\ndFJlc3VsdExpc3QoKTsKCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgidGhlIGxp\nc3QgaXMgbnVsbCIsIHJlc3VsdCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMs\nIHJlc3VsdC5zaXplKCkpOwogICAgICAgIGFzc2VydFRydWUoInNlZXRoYSBp\ncyBub3QgaW4gdGhlIGxpc3QiLCByZXN1bHQuY29udGFpbnMoIlNlZXRoYSIp\nKTsKICAgICAgICBhc3NlcnRUcnVlKCJqYWNvYiBpcyBub3QgaW4gdGhlIGxp\nc3QiLCByZXN1bHQuY29udGFpbnMoIkphY29iIikpOwogICAgICAgIGFzc2Vy\ndFRydWUoImZhbXp5IGlzIG5vdCBpbiB0aGUgbGlzdCIsIHJlc3VsdC5jb250\nYWlucygiRmFtenkiKSk7CgogICAgICAgIGVuZEVtKGVtKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0Tm90SW5FeHByKCkgewogICAgICAgIEVudGl0\neU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAg\nIFN0cmluZyBxdWVyeSA9CiAgICAgICAgICAgICJTRUxFQ1Qgby5uYW1lIEZS\nT00gQ29tcFVzZXIgbyBXSEVSRSBvLmFnZSBOT1QgSU4gKDI5LCA0MCwgMTAp\nIjsKCiAgICAgICAgTGlzdCByZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShxdWVy\neSkuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBhc3NlcnROb3ROdWxsKHJl\nc3VsdCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlc3VsdC5zaXplKCkp\nOwogICAgICAgIGFzc2VydFRydWUocmVzdWx0LmNvbnRhaW5zKCJVZ28iKSk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZShyZXN1bHQuY29udGFpbnMoIlNoYW5ub24i\nKSk7CgogICAgICAgIGVuZEVtKGVtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0TGlrZUV4cHIoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9\nIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIFN0cmluZyBxdWVy\neSA9CiAgICAgICAgICAgICJTRUxFQ1Qgby5jb21wdXRlck5hbWUgRlJPTSBD\nb21wVXNlciBvIFdIRVJFIG8ubmFtZSBMSUtFICdTaGElJyBBTkQgby5jb21w\ndXRlck5hbWUgTk9UIElOICgnUEMnKSI7CgogICAgICAgIExpc3QgcmVzdWx0\nID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3QoKTsKCiAg\nICAgICAgYXNzZXJ0Tm90TnVsbChyZXN1bHQpOwogICAgICAgIGFzc2VydEVx\ndWFscygwLCByZXN1bHQuc2l6ZSgpKTsKCiAgICAgICAgcXVlcnkgPQogICAg\nICAgICAgICAiU0VMRUNUIG8uY29tcHV0ZXJOYW1lIEZST00gQ29tcFVzZXIg\nbyBXSEVSRSBvLm5hbWUgTElLRSAnU2hhJW9fJyBBTkQgby5jb21wdXRlck5h\nbWUgTk9UIElOICgnVU5JWCcpIjsKCiAgICAgICAgcmVzdWx0ID0gZW0uY3Jl\nYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbChyZXN1bHQpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBy\nZXN1bHQuc2l6ZSgpKTsKCiAgICAgICAgcXVlcnkgPSAiU0VMRUNUIG8ubmFt\nZSBGUk9NIENvbXBVc2VyIG8gV0hFUkUgby5uYW1lIExJS0UgJ19KJSciOwoK\nICAgICAgICByZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVz\ndWx0TGlzdCgpOwoKICAgICAgICBhc3NlcnROb3ROdWxsKHJlc3VsdCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDAsIHJlc3VsdC5zaXplKCkpOwoKICAgICAg\nICBxdWVyeSA9ICJTRUxFQ1Qgby5uYW1lIEZST00gQ29tcFVzZXIgbyBXSEVS\nRSBvLm5hbWUgTElLRSA/MSBFU0NBUEUgJ3wnIjsKCiAgICAgICAgcmVzdWx0\nID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLnNldFBhcmFtZXRlcigxLCAiJXxf\nJSIpLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgYXNzZXJ0Tm90TnVsbChy\nZXN1bHQpOwogICAgICAgIGFzc2VydEVxdWFscygwLCByZXN1bHQuc2l6ZSgp\nKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3ROdWxsRXhwcigpIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0g\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsKCiAgICAgICAgU3RyaW5nIHF1ZXJ5\nID0KICAgICAgICAgICAgIlNFTEVDVCBvLm5hbWUgRlJPTSBDb21wVXNlciBv\nIFdIRVJFIG8uYWdlIElTIE5PVCBOVUxMIEFORCBvLmNvbXB1dGVyTmFtZSA9\nICdQQycgIjsKCiAgICAgICAgTGlzdCByZXN1bHQgPSBlbS5jcmVhdGVRdWVy\neShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBhc3NlcnROb3RO\ndWxsKCJ0aGUgbGlzdCBpcyBudWxsIiwgcmVzdWx0KTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoInRoZSBsaXN0IHNpemUgaXMgbm90IDIiLCAyLCByZXN1bHQu\nc2l6ZSgpKTsKICAgICAgICBhc3NlcnRUcnVlKCJ0aGUgcmVzdWx0IGRvZXNu\ndCBjb250YWluIHVnbyIsIHJlc3VsdC5jb250YWlucygiVWdvIikpOwogICAg\nICAgIGFzc2VydFRydWUoInRoZSByZXN1bHQgZG9lc250IGNvbnRhaW4gc2hh\nbm5vbiIsCiAgICAgICAgICAgIHJlc3VsdC5jb250YWlucygiU2hhbm5vbiIp\nKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3ROdWxsRXhwcjIoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9\nIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIFN0cmluZyBxdWVy\neSA9CiAgICAgICAgICAgICJTRUxFQ1Qgby5uYW1lIEZST00gQ29tcFVzZXIg\nbyBXSEVSRSBvLmFkZHJlc3MuY291bnRyeSBJUyBOVUxMIjsKCiAgICAgICAg\nTGlzdCByZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0\nTGlzdCgpOwoKICAgICAgICBhc3NlcnROb3ROdWxsKCJ0aGUgbGlzdCBpcyBu\ndWxsIiwgcmVzdWx0KTsKICAgICAgICBhc3NlcnRFcXVhbHMoInRoZXkgYXJl\nIG5vdCBlcXVhbCIsIDAsIHJlc3VsdC5zaXplKCkpOwoKICAgICAgICBlbmRF\nbShlbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdElzRW1wdHlFeHBy\nKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5\nTWFuYWdlcigpOwoKICAgICAgICBTdHJpbmcgcXVlcnkgPQogICAgICAgICAg\nICAiU0VMRUNUIG8ubmFtZSBGUk9NIENvbXBVc2VyIG8gV0hFUkUgby5uaWNr\nbmFtZXMgSVMgTk9UIEVNUFRZIjsKCiAgICAgICAgTGlzdCByZXN1bHQgPSBl\nbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAg\nICBhc3NlcnROb3ROdWxsKCJ0aGUgbGlzdCBpcyBudWxsIiwgcmVzdWx0KTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoInRoZXkgYXJlIG5vdCBlcXVhbCIsIDAs\nIHJlc3VsdC5zaXplKCkpOwoKICAgICAgICBlbmRFbShlbSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdElzRW1wdHlFeHByMigpIHsKICAgICAgICBF\nbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKCiAg\nICAgICAgU3RyaW5nIHF1ZXJ5ID0KICAgICAgICAgICAgIlNFTEVDVCBvLm5h\nbWUgRlJPTSBDb21wVXNlciBvIFdIRVJFIG8ubmlja25hbWVzIElTIEVNUFRZ\nIjsKCiAgICAgICAgTGlzdCByZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShxdWVy\neSkuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBhc3NlcnROb3ROdWxsKCJ0\naGUgbGlzdCBpcyBudWxsIiwgcmVzdWx0KTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoInRoZXkgYXJlIG5vdCBlcXVhbCIsIDUsIHJlc3VsdC5zaXplKCkpOwoK\nICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUTyBC\nRSBURVNURUQgTEFURVIgV0lUSCBBIERJRkYgREFUQUJBU0UKICAgICAqIHB1\nYmxpYyB2b2lkIHRlc3RNZW1iZXJPZkV4cHIoKXt9CiAgICAgKi8KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0RXhpc3RFeHByKCkgewogICAgICAgIEVudGl0eU1h\nbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwoKICAgICAgICBT\ndHJpbmcgcXVlcnkgPSAiU0VMRUNUIERJU1RJTkNUIG8ubmFtZSBGUk9NIENv\nbXBVc2VyIG8gV0hFUkUgRVhJU1RTIiArCiAgICAgICAgICAgICIgKFNFTEVD\nVCBjIEZST00gQWRkcmVzcyBjIFdIRVJFIGMgPSBvLmFkZHJlc3MgKSI7Cgog\nICAgICAgIExpc3QgcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdl\ndFJlc3VsdExpc3QoKTsKCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgidGhlIGxp\nc3QgaXMgbnVsbCIsIHJlc3VsdCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0\naGV5IGFyZSBub3QgZXF1YWwiLCA1LCByZXN1bHQuc2l6ZSgpKTsKICAgICAg\nICBhc3NlcnRUcnVlKCJTZWV0aGEgaXMgbm90IGxpc3QiLCByZXN1bHQuY29u\ndGFpbnMoIlNlZXRoYSIpKTsKICAgICAgICBhc3NlcnRUcnVlKCJTaGFubm9u\nIGlzIG5vdCBsaXN0IiwgcmVzdWx0LmNvbnRhaW5zKCJTaGFubm9uIikpOwog\nICAgICAgIGFzc2VydFRydWUoImphY29iIGlzIG5vdCBsaXN0IiwgcmVzdWx0\nLmNvbnRhaW5zKCJKYWNvYiIpKTsKICAgICAgICBhc3NlcnRUcnVlKCJ1Z28g\naXMgbm90IGxpc3QiLCByZXN1bHQuY29udGFpbnMoIlVnbyIpKTsKCiAgICAg\nICAgZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3ROb3RF\neGlzdEV4cHIoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIFN0cmluZyBxdWVyeSA9CiAg\nICAgICAgICAgICJTRUxFQ1QgRElTVElOQ1Qgby5uYW1lIEZST00gQ29tcFVz\nZXIgbyBXSEVSRSBOT1QgRVhJU1RTIiArCiAgICAgICAgICAgICAgICAiIChT\nRUxFQ1QgcyBGUk9NIENvbXBVc2VyIHMgV0hFUkUgcy5hZGRyZXNzLmNvdW50\ncnkgPSBvLmFkZHJlc3MuY291bnRyeSkiOwoKICAgICAgICBMaXN0IHJlc3Vs\ndCA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7Cgog\nICAgICAgIGFzc2VydE5vdE51bGwoImxpc3QgaXMgbnVsbCIsIHJlc3VsdCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGV5IGFyZSBub3QgZXF1YWwiLCAw\nLCByZXN1bHQuc2l6ZSgpKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RBbnlFeHByKCkgewogICAgICAgIEVudGl0\neU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwoKICAgICAg\nICBTdHJpbmcgcXVlcnkgPQogICAgICAgICAgICAiU0VMRUNUIG8ubmFtZSBG\nUk9NIENvbXBVc2VyIG8gV0hFUkUgby5hZGRyZXNzLnppcGNvZGUgPSBBTlkg\nKCIgKwogICAgICAgICAgICAgICAgIiBTRUxFQ1Qgcy5jb21wdXRlck5hbWUg\nRlJPTSBDb21wVXNlciBzIFdIRVJFIHMuYWRkcmVzcy5jb3VudHJ5IElTIE5P\nVCBOVUxMICkiOwoKICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNyZWF0ZVF1\nZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGFzc2VydE5v\ndE51bGwoImxpc3QgaXMgbnVsbCIsIHJlc3VsdCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ0aGV5IGFyZSBub3QgZXF1YWwiLCAwLCByZXN1bHQuc2l6ZSgp\nKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RDb25zdHJ1Y3RvckV4cHIoKSB7CiAgICAgICAgRW50aXR5TWFuYWdl\nciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIFN0cmlu\nZyBxdWVyeSA9CiAgICAgICAgICAgICJTRUxFQ1QgTkVXIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24uYXBwcy5NYWxlVXNlcihjLm5h\nbWUsIGMuY29tcHV0ZXJOYW1lLCBjLmFkZHJlc3MsIGMuYWdlLCBjLnVzZXJp\nZCkiICsKICAgICAgICAgICAgICAgICIgRlJPTSBDb21wVXNlciBjIFdIRVJF\nIGMubmFtZSA9ICdTZWV0aGEnIjsKCiAgICAgICAgTWFsZVVzZXIgbWFsZSA9\nIChNYWxlVXNlcikgZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFNpbmdsZVJl\nc3VsdCgpOwoKICAgICAgICBhc3NlcnROb3ROdWxsKCJ0aGUgbGlzdCBpcyBu\ndWxsIiwgbWFsZSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGUgbmFtZXMg\nZG9udCBtYXRjaCIsICJTZWV0aGEiLCBtYWxlLmdldE5hbWUoKSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKCJjb21wdXRlciBuYW1lcyBkb250IG1hdGNoIiwg\nIk1BQyIsCiAgICAgICAgICAgIG1hbGUuZ2V0Q29tcHV0ZXJOYW1lKCkpOwog\nICAgICAgIGFzc2VydEVxdWFscygidGhlIGFnZXMgZG9udCBtYXRjaCIsIDQw\nLCBtYWxlLmdldEFnZSgpKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoK\nICAgIHB1YmxpYyBDb21wVXNlciBjcmVhdGVVc2VyKFN0cmluZyBuYW1lLCBT\ndHJpbmcgY05hbWUsIEFkZHJlc3MgYWRkLCBpbnQgYWdlLAogICAgICAgIGJv\nb2xlYW4gaXNNYWxlKSB7CiAgICAgICAgQ29tcFVzZXIgdXNlciA9IG51bGw7\nCiAgICAgICAgaWYgKGlzTWFsZSkgewogICAgICAgICAgICB1c2VyID0gbmV3\nIE1hbGVVc2VyKCk7CiAgICAgICAgICAgIHVzZXIuc2V0TmFtZShuYW1lKTsK\nICAgICAgICAgICAgdXNlci5zZXRDb21wdXRlck5hbWUoY05hbWUpOwogICAg\nICAgICAgICB1c2VyLnNldEFkZHJlc3MoYWRkKTsKICAgICAgICAgICAgdXNl\nci5zZXRBZ2UoYWdlKTsKICAgICAgICAgICAgdXNlci5zZXROYW1lQXNMb2Io\nbmFtZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXNlciA9IG5l\ndyBGZW1hbGVVc2VyKCk7CiAgICAgICAgICAgIHVzZXIuc2V0TmFtZShuYW1l\nKTsKICAgICAgICAgICAgdXNlci5zZXRDb21wdXRlck5hbWUoY05hbWUpOwog\nICAgICAgICAgICB1c2VyLnNldEFkZHJlc3MoYWRkKTsKICAgICAgICAgICAg\ndXNlci5zZXRBZ2UoYWdlKTsKICAgICAgICAgICAgdXNlci5zZXROYW1lQXNM\nb2IobmFtZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB1c2VyOwoJfQp9\nCg==\n","encoding":"base64"}

