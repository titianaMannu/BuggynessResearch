{"sha":"360c81d20ecf71119495088c242aee2a5613bb30","node_id":"MDQ6QmxvYjIwNjM2NDozNjBjODFkMjBlY2Y3MTExOTQ5NTA4OGMyNDJhZWUyYTU2MTNiYjMw","size":5302,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/360c81d20ecf71119495088c242aee2a5613bb30","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuanBxbC5q\nb2luczsKCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2\nYS51dGlsLkxpc3Q7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlN\nYW5hZ2VyOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5jb21tb24uYXBwcy5BcnRDb3Vyc2U7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuQ291cnNlOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLkRl\ncGFydG1lbnQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuY29tbW9uLmFwcHMuU3R1ZGVudDsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24udXRpbHMuQWJzdHJhY3RUZXN0Q2Fz\nZTsKCnB1YmxpYyBjbGFzcyBUZXN0RUpCSm9pbnMgZXh0ZW5kcyBBYnN0cmFj\ndFRlc3RDYXNlIHsKCiAgICBwdWJsaWMgVGVzdEVKQkpvaW5zKFN0cmluZyBu\nYW1lKSB7CiAgICAgICAgc3VwZXIobmFtZSwgImpwcWxjbGF1c2VzY2FjdHVz\nYXBwIik7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAg\nICAgZGVsZXRlQWxsKENvdXJzZS5jbGFzcyk7CiAgICAgICAgZGVsZXRlQWxs\nKFN0dWRlbnQuY2xhc3MpOwogICAgICAgIGRlbGV0ZUFsbChEZXBhcnRtZW50\nLmNsYXNzKTsKCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3RhcnRUeChlbSk7CgogICAgICAg\nIFN0cmluZyBuYW1lID0gIiI7CiAgICAgICAgTGlzdDxDb3Vyc2U+IGNsaXN0\nID0gbmV3IEFycmF5TGlzdDxDb3Vyc2U+KCk7CiAgICAgICAgTGlzdDxEZXBh\ncnRtZW50PiBkbGlzdCA9IG5ldyBBcnJheUxpc3Q8RGVwYXJ0bWVudD4oKTsK\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCA1OyBpKyspIHsKICAgICAg\nICAgICAgQ291cnNlIGN1cnIgPSBuZXcgQ291cnNlKCJNYXRoICIgKyBpLCBp\nICogMiwgaSk7CiAgICAgICAgICAgIENvdXJzZSBhY3VyciA9IG5ldyBBcnRD\nb3Vyc2UoaSArIDIwLCAiRW5nbGlzaCIgKyAoMiAqIGkpKTsKICAgICAgICAg\nICAgRGVwYXJ0bWVudCBkdXJyID0gbmV3IERlcGFydG1lbnQoIkNvbXBTY2ki\nICsgaSwgbnVsbCwgaSArIDIpOwogICAgICAgICAgICBjbGlzdC5hZGQoY3Vy\ncik7CiAgICAgICAgICAgIGNsaXN0LmFkZChhY3Vycik7CiAgICAgICAgICAg\nIGRsaXN0LmFkZChkdXJyKTsKICAgICAgICB9CgogICAgICAgIFN0dWRlbnQg\nc3R1ZCA9IG5ldyBTdHVkZW50KCJKb25hdGhhbiIsIGNsaXN0LCBkbGlzdCk7\nCiAgICAgICAgU3R1ZGVudCBzdHVkMiA9IG5ldyBTdHVkZW50KCJTdGFtIiwg\nbnVsbCwgZGxpc3QpOwogICAgICAgIFN0dWRlbnQgc3R1ZDMgPSBuZXcgU3R1\nZGVudCgiSm9obiIsIGNsaXN0LCBudWxsKTsKICAgICAgICBTdHVkZW50IHN0\ndWQ0ID0gbmV3IFN0dWRlbnQoIkJpbGwiLCBudWxsLCBudWxsKTsKCiAgICAg\nICAgZW0ucGVyc2lzdChzdHVkKTsKICAgICAgICBlbS5wZXJzaXN0KHN0dWQy\nKTsKICAgICAgICBlbS5wZXJzaXN0KHN0dWQzKTsKICAgICAgICBlbS5wZXJz\naXN0KHN0dWQ0KTsKCiAgICAgICAgZW5kVHgoZW0pOwogICAgICAgIGVuZEVt\nKGVtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW5uZXJKb2luKCkg\newogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFu\nYWdlcigpOwogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1QgZGlzdGlu\nY3Qgby5uYW1lIGZyb20gU3R1ZGVudCBvIEpPSU4gIiArCiAgICAgICAgICAg\nICJvLmNvdXJzZSBkIFdIRVJFIGQubmFtZSIgKwogICAgICAgICAgICAiPSdN\nYXRoIDQnIjsKCiAgICAgICAgTGlzdCBscyA9IChMaXN0KSBlbS5jcmVhdGVR\ndWVyeShxdWVyeSkKICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsKCiAg\nICAgICAgYXNzZXJ0Tm90TnVsbChscyk7CgogICAgICAgIGlmIChscyAhPSBu\ndWxsKSB7CiAgICAgICAgICAgIGFzc2VydEVxdWFscygyLCBscy5zaXplKCkp\nOwogICAgICAgIH0KICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdE91dGVySm9pbigpIHsKICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBTdHJp\nbmcgcXVlcnkgPSAiU0VMRUNUIGRpc3RpbmN0IHMubmFtZSBGUk9NIFN0dWRl\nbnQgIiArCiAgICAgICAgICAgICJzIExFRlQgSk9JTiBzLmRlcGFydG1lbnQg\nZCI7CgogICAgICAgIExpc3QgbHMgPSAoTGlzdCkgZW0uY3JlYXRlUXVlcnko\ncXVlcnkpCiAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAg\nIGFzc2VydE5vdE51bGwobHMpOwogICAgICAgIGFzc2VydEVxdWFscyg0LCBs\ncy5zaXplKCkpOwoKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdEZldGNoSm9pbjEoKSB7CiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgU3Ry\naW5nIHF1ZXJ5ID0gIlNFTEVDVCBzIEZST00gU3R1ZGVudCBzIEpPSU4gRkVU\nQ0ggcy5uYW1lIjsKCiAgICAgICAgTGlzdCBscyA9IGVtLmNyZWF0ZVF1ZXJ5\nKHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGFzc2VydE5vdE51\nbGwobHMpOwogICAgICAgIGFzc2VydEVxdWFscyg0LCBscy5zaXplKCkpOwoK\nICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVz\ndEZldGNoSm9pbjIoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1\ncnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0g\nIlNFTEVDVCBzICIgKwogICAgICAgICAgICAiRlJPTSBTdHVkZW50IHMgIiAr\nCiAgICAgICAgICAgICJKT0lOIEZFVENIIHMubmFtZSBkIjsKCiAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgTGlzdCBscyA9IGVtLmNyZWF0ZVF1ZXJ5KHF1\nZXJ5KS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgICAgIGZhaWwoCiAgICAg\nICAgICAgICAgICAiTm90IHBlcm1pdHRlZCB0byBzcGVjaWZ5IGFuIGlkIHZh\ncmlhYmxlIGZvciBlbnRpdGllcyByZWYuIGJ5IHRoZSByaWdodCBzaWRlIG9m\nIGZldGNoIGpvaW4iKTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKEV4Y2Vw\ndGlvbiBlKSB7CiAgICAgICAgICAgIC8vc3VwcG9zZSB0byB0aHJvdyBhbiBl\neGNlcHRpb24uLnNob3VsZCBub3QgcGFzcwogICAgICAgIH0KCiAgICAgICAg\nZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RMZWZ0T3V0\nZXJKb2luKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50\nRW50aXR5TWFuYWdlcigpOwoKICAgICAgICBTdHJpbmcgbGpvaW4gPQogICAg\nICAgICAgICAiU0VMRUNUIERJU1RJTkNUIHMubmFtZSBGUk9NIFN0dWRlbnQg\ncyBMRUZUIE9VVEVSIEpPSU4gcy5kZXBhcnRtZW50IGQgIiArCiAgICAgICAg\nICAgICAgICAiV0hFUkUgZC5uYW1lID0gJ0NvbXBTY2kyJyI7CgogICAgICAg\nIExpc3QgbHMgPSBlbS5jcmVhdGVRdWVyeShsam9pbikuZ2V0UmVzdWx0TGlz\ndCgpOwoKICAgICAgICBhc3NlcnROb3ROdWxsKGxzKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoMiwgbHMuc2l6ZSgpKTsKCiAgICAgICAgYXNzZXJ0VHJ1ZShs\ncy5jb250YWlucygiSm9uYXRoYW4iKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShs\ncy5jb250YWlucygiU3RhbSIpKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RJbm5lckpvaW5GZXRjaCgpIHsKICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIo\nKTsKCiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gIlNFTEVDVCBzIEZST00gU3R1\nZGVudCAiICsKICAgICAgICAgICAgInMgSk9JTiBGRVRDSCBzLmRlcGFydG1l\nbnQiOwoKICAgICAgICBMaXN0IGxzID0gKExpc3QpIGVtLmNyZWF0ZVF1ZXJ5\nKHF1ZXJ5KQogICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAg\nICBhc3NlcnROb3ROdWxsKGxzKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMiwg\nbHMuc2l6ZSgpKTsKCiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0TGVmdEpvaW5GZXRjaCgpIHsKICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKCiAgICAg\nICAgU3RyaW5nIHF1ZXJ5ID0gIlNFTEVDVCBzIEZST00gU3R1ZGVudCAiICsK\nICAgICAgICAgICAgInMgTEVGVCBKT0lOIEZFVENIIHMuZGVwYXJ0bWVudCI7\nCgogICAgICAgIExpc3QgbHMgPSAoTGlzdCkgZW0uY3JlYXRlUXVlcnkocXVl\ncnkpCiAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7CgogICAgICAgIGFz\nc2VydE5vdE51bGwobHMpOwogICAgICAgIGFzc2VydEVxdWFscyg0LCBscy5z\naXplKCkpOwoKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQp9Cg==\n","encoding":"base64"}

