{"sha":"6a4415e5507c53e98955f58248607a5096df39f6","node_id":"MDQ6QmxvYjIwNjM2NDo2YTQ0MTVlNTUwN2M1M2U5ODk1NWY1ODI0ODYwN2E1MDk2ZGYzOWY2","size":3927,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/6a4415e5507c53e98955f58248607a5096df39f6","content":"LyoKICogVGVzdEJpZ0RlY2ltYWxzLmphdmEKICoKICogQ3JlYXRlZCBvbiBP\nY3RvYmVyIDksIDIwMDYsIDY6MDcgUE0KICoKICogVG8gY2hhbmdlIHRoaXMg\ndGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRlIE1hbmFnZXIKICog\nYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0b3IuCiAqLwoKLyoK\nICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u\nIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vu\nc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRp\nb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNG\nIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UK\nICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBz\nb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAq\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQg\nbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsOwoK\naW1wb3J0IGphdmEubWF0aC5CaWdEZWNpbWFsOwoKCgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5B\nbGxGaWVsZFR5cGVzVGVzdDsKaW1wb3J0IGp1bml0LmZyYW1ld29yay5Bc3Nl\ncnRpb25GYWlsZWRFcnJvcjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CgpwdWJsaWMgY2xh\nc3MgVGVzdEJpZ0RlY2ltYWxzIGV4dGVuZHMgQmFzZUtlcm5lbFRlc3QgewoK\nICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0\nQmlnRGVjaW1hbHMKICAgICAqLwogICAgcHVibGljIFRlc3RCaWdEZWNpbWFs\ncygpIHsKICAgIH0KCiAgICBwdWJsaWMgVGVzdEJpZ0RlY2ltYWxzKFN0cmlu\nZyBuYW1lKSB7CiAgICAgICAgc3VwZXIobmFtZSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdEJpZ0RlY2ltYWxEYXRhSW50ZWdyaXR5KCkKICAgICAg\nICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICB0cnkgewogICAgICAgICAg\nICBCaWdEZWNpbWFsIGJkID0gbmV3IEJpZ0RlY2ltYWwoTWF0aC5yYW5kb20o\nKSAqIDEwMDAwMDAwICsgIiIpOwogICAgICAgICAgICBiZCA9IGJkLnNldFNj\nYWxlKDEwMCk7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNTA7\nIGkrKykgewogICAgICAgICAgICAgICAgYmQgPSBiZC5tb3ZlUG9pbnRMZWZ0\nKDEpOwogICAgICAgICAgICAgICAgYmlnRGVjaW1hbFRlc3QoYmQpOwogICAg\nICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNhdGNoIChBc3NlcnRpb25G\nYWlsZWRFcnJvciBlKSB7CiAgICAgICAgICAgIGJ1ZygzLCBlLCAiUHJlY2lz\naW9uIGxvc3MgZm9yIEJpZ0RlY2ltYWxzIik7CiAgICAgICAgfQogICAgfQov\nLyAgICBGaXhNZSBhb2tla2U6IFBhc3NlcyBidXQgdGFrZXMgYSBsb25nIHRp\nbWUgLS1jb21tZW50aW5nIGZvciByZXNvdXJjZSBzYWtlCi8vICAgIHB1Ymxp\nYyB2b2lkIHRlc3RCaWdCaWdEZWNpbWFscygpCi8vICAgICAgICB0aHJvd3Mg\nRXhjZXB0aW9uIHsKLy8gICAgICAgIHRyeSB7Ci8vICAgICAgICAgICAgQmln\nRGVjaW1hbCBiZCA9IG5ldyBCaWdEZWNpbWFsKCIxMjM0NTY3ODkwLiIKLy8g\nICAgICAgICAgICAgICAgKyAiMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3\nODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAiCi8vICAgICAgICAgICAgICAgICsg\nIjEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0\nNTY3ODkwIik7Ci8vCi8vICAgICAgICAgICAgYmlnRGVjaW1hbFRlc3QoYmQp\nOwovLyAgICAgICAgfSBjYXRjaCAoQXNzZXJ0aW9uRmFpbGVkRXJyb3IgZSkg\newovLyAgICAgICAgICAgIGJ1ZygzLCBlLCAiUHJlY2lzaW9uIGxvc3MgZm9y\nIEJpZ0RlY2ltYWxzIik7Ci8vICAgICAgICB9Ci8vICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBiaWdEZWNpbWFsVGVzdChmaW5hbCBCaWdEZWNpbWFsIGJkKSB7\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBudWxsLCBwbTIg\nPSBudWxsOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBwbSA9IGdldFBN\nKCk7CiAgICAgICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgICAgICBBbGxG\naWVsZFR5cGVzVGVzdCBhZnR0ID0gbmV3IEFsbEZpZWxkVHlwZXNUZXN0KCk7\nCiAgICAgICAgICAgIGFmdHQuc2V0VGVzdEJpZ0RlY2ltYWwoYmQpOwogICAg\nICAgICAgICBwbS5wZXJzaXN0KGFmdHQpOwogICAgICAgICAgICBlbmRUeChw\nbSk7CiAgICAgICAgICAgIE9iamVjdCBpZCA9IHBtLmdldE9iamVjdElkKGFm\ndHQpOwogICAgICAgICAgICBwbS5ldmljdChhZnR0KTsKCiAgICAgICAgICAg\nIHBtMiA9IGdldFBNKCk7CiAgICAgICAgICAgIHN0YXJ0VHgocG0pOwogICAg\nICAgICAgICBBbGxGaWVsZFR5cGVzVGVzdCBhZnR0MiA9IChBbGxGaWVsZFR5\ncGVzVGVzdCkgcG0yLmdldE9iamVjdElkKGlkKTsKCiAgICAgICAgICAgIC8v\nIHdoeSB3b3VsZG4ndCB0aGV5IGJlIHR3byBkaWZmZXJlbnQgb2JqZWN0cz8K\nICAgICAgICAgICAgYXNzZXJ0VHJ1ZSgiaWRlbnRpdGNhbCBmaWVsZCB2YWx1\nZXMiLAogICAgICAgICAgICAgICAgYmQgIT0gYWZ0dDIuZ2V0VGVzdEJpZ0Rl\nY2ltYWwoKSk7CgogICAgICAgICAgICAvLyB0aGlzIHNob3VsZCBhbHdheXMg\nc3VjY2VlZAogICAgICAgICAgICBhc3NlcnRFcXVhbHMoYmQsCiAgICAgICAg\nICAgICAgICBhZnR0Mi5nZXRUZXN0QmlnRGVjaW1hbCgpLnNldFNjYWxlKGJk\nLnNjYWxlKCkpKTsKCiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBmYWlsIGlm\nIHdlIGFyZSBsb3Npbmcgc2NhbGUKICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKGJkLCBhZnR0Mi5nZXRUZXN0QmlnRGVjaW1hbCgpKTsKCiAgICAgICAgICAg\nIHJvbGxiYWNrVHgocG0pOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSBh\nZmUpIHsKICAgICAgICAgICAgYnVnKDMsIGFmZSwgImZsb2F0aW5nIHBvaW50\nIHByZWNpc2lvbiBsb3NzIik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAg\nICAgICAgaWYgKHBtICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIC8vaWYg\nKHBtLmdldFRyYW5zYWN0aW9uKCkuaXNBY3RpdmUoKSkKICAgICAgICAgICAg\nICAgIC8vcm9sbGJhY2tUeChwbSwoKSk7CiAgICAgICAgICAgICAgICBlbmRF\nbShwbSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChwbTIgIT0g\nbnVsbCkgewogICAgICAgICAgICAgICAgLy9pZiAocG0yLmdldFRyYW5zYWN0\naW9uKCkuaXNBY3RpdmUoKSkKICAgICAgICAgICAgICAgIC8vcm9sbGJhY2tU\neChwbTIsKCkpOwogICAgICAgICAgICAgICAgLy9wbTIuY2xvc2UoKTsKICAg\nICAgICAgICAgICAgIGVuZEVtKHBtMik7CiAgICAgICAgICAgIH0KICAgICAg\nICB9CiAgICB9Cn0K\n","encoding":"base64"}

