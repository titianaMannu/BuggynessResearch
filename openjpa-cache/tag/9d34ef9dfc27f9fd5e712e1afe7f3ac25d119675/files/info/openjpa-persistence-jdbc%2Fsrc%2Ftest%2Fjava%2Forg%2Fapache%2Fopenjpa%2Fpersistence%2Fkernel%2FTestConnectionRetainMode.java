{"sha":"e0eba0117cb732be8fc40440880925a7deca9a1e","node_id":"MDQ6QmxvYjIwNjM2NDplMGViYTAxMTdjYjczMmJlOGZjNDA0NDA4ODA5MjVhN2RlY2E5YTFl","size":3407,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e0eba0117cb732be8fc40440880925a7deca9a1e","content":"LyoKICogVGVzdENvbm5lY3Rpb25SZXRhaW5Nb2RlLmphdmEKICoKICogQ3Jl\nYXRlZCBvbiBPY3RvYmVyIDEwLCAyMDA2LCAxOjA5IFBNCiAqCiAqIFRvIGNo\nYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBN\nYW5hZ2VyCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9y\nLgogKi8KCi8qCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUg\nRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmli\ndXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxl\nCiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFs\nIGluZm9ybWF0aW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlw\nLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVy\nIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGlj\nZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBj\nb21wbGlhbmNlCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5h\ncGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyBy\nZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3Jp\ndGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vu\nc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lU\nSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQs\nIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2Ug\nZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlz\nc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAg\nICAKICovCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmtlcm5lbDsKCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGph\ndmEudXRpbC5NYXA7CgoKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nRmFjdG9yeTsKCnB1YmxpYyBjbGFzcyBUZXN0Q29ubmVjdGlvblJldGFpbk1v\nZGUgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7CgogICAgLyoqCiAgICAgKiBD\ncmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RDb25uZWN0aW9uUmV0YWlu\nTW9kZQogICAgICovCiAgICBwdWJsaWMgVGVzdENvbm5lY3Rpb25SZXRhaW5N\nb2RlKCkgewogICAgfQoKICAgIHB1YmxpYyBUZXN0Q29ubmVjdGlvblJldGFp\nbk1vZGUoU3RyaW5nIHN0cikgewogICAgICAgIHN1cGVyKHN0cik7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdE9uRGVtYW5kKCkKICAgICAgICB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICBkb1Rlc3QoIm9uLWRlbWFuZCIpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RUcmFuc2FjdGlvbigpCiAgICAg\nICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgZG9UZXN0KCJ0cmFuc2Fj\ndGlvbiIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RQZXJzaXN0ZW5j\nZU1hbmFnZXIoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAg\nIGRvVGVzdCgicGVyc2lzdGVuY2UtbWFuYWdlciIpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIGRvVGVzdChTdHJpbmcgbW9kZSkKICAgICAgICB0aHJvd3Mg\nRXhjZXB0aW9uIHsKICAgICAgICBNYXAgcHJvcHMgPSBuZXcgSGFzaE1hcCgp\nOwogICAgICAgIHByb3BzLnB1dCgib3BlbmpwYS5Db25uZWN0aW9uUmV0YWlu\nTW9kZSIsIG1vZGUpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZh\nY3RvcnkgZmFjdG9yeSA9IGdldEVtZihwcm9wcyk7CiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0gPQogICAgICAgICAgICAoT3BlbkpQQUVudGl0\neU1hbmFnZXIpIGZhY3RvcnkuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAg\nICAgIE9iamVjdCBpbml0aWFsQ29ubmVjdGlvbiA9IHBtLmdldENvbm5lY3Rp\nb24oKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY2hlY2tQTShwbSwg\naW5pdGlhbENvbm5lY3Rpb24sIG1vZGUpOwoKICAgICAgICAgICAgcG0uc2V0\nT3B0aW1pc3RpYyh0cnVlKTsKICAgICAgICAgICAgc3RhcnRUeChwbSk7Cgog\nICAgICAgICAgICBPYmplY3Qgb3B0aW1pc3RpY0Nvbm5lY3Rpb24gPSBwbS5n\nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgICAgIGNoZWNrUE0ocG0sIGluaXRp\nYWxDb25uZWN0aW9uLCBtb2RlKTsKICAgICAgICAgICAgY2hlY2tUcmFuc2Fj\ndGlvbihwbSwgb3B0aW1pc3RpY0Nvbm5lY3Rpb24sIG1vZGUpOwoKICAgICAg\nICAgICAgcm9sbGJhY2tUeChwbSk7CiAgICAgICAgICAgIGNoZWNrUE0ocG0s\nIGluaXRpYWxDb25uZWN0aW9uLCBtb2RlKTsKCiAgICAgICAgICAgIHBtLnNl\ndE9wdGltaXN0aWMoZmFsc2UpOwogICAgICAgICAgICBzdGFydFR4KHBtKTsK\nCiAgICAgICAgICAgIE9iamVjdCBwZXNzaW1pc3RpY0Nvbm5lY3Rpb24gPSBw\nbS5nZXRDb25uZWN0aW9uKCk7CiAgICAgICAgICAgIGNoZWNrUE0ocG0sIGlu\naXRpYWxDb25uZWN0aW9uLCBtb2RlKTsKICAgICAgICAgICAgY2hlY2tUcmFu\nc2FjdGlvbihwbSwgcGVzc2ltaXN0aWNDb25uZWN0aW9uLCBtb2RlKTsKCiAg\nICAgICAgICAgIHJvbGxiYWNrVHgocG0pOwogICAgICAgICAgICBjaGVja1BN\nKHBtLCBpbml0aWFsQ29ubmVjdGlvbiwgbW9kZSk7CiAgICAgICAgfSBmaW5h\nbGx5IHsKCiAgICAgICAgICAgIHJvbGxiYWNrVHgocG0pOwogICAgICAgICAg\nICBlbmRFbShwbSk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgdm9p\nZCBjaGVja1BNKE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtLCBPYmplY3QgYywg\nU3RyaW5nIG1vZGUpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgaWYgKCJwZXJzaXN0ZW5jZS1tYW5hZ2VyIi5lcXVhbHMobW9kZSkpCiAg\nICAgICAgICAgIGFzc2VydEVxdWFscyhjLCBwbS5nZXRDb25uZWN0aW9uKCkp\nOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBjaGVja1RyYW5zYWN0aW9uKE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIHBtLCBPYmplY3QgYywKICAgICAgICBTdHJp\nbmcgbW9kZSkKICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBp\nZiAoISJvbi1kZW1hbmQiLmVxdWFscyhtb2RlKQogICAgICAgICAgICB8fCAh\ncG0uZ2V0T3B0aW1pc3RpYygpKQogICAgICAgICAgICBhc3NlcnRFcXVhbHMo\nYywgcG0uZ2V0Q29ubmVjdGlvbigpKTsKICAgIH0KfQo=\n","encoding":"base64"}

