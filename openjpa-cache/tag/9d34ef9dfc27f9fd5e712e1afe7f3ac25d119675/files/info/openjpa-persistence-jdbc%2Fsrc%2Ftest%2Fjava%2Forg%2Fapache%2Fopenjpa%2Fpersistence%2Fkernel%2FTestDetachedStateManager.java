{"sha":"230afe3e5c200fd21e5785a34208444654a033d4","node_id":"MDQ6QmxvYjIwNjM2NDoyMzBhZmUzZTVjMjAwZmQyMWU1Nzg1YTM0MjA4NDQ0NjU0YTAzM2Q0","size":16758,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/230afe3e5c200fd21e5785a34208444654a033d4","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nOwoKaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51dGls\nLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEu\ndXRpbC5Qcm9wZXJ0aWVzOwppbXBvcnQgamF2YS51dGlsLlRyZWVNYXA7CgoK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nLmNvbW1vbi5hcHBzLkF0dGFjaEE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLkF0dGFjaEI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNv\nbW1vbi5hcHBzLkF0dGFjaEQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLkF0dGFjaEU7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1v\nbi5hcHBzLkRldGFjaFNNUEM7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmNvbmYuT3BlbkpQQUNvbmZpZ3VyYXRpb247CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuY29uZi5PcGVuSlBBQ29uZmlndXJhdGlvbkltcGw7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5QQ0VuaGFuY2VyOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmVuaGFuY2UuUGVyc2lzdGVuY2VDYXBh\nYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5EZXRhY2hl\nZFN0YXRlTWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\ndXRpbC5PcHRpb25zOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLkRldGFjaFN0YXRlVHlwZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5\nTWFuYWdlckZhY3Rvcnk7CgpwdWJsaWMgY2xhc3MgVGVzdERldGFjaGVkU3Rh\ndGVNYW5hZ2VyIGV4dGVuZHMgQmFzZUtlcm5lbFRlc3QgewoKICAgIHByaXZh\ndGUgc3RhdGljIGJvb2xlYW4gZW5oYW5jZWQgPSBmYWxzZTsKCiAgICBwcml2\nYXRlIGludCBvaWQ7CiAgICBwcml2YXRlIGludCBkb2lkOwoKICAgIC8qKgog\nICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0RGV0YWNoZWRT\ndGF0ZU1hbmFnZXIKICAgICAqLwogICAgcHVibGljIFRlc3REZXRhY2hlZFN0\nYXRlTWFuYWdlcihTdHJpbmcgbmFtZSkgewogICAgICAgIHN1cGVyKG5hbWUp\nOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBkZWxldGVBbGwoKSB7CiAgICAg\nICAgZGVsZXRlQWxsKEF0dGFjaEEuY2xhc3MpOwogICAgICAgIGRlbGV0ZUFs\nbChBdHRhY2hELmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgZ2V0UE0oKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0gPSBzdXBlci5nZXRQTSgpOwogICAgICAgIC8vRklYTUUganRo\nb21hcwogICAgICAgIC8vcG0uY3VycmVudFRyYW5zYWN0aW9uKCkuc2V0UmVz\ndG9yZVZhbHVlcyhmYWxzZSk7CiAgICAgICAgcmV0dXJuIHBtOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAg\nICAgICAgc3VwZXIuc2V0VXAoKTsKCiAgICAgICAgZGVsZXRlQWxsKCk7Cgog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAg\nICAgICBzdGFydFR4KHBtKTsKICAgICAgICBBdHRhY2hCIGIgPSBuZXcgQXR0\nYWNoQigpOwogICAgICAgIHBtLnBlcnNpc3QoYik7CiAgICAgICAgYi5zZXRB\naW50KDUpOwogICAgICAgIGIuc2V0QnN0cigiNSIpOwogICAgICAgIGIuZ2V0\nU3RyaW5nSW50TWFwKCkucHV0KCI1IiwgbmV3IEludGVnZXIoNSkpOwoKICAg\nICAgICBBdHRhY2hFIGUgPSBuZXcgQXR0YWNoRSgpOwogICAgICAgIGUuc2V0\nRXN0cigiRSIpOwogICAgICAgIGUuc2V0RWludCg1KTsKCiAgICAgICAgQXR0\nYWNoRCBkID0gbmV3IEF0dGFjaEQoKTsKICAgICAgICBkLnNldERpbnQoNSk7\nCiAgICAgICAgZC5zZXRFbWJlZGRlZEUoZSk7CiAgICAgICAgYi5nZXREcygp\nLmFkZChkKTsKCiAgICAgICAgcG0ucGVyc2lzdChkKTsKCiAgICAgICAgb2lk\nID0gYi5nZXRJZCgpOwogICAgICAgIGRvaWQgPSBkLmdldElkKCk7CiAgICAg\nICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0RGV0YWNoKCkgewogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBBdHRhY2hCIGIgPSBw\nbS5maW5kKEF0dGFjaEIuY2xhc3MsIG9pZCk7CgogICAgICAgIGFzc2VydE5v\ndE51bGwoImIgaXMgbnVsbCBpbiB0ZXN0RGV0YWNoIiwgYik7CgogICAgICAg\nIGIgPSAoQXR0YWNoQikgcG0uZGV0YWNoKGIpOwogICAgICAgIGVuZEVtKHBt\nKTsKCiAgICAgICAgYXNzZXJ0VHJ1ZShwbS5pc0RldGFjaGVkKGIpKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoNSwgYi5nZXRBaW50KCkpOwogICAgICAgIGFz\nc2VydEVxdWFscygiNSIsIGIuZ2V0QnN0cigpKTsKICAgICAgICBhc3NlcnRO\ndWxsKGIuZ2V0U3RyaW5nSW50TWFwKCkpOwoKICAgICAgICBiLnNldEFpbnQo\nMTIpOwogICAgICAgIGIuc2V0QnN0cigiMTIiKTsKICAgICAgICBUcmVlTWFw\nIG1hcCA9IG5ldyBUcmVlTWFwKCk7CiAgICAgICAgbWFwLnB1dCgiMTIiLCBu\nZXcgSW50ZWdlcigxMikpOwogICAgICAgIGIuc2V0U3RyaW5nSW50TWFwKG1h\ncCk7CgogICAgICAgIHBtID0gZ2V0UE0oKTsKICAgICAgICBzdGFydFR4KHBt\nKTsKICAgICAgICBBdHRhY2hCIGF0dGFjaGVkID0gKEF0dGFjaEIpIHBtLm1l\ncmdlKGIpOwogICAgICAgIGFzc2VydEVxdWFscygxMiwgYXR0YWNoZWQuZ2V0\nQWludCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIjEyIiwgYXR0YWNoZWQu\nZ2V0QnN0cigpKTsKICAgICAgICBhc3NlcnROdWxsKGF0dGFjaGVkLmdldFN0\ncmluZ0ludE1hcCgpLmdldCgiMTIiKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKG5ldyBJbnRlZ2VyKDUpLCBhdHRhY2hlZC5nZXRTdHJpbmdJbnRNYXAoKS5n\nZXQoIjUiKSk7CiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBt\nKTsKCiAgICAgICAgcG0gPSBnZXRQTSgpOwogICAgICAgIGIgPSBwbS5maW5k\nKEF0dGFjaEIuY2xhc3MsIG9pZCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEy\nLCBiLmdldEFpbnQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCIxMiIsIGIu\nZ2V0QnN0cigpKTsKICAgICAgICBhc3NlcnROdWxsKGIuZ2V0U3RyaW5nSW50\nTWFwKCkuZ2V0KCIxMiIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMobmV3IElu\ndGVnZXIoNSksIGIuZ2V0U3RyaW5nSW50TWFwKCkuZ2V0KCI1IikpOwogICAg\nICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGV0\nYWNoV2l0aEdyb3VwcygpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBwbSA9IGdldFBNKCk7CiAgICAgICAgLy9GSVhNRSBqdGhvbWFzCi8vICAg\nICAgICBwbS5nZXRGZXRjaFBsYW4oKS5zZXREZXRhY2htZW50T3B0aW9ucyhG\nZXRjaFBsYW5JbXBsLkRFVEFDSF9MT0FEX0ZJRUxEUyB8IEZldGNoUGxhbklt\ncGwuREVUQUNIX1VOTE9BRF9GSUVMRFMpOwogICAgICAgIHBtLnNldERldGFj\naFN0YXRlKERldGFjaFN0YXRlVHlwZS5GRVRDSF9HUk9VUFMpOwogICAgICAg\nIHBtLmdldEZldGNoUGxhbigpLmFkZEZldGNoR3JvdXAoImFsbCIpOwogICAg\nICAgIEF0dGFjaEIgYiA9IHBtLmZpbmQoQXR0YWNoQi5jbGFzcywgb2lkKTsK\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgiYiBpcyBudWxsIGluIHRlc3REZXRh\nY2hXaXRoR3JvdXBzIiwgYik7CgogICAgICAgIGIgPSAoQXR0YWNoQikgcG0u\nZGV0YWNoKGIpOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgYXNzZXJ0\nVHJ1ZShwbS5pc0RldGFjaGVkKGIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nImIuZ2V0QWludCgpIG5vdCA1IiwgNSwgYi5nZXRBaW50KCkpOwogICAgICAg\nIGFzc2VydEVxdWFscygiYi5nZXRBaW50KCkgbm90IDVzdHIiLCAiNSIsIGIu\nZ2V0QnN0cigpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImIuZ2V0U3RyaW5n\nSW50TWFwKCkuc2l6ZSgpIG5vdCBlcXVhbCB0byAxIiwgMSwKICAgICAgICAg\nICAgYi5nZXRTdHJpbmdJbnRNYXAoKS5zaXplKCkpOwoKICAgICAgICBiLnNl\ndEFpbnQoMTIpOwogICAgICAgIGIuc2V0QnN0cigiMTIiKTsKICAgICAgICBi\nLmdldFN0cmluZ0ludE1hcCgpLnB1dCgiMTIiLCBuZXcgSW50ZWdlcigxMikp\nOwoKICAgICAgICBwbSA9IGdldFBNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7\nCiAgICAgICAgQXR0YWNoQiBhdHRhY2hlZCA9IChBdHRhY2hCKSBwbS5tZXJn\nZShiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm5vdCAxMiIsIDEyLCBhdHRh\nY2hlZC5nZXRBaW50KCkpOwogICAgICAgIGFzc2VydEVxdWFscygibm90IDEy\nc3RyIiwgIjEyIiwgYXR0YWNoZWQuZ2V0QnN0cigpKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoIm5vdCBuZXdJbnRlZ2VyKDEyKSIsIG5ldyBJbnRlZ2VyKDEy\nKSwKICAgICAgICAgICAgYXR0YWNoZWQuZ2V0U3RyaW5nSW50TWFwKCkuZ2V0\nKCIxMiIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm5vdCBuZXdJbnRlZ2Vy\nKDUpIiwgbmV3IEludGVnZXIoNSksCiAgICAgICAgICAgIGF0dGFjaGVkLmdl\ndFN0cmluZ0ludE1hcCgpLmdldCgiNSIpKTsKICAgICAgICBlbmRUeChwbSk7\nCiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICBwbSA9IGdldFBNKCk7CiAg\nICAgICAgYiA9IChBdHRhY2hCKSBwbS5maW5kKEF0dGFjaEIuY2xhc3MsIG9p\nZCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJub3QgZXF1YWwgMTIiLCAxMiwg\nYi5nZXRBaW50KCkpOwogICAgICAgIGFzc2VydEVxdWFscygibm90IGVxdWFs\nIDEyc3RyIiwgIjEyIiwgYi5nZXRCc3RyKCkpOwogICAgICAgIGFzc2VydEVx\ndWFscygibm90IGVxdWFsIG5ld2ludGVnZXIoMTIpIiwgbmV3IEludGVnZXIo\nMTIpLAogICAgICAgICAgICBiLmdldFN0cmluZ0ludE1hcCgpLmdldCgiMTIi\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJub3QgZXF1YWwgbmV3SW50ZWdl\ncig1KSIsIG5ldyBJbnRlZ2VyKDUpLAogICAgICAgICAgICBiLmdldFN0cmlu\nZ0ludE1hcCgpLmdldCgiNSIpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdERldGFjaE5vT3ZlcndyaXRlKCkgewog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAg\nICAgICBBdHRhY2hCIGIgPSAoQXR0YWNoQikgcG0uZmluZChBdHRhY2hCLmNs\nYXNzLCBvaWQpOwogICAgICAgIGIgPSAoQXR0YWNoQikgcG0uZGV0YWNoKGIp\nOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgYi5zZXRCc3RyKCIxMiIp\nOwoKICAgICAgICBwbSA9IGdldFBNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7\nCiAgICAgICAgQXR0YWNoQiBvcmlnID0gcG0uZmluZChBdHRhY2hCLmNsYXNz\nLCBvaWQpOwogICAgICAgIG9yaWcuc2V0QWludCg1MCk7CgogICAgICAgIEF0\ndGFjaEIgYXR0YWNoZWQgPSAoQXR0YWNoQikgcG0ubWVyZ2UoYik7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKGF0dGFjaGVkLCBvcmlnKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoNTAsIGF0dGFjaGVkLmdldEFpbnQoKSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCIxMiIsIGF0dGFjaGVkLmdldEJzdHIoKSk7CiAgICAgICAg\nZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgcG0gPSBn\nZXRQTSgpOwogICAgICAgIGIgPSAoQXR0YWNoQikgcG0uZmluZChBdHRhY2hC\nLmNsYXNzLCBvaWQpOwogICAgICAgIGFzc2VydEVxdWFscyg1MCwgYi5nZXRB\naW50KCkpOwogICAgICAgIGFzc2VydEVxdWFscygiMTIiLCBiLmdldEJzdHIo\nKSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RPcHRpbWlzdGljTG9jaygpIHsKICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBwbSA9IGdldFBNKCk7CiAgICAgICAgQXR0YWNoQiBiID0gKEF0\ndGFjaEIpIHBtLmZpbmQoQXR0YWNoQi5jbGFzcywgb2lkKTsKCiAgICAgICAg\nYXNzZXJ0Tm90TnVsbCgiYiBpcyBudWxsIGluIHRlc3RPcHRpbWlzdGljTG9j\nayIsIGIpOwoKICAgICAgICBiID0gKEF0dGFjaEIpIHBtLmRldGFjaChiKTsK\nICAgICAgICBlbmRFbShwbSk7CgogICAgICAgIGIuc2V0QWludCgxMik7CiAg\nICAgICAgYi5zZXRCc3RyKCIxMiIpOwogICAgICAgIFRyZWVNYXAgbWFwID0g\nbmV3IFRyZWVNYXAoKTsKICAgICAgICBtYXAucHV0KCIxMiIsIG5ldyBJbnRl\nZ2VyKDEyKSk7CiAgICAgICAgYi5zZXRTdHJpbmdJbnRNYXAobWFwKTsKCiAg\nICAgICAgcG0gPSBnZXRQTSgpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAg\nICAgIEF0dGFjaEIgYjIgPSAoQXR0YWNoQikgcG0uZmluZChBdHRhY2hCLmNs\nYXNzLCBvaWQpOwogICAgICAgIGIyLnNldEFpbnQoMTUpOwogICAgICAgIGVu\nZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CgogICAgICAgIHBtID0gZ2V0\nUE0oKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBwbS5tZXJnZShiKTsKICAgICAgICAgICAgZW5kVHgocG0pOwog\nICAgICAgICAgICBmYWlsKCJPTCBleHBlY3RlZC4iKTsKICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gam92ZSkgewogICAgICAgICAgICByb2xsYmFja1R4\nKHBtKTsKICAgICAgICB9CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRlZCgpIHsKICAgICAgICBPcGVuSlBB\nRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKCk7CiAgICAgICAgQXR0YWNoRCBk\nID0gcG0uZmluZChBdHRhY2hELmNsYXNzLCBkb2lkKTsKCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbCgiZCBpcyBudWxsIGluIHRlc3RFbWJlZGRlZCIsIGQpOwoK\nICAgICAgICBkLmdldEVtYmVkZGVkRSgpLmdldEVzdHIoKTsKICAgICAgICBk\nID0gKEF0dGFjaEQpIHBtLmRldGFjaChkKTsKICAgICAgICBlbmRFbShwbSk7\nCgogICAgICAgIGQuZ2V0RW1iZWRkZWRFKCkuc2V0RXN0cigiRTEyIik7CiAg\nICAgICAgcG0gPSBnZXRQTSgpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAg\nICAgIEF0dGFjaEQgZDIgPSAoQXR0YWNoRCkgcG0ubWVyZ2UoZCk7CiAgICAg\nICAgYXNzZXJ0Tm90RXF1YWxzKGQuZ2V0RW1iZWRkZWRFKCksIGQyLmdldEVt\nYmVkZGVkRSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIkUxMiIsIGQyLmdl\ndEVtYmVkZGVkRSgpLmdldEVzdHIoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDUsIGQyLmdldEVtYmVkZGVkRSgpLmdldEVpbnQoKSk7CiAgICAgICAgZW5k\nVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgcG0gPSBnZXRQ\nTSgpOwogICAgICAgIGQyID0gKEF0dGFjaEQpIHBtLmZpbmQoQXR0YWNoRC5j\nbGFzcywgZG9pZCk7CgogICAgICAgIGFzc2VydE5vdE51bGwoImQyIGlzIG51\nbGwgaW4gdGVzdEVtYmVkZGVkIiwgZDIpOwoKICAgICAgICBhc3NlcnRFcXVh\nbHMoIkUxMiIsIGQyLmdldEVtYmVkZGVkRSgpLmdldEVzdHIoKSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDUsIGQyLmdldEVtYmVkZGVkRSgpLmdldEVpbnQo\nKSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3ROdWxsRW1iZWRkZWQoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAgIEF0dGFjaEQgZCA9IChBdHRh\nY2hEKSBwbS5maW5kKEF0dGFjaEQuY2xhc3MsIGRvaWQpOwoKICAgICAgICBh\nc3NlcnROb3ROdWxsKCJkIGlzIG51bGwgaW4gdGVzdE51bGxFbWJlZGRlZCIs\nIGQpOwogICAgICAgIGQuZ2V0RW1iZWRkZWRFKCkuZ2V0RXN0cigpOwogICAg\nICAgIGQgPSAoQXR0YWNoRCkgcG0uZGV0YWNoKGQpOwogICAgICAgIGVuZEVt\nKHBtKTsKCiAgICAgICAgZC5zZXRFbWJlZGRlZEUobnVsbCk7CiAgICAgICAg\ncG0gPSBnZXRQTSgpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIEF0\ndGFjaEQgZDIgPSAoQXR0YWNoRCkgcG0ubWVyZ2UoZCk7CiAgICAgICAgYXNz\nZXJ0TnVsbChkMi5nZXRFbWJlZGRlZEUoKSk7CiAgICAgICAgZW5kVHgocG0p\nOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgcG0gPSBnZXRQTSgpOwog\nICAgICAgIGQyID0gKEF0dGFjaEQpIHBtLmZpbmQoQXR0YWNoRC5jbGFzcywg\nZG9pZCk7CgogICAgICAgIGFzc2VydE5vdE51bGwoImQyIGlzIG51bGwgaW4g\ndGVzdE51bGxFbWJlZGRlZCIsIGQyKTsKICAgICAgICAvLyBubyBudWxsIGlu\nZAogICAgICAgIGlmIChkMi5nZXRFbWJlZGRlZEUoKSAhPSBudWxsKSB7CiAg\nICAgICAgICAgIGFzc2VydE51bGwoZDIuZ2V0RW1iZWRkZWRFKCkuZ2V0RXN0\ncigpKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIGQyLmdldEVtYmVk\nZGVkRSgpLmdldEVpbnQoKSk7CiAgICAgICAgfQogICAgICAgIGVuZEVtKHBt\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TnVsbEVtYmVkZGVkUmVs\nYXRlZCgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdl\ndFBNKCk7CiAgICAgICAgQXR0YWNoRCBkID0gKEF0dGFjaEQpIHBtLmZpbmQo\nQXR0YWNoRC5jbGFzcywgZG9pZCk7CgogICAgICAgIGFzc2VydE5vdE51bGwo\nImQgaXMgbnVsbCBpbiB0ZXN0TnVsbEVtYmVkZGVkUmVsYXRlZCIsIGQpOwoK\nICAgICAgICBkLmdldEVtYmVkZGVkRSgpLmdldEVzdHIoKTsKICAgICAgICBk\nID0gKEF0dGFjaEQpIHBtLmRldGFjaChkKTsKICAgICAgICBlbmRFbShwbSk7\nCgogICAgICAgIGQuZ2V0RW1iZWRkZWRFKCkuc2V0RXN0cihudWxsKTsKICAg\nICAgICBwbSA9IGdldFBNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAg\nICAgQXR0YWNoRCBkMiA9IChBdHRhY2hEKSBwbS5tZXJnZShkKTsKICAgICAg\nICBhc3NlcnROdWxsKCJkMi5nZXRFbWJlZGRlZEUoKS5nZXRFc3RyKCkgaXMg\nbm90IG51bGwiLAogICAgICAgICAgICBkMi5nZXRFbWJlZGRlZEUoKS5nZXRF\nc3RyKCkpOwogICAgICAgIGFzc2VydEVxdWFscygiZDIuZ2V0RW1iZWRkZWRF\nKCkuZ2V0RWludCgpIGlzIG5vdCBlcXVhbCB0byA1IiwgNSwKICAgICAgICAg\nICAgZDIuZ2V0RW1iZWRkZWRFKCkuZ2V0RWludCgpKTsKICAgICAgICBlbmRU\neChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICBwbSA9IGdldFBN\nKCk7CiAgICAgICAgZDIgPSAoQXR0YWNoRCkgcG0uZmluZChBdHRhY2hELmNs\nYXNzLCBkb2lkKTsKICAgICAgICBhc3NlcnROdWxsKCJkMi5nZXRFbWJlZGRl\nZEUoKS5nZXRFc3RyKCkgaXMgbm90IG51bGwiLAogICAgICAgICAgICBkMi5n\nZXRFbWJlZGRlZEUoKS5nZXRFc3RyKCkpOwogICAgICAgIGFzc2VydEVxdWFs\ncygiZDIuZ2V0RW1iZWRkZWRFKCkuZ2V0RWludCgpIGlzIG5vdCA1IiwgNSwK\nICAgICAgICAgICAgZDIuZ2V0RW1iZWRkZWRFKCkuZ2V0RWludCgpKTsKICAg\nICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdE51\nbGxDb2xsZWN0aW9uKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0gZ2V0UE0oKTsKICAgICAgICBBdHRhY2hCIGIgPSAoQXR0YWNoQikg\ncG0uZmluZChBdHRhY2hCLmNsYXNzLCBvaWQpOwogICAgICAgIGIuZ2V0RHMo\nKTsKICAgICAgICBiID0gKEF0dGFjaEIpIHBtLmRldGFjaChiKTsKICAgICAg\nICBlbmRFbShwbSk7CgogICAgICAgIGFzc2VydEVxdWFscygxLCBiLmdldERz\nKCkuc2l6ZSgpKTsKICAgICAgICBiLnNldERzKG51bGwpOwoKICAgICAgICBw\nbSA9IGdldFBNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgYiA9\nIChBdHRhY2hCKSBwbS5tZXJnZShiKTsKICAgICAgICBhc3NlcnROdWxsKGIu\nZ2V0RHMoKSk7CiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBt\nKTsKCiAgICAgICAgcG0gPSBnZXRQTSgpOwogICAgICAgIGIgPSAoQXR0YWNo\nQikgcG0uZmluZChBdHRhY2hCLmNsYXNzLCBvaWQpOwogICAgICAgIGFzc2Vy\ndFRydWUoYi5nZXREcygpID09IG51bGwgfHwgYi5nZXREcygpLnNpemUoKSA9\nPSAwKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdENvbGxlY3Rpb25BZGQoKSB7CiAgICAgICAgZG9Db2xsZWN0aW9u\nVGVzdChmYWxzZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdENvbGxl\nY3Rpb25DaGFuZ2VzKCkgewogICAgICAgIGRvQ29sbGVjdGlvblRlc3QodHJ1\nZSk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGRvQ29sbGVjdGlvblRlc3Qo\nYm9vbGVhbiByZW1vdmUpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBwbSA9IGdldFBNKCk7CiAgICAgICAgQXR0YWNoQiBiID0gKEF0dGFjaEIp\nIHBtLmZpbmQoQXR0YWNoQi5jbGFzcywgb2lkKTsKCiAgICAgICAgYXNzZXJ0\nTm90TnVsbCgiYiBpcyBudWxsIGluIGRvQ29sbGVjdGlvblRlc3QiLCBiKTsK\nICAgICAgICBiLmdldERzKCk7CiAgICAgICAgYiA9IChBdHRhY2hCKSBwbS5k\nZXRhY2goYik7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICBhc3NlcnRF\ncXVhbHMoImIgaXMgbnVsbCBpbiBkb0NvbGxlY3Rpb25UZXN0IiwgMSwgYi5n\nZXREcygpLnNpemUoKSk7CiAgICAgICAgaWYgKHJlbW92ZSkgewogICAgICAg\nICAgICBmb3IgKEl0ZXJhdG9yIGl0ID0gYi5nZXREcygpLml0ZXJhdG9yKCk7\nIGl0Lmhhc05leHQoKTspIHsKICAgICAgICAgICAgICAgIGl0Lm5leHQoKTsK\nICAgICAgICAgICAgICAgIGl0LnJlbW92ZSgpOwogICAgICAgICAgICB9CiAg\nICAgICAgfQogICAgICAgIEF0dGFjaEQgZCA9IG5ldyBBdHRhY2hEKCk7CiAg\nICAgICAgZC5zZXREaW50KDEyKTsKICAgICAgICBiLmdldERzKCkuYWRkKGQp\nOwoKICAgICAgICBwbSA9IGdldFBNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7\nCiAgICAgICAgYiA9IChBdHRhY2hCKSBwbS5tZXJnZShiKTsKICAgICAgICBh\nc3NlcnRTaXplKHJlbW92ZSA/IDEgOiAyLCBiLmdldERzKCkpOwogICAgICAg\nIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CgogICAgICAgIHBtID0g\nZ2V0UE0oKTsKICAgICAgICBiID0gKEF0dGFjaEIpIHBtLmZpbmQoQXR0YWNo\nQi5jbGFzcywgb2lkKTsKICAgICAgICBhc3NlcnRTaXplKHJlbW92ZSA/IDEg\nOiAyLCBiLmdldERzKCkpOwogICAgICAgIGJvb2xlYW4gZm91bmQxID0gZmFs\nc2U7CiAgICAgICAgYm9vbGVhbiBmb3VuZDIgPSBmYWxzZTsKICAgICAgICBm\nb3IgKEl0ZXJhdG9yIGl0ID0gYi5nZXREcygpLml0ZXJhdG9yKCk7IGl0Lmhh\nc05leHQoKTspIHsKICAgICAgICAgICAgZCA9IChBdHRhY2hEKSBpdC5uZXh0\nKCk7CiAgICAgICAgICAgIHN3aXRjaCAoZC5nZXREaW50KCkpIHsKICAgICAg\nICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICBpZiAoZm91\nbmQxKQogICAgICAgICAgICAgICAgICAgICAgICBmYWlsKCJSZWZvdW5kLiIp\nOwogICAgICAgICAgICAgICAgICAgIGZvdW5kMSA9IHRydWU7CiAgICAgICAg\nICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDEyOgog\nICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZDIpCiAgICAgICAgICAgICAg\nICAgICAgICAgIGZhaWwoIlJlZm91bmQuIik7CiAgICAgICAgICAgICAgICAg\nICAgZm91bmQyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsK\nICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAg\nZmFpbCgiVW5rbm93biBkOiIgKyBkLmdldERpbnQoKSk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9CgogICAgICAgIGlmIChyZW1vdmUpCiAgICAgICAgICAg\nIGFzc2VydEZhbHNlKGZvdW5kMSk7CgogICAgICAgIGVuZEVtKHBtKTsKICAg\nIH0KCiAgICAvKgogICAvLyMjIwogICAvLyBObyB0aW1lIHRvIGdldCB0aGVz\nZSB3b3JraW5nIHJpZ2h0IG5vdy4gIEhhdmUgdG8gZmlndXJlIG91dCBob3cg\ndG8KICAgLy8gZW5oYW5jZSBjZXJ0YWluIGNsYXNzZXMgd2l0aCBkaWZmZXJl\nbnQgRGV0YWNoU3RhdGUgc2V0dGluZ3MgaW4gYXV0b2J1aWxkLgogICBwdWJs\naWMgdm9pZCB0ZXN0U2VyaWFsaXphdGlvbiAoKQogICAgICAgdGhyb3dzIEV4\nY2VwdGlvbgogICB7CiAgICAgICBkb1NlcmlhbGl6YXRpb25UZXN0IChmYWxz\nZSk7CiAgIH0KCgogICBwdWJsaWMgdm9pZCB0ZXN0U2VyaWFsaXphdGlvbkF1\ndG8gKCkKICAgICAgIHRocm93cyBFeGNlcHRpb24KICAgewogICAgICAgZG9T\nZXJpYWxpemF0aW9uVGVzdCAodHJ1ZSk7CiAgIH0KICAgICovCgogICAgcHJp\ndmF0ZSB2b2lkIGRvU2VyaWFsaXphdGlvblRlc3QoYm9vbGVhbiBhdXRvKSB0\naHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBlbmhhbmNlKCk7CiAgICAgICAg\nTWFwIHByb3BzID0gbmV3IEhhc2hNYXAoKTsKICAgICAgICBwcm9wcy5wdXQo\nIm9wZW5qcGEuRGV0YWNoU3RhdGUiLCAiRGV0YWNoZWRTdGF0ZUZpZWxkPXRy\ndWUiKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IGZh\nY3RvcnkgPQogICAgICAgICAgICAoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0\nb3J5KSBnZXRFbWYocHJvcHMpOwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyIHBtID0KICAgICAgICAgICAgKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBm\nYWN0b3J5LmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKCiAgICAgICAgc3RhcnRU\neChwbSk7CiAgICAgICAgRGV0YWNoU01QQyBwYyA9IG5ldyBEZXRhY2hTTVBD\nKCk7CiAgICAgICAgcGMuc2V0SW50RmllbGQoMSk7CiAgICAgICAgRGV0YWNo\nU01QQyByZWwgPSBuZXcgRGV0YWNoU01QQygpOwogICAgICAgIHJlbC5zZXRJ\nbnRGaWVsZCgyKTsKICAgICAgICBwYy5nZXRSZWxTZXQoKS5hZGQocmVsKTsK\nICAgICAgICBwYy5nZXRTdHJpbmdJbnRNYXAoKS5wdXQoImEiLCBuZXcgSW50\nZWdlcig5OSkpOwogICAgICAgIHBtLnBlcnNpc3QocGMpOwogICAgICAgIGVu\nZFR4KHBtKTsKICAgICAgICBPYmplY3QgcGNvaWQgPSBwbS5nZXRPYmplY3RJ\nZChwYyk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICBwbSA9IChPcGVu\nSlBBRW50aXR5TWFuYWdlcikgZmFjdG9yeS5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCk7CiAgICAgICAgcGMgPSAoRGV0YWNoU01QQykgcG0uZmluZChEZXRhY2hT\nTVBDLmNsYXNzLCBwY29pZCk7CiAgICAgICAgcGMuZ2V0UmVsU2V0KCk7CiAg\nICAgICAgcGMuZ2V0U3RyaW5nSW50TWFwKCk7CiAgICAgICAgaWYgKCFhdXRv\nKSB7CiAgICAgICAgICAgIHBjID0gKERldGFjaFNNUEMpIHBtLmRldGFjaChw\nYyk7CiAgICAgICAgICAgIGFzc2VydERldGFjaGVkU00ocGMpOwogICAgICAg\nIH0KICAgICAgICBwYyA9IChEZXRhY2hTTVBDKSByb3VuZHRyaXAocGMsIGZh\nbHNlKTsKICAgICAgICBhc3NlcnREZXRhY2hlZFNNKHBjKTsKICAgICAgICBl\nbmRFbShwbSk7CgogICAgICAgIGFzc2VydERldGFjaGVkU00ocGMpOwogICAg\nICAgIGFzc2VydFNpemUoMSwgcGMuZ2V0UmVsU2V0KCkpOwogICAgICAgIGFz\nc2VydEVxdWFscygxLCBwYy5nZXRTdHJpbmdJbnRNYXAoKS5zaXplKCkpOwoK\nICAgICAgICBwYy5zZXRJbnRGaWVsZCgzKTsKICAgICAgICAoKERldGFjaFNN\nUEMpIHBjLmdldFJlbFNldCgpLml0ZXJhdG9yKCkubmV4dCgpKS5zZXRJbnRG\naWVsZCg0KTsKICAgICAgICBwYy5nZXRTdHJpbmdJbnRNYXAoKS5wdXQoImIi\nLCBuZXcgSW50ZWdlcigxMDApKTsKCiAgICAgICAgcGMgPSAoRGV0YWNoU01Q\nQykgcm91bmR0cmlwKHBjLCBmYWxzZSk7CgogICAgICAgIGFzc2VydERldGFj\naGVkU00ocGMpOwogICAgICAgIGFzc2VydEVxdWFscygzLCBwYy5nZXRJbnRG\naWVsZCgpKTsKICAgICAgICBhc3NlcnRTaXplKDEsIHBjLmdldFJlbFNldCgp\nKTsKICAgICAgICAvL2Fzc2VydERldGFjaGVkU00gKGIuZ2V0RHMgKCkuaXRl\ncmF0b3IgKCkubmV4dCAoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDQsICgo\nRGV0YWNoU01QQykgcGMuZ2V0UmVsU2V0KCkuaXRlcmF0b3IoKS5uZXh0KCkp\nCiAgICAgICAgICAgIC5nZXRJbnRGaWVsZCgpKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMobmV3IEludGVnZXIoMTAwKSwgcGMuZ2V0U3RyaW5nSW50TWFwKCku\nZ2V0KCJiIikpOwoKICAgICAgICBwbSA9IChPcGVuSlBBRW50aXR5TWFuYWdl\ncikgZmFjdG9yeS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3Rh\ncnRUeChwbSk7CiAgICAgICAgcGMgPSAoRGV0YWNoU01QQykgcG0ubWVyZ2Uo\ncGMpOwogICAgICAgIGFzc2VydEVxdWFscygzLCBwYy5nZXRJbnRGaWVsZCgp\nKTsKICAgICAgICBhc3NlcnRTaXplKDEsIHBjLmdldFJlbFNldCgpKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoNCwgKChEZXRhY2hTTVBDKSBwYy5nZXRSZWxT\nZXQoKS5pdGVyYXRvcigpLm5leHQoKSkKICAgICAgICAgICAgLmdldEludEZp\nZWxkKCkpOwogICAgICAgIGFzc2VydEVxdWFscygyLCBwYy5nZXRTdHJpbmdJ\nbnRNYXAoKS5zaXplKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgSW50\nZWdlcigxMDApLCBwYy5nZXRTdHJpbmdJbnRNYXAoKS5nZXQoImIiKSk7CiAg\nICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAg\ncG0gPSAoT3BlbkpQQUVudGl0eU1hbmFnZXIpIGZhY3RvcnkuY3JlYXRlRW50\naXR5TWFuYWdlcigpOwogICAgICAgIHBjID0gKERldGFjaFNNUEMpIHBtLmZp\nbmQoRGV0YWNoU01QQy5jbGFzcywgcGNvaWQpOwogICAgICAgIGFzc2VydEVx\ndWFscygzLCBwYy5nZXRJbnRGaWVsZCgpKTsKICAgICAgICBhc3NlcnRTaXpl\nKDEsIHBjLmdldFJlbFNldCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoNCwg\nKChEZXRhY2hTTVBDKSBwYy5nZXRSZWxTZXQoKS5pdGVyYXRvcigpLm5leHQo\nKSkKICAgICAgICAgICAgLmdldEludEZpZWxkKCkpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygyLCBwYy5nZXRTdHJpbmdJbnRNYXAoKS5zaXplKCkpOwogICAg\nICAgIGFzc2VydEVxdWFscyhuZXcgSW50ZWdlcigxMDApLCBwYy5nZXRTdHJp\nbmdJbnRNYXAoKS5nZXQoImIiKSk7CgogICAgICAgIHN0YXJ0VHgocG0pOwog\nICAgICAgIGRlbGV0ZUFsbChEZXRhY2hTTVBDLmNsYXNzLCBwbSk7CiAgICAg\nICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKICAgICAgICBmYWN0\nb3J5LmNsb3NlKCk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGVuaGFuY2Uo\nKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBQcm9wZXJ0aWVzIHByb3Bz\nID0gZ2V0UHJvcGVydGllcyhuZXcgU3RyaW5nW117CiAgICAgICAgICAgICJv\ncGVuanBhLkRldGFjaFN0YXRlIiwgIkRldGFjaGVkU3RhdGVGaWVsZD10cnVl\nIiwKICAgICAgICB9KTsKICAgICAgICBPcGVuSlBBQ29uZmlndXJhdGlvbiBj\nb25mID0gbmV3IE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbCh0cnVlLCBmYWxz\nZSk7CiAgICAgICAgY29uZi5mcm9tUHJvcGVydGllcyhwcm9wcyk7CgogICAg\nICAgIE9wdGlvbnMgb3B0cyA9IG5ldyBPcHRpb25zKCk7CiAgICAgICAgb3B0\ncy5wdXQoImpkbyIsICJ0cnVlIik7CiAgICAgICAgUENFbmhhbmNlci5ydW4o\nY29uZiwgbmV3IFN0cmluZ1tdewogICAgICAgICAgICAib3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5ub2VuaGFuY2UuRGV0YWNoU01Q\nQyIgfSwgb3B0cyk7CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGFzc2VydERl\ndGFjaGVkU00oT2JqZWN0IG9iaikgewogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBhc3NlcnRUcnVlKHBtLmlz\nRGV0YWNoZWQob2JqKSk7CiAgICAgICAgUGVyc2lzdGVuY2VDYXBhYmxlIHBj\nID0gKFBlcnNpc3RlbmNlQ2FwYWJsZSkgb2JqOwogICAgICAgIGFzc2VydEVx\ndWFscyhEZXRhY2hlZFN0YXRlTWFuYWdlci5jbGFzcywKICAgICAgICAgICAg\ncGMucGNHZXRTdGF0ZU1hbmFnZXIoKS5nZXRDbGFzcygpKTsKICAgICAgICBl\nbmRFbShwbSk7CiAgICB9Cn0K\n","encoding":"base64"}

