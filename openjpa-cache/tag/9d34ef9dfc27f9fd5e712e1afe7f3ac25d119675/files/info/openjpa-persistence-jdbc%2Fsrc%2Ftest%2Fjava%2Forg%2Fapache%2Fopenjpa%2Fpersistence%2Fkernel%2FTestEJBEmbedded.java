{"sha":"30b10a6ee7f8f08c2e8126babc4ddfdd7da2b84b","node_id":"MDQ6QmxvYjIwNjM2NDozMGIxMGE2ZWU3ZjhmMDhjMmU4MTI2YmFiYzRkZGZkZDdkYTJiODRi","size":7478,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/30b10a6ee7f8f08c2e8126babc4ddfdd7da2b84b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nOwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7CgoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwu\nY29tbW9uLmFwcHMuQ29tcGxleEVtYmVkZGVkUEM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLkVt\nYmVkZGVkT3duZXJQQzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuRW1iZWRkZWRQQzsKCnB1Ymxp\nYyBjbGFzcyBUZXN0RUpCRW1iZWRkZWQgZXh0ZW5kcyBCYXNlS2VybmVsVGVz\ndCB7CgogICAgcHJpdmF0ZSBPYmplY3QgX29pZDEgPSBudWxsOwogICAgcHJp\ndmF0ZSBPYmplY3QgX29pZDIgPSBudWxsOwoKICAgIEVtYmVkZGVkT3duZXJQ\nQy5FbWJLZXkgaWQxOwogICAgRW1iZWRkZWRPd25lclBDLkVtYktleSBpZDI7\nCgogICAgcHVibGljIFRlc3RFSkJFbWJlZGRlZChTdHJpbmcgbmFtZSkgewog\nICAgICAgIHN1cGVyKG5hbWUpOwogICAgfQoKICAgIEBTdXBwcmVzc1dhcm5p\nbmdzKCJ1bmNoZWNrZWQiKQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAg\nICAgICAgZGVsZXRlQWxsKEVtYmVkZGVkT3duZXJQQy5jbGFzcyk7CiAgICAg\nICAgZGVsZXRlQWxsKEVtYmVkZGVkUEMuY2xhc3MpOwoKICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICBzdGFydFR4KGVtKTsKCiAgICAgICAgRW1iZWRkZWRPd25lclBDIHBjMSA9\nIG5ldyBFbWJlZGRlZE93bmVyUEMoMSwgMik7CiAgICAgICAgcGMxLnNldFN0\ncmluZ0ZpZWxkKCJzdHJpbmcxIik7CiAgICAgICAgRW1iZWRkZWRQQyBlbWJl\nZDEgPSBuZXcgRW1iZWRkZWRQQygpOwogICAgICAgIGVtYmVkMS5zZXRTdHJp\nbmdGaWVsZCgiZW1iZWRTdHJpbmcxIik7CiAgICAgICAgZW1iZWQxLnNldElu\ndEZpZWxkKDEpOwogICAgICAgIHBjMS5zZXRFbWJlZGRlZChlbWJlZDEpOwoK\nICAgICAgICBFbWJlZGRlZFBDIGVtYmVkMiA9IG5ldyBFbWJlZGRlZFBDKCk7\nCiAgICAgICAgZW1iZWQyLnNldFN0cmluZ0ZpZWxkKCJlbWJlZFN0cmluZzIi\nKTsKICAgICAgICBlbWJlZDIuc2V0SW50RmllbGQoMik7CgogICAgICAgIEVt\nYmVkZGVkT3duZXJQQyBwYzIgPSBuZXcgRW1iZWRkZWRPd25lclBDKDMsIDQp\nOwoKICAgICAgICBlbS5wZXJzaXN0KHBjMSk7CiAgICAgICAgZW0ucGVyc2lz\ndChwYzIpOwoKICAgICAgICBlbmRUeChlbSk7CgogICAgICAgIGlkMSA9IG5l\ndyBFbWJlZGRlZE93bmVyUEMuRW1iS2V5KCIxOjIiKTsKCiAgICAgICAgaWQy\nID0gbmV3IEVtYmVkZGVkT3duZXJQQy5FbWJLZXkoKTsKICAgICAgICBpZDIu\naWQxID0gMzsKICAgICAgICBpZDIuaWQyID0gNDsKCiAgICAgICAgZW5kRW0o\nZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RJbnNlcnQoKSB7CiAg\nICAgICAgRW50aXR5TWFuYWdlciBwbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2Vy\nKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIEVtYmVkZGVkT3du\nZXJQQyBwYyA9IHBtLmZpbmQoRW1iZWRkZWRPd25lclBDLmNsYXNzLCBpZDEp\nOwogICAgICAgIEVtYmVkZGVkT3duZXJQQyBwYzIgPSBwbS5maW5kKEVtYmVk\nZGVkT3duZXJQQy5jbGFzcywgaWQyKTsKICAgICAgICBhc3NlcnROb3ROdWxs\nKCJwYyBpcyBudWxsIGluIHRlc3RJbnNlcnQiLCBwYyk7CiAgICAgICAgYXNz\nZXJ0Tm90TnVsbCgicDIgaXMgbnVsbCBpbiB0ZXN0SW5zZXJ0IiwgcGMyKTsK\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzdHJpbmcxIiwgcGMuZ2V0U3RyaW5n\nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChwYy5nZXRFbWJlZGRl\nZCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImVtYmVkU3RyaW5nMSIsIHBj\nLmdldEVtYmVkZGVkKCkuZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDEsIHBjLmdldEVtYmVkZGVkKCkuZ2V0SW50RmllbGQoKSk7\nCgogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdERlbGV0ZSgpIHsKICAgICAgICBFbnRp\ndHlNYW5hZ2VyIHBtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICBzdGFydFR4KHBtKTsKICAgICAgICBFbWJlZGRlZE93bmVyUEMgcGMgPQog\nICAgICAgICAgICAoRW1iZWRkZWRPd25lclBDKSBwbS5maW5kKEVtYmVkZGVk\nT3duZXJQQy5jbGFzcywgaWQxKTsKCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgi\ncGMgaXMgbnVsbCBpbiB0ZXN0RGVsZXRlIiwgcGMpOwoKICAgICAgICBFbWJl\nZGRlZFBDIGVtYmVkID0gcGMuZ2V0RW1iZWRkZWQoKTsKCiAgICAgICAgcGMu\nc2V0RW1iZWRkZWQobnVsbCk7CgogICAgICAgIGVuZFR4KHBtKTsKCiAgICAg\nICAgZW5kRW0ocG0pOwoKICAgICAgICBwbSA9IGN1cnJlbnRFbnRpdHlNYW5h\nZ2VyKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgcGMgPSAoRW1i\nZWRkZWRPd25lclBDKSBwbS5maW5kKEVtYmVkZGVkT3duZXJQQy5jbGFzcywg\naWQxKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGUgZXhwdCBzdHJuZyBp\ncyBub3Qgc3RyaW5nMSIsICJzdHJpbmcxIiwKICAgICAgICAgICAgcGMuZ2V0\nU3RyaW5nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0TnVsbCgicGMncyBlbWJl\nZGRlZCBpcyBudWxsIiwgcGMuZ2V0RW1iZWRkZWQoKSk7CiAgICAgICAgZW5k\nVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0VXBkYXRlUmV0YWluKCkgewogICAgICAgIEVudGl0eU1hbmFn\nZXIgcG0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0\nVHgocG0pOwogICAgICAgIEVtYmVkZGVkT3duZXJQQyBwYyA9CiAgICAgICAg\nICAgIChFbWJlZGRlZE93bmVyUEMpIHBtLmZpbmQoRW1iZWRkZWRPd25lclBD\nLmNsYXNzLCBpZDEpOwoKICAgICAgICBhc3NlcnROb3ROdWxsKCJwYyBpcyBu\ndWxsIHRlc3RVcGRhdGVSZXRhaW4iLCBwYyk7CgogICAgICAgIHBjLnNldFN0\ncmluZ0ZpZWxkKCJzdHJpbmcyIik7CiAgICAgICAgcGMuZ2V0RW1iZWRkZWQo\nKS5zZXRTdHJpbmdGaWVsZCgiZW1iZWRTdHJpbmcyIik7CgogICAgICAgIGVu\nZFR4KHBtKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzdHJpbmcyIiwgcGMu\nZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChwYy5n\nZXRFbWJlZGRlZCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImVtYmVkU3Ry\naW5nMiIsIHBjLmdldEVtYmVkZGVkKCkuZ2V0U3RyaW5nRmllbGQoKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDEsIHBjLmdldEVtYmVkZGVkKCkuZ2V0SW50\nRmllbGQoKSk7CgogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0UmVwbGFjZSgpIHsKICAgICAgICBFbnRpdHlNYW5hZ2Vy\nIHBtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBzdGFydFR4\nKHBtKTsKCiAgICAgICAgRW1iZWRkZWRPd25lclBDIHBjID0gcG0uZmluZChF\nbWJlZGRlZE93bmVyUEMuY2xhc3MsIGlkMSk7CgogICAgICAgIEVtYmVkZGVk\nUEMgbmV3RW1iZWQgPSBuZXcgRW1iZWRkZWRQQygpOwogICAgICAgIG5ld0Vt\nYmVkLnNldFN0cmluZ0ZpZWxkKCJlbWJlZFN0cmluZzIiKTsKICAgICAgICBw\nYy5zZXRFbWJlZGRlZChuZXdFbWJlZCk7CgogICAgICAgIENvbXBsZXhFbWJl\nZGRlZFBDIG5ld0NvbXBsZXhFbWJlZCA9IG5ldyBDb21wbGV4RW1iZWRkZWRQ\nQygpOwogICAgICAgIG5ld0VtYmVkID0gbmV3IEVtYmVkZGVkUEMoKTsKICAg\nICAgICBuZXdFbWJlZC5zZXRTdHJpbmdGaWVsZCgiZW1iZWRTdHJpbmczIik7\nCiAgICAgICAgbmV3Q29tcGxleEVtYmVkLnNldFN0cmluZ0ZpZWxkKCJjb21w\nbGV4RW1iZWRTdHJpbmczIik7CiAgICAgICAgbmV3Q29tcGxleEVtYmVkLnNl\ndE93bmVyRmllbGQobmV3IEVtYmVkZGVkT3duZXJQQyg1LCA2KSk7CiAgICAg\nICAgcGMuc2V0Q29tcGxleEVtYmVkZGVkKG5ld0NvbXBsZXhFbWJlZCk7Cgog\nICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CgogICAgICAg\nIHBtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBzdGFydFR4\nKHBtKTsKCiAgICAgICAgcGMgPSBwbS5maW5kKEVtYmVkZGVkT3duZXJQQy5j\nbGFzcywgaWQxKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInN0cmluZzEiLCBw\nYy5nZXRTdHJpbmdGaWVsZCgpKTsKICAgICAgICBhc3NlcnROb3ROdWxsKHBj\nLmdldEVtYmVkZGVkKCkpOwogICAgICAgIGFzc2VydEVxdWFscygidGhlIGV4\ncCBzdHJuZyBpcyBub3QgZW1iZWRTdHJpbmcxIiwgImVtYmVkU3RyaW5nMSIs\nCiAgICAgICAgICAgIHBjLmdldEVtYmVkZGVkKCkuZ2V0U3RyaW5nRmllbGQo\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJpbnRmaWVsZCBpcyBub3QgMSIs\nIDEsIHBjLmdldEVtYmVkZGVkKCkuZ2V0SW50RmllbGQoKSk7CgogICAgICAg\nIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdFNoYXJlKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIg\ncG0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgo\ncG0pOwoKICAgICAgICBFbWJlZGRlZE93bmVyUEMgcGMxID0gcG0uZmluZChF\nbWJlZGRlZE93bmVyUEMuY2xhc3MsIGlkMSk7CiAgICAgICAgYXNzZXJ0Tm90\nTnVsbCgicGMxIGlzIG51bGwgaW4gdGVzdHNoYXJlIiwgcGMxKTsKCiAgICAg\nICAgRW1iZWRkZWRPd25lclBDIHBjMiA9IHBtLmZpbmQoRW1iZWRkZWRPd25l\nclBDLmNsYXNzLCBpZDIpOwogICAgICAgIGFzc2VydE5vdE51bGwoInBjMiBp\ncyBudWxsIGluIHRlc3RzaGFyZSIsIHBjMik7CgogICAgICAgIEVtYmVkZGVk\nUEMgZW1iZWQxID0gcGMxLmdldEVtYmVkZGVkKCk7CgogICAgICAgIHBtLnBl\ncnNpc3QoZW1iZWQxKTsKICAgICAgICBJbnRlZ2VyIG9pZCA9IG5ldyBJbnRl\nZ2VyKDEpOwogICAgICAgIGVuZFR4KHBtKTsKCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJlbWJlZFN0cmluZzEiLCBlbWJlZDEuZ2V0U3RyaW5nRmllbGQoKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJlbWJlZFN0cmluZzEiLCBwYzEuZ2V0\nRW1iZWRkZWQoKS5nZXRTdHJpbmdGaWVsZCgpKTsKCiAgICAgICAgZW5kRW0o\ncG0pOwoKICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIGNoYW5nZXMgc3RpY2sK\nICAgICAgICBwbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\nc3RhcnRUeChwbSk7CiAgICAgICAgcGMxID0gcG0uZmluZChFbWJlZGRlZE93\nbmVyUEMuY2xhc3MsIGlkMSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbCgicGMx\nIGlzIG51bGwgaW4gdGVzdHNoYXJlIDJuZCBmaW5kIiwgcGMxKTsKICAgICAg\nICBwYzIgPSBwbS5maW5kKEVtYmVkZGVkT3duZXJQQy5jbGFzcywgaWQyKTsK\nICAgICAgICBhc3NlcnROb3ROdWxsKCJwYzIgaXMgbnVsbCBpbiB0ZXN0c2hh\ncmUgMm5kIGZpbmQiLCBwYzIpOwogICAgICAgIGVtYmVkMSA9IHBtLmZpbmQo\nRW1iZWRkZWRQQy5jbGFzcywgb2lkLmludFZhbHVlKCkpOwoKICAgICAgICBp\nZiAoZW1iZWQxICE9IG51bGwpIHsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJlbWJlZFN0cmluZzEiLCBlbWJlZDEuZ2V0U3RyaW5nRmllbGQoKSk7CiAg\nICAgICAgICAgIGFzc2VydEVxdWFscygiZW1iZWRTdHJpbmcxIiwgcGMxLmdl\ndEVtYmVkZGVkKCkuZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAgICAgfQoKICAg\nICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RPcHRpbWlzdGljTG9ja2luZzIoKSB7CiAgICAg\nICAgRW50aXR5TWFuYWdlciBwbTEgPSBnZXRQTSh0cnVlLCBmYWxzZSk7CiAg\nICAgICAgc3RhcnRUeChwbTEpOwoKICAgICAgICBFbWJlZGRlZE93bmVyUEMg\ncGMxID0gcG0xLmZpbmQoRW1iZWRkZWRPd25lclBDLmNsYXNzLCBpZDEpOwog\nICAgICAgIGFzc2VydE5vdE51bGwoInBjMSBpcyBudWxsIGluIHRlc3RvcHRs\nb2NrMiIsIHBjMSk7CgogICAgICAgIEVudGl0eU1hbmFnZXIgcG0yID0gY3Vy\ncmVudEVudGl0eU1hbmFnZXIoKTsKCiAgICAgICAgc3RhcnRUeChwbTIpOwog\nICAgICAgIEVtYmVkZGVkT3duZXJQQyBwYzIgPSBwbTEuZmluZChFbWJlZGRl\nZE93bmVyUEMuY2xhc3MsIGlkMSk7CgogICAgICAgIGFzc2VydE5vdE51bGwo\nInBjMiBpcyBudWxsIGluIHRlc3RvcHRsb2NrMiIsIHBjMik7CgogICAgICAg\nIEVtYmVkZGVkUEMgZW1iZWQyID0gcGMyLmdldEVtYmVkZGVkKCk7CiAgICAg\nICAgZW1iZWQyLnNldFN0cmluZ0ZpZWxkKCJ4eHh4Iik7CgogICAgICAgIGVu\nZFR4KHBtMik7CiAgICAgICAgZW5kRW0ocG0yKTsKCiAgICAgICAgRW1iZWRk\nZWRQQyBlbWJlZDEgPSBwYzEuZ2V0RW1iZWRkZWQoKTsKICAgICAgICBlbWJl\nZDEuc2V0U3RyaW5nRmllbGQoInl5eXkiKTsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBlbmRUeChwbTEpOwogICAgICAgICAgICBmYWlsKCJTaG91bGQg\naGF2ZSB0aHJvd24gYW4gT0wgZXhjZXB0aW9uLiIpOwogICAgICAgIH0KICAg\nICAgICBjYXRjaCAoRXhjZXB0aW9uIG92ZSkgewogICAgICAgIH0KICAgICAg\nICBmaW5hbGx5IHsKICAgICAgICAgICAgZW5kRW0ocG0xKTsKICAgICAgICB9\nCiAgICB9Cn0=\n","encoding":"base64"}

