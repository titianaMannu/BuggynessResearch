{"sha":"cd9c95f8c37ce13a26960cd9c0de3489111ecd52","node_id":"MDQ6QmxvYjIwNjM2NDpjZDljOTVmOGMzN2NlMTNhMjY5NjBjZDljMGRlMzQ4OTExMWVjZDUy","size":4559,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cd9c95f8c37ce13a26960cd9c0de3489111ecd52","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nOwoKaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwppbXBvcnQgamF2YXgu\ncGVyc2lzdGVuY2UuQ2FzY2FkZVR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5FbnRpdHk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlN\nYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuSWQ7CmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5PbmVUb09uZTsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLlRhYmxlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5jb21tb24udXRpbHMuQWJzdHJhY3RUZXN0Q2FzZTsKCnB1Ymxp\nYyBjbGFzcyBUZXN0RUpCTG9icyBleHRlbmRzIEFic3RyYWN0VGVzdENhc2Ug\newoKICAgIHByaXZhdGUgRW50aXR5TWFuYWdlciBfcG0gPSBudWxsOwogICAg\ncHJpdmF0ZSBJbm5lciBfaW5uZXIgPSBudWxsOwoKICAgIHB1YmxpYyBUZXN0\nRUpCTG9icyhTdHJpbmcgbmFtZSkgewogICAgICAgIHN1cGVyKG5hbWUsICJr\nZXJuZWxjYWN0dXNhcHAiKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRV\ncCgpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGRlbGV0ZUFsbChJbm5l\nci5jbGFzcyk7CiAgICAgICAgZGVsZXRlQWxsKElubmVyMi5jbGFzcyk7Cgog\nICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdl\ncigpOwogICAgICAgIHN0YXJ0VHgoZW0pOwoKICAgICAgICBlbmRUeChlbSk7\nCiAgICAgICAgZW5kRW0oZW0pOwoKICAgICAgICBJbm5lciBpbm5lciA9IG5l\ndyBJbm5lcigpOwogICAgICAgIGlubmVyLnNldFN0cmluZygic3RyaW5nIik7\nCiAgICAgICAgaW5uZXIuc2V0Q2xvYigiY2xvYkZpZWxkIik7CiAgICAgICAg\naW5uZXIuc2V0RUJsb2IoImVibG9iIik7CgogICAgICAgIElubmVyMiBpbm5l\ncjIgPSBuZXcgSW5uZXIyKCk7CiAgICAgICAgaW5uZXIyLnN0cmluZyA9ICJp\nbm5lcjIiOwogICAgICAgIGlubmVyLnNldEJsb2IoaW5uZXIyKTsKCiAgICAg\nICAgX3BtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBzdGFy\ndFR4KF9wbSk7CiAgICAgICAgX3BtLnBlcnNpc3QoaW5uZXIpOwogICAgICAg\nIHRyeSB7CiAgICAgICAgICAgIGVuZFR4KF9wbSk7CiAgICAgICAgfQogICAg\nICAgIGNhdGNoIChFeGNlcHRpb24gamRvZSkgewogICAgICAgICAgICBTeXN0\nZW0ub3V0LnByaW50bG4oCiAgICAgICAgICAgICAgICAiQW4gZXhjZXB0aW9u\nIHdhcyB0aHJvd24gd2hpbGUgcGVyc2lzdGluZyB0aGUgZW50aXR5IDogXG4i\nICsKICAgICAgICAgICAgICAgICAgICBnZXRTdGFja1RyYWNlKGpkb2UpKTsK\nICAgICAgICB9CiAgICAgICAgZW5kRW0oX3BtKTsKCiAgICAgICAgX3BtID0g\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBfaW5uZXIgPSAoSW5u\nZXIpIF9wbS5maW5kKElubmVyLmNsYXNzLCAic3RyaW5nIik7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdE90aGVyRmllbGRzKCkgewogICAgICAgIGFz\nc2VydEVxdWFscygic3RyaW5nIiwgX2lubmVyLmdldFN0cmluZygpKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q2xvYigpIHsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoImNsb2JGaWVsZCIsIF9pbm5lci5nZXRDbG9iKCkpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RCbG9iKCkgewogICAgICAgIGFzc2Vy\ndE5vdE51bGwoX2lubmVyLmdldEJsb2IoKSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJpbm5lcjIiLCBfaW5uZXIuZ2V0QmxvYigpLnN0cmluZyk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdFNldE51bGwoKSB7CiAgICAgICAgc3Rh\ncnRUeChfcG0pOwogICAgICAgIF9pbm5lci5zZXRDbG9iKG51bGwpOwogICAg\nICAgIF9pbm5lci5zZXRCbG9iKG51bGwpOwogICAgICAgIGVuZFR4KF9wbSk7\nCgogICAgICAgIGFzc2VydEVxdWFscyhudWxsLCBfaW5uZXIuZ2V0QmxvYigp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMobnVsbCwgX2lubmVyLmdldENsb2Io\nKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdERlbGV0ZSgpIHsKICAg\nICAgICBkZWxldGVBbGwoSW5uZXIuY2xhc3MpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RVcGRhdGUoKSB7CiAgICAgICAgc3RhcnRUeChfcG0pOwog\nICAgICAgIF9pbm5lci5zZXRDbG9iKCJuZXd2YWx1ZSIpOwogICAgICAgIElu\nbmVyMiBpbm5lcjIgPSBuZXcgSW5uZXIyKCk7CiAgICAgICAgaW5uZXIyLnN0\ncmluZyA9ICJuZXdpbm5lcjIiOwogICAgICAgIF9pbm5lci5zZXRCbG9iKGlu\nbmVyMik7CiAgICAgICAgZW5kVHgoX3BtKTsKCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJuZXd2YWx1ZSIsIF9pbm5lci5nZXRDbG9iKCkpOwogICAgICAgIGFz\nc2VydEVxdWFscygibmV3aW5uZXIyIiwgX2lubmVyLmdldEJsb2IoKS5zdHJp\nbmcpOwogICAgfQoKICAgIEBFbnRpdHkKICAgIEBUYWJsZShuYW1lID0gImlu\nbnRhYmxlIikKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgSW5uZXIgewoKICAg\nICAgICBASWQKICAgICAgICBwcml2YXRlIFN0cmluZyBzdHJpbmcgPSBudWxs\nOwogICAgICAgIHByaXZhdGUgU3RyaW5nIGNsb2JGaWVsZCA9IG51bGw7CiAg\nICAgICAgcHJpdmF0ZSBPYmplY3QgZWJsb2IgPSBudWxsOwoKICAgICAgICBA\nT25lVG9PbmUoY2FzY2FkZSA9IHsgQ2FzY2FkZVR5cGUuUEVSU0lTVCwgQ2Fz\nY2FkZVR5cGUuUkVNT1ZFIH0pCiAgICAgICAgcHJpdmF0ZSBJbm5lcjIgYmxv\nYkZpZWxkID0gbnVsbDsKCiAgICAgICAgcHVibGljIFN0cmluZyBnZXRTdHJp\nbmcoKSB7CiAgICAgICAgICAgIHJldHVybiBzdHJpbmc7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgdm9pZCBzZXRTdHJpbmcoU3RyaW5nIHZhbCkgewog\nICAgICAgICAgICBzdHJpbmcgPSB2YWw7CiAgICAgICAgfQoKICAgICAgICBw\ndWJsaWMgU3RyaW5nIGdldENsb2IoKSB7CiAgICAgICAgICAgIHJldHVybiBj\nbG9iRmllbGQ7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBzZXRD\nbG9iKFN0cmluZyB2YWwpIHsKICAgICAgICAgICAgY2xvYkZpZWxkID0gdmFs\nOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIFN0cmluZyBnZXRFQmxvYigp\nIHsKICAgICAgICAgICAgcmV0dXJuICgoU3RyaW5nKSBlYmxvYik7CiAgICAg\nICAgfQoKICAgICAgICBwdWJsaWMgdm9pZCBzZXRFQmxvYihTdHJpbmcgdmFs\nKSB7CiAgICAgICAgICAgIGVibG9iID0gdmFsOwogICAgICAgIH0KCiAgICAg\nICAgcHVibGljIElubmVyMiBnZXRCbG9iKCkgewogICAgICAgICAgICByZXR1\ncm4gYmxvYkZpZWxkOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHZvaWQg\nc2V0QmxvYihJbm5lcjIgdmFsKSB7CiAgICAgICAgICAgIGJsb2JGaWVsZCA9\nIHZhbDsKICAgICAgICB9CiAgICB9CgogICAgQFN1cHByZXNzV2FybmluZ3Mo\nInNlcmlhbCIpCiAgICBARW50aXR5CiAgICBAVGFibGUobmFtZT0iSW5uZXIy\nIikKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgSW5uZXIyIGltcGxlbWVudHMg\nU2VyaWFsaXphYmxlIHsKCiAgICAgICAgQElkCiAgICAgICAgcHVibGljIFN0\ncmluZyBzdHJpbmcgPSBudWxsOwoKICAgICAgICBwdWJsaWMgU3RyaW5nIGdl\ndFN0cmluZygpIHsKICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAg\nICB9CgogICAgICAgIHB1YmxpYyB2b2lkIHNldFN0cmluZyhTdHJpbmcgc3Ry\naW5nKSB7CiAgICAgICAgICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nOwogICAg\nICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

