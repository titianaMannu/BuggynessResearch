{"sha":"82294f86a86f6b035331fddf7376efaa604feee5","node_id":"MDQ6QmxvYjIwNjM2NDo4MjI5NGY4NmE4NmY2YjAzNTMzMWZkZGY3Mzc2ZWZhYTYwNGZlZWU1","size":3044,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/82294f86a86f6b035331fddf7376efaa604feee5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UuRW50aXR5TWFuYWdlcjsKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5SdW50aW1lVGVz\ndDE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29t\nbW9uLnV0aWxzLkFic3RyYWN0VGVzdENhc2U7CgpwdWJsaWMgY2xhc3MgVGVz\ndEVKQlJldGFpblZhbHVlcyBleHRlbmRzIEFic3RyYWN0VGVzdENhc2UgewoK\nICAgIHB1YmxpYyBUZXN0RUpCUmV0YWluVmFsdWVzKFN0cmluZyB0ZXN0TmFt\nZSkgewogICAgICAgIHN1cGVyKHRlc3ROYW1lLCAia2VybmVsY2FjdHVzYXBw\nIik7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAg\nZGVsZXRlQWxsKFJ1bnRpbWVUZXN0MS5jbGFzcyk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiB0ZXN0cyB0aGUgYmVoYXZpb3Igb2YgdGhlIHNhbWUgb2JqZWN0\nIGJlaW5nIHZpZXdlZCBmcm9tCiAgICAgKiBkaWZmZXJlbnQgUGVyc2lzdGVu\nY2VNYW5hZ2VycyB3aXRoIFJldGFpblZhbHVlcyBzZXQgdG8gdHJ1ZQogICAg\nICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmV0YWluVmFsdWVzKCkgewogICAg\nICAgIC8vIHBlcnNpc3QgdGhlIG9iamVjdCB3aXRoIGZpZWxkID09ICJ4Igog\nICAgICAgIFJ1bnRpbWVUZXN0MSB0ZXN0ID0gbmV3IFJ1bnRpbWVUZXN0MSgp\nOwogICAgICAgIHRlc3Quc2V0U3RyaW5nRmllbGQoIngiKTsKICAgICAgICBF\nbnRpdHlNYW5hZ2VyIHBtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAg\nICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwbS5wZXJzaXN0KHRlc3QpOwog\nICAgICAgIGVuZFR4KHBtKTsKCiAgICAgICAgLy8JZmluZCB0aGUgb2JqZWN0\nIGluIGEgZGlmZmVyZW50IFBNCiAgICAgICAgRW50aXR5TWFuYWdlciBwbTIg\nPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIExpc3QgbCA9IChi\ndWlsZFNlbGVjdFF1ZXJ5KHBtMiwgIngiKSk7CiAgICAgICAgYXNzZXJ0Tm90\nTnVsbCgibCBpcyBudWxsIGluIHRlc3RSZXRhaW5WYWx1ZXMiLCBsKTsKICAg\nICAgICBSdW50aW1lVGVzdDEgc2FtZVRoaW5nID0gKFJ1bnRpbWVUZXN0MSkg\nbC5pdGVyYXRvcigpLm5leHQoKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ4\nIiwgc2FtZVRoaW5nLmdldFN0cmluZ0ZpZWxkKCkpOwogICAgICAgIGFzc2Vy\ndEVxdWFscygieCIsIHRlc3QuZ2V0U3RyaW5nRmllbGQoKSk7CgogICAgICAg\nIC8vCXNldCB0aGUgc2Vjb25kIG9iamVjdCBmaWVsZCB0byAieSIKICAgICAg\nICBzdGFydFR4KHBtMik7CiAgICAgICAgc2FtZVRoaW5nLnNldFN0cmluZ0Zp\nZWxkKCJ5Iik7CiAgICAgICAgZW5kVHgocG0yKTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoInkiLCBzYW1lVGhpbmcuZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKCJ4IiwgdGVzdC5nZXRTdHJpbmdGaWVsZCgpKTsK\nCiAgICAgICAgLy8JZG8gc29tZSBzZWFyY2hpbmcgaW4gdGhlIGZpcnN0IFBN\nCiAgICAgICAgTGlzdCBsMiA9IGJ1aWxkU2VsZWN0UXVlcnkocG0sICJ4Iik7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsCiAgICAgICAgICAgIGwyLnNpemUo\nKSk7ICAvL3Nob3VsZCBiZSB6ZXJvIGlmIHJldGFpbnZhbHVlIGlzIHNldCB0\nbyB0cnVlIGJ1dCB0aGF0IGlzIGtvZG8gc3BlY2lmaWMuCgogICAgICAgIExp\nc3QgbDMgPSBidWlsZFNlbGVjdFF1ZXJ5KHBtLCAieSIpOwogICAgICAgIGFz\nc2VydEVxdWFscygxLCBsMy5zaXplKCkpOwogICAgICAgIGFzc2VydEVxdWFs\ncyh0ZXN0LCBsMy5pdGVyYXRvcigpLm5leHQoKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ4IiwgdGVzdC5nZXRTdHJpbmdGaWVsZCgpKTsKCiAgICAgICAg\nZW5kRW0ocG0yKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVi\nbGljIHN0YXRpYyBMaXN0IGJ1aWxkU2VsZWN0UXVlcnkoRW50aXR5TWFuYWdl\nciBlbSwgU3RyaW5nIHBhcmFtKSB7CiAgICAgICAgcmV0dXJuIGVtLmNyZWF0\nZVF1ZXJ5KAogICAgICAgICAgICAiU0VMRUNUIGMgRlJPTSBSdW50aW1lVGVz\ndDEgYyB3aGVyZSBjLnN0cmluZ0ZpZWxkID0gOnVzZXJuYW1lIikKICAgICAg\nICAgICAgLnNldFBhcmFtZXRlcigidXNlcm5hbWUiLCBwYXJhbSkKICAgICAg\nICAgICAgLmdldFJlc3VsdExpc3QoKTsKCX0KfQo=\n","encoding":"base64"}

