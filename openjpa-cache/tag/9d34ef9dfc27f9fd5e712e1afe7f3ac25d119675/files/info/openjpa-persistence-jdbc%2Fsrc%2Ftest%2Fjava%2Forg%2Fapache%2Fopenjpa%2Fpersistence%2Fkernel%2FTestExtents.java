{"sha":"60b63c37fb8af246db0f596136ac3b116efe173f","node_id":"MDQ6QmxvYjIwNjM2NDo2MGI2M2MzN2ZiOGFmMjQ2ZGIwZjU5NjEzNmFjM2IxMTZlZmUxNzNm","size":3683,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/60b63c37fb8af246db0f596136ac3b116efe173f","content":"LyoKICogVGVzdEV4dGVudHMuamF2YQogKgogKiBDcmVhdGVkIG9uIE9jdG9i\nZXIgMTAsIDIwMDYsIDQ6MzQgUE0KICoKICogVG8gY2hhbmdlIHRoaXMgdGVt\ncGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRlIE1hbmFnZXIKICogYW5k\nIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0b3IuCiAqLwoKLyoKICog\nTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChB\nU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2Ug\nYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJpYnV0\nZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24K\nICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxp\nY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBM\naWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlvdSBt\nYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKICog\nd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0\naGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGlj\nZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFw\ncGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0\nd2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmli\ndXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJ\nRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJl\nc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNw\nZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGlt\naXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8KcGFja2Fn\nZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsOwoKaW1w\nb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkl0\nZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxpbmtlZExpc3Q7CmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsKCgoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUnVudGltZVRlc3QxOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5j\nb21tb24uYXBwcy5SdW50aW1lVGVzdDI7CgppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLkV4dGVudDsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKCnB1\nYmxpYyBjbGFzcyBUZXN0RXh0ZW50cyBleHRlbmRzIEJhc2VLZXJuZWxUZXN0\nIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2Yg\nVGVzdEV4dGVudHMKICAgICAqLwogICAgcHVibGljIFRlc3RFeHRlbnRzKCkg\newogICAgfQoKICAgIHB1YmxpYyBUZXN0RXh0ZW50cyhTdHJpbmcgbmFtZSkg\newogICAgICAgIHN1cGVyKG5hbWUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFVwKCkgewogICAgICAgIGRlbGV0ZUFsbChSdW50aW1lVGVzdDEuY2xh\nc3MpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBN\nKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIFJ1bnRpbWVUZXN0\nMSBiID0gbmV3IFJ1bnRpbWVUZXN0MSgiU1RSSU5HIiwgMTApOwogICAgICAg\nIFJ1bnRpbWVUZXN0MiBjID0gbmV3IFJ1bnRpbWVUZXN0MigiU1RSSU5HMiIs\nIDExKTsKICAgICAgICBwbS5wZXJzaXN0KGIpOwogICAgICAgIHBtLnBlcnNp\nc3QoYyk7CgogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEV4dGVudDEoKSB7CgogICAg\nICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAg\nICBFeHRlbnQgZXh0ID0gcG0uY3JlYXRlRXh0ZW50KFJ1bnRpbWVUZXN0MS5j\nbGFzcywgZmFsc2UpOwoKICAgICAgICBhc3NlcnRFcXVhbHMocG0sIGV4dC5n\nZXRFbnRpdHlNYW5hZ2VyKCkpOwoKICAgICAgICBhc3NlcnRFcXVhbHMoUnVu\ndGltZVRlc3QxLmNsYXNzLCBleHQuZ2V0RWxlbWVudENsYXNzKCkpOwogICAg\nICAgIGFzc2VydFRydWUoIWV4dC5oYXNTdWJjbGFzc2VzKCkpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3RFeHRlbnQyKCkgewogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBFeHRlbnQg\nZXh0ID0gcG0uY3JlYXRlRXh0ZW50KFJ1bnRpbWVUZXN0MS5jbGFzcywgZmFs\nc2UpOwoKICAgICAgICBib29sZWFuIGZvdW5kID0gZmFsc2U7CiAgICAgICAg\nZm9yIChJdGVyYXRvciBpID0gZXh0Lml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgp\nOyBmb3VuZCA9IHRydWUpCiAgICAgICAgICAgIGFzc2VydEVxdWFscyhSdW50\naW1lVGVzdDEuY2xhc3MsIGkubmV4dCgpLmdldENsYXNzKCkpOwogICAgICAg\nIGFzc2VydFRydWUoZm91bmQpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RFeHRlbnQzKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBt\nID0gZ2V0UE0oKTsKICAgICAgICBFeHRlbnQgZXh0ID0gcG0uY3JlYXRlRXh0\nZW50KFJ1bnRpbWVUZXN0MS5jbGFzcywgdHJ1ZSk7CgogICAgICAgIGJvb2xl\nYW4gZm91bmRCID0gZmFsc2U7CiAgICAgICAgZm9yIChJdGVyYXRvciBpID0g\nZXh0Lml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgpOykKICAgICAgICAgICAgaWYg\nKGkubmV4dCgpLmdldENsYXNzKCkuZXF1YWxzKFJ1bnRpbWVUZXN0Mi5jbGFz\ncykpCiAgICAgICAgICAgICAgICBmb3VuZEIgPSB0cnVlOwogICAgICAgIGFz\nc2VydFRydWUoZm91bmRCKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nRXh0ZW50NCgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nIGdldFBNKCk7CiAgICAgICAgRXh0ZW50IGV4dCA9IChFeHRlbnQpIHBtLmNy\nZWF0ZUV4dGVudChSdW50aW1lVGVzdDEuY2xhc3MsIHRydWUpOwoKICAgICAg\nICBMaXN0IGFsbCA9IG5ldyBMaW5rZWRMaXN0KCk7CiAgICAgICAgZm9yIChJ\ndGVyYXRvciBpID0gZXh0Lml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgpOykKICAg\nICAgICAgICAgYWxsLmFkZChpLm5leHQoKSk7CgogICAgICAgIExpc3QgYUxp\nc3QgPSBleHQubGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscyhhbGwuc2l6\nZSgpLCBhTGlzdC5zaXplKCkpOwogICAgICAgIGFzc2VydENvbnRhaW5zU2Ft\nZShhbGwsIGFMaXN0KTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgYXNzZXJ0\nQ29udGFpbnNTYW1lKExpc3QgbCwgQ29sbGVjdGlvbiBjKSB7CiAgICAgICAg\naW50IHNpemUgPSAwOwogICAgICAgIGZvciAoSXRlcmF0b3IgaXRlciA9IGMu\naXRlcmF0b3IoKTsgaXRlci5oYXNOZXh0KCk7IGl0ZXIubmV4dCgpKQogICAg\nICAgICAgICBzaXplKys7CgogICAgICAgIGFzc2VydEVxdWFscyhsLnNpemUo\nKSwgc2l6ZSk7CgogICAgICAgIGZvciAoSXRlcmF0b3IgaXRlciA9IGwuaXRl\ncmF0b3IoKTsgaXRlci5oYXNOZXh0KCk7KQogICAgICAgICAgICBhc3NlcnRU\ncnVlKGMuY29udGFpbnMoaXRlci5uZXh0KCkpKTsKICAgIH0KfQo=\n","encoding":"base64"}

