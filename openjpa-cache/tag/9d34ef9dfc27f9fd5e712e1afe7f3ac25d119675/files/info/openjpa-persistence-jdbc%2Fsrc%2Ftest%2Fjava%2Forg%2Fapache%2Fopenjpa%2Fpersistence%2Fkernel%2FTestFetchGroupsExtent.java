{"sha":"9823033d58260337036b72bcde19db4435d2a318","node_id":"MDQ6QmxvYjIwNjM2NDo5ODIzMDMzZDU4MjYwMzM3MDM2YjcyYmNkZTE5ZGI0NDM1ZDJhMzE4","size":3008,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9823033d58260337036b72bcde19db4435d2a318","content":"LyoKICogVGVzdEZldGNoR3JvdXBzRXh0ZW50LmphdmEKICoKICogQ3JlYXRl\nZCBvbiBPY3RvYmVyIDEyLCAyMDA2LCA5OjU0IEFNCiAqCiAqIFRvIGNoYW5n\nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5h\nZ2VyCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgog\nKi8KLyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNo\nZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVp\ncmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5n\nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBp\ncyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VU\nIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0\naGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3Ig\ndGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9u\ncyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAog\nKi8KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2Vy\nbmVsOwoKaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2\nYS51dGlsLkxpc3Q7CgoKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLkZldGNoR3JvdXBUZXN0T2Jq\nZWN0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtl\ncm5lbC5jb21tb24uYXBwcy5GZXRjaEdyb3VwVGVzdE9iamVjdENoaWxkOwoK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5FeHRlbnQ7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQ\nQUVudGl0eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5OwoKcHVibGljIGNsYXNzIFRlc3RGZXRj\naEdyb3Vwc0V4dGVudCBleHRlbmRzIFRlc3RGZXRjaEdyb3VwcyB7CgogICAg\nLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RGZXRj\naEdyb3Vwc0V4dGVudAogICAgICovCiAgICBwdWJsaWMgVGVzdEZldGNoR3Jv\ndXBzRXh0ZW50KCkgewogICAgfQoKICAgIHB1YmxpYyBUZXN0RmV0Y2hHcm91\ncHNFeHRlbnQoU3RyaW5nIHMpIHsKICAgICAgICBzdXBlcihzKTsKICAgIH0K\nCiAgICBwcm90ZWN0ZWQgRmV0Y2hHcm91cFRlc3RPYmplY3QgZ2V0TzEoT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0pIHsKICAgICAgICBFeHRlbnQgZSA9IChF\neHRlbnQpIHBtLmNyZWF0ZUV4dGVudChGZXRjaEdyb3VwVGVzdE9iamVjdC5j\nbGFzcywKICAgICAgICAgICAgdHJ1ZSk7CiAgICAgICAgTGlzdCBsID0gZS5s\naXN0KCk7CgogICAgICAgIE9wZW5KUEFRdWVyeSBxID0gcG0uY3JlYXRlUXVl\ncnkoCiAgICAgICAgICAgICJTRUxFQ1QgbyBGUk9NIEZldGNoR3JvdXBUZXN0\nT2JqZWN0IG8gV0hFUkUgby5hID0gNSIpOwogICAgICAgIHEuc2V0Q2FuZGlk\nYXRlQ29sbGVjdGlvbihsKTsKCiAgICAgICAgcmV0dXJuIChGZXRjaEdyb3Vw\nVGVzdE9iamVjdCkKICAgICAgICAgICAgKChDb2xsZWN0aW9uKSBxLmdldFJl\nc3VsdExpc3QoKSkuaXRlcmF0b3IoKS5uZXh0KCk7CiAgICB9CgogICAgcHJv\ndGVjdGVkIEZldGNoR3JvdXBUZXN0T2JqZWN0IGdldE8yKE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIHBtKSB7CiAgICAgICAgRXh0ZW50IGUgPSAoRXh0ZW50KSBw\nbS5jcmVhdGVFeHRlbnQoRmV0Y2hHcm91cFRlc3RPYmplY3QuY2xhc3MsCiAg\nICAgICAgICAgIHRydWUpOwogICAgICAgIExpc3QgbCA9IGUubGlzdCgpOwoK\nICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KAogICAg\nICAgICAgICAiU0VMRUNUIG8gRlJPTSBGZXRjaEdyb3VwVGVzdE9iamVjdCBv\nIFdIRVJFIG8uYSA9IDMiKTsKICAgICAgICBxLnNldENhbmRpZGF0ZUNvbGxl\nY3Rpb24obCk7CgogICAgICAgIHJldHVybiAoRmV0Y2hHcm91cFRlc3RPYmpl\nY3QpCiAgICAgICAgICAgICgoQ29sbGVjdGlvbikgcS5nZXRSZXN1bHRMaXN0\nKCkpLml0ZXJhdG9yKCkubmV4dCgpOwogICAgfQoKICAgIHByb3RlY3RlZCBG\nZXRjaEdyb3VwVGVzdE9iamVjdENoaWxkIGdldEMxKE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtKSB7CiAgICAgICAgRXh0ZW50IGUgPSAoRXh0ZW50KSBwbS5j\ncmVhdGVFeHRlbnQoRmV0Y2hHcm91cFRlc3RPYmplY3QuY2xhc3MsCiAgICAg\nICAgICAgIHRydWUpOwogICAgICAgIExpc3QgbCA9IGUubGlzdCgpOwoKICAg\nICAgICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KAogICAgICAg\nICAgICAiU0VMRUNUIG8gRlJPTSBGZXRjaEdyb3VwVGVzdE9iamVjdENoaWxk\nIG8gV0hFUkUgby5hID0gNCIpOwogICAgICAgIHEuc2V0Q2FuZGlkYXRlQ29s\nbGVjdGlvbihsKTsKCiAgICAgICAgcmV0dXJuIChGZXRjaEdyb3VwVGVzdE9i\namVjdENoaWxkKQogICAgICAgICAgICAoKENvbGxlY3Rpb24pIHEuZ2V0UmVz\ndWx0TGlzdCgpKS5pdGVyYXRvcigpLm5leHQoKTsKICAgIH0KfQo=\n","encoding":"base64"}

