{"sha":"207f7971c14d438dd27d49b15be16a1065f1bc51","node_id":"MDQ6QmxvYjIwNjM2NDoyMDdmNzk3MWMxNGQ0MzhkZDI3ZDQ5YjE1YmUxNmExMDY1ZjFiYzUx","size":20081,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/207f7971c14d438dd27d49b15be16a1065f1bc51","content":"LyoKICogVGVzdEZldGNoUGxhbi5qYXZhCiAqCiAqIENyZWF0ZWQgb24gT2N0\nb2JlciAxNiwgMjAwNiwgMzowMiBQTQogKgogKiBUbyBjaGFuZ2UgdGhpcyB0\nZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFuYWdlcgogKiBh\nbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4KICovCi8qCiAq\nIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAo\nQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNl\nIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1\ndGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9u\nCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBs\naWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUg\nTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3Ug\nbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAq\nIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Yg\ndGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xp\nY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBh\ncHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29m\ndHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJp\nYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5U\nSUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHBy\nZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBz\ncGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxp\nbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICovCnBhY2th\nZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbDsKCmlt\ncG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuTGlz\ndDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CgoKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUENBZGRy\nZXNzOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtl\ncm5lbC5jb21tb24uYXBwcy5QQ0NvbXBhbnk7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLlBDQ291\nbnRyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5r\nZXJuZWwuY29tbW9uLmFwcHMuUENEZXBhcnRtZW50OwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5Q\nQ0RpcmVjdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUENFbXBsb3llZTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFw\ncHMuUENGaWxlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmtlcm5lbC5jb21tb24uYXBwcy5QQ1BlcnNvbjsKCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuRmV0Y2hQbGFuOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLk9wZW5KUEFRdWVyeTsKCnB1YmxpYyBjbGFzcyBUZXN0RmV0Y2hQbGFuIGV4\ndGVuZHMgQmFzZUtlcm5lbFRlc3QgewoKICAgIHN0YXRpYyBPYmplY3QgX3Jv\nb3REaXJJZDsKICAgIHN0YXRpYyBPYmplY3QgX3Jvb3RDb21wYW55SWQ7Cgog\nICAgc3RhdGljIGZpbmFsIGludCBNQVhfREVQVEggPSA1OyAvLyBNYXhpbXVt\nIGRlcHRoIG9mIHRoZSBkaXJlY3RvcmllcwogICAgc3RhdGljIGZpbmFsIGlu\ndCBNQVhfQ0hJTEQgPSAzOyAvLyBNYXhpbXVtIG51bWJlciBvZiBmaWxlcy9k\naXJlY3RvcnkKICAgIHN0YXRpYyBmaW5hbCBTdHJpbmcgcXVvdGUgPSAiXCIi\nOwogICAgcHJpdmF0ZSBzdGF0aWMgYm9vbGVhbiBmaXJzdFRpbWUgPSB0cnVl\nOwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBU\nZXN0RmV0Y2hQbGFuCiAgICAgKi8KICAgIHB1YmxpYyBUZXN0RmV0Y2hQbGFu\nKCkgewogICAgfQoKICAgIHB1YmxpYyBUZXN0RmV0Y2hQbGFuKFN0cmluZyBu\nYW1lKSB7CiAgICAgICAgc3VwZXIobmFtZSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBDbGVhcnMgcGFzdCBkYXRhIGFuZCBjcmVhdGVzIG5ldyBkYXRhIGZv\nciB0ZXN0LgogICAgICogQ2xlYXIgdGVzdCBkYXRhIGJlZm9yZSBhbmQgbm90\nIDxlbT5hZnRlcjwvZW0+IHN1Y2ggdGhhdCBvbmUgY2FuIGFuYWx5emUKICAg\nICAqIHRoZSBkYXRhYmFzZSBmb3IgdGVzdCBmYWlsdXJlcy4KICAgICAqLwog\nICAgcHVibGljIHZvaWQgc2V0VXAoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBpZiAoZmlyc3RUaW1lKSB7CiAgICAgICAgICAgIGZpcnN0VGltZSA9\nIGZhbHNlOwogICAgICAgICAgICBjbGVhclRlc3REYXRhKCk7CiAgICAgICAg\nICAgIGNyZWF0ZVRlc3REYXRhKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogQ3JlYXRlIGEgZGlyZWN0b3J5IHRyZWUgb2YgTUFYX0RFUFRI\nIHdpdGggZWFjaCBkaXJlY3RvcnkgaGF2aW5nIGEgc2luZ2xlCiAgICAgKiBk\naXJlY3RvcnkgYW5kIE1BWF9DSElMRCBmaWxlcy4KICAgICAqIENyZWF0ZXMg\ndHlwaWNhbCBFbXBsb3llZS1EZXBhcnRtZW50LUNvbXBhbnktQWRkcmVzcyBp\nbnN0YW5jZXMuCiAgICAgKgogICAgICogQHJldHVybiB0aGUgcGVyc2l0ZW50\nIGlkZW50aWZpZXIgb2YgdGhlIHJvb3QgZGlyZWN0b3J5LgogICAgICovCiAg\nICB2b2lkIGNyZWF0ZVRlc3REYXRhKCkgewogICAgICAgIC8vIGNyZWF0ZSBh\nIHRyZWUgb2YgZGlyZWN0b3JpZXMgd2l0aCBmaWxlcyBpbiB0aGVtCiAgICAg\nICAgUENEaXJlY3Rvcnkgcm9vdERpciA9IG5ldyBQQ0RpcmVjdG9yeShnZXRE\naXJlY3RvcnlOYW1lKDApKTsKICAgICAgICBQQ0RpcmVjdG9yeSBwYXJlbnQg\nPSByb290RGlyOwogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDw9IE1BWF9E\nRVBUSDsgaSsrKSB7CiAgICAgICAgICAgIFBDRGlyZWN0b3J5IGRpciA9IG5l\ndyBQQ0RpcmVjdG9yeShnZXREaXJlY3RvcnlOYW1lKGkpKTsKICAgICAgICAg\nICAgcGFyZW50LmFkZChkaXIpOwoKICAgICAgICAgICAgZm9yIChpbnQgaiA9\nIDA7IGogPCBNQVhfQ0hJTEQ7IGorKykKICAgICAgICAgICAgICAgIHBhcmVu\ndC5hZGQoZ2V0RmlsZU5hbWUoaikpOwoKICAgICAgICAgICAgcGFyZW50ID0g\nZGlyOwogICAgICAgIH0KCiAgICAgICAgLy8gY3JlYXRlIGEgZ3JhcGgKICAg\nICAgICAvLyAgICAgIHwgLS0tYWRkcmVzcy1jb3VudHJ5CiAgICAgICAgLy8g\nICAgICB8CiAgICAgICAgLy8gIGNvbXBhbnktZGVwdC1lbXBsb3llZS1hZGRy\nZXNzLWNvdW50cnkKICAgICAgICAvLwogICAgICAgIFBDQ291bnRyeSBjb3Vu\ndHJ5MSA9IG5ldyBQQ0NvdW50cnkoIjEwMCIsICJFbXBsb3llZSAxIENvdW50\ncnkiKTsKICAgICAgICBQQ0NvdW50cnkgY291bnRyeTIgPSBuZXcgUENDb3Vu\ndHJ5KCIyMDAiLCAiRW1wbG95ZWUgMiBDb3VudHJ5Iik7CiAgICAgICAgUEND\nb3VudHJ5IGNjb3VudHJ5ID0gbmV3IFBDQ291bnRyeSgiMzAwIiwgIkNvbXBh\nbnkgQ291bnRyeSIpOwoKICAgICAgICBQQ0NvbXBhbnkgY29tcGFueSA9IG5l\ndyBQQ0NvbXBhbnkoIkNvbXBhbnkiKTsKCiAgICAgICAgUENEZXBhcnRtZW50\nIGRlcHQxID0gbmV3IFBDRGVwYXJ0bWVudCgiRGVwYXJ0bWVudDEiKTsKICAg\nICAgICBQQ0RlcGFydG1lbnQgZGVwdDIgPSBuZXcgUENEZXBhcnRtZW50KCJE\nZXBhcnRtZW50MiIpOwoKICAgICAgICBQQ0VtcGxveWVlIGVtcDEgPSBuZXcg\nUENFbXBsb3llZSgiRW1wbG95ZWUxIik7CiAgICAgICAgUENFbXBsb3llZSBl\nbXAyID0gbmV3IFBDRW1wbG95ZWUoIkVtcGxveWVlMiIpOwoKICAgICAgICBQ\nQ0FkZHJlc3MgYWRkcjEgPSBuZXcgUENBZGRyZXNzKCJTdHJlZXQxIiwgImNp\ndHkxIiwgY291bnRyeTEpOwogICAgICAgIFBDQWRkcmVzcyBhZGRyMiA9IG5l\ndyBQQ0FkZHJlc3MoIlN0cmVldDIiLCAiY2l0eTIiLCBjb3VudHJ5Mik7CiAg\nICAgICAgUENBZGRyZXNzIGNhZGRyID0gbmV3IFBDQWRkcmVzcygiU3RyZWV0\nMyIsICJjaXR5MyIsIGNjb3VudHJ5KTsKCiAgICAgICAgZGVwdDEuYWRkRW1w\nbG95ZWUoZW1wMSk7CiAgICAgICAgZGVwdDIuYWRkRW1wbG95ZWUoZW1wMik7\nCgogICAgICAgIGNvbXBhbnkuYWRkRGVwYXJ0bWVudChkZXB0MSk7CiAgICAg\nICAgY29tcGFueS5hZGREZXBhcnRtZW50KGRlcHQyKTsKCiAgICAgICAgY29t\ncGFueS5zZXRBZGRyZXNzKGNhZGRyKTsKCiAgICAgICAgZW1wMS5zZXRBZGRy\nZXNzKGFkZHIxKTsKICAgICAgICBlbXAyLnNldEFkZHJlc3MoYWRkcjIpOwoK\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKCk7CiAg\nICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgcG0ucGVyc2lzdChyb290RGly\nKTsKICAgICAgICBwbS5wZXJzaXN0KGNvbXBhbnkpOwovLyAgICAgICAgX3Jv\nb3REaXJJZCAgICAgPSBwbS5nZXRPYmplY3RJZChyb290RGlyKTsKICAgICAg\nICBfcm9vdERpcklkID0gcm9vdERpci5nZXRJZCgpOwogICAgICAgIGFzc2Vy\ndE5vdE51bGwoX3Jvb3REaXJJZCk7Ci8vICAgICAgICBfcm9vdENvbXBhbnlJ\nZCA9IHBtLmdldE9iamVjdElkKGNvbXBhbnkpOwogICAgICAgIF9yb290Q29t\ncGFueUlkID0gY29tcGFueS5nZXRJZCgpOwogICAgICAgIGFzc2VydE5vdE51\nbGwoX3Jvb3RDb21wYW55SWQpOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAg\nICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0IHRoYXQg\ndGhlIHNpbmdsZSB2YWx1ZWQgZmllbGQgKF9wYXJlbnQpIGlzIG5vdCB0cmF2\nZXJzZWQgd2hlbiB0aGUKICAgICAqIGZlY3RoIGdyb3VwIHNlbGVjdHMgb25s\neSB0aGUgX25hbWUgZmllbGQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRl\nc3RaZXJvUmVjdXJzaW9uRGVwdGhTaW5nbGVWYWx1ZWRGaWVsZCgpIHsKICAg\nICAgICBnZW5lcmljVGVzdEZvclNpbmdsZVZhbHVlZFJlY3Vyc2l2ZUZpZWxk\nKCJuYW1lIiwgNCwgMCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0IHRo\nYXQgdGhlIHNpbmdsZSB2YWx1ZWQgZmllbGQgKF9wYXJlbnQpIGlzIHRyYXZl\ncnNlZCBvbmNlIGFuZCBvbmx5CiAgICAgKiBvbmNlIHdoZW4gdGhlIGZlY3Ro\nIGdyb3VwIHNlbGVjdHMgdGhlIF9wYXJlbnQgZmllbGQgd2l0aCByZWN1cnNp\nb24gZGVwdGgKICAgICAqIG9mIDEgKGRlZmF1bHQpLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0T25lUmVjdXJzaW9uRGVwdGhTaW5nbGVWYWx1ZWRG\naWVsZCgpIHsKICAgICAgICBnZW5lcmljVGVzdEZvclNpbmdsZVZhbHVlZFJl\nY3Vyc2l2ZUZpZWxkKCJuYW1lK3BhcmVudCIsIDQsIDEpOwogICAgfQoKICAg\nIC8qKgogICAgICogVGVzdCB0aGF0IHRoZSBzaW5nbGUgdmFsdWVkIGZpZWxk\nIChfcGFyZW50KSBpcyB0cmF2ZXJzZWQgdHdpY2UgYW5kIG9ubHkKICAgICAq\nIHR3aWNlIHdoZW4gdGhlIGZlY3RoIGdyb3VwIHNlbGVjdHMgdGhlIF9wYXJl\nbnQgZmllbGQgd2l0aCByZWN1cnNpb24gZGVwdGgKICAgICAqIG9mIDIuCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RUd29SZWN1cnNpb25EZXB0aFNp\nbmdsZVZhbHVlZEZpZWxkKCkgewogICAgICAgIGdlbmVyaWNUZXN0Rm9yU2lu\nZ2xlVmFsdWVkUmVjdXJzaXZlRmllbGQoIm5hbWUrcGFyZW50K2dyYW5kcGFy\nZW50IiwKICAgICAgICAgICAgNCwgMik7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdFRocmVlUmVjdXJzaW9uRGVwdGhTaW5nbGVWYWx1ZWRGaWVsZCgp\nIHsKICAgICAgICBnZW5lcmljVGVzdEZvclNpbmdsZVZhbHVlZFJlY3Vyc2l2\nZUZpZWxkCiAgICAgICAgICAgICgibmFtZStwYXJlbnQrZ3JhbmRwYXJlbnQr\nZ3JlYXRncmFuZHBhcmVudCIsIDQsIDMpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RJbmZpbml0ZVJlY3Vyc2lvbkRlcHRoU2luZ2xlVmFsdWVkRmll\nbGQoKSB7CiAgICAgICAgZ2VuZXJpY1Rlc3RGb3JTaW5nbGVWYWx1ZWRSZWN1\ncnNpdmVGaWVsZCgiYWxscGFyZW50cyIsIDQsIC0xKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIEdlbmVyaWNhbGx5IHRlc3RzIHJlY3Vyc2l2ZSB0cmF2ZXJz\nYWwgb2Ygc2luZ2xlLXZhbHVlZCBwYXJlbnQgZmllbGQuCiAgICAgKgogICAg\nICogQHBhcmFtIHBsYW4gYSBwbGFuIHRoYXQgZmV0Y2hlcyBMIHBhcmVudHMg\nYW5kIG5vIGNoaWxkcmVuCiAgICAgKiBAcGFyYW0gcmQgdGhlIHJlY3Vyc2lv\nbiBkZXB0aCBvZiBkaXJlY3RvcnkgZnJvbSB0aGUgcm9vdAogICAgICogQHBh\ncmFtIGZkIHRoZSBmZXRjaCBkZXB0aCA9IG51bWJlciBvZiBwYXJlbnRzIGZl\ndGNoZWQKICAgICAqLwogICAgcHVibGljIHZvaWQgZ2VuZXJpY1Rlc3RGb3JT\naW5nbGVWYWx1ZWRSZWN1cnNpdmVGaWVsZChTdHJpbmcgcGxhbiwgaW50IHJk\nLAogICAgICAgIGludCBmZCkgewogICAgICAgIFBDRGlyZWN0b3J5IHJlc3Vs\ndCA9IHF1ZXJ5RGlyZWN0b3J5V2l0aFBsYW4ocGxhbiwgcmQsIGZkKTsKCiAg\nICAgICAgY2hlY2tQYXJlbnRzKHJlc3VsdCwgcmQsIGZkKTsKCiAgICAgICAg\nT2JqZWN0IGNoaWxkcmVuID0gUENEaXJlY3RvcnkucmVmbGVjdChyZXN1bHQs\nICJfY2hpbGRyZW4iKTsKICAgICAgICBhc3NlcnROdWxsKGNoaWxkcmVuKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFF1ZXJ5IHRvIG9idGFpbiBhIHNpbmds\nZSBkaXJlY3RvcnkgYXQgdGhlIGdpdmVuIGRlcHRoLgogICAgICogVGhlIGRp\ncmVjdG9yeSBuYW1lIGlzIGNvbnN0cnVjdGVkIGJ5IHRoZSBkZXB0aCBpdCBv\nY2N1cnMgKGQwIGZvciByb290LAogICAgICogZDEgZm9yIGRlcHRoIDEgYW5k\nIHNvIG9uKS48QlI+CiAgICAgKiBDaGVja3MgdGhlIHJlc3VsdCBmb3IgZm9y\nIG1hdGNoaW5nIG5hbWUgYW5kIHNpemUgb2YgdGhlIHJlc3VsdCAobXVzdAog\nICAgICogYmUgb25lKS4KICAgICAqCiAgICAgKiBAcGFyYW0gcGxhbiBuYW1l\nIG9mIGEgZmV0Y2ggcGxhbgogICAgICogQHBhcmFtIGRlcHRoIGRlcHRoIG9m\nIHRoZSBkaXJlY3RvcnkgdG8gYmUgcXVlcmllZAogICAgICogQHJldHVybiB0\naGUgc2VsZWN0ZWQgZGlyZWN0b3J5LgogICAgICovCiAgICBQQ0RpcmVjdG9y\neSBxdWVyeURpcmVjdG9yeVdpdGhQbGFuKFN0cmluZyBwbGFuLCBpbnQgcmQs\nIGludCBmZCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0g\nZ2V0UE0oKTsKICAgICAgICBwbS5nZXRGZXRjaFBsYW4oKS5hZGRGZXRjaEdy\nb3VwKHBsYW4pOwogICAgICAgIGlmIChmZCAhPSAwKQogICAgICAgICAgICBw\nbS5nZXRGZXRjaFBsYW4oKS5zZXRNYXhGZXRjaERlcHRoKGZkKTsKCi8vICAg\nICAgICBTdHJpbmcgZmlsdGVyID0gIl9uYW1lID09ICIgKyBxdW90ZWQoZ2V0\nRGlyZWN0b3J5TmFtZShyZCkpOyAgICAgICAgCi8vICAgICAgICBPcGVuSlBB\nUXVlcnkgcXVlcnkgPSBwbS5jcmVhdGVOYXRpdmVRdWVyeShmaWx0ZXIsUENE\naXJlY3RvcnkuY2xhc3MpOwovLyAgICAgICAgTGlzdCByZXN1bHQgPSAoTGlz\ndCkgcXVlcnkuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAgICBTdHJpbmcgcXVl\ncnkgPSAiU0VMRUNUIG8gRlJPTSBQQ0RpcmVjdG9yeSBvIFdIRVJFIG8uX25h\nbWUgPSAnIiArCiAgICAgICAgICAgIGdldERpcmVjdG9yeU5hbWUocmQpICsg\nIiciOwogICAgICAgIExpc3QgZnJlc3VsdCA9ICgoT3BlbkpQQVF1ZXJ5KSBw\nbS5jcmVhdGVRdWVyeShxdWVyeSkpLmdldFJlc3VsdExpc3QoKTsKCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIGZyZXN1bHQuc2l6ZSgpKTsKICAgICAgICBQ\nQ0RpcmVjdG9yeSBkaXIgPSAoUENEaXJlY3RvcnkpIGZyZXN1bHQuZ2V0KDAp\nOwoKICAgICAgICByZXR1cm4gZGlyOwogICAgfQoKICAgIC8qKgogICAgICog\nQXNzZXJ0cyB0aGF0CiAgICAgKiA8TEk+IHRoZSBnaXZlbiBkaXJlY3Rvcnkg\nbmFtZSBtYXRjaGVzIHRoZSBkaXJlY3RvcnkgbmFtZSBhdCBkZXB0aCBELgog\nICAgICogPExJPiB0aGUgcGFyZW50cyB1cHRvIEwgcmVjdXJzaW9uIGlzIG5v\ndCBudWxsIGFuZCBiZXlvbmQgaXMKICAgICAqIG51bGwuCiAgICAgKgogICAg\nICogQHBhcmFtIHJlc3VsdCBhIGRpcmVjdG9yeSB0byB0ZXN0CiAgICAgKiBA\ncGFyYW0gRCBkZXB0aCBhdCB3aGljaCB0aGlzIGRpcmVjdG9yeSBhcHBlYXJz\nCiAgICAgKiBAcGFyYW0gTCB0aGUgbnVtYmVyIG9mIGxpdmUgKGZldGNoZWQp\nIHBhcmVudHMuIC0xIGRlbm90ZXMgaW5maW5pdGUKICAgICAqLwogICAgdm9p\nZCBjaGVja1BhcmVudHMoUENEaXJlY3RvcnkgcmVzdWx0LCBpbnQgRCwgaW50\nIEwpIHsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJnZSIsIGdldERpcmVjdG9y\neU5hbWUoRCksCiAgICAgICAgICAgIFBDRGlyZWN0b3J5LnJlZmxlY3QocmVz\ndWx0LCAiX25hbWUiKSk7CiAgICAgICAgUENEaXJlY3RvcnlbXSBwYXJlbnRz\nID0gZ2V0UGFyZW50cyhyZXN1bHQsIEQpOwogICAgICAgIGludCBOID0gKEwg\nPT0gLTEpID8gRCA6IEw7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBO\nOyBpKyspIHsKICAgICAgICAgICAgYXNzZXJ0Tm90TnVsbChpICsgIi10aCBw\nYXJlbnQgYXQgZGVwdGggIiArIEQgKyAiIGlzIG51bGwiLAogICAgICAgICAg\nICAgICAgcGFyZW50c1tpXSk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscyhn\nZXREaXJlY3RvcnlOYW1lKEQgLSBpIC0gMSksCiAgICAgICAgICAgICAgICBQ\nQ0RpcmVjdG9yeS5yZWZsZWN0KHBhcmVudHNbaV0sICJfbmFtZSIpKTsKICAg\nICAgICB9CiAgICAgICAgZm9yIChpbnQgaSA9IE47IGkgPCBEOyBpKyspCiAg\nICAgICAgICAgIGFzc2VydE51bGwoaSArICItdGggcGFyZW50IGF0IGRlcHRo\nICIgKyBEICsgIiBpcyBub3QgbnVsbCAiICsKICAgICAgICAgICAgICAgIHBh\ncmVudHNbaV0sIHBhcmVudHNbaV0pOwogICAgfQoKICAgIC8qKgogICAgICog\nR2V0cyBhbiBhcnJheSBvZiBwYXJlbnRzIG9mIHRoZSBnaXZlbiBkaXJlY3Rv\ncnkuIFRoZSB6ZXJvdGggZWxlbWVudAogICAgICogaXMgdGhlIHBhcmVudCBv\nZiB0aGUgZ2l2ZW4gZGlyZWN0b3J5IGFuZCAoaSsxKS10aCBlbGVtZW50IGlz\nIHRoZQogICAgICogcGFyZW50IG9mIHRoZSBpLXRoIGVsZW1lbnQuIFVzZXMg\ncmVmbGVjdGlvbiB0byBlbnN1cmUgdGhhdCB0aGUKICAgICAqIHNpZGUtZWZm\nZWN0IGRvZXMgbm90IGNhdXNlIGEgZGF0YWJhc2UgYWNjZXNzIGZvciB0aGUg\nZmllbGQuCiAgICAgKgogICAgICogQHBhcmFtIGRpciBhIHN0YXJ0aW5nIGRp\ncmVjdG9yeQogICAgICogQHBhcmFtIGRlcHRoIGRlcHRoIHRvIHJlY3Vyc2Uu\nIG11c3QgYmUgcG9zaXRpdmUuCiAgICAgKiBAcmV0dXJuCiAgICAgKi8KICAg\nIFBDRGlyZWN0b3J5W10gZ2V0UGFyZW50cyhQQ0RpcmVjdG9yeSBkaXIsIGlu\ndCBkZXB0aCkgewogICAgICAgIFBDRGlyZWN0b3J5W10gcmVzdWx0ID0gbmV3\nIFBDRGlyZWN0b3J5W2RlcHRoXTsKICAgICAgICBQQ0RpcmVjdG9yeSBjdXJy\nZW50ID0gZGlyOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZGVwdGg7\nIGkrKykgewogICAgICAgICAgICByZXN1bHRbaV0gPSAoUENEaXJlY3Rvcnkp\nIFBDRGlyZWN0b3J5LnJlZmxlY3QoY3VycmVudCwgIl9wYXJlbnQiKTsKICAg\nICAgICAgICAgY3VycmVudCA9IHJlc3VsdFtpXTsKICAgICAgICB9CiAgICAg\nICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICAvKioKICAgICAqIENoZWNr\ncyB0aGF0IHRoZSBmaXJzdCBMIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJh\neSBpcyBub24tbnVsbCBhbmQKICAgICAqIHRoZSByZXN0IGFyZSBudWxsLgog\nICAgICoKICAgICAqIEBwYXJhbSBkZXB0aAogICAgICovCiAgICB2b2lkIGFz\nc2VydE51bGxQYXJlbnQoUENEaXJlY3RvcnlbXSBwYXJlbnRzLCBpbnQgTCkg\newogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgTDsgaSsrKQogICAgICAg\nICAgICBhc3NlcnROb3ROdWxsKHBhcmVudHNbaV0pOwogICAgICAgIGZvciAo\naW50IGkgPSBMOyBpIDwgcGFyZW50cy5sZW5ndGg7IGkrKykKICAgICAgICAg\nICAgYXNzZXJ0TnVsbChwYXJlbnRzW2ldKTsKICAgIH0KCiAgICBTdHJpbmcg\nZ2V0RGlyZWN0b3J5TmFtZShpbnQgZGVwdGgpIHsKICAgICAgICByZXR1cm4g\nImQiICsgZGVwdGg7CiAgICB9CgogICAgU3RyaW5nIGdldEZpbGVOYW1lKGlu\ndCBkZXB0aCkgewogICAgICAgIHJldHVybiAiZiIgKyBkZXB0aDsKICAgIH0K\nCiAgICBTdHJpbmcgcXVvdGVkKFN0cmluZyBzKSB7CiAgICAgICAgcmV0dXJu\nIHF1b3RlICsgcyArIHF1b3RlOwogICAgfQoKICAgIC8qKgogICAgICogRGVm\naW5lcyBhIGZldGNoIHBsYW4gdGhhdCBoYXMgc2V2ZXJhbCBmZXRjaCBncm91\ncHMgdG8gdHJhdmVyc2UgYSBjaGFpbgogICAgICogb2YgcmVsYXRpb25zaGlw\ncy4KICAgICAqIEFmdGVyIGdldHRpbmcgdGhlIHJvb3QgYnkgYW4gZXh0ZW50\nIHF1ZXJ5LCBjaGVja3MgKGJ5IHJlZmxlY3Rpb24pIHRoYXQKICAgICAqIGFs\nbCB0aGUgcmVsYXRpb25zIGluIHRoZSBjaGFpbiBhcmUgZmV0Y2hlZC4KICAg\nICAqIFRoZSBmZXRjaCBkZXB0aCBpcyBrZXB0IGluZmluaXRlLCBzbyB3aGF0\nIHdvdWxkIGJlIGZldGNoZWQgaXMgZXNzZW50aWFsbHkKICAgICAqIGNvbnRy\nb2xsZWQgYnkgdGhlIGZldGNoIGdyb3Vwcy4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgdGVzdFJlbGF0aW9uVHJhdmVyc2FsKCkgewogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBGZXRjaFBs\nYW4gcGxhbiA9IHBtLmdldEZldGNoUGxhbigpOwogICAgICAgIHBtLmdldEZl\ndGNoUGxhbigpLnNldE1heEZldGNoRGVwdGgoLTEpOwogICAgICAgIHBsYW4u\nYWRkRmV0Y2hHcm91cCgiZW1wbG95ZWUuZGVwYXJ0bWVudCIpOwogICAgICAg\nIHBsYW4uYWRkRmV0Y2hHcm91cCgiZGVwYXJ0bWVudC5jb21wYW55Iik7CiAg\nICAgICAgcGxhbi5hZGRGZXRjaEdyb3VwKCJjb21wYW55LmFkZHJlc3MiKTsK\nICAgICAgICBwbGFuLmFkZEZldGNoR3JvdXAoImFkZHJlc3MuY291bnRyeSIp\nOwoKICAgICAgICBJdGVyYXRvciBlbXBsb3llZXMgPSBwbS5jcmVhdGVFeHRl\nbnQoUENFbXBsb3llZS5jbGFzcywgdHJ1ZSkuaXRlcmF0b3IoKTsKICAgICAg\nICB3aGlsZSAoZW1wbG95ZWVzLmhhc05leHQoKSkgewogICAgICAgICAgICBQ\nQ0VtcGxveWVlIGVtcCA9IChQQ0VtcGxveWVlKSBlbXBsb3llZXMubmV4dCgp\nOwoKICAgICAgICAgICAgUENEZXBhcnRtZW50IGRlcHQgPSAoUENEZXBhcnRt\nZW50KSBQQ0VtcGxveWVlLnJlZmxlY3QoZW1wLAogICAgICAgICAgICAgICAg\nImRlcGFydG1lbnQiKTsKICAgICAgICAgICAgYXNzZXJ0Tm90TnVsbChkZXB0\nKTsKCiAgICAgICAgICAgIFBDQ29tcGFueSBjb21wYW55ID0gKFBDQ29tcGFu\neSkgUENEZXBhcnRtZW50LnJlZmxlY3QoZGVwdCwKICAgICAgICAgICAgICAg\nICJjb21wYW55Iik7CiAgICAgICAgICAgIGFzc2VydE5vdE51bGwoY29tcGFu\neSk7CgogICAgICAgICAgICBQQ0FkZHJlc3MgYWRkciA9IChQQ0FkZHJlc3Mp\nIFBDQ29tcGFueS5yZWZsZWN0KGNvbXBhbnksICJhZGRyZXNzIik7CiAgICAg\nICAgICAgIGFzc2VydE5vdE51bGwoYWRkcik7CgogICAgICAgICAgICBQQ0Nv\ndW50cnkgY291bnRyeSA9IChQQ0NvdW50cnkpIFBDQWRkcmVzcy5yZWZsZWN0\nKGFkZHIsICJjb3VudHJ5Iik7CiAgICAgICAgICAgIGFzc2VydE5vdE51bGwo\nY291bnRyeSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogRGVm\naW5lcyBhIGZldGNoIHBsYW4gdGhhdCBoYXMgc2V2ZXJhbCBmZXRjaCBncm91\ncHMgdG8gdHJhdmVyc2UgYSBjaGFpbgogICAgICogb2YgcmVsYXRpb25zaGlw\ncyBidXQgdHJ1bmNhdGVkIGF0IHRoZSBsYXN0IHJlbGF0aW9uLgogICAgICog\nQWZ0ZXIgZ2V0dGluZyB0aGUgcm9vdCBieSBhbiBleHRlbnQgcXVlcnksIGNo\nZWNrcyAoYnkgcmVmbGVjdGlvbikgdGhhdAogICAgICogYWxsIGJ1dCB0aGUg\nbGFzdCByZWxhdGlvbiBpbiB0aGUgY2hhaW4gYXJlIGZldGNoZWQuCiAgICAg\nKiBUaGUgZmV0Y2ggZGVwdGggaXMga2VwdCBpbmZpbml0ZSwgc28gd2hhdCB3\nb3VsZCBiZSBmZXRjaGVkIGlzIGVzc2VudGlhbGx5CiAgICAgKiBjb250cm9s\nbGVkIGJ5IHRoZSBmZXRjaCBncm91cHMuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHRlc3RSZWxhdGlvblRyYXZlcnNhbFRydW5jYXRlZCgpIHsKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKCk7CiAgICAgICAg\nRmV0Y2hQbGFuIHBsYW4gPSBwbS5nZXRGZXRjaFBsYW4oKTsKICAgICAgICBw\nbS5nZXRGZXRjaFBsYW4oKS5zZXRNYXhGZXRjaERlcHRoKC0xKTsKICAgICAg\nICBwbGFuLmFkZEZldGNoR3JvdXAoImVtcGxveWVlLmRlcGFydG1lbnQiKTsK\nICAgICAgICBwbGFuLmFkZEZldGNoR3JvdXAoImRlcGFydG1lbnQuY29tcGFu\neSIpOwogICAgICAgIHBsYW4uYWRkRmV0Y2hHcm91cCgiY29tcGFueS5hZGRy\nZXNzIik7CgogICAgICAgIEl0ZXJhdG9yIGVtcGxveWVlcyA9IHBtLmNyZWF0\nZUV4dGVudChQQ0VtcGxveWVlLmNsYXNzLCB0cnVlKS5pdGVyYXRvcigpOwog\nICAgICAgIHdoaWxlIChlbXBsb3llZXMuaGFzTmV4dCgpKSB7CiAgICAgICAg\nICAgIFBDRW1wbG95ZWUgZW1wID0gKFBDRW1wbG95ZWUpIGVtcGxveWVlcy5u\nZXh0KCk7CgogICAgICAgICAgICBQQ0RlcGFydG1lbnQgZGVwdCA9IChQQ0Rl\ncGFydG1lbnQpIFBDRW1wbG95ZWUucmVmbGVjdChlbXAsCiAgICAgICAgICAg\nICAgICAiZGVwYXJ0bWVudCIpOwogICAgICAgICAgICBhc3NlcnROb3ROdWxs\nKGRlcHQpOwoKICAgICAgICAgICAgUENDb21wYW55IGNvbXBhbnkgPSAoUEND\nb21wYW55KSBQQ0RlcGFydG1lbnQucmVmbGVjdChkZXB0LAogICAgICAgICAg\nICAgICAgImNvbXBhbnkiKTsKICAgICAgICAgICAgYXNzZXJ0Tm90TnVsbChj\nb21wYW55KTsKCiAgICAgICAgICAgIFBDQWRkcmVzcyBhZGRyID0gKFBDQWRk\ncmVzcykgUENDb21wYW55LnJlZmxlY3QoY29tcGFueSwgImFkZHJlc3MiKTsK\nICAgICAgICAgICAgYXNzZXJ0Tm90TnVsbChhZGRyKTsKCiAgICAgICAgICAg\nIFBDQ291bnRyeSBjb3VudHJ5ID0gKFBDQ291bnRyeSkgUENBZGRyZXNzLnJl\nZmxlY3QoYWRkciwgImNvdW50cnkiKTsKICAgICAgICAgICAgYXNzZXJ0TnVs\nbChjb3VudHJ5KTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBH\nZXRzIGEgQ29tcG5heSBvYmplY3QgYnkgZ2V0T2JqZWN0QnlJZCgpIG1ldGhv\nZCBhcyBvcHBvc2VkIHRvIHF1ZXJ5LgogICAgICogVGhlIGFjdGl2ZSBmZXRj\naCBncm91cHMgc2hvdWxkIGJyaW5nIGluIHRoZSBtdWx0aS12YWx1ZWQgcmVs\nYXRpb25zaGlwcy4KICAgICAqIFRoZSBhZGRyZXNzLT5jb3VudHJ5IHJlbGF0\naW9uc2hpcCBjYW4gYmUgcmVhY2hlZCBpbiB0d28gYWx0ZXJuYXRlCiAgICAg\nKiBwYXRocyAtLSBvbmUgYXMgY29tcGFueS0+YWRkcmVzcy0+Y291bnRyeSBh\nbmQgdGhlIG90aGVyIGlzCiAgICAgKiBjb21wYW55LT5kZXBhcnRtZW50LT5l\nbXBsb3llZS0+YWRkcmVzcy0+Y291bnRyeS4KICAgICAqIFRob3VnaCBhY3Rp\ndmUgZmV0Y2ggZ3JvdXBzIGFsbG93IGJvdGggdGhlIHBhdGhzIC0tIHRoZSBt\nYXggZmV0Y2ggZGVwdGgKICAgICAqIGlzIHNldCBzdWNoIHRoYXQgdGhlIHNo\nb3J0ZXIgcGF0aCBpcyB0YWtlbiBidXQgbm90IHRoZSBsb25nZXIgb25lLgog\nICAgICogSGVuY2UgdGhlIGNvbXBhbnkncyBhZGRyZXNzLT5jb3VudHJ5IHNo\nb3VsZCBiZSBsb2FkZWQgYnV0IG5vdCB0aGUKICAgICAqIGVtcGxveWVlJ3Mu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RSZWxhdGlvblRyYXZlcnNh\nbFdpdGhDb21wYW55QXNSb290KCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBGZXRjaFBsYW4gcGxhbiA9\nIHBtLmdldEZldGNoUGxhbigpOwoKICAgICAgICBwbGFuLnNldE1heEZldGNo\nRGVwdGgoMik7CiAgICAgICAgcGxhbi5hZGRGZXRjaEdyb3VwKCJjb21wYW55\nLmRlcGFydG1lbnRzIik7CiAgICAgICAgcGxhbi5hZGRGZXRjaEdyb3VwKCJj\nb21wYW55LmFkZHJlc3MiKTsKICAgICAgICBwbGFuLmFkZEZldGNoR3JvdXAo\nImRlcGFydG1lbnQuZW1wbG95ZWVzIik7CiAgICAgICAgcGxhbi5hZGRGZXRj\naEdyb3VwKCJwZXJzb24uYWRkcmVzcyIpOwogICAgICAgIHBsYW4uYWRkRmV0\nY2hHcm91cCgiYWRkcmVzcy5jb3VudHJ5Iik7CgogICAgICAgIFBDQ29tcGFu\neSBjb21wYW55ID0KICAgICAgICAgICAgKFBDQ29tcGFueSkgcG0uZmluZChQ\nQ0NvbXBhbnkuY2xhc3MsIF9yb290Q29tcGFueUlkKTsKICAgICAgICBTZXQg\nZGVwYXJ0bWVudHMgPSAoU2V0KSBQQ0NvbXBhbnkucmVmbGVjdChjb21wYW55\nLCAiZGVwYXJ0bWVudHMiKTsKICAgICAgICBhc3NlcnROb3ROdWxsKCJkZXBh\ncnRtZW50IGlzIG51bGwiLCBkZXBhcnRtZW50cyk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJleHAuIGRlcGFydCBzaXplIGlzIG5vdCAyIiwgMiwgZGVwYXJ0\nbWVudHMuc2l6ZSgpKTsKICAgICAgICBQQ0RlcGFydG1lbnQgZGVwdCA9IChQ\nQ0RlcGFydG1lbnQpIGRlcGFydG1lbnRzLml0ZXJhdG9yKCkubmV4dCgpOwog\nICAgICAgIGFzc2VydE5vdE51bGwoImRlcHQgaXMgbnVsbCIsIGRlcHQpOwog\nICAgICAgIFNldCBlbXBsb3llZXMgPSAoU2V0KSBQQ0RlcGFydG1lbnQucmVm\nbGVjdChkZXB0LCAiZW1wbG95ZWVzIik7CiAgICAgICAgYXNzZXJ0Tm90TnVs\nbCgiZW1wbG95ZWVzIGlzIG51bGwiLCBlbXBsb3llZXMpOwogICAgICAgIGFz\nc2VydEVxdWFscygxLCBlbXBsb3llZXMuc2l6ZSgpKTsKICAgICAgICBQQ0Vt\ncGxveWVlIGVtcCA9IChQQ0VtcGxveWVlKSBlbXBsb3llZXMuaXRlcmF0b3Io\nKS5uZXh0KCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbCgiZW1wIGlzIG5vdCBu\ndWxsIiwgZW1wKTsKICAgICAgICBQQ0FkZHJlc3MgZWFkZHIgPSAoUENBZGRy\nZXNzKSBQQ1BlcnNvbi5yZWZsZWN0KGVtcCwgImFkZHJlc3MiKTsKICAgICAg\nICBQQ0FkZHJlc3MgY2FkZHIgPSAoUENBZGRyZXNzKSBQQ0NvbXBhbnkucmVm\nbGVjdChjb21wYW55LCAiYWRkcmVzcyIpOwogICAgICAgIGFzc2VydE51bGwo\nImVhZGRyIGlzIG5vdCBudWxsIiwgZWFkZHIpOwogICAgICAgIGFzc2VydE5v\ndE51bGwoImNhZGRyIGlzIG51bGwiLCBjYWRkcik7CiAgICAgICAgUENDb3Vu\ndHJ5IGNvdW50cnkgPSAoUENDb3VudHJ5KSBQQ0FkZHJlc3MucmVmbGVjdChj\nYWRkciwgImNvdW50cnkiKTsKICAgICAgICBhc3NlcnROb3ROdWxsKCJjb3Vu\ndHJ5IGlzIG51bGwiLCBjb3VudHJ5KTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNhbWUgYXMgYWJvdmUgYnV0IHRoZSByb290IGNvbXBuYXkgaW5zdGFuY2Ug\naXMgZGV0YWNoZWQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3REZXRh\nY2hlZFJlbGF0aW9uVHJhdmVyc2FsV2l0aENvbXBhbnlBc1Jvb3QoKSB7CiAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAg\nICAgIEZldGNoUGxhbiBwbGFuID0gcG0uZ2V0RmV0Y2hQbGFuKCk7CiAgICAg\nICAgcG0uZ2V0RmV0Y2hQbGFuKCkuc2V0TWF4RmV0Y2hEZXB0aCgyKTsKICAg\nICAgICBwbGFuLmFkZEZldGNoR3JvdXAoImNvbXBhbnkuZGVwYXJ0bWVudHMi\nKTsKICAgICAgICBwbGFuLmFkZEZldGNoR3JvdXAoImNvbXBhbnkuYWRkcmVz\ncyIpOwogICAgICAgIHBsYW4uYWRkRmV0Y2hHcm91cCgiZGVwYXJ0bWVudC5l\nbXBsb3llZXMiKTsKICAgICAgICBwbGFuLmFkZEZldGNoR3JvdXAoInBlcnNv\nbi5hZGRyZXNzIik7CiAgICAgICAgcGxhbi5hZGRGZXRjaEdyb3VwKCJhZGRy\nZXNzLmNvdW50cnkiKTsKCiAgICAgICAgUENDb21wYW55IGNvbXBhbnkxID0K\nICAgICAgICAgICAgKFBDQ29tcGFueSkgcG0uZmluZChQQ0NvbXBhbnkuY2xh\nc3MsIF9yb290Q29tcGFueUlkKTsKCiAgICAgICAgUENDb21wYW55IGNvbXBh\nbnkgPSAoUENDb21wYW55KSBwbS5kZXRhY2goY29tcGFueTEpOwogICAgICAg\nIGFzc2VydFRydWUoImNvbXBhbnkgaXMgZXF1YWwgY29tcGFueTEiLCBjb21w\nYW55ICE9IGNvbXBhbnkxKTsKICAgICAgICBTZXQgZGVwYXJ0bWVudHMgPSAo\nU2V0KSBQQ0NvbXBhbnkucmVmbGVjdChjb21wYW55LCAiZGVwYXJ0bWVudHMi\nKTsKICAgICAgICBhc3NlcnROb3ROdWxsKCJkZXBhcnRtZW50IGlzIG51bGwi\nLCBkZXBhcnRtZW50cyk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJkZXBhcnRt\nZW50IHNpemUgaXMgbm90IDIiLCAyLCBkZXBhcnRtZW50cy5zaXplKCkpOwog\nICAgICAgIFBDRGVwYXJ0bWVudCBkZXB0ID0gKFBDRGVwYXJ0bWVudCkgZGVw\nYXJ0bWVudHMuaXRlcmF0b3IoKS5uZXh0KCk7CiAgICAgICAgYXNzZXJ0Tm90\nTnVsbCgiZGVwdCBpcyBudWxsIiwgZGVwdCk7CiAgICAgICAgU2V0IGVtcGxv\neWVlcyA9IChTZXQpIFBDRGVwYXJ0bWVudC5yZWZsZWN0KGRlcHQsICJlbXBs\nb3llZXMiKTsKICAgICAgICBhc3NlcnROb3ROdWxsKCJlbXBsb3llZSBpcyBu\ndWxsIiwgZW1wbG95ZWVzKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImVtcGxv\neWVlcyBzaXplIG5vdCAxIiwgMSwgZW1wbG95ZWVzLnNpemUoKSk7CiAgICAg\nICAgUENFbXBsb3llZSBlbXAgPSAoUENFbXBsb3llZSkgZW1wbG95ZWVzLml0\nZXJhdG9yKCkubmV4dCgpOwogICAgICAgIGFzc2VydE5vdE51bGwoImVtcCBp\ncyBudWxsIiwgZW1wKTsKICAgICAgICBQQ0FkZHJlc3MgZWFkZHIgPSAoUENB\nZGRyZXNzKSBQQ1BlcnNvbi5yZWZsZWN0KGVtcCwgImFkZHJlc3MiKTsKICAg\nICAgICBQQ0FkZHJlc3MgY2FkZHIgPSAoUENBZGRyZXNzKSBQQ0NvbXBhbnku\ncmVmbGVjdChjb21wYW55LCAiYWRkcmVzcyIpOwogICAgICAgIGFzc2VydE51\nbGwoImVhZGRyIGlzIG5vdCBudWxsIiwgZWFkZHIpOwogICAgICAgIGFzc2Vy\ndE5vdE51bGwoImNhZGRyIGlzIG51bGwiLCBjYWRkcik7CiAgICAgICAgUEND\nb3VudHJ5IGNvdW50cnkgPSAoUENDb3VudHJ5KSBQQ0FkZHJlc3MucmVmbGVj\ndChjYWRkciwgImNvdW50cnkiKTsKICAgICAgICBhc3NlcnROb3ROdWxsKCJj\nb3VudHJ5IGlzIG51bGwiLCBjb3VudHJ5KTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0RGVmYXVsdEZldGNoR3JvdXAoKSB7CiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwoKICAgICAgICBTdHJpbmcg\nc3F1ZXJ5ID0KICAgICAgICAgICAgIlNFTEVDVCBESVNUSU5DVCBvIEZST00g\nUENFbXBsb3llZSBvIFdIRVJFIG8ubmFtZSA9ICdFbXBsb3llZTEnIjsKICAg\nICAgICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KHNxdWVyeSk7\nCgogICAgICAgIC8vRklYTUUganRob21hcwogICAgICAgIFBDRW1wbG95ZWUg\ncGVyc29uID0gKFBDRW1wbG95ZWUpIHEuZ2V0U2luZ2xlUmVzdWx0KCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJFeHAuIFN0cmluZyBpcyBub3QgZW1wbG95\nZWUxIiwgIkVtcGxveWVlMSIsCiAgICAgICAgICAgIFBDUGVyc29uLnJlZmxl\nY3QocGVyc29uLCAibmFtZSIpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RGVmYXVsdEZldGNoR3JvdXBFeGlzdHNCeURlZmF1bHQoKSB7CiAgICAg\nICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAg\nIGFzc2VydFRydWUoInBtIGRvZXMgbm90IGNvbnRhaW4gZGVmYXVsdCBmZXRj\naHBsYW4iLAogICAgICAgICAgICBwbS5nZXRGZXRjaFBsYW4oKS5nZXRGZXRj\naEdyb3VwcygpLmNvbnRhaW5zKAogICAgICAgICAgICAgICAgRmV0Y2hQbGFu\nLkdST1VQX0RFRkFVTFQpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nRGVmYXVsdEZldGNoR3JvdXBDYW5CZVJlbW92ZWQoKSB7CiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAgIGFzc2Vy\ndFRydWUoImRvZXMgbm90IGNvbnRhaW4gZGVmYXVsdCBmZXRjaHBsYW4iLAog\nICAgICAgICAgICBwbS5nZXRGZXRjaFBsYW4oKS5nZXRGZXRjaEdyb3Vwcygp\nLmNvbnRhaW5zKAogICAgICAgICAgICAgICAgRmV0Y2hQbGFuLkdST1VQX0RF\nRkFVTFQpKTsKCiAgICAgICAgcG0uZ2V0RmV0Y2hQbGFuKCkucmVtb3ZlRmV0\nY2hHcm91cChGZXRjaFBsYW4uR1JPVVBfREVGQVVMVCk7CiAgICAgICAgYXNz\nZXJ0RmFsc2UoImRvZXMgY29udGFpbiBkZWZhdWx0IGZldGNocGxhbiIsCiAg\nICAgICAgICAgIHBtLmdldEZldGNoUGxhbigpLmdldEZldGNoR3JvdXBzKCku\nY29udGFpbnMoCiAgICAgICAgICAgICAgICBGZXRjaFBsYW4uR1JPVVBfREVG\nQVVMVCkpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbTIgPSBn\nZXRQTSgpOwogICAgICAgIGFzc2VydFRydWUoInBtMiBkb2VzIG5vdCBjb250\nYWluIGRlZmF1bHQgZmV0Y2hwbGFuIiwKICAgICAgICAgICAgcG0yLmdldEZl\ndGNoUGxhbigpLmdldEZldGNoR3JvdXBzKCkuY29udGFpbnMoCiAgICAgICAg\nICAgICAgICBGZXRjaFBsYW4uR1JPVVBfREVGQVVMVCkpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAg\nICAgICAgc3VwZXIudGVhckRvd24oKTsKICAgIH0KCiAgICBwcml2YXRlIHZv\naWQgY2xlYXJUZXN0RGF0YSgpIHRocm93cyBFeGNlcHRpb24gewovLyAgICAg\nICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBtZiA9KE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyRmFjdG9yeSkgZ2V0RW1mKCk7Ci8vICAgICAgICBPcGVu\nSlBBQ29uZmlndXJhdGlvbiBjb25mPXBtZi5nZXRDb25maWd1cmF0aW9uKCk7\nCi8vICAgICAgICAKLy8gICAgICAgIENsYXNzLmZvck5hbWUocG1mLmdldENv\nbmZpZ3VyYXRpb24oKS5nZXRDb25uZWN0aW9uMkRyaXZlck5hbWUoKSk7Ci8v\nICAgICAgICBTdHJpbmcgdXJsPWNvbmYuZ2V0Q29ubmVjdGlvbjJVUkwoKTsK\nLy8gICAgICAgIFN0cmluZyB1c2VyPWNvbmYuZ2V0Q29ubmVjdGlvbjJVc2Vy\nTmFtZSgpOwovLyAgICAgICAgU3RyaW5nIHBhc3M9Y29uZi5nZXRDb25uZWN0\naW9uMlBhc3N3b3JkKCk7Ci8vICAgICAgICAKLy8gICAgICAgIENvbm5lY3Rp\nb24gY29uID0gRHJpdmVyTWFuYWdlci5nZXRDb25uZWN0aW9uKAovLyAgICAg\nICAgICAgICAgICB1cmwsCi8vICAgICAgICAgICAgICAgIHVzZXIsCi8vICAg\nICAgICAgICAgICAgIHBhc3MpOwovLyAgICAgICAgY29uLnNldEF1dG9Db21t\naXQodHJ1ZSk7Ci8vICAgICAgICBjb24ucHJlcGFyZVN0YXRlbWVudCgiREVM\nRVRFIEZST00gUENESVJFQ1RPUlkiKS5leGVjdXRlVXBkYXRlKCk7Ci8vICAg\nICAgICBjb24ucHJlcGFyZVN0YXRlbWVudCgiREVMRVRFIEZST00gUENGSUxF\nIikuZXhlY3V0ZVVwZGF0ZSgpOwovLyAgICAgICAgY29uLnByZXBhcmVTdGF0\nZW1lbnQoIkRFTEVURSBGUk9NIFBDUEVSU09OIikuZXhlY3V0ZVVwZGF0ZSgp\nOwovLyAgICAgICAgY29uLnByZXBhcmVTdGF0ZW1lbnQoIkRFTEVURSBGUk9N\nIFBDREVQQVJUTUVOVCIpLmV4ZWN1dGVVcGRhdGUoKTsKLy8gICAgICAgIGNv\nbi5wcmVwYXJlU3RhdGVtZW50KCJERUxFVEUgRlJPTSBQQ0NPTVBBTlkiKS5l\neGVjdXRlVXBkYXRlKCk7Ci8vICAgICAgICBjb24ucHJlcGFyZVN0YXRlbWVu\ndCgiREVMRVRFIEZST00gUENBRERSRVNTIikuZXhlY3V0ZVVwZGF0ZSgpOwov\nLyAgICAgICAgY29uLnByZXBhcmVTdGF0ZW1lbnQoIkRFTEVURSBGUk9NIFBD\nQ09VTlRSWSIpLmV4ZWN1dGVVcGRhdGUoKTsKCiAgICAgICAgZGVsZXRlQWxs\nKFBDRGlyZWN0b3J5LmNsYXNzKTsKICAgICAgICBkZWxldGVBbGwoUENGaWxl\nLmNsYXNzKTsKICAgICAgICBkZWxldGVBbGwoUENQZXJzb24uY2xhc3MpOwog\nICAgICAgIGRlbGV0ZUFsbChQQ0RlcGFydG1lbnQuY2xhc3MpOwogICAgICAg\nIGRlbGV0ZUFsbChQQ0NvbXBhbnkuY2xhc3MpOwogICAgICAgIGRlbGV0ZUFs\nbChQQ0FkZHJlc3MuY2xhc3MpOwogICAgICAgIGRlbGV0ZUFsbChQQ0NvdW50\ncnkuY2xhc3MpOwogICAgICAgIGRlbGV0ZUFsbChQQ0VtcGxveWVlLmNsYXNz\nKTsKICAgIH0KfQo=\n","encoding":"base64"}

