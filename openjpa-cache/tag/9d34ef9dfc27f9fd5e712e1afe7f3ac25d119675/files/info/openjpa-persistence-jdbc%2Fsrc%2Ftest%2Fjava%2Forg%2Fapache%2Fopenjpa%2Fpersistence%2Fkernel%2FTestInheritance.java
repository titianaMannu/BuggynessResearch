{"sha":"485d0771c9da5b4cb96fbc380af9936336ec0879","node_id":"MDQ6QmxvYjIwNjM2NDo0ODVkMDc3MWM5ZGE1YjRjYjk2ZmJjMzgwYWY5OTM2MzM2ZWMwODc5","size":4888,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/485d0771c9da5b4cb96fbc380af9936336ec0879","content":"LyoKICogVGVzdEluaGVyaXRhbmNlLmphdmEKICoKICogQ3JlYXRlZCBvbiBP\nY3RvYmVyIDEyLCAyMDA2LCAxMTo0NiBBTQogKgogKiBUbyBjaGFuZ2UgdGhp\ncyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFuYWdlcgog\nKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4KICovCi8q\nCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlv\nbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNl\nbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3Ry\naWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0\naW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFT\nRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFj\naGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5\nb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNl\nCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkg\nb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3Jn\nL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBi\neSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICog\nc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlz\ndHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJS\nQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBl\neHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQog\nKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICovCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbDsK\nCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKCgoKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMu\nUnVudGltZVRlc3QxOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5SdW50aW1lVGVzdDI7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1v\nbi5hcHBzLlJ1bnRpbWVUZXN0MzsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5OwoK\ncHVibGljIGNsYXNzIFRlc3RJbmhlcml0YW5jZSBleHRlbmRzIEJhc2VLZXJu\nZWxUZXN0IHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFu\nY2Ugb2YgVGVzdEluaGVyaXRhbmNlCiAgICAgKi8KICAgIHB1YmxpYyBUZXN0\nSW5oZXJpdGFuY2UoKSB7CiAgICB9CgogICAgcHVibGljIFRlc3RJbmhlcml0\nYW5jZShTdHJpbmcgbmFtZSkgewogICAgICAgIHN1cGVyKG5hbWUpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkKICAgICAgICB0aHJvd3MgRXhj\nZXB0aW9uIHsKICAgICAgICBkZWxldGVBbGwoUnVudGltZVRlc3QxLmNsYXNz\nKTsKICAgICAgICBkZWxldGVBbGwoUnVudGltZVRlc3QyLmNsYXNzKTsKICAg\nICAgICBkZWxldGVBbGwoUnVudGltZVRlc3QzLmNsYXNzKTsKCiAgICAgICAg\nLy8gY3JlYXRlIHNvbWUgaW5zdGFuY2VzIHRvIHF1ZXJ5IG9uCiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAgIHN0\nYXJ0VHgocG0pOwogICAgICAgIHBtLnBlcnNpc3QobmV3IFJ1bnRpbWVUZXN0\nMSgiUnVudGltZVRlc3QxLWluc3RhbmNlIiwgMikpOwogICAgICAgIHBtLnBl\ncnNpc3QobmV3IFJ1bnRpbWVUZXN0MigiUnVudGltZVRlc3QyLWluc3RhbmNl\nIiwgMykpOwogICAgICAgIHBtLnBlcnNpc3QobmV3IFJ1bnRpbWVUZXN0Mygi\nUnVudGltZVRlc3QzLWluc3RhbmNlIiwgNCkpOwogICAgICAgIGVuZFR4KHBt\nKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBU\nZXN0cyB0aGF0IHdlIGNhbiBnZXQgYWxsIHRocmVlIG9iamVjdHMgdmlhIGFu\nIGV4dGVudC4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEdldEFsbFJ1\nbnRpbWVUZXN0MXMoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIg\ncG0gPSBnZXRQTSgpOwogICAgICAgIE9wZW5KUEFRdWVyeSBxID0gcG0uY3Jl\nYXRlUXVlcnkoIlNFTEVDVCBvIEZST00gUnVudGltZVRlc3QxIG8iKTsKICAg\nICAgICBDb2xsZWN0aW9uIGMgPSAoQ29sbGVjdGlvbikgcS5nZXRSZXN1bHRM\naXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIGMuc2l6ZSgpKTsKICAg\nICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0cyB0\naGF0IHdlIGNhbiBnZXQgYWxsIFJ1bnRpbWVUZXN0MiBvYmplY3RzIHZpYSBh\nbiBleHRlbnQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRBbGxS\ndW50aW1lVGVzdDJzKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0gZ2V0UE0oKTsKICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNy\nZWF0ZVF1ZXJ5KCJTRUxFQ1QgbyBGUk9NIFJ1bnRpbWVUZXN0MiBvIik7CiAg\nICAgICAgQ29sbGVjdGlvbiBjID0gKENvbGxlY3Rpb24pIHEuZ2V0UmVzdWx0\nTGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLCBjLnNpemUoKSk7CiAg\nICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIC8qKgogICAgICogVGVzdHMg\ndGhhdCB3ZSBjYW4gZ2V0IGFsbCBSdW50aW1lVGVzdDMgb2JqZWN0cyB2aWEg\nYW4gZXh0ZW50LgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0R2V0QWxs\nUnVudGltZVRlc3QzcygpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBwbSA9IGdldFBNKCk7CiAgICAgICAgT3BlbkpQQVF1ZXJ5IHEgPSBwbS5j\ncmVhdGVRdWVyeSgiU0VMRUNUIG8gRlJPTSBSdW50aW1lVGVzdDMgbyIpOwog\nICAgICAgIENvbGxlY3Rpb24gYyA9IChDb2xsZWN0aW9uKSBxLmdldFJlc3Vs\ndExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgYy5zaXplKCkpOwog\nICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3Rz\nIHRoYXQgd2UgY2FuIGdldCBqdXN0IFJ1bnRpbWVUZXN0MXMgdmlhIGFuIGV4\ndGVudC4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEdldEp1c3RSdW50\naW1lVGVzdDFzKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBt\nID0gZ2V0UE0oKTsKICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0\nZVF1ZXJ5KCJTRUxFQ1QgbyBGUk9NIFJ1bnRpbWVUZXN0MSBvIik7CiAgICAg\nICAgcS5zZXRTdWJjbGFzc2VzKGZhbHNlKTsKCi8vICAgICAgICBPcGVuSlBB\nUXVlcnkgcSA9IHBtLmNyZWF0ZU5hdGl2ZVF1ZXJ5KCIiLFJ1bnRpbWVUZXN0\nMS5jbGFzcyk7Ci8vICAgICAgICBGSVhNRSBqdGhvbWFzCi8vICAgICAgICBx\nLnNldENhbmRpZGF0ZXMocG0uZ2V0RXh0ZW50KFJ1bnRpbWVUZXN0MS5jbGFz\ncywgZmFsc2UpKTsKICAgICAgICBDb2xsZWN0aW9uIGMgPSAoQ29sbGVjdGlv\nbikgcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\nIGMuc2l6ZSgpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBUZXN0cyB0aGF0IHdlIGNhbiBnZXQganVzdCBSdW50aW1lVGVz\ndDJzIHZpYSBhbiBleHRlbnQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRl\nc3RHZXRKdXN0UnVudGltZVRlc3QycygpIHsKICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlciBwbSA9IGdldFBNKCk7CiAgICAgICAgT3BlbkpQQVF1ZXJ5\nIHEgPSBwbS5jcmVhdGVRdWVyeSgiU0VMRUNUIG8gRlJPTSBSdW50aW1lVGVz\ndDIgbyIpOwogICAgICAgIHEuc2V0U3ViY2xhc3NlcyhmYWxzZSk7CgovLyAg\nICAgICAgRklYTUUganRob21hcyAgICAgICAgCi8vICAgICAgICBPcGVuSlBB\nUXVlcnkgcSA9IHBtLmNyZWF0ZU5hdGl2ZVF1ZXJ5KCIiLFJ1bnRpbWVUZXN0\nMi5jbGFzcyk7Ci8vICAgICAgICBxLnNldENhbmRpZGF0ZXMocG0uY3JlYXRl\nRXh0ZW50KFJ1bnRpbWVUZXN0Mi5jbGFzcywgZmFsc2UpKTsKICAgICAgICBD\nb2xsZWN0aW9uIGMgPSAoQ29sbGVjdGlvbikgcS5nZXRSZXN1bHRMaXN0KCk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGMuc2l6ZSgpKTsKICAgICAgICBl\nbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0cyB0aGF0IHdl\nIGNhbiBnZXQganVzdCBSdW50aW1lVGVzdDNzIHZpYSBhbiBleHRlbnQuCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRKdXN0UnVudGltZVRlc3Qz\nKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0o\nKTsKICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KCJT\nRUxFQ1QgbyBGUk9NIFJ1bnRpbWVUZXN0MyBvIik7CiAgICAgICAgcS5zZXRT\ndWJjbGFzc2VzKGZhbHNlKTsKCi8vICAgICAgRklYTUUganRob21hcwovLyAg\nICAgICAgT3BlbkpQQVF1ZXJ5IHEgPSBwbS5jcmVhdGVOYXRpdmVRdWVyeSgi\nIixSdW50aW1lVGVzdDMuY2xhc3MpOwovLyAgICAgICAgcS5zZXRDYW5kaWRh\ndGVzKHBtLmdldEV4dGVudChSdW50aW1lVGVzdDMuY2xhc3MsIGZhbHNlKSk7\nCiAgICAgICAgQ29sbGVjdGlvbiBjID0gKENvbGxlY3Rpb24pIHEuZ2V0UmVz\ndWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygxLCBjLnNpemUoKSk7\nCiAgICAgICAgZW5kRW0ocG0pOwogICAgfQp9Cg==\n","encoding":"base64"}

