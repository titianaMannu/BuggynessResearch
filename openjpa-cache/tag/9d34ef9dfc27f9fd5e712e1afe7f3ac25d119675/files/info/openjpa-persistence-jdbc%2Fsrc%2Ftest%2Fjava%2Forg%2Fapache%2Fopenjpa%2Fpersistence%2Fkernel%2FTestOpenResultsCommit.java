{"sha":"36a656ab84add2c163beb166e4f1987b3f25f054","node_id":"MDQ6QmxvYjIwNjM2NDozNmE2NTZhYjg0YWRkMmMxNjNiZWIxNjZlNGYxOTg3YjNmMjVmMDU0","size":3907,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/36a656ab84add2c163beb166e4f1987b3f25f054","content":"LyoKICogVGVzdE9wZW5SZXN1bHRzQ29tbWl0LmphdmEKICoKICogQ3JlYXRl\nZCBvbiBPY3RvYmVyIDEyLCAyMDA2LCAyOjQzIFBNCiAqCiAqIFRvIGNoYW5n\nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5h\nZ2VyCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgog\nKi8KLyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3Vu\nZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBU\naGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhl\nIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEg\nY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNo\nZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVp\ncmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5n\nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBp\ncyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VU\nIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0\naGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3Ig\ndGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9u\ncyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAog\nKi8KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2Vy\nbmVsOwoKaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51\ndGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGph\ndmEudXRpbC5FbnVtU2V0OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUnVudGltZVRlc3QxOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51\ndGlscy5BYnN0cmFjdFRlc3RDYXNlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5\nTWFuYWdlckZhY3Rvcnk7CgpwdWJsaWMgY2xhc3MgVGVzdE9wZW5SZXN1bHRz\nQ29tbWl0IGV4dGVuZHMgQmFzZUtlcm5lbFRlc3QgewoKICAgIC8qKgogICAg\nICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0T3BlblJlc3VsdHND\nb21taXQKICAgICAqLwogICAgcHVibGljIFRlc3RPcGVuUmVzdWx0c0NvbW1p\ndCgpIHsKICAgIH0KCiAgICBwdWJsaWMgVGVzdE9wZW5SZXN1bHRzQ29tbWl0\nKFN0cmluZyB0ZXN0TmFtZSkgewogICAgICAgIHN1cGVyKHRlc3ROYW1lKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpCiAgICAgICAgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgc3VwZXIuc2V0VXAoKTsKCiAgICAgICAg\nZGVsZXRlQWxsKFJ1bnRpbWVUZXN0MS5jbGFzcyk7CgogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBzdGFydFR4\nKHBtKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDUwOyBpKyspCiAg\nICAgICAgICAgIHBtLnBlcnNpc3QobmV3IFJ1bnRpbWVUZXN0MSgib3BlbiBy\nZXN1bHRzICMiICsgaSwgaSkpOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAg\nICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdENvbW1p\ndFdpdGhNb2RlVHJhbnNhY3Rpb24oKSB7CiAgICAgICAgdHJ5IHsKICAgICAg\nICAgICAgdGVzdENvbW1pdFdpdGhPcGVuUmVzdWx0cygidHJhbnNhY3Rpb24i\nKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAg\nICBidWcoRW51bVNldC5vZihBYnN0cmFjdFRlc3RDYXNlLlBsYXRmb3JtLlBP\nSU5UQkFTRSwKICAgICAgICAgICAgICAgIEFic3RyYWN0VGVzdENhc2UuUGxh\ndGZvcm0uSU5GT1JNSVgsCiAgICAgICAgICAgICAgICBBYnN0cmFjdFRlc3RD\nYXNlLlBsYXRmb3JtLkVNUFJFU1MpLCA3MTgsIGUsCiAgICAgICAgICAgICAg\nICAiQ2Fubm90IGtlZXAgcmVzdWx0cyBvcGVuIGFjcm9zcyBjb21taXQiKTsK\nICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdENvbW1pdFdp\ndGhNb2RlT3BlbkpQQUVudGl0eU1hbmFnZXIoKSB7CiAgICAgICAgdHJ5IHsK\nICAgICAgICAgICAgdGVzdENvbW1pdFdpdGhPcGVuUmVzdWx0cygicGVyc2lz\ndGVuY2UtbWFuYWdlciIpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBl\nKSB7CiAgICAgICAgICAgIGJ1ZyhFbnVtU2V0Lm9mKEFic3RyYWN0VGVzdENh\nc2UuUGxhdGZvcm0uUE9JTlRCQVNFLAogICAgICAgICAgICAgICAgQWJzdHJh\nY3RUZXN0Q2FzZS5QbGF0Zm9ybS5JTkZPUk1JWCwKICAgICAgICAgICAgICAg\nIEFic3RyYWN0VGVzdENhc2UuUGxhdGZvcm0uRU1QUkVTUyksIDcxOCwgZSwK\nICAgICAgICAgICAgICAgICJDYW5ub3Qga2VlcCByZXN1bHRzIG9wZW4gYWNy\nb3NzIGNvbW1pdCIpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Q29tbWl0V2l0aE1vZGVPbkRlbWFuZCgpIHsKICAgICAgICB0cnkg\newogICAgICAgICAgICB0ZXN0Q29tbWl0V2l0aE9wZW5SZXN1bHRzKCJvbi1k\nZW1hbmQiKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAg\nICAgICAgICBidWcoRW51bVNldC5vZihBYnN0cmFjdFRlc3RDYXNlLlBsYXRm\nb3JtLlBPSU5UQkFTRSwKICAgICAgICAgICAgICAgIEFic3RyYWN0VGVzdENh\nc2UuUGxhdGZvcm0uSU5GT1JNSVgsCiAgICAgICAgICAgICAgICBBYnN0cmFj\ndFRlc3RDYXNlLlBsYXRmb3JtLkVNUFJFU1MpLCA3MTgsIGUsCiAgICAgICAg\nICAgICAgICAiQ2Fubm90IGtlZXAgcmVzdWx0cyBvcGVuIGFjcm9zcyBjb21t\naXQiKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIHRlc3RD\nb21taXRXaXRoT3BlblJlc3VsdHMoU3RyaW5nIGNybSkgewogICAgICAgIE1h\ncCBwcm9wcyA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgcHJvcHMucHV0KCJv\ncGVuanBhLkRlZmF1bHRGZXRjaFRocmVzaG9sZCIsIDEgKyAiIik7CiAgICAg\nICAgcHJvcHMucHV0KCJvcGVuanBhLkNvbm5lY3Rpb25SZXRhaW5Nb2RlIiwg\nY3JtKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBt\nZiA9CiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnkp\nIGdldEVtZihwcm9wcyk7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIg\ncG0gPSBwbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwoKICAgICAgICBzdGFy\ndFR4KHBtKTsKICAgICAgICBJdGVyYXRvciByZXN1bHRzID0KICAgICAgICAg\nICAgcG0uY3JlYXRlRXh0ZW50KFJ1bnRpbWVUZXN0MS5jbGFzcywgZmFsc2Up\nLml0ZXJhdG9yKCk7CiAgICAgICAgcmVzdWx0cy5uZXh0KCk7CiAgICAgICAg\nKChSdW50aW1lVGVzdDEpIHJlc3VsdHMubmV4dCgpKS5zZXRTdHJpbmdGaWVs\nZCgiY2hhbmdlZCBuYW1lIik7CiAgICAgICAgZW5kVHgocG0pOwogICAgICAg\nIHdoaWxlIChyZXN1bHRzLmhhc05leHQoKSkKICAgICAgICAgICAgcmVzdWx0\ncy5uZXh0KCk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQp9Cg==\n","encoding":"base64"}

