{"sha":"cf4cf1102ce6b897b7125e47b9b2837452b65df7","node_id":"MDQ6QmxvYjIwNjM2NDpjZjRjZjExMDJjZTZiODk3YjcxMjVlNDdiOWIyODM3NDUyYjY1ZGY3","size":11369,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cf4cf1102ce6b897b7125e47b9b2837452b65df7","content":"LyoKICogVGVzdE9wdGltaXN0aWNMb2NrR3JvdXBzLmphdmEKICoKICogQ3Jl\nYXRlZCBvbiBPY3RvYmVyIDEyLCAyMDA2LCAyOjU3IFBNCiAqCiAqIFRvIGNo\nYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBN\nYW5hZ2VyCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9y\nLgogKi8KLyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBG\nb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1\ndG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUK\nICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwg\naW5mb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAu\nICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIg\ndGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWlu\nIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJl\ncXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0\naW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5z\nZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRI\nT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwg\nZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBm\nb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNz\naW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAg\nIAogKi8KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\na2VybmVsOwoKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmtlcm5lbC5jb21tb24uYXBwcy5Mb2NrR3JvdXBQQzsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFw\ncHMuTG9ja0dyb3VwUEMyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5SdW50aW1lVGVzdDE7Cgpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFF\nbnRpdHlNYW5hZ2VyOwoKcHVibGljIGNsYXNzIFRlc3RPcHRpbWlzdGljTG9j\na0dyb3VwcyBleHRlbmRzIEJhc2VLZXJuZWxUZXN0IHsKCiAgICBwcml2YXRl\nIE9iamVjdCBvaWQ7CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IGlu\nc3RhbmNlIG9mIFRlc3RPcHRpbWlzdGljTG9ja0dyb3VwcwogICAgICovCiAg\nICBwdWJsaWMgVGVzdE9wdGltaXN0aWNMb2NrR3JvdXBzKCkgewogICAgfQoK\nICAgIHB1YmxpYyBUZXN0T3B0aW1pc3RpY0xvY2tHcm91cHMoU3RyaW5nIG5h\nbWUpIHsKICAgICAgICBzdXBlcihuYW1lKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRVcCgpIHsKICAgICAgICBkZWxldGVBbGwoTG9ja0dyb3VwUEMu\nY2xhc3MpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdl\ndFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAg\nICAgT2JqZWN0IG8gPSBuZXcgTG9ja0dyb3VwUEMoKTsKICAgICAgICBwbS5w\nZXJzaXN0KG8pOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBvaWQgPSBw\nbS5nZXRPYmplY3RJZChvKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdERlZmF1bHRMb2NrR3JvdXBGYWlsdXJlMSgp\nIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbTEgPSBnZXRQTShm\nYWxzZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0xKTsKICAgICAgICBM\nb2NrR3JvdXBQQyBwYzEgPSAoTG9ja0dyb3VwUEMpIHBtMS5maW5kKExvY2tH\ncm91cFBDLmNsYXNzLCBvaWQpOwogICAgICAgIHBjMS5zZXREZWZhdWx0TG9j\na0dyb3VwU3RyaW5nRmllbGQoInBtMSB2YWx1ZSIpOwoKICAgICAgICBPcGVu\nSlBBRW50aXR5TWFuYWdlciBwbTIgPSBnZXRQTShmYWxzZSwgZmFsc2UpOwog\nICAgICAgIHN0YXJ0VHgocG0yKTsKICAgICAgICBMb2NrR3JvdXBQQyBwYzIg\nPSAoTG9ja0dyb3VwUEMpIHBtMi5maW5kKExvY2tHcm91cFBDLmNsYXNzLCBv\naWQpOwogICAgICAgIHBjMi5zZXREZWZhdWx0TG9ja0dyb3VwU3RyaW5nRmll\nbGQoInBtMiB2YWx1ZSIpOwoKICAgICAgICBlbmRUeChwbTEpOwogICAgICAg\nIGVuZEVtKHBtMSk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGVuZFR4\nKHBtMik7CiAgICAgICAgICAgIGZhaWwoInNob3VsZCBub3QgYmUgYWJsZSB0\nbyBjb21taXQgY2hhbmdlIHRvIHNhbWUgdmFsdWUiKTsKICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBhc3NlcnRFcXVhbHMo\ncGMyLCBnZXRGYWlsZWRPYmplY3QoZSkpOwogICAgICAgIH0KICAgICAgICBl\nbmRFbShwbTIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3REZWZhdWx0\nTG9ja0dyb3VwRmFpbHVyZTIoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0xID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFy\ndFR4KHBtMSk7CiAgICAgICAgTG9ja0dyb3VwUEMgcGMxID0gKExvY2tHcm91\ncFBDKSBwbTEuZmluZChMb2NrR3JvdXBQQy5jbGFzcywgb2lkKTsKICAgICAg\nICBwYzEuc2V0RGVmYXVsdExvY2tHcm91cFN0cmluZ0ZpZWxkKCJwbTEgdmFs\ndWUiKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0yID0gZ2V0\nUE0oZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtMik7CiAgICAg\nICAgTG9ja0dyb3VwUEMgcGMyID0gKExvY2tHcm91cFBDKSBwbTIuZmluZChM\nb2NrR3JvdXBQQy5jbGFzcywgb2lkKTsKICAgICAgICBwYzIuc2V0RXhwbGlj\naXREZWZhdWx0TG9ja0dyb3VwSW50RmllbGQoMik7CgogICAgICAgIGVuZFR4\nKHBtMSk7CiAgICAgICAgZW5kRW0ocG0xKTsKCiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgZW5kVHgocG0yKTsKICAgICAgICAgICAgZmFpbCgic2hvdWxk\nIG5vdCBiZSBhYmxlIHRvIGNvbW1pdCBjaGFuZ2UgdG8gc2FtZSB2YWx1ZSIp\nOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAg\nIGFzc2VydEVxdWFscyhwYzIsIGdldEZhaWxlZE9iamVjdChlKSk7CiAgICAg\nICAgfQogICAgICAgIGVuZEVtKHBtMik7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdE5vbkRlZmF1bHRMb2NrR3JvdXBGYWlsdXJlMSgpIHsKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbTEgPSBnZXRQTShmYWxzZSwgZmFs\nc2UpOwogICAgICAgIHN0YXJ0VHgocG0xKTsKICAgICAgICBMb2NrR3JvdXBQ\nQyBwYzEgPSAoTG9ja0dyb3VwUEMpIHBtMS5maW5kKExvY2tHcm91cFBDLmNs\nYXNzLCBvaWQpOwogICAgICAgIHBjMS5zZXRMb2NrR3JvdXAwSW50RmllbGQo\nMSk7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtMiA9IGdldFBN\nKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbTIpOwogICAgICAg\nIExvY2tHcm91cFBDIHBjMiA9IChMb2NrR3JvdXBQQykgcG0yLmZpbmQoTG9j\na0dyb3VwUEMuY2xhc3MsIG9pZCk7CiAgICAgICAgcGMyLnNldExvY2tHcm91\ncDBJbnRGaWVsZCgyKTsKCiAgICAgICAgZW5kVHgocG0xKTsKICAgICAgICBl\nbmRFbShwbTEpOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBlbmRUeChw\nbTIpOwogICAgICAgICAgICBmYWlsKCJzaG91bGQgbm90IGJlIGFibGUgdG8g\nY29tbWl0IGNoYW5nZSB0byBzYW1lIHZhbHVlIik7CiAgICAgICAgfSBjYXRj\naCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKHBj\nMiwgZ2V0RmFpbGVkT2JqZWN0KGUpKTsKICAgICAgICB9CiAgICAgICAgZW5k\nRW0ocG0yKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9uRGVmYXVs\ndExvY2tHcm91cEZhaWx1cmUyKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtMSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3Rh\ncnRUeChwbTEpOwogICAgICAgIExvY2tHcm91cFBDIHBjMSA9IChMb2NrR3Jv\ndXBQQykgcG0xLmZpbmQoTG9ja0dyb3VwUEMuY2xhc3MsIG9pZCk7CiAgICAg\nICAgcGMxLnNldExvY2tHcm91cDBJbnRGaWVsZCgxKTsKCiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0yID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsK\nICAgICAgICBzdGFydFR4KHBtMik7CiAgICAgICAgTG9ja0dyb3VwUEMgcGMy\nID0gKExvY2tHcm91cFBDKSBwbTIuZmluZChMb2NrR3JvdXBQQy5jbGFzcywg\nb2lkKTsKICAgICAgICBwYzIuc2V0TG9ja0dyb3VwMFN0cmluZ0ZpZWxkKCJw\nbTIiKTsKCiAgICAgICAgZW5kVHgocG0xKTsKICAgICAgICBlbmRFbShwbTEp\nOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBlbmRUeChwbTIpOwogICAg\nICAgICAgICBmYWlsKCJzaG91bGQgbm90IGJlIGFibGUgdG8gY29tbWl0IGNo\nYW5nZSB0byBzYW1lIHZhbHVlIik7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0\naW9uIGUpIHsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKHBjMiwgZ2V0RmFp\nbGVkT2JqZWN0KGUpKTsKICAgICAgICB9CiAgICAgICAgZW5kRW0ocG0yKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TXVsdGlwbGVMb2NrR3JvdXBT\ndWNjZXNzMSgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbTEg\nPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0xKTsK\nICAgICAgICBMb2NrR3JvdXBQQyBwYzEgPSAoTG9ja0dyb3VwUEMpIHBtMS5m\naW5kKExvY2tHcm91cFBDLmNsYXNzLCBvaWQpOwogICAgICAgIHBjMS5zZXRE\nZWZhdWx0TG9ja0dyb3VwU3RyaW5nRmllbGQoInBtMSB2YWx1ZSIpOwogICAg\nICAgIHBjMS5zZXRFeHBsaWNpdERlZmF1bHRMb2NrR3JvdXBJbnRGaWVsZCgx\nKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0yID0gZ2V0UE0o\nZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtMik7CiAgICAgICAg\nTG9ja0dyb3VwUEMgcGMyID0gKExvY2tHcm91cFBDKSBwbTIuZmluZChMb2Nr\nR3JvdXBQQy5jbGFzcywgb2lkKTsKICAgICAgICBwYzIuc2V0TG9ja0dyb3Vw\nMEludEZpZWxkKDIpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBw\nbTMgPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0z\nKTsKICAgICAgICBMb2NrR3JvdXBQQyBwYzMgPSAoTG9ja0dyb3VwUEMpIHBt\nMy5maW5kKExvY2tHcm91cFBDLmNsYXNzLCBvaWQpOwogICAgICAgIHBjMy5z\nZXRMb2NrR3JvdXAxUmVsYXRpb25GaWVsZChuZXcgUnVudGltZVRlc3QxKCkp\nOwoKICAgICAgICBlbmRUeChwbTEpOwogICAgICAgIGVuZEVtKHBtMSk7Cgog\nICAgICAgIGVuZFR4KHBtMik7CiAgICAgICAgZW5kRW0ocG0yKTsKCiAgICAg\nICAgZW5kVHgocG0zKTsKICAgICAgICBlbmRFbShwbTMpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RNdWx0aXBsZUxvY2tHcm91cFN1Y2Nlc3MyKCkg\newogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtMSA9IGdldFBNKGZh\nbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbTEpOwogICAgICAgIExv\nY2tHcm91cFBDIHBjMSA9IChMb2NrR3JvdXBQQykgcG0xLmZpbmQoTG9ja0dy\nb3VwUEMuY2xhc3MsIG9pZCk7CiAgICAgICAgcGMxLnNldERlZmF1bHRMb2Nr\nR3JvdXBTdHJpbmdGaWVsZCgicG0xIHZhbHVlIik7CiAgICAgICAgcGMxLnNl\ndExvY2tHcm91cDBJbnRGaWVsZCgxKTsKCiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXIgcG0yID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsKICAgICAgICBz\ndGFydFR4KHBtMik7CiAgICAgICAgTG9ja0dyb3VwUEMgcGMyID0gKExvY2tH\ncm91cFBDKSBwbTIuZmluZChMb2NrR3JvdXBQQy5jbGFzcywgb2lkKTsKICAg\nICAgICBwYzIuc2V0TG9ja0dyb3VwMVJlbGF0aW9uRmllbGQobmV3IFJ1bnRp\nbWVUZXN0MSgpKTsKCiAgICAgICAgZW5kVHgocG0yKTsKICAgICAgICBlbmRF\nbShwbTIpOwoKICAgICAgICBlbmRUeChwbTEpOwogICAgICAgIGVuZEVtKHBt\nMSk7CiAgICB9CgovLyAgICAgICAgRklYIE1FOiBhb2tla2UgLSB0ZXN0IGlz\nIHRha2luZyBzbyBtdWNoIHJlc291cmNlIGFuZCBjYXVzaW5nIHN1YnNlcXVl\nbnQgdGVzdCB0byBmYWlsCi8vICAgICAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9M\nb2NrR3JvdXBTdWNjZXNzKCkgewovLyAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0xID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsKLy8gICAgICAgIHN0\nYXJ0VHgocG0xLCgpKTsKLy8gICAgICAgIExvY2tHcm91cFBDIHBjMSA9IChM\nb2NrR3JvdXBQQykgcG0xLmZpbmQoTG9ja0dyb3VwUEMuY2xhc3Msb2lkKTsK\nLy8gICAgICAgIHBjMS5zZXREZWZhdWx0TG9ja0dyb3VwU3RyaW5nRmllbGQo\nInBtMSB2YWx1ZSIpOwovLyAgICAgICAgcGMxLnNldExvY2tHcm91cDBJbnRG\naWVsZCgxKTsKLy8gICAgICAgIHBjMS5zZXRVbmxvY2tlZFN0cmluZ0ZpZWxk\nKCJwbTEgdmFsdWUiKTsKLy8gICAgICAgIAovLyAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgcG0yID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsKLy8gICAg\nICAgIHN0YXJ0VHgocG0yLCgpKTsKLy8gICAgICAgIExvY2tHcm91cFBDIHBj\nMiA9IChMb2NrR3JvdXBQQykgcG0yLmZpbmQoTG9ja0dyb3VwUEMuY2xhc3Ms\nb2lkKTsKLy8gICAgICAgIHBjMi5zZXRMb2NrR3JvdXAxUmVsYXRpb25GaWVs\nZChuZXcgUnVudGltZVRlc3QxKCkpOwovLyAgICAgICAgcGMyLnNldFVubG9j\na2VkU3RyaW5nRmllbGQoInBtMiB2YWx1ZSIpOwovLyAgICAgICAgCi8vICAg\nICAgICBlbmRUeChwbTEsKCkpOwovLyAgICAgICAgZW5kRW0ocG0xKTsKLy8g\nICAgICAgIAovLyAgICAgICAgZW5kVHgocG0yLCgpKTsKLy8gICAgICAgIGVu\nZEVtKHBtMik7Ci8vICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0QXR0YWNo\nRGV0YWNoU3VjY2VzcygpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0xID0gZ2V0UE0oZmFsc2Us\nIGZhbHNlKTsKICAgICAgICBMb2NrR3JvdXBQQyBwYzEgPSAoTG9ja0dyb3Vw\nUEMpIHBtMS5maW5kKExvY2tHcm91cFBDLmNsYXNzLCBvaWQpOwogICAgICAg\nIE9iamVjdCBkZXRhY2hlZCA9IHBtMS5kZXRhY2gocGMxKTsKICAgICAgICBz\ndGFydFR4KHBtMSk7CiAgICAgICAgcGMxLnNldExvY2tHcm91cDBJbnRGaWVs\nZCgxKTsKICAgICAgICBwYzEuc2V0VW5sb2NrZWRTdHJpbmdGaWVsZCgicG0x\nIGNoYW5nZWQgdmFsdWUiKTsKICAgICAgICBlbmRUeChwbTEpOwogICAgICAg\nIGVuZEVtKHBtMSk7CgogICAgICAgIC8qCiAgICAgICAgIC8vIHdvbid0IHdv\ncmsgd2l0aG91dCBub24tdHJhbnNpZW50IGRldGFjaGVkIHN0YXRlCiAgICAg\nICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbSBiYW9zID0gbmV3IEJ5dGVBcnJh\neU91dHB1dFN0cmVhbSAoKTsKICAgICAgICAgT2JqZWN0T3V0cHV0U3RyZWFt\nIG9vcyA9IG5ldyBPYmplY3RPdXRwdXRTdHJlYW0gKGJhb3MpOwogICAgICAg\nICBvb3Mud3JpdGVPYmplY3QgKGRldGFjaGVkKTsKICAgICAgICAgb29zLmNs\nb3NlICgpOwogICAgICAgICBiYW9zLmNsb3NlICgpOwoKICAgICAgICAgQnl0\nZUFycmF5SW5wdXRTdHJlYW0gYmFpcyA9CiAgICAgICAgICAgICBuZXcgQnl0\nZUFycmF5SW5wdXRTdHJlYW0gKGJhb3MudG9CeXRlQXJyYXkgKCkpOwogICAg\nICAgICBPYmplY3RJbnB1dFN0cmVhbSBvaXMgPSBuZXcgT2JqZWN0SW5wdXRT\ndHJlYW0gKGJhaXMpOwogICAgICAgICBMb2NrR3JvdXBQQyBjbG9uZSA9IChM\nb2NrR3JvdXBQQykgb2lzLnJlYWRPYmplY3QgKCk7CiAgICAgICAgKi8KICAg\nICAgICBMb2NrR3JvdXBQQyBjbG9uZSA9IChMb2NrR3JvdXBQQykgZGV0YWNo\nZWQ7CiAgICAgICAgY2xvbmUuc2V0TG9ja0dyb3VwMUludEZpZWxkKDIpOwog\nICAgICAgIGNsb25lLnNldFVubG9ja2VkU3RyaW5nRmllbGQoInBtMiB2YWx1\nZSIpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbTIgPSBnZXRQ\nTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0yKTsKICAgICAg\nICBwbTIubWVyZ2UoY2xvbmUpOwogICAgICAgIGVuZFR4KHBtMik7CiAgICAg\nICAgZW5kRW0ocG0yKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0QXR0\nYWNoRGV0YWNoRmFpbHVyZSgpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0xID0gZ2V0UE0oZmFs\nc2UsIGZhbHNlKTsKICAgICAgICBMb2NrR3JvdXBQQyBwYzEgPSAoTG9ja0dy\nb3VwUEMpIHBtMS5maW5kKExvY2tHcm91cFBDLmNsYXNzLCBvaWQpOwogICAg\nICAgIE9iamVjdCBkZXRhY2hlZCA9IHBtMS5kZXRhY2gocGMxKTsKICAgICAg\nICBzdGFydFR4KHBtMSk7CiAgICAgICAgcGMxLnNldExvY2tHcm91cDBJbnRG\naWVsZCgxKTsKICAgICAgICBlbmRUeChwbTEpOwogICAgICAgIGVuZEVtKHBt\nMSk7CgogICAgICAgIC8qCiAgICAgICAgIC8vIHdvbid0IHdvcmsgd2l0aG91\ndCBub24tdHJhbnNpZW50IGRldGFjaGVkIHN0YXRlCiAgICAgICAgIEJ5dGVB\ncnJheU91dHB1dFN0cmVhbSBiYW9zID0gbmV3IEJ5dGVBcnJheU91dHB1dFN0\ncmVhbSAoKTsKICAgICAgICAgT2JqZWN0T3V0cHV0U3RyZWFtIG9vcyA9IG5l\ndyBPYmplY3RPdXRwdXRTdHJlYW0gKGJhb3MpOwogICAgICAgICBvb3Mud3Jp\ndGVPYmplY3QgKGRldGFjaGVkKTsKICAgICAgICAgb29zLmNsb3NlICgpOwog\nICAgICAgICBiYW9zLmNsb3NlICgpOwoKICAgICAgICAgQnl0ZUFycmF5SW5w\ndXRTdHJlYW0gYmFpcyA9CiAgICAgICAgICAgICBuZXcgQnl0ZUFycmF5SW5w\ndXRTdHJlYW0gKGJhb3MudG9CeXRlQXJyYXkgKCkpOwogICAgICAgICBPYmpl\nY3RJbnB1dFN0cmVhbSBvaXMgPSBuZXcgT2JqZWN0SW5wdXRTdHJlYW0gKGJh\naXMpOwogICAgICAgICBMb2NrR3JvdXBQQyBjbG9uZSA9IChMb2NrR3JvdXBQ\nQykgb2lzLnJlYWRPYmplY3QgKCk7CiAgICAgICAgKi8KICAgICAgICBMb2Nr\nR3JvdXBQQyBjbG9uZSA9IChMb2NrR3JvdXBQQykgZGV0YWNoZWQ7CiAgICAg\nICAgY2xvbmUuc2V0TG9ja0dyb3VwMEludEZpZWxkKDIpOwoKICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbTIgPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOwogICAgICAgIHN0YXJ0VHgocG0yKTsKICAgICAgICBib29sZWFuIGZhaWxl\nZCA9IGZhbHNlOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHBtMi5tZXJn\nZShjbG9uZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAg\nICAgICAgICAgZmFpbGVkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlm\nIChmYWlsZWQpCiAgICAgICAgICAgIHJvbGxiYWNrVHgocG0yKTsKICAgICAg\nICBlbHNlIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGVu\nZFR4KHBtMik7CiAgICAgICAgICAgICAgICBmYWlsKCJBbGxvd2VkIGNvbmZs\naWN0aW5nIGNoYW5nZXMiKTsKICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0\naW9uIGp2ZSkgewogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RMb2NrR3JvdXBOb25lKCkgewogICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsK\nLy8gICAgICAgIHBtLmJlZ2luKCk7CiAgICAgICAgZGVsZXRlQWxsKExvY2tH\ncm91cFBDMi5jbGFzcywgcG0pOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAg\nICAgIExvY2tHcm91cFBDMiBwYyA9IG5ldyBMb2NrR3JvdXBQQzIoKTsKICAg\nICAgICBwYy5zZXROYW1lKCJwYyIpOwogICAgICAgIHBtLnBlcnNpc3QocGMp\nOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBPYmplY3Qgb2lkID0gcG0u\nZ2V0T2JqZWN0SWQocGMpOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAg\ncG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHBjID0gKExvY2tH\ncm91cFBDMikgcG0uZmluZChMb2NrR3JvdXBQQzIuY2xhc3MsIG9pZCk7CiAg\nICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgcGMuZ2V0TGlzdCgpLmFkZCgi\nZm9vIik7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtMiA9IGdl\ndFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgTG9ja0dyb3VwUEMyIHBjMiA9\nIChMb2NrR3JvdXBQQzIpIHBtMi5maW5kKExvY2tHcm91cFBDMi5jbGFzcywg\nb2lkKTsKICAgICAgICBzdGFydFR4KHBtMik7CiAgICAgICAgcGMyLmdldExp\nc3QoKS5hZGQoImJhciIpOwogICAgICAgIGVuZFR4KHBtMik7CiAgICAgICAg\nZW5kRW0ocG0yKTsKCiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVt\nKHBtKTsKCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAg\nICAgIHBjID0gKExvY2tHcm91cFBDMikgcG0uZmluZChMb2NrR3JvdXBQQzIu\nY2xhc3MsIG9pZCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHBjLmdldExp\nc3QoKS5zaXplKCkpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCi8vICAg\nIHB1YmxpYyB2b2lkIHRlc3RLbm93blN1YmNsYXNzKCkgewovLyAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOwovLyAgICAgICAgTG9ja0dyb3VwUENLbm93blN1YmNsYXNzIHBjID0gbmV3\nIExvY2tHcm91cFBDS25vd25TdWJjbGFzcygpOwovLyAgICAgICAgcGMuc2V0\nRGVmYXVsdExvY2tHcm91cFN0cmluZ0ZpZWxkKCJwYyIpOwovLyAgICAgICAg\nc3RhcnRUeChwbSwoKSk7Ci8vICAgICAgICBwbS5wZXJzaXN0KHBjKTsKLy8g\nICAgICAgIGVuZFR4KHBtLCgpKTsKLy8gICAgICAgIAovLyAgICAgICAgc3Rh\ncnRUeChwbSwoKSk7Ci8vICAgICAgICBwYy5zZXRLbm93blN1YmNsYXNzU3Ry\naW5nRmllbGQoImZvbyIpOwovLyAgICAgICAgZW5kVHgocG0sKCkpOwovLyAg\nICB9CgogICAgLy9GSVhNRSBqdGhvbWFzIC0gd2hhdCBkbyB3ZSBuZWVkIHRv\nIHN1YnN0aXR1dGUgZm9yIEpET0V4Y2VwdGlvbiA/Ci8vICAgIHByaXZhdGUg\nT2JqZWN0IGdldEZhaWxlZE9iamVjdChKRE9FeGNlcHRpb24gZSkgewovLyAg\nICAgICAgcmV0dXJuICgoSkRPRXhjZXB0aW9uKSBlLmdldE5lc3RlZEV4Y2Vw\ndGlvbnMoKVswXSkuZ2V0RmFpbGVkT2JqZWN0KCk7Ci8vICAgIH0KCiAgICBw\ncml2YXRlIE9iamVjdCBnZXRGYWlsZWRPYmplY3QoRXhjZXB0aW9uIGUpIHsK\nICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQo=\n","encoding":"base64"}

