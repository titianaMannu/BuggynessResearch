{"sha":"72cc7dad135c52ae48c177103f118a77824f4cbb","node_id":"MDQ6QmxvYjIwNjM2NDo3MmNjN2RhZDEzNWM1MmFlNDhjMTc3MTAzZjExOGE3NzgyNGY0Y2Ji","size":8819,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/72cc7dad135c52ae48c177103f118a77824f4cbb","content":"LyoKICogVGVzdE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeUltcGwuamF2\nYQogKgogKiBDcmVhdGVkIG9uIE9jdG9iZXIgMTMsIDIwMDYsIDEwOjU0IEFN\nCiAqCiAqIFRvIGNoYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMg\nfCBUZW1wbGF0ZSBNYW5hZ2VyCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBp\nbiB0aGUgZWRpdG9yLgogKi8KLyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNo\nZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBt\nb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUg\nTk9USUNFIGZpbGUKICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9y\nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdo\ndCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0\nbyB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAo\ndGhlCiAqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUg\nZXhjZXB0IGluIGNvbXBsaWFuY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlv\ndSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBo\ndHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoK\nICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVl\nZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRl\nciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMi\nIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBB\nTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0\naGUgTGljZW5zZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVy\nbmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhl\nIExpY2Vuc2UuICAgIAogKi8KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsOwoKaW1wb3J0IGphdmEudXRpbC5NYXA7Cgpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5j\nb21tb24uYXBwcy5SdW50aW1lVGVzdDE7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLlJ1bnRpbWVU\nZXN0NDsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLk9wZW5KUEFD\nb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYu\nT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmV2ZW50LkxpZmVjeWNsZUV2ZW50OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmV2ZW50LkxvYWRMaXN0ZW5lcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuQWJzdHJhY3RCcm9rZXJGYWN0b3J5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5Ccm9rZXJJbXBsOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5TdG9yZU1hbmFnZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlv\nblByb3ZpZGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0\nYURhdGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLkpQQUZhY2FkZUhlbHBlcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5jZTsKCnB1\nYmxpYyBjbGFzcyBUZXN0UGVyc2lzdGVuY2VNYW5hZ2VyRmFjdG9yeUltcGwg\nZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7CgogICAgcHJpdmF0ZSBPcGVuSlBB\nQ29uZmlndXJhdGlvbiBfY29uZiA9IG51bGw7CgogICAgLyoqCiAgICAgKiBD\ncmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RPcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3RvcnlJbXBsCiAgICAgKi8KICAgIHB1YmxpYyBUZXN0UGVyc2lz\ndGVuY2VNYW5hZ2VyRmFjdG9yeUltcGwoKSB7CiAgICB9CgogICAgcHVibGlj\nIFRlc3RQZXJzaXN0ZW5jZU1hbmFnZXJGYWN0b3J5SW1wbChTdHJpbmcgdGVz\ndCkgewogICAgICAgIHN1cGVyKHRlc3QpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFVwKCkgewogICAgICAgIF9jb25mID0gbmV3IE9wZW5KUEFDb25m\naWd1cmF0aW9uSW1wbCgpOwogICAgICAgIF9jb25mLnNldENvbm5lY3Rpb24y\nVXNlck5hbWUoInVzZXIiKTsKICAgICAgICBfY29uZi5zZXRDb25uZWN0aW9u\nMlBhc3N3b3JkKCJwYXNzIik7CiAgICAgICAgX2NvbmYuc2V0Q29ubmVjdGlv\nbjJVUkwoInVybCIpOwogICAgfQoKICAgIC8qKgogICAgICogVGVzdCB0aGF0\nIGNvbmZpZ3VyYXRpb24gaXMgZnJvemVuIGFmdGVyIHJldHJpZXZpbmcgYSBm\nYWN0b3J5LgogICAgICoKICAgICAqIFRoaXMgdGVzdCBjYXNlIGlzIGZvciBr\nb2RvIHBlcnNpc3RlbmNlbWFuYWdlcmZhY3RvcmllcyBhbmQgbm90IG9wZW5q\ncGFlbnRpdHltYW5hZ2Vycy4KICAgICAqIHRoZXJlZm9yZSBpdHMgYmVlbiBj\nb21tZW50ZWQgb3V0LiAKICAgICAqIEZJWCBNRTogYW9rZWtlCiAgICAgKi8K\nLyogICAgcHVibGljIHZvaWQgdGVzdENvbmZpZ3VyYXRpb25GcmVlemUoKSAK\nICAgIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgcG1m\nID0gZ2V0T3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5KF9jb25mLnRvUHJv\ncGVydGllcyhmYWxzZSkpOwogICAgICAgIGFzc2VydEVxdWFscygidXNlciIs\nIHBtZi5nZXRDb25maWd1cmF0aW9uKCkuZ2V0Q29ubmVjdGlvbjJVc2VyTmFt\nZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInVybCIsIHBtZi5nZXRDb25m\naWd1cmF0aW9uKCkuZ2V0Q29ubmVjdGlvbjJVUkwoKSk7CiAgICAgICAgdHJ5\nIAogICAgICAgIHsKICAgICAgICAgICAgcG1mLmdldENvbmZpZ3VyYXRpb24o\nKS5zZXRDb25uZWN0aW9uMlVSTCgidXJsMiIpOwogICAgICAgICAgICBmYWls\nKCJBbGxvd2VkIGNvbmZpZ3VyYXRpb24gY2hhbmdlLiIpOwogICAgICAgIH0g\nCiAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSAKICAgICAgICB7CiAgICAg\nICAgfQogICAgfSovCgogICAgLyoqCiAgICAgKiBUZXN0IHRoYXQgcGVyc2lz\ndGVuY2UgbWFuYWdlciBmYWN0b3JpZXMgYXJlIGJlaW5nIHBvb2xlZC4KICAg\nICAqCiAgICAgKiBUaGlzIHRlc3QgY2FzZSBpcyBmb3Iga29kbyBwZXJzaXN0\nZW5jZW1hbmFnZXJmYWN0b3JpZXMuIEl0IGRvZXNudCBhcHBseSB0byAKICAg\nICAqIG9wZW5qcGFlbnRpdHltYW5hZ2VyZmFjdG9yaWVzIHRoZXJlZm9yZSBp\ndCB3aWxsIGJlIGNvbW1lbnRlZCBvdXQuCiAgICAgKiBGSVggTUU6IGFva2Vr\nZQogICAgICovCiAgICAvKnB1YmxpYyB2b2lkIHRlc3RGYWN0b3J5UG9vbGlu\nZygpIHsKICAgICAgICBQcm9wZXJ0aWVzIHByb3BzID0gbmV3IFByb3BlcnRp\nZXMoKTsKICAgICAgICBwcm9wcy5wdXRBbGwoX2NvbmYudG9Qcm9wZXJ0aWVz\nKGZhbHNlKSk7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5\nIHBtZjEgPSBnZXRPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkocHJvcHMp\nOwogICAgICAgIAogICAgICAgIHByb3BzID0gbmV3IFByb3BlcnRpZXMoKTsK\nICAgICAgICBwcm9wcy5wdXRBbGwoX2NvbmYudG9Qcm9wZXJ0aWVzKGZhbHNl\nKSk7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBtZjIg\nPSBnZXRPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkocHJvcHMpOwogICAg\nICAgIAogICAgICAgIHByb3BzID0gbmV3IFByb3BlcnRpZXMoKTsKICAgICAg\nICBwcm9wcy5wdXRBbGwoX2NvbmYudG9Qcm9wZXJ0aWVzKGZhbHNlKSk7CiAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBtZjMgPSBnZXRP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkocHJvcHMpOwogICAgICAgIAog\nICAgICAgIF9jb25mLnNldENvbm5lY3Rpb25VUkwoInVybDIiKTsKICAgICAg\nICBwcm9wcyA9IG5ldyBQcm9wZXJ0aWVzKCk7CiAgICAgICAgcHJvcHMucHV0\nQWxsKF9jb25mLnRvUHJvcGVydGllcyhmYWxzZSkpOwogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBwbWY0ID0gZ2V0T3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5CiAgICAgICAgICAgICAgICAoX2NvbmYudG9Qcm9w\nZXJ0aWVzKGZhbHNlKSk7CiAgICAgICAgCiAgICAgICAgcHJvcHMgPSBuZXcg\nUHJvcGVydGllcygpOwogICAgICAgIHByb3BzLnB1dEFsbChfY29uZi50b1By\nb3BlcnRpZXMoZmFsc2UpKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3RvcnkgcG1mNSA9IGdldE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neShfY29uZi50b1Byb3BlcnRpZXMoZmFsc2UpKTsKICAgICAgICAKICAgICAg\nICBhc3NlcnRUcnVlKEpQQUZhY2FkZUhlbHBlci50b0Jyb2tlckZhY3Rvcnko\ncG1mMSkgPT0gSlBBRmFjYWRlSGVscGVyLnRvQnJva2VyRmFjdG9yeShwbWYy\nKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZShKUEFGYWNhZGVIZWxwZXIudG9Ccm9r\nZXJGYWN0b3J5KHBtZjEpID09IEpQQUZhY2FkZUhlbHBlci50b0Jyb2tlckZh\nY3RvcnkocG1mMykpOwogICAgICAgIGFzc2VydFRydWUoSlBBRmFjYWRlSGVs\ncGVyLnRvQnJva2VyRmFjdG9yeShwbWYxKSAhPSBKUEFGYWNhZGVIZWxwZXIu\ndG9Ccm9rZXJGYWN0b3J5KHBtZjQpKTsKICAgICAgICBhc3NlcnRUcnVlKEpQ\nQUZhY2FkZUhlbHBlci50b0Jyb2tlckZhY3RvcnkocG1mNCkgPT0gSlBBRmFj\nYWRlSGVscGVyLnRvQnJva2VyRmFjdG9yeShwbWY1KSk7CiAgICB9Ki8KCiAg\nICAvKioKICAgICAqIFRlc3RzIHRoYXQgbGlmZWN5Y2xlIGxpc3RlbmVycyBh\ncmUgdHJhbnNmZXJyZWQgZnJvbSBmYWN0b3J5IHRvCiAgICAgKiBwZXJzaXN0\nZW5jZSBtYW5hZ2Vycy4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEZh\nY3RvcnlMaWZlY3ljbGVMaXN0ZW5lcnMoKSB7CiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXJGYWN0b3J5IHBtZiA9CiAgICAgICAgICAgIChPcGVuSlBB\nRW50aXR5TWFuYWdlckZhY3RvcnkpIGdldEVtZigpOwogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBwbWZTUEkgPQogICAgICAgICAg\nICAoKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSkgT3BlbkpQQVBl\ncnNpc3RlbmNlLmNhc3QocG1mKSk7CgogICAgICAgIC8vRklYTUUganRob21h\ncyAgICAgICAgCiAgICAgICAgTG9hZExpc3RlbmVyIGxpc3RlbmVyID0gbmV3\nIExvYWRMaXN0ZW5lcigpIHsKICAgICAgICAgICAgcHVibGljIHZvaWQgYWZ0\nZXJMb2FkKExpZmVjeWNsZUV2ZW50IGV2KSB7CiAgICAgICAgICAgIH0KCiAg\nICAgICAgICAgIHB1YmxpYyB2b2lkIGFmdGVyUmVmcmVzaChMaWZlY3ljbGVF\ndmVudCBldikgewogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAg\ncG1mU1BJCiAgICAgICAgICAgIC5hZGRMaWZlY3ljbGVMaXN0ZW5lcihsaXN0\nZW5lciwgbmV3IENsYXNzW117IFJ1bnRpbWVUZXN0NC5jbGFzcyB9KTsKCiAg\nICAgICAgdHJ5IHsKICAgICAgICAgICAgQnJva2VySW1wbCBicm9rZXIgPSAo\nQnJva2VySW1wbCkgSlBBRmFjYWRlSGVscGVyLnRvQnJva2VyCiAgICAgICAg\nICAgICAgICAocG1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKSk7CiAgICAgICAg\nICAgIE1ldGFEYXRhUmVwb3NpdG9yeSByZXBvcyA9IGJyb2tlci5nZXRDb25m\naWd1cmF0aW9uKCkuCiAgICAgICAgICAgICAgICBnZXRNZXRhRGF0YVJlcG9z\naXRvcnlJbnN0YW5jZSgpOwogICAgICAgICAgICBhc3NlcnRUcnVlKCJubyBs\naXN0ZW5lcnMgZGVmaW5lZCBhZGRlZCB0byBSdW50aW1ldGVzdDQiLAogICAg\nICAgICAgICAgICAgYnJva2VyLmdldExpZmVjeWNsZUV2ZW50TWFuYWdlcigp\nLmhhc0xvYWRMaXN0ZW5lcnMoCiAgICAgICAgICAgICAgICAgICAgbmV3IFJ1\nbnRpbWVUZXN0NCgiZm9vIiksCiAgICAgICAgICAgICAgICAgICAgcmVwb3Mu\nZ2V0TWV0YURhdGEoUnVudGltZVRlc3Q0LmNsYXNzLCBudWxsLCB0cnVlKSkp\nOwogICAgICAgICAgICBhc3NlcnRGYWxzZSgidGhlcmUgc2hvdWxkIGJlIGxp\nc3RlbmVycyBkZWYgZm9yIHJ1bnRpbWV0ZXN0MSIsCiAgICAgICAgICAgICAg\nICBicm9rZXIuZ2V0TGlmZWN5Y2xlRXZlbnRNYW5hZ2VyKCkuaGFzTG9hZExp\nc3RlbmVycwogICAgICAgICAgICAgICAgICAgIChuZXcgUnVudGltZVRlc3Qx\nKCksIHJlcG9zLmdldE1ldGFEYXRhCiAgICAgICAgICAgICAgICAgICAgICAg\nIChSdW50aW1lVGVzdDEuY2xhc3MsIG51bGwsIHRydWUpKSk7CiAgICAgICAg\nICAgIGJyb2tlci5jbG9zZSgpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAg\nICAgICAgIHBtZlNQSS5yZW1vdmVMaWZlY3ljbGVMaXN0ZW5lcihsaXN0ZW5l\ncik7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogVGVzdHMgdGhh\ndCBwb29saW5nIGlzIG1haW50YWluZWQgb24gZGVzZXJpYWxpemF0aW9uLgog\nICAgICogVGhpcyB0ZXN0IGNhc2UgaXMgZm9yIGtvZG8gcGVyc2lzdGVuY2Vt\nYW5hZ2VyZmFjdG9yaWVzLiBJdCBkb2VzbnQgYXBwbHkgdG8gCiAgICAgKiBv\ncGVuanBhZW50aXR5bWFuYWdlcmZhY3RvcmllcyB0aGVyZWZvcmUgaXQgd2ls\nbCBiZSBjb21tZW50ZWQgb3V0LgogICAgICovCiAgICAvKgogICAgcHVibGlj\nIHZvaWQgdGVzdEZhY3RvcnlTZXJpYWxpemF0aW9uKCkKICAgIHRocm93cyBF\neGNlcHRpb24gewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neSBwbWYxID0gZ2V0T3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5KF9jb25m\nLnRvUHJvcGVydGllcyhmYWxzZSkpOwogICAgICAgIE9iamVjdCBwbWYyID0g\ncm91bmR0cmlwKHBtZjEsIHRydWUpOwogICAgICAgIGFzc2VydEVxdWFscyhw\nbWYxLCBwbWYyKTsKICAgICAgICBhc3NlcnRUcnVlKEpQQUZhY2FkZUhlbHBl\nci50b0Jyb2tlckZhY3RvcnkocG1mMSkgPT0KICAgICAgICAgICAgICAgIEpQ\nQUZhY2FkZUhlbHBlci50b0Jyb2tlckZhY3RvcnkoKE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyRmFjdG9yeSkgcG1mMikpOwogICAgfQogICAgKi8KCiAgICAvKioK\nICAgICAqIFRlc3RzIHRoYXQgdGhlIDxjb2RlPlBsYXRmb3JtPC9jb2RlPiBw\ncm9wZXJ0eSBpcyBzZXQgYnkgdGhlCiAgICAgKiBjb25jcmV0ZSBQTUYgaW1w\nbGVtZW50YXRpb24uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RQbGF0\nZm9ybSgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnkg\ncG1mID0KICAgICAgICAgICAgKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neSkgZ2V0RW1mKCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChwbWYuZ2V0UHJv\ncGVydGllcygpLmdldFByb3BlcnR5KCJQbGF0Zm9ybSIpKTsKICAgIH0KCiAg\nICBwcm90ZWN0ZWQgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IGdldEVt\nZihNYXAgcHJvcHMpIHsKICAgICAgICBwcm9wcy5wdXQoIm9wZW5qcGEuQnJv\na2VyRmFjdG9yeSIsIEJyb2tlckZhY3RvcnlUZXN0LmNsYXNzLmdldE5hbWUo\nKSk7CiAgICAgICAgcmV0dXJuIChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnkpIHN1cGVyLmdldEVtZihwcm9wcyk7CiAgICB9CgogICAgcHVibGljIHN0\nYXRpYyBjbGFzcyBCcm9rZXJGYWN0b3J5VGVzdCBleHRlbmRzIEFic3RyYWN0\nQnJva2VyRmFjdG9yeSB7CgogICAgICAgIC8vIHN0YW5kYXJkIGJyb2tlcmZh\nY3RvcnkgZ2V0dGVyIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMKICAgICAg\nICBwdWJsaWMgc3RhdGljIHN5bmNocm9uaXplZCBCcm9rZXJGYWN0b3J5VGVz\ndCBnZXRJbnN0YW5jZSgKICAgICAgICAgICAgQ29uZmlndXJhdGlvblByb3Zp\nZGVyIGNwKSB7CiAgICAgICAgICAgIE9iamVjdCBrZXkgPSB0b1Bvb2xLZXko\nY3AuZ2V0UHJvcGVydGllcygpKTsKICAgICAgICAgICAgQnJva2VyRmFjdG9y\neVRlc3QgZmFjdG9yeSA9CiAgICAgICAgICAgICAgICAoQnJva2VyRmFjdG9y\neVRlc3QpIGdldFBvb2xlZEZhY3RvcnlGb3JLZXkoa2V5KTsKICAgICAgICAg\nICAgaWYgKGZhY3RvcnkgIT0gbnVsbCkKICAgICAgICAgICAgICAgIHJldHVy\nbiBmYWN0b3J5OwoKICAgICAgICAgICAgZmFjdG9yeSA9IG5ld0luc3RhbmNl\nKGNwKTsKICAgICAgICAgICAgcG9vbChrZXksIGZhY3RvcnkpOwogICAgICAg\nICAgICByZXR1cm4gZmFjdG9yeTsKICAgICAgICB9CgogICAgICAgIC8vIHN0\nYW5kYXJkIGJyb2tlcmZhY3RvcnkgZ2V0dGVyIGltcGxlbWVudGVkIGJ5IHN1\nYmNsYXNzZXMKICAgICAgICBwdWJsaWMgc3RhdGljIEJyb2tlckZhY3RvcnlU\nZXN0IG5ld0luc3RhbmNlKENvbmZpZ3VyYXRpb25Qcm92aWRlciBjcCkgewog\nICAgICAgICAgICBPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwgY29uZiA9IG5l\ndyBPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwoKTsKICAgICAgICAgICAgY3Au\nc2V0SW50byhjb25mKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBCcm9rZXJG\nYWN0b3J5VGVzdChjb25mKTsKICAgICAgICB9CgogICAgICAgIHByb3RlY3Rl\nZCBCcm9rZXJGYWN0b3J5VGVzdChPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25m\nKSB7CiAgICAgICAgICAgIHN1cGVyKGNvbmYpOwogICAgICAgIH0KCiAgICAg\nICAgcHJvdGVjdGVkIFN0b3JlTWFuYWdlciBuZXdTdG9yZU1hbmFnZXIoKSB7\nCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgIH0KfQo=\n","encoding":"base64"}

