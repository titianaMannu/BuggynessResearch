{"sha":"5c24b494e0ec8b53a8ec1561813a0a4610d9eb57","node_id":"MDQ6QmxvYjIwNjM2NDo1YzI0YjQ5NGUwZWM4YjUzYThlYzE1NjE4MTNhMGE0NjEwZDllYjU3","size":8899,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5c24b494e0ec8b53a8ec1561813a0a4610d9eb57","content":"LyoKICogVGVzdFBlc3NpbWlzdGljTG9ja2luZy5qYXZhCiAqCiAqIENyZWF0\nZWQgb24gT2N0b2JlciAxMywgMjAwNiwgMzoxNyBQTQogKgogKiBUbyBjaGFu\nZ2UgdGhpcyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFu\nYWdlcgogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4K\nICovCgovKgogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZv\ndW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiAqIG9yIG1vcmUgY29udHJpYnV0\nb3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQog\nKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBp\nbmZvcm1hdGlvbgogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4g\nIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKICogIkxpY2Vu\nc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29t\ncGxpYW5jZQogKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4g\nYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqIGh0dHA6Ly93d3cuYXBh\nY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVx\ndWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRp\nbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNl\nIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhP\nVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBl\naXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZv\nciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np\nb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4gICAg\nCiAqLwpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5r\nZXJuZWw7CgppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZh\nLnV0aWwuTWFwOwoKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5SdW50aW1lVGVzdDE7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0aWxz\nLkFic3RyYWN0VGVzdENhc2U7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsKaW1wb3J0IGphdmEudXRp\nbC5jb25jdXJyZW50LmxvY2tzLlJlZW50cmFudExvY2s7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFn\nZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmpkYmMuRmV0Y2hNb2RlOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMuSkRCQ0ZldGNoUGxh\nbjsKCnB1YmxpYyBjbGFzcyBUZXN0UGVzc2ltaXN0aWNMb2NraW5nIGV4dGVu\nZHMgQmFzZUtlcm5lbFRlc3QgewoKICAgIHByaXZhdGUgT2JqZWN0IF9pZCA9\nIG51bGw7CiAgICBwcml2YXRlIGludCBfYnVnQ291bnQgPSAwOwogICAgcHJp\ndmF0ZSBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgX2ZhY3RvcnkgPSBu\ndWxsOwoKICAgIHB1YmxpYyBUZXN0UGVzc2ltaXN0aWNMb2NraW5nKFN0cmlu\nZyBuYW1lKSB7CiAgICAgICAgc3VwZXIobmFtZSk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RQZXNzaW1p\nc3RpY0xvY2tpbmcKICAgICAqLwogICAgcHVibGljIFRlc3RQZXNzaW1pc3Rp\nY0xvY2tpbmcoKSB7CiAgICB9CgogICAgcHJvdGVjdGVkIGJvb2xlYW4gc2tp\ncFRlc3QoKSB7CiAgICAgICAgLy8gcG9pbnRiYXNlIGRvZXNuJ3QgcmVhbGx5\nIGxvY2sKICAgICAgICBpZiAoZ2V0Q3VycmVudFBsYXRmb3JtKCkgPT0gQWJz\ndHJhY3RUZXN0Q2FzZS5QbGF0Zm9ybS5QT0lOVEJBU0UpCiAgICAgICAgICAg\nIHJldHVybiB0cnVlOwoKICAgICAgICBpZiAoZ2V0Q29uZmlndXJhdGlvbigp\nIGluc3RhbmNlb2YgSkRCQ0NvbmZpZ3VyYXRpb24pIHsKICAgICAgICAgICAg\nSkRCQ0NvbmZpZ3VyYXRpb24gY29uZiA9IChKREJDQ29uZmlndXJhdGlvbikg\nZ2V0Q29uZmlndXJhdGlvbigpOwogICAgICAgICAgICByZXR1cm4gIWNvbmYu\nZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKS5zdXBwb3J0c1NlbGVjdEZvclVw\nZGF0ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoK\nICAgIC8qKgogICAgICogVXNlIGEgbG9ja2luZyBwZXJzaXN0ZW5jZSBtYW5h\nZ2VyIHdpdGggc3ViY2xhc3MgZmV0Y2ggbW9kZSB0byBzZXQgdG8KICAgICAq\nICJub25lIiB0byBhdm9pZCBzdWJjbGFzcyBqb2lucy4KICAgICAqLwogICAg\ncHJvdGVjdGVkIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGdldExvY2tpbmdQTSgp\nIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IF9mYWN0b3J5\nLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICAoKEpEQkNGZXRjaFBs\nYW4pIHBtLmdldEZldGNoUGxhbigpKQogICAgICAgICAgICAuc2V0U3ViY2xh\nc3NGZXRjaE1vZGUoRmV0Y2hNb2RlLk5PTkUpOwogICAgICAgIHJldHVybiBw\nbTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHRocm93cyBFeGNl\ncHRpb24gewogICAgICAgIGRlbGV0ZUFsbChSdW50aW1lVGVzdDEuY2xhc3Mp\nOwoKICAgICAgICBNYXAgcHJvcHNNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAg\nICAgIHByb3BzTWFwLnB1dCgib3BlbmpwYS5Mb2NrTWFuYWdlciIsICJwZXNz\naW1pc3RpYyIpOwogICAgICAgIF9mYWN0b3J5ID0gKE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyRmFjdG9yeSkgZ2V0RW1mKHByb3BzTWFwKTsKCiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRMb2NraW5nUE0oKTsKICAgICAg\nICBzdGFydFR4KHBtKTsKCiAgICAgICAgUnVudGltZVRlc3QxIGEgPSBuZXcg\nUnVudGltZVRlc3QxKCJuYW1lIiwgMCk7CiAgICAgICAgcG0ucGVyc2lzdChh\nKTsKICAgICAgICBfaWQgPSBwbS5nZXRPYmplY3RJZChhKTsKCiAgICAgICAg\nZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZWFyRG93bigpIHsKICAgICAgICB0cnkgewogICAgICAgICAg\nICBpZiAoX2ZhY3RvcnkgIT0gbnVsbCkKICAgICAgICAgICAgICAgIF9mYWN0\nb3J5LmNsb3NlKCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsK\nICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0IHRoYXQgcGVz\nc2ltaXN0aWMgbG9ja2luZyBpcyB3b3JraW5nIGluIHRoZSBkYXRhIHN0b3Jl\nLgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0UGVzc2ltaXN0aWNMb2Nr\naW5nKCkgdGhyb3dzIFRocm93YWJsZSB7CiAgICAgICAgcGVzc2ltaXN0aWNM\nb2NraW5nVGVzdChmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0\nIHRoYXQgdGhlIHRlc3QgY2FzZSBpdHNlbGYgaXMgd29ya2luZyBiZSB1c2lu\nZyBhIFJlZW50cmFudExvY2suIFRoaXMKICAgICAqIHRlc3Qgd2lsbCB2YWxp\nZGF0ZSB0aGF0IHRoZSB0ZXN0IGNhc2UgaXRzZWxmIGlzIHdvcmtpbmcgY29y\ncmVjdGx5LCBub3QKICAgICAqIHRoYXQgdGhlIGRhdGFzdG9yZSdzIHBlc3Np\nbWlzdGljIGxvY2tpbmcgaXMgd29ya2luZy4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgdGVzdFBlc3NpbWlzdGljTG9ja2luZ0ludGVybmFsKCkgdGhyb3dz\nIFRocm93YWJsZSB7CiAgICAgICAgcGVzc2ltaXN0aWNMb2NraW5nVGVzdCh0\ncnVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3QgdGhhdCBwZXNzaW1p\nc3RpYyBsb2NraW5nIGlzIHdvcmtpbmcgYnkgYXR0ZW1wdGluZyB0byB1cGRh\ndGUgdGhlIHNhbWUKICAgICAqIG9iamVjdCBpbiB0aGUgZGF0YSBzdG9yZS4K\nICAgICAqCiAgICAgKiBAcGFyYW0gdXNlUmVlbnRyYW50TG9jayB0cnVlIGlm\nIHdlIHdhbnQgdG8gc3luY2hyb25pemUgb24gYSBsb2NrIGluc3RlYWQgb2Yg\ncmVseWluZyBvbgogICAgICogdGhlIGRhdGEgc3RvcmUgKHVzZWQgZm9yIHZh\nbGlkYXRpbmcgdGhlIHRlc3QgY2FzZSkuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHBlc3NpbWlzdGljTG9ja2luZ1Rlc3QoYm9vbGVhbiB1c2VSZWVudHJh\nbnRMb2NrKQogICAgICAgIHRocm93cyBUaHJvd2FibGUgewogICAgICAgIGxv\nbmcgdGltZW91dCA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpICsgKDYw\nICogNSAqIDEwMDApOwoKICAgICAgICBSZWVudHJhbnRMb2NrIGxvY2sgPSBu\ndWxsOwogICAgICAgIGlmICh1c2VSZWVudHJhbnRMb2NrKQogICAgICAgICAg\nICBsb2NrID0gbmV3IFJlZW50cmFudExvY2soKTsKCiAgICAgICAgVGVzdFRo\ncmVhZCB0MSA9IG5ldyBUZXN0VGhyZWFkKGxvY2spOwogICAgICAgIFRlc3RU\naHJlYWQgdDIgPSBuZXcgVGVzdFRocmVhZChsb2NrKTsKICAgICAgICB0MS5z\ndGFydCgpOwogICAgICAgIHQyLnN0YXJ0KCk7CgogICAgICAgIGdldExvZygp\nLnRyYWNlKCJzdGFydGVkIHRocmVhZCIpOwoKICAgICAgICAvLyB3YWl0IGZv\nciB0aHJlYWRzIHRvIGRpZSBvciB0aW1lb3V0CiAgICAgICAgd2hpbGUgKCh0\nMS5pc0FsaXZlKCkgfHwgdDIuaXNBbGl2ZSgpKQogICAgICAgICAgICAmJiBT\neXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSA8IHRpbWVvdXQpIHsKICAgICAg\nICAgICAgVGhyZWFkLnNsZWVwKDEwMDApOwogICAgICAgICAgICBnZXRMb2co\nKS50cmFjZSgKICAgICAgICAgICAgICAgICJ0aHJlYWQgd2FpdGluZyBmb3Ig\nY29tcGxldGlvbiAoIgogICAgICAgICAgICAgICAgICAgICsgKHRpbWVvdXQg\nLSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSkKICAgICAgICAgICAgICAg\nICAgICArICIgbXMgbGVmdCkiKTsKICAgICAgICB9CgogICAgICAgIGdldExv\nZygpLnRyYWNlKCJjaGVja2luZyBpZiB0aHJlYWQgaXMgYWxpdmUiKTsKICAg\nICAgICBTeXN0ZW0ub3V0LmZsdXNoKCk7CgogICAgICAgIGlmICh0MS5pc0Fs\naXZlKCkgfHwgdDIuaXNBbGl2ZSgpKSB7CiAgICAgICAgICAgIGdldExvZygp\nLnRyYWNlKCJ0aHJlYWQgaXMgc3RpbGwgYWxpdmUiKTsKICAgICAgICAgICAg\nU3lzdGVtLm91dC5mbHVzaCgpOwoKICAgICAgICAgICAgLy8gZG8gb3V0IGJl\nc3QgdG8gY2xlYW4gdGhlbSB1cAogICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgdDEuaW50ZXJydXB0KCk7CiAgICAgICAgICAgIH0KICAgICAg\nICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIH0KICAg\nICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHQyLmludGVycnVwdCgp\nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24g\nZSkgewogICAgICAgICAgICB9CgogICAgICAgICAgICB0aHJvdyBuZXcgRXhj\nZXB0aW9uKCJUaHJlYWQgZGlkIG5vdCBjb21wbGV0ZSBhZnRlciB0aW1lb3V0\nICgiCiAgICAgICAgICAgICAgICArIHRpbWVvdXQgKyAiKTogcG9zc2libGUg\nZGVhZGxvY2siKTsKICAgICAgICB9CgogICAgICAgIGdldExvZygpLnRyYWNl\nKCJjaGVja2luZyBleGNlcHRpb24gZm9yIHQxIik7CiAgICAgICAgaWYgKHQx\nLmV4Y2VwdGlvbiAhPSBudWxsKQogICAgICAgICAgICB0aHJvdyB0MS5leGNl\ncHRpb247CgogICAgICAgIGdldExvZygpLnRyYWNlKCJjaGVja2luZyBleGNl\ncHRpb24gZm9yIHQyIik7CiAgICAgICAgaWYgKHQyLmV4Y2VwdGlvbiAhPSBu\ndWxsKQogICAgICAgICAgICB0aHJvdyB0Mi5leGNlcHRpb247CgogICAgICAg\nIGdldExvZygpLnRyYWNlKCJ2ZXJpZnlpbmcgcGVzc2ltaXN0aWMgbG9ja2lu\nZyB3b3JrZWQuLi4iKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBw\nbSA9IGdldExvY2tpbmdQTSgpOwogICAgICAgIFJ1bnRpbWVUZXN0MSBhID0g\nKFJ1bnRpbWVUZXN0MSkgcG0uZmluZChSdW50aW1lVGVzdDEuY2xhc3MsIF9p\nZCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIwIC0gX2J1Z0NvdW50LCBhLmdl\ndEludEZpZWxkMSgpKTsKICAgICAgICBnZXRMb2coKS50cmFjZSgiY2xvc2lu\nZyBwbSIpOwogICAgICAgIGVuZEVtKHBtKTsKICAgICAgICBnZXRMb2coKS50\ncmFjZSgiZG9uZSIpOwogICAgfQoKICAgIC8qKgogICAgICogVXBkYXRlIHRo\ncmVhZCB0aGF0IHRyaWVzIHRvIGluY3JlbWVudCBhbiBpbnQgZmllbGQuCiAg\nICAgKgogICAgICogQGF1dGhvciA8YSBocmVmPSJtYWlsdG86bWFyY0Bzb2xh\ncm1ldHJpYy5jb20iPk1hcmMgUHJ1ZCdob21tZWF1eDwvYT4KICAgICAqLwog\nICAgcHJpdmF0ZSBjbGFzcyBUZXN0VGhyZWFkIGV4dGVuZHMgVGhyZWFkIHsK\nCiAgICAgICAgcHJpdmF0ZSBPcGVuSlBBRW50aXR5TWFuYWdlciBfcG0gPSBn\nZXRMb2NraW5nUE0oKTsKCiAgICAgICAgcHVibGljIEV4Y2VwdGlvbiBleGNl\ncHRpb24gPSBudWxsOwoKICAgICAgICBwcml2YXRlIGZpbmFsIFJlZW50cmFu\ndExvY2sgX2xvY2s7CgogICAgICAgIC8qKgogICAgICAgICAqIENvbnN0cnVj\ndG9yCiAgICAgICAgICoKICAgICAgICAgKiBAcGFyYW0gbG9jayB0aGUgUmVl\nbnRyYW50TG9jayB3ZSBzaG91bGQgdXNlLCBvciBudWxsIHRvIHJlbHkgb24K\nICAgICAgICAgKiBwZXNzaW1pc3RpYyBsb2NraW5nIGluIHRoZSBkYXRhIHN0\nb3JlLgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBUZXN0VGhyZWFkKFJl\nZW50cmFudExvY2sgbG9jaykgewogICAgICAgICAgICB0aGlzLl9sb2NrID0g\nbG9jazsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQg\ndm9pZCBydW4oKSB7CiAgICAgICAgICAgIGdldExvZygpLnRyYWNlKAogICAg\nICAgICAgICAgICAgVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5nZXROYW1lKCkK\nICAgICAgICAgICAgICAgICAgICArICI6IHN0YXJ0aW5nIHVwZGF0ZSB0aHJl\nYWQiKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgICAgICAgICAgICAgICAg\nIGlmIChfbG9jayAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgICAgICBf\nbG9jay5sb2NrKCk7CgogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAg\nICAgICAgICAgICAgICAgICAgIF9wbS5zZXRPcHRpbWlzdGljKGZhbHNlKTsK\nICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUeChfcG0pOwogICAgICAg\nICAgICAgICAgICAgICAgICBSdW50aW1lVGVzdDEgYSA9IChSdW50aW1lVGVz\ndDEpIF9wbS5maW5kKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVu\ndGltZVRlc3QxLmNsYXNzLCBfaWQpOwogICAgICAgICAgICAgICAgICAgICAg\nICBnZXRMb2coKS50cmFjZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuZ2V0TmFtZSgpCiAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgKyAiOiBvYnRhaW5lZCBhbmQgbG9ja2Vk\nOiAiICsgYSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkKCk7CiAg\nICAgICAgICAgICAgICAgICAgICAgIHN1cGVyLndhaXQoNTApOwogICAgICAg\nICAgICAgICAgICAgICAgICBnZXRMb2coKS50cmFjZSgKICAgICAgICAgICAg\nICAgICAgICAgICAgICAgIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuZ2V0TmFt\nZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiOiB1cGRh\ndGluZyBhZ2UgZnJvbSAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgKyBhLmdldEludEZpZWxkMSgpKTsKICAgICAgICAgICAgICAgICAgICAg\nICAgYS5zZXRJbnRGaWVsZDEoYS5nZXRJbnRGaWVsZDEoKSArIDEpOwogICAg\nICAgICAgICAgICAgICAgICAgICBnZXRMb2coKS50cmFjZSgKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgIFRocmVhZC5jdXJyZW50VGhyZWFkKCkuZ2V0\nTmFtZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiOiBj\nb21taXR0ZWQgdXBkYXRlIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHRy\neSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcG0uZmx1c2goKTsK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFR4KF9wbSk7CiAgICAg\nICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAg\nY2F0Y2ggKEV4Y2VwdGlvbiBleCkgewogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgdGhyb3cgbmV3IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlVzZXJF\neGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk9w\ndGltaXN0aWMgbG9jayBwcm9iYWJseSBmYWlsZWQgYWZ0ZXIgIgogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGkgKyAiIGl0ZXJhdGlv\nbnMgKCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBU\naHJlYWQuY3VycmVudFRocmVhZCgpLmdldE5hbWUoKQogICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICArICIpIiwgZXgpOwogICAgICAgICAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxk\nKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAg\nIGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2xvY2sg\nIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2NrLnVu\nbG9jaygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgfQoJCQljYXRjaCAoRXhjZXB0aW9uIGUpCgkJCXsK\nCQkJCWV4Y2VwdGlvbiA9IGU7CgkJCX0KCQl9Cgl9Cgp9Cg==\n","encoding":"base64"}

