{"sha":"933ffaf9531491bf243f44bbf16fc8c4804718fd","node_id":"MDQ6QmxvYjIwNjM2NDo5MzNmZmFmOTUzMTQ5MWJmMjQzZjQ0YmJmMTZmYzhjNDgwNDcxOGZk","size":16870,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/933ffaf9531491bf243f44bbf16fc8c4804718fd","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nOwoKaW1wb3J0IGphdmEudXRpbC5Db21wYXJhdG9yOwppbXBvcnQgamF2YS51\ndGlsLkRhdGU7CmltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsKaW1wb3J0IGph\ndmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBv\ncnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CmltcG9y\ndCBqYXZhLnV0aWwuVHJlZVNldDsKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5Qcm94aWVzUEM7\nCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMuY29sbGVjdGlvbnMuY29tcGFy\nYXRvcnMuQ29tcGFyYWJsZUNvbXBhcmF0b3I7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Qcm94eTsKCnB1YmxpYyBj\nbGFzcyBUZXN0UHJveGllczIgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7Cgog\nICAgcHJpdmF0ZSBpbnQgX29pZCA9IDA7CiAgICBwcml2YXRlIERhdGUgX2Rh\ndGUgPSBudWxsOwogICAgcHJpdmF0ZSBqYXZhLnNxbC5EYXRlIF9zcWxEYXRl\nID0gbnVsbDsKICAgIHByaXZhdGUgamF2YS5zcWwuVGltZXN0YW1wIF90aW1l\nc3RhbXAgPSBudWxsOwoKICAgIHB1YmxpYyBUZXN0UHJveGllczIoU3RyaW5n\nIGNhc2VuYW1lKSB7CiAgICAgICAgc3VwZXIoY2FzZW5hbWUpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIGRlbGV0ZUFsbChQ\ncm94aWVzUEMuY2xhc3MpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChw\nbSk7CgogICAgICAgIGxvbmcgbm93ID0gU3lzdGVtLmN1cnJlbnRUaW1lTWls\nbGlzKCk7CiAgICAgICAgX2RhdGUgPSBuZXcgRGF0ZShub3cpOwogICAgICAg\nIF9zcWxEYXRlID0gbmV3IGphdmEuc3FsLkRhdGUobm93KTsKICAgICAgICBf\ndGltZXN0YW1wID0gbmV3IGphdmEuc3FsLlRpbWVzdGFtcChub3cpOwoKICAg\nICAgICBQcm94aWVzUEMgcGMgPSBuZXcgUHJveGllc1BDKCJtYWluIik7CiAg\nICAgICAgcGMuc2V0RGF0ZShfZGF0ZSk7CiAgICAgICAgcGMuc2V0U1FMRGF0\nZShfc3FsRGF0ZSk7CiAgICAgICAgcGMuc2V0VGltZXN0YW1wKF90aW1lc3Rh\nbXApOwoKICAgICAgICBwYy5nZXRTdHJpbmdTZXQoKS5hZGQoInZhbDEiKTsK\nICAgICAgICBwYy5nZXRTdHJpbmdTZXQoKS5hZGQoInZhbDIiKTsKICAgICAg\nICBwYy5nZXRTdHJpbmdTZXQoKS5hZGQoInZhbDMiKTsKICAgICAgICBwYy5n\nZXRTdHJpbmdTZXQoKS5hZGQobnVsbCk7CgogICAgICAgIHBjLmdldFByb3h5\nU2V0KCkuYWRkKG5ldyBQcm94aWVzUEMoInNldDEiKSk7CiAgICAgICAgcGMu\nZ2V0UHJveHlTZXQoKS5hZGQobmV3IFByb3hpZXNQQygic2V0MiIpKTsKICAg\nICAgICBwYy5nZXRQcm94eVNldCgpLmFkZChuZXcgUHJveGllc1BDKCJzZXQz\nIikpOwoKICAgICAgICBwYy5nZXRTdHJpbmdNYXAoKS5wdXQoImtleTEiLCAi\nMSIpOwogICAgICAgIHBjLmdldFN0cmluZ01hcCgpLnB1dCgia2V5MiIsICIy\nIik7CiAgICAgICAgcGMuZ2V0U3RyaW5nTWFwKCkucHV0KCJrZXkzIiwgIjMi\nKTsKICAgICAgICBwYy5nZXRTdHJpbmdNYXAoKS5wdXQobnVsbCwgIm51bGwi\nKTsKICAgICAgICBwYy5nZXRTdHJpbmdNYXAoKS5wdXQoIm51bGwiLCBudWxs\nKTsKCiAgICAgICAgcGMuZ2V0UHJveHlNYXAoKS5wdXQoImtleTEiLCBuZXcg\nUHJveGllc1BDKCJtYXAxIikpOwogICAgICAgIHBjLmdldFByb3h5TWFwKCku\ncHV0KCJrZXkyIiwgbmV3IFByb3hpZXNQQygibWFwMiIpKTsKICAgICAgICBw\nYy5nZXRQcm94eU1hcCgpLnB1dCgia2V5MyIsIG5ldyBQcm94aWVzUEMoIm1h\ncDMiKSk7CgogICAgICAgIHBjLmdldExpc3QoKS5hZGQoInZhbDEiKTsKICAg\nICAgICBwYy5nZXRMaXN0KCkuYWRkKCJ2YWwxIik7CiAgICAgICAgcGMuZ2V0\nTGlzdCgpLmFkZCgidmFsMiIpOwogICAgICAgIHBjLmdldExpc3QoKS5hZGQo\nInZhbDMiKTsKICAgICAgICBwYy5nZXRMaXN0KCkuYWRkKCJ2YWwzIik7Cgog\nICAgICAgIHBtLnBlcnNpc3QocGMpOwoKICAgICAgICBfb2lkID0gcGMuZ2V0\nSWQoKTsKCiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3RyaW5nU2V0KCkgewogICAg\nICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIGZh\nbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBQcm94aWVzUEMg\ncGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CgogICAgICAg\nIC8vIGNoZWNrIHRoYXQgb3JpZyB2YWx1ZXMgYXJlIGNvcnJlY3QKICAgICAg\nICBTZXQgc2V0ID0gcGMuZ2V0U3RyaW5nU2V0KCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDQsIHNldC5zaXplKCkpOwogICAgICAgIGFzc2VydFRydWUoc2V0\nLmNvbnRhaW5zKCJ2YWwxIikpOwogICAgICAgIGFzc2VydFRydWUoc2V0LmNv\nbnRhaW5zKCJ2YWwyIikpOwogICAgICAgIGFzc2VydFRydWUoc2V0LmNvbnRh\naW5zKCJ2YWwzIikpOwogICAgICAgIGFzc2VydFRydWUoc2V0LmNvbnRhaW5z\nKG51bGwpKTsKCiAgICAgICAgLy8gZG8gc29tZSBtb2RzIHRvIHRyeSB0byBj\nb25mdXNlIHRoZSBwcm94eQogICAgICAgIHNldC5yZW1vdmUoInZhbDEiKTsK\nICAgICAgICBzZXQucmVtb3ZlKCJ2YWwxIik7CiAgICAgICAgc2V0LmFkZCgi\ndmFsNCIpOwogICAgICAgIHNldC5yZW1vdmUoInZhbDQiKTsKICAgICAgICBz\nZXQuYWRkKCJ2YWw1Iik7CiAgICAgICAgc2V0LmFkZCgidmFsNSIpOwogICAg\nICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CgogICAgICAgIC8v\nIHJlLXJldHJpZXZlIGFuZCBjaGVjayBzZXQKICAgICAgICBwbSA9IGdldFBN\nKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgcGMgPSBwbS5maW5kKFByb3hpZXNQ\nQy5jbGFzcywgX29pZCk7CgogICAgICAgIHNldCA9IHBjLmdldFN0cmluZ1Nl\ndCgpOwogICAgICAgIGFzc2VydEVxdWFscyg0LCBzZXQuc2l6ZSgpKTsKICAg\nICAgICBhc3NlcnRUcnVlKCFzZXQuY29udGFpbnMoInZhbDEiKSk7CiAgICAg\nICAgYXNzZXJ0VHJ1ZShzZXQuY29udGFpbnMoInZhbDIiKSk7CiAgICAgICAg\nYXNzZXJ0VHJ1ZShzZXQuY29udGFpbnMoInZhbDMiKSk7CiAgICAgICAgYXNz\nZXJ0VHJ1ZSghc2V0LmNvbnRhaW5zKCJ2YWw0IikpOwogICAgICAgIGFzc2Vy\ndFRydWUoc2V0LmNvbnRhaW5zKCJ2YWw1IikpOwogICAgICAgIGFzc2VydFRy\ndWUoc2V0LmNvbnRhaW5zKG51bGwpKTsKICAgICAgICBlbmRFbShwbSk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdFN0cmluZ01hcCgpIHsKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxz\nZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgUHJveGllc1BDIHBj\nID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwoKICAgICAgICAv\nLyBjaGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBjb3JyZWN0CiAgICAgICAg\nTWFwIG1hcCA9IHBjLmdldFN0cmluZ01hcCgpOwogICAgICAgIGFzc2VydEVx\ndWFscyg1LCBtYXAuc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIjEi\nLCBtYXAuZ2V0KCJrZXkxIikpOwogICAgICAgIGFzc2VydEVxdWFscygiMiIs\nIG1hcC5nZXQoImtleTIiKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCIzIiwg\nbWFwLmdldCgia2V5MyIpKTsKICAgICAgICBhc3NlcnROdWxsKG1hcC5nZXQo\nIm51bGwiKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJudWxsIiwgbWFwLmdl\ndChudWxsKSk7CgogICAgICAgIC8vIGRvIHNvbWUgbW9kcyB0byB0cnkgdG8g\nY29uZnVzZSB0aGUgcHJveHkKICAgICAgICBtYXAucHV0KCJrZXkxIiwgIjFh\nIik7CiAgICAgICAgbWFwLnB1dCgia2V5MSIsICIxYiIpOwogICAgICAgIG1h\ncC5wdXQoImtleTQiLCAiNCIpOwogICAgICAgIG1hcC5yZW1vdmUoImtleTQi\nKTsKICAgICAgICBtYXAucmVtb3ZlKCJmb28iKTsKICAgICAgICBtYXAucHV0\nKCJrZXk1IiwgIjUiKTsKICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5k\nRW0ocG0pOwoKICAgICAgICAvLyByZS1yZXRyaWV2ZSBhbmQgY2hlY2sgbWFw\nCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHBj\nID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwoKICAgICAgICBt\nYXAgPSBwYy5nZXRTdHJpbmdNYXAoKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nNiwgbWFwLnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCIxYiIsIG1h\ncC5nZXQoImtleTEiKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCI1IiwgbWFw\nLmdldCgia2V5NSIpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdFByb3h5U2V0KCkgewogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsKICAgICAg\nICBzdGFydFR4KHBtKTsKICAgICAgICBQcm94aWVzUEMgcGMgPSBwbS5maW5k\nKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CgogICAgICAgIC8vIGNoZWNrIHRo\nYXQgb3JpZyB2YWx1ZXMgYXJlIGNvcnJlY3QKICAgICAgICBTZXQgc2V0ID0g\ncGMuZ2V0UHJveHlTZXQoKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMywgc2V0\nLnNpemUoKSk7CiAgICAgICAgSXRlcmF0b3IgaXRyID0gc2V0Lml0ZXJhdG9y\nKCk7CiAgICAgICAgUHJveGllc1BDIHNldDEgPSAoUHJveGllc1BDKSBpdHIu\nbmV4dCgpOwogICAgICAgIFByb3hpZXNQQyBzZXQyID0gKFByb3hpZXNQQykg\naXRyLm5leHQoKTsKICAgICAgICBQcm94aWVzUEMgc2V0MyA9IChQcm94aWVz\nUEMpIGl0ci5uZXh0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzZXQxIiwg\nc2V0MS5nZXROYW1lKCkpOwogICAgICAgIGFzc2VydEVxdWFscygic2V0MiIs\nIHNldDIuZ2V0TmFtZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInNldDMi\nLCBzZXQzLmdldE5hbWUoKSk7CgogICAgICAgIC8vIGRvIHNvbWUgbW9kcyB0\nbyB0cnkgdG8gY29uZnVzZSB0aGUgcHJveHkKICAgICAgICBzZXQucmVtb3Zl\nKHNldDEpOwogICAgICAgIHNldC5yZW1vdmUoc2V0MSk7CiAgICAgICAgUHJv\neGllc1BDIHNldDQgPSBuZXcgUHJveGllc1BDKCJzZXQ0Iik7CiAgICAgICAg\nc2V0LmFkZChzZXQ0KTsKICAgICAgICBzZXQucmVtb3ZlKHNldDQpOwogICAg\nICAgIFByb3hpZXNQQyBzZXQ1ID0gbmV3IFByb3hpZXNQQygic2V0NSIpOwog\nICAgICAgIHNldC5hZGQoc2V0NSk7CiAgICAgICAgc2V0LmFkZChzZXQ1KTsK\nICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAg\nICAvLyByZS1yZXRyaWV2ZSBhbmQgY2hlY2sgc2V0CiAgICAgICAgcG0gPSBn\nZXRQTSh0cnVlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAg\nICAgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CiAgICAg\nICAgcG0ucmVmcmVzaChwYyk7CgogICAgICAgIHNldCA9IHBjLmdldFByb3h5\nU2V0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHNldC5zaXplKCkpOwog\nICAgICAgIGl0ciA9IHNldC5pdGVyYXRvcigpOwogICAgICAgIHNldDEgPSAo\nUHJveGllc1BDKSBpdHIubmV4dCgpOwogICAgICAgIHNldDIgPSAoUHJveGll\nc1BDKSBpdHIubmV4dCgpOwogICAgICAgIHNldDMgPSAoUHJveGllc1BDKSBp\ndHIubmV4dCgpOwogICAgICAgIGFzc2VydEVxdWFscygic2V0MiIsIHNldDEu\nZ2V0TmFtZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInNldDMiLCBzZXQy\nLmdldE5hbWUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzZXQ1Iiwgc2V0\nMy5nZXROYW1lKCkpOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRF\nbShwbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFByb3h5TWFwKCkg\newogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFs\nc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBQcm94\naWVzUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7Cgog\nICAgICAgIC8vIGNoZWNrIHRoYXQgb3JpZyB2YWx1ZXMgYXJlIGNvcnJlY3QK\nICAgICAgICBNYXAgbWFwID0gcGMuZ2V0UHJveHlNYXAoKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoIm9yaWdpbmFsIG1hcCBzaXplIGlzIGNvcnJlY3Q6IDMi\nLCAzLCBtYXAuc2l6ZSgpKTsKICAgICAgICBQcm94aWVzUEMgbWFwMSA9IChQ\ncm94aWVzUEMpIG1hcC5nZXQoImtleTEiKTsKICAgICAgICBQcm94aWVzUEMg\nbWFwMiA9IChQcm94aWVzUEMpIG1hcC5nZXQoImtleTIiKTsKICAgICAgICBQ\ncm94aWVzUEMgbWFwMyA9IChQcm94aWVzUEMpIG1hcC5nZXQoImtleTMiKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoIm1hcDEiLCBtYXAxLmdldE5hbWUoKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJtYXAyIiwgbWFwMi5nZXROYW1lKCkp\nOwogICAgICAgIGFzc2VydEVxdWFscygibWFwMyIsIG1hcDMuZ2V0TmFtZSgp\nKTsKCiAgICAgICAgLy8gZG8gc29tZSBtb2RzIHRvIHRyeSB0byBjb25mdXNl\nIHRoZSBwcm94eQogICAgICAgIFByb3hpZXNQQyBtYXAxYSA9IG5ldyBQcm94\naWVzUEMoIm1hcDFhIik7CiAgICAgICAgbWFwLnB1dCgia2V5MSIsIG1hcDFh\nKTsKICAgICAgICBQcm94aWVzUEMgbWFwMWIgPSBuZXcgUHJveGllc1BDKCJt\nYXAxYiIpOwogICAgICAgIG1hcC5wdXQoImtleTEiLCBtYXAxYik7CiAgICAg\nICAgbWFwLnB1dCgia2V5NCIsIG5ldyBQcm94aWVzUEMoIm1hcDQiKSk7CiAg\nICAgICAgbWFwLnJlbW92ZSgia2V5NCIpOwogICAgICAgIG1hcC5yZW1vdmUo\nImZvbyIpOwogICAgICAgIG1hcC5wdXQoImtleTUiLCBuZXcgUHJveGllc1BD\nKCJtYXA1IikpOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShw\nbSk7CgogICAgICAgIC8vIHJlLXJldHJpZXZlIGFuZCBjaGVjayBtYXAKICAg\nICAgICBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgcGMgPSBw\nbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CiAgICAgICAgc3RhcnRU\neChwbSk7CiAgICAgICAgcG0ucmVmcmVzaChwYyk7CgogICAgICAgIG1hcCA9\nIHBjLmdldFByb3h5TWFwKCk7CgogICAgICAgIGFzc2VydEVxdWFscyg0LCBt\nYXAuc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm1hcDFiIiwgKChQ\ncm94aWVzUEMpIG1hcC5nZXQoImtleTEiKSkuZ2V0TmFtZSgpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoIm1hcDUiLCAoKFByb3hpZXNQQykgbWFwLmdldCgi\na2V5NSIpKS5nZXROYW1lKCkpOwoKICAgICAgICBlbmRUeChwbSk7CiAgICAg\nICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RSZXBs\nYWNlKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0\nUE0oZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAg\nICBQcm94aWVzUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29p\nZCk7CgogICAgICAgIC8vIHRvdGFsbHkgcmVwbGFjZSBzZXQKICAgICAgICBT\nZXQgc2V0ID0gbmV3IEhhc2hTZXQoKTsKICAgICAgICBzZXQuYWRkKCJuZXci\nKTsKICAgICAgICBwYy5zZXRTdHJpbmdTZXQoc2V0KTsKCiAgICAgICAgZW5k\nVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgLy8gcmUtcmV0\ncmlldmUgYW5kIGNoZWNrIHNldAogICAgICAgIHBtID0gZ2V0UE0oZmFsc2Us\nIGZhbHNlKTsKICAgICAgICBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNz\nLCBfb2lkKTsKCiAgICAgICAgc2V0ID0gcGMuZ2V0U3RyaW5nU2V0KCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNldC5zaXplKCkpOwogICAgICAgIGFz\nc2VydFRydWUoc2V0LmNvbnRhaW5zKCJuZXciKSk7CiAgICAgICAgZW5kRW0o\ncG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RDb21wYXJhdG9ycygp\nIHsKICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHN5c3RlbSB1c2VzIHRoZSBp\nbml0aWFsIGZpZWxkIHZhbHVlIHRvIGZpbmQKICAgICAgICAvLyBjb21wYXJh\ndG9ycwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0o\nZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBQ\ncm94aWVzUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgicGMgaXMgbnVsbCIsIHBjKTsKICAg\nICAgICBhc3NlcnRUcnVlKCJwYy5nZXRDb21wKCkgaXMgbm90IGluc3RhbmNl\nb2YgUHJveHkiLAogICAgICAgICAgICBwYy5nZXRDb21wKCkgaW5zdGFuY2Vv\nZiBQcm94eSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgKICAgICAgICAgICAgIihU\ncmVlU2V0KSBpcyBub3QgcGMuZ2V0Q29tcCgpKS5jb21wYXJhdG9yKCkgaW5z\ndGFuY2VvZiBDb21wYXJhYmxlQ29tcGFyYXRvciIsCiAgICAgICAgICAgICgo\nVHJlZVNldCkgcGMuZ2V0Q29tcCgpKQogICAgICAgICAgICAgICAgLmNvbXBh\ncmF0b3IoKSBpbnN0YW5jZW9mIENvbXBhcmFibGVDb21wYXJhdG9yKTsKICAg\nICAgICBwbS5ldmljdChwYyk7CiAgICAgICAgZW5kVHgocG0pOwoKICAgICAg\nICAvLyBzZWUgaWYgaXQgc3RpbGwgc2F2ZXMgY29tcGFyYXRvciBhZnRlciB0\ncmFuc2l0aW9uIHRvIGhvbGxvdwogICAgICAgIC8vIGFuZCBiYWNrCiAgICAg\nICAgYXNzZXJ0VHJ1ZSgicGMuZ2V0Q29tcCgpIGlzIG5vdCBpbnN0YW5jZW9m\nIFByb3h5VHJlZVNldCIsCiAgICAgICAgICAgIHBjLmdldENvbXAoKSBpbnN0\nYW5jZW9mIFByb3h5KTsKICAgICAgICBDb21wYXJhdG9yIGNvbXBhcnQgPSAo\nKFRyZWVTZXQpIHBjLmdldENvbXAoKSkuY29tcGFyYXRvcigpOwogICAgICAg\nIGFzc2VydE5vdE51bGwoImNvbXBhcnQgaXMgbnVsbCIsIGNvbXBhcnQpOwog\nICAgICAgIGFzc2VydFRydWUoCiAgICAgICAgICAgICIoKFRyZWVTZXQpIGlz\nIG5vdCBwYy5nZXRDb21wKCkpLmNvbXBhcmF0b3IoKWluc3RhbmNlb2YgQ29t\ncGFyYWJsZUNvbXBhcmF0b3IiLAogICAgICAgICAgICAoKFRyZWVTZXQpIHBj\nLmdldENvbXAoKSkKICAgICAgICAgICAgICAgIC5jb21wYXJhdG9yKCkgaW5z\ndGFuY2VvZiBDb21wYXJhYmxlQ29tcGFyYXRvcik7CgogICAgICAgIGVuZEVt\nKHBtKTsKICAgIH0KCiAgICAvLyAgICBGSVggTUU6IE1vdmluZyBmaXggdG8g\nZXNzZXgKICAgIC8qcHVibGljIHZvaWQgdGVzdExpc3QoKSB7CiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIFByb3hpZXNQQyBwYyA9\nIHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsKCiAgICAgICAgLy8g\nY2hlY2sgdGhhdCBvcmlnIHZhbHVlcyBhcmUgY29ycmVjdAogICAgICAgIExp\nc3QgbGlzdCA9IHBjLmdldExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nNSwgbGlzdC5zaXplKCkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIs\nIGxpc3QuZ2V0KDApKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDEiLCBs\naXN0LmdldCgxKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwyIiwgbGlz\ndC5nZXQoMikpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3Qu\nZ2V0KDMpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0Lmdl\ndCg0KSk7CgogICAgICAgIC8vIGRvIHNvbWUgbW9kcyB0byB0cnkgdG8gY29u\nZnVzZSB0aGUgcHJveHkKICAgICAgICBsaXN0LnJlbW92ZSgidmFsMiIpOwog\nICAgICAgIGxpc3QuYWRkKCJ2YWw0Iik7CiAgICAgICAgbGlzdC5yZW1vdmUo\nInZhbDQiKTsKICAgICAgICBsaXN0LmFkZCgidmFsNSIpOwogICAgICAgIGxp\nc3QuYWRkKCJ2YWw2Iik7CiAgICAgICAgbGlzdC5hZGQoInZhbDYiKTsKICAg\nICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICAv\nLyByZS1yZXRyaWV2ZSBhbmQgbW9kaWZ5IGFnYWluIHRvIGNoZWNrIGhvbGVz\nIGluIG9yZGVyaW5nCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIHBjID0gKFByb3hpZXNQ\nQykgcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwoKICAgICAgICBs\naXN0ID0gcGMuZ2V0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscyg3LCBs\naXN0LnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlz\ndC5nZXQoMCkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIsIGxpc3Qu\nZ2V0KDEpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0Lmdl\ndCgyKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwzIiwgbGlzdC5nZXQo\nMykpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsNSIsIGxpc3QuZ2V0KDQp\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDYiLCBsaXN0LmdldCg1KSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWw2IiwgbGlzdC5nZXQoNikpOwoK\nICAgICAgICBsaXN0LnJlbW92ZSgidmFsNSIpOwogICAgICAgIGxpc3QuYWRk\nKCJ2YWw3Iik7CiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBt\nKTsKCiAgICAgICAgLy8gcmUtcmV0cmlldmUgYW5kIGNoZWNrIGZpbmFsIGNv\nbnRlbnRzCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAg\nICAgIHBjID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOwoKICAg\nICAgICBsaXN0ID0gcGMuZ2V0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFs\ncyg3LCBsaXN0LnNpemUoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwx\nIiwgbGlzdC5nZXQoMCkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIs\nIGxpc3QuZ2V0KDEpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBs\naXN0LmdldCgyKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwzIiwgbGlz\ndC5nZXQoMykpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsNiIsIGxpc3Qu\nZ2V0KDQpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDYiLCBsaXN0Lmdl\ndCg1KSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWw3IiwgbGlzdC5nZXQo\nNikpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0TGlzdERpc2FibGVzQ2hhbmdlVHJhY2tpbmcoKSB7CiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIFByb3hpZXNQQyBwYyA9\nIHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsKCiAgICAgICAgLy8g\nY2hlY2sgdGhhdCBvcmlnIHZhbHVlcyBhcmUgY29ycmVjdAogICAgICAgIExp\nc3QgbGlzdCA9IHBjLmdldExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nNSwgbGlzdC5zaXplKCkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIs\nIGxpc3QuZ2V0KDApKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDEiLCBs\naXN0LmdldCgxKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwyIiwgbGlz\ndC5nZXQoMikpOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3Qu\nZ2V0KDMpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0Lmdl\ndCg0KSk7CgogICAgICAgIC8vIHJlbW92aW5nIGEgY29weSBvZiB2YWwzIHNo\nb3VsZCBkaXNhYmxlIHRyYWNraW5nCiAgICAgICAgbGlzdC5yZW1vdmUoInZh\nbDIiKTsKICAgICAgICBsaXN0LnJlbW92ZSgidmFsMyIpOwogICAgICAgIGxp\nc3QuYWRkKCJ2YWw1Iik7CiAgICAgICAgbGlzdC5hZGQoInZhbDUiKTsKICAg\nICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICAv\nLyByZS1yZXRyaWV2ZSBhbmQgY2hhbmdlIGFnYWluIHRvIGNoZWNrIG9yZGVy\naW5nCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAg\nIHN0YXJ0VHgocG0pOwogICAgICAgIHBjID0gcG0uZmluZChQcm94aWVzUEMu\nY2xhc3MsIF9vaWQpOwoKICAgICAgICBsaXN0ID0gcGMuZ2V0TGlzdCgpOwog\nICAgICAgIGFzc2VydEVxdWFscyg1LCBsaXN0LnNpemUoKSk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQoMCkpOwogICAgICAgIGFz\nc2VydEVxdWFscygidmFsMSIsIGxpc3QuZ2V0KDEpKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoInZhbDMiLCBsaXN0LmdldCgyKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ2YWw1IiwgbGlzdC5nZXQoMykpOwogICAgICAgIGFzc2VydEVx\ndWFscygidmFsNSIsIGxpc3QuZ2V0KDQpKTsKCiAgICAgICAgbGlzdC5yZW1v\ndmUoInZhbDMiKTsKICAgICAgICBsaXN0LmFkZCgidmFsNiIpOwogICAgICAg\nIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CgogICAgICAgIC8vIGNo\nZWNrIGZpbmFsIGNvbnRlbnRzCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwg\nZmFsc2UpOwogICAgICAgIHBjID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3Ms\nIF9vaWQpOwoKICAgICAgICBsaXN0ID0gcGMuZ2V0TGlzdCgpOwogICAgICAg\nIGFzc2VydEVxdWFscyg1LCBsaXN0LnNpemUoKSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQoMCkpOwogICAgICAgIGFzc2VydEVx\ndWFscygidmFsMSIsIGxpc3QuZ2V0KDEpKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoInZhbDYiLCBsaXN0LmdldCgyKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJ2YWw1IiwgbGlzdC5nZXQoMykpOwogICAgICAgIGFzc2VydEVxdWFscygi\ndmFsNSIsIGxpc3QuZ2V0KDQpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9\nCiovCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q2hhbmdlTGlzdE9yZGVyKCkgewog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2Us\nIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBQcm94aWVz\nUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CgogICAg\nICAgIC8vIGNoZWNrIHRoYXQgb3JpZyB2YWx1ZXMgYXJlIGNvcnJlY3QKICAg\nICAgICBMaXN0IGxpc3QgPSBwYy5nZXRMaXN0KCk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDUsIGxpc3Quc2l6ZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nInZhbDEiLCBsaXN0LmdldCgwKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2\nYWwxIiwgbGlzdC5nZXQoMSkpOwogICAgICAgIGFzc2VydEVxdWFscygidmFs\nMiIsIGxpc3QuZ2V0KDIpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMi\nLCBsaXN0LmdldCgzKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwzIiwg\nbGlzdC5nZXQoNCkpOwoKICAgICAgICAvLyByZW9yZGVyIHZhbDIKICAgICAg\nICBsaXN0LnJlbW92ZSgidmFsMiIpOwogICAgICAgIGxpc3QuYWRkKCJ2YWwy\nIik7CiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKCiAg\nICAgICAgLy8gcmUtcmV0cmlldmUgdG8gY2hlY2sgb3JkZXJpbmcKICAgICAg\nICBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgcGMgPSBwbS5m\naW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CgogICAgICAgIGxpc3QgPSBw\nYy5nZXRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIGxpc3Quc2l6\nZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDEiLCBsaXN0LmdldCgw\nKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQoMSkp\nOwogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3QuZ2V0KDIpKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0LmdldCgzKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwyIiwgbGlzdC5nZXQoNCkpOwogICAg\nICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGF0\nZSgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBN\nKHRydWUsIHRydWUpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIFBy\nb3hpZXNQQyBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsK\nICAgICAgICBEYXRlIGRhdGUgPSBwYy5nZXREYXRlKCk7CiAgICAgICAgYXNz\nZXJ0Tm90TnVsbChkYXRlKTsKCiAgICAgICAgLy8gZGF0ZXMgY2FuIGxvc2Ug\ncHJlY2lzaW9uLCBidXQgbWFrZSBzdXJlIHNhbWUgZGF5CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKF9kYXRlLmdldFllYXIoKSwgZGF0ZS5nZXRZZWFyKCkpOwog\nICAgICAgIGFzc2VydEVxdWFscyhfZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdl\ndE1vbnRoKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhfZGF0ZS5nZXREYXRl\nKCksIGRhdGUuZ2V0RGF0ZSgpKTsKCiAgICAgICAgLy8gbWFrZSBzdXJlIHBy\nb3hpZWQKICAgICAgICBhc3NlcnRUcnVlKCFwbS5pc0RpcnR5KHBjKSk7CiAg\nICAgICAgZGF0ZS5zZXRUaW1lKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygp\nICsgMTAwMCAqIDYwICogNjAgKiAyNCk7CiAgICAgICAgYXNzZXJ0VHJ1ZShw\nbS5pc0RpcnR5KHBjKSk7CgogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoZGF0ZSwgcGMuZ2V0RGF0ZSgpKTsKICAgICAgICBlbmRF\nbShwbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNRTERhdGUoKSB7\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSh0cnVl\nLCB0cnVlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBQcm94aWVz\nUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7CiAgICAg\nICAgamF2YS5zcWwuRGF0ZSBkYXRlID0gcGMuZ2V0U1FMRGF0ZSgpOwogICAg\nICAgIGFzc2VydE5vdE51bGwoZGF0ZSk7CgogICAgICAgIC8vIGRhdGVzIGNh\nbiBsb3NlIHByZWNpc2lvbiwgYnV0IG1ha2Ugc3VyZSBzYW1lIGRheQogICAg\nICAgIGFzc2VydEVxdWFscyhfc3FsRGF0ZS5nZXRZZWFyKCksIGRhdGUuZ2V0\nWWVhcigpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoX3NxbERhdGUuZ2V0TW9u\ndGgoKSwgZGF0ZS5nZXRNb250aCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nX3NxbERhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldERhdGUoKSk7CgogICAgICAg\nIC8vIG1ha2Ugc3VyZSBwcm94aWVkCiAgICAgICAgYXNzZXJ0VHJ1ZSghcG0u\naXNEaXJ0eShwYykpOwogICAgICAgIGRhdGUuc2V0VGltZShTeXN0ZW0uY3Vy\ncmVudFRpbWVNaWxsaXMoKSArIDEwMDAgKiA2MCAqIDYwICogMjQpOwogICAg\nICAgIGFzc2VydFRydWUocG0uaXNEaXJ0eShwYykpOwoKICAgICAgICBlbmRU\neChwbSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKGRhdGUsIHBjLmdldFNRTERh\ndGUoKSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RUaW1lc3RhbXAoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0gPSBnZXRQTSh0cnVlLCB0cnVlKTsKICAgICAgICBzdGFydFR4\nKHBtKTsKICAgICAgICBQcm94aWVzUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQ\nQy5jbGFzcywgX29pZCk7CiAgICAgICAgamF2YS5zcWwuVGltZXN0YW1wIHRz\ndGFtcCA9IHBjLmdldFRpbWVzdGFtcCgpOwogICAgICAgIGFzc2VydE5vdE51\nbGwodHN0YW1wKTsKCiAgICAgICAgLy8gZGF0ZXMgY2FuIGxvc2UgcHJlY2lz\naW9uLCBidXQgbWFrZSBzdXJlIHNhbWUgZGF5CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKF90aW1lc3RhbXAuZ2V0WWVhcigpLCB0c3RhbXAuZ2V0WWVhcigpKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoX3RpbWVzdGFtcC5nZXRNb250aCgpLCB0\nc3RhbXAuZ2V0TW9udGgoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKF90aW1l\nc3RhbXAuZ2V0RGF0ZSgpLCB0c3RhbXAuZ2V0RGF0ZSgpKTsKCiAgICAgICAg\nLy8gbWFrZSBzdXJlIHByb3hpZWQKICAgICAgICBhc3NlcnRUcnVlKCFwbS5p\nc0RpcnR5KHBjKSk7CiAgICAgICAgdHN0YW1wLnNldE5hbm9zKDEwMCk7CiAg\nICAgICAgYXNzZXJ0VHJ1ZShwbS5pc0RpcnR5KHBjKSk7CgogICAgICAgIGVu\nZFR4KHBtKTsKICAgICAgICBhc3NlcnRFcXVhbHModHN0YW1wLCBwYy5nZXRU\naW1lc3RhbXAoKSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQp9Cg==\n","encoding":"base64"}

