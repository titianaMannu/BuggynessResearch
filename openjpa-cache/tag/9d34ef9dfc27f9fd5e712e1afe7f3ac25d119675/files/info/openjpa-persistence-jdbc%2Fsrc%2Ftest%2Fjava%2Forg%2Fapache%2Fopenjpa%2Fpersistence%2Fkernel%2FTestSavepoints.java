{"sha":"2d0758e7d50e0d81167a19f87ba539d4e78ea375","node_id":"MDQ6QmxvYjIwNjM2NDoyZDA3NThlN2Q1MGUwZDgxMTY3YTE5Zjg3YmE1MzlkNGU3OGVhMzc1","size":16549,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2d0758e7d50e0d81167a19f87ba539d4e78ea375","content":"LyoKICogVGVzdFNhdmVwb2ludHMuamF2YQogKgogKiBDcmVhdGVkIG9uIE9j\ndG9iZXIgMTYsIDIwMDYsIDExOjE2IEFNCiAqCiAqIFRvIGNoYW5nZSB0aGlz\nIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2VyCiAq\nIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLgogKi8KLyoK\nICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u\nIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vu\nc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlzdHJp\nYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRp\nb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNG\nIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNo\nZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7IHlv\ndSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UK\nICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBv\nZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcv\nbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5\nIGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBz\nb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0\ncmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJB\nTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4\ncHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAq\nIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQg\nbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8KcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsOwoK\naW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5Q\ncm9wZXJ0aWVzOwoKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5Nb2RSdW50aW1lVGVzdDE7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNv\nbW1vbi5hcHBzLlJ1bnRpbWVUZXN0NDsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUnVudGltZVRl\nc3Q1OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuUENTdGF0\nZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5KUEFG\nYWNhZGVIZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNlOwoKcHVi\nbGljIGNsYXNzIFRlc3RTYXZlcG9pbnRzIGV4dGVuZHMgQmFzZUtlcm5lbFRl\nc3QgewoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBv\nZiBUZXN0U2F2ZXBvaW50cwogICAgICovCiAgICBwdWJsaWMgVGVzdFNhdmVw\nb2ludHMoU3RyaW5nIG5hbWUpIHsKICAgICAgICBzdXBlcihuYW1lKTsKICAg\nIH0KCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdldFNhdmVwb2ludFBsdWdpbigp\nIHsKICAgICAgICByZXR1cm4gImluLW1lbSI7CiAgICB9CgogICAgcHVibGlj\nIFByb3BlcnRpZXMgZ2V0UHJvcGVydGllcyhTdHJpbmdbXSBwcm9wcykgewog\nICAgICAgIFByb3BlcnRpZXMgcHJvcGVydGllcyA9IHN1cGVyLmdldFByb3Bl\ncnRpZXMocHJvcHMpOwogICAgICAgIHByb3BlcnRpZXMucHV0KCJvcGVuanBh\nLlNhdmVwb2ludE1hbmFnZXIiLCBnZXRTYXZlcG9pbnRQbHVnaW4oKSk7CiAg\nICAgICAgcmV0dXJuIHByb3BlcnRpZXM7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0VXAoKSB7CiAgICAgICAgZGVsZXRlQWxsKE1vZFJ1bnRpbWVUZXN0\nMS5jbGFzcyk7CiAgICAgICAgZGVsZXRlQWxsKFJ1bnRpbWVUZXN0NC5jbGFz\ncyk7CiAgICAgICAgZGVsZXRlQWxsKFJ1bnRpbWVUZXN0NS5jbGFzcyk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdFNpbXBsZSgpIHsKICAgICAgICBk\nb1NpbXBsZVRlc3QodHJ1ZSwgMCwgMCk7CiAgICAgICAgZG9TaW1wbGVUZXN0\nKHRydWUsIDIsIDApOwogICAgICAgIGRvU2ltcGxlVGVzdCh0cnVlLCAwLCAy\nKTsKICAgICAgICBkb1NpbXBsZVRlc3QoZmFsc2UsIDAsIDApOwogICAgICAg\nIGRvU2ltcGxlVGVzdChmYWxzZSwgMiwgMCk7CiAgICAgICAgZG9TaW1wbGVU\nZXN0KGZhbHNlLCAwLCAyKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgZG9T\naW1wbGVUZXN0KGJvb2xlYW4gbmV3UEMsIGludCBiZWZvcmUsIGludCBhZnRl\ncikgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0o\nKTsKICAgICAgICBNb2RSdW50aW1lVGVzdDEgcGMgPSBuZXcgTW9kUnVudGlt\nZVRlc3QxKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgcGMuc2V0\nU3RyaW5nRmllbGQoIm9yaWciKTsKICAgICAgICBwYy5zZXRJbnRGaWVsZCgt\nMTEpOwogICAgICAgIC8vRklYTUUganRob21hcyAtIHNldERhdGVGaWVsZAog\nICAgICAgIC8vcGMuc2V0RGF0ZUZpZWxkKHJhbmRvbURhdGUoKSk7CiAgICAg\nICAgcG0ucGVyc2lzdChwYyk7CiAgICAgICAgT2JqZWN0IG9pZCA9IHBtLmdl\ndE9iamVjdElkKHBjKTsKCiAgICAgICAgaWYgKCFuZXdQQykgewogICAgICAg\nICAgICBlbmRUeChwbSk7CiAgICAgICAgICAgIHBtID0gZ2V0UE0oKTsKICAg\nICAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAgICAgIHBjID0gKE1vZFJ1\nbnRpbWVUZXN0MSkgcG0uZmluZChNb2RSdW50aW1lVGVzdDEuY2xhc3MsIG9p\nZCk7CiAgICAgICAgfQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYmVm\nb3JlOyBpKyspIHsKICAgICAgICAgICAgcGMuc2V0U3RyaW5nRmllbGQoImJl\nZm9yZSIgKyBpKTsKICAgICAgICAgICAgcGMuc2V0SW50RmllbGQoaSk7CiAg\nICAgICAgICAgIC8vRklYTUUganRob21hcyAtIHNldERhdGVGaWVsZAogICAg\nICAgICAgICAvL3BjLnNldERhdGVGaWVsZChyYW5kb21EYXRlKCkpOwogICAg\nICAgICAgICBwbS5zZXRTYXZlcG9pbnQoImJlZm9yZSIgKyBpKTsKICAgICAg\nICB9CgogICAgICAgIHBjLnNldFN0cmluZ0ZpZWxkKCJ2YWx1ZSIpOwogICAg\nICAgIHBjLnNldEludEZpZWxkKDMzMyk7CiAgICAgICAgLy9GSVhNRSBqdGhv\nbWFzIC0gc2V0RGF0ZUZpZWxkCiAgICAgICAgLy9wYy5zZXREYXRlRmllbGQo\ncmFuZG9tRGF0ZSgpKTsKICAgICAgICAvL0RhdGUgZGF0ZSA9IChEYXRlKSBw\nYy5nZXREYXRlRmllbGQoKS5jbG9uZSgpOwogICAgICAgIHBtLnNldFNhdmVw\nb2ludCgidGVzdCIpOwoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGFm\ndGVyOyBpKyspIHsKICAgICAgICAgICAgcGMuc2V0U3RyaW5nRmllbGQoImFm\ndGVyIiArIGkpOwogICAgICAgICAgICBwYy5zZXRJbnRGaWVsZChpICogMTAp\nOwogICAgICAgICAgICAvL0ZJWE1FIGp0aG9tYXMgLSBzZXREYXRlRmllbGQK\nICAgICAgICAgICAgLy9wYy5zZXREYXRlRmllbGQocmFuZG9tRGF0ZSgpKTsK\nICAgICAgICAgICAgcG0uc2V0U2F2ZXBvaW50KCJhZnRlciIgKyBpKTsKICAg\nICAgICB9CgogICAgICAgIHBtLnJvbGxiYWNrVG9TYXZlcG9pbnQoInRlc3Qi\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInZhbHVlIiwgcGMuZ2V0U3RyaW5n\nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMzMywgcGMuZ2V0SW50\nRmllbGQoKSk7CiAgICAgICAgLy9GSVhNRSBqdGhvbWFzIC0gc2V0RGF0ZUZp\nZWxkCiAgICAgICAgLy9hc3NlcnRFcXVhbHMoZGF0ZSwgcGMuZ2V0RGF0ZUZp\nZWxkKCkpOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7\nCgogICAgICAgIHBtID0gZ2V0UE0oKTsKICAgICAgICBwYyA9IChNb2RSdW50\naW1lVGVzdDEpIHBtLmZpbmQoTW9kUnVudGltZVRlc3QxLmNsYXNzLCBvaWQp\nOwogICAgICAgIGFzc2VydEVxdWFscygidmFsdWUiLCBwYy5nZXRTdHJpbmdG\naWVsZCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMzMzLCBwYy5nZXRJbnRG\naWVsZCgpKTsKICAgICAgICAvL0ZJWE1FIGp0aG9tYXMgLSBzZXREYXRlRmll\nbGQKICAgICAgICAvL2Fzc2VydEVxdWFscyhkYXRlLCBwYy5nZXREYXRlRmll\nbGQoKSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHRlc3RDbGVhbk9yZGVyaW5nKCkgewogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICBNb2RSdW50aW1lVGVz\ndDEgcGMgPSBuZXcgTW9kUnVudGltZVRlc3QxKCJvcmlnIiwgMSk7CiAgICAg\nICAgc3RhcnRUeChwbSk7CiAgICAgICAgcG0ucGVyc2lzdChwYyk7CiAgICAg\nICAgT2JqZWN0IG9pZCA9IHBtLmdldE9iamVjdElkKHBjKTsKICAgICAgICBl\nbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICBwbSA9IGdl\ndFBNKCk7CiAgICAgICAgcG0uc2V0T3B0aW1pc3RpYyhmYWxzZSk7CiAgICAg\nICAgc3RhcnRUeChwbSk7CiAgICAgICAgTW9kUnVudGltZVRlc3QxIHBjMiA9\nIG5ldyBNb2RSdW50aW1lVGVzdDEoImZvbyIsIDIpOwogICAgICAgIHBtLnBl\ncnNpc3QocGMyKTsKICAgICAgICBwbS5zZXRTYXZlcG9pbnQoInMxIik7CiAg\nICAgICAgcGMgPSAoTW9kUnVudGltZVRlc3QxKSBwbS5maW5kKE1vZFJ1bnRp\nbWVUZXN0MS5jbGFzcywgb2lkKTsKICAgICAgICBhc3NlcnRUcnVlKHBtLmlz\nVHJhbnNhY3Rpb25hbChwYykpOwogICAgICAgIHBtLnNldFNhdmVwb2ludCgi\nczIiKTsKICAgICAgICBwYy5zZXRTdHJpbmdGaWVsZCgiYmFyIik7CiAgICAg\nICAgcG0ucm9sbGJhY2tUb1NhdmVwb2ludCgiczIiKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMoIm9yaWciLCBwYy5nZXRTdHJpbmdGaWVsZCgpKTsKICAgICAg\nICBhc3NlcnRUcnVlKHBtLmlzVHJhbnNhY3Rpb25hbChwYykpOwoKICAgICAg\nICByb2xsYmFja1R4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdExhc3RTYXZlcG9pbnQoKSB7CiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAgIE1v\nZFJ1bnRpbWVUZXN0MSBwYyA9IG5ldyBNb2RSdW50aW1lVGVzdDEoIm9yaWci\nLCAxKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwbS5wZXJzaXN0\nKHBjKTsKICAgICAgICBPYmplY3Qgb2lkID0gcG0uZ2V0T2JqZWN0SWQocGMp\nOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CgogICAg\nICAgIHBtID0gZ2V0UE0oKTsKICAgICAgICBwbS5zZXRPcHRpbWlzdGljKGZh\nbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwYyA9IChNb2RS\ndW50aW1lVGVzdDEpIHBtLmZpbmQoTW9kUnVudGltZVRlc3QxLmNsYXNzLCBv\naWQpOwogICAgICAgIHBjLnNldFN0cmluZ0ZpZWxkKCJzMSIpOwogICAgICAg\nIHBtLnNldFNhdmVwb2ludCgiczEiKTsKICAgICAgICBwYy5zZXRTdHJpbmdG\naWVsZCgiczIiKTsKICAgICAgICBwbS5zZXRTYXZlcG9pbnQoInMyIik7CiAg\nICAgICAgcGMuc2V0U3RyaW5nRmllbGQoImRpZmYiKTsKICAgICAgICBwbS5y\nb2xsYmFja1RvU2F2ZXBvaW50KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJz\nMiIsIHBjLmdldFN0cmluZ0ZpZWxkKCkpOwogICAgICAgIHBtLnJlbGVhc2VT\nYXZlcG9pbnQoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBwbS5yb2xs\nYmFja1RvU2F2ZXBvaW50KCJzMSIpOwogICAgICAgICAgICBmYWlsKCJFeGhh\ndXN0ZWQuIik7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAg\nICAgICB9CiAgICAgICAgcm9sbGJhY2tUeChwbSk7CiAgICAgICAgZW5kRW0o\ncG0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3ROZXdSb2xsYmFjaygp\nIHsKICAgICAgICBkb05ld1JvbGxiYWNrVGVzdChmYWxzZSwgMCwgMCk7CiAg\nICAgICAgZG9OZXdSb2xsYmFja1Rlc3QoZmFsc2UsIDIsIDApOwogICAgICAg\nIGRvTmV3Um9sbGJhY2tUZXN0KGZhbHNlLCAwLCAyKTsKICAgICAgICBkb05l\nd1JvbGxiYWNrVGVzdCh0cnVlLCAwLCAwKTsKICAgICAgICBkb05ld1JvbGxi\nYWNrVGVzdCh0cnVlLCAyLCAwKTsKICAgICAgICBkb05ld1JvbGxiYWNrVGVz\ndCh0cnVlLCAwLCAyKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBkb05ld1Jv\nbGxiYWNrVGVzdChib29sZWFuIHJlc3RvcmUsIGludCBiZWZvcmUsIGludCBh\nZnRlcikgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0\nUE0oKTsKICAgICAgICBwbS5zZXRSZXRhaW5TdGF0ZShyZXN0b3JlKTsKICAg\nICAgICBzdGFydFR4KHBtKTsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkg\nPCBiZWZvcmU7IGkrKykgewogICAgICAgICAgICBwbS5wZXJzaXN0KG5ldyBN\nb2RSdW50aW1lVGVzdDEoInMiICsgaSwgaSkpOwogICAgICAgICAgICAvL3Bt\nLnNldFNhdmVwb2ludCgiYmVmb3JlIiArIGkpOwogICAgICAgIH0KICAgICAg\nICBwbS5zZXRTYXZlcG9pbnQoInRlc3QiKTsKCiAgICAgICAgTW9kUnVudGlt\nZVRlc3QxIHBjID0gbmV3IE1vZFJ1bnRpbWVUZXN0MSgpOwogICAgICAgIHBj\nLnNldFN0cmluZ0ZpZWxkKCJvcmlnIik7CiAgICAgICAgcG0ucGVyc2lzdChw\nYyk7CiAgICAgICAgT2JqZWN0IG9pZCA9IHBtLmdldE9iamVjdElkKHBjKTsK\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhZnRlcjsgaSsrKSB7CiAg\nICAgICAgICAgIHBtLnBlcnNpc3QobmV3IE1vZFJ1bnRpbWVUZXN0MSgpKTsK\nICAgICAgICAgICAgcG0uc2V0U2F2ZXBvaW50KCJhZnRlciIgKyBpKTsKICAg\nICAgICB9CgogICAgICAgIHBtLnJvbGxiYWNrVG9TYXZlcG9pbnQoInRlc3Qi\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm9yaWciLCBwYy5nZXRTdHJpbmdG\naWVsZCgpKTsKICAgICAgICBhc3NlcnRGYWxzZShwbS5pc1BlcnNpc3RlbnQo\ncGMpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYmVmb3JlLCBwbS5nZXRUcmFu\nc2FjdGlvbmFsT2JqZWN0cygpLnNpemUoKSk7CiAgICAgICAgZW5kVHgocG0p\nOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgcG0gPSBnZXRQTSgpOwog\nICAgICAgIGFzc2VydE51bGwocG0uZmluZChNb2RSdW50aW1lVGVzdDEuY2xh\nc3MsIG9pZCkpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0TmV3UmVsYXRpb24oKSB7CiAgICAgICAgZG9OZXdSZWxh\ndGlvblRlc3QodHJ1ZSwgMCwgMCk7CiAgICAgICAgZG9OZXdSZWxhdGlvblRl\nc3QodHJ1ZSwgMiwgMCk7CiAgICAgICAgZG9OZXdSZWxhdGlvblRlc3QodHJ1\nZSwgMCwgMik7CiAgICAgICAgZG9OZXdSZWxhdGlvblRlc3QoZmFsc2UsIDAs\nIDApOwogICAgICAgIGRvTmV3UmVsYXRpb25UZXN0KGZhbHNlLCAyLCAwKTsK\nICAgICAgICBkb05ld1JlbGF0aW9uVGVzdChmYWxzZSwgMCwgMik7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgZG9OZXdSZWxhdGlvblRlc3QoYm9vbGVhbiBu\ndWxsUmVsLCBpbnQgYmVmb3JlLCBpbnQgYWZ0ZXIpIHsKICAgICAgICBkZWxl\ndGVBbGwoTW9kUnVudGltZVRlc3QxLmNsYXNzKTsKCiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAgIHN0YXJ0VHgo\ncG0pOwogICAgICAgIE1vZFJ1bnRpbWVUZXN0MSBwYyA9IG5ldyBNb2RSdW50\naW1lVGVzdDEoKTsKICAgICAgICBwYy5zZXRTdHJpbmdGaWVsZCgib3JpZyIp\nOwogICAgICAgIGlmICghbnVsbFJlbCkKICAgICAgICAgICAgcGMuc2V0U2Vs\nZk9uZU9uZShuZXcgTW9kUnVudGltZVRlc3QxKCJvbmUiLCAxKSk7CiAgICAg\nICAgcG0ucGVyc2lzdChwYyk7CiAgICAgICAgT2JqZWN0IG9pZCA9IHBtLmdl\ndE9iamVjdElkKHBjKTsKICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5k\nRW0ocG0pOwoKICAgICAgICBwbSA9IGdldFBNKCk7CiAgICAgICAgcG0uc2V0\nUmV0YWluU3RhdGUodHJ1ZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAg\nICAgcGMgPSAoTW9kUnVudGltZVRlc3QxKSBwbS5maW5kKE1vZFJ1bnRpbWVU\nZXN0MS5jbGFzcywgb2lkKTsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkg\nPCBiZWZvcmU7IGkrKykgewogICAgICAgICAgICBwYy5zZXRTZWxmT25lT25l\nKG5ldyBNb2RSdW50aW1lVGVzdDEoImJlZm9yZSIgKyBpLCBpKSk7CiAgICAg\nICAgICAgIHBtLnNldFNhdmVwb2ludCgiYmVmb3JlIiArIGkpOwogICAgICAg\nIH0KCiAgICAgICAgcG0uc2V0U2F2ZXBvaW50KCJ0ZXN0Iik7CiAgICAgICAg\ncGMuc2V0U2VsZk9uZU9uZShuZXcgTW9kUnVudGltZVRlc3QxKCJuZXciLCAy\nKSk7CiAgICAgICAgTW9kUnVudGltZVRlc3QxIHBjMiA9IHBjLmdldFNlbGZP\nbmVPbmUoKTsKCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhZnRlcjsg\naSsrKSB7CiAgICAgICAgICAgIHBjLnNldFNlbGZPbmVPbmUobmV3IE1vZFJ1\nbnRpbWVUZXN0MSgpKTsKICAgICAgICAgICAgcG0uc2V0U2F2ZXBvaW50KCJh\nZnRlciIgKyBpKTsKICAgICAgICB9CgogICAgICAgIHBtLnJvbGxiYWNrVG9T\nYXZlcG9pbnQoInRlc3QiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm9yaWci\nLCBwYy5nZXRTdHJpbmdGaWVsZCgpKTsKICAgICAgICBhc3NlcnRGYWxzZShw\nbS5pc1BlcnNpc3RlbnQocGMyKSk7CiAgICAgICAgaWYgKGJlZm9yZSA+IDAp\nCiAgICAgICAgICAgIGFzc2VydEVxdWFscygiYmVmb3JlIiArIChiZWZvcmUg\nLSAxKSwKICAgICAgICAgICAgICAgIHBjLmdldFNlbGZPbmVPbmUoKS5nZXRT\ndHJpbmdGaWVsZCgpKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYg\nKG51bGxSZWwpCiAgICAgICAgICAgICAgICBhc3NlcnROdWxsKHBjLmdldFNl\nbGZPbmVPbmUoKSk7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAg\nIGFzc2VydEVxdWFscygib25lIiwgcGMuZ2V0U2VsZk9uZU9uZSgpLmdldFN0\ncmluZ0ZpZWxkKCkpOwogICAgICAgIH0KICAgICAgICBlbmRUeChwbSk7CiAg\nICAgICAgZW5kRW0ocG0pOwoKICAgICAgICBwbSA9IGdldFBNKCk7CiAgICAg\nICAgcGMgPSAoTW9kUnVudGltZVRlc3QxKSBwbS5maW5kKE1vZFJ1bnRpbWVU\nZXN0MS5jbGFzcywgb2lkKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm9yaWci\nLCBwYy5nZXRTdHJpbmdGaWVsZCgpKTsKICAgICAgICBpZiAoYmVmb3JlID4g\nMCkKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJiZWZvcmUiICsgKGJlZm9y\nZSAtIDEpLAogICAgICAgICAgICAgICAgcGMuZ2V0U2VsZk9uZU9uZSgpLmdl\ndFN0cmluZ0ZpZWxkKCkpOwogICAgICAgIGVsc2UgewogICAgICAgICAgICBp\nZiAobnVsbFJlbCkKICAgICAgICAgICAgICAgIGFzc2VydE51bGwocGMuZ2V0\nU2VsZk9uZU9uZSgpKTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAg\nICAgYXNzZXJ0RXF1YWxzKCJvbmUiLCBwYy5nZXRTZWxmT25lT25lKCkuZ2V0\nU3RyaW5nRmllbGQoKSk7CiAgICAgICAgfQogICAgICAgIGVuZEVtKHBtKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TnVsbFJlbGF0aW9uKCkgewog\nICAgICAgIGRvTnVsbFJlbGF0aW9uVGVzdCh0cnVlLCAwLCAwKTsKICAgICAg\nICBkb051bGxSZWxhdGlvblRlc3QodHJ1ZSwgMiwgMCk7CiAgICAgICAgZG9O\ndWxsUmVsYXRpb25UZXN0KHRydWUsIDAsIDIpOwogICAgICAgIGRvTnVsbFJl\nbGF0aW9uVGVzdChmYWxzZSwgMCwgMCk7CiAgICAgICAgZG9OdWxsUmVsYXRp\nb25UZXN0KGZhbHNlLCAyLCAwKTsKICAgICAgICBkb051bGxSZWxhdGlvblRl\nc3QoZmFsc2UsIDAsIDIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGRvTnVs\nbFJlbGF0aW9uVGVzdChib29sZWFuIHJldGFpbiwgaW50IGJlZm9yZSwgaW50\nIGFmdGVyKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBn\nZXRQTSgpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAgIE1vZFJ1bnRp\nbWVUZXN0MSBwYyA9IG5ldyBNb2RSdW50aW1lVGVzdDEoKTsKICAgICAgICBw\nYy5zZXRTdHJpbmdGaWVsZCgib3JpZyIpOwogICAgICAgIHBjLnNldFNlbGZP\nbmVPbmUobmV3IE1vZFJ1bnRpbWVUZXN0MSgib25lIiwgMSkpOwogICAgICAg\nIHBtLnBlcnNpc3QocGMpOwogICAgICAgIE9iamVjdCBvaWQgPSBwbS5nZXRP\nYmplY3RJZChwYyk7CiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVt\nKHBtKTsKCiAgICAgICAgcG0gPSBnZXRQTSgpOwogICAgICAgIHBtLnNldFJl\ndGFpblN0YXRlKHRydWUpOwogICAgICAgIHN0YXJ0VHgocG0pOwogICAgICAg\nIHBjID0gKE1vZFJ1bnRpbWVUZXN0MSkgcG0uZmluZChNb2RSdW50aW1lVGVz\ndDEuY2xhc3MsIG9pZCk7CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\nYmVmb3JlOyBpKyspIHsKICAgICAgICAgICAgcGMuc2V0U2VsZk9uZU9uZShu\nZXcgTW9kUnVudGltZVRlc3QxKCJiZWZvcmUiICsgaSwgaSkpOwogICAgICAg\nICAgICBwbS5zZXRTYXZlcG9pbnQoImJlZm9yZSIgKyBpKTsKICAgICAgICB9\nCgogICAgICAgIHBtLnNldFNhdmVwb2ludCgidGVzdCIpOwogICAgICAgIHBj\nLnNldFNlbGZPbmVPbmUobnVsbCk7CgogICAgICAgIGZvciAoaW50IGkgPSAw\nOyBpIDwgYWZ0ZXI7IGkrKykgewogICAgICAgICAgICBwYy5zZXRTZWxmT25l\nT25lKG5ldyBNb2RSdW50aW1lVGVzdDEoKSk7CiAgICAgICAgICAgIHBtLnNl\ndFNhdmVwb2ludCgiYWZ0ZXIiICsgaSk7CiAgICAgICAgfQoKICAgICAgICBw\nbS5yb2xsYmFja1RvU2F2ZXBvaW50KCJ0ZXN0Iik7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJvcmlnIiwgcGMuZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAgICAg\naWYgKGJlZm9yZSA+IDApCiAgICAgICAgICAgIGFzc2VydEVxdWFscygiYmVm\nb3JlIiArIChiZWZvcmUgLSAxKSwKICAgICAgICAgICAgICAgIHBjLmdldFNl\nbGZPbmVPbmUoKS5nZXRTdHJpbmdGaWVsZCgpKTsKICAgICAgICBlbHNlCiAg\nICAgICAgICAgIGFzc2VydEVxdWFscygib25lIiwgcGMuZ2V0U2VsZk9uZU9u\nZSgpLmdldFN0cmluZ0ZpZWxkKCkpOwogICAgICAgIGVuZFR4KHBtKTsKICAg\nICAgICBlbmRFbShwbSk7CgogICAgICAgIHBtID0gZ2V0UE0oKTsKICAgICAg\nICBwYyA9IChNb2RSdW50aW1lVGVzdDEpIHBtLmZpbmQoTW9kUnVudGltZVRl\nc3QxLmNsYXNzLCBvaWQpOwogICAgICAgIGFzc2VydEVxdWFscygib3JpZyIs\nIHBjLmdldFN0cmluZ0ZpZWxkKCkpOwogICAgICAgIGlmIChiZWZvcmUgPiAw\nKQogICAgICAgICAgICBhc3NlcnRFcXVhbHMoImJlZm9yZSIgKyAoYmVmb3Jl\nIC0gMSksCiAgICAgICAgICAgICAgICBwYy5nZXRTZWxmT25lT25lKCkuZ2V0\nU3RyaW5nRmllbGQoKSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBhc3Nl\ncnRFcXVhbHMoIm9uZSIsIHBjLmdldFNlbGZPbmVPbmUoKS5nZXRTdHJpbmdG\naWVsZCgpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdENvbGxlY3Rpb24oKSB7CiAgICAgICAgZG9Db2xsZWN0aW9u\nVGVzdCh0cnVlLCAwLCAwKTsKICAgICAgICBkb0NvbGxlY3Rpb25UZXN0KHRy\ndWUsIDIsIDApOwogICAgICAgIGRvQ29sbGVjdGlvblRlc3QodHJ1ZSwgMCwg\nMik7CiAgICAgICAgZG9Db2xsZWN0aW9uVGVzdChmYWxzZSwgMCwgMCk7CiAg\nICAgICAgZG9Db2xsZWN0aW9uVGVzdChmYWxzZSwgMiwgMCk7CiAgICAgICAg\nZG9Db2xsZWN0aW9uVGVzdChmYWxzZSwgMCwgMik7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgZG9Db2xsZWN0aW9uVGVzdChib29sZWFuIG5ld1BDLCBpbnQg\nYmVmb3JlLCBpbnQgYWZ0ZXIpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9IGdldFBNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAg\nICAgTW9kUnVudGltZVRlc3QxIHBjID0gbmV3IE1vZFJ1bnRpbWVUZXN0MSgi\nb3JpZyIsIDEpOwogICAgICAgIE1vZFJ1bnRpbWVUZXN0MSBwYzIgPSBuZXdF\nbGVtZW50KHBjLCAicGVyc2lzdCIsIDIpOwogICAgICAgIE1vZFJ1bnRpbWVU\nZXN0MSBwYzMgPSBuZXdFbGVtZW50KHBjLCAiZGVsZXRlIiwgMyk7CiAgICAg\nICAgcG0ucGVyc2lzdChwYyk7CiAgICAgICAgcG0ucGVyc2lzdChwYzMpOwog\nICAgICAgIE9iamVjdCBvaWQgPSBwbS5nZXRPYmplY3RJZChwYyk7CiAgICAg\nICAgTW9kUnVudGltZVRlc3QxIHRlbXA7CiAgICAgICAgaWYgKCFuZXdQQykg\newogICAgICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgICAgIGVuZEVtKHBt\nKTsKCiAgICAgICAgICAgIHBtID0gZ2V0UE0oKTsKICAgICAgICAgICAgc3Rh\ncnRUeChwbSk7CiAgICAgICAgICAgIHBjID0gKE1vZFJ1bnRpbWVUZXN0MSkg\ncG0uZmluZChNb2RSdW50aW1lVGVzdDEuY2xhc3MsIG9pZCk7CiAgICAgICAg\nICAgIGFzc2VydEVxdWFscygyLCBwYy5nZXRTZWxmT25lTWFueSgpLnNpemUo\nKSk7CiAgICAgICAgICAgIGZvciAoSXRlcmF0b3IgaXQgPSBwYy5nZXRTZWxm\nT25lTWFueSgpLml0ZXJhdG9yKCk7IGl0Lmhhc05leHQoKTspIHsKICAgICAg\nICAgICAgICAgIHRlbXAgPSAoTW9kUnVudGltZVRlc3QxKSBpdC5uZXh0KCk7\nCiAgICAgICAgICAgICAgICBpZiAodGVtcC5nZXRJbnRGaWVsZCgpID09IDIp\nCiAgICAgICAgICAgICAgICAgICAgcGMyID0gdGVtcDsKICAgICAgICAgICAg\nICAgIGVsc2UgaWYgKHRlbXAuZ2V0SW50RmllbGQoKSA9PSAzKQogICAgICAg\nICAgICAgICAgICAgIHBjMyA9IHRlbXA7CiAgICAgICAgICAgICAgICBlbHNl\nCiAgICAgICAgICAgICAgICAgICAgZmFpbCgidW5rbm93biIpOwogICAgICAg\nICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIGJlZm9yZTsgaSsrKSB7CiAgICAgICAgICAgIG5ld0VsZW1lbnQocGMsICJi\nZWZvcmUiICsgaSwgKGkgKyAxKSAqIDEwKTsKICAgICAgICAgICAgcG0uc2V0\nU2F2ZXBvaW50KCJiZWZvcmUiICsgaSk7CiAgICAgICAgfQogICAgICAgIHBt\nLnNldFNhdmVwb2ludCgidGVzdCIpOwogICAgICAgIHBtLnJlbW92ZShwYzMp\nOwogICAgICAgIHBjLmdldFNlbGZPbmVNYW55KCkucmVtb3ZlKHBjMik7Cgog\nICAgICAgIC8vIGtvZG8gNCBpcyBtb3JlIHN0cmluZ2VudCBvbiBkZWxldGVk\nIHJlbGF0aW9ucy4KICAgICAgICBwYy5nZXRTZWxmT25lTWFueSgpLnJlbW92\nZShwYzMpOwogICAgICAgIHBjMi5zZXRTZWxmT25lTWFueShudWxsKTsKCiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhZnRlcjsgaSsrKSB7CiAgICAg\nICAgICAgIG5ld0VsZW1lbnQocGMsICJhZnRlciIgKyBpLCAoaSArIDEpICog\nLTEwKTsKICAgICAgICAgICAgcG0uc2V0U2F2ZXBvaW50KCJhZnRlciIgKyBp\nKTsKICAgICAgICB9CgogICAgICAgIHBtLnJvbGxiYWNrVG9TYXZlcG9pbnQo\nInRlc3QiKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJvcmlnIiwgcGMuZ2V0\nU3RyaW5nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0RmFsc2UocG0uaXNSZW1v\ndmVkKHBjMikpOwogICAgICAgIGZvciAoSXRlcmF0b3IgaXQgPSBwYy5nZXRT\nZWxmT25lTWFueSgpLml0ZXJhdG9yKCk7IGl0Lmhhc05leHQoKTspIHsKICAg\nICAgICAgICAgdGVtcCA9IChNb2RSdW50aW1lVGVzdDEpIGl0Lm5leHQoKTsK\nICAgICAgICAgICAgYXNzZXJ0RmFsc2UocG0uaXNSZW1vdmVkKHRlbXApKTsK\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKHBjLCB0ZW1wLmdldFNlbGZPbmVP\nbmUoKSk7CiAgICAgICAgICAgIGlmICh0ZW1wLmdldEludEZpZWxkKCkgPCAw\nKQogICAgICAgICAgICAgICAgZmFpbCgic2hvdWxkbid0IGJlIGhlcmU6IiAr\nIHRlbXAuZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAgICAgfQogICAgICAgIGFz\nc2VydFRydWUocGMuZ2V0U2VsZk9uZU1hbnkoKS5jb250YWlucyhwYzIpKTsK\nICAgICAgICBhc3NlcnRUcnVlKHBjLmdldFNlbGZPbmVNYW55KCkuY29udGFp\nbnMocGMzKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIgKyBiZWZvcmUsIHBj\nLmdldFNlbGZPbmVNYW55KCkuc2l6ZSgpKTsKICAgICAgICBlbmRUeChwbSk7\nCiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAgICBwbSA9IGdldFBNKCk7CiAg\nICAgICAgcGMgPSAoTW9kUnVudGltZVRlc3QxKSBwbS5maW5kKE1vZFJ1bnRp\nbWVUZXN0MS5jbGFzcywgb2lkKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIm9y\naWciLCBwYy5nZXRTdHJpbmdGaWVsZCgpKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoMiArIGJlZm9yZSwgcGMuZ2V0U2VsZk9uZU1hbnkoKS5zaXplKCkpOwog\nICAgICAgIGJvb2xlYW4gZm91bmQyID0gZmFsc2U7CiAgICAgICAgYm9vbGVh\nbiBmb3VuZDMgPSBmYWxzZTsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0ID0g\ncGMuZ2V0U2VsZk9uZU1hbnkoKS5pdGVyYXRvcigpOyBpdC5oYXNOZXh0KCk7\nKSB7CiAgICAgICAgICAgIHRlbXAgPSAoTW9kUnVudGltZVRlc3QxKSBpdC5u\nZXh0KCk7CiAgICAgICAgICAgIGFzc2VydEVxdWFscyhwYywgdGVtcC5nZXRT\nZWxmT25lT25lKCkpOwogICAgICAgICAgICBpZiAodGVtcC5nZXRJbnRGaWVs\nZCgpIDwgMCkKICAgICAgICAgICAgICAgIGZhaWwoInNob3VsZG4ndCBiZSBo\nZXJlOiIgKyB0ZW1wLmdldFN0cmluZ0ZpZWxkKCkpOwogICAgICAgICAgICBl\nbHNlIGlmICh0ZW1wLmdldEludEZpZWxkKCkgPT0gMikKICAgICAgICAgICAg\nICAgIGZvdW5kMiA9IHRydWU7CiAgICAgICAgICAgIGVsc2UgaWYgKHRlbXAu\nZ2V0SW50RmllbGQoKSA9PSAzKQogICAgICAgICAgICAgICAgZm91bmQzID0g\ndHJ1ZTsKICAgICAgICB9CiAgICAgICAgYXNzZXJ0VHJ1ZShmb3VuZDIgJiYg\nZm91bmQzKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdENoYW5nZVRyYWNrZXIoKSB7CiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAgIHN0YXJ0VHgocG0p\nOwogICAgICAgIFJ1bnRpbWVUZXN0NCBwYyA9IG5ldyBSdW50aW1lVGVzdDQo\nIm9yaWciKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDEyOyBpKysp\nCiAgICAgICAgICAgIHBjLmdldFJ1bnRpbWVUZXN0NXMoKS5hZGQobmV3IFJ1\nbnRpbWVUZXN0NSgiZml2ZSIgKyBpKSk7CiAgICAgICAgcG0ucGVyc2lzdChw\nYyk7CiAgICAgICAgT2JqZWN0IG9pZCA9IHBtLmdldE9iamVjdElkKHBjKTsK\nICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwoKICAgICAg\nICBwbSA9IGdldFBNKCk7CiAgICAgICAgc3RhcnRUeChwbSk7CiAgICAgICAg\ncGMgPSAoUnVudGltZVRlc3Q0KSBwbS5maW5kKFJ1bnRpbWVUZXN0NC5jbGFz\ncywgb2lkKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMTIsIHBjLmdldFJ1bnRp\nbWVUZXN0NXMoKS5zaXplKCkpOwogICAgICAgIGludCBjb3VudCA9IDA7CiAg\nICAgICAgZm9yIChJdGVyYXRvciBpID0gcGMuZ2V0UnVudGltZVRlc3Q1cygp\nLml0ZXJhdG9yKCk7CiAgICAgICAgICAgIGNvdW50IDwgMjsgY291bnQrKykg\newogICAgICAgICAgICBpLm5leHQoKTsKICAgICAgICAgICAgaS5yZW1vdmUo\nKTsKICAgICAgICB9CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEwLCBwYy5nZXRS\ndW50aW1lVGVzdDVzKCkuc2l6ZSgpKTsKICAgICAgICBwbS5zZXRTYXZlcG9p\nbnQoInRlc3QiKTsKICAgICAgICBjb3VudCA9IDA7CiAgICAgICAgZm9yIChJ\ndGVyYXRvciBpID0gcGMuZ2V0UnVudGltZVRlc3Q1cygpLml0ZXJhdG9yKCk7\nCiAgICAgICAgICAgIGNvdW50IDwgMjsgY291bnQrKykgewogICAgICAgICAg\nICBpLm5leHQoKTsKICAgICAgICAgICAgaS5yZW1vdmUoKTsKICAgICAgICB9\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDgsIHBjLmdldFJ1bnRpbWVUZXN0NXMo\nKS5zaXplKCkpOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShw\nbSk7CgogICAgICAgIHBtID0gZ2V0UE0oKTsKICAgICAgICBwYyA9IChSdW50\naW1lVGVzdDQpIHBtLmZpbmQoUnVudGltZVRlc3Q0LmNsYXNzLCBvaWQpOwog\nICAgICAgIGFzc2VydEVxdWFscyg4LCBwYy5nZXRSdW50aW1lVGVzdDVzKCku\nc2l6ZSgpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHJpdmF0\nZSBNb2RSdW50aW1lVGVzdDEgbmV3RWxlbWVudChNb2RSdW50aW1lVGVzdDEg\nb25lLCBTdHJpbmcgc3RyLCBpbnQgaSkgewogICAgICAgIE1vZFJ1bnRpbWVU\nZXN0MSB0d28gPSBuZXcgTW9kUnVudGltZVRlc3QxKHN0ciwgaSk7CiAgICAg\nICAgdHdvLnNldFNlbGZPbmVPbmUob25lKTsKICAgICAgICBvbmUuZ2V0U2Vs\nZk9uZU1hbnkoKS5hZGQodHdvKTsKICAgICAgICByZXR1cm4gdHdvOwogICAg\nfQoKICAgIHB1YmxpYyBzdGF0aWMgUENTdGF0ZSBnZXRTdGF0ZShPYmplY3Qg\nbykgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gT3BlbkpQ\nQVBlcnNpc3RlbmNlLmdldEVudGl0eU1hbmFnZXIobyk7CgogICAgICAgIGlm\nIChwbSA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAg\nICByZXR1cm4gSlBBRmFjYWRlSGVscGVyLnRvQnJva2VyKHBtKS5nZXRTdGF0\nZU1hbmFnZXIobykuZ2V0UENTdGF0ZSgpOwogICAgfQp9Cg==\n","encoding":"base64"}

