{"sha":"c1b574756f25d8012a41aff5545d1521a1038975","node_id":"MDQ6QmxvYjIwNjM2NDpjMWI1NzQ3NTZmMjVkODAxMmE0MWFmZjU1NDVkMTUyMWExMDM4OTc1","size":4314,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c1b574756f25d8012a41aff5545d1521a1038975","content":"LyoKICogVGVzdFNpbXBsZS5qYXZhCiAqCiAqIENyZWF0ZWQgb24gT2N0b2Jl\nciAxMywgMjAwNiwgNTowMyBQTQogKgogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1w\nbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFuYWdlcgogKiBhbmQg\nb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4KICovCi8qCiAqIExp\nY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNG\nKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFn\ncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3RyaWJ1dGVk\nIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiAq\nIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNl\nbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGlj\nZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5b3UgbWF5\nIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiAqIHdp\ndGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhl\nIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vu\nc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBs\naWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdh\ncmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0\nZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVT\nIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNz\nIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVj\naWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0\nYXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICovCnBhY2thZ2Ug\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbDsKCmltcG9y\ndCBqYXZhLnV0aWwuTGlzdDsKCgoKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUnVudGltZVRlc3Qx\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5FeHRl\nbnQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3Bl\nbkpQQUVudGl0eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuT3BlbkpQQVF1ZXJ5OwoKcHVibGljIGNsYXNzIFRlc3RT\naW1wbGUgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7CgogICAgLyoqCiAgICAg\nKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RTaW1wbGUKICAgICAq\nLwogICAgcHVibGljIFRlc3RTaW1wbGUoU3RyaW5nIG5hbWUpIHsKICAgICAg\nICBzdXBlcihuYW1lKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgp\nIHsKICAgICAgICBkZWxldGVBbGwoUnVudGltZVRlc3QxLmNsYXNzKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2ltcGxlKCkgewogICAgICAgIC8v\nIHRlc3QgY3JlYXRlCiAgICAgICAgewogICAgICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlciBwbSA9IGdldFBNKCk7CiAgICAgICAgICAgIHN0YXJ0VHgo\ncG0pOwogICAgICAgICAgICBwbS5wZXJzaXN0KG5ldyBSdW50aW1lVGVzdDEo\nInRlc3RTaW1wbGUiLCAxMikpOwogICAgICAgICAgICBlbmRUeChwbSk7CiAg\nICAgICAgICAgIGVuZEVtKHBtKTsKICAgICAgICB9CgogICAgICAgIC8vIHRl\nc3QgUXVlcnkKICAgICAgICB7CiAgICAgICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICAgICAgc3RhcnRUeChwbSk7\nCiAgICAgICAgICAgIFN0cmluZyB0aGVRdWVyeSA9CiAgICAgICAgICAgICAg\nICAiU0VMRUNUIHIgRlJPTSBSdW50aW1lVGVzdDEgciBXSEVSRSByLnN0cmlu\nZ0ZpZWxkID0gXCd0ZXN0U2ltcGxlXCciOwogICAgICAgICAgICBPcGVuSlBB\nUXVlcnkgcXVlcnkgPSBwbS5jcmVhdGVRdWVyeSh0aGVRdWVyeSk7CiAgICAg\nICAgICAgIExpc3QgbGlzdCA9IHF1ZXJ5LmdldFJlc3VsdExpc3QoKTsKICAg\nICAgICAgICAgYXNzZXJ0U2l6ZSgxLCBsaXN0KTsKICAgICAgICAgICAgZW5k\nVHgocG0pOwogICAgICAgICAgICBlbmRFbShwbSk7CiAgICAgICAgfQoKICAg\nICAgICAvLyB0ZXN0IFVwZGF0ZQogICAgICAgIHsKICAgICAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOwogICAgICAgICAgICBz\ndGFydFR4KHBtKTsKICAgICAgICAgICAgU3RyaW5nIHRoZVF1ZXJ5ID0KICAg\nICAgICAgICAgICAgICJTRUxFQ1QgciBGUk9NIFJ1bnRpbWVUZXN0MSByIFdI\nRVJFIHIuc3RyaW5nRmllbGQgPSBcJ3Rlc3RTaW1wbGVcJyI7CiAgICAgICAg\nICAgIE9wZW5KUEFRdWVyeSBxdWVyeSA9IHBtLmNyZWF0ZVF1ZXJ5KHRoZVF1\nZXJ5KTsKICAgICAgICAgICAgUnVudGltZVRlc3QxIHRvVXBkYXRlID0gKFJ1\nbnRpbWVUZXN0MSkgcXVlcnkuZ2V0U2luZ2xlUmVzdWx0KCk7CiAgICAgICAg\nICAgIHRvVXBkYXRlLnNldFN0cmluZ0ZpZWxkKCJ0ZXN0U2ltcGxlMiIpOwog\nICAgICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgICAgIGVuZEVtKHBtKTsK\nCiAgICAgICAgICAgIHBtID0gZ2V0UE0oKTsKICAgICAgICAgICAgc3RhcnRU\neChwbSk7CiAgICAgICAgICAgIFN0cmluZyBxdWVyeTEgPQogICAgICAgICAg\nICAgICAgIlNFTEVDVCByIEZST00gUnVudGltZVRlc3QxIHIgV0hFUkUgci5z\ndHJpbmdGaWVsZCA9IFwndGVzdFNpbXBsZVwnIjsKICAgICAgICAgICAgU3Ry\naW5nIHF1ZXJ5MiA9CiAgICAgICAgICAgICAgICAiU0VMRUNUIHIgRlJPTSBS\ndW50aW1lVGVzdDEgciBXSEVSRSByLnN0cmluZ0ZpZWxkID0gXCd0ZXN0U2lt\ncGxlMlwnIjsKICAgICAgICAgICAgT3BlbkpQQVF1ZXJ5IHExID0gcG0uY3Jl\nYXRlUXVlcnkocXVlcnkxKTsKICAgICAgICAgICAgT3BlbkpQQVF1ZXJ5IHEy\nID0gcG0uY3JlYXRlUXVlcnkocXVlcnkyKTsKICAgICAgICAgICAgYXNzZXJ0\nU2l6ZSgwLCBxMS5nZXRSZXN1bHRMaXN0KCkpOwogICAgICAgICAgICBhc3Nl\ncnRTaXplKDEsIHEyLmdldFJlc3VsdExpc3QoKSk7CiAgICAgICAgICAgIGVu\nZFR4KHBtKTsKICAgICAgICAgICAgZW5kRW0ocG0pOwogICAgICAgIH0KCiAg\nICAgICAgLy8gdGVzdCBFeHRlbnQKICAgICAgICB7CiAgICAgICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsKICAgICAgICAgICAg\nc3RhcnRUeChwbSk7CiAgICAgICAgICAgIEV4dGVudCBlID0gcG0uY3JlYXRl\nRXh0ZW50KFJ1bnRpbWVUZXN0MS5jbGFzcywgdHJ1ZSk7CiAgICAgICAgICAg\nIGFzc2VydFRydWUoZS5pdGVyYXRvcigpLmhhc05leHQoKSk7CiAgICAgICAg\nICAgIGFzc2VydEVxdWFscygidGVzdFNpbXBsZTIiLCAoKFJ1bnRpbWVUZXN0\nMSkgZS5pdGVyYXRvcigpLm5leHQoKSkuCiAgICAgICAgICAgICAgICBnZXRT\ndHJpbmdGaWVsZCgpKTsKICAgICAgICAgICAgZW5kVHgocG0pOwogICAgICAg\nICAgICBlbmRFbShwbSk7CiAgICAgICAgfQoKICAgICAgICAvLyB0ZXN0IGRl\nbGV0ZQogICAgICAgIHsKICAgICAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFn\nZXIgcG0gPSBnZXRQTSgpOwogICAgICAgICAgICBzdGFydFR4KHBtKTsKICAg\nICAgICAgICAgU3RyaW5nIGRlbGV0ZSA9CiAgICAgICAgICAgICAgICAiREVM\nRVRFIEZST00gUnVudGltZVRlc3QxIHIgV0hFUkUgci5zdHJpbmdGaWVsZCA9\nIFwndGVzdFNpbXBsZTJcJyI7CiAgICAgICAgICAgIE9wZW5KUEFRdWVyeSBk\nZWxldGVRdWVyeSA9IHBtLmNyZWF0ZVF1ZXJ5KGRlbGV0ZSk7CiAgICAgICAg\nICAgIGludCBkZWxldGVkID0gZGVsZXRlUXVlcnkuZXhlY3V0ZVVwZGF0ZSgp\nOwogICAgICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgICAgIGVuZEVtKHBt\nKTsKCiAgICAgICAgICAgIHBtID0gZ2V0UE0oKTsKICAgICAgICAgICAgc3Rh\ncnRUeChwbSk7CiAgICAgICAgICAgIFN0cmluZyBzZWxlY3QgPQogICAgICAg\nICAgICAgICAgIlNFTEVDVCByIEZST00gUnVudGltZVRlc3QxIHIgV0hFUkUg\nci5zdHJpbmdGaWVsZCA9IFwndGVzdFNpbXBsZTJcJyI7CiAgICAgICAgICAg\nIE9wZW5KUEFRdWVyeSBzZWxlY3RRdWVyeSA9IHBtLmNyZWF0ZVF1ZXJ5KHNl\nbGVjdCk7CgogICAgICAgICAgICBhc3NlcnRTaXplKDAsIHNlbGVjdFF1ZXJ5\nLmdldFJlc3VsdExpc3QoKSk7CgogICAgICAgICAgICBlbmRUeChwbSk7CiAg\nICAgICAgICAgIGVuZEVtKHBtKTsKICAgICAgICB9CiAgICB9Cn0K\n","encoding":"base64"}

