{"sha":"201b48f883c60beb5d693207b83392eb6521bbc3","node_id":"MDQ6QmxvYjIwNjM2NDoyMDFiNDhmODgzYzYwYmViNWQ2OTMyMDdiODMzOTJlYjY1MjFiYmMz","size":26848,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/201b48f883c60beb5d693207b83392eb6521bbc3","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nOwoKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtl\ncm5lbC5jb21tb24uYXBwcy5Nb2RSdW50aW1lVGVzdDE7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBz\nLk1vZFJ1bnRpbWVUZXN0MjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUGVyc2lzdGVuY2VBd2Fy\nZTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZS5QZXJzaXN0\nZW5jZUNhcGFibGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNlOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLlJlc3RvcmVTdGF0\nZVR5cGU7CgpwdWJsaWMgY2xhc3MgVGVzdFRyYW5zaXRpb24yIGV4dGVuZHMg\nQmFzZUtlcm5lbFRlc3QgewoKICAgIHByaXZhdGUgYm9vbGVhbiBzdXBwb3J0\nc1Blc3NpbWlzdGljID0gdHJ1ZTsKCiAgICBwcml2YXRlIGludCBfaWQgPSAw\nOwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBU\nZXN0VHJhbnNpdGlvbnMKICAgICAqLwogICAgcHVibGljIFRlc3RUcmFuc2l0\naW9uMigpIHsKICAgIH0KCiAgICBwdWJsaWMgVGVzdFRyYW5zaXRpb24yKFN0\ncmluZyBuYW1lKSB7CiAgICAgICAgc3VwZXIobmFtZSk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0VXAoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nIGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgICAgIHN1cHBvcnRzUGVz\nc2ltaXN0aWMgPSAhcG0uZ2V0T3B0aW1pc3RpYygpOwogICAgICAgICAgICBw\nbS5jbG9zZSgpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoRXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgc3VwcG9ydHNQZXNzaW1pc3RpYyA9IGZhbHNl\nOwogICAgICAgIH0KCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0g\nPSBnZXRQTSgpOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBNb2RS\ndW50aW1lVGVzdDIgYiA9IGNyZWF0ZVRlc3QyKCk7CiAgICAgICAgcG0ucGVy\nc2lzdChiKTsKICAgICAgICBfaWQgPSBiLmdldElkKCk7CgogICAgICAgIGVu\nZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUZXN0cyBiYXNpYyBqZG8gZmxhZyB0cmFuc2l0aW9ucyBmcm9tIHRy\nYW5zaWVudCB0bwogICAgICogcGVyc2lzdGVudC10cmFuc2FjdGlvbmFsIGFu\nZCBiYWNrIHRvIHRyYW5zaWVudCBhZnRlciByb2xsYmFjay4KICAgICAqLwog\nICAgcHVibGljIHZvaWQgdGVzdEZsYWdUcmFuc2l0aW9uczEoKQogICAgICAg\nIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmICghc3VwcG9ydHNQZXNz\naW1pc3RpYykKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBNb2RSdW50\naW1lVGVzdDIgYiA9IGNyZWF0ZVRlc3QyKCk7CiAgICAgICAgYXNzZXJ0VHJh\nbnNpZW50KGIpOwogICAgICAgIGFzc2VydFRyYW5zaWVudChiLmdldFNlbGZP\nbmVPbmUoKSk7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0g\nZ2V0UE0oZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAg\nICAgICBwbS5wZXJzaXN0KGIpOwoKICAgICAgICBhc3NlcnRQZXJzaXN0ZW50\nKGIsIHRydWUsIHRydWUsIGZhbHNlLCB0cnVlKTsKCiAgICAgICAgcm9sbGJh\nY2tUeChwbSk7CgogICAgICAgIGFzc2VydFRyYW5zaWVudChiKTsKICAgICAg\nICBhc3NlcnRUcmFuc2llbnQoYi5nZXRTZWxmT25lT25lKCkpOwogICAgICAg\nIGVuZEVtKHBtKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3RzIGJhc2lj\nIGpkbyBmbGFnIHRyYW5zaXRpb25zIGZyb20gdHJhbnNpZW50IHRvCiAgICAg\nKiBwZXJzaXN0ZW50LXRyYW5zYWN0aW9uYWwgdG8gcGVyc2lzdGVudC1ub250\ncmFuc2FjdGlvbmFsIGFmdGVyIGNvbW1pdC4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgdGVzdEZsYWdUcmFuc2l0aW9uczIoKQogICAgICAgIHRocm93cyBF\neGNlcHRpb24gewogICAgICAgIGlmICghc3VwcG9ydHNQZXNzaW1pc3RpYykK\nICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBNb2RSdW50aW1lVGVzdDIg\nYiA9IGNyZWF0ZVRlc3QyKCk7CiAgICAgICAgYXNzZXJ0VHJhbnNpZW50KGIp\nOwogICAgICAgIGFzc2VydFRyYW5zaWVudChiLmdldFNlbGZPbmVPbmUoKSk7\nCgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFs\nc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwbS5w\nZXJzaXN0KGIpOwoKICAgICAgICBhc3NlcnRQZXJzaXN0ZW50KGIsIHRydWUs\nIHRydWUsIGZhbHNlLCB0cnVlKTsKCiAgICAgICAgZW5kVHgocG0pOwoKICAg\nICAgICBhc3NlcnRQZXJzaXN0ZW50KGIsIGZhbHNlLCBmYWxzZSwgZmFsc2Us\nIGZhbHNlKTsKICAgICAgICBhc3NlcnRQZXJzaXN0ZW50KGIuZ2V0U2VsZk9u\nZU9uZSgpLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7CiAgICAgICAg\nZW5kRW0ocG0pOwogICAgfQoKICAgIC8qKgogICAgICogVGVzdHMgYmFzaWMg\namRvIGZsYWcgdHJhbnNpdGlvbnMgd2hlbiBmaW5kaW5nIGEgdHJhbnNhY3Rp\nb25hbCBpbnN0YW5jZSBieQogICAgICogaWQsIHRoZW4gY29tbWl0dGluZy4K\nICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEZsYWdUcmFuc2l0aW9uczMo\nKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAoIXN1cHBvcnRzUGVz\nc2ltaXN0aWMpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAg\nICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBNb2RSdW50aW1lVGVzdDIgYiA9\nCiAgICAgICAgICAgIChNb2RSdW50aW1lVGVzdDIpIHBtLmZpbmQoTW9kUnVu\ndGltZVRlc3QyLmNsYXNzLCBfaWQpOwogICAgICAgIGFzc2VydFBlcnNpc3Rl\nbnQoYiwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7CiAgICAgICAgYXNz\nZXJ0UGVyc2lzdGVudChiLmdldFNlbGZPbmVPbmUoKSwgdHJ1ZSwgZmFsc2Us\nIGZhbHNlLCBmYWxzZSk7CgogICAgICAgIGVuZFR4KHBtKTsKCiAgICAgICAg\nYXNzZXJ0UGVyc2lzdGVudChiLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxz\nZSk7CiAgICAgICAgYXNzZXJ0UGVyc2lzdGVudChiLmdldFNlbGZPbmVPbmUo\nKSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpOwogICAgICAgIGVuZEVt\nKHBtKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3RzIGJhc2ljIGpkbyBm\nbGFnIHRyYW5zaXRpb25zIHdoZW4gZmluZGluZyBhIHRyYW5zYWN0aW9uYWwK\nICAgICAqIGluc3RhbmNlIGJ5IGlkLCB0aGVuIHJvbGxpbmcgYmFjay4KICAg\nICAqLwogICAgcHVibGljIHZvaWQgdGVzdEZsYWdUcmFuc2l0aW9uczQoKQog\nICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmICghc3VwcG9y\ndHNQZXNzaW1pc3RpYykKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7\nCiAgICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIE1vZFJ1bnRpbWVUZXN0\nMiBiID0KICAgICAgICAgICAgKE1vZFJ1bnRpbWVUZXN0MikgcG0uZmluZChN\nb2RSdW50aW1lVGVzdDIuY2xhc3MsIF9pZCk7CiAgICAgICAgYXNzZXJ0UGVy\nc2lzdGVudChiLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTsKICAgICAg\nICBhc3NlcnRQZXJzaXN0ZW50KGIuZ2V0U2VsZk9uZU9uZSgpLCB0cnVlLCBm\nYWxzZSwgZmFsc2UsIGZhbHNlKTsKCiAgICAgICAgcm9sbGJhY2tUeChwbSk7\nCiAgICAgICAgLy9wbS5nZXRUcmFuc2FjdGlvbigpLnJvbGxiYWNrKCk7Cgog\nICAgICAgIGFzc2VydFBlcnNpc3RlbnQoYiwgZmFsc2UsIGZhbHNlLCBmYWxz\nZSwgZmFsc2UpOwogICAgICAgIGFzc2VydFBlcnNpc3RlbnQoYi5nZXRTZWxm\nT25lT25lKCksIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTsKICAgICAg\nICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0cyBiYXNp\nYyBqZG8gZmxhZyB0cmFuc2l0aW9ucyB3aGVuIGZpbmRpbmcgYSBub24tdHJh\nbnNhY3Rpb25hbAogICAgICogaW5zdGFuY2UgYnkgaWQuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHRlc3RGbGFnVHJhbnNpdGlvbnM1KCkKICAgICAgICB0\naHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAoIXN1cHBvcnRzUGVzc2lt\naXN0aWMpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAg\nIE1vZFJ1bnRpbWVUZXN0MiBiID0KICAgICAgICAgICAgKE1vZFJ1bnRpbWVU\nZXN0MikgcG0uZmluZChNb2RSdW50aW1lVGVzdDIuY2xhc3MsIF9pZCk7Cgog\nICAgICAgIGFzc2VydFBlcnNpc3RlbnQoYiwgZmFsc2UsIGZhbHNlLCBmYWxz\nZSwgZmFsc2UpOwogICAgICAgIGFzc2VydFBlcnNpc3RlbnQoYi5nZXRTZWxm\nT25lT25lKCksIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTsKCiAgICAg\nICAgZW5kRW0ocG0pOwogICAgfQoKICAgIC8qKgogICAgICogVGVzdHMgYmFz\naWMgamRvIGZsYWcgdHJhbnNpdGlvbnMgZnJvbSBwZXJzaXN0ZW50LXRyYW5z\nYWN0aW9uYWwKICAgICAqIHRvIHRyYW5zaWVudCBhZnRlciBkZWxldGUgYW5k\nIGNvbW1pdC4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdEZsYWdUcmFu\nc2l0aW9uczYoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAg\nIGlmICghc3VwcG9ydHNQZXNzaW1pc3RpYykKICAgICAgICAgICAgcmV0dXJu\nOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZh\nbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIE1v\nZFJ1bnRpbWVUZXN0MiBiID0KICAgICAgICAgICAgKE1vZFJ1bnRpbWVUZXN0\nMikgcG0uZmluZChNb2RSdW50aW1lVGVzdDIuY2xhc3MsIF9pZCk7CiAgICAg\nICAgTW9kUnVudGltZVRlc3QxIHBhcmVudCA9IGIuZ2V0U2VsZk9uZU9uZSgp\nOwogICAgICAgIHBtLnJlbW92ZShiKTsKICAgICAgICBhc3NlcnRQZXJzaXN0\nZW50KGIsIHRydWUsIGZhbHNlLCB0cnVlLCB0cnVlKTsKICAgICAgICBhc3Nl\ncnRQZXJzaXN0ZW50KHBhcmVudCwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxz\nZSk7CgogICAgICAgIGVuZFR4KHBtKTsKCiAgICAgICAgYXNzZXJ0VHJhbnNp\nZW50KGIpOwogICAgICAgIGFzc2VydFBlcnNpc3RlbnQocGFyZW50LCBmYWxz\nZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7CiAgICAgICAgZW5kRW0ocG0pOwog\nICAgfQoKICAgIC8qKgogICAgICogVGVzdHMgYmFzaWMgamRvIGZsYWcgdHJh\nbnNpdGlvbnMgZnJvbSBwZXJzaXN0ZW50LXRyYW5zYWN0aW9uYWwKICAgICAq\nIHRvIHBlcnNpc3RlbnQtbm9udHJhbnNhY3Rpb25hbCBhZnRlciBkZWxldGUg\nYW5kIHJvbGxiYWNrLgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0Rmxh\nZ1RyYW5zaXRpb25zNygpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAg\nICAgICAgaWYgKCFzdXBwb3J0c1Blc3NpbWlzdGljKQogICAgICAgICAgICBy\nZXR1cm47CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0\nUE0oZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKCiAgICAg\nICAgTW9kUnVudGltZVRlc3QyIGIgPQogICAgICAgICAgICAoTW9kUnVudGlt\nZVRlc3QyKSBwbS5maW5kKE1vZFJ1bnRpbWVUZXN0Mi5jbGFzcywgX2lkKTsK\nICAgICAgICBNb2RSdW50aW1lVGVzdDEgcGFyZW50ID0gYi5nZXRTZWxmT25l\nT25lKCk7CiAgICAgICAgcG0ucmVtb3ZlKGIpOwogICAgICAgIGFzc2VydFBl\ncnNpc3RlbnQoYiwgdHJ1ZSwgZmFsc2UsIHRydWUsIHRydWUpOwogICAgICAg\nIGFzc2VydFBlcnNpc3RlbnQocGFyZW50LCB0cnVlLCBmYWxzZSwgZmFsc2Us\nIGZhbHNlKTsKCiAgICAgICAgcm9sbGJhY2tUeChwbSk7CgogICAgICAgIGFz\nc2VydFBlcnNpc3RlbnQoYiwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2Up\nOwogICAgICAgIGFzc2VydFBlcnNpc3RlbnQocGFyZW50LCBmYWxzZSwgZmFs\nc2UsIGZhbHNlLCBmYWxzZSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoK\nICAgIC8qKgogICAgICogVGVzdHMgYmFzaWMgc3RhdGUgdHJhbnNpdGlvbnMg\nZnJvbSB0cmFuc2llbnQgdG8KICAgICAqIHBlcnNpc3RlbnQtdHJhbnNhY3Rp\nb25hbCBhbmQgYmFjayB0byB0cmFuc2llbnQgYWZ0ZXIgcm9sbGJhY2suCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RTdGF0ZVRyYW5zaXRpb25zMSgp\nCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKCFzdXBw\nb3J0c1Blc3NpbWlzdGljKQogICAgICAgICAgICByZXR1cm47CgogICAgICAg\nIE1vZFJ1bnRpbWVUZXN0MiBiID0gY3JlYXRlVGVzdDIoKTsKCiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBwbS5wZXJzaXN0KGIp\nOwogICAgICAgIHBtLnBlcnNpc3QoYi5nZXRTZWxmT25lT25lKCkpOwogICAg\nICAgIGFzc2VydFRlc3QyT3JpZyhiKTsKICAgICAgICBjaGFuZ2VUZXN0Mihi\nKTsKCiAgICAgICAgcm9sbGJhY2tUeChwbSk7CgogICAgICAgIGFzc2VydFRl\nc3QyT3JpZyhiKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyBmcm9tIHRy\nYW5zaWVudCB0bwogICAgICogcGVyc2lzdGVudC10cmFuc2FjdGlvbmFsIHRv\nIHBlcnNpc3RlbnQtbm9udHJhbnNhY3Rpb25hbCBhZnRlciBjb21taXQuCiAg\nICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RTdGF0ZVRyYW5zaXRpb25zMigp\nCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKCFzdXBw\nb3J0c1Blc3NpbWlzdGljKQogICAgICAgICAgICByZXR1cm47CgogICAgICAg\nIE1vZFJ1bnRpbWVUZXN0MiBiID0gY3JlYXRlVGVzdDIoKTsKCiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBwbS5wZXJzaXN0KGIp\nOwogICAgICAgIGFzc2VydFRlc3QyT3JpZyhiKTsKICAgICAgICBjaGFuZ2VU\nZXN0MihiKTsKCiAgICAgICAgZW5kVHgocG0pOwoKICAgICAgICBhc3NlcnRU\nZXN0MkNoYW5nZWQoYiwgZmFsc2UpOwogICAgICAgIGVuZEVtKHBtKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRlc3RzIGJhc2ljIHN0YXRlIHRyYW5zaXRp\nb25zIHdoZW4gZmluZGluZyBhIHRyYW5zYWN0aW9uYWwKICAgICAqIGluc3Rh\nbmNlIGJ5IGlkLCB0aGVuIGNvbW1pdHRpbmcuCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIHRlc3RTdGF0ZVRyYW5zaXRpb25zMygpCiAgICAgICAgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKCFzdXBwb3J0c1Blc3NpbWlzdGlj\nKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFy\ndFR4KHBtKTsKCiAgICAgICAgTW9kUnVudGltZVRlc3QyIGIgPQogICAgICAg\nICAgICAoTW9kUnVudGltZVRlc3QyKSBwbS5maW5kKE1vZFJ1bnRpbWVUZXN0\nMi5jbGFzcywgX2lkKTsKICAgICAgICBjaGFuZ2VUZXN0MihiKTsKCiAgICAg\nICAgZW5kVHgocG0pOwoKICAgICAgICBhc3NlcnRUZXN0MkNoYW5nZWQoYiwg\nZmFsc2UpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFRlc3RzIGJhc2ljIHN0YXRlIHRyYW5zaXRpb25zIHdoZW4gZmluZGlu\nZyBhIHRyYW5zYWN0aW9uYWwKICAgICAqIGluc3RhbmNlIGJ5IGlkLCB0aGVu\nIGNvbW1pdHRpbmcuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RTdGF0\nZVRyYW5zaXRpb25zM2EoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIGlmICghc3VwcG9ydHNQZXNzaW1pc3RpYykKICAgICAgICAgICAg\ncmV0dXJuOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdl\ndFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CgogICAg\nICAgIE1vZFJ1bnRpbWVUZXN0MiBiID0KICAgICAgICAgICAgKE1vZFJ1bnRp\nbWVUZXN0MikgcG0uZmluZChNb2RSdW50aW1lVGVzdDIuY2xhc3MsIF9pZCk7\nCiAgICAgICAgY2hhbmdlVGVzdDIoYik7CgogICAgICAgIGVuZFR4KHBtKTsK\nCiAgICAgICAgYXNzZXJ0VGVzdDJDaGFuZ2VkKGIsIGZhbHNlKTsKICAgICAg\nICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0cyBiYXNp\nYyBzdGF0ZSB0cmFuc2l0aW9ucyB3aGVuIGZpbmRpbmcgYSB0cmFuc2FjdGlv\nbmFsCiAgICAgKiBpbnN0YW5jZSBieSBpZCwgdGhlbiByb2xsaW5nIGJhY2su\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RTdGF0ZVRyYW5zaXRpb25z\nNCgpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKCFz\ndXBwb3J0c1Blc3NpbWlzdGljKQogICAgICAgICAgICByZXR1cm47CgogICAg\nICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIGZh\nbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKCiAgICAgICAgTW9kUnVudGlt\nZVRlc3QyIGIgPQogICAgICAgICAgICAoTW9kUnVudGltZVRlc3QyKSBwbS5m\naW5kKE1vZFJ1bnRpbWVUZXN0Mi5jbGFzcywgX2lkKTsKICAgICAgICBhc3Nl\ncnRUZXN0Mk9yaWcoYik7CiAgICAgICAgY2hhbmdlVGVzdDIoYik7CgogICAg\nICAgIHJvbGxiYWNrVHgocG0pOwoKICAgICAgICBhc3NlcnRUZXN0Mk9yaWco\nYik7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIC8qKgogICAgICog\nVGVzdHMgYmFzaWMgc3RhdGUgdHJhbnNpdGlvbnMgd2hlbiBmaW5kaW5nIGEg\ndHJhbnNhY3Rpb25hbAogICAgICogaW5zdGFuY2UgYnkgaWQsIHRoZW4gcm9s\nbGluZyBiYWNrLgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3RhdGVU\ncmFuc2l0aW9uczRhKCkKICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBpZiAoIXN1cHBvcnRzUGVzc2ltaXN0aWMpCiAgICAgICAgICAgIHJl\ndHVybjsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQ\nTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAg\nICBNb2RSdW50aW1lVGVzdDIgYiA9CiAgICAgICAgICAgIChNb2RSdW50aW1l\nVGVzdDIpIHBtLmZpbmQoTW9kUnVudGltZVRlc3QyLmNsYXNzLCBfaWQpOwog\nICAgICAgIGFzc2VydFRlc3QyT3JpZyhiKTsKICAgICAgICBjaGFuZ2VUZXN0\nMihiKTsKCiAgICAgICAgcm9sbGJhY2tUeChwbSk7CgogICAgICAgIGFzc2Vy\ndFRlc3QyT3JpZyhiKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyBmcm9t\nIHBlcnNpc3RlbnQtdHJhbnNhY3Rpb25hbAogICAgICogdG8gdHJhbnNpZW50\nIGFmdGVyIGRlbGV0ZSBhbmQgY29tbWl0LgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0U3RhdGVUcmFuc2l0aW9uczUoKQogICAgICAgIHRocm93cyBF\neGNlcHRpb24gewogICAgICAgIGlmICghc3VwcG9ydHNQZXNzaW1pc3RpYykK\nICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRU\neChwbSk7CgogICAgICAgIE1vZFJ1bnRpbWVUZXN0MiBiID0KICAgICAgICAg\nICAgKE1vZFJ1bnRpbWVUZXN0MikgcG0uZmluZChNb2RSdW50aW1lVGVzdDIu\nY2xhc3MsIF9pZCk7CiAgICAgICAgTW9kUnVudGltZVRlc3QxIHBhcmVudCA9\nIGIuZ2V0U2VsZk9uZU9uZSgpOwogICAgICAgIGFzc2VydE5vdE51bGwoInBh\ncmVudCBpcyBudWxsIiwgcGFyZW50KTsKICAgICAgICBwbS5yZW1vdmUoYik7\nCgogICAgICAgIGVuZFR4KHBtKTsKCiAgICAgICAgLy8gcGFyZW50IHNob3Vs\nZCBiZSB2YWxpZAogICAgICAgIGFzc2VydEVxdWFscygiUEFSRU5UIiwgcGFy\nZW50LmdldFN0cmluZ0ZpZWxkKCkpOwoKICAgICAgICAvLyAnYicgc2hvdWxk\nIGJlIGNsZWFyZWQKICAgICAgICBhc3NlcnROdWxsKGIuZ2V0U3RyaW5nRmll\nbGQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIGIuZ2V0SW50RmllbGQo\nKSk7CiAgICAgICAgYXNzZXJ0TnVsbChiLmdldFNlbGZPbmVPbmUoKSk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0\naW9ucyBmcm9tIHBlcnNpc3RlbnQtdHJhbnNhY3Rpb25hbAogICAgICogdG8g\ncGVyc2lzdGVudC1ub250cmFuc2FjdGlvbmFsIGFmdGVyIGRlbGV0ZSBhbmQg\ncm9sbGJhY2suCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RTdGF0ZVRy\nYW5zaXRpb25zNigpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAg\nICAgaWYgKCFzdXBwb3J0c1Blc3NpbWlzdGljKQogICAgICAgICAgICByZXR1\ncm47CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0o\nZmFsc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKCiAgICAgICAg\nTW9kUnVudGltZVRlc3QyIGIgPQogICAgICAgICAgICAoTW9kUnVudGltZVRl\nc3QyKSBwbS5maW5kKE1vZFJ1bnRpbWVUZXN0Mi5jbGFzcywgX2lkKTsKICAg\nICAgICBhc3NlcnRUZXN0Mk9yaWcoYik7CiAgICAgICAgcG0ucmVtb3ZlKGIp\nOwoKICAgICAgICByb2xsYmFja1R4KHBtKTsKCiAgICAgICAgYXNzZXJ0VGVz\ndDJPcmlnKGIpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFRlc3RzIGJhc2ljIHN0YXRlIHRyYW5zaXRpb25zIGZyb20gdHJh\nbnNpZW50IHRvCiAgICAgKiBwZXJzaXN0ZW50LXRyYW5zYWN0aW9uYWwgYW5k\nIGJhY2sgdG8gdHJhbnNpZW50IGFmdGVyIHJvbGxiYWNrLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0T3B0U3RhdGVUcmFuc2l0aW9uczEoKQogICAg\nICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIE1vZFJ1bnRpbWVUZXN0\nMiBiID0gY3JlYXRlVGVzdDIoKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0gPSBnZXRQTSh0cnVlLCBmYWxzZSk7CiAgICAgICAgc3RhcnRU\neChwbSk7CgogICAgICAgIHBtLnBlcnNpc3QoYik7CiAgICAgICAgcG0ucGVy\nc2lzdChiLmdldFNlbGZPbmVPbmUoKSk7CiAgICAgICAgYXNzZXJ0VGVzdDJP\ncmlnKGIpOwogICAgICAgIGNoYW5nZVRlc3QyKGIpOwoKICAgICAgICByb2xs\nYmFja1R4KHBtKTsKCiAgICAgICAgYXNzZXJ0VGVzdDJPcmlnKGIpOwogICAg\nICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3RzIGJh\nc2ljIHN0YXRlIHRyYW5zaXRpb25zIGZyb20gdHJhbnNpZW50IHRvCiAgICAg\nKiBwZXJzaXN0ZW50LXRyYW5zYWN0aW9uYWwgdG8gcGVyc2lzdGVudC1ub250\ncmFuc2FjdGlvbmFsIGFmdGVyIGNvbW1pdC4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgdGVzdE9wdFN0YXRlVHJhbnNpdGlvbnMyKCkKICAgICAgICB0aHJv\nd3MgRXhjZXB0aW9uIHsKICAgICAgICBNb2RSdW50aW1lVGVzdDIgYiA9IGNy\nZWF0ZVRlc3QyKCk7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBt\nID0gZ2V0UE0odHJ1ZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0pOwoK\nICAgICAgICBwbS5wZXJzaXN0KGIpOwogICAgICAgIGFzc2VydFRlc3QyT3Jp\nZyhiKTsKICAgICAgICBjaGFuZ2VUZXN0MihiKTsKCiAgICAgICAgZW5kVHgo\ncG0pOwoKICAgICAgICBhc3NlcnRUZXN0MkNoYW5nZWQoYiwgZmFsc2UpOwog\nICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3Rz\nIGJhc2ljIHN0YXRlIHRyYW5zaXRpb25zIHdoZW4gZmluZGluZyBhIHRyYW5z\nYWN0aW9uYWwKICAgICAqIGluc3RhbmNlIGJ5IGlkLCB0aGVuIGNvbW1pdHRp\nbmcuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RPcHRTdGF0ZVRyYW5z\naXRpb25zMygpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSh0cnVlLCBmYWxzZSk7\nCiAgICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIE1vZFJ1bnRpbWVUZXN0\nMiBiID0KICAgICAgICAgICAgKE1vZFJ1bnRpbWVUZXN0MikgcG0uZmluZChN\nb2RSdW50aW1lVGVzdDIuY2xhc3MsIF9pZCk7CiAgICAgICAgYXNzZXJ0VGVz\ndDJPcmlnKGIpOwogICAgICAgIGNoYW5nZVRlc3QyKGIpOwoKICAgICAgICBl\nbmRUeChwbSk7CgogICAgICAgIGFzc2VydFRlc3QyQ2hhbmdlZChiLCBmYWxz\nZSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIC8qKgogICAgICog\nVGVzdHMgYmFzaWMgc3RhdGUgdHJhbnNpdGlvbnMgd2hlbiBmaW5kaW5nIGEg\ndHJhbnNhY3Rpb25hbAogICAgICogaW5zdGFuY2UgYnkgaWQsIHRoZW4gcm9s\nbGluZyBiYWNrLgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3B0U3Rh\ndGVUcmFuc2l0aW9uczQoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0odHJ1ZSwg\nZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBNb2RSdW50\naW1lVGVzdDIgYiA9CiAgICAgICAgICAgIChNb2RSdW50aW1lVGVzdDIpIHBt\nLmZpbmQoTW9kUnVudGltZVRlc3QyLmNsYXNzLCBfaWQpOwogICAgICAgIGFz\nc2VydFRlc3QyT3JpZyhiKTsKICAgICAgICBjaGFuZ2VUZXN0MihiKTsKCiAg\nICAgICAgcm9sbGJhY2tUeChwbSk7CgogICAgICAgIGFzc2VydFRlc3QyT3Jp\nZyhiKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyBmcm9tIHBlcnNpc3Rl\nbnQtdHJhbnNhY3Rpb25hbAogICAgICogdG8gdHJhbnNpZW50IGFmdGVyIGRl\nbGV0ZSBhbmQgY29tbWl0LgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nT3B0U3RhdGVUcmFuc2l0aW9uczUoKQogICAgICAgIHRocm93cyBFeGNlcHRp\nb24gewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0o\ndHJ1ZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBN\nb2RSdW50aW1lVGVzdDIgYiA9CiAgICAgICAgICAgIChNb2RSdW50aW1lVGVz\ndDIpIHBtLmZpbmQoTW9kUnVudGltZVRlc3QyLmNsYXNzLCBfaWQpOwogICAg\nICAgIE1vZFJ1bnRpbWVUZXN0MSBwYXJlbnQgPSBiLmdldFNlbGZPbmVPbmUo\nKTsKICAgICAgICBhc3NlcnROb3ROdWxsKCJwYXJlbnQgaXMgbnVsbCIsIHBh\ncmVudCk7CiAgICAgICAgcG0ucmVtb3ZlKGIpOwoKICAgICAgICBlbmRUeChw\nbSk7CgogICAgICAgIC8vIHBhcmVudCBzaG91bGQgYmUgdmFsaWQKICAgICAg\nICBhc3NlcnRFcXVhbHMoIlBBUkVOVCIsIHBhcmVudC5nZXRTdHJpbmdGaWVs\nZCgpKTsKCiAgICAgICAgLy8gJ2InIHNob3VsZCBiZSBjbGVhcmVkCiAgICAg\nICAgYXNzZXJ0TnVsbChiLmdldFN0cmluZ0ZpZWxkKCkpOwogICAgICAgIGFz\nc2VydEVxdWFscygwLCBiLmdldEludEZpZWxkKCkpOwogICAgICAgIGFzc2Vy\ndE51bGwoYi5nZXRTZWxmT25lT25lKCkpOwogICAgfQoKICAgIC8qKgogICAg\nICogVGVzdHMgYmFzaWMgc3RhdGUgdHJhbnNpdGlvbnMgZnJvbSBwZXJzaXN0\nZW50LXRyYW5zYWN0aW9uYWwKICAgICAqIHRvIHBlcnNpc3RlbnQtbm9udHJh\nbnNhY3Rpb25hbCBhZnRlciBkZWxldGUgYW5kIHJvbGxiYWNrLgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3B0U3RhdGVUcmFuc2l0aW9uczYoKQog\nICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIHBtID0gZ2V0UE0odHJ1ZSwgZmFsc2UpOwogICAgICAgIHN0\nYXJ0VHgocG0pOwoKICAgICAgICBNb2RSdW50aW1lVGVzdDIgYiA9CiAgICAg\nICAgICAgIChNb2RSdW50aW1lVGVzdDIpIHBtLmZpbmQoTW9kUnVudGltZVRl\nc3QyLmNsYXNzLCBfaWQpOwogICAgICAgIHBtLnJlbW92ZShiKTsKCiAgICAg\nICAgcm9sbGJhY2tUeChwbSk7CgogICAgICAgIGFzc2VydFRlc3QyT3JpZyhi\nKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBU\nZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyBmcm9tIHRyYW5zaWVudCB0\nbwogICAgICogcGVyc2lzdGVudC10cmFuc2FjdGlvbmFsIGFuZCBiYWNrIHRv\nIHRyYW5zaWVudCBhZnRlciByb2xsYmFjay4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgdGVzdE9wdFJldGFpblN0YXRlVHJhbnNpdGlvbnMxKCkKICAgICAg\nICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBNb2RSdW50aW1lVGVzdDIg\nYiA9IGNyZWF0ZVRlc3QyKCk7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyIHBtID0gZ2V0UE0odHJ1ZSwgdHJ1ZSk7CiAgICAgICAgc3RhcnRUeChw\nbSk7CgogICAgICAgIHBtLnBlcnNpc3QoYik7CiAgICAgICAgcG0ucGVyc2lz\ndChiLmdldFNlbGZPbmVPbmUoKSk7CiAgICAgICAgYXNzZXJ0VGVzdDJPcmln\nKGIpOwogICAgICAgIGNoYW5nZVRlc3QyKGIpOwoKICAgICAgICByb2xsYmFj\na1R4KHBtKTsKCiAgICAgICAgYXNzZXJ0VGVzdDJPcmlnKGIpOwogICAgICAg\nIGVuZEVtKHBtKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRlc3RzIGJhc2lj\nIHN0YXRlIHRyYW5zaXRpb25zIGZyb20gdHJhbnNpZW50IHRvCiAgICAgKiBw\nZXJzaXN0ZW50LXRyYW5zYWN0aW9uYWwgdG8gcGVyc2lzdGVudC1ub250cmFu\nc2FjdGlvbmFsIGFmdGVyIGNvbW1pdC4KICAgICAqLwogICAgcHVibGljIHZv\naWQgdGVzdE9wdFJldGFpblN0YXRlVHJhbnNpdGlvbnMyKCkKICAgICAgICB0\naHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBNb2RSdW50aW1lVGVzdDIgYiA9\nIGNyZWF0ZVRlc3QyKCk7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0gZ2V0UE0odHJ1ZSwgdHJ1ZSk7CiAgICAgICAgc3RhcnRUeChwbSk7\nCgogICAgICAgIHBtLnBlcnNpc3QoYik7CiAgICAgICAgYXNzZXJ0VGVzdDJP\ncmlnKGIpOwogICAgICAgIGNoYW5nZVRlc3QyKGIpOwoKICAgICAgICBlbmRU\neChwbSk7CgogICAgICAgIGFzc2VydFRlc3QyQ2hhbmdlZChiLCB0cnVlKTsK\nICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0\ncyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyB3aGVuIGZpbmRpbmcgYSB0cmFu\nc2FjdGlvbmFsCiAgICAgKiBpbnN0YW5jZSBieSBpZCwgdGhlbiBjb21taXR0\naW5nLgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3B0UmV0YWluU3Rh\ndGVUcmFuc2l0aW9uczMoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0odHJ1ZSwg\ndHJ1ZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIE1vZFJ1bnRp\nbWVUZXN0MiBiID0KICAgICAgICAgICAgKE1vZFJ1bnRpbWVUZXN0MikgcG0u\nZmluZChNb2RSdW50aW1lVGVzdDIuY2xhc3MsIF9pZCk7CiAgICAgICAgYXNz\nZXJ0VGVzdDJPcmlnKGIpOwogICAgICAgIGNoYW5nZVRlc3QyKGIpOwoKICAg\nICAgICBlbmRUeChwbSk7CgogICAgICAgIGFzc2VydFRlc3QyQ2hhbmdlZChi\nLCB0cnVlKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyB3aGVuIGZpbmRp\nbmcgYSB0cmFuc2FjdGlvbmFsCiAgICAgKiBpbnN0YW5jZSBieSBpZCwgdGhl\nbiByb2xsaW5nIGJhY2suCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RP\ncHRSZXRhaW5TdGF0ZVRyYW5zaXRpb25zNCgpCiAgICAgICAgdGhyb3dzIEV4\nY2VwdGlvbiB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBn\nZXRQTSh0cnVlLCB0cnVlKTsKICAgICAgICBzdGFydFR4KHBtKTsKCiAgICAg\nICAgTW9kUnVudGltZVRlc3QyIGIgPQogICAgICAgICAgICAoTW9kUnVudGlt\nZVRlc3QyKSBwbS5maW5kKE1vZFJ1bnRpbWVUZXN0Mi5jbGFzcywgX2lkKTsK\nICAgICAgICBhc3NlcnRUZXN0Mk9yaWcoYik7CiAgICAgICAgY2hhbmdlVGVz\ndDIoYik7CgogICAgICAgIHJvbGxiYWNrVHgocG0pOwoKICAgICAgICBhc3Nl\ncnRUZXN0Mk9yaWcoYik7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAg\nIC8qKgogICAgICogVGVzdHMgYmFzaWMgc3RhdGUgdHJhbnNpdGlvbnMgZnJv\nbSBwZXJzaXN0ZW50LXRyYW5zYWN0aW9uYWwKICAgICAqIHRvIHRyYW5zaWVu\ndCBhZnRlciBkZWxldGUgYW5kIGNvbW1pdC4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgdGVzdE9wdFJldGFpblN0YXRlVHJhbnNpdGlvbnM1KCkKICAgICAg\nICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9IGdldFBNKHRydWUsIHRydWUpOwogICAgICAgIHN0YXJ0VHgo\ncG0pOwoKICAgICAgICBNb2RSdW50aW1lVGVzdDIgYiA9CiAgICAgICAgICAg\nIChNb2RSdW50aW1lVGVzdDIpIHBtLmZpbmQoTW9kUnVudGltZVRlc3QyLmNs\nYXNzLCBfaWQpOwogICAgICAgIE1vZFJ1bnRpbWVUZXN0MSBwYXJlbnQgPSBi\nLmdldFNlbGZPbmVPbmUoKTsKCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgicGFy\nZW50IGlzIG51bGwiLCBwYXJlbnQpOwogICAgICAgIHBtLnJlbW92ZShiKTsK\nCiAgICAgICAgZW5kVHgocG0pOwoKICAgICAgICAvLyBwYXJlbnQgc2hvdWxk\nIGJlIHZhbGlkCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJQQVJFTlQiLCBwYXJl\nbnQuZ2V0U3RyaW5nRmllbGQoKSk7CgogICAgICAgIC8vICdiJyBzaG91bGQg\nYmUgY2xlYXJlZAogICAgICAgIGFzc2VydE51bGwoYi5nZXRTdHJpbmdGaWVs\nZCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMCwgYi5nZXRJbnRGaWVsZCgp\nKTsKICAgICAgICBhc3NlcnROdWxsKGIuZ2V0U2VsZk9uZU9uZSgpKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRlc3RzIGJhc2ljIHN0YXRlIHRyYW5zaXRp\nb25zIGZyb20gcGVyc2lzdGVudC10cmFuc2FjdGlvbmFsCiAgICAgKiB0byBw\nZXJzaXN0ZW50LW5vbnRyYW5zYWN0aW9uYWwgYWZ0ZXIgZGVsZXRlIGFuZCBy\nb2xsYmFjay4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdE9wdFJldGFp\nblN0YXRlVHJhbnNpdGlvbnM2KCkKICAgICAgICB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKHRy\ndWUsIHRydWUpOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBNb2RS\ndW50aW1lVGVzdDIgYiA9CiAgICAgICAgICAgIChNb2RSdW50aW1lVGVzdDIp\nIHBtLmZpbmQoTW9kUnVudGltZVRlc3QyLmNsYXNzLCBfaWQpOwogICAgICAg\nIHBtLnJlbW92ZShiKTsKCiAgICAgICAgcm9sbGJhY2tUeChwbSk7CgogICAg\nICAgIGlmIChwbS5nZXRSZXN0b3JlU3RhdGUoKSAhPSBSZXN0b3JlU3RhdGVU\neXBlLk5PTkUpCiAgICAgICAgICAgIGFzc2VydFRlc3QyT3JpZyhiKTsKICAg\nICAgICBlbHNlCiAgICAgICAgICAgIGFzc2VydE51bGwoYi5nZXRTdHJpbmdG\naWVsZCgpKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyBmcm9tIHRyYW5z\naWVudCB0bwogICAgICogcGVyc2lzdGVudC10cmFuc2FjdGlvbmFsIGFuZCBi\nYWNrIHRvIHRyYW5zaWVudCBhZnRlciByb2xsYmFjay4KICAgICAqLwogICAg\ncHVibGljIHZvaWQgdGVzdFJldGFpblN0YXRlVHJhbnNpdGlvbnMxKCkKICAg\nICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAoIXN1cHBvcnRz\nUGVzc2ltaXN0aWMpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgTW9k\nUnVudGltZVRlc3QyIGIgPSBjcmVhdGVUZXN0MigpOwoKICAgICAgICBPcGVu\nSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCB0cnVlKTsKICAg\nICAgICBzdGFydFR4KHBtKTsKCiAgICAgICAgcG0ucGVyc2lzdChiKTsKICAg\nICAgICBwbS5wZXJzaXN0KGIuZ2V0U2VsZk9uZU9uZSgpKTsKICAgICAgICBh\nc3NlcnRUZXN0Mk9yaWcoYik7CiAgICAgICAgY2hhbmdlVGVzdDIoYik7Cgog\nICAgICAgIHJvbGxiYWNrVHgocG0pOwoKICAgICAgICBhc3NlcnRUZXN0Mk9y\naWcoYik7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIC8qKgogICAg\nICogVGVzdHMgYmFzaWMgc3RhdGUgdHJhbnNpdGlvbnMgZnJvbSB0cmFuc2ll\nbnQgdG8KICAgICAqIHBlcnNpc3RlbnQtdHJhbnNhY3Rpb25hbCB0byBwZXJz\naXN0ZW50LW5vbnRyYW5zYWN0aW9uYWwgYWZ0ZXIgY29tbWl0LgogICAgICov\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmV0YWluU3RhdGVUcmFuc2l0aW9uczIo\nKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmICghc3Vw\ncG9ydHNQZXNzaW1pc3RpYykKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAg\nICBNb2RSdW50aW1lVGVzdDIgYiA9IGNyZWF0ZVRlc3QyKCk7CgogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIHRydWUp\nOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBwbS5wZXJzaXN0KGIp\nOwogICAgICAgIGFzc2VydFRlc3QyT3JpZyhiKTsKICAgICAgICBjaGFuZ2VU\nZXN0MihiKTsKCiAgICAgICAgZW5kVHgocG0pOwoKICAgICAgICBhc3NlcnRU\nZXN0MkNoYW5nZWQoYiwgdHJ1ZSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAg\nfQoKICAgIC8qKgogICAgICogVGVzdHMgYmFzaWMgc3RhdGUgdHJhbnNpdGlv\nbnMgd2hlbiBmaW5kaW5nIGEgdHJhbnNhY3Rpb25hbAogICAgICogaW5zdGFu\nY2UgYnkgaWQsIHRoZW4gY29tbWl0dGluZy4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgdGVzdFJldGFpblN0YXRlVHJhbnNpdGlvbnMzKCkKICAgICAgICB0\naHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAoIXN1cHBvcnRzUGVzc2lt\naXN0aWMpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgdHJ1ZSk7CiAgICAgICAg\nc3RhcnRUeChwbSk7CgogICAgICAgIE1vZFJ1bnRpbWVUZXN0MiBiID0KICAg\nICAgICAgICAgKE1vZFJ1bnRpbWVUZXN0MikgcG0uZmluZChNb2RSdW50aW1l\nVGVzdDIuY2xhc3MsIF9pZCk7CiAgICAgICAgYXNzZXJ0VGVzdDJPcmlnKGIp\nOwogICAgICAgIGNoYW5nZVRlc3QyKGIpOwoKICAgICAgICBlbmRUeChwbSk7\nCgogICAgICAgIGFzc2VydFRlc3QyQ2hhbmdlZChiLCB0cnVlKTsKICAgICAg\nICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUZXN0cyBiYXNp\nYyBzdGF0ZSB0cmFuc2l0aW9ucyB3aGVuIGZpbmRpbmcgYSB0cmFuc2FjdGlv\nbmFsCiAgICAgKiBpbnN0YW5jZSBieSBpZCwgdGhlbiByb2xsaW5nIGJhY2su\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RSZXRhaW5TdGF0ZVRyYW5z\naXRpb25zNCgpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAg\naWYgKCFzdXBwb3J0c1Blc3NpbWlzdGljKQogICAgICAgICAgICByZXR1cm47\nCgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFs\nc2UsIHRydWUpOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBNb2RS\ndW50aW1lVGVzdDIgYiA9CiAgICAgICAgICAgIChNb2RSdW50aW1lVGVzdDIp\nIHBtLmZpbmQoTW9kUnVudGltZVRlc3QyLmNsYXNzLCBfaWQpOwogICAgICAg\nIGFzc2VydFRlc3QyT3JpZyhiKTsKICAgICAgICBjaGFuZ2VUZXN0MihiKTsK\nCiAgICAgICAgcm9sbGJhY2tUeChwbSk7CgogICAgICAgIGFzc2VydFRlc3Qy\nT3JpZyhiKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyBmcm9tIHBlcnNp\nc3RlbnQtdHJhbnNhY3Rpb25hbAogICAgICogdG8gdHJhbnNpZW50IGFmdGVy\nIGRlbGV0ZSBhbmQgY29tbWl0LgogICAgICovCiAgICBwdWJsaWMgdm9pZCB0\nZXN0UmV0YWluU3RhdGVUcmFuc2l0aW9uczUoKSB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICBpZiAoIXN1cHBvcnRzUGVzc2ltaXN0aWMpCiAgICAgICAg\nICAgIHJldHVybjsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0g\nPSBnZXRQTShmYWxzZSwgdHJ1ZSk7CiAgICAgICAgc3RhcnRUeChwbSk7Cgog\nICAgICAgIE1vZFJ1bnRpbWVUZXN0MiBiID0gKE1vZFJ1bnRpbWVUZXN0Mikg\ncG0uZmluZChNb2RSdW50aW1lVGVzdDIuY2xhc3MsCiAgICAgICAgICAgIF9p\nZCk7CiAgICAgICAgTW9kUnVudGltZVRlc3QxIHBhcmVudCA9IGIuZ2V0U2Vs\nZk9uZU9uZSgpOwogICAgICAgIGFzc2VydE5vdE51bGwoInBhcmVudCBpcyBu\ndWxsIiwgcGFyZW50KTsKICAgICAgICBwbS5yZW1vdmUoYik7CgogICAgICAg\nIGVuZFR4KHBtKTsKCiAgICAgICAgLy8gcGFyZW50IHNob3VsZCBiZSB2YWxp\nZAogICAgICAgIGFzc2VydEVxdWFscygiUEFSRU5UIiwgcGFyZW50LmdldFN0\ncmluZ0ZpZWxkKCkpOwoKICAgICAgICAvLyAnYicgc2hvdWxkIGJlIGNsZWFy\nZWQKICAgICAgICBhc3NlcnROdWxsKGIuZ2V0U3RyaW5nRmllbGQoKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDAsIGIuZ2V0SW50RmllbGQoKSk7CiAgICAg\nICAgYXNzZXJ0TnVsbChiLmdldFNlbGZPbmVPbmUoKSk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0aW9ucyBmcm9t\nIHBlcnNpc3RlbnQtdHJhbnNhY3Rpb25hbAogICAgICogdG8gcGVyc2lzdGVu\ndC1ub250cmFuc2FjdGlvbmFsIGFmdGVyIGRlbGV0ZSBhbmQgcm9sbGJhY2su\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RSZXRhaW5TdGF0ZVRyYW5z\naXRpb25zNigpCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAg\naWYgKCFzdXBwb3J0c1Blc3NpbWlzdGljKQogICAgICAgICAgICByZXR1cm47\nCgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFs\nc2UsIHRydWUpOwogICAgICAgIHN0YXJ0VHgocG0pOwoKICAgICAgICBNb2RS\ndW50aW1lVGVzdDIgYiA9CiAgICAgICAgICAgIChNb2RSdW50aW1lVGVzdDIp\nIHBtLmZpbmQoTW9kUnVudGltZVRlc3QyLmNsYXNzLCBfaWQpOwogICAgICAg\nIHBtLnJlbW92ZShiKTsKCiAgICAgICAgcm9sbGJhY2tUeChwbSk7CgogICAg\nICAgIGFzc2VydFRlc3QyT3JpZyhiKTsKICAgICAgICBlbmRFbShwbSk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBUZXN0cyBiYXNpYyBzdGF0ZSB0cmFuc2l0\naW9ucyBmcm9tIHRyYW5zaWVudCB0bwogICAgICogdHJhbnNpZW50LWRpcnR5\nIGFuZCBiYWNrIHRvIHRyYW5zaWVudCBhZnRlciByb2xsYmFjay4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgdGVzdFRyYW5zaWVudFN0YXRlVHJhbnNpdGlv\nbnMxKCkKICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBpZiAo\nIXN1cHBvcnRzUGVzc2ltaXN0aWMpCiAgICAgICAgICAgIHJldHVybjsKCiAg\nICAgICAgTW9kUnVudGltZVRlc3QyIGIgPSBjcmVhdGVUZXN0MigpOwoKICAg\nICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBm\nYWxzZSk7CiAgICAgICAgc3RhcnRUeChwbSk7CgogICAgICAgIHBtLnRyYW5z\nYWN0aW9uYWwoYiwgdHJ1ZSk7CiAgICAgICAgcG0udHJhbnNhY3Rpb25hbChi\nLmdldFNlbGZPbmVPbmUoKSwgdHJ1ZSk7CiAgICAgICAgY2hhbmdlVGVzdDIo\nYik7CgogICAgICAgIHJvbGxiYWNrVHgocG0pOwoKICAgICAgICBhc3NlcnRU\nZXN0Mk9yaWcoYik7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIC8q\nKgogICAgICogVGVzdHMgYmFzaWMgc3RhdGUgdHJhbnNpdGlvbnMgZnJvbSB0\ncmFuc2llbnQgdG8KICAgICAqIHRyYW5zaWVudC10cmFuc2FjdGlvbmFsIGFu\nZCBzdGljayBvbiBjb21taXQuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRl\nc3RUcmFuc2llbnRTdGF0ZVRyYW5zaXRpb25zMigpCiAgICAgICAgdGhyb3dz\nIEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKCFzdXBwb3J0c1Blc3NpbWlzdGlj\nKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIE1vZFJ1bnRpbWVUZXN0\nMiBiID0gY3JlYXRlVGVzdDIoKTsKCiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAgIHN0YXJ0\nVHgocG0pOwoKICAgICAgICBwbS50cmFuc2FjdGlvbmFsKGIsIHRydWUpOwog\nICAgICAgIHBtLnRyYW5zYWN0aW9uYWwoYi5nZXRTZWxmT25lT25lKCksIHRy\ndWUpOwogICAgICAgIGNoYW5nZVRlc3QyKGIpOwoKICAgICAgICBlbmRUeChw\nbSk7CgogICAgICAgIGFzc2VydFRlc3QyQ2hhbmdlZChiLCBmYWxzZSk7CiAg\nICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIC8qKgogICAgICogVGVzdHMg\nc3RhdGUgdHJhbnNpdGlvbnMgZnJvbSBQQ2xlYW4gdG8gdHJhbnNpZW50Lgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0VHJhbnNpZW50U3RhdGVUcmFu\nc2l0aW9uczMoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAg\nIGlmICghc3VwcG9ydHNQZXNzaW1pc3RpYykKICAgICAgICAgICAgcmV0dXJu\nOwoKICAgICAgICBNb2RSdW50aW1lVGVzdDIgYiA9IGNyZWF0ZVRlc3QyKCk7\nCgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFs\nc2UsIGZhbHNlKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwbS5w\nZXJzaXN0KGIpOwogICAgICAgIGludCBvaWQgPSBiLmdldElkKCk7CiAgICAg\nICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKCiAgICAgICAgcG0g\nPSBnZXRQTShmYWxzZSwgZmFsc2UpOwogICAgICAgIC8vRklYTUUganRob21h\ncwogICAgICAgIGIgPSAoTW9kUnVudGltZVRlc3QyKSBwbS5maW5kKE1vZFJ1\nbnRpbWVUZXN0Mi5jbGFzcywgb2lkKTsKICAgICAgICBwbS5yZXRyaWV2ZShi\nKTsKICAgICAgICAvL0ZJWE1FIGp0aG9tYXMKICAgICAgICBlbmRFbShwbSk7\nCgogICAgICAgIC8vIG5vdGUgdGhhdCBhdCB0aGlzIHBvaW50LCBwYXJlbnQg\naXMgbm90IHRyYW5zaWVudCwganVzdCByZXRyaWV2ZWQuCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbCgiYiBpcyBudWxsIiwgYi5nZXRTZWxmT25lT25lKCkpOwog\nICAgfQoKICAgIHByaXZhdGUgTW9kUnVudGltZVRlc3QyIGNyZWF0ZVRlc3Qy\nKCkgewogICAgICAgIHJldHVybiBjcmVhdGVUZXN0MigiTkFNRSIsIDUwKTsK\nICAgIH0KCiAgICBwcml2YXRlIE1vZFJ1bnRpbWVUZXN0MiBjcmVhdGVUZXN0\nMihTdHJpbmcgc3RyLCBpbnQgaSkgewogICAgICAgIHJldHVybiBjcmVhdGVU\nZXN0MihuZXcgTW9kUnVudGltZVRlc3QyKHN0ciwgaSkpOwogICAgfQoKICAg\nIHByaXZhdGUgTW9kUnVudGltZVRlc3QyIGNyZWF0ZVRlc3QyKE1vZFJ1bnRp\nbWVUZXN0MiBiKSB7CiAgICAgICAgTW9kUnVudGltZVRlc3QxIHBhcmVudCA9\nIG5ldyBNb2RSdW50aW1lVGVzdDEoIlBBUkVOVCIsIDcwKTsKICAgICAgICBi\nLnNldFNlbGZPbmVPbmUocGFyZW50KTsKICAgICAgICByZXR1cm4gYjsKICAg\nIH0KCiAgICBwcml2YXRlIHZvaWQgY2hhbmdlVGVzdDIoTW9kUnVudGltZVRl\nc3QyIGIpIHsKICAgICAgICBQZXJzaXN0ZW5jZUF3YXJlLnNldE1vZFRyYW5z\nU3RyaW5nKGIsICI5OTkiKTsKICAgICAgICBiLnNldFN0cmluZ0ZpZWxkKCJD\nSEFOR0VEIik7CiAgICAgICAgYi5zZXRJbnRGaWVsZCgxMDAwKTsKICAgICAg\nICBiLmdldFNlbGZPbmVPbmUoKS5zZXRTdHJpbmdGaWVsZCgiUENIQU5HRUQi\nKTsKICAgICAgICBiLnNldFNlbGZPbmVPbmUobnVsbCk7CiAgICB9CgogICAg\ncHJpdmF0ZSB2b2lkIGFzc2VydFRlc3QyQ2hhbmdlZChNb2RSdW50aW1lVGVz\ndDIgYiwgYm9vbGVhbiByZXRhaW5WYWx1ZXMpIHsKICAgICAgICBpZiAocmV0\nYWluVmFsdWVzKQogICAgICAgICAgICBhc3NlcnRFcXVhbHMoIjk5OSIsIFBl\ncnNpc3RlbmNlQXdhcmUuZ2V0TW9kVHJhbnNTdHJpbmcoYikpOwogICAgICAg\nIGFzc2VydEVxdWFscygiQ0hBTkdFRCIsIGIuZ2V0U3RyaW5nRmllbGQoKSk7\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEwMDAsIGIuZ2V0SW50RmllbGQoKSk7\nCiAgICAgICAgYXNzZXJ0TnVsbChiLmdldFNlbGZPbmVPbmUoKSk7CiAgICB9\nCgogICAgcHJpdmF0ZSB2b2lkIGFzc2VydFRlc3QyT3JpZyhNb2RSdW50aW1l\nVGVzdDIgYikgewogICAgICAgIGFzc2VydEVxdWFscygiTkFNRSIsIGIuZ2V0\nU3RyaW5nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDUwLCBiLmdl\ndEludEZpZWxkKCkpOwogICAgICAgIGFzc2VydE5vdE51bGwoYi5nZXRTZWxm\nT25lT25lKCkpOwogICAgICAgIGFzc2VydEVxdWFscygiUEFSRU5UIiwgYi5n\nZXRTZWxmT25lT25lKCkuZ2V0U3RyaW5nRmllbGQoKSk7CgogICAgICAgIGFz\nc2VydEVxdWFscygKICAgICAgICAgICAgInRyYW5zYWN0aW9uYWwgZmllbGQg\nJ3RyYW5zU3RyaW5nJyB3YXMgbm90IHRoZSAiCiAgICAgICAgICAgICAgICAr\nICJzYW1lIGFzIGl0IHdhcyBvcmlnaW5hbGx5LiBFbnN1cmUgdGhhdCAiCiAg\nICAgICAgICAgICAgICArICJvcGVuanBhLmtlcm5lbC5QZXJzaXN0ZW5jZUF3\nYXJlIGlzIGVuaGFuY2VkLiAiCiAgICAgICAgICAgICAgICArCiAgICAgICAg\nICAgICAgICAiSXQgaXMgcGVyc2lzdGVuY2UtYXdhcmUsIHNvIHdpbGwgbm90\nIGJlIGVuaGFuY2VkIGJ5IGNvbW1hbmRzICIKICAgICAgICAgICAgICAgICsg\nImxpa2UgamRvYyAkKGZpbmQgdGVzdCAtbmFtZSAnKi5qZG8nKS4iLCBudWxs\nLAogICAgICAgICAgICBQZXJzaXN0ZW5jZUF3YXJlLmdldE1vZFRyYW5zU3Ry\naW5nKGIpKTsKICAgIH0KCiAgICAvKioKICAgICAqIEFzc2VydCB0aGF0IHRo\nZSBnaXZlbiBvYmplY3QgaXMgcGVyc2lzdGVudC4KICAgICAqLwogICAgcHVi\nbGljIHZvaWQgYXNzZXJ0VHJhbnNpZW50KE9iamVjdCBhKSB7CiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBjdXJyZW50RW50aXR5TWFuYWdl\ncigpOwogICAgICAgIGFzc2VydFRydWUoIXBtLmlzUGVyc2lzdGVudChhKSk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZSghcG0uaXNUcmFuc2FjdGlvbmFsKGEpKTsK\nICAgICAgICBhc3NlcnRUcnVlKCFwbS5pc05ld2x5UGVyc2lzdGVudChhKSk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZSghcG0uaXNEaXJ0eShhKSk7CiAgICAgICAg\nYXNzZXJ0VHJ1ZSghcG0uaXNSZW1vdmVkKGEpKTsKICAgICAgICBhc3NlcnRO\ndWxsKHBtLmdldE9iamVjdElkKGEpKTsKICAgICAgICBhc3NlcnROdWxsKE9w\nZW5KUEFQZXJzaXN0ZW5jZS5nZXRFbnRpdHlNYW5hZ2VyKGEpKTsKICAgICAg\nICBlbmRFbShwbSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBc3NlcnQgdGhh\ndCB0aGUgZ2l2ZW4gb2JqZWN0IGlzIHBlcnNpc3RlbnQgYW5kIGlzIGluIHRo\nZSBnaXZlbiBzdGF0ZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgYXNzZXJ0\nUGVyc2lzdGVudChPYmplY3QgYSwgYm9vbGVhbiBpc1RyYW5zLCBib29sZWFu\nIGlzTmV3LAogICAgICAgIGJvb2xlYW4gaXNEZWxldGVkLCBib29sZWFuIGlz\nRGlydHkpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9CiAg\nICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0\neU1hbmFnZXIoKTsKICAgICAgICBhc3NlcnRUcnVlKHBtLmlzUGVyc2lzdGVu\ndChhKSk7CgogICAgICAgIFBlcnNpc3RlbmNlQ2FwYWJsZSB4bWFuID0gKFBl\ncnNpc3RlbmNlQ2FwYWJsZSkgYTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKGlz\nVHJhbnMsIHBtLmlzVHJhbnNhY3Rpb25hbChhKSk7CgkJYXNzZXJ0RXF1YWxz\nKGlzTmV3LCBwbS5pc05ld2x5UGVyc2lzdGVudChhKSk7CgkJYXNzZXJ0RXF1\nYWxzKGlzRGVsZXRlZCwgcG0uaXNSZW1vdmVkKGEpKTsKCQlhc3NlcnRFcXVh\nbHMoaXNEaXJ0eSB8fCBpc05ldyB8fCBpc0RlbGV0ZWQsIHBtLmlzRGlydHko\nYSkpOwoJCWFzc2VydE5vdE51bGwocG0uZ2V0T2JqZWN0SWQoYSkpOwoJCWFz\nc2VydE5vdE51bGwoT3BlbkpQQVBlcnNpc3RlbmNlLmdldEVudGl0eU1hbmFn\nZXIoYSkpOwoKCQllbmRFbShwbSk7Cgl9Cgp9Cg==\n","encoding":"base64"}

