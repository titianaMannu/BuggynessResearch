{"sha":"486c6d6ffd1b832b3ccb05f651ca23b1d4160be8","node_id":"MDQ6QmxvYjIwNjM2NDo0ODZjNmQ2ZmZkMWI4MzJiM2NjYjA1ZjY1MWNhMjNiMWQ0MTYwYmU4","size":7669,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/486c6d6ffd1b832b3ccb05f651ca23b1d4160be8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nLmNvbW1vbi5hcHBzOwoKaW1wb3J0IGphdmEubWF0aC5CaWdEZWNpbWFsOwpp\nbXBvcnQgamF2YS5tYXRoLkJpZ0ludGVnZXI7CmltcG9ydCBqYXZhLnV0aWwu\nQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkNhbGVuZGFyOwppbXBvcnQgamF2\nYS51dGlsLkRhdGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHk7\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5JZDsKaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLlRhYmxlOwoKLyoqCiAqIFVzZWQgaW4gdGVzdGluZzsgc2hv\ndWxkIGJlIGVuaGFuY2VkLgogKi8KQEVudGl0eQpAVGFibGUobmFtZSA9ICJh\nZmllbGRzdHQiKQpwdWJsaWMgY2xhc3MgQWxsRmllbGRzVHlwZVRlc3QgewoK\nICAgIEBJZAogICAgcHJpdmF0ZSBpbnQgaWQ7CiAgICBwcml2YXRlIGludCB0\nZXN0aW50OwogICAgcHJpdmF0ZSBsb25nIHRlc3Rsb25nOwogICAgcHJpdmF0\nZSBzaG9ydCB0ZXN0c2hvcnQ7CiAgICBwcml2YXRlIGZsb2F0IHRlc3RmbG9h\ndDsKICAgIHByaXZhdGUgZG91YmxlIHRlc3Rkb3VibGU7CiAgICBwcml2YXRl\nIGJ5dGUgdGVzdGJ5dGU7CiAgICBwcml2YXRlIGJvb2xlYW4gdGVzdGJvb2xl\nYW47CiAgICBwcml2YXRlIGNoYXIgdGVzdGNoYXI7CiAgICBwcml2YXRlIFN0\ncmluZyB0ZXN0U3RyaW5nOwogICAgcHJpdmF0ZSBTdHJpbmcgdGVzdEJpZ1N0\ncmluZzsKICAgIHByaXZhdGUgRGF0ZSB0ZXN0RGF0ZTsKICAgIHByaXZhdGUg\nQ2FsZW5kYXIgdGVzdENhbGVuZGFyOwogICAgcHJpdmF0ZSBPYmplY3QgdGVz\ndE9iamVjdDsKICAgIHByaXZhdGUgQmlnSW50ZWdlciB0ZXN0QmlnSW50ZWdl\ncjsKICAgIHByaXZhdGUgQmlnRGVjaW1hbCB0ZXN0QmlnRGVjaW1hbDsKCiAg\nICBwdWJsaWMgRGF0ZSBnZXRUZXN0RGF0ZSgpIHsKICAgICAgICByZXR1cm4g\ndGhpcy50ZXN0RGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUZXN0\nRGF0ZShEYXRlIHRlc3REYXRlKSB7CiAgICAgICAgdGhpcy50ZXN0RGF0ZSA9\nIHRlc3REYXRlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRlc3RDYWxl\nbmRhcihDYWxlbmRhciB0ZXN0Q2FsZW5kYXIpIHsKICAgICAgICB0aGlzLnRl\nc3RDYWxlbmRhciA9IHRlc3RDYWxlbmRhcjsKICAgIH0KCiAgICBwdWJsaWMg\nQ2FsZW5kYXIgZ2V0VGVzdENhbGVuZGFyKCkgewogICAgICAgIHJldHVybiB0\naGlzLnRlc3RDYWxlbmRhcjsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdl\ndFRlc3RPYmplY3QoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGVzdE9iamVj\ndDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUZXN0T2JqZWN0KE9iamVj\ndCB0ZXN0T2JqZWN0KSB7CiAgICAgICAgdGhpcy50ZXN0T2JqZWN0ID0gdGVz\ndE9iamVjdDsKICAgIH0KCiAgICBwdWJsaWMgY2hhciBnZXRUZXN0Y2hhcigp\nIHsKICAgICAgICByZXR1cm4gdGhpcy50ZXN0Y2hhcjsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRUZXN0Y2hhcihjaGFyIHRlc3RjaGFyKSB7CiAgICAg\nICAgdGhpcy50ZXN0Y2hhciA9IHRlc3RjaGFyOwogICAgfQoKICAgIHB1Ymxp\nYyBpbnQgZ2V0VGVzdGludCgpIHsKICAgICAgICByZXR1cm4gdGhpcy50ZXN0\naW50OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRlc3RpbnQoaW50IHRl\nc3RpbnQpIHsKICAgICAgICB0aGlzLnRlc3RpbnQgPSB0ZXN0aW50OwogICAg\nfQoKICAgIHB1YmxpYyBzaG9ydCBnZXRUZXN0c2hvcnQoKSB7CiAgICAgICAg\ncmV0dXJuIHRoaXMudGVzdHNob3J0OwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFRlc3RzaG9ydChzaG9ydCB0ZXN0c2hvcnQpIHsKICAgICAgICB0aGlz\nLnRlc3RzaG9ydCA9IHRlc3RzaG9ydDsKICAgIH0KCiAgICBwdWJsaWMgbG9u\nZyBnZXRUZXN0bG9uZygpIHsKICAgICAgICByZXR1cm4gdGhpcy50ZXN0bG9u\nZzsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUZXN0bG9uZyhsb25nIHRl\nc3Rsb25nKSB7CiAgICAgICAgdGhpcy50ZXN0bG9uZyA9IHRlc3Rsb25nOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldFRlc3Rib29sZWFuKCkgewog\nICAgICAgIHJldHVybiB0aGlzLnRlc3Rib29sZWFuOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldFRlc3Rib29sZWFuKGJvb2xlYW4gdGVzdGJvb2xlYW4p\nIHsKICAgICAgICB0aGlzLnRlc3Rib29sZWFuID0gdGVzdGJvb2xlYW47CiAg\nICB9CgogICAgcHVibGljIGZsb2F0IGdldFRlc3RmbG9hdCgpIHsKICAgICAg\nICByZXR1cm4gdGhpcy50ZXN0ZmxvYXQ7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0VGVzdGZsb2F0KGZsb2F0IHRlc3RmbG9hdCkgewogICAgICAgIHRo\naXMudGVzdGZsb2F0ID0gdGVzdGZsb2F0OwogICAgfQoKICAgIHB1YmxpYyBk\nb3VibGUgZ2V0VGVzdGRvdWJsZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy50\nZXN0ZG91YmxlOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRlc3Rkb3Vi\nbGUoZG91YmxlIHRlc3Rkb3VibGUpIHsKICAgICAgICB0aGlzLnRlc3Rkb3Vi\nbGUgPSB0ZXN0ZG91YmxlOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nVGVzdFN0cmluZygpIHsKICAgICAgICByZXR1cm4gdGhpcy50ZXN0U3RyaW5n\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRlc3RTdHJpbmcoU3RyaW5n\nIHRlc3RTdHJpbmcpIHsKICAgICAgICB0aGlzLnRlc3RTdHJpbmcgPSB0ZXN0\nU3RyaW5nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFRlc3RCaWdTdHJp\nbmcoU3RyaW5nIHRlc3RCaWdTdHJpbmcpIHsKICAgICAgICB0aGlzLnRlc3RC\naWdTdHJpbmcgPSB0ZXN0QmlnU3RyaW5nOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0VGVzdEJpZ1N0cmluZygpIHsKICAgICAgICByZXR1cm4gdGhp\ncy50ZXN0QmlnU3RyaW5nOwogICAgfQoKICAgIHB1YmxpYyBieXRlIGdldFRl\nc3RieXRlKCkgewogICAgICAgIHJldHVybiB0aGlzLnRlc3RieXRlOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldFRlc3RieXRlKGJ5dGUgdGVzdGJ5dGUp\nIHsKICAgICAgICB0aGlzLnRlc3RieXRlID0gdGVzdGJ5dGU7CiAgICB9Cgog\nICAgcHVibGljIEJpZ0ludGVnZXIgZ2V0VGVzdEJpZ0ludGVnZXIoKSB7CiAg\nICAgICAgcmV0dXJuIHRoaXMudGVzdEJpZ0ludGVnZXI7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0VGVzdEJpZ0ludGVnZXIoQmlnSW50ZWdlciB0ZXN0\nQmlnSW50ZWdlcikgewogICAgICAgIHRoaXMudGVzdEJpZ0ludGVnZXIgPSB0\nZXN0QmlnSW50ZWdlcjsKICAgIH0KCiAgICBwdWJsaWMgQmlnRGVjaW1hbCBn\nZXRUZXN0QmlnRGVjaW1hbCgpIHsKICAgICAgICByZXR1cm4gdGhpcy50ZXN0\nQmlnRGVjaW1hbDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUZXN0Qmln\nRGVjaW1hbChCaWdEZWNpbWFsIHRlc3RCaWdEZWNpbWFsKSB7CiAgICAgICAg\ndGhpcy50ZXN0QmlnRGVjaW1hbCA9IHRlc3RCaWdEZWNpbWFsOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJu\nICJcbnsiCiAgICAgICAgICAgICsgInRlc3RpbnQ9IiArIHRlc3RpbnQgKyAi\nOyIKICAgICAgICAgICAgKyAidGVzdGxvbmc9IiArIHRlc3Rsb25nICsgIjsi\nCiAgICAgICAgICAgICsgInRlc3RzaG9ydD0iICsgdGVzdHNob3J0ICsgIjsi\nCiAgICAgICAgICAgICsgInRlc3RmbG9hdD0iICsgdGVzdGZsb2F0ICsgIjsi\nCiAgICAgICAgICAgICsgInRlc3Rkb3VibGU9IiArIHRlc3Rkb3VibGUgKyAi\nOyIKICAgICAgICAgICAgKyAidGVzdGJ5dGU9IiArIHRlc3RieXRlICsgIjsi\nCiAgICAgICAgICAgICsgInRlc3Rib29sZWFuPSIgKyB0ZXN0Ym9vbGVhbiAr\nICI7IgogICAgICAgICAgICArICJ0ZXN0Y2hhcj0iICsgdGVzdGNoYXIgKyAi\nOyIKICAgICAgICAgICAgKyAidGVzdFN0cmluZz0iICsgdGVzdFN0cmluZyAr\nICI7IgogICAgICAgICAgICArICJ0ZXN0QmlnU3RyaW5nPSIgKyB0ZXN0Qmln\nU3RyaW5nICsgIjsiCiAgICAgICAgICAgICsgInRlc3REYXRlPSIgKyB0ZXN0\nRGF0ZSArICI7IgogICAgICAgICAgICArICJ0ZXN0Q2FsZW5kYXI9IiArIHRl\nc3RDYWxlbmRhciArICI7IgogICAgICAgICAgICArICJ0ZXN0T2JqZWN0PSIg\nKyB0ZXN0T2JqZWN0CiAgICAgICAgICAgICsgIigiICsgKCh0ZXN0T2JqZWN0\nIGluc3RhbmNlb2YgYnl0ZVtdKSA/CiAgICAgICAgICAgICIoYnl0ZVtdKSIg\nKyAoKGJ5dGVbXSkgdGVzdE9iamVjdCkubGVuZ3RoICsgIiIgOgogICAgICAg\nICAgICAodGVzdE9iamVjdCA9PSBudWxsID8gIm51bGwiIDoKICAgICAgICAg\nICAgICAgIHRlc3RPYmplY3QuZ2V0Q2xhc3MoKS5nZXROYW1lKCkpKSArICIp\nIgogICAgICAgICAgICArICI7IgogICAgICAgICAgICArICJ0ZXN0QmlnSW50\nZWdlcj0iICsgdGVzdEJpZ0ludGVnZXIgKyAiOyIKICAgICAgICAgICAgKyAi\ndGVzdEJpZ0RlY2ltYWw9IiArIHRlc3RCaWdEZWNpbWFsICsgIjsiCiAgICAg\nICAgICAgICsgIn0iOwogICAgfQoKICAgIHB1YmxpYyBpbnQgaGFzaENvZGUo\nKSB7CiAgICAgICAgcmV0dXJuIChpbnQpICgoCiAgICAgICAgICAgIHRlc3Rp\nbnQKICAgICAgICAgICAgICAgICsgdGVzdGxvbmcKICAgICAgICAgICAgICAg\nICsgdGVzdHNob3J0CiAgICAgICAgICAgICAgICArIHRlc3RmbG9hdAogICAg\nICAgICAgICAgICAgKyB0ZXN0ZG91YmxlCiAgICAgICAgICAgICAgICArIHRl\nc3RieXRlCiAgICAgICAgICAgICAgICArICh0ZXN0Ym9vbGVhbiA/IDEgOiAw\nKQogICAgICAgICAgICAgICAgKyB0ZXN0Y2hhcgogICAgICAgICAgICAgICAg\nKyAodGVzdFN0cmluZyA9PSBudWxsID8gMCA6IHRlc3RTdHJpbmcuaGFzaENv\nZGUoKSkKICAgICAgICAgICAgICAgICsgKHRlc3RCaWdTdHJpbmcgPT0gbnVs\nbCA/IDAgOiB0ZXN0QmlnU3RyaW5nLmhhc2hDb2RlKCkpCiAgICAgICAgICAg\nICAgICArICh0ZXN0RGF0ZSA9PSBudWxsID8gMCA6IHRlc3REYXRlLmhhc2hD\nb2RlKCkpCiAgICAgICAgICAgICAgICArICh0ZXN0Q2FsZW5kYXIgPT0gbnVs\nbCA/IDAgOiB0ZXN0Q2FsZW5kYXIuaGFzaENvZGUoKSkKICAgICAgICAgICAg\nICAgICsgKHRlc3RPYmplY3QgPT0gbnVsbCA/IDAgOiB0ZXN0T2JqZWN0Lmhh\nc2hDb2RlKCkpCiAgICAgICAgICAgICAgICArICh0ZXN0QmlnSW50ZWdlciA9\nPSBudWxsID8gMCA6IHRlc3RCaWdJbnRlZ2VyLmhhc2hDb2RlKCkpCiAgICAg\nICAgICAgICAgICArICh0ZXN0QmlnRGVjaW1hbCA9PSBudWxsID8gMCA6IHRl\nc3RCaWdEZWNpbWFsLmhhc2hDb2RlKCkpKSkKICAgICAgICAgICAgJSBJbnRl\nZ2VyLk1BWF9WQUxVRTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVh\nbHMoT2JqZWN0IG90aGVyKSB7CiAgICAgICAgaWYgKG90aGVyID09IG51bGwg\nJiYgIShvdGhlciBpbnN0YW5jZW9mIEFsbEZpZWxkc1R5cGVUZXN0KSkKICAg\nICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICBBbGxGaWVsZHNUeXBl\nVGVzdCBvID0gKEFsbEZpZWxkc1R5cGVUZXN0KSBvdGhlcjsKCiAgICAgICAg\ncmV0dXJuCiAgICAgICAgICAgIG8udGVzdGludCA9PSB0ZXN0aW50ICYmCiAg\nICAgICAgICAgICAgICBvLnRlc3Rsb25nID09IHRlc3Rsb25nICYmCiAgICAg\nICAgICAgICAgICBvLnRlc3RzaG9ydCA9PSB0ZXN0c2hvcnQgJiYKICAgICAg\nICAgICAgICAgIG8udGVzdGZsb2F0ID09IHRlc3RmbG9hdCAmJgogICAgICAg\nICAgICAgICAgby50ZXN0ZG91YmxlID09IHRlc3Rkb3VibGUgJiYKICAgICAg\nICAgICAgICAgIG8udGVzdGJ5dGUgPT0gdGVzdGJ5dGUgJiYKICAgICAgICAg\nICAgICAgIG8udGVzdGJvb2xlYW4gPT0gdGVzdGJvb2xlYW4gJiYKICAgICAg\nICAgICAgICAgIG8udGVzdGNoYXIgPT0gdGVzdGNoYXIgJiYKICAgICAgICAg\nICAgICAgIGVxKG8udGVzdFN0cmluZywgdGVzdFN0cmluZykgJiYKICAgICAg\nICAgICAgICAgIGVxKG8udGVzdEJpZ1N0cmluZywgdGVzdEJpZ1N0cmluZykg\nJiYKICAgICAgICAgICAgICAgIGVxKG8udGVzdERhdGUsIHRlc3REYXRlKSAm\nJgogICAgICAgICAgICAgICAgZXEoby50ZXN0Q2FsZW5kYXIsIHRlc3RDYWxl\nbmRhcikgJiYKICAgICAgICAgICAgICAgIGVxKG8udGVzdE9iamVjdCwgdGVz\ndE9iamVjdCkgJiYKICAgICAgICAgICAgICAgIGVxKG8udGVzdEJpZ0ludGVn\nZXIsIG8udGVzdEJpZ0ludGVnZXIpICYmCiAgICAgICAgICAgICAgICBlcShv\nLnRlc3RCaWdEZWNpbWFsLCBvLnRlc3RCaWdEZWNpbWFsKTsKICAgIH0KCiAg\nICBwcml2YXRlIGJvb2xlYW4gZXEoT2JqZWN0IGEsIE9iamVjdCBiKSB7CiAg\nICAgICAgaWYgKGEgPT0gYikKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAg\nICAgICAgaWYgKGEgPT0gbnVsbCAmJiBiICE9IG51bGwpCiAgICAgICAgICAg\nIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoYSAhPSBudWxsICYmIGIgPT0g\nbnVsbCkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAvLyBP\nSywgdGhpcyBpcyBzdHVwaWQsIGJ1dCB3ZSB3YW50IHRvIHNwZWNpYWwtY2Fz\nZSBibG9icwogICAgICAgIC8vIHRoYXkgYXJlIGJ5dGUgYXJyYXlzLCBzaW5j\nZSBuZXcgYnl0ZSBbXSB7IDEsIDJ9IGRvZXMgbm90CiAgICAgICAgLy8gZXF1\nYWxzIGluZXcgYnl0ZSBbXSB7IDEsIDJ9CiAgICAgICAgaWYgKGEgaW5zdGFu\nY2VvZiBieXRlW10gJiYgYiBpbnN0YW5jZW9mIGJ5dGVbXSkKICAgICAgICAg\nICAgcmV0dXJuIEFycmF5cy5lcXVhbHMoKGJ5dGVbXSkgYSwgKGJ5dGVbXSkg\nYik7CgogICAgICAgIHJldHVybiBhLmVxdWFscyhiKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGdldElkKCkgewogICAgICAgIHJldHVybiBpZDsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHsKICAgICAgICB0aGlz\nLmlkID0gaWQ7CiAgICB9Cn0KCg==\n","encoding":"base64"}

