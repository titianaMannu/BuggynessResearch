{"sha":"e2f30141084ea6588042f46510871c2c9ef244ec","node_id":"MDQ6QmxvYjIwNjM2NDplMmYzMDE0MTA4NGVhNjU4ODA0MmY0NjUxMDg3MWMyYzllZjI0NGVj","size":3223,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e2f30141084ea6588042f46510871c2c9ef244ec","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nLmNvbW1vbi5hcHBzOwoKaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuQmFzaWM7CmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5FbWJlZGRlZDsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLkVudGl0eTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLklkOwppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuSWRDbGFzczsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLlRhYmxlOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5qZGJjLkVtYmVkZGVkTWFwcGluZzsKCi8qKgogKiA8cD5QZXJz\naXN0ZW50IHR5cGUgdXNlZCBpbiB0ZXN0aW5nIGVtYmVkZGVkIGluc3RhbmNl\ncy48L3A+CiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpARW50aXR5CkBU\nYWJsZShuYW1lID0gImVtYm93bnBjIikKQElkQ2xhc3MoRW1iZWRkZWRPd25l\nclBDLkVtYktleS5jbGFzcykKcHVibGljIGNsYXNzIEVtYmVkZGVkT3duZXJQ\nQyB7CgogICAgQElkCiAgICBwcml2YXRlIGludCBpZDE7CiAgICBASWQKICAg\nIHByaXZhdGUgaW50IGlkMjsKICAgIEBCYXNpYwogICAgcHJpdmF0ZSBTdHJp\nbmcgc3RyaW5nRmllbGQ7CgogICAgQEVtYmVkZGVkCiAgICBARW1iZWRkZWRN\nYXBwaW5nKG51bGxJbmRpY2F0b3JBdHRyaWJ1dGVOYW1lID0gInN0cmluZ0Zp\nZWxkIikKICAgIHByaXZhdGUgRW1iZWRkZWRQQyBlbWJlZGRlZDsKCiAgICBA\nRW1iZWRkZWQKICAgIHByaXZhdGUgQ29tcGxleEVtYmVkZGVkUEMgY29tcGxl\neEVtYmVkZGVkOwoKICAgIHByb3RlY3RlZCBFbWJlZGRlZE93bmVyUEMoKSB7\nCiAgICB9CgogICAgcHVibGljIEVtYmVkZGVkT3duZXJQQyhpbnQgaWQxLCBp\nbnQgaWQyKSB7CiAgICAgICAgdGhpcy5pZDEgPSBpZDE7CiAgICAgICAgdGhp\ncy5pZDIgPSBpZDI7CiAgICB9CgogICAgcHVibGljIGludCBnZXRJZDEoKSB7\nCiAgICAgICAgcmV0dXJuIGlkMTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdl\ndElkMigpIHsKICAgICAgICByZXR1cm4gaWQyOwogICAgfQoKICAgIHB1Ymxp\nYyBFbWJlZGRlZFBDIGdldEVtYmVkZGVkKCkgewogICAgICAgIHJldHVybiB0\naGlzLmVtYmVkZGVkOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEVtYmVk\nZGVkKEVtYmVkZGVkUEMgZW1iZWRkZWQpIHsKICAgICAgICB0aGlzLmVtYmVk\nZGVkID0gZW1iZWRkZWQ7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRT\ndHJpbmdGaWVsZCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdGaWVs\nZDsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRTdHJpbmdGaWVsZChTdHJp\nbmcgc3RyaW5nRmllbGQpIHsKICAgICAgICB0aGlzLnN0cmluZ0ZpZWxkID0g\nc3RyaW5nRmllbGQ7CiAgICB9CgogICAgcHVibGljIENvbXBsZXhFbWJlZGRl\nZFBDIGdldENvbXBsZXhFbWJlZGRlZCgpIHsKICAgICAgICByZXR1cm4gdGhp\ncy5jb21wbGV4RW1iZWRkZWQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nQ29tcGxleEVtYmVkZGVkKENvbXBsZXhFbWJlZGRlZFBDIGNvbXBsZXhFbWJl\nZGRlZCkgewogICAgICAgIHRoaXMuY29tcGxleEVtYmVkZGVkID0gY29tcGxl\neEVtYmVkZGVkOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgRW1i\nS2V5IGltcGxlbWVudHMgU2VyaWFsaXphYmxlIHsKCiAgICAgICAgcHVibGlj\nIGludCBpZDE7CiAgICAgICAgcHVibGljIGludCBpZDI7CgogICAgICAgIHB1\nYmxpYyBFbWJLZXkoKSB7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgRW1i\nS2V5KFN0cmluZyBzdHIpIHsKICAgICAgICAgICAgaW50IGluZGV4ID0gc3Ry\nLmluZGV4T2YoIjoiKTsKICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7\nCiAgICAgICAgICAgICAgICBpZDEgPSBJbnRlZ2VyLnBhcnNlSW50KHN0ci5z\ndWJzdHJpbmcoMCwgaW5kZXgpKTsKICAgICAgICAgICAgICAgIGlkMiA9IElu\ndGVnZXIucGFyc2VJbnQoc3RyLnN1YnN0cmluZyhpbmRleCArIDEpKTsKICAg\nICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgQE92ZXJyaWRlCiAgICAg\nICAgcHVibGljIGJvb2xlYW4gZXF1YWxzKE9iamVjdCBvdGhlcikgewogICAg\nICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIEVtYktleSkpCiAgICAg\nICAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICAgICAgICBFbWJLZXkg\ndG91c2UgPSAoRW1iS2V5KSBvdGhlcjsKICAgICAgICAgICAgcmV0dXJuIHRv\ndXNlLmlkMSA9PSBpZDEgJiYgdG91c2UuaWQyID09IGlkMjsKICAgICAgICB9\nCgogICAgICAgIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyBpbnQgaGFzaENv\nZGUoKSB7CiAgICAgICAgICAgIHJldHVybiAoaWQxICsgaWQyICsgIiIpLmhh\nc2hDb2RlKCk7CiAgICAgICAgfQogICAgfQp9Cg==\n","encoding":"base64"}

