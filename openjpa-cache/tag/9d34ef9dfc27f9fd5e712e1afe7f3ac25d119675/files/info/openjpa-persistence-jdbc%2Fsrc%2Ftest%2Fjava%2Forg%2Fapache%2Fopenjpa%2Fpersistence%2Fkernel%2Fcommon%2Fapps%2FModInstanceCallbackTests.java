{"sha":"cc728c579e797fd2e386ac9fa582565166e7dcfb","node_id":"MDQ6QmxvYjIwNjM2NDpjYzcyOGM1NzllNzk3ZmQyZTM4NmFjOWZhNTgyNTY1MTY2ZTdkY2Zi","size":5317,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cc728c579e797fd2e386ac9fa582565166e7dcfb","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nLmNvbW1vbi5hcHBzOwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkJhc2lj\nOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuQ2FzY2FkZVR5cGU7CmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5Db2x1bW47CmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5FbnRpdHk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5PbmVU\nb09uZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlBvc3RMb2FkOwppbXBv\ncnQgamF2YXgucGVyc2lzdGVuY2UuUHJlUGVyc2lzdDsKaW1wb3J0IGphdmF4\nLnBlcnNpc3RlbmNlLlByZVJlbW92ZTsKaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLlByZVVwZGF0ZTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlRhYmxl\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVu\nSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5PcGVuSlBBUGVyc2lzdGVuY2U7CgovKioKICogVXNlZCBp\nbiB0ZXN0aW5nOyBzaG91bGQgYmUgZW5oYW5jZWQuCiAqLwpARW50aXR5CkBU\nYWJsZShuYW1lID0gIm1vZGljYnQiKQpwdWJsaWMgY2xhc3MgTW9kSW5zdGFu\nY2VDYWxsYmFja1Rlc3RzIHsKCiAgICBwdWJsaWMgc3RhdGljIGxvbmcgcHJl\nRGVsZXRlSW52b2NhdGlvbnMgPSAwOwogICAgcHVibGljIHN0YXRpYyBsb25n\nIHBvc3RMb2FkSW52b2NhdGlvbnMgPSAwOwogICAgcHVibGljIHN0YXRpYyBs\nb25nIHByZVN0b3JlSW52b2NhdGlvbnMgPSAwOwogICAgcHVibGljIHN0YXRp\nYyBsb25nIHByZUNsZWFySW52b2NhdGlvbnMgPSAwOwoKICAgIHB1YmxpYyB0\ncmFuc2llbnQgYm9vbGVhbiBwb3N0TG9hZENhbGxlZCA9IGZhbHNlOwogICAg\ncHVibGljIHRyYW5zaWVudCBib29sZWFuIHByZVN0b3JlQ2FsbGVkID0gZmFs\nc2U7CiAgICBwdWJsaWMgdHJhbnNpZW50IGJvb2xlYW4gcHJlRGVsZXRlQ2Fs\nbGVkID0gZmFsc2U7CiAgICBwdWJsaWMgdHJhbnNpZW50IGJvb2xlYW4gcHJl\nQ2xlYXJDYWxsZWQgPSBmYWxzZTsKCiAgICBwdWJsaWMgdHJhbnNpZW50IGlu\ndCBwcmVEZWxldGVDeWNsZSA9IC0xOwogICAgcHVibGljIHRyYW5zaWVudCBi\nb29sZWFuIGZsdXNoSW5QcmVTdG9yZSA9IGZhbHNlOwoKICAgIC8vIHRoaXMg\nc3RyaW5nIHNob3VsZCBuZXZlciBiZSBudWxsIGluIGpkb1Bvc3RMb2FkCiAg\nICBAQ29sdW1uKGxlbmd0aCA9IDM1KQogICAgcHJpdmF0ZSBTdHJpbmcgbm9u\nTnVsbFN0cmluZyA9IG51bGw7CgogICAgQENvbHVtbihsZW5ndGggPSAzNSkK\nICAgIHByaXZhdGUgU3RyaW5nIHN0cmluZ0ZpZWxkID0gbnVsbDsKICAgIEBC\nYXNpYwogICAgcHJpdmF0ZSBpbnQgaW50RmllbGQgPSAwOwogICAgQEJhc2lj\nCiAgICBwcml2YXRlIGludCBub25ERkdGaWVsZCA9IDA7CgogICAgQE9uZVRv\nT25lKGNhc2NhZGUgPSB7IENhc2NhZGVUeXBlLlBFUlNJU1QsIENhc2NhZGVU\neXBlLlJFTU9WRSB9KQogICAgcHJpdmF0ZSBNb2RSdW50aW1lVGVzdDEgb25l\nT25lID0gbnVsbDsKCiAgICBAT25lVG9PbmUoY2FzY2FkZSA9IHsgQ2FzY2Fk\nZVR5cGUuUEVSU0lTVCwgQ2FzY2FkZVR5cGUuUkVNT1ZFIH0pCiAgICBwcml2\nYXRlIE1vZEluc3RhbmNlQ2FsbGJhY2tUZXN0cyByZWw7CiAgICBwcml2YXRl\nIHRyYW5zaWVudCBPYmplY3QgcmVsSWQ7CgogICAgcHVibGljIE1vZEluc3Rh\nbmNlQ2FsbGJhY2tUZXN0cygpIHsKICAgIH0KCiAgICBwdWJsaWMgTW9kSW5z\ndGFuY2VDYWxsYmFja1Rlc3RzKFN0cmluZyBzdHJpbmdGaWVsZCwgaW50IGlu\ndEZpZWxkKSB7CiAgICAgICAgdGhpcy5zdHJpbmdGaWVsZCA9IHN0cmluZ0Zp\nZWxkOwogICAgICAgIHRoaXMuaW50RmllbGQgPSBpbnRGaWVsZDsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXROb25OdWxsU3RyaW5nKFN0cmluZyB2YWwp\nIHsKICAgICAgICBub25OdWxsU3RyaW5nID0gdmFsOwogICAgfQoKICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0U3RyaW5nRmllbGQoKSB7CiAgICAgICAgcmV0dXJu\nIHRoaXMuc3RyaW5nRmllbGQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nU3RyaW5nRmllbGQoU3RyaW5nIHN0cmluZ0ZpZWxkKSB7CiAgICAgICAgdGhp\ncy5zdHJpbmdGaWVsZCA9IHN0cmluZ0ZpZWxkOwogICAgfQoKICAgIHB1Ymxp\nYyBpbnQgZ2V0SW50RmllbGQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW50\nRmllbGQ7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0SW50RmllbGQoaW50\nIGludEZpZWxkKSB7CiAgICAgICAgdGhpcy5pbnRGaWVsZCA9IGludEZpZWxk\nOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0Tm9uREZHRmllbGQoKSB7CiAg\nICAgICAgcmV0dXJuIHRoaXMubm9uREZHRmllbGQ7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0Tm9uREZHRmllbGQoaW50IG5vbkRGR0ZpZWxkKSB7CiAg\nICAgICAgdGhpcy5ub25ERkdGaWVsZCA9IG5vbkRGR0ZpZWxkOwogICAgfQoK\nICAgIHB1YmxpYyBNb2RSdW50aW1lVGVzdDEgZ2V0T25lT25lKCkgewogICAg\nICAgIHJldHVybiB0aGlzLm9uZU9uZTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRPbmVPbmUoTW9kUnVudGltZVRlc3QxIG9uZU9uZSkgewogICAgICAg\nIHRoaXMub25lT25lID0gb25lT25lOwogICAgfQoKICAgIEBQb3N0TG9hZAog\nICAgcHVibGljIHZvaWQgamRvUG9zdExvYWQoKSB7CiAgICAgICAgcG9zdExv\nYWRJbnZvY2F0aW9ucysrOwoKICAgICAgICBwb3N0TG9hZENhbGxlZCA9IHRy\ndWU7CiAgICAgICAgaWYgKG5vbk51bGxTdHJpbmcgPT0gbnVsbCkKICAgICAg\nICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIGpkb1ByZUNsZWFyKCkgewogICAgICAgIHBy\nZUNsZWFySW52b2NhdGlvbnMrKzsKCiAgICAgICAgcHJlQ2xlYXJDYWxsZWQg\nPSB0cnVlOwogICAgfQoKICAgIEBQcmVQZXJzaXN0CiAgICBAUHJlVXBkYXRl\nCiAgICBwdWJsaWMgdm9pZCBqZG9QcmVTdG9yZSgpIHsKICAgICAgICBwcmVT\ndG9yZUludm9jYXRpb25zKys7CgogICAgICAgIHByZVN0b3JlQ2FsbGVkID0g\ndHJ1ZTsKCiAgICAgICAgLy8gZW5zdXJlIHRoYXQgd2hlbmV2ZXIgdGhpcyBv\nYmplY3QgaXMgcGVyc2lzdGVkLAogICAgICAgIC8vIG5vbk51bGxTdHJpbmcg\naXMsIGluIGZhY3QsIG5vdCBudWxsLgogICAgICAgIGlmIChub25OdWxsU3Ry\naW5nID09IG51bGwpCiAgICAgICAgICAgIG5vbk51bGxTdHJpbmcgPSAiKiog\ndGhpcyBzdHJpbmcgaXMgbm90IG51bGwgKioiOwoKICAgICAgICAvLyBhc3Np\nZ24gbmV3IHZhbHVlIHRvIHJlbGF0aW9uOyBzaG91bGQgZ2V0IHBlcnNpc3Rl\nZAogICAgICAgIGlmICgiYmFyIi5lcXVhbHMoc3RyaW5nRmllbGQpKQogICAg\nICAgICAgICBvbmVPbmUgPSBuZXcgTW9kUnVudGltZVRlc3QxKCJqZG9QcmVT\ndG9yZSIsIDEwMCk7CiAgICAgICAgaWYgKHJlbElkICE9IG51bGwpIHsKICAg\nICAgICAgICAgTW9kSW5zdGFuY2VDYWxsYmFja1Rlc3RzIHJlbCA9IChNb2RJ\nbnN0YW5jZUNhbGxiYWNrVGVzdHMpCiAgICAgICAgICAgICAgICBPcGVuSlBB\nUGVyc2lzdGVuY2UuZ2V0RW50aXR5TWFuYWdlcih0aGlzKQogICAgICAgICAg\nICAgICAgICAgIC5maW5kKE1vZEluc3RhbmNlQ2FsbGJhY2tUZXN0cy5jbGFz\ncywgcmVsSWQpOwogICAgICAgICAgICByZWwuc2V0UmVsKHRoaXMpOwogICAg\nICAgICAgICByZWwuc2V0SW50RmllbGQoODg4OCk7CiAgICAgICAgfQoKICAg\nICAgICBpZiAoZmx1c2hJblByZVN0b3JlKSB7CiAgICAgICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIHBtID0gT3BlbkpQQVBlcnNpc3RlbmNlLmdldEVu\ndGl0eU1hbmFnZXIodGhpcyk7CiAgICAgICAgICAgIGlmIChwbSAhPSBudWxs\nKQogICAgICAgICAgICAgICAgcG0uZmx1c2goKTsKICAgICAgICB9CiAgICB9\nCgogICAgQFByZVJlbW92ZQogICAgcHVibGljIHZvaWQgamRvUHJlRGVsZXRl\nKCkgewogICAgICAgIHByZURlbGV0ZUludm9jYXRpb25zKys7CiAgICAgICAg\ncHJlRGVsZXRlQ2FsbGVkID0gdHJ1ZTsKICAgICAgICBpZiAocHJlRGVsZXRl\nQ3ljbGUgPj0gMCAmJiBwcmVEZWxldGVDeWNsZSA8IDUpIHsKICAgICAgICAg\nICAgcHJlRGVsZXRlQ3ljbGUrKzsKICAgICAgICAgICAgT3BlbkpQQVBlcnNp\nc3RlbmNlLmdldEVudGl0eU1hbmFnZXIodGhpcykucmVtb3ZlKHRoaXMpOwog\nICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgTW9kSW5zdGFuY2VDYWxsYmFj\na1Rlc3RzIGdldFJlbCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZWw7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVsKE1vZEluc3RhbmNlQ2FsbGJh\nY2tUZXN0cyByZWwpIHsKICAgICAgICB0aGlzLnJlbCA9IHJlbDsKICAgIH0K\nCiAgICBwdWJsaWMgT2JqZWN0IGdldFJlbElkKCkgewogICAgICAgIHJldHVy\nbiB0aGlzLnJlbElkOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlbElk\nKE9iamVjdCByZWxJZCkgewogICAgICAgIHRoaXMucmVsSWQgPSByZWxJZDsK\nICAgIH0KfQ==\n","encoding":"base64"}

