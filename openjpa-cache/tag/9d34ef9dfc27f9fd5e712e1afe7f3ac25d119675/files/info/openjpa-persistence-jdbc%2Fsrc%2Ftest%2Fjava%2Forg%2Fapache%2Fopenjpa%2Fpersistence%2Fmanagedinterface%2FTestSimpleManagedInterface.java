{"sha":"12648156ee44e05fad7708cde53595f8b433ceaf","node_id":"MDQ6QmxvYjIwNjM2NDoxMjY0ODE1NmVlNDRlMDVmYWQ3NzA4Y2RlNTM1OTVmOGI0MzNjZWFm","size":3480,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/12648156ee44e05fad7708cde53595f8b433ceaf","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5tYW5hZ2VkaW50\nZXJmYWNlOwoKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFn\nZXI7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRl\nc3QuU2luZ2xlRU1GVGVzdENhc2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuSlBBRmFjYWRlSGVscGVyOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnF1ZXJ5\nLlNpbXBsZUVudGl0eTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJu\nZWwuQWJzdHJhY3RCcm9rZXJGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5tZXRhLk1ldGFEYXRhUmVwb3NpdG9yeTsKCnB1YmxpYyBjbGFz\ncyBUZXN0U2ltcGxlTWFuYWdlZEludGVyZmFjZQogICAgZXh0ZW5kcyBTaW5n\nbGVFTUZUZXN0Q2FzZSB7CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAg\nICAgICAgc2V0VXAoU2ltcGxlTWFuYWdlZEludGVyZmFjZS5jbGFzcywgU2lt\ncGxlRW50aXR5LmNsYXNzLCBDTEVBUl9UQUJMRVMpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHRlc3RNZXRhRGF0YVJlcG9zaXRvcnkoKSB7CiAgICAgICAg\nQWJzdHJhY3RCcm9rZXJGYWN0b3J5IGJmID0KICAgICAgICAgICAgKEFic3Ry\nYWN0QnJva2VyRmFjdG9yeSkgSlBBRmFjYWRlSGVscGVyLnRvQnJva2VyRmFj\ndG9yeShlbWYpOwogICAgICAgIGJmLm1ha2VSZWFkT25seSgpOwogICAgICAg\nIE1ldGFEYXRhUmVwb3NpdG9yeSByZXBvcyA9IGJmLmdldENvbmZpZ3VyYXRp\nb24oKQogICAgICAgICAgICAuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFu\nY2UoKTsKICAgICAgICBDbGFzc01ldGFEYXRhIG1ldGEgPSByZXBvcy5nZXRN\nZXRhRGF0YShTaW1wbGVNYW5hZ2VkSW50ZXJmYWNlLmNsYXNzLAogICAgICAg\nICAgICBudWxsLCBmYWxzZSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChtZXRh\nKTsKICAgICAgICBhc3NlcnRUcnVlKG1ldGEuaXNNYW5hZ2VkSW50ZXJmYWNl\nKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhTaW1wbGVNYW5hZ2VkSW50ZXJm\nYWNlLmNsYXNzLCBtZXRhLmdldERlc2NyaWJlZFR5cGUoKSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdEludGVyZmFjZUltcGxHZW5lcmF0aW9uKCkg\newogICAgICAgICgoQWJzdHJhY3RCcm9rZXJGYWN0b3J5KSBKUEFGYWNhZGVI\nZWxwZXIudG9Ccm9rZXJGYWN0b3J5KGVtZikpCiAgICAgICAgICAgIC5tYWtl\nUmVhZE9ubHkoKTsKICAgICAgICAvLyBsb2FkIG1ldGFkYXRhIHRvIHRyaWdn\nZXIgaW5zdGFuY2UgY3JlYXRpb24KICAgICAgICBDbGFzc01ldGFEYXRhIG1l\ndGEgPSBKUEFGYWNhZGVIZWxwZXIuZ2V0TWV0YURhdGEoZW1mLAogICAgICAg\nICAgICBTaW1wbGVNYW5hZ2VkSW50ZXJmYWNlLmNsYXNzKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoU2ltcGxlTWFuYWdlZEludGVyZmFjZS5jbGFzcywgbWV0\nYS5nZXREZXNjcmliZWRUeXBlKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3RCYXNpY09wZXJhdGlvbnMoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAg\nICAgIFNpbXBsZU1hbmFnZWRJbnRlcmZhY2UgcGMgPQogICAgICAgICAgICBl\nbS5jcmVhdGVJbnN0YW5jZShTaW1wbGVNYW5hZ2VkSW50ZXJmYWNlLmNsYXNz\nKTsKICAgICAgICBwYy5zZXRJZCgxNyk7CiAgICAgICAgcGMuc2V0U3RyaW5n\nKCJoZWxsbyEiKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2lu\nKCk7CiAgICAgICAgZW0ucGVyc2lzdChwYyk7CiAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5jbG9zZSgpOwoKICAg\nICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAg\ncGMgPSBlbS5maW5kKFNpbXBsZU1hbmFnZWRJbnRlcmZhY2UuY2xhc3MsIDE3\nKTsKICAgICAgICBhc3NlcnROb3ROdWxsKHBjKTsKICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgcGMuc2V0U3RyaW5nKCJ1\ncGRhdGVkIik7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsKICAgICAgICBlbS5jbG9zZSgpOwoKICAgICAgICBlbSA9IGVtZi5jcmVh\ndGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOwogICAgICAgIGVtLnJlbW92ZShlbS5nZXRSZWZlcmVuY2Uo\nU2ltcGxlTWFuYWdlZEludGVyZmFjZS5jbGFzcywgMTcpKTsKICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3Nl\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdEpQUUwoKSB7CiAgICAg\nICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIGVtLmNyZWF0ZVF1ZXJ5KCJz\nZWxlY3QgbyBmcm9tIFNpbXBsZU1hbmFnZWRJbnRlcmZhY2UgbyIpCiAgICAg\nICAgICAgIC5nZXRSZXN1bHRMaXN0KCkuc2l6ZSgpKTsKICAgICAgICBlbS5j\nbG9zZSgpOwogICAgfQp9\n","encoding":"base64"}

