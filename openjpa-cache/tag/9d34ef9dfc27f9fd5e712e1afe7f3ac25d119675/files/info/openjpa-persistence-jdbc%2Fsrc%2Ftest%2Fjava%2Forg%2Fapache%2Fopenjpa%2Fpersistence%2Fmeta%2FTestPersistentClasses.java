{"sha":"9d83833e23621716f06b6f139b275efd648bf291","node_id":"MDQ6QmxvYjIwNjM2NDo5ZDgzODMzZTIzNjIxNzE2ZjA2YjZmMTM5YjI3NWVmZDY0OGJmMjkx","size":3920,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9d83833e23621716f06b6f139b275efd648bf291","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsK\nCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRp\nbC5IYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YS5jb21tb24uYXBwcy5S\ndW50aW1lVGVzdDE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UubWV0YS5jb21tb24uYXBwcy5SdW50aW1lVGVzdDI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YS5jb21tb24uYXBw\ncy5SdW50aW1lVGVzdDM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuY29tbW9uLnV0aWxzLio7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuY29uZi5PcGVuSlBBQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJOwoKcHVibGljIGNs\nYXNzIFRlc3RQZXJzaXN0ZW50Q2xhc3NlcwogICAgZXh0ZW5kcyBBYnN0cmFj\ndFRlc3RDYXNlIHsKCiAgICBwdWJsaWMgVGVzdFBlcnNpc3RlbnRDbGFzc2Vz\nKFN0cmluZyB0ZXN0KSB7CiAgICAgICAgc3VwZXIodGVzdCwgIm1ldGFjYWN0\ndXNhcHAiKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgYXNzZXJ0Q2xhc3Mo\nQ2xhc3MgY2xzLCBPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25mLAogICAgICAg\nIGJvb2xlYW4gc2hvdWxkRXhpc3QpIHsKICAgICAgICBhc3NlcnRDbGFzcyhj\nbHMuZ2V0TmFtZSgpLCBjb25mLCBzaG91bGRFeGlzdCk7CiAgICB9CgogICAg\ncHJpdmF0ZSB2b2lkIGFzc2VydENsYXNzKFN0cmluZyBjbHNOYW1lLCBPcGVu\nSlBBQ29uZmlndXJhdGlvbiBjb25mLAogICAgICAgIGJvb2xlYW4gc2hvdWxk\nRXhpc3QpIHsKCiAgICAgICAgQ29sbGVjdGlvbiBuYW1lcyA9IGNvbmYuZ2V0\nTWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2UoKS4KICAgICAgICAgICAgZ2V0\nUGVyc2lzdGVudFR5cGVOYW1lcyhmYWxzZSwgbnVsbCk7CgogICAgICAgIGlm\nIChzaG91bGRFeGlzdCkKICAgICAgICAgICAgYXNzZXJ0VHJ1ZSgiZXhwZWN0\nZWQgZWxlbWVudCAiICsgY2xzTmFtZSArICIgd2FzIG5vdCBmb3VuZCBpbiAi\nCiAgICAgICAgICAgICAgICArIG5hbWVzLCBuYW1lcy5jb250YWlucyhjbHNO\nYW1lKSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBhc3NlcnRUcnVlKCJ1\nbmV4cGVjdGVkIGVsZW1lbnQgIiArIGNsc05hbWUgKyAiIHdhcyBmb3VuZCBp\nbiAiCiAgICAgICAgICAgICAgICArIG5hbWVzLCAhbmFtZXMuY29udGFpbnMo\nY2xzTmFtZSkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3ROb25lQ29u\nZmlndXJlZCgpIHsKCiAgICAgICAgTWFwIG1hcCA9IG5ldyBIYXNoTWFwKCk7\nCiAgICAgICAgbWFwLnB1dCgib3BlbmpwYS5NZXRhRGF0YUZhY3RvcnkiLCAi\nanBhIik7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBt\nZiA9IGdldEVtZihtYXApOwoKICAgICAgICBhc3NlcnROdWxsKCgoT3BlbkpQ\nQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKSBwbWYpLmdldENvbmZpZ3VyYXRp\nb24oKQogICAgICAgICAgICAuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFu\nY2UoKS4KCiAgICAgICAgICAgIGdldFBlcnNpc3RlbnRUeXBlTmFtZXMoZmFs\nc2UsIG51bGwpKTsKCiAgICAgICAgcG1mLmNsb3NlKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVzdEpQQUNsYXNzcGF0aFNjYW5uZXIoKSB7CiAgICAg\nICAgTWFwIG1hcCA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgbWFwLnB1dCgi\nb3BlbmpwYS5NZXRhRGF0YUZhY3RvcnkiLCAianBhKENsYXNzcGF0aFNjYW49\nc3JjO2pkazEuNS10ZXN0KSIpOwogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyRmFjdG9yeSBwbWYgPSBnZXRFbWYobWFwKTsKCiAgICAgICAgYXNzZXJ0\nQ2xhc3MoUnVudGltZVRlc3QxLmNsYXNzLAogICAgICAgICAgICAoKE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSkgcG1mKS5nZXRDb25maWd1cmF0\naW9uKCksIGZhbHNlKTsKCiAgICAgICAgYXNzZXJ0Q2xhc3MoUnVudGltZVRl\nc3QyLmNsYXNzLAogICAgICAgICAgICAoKE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nRmFjdG9yeVNQSSkgcG1mKS5nZXRDb25maWd1cmF0aW9uKCksIGZhbHNlKTsK\nCiAgICAgICAgYXNzZXJ0Q2xhc3MoIm9wZW5qcGEubWV0YS5HZW5lcmljRmll\nbGRzIiwKICAgICAgICAgICAgKChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnlTUEkpIHBtZikuZ2V0Q29uZmlndXJhdGlvbigpLCB0cnVlKTsKCiAgICAg\nICAgcG1mLmNsb3NlKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFR5\ncGVzKCkgewoKICAgICAgICBNYXAgbWFwID0gbmV3IEhhc2hNYXAoKTsKCiAg\nICAgICAgbWFwLnB1dCgib3BlbmpwYS5NZXRhRGF0YUZhY3RvcnkiLAogICAg\nICAgICAgICAianBhKFR5cGVzPW9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5rZXJuZWwuUnVudGltZVRlc3QxOyIgKwogICAgICAgICAgICAgICAg\nIm9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuUnVudGlt\nZVRlc3QyKSIpOwoKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnkgcG1mID0gZ2V0RW1mKG1hcCk7CiAgICAgICAgYXNzZXJ0Q2xhc3MoUnVu\ndGltZVRlc3QxLmNsYXNzLAogICAgICAgICAgICAoKE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyRmFjdG9yeVNQSSkgcG1mKS5nZXRDb25maWd1cmF0aW9uKCksIHRy\ndWUpOwoKICAgICAgICBhc3NlcnRDbGFzcyhSdW50aW1lVGVzdDIuY2xhc3Ms\nCiAgICAgICAgICAgICgoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJ\nKSBwbWYpLmdldENvbmZpZ3VyYXRpb24oKSwgdHJ1ZSk7CgogICAgICAgIGFz\nc2VydENsYXNzKFJ1bnRpbWVUZXN0My5jbGFzcywKICAgICAgICAgICAgKChP\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkpIHBtZikuZ2V0Q29uZmln\ndXJhdGlvbigpLCBmYWxzZSk7CgogICAgICAgIHBtZi5jbG9zZSgpOwogICAg\nfQp9Cgo=\n","encoding":"base64"}

