{"sha":"ed81e63208d0610696bf6abb9d92a0a0bfe8fa80","node_id":"MDQ6QmxvYjIwNjM2NDplZDgxZTYzMjA4ZDA2MTA2OTZiZjZhYmI5ZDkyYTBhMGJmZThmYTgw","size":5781,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ed81e63208d0610696bf6abb9d92a0a0bfe8fa80","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UubWV0YTsK\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLm1ldGEu\nY29tbW9uLmFwcHMuU2VxdWVuY2VBc3NpZ25lZDsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5tZXRhLmNvbW1vbi5hcHBzLlNlcXVl\nbmNlQXNzaWduZWQyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLm1ldGEuY29tbW9uLmFwcHMuU2VxdWVuY2VBc3NpZ25lZDM7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0\naWxzLkFic3RyYWN0VGVzdENhc2U7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CgpwdWJsaWMg\nY2xhc3MgVGVzdFNlcXVlbmNlQXNzaWduZWQKICAgIGV4dGVuZHMgQWJzdHJh\nY3RUZXN0Q2FzZSB7CgogICAgcHVibGljIFRlc3RTZXF1ZW5jZUFzc2lnbmVk\nKFN0cmluZyB0ZXN0TmFtZSkgewogICAgICAgIHN1cGVyKHRlc3ROYW1lLCAi\nbWV0YWNhY3R1c2FwcCIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgewogICAgICAgIGRlbGV0ZUFsbChTZXF1ZW5jZUFzc2lnbmVkLmNsYXNz\nKTsKICAgICAgICBkZWxldGVBbGwoU2VxdWVuY2VBc3NpZ25lZDMuY2xhc3Mp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRPYmplY3RJZCgpIHsK\nICAgICAgICBTZXF1ZW5jZUFzc2lnbmVkIHBjID0gbmV3IFNlcXVlbmNlQXNz\naWduZWQoKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9CiAg\nICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0\neU1hbmFnZXIoKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwbS5w\nZXJzaXN0KHBjKTsKICAgICAgICBTZXF1ZW5jZUFzc2lnbmVkLklkIGlkID0g\nKFNlcXVlbmNlQXNzaWduZWQuSWQpCiAgICAgICAgICAgIHBtLmdldE9iamVj\ndElkKHBjKTsKICAgICAgICBhc3NlcnRUcnVlKDAgIT0gaWQucGspOwogICAg\nICAgIGFzc2VydFRydWUoMCAhPSBwYy5nZXRQSygpKTsKICAgICAgICBhc3Nl\ncnRFcXVhbHMocGMuZ2V0UEsoKSwgaWQucGspOwogICAgICAgIGVuZFR4KHBt\nKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ndGVzdEdldFZhbHVlKCkgewogICAgICAgIFNlcXVlbmNlQXNzaWduZWQgcGMg\nPSBuZXcgU2VxdWVuY2VBc3NpZ25lZCgpOwogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIHBtID0KICAgICAgICAgICAgKE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgo\ncG0pOwogICAgICAgIGFzc2VydEVxdWFscygwLCBwYy5nZXRQSygpKTsKICAg\nICAgICBwbS5wZXJzaXN0KHBjKTsKICAgICAgICBhc3NlcnRUcnVlKDAgIT0g\ncGMuZ2V0UEsoKSk7CiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVt\nKHBtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0UHJpbWl0aXZlKCkg\newogICAgICAgIFNlcXVlbmNlQXNzaWduZWQgcGMgPSBuZXcgU2VxdWVuY2VB\nc3NpZ25lZCgpOwogICAgICAgIFNlcXVlbmNlQXNzaWduZWQgcGMyID0gbmV3\nIFNlcXVlbmNlQXNzaWduZWQoKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9CiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikg\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBzdGFydFR4KHBtKTsK\nICAgICAgICBwbS5wZXJzaXN0KHBjKTsKICAgICAgICBwbS5wZXJzaXN0KHBj\nMik7CiAgICAgICAgcG0uZmx1c2goKTsKICAgICAgICBhc3NlcnRUcnVlKDAg\nIT0gcGMuZ2V0UEsoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgwICE9IHBjMi5n\nZXRQSygpKTsKICAgICAgICBhc3NlcnRUcnVlKHBjLmdldFBLKCkgIT0gcGMy\nLmdldFBLKCkpOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShw\nbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdE1hbnVhbEFzc2lnbigp\nIHsKICAgICAgICBTZXF1ZW5jZUFzc2lnbmVkIHBjID0gbmV3IFNlcXVlbmNl\nQXNzaWduZWQoKTsKICAgICAgICBTZXF1ZW5jZUFzc2lnbmVkMyBwYzIgPSBu\nZXcgU2VxdWVuY2VBc3NpZ25lZDMoKTsKICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBwbSA9CiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdl\ncikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBzdGFydFR4KHBt\nKTsKICAgICAgICBwYy5zZXRQSygtMTAwKTsKICAgICAgICBwYzIuc2V0UEso\nbmV3IExvbmcoLTEwMCkpOwogICAgICAgIHBtLnBlcnNpc3QocGMpOwogICAg\nICAgIHBtLnBlcnNpc3QocGMyKTsKICAgICAgICBwbS5mbHVzaCgpOwogICAg\nICAgIGVuZFR4KHBtKTsKICAgICAgICBPYmplY3Qgb2lkID0gcG0uZ2V0T2Jq\nZWN0SWQocGMpOwogICAgICAgIE9iamVjdCBvaWQyID0gcG0uZ2V0T2JqZWN0\nSWQocGMyKTsKICAgICAgICBlbmRFbShwbSk7CiAgICAgICAgcG0gPSAoT3Bl\nbkpQQUVudGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAg\nICAgICAgcGMgPSAoU2VxdWVuY2VBc3NpZ25lZCkgcG0uZmluZChTZXF1ZW5j\nZUFzc2lnbmVkLmNsYXNzLCBvaWQpOwogICAgICAgIHBjMiA9IChTZXF1ZW5j\nZUFzc2lnbmVkMykgcG0uZmluZChTZXF1ZW5jZUFzc2lnbmVkMy5jbGFzcywg\nb2lkMik7CiAgICAgICAgYXNzZXJ0RXF1YWxzKC0xMDAsIHBjLmdldFBLKCkp\nOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgTG9uZygtMTAwKSwgcGMyLmdl\ndFBLKCkpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0SW5oZXJpdGFuY2UoKSB7CiAgICAgICAgU2VxdWVuY2VBc3Np\nZ25lZDIgcGMgPSBuZXcgU2VxdWVuY2VBc3NpZ25lZDIoKTsKICAgICAgICBT\nZXF1ZW5jZUFzc2lnbmVkMiBwYzIgPSBuZXcgU2VxdWVuY2VBc3NpZ25lZDIo\nKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9CiAgICAgICAg\nICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwbS5wZXJzaXN0\nKHBjKTsKICAgICAgICBwbS5wZXJzaXN0KHBjMik7CiAgICAgICAgcG0uZmx1\nc2goKTsKICAgICAgICBhc3NlcnRUcnVlKDAgIT0gcGMuZ2V0UEsoKSk7CiAg\nICAgICAgYXNzZXJ0VHJ1ZSgwICE9IHBjMi5nZXRQSygpKTsKICAgICAgICBh\nc3NlcnRUcnVlKHBjLmdldFBLKCkgIT0gcGMyLmdldFBLKCkpOwogICAgICAg\nIGVuZFR4KHBtKTsKICAgICAgICBlbmRFbShwbSk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgdGVzdFdyYXBwZXIoKSB7CiAgICAgICAgU2VxdWVuY2VBc3Np\nZ25lZDMgcGMgPSBuZXcgU2VxdWVuY2VBc3NpZ25lZDMoKTsKICAgICAgICBT\nZXF1ZW5jZUFzc2lnbmVkMyBwYzIgPSBuZXcgU2VxdWVuY2VBc3NpZ25lZDMo\nKTsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9CiAgICAgICAg\nICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsKICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwbS5wZXJzaXN0\nKHBjKTsKICAgICAgICBwbS5wZXJzaXN0KHBjMik7CiAgICAgICAgcG0uZmx1\nc2goKTsKICAgICAgICBhc3NlcnROb3ROdWxsKHBjLmdldFBLKCkpOwogICAg\nICAgIGFzc2VydE5vdE51bGwocGMyLmdldFBLKCkpOwogICAgICAgIGFzc2Vy\ndFRydWUoMCAhPSBwYy5nZXRQSygpLmxvbmdWYWx1ZSgpKTsKICAgICAgICBh\nc3NlcnRUcnVlKDAgIT0gcGMyLmdldFBLKCkubG9uZ1ZhbHVlKCkpOwogICAg\nICAgIGFzc2VydE5vdEVxdWFscyhwYy5nZXRQSygpLCBwYzIuZ2V0UEsoKSk7\nCiAgICAgICAgZW5kVHgocG0pOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0R2V0T2JqZWN0QnlJZCgpIHsKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9CiAgICAgICAgICAgIChPcGVu\nSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAg\nICAgICBzdGFydFR4KHBtKTsKICAgICAgICBTZXF1ZW5jZUFzc2lnbmVkIHBj\nID0gbmV3IFNlcXVlbmNlQXNzaWduZWQoKTsKICAgICAgICBwbS5wZXJzaXN0\nKHBjKTsKICAgICAgICBPYmplY3Qgb2lkID0gcG0uZ2V0T2JqZWN0SWQocGMp\nOwogICAgICAgIGFzc2VydFRydWUoMCAhPSAoKFNlcXVlbmNlQXNzaWduZWQu\nSWQpIG9pZCkucGspOwogICAgICAgIGVuZFR4KHBtKTsKICAgICAgICBlbmRF\nbShwbSk7CgogICAgICAgIHBtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBj\ndXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIHBtLmZpbmQoU2VxdWVu\nY2VBc3NpZ25lZC5jbGFzcywgb2lkKTsKICAgICAgICBlbmRFbShwbSk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgdGVzdFJlYWNoYWJpbGl0eSgpIHsKICAg\nICAgICBTZXF1ZW5jZUFzc2lnbmVkIHBjID0gbmV3IFNlcXVlbmNlQXNzaWdu\nZWQoKTsKICAgICAgICBTZXF1ZW5jZUFzc2lnbmVkIHBjMiA9IG5ldyBTZXF1\nZW5jZUFzc2lnbmVkKCk7CiAgICAgICAgcGMuc2V0T3RoZXIocGMyKTsKICAg\nICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9CiAgICAgICAgICAgIChP\ncGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsK\nICAgICAgICBzdGFydFR4KHBtKTsKICAgICAgICBwbS5wZXJzaXN0KHBjKTsK\nICAgICAgICBlbmRUeChwbSk7CiAgICAgICAgU2VxdWVuY2VBc3NpZ25lZC5J\nZCBpZCA9IChTZXF1ZW5jZUFzc2lnbmVkLklkKQogICAgICAgICAgICBwbS5n\nZXRPYmplY3RJZChwYzIpOwogICAgICAgIGFzc2VydFRydWUoMCAhPSBpZC5w\nayk7CiAgICAgICAgYXNzZXJ0VHJ1ZSgwICE9IHBjMi5nZXRQSygpKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMocGMyLmdldFBLKCksIGlkLnBrKTsKICAgICAg\nICBlbmRFbShwbSk7CiAgICB9Cn0K\n","encoding":"base64"}

