{"sha":"30fdeb649e2ddce2c83252c5856fff8cc5265dfa","node_id":"MDQ6QmxvYjIwNjM2NDozMGZkZWI2NDllMmRkY2UyYzgzMjUyYzU4NTZmZmY4Y2M1MjY1ZGZh","size":10935,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/30fdeb649e2ddce2c83252c5856fff8cc5265dfa","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeTsKCmlt\ncG9ydCBqYXZhLnV0aWwuKjsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5F\nbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3Qu\nU2luZ2xlRU1UZXN0Q2FzZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5zaW1wbGUuQWxsRmllbGRUeXBlczsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5Bcmd1bWVudEV4Y2VwdGlvbjsK\nCi8qKgogKiA8cD5UZXN0cyBncm91cGluZyBhbmQgaGF2aW5nIGNhcGFiaWxp\ndGllcy48L3A+CiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMg\nYWJzdHJhY3QgY2xhc3MgR3JvdXBpbmdUZXN0Q2FzZQogICAgZXh0ZW5kcyBT\naW5nbGVFTVRlc3RDYXNlIHsKCiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgdm9p\nZCBwcmVwYXJlUXVlcnkoUXVlcnkgcSk7CgogICAgcHVibGljIHZvaWQgc2V0\nVXAoKSB7CiAgICAgICAgc3VwZXIuc2V0VXAoQWxsRmllbGRUeXBlcy5jbGFz\ncywgQ0xFQVJfVEFCTEVTLAogICAgICAgICAgICAib3BlbmpwYS5Db21wYXRp\nYmlsaXR5IiwgIkpQUUw9d2FybiIpOwoKICAgICAgICBBbGxGaWVsZFR5cGVz\nIHBjMSA9IG5ldyBBbGxGaWVsZFR5cGVzKCk7CiAgICAgICAgQWxsRmllbGRU\neXBlcyBwYzIgPSBuZXcgQWxsRmllbGRUeXBlcygpOwogICAgICAgIEFsbEZp\nZWxkVHlwZXMgcGMzID0gbmV3IEFsbEZpZWxkVHlwZXMoKTsKICAgICAgICBB\nbGxGaWVsZFR5cGVzIHBjNCA9IG5ldyBBbGxGaWVsZFR5cGVzKCk7CgogICAg\nICAgIC8vIHBjMSBhbmQgcGMyLCBwYzMgYW5kIHBjNCBncm91cGVkIG9uIGlu\ndEZpZWxkLCBzaG9ydEZpZWxkCiAgICAgICAgcGMxLnNldEludEZpZWxkKDEp\nOwogICAgICAgIHBjMS5zZXRTaG9ydEZpZWxkKChzaG9ydCkgLTEpOwogICAg\nICAgIHBjMi5zZXRJbnRGaWVsZCgxKTsKICAgICAgICBwYzIuc2V0U2hvcnRG\naWVsZCgoc2hvcnQpIC0xKTsKICAgICAgICBwYzMuc2V0SW50RmllbGQoMik7\nCiAgICAgICAgcGMzLnNldFNob3J0RmllbGQoKHNob3J0KSAtMik7CiAgICAg\nICAgcGM0LnNldEludEZpZWxkKDIpOwogICAgICAgIHBjNC5zZXRTaG9ydEZp\nZWxkKChzaG9ydCkgLTIpOwoKICAgICAgICAvLyBwYzEgYW5kIHBjMiBncm91\ncGVkIG9uIHN0cmluZ0ZpZWxkCiAgICAgICAgcGMxLnNldFN0cmluZ0ZpZWxk\nKCJhYmMiKTsKICAgICAgICBwYzIuc2V0U3RyaW5nRmllbGQoImFjZCIpOwog\nICAgICAgIHBjMy5zZXRTdHJpbmdGaWVsZCgiZGVmIik7CiAgICAgICAgcGM0\nLnNldFN0cmluZ0ZpZWxkKCJlZmciKTsKCiAgICAgICAgLy8gcGMyIGFuZCBw\nYzMgZ3JvdXBlZCBvbiBieXRlRmllbGQKICAgICAgICBwYzIuc2V0Qnl0ZUZp\nZWxkKChieXRlKSAxKTsKICAgICAgICBwYzMuc2V0Qnl0ZUZpZWxkKChieXRl\nKSAxKTsKICAgICAgICBwYzEuc2V0Qnl0ZUZpZWxkKChieXRlKSAwKTsKICAg\nICAgICBwYzQuc2V0Qnl0ZUZpZWxkKChieXRlKSAyKTsKCiAgICAgICAgLy8g\nbG9uZ0ZpZWxkIGlzIHVuaXF1ZSBpZAogICAgICAgIHBjMS5zZXRMb25nRmll\nbGQoMUwpOwogICAgICAgIHBjMi5zZXRMb25nRmllbGQoMkwpOwogICAgICAg\nIHBjMy5zZXRMb25nRmllbGQoM0wpOwogICAgICAgIHBjNC5zZXRMb25nRmll\nbGQoNEwpOwoKICAgICAgICAvLyBzZXQgdXAgc29tZSByZWxhdGlvbnMKICAg\nICAgICBwYzEuc2V0U2VsZk9uZU9uZShwYzQpOwogICAgICAgIHBjMi5zZXRT\nZWxmT25lT25lKHBjMyk7CiAgICAgICAgcGMzLnNldFNlbGZPbmVPbmUocGMy\nKTsKICAgICAgICBwYzQuc2V0U2VsZk9uZU9uZShwYzEpOwoKICAgICAgICAv\nLyBpZiB2YXJpYWJsZSB0ZXN0aW5nLCBzZXQgdXAgc29tZSAxLU1zIGluc3Rl\nYWQgb2YgdGhlIDEtMXMgYWJvdmUKICAgICAgICBpZiAoZ2V0TmFtZSgpLnN0\nYXJ0c1dpdGgoInRlc3RWYXJpYWJsZSIpKSB7CiAgICAgICAgICAgIHBjMS5z\nZXRTZWxmT25lT25lKHBjMSk7CiAgICAgICAgICAgIHBjMi5zZXRTZWxmT25l\nT25lKHBjMSk7CiAgICAgICAgICAgIHBjMS5nZXRTZWxmT25lTWFueSgpLmFk\nZChwYzEpOwogICAgICAgICAgICBwYzEuZ2V0U2VsZk9uZU1hbnkoKS5hZGQo\ncGMyKTsKCiAgICAgICAgICAgIHBjMy5zZXRTZWxmT25lT25lKHBjMyk7CiAg\nICAgICAgICAgIHBjNC5zZXRTZWxmT25lT25lKHBjMyk7CiAgICAgICAgICAg\nIHBjMy5nZXRTZWxmT25lTWFueSgpLmFkZChwYzMpOwogICAgICAgICAgICBw\nYzMuZ2V0U2VsZk9uZU1hbnkoKS5hZGQocGM0KTsKICAgICAgICB9CgogICAg\nICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdl\ncigpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsKICAg\nICAgICBlbS5wZXJzaXN0KHBjMSk7CiAgICAgICAgZW0ucGVyc2lzdChwYzIp\nOwogICAgICAgIGVtLnBlcnNpc3QocGMzKTsKICAgICAgICBlbS5wZXJzaXN0\nKHBjNCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsK\nICAgICAgICBlbS5jbG9zZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRl\nc3RTaW1wbGVHcm91cCgpIHsKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRl\nUXVlcnkoInNlbGVjdCBvLmludEZpZWxkIGZyb20gQWxsRmllbGRUeXBlcyBv\nICIgKwogICAgICAgICAgICAiZ3JvdXAgYnkgby5pbnRGaWVsZCBvcmRlciBi\neSBvLmludEZpZWxkIGFzYyIpOwogICAgICAgIHByZXBhcmVRdWVyeShxKTsK\nICAgICAgICBMaXN0IHJlcyA9IHEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAg\nIGFzc2VydEVxdWFscygyLCByZXMuc2l6ZSgpKTsKICAgICAgICBJdGVyYXRv\nciBpdHIgPSByZXMuaXRlcmF0b3IoKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nbmV3IEludGVnZXIoMSksIGl0ci5uZXh0KCkpOwogICAgICAgIGFzc2VydEVx\ndWFscyhuZXcgSW50ZWdlcigyKSwgaXRyLm5leHQoKSk7CiAgICAgICAgYXNz\nZXJ0VHJ1ZSghaXRyLmhhc05leHQoKSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdE9yZGVyQnlBZ2dyZWdhdGUoKSB7CiAgICAgICAgLy8gdGhpcyBp\ncyBhbiBleHRlbnNpb24gb2YgSlBRTAogICAgICAgIFF1ZXJ5IHEgPSBlbS5j\ncmVhdGVRdWVyeSgic2VsZWN0IHN1bShvLnNob3J0RmllbGQpICIgKwogICAg\nICAgICAgICAiZnJvbSBBbGxGaWVsZFR5cGVzIG8iCiAgICAgICAgICAgICsg\nIiBncm91cCBieSBvLmludEZpZWxkIG9yZGVyIGJ5IHN1bShvLnNob3J0Rmll\nbGQpIGFzYyIpOwogICAgICAgIHByZXBhcmVRdWVyeShxKTsKICAgICAgICAv\nLyB0aGlzIG1pZ2h0IGZhaWwgaW4gTXlTUUwKICAgICAgICBMaXN0IHJlcyA9\nIHEuZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLCBy\nZXMuc2l6ZSgpKTsKICAgICAgICBJdGVyYXRvciBpdHIgPSByZXMuaXRlcmF0\nb3IoKTsKICAgICAgICBhc3NlcnRFcXVhbHMobmV3IExvbmcoLTQpLCBpdHIu\nbmV4dCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMobmV3IExvbmcoLTIpLCBp\ndHIubmV4dCgpKTsKICAgICAgICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgp\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29tcG91bmRHcm91cFNh\nbWUoKSB7CiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxl\nY3Qgby5pbnRGaWVsZCBmcm9tIEFsbEZpZWxkVHlwZXMgbyAiICsKICAgICAg\nICAgICAgImdyb3VwIGJ5IG8uaW50RmllbGQsIG8uc2hvcnRGaWVsZCBvcmRl\nciBieSBvLnNob3J0RmllbGQgYXNjIik7CiAgICAgICAgcHJlcGFyZVF1ZXJ5\nKHEpOwogICAgICAgIExpc3QgcmVzID0gcS5nZXRSZXN1bHRMaXN0KCk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlcy5zaXplKCkpOwogICAgICAgIEl0\nZXJhdG9yIGl0ciA9IHJlcy5pdGVyYXRvcigpOwogICAgICAgIGFzc2VydEVx\ndWFscyhuZXcgSW50ZWdlcigyKSwgaXRyLm5leHQoKSk7CiAgICAgICAgYXNz\nZXJ0RXF1YWxzKG5ldyBJbnRlZ2VyKDEpLCBpdHIubmV4dCgpKTsKICAgICAg\nICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0Q29tcG91bmRHcm91cERpZmZlcmVudCgpIHsKICAgICAg\nICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBvLmludEZpZWxk\nIGZyb20gQWxsRmllbGRUeXBlcyBvICIgKwogICAgICAgICAgICAiZ3JvdXAg\nYnkgby5pbnRGaWVsZCwgby5ieXRlRmllbGQgb3JkZXIgYnkgby5pbnRGaWVs\nZCBhc2MiKTsKICAgICAgICBwcmVwYXJlUXVlcnkocSk7CiAgICAgICAgTGlz\ndCByZXMgPSBxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoNCwgcmVzLnNpemUoKSk7CiAgICAgICAgSXRlcmF0b3IgaXRyID0gcmVz\nLml0ZXJhdG9yKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBJbnRlZ2Vy\nKDEpLCBpdHIubmV4dCgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMobmV3IElu\ndGVnZXIoMSksIGl0ci5uZXh0KCkpOwogICAgICAgIGFzc2VydEVxdWFscyhu\nZXcgSW50ZWdlcigyKSwgaXRyLm5leHQoKSk7CiAgICAgICAgYXNzZXJ0RXF1\nYWxzKG5ldyBJbnRlZ2VyKDIpLCBpdHIubmV4dCgpKTsKICAgICAgICBhc3Nl\ncnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RGlmZmVyZW50R3JvdXBMZW5ndGhzKCkgewogICAgICAgIFF1ZXJ5\nIHEgPSBlbS5jcmVhdGVRdWVyeSgic2VsZWN0IG8uYnl0ZUZpZWxkIGZyb20g\nQWxsRmllbGRUeXBlcyBvIgogICAgICAgICAgICArICIgZ3JvdXAgYnkgby5i\neXRlRmllbGQgb3JkZXIgYnkgby5ieXRlRmllbGQgYXNjIik7CiAgICAgICAg\ncHJlcGFyZVF1ZXJ5KHEpOwogICAgICAgIExpc3QgcmVzID0gcS5nZXRSZXN1\nbHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHJlcy5zaXplKCkp\nOwogICAgICAgIEl0ZXJhdG9yIGl0ciA9IHJlcy5pdGVyYXRvcigpOwogICAg\nICAgIGFzc2VydEVxdWFscygoYnl0ZSkgMCwgaXRyLm5leHQoKSk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKChieXRlKSAxLCBpdHIubmV4dCgpKTsKICAgICAg\nICBhc3NlcnRFcXVhbHMoKGJ5dGUpIDIsIGl0ci5uZXh0KCkpOwogICAgICAg\nIGFzc2VydFRydWUoIWl0ci5oYXNOZXh0KCkpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHRlc3RHcm91cFJlbGF0aW9uRmllbGQoKSB7CiAgICAgICAgUXVl\ncnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3Qgby5zZWxmT25lT25lLmlu\ndEZpZWxkICIgKwogICAgICAgICAgICAiZnJvbSBBbGxGaWVsZFR5cGVzIG8g\nZ3JvdXAgYnkgby5zZWxmT25lT25lLmludEZpZWxkICIgKwogICAgICAgICAg\nICAib3JkZXIgYnkgby5zZWxmT25lT25lLmludEZpZWxkIGFzYyIpOwogICAg\nICAgIHByZXBhcmVRdWVyeShxKTsKICAgICAgICBMaXN0IHJlcyA9IHEuZ2V0\nUmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLCByZXMuc2l6\nZSgpKTsKICAgICAgICBJdGVyYXRvciBpdHIgPSByZXMuaXRlcmF0b3IoKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMobmV3IEludGVnZXIoMSksIGl0ci5uZXh0\nKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgSW50ZWdlcigyKSwgaXRy\nLm5leHQoKSk7CiAgICAgICAgYXNzZXJ0VHJ1ZSghaXRyLmhhc05leHQoKSk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFN1YnN0cmluZ0luR3JvdXBC\neSgpIHsKICAgICAgICAvLyB0aGlzIGlzIGFuIGV4dGVuc2lvbiBvZiBKUFFM\nCiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3Qgc3Vi\nc3RyaW5nKG8uc3RyaW5nRmllbGQsIDEsIDEpLCAiICsKICAgICAgICAgICAg\nImNvdW50KG8pIGZyb20gQWxsRmllbGRUeXBlcyBvICIgKwogICAgICAgICAg\nICAiZ3JvdXAgYnkgc3Vic3RyaW5nKG8uc3RyaW5nRmllbGQsIDEsIDEpIik7\nCiAgICAgICAgcHJlcGFyZVF1ZXJ5KHEpOwogICAgICAgIExpc3QgcmVzID0g\ncS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHJl\ncy5zaXplKCkpOwoKICAgICAgICBxID0gZW0uY3JlYXRlUXVlcnkoInNlbGVj\ndCBzdWJzdHJpbmcoby5zdHJpbmdGaWVsZCwgMSwgMiksIGNvdW50KG8pICIg\nKwogICAgICAgICAgICAiZnJvbSBBbGxGaWVsZFR5cGVzIG8gZ3JvdXAgYnkg\nc3Vic3RyaW5nKG8uc3RyaW5nRmllbGQsIDEsIDIpIik7CiAgICAgICAgcHJl\ncGFyZVF1ZXJ5KHEpOwogICAgICAgIHJlcyA9IHEuZ2V0UmVzdWx0TGlzdCgp\nOwogICAgICAgIGFzc2VydEVxdWFscyg0LCByZXMuc2l6ZSgpKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0R3JvdXBlZEFnZ3JlZ2F0ZSgpIHsKICAg\nICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBjb3VudChv\nKSBmcm9tIEFsbEZpZWxkVHlwZXMgbyAiICsKICAgICAgICAgICAgImdyb3Vw\nIGJ5IG8uYnl0ZUZpZWxkIG9yZGVyIGJ5IG8uYnl0ZUZpZWxkIGFzYyIpOwog\nICAgICAgIHByZXBhcmVRdWVyeShxKTsKICAgICAgICBMaXN0IHJlcyA9IHEu\nZ2V0UmVzdWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygzLCByZXMu\nc2l6ZSgpKTsKICAgICAgICBJdGVyYXRvciBpdHIgPSByZXMuaXRlcmF0b3Io\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMobmV3IExvbmcoMSksIGl0ci5uZXh0\nKCkpOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgTG9uZygyKSwgaXRyLm5l\neHQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBMb25nKDEpLCBpdHIu\nbmV4dCgpKTsKICAgICAgICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0R3JvdXBlZFJlbGF0aW9uQWdn\ncmVnYXRlKCkgewogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgi\nc2VsZWN0IGNvdW50KG8pLCBtYXgoby5zZWxmT25lT25lLmxvbmdGaWVsZCki\nCiAgICAgICAgICAgICsgIiBmcm9tIEFsbEZpZWxkVHlwZXMgbyBncm91cCBi\neSBvLmludEZpZWxkIgogICAgICAgICAgICArICIgb3JkZXIgYnkgby5pbnRG\naWVsZCBhc2MiKTsKICAgICAgICBMaXN0IHJlcyA9IHEuZ2V0UmVzdWx0TGlz\ndCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLCByZXMuc2l6ZSgpKTsKICAg\nICAgICBJdGVyYXRvciBpdHIgPSByZXMuaXRlcmF0b3IoKTsKICAgICAgICBP\nYmplY3RbXSBvID0gKE9iamVjdFtdKSBpdHIubmV4dCgpOwogICAgICAgIGFz\nc2VydEVxdWFscyhuZXcgTG9uZygyKSwgb1swXSk7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKG5ldyBMb25nKDQpLCBvWzFdKTsKICAgICAgICBvID0gKE9iamVj\ndFtdKSBpdHIubmV4dCgpOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgTG9u\nZygyKSwgb1swXSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBMb25nKDIp\nLCBvWzFdKTsKICAgICAgICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0R3JvdXBlZE1peGVkUHJvamVj\ndGlvbigpIHsKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoInNl\nbGVjdCBjb3VudChvKSwgby5zaG9ydEZpZWxkICIgKwogICAgICAgICAgICAi\nZnJvbSBBbGxGaWVsZFR5cGVzIG8gZ3JvdXAgYnkgby5pbnRGaWVsZCwgby5z\naG9ydEZpZWxkICIgKwogICAgICAgICAgICAib3JkZXIgYnkgby5pbnRGaWVs\nZCBhc2MiKTsKICAgICAgICBwcmVwYXJlUXVlcnkocSk7CiAgICAgICAgTGlz\ndCByZXMgPSBxLmdldFJlc3VsdExpc3QoKTsKICAgICAgICBhc3NlcnRFcXVh\nbHMoMiwgcmVzLnNpemUoKSk7CiAgICAgICAgSXRlcmF0b3IgaXRyID0gcmVz\nLml0ZXJhdG9yKCk7CiAgICAgICAgT2JqZWN0W10gbyA9IChPYmplY3RbXSkg\naXRyLm5leHQoKTsKICAgICAgICBhc3NlcnRFcXVhbHMobmV3IExvbmcoMiks\nIG9bMF0pOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgU2hvcnQoKHNob3J0\nKSAtMSksIG9bMV0pOwogICAgICAgIG8gPSAoT2JqZWN0W10pIGl0ci5uZXh0\nKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBMb25nKDIpLCBvWzBdKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMobmV3IFNob3J0KChzaG9ydCkgLTIpLCBv\nWzFdKTsKICAgICAgICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2ltcGxlSGF2aW5nKCkgewogICAg\nICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgic2VsZWN0IG8uaW50Rmll\nbGQgZnJvbSBBbGxGaWVsZFR5cGVzIG8gIiArCiAgICAgICAgICAgICJncm91\ncCBieSBvLmludEZpZWxkIGhhdmluZyBvLmludEZpZWxkIDwgMiIpOwogICAg\nICAgIHByZXBhcmVRdWVyeShxKTsKICAgICAgICBhc3NlcnRFcXVhbHMobmV3\nIEludGVnZXIoMSksIHEuZ2V0U2luZ2xlUmVzdWx0KCkpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RBZ2dyZWdhdGVIYXZpbmcoKSB7CiAgICAgICAg\nUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3Qgby5ieXRlRmllbGQg\nZnJvbSBBbGxGaWVsZFR5cGVzIG8gIiArCiAgICAgICAgICAgICJncm91cCBi\neSBvLmJ5dGVGaWVsZCBoYXZpbmcgY291bnQobykgPiAxIik7CiAgICAgICAg\ncHJlcGFyZVF1ZXJ5KHEpOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgQnl0\nZSgoYnl0ZSkgMSksIHEuZ2V0U2luZ2xlUmVzdWx0KCkpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHRlc3RNaXhlZEhhdmluZygpIHsKICAgICAgICBRdWVy\neSBxID0gZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBvLmJ5dGVGaWVsZCBmcm9t\nIEFsbEZpZWxkVHlwZXMgbyAiICsKICAgICAgICAgICAgImdyb3VwIGJ5IG8u\nYnl0ZUZpZWxkIGhhdmluZyBjb3VudChvKSA+IDEgb3Igby5ieXRlRmllbGQg\nPSAwICIgKwogICAgICAgICAgICAib3JkZXIgYnkgby5ieXRlRmllbGQgYXNj\nIik7CiAgICAgICAgcHJlcGFyZVF1ZXJ5KHEpOwogICAgICAgIExpc3QgcmVz\nID0gcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIs\nIHJlcy5zaXplKCkpOwogICAgICAgIEl0ZXJhdG9yIGl0ciA9IHJlcy5pdGVy\nYXRvcigpOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgQnl0ZSgoYnl0ZSkg\nMCksIGl0ci5uZXh0KCkpOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgQnl0\nZSgoYnl0ZSkgMSksIGl0ci5uZXh0KCkpOwogICAgICAgIGFzc2VydFRydWUo\nIWl0ci5oYXNOZXh0KCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RW\nYXJpYWJsZUdyb3VwKCkgewogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVR\ndWVyeSgic2VsZWN0IG1heChvdGhlci5sb25nRmllbGQpICIgKwogICAgICAg\nICAgICAiZnJvbSBBbGxGaWVsZFR5cGVzIG8sIEFsbEZpZWxkVHlwZXMgb3Ro\nZXIgIiArCiAgICAgICAgICAgICJ3aGVyZSBvdGhlciBtZW1iZXIgb2Ygby5z\nZWxmT25lTWFueSAiICsKICAgICAgICAgICAgImdyb3VwIGJ5IG90aGVyLmlu\ndEZpZWxkIG9yZGVyIGJ5IG90aGVyLmludEZpZWxkIGFzYyIpOwogICAgICAg\nIHByZXBhcmVRdWVyeShxKTsKICAgICAgICBMaXN0IHJlcyA9IHEuZ2V0UmVz\ndWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscygyLCByZXMuc2l6ZSgp\nKTsKICAgICAgICBJdGVyYXRvciBpdHIgPSByZXMuaXRlcmF0b3IoKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMobmV3IExvbmcoMiksIGl0ci5uZXh0KCkpOwog\nICAgICAgIGFzc2VydEVxdWFscyhuZXcgTG9uZyg0KSwgaXRyLm5leHQoKSk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZSghaXRyLmhhc05leHQoKSk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgdGVzdFZhcmlhYmxlSGF2aW5nKCkgewogICAgICAg\nIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgic2VsZWN0IG1heChvLmxvbmdG\naWVsZCksIG90aGVyLmJ5dGVGaWVsZCAiICsKICAgICAgICAgICAgImZyb20g\nQWxsRmllbGRUeXBlcyBvLCBBbGxGaWVsZFR5cGVzIG90aGVyICIgKwogICAg\nICAgICAgICAid2hlcmUgb3RoZXIgbWVtYmVyIG9mIG8uc2VsZk9uZU1hbnkg\nIiArCiAgICAgICAgICAgICJncm91cCBieSBvdGhlci5ieXRlRmllbGQgaGF2\naW5nIHN1bShvdGhlci5pbnRGaWVsZCkgPSAyIik7CiAgICAgICAgcHJlcGFy\nZVF1ZXJ5KHEpOwogICAgICAgIGFzc2VydEVxdWFscyhuZXcgTG9uZygzKSwg\nKChPYmplY3RbXSlxLmdldFNpbmdsZVJlc3VsdCgpKVswXSk7CiAgICB9Cn0K\n","encoding":"base64"}

