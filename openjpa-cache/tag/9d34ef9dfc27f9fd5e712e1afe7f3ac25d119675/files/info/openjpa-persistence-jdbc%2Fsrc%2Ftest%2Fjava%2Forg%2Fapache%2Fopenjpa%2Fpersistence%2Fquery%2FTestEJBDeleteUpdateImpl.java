{"sha":"8bef284f39df47a43a9cab57217cb46a81454013","node_id":"MDQ6QmxvYjIwNjM2NDo4YmVmMjg0ZjM5ZGY0N2E0M2E5Y2FiNTcyMTdjYjQ2YTgxNDU0MDEz","size":5947,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8bef284f39df47a43a9cab57217cb46a81454013","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7CgoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeS5jb21tb24uYXBw\ncy5FbnRpdHkxOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLnF1ZXJ5LmNvbW1vbi5hcHBzLlJ1bnRpbWVUZXN0MTsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeS5jb21tb24uYXBw\ncy5SdW50aW1lVGVzdDI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7CgpwdWJsaWMgY2xhc3Mg\nVGVzdEVKQkRlbGV0ZVVwZGF0ZUltcGwgZXh0ZW5kcyBCYXNlUXVlcnlUZXN0\nIHsKCiAgICBSdW50aW1lVGVzdDEgcnVudDE7CiAgICBSdW50aW1lVGVzdDIg\ncnVudDI7CiAgICBFbnRpdHkxIGVudDsKCiAgICBwdWJsaWMgVGVzdEVKQkRl\nbGV0ZVVwZGF0ZUltcGwoU3RyaW5nIHRlc3QpIHsKICAgICAgICBzdXBlcih0\nZXN0KTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAg\nICBkZWxldGVBbGwoUnVudGltZVRlc3QxLmNsYXNzKTsKICAgICAgICBkZWxl\ndGVBbGwoUnVudGltZVRlc3QyLmNsYXNzKTsKICAgICAgICBkZWxldGVBbGwo\nRW50aXR5MS5jbGFzcyk7CgogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIGVtID0KICAgICAgICAgICAgKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJy\nZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgoZW0pOwoKICAg\nICAgICBydW50MSA9IG5ldyBSdW50aW1lVGVzdDEoMSk7CiAgICAgICAgcnVu\ndDEuc2V0U3RyaW5nRmllbGQoInJ1bnQxIik7CiAgICAgICAgcnVudDEuc2V0\nU2VsZk9uZU9uZShuZXcgUnVudGltZVRlc3QxKDIpKTsKICAgICAgICBydW50\nMiA9IG5ldyBSdW50aW1lVGVzdDIoMyk7CiAgICAgICAgcnVudDIuc2V0U3Ry\naW5nRmllbGQoInJ1bnQyIik7CgogICAgICAgIGVudCA9IG5ldyBFbnRpdHkx\nKDIzLCAiVVBEQVRFU1QiLCAxMDApOwoKICAgICAgICBlbS5wZXJzaXN0KHJ1\nbnQxKTsKICAgICAgICBlbS5wZXJzaXN0KHJ1bnQyKTsKICAgICAgICBlbS5w\nZXJzaXN0KGVudCk7CgogICAgICAgIGVuZFR4KGVtKTsKICAgICAgICBlbmRF\nbShlbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFVwZGF0ZTEoKSB7\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPQogICAgICAgICAg\nICAoT3BlbkpQQUVudGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRpdHlNYW5hZ2Vy\nKCk7CiAgICAgICAgc3RhcnRUeChlbSk7CgogICAgICAgIFJ1bnRpbWVUZXN0\nMSByZXQgPSBlbS5maW5kKFJ1bnRpbWVUZXN0MS5jbGFzcywgZW0uZ2V0T2Jq\nZWN0SWQocnVudDEpKTsKCiAgICAgICAgYXNzZXJ0Tm90TnVsbChyZXQpOwog\nICAgICAgIGFzc2VydEVxdWFscygicnVudDEiLCByZXQuZ2V0U3RyaW5nRmll\nbGQoKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChyZXQuZ2V0U2VsZk9uZU9u\nZSgpKTsKCiAgICAgICAgU3RyaW5nIGVqYnFsVXBkYXRlID0KICAgICAgICAg\nICAgIlVQREFURSBSdW50aW1lVGVzdDEgeCBTRVQgeC5zdHJpbmdGaWVsZCA9\nIDpzdHJuZ2ZsZCBXSEVSRSB4LnN0cmluZ0ZpZWxkID0gOnN0ZGZpZWxkIjsK\nICAgICAgICBpbnQgdXBkYXRlZEVudGl0aWVzID0gZW0uY3JlYXRlUXVlcnko\nZWpicWxVcGRhdGUpCiAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoInN0cm5n\nZmxkIiwgInJ1bm5lcjEzIikKICAgICAgICAgICAgLnNldFBhcmFtZXRlcigi\nc3RkZmllbGQiLCAicnVudDEiKQogICAgICAgICAgICAuZXhlY3V0ZVVwZGF0\nZSgpOwoKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgdXBkYXRlZEVudGl0aWVz\nKTsKCiAgICAgICAgZW5kVHgoZW0pOwoKICAgICAgICBSdW50aW1lVGVzdDEg\ncmV0MiA9IGVtLmZpbmQoUnVudGltZVRlc3QxLmNsYXNzLCBlbS5nZXRPYmpl\nY3RJZChydW50MSkpOwogICAgICAgIGVtLnJlZnJlc2gocmV0Mik7CgogICAg\nICAgIGFzc2VydE5vdE51bGwocmV0Mik7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJydW5uZXIxMyIsIHJldDIuZ2V0U3RyaW5nRmllbGQoKSk7CgogICAgICAg\nIGVuZEVtKGVtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0VXBkYXRl\nMigpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBlbSA9CiAgICAg\nICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0eU1h\nbmFnZXIoKTsKICAgICAgICBzdGFydFR4KGVtKTsKCiAgICAgICAgUnVudGlt\nZVRlc3QxIHJ1biA9IGVtLmZpbmQoUnVudGltZVRlc3QxLmNsYXNzLCBlbS5n\nZXRPYmplY3RJZChydW50MSkpOwogICAgICAgIGFzc2VydE5vdE51bGwocnVu\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoInJ1bnQxIiwgcnVuLmdldFN0cmlu\nZ0ZpZWxkKCkpOwogICAgICAgIGFzc2VydE5vdE51bGwocnVuLmdldFNlbGZP\nbmVPbmUoKSk7CgogICAgICAgIFN0cmluZyBlamJxbFVwZGF0ZSA9ICJVUERB\nVEUgUnVudGltZVRlc3QxIHggIiArCiAgICAgICAgICAgICJTRVQgeC5zdHJp\nbmdGaWVsZCA9IDpzdHJuZ2ZsZCAiICsKICAgICAgICAgICAgIldIRVJFIHgu\nc3RyaW5nRmllbGQgPSA6ZmllbGQiOwogICAgICAgIGludCB1cEVudGl0aWVz\nID0gZW0uY3JlYXRlUXVlcnkoZWpicWxVcGRhdGUpCiAgICAgICAgICAgIC5z\nZXRQYXJhbWV0ZXIoInN0cm5nZmxkIiwgInVwZCIpCiAgICAgICAgICAgIC5z\nZXRQYXJhbWV0ZXIoImZpZWxkIiwgInJ1bnQxIikKICAgICAgICAgICAgLmV4\nZWN1dGVVcGRhdGUoKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHVwRW50\naXRpZXMpOwoKICAgICAgICBlbmRUeChlbSk7CgogICAgICAgIGVtID0gKE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwog\nICAgICAgIHN0YXJ0VHgoZW0pOwoKICAgICAgICBSdW50aW1lVGVzdDEgaW5z\ndCA9IGVtLmZpbmQoUnVudGltZVRlc3QxLmNsYXNzLCBlbS5nZXRPYmplY3RJ\nZChydW50MSkpOwogICAgICAgIGVtLnJlZnJlc2goaW5zdCk7CgogICAgICAg\nIGFzc2VydE5vdE51bGwoaW5zdCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ1\ncGQiLCBpbnN0LmdldFN0cmluZ0ZpZWxkKCkpOwoKICAgICAgICBlbmRUeChl\nbSk7CiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHRlc3REZWxldGUxKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIGVtID0KICAgICAgICAgICAgKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJy\nZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0YXJ0VHgoZW0pOwoKICAg\nICAgICBSdW50aW1lVGVzdDEgcnVuID0gZW0uZmluZChSdW50aW1lVGVzdDEu\nY2xhc3MsIGVtLmdldE9iamVjdElkKHJ1bnQxKSk7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChydW4pOwogICAgICAgIGFzc2VydEVxdWFscygicnVudDEiLCBy\ndW4uZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChy\ndW4uZ2V0U2VsZk9uZU9uZSgpKTsKCiAgICAgICAgU3RyaW5nIGVqYmRlbFVw\nZGF0ZSA9ICJERUxFVEUgIEZST00gUnVudGltZVRlc3QxIHMgIiArCiAgICAg\nICAgICAgICJXSEVSRSBzLnN0cmluZ0ZpZWxkID0gOnN0cm5nZmxkIjsKICAg\nICAgICBpbnQgZGVsRW50aXR5ID0gZW0uY3JlYXRlUXVlcnkoZWpiZGVsVXBk\nYXRlKQogICAgICAgICAgICAuc2V0UGFyYW1ldGVyKCJzdHJuZ2ZsZCIsICJy\ndW50MSIpCiAgICAgICAgICAgIC5leGVjdXRlVXBkYXRlKCk7CgogICAgICAg\nIGFzc2VydEVxdWFscygxLCBkZWxFbnRpdHkpOwoKICAgICAgICBSdW50aW1l\nVGVzdDEgZGVsID0gZW0uZmluZChSdW50aW1lVGVzdDEuY2xhc3MsIGVtLmdl\ndE9iamVjdElkKHJ1bnQxKSk7CiAgICAgICAgYXNzZXJ0TnVsbChkZWwpOwoK\nICAgICAgICBlbmRUeChlbSk7CiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHRlc3REZWxldGUyKCkgewogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIGVtID0KICAgICAgICAgICAgKE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOwogICAgICAgIHN0\nYXJ0VHgoZW0pOwoKICAgICAgICBSdW50aW1lVGVzdDEgcnVuID0gZW0uZmlu\nZChSdW50aW1lVGVzdDEuY2xhc3MsIGVtLmdldE9iamVjdElkKHJ1bnQxKSk7\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbChydW4pOwogICAgICAgIGFzc2VydEVx\ndWFscygicnVudDEiLCBydW4uZ2V0U3RyaW5nRmllbGQoKSk7CiAgICAgICAg\nYXNzZXJ0Tm90TnVsbChydW4uZ2V0U2VsZk9uZU9uZSgpKTsKCiAgICAgICAg\nU3RyaW5nIGVqYmRlbFVwZGF0ZSA9CiAgICAgICAgICAgICJERUxFVEUgIEZS\nT00gUnVudGltZVRlc3QxIHIgV0hFUkUgci5zdHJpbmdGaWVsZCA9ID8xIjsK\nICAgICAgICBRdWVyeSBxdWVyeSA9IGVtLmNyZWF0ZVF1ZXJ5KGVqYmRlbFVw\nZGF0ZSk7CgogICAgICAgIHF1ZXJ5LnNldFBhcmFtZXRlcigxLCAicnVudDEi\nKTsKICAgICAgICBpbnQgb2sgPSBxdWVyeS5leGVjdXRlVXBkYXRlKCk7Cgog\nICAgICAgIGFzc2VydEVxdWFscygxLCBvayk7CgogICAgICAgIGVuZFR4KGVt\nKTsKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\ndGVzdFVwZGF0ZTMoKSB7CiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIg\nZW0gPQogICAgICAgICAgICAoT3BlbkpQQUVudGl0eU1hbmFnZXIpIGN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgc3RhcnRUeChlbSk7CgogICAg\nICAgIEVudGl0eTEgZW50ID0gZW0uZmluZChFbnRpdHkxLmNsYXNzLCAyMyk7\nCgogICAgICAgIGFzc2VydE5vdE51bGwoZW50KTsKICAgICAgICBhc3NlcnRF\ncXVhbHMoIlVQREFURVNUIiwgZW50LmdldFN0cmluZ0ZpZWxkKCkpOwoKICAg\nICAgICBpbnQgdXBkID0gZW0uY3JlYXRlUXVlcnkoCiAgICAgICAgICAgICJV\nUERBVEUgRW50aXR5MSBlIFNFVCBlLnN0cmluZ0ZpZWxkID0gXCdVUERBVEVG\nQUlMRURcJyBXSEVSRSAiICsKICAgICAgICAgICAgICAgICJlLnBrID0gMjMi\nKS5leGVjdXRlVXBkYXRlKCk7CgogICAgICAgIGFzc2VydEVxdWFscygxLCB1\ncGQpOwoKICAgICAgICBlbmRUeChlbSk7CiAgICAgICAgZW5kRW0oZW0pOwog\nICAgfQp9Cg==\n","encoding":"base64"}

