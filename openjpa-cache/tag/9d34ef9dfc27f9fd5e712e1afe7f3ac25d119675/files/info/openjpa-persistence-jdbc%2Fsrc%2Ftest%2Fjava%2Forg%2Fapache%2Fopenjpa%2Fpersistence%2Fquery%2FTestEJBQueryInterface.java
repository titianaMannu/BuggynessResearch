{"sha":"72abb7626daa2fefb8d837b573121f04bacc71df","node_id":"MDQ6QmxvYjIwNjM2NDo3MmFiYjc2MjZkYWEyZmVmYjhkODM3YjU3MzEyMWYwNGJhY2M3MWRm","size":4251,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/72abb7626daa2fefb8d837b573121f04bacc71df","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5FbnRpdHlNYW5hZ2VyOwoKCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLnF1ZXJ5LmNvbW1vbi5hcHBzLkVudGl0eTE7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnkuY29t\nbW9uLmFwcHMuRW50aXR5MjsKCnB1YmxpYyBjbGFzcyBUZXN0RUpCUXVlcnlJ\nbnRlcmZhY2UgZXh0ZW5kcyBCYXNlUXVlcnlUZXN0IHsKCiAgICBwdWJsaWMg\nVGVzdEVKQlF1ZXJ5SW50ZXJmYWNlKFN0cmluZyBuYW1lKSB7CiAgICAgICAg\nc3VwZXIobmFtZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7\nCiAgICAgICAgZGVsZXRlQWxsKEVudGl0eTEuY2xhc3MpOwoKICAgICAgICBp\nbnQgaW5zdE51bSA9IDEwOwoKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0g\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAgICBzdGFydFR4KGVtKTsK\nCiAgICAgICAgLy9jcmVhdGUgYW5kIHBlcnNpc3QgbXVsdGlwbGUgZW50aXR5\nMSBpbnN0YW5jZXMKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGluc3RO\ndW07IGkrKykgewogICAgICAgICAgICBFbnRpdHkxIGVudCA9IG5ldyBFbnRp\ndHkxKGksICJzdHJpbmciICsgaSwgaSArIDIpOwogICAgICAgICAgICBFbnRp\ndHkyIGVudDIgPSBuZXcgRW50aXR5MihpICogMiwgImVudDIiICsgaSwgaSk7\nCiAgICAgICAgICAgIGVudC5zZXRFbnRpdHkyRmllbGQoZW50Mik7CiAgICAg\nICAgICAgIGVtLnBlcnNpc3QoZW50KTsKICAgICAgICB9CgogICAgICAgIGVu\nZFR4KGVtKTsKICAgICAgICBlbmRFbShlbSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdFJlc3VsdExpc3QoKSB7CiAgICAgICAgRW50aXR5TWFuYWdl\nciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgTGlzdCBs\naXN0ID0gZW0uY3JlYXRlUXVlcnkoIlNlbGVjdCBvYmplY3QobykgZnJvbSBF\nbnRpdHkxIG8iKQogICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpOwoKICAg\nICAgICBhc3NlcnRFcXVhbHMoMTAsIGxpc3Quc2l6ZSgpKTsKCiAgICAgICAg\nZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRTaW5n\nbGVMaXN0KCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50\nRW50aXR5TWFuYWdlcigpOwoKICAgICAgICBFbnRpdHkxIHJldCA9CiAgICAg\nICAgICAgIChFbnRpdHkxKSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIG8gRlJP\nTSBFbnRpdHkxIG8gV0hFUkUgby5wayA9IDIiKQogICAgICAgICAgICAgICAg\nLmdldFNpbmdsZVJlc3VsdCgpOwoKICAgICAgICBhc3NlcnROb3ROdWxsKHJl\ndCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzdHJpbmcyIiwgcmV0LmdldFN0\ncmluZ0ZpZWxkKCkpOwogICAgICAgIGFzc2VydEVxdWFscyg0LCByZXQuZ2V0\nSW50RmllbGQoKSk7CgogICAgICAgIGVuZEVtKGVtKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0RXhlY3V0ZVVwZGF0ZSgpIHsKICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICBzdGFydFR4KGVtKTsKICAgICAgICBpbnQgcmV0ID0gZW0uY3JlYXRlUXVl\ncnkoIkRFTEVURSBGUk9NIEVudGl0eTEgbyBXSEVSRSBvLnBrID0gMiIpCiAg\nICAgICAgICAgIC5leGVjdXRlVXBkYXRlKCk7CgogICAgICAgIGFzc2VydEVx\ndWFscyhyZXQsIDEpOwoKICAgICAgICBpbnQgcmV0MiA9IGVtLmNyZWF0ZVF1\nZXJ5KCJERUxFVEUgRlJPTSBFbnRpdHkxIG8gV0hFUkUgby5wayA9IDIyIikK\nICAgICAgICAgICAgLmV4ZWN1dGVVcGRhdGUoKTsKCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKHJldDIsIDApOwoKICAgICAgICBlbmRUeChlbSk7CiAgICAgICAg\nZW5kRW0oZW0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RTZXRNYXhS\nZXN1bHRzKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50\nRW50aXR5TWFuYWdlcigpOwoKICAgICAgICBMaXN0IGwgPSBlbS5jcmVhdGVR\ndWVyeSgiU2VsZWN0IG9iamVjdChvKSBmcm9tIEVudGl0eTEgbyIpCiAgICAg\nICAgICAgIC5zZXRNYXhSZXN1bHRzKDUpCiAgICAgICAgICAgIC5nZXRSZXN1\nbHRMaXN0KCk7CgogICAgICAgIGFzc2VydE5vdE51bGwobCk7CiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDUsIGwuc2l6ZSgpKTsKCiAgICAgICAgZW5kRW0oZW0p\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RTZXRGaXJzdFJlc3VsdHMo\nKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlN\nYW5hZ2VyKCk7CgogICAgICAgIExpc3QgbCA9IGVtLmNyZWF0ZVF1ZXJ5KCJT\nZWxlY3Qgb2JqZWN0KG8pIGZyb20gRW50aXR5MSBvIG9yZGVyIGJ5IG8ucGsi\nKQogICAgICAgICAgICAuc2V0Rmlyc3RSZXN1bHQoMykKICAgICAgICAgICAg\nLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgRW50aXR5MSBlbnQgPSAoRW50\naXR5MSkgbC5nZXQoMCk7CgogICAgICAgIGFzc2VydE5vdE51bGwoZW50KTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoInN0cmluZzMiLCBlbnQuZ2V0U3RyaW5n\nRmllbGQoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIGVudC5nZXRJbnRG\naWVsZCgpKTsKCiAgICAgICAgZW5kRW0oZW0pOwogICAgfQoKICAgIC8vIFRl\nc3RzIEJpbmRpbmcgYW4gYXJndW1lbnQgdG8gYSBuYW1lZCBwYXJhbWV0ZXIu\nCiAgICAvLyBwaywgdGhlIG5hbWVkIHBhcmFtZXRlciAtLU5vdCB3b3JraW5n\nIHlldC0tCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2V0UGFyYW1ldGVyMSgpIHsK\nICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsKICAgICAgICBzdGFydFR4KGVtKTsKCiAgICAgICAgTGlzdCByZXQg\nPQogICAgICAgICAgICBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIG8gRlJPTSBF\nbnRpdHkxIG8gV0hFUkUgby5zdHJpbmdGaWVsZCA9IDpmbGQiKQogICAgICAg\nICAgICAgICAgLnNldFBhcmFtZXRlcigiZmxkIiwgInN0cmluZzEiKQogICAg\nICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsKCiAgICAgICAgYXNzZXJ0\nTm90TnVsbChyZXQpOwogICAgICAgIGFzc2VydEVxdWFscygxLCByZXQuc2l6\nZSgpKTsKCiAgICAgICAgcmV0ID0gZW0uY3JlYXRlTmFtZWRRdWVyeSgic2V0\nUGFyYW0xIikKICAgICAgICAgICAgLnNldFBhcmFtZXRlcigiZmxkIiwgInN0\ncmluZzEiKQogICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpOwoKICAgICAg\nICBhc3NlcnROb3ROdWxsKHJldCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\nIHJldC5zaXplKCkpOwoKICAgICAgICBlbmRUeChlbSk7CiAgICAgICAgZW5k\nRW0oZW0pOwogICAgfQoKICAgIC8vcmVzdCBvZiB0aGUgaW50ZXJmYWNlIGlz\nIHRlc3RlZCBieSB0aGUgQ1RTCn0K\n","encoding":"base64"}

