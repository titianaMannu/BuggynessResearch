{"sha":"127e6f6a7918a1ed163f7305ecf67a45c4dff939","node_id":"MDQ6QmxvYjIwNjM2NDoxMjdlNmY2YTc5MThhMWVkMTYzZjczMDVlY2Y2N2E0NWM0ZGZmOTM5","size":3840,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/127e6f6a7918a1ed163f7305ecf67a45c4dff939","content":"LyoKICogVGVzdE5hbWVkUXVlcmllcy5qYXZhCiAqCiAqIENyZWF0ZWQgb24g\nT2N0b2JlciAxOCwgMjAwNiwgMToxNyBQTQogKgogKiBUbyBjaGFuZ2UgdGhp\ncyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFuYWdlcgog\nKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4KICovCi8q\nCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlv\nbiAoQVNGKSB1bmRlciBvbmUKICogb3IgbW9yZSBjb250cmlidXRvciBsaWNl\nbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiAqIGRpc3Ry\naWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0\naW9uCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFT\nRiBsaWNlbnNlcyB0aGlzIGZpbGUKICogdG8geW91IHVuZGVyIHRoZSBBcGFj\naGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQogKiAiTGljZW5zZSIpOyB5\nb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNl\nCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkg\nb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3Jn\nL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBi\neSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICog\nc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlz\ndHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJS\nQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBl\neHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQog\nKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5k\nIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICAKICovCnBh\nY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnF1ZXJ5OwoK\naW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOwoKCgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnF1ZXJ5LmNvbW1vbi5hcHBzLlF1\nZXJ5VGVzdDE7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuUXVl\ncnlNZXRhRGF0YTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlclNQSTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nUXVlcnk7CgpwdWJsaWMgY2xhc3MgVGVzdE5hbWVkUXVlcmllcyBleHRlbmRz\nIEJhc2VRdWVyeVRlc3QgewoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5l\ndyBpbnN0YW5jZSBvZiBUZXN0TmFtZWRRdWVyaWVzCiAgICAgKi8KCiAgICBw\ndWJsaWMgVGVzdE5hbWVkUXVlcmllcyhTdHJpbmcgdGVzdCkgewogICAgICAg\nIHN1cGVyKHRlc3QpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkg\newogICAgICAgIGRlbGV0ZUFsbChRdWVyeVRlc3QxLmNsYXNzKTsKCiAgICAg\nICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRFTSgpOwogICAgICAg\nIHN0YXJ0VHgocG0pOwogICAgICAgIFF1ZXJ5VGVzdDEgcGMgPSBudWxsOwog\nICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgICAg\nICAgICBwYyA9IG5ldyBRdWVyeVRlc3QxKCk7CiAgICAgICAgICAgIGlmIChp\nIDwgNSkKICAgICAgICAgICAgICAgIHBjLnNldE51bSg0KTsKICAgICAgICAg\nICAgZWxzZQogICAgICAgICAgICAgICAgcGMuc2V0TnVtKGkgKyAxMCk7CiAg\nICAgICAgICAgIHBtLnBlcnNpc3QocGMpOwogICAgICAgIH0KICAgICAgICBl\nbmRUeChwbSk7CiAgICAgICAgZW5kRW0ocG0pOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHRlc3ROYW1lZENsYXNzUXVlcnkoKSB7CiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRFTSgpOwoKICAgICAgICBPcGVuSlBB\nUXVlcnkgcXVlcnkgPSBwbS5jcmVhdGVRdWVyeSgiU0VMRUNUIG8gRlJPTSBR\ndWVyeVRlc3QxIG8iKTsKICAgICAgICBxdWVyeS5zZXRSZXN1bHRDbGFzcyhR\ndWVyeVRlc3QxLmNsYXNzKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKFF1ZXJ5\nVGVzdDEuY2xhc3MsIHF1ZXJ5LmdldFJlc3VsdENsYXNzKCkpOwogICAgICAg\nIGFzc2VydEVxdWFscygiU0VMRUNUIG8gRlJPTSBRdWVyeVRlc3QxIG8iLCBx\ndWVyeS5nZXRRdWVyeVN0cmluZygpKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nUXVlcnlUZXN0MS5jbGFzcywgcXVlcnkuZ2V0UmVzdWx0Q2xhc3MoKSk7CiAg\nICAgICAgLy9GSVhNRSBqdGhvbWFzCiAgICAgICAgLyoKICAgICAgICBhc3Nl\ncnRFcXVhbHMoImltcG9ydCBqYXZhLnV0aWwuKiIsIHF1ZXJ5LmdldEltcG9y\ndHMoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJpbnQgcG51bSIsIHF1ZXJ5\nLmdldFBhcmFtZXRlcnMoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJRdWVy\neVRlc3Q0IHY0IiwgcXVlcnkuZ2V0VmFyaWFibGVzKCkpOwogICAgICAgIGFz\nc2VydEVxdWFscygic3VtKG51bSkiLCBxdWVyeS5nZXRSZXN1bHQoKSk7CiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJudW0iLCBxdWVyeS5nZXRHcm91cGluZygp\nKTsKICAgICAgICAqLwogICAgICAgIFF1ZXJ5TWV0YURhdGEgbWV0YSA9ICgo\nT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkpIHBtKS5nZXRDb25maWd1cmF0aW9u\nKCkuCiAgICAgICAgICAgIGdldE1ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNl\nKCkuZ2V0UXVlcnlNZXRhRGF0YShudWxsLAogICAgICAgICAgICAibmFtZWQi\nLCBwbS5nZXRDbGFzc0xvYWRlcigpLCB0cnVlKTsKICAgICAgICBhc3NlcnRO\nb3ROdWxsKG1ldGEpOwogICAgICAgIGFzc2VydEVxdWFscygiU0VMRUNUIG8g\nRlJPTSBRdWVyeVRlc3QxIG8iLCBtZXRhLmdldFF1ZXJ5U3RyaW5nKCkpOwog\nICAgICAgIGFzc2VydEVxdWFscyhudWxsLCBtZXRhLmdldFJlc3VsdFR5cGUo\nKSk7CgogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0TmFtZXNwYWNlKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyIHBtID0gZ2V0RU0oKTsKICAgICAgICBPcGVuSlBBUXVlcnkgcXVlcnkg\nPSAoT3BlbkpQQVF1ZXJ5KSBwbS5jcmVhdGVOYW1lZFF1ZXJ5KCJuYW1lZCIp\nOwogICAgICAgIGFzc2VydEVxdWFscygiU0VMRUNUIG8gRlJPTSBRdWVyeVRl\nc3QxIG8iLCBxdWVyeS5nZXRRdWVyeVN0cmluZygpKTsKICAgICAgICBxdWVy\neS5jbG9zZUFsbCgpOwogICAgICAgIGVuZEVtKHBtKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0U3lzdGVtSkRPUUwoKSB7CiAgICAgICAgLy8gbWFr\nZSBzdXJlIGxvY2FsIHF1ZXJ5IG1ldGFkYXRhIGlzIHBhcnNlZAogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0RU0oKTsKCiAgICAgICAg\nT3BlbkpQQVF1ZXJ5IHF1ZXJ5ID0gKE9wZW5KUEFRdWVyeSkgcG0uY3JlYXRl\nTmFtZWRRdWVyeSgibmFtZWQiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoIlNF\nTEVDVCBvIEZST00gUXVlcnlUZXN0MSBvIiwgcXVlcnkuZ2V0UXVlcnlTdHJp\nbmcoKSk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKFF1ZXJ5VGVzdDEuY2xhc3Ms\nIHF1ZXJ5LmdldFJlc3VsdENsYXNzKCkpOwogICAgICAgIGFzc2VydEVxdWFs\ncygxMCwgKChDb2xsZWN0aW9uKSBxdWVyeS5nZXRSZXN1bHRMaXN0KCkpLnNp\nemUoKSk7CiAgICAgICAgcXVlcnkuY2xvc2VBbGwoKTsKICAgICAgICBlbmRF\nbShwbSk7CiAgICB9Cn0K\n","encoding":"base64"}

