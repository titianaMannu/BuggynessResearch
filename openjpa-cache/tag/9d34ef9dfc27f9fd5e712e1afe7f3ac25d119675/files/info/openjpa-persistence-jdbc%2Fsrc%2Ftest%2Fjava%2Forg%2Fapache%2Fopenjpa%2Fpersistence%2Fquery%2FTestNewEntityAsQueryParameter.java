{"sha":"012d1a290429834f8032e8c5229d9d37668a212a","node_id":"MDQ6QmxvYjIwNjM2NDowMTJkMWEyOTA0Mjk4MzRmODAzMmU4YzUyMjlkOWQzNzY2OGEyMTJh","size":4227,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/012d1a290429834f8032e8c5229d9d37668a212a","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UuRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLlF1ZXJ5OwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5xdWVyeS5jb21tb24uYXBwcy5Pc29iYTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeS5jb21tb24uYXBwcy5Qcm9qZWt0\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3Qu\nU2luZ2xlRU1GVGVzdENhc2U7CgovKioKICogVGVzdHMgdGhhdCBtYW5hZ2Vk\nLCB1bm1hbmFnZWQgb3IgZXZlbiB0cmFuc2llbnQgRW50aXR5IGNhbiBiZSB1\nc2VkIGFzIGEgCiAqIHF1ZXJ5IHBhcmFtZXRlci4KICogCiAqIE9yaWdpbmFs\nbHkgcmFpc2VkIGFzIGEgSklSQSBJc3N1ZQogKiA8QSBIUkVGPSJodHRwczov\nL2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL09QRU5KUEEtMTg3Ij5P\nUEVOSlBBLTE4NzwvQT4KICogCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcgog\nKgogKi8KcHVibGljIGNsYXNzIFRlc3ROZXdFbnRpdHlBc1F1ZXJ5UGFyYW1l\ndGVyIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoJCglwdWJsaWMgc3Rh\ndGljIGZpbmFsIFN0cmluZyBJRF9QUk9KRUtUMSA9ICJPcGVuSlBBIjsKCXB1\nYmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIElEX1BST0pFS1QyID0gIlRvbWNh\ndCI7CgkKCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IE1FTUJFUl9DT1VOVF9Q\nUk9KRUtUMSA9IDY7CglwdWJsaWMgc3RhdGljIGZpbmFsIGludCBNRU1CRVJf\nQ09VTlRfUFJPSkVLVDIgPSA0OwoJcHVibGljIHN0YXRpYyBmaW5hbCBpbnQg\nTUVNQkVSX0NPVU5UX1RPVEFMICAgID0gODsKCQoJcHVibGljIHZvaWQgc2V0\nVXAoKSB0aHJvd3MgRXhjZXB0aW9uIHsKCQlzdXBlci5zZXRVcChDTEVBUl9U\nQUJMRVMsIE9zb2JhLmNsYXNzLCBQcm9qZWt0LmNsYXNzLAoJCQkJIm9wZW5q\ncGEuTG9nIiwgIlNRTD1UUkFDRSIpOwoJCWNyZWF0ZURhdGEoKTsKCX0KCQoJ\ncHJpdmF0ZSB2b2lkIGNyZWF0ZURhdGEoKSB7CgkJRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CgkJZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwoJCQoJCU9zb2JhW10gb3NvYnkgPSBuZXcgT3Nv\nYmFbTUVNQkVSX0NPVU5UX1RPVEFMXTsKCQlmb3IgKGludCBpPTA7IGk8TUVN\nQkVSX0NPVU5UX1RPVEFMOyBpKyspIHsKCQkJb3NvYnlbaV0gPSBuZXcgT3Nv\nYmEoIk9zb2JhLSIrKGkrMSksIDIwK2kpOwoJCQllbS5wZXJzaXN0KG9zb2J5\nW2ldKTsKCQl9CgkJCgkJCgkJUHJvamVrdCBwcm9qZWt0MSA9IG5ldyBQcm9q\nZWt0KElEX1BST0pFS1QxKTsKCQlQcm9qZWt0IHByb2pla3QyID0gbmV3IFBy\nb2pla3QoSURfUFJPSkVLVDIpOwoJCWVtLnBlcnNpc3QocHJvamVrdDEpOwoJ\nCWVtLnBlcnNpc3QocHJvamVrdDIpOwoJCQoJCWZvciAoaW50IGk9MDsgaTxN\nRU1CRVJfQ09VTlRfUFJPSkVLVDE7IGkrKykKCQkJbGluayhvc29ieVtpXSwg\ncHJvamVrdDEpOwoJCWZvciAoaW50IGk9MDsgaTxNRU1CRVJfQ09VTlRfUFJP\nSkVLVDI7IGkrKykKCQkJbGluayhvc29ieVtvc29ieS5sZW5ndGgtaS0xXSwg\ncHJvamVrdDIpOwoJCQkJCgkJZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsKCQllbS5jbGVhcigpOwoJfQoKCXB1YmxpYyB2b2lkIHRlYXJEb3duKCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CgkJc3VwZXIudGVhckRvd24oKTsKCX0KCQoJ\ncHVibGljIHZvaWQgdGVzdFF1ZXJ5V2l0aFRyYW5zaWVudEluc3RhbmNlQXNQ\nYXJhbWV0ZXIoKSB7CgkJUHJvamVrdCBwcm9qZWt0MSA9IG5ldyBQcm9qZWt0\nKElEX1BST0pFS1QxKTsKCQlQcm9qZWt0IHByb2pla3QyID0gbmV3IFByb2pl\na3QoSURfUFJPSkVLVDIpOwoJCQoJCUVudGl0eU1hbmFnZXIgZW0gPSBlbWYu\nY3JlYXRlRW50aXR5TWFuYWdlcigpOwoJCXF1ZXJ5V2l0aFBhcmFtZXRlcihl\nbSwgcHJvamVrdDEsIHByb2pla3QyKTsKCX0KCQoJcHVibGljIHZvaWQgdGVz\ndFF1ZXJ5V2l0aFVubWFuYWdlZFBlcnNpc3RlbnRJbnN0YW5jZUFzUGFyYW1l\ndGVyKCkgewoJCUVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwoJCVByb2pla3QgcHJvamVrdDEgPSBlbS5maW5kKFByb2pl\na3QuY2xhc3MsIElEX1BST0pFS1QxKTsKCQlQcm9qZWt0IHByb2pla3QyID0g\nZW0uZmluZChQcm9qZWt0LmNsYXNzLCBJRF9QUk9KRUtUMik7CgkJZW0uY2xl\nYXIoKTsKCQlhc3NlcnRGYWxzZShlbS5jb250YWlucyhwcm9qZWt0MSkpOwoJ\nCWFzc2VydEZhbHNlKGVtLmNvbnRhaW5zKHByb2pla3QyKSk7CgkJCgkJcXVl\ncnlXaXRoUGFyYW1ldGVyKGVtLCBwcm9qZWt0MSwgcHJvamVrdDIpOwoJfQoK\nCXB1YmxpYyB2b2lkIHRlc3RRdWVyeVdpdGhNYW5hZ2VkUGVyc2lzdGVudElu\nc3RhbmNlQXNQYXJhbWV0ZXIoKSB7CgkJRW50aXR5TWFuYWdlciBlbSA9IGVt\nZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CgkJUHJvamVrdCBwcm9qZWt0MSA9\nIGVtLmZpbmQoUHJvamVrdC5jbGFzcywgSURfUFJPSkVLVDEpOwoJCVByb2pl\na3QgcHJvamVrdDIgPSBlbS5maW5kKFByb2pla3QuY2xhc3MsIElEX1BST0pF\nS1QyKTsKCQlhc3NlcnRUcnVlKGVtLmNvbnRhaW5zKHByb2pla3QxKSk7CgkJ\nYXNzZXJ0VHJ1ZShlbS5jb250YWlucyhwcm9qZWt0MikpOwoJCQoJCXF1ZXJ5\nV2l0aFBhcmFtZXRlcihlbSwgcHJvamVrdDEsIHByb2pla3QyKTsKCX0KCQoJ\ndm9pZCBxdWVyeVdpdGhQYXJhbWV0ZXIoRW50aXR5TWFuYWdlciBlbSwgUHJv\namVrdCBwcm9qZWt0MSwgUHJvamVrdCBwcm9qZWt0MikgewoJCVN0cmluZyBq\ncHFsID0gIlNFTEVDVCBESVNUSU5DVCBvIEZST00gT3NvYmEgbyBXSEVSRSA6\ncHJvamVrdCBNRU1CRVIgT0Ygby5wcm9qZWt0eSI7CgkJZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwoJCVF1ZXJ5IHF1ZXJ5ID0gZW0uY3JlYXRlUXVl\ncnkoanBxbCk7CgkJCgkJcXVlcnkuc2V0UGFyYW1ldGVyKCJwcm9qZWt0Iiwg\ncHJvamVrdDEpOwoJCUxpc3Q8T3NvYmE+IG9zb2J5ID0gcXVlcnkuZ2V0UmVz\ndWx0TGlzdCgpOwoJCWFzc2VydEVxdWFscyhNRU1CRVJfQ09VTlRfUFJPSkVL\nVDEsIG9zb2J5LnNpemUoKSk7IAoJCQoJCXF1ZXJ5LnNldFBhcmFtZXRlcigi\ncHJvamVrdCIsIHByb2pla3QyKTsKCQlvc29ieSA9IHF1ZXJ5LmdldFJlc3Vs\ndExpc3QoKTsKCQlhc3NlcnRFcXVhbHMoTUVNQkVSX0NPVU5UX1BST0pFS1Qy\nLCBvc29ieS5zaXplKCkpOwoJCWVtLmdldFRyYW5zYWN0aW9uKCkucm9sbGJh\nY2soKTsKCX0KCQoJdm9pZCBsaW5rKE9zb2JhIG8sIFByb2pla3QgcCkgewoJ\nCW8uYWRkUHJvamVrdHkocCk7CgkJcC5hZGRPc29iYShvKTsKCX0KCn0K\n","encoding":"base64"}

