{"sha":"c7b3595ea67cb6e3c4c5be4aabb9d5592974be7c","node_id":"MDQ6QmxvYjIwNjM2NDpjN2IzNTk1ZWE2N2NiNmUzYzRjNWJlNGFhYmI5ZDU1OTI5NzRiZTdj","size":5259,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c7b3595ea67cb6e3c4c5be4aabb9d5592974be7c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeTsKCmlt\ncG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVl\ncnk7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJD\nQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEk7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdC5TaW5nbGVF\nTUZUZXN0Q2FzZTsKCnB1YmxpYyBjbGFzcyBUZXN0UXVlcnlFc2NhcGVDaGFy\nYWN0ZXJzCiAgICBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsKCiAgICBw\ndWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBzZXRVcChFbXBsb3llZS5j\nbGFzcywgQ0xFQVJfVEFCTEVTKTsKCiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5iZWdpbigpOwoKICAgICAgICBFbXBsb3llZSBlID0g\nbmV3IEVtcGxveWVlKCk7CiAgICAgICAgZS5zZXROYW1lKCJNaWtlIERpY2si\nKTsKICAgICAgICBlLnNldEVtcElkKDEpOwogICAgICAgIGVtLnBlcnNpc3Qo\nZSk7CgogICAgICAgIGUgPSBuZXcgRW1wbG95ZWUoKTsKICAgICAgICBlLnNl\ndE5hbWUoIk1pa2UgSm9uZXMiKTsKICAgICAgICBlLnNldEVtcElkKDIpOwog\nICAgICAgIGVtLnBlcnNpc3QoZSk7CgogICAgICAgIGUgPSBuZXcgRW1wbG95\nZWUoKTsKICAgICAgICBlLnNldE5hbWUoIk1pa2UgU21pdGgiKTsKICAgICAg\nICBlLnNldEVtcElkKDMpOwogICAgICAgIGVtLnBlcnNpc3QoZSk7CiAgICAg\nICAgCiAgICAgICAgZSA9IG5ldyBFbXBsb3llZSgpOwogICAgICAgIGUuc2V0\nTmFtZSgiTSVrZSBTbWl0aCIpOwogICAgICAgIGUuc2V0RW1wSWQoNCk7CiAg\nICAgICAgZW0ucGVyc2lzdChlKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgdGVhckRvd24oKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFn\nZXIoKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAg\nICAgICAgZW0uY3JlYXRlUXVlcnkoIkRlbGV0ZSBmcm9tIEVtcGxveWVlIiku\nZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKICAgICAgICBzdXBlci50\nZWFyRG93bigpOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9y\nbWFsUXVlcnkoKSB7CiAgICAgICAgcGVyZm9ybUZpbmQgKCJFbXBsb3llZS5m\naW5kQnlOYW1lIiwgIiVEaWNrIiwgMSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdE11bHRpUmVzdWx0UXVlcnkoKSB7CiAgICAgICAgcGVyZm9ybUZp\nbmQgKCJFbXBsb3llZS5maW5kQnlOYW1lIiwgIk1pa2UlIiwgMyk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgdGVzdEVzY2FwZWRRdWVyeSgpIHsKICAgICAg\nICBwZXJmb3JtRmluZCAoIkVtcGxveWVlLmZpbmRCeU5hbWVFc2NhcGVkIiwg\nCiAgICAgICAgICAgICAgICAiTVxcJSUiLCAxKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RG91YmxlRXNjYXBlZFF1ZXJ5KCkgewogICAgICAgIHBl\ncmZvcm1GaW5kICgiRW1wbG95ZWUuZmluZEJ5TmFtZSIsICJcXFxcIiwgMCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdFdyb25nRXNjYXBlKCkgewog\nICAgICAgIHBlcmZvcm1GaW5kICgiRW1wbG95ZWUuZmluZEJ5TmFtZSIsICJN\nfCUlIiwgMCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdERvdWJsZVNs\nYXNoUXVlcnkoKSB7CiAgICAgICAgLy8gZ2V0IHRoZSBEaWN0aW9uYXJ5IGFu\nZCBjaGVjayB0aGUgYWx3YXlzQWRkU2VhcmNoU3RyaW5nIGZsYWcKICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgb2pwYUVtZiA9IAog\nICAgICAgICAgICAoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKSBl\nbWY7CiAgICAgICAgSkRCQ0NvbmZpZ3VyYXRpb24gY29uZiA9IChKREJDQ29u\nZmlndXJhdGlvbilvanBhRW1mLmdldENvbmZpZ3VyYXRpb24oKTsKICAgICAg\nICAKICAgICAgICBpZiAoY29uZi5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgp\nLgogICAgICAgICAgICAgICAgcmVxdWlyZXNTZWFyY2hTdHJpbmdFc2NhcGVG\nb3JMaWtlID09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAg\nIH0KCiAgICAgICAgcGVyZm9ybUZpbmQgKCJFbXBsb3llZS5maW5kQnlOYW1l\nIiwgIlxcIiwgMCk7CiAgICB9CgogICAgQFN1cHByZXNzV2FybmluZ3MoInVu\nY2hlY2tlZCIpCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGlmZmVyZW50RXNjYXBl\nQ2hhcmFjdGVyICgpIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZh\nY3RvcnlTUEkgb2pwYUVtZiA9IAogICAgICAgICAgICAoT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5U1BJKSBlbWY7CiAgICAgICAgSkRCQ0NvbmZpZ3Vy\nYXRpb24gY29uZiA9IChKREJDQ29uZmlndXJhdGlvbilvanBhRW1mLmdldENv\nbmZpZ3VyYXRpb24oKTsKCiAgICAgICAgLy8gV291bGQgYmUgbmljZSB0byBq\ndXN0IHBhc3MgYSBtYXAgdG8gdGhlIGNyZWF0ZUVudGl0eU1hbmFnZXIsIGJ1\ndAogICAgICAgIC8vIHNlZW1zIGxpa2UgaXQgd291bGQgYmUgdG9vIG11Y2gg\ndHJvdWJsZSB0byBnZXQgdGhlIHByb3BlciBEQiB0eXBlCiAgICAgICAgLy8g\nYW5kIHRoZW4gYnVpbGQgdGhlIHN0cmluZyBmb3IgdGhlIG1hcC4KICAgICAg\nICBjb25mLmdldERCRGljdGlvbmFyeUluc3RhbmNlKCkucmVxdWlyZXNTZWFy\nY2hTdHJpbmdFc2NhcGVGb3JMaWtlID0gdHJ1ZTsKICAgICAgICBjb25mLmdl\ndERCRGljdGlvbmFyeUluc3RhbmNlKCkuc2VhcmNoU3RyaW5nRXNjYXBlID0g\nInwiOwogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOwoKICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlTmFt\nZWRRdWVyeSgiRW1wbG95ZWUuZmluZEJ5TmFtZSIpOwogICAgICAgIHEuc2V0\nUGFyYW1ldGVyKCJuYW1lIiwgIk18JSUiKTsKICAgICAgICBMaXN0PEVtcGxv\neWVlPiBlbXBzID0gKExpc3Q8RW1wbG95ZWU+KSBxLmdldFJlc3VsdExpc3Qo\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMSwgZW1wcy5zaXplKCkpOwoKICAg\nICAgICBTdHJpbmcgdW5uYW1lZFF1ZXJ5ID0KICAgICAgICAgICAgIlNlbGVj\ndCBlIGZyb20gRW1wbG95ZWUgZSB3aGVyZSBlLm5hbWUgTElLRSA6bmFtZSI7\nCgogICAgICAgIHEgPSBlbS5jcmVhdGVRdWVyeSh1bm5hbWVkUXVlcnkpOwog\nICAgICAgIHEuc2V0UGFyYW1ldGVyKCJuYW1lIiwgIk18JSUiKTsKICAgICAg\nICBlbXBzID0gKExpc3Q8RW1wbG95ZWU+KSBxLmdldFJlc3VsdExpc3QoKTsK\nICAgICAgICBhc3NlcnRFcXVhbHMoMSwgZW1wcy5zaXplKCkpOwogICAgICAg\nIGVtLmNsb3NlKCk7CiAgICB9CgogICAgQFN1cHByZXNzV2FybmluZ3MoInVu\nY2hlY2tlZCIpCiAgICBwcml2YXRlIHZvaWQgcGVyZm9ybUZpbmQgKFN0cmlu\nZyBuYW1lZFF1ZXJ5LCBTdHJpbmcgcGFyYW1ldGVyLAogICAgICAgICAgICBp\nbnQgZXhwZWN0ZWQpIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1m\nLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKCiAgICAgICAgUXVlcnkgcSA9IGVt\nLmNyZWF0ZU5hbWVkUXVlcnkobmFtZWRRdWVyeSk7CiAgICAgICAgcS5zZXRQ\nYXJhbWV0ZXIoIm5hbWUiLCBwYXJhbWV0ZXIpOwogICAgICAgIExpc3Q8RW1w\nbG95ZWU+IGVtcHMgPSAoTGlzdDxFbXBsb3llZT4pIHEuZ2V0UmVzdWx0TGlz\ndCgpOwogICAgICAgIGFzc2VydEVxdWFscyhleHBlY3RlZCwgZW1wcy5zaXpl\nKCkpOwoKICAgICAgICBTdHJpbmcgdW5uYW1lZFF1ZXJ5ID0KICAgICAgICAg\nICAgIlNlbGVjdCBlIGZyb20gRW1wbG95ZWUgZSB3aGVyZSBlLm5hbWUgTElL\nRSA6bmFtZSI7CiAgICAgICAgaWYgKG5hbWVkUXVlcnkuZXF1YWxzKCJFbXBs\nb3llZS5maW5kQnlOYW1lRXNjYXBlZCIpKSB7CiAgICAgICAgICAgIHVubmFt\nZWRRdWVyeSA9CiAgICAgICAgICAgICAgICAiU2VsZWN0IGUgZnJvbSBFbXBs\nb3llZSBlIHdoZXJlIGUubmFtZSBMSUtFIDpuYW1lIEVTQ0FQRSAnXFwnIjsK\nICAgICAgICB9CiAgICAgICAgcSA9IGVtLmNyZWF0ZVF1ZXJ5KHVubmFtZWRR\ndWVyeSk7CiAgICAgICAgcS5zZXRQYXJhbWV0ZXIoIm5hbWUiLCBwYXJhbWV0\nZXIpOwogICAgICAgIGVtcHMgPSAoTGlzdDxFbXBsb3llZT4pIHEuZ2V0UmVz\ndWx0TGlzdCgpOwogICAgICAgIGFzc2VydEVxdWFscyhleHBlY3RlZCwgZW1w\ncy5zaXplKCkpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9Cn0K\n","encoding":"base64"}

