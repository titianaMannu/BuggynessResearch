{"sha":"4129f23c88810ace0ea636d2e20a1541bdc25953","node_id":"MDQ6QmxvYjIwNjM2NDo0MTI5ZjIzYzg4ODEwYWNlMGVhNjM2ZDJlMjBhMTU0MWJkYzI1OTUz","size":7146,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4129f23c88810ace0ea636d2e20a1541bdc25953","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuc2xpY2UuamRiYzsKCmltcG9y\ndCBqYXZhLnNxbC5DYWxsYWJsZVN0YXRlbWVudDsKaW1wb3J0IGphdmEuc3Fs\nLkNvbm5lY3Rpb247CmltcG9ydCBqYXZhLnNxbC5EYXRhYmFzZU1ldGFEYXRh\nOwppbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7CmltcG9ydCBq\nYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9ydCBqYXZhLnNxbC5TUUxXYXJu\naW5nOwppbXBvcnQgamF2YS5zcWwuU2F2ZXBvaW50OwppbXBvcnQgamF2YS5z\ncWwuU3RhdGVtZW50OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBq\nYXZhLnV0aWwuTWFwOwoKLyoqCiAqIEEgdmlydHVhbCBjb25uZWN0aW9uIHRo\nYXQgY29udGFpbnMgbXVsdGlwbGUgcGh5c2ljYWwgY29ubmVjdGlvbnMuCiAq\nIAogKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIKICogCiAqLwpjbGFzcyBEaXN0\ncmlidXRlZENvbm5lY3Rpb24gaW1wbGVtZW50cyBDb25uZWN0aW9uIHsKCXBy\naXZhdGUgZmluYWwgTGlzdDxDb25uZWN0aW9uPiByZWFsOwoJcHJpdmF0ZSBm\naW5hbCBDb25uZWN0aW9uIG1hc3RlcjsKCglwdWJsaWMgRGlzdHJpYnV0ZWRD\nb25uZWN0aW9uKExpc3Q8Q29ubmVjdGlvbj4gY29ubmVjdGlvbnMpIHsKCQlp\nZiAoY29ubmVjdGlvbnMgPT0gbnVsbCB8fCBjb25uZWN0aW9ucy5pc0VtcHR5\nKCkpCgkJCXRocm93IG5ldyBOdWxsUG9pbnRlckV4Y2VwdGlvbigpOwoJCXJl\nYWwgPSBjb25uZWN0aW9uczsKCQltYXN0ZXIgPSBjb25uZWN0aW9ucy5nZXQo\nMCk7Cgl9CgkKCXB1YmxpYyBib29sZWFuIGNvbnRhaW5zKENvbm5lY3Rpb24g\nYykgewoJCXJldHVybiByZWFsLmNvbnRhaW5zKGMpOwoJfQoKCXB1YmxpYyB2\nb2lkIGNsZWFyV2FybmluZ3MoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlm\nb3IgKENvbm5lY3Rpb24gYyA6IHJlYWwpCgkJCWMuY2xlYXJXYXJuaW5ncygp\nOwoJfQoKCXB1YmxpYyB2b2lkIGNsb3NlKCkgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CgkJZm9yIChDb25uZWN0aW9uIGMgOiByZWFsKQoJCQljLmNsb3NlKCk7\nCgl9CgoJcHVibGljIHZvaWQgY29tbWl0KCkgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CgkJZm9yIChDb25uZWN0aW9uIGMgOiByZWFsKQoJCQljLmNvbW1pdCgp\nOwoJfQoKCXB1YmxpYyBTdGF0ZW1lbnQgY3JlYXRlU3RhdGVtZW50KCkgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CgkJRGlzdHJpYnV0ZWRTdGF0ZW1lbnQgcmV0\nID0gbmV3IERpc3RyaWJ1dGVkU3RhdGVtZW50KHRoaXMpOwoJCWZvciAoQ29u\nbmVjdGlvbiBjIDogcmVhbCkgewoJCQlyZXQuYWRkKGMuY3JlYXRlU3RhdGVt\nZW50KCkpOwoJCX0KCQlyZXR1cm4gcmV0OwoJfQoKCXB1YmxpYyBTdGF0ZW1l\nbnQgY3JlYXRlU3RhdGVtZW50KGludCBhcmcwLCBpbnQgYXJnMSkgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CgkJRGlzdHJpYnV0ZWRTdGF0ZW1lbnQgcmV0ID0g\nbmV3IERpc3RyaWJ1dGVkU3RhdGVtZW50KHRoaXMpOwoJCWZvciAoQ29ubmVj\ndGlvbiBjIDogcmVhbCkgewoJCQlyZXQuYWRkKGMuY3JlYXRlU3RhdGVtZW50\nKGFyZzAsIGFyZzEpKTsKCQl9CgkJcmV0dXJuIHJldDsKCX0KCglwdWJsaWMg\nU3RhdGVtZW50IGNyZWF0ZVN0YXRlbWVudChpbnQgYXJnMCwgaW50IGFyZzEs\nIGludCBhcmcyKQoJCQl0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlEaXN0cmli\ndXRlZFN0YXRlbWVudCByZXQgPSBuZXcgRGlzdHJpYnV0ZWRTdGF0ZW1lbnQo\ndGhpcyk7CgkJZm9yIChDb25uZWN0aW9uIGMgOiByZWFsKSB7CgkJCXJldC5h\nZGQoYy5jcmVhdGVTdGF0ZW1lbnQoYXJnMCwgYXJnMSwgYXJnMikpOwoJCX0K\nCQlyZXR1cm4gcmV0OwoJfQoKCXB1YmxpYyBib29sZWFuIGdldEF1dG9Db21t\naXQoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlyZXR1cm4gbWFzdGVyLmdl\ndEF1dG9Db21taXQoKTsKCX0KCglwdWJsaWMgU3RyaW5nIGdldENhdGFsb2co\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlyZXR1cm4gbWFzdGVyLmdldENh\ndGFsb2coKTsKCX0KCglwdWJsaWMgaW50IGdldEhvbGRhYmlsaXR5KCkgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CgkJcmV0dXJuIG1hc3Rlci5nZXRIb2xkYWJp\nbGl0eSgpOwoJfQoKCXB1YmxpYyBEYXRhYmFzZU1ldGFEYXRhIGdldE1ldGFE\nYXRhKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJcmV0dXJuIG1hc3Rlci5n\nZXRNZXRhRGF0YSgpOwoJfQoKCXB1YmxpYyBpbnQgZ2V0VHJhbnNhY3Rpb25J\nc29sYXRpb24oKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlyZXR1cm4gbWFz\ndGVyLmdldFRyYW5zYWN0aW9uSXNvbGF0aW9uKCk7Cgl9CgoJcHVibGljIE1h\ncDxTdHJpbmcsIENsYXNzPD8+PiBnZXRUeXBlTWFwKCkgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CgkJcmV0dXJuIG1hc3Rlci5nZXRUeXBlTWFwKCk7Cgl9CgoJ\ncHVibGljIFNRTFdhcm5pbmcgZ2V0V2FybmluZ3MoKSB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKCQlyZXR1cm4gbWFzdGVyLmdldFdhcm5pbmdzKCk7Cgl9CgoJ\ncHVibGljIGJvb2xlYW4gaXNDbG9zZWQoKSB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKCQlib29sZWFuIHJldCA9IHRydWU7CgkJZm9yIChDb25uZWN0aW9uIGMg\nOiByZWFsKSB7CgkJCXJldCAmPSBjLmlzQ2xvc2VkKCk7CgkJfQoJCXJldHVy\nbiByZXQ7Cgl9CgoJcHVibGljIGJvb2xlYW4gaXNSZWFkT25seSgpIHRocm93\ncyBTUUxFeGNlcHRpb24gewoJCWJvb2xlYW4gcmV0ID0gdHJ1ZTsKCQlmb3Ig\nKENvbm5lY3Rpb24gYyA6IHJlYWwpIHsKCQkJcmV0ICY9IGMuaXNSZWFkT25s\neSgpOwoJCX0KCQlyZXR1cm4gcmV0OwoJfQoKCXB1YmxpYyBTdHJpbmcgbmF0\naXZlU1FMKFN0cmluZyBhcmcwKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQly\nZXR1cm4gbWFzdGVyLm5hdGl2ZVNRTChhcmcwKTsKCX0KCglwdWJsaWMgQ2Fs\nbGFibGVTdGF0ZW1lbnQgcHJlcGFyZUNhbGwoU3RyaW5nIGFyZzApIHRocm93\ncyBTUUxFeGNlcHRpb24gewoJCXRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJh\ndGlvbkV4Y2VwdGlvbigpOwoJfQoKCXB1YmxpYyBDYWxsYWJsZVN0YXRlbWVu\ndCBwcmVwYXJlQ2FsbChTdHJpbmcgYXJnMCwgaW50IGFyZzEsIGludCBhcmcy\nKQoJCQl0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQl0aHJvdyBuZXcgVW5zdXBw\nb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oKTsKCX0KCglwdWJsaWMgQ2FsbGFi\nbGVTdGF0ZW1lbnQgcHJlcGFyZUNhbGwoU3RyaW5nIGFyZzAsIGludCBhcmcx\nLCBpbnQgYXJnMiwKCQkJaW50IGFyZzMpIHRocm93cyBTUUxFeGNlcHRpb24g\newoJCXRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigp\nOwoJfQoKCXB1YmxpYyBQcmVwYXJlZFN0YXRlbWVudCBwcmVwYXJlU3RhdGVt\nZW50KFN0cmluZyBhcmcwKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQkvLyBU\nT0RPOiBCaWcgaGFjawoJCWlmIChhcmcwLnN0YXJ0c1dpdGgoIlNFTEVDVCBT\nRVFVRU5DRV9WQUxVRSBGUk9NIE9QRU5KUEFfU0VRVUVOQ0VfVEFCTEUiKSkK\nCQkJcmV0dXJuIG1hc3Rlci5wcmVwYXJlU3RhdGVtZW50KGFyZzApOwoJCURp\nc3RyaWJ1dGVkUHJlcGFyZWRTdGF0ZW1lbnQgcmV0ID0gbmV3IERpc3RyaWJ1\ndGVkUHJlcGFyZWRTdGF0ZW1lbnQodGhpcyk7CgkJZm9yIChDb25uZWN0aW9u\nIGMgOiByZWFsKSB7CgkJCXJldC5hZGQoYy5wcmVwYXJlU3RhdGVtZW50KGFy\nZzApKTsKCQl9CgkJcmV0dXJuIHJldDsKCX0KCglwdWJsaWMgUHJlcGFyZWRT\ndGF0ZW1lbnQgcHJlcGFyZVN0YXRlbWVudChTdHJpbmcgYXJnMCwgaW50IGFy\nZzEpCgkJCXRocm93cyBTUUxFeGNlcHRpb24gewoJCURpc3RyaWJ1dGVkUHJl\ncGFyZWRTdGF0ZW1lbnQgcmV0ID0gbmV3IERpc3RyaWJ1dGVkUHJlcGFyZWRT\ndGF0ZW1lbnQodGhpcyk7CgkJZm9yIChDb25uZWN0aW9uIGMgOiByZWFsKSB7\nCgkJCXJldC5hZGQoYy5wcmVwYXJlU3RhdGVtZW50KGFyZzAsIGFyZzEpKTsK\nCQl9CgkJcmV0dXJuIHJldDsKCX0KCglwdWJsaWMgUHJlcGFyZWRTdGF0ZW1l\nbnQgcHJlcGFyZVN0YXRlbWVudChTdHJpbmcgYXJnMCwgaW50W10gYXJnMSkK\nCQkJdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJRGlzdHJpYnV0ZWRQcmVwYXJl\nZFN0YXRlbWVudCByZXQgPSBuZXcgRGlzdHJpYnV0ZWRQcmVwYXJlZFN0YXRl\nbWVudCh0aGlzKTsKCQlmb3IgKENvbm5lY3Rpb24gYyA6IHJlYWwpIHsKCQkJ\ncmV0LmFkZChjLnByZXBhcmVTdGF0ZW1lbnQoYXJnMCwgYXJnMSkpOwoJCX0K\nCQlyZXR1cm4gcmV0OwoJfQoKCXB1YmxpYyBQcmVwYXJlZFN0YXRlbWVudCBw\ncmVwYXJlU3RhdGVtZW50KFN0cmluZyBhcmcwLCBTdHJpbmdbXSBhcmcxKQoJ\nCQl0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlEaXN0cmlidXRlZFByZXBhcmVk\nU3RhdGVtZW50IHJldCA9IG5ldyBEaXN0cmlidXRlZFByZXBhcmVkU3RhdGVt\nZW50KHRoaXMpOwoJCWZvciAoQ29ubmVjdGlvbiBjIDogcmVhbCkgewoJCQly\nZXQuYWRkKGMucHJlcGFyZVN0YXRlbWVudChhcmcwLCBhcmcxKSk7CgkJfQoJ\nCXJldHVybiByZXQ7Cgl9CgoJcHVibGljIFByZXBhcmVkU3RhdGVtZW50IHBy\nZXBhcmVTdGF0ZW1lbnQoU3RyaW5nIGFyZzAsIGludCBhcmcxLCBpbnQgYXJn\nMikKCQkJdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJRGlzdHJpYnV0ZWRQcmVw\nYXJlZFN0YXRlbWVudCByZXQgPSBuZXcgRGlzdHJpYnV0ZWRQcmVwYXJlZFN0\nYXRlbWVudCh0aGlzKTsKCQlmb3IgKENvbm5lY3Rpb24gYyA6IHJlYWwpIHsK\nCQkJcmV0LmFkZChjLnByZXBhcmVTdGF0ZW1lbnQoYXJnMCwgYXJnMSwgYXJn\nMikpOwoJCX0KCQlyZXR1cm4gcmV0OwoJfQoKCXB1YmxpYyBQcmVwYXJlZFN0\nYXRlbWVudCBwcmVwYXJlU3RhdGVtZW50KFN0cmluZyBhcmcwLCBpbnQgYXJn\nMSwgaW50IGFyZzIsCgkJCWludCBhcmczKSB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKCQlEaXN0cmlidXRlZFByZXBhcmVkU3RhdGVtZW50IHJldCA9IG5ldyBE\naXN0cmlidXRlZFByZXBhcmVkU3RhdGVtZW50KHRoaXMpOwoJCWZvciAoQ29u\nbmVjdGlvbiBjIDogcmVhbCkgewoJCQlyZXQuYWRkKGMucHJlcGFyZVN0YXRl\nbWVudChhcmcwLCBhcmcxLCBhcmcyKSk7CgkJfQoJCXJldHVybiByZXQ7Cgl9\nCgoJcHVibGljIHZvaWQgcmVsZWFzZVNhdmVwb2ludChTYXZlcG9pbnQgYXJn\nMCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJZm9yIChDb25uZWN0aW9uIGMg\nOiByZWFsKQoJCQljLnJlbGVhc2VTYXZlcG9pbnQoYXJnMCk7Cgl9CgoJcHVi\nbGljIHZvaWQgcm9sbGJhY2soKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlm\nb3IgKENvbm5lY3Rpb24gYyA6IHJlYWwpCgkJCWMucm9sbGJhY2soKTsKCX0K\nCglwdWJsaWMgdm9pZCByb2xsYmFjayhTYXZlcG9pbnQgYXJnMCkgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CgkJZm9yIChDb25uZWN0aW9uIGMgOiByZWFsKQoJ\nCQljLnJvbGxiYWNrKGFyZzApOwoJfQoKCXB1YmxpYyB2b2lkIHNldEF1dG9D\nb21taXQoYm9vbGVhbiBhcmcwKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlm\nb3IgKENvbm5lY3Rpb24gYyA6IHJlYWwpCgkJCWMuc2V0QXV0b0NvbW1pdChh\ncmcwKTsKCX0KCglwdWJsaWMgdm9pZCBzZXRDYXRhbG9nKFN0cmluZyBhcmcw\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlmb3IgKENvbm5lY3Rpb24gYyA6\nIHJlYWwpCgkJCWMuc2V0Q2F0YWxvZyhhcmcwKTsKCX0KCglwdWJsaWMgdm9p\nZCBzZXRIb2xkYWJpbGl0eShpbnQgYXJnMCkgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CgkJZm9yIChDb25uZWN0aW9uIGMgOiByZWFsKQoJCQljLnNldEhvbGRh\nYmlsaXR5KGFyZzApOwoJfQoKCXB1YmxpYyB2b2lkIHNldFJlYWRPbmx5KGJv\nb2xlYW4gYXJnMCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJZm9yIChDb25u\nZWN0aW9uIGMgOiByZWFsKQoJCQljLnNldFJlYWRPbmx5KGFyZzApOwoJfQoK\nCXB1YmxpYyBTYXZlcG9pbnQgc2V0U2F2ZXBvaW50KCkgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CgkJdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhj\nZXB0aW9uKCk7Cgl9CgoJcHVibGljIFNhdmVwb2ludCBzZXRTYXZlcG9pbnQo\nU3RyaW5nIGFyZzApIHRocm93cyBTUUxFeGNlcHRpb24gewoJCXRocm93IG5l\ndyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpOwoJfQoKCXB1Ymxp\nYyB2b2lkIHNldFRyYW5zYWN0aW9uSXNvbGF0aW9uKGludCBhcmcwKSB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKCQlmb3IgKENvbm5lY3Rpb24gYyA6IHJlYWwp\nCgkJCWMuc2V0VHJhbnNhY3Rpb25Jc29sYXRpb24oYXJnMCk7Cgl9CgoJcHVi\nbGljIHZvaWQgc2V0VHlwZU1hcChNYXA8U3RyaW5nLCBDbGFzczw/Pj4gYXJn\nMCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJZm9yIChDb25uZWN0aW9uIGMg\nOiByZWFsKQoJCQljLnNldFR5cGVNYXAoYXJnMCk7Cgl9Cn0K\n","encoding":"base64"}

