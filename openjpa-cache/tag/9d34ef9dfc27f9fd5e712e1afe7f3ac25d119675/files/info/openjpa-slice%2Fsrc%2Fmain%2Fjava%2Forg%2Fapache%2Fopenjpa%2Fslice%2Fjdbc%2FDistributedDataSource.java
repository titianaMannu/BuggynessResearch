{"sha":"c1be06dfdb140d807135230e0f0e46ee477183ad","node_id":"MDQ6QmxvYjIwNjM2NDpjMWJlMDZkZmRiMTQwZDgwNzEzNTIzMGUwZjBlNDZlZTQ3NzE4M2Fk","size":3233,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c1be06dfdb140d807135230e0f0e46ee477183ad","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuc2xpY2UuamRiYzsKCmltcG9y\ndCBqYXZhLmlvLlByaW50V3JpdGVyOwppbXBvcnQgamF2YS5zcWwuQ29ubmVj\ndGlvbjsKaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsKaW1wb3J0IGph\ndmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7\nCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCmltcG9ydCBqYXZheC5zcWwuRGF0\nYVNvdXJjZTsKaW1wb3J0IGphdmF4LnNxbC5YQURhdGFTb3VyY2U7CgppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5qZGJjLkRlY29yYXRpbmdEYXRh\nU291cmNlOwoKLyoqCiAqIEEgdmlydHVhbCBkYXRhc291cmNlIHRoYXQgY29u\ndGFpbnMgbWFueSBwaHlzaWNhbCBkYXRhc291cmNlcy4KICogCiAqIEBhdXRo\nb3IgUGluYWtpIFBvZGRhciAKICoKICovCmNsYXNzIERpc3RyaWJ1dGVkRGF0\nYVNvdXJjZSBleHRlbmRzIERlY29yYXRpbmdEYXRhU291cmNlIGltcGxlbWVu\ndHMKCQlJdGVyYWJsZTxEYXRhU291cmNlPiB7Cglwcml2YXRlIExpc3Q8RGF0\nYVNvdXJjZT4gcmVhbCA9IG5ldyBBcnJheUxpc3Q8RGF0YVNvdXJjZT4oKTsK\nCXByaXZhdGUgRGF0YVNvdXJjZSBtYXN0ZXI7CgkKCXB1YmxpYyBEaXN0cmli\ndXRlZERhdGFTb3VyY2UoTGlzdDxEYXRhU291cmNlPiBkYXRhU291cmNlcykg\newoJCXN1cGVyKGRhdGFTb3VyY2VzLmdldCgwKSk7CgkJcmVhbCA9IGRhdGFT\nb3VyY2VzOwoJCW1hc3RlciA9IGRhdGFTb3VyY2VzLmdldCgwKTsKCX0KCQoJ\nQ29ubmVjdGlvbiBnZXRDb25uZWN0aW9uKERhdGFTb3VyY2UgZHMpIHRocm93\ncyBTUUxFeGNlcHRpb24gewoJCWlmIChkcyBpbnN0YW5jZW9mIERlY29yYXRp\nbmdEYXRhU291cmNlKQoJCQlyZXR1cm4gZ2V0Q29ubmVjdGlvbigoKERlY29y\nYXRpbmdEYXRhU291cmNlKWRzKS5nZXRJbm5lcm1vc3REZWxlZ2F0ZSgpKTsK\nCQlpZiAoZHMgaW5zdGFuY2VvZiBYQURhdGFTb3VyY2UpCgkJCXJldHVybiAo\nKFhBRGF0YVNvdXJjZSlkcykuZ2V0WEFDb25uZWN0aW9uKCkuZ2V0Q29ubmVj\ndGlvbigpOwoJCXJldHVybiBkcy5nZXRDb25uZWN0aW9uKCk7Cgl9CgkKCUNv\nbm5lY3Rpb24gZ2V0Q29ubmVjdGlvbihEYXRhU291cmNlIGRzLCBTdHJpbmcg\ndXNlciwgU3RyaW5nIHB3ZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJaWYg\nKGRzIGluc3RhbmNlb2YgRGVjb3JhdGluZ0RhdGFTb3VyY2UpCgkJCXJldHVy\nbiBnZXRDb25uZWN0aW9uKCgoRGVjb3JhdGluZ0RhdGFTb3VyY2UpZHMpLmdl\ndElubmVybW9zdERlbGVnYXRlKCksIHVzZXIsIHB3ZCk7CgkJaWYgKGRzIGlu\nc3RhbmNlb2YgWEFEYXRhU291cmNlKQoJCQlyZXR1cm4gKChYQURhdGFTb3Vy\nY2UpZHMpLmdldFhBQ29ubmVjdGlvbih1c2VyLCBwd2QpLmdldENvbm5lY3Rp\nb24oKTsKCQlyZXR1cm4gZHMuZ2V0Q29ubmVjdGlvbih1c2VyLCBwd2QpOwoJ\nfQoKCXB1YmxpYyBJdGVyYXRvcjxEYXRhU291cmNlPiBpdGVyYXRvcigpIHsK\nCQlyZXR1cm4gcmVhbC5pdGVyYXRvcigpOwoJfQoKCXB1YmxpYyBDb25uZWN0\naW9uIGdldENvbm5lY3Rpb24oKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKCQlM\naXN0PENvbm5lY3Rpb24+IGMgPSBuZXcgQXJyYXlMaXN0PENvbm5lY3Rpb24+\nKCk7CgkJZm9yIChEYXRhU291cmNlIGRzIDogcmVhbCkKCQkJYy5hZGQoZHMu\nZ2V0Q29ubmVjdGlvbigpKTsKCQlyZXR1cm4gbmV3IERpc3RyaWJ1dGVkQ29u\nbmVjdGlvbihjKTsKCX0KCglwdWJsaWMgQ29ubmVjdGlvbiBnZXRDb25uZWN0\naW9uKFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkKQoJCQl0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKCQlMaXN0PENvbm5lY3Rpb24+IGMgPSBuZXcg\nQXJyYXlMaXN0PENvbm5lY3Rpb24+KCk7CgkJZm9yIChEYXRhU291cmNlIGRz\nIDogcmVhbCkKCQkJYy5hZGQoZHMuZ2V0Q29ubmVjdGlvbih1c2VybmFtZSwg\ncGFzc3dvcmQpKTsKCQlyZXR1cm4gbmV3IERpc3RyaWJ1dGVkQ29ubmVjdGlv\nbihjKTsKCX0KCglwdWJsaWMgUHJpbnRXcml0ZXIgZ2V0TG9nV3JpdGVyKCkg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJcmV0dXJuIG1hc3Rlci5nZXRMb2dX\ncml0ZXIoKTsKCX0KCglwdWJsaWMgaW50IGdldExvZ2luVGltZW91dCgpIHRo\ncm93cyBTUUxFeGNlcHRpb24gewoJCXJldHVybiBtYXN0ZXIuZ2V0TG9naW5U\naW1lb3V0KCk7Cgl9CgoJcHVibGljIHZvaWQgc2V0TG9nV3JpdGVyKFByaW50\nV3JpdGVyIG91dCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CgkJZm9yIChEYXRh\nU291cmNlIGRzOnJlYWwpCgkJCWRzLnNldExvZ1dyaXRlcihvdXQpOwoJfQoK\nCXB1YmxpYyB2b2lkIHNldExvZ2luVGltZW91dChpbnQgc2Vjb25kcykgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CgkJZm9yIChEYXRhU291cmNlIGRzOnJlYWwp\nCgkJCWRzLnNldExvZ2luVGltZW91dChzZWNvbmRzKTsKCX0KfQo=\n","encoding":"base64"}

