{"sha":"98d15638c3dd295feb7f8c12cc7e4a32d2eb751b","node_id":"MDQ6QmxvYjIwNjM2NDo5OGQxNTYzOGMzZGQyOTVmZWI3ZjhjMTJjYzdlNGEzMmQyZWI3NTFi","size":3451,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/98d15638c3dd295feb7f8c12cc7e4a32d2eb751b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuc2xpY2UuamRiYzsKCmltcG9y\ndCBqYXZhLnV0aWwuTWFwOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5j\nb25mLk9wZW5KUEFWZXJzaW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDQnJva2VyRmFjdG9yeTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuQm9vdHN0cmFwOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5TdG9yZU1hbmFnZXI7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlv\nblByb3ZpZGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGls\nLkxvY2FsaXplcjsKCi8qKgogKiBBIGZhY3RvcnkgZm9yIGRpc3RyaWJ1dGVk\nIEpEQkMgZGF0YXN0b3Jlcy4KICogCiAqIEBhdXRob3IgUGluYWtpIFBvZGRh\ncgogKiAKICovCkBTdXBwcmVzc1dhcm5pbmdzKCJzZXJpYWwiKQpwdWJsaWMg\nY2xhc3MgRGlzdHJpYnV0ZWRKREJDQnJva2VyRmFjdG9yeSBleHRlbmRzIEpE\nQkNCcm9rZXJGYWN0b3J5IHsKCXByaXZhdGUgc3RhdGljIGZpbmFsIExvY2Fs\naXplciBfbG9jID0gCgkgICAgTG9jYWxpemVyLmZvclBhY2thZ2UoRGlzdHJp\nYnV0ZWRKREJDQnJva2VyRmFjdG9yeS5jbGFzcyk7CgkvKioKCSAqIEZhY3Rv\ncnkgbWV0aG9kIGZvciBjb25zdHJ1Y3RpbmcgYSBmYWN0b3J5IGZyb20gcHJv\ncGVydGllcy4gSW52b2tlZCBmcm9tCgkgKiB7QGxpbmsgQm9vdHN0cmFwI25l\nd0Jyb2tlckZhY3Rvcnl9LgoJICovCglwdWJsaWMgc3RhdGljIERpc3RyaWJ1\ndGVkSkRCQ0Jyb2tlckZhY3RvcnkgbmV3SW5zdGFuY2UoCgkJCUNvbmZpZ3Vy\nYXRpb25Qcm92aWRlciBjcCkgewoJCURpc3RyaWJ1dGVkSkRCQ0NvbmZpZ3Vy\nYXRpb25JbXBsIGNvbmYgPQoJCQkJbmV3IERpc3RyaWJ1dGVkSkRCQ0NvbmZp\nZ3VyYXRpb25JbXBsKGNwKTsKCQljcC5zZXRJbnRvKGNvbmYpOwoJCXJldHVy\nbiBuZXcgRGlzdHJpYnV0ZWRKREJDQnJva2VyRmFjdG9yeShjb25mKTsKCX0K\nCgkvKioKCSAqIEZhY3RvcnkgbWV0aG9kIGZvciBvYnRhaW5pbmcgYSBwb3Nz\naWJseS1wb29sZWQgZmFjdG9yeSBmcm9tIHByb3BlcnRpZXMuCgkgKiBJbnZv\na2VkIGZyb20ge0BsaW5rIEJvb3RzdHJhcCNnZXRCcm9rZXJGYWN0b3J5fS4K\nCSAqLwoJcHVibGljIHN0YXRpYyBKREJDQnJva2VyRmFjdG9yeSBnZXRJbnN0\nYW5jZShDb25maWd1cmF0aW9uUHJvdmlkZXIgY3ApIHsKCSAgICBNYXAgcHJv\ncGVydGllcyA9IGNwLmdldFByb3BlcnRpZXMoKTsKCSAgICBPYmplY3Qga2V5\nID0gdG9Qb29sS2V5KHByb3BlcnRpZXMpOwoJCURpc3RyaWJ1dGVkSkRCQ0Jy\nb2tlckZhY3RvcnkgZmFjdG9yeSA9CgkJCQkoRGlzdHJpYnV0ZWRKREJDQnJv\na2VyRmFjdG9yeSkgZ2V0UG9vbGVkRmFjdG9yeUZvcktleShrZXkpOwoJCWlm\nIChmYWN0b3J5ICE9IG51bGwpCgkJCXJldHVybiBmYWN0b3J5OwoKCQlmYWN0\nb3J5ID0gbmV3SW5zdGFuY2UoY3ApOwoJCXBvb2woa2V5LCBmYWN0b3J5KTsK\nCQlyZXR1cm4gZmFjdG9yeTsKCX0KCgkvKioKCSAqIEZhY3RvcnkgbWV0aG9k\nIGZvciBjb25zdHJ1Y3RpbmcgYSBmYWN0b3J5IGZyb20gYSBjb25maWd1cmF0\naW9uLgoJICovCglwdWJsaWMgc3RhdGljIHN5bmNocm9uaXplZCBKREJDQnJv\na2VyRmFjdG9yeSBnZXRJbnN0YW5jZSgKCQkJSkRCQ0NvbmZpZ3VyYXRpb24g\nY29uZikgewoJICAgIE1hcCBwcm9wZXJ0aWVzID0gY29uZi50b1Byb3BlcnRp\nZXMoZmFsc2UpOwoJICAgIE9iamVjdCBrZXkgPSB0b1Bvb2xLZXkocHJvcGVy\ndGllcyk7CgkJRGlzdHJpYnV0ZWRKREJDQnJva2VyRmFjdG9yeSBmYWN0b3J5\nID0KCQkJCShEaXN0cmlidXRlZEpEQkNCcm9rZXJGYWN0b3J5KSBnZXRQb29s\nZWRGYWN0b3J5Rm9yS2V5KGtleSk7CgkJaWYgKGZhY3RvcnkgIT0gbnVsbCkK\nCQkJcmV0dXJuIGZhY3Rvcnk7CgoJCWZhY3RvcnkgPSBuZXcgRGlzdHJpYnV0\nZWRKREJDQnJva2VyRmFjdG9yeSgKCQkgICAgICAgIChEaXN0cmlidXRlZEpE\nQkNDb25maWd1cmF0aW9uKSBjb25mKTsKCQlwb29sKGtleSwgZmFjdG9yeSk7\nCgkJcmV0dXJuIGZhY3Rvcnk7Cgl9CgoJcHVibGljIERpc3RyaWJ1dGVkSkRC\nQ0Jyb2tlckZhY3RvcnkoRGlzdHJpYnV0ZWRKREJDQ29uZmlndXJhdGlvbiBj\nb25mKSB7CgkJc3VwZXIoY29uZik7Cgl9CgkKCUBPdmVycmlkZQoJcHVibGlj\nIERpc3RyaWJ1dGVkSkRCQ0NvbmZpZ3VyYXRpb24gZ2V0Q29uZmlndXJhdGlv\nbigpIHsKCSAgICByZXR1cm4gKERpc3RyaWJ1dGVkSkRCQ0NvbmZpZ3VyYXRp\nb24pc3VwZXIuZ2V0Q29uZmlndXJhdGlvbigpOwoJfQoKCUBPdmVycmlkZQoJ\ncHJvdGVjdGVkIFN0b3JlTWFuYWdlciBuZXdTdG9yZU1hbmFnZXIoKSB7CgkJ\ncmV0dXJuIG5ldyBEaXN0cmlidXRlZFN0b3JlTWFuYWdlcihnZXRDb25maWd1\ncmF0aW9uKCkpOwoJfQoJCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCBP\nYmplY3QgZ2V0RmFjdG9yeUluaXRpYWxpemF0aW9uQmFubmVyKCkgewogICAg\nICAgIHJldHVybiBfbG9jLmdldCgiZmFjdG9yeS1pbml0IiwgT3BlbkpQQVZl\ncnNpb24uVkVSU0lPTl9OVU1CRVIpOwogICAgfQp9Cg==\n","encoding":"base64"}

