{"sha":"f8f70ff44df30d03148f8b6dfebb7c2c107363da","node_id":"MDQ6QmxvYjIwNjM2NDpmOGY3MGZmNDRkZjMwZDAzMTQ4ZjhiNmRmZWJiN2MyYzEwNzM2M2Rh","size":8543,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f8f70ff44df30d03148f8b6dfebb7c2c107363da","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuc2xpY2UuamRiYzsKCmltcG9y\ndCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkl0ZXJh\ndG9yOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZhLnV0aWwu\nY29uY3VycmVudC5DYWxsYWJsZTsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJy\nZW50LkV4ZWN1dGlvbkV4Y2VwdGlvbjsKaW1wb3J0IGphdmEudXRpbC5jb25j\ndXJyZW50LkV4ZWN1dG9yU2VydmljZTsKaW1wb3J0IGphdmEudXRpbC5jb25j\ndXJyZW50LkZ1dHVyZTsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5rZXJuZWwuSkRCQ1N0b3JlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMua2VybmVsLkpEQkNTdG9yZVF1ZXJ5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5FeHByZXNzaW9uU3RvcmVRdWVyeTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuRmV0Y2hDb25maWd1cmF0aW9u\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5PcmRlcmluZ01l\ncmdlZFJlc3VsdE9iamVjdFByb3ZpZGVyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmtlcm5lbC5RdWVyeUNvbnRleHQ7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEua2VybmVsLlN0b3JlUXVlcnk7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEua2VybmVsLmV4cHMuRXhwcmVzc2lvblBhcnNlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIucm9wLk1lcmdlZFJlc3VsdE9iamVj\ndFByb3ZpZGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5yb3Au\nUmFuZ2VSZXN1bHRPYmplY3RQcm92aWRlcjsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5saWIucm9wLlJlc3VsdE9iamVjdFByb3ZpZGVyOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0YTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlN0b3JlRXhjZXB0aW9uOwoKLyoq\nCiAqIEEgcXVlcnkgZm9yIGRpc3RyaWJ1dGVkIGRhdGFiYXNlcy4KICogCiAq\nIEBhdXRob3IgUGluYWtpIFBvZGRhciAKICoKICovCkBTdXBwcmVzc1dhcm5p\nbmdzKCJzZXJpYWwiKQpjbGFzcyBEaXN0cmlidXRlZFN0b3JlUXVlcnkgZXh0\nZW5kcyBKREJDU3RvcmVRdWVyeSB7Cglwcml2YXRlIExpc3Q8U3RvcmVRdWVy\neT4gX3F1ZXJpZXMgPSBuZXcgQXJyYXlMaXN0PFN0b3JlUXVlcnk+KCk7Cglw\ncml2YXRlIEV4cHJlc3Npb25QYXJzZXIgX3BhcnNlcjsKCQoJcHVibGljIERp\nc3RyaWJ1dGVkU3RvcmVRdWVyeShKREJDU3RvcmUgc3RvcmUsIEV4cHJlc3Np\nb25QYXJzZXIgcGFyc2VyKSB7CgkJc3VwZXIoc3RvcmUsIHBhcnNlcik7CgkJ\nX3BhcnNlciA9IHBhcnNlcjsKCQkKCX0KCQoJdm9pZCBhZGQoU3RvcmVRdWVy\neSBxKSB7CgkJX3F1ZXJpZXMuYWRkKHEpOwoJfQoJCiAgICBwdWJsaWMgRXhl\nY3V0b3IgbmV3RGF0YVN0b3JlRXhlY3V0b3IoQ2xhc3NNZXRhRGF0YSBtZXRh\nLCBib29sZWFuIHN1YnMpIHsKICAgIAlQYXJhbGxlbEV4ZWN1dG9yIGV4ID0g\nbmV3IFBhcmFsbGVsRXhlY3V0b3IodGhpcywgbWV0YSwgc3VicywgX3BhcnNl\nciwgCiAgICAJCQljdHguZ2V0Q29tcGlsYXRpb24oKSk7CiAgICAJCiAgICAJ\nRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoID0gZ2V0Q29udGV4dCgpLmdldEZl\ndGNoQ29uZmlndXJhdGlvbigpOwogICAgCURpc3RyaWJ1dGVkU3RvcmVNYW5h\nZ2VyIHN0b3JlID0gKERpc3RyaWJ1dGVkU3RvcmVNYW5hZ2VyKWdldENvbnRl\neHQoKQogICAgCSAgICAuZ2V0U3RvcmVDb250ZXh0KCkuZ2V0U3RvcmVNYW5h\nZ2VyKCkuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKTsKICAgICAgICBMaXN0PFNs\naWNlU3RvcmVNYW5hZ2VyPiB0YXJnZXRzID0gc3RvcmUuZ2V0VGFyZ2V0cyhm\nZXRjaCk7CiAgICAgICAgZm9yIChTdG9yZVF1ZXJ5IHE6X3F1ZXJpZXMpIHsK\nICAgICAgICAgICAgaWYgKHRhcmdldHMuY29udGFpbnMoKChKREJDU3RvcmVR\ndWVyeSlxKS5nZXRTdG9yZSgpKSkKICAgICAgICAgICAgICAgIGV4LmFkZEV4\nZWN1dG9yKHEubmV3RGF0YVN0b3JlRXhlY3V0b3IobWV0YSwgc3VicykpOwog\nICAgICAgIH0KICAgICAgICByZXR1cm4gZXg7CiAgICB9CiAgICAKICAgIHB1\nYmxpYyB2b2lkIHNldENvbnRleHQoUXVlcnlDb250ZXh0IGN0eCkgewogICAg\nCXN1cGVyLnNldENvbnRleHQoY3R4KTsKICAgIAlmb3IgKFN0b3JlUXVlcnkg\ncTpfcXVlcmllcykgCiAgICAJCXEuc2V0Q29udGV4dChjdHgpOyAKICAgIH0K\nICAgIAogICAgcHVibGljIEV4ZWN1dG9yU2VydmljZSBnZXRFeGVjdXRvclNl\ncnZpY2VJbnN0YW5jZSgpIHsKICAgICAgICBEaXN0cmlidXRlZEpEQkNDb25m\naWd1cmF0aW9uIGNvbmYgPSAKICAgICAgICAgICAgKChEaXN0cmlidXRlZEpE\nQkNDb25maWd1cmF0aW9uKWdldFN0b3JlKCkuZ2V0Q29uZmlndXJhdGlvbigp\nKTsKICAgICAgICByZXR1cm4gY29uZi5nZXRFeGVjdXRvclNlcnZpY2VJbnN0\nYW5jZSgpOwogICAgfQogICAgCgkvKioKCSAqIEV4ZWN1dGVzIHF1ZXJpZXMg\nb24gbXVsdGlwbGUgZGF0YWJhc2VzLgoJICogCgkgKiBAYXV0aG9yIFBpbmFr\naSBQb2RkYXIgCgkgKgoJICovCglwdWJsaWMgc3RhdGljIGNsYXNzIFBhcmFs\nbGVsRXhlY3V0b3IgZXh0ZW5kcyAKCQlFeHByZXNzaW9uU3RvcmVRdWVyeS5E\nYXRhU3RvcmVFeGVjdXRvciB7CgkJcHJpdmF0ZSBMaXN0PEV4ZWN1dG9yPiBl\neGVjdXRvcnMgPSBuZXcgQXJyYXlMaXN0PEV4ZWN1dG9yPigpOwoJCXByaXZh\ndGUgRGlzdHJpYnV0ZWRTdG9yZVF1ZXJ5IG93bmVyID0gbnVsbDsKCQlwcml2\nYXRlIEV4ZWN1dG9yU2VydmljZSB0aHJlYWRQb29sID0gbnVsbDsKCQkKCQlw\ndWJsaWMgdm9pZCBhZGRFeGVjdXRvcihFeGVjdXRvciBleCkgewoJCQlleGVj\ndXRvcnMuYWRkKGV4KTsKCQl9CgkJCiAgICAgICAgcHVibGljIFBhcmFsbGVs\nRXhlY3V0b3IoRGlzdHJpYnV0ZWRTdG9yZVF1ZXJ5IGRzcSwgQ2xhc3NNZXRh\nRGF0YSBtZXRhLCAKICAgICAgICAJCWJvb2xlYW4gc3ViY2xhc3NlcywgRXhw\ncmVzc2lvblBhcnNlciBwYXJzZXIsIE9iamVjdCBwYXJzZWQpIHsKICAgICAg\nICAJc3VwZXIoZHNxLCBtZXRhLCBzdWJjbGFzc2VzLCBwYXJzZXIsIHBhcnNl\nZCk7CiAgICAgICAgCW93bmVyID0gZHNxOwogICAgICAgIAl0aHJlYWRQb29s\nID0gZHNxLmdldEV4ZWN1dG9yU2VydmljZUluc3RhbmNlKCk7CiAgICAgICAg\nfQogICAgICAgIAogICAgICAgIC8qKgogICAgICAgICAqIEVhY2ggY2hpbGQg\ncXVlcnkgbXVzdCBiZSBleGVjdXRlZCB3aXRoIHNsaWNlIGNvbnRleHQgYW5k\nIG5vdCB0aGUgCiAgICAgICAgICogZ2l2ZW4gcXVlcnkgY29udGV4dC4KICAg\nICAgICAgKi8KICAgICAgICBwdWJsaWMgUmVzdWx0T2JqZWN0UHJvdmlkZXIg\nZXhlY3V0ZVF1ZXJ5KFN0b3JlUXVlcnkgcSwKICAgICAgICAgICAgICAgIGZp\nbmFsIE9iamVjdFtdIHBhcmFtcywgZmluYWwgUmFuZ2UgcmFuZ2UpIHsKICAg\nICAgICAJUmVzdWx0T2JqZWN0UHJvdmlkZXJbXSB0bXAgPSBuZXcgUmVzdWx0\nT2JqZWN0UHJvdmlkZXJbZXhlY3V0b3JzLnNpemUoKV07CiAgICAgICAgCWZp\nbmFsIEl0ZXJhdG9yPFN0b3JlUXVlcnk+IHFzID0gb3duZXIuX3F1ZXJpZXMu\naXRlcmF0b3IoKTsKICAgICAgICAJZmluYWwgTGlzdDxGdXR1cmU8UmVzdWx0\nT2JqZWN0UHJvdmlkZXI+PiBmdXR1cmVzID0gCiAgICAgICAgCQluZXcgQXJy\nYXlMaXN0PEZ1dHVyZTxSZXN1bHRPYmplY3RQcm92aWRlcj4+KCk7CiAgICAg\nICAgCWludCBpID0gMDsKICAgICAgICAJZm9yIChFeGVjdXRvciBleDpleGVj\ndXRvcnMpICB7CiAgICAgICAgCQlRdWVyeUV4ZWN1dG9yIGNhbGwgPSBuZXcg\nUXVlcnlFeGVjdXRvcigpOwogICAgICAgIAkJY2FsbC5leGVjdXRvciA9IGV4\nOwogICAgICAgIAkJY2FsbC5xdWVyeSAgICA9IHFzLm5leHQoKTsKICAgICAg\nICAJCWNhbGwucGFyYW1zICAgPSBwYXJhbXM7CiAgICAgICAgCQljYWxsLnJh\nbmdlICAgID0gcmFuZ2U7CiAgICAgICAgCQlmdXR1cmVzLmFkZCh0aHJlYWRQ\nb29sLnN1Ym1pdChjYWxsKSk7IAogICAgICAgIAl9CiAgICAgICAgCWZvciAo\nRnV0dXJlPFJlc3VsdE9iamVjdFByb3ZpZGVyPiBmdXR1cmU6ZnV0dXJlcykg\newogICAgICAgIAkJdHJ5IHsKCQkJCQl0bXBbaSsrXSA9IGZ1dHVyZS5nZXQo\nKTsKCQkJCX0gY2F0Y2ggKEludGVycnVwdGVkRXhjZXB0aW9uIGUpIHsKCQkJ\nCQl0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihlKTsKCQkJCX0gY2F0Y2gg\nKEV4ZWN1dGlvbkV4Y2VwdGlvbiBlKSB7CgkJCQkJdGhyb3cgbmV3IFN0b3Jl\nRXhjZXB0aW9uKGUuZ2V0Q2F1c2UoKSk7CgkJCQl9CiAgICAgICAgCX0KICAg\nICAgICAJYm9vbGVhbltdIGFzY2VuZGluZyA9IGdldEFzY2VuZGluZyhxKTsK\nICAgICAgICAJYm9vbGVhbiBpc0FzY2VuZGluZyA9IGFzY2VuZGluZy5sZW5n\ndGggPiAwOwogICAgICAgIAlib29sZWFuIGlzVW5pcXVlICAgID0gcS5nZXRD\nb250ZXh0KCkuaXNVbmlxdWUoKTsKICAgICAgICAJYm9vbGVhbiBoYXNSYW5n\nZSAgICA9IHEuZ2V0Q29udGV4dCgpLmdldEVuZFJhbmdlKCkgIT0gTG9uZy5N\nQVhfVkFMVUU7CiAgICAgICAgCVJlc3VsdE9iamVjdFByb3ZpZGVyIHJlc3Vs\ndCA9IG51bGw7CiAgICAgICAgCWlmIChpc1VuaXF1ZSkgewogICAgICAgIAkg\nICAgcmVzdWx0ID0gbmV3IFVuaXF1ZVJlc3VsdE9iamVjdFByb3ZpZGVyKHRt\ncCwgcSwgCiAgICAgICAgCSAgICAgICAgICAgIGdldFF1ZXJ5RXhwcmVzc2lv\nbnMoKSk7CiAgICAgICAgCX0gZWxzZSBpZiAoaXNBc2NlbmRpbmcpIHsKICAg\nICAgICAJICAgIHJlc3VsdCA9IG5ldyBPcmRlcmluZ01lcmdlZFJlc3VsdE9i\namVjdFByb3ZpZGVyKHRtcCwgYXNjZW5kaW5nLCAKICAgICAgICAgICAgICAg\nICAgKEV4ZWN1dG9yW10pZXhlY3V0b3JzLnRvQXJyYXkobmV3IEV4ZWN1dG9y\nW2V4ZWN1dG9ycy5zaXplKCldKSwKICAgICAgICAgICAgICAgICAgcSwgcGFy\nYW1zKTsKICAgICAgICAJfSBlbHNlIHsKICAgICAgICAJICAgIHJlc3VsdCA9\nIG5ldyBNZXJnZWRSZXN1bHRPYmplY3RQcm92aWRlcih0bXApOwogICAgICAg\nIAl9CiAgICAgICAgCWlmIChoYXNSYW5nZSkKICAgICAgICAJICAgIHJlc3Vs\ndCA9IG5ldyBSYW5nZVJlc3VsdE9iamVjdFByb3ZpZGVyKHJlc3VsdCwgCiAg\nICAgICAgCSAgICAgICAgICAgIHEuZ2V0Q29udGV4dCgpLmdldFN0YXJ0UmFu\nZ2UoKSwgCiAgICAgICAgCSAgICAgICAgICAgIHEuZ2V0Q29udGV4dCgpLmdl\ndEVuZFJhbmdlKCkpOwogICAgICAgIAlyZXR1cm4gcmVzdWx0OwogICAgICAg\nIH0KICAgICAgICAKICAgICAgICBwdWJsaWMgTnVtYmVyIGV4ZWN1dGVEZWxl\ndGUoU3RvcmVRdWVyeSBxLCBPYmplY3RbXSBwYXJhbXMpIHsKICAgICAgICAJ\nSXRlcmF0b3I8U3RvcmVRdWVyeT4gcXMgPSBvd25lci5fcXVlcmllcy5pdGVy\nYXRvcigpOwogICAgICAgIAlmaW5hbCBMaXN0PEZ1dHVyZTxOdW1iZXI+PiBm\ndXR1cmVzID0gbmV3IEFycmF5TGlzdDxGdXR1cmU8TnVtYmVyPj4oKTsKICAg\nICAgICAJZm9yIChFeGVjdXRvciBleDpleGVjdXRvcnMpIHsKICAgICAgICAJ\nCURlbGV0ZUV4ZWN1dG9yIGNhbGwgPSBuZXcgRGVsZXRlRXhlY3V0b3IoKTsK\nICAgICAgICAJCWNhbGwuZXhlY3V0b3IgPSBleDsKICAgICAgICAJCWNhbGwu\ncXVlcnkgICAgPSBxcy5uZXh0KCk7CiAgICAgICAgCQljYWxsLnBhcmFtcyAg\nID0gcGFyYW1zOwogICAgICAgIAkJZnV0dXJlcy5hZGQodGhyZWFkUG9vbC5z\ndWJtaXQoY2FsbCkpOyAKICAgICAgICAJfQogICAgICAgIAlpbnQgTiA9IDA7\nCiAgICAgICAgCWZvciAoRnV0dXJlPE51bWJlcj4gZnV0dXJlOmZ1dHVyZXMp\nIHsKICAgICAgICAJCXRyeSB7CiAgICAgICAgICAgIAkJTnVtYmVyIG4gPSBm\ndXR1cmUuZ2V0KCk7CiAgICAgICAgICAgIAkJaWYgKG4gIT0gbnVsbCkgCiAg\nICAgICAgICAgIAkJCU4gKz0gbi5pbnRWYWx1ZSgpOwoJCQkJfSBjYXRjaCAo\nSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkgewoJCQkJCXRocm93IG5ldyBSdW50\naW1lRXhjZXB0aW9uKGUpOwoJCQkJfSBjYXRjaCAoRXhlY3V0aW9uRXhjZXB0\naW9uIGUpIHsKCQkJCQl0aHJvdyBuZXcgU3RvcmVFeGNlcHRpb24oZS5nZXRD\nYXVzZSgpKTsKCQkJCX0KICAgICAgICAJfQogICAgICAgIAlyZXR1cm4gbmV3\nIEludGVnZXIoTik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHB1Ymxp\nYyBOdW1iZXIgZXhlY3V0ZVVwZGF0ZShTdG9yZVF1ZXJ5IHEsIE9iamVjdFtd\nIHBhcmFtcykgewogICAgICAgIAlJdGVyYXRvcjxTdG9yZVF1ZXJ5PiBxcyA9\nIG93bmVyLl9xdWVyaWVzLml0ZXJhdG9yKCk7CiAgICAgICAgCWZpbmFsIExp\nc3Q8RnV0dXJlPE51bWJlcj4+IGZ1dHVyZXMgPSBuZXcgQXJyYXlMaXN0PEZ1\ndHVyZTxOdW1iZXI+PigpOwogICAgICAgIAlmb3IgKEV4ZWN1dG9yIGV4OmV4\nZWN1dG9ycykgewogICAgICAgIAkJVXBkYXRlRXhlY3V0b3IgY2FsbCA9IG5l\ndyBVcGRhdGVFeGVjdXRvcigpOwogICAgICAgIAkJY2FsbC5leGVjdXRvciA9\nIGV4OwogICAgICAgIAkJY2FsbC5xdWVyeSAgICA9IHFzLm5leHQoKTsKICAg\nICAgICAJCWNhbGwucGFyYW1zICAgPSBwYXJhbXM7CiAgICAgICAgCQlmdXR1\ncmVzLmFkZCh0aHJlYWRQb29sLnN1Ym1pdChjYWxsKSk7IAogICAgICAgIAl9\nCiAgICAgICAgCWludCBOID0gMDsKICAgICAgICAJZm9yIChGdXR1cmU8TnVt\nYmVyPiBmdXR1cmU6ZnV0dXJlcykgewogICAgICAgIAkJdHJ5IHsKICAgICAg\nICAgICAgCQlOdW1iZXIgbiA9IGZ1dHVyZS5nZXQoKTsKICAgICAgICAgICAg\nCQlpZiAobiAhPSBudWxsKSAKICAgICAgICAgICAgCQkJTiArPSBuLmludFZh\nbHVlKCk7CgkJCQl9IGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBlKSB7\nCgkJCQkJdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oZSk7CgkJCQl9IGNh\ndGNoIChFeGVjdXRpb25FeGNlcHRpb24gZSkgewoJCQkJCXRocm93IG5ldyBT\ndG9yZUV4Y2VwdGlvbihlLmdldENhdXNlKCkpOwoJCQkJfQogICAgICAgIAl9\nCiAgICAgICAgCXJldHVybiBuZXcgSW50ZWdlcihOKTsKICAgICAgICB9CgoJ\nfQoJCglzdGF0aWMgIGNsYXNzIFF1ZXJ5RXhlY3V0b3IgaW1wbGVtZW50cyBD\nYWxsYWJsZTxSZXN1bHRPYmplY3RQcm92aWRlcj4gewoJCVN0b3JlUXVlcnkg\ncXVlcnk7CgkJRXhlY3V0b3IgZXhlY3V0b3I7CgkJT2JqZWN0W10gcGFyYW1z\nOwoJCVJhbmdlIHJhbmdlOwoJCXB1YmxpYyBSZXN1bHRPYmplY3RQcm92aWRl\nciBjYWxsKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CgkJCXJldHVybiBleGVjdXRv\nci5leGVjdXRlUXVlcnkocXVlcnksIHBhcmFtcywgcmFuZ2UpOwoJCX0KCX0K\nCQoJc3RhdGljICBjbGFzcyBEZWxldGVFeGVjdXRvciBpbXBsZW1lbnRzIENh\nbGxhYmxlPE51bWJlcj4gewoJCVN0b3JlUXVlcnkgcXVlcnk7CgkJRXhlY3V0\nb3IgZXhlY3V0b3I7CgkJT2JqZWN0W10gcGFyYW1zOwoJCXB1YmxpYyBOdW1i\nZXIgY2FsbCgpIHRocm93cyBFeGNlcHRpb24gewoJCQlyZXR1cm4gZXhlY3V0\nb3IuZXhlY3V0ZURlbGV0ZShxdWVyeSwgcGFyYW1zKTsKCQl9Cgl9CgkKCXN0\nYXRpYyAgY2xhc3MgVXBkYXRlRXhlY3V0b3IgaW1wbGVtZW50cyBDYWxsYWJs\nZTxOdW1iZXI+IHsKCQlTdG9yZVF1ZXJ5IHF1ZXJ5OwoJCUV4ZWN1dG9yIGV4\nZWN1dG9yOwoJCU9iamVjdFtdIHBhcmFtczsKCQlwdWJsaWMgTnVtYmVyIGNh\nbGwoKSB0aHJvd3MgRXhjZXB0aW9uIHsKCQkJcmV0dXJuIGV4ZWN1dG9yLmV4\nZWN1dGVEZWxldGUocXVlcnksIHBhcmFtcyk7CgkJfQoJfQp9Cgo=\n","encoding":"base64"}

