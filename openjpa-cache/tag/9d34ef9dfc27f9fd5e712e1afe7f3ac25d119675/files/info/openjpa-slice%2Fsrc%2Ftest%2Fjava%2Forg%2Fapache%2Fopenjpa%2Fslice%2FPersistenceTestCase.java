{"sha":"53dc4a9f0511f41f7f97b9425327e9ee79b472d0","node_id":"MDQ6QmxvYjIwNjM2NDo1M2RjNGE5ZjA1MTFmNDFmN2Y5N2I5NDI1MzI3ZTllZTc5YjQ3MmQw","size":8441,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/53dc4a9f0511f41f7f97b9425327e9ee79b472d0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuc2xpY2U7CgppbXBvcnQgamF2\nYS5sYW5nLnJlZmxlY3QuTW9kaWZpZXI7CmltcG9ydCBqYXZhLnV0aWwuQXJy\nYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2\nYS51dGlsLkxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2\nYS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRp\ndHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFu\nYWdlckZhY3Rvcnk7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5QZXJzaXN0\nZW5jZTsKCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7CmltcG9y\ndCBqdW5pdC5mcmFtZXdvcmsuVGVzdFJlc3VsdDsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuQWJzdHJhY3RCcm9rZXJGYWN0b3J5OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5Ccm9rZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyRmFjdG9yeVNQSTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5KUEFGYWNhZGVIZWxwZXI7CgovKioKICogQmFzZSB0ZXN0\nIGNsYXNzIHByb3ZpZGluZyBwZXJzaXN0ZW5jZSB1dGlsaXRpZXMuCiAqLwpw\ndWJsaWMgYWJzdHJhY3QgY2xhc3MgUGVyc2lzdGVuY2VUZXN0Q2FzZQogICAg\nZXh0ZW5kcyBUZXN0Q2FzZSB7CgogICAgLyoqCiAgICAgKiBNYXJrZXIgb2Jq\nZWN0IHlvdSBhbiBwYXNzIHRvIHtAbGluayAjc2V0VXB9IHRvIGluZGljYXRl\nIHRoYXQgdGhlCiAgICAgKiBkYXRhYmFzZSB0YWJsZXMgc2hvdWxkIGJlIGNs\nZWFyZWQuCiAgICAgKi8KICAgIHByb3RlY3RlZCBzdGF0aWMgZmluYWwgT2Jq\nZWN0IENMRUFSX1RBQkxFUyA9IG5ldyBPYmplY3QoKTsKCiAgICAvKioKICAg\nICAqIFRoZSB7QGxpbmsgVGVzdFJlc3VsdH0gaW5zdGFuY2UgZm9yIHRoZSBj\ndXJyZW50IHRlc3QgcnVuLgogICAgICovCiAgICBwcm90ZWN0ZWQgVGVzdFJl\nc3VsdCB0ZXN0UmVzdWx0OwoKICAgIC8qKgogICAgICogQ3JlYXRlIGFuIGVu\ndGl0eSBtYW5hZ2VyIGZhY3RvcnkuIFB1dCB7QGxpbmsgI0NMRUFSX1RBQkxF\nU30gaW4KICAgICAqIHRoaXMgbGlzdCB0byB0ZWxsIHRoZSB0ZXN0IGZyYW1l\nd29yayB0byBkZWxldGUgYWxsIHRhYmxlIGNvbnRlbnRzCiAgICAgKiBiZWZv\ncmUgcnVubmluZyB0aGUgdGVzdHMuCiAgICAgKgogICAgICogQHBhcmFtIHBy\nb3BzIGxpc3Qgb2YgcGVyc2lzdGVudCB0eXBlcyB1c2VkIGluIHRlc3Rpbmcg\nYW5kL29yCiAgICAgKiBjb25maWd1cmF0aW9uIHZhbHVlcyBpbiB0aGUgZm9y\nbSBrZXksdmFsdWUsa2V5LHZhbHVlLi4uCiAgICAgKi8KICAgIHByb3RlY3Rl\nZCBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgY3JlYXRlRU1GKE9i\namVjdC4uLiBwcm9wcykgewogICAgICAgIHJldHVybiBjcmVhdGVOYW1lZEVN\nRihnZXRQZXJzaXN0ZW5jZVVuaXROYW1lKCksIHByb3BzKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwZXJzaXN0ZW5jZSB1bml0\nIHRoYXQgdGhpcyB0ZXN0IGNsYXNzIHNob3VsZCB1c2UKICAgICAqIGJ5IGRl\nZmF1bHQuIFRoaXMgZGVmYXVsdHMgdG8gInRlc3QiLgogICAgICovCiAgICBw\ncm90ZWN0ZWQgU3RyaW5nIGdldFBlcnNpc3RlbmNlVW5pdE5hbWUoKSB7CiAg\nICAgICAgcmV0dXJuICJ0ZXN0IjsKICAgIH0KCiAgICAvKioKICAgICAqIENy\nZWF0ZSBhbiBlbnRpdHkgbWFuYWdlciBmYWN0b3J5IGZvciBwZXJzaXN0ZW5j\nZSB1bml0IDxjb2RlPnB1PC9jb2RlPi4KICAgICAqIFB1dCB7QGxpbmsgI0NM\nRUFSX1RBQkxFU30gaW4KICAgICAqIHRoaXMgbGlzdCB0byB0ZWxsIHRoZSB0\nZXN0IGZyYW1ld29yayB0byBkZWxldGUgYWxsIHRhYmxlIGNvbnRlbnRzCiAg\nICAgKiBiZWZvcmUgcnVubmluZyB0aGUgdGVzdHMuCiAgICAgKgogICAgICog\nQHBhcmFtIHByb3BzIGxpc3Qgb2YgcGVyc2lzdGVudCB0eXBlcyB1c2VkIGlu\nIHRlc3RpbmcgYW5kL29yCiAgICAgKiBjb25maWd1cmF0aW9uIHZhbHVlcyBp\nbiB0aGUgZm9ybSBrZXksdmFsdWUsa2V5LHZhbHVlLi4uCiAgICAgKi8KICAg\nIHByb3RlY3RlZCBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgY3Jl\nYXRlTmFtZWRFTUYoU3RyaW5nIHB1LAogICAgICAgIE9iamVjdC4uLiBwcm9w\ncykgewogICAgICAgIE1hcCBtYXAgPSBuZXcgSGFzaE1hcChTeXN0ZW0uZ2V0\nUHJvcGVydGllcygpKTsKICAgICAgICBMaXN0PENsYXNzPiB0eXBlcyA9IG5l\ndyBBcnJheUxpc3Q8Q2xhc3M+KCk7CiAgICAgICAgYm9vbGVhbiBwcm9wID0g\nZmFsc2U7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBwcm9wcy5sZW5n\ndGg7IGkrKykgewogICAgICAgICAgICBpZiAocHJvcCkgewogICAgICAgICAg\nICAgICAgbWFwLnB1dChwcm9wc1tpIC0gMV0sIHByb3BzW2ldKTsKICAgICAg\nICAgICAgICAgIHByb3AgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIGlm\nIChwcm9wc1tpXSA9PSBDTEVBUl9UQUJMRVMpIHsKICAgICAgICAgICAgICAg\nIG1hcC5wdXQoIm9wZW5qcGEuamRiYy5TeW5jaHJvbml6ZU1hcHBpbmdzIiwK\nICAgICAgICAgICAgICAgICAgICAiYnVpbGRTY2hlbWEoRm9yZWlnbktleXM9\ndHJ1ZSwiIAogICAgICAgICAgICAgICAgICAgICsgIlNjaGVtYUFjdGlvbj0n\nYWRkLGRlbGV0ZVRhYmxlQ29udGVudHMnKSIpOwogICAgICAgICAgICB9IGVs\nc2UgaWYgKHByb3BzW2ldIGluc3RhbmNlb2YgQ2xhc3MpCiAgICAgICAgICAg\nICAgICB0eXBlcy5hZGQoKENsYXNzKSBwcm9wc1tpXSk7CiAgICAgICAgICAg\nIGVsc2UgaWYgKHByb3BzW2ldICE9IG51bGwpCiAgICAgICAgICAgICAgICBw\ncm9wID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmICghdHlwZXMuaXNF\nbXB0eSgpKSB7CiAgICAgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcg\nU3RyaW5nQnVmZmVyKCk7CiAgICAgICAgICAgIGZvciAoQ2xhc3MgYyA6IHR5\ncGVzKSB7CiAgICAgICAgICAgICAgICBpZiAoYnVmLmxlbmd0aCgpID4gMCkK\nICAgICAgICAgICAgICAgICAgICBidWYuYXBwZW5kKCI7Iik7CiAgICAgICAg\nICAgICAgICBidWYuYXBwZW5kKGMuZ2V0TmFtZSgpKTsKICAgICAgICAgICAg\nfQogICAgICAgICAgICBtYXAucHV0KCJvcGVuanBhLk1ldGFEYXRhRmFjdG9y\neSIsCiAgICAgICAgICAgICAgICAianBhKFR5cGVzPSIgKyBidWYudG9TdHJp\nbmcoKSArICIpIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSkgUGVyc2lzdGVuY2UuCiAgICAg\nICAgICAgIGNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KHB1LCBtYXApOwog\nICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgcnVuKFRlc3RS\nZXN1bHQgdGVzdFJlc3VsdCkgewogICAgICAgIHRoaXMudGVzdFJlc3VsdCA9\nIHRlc3RSZXN1bHQ7CiAgICAgICAgc3VwZXIucnVuKHRlc3RSZXN1bHQpOwog\nICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgdGVhckRvd24o\nKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICB0cnkgewogICAgICAgICAg\nICBzdXBlci50ZWFyRG93bigpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlv\nbiBlKSB7CiAgICAgICAgICAgIC8vIGlmIGEgdGVzdCBmYWlsZWQsIHN3YWxs\nb3cgYW55IGV4Y2VwdGlvbnMgdGhhdCBoYXBwZW4KICAgICAgICAgICAgLy8g\nZHVyaW5nIHRlYXItZG93biwgYXMgdGhlc2UganVzdCBtYXNrIHRoZSBvcmln\naW5hbCBwcm9ibGVtLgogICAgICAgICAgICBpZiAodGVzdFJlc3VsdC53YXNT\ndWNjZXNzZnVsKCkpCiAgICAgICAgICAgICAgICB0aHJvdyBlOwogICAgICAg\nIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNhZmVseSBjbG9zZSB0aGUgZ2l2\nZW4gZmFjdG9yeS4KICAgICAqLwogICAgcHJvdGVjdGVkIGJvb2xlYW4gY2xv\nc2VFTUYoRW50aXR5TWFuYWdlckZhY3RvcnkgZW1mKSB7CiAgICAgICAgaWYg\nKGVtZiA9PSBudWxsIHx8ICFlbWYuaXNPcGVuKCkpCiAgICAgICAgICAgIHJl\ndHVybiBmYWxzZTsKICAgICAgICAKICAgICAgICBjbG9zZUFsbE9wZW5FTXMo\nZW1mKTsKICAgICAgICBlbWYuY2xvc2UoKTsKICAgICAgICByZXR1cm4gIWVt\nZi5pc09wZW4oKTsKICAgIH0KCiAgICAvKioKICAgICAqIENsb3NlcyBhbGwg\nb3BlbiBlbnRpdHkgbWFuYWdlcnMgYWZ0ZXIgZmlyc3Qgcm9sbGluZyBiYWNr\nIGFueSBvcGVuIHRyYW5zYWN0aW9ucwogICAgICovCiAgICBwcm90ZWN0ZWQg\ndm9pZCBjbG9zZUFsbE9wZW5FTXMoRW50aXR5TWFuYWdlckZhY3RvcnkgZW1m\nKSB7CiAgICAgICAgaWYgKGVtZiA9PSBudWxsIHx8ICFlbWYuaXNPcGVuKCkp\nCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgZm9yIChJdGVyYXRvciBp\ndGVyID0gKChBYnN0cmFjdEJyb2tlckZhY3RvcnkpIEpQQUZhY2FkZUhlbHBl\ncgogICAgICAgICAgICAudG9Ccm9rZXJGYWN0b3J5KGVtZikpLmdldE9wZW5C\ncm9rZXJzKCkuaXRlcmF0b3IoKTsKICAgICAgICAgICAgaXRlci5oYXNOZXh0\nKCk7ICkgewogICAgICAgICAgICBCcm9rZXIgYiA9IChCcm9rZXIpIGl0ZXIu\nbmV4dCgpOwogICAgICAgICAgICBpZiAoYiAhPSBudWxsICYmICFiLmlzQ2xv\nc2VkKCkpIHsKICAgICAgICAgICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBK\nUEFGYWNhZGVIZWxwZXIudG9FbnRpdHlNYW5hZ2VyKGIpOwogICAgICAgICAg\nICAgICAgaWYgKGVtLmdldFRyYW5zYWN0aW9uKCkuaXNBY3RpdmUoKSkKICAg\nICAgICAgICAgICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLnJvbGxiYWNr\nKCk7CiAgICAgICAgICAgICAgICBlbS5jbG9zZSgpOwogICAgICAgICAgICB9\nCiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogRGVsZXRlIGFsbCBp\nbnN0YW5jZXMgb2YgdGhlIGdpdmVuIHR5cGVzIHVzaW5nIGJ1bGsgZGVsZXRl\nIHF1ZXJpZXMsCiAgICAgKiBidXQgZG8gbm90IGNsb3NlIGFueSBvcGVuIGVu\ndGl0eSBtYW5hZ2Vycy4KICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgY2xl\nYXIoRW50aXR5TWFuYWdlckZhY3RvcnkgZW1mLCBDbGFzcy4uLiB0eXBlcykg\newogICAgICAgIGlmIChlbWYgPT0gbnVsbCB8fCB0eXBlcy5sZW5ndGggPT0g\nMCkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBMaXN0PENsYXNzTWV0\nYURhdGE+IG1ldGFzID0gbmV3IEFycmF5TGlzdDxDbGFzc01ldGFEYXRhPih0\neXBlcy5sZW5ndGgpOwogICAgICAgIGZvciAoQ2xhc3MgYyA6IHR5cGVzKSB7\nCiAgICAgICAgICAgIENsYXNzTWV0YURhdGEgbWV0YSA9IEpQQUZhY2FkZUhl\nbHBlci5nZXRNZXRhRGF0YShlbWYsIGMpOwogICAgICAgICAgICBpZiAobWV0\nYSAhPSBudWxsKQogICAgICAgICAgICAgICAgbWV0YXMuYWRkKG1ldGEpOwog\nICAgICAgIH0KICAgICAgICBjbGVhcihlbWYsIGZhbHNlLCBtZXRhcy50b0Fy\ncmF5KG5ldyBDbGFzc01ldGFEYXRhW21ldGFzLnNpemUoKV0pKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIERlbGV0ZSBhbGwgaW5zdGFuY2VzIG9mIHRoZSBw\nZXJzaXN0ZW50IHR5cGVzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgZ2l2ZW4KICAg\nICAqIGZhY3RvcnkgdXNpbmcgYnVsayBkZWxldGUgcXVlcmllcywgYWZ0ZXIg\nZmlyc3QgY2xvc2luZyBhbGwgb3BlbiBlbnRpdHkKICAgICAqIG1hbmFnZXJz\nIChhbmQgcm9sbGluZyBiYWNrIGFueSBvcGVuIHRyYW5zYWN0aW9ucykuCiAg\nICAgKi8KICAgIHByb3RlY3RlZCB2b2lkIGNsZWFyKEVudGl0eU1hbmFnZXJG\nYWN0b3J5IGVtZikgewogICAgICAgIGlmIChlbWYgPT0gbnVsbCkKICAgICAg\nICAgICAgcmV0dXJuOwogICAgICAgIGNsZWFyKGVtZiwgdHJ1ZSwgKChPcGVu\nSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkpIGVtZikuZ2V0Q29uZmlndXJh\ndGlvbigpLgogICAgICAgICAgICBnZXRNZXRhRGF0YVJlcG9zaXRvcnlJbnN0\nYW5jZSgpLmdldE1ldGFEYXRhcygpKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIERlbGV0ZSBhbGwgaW5zdGFuY2VzIG9mIHRoZSBnaXZlbiB0eXBlcyB1c2lu\nZyBidWxrIGRlbGV0ZSBxdWVyaWVzLgogICAgICogQHBhcmFtIGNsb3NlRU1z\nIFRPRE8KICAgICAqLwogICAgcHJpdmF0ZSB2b2lkIGNsZWFyKEVudGl0eU1h\nbmFnZXJGYWN0b3J5IGVtZiwgYm9vbGVhbiBjbG9zZUVNcywgQ2xhc3NNZXRh\nRGF0YS4uLiB0eXBlcykgewogICAgICAgIGlmIChlbWYgPT0gbnVsbCB8fCB0\neXBlcy5sZW5ndGggPT0gMCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAg\nIAogICAgICAgIC8vIHByZXZlbnQgZGVhZGxvY2sgYnkgY2xvc2luZyB0aGUg\nb3BlbiBlbnRpdHkgbWFuYWdlcnMgCiAgICAgICAgLy8gYW5kIHJvbGxpbmcg\nYmFjayBhbnkgb3BlbiB0cmFuc2FjdGlvbnMgCiAgICAgICAgLy8gYmVmb3Jl\nIGlzc3VpbmcgZGVsZXRlIHN0YXRlbWVudHMgb24gYSBuZXcgZW50aXR5IG1h\nbmFnZXIuCiAgICAgICAgaWYgKGNsb3NlRU1zKQogICAgICAgICAgICBjbG9z\nZUFsbE9wZW5FTXMoZW1mKTsKCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9\nIGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGZvciAoQ2xhc3NNZXRhRGF0\nYSBtZXRhIDogdHlwZXMpIHsKICAgICAgICAgICAgaWYgKCFtZXRhLmlzTWFw\ncGVkKCkgfHwgbWV0YS5pc0VtYmVkZGVkT25seSgpIAogICAgICAgICAgICAg\nICAgfHwgTW9kaWZpZXIuaXNBYnN0cmFjdChtZXRhLmdldERlc2NyaWJlZFR5\ncGUoKS5nZXRNb2RpZmllcnMoKSkpCiAgICAgICAgICAgICAgICBjb250aW51\nZTsKLy8gICAgICAgICAgICBlbS5jcmVhdGVRdWVyeSgiREVMRVRFIEZST00g\nIiArIG1ldGEuZ2V0VHlwZUFsaWFzKCkgKyAiIG8iKS4KLy8gICAgICAgICAg\nICAgICAgZXhlY3V0ZVVwZGF0ZSgpOwogICAgICAgIH0KICAgICAgICBlbS5n\nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIGVtLmNsb3NlKCk7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGVudGl0eSBuYW1l\nIGZvciB0aGUgZ2l2ZW4gdHlwZS4gICAKICAgICAqLwogICAgcHJvdGVjdGVk\nIFN0cmluZyBlbnRpdHlOYW1lKEVudGl0eU1hbmFnZXJGYWN0b3J5IGVtZiwg\nQ2xhc3MgYykgewogICAgICAgIENsYXNzTWV0YURhdGEgbWV0YSA9IEpQQUZh\nY2FkZUhlbHBlci5nZXRNZXRhRGF0YShlbWYsIGMpOwogICAgICAgIHJldHVy\nbiAobWV0YSA9PSBudWxsKSA/IG51bGwgOiBtZXRhLmdldFR5cGVBbGlhcygp\nOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBhc3NlcnROb3RFcXVh\nbHMoT2JqZWN0IG8xLCBPYmplY3QgbzIpIHsKICAgICAgICBpZiAobzEgPT0g\nbzIpCiAgICAgICAgICAgIGZhaWwoImV4cGVjdGVkIGFyZ3MgdG8gYmUgZGlm\nZmVyZW50OyB3ZXJlIHRoZSBzYW1lIGluc3RhbmNlLiIpOwogICAgICAgIGVs\nc2UgaWYgKG8xID09IG51bGwgfHwgbzIgPT0gbnVsbCkKICAgICAgICAgICAg\ncmV0dXJuOwogICAgICAgIGVsc2UgaWYgKG8xLmVxdWFscyhvMikpCiAgICAg\nICAgICAgIGZhaWwoImV4cGVjdGVkIGFyZ3MgdG8gYmUgZGlmZmVyZW50OyBj\nb21wYXJlZCBlcXVhbC4iKTsKICAgIH0KfQo=\n","encoding":"base64"}

