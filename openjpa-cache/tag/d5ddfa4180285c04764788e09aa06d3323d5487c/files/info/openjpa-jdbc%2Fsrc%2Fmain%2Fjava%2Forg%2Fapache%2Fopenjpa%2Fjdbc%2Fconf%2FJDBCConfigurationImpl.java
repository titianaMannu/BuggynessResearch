{"sha":"4d85f4b9eb13819fcadf59b1294c20092a89c42c","node_id":"MDQ6QmxvYjIwNjM2NDo0ZDg1ZjRiOWViMTM4MTlmY2FkZjU5YjEyOTRjMjAwOTJhODljNDJj","size":31775,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4d85f4b9eb13819fcadf59b1294c20092a89c42c","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5jb25mOwoKaW1wb3J0\nIGphdmEuc3FsLkNvbm5lY3Rpb247CmltcG9ydCBqYXZhLnNxbC5SZXN1bHRT\nZXQ7CmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsKCmltcG9ydCBvcmcu\nYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5jb25mLk9wZW5KUEFDb25maWd1cmF0aW9uSW1wbDsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5CYXRjaGlu\nZ0NvbnN0cmFpbnRVcGRhdGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMua2VybmVsLkJhdGNoaW5nT3BlcmF0aW9uT3JkZXJVcGRh\ndGVNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2Vy\nbmVsLkVhZ2VyRmV0Y2hNb2RlczsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLmtlcm5lbC5KREJDQnJva2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5MUlNTaXplczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5QZXNzaW1pc3RpY0xvY2tN\nYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVs\nLlVwZGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5tZXRhLk1hcHBpbmdEZWZhdWx0czsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLm1ldGEuTWFwcGluZ1JlcG9zaXRvcnk7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuRGF0YVNvdXJjZUZhY3Rvcnk7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuRHJpdmVy\nRGF0YVNvdXJjZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNj\naGVtYS5TY2hlbWFGYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuc3FsLkRCRGljdGlvbmFyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnlGYWN0b3J5OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEZhY3Rvcnk7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJyb2tlckltcGw7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0b3JlQ29udGV4dDsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5JbnRWYWx1ZTsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5PYmplY3RWYWx1ZTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5QbHVnaW5WYWx1ZTsK\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Qcm9kdWN0RGVy\naXZhdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYu\nU3RyaW5nTGlzdFZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLlN0cmluZ1ZhbHVlOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmxpYi5qZGJjLkNvbm5lY3Rpb25EZWNvcmF0b3I7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLmpkYmMuRGVjb3JhdGluZ0RhdGFTb3VyY2U7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmpkYmMuSkRCQ0xpc3RlbmVy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5sb2cuTG9nOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLk1ldGFEYXRhRmFjdG9yeTsK\nCi8qKgogKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHRoZSB7QGxpbmsg\nSkRCQ0NvbmZpZ3VyYXRpb259IGludGVyZmFjZS4KICoKICogQGF1dGhvciBN\nYXJjIFBydWQnaG9tbWVhdXgKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1\nYmxpYyBjbGFzcyBKREJDQ29uZmlndXJhdGlvbkltcGwKICAgIGV4dGVuZHMg\nT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsCiAgICBpbXBsZW1lbnRzIEpEQkND\nb25maWd1cmF0aW9uIHsKCiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgc2NoZW1h\nOwogICAgcHVibGljIFN0cmluZ0xpc3RWYWx1ZSBzY2hlbWFzOwogICAgcHVi\nbGljIEludFZhbHVlIHRyYW5zYWN0aW9uSXNvbGF0aW9uOwogICAgcHVibGlj\nIEludFZhbHVlIHJlc3VsdFNldFR5cGU7CiAgICBwdWJsaWMgSW50VmFsdWUg\nZmV0Y2hEaXJlY3Rpb247CiAgICBwdWJsaWMgRmV0Y2hNb2RlVmFsdWUgZWFn\nZXJGZXRjaE1vZGU7CiAgICBwdWJsaWMgRmV0Y2hNb2RlVmFsdWUgc3ViY2xh\nc3NGZXRjaE1vZGU7CiAgICBwdWJsaWMgSW50VmFsdWUgbHJzU2l6ZTsKICAg\nIHB1YmxpYyBTdHJpbmdWYWx1ZSBzeW5jaHJvbml6ZU1hcHBpbmdzOwogICAg\ncHVibGljIE9iamVjdFZhbHVlIGpkYmNMaXN0ZW5lclBsdWdpbnM7CiAgICBw\ndWJsaWMgT2JqZWN0VmFsdWUgY29ubmVjdGlvbkRlY29yYXRvclBsdWdpbnM7\nCiAgICBwdWJsaWMgUGx1Z2luVmFsdWUgZGJkaWN0aW9uYXJ5UGx1Z2luOwog\nICAgcHVibGljIE9iamVjdFZhbHVlIHVwZGF0ZU1hbmFnZXJQbHVnaW47CiAg\nICBwdWJsaWMgT2JqZWN0VmFsdWUgc2NoZW1hRmFjdG9yeVBsdWdpbjsKICAg\nIHB1YmxpYyBPYmplY3RWYWx1ZSBzcWxGYWN0b3J5UGx1Z2luOwogICAgcHVi\nbGljIE9iamVjdFZhbHVlIG1hcHBpbmdEZWZhdWx0c1BsdWdpbjsKICAgIHB1\nYmxpYyBQbHVnaW5WYWx1ZSBkcml2ZXJEYXRhU291cmNlUGx1Z2luOwogICAg\ncHVibGljIE1hcHBpbmdGYWN0b3J5VmFsdWUgbWFwcGluZ0ZhY3RvcnlQbHVn\naW47CgogICAgLy8gdXNlZCBpbnRlcm5hbGx5CiAgICBwcml2YXRlIFN0cmlu\nZyBmaXJzdFVzZXIgPSBudWxsOwogICAgcHJpdmF0ZSBTdHJpbmcgZmlyc3RQ\nYXNzID0gbnVsbDsKICAgIHByaXZhdGUgRGVjb3JhdGluZ0RhdGFTb3VyY2Ug\nZGF0YVNvdXJjZSA9IG51bGw7CiAgICBwcml2YXRlIERlY29yYXRpbmdEYXRh\nU291cmNlIGRhdGFTb3VyY2UyID0gbnVsbDsKCiAgICAvKioKICAgICAqIERl\nZmF1bHQgY29uc3RydWN0b3IuIEF0dGVtcHRzIHRvIGxvYWQgZGVmYXVsdCBw\ncm9wZXJ0aWVzLgogICAgICovCiAgICBwdWJsaWMgSkRCQ0NvbmZpZ3VyYXRp\nb25JbXBsKCkgewogICAgICAgIHRoaXModHJ1ZSk7CiAgICB9CgogICAgLyoq\nCiAgICAgKiBDb25zdHJ1Y3Rvci4KICAgICAqCiAgICAgKiBAcGFyYW0gbG9h\nZEdsb2JhbHMgd2hldGhlciB0byBhdHRlbXB0IHRvIGxvYWQgdGhlIGdsb2Jh\nbCBwcm9wZXJ0aWVzCiAgICAgKi8KICAgIHB1YmxpYyBKREJDQ29uZmlndXJh\ndGlvbkltcGwoYm9vbGVhbiBsb2FkR2xvYmFscykgewogICAgICAgIHRoaXMo\ndHJ1ZSwgbG9hZEdsb2JhbHMpOwogICAgfQoKICAgIC8qKgogICAgICogQ29u\nc3RydWN0b3IuCiAgICAgKgogICAgICogQHBhcmFtIGRlcml2YXRpb25zIHdo\nZXRoZXIgdG8gYXBwbHkgcHJvZHVjdCBkZXJpdmF0aW9ucwogICAgICogQHBh\ncmFtIGxvYWRHbG9iYWxzIHdoZXRoZXIgdG8gYXR0ZW1wdCB0byBsb2FkIHRo\nZSBnbG9iYWwgcHJvcGVydGllcwogICAgICovCiAgICBwdWJsaWMgSkRCQ0Nv\nbmZpZ3VyYXRpb25JbXBsKGJvb2xlYW4gZGVyaXZhdGlvbnMsIGJvb2xlYW4g\nbG9hZEdsb2JhbHMpIHsKICAgICAgICBzdXBlcihmYWxzZSwgZmFsc2UpOwog\nICAgICAgIFN0cmluZ1tdIGFsaWFzZXM7CgogICAgICAgIHNjaGVtYSA9IGFk\nZFN0cmluZygiamRiYy5TY2hlbWEiKTsKICAgICAgICBzY2hlbWFzID0gYWRk\nU3RyaW5nTGlzdCgiamRiYy5TY2hlbWFzIik7CgogICAgICAgIHRyYW5zYWN0\naW9uSXNvbGF0aW9uID0gYWRkSW50KCJqZGJjLlRyYW5zYWN0aW9uSXNvbGF0\naW9uIik7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXXsKICAgICAg\nICAgICAgImRlZmF1bHQiLCBTdHJpbmcudmFsdWVPZigtMSksCiAgICAgICAg\nICAgICJub25lIiwgU3RyaW5nLnZhbHVlT2YoQ29ubmVjdGlvbi5UUkFOU0FD\nVElPTl9OT05FKSwKICAgICAgICAgICAgInJlYWQtY29tbWl0dGVkIiwgU3Ry\naW5nLnZhbHVlT2YKICAgICAgICAgICAgKENvbm5lY3Rpb24uVFJBTlNBQ1RJ\nT05fUkVBRF9DT01NSVRURUQpLAogICAgICAgICAgICAicmVhZC11bmNvbW1p\ndHRlZCIsIFN0cmluZy52YWx1ZU9mCiAgICAgICAgICAgIChDb25uZWN0aW9u\nLlRSQU5TQUNUSU9OX1JFQURfVU5DT01NSVRURUQpLAogICAgICAgICAgICAi\ncmVwZWF0YWJsZS1yZWFkIiwgU3RyaW5nLnZhbHVlT2YKICAgICAgICAgICAg\nKENvbm5lY3Rpb24uVFJBTlNBQ1RJT05fUkVQRUFUQUJMRV9SRUFEKSwKICAg\nICAgICAgICAgInNlcmlhbGl6YWJsZSIsIFN0cmluZy52YWx1ZU9mKENvbm5l\nY3Rpb24uVFJBTlNBQ1RJT05fU0VSSUFMSVpBQkxFKQogICAgICAgIH07CiAg\nICAgICAgdHJhbnNhY3Rpb25Jc29sYXRpb24uc2V0QWxpYXNlcyhhbGlhc2Vz\nKTsKICAgICAgICB0cmFuc2FjdGlvbklzb2xhdGlvbi5zZXREZWZhdWx0KGFs\naWFzZXNbMF0pOwogICAgICAgIHRyYW5zYWN0aW9uSXNvbGF0aW9uLnNldCgt\nMSk7CiAgICAgICAgdHJhbnNhY3Rpb25Jc29sYXRpb24uc2V0QWxpYXNMaXN0\nQ29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAgcmVzdWx0U2V0VHlwZSA9\nIGFkZEludCgiamRiYy5SZXN1bHRTZXRUeXBlIik7CiAgICAgICAgYWxpYXNl\ncyA9IG5ldyBTdHJpbmdbXXsKICAgICAgICAgICAgImZvcndhcmQtb25seSIs\nIFN0cmluZy52YWx1ZU9mKFJlc3VsdFNldC5UWVBFX0ZPUldBUkRfT05MWSks\nCiAgICAgICAgICAgICJzY3JvbGwtc2Vuc2l0aXZlIiwgU3RyaW5nLnZhbHVl\nT2YKICAgICAgICAgICAgKFJlc3VsdFNldC5UWVBFX1NDUk9MTF9TRU5TSVRJ\nVkUpLAogICAgICAgICAgICAic2Nyb2xsLWluc2Vuc2l0aXZlIiwgU3RyaW5n\nLnZhbHVlT2YKICAgICAgICAgICAgKFJlc3VsdFNldC5UWVBFX1NDUk9MTF9J\nTlNFTlNJVElWRSksCiAgICAgICAgfTsKICAgICAgICByZXN1bHRTZXRUeXBl\nLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgcmVzdWx0U2V0VHlwZS5z\nZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIHJlc3VsdFNldFR5cGUu\nc2V0KFJlc3VsdFNldC5UWVBFX0ZPUldBUkRfT05MWSk7CiAgICAgICAgcmVz\ndWx0U2V0VHlwZS5zZXRBbGlhc0xpc3RDb21wcmVoZW5zaXZlKHRydWUpOwoK\nICAgICAgICBmZXRjaERpcmVjdGlvbiA9IGFkZEludCgiamRiYy5GZXRjaERp\ncmVjdGlvbiIpOwogICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW117CiAg\nICAgICAgICAgICJmb3J3YXJkIiwgU3RyaW5nLnZhbHVlT2YoUmVzdWx0U2V0\nLkZFVENIX0ZPUldBUkQpLAogICAgICAgICAgICAicmV2ZXJzZSIsIFN0cmlu\nZy52YWx1ZU9mKFJlc3VsdFNldC5GRVRDSF9SRVZFUlNFKSwKICAgICAgICAg\nICAgInVua25vd24iLCBTdHJpbmcudmFsdWVPZihSZXN1bHRTZXQuRkVUQ0hf\nVU5LTk9XTiksCiAgICAgICAgfTsKICAgICAgICBmZXRjaERpcmVjdGlvbi5z\nZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGZldGNoRGlyZWN0aW9uLnNl\ndERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgZmV0Y2hEaXJlY3Rpb24u\nc2V0KFJlc3VsdFNldC5GRVRDSF9GT1JXQVJEKTsKICAgICAgICBmZXRjaERp\ncmVjdGlvbi5zZXRBbGlhc0xpc3RDb21wcmVoZW5zaXZlKHRydWUpOwoKICAg\nICAgICBlYWdlckZldGNoTW9kZSA9IG5ldyBGZXRjaE1vZGVWYWx1ZSgiamRi\nYy5FYWdlckZldGNoTW9kZSIpOwogICAgICAgIGVhZ2VyRmV0Y2hNb2RlLnNl\ndERlZmF1bHQoRmV0Y2hNb2RlVmFsdWUuRUFHRVJfUEFSQUxMRUwpOwogICAg\nICAgIGVhZ2VyRmV0Y2hNb2RlLnNldChFYWdlckZldGNoTW9kZXMuRUFHRVJf\nUEFSQUxMRUwpOwogICAgICAgIGFkZFZhbHVlKGVhZ2VyRmV0Y2hNb2RlKTsK\nCiAgICAgICAgc3ViY2xhc3NGZXRjaE1vZGUgPSBuZXcgRmV0Y2hNb2RlVmFs\ndWUoImpkYmMuU3ViY2xhc3NGZXRjaE1vZGUiKTsKICAgICAgICBzdWJjbGFz\nc0ZldGNoTW9kZS5zZXREZWZhdWx0KEZldGNoTW9kZVZhbHVlLkVBR0VSX0pP\nSU4pOwogICAgICAgIHN1YmNsYXNzRmV0Y2hNb2RlLnNldChFYWdlckZldGNo\nTW9kZXMuRUFHRVJfSk9JTik7CiAgICAgICAgYWRkVmFsdWUoc3ViY2xhc3NG\nZXRjaE1vZGUpOwoKICAgICAgICBscnNTaXplID0gYWRkSW50KCJqZGJjLkxS\nU1NpemUiKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdewogICAg\nICAgICAgICAicXVlcnkiLCBTdHJpbmcudmFsdWVPZihMUlNTaXplcy5TSVpF\nX1FVRVJZKSwKICAgICAgICAgICAgInVua25vd24iLCBTdHJpbmcudmFsdWVP\nZihMUlNTaXplcy5TSVpFX1VOS05PV04pLAogICAgICAgICAgICAibGFzdCIs\nIFN0cmluZy52YWx1ZU9mKExSU1NpemVzLlNJWkVfTEFTVCksCiAgICAgICAg\nfTsKICAgICAgICBscnNTaXplLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAg\nICAgbHJzU2l6ZS5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGxy\nc1NpemUuc2V0KExSU1NpemVzLlNJWkVfUVVFUlkpOwogICAgICAgIGxyc1Np\nemUuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAg\nc3luY2hyb25pemVNYXBwaW5ncyA9IGFkZFN0cmluZygiamRiYy5TeW5jaHJv\nbml6ZU1hcHBpbmdzIik7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdb\nXXsgImZhbHNlIiwgbnVsbCB9OwogICAgICAgIHN5bmNocm9uaXplTWFwcGlu\nZ3Muc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBzeW5jaHJvbml6ZU1h\ncHBpbmdzLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CgogICAgICAgIGpkYmNM\naXN0ZW5lclBsdWdpbnMgPSBhZGRQbHVnaW5MaXN0KCJqZGJjLkpEQkNMaXN0\nZW5lcnMiKTsKICAgICAgICBqZGJjTGlzdGVuZXJQbHVnaW5zLnNldEluc3Rh\nbnRpYXRpbmdHZXR0ZXIoImdldEpEQkNMaXN0ZW5lckluc3RhbmNlcyIpOwoK\nICAgICAgICBjb25uZWN0aW9uRGVjb3JhdG9yUGx1Z2lucyA9IGFkZFBsdWdp\nbkxpc3QKICAgICAgICAgICAgKCJqZGJjLkNvbm5lY3Rpb25EZWNvcmF0b3Jz\nIik7CiAgICAgICAgY29ubmVjdGlvbkRlY29yYXRvclBsdWdpbnMuc2V0SW5z\ndGFudGlhdGluZ0dldHRlcgogICAgICAgICAgICAoImdldENvbm5lY3Rpb25E\nZWNvcmF0b3JJbnN0YW5jZXMiKTsKCiAgICAgICAgZGJkaWN0aW9uYXJ5UGx1\nZ2luID0gYWRkUGx1Z2luKCJqZGJjLkRCRGljdGlvbmFyeSIsIHRydWUpOwog\nICAgICAgIGFsaWFzZXMgPSBuZXcgU3RyaW5nW117CiAgICAgICAgICAgICJh\nY2Nlc3MiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkFjY2Vzc0Rp\nY3Rpb25hcnkiLAogICAgICAgICAgICAiZGIyIiwgIm9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNxbC5EQjJEaWN0aW9uYXJ5IiwKICAgICAgICAgICAgImRl\ncmJ5IiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EZXJieURpY3Rp\nb25hcnkiLAogICAgICAgICAgICAiZW1wcmVzcyIsICJvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5zcWwuRW1wcmVzc0RpY3Rpb25hcnkiLAogICAgICAgICAg\nICAiZm94cHJvIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Gb3hQ\ncm9EaWN0aW9uYXJ5IiwKICAgICAgICAgICAgImgyIiwgIm9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNxbC5IMkRpY3Rpb25hcnkiLAogICAgICAgICAgICAi\naHNxbCIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuSFNRTERpY3Rp\nb25hcnkiLAogICAgICAgICAgICAiaW5mb3JtaXgiLCAib3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc3FsLkluZm9ybWl4RGljdGlvbmFyeSIsCiAgICAgICAg\nICAgICJqZGF0YXN0b3JlIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNx\nbC5KRGF0YVN0b3JlRGljdGlvbmFyeSIsCiAgICAgICAgICAgICJteXNxbCIs\nICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuTXlTUUxEaWN0aW9uYXJ5\nIiwKICAgICAgICAgICAgIm9yYWNsZSIsICJvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuT3JhY2xlRGljdGlvbmFyeSIsCiAgICAgICAgICAgICJwb2lu\ndGJhc2UiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlBvaW50YmFz\nZURpY3Rpb25hcnkiLAogICAgICAgICAgICAicG9zdGdyZXMiLCAib3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMuc3FsLlBvc3RncmVzRGljdGlvbmFyeSIsCiAg\nICAgICAgICAgICJzcWxzZXJ2ZXIiLCAib3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMuc3FsLlNRTFNlcnZlckRpY3Rpb25hcnkiLAogICAgICAgICAgICAic3li\nYXNlIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TeWJhc2VEaWN0\naW9uYXJ5IiwKICAgICAgICB9OwogICAgICAgIGRiZGljdGlvbmFyeVBsdWdp\nbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGRiZGljdGlvbmFyeVBs\ndWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXREQkRpY3Rpb25hcnlJ\nbnN0YW5jZSIpOwoKICAgICAgICB1cGRhdGVNYW5hZ2VyUGx1Z2luID0gYWRk\nUGx1Z2luKCJqZGJjLlVwZGF0ZU1hbmFnZXIiLCB0cnVlKTsKICAgICAgICBh\nbGlhc2VzID0gbmV3IFN0cmluZ1tdewogICAgICAgICAgICAiZGVmYXVsdCIs\nCiAgICAgICAgICAgIEJhdGNoaW5nQ29uc3RyYWludFVwZGF0ZU1hbmFnZXIu\nY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICAib3BlcmF0aW9uLW9yZGVy\nIiwKICAgICAgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5l\nbC5PcGVyYXRpb25PcmRlclVwZGF0ZU1hbmFnZXIiLAogICAgICAgICAgICAi\nY29uc3RyYWludCIsCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5rZXJuZWwuQ29uc3RyYWludFVwZGF0ZU1hbmFnZXIiLAogICAgICAg\nICAgICAiYmF0Y2hpbmctY29uc3RyYWludCIsCiAgICAgICAgICAgIEJhdGNo\naW5nQ29uc3RyYWludFVwZGF0ZU1hbmFnZXIuY2xhc3MuZ2V0TmFtZSgpLAog\nICAgICAgICAgICAiYmF0Y2hpbmctb3BlcmF0aW9uLW9yZGVyIiwKICAgICAg\nICAgICAgQmF0Y2hpbmdPcGVyYXRpb25PcmRlclVwZGF0ZU1hbmFnZXIuY2xh\nc3MuZ2V0TmFtZSgpLAogICAgICAgIH07CiAgICAgICAgdXBkYXRlTWFuYWdl\nclBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHVwZGF0ZU1h\nbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICB1\ncGRhdGVNYW5hZ2VyUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAg\nICAgICB1cGRhdGVNYW5hZ2VyUGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0\nZXIoImdldFVwZGF0ZU1hbmFnZXJJbnN0YW5jZSIpOwoKICAgICAgICBkcml2\nZXJEYXRhU291cmNlUGx1Z2luID0gYWRkUGx1Z2luKCJqZGJjLkRyaXZlckRh\ndGFTb3VyY2UiLCBmYWxzZSk7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBTdHJp\nbmdbXXsKICAgICAgICAgICAgInNpbXBsZSIsICJvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zY2hlbWEuU2ltcGxlRHJpdmVyRGF0YVNvdXJjZSIsCiAgICAg\nICAgfTsKICAgICAgICBkcml2ZXJEYXRhU291cmNlUGx1Z2luLnNldEFsaWFz\nZXMoYWxpYXNlcyk7CiAgICAgICAgZHJpdmVyRGF0YVNvdXJjZVBsdWdpbi5z\nZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGRyaXZlckRhdGFTb3Vy\nY2VQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwoKICAgICAgICBzY2hl\nbWFGYWN0b3J5UGx1Z2luID0gYWRkUGx1Z2luKCJqZGJjLlNjaGVtYUZhY3Rv\ncnkiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1tdewog\nICAgICAgICAgICAiZHluYW1pYyIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zY2hlbWEuRHluYW1pY1NjaGVtYUZhY3RvcnkiLAogICAgICAgICAgICAi\nbmF0aXZlIiwgIm9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5MYXp5\nU2NoZW1hRmFjdG9yeSIsCiAgICAgICAgICAgICJmaWxlIiwgIm9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLnNjaGVtYS5GaWxlU2NoZW1hRmFjdG9yeSIsCiAg\nICAgICAgICAgICJ0YWJsZSIsICJvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5z\nY2hlbWEuVGFibGVTY2hlbWFGYWN0b3J5IiwKICAgICAgICAgICAgLy8gZGVw\ncmVjYXRlZCBhbGlhcwogICAgICAgICAgICAiZGIiLCAib3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLlRhYmxlU2NoZW1hRmFjdG9yeSIsCiAgICAg\nICAgfTsKICAgICAgICBzY2hlbWFGYWN0b3J5UGx1Z2luLnNldEFsaWFzZXMo\nYWxpYXNlcyk7CiAgICAgICAgc2NoZW1hRmFjdG9yeVBsdWdpbi5zZXREZWZh\ndWx0KGFsaWFzZXNbMF0pOwogICAgICAgIHNjaGVtYUZhY3RvcnlQbHVnaW4u\nc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIHNjaGVtYUZhY3RvcnlQ\nbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0U2NoZW1hRmFjdG9y\neUluc3RhbmNlIik7CgogICAgICAgIHNxbEZhY3RvcnlQbHVnaW4gPSBhZGRQ\nbHVnaW4oImpkYmMuU1FMRmFjdG9yeSIsIHRydWUpOwogICAgICAgIGFsaWFz\nZXMgPSBuZXcgU3RyaW5nW117CiAgICAgICAgICAgICJkZWZhdWx0IiwgIm9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TUUxGYWN0b3J5SW1wbCIsCiAg\nICAgICAgfTsKICAgICAgICBzcWxGYWN0b3J5UGx1Z2luLnNldEFsaWFzZXMo\nYWxpYXNlcyk7CiAgICAgICAgc3FsRmFjdG9yeVBsdWdpbi5zZXREZWZhdWx0\nKGFsaWFzZXNbMF0pOwogICAgICAgIHNxbEZhY3RvcnlQbHVnaW4uc2V0U3Ry\naW5nKGFsaWFzZXNbMF0pOwogICAgICAgIHNxbEZhY3RvcnlQbHVnaW4uc2V0\nSW5zdGFudGlhdGluZ0dldHRlcigiZ2V0U1FMRmFjdG9yeUluc3RhbmNlIik7\nCgogICAgICAgIG1hcHBpbmdGYWN0b3J5UGx1Z2luID0gbmV3IE1hcHBpbmdG\nYWN0b3J5VmFsdWUoImpkYmMuTWFwcGluZ0ZhY3RvcnkiKTsKICAgICAgICBh\nZGRWYWx1ZShtYXBwaW5nRmFjdG9yeVBsdWdpbik7CgogICAgICAgIG1hcHBp\nbmdEZWZhdWx0c1BsdWdpbiA9IGFkZFBsdWdpbigiamRiYy5NYXBwaW5nRGVm\nYXVsdHMiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0cmluZ1td\newogICAgICAgICAgICAiZGVmYXVsdCIsICJvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5tZXRhLk1hcHBpbmdEZWZhdWx0c0ltcGwiLAogICAgICAgIH07CiAg\nICAgICAgbWFwcGluZ0RlZmF1bHRzUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNl\ncyk7CiAgICAgICAgbWFwcGluZ0RlZmF1bHRzUGx1Z2luLnNldERlZmF1bHQo\nYWxpYXNlc1swXSk7CiAgICAgICAgbWFwcGluZ0RlZmF1bHRzUGx1Z2luLnNl\ndFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBtYXBwaW5nRGVmYXVsdHNQ\nbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcgogICAgICAgICAgICAoImdl\ndE1hcHBpbmdEZWZhdWx0c0luc3RhbmNlIik7CgogICAgICAgIC8vIHNldCB1\ncCBicm9rZXIgZmFjdG9yeSBkZWZhdWx0cwogICAgICAgIGJyb2tlckZhY3Rv\ncnlQbHVnaW4uc2V0QWxpYXMoImpkYmMiLCBKREJDQnJva2VyRmFjdG9yeS5j\nbGFzcy5nZXROYW1lKCkpOwogICAgICAgIGJyb2tlckZhY3RvcnlQbHVnaW4u\nc2V0RGVmYXVsdCgiamRiYyIpOwogICAgICAgIGJyb2tlckZhY3RvcnlQbHVn\naW4uc2V0U3RyaW5nKCJqZGJjIik7CgogICAgICAgIC8vIHNldCBuZXcgZGVm\nYXVsdCBmb3IgbWFwcGluZyByZXBvcwogICAgICAgIG1ldGFSZXBvc2l0b3J5\nUGx1Z2luLnNldEFsaWFzKCJkZWZhdWx0IiwKICAgICAgICAgICAgIm9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuTWFwcGluZ1JlcG9zaXRvcnkiKTsK\nICAgICAgICBtZXRhUmVwb3NpdG9yeVBsdWdpbi5zZXREZWZhdWx0KCJkZWZh\ndWx0Iik7CiAgICAgICAgbWV0YVJlcG9zaXRvcnlQbHVnaW4uc2V0U3RyaW5n\nKCJkZWZhdWx0Iik7CgogICAgICAgIC8vIHNldCBuZXcgZGVmYXVsdCBmb3Ig\nbG9jayBtYW5hZ2VyCiAgICAgICAgbG9ja01hbmFnZXJQbHVnaW4uc2V0QWxp\nYXMoInBlc3NpbWlzdGljIiwKICAgICAgICAgICAgUGVzc2ltaXN0aWNMb2Nr\nTWFuYWdlci5jbGFzcy5nZXROYW1lKCkpOwogICAgICAgIGxvY2tNYW5hZ2Vy\nUGx1Z2luLnNldERlZmF1bHQoInBlc3NpbWlzdGljIik7CiAgICAgICAgbG9j\na01hbmFnZXJQbHVnaW4uc2V0U3RyaW5nKCJwZXNzaW1pc3RpYyIpOwoKICAg\nICAgICAvLyBuYXRpdmUgc2F2ZXBvaW50IG1hbmFnZXIgb3B0aW9ucwogICAg\nICAgIHNhdmVwb2ludE1hbmFnZXJQbHVnaW4uc2V0QWxpYXMoImpkYmMiLAog\nICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLkpE\nQkMzU2F2ZXBvaW50TWFuYWdlciIpOwoKICAgICAgICAvLyBzZXQgbmV3IGFs\naWFzZXMgYW5kIGRlZmF1bHRzIGZvciBzZXF1ZW5jZQogICAgICAgIHNlcVBs\ndWdpbi5zZXRBbGlhc2VzKEpEQkNTZXFWYWx1ZS5BTElBU0VTKTsKICAgICAg\nICBzZXFQbHVnaW4uc2V0RGVmYXVsdChKREJDU2VxVmFsdWUuQUxJQVNFU1sw\nXSk7CiAgICAgICAgc2VxUGx1Z2luLnNldFN0cmluZyhKREJDU2VxVmFsdWUu\nQUxJQVNFU1swXSk7CgogICAgICAgIC8vIHRoaXMgc3RhdGljIGluaXRpYWxp\nemVyIGlzIHRvIGdldCBwYXN0IGEgd2VpcmQKICAgICAgICAvLyBDbGFzc0Np\ncmN1bGFyaXR5RXJyb3IgdGhhdCBoYXBwZW5zIG9ubHkgdW5kZXIgSUJNJ3MK\nICAgICAgICAvLyBKREsgMS4zLjEgb24gTGludXggZnJvbSB3aXRoaW4gdGhl\nIEpSdW4gQ2xhc3NMb2FkZXI7CiAgICAgICAgLy8gd2hpbGUgZXhhY3QgY2F1\nc2VzIGFyZSB1bmtub3duLCBpdCBpcyBhbG1vc3QgY2VydGFpbmx5CiAgICAg\nICAgLy8gYSBidWcgaW4gSlJ1biwgYW5kIHdlIGNhbiBnZXQgYXJvdW5kIGl0\nIGJ5IGZvcmNpbmcKICAgICAgICAvLyBJbnN0cnVjdGlvbi5jbGFzcyB0byBi\nZSBsb2FkZWQgYW5kIGluaXRpYWxpemVkCiAgICAgICAgLy8gYmVmb3JlIFR5\ncGVkSW5zdHJ1Y3Rpb24uY2xhc3MKICAgICAgICB0cnkgeyBzZXJwLmJ5dGVj\nb2RlLmxvd2xldmVsLkVudHJ5LmNsYXNzLmdldE5hbWUoKTsgfSAKICAgICAg\nICBjYXRjaCAoVGhyb3dhYmxlIHQpIHt9CiAgICAgICAgdHJ5IHsgc2VycC5i\neXRlY29kZS5JbnN0cnVjdGlvbi5jbGFzcy5nZXROYW1lKCk7IH0gCiAgICAg\nICAgY2F0Y2ggKFRocm93YWJsZSB0KSB7fQoKICAgICAgICBzdXBwb3J0ZWRP\ncHRpb25zKCkuYWRkKE9QVElPTl9RVUVSWV9TUUwpOwogICAgICAgIHN1cHBv\ncnRlZE9wdGlvbnMoKS5hZGQoT1BUSU9OX0pEQkNfQ09OTkVDVElPTik7CiAg\nICAgICAgc3VwcG9ydGVkT3B0aW9ucygpLnJlbW92ZShPUFRJT05fVkFMVUVf\nSU5DUkVNRU5UKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zKCkucmVtb3Zl\nKE9QVElPTl9OVUxMX0NPTlRBSU5FUik7CgogICAgICAgIGlmIChkZXJpdmF0\naW9ucykKICAgICAgICAgICAgUHJvZHVjdERlcml2YXRpb25zLmJlZm9yZUNv\nbmZpZ3VyYXRpb25Mb2FkKHRoaXMpOwogICAgICAgIGlmIChsb2FkR2xvYmFs\ncykKICAgICAgICAgICAgbG9hZEdsb2JhbHMoKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIENvcHkgY29uc3RydWN0b3IKICAgICAqLwogICAgcHVibGljIEpE\nQkNDb25maWd1cmF0aW9uSW1wbChKREJDQ29uZmlndXJhdGlvbiBjb25mKSB7\nCiAgICAgICAgdGhpcyh0cnVlLCBmYWxzZSk7CiAgICAgICAgaWYgKGNvbmYg\nIT0gbnVsbCkKICAgICAgICAgICAgZnJvbVByb3BlcnRpZXMoY29uZi50b1By\nb3BlcnRpZXMoZmFsc2UpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRT\nY2hlbWEoU3RyaW5nIHNjaGVtYSkgewogICAgICAgIHRoaXMuc2NoZW1hLnNl\ndFN0cmluZyhzY2hlbWEpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nU2NoZW1hKCkgewogICAgICAgIHJldHVybiBzY2hlbWEuZ2V0U3RyaW5nKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U2NoZW1hcyhTdHJpbmcgc2No\nZW1hcykgewogICAgICAgIHRoaXMuc2NoZW1hcy5zZXRTdHJpbmcoc2NoZW1h\ncyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTY2hlbWFzKCkgewog\nICAgICAgIHJldHVybiBzY2hlbWFzLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldFNjaGVtYXMoU3RyaW5nW10gc2NoZW1hcykgewog\nICAgICAgIHRoaXMuc2NoZW1hcy5zZXQoc2NoZW1hcyk7CiAgICB9CgogICAg\ncHVibGljIFN0cmluZ1tdIGdldFNjaGVtYXNMaXN0KCkgewogICAgICAgIHJl\ndHVybiBzY2hlbWFzLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndFRyYW5zYWN0aW9uSXNvbGF0aW9uKFN0cmluZyB0cmFuc2FjdGlvbklzb2xh\ndGlvbikgewogICAgICAgIHRoaXMudHJhbnNhY3Rpb25Jc29sYXRpb24uc2V0\nU3RyaW5nKHRyYW5zYWN0aW9uSXNvbGF0aW9uKTsKICAgIH0KCiAgICBwdWJs\naWMgU3RyaW5nIGdldFRyYW5zYWN0aW9uSXNvbGF0aW9uKCkgewogICAgICAg\nIHJldHVybiB0cmFuc2FjdGlvbklzb2xhdGlvbi5nZXRTdHJpbmcoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUcmFuc2FjdGlvbklzb2xhdGlvbihp\nbnQgdHJhbnNhY3Rpb25Jc29sYXRpb24pIHsKICAgICAgICB0aGlzLnRyYW5z\nYWN0aW9uSXNvbGF0aW9uLnNldCh0cmFuc2FjdGlvbklzb2xhdGlvbik7CiAg\nICB9CgogICAgcHVibGljIGludCBnZXRUcmFuc2FjdGlvbklzb2xhdGlvbkNv\nbnN0YW50KCkgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbklzb2xhdGlv\nbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRSZXN1bHRTZXRU\neXBlKFN0cmluZyByZXN1bHRTZXRUeXBlKSB7CiAgICAgICAgdGhpcy5yZXN1\nbHRTZXRUeXBlLnNldFN0cmluZyhyZXN1bHRTZXRUeXBlKTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nIGdldFJlc3VsdFNldFR5cGUoKSB7CiAgICAgICAg\ncmV0dXJuIHJlc3VsdFNldFR5cGUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0UmVzdWx0U2V0VHlwZShpbnQgcmVzdWx0U2V0VHlw\nZSkgewogICAgICAgIHRoaXMucmVzdWx0U2V0VHlwZS5zZXQocmVzdWx0U2V0\nVHlwZSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRSZXN1bHRTZXRUeXBl\nQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIHJlc3VsdFNldFR5cGUuZ2V0\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0RmV0Y2hEaXJlY3Rpb24o\nU3RyaW5nIGZldGNoRGlyZWN0aW9uKSB7CiAgICAgICAgdGhpcy5mZXRjaERp\ncmVjdGlvbi5zZXRTdHJpbmcoZmV0Y2hEaXJlY3Rpb24pOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0RmV0Y2hEaXJlY3Rpb24oKSB7CiAgICAgICAg\ncmV0dXJuIGZldGNoRGlyZWN0aW9uLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldEZldGNoRGlyZWN0aW9uKGludCBmZXRjaERpcmVj\ndGlvbikgewogICAgICAgIHRoaXMuZmV0Y2hEaXJlY3Rpb24uc2V0KGZldGNo\nRGlyZWN0aW9uKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldEZldGNoRGly\nZWN0aW9uQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJuIGZldGNoRGlyZWN0\naW9uLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEVhZ2VyRmV0\nY2hNb2RlKFN0cmluZyBlYWdlckZldGNoTW9kZSkgewogICAgICAgIHRoaXMu\nZWFnZXJGZXRjaE1vZGUuc2V0U3RyaW5nKGVhZ2VyRmV0Y2hNb2RlKTsKICAg\nIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEVhZ2VyRmV0Y2hNb2RlKCkgewog\nICAgICAgIHJldHVybiBlYWdlckZldGNoTW9kZS5nZXRTdHJpbmcoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRFYWdlckZldGNoTW9kZShpbnQgZWFn\nZXJGZXRjaE1vZGUpIHsKICAgICAgICB0aGlzLmVhZ2VyRmV0Y2hNb2RlLnNl\ndChlYWdlckZldGNoTW9kZSk7CiAgICB9CgogICAgcHVibGljIGludCBnZXRF\nYWdlckZldGNoTW9kZUNvbnN0YW50KCkgewogICAgICAgIHJldHVybiBlYWdl\nckZldGNoTW9kZS5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRT\ndWJjbGFzc0ZldGNoTW9kZShTdHJpbmcgc3ViY2xhc3NGZXRjaE1vZGUpIHsK\nICAgICAgICB0aGlzLnN1YmNsYXNzRmV0Y2hNb2RlLnNldFN0cmluZyhzdWJj\nbGFzc0ZldGNoTW9kZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRT\ndWJjbGFzc0ZldGNoTW9kZSgpIHsKICAgICAgICByZXR1cm4gc3ViY2xhc3NG\nZXRjaE1vZGUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0U3ViY2xhc3NGZXRjaE1vZGUoaW50IHN1YmNsYXNzRmV0Y2hNb2RlKSB7\nCiAgICAgICAgdGhpcy5zdWJjbGFzc0ZldGNoTW9kZS5zZXQoc3ViY2xhc3NG\nZXRjaE1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0U3ViY2xhc3NG\nZXRjaE1vZGVDb25zdGFudCgpIHsKICAgICAgICByZXR1cm4gc3ViY2xhc3NG\nZXRjaE1vZGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TFJT\nU2l6ZShTdHJpbmcgbHJzU2l6ZSkgewogICAgICAgIHRoaXMubHJzU2l6ZS5z\nZXRTdHJpbmcobHJzU2l6ZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRMUlNTaXplKCkgewogICAgICAgIHJldHVybiBscnNTaXplLmdldFN0cmlu\nZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldExSU1NpemUoaW50IGxy\nc1NpemUpIHsKICAgICAgICB0aGlzLmxyc1NpemUuc2V0KGxyc1NpemUpOwog\nICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0TFJTU2l6ZUNvbnN0YW50KCkgewog\nICAgICAgIHJldHVybiBscnNTaXplLmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFN5bmNocm9uaXplTWFwcGluZ3MoU3RyaW5nIHN5bmNocm9u\naXplTWFwcGluZ3MpIHsKICAgICAgICB0aGlzLnN5bmNocm9uaXplTWFwcGlu\nZ3Muc2V0KHN5bmNocm9uaXplTWFwcGluZ3MpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0U3luY2hyb25pemVNYXBwaW5ncygpIHsKICAgICAgICBy\nZXR1cm4gc3luY2hyb25pemVNYXBwaW5ncy5nZXQoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRKREJDTGlzdGVuZXJzKFN0cmluZyBqZGJjTGlzdGVu\nZXJzKSB7CiAgICAgICAgamRiY0xpc3RlbmVyUGx1Z2lucy5zZXRTdHJpbmco\namRiY0xpc3RlbmVycyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRK\nREJDTGlzdGVuZXJzKCkgewogICAgICAgIHJldHVybiBqZGJjTGlzdGVuZXJQ\nbHVnaW5zLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndEpEQkNMaXN0ZW5lcnMoSkRCQ0xpc3RlbmVyW10gbGlzdGVuZXJzKSB7CiAg\nICAgICAgamRiY0xpc3RlbmVyUGx1Z2lucy5zZXQobGlzdGVuZXJzKTsKICAg\nIH0KCiAgICBwdWJsaWMgSkRCQ0xpc3RlbmVyW10gZ2V0SkRCQ0xpc3RlbmVy\nSW5zdGFuY2VzKCkgewogICAgICAgIGlmIChqZGJjTGlzdGVuZXJQbHVnaW5z\nLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIGpkYmNMaXN0ZW5lclBsdWdp\nbnMuaW5zdGFudGlhdGUoSkRCQ0xpc3RlbmVyLmNsYXNzLCB0aGlzKTsKICAg\nICAgICByZXR1cm4gKEpEQkNMaXN0ZW5lcltdKSBqZGJjTGlzdGVuZXJQbHVn\naW5zLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbm5lY3Rp\nb25EZWNvcmF0b3JzKFN0cmluZyBjb25uZWN0aW9uRGVjb3JhdG9ycykgewog\nICAgICAgIGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVnaW5zLnNldFN0cmluZyhj\nb25uZWN0aW9uRGVjb3JhdG9ycyk7CiAgICB9CgogICAgcHVibGljIFN0cmlu\nZyBnZXRDb25uZWN0aW9uRGVjb3JhdG9ycygpIHsKICAgICAgICByZXR1cm4g\nY29ubmVjdGlvbkRlY29yYXRvclBsdWdpbnMuZ2V0U3RyaW5nKCk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkRlY29yYXRvcnMoQ29u\nbmVjdGlvbkRlY29yYXRvcltdIGRlY29yYXRvcnMpIHsKICAgICAgICBjb25u\nZWN0aW9uRGVjb3JhdG9yUGx1Z2lucy5zZXQoZGVjb3JhdG9ycyk7CiAgICB9\nCgogICAgcHVibGljIENvbm5lY3Rpb25EZWNvcmF0b3JbXSBnZXRDb25uZWN0\naW9uRGVjb3JhdG9ySW5zdGFuY2VzKCkgewogICAgICAgIGlmIChjb25uZWN0\naW9uRGVjb3JhdG9yUGx1Z2lucy5nZXQoKSA9PSBudWxsKSB7CiAgICAgICAg\nICAgIGNvbm5lY3Rpb25EZWNvcmF0b3JQbHVnaW5zLmluc3RhbnRpYXRlCiAg\nICAgICAgICAgICAgICAoQ29ubmVjdGlvbkRlY29yYXRvci5jbGFzcywgdGhp\ncyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoQ29ubmVjdGlvbkRlY29y\nYXRvcltdKSBjb25uZWN0aW9uRGVjb3JhdG9yUGx1Z2lucy5nZXQoKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREQkRpY3Rpb25hcnkoU3RyaW5nIGRi\nZGljdGlvbmFyeSkgewogICAgICAgIGRiZGljdGlvbmFyeVBsdWdpbi5zZXRT\ndHJpbmcoZGJkaWN0aW9uYXJ5KTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIGdldERCRGljdGlvbmFyeSgpIHsKICAgICAgICByZXR1cm4gZGJkaWN0aW9u\nYXJ5UGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldERCRGljdGlvbmFyeShEQkRpY3Rpb25hcnkgZGJkaWN0aW9uYXJ5KSB7\nCiAgICAgICAgLy8gd2UgY2FuJ3QgYWxsb3cgdGhlIGRpY3Rpb25hcnkgdG8g\nYmUgc2V0IGFmdGVyIHRoZSBjb25uZWN0aW9uCiAgICAgICAgLy8gZmFjdG9y\neSwgZHVlIHRvIGluaXRpYWxpemF0aW9uIGlzc3VlcwogICAgICAgIGlmIChj\nb25uZWN0aW9uRmFjdG9yeS5nZXQoKSAhPSBudWxsCiAgICAgICAgICAgIHx8\nIGNvbm5lY3Rpb25GYWN0b3J5Mi5nZXQoKSAhPSBudWxsKQogICAgICAgICAg\nICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCk7CgogICAgICAg\nIGRiZGljdGlvbmFyeVBsdWdpbi5zZXQoZGJkaWN0aW9uYXJ5KTsKICAgIH0K\nCiAgICBwdWJsaWMgREJEaWN0aW9uYXJ5IGdldERCRGljdGlvbmFyeUluc3Rh\nbmNlKCkgewogICAgICAgIC8vIGxvY2sgb24gY29ubmVjdGlvbiBmYWN0b3J5\nIG5hbWUsIHNpbmNlIGdldHRpbmcgdGhlIGNvbm5lY3Rpb24KICAgICAgICAv\nLyBmYWN0b3J5IGFuZCBnZXR0aW5nIHRoZSBkaWN0aW9uYXJ5IGhhdmUgdG8g\ndXNlIHRoZSBzYW1lIGxvY2tzIHRvCiAgICAgICAgLy8gcHJldmVudCBkZWFk\nbG9jayBzaW5jZSB0aGV5IGNhbGwgZWFjaCBvdGhlcgogICAgICAgIERCRGlj\ndGlvbmFyeSBkYmRpY3Rpb25hcnkgPSAoREJEaWN0aW9uYXJ5KSBkYmRpY3Rp\nb25hcnlQbHVnaW4uZ2V0KCk7CiAgICAgICAgaWYgKGRiZGljdGlvbmFyeSA9\nPSBudWxsKSB7CiAgICAgICAgICAgIFN0cmluZyBjbHNOYW1lID0gZGJkaWN0\naW9uYXJ5UGx1Z2luLmdldENsYXNzTmFtZSgpOwogICAgICAgICAgICBTdHJp\nbmcgcHJvcHMgPSBkYmRpY3Rpb25hcnlQbHVnaW4uZ2V0UHJvcGVydGllcygp\nOwogICAgICAgICAgICBpZiAoIVN0cmluZ1V0aWxzLmlzRW1wdHkoY2xzTmFt\nZSkpIHsKICAgICAgICAgICAgICAgIGRiZGljdGlvbmFyeSA9IERCRGljdGlv\nbmFyeUZhY3RvcnkubmV3REJEaWN0aW9uYXJ5CiAgICAgICAgICAgICAgICAg\nICAgKHRoaXMsIGNsc05hbWUsIHByb3BzKTsKICAgICAgICAgICAgfSBlbHNl\nIHsKICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBkaWN0aW9uYXJ5IGNsYXNz\nIGlzbid0IHNldCwgdHJ5IHRvIGd1ZXNzIGZyb20KICAgICAgICAgICAgICAg\nIC8vIGNvbm5lY3Rpb24gVVJMIGFuZCBkcml2ZXIgbmFtZQogICAgICAgICAg\nICAgICAgZGJkaWN0aW9uYXJ5ID0gREJEaWN0aW9uYXJ5RmFjdG9yeS5jYWxj\ndWxhdGVEQkRpY3Rpb25hcnkKICAgICAgICAgICAgICAgICAgICAodGhpcywg\nZ2V0Q29ubmVjdGlvblVSTCgpLCBnZXRDb25uZWN0aW9uRHJpdmVyTmFtZSgp\nLAogICAgICAgICAgICAgICAgICAgICAgICBwcm9wcyk7CgogICAgICAgICAg\nICAgICAgLy8gaWYgdGhlIHVybCBhbmQgZHJpdmVyIG5hbWUgYXJlbid0IGVu\nb3VnaCwgY29ubmVjdCB0bwogICAgICAgICAgICAgICAgLy8gdGhlIERCIGFu\nZCB1c2UgdGhlIGNvbm5lY3Rpb24gbWV0YWRhdGEKICAgICAgICAgICAgICAg\nIGlmIChkYmRpY3Rpb25hcnkgPT0gbnVsbCkgewogICAgICAgICAgICAgICAg\nICAgIExvZyBsb2cgPSBnZXRMb2coTE9HX0pEQkMpOwogICAgICAgICAgICAg\nICAgICAgIGlmIChsb2cuaXNUcmFjZUVuYWJsZWQoKSkgewogICAgICAgICAg\nICAgICAgICAgICAgICBMb2NhbGl6ZXIgbG9jID0gTG9jYWxpemVyLmZvclBh\nY2thZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChKREJDQ29uZmln\ndXJhdGlvbkltcGwuY2xhc3MpOwogICAgICAgICAgICAgICAgICAgICAgICBs\nb2cudHJhY2UobG9jLmdldCgiY29ubmVjdGluZy1mb3ItZGljdGlvbmFyeSIp\nKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAg\nIC8vIHVzZSB0aGUgYmFzZSBjb25uZWN0aW9uIGZhY3RvcnkgcmF0aGVyIHRo\nYW4gdGhlCiAgICAgICAgICAgICAgICAgICAgLy8gY29uZmlndXJlZCBkYXRh\nIHNvdXJjZSBiL2MgdGhlIGRhdGEgc291cmNlIHJlbGllcwogICAgICAgICAg\nICAgICAgICAgIC8vIG9uIHBhc3NpbmcgdGhlIGNvbm5lY3Rpb24gdGhyb3Vn\naCB0aGUgZGljdGlvbmFyeSwKICAgICAgICAgICAgICAgICAgICAvLyByZXN1\nbHRpbmcgaW4gaW5maW5pdGUgbG9vcHMKICAgICAgICAgICAgICAgICAgICBE\nYXRhU291cmNlIGRzID0gY3JlYXRlQ29ubmVjdGlvbkZhY3RvcnkoKTsKICAg\nICAgICAgICAgICAgICAgICBkYmRpY3Rpb25hcnkgPSBEQkRpY3Rpb25hcnlG\nYWN0b3J5Lm5ld0RCRGljdGlvbmFyeQogICAgICAgICAgICAgICAgICAgICAg\nICAodGhpcywgZ2V0RGF0YVNvdXJjZShudWxsLCBkcyksIHByb3BzKTsKICAg\nICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBkYmRp\nY3Rpb25hcnlQbHVnaW4uc2V0KGRiZGljdGlvbmFyeSwgdHJ1ZSk7CiAgICAg\nICAgfQogICAgICAgIHJldHVybiBkYmRpY3Rpb25hcnk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0VXBkYXRlTWFuYWdlcihTdHJpbmcgdXBkYXRlTWFu\nYWdlcikgewogICAgICAgIHVwZGF0ZU1hbmFnZXJQbHVnaW4uc2V0U3RyaW5n\nKHVwZGF0ZU1hbmFnZXIpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nVXBkYXRlTWFuYWdlcigpIHsKICAgICAgICByZXR1cm4gdXBkYXRlTWFuYWdl\nclBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRVcGRhdGVNYW5hZ2VyKFVwZGF0ZU1hbmFnZXIgdXBkYXRlTWFuYWdlcikg\newogICAgICAgIHVwZGF0ZU1hbmFnZXJQbHVnaW4uc2V0KHVwZGF0ZU1hbmFn\nZXIpOwogICAgfQoKICAgIHB1YmxpYyBVcGRhdGVNYW5hZ2VyIGdldFVwZGF0\nZU1hbmFnZXJJbnN0YW5jZSgpIHsKICAgICAgICBpZiAodXBkYXRlTWFuYWdl\nclBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICB1cGRhdGVNYW5h\nZ2VyUGx1Z2luLmluc3RhbnRpYXRlKFVwZGF0ZU1hbmFnZXIuY2xhc3MsIHRo\naXMpOwogICAgICAgIHJldHVybiAoVXBkYXRlTWFuYWdlcikgdXBkYXRlTWFu\nYWdlclBsdWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRE\ncml2ZXJEYXRhU291cmNlKFN0cmluZyBkcml2ZXJEYXRhU291cmNlKSB7CiAg\nICAgICAgZHJpdmVyRGF0YVNvdXJjZVBsdWdpbi5zZXRTdHJpbmcoZHJpdmVy\nRGF0YVNvdXJjZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXREcml2\nZXJEYXRhU291cmNlKCkgewogICAgICAgIHJldHVybiBkcml2ZXJEYXRhU291\ncmNlUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyBEcml2\nZXJEYXRhU291cmNlIG5ld0RyaXZlckRhdGFTb3VyY2VJbnN0YW5jZSgpIHsK\nICAgICAgICByZXR1cm4gKERyaXZlckRhdGFTb3VyY2UpIGRyaXZlckRhdGFT\nb3VyY2VQbHVnaW4uCiAgICAgICAgICAgIGluc3RhbnRpYXRlKERyaXZlckRh\ndGFTb3VyY2UuY2xhc3MsIHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFNjaGVtYUZhY3RvcnkoU3RyaW5nIHNjaGVtYUZhY3RvcnkpIHsKICAg\nICAgICBzY2hlbWFGYWN0b3J5UGx1Z2luLnNldFN0cmluZyhzY2hlbWFGYWN0\nb3J5KTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFNjaGVtYUZhY3Rv\ncnkoKSB7CiAgICAgICAgcmV0dXJuIHNjaGVtYUZhY3RvcnlQbHVnaW4uZ2V0\nU3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U2NoZW1hRmFj\ndG9yeShTY2hlbWFGYWN0b3J5IHNjaGVtYUZhY3RvcnkpIHsKICAgICAgICBz\nY2hlbWFGYWN0b3J5UGx1Z2luLnNldChzY2hlbWFGYWN0b3J5KTsKICAgIH0K\nCiAgICBwdWJsaWMgU2NoZW1hRmFjdG9yeSBnZXRTY2hlbWFGYWN0b3J5SW5z\ndGFuY2UoKSB7CiAgICAgICAgaWYgKHNjaGVtYUZhY3RvcnlQbHVnaW4uZ2V0\nKCkgPT0gbnVsbCkKICAgICAgICAgICAgc2NoZW1hRmFjdG9yeVBsdWdpbi5p\nbnN0YW50aWF0ZShTY2hlbWFGYWN0b3J5LmNsYXNzLCB0aGlzKTsKICAgICAg\nICByZXR1cm4gKFNjaGVtYUZhY3RvcnkpIHNjaGVtYUZhY3RvcnlQbHVnaW4u\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0U1FMRmFjdG9yeShT\ndHJpbmcgc3FsRmFjdG9yeSkgewogICAgICAgIHNxbEZhY3RvcnlQbHVnaW4u\nc2V0U3RyaW5nKHNxbEZhY3RvcnkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0U1FMRmFjdG9yeSgpIHsKICAgICAgICByZXR1cm4gc3FsRmFjdG9y\neVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRTUUxGYWN0b3J5KFNRTEZhY3Rvcnkgc3FsRmFjdG9yeSkgewogICAgICAg\nIHNxbEZhY3RvcnlQbHVnaW4uc2V0KHNxbEZhY3RvcnkpOwogICAgfQoKICAg\nIHB1YmxpYyBTUUxGYWN0b3J5IGdldFNRTEZhY3RvcnlJbnN0YW5jZSgpIHsK\nICAgICAgICBpZiAoc3FsRmFjdG9yeVBsdWdpbi5nZXQoKSA9PSBudWxsKQog\nICAgICAgICAgICBzcWxGYWN0b3J5UGx1Z2luLmluc3RhbnRpYXRlKFNRTEZh\nY3RvcnkuY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAoU1FMRmFjdG9y\neSkgc3FsRmFjdG9yeVBsdWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMg\nU3RyaW5nIGdldE1hcHBpbmdGYWN0b3J5KCkgewogICAgICAgIHJldHVybiBt\nYXBwaW5nRmFjdG9yeVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRNYXBwaW5nRmFjdG9yeShTdHJpbmcgbWFwcGluZykg\newogICAgICAgIG1hcHBpbmdGYWN0b3J5UGx1Z2luLnNldFN0cmluZyhtYXBw\naW5nKTsKICAgIH0KCiAgICBwdWJsaWMgTWV0YURhdGFGYWN0b3J5IG5ld01l\ndGFEYXRhRmFjdG9yeUluc3RhbmNlKCkgewogICAgICAgIHJldHVybiBtYXBw\naW5nRmFjdG9yeVBsdWdpbi5pbnN0YW50aWF0ZU1ldGFEYXRhRmFjdG9yeSh0\naGlzLAogICAgICAgICAgICBtZXRhRmFjdG9yeVBsdWdpbiwgZ2V0TWFwcGlu\nZygpKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRNYXBwaW5nRGVmYXVs\ndHMoU3RyaW5nIG1hcHBpbmcpIHsKICAgICAgICB0aGlzLm1hcHBpbmdEZWZh\ndWx0c1BsdWdpbi5zZXRTdHJpbmcobWFwcGluZyk7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyBnZXRNYXBwaW5nRGVmYXVsdHMoKSB7CiAgICAgICAgcmV0\ndXJuIG1hcHBpbmdEZWZhdWx0c1BsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRNYXBwaW5nRGVmYXVsdHMoTWFwcGluZ0Rl\nZmF1bHRzIG1hcHBpbmcpIHsKICAgICAgICBtYXBwaW5nRGVmYXVsdHNQbHVn\naW4uc2V0KG1hcHBpbmcpOwogICAgfQoKICAgIHB1YmxpYyBNYXBwaW5nRGVm\nYXVsdHMgZ2V0TWFwcGluZ0RlZmF1bHRzSW5zdGFuY2UoKSB7CiAgICAgICAg\naWYgKG1hcHBpbmdEZWZhdWx0c1BsdWdpbi5nZXQoKSA9PSBudWxsKQogICAg\nICAgICAgICBtYXBwaW5nRGVmYXVsdHNQbHVnaW4uaW5zdGFudGlhdGUoTWFw\ncGluZ0RlZmF1bHRzLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKE1h\ncHBpbmdEZWZhdWx0cykgbWFwcGluZ0RlZmF1bHRzUGx1Z2luLmdldCgpOwog\nICAgfQoKICAgIHB1YmxpYyBNYXBwaW5nUmVwb3NpdG9yeSBnZXRNYXBwaW5n\nUmVwb3NpdG9yeUluc3RhbmNlKCkgewogICAgICAgIHJldHVybiAoTWFwcGlu\nZ1JlcG9zaXRvcnkpIGdldE1ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCk7\nCiAgICB9CgogICAgcHVibGljIE1hcHBpbmdSZXBvc2l0b3J5IG5ld01hcHBp\nbmdSZXBvc2l0b3J5SW5zdGFuY2UoKSB7CiAgICAgICAgcmV0dXJuIChNYXBw\naW5nUmVwb3NpdG9yeSkgbmV3TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2Uo\nKTsKICAgIH0KCiAgICBwdWJsaWMgQnJva2VySW1wbCBuZXdCcm9rZXJJbnN0\nYW5jZShTdHJpbmcgdXNlciwgU3RyaW5nIHBhc3MpIHsKICAgICAgICBCcm9r\nZXJJbXBsIGJyb2tlciA9IHN1cGVyLm5ld0Jyb2tlckluc3RhbmNlKHVzZXIs\nIHBhc3MpOwoKICAgICAgICAvLyByZWNvcmQgZmlyc3Qgbm9uLW51bGwgYnJv\na2VyIHVzZXIgYW5kIHBhc3MgaW4gY2FzZSBubyBnbG9iYWwgc2V0dGluZ3MK\nICAgICAgICBpZiAoYnJva2VyICE9IG51bGwgJiYgdXNlciAhPSBudWxsICYm\nIGZpcnN0VXNlciA9PSBudWxsKSB7CiAgICAgICAgICAgIGZpcnN0VXNlciA9\nIHVzZXI7CiAgICAgICAgICAgIGZpcnN0UGFzcyA9IHBhc3M7CiAgICAgICAg\nfQogICAgICAgIHJldHVybiBicm9rZXI7CiAgICB9CgogICAgcHVibGljIE9i\namVjdCBnZXRDb25uZWN0aW9uRmFjdG9yeSgpIHsKICAgICAgICAvLyBvdmVy\ncmlkZSB0byBjb25maWd1cmUgZGF0YSBzb3VyY2UKICAgICAgICBpZiAoZGF0\nYVNvdXJjZSA9PSBudWxsKSB7CiAgICAgICAgICAgIERlY29yYXRpbmdEYXRh\nU291cmNlIGRzID0gY3JlYXRlQ29ubmVjdGlvbkZhY3RvcnkoKTsKICAgICAg\nICAgICAgZGF0YVNvdXJjZSA9IERhdGFTb3VyY2VGYWN0b3J5Lmluc3RhbGxE\nQkRpY3Rpb25hcnkKICAgICAgICAgICAgICAgIChnZXREQkRpY3Rpb25hcnlJ\nbnN0YW5jZSgpLCBkcywgdGhpcywgZmFsc2UpOwogICAgICAgIH0KICAgICAg\nICByZXR1cm4gZGF0YVNvdXJjZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRDb25uZWN0aW9uRmFjdG9yeShPYmplY3QgZmFjdG9yeSkgewogICAgICAg\nIC8vIHRoZXJlJ3MgYSBsb3Qgb2Ygb25lLXRpbWUgaW5pdGlhbGl6YXRpb24g\naW52b2x2ZWQgZm9yCiAgICAgICAgLy8gY29ubmVjdGlvbiBmYWN0b3JpZXMs\nIHNvIGlnbm9yZSByZXNldHMKICAgICAgICBpZiAoZmFjdG9yeSA9PSBjb25u\nZWN0aW9uRmFjdG9yeS5nZXQoKSkKICAgICAgICAgICAgcmV0dXJuOwoKICAg\nICAgICAvLyBvdmVycmlkZSB0byBjb25maWd1cmUgZGF0YSBzb3VyY2UKICAg\nICAgICBpZiAoZmFjdG9yeSAhPSBudWxsKSB7CiAgICAgICAgICAgIC8vIG5l\nZWQgdG8gZW5zdXJlIGl0IGlzIGRlY29yYXRlZCBiZWZvcmUgd2Ugc2V0IHRo\nZSBkaWN0CiAgICAgICAgICAgIERlY29yYXRpbmdEYXRhU291cmNlIGRzID0K\nICAgICAgICAgICAgICAgIHNldHVwQ29ubmVjdGlvbkZhY3RvcnkoKERhdGFT\nb3VyY2UpIGZhY3RvcnksIGZhbHNlKTsKICAgICAgICAgICAgZGF0YVNvdXJj\nZSA9IERhdGFTb3VyY2VGYWN0b3J5Lmluc3RhbGxEQkRpY3Rpb25hcnkKICAg\nICAgICAgICAgICAgIChnZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgpLCBkcywg\ndGhpcywgZmFsc2UpOwogICAgICAgIH0gZWxzZQogICAgICAgICAgICBjb25u\nZWN0aW9uRmFjdG9yeS5zZXQobnVsbCk7CiAgICB9CgogICAgLyoqCiAgICAg\nKiBFbnN1cmUgdGhhdCB0aGUgc3BlY2lmaWVkIERhdGFTb3VyY2UgaXMgZGVj\nb3JhdGVkIGFuZCBzZXQgaW4gdGhlIGNhY2hlLgogICAgICovCiAgICBwcml2\nYXRlIERlY29yYXRpbmdEYXRhU291cmNlIHNldHVwQ29ubmVjdGlvbkZhY3Rv\ncnkoRGF0YVNvdXJjZSBkcywKICAgICAgICBib29sZWFuIGZhY3RvcnkyKSB7\nCiAgICAgICAgaWYgKGRzID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBu\ndWxsOwoKICAgICAgICBEZWNvcmF0aW5nRGF0YVNvdXJjZSBkZHM7CiAgICAg\nICAgaWYgKGRzIGluc3RhbmNlb2YgRGVjb3JhdGluZ0RhdGFTb3VyY2UpCiAg\nICAgICAgICAgIGRkcyA9IChEZWNvcmF0aW5nRGF0YVNvdXJjZSkgZHM7CiAg\nICAgICAgZWxzZQogICAgICAgICAgICBkZHMgPSBEYXRhU291cmNlRmFjdG9y\neS5kZWNvcmF0ZURhdGFTb3VyY2UoZHMsIHRoaXMsIGZhY3RvcnkyKTsKCiAg\nICAgICAgaWYgKCFmYWN0b3J5MiAmJiBjb25uZWN0aW9uRmFjdG9yeS5nZXQo\nKSAhPSBkcykKICAgICAgICAgICAgY29ubmVjdGlvbkZhY3Rvcnkuc2V0KGRk\ncywgdHJ1ZSk7CiAgICAgICAgZWxzZSBpZiAoZmFjdG9yeTIgJiYgY29ubmVj\ndGlvbkZhY3RvcnkyLmdldCgpICE9IGRzKQogICAgICAgICAgICBjb25uZWN0\naW9uRmFjdG9yeTIuc2V0KGRkcywgdHJ1ZSk7CgogICAgICAgIHJldHVybiBk\nZHM7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRDb25uZWN0aW9uRmFj\ndG9yeTIoKSB7CiAgICAgICAgLy8gb3ZlcnJpZGUgdG8gY29uZmlndXJlIGRh\ndGEgc291cmNlCiAgICAgICAgaWYgKGRhdGFTb3VyY2UyID09IG51bGwpIHsK\nICAgICAgICAgICAgLy8gc3VwZXJjbGFzcyB3aWxsIGxvb2t1cCBmcm9tIEpO\nREkuIAogICAgICAgICAgICBEYXRhU291cmNlIGRzID0gKERhdGFTb3VyY2Up\nIHN1cGVyLmdldENvbm5lY3Rpb25GYWN0b3J5MigpOwogICAgICAgICAgICBp\nZiAoZHMgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgLy8gdGhlIGRyaXZl\nciBuYW1lIGlzIGFsd2F5cyByZXF1aXJlZCwgc28gaWYgbm90IHNwZWNpZmll\nZCwKICAgICAgICAgICAgICAgIC8vIHRoZW4gbm8gY29ubmVjdGlvbiBmYWN0\nb3J5IDIKICAgICAgICAgICAgICAgIFN0cmluZyBkcml2ZXIgPSBnZXRDb25u\nZWN0aW9uMkRyaXZlck5hbWUoKTsKICAgICAgICAgICAgICAgIGlmICghU3Ry\naW5nVXRpbHMuaXNFbXB0eShkcml2ZXIpKQogICAgICAgICAgICAgICAgICAg\nIGRzID0gRGF0YVNvdXJjZUZhY3RvcnkubmV3RGF0YVNvdXJjZSh0aGlzLCB0\ncnVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZHMgIT0gbnVs\nbCkgewogICAgICAgICAgICAgICAgRGVjb3JhdGluZ0RhdGFTb3VyY2UgZGRz\nID0KICAgICAgICAgICAgICAgICAgICBzZXR1cENvbm5lY3Rpb25GYWN0b3J5\nKGRzLCB0cnVlKTsgLy8gYmVmb3JlIGRpY3QKICAgICAgICAgICAgICAgIGRh\ndGFTb3VyY2UyID0gRGF0YVNvdXJjZUZhY3RvcnkuaW5zdGFsbERCRGljdGlv\nbmFyeQogICAgICAgICAgICAgICAgICAgIChnZXREQkRpY3Rpb25hcnlJbnN0\nYW5jZSgpLCBkZHMsIHRoaXMsIHRydWUpOwogICAgICAgICAgICB9CiAgICAg\nICAgfQogICAgICAgIHJldHVybiBkYXRhU291cmNlMjsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRmFjdG9yeTIoT2JqZWN0IGZhY3Rv\ncnkpIHsKICAgICAgICBpZiAoZmFjdG9yeSA9PSBjb25uZWN0aW9uRmFjdG9y\neTIuZ2V0KCkpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgLy8gb3Zl\ncnJpZGUgdG8gY29uZmlndXJlIGRhdGEgc291cmNlCiAgICAgICAgaWYgKGZh\nY3RvcnkgIT0gbnVsbCkgewogICAgICAgICAgICAvLyBuZWVkIHRvIGVuc3Vy\nZSBpdCBpcyBkZWNvcmF0ZWQgYmVmb3JlIHdlIHNldCB0aGUgZGljdAogICAg\nICAgICAgICBEZWNvcmF0aW5nRGF0YVNvdXJjZSBkcyA9IHNldHVwQ29ubmVj\ndGlvbkZhY3RvcnkoKERhdGFTb3VyY2UpCiAgICAgICAgICAgICAgICBmYWN0\nb3J5LCB0cnVlKTsKICAgICAgICAgICAgZGF0YVNvdXJjZTIgPSBEYXRhU291\ncmNlRmFjdG9yeS5pbnN0YWxsREJEaWN0aW9uYXJ5CiAgICAgICAgICAgICAg\nICAoZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKSwgZHMsIHRoaXMsIHRydWUp\nOwogICAgICAgIH0gZWxzZQogICAgICAgICAgICBjb25uZWN0aW9uRmFjdG9y\neTIuc2V0KG51bGwpOwogICAgfQoKICAgIC8qKgogICAgICogQ3JlYXRlIHRo\nZSBjb25uZWN0aW9uIGZhY3RvcnkgaWYgbmVjZXNzYXJ5LgogICAgICovCiAg\nICBwcml2YXRlIERlY29yYXRpbmdEYXRhU291cmNlIGNyZWF0ZUNvbm5lY3Rp\nb25GYWN0b3J5KCkgewogICAgICAgIERhdGFTb3VyY2UgZHMgPSAoRGF0YVNv\ndXJjZSkgY29ubmVjdGlvbkZhY3RvcnkuZ2V0KCk7CiAgICAgICAgaWYgKGRz\nICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBzZXR1cENvbm5lY3Rpb25G\nYWN0b3J5KGRzLCBmYWxzZSk7CgogICAgICAgIGRzID0gKERhdGFTb3VyY2Up\nIHN1cGVyLmdldENvbm5lY3Rpb25GYWN0b3J5KCk7IC8vIEpOREkgbG9va3Vw\nCiAgICAgICAgaWYgKGRzID09IG51bGwpCiAgICAgICAgICAgIGRzID0gRGF0\nYVNvdXJjZUZhY3RvcnkubmV3RGF0YVNvdXJjZSh0aGlzLCBmYWxzZSk7Cgog\nICAgICAgIHJldHVybiBzZXR1cENvbm5lY3Rpb25GYWN0b3J5KGRzLCBmYWxz\nZSk7CiAgICB9CgogICAgcHVibGljIERhdGFTb3VyY2UgZ2V0RGF0YVNvdXJj\nZShTdG9yZUNvbnRleHQgY3R4KSB7CiAgICAgICAgcmV0dXJuIGdldERhdGFT\nb3VyY2UoY3R4LCAoRGF0YVNvdXJjZSkgZ2V0Q29ubmVjdGlvbkZhY3Rvcnko\nKSk7CiAgICB9CgogICAgcHVibGljIERhdGFTb3VyY2UgZ2V0RGF0YVNvdXJj\nZTIoU3RvcmVDb250ZXh0IGN0eCkgewogICAgICAgIC8vIGlmIHRoZXJlIGlz\nIG5vIGNvbm5lY3Rpb24gZmFjdG9yeSAyLCB1c2UgdGhlIHByaW1hcnkgZmFj\ndG9yeQogICAgICAgIERhdGFTb3VyY2UgZHMgPSAoRGF0YVNvdXJjZSkgZ2V0\nQ29ubmVjdGlvbkZhY3RvcnkyKCk7CiAgICAgICAgaWYgKGRzID09IG51bGwp\nCiAgICAgICAgICAgIHJldHVybiBnZXREYXRhU291cmNlKGN0eCk7CgogICAg\nICAgIC8vIHByZWZlciB0aGUgZ2xvYmFsIGNvbm5lY3Rpb24gMiBhdXRoIGlu\nZm8gaWYgZ2l2ZW4KICAgICAgICBTdHJpbmcgdXNlciA9IGdldENvbm5lY3Rp\nb24yVXNlck5hbWUoKTsKICAgICAgICBTdHJpbmcgcGFzcyA9IGdldENvbm5l\nY3Rpb24yUGFzc3dvcmQoKTsKICAgICAgICBpZiAodXNlciA9PSBudWxsICYm\nIHBhc3MgPT0gbnVsbCkgewogICAgICAgICAgICAvLyBubyBnbG9iYWwgYXV0\naCBpbmZvOyB1c2UgdGhlIGNvbnRleHQgaWYgZ2l2ZW4sIG9yIHRoZSBmaXJz\ndAogICAgICAgICAgICAvLyBjb250ZXh0IGlmIG5vdAogICAgICAgICAgICBp\nZiAoY3R4ID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHVzZXIgPSBmaXJz\ndFVzZXI7CiAgICAgICAgICAgICAgICBwYXNzID0gZmlyc3RQYXNzOwogICAg\nICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdXNlciA9IGN0eC5n\nZXRDb25uZWN0aW9uVXNlck5hbWUoKTsKICAgICAgICAgICAgICAgIHBhc3Mg\nPSBjdHguZ2V0Q29ubmVjdGlvblBhc3N3b3JkKCk7CiAgICAgICAgICAgIH0K\nICAgICAgICB9CiAgICAgICAgcmV0dXJuIERhdGFTb3VyY2VGYWN0b3J5LmRl\nZmF1bHRzRGF0YVNvdXJjZShkcywgdXNlciwgcGFzcyk7CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUaGlzIHZlcnNpb24gYWxsb3dzIHVzIHRvIHBhc3MgaW4g\nd2hpY2ggZGF0YSBzb3VyY2UgdG8gd3JhcCBpbnRlcm5hbGx5OwogICAgICog\ndXNlZnVsIGR1cmluZyBpbml0aWFsaXphdGlvbiBiZWZvcmUgdGhlIGNvbm5l\nY3Rpb24gZmFjdG9yeSBpcwogICAgICogY29tcGxldGVseSBjb25maWd1cmVk\nLgogICAgICovCiAgICBwcml2YXRlIERhdGFTb3VyY2UgZ2V0RGF0YVNvdXJj\nZShTdG9yZUNvbnRleHQgY3R4LCBEYXRhU291cmNlIGRzKSB7CiAgICAgICAg\nU3RyaW5nIHVzZXIsIHBhc3M7CiAgICAgICAgaWYgKGN0eCA9PSBudWxsKSB7\nCiAgICAgICAgICAgIC8vIGlmIG5vIGNvbnRleHQsIGRlZmF1bHQgdG8gdGhl\nIGdsb2JhbCBhdXRoIGluZm8sIG9yIHRoZSBhdXRoIGluZm8KICAgICAgICAg\nICAgLy8gb2YgdGhlIGZpcnN0IGNvbnRleHQgaWYgbm9uZQogICAgICAgICAg\nICB1c2VyID0gZ2V0Q29ubmVjdGlvblVzZXJOYW1lKCk7CiAgICAgICAgICAg\nIGlmICh1c2VyID09IG51bGwpCiAgICAgICAgICAgICAgICB1c2VyID0gZmly\nc3RVc2VyOwogICAgICAgICAgICBwYXNzID0gZ2V0Q29ubmVjdGlvblBhc3N3\nb3JkKCk7CiAgICAgICAgICAgIGlmIChwYXNzID09IG51bGwpCiAgICAgICAg\nICAgICAgICBwYXNzID0gZmlyc3RQYXNzOwogICAgICAgIH0gZWxzZSB7CiAg\nICAgICAgICAgIC8vIHVzZSB0aGUgY29udGV4dCdzIGF1dGggaW5mbwogICAg\nICAgICAgICB1c2VyID0gY3R4LmdldENvbm5lY3Rpb25Vc2VyTmFtZSgpOwog\nICAgICAgICAgICBwYXNzID0gY3R4LmdldENvbm5lY3Rpb25QYXNzd29yZCgp\nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gRGF0YVNvdXJjZUZhY3Rvcnku\nZGVmYXVsdHNEYXRhU291cmNlKGRzLCB1c2VyLCBwYXNzKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEZyZWUgdGhlIGRhdGEgc291cmNlcy4KICAgICAqLwog\nICAgcHJvdGVjdGVkIHZvaWQgcHJlQ2xvc2UoKSB7CiAgICAgICAgaWYgKGRh\ndGFTb3VyY2UgIT0gbnVsbCkgewogICAgICAgICAgICBnZXREQkRpY3Rpb25h\ncnlJbnN0YW5jZSgpLmNsb3NlRGF0YVNvdXJjZShkYXRhU291cmNlKTsKICAg\nICAgICAgICAgY29ubmVjdGlvbkZhY3Rvcnkuc2V0KG51bGwsIHRydWUpOyAv\nLyBzbyBzdXBlciBkb2Vzbid0IGNsb3NlIGl0CiAgICAgICAgfQogICAgICAg\nIGlmIChkYXRhU291cmNlMiAhPSBudWxsKSB7CiAgICAgICAgICAgIGdldERC\nRGljdGlvbmFyeUluc3RhbmNlKCkuY2xvc2VEYXRhU291cmNlKGRhdGFTb3Vy\nY2UpOwogICAgICAgICAgICBjb25uZWN0aW9uRmFjdG9yeTIuc2V0KG51bGws\nIHRydWUpOyAvLyBzbyBzdXBlciBkb2Vzbid0IGNsb3NlIGl0CiAgICAgICAg\nfQogICAgICAgIHN1cGVyLnByZUNsb3NlKCk7CiAgICB9CgogICAgcHJvdGVj\ndGVkIGJvb2xlYW4gaXNJbnZhbGlkUHJvcGVydHkoU3RyaW5nIHByb3BOYW1l\nKSB7CiAgICAgICAgaWYgKHN1cGVyLmlzSW52YWxpZFByb3BlcnR5KHByb3BO\nYW1lKSkKICAgICAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICAgIC8vIGhh\nbmRsZSBvcGVuanBhLmpkYmMuU29tZU1pc3NwZWxsZWRQcm9wZXJ0eSwgYnV0\nIG5vdAogICAgICAgIC8vIG9wZW5qcGEuc29tZW90aGVyaW1wbGVtZW50YXRp\nb24uU29tZVByb3BlcnR5CiAgICAgICAgU3RyaW5nW10gcHJlZml4ZXMgPSBQ\ncm9kdWN0RGVyaXZhdGlvbnMuZ2V0Q29uZmlndXJhdGlvblByZWZpeGVzKCk7\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7\nIGkrKykKICAgICAgICAgICAgaWYgKHByb3BOYW1lLnRvTG93ZXJDYXNlKCku\nc3RhcnRzV2l0aChwcmVmaXhlc1tpXSArICIuamRiYyIpKQogICAgICAgICAg\nICAgICAgcmV0dXJuIHRydWU7IAogICAgICAgIHJldHVybiBmYWxzZTsKICAg\nIH0KfQo=\n","encoding":"base64"}

