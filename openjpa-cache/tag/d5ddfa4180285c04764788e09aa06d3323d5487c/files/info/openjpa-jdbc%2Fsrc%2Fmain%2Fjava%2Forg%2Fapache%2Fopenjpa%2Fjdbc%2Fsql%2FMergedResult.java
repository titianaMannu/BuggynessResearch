{"sha":"26c77f06bf7b28be28743ffddccd33cb30b3e803","node_id":"MDQ6QmxvYjIwNjM2NDoyNmM3N2YwNmJmN2IyOGJlMjg3NDNmZmRkY2NkMzNjYjMwYjNlODAz","size":14900,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/26c77f06bf7b28be28743ffddccd33cb30b3e803","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUmVhZGVyOwpp\nbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZhLm1hdGgu\nQmlnSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkFycmF5OwppbXBvcnQgamF2\nYS5zcWwuQmxvYjsKaW1wb3J0IGphdmEuc3FsLkNsb2I7CmltcG9ydCBqYXZh\nLnNxbC5SZWY7CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9y\ndCBqYXZhLnNxbC5UaW1lOwppbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wOwpp\nbXBvcnQgamF2YS51dGlsLkNhbGVuZGFyOwppbXBvcnQgamF2YS51dGlsLkNv\nbXBhcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuRGF0ZTsKaW1wb3J0IGphdmEu\ndXRpbC5Mb2NhbGU7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDRmV0Y2hDb25maWd1\ncmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVs\nLkpEQkNTdG9yZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1l\ndGEuQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5GaWVsZE1hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnV0aWwuVW5zdXBwb3J0ZWRFeGNlcHRpb247CgovKioKICogUmVzdWx0\nIHRoYXQgbWVyZ2VzIG11bHRpcGxlIHJlc3VsdCBkZWxlZ2F0ZXMuIFN1cHBv\ncnQgZXhpc3RzIGZvcgogKiBtYWludGFpbmluZyBvcmRlcmluZyBvZiB0aGUg\naW50ZXJuYWxseS1oZWxkIHJlc3VsdHMsIHByb3ZpZGVkIHRoYXQgZWFjaAog\nKiBvZiB0aGUgaW5kaXZpZHVhbCByZXN1bHRzIGlzIGl0c2VsZiBvcmRlcmVk\nLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNsYXNzIE1l\ncmdlZFJlc3VsdAogICAgaW1wbGVtZW50cyBSZXN1bHQgewoKICAgIHByaXZh\ndGUgc3RhdGljIGZpbmFsIGJ5dGUgTkVYVCA9IDA7CiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBieXRlIENVUlJFTlQgPSAxOwogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgYnl0ZSBET05FID0gMjsKCiAgICBwcml2YXRlIGZpbmFsIFJl\nc3VsdFtdIF9yZXM7CiAgICBwcml2YXRlIGZpbmFsIGJ5dGVbXSBfc3RhdHVz\nOwogICAgcHJpdmF0ZSBmaW5hbCBSZXN1bHRDb21wYXJhdG9yIF9jb21wOwog\nICAgcHJpdmF0ZSBmaW5hbCBPYmplY3RbXSBfb3JkZXI7CiAgICBwcml2YXRl\nIGludCBfaWR4ID0gMDsKICAgIHByaXZhdGUgYm9vbGVhbiBfcHVzaGVkQmFj\nayA9IGZhbHNlOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBs\neSBkZWxlZ2F0ZXMuCiAgICAgKi8KICAgIHB1YmxpYyBNZXJnZWRSZXN1bHQo\nUmVzdWx0W10gcmVzKSB7CiAgICAgICAgdGhpcyhyZXMsIG51bGwpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBkZWxlZ2F0\nZXMgYW5kIGNvbXBhcmF0b3IgZm9yIG9yZGVyaW5nIHJlc3VsdHMuCiAgICAg\nKi8KICAgIHB1YmxpYyBNZXJnZWRSZXN1bHQoUmVzdWx0W10gcmVzLCBSZXN1\nbHRDb21wYXJhdG9yIGNvbXApIHsKICAgICAgICBfcmVzID0gcmVzOwogICAg\nICAgIF9jb21wID0gY29tcDsKICAgICAgICBfb3JkZXIgPSAoY29tcCA9PSBu\ndWxsKSA/IG51bGwgOiBuZXcgT2JqZWN0W3Jlcy5sZW5ndGhdOwogICAgICAg\nIF9zdGF0dXMgPSAoY29tcCA9PSBudWxsKSA/IG51bGwgOiBuZXcgYnl0ZVty\nZXMubGVuZ3RoXTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldEVhZ2Vy\nKEZpZWxkTWFwcGluZyBrZXkpIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4\nXS5nZXRFYWdlcihrZXkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHB1dEVh\nZ2VyKEZpZWxkTWFwcGluZyBrZXksIE9iamVjdCByZXMpIHsKICAgICAgICBf\ncmVzW19pZHhdLnB1dEVhZ2VyKGtleSwgcmVzKTsKICAgIH0KCiAgICBwdWJs\naWMgSm9pbnMgbmV3Sm9pbnMoKSB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0ubmV3Sm9pbnMoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbG9zZSgp\nIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9yZXMubGVuZ3RoOyBp\nKyspCiAgICAgICAgICAgIF9yZXNbaV0uY2xvc2UoKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBpc0xvY2tpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uaXNMb2NraW5nKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xl\nYW4gc3VwcG9ydHNSYW5kb21BY2Nlc3MoKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBhYnNvbHV0ZShpbnQgcm93KQogICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZEV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIG5leHQo\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGlmIChf\ncHVzaGVkQmFjaykgewogICAgICAgICAgICBfcHVzaGVkQmFjayA9IGZhbHNl\nOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAg\nIGlmIChfY29tcCA9PSBudWxsKSB7CiAgICAgICAgICAgIHdoaWxlICghX3Jl\nc1tfaWR4XS5uZXh0KCkpIHsKICAgICAgICAgICAgICAgIGlmIChfaWR4ID09\nIF9yZXMubGVuZ3RoIC0gMSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICAgICAgICAgICAgICBfaWR4Kys7CiAgICAgICAgICAgIH0K\nICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICAv\nLyBvcmRlcmluZyBpcyBpbnZvbHZlZDsgZXh0cmFjdCBvcmRlciB2YWx1ZXMg\nZnJvbSBlYWNoIHJlc3VsdAogICAgICAgIGJvb2xlYW4gaGFzVmFsdWUgPSBm\nYWxzZTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9zdGF0dXMubGVu\nZ3RoOyBpKyspIHsKICAgICAgICAgICAgc3dpdGNoIChfc3RhdHVzW2ldKSB7\nCiAgICAgICAgICAgICAgICBjYXNlIE5FWFQ6CiAgICAgICAgICAgICAgICAg\nICAgaWYgKF9yZXNbaV0ubmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAg\nICAgIGhhc1ZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAg\nX3N0YXR1c1tpXSA9IENVUlJFTlQ7CiAgICAgICAgICAgICAgICAgICAgICAg\nIF9vcmRlcltpXSA9IF9jb21wLmdldE9yZGVyaW5nVmFsdWUoX3Jlc1tpXSwg\naSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlCiAgICAgICAgICAgICAg\nICAgICAgICAgIF9zdGF0dXNbaV0gPSBET05FOwogICAgICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBDVVJSRU5UOgogICAg\nICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAg\nICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAg\nICAgLy8gYWxsIHJlc3VsdHMgZXhoYXVzdGVkCiAgICAgICAgaWYgKCFoYXNW\nYWx1ZSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAvLyBm\nb3IgYWxsIHJlc3VsdHMgd2l0aCB2YWx1ZXMsIGZpbmQgdGhlICdsZWFzdCcg\nb25lIGFjY29yZGluZyB0bwogICAgICAgIC8vIHRoZSBjb21wYXJhdG9yCiAg\nICAgICAgaW50IGxlYXN0ID0gLTE7CiAgICAgICAgT2JqZWN0IG9yZGVyVmFs\nID0gbnVsbDsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9vcmRlci5s\nZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoX3N0YXR1c1tpXSAhPSBD\nVVJSRU5UKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAg\nIGlmIChsZWFzdCA9PSAtMSB8fCBfY29tcC5jb21wYXJlKF9vcmRlcltpXSwg\nb3JkZXJWYWwpIDwgMCkgewogICAgICAgICAgICAgICAgbGVhc3QgPSBpOwog\nICAgICAgICAgICAgICAgb3JkZXJWYWwgPSBfb3JkZXJbaV07CiAgICAgICAg\nICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIG1ha2UgdGhlIGN1cnJlbnQg\ncmVzdWx0IHRoZSBvbmUgd2l0aCB0aGUgbGVhc3QgdmFsdWUsIGFuZCBjbGVh\ncgogICAgICAgIC8vIHRoZSBjYWNoZWQgdmFsdWUgZm9yIHRoYXQgcmVzdWx0\nCiAgICAgICAgX2lkeCA9IGxlYXN0OwogICAgICAgIF9vcmRlcltsZWFzdF0g\nPSBudWxsOwogICAgICAgIF9zdGF0dXNbbGVhc3RdID0gTkVYVDsKICAgICAg\nICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwdXNoQmFj\naygpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3B1\nc2hlZEJhY2sgPSB0cnVlOwogICAgfQoKICAgIHB1YmxpYyBpbnQgc2l6ZSgp\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgaW50IHNp\nemUgPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX3Jlcy5sZW5n\ndGg7IGkrKykKICAgICAgICAgICAgc2l6ZSArPSBfcmVzW2ldLnNpemUoKTsK\nICAgICAgICByZXR1cm4gc2l6ZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiBjb250YWlucyhPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmNvbnRhaW5zKG9i\naik7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gY29udGFpbnNBbGwoT2Jq\nZWN0W10gb2JqcykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5jb250YWluc0FsbChvYmpzKTsKICAg\nIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBjb250YWlucyhDb2x1bW4gY29sLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5jb250YWlucyhjb2wsIGpvaW5zKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBjb250YWluc0FsbChDb2x1bW5b\nXSBjb2xzLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5jb250YWluc0FsbChj\nb2xzLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIENsYXNzTWFwcGluZyBn\nZXRCYXNlTWFwcGluZygpIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5n\nZXRCYXNlTWFwcGluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEJh\nc2VNYXBwaW5nKENsYXNzTWFwcGluZyBtYXBwaW5nKSB7CiAgICAgICAgX3Jl\nc1tfaWR4XS5zZXRCYXNlTWFwcGluZyhtYXBwaW5nKTsKICAgIH0KCiAgICBw\ndWJsaWMgaW50IGluZGV4T2YoKSB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0uaW5kZXhPZigpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgbG9hZChD\nbGFzc01hcHBpbmcgbWFwcGluZywgSkRCQ1N0b3JlIHN0b3JlLAogICAgICAg\nIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpCiAgICAgICAgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0ubG9h\nZChtYXBwaW5nLCBzdG9yZSwgZmV0Y2gpOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgbG9hZChDbGFzc01hcHBpbmcgbWFwcGluZywgSkRCQ1N0b3JlIHN0\nb3JlLAogICAgICAgIEpEQkNGZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gsIEpv\naW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBfcmVzW19pZHhdLmxvYWQobWFwcGluZywgc3RvcmUsIGZl\ndGNoLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIEFycmF5IGdldEFycmF5\nKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0QXJyYXkob2JqKTsKICAgIH0K\nCiAgICBwdWJsaWMgSW5wdXRTdHJlYW0gZ2V0QXNjaWlTdHJlYW0oT2JqZWN0\nIG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gX3Jlc1tfaWR4XS5nZXRBc2NpaVN0cmVhbShvYmopOwogICAgfQoK\nICAgIHB1YmxpYyBCaWdEZWNpbWFsIGdldEJpZ0RlY2ltYWwoT2JqZWN0IG9i\naikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX3Jlc1tfaWR4XS5nZXRCaWdEZWNpbWFsKG9iaik7CiAgICB9CgogICAg\ncHVibGljIEJpZ0ludGVnZXIgZ2V0QmlnSW50ZWdlcihPYmplY3Qgb2JqKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBf\ncmVzW19pZHhdLmdldEJpZ0ludGVnZXIob2JqKTsKICAgIH0KCiAgICBwdWJs\naWMgSW5wdXRTdHJlYW0gZ2V0QmluYXJ5U3RyZWFtKE9iamVjdCBvYmopCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uZ2V0QmluYXJ5U3RyZWFtKG9iaik7CiAgICB9CgogICAgcHVi\nbGljIElucHV0U3RyZWFtIGdldExPQlN0cmVhbShKREJDU3RvcmUgc3RvcmUs\nIE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0TE9CU3RyZWFtKHN0b3JlLCBv\nYmopOwogICAgfQogICAgCiAgICBwdWJsaWMgQmxvYiBnZXRCbG9iKE9iamVj\ndCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIF9yZXNbX2lkeF0uZ2V0QmxvYihvYmopOwogICAgfQoKICAgIHB1\nYmxpYyBib29sZWFuIGdldEJvb2xlYW4oT2JqZWN0IG9iaikKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4\nXS5nZXRCb29sZWFuKG9iaik7CiAgICB9CgogICAgcHVibGljIGJ5dGUgZ2V0\nQnl0ZShPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJ5dGUob2JqKTsKICAg\nIH0KCiAgICBwdWJsaWMgYnl0ZVtdIGdldEJ5dGVzKE9iamVjdCBvYmopCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uZ2V0Qnl0ZXMob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgQ2Fs\nZW5kYXIgZ2V0Q2FsZW5kYXIoT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRD\nYWxlbmRhcihvYmopOwogICAgfQoKICAgIHB1YmxpYyBjaGFyIGdldENoYXIo\nT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRDaGFyKG9iaik7CiAgICB9Cgog\nICAgcHVibGljIFJlYWRlciBnZXRDaGFyYWN0ZXJTdHJlYW0oT2JqZWN0IG9i\naikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX3Jlc1tfaWR4XS5nZXRDaGFyYWN0ZXJTdHJlYW0ob2JqKTsKICAgIH0K\nCiAgICBwdWJsaWMgQ2xvYiBnZXRDbG9iKE9iamVjdCBvYmopCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0uZ2V0Q2xvYihvYmopOwogICAgfQoKICAgIHB1YmxpYyBEYXRlIGdldERh\ndGUoT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXREYXRlKG9iaik7CiAgICB9\nCgogICAgcHVibGljIGphdmEuc3FsLkRhdGUgZ2V0RGF0ZShPYmplY3Qgb2Jq\nLCBDYWxlbmRhciBjYWwpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0RGF0ZShvYmosIGNhbCk7\nCiAgICB9CgogICAgcHVibGljIGRvdWJsZSBnZXREb3VibGUoT2JqZWN0IG9i\naikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX3Jlc1tfaWR4XS5nZXREb3VibGUob2JqKTsKICAgIH0KCiAgICBwdWJs\naWMgZmxvYXQgZ2V0RmxvYXQoT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRG\nbG9hdChvYmopOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0SW50KE9iamVj\ndCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIF9yZXNbX2lkeF0uZ2V0SW50KG9iaik7CiAgICB9CgogICAgcHVi\nbGljIExvY2FsZSBnZXRMb2NhbGUoT2JqZWN0IG9iaikKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5n\nZXRMb2NhbGUob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgbG9uZyBnZXRMb25n\nKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0TG9uZyhvYmopOwogICAgfQoK\nICAgIHB1YmxpYyBOdW1iZXIgZ2V0TnVtYmVyKE9iamVjdCBvYmopCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNb\nX2lkeF0uZ2V0TnVtYmVyKG9iaik7CiAgICB9CgogICAgcHVibGljIE9iamVj\ndCBnZXRPYmplY3QoT2JqZWN0IG9iaiwgaW50IG1ldGFUeXBlLCBPYmplY3Qg\nYXJnKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBfcmVzW19pZHhdLmdldE9iamVjdChvYmosIG1ldGFUeXBlLCBhcmcp\nOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgZ2V0U1FMT2JqZWN0KE9iamVj\ndCBvYmosIE1hcCBtYXApCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0U1FMT2JqZWN0KG9iaiwg\nbWFwKTsKICAgIH0KCiAgICBwdWJsaWMgUmVmIGdldFJlZihPYmplY3Qgb2Jq\nLCBNYXAgbWFwKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBfcmVzW19pZHhdLmdldFJlZihvYmosIG1hcCk7CiAgICB9\nCgogICAgcHVibGljIHNob3J0IGdldFNob3J0KE9iamVjdCBvYmopCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNb\nX2lkeF0uZ2V0U2hvcnQob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIGdldFN0cmluZyhPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldFN0cmluZyhv\nYmopOwogICAgfQoKICAgIHB1YmxpYyBUaW1lIGdldFRpbWUoT2JqZWN0IG9i\naiwgQ2FsZW5kYXIgY2FsKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldFRpbWUob2JqLCBjYWwp\nOwogICAgfQoKICAgIHB1YmxpYyBUaW1lc3RhbXAgZ2V0VGltZXN0YW1wKE9i\namVjdCBvYmosIENhbGVuZGFyIGNhbCkKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRUaW1lc3Rh\nbXAob2JqLCBjYWwpOwogICAgfQoKICAgIHB1YmxpYyBBcnJheSBnZXRBcnJh\neShDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRBcnJh\neShjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgSW5wdXRTdHJlYW0g\nZ2V0QXNjaWlTdHJlYW0oQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNb\nX2lkeF0uZ2V0QXNjaWlTdHJlYW0oY29sLCBqb2lucyk7CiAgICB9CgogICAg\ncHVibGljIEJpZ0RlY2ltYWwgZ2V0QmlnRGVjaW1hbChDb2x1bW4gY29sLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRCaWdEZWNpbWFsKGNvbCwgam9p\nbnMpOwogICAgfQoKICAgIHB1YmxpYyBCaWdJbnRlZ2VyIGdldEJpZ0ludGVn\nZXIoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0Qmln\nSW50ZWdlcihjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgSW5wdXRT\ndHJlYW0gZ2V0QmluYXJ5U3RyZWFtKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5z\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfcmVzW19pZHhdLmdldEJpbmFyeVN0cmVhbShjb2wsIGpvaW5zKTsKICAg\nIH0KCiAgICBwdWJsaWMgQmxvYiBnZXRCbG9iKENvbHVtbiBjb2wsIEpvaW5z\nIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIHJldHVybiBfcmVzW19pZHhdLmdldEJsb2IoY29sLCBqb2lucyk7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gZ2V0Qm9vbGVhbihDb2x1bW4gY29sLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRCb29sZWFuKGNvbCwgam9pbnMp\nOwogICAgfQoKICAgIHB1YmxpYyBieXRlIGdldEJ5dGUoQ29sdW1uIGNvbCwg\nSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0Qnl0ZShjb2wsIGpvaW5zKTsK\nICAgIH0KCiAgICBwdWJsaWMgYnl0ZVtdIGdldEJ5dGVzKENvbHVtbiBjb2ws\nIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJ5dGVzKGNvbCwgam9pbnMp\nOwogICAgfQoKICAgIHB1YmxpYyBDYWxlbmRhciBnZXRDYWxlbmRhcihDb2x1\nbW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRDYWxlbmRhcihj\nb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgY2hhciBnZXRDaGFyKENv\nbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldENoYXIoY29s\nLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIFJlYWRlciBnZXRDaGFyYWN0\nZXJTdHJlYW0oQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0u\nZ2V0Q2hhcmFjdGVyU3RyZWFtKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1\nYmxpYyBDbG9iIGdldENsb2IoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAg\nICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uZ2V0Q2xvYihjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJs\naWMgRGF0ZSBnZXREYXRlKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVz\nW19pZHhdLmdldERhdGUoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGlj\nIGphdmEuc3FsLkRhdGUgZ2V0RGF0ZShDb2x1bW4gY29sLCBDYWxlbmRhciBj\nYWwsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldERhdGUoY29sLCBjYWws\nIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgZG91YmxlIGdldERvdWJsZShD\nb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXREb3VibGUo\nY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIGZsb2F0IGdldEZsb2F0\nKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEZsb2F0\nKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0SW50KENv\nbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEludChjb2ws\nIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgTG9jYWxlIGdldExvY2FsZShD\nb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRMb2NhbGUo\nY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIGxvbmcgZ2V0TG9uZyhD\nb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRMb25nKGNv\nbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBOdW1iZXIgZ2V0TnVtYmVy\nKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldE51bWJl\ncihjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldE9i\namVjdChDb2x1bW4gY29sLCBPYmplY3QgYXJnLCBKb2lucyBqb2lucykKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jl\nc1tfaWR4XS5nZXRPYmplY3QoY29sLCBhcmcsIGpvaW5zKTsKICAgIH0KCiAg\nICBwdWJsaWMgT2JqZWN0IGdldFNRTE9iamVjdChDb2x1bW4gY29sLCBNYXAg\nbWFwLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRTUUxPYmplY3QoY29s\nLCBtYXAsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgUmVmIGdldFJlZihD\nb2x1bW4gY29sLCBNYXAgbWFwLCBKb2lucyBqb2lucykKICAgICAgICB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5n\nZXRSZWYoY29sLCBtYXAsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgc2hv\ncnQgZ2V0U2hvcnQoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0uZ2V0U2hvcnQoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRTdHJpbmcoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNb\nX2lkeF0uZ2V0U3RyaW5nKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1Ymxp\nYyBUaW1lIGdldFRpbWUoQ29sdW1uIGNvbCwgQ2FsZW5kYXIgY2FsLCBKb2lu\ncyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRUaW1lKGNvbCwgY2FsLCBqb2lucyk7\nCiAgICB9CgogICAgcHVibGljIFRpbWVzdGFtcCBnZXRUaW1lc3RhbXAoQ29s\ndW1uIGNvbCwgQ2FsZW5kYXIgY2FsLCBKb2lucyBqb2lucykKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4\nXS5nZXRUaW1lc3RhbXAoY29sLCBjYWwsIGpvaW5zKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiB3YXNOdWxsKCkKICAgICAgICB0aHJvd3MgU1FMRXhj\nZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS53YXNOdWxsKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc3RhcnREYXRhUmVxdWVzdChPYmpl\nY3QgbWFwcGluZykgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX3Jl\ncy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgX3Jlc1tpXS5zdGFydERhdGFS\nZXF1ZXN0KG1hcHBpbmcpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGVuZERh\ndGFSZXF1ZXN0KCkgewogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX3Jl\ncy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgX3Jlc1tpXS5lbmREYXRhUmVx\ndWVzdCgpOwogICAgfQoKICAgIC8qKgogICAgICogQ29tcGFyYXRvciBmb3Ig\nb3JkZXJpbmcgcmVzdWx0IHJvd3MuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0\naWMgaW50ZXJmYWNlIFJlc3VsdENvbXBhcmF0b3IKICAgICAgICBleHRlbmRz\nIENvbXBhcmF0b3IgewoKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1cm4g\ndGhlIG9yZGVyaW5nIHZhbHVlIG9mIHRoZSBjdXJyZW50IHJvdyBvZiB0aGUg\nZ2l2ZW4gcmVzdWx0LgogICAgICAgICAqLwogICAgICAgIHB1YmxpYyBPYmpl\nY3QgZ2V0T3JkZXJpbmdWYWx1ZShSZXN1bHQgcmVzLCBpbnQgaWR4KTsKICAg\nIH0KfQo=\n","encoding":"base64"}

