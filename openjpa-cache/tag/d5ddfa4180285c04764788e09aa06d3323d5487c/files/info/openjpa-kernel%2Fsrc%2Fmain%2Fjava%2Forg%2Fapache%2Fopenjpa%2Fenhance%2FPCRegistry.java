{"sha":"9d5b213ff7f59726016d7f2ae7b07449b5b9958a","node_id":"MDQ6QmxvYjIwNjM2NDo5ZDViMjEzZmY3ZjU5NzI2MDE2ZDdmMmFlN2IwNzQ0OWI1Yjk5NThh","size":9713,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9d5b213ff7f59726016d7f2ae7b07449b5b9958a","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nZW5oYW5jZTsNCg0KaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOw0KaW1w\nb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsNCmltcG9ydCBqYXZhLnV0aWwu\nSXRlcmF0b3I7DQppbXBvcnQgamF2YS51dGlsLkxpbmtlZExpc3Q7DQppbXBv\ncnQgamF2YS51dGlsLk1hcDsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5saWIudXRpbC5Mb2NhbGl6ZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi51dGlsLlJlZmVyZW5jZU1hcDsNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVudC5Db25jdXJyZW50UmVmZXJl\nbmNlSGFzaE1hcDsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5V\nc2VyRXhjZXB0aW9uOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGls\nLkludmFsaWRTdGF0ZUV4Y2VwdGlvbjsNCg0KLyoqDQogKiBUcmFja3MgcmVn\naXN0ZXJlZCBwZXJzaXN0ZW5jZS1jYXBhYmxlIGNsYXNzZXMuDQogKg0KICog\nQHNpbmNlIDAuNC4wDQogKiBAYXV0aG9yIEFiZSBXaGl0ZQ0KICovDQpwdWJs\naWMgY2xhc3MgUENSZWdpc3RyeSB7DQogICAgLy8gRE8gTk9UIEFERCBBRERJ\nVElPTkFMIERFUEVOREVOQ0lFUyBUTyBUSElTIENMQVNTDQoNCiAgICBwcml2\nYXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xvYyA9IExvY2FsaXplci5m\nb3JQYWNrYWdlDQogICAgICAgIChQQ1JlZ2lzdHJ5LmNsYXNzKTsNCg0KICAg\nIC8vIG1hcCBvZiBwYyBjbGFzc2VzIHRvIG1ldGEgc3RydWN0czsgd2VhayBz\nbyB0aGUgVk0gY2FuIEdDIGNsYXNzZXMNCiAgICBwcml2YXRlIHN0YXRpYyBm\naW5hbCBNYXAgX21ldGFzID0gbmV3IENvbmN1cnJlbnRSZWZlcmVuY2VIYXNo\nTWFwDQogICAgICAgIChSZWZlcmVuY2VNYXAuV0VBSywgUmVmZXJlbmNlTWFw\nLkhBUkQpOw0KDQogICAgLy8gcmVnaXN0ZXIgY2xhc3MgbGlzdGVuZXJzDQog\nICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgQ29sbGVjdGlvbiBfbGlzdGVuZXJz\nID0gbmV3IExpbmtlZExpc3QoKTsNCg0KICAgIC8qKg0KICAgICAqIFJlZ2lz\ndGVyIGEge0BsaW5rIFJlZ2lzdGVyQ2xhc3NMaXN0ZW5lcn0uDQogICAgICov\nDQogICAgcHVibGljIHN0YXRpYyB2b2lkIGFkZFJlZ2lzdGVyQ2xhc3NMaXN0\nZW5lcihSZWdpc3RlckNsYXNzTGlzdGVuZXIgcmNsKSB7DQogICAgICAgIGlm\nIChyY2wgPT0gbnVsbCkNCiAgICAgICAgICAgIHJldHVybjsNCg0KICAgICAg\nICAvLyB3ZSBoYXZlIHRvIGJlIHBvc2l0aXZlIHRoYXQgZXZlcnkgbGlzdGVu\nZXIgZ2V0cyBub3RpZmllZCBmb3INCiAgICAgICAgLy8gZXZlcnkgY2xhc3Ms\nIHNvIGxvdHMgb2YgbG9ja2luZw0KICAgICAgICBzeW5jaHJvbml6ZWQgKF9s\naXN0ZW5lcnMpIHsNCiAgICAgICAgICAgIF9saXN0ZW5lcnMuYWRkKHJjbCk7\nDQogICAgICAgIH0NCiAgICAgICAgc3luY2hyb25pemVkIChfbWV0YXMpIHsN\nCiAgICAgICAgICAgIGZvciAoSXRlcmF0b3IgaXRyID0gX21ldGFzLmtleVNl\ndCgpLml0ZXJhdG9yKCk7IGl0ci5oYXNOZXh0KCk7KQ0KICAgICAgICAgICAg\nICAgIHJjbC5yZWdpc3RlcigoQ2xhc3MpIGl0ci5uZXh0KCkpOw0KICAgICAg\nICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogUmVtb3ZlcyBhIHtAbGlu\nayBSZWdpc3RlckNsYXNzTGlzdGVuZXJ9Lg0KICAgICAqLw0KICAgIHB1Ymxp\nYyBzdGF0aWMgdm9pZCByZW1vdmVSZWdpc3RlckNsYXNzTGlzdGVuZXIoUmVn\naXN0ZXJDbGFzc0xpc3RlbmVyIHJjbCkgew0KICAgICAgICBzeW5jaHJvbml6\nZWQgKF9saXN0ZW5lcnMpIHsNCiAgICAgICAgICAgIF9saXN0ZW5lcnMucmVt\nb3ZlKHJjbCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAg\nKiBHZXQgdGhlIGZpZWxkIG5hbWVzIGZvciBhIDxjb2RlPlBlcnNpc3RlbmNl\nQ2FwYWJsZTwvY29kZT4gY2xhc3MuDQogICAgICovDQogICAgcHVibGljIHN0\nYXRpYyBTdHJpbmdbXSBnZXRGaWVsZE5hbWVzKENsYXNzIHBjQ2xhc3MpIHsN\nCiAgICAgICAgTWV0YSBtZXRhID0gZ2V0TWV0YShwY0NsYXNzKTsNCiAgICAg\nICAgcmV0dXJuIG1ldGEuZmllbGROYW1lczsNCiAgICB9DQoNCiAgICAvKioN\nCiAgICAgKiBHZXQgdGhlIGZpZWxkIHR5cGVzIGZvciBhIDxjb2RlPlBlcnNp\nc3RlbmNlQ2FwYWJsZTwvY29kZT4gY2xhc3MuDQogICAgICovDQogICAgcHVi\nbGljIHN0YXRpYyBDbGFzc1tdIGdldEZpZWxkVHlwZXMoQ2xhc3MgcGNDbGFz\ncykgew0KICAgICAgICBNZXRhIG1ldGEgPSBnZXRNZXRhKHBjQ2xhc3MpOw0K\nICAgICAgICByZXR1cm4gbWV0YS5maWVsZFR5cGVzOw0KICAgIH0NCg0KICAg\nIC8qKg0KICAgICAqIFJldHVybiB0aGUgcGVyc2lzdGVudCBzdXBlcmNsYXNz\nIGZvciBhIDxjb2RlPlBlcnNpc3RlbmNlQ2FwYWJsZTwvY29kZT4NCiAgICAg\nKiBjbGFzcywgb3IgbnVsbCBpZiBub25lLiBUaGUgc3VwZXJjbGFzcyBtYXkg\nb3IgbWF5IG5vdCBpbXBsZW1lbnQNCiAgICAgKiB7QGxpbmsgUGVyc2lzdGVu\nY2VDYXBhYmxlfSwgZGVwZW5kaW5nIG9uIHRoZSBhY2Nlc3MgdHlwZSBvZiB0\naGUgY2xhc3MuDQogICAgICovDQogICAgcHVibGljIHN0YXRpYyBDbGFzcyBn\nZXRQZXJzaXN0ZW50U3VwZXJjbGFzcyhDbGFzcyBwY0NsYXNzKSB7DQogICAg\nICAgIE1ldGEgbWV0YSA9IGdldE1ldGEocGNDbGFzcyk7DQogICAgICAgIHJl\ndHVybiBtZXRhLnBjU3VwZXI7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog\nQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBjbGFzcyBhbmQgYXNzaWdu\nIGl0cyBzdGF0ZSBtYW5hZ2VyLg0KICAgICAqIFRoZSBuZXcgaW5zdGFuY2Ug\naGFzIGl0cyBmbGFncyBzZXQgdG8gPGNvZGU+TE9BRF9SRVFVSVJFRDwvY29k\nZT4uDQogICAgICovDQogICAgcHVibGljIHN0YXRpYyBQZXJzaXN0ZW5jZUNh\ncGFibGUgbmV3SW5zdGFuY2UoQ2xhc3MgcGNDbGFzcywNCiAgICAgICAgU3Rh\ndGVNYW5hZ2VyIHNtLCBib29sZWFuIGNsZWFyKSB7DQogICAgICAgIE1ldGEg\nbWV0YSA9IGdldE1ldGEocGNDbGFzcyk7DQogICAgICAgIHJldHVybiAobWV0\nYS5wYyA9PSBudWxsKSA/IG51bGwgOiBtZXRhLnBjLnBjTmV3SW5zdGFuY2Uo\nc20sIGNsZWFyKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBDcmVhdGUg\nYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGFuZCBhc3NpZ24gaXRzIHN0\nYXRlIG1hbmFnZXIgYW5kIG9pZC4NCiAgICAgKiBUaGUgbmV3IGluc3RhbmNl\nIGhhcyBpdHMgZmxhZ3Mgc2V0IHRvIDxjb2RlPkxPQURfUkVRVUlSRUQ8L2Nv\nZGU+Lg0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgUGVyc2lzdGVuY2VD\nYXBhYmxlIG5ld0luc3RhbmNlKENsYXNzIHBjQ2xhc3MsDQogICAgICAgIFN0\nYXRlTWFuYWdlciBzbSwgT2JqZWN0IG9pZCwgYm9vbGVhbiBjbGVhcikgew0K\nICAgICAgICBNZXRhIG1ldGEgPSBnZXRNZXRhKHBjQ2xhc3MpOw0KICAgICAg\nICByZXR1cm4gKG1ldGEucGMgPT0gbnVsbCkgPyBudWxsIDogbWV0YS5wYy5w\nY05ld0luc3RhbmNlKHNtLCBvaWQsIGNsZWFyKTsNCiAgICB9DQoNCiAgICAv\nKioNCiAgICAgKiBSZXR1cm4gdGhlIHBlcnNpc3RlbmNlLWNhcGFibGUgdHlw\nZSBmb3IgPGNvZGU+dHlwZTwvY29kZT4uIFRoaXMgbWlnaHQNCiAgICAgKiBi\nZSBhIGdlbmVyYXRlZCBzdWJjbGFzcyBvZiA8Y29kZT50eXBlPC9jb2RlPi4N\nCiAgICAgKg0KICAgICAqIEBzaW5jZSAxLjEuMA0KICAgICAqLw0KICAgIHB1\nYmxpYyBzdGF0aWMgQ2xhc3MgZ2V0UENUeXBlKENsYXNzIHR5cGUpIHsNCiAg\nICAgICAgTWV0YSBtZXRhID0gZ2V0TWV0YSh0eXBlKTsNCiAgICAgICAgcmV0\ndXJuIChtZXRhLnBjID09IG51bGwpID8gbnVsbCA6IG1ldGEucGMuZ2V0Q2xh\nc3MoKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBDcmVhdGUgYSBuZXcg\naWRlbnRpdHkgb2JqZWN0IGZvciB0aGUgZ2l2ZW4NCiAgICAgKiA8Y29kZT5Q\nZXJzaXN0ZW5jZUNhcGFibGU8L2NvZGU+IGNsYXNzLg0KICAgICAqLw0KICAg\nIHB1YmxpYyBzdGF0aWMgT2JqZWN0IG5ld09iamVjdElkKENsYXNzIHBjQ2xh\nc3MpIHsNCiAgICAgICAgTWV0YSBtZXRhID0gZ2V0TWV0YShwY0NsYXNzKTsN\nCiAgICAgICAgcmV0dXJuIChtZXRhLnBjID09IG51bGwpID8gbnVsbCA6IG1l\ndGEucGMucGNOZXdPYmplY3RJZEluc3RhbmNlKCk7DQogICAgfQ0KDQogICAg\nLyoqDQogICAgICogQ3JlYXRlIGEgbmV3IGlkZW50aXR5IG9iamVjdCBmb3Ig\ndGhlIGdpdmVuDQogICAgICogPGNvZGU+UGVyc2lzdGVuY2VDYXBhYmxlPC9j\nb2RlPiBjbGFzcywgdXNpbmcgdGhlIDxjb2RlPlN0cmluZzwvY29kZT4NCiAg\nICAgKiBmb3JtIG9mIHRoZSBjb25zdHJ1Y3Rvci4NCiAgICAgKi8NCiAgICBw\ndWJsaWMgc3RhdGljIE9iamVjdCBuZXdPYmplY3RJZChDbGFzcyBwY0NsYXNz\nLCBTdHJpbmcgc3RyKSB7DQogICAgICAgIE1ldGEgbWV0YSA9IGdldE1ldGEo\ncGNDbGFzcyk7DQogICAgICAgIHJldHVybiAobWV0YS5wYyA9PSBudWxsKSA/\nIG51bGwgOiBtZXRhLnBjLnBjTmV3T2JqZWN0SWRJbnN0YW5jZShzdHIpOw0K\nICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFJldHVybiB0aGUgYWxpYXMgZm9y\nIHRoZSBnaXZlbiB0eXBlLg0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMg\nU3RyaW5nIGdldFR5cGVBbGlhcyhDbGFzcyBwY0NsYXNzKSB7DQogICAgICAg\nIHJldHVybiBnZXRNZXRhKHBjQ2xhc3MpLmFsaWFzOw0KICAgIH0NCg0KICAg\nIC8qKg0KICAgICAqIENvcHkgZmllbGRzIGZyb20gYW4gb3V0c2lkZSBzb3Vy\nY2UgdG8gdGhlIGtleSBmaWVsZHMgaW4gdGhlIGlkZW50aXR5DQogICAgICog\nb2JqZWN0Lg0KICAgICAqLw0KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBjb3B5\nS2V5RmllbGRzVG9PYmplY3RJZChDbGFzcyBwY0NsYXNzLCBGaWVsZFN1cHBs\naWVyIGZtLA0KICAgICAgICBPYmplY3Qgb2lkKSB7DQogICAgICAgIE1ldGEg\nbWV0YSA9IGdldE1ldGEocGNDbGFzcyk7DQogICAgICAgIGlmIChtZXRhLnBj\nID09IG51bGwpDQogICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4Y2VwdGlv\nbihfbG9jLmdldCgiY29weS1uby1pZCIsIHBjQ2xhc3MpKTsNCg0KICAgICAg\nICBtZXRhLnBjLnBjQ29weUtleUZpZWxkc1RvT2JqZWN0SWQoZm0sIG9pZCk7\nDQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ29weSBmaWVsZHMgdG8gYW4g\nb3V0c2lkZSBzb3VyY2UgZnJvbSB0aGUga2V5IGZpZWxkcyBpbiB0aGUgaWRl\nbnRpdHkNCiAgICAgKiBvYmplY3QuDQogICAgICovDQogICAgcHVibGljIHN0\nYXRpYyB2b2lkIGNvcHlLZXlGaWVsZHNGcm9tT2JqZWN0SWQoQ2xhc3MgcGND\nbGFzcywNCiAgICAgICAgRmllbGRDb25zdW1lciBmbSwgT2JqZWN0IG9pZCkg\new0KICAgICAgICBNZXRhIG1ldGEgPSBnZXRNZXRhKHBjQ2xhc3MpOw0KICAg\nICAgICBpZiAobWV0YS5wYyA9PSBudWxsKQ0KICAgICAgICAgICAgdGhyb3cg\nbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoImNvcHktbm8taWQiLCBwY0Ns\nYXNzKSk7DQoNCiAgICAgICAgbWV0YS5wYy5wY0NvcHlLZXlGaWVsZHNGcm9t\nT2JqZWN0SWQoZm0sIG9pZCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog\nUmVnaXN0ZXIgbWV0YWRhdGEgYnkgY2xhc3MuDQogICAgICoNCiAgICAgKiBA\ncGFyYW0gZmllbGRUeXBlcyBtYW5hZ2VkIGZpZWxkIHR5cGVzDQogICAgICog\nQHBhcmFtIGZpZWxkRmxhZ3MgbWFuYWdlZCBmaWVsZCBmbGFncw0KICAgICAq\nIEBwYXJhbSBzdXAgdGhlIG1vc3QgaW1tZWRpYXRlIHBlcnNpc3RlbnQgc3Vw\nZXJjbGFzcw0KICAgICAqIEBwYXJhbSBwY0NsYXNzIHRoZSA8Y29kZT5QZXJz\naXN0ZW5jZUNhcGFibGU8L2NvZGU+IGNsYXNzDQogICAgICogQHBhcmFtIGZp\nZWxkTmFtZXMgbWFuYWdlZCBmaWVsZCBuYW1lcw0KICAgICAqIEBwYXJhbSBh\nbGlhcyB0aGUgY2xhc3MgYWxpYXMNCiAgICAgKiBAcGFyYW0gcGMgYW4gaW5z\ndGFuY2Ugb2YgdGhlIGNsYXNzLCBpZiBub3QgYWJzdHJhY3QNCiAgICAgKi8N\nCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgcmVnaXN0ZXIoQ2xhc3MgcGNDbGFz\ncywgU3RyaW5nW10gZmllbGROYW1lcywNCiAgICAgICAgQ2xhc3NbXSBmaWVs\nZFR5cGVzLCBieXRlW10gZmllbGRGbGFncywgQ2xhc3Mgc3VwLCBTdHJpbmcg\nYWxpYXMsDQogICAgICAgIFBlcnNpc3RlbmNlQ2FwYWJsZSBwYykgew0KICAg\nICAgICBpZiAocGNDbGFzcyA9PSBudWxsKQ0KICAgICAgICAgICAgdGhyb3cg\nbmV3IE51bGxQb2ludGVyRXhjZXB0aW9uKCk7DQoNCiAgICAgICAgLy8gd2Ug\naGF2ZSB0byBiZSBwb3NpdGl2ZSB0aGF0IGV2ZXJ5IGxpc3RlbmVyIGdldHMg\nbm90aWZpZWQgZm9yDQogICAgICAgIC8vIGV2ZXJ5IGNsYXNzLCBzbyBsb3Rz\nIG9mIGxvY2tpbmcNCiAgICAgICAgTWV0YSBtZXRhID0gbmV3IE1ldGEocGMs\nIGZpZWxkTmFtZXMsIGZpZWxkVHlwZXMsIHN1cCwgYWxpYXMpOw0KICAgICAg\nICBzeW5jaHJvbml6ZWQgKF9tZXRhcykgew0KICAgICAgICAgICAgX21ldGFz\nLnB1dChwY0NsYXNzLCBtZXRhKTsNCiAgICAgICAgfQ0KICAgICAgICBzeW5j\naHJvbml6ZWQgKF9saXN0ZW5lcnMpIHsNCiAgICAgICAgICAgIGZvciAoSXRl\ncmF0b3IgaSA9IF9saXN0ZW5lcnMuaXRlcmF0b3IoKTsgaS5oYXNOZXh0KCk7\nKQ0KICAgICAgICAgICAgICAgICgoUmVnaXN0ZXJDbGFzc0xpc3RlbmVyKSBp\nLm5leHQoKSkucmVnaXN0ZXIocGNDbGFzcyk7DQogICAgICAgIH0NCiAgICB9\nDQoNCiAgICAvKioNCiAgICAgKiBEZS1SZWdpc3RlciBhbGwgbWV0YWRhdGEg\nYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBDbGFzc0xvYWRlci4gDQogICAg\nICogQWxsb3dzIENsYXNzTG9hZGVycyB0byBiZSBnYXJiYWdlIGNvbGxlY3Rl\nZC4NCiAgICAgKg0KICAgICAqIEBwYXJhbSBjbCB0aGUgQ2xhc3NMb2FkZXIN\nCiAgICAgKi8NCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZGVSZWdpc3RlcihD\nbGFzc0xvYWRlciBjbCkgew0KICAgICAgICBzeW5jaHJvbml6ZWQgKF9tZXRh\ncykgew0KICAgICAgICAgICAgZm9yIChJdGVyYXRvciBpID0gX21ldGFzLmtl\neVNldCgpLml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgpOykgew0KICAgICAgICAg\nICAgICAgIENsYXNzIHBjQ2xhc3MgPSAoQ2xhc3MpIGkubmV4dCgpOw0KICAg\nICAgICAgICAgICAgIGlmIChwY0NsYXNzLmdldENsYXNzTG9hZGVyKCkgPT0g\nY2wpIHsNCiAgICAgICAgICAgICAgICAgICAgX21ldGFzLnJlbW92ZShwY0Ns\nYXNzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAg\nICAgIH0NCiAgICB9DQogICAgDQogICAgLyoqDQogICAgICogUmV0dXJucyBh\nIGNvbGxlY3Rpb24gb2YgY2xhc3Mgb2JqZWN0cyBvZiB0aGUgcmVnaXN0ZXJl\nZA0KICAgICAqIHBlcnNpc3RlbmNlLWNhcGFibGUgY2xhc3Nlcy4NCiAgICAg\nKi8NCiAgICBwdWJsaWMgc3RhdGljIENvbGxlY3Rpb24gZ2V0UmVnaXN0ZXJl\nZFR5cGVzKCkgew0KICAgICAgICByZXR1cm4gQ29sbGVjdGlvbnMudW5tb2Rp\nZmlhYmxlQ29sbGVjdGlvbihfbWV0YXMua2V5U2V0KCkpOw0KICAgIH0NCg0K\nICAgIC8qKg0KICAgICAqIFJldHVybnMgPGNvZGU+dHJ1ZTwvY29kZT4gaWYg\nPGNvZGU+Y2xzPC9jb2RlPiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuDQogICAg\nICovDQogICAgcHVibGljIHN0YXRpYyBib29sZWFuIGlzUmVnaXN0ZXJlZChD\nbGFzcyBjbHMpIHsNCiAgICAgICAgcmV0dXJuIF9tZXRhcy5jb250YWluc0tl\neShjbHMpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIExvb2sgdXAgdGhl\nIG1ldGFkYXRhIGZvciBhIDxjb2RlPlBlcnNpc3RlbmNlQ2FwYWJsZTwvY29k\nZT4gY2xhc3MuDQogICAgICovDQogICAgcHJpdmF0ZSBzdGF0aWMgTWV0YSBn\nZXRNZXRhKENsYXNzIHBjQ2xhc3MpIHsNCiAgICAgICAgTWV0YSByZXQgPSAo\nTWV0YSkgX21ldGFzLmdldChwY0NsYXNzKTsNCiAgICAgICAgaWYgKHJldCA9\nPSBudWxsKQ0KICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4\nY2VwdGlvbihfbG9jLmdldCgibm8tbWV0YSIsIHBjQ2xhc3MpLg0KICAgICAg\nICAgICAgICAgIGdldE1lc3NhZ2UoKSk7DQogICAgICAgIHJldHVybiByZXQ7\nDQogICAgfQ0KDQogICAgLyoqDQogICAgICogTGlzdGVuZXIgZm9yIHBlcnNp\nc3RlbnQgY2xhc3MgcmVnaXN0cmF0aW9uIGV2ZW50cy4NCiAgICAgKi8NCiAg\nICBwdWJsaWMgc3RhdGljIGludGVyZmFjZSBSZWdpc3RlckNsYXNzTGlzdGVu\nZXIgew0KDQogICAgICAgIHB1YmxpYyB2b2lkIHJlZ2lzdGVyKENsYXNzIGNs\ncyk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogVGhpcyBpcyBhIGhlbHBl\nciBjbGFzcyB0byBtYW5hZ2UgbWV0YWRhdGEgcGVyIHBlcnNpc3RlbmNlLWNh\ncGFibGUgY2xhc3MuDQogICAgICovDQogICAgcHJpdmF0ZSBzdGF0aWMgY2xh\nc3MgTWV0YSB7DQoNCiAgICAgICAgcHVibGljIGZpbmFsIFBlcnNpc3RlbmNl\nQ2FwYWJsZSBwYzsNCiAgICAgICAgcHVibGljIGZpbmFsIFN0cmluZ1tdIGZp\nZWxkTmFtZXM7DQogICAgICAgIHB1YmxpYyBmaW5hbCBDbGFzc1tdIGZpZWxk\nVHlwZXM7DQogICAgICAgIHB1YmxpYyBmaW5hbCBDbGFzcyBwY1N1cGVyOw0K\nICAgICAgICBwdWJsaWMgZmluYWwgU3RyaW5nIGFsaWFzOw0KDQogICAgICAg\nIHB1YmxpYyBNZXRhKFBlcnNpc3RlbmNlQ2FwYWJsZSBwYywgU3RyaW5nW10g\nZmllbGROYW1lcywNCiAgICAgICAgICAgIENsYXNzW10gZmllbGRUeXBlcywg\nQ2xhc3MgcGNTdXBlciwgU3RyaW5nIGFsaWFzKSB7DQogICAgICAgICAgICB0\naGlzLnBjID0gcGM7DQogICAgICAgICAgICB0aGlzLmZpZWxkTmFtZXMgPSBm\naWVsZE5hbWVzOw0KICAgICAgICAgICAgdGhpcy5maWVsZFR5cGVzID0gZmll\nbGRUeXBlczsNCiAgICAgICAgICAgIHRoaXMucGNTdXBlciA9IHBjU3VwZXI7\nDQoJCQl0aGlzLmFsaWFzID0gYWxpYXM7DQoJCX0NCgl9DQp9DQo=\n","encoding":"base64"}

