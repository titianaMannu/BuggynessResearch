{"sha":"adcd0dd1b3672c26af8f24df965e11e7881590b0","node_id":"MDQ6QmxvYjIwNjM2NDphZGNkMGRkMWIzNjcyYzI2YWY4ZjI0ZGY5NjVlMTFlNzg4MTU5MGIw","size":4802,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/adcd0dd1b3672c26af8f24df965e11e7881590b0","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nZXZlbnQ7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwu\nY29uY3VycmVudC5BYnN0cmFjdENvbmN1cnJlbnRFdmVudE1hbmFnZXI7DQoN\nCi8qKg0KICogTWFuYWdlciB0aGF0IGNhbiBiZSB1c2VkIHRvIHRyYWNrIGFu\nZCBub3RpZnkgdHJhbnNhY3Rpb24gbGlzdGVuZXJzDQogKiBvZiB0cmFuc2Fj\ndGlvbi1yZWxhdGVkIGV2ZW50cy4NCiAqDQogKiBAYXV0aG9yIFBhdHJpY2sg\nTGluc2tleQ0KICogQGF1dGhvciBBYmUgV2hpdGUNCiAqIEBzaW5jZSAwLjMu\nMA0KICogQG5vamF2YWRvYw0KICovDQpwdWJsaWMgY2xhc3MgVHJhbnNhY3Rp\nb25FdmVudE1hbmFnZXINCiAgICBleHRlbmRzIEFic3RyYWN0Q29uY3VycmVu\ndEV2ZW50TWFuYWdlciB7DQoNCiAgICBwcml2YXRlIGludCBfYmVnaW4gPSAw\nOw0KICAgIHByaXZhdGUgaW50IF9mbHVzaCA9IDA7DQogICAgcHJpdmF0ZSBp\nbnQgX2VuZCA9IDA7DQoNCiAgICBwdWJsaWMgdm9pZCBhZGRMaXN0ZW5lcihP\nYmplY3QgbGlzdGVuZXIpIHsNCiAgICAgICAgc3VwZXIuYWRkTGlzdGVuZXIo\nbGlzdGVuZXIpOw0KICAgICAgICBpZiAobGlzdGVuZXIgaW5zdGFuY2VvZiBC\nZWdpblRyYW5zYWN0aW9uTGlzdGVuZXIpDQogICAgICAgICAgICBfYmVnaW4r\nKzsNCiAgICAgICAgaWYgKGxpc3RlbmVyIGluc3RhbmNlb2YgRmx1c2hUcmFu\nc2FjdGlvbkxpc3RlbmVyKQ0KICAgICAgICAgICAgX2ZsdXNoKys7DQogICAg\nICAgIGlmIChsaXN0ZW5lciBpbnN0YW5jZW9mIEVuZFRyYW5zYWN0aW9uTGlz\ndGVuZXIpDQogICAgICAgICAgICBfZW5kKys7DQogICAgfQ0KDQogICAgcHVi\nbGljIGJvb2xlYW4gcmVtb3ZlTGlzdGVuZXIoT2JqZWN0IGxpc3RlbmVyKSB7\nDQogICAgICAgIGlmICghc3VwZXIucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIp\nKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgIGlmIChs\naXN0ZW5lciBpbnN0YW5jZW9mIEJlZ2luVHJhbnNhY3Rpb25MaXN0ZW5lcikN\nCiAgICAgICAgICAgIF9iZWdpbi0tOw0KICAgICAgICBpZiAobGlzdGVuZXIg\naW5zdGFuY2VvZiBGbHVzaFRyYW5zYWN0aW9uTGlzdGVuZXIpDQogICAgICAg\nICAgICBfZmx1c2gtLTsNCiAgICAgICAgaWYgKGxpc3RlbmVyIGluc3RhbmNl\nb2YgRW5kVHJhbnNhY3Rpb25MaXN0ZW5lcikNCiAgICAgICAgICAgIF9lbmQt\nLTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgLyoqDQog\nICAgICogV2hldGhlciB0aGVyZSBhcmUgYW55IGJlZ2luIHRyYW5zYWN0aW9u\nIGxpc3RlbmVycy4NCiAgICAgKi8NCiAgICBwdWJsaWMgYm9vbGVhbiBoYXNC\nZWdpbkxpc3RlbmVycygpIHsNCiAgICAgICAgcmV0dXJuIF9iZWdpbiA+IDA7\nDQogICAgfQ0KDQogICAgLyoqDQogICAgICogV2hldGhlciB0aGVyZSBhcmUg\nYW55IGZsdXNoIHRyYW5zYWN0aW9uIGxpc3RlbmVycy4NCiAgICAgKi8NCiAg\nICBwdWJsaWMgYm9vbGVhbiBoYXNGbHVzaExpc3RlbmVycygpIHsNCiAgICAg\nICAgcmV0dXJuIF9mbHVzaCA+IDA7DQogICAgfQ0KDQogICAgLyoqDQogICAg\nICogV2hldGhlciB0aGVyZSBhcmUgYW55IGVuZCB0cmFuc2FjdGlvbiBsaXN0\nZW5lcnMuDQogICAgICovDQogICAgcHVibGljIGJvb2xlYW4gaGFzRW5kTGlz\ndGVuZXJzKCkgew0KICAgICAgICByZXR1cm4gX2VuZCA+IDA7DQogICAgfQ0K\nDQogICAgLyoqDQogICAgICogRmlyZSB0aGUgZ2l2ZW4gZXZlbnQgdG8gYWxs\nIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLg0KICAgICAqLw0KICAgIHByb3RlY3Rl\nZCB2b2lkIGZpcmVFdmVudChPYmplY3QgZXZlbnQsIE9iamVjdCBsaXN0ZW5l\ncikgew0KICAgICAgICBUcmFuc2FjdGlvbkV2ZW50IGV2ID0gKFRyYW5zYWN0\naW9uRXZlbnQpIGV2ZW50Ow0KICAgICAgICBzd2l0Y2ggKGV2LmdldFR5cGUo\nKSkgew0KICAgICAgICAgICAgY2FzZSBUcmFuc2FjdGlvbkV2ZW50LkFGVEVS\nX0JFR0lOOg0KICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciBpbnN0YW5j\nZW9mIEJlZ2luVHJhbnNhY3Rpb25MaXN0ZW5lcikNCiAgICAgICAgICAgICAg\nICAgICAgKChCZWdpblRyYW5zYWN0aW9uTGlzdGVuZXIpIGxpc3RlbmVyKS5h\nZnRlckJlZ2luKGV2KTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAg\nICAgICAgIGNhc2UgVHJhbnNhY3Rpb25FdmVudC5CRUZPUkVfRkxVU0g6DQog\nICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyIGluc3RhbmNlb2YgRmx1c2hU\ncmFuc2FjdGlvbkxpc3RlbmVyKQ0KICAgICAgICAgICAgICAgICAgICAoKEZs\ndXNoVHJhbnNhY3Rpb25MaXN0ZW5lcikgbGlzdGVuZXIpLmJlZm9yZUZsdXNo\nKGV2KTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNh\nc2UgVHJhbnNhY3Rpb25FdmVudC5BRlRFUl9GTFVTSDoNCiAgICAgICAgICAg\nICAgICBpZiAobGlzdGVuZXIgaW5zdGFuY2VvZiBGbHVzaFRyYW5zYWN0aW9u\nTGlzdGVuZXIpDQogICAgICAgICAgICAgICAgICAgICgoRmx1c2hUcmFuc2Fj\ndGlvbkxpc3RlbmVyKSBsaXN0ZW5lcikuYWZ0ZXJGbHVzaChldik7DQogICAg\nICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlIFRyYW5zYWN0\naW9uRXZlbnQuQkVGT1JFX0NPTU1JVDoNCiAgICAgICAgICAgICAgICBpZiAo\nbGlzdGVuZXIgaW5zdGFuY2VvZiBFbmRUcmFuc2FjdGlvbkxpc3RlbmVyKQ0K\nICAgICAgICAgICAgICAgICAgICAoKEVuZFRyYW5zYWN0aW9uTGlzdGVuZXIp\nIGxpc3RlbmVyKS5iZWZvcmVDb21taXQoZXYpOw0KICAgICAgICAgICAgICAg\nIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSBUcmFuc2FjdGlvbkV2ZW50LkFG\nVEVSX0NPTU1JVDoNCiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgaW5z\ndGFuY2VvZiBFbmRUcmFuc2FjdGlvbkxpc3RlbmVyKQ0KICAgICAgICAgICAg\nICAgICAgICAoKEVuZFRyYW5zYWN0aW9uTGlzdGVuZXIpIGxpc3RlbmVyKS5h\nZnRlckNvbW1pdChldik7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAg\nICAgICAgICBjYXNlIFRyYW5zYWN0aW9uRXZlbnQuQUZURVJfUk9MTEJBQ0s6\nDQogICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyIGluc3RhbmNlb2YgRW5k\nVHJhbnNhY3Rpb25MaXN0ZW5lcikNCiAgICAgICAgICAgICAgICAgICAgKChF\nbmRUcmFuc2FjdGlvbkxpc3RlbmVyKSBsaXN0ZW5lcikuYWZ0ZXJSb2xsYmFj\nayhldik7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBj\nYXNlIFRyYW5zYWN0aW9uRXZlbnQuQUZURVJfU1RBVEVfVFJBTlNJVElPTlM6\nDQogICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyIGluc3RhbmNlb2YgRW5k\nVHJhbnNhY3Rpb25MaXN0ZW5lcikNCiAgICAgICAgICAgICAgICAgICAgKChF\nbmRUcmFuc2FjdGlvbkxpc3RlbmVyKSBsaXN0ZW5lcikNCiAgICAgICAgICAg\nICAgICAgICAgICAgIC5hZnRlclN0YXRlVHJhbnNpdGlvbnMoZXYpOw0KICAg\nICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSBUcmFuc2Fj\ndGlvbkV2ZW50LkFGVEVSX0NPTU1JVF9DT01QTEVURToNCiAgICAgICAgICAg\nICAgICBpZiAobGlzdGVuZXIgaW5zdGFuY2VvZiBFbmRUcmFuc2FjdGlvbkxp\nc3RlbmVyKQ0KICAgICAgICAgICAgICAgICAgICAoKEVuZFRyYW5zYWN0aW9u\nTGlzdGVuZXIpIGxpc3RlbmVyKS5hZnRlckNvbW1pdENvbXBsZXRlKGV2KTsN\nCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgVHJh\nbnNhY3Rpb25FdmVudC5BRlRFUl9ST0xMQkFDS19DT01QTEVURToNCiAgICAg\nICAgICAgICAgICBpZiAobGlzdGVuZXIgaW5zdGFuY2VvZiBFbmRUcmFuc2Fj\ndGlvbkxpc3RlbmVyKQ0KICAgICAgICAgICAgICAgICAgICAoKEVuZFRyYW5z\nYWN0aW9uTGlzdGVuZXIpIGxpc3RlbmVyKQ0KICAgICAgICAgICAgICAgICAg\nICAgICAgLmFmdGVyUm9sbGJhY2tDb21wbGV0ZShldik7DQogICAgICAgICAg\nICAgICAgYnJlYWs7DQogICAgICAgIH0NCgl9DQp9DQo=\n","encoding":"base64"}

