{"sha":"3effd27e0d3a956e8d18b437ca4ddf9a6e7d5c08","node_id":"MDQ6QmxvYjIwNjM2NDozZWZmZDI3ZTBkM2E5NTZlOGQxOGI0MzdjYTRkZGY5YTZlN2Q1YzA4","size":3781,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/3effd27e0d3a956e8d18b437ca4ddf9a6e7d5c08","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsOwoKaW1wb3J0IGph\ndmEuaW8uU2VyaWFsaXphYmxlOwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rp\nb247CmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRp\nbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5NYXA7CgovKioKICogUmVw\ncmVzZW50cyBhIHNhdmVwb2ludCB3aGVyZSBvcGVyYXRpb25zIGFmdGVyd2Fy\nZHMgY2FuIGJlIHJvbGxlZAogKiBiYWNrIGFuZCByZXN0b3JlZCB0byB0aGlz\nIHBvaW50CiAqCiAqIEBhdXRob3IgU3RldmUgS2ltCiAqIEBzaW5jZSAwLjMu\nNAogKi8KcHVibGljIGNsYXNzIE9wZW5KUEFTYXZlcG9pbnQgaW1wbGVtZW50\ncyBTZXJpYWxpemFibGUgewoKICAgIHByaXZhdGUgZmluYWwgQnJva2VyIF9i\ncm9rZXI7CiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBfbmFtZTsKICAgIHBy\naXZhdGUgZmluYWwgYm9vbGVhbiBfY29weTsKCiAgICAvLyA8U3RhdGVNYW5h\nZ2VySW1wbCwgU2F2ZXBvaW50RmllbGRNYW5hZ2VyPgogICAgcHJpdmF0ZSBN\nYXAgX3NhdmVkOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuIEluZGlj\nYXRlIHdoZXRoZXIgdG8gY29weSBmaWVsZCBkYXRhIGludG8gbWVtb3J5Lgog\nICAgICovCiAgICBwdWJsaWMgT3BlbkpQQVNhdmVwb2ludChCcm9rZXIgYnJv\na2VyLCBTdHJpbmcgbmFtZSwgYm9vbGVhbiBjb3B5KSB7CiAgICAgICAgX2Jy\nb2tlciA9IGJyb2tlcjsKICAgICAgICBfbmFtZSA9IG5hbWU7CiAgICAgICAg\nX2NvcHkgPSBjb3B5OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRo\nZSBCcm9rZXIgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc2F2ZXBvaW50LgogICAg\nICovCiAgICBwdWJsaWMgQnJva2VyIGdldEJyb2tlcigpIHsKICAgICAgICBy\nZXR1cm4gX2Jyb2tlcjsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0\naGUgbmFtZSBmb3IgdGhpcyBzYXZlcG9pbnQuCiAgICAgKi8KICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0TmFtZSgpIHsKICAgICAgICByZXR1cm4gX25hbWU7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRoaXMgc2F2ZXBvaW50IGNv\ncGllcyB0aGUgZmllbGQgdmFsdWVzIG9mIHJldGFpbmVkIGluc3RhbmNlcy4K\nICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gZ2V0Q29weUZpZWxkU3RhdGUo\nKSB7CiAgICAgICAgcmV0dXJuIF9jb3B5OwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSBtYXAgb2Ygc3RhdGVzIHRvIHNhdmVwb2ludCBkYXRh\nLgogICAgICovCiAgICBwcm90ZWN0ZWQgTWFwIGdldFN0YXRlcygpIHsKICAg\nICAgICByZXR1cm4gX3NhdmVkOwogICAgfQoKICAgIC8qKgogICAgICogU2V0\nIHRoaXMgc2F2ZXBvaW50LCBzYXZpbmcgYW55IHN0YXRlIGZvciB0aGUgcGFz\nc2VkLWluCiAgICAgKiB7QGxpbmsgT3BlbkpQQVN0YXRlTWFuYWdlcn1zIGFz\nIG5lY2Vzc2FyeS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2F2ZShDb2xs\nZWN0aW9uIHN0YXRlcykgewogICAgICAgIGlmIChfc2F2ZWQgIT0gbnVsbCkK\nICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigp\nOwoKICAgICAgICBfc2F2ZWQgPSBuZXcgSGFzaE1hcCgoaW50KSAoc3RhdGVz\nLnNpemUoKSAqIDEuMzMgKyAxKSk7CiAgICAgICAgU3RhdGVNYW5hZ2VySW1w\nbCBzbTsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGkgPSBzdGF0ZXMuaXRlcmF0\nb3IoKTsgaS5oYXNOZXh0KCk7KSB7CiAgICAgICAgICAgIHNtID0gKFN0YXRl\nTWFuYWdlckltcGwpIGkubmV4dCgpOwogICAgICAgICAgICBfc2F2ZWQucHV0\nKHNtLCBuZXcgU2F2ZXBvaW50RmllbGRNYW5hZ2VyKHNtLCBfY29weSkpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJlbGVhc2UgdGhpcyBz\nYXZlcG9pbnQgYW5kIGFueSBhc3NvY2lhdGVkIHJlc291cmNlcy4gUmVsZWFz\nZXMKICAgICAqIHdpbGwgaGFwcGVuIGluIHJldmVyc2Ugb3JkZXIgb2YgY3Jl\nYXRpb24uCiAgICAgKgogICAgICogQHBhcmFtIHVzZXIgaWYgdHJ1ZSwgdXNl\nciBpbml0aWF0ZWQsIG90aGVyd2lzZSBhIHNpZGUgZWZmZWN0IG9mCiAgICAg\nKiBhbm90aGVyIHNhdmVwb2ludCdzIHJlbGVhc2Uvcm9sbGJhY2sKICAgICAq\nLwogICAgcHVibGljIHZvaWQgcmVsZWFzZShib29sZWFuIHVzZXIpIHsKICAg\nICAgICBfc2F2ZWQgPSBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogSGFu\nZGxlIHRoZSByb2xsZWQgYmFjayBzdGF0ZSwgcmV0dXJuaW5nIHNhdmVkIGRh\ndGEuCiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCByZXR1cm4gdGhlIGNvbGxl\nY3Rpb24gcmV0dXJuZWQgZnJvbSB0aGlzIG1ldGhvZC4KICAgICAqCiAgICAg\nKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXMgc2F2ZXBvaW50cyBzZXQgaW4g\ndGhlIHRyYW5zYWN0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBDb2xsZWN0aW9u\nIHJvbGxiYWNrKENvbGxlY3Rpb24gcHJldmlvdXMpIHsKICAgICAgICBNYXAg\nc2F2ZWQ7CiAgICAgICAgaWYgKHByZXZpb3VzLmlzRW1wdHkoKSkKICAgICAg\nICAgICAgc2F2ZWQgPSBfc2F2ZWQ7CiAgICAgICAgZWxzZSB7CiAgICAgICAg\nICAgIC8vIG1lcmdlIGFsbCBjaGFuZ2VzIGludG8gb25lIGNvbGxlY3Rpb24s\nIGFsbG93aW5nIGZvciBsYXRlcgogICAgICAgICAgICAvLyBTYXZlcG9pbnRG\naWVsZE1hbmFnZXJzIHRvIHJlcGxhY2UgcHJldmlvdXMgb25lcy4KICAgICAg\nICAgICAgc2F2ZWQgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgICAgICBmb3Ig\nKEl0ZXJhdG9yIGkgPSBwcmV2aW91cy5pdGVyYXRvcigpOyBpLmhhc05leHQo\nKTspCiAgICAgICAgICAgICAgICBzYXZlZC5wdXRBbGwoKChPcGVuSlBBU2F2\nZXBvaW50KSBpLm5leHQoKSkuZ2V0U3RhdGVzKCkpOwogICAgICAgICAgICBz\nYXZlZC5wdXRBbGwoX3NhdmVkKTsKICAgICAgICB9CiAgICAgICAgX3NhdmVk\nID0gbnVsbDsKICAgICAgICByZXR1cm4gc2F2ZWQudmFsdWVzICgpOwoJfQp9\nCg==\n","encoding":"base64"}

