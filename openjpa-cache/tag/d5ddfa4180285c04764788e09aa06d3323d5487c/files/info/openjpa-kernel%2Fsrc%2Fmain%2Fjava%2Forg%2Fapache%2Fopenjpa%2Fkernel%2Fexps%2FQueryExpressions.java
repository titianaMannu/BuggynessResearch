{"sha":"ac357b5eb74cc058bad6a4349b2522a397ba78ed","node_id":"MDQ6QmxvYjIwNjM2NDphYzM1N2I1ZWI3NGNjMDU4YmFkNmE0MzQ5YjI1MjJhMzk3YmE3OGVk","size":4422,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ac357b5eb74cc058bad6a4349b2522a397ba78ed","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHM7CgppbXBv\ncnQgamF2YS5pby5TZXJpYWxpemFibGU7CmltcG9ydCBqYXZhLnV0aWwuQ29s\nbGVjdGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGph\ndmEudXRpbC5NYXA7CgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmNvbGxl\nY3Rpb25zLm1hcC5MaW5rZWRNYXA7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEua2VybmVsLlF1ZXJ5T3BlcmF0aW9uczsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5rZXJuZWwuU3RvcmVRdWVyeTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFEYXRhOwoKLyoqCiAqIFN0cnVjdCB0\nbyBob2xkIHRoZSBzdGF0ZSBvZiBhIHBhcnNlZCBleHByZXNzaW9uIHF1ZXJ5\nLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAc2luY2UgMC4zLjIKICog\nQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIFF1ZXJ5RXhwcmVzc2lvbnMK\nICAgIGltcGxlbWVudHMgU2VyaWFsaXphYmxlIHsKCiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIGludCBESVNUSU5DVF9BVVRPID0gMiA8PCAwOwogICAgcHVi\nbGljIHN0YXRpYyBmaW5hbCBpbnQgRElTVElOQ1RfVFJVRSA9IDIgPDwgMTsK\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IERJU1RJTkNUX0ZBTFNFID0g\nMiA8PCAyOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBWYWx1ZVtdIEVNUFRZ\nX1ZBTFVFUyA9IG5ldyBWYWx1ZVswXTsKCiAgICAvKioKICAgICAqIE1hcCBv\nZiB7QGxpbmsgRmllbGRNZXRhRGF0YX0se0BsaW5rIFZhbHVlfSBmb3IgdXBk\nYXRlIHN0YXRlbWVudHMuCiAgICAgKi8KICAgIHB1YmxpYyBNYXAgdXBkYXRl\ncyA9IENvbGxlY3Rpb25zLkVNUFRZX01BUDsKICAgIHB1YmxpYyBpbnQgZGlz\ndGluY3QgPSBESVNUSU5DVF9BVVRPOwogICAgcHVibGljIFN0cmluZyBhbGlh\ncyA9IG51bGw7CiAgICBwdWJsaWMgVmFsdWVbXSBwcm9qZWN0aW9ucyA9IEVN\nUFRZX1ZBTFVFUzsKICAgIHB1YmxpYyBTdHJpbmdbXSBwcm9qZWN0aW9uQ2xh\ndXNlcyA9IFN0b3JlUXVlcnkuRU1QVFlfU1RSSU5HUzsKICAgIHB1YmxpYyBT\ndHJpbmdbXSBwcm9qZWN0aW9uQWxpYXNlcyA9IFN0b3JlUXVlcnkuRU1QVFlf\nU1RSSU5HUzsKICAgIHB1YmxpYyBDbGFzcyByZXN1bHRDbGFzcyA9IG51bGw7\nCiAgICBwdWJsaWMgRXhwcmVzc2lvbiBmaWx0ZXIgPSBudWxsOwogICAgcHVi\nbGljIFZhbHVlW10gZ3JvdXBpbmcgPSBFTVBUWV9WQUxVRVM7CiAgICBwdWJs\naWMgU3RyaW5nW10gZ3JvdXBpbmdDbGF1c2VzID0gU3RvcmVRdWVyeS5FTVBU\nWV9TVFJJTkdTOwogICAgcHVibGljIEV4cHJlc3Npb24gaGF2aW5nID0gbnVs\nbDsKICAgIHB1YmxpYyBWYWx1ZVtdIG9yZGVyaW5nID0gRU1QVFlfVkFMVUVT\nOwogICAgcHVibGljIGJvb2xlYW5bXSBhc2NlbmRpbmcgPSBTdG9yZVF1ZXJ5\nLkVNUFRZX0JPT0xFQU5TOwogICAgcHVibGljIFN0cmluZ1tdIG9yZGVyaW5n\nQ2xhdXNlcyA9IFN0b3JlUXVlcnkuRU1QVFlfU1RSSU5HUzsKICAgIHB1Ymxp\nYyBMaW5rZWRNYXAgcGFyYW1ldGVyVHlwZXMgPSBTdG9yZVF1ZXJ5LkVNUFRZ\nX1BBUkFNUzsKICAgIHB1YmxpYyBpbnQgb3BlcmF0aW9uID0gUXVlcnlPcGVy\nYXRpb25zLk9QX1NFTEVDVDsKICAgIHB1YmxpYyBDbGFzc01ldGFEYXRhW10g\nYWNjZXNzUGF0aCA9IFN0b3JlUXVlcnkuRU1QVFlfTUVUQVM7CiAgICBwdWJs\naWMgU3RyaW5nW10gZmV0Y2hQYXRocyA9IFN0b3JlUXVlcnkuRU1QVFlfU1RS\nSU5HUzsKICAgIHB1YmxpYyBTdHJpbmdbXSBmZXRjaElubmVyUGF0aHMgPSBT\ndG9yZVF1ZXJ5LkVNUFRZX1NUUklOR1M7CiAgICBwdWJsaWMgVmFsdWVbXSBy\nYW5nZSA9IEVNUFRZX1ZBTFVFUzsKICAgIHByaXZhdGUgQm9vbGVhbiBfYWdn\ncmVnYXRlID0gbnVsbDsKCiAgICAvKioKICAgICAqIFdoZXRoZXIgdGhpcyBp\ncyBhbiBhZ2dyZWdhdGUgcmVzdWx0cy4KICAgICAqLwogICAgcHVibGljIGJv\nb2xlYW4gaXNBZ2dyZWdhdGUoKSB7CiAgICAgICAgaWYgKHByb2plY3Rpb25z\nLmxlbmd0aCA9PSAwKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7IAogICAg\nICAgIGlmIChfYWdncmVnYXRlID09IG51bGwpCiAgICAgICAgICAgIF9hZ2dy\nZWdhdGUgPSAoQWdncmVnYXRlRXhwcmVzc2lvblZpc2l0b3IuaXNBZ2dyZWdh\ndGUocHJvamVjdGlvbnMpKQogICAgICAgICAgICAgICAgPyBCb29sZWFuLlRS\nVUUgOiBCb29sZWFuLkZBTFNFOwogICAgICAgIHJldHVybiBfYWdncmVnYXRl\nLmJvb2xlYW5WYWx1ZSgpOyAgICAKICAgIH0KCiAgICAvKioKICAgICAqIEFk\nZCBhbiB1cGRhdGUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHB1dFVwZGF0\nZShQYXRoIHBhdGgsIFZhbHVlIHZhbCkgewogICAgICAgIGlmICh1cGRhdGVz\nID09IENvbGxlY3Rpb25zLkVNUFRZX01BUCkKICAgICAgICAgICAgdXBkYXRl\ncyA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgdXBkYXRlcy5wdXQocGF0aCwg\ndmFsKTsKICAgIH0KCiAgICAvKioKICAgICAqIFZpc2l0b3IgdG8gZGV0ZXJt\naW5lIHdoZXRoZXIgb3VyIHByb2plY3Rpb25zIGFyZSBhZ2dyZWdhdGVzLgog\nICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBjbGFzcyBBZ2dyZWdhdGVFeHBy\nZXNzaW9uVmlzaXRvcgogICAgICAgIGV4dGVuZHMgQWJzdHJhY3RFeHByZXNz\naW9uVmlzaXRvciB7CiAgICAgICAgCiAgICAgICAgcHJpdmF0ZSBWYWx1ZSBf\nc3ViID0gbnVsbDsKICAgICAgICBwcml2YXRlIGJvb2xlYW4gX2FnZyA9IGZh\nbHNlOwoKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1cm4gd2hldGhlciB0\naGUgZ2l2ZW4gdmFsdWVzIGluY2x1ZGUgcHJvamVjdGlvbnMuCiAgICAgICAg\nICovCiAgICAgICAgcHVibGljIHN0YXRpYyBib29sZWFuIGlzQWdncmVnYXRl\nKFZhbHVlW10gdmFscykgewogICAgICAgICAgICBpZiAodmFscy5sZW5ndGgg\nPT0gMCkKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAg\nICAgQWdncmVnYXRlRXhwcmVzc2lvblZpc2l0b3IgdiA9IG5ldyBBZ2dyZWdh\ndGVFeHByZXNzaW9uVmlzaXRvcigpOwogICAgICAgICAgICBmb3IgKGludCBp\nID0gMDsgaSA8IHZhbHMubGVuZ3RoICYmICF2Ll9hZ2c7IGkrKykKICAgICAg\nICAgICAgICAgIHZhbHNbaV0uYWNjZXB0VmlzaXQodik7CiAgICAgICAgICAg\nIHJldHVybiB2Ll9hZ2c7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgdm9p\nZCBlbnRlcihWYWx1ZSB2YWwpIHsKICAgICAgICAgICAgaWYgKF9hZ2cpCiAg\nICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChfc3ViID09\nIG51bGwpIHsKICAgICAgICAgICAgICAgIGlmICh2YWwuaXNBZ2dyZWdhdGUo\nKSkKICAgICAgICAgICAgICAgICAgICBfYWdnID0gdHJ1ZTsKICAgICAgICAg\nICAgfSBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBTdWJxdWVyeSkKICAgICAg\nICAgICAgICAgIF9zdWIgPSB2YWw7CiAgICAgICAgfQoKICAgICAgICBwdWJs\naWMgdm9pZCBleGl0KFZhbHVlIHZhbCkgewogICAgICAgICAgICBpZiAodmFs\nID09IF9zdWIpCiAgICAgICAgICAgICAgICBfc3ViID0gbnVsbDsKICAgICAg\nICB9CiAgICB9Cn0K\n","encoding":"base64"}

