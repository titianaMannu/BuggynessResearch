{"sha":"0943ab0b1506c4dd71bfbe9d564d195ea923d236","node_id":"MDQ6QmxvYjIwNjM2NDowOTQzYWIwYjE1MDZjNGRkNzFiZmJlOWQ1NjRkMTk1ZWE5MjNkMjM2","size":6201,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0943ab0b1506c4dd71bfbe9d564d195ea923d236","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmpwcWw7CgppbXBv\ncnQgamF2YS51dGlsLlRyZWVTZXQ7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmxpYi51dGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXIuTWVzc2FnZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS51dGlsLlVzZXJFeGNlcHRpb247CgovKioKICogU2ln\nbmlmaWVzIHRoYXQgYSBsZXhpY2FsIGVycm9yIG9jY3VycmVkIHdoZW4gcGFy\nc2luZyB0aGUgSlBRTCBzdGF0ZW1lbnQuCiAqCiAqIEBhdXRob3IgTWFyYyBQ\ncnVkJ2hvbW1lYXV4CiAqLwpwdWJsaWMgY2xhc3MgUGFyc2VFeGNlcHRpb24K\nICAgIGV4dGVuZHMgVXNlckV4Y2VwdGlvbiB7CgogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPQogICAgICAgIExvY2FsaXplci5m\nb3JQYWNrYWdlKFBhcnNlRXhjZXB0aW9uLmNsYXNzKTsKCiAgICAvKioKICAg\nICAqIFRoaXMgY29uc3RydWN0b3IgaXMgdXNlZCBieSB0aGUgbWV0aG9kICJn\nZW5lcmF0ZVBhcnNlRXhjZXB0aW9uIgogICAgICogaW4gdGhlIGdlbmVyYXRl\nZCBwYXJzZXIuIENhbGxpbmcgdGhpcyBjb25zdHJ1Y3RvciBnZW5lcmF0ZXMK\nICAgICAqIGEgbmV3IG9iamVjdCBvZiB0aGlzIHR5cGUgd2l0aCB0aGUgZmll\nbGRzICJjdXJyZW50VG9rZW4iLAogICAgICogImV4cGVjdGVkVG9rZW5TZXF1\nZW5jZXMiLCBhbmQgInRva2VuSW1hZ2UiIHNldC4KICAgICAqIFRoaXMgY29u\nc3RydWN0b3IgY2FsbHMgaXRzIHN1cGVyIGNsYXNzIHdpdGggdGhlIGVtcHR5\nIHN0cmluZwogICAgICogdG8gZm9yY2UgdGhlICJ0b1N0cmluZyIgbWV0aG9k\nIG9mIHBhcmVudCBjbGFzcyAiVGhyb3dhYmxlIiB0bwogICAgICogcHJpbnQg\ndGhlIGVycm9yIG1lc3NhZ2UgaW4gdGhlIGZvcm06CiAgICAgKiBQYXJzZUV4\nY2VwdGlvbjogPHJlc3VsdCBvZiBnZXRNZXNzYWdlPgogICAgICovCiAgICBw\ndWJsaWMgUGFyc2VFeGNlcHRpb24oVG9rZW4gY3VycmVudFRva2VuVmFsLAog\nICAgICAgIGludFtdW11leHBlY3RlZFRva2VuU2VxdWVuY2VzVmFsLCBTdHJp\nbmdbXXRva2VuSW1hZ2VWYWwpIHsKICAgICAgICBzdXBlcihpbml0TWVzc2Fn\nZShjdXJyZW50VG9rZW5WYWwsCiAgICAgICAgICAgIGV4cGVjdGVkVG9rZW5T\nZXF1ZW5jZXNWYWwsIHRva2VuSW1hZ2VWYWwpKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFRoZSBmb2xsb3dpbmcgY29uc3RydWN0b3JzIGFyZSBmb3IgdXNl\nIGJ5IHlvdSBmb3Igd2hhdGV2ZXIKICAgICAqIHB1cnBvc2UgeW91IGNhbiB0\naGluayBvZi4gQ29uc3RydWN0aW5nIHRoZSBleGNlcHRpb24gaW4gdGhpcwog\nICAgICogbWFubmVyIG1ha2VzIHRoZSBleGNlcHRpb24gYmVoYXZlIGluIHRo\nZSBub3JtYWwgd2F5IC0gaS5lLiwgYXMKICAgICAqIGRvY3VtZW50ZWQgaW4g\ndGhlIGNsYXNzICJUaHJvd2FibGUiLiBUaGUgZmllbGRzICJlcnJvclRva2Vu\nIiwKICAgICAqICJleHBlY3RlZFRva2VuU2VxdWVuY2VzIiwgYW5kICJ0b2tl\nbkltYWdlIiBkbyBub3QgY29udGFpbgogICAgICogcmVsZXZhbnQgaW5mb3Jt\nYXRpb24uIFRoZSBKYXZhQ0MgZ2VuZXJhdGVkIGNvZGUgZG9lcyBub3QgdXNl\nCiAgICAgKiB0aGVzZSBjb25zdHJ1Y3RvcnMuCiAgICAgKi8KICAgIHB1Ymxp\nYyBQYXJzZUV4Y2VwdGlvbigpIHsKICAgICAgICBzdXBlcigpOwogICAgfQoK\nICAgIC8qKgogICAgICogU3RyaW5nIGNvbnN0cnVjdG9yLiBDb25zdHJ1Y3Rp\nbmcgdGhlIGV4Y2VwdGlvbiBpbiB0aGlzCiAgICAgKiBtYW5uZXIgbWFrZXMg\ndGhlIGV4Y2VwdGlvbiBiZWhhdmUgaW4gdGhlIG5vcm1hbCB3YXkgLSBpLmUu\nLCBhcwogICAgICogZG9jdW1lbnRlZCBpbiB0aGUgY2xhc3MgIlRocm93YWJs\nZSIuIFRoZSBmaWVsZHMgImVycm9yVG9rZW4iLAogICAgICogImV4cGVjdGVk\nVG9rZW5TZXF1ZW5jZXMiLCBhbmQgInRva2VuSW1hZ2UiIGRvIG5vdCBjb250\nYWluCiAgICAgKiByZWxldmFudCBpbmZvcm1hdGlvbi4gVGhlIEphdmFDQyBn\nZW5lcmF0ZWQgY29kZSBkb2VzIG5vdCB1c2UKICAgICAqIHRoZXNlIGNvbnN0\ncnVjdG9ycy4KICAgICAqLwogICAgcHVibGljIFBhcnNlRXhjZXB0aW9uKFN0\ncmluZyBtZXNzYWdlKSB7CiAgICAgICAgc3VwZXIobWVzc2FnZSk7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBUaGlzIG1ldGhvZCBoYXMgdGhlIHN0YW5kYXJk\nIGJlaGF2aW9yIHdoZW4gdGhpcyBvYmplY3QgaGFzIGJlZW4KICAgICAqIGNy\nZWF0ZWQgdXNpbmcgdGhlIHN0YW5kYXJkIGNvbnN0cnVjdG9ycy4gT3RoZXJ3\naXNlLCBpdCB1c2VzCiAgICAgKiAiY3VycmVudFRva2VuIiBhbmQgImV4cGVj\ndGVkVG9rZW5TZXF1ZW5jZXMiIHRvIGdlbmVyYXRlIGEgcGFyc2UKICAgICAq\nIGVycm9yIG1lc3NhZ2UgYW5kIHJldHVybnMgaXQuIElmIHRoaXMgb2JqZWN0\nIGhhcyBiZWVuIGNyZWF0ZWQKICAgICAqIGR1ZSB0byBhIHBhcnNlIGVycm9y\nLCBhbmQgeW91IGRvIG5vdCBjYXRjaCBpdCAoaXQgZ2V0cyB0aHJvd24KICAg\nICAqIGZyb20gdGhlIHBhcnNlciksIHRoZW4gdGhpcyBtZXRob2QgaXMgY2Fs\nbGVkIGR1cmluZyB0aGUgcHJpbnRpbmcKICAgICAqIG9mIHRoZSBmaW5hbCBz\ndGFjayB0cmFjZSwgYW5kIGhlbmNlIHRoZSBjb3JyZWN0IGVycm9yIG1lc3Nh\nZ2UKICAgICAqIGdldHMgZGlzcGxheWVkLgogICAgICovCiAgICBwcml2YXRl\nIHN0YXRpYyBNZXNzYWdlIGluaXRNZXNzYWdlKFRva2VuIGN1cnJlbnRUb2tl\nbiwKICAgICAgICBpbnRbXVtdZXhwZWN0ZWRUb2tlblNlcXVlbmNlcywgU3Ry\naW5nW110b2tlbkltYWdlKSB7CiAgICAgICAgVHJlZVNldCBleHBlY3RlZCA9\nIG5ldyBUcmVlU2V0KCk7CgogICAgICAgIGludCBtYXhTaXplID0gMDsKCiAg\nICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBleHBlY3RlZFRva2VuU2VxdWVu\nY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChtYXhTaXplIDwg\nZXhwZWN0ZWRUb2tlblNlcXVlbmNlc1tpXS5sZW5ndGgpCiAgICAgICAgICAg\nICAgICBtYXhTaXplID0gZXhwZWN0ZWRUb2tlblNlcXVlbmNlc1tpXS5sZW5n\ndGg7CgogICAgICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IGV4cGVjdGVk\nVG9rZW5TZXF1ZW5jZXNbaV0ubGVuZ3RoOyBqKyspCiAgICAgICAgICAgICAg\nICBleHBlY3RlZC5hZGQodG9rZW5JbWFnZVtleHBlY3RlZFRva2VuU2VxdWVu\nY2VzW2ldW2pdXSk7CiAgICAgICAgfQoKICAgICAgICBUb2tlbiB0b2sgPSBj\ndXJyZW50VG9rZW4ubmV4dDsKCiAgICAgICAgU3RyaW5nIGN1cnRvayA9ICIi\nOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbWF4U2l6ZTsgaSsrKSB7\nCiAgICAgICAgICAgIGlmIChpICE9IDApCiAgICAgICAgICAgICAgICBjdXJ0\nb2sgKz0gIiAiOwogICAgICAgICAgICBpZiAodG9rLmtpbmQgPT0gMCkgewog\nICAgICAgICAgICAgICAgY3VydG9rICs9IHRva2VuSW1hZ2VbMF07CiAgICAg\nICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAg\nY3VydG9rICs9IGVzY2FwZSh0b2suaW1hZ2UpOwogICAgICAgICAgICB0b2sg\nPSB0b2submV4dDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfbG9jLmdl\ndCgiYmFkLXBhcnNlIiwgbmV3IE9iamVjdFtdeyBjdXJ0b2ssCiAgICAgICAg\nICAgIG5ldyBJbnRlZ2VyKGN1cnJlbnRUb2tlbi5uZXh0LmJlZ2luQ29sdW1u\nKSwgZXhwZWN0ZWQgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBVc2VkIHRv\nIGNvbnZlcnQgcmF3IGNoYXJhY3RlcnMgdG8gdGhlaXIgZXNjYXBlZCB2ZXJz\naW9uCiAgICAgKiB3aGVuIHRoZXNlIHJhdyB2ZXJzaW9uIGNhbm5vdCBiZSB1\nc2VkIGFzIHBhcnQgb2YgYW4gQVNDSUkgc3RyaW5nIGxpdGVyYWwuCiAgICAg\nKi8KICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBlc2NhcGUoU3RyaW5nIHN0\ncikgewogICAgICAgIFN0cmluZ0J1ZmZlciByZXR2YWwgPSBuZXcgU3RyaW5n\nQnVmZmVyKCk7CiAgICAgICAgY2hhciBjaDsKCiAgICAgICAgZm9yIChpbnQg\naSA9IDA7IGkgPCBzdHIubGVuZ3RoKCk7IGkrKykgewogICAgICAgICAgICBz\nd2l0Y2ggKHN0ci5jaGFyQXQoaSkpIHsKICAgICAgICAgICAgICAgIGNhc2Ug\nMDoKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAg\nICAgIGNhc2UgJ1xiJzoKICAgICAgICAgICAgICAgICAgICByZXR2YWwuYXBw\nZW5kKCJcXGIiKTsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAg\nICAgICAgICAgICAgIGNhc2UgJ1x0JzoKICAgICAgICAgICAgICAgICAgICBy\nZXR2YWwuYXBwZW5kKCJcXHQiKTsKICAgICAgICAgICAgICAgICAgICBjb250\naW51ZTsKICAgICAgICAgICAgICAgIGNhc2UgJ1xuJzoKICAgICAgICAgICAg\nICAgICAgICByZXR2YWwuYXBwZW5kKCJcXG4iKTsKICAgICAgICAgICAgICAg\nICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIGNhc2UgJ1xmJzoKICAg\nICAgICAgICAgICAgICAgICByZXR2YWwuYXBwZW5kKCJcXGYiKTsKICAgICAg\nICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIGNhc2Ug\nJ1xyJzoKICAgICAgICAgICAgICAgICAgICByZXR2YWwuYXBwZW5kKCJcXHIi\nKTsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAg\nICAgIGNhc2UgJ1wiJzoKICAgICAgICAgICAgICAgICAgICByZXR2YWwuYXBw\nZW5kKCJcXFwiIik7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAg\nICAgICAgICAgICAgICBjYXNlICdcJyc6CiAgICAgICAgICAgICAgICAgICAg\ncmV0dmFsLmFwcGVuZCgiXFxcJyIpOwogICAgICAgICAgICAgICAgICAgIGNv\nbnRpbnVlOwogICAgICAgICAgICAgICAgY2FzZSAnXFwnOgogICAgICAgICAg\nICAgICAgICAgIHJldHZhbC5hcHBlbmQoIlxcXFwiKTsKICAgICAgICAgICAg\nICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAg\nICAgICAgICAgICAgICAgICAgaWYgKChjaCA9IHN0ci5jaGFyQXQoaSkpIDwg\nMHgyMCB8fCBjaCA+IDB4N2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAg\nU3RyaW5nIHMgPSAiMDAwMCIgKyBJbnRlZ2VyLnRvU3RyaW5nKGNoLCAxNik7\nCgogICAgICAgICAgICAgICAgICAgICAgICByZXR2YWwuYXBwZW5kKCJcXHUi\nICsgcy5zdWJzdHJpbmcocy5sZW5ndGgoKSAtIDQsCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICBzLmxlbmd0aCgpKSk7CiAgICAgICAgICAgICAgICAg\nICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dmFsLmFw\ncGVuZChjaCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg\nICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAg\nICAgIHJldHVybiByZXR2YWwudG9TdHJpbmcoKTsKCX0KCn0K\n","encoding":"base64"}

