{"sha":"93578493fa4416cca12e981b14b9ba4bd713f4c2","node_id":"MDQ6QmxvYjIwNjM2NDo5MzU3ODQ5M2ZhNDQxNmNjYTEyZTk4MWIxNGI5YmE0YmQ3MTNmNGMy","size":4284,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/93578493fa4416cca12e981b14b9ba4bd713f4c2","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmNvbmY7DQoNCmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRy\nb2xsZXI7DQoNCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1vbnMubGFuZy5PYmpl\nY3RVdGlsczsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwu\nSjJEb1ByaXZIZWxwZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi51dGlsLkxvY2FsaXplcjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLnV0aWwuUmVmZXJlbmNlTWFwOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIudXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRSZWZlcmVuY2VI\nYXNoTWFwOw0KDQovKioNCiAqIEFuIG9iamVjdCB7QGxpbmsgVmFsdWV9Lg0K\nICoNCiAqIEBhdXRob3IgQWJlIFdoaXRlDQogKi8NCnB1YmxpYyBjbGFzcyBP\nYmplY3RWYWx1ZSBleHRlbmRzIFZhbHVlIHsNCg0KICAgIHByaXZhdGUgc3Rh\ndGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2th\nZ2UNCiAgICAgICAgKE9iamVjdFZhbHVlLmNsYXNzKTsNCg0KICAgIC8vIGNh\nY2hlIHRoZSB0eXBlcycgY2xhc3Nsb2FkZXINCiAgICBwcml2YXRlIHN0YXRp\nYyBDb25jdXJyZW50UmVmZXJlbmNlSGFzaE1hcCBfY2xhc3Nsb2FkZXJDYWNo\nZSA9DQogICAgICAgIG5ldyBDb25jdXJyZW50UmVmZXJlbmNlSGFzaE1hcChS\nZWZlcmVuY2VNYXAuSEFSRCwgUmVmZXJlbmNlTWFwLldFQUspOw0KDQogICAg\ncHJpdmF0ZSBPYmplY3QgX3ZhbHVlID0gbnVsbDsNCg0KICAgIHB1YmxpYyBP\nYmplY3RWYWx1ZShTdHJpbmcgcHJvcCkgew0KICAgICAgICBzdXBlcihwcm9w\nKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBUaGUgaW50ZXJuYWwgdmFs\ndWUuDQogICAgICovDQogICAgcHVibGljIE9iamVjdCBnZXQoKSB7DQogICAg\nICAgIHJldHVybiBfdmFsdWU7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog\nVGhlIGludGVybmFsIHZhbHVlLg0KICAgICAqLw0KICAgIHB1YmxpYyB2b2lk\nIHNldChPYmplY3Qgb2JqKSB7DQogICAgICAgIHNldChvYmosIGZhbHNlKTsN\nCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBUaGUgaW50ZXJuYWwgdmFsdWUu\nDQogICAgICoNCiAgICAgKiBAcGFyYW0gZGVyaXZlZCBpZiB0cnVlLCB0aGlz\nIHZhbHVlIHdhcyBkZXJpdmVkIGZyb20gb3RoZXIgcHJvcGVydGllcw0KICAg\nICAqLw0KICAgIHB1YmxpYyB2b2lkIHNldChPYmplY3Qgb2JqLCBib29sZWFu\nIGRlcml2ZWQpIHsNCiAgICAgICAgaWYgKCFkZXJpdmVkKSBhc3NlcnRDaGFu\nZ2VhYmxlKCk7DQogICAgICAgIE9iamVjdCBvbGRWYWx1ZSA9IF92YWx1ZTsN\nCiAgICAgICAgX3ZhbHVlID0gb2JqOw0KICAgICAgICBpZiAoIWRlcml2ZWQg\nJiYgIU9iamVjdFV0aWxzLmVxdWFscyhvYmosIG9sZFZhbHVlKSkgew0KICAg\nICAgICAgICAgb2JqZWN0Q2hhbmdlZCgpOw0KICAgICAgICAgICAgdmFsdWVD\naGFuZ2VkKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAg\nKiBJbnN0YW50aWF0ZSB0aGUgb2JqZWN0IGFzIGFuIGluc3RhbmNlIG9mIHRo\nZSBnaXZlbiBjbGFzcy4gRXF1aXZhbGVudA0KICAgICAqIHRvIDxjb2RlPmlu\nc3RhbnRpYXRlKHR5cGUsIGNvbmYsIHRydWUpPC9jb2RlPi4NCiAgICAgKi8N\nCiAgICBwdWJsaWMgT2JqZWN0IGluc3RhbnRpYXRlKENsYXNzIHR5cGUsIENv\nbmZpZ3VyYXRpb24gY29uZikgew0KICAgICAgICByZXR1cm4gaW5zdGFudGlh\ndGUodHlwZSwgY29uZiwgdHJ1ZSk7DQogICAgfQ0KDQogICAgLyoqDQogICAg\nICogSW5zdGFudGlhdGUgdGhlIG9iamVjdCBhcyBhbiBpbnN0YW5jZSBvZiB0\naGUgZ2l2ZW4gY2xhc3MuDQogICAgICovDQogICAgcHVibGljIE9iamVjdCBp\nbnN0YW50aWF0ZShDbGFzcyB0eXBlLCBDb25maWd1cmF0aW9uIGNvbmYsIGJv\nb2xlYW4gZmF0YWwpIHsNCiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVk\nT3BlcmF0aW9uRXhjZXB0aW9uKCk7DQogICAgfQ0KDQogICAgLyoqDQogICAg\nICogQWxsb3cgc3ViY2xhc3NlcyB0byBpbnN0YW50aWF0ZSBhZGRpdGlvbmFs\nIHBsdWdpbnMuIFRoaXMgbWV0aG9kIGRvZXMNCiAgICAgKiBub3QgcGVyZm9y\nbSBjb25maWd1cmF0aW9uLg0KICAgICAqLw0KICAgIHB1YmxpYyBPYmplY3Qg\nbmV3SW5zdGFuY2UoU3RyaW5nIGNsc05hbWUsIENsYXNzIHR5cGUsIENvbmZp\nZ3VyYXRpb24gY29uZiwNCiAgICAgICAgICAgIGJvb2xlYW4gZmF0YWwpIHsN\nCiAgICAgICAgQ2xhc3NMb2FkZXIgY2wgPSAoQ2xhc3NMb2FkZXIpIF9jbGFz\nc2xvYWRlckNhY2hlLmdldCh0eXBlKTsNCiAgICAgICAgaWYgKGNsID09IG51\nbGwpIHsNCiAgICAgICAgICAgIGNsID0gKENsYXNzTG9hZGVyKSBBY2Nlc3ND\nb250cm9sbGVyLmRvUHJpdmlsZWdlZCgNCiAgICAgICAgICAgICAgICBKMkRv\nUHJpdkhlbHBlci5nZXRDbGFzc0xvYWRlckFjdGlvbih0eXBlKSk7DQogICAg\nICAgICAgICBpZiAoY2wgPT0gbnVsbCkgeyAgLy8gU3lzdGVtIGNsYXNzbG9h\nZGVyIGlzIHJldHVybmVkIGFzIG51bGwNCiAgICAgICAgICAgICAgICBjbCA9\nIChDbGFzc0xvYWRlcikgQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQo\nDQogICAgICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVscGVyLmdldFN5c3Rl\nbUNsYXNzTG9hZGVyQWN0aW9uKCkpOyANCiAgICAgICAgICAgIH0NCiAgICAg\nICAgICAgIF9jbGFzc2xvYWRlckNhY2hlLnB1dCh0eXBlLCBjbCk7DQogICAg\nICAgIH0NCiAgICAgICAgcmV0dXJuIENvbmZpZ3VyYXRpb25zLm5ld0luc3Rh\nbmNlKGNsc05hbWUsIHRoaXMsIGNvbmYsIGNsLCBmYXRhbCk7DQogICAgfQ0K\nDQogICAgcHVibGljIENsYXNzIGdldFZhbHVlVHlwZSgpIHsNCiAgICAgICAg\ncmV0dXJuIE9iamVjdC5jbGFzczsNCiAgICB9DQoNCiAgICAvKioNCiAgICAg\nKiBJbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gc3luY2hyb25pemUgaW50ZXJu\nYWwgZGF0YSB3aXRoIHRoZSBuZXcNCiAgICAgKiBvYmplY3QgdmFsdWUuDQog\nICAgICovDQogICAgcHJvdGVjdGVkIHZvaWQgb2JqZWN0Q2hhbmdlZCgpIHsN\nCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgU3RyaW5nIGdldEludGVybmFsU3Ry\naW5nKCkgew0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9DQoNCiAgICBw\ncm90ZWN0ZWQgdm9pZCBzZXRJbnRlcm5hbFN0cmluZyhTdHJpbmcgc3RyKSB7\nDQogICAgICAgIGlmIChzdHIgPT0gbnVsbCkNCiAgICAgICAgICAgIHNldChu\ndWxsKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgdGhyb3cgbmV3IEls\nbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihfbG9jLmdldCgiY2FudC1zZXQtc3Ry\naW5nIiwNCiAgICAgICAgICAgICAgICBnZXRQcm9wZXJ0eSgpKS5nZXRNZXNz\nYWdlKCkpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCB2b2lkIHNldEludGVy\nbmFsT2JqZWN0KE9iamVjdCBvYmopIHsNCiAgICAgICAgc2V0KG9iaik7DQog\nICAgfQ0KfQ0K\n","encoding":"base64"}

