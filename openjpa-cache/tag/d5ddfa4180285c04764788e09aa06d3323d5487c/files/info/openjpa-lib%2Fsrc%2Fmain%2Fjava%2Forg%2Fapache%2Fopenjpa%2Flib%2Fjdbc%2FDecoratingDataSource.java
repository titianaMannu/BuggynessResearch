{"sha":"81269c9047c961ef47e24c487190bb1f0c52604a","node_id":"MDQ6QmxvYjIwNjM2NDo4MTI2OWM5MDQ3Yzk2MWVmNDdlMjRjNDg3MTkwYmIxZjBjNTI2MDRh","size":3121,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/81269c9047c961ef47e24c487190bb1f0c52604a","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmpkYmM7DQoNCmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uOw0KaW1w\nb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwu\nQ29sbGVjdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbnM7DQpp\nbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOw0KaW1wb3J0IGphdmEudXRpbC5M\naXN0Ow0KaW1wb3J0IGphdmF4LnNxbC5EYXRhU291cmNlOw0KDQppbXBvcnQg\namF2YS51dGlsLmNvbmN1cnJlbnQuQ29weU9uV3JpdGVBcnJheUxpc3Q7DQoN\nCi8qKg0KICogRGVsZWdhdGluZyBkYXRhIHNvdXJjZSB0aGF0IG1haW50YWlu\ncyBhIGxpc3Qgb2Yge0BsaW5rIENvbm5lY3Rpb25EZWNvcmF0b3J9cy4NCiAq\nDQogKiBAYXV0aG9yIEFiZSBXaGl0ZQ0KICogQG5vamF2YWRvYw0KICovDQpw\ndWJsaWMgY2xhc3MgRGVjb3JhdGluZ0RhdGFTb3VyY2UgZXh0ZW5kcyBEZWxl\nZ2F0aW5nRGF0YVNvdXJjZSB7DQoNCiAgICBwcml2YXRlIExpc3QgX2RlY29y\nYXRvcnMgPSBuZXcgQ29weU9uV3JpdGVBcnJheUxpc3QoKTsNCg0KICAgIC8q\nKg0KICAgICAqIENvbnN0cnVjdG9yLiBTdXBwbHkgd3JhcHBlZCBkYXRhIHNv\ndXJjZS4NCiAgICAgKi8NCiAgICBwdWJsaWMgRGVjb3JhdGluZ0RhdGFTb3Vy\nY2UoRGF0YVNvdXJjZSBkcykgew0KICAgICAgICBzdXBlcihkcyk7DQogICAg\nfQ0KDQogICAgLyoqDQogICAgICogUmV0dXJuIGEgcmVhZC1vbmx5IGxpc3Qg\nb2YgY29ubmVjdGlvbiBkZWNvcmF0b3JzIGluIHRoZSBvcmRlciB0aGV5IHdl\ncmUNCiAgICAgKiBhZGRlZC4NCiAgICAgKi8NCiAgICBwdWJsaWMgQ29sbGVj\ndGlvbiBnZXREZWNvcmF0b3JzKCkgew0KICAgICAgICByZXR1cm4gQ29sbGVj\ndGlvbnMudW5tb2RpZmlhYmxlQ29sbGVjdGlvbihfZGVjb3JhdG9ycyk7DQog\nICAgfQ0KDQogICAgLyoqDQogICAgICogQWRkIGEgY29ubmVjdGlvbiBkZWNv\ncmF0b3IuDQogICAgICovDQogICAgcHVibGljIHZvaWQgYWRkRGVjb3JhdG9y\nKENvbm5lY3Rpb25EZWNvcmF0b3IgZGVjb3JhdG9yKSB7DQogICAgICAgIGlm\nIChkZWNvcmF0b3IgIT0gbnVsbCkNCiAgICAgICAgICAgIF9kZWNvcmF0b3Jz\nLmFkZChkZWNvcmF0b3IpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEFk\nZCBtdWx0aXBsZSBjb25uZWN0aW9uIGRlY29yYXRvcnMgZWZmaWNpZW50bHku\nDQogICAgICovDQogICAgcHVibGljIHZvaWQgYWRkRGVjb3JhdG9ycyhDb2xs\nZWN0aW9uIGRlY29yYXRvcnMpIHsNCiAgICAgICAgaWYgKGRlY29yYXRvcnMg\nIT0gbnVsbCkNCiAgICAgICAgICAgIF9kZWNvcmF0b3JzLmFkZEFsbChkZWNv\ncmF0b3JzKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBSZW1vdmUgYSBj\nb25uZWN0aW9uIGRlY29yYXRvci4NCiAgICAgKi8NCiAgICBwdWJsaWMgYm9v\nbGVhbiByZW1vdmVEZWNvcmF0b3IoQ29ubmVjdGlvbkRlY29yYXRvciBkZWNv\ncmF0b3IpIHsNCiAgICAgICAgcmV0dXJuIF9kZWNvcmF0b3JzLnJlbW92ZShk\nZWNvcmF0b3IpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIENsZWFyIGFs\nbCBkZWNvcmF0b3JzLg0KICAgICAqLw0KICAgIHB1YmxpYyB2b2lkIGNsZWFy\nRGVjb3JhdG9ycygpIHsNCiAgICAgICAgX2RlY29yYXRvcnMuY2xlYXIoKTsN\nCiAgICB9DQoNCiAgICBwdWJsaWMgQ29ubmVjdGlvbiBnZXRDb25uZWN0aW9u\nKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQogICAgICAgIENvbm5lY3Rpb24g\nY29ubiA9IHN1cGVyLmdldENvbm5lY3Rpb24oKTsNCiAgICAgICAgcmV0dXJu\nIGRlY29yYXRlKGNvbm4pOw0KICAgIH0NCg0KICAgIHB1YmxpYyBDb25uZWN0\naW9uIGdldENvbm5lY3Rpb24oU3RyaW5nIHVzZXIsIFN0cmluZyBwYXNzKQ0K\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCiAgICAgICAgQ29ubmVj\ndGlvbiBjb25uID0gc3VwZXIuZ2V0Q29ubmVjdGlvbih1c2VyLCBwYXNzKTsN\nCiAgICAgICAgcmV0dXJuIGRlY29yYXRlKGNvbm4pOw0KICAgIH0NCg0KICAg\nIHByaXZhdGUgQ29ubmVjdGlvbiBkZWNvcmF0ZShDb25uZWN0aW9uIGNvbm4p\nIHRocm93cyBTUUxFeGNlcHRpb24gew0KICAgICAgICBpZiAoIV9kZWNvcmF0\nb3JzLmlzRW1wdHkoKSkNCiAgICAgICAgICAgIGZvciAoSXRlcmF0b3IgaXRy\nID0gX2RlY29yYXRvcnMuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspDQog\nICAgICAgICAgICAgICAgY29ubiA9ICgoQ29ubmVjdGlvbkRlY29yYXRvcikg\naXRyLm5leHQoKSkuZGVjb3JhdGUoY29ubik7DQogICAgICAgIHJldHVybiBj\nb25uOw0KICAgIH0NCn0NCg==\n","encoding":"base64"}

