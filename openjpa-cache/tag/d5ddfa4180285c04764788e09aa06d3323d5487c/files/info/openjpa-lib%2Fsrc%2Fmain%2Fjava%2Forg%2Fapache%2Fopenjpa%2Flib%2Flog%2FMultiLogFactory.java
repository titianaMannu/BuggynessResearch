{"sha":"13fb9fced33084c1bf27189faddd87de8b8f1458","node_id":"MDQ6QmxvYjIwNjM2NDoxM2ZiOWZjZWQzMzA4NGMxYmYyNzE4OWZhZGRkODdkZThiOGYxNDU4","size":5812,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/13fb9fced33084c1bf27189faddd87de8b8f1458","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmxvZzsNCg0KaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7DQppbXBv\ncnQgamF2YS51dGlsLkFycmF5czsNCmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0\nb3I7DQppbXBvcnQgamF2YS51dGlsLkxpc3Q7DQoNCmltcG9ydCBqYXZhLnV0\naWwuY29uY3VycmVudC5Db3B5T25Xcml0ZUFycmF5TGlzdDsNCg0KLyoqDQog\nKiBBIExvZ0ZhY3RvcnkgaW1wbGVtZW50YXRpb24gdG8gcGFzcyBldmVudHMg\ndGhyb3VnaCBtdWx0aXBsZQ0KICogTG9nRmFjdG9yeSBpbXBsZW1lbnRhdGlv\nbnMoc3VjaCBhcyBsb2c0aiBhbmQgTG9nUGFuZWxGYWN0b3J5KS4NCiAqDQog\nKiBAYXV0aG9yIFN0ZXZlIEtpbQ0KICovDQpwdWJsaWMgY2xhc3MgTXVsdGlM\nb2dGYWN0b3J5IGltcGxlbWVudHMgTG9nRmFjdG9yeSB7DQoNCiAgICBwcml2\nYXRlIExpc3QgX2RlbGVnYXRlczsNCg0KICAgIC8qKg0KICAgICAqIENyZWF0\nZSBhbiBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBkZWxlZ2F0ZXMuDQogICAg\nICovDQogICAgcHVibGljIE11bHRpTG9nRmFjdG9yeShMb2dGYWN0b3J5IGQx\nLCBMb2dGYWN0b3J5IGQyKSB7DQogICAgICAgIHRoaXMobmV3IExvZ0ZhY3Rv\ncnlbXXsgZDEsIGQyIH0pOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIENy\nZWF0ZSBhbiBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBkZWxlZ2F0ZXMuDQog\nICAgICovDQogICAgcHVibGljIE11bHRpTG9nRmFjdG9yeShMb2dGYWN0b3J5\nIGQxLCBMb2dGYWN0b3J5IGQyLCBMb2dGYWN0b3J5IGQzKSB7DQogICAgICAg\nIHRoaXMobmV3IExvZ0ZhY3RvcnlbXXsgZDEsIGQyLCBkMyB9KTsNCiAgICB9\nDQoNCiAgICAvKioNCiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugd2l0aCB0\naGUgZ2l2ZW4gZGVsZWdhdGVzLg0KICAgICAqLw0KICAgIHB1YmxpYyBNdWx0\naUxvZ0ZhY3RvcnkoTG9nRmFjdG9yeVtdIGRlbGVnYXRlcykgew0KICAgICAg\nICBfZGVsZWdhdGVzID0gbmV3IENvcHlPbldyaXRlQXJyYXlMaXN0KEFycmF5\ncy5hc0xpc3QoZGVsZWdhdGVzKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgYWRkTG9nRmFjdG9yeShMb2dGYWN0b3J5IGZhY3RvcnkpIHsNCiAgICAg\nICAgX2RlbGVnYXRlcy5hZGQoZmFjdG9yeSk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgcmVtb3ZlTG9nRmFjdG9yeShMb2dGYWN0b3J5IGZhY3Rvcnkp\nIHsNCiAgICAgICAgX2RlbGVnYXRlcy5yZW1vdmUoZmFjdG9yeSk7DQogICAg\nfQ0KDQogICAgLyoqDQogICAgICogUmV0dXJucyB0aGUgZGVsZWdhdGVzIHRo\nYXQgdGhpcyBNdWx0aUxvZ0ZhY3RvcnkgZGVsZWdhdGVzIG1lc3NhZ2VzIHRv\nLg0KICAgICAqLw0KICAgIHB1YmxpYyBMb2dGYWN0b3J5W10gZ2V0RGVsZWdh\ndGVzKCkgew0KICAgICAgICByZXR1cm4gKExvZ0ZhY3RvcnlbXSkgX2RlbGVn\nYXRlcy50b0FycmF5KG5ldyBMb2dGYWN0b3J5WzBdKTsNCiAgICB9DQoNCiAg\nICAvKioNCiAgICAgKiBSZXR1cm5zIGEgTG9nIGltcGwgdGhhdCBjb21iaW5l\ncyBhbGwgbG9ncy4NCiAgICAgKi8NCiAgICBwdWJsaWMgc3luY2hyb25pemVk\nIExvZyBnZXRMb2coU3RyaW5nIGNoYW5uZWwpIHsNCiAgICAgICAgTGlzdCBs\nb2dzID0gbmV3IEFycmF5TGlzdChfZGVsZWdhdGVzLnNpemUoKSk7DQogICAg\nICAgIGZvciAoSXRlcmF0b3IgaSA9IF9kZWxlZ2F0ZXMuaXRlcmF0b3IoKTsg\naS5oYXNOZXh0KCk7KSB7DQogICAgICAgICAgICBMb2dGYWN0b3J5IGYgPSAo\nTG9nRmFjdG9yeSkgaS5uZXh0KCk7DQogICAgICAgICAgICBpZiAoZiAhPSBu\ndWxsKSB7DQogICAgICAgICAgICAgICAgTG9nIGwgPSBmLmdldExvZyhjaGFu\nbmVsKTsNCiAgICAgICAgICAgICAgICBpZiAobCAhPSBudWxsKQ0KICAgICAg\nICAgICAgICAgICAgICBsb2dzLmFkZChsKTsNCiAgICAgICAgICAgIH0NCiAg\nICAgICAgfQ0KICAgICAgICByZXR1cm4gbmV3IE11bHRpTG9nKChMb2dbXSkg\nbG9ncy50b0FycmF5KG5ldyBMb2dbbG9ncy5zaXplKCldKSk7DQogICAgfQ0K\nDQogICAgLyoqDQogICAgICogQ29tYmluYXRvcnkgTG9nIGltcGwuDQogICAg\nICovDQogICAgcHJpdmF0ZSBzdGF0aWMgY2xhc3MgTXVsdGlMb2cgaW1wbGVt\nZW50cyBMb2cgew0KDQogICAgICAgIHByaXZhdGUgTG9nW10gX2xvZ3M7DQoN\nCiAgICAgICAgcHVibGljIE11bHRpTG9nKExvZ1tdIGxvZ3MpIHsNCiAgICAg\nICAgICAgIF9sb2dzID0gbG9nczsNCiAgICAgICAgfQ0KDQogICAgICAgIC8q\nKg0KICAgICAgICAgKiBSZXR1cm4gdGhlIGxvZ3MgdGhhdCB0aGlzIGxvZyBk\nZWxlZ2F0ZXMgdG8uDQogICAgICAgICAqLw0KICAgICAgICBwdWJsaWMgTG9n\nW10gZ2V0RGVsZWdhdGVzKCkgew0KICAgICAgICAgICAgcmV0dXJuIF9sb2dz\nOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIHZvaWQgdHJhY2UoT2Jq\nZWN0IG1zZykgew0KICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBf\nbG9ncy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAgICAgICBfbG9nc1tpXS50\ncmFjZShtc2cpOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIHZvaWQg\ndHJhY2UoT2JqZWN0IG1zZywgVGhyb3dhYmxlIHQpIHsNCiAgICAgICAgICAg\nIGZvciAoaW50IGkgPSAwOyBpIDwgX2xvZ3MubGVuZ3RoOyBpKyspDQogICAg\nICAgICAgICAgICAgX2xvZ3NbaV0udHJhY2UobXNnLCB0KTsNCiAgICAgICAg\nfQ0KDQogICAgICAgIHB1YmxpYyB2b2lkIGluZm8oT2JqZWN0IG1zZykgew0K\nICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBfbG9ncy5sZW5ndGg7\nIGkrKykNCiAgICAgICAgICAgICAgICBfbG9nc1tpXS5pbmZvKG1zZyk7DQog\nICAgICAgIH0NCg0KICAgICAgICBwdWJsaWMgdm9pZCBpbmZvKE9iamVjdCBt\nc2csIFRocm93YWJsZSB0KSB7DQogICAgICAgICAgICBmb3IgKGludCBpID0g\nMDsgaSA8IF9sb2dzLmxlbmd0aDsgaSsrKQ0KICAgICAgICAgICAgICAgIF9s\nb2dzW2ldLmluZm8obXNnLCB0KTsNCiAgICAgICAgfQ0KDQogICAgICAgIHB1\nYmxpYyB2b2lkIHdhcm4oT2JqZWN0IG1zZykgew0KICAgICAgICAgICAgZm9y\nIChpbnQgaSA9IDA7IGkgPCBfbG9ncy5sZW5ndGg7IGkrKykNCiAgICAgICAg\nICAgICAgICBfbG9nc1tpXS53YXJuKG1zZyk7DQogICAgICAgIH0NCg0KICAg\nICAgICBwdWJsaWMgdm9pZCB3YXJuKE9iamVjdCBtc2csIFRocm93YWJsZSB0\nKSB7DQogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxl\nbmd0aDsgaSsrKQ0KICAgICAgICAgICAgICAgIF9sb2dzW2ldLndhcm4obXNn\nLCB0KTsNCiAgICAgICAgfQ0KDQogICAgICAgIHB1YmxpYyB2b2lkIGVycm9y\nKE9iamVjdCBtc2cpIHsNCiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgX2xvZ3MubGVuZ3RoOyBpKyspDQogICAgICAgICAgICAgICAgX2xvZ3Nb\naV0uZXJyb3IobXNnKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHB1YmxpYyB2\nb2lkIGVycm9yKE9iamVjdCBtc2csIFRocm93YWJsZSB0KSB7DQogICAgICAg\nICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0aDsgaSsrKQ0K\nICAgICAgICAgICAgICAgIF9sb2dzW2ldLmVycm9yKG1zZywgdCk7DQogICAg\nICAgIH0NCg0KICAgICAgICBwdWJsaWMgdm9pZCBmYXRhbChPYmplY3QgbXNn\nKSB7DQogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxl\nbmd0aDsgaSsrKQ0KICAgICAgICAgICAgICAgIF9sb2dzW2ldLmZhdGFsKG1z\nZyk7DQogICAgICAgIH0NCg0KICAgICAgICBwdWJsaWMgdm9pZCBmYXRhbChP\nYmplY3QgbXNnLCBUaHJvd2FibGUgdCkgew0KICAgICAgICAgICAgZm9yIChp\nbnQgaSA9IDA7IGkgPCBfbG9ncy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAg\nICAgICBfbG9nc1tpXS5mYXRhbChtc2csIHQpOw0KICAgICAgICB9DQoNCiAg\nICAgICAgcHVibGljIGJvb2xlYW4gaXNUcmFjZUVuYWJsZWQoKSB7DQogICAg\nICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0aDsgaSsr\nKQ0KICAgICAgICAgICAgICAgIGlmIChfbG9nc1tpXS5pc1RyYWNlRW5hYmxl\nZCgpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAg\nICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHB1\nYmxpYyBib29sZWFuIGlzSW5mb0VuYWJsZWQoKSB7DQogICAgICAgICAgICBm\nb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxlbmd0aDsgaSsrKQ0KICAgICAg\nICAgICAgICAgIGlmIChfbG9nc1tpXS5pc0luZm9FbmFibGVkKCkpDQogICAg\nICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgcmV0\ndXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIGJvb2xl\nYW4gaXNXYXJuRW5hYmxlZCgpIHsNCiAgICAgICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgX2xvZ3MubGVuZ3RoOyBpKyspDQogICAgICAgICAgICAgICAg\naWYgKF9sb2dzW2ldLmlzV2FybkVuYWJsZWQoKSkNCiAgICAgICAgICAgICAg\nICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7\nDQogICAgICAgIH0NCg0KICAgICAgICBwdWJsaWMgYm9vbGVhbiBpc0Vycm9y\nRW5hYmxlZCgpIHsNCiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwg\nX2xvZ3MubGVuZ3RoOyBpKyspDQogICAgICAgICAgICAgICAgaWYgKF9sb2dz\nW2ldLmlzRXJyb3JFbmFibGVkKCkpDQogICAgICAgICAgICAgICAgICAgIHJl\ndHVybiB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAg\nICB9DQoNCiAgICAgICAgcHVibGljIGJvb2xlYW4gaXNGYXRhbEVuYWJsZWQo\nKSB7DQogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9sb2dzLmxl\nbmd0aDsgaSsrKQ0KICAgICAgICAgICAgICAgIGlmIChfbG9nc1tpXS5pc0Zh\ndGFsRW5hYmxlZCgpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1\nZTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAg\nIH0NCn0NCg==\n","encoding":"base64"}

