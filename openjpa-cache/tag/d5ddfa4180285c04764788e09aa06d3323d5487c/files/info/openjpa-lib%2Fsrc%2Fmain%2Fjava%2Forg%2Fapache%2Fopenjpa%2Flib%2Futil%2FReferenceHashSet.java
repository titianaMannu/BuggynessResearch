{"sha":"9c5642b724c4775ac55d40ed973cac013ede265e","node_id":"MDQ6QmxvYjIwNjM2NDo5YzU2NDJiNzI0YzQ3NzVhYzU1ZDQwZWQ5NzNjYWMwMTNlZGUyNjVl","size":3613,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9c5642b724c4775ac55d40ed973cac013ede265e","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5pby5TZXJpYWxpemFibGU7CmltcG9ydCBqYXZhLnV0aWwuQ29sbGVj\ndGlvbjsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0OwppbXBvcnQgamF2YS51\ndGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLlNldDsKCmltcG9ydCBv\ncmcuYXBhY2hlLmNvbW1vbnMuY29sbGVjdGlvbnMuc2V0Lk1hcEJhY2tlZFNl\ndDsKCi8qKgogKiBBIHNldCB3aG9zZSB2YWx1ZXMgbWF5IGJlIHN0b3JlZCBh\ncyB3ZWFrIG9yIHNvZnQgcmVmZXJlbmNlcy4KICoKICogQGF1dGhvciBBYmUg\nV2hpdGUKICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIFJlZmVyZW5j\nZUhhc2hTZXQgaW1wbGVtZW50cyBTZXQsIFNlcmlhbGl6YWJsZSB7CgogICAg\nLyoqCiAgICAgKiBIYXJkIHJlZmVyZW5jZSBtYXJrZXIuCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEhBUkQgPSAwOwoKICAgIC8qKgog\nICAgICogU29mdCByZWZlcmVuY2UgbWFya2VyLgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIGludCBTT0ZUID0gMTsKCiAgICAvKioKICAgICAq\nIFdlYWsgcmVmZXJlbmNlIG1hcmtlci4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBpbnQgV0VBSyA9IDI7CgogICAgcHJpdmF0ZSBzdGF0aWMg\nZmluYWwgT2JqZWN0IERVTU1ZX1ZBTCA9IG5ldyBTZXJpYWxpemFibGUoKSB7\nCiAgICAgICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICAg\nICAgcmV0dXJuIFJlZmVyZW5jZUhhc2hTZXQuY2xhc3MuZ2V0TmFtZSgpICsg\nIi5EVU1NWV9WQUwiOwogICAgICAgIH0KICAgIH07CgogICAgcHJpdmF0ZSBm\naW5hbCBTZXQgX3NldDsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdCBhIHNl\ndCB3aXRoIHRoZSBnaXZlbiByZWZlcmVuY2UgdHlwZS4KICAgICAqLwogICAg\ncHVibGljIFJlZmVyZW5jZUhhc2hTZXQoaW50IHJlZlR5cGUpIHsKICAgICAg\nICBpZiAocmVmVHlwZSA9PSBIQVJEKQogICAgICAgICAgICBfc2V0ID0gbmV3\nIEhhc2hTZXQoKTsKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaW50IG1h\ncFJlZlR5cGUgPSAocmVmVHlwZSA9PSBXRUFLKSA/IG9yZy5hcGFjaGUuY29t\nbW9ucy4KICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25zLm1hcC5SZWZlcmVu\nY2VNYXAuV0VBSyA6IG9yZy5hcGFjaGUuCiAgICAgICAgICAgICAgICBjb21t\nb25zLmNvbGxlY3Rpb25zLm1hcC5SZWZlcmVuY2VNYXAuU09GVDsKICAgICAg\nICAgICAgX3NldCA9IE1hcEJhY2tlZFNldC5kZWNvcmF0ZShuZXcgb3JnLmFw\nYWNoZS5jb21tb25zLgogICAgICAgICAgICAgICAgY29sbGVjdGlvbnMubWFw\nLlJlZmVyZW5jZU1hcChtYXBSZWZUeXBlLAogICAgICAgICAgICAgICAgb3Jn\nLmFwYWNoZS5jb21tb25zLmNvbGxlY3Rpb25zLm1hcC4KICAgICAgICAgICAg\nICAgICAgICBSZWZlcmVuY2VNYXAuSEFSRCksIERVTU1ZX1ZBTCk7CiAgICAg\nICAgfQogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGFkZChPYmplY3Qgb2Jq\nKSB7CiAgICAgICAgcmV0dXJuIF9zZXQuYWRkKG9iaik7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gYWRkQWxsKENvbGxlY3Rpb24gY29sbCkgewogICAg\nICAgIHJldHVybiBfc2V0LmFkZEFsbChjb2xsKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBjbGVhcigpIHsKICAgICAgICBfc2V0LmNsZWFyKCk7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gY29udGFpbnMoT2JqZWN0IG9iaikgewog\nICAgICAgIHJldHVybiBfc2V0LmNvbnRhaW5zKG9iaik7CiAgICB9CgogICAg\ncHVibGljIGJvb2xlYW4gY29udGFpbnNBbGwoQ29sbGVjdGlvbiBjb2xsKSB7\nCiAgICAgICAgcmV0dXJuIF9zZXQuY29udGFpbnNBbGwoY29sbCk7CiAgICB9\nCgogICAgcHVibGljIGJvb2xlYW4gaXNFbXB0eSgpIHsKICAgICAgICByZXR1\ncm4gX3NldC5pc0VtcHR5KCk7CiAgICB9CgogICAgcHVibGljIEl0ZXJhdG9y\nIGl0ZXJhdG9yKCkgewogICAgICAgIHJldHVybiBfc2V0Lml0ZXJhdG9yKCk7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gcmVtb3ZlKE9iamVjdCBvYmop\nIHsKICAgICAgICByZXR1cm4gX3NldC5yZW1vdmUob2JqKTsKICAgIH0KCiAg\nICBwdWJsaWMgYm9vbGVhbiByZW1vdmVBbGwoQ29sbGVjdGlvbiBjb2xsKSB7\nCiAgICAgICAgcmV0dXJuIF9zZXQucmVtb3ZlQWxsKGNvbGwpOwogICAgfQoK\nICAgIHB1YmxpYyBib29sZWFuIHJldGFpbkFsbChDb2xsZWN0aW9uIGNvbGwp\nIHsKICAgICAgICByZXR1cm4gX3NldC5yZXRhaW5BbGwoY29sbCk7CiAgICB9\nCgogICAgcHVibGljIGludCBzaXplKCkgewogICAgICAgIHJldHVybiBfc2V0\nLnNpemUoKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0W10gdG9BcnJheSgp\nIHsKICAgICAgICByZXR1cm4gX3NldC50b0FycmF5KCk7CiAgICB9CgogICAg\ncHVibGljIE9iamVjdFtdIHRvQXJyYXkoT2JqZWN0W10gYXJyKSB7CiAgICAg\nICAgcmV0dXJuIF9zZXQudG9BcnJheShhcnIpOwogICAgfQoKICAgIHB1Ymxp\nYyBpbnQgaGFzaENvZGUoKSB7CiAgICAgICAgcmV0dXJuIF9zZXQuaGFzaENv\nZGUoKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVhbHMoT2JqZWN0\nIG9iaikgewogICAgICAgIGlmICh0aGlzID09IG9iaikKICAgICAgICAgICAg\ncmV0dXJuIHRydWU7CiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIFJlZmVy\nZW5jZUhhc2hTZXQpCiAgICAgICAgICAgIG9iaiA9ICgoUmVmZXJlbmNlSGFz\naFNldCkgb2JqKS5fc2V0OwogICAgICAgIHJldHVybiBfc2V0LmVxdWFscyhv\nYmopOwogICAgfQp9Cg==\n","encoding":"base64"}

