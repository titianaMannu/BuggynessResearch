{"sha":"b28b1763d6e01bb2721483a25a474926ba15954f","node_id":"MDQ6QmxvYjIwNjM2NDpiMjhiMTc2M2Q2ZTAxYmIyNzIxNDgzYTI1YTQ3NDkyNmJhMTU5NTRm","size":4285,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b28b1763d6e01bb2721483a25a474926ba15954f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVu\ndDsKCmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0IGphdmEu\ndXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb25z\nOwppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGls\nLkxpbmtlZExpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGph\ndmEudXRpbC5jb25jdXJyZW50LkNvcHlPbldyaXRlQXJyYXlMaXN0OwoKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5FdmVudE1hbmFnZXI7\nCgovKioKICogQmFzZSBldmVudCBtYW5hZ2VyIHRoYXQgaGFuZGxlcyBhZGRp\nbmcvcmVtb3ZpbmcgbGlzdGVuZXJzCiAqIGFuZCBmaXJpbmcgZXZlbnRzLiBN\nZWFudCBmb3IgaGlnaCBjb25jdXJyZW5jeS4gVGhpcyBjbGFzcyBpcwogKiBy\nZWVudHJhbnQtc2FmZTsgbGlzdGVuZXJzIGNhbiBiZSBhZGRlZCBhbmQgcmVt\nb3ZlZCBieSBvdGhlciBsaXN0ZW5lcnMgd2hlbiAKICogdGhleSByZWNlaXZl\nIGV2ZW50cy4gVGhlIGNoYW5nZXMgd2lsbCBub3QgYmUgdmlzaWJsZSB1bnRp\nbCB0aGUgZXZlbnQgZmlyZQogKiB0aGF0IGluaXRpYXRlZCB0aGUgcmVjdXJz\naXZlIHNlcXVlbmNlIG9mIGNhbGxzIGNvbXBsZXRlcywgaG93ZXZlci4KICoK\nICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBhYnN0cmFjdCBjbGFz\ncyBBYnN0cmFjdENvbmN1cnJlbnRFdmVudE1hbmFnZXIKICAgIGltcGxlbWVu\ndHMgRXZlbnRNYW5hZ2VyLCBTZXJpYWxpemFibGUgewoKICAgIHByaXZhdGUg\nc3RhdGljIGZpbmFsIEV4Y2VwdGlvbltdIEVNUFRZX0VYQ0VQVElPTlMgPSBu\nZXcgRXhjZXB0aW9uWzBdOwoKICAgIHByb3RlY3RlZCBmaW5hbCBDb2xsZWN0\naW9uIF9saXN0ZW5lcnM7CiAgICBwcml2YXRlIGJvb2xlYW4gX2ZhaWxGYXN0\nID0gZmFsc2U7CgogICAgLyoqCiAgICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9y\nLgogICAgICovCiAgICBwdWJsaWMgQWJzdHJhY3RDb25jdXJyZW50RXZlbnRN\nYW5hZ2VyKCkgewogICAgICAgIF9saXN0ZW5lcnMgPSBuZXdMaXN0ZW5lckNv\nbGxlY3Rpb24oKTsKICAgIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8g\nZmFpbCBhZnRlciB0aGUgZmlyc3QgZXhjZXB0aW9uIHRocm93biBieSBhbnkg\nbGlzdGVuZXIuCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzRmFpbEZh\nc3QoKSB7CiAgICAgICAgcmV0dXJuIF9mYWlsRmFzdDsKICAgIH0KCiAgICAv\nKioKICAgICAqIFdoZXRoZXIgdG8gZmFpbCBhZnRlciB0aGUgZmlyc3QgZXhj\nZXB0aW9uIHRocm93biBieSBhbnkgbGlzdGVuZXIuCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIHNldEZhaWxGYXN0KGJvb2xlYW4gZmFpbEZhc3QpIHsKICAg\nICAgICBfZmFpbEZhc3QgPSBmYWlsRmFzdDsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBhZGRMaXN0ZW5lcihPYmplY3QgbGlzdGVuZXIpIHsKICAg\nICAgICBpZiAobGlzdGVuZXIgIT0gbnVsbCkKICAgICAgICAgICAgX2xpc3Rl\nbmVycy5hZGQobGlzdGVuZXIpOwogICAgfQoKICAgIC8qKgogICAgICogUmVt\nb3ZlIGFuIGV2ZW50IGxpc3RlbmVyLgogICAgICovCiAgICBwdWJsaWMgYm9v\nbGVhbiByZW1vdmVMaXN0ZW5lcihPYmplY3QgbGlzdGVuZXIpIHsKICAgICAg\nICByZXR1cm4gX2xpc3RlbmVycy5yZW1vdmUobGlzdGVuZXIpOwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIHdoZXRoZXIgdGhlIGdpdmVuIGluc3Rh\nbmNlIGlzIGluIHRoZSBsaXN0IG9mIGxpc3RlbmVycy4KICAgICAqLwogICAg\ncHVibGljIGJvb2xlYW4gaGFzTGlzdGVuZXIoT2JqZWN0IGxpc3RlbmVyKSB7\nCiAgICAgICAgcmV0dXJuIF9saXN0ZW5lcnMuY29udGFpbnMobGlzdGVuZXIp\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRydWUgaWYgdGhlcmUg\nYXJlIGFueSByZWdpc3RlcmVkIGxpc3RlbmVycy4KICAgICAqLwogICAgcHVi\nbGljIGJvb2xlYW4gaGFzTGlzdGVuZXJzKCkgewogICAgICAgIHJldHVybiAh\nX2xpc3RlbmVycy5pc0VtcHR5KCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBS\nZXR1cm4gYSByZWFkLW9ubHkgbGlzdCBvZiBsaXN0ZW5lcnMuCiAgICAgKi8K\nICAgIHB1YmxpYyBDb2xsZWN0aW9uIGdldExpc3RlbmVycygpIHsKICAgICAg\nICByZXR1cm4gQ29sbGVjdGlvbnMudW5tb2RpZmlhYmxlQ29sbGVjdGlvbihf\nbGlzdGVuZXJzKTsKICAgIH0KCiAgICAvKioKICAgICAqIEZpcmUgdGhlIGdp\ndmVuIGV2ZW50IHRvIGFsbCBsaXN0ZW5lcnMuCiAgICAgKi8KICAgIHB1Ymxp\nYyBFeGNlcHRpb25bXSBmaXJlRXZlbnQoT2JqZWN0IGV2ZW50KSB7CiAgICAg\nICAgaWYgKF9saXN0ZW5lcnMuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1\ncm4gRU1QVFlfRVhDRVBUSU9OUzsKCiAgICAgICAgTGlzdCBleGNlcHRpb25z\nID0gbnVsbDsKICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0ciA9IF9saXN0ZW5l\ncnMuaXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspIHsKICAgICAgICAgICAg\ndHJ5IHsKICAgICAgICAgICAgICAgIGZpcmVFdmVudChldmVudCwgaXRyLm5l\neHQoKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAg\nICAgICAgICAgICAgICBpZiAoX2ZhaWxGYXN0KQogICAgICAgICAgICAgICAg\nICAgIHJldHVybiBuZXcgRXhjZXB0aW9uW10geyBlIH07CiAgICAgICAgICAg\nICAgICBpZiAoZXhjZXB0aW9ucyA9PSBudWxsKQogICAgICAgICAgICAgICAg\nICAgIGV4Y2VwdGlvbnMgPSBuZXcgTGlua2VkTGlzdCgpOwogICAgICAgICAg\nICAgICAgZXhjZXB0aW9ucy5hZGQoZSk7CiAgICAgICAgICAgIH0KICAgICAg\nICB9CgogICAgICAgIGlmIChleGNlcHRpb25zID09IG51bGwpCiAgICAgICAg\nICAgIHJldHVybiBFTVBUWV9FWENFUFRJT05TOwogICAgICAgIHJldHVybiAo\nRXhjZXB0aW9uW10pIGV4Y2VwdGlvbnMudG9BcnJheQogICAgICAgICAgICAo\nbmV3IEV4Y2VwdGlvbltleGNlcHRpb25zLnNpemUoKV0pOwogICAgfQoKICAg\nIC8qKgogICAgICogSW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIGZpcmUgdGhl\nIGdpdmVuIGV2ZW50IHRvIHRoZSBnaXZlbiBsaXN0ZW5lci4KICAgICAqLwog\nICAgcHJvdGVjdGVkIGFic3RyYWN0IHZvaWQgZmlyZUV2ZW50KE9iamVjdCBl\ndmVudCwgT2JqZWN0IGxpc3RlbmVyKQogICAgICAgIHRocm93cyBFeGNlcHRp\nb247CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBuZXcgY29uY3VycmVudCBj\nb250YWluZXIgZm9yIGxpc3RlbmVycy4gVXNlcyBhIAogICAgICoge0BsaW5r\nIENvcHlPbldyaXRlQXJyYXlMaXN0fSBieSBkZWZhdWx0LgogICAgICovCiAg\nICBwcm90ZWN0ZWQgQ29sbGVjdGlvbiBuZXdMaXN0ZW5lckNvbGxlY3Rpb24o\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBDb3B5T25Xcml0ZUFycmF5TGlzdCgp\nOwogICAgfQp9Cg==\n","encoding":"base64"}

