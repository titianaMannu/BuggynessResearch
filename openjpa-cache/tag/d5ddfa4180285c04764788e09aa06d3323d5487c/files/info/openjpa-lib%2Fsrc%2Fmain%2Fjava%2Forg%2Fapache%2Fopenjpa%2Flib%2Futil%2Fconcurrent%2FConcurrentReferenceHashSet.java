{"sha":"27185d88af14adf57eb27596c0bb63df24a77040","node_id":"MDQ6QmxvYjIwNjM2NDoyNzE4NWQ4OGFmMTRhZGY1N2ViMjc1OTZjMGJiNjNkZjI0YTc3MDQw","size":3681,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/27185d88af14adf57eb27596c0bb63df24a77040","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuY29uY3VycmVu\ndDsKCmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0IGphdmEu\ndXRpbC5Db2xsZWN0aW9uOwppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOwpp\nbXBvcnQgamF2YS51dGlsLlNldDsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJy\nZW50LkNvbmN1cnJlbnRIYXNoTWFwOwoKaW1wb3J0IG9yZy5hcGFjaGUuY29t\nbW9ucy5jb2xsZWN0aW9ucy5zZXQuTWFwQmFja2VkU2V0OwoKLyoqCiAqIEEg\nY29uY3VycmVudCBzZXQgd2hvc2UgdmFsdWVzIG1heSBiZSBzdG9yZWQgYXMg\nd2VhayBvciBzb2Z0IHJlZmVyZW5jZXMuIElmCiAqIHRoZSBjb25zdHJ1Y3Rv\nciBpcyBpbnZva2VkIHdpdGggPGNvZGU+cmVmVHlwZTwvY29kZT4gc2V0IHRv\nIHtAbGluayAjSEFSRH0sCiAqIHRoaXMgdXNlcyBhIEpESzEuNSB7QGxpbmsg\nQ29uY3VycmVudEhhc2hNYXB9IHVuZGVyIHRoZSBjb3ZlcnMuIE90aGVyd2lz\nZSwKICogaXQgdXNlcyBhIHtAbGluayBDb25jdXJyZW50UmVmZXJlbmNlSGFz\naE1hcH0uCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqIEBub2phdmFkb2MK\nICovCnB1YmxpYyBjbGFzcyBDb25jdXJyZW50UmVmZXJlbmNlSGFzaFNldCBp\nbXBsZW1lbnRzIFNldCwgU2VyaWFsaXphYmxlIHsKCiAgICAvKioKICAgICAq\nIEhhcmQgcmVmZXJlbmNlIG1hcmtlci4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBpbnQgSEFSRCA9IDA7CgogICAgLyoqCiAgICAgKiBTb2Z0\nIHJlZmVyZW5jZSBtYXJrZXIuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nZmluYWwgaW50IFNPRlQgPSAxOwoKICAgIC8qKgogICAgICogV2VhayByZWZl\ncmVuY2UgbWFya2VyLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIGludCBXRUFLID0gMjsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBPYmpl\nY3QgRFVNTVlfVkFMID0gbmV3IE9iamVjdCgpOwoKICAgIHByaXZhdGUgZmlu\nYWwgU2V0IF9zZXQ7CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3QgYSBzZXQg\nd2l0aCB0aGUgZ2l2ZW4gcmVmZXJlbmNlIHR5cGUuCiAgICAgKi8KICAgIHB1\nYmxpYyBDb25jdXJyZW50UmVmZXJlbmNlSGFzaFNldChpbnQgcmVmVHlwZSkg\newogICAgICAgIGlmIChyZWZUeXBlID09IEhBUkQpCiAgICAgICAgICAgIF9z\nZXQgPSBNYXBCYWNrZWRTZXQuZGVjb3JhdGUobmV3IENvbmN1cnJlbnRIYXNo\nTWFwKCksIERVTU1ZX1ZBTCk7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAg\nIGludCBtYXBSZWZUeXBlID0gKHJlZlR5cGUgPT0gV0VBSykgPyBDb25jdXJy\nZW50UmVmZXJlbmNlSGFzaE1hcC5XRUFLCiAgICAgICAgICAgICAgICA6IENv\nbmN1cnJlbnRSZWZlcmVuY2VIYXNoTWFwLlNPRlQ7CiAgICAgICAgICAgIF9z\nZXQgPSBNYXBCYWNrZWRTZXQuZGVjb3JhdGUobmV3IENvbmN1cnJlbnRSZWZl\ncmVuY2VIYXNoTWFwCiAgICAgICAgICAgICAgICAobWFwUmVmVHlwZSwgQ29u\nY3VycmVudFJlZmVyZW5jZUhhc2hNYXAuSEFSRCksIERVTU1ZX1ZBTCk7CiAg\nICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGFkZChPYmplY3Qg\nb2JqKSB7CiAgICAgICAgcmV0dXJuIF9zZXQuYWRkKG9iaik7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gYWRkQWxsKENvbGxlY3Rpb24gY29sbCkgewog\nICAgICAgIHJldHVybiBfc2V0LmFkZEFsbChjb2xsKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBjbGVhcigpIHsKICAgICAgICBfc2V0LmNsZWFyKCk7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gY29udGFpbnMoT2JqZWN0IG9iaikg\newogICAgICAgIHJldHVybiBfc2V0LmNvbnRhaW5zKG9iaik7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gY29udGFpbnNBbGwoQ29sbGVjdGlvbiBjb2xs\nKSB7CiAgICAgICAgcmV0dXJuIF9zZXQuY29udGFpbnNBbGwoY29sbCk7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNFbXB0eSgpIHsKICAgICAgICBy\nZXR1cm4gX3NldC5pc0VtcHR5KCk7CiAgICB9CgogICAgcHVibGljIEl0ZXJh\ndG9yIGl0ZXJhdG9yKCkgewogICAgICAgIHJldHVybiBfc2V0Lml0ZXJhdG9y\nKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gcmVtb3ZlKE9iamVjdCBv\nYmopIHsKICAgICAgICByZXR1cm4gX3NldC5yZW1vdmUob2JqKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiByZW1vdmVBbGwoQ29sbGVjdGlvbiBjb2xs\nKSB7CiAgICAgICAgcmV0dXJuIF9zZXQucmVtb3ZlQWxsKGNvbGwpOwogICAg\nfQoKICAgIHB1YmxpYyBib29sZWFuIHJldGFpbkFsbChDb2xsZWN0aW9uIGNv\nbGwpIHsKICAgICAgICByZXR1cm4gX3NldC5yZXRhaW5BbGwoY29sbCk7CiAg\nICB9CgogICAgcHVibGljIGludCBzaXplKCkgewogICAgICAgIHJldHVybiBf\nc2V0LnNpemUoKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0W10gdG9BcnJh\neSgpIHsKICAgICAgICByZXR1cm4gX3NldC50b0FycmF5KCk7CiAgICB9Cgog\nICAgcHVibGljIE9iamVjdFtdIHRvQXJyYXkoT2JqZWN0W10gYXJyKSB7CiAg\nICAgICAgcmV0dXJuIF9zZXQudG9BcnJheShhcnIpOwogICAgfQoKICAgIHB1\nYmxpYyBpbnQgaGFzaENvZGUoKSB7CiAgICAgICAgcmV0dXJuIF9zZXQuaGFz\naENvZGUoKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBlcXVhbHMoT2Jq\nZWN0IG9iaikgewogICAgICAgIGlmICh0aGlzID09IG9iaikKICAgICAgICAg\nICAgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIENv\nbmN1cnJlbnRSZWZlcmVuY2VIYXNoU2V0KQogICAgICAgICAgICBvYmogPSAo\nKENvbmN1cnJlbnRSZWZlcmVuY2VIYXNoU2V0KSBvYmopLl9zZXQ7CiAgICAg\nICAgcmV0dXJuIF9zZXQuZXF1YWxzKG9iaik7CiAgICB9Cn0K\n","encoding":"base64"}

