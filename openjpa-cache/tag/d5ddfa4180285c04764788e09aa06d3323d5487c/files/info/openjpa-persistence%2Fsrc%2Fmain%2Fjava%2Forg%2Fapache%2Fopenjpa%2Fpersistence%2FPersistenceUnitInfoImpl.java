{"sha":"31bb3f984a75aead308f0f377ac481e587149ea6","node_id":"MDQ6QmxvYjIwNjM2NDozMWJiM2Y5ODRhNzVhZWFkMzA4ZjBmMzc3YWM0ODFlNTg3MTQ5ZWE2","size":16990,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/31bb3f984a75aead308f0f377ac481e587149ea6","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2U7CgppbXBv\ncnQgamF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5uZXQuTWFsZm9ybWVkVVJM\nRXhjZXB0aW9uOwppbXBvcnQgamF2YS5uZXQuVVJJU3ludGF4RXhjZXB0aW9u\nOwppbXBvcnQgamF2YS5uZXQuVVJMOwppbXBvcnQgamF2YS5uZXQuVVJMRGVj\nb2RlcjsKaW1wb3J0IGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsK\naW1wb3J0IGphdmEuc2VjdXJpdHkuUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlv\nbjsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0\naWwuQ29sbGVjdGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1w\nb3J0IGphdmEudXRpbC5IYXNoU2V0OwppbXBvcnQgamF2YS51dGlsLkxpc3Q7\nCmltcG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgamF2YS51dGlsLlByb3Bl\ncnRpZXM7CmltcG9ydCBqYXZhLnV0aWwuU2V0OwppbXBvcnQgamF2YXgucGVy\nc2lzdGVuY2Uuc3BpLkNsYXNzVHJhbnNmb3JtZXI7CmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5zcGkuUGVyc2lzdGVuY2VVbml0SW5mbzsKaW1wb3J0IGph\ndmF4LnBlcnNpc3RlbmNlLnNwaS5QZXJzaXN0ZW5jZVVuaXRUcmFuc2FjdGlv\nblR5cGU7CmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsKCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9u\nczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Qcm9kdWN0\nRGVyaXZhdGlvbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLm1l\ndGEuU291cmNlVHJhY2tlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5s\naWIudXRpbC5KMkRvUHJpdkhlbHBlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLnV0aWwuTXVsdGlDbGFzc0xvYWRlcjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS51dGlsLkNsYXNzUmVzb2x2ZXI7CgovKioKICogSW1w\nbGVtZW50YXRpb24gb2YgdGhlIHtAbGluayBQZXJzaXN0ZW5jZVVuaXRJbmZv\nfSBpbnRlcmZhY2UgdXNlZCBieSBPcGVuSlBBIAogKiB3aGVuIHBhcnNpbmcg\ncGVyc2lzdGVuY2UgY29uZmlndXJhdGlvbiBpbmZvcm1hdGlvbi4KICoKICog\nQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIFBlcnNpc3RlbmNlVW5pdElu\nZm9JbXBsCiAgICBpbXBsZW1lbnRzIFBlcnNpc3RlbmNlVW5pdEluZm8sIFNv\ndXJjZVRyYWNrZXIgewoKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5n\nIEtFWV9QUk9WSURFUiA9ICJqYXZheC5wZXJzaXN0ZW5jZS5wcm92aWRlciI7\nCgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIHNfbG9jID0g\nTG9jYWxpemVyLmZvclBhY2thZ2UKICAgICAgICAoUGVyc2lzdGVuY2VVbml0\nSW5mb0ltcGwuY2xhc3MpOwoKICAgIHByaXZhdGUgU3RyaW5nIF9uYW1lOwog\nICAgcHJpdmF0ZSBmaW5hbCBQcm9wZXJ0aWVzIF9wcm9wcyA9IG5ldyBQcm9w\nZXJ0aWVzKCk7CiAgICBwcml2YXRlIFBlcnNpc3RlbmNlVW5pdFRyYW5zYWN0\naW9uVHlwZSBfdHJhbnNUeXBlID0KICAgICAgICBQZXJzaXN0ZW5jZVVuaXRU\ncmFuc2FjdGlvblR5cGUuUkVTT1VSQ0VfTE9DQUw7CgogICAgcHJpdmF0ZSBT\ndHJpbmcgX3Byb3ZpZGVyQ2xhc3NOYW1lOwogICAgcHJpdmF0ZSBMaXN0PFN0\ncmluZz4gX21hcHBpbmdGaWxlTmFtZXM7CiAgICBwcml2YXRlIExpc3Q8U3Ry\naW5nPiBfZW50aXR5Q2xhc3NOYW1lczsKICAgIHByaXZhdGUgTGlzdDxVUkw+\nIF9qYXJGaWxlczsKICAgIHByaXZhdGUgU3RyaW5nIF9qdGFEYXRhU291cmNl\nTmFtZTsKICAgIHByaXZhdGUgRGF0YVNvdXJjZSBfanRhRGF0YVNvdXJjZTsK\nICAgIHByaXZhdGUgU3RyaW5nIF9ub25KdGFEYXRhU291cmNlTmFtZTsKICAg\nIHByaXZhdGUgRGF0YVNvdXJjZSBfbm9uSnRhRGF0YVNvdXJjZTsKICAgIHBy\naXZhdGUgYm9vbGVhbiBfZXhjbHVkZVVubGlzdGVkOwogICAgcHJpdmF0ZSBV\nUkwgX3BlcnNpc3RlbmNlWG1sRmlsZTsKCiAgICAvLyBBIHBlcnNpc3RlbmNl\nIHVuaXQgaXMgZGVmaW5lZCBieSBhIHBlcnNpc3RlbmNlLnhtbCBmaWxlLiBU\naGUgamFyCiAgICAvLyBmaWxlIG9yIGRpcmVjdG9yeSB3aG9zZSBNRVRBLUlO\nRiBkaXJlY3RvcnkgY29udGFpbnMgdGhlCiAgICAvLyBwZXJzaXN0ZW5jZS54\nbWwgZmlsZSBpcyB0ZXJtZWQgdGhlIHJvb3Qgb2YgdGhlIHBlcnNpc3RlbmNl\nIHVuaXQuCiAgICAvLwogICAgLy8gSW4gSmF2YSBFRSwgdGhlIHJvb3Qgb2Yg\nYSBwZXJzaXN0ZW5jZSB1bml0IG1heSBiZSBvbmUgb2YgdGhlIGZvbGxvd2lu\nZzoKICAgIC8vIC0gYW4gRUpCLUpBUiBmaWxlCiAgICAvLyAtIHRoZSBXRUIt\nSU5GL2NsYXNzZXMgZGlyZWN0b3J5IG9mIGEgV0FSIGZpbGVbMzhdCiAgICAv\nLyAtIGEgamFyIGZpbGUgaW4gdGhlIFdFQi1JTkYvbGliIGRpcmVjdG9yeSBv\nZiBhIFdBUiBmaWxlCiAgICAvLyAtIGEgamFyIGZpbGUgaW4gdGhlIHJvb3Qg\nb2YgdGhlIEVBUgogICAgLy8gLSBhIGphciBmaWxlIGluIHRoZSBFQVIgbGli\ncmFyeSBkaXJlY3RvcnkKICAgIC8vIC0gYW4gYXBwbGljYXRpb24gY2xpZW50\nIGphciBmaWxlCiAgICBwcml2YXRlIFVSTCBfcm9vdDsKCiAgICBwdWJsaWMg\nQ2xhc3NMb2FkZXIgZ2V0Q2xhc3NMb2FkZXIoKSB7CiAgICAgICAgcmV0dXJu\nIG51bGw7CiAgICB9CgogICAgcHVibGljIENsYXNzTG9hZGVyIGdldE5ld1Rl\nbXBDbGFzc0xvYWRlcigpIHsKICAgICAgICByZXR1cm4gKENsYXNzTG9hZGVy\nKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZChKMkRvUHJpdkhlbHBl\ncgogICAgICAgICAgICAubmV3VGVtcG9yYXJ5Q2xhc3NMb2FkZXJBY3Rpb24o\nKENsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9sbGVyCiAgICAgICAgICAgICAg\nICAuZG9Qcml2aWxlZ2VkKEoyRG9Qcml2SGVscGVyLmdldENvbnRleHRDbGFz\nc0xvYWRlckFjdGlvbigpKSkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0UGVyc2lzdGVuY2VVbml0TmFtZSgpIHsKICAgICAgICByZXR1cm4gX25h\nbWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UGVyc2lzdGVuY2VVbml0\nTmFtZShTdHJpbmcgZW1OYW1lKSB7CiAgICAgICAgX25hbWUgPSBlbU5hbWU7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRQZXJzaXN0ZW5jZVByb3Zp\nZGVyQ2xhc3NOYW1lKCkgewogICAgICAgIHJldHVybiBfcHJvdmlkZXJDbGFz\nc05hbWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UGVyc2lzdGVuY2VQ\ncm92aWRlckNsYXNzTmFtZShTdHJpbmcgcHJvdmlkZXJDbGFzc05hbWUpIHsK\nICAgICAgICBfcHJvdmlkZXJDbGFzc05hbWUgPSBwcm92aWRlckNsYXNzTmFt\nZTsKICAgIH0KCiAgICBwdWJsaWMgUGVyc2lzdGVuY2VVbml0VHJhbnNhY3Rp\nb25UeXBlIGdldFRyYW5zYWN0aW9uVHlwZSgpIHsKICAgICAgICByZXR1cm4g\nX3RyYW5zVHlwZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRUcmFuc2Fj\ndGlvblR5cGUoUGVyc2lzdGVuY2VVbml0VHJhbnNhY3Rpb25UeXBlIHRyYW5z\nVHlwZSkgewogICAgICAgIF90cmFuc1R5cGUgPSB0cmFuc1R5cGU7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRKdGFEYXRhU291cmNlTmFtZSgpIHsK\nICAgICAgICByZXR1cm4gX2p0YURhdGFTb3VyY2VOYW1lOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldEp0YURhdGFTb3VyY2VOYW1lKFN0cmluZyBqdGEp\nIHsKICAgICAgICBfanRhRGF0YVNvdXJjZU5hbWUgPSBqdGE7CiAgICAgICAg\naWYgKGp0YSAhPSBudWxsKQogICAgICAgICAgICBfanRhRGF0YVNvdXJjZSA9\nIG51bGw7CiAgICB9CgogICAgcHVibGljIERhdGFTb3VyY2UgZ2V0SnRhRGF0\nYVNvdXJjZSgpIHsKICAgICAgICByZXR1cm4gX2p0YURhdGFTb3VyY2U7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0SnRhRGF0YVNvdXJjZShEYXRhU291\ncmNlIGRzKSB7CiAgICAgICAgX2p0YURhdGFTb3VyY2UgPSBkczsKICAgICAg\nICBpZiAoZHMgIT0gbnVsbCkKICAgICAgICAgICAgX2p0YURhdGFTb3VyY2VO\nYW1lID0gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE5vbkp0\nYURhdGFTb3VyY2VOYW1lKCkgewogICAgICAgIHJldHVybiBfbm9uSnRhRGF0\nYVNvdXJjZU5hbWU7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Tm9uSnRh\nRGF0YVNvdXJjZU5hbWUoU3RyaW5nIG5vbkp0YSkgewogICAgICAgIF9ub25K\ndGFEYXRhU291cmNlTmFtZSA9IG5vbkp0YTsKICAgICAgICBpZiAobm9uSnRh\nICE9IG51bGwpCiAgICAgICAgICAgIF9ub25KdGFEYXRhU291cmNlID0gbnVs\nbDsKICAgIH0KCiAgICBwdWJsaWMgRGF0YVNvdXJjZSBnZXROb25KdGFEYXRh\nU291cmNlKCkgewogICAgICAgIHJldHVybiBfbm9uSnRhRGF0YVNvdXJjZTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXROb25KdGFEYXRhU291cmNlKERh\ndGFTb3VyY2UgZHMpIHsKICAgICAgICBfbm9uSnRhRGF0YVNvdXJjZSA9IGRz\nOwogICAgICAgIGlmIChkcyAhPSBudWxsKQogICAgICAgICAgICBfbm9uSnRh\nRGF0YVNvdXJjZU5hbWUgPSBudWxsOwogICAgfQoKICAgIHB1YmxpYyBVUkwg\nZ2V0UGVyc2lzdGVuY2VVbml0Um9vdFVybCgpIHsKICAgICAgICByZXR1cm4g\nX3Jvb3Q7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UGVyc2lzdGVuY2VV\nbml0Um9vdFVybChVUkwgcm9vdCkgewogICAgICAgIF9yb290ID0gcm9vdDsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBleGNsdWRlVW5saXN0ZWRDbGFz\nc2VzKCkgewogICAgICAgIHJldHVybiBfZXhjbHVkZVVubGlzdGVkOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldEV4Y2x1ZGVVbmxpc3RlZENsYXNzZXMo\nYm9vbGVhbiBleGNsdWRlVW5saXN0ZWQpIHsKICAgICAgICBfZXhjbHVkZVVu\nbGlzdGVkID0gZXhjbHVkZVVubGlzdGVkOwogICAgfQoKICAgIHB1YmxpYyBM\naXN0PFN0cmluZz4gZ2V0TWFwcGluZ0ZpbGVOYW1lcygpIHsKICAgICAgICBy\nZXR1cm4gKF9tYXBwaW5nRmlsZU5hbWVzID09IG51bGwpCiAgICAgICAgICAg\nID8gKExpc3Q8U3RyaW5nPikgQ29sbGVjdGlvbnMuRU1QVFlfTElTVCA6IF9t\nYXBwaW5nRmlsZU5hbWVzOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFkZE1h\ncHBpbmdGaWxlTmFtZShTdHJpbmcgbmFtZSkgewogICAgICAgIGlmIChfbWFw\ncGluZ0ZpbGVOYW1lcyA9PSBudWxsKQogICAgICAgICAgICBfbWFwcGluZ0Zp\nbGVOYW1lcyA9IG5ldyBBcnJheUxpc3Q8U3RyaW5nPigpOwogICAgICAgIF9t\nYXBwaW5nRmlsZU5hbWVzLmFkZChuYW1lKTsKICAgIH0KCiAgICBwdWJsaWMg\nTGlzdDxVUkw+IGdldEphckZpbGVVcmxzKCkgewogICAgICAgIHJldHVybiAo\nX2phckZpbGVzID09IG51bGwpID8gKExpc3Q8VVJMPikgQ29sbGVjdGlvbnMu\nRU1QVFlfTElTVCAKICAgICAgICAgICAgOiBfamFyRmlsZXM7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgYWRkSmFyRmlsZShVUkwgamFyKSB7CiAgICAgICAg\naWYgKF9qYXJGaWxlcyA9PSBudWxsKQogICAgICAgICAgICBfamFyRmlsZXMg\nPSBuZXcgQXJyYXlMaXN0PFVSTD4oKTsKICAgICAgICBfamFyRmlsZXMuYWRk\nKGphcik7CiAgICB9CgogICAgcHVibGljIHZvaWQgYWRkSmFyRmlsZU5hbWUo\nU3RyaW5nIG5hbWUpIHsKICAgICAgICBNdWx0aUNsYXNzTG9hZGVyIGxvYWRl\nciA9IChNdWx0aUNsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9sbGVyCiAgICAg\nICAgICAgIC5kb1ByaXZpbGVnZWQoSjJEb1ByaXZIZWxwZXIubmV3TXVsdGlD\nbGFzc0xvYWRlckFjdGlvbigpKTsKICAgICAgICBsb2FkZXIuYWRkQ2xhc3NM\nb2FkZXIoZ2V0Q2xhc3MoKS5nZXRDbGFzc0xvYWRlcigpKTsKICAgICAgICBs\nb2FkZXIuYWRkQ2xhc3NMb2FkZXIoTXVsdGlDbGFzc0xvYWRlci5USFJFQURf\nTE9BREVSKTsKICAgICAgICBVUkwgdXJsID0gKFVSTCkgQWNjZXNzQ29udHJv\nbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAgICAgIEoyRG9Qcml2SGVscGVy\nLmdldFJlc291cmNlQWN0aW9uKGxvYWRlciwgbmFtZSkpOwogICAgICAgIGlm\nICh1cmwgIT0gbnVsbCkgewogICAgICAgICAgICBhZGRKYXJGaWxlKHVybCk7\nCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIGph\nciBmaWxlIGlzIG5vdCBhIHJlc291cmNlOyBjaGVjayBjbGFzc3BhdGgKICAg\nICAgICBTdHJpbmdbXSBjcCA9ICgoU3RyaW5nKSBBY2Nlc3NDb250cm9sbGVy\nLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgSjJEb1ByaXZIZWxwZXIuZ2V0\nUHJvcGVydHlBY3Rpb24oImphdmEuY2xhc3MucGF0aCIpKSkgCiAgICAgICAg\nICAgIC5zcGxpdChKMkRvUHJpdkhlbHBlci5nZXRQYXRoU2VwYXJhdG9yKCkp\nOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKysp\nIHsKICAgICAgICAgICAgaWYgKGNwW2ldLmVxdWFscyhuYW1lKQogICAgICAg\nICAgICAgICAgfHwgY3BbaV0uZW5kc1dpdGgoRmlsZS5zZXBhcmF0b3JDaGFy\nICsgbmFtZSkpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAg\nICAgICAgICAgYWRkSmFyRmlsZSgoVVJMKSBBY2Nlc3NDb250cm9sbGVyCiAg\nICAgICAgICAgICAgICAgICAgICAgIC5kb1ByaXZpbGVnZWQoSjJEb1ByaXZI\nZWxwZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1VSTEFjdGlv\nbihuZXcgRmlsZShjcFtpXSkpKSk7CiAgICAgICAgICAgICAgICAgICAgcmV0\ndXJuOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoUHJpdmlsZWdlZEFjdGlv\nbkV4Y2VwdGlvbiBwYWUpIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsK\nICAgICAgICAgICAgICAgIH0gY2F0Y2ggKE1hbGZvcm1lZFVSTEV4Y2VwdGlv\nbiBtdWUpIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aHJv\ndyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKHNfbG9jLmdldCgiYmFk\nLWphci1uYW1lIiwgbmFtZSkuCiAgICAgICAgICAgIGdldE1lc3NhZ2UoKSk7\nCiAgICB9CgogICAgcHVibGljIExpc3Q8U3RyaW5nPiBnZXRNYW5hZ2VkQ2xh\nc3NOYW1lcygpIHsKICAgICAgICByZXR1cm4gKF9lbnRpdHlDbGFzc05hbWVz\nID09IG51bGwpCiAgICAgICAgICAgID8gKExpc3Q8U3RyaW5nPikgQ29sbGVj\ndGlvbnMuRU1QVFlfTElTVCA6IF9lbnRpdHlDbGFzc05hbWVzOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIGFkZE1hbmFnZWRDbGFzc05hbWUoU3RyaW5nIG5h\nbWUpIHsKICAgICAgICBpZiAoX2VudGl0eUNsYXNzTmFtZXMgPT0gbnVsbCkK\nICAgICAgICAgICAgX2VudGl0eUNsYXNzTmFtZXMgPSBuZXcgQXJyYXlMaXN0\nPFN0cmluZz4oKTsKICAgICAgICBfZW50aXR5Q2xhc3NOYW1lcy5hZGQobmFt\nZSk7CiAgICB9CgogICAgcHVibGljIFByb3BlcnRpZXMgZ2V0UHJvcGVydGll\ncygpIHsKICAgICAgICByZXR1cm4gX3Byb3BzOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFByb3BlcnR5KFN0cmluZyBrZXksIFN0cmluZyB2YWx1ZSkg\newogICAgICAgIF9wcm9wcy5zZXRQcm9wZXJ0eShrZXksIHZhbHVlKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBhZGRUcmFuc2Zvcm1lcihDbGFzc1RyYW5z\nZm9ybWVyIHRyYW5zZm9ybWVyKSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3Vw\ncG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUaGUgbG9jYXRpb24gb2YgdGhlIHBlcnNpc3RlbmNlLnhtbCByZXNv\ndXJjZS4gTWF5IGJlIG51bGwuCiAgICAgKi8KICAgIHB1YmxpYyBVUkwgZ2V0\nUGVyc2lzdGVuY2VYbWxGaWxlVXJsKCkgewogICAgICAgIHJldHVybiBfcGVy\nc2lzdGVuY2VYbWxGaWxlOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGxv\nY2F0aW9uIG9mIHRoZSBwZXJzaXN0ZW5jZS54bWwgcmVzb3VyY2UuIE1heSBi\nZSBudWxsLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRQZXJzaXN0ZW5j\nZVhtbEZpbGVVcmwoVVJMIHVybCkgewogICAgICAgIF9wZXJzaXN0ZW5jZVht\nbEZpbGUgPSB1cmw7CiAgICB9CgogICAgLyoqCiAgICAgKiBMb2FkIHRoZSBn\naXZlbiB1c2VyLXN1cHBsaWVkIG1hcCBvZiBwcm9wZXJ0aWVzIGludG8gdGhp\ncyBwZXJzaXN0ZW5jZQogICAgICogdW5pdC4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgZnJvbVVzZXJQcm9wZXJ0aWVzKE1hcCBtYXApIHsKICAgICAgICBp\nZiAobWFwID09IG51bGwpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAg\nT2JqZWN0IGtleTsKICAgICAgICBPYmplY3QgdmFsOwogICAgICAgIGZvciAo\nT2JqZWN0IG8gOiBtYXAuZW50cnlTZXQoKSkgewogICAgICAgICAgICBrZXkg\nPSAoKE1hcC5FbnRyeSkgbykuZ2V0S2V5KCk7CiAgICAgICAgICAgIHZhbCA9\nICgoTWFwLkVudHJ5KSBvKS5nZXRWYWx1ZSgpOwogICAgICAgICAgICBpZiAo\nS0VZX1BST1ZJREVSLmVxdWFscyhrZXkpKQogICAgICAgICAgICAgICAgc2V0\nUGVyc2lzdGVuY2VQcm92aWRlckNsYXNzTmFtZSgoU3RyaW5nKSB2YWwpOwog\nICAgICAgICAgICBlbHNlIGlmICgiamF2YXgucGVyc2lzdGVuY2UudHJhbnNh\nY3Rpb25UeXBlIi5lcXVhbHMoa2V5KSkgewogICAgICAgICAgICAgICAgUGVy\nc2lzdGVuY2VVbml0VHJhbnNhY3Rpb25UeXBlIHR0eXBlOwogICAgICAgICAg\nICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFN0cmluZykKICAgICAgICAgICAg\nICAgICAgICB0dHlwZSA9IEVudW0udmFsdWVPZihQZXJzaXN0ZW5jZVVuaXRU\ncmFuc2FjdGlvblR5cGUuY2xhc3MsIAogICAgICAgICAgICAgICAgICAgICAg\nICAoU3RyaW5nKSB2YWwpOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAg\nICAgICAgICAgICAgIHR0eXBlID0gKFBlcnNpc3RlbmNlVW5pdFRyYW5zYWN0\naW9uVHlwZSkgdmFsOwogICAgICAgICAgICAgICAgc2V0VHJhbnNhY3Rpb25U\neXBlKHR0eXBlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgiamF2YXgucGVy\nc2lzdGVuY2UuanRhRGF0YVNvdXJjZSIuZXF1YWxzKGtleSkpIHsKICAgICAg\nICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBTdHJpbmcpCiAgICAgICAg\nICAgICAgICAgICAgc2V0SnRhRGF0YVNvdXJjZU5hbWUoKFN0cmluZykgdmFs\nKTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBz\nZXRKdGFEYXRhU291cmNlKChEYXRhU291cmNlKSB2YWwpOwogICAgICAgICAg\nICB9IGVsc2UgaWYgKCJqYXZheC5wZXJzaXN0ZW5jZS5ub25KdGFEYXRhU291\ncmNlIi5lcXVhbHMoa2V5KSkgewogICAgICAgICAgICAgICAgaWYgKHZhbCBp\nbnN0YW5jZW9mIFN0cmluZykKICAgICAgICAgICAgICAgICAgICBzZXROb25K\ndGFEYXRhU291cmNlTmFtZSgoU3RyaW5nKSB2YWwpOwogICAgICAgICAgICAg\nICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHNldE5vbkp0YURhdGFTb3Vy\nY2UoKERhdGFTb3VyY2UpIHZhbCk7CiAgICAgICAgICAgIH0gZWxzZQogICAg\nICAgICAgICAgICAgX3Byb3BzLnB1dChrZXksIHZhbCk7CiAgICAgICAgfQog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEge0BsaW5rIE1hcH0gY29u\ndGFpbmluZyB0aGUgcHJvcGVydGllcyBuZWNlc3NhcnkgdG8gY3JlYXRlCiAg\nICAgKiBhIHtAbGluayBDb25maWd1cmF0aW9ufSB0aGF0IHJlZmxlY3RzIHRo\nZSBpbmZvcm1hdGlvbiBpbiB0aGlzCiAgICAgKiBwZXJzaXN0ZW5jZSB1bml0\nIGluZm8uCiAgICAgKi8KICAgIHB1YmxpYyBNYXAgdG9PcGVuSlBBUHJvcGVy\ndGllcygpIHsKICAgICAgICByZXR1cm4gdG9PcGVuSlBBUHJvcGVydGllcyh0\naGlzKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIHtAbGluayBN\nYXB9IGNvbnRhaW5pbmcgdGhlIHByb3BlcnRpZXMgbmVjZXNzYXJ5IHRvIGNy\nZWF0ZQogICAgICogYSB7QGxpbmsgQ29uZmlndXJhdGlvbn0gdGhhdCByZWZs\nZWN0cyB0aGUgaW5mb3JtYXRpb24gaW4gdGhlIGdpdmVuCiAgICAgKiBwZXJz\naXN0ZW5jZSB1bml0IGluZm8uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMg\nTWFwIHRvT3BlbkpQQVByb3BlcnRpZXMoUGVyc2lzdGVuY2VVbml0SW5mbyBp\nbmZvKSB7CiAgICAgICAgTWFwIG1hcCA9IG5ldyBIYXNoTWFwKCk7CiAgICAg\nICAgU2V0PFN0cmluZz4gYWRkZWQgPSBuZXcgSGFzaFNldDxTdHJpbmc+KCk7\nCiAgICAgICAgaWYgKGluZm8uZ2V0VHJhbnNhY3Rpb25UeXBlKCkgPT0gUGVy\nc2lzdGVuY2VVbml0VHJhbnNhY3Rpb25UeXBlLkpUQSkKICAgICAgICAgICAg\ncHV0KG1hcCwgYWRkZWQsICJUcmFuc2FjdGlvbk1vZGUiLCAibWFuYWdlZCIp\nOwoKICAgICAgICBib29sZWFuIGhhc0p0YSA9IGZhbHNlOwogICAgICAgIERh\ndGFTb3VyY2UgZHMgPSBpbmZvLmdldEp0YURhdGFTb3VyY2UoKTsKICAgICAg\nICBpZiAoZHMgIT0gbnVsbCkgewogICAgICAgICAgICBwdXQobWFwLCBhZGRl\nZCwgIkNvbm5lY3Rpb25GYWN0b3J5IiwgZHMpOwogICAgICAgICAgICBwdXQo\nbWFwLCBhZGRlZCwgIkNvbm5lY3Rpb25GYWN0b3J5TW9kZSIsICJtYW5hZ2Vk\nIik7CiAgICAgICAgICAgIGhhc0p0YSA9IHRydWU7CiAgICAgICAgfSBlbHNl\nIGlmIChpbmZvIGluc3RhbmNlb2YgUGVyc2lzdGVuY2VVbml0SW5mb0ltcGwK\nICAgICAgICAgICAgJiYgKChQZXJzaXN0ZW5jZVVuaXRJbmZvSW1wbCkgaW5m\nbykuZ2V0SnRhRGF0YVNvdXJjZU5hbWUoKSAhPSBudWxsKXsKICAgICAgICAg\nICAgcHV0KG1hcCwgYWRkZWQsICJDb25uZWN0aW9uRmFjdG9yeU5hbWUiLCAo\nKFBlcnNpc3RlbmNlVW5pdEluZm9JbXBsKQogICAgICAgICAgICAgICAgaW5m\nbykuZ2V0SnRhRGF0YVNvdXJjZU5hbWUoKSk7CiAgICAgICAgICAgIHB1dCht\nYXAsIGFkZGVkLCAiQ29ubmVjdGlvbkZhY3RvcnlNb2RlIiwgIm1hbmFnZWQi\nKTsKICAgICAgICAgICAgaGFzSnRhID0gdHJ1ZTsKICAgICAgICB9CgogICAg\nICAgIGRzID0gaW5mby5nZXROb25KdGFEYXRhU291cmNlKCk7CiAgICAgICAg\naWYgKGRzICE9IG51bGwpIHsKICAgICAgICAgICAgaWYgKCFoYXNKdGEpCiAg\nICAgICAgICAgICAgICBwdXQobWFwLCBhZGRlZCwgIkNvbm5lY3Rpb25GYWN0\nb3J5IiwgZHMpOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBw\ndXQobWFwLCBhZGRlZCwgIkNvbm5lY3Rpb25GYWN0b3J5MiIsIGRzKTsKICAg\nICAgICB9IGVsc2UgaWYgKGluZm8gaW5zdGFuY2VvZiBQZXJzaXN0ZW5jZVVu\naXRJbmZvSW1wbAogICAgICAgICAgICAmJiAoKFBlcnNpc3RlbmNlVW5pdElu\nZm9JbXBsKSBpbmZvKS5nZXROb25KdGFEYXRhU291cmNlTmFtZSgpCiAgICAg\nICAgICAgICE9IG51bGwpIHsKICAgICAgICAgICAgU3RyaW5nIG5vbkp0YU5h\nbWUgPSAoKFBlcnNpc3RlbmNlVW5pdEluZm9JbXBsKSBpbmZvKS4KICAgICAg\nICAgICAgICAgIGdldE5vbkp0YURhdGFTb3VyY2VOYW1lKCk7CiAgICAgICAg\nICAgIGlmICghaGFzSnRhKQogICAgICAgICAgICAgICAgcHV0KG1hcCwgYWRk\nZWQsICJDb25uZWN0aW9uRmFjdG9yeU5hbWUiLCBub25KdGFOYW1lKTsKICAg\nICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgcHV0KG1hcCwgYWRkZWQs\nICJDb25uZWN0aW9uRmFjdG9yeTJOYW1lIiwgbm9uSnRhTmFtZSk7CiAgICAg\nICAgfQoKICAgICAgICBpZiAoaW5mby5nZXRDbGFzc0xvYWRlcigpICE9IG51\nbGwpCiAgICAgICAgICAgIHB1dChtYXAsIGFkZGVkLCAiQ2xhc3NSZXNvbHZl\nciIsIG5ldyBDbGFzc1Jlc29sdmVySW1wbCgKICAgICAgICAgICAgICAgIGlu\nZm8uZ2V0Q2xhc3NMb2FkZXIoKSkpOwoKICAgICAgICBQcm9wZXJ0aWVzIHBy\nb3BzID0gaW5mby5nZXRQcm9wZXJ0aWVzKCk7CiAgICAgICAgaWYgKHByb3Bz\nICE9IG51bGwpIHsKCiAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgb2YgdGhl\nIHRoaW5ncyB0aGF0IHdlcmUgc2V0IGFib3ZlCiAgICAgICAgICAgIGZvciAo\nU3RyaW5nIGtleSA6IGFkZGVkKSB7CiAgICAgICAgICAgICAgICBpZiAoQ29u\nZmlndXJhdGlvbnMuY29udGFpbnNQcm9wZXJ0eShrZXksIHByb3BzKSkKICAg\nICAgICAgICAgICAgICAgICBDb25maWd1cmF0aW9ucy5yZW1vdmVQcm9wZXJ0\neShrZXksIHByb3BzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g\nYWRkIGFsbCB0aGUgbm9uLWNvbmZsaWN0aW5nIHByb3BzIGluIHRoZSA8cHJv\ncGVydGllcz4gc2VjdGlvbgogICAgICAgICAgICBtYXAucHV0QWxsKHByb3Bz\nKTsKCiAgICAgICAgICAgIC8vIHRoaXMgaXNuJ3QgYSByZWFsIGNvbmZpZyBw\ncm9wZXJ0eTsgcmVtb3ZlIGl0CiAgICAgICAgICAgIG1hcC5yZW1vdmUoUGVy\nc2lzdGVuY2VQcm92aWRlckltcGwuQ0xBU1NfVFJBTlNGT1JNRVJfT1BUSU9O\nUyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIUNvbmZpZ3VyYXRpb25zLmNv\nbnRhaW5zUHJvcGVydHkoIklkIiwgbWFwKSkKICAgICAgICAgICAgbWFwLnB1\ndCgib3BlbmpwYS5JZCIsIGluZm8uZ2V0UGVyc2lzdGVuY2VVbml0TmFtZSgp\nKTsKICAgICAgICAKICAgICAgICBQcm9wZXJ0aWVzIG1ldGFGYWN0b3J5UHJv\ncHMgPSBuZXcgUHJvcGVydGllcygpOwogICAgICAgIGlmIChpbmZvLmdldE1h\nbmFnZWRDbGFzc05hbWVzKCkgIT0gbnVsbCAKICAgICAgICAgICAgJiYgIWlu\nZm8uZ2V0TWFuYWdlZENsYXNzTmFtZXMoKS5pc0VtcHR5KCkpIHsKICAgICAg\nICAgICAgU3RyaW5nQnVmZmVyIHR5cGVzID0gbmV3IFN0cmluZ0J1ZmZlcigp\nOwogICAgICAgICAgICBmb3IgKFN0cmluZyB0eXBlIDogaW5mby5nZXRNYW5h\nZ2VkQ2xhc3NOYW1lcygpKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZXMu\nbGVuZ3RoKCkgPiAwKQogICAgICAgICAgICAgICAgICAgIHR5cGVzLmFwcGVu\nZCgnOycpOwogICAgICAgICAgICAgICAgdHlwZXMuYXBwZW5kKHR5cGUpOwog\nICAgICAgICAgICB9CiAgICAgICAgICAgIG1ldGFGYWN0b3J5UHJvcHMucHV0\nKCJUeXBlcyIsIHR5cGVzLnRvU3RyaW5nKCkpOwogICAgICAgIH0KICAgICAg\nICBpZiAoaW5mby5nZXRKYXJGaWxlVXJscygpICE9IG51bGwgJiYgIWluZm8u\nZ2V0SmFyRmlsZVVybHMoKS5pc0VtcHR5KCkKICAgICAgICAgICAgfHwgKCFp\nbmZvLmV4Y2x1ZGVVbmxpc3RlZENsYXNzZXMoKQogICAgICAgICAgICAmJiBp\nbmZvLmdldFBlcnNpc3RlbmNlVW5pdFJvb3RVcmwoKSAhPSBudWxsKSkgewog\nICAgICAgICAgICBTdHJpbmdCdWZmZXIgamFycyA9IG5ldyBTdHJpbmdCdWZm\nZXIoKTsKICAgICAgICAgICAgU3RyaW5nIGZpbGUgPSBudWxsOwogICAgICAg\nICAgICBpZiAoIWluZm8uZXhjbHVkZVVubGlzdGVkQ2xhc3NlcygpCiAgICAg\nICAgICAgICAgICAmJiBpbmZvLmdldFBlcnNpc3RlbmNlVW5pdFJvb3RVcmwo\nKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBVUkwgdXJsID0gaW5mby5n\nZXRQZXJzaXN0ZW5jZVVuaXRSb290VXJsKCk7CiAgICAgICAgICAgICAgICBp\nZiAoImZpbGUiLmVxdWFscyh1cmwuZ2V0UHJvdG9jb2woKSkpIC8vIGV4cGxv\nZGVkIGphcj8KICAgICAgICAgICAgICAgICAgICBmaWxlID0gVVJMRGVjb2Rl\nci5kZWNvZGUodXJsLmdldFBhdGgoKSk7CiAgICAgICAgICAgICAgICBlbHNl\nCiAgICAgICAgICAgICAgICAgICAgamFycy5hcHBlbmQodXJsKTsKICAgICAg\nICAgICAgfQogICAgICAgICAgICBmb3IgKFVSTCBqYXIgOiBpbmZvLmdldEph\nckZpbGVVcmxzKCkpIHsKICAgICAgICAgICAgICAgIGlmIChqYXJzLmxlbmd0\naCgpID4gMCkKICAgICAgICAgICAgICAgICAgICBqYXJzLmFwcGVuZCgnOycp\nOwogICAgICAgICAgICAgICAgamFycy5hcHBlbmQoamFyKTsKICAgICAgICAg\nICAgfQogICAgICAgICAgICBpZiAoZmlsZSAhPSBudWxsKQogICAgICAgICAg\nICAgICAgbWV0YUZhY3RvcnlQcm9wcy5wdXQoIkZpbGVzIiwgZmlsZSk7CiAg\nICAgICAgICAgIGlmIChqYXJzLmxlbmd0aCgpICE9IDApCiAgICAgICAgICAg\nICAgICBtZXRhRmFjdG9yeVByb3BzLnB1dCgiVVJMcyIsIGphcnMudG9TdHJp\nbmcoKSk7CiAgICAgICAgfQogICAgICAgIGlmIChpbmZvLmdldE1hcHBpbmdG\naWxlTmFtZXMoKSAhPSBudWxsCiAgICAgICAgICAgICYmICFpbmZvLmdldE1h\ncHBpbmdGaWxlTmFtZXMoKS5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgU3Ry\naW5nQnVmZmVyIHJzcmNzID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogICAgICAg\nICAgICBmb3IgKFN0cmluZyByc3JjIDogaW5mby5nZXRNYXBwaW5nRmlsZU5h\nbWVzKCkpIHsKICAgICAgICAgICAgICAgIGlmIChyc3Jjcy5sZW5ndGgoKSA+\nIDApCiAgICAgICAgICAgICAgICAgICAgcnNyY3MuYXBwZW5kKCc7Jyk7CiAg\nICAgICAgICAgICAgICByc3Jjcy5hcHBlbmQocnNyYyk7CiAgICAgICAgICAg\nIH0KICAgICAgICAgICAgbWV0YUZhY3RvcnlQcm9wcy5wdXQoIlJlc291cmNl\ncyIsIHJzcmNzLnRvU3RyaW5nKCkpOwogICAgICAgIH0KCiAgICAgICAgLy8g\nc2V0IHBlcnNpc3RlbnQgY2xhc3MgbG9jYXRpb25zIGFzIHByb3BlcnRpZXMg\nb2YgbWV0YWRhdGEgZmFjdG9yeSwKICAgICAgICAvLyBjb21iaW5pbmcgdGhl\nbSB3aXRoIGFueSBleGlzdGluZyBtZXRhZGF0YSBmYWN0b3J5IHByb3BzCiAg\nICAgICAgaWYgKCFtZXRhRmFjdG9yeVByb3BzLmlzRW1wdHkoKSkgewogICAg\nICAgICAgICBTdHJpbmcga2V5ID0gUHJvZHVjdERlcml2YXRpb25zLmdldENv\nbmZpZ3VyYXRpb25LZXkKICAgICAgICAgICAgICAgICgiTWV0YURhdGFGYWN0\nb3J5IiwgbWFwKTsKICAgICAgICAgICAgbWFwLnB1dChrZXksIENvbmZpZ3Vy\nYXRpb25zLmNvbWJpbmVQbHVnaW5zKChTdHJpbmcpIG1hcC5nZXQoa2V5KSwK\nICAgICAgICAgICAgICAgIENvbmZpZ3VyYXRpb25zLnNlcmlhbGl6ZVByb3Bl\ncnRpZXMobWV0YUZhY3RvcnlQcm9wcykpKTsKICAgICAgICB9CiAgICAgICAg\nCiAgICAgICAgLy8gYWx3YXlzIHJlY29yZCBwcm92aWRlciBuYW1lIGZvciBw\ncm9kdWN0IGRlcml2YXRpb25zIHRvIGFjY2VzcwogICAgICAgIGlmIChpbmZv\nLmdldFBlcnNpc3RlbmNlUHJvdmlkZXJDbGFzc05hbWUoKSAhPSBudWxsKQog\nICAgICAgICAgICBtYXAucHV0KEtFWV9QUk9WSURFUiwgaW5mby5nZXRQZXJz\naXN0ZW5jZVByb3ZpZGVyQ2xhc3NOYW1lKCkpOwogICAgICAgIHJldHVybiBt\nYXA7CiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBwdXQoTWFwIG1h\ncCwgU2V0IGFkZGVkLCBTdHJpbmcga2V5LCBPYmplY3QgdmFsKSB7CiAgICAg\nICAgbWFwLnB1dCgib3BlbmpwYS4iICsga2V5LCB2YWwpOwogICAgICAgIGFk\nZGVkLmFkZChrZXkpOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0t\nLS0tCgogICAgcHVibGljIEZpbGUgZ2V0U291cmNlRmlsZSgpIHsKICAgICAg\nICBpZiAoX3BlcnNpc3RlbmNlWG1sRmlsZSA9PSBudWxsKQogICAgICAgICAg\nICByZXR1cm4gbnVsbDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIG5ldyBGaWxlKF9wZXJzaXN0ZW5jZVhtbEZpbGUudG9VUkkoKSk7CiAg\nICAgICAgfSBjYXRjaCAoVVJJU3ludGF4RXhjZXB0aW9uIGUpIHsKICAgICAg\nICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbihlKTsKICAg\nICAgICB9CiAgICB9CgogICAgcHVibGljIE9iamVjdCBnZXRTb3VyY2VTY29w\nZSgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBwdWJsaWMg\naW50IGdldFNvdXJjZVR5cGUoKSB7CiAgICAgICAgcmV0dXJuIFNSQ19YTUw7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRSZXNvdXJjZU5hbWUoKSB7\nCiAgICAgICAgcmV0dXJuICJQZXJzaXN0ZW5jZVVuaXRJbmZvOiIgKyBfbmFt\nZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNpbXBsZSBjbGFzcyByZXNvbHZl\nciBidWlsdCBhcm91bmQgdGhlIHBlcnNpc3RlbmNlIHVuaXQgbG9hZGVyLgog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIENsYXNzUmVzb2x2ZXJJ\nbXBsCiAgICAgICAgaW1wbGVtZW50cyBDbGFzc1Jlc29sdmVyIHsKCiAgICAg\nICAgcHJpdmF0ZSBmaW5hbCBDbGFzc0xvYWRlciBfbG9hZGVyOwoKICAgICAg\nICBwdWJsaWMgQ2xhc3NSZXNvbHZlckltcGwoQ2xhc3NMb2FkZXIgbG9hZGVy\nKSB7CiAgICAgICAgICAgIF9sb2FkZXIgPSBsb2FkZXI7CiAgICAgICAgfQoK\nICAgICAgICBwdWJsaWMgQ2xhc3NMb2FkZXIgZ2V0Q2xhc3NMb2FkZXIoQ2xh\nc3MgY3R4LCBDbGFzc0xvYWRlciBlbnYpIHsKICAgICAgICAgICAgcmV0dXJu\nIF9sb2FkZXI7CiAgICAgICAgfQoJfQp9Cg==\n","encoding":"base64"}

