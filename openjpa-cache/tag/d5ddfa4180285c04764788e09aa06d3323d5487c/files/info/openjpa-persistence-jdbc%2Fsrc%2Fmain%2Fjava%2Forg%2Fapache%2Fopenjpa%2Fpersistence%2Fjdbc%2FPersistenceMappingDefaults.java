{"sha":"cbaafd4572ab92e88fa78a2cddec1fa9b0b53787","node_id":"MDQ6QmxvYjIwNjM2NDpjYmFhZmQ0NTcyYWI5MmU4OGZhNzhhMmNkZGVjMWZhOWIwYjUzNzg3","size":8527,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cbaafd4572ab92e88fa78a2cddec1fa9b0b53787","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYzsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFw\ncGluZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuRGlz\nY3JpbWluYXRvcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1l\ndGEuRmllbGRNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5NYXBwaW5nRGVmYXVsdHNJbXBsOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMubWV0YS5WYWx1ZU1hcHBpbmc7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLlZlcnNpb247CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0cy5GbGF0Q2xhc3NTdHJh\ndGVneTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuc3Ry\nYXRzLk5vbmVEaXNjcmltaW5hdG9yU3RyYXRlZ3k7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0cy5Ob25lVmVyc2lvblN0cmF0\nZWd5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5zdHJh\ndHMuTnVtYmVyVmVyc2lvblN0cmF0ZWd5OwppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMubWV0YS5zdHJhdHMuU3ViY2xhc3NKb2luRGlzY3JpbWlu\nYXRvclN0cmF0ZWd5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nbWV0YS5zdHJhdHMuVmFsdWVNYXBEaXNjcmltaW5hdG9yU3RyYXRlZ3k7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0cy5WZXJ0\naWNhbENsYXNzU3RyYXRlZ3k7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuc2NoZW1hLlNjaGVtYTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNjaGVtYS5UYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNxbC5Kb2luU3ludGF4ZXM7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubWV0YS5KYXZhVHlwZXM7CmltcG9ydCBzZXJwLnV0aWwuU3RyaW5n\nczsKCi8qKgogKiBTdXBwbGllcyBkZWZhdWx0IG1hcHBpbmcgaW5mb3JtYXRp\nb24gaW4gYWNjb3JkYW5jZSB3aXRoIEpQQSBzcGVjLgogKgogKiBAYXV0aG9y\nIFN0ZXZlIEtpbQogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAbm9qYXZhZG9j\nCiAqLwpwdWJsaWMgY2xhc3MgUGVyc2lzdGVuY2VNYXBwaW5nRGVmYXVsdHMK\nICAgIGV4dGVuZHMgTWFwcGluZ0RlZmF1bHRzSW1wbCB7CgogICAgcHJpdmF0\nZSBib29sZWFuIF9wcmVwZW5kRmllbGROYW1lVG9Kb2luVGFibGVJbnZlcnNl\nSm9pbkNvbHVtbnMgPSB0cnVlOwoKICAgIHB1YmxpYyBQZXJzaXN0ZW5jZU1h\ncHBpbmdEZWZhdWx0cygpIHsKICAgICAgICBzZXREZWZhdWx0TWlzc2luZ0lu\nZm8odHJ1ZSk7CiAgICAgICAgc2V0U3RvcmVFbnVtT3JkaW5hbCh0cnVlKTsK\nICAgICAgICBzZXRPcmRlckxpc3RzKGZhbHNlKTsKICAgICAgICBzZXRBZGRO\ndWxsSW5kaWNhdG9yKGZhbHNlKTsKICAgICAgICBzZXREaXNjcmltaW5hdG9y\nQ29sdW1uTmFtZSgiRFRZUEUiKTsKICAgIH0KCiAgICAvKioKICAgICAqIFdo\nZXRoZXIgdG8gcHJlcGVuZCB0aGUgZmllbGQgbmFtZSB0byB0aGUgZGVmYXVs\ndCBuYW1lIG9mIGludmVyc2Ugam9pbgogICAgICogY29sdW1ucyB3aXRoaW4g\nam9pbiB0YWJsZXMuICBEZWZhdWx0cyB0byB0cnVlIHBlciBzcGVjLCBidXQg\nc2V0IHRvIGZhbHNlCiAgICAgKiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG9s\nZGVyIHZlcnNpb25zIG9mIE9wZW5KUEEuCiAgICAgKi8KICAgIHB1YmxpYyBi\nb29sZWFuIGdldFByZXBlbmRGaWVsZE5hbWVUb0pvaW5UYWJsZUludmVyc2VK\nb2luQ29sdW1ucygpIHsKICAgICAgICByZXR1cm4gX3ByZXBlbmRGaWVsZE5h\nbWVUb0pvaW5UYWJsZUludmVyc2VKb2luQ29sdW1uczsKICAgIH0KCiAgICAv\nKioKICAgICAqIFdoZXRoZXIgdG8gcHJlcGVuZCB0aGUgZmllbGQgbmFtZSB0\nbyB0aGUgZGVmYXVsdCBuYW1lIG9mIGludmVyc2Ugam9pbgogICAgICogY29s\ndW1ucyB3aXRoaW4gam9pbiB0YWJsZXMuICBEZWZhdWx0cyB0byB0cnVlIHBl\nciBzcGVjLCBidXQgc2V0IHRvIGZhbHNlCiAgICAgKiBmb3IgY29tcGF0aWJp\nbGl0eSB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE9wZW5KUEEuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHNldFByZXBlbmRGaWVsZE5hbWVUb0pvaW5UYWJs\nZUludmVyc2VKb2luQ29sdW1ucyhib29sZWFuIHZhbCkgewogICAgICAgIF9w\ncmVwZW5kRmllbGROYW1lVG9Kb2luVGFibGVJbnZlcnNlSm9pbkNvbHVtbnMg\nPSB2YWw7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgT2JqZWN0\nIGdldFN0cmF0ZWd5KFZlcnNpb24gdmVycywgYm9vbGVhbiBhZGFwdCkgewog\nICAgICAgIE9iamVjdCBzdHJhdCA9IHN1cGVyLmdldFN0cmF0ZWd5KHZlcnMs\nIGFkYXB0KTsKICAgICAgICBDbGFzc01hcHBpbmcgY2xzID0gdmVycy5nZXRD\nbGFzc01hcHBpbmcoKTsKICAgICAgICBpZiAoc3RyYXQgIT0gbnVsbCB8fCBj\nbHMuZ2V0Sm9pbmFibGVQQ1N1cGVyY2xhc3NNYXBwaW5nKCkgIT0gbnVsbAog\nICAgICAgICAgICB8fCBjbHMuZ2V0VmVyc2lvbkZpZWxkKCkgIT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIHN0cmF0OwoKICAgICAgICBpZiAodmVycy5n\nZXRNYXBwaW5nSW5mbygpLmdldENvbHVtbnMoKS5pc0VtcHR5KCkpCiAgICAg\nICAgICAgIHJldHVybiBOb25lVmVyc2lvblN0cmF0ZWd5LmdldEluc3RhbmNl\nKCk7CiAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJWZXJzaW9uU3RyYXRlZ3ko\nKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyBPYmplY3QgZ2V0\nU3RyYXRlZ3koRGlzY3JpbWluYXRvciBkaXNjLCBib29sZWFuIGFkYXB0KSB7\nCiAgICAgICAgT2JqZWN0IHN0cmF0ID0gc3VwZXIuZ2V0U3RyYXRlZ3koZGlz\nYywgYWRhcHQpOwogICAgICAgIENsYXNzTWFwcGluZyBjbHMgPSBkaXNjLmdl\ndENsYXNzTWFwcGluZygpOwogICAgICAgIGlmIChzdHJhdCAhPSBudWxsIHx8\nIGNscy5nZXRKb2luYWJsZVBDU3VwZXJjbGFzc01hcHBpbmcoKSAhPSBudWxs\nCiAgICAgICAgICAgIHx8IGRpc2MuZ2V0TWFwcGluZ0luZm8oKS5nZXRWYWx1\nZSgpICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBzdHJhdDsKCiAgICAg\nICAgLy8gZG9uJ3QgdXNlIGEgY29sdW1uLWJhc2VkIGRpc2NyaW1pbmF0b3Ig\nYXBwcm9hY2ggdW5sZXNzIHVzZXIgaGFzIHNldAogICAgICAgIC8vIGEgY29s\ndW1uIGV4cGxpY2l0bHkgb3IgaXMgdXNpbmcgZmxhdCBpbmhlcml0YW5jZSBl\neHBsaWNpdGx5CiAgICAgICAgaWYgKCFkaXNjLmdldE1hcHBpbmdJbmZvKCku\nZ2V0Q29sdW1ucygpLmlzRW1wdHkoKSkKICAgICAgICAgICAgcmV0dXJuIG5l\ndyBWYWx1ZU1hcERpc2NyaW1pbmF0b3JTdHJhdGVneSgpOwoKICAgICAgICBD\nbGFzc01hcHBpbmcgYmFzZSA9IGNsczsKICAgICAgICB3aGlsZSAoYmFzZS5n\nZXRNYXBwaW5nSW5mbygpLmdldEhpZXJhcmNoeVN0cmF0ZWd5KCkgPT0gbnVs\nbAogICAgICAgICAgICAmJiBiYXNlLmdldFBDU3VwZXJjbGFzc01hcHBpbmco\nKSAhPSBudWxsKQogICAgICAgICAgICBiYXNlID0gYmFzZS5nZXRQQ1N1cGVy\nY2xhc3NNYXBwaW5nKCk7CgogICAgICAgIHN0cmF0ID0gYmFzZS5nZXRNYXBw\naW5nSW5mbygpLmdldEhpZXJhcmNoeVN0cmF0ZWd5KCk7CiAgICAgICAgaWYg\nKEZsYXRDbGFzc1N0cmF0ZWd5LkFMSUFTLmVxdWFscyhzdHJhdCkpCiAgICAg\nICAgICAgIHJldHVybiBuZXcgVmFsdWVNYXBEaXNjcmltaW5hdG9yU3RyYXRl\nZ3koKTsKICAgICAgICBpZiAoVmVydGljYWxDbGFzc1N0cmF0ZWd5LkFMSUFT\nLmVxdWFscyhzdHJhdCkKICAgICAgICAgICAgJiYgZGljdC5qb2luU3ludGF4\nICE9IEpvaW5TeW50YXhlcy5TWU5UQVhfVFJBRElUSU9OQUwpCiAgICAgICAg\nICAgIHJldHVybiBuZXcgU3ViY2xhc3NKb2luRGlzY3JpbWluYXRvclN0cmF0\nZWd5KCk7CiAgICAgICAgcmV0dXJuIE5vbmVEaXNjcmltaW5hdG9yU3RyYXRl\nZ3kuZ2V0SW5zdGFuY2UoKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1\nYmxpYyBTdHJpbmcgZ2V0VGFibGVOYW1lKENsYXNzTWFwcGluZyBjbHMsIFNj\naGVtYSBzY2hlbWEpIHsKICAgICAgICBpZiAoY2xzLmdldFR5cGVBbGlhcygp\nICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBjbHMuZ2V0VHlwZUFsaWFz\nKCk7CiAgICAgICAgcmV0dXJuIFN0cmluZ3MuZ2V0Q2xhc3NOYW1lKGNscy5n\nZXREZXNjcmliZWRUeXBlKCkpLnJlcGxhY2UoJyQnLCAnXycpOwogICAgfQoK\nICAgIEBPdmVycmlkZQogICAgcHVibGljIFN0cmluZyBnZXRUYWJsZU5hbWUo\nRmllbGRNYXBwaW5nIGZtLCBTY2hlbWEgc2NoZW1hKSB7CiAgICAgICAgLy8g\nYmFzZSBuYW1lIGlzIHRhYmxlIG9mIGRlZmluaW5nIHR5cGUgKyAnXycKICAg\nICAgICBTdHJpbmcgbmFtZSA9IGZtLmdldERlZmluaW5nTWFwcGluZygpLmdl\ndFRhYmxlKCkuZ2V0TmFtZSgpICsgIl8iOwoKICAgICAgICAvLyBpZiB0aGlz\nIGlzIGFuIGFzc29jYXRpb24gdGFibGUsIHNwZWMgc2F5cyB0byBzdWZmaXgg\nd2l0aCB0YWJsZSBvZgogICAgICAgIC8vIHRoZSByZWxhdGVkIHR5cGUuIHNw\nZWMgZG9lc24ndCBjb3ZlciBvdGhlciBjYXNlczsgd2UncmUgZ29pbmcgdG8K\nICAgICAgICAvLyBzdWZmaXggd2l0aCB0aGUgZmllbGQgbmFtZQogICAgICAg\nIENsYXNzTWFwcGluZyByZWwgPSBmbS5nZXRFbGVtZW50TWFwcGluZygpLmdl\ndFR5cGVNYXBwaW5nKCk7CiAgICAgICAgYm9vbGVhbiBhc3NvYyA9IHJlbCAh\nPSBudWxsICYmIHJlbC5nZXRUYWJsZSgpICE9IG51bGwKICAgICAgICAgICAg\nJiYgZm0uZ2V0VHlwZUNvZGUoKSAhPSBKYXZhVHlwZXMuTUFQOwogICAgICAg\nIGlmIChhc3NvYykKICAgICAgICAgICAgbmFtZSArPSByZWwuZ2V0VGFibGUo\nKS5nZXROYW1lKCk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBuYW1lICs9\nIGZtLmdldE5hbWUoKTsKICAgICAgICByZXR1cm4gbmFtZS5yZXBsYWNlKCck\nJywgJ18nKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lk\nIHBvcHVsYXRlSm9pbkNvbHVtbihGaWVsZE1hcHBpbmcgZm0sIFRhYmxlIGxv\nY2FsLCBUYWJsZSBmb3JlaWduLAogICAgICAgIENvbHVtbiBjb2wsIE9iamVj\ndCB0YXJnZXQsIGludCBwb3MsIGludCBjb2xzKSB7CiAgICAgICAgLy8gb25s\neSB1c2Ugc3BlYyBkZWZhdWx0cyB3aXRoIGNvbHVtbiB0YXJnZXRzCiAgICAg\nICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgQ29sdW1uKSkKICAgICAgICAg\nICAgcmV0dXJuOwoKICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmlkaSByZWxh\ndGlvbiwgcHJlZml4IHdpdGggaW52ZXJzZSBmaWVsZCBuYW1lLCBlbHNlCiAg\nICAgICAgLy8gcHJlZml4IHdpdGggb3duaW5nIGVudGl0eSBuYW1lCiAgICAg\nICAgRmllbGRNYXBwaW5nW10gaW52ZXJzZXMgPSBmbS5nZXRJbnZlcnNlTWFw\ncGluZ3MoKTsKICAgICAgICBTdHJpbmcgbmFtZTsKICAgICAgICBpZiAoaW52\nZXJzZXMubGVuZ3RoID4gMCkKICAgICAgICAgICAgbmFtZSA9IGludmVyc2Vz\nWzBdLmdldE5hbWUoKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIG5hbWUg\nPSBmbS5nZXREZWZpbmluZ01hcHBpbmcoKS5nZXRUeXBlQWxpYXMoKTsKICAg\nICAgICBTdHJpbmcgdGFyZ2V0TmFtZSA9ICgoQ29sdW1uKSB0YXJnZXQpLmdl\ndE5hbWUoKTsKICAgICAgICBTdHJpbmcgdGVtcE5hbWUgPSBudWxsOwogICAg\nICAgIGlmICgobmFtZS5sZW5ndGgoKSArIHRhcmdldE5hbWUubGVuZ3RoKCkp\nID49IGRpY3QubWF4Q29sdW1uTmFtZUxlbmd0aCkKICAgICAgICAgICAgdGVt\ncE5hbWUgPSBuYW1lLnN1YnN0cmluZygwLCBkaWN0Lm1heENvbHVtbk5hbWVM\nZW5ndGgKICAgICAgICAgICAgICAgICAgICAtIHRhcmdldE5hbWUubGVuZ3Ro\nKCkgLSAxKTsKICAgICAgICAvLyBzdWZmaXggd2l0aCAnXycgKyB0YXJnZXQg\nY29sdW1uCiAgICAgICAgaWYgKHRlbXBOYW1lID09IG51bGwpCiAgICAgICAg\nICAgIHRlbXBOYW1lID0gbmFtZTsKICAgICAgICBuYW1lID0gdGVtcE5hbWUg\nKyAiXyIgKyB0YXJnZXROYW1lOwogICAgICAgIG5hbWUgPSBkaWN0LmdldFZh\nbGlkQ29sdW1uTmFtZShuYW1lLCBmb3JlaWduKTsKICAgICAgICBjb2wuc2V0\nTmFtZShuYW1lKTsKICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2\nb2lkIHBvcHVsYXRlRm9yZWlnbktleUNvbHVtbihWYWx1ZU1hcHBpbmcgdm0s\nIFN0cmluZyBuYW1lLAogICAgICAgIFRhYmxlIGxvY2FsLCBUYWJsZSBmb3Jl\naWduLCBDb2x1bW4gY29sLCBPYmplY3QgdGFyZ2V0LCBib29sZWFuIGludmVy\nc2UsCiAgICAgICAgaW50IHBvcywgaW50IGNvbHMpIHsKICAgICAgICBib29s\nZWFuIGVsZW0gPSB2bSA9PSB2bS5nZXRGaWVsZE1hcHBpbmcoKS5nZXRFbGVt\nZW50KCkKICAgICAgICAgICAgJiYgdm0uZ2V0RmllbGRNYXBwaW5nKCkuZ2V0\nVHlwZUNvZGUoKSAhPSBKYXZhVHlwZXMuTUFQOwoKICAgICAgICAvLyBpZiB0\naGlzIGlzIGEgbm9uLWludmVyc2UgY29sbGVjdGlvbiBlbGVtZW50IGtleSwg\naXQgbXVzdCBiZSBpbgogICAgICAgIC8vIGEgam9pbiB0YWJsZTogaWYgd2Un\ncmUgbm90IHByZXBlbmRpbmcgdGhlIGZpZWxkIG5hbWUsIGxlYXZlIHRoZQog\nICAgICAgIC8vIGRlZmF1bHQKICAgICAgICBpZiAoIV9wcmVwZW5kRmllbGRO\nYW1lVG9Kb2luVGFibGVJbnZlcnNlSm9pbkNvbHVtbnMgJiYgIWludmVyc2Ug\nJiYgZWxlbSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICAvLyBvdGhl\ncndpc2UganBhIGFsd2F5cyB1c2VzIDxmaWVsZD5fPHBrY29sPiBmb3IgY29s\ndW1uIG5hbWUsIGV2ZW4KICAgICAgICAvLyB3aGVuIG9ubHkgb25lIGNvbAog\nICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBDb2x1bW4pIHsKICAgICAg\nICAgICAgaWYgKGVsZW0pCiAgICAgICAgICAgICAgICBuYW1lID0gdm0uZ2V0\nRmllbGRNYXBwaW5nKCkuZ2V0TmFtZSgpOwoKICAgICAgICAgICAgaWYgKGlz\nUmVtb3ZlSHVuZ2FyaWFuTm90YXRpb24oKSkKICAgICAgICAgICAgICAgIG5h\nbWUgPSByZW1vdmVIdW5nYXJpYW5Ob3RhdGlvbihuYW1lKTsKCiAgICAgICAg\nICAgIG5hbWUgPSBuYW1lICsgIl8iICsgKChDb2x1bW4pIHRhcmdldCkuZ2V0\nTmFtZSgpOwogICAgICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciB1\nbmlxdWVuZXNzLgogICAgICAgICAgICBuYW1lID0gZGljdC5nZXRWYWxpZENv\nbHVtbk5hbWUobmFtZSwgbG9jYWwsIGZhbHNlKTsKICAgICAgICAgICAgY29s\nLnNldE5hbWUobmFtZSk7CiAgICAgICAgfQogICAgfQoKICAgIEBPdmVycmlk\nZQogICAgcHVibGljIHZvaWQgcG9wdWxhdGVDb2x1bW5zKFZlcnNpb24gdmVy\ncywgVGFibGUgdGFibGUsIENvbHVtbltdIGNvbHMpIHsKICAgICAgICAvLyBj\naGVjayBmb3IgdmVyc2lvbiBmaWVsZCBhbmQgdXNlIGl0cyBuYW1lIGFzIGNv\nbHVtbiBuYW1lCiAgICAgICAgRmllbGRNYXBwaW5nIGZtID0gdmVycy5nZXRD\nbGFzc01hcHBpbmcoKS5nZXRWZXJzaW9uRmllbGRNYXBwaW5nKCk7CiAgICAg\nICAgaWYgKGZtICE9IG51bGwgJiYgY29scy5sZW5ndGggPT0gMSkKICAgICAg\nICAgICAgY29sc1swXS5zZXROYW1lKGZtLmdldE5hbWUoKSk7CiAgICAgICAg\nZWxzZQogICAgICAgICAgICBzdXBlci5wb3B1bGF0ZUNvbHVtbnModmVycywg\ndGFibGUsIGNvbHMpOwogICAgfQp9Cg==\n","encoding":"base64"}

