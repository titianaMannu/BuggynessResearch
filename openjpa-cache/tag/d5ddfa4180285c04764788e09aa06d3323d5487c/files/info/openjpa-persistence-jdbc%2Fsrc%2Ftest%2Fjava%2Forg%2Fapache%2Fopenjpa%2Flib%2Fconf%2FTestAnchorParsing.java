{"sha":"0b97ff2d87088a96f85e1d1bcfa0330fb5d87e4e","node_id":"MDQ6QmxvYjIwNjM2NDowYjk3ZmYyZDg3MDg4YTk2Zjg1ZTFkMWJjZmEwMzMwZmI1ZDg3ZTRl","size":5404,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0b97ff2d87088a96f85e1d1bcfa0330fb5d87e4e","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\nY29uZjsNCg0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KaW1wb3J0IGphdmEu\ndXRpbC5NaXNzaW5nUmVzb3VyY2VFeGNlcHRpb247DQppbXBvcnQgamF2YS5p\nby5GaWxlOw0KaW1wb3J0IGphdmEuaW8uSW5wdXRTdHJlYW07DQppbXBvcnQg\namF2YS5pby5JT0V4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLmlvLkZpbGVPdXRw\ndXRTdHJlYW07DQppbXBvcnQgamF2YS5pby5PdXRwdXRTdHJlYW07DQoNCmlt\ncG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7DQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi51dGlsLk9wdGlvbnM7DQoNCnB1YmxpYyBjbGFz\ncyBUZXN0QW5jaG9yUGFyc2luZyBleHRlbmRzIFRlc3RDYXNlIHsNCg0KICAg\nIHB1YmxpYyB2b2lkIHRlc3RGUUFuY2hvcigpIHsNCiAgICAgICAgU3RyaW5n\nIGZxTG9jID0gIk1FVEEtSU5GL3BlcnNpc3RlbmNlLnhtbCN0ZXN0IjsNCiAg\nICAgICAgT3B0aW9ucyBvcHRzID0gbmV3IE9wdGlvbnMoKTsNCiAgICAgICAg\nb3B0cy5zZXRQcm9wZXJ0eSgicCIsIGZxTG9jKTsNCiAgICAgICAgTGlzdCBs\nb2NzID0NCiAgICAgICAgICAgIENvbmZpZ3VyYXRpb25zLmdldEZ1bGx5UXVh\nbGlmaWVkQW5jaG9yc0luUHJvcGVydGllc0xvY2F0aW9uKG9wdHMpOw0KICAg\nICAgICBhc3NlcnROb3ROdWxsKGxvY3MpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoMSwgbG9jcy5zaXplKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoZnFM\nb2MsIGxvY3MuZ2V0KDApKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0\nZXN0Tm9SZXNvdXJjZSgpIHsNCiAgICAgICAgYWxsSGVscGVyKG51bGwpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3ROb0FuY2hvcigpIHsNCiAg\nICAgICAgYWxsSGVscGVyKCJNRVRBLUlORi9wZXJzaXN0ZW5jZS54bWwiKTsN\nCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgYWxsSGVscGVyKFN0cmluZyBy\nZXNvdXJjZSkgew0KICAgICAgICBPcHRpb25zIG9wdHMgPSBuZXcgT3B0aW9u\ncygpOw0KICAgICAgICBpZiAocmVzb3VyY2UgIT0gbnVsbCkNCiAgICAgICAg\nICAgIG9wdHMuc2V0UHJvcGVydHkoInAiLCByZXNvdXJjZSk7DQogICAgICAg\nIExpc3QgbG9jcyA9DQogICAgICAgICAgICBDb25maWd1cmF0aW9ucy5nZXRG\ndWxseVF1YWxpZmllZEFuY2hvcnNJblByb3BlcnRpZXNMb2NhdGlvbihvcHRz\nKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChsb2NzKTsNCiAgICAgICAgLy8g\nYXBwcm94aW1hdGUgc28gdGhhdCBpZiBzb21lb25lIGFkZHMgbW9yZSB1bml0\ncywgdGhpcyBkb2Vzbid0IGJyZWFrDQogICAgICAgIGFzc2VydFRydWUobG9j\ncy5zaXplKCkgPj0gNCk7DQogICAgICAgIGFzc2VydFRydWUobG9jcy5jb250\nYWlucygiTUVUQS1JTkYvcGVyc2lzdGVuY2UueG1sI3Rlc3QiKSk7DQogICAg\nICAgIGFzc2VydFRydWUobG9jcy5jb250YWlucygNCiAgICAgICAgICAgICJN\nRVRBLUlORi9wZXJzaXN0ZW5jZS54bWwjc2Vjb25kLXBlcnNpc3RlbmNlLXVu\naXQiKSk7DQogICAgICAgIGFzc2VydFRydWUobG9jcy5jb250YWlucygNCiAg\nICAgICAgICAgICJNRVRBLUlORi9wZXJzaXN0ZW5jZS54bWwjdGhpcmQtcGVy\nc2lzdGVuY2UtdW5pdCIpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShsb2NzLmNv\nbnRhaW5zKCJNRVRBLUlORi9wZXJzaXN0ZW5jZS54bWwjaW52YWxpZCIpKTsN\nCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0UHJvZHVjdERlcml2YXRp\nb25zTG9hZFJlc291cmNlKCkgew0KICAgICAgICBQcm9kdWN0RGVyaXZhdGlv\nbnMubG9hZCgNCiAgICAgICAgICAgICJvcmcvYXBhY2hlL29wZW5qcGEvbGli\nL2NvbmYvcHJvZHVjdC1kZXJpdmF0aW9ucy1sb2FkLnhtbCIsDQogICAgICAg\nICAgICAiZm9vIiwgbnVsbCk7DQoNCiAgICAgICAgUHJvZHVjdERlcml2YXRp\nb25zLmxvYWQoDQogICAgICAgICAgICAib3JnL2FwYWNoZS9vcGVuanBhL2xp\nYi9jb25mL3Byb2R1Y3QtZGVyaXZhdGlvbnMtbG9hZC54bWwiLA0KICAgICAg\nICAgICAgbnVsbCwgbnVsbCk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAg\nICAgIFByb2R1Y3REZXJpdmF0aW9ucy5sb2FkKA0KICAgICAgICAgICAgICAg\nICJvcmcvYXBhY2hlL29wZW5qcGEvbGliL2NvbmYvcHJvZHVjdC1kZXJpdmF0\naW9ucy1sb2FkLnhtbCIsDQogICAgICAgICAgICAgICAgIm5vbmV4aXN0YW50\nIiwgbnVsbCk7DQogICAgICAgICAgICBmYWlsKCJwdSAnbm9uZXhpc3RhbnQn\nIGRvZXMgbm90IGV4aXN0Iik7DQogICAgICAgIH0gY2F0Y2ggKE1pc3NpbmdS\nZXNvdXJjZUV4Y2VwdGlvbiBtcmUpIHsNCiAgICAgICAgICAgIC8vIGV4cGVj\ndGVkDQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAg\nUHJvZHVjdERlcml2YXRpb25zLmxvYWQoDQogICAgICAgICAgICAgICAgIm9y\nZy9hcGFjaGUvb3BlbmpwYS9saWIvY29uZi9wcm9kdWN0LWRlcml2YXRpb25z\nLWxvYWQueG1sIiwNCiAgICAgICAgICAgICAgICAiIiwgbnVsbCk7DQogICAg\nICAgICAgICBmYWlsKCJwdSAnJyBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAg\nICB9IGNhdGNoIChNaXNzaW5nUmVzb3VyY2VFeGNlcHRpb24gbXJlKSB7DQog\nICAgICAgICAgICAvLyBleHBlY3RlZA0KICAgICAgICB9DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgdGVzdE5vbmV4aXN0YW50UmVzb3VyY2VMb2FkKCkg\new0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgUHJvZHVjdERlcml2YXRp\nb25zLmxvYWQoIm5vbmV4aXN0YW50LXJlc291cmNlIiwgbnVsbCwgbnVsbCk7\nDQogICAgICAgICAgICBmYWlsKCJyZXNvdXJjZSAnbm9uZXhpc3RhbnQtcmVz\nb3VyY2UnIHNob3VsZCBub3QgZXhpc3QiKTsNCiAgICAgICAgfSBjYXRjaCAo\nTWlzc2luZ1Jlc291cmNlRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIC8v\nIGV4cGVjdGVkDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0UHJvZHVjdERlcml2YXRpb25zTG9hZEZpbGUoKSB0aHJvd3MgSU9F\neGNlcHRpb24gew0KICAgICAgICBGaWxlIHZhbGlkRmlsZSA9IHJlc291cmNl\nVG9UZW1wb3JhcnlGaWxlKA0KICAgICAgICAgICAgIm9yZy9hcGFjaGUvb3Bl\nbmpwYS9saWIvY29uZi9wcm9kdWN0LWRlcml2YXRpb25zLWxvYWQueG1sIik7\nDQoNCiAgICAgICAgUHJvZHVjdERlcml2YXRpb25zLmxvYWQodmFsaWRGaWxl\nLCAiZm9vIiwgbnVsbCk7DQoNCiAgICAgICAgUHJvZHVjdERlcml2YXRpb25z\nLmxvYWQodmFsaWRGaWxlLCBudWxsLCBudWxsKTsNCg0KICAgICAgICB0cnkg\new0KICAgICAgICAgICAgUHJvZHVjdERlcml2YXRpb25zLmxvYWQodmFsaWRG\naWxlLCAibm9uZXhpc3RhbnQiLCBudWxsKTsNCiAgICAgICAgICAgIGZhaWwo\nInB1ICdub25leGlzdGFudCcgZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAg\nfSBjYXRjaCAoTWlzc2luZ1Jlc291cmNlRXhjZXB0aW9uIG1yZSkgew0KICAg\nICAgICAgICAgLy8gZXhwZWN0ZWQNCiAgICAgICAgfQ0KDQogICAgICAgIHRy\neSB7DQogICAgICAgICAgICBQcm9kdWN0RGVyaXZhdGlvbnMubG9hZCh2YWxp\nZEZpbGUsICIiLCBudWxsKTsNCiAgICAgICAgICAgIGZhaWwoInB1ICcnIGRv\nZXMgbm90IGV4aXN0Iik7DQogICAgICAgIH0gY2F0Y2ggKE1pc3NpbmdSZXNv\ndXJjZUV4Y2VwdGlvbiBtcmUpIHsNCiAgICAgICAgICAgIC8vIGV4cGVjdGVk\nDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm9u\nZXhpc3RhbnRGaWxlTG9hZCgpIHsNCiAgICAgICAgRmlsZSBmID0gbmV3IEZp\nbGUoInRoaXMtc2hvdWxkLW5vdC1leGlzdCIpOw0KICAgICAgICBhc3NlcnRG\nYWxzZShmLmV4aXN0cygpKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAg\nIFByb2R1Y3REZXJpdmF0aW9ucy5sb2FkKGYsIG51bGwsIG51bGwpOw0KICAg\nICAgICAgICAgZmFpbChmLmdldE5hbWUoKSArICIgZG9lcyBub3QgZXhpc3Qi\nKTsNCiAgICAgICAgfSBjYXRjaCAoTWlzc2luZ1Jlc291cmNlRXhjZXB0aW9u\nIGUpIHsNCiAgICAgICAgICAgIC8vIGV4cGVjdGVkDQogICAgICAgIH0NCiAg\nICB9DQoNCiAgICBwcml2YXRlIEZpbGUgcmVzb3VyY2VUb1RlbXBvcmFyeUZp\nbGUoU3RyaW5nIHMpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQogICAgICAgIElu\ncHV0U3RyZWFtIGluID0gZ2V0Q2xhc3MoKS5nZXRDbGFzc0xvYWRlcigpLmdl\ndFJlc291cmNlQXNTdHJlYW0ocyk7DQogICAgICAgIEZpbGUgZiA9IEZpbGUu\nY3JlYXRlVGVtcEZpbGUoIlRlc3RBbmNob3JQYXJzaW5nIiwgIi54bWwiKTsN\nCiAgICAgICAgT3V0cHV0U3RyZWFtIG91dCA9IG5ldyBGaWxlT3V0cHV0U3Ry\nZWFtKGYpOw0KICAgICAgICBieXRlW10gYnl0ZXMgPSBuZXcgYnl0ZVsxMDI0\nXTsNCiAgICAgICAgd2hpbGUgKHRydWUpIHsNCiAgICAgICAgICAgIGludCBj\nb3VudCA9IGluLnJlYWQoYnl0ZXMpOw0KICAgICAgICAgICAgaWYgKGNvdW50\nIDwgMCkNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIG91\ndC53cml0ZShieXRlcywgMCwgY291bnQpOw0KICAgICAgICB9DQogICAgICAg\nIGYuZGVsZXRlT25FeGl0KCk7DQogICAgICAgIHJldHVybiBmOw0KICAgIH0N\nCn0NCg==\n","encoding":"base64"}

