{"sha":"de565985139fba6366db863413d2dea0e9490e62","node_id":"MDQ6QmxvYjIwNjM2NDpkZTU2NTk4NTEzOWZiYTYzNjZkYjg2MzQxM2QyZGVhMGU5NDkwZTYy","size":5470,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/de565985139fba6366db863413d2dea0e9490e62","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuYW5ub3RhdGlvbnM7DQoNCmltcG9ydCBqYXZhLnNxbC4q\nOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi4qOw0K\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuKjsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0cy4qOw0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC4qOw0KaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5tZXRhLio7DQppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0KDQoN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuYW5ub3Rh\ndGlvbnMuY29tbW9uLmFwcHMuYW5ub3RBcHAuYW5ub3R5cGUuKjsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0aWxz\nLio7DQoNCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsNCg0KLyoqDQogKiA8\ncD5UZXN0IGVtYmVkZGFibGUgc3VwZXJjbGFzc2VzLjwvcD4NCiAqDQogKiBA\nYXV0aG9yIEFiZSBXaGl0ZQ0KICovDQpwdWJsaWMgY2xhc3MgVGVzdEVtYmVk\nZGFibGVTdXBlcmNsYXNzIGV4dGVuZHMgQW5ub3RhdGlvblRlc3RDYXNlDQp7\nDQoNCglwdWJsaWMgVGVzdEVtYmVkZGFibGVTdXBlcmNsYXNzKFN0cmluZyBu\nYW1lKQ0KCXsNCgkJc3VwZXIobmFtZSwgImFubm90YXRpb25jYWN0dXNhcHAi\nKTsNCgl9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsNCiAgICAgICAg\nZGVsZXRlQWxsKEVtYmVkZGFibGVTdXBlclN1Yi5jbGFzcyk7DQogICAgfQ0K\nDQogICAgLypwdWJsaWMgdm9pZCB0ZXN0U3VwZXJjbGFzc0VtYmVkZGVkT25s\neSgpIHsNCiAgICAgICAgQ2xhc3NNYXBwaW5nIGNscyA9ICgoSkRCQ0NvbmZp\nZ3VyYXRpb24pIGdldENvbmZpZ3VyYXRpb24oKSkuDQogICAgICAgICAgICBn\nZXRNYXBwaW5nUmVwb3NpdG9yeUluc3RhbmNlKCkuZ2V0TWFwcGluZyhFbWJl\nZGRhYmxlU3VwZXIuY2xhc3MsDQogICAgICAgICAgICBudWxsLCB0cnVlKTsN\nCiAgICAgICAgYXNzZXJ0VHJ1ZShjbHMuaXNFbWJlZGRlZE9ubHkoKSk7DQog\nICAgICAgIGFzc2VydEVxdWFscyhOb25lQ2xhc3NTdHJhdGVneS5nZXRJbnN0\nYW5jZSgpLCBjbHMuZ2V0U3RyYXRlZ3koKSk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgdGVzdFN1YmNsYXNzTWFwcGluZ0RlZmF1bHRzQW5kT3ZlcnJp\nZGVzKCkgew0KICAgICAgICBKREJDQ29uZmlndXJhdGlvbiBjb25mID0gKEpE\nQkNDb25maWd1cmF0aW9uKSBnZXRDb25maWd1cmF0aW9uKCk7DQogICAgICAg\nIENsYXNzTWFwcGluZyBjbHMgPSBjb25mLmdldE1hcHBpbmdSZXBvc2l0b3J5\nSW5zdGFuY2UoKS4NCiAgICAgICAgICAgIGdldE1hcHBpbmcoRW1iZWRkYWJs\nZVN1cGVyU3ViLmNsYXNzLCBudWxsLCB0cnVlKTsNCiAgICAgICAgYXNzZXJ0\nVHJ1ZSghY2xzLmlzRW1iZWRkZWRPbmx5KCkpOw0KICAgICAgICBhc3NlcnRU\ncnVlKGNscy5nZXRTdHJhdGVneSgpIGluc3RhbmNlb2YgRnVsbENsYXNzU3Ry\nYXRlZ3kpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoQ2xhc3NNYXBwaW5nLklE\nX0FQUExJQ0FUSU9OLCBjbHMuZ2V0SWRlbnRpdHlUeXBlKCkpOw0KICAgICAg\nICBhc3NlcnRUcnVlKGNscy5pc09wZW5KUEFJZGVudGl0eSgpKTsNCg0KICAg\nICAgICBGaWVsZE1hcHBpbmcgZm0gPSBjbHMuZ2V0RmllbGRNYXBwaW5nKCJw\nayIpOw0KICAgICAgICBhc3NlcnRUcnVlKGZtLmlzUHJpbWFyeUtleSgpKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKFZhbHVlU3RyYXRlZ2llcy5TRVFVRU5D\nRSwgZm0uZ2V0VmFsdWVTdHJhdGVneSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJJRCIsIGZtLmdldENvbHVtbnMoKVswXS5nZXROYW1lKCkpOw0KDQog\nICAgICAgIGFzc2VydE51bGwoY2xzLmdldEZpZWxkKCJ0cmFucyIpKTsNCg0K\nICAgICAgICBmbSA9IGNscy5nZXRGaWVsZE1hcHBpbmcoImNsb2IiKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJDQyIsIGZtLmdldENvbHVtbnMoKVswXS5n\nZXROYW1lKCkpOw0KICAgICAgICBEQkRpY3Rpb25hcnkgZGljdCA9IGNvbmYu\nZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsNCiAgICAgICAgaWYgKGRpY3Qu\nZ2V0UHJlZmVycmVkVHlwZShUeXBlcy5DTE9CKSA9PSBUeXBlcy5DTE9CKSB7\nDQogICAgICAgICAgICBpZiAoZGljdC5tYXhFbWJlZGRlZENsb2JTaXplID4g\nMCkNCiAgICAgICAgICAgICAgICBhc3NlcnRUcnVlKGZtLmdldFN0cmF0ZWd5\nKCkgaW5zdGFuY2VvZg0KICAgICAgICAgICAgICAgICAgICBNYXhFbWJlZGRl\nZENsb2JGaWVsZFN0cmF0ZWd5KTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAg\nICAgICAgICAgICBhc3NlcnRUcnVlKGZtLmdldEhhbmRsZXIoKSBpbnN0YW5j\nZW9mIENsb2JWYWx1ZUhhbmRsZXIpOw0KICAgICAgICB9IGVsc2UNCiAgICAg\nICAgICAgIGFzc2VydFRydWUoZm0uZ2V0U3RyYXRlZ3koKSBpbnN0YW5jZW9m\nIFN0cmluZ0ZpZWxkU3RyYXRlZ3kpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2\nb2lkIHRlc3RTdWJjbGFzc0Rpc2NyaW1pbmF0b3JNYXBwaW5nKCkgew0KICAg\nICAgICBKREJDQ29uZmlndXJhdGlvbiBjb25mID0gKEpEQkNDb25maWd1cmF0\naW9uKSBnZXRDb25maWd1cmF0aW9uKCk7DQogICAgICAgIENsYXNzTWFwcGlu\nZyBjbHMgPSBjb25mLmdldE1hcHBpbmdSZXBvc2l0b3J5SW5zdGFuY2UoKS4N\nCiAgICAgICAgICAgIGdldE1hcHBpbmcoRW1iZWRkYWJsZVN1cGVyU3ViLmNs\nYXNzLCBudWxsLCB0cnVlKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJESVND\nIiwgY2xzLmdldERpc2NyaW1pbmF0b3IoKS5nZXRDb2x1bW5zKClbMF0uDQog\nICAgICAgICAgICBnZXROYW1lKCkpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2\nb2lkIHRlc3RWZXJzaW9uT3ZlcnJpZGVNYXBwaW5nKCkgew0KICAgICAgICBK\nREJDQ29uZmlndXJhdGlvbiBjb25mID0gKEpEQkNDb25maWd1cmF0aW9uKSBn\nZXRDb25maWd1cmF0aW9uKCk7DQogICAgICAgIENsYXNzTWFwcGluZyBjbHMg\nPSBjb25mLmdldE1hcHBpbmdSZXBvc2l0b3J5SW5zdGFuY2UoKS4NCiAgICAg\nICAgICAgIGdldE1hcHBpbmcoRW1iZWRkYWJsZVN1cGVyU3ViLmNsYXNzLCBu\ndWxsLCB0cnVlKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJWRVJTVkFMIiwg\nY2xzLmdldFZlcnNpb24oKS5nZXRDb2x1bW5zKClbMF0uZ2V0TmFtZSgpKTsN\nCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmVsYXRpb25NYXBwaW5n\ncygpIHsNCiAgICAgICAgSkRCQ0NvbmZpZ3VyYXRpb24gY29uZiA9IChKREJD\nQ29uZmlndXJhdGlvbikgZ2V0Q29uZmlndXJhdGlvbigpOw0KICAgICAgICBD\nbGFzc01hcHBpbmcgY2xzID0gY29uZi5nZXRNYXBwaW5nUmVwb3NpdG9yeUlu\nc3RhbmNlKCkuDQogICAgICAgICAgICBnZXRNYXBwaW5nKEVtYmVkZGFibGVT\ndXBlclN1Yi5jbGFzcywgbnVsbCwgdHJ1ZSk7DQogICAgICAgIEZpZWxkTWFw\ncGluZyBmbSA9IGNscy5nZXRGaWVsZE1hcHBpbmcoInN1YiIpOw0KICAgICAg\nICBhc3NlcnRUcnVlKGZtLmdldFN0cmF0ZWd5KCkgaW5zdGFuY2VvZiBSZWxh\ndGlvbkZpZWxkU3RyYXRlZ3kpOw0KDQogICAgICAgIGZtID0gY2xzLmdldEZp\nZWxkTWFwcGluZygic3VwIik7DQogICAgICAgIGFzc2VydFRydWUoZm0uZ2V0\nU3RyYXRlZ3koKSBpbnN0YW5jZW9mIFJlbGF0aW9uRmllbGRTdHJhdGVneSk7\nDQogICAgfQ0KKi8NCiAgICBwdWJsaWMgdm9pZCB0ZXN0UGVyc2lzdEFuZEZp\nbmQoKSB7DQogICAgICAgIEVtYmVkZGFibGVTdXBlclN1YiBwYXJlbnQgPSBu\nZXcgRW1iZWRkYWJsZVN1cGVyU3ViKCk7DQogICAgICAgIHBhcmVudC5zZXRD\nbG9iKCJwYXJlbnQiKTsNCiAgICAgICAgRW1iZWRkYWJsZVN1cGVyU3ViIHN1\nYiA9IG5ldyBFbWJlZGRhYmxlU3VwZXJTdWIoKTsNCiAgICAgICAgc3ViLnNl\ndENsb2IoInN1YiIpOw0KICAgICAgICBFbWJlZGRhYmxlU3VwZXJTdWIgc3Vw\nID0gbmV3IEVtYmVkZGFibGVTdXBlclN1YigpOw0KICAgICAgICBzdXAuc2V0\nQ2xvYigic3VwIik7DQogICAgICAgIHBhcmVudC5zZXRTdWIoc3ViKTsNCiAg\nICAgICAgcGFyZW50LnNldFN1cChzdXApOw0KDQogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIGVtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJy\nZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBzdGFydFR4KGVtKTsNCiAg\nICAgICAgZW0ucGVyc2lzdEFsbChwYXJlbnQsIHN1Yiwgc3VwKTsNCiAgICAg\nICAgZW5kVHgoZW0pOw0KICAgICAgICBsb25nIHBrID0gcGFyZW50LmdldFBL\nKCk7DQogICAgICAgIGVuZEVtKGVtKTsNCg0KICAgICAgICBlbSA9IChPcGVu\nSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAg\nICAgICAgcGFyZW50ID0gZW0uZmluZChFbWJlZGRhYmxlU3VwZXJTdWIuY2xh\nc3MsIHBrKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJwYXJlbnQiLCBwYXJl\nbnQuZ2V0Q2xvYigpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzdWIiLCBw\nYXJlbnQuZ2V0U3ViKCkuZ2V0Q2xvYigpKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJzdXAiLCBwYXJlbnQuZ2V0U3VwKCkuZ2V0Q2xvYigpKTsNCiAgICAg\nICAgZW5kRW0oZW0pOw0KICAgIH0NCn0NCg==\n","encoding":"base64"}

