{"sha":"19bd76407ca4c8ff08460b736914b2fa20cc3a26","node_id":"MDQ6QmxvYjIwNjM2NDoxOWJkNzY0MDdjYTRjOGZmMDg0NjBiNzM2OTE0YjJmYTIwY2MzYTI2","size":5065,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/19bd76407ca4c8ff08460b736914b2fa20cc3a26","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuYW5ub3RhdGlvbnM7DQoNCmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS4qOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nY29uZi4qOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEu\nKjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0\ncy4qOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5P\ncGVuSlBBRW50aXR5TWFuYWdlcjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5hbm5vdGF0aW9ucy5jb21tb24uYXBwcy5hbm5v\ndEFwcC5hbm5vdHlwZS4qOw0KaW1wb3J0IGp1bml0LmZyYW1ld29yay4qOw0K\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1v\nbi51dGlscy4qOw0KDQoNCg0KLyoqDQogKiA8cD5UZXN0IHRoZSB1c2Ugb2Yg\ndGhlIHtAbGluayBNYXBLZXl9IGFubm90YXRpb24uICBOb3RlIHRoYXQgd2Ug\naGF2ZQ0KICogbW9yZSB0aG9yb3VnaCBLb2RvIGNvcmUgdGVzdHMgZm9yIHRo\nZSBtYXBwaW5ncyB0aGVtc2VsdmVzLiAgU2VlDQogKiB7QGxpbmsga29kby5q\nZGJjLm1ldGEuVGVzdE1hcHBlZEJ5S2V5TWFwc30uDQogKg0KICogQGF1dGhv\nciBBYmUgV2hpdGUNCiAqLw0KcHVibGljIGNsYXNzIFRlc3RNYXBLZXkgZXh0\nZW5kcyBBbm5vdGF0aW9uVGVzdENhc2UNCnsNCg0KCXB1YmxpYyBUZXN0TWFw\nS2V5KFN0cmluZyBuYW1lKQ0KCXsNCgkJc3VwZXIobmFtZSwgImFubm90YXRp\nb25jYWN0dXNhcHAiKTsNCgl9DQoNCiAgICAvL3ByaXZhdGUgQ2xhc3NNYXBw\naW5nIF9tYXBwaW5nOw0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKQ0KICAg\nIHsNCiAgICAgICAgZGVsZXRlQWxsKEZsYXQxLmNsYXNzKTsNCiAgICAgICAg\nZGVsZXRlQWxsKEFubm9UZXN0Mi5jbGFzcyk7DQogICAgICAgIGRlbGV0ZUFs\nbChBbm5vVGVzdDEuY2xhc3MpOw0KLy8gICAgICAgIF9tYXBwaW5nID0gKChK\nREJDQ29uZmlndXJhdGlvbikgZ2V0Q29uZmlndXJhdGlvbigpKS4NCi8vICAg\nICAgICAgICAgZ2V0TWFwcGluZ1JlcG9zaXRvcnlJbnN0YW5jZSgpLmdldE1h\ncHBpbmcoQW5ub1Rlc3QxLmNsYXNzLA0KLy8gICAgICAgICAgICBudWxsLCB0\ncnVlKTsNCiAgICB9DQoNCiAgIC8qKiBwdWJsaWMgdm9pZCB0ZXN0RGVmYXVs\ndE1hcEtleU1hcHBpbmcoKSB7DQogICAgICAgIEZpZWxkTWFwcGluZyBmbSA9\nIF9tYXBwaW5nLmdldEZpZWxkTWFwcGluZygiZGVmYXVsdE1hcEtleSIpOw0K\nICAgICAgICBhc3NlcnRUcnVlKGZtLmdldFN0cmF0ZWd5KCkgaW5zdGFuY2Vv\nZiBSZWxhdGlvbk1hcFRhYmxlRmllbGRTdHJhdGVneSk7DQogICAgICAgIGFz\nc2VydEVxdWFscygicGsiLCBmbS5nZXRLZXkoKS5nZXRWYWx1ZU1hcHBlZEJ5\nKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoX21hcHBpbmcuZ2V0UmVwb3Np\ndG9yeSgpLmdldE1ldGFEYXRhKEZsYXQxLmNsYXNzLCBudWxsLA0KICAgICAg\nICAgICAgdHJ1ZSkuZ2V0RmllbGQoInBrIiksIGZtLmdldEtleSgpLmdldFZh\nbHVlTWFwcGVkQnlNZXRhRGF0YSgpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0TmFtZWRNYXBLZXlNYXBwaW5nKCkgew0KICAgICAgICBGaWVs\nZE1hcHBpbmcgZm0gPSBfbWFwcGluZy5nZXRGaWVsZE1hcHBpbmcoIm5hbWVk\nTWFwS2V5Iik7DQogICAgICAgIGFzc2VydFRydWUoZm0uZ2V0U3RyYXRlZ3ko\nKSBpbnN0YW5jZW9mIFJlbGF0aW9uTWFwVGFibGVGaWVsZFN0cmF0ZWd5KTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJiYXNpYyIsIGZtLmdldEtleSgpLmdl\ndFZhbHVlTWFwcGVkQnkoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhfbWFw\ncGluZy5nZXRSZXBvc2l0b3J5KCkuZ2V0TWV0YURhdGEoRmxhdDEuY2xhc3Ms\nIG51bGwsDQogICAgICAgICAgICB0cnVlKS5nZXRGaWVsZCgiYmFzaWMiKSwg\nZm0uZ2V0S2V5KCkuZ2V0VmFsdWVNYXBwZWRCeU1ldGFEYXRhKCkpOw0KICAg\nIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RJbnZlcnNlT3duZXJNYXBLZXlN\nYXBwaW5nKCkgew0KICAgICAgICBGaWVsZE1hcHBpbmcgZm0gPSBfbWFwcGlu\nZy5nZXRGaWVsZE1hcHBpbmcoImludmVyc2VPd25lck1hcEtleSIpOw0KICAg\nICAgICBhc3NlcnRUcnVlKGZtLmdldFN0cmF0ZWd5KCkgaW5zdGFuY2VvZg0K\nICAgICAgICAgICAgUmVsYXRpb25NYXBJbnZlcnNlS2V5RmllbGRTdHJhdGVn\neSk7DQogICAgICAgIGFzc2VydEVxdWFscygiYmFzaWMiLCBmbS5nZXRLZXko\nKS5nZXRWYWx1ZU1hcHBlZEJ5KCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\nX21hcHBpbmcuZ2V0UmVwb3NpdG9yeSgpLmdldE1ldGFEYXRhKEFubm9UZXN0\nMi5jbGFzcywNCiAgICAgICAgICAgIG51bGwsIHRydWUpLmdldEZpZWxkKCJi\nYXNpYyIpLCBmbS5nZXRLZXkoKS4NCiAgICAgICAgICAgIGdldFZhbHVlTWFw\ncGVkQnlNZXRhRGF0YSgpKTsNCiAgICB9KiovDQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0SW5zZXJ0QW5kUmV0cmlldmUoKQ0KICAgIHsNCg0KICAgICAgICBG\nbGF0MSBmMSA9IG5ldyBGbGF0MSgxKTsNCiAgICAgICAgZjEuc2V0QmFzaWMo\nMTAwKTsNCiAgICAgICAgRmxhdDEgZjIgPSBuZXcgRmxhdDEoMik7DQogICAg\nICAgIGYyLnNldEJhc2ljKDIwMCk7DQogICAgICAgIEFubm9UZXN0MiBhMSA9\nIG5ldyBBbm5vVGVzdDIoMUwsICIxIik7DQogICAgICAgIGExLnNldEJhc2lj\nKCIxMDAiKTsNCiAgICAgICAgQW5ub1Rlc3QyIGEyID0gbmV3IEFubm9UZXN0\nMigyTCwgIjIiKTsNCiAgICAgICAgYTIuc2V0QmFzaWMoIjIwMCIpOw0KDQog\nICAgICAgIEFubm9UZXN0MSBwYyA9IG5ldyBBbm5vVGVzdDEoMUwpOw0KICAg\nICAgICBwYy5nZXREZWZhdWx0TWFwS2V5KCkucHV0KGYxLmdldFBrKCksIGYx\nKTsNCiAgICAgICAgcGMuZ2V0RGVmYXVsdE1hcEtleSgpLnB1dChmMi5nZXRQ\naygpLCBmMik7DQogICAgICAgIHBjLmdldE5hbWVkTWFwS2V5KCkucHV0KGYx\nLmdldEJhc2ljKCksIGYxKTsNCiAgICAgICAgcGMuZ2V0TmFtZWRNYXBLZXko\nKS5wdXQoZjIuZ2V0QmFzaWMoKSwgZjIpOw0KICAgICAgICBwYy5nZXRJbnZl\ncnNlT3duZXJNYXBLZXkoKS5wdXQoYTEuZ2V0QmFzaWMoKSwgYTEpOw0KICAg\nICAgICBwYy5nZXRJbnZlcnNlT3duZXJNYXBLZXkoKS5wdXQoYTIuZ2V0QmFz\naWMoKSwgYTIpOw0KICAgICAgICBhMS5zZXRPbmVNYW55T3duZXIocGMpOw0K\nICAgICAgICBhMi5zZXRPbmVNYW55T3duZXIocGMpOw0KDQogICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgIHN0YXJ0VHgoZW0p\nOw0KICAgICAgICBlbS5wZXJzaXN0QWxsKG5ldyBPYmplY3RbXXsgcGMsIGYx\nLCBmMiwgYTEsIGEyIH0pOw0KICAgICAgIGVuZFR4KGVtKTsNCiAgICAgICAg\nZW5kRW0oZW0pOw0KDQogICAgICAgIGVtID0gKE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBwYyA9IGVt\nLmZpbmQoQW5ub1Rlc3QxLmNsYXNzLCBlbS5nZXRPYmplY3RJZChwYykpOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoMiwgcGMuZ2V0RGVmYXVsdE1hcEtleSgp\nLnNpemUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygxLCBwYy5nZXREZWZh\ndWx0TWFwS2V5KCkuZ2V0KDEpLmdldFBrKCkpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMiwgcGMuZ2V0RGVmYXVsdE1hcEtleSgpLmdldCgyKS5nZXRQaygp\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHBjLmdldE5hbWVkTWFwS2V5\nKCkuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEwMCwgcGMuZ2V0\nTmFtZWRNYXBLZXkoKS5nZXQoMTAwKS5nZXRCYXNpYygpKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDIwMCwgcGMuZ2V0TmFtZWRNYXBLZXkoKS5nZXQoMjAw\nKS5nZXRCYXNpYygpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHBjLmdl\ndEludmVyc2VPd25lck1hcEtleSgpLnNpemUoKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygiMTAwIiwgcGMuZ2V0SW52ZXJzZU93bmVyTWFwS2V5KCkuZ2V0\nKCIxMDAiKS4NCiAgICAgICAgICAgIGdldEJhc2ljKCkpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoIjIwMCIsIHBjLmdldEludmVyc2VPd25lck1hcEtleSgp\nLmdldCgiMjAwIikuDQogICAgICAgICAgICBnZXRCYXNpYygpKTsNCiAgICAg\nICAgZW5kRW0oZW0pOw0KICAgIH0NCn0NCg==\n","encoding":"base64"}

