{"sha":"0bee57f0b60f893594b23f14295be1caf0f11a7b","node_id":"MDQ6QmxvYjIwNjM2NDowYmVlNTdmMGI2MGY4OTM1OTRiMjNmMTQyOTViZTFjYWYwZjExYTdi","size":3813,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0bee57f0b60f893594b23f14295be1caf0f11a7b","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuYW5ub3RhdGlvbnM7DQoNCmltcG9ydCBqYXZhLnV0aWwu\nKjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5P\ncGVuSlBBRW50aXR5TWFuYWdlcjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5hbm5vdGF0aW9ucy5jb21tb24uYXBwcy5hbm5v\ndEFwcC5hbm5vdHlwZS4qOw0KaW1wb3J0IGp1bml0LmZyYW1ld29yay4qOw0K\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1v\nbi51dGlscy4qOw0KDQoNCg0KLyoqDQogKiBUZXN0IGZvciAxLW0NCiAqDQog\nKiBAYXV0aG9yIFN0ZXZlIEtpbQ0KICovDQpwdWJsaWMgY2xhc3MgVGVzdE9u\nZVRvTWFueSBleHRlbmRzIEFubm90YXRpb25UZXN0Q2FzZQ0Kew0KCXB1Ymxp\nYyBUZXN0T25lVG9NYW55KFN0cmluZyBuYW1lKQ0KCXsNCgkJc3VwZXIobmFt\nZSwgImFubm90YXRpb25jYWN0dXNhcHAiKTsNCgl9DQoNCiAgICBwdWJsaWMg\ndm9pZCBzZXRVcCgpIHsNCiAgICAgICAgZGVsZXRlQWxsKEFubm9UZXN0MS5j\nbGFzcyk7DQogICAgICAgIGRlbGV0ZUFsbChBbm5vVGVzdDIuY2xhc3MpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RPbmVUb01hbnkoKSB7DQog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gKE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBz\ndGFydFR4KGVtKTsNCiAgICAgICAgQW5ub1Rlc3QxIHBjID0gbmV3IEFubm9U\nZXN0MSg1KTsNCiAgICAgICAgcGMuZ2V0T25lTWFueSgpLmFkZChuZXcgQW5u\nb1Rlc3QyKDE1LCAiZm9vIikpOw0KICAgICAgICBwYy5nZXRPbmVNYW55KCku\nYWRkKG5ldyBBbm5vVGVzdDIoMjAsICJmb29iYXIiKSk7DQogICAgICAgIGVt\nLnBlcnNpc3QocGMpOw0KICAgICAgICBlbS5wZXJzaXN0QWxsKHBjLmdldE9u\nZU1hbnkoKSk7DQogICAgICAgIGVuZFR4KGVtKTsNCiAgICAgICAgZW5kRW0o\nZW0pOw0KDQogICAgICAgIGVtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBj\ndXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBwYyA9IGVtLmZpbmQo\nQW5ub1Rlc3QxLmNsYXNzLCBlbS5nZXRPYmplY3RJZChwYykpOw0KICAgICAg\nICBDb2xsZWN0aW9uPEFubm9UZXN0Mj4gbWFueSA9IHBjLmdldE9uZU1hbnko\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIG1hbnkuc2l6ZSgpKTsNCiAg\nICAgICAgZm9yIChBbm5vVGVzdDIgcGMyIDogbWFueSkgew0KICAgICAgICAg\nICAgc3dpdGNoICgoaW50KSBwYzIuZ2V0UGsxKCkpIHsNCiAgICAgICAgICAg\nICAgICBjYXNlIDE1Og0KICAgICAgICAgICAgICAgICAgICBhc3NlcnRFcXVh\nbHMoImZvbyIsIHBjMi5nZXRQazIoKSk7DQogICAgICAgICAgICAgICAgICAg\nIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgMjA6DQogICAgICAgICAg\nICAgICAgICAgIGFzc2VydEVxdWFscygiZm9vYmFyIiwgcGMyLmdldFBrMigp\nKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAg\nICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgZmFpbCgidW5rbm93\nbiBlbGVtZW50OiIgKyBwYzIuZ2V0UGsxKCkpOw0KICAgICAgICAgICAgfQ0K\nICAgICAgICB9DQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0SW52ZXJzZU93bmVyT25lVG9NYW55KCkgew0KICAg\nICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBlbSA9IChPcGVuSlBBRW50aXR5\nTWFuYWdlcikgY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3Rh\ncnRUeChlbSk7DQogICAgICAgIEFubm9UZXN0MSBwYyA9IG5ldyBBbm5vVGVz\ndDEoNSk7DQogICAgICAgIEFubm9UZXN0MiBwYzIgPSBuZXcgQW5ub1Rlc3Qy\nKDE1LCAiZm9vIik7DQogICAgICAgIHBjLmdldEludmVyc2VPd25lck9uZU1h\nbnkoKS5hZGQocGMyKTsNCiAgICAgICAgcGMyLnNldE9uZU1hbnlPd25lcihw\nYyk7DQogICAgICAgIHBjMiA9IG5ldyBBbm5vVGVzdDIoMjAsICJmb29iYXIi\nKTsNCiAgICAgICAgcGMuZ2V0SW52ZXJzZU93bmVyT25lTWFueSgpLmFkZChw\nYzIpOw0KICAgICAgICBwYzIuc2V0T25lTWFueU93bmVyKHBjKTsNCiAgICAg\nICAgZW0ucGVyc2lzdChwYyk7DQogICAgICAgIGVtLnBlcnNpc3RBbGwocGMu\nZ2V0SW52ZXJzZU93bmVyT25lTWFueSgpKTsNCiAgICAgICAgZW5kVHgoZW0p\nOw0KICAgICAgICBlbmRFbShlbSk7DQoNCiAgICAgICAgZW0gPSAoT3BlbkpQ\nQUVudGl0eU1hbmFnZXIpY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAg\nICAgcGMgPSBlbS5maW5kKEFubm9UZXN0MS5jbGFzcywgZW0uZ2V0T2JqZWN0\nSWQocGMpKTsNCiAgICAgICAgQ29sbGVjdGlvbjxBbm5vVGVzdDI+IG1hbnkg\nPSBwYy5nZXRJbnZlcnNlT3duZXJPbmVNYW55KCk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygyLCBtYW55LnNpemUoKSk7DQogICAgICAgIGZvciAoQW5ub1Rl\nc3QyIHBjMyA6IG1hbnkpIHsNCiAgICAgICAgICAgIGFzc2VydEVxdWFscyhw\nYywgcGMzLmdldE9uZU1hbnlPd25lcigpKTsNCiAgICAgICAgICAgIHN3aXRj\naCAoKGludCkgcGMzLmdldFBrMSgpKSB7DQogICAgICAgICAgICAgICAgY2Fz\nZSAxNToNCiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb28i\nLCBwYzMuZ2V0UGsyKCkpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsN\nCiAgICAgICAgICAgICAgICBjYXNlIDIwOg0KICAgICAgICAgICAgICAgICAg\nICBhc3NlcnRFcXVhbHMoImZvb2JhciIsIHBjMy5nZXRQazIoKSk7DQogICAg\nICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGRlZmF1\nbHQ6DQogICAgICAgICAgICAgICAgICAgIGZhaWwoInVua25vd24gZWxlbWVu\ndDoiICsgcGMzLmdldFBrMSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAg\nfQ0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

