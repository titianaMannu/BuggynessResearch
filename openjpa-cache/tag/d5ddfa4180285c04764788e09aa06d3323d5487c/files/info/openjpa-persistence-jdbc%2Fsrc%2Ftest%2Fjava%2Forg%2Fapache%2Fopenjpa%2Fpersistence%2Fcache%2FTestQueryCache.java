{"sha":"49d1a4c17524714a98cd0c2db080264625db7683","node_id":"MDQ6QmxvYjIwNjM2NDo0OWQxYTRjMTc1MjQ3MTRhOThjZDBjMmRiMDgwMjY0NjI1ZGI3Njgz","size":5518,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/49d1a4c17524714a98cd0c2db080264625db7683","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY2FjaGU7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsN\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLk5hbWVkUXVlcnk7DQoNCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY2FjaGUuY29tbW9uLmFw\ncHMuRW50aXR5MTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuY2FjaGUuY29tbW9uLmFwcHMuRW50aXR5MjsNCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0aWxzLkFic3Ry\nYWN0VGVzdENhc2U7DQoNCkBOYW1lZFF1ZXJ5KG5hbWUgPSAic2V0UGFyYW0x\nIiwNCiAgICBxdWVyeSA9ICJTRUxFQ1QgbyBGUk9NIEVudGl0eTEgbyBXSEVS\nRSBvLnBrIExJS0UgOnBrIikNCnB1YmxpYyBjbGFzcyBUZXN0UXVlcnlDYWNo\nZSBleHRlbmRzIEFic3RyYWN0VGVzdENhc2Ugew0KDQogICAgRW50aXR5TWFu\nYWdlciBlbTsNCg0KICAgIHB1YmxpYyBUZXN0UXVlcnlDYWNoZShTdHJpbmcg\nbmFtZSkgew0KICAgICAgICBzdXBlcihuYW1lKTsNCiAgICAgICAgU3lzdGVt\nLnNldFByb3BlcnR5KCJjYWN0dXMuY29udGV4dFVSTCIsDQogICAgICAgICAg\nICAiaHR0cDovL2xvY2FsaG9zdDo5MDAwL2NhY2hlY2FjdHVzIik7DQogICAg\nICAgIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICB9DQoNCiAg\nICAvKnB1YmxpYyBzdGF0aWMgVGVzdCBzdWl0ZSgpDQogICAgew0KICAgICAg\nICBTZXJ2bGV0VGVzdFN1aXRlIHN1aXRlID0gbmV3IFNlcnZsZXRUZXN0U3Vp\ndGUoKTsNCiAgICAgICAgc3VpdGUuYWRkVGVzdFN1aXRlKFRlc3RRdWVyeUNh\nY2hlLmNsYXNzKTsNCiAgICAgICAgcmV0dXJuIHN1aXRlOw0KICAgIH0qLw0K\nICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBTeXN0ZW0uc2V0\nUHJvcGVydHkoImNhY3R1cy5jb250ZXh0VVJMIiwNCiAgICAgICAgICAgICJo\ndHRwOi8vbG9jYWxob3N0OjkwMDAvY2FjdHVzd2ViYXBwIik7DQoNCiAgICAg\nICAgLy9kZWxldGVBbGwoRW50aXR5Mi5jbGFzcyk7DQogICAgICAgIGRlbGV0\nZUFsbChFbnRpdHkxLmNsYXNzKTsNCg0KICAgICAgICBpbnQgaW5zdE51bSA9\nIDEwOw0KDQogICAgICAgIHN0YXJ0VHgoZW0pOw0KDQogICAgICAgIC8vY3Jl\nYXRlIGFuZCBwZXJzaXN0IG11bHRpcGxlIGVudGl0eTEgaW5zdGFuY2VzDQog\nICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgaW5zdE51bTsgaSsrKSB7DQog\nICAgICAgICAgICBFbnRpdHkxIGVudCA9IG5ldyBFbnRpdHkxKGksICJzdHJp\nbmciICsgaSwgaSArIDIpOw0KICAgICAgICAgICAgRW50aXR5MiBlbnQyID0g\nbmV3IEVudGl0eTIoaSAqIDIsICJlbnQyIiArIGksIGkpOw0KICAgICAgICAg\nICAgZW50LnNldEVudGl0eTJGaWVsZChlbnQyKTsNCiAgICAgICAgICAgIGVt\nLnBlcnNpc3QoZW50KTsNCiAgICAgICAgfQ0KDQogICAgICAgIGVuZFR4KGVt\nKTsNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2\nb2lkIHRlc3RSZXN1bHRMaXN0KCkgew0KICAgICAgICBlbSA9IGN1cnJlbnRF\nbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIExpc3QgbGlzdCA9IGVtLmNyZWF0\nZVF1ZXJ5KCJTZWxlY3Qgb2JqZWN0KG8pIGZyb20gRW50aXR5MSBvIikNCiAg\nICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEwLCBsaXN0LnNpemUoKSk7DQoNCiAgICAgICAgZW5kRW0oZW0p\nOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRTaW5nbGVMaXN0\nKCkgew0KICAgICAgICBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQog\nICAgICAgIFN0cmluZyBjdXJyID0gMiArICIiOw0KDQogICAgICAgIEVudGl0\neTEgcmV0ID0gKEVudGl0eTEpIGVtDQogICAgICAgICAgICAuY3JlYXRlUXVl\ncnkoIlNFTEVDVCBvIEZST00gRW50aXR5MSBvIFdIRVJFIG8ucGsgTElLRSA6\ncGsiKQ0KICAgICAgICAgICAgLnNldFBhcmFtZXRlcigicGsiLCBjdXJyKQ0K\nICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpOw0KDQogICAgICAgIGFz\nc2VydE5vdE51bGwocmV0KTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzdHJp\nbmcyIiwgcmV0LmdldFN0cmluZ0ZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoNCwgcmV0LmdldEludEZpZWxkKCkpOw0KDQogICAgICAgIGVuZEVt\nKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RXhlY3V0ZVVw\nZGF0ZSgpIHsNCiAgICAgICAgU3RyaW5nIGN1cnIgPSAyICsgIiI7DQogICAg\nICAgIFN0cmluZyBjdXJyMiA9IDIyICsgIiI7DQoNCiAgICAgICAgZW0gPSBj\ndXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBzdGFydFR4KGVtKTsN\nCg0KICAgICAgICBFbnRpdHkxIGVudGl0eTEgPSAoRW50aXR5MSkgZW0NCiAg\nICAgICAgICAgIC5jcmVhdGVRdWVyeSgiU0VMRUNUIG8gRlJPTSBFbnRpdHkx\nIG8gV0hFUkUgby5wayBMSUtFIDpwayIpDQogICAgICAgICAgICAuc2V0UGFy\nYW1ldGVyKCJwayIsIGN1cnIpDQogICAgICAgICAgICAuZ2V0U2luZ2xlUmVz\ndWx0KCk7DQoNCiAgICAgICAgaW50IHJldCA9IGVtLmNyZWF0ZVF1ZXJ5KCJE\nZWxldGUgRlJPTSBFbnRpdHkxIG8gV0hFUkUgby5wayBMSUtFIDpwayIpDQog\nICAgICAgICAgICAuc2V0UGFyYW1ldGVyKCJwayIsIGN1cnIpDQogICAgICAg\nICAgICAuZXhlY3V0ZVVwZGF0ZSgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\ncmV0LCAxKTsNCg0KLy9jYXNjYWRlIHJlbW92ZSBkb2Vzbid0IHJlbW92ZSB0\naGUgZW50aXR5Mg0KICAgICAgICBpbnQgcmV0VG1wID0gZW0uY3JlYXRlUXVl\ncnkoIkRlbGV0ZSBGUk9NIEVudGl0eTIgbyBXSEVSRSBvLnBrIExJS0UgOnBr\nIikNCiAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoInBrIiwgZW50aXR5MS5n\nZXRFbnRpdHkyRmllbGQoKS5nZXRQaygpKQ0KICAgICAgICAgICAgLmV4ZWN1\ndGVVcGRhdGUoKTsNCg0KICAgICAgICBpbnQgcmV0MiA9IGVtLmNyZWF0ZVF1\nZXJ5KCJEZWxldGUgRlJPTSBFbnRpdHkxIG8gV0hFUkUgby5wayBMSUtFIDpw\nayIpDQogICAgICAgICAgICAuc2V0UGFyYW1ldGVyKCJwayIsIGN1cnIyKQ0K\nICAgICAgICAgICAgLmV4ZWN1dGVVcGRhdGUoKTsNCg0KICAgICAgICBhc3Nl\ncnRFcXVhbHMocmV0MiwgMCk7DQoNCiAgICAgICAgZW5kVHgoZW0pOw0KICAg\nICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndFNldE1heFJlc3VsdHMoKSB7DQogICAgICAgIGVtID0gY3VycmVudEVudGl0\neU1hbmFnZXIoKTsNCg0KICAgICAgICBMaXN0IGwgPSBlbS5jcmVhdGVRdWVy\neSgiU2VsZWN0IG9iamVjdChvKSBmcm9tIEVudGl0eTEgbyIpDQogICAgICAg\nICAgICAuc2V0TWF4UmVzdWx0cyg1KQ0KICAgICAgICAgICAgLmdldFJlc3Vs\ndExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKGwpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoNSwgbC5zaXplKCkpOw0KDQogICAgICAgIGVuZEVt\nKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2V0Rmlyc3RS\nZXN1bHRzKCkgew0KICAgICAgICBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2Vy\nKCk7DQoNCiAgICAgICAgTGlzdCBsID0gZW0uY3JlYXRlUXVlcnkoIlNlbGVj\ndCBvYmplY3QobykgZnJvbSBFbnRpdHkxIG8iKQ0KICAgICAgICAgICAgLnNl\ndEZpcnN0UmVzdWx0KDMpDQogICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgp\nOw0KDQogICAgICAgIEVudGl0eTEgZW50ID0gKEVudGl0eTEpIGwuZ2V0KDAp\nOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwoZW50KTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJzdHJpbmczIiwgZW50LmdldFN0cmluZ0ZpZWxkKCkpOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoNSwgZW50LmdldEludEZpZWxkKCkpOw0K\nDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICAvLyBUZXN0cyBC\naW5kaW5nIGFuIGFyZ3VtZW50IHRvIGEgbmFtZWQgcGFyYW1ldGVyLg0KICAg\nIC8vIHBrLCB0aGUgbmFtZWQgcGFyYW1ldGVyIC0tTm90IHdvcmtpbmcgeWV0\nLS0NCiAgICBwdWJsaWMgdm9pZCB4eHh0ZXN0U2V0UGFyYW1ldGVyMSgpIHsN\nCg0KICAgICAgICBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAg\nICAgIFN0cmluZyBjdXJyID0gMiArICIiOw0KDQogICAgICAgIExpc3QgcmV0\nID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVDVCBvIEZST00gRW50aXR5MSBvIFdI\nRVJFIG8ucGsgTElLRSA6cGsiKQ0KICAgICAgICAgICAgLnNldFBhcmFtZXRl\ncigicGsiLCBjdXJyKQ0KICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsN\nCg0KICAgICAgICBhc3NlcnROb3ROdWxsKHJldCk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygxLCByZXQuc2l6ZSgpKTsNCg0KICAgICAgICByZXQgPSBlbS5j\ncmVhdGVOYW1lZFF1ZXJ5KCJzZXRQYXJhbTEiKQ0KICAgICAgICAgICAgLnNl\ndFBhcmFtZXRlcigicGsiLCBjdXJyKQ0KICAgICAgICAgICAgLmdldFJlc3Vs\ndExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKHJldCk7DQogICAg\nICAgIGFzc2VydEVxdWFscygxLCByZXQuc2l6ZSgpKTsNCg0KICAgICAgICBl\nbmRUeChlbSk7DQogICAgfQ0KDQogICAgLy9yZXN0IG9mIHRoZSBpbnRlcmZh\nY2UgaXMgdGVzdGVkIGJ5IHRoZSBDVFMNCn0NCg==\n","encoding":"base64"}

