{"sha":"e159e41af59e379bf6cc899ab11840d822816727","node_id":"MDQ6QmxvYjIwNjM2NDplMTU5ZTQxYWY1OWUzNzliZjZjYzg5OWFiMTE4NDBkODIyODE2NzI3","size":9145,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e159e41af59e379bf6cc899ab11840d822816727","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY29uZjsNCg0KaW1wb3J0IGphdmEuYmVhbnMuUHJvcGVy\ndHlEZXNjcmlwdG9yOw0KaW1wb3J0IGphdmEubGFuZy5yZWZsZWN0Lk1ldGhv\nZDsNCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0KaW1wb3J0IGphdmEu\ndXRpbC5IYXNoTWFwOw0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KaW1wb3J0\nIGphdmEudXRpbC5NYXA7DQppbXBvcnQgamF2YS51dGlsLlByb3BlcnRpZXM7\nDQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29t\nbW9uLnV0aWxzLkFic3RyYWN0VGVzdENhc2U7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5CdWZmZXJlZExv\nZ0ZhY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3Bl\nbkpQQUNvbmZpZ3VyYXRpb247DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmNvbmYuT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsOw0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uOw0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uczsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuUGx1Z2luVmFs\ndWU7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLlZhbHVl\nOw0KDQovKioNCiAqIDxwPlRlc3RzIHRoZSBKRE8gY29uZmlndXJhdGlvbiBj\nbGFzc2VzLjwvcD4NCiAqDQogKiBAYXV0aG9yIE1hcmMgUHJ1ZCdob21tZWF1\neA0KICovDQpwdWJsaWMgY2xhc3MgVGVzdEtvZG9Db25maWd1cmF0aW9uDQog\nICAgZXh0ZW5kcyBBYnN0cmFjdFRlc3RDYXNlIHsNCg0KICAgIHB1YmxpYyBU\nZXN0S29kb0NvbmZpZ3VyYXRpb24oU3RyaW5nIHRlc3QpIHsNCiAgICAgICAg\nc3VwZXIodGVzdCwgImNvbmZjYWN0dXNhcHAiKTsNCiAgICB9DQoNCiAgICAv\nKioNCiAgICAgKiBUZXN0IHRoYXQgeW91IGNhbiBzZXQgdGhlIGNvbm5lY3Rp\nb24gZmFjdG9yeSBhbmQgb3RoZXIgcHJvcGVydGllcyBhcw0KICAgICAqIG9i\namVjdHMuDQogICAgICovDQogICAgcHVibGljIHZvaWQgdGVzdFNldE9iamVj\ndHMoKSB7DQogICAgICAgIE1hcCBtYXAgPSBuZXcgSGFzaE1hcCgpOw0KICAg\nICAgICBPYmplY3QgY2ZhY3RvcnkgPSBuZXcgT2JqZWN0KCk7DQogICAgICAg\nIE9iamVjdCBjZmFjdG9yeTIgPSBuZXcgT2JqZWN0KCk7DQogICAgICAgIG1h\ncC5wdXQoIm9wZW5qcGEuQ29ubmVjdGlvbkZhY3RvcnkiLCBjZmFjdG9yeSk7\nDQogICAgICAgIG1hcC5wdXQoIm9wZW5qcGEuQ29ubmVjdGlvbkZhY3Rvcnky\nIiwgY2ZhY3RvcnkyKTsNCiAgICAgICAgbWFwLnB1dCgib3BlbmpwYS5PcHRp\nbWlzdGljIiwgQm9vbGVhbi5GQUxTRSk7DQogICAgICAgIG1hcC5wdXQoIm9w\nZW5qcGEuTG9ja1RpbWVvdXQiLCBuZXcgSW50ZWdlcig1MDMpKTsNCg0KICAg\nICAgICAvLyB1c2UgbmV3IGNvbmYgc28gbm8gdW5leHBlY3RlZCByZXN0cmlj\ndGlvbnMgb24gdHlwZSBvZiBjb25uZWN0aW9uDQogICAgICAgIC8vIGZhY3Rv\ncnkNCiAgICAgICAgT3BlbkpQQUNvbmZpZ3VyYXRpb24gY29uZiA9IG5ldyBP\ncGVuSlBBQ29uZmlndXJhdGlvbkltcGwodHJ1ZSwgZmFsc2UpOw0KICAgICAg\nICBjb25mLmZyb21Qcm9wZXJ0aWVzKG1hcCk7DQogICAgICAgIGFzc2VydEVx\ndWFscyhjZmFjdG9yeSwgY29uZi5nZXRDb25uZWN0aW9uRmFjdG9yeSgpKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKGNmYWN0b3J5MiwgY29uZi5nZXRDb25u\nZWN0aW9uRmFjdG9yeTIoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhmYWxz\nZSwgY29uZi5nZXRPcHRpbWlzdGljKCkpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoNTAzLCBjb25mLmdldExvY2tUaW1lb3V0KCkpOw0KDQogICAgICAgIE9w\nZW5KUEFDb25maWd1cmF0aW9uIGNvbmYyID0gbmV3IE9wZW5KUEFDb25maWd1\ncmF0aW9uSW1wbCh0cnVlLCBmYWxzZSk7DQogICAgICAgIGNvbmYyLmZyb21Q\ncm9wZXJ0aWVzKG1hcCk7DQogICAgICAgIGFzc2VydEVxdWFscyhjb25mLCBj\nb25mMik7DQoNCiAgICAgICAgTWFwIHAgPSBjb25mLnRvUHJvcGVydGllcyhm\nYWxzZSk7DQogICAgICAgIGFzc2VydFRydWUoIXAuY29udGFpbnNLZXkoIm9w\nZW5qcGEuQ29ubmVjdGlvbkZhY3RvcnkiKSk7DQogICAgICAgIGFzc2VydFRy\ndWUoIXAuY29udGFpbnNLZXkoIm9wZW5qcGEuQ29ubmVjdGlvbkZhY3Rvcnky\nIikpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoImZhbHNlIiwgcC5nZXQoIm9w\nZW5qcGEuT3B0aW1pc3RpYyIpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCI1\nMDMiLCBwLmdldCgib3BlbmpwYS5Mb2NrVGltZW91dCIpKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKHAsIGNvbmYyLnRvUHJvcGVydGllcyhmYWxzZSkpOw0K\nDQogICAgICAgIG1hcC5wdXQoIm9wZW5qcGEuTG9ja1RpbWVvdXQiLCBuZXcg\nSW50ZWdlcig1MDQpKTsNCiAgICAgICAgT3BlbkpQQUNvbmZpZ3VyYXRpb24g\nY29uZjMgPSBuZXcgT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsKHRydWUsIGZh\nbHNlKTsNCiAgICAgICAgY29uZjMuZnJvbVByb3BlcnRpZXMobWFwKTsNCiAg\nICAgICAgYXNzZXJ0Tm90RXF1YWxzKGNvbmYsIGNvbmYzKTsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q2xhc3NBbGlhc2VzKCkNCiAgICAgICAg\ndGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIE9wZW5KUEFDb25maWd1cmF0\naW9uIGNvbmYgPSBnZXRDb25maWd1cmF0aW9uKCk7DQogICAgICAgIGlmICgh\nKGNvbmYgaW5zdGFuY2VvZiBPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwpKQ0K\nICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgIFZhbHVlW10gdmFsdWVz\nID0gKChPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwpIGNvbmYpLmdldFZhbHVl\ncygpOw0KICAgICAgICBTdHJpbmdbXSBhbGlhc2VzOw0KICAgICAgICBTdHJp\nbmcgY2xzTmFtZTsNCiAgICAgICAgTGlzdCBmYWlsdXJlcyA9IG5ldyBBcnJh\neUxpc3QoKTsNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB2YWx1ZXMu\nbGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmICghKHZhbHVlc1tpXSBp\nbnN0YW5jZW9mIFBsdWdpblZhbHVlKSkNCiAgICAgICAgICAgICAgICBjb250\naW51ZTsNCg0KICAgICAgICAgICAgYWxpYXNlcyA9IHZhbHVlc1tpXS5nZXRB\nbGlhc2VzKCk7DQogICAgICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IGFs\naWFzZXMubGVuZ3RoOyBqICs9IDIpIHsNCiAgICAgICAgICAgICAgICB0cnkg\new0KICAgICAgICAgICAgICAgICAgICBjbHNOYW1lID0gQ29uZmlndXJhdGlv\nbnMuZ2V0Q2xhc3NOYW1lKGFsaWFzZXNbaiArIDFdKTsNCiAgICAgICAgICAg\nICAgICAgICAgaWYgKGNsc05hbWUgIT0gbnVsbCkNCiAgICAgICAgICAgICAg\nICAgICAgICAgIENsYXNzLmZvck5hbWUoY2xzTmFtZSk7DQogICAgICAgICAg\nICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBjbmZlKSB7\nDQogICAgICAgICAgICAgICAgICAgIGZhaWx1cmVzLmFkZCgiS2V5OiAiICsg\nYWxpYXNlc1tqXSArICIgZm9yIHByb3BlcnR5ICINCiAgICAgICAgICAgICAg\nICAgICAgICAgICsgdmFsdWVzW2ldLmdldFByb3BlcnR5KCkgKyAiIGRvZXMg\nbm90IGxpc3QgYSB2YWxpZCAiDQogICAgICAgICAgICAgICAgICAgICAgICAr\nICJjbGFzczogIiArIGFsaWFzZXNbaiArIDFdKTsNCiAgICAgICAgICAgICAg\nICB9IGNhdGNoIChVbnN1cHBvcnRlZENsYXNzVmVyc2lvbkVycm9yIHVjdmUp\nIHsNCiAgICAgICAgICAgICAgICAgICAgLy8jIyMgSkRLIDUgcGx1Z2luOyBp\nZ25vcmUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAg\nICAgIH0NCiAgICAgICAgaWYgKGZhaWx1cmVzLnNpemUoKSAhPSAwKQ0KICAg\nICAgICAgICAgZmFpbChmYWlsdXJlcy50b1N0cmluZygpKTsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0QmVhbkFjY2Vzc29ycygpDQogICAgICAg\nIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBPcGVuSlBBQ29uZmlndXJh\ndGlvbiBjb25mID0gZ2V0Q29uZmlndXJhdGlvbigpOw0KICAgICAgICBPcGVu\nSlBBQ29uZmlndXJhdGlvbkltcGwgc2ltcCA9IChPcGVuSlBBQ29uZmlndXJh\ndGlvbkltcGwpIGNvbmYuY2xvbmUoKTsNCg0KICAgICAgICBWYWx1ZVtdIHZh\nbHVlcyA9IHNpbXAuZ2V0VmFsdWVzKCk7DQogICAgICAgIFByb3BlcnR5RGVz\nY3JpcHRvcltdIHBkcyA9IHNpbXAuZ2V0UHJvcGVydHlEZXNjcmlwdG9ycygp\nOw0KICAgICAgICBMaXN0IGZhaWx1cmVzID0gbmV3IEFycmF5TGlzdCgpOw0K\nICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkr\nKykgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBhc3Nl\ncnROb3ROdWxsKHBkc1tpXS5nZXRTaG9ydERlc2NyaXB0aW9uKCkpOw0KICAg\nICAgICAgICAgICAgIGFzc2VydE5vdE51bGwocGRzW2ldLmdldERpc3BsYXlO\nYW1lKCkpOw0KDQogICAgICAgICAgICAgICAgTWV0aG9kIHNldHRlciA9IHBk\nc1tpXS5nZXRXcml0ZU1ldGhvZCgpOw0KICAgICAgICAgICAgICAgIE1ldGhv\nZCBnZXR0ZXIgPSBwZHNbaV0uZ2V0UmVhZE1ldGhvZCgpOw0KICAgICAgICAg\nICAgICAgIGFzc2VydE5vdE51bGwoc2V0dGVyKTsNCiAgICAgICAgICAgICAg\nICBhc3NlcnROb3ROdWxsKGdldHRlcik7DQoNCiAgICAgICAgICAgICAgICBh\nc3NlcnROb3ROdWxsKCJNaXNzaW5nIGF0dHJpYnV0ZSAoIg0KICAgICAgICAg\nICAgICAgICAgICArIENvbmZpZ3VyYXRpb24uQVRUUklCVVRFX1RZUEUNCiAg\nICAgICAgICAgICAgICAgICAgKyAiKSBmb3IgcHJvcGVydHkgIiArIHBkc1tp\nXS5nZXROYW1lKCksDQogICAgICAgICAgICAgICAgICAgIHBkc1tpXS5nZXRW\nYWx1ZShDb25maWd1cmF0aW9uLkFUVFJJQlVURV9UWVBFKSk7DQoNCiAgICAg\nICAgICAgICAgICBhc3NlcnROb3ROdWxsKCJNaXNzaW5nIGF0dHJpYnV0ZSAo\nIg0KICAgICAgICAgICAgICAgICAgICArIENvbmZpZ3VyYXRpb24uQVRUUklC\nVVRFX0NBVEVHT1JZDQogICAgICAgICAgICAgICAgICAgICsgIikgZm9yIHBy\nb3BlcnR5ICIgKyBwZHNbaV0uZ2V0TmFtZSgpLA0KICAgICAgICAgICAgICAg\nICAgICBwZHNbaV0uZ2V0VmFsdWUoQ29uZmlndXJhdGlvbi5BVFRSSUJVVEVf\nQ0FURUdPUlkpKTsNCg0KICAgICAgICAgICAgICAgIGFzc2VydE5vdE51bGwo\nIk1pc3NpbmcgYXR0cmlidXRlICgiDQogICAgICAgICAgICAgICAgICAgICsg\nQ29uZmlndXJhdGlvbi5BVFRSSUJVVEVfT1JERVINCiAgICAgICAgICAgICAg\nICAgICAgKyAiKSBmb3IgcHJvcGVydHkgIiArIHBkc1tpXS5nZXROYW1lKCks\nDQogICAgICAgICAgICAgICAgICAgIHBkc1tpXS5nZXRWYWx1ZShDb25maWd1\ncmF0aW9uLkFUVFJJQlVURV9PUkRFUikpOw0KDQogICAgICAgICAgICAgICAg\ncGRzW2ldLmdldFJlYWRNZXRob2QoKS5pbnZva2Uoc2ltcCwgKE9iamVjdFtd\nKSBudWxsKTsNCg0KICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUp\nIHsNCiAgICAgICAgICAgICAgICBmYWlsdXJlcy5hZGQocGRzW2ldLmdldE5h\nbWUoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYg\nKGZhaWx1cmVzLnNpemUoKSAhPSAwKQ0KICAgICAgICAgICAgZmFpbCgibm90\nIGFsbCBwcm9wZXJ0aWVzIGhhZCB2YWxpZCBjb21tZW50cyAvIHNldHRlcnMg\nLyBnZXR0ZXJzLiINCiAgICAgICAgICAgICAgICArICIgZmFpbGVkIHByb3Bz\nOiAiICsgZmFpbHVyZXMpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFRl\nc3RzIHRoYXQgaW52YWxpZCBwbHVnLWluIHZhbHVlcyB0aHJvdyB0aGUgYXBw\ncm9wcmlhdGUgZXhjZXB0aW9uDQogICAgICogdHlwZS4NCiAgICAgKi8NCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0SW52YWxpZFBsdWdpbnMoKSB7DQogICAgICAg\nIE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmZpZyA9IG5ldyBPcGVuSlBBQ29u\nZmlndXJhdGlvbkltcGwoKTsNCiAgICAgICAgY29uZmlnLnNldExvZygibG9n\nM2oiKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbmZpZy5nZXRM\nb2dGYWN0b3J5KCkuZ2V0TG9nKCJGb28iKTsNCiAgICAgICAgICAgIGZhaWwo\nImdldHRpbmcgdGhlIEZvbyBsb2cgc2hvdWxkIGhhdmUgZmFpbGVkIik7DQog\nICAgICAgIH0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gcmUpIHsNCiAgICAg\nICAgICAgIC8vIGFzIGV4cGVjdGVkIC4uLiBtYWtlIHN1cmUgdGhlIGV4Y2Vw\ndGlvbiBzdWdnZXN0cyB0aGUNCiAgICAgICAgICAgIC8vIG5hbWUgImxvZzRq\nIiBpbiB0aGUgbWVzc2FnZQ0KICAgICAgICAgICAgYXNzZXJ0VHJ1ZSgtMSAh\nPSByZS5nZXRNZXNzYWdlKCkuaW5kZXhPZigibG9nNGoiKSk7DQogICAgICAg\nIH0NCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW52YWxpZENvbmZp\nZ3VyYXRpb25XYXJuaW5ncygpIHsNCiAgICAgICAgUHJvcGVydGllcyBwcm9w\ncyA9IG5ldyBQcm9wZXJ0aWVzKCk7DQogICAgICAgIHByb3BzLnNldFByb3Bl\ncnR5KCJvcGVuanBhLk1heHhGZXRjaERlcHRoIiwgIjEiKTsNCg0KICAgICAg\nICBPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25maWcgPSBuZXcgT3BlbkpQQUNv\nbmZpZ3VyYXRpb25JbXBsKCk7DQogICAgICAgIC8vIHRyYWNrIHRoZSBtZXNz\nYWdlcw0KICAgICAgICBCdWZmZXJlZExvZ0ZhY3RvcnkgbG9nID0gbmV3IEJ1\nZmZlcmVkTG9nRmFjdG9yeSgpOw0KICAgICAgICBjb25maWcuc2V0TG9nRmFj\ndG9yeShsb2cpOw0KDQogICAgICAgIGNvbmZpZy5mcm9tUHJvcGVydGllcyhw\ncm9wcyk7DQoNCiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGdvdCBhIHdhcm5p\nbmcgdGhhdCBjb250YWlucyB0aGUgc3RyaW5nIHdpdGggdGhlDQogICAgICAg\nIC8vIGJhZCBwcm9wZXJ0eSBuYW1lIGFuZCBhIGhpbnQgZm9yIHRoZSB2YWxp\nZCBwcm9wZXJ0eSBuYW1lLg0KICAgICAgICBsb2cuYXNzZXJ0TG9nTWVzc2Fn\nZSgiKlwib3BlbmpwYS5NYXh4RmV0Y2hEZXB0aFwiKiIpOw0KICAgICAgICBs\nb2cuYXNzZXJ0TG9nTWVzc2FnZSgiKlwib3BlbmpwYS5NYXhGZXRjaERlcHRo\nXCIqIik7DQoNCiAgICAgICAgbG9nLmNsZWFyKCk7DQoNCiAgICAgICAgLy8g\nbm93IG1ha2Ugc3VyZSB3ZSBkbyAqbm90KiB0cnkgdG8gdmFsaWRhdGUgc3Vi\nLWNvbmZpZ3VyYXRpb25zIChzdWNoDQogICAgICAgIC8vIGFzIGtvZG8uamRi\nYy5Gb28pLg0KICAgICAgICBwcm9wcy5jbGVhcigpOw0KICAgICAgICBwcm9w\ncy5zZXRQcm9wZXJ0eSgib3BlbmpwYS5qZGJjLkZvbyIsICJYWFgiKTsNCiAg\nICAgICAgcHJvcHMuc2V0UHJvcGVydHkoIm9wb25qcGEiLCAiWFhYIik7DQog\nICAgICAgIGNvbmZpZy5mcm9tUHJvcGVydGllcyhwcm9wcyk7DQogICAgICAg\nIGxvZy5hc3NlcnROb0xvZ01lc3NhZ2UoIipcIm9wZW5qcGEuamRiYy5Gb29c\nIioiKTsNCiAgICAgICAgbG9nLmFzc2VydE5vTG9nTWVzc2FnZSgiKlwib3Bv\nbmpwYVwiKiIpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFRlc3RzIHRo\nYXQgaW52YWxpZCBmaXhlZC1saXN0IHZhbHVlcyB0aHJvdyB0aGUgYXBwcm9w\ncmlhdGUgZXhjZXB0aW9uDQogICAgICogdHlwZS4NCiAgICAgKi8NCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0SW52YWxpZE5vblBsdWdpblZhbHVlcygpIHsNCiAg\nICAgICAgT3BlbkpQQUNvbmZpZ3VyYXRpb24gY29uZmlnID0gbmV3IE9wZW5K\nUEFDb25maWd1cmF0aW9uSW1wbCgpOw0KICAgICAgICB0cnkgew0KICAgICAg\nICAgICAgY29uZmlnLnNldENvbm5lY3Rpb25GYWN0b3J5TW9kZSgiYW9ldSIp\nOw0KICAgICAgICAgICAgZmFpbCgic2V0dGluZyB0aGUgQ29ubmVjdGlvbkZh\nY3RvcnlNb2RlIHRvIGFvZXUgc2hvdWxkIGZhaWwiKTsNCiAgICAgICAgfSBj\nYXRjaCAoUnVudGltZUV4Y2VwdGlvbiByZSkgew0KICAgICAgICAgICAgcmUu\ncHJpbnRTdGFja1RyYWNlKCk7DQogICAgICAgICAgICAvLyBhcyBleHBlY3Rl\nZCAuLi4gbWFrZSBzdXJlIHRoZSBleGNlcHRpb24gc3VnZ2VzdHMgdGhlDQog\nICAgICAgICAgICAvLyB2YWxpZCBuYW1lcyBpbiB0aGUgbWVzc2FnZS4NCiAg\nICAgICAgICAgIGFzc2VydFRydWUoLTEgIT0gcmUuZ2V0TWVzc2FnZSgpLmlu\nZGV4T2YoIm1hbmFnZWQiKSk7DQogICAgICAgICAgICBhc3NlcnRUcnVlKC0x\nICE9IHJlLmdldE1lc3NhZ2UoKS5pbmRleE9mKCJsb2NhbCIpKTsNCiAgICAg\nICAgICAgIGFzc2VydFRydWUoLTEgIT0gcmUuZ2V0TWVzc2FnZSgpLmluZGV4\nT2YoInRydWUiKSk7DQogICAgICAgICAgICBhc3NlcnRUcnVlKC0xICE9IHJl\nLmdldE1lc3NhZ2UoKS5pbmRleE9mKCJmYWxzZSIpKTsNCiAgICAgICAgfQ0K\nICAgIH0NCn0NCg==\n","encoding":"base64"}

