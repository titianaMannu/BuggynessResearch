{"sha":"2608079a48fa52be3d210088593429441c6d8f59","node_id":"MDQ6QmxvYjIwNjM2NDoyNjA4MDc5YTQ4ZmE1MmJlM2QyMTAwODg1OTM0Mjk0NDFjNmQ4ZjU5","size":4510,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2608079a48fa52be3d210088593429441c6d8f59","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5kYXRhY2FjaGU7DQoNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5FbnRpdHlNYW5hZ2VyOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLnRlc3QuU2luZ2xlRU1GVGVzdENhc2U7DQoNCi8qKg0K\nICogRGVmaW5lZCBvcmRlcmluZyBpcyBvbmx5IGFwcGxpZWQgd2hlbiB0aGUg\nY29sbGVjdGlvbiBpcyBsb2FkZWQgZnJvbSB0aGUgZGF0YXN0b3JlLg0KICog\nSXQgaXMgbm90IG1haW50YWluZWQgYnkgT3BlbmpwYSBhcyB5b3UgbW9kaWZ5\nIHRoZSBjb2xsZWN0aW9uIGluIG1lbW9yeS4gDQogKiBPcGVuanBhIGludmFs\naWQgZGF0YSBjYWNoZSBpbiBjYXNlIHRoZSBwZXJzaXN0ZW5jZSBvcGVyYXRp\nb24gbWF5IHJlc3VsdCBjYWNoZSBpbiB3cm9uZyBvcmRlci4NCiAqIFRoaXMg\ndGVzdCBzdWl0ZSB0ZXN0cyB2YXJpb3VzIGNhc2VzIGZvciB0aGUgYWJvdmUg\ncHJvYmxlbS4NCiAqLw0KcHVibGljIGNsYXNzIFRlc3RPcmRlcmJ5SW5EYXRh\nQ2FjaGUgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7DQoJcHJpdmF0ZSBs\nb25nIHBpZDsNCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsNCiAgICAgICAg\nc2V0VXAoIm9wZW5qcGEuRGF0YUNhY2hlIiwgInRydWUiLCANCiAgICAgICAg\nICAgICJvcGVuanBhLlJlbW90ZUNvbW1pdFByb3ZpZGVyIiwgInNqdm0iLCAN\nCiAgICAgICAgICAgIE9yZGVyZWRPbmVNYW55UGFyZW50LmNsYXNzLA0KICAg\nICAgICAgICAgT3JkZXJlZE9uZU1hbnlDaGlsZC5jbGFzcywgQ0xFQVJfVEFC\nTEVTKTsNCg0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0\nZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24o\nKS5iZWdpbigpOw0KICAgICAgICBPcmRlcmVkT25lTWFueVBhcmVudCBwcnQg\nPSBuZXcgT3JkZXJlZE9uZU1hbnlQYXJlbnQoKTsNCiAgICAgICAgcHJ0LnNl\ndE5hbWUoIk1hcmlhIik7DQogICAgICAgIGVtLnBlcnNpc3QocHJ0KTsNCiAg\nICAgICAgLy9pbnNlcnQgY2hpbGQgaW4gcmV2ZXJzZSBvcmRlcg0KICAgICAg\nICBmb3IgKGludCBpID0gNDsgaSA+IDE7IGktLSkgew0KICAgICAgICAJT3Jk\nZXJlZE9uZU1hbnlDaGlsZCBjaGlsZCA9IG5ldyBPcmRlcmVkT25lTWFueUNo\naWxkKCk7DQogICAgICAgICAgICBjaGlsZC5zZXRJZChpKTsNCiAgICAgICAg\nICAgIGNoaWxkLnNldE5hbWUoImNoaWxkIiArIGkpOw0KICAgICAgICAgICAg\nY2hpbGQuc2V0UGFyZW50KHBydCk7DQogICAgICAgICAgICBwcnQuZ2V0Q2hp\nbGRyZW4oKS5hZGQoY2hpbGQpOw0KICAgICAgICAgICAgZW0ucGVyc2lzdChj\naGlsZCk7DQogICAgICAgIH0gICAgICAgIA0KICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAgICBwaWQgPSBwcnQuZ2V0SWQo\nKTsNCiAgICAgICAgZW0uY2xvc2UoKTsNCiAgICB9DQoNCiAgICAvKioNCiAg\nICAgKiBUZXN0IGlmIGNoaWxkIGxpc3QgaXMgaW4gb3JkZXIgYWZ0ZXIgbmV3\nIGNoaWxkIGxpc3QgaXMgYWRkZWQgaW4gc2V0dXAoKS4NCiAgICAgKg0KICAg\nICAqLw0KICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRDaGlsZExpc3QoKXsNCiAg\nICAJRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCk7DQogICAgCU9yZGVyZWRPbmVNYW55UGFyZW50IHBydCA9IGVtLmZpbmQo\nT3JkZXJlZE9uZU1hbnlQYXJlbnQuY2xhc3MsIHBpZCk7DQogICAgICAgIGFz\nc2VydEVxdWFscygzLCBwcnQuZ2V0Q2hpbGRyZW4oKS5zaXplKCkpOw0KICAg\nICAgICAvL3RoZSBvcmRlciBzaG91bGQgYmUgImNoaWxkMiIsICJjaGlsZDMi\nLCAiY2hpbGQ0Ig0KICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8IDQ7IGkr\nKykgew0KICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJjaGlsZCIgKyAoaSAr\nIDEpLCBwcnQuZ2V0Q2hpbGRyZW4oKS4NCiAgICAgICAgICAgICAgICBnZXQo\naS0xKS5nZXROYW1lKCkpOw0KICAgICAgICB9ICAgDQogICAgICAgIGVtLmNs\nb3NlKCk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RJbnNl\ncnRDaGlsZCgpIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5j\ncmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIGVtLmdldFRyYW5zYWN0\naW9uKCkuYmVnaW4oKTsNCiAgICAgICAgT3JkZXJlZE9uZU1hbnlQYXJlbnQg\ncHJ0ID0gZW0uZmluZChPcmRlcmVkT25lTWFueVBhcmVudC5jbGFzcywgcGlk\nKTsNCiAgICAgICAgT3JkZXJlZE9uZU1hbnlDaGlsZCBjaGlsZCA9IG5ldyBP\ncmRlcmVkT25lTWFueUNoaWxkKCk7DQogICAgICAgIGNoaWxkLnNldElkKDEp\nOw0KICAgICAgICBjaGlsZC5zZXROYW1lKCJjaGlsZDEiKTsNCiAgICAgICAg\nY2hpbGQuc2V0UGFyZW50KHBydCk7DQogICAgICAgIHBydC5nZXRDaGlsZHJl\nbigpLmFkZChjaGlsZCk7DQogICAgICAgIGVtLnBlcnNpc3QoY2hpbGQpOw0K\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAg\nICBlbS5jbG9zZSgpOw0KICAgICAgICANCiAgICAgICAgLy9vYnRhaW4gb2Jq\nZWN0IGluIG5ldyBwZXJzaXN0ZW5jZSBjb250ZXh0DQogICAgICAgIGVtID0g\nZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgcHJ0ID0gZW0u\nZmluZChPcmRlcmVkT25lTWFueVBhcmVudC5jbGFzcywgcGlkKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDQsIHBydC5nZXRDaGlsZHJlbigpLnNpemUoKSk7\nDQogICAgICAgIC8vdGhlIG9yZGVyIHNob3VsZCBiZSAiY2hpbGQxIiwgImNo\naWxkMiIsICJjaGlsZDMiLCAiY2hpbGQ0Ig0KICAgICAgICBmb3IgKGludCBp\nID0gMTsgaSA8IDU7IGkrKykgew0KICAgICAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJjaGlsZCIgKyBpLCBwcnQuZ2V0Q2hpbGRyZW4oKS4NCiAgICAgICAgICAg\nICAgICBnZXQoaS0xKS5nZXROYW1lKCkpOw0KICAgICAgICB9ICAgICAgICAg\nIA0KICAgICAgICBlbS5jbG9zZSgpOw0KICAgIH0NCiAgICANCiAgICBwdWJs\naWMgdm9pZCB0ZXN0VXBkYXRlQ2hpbGROYW1lKCkgew0KICAgICAgICBFbnRp\ndHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAg\nICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOw0KICAgICAgICBP\ncmRlcmVkT25lTWFueUNoaWxkIGNoaWxkID0gZW0uZmluZChPcmRlcmVkT25l\nTWFueUNoaWxkLmNsYXNzLCA0KTsNCiAgICAgICAgY2hpbGQuc2V0TmFtZSgi\nY2hpbGQxIik7DQogICAgICAgIGVtLnBlcnNpc3QoY2hpbGQpOw0KICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAgICBPcmRl\ncmVkT25lTWFueVBhcmVudCBwcnQgPSBlbS5maW5kKE9yZGVyZWRPbmVNYW55\nUGFyZW50LmNsYXNzLCBwaWQpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMywg\ncHJ0LmdldENoaWxkcmVuKCkuc2l6ZSgpKTsNCiAgICAgICAgLy90aGUgb3Jk\nZXIgc2hvdWxkIGJlICJjaGlsZDEiLCAiY2hpbGQyIiwgImNoaWxkMyINCiAg\nICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCA0OyBpKyspIHsNCiAgICAgICAg\nICAgIGFzc2VydEVxdWFscygiY2hpbGQiICsgaSwgcHJ0LmdldENoaWxkcmVu\nKCkuDQogICAgICAgICAgICAgICAgZ2V0KGktMSkuZ2V0TmFtZSgpKTsNCiAg\nICAgICAgfSAgICAgICAgICANCiAgICAgICAgZW0uY2xvc2UoKTsgICAgCQ0K\nICAgIH0NCn0NCg==\n","encoding":"base64"}

