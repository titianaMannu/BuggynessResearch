{"sha":"f4d3712ebf2f5cc68b91794dca8a5dd9a8b094e3","node_id":"MDQ6QmxvYjIwNjM2NDpmNGQzNzEyZWJmMmY1Y2M2OGI5MTc5NGRjYThhNWRkOWE4YjA5NGUz","size":3716,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f4d3712ebf2f5cc68b91794dca8a5dd9a8b094e3","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZGF0YWNhY2hlOw0KDQoNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuZGF0YWNhY2hlLmNvbW1vbi5hcHBzLkNh\nY2hlT2JqZWN0QTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuZGF0YWNhY2hlLmNvbW1vbi5hcHBzLkNhY2hlT2JqZWN0QjsNCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0\naWxzLkFic3RyYWN0VGVzdENhc2U7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEua2VybmVsLkJyb2tlcjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEua2VybmVsLlF1ZXJ5Ow0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5r\nZXJuZWwuanBxbC5KUFFMUGFyc2VyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5KUEFGYWNhZGVIZWxwZXI7DQoNCi8qKg0KICog\nVGVzdCBzb21lIGFzc3VtcHRpb25zIGFib3V0IHF1ZXJ5IHJlc3VsdCBtZXRh\nZGF0YSB0aGF0IHRoZSBxdWVyeQ0KICogY2FjaGUgcmVsaWVzIG9uLg0KICov\nDQpwdWJsaWMgY2xhc3MgVGVzdFF1ZXJ5UmVzdWx0VHlwZXMgZXh0ZW5kcyBB\nYnN0cmFjdFRlc3RDYXNlIHsNCg0KICAgIHB1YmxpYyBUZXN0UXVlcnlSZXN1\nbHRUeXBlcyhTdHJpbmcgdGVzdCkgew0KICAgICAgICBzdXBlcih0ZXN0LCAi\nZGF0YWNhY2hlY2FjdHVzYXBwIik7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgdGVzdFF1ZXJ5UmVzdWx0VHlwZXNXaXRoVGhpcygpIHsNCiAgICAgICAg\nQnJva2VyIGJyb2tlciA9IGdldEJyb2tlcigpOw0KICAgICAgICBRdWVyeSBx\nID0NCiAgICAgICAgICAgIGJyb2tlci5uZXdRdWVyeShKUFFMUGFyc2VyLkxB\nTkdfSlBRTCwgInNlbGVjdCBhLm5hbWUsYSBGUk9NICIgKw0KICAgICAgICAg\nICAgICAgIENhY2hlT2JqZWN0QS5jbGFzcy5nZXRTaW1wbGVOYW1lKCkgKyAi\nIGEiKTsNCg0KICAgICAgICBDbGFzc1tdIHR5cGVzID0gcS5nZXRQcm9qZWN0\naW9uVHlwZXMoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHR5cGVzLmxl\nbmd0aCk7DQogICAgICAgIGFzc2VydEVxdWFscyhTdHJpbmcuY2xhc3MsIHR5\ncGVzWzBdKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKENhY2hlT2JqZWN0QS5j\nbGFzcywgdHlwZXNbMV0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRl\nc3RRdWVyeVJlc3VsdFR5cGVzV2l0aFJlbGF0ZWQoKSB7DQogICAgICAgIEJy\nb2tlciBicm9rZXIgPSBnZXRCcm9rZXIoKTsNCiAgICAgICAgUXVlcnkgcSA9\nIGJyb2tlcg0KICAgICAgICAgICAgLm5ld1F1ZXJ5KEpQUUxQYXJzZXIuTEFO\nR19KUFFMLCAic2VsZWN0IGEubmFtZSxhLnJlbGF0ZWRCIEZST00gIiArDQog\nICAgICAgICAgICAgICAgQ2FjaGVPYmplY3RBLmNsYXNzLmdldFNpbXBsZU5h\nbWUoKSArICIgYSIpOw0KDQogICAgICAgIC8vQ2FjaGVPYmplY3RBLmNsYXNz\nLCAgICAgICAgICAgInNlbGVjdCBuYW1lLCByZWxhdGVkQiIpOw0KICAgICAg\nICBDbGFzc1tdIHR5cGVzID0gcS5nZXRQcm9qZWN0aW9uVHlwZXMoKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDIsIHR5cGVzLmxlbmd0aCk7DQogICAgICAg\nIGFzc2VydEVxdWFscyhTdHJpbmcuY2xhc3MsIHR5cGVzWzBdKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKENhY2hlT2JqZWN0Qi5jbGFzcywgdHlwZXNbMV0p\nOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RTaW5nbGVQcm9qZWN0\naW9uT2ZOb25UaGlzUmVsYXRpb24oKSB7DQogICAgICAgIEJyb2tlciBicm9r\nZXIgPSBnZXRCcm9rZXIoKTsNCiAgICAgICAgUXVlcnkgcSA9DQogICAgICAg\nICAgICBicm9rZXIubmV3UXVlcnkoSlBRTFBhcnNlci5MQU5HX0pQUUwsICJz\nZWxlY3QgYS5yZWxhdGVkQiBGUk9NICIgKw0KICAgICAgICAgICAgICAgIENh\nY2hlT2JqZWN0QS5jbGFzcy5nZXRTaW1wbGVOYW1lKCkgKyAiIGEiKTsNCg0K\nICAgICAgICBDbGFzc1tdIHR5cGVzID0gcS5nZXRQcm9qZWN0aW9uVHlwZXMo\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHR5cGVzLmxlbmd0aCk7DQog\nICAgICAgIGFzc2VydEVxdWFscyhDYWNoZU9iamVjdEIuY2xhc3MsIHR5cGVz\nWzBdKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0U2luZ2xlUHJv\namVjdGlvbk9mVGhpc1JlbGF0aW9uKCkgew0KICAgICAgICBCcm9rZXIgYnJv\na2VyID0gZ2V0QnJva2VyKCk7DQogICAgICAgIFF1ZXJ5IHEgPSBicm9rZXIu\nbmV3UXVlcnkoSlBRTFBhcnNlci5MQU5HX0pQUUwsICJzZWxlY3QgYSBGUk9N\nICIgKw0KICAgICAgICAgICAgQ2FjaGVPYmplY3RBLmNsYXNzLmdldFNpbXBs\nZU5hbWUoKSArICIgYSIpOw0KICAgICAgICBDbGFzc1tdIHR5cGVzID0gcS5n\nZXRQcm9qZWN0aW9uVHlwZXMoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAs\nIHR5cGVzLmxlbmd0aCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndE5vUmVzdWx0Q2xhdXNlKCkgew0KICAgICAgICBCcm9rZXIgYnJva2VyID0g\nZ2V0QnJva2VyKCk7DQogICAgICAgIFF1ZXJ5IHEgPQ0KICAgICAgICAgICAg\nYnJva2VyLm5ld1F1ZXJ5KEpQUUxQYXJzZXIuTEFOR19KUFFMLCAic2VsZWN0\nIGEgRlJPTSAiICsNCiAgICAgICAgICAgICAgICBDYWNoZU9iamVjdEEuY2xh\nc3MuZ2V0U2ltcGxlTmFtZSgpICsgIiBhIik7DQogICAgICAgIENsYXNzW10g\ndHlwZXMgPSBxLmdldFByb2plY3Rpb25UeXBlcygpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoMCwgdHlwZXMubGVuZ3RoKTsNCiAgICB9DQoNCiAgICBwcml2\nYXRlIEJyb2tlciBnZXRCcm9rZXIoKSB7DQogICAgICAgIHJldHVybiBKUEFG\nYWNhZGVIZWxwZXINCiAgICAgICAgICAgIC50b0Jyb2tlcihjdXJyZW50RW50\naXR5TWFuYWdlcigpKTsNCiAgICB9DQp9DQo=\n","encoding":"base64"}

