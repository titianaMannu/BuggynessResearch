{"sha":"a50fd0985c9c8cdebc9920744d9e9f239bbd9d67","node_id":"MDQ6QmxvYjIwNjM2NDphNTBmZDA5ODVjOWM4Y2RlYmM5OTIwNzQ0ZDllOWYyMzliYmQ5ZDY3","size":4298,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a50fd0985c9c8cdebc9920744d9e9f239bbd9d67","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKcGFj\na2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuZGV0YWNobWVu\ndDsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVz\ndC5TaW5nbGVFTUZUZXN0Q2FzZTsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5kZXRhY2htZW50Lm1vZGVsLio7CgppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsKCmltcG9ydCBqdW5pdC50\nZXh0dWkuVGVzdFJ1bm5lcjsKCi8qKgogKiBUZXN0cyBtZXJnaW5nIGFuIGVu\ndGl0eSBoYXZpbmcgYSB1bmlkaXJlY3Rpb25hbCBvbmUtdG8tb25lIHJlbGF0\naW9uIGFuZAogKiBjYXNjYWRlPW5vbmUuCiAqCiAqIEBhdXRob3IgR29raGFu\nIEVyZ3VsCiAqLwpwdWJsaWMgY2xhc3MgVGVzdE5vQ2FzY2FkZU9uZVRvT25l\nTWVyZ2UKICAgIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoKICAgIHBy\naXZhdGUgaW50IGFfaWQ7CiAgICBwcml2YXRlIGludCBiMV9pZDsKICAgIHBy\naXZhdGUgaW50IGIyX2lkOwoKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewog\nICAgICAgIHNldFVwKFNpbXBsZUEuY2xhc3MsIFNpbXBsZVJlZi5jbGFzcywg\nU2ltcGxlQi5jbGFzcywgU2ltcGxlQy5jbGFzcywgQ0xFQVJfVEFCTEVTKTsK\nICAgICAgICBjcmVhdGVFbnRpdGllcygpOwogICAgfQoKICAgIHByaXZhdGUg\ndm9pZCBjcmVhdGVFbnRpdGllcygpIHsKICAgICAgICBTaW1wbGVSZWYgYjEg\nPSBuZXcgU2ltcGxlUmVmKCk7CiAgICAgICAgYjEuc2V0TmFtZSgiYjEtbmFt\nZSIpOwoKICAgICAgICBTaW1wbGVSZWYgYjIgPSBuZXcgU2ltcGxlUmVmKCk7\nCiAgICAgICAgYjIuc2V0TmFtZSgiYjItbmFtZSIpOwoKICAgICAgICBTaW1w\nbGVBIGEgPSBuZXcgU2ltcGxlQSgpOwogICAgICAgIGEuc2V0TmFtZSgiYS1u\nYW1lIik7CiAgICAgICAgYS5zZXRSZWYoYjEpOwoKICAgICAgICBFbnRpdHlN\nYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZW0ucGVy\nc2lzdChiMSk7CiAgICAgICAgZW0ucGVyc2lzdChiMik7CiAgICAgICAgZW0u\ncGVyc2lzdChhKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgYV9pZCA9IGEuZ2V0\nSWQoKTsKICAgICAgICBiMV9pZCA9IGIxLmdldElkKCk7CiAgICAgICAgYjJf\naWQgPSBiMi5nZXRJZCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RN\nZXJnZUFsbEF0dGFjaGVkICgpIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVt\nID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICBTaW1wbGVB\nIGEgPSBlbS5maW5kKFNpbXBsZUEuY2xhc3MsIGFfaWQpOwogICAgICAgIFNp\nbXBsZVJlZiBiMiA9IGVtLmZpbmQoU2ltcGxlUmVmLmNsYXNzLCBiMl9pZCk7\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbChhKTsKICAgICAgICBhc3NlcnROb3RO\ndWxsKGIyKTsKCiAgICAgICAgLy8gY2hhbmdlIGEuYiBmcm9tIGIxIHRvIGIy\nIGFuZCBtZXJnZQogICAgICAgIGEuc2V0UmVmKGIyKTsKCiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLm1lcmdlKGEp\nOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAg\nICAgZW0uY2xvc2UoKTsKCiAgICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOwogICAgICAgIGEgPSBlbS5maW5kKFNpbXBsZUEuY2xhc3Ms\nIGFfaWQpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICAgICAgYXNzZXJ0Tm90\nTnVsbChhKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYjJfaWQsIGEuZ2V0UmVm\nKCkuZ2V0SWQoKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdGVzdE1lcmdl\nUmVmQXR0YWNoZWQgKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBl\nbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIFNpbXBsZUEgYSA9\nIGVtLmZpbmQoU2ltcGxlQS5jbGFzcywgYV9pZCk7CiAgICAgICAgYXNzZXJ0\nTm90TnVsbChhKTsKICAgICAgICBlbS5jbG9zZSgpOyAvLyBkZXRhY2ggYSBv\nbmx5CgogICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsK\nICAgICAgICBTaW1wbGVSZWYgYjIgPSBlbS5maW5kKFNpbXBsZVJlZi5jbGFz\ncywgYjJfaWQpOwogICAgICAgIGFzc2VydE5vdE51bGwoYjIpOwogICAgICAg\nIC8vIGRvIG5vdCBkZXRhY2ggYjIKCiAgICAgICAgLy8gY2hhbmdlIGEuYiBm\ncm9tIGIxIHRvIGIyIGFuZCBtZXJnZQogICAgICAgIGEuc2V0UmVmKGIyKTsK\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAg\nIGVtLm1lcmdlKGEpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29t\nbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKCiAgICAgICAgZW0gPSBlbWYu\nY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIGEgPSBlbS5maW5kKFNp\nbXBsZUEuY2xhc3MsIGFfaWQpOwogICAgICAgIGVtLmNsb3NlKCk7CiAgICAg\nICAgYXNzZXJ0Tm90TnVsbChhKTsKICAgICAgICBhc3NlcnRFcXVhbHMoYjJf\naWQsIGEuZ2V0UmVmKCkuZ2V0SWQoKSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgdGVzdE1lcmdlRGV0YWNoZWQgKCkgewogICAgICAgIEVudGl0eU1hbmFn\nZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgIFNp\nbXBsZUEgYSA9IGVtLmZpbmQoU2ltcGxlQS5jbGFzcywgYV9pZCk7CiAgICAg\nICAgU2ltcGxlUmVmIGIxID0gZW0uZmluZChTaW1wbGVSZWYuY2xhc3MsIGIx\nX2lkKTsKICAgICAgICBTaW1wbGVSZWYgYjIgPSBlbS5maW5kKFNpbXBsZVJl\nZi5jbGFzcywgYjJfaWQpOwogICAgICAgIGFzc2VydE5vdE51bGwoYSk7CiAg\nICAgICAgYXNzZXJ0Tm90TnVsbChiMSk7CiAgICAgICAgYXNzZXJ0Tm90TnVs\nbChiMik7CiAgICAgICAgZW0uY2xvc2UoKTsgLy8gZGV0YWNoIGFsbAoKICAg\nICAgICAvLyBjaGFuZ2UgYS5iIGZyb20gYjEgdG8gYjIgYW5kIG1lcmdlCiAg\nICAgICAgYS5zZXRSZWYoYjIpOwoKICAgICAgICBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOwogICAgICAgIGVtLm1lcmdlKGEpOwogICAgICAgIGVtLmdldFRy\nYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAgZW0uY2xvc2UoKTsKCiAg\nICAgICAgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAg\nIGEgPSBlbS5maW5kKFNpbXBsZUEuY2xhc3MsIGFfaWQpOwogICAgICAgIGVt\nLmNsb3NlKCk7CiAgICAgICAgYXNzZXJ0Tm90TnVsbChhKTsKICAgICAgICBh\nc3NlcnRFcXVhbHMoYjJfaWQsIGEuZ2V0UmVmKCkuZ2V0SWQoKSk7CiAgICB9\nCgogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykg\newogICAgICAgIFRlc3RSdW5uZXIucnVuKFRlc3ROb0Nhc2NhZGVPbmVUb09u\nZU1lcmdlLmNsYXNzKTsKICAgIH0KfQo=\n","encoding":"base64"}

