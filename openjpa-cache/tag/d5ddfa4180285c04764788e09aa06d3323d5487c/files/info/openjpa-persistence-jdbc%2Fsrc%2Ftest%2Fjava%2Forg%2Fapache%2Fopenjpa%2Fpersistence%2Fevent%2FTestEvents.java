{"sha":"58a2a6d2c7b44511cf2e99e48d4eec333d86f2b4","node_id":"MDQ6QmxvYjIwNjM2NDo1OGEyYTZkMmM3YjQ0NTExY2YyZTk5ZTQ4ZDRlZWMzMzNkODZmMmI0","size":8954,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/58a2a6d2c7b44511cf2e99e48d4eec333d86f2b4","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZXZlbnQ7DQoNCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVj\ndGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbnM7DQoNCg0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5ldmVudC5jb21t\nb24uYXBwcy5SdW50aW1lVGVzdDE7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5BYnN0cmFjdFRlc3RDYXNl\nOw0KaW1wb3J0IGp1bml0LmZyYW1ld29yay5Bc3NlcnRpb25GYWlsZWRFcnJv\ncjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5UcmFuc2Fj\ndGlvbkV2ZW50Ow0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5U\ncmFuc2FjdGlvbkxpc3RlbmVyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5DYWxsYmFja01vZGU7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0K\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlclNQSTsNCg0KcHVibGljIGNsYXNzIFRlc3RFdmVudHMN\nCiAgICBleHRlbmRzIEFic3RyYWN0VGVzdENhc2Ugew0KDQogICAgcHJpdmF0\nZSBUcmFuc2FjdGlvbkV2ZW50TGlzdGVuZXJUZXN0SW1wbCB0cmFuc2FjdGlv\nbkxpc3RlbmVyOw0KDQogICAgcHVibGljIFRlc3RFdmVudHMoU3RyaW5nIHMp\nIHsNCiAgICAgICAgc3VwZXIocywgImV2ZW50Y2FjdHVzYXBwIik7DQogICAg\nfQ0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7DQogICAgICAgIHRyYW5z\nYWN0aW9uTGlzdGVuZXIgPSBuZXcgVHJhbnNhY3Rpb25FdmVudExpc3RlbmVy\nVGVzdEltcGwoKTsNCiAgICAgICAgZGVsZXRlQWxsKFJ1bnRpbWVUZXN0MS5j\nbGFzcyk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdENvbW1pdCgp\nIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPQ0KICAgICAg\nICAgICAgKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFu\nYWdlcigpOw0KICAgICAgICAoKE9wZW5KUEFFbnRpdHlNYW5hZ2VyU1BJKSBw\nbSkNCiAgICAgICAgICAgIC5hZGRUcmFuc2FjdGlvbkxpc3RlbmVyKHRyYW5z\nYWN0aW9uTGlzdGVuZXIpOw0KDQogICAgICAgIGFzc2VydEVxdWFscygwLCB0\ncmFuc2FjdGlvbkxpc3RlbmVyLnN0YXR1cyk7DQoNCiAgICAgICAgUnVudGlt\nZVRlc3QxIHQxID0gbmV3IFJ1bnRpbWVUZXN0MSgiZm9vIiwgNSk7DQogICAg\nICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICBhc3NlcnRFcXVhbHMoVHJhbnNh\nY3Rpb25FdmVudExpc3RlbmVyVGVzdEltcGwuU1RBUlRFRCwNCiAgICAgICAg\nICAgIHRyYW5zYWN0aW9uTGlzdGVuZXIuc3RhdHVzKTsNCg0KICAgICAgICBw\nbS5wZXJzaXN0KHQxKTsNCg0KICAgICAgICBlbmRUeChwbSk7DQogICAgICAg\nIGFzc2VydEVxdWFscyhUcmFuc2FjdGlvbkV2ZW50TGlzdGVuZXJUZXN0SW1w\nbC5TVEFSVEVEIHwNCiAgICAgICAgICAgIFRyYW5zYWN0aW9uRXZlbnRMaXN0\nZW5lclRlc3RJbXBsLkNPTU1JVF9CRUdVTiB8DQogICAgICAgICAgICBUcmFu\nc2FjdGlvbkV2ZW50TGlzdGVuZXJUZXN0SW1wbC5DT01NSVRURUQsDQogICAg\nICAgICAgICB0cmFuc2FjdGlvbkxpc3RlbmVyLnN0YXR1cyk7DQogICAgfQ0K\nDQogICAgcHVibGljIHZvaWQgdGVzdFJvbGxiYWNrKCkgew0KICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbSA9DQogICAgICAgICAgICAoT3BlbkpQ\nQUVudGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAg\nICAgICgoT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkpIHBtKQ0KICAgICAgICAg\nICAgLmFkZFRyYW5zYWN0aW9uTGlzdGVuZXIodHJhbnNhY3Rpb25MaXN0ZW5l\ncik7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIHRyYW5zYWN0aW9uTGlz\ndGVuZXIuc3RhdHVzKTsNCg0KICAgICAgICBSdW50aW1lVGVzdDEgdDEgPSBu\nZXcgUnVudGltZVRlc3QxKCJmb28iLCA1KTsNCiAgICAgICAgc3RhcnRUeChw\nbSk7DQogICAgICAgIGFzc2VydEVxdWFscyhUcmFuc2FjdGlvbkV2ZW50TGlz\ndGVuZXJUZXN0SW1wbC5TVEFSVEVELA0KICAgICAgICAgICAgdHJhbnNhY3Rp\nb25MaXN0ZW5lci5zdGF0dXMpOw0KDQogICAgICAgIHBtLnBlcnNpc3QodDEp\nOw0KDQogICAgICAgIHJvbGxiYWNrVHgocG0pOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoVHJhbnNhY3Rpb25FdmVudExpc3RlbmVyVGVzdEltcGwuU1RBUlRF\nRCB8DQogICAgICAgICAgICBUcmFuc2FjdGlvbkV2ZW50TGlzdGVuZXJUZXN0\nSW1wbC5ST0xMRURCQUNLLA0KICAgICAgICAgICAgdHJhbnNhY3Rpb25MaXN0\nZW5lci5zdGF0dXMpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RP\nYmplY3RDaGFuZ2VzKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBwbSA9DQogICAgICAgICAgICAoT3BlbkpQQUVudGl0eU1hbmFnZXIpIGN1\ncnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgICgoT3BlbkpQQUVudGl0\neU1hbmFnZXJTUEkpIHBtKQ0KICAgICAgICAgICAgLmFkZFRyYW5zYWN0aW9u\nTGlzdGVuZXIodHJhbnNhY3Rpb25MaXN0ZW5lcik7DQoNCiAgICAgICAgLy8g\nYWRkIGEgY291cGxlIG5ldyBvYmplY3QNCiAgICAgICAgUnVudGltZVRlc3Qx\nIHQxID0gbmV3IFJ1bnRpbWVUZXN0MSgidDEiLCAwKTsNCiAgICAgICAgUnVu\ndGltZVRlc3QxIHQyID0gbmV3IFJ1bnRpbWVUZXN0MSgidDIiLCAxKTsNCiAg\nICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIHBtLnBlcnNpc3QodDEpOw0K\nICAgICAgICBwbS5wZXJzaXN0KHQyKTsNCiAgICAgICAgZW5kVHgocG0pOw0K\nDQogICAgICAgIC8vIG5vdyBkbyBzb21lIG1vZGlmaWNhdGlvbnMNCiAgICAg\nICAgdHJhbnNhY3Rpb25MaXN0ZW5lci5zdGF0dXMgPSAwOw0KICAgICAgICBz\ndGFydFR4KHBtKTsNCiAgICAgICAgUnVudGltZVRlc3QxIHQzID0gbmV3IFJ1\nbnRpbWVUZXN0MSgidDMiLCAzKTsNCiAgICAgICAgcG0ucGVyc2lzdCh0Myk7\nDQogICAgICAgIHQxLnNldFN0cmluZ0ZpZWxkKCJiYXoiKTsNCiAgICAgICAg\ncG0ucmVtb3ZlKHQyKTsNCiAgICAgICAgZW5kVHgocG0pOw0KDQogICAgICAg\nIGFzc2VydEVxdWFscygzLCB0cmFuc2FjdGlvbkxpc3RlbmVyLnRyYW5zLnNp\nemUoKSk7DQogICAgICAgIGFzc2VydFRydWUodHJhbnNhY3Rpb25MaXN0ZW5l\nci50cmFucy5jb250YWlucyh0MSkpOw0KICAgICAgICBhc3NlcnRUcnVlKHRy\nYW5zYWN0aW9uTGlzdGVuZXIudHJhbnMuY29udGFpbnModDIpKTsNCiAgICAg\nICAgYXNzZXJ0VHJ1ZSh0cmFuc2FjdGlvbkxpc3RlbmVyLnRyYW5zLmNvbnRh\naW5zKHQzKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdElnbm9y\nZUNhbGxiYWNrTW9kZUV4Y2VwdGlvbkNvbnN1bWVkKCkgew0KICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbSA9DQogICAgICAgICAgICAoT3BlbkpQ\nQUVudGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAg\nICAgICgoT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkpIHBtKQ0KICAgICAgICAg\nICAgLmFkZFRyYW5zYWN0aW9uTGlzdGVuZXIodHJhbnNhY3Rpb25MaXN0ZW5l\ncik7DQogICAgICAgIC8vRklYTUUgbmVlZCB0byBmaW5kIGFuIGFsdGVybmF0\naXZlDQogICAgICAgICgoT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkpIHBtKQ0K\nICAgICAgICAgICAgLnNldFRyYW5zYWN0aW9uTGlzdGVuZXJDYWxsYmFja01v\nZGUoQ2FsbGJhY2tNb2RlLklHTk9SRSk7DQogICAgICAgIHRyYW5zYWN0aW9u\nTGlzdGVuZXIuZXhjZXB0aW9uID0gdHJhbnNhY3Rpb25MaXN0ZW5lci5FWENF\nUFRJT047DQoNCiAgICAgICAgUnVudGltZVRlc3QxIHQxID0gbmV3IFJ1bnRp\nbWVUZXN0MSgiZm9vIiwgNSk7DQogICAgICAgIHN0YXJ0VHgocG0pOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoVHJhbnNhY3Rpb25FdmVudExpc3RlbmVyVGVz\ndEltcGwuU1RBUlRFRCwNCiAgICAgICAgICAgIHRyYW5zYWN0aW9uTGlzdGVu\nZXIuc3RhdHVzKTsNCiAgICAgICAgcG0ucGVyc2lzdCh0MSk7DQogICAgICAg\nIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAgICAgIGFz\nc2VydEVxdWFscyhUcmFuc2FjdGlvbkV2ZW50TGlzdGVuZXJUZXN0SW1wbC5T\nVEFSVEVEIHwNCiAgICAgICAgICAgIFRyYW5zYWN0aW9uRXZlbnRMaXN0ZW5l\nclRlc3RJbXBsLkNPTU1JVF9CRUdVTiB8DQogICAgICAgICAgICBUcmFuc2Fj\ndGlvbkV2ZW50TGlzdGVuZXJUZXN0SW1wbC5DT01NSVRURUQsDQogICAgICAg\nICAgICB0cmFuc2FjdGlvbkxpc3RlbmVyLnN0YXR1cyk7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgdGVzdEV4Y2VwdGlvbkNhdXNlc1JvbGxiYWNrKCkg\new0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9DQogICAgICAg\nICAgICAoT3BlbkpQQUVudGl0eU1hbmFnZXIpIGN1cnJlbnRFbnRpdHlNYW5h\nZ2VyKCk7DQogICAgICAgICgoT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkpIHBt\nKQ0KICAgICAgICAgICAgLmFkZFRyYW5zYWN0aW9uTGlzdGVuZXIodHJhbnNh\nY3Rpb25MaXN0ZW5lcik7DQogICAgICAgIHRyYW5zYWN0aW9uTGlzdGVuZXIu\nZXhjZXB0aW9uID0gdHJhbnNhY3Rpb25MaXN0ZW5lci5FWENFUFRJT047DQoN\nCiAgICAgICAgUnVudGltZVRlc3QxIHQxID0gbmV3IFJ1bnRpbWVUZXN0MSgi\nZm9vIiwgNSk7DQogICAgICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoVHJhbnNhY3Rpb25FdmVudExpc3RlbmVyVGVzdEltcGwuU1RB\nUlRFRCwNCiAgICAgICAgICAgIHRyYW5zYWN0aW9uTGlzdGVuZXIuc3RhdHVz\nKTsNCiAgICAgICAgcG0ucGVyc2lzdCh0MSk7DQoNCiAgICAgICAgdHJ5IHsN\nCiAgICAgICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgICAgIGZhaWwoIkNv\nbW1pdCBzaG91bGQgaGF2ZSBjYXVzZWQgZXhjZXB0aW9uLiIpOw0KICAgICAg\nICB9IGNhdGNoIChBc3NlcnRpb25GYWlsZWRFcnJvciBhZmUpIHsNCiAgICAg\nICAgICAgIGJ1ZygxMTM5LCBhZmUsICJMaXN0ZW5lciBleGNlcHRpb25zIGJl\naW5nIHN3YWxsb3dlZCIpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAg\nICB9IGNhdGNoIChFeGNlcHRpb24gamUpIHsNCiAgICAgICAgICAgIGFzc2Vy\ndEVxdWFscygieHh4IiwgamUuZ2V0TWVzc2FnZSgpKTsNCiAgICAgICAgfQ0K\nICAgICAgICBhc3NlcnRUcnVlKCEoaXNBY3RpdmVUeChwbSkpKTsNCiAgICAg\nICAgZW5kRW0ocG0pOw0KDQogICAgICAgIGFzc2VydEVxdWFscyhUcmFuc2Fj\ndGlvbkV2ZW50TGlzdGVuZXJUZXN0SW1wbC5TVEFSVEVEIHwNCiAgICAgICAg\nICAgIFRyYW5zYWN0aW9uRXZlbnRMaXN0ZW5lclRlc3RJbXBsLkNPTU1JVF9C\nRUdVTiB8DQogICAgICAgICAgICBUcmFuc2FjdGlvbkV2ZW50TGlzdGVuZXJU\nZXN0SW1wbC5ST0xMRURCQUNLLA0KICAgICAgICAgICAgdHJhbnNhY3Rpb25M\naXN0ZW5lci5zdGF0dXMpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRl\nc3RFeGNlcHRpb25BZnRlckNvbW1pdFRocm93bigpIHsNCiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0gPQ0KICAgICAgICAgICAgKE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAg\nICAoKE9wZW5KUEFFbnRpdHlNYW5hZ2VyU1BJKSBwbSkNCiAgICAgICAgICAg\nIC5hZGRUcmFuc2FjdGlvbkxpc3RlbmVyKHRyYW5zYWN0aW9uTGlzdGVuZXIp\nOw0KICAgICAgICB0cmFuc2FjdGlvbkxpc3RlbmVyLmV4Y2VwdGlvbiA9IHRy\nYW5zYWN0aW9uTGlzdGVuZXIuRVhDRVBUSU9OX0FGVEVSOw0KDQogICAgICAg\nIFJ1bnRpbWVUZXN0MSB0MSA9IG5ldyBSdW50aW1lVGVzdDEoImZvbyIsIDUp\nOw0KICAgICAgICBzdGFydFR4KHBtKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKFRyYW5zYWN0aW9uRXZlbnRMaXN0ZW5lclRlc3RJbXBsLlNUQVJURUQsDQog\nICAgICAgICAgICB0cmFuc2FjdGlvbkxpc3RlbmVyLnN0YXR1cyk7DQogICAg\nICAgIHBtLnBlcnNpc3QodDEpOw0KDQogICAgICAgIHRyeSB7DQogICAgICAg\nICAgICBlbmRUeChwbSk7DQogICAgICAgICAgICBmYWlsKCJDb21taXQgc2hv\ndWxkIGhhdmUgY2F1c2VkIGV4Y2VwdGlvbi4iKTsNCiAgICAgICAgfSBjYXRj\naCAoQXNzZXJ0aW9uRmFpbGVkRXJyb3IgYWZlKSB7DQogICAgICAgICAgICBi\ndWcoMTEzOSwgYWZlLCAiTGlzdGVuZXIgZXhjZXB0aW9ucyBiZWluZyBzd2Fs\nbG93ZWQiKTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGplKSB7DQog\nICAgICAgICAgICBhc3NlcnRFcXVhbHMoInh4eCIsIGplLmdldE1lc3NhZ2Uo\nKSk7DQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0RmFsc2UoaXNBY3RpdmVU\neChwbSkpOw0KICAgICAgICBlbmRFbShwbSk7DQoNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKFRyYW5zYWN0aW9uRXZlbnRMaXN0ZW5lclRlc3RJbXBsLlNUQVJU\nRUQgfA0KICAgICAgICAgICAgVHJhbnNhY3Rpb25FdmVudExpc3RlbmVyVGVz\ndEltcGwuQ09NTUlUX0JFR1VOIHwNCiAgICAgICAgICAgIFRyYW5zYWN0aW9u\nRXZlbnRMaXN0ZW5lclRlc3RJbXBsLkNPTU1JVFRFRCwNCiAgICAgICAgICAg\nIHRyYW5zYWN0aW9uTGlzdGVuZXIuc3RhdHVzKTsNCiAgICB9DQoNCiAgICBw\ncml2YXRlIHN0YXRpYyBjbGFzcyBUcmFuc2FjdGlvbkV2ZW50TGlzdGVuZXJU\nZXN0SW1wbA0KICAgICAgICBpbXBsZW1lbnRzIFRyYW5zYWN0aW9uTGlzdGVu\nZXIgew0KDQogICAgICAgIHN0YXRpYyBpbnQgU1RBUlRFRCA9IDE7DQogICAg\nICAgIHN0YXRpYyBpbnQgQ09NTUlUVEVEID0gMjsNCiAgICAgICAgc3RhdGlj\nIGludCBST0xMRURCQUNLID0gNDsNCiAgICAgICAgc3RhdGljIGludCBDT01N\nSVRfQkVHVU4gPSA4Ow0KICAgICAgICBzdGF0aWMgaW50IEVYQ0VQVElPTiA9\nIDE7DQogICAgICAgIHN0YXRpYyBpbnQgRVhDRVBUSU9OX0FGVEVSID0gMjsN\nCg0KICAgICAgICBpbnQgZXhjZXB0aW9uOw0KICAgICAgICBpbnQgc3RhdHVz\nOw0KICAgICAgICBDb2xsZWN0aW9uIHRyYW5zID0gQ29sbGVjdGlvbnMuRU1Q\nVFlfTElTVDsNCg0KICAgICAgICBwdWJsaWMgdm9pZCBhZnRlckJlZ2luKFRy\nYW5zYWN0aW9uRXZlbnQgZXZlbnQpIHsNCiAgICAgICAgICAgIHN0YXR1cyB8\nPSBTVEFSVEVEOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIHZvaWQg\nYmVmb3JlRmx1c2goVHJhbnNhY3Rpb25FdmVudCBldmVudCkgew0KICAgICAg\nICB9DQoNCiAgICAgICAgcHVibGljIHZvaWQgYWZ0ZXJGbHVzaChUcmFuc2Fj\ndGlvbkV2ZW50IGV2ZW50KSB7DQogICAgICAgIH0NCg0KICAgICAgICBwdWJs\naWMgdm9pZCBiZWZvcmVDb21taXQoVHJhbnNhY3Rpb25FdmVudCBldmVudCkg\new0KICAgICAgICAgICAgc3RhdHVzIHw9IENPTU1JVF9CRUdVTjsNCiAgICAg\nICAgICAgIHRyYW5zID0gZXZlbnQuZ2V0VHJhbnNhY3Rpb25hbE9iamVjdHMo\nKTsNCiAgICAgICAgICAgIGlmIChleGNlcHRpb24gPT0gRVhDRVBUSU9OKQ0K\nICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCJ4\neHgiKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHB1YmxpYyB2b2lkIGFmdGVy\nQ29tbWl0KFRyYW5zYWN0aW9uRXZlbnQgZXZlbnQpIHsNCiAgICAgICAgICAg\nIHN0YXR1cyB8PSBDT01NSVRURUQ7DQogICAgICAgICAgICBpZiAoZXhjZXB0\naW9uID09IEVYQ0VQVElPTl9BRlRFUikNCiAgICAgICAgICAgICAgICB0aHJv\ndyBuZXcgUnVudGltZUV4Y2VwdGlvbigieHh4Iik7DQogICAgICAgIH0NCg0K\nICAgICAgICBwdWJsaWMgdm9pZCBhZnRlclJvbGxiYWNrKFRyYW5zYWN0aW9u\nRXZlbnQgZXZlbnQpIHsNCiAgICAgICAgICAgIHN0YXR1cyB8PSBST0xMRURC\nQUNLOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIHZvaWQgYWZ0ZXJT\ndGF0ZVRyYW5zaXRpb25zKFRyYW5zYWN0aW9uRXZlbnQgZXZlbnQpIHsNCiAg\nICAgICAgfQ0KDQogICAgICAgIHB1YmxpYyB2b2lkIGFmdGVyQ29tbWl0Q29t\ncGxldGUoVHJhbnNhY3Rpb25FdmVudCBldmVudCkgew0KICAgICAgICB9DQoN\nCiAgICAgICAgcHVibGljIHZvaWQgYWZ0ZXJSb2xsYmFja0NvbXBsZXRlKFRy\nYW5zYWN0aW9uRXZlbnQgZXZlbnQpIHsNCiAgICAgICAgfQ0KICAgIH0NCn0=\n","encoding":"base64"}

