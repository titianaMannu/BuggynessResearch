{"sha":"db3718b071ccf85f715610b199a8daabb4129b2a","node_id":"MDQ6QmxvYjIwNjM2NDpkYjM3MThiMDcxY2NmODVmNzE1NjEwYjE5OWE4ZGFhYmI0MTI5YjJh","size":5054,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/db3718b071ccf85f715610b199a8daabb4129b2a","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZXZlbnQuY29tbW9uLmFwcHM7DQoNCmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5FbnRpdHk7DQoNCkBFbnRpdHkNCg0KLyoNCg0KICAg\nIE1pbGxpc2Vjb25kIChvbmx5KSBhY2N1cmFjeSB0aW1lci4NCg0KICAgIEph\ndmEgMS40IHN1cHBvc2VkbHkgaGFzIHN1bi5taXNjLlBlcmYuDQoNCiAgICBK\nYXZhIDEuNSBoYXMgU3lzdGVtLm5hbm9UaW1lIChKU1IgMTY2KQ0KDQoqLw0K\nDQpwdWJsaWMgY2xhc3MgRHVyYXRpb24NCg0KICAgIGltcGxlbWVudHMgQ2xv\nbmVhYmxlIHsNCg0KICAgIHByaXZhdGUgU3RyaW5nIF9uYW1lOw0KDQogICAg\ncHJpdmF0ZSBib29sZWFuIF9zdGFydGVkOw0KDQogICAgcHJpdmF0ZSBib29s\nZWFuIF9ydW5uaW5nOw0KDQogICAgcHJpdmF0ZSBsb25nIF9zdGFydFRpbWU7\nICAgICAgICAvLyBtaWxsaXMNCg0KICAgIHByaXZhdGUgbG9uZyBfc3RvcFRp\nbWU7ICAgICAgICAvLyBtaWxsaXMNCg0KICAgIC8vIE5ZSSBjbG9jayB0aW1l\nIG9mIGRheSBhdCBzdGFydA0KDQogICAgcHVibGljIER1cmF0aW9uKFN0cmlu\nZyBuYW1lKSB7DQoNCiAgICAgICAgX25hbWUgPSBuYW1lOw0KDQogICAgICAg\nIF9zdGFydGVkID0gZmFsc2U7DQoNCiAgICAgICAgX3J1bm5pbmcgPSBmYWxz\nZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7DQoN\nCiAgICAgICAgcmV0dXJuIF9uYW1lOw0KICAgIH0NCg0KICAgIHB1YmxpYyBz\neW5jaHJvbml6ZWQgdm9pZCBzdGFydCgpIHsNCg0KICAgICAgICBpZiAoX3N0\nYXJ0ZWQpIHsNCg0KICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNl\ncHRpb24oIkR1cmF0aW9uIHdhcyBhbHJlYWR5IHN0YXJ0ZWQuIik7DQogICAg\nICAgIH0NCg0KICAgICAgICBfc3RhcnRUaW1lID0gU3lzdGVtLmN1cnJlbnRU\naW1lTWlsbGlzKCk7DQoNCiAgICAgICAgX3N0YXJ0ZWQgPSB0cnVlOw0KDQog\nICAgICAgIF9ydW5uaW5nID0gdHJ1ZTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\nc3luY2hyb25pemVkIHZvaWQgc3RvcCgpIHsNCg0KICAgICAgICBpZiAoIV9z\ndGFydGVkKSB7DQoNCiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhj\nZXB0aW9uKCJEdXJhdGlvbiB3YXMgbmV2ZXIgc3RhcnRlZC4iKTsNCiAgICAg\nICAgfQ0KDQogICAgICAgIGlmICghX3J1bm5pbmcpIHsNCg0KICAgICAgICAg\nICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oIkR1cmF0aW9uIHdhcyBh\nbHJlYWR5IHN0b3BwZWQuIik7DQogICAgICAgIH0NCg0KICAgICAgICBfc3Rv\ncFRpbWUgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTsNCg0KICAgICAg\nICBfcnVubmluZyA9IGZhbHNlOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBP\nYmplY3QgY2xvbmUoKQ0KDQogICAgICAgIHRocm93cyBDbG9uZU5vdFN1cHBv\ncnRlZEV4Y2VwdGlvbiB7DQoNCiAgICAgICAgcmV0dXJuIHN1cGVyLmNsb25l\nKCk7DQogICAgfQ0KDQogICAgLyoNCg0KICAgICAgICBSZXR1cm5zIGEgbmV3\nIER1cmF0aW9uIG9iamVjdCBmcm9tIGEgY3VycmVudGx5IHJ1bm5pbmcgdGlt\nZXINCg0KICAgICAgICBhcyBhIHNuYXBzaG90IG9mIHRoaXMgb2JqZWN0Lg0K\nDQogICAgICAgIFRoZSByZXR1cm5lZCB0aW1lciBpcyBzdG9wcGVkLCB3aGls\nZSB0aGlzIG9iamVjdCBjb250aW51ZSBvbi4NCg0KICAgICovDQoNCiAgICBw\ndWJsaWMgc3luY2hyb25pemVkIER1cmF0aW9uIGdldEN1cnJlbnREdXJhdGlv\nbigpIHsNCg0KICAgICAgICBpZiAoIV9zdGFydGVkKSB7DQoNCiAgICAgICAg\nICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCJEdXJhdGlvbiB3YXMg\nbmV2ZXIgc3RhcnRlZC4iKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgh\nX3J1bm5pbmcpIHsNCg0KICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVF\neGNlcHRpb24oIkR1cmF0aW9uIGlzIG5vdCBydW5uaW5nLiIpOw0KICAgICAg\nICB9DQoNCiAgICAgICAgbG9uZyBub3cgPSBTeXN0ZW0uY3VycmVudFRpbWVN\naWxsaXMoKTsNCg0KICAgICAgICBEdXJhdGlvbiBjdXJyZW50RHVyYXRpb247\nDQoNCiAgICAgICAgdHJ5IHsNCg0KICAgICAgICAgICAgY3VycmVudER1cmF0\naW9uID0gKER1cmF0aW9uKSB0aGlzLmNsb25lKCk7DQogICAgICAgIH0gY2F0\nY2ggKEV4Y2VwdGlvbiBlKSB7DQoNCiAgICAgICAgICAgIGN1cnJlbnREdXJh\ndGlvbiA9IG5ldyBEdXJhdGlvbigiIik7DQogICAgICAgIH0NCg0KICAgICAg\nICBjdXJyZW50RHVyYXRpb24uX3N0b3BUaW1lID0gbm93Ow0KDQogICAgICAg\nIGN1cnJlbnREdXJhdGlvbi5fcnVubmluZyA9IGZhbHNlOw0KDQogICAgICAg\nIHJldHVybiBjdXJyZW50RHVyYXRpb247DQogICAgfQ0KDQogICAgLyogT2J0\nYWluIHRoZSBkdXJhdGlvbiB0aGF0IHRoaXMgdGltZXIgaGFzIHJ1biAoaW4g\nc2Vjb25kcykJKi8NCg0KICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQgZG91Ymxl\nIGdldER1cmF0aW9uQXNTZWNvbmRzKCkgew0KDQogICAgICAgIGlmICghX3N0\nYXJ0ZWQpIHsNCg0KICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNl\ncHRpb24oIkR1cmF0aW9uIHdhcyBuZXZlciBzdGFydGVkLiIpOw0KICAgICAg\nICB9DQoNCiAgICAgICAgaWYgKF9ydW5uaW5nKSB7DQoNCiAgICAgICAgICAg\nIC8vIHNuYXBzaG90DQoNCiAgICAgICAgICAgIER1cmF0aW9uIHNuYXBzaG90\nID0gZ2V0Q3VycmVudER1cmF0aW9uKCk7DQoNCiAgICAgICAgICAgIHJldHVy\nbiAoMTAwMC4wICogKHNuYXBzaG90Ll9zdG9wVGltZSAtIHNuYXBzaG90Ll9z\ndGFydFRpbWUpKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFJldHVybiBh\nIGRvdWJsZSB2YWx1ZS4gU29tZWRheSB0aGlzIGNsYXNzIG1heSBtYWtlIHVz\nZSBvZg0KDQogICAgICAgIC8vIGhpZ2hlciBwcmVjaXNpb24gdGltaW5nIHNl\ncnZpY2VzIChlLmcuIGphdmEgMS41KQ0KDQogICAgICAgIHJldHVybiAoKF9z\ndG9wVGltZSAtIF9zdGFydFRpbWUpIC8gKGRvdWJsZSkgMTAwMC4wKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgc3luY2hyb25pemVkIGJvb2xlYW4gaXNSdW5u\naW5nKCkgew0KDQogICAgICAgIHJldHVybiBfcnVubmluZzsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgc3luY2hyb25pemVkIGJvb2xlYW4gd2FzU3RhcnRlZCgp\nIHsNCg0KICAgICAgICByZXR1cm4gX3N0YXJ0ZWQ7DQogICAgfQ0KDQogICAg\ncHVibGljIFN0cmluZyB0b1N0cmluZygpIHsNCg0KICAgICAgICBkb3VibGUg\ndGltZSA9IDAuMDsNCg0KICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3\nIFN0cmluZ0J1ZmZlcigyNTYpOw0KDQogICAgICAgIGlmICh3YXNTdGFydGVk\nKCkpIHsNCg0KICAgICAgICAgICAgaWYgKGlzUnVubmluZygpKSB7DQoNCiAg\nICAgICAgICAgICAgICBEdXJhdGlvbiBzbmFwc2hvdCA9IGdldEN1cnJlbnRE\ndXJhdGlvbigpOw0KDQogICAgICAgICAgICAgICAgdGltZSA9IHNuYXBzaG90\nLmdldER1cmF0aW9uQXNTZWNvbmRzKCk7DQogICAgICAgICAgICB9IGVsc2Ug\new0KDQogICAgICAgICAgICAgICAgdGltZSA9IGdldER1cmF0aW9uQXNTZWNv\nbmRzKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGJ1Zi5hcHBl\nbmQoIkR1cmF0aW9uIGZvciAnIiArIF9uYW1lICsgIicgaXMgIiArIHRpbWUg\nKyAiIChzKS4iKTsNCiAgICAgICAgfSBlbHNlIHsNCg0KICAgICAgICAgICAg\nYnVmLmFwcGVuZCgiRHVyYXRpb24gZm9yICciICsgX25hbWUgKw0KDQogICAg\nICAgICAgICAgICAgIicgaGFzIG5vdCB5ZXQgYmVlbiBzdGFydGVkLiIpOw0K\nICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpOw0K\nICAgIH0NCg0KLyogRXhhbXBsZSB1c2FnZToNCg0KICAgICAgIHB1YmxpYyBz\ndGF0aWMgdm9pZCBtYWluIChTdHJpbmdbXSBhcmdzKQ0KDQogICAgICAgIHRo\ncm93cyBFeGNlcHRpb24NCg0KICAgIHsNCg0KICAgICAgICBEdXJhdGlvbiB0\nZXN0ID0gbmV3IER1cmF0aW9uICgiaGVsbG8sIGNvdW50IHRvIDEgbWlsbGlv\nbiIpOw0KDQogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbiAodGVzdCk7DQoN\nCiAgICAgICAgdGVzdC5zdGFydCAoKTsNCg0KICAgICAgICBmb3IgKGludCBp\nID0gMDsgaSA8IDEwMDAwMDAwMDA7IGkrKykNCg0KICAgICAgICAgICAgew0K\nDQogICAgICAgICAgICB9DQoNCiAgICAgICAgdGVzdC5zdG9wICgpOw0KDQog\nICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbiAodGVzdCk7DQoNCiAgICB9DQoN\nCiAgICAqLw0KfQ0KDQo=\n","encoding":"base64"}

