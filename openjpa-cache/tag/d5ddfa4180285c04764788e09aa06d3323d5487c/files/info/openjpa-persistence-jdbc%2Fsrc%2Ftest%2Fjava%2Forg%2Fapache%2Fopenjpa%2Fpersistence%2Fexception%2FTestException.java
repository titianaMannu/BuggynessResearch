{"sha":"bb587ae3d055d049380a03b8f5b9a3086a22706d","node_id":"MDQ6QmxvYjIwNjM2NDpiYjU4N2FlM2QwNTVkMDQ5MzgwYTAzYjhmNWI5YTMwODZhMjI3MDZk","size":3426,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bb587ae3d055d049380a03b8f5b9a3086a22706d","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuZXhjZXB0aW9uOw0KDQppbXBvcnQgamF2YS5zcWwuU1FM\nRXhjZXB0aW9uOw0KDQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5\nTWFuYWdlcjsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5PcHRpbWlzdGlj\nTG9ja0V4Y2VwdGlvbjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsNCg0KLyoqDQogKiBU\nZXN0cyBwcm9wZXIgSlBBIGV4Y2VwdGlvbnMgYXJlIHJhaXNlZCBieSB0aGUg\naW1wbGVtZW50YXRpb24uIA0KICovDQpwdWJsaWMgY2xhc3MgVGVzdEV4Y2Vw\ndGlvbiBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsNCiAgICBwdWJsaWMg\ndm9pZCBzZXRVcCgpIHsNCiAgICAgICAgc3VwZXIuc2V0VXAoUE9iamVjdC5j\nbGFzcyk7DQogICAgfQ0KICAgIA0KCS8qKg0KCSAqIFRlc3RzIHRoYXQgd2hl\nbiBPcHRpbWlzdGljIHRyYW5zYWN0aW9uIGNvbnNpc3RlbmN5IGlzIHZpb2xh\ndGVkLCB0aGUNCgkgKiBleGNlcHRpb24gdGhyb3duIGlzIGFuIGluc3RhbmNl\nIG9mIGphdmF4LnBlcnNpc3RlbmNlLk9wdGltaXN0aWNFeGNlcHRpb24uDQoJ\nICovDQoJcHVibGljIHZvaWQgdGVzdFRocm93c0pQQURlZmluZWRPcHRpbWlz\ndGljRXhjZXB0aW9uKCkgew0KCQlFbnRpdHlNYW5hZ2VyIGVtMSA9IGVtZi5j\ncmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQoJCUVudGl0eU1hbmFnZXIgZW0yID0g\nZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCgkJYXNzZXJ0Tm90RXF1YWxz\nKGVtMSwgZW0yKTsNCgkJDQoJCWVtMS5nZXRUcmFuc2FjdGlvbigpLmJlZ2lu\nKCk7DQoJCVBPYmplY3QgcGMgPSBuZXcgUE9iamVjdCgpOw0KCQllbTEucGVy\nc2lzdChwYyk7DQoJCWVtMS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0K\nCQlPYmplY3QgaWQgPSBwYy5nZXRJZCgpOw0KCQllbTEuY2xlYXIoKTsNCgkJ\nDQoJCWVtMS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7DQoJCWVtMi5nZXRU\ncmFuc2FjdGlvbigpLmJlZ2luKCk7DQoJCQ0KCQlQT2JqZWN0IHBjMSA9IGVt\nMS5maW5kKFBPYmplY3QuY2xhc3MsIGlkKTsNCgkJUE9iamVjdCBwYzIgPSBl\nbTIuZmluZChQT2JqZWN0LmNsYXNzLCBpZCk7DQoJCQ0KCQlhc3NlcnRUcnVl\nKHBjMSAhPSBwYzIpOw0KCQkNCgkJcGMxLnNldE5hbWUoIk1vZGlmaWVkIGlu\nIFRYTjEiKTsNCgkJZW0xLmZsdXNoKCk7DQoJCXRyeSB7DQoJCQlwYzIuc2V0\nTmFtZSgiTW9kaWZpZWQgaW4gVFhOMiIpOw0KCQkJZW0yLmZsdXNoKCk7DQoJ\nCQlmYWlsKCJFeHBlY3RlZCBvcHRpbWlzdGljIGV4Y2VwdGlvbiBvbiBmbHVz\naCIpOw0KCQl9IGNhdGNoIChUaHJvd2FibGUgdCkgew0KCQkJaWYgKCFpc0V4\ncGVjdGVkRXhjZXB0aW9uKHQsIE9wdGltaXN0aWNMb2NrRXhjZXB0aW9uLmNs\nYXNzKSkgew0KCQkJCXByaW50KHQpOw0KCQkJCWZhaWwodC5nZXRDYXVzZSgp\nLmdldENsYXNzKCkgKyAiIGlzIG5vdCAiICsgDQoJCQkJCQlPcHRpbWlzdGlj\nTG9ja0V4Y2VwdGlvbi5jbGFzcyk7DQoJCQl9DQoJCX0NCgkJDQoJCWVtMS5n\nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0KCQl0cnkgew0KCQkJZW0yLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7DQoJCQlmYWlsKCJFeHBlY3RlZCBv\ncHRpbWlzdGljIGV4Y2VwdGlvbiBvbiBjb21taXQiKTsNCgkJfSBjYXRjaCAo\nVGhyb3dhYmxlIHQpIHsNCgkJCWlmICghaXNFeHBlY3RlZEV4Y2VwdGlvbih0\nLCBPcHRpbWlzdGljTG9ja0V4Y2VwdGlvbi5jbGFzcykpIHsNCgkJCQlwcmlu\ndCh0KTsNCgkJCQlmYWlsKHQuZ2V0Q2F1c2UoKS5nZXRDbGFzcygpICsgIiBp\ncyBub3QgIiArIA0KCQkJCQkJT3B0aW1pc3RpY0xvY2tFeGNlcHRpb24uY2xh\nc3MpOw0KCQkJfQ0KCQl9DQoJfQ0KCQ0KCWJvb2xlYW4gaXNFeHBlY3RlZEV4\nY2VwdGlvbihUaHJvd2FibGUgdCwgQ2xhc3MgZXhwZWN0ZWRUeXBlKSB7DQoJ\nCWlmICh0ID09IG51bGwpIHJldHVybiBmYWxzZTsNCgkJaWYgKGV4cGVjdGVk\nVHlwZS5pc0Fzc2lnbmFibGVGcm9tKHQuZ2V0Q2xhc3MoKSkpDQoJCQkJcmV0\ndXJuIHRydWU7DQoJCWlmICh0LmdldENhdXNlKCk9PXQpIHJldHVybiBmYWxz\nZTsNCgkJcmV0dXJuIGlzRXhwZWN0ZWRFeGNlcHRpb24odC5nZXRDYXVzZSgp\nLCBleHBlY3RlZFR5cGUpOw0KCX0NCgkNCgl2b2lkIHByaW50KFRocm93YWJs\nZSB0KSB7DQoJCXByaW50KHQsIDApOw0KCX0NCgkNCgl2b2lkIHByaW50KFRo\ncm93YWJsZSB0LCBpbnQgdGFiKSB7DQoJCWlmICh0ID09IG51bGwpIHJldHVy\nbjsNCgkJZm9yIChpbnQgaT0wOyBpPHRhYio0O2krKykgU3lzdGVtLm91dC5w\ncmludCgiICIpOw0KCQlTdHJpbmcgc3FsU3RhdGUgPSAodCBpbnN0YW5jZW9m\nIFNRTEV4Y2VwdGlvbikgPyANCgkJCSIoU1FMU3RhdGU9IiArICgoU1FMRXhj\nZXB0aW9uKXQpLmdldFNRTFN0YXRlKCkgKyAiOiIgKyB0LmdldE1lc3NhZ2Uo\nKSArICIpIjoiIjsNCgkJU3lzdGVtLm91dC5wcmludGxuKHQuZ2V0Q2xhc3Mo\nKS5nZXROYW1lKCkgKyBzcWxTdGF0ZSk7DQoJCWlmICh0LmdldENhdXNlKCk9\nPXQpIHJldHVybjsNCgkJcHJpbnQodC5nZXRDYXVzZSgpLCB0YWIrMSk7DQoJ\nfQ0KfQ0K\n","encoding":"base64"}

