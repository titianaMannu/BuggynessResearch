{"sha":"b76fbe10dfc8fd6ab9f3ddfac95061e67c26cacb","node_id":"MDQ6QmxvYjIwNjM2NDpiNzZmYmUxMGRmYzhmZDZhYjlmM2RkZmFjOTUwNjFlNjdjMjZjYWNi","size":3297,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b76fbe10dfc8fd6ab9f3ddfac95061e67c26cacb","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpwYWNr\nYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5nZW5lcmF0aW9u\ndHlwZTsKCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS4qOwoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRl\nc3RDYXNlOwoKLyoqCiAqIFRlc3RzIE9wZW5KUEEncyBzdXBwb3J0IGZvciB0\naGUgR2VuZXJhdGVkVmFsdWUgYW5ub3RhdGlvbgogKiBhcHBsaWVkIHRvIGEg\nbm9uLUlEIGZpZWxkIGluIGludGVyYWN0aW9uIHdpdGggdGhlIFBvc3RQZXJz\naXN0IGNhbGxiYWNrLiAgCiAqIAogKiBAYXV0aG9yIERhdmlkIEV6emlvCiAq\nLwpwdWJsaWMgY2xhc3MgVGVzdEVudGl0eVdpdGhHZW5lcmF0ZWRWYWx1ZUFu\nZFBvc3RQZXJzaXN0IAogICAgICAgIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENh\nc2UgaW1wbGVtZW50cyBWYWx1ZUNhY2hlIHsKCiAgICBwcml2YXRlIGludCBj\nYWNoZTsKICAgIAogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7IAogICAgICAg\nIHNldFVwKEVudGl0eVdpdGhHZW5lcmF0ZWRWYWx1ZUFuZFBvc3RQZXJzaXN0\nLmNsYXNzLCBDTEVBUl9UQUJMRVMpOwogICAgICAgIGNhY2hlID0gMDsKICAg\nIH0KCiAgICAvLyBzYXRpc2Z5IHRoZSBWYWx1ZUNhY2hlIGludGVyZmFjZQog\nICAgcHVibGljIHZvaWQgc2V0VmFsdWUoaW50IHZhbCkgewogICAgICAgIGNh\nY2hlID0gdmFsOwogICAgfQogICAgCiAgICBwdWJsaWMgdm9pZCB0ZXN0VmFs\ndWVDYXB0dXJlZEluUG9zdFBlcnNpc3RBZnRlckNvbW1pdCgpIHsKICAgICAg\nICAKICAgICAgICAvLyBnZXQgRU0gYW5kIHN0YXJ0IHR4CiAgICAgICAgRW50\naXR5TWFuYWdlciBlbSA9IGdldEVNKCk7CiAgICAgICAgZW0uZ2V0VHJhbnNh\nY3Rpb24oKS5iZWdpbigpOwoKICAgICAgICAvLyBjcmVhdGUgYSBuZXcgZW50\naXR5CiAgICAgICAgRW50aXR5V2l0aEdlbmVyYXRlZFZhbHVlQW5kUG9zdFBl\ncnNpc3QgcGMgPSAKICAgICAgICAgICAgICAgIG5ldyBFbnRpdHlXaXRoR2Vu\nZXJhdGVkVmFsdWVBbmRQb3N0UGVyc2lzdCgxKTsKICAgICAgICBwYy5zZXRO\nYW1lKCJUZXN0RW50aXR5V2l0aEdlbmVyYXRlZFZhbHVlQW5kUG9zdFBlcnNp\nc3QtY29tbWl0Iik7CiAgICAgICAgcGMuc2V0Q2FjaGUodGhpcyk7CgogICAg\nICAgIC8vIHBlcnNpc3QgYW5kIGNvbW1pdAogICAgICAgIGVtLnBlcnNpc3Qo\ncGMpOwogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAg\nICAgICAgCiAgICAgICAgLy8gY2hlY2sgdGhlIHZhbHVlIGNhcHR1cmVkIGJ5\nIHRoZSBQb3N0UGVyc2lzdCBjYWxsYmFjawogICAgICAgIGFzc2VydEVxdWFs\ncygiRW50aXR5J3MgY3VycmVudCB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB2YWx1\nZSBjYXB0dXJlZCAiICsKICAgICAgICAJCSJpbiBwb3N0UGVyc2lzdCIsIHBj\nLmdldEJpbmdvKCksIGNhY2hlKTsKICAgIH0KICAgIAogICAgcHVibGljIHZv\naWQgdGVzdFZhbHVlQ2FwdHVyZWRJblBvc3RQZXJzaXN0QWZ0ZXJGbHVzaCgp\nIHsKICAgICAgICAKICAgICAgICAvLyBnZXQgRU0gYW5kIHN0YXJ0IHR4CiAg\nICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGdldEVNKCk7CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwoKICAgICAgICAvLyBjcmVhdGUg\nYSBuZXcgVGhpbmdhbWFib2IKICAgICAgICBFbnRpdHlXaXRoR2VuZXJhdGVk\nVmFsdWVBbmRQb3N0UGVyc2lzdCBwYyA9IAogICAgICAgICAgICAgICAgbmV3\nIEVudGl0eVdpdGhHZW5lcmF0ZWRWYWx1ZUFuZFBvc3RQZXJzaXN0KDEpOwog\nICAgICAgIHBjLnNldE5hbWUoIlRlc3RFbnRpdHlXaXRoR2VuZXJhdGVkVmFs\ndWVBbmRQb3N0UGVyc2lzdC1mbHVzaCIpOwogICAgICAgIHBjLnNldENhY2hl\nKHRoaXMpOwoKICAgICAgICAvLyBwZXJzaXN0IGFuZCBmbHVzaAogICAgICAg\nIGVtLnBlcnNpc3QocGMpOwogICAgICAgIGVtLmZsdXNoKCk7CgogICAgICAg\nIC8vIGNoZWNrIHRoZSB2YWx1ZSBjYXB0dXJlZCBieSB0aGUgUG9zdFBlcnNp\nc3QgY2FsbGJhY2sKICAgICAgICBhc3NlcnRFcXVhbHMoIkVudGl0eSdzIGN1\ncnJlbnQgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdmFsdWUgY2FwdHVyZWQgIiAr\nCiAgICAgICAgCQkiaW4gcG9zdFBlcnNpc3QiLCBwYy5nZXRCaW5nbygpLCBj\nYWNoZSk7CiAgICAgICAgCiAgICAgICAgLy8gY29tbWl0CiAgICAgICAgZW0u\nZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICAKICAgICAgICAv\nLyBjaGVjayB0aGUgdmFsdWUgY2FwdHVyZWQgYnkgdGhlIFBvc3RQZXJzaXN0\nIGNhbGxiYWNrCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJFbnRpdHkncyBjdXJy\nZW50IHZhbHVlIGRvZXMgbm90IG1hdGNoIHZhbHVlIGNhcHR1cmVkICIgKwog\nICAgICAgIAkJImluIHBvc3RQZXJzaXN0IiwgcGMuZ2V0QmluZ28oKSwgY2Fj\naGUpOwogICAgfQogICAgCiAgICBwcml2YXRlIEVudGl0eU1hbmFnZXIgZ2V0\nRU0oKSB7CiAgICAgICAgcmV0dXJuIGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2Vy\nKCk7CiAgICB9Cn0K\n","encoding":"base64"}

