{"sha":"8e664029d1df8586cea8f228dc6e567d0d50ef02","node_id":"MDQ6QmxvYjIwNjM2NDo4ZTY2NDAyOWQxZGY4NTg2Y2VhOGYyMjhkYzZlNTY3ZDBkNTBlZjAy","size":5341,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8e664029d1df8586cea8f228dc6e567d0d50ef02","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5qZGJjLmFubm90YXRpb25zOw0KDQppbXBvcnQgamF2YS5zcWwu\nVHlwZXM7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdl\ncjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmNvbmYuSkRC\nQ0NvbmZpZ3VyYXRpb247DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5DbGFzc01hcHBpbmc7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMubWV0YS5GaWVsZE1hcHBpbmc7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMubWV0YS5zdHJhdHMuQ2xvYlZhbHVlSGFuZGxlcjsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0cy5N\nYXhFbWJlZGRlZENsb2JGaWVsZFN0cmF0ZWd5Ow0KaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzLlN0cmluZ0ZpZWxkU3RyYXRl\nZ3k7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkRCRGlj\ndGlvbmFyeTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuSlBBRmFjYWRlSGVscGVyOw0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7DQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuRmllbGRNZXRhRGF0YTsNCg0K\nLyoqDQogKiBUZXN0IGZvciBlbWJlZGRlZA0KICoNCiAqIEBhdXRob3IgU3Rl\ndmUgS2ltDQogKi8NCnB1YmxpYyBjbGFzcyBUZXN0RUpCRW1iZWRkZWQgZXh0\nZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7DQoNCiAgICBwcml2YXRlIHN0YXRp\nYyBmaW5hbCBTdHJpbmcgQ0xPQjsNCg0KICAgIHN0YXRpYyB7DQogICAgICAg\nIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7DQogICAg\nICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwMDsgaSsrKQ0KICAgICAgICAg\nICAgYnVmLmFwcGVuZCgnYScpOw0KICAgICAgICBDTE9CID0gYnVmLnRvU3Ry\naW5nKCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7DQog\nICAgICAgIHNldFVwKEVtYmVkT3duZXIuY2xhc3MsIEVtYmVkVmFsdWUuY2xh\nc3MsIENMRUFSX1RBQkxFUyk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQg\ndGVzdEVtYmVkZGVkKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0g\nZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5iZWdpbigpOw0KICAgICAgICBFbWJlZE93bmVyIG93bmVy\nID0gbmV3IEVtYmVkT3duZXIoKTsNCiAgICAgICAgb3duZXIuc2V0QmFzaWMo\nImZvbyIpOw0KICAgICAgICBFbWJlZFZhbHVlIGVtYmVkID0gbmV3IEVtYmVk\nVmFsdWUoKTsNCiAgICAgICAgZW1iZWQuc2V0Q2xvYihDTE9CKTsNCiAgICAg\nICAgZW1iZWQuc2V0QmFzaWMoImJhciIpOw0KICAgICAgICBlbWJlZC5zZXRC\nbG9iKCJmb29iYXIiLmdldEJ5dGVzKCkpOw0KICAgICAgICBlbWJlZC5zZXRP\nd25lcihvd25lcik7DQogICAgICAgIG93bmVyLnNldEVtYmVkKGVtYmVkKTsN\nCiAgICAgICAgZW0ucGVyc2lzdChvd25lcik7DQogICAgICAgIGludCBwayA9\nIG93bmVyLmdldFBrKCk7DQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nY29tbWl0KCk7DQogICAgICAgIGVtLmNsb3NlKCk7DQoNCiAgICAgICAgZW0g\nPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOw0KICAgICAgICBvd25lciA9\nIGVtLmZpbmQoRW1iZWRPd25lci5jbGFzcywgcGspOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoImZvbyIsIG93bmVyLmdldEJhc2ljKCkpOw0KICAgICAgICBl\nbWJlZCA9IG93bmVyLmdldEVtYmVkKCk7DQogICAgICAgIGFzc2VydE5vdE51\nbGwoZW1iZWQpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoQ0xPQiwgZW1iZWQu\nZ2V0Q2xvYigpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJiYXIiLCBlbWJl\nZC5nZXRCYXNpYygpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJmb29iYXIi\nLCBuZXcgU3RyaW5nKGVtYmVkLmdldEJsb2IoKSkpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMob3duZXIsIGVtYmVkLmdldE93bmVyKCkpOw0KICAgICAgICBl\nbS5jbG9zZSgpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJl\nZGRlZE1ldGFEYXRhKCkgew0KICAgICAgICBDbGFzc01ldGFEYXRhIG93bmVy\nTWV0YSA9DQogICAgICAgICAgICBKUEFGYWNhZGVIZWxwZXIuZ2V0TWV0YURh\ndGEoZW1mLCBFbWJlZE93bmVyLmNsYXNzKTsNCiAgICAgICAgRmllbGRNZXRh\nRGF0YSBmbWQgPSBvd25lck1ldGEuZ2V0RmllbGQoImVtYmVkIik7DQogICAg\nICAgIENsYXNzTWV0YURhdGEgZW1iZWRkZWRNZXRhID0gZm1kLmdldERlZmlu\naW5nTWV0YURhdGEoKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChlbWJlZGRl\nZE1ldGEpOw0KICAgICAgICBhc3NlcnROdWxsKGVtYmVkZGVkTWV0YS5nZXRG\naWVsZCgidHJhbnNpZW50RmllbGQiKSk7DQogICAgfQ0KDQogICAgcHVibGlj\nIHZvaWQgdGVzdE51bGwoKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0g\nPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOw0KICAgICAgICBlbS5nZXRU\ncmFuc2FjdGlvbigpLmJlZ2luKCk7DQogICAgICAgIEVtYmVkT3duZXIgb3du\nZXIgPSBuZXcgRW1iZWRPd25lcigpOw0KICAgICAgICBvd25lci5zZXRCYXNp\nYygiZm9vIik7DQogICAgICAgIGVtLnBlcnNpc3Qob3duZXIpOw0KICAgICAg\nICBpbnQgcGsgPSBvd25lci5nZXRQaygpOw0KICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAgICBlbS5jbG9zZSgpOw0KDQog\nICAgICAgIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAg\nICAgb3duZXIgPSBlbS5maW5kKEVtYmVkT3duZXIuY2xhc3MsIHBrKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJmb28iLCBvd25lci5nZXRCYXNpYygpKTsN\nCiAgICAgICAgRW1iZWRWYWx1ZSBlbWJlZCA9IG93bmVyLmdldEVtYmVkKCk7\nDQogICAgICAgIGFzc2VydE5vdE51bGwoZW1iZWQpOw0KICAgICAgICBhc3Nl\ncnROdWxsKGVtYmVkLmdldENsb2IoKSk7DQogICAgICAgIGFzc2VydE51bGwo\nZW1iZWQuZ2V0QmFzaWMoKSk7DQogICAgICAgIGFzc2VydE51bGwoZW1iZWQu\nZ2V0QmxvYigpKTsNCiAgICAgICAgZW0uY2xvc2UoKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0TWFwcGluZ1RyYW5zZmVyQW5kT3ZlcnJpZGUo\nKSB7DQogICAgICAgIEpEQkNDb25maWd1cmF0aW9uIGNvbmYgPSAoSkRCQ0Nv\nbmZpZ3VyYXRpb24pIGVtZi5nZXRDb25maWd1cmF0aW9uKCk7DQogICAgICAg\nIENsYXNzTWFwcGluZyBjbHMgPSBjb25mLmdldE1hcHBpbmdSZXBvc2l0b3J5\nSW5zdGFuY2UoKS5nZXRNYXBwaW5nDQogICAgICAgICAgICAoRW1iZWRPd25l\nci5jbGFzcywgbnVsbCwgdHJ1ZSk7DQogICAgICAgIGFzc2VydEVxdWFscygi\nT1dOX0JBU0lDIiwgY2xzLmdldEZpZWxkTWFwcGluZygiYmFzaWMiKS4NCiAg\nICAgICAgICAgIGdldENvbHVtbnMoKVswXS5nZXROYW1lKCkpOw0KICAgICAg\nICBDbGFzc01hcHBpbmcgZW1iZWQgPSBjbHMuZ2V0RmllbGRNYXBwaW5nKCJl\nbWJlZCIpLmdldEVtYmVkZGVkTWFwcGluZygpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoIkVNQl9CTE9CIiwgZW1iZWQuZ2V0RmllbGRNYXBwaW5nKCJibG9i\nIikuDQogICAgICAgICAgICBnZXRDb2x1bW5zKClbMF0uZ2V0TmFtZSgpKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJPVkVSX0JBU0lDIiwgZW1iZWQuZ2V0\nRmllbGRNYXBwaW5nKCJiYXNpYyIpLg0KICAgICAgICAgICAgZ2V0Q29sdW1u\ncygpWzBdLmdldE5hbWUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygiT1ZF\nUl9PV05FUiIsIGVtYmVkLmdldEZpZWxkTWFwcGluZygib3duZXIiKS4NCiAg\nICAgICAgICAgIGdldENvbHVtbnMoKVswXS5nZXROYW1lKCkpOw0KDQogICAg\nICAgIEZpZWxkTWFwcGluZyBmbSA9IGVtYmVkLmdldEZpZWxkTWFwcGluZygi\nY2xvYiIpOw0KICAgICAgICBEQkRpY3Rpb25hcnkgZGljdCA9IGNvbmYuZ2V0\nREJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsNCiAgICAgICAgaWYgKGRpY3QuZ2V0\nUHJlZmVycmVkVHlwZShUeXBlcy5DTE9CKSA9PSBUeXBlcy5DTE9CKSB7DQog\nICAgICAgICAgICBpZiAoZGljdC5tYXhFbWJlZGRlZENsb2JTaXplID4gMCkN\nCiAgICAgICAgICAgICAgICBhc3NlcnRUcnVlKGZtLmdldFN0cmF0ZWd5KCkg\naW5zdGFuY2VvZg0KICAgICAgICAgICAgICAgICAgICBNYXhFbWJlZGRlZENs\nb2JGaWVsZFN0cmF0ZWd5KTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAg\nICAgICAgICBhc3NlcnRUcnVlKGZtLmdldEhhbmRsZXIoKSBpbnN0YW5jZW9m\nIENsb2JWYWx1ZUhhbmRsZXIpOw0KICAgICAgICB9IGVsc2UNCiAgICAgICAg\nICAgIGFzc2VydFRydWUoZm0uZ2V0U3RyYXRlZ3koKSBpbnN0YW5jZW9mIFN0\ncmluZ0ZpZWxkU3RyYXRlZ3kpOw0KICAgIH0NCn0NCg==\n","encoding":"base64"}

