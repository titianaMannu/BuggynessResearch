{"sha":"240a1da6bfa924f803fcbbac3b59251b2a9e2c36","node_id":"MDQ6QmxvYjIwNjM2NDoyNDBhMWRhNmJmYTkyNGY4MDNmY2JiYWMzYjU5MjUxYjJhOWUyYzM2","size":6849,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/240a1da6bfa924f803fcbbac3b59251b2a9e2c36","content":"LyoNCiAqIFRlc3REYXRhU3RvcmVUcmlwcy5qYXZhDQogKg0KICogQ3JlYXRl\nZCBvbiBTZXB0ZW1iZXIgMjksIDIwMDYsIDQ6NDggUE0NCiAqDQogKiBUbyBj\naGFuZ2UgdGhpcyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUg\nTWFuYWdlcg0KICogYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0\nb3IuDQogKi8NCg0KLyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29m\ndHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUg\nY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJ\nQ0UgZmlsZQ0KICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFk\nZGl0aW9uYWwgaW5mb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQg\nb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRv\nIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0\naGUNCiAqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUg\nZXhjZXB0IGluIGNvbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZ\nb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQog\nKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAN\nCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3Ig\nYWdyZWVkIHRvIGluIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRl\nZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICog\nIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElP\nTlMgT0YgQU5ZDQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVk\nLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1\nYWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAq\nIHVuZGVyIHRoZSBMaWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5rZXJuZWw7DQoNCmltcG9y\ndCBqYXZhLnV0aWwuKjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5qZGJjLmNvbW1vbi5hcHBzLio7DQoNCg0KaW1wb3J0IGph\ndmEubGFuZy5hbm5vdGF0aW9uLkFubm90YXRpb247DQppbXBvcnQganVuaXQu\nZnJhbWV3b3JrLio7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5\nTWFuYWdlcjsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5h\nZ2VyRmFjdG9yeTsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnk7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlN\nYW5hZ2VyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEk7DQppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmxpYi5qZGJjLkFic3RyYWN0SkRCQ0xpc3RlbmVy\nOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIuamRiYy5KREJDRXZl\nbnQ7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9w\nZW5KUEFFbnRpdHlNYW5hZ2VyU1BJOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247DQppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5j\nZTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNz\nTWFwcGluZzsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuRXh0ZW50Ow0KDQoNCg0KcHVibGljIGNsYXNzIFRlc3REYXRhU3RvcmVU\ncmlwcyBleHRlbmRzIEJhc2VKREJDVGVzdHsNCg0KDQovLyAgICBwcml2YXRl\nIGJvb2xlYW4gID0gdHJ1ZTsvL0Jvb2xlYW4udmFsdWVPZihib29sKTsNCgkN\nCiAgICBwcml2YXRlIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBfZmFj\ndG9yeSA9IG51bGw7DQogICAgcHJpdmF0ZSBPYmplY3QgX29pZCA9IG51bGw7\nDQogICAgcHJpdmF0ZSBTZWxlY3RDb3VudGVyIF9jb3VudGVyID0gbnVsbDsN\nCiAgICANCiAgICAvKiogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0\nRGF0YVN0b3JlVHJpcHMgKi8NCiAgICBwdWJsaWMgVGVzdERhdGFTdG9yZVRy\naXBzKCkgew0KICAgIH0NCiAgICBwdWJsaWMgVGVzdERhdGFTdG9yZVRyaXBz\nKFN0cmluZyBuYW1lKSB7DQogICAgICAgIHN1cGVyKG5hbWUpOw0KICAgIH0N\nCiAgICANCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpDQogICAgICAgIHRocm93\ncyBFeGNlcHRpb24gew0KICAgICAgIGRlbGV0ZUFsbChEYXRhU3RvcmVUcmlw\nc1BDLmNsYXNzKTsNCg0KICAgICAgICAvLyBmaWd1cmUgb3V0IHdoYXQgdGFi\nbGUgdG8gbG9vayBmb3IgaW4gU1FMIHN0YXRlbWVudHMNCiAgICAgICAgRW50\naXR5TWFuYWdlciBlbT0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAg\nICAgT3BlbkpQQUVudGl0eU1hbmFnZXIga2VtID0gT3BlbkpQQVBlcnNpc3Rl\nbmNlLmNhc3QgKGVtKTsNCiAgICAgICAgSkRCQ0NvbmZpZ3VyYXRpb24gY29u\nZiA9IChKREJDQ29uZmlndXJhdGlvbikgKChPcGVuSlBBRW50aXR5TWFuYWdl\nclNQSSkga2VtKS5nZXRDb25maWd1cmF0aW9uKCk7ICAgICAgICANCg0KICAg\nICAgICBDbGFzc01hcHBpbmcgbWFwcGluZyA9IGNvbmYuZ2V0TWFwcGluZ1Jl\ncG9zaXRvcnlJbnN0YW5jZSgpLmdldE1hcHBpbmcNCiAgICAgICAgICAgIChE\nYXRhU3RvcmVUcmlwc1BDLmNsYXNzLCBudWxsLCB0cnVlKTsNCiAgICAgICAg\nU3RyaW5nIHRhYmxlID0gY29uZi5nZXREQkRpY3Rpb25hcnlJbnN0YW5jZSgp\nDQogICAgICAgICAgICAuZ2V0RnVsbE5hbWUobWFwcGluZy5nZXRUYWJsZSgp\nLCBmYWxzZSk7DQoNCiAgICAgICAgLy8gZ2V0IGZhY3Rvcnkgd2l0aCBjb3Vu\ndGVyIGxpc3RlbmVyDQogICAgICAgIF9mYWN0b3J5ID0gZ2V0RW1mKCk7DQov\nKiAgICAgICAgICAgICAgICBnZXRQTUZhY3RvcnkobmV3IFN0cmluZ1tdew0K\nICAgICAgICAgICAgIm9wZW5qcGEuamRiYy5KREJDTGlzdGVuZXJzIiwNCiAg\nICAgICAgICAgIFNlbGVjdENvdW50ZXIuY2xhc3MuZ2V0TmFtZSgpICsgIihU\nYWJsZT0iICsgdGFibGUgKyAiKSIsDQogICAgICAgICAgICAib3BlbmpwYS5D\nb21wYXRpYmlsaXR5IiwNCiAgICAgICAgICAgICJWYWxpZGF0ZVRydWVDaGVj\na3NTdG9yZT10cnVlIg0KICAgICAgICB9KTsNCiovDQogICAgICAgIA0KICAg\nICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IF9mYWN0b3J5LmNyZWF0\nZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAg\nICAgIA0KICAgICAgICBEYXRhU3RvcmVUcmlwc1BDIHBjID0gbmV3IERhdGFT\ndG9yZVRyaXBzUEMoMCk7DQogICAgICAgIHBtLnBlcnNpc3QocGMpOw0KICAg\nICAgICBfb2lkID0gcG0uZ2V0T2JqZWN0SWQocGMpOw0KDQogICAgICAgIGZv\nciAoaW50IGkgPSAxOyBpIDwgMTA7IGkrKykNCiAgICAgICAgICAgICAgcG0u\ncGVyc2lzdChuZXcgRGF0YVN0b3JlVHJpcHNQQyhpKSk7DQogICAgICAgIGVu\nZFR4KHBtKTsNCiAgICAgICAgZW0uY2xvc2UoKTsNCg0KICAgICAgICAvLyBk\nbyBhIHF1ZXJ5IHNvIHRoYXQgdGhlIHN1YmNsYXNzIGxpc3Qgd2lsbCBnZXQg\naW5pdGlhbGl6ZWQgYW5kDQogICAgICAgIC8vIHdvbid0IGNvdW50IGFzIGEg\nc2VsZWN0DQogICAgICAgIHBtID0gX2ZhY3RvcnkuY3JlYXRlRW50aXR5TWFu\nYWdlcigpOw0KICAgICAgICBwbS5nZXRPYmplY3RJZChfb2lkKTsNCiAgICAg\nICAgcG0uY2xvc2UoKTsNCg0KICAgICAgICBfY291bnRlciA9IChTZWxlY3RD\nb3VudGVyKSAoKEpEQkNDb25maWd1cmF0aW9uKQ0KICAgICAgICAJCSgoT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKSBfZmFjdG9yeSkuZ2V0Q29u\nZmlndXJhdGlvbigpKS5nZXRKREJDTGlzdGVuZXJJbnN0YW5jZXMoKVswXTsN\nCiAgICAgICAgX2NvdW50ZXIuc2VsZWN0cyA9IDA7DQogICAgICAgIF9jb3Vu\ndGVyLmNvdW50cyA9IDA7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndFRyaXBzKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nIF9mYWN0b3J5LmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgRXh0\nZW50IGV4dCA9IHBtLmNyZWF0ZUV4dGVudChEYXRhU3RvcmVUcmlwc1BDLmNs\nYXNzLCB0cnVlKTsNCiAgICAgICAgZm9yIChJdGVyYXRvciBpdHIgPSBleHQu\naXRlcmF0b3IoKTsgaXRyLmhhc05leHQoKTspDQogICAgICAgICAgICBpdHIu\nbmV4dCgpOw0KICAgICAgICBleHQuY2xvc2VBbGwoKTsNCiAgICAgICAgcG0u\nY2xvc2UoKTsNCg0KICAgICAgICAvLyB0aGVyZSBtaWdodCBiZSBtb3JlIHRo\nYW4gMSB0cmlwIGlmIHN1YmNsYXNzZXMgbmVlZCB0byBiZQ0KICAgICAgICAv\nLyBpbml0aWFsaXplZCBhbmQgc28gZm9ydGgsIGJ1dCBtYWtlIHN1cmUgdGhl\ncmUgaXNuJ3QgbW9yZSB0aGFuDQogICAgICAgIC8vIDEgKyAjIG9iamVjdHMg\ndHJpcHMgdG8gdGhlIERCDQogICAgICAgIGFzc2VydFRydWUoX2NvdW50ZXIu\nc2VsZWN0cyA+IDApOw0KICAgICAgICBhc3NlcnRUcnVlKCJTaG91bGQgaGF2\nZSBiZWVuIDEtMyB0cmlwcyB0byB0aGUgZGF0YSBzdG9yZTsgZ290ICINCiAg\nICAgICAgICAgICsgX2NvdW50ZXIuc2VsZWN0cywgX2NvdW50ZXIuc2VsZWN0\ncyA8IDUpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RFeGlzdHND\nYWxscygpIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBf\nZmFjdG9yeS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAgICAgLy8g\nZmlyc3QgdGltZSB0aGVyZSBzaG91bGRuJ3QgYmUgYW55IGNhbGwgdG8gZXhp\nc3RzIGIvYyB0aGUgZGF0YQ0KICAgICAgICAvLyBuZWVkcyB0byBiZSBsb2Fk\nZWQNCiAgICAgICAgcG0uZ2V0T2JqZWN0SWQoX29pZCk7DQogICAgICAgIGFz\nc2VydEVxdWFscygwLCBfY291bnRlci5jb3VudHMpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoMSwgX2NvdW50ZXIuc2VsZWN0cyk7DQoNCiAgICAgICAgLy8g\ndGhpcyB0aW1lIHRoZXJlIHNob3VsZCBiZSBhIGNhbGwgYi9jIGRhdGEgaXMg\nYWxyZWFkeSBsb2FkZWQgYnV0DQogICAgICAgIC8vIHdlJ3JlIHN0aWxsIGFz\na2luZyB0byB2YWxpZGF0ZQ0KICAgICAgICBwbS5nZXRPYmplY3RJZChfb2lk\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIF9jb3VudGVyLmNvdW50cyk7\nDQogICAgICAgIGFzc2VydEVxdWFscygyLCBfY291bnRlci5zZWxlY3RzKTsN\nCiAgICAgICAgcG0uZ2V0T2JqZWN0SWQoX29pZCk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygyLCBfY291bnRlci5jb3VudHMpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMywgX2NvdW50ZXIuc2VsZWN0cyk7DQoNCiAgICAgICAgLy8gc2hv\ndWxkbid0IGJlIGEgY2FsbCBpZiB2YWxpZGF0ZSBpcyBmYWxzZTsgbm8gc2Vs\nZWN0IGIvYyBkYXRhIGxvYWRlZA0KICAgICAgICBwbS5nZXRPYmplY3RJZChf\nb2lkKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIF9jb3VudGVyLmNvdW50\ncyk7DQogICAgICAgIGFzc2VydEVxdWFscygzLCBfY291bnRlci5zZWxlY3Rz\nKTsNCg0KICAgICAgICAvLyB0aGlzIHdpbGwgaG9sbG93IHRoZSBvYmplY3QN\nCiAgICAgICAgLy9GSVhNRSBqdGhvbWFzIC4uLm5lZWQgdG8gZmluZCBhIHN1\nYnN0aXR1dGUNCiAgICAgICAgLy9wbS5jdXJyZW50VHJhbnNhY3Rpb24oKS5z\nZXRPcHRpbWlzdGljKGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQog\nICAgICAgIA0KDQogICAgICAgIC8vIG5vIGNvdW50IGNhbGwgYi9jIGxvYWRp\nbmcgZGF0YQ0KICAgICAgICBwbS5nZXRPYmplY3RJZChfb2lkKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDIsIF9jb3VudGVyLmNvdW50cyk7DQogICAgICAg\nIGFzc2VydEVxdWFscyg0LCBfY291bnRlci5zZWxlY3RzKTsNCg0KICAgICAg\nICAvLyBubyBjb3VudCBjYWxsIGIvYyB0cmFuc2FjdGlvbmFsOyBubyBzZWxl\nY3QgYi9jIGRhdGEgbG9hZGVkDQogICAgICAgIHBtLmdldE9iamVjdElkKF9v\naWQpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgX2NvdW50ZXIuY291bnRz\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDQsIF9jb3VudGVyLnNlbGVjdHMp\nOw0KDQogICAgICAgIHJvbGxiYWNrVHgocG0pOw0KICAgICAgICBwbS5jbG9z\nZSgpOw0KICAgIH0NCg0KICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgU2VsZWN0\nQ291bnRlcg0KICAgICAgICBleHRlbmRzIEFic3RyYWN0SkRCQ0xpc3RlbmVy\nIHsNCg0KICAgICAgICBwdWJsaWMgaW50IHNlbGVjdHMgPSAwOw0KICAgICAg\nICBwdWJsaWMgaW50IGNvdW50cyA9IDA7DQoNCiAgICAgICAgcHJpdmF0ZSBT\ndHJpbmcgX3RhYmxlID0gbnVsbDsNCg0KICAgICAgICBwdWJsaWMgdm9pZCBz\nZXRUYWJsZShTdHJpbmcgdGFibGUpIHsNCiAgICAgICAgICAgIF90YWJsZSA9\nIHRhYmxlOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIHZvaWQgYmVm\nb3JlRXhlY3V0ZVN0YXRlbWVudChKREJDRXZlbnQgZXZlbnQpIHsNCiAgICAg\nICAgICAgIGlmIChldmVudC5nZXRTUUwoKS5pbmRleE9mKF90YWJsZSkgIT0g\nLTEpDQogICAgICAgICAgICAgICAgc2VsZWN0cysrOw0KICAgICAgICAgICAg\new0KICAgICAgICAgICAgICAgIGlmIChldmVudC5nZXRTUUwoKS5pbmRleE9m\nKCIgQ09VTlQoIikgIT0gLTEpDQogICAgICAgICAgICAgICAgICAgIGNvdW50\ncysrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIA0K\nICAgIA0KfQ0K\n","encoding":"base64"}

