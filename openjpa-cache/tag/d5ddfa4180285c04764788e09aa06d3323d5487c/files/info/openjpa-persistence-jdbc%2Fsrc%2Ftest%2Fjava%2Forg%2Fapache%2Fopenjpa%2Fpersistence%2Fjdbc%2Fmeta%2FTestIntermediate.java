{"sha":"9e0b90827b465013a0eb9d77091b8e6c1bfd9869","node_id":"MDQ6QmxvYjIwNjM2NDo5ZTBiOTA4MjdiNDY1MDEzYTBlYjlkNzcwOTFiOGU2YzFiZmQ5ODY5","size":4354,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9e0b90827b465013a0eb9d77091b8e6c1bfd9869","content":"LyoNCiAqIFRlc3RJbnRlcm1lZGlhdGUuamF2YQ0KICoNCiAqIENyZWF0ZWQg\nb24gT2N0b2JlciAzLCAyMDA2LCAxMjowMSBQTQ0KICoNCiAqIFRvIGNoYW5n\nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5h\nZ2VyDQogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4N\nCiAqLw0KDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2Fy\nZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICogb3IgbW9yZSBjb250\ncmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBm\naWxlDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRp\nb25hbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25l\ncnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQ0KICogdG8geW91\nIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQ0K\nICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNl\ncHQgaW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBt\nYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqIGh0\ndHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoN\nCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3Jl\nZWQgdG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVu\nZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuDQogKiAiQVMg\nSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBP\nRiBBTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBT\nZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lmaWMgbGFuZ3VhZ2Ug\nZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucw0KICogdW5k\nZXIgdGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLm1ldGE7DQoNCmltcG9ydCBqYXZh\nLnV0aWwuKjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJy\nb2tlcjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJyb2tl\nckZhY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5P\ncGVuSlBBU3RhdGVNYW5hZ2VyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5tZXRhLkZpZWxkTWV0YURhdGE7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJzaXN0ZW5jZTsNCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuSlBBRmFjYWRlSGVscGVy\nOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpk\nYmMuY29tbW9uLmFwcHMuKjsNCg0KDQppbXBvcnQgamF2YS5sYW5nLmFubm90\nYXRpb24uQW5ub3RhdGlvbjsNCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsN\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5Ow0K\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nRW50aXR5TWFuYWdlckZhY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0KDQoNCnB1\nYmxpYyBjbGFzcyBUZXN0SW50ZXJtZWRpYXRlIGV4dGVuZHMgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMua2VybmVsLkJhc2VKREJDVGVz\ndA0Kew0KICAgIA0KICAgIHByaXZhdGUgT2JqZWN0IF9wYzsNCiAgICBwcml2\nYXRlIE9iamVjdCBfcmVsOw0KICAgIA0KICAgIHB1YmxpYyBUZXN0SW50ZXJt\nZWRpYXRlKFN0cmluZyB0ZXN0KSB7DQogICAgICAgIHN1cGVyKHRlc3QpOw0K\nICAgIH0NCiAgICANCiAgICAvKiogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBv\nZiBUZXN0SW50ZXJtZWRpYXRlICovDQogICAgcHVibGljIFRlc3RJbnRlcm1l\nZGlhdGUoKSB7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHNldFVw\nKCkgew0KICAgICAgICBSdW50aW1lVGVzdDEgcGMgPSBuZXcgUnVudGltZVRl\nc3QxKCJwYyIsIDEpOw0KICAgICAgICBSdW50aW1lVGVzdDEgcmVsID0gbmV3\nIFJ1bnRpbWVUZXN0MSgicmVsIiwgMik7DQogICAgICAgIHBjLnNldFNlbGZP\nbmVPbmUocmVsKTsNCiAgICAgICAgDQogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIGVtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVudGl0\neU1hbmFnZXIoKTsNCiAgICAgICAgQnJva2VyIGJyb2tlciA9IEpQQUZhY2Fk\nZUhlbHBlci50b0Jyb2tlcihlbSk7DQogICAgICAgIGJyb2tlci5iZWdpbigp\nOw0KICAgICAgICBicm9rZXIucGVyc2lzdChwYywgbnVsbCk7DQogICAgICAg\nIGJyb2tlci5jb21taXQoKTsNCiAgICAgICAgX3BjID0gYnJva2VyLmdldE9i\namVjdElkKHBjKTsNCiAgICAgICAgX3JlbCA9IGJyb2tlci5nZXRPYmplY3RJ\nZChyZWwpOw0KICAgICAgICBicm9rZXIuY2xvc2UoKTsNCiAgICAgICAgZW0u\nY2xvc2UoKTsNCiAgICB9DQogICAgDQogICAgcHVibGljIHZvaWQgdGVzdE9u\nZU9uZVNldHNJbnRlcm1lZGlhdGUoKSB7DQogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIGVtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVu\ndGl0eU1hbmFnZXIoKTsNCiAgICAgICAgQnJva2VyIGJyb2tlciA9IEpQQUZh\nY2FkZUhlbHBlci50b0Jyb2tlcihlbSk7DQogICAgICAgIHRyeSB7DQogICAg\nICAgICAgICBvbmVPbmVJbnRlcm1lZGlhdGVUZXN0KGJyb2tlcik7DQogICAg\nICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICBicm9rZXIuY2xvc2UoKTsN\nCiAgICAgICAgICAgIGVtLmNsb3NlKCk7DQogICAgICAgIH0NCiAgICB9DQog\nICAgDQogICAgcHVibGljIHZvaWQgdGVzdERhdGFDYWNoZU9uZU9uZVNldHNJ\nbnRlcm1lZGlhdGUoKSB7DQogICAgICAgIEJyb2tlckZhY3RvcnkgZmFjdG9y\neSA9IGdldEJyb2tlckZhY3RvcnkobmV3IFN0cmluZ1tdew0KICAgICAgICAg\nICAgIm9wZW5qcGEuRGF0YUNhY2hlIiwgInRydWUiLA0KICAgICAgICAgICAg\nIm9wZW5qcGEuUmVtb3RlQ29tbWl0UHJvdmlkZXIiLCAic2p2bSIsDQogICAg\nICAgIH0pOw0KICAgICAgICANCiAgICAgICAgLy8gZ2V0IG9iaiBpbnRvIGNh\nY2hlDQogICAgICAgIEJyb2tlciBicm9rZXIgPSBmYWN0b3J5Lm5ld0Jyb2tl\ncigpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgYnJva2VyLmZpbmQo\nX3BjLCB0cnVlLCBudWxsKTsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAg\nICAgICAgIGJyb2tlci5jbG9zZSgpOw0KICAgICAgICB9DQogICAgICAgIA0K\nICAgICAgICAvLyB0ZXN0IGZyb20gY2FjaGUNCiAgICAgICAgYnJva2VyID0g\nZmFjdG9yeS5uZXdCcm9rZXIoKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAg\nICAgIG9uZU9uZUludGVybWVkaWF0ZVRlc3QoYnJva2VyKTsNCiAgICAgICAg\nfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIGJyb2tlci5jbG9zZSgpOw0KICAg\nICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBmYWN0b3J5LmNsb3Nl\nKCk7DQogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAg\nICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8qKg0K\nICAgICAqIEhlbHBlciBtZXRob2QgdG8gc2VlIHRoYXQgdGhlIG9uZSB0byBv\nbmUgdXNlcyBhbiBpbnRlcm1lZGlhdGUgdmFsdWVzLg0KICAgICAqLw0KICAg\nIHByaXZhdGUgdm9pZCBvbmVPbmVJbnRlcm1lZGlhdGVUZXN0KEJyb2tlciBi\ncm9rZXIpIHsNCiAgICAgICAgUnVudGltZVRlc3QxIHBjID0gKFJ1bnRpbWVU\nZXN0MSkgYnJva2VyLmZpbmQoX3BjLCB0cnVlLCBudWxsKTsNCiAgICAgICAg\nT3BlbkpQQVN0YXRlTWFuYWdlciBzbSA9IGJyb2tlci5nZXRTdGF0ZU1hbmFn\nZXIocGMpOw0KICAgICAgICBhc3NlcnROb3ROdWxsKHNtKTsNCiAgICAgICAg\nRmllbGRNZXRhRGF0YSBmbWQgPSBzbS5nZXRNZXRhRGF0YSgpLmdldEZpZWxk\nKCJzZWxmT25lT25lIik7DQogICAgICAgIGFzc2VydE5vdE51bGwoZm1kKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKF9yZWwsIHNtLmdldEludGVybWVkaWF0\nZShmbWQuZ2V0SW5kZXgoKSkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoX3Jl\nbCwgYnJva2VyLmdldE9iamVjdElkKHBjLmdldFNlbGZPbmVPbmUoKSkpOw0K\nICAgICAgICBhc3NlcnROdWxsKHNtLmdldEludGVybWVkaWF0ZShmbWQuZ2V0\nSW5kZXgoKSkpOw0KICAgIH0NCiAgICANCiAgICANCn0NCg==\n","encoding":"base64"}

