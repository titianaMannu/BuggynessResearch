{"sha":"9830b7f9ec9051815a2f28a56653a7addafdd6b5","node_id":"MDQ6QmxvYjIwNjM2NDo5ODMwYjdmOWVjOTA1MTgxNWEyZjI4YTU2NjUzYTdhZGRhZmRkNmI1","size":5122,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9830b7f9ec9051815a2f28a56653a7addafdd6b5","content":"LyoNCiAqIFRlc3RKREJDVHlwZS5qYXZhDQogKg0KICogQ3JlYXRlZCBvbiBP\nY3RvYmVyIDMsIDIwMDYsIDQ6MTEgUE0NCiAqDQogKiBUbyBjaGFuZ2UgdGhp\ncyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFuYWdlcg0K\nICogYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0b3IuDQogKi8N\nCg0KLyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91\nbmRhdGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0\nb3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0K\nICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwg\naW5mb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlw\nLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRl\nciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJM\naWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGlu\nIGNvbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9i\ndGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8v\nd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBV\nbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRv\nIGluIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0\naGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBC\nQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5Z\nDQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRo\nZSBMaWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVy\nbmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRo\nZSBMaWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuamRiYy5tZXRhOw0KDQppbXBvcnQgamF2YS51dGls\nLio7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJD\nQ29uZmlndXJhdGlvbjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5jb25mLkpEQkNDb25maWd1cmF0aW9uSW1wbDsNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFwcGluZzsNCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLk1hcHBpbmdSZXBvc2l0b3J5\nOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuUmVmcmVz\naFN0cmF0ZWd5SW5zdGFsbGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLm1ldGEuc3RyYXRzLkJsb2JWYWx1ZUhhbmRsZXI7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5zdHJhdHMuQ2xvYlZhbHVl\nSGFuZGxlcjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRh\nLnN0cmF0cy5NYXhFbWJlZGRlZENsb2JGaWVsZFN0cmF0ZWd5Ow0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuc3RyYXRzLlN0cmluZ0Zp\nZWxkU3RyYXRlZ3k7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nc2NoZW1hLkNvbHVtbjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5zY2hlbWEuU2NoZW1hR3JvdXA7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc2NoZW1hLlRhYmxlOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnk7DQoNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5jb21tb24uYXBwcy4qOw0K\nDQoNCmltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5Bbm5vdGF0aW9uOw0K\naW1wb3J0IGp1bml0LmZyYW1ld29yay4qOw0KaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLkVudGl0eU1hbmFnZXI7DQppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3Bl\nbkpQQUVudGl0eU1hbmFnZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMubWV0YS5KYXZhU1FMVHlwZXM7DQppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuc2NoZW1hLkNvbHVtbjsNCg0KcHVibGljIGNsYXNzIFRl\nc3RKREJDVHlwZSBleHRlbmRzIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5qZGJjLmtlcm5lbC5CYXNlSkRCQ1Rlc3QNCnsNCgkNCiAgICAvKiog\nQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0SkRCQ1R5cGUgKi8NCiAg\nICBwdWJsaWMgVGVzdEpEQkNUeXBlKFN0cmluZyBuYW1lKSANCiAgICB7DQog\nICAgCXN1cGVyKG5hbWUpOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBUZXN0\ncyB0aGF0IGFwcGxpY2F0aW9uIGlkZW50aXR5IGNsYXNzZXMgYXJlIHJldHVy\nbmVkIGNvcnJlY3RseS4NCiAgICAgKi8NCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nU2NoZW1hR2VuZXJhdGlvbigpIHsNCiAgICAgICAgSkRCQ0NvbmZpZ3VyYXRp\nb24gY29uZiA9IG5ldyBKREJDQ29uZmlndXJhdGlvbkltcGwoKTsNCiAgICAg\nICAgREJEaWN0aW9uYXJ5IGRpY3QgPSBjb25mLmdldERCRGljdGlvbmFyeUlu\nc3RhbmNlKCk7DQogICAgICAgIE1hcHBpbmdSZXBvc2l0b3J5IHJlcG9zID0g\nY29uZi5nZXRNYXBwaW5nUmVwb3NpdG9yeUluc3RhbmNlKCk7DQogICAgICAg\nIHJlcG9zLnNldFN0cmF0ZWd5SW5zdGFsbGVyKG5ldyBSZWZyZXNoU3RyYXRl\nZ3lJbnN0YWxsZXIocmVwb3MpKTsNCiAgICAgICAgQ2xhc3NNYXBwaW5nIG1h\ncHBpbmcgPSByZXBvcy5nZXRNYXBwaW5nKENvbHVtbi5jbGFzcywgbnVsbCwg\ndHJ1ZSk7DQoNCiAgICAgICAgQ2xhc3MgY2xzOw0KICAgICAgICBpZiAoZGlj\ndC5nZXRQcmVmZXJyZWRUeXBlKEphdmFTUUxUeXBlcy5DTE9CKSA9PSAgSmF2\nYVNRTFR5cGVzLkNMT0IpIHsNCiAgICAgICAgICAgIGlmIChkaWN0Lm1heEVt\nYmVkZGVkQ2xvYlNpemUgPiAwKSB7DQogICAgICAgICAgICAgICAgY2xzID0g\nbWFwcGluZy5nZXRGaWVsZE1hcHBpbmcoInRvQ2xvYiIpLmdldFN0cmF0ZWd5\nKCkuDQogICAgICAgICAgICAgICAgICAgIGdldENsYXNzKCk7DQogICAgICAg\nICAgICAgICAgYXNzZXJ0VHJ1ZShjbHMuZ2V0TmFtZSgpLA0KICAgICAgICAg\nICAgICAgICAgICBNYXhFbWJlZGRlZENsb2JGaWVsZFN0cmF0ZWd5LmNsYXNz\nLmlzQXNzaWduYWJsZUZyb20oY2xzKSk7DQogICAgICAgICAgICB9IGVsc2Ug\new0KICAgICAgICAgICAgICAgIGNscyA9IG1hcHBpbmcuZ2V0RmllbGRNYXBw\naW5nKCJ0b0Nsb2IiKS5nZXRIYW5kbGVyKCkuDQogICAgICAgICAgICAgICAg\nICAgIGdldENsYXNzKCk7DQogICAgICAgICAgICAgICAgYXNzZXJ0VHJ1ZShj\nbHMuZ2V0TmFtZSgpLA0KICAgICAgICAgICAgICAgICAgICBDbG9iVmFsdWVI\nYW5kbGVyLmNsYXNzLmlzQXNzaWduYWJsZUZyb20oY2xzKSk7DQogICAgICAg\nICAgICB9DQogICAgICAgIH0gZWxzZQ0KICAgICAgICAgICAgYXNzZXJ0VHJ1\nZShtYXBwaW5nLmdldEZpZWxkTWFwcGluZygidG9DbG9iIikuZ2V0U3RyYXRl\nZ3koKQ0KICAgICAgICAgICAgICAgIGluc3RhbmNlb2YgU3RyaW5nRmllbGRT\ndHJhdGVneSk7DQoNCiAgICAgICAgY2xzID0gbWFwcGluZy5nZXRGaWVsZE1h\ncHBpbmcoInRvQmxvYiIpLmdldEhhbmRsZXIoKS5nZXRDbGFzcygpOw0KICAg\nICAgICBhc3NlcnRUcnVlKGNscy5nZXROYW1lKCksDQogICAgICAgICAgICBC\nbG9iVmFsdWVIYW5kbGVyLmNsYXNzLmlzQXNzaWduYWJsZUZyb20oY2xzKSk7\nDQoNCiAgICAgICAgU2NoZW1hR3JvdXAgc2NoZW1hID0gcmVwb3MuZ2V0U2No\nZW1hR3JvdXAoKTsNCiAgICAgICAgVGFibGUgdGFibGUgPSBzY2hlbWEuZ2V0\nU2NoZW1hcygpWzBdLmdldFRhYmxlcygpWzBdOw0KICAgICAgICBDb2x1bW5b\nXSBjb2xzID0gdGFibGUuZ2V0Q29sdW1ucygpOw0KICAgICAgICBmb3IgKGlu\ndCBpID0gMDsgaSA8IGNvbHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAg\nIGlmIChjb2xzW2ldLmdldE5hbWUoKS5lcXVhbHNJZ25vcmVDYXNlKCJpZCIp\nDQogICAgICAgICAgICAgICAgfHwgY29sc1tpXS5nZXROYW1lKCkuZXF1YWxz\nSWdub3JlQ2FzZSgidmVyc24iKQ0KICAgICAgICAgICAgICAgIHx8IGNvbHNb\naV0uZ2V0TmFtZSgpLmVxdWFsc0lnbm9yZUNhc2UoInR5cCIpKQ0KICAgICAg\nICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgaWYgKCJsb25nVG9J\nbnQiLmVxdWFsc0lnbm9yZUNhc2UoY29sc1tpXS5nZXROYW1lKCkpKQ0KICAg\nICAgICAgICAgICAgIGFzc2VydEVxdWFscyhkaWN0LmdldFByZWZlcnJlZFR5\ncGUoSmF2YVNRTFR5cGVzLklOVCksDQogICAgICAgICAgICAgICAgICAgIGNv\nbHNbaV0uZ2V0VHlwZSgpKTsNCiAgICAgICAgICAgIGVsc2UgaWYgKCJsb25n\nVG9TUUwiLmVxdWFsc0lnbm9yZUNhc2UoY29sc1tpXS5nZXROYW1lKCkpKQ0K\nICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscygidmFyY2hhciIsIGNvbHNb\naV0uZ2V0VHlwZU5hbWUoKSk7DQogICAgICAgICAgICBlbHNlIGlmICgidG9D\nbG9iIi5lcXVhbHNJZ25vcmVDYXNlKGNvbHNbaV0uZ2V0TmFtZSgpKSkNCiAg\nICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoZGljdC5nZXRQcmVmZXJyZWRU\neXBlKEphdmFTUUxUeXBlcy5DTE9CKSwNCiAgICAgICAgICAgICAgICAgICAg\nY29sc1tpXS5nZXRUeXBlKCkpOw0KICAgICAgICAgICAgZWxzZSBpZiAoInRv\nQmxvYiIuZXF1YWxzSWdub3JlQ2FzZShjb2xzW2ldLmdldE5hbWUoKSkpDQog\nICAgICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKGRpY3QuZ2V0UHJlZmVycmVk\nVHlwZShKYXZhU1FMVHlwZXMuQkxPQiksDQogICAgICAgICAgICAgICAgICAg\nIGNvbHNbaV0uZ2V0VHlwZSgpKTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAg\nICAgICAgICAgICBmYWlsKCJVbmtub3duIGNvbHVtbjoiICsgY29sc1tpXS5n\nZXROYW1lKCkpOw0KICAgICAgICB9DQogICAgfSAgICANCn0NCg==\n","encoding":"base64"}

