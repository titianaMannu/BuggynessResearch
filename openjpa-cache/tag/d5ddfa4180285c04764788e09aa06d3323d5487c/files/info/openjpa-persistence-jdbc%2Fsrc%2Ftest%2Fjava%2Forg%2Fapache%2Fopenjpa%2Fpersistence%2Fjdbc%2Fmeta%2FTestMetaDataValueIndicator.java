{"sha":"a1b7db1e67bf1f937a336d3a6976bcf391decafd","node_id":"MDQ6QmxvYjIwNjM2NDphMWI3ZGIxZTY3YmYxZjkzN2EzMzZkM2E2OTc2YmNmMzkxZGVjYWZk","size":5112,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a1b7db1e67bf1f937a336d3a6976bcf391decafd","content":"LyoNCiAqIFRlc3RNZXRhRGF0YVZhbHVlSW5kaWNhdG9yLmphdmENCiAqDQog\nKiBDcmVhdGVkIG9uIE9jdG9iZXIgNCwgMjAwNiwgMTozNSBQTQ0KICoNCiAq\nIFRvIGNoYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1w\nbGF0ZSBNYW5hZ2VyDQogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhl\nIGVkaXRvci4NCiAqLw0KDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFwYWNo\nZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICogb3Ig\nbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhl\nIE5PVElDRSBmaWxlDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBm\nb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNvcHly\naWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQ0K\nICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAy\nLjAgKHRoZQ0KICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMg\nZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGljZW5z\nZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0K\nICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNF\nLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxh\ndyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRpc3Ry\naWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFu\nDQogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09O\nRElUSU9OUyBPRiBBTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGlt\ncGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lmaWMg\nbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9u\ncw0KICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdlIG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLm1ldGE7DQoNCmlt\ncG9ydCBqYXZhLnV0aWwuKjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5tZXRhLkNsYXNzTWFwcGluZzsNCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5tZXRhLnN0cmF0cy5TdXBlcmNsYXNzRGlzY3JpbWluYXRv\nclN0cmF0ZWd5Ow0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1l\ndGEuc3RyYXRzLlZhbHVlTWFwRGlzY3JpbWluYXRvclN0cmF0ZWd5Ow0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5FeHRlbnQ7DQoN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5j\nb21tb24uYXBwcy4qOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5jb21tb24udXRpbHMuKjsNCmltcG9ydCBqYXZhLmxhbmcuYW5u\nb3RhdGlvbi5Bbm5vdGF0aW9uOw0KaW1wb3J0IGp1bml0LmZyYW1ld29yay4q\nOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7DQpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeTsNCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7DQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRp\ndHlNYW5hZ2VyRmFjdG9yeVNQSTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJTUEk7DQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFQZXJz\naXN0ZW5jZTsNCg0KDQpwdWJsaWMgY2xhc3MgVGVzdE1ldGFEYXRhVmFsdWVJ\nbmRpY2F0b3IgZXh0ZW5kcyBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuamRiYy5rZXJuZWwuQmFzZUpEQkNUZXN0DQp7ICAgIA0KICAgIHByaXZh\ndGUgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG07DQogICAgDQogICAgcHJpdmF0\nZSBDbGFzc01hcHBpbmcgZU1hcHBpbmc7DQogICAgcHJpdmF0ZSBDbGFzc01h\ncHBpbmcgZk1hcHBpbmc7DQogICAgDQogICAgcHVibGljIFRlc3RNZXRhRGF0\nYVZhbHVlSW5kaWNhdG9yKFN0cmluZyBzdHIpIHsNCiAgICAgICAgc3VwZXIo\nc3RyKTsNCiAgICB9DQogICAgDQogICAgLyoqIENyZWF0ZXMgYSBuZXcgaW5z\ndGFuY2Ugb2YgVGVzdE1ldGFEYXRhVmFsdWVJbmRpY2F0b3IgKi8NCiAgICBw\ndWJsaWMgVGVzdE1ldGFEYXRhVmFsdWVJbmRpY2F0b3IoKSB7DQogICAgfQ0K\nICAgIA0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICAvLyAj\nIyMgSSBoYXRlIHRoYXQgd2UgaGF2ZSB0byBkbyB0aGlzDQogICAgICAgIENs\nYXNzIGMgPSBNdWx0aUUuY2xhc3M7DQogICAgICAgIGMgPSBNdWx0aUYuY2xh\nc3M7DQogICAgICAgIA0KICAgICAgICBwbSA9IChPcGVuSlBBRW50aXR5TWFu\nYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICANCiAgICAg\nICAgZU1hcHBpbmcgPSAoQ2xhc3NNYXBwaW5nKSAoKE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyU1BJKSBwbSkuZ2V0Q29uZmlndXJhdGlvbigpLg0KICAgICAgICAg\nICAgICAgIGdldE1ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCkuZ2V0TWV0\nYURhdGEoTXVsdGlFLmNsYXNzLA0KICAgICAgICAgICAgICAgIHBtLmdldENs\nYXNzTG9hZGVyKCksIHRydWUpOw0KICAgICAgICBmTWFwcGluZyA9IChDbGFz\nc01hcHBpbmcpICgoT3BlbkpQQUVudGl0eU1hbmFnZXJTUEkpIHBtKS5nZXRD\nb25maWd1cmF0aW9uKCkuDQogICAgICAgICAgICAgICAgZ2V0TWV0YURhdGFS\nZXBvc2l0b3J5SW5zdGFuY2UoKS5nZXRNZXRhRGF0YShNdWx0aUYuY2xhc3Ms\nDQogICAgICAgICAgICAgICAgcG0uZ2V0Q2xhc3NMb2FkZXIoKSwgdHJ1ZSk7\nDQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkNCiAg\nICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgaWYgKHBtLmdldFRyYW5z\nYWN0aW9uKCkuaXNBY3RpdmUoKSkNCiAgICAgICAgICAgIHBtLmdldFRyYW5z\nYWN0aW9uKCkucm9sbGJhY2soKTsNCiAgICAgICAgcG0uY2xvc2UoKTsNCiAg\nICAgICAgc3VwZXIudGVhckRvd24oKTsNCiAgICB9DQogICAgDQogICAgcHVi\nbGljIHZvaWQgdGVzdE1ldGFEYXRhKCkgew0KICAgICAgICBhc3NlcnRFcXVh\nbHMoVmFsdWVNYXBEaXNjcmltaW5hdG9yU3RyYXRlZ3kuY2xhc3MsDQogICAg\nICAgICAgICAgICAgZU1hcHBpbmcuZ2V0RGlzY3JpbWluYXRvcigpLmdldFN0\ncmF0ZWd5KCkuZ2V0Q2xhc3MoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhT\ndXBlcmNsYXNzRGlzY3JpbWluYXRvclN0cmF0ZWd5LmNsYXNzLA0KICAgICAg\nICAgICAgICAgIGZNYXBwaW5nLmdldERpc2NyaW1pbmF0b3IoKS5nZXRTdHJh\ndGVneSgpLmdldENsYXNzKCkpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0T3BlcmF0aW9ucygpIHsNCiAgICAgICBkZWxldGVBbGwoTXVs\ndGlFLmNsYXNzKTsNCiAgICAgICAgDQogICAgICAgIHBtID0gKE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAg\nIHBtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsNCiAgICAgICAgDQogICAg\nICAgIE11bHRpRSBlID0gbmV3IE11bHRpRSgpOw0KICAgICAgICBlLnNldFN0\ncmluZzAoImZvbyIpOw0KICAgICAgICBwbS5wZXJzaXN0KGUpOw0KICAgICAg\nICANCiAgICAgICAgTXVsdGlGIGYgPSBuZXcgTXVsdGlGKCk7DQogICAgICAg\nIGYuc2V0U3RyaW5nMCgiYmFyIik7DQogICAgICAgIHBtLnBlcnNpc3QoZik7\nDQogICAgICAgIA0KICAgICAgICBwbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOw0KICAgICAgICANCiAgICAgICAgcG0gPSAoT3BlbkpQQUVudGl0eU1h\nbmFnZXIpY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgLy9GSVhN\nRSBqdGhvbWFzDQogICAgICAgIC8qIENhbnQgZmluZCBlcXVpdmFsZW50IG9m\nIGdldEV4dGVudCgpDQogICAgICAgIGFzc2VydEVxdWFscygyLCBjb3VudEV4\ndGVudChwbS5nZXRFeHRlbnQoTXVsdGlFLmNsYXNzLCB0cnVlKSkpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoMSwgY291bnRFeHRlbnQocG0uZ2V0RXh0ZW50\nKE11bHRpRS5jbGFzcywgZmFsc2UpKSk7DQogICAgICAgIGFzc2VydEVxdWFs\ncygxLCBjb3VudEV4dGVudChwbS5nZXRFeHRlbnQoTXVsdGlGLmNsYXNzLCB0\ncnVlKSkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgY291bnRFeHRlbnQo\ncG0uZ2V0RXh0ZW50KE11bHRpRi5jbGFzcywgZmFsc2UpKSk7DQogICAgICAg\nICANCiAgICAgICAgT2JqZWN0IG9pZCA9IHBtLmdldE9iamVjdElkDQogICAg\nICAgICAgICAocG0uZ2V0RXh0ZW50KE11bHRpRS5jbGFzcywgdHJ1ZSkuaXRl\ncmF0b3IoKS5uZXh0KCkpOw0KICAgICAgICAgKi8NCiAgICAgICAgLy9GSVhN\nRSByZW1vdmUgdGhlIG5leHQgbGluZSBvbmNlIHRoZSBhYm92ZSBibG9jayBp\ncyBmaXhlZA0KICAgICAgICBPYmplY3Qgb2lkID1udWxsOw0KICAgICAgICBw\nbSA9IChPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdl\ncigpOw0KICAgICAgICBhc3NlcnROb3ROdWxsKHBtLmdldE9iamVjdElkKG9p\nZCkpOw0KICAgICAgICBwbS5jbG9zZSgpOw0KICAgICAgICANCiAgICAgICAg\ncG0gPSAoT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChwbS5nZXRPYmplY3RJZChv\naWQpKTsNCiAgICB9DQogICAgDQogICAgcHJpdmF0ZSBpbnQgY291bnRFeHRl\nbnQoRXh0ZW50IGUpIHsNCiAgICAgICAgaW50IGNvdW50ID0gMDsNCiAgICAg\nICAgZm9yIChJdGVyYXRvciBpdGVyID0gZS5pdGVyYXRvcigpOyBpdGVyLmhh\nc05leHQoKTspIHsNCiAgICAgICAgICAgIGl0ZXIubmV4dCgpOw0KICAgICAg\nICAgICAgY291bnQrKzsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gY291\nbnQ7DQogICAgfQ0KICAgIA0KICAgIA0KfQ0K\n","encoding":"base64"}

