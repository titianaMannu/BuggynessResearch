{"sha":"efb25ce4bb74f42bf4b47e18c2d17a186058a718","node_id":"MDQ6QmxvYjIwNjM2NDplZmIyNWNlNGJiNzRmNDJiZjRiNDdlMThjMmQxN2ExODYwNThhNzE4","size":9990,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/efb25ce4bb74f42bf4b47e18c2d17a186058a718","content":"LyoNCiAqIFRlc3RTdWJjbGFzc0pvaW5FeHRlbnQuamF2YQ0KICoNCiAqIENy\nZWF0ZWQgb24gT2N0b2JlciA1LCAyMDA2LCAzOjQxIFBNDQogKg0KICogVG8g\nY2hhbmdlIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRl\nIE1hbmFnZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRp\ndG9yLg0KICovDQoNCi8qDQogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNv\nZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lDQogKiBvciBtb3Jl\nIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9U\nSUNFIGZpbGUNCiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBh\nZGRpdGlvbmFsIGluZm9ybWF0aW9uDQogKiByZWdhcmRpbmcgY29weXJpZ2h0\nIG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlDQogKiB0\nbyB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAo\ndGhlDQogKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxl\nIGV4Y2VwdCBpbiBjb21wbGlhbmNlDQogKiB3aXRoIHRoZSBMaWNlbnNlLiAg\nWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0K\nICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w\nDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9y\nIGFncmVlZCB0byBpbiB3cml0aW5nLA0KICogc29mdHdhcmUgZGlzdHJpYnV0\nZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4NCiAq\nICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJ\nT05TIE9GIEFOWQ0KICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGll\nZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlDQogKiBzcGVjaWZpYyBsYW5n\ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zDQog\nKiB1bmRlciB0aGUgTGljZW5zZS4gICAgDQogKi8NCnBhY2thZ2Ugb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMubWV0YS52ZXJ0aWNhbDsN\nCg0KaW1wb3J0IGphdmEudXRpbC4qOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsNCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuSm9pbjsNCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuRXh0ZW50Ow0KDQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMuY29tbW9uLmFw\ncHMuKjsNCg0KDQppbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uQW5ub3Rh\ndGlvbjsNCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsNCmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5Ow0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0KDQoNCnB1YmxpYyBjbGFzcyBU\nZXN0U3ViY2xhc3NKb2luRXh0ZW50DQogICAgICAgIGV4dGVuZHMgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMua2VybmVsLlRlc3RTUUxM\naXN0ZW5lclRlc3RDYXNlew0KICAgDQogICAgcHJpdmF0ZSBTdHJpbmcgX291\ndGVyID0gIk9VVEVSIjsNCiAgICANCiAgICAvKiogQ3JlYXRlcyBhIG5ldyBp\nbnN0YW5jZSBvZiBUZXN0U3ViY2xhc3NKb2luRXh0ZW50ICovDQogICAgcHVi\nbGljIFRlc3RTdWJjbGFzc0pvaW5FeHRlbnQoU3RyaW5nIG5hbWUpIA0KICAg\nIHsNCiAgICAJc3VwZXIobmFtZSk7DQogICAgfQ0KICAgIA0KICAgIHB1Ymxp\nYyBib29sZWFuIHNraXBUZXN0KCkgew0KICAgICAgICAvL0ZJWE1FDQogICAg\nICAgIC8qDQogICAgICAgIHJldHVybiBzdXBlci5za2lwVGVzdCgpDQogICAg\nICAgICAgICB8fCAoKEpEQkNDb25maWd1cmF0aW9uKSBnZXRDb25maWd1cmF0\naW9uKCkpLg0KICAgICAgICAgICAgZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2Uo\nKS5qb2luU3ludGF4ID09IEpvaW4uU1lOVEFYX1RSQURJVElPTkFMOw0KICAg\nICAgICAgKi8NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICAN\nCiAgICBwdWJsaWMgdm9pZCBzZXRVcFRlc3RDYXNlKCkgew0KICAgICAgICAv\nLyBtYWtlIHN1cmUgYWxsIGNsYXNzZXMgYXJlIHJlZ2lzdGVyZWQNCiAgICAg\nICAgQ2xhc3NbXSByZWcgPSBuZXcgQ2xhc3NbXXsNCiAgICAgICAgICAgIEJh\nc2UuY2xhc3MsIEJhc2VTdWIxLmNsYXNzLCBCYXNlU3ViMi5jbGFzcywNCiAg\nICAgICAgICAgIEJhc2VTdWIxU3ViMS5jbGFzcywgQmFzZVN1YjFTdWIyLmNs\nYXNzLA0KICAgICAgICB9Ow0KICAgICAgICANCiAgICAgICAgaWYgKCgoSkRC\nQ0NvbmZpZ3VyYXRpb24pIGdldENvbmZpZ3VyYXRpb24oKSkuZ2V0REJEaWN0\naW9uYXJ5SW5zdGFuY2UoKS4NCiAgICAgICAgICAgICAgICBqb2luU3ludGF4\nID09IEpvaW4uU1lOVEFYX0RBVEFCQVNFKQ0KICAgICAgICAgICAgX291dGVy\nID0gIigrKSI7DQogICAgICAgIA0KICAgICAgIGRlbGV0ZUFsbChCYXNlLmNs\nYXNzKTsNCiAgICAgICAgDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsNCiAgICAgICAgc3RhcnRUeChwbSk7Ow0KICAgICAgICBCYXNlIGJh\nc2UgPSBuZXcgQmFzZSgpOw0KICAgICAgICBiYXNlLnNldEJhc2VGaWVsZCgx\nKTsNCiAgICAgICAgcG0ucGVyc2lzdChiYXNlKTsNCiAgICAgICAgDQogICAg\nICAgIEJhc2VTdWIxIHN1YjEgPSBuZXcgQmFzZVN1YjEoKTsNCiAgICAgICAg\nc3ViMS5zZXRCYXNlRmllbGQoMik7DQogICAgICAgIHN1YjEuc2V0QmFzZVN1\nYjFGaWVsZCgzKTsNCiAgICAgICAgcG0ucGVyc2lzdChzdWIxKTsNCiAgICAg\nICAgDQogICAgICAgIEJhc2VTdWIyIHN1YjIgPSBuZXcgQmFzZVN1YjIoKTsN\nCiAgICAgICAgc3ViMi5zZXRCYXNlRmllbGQoMyk7DQogICAgICAgIHN1YjIu\nc2V0QmFzZVN1YjJGaWVsZCg0KTsNCiAgICAgICAgcG0ucGVyc2lzdChzdWIy\nKTsNCiAgICAgICAgDQogICAgICAgIEJhc2VTdWIxU3ViMiBzdWIxc3ViMiA9\nIG5ldyBCYXNlU3ViMVN1YjIoKTsNCiAgICAgICAgc3ViMXN1YjIuc2V0QmFz\nZUZpZWxkKDQpOw0KICAgICAgICBzdWIxc3ViMi5zZXRCYXNlU3ViMUZpZWxk\nKDUpOw0KICAgICAgICBzdWIxc3ViMi5zZXRCYXNlU3ViMVN1YjJGaWVsZCg2\nKTsNCiAgICAgICAgcG0ucGVyc2lzdChzdWIxc3ViMik7DQogICAgICAgIA0K\nICAgICAgICBlbmRUeChwbSk7Ow0KICAgICAgICBwbS5jbG9zZSgpOw0KICAg\nIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0QmFzZU5vU3VicygpDQog\nICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVudGl0\neU1hbmFnZXIoKTsNCiAgICAgICAgRXh0ZW50IGV4dGVudCA9IHBtLmNyZWF0\nZUV4dGVudChCYXNlLmNsYXNzLCBmYWxzZSk7DQogICAgICAgIEl0ZXJhdG9y\nIGl0ciA9IGV4dGVudC5pdGVyYXRvcigpOw0KICAgICAgICBhc3NlcnRUcnVl\nKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBCYXNlIHBjID0gKEJhc2UpIGl0\nci5uZXh0KCk7DQogICAgICAgIGFzc2VydEVxdWFscygxLCBwYy5nZXRCYXNl\nRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhCYXNlLmNsYXNzLCBw\nYy5nZXRDbGFzcygpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZSghaXRyLmhhc05l\neHQoKSk7DQogICAgICAgIGV4dGVudC5jbG9zZUFsbCgpOw0KICAgICAgICBw\nbS5jbG9zZSgpOw0KICAgICAgICANCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\nIHNxbC5zaXplKCkpOw0KICAgICAgICBhc3NlcnRTUUwoX291dGVyKTsNCiAg\nICB9DQogICAgDQogICAgcHVibGljIHZvaWQgdGVzdEJhc2VXaXRoU3Vicygp\nDQogICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyIHBtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVu\ndGl0eU1hbmFnZXIoKTsNCiAgICAgICAgRXh0ZW50IGV4dGVudCA9IHBtLmNy\nZWF0ZUV4dGVudChCYXNlLmNsYXNzLCB0cnVlKTsNCiAgICAgICAgQ29sbGVj\ndGlvbiBwY3MgPSBuZXcgVHJlZVNldCgoKEV4dGVudCkgZXh0ZW50KS5saXN0\nKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNCwgcGNzLnNpemUoKSk7DQog\nICAgICAgIEl0ZXJhdG9yIGl0ciA9IHBjcy5pdGVyYXRvcigpOw0KICAgICAg\nICBmb3IgKGludCBpID0gMDsgaSA8IDQ7IGkrKykgew0KICAgICAgICAgICAg\nQmFzZSBwYyA9IChCYXNlKSBpdHIubmV4dCgpOw0KICAgICAgICAgICAgYXNz\nZXJ0RXF1YWxzKGkgKyAxLCBwYy5nZXRCYXNlRmllbGQoKSk7DQogICAgICAg\nICAgICBzd2l0Y2ggKGkpIHsNCiAgICAgICAgICAgICAgICBjYXNlIDA6DQog\nICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscyhCYXNlLmNsYXNzLCBw\nYy5nZXRDbGFzcygpKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQog\nICAgICAgICAgICAgICAgY2FzZSAxOg0KICAgICAgICAgICAgICAgICAgICBh\nc3NlcnRFcXVhbHMoQmFzZVN1YjEuY2xhc3MsIHBjLmdldENsYXNzKCkpOw0K\nICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBj\nYXNlIDI6DQogICAgICAgICAgICAgICAgICAgIGFzc2VydEVxdWFscyhCYXNl\nU3ViMi5jbGFzcywgcGMuZ2V0Q2xhc3MoKSk7DQogICAgICAgICAgICAgICAg\nICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgMzoNCiAgICAgICAg\nICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKEJhc2VTdWIxU3ViMi5jbGFzcywg\ncGMuZ2V0Q2xhc3MoKSk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0K\nICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHBtLmNsb3NlKCk7\nDQogICAgICAgIA0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUo\nKSk7DQogICAgICAgIGFzc2VydFNRTChfb3V0ZXIpOw0KICAgIH0NCiAgICAN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1wdHlOb1N1YnMoKQ0KICAgIHRocm93\ncyBFeGNlcHRpb24gew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBw\nbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2Vy\nKCk7DQogICAgICAgIEV4dGVudCBleHRlbnQgPSBwbS5jcmVhdGVFeHRlbnQo\nQmFzZVN1YjFTdWIxLmNsYXNzLCBmYWxzZSk7DQogICAgICAgIEl0ZXJhdG9y\nIGl0ciA9IGV4dGVudC5pdGVyYXRvcigpOw0KICAgICAgICBhc3NlcnRUcnVl\nKCFpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgZXh0ZW50LmNsb3NlQWxsKCk7\nDQogICAgICAgIHBtLmNsb3NlKCk7DQogICAgICAgIGFzc2VydE5vdFNRTChf\nb3V0ZXIpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0RW1w\ndHlXaXRoU3VicygpDQogICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0oT3BlbkpQQUVudGl0eU1hbmFn\nZXIpY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgRXh0ZW50IGV4\ndGVudCA9IHBtLmNyZWF0ZUV4dGVudChCYXNlU3ViMVN1YjEuY2xhc3MsIHRy\ndWUpOw0KICAgICAgICBJdGVyYXRvciBpdHIgPSBleHRlbnQuaXRlcmF0b3Io\nKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZSghaXRyLmhhc05leHQoKSk7DQogICAg\nICAgIGV4dGVudC5jbG9zZUFsbCgpOw0KICAgICAgICBwbS5jbG9zZSgpOw0K\nICAgICAgICBhc3NlcnROb3RTUUwoX291dGVyKTsNCiAgICB9DQogICAgDQog\nICAgcHVibGljIHZvaWQgdGVzdExlYWZOb1N1YnMoKQ0KICAgIHRocm93cyBF\neGNlcHRpb24gew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nDQogICAgICAgIEV4dGVudCBleHRlbnQgPSBwbS5jcmVhdGVFeHRlbnQoQmFz\nZVN1YjFTdWIyLmNsYXNzLCBmYWxzZSk7DQogICAgICAgIEl0ZXJhdG9yIGl0\nciA9IGV4dGVudC5pdGVyYXRvcigpOw0KICAgICAgICBhc3NlcnRUcnVlKGl0\nci5oYXNOZXh0KCkpOw0KICAgICAgICBCYXNlU3ViMVN1YjIgcGMgPSAoQmFz\nZVN1YjFTdWIyKSBpdHIubmV4dCgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\nNCwgcGMuZ2V0QmFzZUZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\nNSwgcGMuZ2V0QmFzZVN1YjFGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDYsIHBjLmdldEJhc2VTdWIxU3ViMkZpZWxkKCkpOw0KICAgICAgICBh\nc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgZXh0ZW50LmNs\nb3NlQWxsKCk7DQogICAgICAgIHBtLmNsb3NlKCk7DQogICAgICAgIA0KICAg\nICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAgIGFz\nc2VydE5vdFNRTChfb3V0ZXIpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0TGVhZldpdGhTdWJzKCkNCiAgICB0aHJvd3MgRXhjZXB0aW9u\nIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBB\nRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAg\nICBFeHRlbnQgZXh0ZW50ID0gcG0uY3JlYXRlRXh0ZW50KEJhc2VTdWIxU3Vi\nMi5jbGFzcywgdHJ1ZSk7DQogICAgICAgIEl0ZXJhdG9yIGl0ciA9IGV4dGVu\ndC5pdGVyYXRvcigpOw0KICAgICAgICBhc3NlcnRUcnVlKGl0ci5oYXNOZXh0\nKCkpOw0KICAgICAgICBCYXNlU3ViMVN1YjIgcGMgPSAoQmFzZVN1YjFTdWIy\nKSBpdHIubmV4dCgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNCwgcGMuZ2V0\nQmFzZUZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNSwgcGMuZ2V0\nQmFzZVN1YjFGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDYsIHBj\nLmdldEJhc2VTdWIxU3ViMkZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRUcnVl\nKCFpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgZXh0ZW50LmNsb3NlQWxsKCk7\nDQogICAgICAgIHBtLmNsb3NlKCk7DQogICAgICAgIA0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAgIGFzc2VydE5vdFNR\nTChfb3V0ZXIpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nTGVhZk5vU3ViczIoKQ0KICAgIHRocm93cyBFeGNlcHRpb24gew0KICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIEV4dGVudCBl\neHRlbnQgPSBwbS5jcmVhdGVFeHRlbnQoQmFzZVN1YjIuY2xhc3MsIGZhbHNl\nKTsNCiAgICAgICAgSXRlcmF0b3IgaXRyID0gZXh0ZW50Lml0ZXJhdG9yKCk7\nDQogICAgICAgIGFzc2VydFRydWUoaXRyLmhhc05leHQoKSk7DQogICAgICAg\nIEJhc2VTdWIyIHBjID0gKEJhc2VTdWIyKSBpdHIubmV4dCgpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoMywgcGMuZ2V0QmFzZUZpZWxkKCkpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoNCwgcGMuZ2V0QmFzZVN1YjJGaWVsZCgpKTsNCiAg\nICAgICAgYXNzZXJ0VHJ1ZSghaXRyLmhhc05leHQoKSk7DQogICAgICAgIGV4\ndGVudC5jbG9zZUFsbCgpOw0KICAgICAgICBwbS5jbG9zZSgpOw0KICAgICAg\nICANCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOw0KICAg\nICAgICBhc3NlcnROb3RTUUwoX291dGVyKTsNCiAgICB9DQogICAgDQogICAg\ncHVibGljIHZvaWQgdGVzdExlYWZXaXRoU3ViczIoKQ0KICAgIHRocm93cyBF\neGNlcHRpb24gew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nDQogICAgICAgIEV4dGVudCBleHRlbnQgPSBwbS5jcmVhdGVFeHRlbnQoQmFz\nZVN1YjIuY2xhc3MsIHRydWUpOw0KICAgICAgICBJdGVyYXRvciBpdHIgPSBl\neHRlbnQuaXRlcmF0b3IoKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShpdHIuaGFz\nTmV4dCgpKTsNCiAgICAgICAgQmFzZVN1YjIgcGMgPSAoQmFzZVN1YjIpIGl0\nci5uZXh0KCk7DQogICAgICAgIGFzc2VydEVxdWFscygzLCBwYy5nZXRCYXNl\nRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyg0LCBwYy5nZXRCYXNl\nU3ViMkZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4\ndCgpKTsNCiAgICAgICAgZXh0ZW50LmNsb3NlQWxsKCk7DQogICAgICAgIHBt\nLmNsb3NlKCk7DQogICAgICAgIA0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwg\nc3FsLnNpemUoKSk7DQogICAgICAgIGFzc2VydE5vdFNRTChfb3V0ZXIpOw0K\nICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWlkTm9TdWJzKCkN\nCiAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50\naXR5TWFuYWdlcigpOw0KICAgICAgICBFeHRlbnQgZXh0ZW50ID0gcG0uY3Jl\nYXRlRXh0ZW50KEJhc2VTdWIxLmNsYXNzLCBmYWxzZSk7DQogICAgICAgIEl0\nZXJhdG9yIGl0ciA9IGV4dGVudC5pdGVyYXRvcigpOw0KICAgICAgICBhc3Nl\ncnRUcnVlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBCYXNlU3ViMSBwYyA9\nIChCYXNlU3ViMSkgaXRyLm5leHQoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDIsIHBjLmdldEJhc2VGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDMsIHBjLmdldEJhc2VTdWIxRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVx\ndWFscyhCYXNlU3ViMS5jbGFzcywgcGMuZ2V0Q2xhc3MoKSk7DQogICAgICAg\nIGFzc2VydFRydWUoIWl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBleHRlbnQu\nY2xvc2VBbGwoKTsNCiAgICAgICAgcG0uY2xvc2UoKTsNCiAgICAgICAgDQog\nICAgICAgIGFzc2VydEVxdWFscygxLCBzcWwuc2l6ZSgpKTsNCiAgICAgICAg\nYXNzZXJ0U1FMKF9vdXRlcik7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2\nb2lkIHRlc3RNaWRXaXRoU3VicygpDQogICAgdGhyb3dzIEV4Y2VwdGlvbiB7\nDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0oT3BlbkpQQUVu\ndGl0eU1hbmFnZXIpY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAg\nRXh0ZW50IGV4dGVudCA9IHBtLmNyZWF0ZUV4dGVudChCYXNlU3ViMS5jbGFz\ncywgdHJ1ZSk7DQogICAgICAgIENvbGxlY3Rpb24gcGNzID0gbmV3IFRyZWVT\nZXQoKChFeHRlbnQpIGV4dGVudCkubGlzdCgpKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDIsIHBjcy5zaXplKCkpOw0KICAgICAgICBJdGVyYXRvciBpdHIg\nPSBwY3MuaXRlcmF0b3IoKTsNCiAgICAgICAgQmFzZVN1YjEgcGMgPSAoQmFz\nZVN1YjEpIGl0ci5uZXh0KCk7DQogICAgICAgIGFzc2VydEVxdWFscygyLCBw\nYy5nZXRCYXNlRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygzLCBw\nYy5nZXRCYXNlU3ViMUZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\nQmFzZVN1YjEuY2xhc3MsIHBjLmdldENsYXNzKCkpOw0KICAgICAgICBwYyA9\nIChCYXNlU3ViMSkgaXRyLm5leHQoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDQsIHBjLmdldEJhc2VGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDUsIHBjLmdldEJhc2VTdWIxRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVx\ndWFscyhCYXNlU3ViMVN1YjIuY2xhc3MsIHBjLmdldENsYXNzKCkpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoNiwgKChCYXNlU3ViMVN1YjIpIHBjKS5nZXRC\nYXNlU3ViMVN1YjJGaWVsZCgpKTsNCiAgICAgICAgcG0uY2xvc2UoKTsNCiAg\nICAgICAgDQogICAgICAgIGFzc2VydEVxdWFscygxLCBzcWwuc2l6ZSgpKTsN\nCiAgICAgICAgYXNzZXJ0U1FMKF9vdXRlcik7DQogICAgfQ0KICAgIA0KfQ0K\n","encoding":"base64"}

