{"sha":"bdd2973fb17764067c9833cf3ba35dc67b94e158","node_id":"MDQ6QmxvYjIwNjM2NDpiZGQyOTczZmIxNzc2NDA2N2M5ODMzY2YzYmEzNWRjNjdiOTRlMTU4","size":7467,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bdd2973fb17764067c9833cf3ba35dc67b94e158","content":"LyoNCiAqIFRlc3RTdWJjbGFzc0pvaW5HZXRPYmplY3RCeUlkLmphdmENCiAq\nDQogKiBDcmVhdGVkIG9uIE9jdG9iZXIgNSwgMjAwNiwgMzo1NSBQTQ0KICoN\nCiAqIFRvIGNoYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBU\nZW1wbGF0ZSBNYW5hZ2VyDQogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4g\ndGhlIGVkaXRvci4NCiAqLw0KDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFw\nYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICog\nb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUg\ndGhlIE5PVElDRSBmaWxlDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29y\nayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNv\ncHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmls\nZQ0KICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lv\nbiAyLjAgKHRoZQ0KICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRo\naXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGlj\nZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBh\ndA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF\nTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxl\nIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRp\nc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9u\nIGFuDQogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1Ig\nQ09ORElUSU9OUyBPRiBBTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9y\nIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lm\naWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0\naW9ucw0KICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdl\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLm1ldGEudmVy\ndGljYWw7DQoNCmltcG9ydCBqYXZhLnV0aWwuKjsNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuamRiYy5jb25mLkpEQkNDb25maWd1cmF0aW9uOw0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5Kb2luOw0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLklkOw0KDQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMuY29tbW9uLmFwcHMuKjsN\nCg0KDQppbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uQW5ub3RhdGlvbjsN\nCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsNCmltcG9ydCBqYXZheC5wZXJz\naXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5Ow0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9w\nZW5KUEFFbnRpdHlNYW5hZ2VyOw0KDQoNCnB1YmxpYyBjbGFzcyBUZXN0U3Vi\nY2xhc3NKb2luR2V0T2JqZWN0QnlJZA0KICAgICAgICBleHRlbmRzIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmtlcm5lbC5UZXN0U1FM\nTGlzdGVuZXJUZXN0Q2FzZXsNCiAgICANCg0KICAgIHByaXZhdGUgU3RyaW5n\nIF9vdXRlciA9ICJPVVRFUiI7DQogICAgDQogICAgLyoqIENyZWF0ZXMgYSBu\nZXcgaW5zdGFuY2Ugb2YgVGVzdFN1YmNsYXNzSm9pbkdldE9iamVjdEJ5SWQg\nKi8NCiAgICBwdWJsaWMgVGVzdFN1YmNsYXNzSm9pbkdldE9iamVjdEJ5SWQo\nU3RyaW5nIG5hbWUpIA0KICAgIHsNCiAgICAJc3VwZXIobmFtZSk7DQogICAg\nfQ0KICAgIA0KICAgIA0KICAgIHB1YmxpYyBib29sZWFuIHNraXBUZXN0KCkg\new0KICAgICAgICAvL0ZJWE1FDQogICAgICAgIC8qDQogICAgICAgIHJldHVy\nbiBzdXBlci5za2lwVGVzdCgpDQogICAgICAgICAgICB8fCAoKEpEQkNDb25m\naWd1cmF0aW9uKSBnZXRDb25maWd1cmF0aW9uKCkpLg0KICAgICAgICAgICAg\nZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKS5qb2luU3ludGF4ID09IEpvaW4u\nU1lOVEFYX1RSQURJVElPTkFMOw0KICAgICAgICAgKi8NCiAgICAgICAgcmV0\ndXJuIGZhbHNlOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCBzZXRV\ncFRlc3RDYXNlKCkgew0KICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIGNsYXNz\nZXMgYXJlIHJlZ2lzdGVyZWQNCiAgICAgICAgQ2xhc3NbXSByZWcgPSBuZXcg\nQ2xhc3NbXXsNCiAgICAgICAgICAgIEJhc2UuY2xhc3MsIEJhc2VTdWIxLmNs\nYXNzLCBCYXNlU3ViMi5jbGFzcywNCiAgICAgICAgICAgIEJhc2VTdWIxU3Vi\nMS5jbGFzcywgQmFzZVN1YjFTdWIyLmNsYXNzLA0KICAgICAgICB9Ow0KICAg\nICAgICANCiAgICAgICAgaWYgKCgoSkRCQ0NvbmZpZ3VyYXRpb24pIGdldENv\nbmZpZ3VyYXRpb24oKSkuZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKS4NCiAg\nICAgICAgICAgICAgICBqb2luU3ludGF4ID09IEpvaW4uU1lOVEFYX0RBVEFC\nQVNFKQ0KICAgICAgICAgICAgX291dGVyID0gIigrKSI7DQogICAgICAgIA0K\nICAgICAgIGRlbGV0ZUFsbChCYXNlLmNsYXNzKTsNCiAgICB9DQogICAgDQog\nICAgcHVibGljIHZvaWQgdGVzdEJhc2UoKQ0KICAgIHRocm93cyBFeGNlcHRp\nb24gew0KICAgICAgICBCYXNlIHBjID0gbmV3IEJhc2UoKTsNCiAgICAgICAg\ncGMuc2V0QmFzZUZpZWxkKDEpOw0KICAgICAgICBPYmplY3Qgb2lkID0gcGVy\nc2lzdChwYyk7DQogICAgICAgIHNxbC5jbGVhcigpOw0KICAgICAgICANCiAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5\nTWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICANCiAg\nICAgICAgcGMgPSAoQmFzZSkgcG0uZ2V0T2JqZWN0SWQob2lkKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIHBjLmdldEJhc2VGaWVsZCgpKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKEJhc2UuY2xhc3MsIHBjLmdldENsYXNzKCkpOw0K\nICAgICAgICBwbS5jbG9zZSgpOw0KICAgICAgICANCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAgICBhc3NlcnROb3RTUUwo\nX291dGVyKTsNCiAgICAgICAgc3FsLmNsZWFyKCk7DQogICAgICAgIA0KICAg\nICAgICAvLyBzaG91bGQgb3V0ZXIgam9pbiB3aXRoIG5vbi1leGFjdCBvaWQN\nCiAgICAgICAgb2lkID0gbmV3IElkKEJhc2UuY2xhc3MsICgoSWQpIG9pZCku\nZ2V0SWQoKSk7DQogICAgICAgIHBtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHBjID0gKEJhc2Up\nIHBtLmdldE9iamVjdElkKG9pZCk7DQogICAgICAgIGFzc2VydEVxdWFscygx\nLCBwYy5nZXRCYXNlRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhC\nYXNlLmNsYXNzLCBwYy5nZXRDbGFzcygpKTsNCiAgICAgICAgcG0uY2xvc2Uo\nKTsNCiAgICAgICAgDQogICAgICAgIGFzc2VydEVxdWFscygxLCBzcWwuc2l6\nZSgpKTsNCiAgICAgICAgYXNzZXJ0U1FMKF9vdXRlcik7DQogICAgfQ0KICAg\nIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RCYWRJZCgpDQogICAgdGhyb3dzIEV4\nY2VwdGlvbiB7DQogICAgICAgIEJhc2UgcGMgPSBuZXcgQmFzZSgpOw0KICAg\nICAgICBwYy5zZXRCYXNlRmllbGQoMSk7DQogICAgICAgIE9iamVjdCBvaWQg\nPSBwZXJzaXN0KHBjKTsNCiAgICAgICAgc3FsLmNsZWFyKCk7DQogICAgICAg\nIA0KICAgICAgICBJZCBpZCA9IG5ldyBJZChCYXNlLmNsYXNzLCAtMSk7DQog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0oT3BlbkpQQUVudGl0\neU1hbmFnZXIpY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgdHJ5\nIHsNCiAgICAgICAgICAgIHBtLmdldE9iamVjdElkKGlkKTsNCiAgICAgICAg\nICAgIGZhaWwoIk5vIGV4Y2VwdGlvbiBvbiBiYWQgaWQuIik7DQogICAgICAg\nIH0gY2F0Y2ggKEV4Y2VwdGlvbiBqb25mZSkgew0KICAgICAgICB9DQogICAg\nICAgIHBtLmNsb3NlKCk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lk\nIHRlc3RMZWFmKCkNCiAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAg\nQmFzZVN1YjFTdWIyIHBjID0gbmV3IEJhc2VTdWIxU3ViMigpOw0KICAgICAg\nICBwYy5zZXRCYXNlRmllbGQoNCk7DQogICAgICAgIHBjLnNldEJhc2VTdWIx\nRmllbGQoNSk7DQogICAgICAgIHBjLnNldEJhc2VTdWIxU3ViMkZpZWxkKDYp\nOw0KICAgICAgICBPYmplY3Qgb2lkID0gcGVyc2lzdChwYyk7DQogICAgICAg\nIHNxbC5jbGVhcigpOw0KICAgICAgICANCiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50\naXR5TWFuYWdlcigpOw0KICAgICAgICBwYyA9IChCYXNlU3ViMVN1YjIpIHBt\nLmdldE9iamVjdElkKG9pZCk7DQogICAgICAgIGFzc2VydEVxdWFscyg0LCBw\nYy5nZXRCYXNlRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBw\nYy5nZXRCYXNlU3ViMUZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\nNiwgcGMuZ2V0QmFzZVN1YjFTdWIyRmllbGQoKSk7DQogICAgICAgIHBtLmNs\nb3NlKCk7DQogICAgICAgIA0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3Fs\nLnNpemUoKSk7DQogICAgICAgIGFzc2VydE5vdFNRTChfb3V0ZXIpOw0KICAg\nICAgICBzcWwuY2xlYXIoKTsNCiAgICAgICAgDQogICAgICAgIC8vIHNob3Vs\nZCBvdXRlciBqb2luIHdpdGggaW5leGFjdCBvaWQNCiAgICAgICAgb2lkID0g\nbmV3IElkKEJhc2UuY2xhc3MsICgoSWQpIG9pZCkuZ2V0SWQoKSk7DQogICAg\nICAgIHBtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlN\nYW5hZ2VyKCk7DQogICAgICAgIHBjID0gKEJhc2VTdWIxU3ViMikgcG0uZ2V0\nT2JqZWN0SWQob2lkKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDQsIHBjLmdl\ndEJhc2VGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIHBjLmdl\ndEJhc2VTdWIxRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyg2LCBw\nYy5nZXRCYXNlU3ViMVN1YjJGaWVsZCgpKTsNCiAgICAgICAgcG0uY2xvc2Uo\nKTsNCiAgICAgICAgDQogICAgICAgIGFzc2VydEVxdWFscygxLCBzcWwuc2l6\nZSgpKTsNCiAgICAgICAgYXNzZXJ0U1FMKF9vdXRlcik7DQogICAgfQ0KICAg\nIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RMZWFmMigpDQogICAgdGhyb3dzIEV4\nY2VwdGlvbiB7DQogICAgICAgIEJhc2VTdWIyIHBjID0gbmV3IEJhc2VTdWIy\nKCk7DQogICAgICAgIHBjLnNldEJhc2VGaWVsZCgzKTsNCiAgICAgICAgcGMu\nc2V0QmFzZVN1YjJGaWVsZCg0KTsNCiAgICAgICAgT2JqZWN0IG9pZCA9IHBl\ncnNpc3QocGMpOw0KICAgICAgICBzcWwuY2xlYXIoKTsNCiAgICAgICAgDQog\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0oT3BlbkpQQUVudGl0\neU1hbmFnZXIpY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgcGMg\nPSAoQmFzZVN1YjIpIHBtLmdldE9iamVjdElkKG9pZCk7DQogICAgICAgIGFz\nc2VydEVxdWFscygzLCBwYy5nZXRCYXNlRmllbGQoKSk7DQogICAgICAgIGFz\nc2VydEVxdWFscyg0LCBwYy5nZXRCYXNlU3ViMkZpZWxkKCkpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoQmFzZVN1YjIuY2xhc3MsIHBjLmdldENsYXNzKCkp\nOw0KICAgICAgICBwbS5jbG9zZSgpOw0KICAgICAgICANCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAgICBhc3NlcnROb3RT\nUUwoX291dGVyKTsNCiAgICAgICAgc3FsLmNsZWFyKCk7DQogICAgICAgIA0K\nICAgICAgICAvLyBzaG91bGQgb3V0ZXIgam9pbiB3aXRoIGluZXhhY3Qgb2lk\nDQogICAgICAgIG9pZCA9IG5ldyBJZChCYXNlLmNsYXNzLCAoKElkKSBvaWQp\nLmdldElkKCkpOw0KICAgICAgICBwbSA9IChPcGVuSlBBRW50aXR5TWFuYWdl\nciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBwYyA9IChCYXNl\nU3ViMikgcG0uZ2V0T2JqZWN0SWQob2lkKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDMsIHBjLmdldEJhc2VGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDQsIHBjLmdldEJhc2VTdWIyRmllbGQoKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscyhCYXNlU3ViMi5jbGFzcywgcGMuZ2V0Q2xhc3MoKSk7DQogICAg\nICAgIHBtLmNsb3NlKCk7DQogICAgICAgIA0KICAgICAgICBhc3NlcnRFcXVh\nbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAgIGFzc2VydFNRTChfb3V0ZXIp\nOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWlkKCkNCiAg\nICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgQmFzZVN1YjEgcGMgPSBu\nZXcgQmFzZVN1YjEoKTsNCiAgICAgICAgcGMuc2V0QmFzZUZpZWxkKDIpOw0K\nICAgICAgICBwYy5zZXRCYXNlU3ViMUZpZWxkKDMpOw0KICAgICAgICBPYmpl\nY3Qgb2lkID0gcGVyc2lzdChwYyk7DQogICAgICAgIHNxbC5jbGVhcigpOw0K\nICAgICAgICANCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShP\ncGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0K\nICAgICAgICBwYyA9IChCYXNlU3ViMSkgcG0uZ2V0T2JqZWN0SWQob2lkKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHBjLmdldEJhc2VGaWVsZCgpKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHBjLmdldEJhc2VTdWIxRmllbGQo\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhCYXNlU3ViMS5jbGFzcywgcGMu\nZ2V0Q2xhc3MoKSk7DQogICAgICAgIHBtLmNsb3NlKCk7DQogICAgICAgIA0K\nICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAg\nIGFzc2VydE5vdFNRTChfb3V0ZXIpOw0KICAgICAgICBzcWwuY2xlYXIoKTsN\nCiAgICAgICAgDQogICAgICAgIC8vIHNob3VsZCBvdXRlciBqb2luIHdpdGgg\naW5leGFjdCBvaWQNCiAgICAgICAgb2lkID0gbmV3IElkKEJhc2UuY2xhc3Ms\nICgoSWQpIG9pZCkuZ2V0SWQoKSk7DQogICAgICAgIHBtID0gKE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAg\nIHBjID0gKEJhc2VTdWIxKSBwbS5nZXRPYmplY3RJZChvaWQpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoMiwgcGMuZ2V0QmFzZUZpZWxkKCkpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoMywgcGMuZ2V0QmFzZVN1YjFGaWVsZCgpKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKEJhc2VTdWIxLmNsYXNzLCBwYy5nZXRDbGFz\ncygpKTsNCiAgICAgICAgcG0uY2xvc2UoKTsNCiAgICAgICAgDQogICAgICAg\nIGFzc2VydEVxdWFscygxLCBzcWwuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0\nU1FMKF9vdXRlcik7DQogICAgfQ0KICAgIA0KICAgIA0KICAgIA0KfQ0K\n","encoding":"base64"}

