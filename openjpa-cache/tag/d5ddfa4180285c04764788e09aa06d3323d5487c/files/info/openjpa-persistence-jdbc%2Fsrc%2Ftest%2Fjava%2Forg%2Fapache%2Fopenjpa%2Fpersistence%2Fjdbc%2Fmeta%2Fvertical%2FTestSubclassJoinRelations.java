{"sha":"cd9ca25e4a5beb13c8d30d5bb2d05d8fe94ad925","node_id":"MDQ6QmxvYjIwNjM2NDpjZDljYTI1ZTRhNWJlYjEzYzhkMzBkNWJiMmQwNWQ4ZmU5NGFkOTI1","size":15480,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cd9ca25e4a5beb13c8d30d5bb2d05d8fe94ad925","content":"LyoNCiAqIFRlc3RTdWJjbGFzc0pvaW5SZWxhdGlvbnMuamF2YQ0KICoNCiAq\nIENyZWF0ZWQgb24gT2N0b2JlciA1LCAyMDA2LCA0OjI4IFBNDQogKg0KICog\nVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBs\nYXRlIE1hbmFnZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUg\nZWRpdG9yLg0KICovDQoNCi8qDQogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hl\nIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lDQogKiBvciBt\nb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUg\nTk9USUNFIGZpbGUNCiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZv\nciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uDQogKiByZWdhcmRpbmcgY29weXJp\nZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlDQog\nKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIu\nMCAodGhlDQogKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBm\naWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlDQogKiB3aXRoIHRoZSBMaWNlbnNl\nLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQog\nKg0KICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0Ut\nMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3\nIG9yIGFncmVlZCB0byBpbiB3cml0aW5nLA0KICogc29mdHdhcmUgZGlzdHJp\nYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4N\nCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05E\nSVRJT05TIE9GIEFOWQ0KICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1w\nbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlDQogKiBzcGVjaWZpYyBs\nYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25z\nDQogKiB1bmRlciB0aGUgTGljZW5zZS4gICAgDQogKi8NCnBhY2thZ2Ugb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMubWV0YS52ZXJ0aWNh\nbDsNCg0KaW1wb3J0IGphdmEudXRpbC4qOw0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLmNvbmYuSkRCQ0NvbmZpZ3VyYXRpb247DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLkpvaW47DQppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFRdWVyeTsNCg0K\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmNv\nbW1vbi5hcHBzLio7DQoNCg0KaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9u\nLkFubm90YXRpb247DQppbXBvcnQganVuaXQuZnJhbWV3b3JrLio7DQppbXBv\ncnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsNCmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5Ow0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsNCg0KDQpwdWJsaWMg\nY2xhc3MgVGVzdFN1YmNsYXNzSm9pblJlbGF0aW9ucyBleHRlbmRzIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmtlcm5lbC5UZXN0U1FM\nTGlzdGVuZXJUZXN0Q2FzZSANCnsNCiAgICBwcml2YXRlIFN0cmluZyBfb3V0\nZXIgPSAiT1VURVIiOw0KICAgIHByaXZhdGUgT2JqZWN0IF9vaWQgPSBudWxs\nOw0KICAgIA0KICAgIC8qKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRl\nc3RTdWJjbGFzc0pvaW5SZWxhdGlvbnMgKi8NCiAgICBwdWJsaWMgVGVzdFN1\nYmNsYXNzSm9pblJlbGF0aW9ucyhTdHJpbmcgbmFtZSkgDQogICAgew0KICAg\nIAlzdXBlcihuYW1lKTsNCiAgICB9DQogICAgDQogICAgcHVibGljIGJvb2xl\nYW4gc2tpcFRlc3QoKSB7DQogICAgICAgIC8vRklYTUUgDQogICAgICAgIC8q\nDQogICAgICAgIHJldHVybiBzdXBlci5za2lwVGVzdCgpDQogICAgICAgICAg\nICB8fCAoKEpEQkNDb25maWd1cmF0aW9uKSBnZXRDb25maWd1cmF0aW9uKCkp\nLg0KICAgICAgICAgICAgZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKS5qb2lu\nU3ludGF4ID09IEpvaW4uU1lOVEFYX1RSQURJVElPTkFMOw0KICAgICAgICAg\nKi8NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIHB1Ymxp\nYyB2b2lkIHNldFVwVGVzdENhc2UoKSB7DQogICAgICAgIC8vIG1ha2Ugc3Vy\nZSBhbGwgY2xhc3NlcyBhcmUgcmVnaXN0ZXJlZA0KICAgICAgICBDbGFzc1td\nIHJlZyA9IG5ldyBDbGFzc1tdew0KICAgICAgICAgICAgQmFzZS5jbGFzcywg\nQmFzZVN1YjEuY2xhc3MsIEJhc2VTdWIyLmNsYXNzLA0KICAgICAgICAgICAg\nQmFzZVN1YjFTdWIxLmNsYXNzLCBCYXNlU3ViMVN1YjIuY2xhc3MsDQogICAg\nICAgIH07DQoNCiAgICAgICAgaWYgKCgoSkRCQ0NvbmZpZ3VyYXRpb24pIGdl\ndENvbmZpZ3VyYXRpb24oKSkuZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKS4N\nCiAgICAgICAgICAgIGpvaW5TeW50YXggPT0gSm9pbi5TWU5UQVhfREFUQUJB\nU0UpDQogICAgICAgICAgICBfb3V0ZXIgPSAiKCspIjsNCg0KICAgICAgIGRl\nbGV0ZUFsbChSZWxhdGlvbnMuY2xhc3MpOw0KICAgICAgIGRlbGV0ZUFsbChC\nYXNlLmNsYXNzKTsNCg0KICAgICAgICBSZWxhdGlvbnMgcmVsID0gbmV3IFJl\nbGF0aW9ucygpOw0KICAgICAgICBCYXNlU3ViMiBzdWIyID0gbmV3IEJhc2VT\ndWIyKCk7DQogICAgICAgIHN1YjIuc2V0QmFzZUZpZWxkKDMpOw0KICAgICAg\nICBzdWIyLnNldEJhc2VTdWIyRmllbGQoNCk7DQogICAgICAgIHJlbC5zZXRC\nYXNlKHN1YjIpOw0KDQogICAgICAgIEJhc2VTdWIxIHN1YjEgPSBuZXcgQmFz\nZVN1YjEoKTsNCiAgICAgICAgc3ViMS5zZXRCYXNlRmllbGQoMik7DQogICAg\nICAgIHN1YjEuc2V0QmFzZVN1YjFGaWVsZCgzKTsNCiAgICAgICAgcmVsLnNl\ndEJhc2VTdWIxKHN1YjEpOw0KDQogICAgICAgIEJhc2VTdWIxU3ViMiBzdWIx\nc3ViMiA9IG5ldyBCYXNlU3ViMVN1YjIoKTsNCiAgICAgICAgc3ViMXN1YjIu\nc2V0QmFzZUZpZWxkKDQpOw0KICAgICAgICBzdWIxc3ViMi5zZXRCYXNlU3Vi\nMUZpZWxkKDUpOw0KICAgICAgICBzdWIxc3ViMi5zZXRCYXNlU3ViMVN1YjJG\naWVsZCg2KTsNCiAgICAgICAgcmVsLnNldEJhc2VTdWIxU3ViMihzdWIxc3Vi\nMik7DQoNCiAgICAgICAgQmFzZSBiYXNlID0gbmV3IEJhc2UoKTsNCiAgICAg\nICAgYmFzZS5zZXRCYXNlRmllbGQoMSk7DQogICAgICAgIHJlbC5nZXRCYXNl\nTGlzdCgpLmFkZChiYXNlKTsNCiAgICAgICAgcmVsLmdldEJhc2VMaXN0KCku\nYWRkKHN1YjIpOw0KDQogICAgICAgIHJlbC5nZXRCYXNlU3ViMUxpc3QoKS5h\nZGQoc3ViMSk7DQogICAgICAgIHJlbC5nZXRCYXNlU3ViMUxpc3QoKS5hZGQo\nc3ViMXN1YjIpOw0KDQogICAgICAgIHJlbC5nZXRCYXNlU3ViMVN1YjJMaXN0\nKCkuYWRkKHN1YjFzdWIyKTsNCg0KICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlN\nYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgocG0pOzsNCiAgICAgICAgcG0u\ncGVyc2lzdChyZWwpOw0KICAgICAgICBlbmRUeChwbSk7Ow0KICAgICAgICBf\nb2lkID0gcG0uZ2V0T2JqZWN0SWQocmVsKTsNCiAgICAgICAgcG0uY2xvc2Uo\nKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0TnVsbE9uZU9uZSgp\nDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBPcGVuSlBB\nRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIFJlbGF0aW9ucyByZWwgPSAo\nUmVsYXRpb25zKSBwbS5nZXRPYmplY3RJZChfb2lkKTsNCg0KICAgICAgICBh\nc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAgIGFzc2VydE5v\ndFNRTChfb3V0ZXIpOw0KICAgICAgICBzcWwuY2xlYXIoKTsNCg0KICAgICAg\nICBhc3NlcnROdWxsKHJlbC5nZXROdWxsQmFzZSgpKTsNCiAgICAgICAgcG0u\nY2xvc2UoKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMoMCwgc3FsLnNpemUo\nKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEVhZ2VyTnVsbE9u\nZU9uZSgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHBtLmdldEZldGNo\nUGxhbigpLmFkZEZldGNoR3JvdXAoIm51bGxCYXNlIik7DQogICAgICAgIFJl\nbGF0aW9ucyByZWwgPSAoUmVsYXRpb25zKSBwbS5nZXRPYmplY3RJZChfb2lk\nKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUoKSk7DQog\nICAgICAgIGFzc2VydFNRTChfb3V0ZXIpOw0KICAgICAgICBzcWwuY2xlYXIo\nKTsNCg0KICAgICAgICBhc3NlcnROdWxsKHJlbC5nZXROdWxsQmFzZSgpKTsN\nCiAgICAgICAgcG0uY2xvc2UoKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMo\nMCwgc3FsLnNpemUoKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndEVtcHR5QmFzZUxpc3QoKQ0KICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsN\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50\naXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBS\nZWxhdGlvbnMgcmVsID0gKFJlbGF0aW9ucykgcG0uZ2V0T2JqZWN0SWQoX29p\nZCk7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOw0K\nICAgICAgICBhc3NlcnROb3RTUUwoX291dGVyKTsNCiAgICAgICAgc3FsLmNs\nZWFyKCk7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIHJlbC5nZXRFbXB0\neUJhc2VMaXN0KCkuc2l6ZSgpKTsNCiAgICAgICAgcG0uY2xvc2UoKTsNCg0K\nICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAg\nIGFzc2VydFNRTChfb3V0ZXIpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lk\nIHRlc3RFYWdlckVtcHR5QmFzZUxpc3QoKQ0KICAgICAgICB0aHJvd3MgRXhj\nZXB0aW9uIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShP\ncGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0K\nICAgICAgICBwbS5nZXRGZXRjaFBsYW4oKS5hZGRGZXRjaEdyb3VwKCJlbXB0\neUJhc2VMaXN0Iik7DQogICAgICAgIFJlbGF0aW9ucyByZWwgPSAoUmVsYXRp\nb25zKSBwbS5nZXRPYmplY3RJZChfb2lkKTsNCg0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAgIGFzc2VydFNRTChfb3V0\nZXIpOw0KICAgICAgICBzcWwuY2xlYXIoKTsNCg0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMCwgcmVsLmdldEVtcHR5QmFzZUxpc3QoKS5zaXplKCkpOw0KICAg\nICAgICBwbS5jbG9zZSgpOw0KDQogICAgICAgIGFzc2VydEVxdWFscygwLCBz\ncWwuc2l6ZSgpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0QmFz\nZU9uZU9uZSgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0KICAgICAg\nICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIFJlbGF0aW9u\ncyByZWwgPSAoUmVsYXRpb25zKSBwbS5nZXRPYmplY3RJZChfb2lkKTsNCg0K\nICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAg\nIGFzc2VydE5vdFNRTChfb3V0ZXIpOw0KICAgICAgICBzcWwuY2xlYXIoKTsN\nCg0KICAgICAgICBCYXNlU3ViMiBzdWIyID0gKEJhc2VTdWIyKSByZWwuZ2V0\nQmFzZSgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMywgc3ViMi5nZXRCYXNl\nRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyg0LCBzdWIyLmdldEJh\nc2VTdWIyRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhCYXNlU3Vi\nMi5jbGFzcywgc3ViMi5nZXRDbGFzcygpKTsNCiAgICAgICAgcG0uY2xvc2Uo\nKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMoc3FsLnRvU3RyaW5nKCksIDEs\nIHNxbC5zaXplKCkpOw0KICAgICAgICBhc3NlcnRTUUwoX291dGVyKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RWFnZXJCYXNlT25lT25lKCkN\nCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVu\ndEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgcG0uZ2V0RmV0Y2hQbGFuKCku\nYWRkRmV0Y2hHcm91cCgiYmFzZSIpOw0KICAgICAgICBSZWxhdGlvbnMgcmVs\nID0gKFJlbGF0aW9ucykgcG0uZ2V0T2JqZWN0SWQoX29pZCk7DQoNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAgICBhc3Nl\ncnRTUUwoX291dGVyKTsNCiAgICAgICAgc3FsLmNsZWFyKCk7DQoNCiAgICAg\nICAgQmFzZVN1YjIgc3ViMiA9IChCYXNlU3ViMikgcmVsLmdldEJhc2UoKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHN1YjIuZ2V0QmFzZUZpZWxkKCkp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNCwgc3ViMi5nZXRCYXNlU3ViMkZp\nZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoQmFzZVN1YjIuY2xhc3Ms\nIHN1YjIuZ2V0Q2xhc3MoKSk7DQogICAgICAgIHBtLmNsb3NlKCk7DQoNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDAsIHNxbC5zaXplKCkpOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyB2b2lkIHRlc3RMZWFmT25lT25lKCkNCiAgICAgICAgdGhy\nb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsNCiAgICAgICAgUmVsYXRpb25zIHJlbCA9IChSZWxhdGlvbnMpIHBt\nLmdldE9iamVjdElkKF9vaWQpOw0KDQogICAgICAgIGFzc2VydEVxdWFscygx\nLCBzcWwuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0Tm90U1FMKF9vdXRlcik7\nDQogICAgICAgIHNxbC5jbGVhcigpOw0KDQogICAgICAgIEJhc2VTdWIxU3Vi\nMiBzdWIxc3ViMiA9IChCYXNlU3ViMVN1YjIpIHJlbC5nZXRCYXNlU3ViMVN1\nYjIoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDQsIHN1YjFzdWIyLmdldEJh\nc2VGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIHN1YjFzdWIy\nLmdldEJhc2VTdWIxRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyg2\nLCBzdWIxc3ViMi5nZXRCYXNlU3ViMVN1YjJGaWVsZCgpKTsNCiAgICAgICAg\ncG0uY2xvc2UoKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNp\nemUoKSk7DQogICAgICAgIGFzc2VydE5vdFNRTChfb3V0ZXIpOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RFYWdlckxlYWZPbmVPbmUoKQ0KICAg\nICAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50\naXR5TWFuYWdlcigpOw0KICAgICAgICBwbS5nZXRGZXRjaFBsYW4oKS5hZGRG\nZXRjaEdyb3VwKCJiYXNlU3ViMVN1YjIiKTsNCiAgICAgICAgUmVsYXRpb25z\nIHJlbCA9IChSZWxhdGlvbnMpIHBtLmdldE9iamVjdElkKF9vaWQpOw0KDQog\nICAgICAgIGFzc2VydEVxdWFscygxLCBzcWwuc2l6ZSgpKTsNCiAgICAgICAg\nYXNzZXJ0U1FMKF9vdXRlcik7DQogICAgICAgIHNxbC5jbGVhcigpOw0KDQog\nICAgICAgIEJhc2VTdWIxU3ViMiBzdWIxc3ViMiA9IChCYXNlU3ViMVN1YjIp\nIHJlbC5nZXRCYXNlU3ViMVN1YjIoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDQsIHN1YjFzdWIyLmdldEJhc2VGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDUsIHN1YjFzdWIyLmdldEJhc2VTdWIxRmllbGQoKSk7DQogICAg\nICAgIGFzc2VydEVxdWFscyg2LCBzdWIxc3ViMi5nZXRCYXNlU3ViMVN1YjJG\naWVsZCgpKTsNCiAgICAgICAgcG0uY2xvc2UoKTsNCg0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoMCwgc3FsLnNpemUoKSk7DQogICAgfQ0KDQogICAgcHVibGlj\nIHZvaWQgdGVzdE1pZE9uZU9uZSgpDQogICAgICAgIHRocm93cyBFeGNlcHRp\nb24gew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAg\nICAgIFJlbGF0aW9ucyByZWwgPSAoUmVsYXRpb25zKSBwbS5nZXRPYmplY3RJ\nZChfb2lkKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUo\nKSk7DQogICAgICAgIGFzc2VydE5vdFNRTChfb3V0ZXIpOw0KICAgICAgICBz\ncWwuY2xlYXIoKTsNCg0KICAgICAgICBCYXNlU3ViMSBzdWIxID0gKEJhc2VT\ndWIxKSByZWwuZ2V0QmFzZVN1YjEoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDIsIHN1YjEuZ2V0QmFzZUZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoMywgc3ViMS5nZXRCYXNlU3ViMUZpZWxkKCkpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoQmFzZVN1YjEuY2xhc3MsIHN1YjEuZ2V0Q2xhc3MoKSk7DQog\nICAgICAgIHBtLmNsb3NlKCk7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\nIHNxbC5zaXplKCkpOw0KICAgICAgICBhc3NlcnRTUUwoX291dGVyKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RWFnZXJNaWRPbmVPbmUoKQ0K\nICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50\nRW50aXR5TWFuYWdlcigpOw0KICAgICAgICBwbS5nZXRGZXRjaFBsYW4oKS5h\nZGRGZXRjaEdyb3VwKCJiYXNlU3ViMSIpOw0KICAgICAgICBSZWxhdGlvbnMg\ncmVsID0gKFJlbGF0aW9ucykgcG0uZ2V0T2JqZWN0SWQoX29pZCk7DQoNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAgICBh\nc3NlcnRTUUwoX291dGVyKTsNCiAgICAgICAgc3FsLmNsZWFyKCk7DQoNCiAg\nICAgICAgQmFzZVN1YjEgc3ViMSA9IChCYXNlU3ViMSkgcmVsLmdldEJhc2VT\ndWIxKCk7DQogICAgICAgIGFzc2VydEVxdWFscygyLCBzdWIxLmdldEJhc2VG\naWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHN1YjEuZ2V0QmFz\nZVN1YjFGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKEJhc2VTdWIx\nLmNsYXNzLCBzdWIxLmdldENsYXNzKCkpOw0KICAgICAgICBwbS5jbG9zZSgp\nOw0KDQogICAgICAgIGFzc2VydEVxdWFscygwLCBzcWwuc2l6ZSgpKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0QmFzZUxpc3QoKQ0KICAgICAg\nICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5\nTWFuYWdlcigpOw0KICAgICAgICBSZWxhdGlvbnMgcmVsID0gKFJlbGF0aW9u\ncykgcG0uZ2V0T2JqZWN0SWQoX29pZCk7DQoNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAgICBhc3NlcnROb3RTUUwoX291\ndGVyKTsNCiAgICAgICAgc3FsLmNsZWFyKCk7DQoNCiAgICAgICAgTGlzdCBs\naXN0ID0gcmVsLmdldEJhc2VMaXN0KCk7DQogICAgICAgIGFzc2VydEVxdWFs\ncygyLCBsaXN0LnNpemUoKSk7DQogICAgICAgIEJhc2UgYmFzZSA9IChCYXNl\nKSBsaXN0LmdldCgwKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGJhc2Uu\nZ2V0QmFzZUZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoQmFzZS5j\nbGFzcywgYmFzZS5nZXRDbGFzcygpKTsNCiAgICAgICAgQmFzZVN1YjIgc3Vi\nMiA9IChCYXNlU3ViMikgbGlzdC5nZXQoMSk7DQogICAgICAgIGFzc2VydEVx\ndWFscygzLCBzdWIyLmdldEJhc2VGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDQsIHN1YjIuZ2V0QmFzZVN1YjJGaWVsZCgpKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKEJhc2VTdWIyLmNsYXNzLCBzdWIyLmdldENsYXNzKCkp\nOw0KICAgICAgICBwbS5jbG9zZSgpOw0KDQogICAgICAgIGFzc2VydEVxdWFs\ncygxLCBzcWwuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0U1FMKF9vdXRlcik7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEVhZ2VyQmFzZUxpc3Qo\nKQ0KICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJy\nZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBwbS5nZXRGZXRjaFBsYW4o\nKS5hZGRGZXRjaEdyb3VwKCJiYXNlTGlzdCIpOw0KICAgICAgICBSZWxhdGlv\nbnMgcmVsID0gKFJlbGF0aW9ucykgcG0uZ2V0T2JqZWN0SWQoX29pZCk7DQoN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAg\nICBhc3NlcnRTUUwoX291dGVyKTsNCiAgICAgICAgc3FsLmNsZWFyKCk7DQoN\nCiAgICAgICAgTGlzdCBsaXN0ID0gcmVsLmdldEJhc2VMaXN0KCk7DQogICAg\nICAgIGFzc2VydEVxdWFscygyLCBsaXN0LnNpemUoKSk7DQogICAgICAgIEJh\nc2UgYmFzZSA9IChCYXNlKSBsaXN0LmdldCgwKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEsIGJhc2UuZ2V0QmFzZUZpZWxkKCkpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoQmFzZS5jbGFzcywgYmFzZS5nZXRDbGFzcygpKTsNCiAgICAg\nICAgQmFzZVN1YjIgc3ViMiA9IChCYXNlU3ViMikgbGlzdC5nZXQoMSk7DQog\nICAgICAgIGFzc2VydEVxdWFscygzLCBzdWIyLmdldEJhc2VGaWVsZCgpKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDQsIHN1YjIuZ2V0QmFzZVN1YjJGaWVs\nZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKEJhc2VTdWIyLmNsYXNzLCBz\ndWIyLmdldENsYXNzKCkpOw0KICAgICAgICBwbS5jbG9zZSgpOw0KDQogICAg\nICAgIGFzc2VydEVxdWFscygwLCBzcWwuc2l6ZSgpKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0TGVhZkxpc3QoKQ0KICAgICAgICB0aHJvd3Mg\nRXhjZXB0aW9uIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0g\nPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigp\nOw0KICAgICAgICBSZWxhdGlvbnMgcmVsID0gKFJlbGF0aW9ucykgcG0uZ2V0\nT2JqZWN0SWQoX29pZCk7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNx\nbC5zaXplKCkpOw0KICAgICAgICBhc3NlcnROb3RTUUwoX291dGVyKTsNCiAg\nICAgICAgc3FsLmNsZWFyKCk7DQoNCiAgICAgICAgTGlzdCBsaXN0ID0gcmVs\nLmdldEJhc2VTdWIxU3ViMkxpc3QoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDEsIGxpc3Quc2l6ZSgpKTsNCiAgICAgICAgQmFzZVN1YjFTdWIyIHN1YjFz\ndWIyID0gKEJhc2VTdWIxU3ViMikgbGlzdC5nZXQoMCk7DQogICAgICAgIGFz\nc2VydEVxdWFscyg0LCBzdWIxc3ViMi5nZXRCYXNlRmllbGQoKSk7DQogICAg\nICAgIGFzc2VydEVxdWFscyg1LCBzdWIxc3ViMi5nZXRCYXNlU3ViMUZpZWxk\nKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNiwgc3ViMXN1YjIuZ2V0QmFz\nZVN1YjFTdWIyRmllbGQoKSk7DQogICAgICAgIHBtLmNsb3NlKCk7DQoNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAgICBh\nc3NlcnROb3RTUUwoX291dGVyKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0RWFnZXJMZWFmTGlzdCgpDQogICAgICAgIHRocm93cyBFeGNlcHRp\nb24gew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAg\nICAgIHBtLmdldEZldGNoUGxhbigpLmFkZEZldGNoR3JvdXAoImJhc2VTdWIx\nU3ViMkxpc3QiKTsNCiAgICAgICAgUmVsYXRpb25zIHJlbCA9IChSZWxhdGlv\nbnMpIHBtLmdldE9iamVjdElkKF9vaWQpOw0KDQogICAgICAgIGFzc2VydEVx\ndWFscygyLCBzcWwuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0Tm90U1FMKF9v\ndXRlcik7DQogICAgICAgIHNxbC5jbGVhcigpOw0KDQogICAgICAgIExpc3Qg\nbGlzdCA9IHJlbC5nZXRCYXNlU3ViMVN1YjJMaXN0KCk7DQogICAgICAgIGFz\nc2VydEVxdWFscygxLCBsaXN0LnNpemUoKSk7DQogICAgICAgIEJhc2VTdWIx\nU3ViMiBzdWIxc3ViMiA9IChCYXNlU3ViMVN1YjIpIGxpc3QuZ2V0KDApOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoNCwgc3ViMXN1YjIuZ2V0QmFzZUZpZWxk\nKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNSwgc3ViMXN1YjIuZ2V0QmFz\nZVN1YjFGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDYsIHN1YjFz\ndWIyLmdldEJhc2VTdWIxU3ViMkZpZWxkKCkpOw0KICAgICAgICBwbS5jbG9z\nZSgpOw0KDQogICAgICAgIGFzc2VydEVxdWFscygwLCBzcWwuc2l6ZSgpKTsN\nCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWlkTGlzdCgpDQogICAg\nICAgIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRp\ndHlNYW5hZ2VyKCk7DQogICAgICAgIFJlbGF0aW9ucyByZWwgPSAoUmVsYXRp\nb25zKSBwbS5nZXRPYmplY3RJZChfb2lkKTsNCg0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMSwgc3FsLnNpemUoKSk7DQogICAgICAgIGFzc2VydE5vdFNRTChf\nb3V0ZXIpOw0KICAgICAgICBzcWwuY2xlYXIoKTsNCg0KICAgICAgICBMaXN0\nIGxpc3QgPSByZWwuZ2V0QmFzZVN1YjFMaXN0KCk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygyLCBsaXN0LnNpemUoKSk7DQogICAgICAgIEJhc2VTdWIxIHN1\nYjEgPSAoQmFzZVN1YjEpIGxpc3QuZ2V0KDApOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMiwgc3ViMS5nZXRCYXNlRmllbGQoKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygzLCBzdWIxLmdldEJhc2VTdWIxRmllbGQoKSk7DQogICAgICAg\nIGFzc2VydEVxdWFscyhCYXNlU3ViMS5jbGFzcywgc3ViMS5nZXRDbGFzcygp\nKTsNCiAgICAgICAgQmFzZVN1YjFTdWIyIHN1YjFzdWIyID0gKEJhc2VTdWIx\nU3ViMikgbGlzdC5nZXQoMSk7DQogICAgICAgIGFzc2VydEVxdWFscyg0LCBz\ndWIxc3ViMi5nZXRCYXNlRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFs\ncyg1LCBzdWIxc3ViMi5nZXRCYXNlU3ViMUZpZWxkKCkpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoNiwgc3ViMXN1YjIuZ2V0QmFzZVN1YjFTdWIyRmllbGQo\nKSk7DQogICAgICAgIHBtLmNsb3NlKCk7DQoNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAgICBhc3NlcnRTUUwoX291dGVy\nKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RWFnZXJNaWRMaXN0\nKCkNCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIHBtID0oT3BlbkpQQUVudGl0eU1hbmFnZXIpY3Vy\ncmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgcG0uZ2V0RmV0Y2hQbGFu\nKCkuYWRkRmV0Y2hHcm91cCgiYmFzZVN1YjFMaXN0Iik7DQogICAgICAgIFJl\nbGF0aW9ucyByZWwgPSAoUmVsYXRpb25zKSBwbS5nZXRPYmplY3RJZChfb2lk\nKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgc3FsLnNpemUoKSk7DQog\nICAgICAgIGFzc2VydFNRTChfb3V0ZXIpOw0KICAgICAgICBzcWwuY2xlYXIo\nKTsNCg0KICAgICAgICBMaXN0IGxpc3QgPSByZWwuZ2V0QmFzZVN1YjFMaXN0\nKCk7DQogICAgICAgIGFzc2VydEVxdWFscygyLCBsaXN0LnNpemUoKSk7DQog\nICAgICAgIEJhc2VTdWIxIHN1YjEgPSAoQmFzZVN1YjEpIGxpc3QuZ2V0KDAp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgc3ViMS5nZXRCYXNlRmllbGQo\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscygzLCBzdWIxLmdldEJhc2VTdWIx\nRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhCYXNlU3ViMS5jbGFz\ncywgc3ViMS5nZXRDbGFzcygpKTsNCiAgICAgICAgQmFzZVN1YjFTdWIyIHN1\nYjFzdWIyID0gKEJhc2VTdWIxU3ViMikgbGlzdC5nZXQoMSk7DQogICAgICAg\nIGFzc2VydEVxdWFscyg0LCBzdWIxc3ViMi5nZXRCYXNlRmllbGQoKSk7DQog\nICAgICAgIGFzc2VydEVxdWFscyg1LCBzdWIxc3ViMi5nZXRCYXNlU3ViMUZp\nZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNiwgc3ViMXN1YjIuZ2V0\nQmFzZVN1YjFTdWIyRmllbGQoKSk7DQogICAgICAgIHBtLmNsb3NlKCk7DQoN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIHNxbC5zaXplKCkpOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RQcm9qZWN0aW9ucygpDQogICAgICAg\nIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlN\nYW5hZ2VyKCk7DQogICAgICAgIE9wZW5KUEFRdWVyeSBxID0gcG0uY3JlYXRl\nTmF0aXZlUXVlcnkoIiIsUmVsYXRpb25zLmNsYXNzKTsNCiAgICAgICAgLy9G\nSVhNRSBqdGhvbWFzDQogICAgICAgIC8qDQogICAgICAgIHEuc2V0UmVzdWx0\nKCJiYXNlLCBiYXNlU3ViMSwgYmFzZVN1YjFTdWIyIik7DQogICAgICAgIHEu\nc2V0VW5pcXVlKHRydWUpOw0KICAgICAgICBPYmplY3RbXSByZXMgPSAoT2Jq\nZWN0W10pIHEuZXhlY3V0ZSgpOw0KICAgICAgICAgKi8NCiAgICAgICAgT2Jq\nZWN0W10gcmVzPW51bGw7DQogICAgICAgIGFzc2VydE5vdE51bGwocmVzKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHJlcy5sZW5ndGgpOw0KDQogICAg\nICAgIEJhc2VTdWIyIHN1YjIgPSAoQmFzZVN1YjIpIHJlc1swXTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDMsIHN1YjIuZ2V0QmFzZUZpZWxkKCkpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoNCwgc3ViMi5nZXRCYXNlU3ViMkZpZWxkKCkp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoQmFzZVN1YjIuY2xhc3MsIHN1YjIu\nZ2V0Q2xhc3MoKSk7DQoNCiAgICAgICAgQmFzZVN1YjEgc3ViMSA9IChCYXNl\nU3ViMSkgcmVzWzFdOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgc3ViMS5n\nZXRCYXNlRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygzLCBzdWIx\nLmdldEJhc2VTdWIxRmllbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhC\nYXNlU3ViMS5jbGFzcywgc3ViMS5nZXRDbGFzcygpKTsNCg0KICAgICAgICBC\nYXNlU3ViMVN1YjIgc3ViMXN1YjIgPSAoQmFzZVN1YjFTdWIyKSByZXNbMl07\nDQogICAgICAgIGFzc2VydEVxdWFscyg0LCBzdWIxc3ViMi5nZXRCYXNlRmll\nbGQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBzdWIxc3ViMi5nZXRC\nYXNlU3ViMUZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNiwgc3Vi\nMXN1YjIuZ2V0QmFzZVN1YjFTdWIyRmllbGQoKSk7DQogICAgICAgIHBtLmNs\nb3NlKCk7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNxbC5zaXplKCkp\nOw0KICAgICAgICBhc3NlcnRTUUwoX291dGVyKTsNCiAgICB9ICAgIA0KfQ0K\n","encoding":"base64"}

