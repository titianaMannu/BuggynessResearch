{"sha":"917f46cb865b8d07a441d407dbae56e7cb8a4ac5","node_id":"MDQ6QmxvYjIwNjM2NDo5MTdmNDZjYjg2NWI4ZDA3YTQ0MWQ0MDdkYmFlNTZlN2NiOGE0YWM1","size":3742,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/917f46cb865b8d07a441d407dbae56e7cb8a4ac5","content":"LyoNCiAqIFRlc3ROYW1lZFNRTFF1ZXJpZXMuamF2YQ0KICoNCiAqIENyZWF0\nZWQgb24gT2N0b2JlciA1LCAyMDA2LCA1OjI2IFBNDQogKg0KICogVG8gY2hh\nbmdlIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRlIE1h\nbmFnZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9y\nLg0KICovDQoNCi8qDQogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3\nYXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lDQogKiBvciBtb3JlIGNv\nbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNF\nIGZpbGUNCiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRp\ndGlvbmFsIGluZm9ybWF0aW9uDQogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93\nbmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlDQogKiB0byB5\nb3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhl\nDQogKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4\nY2VwdCBpbiBjb21wbGlhbmNlDQogKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91\nIG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICog\naHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQog\nKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFn\ncmVlZCB0byBpbiB3cml0aW5nLA0KICogc29mdHdhcmUgZGlzdHJpYnV0ZWQg\ndW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4NCiAqICJB\nUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05T\nIE9GIEFOWQ0KICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4g\nIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlDQogKiBzcGVjaWZpYyBsYW5ndWFn\nZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zDQogKiB1\nbmRlciB0aGUgTGljZW5zZS4gICAgDQogKi8NCnBhY2thZ2Ugb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMucXVlcnk7DQoNCmltcG9ydCBq\nYXZhLnV0aWwuKjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuT3BlbkpQQVF1ZXJ5Ow0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmpkYmMuY29tbW9uLmFwcHMuKjsNCg0KDQppbXBv\ncnQgamF2YS5sYW5nLmFubm90YXRpb24uQW5ub3RhdGlvbjsNCmltcG9ydCBq\ndW5pdC5mcmFtZXdvcmsuKjsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5F\nbnRpdHlNYW5hZ2VyOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0\neU1hbmFnZXJGYWN0b3J5Ow0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnk7DQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRp\ndHlNYW5hZ2VyOw0KDQoNCnB1YmxpYyBjbGFzcyBUZXN0TmFtZWRTUUxRdWVy\naWVzIGV4dGVuZHMgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpk\nYmMua2VybmVsLkJhc2VKREJDVGVzdHsNCiAgICAgDQogICAgDQogICAgLyoq\nIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVGVzdE5hbWVkU1FMUXVlcmll\ncyAqLw0KICAgIHB1YmxpYyBUZXN0TmFtZWRTUUxRdWVyaWVzKCkgew0KICAg\nIH0NCiAgICANCiAgICBwdWJsaWMgVGVzdE5hbWVkU1FMUXVlcmllcyhTdHJp\nbmcgdGVzdCkgew0KICAgICAgICBzdXBlcih0ZXN0KTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsNCiAgICAgICBkZWxldGVBbGwoTmFt\nZWRTUUwuY2xhc3MpOw0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBw\nbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2Vy\nKCk7DQogICAgICAgIHN0YXJ0VHgocG0pOzsNCiAgICAgICAgTmFtZWRTUUwg\ncGM7DQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgew0K\nICAgICAgICAgICAgcGMgPSBuZXcgTmFtZWRTUUwoKTsNCiAgICAgICAgICAg\nIGlmIChpIDwgNSkNCiAgICAgICAgICAgICAgICBwYy5zZXROdW0oNCk7DQog\nICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgcGMuc2V0TnVtKGkg\nKyAxMCk7DQogICAgICAgICAgICBwbS5wZXJzaXN0KHBjKTsNCiAgICAgICAg\nfQ0KICAgICAgICBlbmRUeChwbSk7Ow0KICAgICAgICBwbS5jbG9zZSgpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3ROYW1lZFF1ZXJ5KCkgew0K\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIE9w\nZW5KUEFRdWVyeSBxID0gcG0uY3JlYXRlTmF0aXZlUXVlcnkoImNscyIsTmFt\nZWRTUUwuY2xhc3MpOw0KDQogICAgICAgIGFzc2VydEVxdWFscygiamF2YXgu\namRvLnF1ZXJ5LlNRTCIsICgoT3BlbkpQQVF1ZXJ5KSBxKS5nZXRMYW5ndWFn\nZSgpKTsNCiAgICAgICAgQ29sbGVjdGlvbiByZXN1bHRzID0gKENvbGxlY3Rp\nb24pIHEuZ2V0Q2FuZGlkYXRlQ29sbGVjdGlvbigpOw0KICAgICAgICBmb3Ig\nKEl0ZXJhdG9yIGkgPSByZXN1bHRzLml0ZXJhdG9yKCk7IGkuaGFzTmV4dCgp\nOykNCiAgICAgICAgICAgIGFzc2VydEVxdWFscyg0LCAoKE5hbWVkU1FMKSBp\nLm5leHQoKSkuZ2V0TnVtKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNSwg\ncmVzdWx0cy5zaXplKCkpOw0KICAgICAgICBxLmNsb3NlQWxsKCk7DQogICAg\nICAgIHBtLmNsb3NlKCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndFN5c3RlbSgpIHsNCiAgICAgICAgLy8gdGVzdCB0b3AtbGV2ZWwgcGFja2Fn\nZS5qZG9xdWVyeQ0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nDQogICAgICAgIC8vRklYTUUganRob21hcw0KICAgICAgICAvKg0KICAgICAg\nICBPcGVuSlBBUXVlcnkgcXVlcnkgPSBwbS5uZXdOYW1lZFF1ZXJ5KG51bGws\nICJzeXN0ZW0yIik7DQogICAgICAgIHF1ZXJ5LnNldFVuaXF1ZSh0cnVlKTsN\nCiAgICAgICAgcXVlcnkuc2V0UmVzdWx0Q2xhc3MoaW50LmNsYXNzKTsNCiAg\nICAgICAgSW50ZWdlciBjb3VudCA9IChJbnRlZ2VyKSBxdWVyeS5leGVjdXRl\nKCk7DQogICAgICAgIGFzc2VydEVxdWFscygyMCwgY291bnQuaW50VmFsdWUo\nKSk7DQogICAgICAgIHF1ZXJ5LmNsb3NlQWxsKCk7DQoNCiAgICAgICAgLy8g\ndGVzdCBzcWwgcXVlcnkgaW4gbG9jYWwgcGFja2FnZS5qZG9xdWVyeQ0KICAg\nICAgICBxdWVyeSA9IHBtLm5ld05hbWVkUXVlcnkoTmFtZWRTUUwuY2xhc3Ms\nICJjbHMiKTsNCiAgICAgICAgcXVlcnkuY2xvc2VBbGwoKTsgLy8gZm9yY2Ug\ncGFyc2luZyBvZiBwYWNrYWdlIHF1ZXJ5IGZpbGUNCiAgICAgICAgcXVlcnkg\nPSBwbS5uZXdOYW1lZFF1ZXJ5KG51bGwsICJzeXN0ZW0iKTsNCiAgICAgICAg\ncXVlcnkuc2V0VW5pcXVlKHRydWUpOw0KICAgICAgICBxdWVyeS5zZXRSZXN1\nbHRDbGFzcyhpbnQuY2xhc3MpOw0KICAgICAgICBjb3VudCA9IChJbnRlZ2Vy\nKSBxdWVyeS5leGVjdXRlKCk7DQogICAgICAgIGFzc2VydEVxdWFscygyMCwg\nY291bnQuaW50VmFsdWUoKSk7DQogICAgICAgIHF1ZXJ5LmNsb3NlQWxsKCk7\nDQogICAgICAgIHBtLmNsb3NlKCk7DQogICAgICAgICAqLw0KICAgIH0NCiAg\nICANCn0NCg==\n","encoding":"base64"}

