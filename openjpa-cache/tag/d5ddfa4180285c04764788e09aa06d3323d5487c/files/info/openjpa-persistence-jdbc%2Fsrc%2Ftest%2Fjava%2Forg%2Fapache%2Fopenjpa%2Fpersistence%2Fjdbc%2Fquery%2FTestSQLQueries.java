{"sha":"40fad83a9a4abb11f58c9c183b26a927c9e46a3b","node_id":"MDQ6QmxvYjIwNjM2NDo0MGZhZDgzYTlhNGFiYjExZjU4YzljMTgzYjI2YTkyN2M5ZTQ2YTNi","size":19016,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/40fad83a9a4abb11f58c9c183b26a927c9e46a3b","content":"LyoNCiAqIFRlc3RTUUxRdWVyaWVzLmphdmENCiAqDQogKiBDcmVhdGVkIG9u\nIE9jdG9iZXIgNSwgMjAwNiwgNDo1OSBQTQ0KICoNCiAqIFRvIGNoYW5nZSB0\naGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2Vy\nDQogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4NCiAq\nLw0KDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBG\nb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICogb3IgbW9yZSBjb250cmli\ndXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxl\nDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25h\nbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNo\naXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQ0KICogdG8geW91IHVu\nZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQ0KICog\nIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQg\naW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkg\nb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6\nLy93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAq\nIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQg\ndG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVy\nIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuDQogKiAiQVMgSVMi\nIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBB\nTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUg\ndGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292\nZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucw0KICogdW5kZXIg\ndGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLnF1ZXJ5Ow0KDQppbXBvcnQgamF2YS5p\nby5CeXRlQXJyYXlJbnB1dFN0cmVhbTsNCmltcG9ydCBqYXZhLmlvLklPRXhj\nZXB0aW9uOw0KaW1wb3J0IGphdmEuaW8uT2JqZWN0SW5wdXRTdHJlYW07DQpp\nbXBvcnQgamF2YS5pby5PYmplY3RPdXRwdXRTdHJlYW07DQppbXBvcnQgamF2\nYS5pby5CeXRlQXJyYXlPdXRwdXRTdHJlYW07DQppbXBvcnQgamF2YS51dGls\nLio7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5KREJD\nQ29uZmlndXJhdGlvbjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5tZXRhLkNsYXNzTWFwcGluZzsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5tZXRhLk1hcHBpbmdSZXBvc2l0b3J5Ow0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5qZGJjLnNxbC5EQkRpY3Rpb25hcnk7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5PcGVuSlBBU3RhdGVNYW5hZ2Vy\nOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVu\nSlBBUXVlcnk7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuamRiYy5jb21tb24uYXBwcy4qOw0KDQoNCmltcG9ydCBqYXZhLmxh\nbmcuYW5ub3RhdGlvbi5Bbm5vdGF0aW9uOw0KaW1wb3J0IGp1bml0LmZyYW1l\nd29yay4qOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFn\nZXI7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZh\nY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeTsNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSTsNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNlOw0KDQoN\nCnB1YmxpYyBjbGFzcyBUZXN0U1FMUXVlcmllcyBleHRlbmRzIG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5qZGJjLmtlcm5lbC5CYXNlSkRCQ1Rl\nc3R7DQogICAgIA0KICAgIA0KICAgIC8qKiBDcmVhdGVzIGEgbmV3IGluc3Rh\nbmNlIG9mIFRlc3RTUUxRdWVyaWVzICovDQogICAgcHVibGljIFRlc3RTUUxR\ndWVyaWVzKFN0cmluZyBuYW1lKSANCiAgICB7DQogICAgCXN1cGVyKG5hbWUp\nOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgVGVzdFNRTFF1ZXJpZXMoKSAN\nCiAgICB7fQ0KICAgIA0KICAgIHByaXZhdGUgU3RyaW5nIF90YWJsZU5hbWUg\nPSBudWxsOw0KICAgIHByaXZhdGUgU3RyaW5nIF9mdWxsVGFibGVOYW1lID0g\nbnVsbDsNCiAgICBwcml2YXRlIFN0cmluZyBfcGtDb2xOYW1lID0gbnVsbDsN\nCiAgICBwcml2YXRlIFN0cmluZyBfaW50Q29sTmFtZSA9IG51bGw7DQogICAg\ncHJpdmF0ZSBTdHJpbmcgX3N0cmluZ0NvbE5hbWUgPSBudWxsOw0KICAgIHBy\naXZhdGUgU3RyaW5nIF9yZWxDb2xOYW1lID0gbnVsbDsNCiAgICANCiAgICBw\ndWJsaWMgdm9pZCBzZXRVcCgpIHsNCiAgICAgICBkZWxldGVBbGwoUnVudGlt\nZVRlc3QxLmNsYXNzKTsNCiAgICAgICAgDQogICAgICAgIFJ1bnRpbWVUZXN0\nMSBwYzEgPSBuZXcgUnVudGltZVRlc3QxKCIxIiwgMSk7DQogICAgICAgIFJ1\nbnRpbWVUZXN0MSBwYzIgPSBuZXcgUnVudGltZVRlc3QxKCIyIiwgMik7DQog\nICAgICAgIHBjMS5zZXRTZWxmT25lT25lKHBjMik7DQogICAgICAgIA0KICAg\nICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0\nVHgocG0pOzsNCiAgICAgICAgcG0ucGVyc2lzdChwYzEpOw0KICAgICAgICBl\nbmRUeChwbSk7Ow0KICAgICAgICANCiAgICAgICAgSkRCQ0NvbmZpZ3VyYXRp\nb24gY29uZiA9IChKREJDQ29uZmlndXJhdGlvbikgKChPcGVuSlBBRW50aXR5\nTWFuYWdlckZhY3RvcnlTUEkpIHBtKS5nZXRDb25maWd1cmF0aW9uKCk7DQog\nICAgICAgIERCRGljdGlvbmFyeSBkaWN0ID0gY29uZi5nZXREQkRpY3Rpb25h\ncnlJbnN0YW5jZSgpOw0KICAgICAgICBNYXBwaW5nUmVwb3NpdG9yeSByZXBv\ncyA9IGNvbmYuZ2V0TWFwcGluZ1JlcG9zaXRvcnlJbnN0YW5jZSgpOw0KICAg\nICAgICBDbGFzc01hcHBpbmcgbWFwcGluZyA9IHJlcG9zLmdldE1hcHBpbmco\nUnVudGltZVRlc3QxLmNsYXNzLA0KICAgICAgICAgICAgICAgIHBtLmdldENs\nYXNzTG9hZGVyKCksIHRydWUpOw0KICAgICAgICANCiAgICAgICAgX3RhYmxl\nTmFtZSA9IG1hcHBpbmcuZ2V0VGFibGUoKS5nZXROYW1lKCk7DQogICAgICAg\nIF9mdWxsVGFibGVOYW1lID0gZGljdC5nZXRGdWxsTmFtZShtYXBwaW5nLmdl\ndFRhYmxlKCksIGZhbHNlKTsNCiAgICAgICAgX3BrQ29sTmFtZSA9IG1hcHBp\nbmcuZ2V0VGFibGUoKS5nZXRQcmltYXJ5S2V5KCkuDQogICAgICAgICAgICAg\nICAgZ2V0Q29sdW1ucygpWzBdLmdldE5hbWUoKTsNCiAgICAgICAgX2ludENv\nbE5hbWUgPSBtYXBwaW5nLmdldEZpZWxkTWFwcGluZygiaW50RmllbGQiKS4N\nCiAgICAgICAgICAgICAgICBnZXRDb2x1bW5zKClbMF0uZ2V0TmFtZSgpOw0K\nICAgICAgICBfc3RyaW5nQ29sTmFtZSA9IG1hcHBpbmcuZ2V0RmllbGRNYXBw\naW5nKCJzdHJpbmdGaWVsZCIpLg0KICAgICAgICAgICAgICAgIGdldENvbHVt\nbnMoKVswXS5nZXROYW1lKCk7DQogICAgICAgIF9yZWxDb2xOYW1lID0gbWFw\ncGluZy5nZXRGaWVsZE1hcHBpbmcoInNlbGZPbmVPbmUiKS4NCiAgICAgICAg\nICAgICAgICBnZXRDb2x1bW5zKClbMF0uZ2V0TmFtZSgpOw0KICAgICAgICAN\nCiAgICAgICAgcG0uY2xvc2UoKTsNCiAgICB9DQogICAgDQogICAgcHVibGlj\nIHZvaWQgdGVzdFN0YXJRdWVyeSgpIHsNCiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50\naXR5TWFuYWdlcigpOw0KICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNy\nZWF0ZVF1ZXJ5KCJqYXZheC5qZG8ucXVlcnkuU1FMIiwNCiAgICAgICAgICAg\nICAgICAic2VsZWN0ICogZnJvbSAiICsgX2Z1bGxUYWJsZU5hbWUgKyAiIG9y\nZGVyIGJ5ICIgKyBfaW50Q29sTmFtZSk7DQogICAgICAgIHEuc2V0UmVzdWx0\nQ2xhc3MoUnVudGltZVRlc3QxLmNsYXNzKTsNCiAgICAgICAgSXRlcmF0b3Ig\naXRyID0gKChDb2xsZWN0aW9uKSBxLmdldENhbmRpZGF0ZUNvbGxlY3Rpb24o\nKSkuaXRlcmF0b3IoKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShpdHIuaGFzTmV4\ndCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCIxIiwgKChSdW50aW1lVGVz\ndDEpIGl0ci5uZXh0KCkpLmdldFN0cmluZ0ZpZWxkKCkpOw0KICAgICAgICBh\nc3NlcnRUcnVlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoIjIiLCAoKFJ1bnRpbWVUZXN0MSkgaXRyLm5leHQoKSkuZ2V0U3RyaW5n\nRmllbGQoKSk7DQogICAgICAgIGFzc2VydEZhbHNlKGl0ci5oYXNOZXh0KCkp\nOw0KICAgICAgICBxLmNsb3NlQWxsKCk7DQogICAgICAgIHBtLmNsb3NlKCk7\nDQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RDb21waWxlZFF1\nZXJ5KCkNCiAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJy\nZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBPcGVuSlBBUXVlcnkgcSA9\nIHBtLmNyZWF0ZVF1ZXJ5KCJqYXZheC5qZG8ucXVlcnkuU1FMIiwNCiAgICAg\nICAgICAgICAgICAic2VsZWN0ICogZnJvbSAiICsgX2Z1bGxUYWJsZU5hbWUg\nKyAiIG9yZGVyIGJ5ICIgKyBfaW50Q29sTmFtZSk7DQogICAgICAgIHEuc2V0\nUmVzdWx0Q2xhc3MoUnVudGltZVRlc3QxLmNsYXNzKTsNCiAgICAgICAgDQog\nICAgICAgIC8vRklYTUUganRob21hcw0KICAgICAgICAvL3EgPSBwbS5jcmVh\ndGVRdWVyeShyb3VuZHRyaXBzKHEsIGZhbHNlKSk7DQogICAgICAgIEl0ZXJh\ndG9yIGl0ciA9ICgoQ29sbGVjdGlvbikgcS5nZXRDYW5kaWRhdGVDb2xsZWN0\naW9uKCkpLml0ZXJhdG9yKCk7DQogICAgICAgIGFzc2VydFRydWUoaXRyLmhh\nc05leHQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygiMSIsICgoUnVudGlt\nZVRlc3QxKSBpdHIubmV4dCgpKS5nZXRTdHJpbmdGaWVsZCgpKTsNCiAgICAg\nICAgYXNzZXJ0VHJ1ZShpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCIyIiwgKChSdW50aW1lVGVzdDEpIGl0ci5uZXh0KCkpLmdldFN0\ncmluZ0ZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRGYWxzZShpdHIuaGFzTmV4\ndCgpKTsNCiAgICAgICAgcS5jbG9zZUFsbCgpOw0KICAgICAgICBwbS5jbG9z\nZSgpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29tcGls\nZWRMYW5ndWFnZVF1ZXJ5KCkNCiAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5\nTWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBPcGVu\nSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KCJqYXZheC5qZG8ucXVlcnku\nU1FMIiwNCiAgICAgICAgICAgICAgICAic2VsZWN0ICogZnJvbSAiICsgX2Z1\nbGxUYWJsZU5hbWUgKyAiIG9yZGVyIGJ5ICIgKyBfaW50Q29sTmFtZSk7DQog\nICAgICAgIHEuc2V0UmVzdWx0Q2xhc3MoUnVudGltZVRlc3QxLmNsYXNzKTsN\nCiAgICAgICAgDQogICAgICAgIC8vRklYTUUganRob21hcw0KICAgICAgICAv\nL3EgPSBwbS5jcmVhdGVRdWVyeSgiamF2YXguamRvLnF1ZXJ5LlNRTCIsIHJv\ndW5kdHJpcHMocSwgZmFsc2UpKTsNCiAgICAgICAgSXRlcmF0b3IgaXRyID0g\nKChDb2xsZWN0aW9uKSBxLmdldENhbmRpZGF0ZUNvbGxlY3Rpb24oKSkuaXRl\ncmF0b3IoKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShpdHIuaGFzTmV4dCgpKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCIxIiwgKChSdW50aW1lVGVzdDEpIGl0\nci5uZXh0KCkpLmdldFN0cmluZ0ZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRU\ncnVlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIjIi\nLCAoKFJ1bnRpbWVUZXN0MSkgaXRyLm5leHQoKSkuZ2V0U3RyaW5nRmllbGQo\nKSk7DQogICAgICAgIGFzc2VydEZhbHNlKGl0ci5oYXNOZXh0KCkpOw0KICAg\nICAgICBxLmNsb3NlQWxsKCk7DQogICAgICAgIHBtLmNsb3NlKCk7DQogICAg\nfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RUYWJsZVN0YXJRdWVyeSgp\nIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBB\nRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAg\nICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KCJqYXZheC5qZG8u\ncXVlcnkuU1FMIiwNCiAgICAgICAgICAgICAgICAic2VsZWN0ICIgKyBfdGFi\nbGVOYW1lICsgIi4qIGZyb20gIiArIF9mdWxsVGFibGVOYW1lICsgIiBvcmRl\nciBieSAiDQogICAgICAgICAgICAgICAgKyBfaW50Q29sTmFtZSk7DQogICAg\nICAgIHEuc2V0UmVzdWx0Q2xhc3MoUnVudGltZVRlc3QxLmNsYXNzKTsNCiAg\nICAgICAgSXRlcmF0b3IgaXRyID0gKChDb2xsZWN0aW9uKSBxLmdldENhbmRp\nZGF0ZUNvbGxlY3Rpb24oKSkuaXRlcmF0b3IoKTsNCiAgICAgICAgYXNzZXJ0\nVHJ1ZShpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCIx\nIiwgKChSdW50aW1lVGVzdDEpIGl0ci5uZXh0KCkpLmdldFN0cmluZ0ZpZWxk\nKCkpOw0KICAgICAgICBhc3NlcnRUcnVlKGl0ci5oYXNOZXh0KCkpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoIjIiLCAoKFJ1bnRpbWVUZXN0MSkgaXRyLm5l\neHQoKSkuZ2V0U3RyaW5nRmllbGQoKSk7DQogICAgICAgIGFzc2VydEZhbHNl\nKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBxLmNsb3NlQWxsKCk7DQogICAg\nICAgIHBtLmNsb3NlKCk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lk\nIHRlc3RDb2x1bW5RdWVyeSgpIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlciljdXJyZW50RW50aXR5\nTWFuYWdlcigpOw0KICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0\nZVF1ZXJ5KCJqYXZheC5qZG8ucXVlcnkuU1FMIiwNCiAgICAgICAgICAgICAg\nICAic2VsZWN0ICIgKyBfcGtDb2xOYW1lICsgIiwgIiArIF9pbnRDb2xOYW1l\nICsgIiwgIiArIF9zdHJpbmdDb2xOYW1lDQogICAgICAgICAgICAgICAgKyAi\nIGZyb20gIiArIF9mdWxsVGFibGVOYW1lICsgIiBvcmRlciBieSAiICsgX2lu\ndENvbE5hbWUpOw0KICAgICAgICBxLnNldFJlc3VsdENsYXNzKFJ1bnRpbWVU\nZXN0MS5jbGFzcyk7DQogICAgICAgIEl0ZXJhdG9yIGl0ciA9ICgoQ29sbGVj\ndGlvbikgcS5nZXRDYW5kaWRhdGVDb2xsZWN0aW9uKCkpLml0ZXJhdG9yKCk7\nDQogICAgICAgIGFzc2VydFRydWUoaXRyLmhhc05leHQoKSk7DQogICAgICAg\nIGFzc2VydEVxdWFscygiMSIsICgoUnVudGltZVRlc3QxKSBpdHIubmV4dCgp\nKS5nZXRTdHJpbmdGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShpdHIu\naGFzTmV4dCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCIyIiwgKChSdW50\naW1lVGVzdDEpIGl0ci5uZXh0KCkpLmdldFN0cmluZ0ZpZWxkKCkpOw0KICAg\nICAgICBhc3NlcnRGYWxzZShpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgcS5j\nbG9zZUFsbCgpOw0KICAgICAgICBwbS5jbG9zZSgpOw0KICAgIH0NCiAgICAN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0Sm9pblF1ZXJ5KCkgew0KICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIE9wZW5KUEFRdWVy\neSBxID0gcG0uY3JlYXRlUXVlcnkoImphdmF4Lmpkby5xdWVyeS5TUUwiLA0K\nICAgICAgICAgICAgICAgICJzZWxlY3QgdDAuKiBmcm9tICIgKyBfZnVsbFRh\nYmxlTmFtZSArICIgdDAsICINCiAgICAgICAgICAgICAgICArIF9mdWxsVGFi\nbGVOYW1lICsgIiB0MSB3aGVyZSB0MC4iICsgX3JlbENvbE5hbWUgKyAiID0g\ndDEuIg0KICAgICAgICAgICAgICAgICsgX3BrQ29sTmFtZSArICIgYW5kIHQx\nLiIgKyBfaW50Q29sTmFtZSArICIgPSAyIik7DQogICAgICAgIHEuc2V0UmVz\ndWx0Q2xhc3MoUnVudGltZVRlc3QxLmNsYXNzKTsNCiAgICAgICAgSXRlcmF0\nb3IgaXRyID0gKChDb2xsZWN0aW9uKSBxLmdldENhbmRpZGF0ZUNvbGxlY3Rp\nb24oKSkuaXRlcmF0b3IoKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShpdHIuaGFz\nTmV4dCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCIxIiwgKChSdW50aW1l\nVGVzdDEpIGl0ci5uZXh0KCkpLmdldFN0cmluZ0ZpZWxkKCkpOw0KICAgICAg\nICBhc3NlcnRGYWxzZShpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgcS5jbG9z\nZUFsbCgpOw0KICAgICAgICBwbS5jbG9zZSgpOw0KICAgIH0NCiAgICANCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0UGFyYW1ldGVycygpIHsNCiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5TWFuYWdlcilj\ndXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBPcGVuSlBBUXVlcnkg\ncSA9IHBtLmNyZWF0ZVF1ZXJ5KCJqYXZheC5qZG8ucXVlcnkuU1FMIiwNCiAg\nICAgICAgICAgICAgICAic2VsZWN0ICogZnJvbSAiICsgX2Z1bGxUYWJsZU5h\nbWUgKyAiIHdoZXJlICdmb28nID0gPyBhbmQgIg0KICAgICAgICAgICAgICAg\nICsgX2ludENvbE5hbWUgKyAiID0gPyIpOw0KICAgICAgICBxLnNldFJlc3Vs\ndENsYXNzKFJ1bnRpbWVUZXN0MS5jbGFzcyk7DQogICAgICAgIC8vRklYTUUg\nanRob21hcw0KICAgICAgICAvKkl0ZXJhdG9yIGl0ciA9ICgoQ29sbGVjdGlv\nbikgcS5leGVjdXRlKCJmb28iLCBuZXcgSW50ZWdlcigyKSkpLg0KICAgICAg\nICAgICAgICAgIGl0ZXJhdG9yKCk7DQogICAgICAgIGFzc2VydFRydWUoaXRy\nLmhhc05leHQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygiMiIsICgoUnVu\ndGltZVRlc3QxKSBpdHIubmV4dCgpKS5nZXRTdHJpbmdGaWVsZCgpKTsNCiAg\nICAgICAgYXNzZXJ0RmFsc2UoaXRyLmhhc05leHQoKSk7DQogICAgICAgICAq\nLw0KICAgICAgICBxLmNsb3NlQWxsKCk7DQogICAgICAgIA0KICAgICAgICBN\nYXAgcGFyYW1zID0gbmV3IEhhc2hNYXAoKTsNCiAgICAgICAgcGFyYW1zLnB1\ndChuZXcgSW50ZWdlcigxKSwgImZvbyIpOw0KICAgICAgICBwYXJhbXMucHV0\nKG5ldyBJbnRlZ2VyKDIpLCBuZXcgSW50ZWdlcigyKSk7DQogICAgICAgIC8v\nRklYTUUganRob21hcw0KICAgICAgICAvKml0ciA9ICgoQ29sbGVjdGlvbikg\ncS5leGVjdXRlV2l0aE1hcChwYXJhbXMpKS5pdGVyYXRvcigpOw0KICAgICAg\nICBhc3NlcnRUcnVlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoIjIiLCAoKFJ1bnRpbWVUZXN0MSkgaXRyLm5leHQoKSkuZ2V0U3Ry\naW5nRmllbGQoKSk7DQogICAgICAgIGFzc2VydEZhbHNlKGl0ci5oYXNOZXh0\nKCkpOw0KICAgICAgICAgKi8NCiAgICAgICAgcS5jbG9zZUFsbCgpOw0KICAg\nICAgICBwbS5jbG9zZSgpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0T25seVNlbGVjdGVkRmllbGRzTG9hZGVkKCkgew0KICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIE9wZW5KUEFRdWVy\neSBxID0gcG0uY3JlYXRlUXVlcnkoImphdmF4Lmpkby5xdWVyeS5TUUwiLA0K\nICAgICAgICAgICAgICAgICJzZWxlY3QgIiArIF9wa0NvbE5hbWUgKyAiLCAi\nICsgX2ludENvbE5hbWUgKyAiLCAiICsgX3N0cmluZ0NvbE5hbWUNCiAgICAg\nICAgICAgICAgICArICIgZnJvbSAiICsgX2Z1bGxUYWJsZU5hbWUgKyAiIG9y\nZGVyIGJ5ICIgKyBfaW50Q29sTmFtZSk7DQogICAgICAgIHEuc2V0UmVzdWx0\nQ2xhc3MoUnVudGltZVRlc3QxLmNsYXNzKTsNCiAgICAgICAgSXRlcmF0b3Ig\naXRyID0gKChDb2xsZWN0aW9uKSBxLmdldENhbmRpZGF0ZUNvbGxlY3Rpb24o\nKSkuaXRlcmF0b3IoKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShpdHIuaGFzTmV4\ndCgpKTsNCiAgICAgICAgUnVudGltZVRlc3QxIHBjID0gKFJ1bnRpbWVUZXN0\nMSkgaXRyLm5leHQoKTsNCiAgICAgICAgT3BlbkpQQVN0YXRlTWFuYWdlciBz\nbSA9IGdldFN0YXRlTWFuYWdlcihwYywgcG0pOw0KICAgICAgICBhc3NlcnRU\ncnVlKHNtLmdldExvYWRlZCgpLmdldChzbS5nZXRNZXRhRGF0YSgpLg0KICAg\nICAgICAgICAgICAgIGdldEZpZWxkKCJpbnRGaWVsZCIpLmdldEluZGV4KCkp\nKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShzbS5nZXRMb2FkZWQoKS5nZXQoc20u\nZ2V0TWV0YURhdGEoKS4NCiAgICAgICAgICAgICAgICBnZXRGaWVsZCgic3Ry\naW5nRmllbGQiKS5nZXRJbmRleCgpKSk7DQogICAgICAgIGFzc2VydEZhbHNl\nKHNtLmdldExvYWRlZCgpLmdldChzbS5nZXRNZXRhRGF0YSgpLg0KICAgICAg\nICAgICAgICAgIGdldEZpZWxkKCJsb25nRmllbGQiKS5nZXRJbmRleCgpKSk7\nDQogICAgICAgIGFzc2VydEVxdWFscygiMSIsIHBjLmdldFN0cmluZ0ZpZWxk\nKCkpOw0KICAgICAgICBhc3NlcnRGYWxzZShzbS5nZXRMb2FkZWQoKS5nZXQo\nc20uZ2V0TWV0YURhdGEoKS4NCiAgICAgICAgICAgICAgICBnZXRGaWVsZCgi\nbG9uZ0ZpZWxkIikuZ2V0SW5kZXgoKSkpOw0KICAgICAgICBxLmNsb3NlQWxs\nKCk7DQogICAgICAgIHBtLmNsb3NlKCk7DQogICAgfQ0KICAgIA0KICAgIHB1\nYmxpYyB2b2lkIHRlc3RTaW5nbGVDb2x1bW5DbGFzc2xlc3NRdWVyeSgpIHsN\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50\naXR5TWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBP\ncGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KCJqYXZheC5qZG8ucXVl\ncnkuU1FMIiwNCiAgICAgICAgICAgICAgICAic2VsZWN0ICIgKyBfc3RyaW5n\nQ29sTmFtZSArICIgZnJvbSAiICsgX2Z1bGxUYWJsZU5hbWUNCiAgICAgICAg\nICAgICAgICArICIgb3JkZXIgYnkgIiArIF9zdHJpbmdDb2xOYW1lKTsNCiAg\nICAgICAgSXRlcmF0b3IgaXRyID0gKChDb2xsZWN0aW9uKSBxLmdldENhbmRp\nZGF0ZUNvbGxlY3Rpb24oKSkuaXRlcmF0b3IoKTsNCiAgICAgICAgYXNzZXJ0\nVHJ1ZShpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCIx\nIiwgaXRyLm5leHQoKSk7DQogICAgICAgIGFzc2VydFRydWUoaXRyLmhhc05l\neHQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygiMiIsIGl0ci5uZXh0KCkp\nOw0KICAgICAgICBhc3NlcnRGYWxzZShpdHIuaGFzTmV4dCgpKTsNCiAgICAg\nICAgcS5jbG9zZUFsbCgpOw0KICAgICAgICANCiAgICAgICAgcS5zZXRSZXN1\nbHRDbGFzcyhPYmplY3RbXS5jbGFzcyk7DQogICAgICAgIGl0ciA9ICgoQ29s\nbGVjdGlvbikgcS5nZXRDYW5kaWRhdGVDb2xsZWN0aW9uKCkpLml0ZXJhdG9y\nKCk7DQogICAgICAgIGFzc2VydFRydWUoaXRyLmhhc05leHQoKSk7DQogICAg\nICAgIE9iamVjdFtdIHZhbHMgPSAoT2JqZWN0W10pIGl0ci5uZXh0KCk7DQog\nICAgICAgIGFzc2VydEVxdWFscygxLCB2YWxzLmxlbmd0aCk7DQogICAgICAg\nIGFzc2VydEVxdWFscygiMSIsIHZhbHNbMF0pOw0KICAgICAgICBhc3NlcnRU\ncnVlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICB2YWxzID0gKE9iamVjdFtd\nKSBpdHIubmV4dCgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgdmFscy5s\nZW5ndGgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIjIiLCB2YWxzWzBdKTsN\nCiAgICAgICAgYXNzZXJ0RmFsc2UoaXRyLmhhc05leHQoKSk7DQogICAgICAg\nIHEuY2xvc2VBbGwoKTsNCiAgICAgICAgDQogICAgICAgIHBtLmNsb3NlKCk7\nDQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RNdWx0aUNvbHVt\nbkNsYXNzbGVzc1F1ZXJ5KCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlN\nYW5hZ2VyKCk7DQogICAgICAgIE9wZW5KUEFRdWVyeSBxID0gcG0uY3JlYXRl\nUXVlcnkoImphdmF4Lmpkby5xdWVyeS5TUUwiLA0KICAgICAgICAgICAgICAg\nICJzZWxlY3QgIiArIF9pbnRDb2xOYW1lICsgIiwgIiArIF9zdHJpbmdDb2xO\nYW1lICsgIiBmcm9tICINCiAgICAgICAgICAgICAgICArIF9mdWxsVGFibGVO\nYW1lICsgIiBvcmRlciBieSAiICsgX3N0cmluZ0NvbE5hbWUpOw0KICAgICAg\nICBJdGVyYXRvciBpdHIgPSAoKENvbGxlY3Rpb24pIHEuZ2V0Q2FuZGlkYXRl\nQ29sbGVjdGlvbigpKS5pdGVyYXRvcigpOw0KICAgICAgICBhc3NlcnRUcnVl\nKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBPYmplY3RbXSB2YWxzID0gKE9i\namVjdFtdKSBpdHIubmV4dCgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwg\ndmFscy5sZW5ndGgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgKChOdW1i\nZXIpIHZhbHNbMF0pLmludFZhbHVlKCkpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoIjEiLCB2YWxzWzFdKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShpdHIuaGFz\nTmV4dCgpKTsNCiAgICAgICAgdmFscyA9IChPYmplY3RbXSkgaXRyLm5leHQo\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHZhbHMubGVuZ3RoKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDIsICgoTnVtYmVyKSB2YWxzWzBdKS5pbnRW\nYWx1ZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCIyIiwgdmFsc1sxXSk7\nDQogICAgICAgIGFzc2VydEZhbHNlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAg\nICBxLmNsb3NlQWxsKCk7DQogICAgICAgIHBtLmNsb3NlKCk7DQogICAgfQ0K\nICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RSZXN1bHRDbGFzcygpIHsNCiAg\nICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPShPcGVuSlBBRW50aXR5\nTWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBPcGVu\nSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KCJqYXZheC5qZG8ucXVlcnku\nU1FMIiwNCiAgICAgICAgICAgICAgICAic2VsZWN0ICogZnJvbSAiICsgX2Z1\nbGxUYWJsZU5hbWUgKyAiIG9yZGVyIGJ5ICIgKyBfaW50Q29sTmFtZSk7DQog\nICAgICAgIHEuc2V0UmVzdWx0Q2xhc3MoUnVudGltZVRlc3QxLmNsYXNzKTsN\nCiAgICAgICAgcS5zZXRSZXN1bHRDbGFzcyhIb2xkZXIuY2xhc3MpOw0KICAg\nICAgICBJdGVyYXRvciBpdHIgPSAoKENvbGxlY3Rpb24pIHEuZ2V0Q2FuZGlk\nYXRlQ29sbGVjdGlvbigpKS5pdGVyYXRvcigpOw0KICAgICAgICBhc3NlcnRU\ncnVlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBIb2xkZXIgaG9sZGVyID0g\nKEhvbGRlcikgaXRyLm5leHQoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAs\nIGhvbGRlci5JKTsNCiAgICAgICAgYXNzZXJ0TnVsbChob2xkZXIuUyk7DQog\nICAgICAgIGFzc2VydE5vdE51bGwoaG9sZGVyLnBjKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCIxIiwgaG9sZGVyLnBjLmdldFN0cmluZ0ZpZWxkKCkpOw0K\nICAgICAgICBhc3NlcnRUcnVlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICBo\nb2xkZXIgPSAoSG9sZGVyKSBpdHIubmV4dCgpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMCwgaG9sZGVyLkkpOw0KICAgICAgICBhc3NlcnROdWxsKGhvbGRl\nci5TKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChob2xkZXIucGMpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoIjIiLCBob2xkZXIucGMuZ2V0U3RyaW5nRmll\nbGQoKSk7DQogICAgICAgIGFzc2VydEZhbHNlKGl0ci5oYXNOZXh0KCkpOw0K\nICAgICAgICBxLmNsb3NlQWxsKCk7DQogICAgICAgIHBtLmNsb3NlKCk7DQog\nICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RDbGFzc2xlc3NQcm9q\nZWN0aW9uKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nDQogICAgICAgIE9wZW5KUEFRdWVyeSBxID0gcG0uY3JlYXRlUXVlcnkoImph\ndmF4Lmpkby5xdWVyeS5TUUwiLA0KICAgICAgICAgICAgICAgICJzZWxlY3Qg\nIiArIF9pbnRDb2xOYW1lICsgIiBhcyBJLCAiICsgX3N0cmluZ0NvbE5hbWUg\nKyAiIGFzIFMgZnJvbSAiDQogICAgICAgICAgICAgICAgKyBfZnVsbFRhYmxl\nTmFtZSArICIgb3JkZXIgYnkgIiArIF9pbnRDb2xOYW1lKTsNCiAgICAgICAg\ncS5zZXRSZXN1bHRDbGFzcyhIb2xkZXIuY2xhc3MpOw0KICAgICAgICBJdGVy\nYXRvciBpdHIgPSAoKENvbGxlY3Rpb24pIHEuZ2V0Q2FuZGlkYXRlQ29sbGVj\ndGlvbigpKS5pdGVyYXRvcigpOw0KICAgICAgICBhc3NlcnRUcnVlKGl0ci5o\nYXNOZXh0KCkpOw0KICAgICAgICBIb2xkZXIgaG9sZGVyID0gKEhvbGRlcikg\naXRyLm5leHQoKTsNCiAgICAgICAgYXNzZXJ0TnVsbChob2xkZXIucGMpOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoMSwgaG9sZGVyLkkpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoIjEiLCBob2xkZXIuUyk7DQogICAgICAgIGFzc2VydFRy\ndWUoaXRyLmhhc05leHQoKSk7DQogICAgICAgIGhvbGRlciA9IChIb2xkZXIp\nIGl0ci5uZXh0KCk7DQogICAgICAgIGFzc2VydE51bGwoaG9sZGVyLnBjKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIGhvbGRlci5JKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCIyIiwgaG9sZGVyLlMpOw0KICAgICAgICBhc3NlcnRG\nYWxzZShpdHIuaGFzTmV4dCgpKTsNCiAgICAgICAgcS5jbG9zZUFsbCgpOw0K\nICAgICAgICBwbS5jbG9zZSgpOw0KICAgIH0NCiAgICANCiAgICAvKioNCiAg\nICAgKiBNYW51YWwgdGVzdCB0byBzZWUgaWYgYSByZWxhdGlvbiB3aWxsIGJl\nIGVhZ2VybHkgbG9hZGVkIHdoZW4gU1FMDQogICAgICogY29udGFpbmluZyBl\nbm91Z2ggaW5mb3JtYXRpb24gaXMgcnVuLiBUaGlzIGlzIG5vdCBydW4gYXMg\ncGFydCBvZg0KICAgICAqIHRoZSB1bml0IHRlc3RzIHNpbmNlIHdlIGRvbid0\nIGtub3cgaWYgdGhpcyBiZWhhdmlvciBzaG91bGQgYmUNCiAgICAgKiByZWFs\nbHkgZXhwZWN0ZWQgdG8gd29yayBvciBub3QuDQogICAgICovDQogICAgcHVi\nbGljIHZvaWQgcmVsYXRpb25Mb2FkZWRUZXN0KCkgew0KICAgICAgIGRlbGV0\nZUFsbChBdHRhY2hELmNsYXNzKTsNCiAgICAgICBkZWxldGVBbGwoQXR0YWNo\nQS5jbGFzcyk7DQogICAgICAgIA0KICAgICAgICBBdHRhY2hEIGQgPSBuZXcg\nQXR0YWNoRCgpOw0KICAgICAgICBBdHRhY2hBIGEgPSBuZXcgQXR0YWNoQSgp\nOw0KICAgICAgICBkLnNldEEoYSk7DQogICAgICAgIA0KICAgICAgICBPcGVu\nSlBBRW50aXR5TWFuYWdlciBwbSA9KE9wZW5KUEFFbnRpdHlNYW5hZ2VyKWN1\ncnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHBtLmdldFRyYW5zYWN0\naW9uKCkuYmVnaW4oKTsNCiAgICAgICAgcG0ucGVyc2lzdChkKTsNCiAgICAg\nICAgcG0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsNCiAgICAgICAgcG0u\nY2xvc2UoKTsNCiAgICAgICAgDQogICAgICAgIEpEQkNDb25maWd1cmF0aW9u\nIGNvbmYgPSAoSkRCQ0NvbmZpZ3VyYXRpb24pICgoT3BlbkpQQUVudGl0eU1h\nbmFnZXJGYWN0b3J5U1BJKSBwbSkuZ2V0Q29uZmlndXJhdGlvbigpOw0KICAg\nICAgICBEQkRpY3Rpb25hcnkgZGljdCA9IGNvbmYuZ2V0REJEaWN0aW9uYXJ5\nSW5zdGFuY2UoKTsNCiAgICAgICAgTWFwcGluZ1JlcG9zaXRvcnkgcmVwb3Mg\nPSBjb25mLmdldE1hcHBpbmdSZXBvc2l0b3J5SW5zdGFuY2UoKTsNCiAgICAg\nICAgDQogICAgICAgIENsYXNzTWFwcGluZyBtYXBwaW5nQSA9IHJlcG9zLmdl\ndE1hcHBpbmcoQXR0YWNoRC5jbGFzcywNCiAgICAgICAgICAgICAgICBwbS5n\nZXRDbGFzc0xvYWRlcigpLCB0cnVlKTsNCiAgICAgICAgU3RyaW5nIHRhYmxl\nTmFtZUEgPSBtYXBwaW5nQS5nZXRUYWJsZSgpLmdldE5hbWUoKTsNCiAgICAg\nICAgU3RyaW5nIGZ1bGxUYWJsZU5hbWVBID0gZGljdC5nZXRGdWxsTmFtZSht\nYXBwaW5nQS5nZXRUYWJsZSgpLCBmYWxzZSk7DQogICAgICAgIFN0cmluZyBy\nZWxDb2xOYW1lQSA9IG1hcHBpbmdBLmdldEZpZWxkTWFwcGluZygiYSIpLg0K\nICAgICAgICAgICAgICAgIGdldENvbHVtbnMoKVswXS5nZXROYW1lKCk7DQog\nICAgICAgIA0KICAgICAgICBDbGFzc01hcHBpbmcgbWFwcGluZ0QgPSByZXBv\ncy5nZXRNYXBwaW5nKEF0dGFjaEEuY2xhc3MsDQogICAgICAgICAgICAgICAg\ncG0uZ2V0Q2xhc3NMb2FkZXIoKSwgdHJ1ZSk7DQogICAgICAgIFN0cmluZyB0\nYWJsZU5hbWVEID0gbWFwcGluZ0QuZ2V0VGFibGUoKS5nZXROYW1lKCk7DQog\nICAgICAgIFN0cmluZyBmdWxsVGFibGVOYW1lRCA9IGRpY3QuZ2V0RnVsbE5h\nbWUobWFwcGluZ0QuZ2V0VGFibGUoKSwgZmFsc2UpOw0KICAgICAgICBTdHJp\nbmcgcGtDb2xOYW1lRCA9IG1hcHBpbmdELmdldFRhYmxlKCkuZ2V0UHJpbWFy\neUtleSgpLg0KICAgICAgICAgICAgICAgIGdldENvbHVtbnMoKVswXS5nZXRO\nYW1lKCk7DQogICAgICAgIA0KICAgICAgICBwbSA9IChPcGVuSlBBRW50aXR5\nTWFuYWdlciljdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBPcGVu\nSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZVF1ZXJ5KCJqYXZheC5qZG8ucXVlcnku\nU1FMIiwNCiAgICAgICAgICAgICAgICAic2VsZWN0IHQwLiosIHQxLiogZnJv\nbSAiDQogICAgICAgICAgICAgICAgKyBmdWxsVGFibGVOYW1lQSArICIgdDAs\nICINCiAgICAgICAgICAgICAgICArIGZ1bGxUYWJsZU5hbWVEICsgIiB0MSAi\nDQogICAgICAgICAgICAgICAgKyAid2hlcmUgdDAuIiArIHJlbENvbE5hbWVB\nICsgIiA9IHQxLiIgKyBwa0NvbE5hbWVEKTsNCiAgICAgICAgDQogICAgICAg\nIC8vIGV2ZW4gdGhlIGV4YWN0IHNhbWUgU1FMIHRoYXQgS29kbyBnZW5lcmF0\nZXMgd2lsbCBub3QNCiAgICAgICAgLy8gZWFnZXJseSBsb2FkIHRoZSByZWxh\ndGlvbg0KICAgICAgICAvKg0KICAgICAgICAgIHEgPSBwbS5uZXdRdWVyeSAo\nImphdmF4Lmpkby5xdWVyeS5TUUwiLA0KICAgICAgICAgICAgICAiU0VMRUNU\nIHQxLklELCB0MS5UWVAsIHQxLlZFUlNOLCB0MS5BREJMLCB0MS5BSU5ULCAi\nDQogICAgICAgICAgICAgICsgInQxLkFTVFIsIHQxLkJEQkwsIHQxLkJJTlQs\nIHQxLkJTVFIsIHQxLkNEQkwsIHQxLkNJTlQsICINCiAgICAgICAgICAgICAg\nKyAidDEuQ1NUUiwgdDAuRERCTCwgdDAuRElOVCwgdDAuRFNUUiAiDQogICAg\nICAgICAgICAgICsgIkZST00gQVRUQUNIRCB0MCBMRUZUIE9VVEVSIEpPSU4g\nQVRUQUNIQSB0MSBPTiB0MC5BID0gdDEuSUQiKTsNCiAgICAgICAgICovDQog\nICAgICAgIA0KICAgICAgICBxLnNldFJlc3VsdENsYXNzKEF0dGFjaEQuY2xh\nc3MpOw0KICAgICAgICBJdGVyYXRvciBpdHIgPSAoKENvbGxlY3Rpb24pIHEu\nZ2V0Q2FuZGlkYXRlQ29sbGVjdGlvbigpKS5pdGVyYXRvcigpOw0KICAgICAg\nICBhc3NlcnRUcnVlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICANCiAgICAg\nICAgZCA9IChBdHRhY2hEKSBpdHIubmV4dCgpOw0KICAgICAgICAvLyBkLmdl\ndERzdHIgKCk7DQogICAgICAgIA0KICAgICAgICBPcGVuSlBBU3RhdGVNYW5h\nZ2VyIHNtID0gZ2V0U3RhdGVNYW5hZ2VyKGQsIHBtKTsNCiAgICAgICAgYXNz\nZXJ0VHJ1ZShzbS5nZXRMb2FkZWQoKS4NCiAgICAgICAgICAgICAgICBnZXQo\nc20uZ2V0TWV0YURhdGEoKS5nZXRGaWVsZCgiYSIpLmdldEluZGV4KCkpKTsN\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbChkLmdldEEoKSk7DQogICAgICAgIGFz\nc2VydEZhbHNlKGl0ci5oYXNOZXh0KCkpOw0KICAgICAgICANCiAgICAgICAg\ncS5jbG9zZUFsbCgpOw0KICAgICAgICBwbS5jbG9zZSgpOw0KICAgIH0NCiAg\nICANCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEhvbGRlciB7DQogICAgICAg\nIA0KICAgICAgICBwdWJsaWMgUnVudGltZVRlc3QxIHBjOw0KICAgICAgICBw\ndWJsaWMgaW50IEk7DQogICAgICAgIHB1YmxpYyBTdHJpbmcgUzsNCiAgICAg\nICAgDQogICAgICAgIHB1YmxpYyB2b2lkIHNldFJ1bnRpbWVUZXN0MShSdW50\naW1lVGVzdDEgcGMpIHsNCiAgICAgICAgICAgIHRoaXMucGMgPSBwYzsNCiAg\nICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgc3RhdGljIHZvaWQg\nbWFpbihTdHJpbmdbXSBhcmdzKQ0KICAgIHRocm93cyBFeGNlcHRpb24gew0K\nICAgICAgICAvLyBtYWluICgpOw0KICAgICAgICANCiAgICAgICAgbmV3IFRl\nc3RTUUxRdWVyaWVzKCkucmVsYXRpb25Mb2FkZWRUZXN0KCk7DQogICAgfQ0K\nICAgIA0KICAgIHByaXZhdGUgc3RhdGljIE9iamVjdCByb3VuZHRyaXBzKE9i\namVjdCBvcmlnLCBib29sZWFuIHZhbGlkYXRlRXF1YWxpdHkpDQogICAgdGhy\nb3dzIElPRXhjZXB0aW9uLCBDbGFzc05vdEZvdW5kRXhjZXB0aW9uIHsNCiAg\nICAgICAgYXNzZXJ0Tm90TnVsbChvcmlnKTsNCiAgICAgICAgDQogICAgICAg\nIEJ5dGVBcnJheU91dHB1dFN0cmVhbSBib3V0ID0gbmV3IEJ5dGVBcnJheU91\ndHB1dFN0cmVhbSgpOw0KICAgICAgICBPYmplY3RPdXRwdXRTdHJlYW0gb3V0\nID0gbmV3IE9iamVjdE91dHB1dFN0cmVhbShib3V0KTsNCiAgICAgICAgb3V0\nLndyaXRlT2JqZWN0KG9yaWcpOw0KICAgICAgICBCeXRlQXJyYXlJbnB1dFN0\ncmVhbSBiaW4gPSBuZXcgQnl0ZUFycmF5SW5wdXRTdHJlYW0oDQogICAgICAg\nICAgICAgICAgYm91dC50b0J5dGVBcnJheSgpKTsNCiAgICAgICAgT2JqZWN0\nSW5wdXRTdHJlYW0gaW4gPSBuZXcgT2JqZWN0SW5wdXRTdHJlYW0oYmluKTsN\nCiAgICAgICAgT2JqZWN0IHJlc3VsdCA9IGluLnJlYWRPYmplY3QoKTsNCiAg\nICAgICAgDQogICAgICAgIGlmICh2YWxpZGF0ZUVxdWFsaXR5KSB7DQogICAg\nICAgICAgICBhc3NlcnRFcXVhbHMob3JpZy5oYXNoQ29kZSgpLCByZXN1bHQu\naGFzaENvZGUoKSk7DQogICAgICAgICAgICBhc3NlcnRFcXVhbHMob3JpZywg\ncmVzdWx0KTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgcmV0dXJu\nIHJlc3VsdDsNCiAgICB9DQogICAgDQp9DQo=\n","encoding":"base64"}

