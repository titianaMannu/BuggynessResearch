{"sha":"91d5bc665948ec4222b716c8c200935bac1be452","node_id":"MDQ6QmxvYjIwNjM2NDo5MWQ1YmM2NjU5NDhlYzQyMjJiNzE2YzhjMjAwOTM1YmFjMWJlNDUy","size":4168,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/91d5bc665948ec4222b716c8c200935bac1be452","content":"LyoNCiAqIFRlc3RMYXp5U2NoZW1hRmFjdG9yeS5qYXZhDQogKg0KICogQ3Jl\nYXRlZCBvbiBPY3RvYmVyIDYsIDIwMDYsIDE6NDcgUE0NCiAqDQogKiBUbyBj\naGFuZ2UgdGhpcyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUg\nTWFuYWdlcg0KICogYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0\nb3IuDQogKi8NCg0KLyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29m\ndHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUg\nY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJ\nQ0UgZmlsZQ0KICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFk\nZGl0aW9uYWwgaW5mb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQg\nb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRv\nIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0\naGUNCiAqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUg\nZXhjZXB0IGluIGNvbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZ\nb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQog\nKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAN\nCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3Ig\nYWdyZWVkIHRvIGluIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRl\nZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICog\nIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElP\nTlMgT0YgQU5ZDQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVk\nLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1\nYWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAq\nIHVuZGVyIHRoZSBMaWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuamRiYy5zY2hlbWE7DQoNCmltcG9y\ndCBqYXZhLnV0aWwuKjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRi\nYy5jb25mLkpEQkNDb25maWd1cmF0aW9uOw0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5MYXp5U2NoZW1hRmFjdG9yeTsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEuU2NoZW1hR3JvdXA7\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuc2NoZW1hLlRhYmxl\nOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpk\nYmMuY29tbW9uLmFwcHMuKjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY29tbW9uLnV0aWxzLkFic3RyYWN0VGVzdENhc2U7DQoN\nCmltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5Bbm5vdGF0aW9uOw0KaW1w\nb3J0IGp1bml0LmZyYW1ld29yay4qOw0KaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLkVudGl0eU1hbmFnZXI7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nRW50aXR5TWFuYWdlckZhY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeTsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQ\nQUVudGl0eU1hbmFnZXI7DQoNCg0KcHVibGljIGNsYXNzIFRlc3RMYXp5U2No\nZW1hRmFjdG9yeSBleHRlbmRzIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5qZGJjLmtlcm5lbC5CYXNlSkRCQ1Rlc3R7DQogICAgICAgDQogICAg\ncHJpdmF0ZSBTY2hlbWFHcm91cCBfZ3JvdXAgPSBudWxsOw0KICAgIHByaXZh\ndGUgYm9vbGVhbiBfZmtzID0gdHJ1ZTsNCiAgICANCiAgICAvKiogQ3JlYXRl\ncyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0TGF6eVNjaGVtYUZhY3RvcnkgKi8N\nCiAgICBwdWJsaWMgVGVzdExhenlTY2hlbWFGYWN0b3J5KCkgew0KICAgIH0N\nCg0KICAgIHB1YmxpYyBUZXN0TGF6eVNjaGVtYUZhY3RvcnkoU3RyaW5nIHRl\nc3QpIHsNCiAgICAgICAgc3VwZXIodGVzdCk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgc2V0VXAoKQ0KICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsN\nCiAgICAgICAgLy8gc2VlIGlmIHRoZSBkaWN0IHN1cHBvcnRzIGZvcmVpZ24g\na2V5czsgbXlzcWwgY2FuIHN1cHBvcnQgdGhlbSwgYnV0DQogICAgICAgIC8v\nIGNhbid0IGRldGVjdCBrZXlzIGFkZGVkIHRocm91Z2ggYWx0ZXIgdGFibGUg\nY29tbWFuZHMsIHdoaWNoIGlzIHdoYXQNCiAgICAgICAgLy8ga29kbyB1c2Vz\nDQogICAgICAgIEpEQkNDb25maWd1cmF0aW9uIGNvbmYgPSAoSkRCQ0NvbmZp\nZ3VyYXRpb24pIGdldENvbmZpZ3VyYXRpb24oKTsNCiAgICAgICAgX2ZrcyA9\nIGNvbmYuZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKS5zdXBwb3J0c0ZvcmVp\nZ25LZXlzDQogICAgICAgICAgICAmJiBnZXRDdXJyZW50UGxhdGZvcm0oKSAh\nPSBBYnN0cmFjdFRlc3RDYXNlLlBsYXRmb3JtLk1ZU1FMOw0KDQogICAgICAg\nIExhenlTY2hlbWFGYWN0b3J5IGZhY3RvcnkgPSBuZXcgTGF6eVNjaGVtYUZh\nY3RvcnkoKTsNCiAgICAgICAgZmFjdG9yeS5zZXRDb25maWd1cmF0aW9uKGNv\nbmYpOw0KICAgICAgICBmYWN0b3J5LnNldFByaW1hcnlLZXlzKHRydWUpOw0K\nICAgICAgICBmYWN0b3J5LnNldEluZGV4ZXModHJ1ZSk7DQogICAgICAgIGZh\nY3Rvcnkuc2V0Rm9yZWlnbktleXModHJ1ZSk7DQogICAgICAgIF9ncm91cCA9\nIGZhY3Rvcnk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdExhenlT\nY2hlbWFGYWN0b3J5KCkgew0KICAgICAgICAvLyBzaG91bGQgcmVhZCB0YWJs\nZXMgMSBhbmQgMi4uLg0KICAgICAgICBUYWJsZSB0YWJsZSA9IF9ncm91cC5m\naW5kVGFibGUoIlQxIik7DQogICAgICAgIGFzc2VydE5vdE51bGwodGFibGUp\nOw0KICAgICAgICBUYWJsZSB0YWJsZTIgPSBfZ3JvdXAuZmluZFRhYmxlKCJ0\nMSIpOw0KICAgICAgICBhc3NlcnRUcnVlKHRhYmxlID09IHRhYmxlMik7DQoN\nCiAgICAgICAgaW50IGV4cGVjdGVkQ29sdW1ucyA9IDI7DQoNCiAgICAgICAg\nLy8gU3liYXNlIGhhcyBhbiBleHRyYSAiVU5RX0lOREVYIiBjb2x1bW4uDQog\nICAgICAgIGlmIChnZXRDdXJyZW50UGxhdGZvcm0oKSA9PSBBYnN0cmFjdFRl\nc3RDYXNlLlBsYXRmb3JtLlNZQkFTRSkNCiAgICAgICAgICAgIGV4cGVjdGVk\nQ29sdW1ucysrOw0KDQogICAgICAgIGFzc2VydEVxdWFscyhleHBlY3RlZENv\nbHVtbnMsIHRhYmxlLmdldENvbHVtbnMoKS5sZW5ndGgpOw0KICAgICAgICBp\nZiAoX2ZrcykNCiAgICAgICAgICAgIGFzc2VydEVxdWFscygxLCB0YWJsZS5n\nZXRGb3JlaWduS2V5cygpLmxlbmd0aCk7DQoNCiAgICAgICAgdGFibGUyID0g\nX2dyb3VwLmZpbmRUYWJsZSgiVDIiKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVs\nbCh0YWJsZTIpOw0KICAgICAgICBpZiAoX2ZrcykNCiAgICAgICAgICAgIGFz\nc2VydFRydWUodGFibGUuZ2V0Rm9yZWlnbktleXMoKVswXS5nZXRQcmltYXJ5\nS2V5Q29sdW1ucygpWzBdLg0KICAgICAgICAgICAgICAgIGdldFRhYmxlKCkg\nPT0gdGFibGUyKTsNCg0KICAgICAgICBhc3NlcnROdWxsKHRhYmxlLmdldFNj\naGVtYSgpLmdldFRhYmxlKCJUMyIpKTsNCg0KICAgICAgICAvLyBzaG91bGQg\ncmVhZCB0YWJsZSAzIG9ubHkuLi4NCiAgICAgICAgVGFibGUgdGFibGUzID0g\nX2dyb3VwLmZpbmRUYWJsZSgiVDMiKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVs\nbCh0YWJsZTMpOw0KICAgICAgICBhc3NlcnRUcnVlKHRhYmxlLmdldFNjaGVt\nYSgpLmdldFRhYmxlKCJUMyIpID09IHRhYmxlMyk7DQogICAgICAgIGlmIChf\nZmtzKQ0KICAgICAgICAgICAgYXNzZXJ0VHJ1ZSh0YWJsZTMuZ2V0Rm9yZWln\nbktleXMoKVswXS5nZXRQcmltYXJ5S2V5Q29sdW1ucygpWzBdLg0KICAgICAg\nICAgICAgICAgIGdldFRhYmxlKCkgPT0gdGFibGUpOw0KDQogICAgICAgIGFz\nc2VydE51bGwodGFibGUzLmdldFNjaGVtYSgpLmdldFRhYmxlKCJUNCIpKTsN\nCiAgICB9DQoNCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdb\nXSBhcmdzKSB7DQogICAgICAgIC8vbWFpbihUZXN0TGF6eVNjaGVtYUZhY3Rv\ncnkuY2xhc3MpOw0KICAgIH0NCiAgICANCn0NCg==\n","encoding":"base64"}

