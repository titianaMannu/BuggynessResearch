{"sha":"86f0c4274caa0e834eb90f9421e7347b8821b4e7","node_id":"MDQ6QmxvYjIwNjM2NDo4NmYwYzQyNzRjYWEwZTgzNGViOTBmOTQyMWU3MzQ3Yjg4MjFiNGU3","size":6678,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/86f0c4274caa0e834eb90f9421e7347b8821b4e7","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuanBxbC5jbGF1c2VzOw0KDQppbXBvcnQgamF2YS51dGls\nLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KDQppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5BYnN0\ncmFjdFRlc3RDYXNlOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5jb21tb24uYXBwcy5Db3Vyc2U7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLkFydENvdXJzZTsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9u\nLmFwcHMuRGVwYXJ0bWVudDsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuU3R1ZGVudDsNCg0KcHVibGljIGNs\nYXNzIFRlc3RFSkJDbGF1c2VzIGV4dGVuZHMgQWJzdHJhY3RUZXN0Q2FzZSB7\nDQoNCiAgICBwdWJsaWMgVGVzdEVKQkNsYXVzZXMoU3RyaW5nIG5hbWUpIHsN\nCiAgICAgICAgc3VwZXIobmFtZSwgImpwcWxjbGF1c2VzY2FjdHVzYXBwIik7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7DQogICAgICAg\nIGRlbGV0ZUFsbChDb3Vyc2UuY2xhc3MpOw0KICAgICAgICBkZWxldGVBbGwo\nU3R1ZGVudC5jbGFzcyk7DQogICAgICAgIGRlbGV0ZUFsbChEZXBhcnRtZW50\nLmNsYXNzKTsNCg0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVu\ndEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChlbSk7DQoNCiAg\nICAgICAgU3RyaW5nIG5hbWUgPSAiIjsNCiAgICAgICAgTGlzdDxDb3Vyc2U+\nIGNsaXN0ID0gbmV3IEFycmF5TGlzdDxDb3Vyc2U+KCk7DQogICAgICAgIExp\nc3Q8RGVwYXJ0bWVudD4gZGxpc3QgPSBuZXcgQXJyYXlMaXN0PERlcGFydG1l\nbnQ+KCk7DQoNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCA1OyBpKysp\nIHsNCiAgICAgICAgICAgIENvdXJzZSBjdXJyID0gbmV3IENvdXJzZSgiTWF0\naCAiICsgaSwgaSAqIDIsIGkpOw0KICAgICAgICAgICAgQ291cnNlIGFjdXJy\nID0gbmV3IEFydENvdXJzZShpICsgMjAsICJFbmdsaXNoIiArICgyICogaSkp\nOw0KICAgICAgICAgICAgRGVwYXJ0bWVudCBkdXJyID0gbmV3IERlcGFydG1l\nbnQoIkNvbXBTY2kiICsgaSwgbnVsbCwgaSArIDIpOw0KICAgICAgICAgICAg\nY2xpc3QuYWRkKGN1cnIpOw0KICAgICAgICAgICAgY2xpc3QuYWRkKGFjdXJy\nKTsNCiAgICAgICAgICAgIGRsaXN0LmFkZChkdXJyKTsNCiAgICAgICAgfQ0K\nDQogICAgICAgIFN0dWRlbnQgc3R1ZCA9IG5ldyBTdHVkZW50KCJKb25hdGhh\nbiIsIGNsaXN0LCBkbGlzdCk7DQogICAgICAgIFN0dWRlbnQgc3R1ZDIgPSBu\nZXcgU3R1ZGVudCgiU3RhbSIsIG51bGwsIGRsaXN0KTsNCiAgICAgICAgU3R1\nZGVudCBzdHVkMyA9IG5ldyBTdHVkZW50KCJKb2huIiwgY2xpc3QsIG51bGwp\nOw0KICAgICAgICBTdHVkZW50IHN0dWQ0ID0gbmV3IFN0dWRlbnQoIkJpbGwi\nLCBudWxsLCBudWxsKTsNCg0KICAgICAgICBlbS5wZXJzaXN0KHN0dWQpOw0K\nICAgICAgICBlbS5wZXJzaXN0KHN0dWQyKTsNCiAgICAgICAgZW0ucGVyc2lz\ndChzdHVkMyk7DQogICAgICAgIGVtLnBlcnNpc3Qoc3R1ZDQpOw0KDQogICAg\nICAgIGVuZFR4KGVtKTsNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyB2b2lkIHRlc3RGcm9tQ2xhdXNlMSgpIHsNCiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQog\nICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1Qgby5uYW1lIEZST00gU3R1\nZGVudCBvIjsNCg0KICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNyZWF0ZVF1\nZXJ5KHF1ZXJ5KQ0KICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsNCg0K\nICAgICAgICBhc3NlcnROb3ROdWxsKHJlc3VsdCk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscyg0LCByZXN1bHQuc2l6ZSgpKTsNCg0KICAgICAgICBlbmRFbShl\nbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEZyb21DbGF1c2Uy\nKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0\neU1hbmFnZXIoKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPSAiU0VMRUNU\nIE5FVyBhcHBzLkFydENvdXJzZShlLm5hbWUpIiArDQogICAgICAgICAgICAi\nRlJPTSBTdHVkZW50IGUiOw0KDQogICAgICAgIExpc3QgcmVzdWx0ID0gZW0u\nY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3QoKTsNCg0KICAgICAg\nICBhc3NlcnROb3ROdWxsKHJlc3VsdCk7DQogICAgICAgIGFzc2VydEVxdWFs\ncyg0LCByZXN1bHQuc2l6ZSgpKTsNCg0KICAgICAgICBlbmRFbShlbSk7DQog\nICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEZyb21DbGF1c2UzKCkgew0K\nICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsNCiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gIlNFTEVDVCBvLm5hbWUg\nIiArDQogICAgICAgICAgICAiRlJPTSBTdHVkZW50IG8sIENvdXJzZSBjICIg\nKw0KICAgICAgICAgICAgIldIRVJFIG8uY291cnNlIElTIE5VTEwgQU5EIG8u\nZGVwYXJ0bWVudCBJUyBOVUxMIjsNCg0KICAgICAgICBMaXN0IGxzID0gKExp\nc3QpIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KQ0KICAgICAgICAgICAgLmdldFJl\nc3VsdExpc3QoKTsNCiAgICAgICAgU3RyaW5nIHVubyA9IChTdHJpbmcpIGxz\nLmdldCgwKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKGxzKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIGxzLnNpemUoKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygiQmlsbCIsIHVubyk7DQoNCiAgICAgICAgZW5kRW0oZW0pOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RXaGVyZUNsYXVzZTEoKSB7\nDQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFu\nYWdlcigpOw0KICAgICAgICBTdHJpbmcgcXVlcnkgPSAiU0VMRUNUIGRpc3Rp\nbmN0IHMubmFtZSAiICsNCiAgICAgICAgICAgICJGUk9NIFN0dWRlbnQgcywg\nQ291cnNlIGQgIiArDQogICAgICAgICAgICAiV0hFUkUgZC5jb3Vyc2VJZCA+\nPSA0IEFORCBzLmRlcGFydG1lbnQgSVMgTk9UIE5VTEwiOw0KDQogICAgICAg\nIExpc3QgbHMgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlz\ndCgpOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwobHMpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoMiwgbHMuc2l6ZSgpKTsNCg0KICAgICAgICBlbmRFbShl\nbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdFdoZXJlQ2xhdXNl\nMigpIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRp\ndHlNYW5hZ2VyKCk7DQogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1Qg\nZGlzdGluY3Qgcy5uYW1lICIgKw0KICAgICAgICAgICAgIkZST00gU3R1ZGVu\ndCBzICIgKw0KICAgICAgICAgICAgIldIRVJFIiArDQogICAgICAgICAgICAi\nIEV4aXN0cyhTRUxFQ1QgYyBGUk9NIHMuY291cnNlIGMgV0hFUkUgYy5uYW1l\nIExJS0UgJ01hdGglJykiOw0KDQogICAgICAgIExpc3QgbHMgPSBlbS5jcmVh\ndGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAgICAgIGFz\nc2VydE5vdE51bGwobHMpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgbHMu\nc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShscy5jb250YWlucygiSm9u\nYXRoYW4iKSk7DQogICAgICAgIGFzc2VydFRydWUobHMuY29udGFpbnMoIkpv\naG4iKSk7DQoNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1\nYmxpYyB2b2lkIHRlc3RDbGF1c2VSYW5nZVZhcigpIHsNCiAgICAgICAgRW50\naXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAg\nICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1QgRElTVElOQ1QgcyBGUk9NIFN0\ndWRlbnQgcywgU3R1ZGVudCBzMiAiICsNCiAgICAgICAgICAgICJXSEVSRSBz\nLm5hbWUgPSAnSm9obicgQU5EIHMyLm5hbWUgPSAnSm9uYXRoYW4nIjsNCg0K\nICAgICAgICBMaXN0IGxzID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJl\nc3VsdExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKGxzKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDEsIGxzLnNpemUoKSk7DQoNCiAgICAgICAg\nU3R1ZGVudCByZXQgPSAoU3R1ZGVudCkgbHMuZ2V0KDApOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoIkpvaG4iLCByZXQuZ2V0TmFtZSgpKTsNCg0KICAgICAg\nICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdENs\nYXVzZVBhdGhFeHByKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0g\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgU3RyaW5nIGZhaWx1\ncmUgPSAiU0VMRUNUIERJU1RJTkNUIHMgIiArDQogICAgICAgICAgICAiRlJP\nTSBTdHVkZW50IHMgV0hFUkUiICsNCiAgICAgICAgICAgICIgcy5kZXBhcnRt\nZW50Lm5hbWUgPSAnQ29tcFNjaTEnIjsNCg0KICAgICAgICB0cnkgew0KICAg\nICAgICAgICAgTGlzdCBscyA9IGVtLmNyZWF0ZVF1ZXJ5KGZhaWx1cmUpLmdl\ndFJlc3VsdExpc3QoKTsNCiAgICAgICAgICAgIGZhaWwoDQogICAgICAgICAg\nICAgICAgImNhbm5vdCBjb21wb3NlIHBhdGggZXhwcmVzc2lvbnMgZnJvbSBh\nIHBhdGggZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhIGNvbGxlY3Rp\nb24uIik7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBl\nKSB7DQogICAgICAgICAgICAvLw0KICAgICAgICB9DQoNCiAgICAgICAgZW5k\nRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RDbGF1c2VQ\nYXRoRXhwcjIoKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJy\nZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBTdHJpbmcgc3VjY2VzcyA9\nDQogICAgICAgICAgICAiU0VMRUNUIERJU1RJTkNUIGQubmFtZSBGUk9NIFN0\ndWRlbnQgQVMgcywgSU4ocy5kZXBhcnRtZW50KSBkICI7DQoNCiAgICAgICAg\nTGlzdCBsczIgPSBlbS5jcmVhdGVRdWVyeShzdWNjZXNzKS5nZXRSZXN1bHRM\naXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChsczIpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoNSwgbHMyLnNpemUoKSk7DQoNCiAgICAgICAgZW5k\nRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RDb2xsTWVt\nYmVyRGVjbCgpIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAgICAgU3RyaW5nIGNvbGxkZWMg\nPSAiU0VMRUNUIERJU1RJTkNUIHMubmFtZSAiICsNCiAgICAgICAgICAgICJG\nUk9NIFN0dWRlbnQgcywiICsNCiAgICAgICAgICAgICIgSU4ocy5kZXBhcnRt\nZW50KSBkIiArDQogICAgICAgICAgICAiIFdIRVJFIGQubmFtZSA9ICdDb21w\nU2NpMiciOw0KDQogICAgICAgIExpc3QgbHMgPSBlbS5jcmVhdGVRdWVyeShj\nb2xsZGVjKS5nZXRSZXN1bHRMaXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90\nTnVsbChscyk7DQogICAgICAgIGFzc2VydEVxdWFscygyLCBscy5zaXplKCkp\nOw0KICAgICAgICBhc3NlcnRUcnVlKGxzLmNvbnRhaW5zKCJKb25hdGhhbiIp\nKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShscy5jb250YWlucygiU3RhbSIpKTsN\nCg0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgLyoqDQogICAg\nICogR3JvdXBCeSAsIE9yZGVyQnkgY2xhdXNlIGlzIHRlc3RlZCBieSB0ZXN0\nZWpicWxmdW5jdGlvbiB1bmRlcg0KICAgICAqIGZ1bmN0aW9uYWwgZGlyZWN0\nb3J5Lg0KICAgICAqLw0KfQ0K\n","encoding":"base64"}

