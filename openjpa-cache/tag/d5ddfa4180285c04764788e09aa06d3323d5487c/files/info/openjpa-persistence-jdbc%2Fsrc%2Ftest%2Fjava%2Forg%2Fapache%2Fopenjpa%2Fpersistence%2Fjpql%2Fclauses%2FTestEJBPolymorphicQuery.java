{"sha":"68601d39e5c3e385b45f10ab18e81ae709c5ee96","node_id":"MDQ6QmxvYjIwNjM2NDo2ODYwMWQzOWU1YzNlMzg1YjQ1ZjEwYWIxOGU4MWFlNzA5YzVlZTk2","size":2754,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/68601d39e5c3e385b45f10ab18e81ae709c5ee96","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuanBxbC5jbGF1c2VzOw0KDQppbXBvcnQgamF2YS51dGls\nLkxpc3Q7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdl\ncjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5j\nb21tb24uYXBwcy5FbnRpdHkxOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5wZXJzaXN0ZW5jZS5jb21tb24uYXBwcy5SdW50aW1lVGVzdDE7DQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBz\nLlJ1bnRpbWVUZXN0MjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UuY29tbW9uLnV0aWxzLkFic3RyYWN0VGVzdENhc2U7DQoNCnB1\nYmxpYyBjbGFzcyBUZXN0RUpCUG9seW1vcnBoaWNRdWVyeSBleHRlbmRzIEFi\nc3RyYWN0VGVzdENhc2Ugew0KDQogICAgcHVibGljIFRlc3RFSkJQb2x5bW9y\ncGhpY1F1ZXJ5KFN0cmluZyBuYW1lKSB7DQogICAgICAgIHN1cGVyKG5hbWUs\nICJqcHFsY2xhdXNlc2NhY3R1c2FwcCIpOw0KICAgIH0NCg0KICAgIHB1Ymxp\nYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBkZWxldGVBbGwoUnVudGltZVRl\nc3QxLmNsYXNzKTsNCiAgICAgICAgZGVsZXRlQWxsKFJ1bnRpbWVUZXN0Mi5j\nbGFzcyk7DQoNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRF\nbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgoZW0pOw0KDQogICAg\nICAgIGludCBydW4xID0gMTA7DQogICAgICAgIGludCBydW4yID0gMTU7DQoN\nCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBydW4xOyBpKyspIHsNCiAg\nICAgICAgICAgIFJ1bnRpbWVUZXN0MSBydCA9IG5ldyBSdW50aW1lVGVzdDEo\naSk7DQogICAgICAgICAgICBydC5zZXRTdHJpbmdGaWVsZCgiZm9vICIgKyBp\nKTsNCiAgICAgICAgICAgIGVtLnBlcnNpc3QocnQpOw0KICAgICAgICB9DQoN\nCiAgICAgICAgZm9yIChpbnQgaSA9IDEwOyBpIDwgcnVuMjsgaSsrKSB7DQog\nICAgICAgICAgICBlbS5wZXJzaXN0KG5ldyBSdW50aW1lVGVzdDIoaSkpOw0K\nICAgICAgICB9DQoNCiAgICAgICAgZW5kVHgoZW0pOw0KICAgICAgICBlbmRF\nbShlbSk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogRW5zdXJlcyB0aGF0\nIHdoZW4gYSBzZWxlY3QgcXVlcnkgaXMgcmFuIGFnYWluc3QgYW4gZW50aXR5\nIGF0IHRoZSB0b3Agb2YgdGhlIGhpZXJhcmNoeQ0KICAgICAqIHRoYXQgdGhl\nIHJlc3VsdCBpcyBpdHMgaW5zdGFuY2VzIGFuZCB0aGF0IG9mIGFsbCBpdHMg\nc3ViY2xhc3MuDQogICAgICovDQogICAgcHVibGljIHZvaWQgdGVzdFBvbHlt\nb3JwaGljU2VsZWN0KCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0g\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCg0KICAgICAgICBMaXN0IGwgPSBl\nbS5jcmVhdGVRdWVyeSgiU2VsZWN0IG9iamVjdChvKSBmcm9tIFJ1bnRpbWVU\nZXN0MSBvIikNCiAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7DQoNCiAg\nICAgICAgYXNzZXJ0Tm90TnVsbChsKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDE1LCBsLnNpemUoKSk7DQoNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RQb2x5bW9ycGhpY0RlbGV0ZSgpIHsN\nCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5h\nZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgoZW0pOw0KDQogICAgICAgIGludCBs\nID0gZW0uY3JlYXRlUXVlcnkoIkRlbGV0ZSBmcm9tIFJ1bnRpbWVUZXN0MSIp\nDQogICAgICAgICAgICAuZXhlY3V0ZVVwZGF0ZSgpOw0KDQogICAgICAgIGFz\nc2VydE5vdE51bGwobCk7DQogICAgICAgIGFzc2VydEVxdWFscygxNSwgbCk7\nDQoNCiAgICAgICAgZW5kVHgoZW0pOw0KICAgICAgICBlbmRFbShlbSk7DQog\nICAgfQ0KfQ0K\n","encoding":"base64"}

