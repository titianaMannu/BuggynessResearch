{"sha":"7c38762075b285db895983c3d68693b636ef071e","node_id":"MDQ6QmxvYjIwNjM2NDo3YzM4NzYyMDc1YjI4NWRiODk1OTgzYzNkNjg2OTNiNjM2ZWYwNzFl","size":4542,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7c38762075b285db895983c3d68693b636ef071e","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuanBxbC5jbGF1c2VzOw0KDQppbXBvcnQgamF2YS51dGls\nLkxpc3Q7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdl\ncjsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5OYW1lZFF1ZXJ5Ow0KDQpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5h\ncHBzLkVudGl0eTE7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmNvbW1vbi5hcHBzLkVudGl0eTI7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5BYnN0cmFjdFRl\nc3RDYXNlOw0KDQpATmFtZWRRdWVyeShuYW1lID0gInNldFBhcmFtMSIsDQog\nICAgcXVlcnkgPSAiU0VMRUNUIG8gRlJPTSBFbnRpdHkxIG8gV0hFUkUgby5w\nayBMSUtFIDpwayIpDQpwdWJsaWMgY2xhc3MgVGVzdEVKQlF1ZXJ5SW50ZXJm\nYWNlIGV4dGVuZHMgQWJzdHJhY3RUZXN0Q2FzZSB7DQoNCiAgICBwdWJsaWMg\nVGVzdEVKQlF1ZXJ5SW50ZXJmYWNlKFN0cmluZyBuYW1lKSB7DQogICAgICAg\nIHN1cGVyKG5hbWUsICJqcHFsY2xhdXNlc2NhY3R1c2FwcCIpOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBkZWxldGVB\nbGwoRW50aXR5MS5jbGFzcyk7DQoNCiAgICAgICAgaW50IGluc3ROdW0gPSAx\nMDsNCg0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0\neU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChlbSk7DQoNCiAgICAgICAg\nLy9jcmVhdGUgYW5kIHBlcnNpc3QgbXVsdGlwbGUgZW50aXR5MSBpbnN0YW5j\nZXMNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpbnN0TnVtOyBpKysp\nIHsNCiAgICAgICAgICAgIEVudGl0eTEgZW50ID0gbmV3IEVudGl0eTEoaSwg\nInN0cmluZyIgKyBpLCBpICsgMik7DQogICAgICAgICAgICBFbnRpdHkyIGVu\ndDIgPSBuZXcgRW50aXR5MihpICogMiwgImVudDIiICsgaSwgaSk7DQogICAg\nICAgICAgICBlbnQuc2V0RW50aXR5MkZpZWxkKGVudDIpOw0KICAgICAgICAg\nICAgZW0ucGVyc2lzdChlbnQpOw0KICAgICAgICB9DQoNCiAgICAgICAgZW5k\nVHgoZW0pOw0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgdGVzdFJlc3VsdExpc3QoKSB7DQogICAgICAgIEVudGl0eU1h\nbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBM\naXN0IGxpc3QgPSBlbS5jcmVhdGVRdWVyeSgiU2VsZWN0IG9iamVjdChvKSBm\ncm9tIEVudGl0eTEgbyIpDQogICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgp\nOw0KDQogICAgICAgIGFzc2VydEVxdWFscygxMCwgbGlzdC5zaXplKCkpOw0K\nDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0R2V0U2luZ2xlTGlzdCgpIHsNCiAgICAgICAgRW50aXR5TWFuYWdl\nciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIFN0cmlu\nZyBjdXJyID0gMiArICIiOw0KDQogICAgICAgIEVudGl0eTEgcmV0ID0NCiAg\nICAgICAgICAgIChFbnRpdHkxKSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIG8g\nRlJPTSBFbnRpdHkxIG8gV0hFUkUgby5wayA9IDIiKQ0KICAgICAgICAgICAg\nICAgIC5nZXRTaW5nbGVSZXN1bHQoKTsNCg0KICAgICAgICBhc3NlcnROb3RO\ndWxsKHJldCk7DQogICAgICAgIGFzc2VydEVxdWFscygic3RyaW5nMiIsIHJl\ndC5nZXRTdHJpbmdGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDQs\nIHJldC5nZXRJbnRGaWVsZCgpKTsNCg0KICAgICAgICBlbmRFbShlbSk7DQog\nICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEV4ZWN1dGVVcGRhdGUoKSB7\nDQoNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlN\nYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgoZW0pOw0KICAgICAgICBpbnQg\ncmV0ID0gZW0uY3JlYXRlUXVlcnkoIkRlbGV0ZSBGUk9NIEVudGl0eTEgbyBX\nSEVSRSBvLnBrID0gMiIpDQogICAgICAgICAgICAuZXhlY3V0ZVVwZGF0ZSgp\nOw0KDQogICAgICAgIGFzc2VydEVxdWFscyhyZXQsIDEpOw0KDQogICAgICAg\nIGludCByZXQyID0gZW0uY3JlYXRlUXVlcnkoIkRlbGV0ZSBGUk9NIEVudGl0\neTEgbyBXSEVSRSBvLnBrID0gMjIiKQ0KICAgICAgICAgICAgLmV4ZWN1dGVV\ncGRhdGUoKTsNCg0KICAgICAgICBhc3NlcnRFcXVhbHMocmV0MiwgMCk7DQoN\nCiAgICAgICAgZW5kVHgoZW0pOw0KICAgICAgICBlbmRFbShlbSk7DQogICAg\nfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdFNldE1heFJlc3VsdHMoKSB7DQog\nICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdl\ncigpOw0KDQogICAgICAgIExpc3QgbCA9IGVtLmNyZWF0ZVF1ZXJ5KCJTZWxl\nY3Qgb2JqZWN0KG8pIGZyb20gRW50aXR5MSBvIikNCiAgICAgICAgICAgIC5z\nZXRNYXhSZXN1bHRzKDUpDQogICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgp\nOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwobCk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscyg1LCBsLnNpemUoKSk7DQoNCiAgICAgICAgZW5kRW0oZW0pOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RTZXRGaXJzdFJlc3VsdHMo\nKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5\nTWFuYWdlcigpOw0KDQogICAgICAgIExpc3QgbCA9IGVtLmNyZWF0ZVF1ZXJ5\nKCJTZWxlY3Qgb2JqZWN0KG8pIGZyb20gRW50aXR5MSBvIikNCiAgICAgICAg\nICAgIC5zZXRGaXJzdFJlc3VsdCgzKQ0KICAgICAgICAgICAgLmdldFJlc3Vs\ndExpc3QoKTsNCg0KICAgICAgICBFbnRpdHkxIGVudCA9IChFbnRpdHkxKSBs\nLmdldCgwKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKGVudCk7DQogICAg\nICAgIGFzc2VydEVxdWFscygic3RyaW5nMyIsIGVudC5nZXRTdHJpbmdGaWVs\nZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIGVudC5nZXRJbnRGaWVs\nZCgpKTsNCg0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgLy8g\nVGVzdHMgQmluZGluZyBhbiBhcmd1bWVudCB0byBhIG5hbWVkIHBhcmFtZXRl\nci4NCiAgICAvLyBwaywgdGhlIG5hbWVkIHBhcmFtZXRlciAtLU5vdCB3b3Jr\naW5nIHlldC0tDQogICAgcHVibGljIHZvaWQgeHh4dGVzdFNldFBhcmFtZXRl\ncjEoKSB7DQoNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRF\nbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIFN0cmluZyBjdXJyID0gMiArICIi\nOw0KDQogICAgICAgIExpc3QgcmV0ID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVD\nVCBvIEZST00gRW50aXR5MSBvIFdIRVJFIG8ucGsgTElLRSA6cGsiKQ0KICAg\nICAgICAgICAgLnNldFBhcmFtZXRlcigicGsiLCBjdXJyKQ0KICAgICAgICAg\nICAgLmdldFJlc3VsdExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxs\nKHJldCk7DQogICAgICAgIGFzc2VydEVxdWFscygxLCByZXQuc2l6ZSgpKTsN\nCg0KICAgICAgICByZXQgPSBlbS5jcmVhdGVOYW1lZFF1ZXJ5KCJzZXRQYXJh\nbTEiKQ0KICAgICAgICAgICAgLnNldFBhcmFtZXRlcigicGsiLCBjdXJyKQ0K\nICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsNCg0KICAgICAgICBhc3Nl\ncnROb3ROdWxsKHJldCk7DQogICAgICAgIGFzc2VydEVxdWFscygxLCByZXQu\nc2l6ZSgpKTsNCg0KICAgICAgICBlbmRUeChlbSk7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

