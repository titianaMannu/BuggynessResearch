{"sha":"4e71644f474655b0a556f74e3849467981f950a8","node_id":"MDQ6QmxvYjIwNjM2NDo0ZTcxNjQ0ZjQ3NDY1NWIwYTU1NmY3NGUzODQ5NDY3OTgxZjk1MGE4","size":11050,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/4e71644f474655b0a556f74e3849467981f950a8","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuanBxbC5leHByZXNzaW9uczsNCg0KaW1wb3J0IGphdmEu\ndXRpbC5MaXN0Ow0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1h\nbmFnZXI7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuY29tbW9uLmFwcHMuKjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY29tbW9uLnV0aWxzLkFic3RyYWN0VGVzdENhc2U7DQoN\nCnB1YmxpYyBjbGFzcyBUZXN0RUpCUUxDb25kRXhwcmVzc2lvbiBleHRlbmRz\nIEFic3RyYWN0VGVzdENhc2Ugew0KDQogICAgcHJpdmF0ZSBpbnQgdXNlcmlk\nMSwgdXNlcmlkMiwgdXNlcmlkMywgdXNlcmlkNCwgdXNlcmlkNTsNCg0KICAg\nIHB1YmxpYyBUZXN0RUpCUUxDb25kRXhwcmVzc2lvbihTdHJpbmcgbmFtZSkg\new0KICAgICAgICBzdXBlcihuYW1lLCAianBxbGNsYXVzZXNjYWN0dXNhcHAi\nKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsNCiAgICAg\nICAgZGVsZXRlQWxsKENvbXBVc2VyLmNsYXNzKTsNCiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAg\nIHN0YXJ0VHgoZW0pOw0KDQogICAgICAgIEFkZHJlc3NbXSBhZGQgPQ0KICAg\nICAgICAgICAgbmV3IEFkZHJlc3NbXXsgbmV3IEFkZHJlc3MoIjQzIFNhbnNv\nbWUiLCAiU0YiLCAiVVNBIiwgIjk0MTA0IiksDQogICAgICAgICAgICAgICAg\nbmV3IEFkZHJlc3MoIjI0IE1pbmsiLCAiQU5USU9DSCIsICJVU0EiLCAiOTQ1\nMTMiKSwNCiAgICAgICAgICAgICAgICBuZXcgQWRkcmVzcygiMjMgT2diZXRl\nIiwgIkNvYWxDYW1wIiwgIk5JR0VSSUEiLCAiMDAwMDAiKSwNCiAgICAgICAg\nICAgICAgICBuZXcgQWRkcmVzcygiMTAgV2lsc2hpcmUiLCAiV29yY2VzdGVy\nIiwgIkNBTkFEQSIsICI4MDA4MCIpLA0KICAgICAgICAgICAgICAgIG5ldyBB\nZGRyZXNzKCIyMyBCZWxsZmxvd2VyIiwgIk9ndWkiLCAiTklHRVJJQSIsICIw\nMjAwMCIpIH07DQoNCiAgICAgICAgQ29tcFVzZXIgdXNlcjEgPSBjcmVhdGVV\nc2VyKCJTZWV0aGEiLCAiTUFDIiwgYWRkWzBdLCA0MCwgdHJ1ZSk7DQogICAg\nICAgIENvbXBVc2VyIHVzZXIyID0gY3JlYXRlVXNlcigiU2hhbm5vbiIsICJQ\nQyIsIGFkZFsxXSwgMzYsIGZhbHNlKTsNCiAgICAgICAgQ29tcFVzZXIgdXNl\ncjMgPSBjcmVhdGVVc2VyKCJVZ28iLCAiUEMiLCBhZGRbMl0sIDE5LCB0cnVl\nKTsNCiAgICAgICAgQ29tcFVzZXIgdXNlcjQgPSBjcmVhdGVVc2VyKCJKYWNv\nYiIsICJMSU5VWCIsIGFkZFszXSwgMTAsIHRydWUpOw0KICAgICAgICBDb21w\nVXNlciB1c2VyNSA9IGNyZWF0ZVVzZXIoIkZhbXp5IiwgIlVOSVgiLCBhZGRb\nNF0sIDI5LCBmYWxzZSk7DQoNCiAgICAgICAgZW0ucGVyc2lzdCh1c2VyMSk7\nDQogICAgICAgIHVzZXJpZDEgPSB1c2VyMS5nZXRVc2VyaWQoKTsNCiAgICAg\nICAgZW0ucGVyc2lzdCh1c2VyMik7DQogICAgICAgIHVzZXJpZDIgPSB1c2Vy\nMi5nZXRVc2VyaWQoKTsNCiAgICAgICAgZW0ucGVyc2lzdCh1c2VyMyk7DQog\nICAgICAgIHVzZXJpZDMgPSB1c2VyMy5nZXRVc2VyaWQoKTsNCiAgICAgICAg\nZW0ucGVyc2lzdCh1c2VyNCk7DQogICAgICAgIHVzZXJpZDQgPSB1c2VyNC5n\nZXRVc2VyaWQoKTsNCiAgICAgICAgZW0ucGVyc2lzdCh1c2VyNSk7DQogICAg\nICAgIHVzZXJpZDUgPSB1c2VyNS5nZXRVc2VyaWQoKTsNCg0KICAgICAgICBl\nbmRUeChlbSk7DQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0Tm90aGluZygpIHsNCiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIFN0\ncmluZyBxdWVyeSA9ICJTRUxFQ1QgbyBGUk9NIENvbXBVc2VyIG8iOw0KDQog\nICAgICAgIExpc3QgcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdl\ndFJlc3VsdExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKCJ0aGUg\nbGlzdCBpcyBudWxsIiwgcmVzdWx0KTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJ0aGUgc2l6ZSBvZiB0aGUgbGlzdCBpcyBub3QgNSIsIDUsIHJlc3VsdC5z\naXplKCkpOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0QmV0d2VlbkV4cHIoKSB7DQogICAgICAgIEVudGl0\neU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAg\nICBTdHJpbmcgcXVlcnkgPQ0KICAgICAgICAgICAgIlNFTEVDVCBvLm5hbWUg\nRlJPTSBDb21wVXNlciBvIFdIRVJFIG8uYWdlIEJFVFdFRU4gMTkgQU5EIDQw\nIEFORCBvLmNvbXB1dGVyTmFtZSA9ICdQQyciOw0KDQogICAgICAgIExpc3Qg\ncmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3Qo\nKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKCJ0aGUgbGlzdCBpcyBudWxs\nIiwgcmVzdWx0KTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGV5IGFyZSBu\nb3QgZXF1YWwiLCAyLCByZXN1bHQuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0\nVHJ1ZSgicmVzdWx0IGRvbnQgY29udGFpbiBzaGFubm9uIiwgcmVzdWx0LmNv\nbnRhaW5zKCJTaGFubm9uIikpOw0KICAgICAgICBhc3NlcnRUcnVlKCJyZXN1\nbHQgZG9udCBjb250YWluIHVnbyIsIHJlc3VsdC5jb250YWlucygiVWdvIikp\nOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0Tm90QmV0d2VlbkV4cHIoKSB7DQogICAgICAgIEVudGl0eU1h\nbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBT\ndHJpbmcgcXVlcnkgPQ0KICAgICAgICAgICAgIlNFTEVDVCBvLm5hbWUgRlJP\nTSBDb21wVXNlciBvIFdIRVJFIG8uYWdlIE5PVCBCRVRXRUVOIDE5IEFORCA0\nMCBBTkQgby5jb21wdXRlck5hbWU9ICdQQyciOw0KDQogICAgICAgIExpc3Qg\ncmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3Qo\nKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKCJ0aGUgbGlzdCBpcyBudWxs\nIiwgcmVzdWx0KTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ0aGV5IGFyZSBu\nb3QgZXF1YWwiLCAwLCByZXN1bHQuc2l6ZSgpKTsNCg0KICAgICAgICBlbmRF\nbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEluRXhwcigp\nIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlN\nYW5hZ2VyKCk7DQogICAgICAgIFN0cmluZyBxdWVyeSA9DQogICAgICAgICAg\nICAiU0VMRUNUIG8ubmFtZSBGUk9NIENvbXBVc2VyIG8gV0hFUkUgby5hZ2Ug\nSU4gKDI5LCA0MCwgMTApIjsNCg0KICAgICAgICBMaXN0IHJlc3VsdCA9IGVt\nLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7DQoNCiAgICAg\nICAgYXNzZXJ0Tm90TnVsbCgidGhlIGxpc3QgaXMgbnVsbCIsIHJlc3VsdCk7\nDQogICAgICAgIGFzc2VydEVxdWFscygzLCByZXN1bHQuc2l6ZSgpKTsNCiAg\nICAgICAgYXNzZXJ0VHJ1ZSgic2VldGhhIGlzIG5vdCBpbiB0aGUgbGlzdCIs\nIHJlc3VsdC5jb250YWlucygiU2VldGhhIikpOw0KICAgICAgICBhc3NlcnRU\ncnVlKCJqYWNvYiBpcyBub3QgaW4gdGhlIGxpc3QiLCByZXN1bHQuY29udGFp\nbnMoIkphY29iIikpOw0KICAgICAgICBhc3NlcnRUcnVlKCJmYW16eSBpcyBu\nb3QgaW4gdGhlIGxpc3QiLCByZXN1bHQuY29udGFpbnMoIkZhbXp5IikpOw0K\nDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Tm90SW5FeHByKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVt\nID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgU3RyaW5nIHF1\nZXJ5ID0NCiAgICAgICAgICAgICJTRUxFQ1Qgby5uYW1lIEZST00gQ29tcFVz\nZXIgbyBXSEVSRSBvLmFnZSBOT1QgSU4gKDI5LCA0MCwgMTApIjsNCg0KICAg\nICAgICBMaXN0IHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRS\nZXN1bHRMaXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChyZXN1bHQp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgcmVzdWx0LnNpemUoKSk7DQog\nICAgICAgIGFzc2VydFRydWUocmVzdWx0LmNvbnRhaW5zKCJVZ28iKSk7DQog\nICAgICAgIGFzc2VydFRydWUocmVzdWx0LmNvbnRhaW5zKCJTaGFubm9uIikp\nOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0TGlrZUV4cHIoKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIg\nZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KDQogICAgICAgIFN0cmlu\nZyBxdWVyeSA9DQogICAgICAgICAgICAiU0VMRUNUIG8uY29tcHV0ZXJOYW1l\nIEZST00gQ29tcFVzZXIgbyBXSEVSRSBvLm5hbWUgTElLRSAnU2hhJScgQU5E\nIG8uY29tcHV0ZXJOYW1lIE5PVCBJTiAoJ1BDJykiOw0KDQogICAgICAgIExp\nc3QgcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExp\nc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKHJlc3VsdCk7DQogICAg\nICAgIGFzc2VydEVxdWFscygwLCByZXN1bHQuc2l6ZSgpKTsNCg0KICAgICAg\nICBxdWVyeSA9DQogICAgICAgICAgICAiU0VMRUNUIG8uY29tcHV0ZXJOYW1l\nIEZST00gQ29tcFVzZXIgbyBXSEVSRSBvLm5hbWUgTElLRSAnU2hhJW9fJyBB\nTkQgby5jb21wdXRlck5hbWUgTk9UIElOICgnVU5JWCcpIjsNCg0KICAgICAg\nICByZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlz\ndCgpOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwocmVzdWx0KTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIHJlc3VsdC5zaXplKCkpOw0KDQogICAgICAg\nIHF1ZXJ5ID0gIlNFTEVDVCBvLm5hbWUgRlJPTSBDb21wVXNlciBvIFdIRVJF\nIG8ubmFtZSBMSUtFICdfSiUnIjsNCg0KICAgICAgICByZXN1bHQgPSBlbS5j\ncmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAgICAg\nIGFzc2VydE5vdE51bGwocmVzdWx0KTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDAsIHJlc3VsdC5zaXplKCkpOw0KDQogICAgICAgIHF1ZXJ5ID0gIlNFTEVD\nVCBvLm5hbWUgRlJPTSBDb21wVXNlciBvIFdIRVJFIG8ubmFtZSBMSUtFID8x\nIEVTQ0FQRSAnfCciOw0KDQogICAgICAgIHJlc3VsdCA9IGVtLmNyZWF0ZVF1\nZXJ5KHF1ZXJ5KS5zZXRQYXJhbWV0ZXIoMSwgIiV8XyUiKS5nZXRSZXN1bHRM\naXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChyZXN1bHQpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoMCwgcmVzdWx0LnNpemUoKSk7DQoNCiAgICAg\nICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RO\ndWxsRXhwcigpIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0N\nCiAgICAgICAgICAgICJTRUxFQ1Qgby5uYW1lIEZST00gQ29tcFVzZXIgbyBX\nSEVSRSBvLmFnZSBJUyBOT1QgTlVMTCBBTkQgby5jb21wdXRlck5hbWUgPSAn\nUEMnICI7DQoNCiAgICAgICAgTGlzdCByZXN1bHQgPSBlbS5jcmVhdGVRdWVy\neShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAgICAgIGFzc2VydE5v\ndE51bGwoInRoZSBsaXN0IGlzIG51bGwiLCByZXN1bHQpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoInRoZSBsaXN0IHNpemUgaXMgbm90IDIiLCAyLCByZXN1\nbHQuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZSgidGhlIHJlc3VsdCBk\nb2VzbnQgY29udGFpbiB1Z28iLCByZXN1bHQuY29udGFpbnMoIlVnbyIpKTsN\nCiAgICAgICAgYXNzZXJ0VHJ1ZSgidGhlIHJlc3VsdCBkb2VzbnQgY29udGFp\nbiBzaGFubm9uIiwNCiAgICAgICAgICAgIHJlc3VsdC5jb250YWlucygiU2hh\nbm5vbiIpKTsNCg0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAg\ncHVibGljIHZvaWQgdGVzdE51bGxFeHByMigpIHsNCiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAg\nICAgU3RyaW5nIHF1ZXJ5ID0NCiAgICAgICAgICAgICJTRUxFQ1Qgby5uYW1l\nIEZST00gQ29tcFVzZXIgbyBXSEVSRSBvLmFkZHJlc3MuY291bnRyeSBJUyBO\nVUxMIjsNCg0KICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5\nKHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90\nTnVsbCgidGhlIGxpc3QgaXMgbnVsbCIsIHJlc3VsdCk7DQogICAgICAgIGFz\nc2VydEVxdWFscygidGhleSBhcmUgbm90IGVxdWFsIiwgMCwgcmVzdWx0LnNp\nemUoKSk7DQoNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1\nYmxpYyB2b2lkIHRlc3RJc0VtcHR5RXhwcigpIHsNCiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAg\nICAgU3RyaW5nIHF1ZXJ5ID0NCiAgICAgICAgICAgICJTRUxFQ1Qgby5uYW1l\nIEZST00gQ29tcFVzZXIgbyBXSEVSRSBvLm5pY2tuYW1lcyBJUyBOT1QgRU1Q\nVFkiOw0KDQogICAgICAgIExpc3QgcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnko\ncXVlcnkpLmdldFJlc3VsdExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3RO\ndWxsKCJ0aGUgbGlzdCBpcyBudWxsIiwgcmVzdWx0KTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJ0aGV5IGFyZSBub3QgZXF1YWwiLCAwLCByZXN1bHQuc2l6\nZSgpKTsNCg0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgdGVzdElzRW1wdHlFeHByMigpIHsNCiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAg\nICAgU3RyaW5nIHF1ZXJ5ID0NCiAgICAgICAgICAgICJTRUxFQ1Qgby5uYW1l\nIEZST00gQ29tcFVzZXIgbyBXSEVSRSBvLm5pY2tuYW1lcyBJUyBFTVBUWSI7\nDQoNCiAgICAgICAgTGlzdCByZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShxdWVy\neSkuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwo\nInRoZSBsaXN0IGlzIG51bGwiLCByZXN1bHQpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoInRoZXkgYXJlIG5vdCBlcXVhbCIsIDUsIHJlc3VsdC5zaXplKCkp\nOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICAvKioNCiAg\nICAgKiBUTyBCRSBURVNURUQgTEFURVIgV0lUSCBBIERJRkYgREFUQUJBU0UN\nCiAgICAgKiBwdWJsaWMgdm9pZCB0ZXN0TWVtYmVyT2ZFeHByKCl7fQ0KICAg\nICAqLw0KDQogICAgcHVibGljIHZvaWQgdGVzdEV4aXN0RXhwcigpIHsNCiAg\nICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2Vy\nKCk7DQoNCiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gIlNFTEVDVCBESVNUSU5D\nVCBvLm5hbWUgRlJPTSBDb21wVXNlciBvIFdIRVJFIEVYSVNUUyIgKw0KICAg\nICAgICAgICAgIiAoU0VMRUNUIGMgRlJPTSBBZGRyZXNzIGMgV0hFUkUgYyA9\nIG8uYWRkcmVzcyApIjsNCg0KICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNy\nZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7DQoNCiAgICAgICAg\nYXNzZXJ0Tm90TnVsbCgidGhlIGxpc3QgaXMgbnVsbCIsIHJlc3VsdCk7DQog\nICAgICAgIGFzc2VydEVxdWFscygidGhleSBhcmUgbm90IGVxdWFsIiwgNSwg\ncmVzdWx0LnNpemUoKSk7DQogICAgICAgIGFzc2VydFRydWUoIlNlZXRoYSBp\ncyBub3QgbGlzdCIsIHJlc3VsdC5jb250YWlucygiU2VldGhhIikpOw0KICAg\nICAgICBhc3NlcnRUcnVlKCJTaGFubm9uIGlzIG5vdCBsaXN0IiwgcmVzdWx0\nLmNvbnRhaW5zKCJTaGFubm9uIikpOw0KICAgICAgICBhc3NlcnRUcnVlKCJq\nYWNvYiBpcyBub3QgbGlzdCIsIHJlc3VsdC5jb250YWlucygiSmFjb2IiKSk7\nDQogICAgICAgIGFzc2VydFRydWUoInVnbyBpcyBub3QgbGlzdCIsIHJlc3Vs\ndC5jb250YWlucygiVWdvIikpOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm90RXhpc3RFeHByKCkgew0K\nICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPQ0KICAgICAgICAgICAg\nIlNFTEVDVCBESVNUSU5DVCBvLm5hbWUgRlJPTSBDb21wVXNlciBvIFdIRVJF\nIE5PVCBFWElTVFMiICsNCiAgICAgICAgICAgICAgICAiIChTRUxFQ1QgcyBG\nUk9NIENvbXBVc2VyIHMgV0hFUkUgcy5hZGRyZXNzLmNvdW50cnkgPSBvLmFk\nZHJlc3MuY291bnRyeSkiOw0KDQogICAgICAgIExpc3QgcmVzdWx0ID0gZW0u\nY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3QoKTsNCg0KICAgICAg\nICBhc3NlcnROb3ROdWxsKCJsaXN0IGlzIG51bGwiLCByZXN1bHQpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoInRoZXkgYXJlIG5vdCBlcXVhbCIsIDAsIHJl\nc3VsdC5zaXplKCkpOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0QW55RXhwcigpIHsNCiAgICAgICAgRW50\naXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQoNCiAg\nICAgICAgU3RyaW5nIHF1ZXJ5ID0NCiAgICAgICAgICAgICJTRUxFQ1Qgby5u\nYW1lIEZST00gQ29tcFVzZXIgbyBXSEVSRSBvLmFkZHJlc3MuemlwY29kZSA9\nIEFOWSAoIiArDQogICAgICAgICAgICAgICAgIiBTRUxFQ1Qgcy5jb21wdXRl\nck5hbWUgRlJPTSBDb21wVXNlciBzIFdIRVJFIHMuYWRkcmVzcy5jb3VudHJ5\nIElTIE5PVCBOVUxMICkiOw0KDQogICAgICAgIExpc3QgcmVzdWx0ID0gZW0u\nY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3QoKTsNCg0KICAgICAg\nICBhc3NlcnROb3ROdWxsKCJsaXN0IGlzIG51bGwiLCByZXN1bHQpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoInRoZXkgYXJlIG5vdCBlcXVhbCIsIDAsIHJl\nc3VsdC5zaXplKCkpOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29uc3RydWN0b3JFeHByKCkgew0KICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIo\nKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPQ0KICAgICAgICAgICAgIlNF\nTEVDVCBORVcgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1v\nbi5hcHBzLk1hbGVVc2VyKGMubmFtZSwgYy5jb21wdXRlck5hbWUsIGMuYWRk\ncmVzcywgYy5hZ2UsIGMudXNlcmlkKSIgKw0KICAgICAgICAgICAgICAgICIg\nRlJPTSBDb21wVXNlciBjIFdIRVJFIGMubmFtZSA9ICdTZWV0aGEnIjsNCg0K\nICAgICAgICBNYWxlVXNlciBtYWxlID0gKE1hbGVVc2VyKSBlbS5jcmVhdGVR\ndWVyeShxdWVyeSkuZ2V0U2luZ2xlUmVzdWx0KCk7DQoNCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbCgidGhlIGxpc3QgaXMgbnVsbCIsIG1hbGUpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoInRoZSBuYW1lcyBkb250IG1hdGNoIiwgIlNlZXRo\nYSIsIG1hbGUuZ2V0TmFtZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJj\nb21wdXRlciBuYW1lcyBkb250IG1hdGNoIiwgIk1BQyIsDQogICAgICAgICAg\nICBtYWxlLmdldENvbXB1dGVyTmFtZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJ0aGUgYWdlcyBkb250IG1hdGNoIiwgNDAsIG1hbGUuZ2V0QWdlKCkp\nOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\nQ29tcFVzZXIgY3JlYXRlVXNlcihTdHJpbmcgbmFtZSwgU3RyaW5nIGNOYW1l\nLCBBZGRyZXNzIGFkZCwgaW50IGFnZSwNCiAgICAgICAgYm9vbGVhbiBpc01h\nbGUpIHsNCiAgICAgICAgQ29tcFVzZXIgdXNlciA9IG51bGw7DQogICAgICAg\nIGlmIChpc01hbGUpIHsNCiAgICAgICAgICAgIHVzZXIgPSBuZXcgTWFsZVVz\nZXIoKTsNCiAgICAgICAgICAgIHVzZXIuc2V0TmFtZShuYW1lKTsNCiAgICAg\nICAgICAgIHVzZXIuc2V0Q29tcHV0ZXJOYW1lKGNOYW1lKTsNCiAgICAgICAg\nICAgIHVzZXIuc2V0QWRkcmVzcyhhZGQpOw0KICAgICAgICAgICAgdXNlci5z\nZXRBZ2UoYWdlKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHVz\nZXIgPSBuZXcgRmVtYWxlVXNlcigpOw0KICAgICAgICAgICAgdXNlci5zZXRO\nYW1lKG5hbWUpOw0KICAgICAgICAgICAgdXNlci5zZXRDb21wdXRlck5hbWUo\nY05hbWUpOw0KICAgICAgICAgICAgdXNlci5zZXRBZGRyZXNzKGFkZCk7DQog\nICAgICAgICAgICB1c2VyLnNldEFnZShhZ2UpOw0KICAgICAgICB9DQogICAg\nICAgIHJldHVybiB1c2VyOw0KCX0NCn0NCg==\n","encoding":"base64"}

