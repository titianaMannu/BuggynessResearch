{"sha":"670e08fefcea851e9347729243a44b6648064e52","node_id":"MDQ6QmxvYjIwNjM2NDo2NzBlMDhmZWZjZWE4NTFlOTM0NzcyOTI0M2E0NGI2NjQ4MDY0ZTUy","size":12290,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/670e08fefcea851e9347729243a44b6648064e52","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuanBxbC5mdW5jdGlvbnM7DQoNCmltcG9ydCBqYXZhLnV0\naWwuTGlzdDsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5h\nZ2VyOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmNvbW1vbi5hcHBzLkFkZHJlc3M7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLkNvbXBVc2VyOw0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24uYXBwcy5G\nZW1hbGVVc2VyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5jb21tb24uYXBwcy5NYWxlVXNlcjsNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0aWxzLkFic3RyYWN0VGVz\ndENhc2U7DQoNCnB1YmxpYyBjbGFzcyBUZXN0RUpCUUxGdW5jdGlvbiBleHRl\nbmRzIEFic3RyYWN0VGVzdENhc2Ugew0KDQogICAgcHJpdmF0ZSBpbnQgdXNl\ncmlkMSwgdXNlcmlkMiwgdXNlcmlkMywgdXNlcmlkNCwgdXNlcmlkNSwgdXNl\ncmlkNjsNCg0KICAgIHB1YmxpYyBUZXN0RUpCUUxGdW5jdGlvbihTdHJpbmcg\nbmFtZSkgew0KICAgICAgICBzdXBlcihuYW1lLCAianBxbGNsYXVzZXNjYWN0\ndXNhcHAiKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsN\nCiAgICAgICAgZGVsZXRlQWxsKENvbXBVc2VyLmNsYXNzKTsNCiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQog\nICAgICAgIHN0YXJ0VHgoZW0pOw0KDQogICAgICAgIEFkZHJlc3NbXSBhZGQg\nPSBuZXcgQWRkcmVzc1tdew0KICAgICAgICAgICAgbmV3IEFkZHJlc3MoIjQz\nIFNhbnNvbWUiLCAiU0YiLCAiVW5pdGVkLUtpbmdkb20iLCAiOTQxMDQiKSwN\nCiAgICAgICAgICAgIG5ldyBBZGRyZXNzKCIyNCBNaW5rIiwgIkFOVElPQ0gi\nLCAiVVNBIiwgIjk0NTEzIiksDQogICAgICAgICAgICBuZXcgQWRkcmVzcygi\nMjMgT2diZXRlIiwgIkNvYWxDYW1wIiwgIk5JR0VSSUEiLCAiMDAwMDAiKSwN\nCiAgICAgICAgICAgIG5ldyBBZGRyZXNzKCIxMCBXaWxzaGlyZSIsICJXb3Jj\nZXN0ZXIiLCAiQ0FOQURBIiwgIjgwMDgwIiksDQogICAgICAgICAgICBuZXcg\nQWRkcmVzcygiMjMgQmVsbGZsb3dlciIsICJPZ3VpIiwgbnVsbCwgIjAyMDAw\nIiksDQogICAgICAgICAgICBuZXcgQWRkcmVzcygiMjIgTW9udGdvbWVyeSIs\nICJTRiIsIG51bGwsICI1MDA1NCIpIH07DQoNCiAgICAgICAgQ29tcFVzZXIg\ndXNlcjEgPSBjcmVhdGVVc2VyKCJTZWV0aGEiLCAiTUFDIiwgYWRkWzBdLCAz\nNiwgdHJ1ZSk7DQogICAgICAgIENvbXBVc2VyIHVzZXIyID0gY3JlYXRlVXNl\ncigiU2hhbm5vbiAiLCAiUEMiLCBhZGRbMV0sIDM2LCBmYWxzZSk7DQogICAg\nICAgIENvbXBVc2VyIHVzZXIzID0gY3JlYXRlVXNlcigiVWdvIiwgIlBDIiwg\nYWRkWzJdLCAxOSwgdHJ1ZSk7DQogICAgICAgIENvbXBVc2VyIHVzZXI0ID0g\nY3JlYXRlVXNlcigiX0phY29iIiwgIkxJTlVYIiwgYWRkWzNdLCAxMCwgdHJ1\nZSk7DQogICAgICAgIENvbXBVc2VyIHVzZXI1ID0gY3JlYXRlVXNlcigiRmFt\nenkiLCAiVU5JWCIsIGFkZFs0XSwgMjksIGZhbHNlKTsNCiAgICAgICAgQ29t\ncFVzZXIgdXNlcjYgPSBjcmVhdGVVc2VyKCJTaGFkZSIsICJVTklYIiwgYWRk\nWzVdLCAyMywgZmFsc2UpOw0KDQogICAgICAgIGVtLnBlcnNpc3QodXNlcjEp\nOw0KICAgICAgICB1c2VyaWQxID0gdXNlcjEuZ2V0VXNlcmlkKCk7DQogICAg\nICAgIGVtLnBlcnNpc3QodXNlcjIpOw0KICAgICAgICB1c2VyaWQyID0gdXNl\ncjIuZ2V0VXNlcmlkKCk7DQogICAgICAgIGVtLnBlcnNpc3QodXNlcjMpOw0K\nICAgICAgICB1c2VyaWQzID0gdXNlcjMuZ2V0VXNlcmlkKCk7DQogICAgICAg\nIGVtLnBlcnNpc3QodXNlcjQpOw0KICAgICAgICB1c2VyaWQ0ID0gdXNlcjQu\nZ2V0VXNlcmlkKCk7DQogICAgICAgIGVtLnBlcnNpc3QodXNlcjUpOw0KICAg\nICAgICB1c2VyaWQ1ID0gdXNlcjUuZ2V0VXNlcmlkKCk7DQogICAgICAgIGVt\nLnBlcnNpc3QodXNlcjYpOw0KICAgICAgICB1c2VyaWQ2ID0gdXNlcjYuZ2V0\nVXNlcmlkKCk7DQoNCiAgICAgICAgZW5kVHgoZW0pOw0KICAgICAgICBlbmRF\nbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdENvbmNhdFN1\nYlN0cmluZ0Z1bmMoKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBj\ndXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAgICAgICBzdGFydFR4KGVtKTsN\nCg0KICAgICAgICBDb21wVXNlciB1c2VyID0gZW0uZmluZChDb21wVXNlci5j\nbGFzcywgdXNlcmlkMSk7DQogICAgICAgIGFzc2VydE5vdE51bGwoInVzZXIg\naXMgbnVsbCIsIHVzZXIpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInRoZSBu\nYW1lIGlzIG5vdCBzZWV0aGEiLCAiU2VldGhhIiwgdXNlci5nZXROYW1lKCkp\nOw0KDQogICAgICAgIFN0cmluZyBxdWVyeSA9ICJVUERBVEUgQ29tcFVzZXIg\nZSBTRVQgZS5uYW1lID0gIiArDQogICAgICAgICAgICAiQ09OQ0FUKCdBYmxh\naHVtJywgU1VCU1RSSU5HKGUubmFtZSwgTE9DQVRFKCdlJywgZS5uYW1lKSwg\nNCkpICIgKw0KICAgICAgICAgICAgIldIRVJFIGUubmFtZT0nU2VldGhhJyI7\nDQogICAgICAgIGludCByZXN1bHQgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSku\nZXhlY3V0ZVVwZGF0ZSgpOw0KDQogICAgICAgIGFzc2VydEVxdWFscygidGhl\nIHJlc3VsdCBpcyBub3QgMSIsIDEsIHJlc3VsdCk7DQoNCiAgICAgICAgdXNl\nciA9IGVtLmZpbmQoQ29tcFVzZXIuY2xhc3MsIHVzZXJpZDEpOw0KICAgICAg\nICBlbS5yZWZyZXNoKHVzZXIpOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwo\nInRoZSB1c2VyIGlzIG51bGwiLCB1c2VyKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJ0aGUgdXNlcnMgbmFtZSBpcyBub3QgQWJsYWh1bVNlZXQiLCAiQWJs\nYWh1bWVldGgiLA0KICAgICAgICAgICAgdXNlci5nZXROYW1lKCkpOw0KDQog\nICAgICAgIGVuZFR4KGVtKTsNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RDb25jYXRGdW5jMigpIHsNCiAgICAg\nICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nDQogICAgICAgIHN0YXJ0VHgoZW0pOw0KDQogICAgICAgIENvbXBVc2VyIHVz\nZXIgPSBlbS5maW5kKENvbXBVc2VyLmNsYXNzLCB1c2VyaWQxKTsNCiAgICAg\nICAgYXNzZXJ0Tm90TnVsbCgidGhlIHVzZXIgaXMgbnVsbCIsIHVzZXIpOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoInRoZSB1c2VycyBuYW1lIGlzIG5vdCBz\nZWV0aGEiLCB1c2VyLmdldE5hbWUoKSwgIlNlZXRoYSIpOw0KDQogICAgICAg\nIFN0cmluZyBxdWVyeSA9ICJVUERBVEUgQ29tcFVzZXIgZSAiICsNCiAgICAg\nICAgICAgICJTRVQgZS5uYW1lID0gIiArDQogICAgICAgICAgICAiQ09OQ0FU\nKCcnLCAnJykgV0hFUkUgZS5uYW1lPSdTZWV0aGEnIjsNCiAgICAgICAgaW50\nIHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5leGVjdXRlVXBkYXRl\nKCk7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHJlc3VsdCk7DQoNCiAg\nICAgICAgdXNlciA9IGVtLmZpbmQoQ29tcFVzZXIuY2xhc3MsIHVzZXJpZDEp\nOw0KICAgICAgICBlbS5yZWZyZXNoKHVzZXIpOw0KICAgICAgICBhc3NlcnRO\nb3ROdWxsKHVzZXIpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIiIsIHVzZXIu\nZ2V0TmFtZSgpKTsNCg0KICAgICAgICBlbmRUeChlbSk7DQogICAgICAgIGVu\nZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0VHJpbUZ1\nbmMzKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVu\ndGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChlbSk7DQoNCiAgICAg\nICAgQ29tcFVzZXIgdXNlciA9IGVtLmZpbmQoQ29tcFVzZXIuY2xhc3MsIHVz\nZXJpZDIpOw0KICAgICAgICBhc3NlcnROb3ROdWxsKHVzZXIpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoIlNoYW5ub24gIiwgdXNlci5nZXROYW1lKCkpOw0K\nDQogICAgICAgIFN0cmluZyBxdWVyeSA9ICJVUERBVEUgQ29tcFVzZXIgZSBT\nRVQgIiArDQogICAgICAgICAgICAiZS5uYW1lID0gVHJpbShlLm5hbWUpIFdI\nRVJFICIgKw0KICAgICAgICAgICAgImUubmFtZT0nU2hhbm5vbiAnIjsNCiAg\nICAgICAgaW50IHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5leGVj\ndXRlVXBkYXRlKCk7DQoNCiAgICAgICAgdXNlciA9IGVtLmZpbmQoQ29tcFVz\nZXIuY2xhc3MsIHVzZXJpZDIpOw0KICAgICAgICBlbS5yZWZyZXNoKHVzZXIp\nOw0KICAgICAgICBhc3NlcnROb3ROdWxsKHVzZXIpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoIlNoYW5ub24iLCB1c2VyLmdldE5hbWUoKSk7DQoNCiAgICAg\nICAgZW5kVHgoZW0pOw0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgdGVzdExvd2VyRnVuYygpIHsNCiAgICAgICAgRW50\naXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAg\nICAgIHN0YXJ0VHgoZW0pOw0KDQogICAgICAgIENvbXBVc2VyIHVzZXIgPSBl\nbS5maW5kKENvbXBVc2VyLmNsYXNzLCB1c2VyaWQzKTsNCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbCh1c2VyKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJVZ28i\nLCB1c2VyLmdldE5hbWUoKSk7DQoNCiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0g\nIlVQREFURSBDb21wVXNlciBlIFNFVCAiICsNCiAgICAgICAgICAgICJlLm5h\nbWUgPSBMT1dFUihlLm5hbWUpIFdIRVJFIGUubmFtZT0nVWdvJyI7DQoNCiAg\nICAgICAgaW50IHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5leGVj\ndXRlVXBkYXRlKCk7DQoNCiAgICAgICAgdXNlciA9IGVtLmZpbmQoQ29tcFVz\nZXIuY2xhc3MsIHVzZXJpZDMpOw0KICAgICAgICBlbS5yZWZyZXNoKHVzZXIp\nOw0KICAgICAgICBhc3NlcnROb3ROdWxsKHVzZXIpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoInVnbyIsIHVzZXIuZ2V0TmFtZSgpKTsNCg0KICAgICAgICBl\nbmRUeChlbSk7DQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0VXBwZXJGdW5jKCkgew0KICAgICAgICBFbnRpdHlN\nYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAg\nc3RhcnRUeChlbSk7DQoNCiAgICAgICAgQ29tcFVzZXIgdXNlciA9IGVtLmZp\nbmQoQ29tcFVzZXIuY2xhc3MsIHVzZXJpZDMpOw0KICAgICAgICBhc3NlcnRO\nb3ROdWxsKHVzZXIpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIlVnbyIsIHVz\nZXIuZ2V0TmFtZSgpKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPSAiVVBE\nQVRFIENvbXBVc2VyIGUgU0VUICIgKw0KICAgICAgICAgICAgImUubmFtZSA9\nIFVQUEVSKGUubmFtZSkgV0hFUkUgZS5uYW1lPSdVZ28nIjsNCg0KICAgICAg\nICBpbnQgcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmV4ZWN1dGVV\ncGRhdGUoKTsNCg0KICAgICAgICB1c2VyID0gZW0uZmluZChDb21wVXNlci5j\nbGFzcywgdXNlcmlkMyk7DQogICAgICAgIGVtLnJlZnJlc2godXNlcik7DQog\nICAgICAgIGFzc2VydE5vdE51bGwodXNlcik7DQogICAgICAgIGFzc2VydEVx\ndWFscygiVUdPIiwgdXNlci5nZXROYW1lKCkpOw0KDQogICAgICAgIGVuZFR4\nKGVtKTsNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1Ymxp\nYyB2b2lkIHRlc3RMZW5ndGhGdW5jKCkgew0KICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCg0KICAgICAgICBT\ndHJpbmcgcXVlcnkgPSAiU0VMRUNUIG8ubmFtZSAiICsNCiAgICAgICAgICAg\nICJGUk9NIENvbXBVc2VyIG8gIiArDQogICAgICAgICAgICAiV0hFUkUgTEVO\nR1RIKG8uYWRkcmVzcy5jb3VudHJ5KSA9IDMiOw0KDQogICAgICAgIExpc3Qg\ncmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3Qo\nKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKHJlc3VsdCk7DQogICAgICAg\nIGFzc2VydEVxdWFscygxLCByZXN1bHQuc2l6ZSgpKTsNCiAgICAgICAgYXNz\nZXJ0VHJ1ZShyZXN1bHQuY29udGFpbnMoIlNoYW5ub24gIikpOw0KDQogICAg\nICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nQXJpdGhtRnVuYygpIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1\ncnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgoZW0pOw0K\nDQogICAgICAgIENvbXBVc2VyIHVzZXIgPSBlbS5maW5kKENvbXBVc2VyLmNs\nYXNzLCB1c2VyaWQxKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKHVzZXIp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIlNlZXRoYSIsIHVzZXIuZ2V0TmFt\nZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDM2LCB1c2VyLmdldEFnZSgp\nKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPQ0KICAgICAgICAgICAgIlVQ\nREFURSBDb21wVXNlciBlIFNFVCBlLmFnZSA9IEFCUyhlLmFnZSkgV0hFUkUg\nZS5uYW1lPSdTZWV0aGEnIjsNCiAgICAgICAgaW50IG51bSA9IGVtLmNyZWF0\nZVF1ZXJ5KHF1ZXJ5KS5leGVjdXRlVXBkYXRlKCk7DQoNCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbChudW0pOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgbnVt\nKTsNCg0KICAgICAgICB1c2VyID0gZW0uZmluZChDb21wVXNlci5jbGFzcywg\ndXNlcmlkMSk7DQogICAgICAgIGVtLnJlZnJlc2godXNlcik7DQoNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDM2LCB1c2VyLmdldEFnZSgpKTsNCg0KICAgICAg\nICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1BQlMgVGVzdGVkDQoNCiAgICAg\nICAgcXVlcnkgPQ0KICAgICAgICAgICAgIlVQREFURSBDb21wVXNlciBlIFNF\nVCBlLmFnZSA9IFNRUlQoZS5hZ2UpIFdIRVJFIGUubmFtZT0nU2VldGhhJyI7\nDQogICAgICAgIG51bSA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5leGVjdXRl\nVXBkYXRlKCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChudW0pOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoMSwgbnVtKTsNCg0KICAgICAgICB1c2VyID0g\nZW0uZmluZChDb21wVXNlci5jbGFzcywgdXNlcmlkMSk7DQogICAgICAgIGVt\nLnJlZnJlc2godXNlcik7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDYsIHVz\nZXIuZ2V0QWdlKCkpOw0KDQogICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0t\nLS0tLS0tLVNRUlQgVGVzdGVkDQoNCiAgICAgICAgcXVlcnkgPQ0KICAgICAg\nICAgICAgIlVQREFURSBDb21wVXNlciBlIFNFVCBlLmFnZSA9IE1PRChlLmFn\nZSwgNCkgV0hFUkUgZS5uYW1lPSdTZWV0aGEnIjsNCiAgICAgICAgbnVtID0g\nZW0uY3JlYXRlUXVlcnkocXVlcnkpLmV4ZWN1dGVVcGRhdGUoKTsNCg0KICAg\nICAgICBhc3NlcnROb3ROdWxsKG51bSk7DQogICAgICAgIGFzc2VydEVxdWFs\ncygxLCBudW0pOw0KDQogICAgICAgIHVzZXIgPSBlbS5maW5kKENvbXBVc2Vy\nLmNsYXNzLCB1c2VyaWQxKTsNCiAgICAgICAgZW0ucmVmcmVzaCh1c2VyKTsN\nCg0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgdXNlci5nZXRBZ2UoKSk7DQoN\nCiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tTU9EIFRlc3Rl\nZA0KDQogICAgICAgIHF1ZXJ5ID0gIlNFTEVDVCBlLm5hbWUgRlJPTSBDb21w\nVXNlciBlIFdIRVJFIFNJWkUoZS5uaWNrbmFtZXMpID0gNiI7DQogICAgICAg\nIExpc3QgcmVzdWx0ID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3Vs\ndExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKHJlc3VsdCk7DQog\nICAgICAgIGFzc2VydEVxdWFscygwLCByZXN1bHQuc2l6ZSgpKTsNCg0KICAg\nICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVNJWkUgVGVzdGVkDQoN\nCiAgICAgICAgZW5kVHgoZW0pOw0KICAgICAgICBlbmRFbShlbSk7DQogICAg\nfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEdyb3VwQnlIYXZpbmdDbGF1c2Uo\nKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5\nTWFuYWdlcigpOw0KDQogICAgICAgIFN0cmluZyBxdWVyeSA9DQogICAgICAg\nICAgICAiU0VMRUNUIGMubmFtZSBGUk9NIENvbXBVc2VyIGMgR1JPVVAgQlkg\nYy5uYW1lIEhBVklORyBjLm5hbWUgTElLRSAnUyUnIjsNCg0KICAgICAgICBM\naXN0IHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRM\naXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChyZXN1bHQpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoMywgcmVzdWx0LnNpemUoKSk7DQogICAgICAg\nIGFzc2VydFRydWUocmVzdWx0LmNvbnRhaW5zKCJTaGFubm9uICIpKTsNCiAg\nICAgICAgYXNzZXJ0VHJ1ZShyZXN1bHQuY29udGFpbnMoIlNoYWRlIikpOw0K\nICAgICAgICBhc3NlcnRUcnVlKHJlc3VsdC5jb250YWlucygiU2VldGhhIikp\nOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0T3JkZXJCeUNsYXVzZSgpIHsNCiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAgICAg\nU3RyaW5nIHF1ZXJ5ID0NCiAgICAgICAgICAgICJTRUxFQ1QgYy5uYW1lIEZS\nT00gQ29tcFVzZXIgYyBXSEVSRSBjLm5hbWUgTElLRSAnUyUnIE9SREVSIEJZ\nIGMubmFtZSI7DQoNCiAgICAgICAgTGlzdCByZXN1bHQgPSBlbS5jcmVhdGVR\ndWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAgICAgIGFzc2Vy\ndE5vdE51bGwocmVzdWx0KTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHJl\nc3VsdC5zaXplKCkpOw0KICAgICAgICBhc3NlcnRUcnVlKHJlc3VsdC5jb250\nYWlucygiU2hhbm5vbiAiKSk7DQogICAgICAgIGFzc2VydFRydWUocmVzdWx0\nLmNvbnRhaW5zKCJTZWV0aGEiKSk7DQogICAgICAgIGFzc2VydFRydWUocmVz\ndWx0LmNvbnRhaW5zKCJTaGFkZSIpKTsNCg0KICAgICAgICBlbmRFbShlbSk7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEFWR0FnZ3JlZ0Z1bmMo\nKSB7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBUbyBiZSBUZXN0ZWQ6IEFW\nRywgQ09VTlQsIE1BWCwgTUlOLCBTVU0NCiAgICAgICAgICovDQoNCiAgICAg\nICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7\nDQoNCiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gIlNFTEVDVCBBVkcoZS5hZ2Up\nIEZST00gQ29tcFVzZXIgZSI7DQoNCiAgICAgICAgTGlzdCByZXN1bHQgPSBl\nbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAg\nICAgIGFzc2VydE5vdE51bGwocmVzdWx0KTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEsIHJlc3VsdC5zaXplKCkpOw0KICAgICAgICBhc3NlcnRUcnVlKHJl\nc3VsdC5jb250YWlucygyNSkpOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q09VTlRBZ2dyZWdGdW5jKCkg\new0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1h\nbmFnZXIoKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPSAiU0VMRUNUIENP\nVU5UKGMubmFtZSkgRlJPTSBDb21wVXNlciBjIjsNCg0KICAgICAgICBMaXN0\nIHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0\nKCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChyZXN1bHQpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoMSwgcmVzdWx0LnNpemUoKSk7DQogICAgICAgIGFz\nc2VydFRydWUocmVzdWx0LmNvbnRhaW5zKDZsKSk7DQoNCiAgICAgICAgZW5k\nRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RNQVhBZ2dy\nZWdGdW5jKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVu\ndEVudGl0eU1hbmFnZXIoKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPSAi\nU0VMRUNUIERJU1RJTkNUIE1BWChjLmFnZSkgRlJPTSBDb21wVXNlciBjIjsN\nCg0KICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5\nKS5nZXRSZXN1bHRMaXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChy\nZXN1bHQpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgcmVzdWx0LnNpemUo\nKSk7DQogICAgICAgIGFzc2VydFRydWUocmVzdWx0LmNvbnRhaW5zKDM2KSk7\nDQoNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2\nb2lkIHRlc3RNSU5BZ2dyZWdGdW5jKCkgew0KICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCg0KICAgICAgICBT\ndHJpbmcgcXVlcnkgPSAiU0VMRUNUIERJU1RJTkNUIE1JTihjLmFnZSkgRlJP\nTSBDb21wVXNlciBjIjsNCg0KICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNy\nZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7DQoNCiAgICAgICAg\nYXNzZXJ0Tm90TnVsbChyZXN1bHQpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\nMSwgcmVzdWx0LnNpemUoKSk7DQogICAgICAgIGFzc2VydFRydWUocmVzdWx0\nLmNvbnRhaW5zKDEwKSk7DQoNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RTVU1BZ2dyZWdGdW5jKCkgew0KICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIo\nKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPSAiU0VMRUNUIFNVTShjLmFn\nZSkgRlJPTSBDb21wVXNlciBjIjsNCg0KICAgICAgICBMaXN0IHJlc3VsdCA9\nIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KS5nZXRSZXN1bHRMaXN0KCk7DQoNCiAg\nICAgICAgYXNzZXJ0Tm90TnVsbChyZXN1bHQpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMSwgcmVzdWx0LnNpemUoKSk7DQogICAgICAgIGFzc2VydFRydWUo\ncmVzdWx0LmNvbnRhaW5zKDE1M2wpKTsNCg0KICAgICAgICBlbmRFbShlbSk7\nDQogICAgfQ0KDQogICAgcHVibGljIENvbXBVc2VyIGNyZWF0ZVVzZXIoU3Ry\naW5nIG5hbWUsIFN0cmluZyBjTmFtZSwgQWRkcmVzcyBhZGQsIGludCBhZ2Us\nDQogICAgICAgIGJvb2xlYW4gaXNNYWxlKSB7DQogICAgICAgIENvbXBVc2Vy\nIHVzZXIgPSBudWxsOw0KICAgICAgICBpZiAoaXNNYWxlKSB7DQogICAgICAg\nICAgICB1c2VyID0gbmV3IE1hbGVVc2VyKCk7DQogICAgICAgICAgICB1c2Vy\nLnNldE5hbWUobmFtZSk7DQogICAgICAgICAgICB1c2VyLnNldENvbXB1dGVy\nTmFtZShjTmFtZSk7DQogICAgICAgICAgICB1c2VyLnNldEFkZHJlc3MoYWRk\nKTsNCiAgICAgICAgICAgIHVzZXIuc2V0QWdlKGFnZSk7DQogICAgICAgIH0g\nZWxzZSB7DQogICAgICAgICAgICB1c2VyID0gbmV3IEZlbWFsZVVzZXIoKTsN\nCiAgICAgICAgICAgIHVzZXIuc2V0TmFtZShuYW1lKTsNCiAgICAgICAgICAg\nIHVzZXIuc2V0Q29tcHV0ZXJOYW1lKGNOYW1lKTsNCiAgICAgICAgICAgIHVz\nZXIuc2V0QWRkcmVzcyhhZGQpOw0KICAgICAgICAgICAgdXNlci5zZXRBZ2Uo\nYWdlKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdXNlcjsNCiAgICB9\nDQp9DQo=\n","encoding":"base64"}

