{"sha":"d84d131f77f17523da01295cd415083632362a05","node_id":"MDQ6QmxvYjIwNjM2NDpkODRkMTMxZjc3ZjE3NTIzZGEwMTI5NWNkNDE1MDgzNjMyMzYyYTA1","size":7245,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d84d131f77f17523da01295cd415083632362a05","content":"LyoNCiAqIEJhc2VLZXJuZWxUZXN0LmphdmENCiAqDQogKiBDcmVhdGVkIG9u\nIE9jdG9iZXIgOSwgMjAwNiwgMTI6NTYgUE0NCiAqDQogKiBUbyBjaGFuZ2Ug\ndGhpcyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFuYWdl\ncg0KICogYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0b3IuDQog\nKi8NCg0KLyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUg\nRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJp\nYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmls\nZQ0KICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9u\nYWwgaW5mb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJz\naGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1\nbmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAq\nICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0\nIGluIGNvbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5\nIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRw\nOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQog\nKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVk\nIHRvIGluIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRl\nciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElT\nIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0Yg\nQU5ZDQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2Vl\nIHRoZSBMaWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdv\ndmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVy\nIHRoZSBMaWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsOw0KDQppbXBvcnQgamF2YS5iZWFu\ncy5CZWFuSW5mbzsNCmltcG9ydCBqYXZhLmJlYW5zLkludHJvc3BlY3RvcjsN\nCmltcG9ydCBqYXZhLmJlYW5zLlByb3BlcnR5RGVzY3JpcHRvcjsNCmltcG9y\ndCBqYXZhLmxhbmcucmVmbGVjdC5JbnZvY2F0aW9uVGFyZ2V0RXhjZXB0aW9u\nOw0KaW1wb3J0IGphdmEubGFuZy5yZWZsZWN0Lk1ldGhvZDsNCmltcG9ydCBq\nYXZhLm1hdGguQmlnRGVjaW1hbDsNCmltcG9ydCBqYXZhLm1hdGguQmlnSW50\nZWdlcjsNCmltcG9ydCBqYXZhLnV0aWwuKjsNCmltcG9ydCBqYXZheC5tYW5h\nZ2VtZW50LkludHJvc3BlY3Rpb25FeGNlcHRpb247DQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmtlcm5lbC5Ccm9rZXI7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5PcGVuSlBBU3RhdGVNYW5hZ2VyOw0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIuY29uZi5Db25maWd1cmF0aW9uUHJv\ndmlkZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5jb25mLkNv\nbmZpZ3VyYXRpb25zOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBUGVyc2lzdGVuY2U7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLkpQQUZhY2FkZUhlbHBlcjsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1v\nbi5hcHBzLio7DQppbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uQW5ub3Rh\ndGlvbjsNCmltcG9ydCBqdW5pdC5mcmFtZXdvcmsuKjsNCmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLkVudGl0eU1hbmFnZXJGYWN0b3J5Ow0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdl\nckZhY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0KDQoNCnB1YmxpYyBhYnN0cmFj\ndCBjbGFzcyBCYXNlS2VybmVsVGVzdCBleHRlbmRzIG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24udXRpbHMuQWJzdHJhY3RUZXN0Q2Fz\nZQ0KeyAgICANCiAgICBwcml2YXRlIHN0YXRpYyBNYXAgX3N5c3Byb3BzID0g\nbmV3IEhhc2hNYXAoKTsgICAgDQogICAgDQogICAgLyoqIENyZWF0ZXMgYSBu\nZXcgaW5zdGFuY2Ugb2YgQmFzZUtlcm5lbFRlc3QgKi8NCiAgICBwdWJsaWMg\nQmFzZUtlcm5lbFRlc3QoKSB7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyBC\nYXNlS2VybmVsVGVzdChTdHJpbmcgbmFtZSkgew0KICAgICAgICBzdXBlcihu\nYW1lLCAia2VybmVsY2FjdHVzYXBwIik7DQogICAgfQ0KICAgIA0KICAgIHBy\nb3RlY3RlZCBPcGVuSlBBRW50aXR5TWFuYWdlciBnZXRQTSgpIHsNCiAgICAg\nICAgcmV0dXJuIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgfQ0KICAg\nIA0KICAgIHByb3RlY3RlZCBPcGVuSlBBRW50aXR5TWFuYWdlciBnZXRQTShi\nb29sZWFuIG9wdGltaXN0aWMsYm9vbGVhbiByZXRhaW5WYWx1ZXMpIA0KICAg\nIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50\nRW50aXR5TWFuYWdlcigpOw0KICAgICAgICBlbS5zZXROb250cmFuc2FjdGlv\nbmFsUmVhZCh0cnVlKTsNCiAgICAgICAgZW0uc2V0UmV0YWluU3RhdGUocmV0\nYWluVmFsdWVzKTsNCiAgICAgICAgaWYoZW0uZ2V0VHJhbnNhY3Rpb24oKS5p\nc0FjdGl2ZSgpKQ0KICAgICAgICB7DQogICAgICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAgICAgICAgZW0uc2V0T3B0aW1p\nc3RpYyhvcHRpbWlzdGljKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVy\nbiBlbTsNCiAgICB9DQogICAgDQogICAgcHJvdGVjdGVkIE9iamVjdCBwZXJz\naXN0KE9iamVjdCBvYikgew0KICAgICAgICAvL0ZJWE1FICAtIHRoaXMgaXMg\nanVzdCBhIHdvcmthcm91bmQgDQogICAgICAgIC8vICBCcm9rZXIgYnJva2Vy\nID0gLmdldEJyb2tlckZhY3RvcnkoKS5uZXdCcm9rZXIoKTsNCiAgICAgICAg\nQnJva2VyIGJyb2tlciA9IEpQQUZhY2FkZUhlbHBlci50b0Jyb2tlcihjdXJy\nZW50RW50aXR5TWFuYWdlcigpKTsNCiAgICAgICAgYnJva2VyLmJlZ2luKCk7\nDQogICAgICAgIGJyb2tlci5wZXJzaXN0KG9iLCBudWxsKTsNCiAgICAgICAg\nT2JqZWN0IGlkID0gYnJva2VyLmdldE9iamVjdElkKG9iKTsNCiAgICAgICAg\nYnJva2VyLmNvbW1pdCgpOw0KICAgICAgICBicm9rZXIuY2xvc2UoKTsNCiAg\nICAgICAgcmV0dXJuIGlkOw0KICAgIH0NCiAgICANCg0KICAgIHByb3RlY3Rl\nZCBQcm9wZXJ0aWVzIGdldFByb3BlcnRpZXMoKSB7DQogICAgICAgIHJldHVy\nbiBnZXRQcm9wZXJ0aWVzKG51bGwpOw0KICAgIH0NCg0KICAgIC8qKg0KICAg\nICAqIFJldHVybiB0aGUgcnVudGltZSBwcm9wZXJ0aWVzLCBvcHRpb25hbGx5\nIG92ZXJyaWRpbmcgb3Igc2V0dGluZw0KICAgICAqIHNvbWUgdmlhIHRoZSBn\naXZlbiBhcnJheSwgd2hpY2ggc2hvdWxkIGJlIGluIHRoZSBmb3JtDQogICAg\nICogeyBrZXksIHZhbCwga2V5LCB2YWwsIC4uLiB9Lg0KICAgICAqLw0KICAg\nIHByb3RlY3RlZCBzeW5jaHJvbml6ZWQgUHJvcGVydGllcyBnZXRQcm9wZXJ0\naWVzKFN0cmluZ1tdIHByb3BzKSB7DQogICAgICAgIFByb3BlcnRpZXMgcCA9\nIG5ldyBQcm9wZXJ0aWVzKFN5c3RlbS5nZXRQcm9wZXJ0aWVzKCkpOw0KICAg\nICAgICBTdHJpbmcgc3RyID0gcC5nZXRQcm9wZXJ0eSgib3BlbmpwYS5wcm9w\nZXJ0aWVzIiwgImtvZG8ucHJvcGVydGllcyIpOw0KICAgICAgICBpZiAoc3Ry\nICE9IG51bGwgJiYgc3RyLmxlbmd0aCgpID4gMCkgew0KICAgICAgICAgICAg\nLy8gY2FjaGUgc3lzdGVtIHByb3BlcnRpZXMgdG8gcmVkdWNlIGxvYWQgb24g\nZmlsZSBzeXN0ZW0NCiAgICAgICAgICAgIFByb3BlcnRpZXMgbG9hZGVkID0g\nKFByb3BlcnRpZXMpIF9zeXNwcm9wcy5nZXQoc3RyKTsNCiAgICAgICAgICAg\nIGlmIChsb2FkZWQgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGxvYWRl\nZCA9IG5ldyBQcm9wZXJ0aWVzKCk7DQogICAgICAgICAgICAgICAgQ29uZmln\ndXJhdGlvblByb3ZpZGVyIGNwID0gKENvbmZpZ3VyYXRpb25Qcm92aWRlcikg\nQ29uZmlndXJhdGlvbnMuZ2V0UHJvcGVydHkoc3RyLCBudWxsKTsNCg0KICAg\nICAgICAgICAgICAgIGlmIChjcCAhPSBudWxsKQ0KICAgICAgICAgICAgICAg\nICAgICBsb2FkZWQucHV0QWxsKGNwLmdldFByb3BlcnRpZXMoKSk7DQogICAg\nICAgICAgICAgICAgX3N5c3Byb3BzLnB1dChzdHIsIGxvYWRlZCk7DQogICAg\nICAgICAgICB9DQogICAgICAgICAgICBwLnB1dEFsbChsb2FkZWQpOw0KICAg\nICAgICB9DQoNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IHByb3BzICE9IG51\nbGwgJiYgaSA8IHByb3BzLmxlbmd0aDsgaSArPSAyKSB7DQogICAgICAgICAg\nICBpZiAocHJvcHNbaSArIDFdICE9IG51bGwpIHsNCiAgICAgICAgICAgICAg\nICAvLyByZW1vdmUgYW55IGR1cGxpY2F0ZSBrb2RvL29wZW5qcGEgcHJvcGVy\ndHkgc28gd2UgZG9uJ3QgY2xhc2gNCiAgICAgICAgICAgICAgICBpZiAocHJv\ncHNbaV0uc3RhcnRzV2l0aCgib3BlbmpwYS4iKSkNCiAgICAgICAgICAgICAg\nICAgICAgcC5yZW1vdmUoIm9wZW5qcGEuIiArIHByb3BzW2ldLnN1YnN0cmlu\nZyg1KSk7DQogICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcHNbaV0uc3Rh\ncnRzV2l0aCgib3BlbmpwYS4iKSkNCiAgICAgICAgICAgICAgICAgICAgcC5y\nZW1vdmUoIm9wZW5qcGEuIiArIHByb3BzW2ldLnN1YnN0cmluZyg4KSk7DQoN\nCiAgICAgICAgICAgICAgICBwLnNldFByb3BlcnR5KHByb3BzW2ldLCBwcm9w\nc1tpICsgMV0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAg\nICAgICBwLnJlbW92ZShwcm9wc1tpXSk7DQogICAgICAgICAgICB9DQogICAg\nICAgIH0NCiAgICAgICAgcmV0dXJuIHA7DQogICAgfQ0KLy8NCi8vDQovLyAg\nICAvKioNCi8vICAgICAqIEFzc2VydCB0aGF0IHRoZSBnaXZlbiBMaXN0IGNv\nbnRhaW4gdGhlIGV4YWN0IHNhbWUNCi8vICAgICAqIGVsZW1lbnRzLiBUaGlz\nIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBub3JtYWwgTGlzdCBjb250cmFjdCwg\nd2hpY2gNCi8vICAgICAqIHN0YXRlcyB0aGF0IGxpc3QxLmVxdWFscyhsaXN0\nMikgaWYgZWFjaCBlbGVtZW50IGUxLmVxdWFscyhlMikuDQovLyAgICAgKiBU\naGlzIG1ldGhvZCBhc3NlcnRzIHRoYXQgZTEgPT0gbjIuDQovLyAgICAgKi8N\nCi8vICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBhc3NlcnRJZGVudGljYWwoTGlz\ndCBjMSwgTGlzdCBjMikgew0KLy8gICAgICAgIGFzc2VydEVxdWFscyhjMS5z\naXplKCksIGMyLnNpemUoKSk7DQovLyAgICAgICAgZm9yIChJdGVyYXRvciBp\nMSA9IGMxLml0ZXJhdG9yKCksIGkyID0gYzIuaXRlcmF0b3IoKTsNCi8vICAg\nICAgICAgICAgaTEuaGFzTmV4dCgpICYmIGkyLmhhc05leHQoKTspDQovLyAg\nICAgICAgICAgIGFzc2VydFRydWUoaTEubmV4dCgpID09IGkyLm5leHQoKSk7\nDQovLyAgICB9DQovLw0KLy8gICAgLyoqDQovLyAgICAgKiBBc3NlcnQgdGhh\ndCB0aGUgY29sbGVjdGlvbiBwYXJhbWV0ZXIgaXMgYWxyZWFkeSBvcmRlcmVk\nDQovLyAgICAgKiBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBjb21wYXJh\ndG9yLg0KLy8gICAgICovDQovLyAgICBwdWJsaWMgdm9pZCBhc3NlcnRPcmRl\ncmVkKENvbGxlY3Rpb24gYywgQ29tcGFyYXRvciBjb21wKSB7DQovLyAgICAg\nICAgTGlzdCBsMSA9IG5ldyBMaW5rZWRMaXN0KGMpOw0KLy8gICAgICAgIExp\nc3QgbDIgPSBuZXcgTGlua2VkTGlzdChjKTsNCi8vICAgICAgICBhc3NlcnRF\ncXVhbHMobDEsIGwyKTsNCi8vICAgICAgICBDb2xsZWN0aW9ucy5zb3J0KGwy\nLCBjb21wKTsNCi8vICAgICAgICBhc3NlcnRFcXVhbHMobDEsIGwyKTsNCi8v\nICAgICAgICBDb2xsZWN0aW9ucy5zb3J0KGwxLCBjb21wKTsNCi8vICAgICAg\nICBhc3NlcnRFcXVhbHMobDEsIGwyKTsNCi8vICAgIH0NCi8vDQovLyAgICAv\nLy8vLy8vLy8vLy8vLy8vLy8vLw0KLy8gICAgLy8gQXNzZXJ0aW9uIEhlbHBl\ncnMNCi8vICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vDQovLw0KLy8gICAgcHVi\nbGljIHZvaWQgYXNzZXJ0Tm90RXF1YWxzKE9iamVjdCBhLCBPYmplY3QgYikg\new0KLy8gICAgICAgIGlmIChhID09IG51bGwgJiYgYiAhPSBudWxsKQ0KLy8g\nICAgICAgICAgICByZXR1cm47DQovLyAgICAgICAgaWYgKGEgIT0gbnVsbCAm\nJiBiID09IG51bGwpDQovLyAgICAgICAgICAgIHJldHVybjsNCi8vICAgICAg\nICBpZiAoIShhLmVxdWFscyhiKSkpDQovLyAgICAgICAgICAgIHJldHVybjsN\nCi8vICAgICAgICBpZiAoIShiLmVxdWFscyhhKSkpDQovLyAgICAgICAgICAg\nIHJldHVybjsNCi8vDQovLyAgICAgICAgZmFpbCgiZXhwZWN0ZWQgITwiICsg\nYSArICI+LmVxdWFscyg8IiArIGIgKyAiPikiKTsNCi8vICAgIH0NCi8vDQov\nLyAgICBwdWJsaWMgdm9pZCBhc3NlcnRTaXplKGludCBzaXplLCBPYmplY3Qg\nb2IpIHsNCi8vICAgICAgICBpZiAob2IgPT0gbnVsbCkgew0KLy8gICAgICAg\nICAgICBhc3NlcnRFcXVhbHMoc2l6ZSwgMCk7DQovLyAgICAgICAgICAgIHJl\ndHVybjsNCi8vICAgICAgICB9DQovLw0KLy8gICAgICAgIGlmIChvYiBpbnN0\nYW5jZW9mIENvbGxlY3Rpb24pDQovLyAgICAgICAgICAgIG9iID0gKChDb2xs\nZWN0aW9uKSBvYikuaXRlcmF0b3IoKTsNCi8vICAgICAgICBpZiAob2IgaW5z\ndGFuY2VvZiBJdGVyYXRvcikgew0KLy8gICAgICAgICAgICBJdGVyYXRvciBp\nID0gKEl0ZXJhdG9yKSBvYjsNCi8vICAgICAgICAgICAgaW50IGNvdW50ID0g\nMDsNCi8vICAgICAgICAgICAgd2hpbGUgKGkuaGFzTmV4dCgpKSB7DQovLyAg\nICAgICAgICAgICAgICBjb3VudCsrOw0KLy8gICAgICAgICAgICAgICAgaS5u\nZXh0KCk7DQovLyAgICAgICAgICAgIH0NCi8vDQovLyAgICAgICAgICAgIGFz\nc2VydEVxdWFscyhzaXplLCBjb3VudCk7DQovLyAgICAgICAgfSBlbHNlDQov\nLyAgICAgICAgICAgIGZhaWwoImFzc2VydFNpemU6IGV4cGVjdGVkIENvbGxl\nY3Rpb24sIEl0ZXJhdG9yLCAiDQovLyAgICAgICAgICAgICAgICArICJRdWVy\neSwgb3IgRXh0ZW50LCBidXQgZ290ICINCi8vICAgICAgICAgICAgICAgICsg\nb2IuZ2V0Q2xhc3MoKS5nZXROYW1lKCkpOw0KLy8gICAgfQ0KICAgIA0KfQ0K\n","encoding":"base64"}

