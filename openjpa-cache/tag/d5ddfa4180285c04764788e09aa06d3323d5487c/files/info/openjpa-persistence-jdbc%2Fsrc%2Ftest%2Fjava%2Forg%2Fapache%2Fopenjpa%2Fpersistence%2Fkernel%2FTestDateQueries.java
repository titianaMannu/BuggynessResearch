{"sha":"cb600f22d291ca5c8ed7e076e1e75b25f181d848","node_id":"MDQ6QmxvYjIwNjM2NDpjYjYwMGYyMmQyOTFjYTVjOGVkN2UwNzZlMWU3NWIyNWYxODFkODQ4","size":4320,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/cb600f22d291ca5c8ed7e076e1e75b25f181d848","content":"LyoNCiAqIFRlc3REYXRlUXVlcmllcy5qYXZhDQogKg0KICogQ3JlYXRlZCBv\nbiBPY3RvYmVyIDEwLCAyMDA2LCAxOjI4IFBNDQogKg0KICogVG8gY2hhbmdl\nIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRlIE1hbmFn\nZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLg0K\nICovDQoNCi8qDQogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJl\nIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lDQogKiBvciBtb3JlIGNvbnRy\naWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZp\nbGUNCiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlv\nbmFsIGluZm9ybWF0aW9uDQogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVy\nc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlDQogKiB0byB5b3Ug\ndW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlDQog\nKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2Vw\ndCBpbiBjb21wbGlhbmNlDQogKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1h\neSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogaHR0\ncDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0K\nICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVl\nZCB0byBpbiB3cml0aW5nLA0KICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5k\nZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4NCiAqICJBUyBJ\nUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9G\nIEFOWQ0KICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNl\nZSB0aGUgTGljZW5zZSBmb3IgdGhlDQogKiBzcGVjaWZpYyBsYW5ndWFnZSBn\nb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zDQogKiB1bmRl\nciB0aGUgTGljZW5zZS4gICAgDQogKi8NCnBhY2thZ2Ugb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbDsNCg0KaW1wb3J0IGphdmEudGV4\ndC5TaW1wbGVEYXRlRm9ybWF0Ow0KaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0\naW9uOw0KaW1wb3J0IGphdmEudXRpbC5EYXRlOw0KaW1wb3J0IGphdmEudXRp\nbC5JdGVyYXRvcjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCg0KDQoNCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNv\nbW1vbi5hcHBzLkFsbEZpZWxkVHlwZXNUZXN0Ow0KDQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVu\nSlBBUXVlcnk7DQoNCnB1YmxpYyBjbGFzcyBUZXN0RGF0ZVF1ZXJpZXMgZXh0\nZW5kcyBCYXNlS2VybmVsVGVzdCB7DQoNCiAgICBwcml2YXRlIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIF9wbSA9IG51bGw7DQogICAgcHJpdmF0ZSBEYXRlIF9k\nYXRlID0gbnVsbDsNCiAgICBwcml2YXRlIERhdGUgX2JlZm9yZSA9IG51bGw7\nDQogICAgcHJpdmF0ZSBEYXRlIF9hZnRlciA9IG51bGw7DQoNCiAgICAvKioN\nCiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3REYXRlUXVl\ncmllcw0KICAgICAqLw0KICAgIHB1YmxpYyBUZXN0RGF0ZVF1ZXJpZXMoKSB7\nDQogICAgfQ0KDQogICAgcHVibGljIFRlc3REYXRlUXVlcmllcyhTdHJpbmcg\nbmFtZSkgew0KICAgICAgICBzdXBlcihuYW1lKTsNCiAgICB9DQoNCiAgICBw\ndWJsaWMgdm9pZCBzZXRVcCgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24g\new0KICAgICAgICBzdXBlci5zZXRVcCgpOw0KDQogICAgICAgIFNpbXBsZURh\ndGVGb3JtYXQgc2RmID0gbmV3IFNpbXBsZURhdGVGb3JtYXQoIk1NTU1NIGRk\nLCB5eXl5Iik7DQogICAgICAgIF9kYXRlID0gc2RmLnBhcnNlKCJBcHJpbCAy\nNiwgMTk3OCIpOw0KICAgICAgICBfYmVmb3JlID0gc2RmLnBhcnNlKCJBcHJp\nbCAyNSwgMTk3OCIpOw0KICAgICAgICBfYWZ0ZXIgPSBzZGYucGFyc2UoIkFw\ncmlsIDI3LCAxOTc4Iik7DQogICAgICAgIF9wbSA9IGdldFBNKCk7DQoNCiAg\nICAgICAgLy8gZGVsZXRlIGFsbCBleGlzdGluZyBpbnN0YW5jZXMNCiAgICAg\nICAgZGVsZXRlQWxsKEFsbEZpZWxkVHlwZXNUZXN0LmNsYXNzKTsNCg0KICAg\nICAgICAvLyBjcmVhdGUgc29tZSBpbnN0YW5jZXMgdG8gcXVlcnkgb24NCiAg\nICAgICAgc3RhcnRUeChfcG0pOw0KICAgICAgICBBbGxGaWVsZFR5cGVzVGVz\ndCB0ZXN0ID0gbmV3IEFsbEZpZWxkVHlwZXNUZXN0KCk7DQogICAgICAgIHRl\nc3Quc2V0VGVzdERhdGUoX2RhdGUpOw0KICAgICAgICBfcG0ucGVyc2lzdCh0\nZXN0KTsNCg0KICAgICAgICB0ZXN0ID0gbmV3IEFsbEZpZWxkVHlwZXNUZXN0\nKCk7DQogICAgICAgIHRlc3Quc2V0VGVzdERhdGUoX2JlZm9yZSk7DQogICAg\nICAgIF9wbS5wZXJzaXN0KHRlc3QpOw0KDQogICAgICAgIHRlc3QgPSBuZXcg\nQWxsRmllbGRUeXBlc1Rlc3QoKTsNCiAgICAgICAgdGVzdC5zZXRUZXN0RGF0\nZShfYWZ0ZXIpOw0KICAgICAgICBfcG0ucGVyc2lzdCh0ZXN0KTsNCiAgICAg\nICAgZW5kVHgoX3BtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nRXF1YWxzKCkgew0KICAgICAgICBDb2xsZWN0aW9uIHZhbHMgPSBleGVjdXRl\nUXVlcnkoInRlc3REYXRlID0gOmRhdGUiKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEsIHZhbHMuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKF9k\nYXRlLCAoKEFsbEZpZWxkVHlwZXNUZXN0KSB2YWxzLml0ZXJhdG9yKCkubmV4\ndCgpKS4NCiAgICAgICAgICAgIGdldFRlc3REYXRlKCkpOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyB2b2lkIHRlc3ROb3RFcXVhbHMoKSB7DQogICAgICAgIENv\nbGxlY3Rpb24gdmFscyA9IGV4ZWN1dGVRdWVyeSgidGVzdERhdGUgPD4gOmRh\ndGUiKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHZhbHMuc2l6ZSgpKTsN\nCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0QmVmb3JlKCkgew0KICAg\nICAgICBDb2xsZWN0aW9uIHZhbHMgPSBleGVjdXRlUXVlcnkoInRlc3REYXRl\nIDwgOmRhdGUiKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHZhbHMuc2l6\nZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKF9iZWZvcmUsICgoQWxsRmll\nbGRUeXBlc1Rlc3QpIHZhbHMuaXRlcmF0b3IoKS5uZXh0KCkpLg0KICAgICAg\nICAgICAgZ2V0VGVzdERhdGUoKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgdGVzdEFmdGVyKCkgew0KICAgICAgICBDb2xsZWN0aW9uIHZhbHMgPSBl\neGVjdXRlUXVlcnkoInRlc3REYXRlID4gOmRhdGUiKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDEsIHZhbHMuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKF9hZnRlciwgKChBbGxGaWVsZFR5cGVzVGVzdCkgdmFscy5pdGVyYXRv\ncigpLm5leHQoKSkuDQogICAgICAgICAgICBnZXRUZXN0RGF0ZSgpKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0T3JkZXJCeSgpIHsNCiAgICAg\nICAgU3RyaW5nIHF1ZXJ5ID0NCiAgICAgICAgICAgICJTRUxFQ1QgbyBGUk9N\nIEFsbEZpZWxkVHlwZXNUZXN0IG8gT1JERVIgQlkgby50ZXN0RGF0ZSBBU0Mi\nOw0KICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IF9wbS5jcmVhdGVRdWVyeShx\ndWVyeSk7DQogICAgICAgIExpc3QgdmFscyA9IHEuZ2V0UmVzdWx0TGlzdCgp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMywgdmFscy5zaXplKCkpOw0KDQog\nICAgICAgIEl0ZXJhdG9yIGkgPSB2YWxzLml0ZXJhdG9yKCk7DQogICAgICAg\nIGFzc2VydEVxdWFscyhfYmVmb3JlLCAoKEFsbEZpZWxkVHlwZXNUZXN0KSBp\nLm5leHQoKSkuZ2V0VGVzdERhdGUoKSk7DQogICAgICAgIGFzc2VydEVxdWFs\ncyhfZGF0ZSwgKChBbGxGaWVsZFR5cGVzVGVzdCkgaS5uZXh0KCkpLmdldFRl\nc3REYXRlKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoX2FmdGVyLCAoKEFs\nbEZpZWxkVHlwZXNUZXN0KSBpLm5leHQoKSkuZ2V0VGVzdERhdGUoKSk7DQog\nICAgfQ0KDQogICAgcHJpdmF0ZSBMaXN0IGV4ZWN1dGVRdWVyeShTdHJpbmcg\nZmlsdGVyKSB7DQogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1QgbyBG\nUk9NIEFsbEZpZWxkVHlwZXNUZXN0IG8gV0hFUkUgby4iICsgZmlsdGVyOw0K\nICAgICAgICBPcGVuSlBBUXVlcnkgcSA9IF9wbS5jcmVhdGVRdWVyeShxdWVy\neSk7DQogICAgICAgIHEuc2V0UGFyYW1ldGVyKCJkYXRlIiwgX2RhdGUpOw0K\nICAgICAgICByZXR1cm4gcS5nZXRSZXN1bHRMaXN0KCk7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

