{"sha":"5a1f9031e06b3580a8bd9d1243c08605c5f7eeeb","node_id":"MDQ6QmxvYjIwNjM2NDo1YTFmOTAzMWUwNmIzNTgwYThiZDlkMTI0M2MwODYwNWM1ZjdlZWVi","size":17300,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5a1f9031e06b3580a8bd9d1243c08605c5f7eeeb","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsOw0KDQppbXBvcnQgamF2YS51dGlsLkhhc2hN\nYXA7DQppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOw0KaW1wb3J0IGphdmEu\ndXRpbC5NYXA7DQppbXBvcnQgamF2YS51dGlsLlByb3BlcnRpZXM7DQppbXBv\ncnQgamF2YS51dGlsLlRyZWVNYXA7DQoNCg0KDQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5BdHRh\nY2hBOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5r\nZXJuZWwuY29tbW9uLmFwcHMuQXR0YWNoQjsNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLkF0dGFj\naEQ7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtl\ncm5lbC5jb21tb24uYXBwcy5BdHRhY2hFOw0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuRGV0YWNo\nU01QQzsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLk9wZW5K\nUEFDb25maWd1cmF0aW9uOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5j\nb25mLk9wZW5KUEFDb25maWd1cmF0aW9uSW1wbDsNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEuZW5oYW5jZS5QQ0VuaGFuY2VyOw0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5lbmhhbmNlLlBlcnNpc3RlbmNlQ2FwYWJsZTsNCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkRldGFjaGVkU3RhdGVN\nYW5hZ2VyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5P\ncHRpb25zOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5EZXRhY2hTdGF0ZVR5cGU7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0KaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3Rvcnk7DQoNCnB1YmxpYyBjbGFzcyBUZXN0RGV0YWNoZWRTdGF0\nZU1hbmFnZXIgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7DQoNCiAgICBwcml2\nYXRlIHN0YXRpYyBib29sZWFuIGVuaGFuY2VkID0gZmFsc2U7DQoNCiAgICBw\ncml2YXRlIGludCBvaWQ7DQogICAgcHJpdmF0ZSBpbnQgZG9pZDsNCg0KICAg\nIC8qKg0KICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVGVzdERl\ndGFjaGVkU3RhdGVNYW5hZ2VyDQogICAgICovDQogICAgcHVibGljIFRlc3RE\nZXRhY2hlZFN0YXRlTWFuYWdlcihTdHJpbmcgbmFtZSkgew0KICAgICAgICBz\ndXBlcihuYW1lKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgZGVsZXRl\nQWxsKCkgew0KICAgICAgICBkZWxldGVBbGwoQXR0YWNoQS5jbGFzcyk7DQog\nICAgICAgIGRlbGV0ZUFsbChBdHRhY2hELmNsYXNzKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgT3BlbkpQQUVudGl0eU1hbmFnZXIgZ2V0UE0oKSB7DQogICAg\nICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gc3VwZXIuZ2V0UE0oKTsN\nCiAgICAgICAgLy9GSVhNRSBqdGhvbWFzDQogICAgICAgIC8vcG0uY3VycmVu\ndFRyYW5zYWN0aW9uKCkuc2V0UmVzdG9yZVZhbHVlcyhmYWxzZSk7DQogICAg\nICAgIHJldHVybiBwbTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRV\ncCgpIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBzdXBlci5zZXRVcCgp\nOw0KDQogICAgICAgIGRlbGV0ZUFsbCgpOw0KDQogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgc3RhcnRUeChw\nbSk7DQogICAgICAgIEF0dGFjaEIgYiA9IG5ldyBBdHRhY2hCKCk7DQogICAg\nICAgIHBtLnBlcnNpc3QoYik7DQogICAgICAgIGIuc2V0QWludCg1KTsNCiAg\nICAgICAgYi5zZXRCc3RyKCI1Iik7DQogICAgICAgIGIuZ2V0U3RyaW5nSW50\nTWFwKCkucHV0KCI1IiwgbmV3IEludGVnZXIoNSkpOw0KDQogICAgICAgIEF0\ndGFjaEUgZSA9IG5ldyBBdHRhY2hFKCk7DQogICAgICAgIGUuc2V0RXN0cigi\nRSIpOw0KICAgICAgICBlLnNldEVpbnQoNSk7DQoNCiAgICAgICAgQXR0YWNo\nRCBkID0gbmV3IEF0dGFjaEQoKTsNCiAgICAgICAgZC5zZXREaW50KDUpOw0K\nICAgICAgICBkLnNldEVtYmVkZGVkRShlKTsNCiAgICAgICAgYi5nZXREcygp\nLmFkZChkKTsNCg0KICAgICAgICBwbS5wZXJzaXN0KGQpOw0KDQogICAgICAg\nIG9pZCA9IGIuZ2V0SWQoKTsNCiAgICAgICAgZG9pZCA9IGQuZ2V0SWQoKTsN\nCiAgICAgICAgZW5kVHgocG0pOw0KICAgICAgICBlbmRFbShwbSk7DQogICAg\nfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdERldGFjaCgpIHsNCiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOw0KICAgICAgICBB\ndHRhY2hCIGIgPSBwbS5maW5kKEF0dGFjaEIuY2xhc3MsIG9pZCk7DQoNCiAg\nICAgICAgYXNzZXJ0Tm90TnVsbCgiYiBpcyBudWxsIGluIHRlc3REZXRhY2gi\nLCBiKTsNCg0KICAgICAgICBiID0gKEF0dGFjaEIpIHBtLmRldGFjaChiKTsN\nCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAgICAgIGFzc2VydFRydWUocG0u\naXNEZXRhY2hlZChiKSk7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBiLmdl\ndEFpbnQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygiNSIsIGIuZ2V0QnN0\ncigpKTsNCiAgICAgICAgYXNzZXJ0TnVsbChiLmdldFN0cmluZ0ludE1hcCgp\nKTsNCg0KICAgICAgICBiLnNldEFpbnQoMTIpOw0KICAgICAgICBiLnNldEJz\ndHIoIjEyIik7DQogICAgICAgIFRyZWVNYXAgbWFwID0gbmV3IFRyZWVNYXAo\nKTsNCiAgICAgICAgbWFwLnB1dCgiMTIiLCBuZXcgSW50ZWdlcigxMikpOw0K\nICAgICAgICBiLnNldFN0cmluZ0ludE1hcChtYXApOw0KDQogICAgICAgIHBt\nID0gZ2V0UE0oKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIEF0\ndGFjaEIgYXR0YWNoZWQgPSAoQXR0YWNoQikgcG0ubWVyZ2UoYik7DQogICAg\nICAgIGFzc2VydEVxdWFscygxMiwgYXR0YWNoZWQuZ2V0QWludCgpKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCIxMiIsIGF0dGFjaGVkLmdldEJzdHIoKSk7\nDQogICAgICAgIGFzc2VydE51bGwoYXR0YWNoZWQuZ2V0U3RyaW5nSW50TWFw\nKCkuZ2V0KCIxMiIpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBJbnRl\nZ2VyKDUpLCBhdHRhY2hlZC5nZXRTdHJpbmdJbnRNYXAoKS5nZXQoIjUiKSk7\nDQogICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQog\nICAgICAgIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgYiA9IHBtLmZpbmQoQXR0\nYWNoQi5jbGFzcywgb2lkKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEyLCBi\nLmdldEFpbnQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygiMTIiLCBiLmdl\ndEJzdHIoKSk7DQogICAgICAgIGFzc2VydE51bGwoYi5nZXRTdHJpbmdJbnRN\nYXAoKS5nZXQoIjEyIikpOw0KICAgICAgICBhc3NlcnRFcXVhbHMobmV3IElu\ndGVnZXIoNSksIGIuZ2V0U3RyaW5nSW50TWFwKCkuZ2V0KCI1IikpOw0KICAg\nICAgICBlbmRFbShwbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndERldGFjaFdpdGhHcm91cHMoKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgLy9GSVhNRSBqdGhvbWFz\nDQovLyAgICAgICAgcG0uZ2V0RmV0Y2hQbGFuKCkuc2V0RGV0YWNobWVudE9w\ndGlvbnMoRmV0Y2hQbGFuSW1wbC5ERVRBQ0hfTE9BRF9GSUVMRFMgfCBGZXRj\naFBsYW5JbXBsLkRFVEFDSF9VTkxPQURfRklFTERTKTsNCiAgICAgICAgcG0u\nc2V0RGV0YWNoU3RhdGUoRGV0YWNoU3RhdGVUeXBlLkZFVENIX0dST1VQUyk7\nDQogICAgICAgIHBtLmdldEZldGNoUGxhbigpLmFkZEZldGNoR3JvdXAoImFs\nbCIpOw0KICAgICAgICBBdHRhY2hCIGIgPSBwbS5maW5kKEF0dGFjaEIuY2xh\nc3MsIG9pZCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgiYiBpcyBudWxs\nIGluIHRlc3REZXRhY2hXaXRoR3JvdXBzIiwgYik7DQoNCiAgICAgICAgYiA9\nIChBdHRhY2hCKSBwbS5kZXRhY2goYik7DQogICAgICAgIGVuZEVtKHBtKTsN\nCg0KICAgICAgICBhc3NlcnRUcnVlKHBtLmlzRGV0YWNoZWQoYikpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoImIuZ2V0QWludCgpIG5vdCA1IiwgNSwgYi5n\nZXRBaW50KCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoImIuZ2V0QWludCgp\nIG5vdCA1c3RyIiwgIjUiLCBiLmdldEJzdHIoKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygiYi5nZXRTdHJpbmdJbnRNYXAoKS5zaXplKCkgbm90IGVxdWFs\nIHRvIDEiLCAxLA0KICAgICAgICAgICAgYi5nZXRTdHJpbmdJbnRNYXAoKS5z\naXplKCkpOw0KDQogICAgICAgIGIuc2V0QWludCgxMik7DQogICAgICAgIGIu\nc2V0QnN0cigiMTIiKTsNCiAgICAgICAgYi5nZXRTdHJpbmdJbnRNYXAoKS5w\ndXQoIjEyIiwgbmV3IEludGVnZXIoMTIpKTsNCg0KICAgICAgICBwbSA9IGdl\ndFBNKCk7DQogICAgICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICBBdHRhY2hC\nIGF0dGFjaGVkID0gKEF0dGFjaEIpIHBtLm1lcmdlKGIpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoIm5vdCAxMiIsIDEyLCBhdHRhY2hlZC5nZXRBaW50KCkp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIm5vdCAxMnN0ciIsICIxMiIsIGF0\ndGFjaGVkLmdldEJzdHIoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygibm90\nIG5ld0ludGVnZXIoMTIpIiwgbmV3IEludGVnZXIoMTIpLA0KICAgICAgICAg\nICAgYXR0YWNoZWQuZ2V0U3RyaW5nSW50TWFwKCkuZ2V0KCIxMiIpKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJub3QgbmV3SW50ZWdlcig1KSIsIG5ldyBJ\nbnRlZ2VyKDUpLA0KICAgICAgICAgICAgYXR0YWNoZWQuZ2V0U3RyaW5nSW50\nTWFwKCkuZ2V0KCI1IikpOw0KICAgICAgICBlbmRUeChwbSk7DQogICAgICAg\nIGVuZEVtKHBtKTsNCg0KICAgICAgICBwbSA9IGdldFBNKCk7DQogICAgICAg\nIGIgPSAoQXR0YWNoQikgcG0uZmluZChBdHRhY2hCLmNsYXNzLCBvaWQpOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoIm5vdCBlcXVhbCAxMiIsIDEyLCBiLmdl\ndEFpbnQoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygibm90IGVxdWFsIDEy\nc3RyIiwgIjEyIiwgYi5nZXRCc3RyKCkpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoIm5vdCBlcXVhbCBuZXdpbnRlZ2VyKDEyKSIsIG5ldyBJbnRlZ2VyKDEy\nKSwNCiAgICAgICAgICAgIGIuZ2V0U3RyaW5nSW50TWFwKCkuZ2V0KCIxMiIp\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJub3QgZXF1YWwgbmV3SW50ZWdl\ncig1KSIsIG5ldyBJbnRlZ2VyKDUpLA0KICAgICAgICAgICAgYi5nZXRTdHJp\nbmdJbnRNYXAoKS5nZXQoIjUiKSk7DQogICAgICAgIGVuZEVtKHBtKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGV0YWNoTm9PdmVyd3JpdGUo\nKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0o\nKTsNCiAgICAgICAgQXR0YWNoQiBiID0gKEF0dGFjaEIpIHBtLmZpbmQoQXR0\nYWNoQi5jbGFzcywgb2lkKTsNCiAgICAgICAgYiA9IChBdHRhY2hCKSBwbS5k\nZXRhY2goYik7DQogICAgICAgIGVuZEVtKHBtKTsNCg0KICAgICAgICBiLnNl\ndEJzdHIoIjEyIik7DQoNCiAgICAgICAgcG0gPSBnZXRQTSgpOw0KICAgICAg\nICBzdGFydFR4KHBtKTsNCiAgICAgICAgQXR0YWNoQiBvcmlnID0gcG0uZmlu\nZChBdHRhY2hCLmNsYXNzLCBvaWQpOw0KICAgICAgICBvcmlnLnNldEFpbnQo\nNTApOw0KDQogICAgICAgIEF0dGFjaEIgYXR0YWNoZWQgPSAoQXR0YWNoQikg\ncG0ubWVyZ2UoYik7DQogICAgICAgIGFzc2VydEVxdWFscyhhdHRhY2hlZCwg\nb3JpZyk7DQogICAgICAgIGFzc2VydEVxdWFscyg1MCwgYXR0YWNoZWQuZ2V0\nQWludCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCIxMiIsIGF0dGFjaGVk\nLmdldEJzdHIoKSk7DQogICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5k\nRW0ocG0pOw0KDQogICAgICAgIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgYiA9\nIChBdHRhY2hCKSBwbS5maW5kKEF0dGFjaEIuY2xhc3MsIG9pZCk7DQogICAg\nICAgIGFzc2VydEVxdWFscyg1MCwgYi5nZXRBaW50KCkpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoIjEyIiwgYi5nZXRCc3RyKCkpOw0KICAgICAgICBlbmRF\nbShwbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdE9wdGltaXN0\naWNMb2NrKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9\nIGdldFBNKCk7DQogICAgICAgIEF0dGFjaEIgYiA9IChBdHRhY2hCKSBwbS5m\naW5kKEF0dGFjaEIuY2xhc3MsIG9pZCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90\nTnVsbCgiYiBpcyBudWxsIGluIHRlc3RPcHRpbWlzdGljTG9jayIsIGIpOw0K\nDQogICAgICAgIGIgPSAoQXR0YWNoQikgcG0uZGV0YWNoKGIpOw0KICAgICAg\nICBlbmRFbShwbSk7DQoNCiAgICAgICAgYi5zZXRBaW50KDEyKTsNCiAgICAg\nICAgYi5zZXRCc3RyKCIxMiIpOw0KICAgICAgICBUcmVlTWFwIG1hcCA9IG5l\ndyBUcmVlTWFwKCk7DQogICAgICAgIG1hcC5wdXQoIjEyIiwgbmV3IEludGVn\nZXIoMTIpKTsNCiAgICAgICAgYi5zZXRTdHJpbmdJbnRNYXAobWFwKTsNCg0K\nICAgICAgICBwbSA9IGdldFBNKCk7DQogICAgICAgIHN0YXJ0VHgocG0pOw0K\nICAgICAgICBBdHRhY2hCIGIyID0gKEF0dGFjaEIpIHBtLmZpbmQoQXR0YWNo\nQi5jbGFzcywgb2lkKTsNCiAgICAgICAgYjIuc2V0QWludCgxNSk7DQogICAg\nICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAgICAg\nIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAg\nIHRyeSB7DQogICAgICAgICAgICBwbS5tZXJnZShiKTsNCiAgICAgICAgICAg\nIGVuZFR4KHBtKTsNCiAgICAgICAgICAgIGZhaWwoIk9MIGV4cGVjdGVkLiIp\nOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gam92ZSkgew0KICAgICAg\nICAgICAgcm9sbGJhY2tUeChwbSk7DQogICAgICAgIH0NCiAgICAgICAgZW5k\nRW0ocG0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RFbWJlZGRl\nZCgpIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQ\nTSgpOw0KICAgICAgICBBdHRhY2hEIGQgPSBwbS5maW5kKEF0dGFjaEQuY2xh\nc3MsIGRvaWQpOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwoImQgaXMgbnVs\nbCBpbiB0ZXN0RW1iZWRkZWQiLCBkKTsNCg0KICAgICAgICBkLmdldEVtYmVk\nZGVkRSgpLmdldEVzdHIoKTsNCiAgICAgICAgZCA9IChBdHRhY2hEKSBwbS5k\nZXRhY2goZCk7DQogICAgICAgIGVuZEVtKHBtKTsNCg0KICAgICAgICBkLmdl\ndEVtYmVkZGVkRSgpLnNldEVzdHIoIkUxMiIpOw0KICAgICAgICBwbSA9IGdl\ndFBNKCk7DQogICAgICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICBBdHRhY2hE\nIGQyID0gKEF0dGFjaEQpIHBtLm1lcmdlKGQpOw0KICAgICAgICBhc3NlcnRO\nb3RFcXVhbHMoZC5nZXRFbWJlZGRlZEUoKSwgZDIuZ2V0RW1iZWRkZWRFKCkp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIkUxMiIsIGQyLmdldEVtYmVkZGVk\nRSgpLmdldEVzdHIoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBkMi5n\nZXRFbWJlZGRlZEUoKS5nZXRFaW50KCkpOw0KICAgICAgICBlbmRUeChwbSk7\nDQogICAgICAgIGVuZEVtKHBtKTsNCg0KICAgICAgICBwbSA9IGdldFBNKCk7\nDQogICAgICAgIGQyID0gKEF0dGFjaEQpIHBtLmZpbmQoQXR0YWNoRC5jbGFz\ncywgZG9pZCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgiZDIgaXMgbnVs\nbCBpbiB0ZXN0RW1iZWRkZWQiLCBkMik7DQoNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJFMTIiLCBkMi5nZXRFbWJlZGRlZEUoKS5nZXRFc3RyKCkpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoNSwgZDIuZ2V0RW1iZWRkZWRFKCkuZ2V0RWlu\ndCgpKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0NCg0KICAgIHB1Ymxp\nYyB2b2lkIHRlc3ROdWxsRW1iZWRkZWQoKSB7DQogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgQXR0YWNoRCBk\nID0gKEF0dGFjaEQpIHBtLmZpbmQoQXR0YWNoRC5jbGFzcywgZG9pZCk7DQoN\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgiZCBpcyBudWxsIGluIHRlc3ROdWxs\nRW1iZWRkZWQiLCBkKTsNCiAgICAgICAgZC5nZXRFbWJlZGRlZEUoKS5nZXRF\nc3RyKCk7DQogICAgICAgIGQgPSAoQXR0YWNoRCkgcG0uZGV0YWNoKGQpOw0K\nICAgICAgICBlbmRFbShwbSk7DQoNCiAgICAgICAgZC5zZXRFbWJlZGRlZEUo\nbnVsbCk7DQogICAgICAgIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgc3RhcnRU\neChwbSk7DQogICAgICAgIEF0dGFjaEQgZDIgPSAoQXR0YWNoRCkgcG0ubWVy\nZ2UoZCk7DQogICAgICAgIGFzc2VydE51bGwoZDIuZ2V0RW1iZWRkZWRFKCkp\nOw0KICAgICAgICBlbmRUeChwbSk7DQogICAgICAgIGVuZEVtKHBtKTsNCg0K\nICAgICAgICBwbSA9IGdldFBNKCk7DQogICAgICAgIGQyID0gKEF0dGFjaEQp\nIHBtLmZpbmQoQXR0YWNoRC5jbGFzcywgZG9pZCk7DQoNCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbCgiZDIgaXMgbnVsbCBpbiB0ZXN0TnVsbEVtYmVkZGVkIiwg\nZDIpOw0KICAgICAgICAvLyBubyBudWxsIGluZA0KICAgICAgICBpZiAoZDIu\nZ2V0RW1iZWRkZWRFKCkgIT0gbnVsbCkgew0KICAgICAgICAgICAgYXNzZXJ0\nTnVsbChkMi5nZXRFbWJlZGRlZEUoKS5nZXRFc3RyKCkpOw0KICAgICAgICAg\nICAgYXNzZXJ0RXF1YWxzKDAsIGQyLmdldEVtYmVkZGVkRSgpLmdldEVpbnQo\nKSk7DQogICAgICAgIH0NCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyB2b2lkIHRlc3ROdWxsRW1iZWRkZWRSZWxhdGVkKCkgew0K\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKCk7DQog\nICAgICAgIEF0dGFjaEQgZCA9IChBdHRhY2hEKSBwbS5maW5kKEF0dGFjaEQu\nY2xhc3MsIGRvaWQpOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwoImQgaXMg\nbnVsbCBpbiB0ZXN0TnVsbEVtYmVkZGVkUmVsYXRlZCIsIGQpOw0KDQogICAg\nICAgIGQuZ2V0RW1iZWRkZWRFKCkuZ2V0RXN0cigpOw0KICAgICAgICBkID0g\nKEF0dGFjaEQpIHBtLmRldGFjaChkKTsNCiAgICAgICAgZW5kRW0ocG0pOw0K\nDQogICAgICAgIGQuZ2V0RW1iZWRkZWRFKCkuc2V0RXN0cihudWxsKTsNCiAg\nICAgICAgcG0gPSBnZXRQTSgpOw0KICAgICAgICBzdGFydFR4KHBtKTsNCiAg\nICAgICAgQXR0YWNoRCBkMiA9IChBdHRhY2hEKSBwbS5tZXJnZShkKTsNCiAg\nICAgICAgYXNzZXJ0TnVsbCgiZDIuZ2V0RW1iZWRkZWRFKCkuZ2V0RXN0cigp\nIGlzIG5vdCBudWxsIiwNCiAgICAgICAgICAgIGQyLmdldEVtYmVkZGVkRSgp\nLmdldEVzdHIoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygiZDIuZ2V0RW1i\nZWRkZWRFKCkuZ2V0RWludCgpIGlzIG5vdCBlcXVhbCB0byA1IiwgNSwNCiAg\nICAgICAgICAgIGQyLmdldEVtYmVkZGVkRSgpLmdldEVpbnQoKSk7DQogICAg\nICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAgICAg\nIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgZDIgPSAoQXR0YWNoRCkgcG0uZmlu\nZChBdHRhY2hELmNsYXNzLCBkb2lkKTsNCiAgICAgICAgYXNzZXJ0TnVsbCgi\nZDIuZ2V0RW1iZWRkZWRFKCkuZ2V0RXN0cigpIGlzIG5vdCBudWxsIiwNCiAg\nICAgICAgICAgIGQyLmdldEVtYmVkZGVkRSgpLmdldEVzdHIoKSk7DQogICAg\nICAgIGFzc2VydEVxdWFscygiZDIuZ2V0RW1iZWRkZWRFKCkuZ2V0RWludCgp\nIGlzIG5vdCA1IiwgNSwNCiAgICAgICAgICAgIGQyLmdldEVtYmVkZGVkRSgp\nLmdldEVpbnQoKSk7DQogICAgICAgIGVuZEVtKHBtKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0TnVsbENvbGxlY3Rpb24oKSB7DQogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oKTsNCiAgICAgICAg\nQXR0YWNoQiBiID0gKEF0dGFjaEIpIHBtLmZpbmQoQXR0YWNoQi5jbGFzcywg\nb2lkKTsNCiAgICAgICAgYi5nZXREcygpOw0KICAgICAgICBiID0gKEF0dGFj\naEIpIHBtLmRldGFjaChiKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAg\nICAgIGFzc2VydEVxdWFscygxLCBiLmdldERzKCkuc2l6ZSgpKTsNCiAgICAg\nICAgYi5zZXREcyhudWxsKTsNCg0KICAgICAgICBwbSA9IGdldFBNKCk7DQog\nICAgICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICBiID0gKEF0dGFjaEIpIHBt\nLm1lcmdlKGIpOw0KICAgICAgICBhc3NlcnROdWxsKGIuZ2V0RHMoKSk7DQog\nICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAg\nICAgIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgYiA9IChBdHRhY2hCKSBwbS5m\naW5kKEF0dGFjaEIuY2xhc3MsIG9pZCk7DQogICAgICAgIGFzc2VydFRydWUo\nYi5nZXREcygpID09IG51bGwgfHwgYi5nZXREcygpLnNpemUoKSA9PSAwKTsN\nCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lk\nIHRlc3RDb2xsZWN0aW9uQWRkKCkgew0KICAgICAgICBkb0NvbGxlY3Rpb25U\nZXN0KGZhbHNlKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29s\nbGVjdGlvbkNoYW5nZXMoKSB7DQogICAgICAgIGRvQ29sbGVjdGlvblRlc3Qo\ndHJ1ZSk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIGRvQ29sbGVjdGlv\nblRlc3QoYm9vbGVhbiByZW1vdmUpIHsNCiAgICAgICAgT3BlbkpQQUVudGl0\neU1hbmFnZXIgcG0gPSBnZXRQTSgpOw0KICAgICAgICBBdHRhY2hCIGIgPSAo\nQXR0YWNoQikgcG0uZmluZChBdHRhY2hCLmNsYXNzLCBvaWQpOw0KDQogICAg\nICAgIGFzc2VydE5vdE51bGwoImIgaXMgbnVsbCBpbiBkb0NvbGxlY3Rpb25U\nZXN0IiwgYik7DQogICAgICAgIGIuZ2V0RHMoKTsNCiAgICAgICAgYiA9IChB\ndHRhY2hCKSBwbS5kZXRhY2goYik7DQogICAgICAgIGVuZEVtKHBtKTsNCg0K\nICAgICAgICBhc3NlcnRFcXVhbHMoImIgaXMgbnVsbCBpbiBkb0NvbGxlY3Rp\nb25UZXN0IiwgMSwgYi5nZXREcygpLnNpemUoKSk7DQogICAgICAgIGlmIChy\nZW1vdmUpIHsNCiAgICAgICAgICAgIGZvciAoSXRlcmF0b3IgaXQgPSBiLmdl\ndERzKCkuaXRlcmF0b3IoKTsgaXQuaGFzTmV4dCgpOykgew0KICAgICAgICAg\nICAgICAgIGl0Lm5leHQoKTsNCiAgICAgICAgICAgICAgICBpdC5yZW1vdmUo\nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBBdHRhY2hE\nIGQgPSBuZXcgQXR0YWNoRCgpOw0KICAgICAgICBkLnNldERpbnQoMTIpOw0K\nICAgICAgICBiLmdldERzKCkuYWRkKGQpOw0KDQogICAgICAgIHBtID0gZ2V0\nUE0oKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIGIgPSAoQXR0\nYWNoQikgcG0ubWVyZ2UoYik7DQogICAgICAgIGFzc2VydFNpemUocmVtb3Zl\nID8gMSA6IDIsIGIuZ2V0RHMoKSk7DQogICAgICAgIGVuZFR4KHBtKTsNCiAg\nICAgICAgZW5kRW0ocG0pOw0KDQogICAgICAgIHBtID0gZ2V0UE0oKTsNCiAg\nICAgICAgYiA9IChBdHRhY2hCKSBwbS5maW5kKEF0dGFjaEIuY2xhc3MsIG9p\nZCk7DQogICAgICAgIGFzc2VydFNpemUocmVtb3ZlID8gMSA6IDIsIGIuZ2V0\nRHMoKSk7DQogICAgICAgIGJvb2xlYW4gZm91bmQxID0gZmFsc2U7DQogICAg\nICAgIGJvb2xlYW4gZm91bmQyID0gZmFsc2U7DQogICAgICAgIGZvciAoSXRl\ncmF0b3IgaXQgPSBiLmdldERzKCkuaXRlcmF0b3IoKTsgaXQuaGFzTmV4dCgp\nOykgew0KICAgICAgICAgICAgZCA9IChBdHRhY2hEKSBpdC5uZXh0KCk7DQog\nICAgICAgICAgICBzd2l0Y2ggKGQuZ2V0RGludCgpKSB7DQogICAgICAgICAg\nICAgICAgY2FzZSA1Og0KICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmQx\nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZmFpbCgiUmVmb3VuZC4iKTsN\nCiAgICAgICAgICAgICAgICAgICAgZm91bmQxID0gdHJ1ZTsNCiAgICAgICAg\nICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSAxMjoN\nCiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kMikNCiAgICAgICAgICAg\nICAgICAgICAgICAgIGZhaWwoIlJlZm91bmQuIik7DQogICAgICAgICAgICAg\nICAgICAgIGZvdW5kMiA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGJy\nZWFrOw0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAg\nICAgICAgIGZhaWwoIlVua25vd24gZDoiICsgZC5nZXREaW50KCkpOw0KICAg\nICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHJlbW92ZSkN\nCiAgICAgICAgICAgIGFzc2VydEZhbHNlKGZvdW5kMSk7DQoNCiAgICAgICAg\nZW5kRW0ocG0pOw0KICAgIH0NCg0KICAgIC8qDQogICAvLyMjIw0KICAgLy8g\nTm8gdGltZSB0byBnZXQgdGhlc2Ugd29ya2luZyByaWdodCBub3cuICBIYXZl\nIHRvIGZpZ3VyZSBvdXQgaG93IHRvDQogICAvLyBlbmhhbmNlIGNlcnRhaW4g\nY2xhc3NlcyB3aXRoIGRpZmZlcmVudCBEZXRhY2hTdGF0ZSBzZXR0aW5ncyBp\nbiBhdXRvYnVpbGQuDQogICBwdWJsaWMgdm9pZCB0ZXN0U2VyaWFsaXphdGlv\nbiAoKQ0KICAgICAgIHRocm93cyBFeGNlcHRpb24NCiAgIHsNCiAgICAgICBk\nb1NlcmlhbGl6YXRpb25UZXN0IChmYWxzZSk7DQogICB9DQoNCg0KICAgcHVi\nbGljIHZvaWQgdGVzdFNlcmlhbGl6YXRpb25BdXRvICgpDQogICAgICAgdGhy\nb3dzIEV4Y2VwdGlvbg0KICAgew0KICAgICAgIGRvU2VyaWFsaXphdGlvblRl\nc3QgKHRydWUpOw0KICAgfQ0KICAgICovDQoNCiAgICBwcml2YXRlIHZvaWQg\nZG9TZXJpYWxpemF0aW9uVGVzdChib29sZWFuIGF1dG8pIHRocm93cyBFeGNl\ncHRpb24gew0KICAgICAgICBlbmhhbmNlKCk7DQogICAgICAgIE1hcCBwcm9w\ncyA9IG5ldyBIYXNoTWFwKCk7DQogICAgICAgIHByb3BzLnB1dCgib3Blbmpw\nYS5EZXRhY2hTdGF0ZSIsICJEZXRhY2hlZFN0YXRlRmllbGQ9dHJ1ZSIpOw0K\nDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBmYWN0b3J5\nID0NCiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnkp\nIGdldEVtZihwcm9wcyk7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0NCiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikgZmFj\ndG9yeS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAgICAgc3RhcnRU\neChwbSk7DQogICAgICAgIERldGFjaFNNUEMgcGMgPSBuZXcgRGV0YWNoU01Q\nQygpOw0KICAgICAgICBwYy5zZXRJbnRGaWVsZCgxKTsNCiAgICAgICAgRGV0\nYWNoU01QQyByZWwgPSBuZXcgRGV0YWNoU01QQygpOw0KICAgICAgICByZWwu\nc2V0SW50RmllbGQoMik7DQogICAgICAgIHBjLmdldFJlbFNldCgpLmFkZChy\nZWwpOw0KICAgICAgICBwYy5nZXRTdHJpbmdJbnRNYXAoKS5wdXQoImEiLCBu\nZXcgSW50ZWdlcig5OSkpOw0KICAgICAgICBwbS5wZXJzaXN0KHBjKTsNCiAg\nICAgICAgZW5kVHgocG0pOw0KICAgICAgICBPYmplY3QgcGNvaWQgPSBwbS5n\nZXRPYmplY3RJZChwYyk7DQogICAgICAgIGVuZEVtKHBtKTsNCg0KICAgICAg\nICBwbSA9IChPcGVuSlBBRW50aXR5TWFuYWdlcikgZmFjdG9yeS5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHBjID0gKERldGFjaFNNUEMpIHBt\nLmZpbmQoRGV0YWNoU01QQy5jbGFzcywgcGNvaWQpOw0KICAgICAgICBwYy5n\nZXRSZWxTZXQoKTsNCiAgICAgICAgcGMuZ2V0U3RyaW5nSW50TWFwKCk7DQog\nICAgICAgIGlmICghYXV0bykgew0KICAgICAgICAgICAgcGMgPSAoRGV0YWNo\nU01QQykgcG0uZGV0YWNoKHBjKTsNCiAgICAgICAgICAgIGFzc2VydERldGFj\naGVkU00ocGMpOw0KICAgICAgICB9DQogICAgICAgIHBjID0gKERldGFjaFNN\nUEMpIHJvdW5kdHJpcChwYywgZmFsc2UpOw0KICAgICAgICBhc3NlcnREZXRh\nY2hlZFNNKHBjKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAgICAgIGFz\nc2VydERldGFjaGVkU00ocGMpOw0KICAgICAgICBhc3NlcnRTaXplKDEsIHBj\nLmdldFJlbFNldCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHBjLmdl\ndFN0cmluZ0ludE1hcCgpLnNpemUoKSk7DQoNCiAgICAgICAgcGMuc2V0SW50\nRmllbGQoMyk7DQogICAgICAgICgoRGV0YWNoU01QQykgcGMuZ2V0UmVsU2V0\nKCkuaXRlcmF0b3IoKS5uZXh0KCkpLnNldEludEZpZWxkKDQpOw0KICAgICAg\nICBwYy5nZXRTdHJpbmdJbnRNYXAoKS5wdXQoImIiLCBuZXcgSW50ZWdlcigx\nMDApKTsNCg0KICAgICAgICBwYyA9IChEZXRhY2hTTVBDKSByb3VuZHRyaXAo\ncGMsIGZhbHNlKTsNCg0KICAgICAgICBhc3NlcnREZXRhY2hlZFNNKHBjKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHBjLmdldEludEZpZWxkKCkpOw0K\nICAgICAgICBhc3NlcnRTaXplKDEsIHBjLmdldFJlbFNldCgpKTsNCiAgICAg\nICAgLy9hc3NlcnREZXRhY2hlZFNNIChiLmdldERzICgpLml0ZXJhdG9yICgp\nLm5leHQgKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNCwgKChEZXRhY2hT\nTVBDKSBwYy5nZXRSZWxTZXQoKS5pdGVyYXRvcigpLm5leHQoKSkNCiAgICAg\nICAgICAgIC5nZXRJbnRGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKG5ldyBJbnRlZ2VyKDEwMCksIHBjLmdldFN0cmluZ0ludE1hcCgpLmdldCgi\nYiIpKTsNCg0KICAgICAgICBwbSA9IChPcGVuSlBBRW50aXR5TWFuYWdlcikg\nZmFjdG9yeS5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0\nVHgocG0pOw0KICAgICAgICBwYyA9IChEZXRhY2hTTVBDKSBwbS5tZXJnZShw\nYyk7DQogICAgICAgIGFzc2VydEVxdWFscygzLCBwYy5nZXRJbnRGaWVsZCgp\nKTsNCiAgICAgICAgYXNzZXJ0U2l6ZSgxLCBwYy5nZXRSZWxTZXQoKSk7DQog\nICAgICAgIGFzc2VydEVxdWFscyg0LCAoKERldGFjaFNNUEMpIHBjLmdldFJl\nbFNldCgpLml0ZXJhdG9yKCkubmV4dCgpKQ0KICAgICAgICAgICAgLmdldElu\ndEZpZWxkKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgcGMuZ2V0U3Ry\naW5nSW50TWFwKCkuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5l\ndyBJbnRlZ2VyKDEwMCksIHBjLmdldFN0cmluZ0ludE1hcCgpLmdldCgiYiIp\nKTsNCiAgICAgICAgZW5kVHgocG0pOw0KICAgICAgICBlbmRFbShwbSk7DQoN\nCiAgICAgICAgcG0gPSAoT3BlbkpQQUVudGl0eU1hbmFnZXIpIGZhY3Rvcnku\nY3JlYXRlRW50aXR5TWFuYWdlcigpOw0KICAgICAgICBwYyA9IChEZXRhY2hT\nTVBDKSBwbS5maW5kKERldGFjaFNNUEMuY2xhc3MsIHBjb2lkKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDMsIHBjLmdldEludEZpZWxkKCkpOw0KICAgICAg\nICBhc3NlcnRTaXplKDEsIHBjLmdldFJlbFNldCgpKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDQsICgoRGV0YWNoU01QQykgcGMuZ2V0UmVsU2V0KCkuaXRl\ncmF0b3IoKS5uZXh0KCkpDQogICAgICAgICAgICAuZ2V0SW50RmllbGQoKSk7\nDQogICAgICAgIGFzc2VydEVxdWFscygyLCBwYy5nZXRTdHJpbmdJbnRNYXAo\nKS5zaXplKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMobmV3IEludGVnZXIo\nMTAwKSwgcGMuZ2V0U3RyaW5nSW50TWFwKCkuZ2V0KCJiIikpOw0KDQogICAg\nICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICBkZWxldGVBbGwoRGV0YWNoU01Q\nQy5jbGFzcywgcG0pOw0KICAgICAgICBlbmRUeChwbSk7DQogICAgICAgIGVu\nZEVtKHBtKTsNCiAgICAgICAgZmFjdG9yeS5jbG9zZSgpOw0KICAgIH0NCg0K\nICAgIHByaXZhdGUgdm9pZCBlbmhhbmNlKCkgdGhyb3dzIEV4Y2VwdGlvbiB7\nDQogICAgICAgIFByb3BlcnRpZXMgcHJvcHMgPSBnZXRQcm9wZXJ0aWVzKG5l\ndyBTdHJpbmdbXXsNCiAgICAgICAgICAgICJvcGVuanBhLkRldGFjaFN0YXRl\nIiwgIkRldGFjaGVkU3RhdGVGaWVsZD10cnVlIiwNCiAgICAgICAgfSk7DQog\nICAgICAgIE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYgPSBuZXcgT3BlbkpQ\nQUNvbmZpZ3VyYXRpb25JbXBsKHRydWUsIGZhbHNlKTsNCiAgICAgICAgY29u\nZi5mcm9tUHJvcGVydGllcyhwcm9wcyk7DQoNCiAgICAgICAgT3B0aW9ucyBv\ncHRzID0gbmV3IE9wdGlvbnMoKTsNCiAgICAgICAgb3B0cy5wdXQoImpkbyIs\nICJ0cnVlIik7DQogICAgICAgIFBDRW5oYW5jZXIucnVuKGNvbmYsIG5ldyBT\ndHJpbmdbXXsNCiAgICAgICAgICAgICJvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2Uua2VybmVsLm5vZW5oYW5jZS5EZXRhY2hTTVBDIiB9LCBvcHRz\nKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgYXNzZXJ0RGV0YWNoZWRT\nTShPYmplY3Qgb2JqKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0gZ2V0UE0oKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShwbS5pc0RldGFj\naGVkKG9iaikpOw0KICAgICAgICBQZXJzaXN0ZW5jZUNhcGFibGUgcGMgPSAo\nUGVyc2lzdGVuY2VDYXBhYmxlKSBvYmo7DQogICAgICAgIGFzc2VydEVxdWFs\ncyhEZXRhY2hlZFN0YXRlTWFuYWdlci5jbGFzcywNCiAgICAgICAgICAgIHBj\nLnBjR2V0U3RhdGVNYW5hZ2VyKCkuZ2V0Q2xhc3MoKSk7DQogICAgICAgIGVu\nZEVtKHBtKTsNCiAgICB9DQp9DQo=\n","encoding":"base64"}

