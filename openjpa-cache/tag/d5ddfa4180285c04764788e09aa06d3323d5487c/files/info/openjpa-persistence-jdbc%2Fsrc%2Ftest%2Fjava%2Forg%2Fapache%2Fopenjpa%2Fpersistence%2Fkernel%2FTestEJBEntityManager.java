{"sha":"1dd5cd51e2f97d287b178ee10572361d5f252665","node_id":"MDQ6QmxvYjIwNjM2NDoxZGQ1Y2Q1MWUyZjk3ZDI4N2IxNzhlZTEwNTcyMzYxZDVmMjUyNjY1","size":4229,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1dd5cd51e2f97d287b178ee10572361d5f252665","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsOw0KDQppbXBvcnQgamF2YS51dGlsLkFycmF5\nTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KDQoNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLlJ1\nbnRpbWVUZXN0MTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLlJ1bnRpbWVUZXN0MjsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0aWxz\nLkFic3RyYWN0VGVzdENhc2U7DQoNCnB1YmxpYyBjbGFzcyBUZXN0RUpCRW50\naXR5TWFuYWdlciBleHRlbmRzIEFic3RyYWN0VGVzdENhc2Ugew0KDQogICAg\ncHJpdmF0ZSBPYmplY3QgX2lkID0gbnVsbDsNCg0KICAgIHByaXZhdGUgT2Jq\nZWN0IF9pZDIgPSBudWxsOw0KDQogICAgcHVibGljIFRlc3RFSkJFbnRpdHlN\nYW5hZ2VyKFN0cmluZyBuYW1lKSB7DQogICAgICAgIHN1cGVyKG5hbWUsICJr\nZXJuZWxjYWN0dXNhcHAiKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBz\nZXRVcCgpIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBkZWxldGVBbGwo\nUnVudGltZVRlc3QxLmNsYXNzKTsNCg0KICAgICAgICBFbnRpdHlNYW5hZ2Vy\nIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRU\neChlbSk7DQoNCiAgICAgICAgUnVudGltZVRlc3QxIGEgPSBuZXcgUnVudGlt\nZVRlc3QxKCJTVFJJTkciLCAxMCk7DQogICAgICAgIFJ1bnRpbWVUZXN0MiBi\nID0gbmV3IFJ1bnRpbWVUZXN0MigiU1RSSU5HMiIsIDExKTsNCiAgICAgICAg\nZW0ucGVyc2lzdChhKTsNCiAgICAgICAgZW0ucGVyc2lzdChiKTsNCiAgICAg\nICAgX2lkID0gYS5nZXRJbnRGaWVsZCgpOw0KICAgICAgICBfaWQyID0gYi5n\nZXRJbnRGaWVsZCgpOw0KDQogICAgICAgIGVuZFR4KGVtKTsNCiAgICAgICAg\nZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFRlc3RzIHRo\nYXQgdGhlIFBNIHRocm93cyBFeGNlcHRpb25zIG9uIHVzYWdlIGF0dGVtcHRz\nIGFmdGVyIGl0IGhhcyBiZWVuDQogICAgICogY2xvc2VkLg0KICAgICAqLw0K\nICAgIC8qIEZpeCBNZSAtIGFva2VrZSAtIHRha2VzIGEgbG90IG9mIHRpbWUg\ndG8gcnVuICovDQogICAgLy8gcHVibGljIHZvaWQgdGVzdENsb3NlZCAoKQ0K\nICAgIC8vIHsNCiAgICAvLyBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVu\ndGl0eU1hbmFnZXIoKTsNCiAgICAvLyBzdGFydFR4KGVtKTsNCiAgICAvLyBl\nbmRFbShlbSk7DQogICAgLy8NCiAgICAvLyB0cnkNCiAgICAvLyB7DQogICAg\nLy8gLy8gdGhpcyBpcyB0aGUgb25seSBtZXRob2QgdGhhdCBzaG91bGQgc3Vj\nY2VlZA0KICAgIC8vIGlmKGVtLmlzT3BlbiAoKSkNCiAgICAvLyBmYWlsKCJT\ndXBwb3NlZCB0byBiZSBjbG9zZWQuLi5idXQgY2Fubm90IGJlIGNsb3NlZCBp\nbnNpZGUNCiAgICAvLyBjb250YWluZXIuLmNsb3NlZCBhdCB0aGUgZW5kIG9m\nIGZ1bmN0Iik7DQogICAgLy8gfQ0KICAgIC8vIGNhdGNoIChSdW50aW1lRXhj\nZXB0aW9uIHJlKQ0KICAgIC8vIHsNCiAgICAvLyBmYWlsICgiaXNDbG9zZWQi\nKTsNCiAgICAvLyB9DQogICAgLy8gdHJ5DQogICAgLy8gew0KICAgIC8vIGVt\nLmZpbmQoUnVudGltZVRlc3QxLmNsYXNzLCBfaWQpOw0KICAgIC8vIGZhaWwg\nKCJmaW5kIik7DQogICAgLy8gfQ0KICAgIC8vIGNhdGNoIChSdW50aW1lRXhj\nZXB0aW9uIHJlKQ0KICAgIC8vIHsNCiAgICAvLyB9DQogICAgLy8gfQ0KICAg\nIHB1YmxpYyB2b2lkIHRlc3RNdWx0aXBsZUNsb3NlVGhyZWFkZWQoKSB0aHJv\nd3MgVGhyb3dhYmxlIHsNCiAgICAgICAgZmluYWwgRW50aXR5TWFuYWdlciBl\nbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIGZpbmFsIExp\nc3QgcmVzdWx0ID0gbmV3IEFycmF5TGlzdCgpOw0KICAgICAgICAvLyBFbnRp\ndHlUcmFuc2FjdGlvbiB0ID0gZW0uZ2V0VHJhbnNhY3Rpb24oKTsNCiAgICAg\nICAgLy8gdC5iZWdpbiAoKTsNCg0KICAgICAgICBlbS5jbG9zZSgpOw0KDQog\nICAgICAgIG5ldyBUaHJlYWQoKSB7DQogICAgICAgICAgICBAU3VwcHJlc3NX\nYXJuaW5ncygidW5jaGVja2VkIikNCiAgICAgICAgICAgIHB1YmxpYyB2b2lk\nIHJ1bigpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAg\nICAgICAgICBlbS5jbG9zZSgpOw0KICAgICAgICAgICAgICAgICAgICByZXN1\nbHQuYWRkKG5ldyBJbnRlZ2VyKDApKTsNCiAgICAgICAgICAgICAgICB9DQog\nICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBqZG9lKSB7DQogICAg\nICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoamRvZSk7DQogICAgICAgICAg\nICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChUaHJvd2FibGUgdCkg\new0KICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKHQpOw0KICAgICAg\nICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfS5zdGFydCgp\nOw0KDQogICAgICAgIHdoaWxlIChyZXN1bHQuc2l6ZSgpID09IDApDQogICAg\nICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgpLnlpZWxkKCk7IC8vIHdh\naXQgZm9yIHJlc3VsdHMNCiAgICAgICAgT2JqZWN0IHJldCA9IHJlc3VsdC5n\nZXQoMCk7DQoNCiAgICAgICAgaWYgKHJldCBpbnN0YW5jZW9mIEV4Y2VwdGlv\nbikNCiAgICAgICAgICAgIHJldHVybjsgLy8gZ29vZA0KDQogICAgICAgIGlm\nIChyZXQgaW5zdGFuY2VvZiBUaHJvd2FibGUpDQogICAgICAgICAgICB0aHJv\ndyAoVGhyb3dhYmxlKSByZXQ7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog\nVGhpcyBtZXRob2QgdHJpZXMgdG8gcGVyZm9ybSBvcGVyYXRpb25zIHRoYXQg\nc2hvdWxkIGxlYWQgdG8gaWxsZWdhbA0KICAgICAqIHN0YXRlcywgc3VjaCBh\ncyBwZXJzaXN0aW5nIGluc3RhbmNlcyBvdXRzaWRlIG9mIHRyYW5zYWN0aW9u\ncywgZXRjLg0KICAgICAqLw0KICAgIHB1YmxpYyB2b2lkIHRlc3RJbGxlZ2Fs\nU3RhdGUoKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50\nRW50aXR5TWFuYWdlcigpOw0KDQogICAgICAgIFJ1bnRpbWVUZXN0MSBhID0g\nbmV3IFJ1bnRpbWVUZXN0MSgiZm9vIiwgMTApOw0KICAgICAgICBSdW50aW1l\nVGVzdDEgYTIgPSAoUnVudGltZVRlc3QxKSBlbS5maW5kKFJ1bnRpbWVUZXN0\nMS5jbGFzcywgX2lkKTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAg\nZW0ucGVyc2lzdChhKTsNCiAgICAgICAgICAgIGZhaWwoInBlcnNpc3QuLi4i\nKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGlzZSkg\new0KICAgICAgICB9DQoNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCn0=\n","encoding":"base64"}

