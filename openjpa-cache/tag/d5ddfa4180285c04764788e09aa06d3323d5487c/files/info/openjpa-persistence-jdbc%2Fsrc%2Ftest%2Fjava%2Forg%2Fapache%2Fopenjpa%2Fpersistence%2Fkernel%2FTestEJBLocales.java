{"sha":"ba8b0734b6f71cc44061a8442dc1431565882eb3","node_id":"MDQ6QmxvYjIwNjM2NDpiYThiMDczNGI2ZjcxY2M0NDA2MWE4NDQyZGMxNDMxNTY1ODgyZWIz","size":2705,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ba8b0734b6f71cc44061a8442dc1431565882eb3","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsOw0KDQppbXBvcnQgamF2YS51dGlsLkl0ZXJh\ndG9yOw0KaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KaW1wb3J0IGphdmEudXRp\nbC5Mb2NhbGU7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFu\nYWdlcjsNCg0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmtlcm5lbC5jb21tb24uYXBwcy5SdW50aW1lVGVzdDE7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5B\nYnN0cmFjdFRlc3RDYXNlOw0KDQpwdWJsaWMgY2xhc3MgVGVzdEVKQkxvY2Fs\nZXMgZXh0ZW5kcyBBYnN0cmFjdFRlc3RDYXNlIHsNCg0KICAgIHB1YmxpYyBU\nZXN0RUpCTG9jYWxlcyhTdHJpbmcgbmFtZSkgew0KICAgICAgICBzdXBlcihu\nYW1lLCAia2VybmVsY2FjdHVzYXBwIik7DQogICAgfQ0KDQogICAgcHVibGlj\nIHZvaWQgc2V0VXAoKSB7DQogICAgICAgIGRlbGV0ZUFsbChSdW50aW1lVGVz\ndDEuY2xhc3MpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RMb2Nh\nbGVzKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIHBtID0gY3VycmVudEVu\ndGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAg\nIFJ1bnRpbWVUZXN0MSB0MSA9IG5ldyBSdW50aW1lVGVzdDEoMSk7DQogICAg\nICAgIHQxLnNldExvY2FsZUZpZWxkKG5ldyBMb2NhbGUoTG9jYWxlLkZSQU5D\nRS5nZXRDb3VudHJ5KCksDQogICAgICAgICAgICBMb2NhbGUuRlJFTkNILmdl\ndExhbmd1YWdlKCkpKTsNCiAgICAgICAgcG0ucGVyc2lzdCh0MSk7DQogICAg\nICAgIHBtLnBlcnNpc3QobmV3IFJ1bnRpbWVUZXN0MSgyKSk7DQogICAgICAg\nIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAgICAgIHBt\nID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgTGlzdCBjID0g\nZmluZEFsbChSdW50aW1lVGVzdDEuY2xhc3MsIHBtKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDIsIGMuc2l6ZSgpKTsNCg0KICAgICAgICBib29sZWFuIGZv\ndW5kTnVsbCA9IGZhbHNlOw0KICAgICAgICBib29sZWFuIGZvdW5kRnJhbmNl\nID0gZmFsc2U7DQogICAgICAgIExvY2FsZSBsb2NhbGU7DQoNCiAgICAgICAg\nZm9yIChJdGVyYXRvciBpdGVyID0gYy5pdGVyYXRvcigpOyBpdGVyLmhhc05l\neHQoKTspIHsNCiAgICAgICAgICAgIHQxID0gKFJ1bnRpbWVUZXN0MSkgaXRl\nci5uZXh0KCk7DQogICAgICAgICAgICBsb2NhbGUgPSB0MS5nZXRMb2NhbGVG\naWVsZCgpOw0KICAgICAgICAgICAgaWYgKGxvY2FsZSA9PSBudWxsKQ0KICAg\nICAgICAgICAgICAgIGZvdW5kTnVsbCA9IHRydWU7DQogICAgICAgICAgICBl\nbHNlIGlmICgNCiAgICAgICAgICAgICAgICAobG9jYWxlLmdldENvdW50cnko\nKS5lcXVhbHMoTG9jYWxlLkZSQU5DRS5nZXRDb3VudHJ5KCkpKSAmJg0KICAg\nICAgICAgICAgICAgICAgICAobG9jYWxlLmdldExhbmd1YWdlKCkuZXF1YWxz\nKExvY2FsZS5GUkFOQ0UuZ2V0TGFuZ3VhZ2UoKSkpKQ0KICAgICAgICAgICAg\nICAgIGZvdW5kRnJhbmNlID0gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAg\nIGFzc2VydFRydWUoZm91bmROdWxsKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShm\nb3VuZEZyYW5jZSk7DQogICAgICAgIGVuZEVtKHBtKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgTGlzdCBmaW5kQWxsKENsYXNzIGMsIEVudGl0eU1hbmFnZXIg\nZW0pIHsNCiAgICAgICAgTGlzdCBsID0gZW0uY3JlYXRlUXVlcnkoIlNlbGVj\ndCBvYmplY3QobykgZnJvbSBSdW50aW1lVGVzdDEgbyIpDQogICAgICAgICAg\nICAuZ2V0UmVzdWx0TGlzdCgpOw0KICAgICAgICByZXR1cm4gbDsNCiAgICB9\nDQp9DQo=\n","encoding":"base64"}

