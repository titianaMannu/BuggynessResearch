{"sha":"876936f42be9dde72d13ee7e105036265467845f","node_id":"MDQ6QmxvYjIwNjM2NDo4NzY5MzZmNDJiZTlkZGU3MmQxM2VlN2UxMDUwMzYyNjU0Njc4NDVm","size":13785,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/876936f42be9dde72d13ee7e105036265467845f","content":"LyoNCiAqIFRlc3RGaWVsZFJhbmdlLmphdmENCiAqDQogKiBDcmVhdGVkIG9u\nIE9jdG9iZXIgMTIsIDIwMDYsIDEwOjE0IEFNDQogKg0KICogVG8gY2hhbmdl\nIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBsYXRlIE1hbmFn\nZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZWRpdG9yLg0K\nICovDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBG\nb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICogb3IgbW9yZSBjb250cmli\ndXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxl\nDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25h\nbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNo\naXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQ0KICogdG8geW91IHVu\nZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQ0KICog\nIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQg\naW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkg\nb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6\nLy93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAq\nIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQg\ndG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVy\nIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuDQogKiAiQVMgSVMi\nIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBB\nTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUg\ndGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292\nZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucw0KICogdW5kZXIg\ndGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWw7DQoNCmltcG9ydCBqYXZhLmlvLlNl\ncmlhbGl6YWJsZTsNCmltcG9ydCBqYXZhLm1hdGguQmlnRGVjaW1hbDsNCmlt\ncG9ydCBqYXZhLm1hdGguQmlnSW50ZWdlcjsNCmltcG9ydCBqYXZhLnV0aWwu\nRGF0ZTsNCg0KDQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLkFsbEZpZWxkVHlwZXNUZXN0Ow0K\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24u\ndXRpbHMuQWJzdHJhY3RUZXN0Q2FzZTsNCmltcG9ydCBqdW5pdC5mcmFtZXdv\ncmsuQXNzZXJ0Ow0KaW1wb3J0IGp1bml0LmZyYW1ld29yay5Bc3NlcnRpb25G\nYWlsZWRFcnJvcjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsNCg0KcHVibGljIGNsYXNz\nIFRlc3RGaWVsZFJhbmdlIGV4dGVuZHMgQmFzZUtlcm5lbFRlc3Qgew0KDQog\nICAgcHJvdGVjdGVkIHN0YXRpYyBTdHJpbmcgUkFORE9NX1NUUklORyA9DQog\nICAgICAgICJUaGlzIGlzIG15IHRlc3QgU3RyaW5nIHdpdGggYWxsICINCiAg\nICAgICAgICAgICsgImtpbmRzIG9mIHdpZXJkIGNoYXJhY3RlcnM6ICINCiAg\nICAgICAgICAgICsgIiFAQCMkXFwlXiZcIiooKS09XFx8XCJcIlwiXCJcIitf\nLz8uPiw8fmAiDQogICAgICAgICAgICArICInJycnJycnJycnJ1xcXFxcXFxc\nXFxcXFxcXFxcXFxcXFxcXFxcXFwiDQogICAgICAgICAgICArICInJycnJycn\nJycnJydcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcIg0KICAgICAgICAg\nICAgKyAiIUBAIyRcXCVeJlwiKigpLT1cXHwrXy8/Lj4sPH5gIjsNCg0KICAg\nIC8qKg0KICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVGVzdEZp\nZWxkUmFuZ2UNCiAgICAgKi8NCiAgICBwdWJsaWMgVGVzdEZpZWxkUmFuZ2Uo\nKSB7DQogICAgfQ0KDQogICAgcHVibGljIFRlc3RGaWVsZFJhbmdlKFN0cmlu\nZyBuYW1lKSB7DQogICAgICAgIHN1cGVyKG5hbWUpOw0KICAgIH0NCg0KICAg\nIHB1YmxpYyB2b2lkIHNldFVwKCkNCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlv\nbiB7DQogICAgICAgIHN1cGVyLnNldFVwKCk7DQogICAgICAgIGRlbGV0ZUFs\nbChBbGxGaWVsZFR5cGVzVGVzdC5jbGFzcyk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgdGVzdFNhdmVTdGF0ZSgpDQogICAgICAgIHRocm93cyBFeGNl\ncHRpb24gew0KICAgICAgICBhbGxGaWVsZFNhdmVTdGF0ZSgNCiAgICAgICAg\nICAgIChpbnQpIDI1OTY0NSwNCiAgICAgICAgICAgIChzaG9ydCkgNTA4NDks\nDQogICAgICAgICAgICAobG9uZykgMjM0OTg0Nzk4MkwsDQogICAgICAgICAg\nICAoZmxvYXQpIDQzMjczNDIzLjAyMzQ3MjNGLA0KICAgICAgICAgICAgKGRv\ndWJsZSkgMzQ2NzguMDIzODQ3MjNELA0KICAgICAgICAgICAgKGJ5dGUpIC0x\nMjAsDQogICAgICAgICAgICAoYm9vbGVhbikgdHJ1ZSwNCiAgICAgICAgICAg\nIChjaGFyKSAnJScsDQogICAgICAgICAgICAoRGF0ZSkgbmV3IERhdGUoKSwN\nCiAgICAgICAgICAgIChTZXJpYWxpemFibGUpIG5ldyBTdHJpbmdCdWZmZXIo\nNTAwMCksDQogICAgICAgICAgICAoU3RyaW5nKSBSQU5ET01fU1RSSU5HLA0K\nICAgICAgICAgICAgcmFuZG9tQmlnSW50ZWdlcigpLA0KICAgICAgICAgICAg\ncmFuZG9tQmlnRGVjaW1hbCgpKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAg\nKiBUZXN0IHRvIG1ha2Ugc3VyZSBhbGwgdGhlIG51bWVyaWMgZmllbGRzIGNh\nbiBhY2NlcHQgdGhlIG1heGltdW0NCiAgICAgKiB2YWx1ZXMgZm9yIHRoZWly\nIGRhdGEgc2l6ZS4gTm90ZSB0aGF0IHdlIHN1YnRyYWN0IG9uZSBmcm9tDQog\nICAgICogZWFjaCBvZiB0aGUgdmFsdWVzIGJlY2F1c2Ugc29tZSBkYXRhYmFz\nZXMgKGxpa2UgSW5zdGFudERCKQ0KICAgICAqIG1heSBjb25zaWRlciB0aGVt\nIHRvIGJlIGVxdWl2YWxlbnQgdG8gTlVMTC4NCiAgICAgKiBGaXhNZTogSGFu\nZ3MgZm9yIHNvbWUgbXlzdGVyaW91cyByZWFzb24uIGFva2VrZQ0KICAgICAq\nLw0KDQovLyAgICBwdWJsaWMgdm9pZCB0ZXN0TGFyZ2VOdW1iZXJzKCkNCi8v\nICAgIHRocm93cyBFeGNlcHRpb24gew0KLy8gICAgICAgIHRyeSB7DQovLyAg\nICAgICAgICAgIGFsbEZpZWxkU2F2ZVN0YXRlKA0KLy8gICAgICAgICAgICAg\nICAgICAgIChpbnQpIChJbnRlZ2VyLk1BWF9WQUxVRSAtIDEpLA0KLy8gICAg\nICAgICAgICAgICAgICAgIChzaG9ydCkgKFNob3J0Lk1BWF9WQUxVRSAtIDEp\nLA0KLy8gICAgICAgICAgICAgICAgICAgIChsb25nKSAoTG9uZy5NQVhfVkFM\nVUUgLSAxbCksDQovLyAgICAgICAgICAgICAgICAgICAgKGZsb2F0KSAoRmxv\nYXQuTUFYX1ZBTFVFIC0gMS4wZiksDQovLyAgICAgICAgICAgICAgICAgICAg\nKGRvdWJsZSkgKERvdWJsZS5NQVhfVkFMVUUgLSAxLjBkKSwNCi8vICAgICAg\nICAgICAgICAgICAgICAoYnl0ZSkgKEJ5dGUuTUFYX1ZBTFVFKSwNCi8vICAg\nICAgICAgICAgICAgICAgICAoYm9vbGVhbikgdHJ1ZSwNCi8vICAgICAgICAg\nICAgICAgICAgICAoY2hhcikgJ3EnLA0KLy8gICAgICAgICAgICAgICAgICAg\nIChEYXRlKSBuZXcgRGF0ZSgpLA0KLy8gICAgICAgICAgICAgICAgICAgIChT\nZXJpYWxpemFibGUpIG5ldyBTdHJpbmdCdWZmZXIoNTAwMCksDQovLyAgICAg\nICAgICAgICAgICAgICAgKFN0cmluZykgUkFORE9NX1NUUklORywNCi8vICAg\nICAgICAgICAgICAgICAgICByYW5kb21CaWdJbnRlZ2VyKCksDQovLyAgICAg\nICAgICAgICAgICAgICAgcmFuZG9tQmlnRGVjaW1hbCgpKTsNCi8vICAgICAg\nICB9IGNhdGNoIChUaHJvd2FibGUgZSkgew0KLy8gICAgICAgICAgICBidWco\nMywgZSwgImRvdWJsZXMgYW5kIGZsb2F0cyIpOw0KLy8gICAgICAgIH0NCi8v\nICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFRlc3QgdG8gbWFrZSBzdXJlIGFs\nbCB0aGUgbnVtZXJpYyBmaWVsZHMgY2FuIGJlIHNldCB0bw0KICAgICAqIHZl\ncnkgbG93IHZhbHVlcy4gV2UgYWRkIG9uZSB0byB0aGUgbWluaW1pbSB2YWx1\nZSBiZWNhdXNlDQogICAgICogc29tZSBkYXRhYmFzZXMgKHN1Y2ggYXMgSW5z\ndGFudERCKSBjb25zaWRlciB0aGUgTUlOX1ZBTFVFDQogICAgICogdG8gYmUg\nZXF1aXZhbGVudCB0byBudWxsLiBUaGlzIGlzIGFyZ3VhYmx5IGEgYnVnLCBi\ndXQNCiAgICAgKiBub3QgYSBraWxsZXIgb25lLg0KICAgICAqLw0KICAgIHB1\nYmxpYyB2b2lkIHRlc3RMYXJnZU51bWJlcnNOZWdhdGl2ZSgpDQogICAgICAg\nIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBhbGxGaWVsZFNhdmVTdGF0\nZSgNCiAgICAgICAgICAgIChpbnQpIChJbnRlZ2VyLk1JTl9WQUxVRSArIDEp\nLA0KICAgICAgICAgICAgKHNob3J0KSAoU2hvcnQuTUlOX1ZBTFVFICsgMSks\nDQogICAgICAgICAgICAobG9uZykgKExvbmcuTUlOX1ZBTFVFICsgMWwpLA0K\nICAgICAgICAgICAgKGZsb2F0KSAoRmxvYXQuTUlOX1ZBTFVFICsgMS4wZiks\nDQogICAgICAgICAgICAoZG91YmxlKSAoRG91YmxlLk1JTl9WQUxVRSArIDEu\nMGQpLA0KICAgICAgICAgICAgKGJ5dGUpIChCeXRlLk1JTl9WQUxVRSArIDEp\nLA0KICAgICAgICAgICAgKGJvb2xlYW4pIHRydWUsDQogICAgICAgICAgICAo\nY2hhcikgJ3EnLA0KICAgICAgICAgICAgKERhdGUpIG5ldyBEYXRlKCksDQog\nICAgICAgICAgICAoU2VyaWFsaXphYmxlKSBuZXcgU3RyaW5nQnVmZmVyKDUw\nMDApLA0KICAgICAgICAgICAgKFN0cmluZykgUkFORE9NX1NUUklORywNCiAg\nICAgICAgICAgIHJhbmRvbUJpZ0ludGVnZXIoKSwNCiAgICAgICAgICAgIHJh\nbmRvbUJpZ0RlY2ltYWwoKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQg\ndGVzdERvdWJsZUFuZEZsb2F0UHJlY2lzaW9uKCkNCiAgICAgICAgdGhyb3dz\nIEV4Y2VwdGlvbiB7DQogICAgICAgIGFsbEZpZWxkU2F2ZVN0YXRlKA0KICAg\nICAgICAgICAgKGludCkgKDApLA0KICAgICAgICAgICAgKHNob3J0KSAoMCks\nDQogICAgICAgICAgICAobG9uZykgKDBsKSwNCiAgICAgICAgICAgIChmbG9h\ndCkgKDEwLjBmIC8gMy4wZiksDQogICAgICAgICAgICAoZG91YmxlKSAoMTAw\nLjBkIC8gMy4wZCksDQogICAgICAgICAgICAoYnl0ZSkgKDApLA0KICAgICAg\nICAgICAgKGJvb2xlYW4pIHRydWUsDQogICAgICAgICAgICAoY2hhcikgJ3En\nLA0KICAgICAgICAgICAgKERhdGUpIG5ldyBEYXRlKCksDQogICAgICAgICAg\nICAoU2VyaWFsaXphYmxlKSBuZXcgU3RyaW5nQnVmZmVyKDUwMDApLA0KICAg\nICAgICAgICAgKFN0cmluZykgUkFORE9NX1NUUklORywNCiAgICAgICAgICAg\nIHJhbmRvbUJpZ0ludGVnZXIoKSwNCiAgICAgICAgICAgIHJhbmRvbUJpZ0Rl\nY2ltYWwoKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdFplcm9O\ndW1iZXJzKCkNCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAg\nIGFsbEZpZWxkU2F2ZVN0YXRlKA0KICAgICAgICAgICAgKGludCkgKDApLA0K\nICAgICAgICAgICAgKHNob3J0KSAoMCksDQogICAgICAgICAgICAobG9uZykg\nKDBsKSwNCiAgICAgICAgICAgIChmbG9hdCkgKDAuMGYpLA0KICAgICAgICAg\nICAgKGRvdWJsZSkgKDAuMGQpLA0KICAgICAgICAgICAgKGJ5dGUpICgwKSwN\nCiAgICAgICAgICAgIChib29sZWFuKSB0cnVlLA0KICAgICAgICAgICAgKGNo\nYXIpICdxJywNCiAgICAgICAgICAgIChEYXRlKSBuZXcgRGF0ZSgpLA0KICAg\nICAgICAgICAgKFNlcmlhbGl6YWJsZSkgbmV3IFN0cmluZ0J1ZmZlcig1MDAw\nKSwNCiAgICAgICAgICAgIChTdHJpbmcpIFJBTkRPTV9TVFJJTkcsDQogICAg\nICAgICAgICBuZXcgQmlnSW50ZWdlcigiMCIpLA0KICAgICAgICAgICAgbmV3\nIEJpZ0RlY2ltYWwoIjAuMCIpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0TG93RGF0ZSgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0K\nICAgICAgICBkYXRlVGVzdCgwKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Q3VyRGF0ZSgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0K\nICAgICAgICBkYXRlVGVzdChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEhpZ2hEYXRlKCkNCiAg\nICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIHRyeSB7DQogICAg\nICAgICAgICAvLyBwb3N0Z3JlcyB3aWxsIHNvbWV0aW1lcyBzdG9yZSB0aGUg\nU3RyaW5nICJpbnZhbGlkIiBpZiB0aGUNCiAgICAgICAgICAgIC8vIGRhdGUg\naXMgdG9vIGhpZ2gsIHdoaWNoIHdpbGwgcHJldmVudCB1cyBmcm9tIGV2ZW4g\ncmVhZGluZw0KICAgICAgICAgICAgLy8gdGhlIHJlY29yZHMgdGhhdCBjb250\nYWluIHRoaXMgY29ycnVwdCB2YWx1ZSAodGh1cyBicmVha2luZw0KICAgICAg\nICAgICAgLy8gYW55IHN1YnNlcXVlbnQgYXR0ZW1wdHMgdG8gcmVhZCBpbnN0\nYW5jZXMgb2YgQWxsRmllbGRUeXBlc1Rlc3QpLg0KICAgICAgICAgICAgLy8g\nQW4gRXhhbXBsZSBvZiBhIGRhdGUgbGlrZSB0aGlzIGlzOg0KICAgICAgICAg\nICAgLy8gICAoVGltZXN0YW1wKSAyMDM4LTAyLTA4IDIyOjIwOjA3LjY1DQog\nICAgICAgICAgICBpZiAoZ2V0Q3VycmVudFBsYXRmb3JtKCkgPT0NCiAgICAg\nICAgICAgICAgICBBYnN0cmFjdFRlc3RDYXNlLlBsYXRmb3JtLlBPU1RHUkVT\nUUwpDQogICAgICAgICAgICAgICAgZmFpbCgiUG9zdGdyZXMgY2FuJ3QgZXZl\nbiB0cnkgdG8gc3RvcmUgYSBoaWdoIGRhdGUiKTsNCg0KICAgICAgICAgICAg\nZGF0ZVRlc3QoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkgKiAyKTsNCiAg\nICAgICAgfSBjYXRjaCAoQXNzZXJ0aW9uRmFpbGVkRXJyb3IgZSkgew0KICAg\nICAgICAgICAgYnVnKDYsIGUsICJTb21lIGRhdGEgc3RvcmVzIGNhbm5vdCBk\nZWFsICINCiAgICAgICAgICAgICAgICArICJ3aXRoIHZlcnkgaGlnaCBkYXRl\ncyIpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogU29t\nZSBkYXRlIGluc3RhbmNlcyB0aGF0IGhhdmUgYmVlbiBrbm93biB0byBoYXZl\nIHByb2JsZW1zLg0KICAgICAqLw0KICAgIHB1YmxpYyB2b2lkIHRlc3RQcm9i\nbGVtYXRpY0RhdGVzKCkNCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQog\nICAgICAgIGRhdGVUZXN0KDEwNDc3NDQ2MzkpOyAgICAgICAgLy8gcG9pbnRi\nYXNlIGhhZCBwcm9icyB3aXRoIHRoaXMNCiAgICB9DQoNCiAgICBwcml2YXRl\nIHZvaWQgZGF0ZVRlc3QobG9uZyBsKQ0KICAgICAgICB0aHJvd3MgRXhjZXB0\naW9uIHsNCiAgICAgICAgRGF0ZSBkID0gbmV3IERhdGUobCk7DQoNCiAgICAg\nICAgYWxsRmllbGRTYXZlU3RhdGUoDQogICAgICAgICAgICAoaW50KSAxMCwN\nCiAgICAgICAgICAgIChzaG9ydCkgMTAsDQogICAgICAgICAgICAobG9uZykg\nMTAsDQogICAgICAgICAgICAoZmxvYXQpIDAsDQogICAgICAgICAgICAoZG91\nYmxlKSAwLA0KICAgICAgICAgICAgKGJ5dGUpIDEwLA0KICAgICAgICAgICAg\nKGJvb2xlYW4pIHRydWUsDQogICAgICAgICAgICAoY2hhcikgJ3gnLA0KICAg\nICAgICAgICAgKERhdGUpIGQsDQogICAgICAgICAgICAoU2VyaWFsaXphYmxl\nKSBuZXcgU3RyaW5nQnVmZmVyKDEwKSwNCiAgICAgICAgICAgIChTdHJpbmcp\nIFJBTkRPTV9TVFJJTkcsDQogICAgICAgICAgICBuZXcgQmlnSW50ZWdlcigi\nMCIpLA0KICAgICAgICAgICAgbmV3IEJpZ0RlY2ltYWwoIjAiKSk7DQogICAg\nfQ0KDQogICAgcHVibGljIHZvaWQgYWxsRmllbGRTYXZlU3RhdGUoaW50IHRl\nc3RpbnQsIHNob3J0IHRlc3RzaG9ydCwgbG9uZyB0ZXN0bG9uZywNCiAgICAg\nICAgZmxvYXQgdGVzdGZsb2F0LCBkb3VibGUgdGVzdGRvdWJsZSwgYnl0ZSB0\nZXN0Ynl0ZSwNCiAgICAgICAgYm9vbGVhbiB0ZXN0Ym9vbGVhbiwgY2hhciB0\nZXN0Y2hhciwgRGF0ZSB0ZXN0RGF0ZSwNCiAgICAgICAgU2VyaWFsaXphYmxl\nIHRlc3RPYmplY3QsIFN0cmluZyB0ZXN0U3RyaW5nLA0KICAgICAgICBCaWdJ\nbnRlZ2VyIHRlc3RCaWdJbnRlZ2VyLCBCaWdEZWNpbWFsIHRlc3RCaWdEZWNp\nbWFsKQ0KICAgICAgICB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgdHJ5\nIHsNCiAgICAgICAgICAgIGFsbEZpZWxkU2F2ZVN0YXRlSW50ZXJuYWwodGVz\ndGludCwgdGVzdHNob3J0LCB0ZXN0bG9uZywNCiAgICAgICAgICAgICAgICB0\nZXN0ZmxvYXQsIHRlc3Rkb3VibGUsIHRlc3RieXRlLA0KICAgICAgICAgICAg\nICAgIHRlc3Rib29sZWFuLCB0ZXN0Y2hhciwgdGVzdERhdGUsDQogICAgICAg\nICAgICAgICAgdGVzdE9iamVjdCwgdGVzdFN0cmluZywgdGVzdEJpZ0ludGVn\nZXIsIHRlc3RCaWdEZWNpbWFsKTsNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAg\nICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgLy8gbWFrZSAqc3Vy\nZSogd2UgZG8gbm90IGxlYXZlIGEgdHJhbnNhY3Rpb24gb3Blbg0KICAgICAg\nICAgICAgICAgIHJvbGxiYWNrVHgoZ2V0UE0odHJ1ZSwgZmFsc2UpKTsNCiAg\nICAgICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7DQoNCiAgICAgICAg\nICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIGFs\nbEZpZWxkU2F2ZVN0YXRlSW50ZXJuYWwoDQogICAgICAgIGludCB0ZXN0aW50\nLCBzaG9ydCB0ZXN0c2hvcnQsIGxvbmcgdGVzdGxvbmcsDQogICAgICAgIGZs\nb2F0IHRlc3RmbG9hdCwgZG91YmxlIHRlc3Rkb3VibGUsIGJ5dGUgdGVzdGJ5\ndGUsDQogICAgICAgIGJvb2xlYW4gdGVzdGJvb2xlYW4sIGNoYXIgdGVzdGNo\nYXIsIERhdGUgdGVzdERhdGUsDQogICAgICAgIFNlcmlhbGl6YWJsZSB0ZXN0\nT2JqZWN0LCBTdHJpbmcgdGVzdFN0cmluZywNCiAgICAgICAgQmlnSW50ZWdl\nciB0ZXN0QmlnSW50ZWdlciwgQmlnRGVjaW1hbCB0ZXN0QmlnRGVjaW1hbCkN\nCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0odHJ1ZSwgZmFsc2UpOw0KICAgICAg\nICBzdGFydFR4KHBtKTsNCg0KICAgICAgICBBbGxGaWVsZFR5cGVzVGVzdCB0\nZXN0ID0gbmV3IEFsbEZpZWxkVHlwZXNUZXN0KCk7DQogICAgICAgIHBtLnBl\ncnNpc3QodGVzdCk7DQogICAgICAgIE9iamVjdCB0ZXN0SUQgPSBwbS5nZXRP\nYmplY3RJZCh0ZXN0KTsNCg0KICAgICAgICB0ZXN0LnNldFRlc3RpbnQodGVz\ndGludCk7DQogICAgICAgIHRlc3Quc2V0VGVzdGxvbmcodGVzdGxvbmcpOw0K\nICAgICAgICB0ZXN0LnNldFRlc3Rkb3VibGUodGVzdGRvdWJsZSk7DQogICAg\nICAgIHRlc3Quc2V0VGVzdHNob3J0KHRlc3RzaG9ydCk7DQogICAgICAgIHRl\nc3Quc2V0VGVzdGZsb2F0KHRlc3RmbG9hdCk7DQogICAgICAgIHRlc3Quc2V0\nVGVzdGJ5dGUodGVzdGJ5dGUpOw0KICAgICAgICB0ZXN0LnNldFRlc3Rib29s\nZWFuKHRlc3Rib29sZWFuKTsNCiAgICAgICAgdGVzdC5zZXRUZXN0Y2hhcih0\nZXN0Y2hhcik7DQogICAgICAgIHRlc3Quc2V0VGVzdFN0cmluZyh0ZXN0U3Ry\naW5nKTsNCiAgICAgICAgdGVzdC5zZXRUZXN0RGF0ZSh0ZXN0RGF0ZSk7DQog\nICAgICAgIHRlc3Quc2V0VGVzdE9iamVjdCh0ZXN0T2JqZWN0KTsNCiAgICAg\nICAgdGVzdC5zZXRUZXN0QmlnSW50ZWdlcih0ZXN0QmlnSW50ZWdlcik7DQog\nICAgICAgIHRlc3Quc2V0VGVzdEJpZ0RlY2ltYWwodGVzdEJpZ0RlY2ltYWwp\nOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBlbmRUeChwbSk7DQog\nICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBp\nZiAoZSBpbnN0YW5jZW9mIEV4Y2VwdGlvbiAmJg0KICAgICAgICAgICAgICAg\nICgoRXhjZXB0aW9uKSBlKS5nZXRNZXNzYWdlKCkuaW5kZXhPZg0KICAgICAg\nICAgICAgICAgICAgICAoIk1heGltdW0gbGVuZ3RoIGlzIDgwMDAiKSAhPSAt\nMSkgew0KICAgICAgICAgICAgICAgIGJ1ZyhBYnN0cmFjdFRlc3RDYXNlLlBs\nYXRmb3JtLlNRTFNFUlZFUiwgNSwgZSwNCiAgICAgICAgICAgICAgICAgICAg\nIlNRTFNlcnZlciBjYW5ub3QgZGVhbCINCiAgICAgICAgICAgICAgICAgICAg\nICAgICsgIiB3aXRoIG51bWJlcnMgd2l0aCBtb3JlIHRoYW4gODAwMCBkaWdp\ndHMiKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAg\ndGhyb3cgZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAg\nIGVuZEVtKHBtKTsNCg0KICAgICAgICAvL2Fzc2VydFBlcnNpc3RlbnQgKHRl\nc3QsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UpOw0KDQogICAgICAgIHBt\nID0gZ2V0UE0odHJ1ZSwgZmFsc2UpOw0KICAgICAgICBzdGFydFR4KHBtKTsN\nCg0KICAgICAgICBBbGxGaWVsZFR5cGVzVGVzdCByZXRyaWV2ZWRPYmplY3Qg\nPQ0KICAgICAgICAgICAgKEFsbEZpZWxkVHlwZXNUZXN0KSBwbS5maW5kKEFs\nbEZpZWxkVHlwZXNUZXN0LmNsYXNzLCB0ZXN0SUQpOw0KDQogICAgICAgIGFz\nc2VydEVxdWFscygiRmllbGQgdHlwZSBpbnQiLCB0ZXN0aW50LA0KICAgICAg\nICAgICAgcmV0cmlldmVkT2JqZWN0LmdldFRlc3RpbnQoKSk7DQogICAgICAg\nIGFzc2VydEVxdWFscygiRmllbGQgdHlwZSBzaG9ydCIsIHRlc3RzaG9ydCwN\nCiAgICAgICAgICAgIHJldHJpZXZlZE9iamVjdC5nZXRUZXN0c2hvcnQoKSk7\nDQogICAgICAgIGFzc2VydEVxdWFscygiRmllbGQgdHlwZSBib29sZWFuIiwg\ndGVzdGJvb2xlYW4sDQogICAgICAgICAgICByZXRyaWV2ZWRPYmplY3QuZ2V0\nVGVzdGJvb2xlYW4oKSk7DQogICAgICAgIGFzc2VydEVxdWFscygiRmllbGQg\ndHlwZSBjaGFyIiwgdGVzdGNoYXIsDQogICAgICAgICAgICByZXRyaWV2ZWRP\nYmplY3QuZ2V0VGVzdGNoYXIoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygi\nRmllbGQgdHlwZSBsb25nIiwgdGVzdGxvbmcsDQogICAgICAgICAgICByZXRy\naWV2ZWRPYmplY3QuZ2V0VGVzdGxvbmcoKSk7DQoNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJGaWVsZCB0eXBlIGJ5dGUiLCB0ZXN0Ynl0ZSwNCiAgICAgICAg\nICAgIHJldHJpZXZlZE9iamVjdC5nZXRUZXN0Ynl0ZSgpKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJGaWVsZCB0eXBlIFN0cmluZyIsIHRlc3RTdHJpbmcs\nDQogICAgICAgICAgICByZXRyaWV2ZWRPYmplY3QuZ2V0VGVzdFN0cmluZygp\nKTsNCg0KICAgICAgICBpbnQgaTEgPSAoaW50KSAodGVzdERhdGUuZ2V0VGlt\nZSgpIC8gMTAwMCk7DQogICAgICAgIGludCBpMiA9IChpbnQpIChyZXRyaWV2\nZWRPYmplY3QuZ2V0VGVzdERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTsNCg0K\nICAgICAgICBpbnQgdGVzdERhdGVEYXkgPSB0ZXN0RGF0ZS5nZXREYXkoKTsN\nCiAgICAgICAgaW50IHRlc3REYXRlTW9udGggPSB0ZXN0RGF0ZS5nZXRNb250\naCgpOw0KICAgICAgICBpbnQgdGVzdERhdGVZZWFyID0gdGVzdERhdGUuZ2V0\nWWVhcigpOw0KDQogICAgICAgIGludCByZXRyaWV2ZWRPYmplY3REYXkgPSBy\nZXRyaWV2ZWRPYmplY3QuZ2V0VGVzdERhdGUoKS5nZXREYXkoKTsNCiAgICAg\nICAgaW50IHJldHJpZXZlZE9iamVjdE1vbnRoID0gcmV0cmlldmVkT2JqZWN0\nLmdldFRlc3REYXRlKCkuZ2V0TW9udGgoKTsNCiAgICAgICAgaW50IHJldHJp\nZXZlZE9iamVjdFllYXIgPSByZXRyaWV2ZWRPYmplY3QuZ2V0VGVzdERhdGUo\nKS5nZXRZZWFyKCk7DQoNCiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJp\nMSA6ICIgKyBpMSArICJcbmkyIDogIiArIGkyKTsNCg0KICAgICAgICAvL0NS\nMzQ2MTYyLiBJbiB0aGlzIENSLCBpdCB3YXMgc3RhdGVkIHRoYXQgQFRlbXBv\ncmFsKERBVEUpIGZpZWxkcyB3aWxsIGJlIGVxdWFsIGZvciB5ZWFyLCBtb250\naCwgZGF5IGJ1dCBub3QgZm9yIGhvdXJzLCANCiAgICAgICAgLy9taW51dGVz\nLCBzZWNvbmRzLiBTbywgd2UgcmVtb3ZlZCB0aGUgdGltZSBjaGVjayBhbmQg\nY2hlY2tlZCBvbmx5IGZvciB0aGUgZXF1YWxpdHkgb2YgZGF5LCBtb250aCBh\nbmQgeWVhcg0KDQogICAgICAgIC8qIGFzc2VydEVxdWFscygiRmllbGQgdHlw\nZSBEYXRlOiAiDQogICAgICsgdGVzdERhdGUuZ2V0VGltZSgpICsgIiE9Ig0K\nICAgICArIHJldHJpZXZlZE9iamVjdC5nZXRUZXN0RGF0ZSgpLmdldFRpbWUo\nKQ0KICAgICArICJbIiArIG5ldyBEYXRlKHRlc3REYXRlLmdldFRpbWUoKSkg\nKyAiICE9ICINCiAgICAgKyBuZXcgRGF0ZShyZXRyaWV2ZWRPYmplY3QuZ2V0\nVGVzdERhdGUoKS5nZXRUaW1lKCkpICsgIl0iLA0KICAgICAoaW50KSAodGVz\ndERhdGUuZ2V0VGltZSgpIC8gMTAwMCksDQogICAgIChpbnQpIChyZXRyaWV2\nZWRPYmplY3QuZ2V0VGVzdERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSk7Ki8N\nCg0KICAgICAgICBpZiAoKHRlc3REYXRlRGF5ICE9IHJldHJpZXZlZE9iamVj\ndERheSkgfHwNCiAgICAgICAgICAgICh0ZXN0RGF0ZU1vbnRoICE9IHJldHJp\nZXZlZE9iamVjdE1vbnRoKSB8fA0KICAgICAgICAgICAgKHRlc3REYXRlWWVh\nciAhPSByZXRyaWV2ZWRPYmplY3RZZWFyKSkgew0KICAgICAgICAgICAgQXNz\nZXJ0LmZhaWwoDQogICAgICAgICAgICAgICAgIkZpZWxkIHR5cGUgRGF0ZSBu\nb3Qgc3RvcmVkIHByb3Blcmx5LiBPbmUgb3IgbW9yZSBvZiB0aGUgY29tcG9u\nZW50cyBvZiB0aGUgZGF0ZSAoZGF5LCBtb250aCBvciB5ZWFyKSBkbyBub3Qg\nbWF0Y2guIFxuIiArDQogICAgICAgICAgICAgICAgICAgICIgVmFsdWUgdGhh\ndCBzaG91bGQgYmUgc3RvcmVkIDogIiArIHRlc3REYXRlLnRvR01UU3RyaW5n\nKCkgKw0KICAgICAgICAgICAgICAgICAgICAiLiBcblZhbHVlIHRoYXQgaXMg\nYWN0dWFsbHkiICsNCiAgICAgICAgICAgICAgICAgICAgInN0b3JlZCA6ICIg\nKyByZXRyaWV2ZWRPYmplY3QuZ2V0VGVzdERhdGUoKS50b0dNVFN0cmluZygp\nKTsNCiAgICAgICAgfQ0KICAgICAgICAvL2Fzc2VydEVxdWFscyAoIkZpZWxk\nIHR5cGUgT2JqZWN0IiwgdGVzdE9iamVjdCwNCiAgICAgICAgLy9yZXRyaWV2\nZWRPYmplY3QuZ2V0VGVzdE9iamVjdCAoKSk7DQogICAgICAgIGFzc2VydEVx\ndWFscygiRmllbGQgdHlwZSBCaWdJbnRlZ2VyIiwgdGVzdEJpZ0ludGVnZXIs\nDQogICAgICAgICAgICByZXRyaWV2ZWRPYmplY3QuZ2V0VGVzdEJpZ0ludGVn\nZXIoKSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGFzc2VydEVx\ndWFscygiRmllbGQgdHlwZSBCaWdEZWNpbWFsIChCaWdJbnRlZ2VyIHBhcnQp\nIiwNCiAgICAgICAgICAgICAgICB0ZXN0QmlnRGVjaW1hbC50b0JpZ0ludGVn\nZXIoKSwNCiAgICAgICAgICAgICAgICByZXRyaWV2ZWRPYmplY3QuZ2V0VGVz\ndEJpZ0RlY2ltYWwoKS50b0JpZ0ludGVnZXIoKSk7DQoNCiAgICAgICAgICAg\nIGFzc2VydEVxdWFscygiRmllbGQgdHlwZSBCaWdEZWNpbWFsIiwNCiAgICAg\nICAgICAgICAgICB0ZXN0QmlnRGVjaW1hbCwNCiAgICAgICAgICAgICAgICBy\nZXRyaWV2ZWRPYmplY3QuZ2V0VGVzdEJpZ0RlY2ltYWwoKSk7DQoNCiAgICAg\nICAgICAgIGFzc2VydEVxdWFscygiRmllbGQgdHlwZSBmbG9hdCIsIHRlc3Rm\nbG9hdCwNCiAgICAgICAgICAgICAgICByZXRyaWV2ZWRPYmplY3QuZ2V0VGVz\ndGZsb2F0KCksIDAuMDFmKTsNCiAgICAgICAgICAgIGFzc2VydEVxdWFscygi\nRmllbGQgdHlwZSBkb3VibGUiLCB0ZXN0ZG91YmxlLA0KICAgICAgICAgICAg\nICAgIHJldHJpZXZlZE9iamVjdC5nZXRUZXN0ZG91YmxlKCksIDAuMDFkKTsN\nCiAgICAgICAgfSBjYXRjaCAoQXNzZXJ0aW9uRmFpbGVkRXJyb3IgYWZlKSB7\nDQogICAgICAgICAgICBidWcoMywgYWZlLA0KICAgICAgICAgICAgICAgICJE\nb3VibGVzIGFuZCBGbG9hdHMgbG9zZSBwcmVjaXNpb24gaW4gc29tZSBkYXRh\nIHN0b3JlcyIpOw0KICAgICAgICB9DQoNCiAgICAgICAgcm9sbGJhY2tUeChw\nbSk7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

