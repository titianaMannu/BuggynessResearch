{"sha":"973f1c667d8fa66d92b14e64a3266ee37b880e9f","node_id":"MDQ6QmxvYjIwNjM2NDo5NzNmMWM2NjdkOGZhNjZkOTJiMTRlNjRhMzI2NmVlMzdiODgwZTlm","size":3973,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/973f1c667d8fa66d92b14e64a3266ee37b880e9f","content":"LyoNCiAqIFRlc3RJbmNyZW1lbnRhbEZsdXNoZXNEZWxldGVzLmphdmENCiAq\nDQogKiBDcmVhdGVkIG9uIE9jdG9iZXIgMTIsIDIwMDYsIDExOjM4IEFNDQog\nKg0KICogVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8\nIFRlbXBsYXRlIE1hbmFnZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBp\nbiB0aGUgZWRpdG9yLg0KICovDQoNCi8qDQogKiBMaWNlbnNlZCB0byB0aGUg\nQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lDQog\nKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNl\nZSB0aGUgTk9USUNFIGZpbGUNCiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3\nb3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uDQogKiByZWdhcmRpbmcg\nY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBm\naWxlDQogKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJz\naW9uIDIuMCAodGhlDQogKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2Ug\ndGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlDQogKiB3aXRoIHRoZSBM\naWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNl\nIGF0DQogKg0KICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJ\nQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2Fi\nbGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLA0KICogc29mdHdhcmUg\nZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg\nb24gYW4NCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBP\nUiBDT05ESVRJT05TIE9GIEFOWQ0KICogS0lORCwgZWl0aGVyIGV4cHJlc3Mg\nb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlDQogKiBzcGVj\naWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0\nYXRpb25zDQogKiB1bmRlciB0aGUgTGljZW5zZS4gICAgDQogKi8NCnBhY2th\nZ2Ugb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbDsNCg0K\nDQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2Vy\nbmVsLmNvbW1vbi5hcHBzLlJ1bnRpbWVUZXN0MTsNCg0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuT3BlbkpQQVN0YXRlTWFuYWdlcjsNCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlBDU3RhdGU7DQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRp\ndHlNYW5hZ2VyOw0KDQpwdWJsaWMgY2xhc3MgVGVzdEluY3JlbWVudGFsRmx1\nc2hlc0RlbGV0ZXMgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7DQoNCiAgICBw\ncml2YXRlIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtOw0KICAgIHByaXZhdGUg\nT2JqZWN0IG9pZDsNCiAgICBwcml2YXRlIFJ1bnRpbWVUZXN0MSBhOw0KDQog\nICAgcHVibGljIFRlc3RJbmNyZW1lbnRhbEZsdXNoZXNEZWxldGVzKFN0cmlu\nZyBzdHIpIHsNCiAgICAgICAgc3VwZXIoc3RyKTsNCiAgICB9DQoNCiAgICAv\nKioNCiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RJbmNy\nZW1lbnRhbEZsdXNoZXNEZWxldGVzDQogICAgICovDQogICAgcHVibGljIFRl\nc3RJbmNyZW1lbnRhbEZsdXNoZXNEZWxldGVzKCkgew0KICAgIH0NCg0KICAg\nIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBkZWxldGVBbGwoUnVu\ndGltZVRlc3QxLmNsYXNzKTsNCg0KICAgICAgICBwbSA9IGdldFBNKHRydWUs\nIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIGEgPSBu\nZXcgUnVudGltZVRlc3QxKCJmb28iLCAxMCk7DQogICAgICAgIHBtLnBlcnNp\nc3QoYSk7DQogICAgICAgIG9pZCA9IHBtLmdldE9iamVjdElkKGEpOw0KICAg\nIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkgdGhyb3dzIEV4Y2Vw\ndGlvbiB7DQogICAgICAgIGVuZFR4KHBtKTsNCg0KICAgICAgICBPcGVuSlBB\nRW50aXR5TWFuYWdlciBuZXdQbSA9IGdldFBNKCk7DQogICAgICAgIHRyeSB7\nDQogICAgICAgICAgICBPYmplY3QgbyA9IG5ld1BtLmZpbmQoUnVudGltZVRl\nc3QxLmNsYXNzLCBvaWQpOw0KICAgICAgICAgICAgaWYgKG8gIT0gbnVsbCkg\new0KICAgICAgICAgICAgICAgIGZhaWwoInNob3VsZCBub3QgYmUgYWJsZSB0\nbyBsb2FkIGRlbGV0ZWQgb2JqZWN0Iik7DQogICAgICAgICAgICB9DQogICAg\nICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAvLyBl\neHBlY3RlZCBjYXNlDQogICAgICAgIH0NCg0KICAgICAgICBlbmRFbShuZXdQ\nbSk7DQogICAgICAgIGVuZEVtKHBtKTsNCg0KICAgICAgICBzdXBlci50ZWFy\nRG93bigpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgdm9pZCBhc3NlcnRTdGF0\nZShQQ1N0YXRlIHN0YXRlLCBib29sZWFuIGZsdXNoZWQpIHsNCiAgICAgICAg\nT3BlbkpQQVN0YXRlTWFuYWdlciBzbSA9IGdldFN0YXRlTWFuYWdlcihhLCBw\nbSk7DQogICAgICAgIGFzc2VydE5vdE51bGwoc20pOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoZmx1c2hlZCwgc20uaXNGbHVzaGVkKCkpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoc3RhdGUsIHNtLmdldFBDU3RhdGUoKSk7DQogICAgfQ0K\nDQogICAgLyoqDQogICAgICogUE5ldyA9PiBQTmV3RGVsZXRlZA0KICAgICAq\nLw0KICAgIHB1YmxpYyB2b2lkIHRlc3ROZXdEZWxldGVkKCkgew0KICAgICAg\nICBwbS5yZW1vdmUoYSk7DQogICAgICAgIGFzc2VydFN0YXRlKFBDU3RhdGUu\nUE5FV0RFTEVURUQsIGZhbHNlKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAg\nKiBQTmV3ID0+IFBOZXdEZWxldGVkID0+IFBOZXdEZWxldGVkRmx1c2hlZA0K\nICAgICAqLw0KICAgIHB1YmxpYyB2b2lkIHRlc3ROZXdEZWxldGVkRmx1c2hl\nZCgpIHsNCiAgICAgICAgcG0ucmVtb3ZlKGEpOw0KICAgICAgICBhc3NlcnRT\ndGF0ZShQQ1N0YXRlLlBORVdERUxFVEVELCBmYWxzZSk7DQogICAgICAgIHBt\nLmZsdXNoKCk7DQogICAgICAgIGFzc2VydFN0YXRlKFBDU3RhdGUuUE5FV0RF\nTEVURUQsIHRydWUpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFBOZXcg\nPT4gUE5ld0ZsdXNoZWQgPT4gUE5ld0ZsdXNoZWREZWxldGVkDQogICAgICov\nDQogICAgcHVibGljIHZvaWQgdGVzdE5ld0ZsdXNoZWREZWxldGVkKCkgew0K\nICAgICAgICBwbS5mbHVzaCgpOw0KICAgICAgICBhc3NlcnRTdGF0ZShQQ1N0\nYXRlLlBORVcsIHRydWUpOw0KICAgICAgICBwbS5yZW1vdmUoYSk7DQogICAg\nICAgIGFzc2VydFN0YXRlKFBDU3RhdGUuUE5FV0ZMVVNIRURERUxFVEVELCB0\ncnVlKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBQTmV3ID0+IFBOZXdG\nbHVzaGVkID0+IFBOZXdGbHVzaGVkRGVsZXRlZCA9PiBQTmV3Rmx1c2hlZERl\nbGV0ZWRGbHVzaGVkDQogICAgICovDQogICAgcHVibGljIHZvaWQgdGVzdE5l\nd0ZsdXNoZWREZWxldGVkRmx1c2hlZCgpIHsNCiAgICAgICAgcG0uZmx1c2go\nKTsNCiAgICAgICAgYXNzZXJ0U3RhdGUoUENTdGF0ZS5QTkVXLCB0cnVlKTsN\nCiAgICAgICAgcG0ucmVtb3ZlKGEpOw0KICAgICAgICBhc3NlcnRTdGF0ZShQ\nQ1N0YXRlLlBORVdGTFVTSEVEREVMRVRFRCwgdHJ1ZSk7DQogICAgICAgIHBt\nLmZsdXNoKCk7DQogICAgICAgIGFzc2VydFN0YXRlKFBDU3RhdGUuUE5FV0ZM\nVVNIRURERUxFVEVERkxVU0hFRCwgdHJ1ZSk7DQogICAgfQ0KDQovKg0KKiAJ\nIyMjIHNvbWUgcmVtYWluaW5nIHRlc3QgZGVsZXRlczoNCioJCVBEaXJ0eSA9\nPiBQRGVsZXRlZCA9PiBQRGVsZXRlZEZsdXNoZWQNCioJCVBEaXJ0eSA9PiAo\nY2hhbmdlIGFuZCBmbHVzaCkgUERpcnR5ID0+IFBEZWxldGVkID0+IFBEZWxl\ndGVkRmx1c2hlZA0KKgkJUENsZWFuID0+IFBEZWxldGVkID0+IFBEZWxldGVk\nRmx1c2hlZA0KKgkJSG9sbG93ID0+IFBEZWxldGVkID0+IFBEZWxldGVkRmx1\nc2hlZA0KKi8NCn0NCg==\n","encoding":"base64"}

