{"sha":"1081310cf8a41b73e1a3625c69497590ba7d79a5","node_id":"MDQ6QmxvYjIwNjM2NDoxMDgxMzEwY2Y4YTQxYjczZTFhMzYyNWM2OTQ5NzU5MGJhN2Q3OWE1","size":4559,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1081310cf8a41b73e1a3625c69497590ba7d79a5","content":"LyoNCiAqIFRlc3RNdWx0aVRocmVhZGVkLmphdmENCiAqDQogKiBDcmVhdGVk\nIG9uIE9jdG9iZXIgMTIsIDIwMDYsIDI6MjEgUE0NCiAqDQogKiBUbyBjaGFu\nZ2UgdGhpcyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFu\nYWdlcg0KICogYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0b3Iu\nDQogKi8NCi8qDQogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJl\nIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lDQogKiBvciBtb3JlIGNvbnRy\naWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZp\nbGUNCiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlv\nbmFsIGluZm9ybWF0aW9uDQogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVy\nc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlDQogKiB0byB5b3Ug\ndW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlDQog\nKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2Vw\ndCBpbiBjb21wbGlhbmNlDQogKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1h\neSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogaHR0\ncDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0K\nICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVl\nZCB0byBpbiB3cml0aW5nLA0KICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5k\nZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4NCiAqICJBUyBJ\nUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9G\nIEFOWQ0KICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNl\nZSB0aGUgTGljZW5zZSBmb3IgdGhlDQogKiBzcGVjaWZpYyBsYW5ndWFnZSBn\nb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zDQogKiB1bmRl\nciB0aGUgTGljZW5zZS4gICAgDQogKi8NCnBhY2thZ2Ugb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbDsNCg0KaW1wb3J0IGphdmEudXRp\nbC5IYXNoTWFwOw0KaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsNCmltcG9y\ndCBqYXZhLnV0aWwuTWFwOw0KDQoNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUnVudGltZVRl\nc3QxOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5P\ncGVuSlBBRW50aXR5TWFuYWdlcjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5Ow0K\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBB\nUXVlcnk7DQoNCnB1YmxpYyBjbGFzcyBUZXN0TXVsdGlUaHJlYWRlZCBleHRl\nbmRzIEJhc2VLZXJuZWxUZXN0IHsNCg0KICAgIHN0YXRpYyBpbnQgc2VyaWFs\nID0gNTsNCiAgICBzdGF0aWMgaW50IHRocmVhZHMgPSA1Ow0KICAgIHN0YXRp\nYyBpbnQgaXRlcmF0aW9ucyA9IDU7DQoNCiAgICBwcml2YXRlIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtOw0KICAgIHByaXZhdGUgT2JqZWN0IGlkOw0KICAg\nIHByaXZhdGUgU3RyaW5nIG5hbWU7DQoNCiAgICAvKioNCiAgICAgKiBDcmVh\ndGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RNdWx0aVRocmVhZGVkDQogICAg\nICovDQogICAgcHVibGljIFRlc3RNdWx0aVRocmVhZGVkKCkgew0KICAgIH0N\nCg0KICAgIHB1YmxpYyBUZXN0TXVsdGlUaHJlYWRlZChTdHJpbmcgbmFtZSkg\new0KICAgICAgICBzdXBlcihuYW1lKTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\ndm9pZCBzZXRVcCgpIHsNCiAgICAgICAgZGVsZXRlQWxsKFJ1bnRpbWVUZXN0\nMS5jbGFzcyk7DQoNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0y\nID0gZ2V0UE0oKTsNCiAgICAgICAgc3RhcnRUeChwbTIpOw0KICAgICAgICBu\nYW1lID0gInRlc3RNdWx0aVRocmVhZGVkIiArIE1hdGgucmFuZG9tKCk7DQog\nICAgICAgIFJ1bnRpbWVUZXN0MSBhID0gbmV3IFJ1bnRpbWVUZXN0MShuYW1l\nLA0KICAgICAgICAgICAgKGludCkgKE1hdGgucmFuZG9tKCkgKiBJbnRlZ2Vy\nLk1BWF9WQUxVRSkpOw0KICAgICAgICBwbTIucGVyc2lzdChhKTsNCiAgICAg\nICAgaWQgPSBwbTIuZ2V0T2JqZWN0SWQoYSk7DQogICAgICAgIGVuZFR4KHBt\nMik7DQoNCiAgICAgICAgTWFwIHByb3BzID0gbmV3IEhhc2hNYXAoKTsNCiAg\nICAgICAgcHJvcHMucHV0KCJvcGVuanBhLk11bHRpdGhyZWFkZWQiLCAidHJ1\nZSIpOw0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgcG1m\nID0NCiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnkp\nIGdldEVtZihwcm9wcyk7DQogICAgICAgIHBtID0gcG1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgdGVhckRvd24oKQ0KICAgICAgICB0aHJvd3MgRXhj\nZXB0aW9uIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJvbGxiYWNr\nVHgocG0pOw0KICAgICAgICAgICAgZW5kRW0ocG0pOw0KICAgICAgICB9IGNh\ndGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgLy8gdGhpcyBpcyBu\nb3Qgd2hhdCB3ZSBhcmUgdGVzdGluZw0KICAgICAgICB9DQogICAgICAgIHN1\ncGVyLnRlYXJEb3duKCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndGdldFRyYW5zYWN0aW9uKCkgew0KICAgICAgICBtdHRlc3Qoc2VyaWFsLCB0\naHJlYWRzLCBpdGVyYXRpb25zKTsNCiAgICAgICAgcG0uZ2V0VHJhbnNhY3Rp\nb24oKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0R2V0T2JqZWN0\nQnlJZCgpIHsNCiAgICAgICAgbXR0ZXN0KHNlcmlhbCwgdGhyZWFkcywgaXRl\ncmF0aW9ucyk7DQogICAgICAgIGFzc2VydE5vdE51bGwocG0uZmluZChSdW50\naW1lVGVzdDEuY2xhc3MsIGlkKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgdGVzdFF1ZXJ5RXhlY3V0aW9uKCkgew0KICAgICAgICBtdHRlc3Qoc2Vy\naWFsLCB0aHJlYWRzLCBpdGVyYXRpb25zKTsNCiAgICAgICAgT3BlbkpQQVF1\nZXJ5IHEgPSBwbS5jcmVhdGVRdWVyeSgic2VsZWN0IG8gZnJvbSBSdW50aW1l\nVGVzdDEgbyAiDQogICAgICAgICAgICArICJ3aGVyZSBvLnN0cmluZ0ZpZWxk\nID0gJyIgKyBuYW1lICsgIiciKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\nIHEuZ2V0UmVzdWx0TGlzdCgpLnNpemUoKSk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgdGVzdERlbGV0ZVBlcnNpc3RlbnQoKSB7DQogICAgICAgIG10\ndGVzdChzZXJpYWwsIHRocmVhZHMsIGl0ZXJhdGlvbnMpOw0KICAgICAgICBw\nbS5yZW1vdmVBbGwocG0uY3JlYXRlUXVlcnkoInNlbGVjdCBvIGZyb20gUnVu\ndGltZVRlc3QxIG8gIg0KICAgICAgICAgICAgKyAid2hlcmUgby5zdHJpbmdG\naWVsZCA9ICciICsgbmFtZSArICInIikuZ2V0UmVzdWx0TGlzdCgpKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmVmcmVzaEFsbCgpIHsNCiAg\nICAgICAgbXR0ZXN0KHNlcmlhbCwgdGhyZWFkcywgaXRlcmF0aW9ucyk7DQog\nICAgICAgIHBtLnJlZnJlc2hBbGwoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0RXZpY3RBbGwoKSB7DQogICAgICAgIG10dGVzdChzZXJpYWws\nIHRocmVhZHMsIGl0ZXJhdGlvbnMpOw0KICAgICAgICBwbS5ldmljdEFsbCgp\nOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RJdGVyYXRlRXh0ZW50\nKCkNCiAgICAgICAgdGhyb3dzIFRocm93YWJsZSB7DQogICAgICAgIGlmICh0\naW1lb3V0KDEyMCAqIDEwMDApKSByZXR1cm47DQoNCiAgICAgICAgbXR0ZXN0\nKHNlcmlhbCwgdGhyZWFkcywgaXRlcmF0aW9ucyk7DQoNCiAgICAgICAgYXNz\nZXJ0VHJ1ZSgiVHJhbnNhY3Rpb24gc2hvdWxkIGhhdmUgYmVlbiBhY3RpdmUi\nLA0KICAgICAgICAgICAgcG0uZ2V0VHJhbnNhY3Rpb24oKS5pc0FjdGl2ZSgp\nKTsNCg0KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IDM7IGkrKykgew0K\nICAgICAgICAgICAgcG0ucGVyc2lzdChuZXcgUnVudGltZVRlc3QxKCJ0ZXN0\nSXRlcmF0ZUV4dGVudCIgKyBNYXRoLnJhbmRvbSgpLA0KICAgICAgICAgICAg\nICAgIChpbnQpIChNYXRoLnJhbmRvbSgpICogSW50ZWdlci5NQVhfVkFMVUUp\nKSk7DQogICAgICAgIH0NCg0KICAgICAgICBhc3NlcnRUcnVlKCJUcmFuc2Fj\ndGlvbiBzaG91bGQgaGF2ZSBiZWVuIGFjdGl2ZSIsDQogICAgICAgICAgICBw\nbS5nZXRUcmFuc2FjdGlvbigpLmlzQWN0aXZlKCkpOw0KDQogICAgICAgIGZv\nciAoSXRlcmF0b3IgaSA9IHBtLmNyZWF0ZUV4dGVudChSdW50aW1lVGVzdDEu\nY2xhc3MsIHRydWUpLml0ZXJhdG9yKCk7DQogICAgICAgICAgICBpLmhhc05l\neHQoKTsgaS5uZXh0KCkpDQogICAgICAgICAgICA7DQoNCiAgICAgICAgYXNz\nZXJ0VHJ1ZSgiVHJhbnNhY3Rpb24gc2hvdWxkIGhhdmUgYmVlbiBhY3RpdmUi\nLA0KICAgICAgICAgICAgcG0uZ2V0VHJhbnNhY3Rpb24oKS5pc0FjdGl2ZSgp\nKTsNCiAgICB9DQp9DQo=\n","encoding":"base64"}

