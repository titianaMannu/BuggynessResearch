{"sha":"fa8cf90b18cd26956e7f2d15e7452248b81b25ed","node_id":"MDQ6QmxvYjIwNjM2NDpmYThjZjkwYjE4Y2QyNjk1NmU3ZjJkMTVlNzQ1MjI0OGI4MWIyNWVk","size":3608,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fa8cf90b18cd26956e7f2d15e7452248b81b25ed","content":"LyoNCiAqIFRlc3ROVFcuamF2YQ0KICoNCiAqIENyZWF0ZWQgb24gT2N0b2Jl\nciAxMiwgMjAwNiwgMjozMyBQTQ0KICoNCiAqIFRvIGNoYW5nZSB0aGlzIHRl\nbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0ZSBNYW5hZ2VyDQogKiBh\nbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVkaXRvci4NCiAqLw0KLyoN\nCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlv\nbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGlj\nZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhl\nIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0aGUg\nQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNlbnNl\nIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBs\naWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh\nIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3LmFw\nYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3Mg\ncmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdy\naXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGlj\nZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJUywg\nV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQogKiBL\nSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNl\nbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBw\nZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBMaWNl\nbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2Uua2VybmVsOw0KDQppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rp\nb247DQppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7DQppbXBvcnQgamF2YS51\ndGlsLkl0ZXJhdG9yOw0KaW1wb3J0IGphdmEudXRpbC5NYXA7DQoNCg0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29t\nbW9uLmFwcHMuUnVudGltZVRlc3QxOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5Ow0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5PcGVuSlBBUGVyc2lzdGVuY2U7DQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFRdWVyeTsNCg0KcHVi\nbGljIGNsYXNzIFRlc3ROVFcgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7DQoN\nCiAgICBwcml2YXRlIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBmYWN0\nb3J5Ow0KDQogICAgLyoqDQogICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5j\nZSBvZiBUZXN0TlRXDQogICAgICovDQogICAgcHVibGljIFRlc3ROVFcoKSB7\nDQogICAgfQ0KDQogICAgcHVibGljIFRlc3ROVFcoU3RyaW5nIG5hbWUpIHsN\nCiAgICAgICAgc3VwZXIobmFtZSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgc2V0VXAoKSB0aHJvd3MgRXhjZXB0aW9uIHsNCiAgICAgICAgZGVsZXRl\nQWxsKFJ1bnRpbWVUZXN0MS5jbGFzcyk7DQoNCiAgICAgICAgT3BlbkpQQUVu\ndGl0eU1hbmFnZXIgZW0gPSBnZXRQTSgpOw0KICAgICAgICBzdGFydFR4KGVt\nKTsNCiAgICAgICAgZW0ucGVyc2lzdChuZXcgUnVudGltZVRlc3QxKCJudHcw\nIiwgMCkpOw0KICAgICAgICBlbS5wZXJzaXN0KG5ldyBSdW50aW1lVGVzdDEo\nIm50dzEiLCAxKSk7DQogICAgICAgIGVtLnBlcnNpc3QobmV3IFJ1bnRpbWVU\nZXN0MSgibnR3MiIsIDIpKTsNCiAgICAgICAgZW0ucGVyc2lzdChuZXcgUnVu\ndGltZVRlc3QxKCJudHczIiwgMykpOw0KICAgICAgICBlbS5wZXJzaXN0KG5l\ndyBSdW50aW1lVGVzdDEoIm50dzQiLCA0KSk7DQogICAgICAgIGVuZFR4KGVt\nKTsNCiAgICAgICAgZW5kRW0oZW0pOw0KDQogICAgICAgIGVtID0gZ2V0UE0o\nKTsNCiAgICAgICAgc3RhcnRUeChlbSk7DQogICAgfQ0KDQogICAgcHVibGlj\nIHZvaWQgdGVzdE5vblRyYW5zYWN0aW9uYWxXcml0ZSgpIHRocm93cyBFeGNl\ncHRpb24gew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnkg\nZmFjdG9yeSA9IGJyb2tlcigpOw0KICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBlbSA9IGZhY3RvcnkuY3JlYXRlRW50aXR5TWFuYWdlcigpOw0KICAg\nICAgICBPcGVuSlBBUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KA0KICAgICAg\nICAgICAgIlNFTEVDVCBvIEZST00gUnVudGltZVRlc3QxIG8gT1JERVIgQlkg\nby5zdHJpbmdGaWVsZCBBU0MiKTsNCiAgICAgICAgcS5zZXRTdWJjbGFzc2Vz\nKGZhbHNlKTsNCiAgICAgICAgQ29sbGVjdGlvbiBjID0gKENvbGxlY3Rpb24p\nIHEuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAgICAgIEl0ZXJhdG9yIGl0ZXIg\nPSBjLml0ZXJhdG9yKCk7DQogICAgICAgIFJ1bnRpbWVUZXN0MSBvOw0KICAg\nICAgICB3aGlsZSAoaXRlci5oYXNOZXh0KCkpIHsNCiAgICAgICAgICAgIG8g\nPSAoUnVudGltZVRlc3QxKSBpdGVyLm5leHQoKTsNCiAgICAgICAgICAgIG8u\nc2V0U3RyaW5nRmllbGQoby5nZXRTdHJpbmdGaWVsZCgpICsgIiBtb2RpZmll\nZCIpOw0KICAgICAgICB9DQoNCiAgICAgICAgc3RhcnRUeChlbSk7DQogICAg\nICAgIGVuZFR4KGVtKTsNCg0KICAgICAgICBxID0gZW0uY3JlYXRlUXVlcnko\nDQogICAgICAgICAgICAiU0VMRUNUIG8gRlJPTSBSdW50aW1lVGVzdDEgbyBP\nUkRFUiBCWSBvLnN0cmluZ0ZpZWxkIEFTQyIpOw0KICAgICAgICBxLnNldFN1\nYmNsYXNzZXMoZmFsc2UpOw0KICAgICAgICBDb2xsZWN0aW9uIHJlc3VsdHMg\nPSAoQ29sbGVjdGlvbikgcS5nZXRSZXN1bHRMaXN0KCk7DQogICAgICAgIGFz\nc2VydEVxdWFscyg1LCByZXN1bHRzLnNpemUoKSk7DQogICAgICAgIGVuZEVt\nKGVtKTsNCiAgICB9DQoNCiAgICBwcml2YXRlIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyRmFjdG9yeSBicm9rZXIoKSB7DQogICAgICAgIE1hcCBtYXAgPSBuZXcg\nSGFzaE1hcCgpOw0KICAgICAgICBtYXAucHV0KCJPcGVuSlBBLk9wdGltaXN0\naWMiLCAidHJ1ZSIpOw0KICAgICAgICBtYXAucHV0KCJPcGVuSlBBLk5vbnRy\nYW5zYWN0aW9uYWxSZWFkIiwgInRydWUiKTsNCiAgICAgICAgbWFwLnB1dCgi\nT3BlbkpQQS5Ob250cmFuc2FjdGlvbmFsV3JpdGUiLCAidHJ1ZSIpOw0KDQog\nICAgICAgIGlmIChmYWN0b3J5ID09IG51bGwpIHsNCiAgICAgICAgICAgIGZh\nY3RvcnkgPSBPcGVuSlBBUGVyc2lzdGVuY2UNCiAgICAgICAgICAgICAgICAu\nY3JlYXRlRW50aXR5TWFuYWdlckZhY3RvcnkoIlRlc3RDb252IiwgbnVsbCwg\nbWFwKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZmFjdG9yeTsNCiAg\nICB9DQp9DQo=\n","encoding":"base64"}

