{"sha":"d2a725c657ef272055233f607e47eec7e34dd44a","node_id":"MDQ6QmxvYjIwNjM2NDpkMmE3MjVjNjU3ZWYyNzIwNTUyMzNmNjA3ZTQ3ZWVjN2UzNGRkNDRh","size":11727,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d2a725c657ef272055233f607e47eec7e34dd44a","content":"LyoNCiAqIFRlc3RPcHRpbWlzdGljTG9ja0dyb3Vwcy5qYXZhDQogKg0KICog\nQ3JlYXRlZCBvbiBPY3RvYmVyIDEyLCAyMDA2LCAyOjU3IFBNDQogKg0KICog\nVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBs\nYXRlIE1hbmFnZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUg\nZWRpdG9yLg0KICovDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBT\nb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICogb3IgbW9y\nZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5P\nVElDRSBmaWxlDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3Ig\nYWRkaXRpb25hbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNvcHlyaWdo\ndCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQ0KICog\ndG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAg\nKHRoZQ0KICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmls\nZSBleGNlcHQgaW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGljZW5zZS4g\nIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoN\nCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIu\nMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBv\nciBhZ3JlZWQgdG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRpc3RyaWJ1\ndGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuDQog\nKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElU\nSU9OUyBPRiBBTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxp\nZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lmaWMgbGFu\nZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucw0K\nICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdlIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWw7DQoNCg0KDQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21t\nb24uYXBwcy5Mb2NrR3JvdXBQQzsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLkxvY2tHcm91cFBD\nMjsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2Vy\nbmVsLmNvbW1vbi5hcHBzLlJ1bnRpbWVUZXN0MTsNCg0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdl\ncjsNCg0KcHVibGljIGNsYXNzIFRlc3RPcHRpbWlzdGljTG9ja0dyb3VwcyBl\neHRlbmRzIEJhc2VLZXJuZWxUZXN0IHsNCg0KICAgIHByaXZhdGUgT2JqZWN0\nIG9pZDsNCg0KICAgIC8qKg0KICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFu\nY2Ugb2YgVGVzdE9wdGltaXN0aWNMb2NrR3JvdXBzDQogICAgICovDQogICAg\ncHVibGljIFRlc3RPcHRpbWlzdGljTG9ja0dyb3VwcygpIHsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgVGVzdE9wdGltaXN0aWNMb2NrR3JvdXBzKFN0cmluZyBu\nYW1lKSB7DQogICAgICAgIHN1cGVyKG5hbWUpOw0KICAgIH0NCg0KICAgIHB1\nYmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBkZWxldGVBbGwoTG9ja0dy\nb3VwUEMuY2xhc3MpOw0KDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChw\nbSk7DQogICAgICAgIE9iamVjdCBvID0gbmV3IExvY2tHcm91cFBDKCk7DQog\nICAgICAgIHBtLnBlcnNpc3Qobyk7DQogICAgICAgIGVuZFR4KHBtKTsNCiAg\nICAgICAgb2lkID0gcG0uZ2V0T2JqZWN0SWQobyk7DQogICAgICAgIGVuZEVt\nKHBtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGVmYXVsdExv\nY2tHcm91cEZhaWx1cmUxKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbTEgPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0KICAgICAgICBzdGFy\ndFR4KHBtMSk7DQogICAgICAgIExvY2tHcm91cFBDIHBjMSA9IChMb2NrR3Jv\ndXBQQykgcG0xLmZpbmQoTG9ja0dyb3VwUEMuY2xhc3MsIG9pZCk7DQogICAg\nICAgIHBjMS5zZXREZWZhdWx0TG9ja0dyb3VwU3RyaW5nRmllbGQoInBtMSB2\nYWx1ZSIpOw0KDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtMiA9\nIGdldFBNKGZhbHNlLCBmYWxzZSk7DQogICAgICAgIHN0YXJ0VHgocG0yKTsN\nCiAgICAgICAgTG9ja0dyb3VwUEMgcGMyID0gKExvY2tHcm91cFBDKSBwbTIu\nZmluZChMb2NrR3JvdXBQQy5jbGFzcywgb2lkKTsNCiAgICAgICAgcGMyLnNl\ndERlZmF1bHRMb2NrR3JvdXBTdHJpbmdGaWVsZCgicG0yIHZhbHVlIik7DQoN\nCiAgICAgICAgZW5kVHgocG0xKTsNCiAgICAgICAgZW5kRW0ocG0xKTsNCg0K\nICAgICAgICB0cnkgew0KICAgICAgICAgICAgZW5kVHgocG0yKTsNCiAgICAg\nICAgICAgIGZhaWwoInNob3VsZCBub3QgYmUgYWJsZSB0byBjb21taXQgY2hh\nbmdlIHRvIHNhbWUgdmFsdWUiKTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0\naW9uIGUpIHsNCiAgICAgICAgICAgIGFzc2VydEVxdWFscyhwYzIsIGdldEZh\naWxlZE9iamVjdChlKSk7DQogICAgICAgIH0NCiAgICAgICAgZW5kRW0ocG0y\nKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGVmYXVsdExvY2tH\ncm91cEZhaWx1cmUyKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBwbTEgPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0KICAgICAgICBzdGFydFR4\nKHBtMSk7DQogICAgICAgIExvY2tHcm91cFBDIHBjMSA9IChMb2NrR3JvdXBQ\nQykgcG0xLmZpbmQoTG9ja0dyb3VwUEMuY2xhc3MsIG9pZCk7DQogICAgICAg\nIHBjMS5zZXREZWZhdWx0TG9ja0dyb3VwU3RyaW5nRmllbGQoInBtMSB2YWx1\nZSIpOw0KDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtMiA9IGdl\ndFBNKGZhbHNlLCBmYWxzZSk7DQogICAgICAgIHN0YXJ0VHgocG0yKTsNCiAg\nICAgICAgTG9ja0dyb3VwUEMgcGMyID0gKExvY2tHcm91cFBDKSBwbTIuZmlu\nZChMb2NrR3JvdXBQQy5jbGFzcywgb2lkKTsNCiAgICAgICAgcGMyLnNldEV4\ncGxpY2l0RGVmYXVsdExvY2tHcm91cEludEZpZWxkKDIpOw0KDQogICAgICAg\nIGVuZFR4KHBtMSk7DQogICAgICAgIGVuZEVtKHBtMSk7DQoNCiAgICAgICAg\ndHJ5IHsNCiAgICAgICAgICAgIGVuZFR4KHBtMik7DQogICAgICAgICAgICBm\nYWlsKCJzaG91bGQgbm90IGJlIGFibGUgdG8gY29tbWl0IGNoYW5nZSB0byBz\nYW1lIHZhbHVlIik7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7\nDQogICAgICAgICAgICBhc3NlcnRFcXVhbHMocGMyLCBnZXRGYWlsZWRPYmpl\nY3QoZSkpOw0KICAgICAgICB9DQogICAgICAgIGVuZEVtKHBtMik7DQogICAg\nfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdE5vbkRlZmF1bHRMb2NrR3JvdXBG\nYWlsdXJlMSgpIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0x\nID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbTEp\nOw0KICAgICAgICBMb2NrR3JvdXBQQyBwYzEgPSAoTG9ja0dyb3VwUEMpIHBt\nMS5maW5kKExvY2tHcm91cFBDLmNsYXNzLCBvaWQpOw0KICAgICAgICBwYzEu\nc2V0TG9ja0dyb3VwMEludEZpZWxkKDEpOw0KDQogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyIHBtMiA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQogICAg\nICAgIHN0YXJ0VHgocG0yKTsNCiAgICAgICAgTG9ja0dyb3VwUEMgcGMyID0g\nKExvY2tHcm91cFBDKSBwbTIuZmluZChMb2NrR3JvdXBQQy5jbGFzcywgb2lk\nKTsNCiAgICAgICAgcGMyLnNldExvY2tHcm91cDBJbnRGaWVsZCgyKTsNCg0K\nICAgICAgICBlbmRUeChwbTEpOw0KICAgICAgICBlbmRFbShwbTEpOw0KDQog\nICAgICAgIHRyeSB7DQogICAgICAgICAgICBlbmRUeChwbTIpOw0KICAgICAg\nICAgICAgZmFpbCgic2hvdWxkIG5vdCBiZSBhYmxlIHRvIGNvbW1pdCBjaGFu\nZ2UgdG8gc2FtZSB2YWx1ZSIpOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRp\nb24gZSkgew0KICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKHBjMiwgZ2V0RmFp\nbGVkT2JqZWN0KGUpKTsNCiAgICAgICAgfQ0KICAgICAgICBlbmRFbShwbTIp\nOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3ROb25EZWZhdWx0TG9j\na0dyb3VwRmFpbHVyZTIoKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyIHBtMSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQogICAgICAgIHN0YXJ0\nVHgocG0xKTsNCiAgICAgICAgTG9ja0dyb3VwUEMgcGMxID0gKExvY2tHcm91\ncFBDKSBwbTEuZmluZChMb2NrR3JvdXBQQy5jbGFzcywgb2lkKTsNCiAgICAg\nICAgcGMxLnNldExvY2tHcm91cDBJbnRGaWVsZCgxKTsNCg0KICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBwbTIgPSBnZXRQTShmYWxzZSwgZmFsc2Up\nOw0KICAgICAgICBzdGFydFR4KHBtMik7DQogICAgICAgIExvY2tHcm91cFBD\nIHBjMiA9IChMb2NrR3JvdXBQQykgcG0yLmZpbmQoTG9ja0dyb3VwUEMuY2xh\nc3MsIG9pZCk7DQogICAgICAgIHBjMi5zZXRMb2NrR3JvdXAwU3RyaW5nRmll\nbGQoInBtMiIpOw0KDQogICAgICAgIGVuZFR4KHBtMSk7DQogICAgICAgIGVu\nZEVtKHBtMSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGVuZFR4\nKHBtMik7DQogICAgICAgICAgICBmYWlsKCJzaG91bGQgbm90IGJlIGFibGUg\ndG8gY29tbWl0IGNoYW5nZSB0byBzYW1lIHZhbHVlIik7DQogICAgICAgIH0g\nY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICBhc3NlcnRFcXVh\nbHMocGMyLCBnZXRGYWlsZWRPYmplY3QoZSkpOw0KICAgICAgICB9DQogICAg\nICAgIGVuZEVtKHBtMik7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndE11bHRpcGxlTG9ja0dyb3VwU3VjY2VzczEoKSB7DQogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIHBtMSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQog\nICAgICAgIHN0YXJ0VHgocG0xKTsNCiAgICAgICAgTG9ja0dyb3VwUEMgcGMx\nID0gKExvY2tHcm91cFBDKSBwbTEuZmluZChMb2NrR3JvdXBQQy5jbGFzcywg\nb2lkKTsNCiAgICAgICAgcGMxLnNldERlZmF1bHRMb2NrR3JvdXBTdHJpbmdG\naWVsZCgicG0xIHZhbHVlIik7DQogICAgICAgIHBjMS5zZXRFeHBsaWNpdERl\nZmF1bHRMb2NrR3JvdXBJbnRGaWVsZCgxKTsNCg0KICAgICAgICBPcGVuSlBB\nRW50aXR5TWFuYWdlciBwbTIgPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0KICAg\nICAgICBzdGFydFR4KHBtMik7DQogICAgICAgIExvY2tHcm91cFBDIHBjMiA9\nIChMb2NrR3JvdXBQQykgcG0yLmZpbmQoTG9ja0dyb3VwUEMuY2xhc3MsIG9p\nZCk7DQogICAgICAgIHBjMi5zZXRMb2NrR3JvdXAwSW50RmllbGQoMik7DQoN\nCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0zID0gZ2V0UE0oZmFs\nc2UsIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbTMpOw0KICAgICAgICBM\nb2NrR3JvdXBQQyBwYzMgPSAoTG9ja0dyb3VwUEMpIHBtMy5maW5kKExvY2tH\ncm91cFBDLmNsYXNzLCBvaWQpOw0KICAgICAgICBwYzMuc2V0TG9ja0dyb3Vw\nMVJlbGF0aW9uRmllbGQobmV3IFJ1bnRpbWVUZXN0MSgpKTsNCg0KICAgICAg\nICBlbmRUeChwbTEpOw0KICAgICAgICBlbmRFbShwbTEpOw0KDQogICAgICAg\nIGVuZFR4KHBtMik7DQogICAgICAgIGVuZEVtKHBtMik7DQoNCiAgICAgICAg\nZW5kVHgocG0zKTsNCiAgICAgICAgZW5kRW0ocG0zKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0TXVsdGlwbGVMb2NrR3JvdXBTdWNjZXNzMigp\nIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0xID0gZ2V0UE0o\nZmFsc2UsIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbTEpOw0KICAgICAg\nICBMb2NrR3JvdXBQQyBwYzEgPSAoTG9ja0dyb3VwUEMpIHBtMS5maW5kKExv\nY2tHcm91cFBDLmNsYXNzLCBvaWQpOw0KICAgICAgICBwYzEuc2V0RGVmYXVs\ndExvY2tHcm91cFN0cmluZ0ZpZWxkKCJwbTEgdmFsdWUiKTsNCiAgICAgICAg\ncGMxLnNldExvY2tHcm91cDBJbnRGaWVsZCgxKTsNCg0KICAgICAgICBPcGVu\nSlBBRW50aXR5TWFuYWdlciBwbTIgPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0K\nICAgICAgICBzdGFydFR4KHBtMik7DQogICAgICAgIExvY2tHcm91cFBDIHBj\nMiA9IChMb2NrR3JvdXBQQykgcG0yLmZpbmQoTG9ja0dyb3VwUEMuY2xhc3Ms\nIG9pZCk7DQogICAgICAgIHBjMi5zZXRMb2NrR3JvdXAxUmVsYXRpb25GaWVs\nZChuZXcgUnVudGltZVRlc3QxKCkpOw0KDQogICAgICAgIGVuZFR4KHBtMik7\nDQogICAgICAgIGVuZEVtKHBtMik7DQoNCiAgICAgICAgZW5kVHgocG0xKTsN\nCiAgICAgICAgZW5kRW0ocG0xKTsNCiAgICB9DQoNCi8vICAgICAgICBGSVgg\nTUU6IGFva2VrZSAtIHRlc3QgaXMgdGFraW5nIHNvIG11Y2ggcmVzb3VyY2Ug\nYW5kIGNhdXNpbmcgc3Vic2VxdWVudCB0ZXN0IHRvIGZhaWwNCi8vICAgICAg\nICBwdWJsaWMgdm9pZCB0ZXN0Tm9Mb2NrR3JvdXBTdWNjZXNzKCkgew0KLy8g\nICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtMSA9IGdldFBNKGZhbHNl\nLCBmYWxzZSk7DQovLyAgICAgICAgc3RhcnRUeChwbTEsKCkpOw0KLy8gICAg\nICAgIExvY2tHcm91cFBDIHBjMSA9IChMb2NrR3JvdXBQQykgcG0xLmZpbmQo\nTG9ja0dyb3VwUEMuY2xhc3Msb2lkKTsNCi8vICAgICAgICBwYzEuc2V0RGVm\nYXVsdExvY2tHcm91cFN0cmluZ0ZpZWxkKCJwbTEgdmFsdWUiKTsNCi8vICAg\nICAgICBwYzEuc2V0TG9ja0dyb3VwMEludEZpZWxkKDEpOw0KLy8gICAgICAg\nIHBjMS5zZXRVbmxvY2tlZFN0cmluZ0ZpZWxkKCJwbTEgdmFsdWUiKTsNCi8v\nICAgICAgICANCi8vICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbTIg\nPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0KLy8gICAgICAgIHN0YXJ0VHgocG0y\nLCgpKTsNCi8vICAgICAgICBMb2NrR3JvdXBQQyBwYzIgPSAoTG9ja0dyb3Vw\nUEMpIHBtMi5maW5kKExvY2tHcm91cFBDLmNsYXNzLG9pZCk7DQovLyAgICAg\nICAgcGMyLnNldExvY2tHcm91cDFSZWxhdGlvbkZpZWxkKG5ldyBSdW50aW1l\nVGVzdDEoKSk7DQovLyAgICAgICAgcGMyLnNldFVubG9ja2VkU3RyaW5nRmll\nbGQoInBtMiB2YWx1ZSIpOw0KLy8gICAgICAgIA0KLy8gICAgICAgIGVuZFR4\nKHBtMSwoKSk7DQovLyAgICAgICAgZW5kRW0ocG0xKTsNCi8vICAgICAgICAN\nCi8vICAgICAgICBlbmRUeChwbTIsKCkpOw0KLy8gICAgICAgIGVuZEVtKHBt\nMik7DQovLyAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0QXR0YWNoRGV0\nYWNoU3VjY2VzcygpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0KICAg\nICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbTEgPSBnZXRQTShmYWxzZSwg\nZmFsc2UpOw0KICAgICAgICBMb2NrR3JvdXBQQyBwYzEgPSAoTG9ja0dyb3Vw\nUEMpIHBtMS5maW5kKExvY2tHcm91cFBDLmNsYXNzLCBvaWQpOw0KICAgICAg\nICBPYmplY3QgZGV0YWNoZWQgPSBwbTEuZGV0YWNoKHBjMSk7DQogICAgICAg\nIHN0YXJ0VHgocG0xKTsNCiAgICAgICAgcGMxLnNldExvY2tHcm91cDBJbnRG\naWVsZCgxKTsNCiAgICAgICAgcGMxLnNldFVubG9ja2VkU3RyaW5nRmllbGQo\nInBtMSBjaGFuZ2VkIHZhbHVlIik7DQogICAgICAgIGVuZFR4KHBtMSk7DQog\nICAgICAgIGVuZEVtKHBtMSk7DQoNCiAgICAgICAgLyoNCiAgICAgICAgIC8v\nIHdvbid0IHdvcmsgd2l0aG91dCBub24tdHJhbnNpZW50IGRldGFjaGVkIHN0\nYXRlDQogICAgICAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0gYmFvcyA9IG5l\ndyBCeXRlQXJyYXlPdXRwdXRTdHJlYW0gKCk7DQogICAgICAgICBPYmplY3RP\ndXRwdXRTdHJlYW0gb29zID0gbmV3IE9iamVjdE91dHB1dFN0cmVhbSAoYmFv\ncyk7DQogICAgICAgICBvb3Mud3JpdGVPYmplY3QgKGRldGFjaGVkKTsNCiAg\nICAgICAgIG9vcy5jbG9zZSAoKTsNCiAgICAgICAgIGJhb3MuY2xvc2UgKCk7\nDQoNCiAgICAgICAgIEJ5dGVBcnJheUlucHV0U3RyZWFtIGJhaXMgPQ0KICAg\nICAgICAgICAgIG5ldyBCeXRlQXJyYXlJbnB1dFN0cmVhbSAoYmFvcy50b0J5\ndGVBcnJheSAoKSk7DQogICAgICAgICBPYmplY3RJbnB1dFN0cmVhbSBvaXMg\nPSBuZXcgT2JqZWN0SW5wdXRTdHJlYW0gKGJhaXMpOw0KICAgICAgICAgTG9j\na0dyb3VwUEMgY2xvbmUgPSAoTG9ja0dyb3VwUEMpIG9pcy5yZWFkT2JqZWN0\nICgpOw0KICAgICAgICAqLw0KICAgICAgICBMb2NrR3JvdXBQQyBjbG9uZSA9\nIChMb2NrR3JvdXBQQykgZGV0YWNoZWQ7DQogICAgICAgIGNsb25lLnNldExv\nY2tHcm91cDFJbnRGaWVsZCgyKTsNCiAgICAgICAgY2xvbmUuc2V0VW5sb2Nr\nZWRTdHJpbmdGaWVsZCgicG0yIHZhbHVlIik7DQoNCiAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0yID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsNCiAg\nICAgICAgc3RhcnRUeChwbTIpOw0KICAgICAgICBwbTIubWVyZ2UoY2xvbmUp\nOw0KICAgICAgICBlbmRUeChwbTIpOw0KICAgICAgICBlbmRFbShwbTIpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RBdHRhY2hEZXRhY2hGYWls\ndXJlKCkNCiAgICAgICAgdGhyb3dzIEV4Y2VwdGlvbiB7DQogICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIHBtMSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7\nDQogICAgICAgIExvY2tHcm91cFBDIHBjMSA9IChMb2NrR3JvdXBQQykgcG0x\nLmZpbmQoTG9ja0dyb3VwUEMuY2xhc3MsIG9pZCk7DQogICAgICAgIE9iamVj\ndCBkZXRhY2hlZCA9IHBtMS5kZXRhY2gocGMxKTsNCiAgICAgICAgc3RhcnRU\neChwbTEpOw0KICAgICAgICBwYzEuc2V0TG9ja0dyb3VwMEludEZpZWxkKDEp\nOw0KICAgICAgICBlbmRUeChwbTEpOw0KICAgICAgICBlbmRFbShwbTEpOw0K\nDQogICAgICAgIC8qDQogICAgICAgICAvLyB3b24ndCB3b3JrIHdpdGhvdXQg\nbm9uLXRyYW5zaWVudCBkZXRhY2hlZCBzdGF0ZQ0KICAgICAgICAgQnl0ZUFy\ncmF5T3V0cHV0U3RyZWFtIGJhb3MgPSBuZXcgQnl0ZUFycmF5T3V0cHV0U3Ry\nZWFtICgpOw0KICAgICAgICAgT2JqZWN0T3V0cHV0U3RyZWFtIG9vcyA9IG5l\ndyBPYmplY3RPdXRwdXRTdHJlYW0gKGJhb3MpOw0KICAgICAgICAgb29zLndy\naXRlT2JqZWN0IChkZXRhY2hlZCk7DQogICAgICAgICBvb3MuY2xvc2UgKCk7\nDQogICAgICAgICBiYW9zLmNsb3NlICgpOw0KDQogICAgICAgICBCeXRlQXJy\nYXlJbnB1dFN0cmVhbSBiYWlzID0NCiAgICAgICAgICAgICBuZXcgQnl0ZUFy\ncmF5SW5wdXRTdHJlYW0gKGJhb3MudG9CeXRlQXJyYXkgKCkpOw0KICAgICAg\nICAgT2JqZWN0SW5wdXRTdHJlYW0gb2lzID0gbmV3IE9iamVjdElucHV0U3Ry\nZWFtIChiYWlzKTsNCiAgICAgICAgIExvY2tHcm91cFBDIGNsb25lID0gKExv\nY2tHcm91cFBDKSBvaXMucmVhZE9iamVjdCAoKTsNCiAgICAgICAgKi8NCiAg\nICAgICAgTG9ja0dyb3VwUEMgY2xvbmUgPSAoTG9ja0dyb3VwUEMpIGRldGFj\naGVkOw0KICAgICAgICBjbG9uZS5zZXRMb2NrR3JvdXAwSW50RmllbGQoMik7\nDQoNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0yID0gZ2V0UE0o\nZmFsc2UsIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbTIpOw0KICAgICAg\nICBib29sZWFuIGZhaWxlZCA9IGZhbHNlOw0KICAgICAgICB0cnkgew0KICAg\nICAgICAgICAgcG0yLm1lcmdlKGNsb25lKTsNCiAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7DQog\nICAgICAgIH0NCg0KICAgICAgICBpZiAoZmFpbGVkKQ0KICAgICAgICAgICAg\ncm9sbGJhY2tUeChwbTIpOw0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAg\nIHRyeSB7DQogICAgICAgICAgICAgICAgZW5kVHgocG0yKTsNCiAgICAgICAg\nICAgICAgICBmYWlsKCJBbGxvd2VkIGNvbmZsaWN0aW5nIGNoYW5nZXMiKTsN\nCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBqdmUpIHsNCiAgICAg\nICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lk\nIHRlc3RMb2NrR3JvdXBOb25lKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQovLyAgICAgICAg\ncG0uYmVnaW4oKTsNCiAgICAgICAgZGVsZXRlQWxsKExvY2tHcm91cFBDMi5j\nbGFzcywgcG0pOw0KICAgICAgICBzdGFydFR4KHBtKTsNCiAgICAgICAgTG9j\na0dyb3VwUEMyIHBjID0gbmV3IExvY2tHcm91cFBDMigpOw0KICAgICAgICBw\nYy5zZXROYW1lKCJwYyIpOw0KICAgICAgICBwbS5wZXJzaXN0KHBjKTsNCiAg\nICAgICAgZW5kVHgocG0pOw0KICAgICAgICBPYmplY3Qgb2lkID0gcG0uZ2V0\nT2JqZWN0SWQocGMpOw0KICAgICAgICBlbmRFbShwbSk7DQoNCiAgICAgICAg\ncG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0KICAgICAgICBwYyA9IChMb2Nr\nR3JvdXBQQzIpIHBtLmZpbmQoTG9ja0dyb3VwUEMyLmNsYXNzLCBvaWQpOw0K\nICAgICAgICBzdGFydFR4KHBtKTsNCiAgICAgICAgcGMuZ2V0TGlzdCgpLmFk\nZCgiZm9vIik7DQoNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0y\nID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsNCiAgICAgICAgTG9ja0dyb3VwUEMy\nIHBjMiA9IChMb2NrR3JvdXBQQzIpIHBtMi5maW5kKExvY2tHcm91cFBDMi5j\nbGFzcywgb2lkKTsNCiAgICAgICAgc3RhcnRUeChwbTIpOw0KICAgICAgICBw\nYzIuZ2V0TGlzdCgpLmFkZCgiYmFyIik7DQogICAgICAgIGVuZFR4KHBtMik7\nDQogICAgICAgIGVuZEVtKHBtMik7DQoNCiAgICAgICAgZW5kVHgocG0pOw0K\nICAgICAgICBlbmRFbShwbSk7DQoNCiAgICAgICAgcG0gPSBnZXRQTShmYWxz\nZSwgZmFsc2UpOw0KICAgICAgICBwYyA9IChMb2NrR3JvdXBQQzIpIHBtLmZp\nbmQoTG9ja0dyb3VwUEMyLmNsYXNzLCBvaWQpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMiwgcGMuZ2V0TGlzdCgpLnNpemUoKSk7DQogICAgICAgIGVuZEVt\nKHBtKTsNCiAgICB9DQoNCi8vICAgIHB1YmxpYyB2b2lkIHRlc3RLbm93blN1\nYmNsYXNzKCkgew0KLy8gICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBt\nID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsNCi8vICAgICAgICBMb2NrR3JvdXBQ\nQ0tub3duU3ViY2xhc3MgcGMgPSBuZXcgTG9ja0dyb3VwUENLbm93blN1YmNs\nYXNzKCk7DQovLyAgICAgICAgcGMuc2V0RGVmYXVsdExvY2tHcm91cFN0cmlu\nZ0ZpZWxkKCJwYyIpOw0KLy8gICAgICAgIHN0YXJ0VHgocG0sKCkpOw0KLy8g\nICAgICAgIHBtLnBlcnNpc3QocGMpOw0KLy8gICAgICAgIGVuZFR4KHBtLCgp\nKTsNCi8vICAgICAgICANCi8vICAgICAgICBzdGFydFR4KHBtLCgpKTsNCi8v\nICAgICAgICBwYy5zZXRLbm93blN1YmNsYXNzU3RyaW5nRmllbGQoImZvbyIp\nOw0KLy8gICAgICAgIGVuZFR4KHBtLCgpKTsNCi8vICAgIH0NCg0KICAgIC8v\nRklYTUUganRob21hcyAtIHdoYXQgZG8gd2UgbmVlZCB0byBzdWJzdGl0dXRl\nIGZvciBKRE9FeGNlcHRpb24gPw0KLy8gICAgcHJpdmF0ZSBPYmplY3QgZ2V0\nRmFpbGVkT2JqZWN0KEpET0V4Y2VwdGlvbiBlKSB7DQovLyAgICAgICAgcmV0\ndXJuICgoSkRPRXhjZXB0aW9uKSBlLmdldE5lc3RlZEV4Y2VwdGlvbnMoKVsw\nXSkuZ2V0RmFpbGVkT2JqZWN0KCk7DQovLyAgICB9DQoNCiAgICBwcml2YXRl\nIE9iamVjdCBnZXRGYWlsZWRPYmplY3QoRXhjZXB0aW9uIGUpIHsNCiAgICAg\nICAgcmV0dXJuIG51bGw7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

