{"sha":"8f0016cd2bbc1f2d865b81b66f6b7a7a00d35a8c","node_id":"MDQ6QmxvYjIwNjM2NDo4ZjAwMTZjZDJiYmMxZjJkODY1YjgxYjY2ZjZiN2E3YTAwZDM1YThj","size":5803,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8f0016cd2bbc1f2d865b81b66f6b7a7a00d35a8c","content":"LyoNCiAqIFRlc3RQQ0NsYXNzLmphdmENCiAqDQogKiBDcmVhdGVkIG9uIE9j\ndG9iZXIgMTIsIDIwMDYsIDQ6MjcgUE0NCiAqDQogKiBUbyBjaGFuZ2UgdGhp\ncyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwgVGVtcGxhdGUgTWFuYWdlcg0K\nICogYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGluIHRoZSBlZGl0b3IuDQogKi8N\nCi8qDQogKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5k\nYXRpb24gKEFTRikgdW5kZXIgb25lDQogKiBvciBtb3JlIGNvbnRyaWJ1dG9y\nIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUNCiAq\nIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGlu\nZm9ybWF0aW9uDQogKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4g\nIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlDQogKiB0byB5b3UgdW5kZXIg\ndGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlDQogKiAiTGlj\nZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBj\nb21wbGlhbmNlDQogKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRh\naW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogaHR0cDovL3d3\ndy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5s\nZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBp\nbiB3cml0aW5nLA0KICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhl\nIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4NCiAqICJBUyBJUyIgQkFT\nSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQ0K\nICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUg\nTGljZW5zZSBmb3IgdGhlDQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5p\nbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zDQogKiB1bmRlciB0aGUg\nTGljZW5zZS4gICAgDQogKi8NCnBhY2thZ2Ugb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmtlcm5lbDsNCg0KaW1wb3J0IGphdmEuaW8uU2VyaWFs\naXphYmxlOw0KDQoNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFwcHMuUENDbGFzc0ludGVyZmFjZTsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVs\nLmNvbW1vbi5hcHBzLlBDQ2xhc3NQQzsNCg0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5lbmhhbmNlLlBlcnNpc3RlbmNlQ2FwYWJsZTsNCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOw0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkZpZWxkTWV0YURhdGE7DQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOw0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLk1ldGFEYXRhUmVwb3NpdG9yeTsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQ\nQUVudGl0eU1hbmFnZXI7DQoNCnB1YmxpYyBjbGFzcyBUZXN0UENDbGFzcyBl\neHRlbmRzIEJhc2VLZXJuZWxUZXN0IHsNCg0KICAgIC8qKg0KICAgICAqIENy\nZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVGVzdFBDQ2xhc3MNCiAgICAgKi8N\nCiAgICBwdWJsaWMgVGVzdFBDQ2xhc3MoKSB7DQogICAgfQ0KDQogICAgcHVi\nbGljIFRlc3RQQ0NsYXNzKFN0cmluZyB0ZXN0KSB7DQogICAgICAgIHN1cGVy\nKHRlc3QpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0K\nICAgICAgICBkZWxldGVBbGwoUENDbGFzc1BDLmNsYXNzKTsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWV0YURhdGEoKSB7DQoNCiAgICAgICAg\nTWV0YURhdGFSZXBvc2l0b3J5IHJlcG9zID0gZ2V0Q29uZmlndXJhdGlvbigp\nDQogICAgICAgICAgICAuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2Uo\nKTsNCiAgICAgICAgQ2xhc3NNZXRhRGF0YSBtZXRhID0gcmVwb3MuZ2V0TWV0\nYURhdGEoUENDbGFzc1BDLmNsYXNzLCBudWxsLCB0cnVlKTsNCg0KICAgICAg\nICBGaWVsZE1ldGFEYXRhIGZtZCA9IG1ldGEuZ2V0RmllbGQoInNwZWNpZmlj\nUEMiKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbCgiZm1kIGlzIG51bGxsIiwg\nZm1kKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJKYXZhVHlwZXMuUEMgIT0g\nZm1kLmdldFR5cGVDb2RlKCkiLCBKYXZhVHlwZXMuUEMsDQogICAgICAgICAg\nICBmbWQuZ2V0VHlwZUNvZGUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygi\nUENDbGFzc1BDLmNsYXNzLmdldE5hbWUoKSAhPSBmbWQuZ2V0VHlwZSgpLmdl\ndE5hbWUoKSIsDQogICAgICAgICAgICBQQ0NsYXNzUEMuY2xhc3MuZ2V0TmFt\nZSgpLCBmbWQuZ2V0VHlwZSgpLmdldE5hbWUoKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygNCiAgICAgICAgICAgICJPYmplY3QuY2xhc3MuZ2V0TmFtZSgp\nICE9IGZtZC5nZXREZWNsYXJlZFR5cGUoKS5nZXROYW1lKCkiLA0KICAgICAg\nICAgICAgT2JqZWN0LmNsYXNzLmdldE5hbWUoKSwgZm1kLmdldERlY2xhcmVk\nVHlwZSgpLmdldE5hbWUoKSk7DQoNCiAgICAgICAgZm1kID0gbWV0YS5nZXRG\naWVsZCgiZ2VuZXJpY1BDIik7DQogICAgICAgIGFzc2VydE5vdE51bGwoImZt\nZCBpcyBudWxsIiwgZm1kKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJKYXZh\nVHlwZXMuUENfVU5UWVBFICE9IGZtZC5nZXRUeXBlQ29kZSgpIiwNCiAgICAg\nICAgICAgIEphdmFUeXBlcy5QQ19VTlRZUEVELCBmbWQuZ2V0VHlwZUNvZGUo\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscygNCiAgICAgICAgICAgICJQZXJz\naXN0ZW5jZUNhcGFibGUuY2xhc3MuZ2V0TmFtZSgpICE9IGZtZC5nZXRUeXBl\nKCkuZ2V0TmFtZSgpIiwNCiAgICAgICAgICAgIFBlcnNpc3RlbmNlQ2FwYWJs\nZS5jbGFzcy5nZXROYW1lKCksIGZtZC5nZXRUeXBlKCkuZ2V0TmFtZSgpKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKE9iamVjdC5jbGFzcy5nZXROYW1lKCks\nDQogICAgICAgICAgICBmbWQuZ2V0RGVjbGFyZWRUeXBlKCkuZ2V0TmFtZSgp\nKTsNCg0KICAgICAgICBmbWQgPSBtZXRhLmdldEZpZWxkKCJnZW5lcmljT2Jq\nZWN0Iik7DQogICAgICAgIGFzc2VydE5vdE51bGwoZm1kKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKEphdmFUeXBlcy5PQkpFQ1QsIGZtZC5nZXRUeXBlQ29k\nZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKE9iamVjdC5jbGFzcy5nZXRO\nYW1lKCksIGZtZC5nZXRUeXBlKCkuZ2V0TmFtZSgpKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKE9iamVjdC5jbGFzcy5nZXROYW1lKCksDQogICAgICAgICAg\nICBmbWQuZ2V0RGVjbGFyZWRUeXBlKCkuZ2V0TmFtZSgpKTsNCg0KICAgICAg\nICBmbWQgPSBtZXRhLmdldEZpZWxkKCJzcGVjaWZpY0ludGVyZmFjZSIpOw0K\nICAgICAgICBhc3NlcnROb3ROdWxsKGZtZCk7DQogICAgICAgIGFzc2VydEVx\ndWFscyhKYXZhVHlwZXMuUEMsIGZtZC5nZXRUeXBlQ29kZSgpKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKFBDQ2xhc3NQQy5jbGFzcy5nZXROYW1lKCksIGZt\nZC5nZXRUeXBlKCkuZ2V0TmFtZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKFBDQ2xhc3NJbnRlcmZhY2UuY2xhc3MuZ2V0TmFtZSgpLA0KICAgICAgICAg\nICAgZm1kLmdldERlY2xhcmVkVHlwZSgpLmdldE5hbWUoKSk7DQoNCiAgICAg\nICAgZm1kID0gbWV0YS5nZXRGaWVsZCgiZGVmYXVsdEludGVyZmFjZSIpOw0K\nICAgICAgICBhc3NlcnROb3ROdWxsKGZtZCk7DQogICAgICAgIGFzc2VydEVx\ndWFscyhKYXZhVHlwZXMuUENfVU5UWVBFRCwgZm1kLmdldFR5cGVDb2RlKCkp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoUENDbGFzc0ludGVyZmFjZS5jbGFz\ncy5nZXROYW1lKCksDQogICAgICAgICAgICBmbWQuZ2V0VHlwZSgpLmdldE5h\nbWUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhQQ0NsYXNzSW50ZXJmYWNl\nLmNsYXNzLmdldE5hbWUoKSwNCiAgICAgICAgICAgIGZtZC5nZXREZWNsYXJl\nZFR5cGUoKS5nZXROYW1lKCkpOw0KDQogICAgICAgIGZtZCA9IG1ldGEuZ2V0\nRmllbGQoInNlcmlhbGl6YWJsZUludGVyZmFjZSIpOw0KICAgICAgICBhc3Nl\ncnROb3ROdWxsKGZtZCk7DQogICAgICAgIGFzc2VydEVxdWFscyhKYXZhVHlw\nZXMuT0JKRUNULCBmbWQuZ2V0VHlwZUNvZGUoKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscyhTZXJpYWxpemFibGUuY2xhc3MuZ2V0TmFtZSgpLCBmbWQuZ2V0\nVHlwZSgpLmdldE5hbWUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhTZXJp\nYWxpemFibGUuY2xhc3MuZ2V0TmFtZSgpLA0KICAgICAgICAgICAgZm1kLmdl\ndERlY2xhcmVkVHlwZSgpLmdldE5hbWUoKSk7DQoNCiAgICAgICAgZm1kID0g\nbWV0YS5nZXRGaWVsZCgiZ2VuZXJpY0ludGVyZmFjZSIpOw0KICAgICAgICBh\nc3NlcnROb3ROdWxsKGZtZCk7DQogICAgICAgIGFzc2VydEVxdWFscyhKYXZh\nVHlwZXMuT0JKRUNULCBmbWQuZ2V0VHlwZUNvZGUoKSk7DQogICAgICAgIGFz\nc2VydEVxdWFscyhPYmplY3QuY2xhc3MuZ2V0TmFtZSgpLCBmbWQuZ2V0VHlw\nZSgpLmdldE5hbWUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhQQ0NsYXNz\nSW50ZXJmYWNlLmNsYXNzLmdldE5hbWUoKSwNCiAgICAgICAgICAgIGZtZC5n\nZXREZWNsYXJlZFR5cGUoKS5nZXROYW1lKCkpOw0KICAgIH0NCg0KICAgIHB1\nYmxpYyB2b2lkIHRlc3RQZXJzaXN0KCkgew0KICAgICAgICBQQ0NsYXNzUEMg\ncGMgPSBuZXcgUENDbGFzc1BDKCk7DQogICAgICAgIHBjLnNldFNwZWNpZmlj\nUEMocGMpOw0KICAgICAgICBwYy5zZXRHZW5lcmljUEMocGMpOw0KICAgICAg\nICBwYy5zZXRHZW5lcmljT2JqZWN0KHBjKTsNCiAgICAgICAgcGMuc2V0U3Bl\nY2lmaWNJbnRlcmZhY2UocGMpOw0KICAgICAgICBwYy5zZXREZWZhdWx0SW50\nZXJmYWNlKHBjKTsNCiAgICAgICAgcGMuc2V0R2VuZXJpY0ludGVyZmFjZShw\nYyk7DQogICAgICAgIHBjLnNldFNlcmlhbGl6YWJsZUludGVyZmFjZShwYyk7\nDQoNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgp\nOw0KICAgICAgICBzdGFydFR4KHBtKTsNCiAgICAgICAgcG0ucGVyc2lzdChw\nYyk7DQogICAgICAgIE9iamVjdCBvaWQgPSBwbS5nZXRPYmplY3RJZChwYyk7\nDQogICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQog\nICAgICAgIHBtID0gZ2V0UE0oKTsNCg0KICAgICAgICBwYyA9IChQQ0NsYXNz\nUEMpIHBtLmZpbmQoUENDbGFzc1BDLmNsYXNzLCBvaWQpOw0KDQogICAgICAg\nIGFzc2VydFRydWUocGMgPT0gcGMuZ2V0U3BlY2lmaWNQQygpKTsNCiAgICAg\nICAgYXNzZXJ0VHJ1ZShwYyA9PSBwYy5nZXRHZW5lcmljUEMoKSk7DQogICAg\nICAgIGFzc2VydE5vdE51bGwocGMuZ2V0R2VuZXJpY09iamVjdCgpKTsNCiAg\nICAgICAgYXNzZXJ0VHJ1ZShwYyA9PSBwYy5nZXRHZW5lcmljT2JqZWN0KCkp\nOw0KICAgICAgICBhc3NlcnRUcnVlKHBjID09IHBjLmdldFNwZWNpZmljSW50\nZXJmYWNlKCkpOw0KICAgICAgICBhc3NlcnRUcnVlKHBjID09IHBjLmdldERl\nZmF1bHRJbnRlcmZhY2UoKSk7DQogICAgICAgIGFzc2VydE5vdE51bGwocGMu\nZ2V0R2VuZXJpY0ludGVyZmFjZSgpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShw\nYyA9PSBwYy5nZXRHZW5lcmljSW50ZXJmYWNlKCkpOw0KICAgICAgICBhc3Nl\ncnROb3ROdWxsKHBjLmdldFNlcmlhbGl6YWJsZUludGVyZmFjZSgpKTsNCiAg\nICAgICAgYXNzZXJ0VHJ1ZShwYyA9PSBwYy5nZXRTZXJpYWxpemFibGVJbnRl\ncmZhY2UoKSk7DQoNCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0NCn0NCg==\n","encoding":"base64"}

