{"sha":"42838ef67fff61935d391720086cd410518e5ed9","node_id":"MDQ6QmxvYjIwNjM2NDo0MjgzOGVmNjdmZmY2MTkzNWQzOTE3MjAwODZjZDQxMDUxOGU1ZWQ5","size":9048,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/42838ef67fff61935d391720086cd410518e5ed9","content":"LyoNCiAqIFRlc3RPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlJbXBsLmph\ndmENCiAqDQogKiBDcmVhdGVkIG9uIE9jdG9iZXIgMTMsIDIwMDYsIDEwOjU0\nIEFNDQogKg0KICogVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUsIGNob29zZSBU\nb29scyB8IFRlbXBsYXRlIE1hbmFnZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1w\nbGF0ZSBpbiB0aGUgZWRpdG9yLg0KICovDQovKg0KICogTGljZW5zZWQgdG8g\ndGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9u\nZQ0KICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMu\nICBTZWUgdGhlIE5PVElDRSBmaWxlDQogKiBkaXN0cmlidXRlZCB3aXRoIHRo\naXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbg0KICogcmVnYXJk\naW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRo\naXMgZmlsZQ0KICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwg\nVmVyc2lvbiAyLjAgKHRoZQ0KICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3Qg\ndXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQ0KICogd2l0aCB0\naGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGlj\nZW5zZSBhdA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNl\ncy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBs\naWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywNCiAqIHNvZnR3\nYXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1\ndGVkIG9uIGFuDQogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJ\nRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkNCiAqIEtJTkQsIGVpdGhlciBleHBy\nZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQ0KICog\nc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBs\naW1pdGF0aW9ucw0KICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIA0KICovDQpw\nYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWw7\nDQoNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KDQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21tb24uYXBwcy5SdW50\naW1lVGVzdDE7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmtlcm5lbC5jb21tb24uYXBwcy5SdW50aW1lVGVzdDQ7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNvbmZpZ3VyYXRpb247\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQQUNvbmZp\nZ3VyYXRpb25JbXBsOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVu\ndC5MaWZlY3ljbGVFdmVudDsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nZXZlbnQuTG9hZExpc3RlbmVyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5rZXJuZWwuQWJzdHJhY3RCcm9rZXJGYWN0b3J5Ow0KaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuQnJva2VySW1wbDsNCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLlN0b3JlTWFuYWdlcjsNCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvblByb3Zp\nZGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLk1ldGFEYXRh\nUmVwb3NpdG9yeTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuSlBBRmFjYWRlSGVscGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnk7\nDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSTsNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNlOw0KDQpw\ndWJsaWMgY2xhc3MgVGVzdFBlcnNpc3RlbmNlTWFuYWdlckZhY3RvcnlJbXBs\nIGV4dGVuZHMgQmFzZUtlcm5lbFRlc3Qgew0KDQogICAgcHJpdmF0ZSBPcGVu\nSlBBQ29uZmlndXJhdGlvbiBfY29uZiA9IG51bGw7DQoNCiAgICAvKioNCiAg\nICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RPcGVuSlBBRW50\naXR5TWFuYWdlckZhY3RvcnlJbXBsDQogICAgICovDQogICAgcHVibGljIFRl\nc3RQZXJzaXN0ZW5jZU1hbmFnZXJGYWN0b3J5SW1wbCgpIHsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgVGVzdFBlcnNpc3RlbmNlTWFuYWdlckZhY3RvcnlJbXBs\nKFN0cmluZyB0ZXN0KSB7DQogICAgICAgIHN1cGVyKHRlc3QpOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBfY29uZiA9\nIG5ldyBPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwoKTsNCiAgICAgICAgX2Nv\nbmYuc2V0Q29ubmVjdGlvbjJVc2VyTmFtZSgidXNlciIpOw0KICAgICAgICBf\nY29uZi5zZXRDb25uZWN0aW9uMlBhc3N3b3JkKCJwYXNzIik7DQogICAgICAg\nIF9jb25mLnNldENvbm5lY3Rpb24yVVJMKCJ1cmwiKTsNCiAgICB9DQoNCiAg\nICAvKioNCiAgICAgKiBUZXN0IHRoYXQgY29uZmlndXJhdGlvbiBpcyBmcm96\nZW4gYWZ0ZXIgcmV0cmlldmluZyBhIGZhY3RvcnkuDQogICAgICoNCiAgICAg\nKiBUaGlzIHRlc3QgY2FzZSBpcyBmb3Iga29kbyBwZXJzaXN0ZW5jZW1hbmFn\nZXJmYWN0b3JpZXMgYW5kIG5vdCBvcGVuanBhZW50aXR5bWFuYWdlcnMuDQog\nICAgICogdGhlcmVmb3JlIGl0cyBiZWVuIGNvbW1lbnRlZCBvdXQuIA0KICAg\nICAqIEZJWCBNRTogYW9rZWtlDQogICAgICovDQovKiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Q29uZmlndXJhdGlvbkZyZWV6ZSgpIA0KICAgIHsNCiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBtZiA9IGdldE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyRmFjdG9yeShfY29uZi50b1Byb3BlcnRpZXMoZmFsc2Up\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ1c2VyIiwgcG1mLmdldENvbmZp\nZ3VyYXRpb24oKS5nZXRDb25uZWN0aW9uMlVzZXJOYW1lKCkpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoInVybCIsIHBtZi5nZXRDb25maWd1cmF0aW9uKCku\nZ2V0Q29ubmVjdGlvbjJVUkwoKSk7DQogICAgICAgIHRyeSANCiAgICAgICAg\new0KICAgICAgICAgICAgcG1mLmdldENvbmZpZ3VyYXRpb24oKS5zZXRDb25u\nZWN0aW9uMlVSTCgidXJsMiIpOw0KICAgICAgICAgICAgZmFpbCgiQWxsb3dl\nZCBjb25maWd1cmF0aW9uIGNoYW5nZS4iKTsNCiAgICAgICAgfSANCiAgICAg\nICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSANCiAgICAgICAgew0KICAgICAgICB9\nDQogICAgfSovDQoNCiAgICAvKioNCiAgICAgKiBUZXN0IHRoYXQgcGVyc2lz\ndGVuY2UgbWFuYWdlciBmYWN0b3JpZXMgYXJlIGJlaW5nIHBvb2xlZC4NCiAg\nICAgKg0KICAgICAqIFRoaXMgdGVzdCBjYXNlIGlzIGZvciBrb2RvIHBlcnNp\nc3RlbmNlbWFuYWdlcmZhY3Rvcmllcy4gSXQgZG9lc250IGFwcGx5IHRvIA0K\nICAgICAqIG9wZW5qcGFlbnRpdHltYW5hZ2VyZmFjdG9yaWVzIHRoZXJlZm9y\nZSBpdCB3aWxsIGJlIGNvbW1lbnRlZCBvdXQuDQogICAgICogRklYIE1FOiBh\nb2tla2UNCiAgICAgKi8NCiAgICAvKnB1YmxpYyB2b2lkIHRlc3RGYWN0b3J5\nUG9vbGluZygpIHsNCiAgICAgICAgUHJvcGVydGllcyBwcm9wcyA9IG5ldyBQ\ncm9wZXJ0aWVzKCk7DQogICAgICAgIHByb3BzLnB1dEFsbChfY29uZi50b1By\nb3BlcnRpZXMoZmFsc2UpKTsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFn\nZXJGYWN0b3J5IHBtZjEgPSBnZXRPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnkocHJvcHMpOw0KICAgICAgICANCiAgICAgICAgcHJvcHMgPSBuZXcgUHJv\ncGVydGllcygpOw0KICAgICAgICBwcm9wcy5wdXRBbGwoX2NvbmYudG9Qcm9w\nZXJ0aWVzKGZhbHNlKSk7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nRmFjdG9yeSBwbWYyID0gZ2V0T3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5\nKHByb3BzKTsNCiAgICAgICAgDQogICAgICAgIHByb3BzID0gbmV3IFByb3Bl\ncnRpZXMoKTsNCiAgICAgICAgcHJvcHMucHV0QWxsKF9jb25mLnRvUHJvcGVy\ndGllcyhmYWxzZSkpOw0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZh\nY3RvcnkgcG1mMyA9IGdldE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeShw\ncm9wcyk7DQogICAgICAgIA0KICAgICAgICBfY29uZi5zZXRDb25uZWN0aW9u\nVVJMKCJ1cmwyIik7DQogICAgICAgIHByb3BzID0gbmV3IFByb3BlcnRpZXMo\nKTsNCiAgICAgICAgcHJvcHMucHV0QWxsKF9jb25mLnRvUHJvcGVydGllcyhm\nYWxzZSkpOw0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rvcnkg\ncG1mNCA9IGdldE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeQ0KICAgICAg\nICAgICAgICAgIChfY29uZi50b1Byb3BlcnRpZXMoZmFsc2UpKTsNCiAgICAg\nICAgDQogICAgICAgIHByb3BzID0gbmV3IFByb3BlcnRpZXMoKTsNCiAgICAg\nICAgcHJvcHMucHV0QWxsKF9jb25mLnRvUHJvcGVydGllcyhmYWxzZSkpOw0K\nICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgcG1mNSA9IGdl\ndE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeShfY29uZi50b1Byb3BlcnRp\nZXMoZmFsc2UpKTsNCiAgICAgICAgDQogICAgICAgIGFzc2VydFRydWUoSlBB\nRmFjYWRlSGVscGVyLnRvQnJva2VyRmFjdG9yeShwbWYxKSA9PSBKUEFGYWNh\nZGVIZWxwZXIudG9Ccm9rZXJGYWN0b3J5KHBtZjIpKTsNCiAgICAgICAgYXNz\nZXJ0VHJ1ZShKUEFGYWNhZGVIZWxwZXIudG9Ccm9rZXJGYWN0b3J5KHBtZjEp\nID09IEpQQUZhY2FkZUhlbHBlci50b0Jyb2tlckZhY3RvcnkocG1mMykpOw0K\nICAgICAgICBhc3NlcnRUcnVlKEpQQUZhY2FkZUhlbHBlci50b0Jyb2tlckZh\nY3RvcnkocG1mMSkgIT0gSlBBRmFjYWRlSGVscGVyLnRvQnJva2VyRmFjdG9y\neShwbWY0KSk7DQogICAgICAgIGFzc2VydFRydWUoSlBBRmFjYWRlSGVscGVy\nLnRvQnJva2VyRmFjdG9yeShwbWY0KSA9PSBKUEFGYWNhZGVIZWxwZXIudG9C\ncm9rZXJGYWN0b3J5KHBtZjUpKTsNCiAgICB9Ki8NCg0KICAgIC8qKg0KICAg\nICAqIFRlc3RzIHRoYXQgbGlmZWN5Y2xlIGxpc3RlbmVycyBhcmUgdHJhbnNm\nZXJyZWQgZnJvbSBmYWN0b3J5IHRvDQogICAgICogcGVyc2lzdGVuY2UgbWFu\nYWdlcnMuDQogICAgICovDQogICAgcHVibGljIHZvaWQgdGVzdEZhY3RvcnlM\naWZlY3ljbGVMaXN0ZW5lcnMoKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyRmFjdG9yeSBwbWYgPQ0KICAgICAgICAgICAgKE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyRmFjdG9yeSkgZ2V0RW1mKCk7DQogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBwbWZTUEkgPQ0KICAgICAgICAgICAg\nKChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkpIE9wZW5KUEFQZXJz\naXN0ZW5jZS5jYXN0KHBtZikpOw0KDQogICAgICAgIC8vRklYTUUganRob21h\ncyAgICAgICAgDQogICAgICAgIExvYWRMaXN0ZW5lciBsaXN0ZW5lciA9IG5l\ndyBMb2FkTGlzdGVuZXIoKSB7DQogICAgICAgICAgICBwdWJsaWMgdm9pZCBh\nZnRlckxvYWQoTGlmZWN5Y2xlRXZlbnQgZXYpIHsNCiAgICAgICAgICAgIH0N\nCg0KICAgICAgICAgICAgcHVibGljIHZvaWQgYWZ0ZXJSZWZyZXNoKExpZmVj\neWNsZUV2ZW50IGV2KSB7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoN\nCiAgICAgICAgcG1mU1BJDQogICAgICAgICAgICAuYWRkTGlmZWN5Y2xlTGlz\ndGVuZXIobGlzdGVuZXIsIG5ldyBDbGFzc1tdeyBSdW50aW1lVGVzdDQuY2xh\nc3MgfSk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEJyb2tlcklt\ncGwgYnJva2VyID0gKEJyb2tlckltcGwpIEpQQUZhY2FkZUhlbHBlci50b0Jy\nb2tlcg0KICAgICAgICAgICAgICAgIChwbWYuY3JlYXRlRW50aXR5TWFuYWdl\ncigpKTsNCiAgICAgICAgICAgIE1ldGFEYXRhUmVwb3NpdG9yeSByZXBvcyA9\nIGJyb2tlci5nZXRDb25maWd1cmF0aW9uKCkuDQogICAgICAgICAgICAgICAg\nZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2UoKTsNCiAgICAgICAgICAg\nIGFzc2VydFRydWUoIm5vIGxpc3RlbmVycyBkZWZpbmVkIGFkZGVkIHRvIFJ1\nbnRpbWV0ZXN0NCIsDQogICAgICAgICAgICAgICAgYnJva2VyLmdldExpZmVj\neWNsZUV2ZW50TWFuYWdlcigpLmhhc0xvYWRMaXN0ZW5lcnMoDQogICAgICAg\nICAgICAgICAgICAgIG5ldyBSdW50aW1lVGVzdDQoImZvbyIpLA0KICAgICAg\nICAgICAgICAgICAgICByZXBvcy5nZXRNZXRhRGF0YShSdW50aW1lVGVzdDQu\nY2xhc3MsIG51bGwsIHRydWUpKSk7DQogICAgICAgICAgICBhc3NlcnRGYWxz\nZSgidGhlcmUgc2hvdWxkIGJlIGxpc3RlbmVycyBkZWYgZm9yIHJ1bnRpbWV0\nZXN0MSIsDQogICAgICAgICAgICAgICAgYnJva2VyLmdldExpZmVjeWNsZUV2\nZW50TWFuYWdlcigpLmhhc0xvYWRMaXN0ZW5lcnMNCiAgICAgICAgICAgICAg\nICAgICAgKG5ldyBSdW50aW1lVGVzdDEoKSwgcmVwb3MuZ2V0TWV0YURhdGEN\nCiAgICAgICAgICAgICAgICAgICAgICAgIChSdW50aW1lVGVzdDEuY2xhc3Ms\nIG51bGwsIHRydWUpKSk7DQogICAgICAgICAgICBicm9rZXIuY2xvc2UoKTsN\nCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIHBtZlNQSS5yZW1v\ndmVMaWZlY3ljbGVMaXN0ZW5lcihsaXN0ZW5lcik7DQogICAgICAgIH0NCiAg\nICB9DQoNCiAgICAvKioNCiAgICAgKiBUZXN0cyB0aGF0IHBvb2xpbmcgaXMg\nbWFpbnRhaW5lZCBvbiBkZXNlcmlhbGl6YXRpb24uDQogICAgICogVGhpcyB0\nZXN0IGNhc2UgaXMgZm9yIGtvZG8gcGVyc2lzdGVuY2VtYW5hZ2VyZmFjdG9y\naWVzLiBJdCBkb2VzbnQgYXBwbHkgdG8gDQogICAgICogb3BlbmpwYWVudGl0\neW1hbmFnZXJmYWN0b3JpZXMgdGhlcmVmb3JlIGl0IHdpbGwgYmUgY29tbWVu\ndGVkIG91dC4NCiAgICAgKi8NCiAgICAvKg0KICAgIHB1YmxpYyB2b2lkIHRl\nc3RGYWN0b3J5U2VyaWFsaXphdGlvbigpDQogICAgdGhyb3dzIEV4Y2VwdGlv\nbiB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBwbWYx\nID0gZ2V0T3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5KF9jb25mLnRvUHJv\ncGVydGllcyhmYWxzZSkpOw0KICAgICAgICBPYmplY3QgcG1mMiA9IHJvdW5k\ndHJpcChwbWYxLCB0cnVlKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKHBtZjEs\nIHBtZjIpOw0KICAgICAgICBhc3NlcnRUcnVlKEpQQUZhY2FkZUhlbHBlci50\nb0Jyb2tlckZhY3RvcnkocG1mMSkgPT0NCiAgICAgICAgICAgICAgICBKUEFG\nYWNhZGVIZWxwZXIudG9Ccm9rZXJGYWN0b3J5KChPcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3RvcnkpIHBtZjIpKTsNCiAgICB9DQogICAgKi8NCg0KICAgIC8q\nKg0KICAgICAqIFRlc3RzIHRoYXQgdGhlIDxjb2RlPlBsYXRmb3JtPC9jb2Rl\nPiBwcm9wZXJ0eSBpcyBzZXQgYnkgdGhlDQogICAgICogY29uY3JldGUgUE1G\nIGltcGxlbWVudGF0aW9uLg0KICAgICAqLw0KICAgIHB1YmxpYyB2b2lkIHRl\nc3RQbGF0Zm9ybSgpIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJG\nYWN0b3J5IHBtZiA9DQogICAgICAgICAgICAoT3BlbkpQQUVudGl0eU1hbmFn\nZXJGYWN0b3J5KSBnZXRFbWYoKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChw\nbWYuZ2V0UHJvcGVydGllcygpLmdldFByb3BlcnR5KCJQbGF0Zm9ybSIpKTsN\nCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgT3BlbkpQQUVudGl0eU1hbmFnZXJG\nYWN0b3J5IGdldEVtZihNYXAgcHJvcHMpIHsNCiAgICAgICAgcHJvcHMucHV0\nKCJvcGVuanBhLkJyb2tlckZhY3RvcnkiLCBCcm9rZXJGYWN0b3J5VGVzdC5j\nbGFzcy5nZXROYW1lKCkpOw0KICAgICAgICByZXR1cm4gKE9wZW5KUEFFbnRp\ndHlNYW5hZ2VyRmFjdG9yeSkgc3VwZXIuZ2V0RW1mKHByb3BzKTsNCiAgICB9\nDQoNCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEJyb2tlckZhY3RvcnlUZXN0\nIGV4dGVuZHMgQWJzdHJhY3RCcm9rZXJGYWN0b3J5IHsNCg0KICAgICAgICAv\nLyBzdGFuZGFyZCBicm9rZXJmYWN0b3J5IGdldHRlciBpbXBsZW1lbnRlZCBi\neSBzdWJjbGFzc2VzDQogICAgICAgIHB1YmxpYyBzdGF0aWMgc3luY2hyb25p\nemVkIEJyb2tlckZhY3RvcnlUZXN0IGdldEluc3RhbmNlKA0KICAgICAgICAg\nICAgQ29uZmlndXJhdGlvblByb3ZpZGVyIGNwKSB7DQogICAgICAgICAgICBP\nYmplY3Qga2V5ID0gdG9Qb29sS2V5KGNwLmdldFByb3BlcnRpZXMoKSk7DQog\nICAgICAgICAgICBCcm9rZXJGYWN0b3J5VGVzdCBmYWN0b3J5ID0NCiAgICAg\nICAgICAgICAgICAoQnJva2VyRmFjdG9yeVRlc3QpIGdldFBvb2xlZEZhY3Rv\ncnlGb3JLZXkoa2V5KTsNCiAgICAgICAgICAgIGlmIChmYWN0b3J5ICE9IG51\nbGwpDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7DQoNCiAgICAg\nICAgICAgIGZhY3RvcnkgPSBuZXdJbnN0YW5jZShjcCk7DQogICAgICAgICAg\nICBwb29sKGtleSwgZmFjdG9yeSk7DQogICAgICAgICAgICByZXR1cm4gZmFj\ndG9yeTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIHN0YW5kYXJkIGJyb2tl\ncmZhY3RvcnkgZ2V0dGVyIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMNCiAg\nICAgICAgcHVibGljIHN0YXRpYyBCcm9rZXJGYWN0b3J5VGVzdCBuZXdJbnN0\nYW5jZShDb25maWd1cmF0aW9uUHJvdmlkZXIgY3ApIHsNCiAgICAgICAgICAg\nIE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbCBjb25mID0gbmV3IE9wZW5KUEFD\nb25maWd1cmF0aW9uSW1wbCgpOw0KICAgICAgICAgICAgY3Auc2V0SW50byhj\nb25mKTsNCiAgICAgICAgICAgIHJldHVybiBuZXcgQnJva2VyRmFjdG9yeVRl\nc3QoY29uZik7DQogICAgICAgIH0NCg0KICAgICAgICBwcm90ZWN0ZWQgQnJv\na2VyRmFjdG9yeVRlc3QoT3BlbkpQQUNvbmZpZ3VyYXRpb24gY29uZikgew0K\nICAgICAgICAgICAgc3VwZXIoY29uZik7DQogICAgICAgIH0NCg0KICAgICAg\nICBwcm90ZWN0ZWQgU3RvcmVNYW5hZ2VyIG5ld1N0b3JlTWFuYWdlcigpIHsN\nCiAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9DQogICAgfQ0K\nfQ0K\n","encoding":"base64"}

