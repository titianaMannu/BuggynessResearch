{"sha":"ab7dcc2f3f0bcdf045975a283463078b32e2cc71","node_id":"MDQ6QmxvYjIwNjM2NDphYjdkY2MyZjNmMGJjZGYwNDU5NzVhMjgzNDYzMDc4YjMyZTJjYzcx","size":9173,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ab7dcc2f3f0bcdf045975a283463078b32e2cc71","content":"LyoNCiAqIFRlc3RQZXNzaW1pc3RpY0xvY2tpbmcuamF2YQ0KICoNCiAqIENy\nZWF0ZWQgb24gT2N0b2JlciAxMywgMjAwNiwgMzoxNyBQTQ0KICoNCiAqIFRv\nIGNoYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0\nZSBNYW5hZ2VyDQogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVk\naXRvci4NCiAqLw0KDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBT\nb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICogb3IgbW9y\nZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5P\nVElDRSBmaWxlDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3Ig\nYWRkaXRpb25hbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNvcHlyaWdo\ndCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQ0KICog\ndG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAg\nKHRoZQ0KICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmls\nZSBleGNlcHQgaW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGljZW5zZS4g\nIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoN\nCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIu\nMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBv\nciBhZ3JlZWQgdG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRpc3RyaWJ1\ndGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuDQog\nKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElU\nSU9OUyBPRiBBTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxp\nZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lmaWMgbGFu\nZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucw0K\nICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdlIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWw7DQoNCmltcG9ydCBq\nYXZhLnV0aWwuSGFzaE1hcDsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KDQoN\nCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJu\nZWwuY29tbW9uLmFwcHMuUnVudGltZVRlc3QxOw0KaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24udXRpbHMuQWJzdHJhY3RU\nZXN0Q2FzZTsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmNv\nbmYuSkRCQ0NvbmZpZ3VyYXRpb247DQppbXBvcnQgamF2YS51dGlsLmNvbmN1\ncnJlbnQubG9ja3MuUmVlbnRyYW50TG9jazsNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7DQpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFF\nbnRpdHlNYW5hZ2VyRmFjdG9yeTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuamRiYy5GZXRjaE1vZGU7DQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmpkYmMuSkRCQ0ZldGNoUGxhbjsN\nCg0KcHVibGljIGNsYXNzIFRlc3RQZXNzaW1pc3RpY0xvY2tpbmcgZXh0ZW5k\ncyBCYXNlS2VybmVsVGVzdCB7DQoNCiAgICBwcml2YXRlIE9iamVjdCBfaWQg\nPSBudWxsOw0KICAgIHByaXZhdGUgaW50IF9idWdDb3VudCA9IDA7DQogICAg\ncHJpdmF0ZSBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgX2ZhY3Rvcnkg\nPSBudWxsOw0KDQogICAgcHVibGljIFRlc3RQZXNzaW1pc3RpY0xvY2tpbmco\nU3RyaW5nIG5hbWUpIHsNCiAgICAgICAgc3VwZXIobmFtZSk7DQogICAgfQ0K\nDQogICAgLyoqDQogICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBU\nZXN0UGVzc2ltaXN0aWNMb2NraW5nDQogICAgICovDQogICAgcHVibGljIFRl\nc3RQZXNzaW1pc3RpY0xvY2tpbmcoKSB7DQogICAgfQ0KDQogICAgcHJvdGVj\ndGVkIGJvb2xlYW4gc2tpcFRlc3QoKSB7DQogICAgICAgIC8vIHBvaW50YmFz\nZSBkb2Vzbid0IHJlYWxseSBsb2NrDQogICAgICAgIGlmIChnZXRDdXJyZW50\nUGxhdGZvcm0oKSA9PSBBYnN0cmFjdFRlc3RDYXNlLlBsYXRmb3JtLlBPSU5U\nQkFTRSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KDQogICAgICAgIGlm\nIChnZXRDb25maWd1cmF0aW9uKCkgaW5zdGFuY2VvZiBKREJDQ29uZmlndXJh\ndGlvbikgew0KICAgICAgICAgICAgSkRCQ0NvbmZpZ3VyYXRpb24gY29uZiA9\nIChKREJDQ29uZmlndXJhdGlvbikgZ2V0Q29uZmlndXJhdGlvbigpOw0KICAg\nICAgICAgICAgcmV0dXJuICFjb25mLmdldERCRGljdGlvbmFyeUluc3RhbmNl\nKCkuc3VwcG9ydHNTZWxlY3RGb3JVcGRhdGU7DQogICAgICAgIH0NCiAgICAg\nICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFVz\nZSBhIGxvY2tpbmcgcGVyc2lzdGVuY2UgbWFuYWdlciB3aXRoIHN1YmNsYXNz\nIGZldGNoIG1vZGUgdG8gc2V0IHRvDQogICAgICogIm5vbmUiIHRvIGF2b2lk\nIHN1YmNsYXNzIGpvaW5zLg0KICAgICAqLw0KICAgIHByb3RlY3RlZCBPcGVu\nSlBBRW50aXR5TWFuYWdlciBnZXRMb2NraW5nUE0oKSB7DQogICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gX2ZhY3RvcnkuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOw0KICAgICAgICAoKEpEQkNGZXRjaFBsYW4pIHBtLmdldEZl\ndGNoUGxhbigpKQ0KICAgICAgICAgICAgLnNldFN1YmNsYXNzRmV0Y2hNb2Rl\nKEZldGNoTW9kZS5OT05FKTsNCiAgICAgICAgcmV0dXJuIHBtOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7\nDQogICAgICAgIGRlbGV0ZUFsbChSdW50aW1lVGVzdDEuY2xhc3MpOw0KDQog\nICAgICAgIE1hcCBwcm9wc01hcCA9IG5ldyBIYXNoTWFwKCk7DQogICAgICAg\nIHByb3BzTWFwLnB1dCgib3BlbmpwYS5Mb2NrTWFuYWdlciIsICJwZXNzaW1p\nc3RpYyIpOw0KICAgICAgICBfZmFjdG9yeSA9IChPcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3RvcnkpIGdldEVtZihwcm9wc01hcCk7DQoNCiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRMb2NraW5nUE0oKTsNCiAgICAg\nICAgc3RhcnRUeChwbSk7DQoNCiAgICAgICAgUnVudGltZVRlc3QxIGEgPSBu\nZXcgUnVudGltZVRlc3QxKCJuYW1lIiwgMCk7DQogICAgICAgIHBtLnBlcnNp\nc3QoYSk7DQogICAgICAgIF9pZCA9IHBtLmdldE9iamVjdElkKGEpOw0KDQog\nICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duKCkgew0KICAgICAgICB0cnkg\new0KICAgICAgICAgICAgaWYgKF9mYWN0b3J5ICE9IG51bGwpDQogICAgICAg\nICAgICAgICAgX2ZhY3RvcnkuY2xvc2UoKTsNCiAgICAgICAgfSBjYXRjaCAo\nRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0K\nICAgICAqIFRlc3QgdGhhdCBwZXNzaW1pc3RpYyBsb2NraW5nIGlzIHdvcmtp\nbmcgaW4gdGhlIGRhdGEgc3RvcmUuDQogICAgICovDQogICAgcHVibGljIHZv\naWQgdGVzdFBlc3NpbWlzdGljTG9ja2luZygpIHRocm93cyBUaHJvd2FibGUg\new0KICAgICAgICBwZXNzaW1pc3RpY0xvY2tpbmdUZXN0KGZhbHNlKTsNCiAg\nICB9DQoNCiAgICAvKioNCiAgICAgKiBUZXN0IHRoYXQgdGhlIHRlc3QgY2Fz\nZSBpdHNlbGYgaXMgd29ya2luZyBiZSB1c2luZyBhIFJlZW50cmFudExvY2su\nIFRoaXMNCiAgICAgKiB0ZXN0IHdpbGwgdmFsaWRhdGUgdGhhdCB0aGUgdGVz\ndCBjYXNlIGl0c2VsZiBpcyB3b3JraW5nIGNvcnJlY3RseSwgbm90DQogICAg\nICogdGhhdCB0aGUgZGF0YXN0b3JlJ3MgcGVzc2ltaXN0aWMgbG9ja2luZyBp\ncyB3b3JraW5nLg0KICAgICAqLw0KICAgIHB1YmxpYyB2b2lkIHRlc3RQZXNz\naW1pc3RpY0xvY2tpbmdJbnRlcm5hbCgpIHRocm93cyBUaHJvd2FibGUgew0K\nICAgICAgICBwZXNzaW1pc3RpY0xvY2tpbmdUZXN0KHRydWUpOw0KICAgIH0N\nCg0KICAgIC8qKg0KICAgICAqIFRlc3QgdGhhdCBwZXNzaW1pc3RpYyBsb2Nr\naW5nIGlzIHdvcmtpbmcgYnkgYXR0ZW1wdGluZyB0byB1cGRhdGUgdGhlIHNh\nbWUNCiAgICAgKiBvYmplY3QgaW4gdGhlIGRhdGEgc3RvcmUuDQogICAgICoN\nCiAgICAgKiBAcGFyYW0gdXNlUmVlbnRyYW50TG9jayB0cnVlIGlmIHdlIHdh\nbnQgdG8gc3luY2hyb25pemUgb24gYSBsb2NrIGluc3RlYWQgb2YgcmVseWlu\nZyBvbg0KICAgICAqIHRoZSBkYXRhIHN0b3JlICh1c2VkIGZvciB2YWxpZGF0\naW5nIHRoZSB0ZXN0IGNhc2UpLg0KICAgICAqLw0KICAgIHB1YmxpYyB2b2lk\nIHBlc3NpbWlzdGljTG9ja2luZ1Rlc3QoYm9vbGVhbiB1c2VSZWVudHJhbnRM\nb2NrKQ0KICAgICAgICB0aHJvd3MgVGhyb3dhYmxlIHsNCiAgICAgICAgbG9u\nZyB0aW1lb3V0ID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkgKyAoNjAg\nKiA1ICogMTAwMCk7DQoNCiAgICAgICAgUmVlbnRyYW50TG9jayBsb2NrID0g\nbnVsbDsNCiAgICAgICAgaWYgKHVzZVJlZW50cmFudExvY2spDQogICAgICAg\nICAgICBsb2NrID0gbmV3IFJlZW50cmFudExvY2soKTsNCg0KICAgICAgICBU\nZXN0VGhyZWFkIHQxID0gbmV3IFRlc3RUaHJlYWQobG9jayk7DQogICAgICAg\nIFRlc3RUaHJlYWQgdDIgPSBuZXcgVGVzdFRocmVhZChsb2NrKTsNCiAgICAg\nICAgdDEuc3RhcnQoKTsNCiAgICAgICAgdDIuc3RhcnQoKTsNCg0KICAgICAg\nICBnZXRMb2coKS50cmFjZSgic3RhcnRlZCB0aHJlYWQiKTsNCg0KICAgICAg\nICAvLyB3YWl0IGZvciB0aHJlYWRzIHRvIGRpZSBvciB0aW1lb3V0DQogICAg\nICAgIHdoaWxlICgodDEuaXNBbGl2ZSgpIHx8IHQyLmlzQWxpdmUoKSkNCiAg\nICAgICAgICAgICYmIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIDwgdGlt\nZW91dCkgew0KICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDEwMDApOw0KICAg\nICAgICAgICAgZ2V0TG9nKCkudHJhY2UoDQogICAgICAgICAgICAgICAgInRo\ncmVhZCB3YWl0aW5nIGZvciBjb21wbGV0aW9uICgiDQogICAgICAgICAgICAg\nICAgICAgICsgKHRpbWVvdXQgLSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMo\nKSkNCiAgICAgICAgICAgICAgICAgICAgKyAiIG1zIGxlZnQpIik7DQogICAg\nICAgIH0NCg0KICAgICAgICBnZXRMb2coKS50cmFjZSgiY2hlY2tpbmcgaWYg\ndGhyZWFkIGlzIGFsaXZlIik7DQogICAgICAgIFN5c3RlbS5vdXQuZmx1c2go\nKTsNCg0KICAgICAgICBpZiAodDEuaXNBbGl2ZSgpIHx8IHQyLmlzQWxpdmUo\nKSkgew0KICAgICAgICAgICAgZ2V0TG9nKCkudHJhY2UoInRocmVhZCBpcyBz\ndGlsbCBhbGl2ZSIpOw0KICAgICAgICAgICAgU3lzdGVtLm91dC5mbHVzaCgp\nOw0KDQogICAgICAgICAgICAvLyBkbyBvdXQgYmVzdCB0byBjbGVhbiB0aGVt\nIHVwDQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHQxLmlu\ndGVycnVwdCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2gg\nKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0\ncnkgew0KICAgICAgICAgICAgICAgIHQyLmludGVycnVwdCgpOw0KICAgICAg\nICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQog\nICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRp\nb24oIlRocmVhZCBkaWQgbm90IGNvbXBsZXRlIGFmdGVyIHRpbWVvdXQgKCIN\nCiAgICAgICAgICAgICAgICArIHRpbWVvdXQgKyAiKTogcG9zc2libGUgZGVh\nZGxvY2siKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGdldExvZygpLnRyYWNl\nKCJjaGVja2luZyBleGNlcHRpb24gZm9yIHQxIik7DQogICAgICAgIGlmICh0\nMS5leGNlcHRpb24gIT0gbnVsbCkNCiAgICAgICAgICAgIHRocm93IHQxLmV4\nY2VwdGlvbjsNCg0KICAgICAgICBnZXRMb2coKS50cmFjZSgiY2hlY2tpbmcg\nZXhjZXB0aW9uIGZvciB0MiIpOw0KICAgICAgICBpZiAodDIuZXhjZXB0aW9u\nICE9IG51bGwpDQogICAgICAgICAgICB0aHJvdyB0Mi5leGNlcHRpb247DQoN\nCiAgICAgICAgZ2V0TG9nKCkudHJhY2UoInZlcmlmeWluZyBwZXNzaW1pc3Rp\nYyBsb2NraW5nIHdvcmtlZC4uLiIpOw0KICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBwbSA9IGdldExvY2tpbmdQTSgpOw0KICAgICAgICBSdW50aW1l\nVGVzdDEgYSA9IChSdW50aW1lVGVzdDEpIHBtLmZpbmQoUnVudGltZVRlc3Qx\nLmNsYXNzLCBfaWQpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMjAgLSBfYnVn\nQ291bnQsIGEuZ2V0SW50RmllbGQxKCkpOw0KICAgICAgICBnZXRMb2coKS50\ncmFjZSgiY2xvc2luZyBwbSIpOw0KICAgICAgICBlbmRFbShwbSk7DQogICAg\nICAgIGdldExvZygpLnRyYWNlKCJkb25lIik7DQogICAgfQ0KDQogICAgLyoq\nDQogICAgICogVXBkYXRlIHRocmVhZCB0aGF0IHRyaWVzIHRvIGluY3JlbWVu\ndCBhbiBpbnQgZmllbGQuDQogICAgICoNCiAgICAgKiBAYXV0aG9yIDxhIGhy\nZWY9Im1haWx0bzptYXJjQHNvbGFybWV0cmljLmNvbSI+TWFyYyBQcnVkJ2hv\nbW1lYXV4PC9hPg0KICAgICAqLw0KICAgIHByaXZhdGUgY2xhc3MgVGVzdFRo\ncmVhZCBleHRlbmRzIFRocmVhZCB7DQoNCiAgICAgICAgcHJpdmF0ZSBPcGVu\nSlBBRW50aXR5TWFuYWdlciBfcG0gPSBnZXRMb2NraW5nUE0oKTsNCg0KICAg\nICAgICBwdWJsaWMgRXhjZXB0aW9uIGV4Y2VwdGlvbiA9IG51bGw7DQoNCiAg\nICAgICAgcHJpdmF0ZSBmaW5hbCBSZWVudHJhbnRMb2NrIF9sb2NrOw0KDQog\nICAgICAgIC8qKg0KICAgICAgICAgKiBDb25zdHJ1Y3Rvcg0KICAgICAgICAg\nKg0KICAgICAgICAgKiBAcGFyYW0gbG9jayB0aGUgUmVlbnRyYW50TG9jayB3\nZSBzaG91bGQgdXNlLCBvciBudWxsIHRvIHJlbHkgb24NCiAgICAgICAgICog\ncGVzc2ltaXN0aWMgbG9ja2luZyBpbiB0aGUgZGF0YSBzdG9yZS4NCiAgICAg\nICAgICovDQogICAgICAgIHB1YmxpYyBUZXN0VGhyZWFkKFJlZW50cmFudExv\nY2sgbG9jaykgew0KICAgICAgICAgICAgdGhpcy5fbG9jayA9IGxvY2s7DQog\nICAgICAgIH0NCg0KICAgICAgICBwdWJsaWMgc3luY2hyb25pemVkIHZvaWQg\ncnVuKCkgew0KICAgICAgICAgICAgZ2V0TG9nKCkudHJhY2UoDQogICAgICAg\nICAgICAgICAgVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5nZXROYW1lKCkNCiAg\nICAgICAgICAgICAgICAgICAgKyAiOiBzdGFydGluZyB1cGRhdGUgdGhyZWFk\nIik7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGZvciAo\naW50IGkgPSAwOyBpIDwgMTA7IGkrKykgew0KICAgICAgICAgICAgICAgICAg\nICBpZiAoX2xvY2sgIT0gbnVsbCkNCiAgICAgICAgICAgICAgICAgICAgICAg\nIF9sb2NrLmxvY2soKTsNCg0KICAgICAgICAgICAgICAgICAgICB0cnkgew0K\nICAgICAgICAgICAgICAgICAgICAgICAgX3BtLnNldE9wdGltaXN0aWMoZmFs\nc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUeChfcG0pOw0K\nICAgICAgICAgICAgICAgICAgICAgICAgUnVudGltZVRlc3QxIGEgPSAoUnVu\ndGltZVRlc3QxKSBfcG0uZmluZCgNCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBSdW50aW1lVGVzdDEuY2xhc3MsIF9pZCk7DQogICAgICAgICAgICAg\nICAgICAgICAgICBnZXRMb2coKS50cmFjZSgNCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICBUaHJlYWQuY3VycmVudFRocmVhZCgpLmdldE5hbWUoKQ0K\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICI6IG9idGFpbmVk\nIGFuZCBsb2NrZWQ6ICIgKyBhKTsNCiAgICAgICAgICAgICAgICAgICAgICAg\nIHlpZWxkKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBzdXBlci53YWl0\nKDUwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdldExvZygpLnRyYWNl\nKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRocmVhZC5jdXJyZW50\nVGhyZWFkKCkuZ2V0TmFtZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICsgIjogdXBkYXRpbmcgYWdlIGZyb20gIg0KICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICArIGEuZ2V0SW50RmllbGQxKCkpOw0KICAg\nICAgICAgICAgICAgICAgICAgICAgYS5zZXRJbnRGaWVsZDEoYS5nZXRJbnRG\naWVsZDEoKSArIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TG9n\nKCkudHJhY2UoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhyZWFk\nLmN1cnJlbnRUaHJlYWQoKS5nZXROYW1lKCkNCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgKyAiOiBjb21taXR0ZWQgdXBkYXRlIik7DQogICAg\nICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAg\nICAgICAgICAgIF9wbS5mbHVzaCgpOw0KICAgICAgICAgICAgICAgICAgICAg\nICAgICAgIGVuZFR4KF9wbSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9\nDQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGV4\nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IG9y\nZy5hcGFjaGUub3BlbmpwYS51dGlsLlVzZXJFeGNlcHRpb24oDQogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICJPcHRpbWlzdGljIGxvY2sgcHJv\nYmFibHkgZmFpbGVkIGFmdGVyICINCiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICsgaSArICIgaXRlcmF0aW9ucyAoIg0KICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBUaHJlYWQuY3VycmVudFRo\ncmVhZCgpLmdldE5hbWUoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgKyAiKSIsIGV4KTsNCiAgICAgICAgICAgICAgICAgICAgICAg\nIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkKCk7DQogICAgICAg\nICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7\nDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2xvY2sgIT0gbnVsbCkN\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9jay51bmxvY2soKTsN\nCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAg\nICAgICAgICAgIH0NCgkJCWNhdGNoIChFeGNlcHRpb24gZSkNCgkJCXsNCgkJ\nCQlleGNlcHRpb24gPSBlOw0KCQkJfQ0KCQl9DQoJfQ0KDQp9DQo=\n","encoding":"base64"}

