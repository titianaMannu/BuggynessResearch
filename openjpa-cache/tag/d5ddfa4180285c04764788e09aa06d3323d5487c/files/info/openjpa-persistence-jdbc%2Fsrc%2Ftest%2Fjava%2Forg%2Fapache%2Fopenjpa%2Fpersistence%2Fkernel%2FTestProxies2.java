{"sha":"9640b73b4cd675cca2b5536270f612c1bdf63fca","node_id":"MDQ6QmxvYjIwNjM2NDo5NjQwYjczYjRjZDY3NWNjYTJiNTUzNjI3MGY2MTJjMWJkZjYzZmNh","size":17396,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/9640b73b4cd675cca2b5536270f612c1bdf63fca","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsOw0KDQppbXBvcnQgamF2YS51dGlsLkNvbXBh\ncmF0b3I7DQppbXBvcnQgamF2YS51dGlsLkRhdGU7DQppbXBvcnQgamF2YS51\ndGlsLkhhc2hTZXQ7DQppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOw0KaW1w\nb3J0IGphdmEudXRpbC5MaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5NYXA7DQpp\nbXBvcnQgamF2YS51dGlsLlNldDsNCmltcG9ydCBqYXZhLnV0aWwuVHJlZVNl\ndDsNCg0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmtlcm5lbC5jb21tb24uYXBwcy5Qcm94aWVzUEM7DQppbXBvcnQgb3JnLmFw\nYWNoZS5jb21tb25zLmNvbGxlY3Rpb25zLmNvbXBhcmF0b3JzLkNvbXBhcmFi\nbGVDb21wYXJhdG9yOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEudXRpbC5Qcm94eTsNCg0KcHVibGljIGNsYXNzIFRlc3RQ\ncm94aWVzMiBleHRlbmRzIEJhc2VLZXJuZWxUZXN0IHsNCg0KICAgIHByaXZh\ndGUgaW50IF9vaWQgPSAwOw0KICAgIHByaXZhdGUgRGF0ZSBfZGF0ZSA9IG51\nbGw7DQogICAgcHJpdmF0ZSBqYXZhLnNxbC5EYXRlIF9zcWxEYXRlID0gbnVs\nbDsNCiAgICBwcml2YXRlIGphdmEuc3FsLlRpbWVzdGFtcCBfdGltZXN0YW1w\nID0gbnVsbDsNCg0KICAgIHB1YmxpYyBUZXN0UHJveGllczIoU3RyaW5nIGNh\nc2VuYW1lKSB7DQogICAgICAgIHN1cGVyKGNhc2VuYW1lKTsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsNCiAgICAgICAgZGVsZXRlQWxs\nKFByb3hpZXNQQy5jbGFzcyk7DQoNCiAgICAgICAgT3BlbkpQQUVudGl0eU1h\nbmFnZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0KICAgICAgICBzdGFy\ndFR4KHBtKTsNCg0KICAgICAgICBsb25nIG5vdyA9IFN5c3RlbS5jdXJyZW50\nVGltZU1pbGxpcygpOw0KICAgICAgICBfZGF0ZSA9IG5ldyBEYXRlKG5vdyk7\nDQogICAgICAgIF9zcWxEYXRlID0gbmV3IGphdmEuc3FsLkRhdGUobm93KTsN\nCiAgICAgICAgX3RpbWVzdGFtcCA9IG5ldyBqYXZhLnNxbC5UaW1lc3RhbXAo\nbm93KTsNCg0KICAgICAgICBQcm94aWVzUEMgcGMgPSBuZXcgUHJveGllc1BD\nKCJtYWluIik7DQogICAgICAgIHBjLnNldERhdGUoX2RhdGUpOw0KICAgICAg\nICBwYy5zZXRTUUxEYXRlKF9zcWxEYXRlKTsNCiAgICAgICAgcGMuc2V0VGlt\nZXN0YW1wKF90aW1lc3RhbXApOw0KDQogICAgICAgIHBjLmdldFN0cmluZ1Nl\ndCgpLmFkZCgidmFsMSIpOw0KICAgICAgICBwYy5nZXRTdHJpbmdTZXQoKS5h\nZGQoInZhbDIiKTsNCiAgICAgICAgcGMuZ2V0U3RyaW5nU2V0KCkuYWRkKCJ2\nYWwzIik7DQogICAgICAgIHBjLmdldFN0cmluZ1NldCgpLmFkZChudWxsKTsN\nCg0KICAgICAgICBwYy5nZXRQcm94eVNldCgpLmFkZChuZXcgUHJveGllc1BD\nKCJzZXQxIikpOw0KICAgICAgICBwYy5nZXRQcm94eVNldCgpLmFkZChuZXcg\nUHJveGllc1BDKCJzZXQyIikpOw0KICAgICAgICBwYy5nZXRQcm94eVNldCgp\nLmFkZChuZXcgUHJveGllc1BDKCJzZXQzIikpOw0KDQogICAgICAgIHBjLmdl\ndFN0cmluZ01hcCgpLnB1dCgia2V5MSIsICIxIik7DQogICAgICAgIHBjLmdl\ndFN0cmluZ01hcCgpLnB1dCgia2V5MiIsICIyIik7DQogICAgICAgIHBjLmdl\ndFN0cmluZ01hcCgpLnB1dCgia2V5MyIsICIzIik7DQogICAgICAgIHBjLmdl\ndFN0cmluZ01hcCgpLnB1dChudWxsLCAibnVsbCIpOw0KICAgICAgICBwYy5n\nZXRTdHJpbmdNYXAoKS5wdXQoIm51bGwiLCBudWxsKTsNCg0KICAgICAgICBw\nYy5nZXRQcm94eU1hcCgpLnB1dCgia2V5MSIsIG5ldyBQcm94aWVzUEMoIm1h\ncDEiKSk7DQogICAgICAgIHBjLmdldFByb3h5TWFwKCkucHV0KCJrZXkyIiwg\nbmV3IFByb3hpZXNQQygibWFwMiIpKTsNCiAgICAgICAgcGMuZ2V0UHJveHlN\nYXAoKS5wdXQoImtleTMiLCBuZXcgUHJveGllc1BDKCJtYXAzIikpOw0KDQog\nICAgICAgIHBjLmdldExpc3QoKS5hZGQoInZhbDEiKTsNCiAgICAgICAgcGMu\nZ2V0TGlzdCgpLmFkZCgidmFsMSIpOw0KICAgICAgICBwYy5nZXRMaXN0KCku\nYWRkKCJ2YWwyIik7DQogICAgICAgIHBjLmdldExpc3QoKS5hZGQoInZhbDMi\nKTsNCiAgICAgICAgcGMuZ2V0TGlzdCgpLmFkZCgidmFsMyIpOw0KDQogICAg\nICAgIHBtLnBlcnNpc3QocGMpOw0KDQogICAgICAgIF9vaWQgPSBwYy5nZXRJ\nZCgpOw0KDQogICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0p\nOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RTdHJpbmdTZXQoKSB7\nDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFs\nc2UsIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIFBy\nb3hpZXNQQyBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsN\nCg0KICAgICAgICAvLyBjaGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBjb3Jy\nZWN0DQogICAgICAgIFNldCBzZXQgPSBwYy5nZXRTdHJpbmdTZXQoKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDQsIHNldC5zaXplKCkpOw0KICAgICAgICBh\nc3NlcnRUcnVlKHNldC5jb250YWlucygidmFsMSIpKTsNCiAgICAgICAgYXNz\nZXJ0VHJ1ZShzZXQuY29udGFpbnMoInZhbDIiKSk7DQogICAgICAgIGFzc2Vy\ndFRydWUoc2V0LmNvbnRhaW5zKCJ2YWwzIikpOw0KICAgICAgICBhc3NlcnRU\ncnVlKHNldC5jb250YWlucyhudWxsKSk7DQoNCiAgICAgICAgLy8gZG8gc29t\nZSBtb2RzIHRvIHRyeSB0byBjb25mdXNlIHRoZSBwcm94eQ0KICAgICAgICBz\nZXQucmVtb3ZlKCJ2YWwxIik7DQogICAgICAgIHNldC5yZW1vdmUoInZhbDEi\nKTsNCiAgICAgICAgc2V0LmFkZCgidmFsNCIpOw0KICAgICAgICBzZXQucmVt\nb3ZlKCJ2YWw0Iik7DQogICAgICAgIHNldC5hZGQoInZhbDUiKTsNCiAgICAg\nICAgc2V0LmFkZCgidmFsNSIpOw0KICAgICAgICBlbmRUeChwbSk7DQogICAg\nICAgIGVuZEVtKHBtKTsNCg0KICAgICAgICAvLyByZS1yZXRyaWV2ZSBhbmQg\nY2hlY2sgc2V0DQogICAgICAgIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsN\nCiAgICAgICAgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7\nDQoNCiAgICAgICAgc2V0ID0gcGMuZ2V0U3RyaW5nU2V0KCk7DQogICAgICAg\nIGFzc2VydEVxdWFscyg0LCBzZXQuc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0\nVHJ1ZSghc2V0LmNvbnRhaW5zKCJ2YWwxIikpOw0KICAgICAgICBhc3NlcnRU\ncnVlKHNldC5jb250YWlucygidmFsMiIpKTsNCiAgICAgICAgYXNzZXJ0VHJ1\nZShzZXQuY29udGFpbnMoInZhbDMiKSk7DQogICAgICAgIGFzc2VydFRydWUo\nIXNldC5jb250YWlucygidmFsNCIpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShz\nZXQuY29udGFpbnMoInZhbDUiKSk7DQogICAgICAgIGFzc2VydFRydWUoc2V0\nLmNvbnRhaW5zKG51bGwpKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RTdHJpbmdNYXAoKSB7DQogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNl\nKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIFByb3hpZXNQQyBw\nYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsNCg0KICAgICAg\nICAvLyBjaGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBjb3JyZWN0DQogICAg\nICAgIE1hcCBtYXAgPSBwYy5nZXRTdHJpbmdNYXAoKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKDUsIG1hcC5zaXplKCkpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoIjEiLCBtYXAuZ2V0KCJrZXkxIikpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoIjIiLCBtYXAuZ2V0KCJrZXkyIikpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoIjMiLCBtYXAuZ2V0KCJrZXkzIikpOw0KICAgICAgICBhc3NlcnROdWxs\nKG1hcC5nZXQoIm51bGwiKSk7DQogICAgICAgIGFzc2VydEVxdWFscygibnVs\nbCIsIG1hcC5nZXQobnVsbCkpOw0KDQogICAgICAgIC8vIGRvIHNvbWUgbW9k\ncyB0byB0cnkgdG8gY29uZnVzZSB0aGUgcHJveHkNCiAgICAgICAgbWFwLnB1\ndCgia2V5MSIsICIxYSIpOw0KICAgICAgICBtYXAucHV0KCJrZXkxIiwgIjFi\nIik7DQogICAgICAgIG1hcC5wdXQoImtleTQiLCAiNCIpOw0KICAgICAgICBt\nYXAucmVtb3ZlKCJrZXk0Iik7DQogICAgICAgIG1hcC5yZW1vdmUoImZvbyIp\nOw0KICAgICAgICBtYXAucHV0KCJrZXk1IiwgIjUiKTsNCiAgICAgICAgZW5k\nVHgocG0pOw0KICAgICAgICBlbmRFbShwbSk7DQoNCiAgICAgICAgLy8gcmUt\ncmV0cmlldmUgYW5kIGNoZWNrIG1hcA0KICAgICAgICBwbSA9IGdldFBNKGZh\nbHNlLCBmYWxzZSk7DQogICAgICAgIHBjID0gcG0uZmluZChQcm94aWVzUEMu\nY2xhc3MsIF9vaWQpOw0KDQogICAgICAgIG1hcCA9IHBjLmdldFN0cmluZ01h\ncCgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoNiwgbWFwLnNpemUoKSk7DQog\nICAgICAgIGFzc2VydEVxdWFscygiMWIiLCBtYXAuZ2V0KCJrZXkxIikpOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoIjUiLCBtYXAuZ2V0KCJrZXk1IikpOw0K\nICAgICAgICBlbmRFbShwbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQg\ndGVzdFByb3h5U2V0KCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdl\nciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQogICAgICAgIHN0YXJ0VHgo\ncG0pOw0KICAgICAgICBQcm94aWVzUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQ\nQy5jbGFzcywgX29pZCk7DQoNCiAgICAgICAgLy8gY2hlY2sgdGhhdCBvcmln\nIHZhbHVlcyBhcmUgY29ycmVjdA0KICAgICAgICBTZXQgc2V0ID0gcGMuZ2V0\nUHJveHlTZXQoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDMsIHNldC5zaXpl\nKCkpOw0KICAgICAgICBJdGVyYXRvciBpdHIgPSBzZXQuaXRlcmF0b3IoKTsN\nCiAgICAgICAgUHJveGllc1BDIHNldDEgPSAoUHJveGllc1BDKSBpdHIubmV4\ndCgpOw0KICAgICAgICBQcm94aWVzUEMgc2V0MiA9IChQcm94aWVzUEMpIGl0\nci5uZXh0KCk7DQogICAgICAgIFByb3hpZXNQQyBzZXQzID0gKFByb3hpZXNQ\nQykgaXRyLm5leHQoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzZXQxIiwg\nc2V0MS5nZXROYW1lKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInNldDIi\nLCBzZXQyLmdldE5hbWUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygic2V0\nMyIsIHNldDMuZ2V0TmFtZSgpKTsNCg0KICAgICAgICAvLyBkbyBzb21lIG1v\nZHMgdG8gdHJ5IHRvIGNvbmZ1c2UgdGhlIHByb3h5DQogICAgICAgIHNldC5y\nZW1vdmUoc2V0MSk7DQogICAgICAgIHNldC5yZW1vdmUoc2V0MSk7DQogICAg\nICAgIFByb3hpZXNQQyBzZXQ0ID0gbmV3IFByb3hpZXNQQygic2V0NCIpOw0K\nICAgICAgICBzZXQuYWRkKHNldDQpOw0KICAgICAgICBzZXQucmVtb3ZlKHNl\ndDQpOw0KICAgICAgICBQcm94aWVzUEMgc2V0NSA9IG5ldyBQcm94aWVzUEMo\nInNldDUiKTsNCiAgICAgICAgc2V0LmFkZChzZXQ1KTsNCiAgICAgICAgc2V0\nLmFkZChzZXQ1KTsNCiAgICAgICAgZW5kVHgocG0pOw0KICAgICAgICBlbmRF\nbShwbSk7DQoNCiAgICAgICAgLy8gcmUtcmV0cmlldmUgYW5kIGNoZWNrIHNl\ndA0KICAgICAgICBwbSA9IGdldFBNKHRydWUsIGZhbHNlKTsNCiAgICAgICAg\nc3RhcnRUeChwbSk7DQogICAgICAgIHBjID0gcG0uZmluZChQcm94aWVzUEMu\nY2xhc3MsIF9vaWQpOw0KICAgICAgICBwbS5yZWZyZXNoKHBjKTsNCg0KICAg\nICAgICBzZXQgPSBwYy5nZXRQcm94eVNldCgpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMywgc2V0LnNpemUoKSk7DQogICAgICAgIGl0ciA9IHNldC5pdGVy\nYXRvcigpOw0KICAgICAgICBzZXQxID0gKFByb3hpZXNQQykgaXRyLm5leHQo\nKTsNCiAgICAgICAgc2V0MiA9IChQcm94aWVzUEMpIGl0ci5uZXh0KCk7DQog\nICAgICAgIHNldDMgPSAoUHJveGllc1BDKSBpdHIubmV4dCgpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoInNldDIiLCBzZXQxLmdldE5hbWUoKSk7DQogICAg\nICAgIGFzc2VydEVxdWFscygic2V0MyIsIHNldDIuZ2V0TmFtZSgpKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJzZXQ1Iiwgc2V0My5nZXROYW1lKCkpOw0K\nICAgICAgICBlbmRUeChwbSk7DQogICAgICAgIGVuZEVtKHBtKTsNCiAgICB9\nDQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0UHJveHlNYXAoKSB7DQogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNl\nKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIFByb3hpZXNQQyBw\nYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsNCg0KICAgICAg\nICAvLyBjaGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBjb3JyZWN0DQogICAg\nICAgIE1hcCBtYXAgPSBwYy5nZXRQcm94eU1hcCgpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoIm9yaWdpbmFsIG1hcCBzaXplIGlzIGNvcnJlY3Q6IDMiLCAz\nLCBtYXAuc2l6ZSgpKTsNCiAgICAgICAgUHJveGllc1BDIG1hcDEgPSAoUHJv\neGllc1BDKSBtYXAuZ2V0KCJrZXkxIik7DQogICAgICAgIFByb3hpZXNQQyBt\nYXAyID0gKFByb3hpZXNQQykgbWFwLmdldCgia2V5MiIpOw0KICAgICAgICBQ\ncm94aWVzUEMgbWFwMyA9IChQcm94aWVzUEMpIG1hcC5nZXQoImtleTMiKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJtYXAxIiwgbWFwMS5nZXROYW1lKCkp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIm1hcDIiLCBtYXAyLmdldE5hbWUo\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscygibWFwMyIsIG1hcDMuZ2V0TmFt\nZSgpKTsNCg0KICAgICAgICAvLyBkbyBzb21lIG1vZHMgdG8gdHJ5IHRvIGNv\nbmZ1c2UgdGhlIHByb3h5DQogICAgICAgIFByb3hpZXNQQyBtYXAxYSA9IG5l\ndyBQcm94aWVzUEMoIm1hcDFhIik7DQogICAgICAgIG1hcC5wdXQoImtleTEi\nLCBtYXAxYSk7DQogICAgICAgIFByb3hpZXNQQyBtYXAxYiA9IG5ldyBQcm94\naWVzUEMoIm1hcDFiIik7DQogICAgICAgIG1hcC5wdXQoImtleTEiLCBtYXAx\nYik7DQogICAgICAgIG1hcC5wdXQoImtleTQiLCBuZXcgUHJveGllc1BDKCJt\nYXA0IikpOw0KICAgICAgICBtYXAucmVtb3ZlKCJrZXk0Iik7DQogICAgICAg\nIG1hcC5yZW1vdmUoImZvbyIpOw0KICAgICAgICBtYXAucHV0KCJrZXk1Iiwg\nbmV3IFByb3hpZXNQQygibWFwNSIpKTsNCiAgICAgICAgZW5kVHgocG0pOw0K\nICAgICAgICBlbmRFbShwbSk7DQoNCiAgICAgICAgLy8gcmUtcmV0cmlldmUg\nYW5kIGNoZWNrIG1hcA0KICAgICAgICBwbSA9IGdldFBNKGZhbHNlLCBmYWxz\nZSk7DQogICAgICAgIHBjID0gcG0uZmluZChQcm94aWVzUEMuY2xhc3MsIF9v\naWQpOw0KICAgICAgICBzdGFydFR4KHBtKTsNCiAgICAgICAgcG0ucmVmcmVz\naChwYyk7DQoNCiAgICAgICAgbWFwID0gcGMuZ2V0UHJveHlNYXAoKTsNCg0K\nICAgICAgICBhc3NlcnRFcXVhbHMoNCwgbWFwLnNpemUoKSk7DQogICAgICAg\nIGFzc2VydEVxdWFscygibWFwMWIiLCAoKFByb3hpZXNQQykgbWFwLmdldCgi\na2V5MSIpKS5nZXROYW1lKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoIm1h\ncDUiLCAoKFByb3hpZXNQQykgbWFwLmdldCgia2V5NSIpKS5nZXROYW1lKCkp\nOw0KDQogICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RSZXBsYWNlKCkgew0KICAg\nICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBm\nYWxzZSk7DQogICAgICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICBQcm94aWVz\nUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7DQoNCiAg\nICAgICAgLy8gdG90YWxseSByZXBsYWNlIHNldA0KICAgICAgICBTZXQgc2V0\nID0gbmV3IEhhc2hTZXQoKTsNCiAgICAgICAgc2V0LmFkZCgibmV3Iik7DQog\nICAgICAgIHBjLnNldFN0cmluZ1NldChzZXQpOw0KDQogICAgICAgIGVuZFR4\nKHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KDQogICAgICAgIC8vIHJlLXJl\ndHJpZXZlIGFuZCBjaGVjayBzZXQNCiAgICAgICAgcG0gPSBnZXRQTShmYWxz\nZSwgZmFsc2UpOw0KICAgICAgICBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNs\nYXNzLCBfb2lkKTsNCg0KICAgICAgICBzZXQgPSBwYy5nZXRTdHJpbmdTZXQo\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIHNldC5zaXplKCkpOw0KICAg\nICAgICBhc3NlcnRUcnVlKHNldC5jb250YWlucygibmV3IikpOw0KICAgICAg\nICBlbmRFbShwbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdENv\nbXBhcmF0b3JzKCkgew0KICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHN5c3Rl\nbSB1c2VzIHRoZSBpbml0aWFsIGZpZWxkIHZhbHVlIHRvIGZpbmQNCiAgICAg\nICAgLy8gY29tcGFyYXRvcnMNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFn\nZXIgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0KICAgICAgICBzdGFydFR4\nKHBtKTsNCiAgICAgICAgUHJveGllc1BDIHBjID0gcG0uZmluZChQcm94aWVz\nUEMuY2xhc3MsIF9vaWQpOw0KICAgICAgICBhc3NlcnROb3ROdWxsKCJwYyBp\ncyBudWxsIiwgcGMpOw0KICAgICAgICBhc3NlcnRUcnVlKCJwYy5nZXRDb21w\nKCkgaXMgbm90IGluc3RhbmNlb2YgUHJveHkiLA0KICAgICAgICAgICAgcGMu\nZ2V0Q29tcCgpIGluc3RhbmNlb2YgUHJveHkpOw0KICAgICAgICBhc3NlcnRU\ncnVlKA0KICAgICAgICAgICAgIihUcmVlU2V0KSBpcyBub3QgcGMuZ2V0Q29t\ncCgpKS5jb21wYXJhdG9yKCkgaW5zdGFuY2VvZiBDb21wYXJhYmxlQ29tcGFy\nYXRvciIsDQogICAgICAgICAgICAoKFRyZWVTZXQpIHBjLmdldENvbXAoKSkN\nCiAgICAgICAgICAgICAgICAuY29tcGFyYXRvcigpIGluc3RhbmNlb2YgQ29t\ncGFyYWJsZUNvbXBhcmF0b3IpOw0KICAgICAgICBwbS5ldmljdChwYyk7DQog\nICAgICAgIGVuZFR4KHBtKTsNCg0KICAgICAgICAvLyBzZWUgaWYgaXQgc3Rp\nbGwgc2F2ZXMgY29tcGFyYXRvciBhZnRlciB0cmFuc2l0aW9uIHRvIGhvbGxv\ndw0KICAgICAgICAvLyBhbmQgYmFjaw0KICAgICAgICBhc3NlcnRUcnVlKCJw\nYy5nZXRDb21wKCkgaXMgbm90IGluc3RhbmNlb2YgUHJveHlUcmVlU2V0IiwN\nCiAgICAgICAgICAgIHBjLmdldENvbXAoKSBpbnN0YW5jZW9mIFByb3h5KTsN\nCiAgICAgICAgQ29tcGFyYXRvciBjb21wYXJ0ID0gKChUcmVlU2V0KSBwYy5n\nZXRDb21wKCkpLmNvbXBhcmF0b3IoKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVs\nbCgiY29tcGFydCBpcyBudWxsIiwgY29tcGFydCk7DQogICAgICAgIGFzc2Vy\ndFRydWUoDQogICAgICAgICAgICAiKChUcmVlU2V0KSBpcyBub3QgcGMuZ2V0\nQ29tcCgpKS5jb21wYXJhdG9yKClpbnN0YW5jZW9mIENvbXBhcmFibGVDb21w\nYXJhdG9yIiwNCiAgICAgICAgICAgICgoVHJlZVNldCkgcGMuZ2V0Q29tcCgp\nKQ0KICAgICAgICAgICAgICAgIC5jb21wYXJhdG9yKCkgaW5zdGFuY2VvZiBD\nb21wYXJhYmxlQ29tcGFyYXRvcik7DQoNCiAgICAgICAgZW5kRW0ocG0pOw0K\nICAgIH0NCg0KICAgIC8vICAgIEZJWCBNRTogTW92aW5nIGZpeCB0byBlc3Nl\neA0KICAgIC8qcHVibGljIHZvaWQgdGVzdExpc3QoKSB7DQogICAgICAgIE9w\nZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsN\nCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIFByb3hpZXNQQyBwYyA9\nIHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsNCg0KICAgICAgICAv\nLyBjaGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBjb3JyZWN0DQogICAgICAg\nIExpc3QgbGlzdCA9IHBjLmdldExpc3QoKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDUsIGxpc3Quc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2\nYWwxIiwgbGlzdC5nZXQoMCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInZh\nbDEiLCBsaXN0LmdldCgxKSk7DQogICAgICAgIGFzc2VydEVxdWFscygidmFs\nMiIsIGxpc3QuZ2V0KDIpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwz\nIiwgbGlzdC5nZXQoMykpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMi\nLCBsaXN0LmdldCg0KSk7DQoNCiAgICAgICAgLy8gZG8gc29tZSBtb2RzIHRv\nIHRyeSB0byBjb25mdXNlIHRoZSBwcm94eQ0KICAgICAgICBsaXN0LnJlbW92\nZSgidmFsMiIpOw0KICAgICAgICBsaXN0LmFkZCgidmFsNCIpOw0KICAgICAg\nICBsaXN0LnJlbW92ZSgidmFsNCIpOw0KICAgICAgICBsaXN0LmFkZCgidmFs\nNSIpOw0KICAgICAgICBsaXN0LmFkZCgidmFsNiIpOw0KICAgICAgICBsaXN0\nLmFkZCgidmFsNiIpOw0KICAgICAgICBlbmRUeChwbSk7DQogICAgICAgIGVu\nZEVtKHBtKTsNCg0KICAgICAgICAvLyByZS1yZXRyaWV2ZSBhbmQgbW9kaWZ5\nIGFnYWluIHRvIGNoZWNrIGhvbGVzIGluIG9yZGVyaW5nDQogICAgICAgIHBt\nID0gZ2V0UE0oZmFsc2UsIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbSk7\nDQogICAgICAgIHBjID0gKFByb3hpZXNQQykgcG0uZmluZChQcm94aWVzUEMu\nY2xhc3MsIF9vaWQpOw0KDQogICAgICAgIGxpc3QgPSBwYy5nZXRMaXN0KCk7\nDQogICAgICAgIGFzc2VydEVxdWFscyg3LCBsaXN0LnNpemUoKSk7DQogICAg\nICAgIGFzc2VydEVxdWFscygidmFsMSIsIGxpc3QuZ2V0KDApKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQoMSkpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0LmdldCgyKSk7DQogICAgICAg\nIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3QuZ2V0KDMpKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJ2YWw1IiwgbGlzdC5nZXQoNCkpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoInZhbDYiLCBsaXN0LmdldCg1KSk7DQogICAgICAgIGFz\nc2VydEVxdWFscygidmFsNiIsIGxpc3QuZ2V0KDYpKTsNCg0KICAgICAgICBs\naXN0LnJlbW92ZSgidmFsNSIpOw0KICAgICAgICBsaXN0LmFkZCgidmFsNyIp\nOw0KICAgICAgICBlbmRUeChwbSk7DQogICAgICAgIGVuZEVtKHBtKTsNCg0K\nICAgICAgICAvLyByZS1yZXRyaWV2ZSBhbmQgY2hlY2sgZmluYWwgY29udGVu\ndHMNCiAgICAgICAgcG0gPSBnZXRQTShmYWxzZSwgZmFsc2UpOw0KICAgICAg\nICBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsNCg0KICAg\nICAgICBsaXN0ID0gcGMuZ2V0TGlzdCgpOw0KICAgICAgICBhc3NlcnRFcXVh\nbHMoNywgbGlzdC5zaXplKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInZh\nbDEiLCBsaXN0LmdldCgwKSk7DQogICAgICAgIGFzc2VydEVxdWFscygidmFs\nMSIsIGxpc3QuZ2V0KDEpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwz\nIiwgbGlzdC5nZXQoMikpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMi\nLCBsaXN0LmdldCgzKSk7DQogICAgICAgIGFzc2VydEVxdWFscygidmFsNiIs\nIGxpc3QuZ2V0KDQpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWw2Iiwg\nbGlzdC5nZXQoNSkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDciLCBs\naXN0LmdldCg2KSk7DQogICAgICAgIGVuZEVtKHBtKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0TGlzdERpc2FibGVzQ2hhbmdlVHJhY2tpbmco\nKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0o\nZmFsc2UsIGZhbHNlKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAg\nIFByb3hpZXNQQyBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lk\nKTsNCg0KICAgICAgICAvLyBjaGVjayB0aGF0IG9yaWcgdmFsdWVzIGFyZSBj\nb3JyZWN0DQogICAgICAgIExpc3QgbGlzdCA9IHBjLmdldExpc3QoKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDUsIGxpc3Quc2l6ZSgpKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQoMCkpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoInZhbDEiLCBsaXN0LmdldCgxKSk7DQogICAgICAgIGFz\nc2VydEVxdWFscygidmFsMiIsIGxpc3QuZ2V0KDIpKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKCJ2YWwzIiwgbGlzdC5nZXQoMykpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoInZhbDMiLCBsaXN0LmdldCg0KSk7DQoNCiAgICAgICAgLy8g\ncmVtb3ZpbmcgYSBjb3B5IG9mIHZhbDMgc2hvdWxkIGRpc2FibGUgdHJhY2tp\nbmcNCiAgICAgICAgbGlzdC5yZW1vdmUoInZhbDIiKTsNCiAgICAgICAgbGlz\ndC5yZW1vdmUoInZhbDMiKTsNCiAgICAgICAgbGlzdC5hZGQoInZhbDUiKTsN\nCiAgICAgICAgbGlzdC5hZGQoInZhbDUiKTsNCiAgICAgICAgZW5kVHgocG0p\nOw0KICAgICAgICBlbmRFbShwbSk7DQoNCiAgICAgICAgLy8gcmUtcmV0cmll\ndmUgYW5kIGNoYW5nZSBhZ2FpbiB0byBjaGVjayBvcmRlcmluZw0KICAgICAg\nICBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQogICAgICAgIHN0YXJ0VHgo\ncG0pOw0KICAgICAgICBwYyA9IHBtLmZpbmQoUHJveGllc1BDLmNsYXNzLCBf\nb2lkKTsNCg0KICAgICAgICBsaXN0ID0gcGMuZ2V0TGlzdCgpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoNSwgbGlzdC5zaXplKCkpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMoInZhbDEiLCBsaXN0LmdldCgwKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygidmFsMSIsIGxpc3QuZ2V0KDEpKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJ2YWwzIiwgbGlzdC5nZXQoMikpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoInZhbDUiLCBsaXN0LmdldCgzKSk7DQogICAgICAgIGFzc2VydEVx\ndWFscygidmFsNSIsIGxpc3QuZ2V0KDQpKTsNCg0KICAgICAgICBsaXN0LnJl\nbW92ZSgidmFsMyIpOw0KICAgICAgICBsaXN0LmFkZCgidmFsNiIpOw0KICAg\nICAgICBlbmRUeChwbSk7DQogICAgICAgIGVuZEVtKHBtKTsNCg0KICAgICAg\nICAvLyBjaGVjayBmaW5hbCBjb250ZW50cw0KICAgICAgICBwbSA9IGdldFBN\nKGZhbHNlLCBmYWxzZSk7DQogICAgICAgIHBjID0gcG0uZmluZChQcm94aWVz\nUEMuY2xhc3MsIF9vaWQpOw0KDQogICAgICAgIGxpc3QgPSBwYy5nZXRMaXN0\nKCk7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBsaXN0LnNpemUoKSk7DQog\nICAgICAgIGFzc2VydEVxdWFscygidmFsMSIsIGxpc3QuZ2V0KDApKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQoMSkpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoInZhbDYiLCBsaXN0LmdldCgyKSk7DQogICAg\nICAgIGFzc2VydEVxdWFscygidmFsNSIsIGxpc3QuZ2V0KDMpKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKCJ2YWw1IiwgbGlzdC5nZXQoNCkpOw0KICAgICAg\nICBlbmRFbShwbSk7DQogICAgfQ0KKi8NCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nQ2hhbmdlTGlzdE9yZGVyKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFu\nYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQogICAgICAgIHN0YXJ0\nVHgocG0pOw0KICAgICAgICBQcm94aWVzUEMgcGMgPSBwbS5maW5kKFByb3hp\nZXNQQy5jbGFzcywgX29pZCk7DQoNCiAgICAgICAgLy8gY2hlY2sgdGhhdCBv\ncmlnIHZhbHVlcyBhcmUgY29ycmVjdA0KICAgICAgICBMaXN0IGxpc3QgPSBw\nYy5nZXRMaXN0KCk7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBsaXN0LnNp\nemUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIsIGxpc3QuZ2V0\nKDApKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQo\nMSkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDIiLCBsaXN0LmdldCgy\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3QuZ2V0KDMp\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwzIiwgbGlzdC5nZXQoNCkp\nOw0KDQogICAgICAgIC8vIHJlb3JkZXIgdmFsMg0KICAgICAgICBsaXN0LnJl\nbW92ZSgidmFsMiIpOw0KICAgICAgICBsaXN0LmFkZCgidmFsMiIpOw0KICAg\nICAgICBlbmRUeChwbSk7DQogICAgICAgIGVuZEVtKHBtKTsNCg0KICAgICAg\nICAvLyByZS1yZXRyaWV2ZSB0byBjaGVjayBvcmRlcmluZw0KICAgICAgICBw\nbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQogICAgICAgIHBjID0gcG0uZmlu\nZChQcm94aWVzUEMuY2xhc3MsIF9vaWQpOw0KDQogICAgICAgIGxpc3QgPSBw\nYy5nZXRMaXN0KCk7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBsaXN0LnNp\nemUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscygidmFsMSIsIGxpc3QuZ2V0\nKDApKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwxIiwgbGlzdC5nZXQo\nMSkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInZhbDMiLCBsaXN0LmdldCgy\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscygidmFsMyIsIGxpc3QuZ2V0KDMp\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ2YWwyIiwgbGlzdC5nZXQoNCkp\nOw0KICAgICAgICBlbmRFbShwbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgdGVzdERhdGUoKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIHBtID0gZ2V0UE0odHJ1ZSwgdHJ1ZSk7DQogICAgICAgIHN0YXJ0VHgocG0p\nOw0KICAgICAgICBQcm94aWVzUEMgcGMgPSBwbS5maW5kKFByb3hpZXNQQy5j\nbGFzcywgX29pZCk7DQogICAgICAgIERhdGUgZGF0ZSA9IHBjLmdldERhdGUo\nKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChkYXRlKTsNCg0KICAgICAgICAv\nLyBkYXRlcyBjYW4gbG9zZSBwcmVjaXNpb24sIGJ1dCBtYWtlIHN1cmUgc2Ft\nZSBkYXkNCiAgICAgICAgYXNzZXJ0RXF1YWxzKF9kYXRlLmdldFllYXIoKSwg\nZGF0ZS5nZXRZZWFyKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoX2RhdGUu\nZ2V0TW9udGgoKSwgZGF0ZS5nZXRNb250aCgpKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKF9kYXRlLmdldERhdGUoKSwgZGF0ZS5nZXREYXRlKCkpOw0KDQog\nICAgICAgIC8vIG1ha2Ugc3VyZSBwcm94aWVkDQogICAgICAgIGFzc2VydFRy\ndWUoIXBtLmlzRGlydHkocGMpKTsNCiAgICAgICAgZGF0ZS5zZXRUaW1lKFN5\nc3RlbS5jdXJyZW50VGltZU1pbGxpcygpICsgMTAwMCAqIDYwICogNjAgKiAy\nNCk7DQogICAgICAgIGFzc2VydFRydWUocG0uaXNEaXJ0eShwYykpOw0KDQog\nICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKGRhdGUs\nIHBjLmdldERhdGUoKSk7DQogICAgICAgIGVuZEVtKHBtKTsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0U1FMRGF0ZSgpIHsNCiAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSh0cnVlLCB0cnVlKTsNCiAg\nICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIFByb3hpZXNQQyBwYyA9IHBt\nLmZpbmQoUHJveGllc1BDLmNsYXNzLCBfb2lkKTsNCiAgICAgICAgamF2YS5z\ncWwuRGF0ZSBkYXRlID0gcGMuZ2V0U1FMRGF0ZSgpOw0KICAgICAgICBhc3Nl\ncnROb3ROdWxsKGRhdGUpOw0KDQogICAgICAgIC8vIGRhdGVzIGNhbiBsb3Nl\nIHByZWNpc2lvbiwgYnV0IG1ha2Ugc3VyZSBzYW1lIGRheQ0KICAgICAgICBh\nc3NlcnRFcXVhbHMoX3NxbERhdGUuZ2V0WWVhcigpLCBkYXRlLmdldFllYXIo\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhfc3FsRGF0ZS5nZXRNb250aCgp\nLCBkYXRlLmdldE1vbnRoKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoX3Nx\nbERhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldERhdGUoKSk7DQoNCiAgICAgICAg\nLy8gbWFrZSBzdXJlIHByb3hpZWQNCiAgICAgICAgYXNzZXJ0VHJ1ZSghcG0u\naXNEaXJ0eShwYykpOw0KICAgICAgICBkYXRlLnNldFRpbWUoU3lzdGVtLmN1\ncnJlbnRUaW1lTWlsbGlzKCkgKyAxMDAwICogNjAgKiA2MCAqIDI0KTsNCiAg\nICAgICAgYXNzZXJ0VHJ1ZShwbS5pc0RpcnR5KHBjKSk7DQoNCiAgICAgICAg\nZW5kVHgocG0pOw0KICAgICAgICBhc3NlcnRFcXVhbHMoZGF0ZSwgcGMuZ2V0\nU1FMRGF0ZSgpKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0NCg0KICAg\nIHB1YmxpYyB2b2lkIHRlc3RUaW1lc3RhbXAoKSB7DQogICAgICAgIE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyIHBtID0gZ2V0UE0odHJ1ZSwgdHJ1ZSk7DQogICAg\nICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICBQcm94aWVzUEMgcGMgPSBwbS5m\naW5kKFByb3hpZXNQQy5jbGFzcywgX29pZCk7DQogICAgICAgIGphdmEuc3Fs\nLlRpbWVzdGFtcCB0c3RhbXAgPSBwYy5nZXRUaW1lc3RhbXAoKTsNCiAgICAg\nICAgYXNzZXJ0Tm90TnVsbCh0c3RhbXApOw0KDQogICAgICAgIC8vIGRhdGVz\nIGNhbiBsb3NlIHByZWNpc2lvbiwgYnV0IG1ha2Ugc3VyZSBzYW1lIGRheQ0K\nICAgICAgICBhc3NlcnRFcXVhbHMoX3RpbWVzdGFtcC5nZXRZZWFyKCksIHRz\ndGFtcC5nZXRZZWFyKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoX3RpbWVz\ndGFtcC5nZXRNb250aCgpLCB0c3RhbXAuZ2V0TW9udGgoKSk7DQogICAgICAg\nIGFzc2VydEVxdWFscyhfdGltZXN0YW1wLmdldERhdGUoKSwgdHN0YW1wLmdl\ndERhdGUoKSk7DQoNCiAgICAgICAgLy8gbWFrZSBzdXJlIHByb3hpZWQNCiAg\nICAgICAgYXNzZXJ0VHJ1ZSghcG0uaXNEaXJ0eShwYykpOw0KICAgICAgICB0\nc3RhbXAuc2V0TmFub3MoMTAwKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShwbS5p\nc0RpcnR5KHBjKSk7DQoNCiAgICAgICAgZW5kVHgocG0pOw0KICAgICAgICBh\nc3NlcnRFcXVhbHModHN0YW1wLCBwYy5nZXRUaW1lc3RhbXAoKSk7DQogICAg\nICAgIGVuZEVtKHBtKTsNCiAgICB9DQp9DQo=\n","encoding":"base64"}

