{"sha":"0b11839a75522843e8196aa9c91210974b09ca6d","node_id":"MDQ6QmxvYjIwNjM2NDowYjExODM5YTc1NTIyODQzZTgxOTZhYTljOTEyMTA5NzRiMDljYTZk","size":5453,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/0b11839a75522843e8196aa9c91210974b09ca6d","content":"LyoNCiAqIFRlc3RSZXRhaW5WYWx1ZXNJbk9wdGltaXN0aWMuamF2YQ0KICoN\nCiAqIENyZWF0ZWQgb24gT2N0b2JlciAxNiwgMjAwNiwgMTA6MTggQU0NCiAq\nDQogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSwgY2hvb3NlIFRvb2xzIHwg\nVGVtcGxhdGUgTWFuYWdlcg0KICogYW5kIG9wZW4gdGhlIHRlbXBsYXRlIGlu\nIHRoZSBlZGl0b3IuDQogKi8NCg0KLyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBB\ncGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUNCiAq\nIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2Vl\nIHRoZSBOT1RJQ0UgZmlsZQ0KICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdv\ncmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBj\nb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZp\nbGUNCiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNp\nb24gMi4wICh0aGUNCiAqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0\naGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UNCiAqIHdpdGggdGhlIExp\nY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2Ug\nYXQNCiAqDQogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElD\nRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJs\nZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBk\naXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBv\nbiBhbg0KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9S\nIENPTkRJVElPTlMgT0YgQU5ZDQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBv\nciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUNCiAqIHNwZWNp\nZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRh\ndGlvbnMNCiAqIHVuZGVyIHRoZSBMaWNlbnNlLiAgICANCiAqLw0KcGFja2Fn\nZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsOw0KDQpp\nbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7DQppbXBvcnQgamF2YS51dGlsLkxv\nY2FsZTsNCmltcG9ydCBqYXZhLnV0aWwuTWFwOw0KDQoNCg0KaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWwuY29tbW9uLmFw\ncHMuUnVudGltZVRlc3QxOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0KaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFu\nYWdlckZhY3Rvcnk7DQoNCnB1YmxpYyBjbGFzcyBUZXN0UmV0YWluVmFsdWVz\nSW5PcHRpbWlzdGljIGV4dGVuZHMgQmFzZUtlcm5lbFRlc3Qgew0KDQogICAg\ncHJpdmF0ZSBPYmplY3QgX29pZCA9IG51bGw7DQoNCiAgICAvKioNCiAgICAg\nKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFRlc3RSZXRhaW5WYWx1ZXNJ\nbk9wdGltaXN0aWMNCiAgICAgKi8NCiAgICBwdWJsaWMgVGVzdFJldGFpblZh\nbHVlc0luT3B0aW1pc3RpYygpIHsNCiAgICB9DQoNCiAgICBwdWJsaWMgVGVz\ndFJldGFpblZhbHVlc0luT3B0aW1pc3RpYyhTdHJpbmcgdGVzdCkgew0KICAg\nICAgICBzdXBlcih0ZXN0KTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBz\nZXRVcCgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICBz\ndXBlci5zZXRVcCgpOw0KDQogICAgICAgIGRlbGV0ZUFsbChSdW50aW1lVGVz\ndDEuY2xhc3MpOw0KDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBt\nID0gZ2V0UE0oKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIFJ1\nbnRpbWVUZXN0MSBwYyA9IG5ldyBSdW50aW1lVGVzdDEoInN0cjEiLCAxKTsN\nCiAgICAgICAgcG0ucGVyc2lzdChwYyk7DQogICAgICAgIGVuZFR4KHBtKTsN\nCiAgICAgICAgX29pZCA9IHBtLmdldE9iamVjdElkKHBjKTsNCiAgICAgICAg\nZW5kRW0ocG0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RSZXRh\naW4oKSB7DQogICAgICAgIGNsZWFyVGVzdCh0cnVlKTsNCiAgICAgICAgb3B0\nTG9ja1Rlc3QodHJ1ZSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndE5vdFJldGFpbigpIHsNCiAgICAgICAgY2xlYXJUZXN0KGZhbHNlKTsNCiAg\nICAgICAgb3B0TG9ja1Rlc3QoZmFsc2UpOw0KICAgIH0NCg0KICAgIHByaXZh\ndGUgdm9pZCBjbGVhclRlc3QoYm9vbGVhbiByZXRhaW4pIHsNCiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTShyZXRhaW4pOw0KICAg\nICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgcG1mID0gcG0uZ2V0\nRW50aXR5TWFuYWdlckZhY3RvcnkoKTsNCiAgICAgICAgUnVudGltZVRlc3Qx\nIHBjID0gKFJ1bnRpbWVUZXN0MSkgcG0uZmluZChSdW50aW1lVGVzdDEuY2xh\nc3MsIF9vaWQpOw0KDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBt\nMiA9IGdldFBNKCk7DQogICAgICAgIFJ1bnRpbWVUZXN0MSBwYzIgPSAoUnVu\ndGltZVRlc3QxKSBwbTIuZmluZChSdW50aW1lVGVzdDEuY2xhc3MsIF9vaWQp\nOw0KICAgICAgICBzdGFydFR4KHBtMik7DQogICAgICAgIHBjMi5zZXRTdHJp\nbmdGaWVsZCgic3RyMiIpOw0KICAgICAgICBwYzIuc2V0SW50RmllbGQxKDIp\nOw0KICAgICAgICBlbmRUeChwbTIpOw0KICAgICAgICBlbmRFbShwbTIpOw0K\nDQogICAgICAgIHN0YXJ0VHgocG0pOw0KICAgICAgICAvLyB0aWNrbGUgdGhl\nIG9iamVjdCBzbyB0aGF0IGl0IGVudGVycyB0aGUgdHJhbnNhY3Rpb24NCiAg\nICAgICAgcGMuc2V0TG9jYWxlRmllbGQoTG9jYWxlLkNISU5BKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKChyZXRhaW4pID8gInN0cjEiIDogInN0cjIiLCBw\nYy5nZXRTdHJpbmdGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKChy\nZXRhaW4pID8gMSA6IDIsIHBjLmdldEludEZpZWxkMSgpKTsNCiAgICAgICAg\ndHJ5IHsNCiAgICAgICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgICAgIGlm\nIChyZXRhaW4pDQogICAgICAgICAgICAgICAgZmFpbCgiU2hvdWxkIGhhdmUg\nY2F1c2VkIE9MIHZpb2xhdGlvbiIpOw0KICAgICAgICB9DQogICAgICAgIGNh\ndGNoIChSdW50aW1lRXhjZXB0aW9uIHJlKSB7DQogICAgICAgICAgICBpZiAo\nIXJldGFpbikNCiAgICAgICAgICAgICAgICB0aHJvdyByZTsNCiAgICAgICAg\nfQ0KICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAg\nIC8vDQogICAgICAgIH0NCg0KICAgICAgICBlbmRFbShwbSk7DQoNCiAgICAg\nICAgLy8gbWFrZSBzdXJlIGV2ZXJ5dGhpbmcgc3R1Y2sNCiAgICAgICAgaWYg\nKCFyZXRhaW4pIHsNCiAgICAgICAgICAgIHBtID0gZ2V0UE0oKTsNCiAgICAg\nICAgICAgIHBjID0gKFJ1bnRpbWVUZXN0MSkgcG0uZmluZChSdW50aW1lVGVz\ndDEuY2xhc3MsIF9vaWQpOw0KICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKCJz\ndHIyIiwgcGMuZ2V0U3RyaW5nRmllbGQoKSk7DQogICAgICAgICAgICBhc3Nl\ncnRFcXVhbHMoMiwgcGMuZ2V0SW50RmllbGQxKCkpOw0KICAgICAgICAgICAg\nZW5kRW0ocG0pOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAg\nICBwbWYuY2xvc2UoKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlv\nbiBlKSB7DQogICAgICAgICAgICAgICAgLy8gY29uc3VtbWUgZXhjZXB0aW9u\ncyAuLi4gb3RoZXIgUE1zIG1pZ2h0IGJlIG9wZW4gYW5kDQogICAgICAgICAg\nICAgICAgLy8gYWN0aXZlIG9uIHRoaXMgUE1GLg0KICAgICAgICAgICAgfQ0K\nICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIG9wdExvY2tU\nZXN0KGJvb2xlYW4gcmV0YWluKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtMSA9IGdldFBNKHJldGFpbik7DQogICAgICAgIE9wZW5KUEFF\nbnRpdHlNYW5hZ2VyRmFjdG9yeSBwbWYgPSBwbTEuZ2V0RW50aXR5TWFuYWdl\nckZhY3RvcnkoKTsNCg0KICAgICAgICBzdGFydFR4KHBtMSk7DQogICAgICAg\nIFJ1bnRpbWVUZXN0MSBwYzEgPSAoUnVudGltZVRlc3QxKSBwbTEuZmluZChS\ndW50aW1lVGVzdDEuY2xhc3MsIF9vaWQpOw0KICAgICAgICBlbmRUeChwbTEp\nOw0KDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtMiA9IGdldFBN\nKHJldGFpbik7DQogICAgICAgIHN0YXJ0VHgocG0yKTsNCiAgICAgICAgUnVu\ndGltZVRlc3QxIHBjMiA9IChSdW50aW1lVGVzdDEpIHBtMi5maW5kKFJ1bnRp\nbWVUZXN0MS5jbGFzcywgX29pZCk7DQogICAgICAgIHBjMi5zZXRTdHJpbmdG\naWVsZCgic3RyMyIpOw0KICAgICAgICBwYzIuc2V0SW50RmllbGQxKDMpOw0K\nICAgICAgICBlbmRUeChwbTIpOw0KDQogICAgICAgIHN0YXJ0VHgocG0xKTsN\nCiAgICAgICAgcGMxLnNldFN0cmluZ0ZpZWxkKCJzdHI0Iik7DQogICAgICAg\nIHBjMS5zZXRJbnRGaWVsZDEoNCk7DQogICAgICAgIHRyeSB7DQogICAgICAg\nICAgICBlbmRUeChwbTEpOw0KICAgICAgICAgICAgaWYgKHJldGFpbikNCiAg\nICAgICAgICAgICAgICBmYWlsKCJFeHBlY3RlZCBvcHQgbG9jayBlcnJvci4i\nKTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGpvdmUpIHsNCiAgICAg\nICAgICAgIGlmICghcmV0YWluKQ0KICAgICAgICAgICAgICAgIGZhaWwoIkNh\ndWdodCBvcHQgbG9jayBlcnJvci4iKTsNCiAgICAgICAgfQ0KDQogICAgICAg\nIHBtMS5jbG9zZSgpOw0KICAgICAgICBlbmRFbShwbTIpOw0KICAgICAgICBp\nZiAocmV0YWluKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAg\nICAgIHBtZi5jbG9zZSgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0\naW9uIGUpIHsNCiAgICAgICAgICAgICAgICAvLyBtYXliZSBvdGhlciBQTXMg\nYXJlIG9wZW4uLi4NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0N\nCg0KICAgIHByaXZhdGUgT3BlbkpQQUVudGl0eU1hbmFnZXIgZ2V0UE0oYm9v\nbGVhbiByZXRhaW4pIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIg\ncG07DQogICAgICAgIE1hcCBwcm9wcyA9IG5ldyBIYXNoTWFwKCk7DQogICAg\nICAgIHByb3BzLnB1dCgib3BlbmpwYS5BdXRvQ2xlYXIiLCAiYWxsIik7DQoN\nCiAgICAgICAgaWYgKHJldGFpbikNCiAgICAgICAgICAgIHBtID0gZ2V0UE0o\ndHJ1ZSwgdHJ1ZSk7DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBtZiA9IGdldEVtZihwcm9wcyk7\nDQoNCiAgICAgICAgICAgIHBtID0gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBw\nbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOw0KICAgICAgICAgICAgcG0uc2V0\nT3B0aW1pc3RpYyh0cnVlKTsNCiAgICAgICAgICAgIHBtLnNldFJldGFpblN0\nYXRlKHRydWUpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBwbTsNCiAg\nICB9DQp9DQo=\n","encoding":"base64"}

