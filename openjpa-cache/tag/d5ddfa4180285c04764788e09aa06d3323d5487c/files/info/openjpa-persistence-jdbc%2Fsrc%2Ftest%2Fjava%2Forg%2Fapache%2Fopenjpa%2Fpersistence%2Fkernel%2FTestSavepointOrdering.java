{"sha":"bebd85980fe8fa724846310d54255ace8a73ff7c","node_id":"MDQ6QmxvYjIwNjM2NDpiZWJkODU5ODBmZThmYTcyNDg0NjMxMGQ1NDI1NWFjZThhNzNmZjdj","size":8514,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/bebd85980fe8fa724846310d54255ace8a73ff7c","content":"LyoNCiAqIFRlc3RTYXZlcG9pbnRPcmRlcmluZy5qYXZhDQogKg0KICogQ3Jl\nYXRlZCBvbiBPY3RvYmVyIDE2LCAyMDA2LCAxMDo0NSBBTQ0KICoNCiAqIFRv\nIGNoYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0\nZSBNYW5hZ2VyDQogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVk\naXRvci4NCiAqLw0KLyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29m\ndHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUg\nY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJ\nQ0UgZmlsZQ0KICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFk\nZGl0aW9uYWwgaW5mb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQg\nb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRv\nIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0\naGUNCiAqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUg\nZXhjZXB0IGluIGNvbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZ\nb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQog\nKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAN\nCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3Ig\nYWdyZWVkIHRvIGluIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRl\nZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICog\nIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElP\nTlMgT0YgQU5ZDQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVk\nLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1\nYWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAq\nIHVuZGVyIHRoZSBMaWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsOw0KDQppbXBvcnQgamF2\nYS51dGlsLkNvbGxlY3Rpb247DQppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7\nDQppbXBvcnQgamF2YS51dGlsLk1hcDsNCg0KDQoNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzLlJ1\nbnRpbWVUZXN0MTsNCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJu\nZWwuQnJva2VyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwu\nT3BlbkpQQVNhdmVwb2ludDsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLlNhdmVwb2ludE1hbmFnZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLnBlcnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50\naXR5TWFuYWdlckZhY3Rvcnk7DQoNCnB1YmxpYyBjbGFzcyBUZXN0U2F2ZXBv\naW50T3JkZXJpbmcgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7DQoNCiAgICBw\ncml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgVVNFUiA9IDE7DQogICAgcHJpdmF0\nZSBzdGF0aWMgZmluYWwgaW50IFJFTEVBU0VEID0gMjsNCiAgICBwcml2YXRl\nIHN0YXRpYyBmaW5hbCBpbnQgUk9MTEJBQ0sgPSA0Ow0KDQogICAgc3RhdGlj\nIE1hcCBfYXNzaWduZWQgPSBuZXcgSGFzaE1hcCgpOw0KDQogICAgLyoqDQog\nICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUZXN0U2F2ZXBvaW50\nT3JkZXJpbmcNCiAgICAgKi8NCiAgICBwdWJsaWMgVGVzdFNhdmVwb2ludE9y\nZGVyaW5nKFN0cmluZyBuYW1lKSB7DQogICAgICAgIHN1cGVyKG5hbWUpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBk\nZWxldGVBbGwoUnVudGltZVRlc3QxLmNsYXNzKTsNCiAgICAgICAgX2Fzc2ln\nbmVkLmNsZWFyKCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdENs\nZWFuVXBDb21taXQoKSB7DQogICAgICAgIGRvQ2xlYW5VcFRlc3QodHJ1ZSk7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdENsZWFuVXBSb2xsYmFj\naygpIHsNCiAgICAgICAgZG9DbGVhblVwVGVzdChmYWxzZSk7DQogICAgfQ0K\nDQogICAgcHVibGljIHZvaWQgZG9DbGVhblVwVGVzdChib29sZWFuIGNvbW1p\ndCkgew0KICAgICAgICBNYXAgcHJvcHMgPSBuZXcgSGFzaE1hcCgpOw0KICAg\nICAgICBwcm9wcy5wdXQoIm9wZW5qcGEuU2F2ZXBvaW50TWFuYWdlciIsDQog\nICAgICAgICAgICBUcmFja2luZ1NhdmVwb2ludE1hbmFnZXIuY2xhc3MuZ2V0\nTmFtZSgpKTsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5\nIHBtZiA9IGdldEVtZihwcm9wcyk7DQogICAgICAgIE9wZW5KUEFFbnRpdHlN\nYW5hZ2VyIHBtID0gcG1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAg\nICAgc3RhcnRUeChwbSk7DQogICAgICAgIHBtLnNldFNhdmVwb2ludCgidGVz\ndCIpOw0KICAgICAgICBwbS5zZXRTYXZlcG9pbnQoInRlc3QyIik7DQogICAg\nICAgIGlmIChjb21taXQpDQogICAgICAgICAgICBlbmRUeChwbSk7DQogICAg\nICAgIGVsc2UNCiAgICAgICAgICAgIHJvbGxiYWNrVHgocG0pOw0KICAgICAg\nICBhc3NlcnRGbGFncygidGVzdCIsIFJFTEVBU0VELCBVU0VSIHwgUk9MTEJB\nQ0spOw0KICAgICAgICBhc3NlcnRGbGFncygidGVzdDIiLCBSRUxFQVNFRCwg\nVVNFUiB8IFJPTExCQUNLKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RPcmRlcmluZ1dpdGhSb2xsYmFjaygp\nIHsNCiAgICAgICAgZG9PcmRlcmluZ1Rlc3QodHJ1ZSk7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgdGVzdE9yZGVyaW5nV2l0aFJlbGVhc2UoKSB7DQog\nICAgICAgIGRvT3JkZXJpbmdUZXN0KGZhbHNlKTsNCiAgICB9DQoNCiAgICBw\ncml2YXRlIHZvaWQgZG9PcmRlcmluZ1Rlc3QoYm9vbGVhbiByb2xsYmFjaykg\new0KICAgICAgICBNYXAgcHJvcHMgPSBuZXcgSGFzaE1hcCgpOw0KICAgICAg\nICBwcm9wcy5wdXQoIm9wZW5qcGEuU2F2ZXBvaW50TWFuYWdlciIsDQogICAg\nICAgICAgICBUcmFja2luZ1NhdmVwb2ludE1hbmFnZXIuY2xhc3MuZ2V0TmFt\nZSgpKTsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBt\nZiA9IGdldEVtZihwcm9wcyk7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyIHBtID0gcG1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAg\nc3RhcnRUeChwbSk7DQogICAgICAgIHBtLnNldFNhdmVwb2ludCgiYmVmb3Jl\nIik7DQogICAgICAgIHBtLnNldFNhdmVwb2ludCgiYmVmb3JlMiIpOw0KICAg\nICAgICBwbS5zZXRTYXZlcG9pbnQoInRlc3QiKTsNCiAgICAgICAgcG0uc2V0\nU2F2ZXBvaW50KCJ0ZXN0MiIpOw0KICAgICAgICBwbS5zZXRTYXZlcG9pbnQo\nImFmdGVyIik7DQogICAgICAgIHBtLnNldFNhdmVwb2ludCgiYWZ0ZXIyIik7\nDQogICAgICAgIGlmIChyb2xsYmFjaykNCiAgICAgICAgICAgIHBtLnJvbGxi\nYWNrVG9TYXZlcG9pbnQoInRlc3QyIik7DQogICAgICAgIGVsc2UNCiAgICAg\nICAgICAgIHBtLnJlbGVhc2VTYXZlcG9pbnQoInRlc3QyIik7DQoNCiAgICAg\nICAgYXNzZXJ0RmxhZ3MoImJlZm9yZSIsIDAsIFJFTEVBU0VEIHwgUk9MTEJB\nQ0spOw0KICAgICAgICBhc3NlcnRGbGFncygiYmVmb3JlMiIsIDAsIFJFTEVB\nU0VEIHwgUk9MTEJBQ0spOw0KICAgICAgICBhc3NlcnRGbGFncygidGVzdCIs\nIDAsIFJFTEVBU0VEIHwgUk9MTEJBQ0spOw0KICAgICAgICBhc3NlcnRGbGFn\ncygiYWZ0ZXIiLCBSRUxFQVNFRCwgVVNFUik7DQogICAgICAgIGFzc2VydEZs\nYWdzKCJhZnRlcjIiLCBSRUxFQVNFRCwgVVNFUik7DQoNCiAgICAgICAgaWYg\nKHJvbGxiYWNrKQ0KICAgICAgICAgICAgYXNzZXJ0RmxhZ3MoInRlc3QyIiwg\nUk9MTEJBQ0ssIDApOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICBhc3Nl\ncnRGbGFncygidGVzdDIiLCBSRUxFQVNFRCB8IFVTRVIsIDApOw0KDQogICAg\nICAgIHBtLnNldFNhdmVwb2ludCgiYWZ0ZXIzIik7DQogICAgICAgIGlmIChy\nb2xsYmFjaykNCiAgICAgICAgICAgIHBtLnJvbGxiYWNrVG9TYXZlcG9pbnQo\nInRlc3QiKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgcG0ucmVsZWFz\nZVNhdmVwb2ludCgidGVzdCIpOw0KDQogICAgICAgIGFzc2VydEZsYWdzKCJi\nZWZvcmUiLCAwLCBSRUxFQVNFRCB8IFJPTExCQUNLKTsNCiAgICAgICAgYXNz\nZXJ0RmxhZ3MoImJlZm9yZTIiLCAwLCBSRUxFQVNFRCB8IFJPTExCQUNLKTsN\nCiAgICAgICAgaWYgKHJvbGxiYWNrKQ0KICAgICAgICAgICAgYXNzZXJ0Rmxh\nZ3MoInRlc3QiLCBST0xMQkFDSywgMCk7DQogICAgICAgIGVsc2UNCiAgICAg\nICAgICAgIGFzc2VydEZsYWdzKCJ0ZXN0IiwgUkVMRUFTRUQgfCBVU0VSLCAw\nKTsNCiAgICAgICAgYXNzZXJ0RmxhZ3MoImFmdGVyMyIsIFJFTEVBU0VELCBV\nU0VSKTsNCiAgICAgICAgcm9sbGJhY2tUeChwbSk7DQogICAgICAgIGVuZEVt\nKHBtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGlzYWxsb3dG\nbHVzaCgpIHsNCiAgICAgICAgTWFwIHByb3BzID0gbmV3IEhhc2hNYXAoKTsN\nCiAgICAgICAgcHJvcHMucHV0KCJvcGVuanBhLlNhdmVwb2ludE1hbmFnZXIi\nLA0KICAgICAgICAgICAgVHJhY2tpbmdTYXZlcG9pbnRNYW5hZ2VyLmNsYXNz\nLmdldE5hbWUoKSArICIoQWxsb3dGbHVzaD1mYWxzZSkiKTsNCiAgICAgICAg\nT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5IHBtZiA9IGdldEVtZihwcm9w\ncyk7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIHBtID0gcG1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChwbSk7DQog\nICAgICAgIHBtLnBlcnNpc3QobmV3IFJ1bnRpbWVUZXN0MSgpKTsNCiAgICAg\nICAgcG0uc2V0U2F2ZXBvaW50KCJhIik7DQogICAgICAgIHRyeSB7DQogICAg\nICAgICAgICBwbS5mbHVzaCgpOw0KICAgICAgICAgICAgZmFpbCgic2hvdWxk\nIGhhdmUgZmFpbGVkLiIpOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24g\nZSkgew0KICAgICAgICB9DQogICAgICAgIHJvbGxiYWNrVHgocG0pOw0KICAg\nICAgICBlbmRFbShwbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndERpc2FsbG93Rmx1c2gyKCkgew0KICAgICAgICBNYXAgcHJvcHMgPSBuZXcg\nSGFzaE1hcCgpOw0KICAgICAgICBwcm9wcy5wdXQoIm9wZW5qcGEuU2F2ZXBv\naW50TWFuYWdlciIsDQogICAgICAgICAgICBUcmFja2luZ1NhdmVwb2ludE1h\nbmFnZXIuY2xhc3MuZ2V0TmFtZSgpICsgIihBbGxvd0ZsdXNoPWZhbHNlKSIp\nOw0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnkgcG1mID0g\nZ2V0RW1mKHByb3BzKTsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIg\ncG0gPSBwbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOw0KDQogICAgICAgIHN0\nYXJ0VHgocG0pOw0KICAgICAgICBwbS5wZXJzaXN0KG5ldyBSdW50aW1lVGVz\ndDEoKSk7DQogICAgICAgIHBtLmZsdXNoKCk7DQogICAgICAgIHRyeSB7DQog\nICAgICAgICAgICBwbS5zZXRTYXZlcG9pbnQoImEiKTsNCiAgICAgICAgICAg\nIGZhaWwoInNob3VsZCBoYXZlIGZhaWxlZC4iKTsNCiAgICAgICAgfSBjYXRj\naCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgfQ0KICAgICAgICByb2xsYmFj\na1R4KHBtKTsNCiAgICAgICAgZW5kRW0ocG0pOw0KICAgIH0NCg0KICAgIHB1\nYmxpYyB2b2lkIHRlc3RBbGxvd0ZsdXNoKCkgew0KICAgICAgICBNYXAgcHJv\ncHMgPSBuZXcgSGFzaE1hcCgpOw0KICAgICAgICBwcm9wcy5wdXQoIm9wZW5q\ncGEuU2F2ZXBvaW50TWFuYWdlciIsDQogICAgICAgICAgICBUcmFja2luZ1Nh\ndmVwb2ludE1hbmFnZXIuY2xhc3MuZ2V0TmFtZSgpICsgIihBbGxvd0ZsdXNo\nPXRydWUpIik7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neSBwbWYgPSBnZXRFbWYocHJvcHMpOw0KICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlciBwbSA9IHBtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQoNCiAg\nICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIHBtLnBlcnNpc3QobmV3IFJ1\nbnRpbWVUZXN0MSgpKTsNCiAgICAgICAgcG0uc2V0U2F2ZXBvaW50KCJhIik7\nDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBwbS5mbHVzaCgpOw0KICAg\nICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgZmFp\nbCgiYWxsb3dzIGZsdXNoLiIpOw0KICAgICAgICB9DQogICAgICAgIHJvbGxi\nYWNrVHgocG0pOw0KICAgICAgICBlbmRFbShwbSk7DQogICAgfQ0KDQogICAg\ncHVibGljIHZvaWQgdGVzdEFsbG93Rmx1c2gyKCkgew0KICAgICAgICBNYXAg\ncHJvcHMgPSBuZXcgSGFzaE1hcCgpOw0KICAgICAgICBwcm9wcy5wdXQoIm9w\nZW5qcGEuU2F2ZXBvaW50TWFuYWdlciIsDQogICAgICAgICAgICBUcmFja2lu\nZ1NhdmVwb2ludE1hbmFnZXIuY2xhc3MuZ2V0TmFtZSgpICsgIihBbGxvd0Zs\ndXNoPXRydWUpIik7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFj\ndG9yeSBwbWYgPSBnZXRFbWYocHJvcHMpOw0KICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlciBwbSA9IHBtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQoN\nCiAgICAgICAgc3RhcnRUeChwbSk7DQogICAgICAgIHBtLnBlcnNpc3QobmV3\nIFJ1bnRpbWVUZXN0MSgpKTsNCiAgICAgICAgcG0uZmx1c2goKTsNCiAgICAg\nICAgdHJ5IHsNCiAgICAgICAgICAgIHBtLnNldFNhdmVwb2ludCgiYSIpOw0K\nICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAg\nZmFpbCgiYWxsb3dzIGZsdXNoLiIpOw0KICAgICAgICB9DQogICAgICAgIHJv\nbGxiYWNrVHgocG0pOw0KICAgICAgICBlbmRFbShwbSk7DQogICAgfQ0KDQog\nICAgcHJpdmF0ZSB2b2lkIGFzc2VydEZsYWdzKFN0cmluZyBuYW1lLCBpbnQg\nZmxhZywgaW50IG5vZmxhZykgew0KICAgICAgICBUcmFja2luZ1NhdmVwb2lu\ndCBzcCA9IChUcmFja2luZ1NhdmVwb2ludCkgX2Fzc2lnbmVkLmdldChuYW1l\nKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChzcCk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscyhzcC5mbGFncyAmIGZsYWcsIGZsYWcpOw0KICAgICAgICBhc3Nl\ncnRUcnVlKChzcC5mbGFncyAmIG5vZmxhZykgPT0gMCk7DQogICAgfQ0KDQog\nICAgcHVibGljIHN0YXRpYyBjbGFzcyBUcmFja2luZ1NhdmVwb2ludE1hbmFn\nZXIgaW1wbGVtZW50cyBTYXZlcG9pbnRNYW5hZ2VyIHsNCg0KICAgICAgICBw\ndWJsaWMgYm9vbGVhbiBhbGxvd0ZsdXNoID0gZmFsc2U7DQoNCiAgICAgICAg\ncHVibGljIGJvb2xlYW4gc3VwcG9ydHNJbmNyZW1lbnRhbEZsdXNoKCkgew0K\nICAgICAgICAgICAgcmV0dXJuIGFsbG93Rmx1c2g7DQogICAgICAgIH0NCg0K\nICAgICAgICBwdWJsaWMgT3BlbkpQQVNhdmVwb2ludCBuZXdTYXZlcG9pbnQo\nU3RyaW5nIG5hbWUsIEJyb2tlciBicm9rZXIpIHsNCiAgICAgICAgICAgIFRy\nYWNraW5nU2F2ZXBvaW50IHNwID0gbmV3IFRyYWNraW5nU2F2ZXBvaW50KGJy\nb2tlciwgbmFtZSk7DQogICAgICAgICAgICBfYXNzaWduZWQucHV0KHNwLmdl\ndE5hbWUoKSwgc3ApOw0KICAgICAgICAgICAgcmV0dXJuIHNwOw0KICAgICAg\nICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMgY2xhc3MgVHJhY2tp\nbmdTYXZlcG9pbnQgZXh0ZW5kcyBPcGVuSlBBU2F2ZXBvaW50IHsNCg0KICAg\nICAgICBpbnQgZmxhZ3MgPSAwOw0KDQogICAgICAgIHB1YmxpYyBUcmFja2lu\nZ1NhdmVwb2ludChCcm9rZXIgYnJva2VyLCBTdHJpbmcgbmFtZSkgew0KICAg\nICAgICAgICAgc3VwZXIoYnJva2VyLCBuYW1lLCBmYWxzZSk7DQogICAgICAg\nIH0NCg0KICAgICAgICBwdWJsaWMgQ29sbGVjdGlvbiByb2xsYmFjayhDb2xs\nZWN0aW9uIHByZXZpb3VzKSB7DQogICAgICAgICAgICBpZiAoKGZsYWdzICYg\nKFJPTExCQUNLIHwgUkVMRUFTRUQpKSAhPSAwKQ0KICAgICAgICAgICAgICAg\nIGZhaWwoImFscmVhZHkgdXNlZCIpOw0KICAgICAgICAgICAgZmxhZ3MgfD0g\nUk9MTEJBQ0s7DQogICAgICAgICAgICByZXR1cm4gc3VwZXIucm9sbGJhY2so\ncHJldmlvdXMpOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIHZvaWQg\ncmVsZWFzZShib29sZWFuIHVzZXIpIHsNCiAgICAgICAgICAgIGlmICgoZmxh\nZ3MgJiAoUk9MTEJBQ0sgfCBSRUxFQVNFRCkpICE9IDApDQogICAgICAgICAg\nICAgICAgZmFpbCgiYWxyZWFkeSB1c2VkIik7DQogICAgICAgICAgICBmbGFn\ncyB8PSBSRUxFQVNFRDsNCiAgICAgICAgICAgIGlmICh1c2VyKSB7DQogICAg\nICAgICAgICAgICAgaWYgKChmbGFncyAmIFVTRVIpICE9IDApDQogICAgICAg\nICAgICAgICAgICAgIGZhaWwoImFscmVhZHkgcmVsZWFzZWQiKTsNCiAgICAg\nICAgICAgICAgICBmbGFncyB8PSBVU0VSOw0KICAgICAgICAgICAgfQ0KDQog\nICAgICAgICAgICBzdXBlci5yZWxlYXNlKHVzZXIpOw0KICAgICAgICB9DQog\nICAgfQ0KfQ0K\n","encoding":"base64"}

