{"sha":"99891b33d2891a78b9ddf5ccb07b21e5ee7d5c89","node_id":"MDQ6QmxvYjIwNjM2NDo5OTg5MWIzM2QyODkxYTc4YjlkZGY1Y2NiMDdiMjFlNWVlN2Q1Yzg5","size":6474,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/99891b33d2891a78b9ddf5ccb07b21e5ee7d5c89","content":"LyoNCiAqIFRlc3RTdGF0ZU1hbmFnZXJJbXBsRGF0YS5qYXZhDQogKg0KICog\nQ3JlYXRlZCBvbiBPY3RvYmVyIDEzLCAyMDA2LCA1OjQwIFBNDQogKg0KICog\nVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUsIGNob29zZSBUb29scyB8IFRlbXBs\nYXRlIE1hbmFnZXINCiAqIGFuZCBvcGVuIHRoZSB0ZW1wbGF0ZSBpbiB0aGUg\nZWRpdG9yLg0KICovDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBT\nb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICogb3IgbW9y\nZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5P\nVElDRSBmaWxlDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3Ig\nYWRkaXRpb25hbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNvcHlyaWdo\ndCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQ0KICog\ndG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAg\nKHRoZQ0KICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmls\nZSBleGNlcHQgaW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGljZW5zZS4g\nIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoN\nCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIu\nMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBv\nciBhZ3JlZWQgdG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRpc3RyaWJ1\ndGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuDQog\nKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElU\nSU9OUyBPRiBBTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxp\nZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lmaWMgbGFu\nZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucw0K\nICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdlIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWw7DQoNCg0KDQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5jb21t\nb24uYXBwcy5Nb2RSdW50aW1lVGVzdDE7DQoNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEua2VybmVsLk9wZW5KUEFTdGF0ZU1hbmFnZXI7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0YTsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXI7DQoNCnB1YmxpYyBjbGFzcyBUZXN0U3RhdGVNYW5hZ2VySW1w\nbERhdGEgZXh0ZW5kcyBCYXNlS2VybmVsVGVzdCB7DQoNCiAgICBDbGFzc01l\ndGFEYXRhIF9tZXRhOw0KDQogICAgQm9vbGVhbiBfZjE7DQoNCiAgICBCb29s\nZWFuIF9mMzsNCg0KICAgIC8qKg0KICAgICAqIENyZWF0ZXMgYSBuZXcgaW5z\ndGFuY2Ugb2YgVGVzdFN0YXRlTWFuYWdlckltcGxEYXRhDQogICAgICovDQog\nICAgcHVibGljIFRlc3RTdGF0ZU1hbmFnZXJJbXBsRGF0YSgpIHsNCiAgICB9\nDQoNCiAgICBwdWJsaWMgVGVzdFN0YXRlTWFuYWdlckltcGxEYXRhKFN0cmlu\nZyB0ZXN0KSB7DQogICAgICAgIHN1cGVyKHRlc3QpOw0KICAgIH0NCg0KICAg\nIHB1YmxpYyB2b2lkIHNldFVwTWV0YURhdGEoQ2xhc3NNZXRhRGF0YSBtZXRh\nKSB7DQogICAgICAgIF9tZXRhID0gbWV0YTsNCiAgICAgICAgX2YxID0gX21l\ndGEuZ2V0RmllbGQoMSkudXNlc0ltcGxEYXRhKCk7DQogICAgICAgIF9mMyA9\nIF9tZXRhLmdldEZpZWxkKDMpLnVzZXNJbXBsRGF0YSgpOw0KICAgICAgICBf\nbWV0YS5nZXRGaWVsZCgxKS5zZXRVc2VzSW1wbERhdGEoQm9vbGVhbi5UUlVF\nKTsNCiAgICAgICAgX21ldGEuZ2V0RmllbGQoMykuc2V0VXNlc0ltcGxEYXRh\nKG51bGwpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlYXJEb3duTWV0\nYURhdGEoKSB7DQogICAgICAgIF9tZXRhLmdldEZpZWxkKDEpLnNldFVzZXNJ\nbXBsRGF0YShfZjEpOw0KICAgICAgICBfbWV0YS5nZXRGaWVsZCgzKS5zZXRV\nc2VzSW1wbERhdGEoX2YzKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0\nZXN0SW1wbERhdGEoKSB7DQogICAgICAgIE1vZFJ1bnRpbWVUZXN0MSBwYyA9\nIG5ldyBNb2RSdW50aW1lVGVzdDEoKTsNCg0KICAgICAgICBPcGVuSlBBRW50\naXR5TWFuYWdlciBwbSA9IGdldFBNKGZhbHNlLCBmYWxzZSk7DQogICAgICAg\nIHN0YXJ0VHgocG0pOw0KICAgICAgICBwbS5wZXJzaXN0KHBjKTsNCiAgICAg\nICAgT3BlbkpQQVN0YXRlTWFuYWdlciBzbSA9IGdldFN0YXRlTWFuYWdlcihw\nYywgcG0pOw0KICAgICAgICBzZXRVcE1ldGFEYXRhKHNtLmdldE1ldGFEYXRh\nKCkpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gdGVzdCBpbnN0\nYW5jZSBsZXZlbA0KICAgICAgICAgICAgT2JqZWN0IGluc3QgPSBuZXcgT2Jq\nZWN0KCk7DQogICAgICAgICAgICBhc3NlcnROdWxsKHNtLmdldEltcGxEYXRh\nKCkpOw0KICAgICAgICAgICAgYXNzZXJ0TnVsbChzbS5zZXRJbXBsRGF0YShp\nbnN0LCB0cnVlKSk7DQogICAgICAgICAgICBhc3NlcnRFcXVhbHMoaW5zdCwg\nc20uZ2V0SW1wbERhdGEoKSk7DQogICAgICAgICAgICBhc3NlcnRUcnVlKHNt\nLmlzSW1wbERhdGFDYWNoZWFibGUoKSk7DQogICAgICAgICAgICBhc3NlcnRF\ncXVhbHMoaW5zdCwgc20uc2V0SW1wbERhdGEobnVsbCwgZmFsc2UpKTsNCiAg\nICAgICAgICAgIGFzc2VydE51bGwoc20uZ2V0SW1wbERhdGEoKSk7DQogICAg\nICAgICAgICBhc3NlcnRGYWxzZShzbS5pc0ltcGxEYXRhQ2FjaGVhYmxlKCkp\nOw0KICAgICAgICAgICAgc20uc2V0SW1wbERhdGEoaW5zdCwgZmFsc2UpOw0K\nICAgICAgICAgICAgYXNzZXJ0RmFsc2Uoc20uaXNJbXBsRGF0YUNhY2hlYWJs\nZSgpKTsNCg0KICAgICAgICAgICAgLy8gdGVzdCBmaWVsZCBsZXZlbA0KICAg\nICAgICAgICAgT2JqZWN0IGYxID0gbmV3IE9iamVjdCgpOw0KICAgICAgICAg\nICAgT2JqZWN0IGYzID0gbmV3IE9iamVjdCgpOw0KDQogICAgICAgICAgICBh\nc3NlcnROdWxsKHNtLmdldEltcGxEYXRhKDEpKTsNCiAgICAgICAgICAgIGFz\nc2VydEZhbHNlKHNtLmlzSW1wbERhdGFDYWNoZWFibGUoMSkpOw0KICAgICAg\nICAgICAgYXNzZXJ0TnVsbChzbS5zZXRJbXBsRGF0YSgxLCBmMSkpOw0KICAg\nICAgICAgICAgYXNzZXJ0RXF1YWxzKGYxLCBzbS5nZXRJbXBsRGF0YSgxKSk7\nDQogICAgICAgICAgICBhc3NlcnRUcnVlKCFzbS5pc0ltcGxEYXRhQ2FjaGVh\nYmxlKDEpKTsNCiAgICAgICAgICAgIGFzc2VydEVxdWFscyhmMSwgc20uc2V0\nSW1wbERhdGEoMSwgbnVsbCkpOw0KICAgICAgICAgICAgYXNzZXJ0TnVsbChz\nbS5nZXRJbXBsRGF0YSgxKSk7DQogICAgICAgICAgICBhc3NlcnRGYWxzZShz\nbS5pc0ltcGxEYXRhQ2FjaGVhYmxlKDEpKTsNCiAgICAgICAgICAgIHNtLnNl\ndEltcGxEYXRhKDEsIGYxKTsNCg0KICAgICAgICAgICAgYXNzZXJ0TnVsbChz\nbS5zZXRJbXBsRGF0YSgzLCBmMykpOw0KICAgICAgICAgICAgYXNzZXJ0RXF1\nYWxzKGYzLCBzbS5nZXRJbXBsRGF0YSgzKSk7DQogICAgICAgICAgICBhc3Nl\ncnRUcnVlKHNtLmlzSW1wbERhdGFDYWNoZWFibGUoMykpOw0KICAgICAgICAg\nICAgYXNzZXJ0RXF1YWxzKGYxLCBzbS5nZXRJbXBsRGF0YSgxKSk7DQoNCiAg\nICAgICAgICAgIC8vIHRoaXMgc2hvdWxkIGNsZWFyIGZpZWxkIGRhdGENCiAg\nICAgICAgICAgIGVuZFR4KHBtKTsNCg0KICAgICAgICAgICAgYXNzZXJ0RXF1\nYWxzKGluc3QsIHNtLmdldEltcGxEYXRhKCkpOw0KICAgICAgICAgICAgYXNz\nZXJ0TnVsbChzbS5nZXRJbXBsRGF0YSgxKSk7DQogICAgICAgICAgICBhc3Nl\ncnROdWxsKHNtLmdldEltcGxEYXRhKDMpKTsNCg0KICAgICAgICAgICAgZW5k\nRW0ocG0pOw0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgdGVh\nckRvd25NZXRhRGF0YSgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgdGVzdE5vdENsZWFyZWRJZlJldGFpblZhbHVlcygpIHsNCiAg\nICAgICAgZGVsZXRlQWxsKE1vZFJ1bnRpbWVUZXN0MS5jbGFzcyk7DQogICAg\nICAgIG5vdENsZWFyZWRJZlJldGFpblZhbHVlc1Rlc3QodHJ1ZSk7DQogICAg\nICAgIG5vdENsZWFyZWRJZlJldGFpblZhbHVlc1Rlc3QoZmFsc2UpOw0KICAg\nIH0NCg0KICAgIHByaXZhdGUgdm9pZCBub3RDbGVhcmVkSWZSZXRhaW5WYWx1\nZXNUZXN0KGJvb2xlYW4gb3B0aW1pc3RpYykgew0KICAgICAgICBNb2RSdW50\naW1lVGVzdDEgcGMgPSBuZXcgTW9kUnVudGltZVRlc3QxKCJwYyIsIDEpOw0K\nICAgICAgICBpbnQga2V5ID0gMTsNCiAgICAgICAgT2JqZWN0IHZhbHVlID0g\nbmV3IE9iamVjdCgpOw0KDQogICAgICAgIC8vIG1ha2UgaW5zdGFuY2UgcGVy\nc2lzdGVudA0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdl\ndFBNKG9wdGltaXN0aWMsIHRydWUpOw0KICAgICAgICBzdGFydFR4KHBtKTsN\nCiAgICAgICAgcG0ucGVyc2lzdChwYyk7DQogICAgICAgIE9iamVjdCBvaWQg\nPSBwbS5nZXRPYmplY3RJZChwYyk7DQoNCiAgICAgICAgT3BlbkpQQVN0YXRl\nTWFuYWdlciBzbSA9IGdldFN0YXRlTWFuYWdlcihwYywgcG0pOw0KICAgICAg\nICBhc3NlcnROb3ROdWxsKHNtKTsNCiAgICAgICAgc2V0VXBNZXRhRGF0YShz\nbS5nZXRNZXRhRGF0YSgpKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAg\nIC8vIHNldCBpbXBsIGRhdGENCiAgICAgICAgICAgIHNtLnNldEltcGxEYXRh\nKGtleSwgdmFsdWUpOw0KICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKHZhbHVl\nLCBzbS5nZXRJbXBsRGF0YShrZXkpKTsNCiAgICAgICAgICAgIGVuZFR4KHBt\nKTsNCg0KICAgICAgICAgICAgLy8gdGVzdCBpbiBub250cmFuc2FjdGlvbmFs\nIHNldHRpbmcNCiAgICAgICAgICAgIGFzc2VydEVxdWFscyh2YWx1ZSwgc20u\nZ2V0SW1wbERhdGEoa2V5KSk7DQoNCiAgICAgICAgICAgIC8vIHRlc3QgaW4g\nbmV4dCB0cmFuc2FjdGlvbg0KICAgICAgICAgICAgc3RhcnRUeChwbSk7DQog\nICAgICAgICAgICBwYyA9IChNb2RSdW50aW1lVGVzdDEpIHBtLmZpbmQoTW9k\nUnVudGltZVRlc3QxLmNsYXNzLCBvaWQpOw0KICAgICAgICAgICAgc20gPSBn\nZXRTdGF0ZU1hbmFnZXIocGMsIHBtKTsNCiAgICAgICAgICAgIGFzc2VydE5v\ndE51bGwoc20pOw0KICAgICAgICAgICAgaWYgKHBtLmdldE9wdGltaXN0aWMo\nKSkNCiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbHModmFsdWUsIHNtLmdl\ndEltcGxEYXRhKGtleSkpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAg\nICAgICAgIGFzc2VydE51bGwoc20uZ2V0SW1wbERhdGEoa2V5KSk7DQogICAg\nICAgICAgICBlbmRUeChwbSk7DQogICAgICAgICAgICBlbmRFbShwbSk7DQog\nICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICB0ZWFyRG93bk1ldGFE\nYXRhKCk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyB0ZXN0IGluIGFub3Ro\nZXIgcG0gZm9yIGdvb2QgbWVhc3VyZQ0KICAgICAgICBwbSA9IGdldFBNKG9w\ndGltaXN0aWMsIHRydWUpOw0KICAgICAgICBwYyA9IChNb2RSdW50aW1lVGVz\ndDEpIHBtLmZpbmQoTW9kUnVudGltZVRlc3QxLmNsYXNzLCBvaWQpOw0KICAg\nICAgICBzbSA9IGdldFN0YXRlTWFuYWdlcihwYywgcG0pOw0KICAgICAgICBh\nc3NlcnROb3ROdWxsKHNtKTsNCiAgICAgICAgc2V0VXBNZXRhRGF0YShzbS5n\nZXRNZXRhRGF0YSgpKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHNt\nLnNldEltcGxEYXRhKGtleSwgdmFsdWUpOw0KICAgICAgICAgICAgYXNzZXJ0\nRXF1YWxzKHZhbHVlLCBzbS5nZXRJbXBsRGF0YShrZXkpKTsNCg0KICAgICAg\nICAgICAgLy8gdGVzdCBpbiB0cmFuc2FjdGlvbjsgcmUtbG9va3VwIHBjIHRv\nIGJlIHN1cmUgaXQgZW50ZXJzIHRoZSB0cmFucw0KICAgICAgICAgICAgc3Rh\ncnRUeChwbSk7DQogICAgICAgICAgICBwYyA9IChNb2RSdW50aW1lVGVzdDEp\nIHBtLmZpbmQoTW9kUnVudGltZVRlc3QxLmNsYXNzLCBvaWQpOw0KICAgICAg\nICAgICAgaWYgKHBtLmdldE9wdGltaXN0aWMoKSkNCiAgICAgICAgICAgICAg\nICBhc3NlcnRFcXVhbHModmFsdWUsIHNtLmdldEltcGxEYXRhKGtleSkpOw0K\nICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgYXNzZXJ0TnVs\nbChzbS5nZXRJbXBsRGF0YShrZXkpKTsNCiAgICAgICAgICAgICAgICBzbS5z\nZXRJbXBsRGF0YShrZXksIHZhbHVlKTsNCiAgICAgICAgICAgIH0NCiAgICAg\nICAgICAgIGVuZFR4KHBtKTsNCg0KICAgICAgICAgICAgLy8gdGVzdCBvdXRz\naWRlIG9mIHRyYW5zYWN0aW9uDQogICAgICAgICAgICBhc3NlcnRFcXVhbHMo\ndmFsdWUsIHNtLmdldEltcGxEYXRhKGtleSkpOw0KICAgICAgICAgICAgZW5k\nRW0ocG0pOw0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgdGVh\nckRvd25NZXRhRGF0YSgpOw0KICAgICAgICB9DQogICAgfQ0KfQ0K\n","encoding":"base64"}

