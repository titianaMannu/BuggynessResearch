{"sha":"2759b883f238dead554a7ce0c34e9cabf41eb752","node_id":"MDQ6QmxvYjIwNjM2NDoyNzU5Yjg4M2YyMzhkZWFkNTU0YTdjZTBjMzRlOWNhYmY0MWViNzUy","size":4557,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2759b883f238dead554a7ce0c34e9cabf41eb752","content":"LyoNCiAqIFRlc3RTdGF0aWNJbm5lckNsYXNzZXMuamF2YQ0KICoNCiAqIENy\nZWF0ZWQgb24gT2N0b2JlciAxMywgMjAwNiwgNTo0NSBQTQ0KICoNCiAqIFRv\nIGNoYW5nZSB0aGlzIHRlbXBsYXRlLCBjaG9vc2UgVG9vbHMgfCBUZW1wbGF0\nZSBNYW5hZ2VyDQogKiBhbmQgb3BlbiB0aGUgdGVtcGxhdGUgaW4gdGhlIGVk\naXRvci4NCiAqLw0KDQovKg0KICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBT\nb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQ0KICogb3IgbW9y\nZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5P\nVElDRSBmaWxlDQogKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3Ig\nYWRkaXRpb25hbCBpbmZvcm1hdGlvbg0KICogcmVnYXJkaW5nIGNvcHlyaWdo\ndCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQ0KICog\ndG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAg\nKHRoZQ0KICogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmls\nZSBleGNlcHQgaW4gY29tcGxpYW5jZQ0KICogd2l0aCB0aGUgTGljZW5zZS4g\nIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoN\nCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIu\nMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBv\nciBhZ3JlZWQgdG8gaW4gd3JpdGluZywNCiAqIHNvZnR3YXJlIGRpc3RyaWJ1\ndGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuDQog\nKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElU\nSU9OUyBPRiBBTlkNCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxp\nZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQ0KICogc3BlY2lmaWMgbGFu\nZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucw0K\nICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIA0KICovDQpwYWNrYWdlIG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5rZXJuZWw7DQoNCmltcG9ydCBq\nYXZhLnV0aWwuTGlua2VkTGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsN\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHk7DQppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuVGFibGU7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXI7DQoNCnB1\nYmxpYyBjbGFzcyBUZXN0U3RhdGljSW5uZXJDbGFzc2VzIGV4dGVuZHMgQmFz\nZUtlcm5lbFRlc3Qgew0KDQogICAgcHJpdmF0ZSBPYmplY3QgX29pZCA9IG51\nbGw7DQoNCiAgICAvKioNCiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNl\nIG9mIFRlc3RTdGF0aWNJbm5lckNsYXNzZXMNCiAgICAgKi8NCiAgICBwdWJs\naWMgVGVzdFN0YXRpY0lubmVyQ2xhc3NlcygpIHsNCiAgICB9DQoNCiAgICBw\ndWJsaWMgVGVzdFN0YXRpY0lubmVyQ2xhc3NlcyhTdHJpbmcgbmFtZSkgew0K\nICAgICAgICBzdXBlcihuYW1lKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCBzZXRVcCgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0KICAgICAg\nICBJbm5lciBpbm5lciA9IG5ldyBJbm5lcigiZm9vIik7DQogICAgICAgIGlu\nbmVyLmFkZFR3aW4oKTsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIg\ncG0gPSBnZXRQTSgpOw0KICAgICAgICBzdGFydFR4KHBtKTsNCiAgICAgICAg\ncG0ucGVyc2lzdChpbm5lcik7DQogICAgICAgIF9vaWQgPSBwbS5nZXRPYmpl\nY3RJZChpbm5lcik7DQogICAgICAgIGVuZFR4KHBtKTsNCiAgICAgICAgZW5k\nRW0ocG0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRCeUlk\nKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBN\nKCk7DQogICAgICAgIElubmVyIGlubmVyID0gKElubmVyKSBwbS5maW5kKElu\nbmVyLmNsYXNzLCBfb2lkKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChpbm5l\ncik7DQogICAgICAgIGFzc2VydEVxdWFscygiZm9vIiwgaW5uZXIuZ2V0U3Ry\naW5nKCkpOw0KICAgICAgICBlbmRFbShwbSk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgdGVzdEdldEJ5UXVlcnkoKSB7DQovLyAgICAgICAgT3BlbkpQ\nQUVudGl0eU1hbmFnZXIgcG0gPSBnZXRQTSgpOw0KLy8NCi8vICAgICAgICBP\ncGVuSlBBUXVlcnkgcSA9IHBtLmNyZWF0ZU5hdGl2ZVF1ZXJ5KCIiLElubmVy\nLmNsYXNzKTsNCi8vICAgICAgICAvL0ZJWE1FIGp0aG9tYXMNCi8vICAgICAg\nICAvKg0KLy8gICAgICAgIHEuc3NldENhbmRpZGF0ZXMocG0uY3JlYXRlRXh0\nZW50KElubmVyLmNsYXNzLCBmYWxzZSkpOw0KLy8gICAgICAgIHEuZGVjbGFy\nZVZhcmlhYmxlcyhJbm5lci5jbGFzcy5nZXROYW1lKCkgKyAiIGlubmVyOyIp\nOw0KLy8gICAgICAgIHEuc2V0RmlsdGVyKCJ0d2lucy5jb250YWlucyAoaW5u\nZXIpICYmIGlubmVyLnN0cmluZyA9PSBcImZvb1wiIik7DQovLyAgICAgICAg\ncS5zZXRPcmRlcmluZygic3RyaW5nIGFzY2VuZGluZywgbnVtIGRlc2NlbmRp\nbmciKTsNCi8vICAgICAgICBJdGVyYXRvciBpdGVyID0gbnVsbDsNCi8vICAg\nICAgICB0cnkgew0KLy8gICAgICAgICAgICBpdGVyID0gKChDb2xsZWN0aW9u\nKSBxLmV4ZWN1dGUoKSkuaXRlcmF0b3IoKTsNCi8vICAgICAgICB9IGNhdGNo\nIChKRE9FeGNlcHRpb24gamRvZSkgew0KLy8gICAgICAgICAgICBpZiAoamRv\nZS5nZXRNZXNzYWdlKCkuaW5kZXhPZigiaXMgYW1iaWd1b3VzIikgIT0gLTEp\nDQovLyAgICAgICAgICAgICAgICBidWcoQWJzdHJhY3RUZXN0Q2FzZS5QbGF0\nZm9ybS5QT1NUR1JFU1FMLCA3NCwgamRvZSwNCi8vICAgICAgICAgICAgICAg\nICAgICAgICAgIlNvcnRzIGluIFBvc3RncmVTUUwgbWF5IHJlc3VsdCINCi8v\nICAgICAgICAgICAgICAgICAgICAgICAgKyAiaW4gXCJPUkRFUiBCWSAnbXlf\nc29ydF9rZXknIGlzIGFtYmlndW91c1wiIik7DQovLyAgICAgICAgICAgIGVs\nc2UNCi8vICAgICAgICAgICAgICAgIHRocm93IGpkb2U7DQovLyAgICAgICAg\nfQ0KLy8NCi8vICAgICAgICBhc3NlcnROb3ROdWxsKGl0ZXIpOw0KLy8gICAg\nICAgIGFzc2VydFRydWUoaXRlci5oYXNOZXh0KCkpOw0KLy8gICAgICAgIGFz\nc2VydEVxdWFscygiZm9vIiwgKChJbm5lcikgaXRlci5uZXh0KCkpLmdldFN0\ncmluZygpKTsNCi8vICAgICAgICAqLw0KLy8gICAgICAgIGVuZEVtKHBtLCgp\nKTsNCiAgICAgICAgLypPcGVuSlBBRW50aXR5TWFuYWdlciBwbSA9IGdldFBN\nKCk7DQogICAgICAgICAgT3BlbkpQQVF1ZXJ5IHEgPSBwbS5jcmVhdGVRdWVy\neSgiU0VMRUNUIGMgRlJPTSBUZXN0U3RhdGljSW5uZXJDbGFzc2VzLklubmVy\nIGMgV0hFUkUgYy5zdHJpbmcgPSAnZm9vJyBPUkRFUiBCWSBjLnN0cmluZyBB\nU0MiKTsNCiAgICAgICAgICBxLnNldENhbmRpZGF0ZUNvbGxlY3Rpb24oKENv\nbGxlY3Rpb24pcG0uY3JlYXRlRXh0ZW50KFRlc3RTdGF0aWNJbm5lckNsYXNz\nZXMuSW5uZXIuY2xhc3MsIGZhbHNlKSk7DQoNCiAgICAgICAgICB0cnkNCiAg\nICAgICAgICB7DQogICAgICAgICAgICAgIEl0ZXJhdG9yIGl0ZXIgPSAoKENv\nbGxlY3Rpb24pIHEuZ2V0UmVzdWx0TGlzdCgpKS5pdGVyYXRvcigpOw0KICAg\nICAgICAgIH0NCiAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGpkb2UpDQog\nICAgICAgICAgew0KICAgICAgICAgICAgICBpZiAoamRvZS5nZXRNZXNzYWdl\nKCkuaW5kZXhPZigiaXMgYW1iaWd1b3VzIikgIT0gLTEpDQogICAgICAgICAg\nICAgICAgICBidWcoQWJzdHJhY3RUZXN0Q2FzZS5QbGF0Zm9ybS5QT1NUR1JF\nU1FMLCA3NCwgamRvZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIlNv\ncnRzIGluIFBvc3RncmVTUUwgbWF5IHJlc3VsdCINCiAgICAgICAgICAgICAg\nICAgICAgICAgICAgKyAiaW4gXCJPUkRFUiBCWSAnbXlfc29ydF9rZXknIGlz\nIGFtYmlndW91c1wiIik7DQogICAgICAgICAgICAgIGVsc2UNCiAgICAgICAg\nICAgICAgICAgIHRocm93IGpkb2U7DQogICAgICAgICAgfSovDQoNCiAgICB9\nDQoNCiAgICBARW50aXR5DQogICAgQFRhYmxlKG5hbWU9IlN0YXRpY0lubmVy\nIikNCiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIElubmVyIHsNCg0KICAgICAg\nICBwcml2YXRlIGludCBudW0gPSAwOw0KICAgICAgICBwcml2YXRlIFN0cmlu\nZyBzdHJpbmcgPSBudWxsOw0KICAgICAgICBwcml2YXRlIExpc3QgdHdpbnMg\nPSBuZXcgTGlua2VkTGlzdCgpOw0KDQogICAgICAgIHByb3RlY3RlZCBJbm5l\ncigpIHsNCiAgICAgICAgfQ0KDQogICAgICAgIHB1YmxpYyBJbm5lcihTdHJp\nbmcgc3RyaW5nKSB7DQogICAgICAgICAgICB0aGlzLnN0cmluZyA9IHN0cmlu\nZzsNCiAgICAgICAgfQ0KDQogICAgICAgIHB1YmxpYyB2b2lkIGFkZFR3aW4o\nKSB7DQogICAgICAgICAgICB0d2lucy5hZGQobmV3IElubmVyKHN0cmluZykp\nOw0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIFN0cmluZyBnZXRTdHJp\nbmcoKSB7DQogICAgICAgICAgICByZXR1cm4gc3RyaW5nOw0KICAgICAgICB9\nDQogICAgfQ0KfQ0K\n","encoding":"base64"}

