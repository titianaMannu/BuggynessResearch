{"sha":"c518695a893c7c8b045cbcff41627015c17796d8","node_id":"MDQ6QmxvYjIwNjM2NDpjNTE4Njk1YTg5M2M3YzhiMDQ1Y2JjZmY0MTYyNzAxNWMxNzc5NmQ4","size":9436,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c518695a893c7c8b045cbcff41627015c17796d8","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzOw0KDQppbXBvcnQgamF2\nYS5tYXRoLkJpZ0RlY2ltYWw7DQppbXBvcnQgamF2YS5tYXRoLkJpZ0ludGVn\nZXI7DQppbXBvcnQgamF2YS51dGlsLkFycmF5czsNCmltcG9ydCBqYXZhLnV0\naWwuQ2FsZW5kYXI7DQppbXBvcnQgamF2YS51dGlsLkRhdGU7DQppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5Ow0KaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLkdlbmVyYXRlZFZhbHVlOw0KaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLkdlbmVyYXRpb25UeXBlOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNl\nLklkOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlRhYmxlOw0KaW1wb3J0\nIGphdmF4LnBlcnNpc3RlbmNlLlRlbXBvcmFsOw0KaW1wb3J0IGphdmF4LnBl\ncnNpc3RlbmNlLlRlbXBvcmFsVHlwZTsNCg0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5jb21tb24udXRpbHMuQWJzdHJhY3RUZXN0\nQ2FzZTsNCg0KLyoqDQogKiBVc2VkIGluIHRlc3Rpbmc7IHNob3VsZCBiZSBl\nbmhhbmNlZC4NCiAqLw0KQEVudGl0eQ0KQFRhYmxlKG5hbWUgPSAiQUxMX0ZM\nRFRZUEVURVNUIikNCnB1YmxpYyBjbGFzcyBBbGxGaWVsZFR5cGVzVGVzdCB7\nDQoNCiAgICBASWQNCiAgICBAR2VuZXJhdGVkVmFsdWUoc3RyYXRlZ3kgPSBH\nZW5lcmF0aW9uVHlwZS5BVVRPKQ0KICAgIHByaXZhdGUgaW50IGlkOw0KDQog\nICAgcHJpdmF0ZSBpbnQgdGVzdGludDsNCiAgICBwcml2YXRlIGxvbmcgdGVz\ndGxvbmc7DQogICAgcHJpdmF0ZSBzaG9ydCB0ZXN0c2hvcnQ7DQogICAgcHJp\ndmF0ZSBmbG9hdCB0ZXN0ZmxvYXQ7DQogICAgcHJpdmF0ZSBkb3VibGUgdGVz\ndGRvdWJsZTsNCiAgICBwcml2YXRlIGJ5dGUgdGVzdGJ5dGU7DQogICAgcHJp\ndmF0ZSBib29sZWFuIHRlc3Rib29sZWFuOw0KICAgIHByaXZhdGUgY2hhciB0\nZXN0Y2hhcjsNCiAgICBwcml2YXRlIFN0cmluZyB0ZXN0U3RyaW5nOw0KICAg\nIHByaXZhdGUgU3RyaW5nIHRlc3RCaWdTdHJpbmc7DQogICAgQFRlbXBvcmFs\nKFRlbXBvcmFsVHlwZS5EQVRFKQ0KICAgIHByaXZhdGUgRGF0ZSB0ZXN0RGF0\nZTsNCiAgICBAVGVtcG9yYWwoVGVtcG9yYWxUeXBlLkRBVEUpDQogICAgcHJp\ndmF0ZSBDYWxlbmRhciB0ZXN0Q2FsZW5kYXI7DQogICAgcHJpdmF0ZSBPYmpl\nY3QgdGVzdE9iamVjdDsNCiAgICBwcml2YXRlIEJpZ0ludGVnZXIgdGVzdEJp\nZ0ludGVnZXI7DQogICAgcHJpdmF0ZSBCaWdEZWNpbWFsIHRlc3RCaWdEZWNp\nbWFsOw0KDQogICAgcHVibGljIEFsbEZpZWxkVHlwZXNUZXN0KCkgew0KICAg\nICAgICB0ZXN0ZmxvYXQgPSAxZjsNCiAgICAgICAgdGVzdGRvdWJsZSA9IDEu\nMDsNCiAgICB9DQoNCiAgICBwdWJsaWMgRGF0ZSBnZXRUZXN0RGF0ZSgpIHsN\nCiAgICAgICAgcmV0dXJuIHRoaXMudGVzdERhdGU7DQogICAgfQ0KDQogICAg\ncHVibGljIHZvaWQgc2V0VGVzdERhdGUoRGF0ZSB0ZXN0RGF0ZSkgew0KICAg\nICAgICB0aGlzLnRlc3REYXRlID0gdGVzdERhdGU7DQogICAgfQ0KDQogICAg\ncHVibGljIHZvaWQgc2V0VGVzdENhbGVuZGFyKENhbGVuZGFyIHRlc3RDYWxl\nbmRhcikgew0KICAgICAgICB0aGlzLnRlc3RDYWxlbmRhciA9IHRlc3RDYWxl\nbmRhcjsNCiAgICB9DQoNCiAgICBwdWJsaWMgQ2FsZW5kYXIgZ2V0VGVzdENh\nbGVuZGFyKCkgew0KICAgICAgICByZXR1cm4gdGhpcy50ZXN0Q2FsZW5kYXI7\nDQogICAgfQ0KDQogICAgcHVibGljIE9iamVjdCBnZXRUZXN0T2JqZWN0KCkg\new0KICAgICAgICByZXR1cm4gdGhpcy50ZXN0T2JqZWN0Ow0KICAgIH0NCg0K\nICAgIHB1YmxpYyB2b2lkIHNldFRlc3RPYmplY3QoT2JqZWN0IHRlc3RPYmpl\nY3QpIHsNCiAgICAgICAgdGhpcy50ZXN0T2JqZWN0ID0gdGVzdE9iamVjdDsN\nCiAgICB9DQoNCiAgICBwdWJsaWMgY2hhciBnZXRUZXN0Y2hhcigpIHsNCiAg\nICAgICAgcmV0dXJuIHRoaXMudGVzdGNoYXI7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgc2V0VGVzdGNoYXIoY2hhciB0ZXN0Y2hhcikgew0KICAgICAg\nICB0aGlzLnRlc3RjaGFyID0gdGVzdGNoYXI7DQogICAgfQ0KDQogICAgcHVi\nbGljIGludCBnZXRUZXN0aW50KCkgew0KICAgICAgICByZXR1cm4gdGhpcy50\nZXN0aW50Ow0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFRlc3RpbnQo\naW50IHRlc3RpbnQpIHsNCiAgICAgICAgdGhpcy50ZXN0aW50ID0gdGVzdGlu\ndDsNCiAgICB9DQoNCiAgICBwdWJsaWMgc2hvcnQgZ2V0VGVzdHNob3J0KCkg\new0KICAgICAgICByZXR1cm4gdGhpcy50ZXN0c2hvcnQ7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgc2V0VGVzdHNob3J0KHNob3J0IHRlc3RzaG9ydCkg\new0KICAgICAgICB0aGlzLnRlc3RzaG9ydCA9IHRlc3RzaG9ydDsNCiAgICB9\nDQoNCiAgICBwdWJsaWMgbG9uZyBnZXRUZXN0bG9uZygpIHsNCiAgICAgICAg\ncmV0dXJuIHRoaXMudGVzdGxvbmc7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgc2V0VGVzdGxvbmcobG9uZyB0ZXN0bG9uZykgew0KICAgICAgICB0aGlz\nLnRlc3Rsb25nID0gdGVzdGxvbmc7DQogICAgfQ0KDQogICAgcHVibGljIGJv\nb2xlYW4gZ2V0VGVzdGJvb2xlYW4oKSB7DQogICAgICAgIHJldHVybiB0aGlz\nLnRlc3Rib29sZWFuOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFRl\nc3Rib29sZWFuKGJvb2xlYW4gdGVzdGJvb2xlYW4pIHsNCiAgICAgICAgdGhp\ncy50ZXN0Ym9vbGVhbiA9IHRlc3Rib29sZWFuOw0KICAgIH0NCg0KICAgIHB1\nYmxpYyBmbG9hdCBnZXRUZXN0ZmxvYXQoKSB7DQogICAgICAgIHJldHVybiB0\naGlzLnRlc3RmbG9hdDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRU\nZXN0ZmxvYXQoZmxvYXQgdGVzdGZsb2F0KSB7DQogICAgICAgIHRoaXMudGVz\ndGZsb2F0ID0gdGVzdGZsb2F0Ow0KICAgIH0NCg0KICAgIHB1YmxpYyBkb3Vi\nbGUgZ2V0VGVzdGRvdWJsZSgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMudGVz\ndGRvdWJsZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXRUZXN0ZG91\nYmxlKGRvdWJsZSB0ZXN0ZG91YmxlKSB7DQogICAgICAgIHRoaXMudGVzdGRv\ndWJsZSA9IHRlc3Rkb3VibGU7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmlu\nZyBnZXRUZXN0U3RyaW5nKCkgew0KICAgICAgICByZXR1cm4gdGhpcy50ZXN0\nU3RyaW5nOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFRlc3RTdHJp\nbmcoU3RyaW5nIHRlc3RTdHJpbmcpIHsNCiAgICAgICAgdGhpcy50ZXN0U3Ry\naW5nID0gdGVzdFN0cmluZzsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBz\nZXRUZXN0QmlnU3RyaW5nKFN0cmluZyB0ZXN0QmlnU3RyaW5nKSB7DQogICAg\nICAgIHRoaXMudGVzdEJpZ1N0cmluZyA9IHRlc3RCaWdTdHJpbmc7DQogICAg\nfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRUZXN0QmlnU3RyaW5nKCkgew0K\nICAgICAgICByZXR1cm4gdGhpcy50ZXN0QmlnU3RyaW5nOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyBieXRlIGdldFRlc3RieXRlKCkgew0KICAgICAgICByZXR1\ncm4gdGhpcy50ZXN0Ynl0ZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCBz\nZXRUZXN0Ynl0ZShieXRlIHRlc3RieXRlKSB7DQogICAgICAgIHRoaXMudGVz\ndGJ5dGUgPSB0ZXN0Ynl0ZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgQmlnSW50\nZWdlciBnZXRUZXN0QmlnSW50ZWdlcigpIHsNCiAgICAgICAgcmV0dXJuIHRo\naXMudGVzdEJpZ0ludGVnZXI7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQg\nc2V0VGVzdEJpZ0ludGVnZXIoQmlnSW50ZWdlciB0ZXN0QmlnSW50ZWdlcikg\new0KICAgICAgICB0aGlzLnRlc3RCaWdJbnRlZ2VyID0gdGVzdEJpZ0ludGVn\nZXI7DQogICAgfQ0KDQogICAgcHVibGljIEJpZ0RlY2ltYWwgZ2V0VGVzdEJp\nZ0RlY2ltYWwoKSB7DQogICAgICAgIHJldHVybiB0aGlzLnRlc3RCaWdEZWNp\nbWFsOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFRlc3RCaWdEZWNp\nbWFsKEJpZ0RlY2ltYWwgdGVzdEJpZ0RlY2ltYWwpIHsNCiAgICAgICAgdGhp\ncy50ZXN0QmlnRGVjaW1hbCA9IHRlc3RCaWdEZWNpbWFsOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyB2b2lkIHJhbmRvbWl6ZShib29sZWFuIG9iamVjdHMsIGJv\nb2xlYW4gYmxvYnMpIHsNCiAgICAgICAgdGVzdGludCA9IEFic3RyYWN0VGVz\ndENhc2UucmFuZG9tSW50KCkuaW50VmFsdWUoKTsNCiAgICAgICAgdGVzdGxv\nbmcgPSBBYnN0cmFjdFRlc3RDYXNlLnJhbmRvbUxvbmcoKS5sb25nVmFsdWUo\nKTsNCiAgICAgICAgdGVzdHNob3J0ID0gQWJzdHJhY3RUZXN0Q2FzZS5yYW5k\nb21TaG9ydCgpLnNob3J0VmFsdWUoKTsNCiAgICAgICAgdGVzdGZsb2F0ID0g\nQWJzdHJhY3RUZXN0Q2FzZS5yYW5kb21GbG9hdCgpLmZsb2F0VmFsdWUoKTsN\nCiAgICAgICAgdGVzdGRvdWJsZSA9IEFic3RyYWN0VGVzdENhc2UucmFuZG9t\nRG91YmxlKCkuZG91YmxlVmFsdWUoKTsNCiAgICAgICAgdGVzdGJ5dGUgPSBB\nYnN0cmFjdFRlc3RDYXNlLnJhbmRvbUJ5dGUoKS5ieXRlVmFsdWUoKTsNCiAg\nICAgICAgdGVzdGJvb2xlYW4gPSBBYnN0cmFjdFRlc3RDYXNlLnJhbmRvbUJv\nb2xlYW4oKS5ib29sZWFuVmFsdWUoKTsNCiAgICAgICAgdGVzdGNoYXIgPSBB\nYnN0cmFjdFRlc3RDYXNlLnJhbmRvbUNoYXIoKS5jaGFyVmFsdWUoKTsNCg0K\nICAgICAgICBpZiAob2JqZWN0cykgew0KICAgICAgICAgICAgdGVzdFN0cmlu\nZyA9IEFic3RyYWN0VGVzdENhc2UucmFuZG9tU3RyaW5nKCk7DQogICAgICAg\nICAgICB0ZXN0RGF0ZSA9IEFic3RyYWN0VGVzdENhc2UucmFuZG9tRGF0ZSgp\nOw0KDQogICAgICAgICAgICB0ZXN0Q2FsZW5kYXIgPSBDYWxlbmRhci5nZXRJ\nbnN0YW5jZSgpOw0KICAgICAgICAgICAgdGVzdENhbGVuZGFyLnNldFRpbWUo\nQWJzdHJhY3RUZXN0Q2FzZS5yYW5kb21EYXRlKCkpOw0KDQogICAgICAgICAg\nICB0ZXN0QmlnSW50ZWdlciA9IEFic3RyYWN0VGVzdENhc2UucmFuZG9tQmln\nSW50ZWdlcigpOw0KICAgICAgICAgICAgdGVzdEJpZ0RlY2ltYWwgPSBBYnN0\ncmFjdFRlc3RDYXNlLnJhbmRvbUJpZ0RlY2ltYWwoKTsNCiAgICAgICAgfQ0K\nDQogICAgICAgIGlmIChibG9icyAmJiBvYmplY3RzKSB7DQogICAgICAgICAg\nICB0ZXN0T2JqZWN0ID0gQWJzdHJhY3RUZXN0Q2FzZS5yYW5kb21CbG9iKCk7\nDQogICAgICAgICAgICB0ZXN0QmlnU3RyaW5nID0gQWJzdHJhY3RUZXN0Q2Fz\nZS5yYW5kb21DbG9iKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJs\naWMgU3RyaW5nIHRvU3RyaW5nKCkgew0KICAgICAgICByZXR1cm4gIlxueyIN\nCiAgICAgICAgICAgICsgInRlc3RpbnQ9IiArIHRlc3RpbnQgKyAiOyINCiAg\nICAgICAgICAgICsgInRlc3Rsb25nPSIgKyB0ZXN0bG9uZyArICI7Ig0KICAg\nICAgICAgICAgKyAidGVzdHNob3J0PSIgKyB0ZXN0c2hvcnQgKyAiOyINCiAg\nICAgICAgICAgICsgInRlc3RmbG9hdD0iICsgdGVzdGZsb2F0ICsgIjsiDQog\nICAgICAgICAgICArICJ0ZXN0ZG91YmxlPSIgKyB0ZXN0ZG91YmxlICsgIjsi\nDQogICAgICAgICAgICArICJ0ZXN0Ynl0ZT0iICsgdGVzdGJ5dGUgKyAiOyIN\nCiAgICAgICAgICAgICsgInRlc3Rib29sZWFuPSIgKyB0ZXN0Ym9vbGVhbiAr\nICI7Ig0KICAgICAgICAgICAgKyAidGVzdGNoYXI9IiArIHRlc3RjaGFyICsg\nIjsiDQogICAgICAgICAgICArICJ0ZXN0U3RyaW5nPSIgKyB0ZXN0U3RyaW5n\nICsgIjsiDQogICAgICAgICAgICArICJ0ZXN0QmlnU3RyaW5nPSIgKyB0ZXN0\nQmlnU3RyaW5nICsgIjsiDQogICAgICAgICAgICArICJ0ZXN0RGF0ZT0iICsg\ndGVzdERhdGUgKyAiOyINCiAgICAgICAgICAgICsgInRlc3RDYWxlbmRhcj0i\nICsgdGVzdENhbGVuZGFyICsgIjsiDQogICAgICAgICAgICArICJ0ZXN0T2Jq\nZWN0PSIgKyB0ZXN0T2JqZWN0DQogICAgICAgICAgICArICIoIiArICgodGVz\ndE9iamVjdCBpbnN0YW5jZW9mIGJ5dGVbXSkgPw0KICAgICAgICAgICAgIihi\neXRlW10pIiArICgoYnl0ZVtdKSB0ZXN0T2JqZWN0KS5sZW5ndGggKyAiIiA6\nDQogICAgICAgICAgICAodGVzdE9iamVjdCA9PSBudWxsID8gIm51bGwiIDoN\nCiAgICAgICAgICAgICAgICB0ZXN0T2JqZWN0LmdldENsYXNzKCkuZ2V0TmFt\nZSgpKSkgKyAiKSINCiAgICAgICAgICAgICsgIjsiDQogICAgICAgICAgICAr\nICJ0ZXN0QmlnSW50ZWdlcj0iICsgdGVzdEJpZ0ludGVnZXIgKyAiOyINCiAg\nICAgICAgICAgICsgInRlc3RCaWdEZWNpbWFsPSIgKyB0ZXN0QmlnRGVjaW1h\nbCArICI7Ig0KICAgICAgICAgICAgKyAifSI7DQogICAgfQ0KDQogICAgcHVi\nbGljIGludCBoYXNoQ29kZSgpIHsNCiAgICAgICAgcmV0dXJuIChpbnQpICgo\nDQogICAgICAgICAgICB0ZXN0aW50DQogICAgICAgICAgICAgICAgKyB0ZXN0\nbG9uZw0KICAgICAgICAgICAgICAgICsgdGVzdHNob3J0DQogICAgICAgICAg\nICAgICAgKyB0ZXN0ZmxvYXQNCiAgICAgICAgICAgICAgICArIHRlc3Rkb3Vi\nbGUNCiAgICAgICAgICAgICAgICArIHRlc3RieXRlDQogICAgICAgICAgICAg\nICAgKyAodGVzdGJvb2xlYW4gPyAxIDogMCkNCiAgICAgICAgICAgICAgICAr\nIHRlc3RjaGFyDQogICAgICAgICAgICAgICAgKyAodGVzdFN0cmluZyA9PSBu\ndWxsID8gMCA6IHRlc3RTdHJpbmcuaGFzaENvZGUoKSkNCiAgICAgICAgICAg\nICAgICArICh0ZXN0QmlnU3RyaW5nID09IG51bGwgPyAwIDogdGVzdEJpZ1N0\ncmluZy5oYXNoQ29kZSgpKQ0KICAgICAgICAgICAgICAgICsgKHRlc3REYXRl\nID09IG51bGwgPyAwIDogdGVzdERhdGUuaGFzaENvZGUoKSkNCiAgICAgICAg\nICAgICAgICArICh0ZXN0Q2FsZW5kYXIgPT0gbnVsbCA/IDAgOiB0ZXN0Q2Fs\nZW5kYXIuaGFzaENvZGUoKSkNCiAgICAgICAgICAgICAgICArICh0ZXN0T2Jq\nZWN0ID09IG51bGwgPyAwIDogdGVzdE9iamVjdC5oYXNoQ29kZSgpKQ0KICAg\nICAgICAgICAgICAgICsgKHRlc3RCaWdJbnRlZ2VyID09IG51bGwgPyAwIDog\ndGVzdEJpZ0ludGVnZXIuaGFzaENvZGUoKSkNCiAgICAgICAgICAgICAgICAr\nICh0ZXN0QmlnRGVjaW1hbCA9PSBudWxsID8gMCA6IHRlc3RCaWdEZWNpbWFs\nLmhhc2hDb2RlKCkpKSkNCiAgICAgICAgICAgICUgSW50ZWdlci5NQVhfVkFM\nVUU7DQogICAgfQ0KDQogICAgcHVibGljIGJvb2xlYW4gZXF1YWxzKE9iamVj\ndCBvdGhlcikgew0KICAgICAgICBpZiAob3RoZXIgPT0gbnVsbCAmJiAhKG90\naGVyIGluc3RhbmNlb2YgQWxsRmllbGRUeXBlc1Rlc3QpKQ0KICAgICAgICAg\nICAgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgIEFsbEZpZWxkVHlwZXNUZXN0\nIG8gPSAoQWxsRmllbGRUeXBlc1Rlc3QpIG90aGVyOw0KDQogICAgICAgIHJl\ndHVybg0KICAgICAgICAgICAgby50ZXN0aW50ID09IHRlc3RpbnQgJiYNCiAg\nICAgICAgICAgICAgICBvLnRlc3Rsb25nID09IHRlc3Rsb25nICYmDQogICAg\nICAgICAgICAgICAgby50ZXN0c2hvcnQgPT0gdGVzdHNob3J0ICYmDQogICAg\nICAgICAgICAgICAgby50ZXN0ZmxvYXQgPT0gdGVzdGZsb2F0ICYmDQogICAg\nICAgICAgICAgICAgby50ZXN0ZG91YmxlID09IHRlc3Rkb3VibGUgJiYNCiAg\nICAgICAgICAgICAgICBvLnRlc3RieXRlID09IHRlc3RieXRlICYmDQogICAg\nICAgICAgICAgICAgby50ZXN0Ym9vbGVhbiA9PSB0ZXN0Ym9vbGVhbiAmJg0K\nICAgICAgICAgICAgICAgIG8udGVzdGNoYXIgPT0gdGVzdGNoYXIgJiYNCiAg\nICAgICAgICAgICAgICBlcShvLnRlc3RTdHJpbmcsIHRlc3RTdHJpbmcpICYm\nDQogICAgICAgICAgICAgICAgZXEoby50ZXN0QmlnU3RyaW5nLCB0ZXN0Qmln\nU3RyaW5nKSAmJg0KICAgICAgICAgICAgICAgIGVxKG8udGVzdERhdGUsIHRl\nc3REYXRlKSAmJg0KICAgICAgICAgICAgICAgIGVxKG8udGVzdENhbGVuZGFy\nLCB0ZXN0Q2FsZW5kYXIpICYmDQogICAgICAgICAgICAgICAgZXEoby50ZXN0\nT2JqZWN0LCB0ZXN0T2JqZWN0KSAmJg0KICAgICAgICAgICAgICAgIGVxKG8u\ndGVzdEJpZ0ludGVnZXIsIG8udGVzdEJpZ0ludGVnZXIpICYmDQogICAgICAg\nICAgICAgICAgZXEoby50ZXN0QmlnRGVjaW1hbCwgby50ZXN0QmlnRGVjaW1h\nbCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBib29sZWFuIGVxKE9iamVjdCBh\nLCBPYmplY3QgYikgew0KICAgICAgICBpZiAoYSA9PSBiKQ0KICAgICAgICAg\nICAgcmV0dXJuIHRydWU7DQogICAgICAgIGlmIChhID09IG51bGwgJiYgYiAh\nPSBudWxsKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICBp\nZiAoYSAhPSBudWxsICYmIGIgPT0gbnVsbCkNCiAgICAgICAgICAgIHJldHVy\nbiBmYWxzZTsNCg0KICAgICAgICAvLyBPSywgdGhpcyBpcyBzdHVwaWQsIGJ1\ndCB3ZSB3YW50IHRvIHNwZWNpYWwtY2FzZSBibG9icw0KICAgICAgICAvLyB0\naGF5IGFyZSBieXRlIGFycmF5cywgc2luY2UgbmV3IGJ5dGUgW10geyAxLCAy\nfSBkb2VzIG5vdA0KICAgICAgICAvLyBlcXVhbHMgaW5ldyBieXRlIFtdIHsg\nMSwgMn0NCiAgICAgICAgaWYgKGEgaW5zdGFuY2VvZiBieXRlW10gJiYgYiBp\nbnN0YW5jZW9mIGJ5dGVbXSkNCiAgICAgICAgICAgIHJldHVybiBBcnJheXMu\nZXF1YWxzKChieXRlW10pIGEsIChieXRlW10pIGIpOw0KDQogICAgICAgIHJl\ndHVybiBhLmVxdWFscyhiKTsNCiAgICB9DQp9DQoNCg==\n","encoding":"base64"}

