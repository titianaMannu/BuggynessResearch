{"sha":"32a05dc24e209f1c9358640c09dc51cbd107605f","node_id":"MDQ6QmxvYjIwNjM2NDozMmEwNWRjMjRlMjA5ZjFjOTM1ODY0MGMwOWRjNTFjYmQxMDc2MDVm","size":5403,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/32a05dc24e209f1c9358640c09dc51cbd107605f","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzOw0KDQppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuQmFzaWM7DQppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuQ2FzY2FkZVR5cGU7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuQ29s\ndW1uOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eTsNCmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5PbmVUb09uZTsNCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5Qb3N0TG9hZDsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5QcmVQZXJzaXN0Ow0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlByZVJl\nbW92ZTsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5QcmVVcGRhdGU7DQpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuVGFibGU7DQoNCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFn\nZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9w\nZW5KUEFQZXJzaXN0ZW5jZTsNCg0KLyoqDQogKiBVc2VkIGluIHRlc3Rpbmc7\nIHNob3VsZCBiZSBlbmhhbmNlZC4NCiAqLw0KQEVudGl0eQ0KQFRhYmxlKG5h\nbWUgPSAiaWNidCIpDQpwdWJsaWMgY2xhc3MgSW5zdGFuY2VDYWxsYmFja3NU\nZXN0IHsNCg0KICAgIHB1YmxpYyBzdGF0aWMgbG9uZyBwcmVEZWxldGVJbnZv\nY2F0aW9ucyA9IDA7DQogICAgcHVibGljIHN0YXRpYyBsb25nIHBvc3RMb2Fk\nSW52b2NhdGlvbnMgPSAwOw0KICAgIHB1YmxpYyBzdGF0aWMgbG9uZyBwcmVT\ndG9yZUludm9jYXRpb25zID0gMDsNCiAgICBwdWJsaWMgc3RhdGljIGxvbmcg\ncHJlQ2xlYXJJbnZvY2F0aW9ucyA9IDA7DQoNCiAgICBwdWJsaWMgdHJhbnNp\nZW50IGJvb2xlYW4gcG9zdExvYWRDYWxsZWQgPSBmYWxzZTsNCiAgICBwdWJs\naWMgdHJhbnNpZW50IGJvb2xlYW4gcHJlU3RvcmVDYWxsZWQgPSBmYWxzZTsN\nCiAgICBwdWJsaWMgdHJhbnNpZW50IGJvb2xlYW4gcHJlRGVsZXRlQ2FsbGVk\nID0gZmFsc2U7DQogICAgcHVibGljIHRyYW5zaWVudCBib29sZWFuIHByZUNs\nZWFyQ2FsbGVkID0gZmFsc2U7DQoNCiAgICBwdWJsaWMgdHJhbnNpZW50IGlu\ndCBwcmVEZWxldGVDeWNsZSA9IC0xOw0KICAgIHB1YmxpYyB0cmFuc2llbnQg\nYm9vbGVhbiBmbHVzaEluUHJlU3RvcmUgPSBmYWxzZTsNCg0KICAgIC8vIHRo\naXMgc3RyaW5nIHNob3VsZCBuZXZlciBiZSBudWxsIGluIGpkb1Bvc3RMb2Fk\nDQogICAgQENvbHVtbihsZW5ndGggPSAzNSkNCiAgICBwcml2YXRlIFN0cmlu\nZyBub25OdWxsU3RyaW5nID0gbnVsbDsNCg0KICAgIEBDb2x1bW4obGVuZ3Ro\nID0gMzUpDQogICAgcHJpdmF0ZSBTdHJpbmcgc3RyaW5nRmllbGQgPSBudWxs\nOw0KICAgIEBCYXNpYw0KICAgIHByaXZhdGUgaW50IGludEZpZWxkID0gMDsN\nCiAgICBAQmFzaWMNCiAgICBwcml2YXRlIGludCBub25ERkdGaWVsZCA9IDA7\nDQoNCiAgICBAT25lVG9PbmUoY2FzY2FkZSA9IENhc2NhZGVUeXBlLlBFUlNJ\nU1QpDQogICAgcHJpdmF0ZSBSdW50aW1lVGVzdDEgb25lT25lID0gbnVsbDsN\nCg0KICAgIEBPbmVUb09uZShjYXNjYWRlID0gQ2FzY2FkZVR5cGUuUEVSU0lT\nVCkNCiAgICBwcml2YXRlIEluc3RhbmNlQ2FsbGJhY2tzVGVzdCByZWw7DQog\nICAgcHJpdmF0ZSB0cmFuc2llbnQgT2JqZWN0IHJlbElkOw0KDQogICAgcHVi\nbGljIEluc3RhbmNlQ2FsbGJhY2tzVGVzdCgpIHsNCiAgICB9DQoNCiAgICBw\ndWJsaWMgSW5zdGFuY2VDYWxsYmFja3NUZXN0KFN0cmluZyBzdHJpbmdGaWVs\nZCwgaW50IGludEZpZWxkKSB7DQogICAgICAgIHRoaXMuc3RyaW5nRmllbGQg\nPSBzdHJpbmdGaWVsZDsNCiAgICAgICAgdGhpcy5pbnRGaWVsZCA9IGludEZp\nZWxkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldE5vbk51bGxTdHJp\nbmcoU3RyaW5nIHZhbCkgew0KICAgICAgICBub25OdWxsU3RyaW5nID0gdmFs\nOw0KICAgIH0NCg0KICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3RyaW5nRmllbGQo\nKSB7DQogICAgICAgIHJldHVybiB0aGlzLnN0cmluZ0ZpZWxkOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHNldFN0cmluZ0ZpZWxkKFN0cmluZyBzdHJp\nbmdGaWVsZCkgew0KICAgICAgICB0aGlzLnN0cmluZ0ZpZWxkID0gc3RyaW5n\nRmllbGQ7DQogICAgfQ0KDQogICAgcHVibGljIGludCBnZXRJbnRGaWVsZCgp\nIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuaW50RmllbGQ7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgc2V0SW50RmllbGQoaW50IGludEZpZWxkKSB7DQog\nICAgICAgIHRoaXMuaW50RmllbGQgPSBpbnRGaWVsZDsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgaW50IGdldE5vbkRGR0ZpZWxkKCkgew0KICAgICAgICByZXR1\ncm4gdGhpcy5ub25ERkdGaWVsZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCBzZXROb25ERkdGaWVsZChpbnQgbm9uREZHRmllbGQpIHsNCiAgICAgICAg\ndGhpcy5ub25ERkdGaWVsZCA9IG5vbkRGR0ZpZWxkOw0KICAgIH0NCg0KICAg\nIHB1YmxpYyBSdW50aW1lVGVzdDEgZ2V0T25lT25lKCkgew0KICAgICAgICBy\nZXR1cm4gdGhpcy5vbmVPbmU7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQg\nc2V0T25lT25lKFJ1bnRpbWVUZXN0MSBvbmVPbmUpIHsNCiAgICAgICAgdGhp\ncy5vbmVPbmUgPSBvbmVPbmU7DQogICAgfQ0KDQogICAgQFBvc3RMb2FkDQog\nICAgcHVibGljIHZvaWQgamRvUG9zdExvYWQoKSB7DQogICAgICAgIHBvc3RM\nb2FkSW52b2NhdGlvbnMrKzsNCg0KICAgICAgICBwb3N0TG9hZENhbGxlZCA9\nIHRydWU7DQogICAgICAgIGlmIChub25OdWxsU3RyaW5nID09IG51bGwpDQog\nICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCk7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgamRvUHJlQ2xlYXIoKSB7DQog\nICAgICAgIHByZUNsZWFySW52b2NhdGlvbnMrKzsNCg0KICAgICAgICBwcmVD\nbGVhckNhbGxlZCA9IHRydWU7DQogICAgfQ0KDQogICAgQFByZVBlcnNpc3QN\nCiAgICBAUHJlVXBkYXRlDQogICAgcHVibGljIHZvaWQgamRvUHJlU3RvcmUo\nKSB7DQogICAgICAgIHByZVN0b3JlSW52b2NhdGlvbnMrKzsNCg0KICAgICAg\nICBwcmVTdG9yZUNhbGxlZCA9IHRydWU7DQoNCiAgICAgICAgLy8gZW5zdXJl\nIHRoYXQgd2hlbmV2ZXIgdGhpcyBvYmplY3QgaXMgcGVyc2lzdGVkLA0KICAg\nICAgICAvLyBub25OdWxsU3RyaW5nIGlzLCBpbiBmYWN0LCBub3QgbnVsbC4N\nCiAgICAgICAgaWYgKG5vbk51bGxTdHJpbmcgPT0gbnVsbCkNCiAgICAgICAg\nICAgIG5vbk51bGxTdHJpbmcgPSAiKiogdGhpcyBzdHJpbmcgaXMgbm90IG51\nbGwgKioiOw0KDQogICAgICAgIC8vIGFzc2lnbiBuZXcgdmFsdWUgdG8gcmVs\nYXRpb247IHNob3VsZCBnZXQgcGVyc2lzdGVkDQogICAgICAgIGlmICgiYmFy\nIi5lcXVhbHMoc3RyaW5nRmllbGQpKQ0KICAgICAgICAgICAgb25lT25lID0g\nbmV3IFJ1bnRpbWVUZXN0MSgiamRvUHJlU3RvcmUiLA0KICAgICAgICAgICAg\nICAgIChpbnQpIChNYXRoLnJhbmRvbSgpICogSW50ZWdlci5NQVhfVkFMVUUp\nKTsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPSBPcGVuSlBB\nUGVyc2lzdGVuY2UuZ2V0RW50aXR5TWFuYWdlcih0aGlzKTsNCiAgICAgICAg\naWYgKGVtICE9IG51bGwpIHsNCiAgICAgICAgICAgIGlmIChyZWxJZCAhPSBu\ndWxsKSB7DQogICAgICAgICAgICAgICAgSW5zdGFuY2VDYWxsYmFja3NUZXN0\nIHJlbCA9IGVtLmZpbmQoSW5zdGFuY2VDYWxsYmFja3NUZXN0LmNsYXNzLA0K\nICAgICAgICAgICAgICAgICAgICByZWxJZCk7DQogICAgICAgICAgICAgICAg\ncmVsLnNldFJlbCh0aGlzKTsNCiAgICAgICAgICAgICAgICByZWwuc2V0SW50\nRmllbGQoODg4OCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAo\nZmx1c2hJblByZVN0b3JlKQ0KICAgICAgICAgICAgICAgIGVtLmZsdXNoKCk7\nDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAUHJlUmVtb3ZlDQogICAgcHVi\nbGljIHZvaWQgamRvUHJlRGVsZXRlKCkgew0KICAgICAgICBwcmVEZWxldGVJ\nbnZvY2F0aW9ucysrOw0KICAgICAgICBwcmVEZWxldGVDYWxsZWQgPSB0cnVl\nOw0KICAgICAgICBpZiAocHJlRGVsZXRlQ3ljbGUgPj0gMCAmJiBwcmVEZWxl\ndGVDeWNsZSA8IDUpIHsNCiAgICAgICAgICAgIHByZURlbGV0ZUN5Y2xlKys7\nDQogICAgICAgICAgICBPcGVuSlBBUGVyc2lzdGVuY2UuZ2V0RW50aXR5TWFu\nYWdlcih0aGlzKS5yZW1vdmUodGhpcyk7DQogICAgICAgIH0NCiAgICB9DQoN\nCiAgICBwdWJsaWMgSW5zdGFuY2VDYWxsYmFja3NUZXN0IGdldFJlbCgpIHsN\nCiAgICAgICAgcmV0dXJuIHRoaXMucmVsOw0KICAgIH0NCg0KICAgIHB1Ymxp\nYyB2b2lkIHNldFJlbChJbnN0YW5jZUNhbGxiYWNrc1Rlc3QgcmVsKSB7DQog\nICAgICAgIHRoaXMucmVsID0gcmVsOw0KICAgIH0NCg0KICAgIHB1YmxpYyBP\nYmplY3QgZ2V0UmVsSWQoKSB7DQogICAgICAgIHJldHVybiB0aGlzLnJlbElk\nOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFJlbElkKE9iamVjdCBy\nZWxJZCkgew0KICAgICAgICB0aGlzLnJlbElkID0gcmVsSWQ7DQogICAgfQ0K\nfQ0K\n","encoding":"base64"}

