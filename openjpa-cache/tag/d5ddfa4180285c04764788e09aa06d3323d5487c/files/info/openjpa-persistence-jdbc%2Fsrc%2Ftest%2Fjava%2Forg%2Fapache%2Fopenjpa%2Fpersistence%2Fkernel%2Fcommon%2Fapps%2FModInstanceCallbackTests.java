{"sha":"8549a8d59e7850d2fa21c2dc00087ba7f8aa0374","node_id":"MDQ6QmxvYjIwNjM2NDo4NTQ5YThkNTllNzg1MGQyZmEyMWMyZGMwMDA4N2JhN2Y4YWEwMzc0","size":5503,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8549a8d59e7850d2fa21c2dc00087ba7f8aa0374","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzOw0KDQppbXBvcnQgamF2\nYXgucGVyc2lzdGVuY2UuQmFzaWM7DQppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuQ2FzY2FkZVR5cGU7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuQ29s\ndW1uOw0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eTsNCmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5PbmVUb09uZTsNCmltcG9ydCBqYXZheC5w\nZXJzaXN0ZW5jZS5Qb3N0TG9hZDsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5QcmVQZXJzaXN0Ow0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlByZVJl\nbW92ZTsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5QcmVVcGRhdGU7DQpp\nbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuVGFibGU7DQoNCmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFn\nZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLk9w\nZW5KUEFQZXJzaXN0ZW5jZTsNCg0KLyoqDQogKiBVc2VkIGluIHRlc3Rpbmc7\nIHNob3VsZCBiZSBlbmhhbmNlZC4NCiAqLw0KQEVudGl0eQ0KQFRhYmxlKG5h\nbWUgPSAibW9kaWNidCIpDQpwdWJsaWMgY2xhc3MgTW9kSW5zdGFuY2VDYWxs\nYmFja1Rlc3RzIHsNCg0KICAgIHB1YmxpYyBzdGF0aWMgbG9uZyBwcmVEZWxl\ndGVJbnZvY2F0aW9ucyA9IDA7DQogICAgcHVibGljIHN0YXRpYyBsb25nIHBv\nc3RMb2FkSW52b2NhdGlvbnMgPSAwOw0KICAgIHB1YmxpYyBzdGF0aWMgbG9u\nZyBwcmVTdG9yZUludm9jYXRpb25zID0gMDsNCiAgICBwdWJsaWMgc3RhdGlj\nIGxvbmcgcHJlQ2xlYXJJbnZvY2F0aW9ucyA9IDA7DQoNCiAgICBwdWJsaWMg\ndHJhbnNpZW50IGJvb2xlYW4gcG9zdExvYWRDYWxsZWQgPSBmYWxzZTsNCiAg\nICBwdWJsaWMgdHJhbnNpZW50IGJvb2xlYW4gcHJlU3RvcmVDYWxsZWQgPSBm\nYWxzZTsNCiAgICBwdWJsaWMgdHJhbnNpZW50IGJvb2xlYW4gcHJlRGVsZXRl\nQ2FsbGVkID0gZmFsc2U7DQogICAgcHVibGljIHRyYW5zaWVudCBib29sZWFu\nIHByZUNsZWFyQ2FsbGVkID0gZmFsc2U7DQoNCiAgICBwdWJsaWMgdHJhbnNp\nZW50IGludCBwcmVEZWxldGVDeWNsZSA9IC0xOw0KICAgIHB1YmxpYyB0cmFu\nc2llbnQgYm9vbGVhbiBmbHVzaEluUHJlU3RvcmUgPSBmYWxzZTsNCg0KICAg\nIC8vIHRoaXMgc3RyaW5nIHNob3VsZCBuZXZlciBiZSBudWxsIGluIGpkb1Bv\nc3RMb2FkDQogICAgQENvbHVtbihsZW5ndGggPSAzNSkNCiAgICBwcml2YXRl\nIFN0cmluZyBub25OdWxsU3RyaW5nID0gbnVsbDsNCg0KICAgIEBDb2x1bW4o\nbGVuZ3RoID0gMzUpDQogICAgcHJpdmF0ZSBTdHJpbmcgc3RyaW5nRmllbGQg\nPSBudWxsOw0KICAgIEBCYXNpYw0KICAgIHByaXZhdGUgaW50IGludEZpZWxk\nID0gMDsNCiAgICBAQmFzaWMNCiAgICBwcml2YXRlIGludCBub25ERkdGaWVs\nZCA9IDA7DQoNCiAgICBAT25lVG9PbmUoY2FzY2FkZSA9IHsgQ2FzY2FkZVR5\ncGUuUEVSU0lTVCwgQ2FzY2FkZVR5cGUuUkVNT1ZFIH0pDQogICAgcHJpdmF0\nZSBNb2RSdW50aW1lVGVzdDEgb25lT25lID0gbnVsbDsNCg0KICAgIEBPbmVU\nb09uZShjYXNjYWRlID0geyBDYXNjYWRlVHlwZS5QRVJTSVNULCBDYXNjYWRl\nVHlwZS5SRU1PVkUgfSkNCiAgICBwcml2YXRlIE1vZEluc3RhbmNlQ2FsbGJh\nY2tUZXN0cyByZWw7DQogICAgcHJpdmF0ZSB0cmFuc2llbnQgT2JqZWN0IHJl\nbElkOw0KDQogICAgcHVibGljIE1vZEluc3RhbmNlQ2FsbGJhY2tUZXN0cygp\nIHsNCiAgICB9DQoNCiAgICBwdWJsaWMgTW9kSW5zdGFuY2VDYWxsYmFja1Rl\nc3RzKFN0cmluZyBzdHJpbmdGaWVsZCwgaW50IGludEZpZWxkKSB7DQogICAg\nICAgIHRoaXMuc3RyaW5nRmllbGQgPSBzdHJpbmdGaWVsZDsNCiAgICAgICAg\ndGhpcy5pbnRGaWVsZCA9IGludEZpZWxkOw0KICAgIH0NCg0KICAgIHB1Ymxp\nYyB2b2lkIHNldE5vbk51bGxTdHJpbmcoU3RyaW5nIHZhbCkgew0KICAgICAg\nICBub25OdWxsU3RyaW5nID0gdmFsOw0KICAgIH0NCg0KICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0U3RyaW5nRmllbGQoKSB7DQogICAgICAgIHJldHVybiB0aGlz\nLnN0cmluZ0ZpZWxkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFN0\ncmluZ0ZpZWxkKFN0cmluZyBzdHJpbmdGaWVsZCkgew0KICAgICAgICB0aGlz\nLnN0cmluZ0ZpZWxkID0gc3RyaW5nRmllbGQ7DQogICAgfQ0KDQogICAgcHVi\nbGljIGludCBnZXRJbnRGaWVsZCgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMu\naW50RmllbGQ7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0SW50Rmll\nbGQoaW50IGludEZpZWxkKSB7DQogICAgICAgIHRoaXMuaW50RmllbGQgPSBp\nbnRGaWVsZDsNCiAgICB9DQoNCiAgICBwdWJsaWMgaW50IGdldE5vbkRGR0Zp\nZWxkKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5ub25ERkdGaWVsZDsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCBzZXROb25ERkdGaWVsZChpbnQgbm9u\nREZHRmllbGQpIHsNCiAgICAgICAgdGhpcy5ub25ERkdGaWVsZCA9IG5vbkRG\nR0ZpZWxkOw0KICAgIH0NCg0KICAgIHB1YmxpYyBNb2RSdW50aW1lVGVzdDEg\nZ2V0T25lT25lKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5vbmVPbmU7DQog\nICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0T25lT25lKE1vZFJ1bnRpbWVU\nZXN0MSBvbmVPbmUpIHsNCiAgICAgICAgdGhpcy5vbmVPbmUgPSBvbmVPbmU7\nDQogICAgfQ0KDQogICAgQFBvc3RMb2FkDQogICAgcHVibGljIHZvaWQgamRv\nUG9zdExvYWQoKSB7DQogICAgICAgIHBvc3RMb2FkSW52b2NhdGlvbnMrKzsN\nCg0KICAgICAgICBwb3N0TG9hZENhbGxlZCA9IHRydWU7DQogICAgICAgIGlm\nIChub25OdWxsU3RyaW5nID09IG51bGwpDQogICAgICAgICAgICB0aHJvdyBu\nZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCk7DQogICAgfQ0KDQogICAgcHVi\nbGljIHZvaWQgamRvUHJlQ2xlYXIoKSB7DQogICAgICAgIHByZUNsZWFySW52\nb2NhdGlvbnMrKzsNCg0KICAgICAgICBwcmVDbGVhckNhbGxlZCA9IHRydWU7\nDQogICAgfQ0KDQogICAgQFByZVBlcnNpc3QNCiAgICBAUHJlVXBkYXRlDQog\nICAgcHVibGljIHZvaWQgamRvUHJlU3RvcmUoKSB7DQogICAgICAgIHByZVN0\nb3JlSW52b2NhdGlvbnMrKzsNCg0KICAgICAgICBwcmVTdG9yZUNhbGxlZCA9\nIHRydWU7DQoNCiAgICAgICAgLy8gZW5zdXJlIHRoYXQgd2hlbmV2ZXIgdGhp\ncyBvYmplY3QgaXMgcGVyc2lzdGVkLA0KICAgICAgICAvLyBub25OdWxsU3Ry\naW5nIGlzLCBpbiBmYWN0LCBub3QgbnVsbC4NCiAgICAgICAgaWYgKG5vbk51\nbGxTdHJpbmcgPT0gbnVsbCkNCiAgICAgICAgICAgIG5vbk51bGxTdHJpbmcg\nPSAiKiogdGhpcyBzdHJpbmcgaXMgbm90IG51bGwgKioiOw0KDQogICAgICAg\nIC8vIGFzc2lnbiBuZXcgdmFsdWUgdG8gcmVsYXRpb247IHNob3VsZCBnZXQg\ncGVyc2lzdGVkDQogICAgICAgIGlmICgiYmFyIi5lcXVhbHMoc3RyaW5nRmll\nbGQpKQ0KICAgICAgICAgICAgb25lT25lID0gbmV3IE1vZFJ1bnRpbWVUZXN0\nMSgiamRvUHJlU3RvcmUiLCAxMDApOw0KICAgICAgICBpZiAocmVsSWQgIT0g\nbnVsbCkgew0KICAgICAgICAgICAgTW9kSW5zdGFuY2VDYWxsYmFja1Rlc3Rz\nIHJlbCA9IChNb2RJbnN0YW5jZUNhbGxiYWNrVGVzdHMpDQogICAgICAgICAg\nICAgICAgT3BlbkpQQVBlcnNpc3RlbmNlLmdldEVudGl0eU1hbmFnZXIodGhp\ncykNCiAgICAgICAgICAgICAgICAgICAgLmZpbmQoTW9kSW5zdGFuY2VDYWxs\nYmFja1Rlc3RzLmNsYXNzLCByZWxJZCk7DQogICAgICAgICAgICByZWwuc2V0\nUmVsKHRoaXMpOw0KICAgICAgICAgICAgcmVsLnNldEludEZpZWxkKDg4ODgp\nOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGZsdXNoSW5QcmVTdG9yZSkg\new0KICAgICAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgcG0gPSBPcGVu\nSlBBUGVyc2lzdGVuY2UuZ2V0RW50aXR5TWFuYWdlcih0aGlzKTsNCiAgICAg\nICAgICAgIGlmIChwbSAhPSBudWxsKQ0KICAgICAgICAgICAgICAgIHBtLmZs\ndXNoKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBAUHJlUmVtb3ZlDQog\nICAgcHVibGljIHZvaWQgamRvUHJlRGVsZXRlKCkgew0KICAgICAgICBwcmVE\nZWxldGVJbnZvY2F0aW9ucysrOw0KICAgICAgICBwcmVEZWxldGVDYWxsZWQg\nPSB0cnVlOw0KICAgICAgICBpZiAocHJlRGVsZXRlQ3ljbGUgPj0gMCAmJiBw\ncmVEZWxldGVDeWNsZSA8IDUpIHsNCiAgICAgICAgICAgIHByZURlbGV0ZUN5\nY2xlKys7DQogICAgICAgICAgICBPcGVuSlBBUGVyc2lzdGVuY2UuZ2V0RW50\naXR5TWFuYWdlcih0aGlzKS5yZW1vdmUodGhpcyk7DQogICAgICAgIH0NCiAg\nICB9DQoNCiAgICBwdWJsaWMgTW9kSW5zdGFuY2VDYWxsYmFja1Rlc3RzIGdl\ndFJlbCgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMucmVsOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyB2b2lkIHNldFJlbChNb2RJbnN0YW5jZUNhbGxiYWNrVGVz\ndHMgcmVsKSB7DQogICAgICAgIHRoaXMucmVsID0gcmVsOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyBPYmplY3QgZ2V0UmVsSWQoKSB7DQogICAgICAgIHJldHVy\nbiB0aGlzLnJlbElkOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFJl\nbElkKE9iamVjdCByZWxJZCkgew0KICAgICAgICB0aGlzLnJlbElkID0gcmVs\nSWQ7DQogICAgfQ0KfQ==\n","encoding":"base64"}

