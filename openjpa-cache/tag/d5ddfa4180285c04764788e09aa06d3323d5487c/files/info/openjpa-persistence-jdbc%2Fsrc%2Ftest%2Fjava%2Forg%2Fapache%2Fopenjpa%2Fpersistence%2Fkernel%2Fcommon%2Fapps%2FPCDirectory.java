{"sha":"a61f7ddf084500113aba59a2bbe990b0892833fa","node_id":"MDQ6QmxvYjIwNjM2NDphNjFmN2RkZjA4NDUwMDExM2FiYTU5YTJiYmU5OTBiMDg5MjgzM2Zh","size":5362,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/a61f7ddf084500113aba59a2bbe990b0892833fa","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2Uua2VybmVsLmNvbW1vbi5hcHBzOw0KDQppbXBvcnQgamF2\nYS51dGlsLkhhc2hTZXQ7DQppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOw0K\naW1wb3J0IGphdmEudXRpbC5TZXQ7DQppbXBvcnQgamF2YXgucGVyc2lzdGVu\nY2UuQ2FzY2FkZVR5cGU7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuRW50\naXR5Ow0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkZldGNoVHlwZTsNCmlt\ncG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5HZW5lcmF0ZWRWYWx1ZTsNCmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5HZW5lcmF0aW9uVHlwZTsNCmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5JZDsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5NYW55VG9NYW55Ow0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLk1hbnlU\nb09uZTsNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5Db2x1bW47DQoNCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuRmV0Y2hBdHRy\naWJ1dGU7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLkZldGNoR3JvdXA7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLkZldGNoR3JvdXBzOw0KDQovKioNCiAqIEBhdXRob3IgPEEgSFJF\nRj0ibWFpbHRvOnBpbmFraS5wb2RkYXJAZ21haWwuY29tPlBpbmFraSBQb2Rk\nYXI8L0E+DQogKi8NCkBFbnRpdHkNCkBGZXRjaEdyb3Vwcyh7DQpARmV0Y2hH\ncm91cChuYW1lID0gIm5hbWUrcGFyZW50K2dyYW5kcGFyZW50IiwgYXR0cmli\ndXRlcyA9IHsNCkBGZXRjaEF0dHJpYnV0ZShuYW1lID0gIl9uYW1lIiksDQpA\nRmV0Y2hBdHRyaWJ1dGUobmFtZSA9ICJfcGFyZW50IiwgcmVjdXJzaW9uRGVw\ndGggPSAyKQ0KICAgIH0pLA0KQEZldGNoR3JvdXAobmFtZSA9ICJuYW1lK3Bh\ncmVudCtncmFuZHBhcmVudCtncmVhdGdyYW5kcGFyZW50IiwgYXR0cmlidXRl\ncyA9IHsNCkBGZXRjaEF0dHJpYnV0ZShuYW1lID0gIl9uYW1lIiksDQpARmV0\nY2hBdHRyaWJ1dGUobmFtZSA9ICJfcGFyZW50IiwgcmVjdXJzaW9uRGVwdGgg\nPSAzKQ0KICAgIH0pLA0KQEZldGNoR3JvdXAobmFtZSA9ICJuYW1lK3BhcmVu\ndCIsIGF0dHJpYnV0ZXMgPSB7DQpARmV0Y2hBdHRyaWJ1dGUobmFtZSA9ICJf\nbmFtZSIpLA0KQEZldGNoQXR0cmlidXRlKG5hbWUgPSAiX3BhcmVudCIpDQog\nICAgfSksDQpARmV0Y2hHcm91cChuYW1lID0gImFsbHBhcmVudHMiLCBhdHRy\naWJ1dGVzID0gew0KQEZldGNoQXR0cmlidXRlKG5hbWUgPSAiX25hbWUiKSwN\nCkBGZXRjaEF0dHJpYnV0ZShuYW1lID0gIl9wYXJlbnQiLCByZWN1cnNpb25E\nZXB0aCA9IC0xKQ0KICAgIH0pLA0KQEZldGNoR3JvdXAobmFtZSA9ICJuYW1l\nIiwgYXR0cmlidXRlcyA9IEBGZXRjaEF0dHJpYnV0ZShuYW1lID0gIl9uYW1l\nIikpDQogICAgfSkNCnB1YmxpYyBjbGFzcyBQQ0RpcmVjdG9yeSB7DQoNCiAg\nICBASWQNCiAgICBAR2VuZXJhdGVkVmFsdWUoc3RyYXRlZ3kgPSBHZW5lcmF0\naW9uVHlwZS5BVVRPKQ0KICAgIHByaXZhdGUgaW50IGlkOw0KDQogICAgQENv\nbHVtbihuYW1lPSJuYW1lX2NvbCIpDQogICAgcHJpdmF0ZSBTdHJpbmcgX25h\nbWU7DQoNCiAgICBATWFueVRvT25lKGZldGNoID0gRmV0Y2hUeXBlLkxBWlks\nIGNhc2NhZGUgPSBDYXNjYWRlVHlwZS5QRVJTSVNUKQ0KICAgIHByaXZhdGUg\nUENEaXJlY3RvcnkgX3BhcmVudDsNCg0KICAgIEBNYW55VG9NYW55KGNhc2Nh\nZGUgPSBDYXNjYWRlVHlwZS5QRVJTSVNUKQ0KICAgIHByaXZhdGUgU2V0PFBD\nRGlyZWN0b3J5PiBfY2hpbGRyZW47DQoNCiAgICBATWFueVRvTWFueShjYXNj\nYWRlID0gQ2FzY2FkZVR5cGUuUEVSU0lTVCkNCiAgICBwcml2YXRlIFNldDxQ\nQ0ZpbGU+IF9maWxlczsNCg0KICAgIC8qKg0KICAgICAqDQogICAgICovDQog\nICAgcHVibGljIFBDRGlyZWN0b3J5KCkgew0KICAgICAgICBzdXBlcigpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyBQQ0RpcmVjdG9yeShTdHJpbmcgbmFtZSkg\new0KICAgICAgICBzdXBlcigpOw0KICAgICAgICBfbmFtZSA9IG5hbWU7DQog\nICAgfQ0KDQogICAgcHVibGljIGludCBnZXRJZCgpIHsNCiAgICAgICAgcmV0\ndXJuIHRoaXMuaWQ7DQogICAgfQ0KDQogICAgcHVibGljIFN0cmluZyBnZXRO\nYW1lKCkgew0KICAgICAgICByZXR1cm4gX25hbWU7DQogICAgfQ0KDQogICAg\ncHVibGljIFBDRGlyZWN0b3J5IGdldFBhcmVudCgpIHsNCiAgICAgICAgcmV0\ndXJuIF9wYXJlbnQ7DQogICAgfQ0KDQogICAgcHVibGljIFNldCBnZXRDaGls\nZHJlbigpIHsNCiAgICAgICAgcmV0dXJuIF9jaGlsZHJlbjsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgU2V0IGdldEZpbGVzKCkgew0KICAgICAgICByZXR1cm4g\nX2ZpbGVzOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIGFkZChQQ0RpcmVj\ndG9yeSBkaXIpIHsNCiAgICAgICAgaWYgKGRpciA9PSBudWxsKQ0KICAgICAg\nICAgICAgdGhyb3cgbmV3IE51bGxQb2ludGVyRXhjZXB0aW9uKCJudWxsIGRp\ncmVjdG9yeSIpOw0KICAgICAgICBpZiAoZGlyLmdldFBhcmVudCgpICE9IG51\nbGwgJiYgZGlyLmdldFBhcmVudCgpICE9IHRoaXMpDQogICAgICAgICAgICB0\naHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKGRpciArICIgaGFz\nIGEgZGlmZmVyZW50IHBhcmVudCIpOw0KICAgICAgICBpZiAoX2NoaWxkcmVu\nID09IG51bGwpDQogICAgICAgICAgICBfY2hpbGRyZW4gPSBuZXcgSGFzaFNl\ndCgpOw0KICAgICAgICBfY2hpbGRyZW4uYWRkKGRpcik7DQogICAgICAgIGRp\nci5fcGFyZW50ID0gdGhpczsNCiAgICB9DQoNCiAgICBwdWJsaWMgUENGaWxl\nIGFkZChTdHJpbmcgbmFtZSkgew0KICAgICAgICBpZiAobmFtZSA9PSBudWxs\nKQ0KICAgICAgICAgICAgdGhyb3cgbmV3IE51bGxQb2ludGVyRXhjZXB0aW9u\nKCJudWxsIGZpbGUiKTsNCiAgICAgICAgUENGaWxlIGZpbGUgPSBuZXcgUENG\naWxlKHRoaXMsIG5hbWUpOw0KICAgICAgICBpZiAoX2ZpbGVzID09IG51bGwp\nDQogICAgICAgICAgICBfZmlsZXMgPSBuZXcgSGFzaFNldCgpOw0KICAgICAg\nICBpZiAoX2ZpbGVzLmNvbnRhaW5zKGZpbGUpKQ0KICAgICAgICAgICAgdGhy\nb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiZHVwbGljYXRlIGZp\nbGUiICsgZmlsZSk7DQogICAgICAgIF9maWxlcy5hZGQoZmlsZSk7DQogICAg\nICAgIHJldHVybiBmaWxlOw0KICAgIH0NCg0KICAgIHB1YmxpYyBib29sZWFu\nIGlzQ2hpbGQoUENEaXJlY3RvcnkgZGlyLCBib29sZWFuIHJlY3Vyc2UpIHsN\nCiAgICAgICAgaWYgKF9jaGlsZHJlbiA9PSBudWxsKQ0KICAgICAgICAgICAg\ncmV0dXJuIGZhbHNlOw0KDQogICAgICAgIGlmIChfY2hpbGRyZW4uY29udGFp\nbnMoZGlyKSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICBp\nZiAocmVjdXJzZSkgew0KICAgICAgICAgICAgSXRlcmF0b3IgaSA9IF9jaGls\nZHJlbi5pdGVyYXRvcigpOw0KICAgICAgICAgICAgd2hpbGUgKGkuaGFzTmV4\ndCgpKSB7DQogICAgICAgICAgICAgICAgUENEaXJlY3RvcnkgY2hpbGQgPSAo\nUENEaXJlY3RvcnkpIGkubmV4dCgpOw0KICAgICAgICAgICAgICAgIGlmIChj\naGlsZC5pc0NoaWxkKGRpciwgcmVjdXJzZSkpDQogICAgICAgICAgICAgICAg\nICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQog\nICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICBwdWJsaWMgYm9v\nbGVhbiBpc0NoaWxkKFBDRmlsZSBmaWxlLCBib29sZWFuIHJlY3Vyc2UpIHsN\nCiAgICAgICAgaWYgKF9maWxlcyAhPSBudWxsICYmIF9maWxlcy5jb250YWlu\ncyhmaWxlKSkNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KDQogICAgICAg\nIGlmIChfY2hpbGRyZW4gPT0gbnVsbCkNCiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsNCg0KICAgICAgICBpZiAocmVjdXJzZSkgew0KICAgICAgICAgICAg\nSXRlcmF0b3IgaSA9IF9jaGlsZHJlbi5pdGVyYXRvcigpOw0KICAgICAgICAg\nICAgd2hpbGUgKGkuaGFzTmV4dCgpKSB7DQogICAgICAgICAgICAgICAgUENE\naXJlY3RvcnkgY2hpbGQgPSAoUENEaXJlY3RvcnkpIGkubmV4dCgpOw0KICAg\nICAgICAgICAgICAgIGlmIChjaGlsZC5pc0NoaWxkKGZpbGUsIHJlY3Vyc2Up\nKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAg\nICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAg\nfQ0KDQogICAgcHVibGljIHN0YXRpYyBPYmplY3QgcmVmbGVjdChQQ0RpcmVj\ndG9yeSBpbnN0YW5jZSwgU3RyaW5nIG5hbWUpIHsNCiAgICAgICAgaWYgKGlu\nc3RhbmNlID09IG51bGwpDQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAg\nICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVybiBQQ0RpcmVjdG9yeS5j\nbGFzcy5nZXREZWNsYXJlZEZpZWxkKG5hbWUpLmdldChpbnN0YW5jZSk7DQog\nICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0\naHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihlKTsNCiAgICAgICAgfQ0KICAg\nIH0NCn0NCg==\n","encoding":"base64"}

