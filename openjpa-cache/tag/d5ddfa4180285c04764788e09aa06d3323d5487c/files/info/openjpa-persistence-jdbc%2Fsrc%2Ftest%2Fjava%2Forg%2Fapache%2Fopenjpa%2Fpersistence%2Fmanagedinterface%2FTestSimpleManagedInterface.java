{"sha":"da567bb1f5d15e148278d87ccf3357e2e458754e","node_id":"MDQ6QmxvYjIwNjM2NDpkYTU2N2JiMWY1ZDE1ZTE0ODI3OGQ4N2NjZjMzNTdlMmU0NTg3NTRl","size":3571,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/da567bb1f5d15e148278d87ccf3357e2e458754e","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5tYW5hZ2VkaW50ZXJmYWNlOw0KDQppbXBvcnQgamF2YXgucGVy\nc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsNCg0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOw0K\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5KUEFGYWNh\nZGVIZWxwZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyOw0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeS5TaW1wbGVFbnRpdHk7DQppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5BYnN0cmFjdEJyb2tlckZh\nY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NN\nZXRhRGF0YTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5NZXRh\nRGF0YVJlcG9zaXRvcnk7DQoNCnB1YmxpYyBjbGFzcyBUZXN0U2ltcGxlTWFu\nYWdlZEludGVyZmFjZQ0KICAgIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2Ug\new0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7DQogICAgICAgIHNldFVw\nKFNpbXBsZU1hbmFnZWRJbnRlcmZhY2UuY2xhc3MsIFNpbXBsZUVudGl0eS5j\nbGFzcywgQ0xFQVJfVEFCTEVTKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0TWV0YURhdGFSZXBvc2l0b3J5KCkgew0KICAgICAgICBBYnN0cmFj\ndEJyb2tlckZhY3RvcnkgYmYgPQ0KICAgICAgICAgICAgKEFic3RyYWN0QnJv\na2VyRmFjdG9yeSkgSlBBRmFjYWRlSGVscGVyLnRvQnJva2VyRmFjdG9yeShl\nbWYpOw0KICAgICAgICBiZi5tYWtlUmVhZE9ubHkoKTsNCiAgICAgICAgTWV0\nYURhdGFSZXBvc2l0b3J5IHJlcG9zID0gYmYuZ2V0Q29uZmlndXJhdGlvbigp\nDQogICAgICAgICAgICAuZ2V0TWV0YURhdGFSZXBvc2l0b3J5SW5zdGFuY2Uo\nKTsNCiAgICAgICAgQ2xhc3NNZXRhRGF0YSBtZXRhID0gcmVwb3MuZ2V0TWV0\nYURhdGEoU2ltcGxlTWFuYWdlZEludGVyZmFjZS5jbGFzcywNCiAgICAgICAg\nICAgIG51bGwsIGZhbHNlKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChtZXRh\nKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShtZXRhLmlzTWFuYWdlZEludGVyZmFj\nZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKFNpbXBsZU1hbmFnZWRJbnRl\ncmZhY2UuY2xhc3MsIG1ldGEuZ2V0RGVzY3JpYmVkVHlwZSgpKTsNCiAgICB9\nDQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0SW50ZXJmYWNlSW1wbEdlbmVyYXRp\nb24oKSB7DQogICAgICAgICgoQWJzdHJhY3RCcm9rZXJGYWN0b3J5KSBKUEFG\nYWNhZGVIZWxwZXIudG9Ccm9rZXJGYWN0b3J5KGVtZikpDQogICAgICAgICAg\nICAubWFrZVJlYWRPbmx5KCk7DQogICAgICAgIC8vIGxvYWQgbWV0YWRhdGEg\ndG8gdHJpZ2dlciBpbnN0YW5jZSBjcmVhdGlvbg0KICAgICAgICBDbGFzc01l\ndGFEYXRhIG1ldGEgPSBKUEFGYWNhZGVIZWxwZXIuZ2V0TWV0YURhdGEoZW1m\nLA0KICAgICAgICAgICAgU2ltcGxlTWFuYWdlZEludGVyZmFjZS5jbGFzcyk7\nDQogICAgICAgIGFzc2VydEVxdWFscyhTaW1wbGVNYW5hZ2VkSW50ZXJmYWNl\nLmNsYXNzLCBtZXRhLmdldERlc2NyaWJlZFR5cGUoKSk7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgdGVzdEJhc2ljT3BlcmF0aW9ucygpIHsNCiAgICAg\nICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOw0KICAgICAgICBTaW1wbGVNYW5hZ2VkSW50ZXJmYWNlIHBj\nID0NCiAgICAgICAgICAgIGVtLmNyZWF0ZUluc3RhbmNlKFNpbXBsZU1hbmFn\nZWRJbnRlcmZhY2UuY2xhc3MpOw0KICAgICAgICBwYy5zZXRJZCgxNyk7DQog\nICAgICAgIHBjLnNldFN0cmluZygiaGVsbG8hIik7DQogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsNCiAgICAgICAgZW0ucGVyc2lzdChw\nYyk7DQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7DQog\nICAgICAgIGVtLmNsb3NlKCk7DQoNCiAgICAgICAgZW0gPSBlbWYuY3JlYXRl\nRW50aXR5TWFuYWdlcigpOw0KICAgICAgICBwYyA9IGVtLmZpbmQoU2ltcGxl\nTWFuYWdlZEludGVyZmFjZS5jbGFzcywgMTcpOw0KICAgICAgICBhc3NlcnRO\nb3ROdWxsKHBjKTsNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdp\nbigpOw0KICAgICAgICBwYy5zZXRTdHJpbmcoInVwZGF0ZWQiKTsNCiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsNCiAgICAgICAgZW0u\nY2xvc2UoKTsNCg0KICAgICAgICBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5h\nZ2VyKCk7DQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsN\nCiAgICAgICAgZW0ucmVtb3ZlKGVtLmdldFJlZmVyZW5jZShTaW1wbGVNYW5h\nZ2VkSW50ZXJmYWNlLmNsYXNzLCAxNykpOw0KICAgICAgICBlbS5nZXRUcmFu\nc2FjdGlvbigpLmNvbW1pdCgpOw0KICAgICAgICBlbS5jbG9zZSgpOw0KICAg\nIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RKUFFMKCkgew0KICAgICAgICBF\nbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIGVtLmNyZWF0ZVF1ZXJ5KCJzZWxl\nY3QgbyBmcm9tIFNpbXBsZU1hbmFnZWRJbnRlcmZhY2UgbyIpDQogICAgICAg\nICAgICAuZ2V0UmVzdWx0TGlzdCgpLnNpemUoKSk7DQogICAgICAgIGVtLmNs\nb3NlKCk7DQogICAgfQ0KfQ==\n","encoding":"base64"}

