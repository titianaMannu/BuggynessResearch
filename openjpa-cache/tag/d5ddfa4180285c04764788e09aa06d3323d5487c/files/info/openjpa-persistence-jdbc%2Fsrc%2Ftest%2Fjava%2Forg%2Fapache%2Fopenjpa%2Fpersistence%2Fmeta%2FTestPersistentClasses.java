{"sha":"5a5ad547ccda6bed0e9be50674f35b48464df7dc","node_id":"MDQ6QmxvYjIwNjM2NDo1YTVhZDU0N2NjZGE2YmVkMGU5YmU1MDY3NGYzNWI0ODQ2NGRmN2Rj","size":4031,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/5a5ad547ccda6bed0e9be50674f35b48464df7dc","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UubWV0YTsNCg0KaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0\naW9uOw0KaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOw0KaW1wb3J0IGphdmEu\ndXRpbC5NYXA7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UubWV0YS5jb21tb24uYXBwcy5SdW50aW1lVGVzdDE7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLm1ldGEuY29tbW9uLmFw\ncHMuUnVudGltZVRlc3QyOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5w\nZXJzaXN0ZW5jZS5tZXRhLmNvbW1vbi5hcHBzLlJ1bnRpbWVUZXN0MzsNCmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9uLnV0\naWxzLio7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmNvbmYuT3BlbkpQ\nQUNvbmZpZ3VyYXRpb247DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeTsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0\neU1hbmFnZXJGYWN0b3J5U1BJOw0KDQpwdWJsaWMgY2xhc3MgVGVzdFBlcnNp\nc3RlbnRDbGFzc2VzDQogICAgZXh0ZW5kcyBBYnN0cmFjdFRlc3RDYXNlIHsN\nCg0KICAgIHB1YmxpYyBUZXN0UGVyc2lzdGVudENsYXNzZXMoU3RyaW5nIHRl\nc3QpIHsNCiAgICAgICAgc3VwZXIodGVzdCwgIm1ldGFjYWN0dXNhcHAiKTsN\nCiAgICB9DQoNCiAgICBwcml2YXRlIHZvaWQgYXNzZXJ0Q2xhc3MoQ2xhc3Mg\nY2xzLCBPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25mLA0KICAgICAgICBib29s\nZWFuIHNob3VsZEV4aXN0KSB7DQogICAgICAgIGFzc2VydENsYXNzKGNscy5n\nZXROYW1lKCksIGNvbmYsIHNob3VsZEV4aXN0KTsNCiAgICB9DQoNCiAgICBw\ncml2YXRlIHZvaWQgYXNzZXJ0Q2xhc3MoU3RyaW5nIGNsc05hbWUsIE9wZW5K\nUEFDb25maWd1cmF0aW9uIGNvbmYsDQogICAgICAgIGJvb2xlYW4gc2hvdWxk\nRXhpc3QpIHsNCg0KICAgICAgICBDb2xsZWN0aW9uIG5hbWVzID0gY29uZi5n\nZXRNZXRhRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgpLg0KICAgICAgICAgICAg\nZ2V0UGVyc2lzdGVudFR5cGVOYW1lcyhmYWxzZSwgbnVsbCk7DQoNCiAgICAg\nICAgaWYgKHNob3VsZEV4aXN0KQ0KICAgICAgICAgICAgYXNzZXJ0VHJ1ZSgi\nZXhwZWN0ZWQgZWxlbWVudCAiICsgY2xzTmFtZSArICIgd2FzIG5vdCBmb3Vu\nZCBpbiAiDQogICAgICAgICAgICAgICAgKyBuYW1lcywgbmFtZXMuY29udGFp\nbnMoY2xzTmFtZSkpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICBhc3Nl\ncnRUcnVlKCJ1bmV4cGVjdGVkIGVsZW1lbnQgIiArIGNsc05hbWUgKyAiIHdh\ncyBmb3VuZCBpbiAiDQogICAgICAgICAgICAgICAgKyBuYW1lcywgIW5hbWVz\nLmNvbnRhaW5zKGNsc05hbWUpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9p\nZCB0ZXN0Tm9uZUNvbmZpZ3VyZWQoKSB7DQoNCiAgICAgICAgTWFwIG1hcCA9\nIG5ldyBIYXNoTWFwKCk7DQogICAgICAgIG1hcC5wdXQoIm9wZW5qcGEuTWV0\nYURhdGFGYWN0b3J5IiwgImpwYSIpOw0KICAgICAgICBPcGVuSlBBRW50aXR5\nTWFuYWdlckZhY3RvcnkgcG1mID0gZ2V0RW1mKG1hcCk7DQoNCiAgICAgICAg\nYXNzZXJ0TnVsbCgoKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSkg\ncG1mKS5nZXRDb25maWd1cmF0aW9uKCkNCiAgICAgICAgICAgIC5nZXRNZXRh\nRGF0YVJlcG9zaXRvcnlJbnN0YW5jZSgpLg0KDQogICAgICAgICAgICBnZXRQ\nZXJzaXN0ZW50VHlwZU5hbWVzKGZhbHNlLCBudWxsKSk7DQoNCiAgICAgICAg\ncG1mLmNsb3NlKCk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEpQ\nQUNsYXNzcGF0aFNjYW5uZXIoKSB7DQogICAgICAgIE1hcCBtYXAgPSBuZXcg\nSGFzaE1hcCgpOw0KICAgICAgICBtYXAucHV0KCJvcGVuanBhLk1ldGFEYXRh\nRmFjdG9yeSIsICJqcGEoQ2xhc3NwYXRoU2Nhbj1zcmM7amRrMS41LXRlc3Qp\nIik7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeSBwbWYg\nPSBnZXRFbWYobWFwKTsNCg0KICAgICAgICBhc3NlcnRDbGFzcyhSdW50aW1l\nVGVzdDEuY2xhc3MsDQogICAgICAgICAgICAoKE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyRmFjdG9yeVNQSSkgcG1mKS5nZXRDb25maWd1cmF0aW9uKCksIGZhbHNl\nKTsNCg0KICAgICAgICBhc3NlcnRDbGFzcyhSdW50aW1lVGVzdDIuY2xhc3Ms\nDQogICAgICAgICAgICAoKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQ\nSSkgcG1mKS5nZXRDb25maWd1cmF0aW9uKCksIGZhbHNlKTsNCg0KICAgICAg\nICBhc3NlcnRDbGFzcygib3BlbmpwYS5tZXRhLkdlbmVyaWNGaWVsZHMiLA0K\nICAgICAgICAgICAgKChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkp\nIHBtZikuZ2V0Q29uZmlndXJhdGlvbigpLCB0cnVlKTsNCg0KICAgICAgICBw\nbWYuY2xvc2UoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0VHlw\nZXMoKSB7DQoNCiAgICAgICAgTWFwIG1hcCA9IG5ldyBIYXNoTWFwKCk7DQoN\nCiAgICAgICAgbWFwLnB1dCgib3BlbmpwYS5NZXRhRGF0YUZhY3RvcnkiLA0K\nICAgICAgICAgICAgImpwYShUeXBlcz1vcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2Uua2VybmVsLlJ1bnRpbWVUZXN0MTsiICsNCiAgICAgICAgICAg\nICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmtlcm5lbC5S\ndW50aW1lVGVzdDIpIik7DQoNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFn\nZXJGYWN0b3J5IHBtZiA9IGdldEVtZihtYXApOw0KICAgICAgICBhc3NlcnRD\nbGFzcyhSdW50aW1lVGVzdDEuY2xhc3MsDQogICAgICAgICAgICAoKE9wZW5K\nUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSkgcG1mKS5nZXRDb25maWd1cmF0\naW9uKCksIHRydWUpOw0KDQogICAgICAgIGFzc2VydENsYXNzKFJ1bnRpbWVU\nZXN0Mi5jbGFzcywNCiAgICAgICAgICAgICgoT3BlbkpQQUVudGl0eU1hbmFn\nZXJGYWN0b3J5U1BJKSBwbWYpLmdldENvbmZpZ3VyYXRpb24oKSwgdHJ1ZSk7\nDQoNCiAgICAgICAgYXNzZXJ0Q2xhc3MoUnVudGltZVRlc3QzLmNsYXNzLA0K\nICAgICAgICAgICAgKChPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkp\nIHBtZikuZ2V0Q29uZmlndXJhdGlvbigpLCBmYWxzZSk7DQoNCiAgICAgICAg\ncG1mLmNsb3NlKCk7DQogICAgfQ0KfQ0KDQo=\n","encoding":"base64"}

