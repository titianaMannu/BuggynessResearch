{"sha":"988ea3a38e41b34545e9ccfa3910c64830d16ef7","node_id":"MDQ6QmxvYjIwNjM2NDo5ODhlYTNhMzhlNDFiMzQ1NDVlOWNjZmEzOTEwYzY0ODMwZDE2ZWY3","size":11231,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/988ea3a38e41b34545e9ccfa3910c64830d16ef7","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5xdWVyeTsNCg0KaW1wb3J0IGphdmEudXRpbC4qOw0KDQppbXBv\ncnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsNCmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5RdWVyeTsNCg0KaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNVGVzdENhc2U7DQpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnNpbXBsZS5B\nbGxGaWVsZFR5cGVzOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5Bcmd1bWVudEV4Y2VwdGlvbjsNCg0KLyoqDQogKiA8cD5UZXN0\ncyBncm91cGluZyBhbmQgaGF2aW5nIGNhcGFiaWxpdGllcy48L3A+DQogKg0K\nICogQGF1dGhvciBBYmUgV2hpdGUNCiAqLw0KcHVibGljIGFic3RyYWN0IGNs\nYXNzIEdyb3VwaW5nVGVzdENhc2UNCiAgICBleHRlbmRzIFNpbmdsZUVNVGVz\ndENhc2Ugew0KDQogICAgcHJvdGVjdGVkIGFic3RyYWN0IHZvaWQgcHJlcGFy\nZVF1ZXJ5KFF1ZXJ5IHEpOw0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7\nDQogICAgICAgIHN1cGVyLnNldFVwKEFsbEZpZWxkVHlwZXMuY2xhc3MsIENM\nRUFSX1RBQkxFUywNCiAgICAgICAgICAgICJvcGVuanBhLkNvbXBhdGliaWxp\ndHkiLCAiSlBRTD13YXJuIik7DQoNCiAgICAgICAgQWxsRmllbGRUeXBlcyBw\nYzEgPSBuZXcgQWxsRmllbGRUeXBlcygpOw0KICAgICAgICBBbGxGaWVsZFR5\ncGVzIHBjMiA9IG5ldyBBbGxGaWVsZFR5cGVzKCk7DQogICAgICAgIEFsbEZp\nZWxkVHlwZXMgcGMzID0gbmV3IEFsbEZpZWxkVHlwZXMoKTsNCiAgICAgICAg\nQWxsRmllbGRUeXBlcyBwYzQgPSBuZXcgQWxsRmllbGRUeXBlcygpOw0KDQog\nICAgICAgIC8vIHBjMSBhbmQgcGMyLCBwYzMgYW5kIHBjNCBncm91cGVkIG9u\nIGludEZpZWxkLCBzaG9ydEZpZWxkDQogICAgICAgIHBjMS5zZXRJbnRGaWVs\nZCgxKTsNCiAgICAgICAgcGMxLnNldFNob3J0RmllbGQoKHNob3J0KSAtMSk7\nDQogICAgICAgIHBjMi5zZXRJbnRGaWVsZCgxKTsNCiAgICAgICAgcGMyLnNl\ndFNob3J0RmllbGQoKHNob3J0KSAtMSk7DQogICAgICAgIHBjMy5zZXRJbnRG\naWVsZCgyKTsNCiAgICAgICAgcGMzLnNldFNob3J0RmllbGQoKHNob3J0KSAt\nMik7DQogICAgICAgIHBjNC5zZXRJbnRGaWVsZCgyKTsNCiAgICAgICAgcGM0\nLnNldFNob3J0RmllbGQoKHNob3J0KSAtMik7DQoNCiAgICAgICAgLy8gcGMx\nIGFuZCBwYzIgZ3JvdXBlZCBvbiBzdHJpbmdGaWVsZA0KICAgICAgICBwYzEu\nc2V0U3RyaW5nRmllbGQoImFiYyIpOw0KICAgICAgICBwYzIuc2V0U3RyaW5n\nRmllbGQoImFjZCIpOw0KICAgICAgICBwYzMuc2V0U3RyaW5nRmllbGQoImRl\nZiIpOw0KICAgICAgICBwYzQuc2V0U3RyaW5nRmllbGQoImVmZyIpOw0KDQog\nICAgICAgIC8vIHBjMiBhbmQgcGMzIGdyb3VwZWQgb24gYnl0ZUZpZWxkDQog\nICAgICAgIHBjMi5zZXRCeXRlRmllbGQoKGJ5dGUpIDEpOw0KICAgICAgICBw\nYzMuc2V0Qnl0ZUZpZWxkKChieXRlKSAxKTsNCiAgICAgICAgcGMxLnNldEJ5\ndGVGaWVsZCgoYnl0ZSkgMCk7DQogICAgICAgIHBjNC5zZXRCeXRlRmllbGQo\nKGJ5dGUpIDIpOw0KDQogICAgICAgIC8vIGxvbmdGaWVsZCBpcyB1bmlxdWUg\naWQNCiAgICAgICAgcGMxLnNldExvbmdGaWVsZCgxTCk7DQogICAgICAgIHBj\nMi5zZXRMb25nRmllbGQoMkwpOw0KICAgICAgICBwYzMuc2V0TG9uZ0ZpZWxk\nKDNMKTsNCiAgICAgICAgcGM0LnNldExvbmdGaWVsZCg0TCk7DQoNCiAgICAg\nICAgLy8gc2V0IHVwIHNvbWUgcmVsYXRpb25zDQogICAgICAgIHBjMS5zZXRT\nZWxmT25lT25lKHBjNCk7DQogICAgICAgIHBjMi5zZXRTZWxmT25lT25lKHBj\nMyk7DQogICAgICAgIHBjMy5zZXRTZWxmT25lT25lKHBjMik7DQogICAgICAg\nIHBjNC5zZXRTZWxmT25lT25lKHBjMSk7DQoNCiAgICAgICAgLy8gaWYgdmFy\naWFibGUgdGVzdGluZywgc2V0IHVwIHNvbWUgMS1NcyBpbnN0ZWFkIG9mIHRo\nZSAxLTFzIGFib3ZlDQogICAgICAgIGlmIChnZXROYW1lKCkuc3RhcnRzV2l0\naCgidGVzdFZhcmlhYmxlIikpIHsNCiAgICAgICAgICAgIHBjMS5zZXRTZWxm\nT25lT25lKHBjMSk7DQogICAgICAgICAgICBwYzIuc2V0U2VsZk9uZU9uZShw\nYzEpOw0KICAgICAgICAgICAgcGMxLmdldFNlbGZPbmVNYW55KCkuYWRkKHBj\nMSk7DQogICAgICAgICAgICBwYzEuZ2V0U2VsZk9uZU1hbnkoKS5hZGQocGMy\nKTsNCg0KICAgICAgICAgICAgcGMzLnNldFNlbGZPbmVPbmUocGMzKTsNCiAg\nICAgICAgICAgIHBjNC5zZXRTZWxmT25lT25lKHBjMyk7DQogICAgICAgICAg\nICBwYzMuZ2V0U2VsZk9uZU1hbnkoKS5hZGQocGMzKTsNCiAgICAgICAgICAg\nIHBjMy5nZXRTZWxmT25lTWFueSgpLmFkZChwYzQpOw0KICAgICAgICB9DQoN\nCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlN\nYW5hZ2VyKCk7DQogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuYmVnaW4o\nKTsNCiAgICAgICAgZW0ucGVyc2lzdChwYzEpOw0KICAgICAgICBlbS5wZXJz\naXN0KHBjMik7DQogICAgICAgIGVtLnBlcnNpc3QocGMzKTsNCiAgICAgICAg\nZW0ucGVyc2lzdChwYzQpOw0KICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigp\nLmNvbW1pdCgpOw0KICAgICAgICBlbS5jbG9zZSgpOw0KICAgIH0NCg0KICAg\nIHB1YmxpYyB2b2lkIHRlc3RTaW1wbGVHcm91cCgpIHsNCiAgICAgICAgUXVl\ncnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3Qgby5pbnRGaWVsZCBmcm9t\nIEFsbEZpZWxkVHlwZXMgbyAiICsNCiAgICAgICAgICAgICJncm91cCBieSBv\nLmludEZpZWxkIG9yZGVyIGJ5IG8uaW50RmllbGQgYXNjIik7DQogICAgICAg\nIHByZXBhcmVRdWVyeShxKTsNCiAgICAgICAgTGlzdCByZXMgPSBxLmdldFJl\nc3VsdExpc3QoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlcy5zaXpl\nKCkpOw0KICAgICAgICBJdGVyYXRvciBpdHIgPSByZXMuaXRlcmF0b3IoKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBJbnRlZ2VyKDEpLCBpdHIubmV4\ndCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBJbnRlZ2VyKDIpLCBp\ndHIubmV4dCgpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZSghaXRyLmhhc05leHQo\nKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdE9yZGVyQnlBZ2dy\nZWdhdGUoKSB7DQogICAgICAgIC8vIHRoaXMgaXMgYW4gZXh0ZW5zaW9uIG9m\nIEpQUUwNCiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxl\nY3Qgc3VtKG8uc2hvcnRGaWVsZCkgIiArDQogICAgICAgICAgICAiZnJvbSBB\nbGxGaWVsZFR5cGVzIG8iDQogICAgICAgICAgICArICIgZ3JvdXAgYnkgby5p\nbnRGaWVsZCBvcmRlciBieSBzdW0oby5zaG9ydEZpZWxkKSBhc2MiKTsNCiAg\nICAgICAgcHJlcGFyZVF1ZXJ5KHEpOw0KICAgICAgICAvLyB0aGlzIG1pZ2h0\nIGZhaWwgaW4gTXlTUUwNCiAgICAgICAgTGlzdCByZXMgPSBxLmdldFJlc3Vs\ndExpc3QoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlcy5zaXplKCkp\nOw0KICAgICAgICBJdGVyYXRvciBpdHIgPSByZXMuaXRlcmF0b3IoKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBMb25nKC00KSwgaXRyLm5leHQoKSk7\nDQogICAgICAgIGFzc2VydEVxdWFscyhuZXcgTG9uZygtMiksIGl0ci5uZXh0\nKCkpOw0KICAgICAgICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29tcG91bmRHcm91cFNhbWUo\nKSB7DQogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgic2VsZWN0\nIG8uaW50RmllbGQgZnJvbSBBbGxGaWVsZFR5cGVzIG8gIiArDQogICAgICAg\nICAgICAiZ3JvdXAgYnkgby5pbnRGaWVsZCwgby5zaG9ydEZpZWxkIG9yZGVy\nIGJ5IG8uc2hvcnRGaWVsZCBhc2MiKTsNCiAgICAgICAgcHJlcGFyZVF1ZXJ5\nKHEpOw0KICAgICAgICBMaXN0IHJlcyA9IHEuZ2V0UmVzdWx0TGlzdCgpOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoMiwgcmVzLnNpemUoKSk7DQogICAgICAg\nIEl0ZXJhdG9yIGl0ciA9IHJlcy5pdGVyYXRvcigpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMobmV3IEludGVnZXIoMiksIGl0ci5uZXh0KCkpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMobmV3IEludGVnZXIoMSksIGl0ci5uZXh0KCkpOw0K\nICAgICAgICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsNCiAgICB9DQoN\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0Q29tcG91bmRHcm91cERpZmZlcmVudCgp\nIHsNCiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxlY3Qg\nby5pbnRGaWVsZCBmcm9tIEFsbEZpZWxkVHlwZXMgbyAiICsNCiAgICAgICAg\nICAgICJncm91cCBieSBvLmludEZpZWxkLCBvLmJ5dGVGaWVsZCBvcmRlciBi\neSBvLmludEZpZWxkIGFzYyIpOw0KICAgICAgICBwcmVwYXJlUXVlcnkocSk7\nDQogICAgICAgIExpc3QgcmVzID0gcS5nZXRSZXN1bHRMaXN0KCk7DQogICAg\nICAgIGFzc2VydEVxdWFscyg0LCByZXMuc2l6ZSgpKTsNCiAgICAgICAgSXRl\ncmF0b3IgaXRyID0gcmVzLml0ZXJhdG9yKCk7DQogICAgICAgIGFzc2VydEVx\ndWFscyhuZXcgSW50ZWdlcigxKSwgaXRyLm5leHQoKSk7DQogICAgICAgIGFz\nc2VydEVxdWFscyhuZXcgSW50ZWdlcigxKSwgaXRyLm5leHQoKSk7DQogICAg\nICAgIGFzc2VydEVxdWFscyhuZXcgSW50ZWdlcigyKSwgaXRyLm5leHQoKSk7\nDQogICAgICAgIGFzc2VydEVxdWFscyhuZXcgSW50ZWdlcigyKSwgaXRyLm5l\neHQoKSk7DQogICAgICAgIGFzc2VydFRydWUoIWl0ci5oYXNOZXh0KCkpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3REaWZmZXJlbnRHcm91cExl\nbmd0aHMoKSB7DQogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgi\nc2VsZWN0IG8uYnl0ZUZpZWxkIGZyb20gQWxsRmllbGRUeXBlcyBvIg0KICAg\nICAgICAgICAgKyAiIGdyb3VwIGJ5IG8uYnl0ZUZpZWxkIG9yZGVyIGJ5IG8u\nYnl0ZUZpZWxkIGFzYyIpOw0KICAgICAgICBwcmVwYXJlUXVlcnkocSk7DQog\nICAgICAgIExpc3QgcmVzID0gcS5nZXRSZXN1bHRMaXN0KCk7DQogICAgICAg\nIGFzc2VydEVxdWFscygzLCByZXMuc2l6ZSgpKTsNCiAgICAgICAgSXRlcmF0\nb3IgaXRyID0gcmVzLml0ZXJhdG9yKCk7DQogICAgICAgIGFzc2VydEVxdWFs\ncygoYnl0ZSkgMCwgaXRyLm5leHQoKSk7DQogICAgICAgIGFzc2VydEVxdWFs\ncygoYnl0ZSkgMSwgaXRyLm5leHQoKSk7DQogICAgICAgIGFzc2VydEVxdWFs\ncygoYnl0ZSkgMiwgaXRyLm5leHQoKSk7DQogICAgICAgIGFzc2VydFRydWUo\nIWl0ci5oYXNOZXh0KCkpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRl\nc3RHcm91cFJlbGF0aW9uRmllbGQoKSB7DQogICAgICAgIFF1ZXJ5IHEgPSBl\nbS5jcmVhdGVRdWVyeSgic2VsZWN0IG8uc2VsZk9uZU9uZS5pbnRGaWVsZCAi\nICsNCiAgICAgICAgICAgICJmcm9tIEFsbEZpZWxkVHlwZXMgbyBncm91cCBi\neSBvLnNlbGZPbmVPbmUuaW50RmllbGQgIiArDQogICAgICAgICAgICAib3Jk\nZXIgYnkgby5zZWxmT25lT25lLmludEZpZWxkIGFzYyIpOw0KICAgICAgICBw\ncmVwYXJlUXVlcnkocSk7DQogICAgICAgIExpc3QgcmVzID0gcS5nZXRSZXN1\nbHRMaXN0KCk7DQogICAgICAgIGFzc2VydEVxdWFscygyLCByZXMuc2l6ZSgp\nKTsNCiAgICAgICAgSXRlcmF0b3IgaXRyID0gcmVzLml0ZXJhdG9yKCk7DQog\nICAgICAgIGFzc2VydEVxdWFscyhuZXcgSW50ZWdlcigxKSwgaXRyLm5leHQo\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhuZXcgSW50ZWdlcigyKSwgaXRy\nLm5leHQoKSk7DQogICAgICAgIGFzc2VydFRydWUoIWl0ci5oYXNOZXh0KCkp\nOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RTdWJzdHJpbmdJbkdy\nb3VwQnkoKSB7DQogICAgICAgIC8vIHRoaXMgaXMgYW4gZXh0ZW5zaW9uIG9m\nIEpQUUwNCiAgICAgICAgUXVlcnkgcSA9IGVtLmNyZWF0ZVF1ZXJ5KCJzZWxl\nY3Qgc3Vic3RyaW5nKG8uc3RyaW5nRmllbGQsIDEsIDEpLCAiICsNCiAgICAg\nICAgICAgICJjb3VudChvKSBmcm9tIEFsbEZpZWxkVHlwZXMgbyAiICsNCiAg\nICAgICAgICAgICJncm91cCBieSBzdWJzdHJpbmcoby5zdHJpbmdGaWVsZCwg\nMSwgMSkiKTsNCiAgICAgICAgcHJlcGFyZVF1ZXJ5KHEpOw0KICAgICAgICBM\naXN0IHJlcyA9IHEuZ2V0UmVzdWx0TGlzdCgpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMywgcmVzLnNpemUoKSk7DQoNCiAgICAgICAgcSA9IGVtLmNyZWF0\nZVF1ZXJ5KCJzZWxlY3Qgc3Vic3RyaW5nKG8uc3RyaW5nRmllbGQsIDEsIDIp\nLCBjb3VudChvKSAiICsNCiAgICAgICAgICAgICJmcm9tIEFsbEZpZWxkVHlw\nZXMgbyBncm91cCBieSBzdWJzdHJpbmcoby5zdHJpbmdGaWVsZCwgMSwgMiki\nKTsNCiAgICAgICAgcHJlcGFyZVF1ZXJ5KHEpOw0KICAgICAgICByZXMgPSBx\nLmdldFJlc3VsdExpc3QoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDQsIHJl\ncy5zaXplKCkpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RHcm91\ncGVkQWdncmVnYXRlKCkgew0KICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRl\nUXVlcnkoInNlbGVjdCBjb3VudChvKSBmcm9tIEFsbEZpZWxkVHlwZXMgbyAi\nICsNCiAgICAgICAgICAgICJncm91cCBieSBvLmJ5dGVGaWVsZCBvcmRlciBi\neSBvLmJ5dGVGaWVsZCBhc2MiKTsNCiAgICAgICAgcHJlcGFyZVF1ZXJ5KHEp\nOw0KICAgICAgICBMaXN0IHJlcyA9IHEuZ2V0UmVzdWx0TGlzdCgpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoMywgcmVzLnNpemUoKSk7DQogICAgICAgIEl0\nZXJhdG9yIGl0ciA9IHJlcy5pdGVyYXRvcigpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMobmV3IExvbmcoMSksIGl0ci5uZXh0KCkpOw0KICAgICAgICBhc3Nl\ncnRFcXVhbHMobmV3IExvbmcoMiksIGl0ci5uZXh0KCkpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMobmV3IExvbmcoMSksIGl0ci5uZXh0KCkpOw0KICAgICAg\nICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4dCgpKTsNCiAgICB9DQoNCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0R3JvdXBlZFJlbGF0aW9uQWdncmVnYXRlKCkgew0K\nICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRlUXVlcnkoInNlbGVjdCBjb3Vu\ndChvKSwgbWF4KG8uc2VsZk9uZU9uZS5sb25nRmllbGQpIg0KICAgICAgICAg\nICAgKyAiIGZyb20gQWxsRmllbGRUeXBlcyBvIGdyb3VwIGJ5IG8uaW50Rmll\nbGQiDQogICAgICAgICAgICArICIgb3JkZXIgYnkgby5pbnRGaWVsZCBhc2Mi\nKTsNCiAgICAgICAgTGlzdCByZXMgPSBxLmdldFJlc3VsdExpc3QoKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlcy5zaXplKCkpOw0KICAgICAgICBJ\ndGVyYXRvciBpdHIgPSByZXMuaXRlcmF0b3IoKTsNCiAgICAgICAgT2JqZWN0\nW10gbyA9IChPYmplY3RbXSkgaXRyLm5leHQoKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKG5ldyBMb25nKDIpLCBvWzBdKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKG5ldyBMb25nKDQpLCBvWzFdKTsNCiAgICAgICAgbyA9IChPYmplY3Rb\nXSkgaXRyLm5leHQoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBMb25n\nKDIpLCBvWzBdKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBMb25nKDIp\nLCBvWzFdKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZSghaXRyLmhhc05leHQoKSk7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEdyb3VwZWRNaXhlZFBy\nb2plY3Rpb24oKSB7DQogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVy\neSgic2VsZWN0IGNvdW50KG8pLCBvLnNob3J0RmllbGQgIiArDQogICAgICAg\nICAgICAiZnJvbSBBbGxGaWVsZFR5cGVzIG8gZ3JvdXAgYnkgby5pbnRGaWVs\nZCwgby5zaG9ydEZpZWxkICIgKw0KICAgICAgICAgICAgIm9yZGVyIGJ5IG8u\naW50RmllbGQgYXNjIik7DQogICAgICAgIHByZXBhcmVRdWVyeShxKTsNCiAg\nICAgICAgTGlzdCByZXMgPSBxLmdldFJlc3VsdExpc3QoKTsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKDIsIHJlcy5zaXplKCkpOw0KICAgICAgICBJdGVyYXRv\nciBpdHIgPSByZXMuaXRlcmF0b3IoKTsNCiAgICAgICAgT2JqZWN0W10gbyA9\nIChPYmplY3RbXSkgaXRyLm5leHQoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKG5ldyBMb25nKDIpLCBvWzBdKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5l\ndyBTaG9ydCgoc2hvcnQpIC0xKSwgb1sxXSk7DQogICAgICAgIG8gPSAoT2Jq\nZWN0W10pIGl0ci5uZXh0KCk7DQogICAgICAgIGFzc2VydEVxdWFscyhuZXcg\nTG9uZygyKSwgb1swXSk7DQogICAgICAgIGFzc2VydEVxdWFscyhuZXcgU2hv\ncnQoKHNob3J0KSAtMiksIG9bMV0pOw0KICAgICAgICBhc3NlcnRUcnVlKCFp\ndHIuaGFzTmV4dCgpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nU2ltcGxlSGF2aW5nKCkgew0KICAgICAgICBRdWVyeSBxID0gZW0uY3JlYXRl\nUXVlcnkoInNlbGVjdCBvLmludEZpZWxkIGZyb20gQWxsRmllbGRUeXBlcyBv\nICIgKw0KICAgICAgICAgICAgImdyb3VwIGJ5IG8uaW50RmllbGQgaGF2aW5n\nIG8uaW50RmllbGQgPCAyIik7DQogICAgICAgIHByZXBhcmVRdWVyeShxKTsN\nCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBJbnRlZ2VyKDEpLCBxLmdldFNp\nbmdsZVJlc3VsdCgpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nQWdncmVnYXRlSGF2aW5nKCkgew0KICAgICAgICBRdWVyeSBxID0gZW0uY3Jl\nYXRlUXVlcnkoInNlbGVjdCBvLmJ5dGVGaWVsZCBmcm9tIEFsbEZpZWxkVHlw\nZXMgbyAiICsNCiAgICAgICAgICAgICJncm91cCBieSBvLmJ5dGVGaWVsZCBo\nYXZpbmcgY291bnQobykgPiAxIik7DQogICAgICAgIHByZXBhcmVRdWVyeShx\nKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBCeXRlKChieXRlKSAxKSwg\ncS5nZXRTaW5nbGVSZXN1bHQoKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgdGVzdE1peGVkSGF2aW5nKCkgew0KICAgICAgICBRdWVyeSBxID0gZW0u\nY3JlYXRlUXVlcnkoInNlbGVjdCBvLmJ5dGVGaWVsZCBmcm9tIEFsbEZpZWxk\nVHlwZXMgbyAiICsNCiAgICAgICAgICAgICJncm91cCBieSBvLmJ5dGVGaWVs\nZCBoYXZpbmcgY291bnQobykgPiAxIG9yIG8uYnl0ZUZpZWxkID0gMCAiICsN\nCiAgICAgICAgICAgICJvcmRlciBieSBvLmJ5dGVGaWVsZCBhc2MiKTsNCiAg\nICAgICAgcHJlcGFyZVF1ZXJ5KHEpOw0KICAgICAgICBMaXN0IHJlcyA9IHEu\nZ2V0UmVzdWx0TGlzdCgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgcmVz\nLnNpemUoKSk7DQogICAgICAgIEl0ZXJhdG9yIGl0ciA9IHJlcy5pdGVyYXRv\ncigpOw0KICAgICAgICBhc3NlcnRFcXVhbHMobmV3IEJ5dGUoKGJ5dGUpIDAp\nLCBpdHIubmV4dCgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKG5ldyBCeXRl\nKChieXRlKSAxKSwgaXRyLm5leHQoKSk7DQogICAgICAgIGFzc2VydFRydWUo\nIWl0ci5oYXNOZXh0KCkpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRl\nc3RWYXJpYWJsZUdyb3VwKCkgew0KICAgICAgICBRdWVyeSBxID0gZW0uY3Jl\nYXRlUXVlcnkoInNlbGVjdCBtYXgob3RoZXIubG9uZ0ZpZWxkKSAiICsNCiAg\nICAgICAgICAgICJmcm9tIEFsbEZpZWxkVHlwZXMgbywgQWxsRmllbGRUeXBl\ncyBvdGhlciAiICsNCiAgICAgICAgICAgICJ3aGVyZSBvdGhlciBtZW1iZXIg\nb2Ygby5zZWxmT25lTWFueSAiICsNCiAgICAgICAgICAgICJncm91cCBieSBv\ndGhlci5pbnRGaWVsZCBvcmRlciBieSBvdGhlci5pbnRGaWVsZCBhc2MiKTsN\nCiAgICAgICAgcHJlcGFyZVF1ZXJ5KHEpOw0KICAgICAgICBMaXN0IHJlcyA9\nIHEuZ2V0UmVzdWx0TGlzdCgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwg\ncmVzLnNpemUoKSk7DQogICAgICAgIEl0ZXJhdG9yIGl0ciA9IHJlcy5pdGVy\nYXRvcigpOw0KICAgICAgICBhc3NlcnRFcXVhbHMobmV3IExvbmcoMiksIGl0\nci5uZXh0KCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMobmV3IExvbmcoNCks\nIGl0ci5uZXh0KCkpOw0KICAgICAgICBhc3NlcnRUcnVlKCFpdHIuaGFzTmV4\ndCgpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0VmFyaWFibGVI\nYXZpbmcoKSB7DQogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgi\nc2VsZWN0IG1heChvLmxvbmdGaWVsZCksIG90aGVyLmJ5dGVGaWVsZCAiICsN\nCiAgICAgICAgICAgICJmcm9tIEFsbEZpZWxkVHlwZXMgbywgQWxsRmllbGRU\neXBlcyBvdGhlciAiICsNCiAgICAgICAgICAgICJ3aGVyZSBvdGhlciBtZW1i\nZXIgb2Ygby5zZWxmT25lTWFueSAiICsNCiAgICAgICAgICAgICJncm91cCBi\neSBvdGhlci5ieXRlRmllbGQgaGF2aW5nIHN1bShvdGhlci5pbnRGaWVsZCkg\nPSAyIik7DQogICAgICAgIHByZXBhcmVRdWVyeShxKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKG5ldyBMb25nKDMpLCAoKE9iamVjdFtdKXEuZ2V0U2luZ2xl\nUmVzdWx0KCkpWzBdKTsNCiAgICB9DQp9DQo=\n","encoding":"base64"}

