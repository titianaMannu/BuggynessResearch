{"sha":"fd1702470af48f709fa256d1a796bb478c69dc3c","node_id":"MDQ6QmxvYjIwNjM2NDpmZDE3MDI0NzBhZjQ4ZjcwOWZhMjU2ZDFhNzk2YmI0NzhjNjlkYzNj","size":6144,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fd1702470af48f709fa256d1a796bb478c69dc3c","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UucXVlcnk7DQoNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5RdWVyeTsNCg0KDQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLnF1ZXJ5LmNvbW1vbi5hcHBzLkVudGl0eTE7DQppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnF1ZXJ5LmNvbW1vbi5hcHBz\nLlJ1bnRpbWVUZXN0MTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UucXVlcnkuY29tbW9uLmFwcHMuUnVudGltZVRlc3QyOw0KaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50\naXR5TWFuYWdlcjsNCg0KcHVibGljIGNsYXNzIFRlc3RFSkJEZWxldGVVcGRh\ndGVJbXBsIGV4dGVuZHMgQmFzZVF1ZXJ5VGVzdCB7DQoNCiAgICBSdW50aW1l\nVGVzdDEgcnVudDE7DQogICAgUnVudGltZVRlc3QyIHJ1bnQyOw0KICAgIEVu\ndGl0eTEgZW50Ow0KDQogICAgcHVibGljIFRlc3RFSkJEZWxldGVVcGRhdGVJ\nbXBsKFN0cmluZyB0ZXN0KSB7DQogICAgICAgIHN1cGVyKHRlc3QpOw0KICAg\nIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBkZWxl\ndGVBbGwoUnVudGltZVRlc3QxLmNsYXNzKTsNCiAgICAgICAgZGVsZXRlQWxs\nKFJ1bnRpbWVUZXN0Mi5jbGFzcyk7DQogICAgICAgIGRlbGV0ZUFsbChFbnRp\ndHkxLmNsYXNzKTsNCg0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBl\nbSA9DQogICAgICAgICAgICAoT3BlbkpQQUVudGl0eU1hbmFnZXIpIGN1cnJl\nbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgoZW0pOw0KDQog\nICAgICAgIHJ1bnQxID0gbmV3IFJ1bnRpbWVUZXN0MSgxKTsNCiAgICAgICAg\ncnVudDEuc2V0U3RyaW5nRmllbGQoInJ1bnQxIik7DQogICAgICAgIHJ1bnQx\nLnNldFNlbGZPbmVPbmUobmV3IFJ1bnRpbWVUZXN0MSgyKSk7DQogICAgICAg\nIHJ1bnQyID0gbmV3IFJ1bnRpbWVUZXN0MigzKTsNCiAgICAgICAgcnVudDIu\nc2V0U3RyaW5nRmllbGQoInJ1bnQyIik7DQoNCiAgICAgICAgZW50ID0gbmV3\nIEVudGl0eTEoMjMsICJVUERBVEVTVCIsIDEwMCk7DQoNCiAgICAgICAgZW0u\ncGVyc2lzdChydW50MSk7DQogICAgICAgIGVtLnBlcnNpc3QocnVudDIpOw0K\nICAgICAgICBlbS5wZXJzaXN0KGVudCk7DQoNCiAgICAgICAgZW5kVHgoZW0p\nOw0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgdGVzdFVwZGF0ZTEoKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyIGVtID0NCiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikg\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChlbSk7\nDQoNCiAgICAgICAgUnVudGltZVRlc3QxIHJldCA9IGVtLmZpbmQoUnVudGlt\nZVRlc3QxLmNsYXNzLCBlbS5nZXRPYmplY3RJZChydW50MSkpOw0KDQogICAg\nICAgIGFzc2VydE5vdE51bGwocmV0KTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKCJydW50MSIsIHJldC5nZXRTdHJpbmdGaWVsZCgpKTsNCiAgICAgICAgYXNz\nZXJ0Tm90TnVsbChyZXQuZ2V0U2VsZk9uZU9uZSgpKTsNCg0KICAgICAgICBT\ndHJpbmcgZWpicWxVcGRhdGUgPQ0KICAgICAgICAgICAgIlVQREFURSBSdW50\naW1lVGVzdDEgeCBTRVQgeC5zdHJpbmdGaWVsZCA9IDpzdHJuZ2ZsZCBXSEVS\nRSB4LnN0cmluZ0ZpZWxkID0gOnN0ZGZpZWxkIjsNCiAgICAgICAgaW50IHVw\nZGF0ZWRFbnRpdGllcyA9IGVtLmNyZWF0ZVF1ZXJ5KGVqYnFsVXBkYXRlKQ0K\nICAgICAgICAgICAgLnNldFBhcmFtZXRlcigic3RybmdmbGQiLCAicnVubmVy\nMTMiKQ0KICAgICAgICAgICAgLnNldFBhcmFtZXRlcigic3RkZmllbGQiLCAi\ncnVudDEiKQ0KICAgICAgICAgICAgLmV4ZWN1dGVVcGRhdGUoKTsNCg0KICAg\nICAgICBhc3NlcnRFcXVhbHMoMSwgdXBkYXRlZEVudGl0aWVzKTsNCg0KICAg\nICAgICBlbmRUeChlbSk7DQoNCiAgICAgICAgUnVudGltZVRlc3QxIHJldDIg\nPSBlbS5maW5kKFJ1bnRpbWVUZXN0MS5jbGFzcywgZW0uZ2V0T2JqZWN0SWQo\ncnVudDEpKTsNCiAgICAgICAgZW0ucmVmcmVzaChyZXQyKTsNCg0KICAgICAg\nICBhc3NlcnROb3ROdWxsKHJldDIpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\nInJ1bm5lcjEzIiwgcmV0Mi5nZXRTdHJpbmdGaWVsZCgpKTsNCg0KICAgICAg\nICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdFVw\nZGF0ZTIoKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0N\nCiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVudEVu\ndGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChlbSk7DQoNCiAgICAg\nICAgUnVudGltZVRlc3QxIHJ1biA9IGVtLmZpbmQoUnVudGltZVRlc3QxLmNs\nYXNzLCBlbS5nZXRPYmplY3RJZChydW50MSkpOw0KICAgICAgICBhc3NlcnRO\nb3ROdWxsKHJ1bik7DQogICAgICAgIGFzc2VydEVxdWFscygicnVudDEiLCBy\ndW4uZ2V0U3RyaW5nRmllbGQoKSk7DQogICAgICAgIGFzc2VydE5vdE51bGwo\ncnVuLmdldFNlbGZPbmVPbmUoKSk7DQoNCiAgICAgICAgU3RyaW5nIGVqYnFs\nVXBkYXRlID0gIlVQREFURSBSdW50aW1lVGVzdDEgeCAiICsNCiAgICAgICAg\nICAgICJTRVQgeC5zdHJpbmdGaWVsZCA9IDpzdHJuZ2ZsZCAiICsNCiAgICAg\nICAgICAgICJXSEVSRSB4LnN0cmluZ0ZpZWxkID0gOmZpZWxkIjsNCiAgICAg\nICAgaW50IHVwRW50aXRpZXMgPSBlbS5jcmVhdGVRdWVyeShlamJxbFVwZGF0\nZSkNCiAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoInN0cm5nZmxkIiwgInVw\nZCIpDQogICAgICAgICAgICAuc2V0UGFyYW1ldGVyKCJmaWVsZCIsICJydW50\nMSIpDQogICAgICAgICAgICAuZXhlY3V0ZVVwZGF0ZSgpOw0KDQogICAgICAg\nIGFzc2VydEVxdWFscygxLCB1cEVudGl0aWVzKTsNCg0KICAgICAgICBlbmRU\neChlbSk7DQoNCiAgICAgICAgZW0gPSAoT3BlbkpQQUVudGl0eU1hbmFnZXIp\nIGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgoZW0p\nOw0KDQogICAgICAgIFJ1bnRpbWVUZXN0MSBpbnN0ID0gZW0uZmluZChSdW50\naW1lVGVzdDEuY2xhc3MsIGVtLmdldE9iamVjdElkKHJ1bnQxKSk7DQogICAg\nICAgIGVtLnJlZnJlc2goaW5zdCk7DQoNCiAgICAgICAgYXNzZXJ0Tm90TnVs\nbChpbnN0KTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJ1cGQiLCBpbnN0Lmdl\ndFN0cmluZ0ZpZWxkKCkpOw0KDQogICAgICAgIGVuZFR4KGVtKTsNCiAgICAg\nICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RE\nZWxldGUxKCkgew0KICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBlbSA9\nDQogICAgICAgICAgICAoT3BlbkpQQUVudGl0eU1hbmFnZXIpIGN1cnJlbnRF\nbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgoZW0pOw0KDQogICAg\nICAgIFJ1bnRpbWVUZXN0MSBydW4gPSBlbS5maW5kKFJ1bnRpbWVUZXN0MS5j\nbGFzcywgZW0uZ2V0T2JqZWN0SWQocnVudDEpKTsNCiAgICAgICAgYXNzZXJ0\nTm90TnVsbChydW4pOw0KICAgICAgICBhc3NlcnRFcXVhbHMoInJ1bnQxIiwg\ncnVuLmdldFN0cmluZ0ZpZWxkKCkpOw0KICAgICAgICBhc3NlcnROb3ROdWxs\nKHJ1bi5nZXRTZWxmT25lT25lKCkpOw0KDQogICAgICAgIFN0cmluZyBlamJk\nZWxVcGRhdGUgPSAiREVMRVRFICBGUk9NIFJ1bnRpbWVUZXN0MSBzICIgKw0K\nICAgICAgICAgICAgIldIRVJFIHMuc3RyaW5nRmllbGQgPSA6c3RybmdmbGQi\nOw0KICAgICAgICBpbnQgZGVsRW50aXR5ID0gZW0uY3JlYXRlUXVlcnkoZWpi\nZGVsVXBkYXRlKQ0KICAgICAgICAgICAgLnNldFBhcmFtZXRlcigic3Rybmdm\nbGQiLCAicnVudDEiKQ0KICAgICAgICAgICAgLmV4ZWN1dGVVcGRhdGUoKTsN\nCg0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgZGVsRW50aXR5KTsNCg0KICAg\nICAgICBSdW50aW1lVGVzdDEgZGVsID0gZW0uZmluZChSdW50aW1lVGVzdDEu\nY2xhc3MsIGVtLmdldE9iamVjdElkKHJ1bnQxKSk7DQogICAgICAgIGFzc2Vy\ndE51bGwoZGVsKTsNCg0KICAgICAgICBlbmRUeChlbSk7DQogICAgICAgIGVu\nZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGVsZXRl\nMigpIHsNCiAgICAgICAgT3BlbkpQQUVudGl0eU1hbmFnZXIgZW0gPQ0KICAg\nICAgICAgICAgKE9wZW5KUEFFbnRpdHlNYW5hZ2VyKSBjdXJyZW50RW50aXR5\nTWFuYWdlcigpOw0KICAgICAgICBzdGFydFR4KGVtKTsNCg0KICAgICAgICBS\ndW50aW1lVGVzdDEgcnVuID0gZW0uZmluZChSdW50aW1lVGVzdDEuY2xhc3Ms\nIGVtLmdldE9iamVjdElkKHJ1bnQxKSk7DQogICAgICAgIGFzc2VydE5vdE51\nbGwocnVuKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJydW50MSIsIHJ1bi5n\nZXRTdHJpbmdGaWVsZCgpKTsNCiAgICAgICAgYXNzZXJ0Tm90TnVsbChydW4u\nZ2V0U2VsZk9uZU9uZSgpKTsNCg0KICAgICAgICBTdHJpbmcgZWpiZGVsVXBk\nYXRlID0NCiAgICAgICAgICAgICJERUxFVEUgIEZST00gUnVudGltZVRlc3Qx\nIHIgV0hFUkUgci5zdHJpbmdGaWVsZCA9ID8xIjsNCiAgICAgICAgUXVlcnkg\ncXVlcnkgPSBlbS5jcmVhdGVRdWVyeShlamJkZWxVcGRhdGUpOw0KDQogICAg\nICAgIHF1ZXJ5LnNldFBhcmFtZXRlcigxLCAicnVudDEiKTsNCiAgICAgICAg\naW50IG9rID0gcXVlcnkuZXhlY3V0ZVVwZGF0ZSgpOw0KDQogICAgICAgIGFz\nc2VydEVxdWFscygxLCBvayk7DQoNCiAgICAgICAgZW5kVHgoZW0pOw0KICAg\nICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVz\ndFVwZGF0ZTMoKSB7DQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVt\nID0NCiAgICAgICAgICAgIChPcGVuSlBBRW50aXR5TWFuYWdlcikgY3VycmVu\ndEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChlbSk7DQoNCiAg\nICAgICAgRW50aXR5MSBlbnQgPSBlbS5maW5kKEVudGl0eTEuY2xhc3MsIDIz\nKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKGVudCk7DQogICAgICAgIGFz\nc2VydEVxdWFscygiVVBEQVRFU1QiLCBlbnQuZ2V0U3RyaW5nRmllbGQoKSk7\nDQoNCiAgICAgICAgaW50IHVwZCA9IGVtLmNyZWF0ZVF1ZXJ5KA0KICAgICAg\nICAgICAgIlVQREFURSBFbnRpdHkxIGUgU0VUIGUuc3RyaW5nRmllbGQgPSBc\nJ1VQREFURUZBSUxFRFwnIFdIRVJFICIgKw0KICAgICAgICAgICAgICAgICJl\nLnBrID0gMjMiKS5leGVjdXRlVXBkYXRlKCk7DQoNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDEsIHVwZCk7DQoNCiAgICAgICAgZW5kVHgoZW0pOw0KICAgICAg\nICBlbmRFbShlbSk7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

