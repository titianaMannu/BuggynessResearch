{"sha":"1c5fc579579f0e60d135a367257cac5d5bb53cca","node_id":"MDQ6QmxvYjIwNjM2NDoxYzVmYzU3OTU3OWYwZTYwZDEzNWEzNjcyNTdjYWM1ZDViYjUzY2Nh","size":4402,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/1c5fc579579f0e60d135a367257cac5d5bb53cca","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UucXVlcnk7DQoNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsN\nCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KDQoN\nCg0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5xdWVy\neS5jb21tb24uYXBwcy5FbnRpdHkxOw0KaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5wZXJzaXN0ZW5jZS5xdWVyeS5jb21tb24uYXBwcy5FbnRpdHkyOw0K\nDQpwdWJsaWMgY2xhc3MgVGVzdEVKQlF1ZXJ5SW50ZXJmYWNlIGV4dGVuZHMg\nQmFzZVF1ZXJ5VGVzdCB7DQoNCiAgICBwdWJsaWMgVGVzdEVKQlF1ZXJ5SW50\nZXJmYWNlKFN0cmluZyBuYW1lKSB7DQogICAgICAgIHN1cGVyKG5hbWUpOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgew0KICAgICAgICBk\nZWxldGVBbGwoRW50aXR5MS5jbGFzcyk7DQoNCiAgICAgICAgaW50IGluc3RO\ndW0gPSAxMDsNCg0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVu\ndEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChlbSk7DQoNCiAg\nICAgICAgLy9jcmVhdGUgYW5kIHBlcnNpc3QgbXVsdGlwbGUgZW50aXR5MSBp\nbnN0YW5jZXMNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpbnN0TnVt\nOyBpKyspIHsNCiAgICAgICAgICAgIEVudGl0eTEgZW50ID0gbmV3IEVudGl0\neTEoaSwgInN0cmluZyIgKyBpLCBpICsgMik7DQogICAgICAgICAgICBFbnRp\ndHkyIGVudDIgPSBuZXcgRW50aXR5MihpICogMiwgImVudDIiICsgaSwgaSk7\nDQogICAgICAgICAgICBlbnQuc2V0RW50aXR5MkZpZWxkKGVudDIpOw0KICAg\nICAgICAgICAgZW0ucGVyc2lzdChlbnQpOw0KICAgICAgICB9DQoNCiAgICAg\nICAgZW5kVHgoZW0pOw0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQog\nICAgcHVibGljIHZvaWQgdGVzdFJlc3VsdExpc3QoKSB7DQogICAgICAgIEVu\ndGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KICAg\nICAgICBMaXN0IGxpc3QgPSBlbS5jcmVhdGVRdWVyeSgiU2VsZWN0IG9iamVj\ndChvKSBmcm9tIEVudGl0eTEgbyIpDQogICAgICAgICAgICAuZ2V0UmVzdWx0\nTGlzdCgpOw0KDQogICAgICAgIGFzc2VydEVxdWFscygxMCwgbGlzdC5zaXpl\nKCkpOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJs\naWMgdm9pZCB0ZXN0R2V0U2luZ2xlTGlzdCgpIHsNCiAgICAgICAgRW50aXR5\nTWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQoNCiAgICAg\nICAgRW50aXR5MSByZXQgPQ0KICAgICAgICAgICAgKEVudGl0eTEpIGVtLmNy\nZWF0ZVF1ZXJ5KCJTRUxFQ1QgbyBGUk9NIEVudGl0eTEgbyBXSEVSRSBvLnBr\nID0gMiIpDQogICAgICAgICAgICAgICAgLmdldFNpbmdsZVJlc3VsdCgpOw0K\nDQogICAgICAgIGFzc2VydE5vdE51bGwocmV0KTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKCJzdHJpbmcyIiwgcmV0LmdldFN0cmluZ0ZpZWxkKCkpOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoNCwgcmV0LmdldEludEZpZWxkKCkpOw0KDQog\nICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0\nZXN0RXhlY3V0ZVVwZGF0ZSgpIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIHN0YXJ0VHgo\nZW0pOw0KICAgICAgICBpbnQgcmV0ID0gZW0uY3JlYXRlUXVlcnkoIkRFTEVU\nRSBGUk9NIEVudGl0eTEgbyBXSEVSRSBvLnBrID0gMiIpDQogICAgICAgICAg\nICAuZXhlY3V0ZVVwZGF0ZSgpOw0KDQogICAgICAgIGFzc2VydEVxdWFscyhy\nZXQsIDEpOw0KDQogICAgICAgIGludCByZXQyID0gZW0uY3JlYXRlUXVlcnko\nIkRFTEVURSBGUk9NIEVudGl0eTEgbyBXSEVSRSBvLnBrID0gMjIiKQ0KICAg\nICAgICAgICAgLmV4ZWN1dGVVcGRhdGUoKTsNCg0KICAgICAgICBhc3NlcnRF\ncXVhbHMocmV0MiwgMCk7DQoNCiAgICAgICAgZW5kVHgoZW0pOw0KICAgICAg\nICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdFNl\ndE1heFJlc3VsdHMoKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBj\ndXJyZW50RW50aXR5TWFuYWdlcigpOw0KDQogICAgICAgIExpc3QgbCA9IGVt\nLmNyZWF0ZVF1ZXJ5KCJTZWxlY3Qgb2JqZWN0KG8pIGZyb20gRW50aXR5MSBv\nIikNCiAgICAgICAgICAgIC5zZXRNYXhSZXN1bHRzKDUpDQogICAgICAgICAg\nICAuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwo\nbCk7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBsLnNpemUoKSk7DQoNCiAg\nICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRl\nc3RTZXRGaXJzdFJlc3VsdHMoKSB7DQogICAgICAgIEVudGl0eU1hbmFnZXIg\nZW0gPSBjdXJyZW50RW50aXR5TWFuYWdlcigpOw0KDQogICAgICAgIExpc3Qg\nbCA9IGVtLmNyZWF0ZVF1ZXJ5KCJTZWxlY3Qgb2JqZWN0KG8pIGZyb20gRW50\naXR5MSBvIG9yZGVyIGJ5IG8ucGsiKQ0KICAgICAgICAgICAgLnNldEZpcnN0\nUmVzdWx0KDMpDQogICAgICAgICAgICAuZ2V0UmVzdWx0TGlzdCgpOw0KDQog\nICAgICAgIEVudGl0eTEgZW50ID0gKEVudGl0eTEpIGwuZ2V0KDApOw0KDQog\nICAgICAgIGFzc2VydE5vdE51bGwoZW50KTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKCJzdHJpbmczIiwgZW50LmdldFN0cmluZ0ZpZWxkKCkpOw0KICAgICAg\nICBhc3NlcnRFcXVhbHMoNSwgZW50LmdldEludEZpZWxkKCkpOw0KDQogICAg\nICAgIGVuZEVtKGVtKTsNCiAgICB9DQoNCiAgICAvLyBUZXN0cyBCaW5kaW5n\nIGFuIGFyZ3VtZW50IHRvIGEgbmFtZWQgcGFyYW1ldGVyLg0KICAgIC8vIHBr\nLCB0aGUgbmFtZWQgcGFyYW1ldGVyIC0tTm90IHdvcmtpbmcgeWV0LS0NCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0U2V0UGFyYW1ldGVyMSgpIHsNCiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQog\nICAgICAgIHN0YXJ0VHgoZW0pOw0KDQogICAgICAgIExpc3QgcmV0ID0NCiAg\nICAgICAgICAgIGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgbyBGUk9NIEVudGl0\neTEgbyBXSEVSRSBvLnN0cmluZ0ZpZWxkID0gOmZsZCIpDQogICAgICAgICAg\nICAgICAgLnNldFBhcmFtZXRlcigiZmxkIiwgInN0cmluZzEiKQ0KICAgICAg\nICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7DQoNCiAgICAgICAgYXNzZXJ0\nTm90TnVsbChyZXQpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgcmV0LnNp\nemUoKSk7DQoNCiAgICAgICAgcmV0ID0gZW0uY3JlYXRlTmFtZWRRdWVyeSgi\nc2V0UGFyYW0xIikNCiAgICAgICAgICAgIC5zZXRQYXJhbWV0ZXIoImZsZCIs\nICJzdHJpbmcxIikNCiAgICAgICAgICAgIC5nZXRSZXN1bHRMaXN0KCk7DQoN\nCiAgICAgICAgYXNzZXJ0Tm90TnVsbChyZXQpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMSwgcmV0LnNpemUoKSk7DQoNCiAgICAgICAgZW5kVHgoZW0pOw0K\nICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgLy9yZXN0IG9mIHRo\nZSBpbnRlcmZhY2UgaXMgdGVzdGVkIGJ5IHRoZSBDVFMNCn0NCg==\n","encoding":"base64"}

