{"sha":"ee68659c01aa92dac81d195abb22096aaf5acfe7","node_id":"MDQ6QmxvYjIwNjM2NDplZTY4NjU5YzAxYWE5MmRhYzgxZDE5NWFiYjIyMDk2YWFmNWFjZmU3","size":3516,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ee68659c01aa92dac81d195abb22096aaf5acfe7","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZheC5wZXJzaXN0\nZW5jZS5FbnRpdHlNYW5hZ2VyOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nUXVlcnk7CgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMuY29uZi5K\nREJDQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5EQkRpY3Rpb25hcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zcWwuRGVyYnlEaWN0aW9uYXJ5OwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU1FMTGlzdGVuZXJUZXN0Q2Fz\nZTsKCi8qKgogKiBUZXN0IHRoYXQgcXVlcnkgcGFnaW5hdGlvbiB3b3JrcyBw\ncm9wZXJseS4KICovCnB1YmxpYyBjbGFzcyBUZXN0UXVlcnlQYWdpbmF0aW9u\nCiAgICBleHRlbmRzIFNRTExpc3RlbmVyVGVzdENhc2UgewoKICAgIHB1Ymxp\nYyB2b2lkIHNldFVwKCkgewogICAgICAgIHNldFVwKFNpbXBsZUVudGl0eS5j\nbGFzcywgQ0xFQVJfVEFCTEVTKTsKCiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CiAgICAgICAgZW0uZ2V0\nVHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNpc3QobmV3\nIFNpbXBsZUVudGl0eSgiZm9vIiwgImJhciIgKyAwKSk7CiAgICAgICAgZW0u\ncGVyc2lzdChuZXcgU2ltcGxlRW50aXR5KCJmb28iLCAiYmFyIiArIDEpKTsK\nICAgICAgICBlbS5wZXJzaXN0KG5ldyBTaW1wbGVFbnRpdHkoImZvbyIsICJi\nYXIiICsgMikpOwogICAgICAgIGVtLnBlcnNpc3QobmV3IFNpbXBsZUVudGl0\neSgiZm9vIiwgImJhciIgKyAzKSk7CiAgICAgICAgZW0ucGVyc2lzdChuZXcg\nU2ltcGxlRW50aXR5KCJmb28iLCAiYmFyIiArIDQpKTsKICAgICAgICBlbS5w\nZXJzaXN0KG5ldyBTaW1wbGVFbnRpdHkoImZvbyIsICJiYXIiICsgNSkpOwog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CiAgICAgICAg\nZW0uY2xvc2UoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0Rmlyc3RU\naGVuTWF4KCkgewogICAgICAgIGhlbHBlcih0cnVlLCAyLCAzLCAzKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWF4VGhlbkZpcnN0KCkgewogICAg\nICAgIGhlbHBlcihmYWxzZSwgMiwgMywgMyk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgdGVzdE5vUmVzdWx0c0ZpcnN0Rmlyc3QoKSB7CiAgICAgICAgaGVs\ncGVyKHRydWUsIDEwLCAzLCAwKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCB0\nZXN0Tm9SZXN1bHRzRmlyc3RMYXN0KCkgewogICAgICAgIGhlbHBlcihmYWxz\nZSwgMTAsIDMsIDApOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RBbGxS\nZXN1bHRzRmlyc3RGaXJzdCgpIHsKICAgICAgICBoZWxwZXIodHJ1ZSwgMCwg\nMTAsIDYpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHRlc3RBbGxSZXN1bHRz\nRmlyc3RMYXN0KCkgewogICAgICAgIGhlbHBlcihmYWxzZSwgMCwgMTAsIDYp\nOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBoZWxwZXIoYm9vbGVhbiBmaXJz\ndEZpcnN0LCBpbnQgZmlyc3QsIGludCBtYXgsIGludCBleHBlY3RlZCkgewog\nICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFu\nYWdlcigpOwogICAgICAgIFF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgic2Vs\nZWN0IGUgZnJvbSBzaW1wbGUgZSBvcmRlciBieSBlLnZhbHVlIik7CiAgICAg\nICAgc3FsLmNsZWFyKCk7CiAgICAgICAgTGlzdDxTaW1wbGVFbnRpdHk+IGZ1\nbGxMaXN0ID0gcS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgaWYgKGZpcnN0\nRmlyc3QpCiAgICAgICAgICAgIHEuc2V0Rmlyc3RSZXN1bHQoZmlyc3QpLnNl\ndE1heFJlc3VsdHMobWF4KTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHEu\nc2V0TWF4UmVzdWx0cyhtYXgpLnNldEZpcnN0UmVzdWx0KGZpcnN0KTsKICAg\nICAgICBMaXN0PFNpbXBsZUVudGl0eT4gbGlzdCA9IHEuZ2V0UmVzdWx0TGlz\ndCgpOwogICAgICAgIGNoZWNrU1FMKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxz\nKGV4cGVjdGVkLCBsaXN0LnNpemUoKSk7CiAgICAgICAgZm9yIChpbnQgaSA9\nIDA7IGkgPCBsaXN0LnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIGFzc2Vy\ndEVxdWFscygiYmFyIiArIChmaXJzdCArIGkpLCBsaXN0LmdldChpKS5nZXRW\nYWx1ZSgpKTsKICAgICAgICB9CiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0K\nCiAgICBwcml2YXRlIHZvaWQgY2hlY2tTUUwoKSB7CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKDIsIHNxbC5zaXplKCkpOwogICAgICAgIFN0cmluZyBub1Jhbmdl\nID0gdGhpcy5zcWwuZ2V0KDApOwogICAgICAgIFN0cmluZyB3aXRoUmFuZ2Ug\nPSB0aGlzLnNxbC5nZXQoMSk7CiAgICAgICAgREJEaWN0aW9uYXJ5IGRpY3Qg\nPSAoKEpEQkNDb25maWd1cmF0aW9uKSBlbWYuZ2V0Q29uZmlndXJhdGlvbigp\nKQogICAgICAgICAgICAuZ2V0REJEaWN0aW9uYXJ5SW5zdGFuY2UoKTsKICAg\nICAgICBpZiAoZGljdC5zdXBwb3J0c1NlbGVjdFN0YXJ0SW5kZXggfHwgZGlj\ndC5zdXBwb3J0c1NlbGVjdEVuZEluZGV4KQogICAgICAgICAgICBhc3NlcnRO\nb3RFcXVhbHMobm9SYW5nZSwgd2l0aFJhbmdlKTsKICAgICAgICBlbHNlCiAg\nICAgICAgICAgIGFzc2VydEVxdWFscyhub1JhbmdlLCB3aXRoUmFuZ2UpOwog\nICAgfQp9\n","encoding":"base64"}

