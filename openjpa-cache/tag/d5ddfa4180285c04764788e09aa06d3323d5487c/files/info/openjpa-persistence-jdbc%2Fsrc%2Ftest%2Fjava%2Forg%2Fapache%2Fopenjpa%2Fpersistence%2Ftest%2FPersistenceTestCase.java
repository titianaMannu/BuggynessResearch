{"sha":"fec5ef40dbdd45b118909d2d5c2a70f3242f5473","node_id":"MDQ6QmxvYjIwNjM2NDpmZWM1ZWY0MGRiZGQ0NWIxMTg5MDlkMmQ1YzJhNzBmMzI0MmY1NDcz","size":8448,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/fec5ef40dbdd45b118909d2d5c2a70f3242f5473","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdDsK\nCmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5Nb2RpZmllcjsKaW1wb3J0IGph\ndmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7\nCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7\nCmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmF4LnBlcnNp\nc3RlbmNlLkVudGl0eU1hbmFnZXI7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5j\nZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsKaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLlBlcnNpc3RlbmNlOwoKaW1wb3J0IGp1bml0LmZyYW1ld29yay5UZXN0\nQ2FzZTsKaW1wb3J0IGp1bml0LmZyYW1ld29yay5UZXN0UmVzdWx0OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5BYnN0cmFjdEJyb2tlckZh\nY3Rvcnk7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLkJyb2tl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0YURh\ndGE7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3Bl\nbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLkpQQUZhY2FkZUhlbHBlcjsKCi8qKgog\nKiBCYXNlIHRlc3QgY2xhc3MgcHJvdmlkaW5nIHBlcnNpc3RlbmNlIHV0aWxp\ndGllcy4KICovCnB1YmxpYyBhYnN0cmFjdCBjbGFzcyBQZXJzaXN0ZW5jZVRl\nc3RDYXNlCiAgICBleHRlbmRzIFRlc3RDYXNlIHsKCiAgICAvKioKICAgICAq\nIE1hcmtlciBvYmplY3QgeW91IGFuIHBhc3MgdG8ge0BsaW5rICNzZXRVcH0g\ndG8gaW5kaWNhdGUgdGhhdCB0aGUKICAgICAqIGRhdGFiYXNlIHRhYmxlcyBz\naG91bGQgYmUgY2xlYXJlZC4KICAgICAqLwogICAgcHJvdGVjdGVkIHN0YXRp\nYyBmaW5hbCBPYmplY3QgQ0xFQVJfVEFCTEVTID0gbmV3IE9iamVjdCgpOwoK\nICAgIC8qKgogICAgICogVGhlIHtAbGluayBUZXN0UmVzdWx0fSBpbnN0YW5j\nZSBmb3IgdGhlIGN1cnJlbnQgdGVzdCBydW4uCiAgICAgKi8KICAgIHByb3Rl\nY3RlZCBUZXN0UmVzdWx0IHRlc3RSZXN1bHQ7CgogICAgLyoqCiAgICAgKiBD\ncmVhdGUgYW4gZW50aXR5IG1hbmFnZXIgZmFjdG9yeS4gUHV0IHtAbGluayAj\nQ0xFQVJfVEFCTEVTfSBpbgogICAgICogdGhpcyBsaXN0IHRvIHRlbGwgdGhl\nIHRlc3QgZnJhbWV3b3JrIHRvIGRlbGV0ZSBhbGwgdGFibGUgY29udGVudHMK\nICAgICAqIGJlZm9yZSBydW5uaW5nIHRoZSB0ZXN0cy4KICAgICAqCiAgICAg\nKiBAcGFyYW0gcHJvcHMgbGlzdCBvZiBwZXJzaXN0ZW50IHR5cGVzIHVzZWQg\naW4gdGVzdGluZyBhbmQvb3IKICAgICAqIGNvbmZpZ3VyYXRpb24gdmFsdWVz\nIGluIHRoZSBmb3JtIGtleSx2YWx1ZSxrZXksdmFsdWUuLi4KICAgICAqLwog\nICAgcHJvdGVjdGVkIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBj\ncmVhdGVFTUYoT2JqZWN0Li4uIHByb3BzKSB7CiAgICAgICAgcmV0dXJuIGNy\nZWF0ZU5hbWVkRU1GKGdldFBlcnNpc3RlbmNlVW5pdE5hbWUoKSwgcHJvcHMp\nOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIG5hbWUgb2YgdGhlIHBlcnNp\nc3RlbmNlIHVuaXQgdGhhdCB0aGlzIHRlc3QgY2xhc3Mgc2hvdWxkIHVzZQog\nICAgICogYnkgZGVmYXVsdC4gVGhpcyBkZWZhdWx0cyB0byAidGVzdCIuCiAg\nICAgKi8KICAgIHByb3RlY3RlZCBTdHJpbmcgZ2V0UGVyc2lzdGVuY2VVbml0\nTmFtZSgpIHsKICAgICAgICByZXR1cm4gInRlc3QiOwogICAgfQoKICAgIC8q\nKgogICAgICogQ3JlYXRlIGFuIGVudGl0eSBtYW5hZ2VyIGZhY3RvcnkgZm9y\nIHBlcnNpc3RlbmNlIHVuaXQgPGNvZGU+cHU8L2NvZGU+LgogICAgICogUHV0\nIHtAbGluayAjQ0xFQVJfVEFCTEVTfSBpbgogICAgICogdGhpcyBsaXN0IHRv\nIHRlbGwgdGhlIHRlc3QgZnJhbWV3b3JrIHRvIGRlbGV0ZSBhbGwgdGFibGUg\nY29udGVudHMKICAgICAqIGJlZm9yZSBydW5uaW5nIHRoZSB0ZXN0cy4KICAg\nICAqCiAgICAgKiBAcGFyYW0gcHJvcHMgbGlzdCBvZiBwZXJzaXN0ZW50IHR5\ncGVzIHVzZWQgaW4gdGVzdGluZyBhbmQvb3IKICAgICAqIGNvbmZpZ3VyYXRp\nb24gdmFsdWVzIGluIHRoZSBmb3JtIGtleSx2YWx1ZSxrZXksdmFsdWUuLi4K\nICAgICAqLwogICAgcHJvdGVjdGVkIE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFj\ndG9yeVNQSSBjcmVhdGVOYW1lZEVNRihTdHJpbmcgcHUsCiAgICAgICAgT2Jq\nZWN0Li4uIHByb3BzKSB7CiAgICAgICAgTWFwIG1hcCA9IG5ldyBIYXNoTWFw\nKFN5c3RlbS5nZXRQcm9wZXJ0aWVzKCkpOwogICAgICAgIExpc3Q8Q2xhc3M+\nIHR5cGVzID0gbmV3IEFycmF5TGlzdDxDbGFzcz4oKTsKICAgICAgICBib29s\nZWFuIHByb3AgPSBmYWxzZTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChwcm9wKSB7\nCiAgICAgICAgICAgICAgICBtYXAucHV0KHByb3BzW2kgLSAxXSwgcHJvcHNb\naV0pOwogICAgICAgICAgICAgICAgcHJvcCA9IGZhbHNlOwogICAgICAgICAg\nICB9IGVsc2UgaWYgKHByb3BzW2ldID09IENMRUFSX1RBQkxFUykgewogICAg\nICAgICAgICAgICAgbWFwLnB1dCgib3BlbmpwYS5qZGJjLlN5bmNocm9uaXpl\nTWFwcGluZ3MiLAogICAgICAgICAgICAgICAgICAgICJidWlsZFNjaGVtYShG\nb3JlaWduS2V5cz10cnVlLCIgCiAgICAgICAgICAgICAgICAgICAgKyAiU2No\nZW1hQWN0aW9uPSdhZGQsZGVsZXRlVGFibGVDb250ZW50cycpIik7CiAgICAg\nICAgICAgIH0gZWxzZSBpZiAocHJvcHNbaV0gaW5zdGFuY2VvZiBDbGFzcykK\nICAgICAgICAgICAgICAgIHR5cGVzLmFkZCgoQ2xhc3MpIHByb3BzW2ldKTsK\nICAgICAgICAgICAgZWxzZSBpZiAocHJvcHNbaV0gIT0gbnVsbCkKICAgICAg\nICAgICAgICAgIHByb3AgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYg\nKCF0eXBlcy5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgU3RyaW5nQnVmZmVy\nIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKICAgICAgICAgICAgZm9yIChD\nbGFzcyBjIDogdHlwZXMpIHsKICAgICAgICAgICAgICAgIGlmIChidWYubGVu\nZ3RoKCkgPiAwKQogICAgICAgICAgICAgICAgICAgIGJ1Zi5hcHBlbmQoIjsi\nKTsKICAgICAgICAgICAgICAgIGJ1Zi5hcHBlbmQoYy5nZXROYW1lKCkpOwog\nICAgICAgICAgICB9CiAgICAgICAgICAgIG1hcC5wdXQoIm9wZW5qcGEuTWV0\nYURhdGFGYWN0b3J5IiwKICAgICAgICAgICAgICAgICJqcGEoVHlwZXM9IiAr\nIGJ1Zi50b1N0cmluZygpICsgIikiKTsKICAgICAgICB9CgogICAgICAgIHJl\ndHVybiAoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKSBQZXJzaXN0\nZW5jZS4KICAgICAgICAgICAgY3JlYXRlRW50aXR5TWFuYWdlckZhY3Rvcnko\ncHUsIG1hcCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9p\nZCBydW4oVGVzdFJlc3VsdCB0ZXN0UmVzdWx0KSB7CiAgICAgICAgdGhpcy50\nZXN0UmVzdWx0ID0gdGVzdFJlc3VsdDsKICAgICAgICBzdXBlci5ydW4odGVz\ndFJlc3VsdCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9p\nZCB0ZWFyRG93bigpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIHN1cGVyLnRlYXJEb3duKCk7CiAgICAgICAgfSBjYXRj\naCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgLy8gaWYgYSB0ZXN0IGZh\naWxlZCwgc3dhbGxvdyBhbnkgZXhjZXB0aW9ucyB0aGF0IGhhcHBlbgogICAg\nICAgICAgICAvLyBkdXJpbmcgdGVhci1kb3duLCBhcyB0aGVzZSBqdXN0IG1h\nc2sgdGhlIG9yaWdpbmFsIHByb2JsZW0uCiAgICAgICAgICAgIGlmICh0ZXN0\nUmVzdWx0Lndhc1N1Y2Nlc3NmdWwoKSkKICAgICAgICAgICAgICAgIHRocm93\nIGU7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogU2FmZWx5IGNs\nb3NlIHRoZSBnaXZlbiBmYWN0b3J5LgogICAgICovCiAgICBwcm90ZWN0ZWQg\nYm9vbGVhbiBjbG9zZUVNRihFbnRpdHlNYW5hZ2VyRmFjdG9yeSBlbWYpIHsK\nICAgICAgICBpZiAoZW1mID09IG51bGwgfHwgIWVtZi5pc09wZW4oKSkKICAg\nICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIAogICAgICAgIGNsb3Nl\nQWxsT3BlbkVNcyhlbWYpOwogICAgICAgIGVtZi5jbG9zZSgpOwogICAgICAg\nIHJldHVybiAhZW1mLmlzT3BlbigpOwogICAgfQoKICAgIC8qKgogICAgICog\nQ2xvc2VzIGFsbCBvcGVuIGVudGl0eSBtYW5hZ2VycyBhZnRlciBmaXJzdCBy\nb2xsaW5nIGJhY2sgYW55IG9wZW4gdHJhbnNhY3Rpb25zCiAgICAgKi8KICAg\nIHByb3RlY3RlZCB2b2lkIGNsb3NlQWxsT3BlbkVNcyhFbnRpdHlNYW5hZ2Vy\nRmFjdG9yeSBlbWYpIHsKICAgICAgICBpZiAoZW1mID09IG51bGwgfHwgIWVt\nZi5pc09wZW4oKSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBmb3Ig\nKEl0ZXJhdG9yIGl0ZXIgPSAoKEFic3RyYWN0QnJva2VyRmFjdG9yeSkgSlBB\nRmFjYWRlSGVscGVyCiAgICAgICAgICAgIC50b0Jyb2tlckZhY3RvcnkoZW1m\nKSkuZ2V0T3BlbkJyb2tlcnMoKS5pdGVyYXRvcigpOwogICAgICAgICAgICBp\ndGVyLmhhc05leHQoKTsgKSB7CiAgICAgICAgICAgIEJyb2tlciBiID0gKEJy\nb2tlcikgaXRlci5uZXh0KCk7CiAgICAgICAgICAgIGlmIChiICE9IG51bGwg\nJiYgIWIuaXNDbG9zZWQoKSkgewogICAgICAgICAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IEpQQUZhY2FkZUhlbHBlci50b0VudGl0eU1hbmFnZXIoYik7\nCiAgICAgICAgICAgICAgICBpZiAoZW0uZ2V0VHJhbnNhY3Rpb24oKS5pc0Fj\ndGl2ZSgpKQogICAgICAgICAgICAgICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkucm9sbGJhY2soKTsKICAgICAgICAgICAgICAgIGVtLmNsb3NlKCk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBE\nZWxldGUgYWxsIGluc3RhbmNlcyBvZiB0aGUgZ2l2ZW4gdHlwZXMgdXNpbmcg\nYnVsayBkZWxldGUgcXVlcmllcywKICAgICAqIGJ1dCBkbyBub3QgY2xvc2Ug\nYW55IG9wZW4gZW50aXR5IG1hbmFnZXJzLgogICAgICovCiAgICBwcm90ZWN0\nZWQgdm9pZCBjbGVhcihFbnRpdHlNYW5hZ2VyRmFjdG9yeSBlbWYsIENsYXNz\nLi4uIHR5cGVzKSB7CiAgICAgICAgaWYgKGVtZiA9PSBudWxsIHx8IHR5cGVz\nLmxlbmd0aCA9PSAwKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIExp\nc3Q8Q2xhc3NNZXRhRGF0YT4gbWV0YXMgPSBuZXcgQXJyYXlMaXN0PENsYXNz\nTWV0YURhdGE+KHR5cGVzLmxlbmd0aCk7CiAgICAgICAgZm9yIChDbGFzcyBj\nIDogdHlwZXMpIHsKICAgICAgICAgICAgQ2xhc3NNZXRhRGF0YSBtZXRhID0g\nSlBBRmFjYWRlSGVscGVyLmdldE1ldGFEYXRhKGVtZiwgYyk7CiAgICAgICAg\nICAgIGlmIChtZXRhICE9IG51bGwpCiAgICAgICAgICAgICAgICBtZXRhcy5h\nZGQobWV0YSk7CiAgICAgICAgfQogICAgICAgIGNsZWFyKGVtZiwgZmFsc2Us\nIG1ldGFzLnRvQXJyYXkobmV3IENsYXNzTWV0YURhdGFbbWV0YXMuc2l6ZSgp\nXSkpOwogICAgfQoKICAgIC8qKgogICAgICogRGVsZXRlIGFsbCBpbnN0YW5j\nZXMgb2YgdGhlIHBlcnNpc3RlbnQgdHlwZXMgcmVnaXN0ZXJlZCB3aXRoIHRo\nZSBnaXZlbgogICAgICogZmFjdG9yeSB1c2luZyBidWxrIGRlbGV0ZSBxdWVy\naWVzLCBhZnRlciBmaXJzdCBjbG9zaW5nIGFsbCBvcGVuIGVudGl0eQogICAg\nICogbWFuYWdlcnMgKGFuZCByb2xsaW5nIGJhY2sgYW55IG9wZW4gdHJhbnNh\nY3Rpb25zKS4KICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgY2xlYXIoRW50\naXR5TWFuYWdlckZhY3RvcnkgZW1mKSB7CiAgICAgICAgaWYgKGVtZiA9PSBu\ndWxsKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY2xlYXIoZW1mLCB0\ncnVlLCAoKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSkgZW1mKS5n\nZXRDb25maWd1cmF0aW9uKCkuCiAgICAgICAgICAgIGdldE1ldGFEYXRhUmVw\nb3NpdG9yeUluc3RhbmNlKCkuZ2V0TWV0YURhdGFzKCkpOwogICAgfQoKICAg\nIC8qKgogICAgICogRGVsZXRlIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGdpdmVu\nIHR5cGVzIHVzaW5nIGJ1bGsgZGVsZXRlIHF1ZXJpZXMuCiAgICAgKiBAcGFy\nYW0gY2xvc2VFTXMgVE9ETwogICAgICovCiAgICBwcml2YXRlIHZvaWQgY2xl\nYXIoRW50aXR5TWFuYWdlckZhY3RvcnkgZW1mLCBib29sZWFuIGNsb3NlRU1z\nLCBDbGFzc01ldGFEYXRhLi4uIHR5cGVzKSB7CiAgICAgICAgaWYgKGVtZiA9\nPSBudWxsIHx8IHR5cGVzLmxlbmd0aCA9PSAwKQogICAgICAgICAgICByZXR1\ncm47CiAgICAgICAgCiAgICAgICAgLy8gcHJldmVudCBkZWFkbG9jayBieSBj\nbG9zaW5nIHRoZSBvcGVuIGVudGl0eSBtYW5hZ2VycyAKICAgICAgICAvLyBh\nbmQgcm9sbGluZyBiYWNrIGFueSBvcGVuIHRyYW5zYWN0aW9ucyAKICAgICAg\nICAvLyBiZWZvcmUgaXNzdWluZyBkZWxldGUgc3RhdGVtZW50cyBvbiBhIG5l\ndyBlbnRpdHkgbWFuYWdlci4KICAgICAgICBpZiAoY2xvc2VFTXMpCiAgICAg\nICAgICAgIGNsb3NlQWxsT3BlbkVNcyhlbWYpOwoKICAgICAgICBFbnRpdHlN\nYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAgZm9yIChD\nbGFzc01ldGFEYXRhIG1ldGEgOiB0eXBlcykgewogICAgICAgICAgICBpZiAo\nIW1ldGEuaXNNYXBwZWQoKSB8fCBtZXRhLmlzRW1iZWRkZWRPbmx5KCkgCiAg\nICAgICAgICAgICAgICB8fCBNb2RpZmllci5pc0Fic3RyYWN0KG1ldGEuZ2V0\nRGVzY3JpYmVkVHlwZSgpLmdldE1vZGlmaWVycygpKSkKICAgICAgICAgICAg\nICAgIGNvbnRpbnVlOwogICAgICAgICAgICBlbS5jcmVhdGVRdWVyeSgiREVM\nRVRFIEZST00gIiArIG1ldGEuZ2V0VHlwZUFsaWFzKCkgKyAiIG8iKS4KICAg\nICAgICAgICAgICAgIGV4ZWN1dGVVcGRhdGUoKTsKICAgICAgICB9CiAgICAg\nICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAgICBlbS5j\nbG9zZSgpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBlbnRp\ndHkgbmFtZSBmb3IgdGhlIGdpdmVuIHR5cGUuICAgCiAgICAgKi8KICAgIHBy\nb3RlY3RlZCBTdHJpbmcgZW50aXR5TmFtZShFbnRpdHlNYW5hZ2VyRmFjdG9y\neSBlbWYsIENsYXNzIGMpIHsKICAgICAgICBDbGFzc01ldGFEYXRhIG1ldGEg\nPSBKUEFGYWNhZGVIZWxwZXIuZ2V0TWV0YURhdGEoZW1mLCBjKTsKICAgICAg\nICByZXR1cm4gKG1ldGEgPT0gbnVsbCkgPyBudWxsIDogbWV0YS5nZXRUeXBl\nQWxpYXMoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgYXNzZXJ0\nTm90RXF1YWxzKE9iamVjdCBvMSwgT2JqZWN0IG8yKSB7CiAgICAgICAgaWYg\nKG8xID09IG8yKQogICAgICAgICAgICBmYWlsKCJleHBlY3RlZCBhcmdzIHRv\nIGJlIGRpZmZlcmVudDsgd2VyZSB0aGUgc2FtZSBpbnN0YW5jZS4iKTsKICAg\nICAgICBlbHNlIGlmIChvMSA9PSBudWxsIHx8IG8yID09IG51bGwpCiAgICAg\nICAgICAgIHJldHVybjsKICAgICAgICBlbHNlIGlmIChvMS5lcXVhbHMobzIp\nKQogICAgICAgICAgICBmYWlsKCJleHBlY3RlZCBhcmdzIHRvIGJlIGRpZmZl\ncmVudDsgY29tcGFyZWQgZXF1YWwuIik7CiAgICB9Cn0K\n","encoding":"base64"}

