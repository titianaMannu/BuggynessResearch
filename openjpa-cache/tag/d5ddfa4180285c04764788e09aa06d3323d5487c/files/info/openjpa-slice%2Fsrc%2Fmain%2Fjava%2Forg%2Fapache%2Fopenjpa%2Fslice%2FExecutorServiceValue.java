{"sha":"f8a56ddff24dbcb2f03886ec77d069de7d8bccf1","node_id":"MDQ6QmxvYjIwNjM2NDpmOGE1NmRkZmYyNGRiY2IyZjAzODg2ZWM3N2QwNjlkZTdkOGJjY2Yx","size":4020,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f8a56ddff24dbcb2f03886ec77d069de7d8bccf1","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nc2xpY2U7DQoNCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOw0KaW1wb3J0IGph\ndmEudXRpbC5MaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkV4\nZWN1dG9yU2VydmljZTsNCmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVudC5F\neGVjdXRvcnM7DQppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuUHJpb3Jp\ndHlCbG9ja2luZ1F1ZXVlOw0KaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50\nLlN5bmNocm9ub3VzUXVldWU7DQppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJl\nbnQuVGhyZWFkRmFjdG9yeTsNCmltcG9ydCBqYXZhLnV0aWwuY29uY3VycmVu\ndC5UaHJlYWRQb29sRXhlY3V0b3I7DQppbXBvcnQgamF2YS51dGlsLmNvbmN1\ncnJlbnQuVGltZVVuaXQ7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmNvbmYuQ29uZmlndXJhdGlvbjsNCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbnM7DQppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmxpYi5jb25mLlBsdWdpblZhbHVlOw0KaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLk9wdGlvbnM7DQppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuVXNlckV4Y2VwdGlvbjsNCg0KLyoq\nDQogKiBWYWx1ZSB0eXBlIHVzZWQgdG8gcmVwcmVzZW50IGEge0BsaW5rIEV4\nZWN1dG9yU2VydmljZX0uDQogKiBUaGlzIHZhbHVlIGNvbnRyb2xzIHRoZSB0\naHJlYWQgcG9vbCBwYXJhbWV0ZXJzLiBUaGUgdGhyZWFkIHBvb2wgaXMgdXNl\nZA0KICogdG8gZXhlY3V0ZSB0aGUgcXVlcmllcy4NCiAqIA0KICogQGF1dGhv\nciBQaW5ha2kgUG9kZGFyDQogKiBAbm9qYXZhZG9jDQogKi8NCg0KcHVibGlj\nIGNsYXNzIEV4ZWN1dG9yU2VydmljZVZhbHVlIGV4dGVuZHMgUGx1Z2luVmFs\ndWUgew0KICAgIHByaXZhdGUgc3RhdGljIExpc3Q8U3RyaW5nPiBrbm93biA9\nDQogICAgICAgICAgICBBcnJheXMuYXNMaXN0KG5ldyBTdHJpbmdbXSB7ICJj\nYWNoZWQiLCAiZml4ZWQiIH0pOw0KDQogICAgcHJpdmF0ZSBzdGF0aWMgTG9j\nYWxpemVyIF9sb2MgPQ0KICAgICAgICAgICAgTG9jYWxpemVyLmZvclBhY2th\nZ2UoRXhlY3V0b3JTZXJ2aWNlVmFsdWUuY2xhc3MpOw0KDQogICAgcHVibGlj\nIEV4ZWN1dG9yU2VydmljZVZhbHVlKCkgew0KICAgICAgICBzdXBlcigiVGhy\nZWFkaW5nUG9saWN5IiwgdHJ1ZSk7DQogICAgICAgIHNldERlZmF1bHQoImNh\nY2hlZCIpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldFByb3BlcnRp\nZXMoU3RyaW5nIHByb3BzKSB7DQogICAgICAgIHN1cGVyLnNldFByb3BlcnRp\nZXMocHJvcHMpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIENvbmZpZ3Vy\nZXMgYSBjYWNoZWQgb3IgZml4ZWQgdGhyZWFkIHBvb2wuDQogICAgICovDQog\nICAgQE92ZXJyaWRlDQogICAgcHVibGljIE9iamVjdCBpbnN0YW50aWF0ZShD\nbGFzcyB0eXBlLCBDb25maWd1cmF0aW9uIGNvbmYsIGJvb2xlYW4gZmF0YWwp\nIHsNCiAgICAgICAgT2JqZWN0IG9iaiA9IG51bGw7DQogICAgICAgIGludCBk\nZWZhdWx0U2l6ZSA9IDEwOw0KICAgICAgICBTdHJpbmcgY2xzID0gZ2V0Q2xh\nc3NOYW1lKCk7DQogICAgICAgIGlmICgha25vd24uY29udGFpbnMoY2xzKSkN\nCiAgICAgICAgICAgIGNscyA9ICJjYWNoZWQiOw0KDQogICAgICAgIE9wdGlv\nbnMgb3B0cyA9IENvbmZpZ3VyYXRpb25zLnBhcnNlUHJvcGVydGllcyhnZXRQ\ncm9wZXJ0aWVzKCkpOw0KDQogICAgICAgIFRocmVhZEZhY3RvcnkgZmFjdG9y\neSA9IG51bGw7DQogICAgICAgIGlmIChvcHRzLmNvbnRhaW5zS2V5KCJUaHJl\nYWRGYWN0b3J5IikpIHsNCiAgICAgICAgICAgIFN0cmluZyBmTmFtZSA9IG9w\ndHMuZ2V0UHJvcGVydHkoIlRocmVhZEZhY3RvcnkiKTsNCiAgICAgICAgICAg\nIHRyeSB7DQogICAgICAgICAgICAgICAgZmFjdG9yeSA9IChUaHJlYWRGYWN0\nb3J5KSBDbGFzcy5mb3JOYW1lKGZOYW1lKS5uZXdJbnN0YW5jZSgpOw0KICAg\nICAgICAgICAgICAgIENvbmZpZ3VyYXRpb25zLmNvbmZpZ3VyZUluc3RhbmNl\nKGZhY3RvcnksIGNvbmYsIG9wdHMsDQogICAgICAgICAgICAgICAgICAgICAg\nICBnZXRQcm9wZXJ0eSgpKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKFRocm93\nYWJsZSB0KSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFeGNl\ncHRpb24oX2xvYy5nZXQoImJhZC10aHJlYWQtZmFjdG9yeSIsIGZOYW1lKSwg\ndCk7DQogICAgICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgICAg\nIG9wdHMucmVtb3ZlUHJvcGVydHkoIlRocmVhZEZhY3RvcnkiKTsNCiAgICAg\nICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZhY3Rv\ncnkgPSBFeGVjdXRvcnMuZGVmYXVsdFRocmVhZEZhY3RvcnkoKTsNCiAgICAg\nICAgfQ0KICAgICAgICBpZiAoImNhY2hlZCIuZXF1YWxzKGNscykpIHsNCiAg\nICAgICAgICAgIG9iaiA9IEV4ZWN1dG9ycy5uZXdDYWNoZWRUaHJlYWRQb29s\nKGZhY3RvcnkpOw0KICAgICAgICB9IGVsc2UgaWYgKCJmaXhlZCIuZXF1YWxz\nKGNscykpIHsNCiAgICAgICAgICAgIGxvbmcga2VlcEFsaXZlVGltZSA9IDYw\nTDsNCiAgICAgICAgICAgIGlmIChvcHRzLmNvbnRhaW5zS2V5KCJLZWVwQWxp\ndmVUaW1lIikpIHsNCiAgICAgICAgICAgICAgICBrZWVwQWxpdmVUaW1lID0g\nb3B0cy5nZXRMb25nUHJvcGVydHkoIktlZXBBbGl2ZVRpbWUiKTsNCiAgICAg\nICAgICAgICAgICBvcHRzLnJlbW92ZUxvbmdQcm9wZXJ0eSgiS2VlcEFsaXZl\nVGltZSIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgb2JqID0gbmV3\nIFRocmVhZFBvb2xFeGVjdXRvcihkZWZhdWx0U2l6ZSwgZGVmYXVsdFNpemUs\nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAga2VlcEFsaXZlVGltZSwg\nVGltZVVuaXQuU0VDT05EUywNCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICBuZXcgU3luY2hyb25vdXNRdWV1ZTxSdW5uYWJsZT4oKSwgZmFjdG9yeSk7\nDQoNCiAgICAgICAgICAgIENvbmZpZ3VyYXRpb25zLmNvbmZpZ3VyZUluc3Rh\nbmNlKG9iaiwgY29uZiwgb3B0cywgZ2V0UHJvcGVydHkoKSk7DQogICAgICAg\nIH0NCiAgICAgICAgc2V0KG9iaiwgdHJ1ZSk7DQogICAgICAgIHJldHVybiBv\nYmo7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

