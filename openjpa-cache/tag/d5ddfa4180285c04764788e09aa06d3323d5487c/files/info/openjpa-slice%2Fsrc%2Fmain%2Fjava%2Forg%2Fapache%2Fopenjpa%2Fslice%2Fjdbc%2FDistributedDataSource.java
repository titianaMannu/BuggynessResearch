{"sha":"d3826216b1f342b5062c528dfc652eec71cf360e","node_id":"MDQ6QmxvYjIwNjM2NDpkMzgyNjIxNmIxZjM0MmI1MDYyYzUyOGRmYzY1MmVlYzcxY2YzNjBl","size":3335,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d3826216b1f342b5062c528dfc652eec71cf360e","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nc2xpY2UuamRiYzsNCg0KaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXI7DQpp\nbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjsNCmltcG9ydCBqYXZhLnNxbC5T\nUUxFeGNlcHRpb247DQppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCmlt\ncG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7DQppbXBvcnQgamF2YS51dGlsLkxp\nc3Q7DQoNCmltcG9ydCBqYXZheC5zcWwuRGF0YVNvdXJjZTsNCmltcG9ydCBq\nYXZheC5zcWwuWEFEYXRhU291cmNlOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLmxpYi5qZGJjLkRlY29yYXRpbmdEYXRhU291cmNlOw0KDQovKioN\nCiAqIEEgdmlydHVhbCBkYXRhc291cmNlIHRoYXQgY29udGFpbnMgbWFueSBw\naHlzaWNhbCBkYXRhc291cmNlcy4NCiAqIA0KICogQGF1dGhvciBQaW5ha2kg\nUG9kZGFyIA0KICoNCiAqLw0KY2xhc3MgRGlzdHJpYnV0ZWREYXRhU291cmNl\nIGV4dGVuZHMgRGVjb3JhdGluZ0RhdGFTb3VyY2UgaW1wbGVtZW50cw0KCQlJ\ndGVyYWJsZTxEYXRhU291cmNlPiB7DQoJcHJpdmF0ZSBMaXN0PERhdGFTb3Vy\nY2U+IHJlYWwgPSBuZXcgQXJyYXlMaXN0PERhdGFTb3VyY2U+KCk7DQoJcHJp\ndmF0ZSBEYXRhU291cmNlIG1hc3RlcjsNCgkNCglwdWJsaWMgRGlzdHJpYnV0\nZWREYXRhU291cmNlKExpc3Q8RGF0YVNvdXJjZT4gZGF0YVNvdXJjZXMpIHsN\nCgkJc3VwZXIoZGF0YVNvdXJjZXMuZ2V0KDApKTsNCgkJcmVhbCA9IGRhdGFT\nb3VyY2VzOw0KCQltYXN0ZXIgPSBkYXRhU291cmNlcy5nZXQoMCk7DQoJfQ0K\nCQ0KCUNvbm5lY3Rpb24gZ2V0Q29ubmVjdGlvbihEYXRhU291cmNlIGRzKSB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJaWYgKGRzIGluc3RhbmNlb2YgRGVj\nb3JhdGluZ0RhdGFTb3VyY2UpDQoJCQlyZXR1cm4gZ2V0Q29ubmVjdGlvbigo\nKERlY29yYXRpbmdEYXRhU291cmNlKWRzKS5nZXRJbm5lcm1vc3REZWxlZ2F0\nZSgpKTsNCgkJaWYgKGRzIGluc3RhbmNlb2YgWEFEYXRhU291cmNlKQ0KCQkJ\ncmV0dXJuICgoWEFEYXRhU291cmNlKWRzKS5nZXRYQUNvbm5lY3Rpb24oKS5n\nZXRDb25uZWN0aW9uKCk7DQoJCXJldHVybiBkcy5nZXRDb25uZWN0aW9uKCk7\nDQoJfQ0KCQ0KCUNvbm5lY3Rpb24gZ2V0Q29ubmVjdGlvbihEYXRhU291cmNl\nIGRzLCBTdHJpbmcgdXNlciwgU3RyaW5nIHB3ZCkgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7DQoJCWlmIChkcyBpbnN0YW5jZW9mIERlY29yYXRpbmdEYXRhU291\ncmNlKQ0KCQkJcmV0dXJuIGdldENvbm5lY3Rpb24oKChEZWNvcmF0aW5nRGF0\nYVNvdXJjZSlkcykuZ2V0SW5uZXJtb3N0RGVsZWdhdGUoKSwgdXNlciwgcHdk\nKTsNCgkJaWYgKGRzIGluc3RhbmNlb2YgWEFEYXRhU291cmNlKQ0KCQkJcmV0\ndXJuICgoWEFEYXRhU291cmNlKWRzKS5nZXRYQUNvbm5lY3Rpb24odXNlciwg\ncHdkKS5nZXRDb25uZWN0aW9uKCk7DQoJCXJldHVybiBkcy5nZXRDb25uZWN0\naW9uKHVzZXIsIHB3ZCk7DQoJfQ0KDQoJcHVibGljIEl0ZXJhdG9yPERhdGFT\nb3VyY2U+IGl0ZXJhdG9yKCkgew0KCQlyZXR1cm4gcmVhbC5pdGVyYXRvcigp\nOw0KCX0NCg0KCXB1YmxpYyBDb25uZWN0aW9uIGdldENvbm5lY3Rpb24oKSB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJTGlzdDxDb25uZWN0aW9uPiBjID0g\nbmV3IEFycmF5TGlzdDxDb25uZWN0aW9uPigpOw0KCQlmb3IgKERhdGFTb3Vy\nY2UgZHMgOiByZWFsKQ0KCQkJYy5hZGQoZHMuZ2V0Q29ubmVjdGlvbigpKTsN\nCgkJcmV0dXJuIG5ldyBEaXN0cmlidXRlZENvbm5lY3Rpb24oYyk7DQoJfQ0K\nDQoJcHVibGljIENvbm5lY3Rpb24gZ2V0Q29ubmVjdGlvbihTdHJpbmcgdXNl\ncm5hbWUsIFN0cmluZyBwYXNzd29yZCkNCgkJCXRocm93cyBTUUxFeGNlcHRp\nb24gew0KCQlMaXN0PENvbm5lY3Rpb24+IGMgPSBuZXcgQXJyYXlMaXN0PENv\nbm5lY3Rpb24+KCk7DQoJCWZvciAoRGF0YVNvdXJjZSBkcyA6IHJlYWwpDQoJ\nCQljLmFkZChkcy5nZXRDb25uZWN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkp\nOw0KCQlyZXR1cm4gbmV3IERpc3RyaWJ1dGVkQ29ubmVjdGlvbihjKTsNCgl9\nDQoNCglwdWJsaWMgUHJpbnRXcml0ZXIgZ2V0TG9nV3JpdGVyKCkgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7DQoJCXJldHVybiBtYXN0ZXIuZ2V0TG9nV3JpdGVy\nKCk7DQoJfQ0KDQoJcHVibGljIGludCBnZXRMb2dpblRpbWVvdXQoKSB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsNCgkJcmV0dXJuIG1hc3Rlci5nZXRMb2dpblRp\nbWVvdXQoKTsNCgl9DQoNCglwdWJsaWMgdm9pZCBzZXRMb2dXcml0ZXIoUHJp\nbnRXcml0ZXIgb3V0KSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJZm9yIChE\nYXRhU291cmNlIGRzOnJlYWwpDQoJCQlkcy5zZXRMb2dXcml0ZXIob3V0KTsN\nCgl9DQoNCglwdWJsaWMgdm9pZCBzZXRMb2dpblRpbWVvdXQoaW50IHNlY29u\nZHMpIHRocm93cyBTUUxFeGNlcHRpb24gew0KCQlmb3IgKERhdGFTb3VyY2Ug\nZHM6cmVhbCkNCgkJCWRzLnNldExvZ2luVGltZW91dChzZWNvbmRzKTsNCgl9\nDQp9DQo=\n","encoding":"base64"}

