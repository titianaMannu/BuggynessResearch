{"sha":"b44aa557c64b8a5118e5374bc0478236fc9f0477","node_id":"MDQ6QmxvYjIwNjM2NDpiNDRhYTU1N2M2NGI4YTUxMThlNTM3NGJjMDQ3ODIzNmZjOWYwNDc3","size":6821,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b44aa557c64b8a5118e5374bc0478236fc9f0477","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nc2xpY2UuamRiYzsNCg0KaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247DQpp\nbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0Ow0KaW1wb3J0IGphdmEuc3FsLlNR\nTEV4Y2VwdGlvbjsNCmltcG9ydCBqYXZhLnNxbC5TUUxXYXJuaW5nOw0KaW1w\nb3J0IGphdmEuc3FsLlN0YXRlbWVudDsNCmltcG9ydCBqYXZhLnV0aWwuQXJy\nYXlMaXN0Ow0KaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsNCmltcG9ydCBq\nYXZhLnV0aWwuTGlzdDsNCg0KLyoqDQogKiBBIHRlbXBsYXRlIGZvciBtdWx0\naXBsZSBTdGF0ZW1lbnRzIGJlaW5nIGV4ZWN1dGVkIGJ5IG11bHRpcGxlIGNv\nbm5lY3Rpb25zLg0KICogDQogKiBAYXV0aG9yIFBpbmFraSBQb2RkYXIgDQog\nKg0KICovDQpjbGFzcyBEaXN0cmlidXRlZFRlbXBsYXRlPFQgZXh0ZW5kcyBT\ndGF0ZW1lbnQ+IA0KCWltcGxlbWVudHMgU3RhdGVtZW50LCBJdGVyYWJsZTxU\nPiB7DQoJcHJvdGVjdGVkIExpc3Q8VD4gc3RtdHMgPSBuZXcgQXJyYXlMaXN0\nPFQ+KCk7DQoJcHJvdGVjdGVkIGZpbmFsIERpc3RyaWJ1dGVkQ29ubmVjdGlv\nbiBjb247DQoJcHJvdGVjdGVkIFQgbWFzdGVyOw0KCQ0KCXB1YmxpYyBEaXN0\ncmlidXRlZFRlbXBsYXRlKERpc3RyaWJ1dGVkQ29ubmVjdGlvbiBjKSB7DQoJ\nCWNvbiA9IGM7DQoJfQ0KCQ0KCXB1YmxpYyBJdGVyYXRvcjxUPiBpdGVyYXRv\ncigpIHsNCgkJcmV0dXJuIHN0bXRzLml0ZXJhdG9yKCk7DQoJfQ0KCQ0KCXB1\nYmxpYyB2b2lkIGFkZChUIHMpIHsNCgkJaWYgKHN0bXRzLmlzRW1wdHkoKSkN\nCgkJCW1hc3RlciA9IHM7DQoJCXRyeSB7DQoJCQlpZiAoIWNvbi5jb250YWlu\ncyhzLmdldENvbm5lY3Rpb24oKSkpDQoJCQkJdGhyb3cgbmV3IElsbGVnYWxB\ncmd1bWVudEV4Y2VwdGlvbihzICsgIiBoYXMgZGlmZmVyZW50IGNvbm5lY3Rp\nb24iKTsNCgkJCXN0bXRzLmFkZChzKTsNCgkJfSBjYXRjaCAoU1FMRXhjZXB0\naW9uIGUpIHsNCgkJCWUucHJpbnRTdGFja1RyYWNlKCk7DQoJCX0NCgl9DQoJ\nDQoJcHVibGljIHZvaWQgYWRkQmF0Y2goU3RyaW5nIHNxbCkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7DQoJCWZvciAoVCBzOnRoaXMpDQoJCQlzLmFkZEJhdGNo\nKHNxbCk7DQoJfQ0KDQoJcHVibGljIHZvaWQgY2FuY2VsKCkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7DQoJCWZvciAoVCBzOnRoaXMpDQoJCQlzLmNhbmNlbCgp\nOw0KCX0NCg0KCXB1YmxpYyB2b2lkIGNsZWFyQmF0Y2goKSB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsNCgkJZm9yIChUIHM6dGhpcykNCgkJCXMuY2xlYXJCYXRj\naCgpOw0KCX0NCg0KCXB1YmxpYyB2b2lkIGNsZWFyV2FybmluZ3MoKSB0aHJv\nd3MgU1FMRXhjZXB0aW9uIHsNCgkJZm9yIChUIHM6dGhpcykNCgkJCXMuY2xl\nYXJXYXJuaW5ncygpOw0KCX0NCg0KCXB1YmxpYyB2b2lkIGNsb3NlKCkgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7DQoJCWZvciAoVCBzOnRoaXMpDQoJCQlzLmNs\nb3NlKCk7DQoJfQ0KDQoJcHVibGljIGJvb2xlYW4gZXhlY3V0ZShTdHJpbmcg\nYXJnMCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQoJCWJvb2xlYW4gcmV0ID0g\ndHJ1ZTsNCgkJZm9yIChUIHM6dGhpcykNCgkJCXJldCA9IHMuZXhlY3V0ZShh\ncmcwKSAmIHJldDsNCgkJcmV0dXJuIHJldDsNCgl9DQoNCglwdWJsaWMgYm9v\nbGVhbiBleGVjdXRlKFN0cmluZyBhcmcwLCBpbnQgYXJnMSkgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7DQoJCWJvb2xlYW4gcmV0ID0gdHJ1ZTsNCgkJZm9yIChU\nIHM6dGhpcykNCgkJCXJldCA9IHMuZXhlY3V0ZShhcmcwLCBhcmcxKSAmIHJl\ndDsNCgkJcmV0dXJuIHJldDsNCgl9DQoNCglwdWJsaWMgYm9vbGVhbiBleGVj\ndXRlKFN0cmluZyBhcmcwLCBpbnRbXSBhcmcxKSB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsNCgkJYm9vbGVhbiByZXQgPSB0cnVlOw0KCQlmb3IgKFQgczp0aGlz\nKQ0KCQkJcmV0ID0gcy5leGVjdXRlKGFyZzAsIGFyZzEpICYgcmV0Ow0KCQly\nZXR1cm4gcmV0Ow0KCX0NCg0KCXB1YmxpYyBib29sZWFuIGV4ZWN1dGUoU3Ry\naW5nIGFyZzAsIFN0cmluZ1tdIGFyZzEpIHRocm93cyBTUUxFeGNlcHRpb24g\new0KCQlib29sZWFuIHJldCA9IHRydWU7DQoJCWZvciAoVCBzOnRoaXMpDQoJ\nCQlyZXQgPSBzLmV4ZWN1dGUoYXJnMCwgYXJnMSkgJiByZXQ7DQoJCXJldHVy\nbiByZXQ7DQoJfQ0KDQoJcHVibGljIGludFtdIGV4ZWN1dGVCYXRjaCgpIHRo\ncm93cyBTUUxFeGNlcHRpb24gew0KCQlpbnRbXSByZXQgPSBuZXcgaW50WzBd\nOw0KCQlmb3IgKFN0YXRlbWVudCBzOnRoaXMpIHsNCgkJCWludFtdIHRtcCA9\nIHMuZXhlY3V0ZUJhdGNoKCk7DQoJCQlyZXQgPSBuZXcgaW50W3JldC5sZW5n\ndGggKyB0bXAubGVuZ3RoXTsNCgkJCVN5c3RlbS5hcnJheWNvcHkodG1wLCAw\nLCByZXQsIHJldC5sZW5ndGgtdG1wLmxlbmd0aCwgdG1wLmxlbmd0aCk7DQoJ\nCX0NCgkJcmV0dXJuIHJldDsNCgl9DQoNCglwdWJsaWMgUmVzdWx0U2V0IGV4\nZWN1dGVRdWVyeSgpIHRocm93cyBTUUxFeGNlcHRpb24gew0KCQlEaXN0cmli\ndXRlZFJlc3VsdFNldCBycyA9IG5ldyBEaXN0cmlidXRlZFJlc3VsdFNldCgp\nOw0KCQlmb3IgKFQgczp0aGlzKQ0KCQkJcnMuYWRkKHMuZXhlY3V0ZVF1ZXJ5\nKG51bGwpKTsNCgkJcmV0dXJuIHJzOw0KCX0NCg0KCXB1YmxpYyBSZXN1bHRT\nZXQgZXhlY3V0ZVF1ZXJ5KFN0cmluZyBhcmcwKSB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsNCgkJRGlzdHJpYnV0ZWRSZXN1bHRTZXQgcnMgPSBuZXcgRGlzdHJp\nYnV0ZWRSZXN1bHRTZXQoKTsNCgkJZm9yIChUIHM6dGhpcykNCgkJCXJzLmFk\nZChzLmV4ZWN1dGVRdWVyeShhcmcwKSk7DQoJCXJldHVybiByczsNCgl9DQoN\nCglwdWJsaWMgaW50IGV4ZWN1dGVVcGRhdGUoU3RyaW5nIGFyZzApIHRocm93\ncyBTUUxFeGNlcHRpb24gew0KCQlpbnQgcmV0ID0gMDsNCgkJZm9yIChUIHM6\ndGhpcykNCgkJCXJldCArPSBzLmV4ZWN1dGVVcGRhdGUoYXJnMCk7DQoJCXJl\ndHVybiByZXQ7DQoJfQ0KDQoJcHVibGljIGludCBleGVjdXRlVXBkYXRlKFN0\ncmluZyBhcmcwLCBpbnQgYXJnMSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQoJ\nCWludCByZXQgPSAwOw0KCQlmb3IgKFQgczp0aGlzKQ0KCQkJcmV0ICs9IHMu\nZXhlY3V0ZVVwZGF0ZShhcmcwLCBhcmcxKTsNCgkJcmV0dXJuIHJldDsNCgl9\nDQoNCglwdWJsaWMgaW50IGV4ZWN1dGVVcGRhdGUoU3RyaW5nIGFyZzAsIGlu\ndFtdIGFyZzEpIHRocm93cyBTUUxFeGNlcHRpb24gew0KCQlpbnQgcmV0ID0g\nMDsNCgkJZm9yIChUIHM6dGhpcykNCgkJCXJldCArPSBzLmV4ZWN1dGVVcGRh\ndGUoYXJnMCwgYXJnMSk7DQoJCXJldHVybiByZXQ7DQoJfQ0KDQoJcHVibGlj\nIGludCBleGVjdXRlVXBkYXRlKFN0cmluZyBhcmcwLCBTdHJpbmdbXSBhcmcx\nKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJaW50IHJldCA9IDA7DQoJCWZv\nciAoVCBzOnRoaXMpDQoJCQlyZXQgKz0gcy5leGVjdXRlVXBkYXRlKGFyZzAs\nIGFyZzEpOw0KCQlyZXR1cm4gcmV0Ow0KCX0NCg0KCXB1YmxpYyBDb25uZWN0\naW9uIGdldENvbm5lY3Rpb24oKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJ\ncmV0dXJuIGNvbjsNCgl9DQoNCglwdWJsaWMgaW50IGdldEZldGNoRGlyZWN0\naW9uKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQoJCXJldHVybiBtYXN0ZXIu\nZ2V0RmV0Y2hEaXJlY3Rpb24oKTsNCgl9DQoNCglwdWJsaWMgaW50IGdldEZl\ndGNoU2l6ZSgpIHRocm93cyBTUUxFeGNlcHRpb24gew0KCQlyZXR1cm4gbWFz\ndGVyLmdldEZldGNoU2l6ZSgpOw0KCX0NCg0KCXB1YmxpYyBSZXN1bHRTZXQg\nZ2V0R2VuZXJhdGVkS2V5cygpIHRocm93cyBTUUxFeGNlcHRpb24gew0KCQlE\naXN0cmlidXRlZFJlc3VsdFNldCBtcnMgPSBuZXcgRGlzdHJpYnV0ZWRSZXN1\nbHRTZXQoKTsNCgkJZm9yIChUIHM6dGhpcykNCgkJCW1ycy5hZGQocy5nZXRH\nZW5lcmF0ZWRLZXlzKCkpOw0KCQlyZXR1cm4gbXJzOw0KCX0NCg0KCXB1Ymxp\nYyBpbnQgZ2V0TWF4RmllbGRTaXplKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nDQoJCXJldHVybiBtYXN0ZXIuZ2V0TWF4RmllbGRTaXplKCk7DQoJfQ0KDQoJ\ncHVibGljIGludCBnZXRNYXhSb3dzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nDQoJCXJldHVybiBtYXN0ZXIuZ2V0TWF4Um93cygpOw0KCX0NCg0KCXB1Ymxp\nYyBib29sZWFuIGdldE1vcmVSZXN1bHRzKCkgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7DQoJCWZvciAoVCBzOnRoaXMpDQoJCQlpZiAocy5nZXRNb3JlUmVzdWx0\ncygpKQ0KCQkJCXJldHVybiB0cnVlOw0KCQlyZXR1cm4gZmFsc2U7DQoJfQ0K\nDQoJcHVibGljIGJvb2xlYW4gZ2V0TW9yZVJlc3VsdHMoaW50IGFyZzApIHRo\ncm93cyBTUUxFeGNlcHRpb24gew0KCQlmb3IgKFQgczp0aGlzKQ0KCQkJaWYg\nKHMuZ2V0TW9yZVJlc3VsdHMoYXJnMCkpDQoJCQkJcmV0dXJuIHRydWU7DQoJ\nCXJldHVybiBmYWxzZTsNCgl9DQoNCglwdWJsaWMgaW50IGdldFF1ZXJ5VGlt\nZW91dCgpIHRocm93cyBTUUxFeGNlcHRpb24gew0KCQlyZXR1cm4gbWFzdGVy\nLmdldFF1ZXJ5VGltZW91dCgpOw0KCX0NCg0KCXB1YmxpYyBSZXN1bHRTZXQg\nZ2V0UmVzdWx0U2V0KCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQoJCURpc3Ry\naWJ1dGVkUmVzdWx0U2V0IHJzID0gbmV3IERpc3RyaWJ1dGVkUmVzdWx0U2V0\nKCk7DQoJCWZvciAoVCBzOnRoaXMpDQoJCQlycy5hZGQocy5nZXRSZXN1bHRT\nZXQoKSk7DQoJCXJldHVybiByczsNCgl9DQoNCglwdWJsaWMgaW50IGdldFJl\nc3VsdFNldENvbmN1cnJlbmN5KCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7DQoJ\nCXJldHVybiBtYXN0ZXIuZ2V0UmVzdWx0U2V0Q29uY3VycmVuY3koKTsNCgl9\nDQoNCglwdWJsaWMgaW50IGdldFJlc3VsdFNldEhvbGRhYmlsaXR5KCkgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7DQoJCXJldHVybiBtYXN0ZXIuZ2V0UmVzdWx0\nU2V0SG9sZGFiaWxpdHkoKTsNCgl9DQoNCglwdWJsaWMgaW50IGdldFJlc3Vs\ndFNldFR5cGUoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJcmV0dXJuIG1h\nc3Rlci5nZXRSZXN1bHRTZXRUeXBlKCk7DQoJfQ0KDQoJcHVibGljIGludCBn\nZXRVcGRhdGVDb3VudCgpIHRocm93cyBTUUxFeGNlcHRpb24gew0KCQlyZXR1\ncm4gbWFzdGVyLmdldFVwZGF0ZUNvdW50KCk7DQoJfQ0KDQoJcHVibGljIFNR\nTFdhcm5pbmcgZ2V0V2FybmluZ3MoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsN\nCgkJcmV0dXJuIG1hc3Rlci5nZXRXYXJuaW5ncygpOw0KCX0NCg0KCXB1Ymxp\nYyB2b2lkIHNldEN1cnNvck5hbWUoU3RyaW5nIG5hbWUpIHRocm93cyBTUUxF\neGNlcHRpb24gew0KCQlmb3IgKFQgczp0aGlzKQ0KCQkJcy5zZXRDdXJzb3JO\nYW1lKG5hbWUpOw0KCX0NCg0KCXB1YmxpYyB2b2lkIHNldEVzY2FwZVByb2Nl\nc3NpbmcoYm9vbGVhbiBmbGFnKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJ\nZm9yIChUIHM6dGhpcykNCgkJCXMuc2V0RXNjYXBlUHJvY2Vzc2luZyhmbGFn\nKTsNCgl9DQoNCglwdWJsaWMgdm9pZCBzZXRGZXRjaERpcmVjdGlvbihpbnQg\nZGlyKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJZm9yIChUIHM6dGhpcykN\nCgkJCXMuc2V0RmV0Y2hEaXJlY3Rpb24oZGlyKTsNCgl9DQoNCglwdWJsaWMg\ndm9pZCBzZXRGZXRjaFNpemUoaW50IHNpemUpIHRocm93cyBTUUxFeGNlcHRp\nb24gew0KCQlmb3IgKFQgczp0aGlzKQ0KCQkJcy5zZXRGZXRjaFNpemUoc2l6\nZSk7DQoJfQ0KDQoJcHVibGljIHZvaWQgc2V0TWF4RmllbGRTaXplKGludCBz\naXplKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHsNCgkJZm9yIChUIHM6dGhpcykN\nCgkJCXMuc2V0TWF4RmllbGRTaXplKHNpemUpOw0KCX0NCg0KCXB1YmxpYyB2\nb2lkIHNldE1heFJvd3MoaW50IG4pIHRocm93cyBTUUxFeGNlcHRpb24gew0K\nCQlmb3IgKFQgczp0aGlzKQ0KCQkJcy5zZXRNYXhGaWVsZFNpemUobik7DQoJ\nfQ0KCQ0KCXB1YmxpYyB2b2lkIHNldFF1ZXJ5VGltZW91dChpbnQgbikgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7DQoJCWZvciAoVCBzOnRoaXMpDQoJCQlzLnNl\ndE1heEZpZWxkU2l6ZShuKTsNCgl9DQp9DQo=\n","encoding":"base64"}

