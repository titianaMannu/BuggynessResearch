{"sha":"e61ca7c3aaaa11e3c3212ef5bf016df04868db47","node_id":"MDQ6QmxvYjIwNjM2NDplNjFjYTdjM2FhYWExMWUzYzMyMTJlZjViZjAxNmRmMDQ4NjhkYjQ3","size":8682,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e61ca7c3aaaa11e3c3212ef5bf016df04868db47","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nc2xpY2U7DQoNCmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5Nb2RpZmllcjsN\nCmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0KaW1wb3J0IGphdmEudXRp\nbC5JdGVyYXRvcjsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBq\nYXZhLnV0aWwuTWFwOw0KaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOw0KaW1w\nb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFnZXI7DQppbXBvcnQg\namF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7DQppbXBv\ncnQgamF2YXgucGVyc2lzdGVuY2UuUGVyc2lzdGVuY2U7DQoNCmltcG9ydCBq\ndW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7DQppbXBvcnQganVuaXQuZnJhbWV3\nb3JrLlRlc3RSZXN1bHQ7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtl\ncm5lbC5BYnN0cmFjdEJyb2tlckZhY3Rvcnk7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmtlcm5lbC5Ccm9rZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5v\ncGVuanBhLm1ldGEuQ2xhc3NNZXRhRGF0YTsNCmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0\nb3J5U1BJOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5KUEFGYWNhZGVIZWxwZXI7DQoNCi8qKg0KICogQmFzZSB0ZXN0IGNsYXNz\nIHByb3ZpZGluZyBwZXJzaXN0ZW5jZSB1dGlsaXRpZXMuDQogKi8NCnB1Ymxp\nYyBhYnN0cmFjdCBjbGFzcyBQZXJzaXN0ZW5jZVRlc3RDYXNlDQogICAgZXh0\nZW5kcyBUZXN0Q2FzZSB7DQoNCiAgICAvKioNCiAgICAgKiBNYXJrZXIgb2Jq\nZWN0IHlvdSBhbiBwYXNzIHRvIHtAbGluayAjc2V0VXB9IHRvIGluZGljYXRl\nIHRoYXQgdGhlDQogICAgICogZGF0YWJhc2UgdGFibGVzIHNob3VsZCBiZSBj\nbGVhcmVkLg0KICAgICAqLw0KICAgIHByb3RlY3RlZCBzdGF0aWMgZmluYWwg\nT2JqZWN0IENMRUFSX1RBQkxFUyA9IG5ldyBPYmplY3QoKTsNCg0KICAgIC8q\nKg0KICAgICAqIFRoZSB7QGxpbmsgVGVzdFJlc3VsdH0gaW5zdGFuY2UgZm9y\nIHRoZSBjdXJyZW50IHRlc3QgcnVuLg0KICAgICAqLw0KICAgIHByb3RlY3Rl\nZCBUZXN0UmVzdWx0IHRlc3RSZXN1bHQ7DQoNCiAgICAvKioNCiAgICAgKiBD\ncmVhdGUgYW4gZW50aXR5IG1hbmFnZXIgZmFjdG9yeS4gUHV0IHtAbGluayAj\nQ0xFQVJfVEFCTEVTfSBpbg0KICAgICAqIHRoaXMgbGlzdCB0byB0ZWxsIHRo\nZSB0ZXN0IGZyYW1ld29yayB0byBkZWxldGUgYWxsIHRhYmxlIGNvbnRlbnRz\nDQogICAgICogYmVmb3JlIHJ1bm5pbmcgdGhlIHRlc3RzLg0KICAgICAqDQog\nICAgICogQHBhcmFtIHByb3BzIGxpc3Qgb2YgcGVyc2lzdGVudCB0eXBlcyB1\nc2VkIGluIHRlc3RpbmcgYW5kL29yDQogICAgICogY29uZmlndXJhdGlvbiB2\nYWx1ZXMgaW4gdGhlIGZvcm0ga2V5LHZhbHVlLGtleSx2YWx1ZS4uLg0KICAg\nICAqLw0KICAgIHByb3RlY3RlZCBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3Rv\ncnlTUEkgY3JlYXRlRU1GKE9iamVjdC4uLiBwcm9wcykgew0KICAgICAgICBy\nZXR1cm4gY3JlYXRlTmFtZWRFTUYoZ2V0UGVyc2lzdGVuY2VVbml0TmFtZSgp\nLCBwcm9wcyk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogVGhlIG5hbWUg\nb2YgdGhlIHBlcnNpc3RlbmNlIHVuaXQgdGhhdCB0aGlzIHRlc3QgY2xhc3Mg\nc2hvdWxkIHVzZQ0KICAgICAqIGJ5IGRlZmF1bHQuIFRoaXMgZGVmYXVsdHMg\ndG8gInRlc3QiLg0KICAgICAqLw0KICAgIHByb3RlY3RlZCBTdHJpbmcgZ2V0\nUGVyc2lzdGVuY2VVbml0TmFtZSgpIHsNCiAgICAgICAgcmV0dXJuICJ0ZXN0\nIjsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBDcmVhdGUgYW4gZW50aXR5\nIG1hbmFnZXIgZmFjdG9yeSBmb3IgcGVyc2lzdGVuY2UgdW5pdCA8Y29kZT5w\ndTwvY29kZT4uDQogICAgICogUHV0IHtAbGluayAjQ0xFQVJfVEFCTEVTfSBp\nbg0KICAgICAqIHRoaXMgbGlzdCB0byB0ZWxsIHRoZSB0ZXN0IGZyYW1ld29y\nayB0byBkZWxldGUgYWxsIHRhYmxlIGNvbnRlbnRzDQogICAgICogYmVmb3Jl\nIHJ1bm5pbmcgdGhlIHRlc3RzLg0KICAgICAqDQogICAgICogQHBhcmFtIHBy\nb3BzIGxpc3Qgb2YgcGVyc2lzdGVudCB0eXBlcyB1c2VkIGluIHRlc3Rpbmcg\nYW5kL29yDQogICAgICogY29uZmlndXJhdGlvbiB2YWx1ZXMgaW4gdGhlIGZv\ncm0ga2V5LHZhbHVlLGtleSx2YWx1ZS4uLg0KICAgICAqLw0KICAgIHByb3Rl\nY3RlZCBPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEkgY3JlYXRlTmFt\nZWRFTUYoU3RyaW5nIHB1LA0KICAgICAgICBPYmplY3QuLi4gcHJvcHMpIHsN\nCiAgICAgICAgTWFwIG1hcCA9IG5ldyBIYXNoTWFwKFN5c3RlbS5nZXRQcm9w\nZXJ0aWVzKCkpOw0KICAgICAgICBMaXN0PENsYXNzPiB0eXBlcyA9IG5ldyBB\ncnJheUxpc3Q8Q2xhc3M+KCk7DQogICAgICAgIGJvb2xlYW4gcHJvcCA9IGZh\nbHNlOw0KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHByb3BzLmxlbmd0\naDsgaSsrKSB7DQogICAgICAgICAgICBpZiAocHJvcCkgew0KICAgICAgICAg\nICAgICAgIG1hcC5wdXQocHJvcHNbaSAtIDFdLCBwcm9wc1tpXSk7DQogICAg\nICAgICAgICAgICAgcHJvcCA9IGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNl\nIGlmIChwcm9wc1tpXSA9PSBDTEVBUl9UQUJMRVMpIHsNCiAgICAgICAgICAg\nICAgICBtYXAucHV0KCJvcGVuanBhLmpkYmMuU3luY2hyb25pemVNYXBwaW5n\ncyIsDQogICAgICAgICAgICAgICAgICAgICJidWlsZFNjaGVtYShGb3JlaWdu\nS2V5cz10cnVlLCIgDQogICAgICAgICAgICAgICAgICAgICsgIlNjaGVtYUFj\ndGlvbj0nYWRkLGRlbGV0ZVRhYmxlQ29udGVudHMnKSIpOw0KICAgICAgICAg\nICAgfSBlbHNlIGlmIChwcm9wc1tpXSBpbnN0YW5jZW9mIENsYXNzKQ0KICAg\nICAgICAgICAgICAgIHR5cGVzLmFkZCgoQ2xhc3MpIHByb3BzW2ldKTsNCiAg\nICAgICAgICAgIGVsc2UgaWYgKHByb3BzW2ldICE9IG51bGwpDQogICAgICAg\nICAgICAgICAgcHJvcCA9IHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICBp\nZiAoIXR5cGVzLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgU3RyaW5nQnVm\nZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsNCiAgICAgICAgICAgIGZv\nciAoQ2xhc3MgYyA6IHR5cGVzKSB7DQogICAgICAgICAgICAgICAgaWYgKGJ1\nZi5sZW5ndGgoKSA+IDApDQogICAgICAgICAgICAgICAgICAgIGJ1Zi5hcHBl\nbmQoIjsiKTsNCiAgICAgICAgICAgICAgICBidWYuYXBwZW5kKGMuZ2V0TmFt\nZSgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1hcC5wdXQoIm9w\nZW5qcGEuTWV0YURhdGFGYWN0b3J5IiwNCiAgICAgICAgICAgICAgICAianBh\nKFR5cGVzPSIgKyBidWYudG9TdHJpbmcoKSArICIpIik7DQogICAgICAgIH0N\nCg0KICAgICAgICByZXR1cm4gKE9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9y\neVNQSSkgUGVyc2lzdGVuY2UuDQogICAgICAgICAgICBjcmVhdGVFbnRpdHlN\nYW5hZ2VyRmFjdG9yeShwdSwgbWFwKTsNCiAgICB9DQoNCiAgICBAT3ZlcnJp\nZGUNCiAgICBwdWJsaWMgdm9pZCBydW4oVGVzdFJlc3VsdCB0ZXN0UmVzdWx0\nKSB7DQogICAgICAgIHRoaXMudGVzdFJlc3VsdCA9IHRlc3RSZXN1bHQ7DQog\nICAgICAgIHN1cGVyLnJ1bih0ZXN0UmVzdWx0KTsNCiAgICB9DQoNCiAgICBA\nT3ZlcnJpZGUNCiAgICBwdWJsaWMgdm9pZCB0ZWFyRG93bigpIHRocm93cyBF\neGNlcHRpb24gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgc3VwZXIu\ndGVhckRvd24oKTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsN\nCiAgICAgICAgICAgIC8vIGlmIGEgdGVzdCBmYWlsZWQsIHN3YWxsb3cgYW55\nIGV4Y2VwdGlvbnMgdGhhdCBoYXBwZW4NCiAgICAgICAgICAgIC8vIGR1cmlu\nZyB0ZWFyLWRvd24sIGFzIHRoZXNlIGp1c3QgbWFzayB0aGUgb3JpZ2luYWwg\ncHJvYmxlbS4NCiAgICAgICAgICAgIGlmICh0ZXN0UmVzdWx0Lndhc1N1Y2Nl\nc3NmdWwoKSkNCiAgICAgICAgICAgICAgICB0aHJvdyBlOw0KICAgICAgICB9\nDQogICAgfQ0KDQogICAgLyoqDQogICAgICogU2FmZWx5IGNsb3NlIHRoZSBn\naXZlbiBmYWN0b3J5Lg0KICAgICAqLw0KICAgIHByb3RlY3RlZCBib29sZWFu\nIGNsb3NlRU1GKEVudGl0eU1hbmFnZXJGYWN0b3J5IGVtZikgew0KICAgICAg\nICBpZiAoZW1mID09IG51bGwgfHwgIWVtZi5pc09wZW4oKSkNCiAgICAgICAg\nICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgDQogICAgICAgIGNsb3NlQWxs\nT3BlbkVNcyhlbWYpOw0KICAgICAgICBlbWYuY2xvc2UoKTsNCiAgICAgICAg\ncmV0dXJuICFlbWYuaXNPcGVuKCk7DQogICAgfQ0KDQogICAgLyoqDQogICAg\nICogQ2xvc2VzIGFsbCBvcGVuIGVudGl0eSBtYW5hZ2VycyBhZnRlciBmaXJz\ndCByb2xsaW5nIGJhY2sgYW55IG9wZW4gdHJhbnNhY3Rpb25zDQogICAgICov\nDQogICAgcHJvdGVjdGVkIHZvaWQgY2xvc2VBbGxPcGVuRU1zKEVudGl0eU1h\nbmFnZXJGYWN0b3J5IGVtZikgew0KICAgICAgICBpZiAoZW1mID09IG51bGwg\nfHwgIWVtZi5pc09wZW4oKSkNCiAgICAgICAgICAgIHJldHVybjsNCg0KICAg\nICAgICBmb3IgKEl0ZXJhdG9yIGl0ZXIgPSAoKEFic3RyYWN0QnJva2VyRmFj\ndG9yeSkgSlBBRmFjYWRlSGVscGVyDQogICAgICAgICAgICAudG9Ccm9rZXJG\nYWN0b3J5KGVtZikpLmdldE9wZW5Ccm9rZXJzKCkuaXRlcmF0b3IoKTsNCiAg\nICAgICAgICAgIGl0ZXIuaGFzTmV4dCgpOyApIHsNCiAgICAgICAgICAgIEJy\nb2tlciBiID0gKEJyb2tlcikgaXRlci5uZXh0KCk7DQogICAgICAgICAgICBp\nZiAoYiAhPSBudWxsICYmICFiLmlzQ2xvc2VkKCkpIHsNCiAgICAgICAgICAg\nICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gSlBBRmFjYWRlSGVscGVyLnRvRW50\naXR5TWFuYWdlcihiKTsNCiAgICAgICAgICAgICAgICBpZiAoZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5pc0FjdGl2ZSgpKQ0KICAgICAgICAgICAgICAgICAgICBl\nbS5nZXRUcmFuc2FjdGlvbigpLnJvbGxiYWNrKCk7DQogICAgICAgICAgICAg\nICAgZW0uY2xvc2UoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAg\nIH0NCg0KICAgIC8qKg0KICAgICAqIERlbGV0ZSBhbGwgaW5zdGFuY2VzIG9m\nIHRoZSBnaXZlbiB0eXBlcyB1c2luZyBidWxrIGRlbGV0ZSBxdWVyaWVzLA0K\nICAgICAqIGJ1dCBkbyBub3QgY2xvc2UgYW55IG9wZW4gZW50aXR5IG1hbmFn\nZXJzLg0KICAgICAqLw0KICAgIHByb3RlY3RlZCB2b2lkIGNsZWFyKEVudGl0\neU1hbmFnZXJGYWN0b3J5IGVtZiwgQ2xhc3MuLi4gdHlwZXMpIHsNCiAgICAg\nICAgaWYgKGVtZiA9PSBudWxsIHx8IHR5cGVzLmxlbmd0aCA9PSAwKQ0KICAg\nICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgIExpc3Q8Q2xhc3NNZXRhRGF0\nYT4gbWV0YXMgPSBuZXcgQXJyYXlMaXN0PENsYXNzTWV0YURhdGE+KHR5cGVz\nLmxlbmd0aCk7DQogICAgICAgIGZvciAoQ2xhc3MgYyA6IHR5cGVzKSB7DQog\nICAgICAgICAgICBDbGFzc01ldGFEYXRhIG1ldGEgPSBKUEFGYWNhZGVIZWxw\nZXIuZ2V0TWV0YURhdGEoZW1mLCBjKTsNCiAgICAgICAgICAgIGlmIChtZXRh\nICE9IG51bGwpDQogICAgICAgICAgICAgICAgbWV0YXMuYWRkKG1ldGEpOw0K\nICAgICAgICB9DQogICAgICAgIGNsZWFyKGVtZiwgZmFsc2UsIG1ldGFzLnRv\nQXJyYXkobmV3IENsYXNzTWV0YURhdGFbbWV0YXMuc2l6ZSgpXSkpOw0KICAg\nIH0NCg0KICAgIC8qKg0KICAgICAqIERlbGV0ZSBhbGwgaW5zdGFuY2VzIG9m\nIHRoZSBwZXJzaXN0ZW50IHR5cGVzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgZ2l2\nZW4NCiAgICAgKiBmYWN0b3J5IHVzaW5nIGJ1bGsgZGVsZXRlIHF1ZXJpZXMs\nIGFmdGVyIGZpcnN0IGNsb3NpbmcgYWxsIG9wZW4gZW50aXR5DQogICAgICog\nbWFuYWdlcnMgKGFuZCByb2xsaW5nIGJhY2sgYW55IG9wZW4gdHJhbnNhY3Rp\nb25zKS4NCiAgICAgKi8NCiAgICBwcm90ZWN0ZWQgdm9pZCBjbGVhcihFbnRp\ndHlNYW5hZ2VyRmFjdG9yeSBlbWYpIHsNCiAgICAgICAgaWYgKGVtZiA9PSBu\ndWxsKQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBjbGVhcihlbWYs\nIHRydWUsICgoT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5U1BJKSBlbWYp\nLmdldENvbmZpZ3VyYXRpb24oKS4NCiAgICAgICAgICAgIGdldE1ldGFEYXRh\nUmVwb3NpdG9yeUluc3RhbmNlKCkuZ2V0TWV0YURhdGFzKCkpOw0KICAgIH0N\nCg0KICAgIC8qKg0KICAgICAqIERlbGV0ZSBhbGwgaW5zdGFuY2VzIG9mIHRo\nZSBnaXZlbiB0eXBlcyB1c2luZyBidWxrIGRlbGV0ZSBxdWVyaWVzLg0KICAg\nICAqIEBwYXJhbSBjbG9zZUVNcyBUT0RPDQogICAgICovDQogICAgcHJpdmF0\nZSB2b2lkIGNsZWFyKEVudGl0eU1hbmFnZXJGYWN0b3J5IGVtZiwgYm9vbGVh\nbiBjbG9zZUVNcywgQ2xhc3NNZXRhRGF0YS4uLiB0eXBlcykgew0KICAgICAg\nICBpZiAoZW1mID09IG51bGwgfHwgdHlwZXMubGVuZ3RoID09IDApDQogICAg\nICAgICAgICByZXR1cm47DQogICAgICAgIA0KICAgICAgICAvLyBwcmV2ZW50\nIGRlYWRsb2NrIGJ5IGNsb3NpbmcgdGhlIG9wZW4gZW50aXR5IG1hbmFnZXJz\nIA0KICAgICAgICAvLyBhbmQgcm9sbGluZyBiYWNrIGFueSBvcGVuIHRyYW5z\nYWN0aW9ucyANCiAgICAgICAgLy8gYmVmb3JlIGlzc3VpbmcgZGVsZXRlIHN0\nYXRlbWVudHMgb24gYSBuZXcgZW50aXR5IG1hbmFnZXIuDQogICAgICAgIGlm\nIChjbG9zZUVNcykNCiAgICAgICAgICAgIGNsb3NlQWxsT3BlbkVNcyhlbWYp\nOw0KDQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOw0KICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJl\nZ2luKCk7DQogICAgICAgIGZvciAoQ2xhc3NNZXRhRGF0YSBtZXRhIDogdHlw\nZXMpIHsNCiAgICAgICAgICAgIGlmICghbWV0YS5pc01hcHBlZCgpIHx8IG1l\ndGEuaXNFbWJlZGRlZE9ubHkoKSANCiAgICAgICAgICAgICAgICB8fCBNb2Rp\nZmllci5pc0Fic3RyYWN0KG1ldGEuZ2V0RGVzY3JpYmVkVHlwZSgpLmdldE1v\nZGlmaWVycygpKSkNCiAgICAgICAgICAgICAgICBjb250aW51ZTsNCi8vICAg\nICAgICAgICAgZW0uY3JlYXRlUXVlcnkoIkRFTEVURSBGUk9NICIgKyBtZXRh\nLmdldFR5cGVBbGlhcygpICsgIiBvIikuDQovLyAgICAgICAgICAgICAgICBl\neGVjdXRlVXBkYXRlKCk7DQogICAgICAgIH0NCiAgICAgICAgZW0uZ2V0VHJh\nbnNhY3Rpb24oKS5jb21taXQoKTsNCiAgICAgICAgZW0uY2xvc2UoKTsNCiAg\nICB9DQoNCiAgICAvKioNCiAgICAgKiBSZXR1cm4gdGhlIGVudGl0eSBuYW1l\nIGZvciB0aGUgZ2l2ZW4gdHlwZS4gICANCiAgICAgKi8NCiAgICBwcm90ZWN0\nZWQgU3RyaW5nIGVudGl0eU5hbWUoRW50aXR5TWFuYWdlckZhY3RvcnkgZW1m\nLCBDbGFzcyBjKSB7DQogICAgICAgIENsYXNzTWV0YURhdGEgbWV0YSA9IEpQ\nQUZhY2FkZUhlbHBlci5nZXRNZXRhRGF0YShlbWYsIGMpOw0KICAgICAgICBy\nZXR1cm4gKG1ldGEgPT0gbnVsbCkgPyBudWxsIDogbWV0YS5nZXRUeXBlQWxp\nYXMoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgYXNzZXJ0\nTm90RXF1YWxzKE9iamVjdCBvMSwgT2JqZWN0IG8yKSB7DQogICAgICAgIGlm\nIChvMSA9PSBvMikNCiAgICAgICAgICAgIGZhaWwoImV4cGVjdGVkIGFyZ3Mg\ndG8gYmUgZGlmZmVyZW50OyB3ZXJlIHRoZSBzYW1lIGluc3RhbmNlLiIpOw0K\nICAgICAgICBlbHNlIGlmIChvMSA9PSBudWxsIHx8IG8yID09IG51bGwpDQog\nICAgICAgICAgICByZXR1cm47DQogICAgICAgIGVsc2UgaWYgKG8xLmVxdWFs\ncyhvMikpDQogICAgICAgICAgICBmYWlsKCJleHBlY3RlZCBhcmdzIHRvIGJl\nIGRpZmZlcmVudDsgY29tcGFyZWQgZXF1YWwuIik7DQogICAgfQ0KfQ0K\n","encoding":"base64"}

