{"sha":"067be5761c71e77f5b960e3963d3ac11bc3cbdf0","node_id":"MDQ6QmxvYjIwNjM2NDowNjdiZTU3NjFjNzFlNzdmNWI5NjBlMzk2M2QzYWMxMWJjM2NiZGYw","size":32480,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/067be5761c71e77f5b960e3963d3ac11bc3cbdf0","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhOwoKaW1wb3J0\nIGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsKCmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5rZXJuZWwuSkRCQ0ZldGNoQ29uZmlndXJhdGlvbjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDU3RvcmU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLnN0cmF0cy5O\nb25lRmllbGRTdHJhdGVneTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNjaGVtYS5Db2x1bW47CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zY2hlbWEuQ29sdW1uSU87CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zY2hlbWEuRm9yZWlnbktleTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5JbmRleDsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5UYWJsZTsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5VbmlxdWU7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEuamRiYy5zcWwuSm9pbnM7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEuamRiYy5zcWwuUmVzdWx0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmpkYmMuc3FsLlJvdzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5q\nZGJjLnNxbC5Sb3dNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmpkYmMuc3FsLlNRTEJ1ZmZlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5qZGJjLnNxbC5TZWxlY3Q7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5zcWwuU2VsZWN0RXhlY3V0b3I7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEua2VybmVsLkZldGNoQ29uZmlndXJhdGlvbjsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuT3BlbkpQQVN0YXRlTWFuYWdlcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIubG9nLkxvZzsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFEYXRhOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnV0aWwuSW50ZXJuYWxFeGNlcHRpb247CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5NZXRhRGF0YUV4Y2VwdGlvbjsK\nCi8qKgogKiBTcGVjaWFsaXphdGlvbiBvZiBtZXRhZGF0YSBmb3IgcmVsYXRp\nb25hbCBkYXRhYmFzZXMuCiAqCiAqIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpw\ndWJsaWMgY2xhc3MgRmllbGRNYXBwaW5nCiAgICBleHRlbmRzIEZpZWxkTWV0\nYURhdGEKICAgIGltcGxlbWVudHMgVmFsdWVNYXBwaW5nLCBGaWVsZFN0cmF0\nZWd5IHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIgX2xv\nYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKEZpZWxkTWFwcGlu\nZy5jbGFzcyk7CgogICAgcHJpdmF0ZSBmaW5hbCBWYWx1ZU1hcHBpbmcgX3Zh\nbDsKICAgIHByaXZhdGUgZmluYWwgVmFsdWVNYXBwaW5nIF9rZXk7CiAgICBw\ncml2YXRlIGZpbmFsIFZhbHVlTWFwcGluZyBfZWxlbTsKICAgIHByaXZhdGUg\nZmluYWwgRmllbGRNYXBwaW5nSW5mbyBfaW5mbzsKICAgIHByaXZhdGUgZmlu\nYWwgSkRCQ0NvbHVtbk9yZGVyIF9vcmRlckNvbCA9IG5ldyBKREJDQ29sdW1u\nT3JkZXIoKTsKICAgIHByaXZhdGUgRmllbGRTdHJhdGVneSBfc3RyYXRlZ3kg\nPSBudWxsOwoKICAgIHByaXZhdGUgRm9yZWlnbktleSBfZmsgPSBudWxsOwog\nICAgcHJpdmF0ZSBDb2x1bW5JTyBfaW8gPSBudWxsOwogICAgcHJpdmF0ZSBV\nbmlxdWUgX3VucSA9IG51bGw7CiAgICBwcml2YXRlIEluZGV4IF9pZHggPSBu\ndWxsOwogICAgcHJpdmF0ZSBib29sZWFuIF9vdXRlciA9IGZhbHNlOwogICAg\ncHJpdmF0ZSBpbnQgX2ZldGNoTW9kZSA9IEludGVnZXIuTUFYX1ZBTFVFOwoK\nICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuCiAgICAgKi8KICAgIHB1Ymxp\nYyBGaWVsZE1hcHBpbmcoU3RyaW5nIG5hbWUsIENsYXNzIHR5cGUsIENsYXNz\nTWFwcGluZyBvd25lcikgewogICAgICAgIHN1cGVyKG5hbWUsIHR5cGUsIG93\nbmVyKTsKICAgICAgICBfaW5mbyA9IG93bmVyLmdldE1hcHBpbmdSZXBvc2l0\nb3J5KCkubmV3TWFwcGluZ0luZm8odGhpcyk7CiAgICAgICAgX3ZhbCA9IChW\nYWx1ZU1hcHBpbmcpIGdldFZhbHVlKCk7CiAgICAgICAgX2tleSA9IChWYWx1\nZU1hcHBpbmcpIGdldEtleSgpOwogICAgICAgIF9lbGVtID0gKFZhbHVlTWFw\ncGluZykgZ2V0RWxlbWVudCgpOwoKICAgICAgICBzZXRVc2VzSW50ZXJtZWRp\nYXRlKGZhbHNlKTsKICAgICAgICBzZXRVc2VzSW1wbERhdGEoQm9vbGVhbi5G\nQUxTRSk7CiAgICB9CgogICAgLy8vLy8vLwogICAgLy8gT1JNCiAgICAvLy8v\nLy8vCgogICAgLyoqCiAgICAgKiBSYXcgbWFwcGluZyBkYXRhIGFib3V0IGZp\nZWxkJ3Mgam9pbiB0byBwYXJlbnQgdGFibGUsIGFzIHdlbGwgYXMKICAgICAq\nIG1pc2NlbGxhbmVvdXMgc3BlY2lhbGl6ZWQgY29sdW1ucyBsaWtlIG9yZGVy\nIGNvbHVtbi4KICAgICAqLwogICAgcHVibGljIEZpZWxkTWFwcGluZ0luZm8g\nZ2V0TWFwcGluZ0luZm8oKSB7CiAgICAgICAgcmV0dXJuIF9pbmZvOwogICAg\nfQoKICAgIC8qKgogICAgICogVGhlIHN0cmF0ZWd5IHVzZWQgdG8gbWFwIHRo\naXMgbWFwcGluZy4KICAgICAqLwogICAgcHVibGljIEZpZWxkU3RyYXRlZ3kg\nZ2V0U3RyYXRlZ3koKSB7CiAgICAgICAgcmV0dXJuIF9zdHJhdGVneTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFRoZSBzdHJhdGVneSB1c2VkIHRvIG1hcCB0\naGlzIG1hcHBpbmcuIFRoZSA8Y29kZT5hZGFwdDwvY29kZT4KICAgICAqIHBh\ncmFtZXRlciBkZXRlcm1pbmVzIHdoZXRoZXIgdG8gYWRhcHQgd2hlbiBtYXBw\naW5nIHRoZSBzdHJhdGVneTsKICAgICAqIHVzZSBudWxsIGlmIHRoZSBzdHJh\ndGVneSBzaG91bGQgbm90IGJlIG1hcHBlZC4KICAgICAqLwogICAgcHVibGlj\nIHZvaWQgc2V0U3RyYXRlZ3koRmllbGRTdHJhdGVneSBzdHJhdGVneSwgQm9v\nbGVhbiBhZGFwdCkgewogICAgICAgIC8vIHNldCBzdHJhdGVneSBmaXJzdCBz\nbyB3ZSBjYW4gYWNjZXNzIGl0IGR1cmluZyBtYXBwaW5nCiAgICAgICAgRmll\nbGRTdHJhdGVneSBvcmlnID0gX3N0cmF0ZWd5OwogICAgICAgIF9zdHJhdGVn\neSA9IHN0cmF0ZWd5OwogICAgICAgIGlmIChzdHJhdGVneSAhPSBudWxsKSB7\nCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBzdHJhdGVneS5z\nZXRGaWVsZE1hcHBpbmcodGhpcyk7CiAgICAgICAgICAgICAgICBpZiAoYWRh\ncHQgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICBzdHJhdGVneS5tYXAo\nYWRhcHQuYm9vbGVhblZhbHVlKCkpOwogICAgICAgICAgICB9IGNhdGNoIChS\ndW50aW1lRXhjZXB0aW9uIHJlKSB7CiAgICAgICAgICAgICAgICAvLyByZXNl\ndCBzdHJhdGVneQogICAgICAgICAgICAgICAgX3N0cmF0ZWd5ID0gb3JpZzsK\nICAgICAgICAgICAgICAgIHRocm93IHJlOwogICAgICAgICAgICB9CgogICAg\nICAgICAgICAvLyBpZiBzZXQgdG8gdW5tYXBwZWQsIGNsZWFyIGRlZmluZWQg\nZmllbGQgY2FjaGUgaW4gcGFyZW50CiAgICAgICAgICAgIGlmICghaXNNYXBw\nZWQoKSkKICAgICAgICAgICAgICAgIGdldERlZmluaW5nTWFwcGluZygpLmNs\nZWFyRGVmaW5lZEZpZWxkQ2FjaGUoKTsKICAgICAgICB9CiAgICB9CgogICAg\nLyoqCiAgICAgKiBUaGUgbWFwcGluZydzIHByaW1hcnkgdGFibGUuCiAgICAg\nKi8KICAgIHB1YmxpYyBUYWJsZSBnZXRUYWJsZSgpIHsKICAgICAgICBpZiAo\nX2ZrICE9IG51bGwpCiAgICAgICAgICAgIHJldHVybiBfZmsuZ2V0VGFibGUo\nKTsKICAgICAgICBpZiAoX3ZhbC5nZXRGb3JlaWduS2V5KCkgIT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIF92YWwuZ2V0Rm9yZWlnbktleSgpLmdldFRh\nYmxlKCk7CiAgICAgICAgcmV0dXJuIGdldERlZmluaW5nTWFwcGluZygpLmdl\ndFRhYmxlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJL08gaW5mb3JtYXRp\nb24gb24gdGhlIGpvaW4gY29sdW1ucy4KICAgICAqLwogICAgcHVibGljIENv\nbHVtbklPIGdldEpvaW5Db2x1bW5JTygpIHsKICAgICAgICByZXR1cm4gKF9p\nbyA9PSBudWxsKSA/IENvbHVtbklPLlVOUkVTVFJJQ1RFRCA6IF9pbzsKICAg\nIH0KCiAgICAvKioKICAgICAqIEkvTyBpbmZvcm1hdGlvbiBvbiB0aGUgam9p\nbiBjb2x1bW5zLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRKb2luQ29s\ndW1uSU8oQ29sdW1uSU8gaW8pIHsKICAgICAgICBfaW8gPSBpbzsKICAgIH0K\nCiAgICAvKioKICAgICAqIEZvcmVpZ24ga2V5IGxpbmtpbmcgdGhlIGZpZWxk\nIHRhYmxlIHRvIHRoZSBjbGFzcycgcHJpbWFyeSB0YWJsZS4KICAgICAqLwog\nICAgcHVibGljIEZvcmVpZ25LZXkgZ2V0Sm9pbkZvcmVpZ25LZXkoKSB7CiAg\nICAgICAgcmV0dXJuIF9mazsKICAgIH0KCiAgICAvKioKICAgICAqIEZvcmVp\nZ24ga2V5IGxpbmtpbmcgdGhlIGZpZWxkIHRhYmxlIHRvIHRoZSBjbGFzcycg\ncHJpbWFyeSB0YWJsZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0Sm9p\nbkZvcmVpZ25LZXkoRm9yZWlnbktleSBmaykgewogICAgICAgIF9mayA9IGZr\nOwogICAgfQoKICAgIC8qKgogICAgICogVW5pcXVlIGNvbnN0cmFpbnQgb24g\nam9pbiBmb3JlaWduIGtleSBjb2x1bW5zLgogICAgICovCiAgICBwdWJsaWMg\nVW5pcXVlIGdldEpvaW5VbmlxdWUoKSB7CiAgICAgICAgcmV0dXJuIF91bnE7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBVbmlxdWUgY29uc3RyYWludCBvbiBq\nb2luIGZvcmVpZ24ga2V5IGNvbHVtbnMuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldEpvaW5VbmlxdWUoVW5pcXVlIHVucSkgewogICAgICAgIF91bnEg\nPSB1bnE7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbmRleCBvbiBqb2luIGZv\ncmVpZ24ga2V5IGNvbHVtbnMuCiAgICAgKi8KICAgIHB1YmxpYyBJbmRleCBn\nZXRKb2luSW5kZXgoKSB7CiAgICAgICAgcmV0dXJuIF9pZHg7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBJbmRleCBvbiBqb2luIGZvcmVpZ24ga2V5IGNvbHVt\nbnMuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEpvaW5JbmRleChJbmRl\neCBpZHgpIHsKICAgICAgICBfaWR4ID0gaWR4OwogICAgfQoKICAgIC8qKgog\nICAgICogV2hldGhlciB0byB1c2UgYW4gb3V0ZXIgam9pbiBmcm9tIHRoZSBj\nbGFzcycgcHJpbWFyeSB0YWJsZS4KICAgICAqLwogICAgcHVibGljIGJvb2xl\nYW4gaXNKb2luT3V0ZXIoKSB7CiAgICAgICAgcmV0dXJuIF9vdXRlcjsKICAg\nIH0KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gdXNlIGFuIG91dGVyIGpv\naW4gZnJvbSB0aGUgY2xhc3MnIHByaW1hcnkgdGFibGUuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldEpvaW5PdXRlcihib29sZWFuIG91dGVyKSB7CiAg\nICAgICAgX291dGVyID0gb3V0ZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBG\naWVsZCBvcmRlciBjb2x1bW4sIGlmIGFueS4KICAgICAqLwogICAgcHVibGlj\nIENvbHVtbiBnZXRPcmRlckNvbHVtbigpIHsKICAgICAgICByZXR1cm4gX29y\nZGVyQ29sLmdldENvbHVtbigpOwogICAgfQoKICAgIC8qKgogICAgICogRmll\nbGQgb3JkZXIgY29sdW1uLCBpZiBhbnkuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldE9yZGVyQ29sdW1uKENvbHVtbiBvcmRlcikgewogICAgICAgIF9v\ncmRlckNvbC5zZXRDb2x1bW4ob3JkZXIpOwogICAgfQoKICAgIC8qKgogICAg\nICogSS9PIGluZm9ybWF0aW9uIGZvciBvcmRlciBjb2x1bW4uCiAgICAgKi8K\nICAgIHB1YmxpYyBDb2x1bW5JTyBnZXRPcmRlckNvbHVtbklPKCkgewogICAg\nICAgIHJldHVybiBfb3JkZXJDb2wuZ2V0Q29sdW1uSU8oKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEkvTyBpbmZvcm1hdGlvbiBmb3Igb3JkZXIgY29sdW1u\nLgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRPcmRlckNvbHVtbklPKENv\nbHVtbklPIGlvKSB7CiAgICAgICAgX29yZGVyQ29sLnNldENvbHVtbklPKGlv\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIEluY3JlbWVudCB0aGUgcmVmZXJl\nbmNlIGNvdW50IG9mIHVzZWQgc2NoZW1hIGNvbXBvbmVudHMuCiAgICAgKi8K\nICAgIHB1YmxpYyB2b2lkIHJlZlNjaGVtYUNvbXBvbmVudHMoKSB7CiAgICAg\nICAgaWYgKF9mayAhPSBudWxsKSB7CiAgICAgICAgICAgIF9may5yZWYoKTsK\nICAgICAgICAgICAgX2ZrLnJlZkNvbHVtbnMoKTsKICAgICAgICB9CiAgICAg\nICAgaWYgKF9vcmRlckNvbC5nZXRDb2x1bW4oKSAhPSBudWxsKQogICAgICAg\nICAgICBfb3JkZXJDb2wuZ2V0Q29sdW1uKCkucmVmKCk7CiAgICAgICAgX3Zh\nbC5yZWZTY2hlbWFDb21wb25lbnRzKCk7CiAgICAgICAgX2tleS5yZWZTY2hl\nbWFDb21wb25lbnRzKCk7CiAgICAgICAgX2VsZW0ucmVmU2NoZW1hQ29tcG9u\nZW50cygpOwogICAgfQoKICAgIC8qKgogICAgICogQ2xlYXIgbWFwcGluZyBp\nbmZvcm1hdGlvbiwgaW5jbHVkaW5nIHN0cmF0ZWd5LgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBjbGVhck1hcHBpbmcoKSB7CiAgICAgICAgX3N0cmF0ZWd5\nID0gbnVsbDsKICAgICAgICBfZmsgPSBudWxsOwogICAgICAgIF91bnEgPSBu\ndWxsOwogICAgICAgIF9pZHggPSBudWxsOwogICAgICAgIF9vdXRlciA9IGZh\nbHNlOwogICAgICAgIF9vcmRlckNvbC5zZXRDb2x1bW4obnVsbCk7CiAgICAg\nICAgX3ZhbC5jbGVhck1hcHBpbmcoKTsKICAgICAgICBfa2V5LmNsZWFyTWFw\ncGluZygpOwogICAgICAgIF9lbGVtLmNsZWFyTWFwcGluZygpOwogICAgICAg\nIF9pbmZvLmNsZWFyKCk7CiAgICAgICAgc2V0UmVzb2x2ZShNT0RFX01BUFBJ\nTkcsIGZhbHNlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFVwZGF0ZSB7QGxp\nbmsgTWFwcGluZ0luZm99IHdpdGggb3VyIGN1cnJlbnQgbWFwcGluZyBpbmZv\ncm1hdGlvbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgc3luY01hcHBpbmdJ\nbmZvKCkgewogICAgICAgIGlmIChpc1ZlcnNpb24oKSkgewogICAgICAgICAg\nICAvLyB3ZSByZWx5IG9uIHRoZSBmYWN0IHRoYXQgdGhlIHZlcnNpb24gd2ls\nbCBzZXR1cCBvdXIgbWFwcGluZwogICAgICAgICAgICAvLyBpbmZvIGNvcnJl\nY3RseSB3aGVuIGl0IGlzIHN5bmNlZAogICAgICAgIH0gZWxzZSBpZiAoZ2V0\nTWFwcGVkQnlNYXBwaW5nKCkgIT0gbnVsbCkgewogICAgICAgICAgICBfaW5m\nby5jbGVhcigpOwogICAgICAgICAgICBfdmFsLmdldFZhbHVlSW5mbygpLmNs\nZWFyKCk7CiAgICAgICAgICAgIF9rZXkuZ2V0VmFsdWVJbmZvKCkuY2xlYXIo\nKTsKICAgICAgICAgICAgX2VsZW0uZ2V0VmFsdWVJbmZvKCkuY2xlYXIoKTsK\nCiAgICAgICAgICAgIEZpZWxkTWFwcGluZyBtYXBwZWQgPSBnZXRNYXBwZWRC\neU1hcHBpbmcoKTsKICAgICAgICAgICAgX2luZm8uc3luY1N0cmF0ZWd5KHRo\naXMpOwogICAgICAgICAgICBpZiAoX29yZGVyQ29sLmdldENvbHVtbigpICE9\nIG51bGwKICAgICAgICAgICAgICAgICYmIG1hcHBlZC5nZXRPcmRlckNvbHVt\nbigpID09IG51bGwpCiAgICAgICAgICAgICAgICBfaW5mby5zeW5jT3JkZXJD\nb2x1bW4odGhpcyk7CiAgICAgICAgICAgIF92YWwuZ2V0VmFsdWVJbmZvKCku\nc2V0VXNlQ2xhc3NDcml0ZXJpYQogICAgICAgICAgICAgICAgKF92YWwuZ2V0\nVXNlQ2xhc3NDcml0ZXJpYSgpKTsKICAgICAgICAgICAgX2tleS5nZXRWYWx1\nZUluZm8oKS5zZXRVc2VDbGFzc0NyaXRlcmlhCiAgICAgICAgICAgICAgICAo\nX2tleS5nZXRVc2VDbGFzc0NyaXRlcmlhKCkpOwogICAgICAgICAgICBfZWxl\nbS5nZXRWYWx1ZUluZm8oKS5zZXRVc2VDbGFzc0NyaXRlcmlhCiAgICAgICAg\nICAgICAgICAoX2VsZW0uZ2V0VXNlQ2xhc3NDcml0ZXJpYSgpKTsKICAgICAg\nICB9IGVsc2UgewogICAgICAgICAgICBfaW5mby5zeW5jV2l0aCh0aGlzKTsK\nICAgICAgICAgICAgX3ZhbC5zeW5jTWFwcGluZ0luZm8oKTsKICAgICAgICAg\nICAgX2tleS5zeW5jTWFwcGluZ0luZm8oKTsKICAgICAgICAgICAgX2VsZW0u\nc3luY01hcHBpbmdJbmZvKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJucyB0cnVlIGlmIGZpZWxkIGNsYXNzIGRvZXMgbm90IHVz\nZSB0aGUgIm5vbmUiIHN0cmF0ZWd5IChpbmNsdWRpbmcKICAgICAqIGlmIGl0\nIGhhcyBhIG51bGwgc3RyYXRlZ3ksIGFuZCB0aGVyZWZvcmUgaXMgcHJvYmFi\nbHkgaW4gdGhlIHByb2Nlc3Mgb2YKICAgICAqIGJlaW5nIG1hcHBlZCkuCiAg\nICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzTWFwcGVkKCkgewogICAgICAg\nIHJldHVybiBfc3RyYXRlZ3kgIT0gTm9uZUZpZWxkU3RyYXRlZ3kuZ2V0SW5z\ndGFuY2UoKTsKICAgIH0KCiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAg\nICAvLyBNZXRhRGF0YSBpbnRlcmZhY2UKICAgIC8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8KCiAgICAvKioKICAgICAqIFRoZSBlYWdlciBmZXRjaCBtb2RlLCBh\ncyBvbmUgb2YgdGhlIGVhZ2VyIGNvbnN0YW50cyBpbgogICAgICoge0BsaW5r\nIEpEQkNGZXRjaENvbmZpZ3VyYXRpb259LgogICAgICovCiAgICBwdWJsaWMg\naW50IGdldEVhZ2VyRmV0Y2hNb2RlKCkgewogICAgICAgIGlmIChfZmV0Y2hN\nb2RlID09IEludGVnZXIuTUFYX1ZBTFVFKQogICAgICAgICAgICBfZmV0Y2hN\nb2RlID0gRmV0Y2hDb25maWd1cmF0aW9uLkRFRkFVTFQ7CiAgICAgICAgcmV0\ndXJuIF9mZXRjaE1vZGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgZWFn\nZXIgZmV0Y2ggbW9kZSwgYXMgb25lIG9mIHRoZSBlYWdlciBjb25zdGFudHMg\naW4KICAgICAqIHtAbGluayBKREJDRmV0Y2hDb25maWd1cmF0aW9ufS4KICAg\nICAqLwogICAgcHVibGljIHZvaWQgc2V0RWFnZXJGZXRjaE1vZGUoaW50IG1v\nZGUpIHsKICAgICAgICBfZmV0Y2hNb2RlID0gbW9kZTsKICAgIH0KCiAgICAv\nKioKICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBwZXJmb3JtIGNhc3Qg\nZnJvbQogICAgICoge0BsaW5rIEZpZWxkTWV0YURhdGEjZ2V0UmVwb3NpdG9y\neX0KICAgICAqLwogICAgcHVibGljIE1hcHBpbmdSZXBvc2l0b3J5IGdldE1h\ncHBpbmdSZXBvc2l0b3J5KCkgewogICAgICAgIHJldHVybiAoTWFwcGluZ1Jl\ncG9zaXRvcnkpIGdldFJlcG9zaXRvcnkoKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBwZXJmb3JtIGNhc3QgZnJvbQog\nICAgICoge0BsaW5rIEZpZWxkTWV0YURhdGEjZ2V0RGVmaW5pbmdNZXRhRGF0\nYX0KICAgICAqLwogICAgcHVibGljIENsYXNzTWFwcGluZyBnZXREZWZpbmlu\nZ01hcHBpbmcoKSB7CiAgICAgICAgcmV0dXJuIChDbGFzc01hcHBpbmcpIGdl\ndERlZmluaW5nTWV0YURhdGEoKTsKICAgIH0KCiAgICAvKioKICAgICAqIENv\nbnZlbmllbmNlIG1ldGhvZCB0byBwZXJmb3JtIGNhc3QgZnJvbQogICAgICog\ne0BsaW5rIEZpZWxkTWV0YURhdGEjZ2V0RGVjbGFyaW5nTWV0YURhdGF9CiAg\nICAgKi8KICAgIHB1YmxpYyBDbGFzc01hcHBpbmcgZ2V0RGVjbGFyaW5nTWFw\ncGluZygpIHsKICAgICAgICByZXR1cm4gKENsYXNzTWFwcGluZykgZ2V0RGVj\nbGFyaW5nTWV0YURhdGEoKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnZl\nbmllbmNlIG1ldGhvZCB0byBwZXJmb3JtIGNhc3QgZnJvbSB7QGxpbmsgRmll\nbGRNZXRhRGF0YSNnZXRLZXl9CiAgICAgKi8KICAgIHB1YmxpYyBWYWx1ZU1h\ncHBpbmcgZ2V0S2V5TWFwcGluZygpIHsKICAgICAgICByZXR1cm4gX2tleTsK\nICAgIH0KCiAgICAvKioKICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBw\nZXJmb3JtIGNhc3QgZnJvbSB7QGxpbmsgRmllbGRNZXRhRGF0YSNnZXRFbGVt\nZW50fQogICAgICovCiAgICBwdWJsaWMgVmFsdWVNYXBwaW5nIGdldEVsZW1l\nbnRNYXBwaW5nKCkgewogICAgICAgIHJldHVybiBfZWxlbTsKICAgIH0KCiAg\nICAvKioKICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBwZXJmb3JtIGNh\nc3QgZnJvbSB7QGxpbmsgRmllbGRNZXRhRGF0YSNnZXRWYWx1ZX0KICAgICAq\nLwogICAgcHVibGljIFZhbHVlTWFwcGluZyBnZXRWYWx1ZU1hcHBpbmcoKSB7\nCiAgICAgICAgcmV0dXJuIChWYWx1ZU1hcHBpbmcpIGdldFZhbHVlKCk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gcGVy\nZm9ybSBjYXN0IGZyb20KICAgICAqIHtAbGluayBGaWVsZE1ldGFEYXRhI2dl\ndE1hcHBlZEJ5TWV0YURhdGF9CiAgICAgKi8KICAgIHB1YmxpYyBGaWVsZE1h\ncHBpbmcgZ2V0TWFwcGVkQnlNYXBwaW5nKCkgewogICAgICAgIHJldHVybiAo\nRmllbGRNYXBwaW5nKSBnZXRNYXBwZWRCeU1ldGFEYXRhKCk7CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gcGVyZm9ybSBj\nYXN0IGZyb20KICAgICAqIHtAbGluayBGaWVsZE1ldGFEYXRhI2dldEludmVy\nc2VNZXRhRGF0YXN9CiAgICAgKi8KICAgIHB1YmxpYyBGaWVsZE1hcHBpbmdb\nXSBnZXRJbnZlcnNlTWFwcGluZ3MoKSB7CiAgICAgICAgcmV0dXJuIChGaWVs\nZE1hcHBpbmdbXSkgZ2V0SW52ZXJzZU1ldGFEYXRhcygpOwogICAgfQoKICAg\nIHB1YmxpYyBib29sZWFuIHJlc29sdmUoaW50IG1vZGUpIHsKICAgICAgICBp\nbnQgY3VyID0gZ2V0UmVzb2x2ZSgpOwogICAgICAgIGlmIChzdXBlci5yZXNv\nbHZlKG1vZGUpKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBp\nZiAoKG1vZGUgJiBNT0RFX01BUFBJTkcpICE9IDAgJiYgKGN1ciAmIE1PREVf\nTUFQUElORykgPT0gMCkKICAgICAgICAgICAgcmVzb2x2ZU1hcHBpbmcoKTsK\nICAgICAgICBpZiAoKG1vZGUgJiBNT0RFX01BUFBJTkdfSU5JVCkgIT0gMCAm\nJiAoY3VyICYgTU9ERV9NQVBQSU5HX0lOSVQpID09IDApCiAgICAgICAgICAg\nIGluaXRpYWxpemVNYXBwaW5nKCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwog\nICAgfQoKICAgIC8qKgogICAgICogUmVzb2x2ZSB0aGUgbWFwcGluZyBpbmZv\ncm1hdGlvbiBmb3IgdGhpcyBmaWVsZC4KICAgICAqLwogICAgcHJpdmF0ZSB2\nb2lkIHJlc29sdmVNYXBwaW5nKCkgewogICAgICAgIE1hcHBpbmdSZXBvc2l0\nb3J5IHJlcG9zID0gZ2V0TWFwcGluZ1JlcG9zaXRvcnkoKTsKICAgICAgICBp\nZiAocmVwb3MuZ2V0TWFwcGluZ0RlZmF1bHRzKCkuZGVmYXVsdE1pc3NpbmdJ\nbmZvKCkpIHsKICAgICAgICAgICAgLy8gY29weSBlbWJlZGRlZCB0ZW1wbGF0\nZSBtYXBwaW5nIGluZm8KICAgICAgICAgICAgQ2xhc3NNYXBwaW5nIGNscyA9\nIGdldERlZmluaW5nTWFwcGluZygpOwogICAgICAgICAgICBpZiAoY2xzLmdl\ndEVtYmVkZGluZ01hcHBpbmcoKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAg\nICBDbGFzc01hcHBpbmcgb3JpZyA9IHJlcG9zLmdldE1hcHBpbmcoY2xzLmdl\ndERlc2NyaWJlZFR5cGUoKSwKICAgICAgICAgICAgICAgICAgICBjbHMuZ2V0\nRW52Q2xhc3NMb2FkZXIoKSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBGaWVs\nZE1hcHBpbmcgdG1wbGF0ZSA9IG9yaWcuZ2V0RmllbGRNYXBwaW5nKGdldE5h\nbWUoKSk7CiAgICAgICAgICAgICAgICBpZiAodG1wbGF0ZSAhPSBudWxsKQog\nICAgICAgICAgICAgICAgICAgIGNvcHlNYXBwaW5nSW5mbyh0bXBsYXRlKTsK\nICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBjb3B5IHN1cGVyY2xhc3Mg\nZmllbGQgaW5mbwogICAgICAgICAgICBlbHNlIGlmIChjbHMuaXNNYXBwZWQo\nKSAmJiBjbHMuZ2V0UENTdXBlcmNsYXNzKCkgIT0gbnVsbAogICAgICAgICAg\nICAgICAgJiYgY2xzLmdldERlc2NyaWJlZFR5cGUoKSAhPSBnZXREZWNsYXJp\nbmdUeXBlKCkpIHsKICAgICAgICAgICAgICAgIEZpZWxkTWFwcGluZyBzdXAg\nPSBjbHMuZ2V0UENTdXBlcmNsYXNzTWFwcGluZygpLgogICAgICAgICAgICAg\nICAgICAgIGdldEZpZWxkTWFwcGluZyhnZXROYW1lKCkpOwogICAgICAgICAg\nICAgICAgaWYgKHN1cCAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIGNv\ncHlNYXBwaW5nSW5mbyhzdXApOwogICAgICAgICAgICB9CiAgICAgICAgfQoK\nICAgICAgICBpZiAoX3N0cmF0ZWd5ID09IG51bGwpIHsKICAgICAgICAgICAg\naWYgKGlzVmVyc2lvbigpKQogICAgICAgICAgICAgICAgX3N0cmF0ZWd5ID0g\nTm9uZUZpZWxkU3RyYXRlZ3kuZ2V0SW5zdGFuY2UoKTsKICAgICAgICAgICAg\nZWxzZQogICAgICAgICAgICAgICAgcmVwb3MuZ2V0U3RyYXRlZ3lJbnN0YWxs\nZXIoKS5pbnN0YWxsU3RyYXRlZ3kodGhpcyk7CiAgICAgICAgfQogICAgICAg\nIExvZyBsb2cgPSBnZXRSZXBvc2l0b3J5KCkuZ2V0TG9nKCk7CiAgICAgICAg\naWYgKGxvZy5pc1RyYWNlRW5hYmxlZCgpKQogICAgICAgICAgICBsb2cudHJh\nY2UoX2xvYy5nZXQoImZpZWxkLXN0cmF0ZWd5IiwgZ2V0TmFtZSgpLAogICAg\nICAgICAgICAgICAgX3N0cmF0ZWd5LmdldEFsaWFzKCkpKTsKCiAgICAgICAg\nLy8gbWFyayBtYXBwZWQgY29sdW1ucwogICAgICAgIGlmIChfb3JkZXJDb2wu\nZ2V0Q29sdW1uKCkgIT0gbnVsbCkgewogICAgICAgICAgICBpZiAoZ2V0T3Jk\nZXJDb2x1bW5JTygpLmlzSW5zZXJ0YWJsZSgwLCBmYWxzZSkpCiAgICAgICAg\nICAgICAgICBfb3JkZXJDb2wuZ2V0Q29sdW1uKCkuc2V0RmxhZyhDb2x1bW4u\nRkxBR19ESVJFQ1RfSU5TRVJULCB0cnVlKTsKICAgICAgICAgICAgaWYgKGdl\ndE9yZGVyQ29sdW1uSU8oKS5pc1VwZGF0YWJsZSgwLCBmYWxzZSkpCiAgICAg\nICAgICAgICAgICBfb3JkZXJDb2wuZ2V0Q29sdW1uKCkuc2V0RmxhZyhDb2x1\nbW4uRkxBR19ESVJFQ1RfVVBEQVRFLCB0cnVlKTsKICAgICAgICB9CiAgICAg\nICAgaWYgKF9mayAhPSBudWxsKSB7CiAgICAgICAgICAgIENvbHVtbltdIGNv\nbHMgPSBfZmsuZ2V0Q29sdW1ucygpOwogICAgICAgICAgICBDb2x1bW5JTyBp\nbyA9IGdldEpvaW5Db2x1bW5JTygpOwogICAgICAgICAgICBmb3IgKGludCBp\nID0gMDsgaSA8IGNvbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAg\nIGlmIChpby5pc0luc2VydGFibGUoaSwgZmFsc2UpKQogICAgICAgICAgICAg\nICAgICAgIGNvbHNbaV0uc2V0RmxhZyhDb2x1bW4uRkxBR19GS19JTlNFUlQs\nIHRydWUpOwogICAgICAgICAgICAgICAgaWYgKGlvLmlzVXBkYXRhYmxlKGks\nIGZhbHNlKSkKICAgICAgICAgICAgICAgICAgICBjb2xzW2ldLnNldEZsYWco\nQ29sdW1uLkZMQUdfRktfVVBEQVRFLCB0cnVlKTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KCiAgICAgICAgX3ZhbC5yZXNvbHZlKE1PREVfTUFQUElORyk7\nCiAgICAgICAgX2tleS5yZXNvbHZlKE1PREVfTUFQUElORyk7CiAgICAgICAg\nX2VsZW0ucmVzb2x2ZShNT0RFX01BUFBJTkcpOwogICAgfQoKICAgIC8qKgog\nICAgICogQ29weSBtYXBwaW5nIGluZm8gZnJvbSB0aGUgZ2l2ZW4gaW5zdGFu\nY2UgdG8gdGhpcyBvbmUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIGNvcHlN\nYXBwaW5nSW5mbyhGaWVsZE1hcHBpbmcgZm0pIHsKICAgICAgICBzZXRNYXBw\nZWRCeShmbS5nZXRNYXBwZWRCeSgpKTsKICAgICAgICBfaW5mby5jb3B5KGZt\nLmdldE1hcHBpbmdJbmZvKCkpOwogICAgICAgIF92YWwuY29weU1hcHBpbmdJ\nbmZvKGZtLmdldFZhbHVlTWFwcGluZygpKTsKICAgICAgICBfa2V5LmNvcHlN\nYXBwaW5nSW5mbyhmbS5nZXRLZXlNYXBwaW5nKCkpOwogICAgICAgIF9lbGVt\nLmNvcHlNYXBwaW5nSW5mbyhmbS5nZXRFbGVtZW50TWFwcGluZygpKTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFByZXBhcmUgbWFwcGluZyBmb3IgcnVudGlt\nZSB1c2UuCiAgICAgKi8KICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplTWFw\ncGluZygpIHsKICAgICAgICBfdmFsLnJlc29sdmUoTU9ERV9NQVBQSU5HX0lO\nSVQpOwogICAgICAgIF9rZXkucmVzb2x2ZShNT0RFX01BUFBJTkdfSU5JVCk7\nCiAgICAgICAgX3ZhbC5yZXNvbHZlKE1PREVfTUFQUElOR19JTklUKTsKICAg\nICAgICBpZiAoX3N0cmF0ZWd5ICE9IG51bGwpCiAgICAgICAgICAgIF9zdHJh\ndGVneS5pbml0aWFsaXplKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgY29w\neShGaWVsZE1ldGFEYXRhIGZtZCkgewogICAgICAgIHN1cGVyLmNvcHkoZm1k\nKTsKICAgICAgICBpZiAoX2ZldGNoTW9kZSA9PSBJbnRlZ2VyLk1BWF9WQUxV\nRSkKICAgICAgICAgICAgX2ZldGNoTW9kZSA9ICgoRmllbGRNYXBwaW5nKSBm\nbWQpLmdldEVhZ2VyRmV0Y2hNb2RlKCk7CiAgICB9CgogICAgcHJvdGVjdGVk\nIGJvb2xlYW4gdmFsaWRhdGVEYXRhU3RvcmVFeHRlbnNpb25QcmVmaXgoU3Ry\naW5nIHByZWZpeCkgewogICAgICAgIHJldHVybiAiamRiYy0iLmVxdWFscyhw\ncmVmaXgpOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vCiAgICAvLyBGaWVsZFN0cmF0ZWd5IGltcGxlbWVudGF0aW9uCiAg\nICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0QWxpYXMoKSB7CiAgICAgICAgcmV0dXJuIGFzc2VydFN0\ncmF0ZWd5KCkuZ2V0QWxpYXMoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBt\nYXAoYm9vbGVhbiBhZGFwdCkgewogICAgICAgIGFzc2VydFN0cmF0ZWd5KCku\nbWFwKGFkYXB0KTsKICAgIH0KCiAgICAvKioKICAgICAqIE1hcCB0aGlzIGZp\nZWxkIHRvIGl0cyB0YWJsZSwgb3B0aW9uYWxseSByZXF1aXJpbmcgdGhhdCBp\ndCBiZQogICAgICogaW4gYW5vdGhlciB0YWJsZS4gVXRpbGl0eSBtZXRob2Qg\nZm9yIHVzZSBieSBtYXBwaW5nIHN0cmF0ZWdpZXMuCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIG1hcEpvaW4oYm9vbGVhbiBhZGFwdCwgYm9vbGVhbiBqb2lu\nUmVxdWlyZWQpIHsKICAgICAgICBUYWJsZSB0YWJsZSA9IF9pbmZvLmdldFRh\nYmxlKHRoaXMsIGpvaW5SZXF1aXJlZCwgYWRhcHQpOwoKICAgICAgICBpZih0\nYWJsZSAhPSBudWxsICYmIHRhYmxlLmVxdWFscyhnZXREZWZpbmluZ01hcHBp\nbmcoKS5nZXRUYWJsZSgpKSkgewogICAgICAgICAgICAvLyBEb24ndCBjcmVh\ndGUgYSBqb2luIGlmIHRoZSBmaWVsZCdzIHRhYmxlIGlzIHRoZSBzYW1lIGFz\nIHRoZQogICAgICAgICAgICAvLyBjbGFzcydzIHRhYmxlLiAKICAgICAgICAg\nICAgdGFibGUgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgRm9yZWlnbktl\neSBqb2luID0gbnVsbDsKICAgICAgICBpZiAodGFibGUgIT0gbnVsbCkKICAg\nICAgICAgICAgam9pbiA9IF9pbmZvLmdldEpvaW4odGhpcywgdGFibGUsIGFk\nYXB0KTsKICAgICAgICBpZiAoam9pbiA9PSBudWxsICYmIGpvaW5SZXF1aXJl\nZCkKICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGFEYXRhRXhjZXB0aW9uKF9s\nb2MuZ2V0KCJqb2luLXJlcXVpcmVkIiwgdGhpcykpOwoKICAgICAgICBpZiAo\nam9pbiA9PSBudWxsKSB7CiAgICAgICAgICAgIF9pbmZvLmFzc2VydE5vSm9p\nbih0aGlzLCB0cnVlKTsKICAgICAgICAgICAgX2luZm8uYXNzZXJ0Tm9Gb3Jl\naWduS2V5KHRoaXMsICFhZGFwdCk7CiAgICAgICAgICAgIF9pbmZvLmFzc2Vy\ndE5vVW5pcXVlKHRoaXMsICFhZGFwdCk7CiAgICAgICAgICAgIF9pbmZvLmFz\nc2VydE5vSW5kZXgodGhpcywgIWFkYXB0KTsKICAgICAgICB9IGVsc2Ugewog\nICAgICAgICAgICBfZmsgPSBqb2luOwogICAgICAgICAgICBfaW8gPSBfaW5m\nby5nZXRDb2x1bW5JTygpOwogICAgICAgICAgICBfb3V0ZXIgPSBfaW5mby5p\nc0pvaW5PdXRlcigpOwogICAgICAgICAgICBfdW5xID0gX2luZm8uZ2V0Sm9p\nblVuaXF1ZSh0aGlzLCBmYWxzZSwgYWRhcHQpOwogICAgICAgICAgICBfaWR4\nID0gX2luZm8uZ2V0Sm9pbkluZGV4KHRoaXMsIGFkYXB0KTsKICAgICAgICB9\nCiAgICB9CgogICAgLyoqCiAgICAgKiBNYXBzIHRoZSBwcmltYXJ5IGtleSBv\nbiB0aGUgc2Vjb25kYXJ5IHRhYmxlIGZvciB0aGlzIGZpZWxkLCBpZiB0aGUK\nICAgICAqIHVzZXIncyBkZWZhdWx0cyBjcmVhdGUgb25lLiBUaGlzIG11c3Qg\nYmUgY2FsbGVkIGFmdGVyCiAgICAgKiB0aGlzIGZpZWxkIGlzIG1hcHBlZCBz\nbyB0aGF0IGl0J3MgdGFibGUgaGFzIGl0cyBjb2x1bW5zIHNldC4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgbWFwUHJpbWFyeUtleShib29sZWFuIGFkYXB0\nKSB7CiAgICAgICAgaWYgKGFkYXB0ICYmIF9mayAhPSBudWxsICYmIF9may5n\nZXRUYWJsZSgpLmdldFByaW1hcnlLZXkoKSA9PSBudWxsKQogICAgICAgICAg\nICBnZXRNYXBwaW5nUmVwb3NpdG9yeSgpLmdldE1hcHBpbmdEZWZhdWx0cygp\nLgogICAgICAgICAgICAgICAgaW5zdGFsbFByaW1hcnlLZXkodGhpcywgX2Zr\nLmdldFRhYmxlKCkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGluaXRpYWxp\nemUoKSB7CiAgICAgICAgYXNzZXJ0U3RyYXRlZ3koKS5pbml0aWFsaXplKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgaW5zZXJ0KE9wZW5KUEFTdGF0ZU1h\nbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwgUm93TWFuYWdlciBybSkKICAg\nICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBhc3NlcnRTdHJh\ndGVneSgpLmluc2VydChzbSwgc3RvcmUsIHJtKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCB1cGRhdGUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0\nb3JlIHN0b3JlLCBSb3dNYW5hZ2VyIHJtKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIGFzc2VydFN0cmF0ZWd5KCkudXBkYXRlKHNt\nLCBzdG9yZSwgcm0pOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGRlbGV0ZShP\ncGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBKREJDU3RvcmUgc3RvcmUsIFJvd01h\nbmFnZXIgcm0pCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgYXNzZXJ0U3RyYXRlZ3koKS5kZWxldGUoc20sIHN0b3JlLCBybSk7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBEZWxldGUgdGhlIHJvdyBmb3IgdGhpcyBv\nYmplY3QgaWYgdGhlIHJlZmVyZW5jZSBmb3JlaWduIGtleSBleGlzdHMuCiAg\nICAgKiBVdGlsaXR5IG1ldGhvZCBmb3IgdXNlIGJ5IG1hcHBpbmcgc3RyYXRl\nZ2llcy4KICAgICAqLwogICAgcHVibGljIHZvaWQgZGVsZXRlUm93KE9wZW5K\nUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwKICAgICAgICBS\nb3dNYW5hZ2VyIHJtKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIGlmIChfZmsgIT0gbnVsbCkgewogICAgICAgICAgICBSb3cgcm93\nID0gcm0uZ2V0Um93KGdldFRhYmxlKCksIFJvdy5BQ1RJT05fREVMRVRFLCBz\nbSwgdHJ1ZSk7CiAgICAgICAgICAgIHJvdy53aGVyZUZvcmVpZ25LZXkoX2Zr\nLCBzbSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIHRoZSByb3cgdG8gdXNlIGZvciB0aGlzIGZpZWxkLiBUaGlzIG1ldGhvZCBp\ncyBtZWFudCBvbmx5IGZvcgogICAgICogc2luZ2xlLXZhbHVlIGZpZWxkcyB0\naGF0IG1pZ2h0IHJlc2lkZSBpbiBhIHRhYmxlIHRoYXQgaXMgam9pbmVkIHRv\nCiAgICAgKiB0aGUgcHJpbWFyeSB0YWJsZSB0aHJvdWdoIHRoZSBqb2luIGZv\ncmVpZ24ga2V5LiBJdCBpcyBub3QKICAgICAqIG1lYW50IGZvciBtdWx0aS12\nYWx1ZWQgZmllbGRzIGxpa2UgY29sbGVjdGlvbnMgYW5kIG1hcHMuIFRoZSBt\nZXRob2QKICAgICAqIGNoZWNrcyB3aGV0aGVyIHdlJ3JlIHVzaW5nIGFuIG91\ndGVyIGpvaW4gYW5kIGlmIHNvIGl0IGRlbGV0ZXMgdGhlCiAgICAgKiBmaWVs\nZCdzIHByZXZpb3VzIHZhbHVlLCB0aGVuIGlmIHRoZSBmaWVsZCBpcyBub24t\nbnVsbCByZXR1cm5zIGFuIGluc2VydAogICAgICogcm93IGZvciB0aGUgbmV3\nIHZhbHVlLiBUaGUgam9pbiBmb3JlaWduIGtleSB3aWxsIGFscmVhZHkgYmUg\nc2V0IG9uCiAgICAgKiB0aGUgcmV0dXJuZWQgcm93OyBtYXBwaW5nIHN0cmF0\nZWdpZXMganVzdCBuZWVkIHRvIHNldCB0aGVpciBvd24gdmFsdWVzLgogICAg\nICogVXRpbGl0eSBtZXRob2QgZm9yIHVzZSBieSBtYXBwaW5nIHN0cmF0ZWdp\nZXMuCiAgICAgKi8KICAgIHB1YmxpYyBSb3cgZ2V0Um93KE9wZW5KUEFTdGF0\nZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwgUm93TWFuYWdlciBybSwK\nICAgICAgICBpbnQgYWN0aW9uKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIFJvdyByb3cgPSBudWxsOwogICAgICAgIGJvb2xlYW4g\nbmV3T3V0ZXJSb3cgPSBmYWxzZTsKICAgICAgICBpZiAoX2ZrICE9IG51bGwg\nJiYgX291dGVyICYmIGFjdGlvbiAhPSBSb3cuQUNUSU9OX0RFTEVURSkgewog\nICAgICAgICAgICAvLyBpZiB1cGRhdGluZyB3aXRoIG91dGVyIGpvaW4sIGRl\nbGV0ZSBvbGQgdmFsdWUgZmlyc3QsIHRoZW4gaW5zZXJ0OwogICAgICAgICAg\nICAvLyB3ZSBjYW4ndCBqdXN0IHVwZGF0ZSBiL2MgdGhlIHJvdyBtaWdodCBu\nb3QgZXhpc3QKICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSBSb3cuQUNUSU9O\nX1VQREFURSkgewogICAgICAgICAgICAgICAgLy8gbWF5YmUgc29tZSBvdGhl\nciBmaWVsZCBhbHJlYWR5IGlzIHVwZGF0aW5nPwogICAgICAgICAgICAgICAg\ncm93ID0gcm0uZ2V0Um93KGdldFRhYmxlKCksIFJvdy5BQ1RJT05fVVBEQVRF\nLCBzbSwgZmFsc2UpOwogICAgICAgICAgICAgICAgaWYgKHJvdyA9PSBudWxs\nKSB7CiAgICAgICAgICAgICAgICAgICAgUm93IGRlbCA9IHJtLmdldFJvdyhn\nZXRUYWJsZSgpLCBSb3cuQUNUSU9OX0RFTEVURSwgc20sCiAgICAgICAgICAg\nICAgICAgICAgICAgIHRydWUpOwogICAgICAgICAgICAgICAgICAgIGRlbC53\naGVyZUZvcmVpZ25LZXkoX2ZrLCBzbSk7CiAgICAgICAgICAgICAgICB9CiAg\nICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgICAgcm93ID0gcm0uZ2V0\nUm93KGdldFRhYmxlKCksIFJvdy5BQ1RJT05fSU5TRVJULCBzbSwgZmFsc2Up\nOwoKICAgICAgICAgICAgLy8gb25seSB1cGRhdGUvaW5zZXJ0IGlmIHRoZSBy\nb3cgZXhpc3RzIGFscmVhZHkgb3IgdGhlIHZhbHVlIGlzCiAgICAgICAgICAg\nIC8vIG5vdCBudWxsL2RlZmF1bHQKICAgICAgICAgICAgaWYgKHJvdyA9PSBu\ndWxsICYmICFpc051bGxWYWx1ZShzbSkpIHsKICAgICAgICAgICAgICAgIHJv\ndyA9IHJtLmdldFJvdyhnZXRUYWJsZSgpLCBSb3cuQUNUSU9OX0lOU0VSVCwg\nc20sIHRydWUpOwogICAgICAgICAgICAgICAgbmV3T3V0ZXJSb3cgPSB0cnVl\nOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlCiAgICAgICAgICAgIHJv\ndyA9IHJtLmdldFJvdyhnZXRUYWJsZSgpLCBhY3Rpb24sIHNtLCB0cnVlKTsK\nCiAgICAgICAgLy8gc2V0dXAgZmsKICAgICAgICBpZiAocm93ICE9IG51bGwg\nJiYgX2ZrICE9IG51bGwpIHsKICAgICAgICAgICAgaWYgKHJvdy5nZXRBY3Rp\nb24oKSA9PSBSb3cuQUNUSU9OX0lOU0VSVCkKICAgICAgICAgICAgICAgIHJv\ndy5zZXRGb3JlaWduS2V5KF9maywgX2lvLCBzbSk7CiAgICAgICAgICAgIGVs\nc2UKICAgICAgICAgICAgICAgIHJvdy53aGVyZUZvcmVpZ25LZXkoX2ZrLCBz\nbSk7CgogICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbmV3IG91dGVyIGpv\naW5lZCByb3csIG1hcmsgaXQgaW52YWxpZCB1bnRpbAogICAgICAgICAgICAv\nLyBzb21lIG1hcHBpbmcgYWN0dWFsbHkgc2V0cyBpbmZvcm1hdGlvbiBvbiBp\ndAogICAgICAgICAgICBpZiAobmV3T3V0ZXJSb3cpCiAgICAgICAgICAgICAg\nICByb3cuc2V0VmFsaWQoZmFsc2UpOwogICAgICAgIH0KICAgICAgICByZXR1\ncm4gcm93OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRydWUgaWYg\ndGhpcyBmaWVsZCBpcyBudWxsL2RlZmF1bHQgaW4gdGhlIGdpdmVuIGluc3Rh\nbmNlLgogICAgICovCiAgICBwcml2YXRlIGJvb2xlYW4gaXNOdWxsVmFsdWUo\nT3BlbkpQQVN0YXRlTWFuYWdlciBzbSkgewogICAgICAgIHN3aXRjaCAoZ2V0\nVHlwZUNvZGUoKSkgewogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5CT09M\nRUFOOgogICAgICAgICAgICAgICAgcmV0dXJuICFzbS5mZXRjaEJvb2xlYW4o\nZ2V0SW5kZXgoKSk7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkJZVEU6\nCiAgICAgICAgICAgICAgICByZXR1cm4gc20uZmV0Y2hCeXRlKGdldEluZGV4\nKCkpID09IDA7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkNIQVI6CiAg\nICAgICAgICAgICAgICByZXR1cm4gc20uZmV0Y2hDaGFyKGdldEluZGV4KCkp\nID09IDA7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLkRPVUJMRToKICAg\nICAgICAgICAgICAgIHJldHVybiBzbS5mZXRjaERvdWJsZShnZXRJbmRleCgp\nKSA9PSAwOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5GTE9BVDoKICAg\nICAgICAgICAgICAgIHJldHVybiBzbS5mZXRjaEZsb2F0KGdldEluZGV4KCkp\nID09IDA7CiAgICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLklOVDoKICAgICAg\nICAgICAgICAgIHJldHVybiBzbS5mZXRjaEludChnZXRJbmRleCgpKSA9PSAw\nOwogICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5MT05HOgogICAgICAgICAg\nICAgICAgcmV0dXJuIHNtLmZldGNoTG9uZyhnZXRJbmRleCgpKSA9PSAwOwog\nICAgICAgICAgICBjYXNlIEphdmFUeXBlcy5TSE9SVDoKICAgICAgICAgICAg\nICAgIHJldHVybiBzbS5mZXRjaFNob3J0KGdldEluZGV4KCkpID09IDA7CiAg\nICAgICAgICAgIGNhc2UgSmF2YVR5cGVzLlNUUklORzoKICAgICAgICAgICAg\nICAgIHJldHVybiBzbS5mZXRjaFN0cmluZyhnZXRJbmRleCgpKSA9PSBudWxs\nOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJu\nIHNtLmZldGNoT2JqZWN0KGdldEluZGV4KCkpID09IG51bGw7CiAgICAgICAg\nfQogICAgfQoKICAgIHB1YmxpYyBCb29sZWFuIGlzQ3VzdG9tSW5zZXJ0KE9w\nZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSkgewogICAg\nICAgIHJldHVybiBhc3NlcnRTdHJhdGVneSgpLmlzQ3VzdG9tSW5zZXJ0KHNt\nLCBzdG9yZSk7CiAgICB9CgogICAgcHVibGljIEJvb2xlYW4gaXNDdXN0b21V\ncGRhdGUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3Jl\nKSB7CiAgICAgICAgcmV0dXJuIGFzc2VydFN0cmF0ZWd5KCkuaXNDdXN0b21V\ncGRhdGUoc20sIHN0b3JlKTsKICAgIH0KCiAgICBwdWJsaWMgQm9vbGVhbiBp\nc0N1c3RvbURlbGV0ZShPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBKREJDU3Rv\ncmUgc3RvcmUpIHsKICAgICAgICByZXR1cm4gYXNzZXJ0U3RyYXRlZ3koKS5p\nc0N1c3RvbURlbGV0ZShzbSwgc3RvcmUpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIGN1c3RvbUluc2VydChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBKREJD\nU3RvcmUgc3RvcmUpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgYXNzZXJ0U3RyYXRlZ3koKS5jdXN0b21JbnNlcnQoc20sIHN0b3Jl\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjdXN0b21VcGRhdGUoT3BlbkpQ\nQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlKQogICAgICAgIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGFzc2VydFN0cmF0ZWd5KCku\nY3VzdG9tVXBkYXRlKHNtLCBzdG9yZSk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgY3VzdG9tRGVsZXRlKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNT\ndG9yZSBzdG9yZSkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICBhc3NlcnRTdHJhdGVneSgpLmN1c3RvbURlbGV0ZShzbSwgc3RvcmUp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZpZWxkTWFwcGluZyhGaWVs\nZE1hcHBpbmcgb3duZXIpIHsKICAgICAgICBhc3NlcnRTdHJhdGVneSgpLnNl\ndEZpZWxkTWFwcGluZyhvd25lcik7CiAgICB9CgogICAgcHVibGljIGludCBz\ndXBwb3J0c1NlbGVjdChTZWxlY3Qgc2VsLCBpbnQgdHlwZSwgT3BlbkpQQVN0\nYXRlTWFuYWdlciBzbSwKICAgICAgICBKREJDU3RvcmUgc3RvcmUsIEpEQkNG\nZXRjaENvbmZpZ3VyYXRpb24gZmV0Y2gpIHsKICAgICAgICByZXR1cm4gYXNz\nZXJ0U3RyYXRlZ3koKS5zdXBwb3J0c1NlbGVjdChzZWwsIHR5cGUsIHNtLCBz\ndG9yZSwgZmV0Y2gpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNlbGVjdEVh\nZ2VyUGFyYWxsZWwoU2VsZWN0RXhlY3V0b3Igc2VsLCBPcGVuSlBBU3RhdGVN\nYW5hZ2VyIHNtLAogICAgICAgIEpEQkNTdG9yZSBzdG9yZSwgSkRCQ0ZldGNo\nQ29uZmlndXJhdGlvbiBmZXRjaCwgaW50IGVhZ2VyTW9kZSkgewogICAgICAg\nIGFzc2VydFN0cmF0ZWd5KCkuc2VsZWN0RWFnZXJQYXJhbGxlbChzZWwsIHNt\nLCBzdG9yZSwgZmV0Y2gsIGVhZ2VyTW9kZSk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2VsZWN0RWFnZXJKb2luKFNlbGVjdCBzZWwsIE9wZW5KUEFTdGF0\nZU1hbmFnZXIgc20sCiAgICAgICAgSkRCQ1N0b3JlIHN0b3JlLCBKREJDRmV0\nY2hDb25maWd1cmF0aW9uIGZldGNoLCBpbnQgZWFnZXJNb2RlKSB7CiAgICAg\nICAgYXNzZXJ0U3RyYXRlZ3koKS5zZWxlY3RFYWdlckpvaW4oc2VsLCBzbSwg\nc3RvcmUsIGZldGNoLCBlYWdlck1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBi\nb29sZWFuIGlzRWFnZXJTZWxlY3RUb01hbnkoKSB7CiAgICAgICAgcmV0dXJu\nIGFzc2VydFN0cmF0ZWd5KCkuaXNFYWdlclNlbGVjdFRvTWFueSgpOwogICAg\nfQoKICAgIHB1YmxpYyBpbnQgc2VsZWN0KFNlbGVjdCBzZWwsIE9wZW5KUEFT\ndGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwKICAgICAgICBKREJD\nRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLCBpbnQgZWFnZXJNb2RlKSB7CiAg\nICAgICAgcmV0dXJuIGFzc2VydFN0cmF0ZWd5KCkuc2VsZWN0KHNlbCwgc20s\nIHN0b3JlLCBmZXRjaCwgZWFnZXJNb2RlKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiBhbnkgam9pbnMgbmVlZGVkIHRvIGdldCBmcm9tIHRoZSBw\ncmltYXJ5IHRhYmxlIHRvIHRoaXMgdGFibGUuCiAgICAgKi8KICAgIHB1Ymxp\nYyBKb2lucyBqb2luKFNlbGVjdCBzZWwpIHsKICAgICAgICBpZiAoX2ZrID09\nIG51bGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICBKb2lu\ncyBqb2lucyA9IHNlbC5uZXdKb2lucygpOwogICAgICAgIGlmIChfb3V0ZXIp\nCiAgICAgICAgICAgIHJldHVybiBqb2lucy5vdXRlckpvaW4oX2ZrLCB0cnVl\nLCBmYWxzZSk7CiAgICAgICAgcmV0dXJuIGpvaW5zLmpvaW4oX2ZrLCB0cnVl\nLCBmYWxzZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBZGQgYSA8Y29kZT53\naGVyZVByaW1hcnlLZXk8L2NvZGU+IG9yIDxjb2RlPndoZXJlRm9yZWlnbktl\neTwvY29kZT4KICAgICAqIGNvbmRpdGlvbiB0byB0aGUgZ2l2ZW4gc2VsZWN0\nLCBkZXBlbmRpbmcgb24gd2hldGhlciB3ZSBoYXZlIGEgam9pbgogICAgICog\nZm9yZWlnbiBrZXkuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHdoZXJlUHJp\nbWFyeUtleShTZWxlY3Qgc2VsLCBPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLAog\nICAgICAgIEpEQkNTdG9yZSBzdG9yZSkgewogICAgICAgIGlmIChfZmsgIT0g\nbnVsbCkKICAgICAgICAgICAgc2VsLndoZXJlRm9yZWlnbktleShfZmssIHNt\nLmdldE9iamVjdElkKCksIGdldERlZmluaW5nTWFwcGluZygpLAogICAgICAg\nICAgICAgICAgc3RvcmUpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgc2Vs\nLndoZXJlUHJpbWFyeUtleShzbS5nZXRPYmplY3RJZCgpLCBnZXREZWZpbmlu\nZ01hcHBpbmcoKSwKICAgICAgICAgICAgICAgIHN0b3JlKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEFkZCBvcmRlcmluZyB0byB0aGUgZ2l2ZW4gc2VsZWN0\nIGZvciBhbGwgbm9uLXJlbGF0aW9uIG9yZGVyIHZhbHVlcywKICAgICAqIGlu\nY2x1ZGluZyB0aGUgc3ludGhldGljIG9yZGVyIGNvbHVtbiwgaWYgYW55Lgog\nICAgICoKICAgICAqIEBwYXJhbSBlbGVtIHRoZSByZWxhdGVkIHR5cGUgd2Un\ncmUgZmV0Y2hpbmcsIG9yIG51bGwKICAgICAqIEBwYXJhbSBqb2lucyB0aGUg\nam9pbnMgdG8gdGhpcyBmaWVsZCdzIHRhYmxlCiAgICAgKi8KICAgIHB1Ymxp\nYyB2b2lkIG9yZGVyTG9jYWwoU2VsZWN0IHNlbCwgQ2xhc3NNYXBwaW5nIGVs\nZW0sIEpvaW5zIGpvaW5zKSB7CiAgICAgICAgX29yZGVyQ29sLm9yZGVyKHNl\nbCwgZWxlbSwgam9pbnMpOwogICAgICAgIEpEQkNPcmRlcltdIG9yZGVycyA9\nIChKREJDT3JkZXJbXSkgZ2V0T3JkZXJzKCk7CiAgICAgICAgZm9yIChpbnQg\naSA9IDA7IGkgPCBvcmRlcnMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGlm\nICghb3JkZXJzW2ldLmlzSW5SZWxhdGlvbigpKQogICAgICAgICAgICAgICAg\nb3JkZXJzW2ldLm9yZGVyKHNlbCwgZWxlbSwgam9pbnMpOwogICAgfQoKICAg\nIC8qKgogICAgICogQWRkIG9yZGVyaW5nIHRvIHRoZSBnaXZlbiBzZWxlY3Qg\nZm9yIGFsbCByZWxhdGlvbi1iYXNlZCB2YWx1ZXMuCiAgICAgKgogICAgICog\nQHBhcmFtIGVsZW0gdGhlIHJlbGF0ZWQgdHlwZSB3ZSdyZSBmZXRjaGluZwog\nICAgICogQHBhcmFtIGpvaW5zIHRoZSBqb2lucyBhY3Jvc3MgdGhlIHJlbGF0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIG9yZGVyUmVsYXRpb24oU2Vs\nZWN0IHNlbCwgQ2xhc3NNYXBwaW5nIGVsZW0sIEpvaW5zIGpvaW5zKSB7CiAg\nICAgICAgSkRCQ09yZGVyW10gb3JkZXJzID0gKEpEQkNPcmRlcltdKSBnZXRP\ncmRlcnMoKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG9yZGVycy5s\nZW5ndGg7IGkrKykKICAgICAgICAgICAgaWYgKG9yZGVyc1tpXS5pc0luUmVs\nYXRpb24oKSkKICAgICAgICAgICAgICAgIG9yZGVyc1tpXS5vcmRlcihzZWws\nIGVsZW0sIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGxvYWRF\nYWdlclBhcmFsbGVsKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9y\nZSBzdG9yZSwKICAgICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNo\nLCBPYmplY3QgcmVzKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBhc3NlcnRTdHJhdGVneSgpLmxvYWRFYWdlclBhcmFs\nbGVsKHNtLCBzdG9yZSwgZmV0Y2gsIHJlcyk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgbG9hZEVhZ2VySm9pbihPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBK\nREJDU3RvcmUgc3RvcmUsCiAgICAgICAgSkRCQ0ZldGNoQ29uZmlndXJhdGlv\nbiBmZXRjaCwgUmVzdWx0IHJlcykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICBhc3NlcnRTdHJhdGVneSgpLmxvYWRFYWdlckpvaW4o\nc20sIHN0b3JlLCBmZXRjaCwgcmVzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBsb2FkKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9y\nZSwKICAgICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoLCBSZXN1\nbHQgcmVzKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAg\nIGFzc2VydFN0cmF0ZWd5KCkubG9hZChzbSwgc3RvcmUsIGZldGNoLCByZXMp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGxvYWQoT3BlbkpQQVN0YXRlTWFu\nYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLAogICAgICAgIEpEQkNGZXRjaENv\nbmZpZ3VyYXRpb24gZmV0Y2gpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgYXNzZXJ0U3RyYXRlZ3koKS5sb2FkKHNtLCBzdG9yZSwg\nZmV0Y2gpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgdG9EYXRhU3RvcmVW\nYWx1ZShPYmplY3QgdmFsLCBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAgICBy\nZXR1cm4gYXNzZXJ0U3RyYXRlZ3koKS50b0RhdGFTdG9yZVZhbHVlKHZhbCwg\nc3RvcmUpOwogICAgfQoKICAgIHB1YmxpYyBPYmplY3QgdG9LZXlEYXRhU3Rv\ncmVWYWx1ZShPYmplY3QgdmFsLCBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAg\nICByZXR1cm4gYXNzZXJ0U3RyYXRlZ3koKS50b0tleURhdGFTdG9yZVZhbHVl\nKHZhbCwgc3RvcmUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGFwcGVuZElz\nRW1wdHkoU1FMQnVmZmVyIHNxbCwgU2VsZWN0IHNlbCwgSm9pbnMgam9pbnMp\nIHsKICAgICAgICBhc3NlcnRTdHJhdGVneSgpLmFwcGVuZElzRW1wdHkoc3Fs\nLCBzZWwsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhcHBlbmRJ\nc05vdEVtcHR5KFNRTEJ1ZmZlciBzcWwsIFNlbGVjdCBzZWwsIEpvaW5zIGpv\naW5zKSB7CiAgICAgICAgYXNzZXJ0U3RyYXRlZ3koKS5hcHBlbmRJc05vdEVt\ncHR5KHNxbCwgc2VsLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nYXBwZW5kSXNOdWxsKFNRTEJ1ZmZlciBzcWwsIFNlbGVjdCBzZWwsIEpvaW5z\nIGpvaW5zKSB7CiAgICAgICAgYXNzZXJ0U3RyYXRlZ3koKS5hcHBlbmRJc051\nbGwoc3FsLCBzZWwsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBh\ncHBlbmRJc05vdE51bGwoU1FMQnVmZmVyIHNxbCwgU2VsZWN0IHNlbCwgSm9p\nbnMgam9pbnMpIHsKICAgICAgICBhc3NlcnRTdHJhdGVneSgpLmFwcGVuZElz\nTm90TnVsbChzcWwsIHNlbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIGFwcGVuZFNpemUoU1FMQnVmZmVyIHNxbCwgU2VsZWN0IHNlbCwgSm9p\nbnMgam9pbnMpIHsKICAgICAgICBhc3NlcnRTdHJhdGVneSgpLmFwcGVuZFNp\nemUoc3FsLCBzZWwsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgSm9pbnMg\nam9pbihKb2lucyBqb2lucywgYm9vbGVhbiBmb3JjZU91dGVyKSB7CiAgICAg\nICAgcmV0dXJuIGFzc2VydFN0cmF0ZWd5KCkuam9pbihqb2lucywgZm9yY2VP\ndXRlcik7CiAgICB9CgogICAgcHVibGljIEpvaW5zIGpvaW5LZXkoSm9pbnMg\nam9pbnMsIGJvb2xlYW4gZm9yY2VPdXRlcikgewogICAgICAgIHJldHVybiBh\nc3NlcnRTdHJhdGVneSgpLmpvaW5LZXkoam9pbnMsIGZvcmNlT3V0ZXIpOwog\nICAgfQoKICAgIHB1YmxpYyBKb2lucyBqb2luUmVsYXRpb24oSm9pbnMgam9p\nbnMsIGJvb2xlYW4gZm9yY2VPdXRlciwKICAgICAgICBib29sZWFuIHRyYXZl\ncnNlKSB7CiAgICAgICAgcmV0dXJuIGFzc2VydFN0cmF0ZWd5KCkuam9pblJl\nbGF0aW9uKGpvaW5zLCBmb3JjZU91dGVyLCB0cmF2ZXJzZSk7CiAgICB9Cgog\nICAgcHVibGljIEpvaW5zIGpvaW5LZXlSZWxhdGlvbihKb2lucyBqb2lucywg\nYm9vbGVhbiBmb3JjZU91dGVyLAogICAgICAgIGJvb2xlYW4gdHJhdmVyc2Up\nIHsKICAgICAgICByZXR1cm4gYXNzZXJ0U3RyYXRlZ3koKS5qb2luS2V5UmVs\nYXRpb24oam9pbnMsIGZvcmNlT3V0ZXIsIHRyYXZlcnNlKTsKICAgIH0KCiAg\nICAvKioKICAgICAqIEpvaW5zIGZyb20gdGhlIG93bmluZyBjbGFzcycgdGFi\nbGUgdG8gdGhlIHRhYmxlIHdoZXJlIHRoaXMgZmllbGQgbGllcwogICAgICog\ndXNpbmcgdGhlIGpvaW4gZm9yZWlnbiBrZXkuIFV0aWxpdHkgbWV0aG9kIGZv\nciB1c2UgYnkgbWFwcGluZyBzdHJhdGVnaWVzLgogICAgICovCiAgICBwdWJs\naWMgSm9pbnMgam9pbihKb2lucyBqb2lucywgYm9vbGVhbiBmb3JjZU91dGVy\nLCBib29sZWFuIHRvTWFueSkgewogICAgICAgIGlmIChfZmsgPT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIGpvaW5zOwogICAgICAgIGlmIChfb3V0ZXIg\nfHwgZm9yY2VPdXRlcikKICAgICAgICAgICAgcmV0dXJuIGpvaW5zLm91dGVy\nSm9pbihfZmssIHRydWUsIHRvTWFueSk7CiAgICAgICAgcmV0dXJuIGpvaW5z\nLmpvaW4oX2ZrLCB0cnVlLCB0b01hbnkpOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgbG9hZFByb2plY3Rpb24oSkRCQ1N0b3JlIHN0b3JlLCBKREJDRmV0\nY2hDb25maWd1cmF0aW9uIGZldGNoLAogICAgICAgIFJlc3VsdCByZXMsIEpv\naW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBhc3NlcnRTdHJhdGVneSgpLmxvYWRQcm9qZWN0aW9uKHN0\nb3JlLCBmZXRjaCwgcmVzLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIE9i\namVjdCBsb2FkS2V5UHJvamVjdGlvbihKREJDU3RvcmUgc3RvcmUsCiAgICAg\nICAgSkRCQ0ZldGNoQ29uZmlndXJhdGlvbiBmZXRjaCwgUmVzdWx0IHJlcywg\nSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIGFzc2VydFN0cmF0ZWd5KCkKICAgICAgICAgICAgLmxv\nYWRLZXlQcm9qZWN0aW9uKHN0b3JlLCBmZXRjaCwgcmVzLCBqb2lucyk7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNWZXJzaW9uYWJsZSgpIHsKICAg\nICAgICByZXR1cm4gYXNzZXJ0U3RyYXRlZ3koKS5pc1ZlcnNpb25hYmxlKCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgd2hlcmUoT3BlbkpQQVN0YXRlTWFu\nYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLCBSb3dNYW5hZ2VyIHJtLAogICAg\nICAgIE9iamVjdCBwcmV2VmFsdWUpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgYXNzZXJ0U3RyYXRlZ3koKS53aGVyZShzbSwgc3Rv\ncmUsIHJtLCBwcmV2VmFsdWUpOwogICAgfQoKICAgIHByaXZhdGUgRmllbGRT\ndHJhdGVneSBhc3NlcnRTdHJhdGVneSgpIHsKICAgICAgICBpZiAoX3N0cmF0\nZWd5ID09IG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEV4\nY2VwdGlvbigpOwogICAgICAgIHJldHVybiBfc3RyYXRlZ3k7CiAgICB9Cgog\nICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgLy8gVmFs\ndWVNYXBwaW5nIGltcGxlbWVudGF0aW9uCiAgICAvLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vCgogICAgcHVibGljIFZhbHVlTWFwcGluZ0luZm8g\nZ2V0VmFsdWVJbmZvKCkgewogICAgICAgIHJldHVybiBfdmFsLmdldFZhbHVl\nSW5mbygpOwogICAgfQoKICAgIHB1YmxpYyBWYWx1ZUhhbmRsZXIgZ2V0SGFu\nZGxlcigpIHsKICAgICAgICByZXR1cm4gX3ZhbC5nZXRIYW5kbGVyKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0SGFuZGxlcihWYWx1ZUhhbmRsZXIg\naGFuZGxlcikgewogICAgICAgIF92YWwuc2V0SGFuZGxlcihoYW5kbGVyKTsK\nICAgIH0KCiAgICBwdWJsaWMgRmllbGRNYXBwaW5nIGdldEZpZWxkTWFwcGlu\nZygpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMg\nQ2xhc3NNYXBwaW5nIGdldFR5cGVNYXBwaW5nKCkgewogICAgICAgIHJldHVy\nbiBfdmFsLmdldFR5cGVNYXBwaW5nKCk7CiAgICB9CgogICAgcHVibGljIENs\nYXNzTWFwcGluZyBnZXREZWNsYXJlZFR5cGVNYXBwaW5nKCkgewogICAgICAg\nIHJldHVybiBfdmFsLmdldERlY2xhcmVkVHlwZU1hcHBpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgQ2xhc3NNYXBwaW5nIGdldEVtYmVkZGVkTWFwcGluZygp\nIHsKICAgICAgICByZXR1cm4gX3ZhbC5nZXRFbWJlZGRlZE1hcHBpbmcoKTsK\nICAgIH0KCiAgICBwdWJsaWMgRmllbGRNYXBwaW5nIGdldFZhbHVlTWFwcGVk\nQnlNYXBwaW5nKCkgewogICAgICAgIHJldHVybiBfdmFsLmdldFZhbHVlTWFw\ncGVkQnlNYXBwaW5nKCk7CiAgICB9CgogICAgcHVibGljIENvbHVtbltdIGdl\ndENvbHVtbnMoKSB7CiAgICAgICAgLy8gcGNsOiA2IEp1bHkgMjAwNzogdGhp\ncyBzZWVtcyBhIGJpdCBoYWNreSwgYnV0IGlmIHRoZSBtYXBwaW5nIGlzIGEK\nICAgICAgICAvLyB2ZXJzaW9uLCBpdCB3aWxsIGhhdmUgYSBOb25lRmllbGRN\nYXBwaW5nIChzaW5jZSB0aGUgdmVyc2lvbiBzdHJhdGVneQogICAgICAgIC8v\nIGZvciB0aGUgY2xhc3MgdGFrZXMgY2FyZSBvZiBpdCdzIG1hcHBpbmcpLCBh\nbmQgTm9uZUZpZWxkU3RyYXRlZ2llcwogICAgICAgIC8vIGRvIG5vdCBoYXZl\nIGNvbHVtbnMuCiAgICAgICAgaWYgKGlzVmVyc2lvbigpKQogICAgICAgICAg\nICByZXR1cm4gZ2V0RGVjbGFyaW5nTWFwcGluZygpLmdldFZlcnNpb24oKS5n\nZXRDb2x1bW5zKCk7CiAgICAgICAgZWxzZQogICAgICAgICAgICByZXR1cm4g\nX3ZhbC5nZXRDb2x1bW5zKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nQ29sdW1ucyhDb2x1bW5bXSBjb2xzKSB7CiAgICAgICAgX3ZhbC5zZXRDb2x1\nbW5zKGNvbHMpOwogICAgfQoKICAgIHB1YmxpYyBDb2x1bW5JTyBnZXRDb2x1\nbW5JTygpIHsKICAgICAgICByZXR1cm4gX3ZhbC5nZXRDb2x1bW5JTygpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbHVtbklPKENvbHVtbklPIGlv\nKSB7CiAgICAgICAgX3ZhbC5zZXRDb2x1bW5JTyhpbyk7CiAgICB9CgogICAg\ncHVibGljIEZvcmVpZ25LZXkgZ2V0Rm9yZWlnbktleSgpIHsKICAgICAgICBy\nZXR1cm4gX3ZhbC5nZXRGb3JlaWduS2V5KCk7CiAgICB9CgogICAgcHVibGlj\nIEZvcmVpZ25LZXkgZ2V0Rm9yZWlnbktleShDbGFzc01hcHBpbmcgdGFyZ2V0\nKSB7CiAgICAgICAgcmV0dXJuIF92YWwuZ2V0Rm9yZWlnbktleSh0YXJnZXQp\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZvcmVpZ25LZXkoRm9yZWln\nbktleSBmaykgewogICAgICAgIF92YWwuc2V0Rm9yZWlnbktleShmayk7CiAg\nICB9CgogICAgcHVibGljIGludCBnZXRKb2luRGlyZWN0aW9uKCkgewogICAg\nICAgIHJldHVybiBfdmFsLmdldEpvaW5EaXJlY3Rpb24oKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRKb2luRGlyZWN0aW9uKGludCBkaXJlY3Rpb24p\nIHsKICAgICAgICBfdmFsLnNldEpvaW5EaXJlY3Rpb24oZGlyZWN0aW9uKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGb3JlaWduS2V5KFJvdyByb3cs\nIE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20pCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgX3ZhbC5zZXRGb3JlaWduS2V5KHJvdywgc20p\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHdoZXJlRm9yZWlnbktleShSb3cg\ncm93LCBPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtKQogICAgICAgIHRocm93cyBT\nUUxFeGNlcHRpb24gewogICAgICAgIF92YWwud2hlcmVGb3JlaWduS2V5KHJv\ndywgc20pOwogICAgfQoKICAgIHB1YmxpYyBDbGFzc01hcHBpbmdbXSBnZXRJ\nbmRlcGVuZGVudFR5cGVNYXBwaW5ncygpIHsKICAgICAgICByZXR1cm4gX3Zh\nbC5nZXRJbmRlcGVuZGVudFR5cGVNYXBwaW5ncygpOwogICAgfQoKICAgIHB1\nYmxpYyBpbnQgZ2V0U2VsZWN0U3ViY2xhc3NlcygpIHsKICAgICAgICByZXR1\ncm4gX3ZhbC5nZXRTZWxlY3RTdWJjbGFzc2VzKCk7CiAgICB9CgogICAgcHVi\nbGljIFVuaXF1ZSBnZXRWYWx1ZVVuaXF1ZSgpIHsKICAgICAgICByZXR1cm4g\nX3ZhbC5nZXRWYWx1ZVVuaXF1ZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldFZhbHVlVW5pcXVlKFVuaXF1ZSB1bnEpIHsKICAgICAgICBfdmFsLnNl\ndFZhbHVlVW5pcXVlKHVucSk7CiAgICB9CgogICAgcHVibGljIEluZGV4IGdl\ndFZhbHVlSW5kZXgoKSB7CiAgICAgICAgcmV0dXJuIF92YWwuZ2V0VmFsdWVJ\nbmRleCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFZhbHVlSW5kZXgo\nSW5kZXggaWR4KSB7CiAgICAgICAgX3ZhbC5zZXRWYWx1ZUluZGV4KGlkeCk7\nCiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gZ2V0VXNlQ2xhc3NDcml0ZXJp\nYSgpIHsKICAgICAgICByZXR1cm4gX3ZhbC5nZXRVc2VDbGFzc0NyaXRlcmlh\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VXNlQ2xhc3NDcml0ZXJp\nYShib29sZWFuIGNyaXRlcmlhKSB7CiAgICAgICAgX3ZhbC5zZXRVc2VDbGFz\nc0NyaXRlcmlhKGNyaXRlcmlhKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdl\ndFBvbHltb3JwaGljKCkgewogICAgICAgIHJldHVybiBfdmFsLmdldFBvbHlt\nb3JwaGljKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UG9seW1vcnBo\naWMoaW50IHBvbHkpIHsKICAgICAgICBfdmFsLnNldFBvbHltb3JwaGljKHBv\nbHkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIG1hcENvbnN0cmFpbnRzKFN0\ncmluZyBuYW1lLCBib29sZWFuIGFkYXB0KSB7CiAgICAgICAgX3ZhbC5tYXBD\nb25zdHJhaW50cyhuYW1lLCBhZGFwdCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgY29weU1hcHBpbmdJbmZvKFZhbHVlTWFwcGluZyB2bSkgewogICAgICAg\nIF92YWwuY29weU1hcHBpbmdJbmZvKHZtKTsKICAgIH0KfQo=\n","encoding":"base64"}

