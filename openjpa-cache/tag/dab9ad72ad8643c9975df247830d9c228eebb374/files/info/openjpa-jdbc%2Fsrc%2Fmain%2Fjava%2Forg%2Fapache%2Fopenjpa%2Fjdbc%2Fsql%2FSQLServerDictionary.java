{"sha":"18ac7cc65cb0d2ec3b27c5400d7857bed8446d1f","node_id":"MDQ6QmxvYjIwNjM2NDoxOGFjN2NjNjVjYjBkMmVjM2IyN2M1NDAwZDc4NTdiZWQ4NDQ2ZDFm","size":9092,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/18ac7cc65cb0d2ec3b27c5400d7857bed8446d1f","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5zcWwuQ29ubmVjdGlvbjsKaW1wb3J0IGphdmEuc3FsLkRhdGFiYXNl\nTWV0YURhdGE7CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9y\ndCBqYXZhLnNxbC5UeXBlczsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\namRiYy5rZXJuZWwuZXhwcy5GaWx0ZXJWYWx1ZTsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuRmlsdGVyczsKaW1wb3J0IG9yZy5hcGFjaGUu\nb3BlbmpwYS5qZGJjLnNjaGVtYS5Db2x1bW47CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLm1ldGEuSmF2YVR5cGVzOwoKLyoqCiAqIERpY3Rpb25hcnkg\nZm9yIE1TIFNRTFNlcnZlci4KICovCnB1YmxpYyBjbGFzcyBTUUxTZXJ2ZXJE\naWN0aW9uYXJ5CiAgICBleHRlbmRzIEFic3RyYWN0U1FMU2VydmVyRGljdGlv\nbmFyeSB7CgogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgVkVORE9S\nX01JQ1JPU09GVCA9ICJtaWNyb3NvZnQiOwogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBTdHJpbmcgVkVORE9SX05FVERJUkVDVCA9ICJuZXRkaXJlY3QiOwog\nICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgVkVORE9SX0pURFMgPSAi\nanRkcyI7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9s\nb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZQogICAgICAgIChTUUxTZXJ2ZXJE\naWN0aW9uYXJ5LmNsYXNzKTsKCiAgICBwcml2YXRlIFN0cmluZyBzY2hlbWFD\nYXNlID0gU0NIRU1BX0NBU0VfUFJFU0VSVkU7CiAgICAvKioKICAgICAqIEZs\nYWcgd2hldGhlciB0byB0cmVhdCBVTklRVUVJREVOVElGSUVSIGFzIFZBUkJJ\nTkFSWSBvciBWQVJDSEFSCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIHVu\naXF1ZUlkZW50aWZpZXJBc1ZhcmJpbmFyeSA9IHRydWU7CgogICAgcHVibGlj\nIFNRTFNlcnZlckRpY3Rpb25hcnkoKSB7CiAgICAgICAgcGxhdGZvcm0gPSAi\nTWljcm9zb2Z0IFNRTCBTZXJ2ZXIiOwoKICAgICAgICAvLyBTUUxTZXJ2ZXIg\nbG9ja3Mgb24gYSB0YWJsZS1ieS10YWJsZSBiYXNpcwogICAgICAgIGZvclVw\nZGF0ZUNsYXVzZSA9IG51bGw7CiAgICAgICAgdGFibGVGb3JVcGRhdGVDbGF1\nc2UgPSAiV0lUSCAoVVBETE9DSykiOwoKICAgICAgICBzdXBwb3J0c051bGxU\nYWJsZUZvckdldENvbHVtbnMgPSBmYWxzZTsKICAgICAgICByZXF1aXJlc0Fs\naWFzRm9yU3Vic2VsZWN0ID0gdHJ1ZTsKCiAgICAgICAgc3RyaW5nTGVuZ3Ro\nRnVuY3Rpb24gPSAiTEVOKHswfSkiOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIGNvbm5lY3RlZENvbmZpZ3VyYXRpb24oQ29ubmVjdGlvbiBjb25uKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHN1cGVyLmNvbm5l\nY3RlZENvbmZpZ3VyYXRpb24oY29ubik7CgogICAgICAgIERhdGFiYXNlTWV0\nYURhdGEgbWV0YSA9IGNvbm4uZ2V0TWV0YURhdGEoKTsKICAgICAgICBTdHJp\nbmcgZHJpdmVyTmFtZSA9IG1ldGEuZ2V0RHJpdmVyTmFtZSgpOwogICAgICAg\nIFN0cmluZyB1cmwgPSBtZXRhLmdldFVSTCgpOwogICAgICAgIGlmIChkcml2\nZXJWZW5kb3IgPT0gbnVsbCkgewogICAgICAgICAgICBpZiAoIk5ldERpcmVj\ndCBKU1FMQ29ubmVjdCIuZXF1YWxzKGRyaXZlck5hbWUpKQogICAgICAgICAg\nICAgICAgZHJpdmVyVmVuZG9yID0gVkVORE9SX05FVERJUkVDVDsKICAgICAg\nICAgICAgZWxzZSBpZiAoZHJpdmVyTmFtZSAhPSBudWxsICYmIGRyaXZlck5h\nbWUuc3RhcnRzV2l0aCgialREUyIpKQogICAgICAgICAgICAgICAgZHJpdmVy\nVmVuZG9yID0gVkVORE9SX0pURFM7CiAgICAgICAgICAgIGVsc2UgaWYgKCJT\nUUxTZXJ2ZXIiLmVxdWFscyhkcml2ZXJOYW1lKSkgewogICAgICAgICAgICAg\nICAgaWYgKHVybCAhPSBudWxsICYmIHVybC5zdGFydHNXaXRoKCJqZGJjOm1p\nY3Jvc29mdDpzcWxzZXJ2ZXI6IikpCiAgICAgICAgICAgICAgICAgICAgZHJp\ndmVyVmVuZG9yID0gVkVORE9SX01JQ1JPU09GVDsKICAgICAgICAgICAgICAg\nIGVsc2UgaWYgKHVybCAhPSBudWxsCiAgICAgICAgICAgICAgICAgICAgJiYg\ndXJsLnN0YXJ0c1dpdGgoImpkYmM6ZGF0YWRpcmVjdDpzcWxzZXJ2ZXI6Iikp\nCiAgICAgICAgICAgICAgICAgICAgZHJpdmVyVmVuZG9yID0gVkVORE9SX0RB\nVEFESVJFQ1Q7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAg\nICAgICAgZHJpdmVyVmVuZG9yID0gVkVORE9SX09USEVSOwogICAgICAgICAg\nICB9IGVsc2UKICAgICAgICAgICAgICAgIGRyaXZlclZlbmRvciA9IFZFTkRP\nUl9PVEhFUjsKICAgICAgICAgICAgaWYgKGRyaXZlck5hbWUuaW5kZXhPZihw\nbGF0Zm9ybSkgIT0gLTEpIHsKICAgICAgICAgICAgICAgIFN0cmluZyB2ZXJz\naW9uU3RyaW5nID0gZHJpdmVyTmFtZS4KICAgICAgICAgICAgICAgICAgICBz\ndWJzdHJpbmcocGxhdGZvcm0ubGVuZ3RoKCkgKyAxKTsKICAgICAgICAgICAg\nICAgIGlmICh2ZXJzaW9uU3RyaW5nLmluZGV4T2YoIiAiKSAhPSAtMSkKICAg\nICAgICAgICAgICAgICAgICB2ZXJzaW9uU3RyaW5nID0gdmVyc2lvblN0cmlu\nZy5zdWJzdHJpbmcoMCwKICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lv\nblN0cmluZy5pbmRleE9mKCIgIikpOwogICAgICAgICAgICAgICAgaW50IHZl\ncnNpb24gPSBJbnRlZ2VyLnBhcnNlSW50KHZlcnNpb25TdHJpbmcpOwogICAg\nICAgICAgICAgICAgaWYgKHZlcnNpb24gPj0gMjAwNSkKICAgICAgICAgICAg\nICAgICAgICBzdXBwb3J0c1hNTENvbHVtbiA9IHRydWU7CiAgICAgICAgICAg\nIH0KICAgICAgICB9CgogICAgICAgIC8vIHdhcm4gYWJvdXQgdXNpbmcgY3Vy\nc29ycwogICAgICAgIGlmICgoVkVORE9SX01JQ1JPU09GVC5lcXVhbHNJZ25v\ncmVDYXNlKGRyaXZlclZlbmRvcikKICAgICAgICAgICAgfHwgVkVORE9SX0RB\nVEFESVJFQ1QuZXF1YWxzSWdub3JlQ2FzZShkcml2ZXJWZW5kb3IpKQogICAg\nICAgICAgICAmJiB1cmwudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJzZWxlY3Rt\nZXRob2Q9Y3Vyc29yIikgPT0gLTEpCiAgICAgICAgICAgIGxvZy53YXJuKF9s\nb2MuZ2V0KCJzcWxzZXJ2ZXItY3Vyc29yIiwgdXJsKSk7CgogICAgICAgIC8v\nIHdhcm4gYWJvdXQgcHJlcGFyZWQgc3RhdGVtZW50IGNhY2hpbmcgaWYgdXNp\nbmcgbXMgZHJpdmVyCiAgICAgICAgU3RyaW5nIHByb3BzID0gY29uZi5nZXRD\nb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMoKTsKICAgICAgICBpZiAocHJv\ncHMgPT0gbnVsbCkKICAgICAgICAgICAgcHJvcHMgPSAiIjsKICAgICAgICBp\nZiAoVkVORE9SX01JQ1JPU09GVC5lcXVhbHNJZ25vcmVDYXNlKGRyaXZlclZl\nbmRvcikKICAgICAgICAgICAgJiYgcHJvcHMudG9Mb3dlckNhc2UoKS5pbmRl\neE9mKCJtYXhjYWNoZWRzdGF0ZW1lbnRzPTAiKSA9PSAtMSkKICAgICAgICAg\nICAgbG9nLndhcm4oX2xvYy5nZXQoInNxbHNlcnZlci1jYWNoZWRzdG1udHMi\nKSk7CiAgICB9CgogICAgcHVibGljIENvbHVtbltdIGdldENvbHVtbnMoRGF0\nYWJhc2VNZXRhRGF0YSBtZXRhLCBTdHJpbmcgY2F0YWxvZywKICAgICAgICBT\ndHJpbmcgc2NoZW1hTmFtZSwgU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGNv\nbHVtbk5hbWUsIENvbm5lY3Rpb24gY29ubikKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICBDb2x1bW5bXSBjb2xzID0gc3VwZXIuZ2V0\nQ29sdW1ucyhtZXRhLCBjYXRhbG9nLCBzY2hlbWFOYW1lLCB0YWJsZU5hbWUs\nCiAgICAgICAgICAgIGNvbHVtbk5hbWUsIGNvbm4pOwoKICAgICAgICAvLyBm\nb3Igb3B0YSBkcml2ZXIsIHdoaWNoIHJlcG9ydHMgbnZhcmNoYXIgYXMgdW5r\nbm93biB0eXBlCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGNvbHMgIT0gbnVs\nbCAmJiBpIDwgY29scy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBTdHJp\nbmcgdHlwZU5hbWUgPSBjb2xzW2ldLmdldFR5cGVOYW1lKCk7CiAgICAgICAg\nICAgIGlmICh0eXBlTmFtZSA9PSBudWxsKQogICAgICAgICAgICAgICAgY29u\ndGludWU7CgogICAgICAgICAgICB0eXBlTmFtZSA9IHR5cGVOYW1lLnRvVXBw\nZXJDYXNlKCk7CgogICAgICAgICAgICBpZiAoIk5WQVJDSEFSIi5lcXVhbHMo\ndHlwZU5hbWUpKQogICAgICAgICAgICAgICAgY29sc1tpXS5zZXRUeXBlKFR5\ncGVzLlZBUkNIQVIpOwogICAgICAgICAgICBlbHNlIGlmICgiVU5JUVVFSURF\nTlRJRklFUiIuZXF1YWxzKHR5cGVOYW1lKSkgewogICAgICAgICAgICAgICAg\naWYgKHVuaXF1ZUlkZW50aWZpZXJBc1ZhcmJpbmFyeSkKICAgICAgICAgICAg\nICAgICAgICBjb2xzW2ldLnNldFR5cGUoVHlwZXMuVkFSQklOQVJZKTsKICAg\nICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBjb2xzW2ld\nLnNldFR5cGUoVHlwZXMuVkFSQ0hBUik7CiAgICAgICAgICAgIH0gZWxzZSBp\nZiAoIk5DSEFSIi5lcXVhbHModHlwZU5hbWUpKQogICAgICAgICAgICAgICAg\nY29sc1tpXS5zZXRUeXBlKFR5cGVzLkNIQVIpOwogICAgICAgICAgICBlbHNl\nIGlmICgiTlRFWFQiLmVxdWFscyh0eXBlTmFtZSkpCiAgICAgICAgICAgICAg\nICBjb2xzW2ldLnNldFR5cGUoVHlwZXMuQ0xPQik7CiAgICAgICAgfQogICAg\nICAgIHJldHVybiBjb2xzOwogICAgfQogICAgCiAgICBwcm90ZWN0ZWQgdm9p\nZCBhcHBlbmRMZW5ndGgoU1FMQnVmZmVyIGJ1ZiwgaW50IHR5cGUpIHsKICAg\nICAgICBpZiAodHlwZSA9PSBUeXBlcy5WQVJDSEFSKQogICAgICAgICAgICBi\ndWYuYXBwZW5kKCIoIikuYXBwZW5kKEludGVnZXIudG9TdHJpbmcoY2hhcmFj\ndGVyQ29sdW1uU2l6ZSkpLmFwcGVuZCgiKSIpOwogICAgfQoKICAgIC8qKgog\nICAgICogSWYgdGhpcyBkaWN0aW9uYXJ5IHN1cHBvcnRzIFhNTCB0eXBlLAog\nICAgICogdXNlIHRoaXMgbWV0aG9kIHRvIGFwcGVuZCB4bWwgcHJlZGljYXRl\nLgogICAgICogCiAgICAgKiBAcGFyYW0gYnVmIHRoZSBTUUwgYnVmZmVyIHRv\nIHdyaXRlIHRoZSBjb21wYXJpc29uCiAgICAgKiBAcGFyYW0gb3AgdGhlIGNv\nbXBhcmlzb24gb3BlcmF0aW9uIHRvIHBlcmZvcm0KICAgICAqIEBwYXJhbSBs\naHMgdGhlIGxlZnQgaGFuZCBzaWRlIG9mIHRoZSBjb21wYXJpc29uCiAgICAg\nKiBAcGFyYW0gcmhzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIGNvbXBh\ncmlzb24KICAgICAqIEBwYXJhbSBsaHN4bWwgaW5kaWNhdGVzIHdoZXRoZXIg\ndGhlIGxlZnQgb3BlcmFuZCBtYXBzIHRvIHhtbAogICAgICogQHBhcmFtIHJo\nc3htbCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgcmlnaHQgb3BlcmFuZCBtYXBz\nIHRvIHhtbAogICAgICovCiAgICBwdWJsaWMgdm9pZCBhcHBlbmRYbWxDb21w\nYXJpc29uKFNRTEJ1ZmZlciBidWYsIFN0cmluZyBvcCwgRmlsdGVyVmFsdWUg\nbGhzLAogICAgICAgIEZpbHRlclZhbHVlIHJocywgYm9vbGVhbiBsaHN4bWws\nIGJvb2xlYW4gcmhzeG1sKSB7CiAgICAgICAgc3VwZXIuYXBwZW5kWG1sQ29t\ncGFyaXNvbihidWYsIG9wLCBsaHMsIHJocywgbGhzeG1sLCByaHN4bWwpOwog\nICAgICAgIGlmIChsaHN4bWwgJiYgcmhzeG1sKQogICAgICAgICAgICBhcHBl\nbmRYbWxDb21wYXJpc29uMihidWYsIG9wLCBsaHMsIHJocyk7CiAgICAgICAg\nZWxzZSBpZiAobGhzeG1sKQogICAgICAgICAgICBhcHBlbmRYbWxDb21wYXJp\nc29uMShidWYsIG9wLCBsaHMsIHJocyk7CiAgICAgICAgZWxzZSAKICAgICAg\nICAgICAgYXBwZW5kWG1sQ29tcGFyaXNvbjEoYnVmLCBvcCwgcmhzLCBsaHMp\nOwogICAgfQogICAgLyoqCiAgICAgKiBBcHBlbmQgYW4geG1sIGNvbXBhcmlz\nb24gcHJlZGljYXRlCiAgICAgKgogICAgICogQHBhcmFtIGJ1ZiB0aGUgU1FM\nIGJ1ZmZlciB0byB3cml0ZSB0aGUgY29tcGFyaXNvbgogICAgICogQHBhcmFt\nIG9wIHRoZSBjb21wYXJpc29uIG9wZXJhdGlvbiB0byBwZXJmb3JtCiAgICAg\nKiBAcGFyYW0gbGhzIHRoZSBsZWZ0IGhhbmQgc2lkZSBvZiB0aGUgY29tcGFy\naXNvbiAobWFwcyB0byB4bWwgY29sdW1uKQogICAgICogQHBhcmFtIHJocyB0\naGUgcmlnaHQgaGFuZCBzaWRlIG9mIHRoZSBjb21wYXJpc29uCiAgICAgKi8K\nICAgIHByaXZhdGUgdm9pZCBhcHBlbmRYbWxDb21wYXJpc29uMShTUUxCdWZm\nZXIgYnVmLCBTdHJpbmcgb3AsCiAgICAgICAgRmlsdGVyVmFsdWUgbGhzLCBG\naWx0ZXJWYWx1ZSByaHMpIHsKICAgICAgICBib29sZWFuIGNhc3RyaHMgPSBy\naHMuaXNDb25zdGFudCgpOwogICAgICAgIGlmIChjYXN0cmhzKQogICAgICAg\nICAgICBhcHBlbmRYbWxWYWx1ZShidWYsIGxocyk7CiAgICAgICAgZWxzZQog\nICAgICAgICAgICBhcHBlbmRYbWxFeGlzdChidWYsIGxocyk7CiAgICAgICAg\nYnVmLmFwcGVuZCgiICIpLmFwcGVuZChvcCkuYXBwZW5kKCIgIik7CiAgICAg\nICAgaWYgKGNhc3RyaHMpCiAgICAgICAgICAgIHJocy5hcHBlbmRUbyhidWYp\nOwogICAgICAgIGVsc2UgewogICAgICAgICAgICBidWYuYXBwZW5kKCJzcWw6\nY29sdW1uKFwiIik7CiAgICAgICAgICAgIHJocy5hcHBlbmRUbyhidWYpOwog\nICAgICAgICAgICBidWYuYXBwZW5kKCJcIikiKS4KICAgICAgICAgICAgICAg\nIGFwcGVuZCgiXScpID0gMSIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAg\ncHJpdmF0ZSB2b2lkIGFwcGVuZFhtbEV4aXN0KFNRTEJ1ZmZlciBidWYsIEZp\nbHRlclZhbHVlIGxocykgewogICAgICAgIGJ1Zi5hcHBlbmQobGhzLmdldENv\nbHVtbkFsaWFzKAogICAgICAgICAgICBsaHMuZ2V0RmllbGRNYXBwaW5nKCku\nZ2V0Q29sdW1ucygpWzBdKSkuCiAgICAgICAgICAgIGFwcGVuZCgiLmV4aXN0\nKCciKS4KICAgICAgICAgICAgYXBwZW5kKCIvKlsiKTsKICAgICAgICBsaHMu\nYXBwZW5kVG8oYnVmKTsgICAgCiAgICB9CiAgICAKICAgIC8qKgogICAgICog\nQXBwZW5kIGFuIHhtbCBjb21wYXJpc29uIHByZWRpY2F0ZSAoYm90aCBvcGVy\nYW5kcyBtYXAgdG8geG1sIGNvbHVtbikKICAgICAqCiAgICAgKiBAcGFyYW0g\nYnVmIHRoZSBTUUwgYnVmZmVyIHRvIHdyaXRlIHRoZSBjb21wYXJpc29uCiAg\nICAgKiBAcGFyYW0gb3AgdGhlIGNvbXBhcmlzb24gb3BlcmF0aW9uIHRvIHBl\ncmZvcm0KICAgICAqIEBwYXJhbSBsaHMgdGhlIGxlZnQgaGFuZCBzaWRlIG9m\nIHRoZSBjb21wYXJpc29uIChtYXBzIHRvIHhtbCBjb2x1bW4pCiAgICAgKiBA\ncGFyYW0gcmhzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIGNvbXBhcmlz\nb24gKG1hcHMgdG8geG1sIGNvbHVtbikKICAgICAqLwogICAgcHJpdmF0ZSB2\nb2lkIGFwcGVuZFhtbENvbXBhcmlzb24yKFNRTEJ1ZmZlciBidWYsIFN0cmlu\nZyBvcCwgCiAgICAgICAgRmlsdGVyVmFsdWUgbGhzLCBGaWx0ZXJWYWx1ZSBy\naHMpIHsKICAgICAgICBhcHBlbmRYbWxWYWx1ZShidWYsIGxocyk7CiAgICAg\nICAgYnVmLmFwcGVuZCgiICIpLmFwcGVuZChvcCkuYXBwZW5kKCIgIik7CiAg\nICAgICAgYXBwZW5kWG1sVmFsdWUoYnVmLCByaHMpOwogICAgfQogICAgCiAg\nICBwcml2YXRlIHZvaWQgYXBwZW5kWG1sVmFsdWUoU1FMQnVmZmVyIGJ1Ziwg\nRmlsdGVyVmFsdWUgdmFsKSB7CiAgICAgICAgQ2xhc3MgcmMgPSBGaWx0ZXJz\nLndyYXAodmFsLmdldFR5cGUoKSk7CiAgICAgICAgaW50IHR5cGUgPSBnZXRK\nREJDVHlwZShKYXZhVHlwZXMuZ2V0VHlwZUNvZGUocmMpLCBmYWxzZSk7CiAg\nICAgICAgYm9vbGVhbiBpc1htbEF0dHJpYnV0ZSA9ICh2YWwuZ2V0WG1sTWFw\ncGluZygpID09IG51bGwpID8gZmFsc2UKICAgICAgICAgICAgICAgIDogdmFs\nLmdldFhtbE1hcHBpbmcoKS5pc1htbEF0dHJpYnV0ZSgpOwogICAgICAgIGJ1\nZi5hcHBlbmQodmFsLmdldENvbHVtbkFsaWFzKAogICAgICAgICAgICB2YWwu\nZ2V0RmllbGRNYXBwaW5nKCkuZ2V0Q29sdW1ucygpWzBdKSkuCiAgICAgICAg\nICAgIGFwcGVuZCgiLnZhbHVlKCIpLgogICAgICAgICAgICBhcHBlbmQoIico\nLyovIik7CiAgICAgICAgdmFsLmFwcGVuZFRvKGJ1Zik7CiAgICAgICAgaWYg\nKCFpc1htbEF0dHJpYnV0ZSkKICAgICAgICAgICAgYnVmLmFwcGVuZCgiL3Rl\neHQoKSIpOwogICAgICAgIGJ1Zi5hcHBlbmQoIilbMV0nLCciKS4KICAgICAg\nICAgICAgYXBwZW5kKGdldFR5cGVOYW1lKHR5cGUpKTsKICAgICAgICBhcHBl\nbmRMZW5ndGgoYnVmLCB0eXBlKTsKICAgICAgICBidWYuYXBwZW5kKCInKSIp\nOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFJldHVybiBEQiBzcGVjaWZp\nYyBzY2hlbWFDYXNlCiAgICAgKi8KICAgIHB1YmxpYyBTdHJpbmcgZ2V0U2No\nZW1hQ2FzZSgpIHsKICAgICAgICByZXR1cm4gc2NoZW1hQ2FzZTsKICAgIH0K\nfQo=\n","encoding":"base64"}

