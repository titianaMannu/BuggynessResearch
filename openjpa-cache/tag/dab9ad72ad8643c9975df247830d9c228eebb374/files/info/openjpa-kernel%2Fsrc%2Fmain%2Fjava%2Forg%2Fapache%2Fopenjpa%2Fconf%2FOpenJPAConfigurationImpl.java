{"sha":"150cd3b019a7ca6fc01b45eec39f6eff3a395ba7","node_id":"MDQ6QmxvYjIwNjM2NDoxNTBjZDNiMDE5YTdjYTZmYzAxYjQ1ZWVjMzlmNmVmZjNhMzk1YmE3","size":49744,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/150cd3b019a7ca6fc01b45eec39f6eff3a395ba7","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuY29uZjsKCmltcG9ydCBqYXZh\nLnV0aWwuQ29sbGVjdGlvbjsKaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Owpp\nbXBvcnQgamF2YS51dGlsLk1hcDsKCmltcG9ydCBvcmcuYXBhY2hlLmNvbW1v\nbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9yZy5hcGFjaGUub3Blbmpw\nYS5kYXRhY2FjaGUuQ29uY3VycmVudERhdGFDYWNoZTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5kYXRhY2FjaGUuQ29uY3VycmVudFF1ZXJ5Q2FjaGU7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlLkRhdGFDYWNo\nZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hl\nLkRhdGFDYWNoZU1hbmFnZXJJbXBsOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmVlLk1hbmFnZWRSdW50aW1lOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLmV2ZW50Lk9ycGhhbmVkS2V5QWN0aW9uOwppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmV2ZW50LlJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlcjsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5SZW1vdGVDb21taXRQcm92\naWRlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5ldmVudC5Ccm9rZXJG\nYWN0b3J5RXZlbnRNYW5hZ2VyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLmtlcm5lbC5BdXRvQ2xlYXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLkJyb2tlckltcGw7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\na2VybmVsLkNvbm5lY3Rpb25SZXRhaW5Nb2RlczsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5rZXJuZWwuSW52ZXJzZU1hbmFnZXI7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tMZXZlbHM7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkxvY2tNYW5hZ2VyOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5RdWVyeUZsdXNoTW9kZXM7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLlJlc3RvcmVTdGF0ZTsKaW1w\nb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuU2F2ZXBvaW50TWFuYWdl\ncjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuU2VxOwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBzLkFnZ3JlZ2F0ZUxp\nc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5leHBz\nLkZpbHRlckxpc3RlbmVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxp\nYi5jb25mLio7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmxvZy5M\nb2c7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxp\nemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURhdGFG\nYWN0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuTWV0YURh\ndGFSZXBvc2l0b3J5OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwu\nQ2xhc3NSZXNvbHZlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGls\nLkltcGxIZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5Q\ncm94eU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5T\ndG9yZUZhY2FkZVR5cGVSZWdpc3RyeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS5lbmhhbmNlLlJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3NzZXNNb2RlczsK\nCi8qKgogKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUge0BsaW5rIE9wZW5KUEFD\nb25maWd1cmF0aW9ufSBpbnRlcmZhY2UuCiAqCiAqIEBzZWUgQ29uZmlndXJh\ndGlvbkltcGwKICogQGF1dGhvciBNYXJjIFBydWQnaG9tbWVhdXgKICogQGF1\ndGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBPcGVuSlBBQ29uZmln\ndXJhdGlvbkltcGwKICAgIGV4dGVuZHMgQ29uZmlndXJhdGlvbkltcGwKICAg\nIGltcGxlbWVudHMgT3BlbkpQQUNvbmZpZ3VyYXRpb24gewoKICAgIHByaXZh\ndGUgc3RhdGljIGZpbmFsIExvY2FsaXplciBfbG9jID0KICAgICAgICBMb2Nh\nbGl6ZXIuZm9yUGFja2FnZShPcGVuSlBBQ29uZmlndXJhdGlvbkltcGwuY2xh\nc3MpOwoKICAgIC8vIGNhY2hlZCBzdGF0ZTsgc29tZSBvZiB0aGlzIGlzIGNy\nZWF0ZWQgaW4gZ2V0dGVyIG1ldGhvZHMsIHNvIG1ha2UKICAgIC8vIHByb3Rl\nY3RlZCBpbiBjYXNlIHN1YmNsYXNzZXMgd2FudCB0byBhY2Nlc3Mgd2l0aG91\ndCBjcmVhdGluZwogICAgcHJvdGVjdGVkIE1ldGFEYXRhUmVwb3NpdG9yeSBt\nZXRhUmVwb3NpdG9yeSA9IG51bGw7CiAgICBwcm90ZWN0ZWQgUmVtb3RlQ29t\nbWl0RXZlbnRNYW5hZ2VyIHJlbW90ZUV2ZW50TWFuYWdlciA9IG51bGw7Cgog\nICAgLy8gb3BlbmpwYSBwcm9wZXJ0aWVzCiAgICBwdWJsaWMgT2JqZWN0VmFs\ndWUgY2xhc3NSZXNvbHZlclBsdWdpbjsKICAgIHB1YmxpYyBPYmplY3RWYWx1\nZSBicm9rZXJQbHVnaW47CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgZGF0YUNh\nY2hlUGx1Z2luOwogICAgcHVibGljIE9iamVjdFZhbHVlIGRhdGFDYWNoZU1h\nbmFnZXJQbHVnaW47CiAgICBwdWJsaWMgSW50VmFsdWUgZGF0YUNhY2hlVGlt\nZW91dDsKICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBxdWVyeUNhY2hlUGx1Z2lu\nOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSBkeW5hbWljRGF0YVN0cnVjdHM7\nCiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgbWFuYWdlZFJ1bnRpbWVQbHVnaW47\nCiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIHRyYW5zYWN0aW9uTW9kZTsKICAg\nIHB1YmxpYyBJbnRWYWx1ZSBjb25uZWN0aW9uUmV0YWluTW9kZTsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSBmZXRjaEJhdGNoU2l6ZTsKICAgIHB1YmxpYyBJbnRW\nYWx1ZSBtYXhGZXRjaERlcHRoOwogICAgcHVibGljIFN0cmluZ0xpc3RWYWx1\nZSBmZXRjaEdyb3VwczsKICAgIHB1YmxpYyBJbnRWYWx1ZSBmbHVzaEJlZm9y\nZVF1ZXJpZXM7CiAgICBwdWJsaWMgSW50VmFsdWUgbG9ja1RpbWVvdXQ7CiAg\nICBwdWJsaWMgSW50VmFsdWUgcmVhZExvY2tMZXZlbDsKICAgIHB1YmxpYyBJ\nbnRWYWx1ZSB3cml0ZUxvY2tMZXZlbDsKICAgIHB1YmxpYyBPYmplY3RWYWx1\nZSBzZXFQbHVnaW47CiAgICBwdWJsaWMgUGx1Z2luTGlzdFZhbHVlIGZpbHRl\nckxpc3RlbmVyUGx1Z2luczsKICAgIHB1YmxpYyBQbHVnaW5MaXN0VmFsdWUg\nYWdncmVnYXRlTGlzdGVuZXJQbHVnaW5zOwogICAgcHVibGljIEJvb2xlYW5W\nYWx1ZSByZXRyeUNsYXNzUmVnaXN0cmF0aW9uOwogICAgcHVibGljIE9iamVj\ndFZhbHVlIHByb3h5TWFuYWdlclBsdWdpbjsKICAgIHB1YmxpYyBTdHJpbmdW\nYWx1ZSBjb25uZWN0aW9uVXNlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFs\ndWUgY29ubmVjdGlvblBhc3N3b3JkOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb25VUkw7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbkRyaXZlck5hbWU7CiAgICBwdWJsaWMgT2JqZWN0VmFsdWUgY29ubmVj\ndGlvbkZhY3Rvcnk7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVjdGlv\nbkZhY3RvcnlOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25Qcm9wZXJ0aWVzOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5lY3Rp\nb25GYWN0b3J5UHJvcGVydGllczsKICAgIHB1YmxpYyBCb29sZWFuVmFsdWUg\nY29ubmVjdGlvbkZhY3RvcnlNb2RlOwogICAgcHVibGljIFN0cmluZ1ZhbHVl\nIGNvbm5lY3Rpb24yVXNlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUg\nY29ubmVjdGlvbjJQYXNzd29yZDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBj\nb25uZWN0aW9uMlVSTDsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uMkRyaXZlck5hbWU7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgY29ubmVj\ndGlvbjJQcm9wZXJ0aWVzOwogICAgcHVibGljIE9iamVjdFZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MjsKICAgIHB1YmxpYyBTdHJpbmdWYWx1ZSBjb25uZWN0\naW9uRmFjdG9yeTJOYW1lOwogICAgcHVibGljIFN0cmluZ1ZhbHVlIGNvbm5l\nY3Rpb25GYWN0b3J5MlByb3BlcnRpZXM7CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIG9wdGltaXN0aWM7CiAgICBwdWJsaWMgSW50VmFsdWUgYXV0b0NsZWFy\nOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSByZXRhaW5TdGF0ZTsKICAgIHB1\nYmxpYyBJbnRWYWx1ZSByZXN0b3JlU3RhdGU7CiAgICBwdWJsaWMgT2JqZWN0\nVmFsdWUgZGV0YWNoU3RhdGVQbHVnaW47CiAgICBwdWJsaWMgQm9vbGVhblZh\nbHVlIGlnbm9yZUNoYW5nZXM7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVlIG5v\nbnRyYW5zYWN0aW9uYWxSZWFkOwogICAgcHVibGljIEJvb2xlYW5WYWx1ZSBu\nb250cmFuc2FjdGlvbmFsV3JpdGU7CiAgICBwdWJsaWMgQm9vbGVhblZhbHVl\nIG11bHRpdGhyZWFkZWQ7CiAgICBwdWJsaWMgU3RyaW5nVmFsdWUgbWFwcGlu\nZzsKICAgIHB1YmxpYyBQbHVnaW5WYWx1ZSBtZXRhRmFjdG9yeVBsdWdpbjsK\nICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBtZXRhUmVwb3NpdG9yeVBsdWdpbjsK\nICAgIHB1YmxpYyBPYmplY3RWYWx1ZSBsb2NrTWFuYWdlclBsdWdpbjsKICAg\nIHB1YmxpYyBPYmplY3RWYWx1ZSBpbnZlcnNlTWFuYWdlclBsdWdpbjsKICAg\nIHB1YmxpYyBPYmplY3RWYWx1ZSBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luOwog\nICAgcHVibGljIE9iamVjdFZhbHVlIG9ycGhhbmVkS2V5UGx1Z2luOwogICAg\ncHVibGljIE9iamVjdFZhbHVlIGNvbXBhdGliaWxpdHlQbHVnaW47CiAgICBw\ndWJsaWMgUXVlcnlDb21waWxhdGlvbkNhY2hlVmFsdWUgcXVlcnlDb21waWxh\ndGlvbkNhY2hlUGx1Z2luOwogICAgcHVibGljIEludFZhbHVlIHJ1bnRpbWVV\nbmVuaGFuY2VkQ2xhc3NlczsKCiAgICAvLyBjdXN0b20gdmFsdWVzCiAgICBw\ndWJsaWMgQnJva2VyRmFjdG9yeVZhbHVlIGJyb2tlckZhY3RvcnlQbHVnaW47\nCiAgICBwdWJsaWMgUmVtb3RlQ29tbWl0UHJvdmlkZXJWYWx1ZSByZW1vdGVQ\ncm92aWRlclBsdWdpbjsKICAgIHB1YmxpYyBBdXRvRGV0YWNoVmFsdWUgYXV0\nb0RldGFjaDsKCiAgICBwcml2YXRlIENvbGxlY3Rpb24gc3VwcG9ydGVkT3B0\naW9ucyA9IG5ldyBIYXNoU2V0KDMzKTsKICAgIHByaXZhdGUgU3RyaW5nIHNw\nZWMgPSBudWxsOwogICAgcHJpdmF0ZSBmaW5hbCBTdG9yZUZhY2FkZVR5cGVS\nZWdpc3RyeSBfc3RvcmVGYWNhZGVSZWdpc3RyeSA9CiAgICAgICAgbmV3IFN0\nb3JlRmFjYWRlVHlwZVJlZ2lzdHJ5KCk7CiAgICBwcml2YXRlIEJyb2tlckZh\nY3RvcnlFdmVudE1hbmFnZXIgX2Jyb2tlckZhY3RvcnlFdmVudE1hbmFnZXIg\nPQogICAgICAgIG5ldyBCcm9rZXJGYWN0b3J5RXZlbnRNYW5hZ2VyKHRoaXMp\nOwoKICAgIC8qKgogICAgICogRGVmYXVsdCBjb25zdHJ1Y3Rvci4gQXR0ZW1w\ndHMgdG8gbG9hZCBnbG9iYWwgcHJvcGVydGllcy4KICAgICAqLwogICAgcHVi\nbGljIE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbCgpIHsKICAgICAgICB0aGlz\nKHRydWUpOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3IuCiAg\nICAgKgogICAgICogQHBhcmFtIGxvYWRHbG9iYWxzIHdoZXRoZXIgdG8gYXR0\nZW1wdCB0byBsb2FkIHRoZSBnbG9iYWwgcHJvcGVydGllcwogICAgICovCiAg\nICBwdWJsaWMgT3BlbkpQQUNvbmZpZ3VyYXRpb25JbXBsKGJvb2xlYW4gbG9h\nZEdsb2JhbHMpIHsKICAgICAgICB0aGlzKHRydWUsIGxvYWRHbG9iYWxzKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9yLgogICAgICoKICAg\nICAqIEBwYXJhbSBkZXJpdmF0aW9ucyB3aGV0aGVyIHRvIGFwcGx5IHByb2R1\nY3QgZGVyaXZhdGlvbnMKICAgICAqIEBwYXJhbSBsb2FkR2xvYmFscyB3aGV0\naGVyIHRvIGF0dGVtcHQgdG8gbG9hZCB0aGUgZ2xvYmFsIHByb3BlcnRpZXMK\nICAgICAqLwogICAgcHVibGljIE9wZW5KUEFDb25maWd1cmF0aW9uSW1wbChi\nb29sZWFuIGRlcml2YXRpb25zLCBib29sZWFuIGxvYWRHbG9iYWxzKSB7CiAg\nICAgICAgc3VwZXIoZmFsc2UpOwogICAgICAgIFN0cmluZ1tdIGFsaWFzZXM7\nCgogICAgICAgIGNsYXNzUmVzb2x2ZXJQbHVnaW4gPSBhZGRQbHVnaW4oIkNs\nYXNzUmVzb2x2ZXIiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAg\nICAgICAgbmV3IFN0cmluZ1tdIHsgImRlZmF1bHQiLAogICAgICAgICAgICAg\nICAgIm9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkNsYXNzUmVzb2x2ZXJJbXBs\nIiwKICAgICAgICAgICAgICAgIC8vIGRlcHJlY2F0ZWQgYWxpYXMKICAgICAg\nICAgICAgICAgICJzcGVjIiwgIm9yZy5hcGFjaGUub3BlbmpwYS51dGlsLkNs\nYXNzUmVzb2x2ZXJJbXBsIiwgfTsKICAgICAgICBjbGFzc1Jlc29sdmVyUGx1\nZ2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgY2xhc3NSZXNvbHZl\nclBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGNsYXNz\nUmVzb2x2ZXJQbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAg\nIGNsYXNzUmVzb2x2ZXJQbHVnaW4uc2V0SW5zdGFudGlhdGluZ0dldHRlcigi\nZ2V0Q2xhc3NSZXNvbHZlckluc3RhbmNlIik7CgogICAgICAgIGJyb2tlckZh\nY3RvcnlQbHVnaW4gPSBuZXcgQnJva2VyRmFjdG9yeVZhbHVlKCk7CiAgICAg\nICAgYWRkVmFsdWUoYnJva2VyRmFjdG9yeVBsdWdpbik7CgogICAgICAgIGJy\nb2tlclBsdWdpbiA9IG5ldyBCcm9rZXJWYWx1ZSgpOwogICAgICAgIGFkZFZh\nbHVlKGJyb2tlclBsdWdpbik7CgogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQ\nbHVnaW4gPSBhZGRQbHVnaW4oIkRhdGFDYWNoZU1hbmFnZXIiLCB0cnVlKTsK\nICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAgbmV3IFN0cmluZ1tdIHsg\nImRlZmF1bHQiLCBEYXRhQ2FjaGVNYW5hZ2VySW1wbC5jbGFzcy5nZXROYW1l\nKCksIH07CiAgICAgICAgZGF0YUNhY2hlTWFuYWdlclBsdWdpbi5zZXRBbGlh\nc2VzKGFsaWFzZXMpOwogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4u\nc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBkYXRhQ2FjaGVNYW5h\nZ2VyUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAgICBkYXRh\nQ2FjaGVNYW5hZ2VyUGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIoImdl\ndERhdGFDYWNoZU1hbmFnZXIiKTsKCiAgICAgICAgZGF0YUNhY2hlUGx1Z2lu\nID0gYWRkUGx1Z2luKCJEYXRhQ2FjaGUiLCBmYWxzZSk7CiAgICAgICAgYWxp\nYXNlcyA9IG5ldyBTdHJpbmdbXSB7IAogICAgICAgICAgICAiZmFsc2UiLCBu\ndWxsLCAKICAgICAgICAgICAgInRydWUiLCBDb25jdXJyZW50RGF0YUNhY2hl\nLmNsYXNzLmdldE5hbWUoKSwgCiAgICAgICAgICAgICJjb25jdXJyZW50Iiwg\nQ29uY3VycmVudERhdGFDYWNoZS5jbGFzcy5nZXROYW1lKCksIAogICAgICAg\nIH07CiAgICAgICAgZGF0YUNhY2hlUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNl\ncyk7CiAgICAgICAgZGF0YUNhY2hlUGx1Z2luLnNldERlZmF1bHQoYWxpYXNl\nc1swXSk7CiAgICAgICAgZGF0YUNhY2hlUGx1Z2luLnNldFN0cmluZyhhbGlh\nc2VzWzBdKTsKCiAgICAgICAgZGF0YUNhY2hlVGltZW91dCA9IGFkZEludCgi\nRGF0YUNhY2hlVGltZW91dCIpOwogICAgICAgIGRhdGFDYWNoZVRpbWVvdXQu\nc2V0RGVmYXVsdCgiLTEiKTsKICAgICAgICBkYXRhQ2FjaGVUaW1lb3V0LnNl\ndCgtMSk7CgogICAgICAgIHF1ZXJ5Q2FjaGVQbHVnaW4gPSBhZGRQbHVnaW4o\nIlF1ZXJ5Q2FjaGUiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0gbmV3IFN0\ncmluZ1tdIHsgCiAgICAgICAgICAgICJ0cnVlIiwgQ29uY3VycmVudFF1ZXJ5\nQ2FjaGUuY2xhc3MuZ2V0TmFtZSgpLAogICAgICAgICAgICAiY29uY3VycmVu\ndCIsIENvbmN1cnJlbnRRdWVyeUNhY2hlLmNsYXNzLmdldE5hbWUoKSwgCiAg\nICAgICAgICAgICJmYWxzZSIsIG51bGwsIAogICAgICAgIH07CiAgICAgICAg\ncXVlcnlDYWNoZVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAg\nIHF1ZXJ5Q2FjaGVQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAg\nICAgICBxdWVyeUNhY2hlUGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsK\nCiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3RzID0gYWRkQm9vbGVhbigiRHlu\nYW1pY0RhdGFTdHJ1Y3RzIik7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3Rz\nLnNldERlZmF1bHQoImZhbHNlIik7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1\nY3RzLnNldChmYWxzZSk7CgogICAgICAgIGxvY2tNYW5hZ2VyUGx1Z2luID0g\nYWRkUGx1Z2luKCJMb2NrTWFuYWdlciIsIGZhbHNlKTsKICAgICAgICBhbGlh\nc2VzID0KICAgICAgICAgICAgbmV3IFN0cmluZ1tdIHsgIm5vbmUiLCAib3Jn\nLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5Ob25lTG9ja01hbmFnZXIiLAogICAg\nICAgICAgICAgICAgInZlcnNpb24iLCAib3JnLmFwYWNoZS5vcGVuanBhLmtl\ncm5lbC5WZXJzaW9uTG9ja01hbmFnZXIiLCB9OwogICAgICAgIGxvY2tNYW5h\nZ2VyUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgbG9ja01h\nbmFnZXJQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBs\nb2NrTWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CgogICAg\nICAgIGludmVyc2VNYW5hZ2VyUGx1Z2luID0gYWRkUGx1Z2luKCJJbnZlcnNl\nTWFuYWdlciIsIGZhbHNlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAg\nICAgbmV3IFN0cmluZ1tdIHsgImZhbHNlIiwgbnVsbCwgInRydWUiLAogICAg\nICAgICAgICAgICAgIm9yZy5hcGFjaGUub3BlbmpwYS5rZXJuZWwuSW52ZXJz\nZU1hbmFnZXIiLCB9OwogICAgICAgIGludmVyc2VNYW5hZ2VyUGx1Z2luLnNl\ndEFsaWFzZXMoYWxpYXNlcyk7CiAgICAgICAgaW52ZXJzZU1hbmFnZXJQbHVn\naW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBpbnZlcnNlTWFu\nYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CgogICAgICAgIHNh\ndmVwb2ludE1hbmFnZXJQbHVnaW4gPSBhZGRQbHVnaW4oIlNhdmVwb2ludE1h\nbmFnZXIiLCB0cnVlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAg\nbmV3IFN0cmluZ1tdIHsgImluLW1lbSIsCiAgICAgICAgICAgICAgICAib3Jn\nLmFwYWNoZS5vcGVuanBhLmtlcm5lbC5Jbk1lbW9yeVNhdmVwb2ludE1hbmFn\nZXIiLCB9OwogICAgICAgIHNhdmVwb2ludE1hbmFnZXJQbHVnaW4uc2V0QWxp\nYXNlcyhhbGlhc2VzKTsKICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2lu\nLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgc2F2ZXBvaW50TWFu\nYWdlclBsdWdpbi5zZXRTdHJpbmcoYWxpYXNlc1swXSk7CiAgICAgICAgc2F2\nZXBvaW50TWFuYWdlclBsdWdpbgogICAgICAgICAgICAuc2V0SW5zdGFudGlh\ndGluZ0dldHRlcigiZ2V0U2F2ZXBvaW50TWFuYWdlckluc3RhbmNlIik7Cgog\nICAgICAgIG9ycGhhbmVkS2V5UGx1Z2luID0gYWRkUGx1Z2luKCJPcnBoYW5l\nZEtleUFjdGlvbiIsIHRydWUpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAg\nICAgICBuZXcgU3RyaW5nW10geyAibG9nIiwKICAgICAgICAgICAgICAgICJv\ncmcuYXBhY2hlLm9wZW5qcGEuZXZlbnQuTG9nT3JwaGFuZWRLZXlBY3Rpb24i\nLCAiZXhjZXB0aW9uIiwKICAgICAgICAgICAgICAgICJvcmcuYXBhY2hlLm9w\nZW5qcGEuZXZlbnQuRXhjZXB0aW9uT3JwaGFuZWRLZXlBY3Rpb24iLCAibm9u\nZSIsCiAgICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLmV2ZW50\nLk5vbmVPcnBoYW5lZEtleUFjdGlvbiIsIH07CiAgICAgICAgb3JwaGFuZWRL\nZXlQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBvcnBoYW5l\nZEtleVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIG9y\ncGhhbmVkS2V5UGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAg\nICBvcnBoYW5lZEtleVBsdWdpbgogICAgICAgICAgICAuc2V0SW5zdGFudGlh\ndGluZ0dldHRlcigiZ2V0T3JwaGFuZWRLZXlBY3Rpb25JbnN0YW5jZSIpOwoK\nICAgICAgICByZW1vdGVQcm92aWRlclBsdWdpbiA9IG5ldyBSZW1vdGVDb21t\naXRQcm92aWRlclZhbHVlKCk7CiAgICAgICAgYWRkVmFsdWUocmVtb3RlUHJv\ndmlkZXJQbHVnaW4pOwoKICAgICAgICB0cmFuc2FjdGlvbk1vZGUgPSBhZGRC\nb29sZWFuKCJUcmFuc2FjdGlvbk1vZGUiKTsKICAgICAgICBhbGlhc2VzID0g\nbmV3IFN0cmluZ1tdIHsgImxvY2FsIiwgImZhbHNlIiwgIm1hbmFnZWQiLCAi\ndHJ1ZSIsIH07CiAgICAgICAgdHJhbnNhY3Rpb25Nb2RlLnNldEFsaWFzZXMo\nYWxpYXNlcyk7CiAgICAgICAgdHJhbnNhY3Rpb25Nb2RlLnNldERlZmF1bHQo\nYWxpYXNlc1swXSk7CgogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luID0g\nYWRkUGx1Z2luKCJNYW5hZ2VkUnVudGltZSIsIHRydWUpOwogICAgICAgIGFs\naWFzZXMgPQogICAgICAgICAgICBuZXcgU3RyaW5nW10geyAiYXV0byIsCiAg\nICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLmVlLkF1dG9tYXRp\nY01hbmFnZWRSdW50aW1lIiwgImpuZGkiLAogICAgICAgICAgICAgICAgIm9y\nZy5hcGFjaGUub3BlbmpwYS5lZS5KTkRJTWFuYWdlZFJ1bnRpbWUiLCAiaW52\nb2NhdGlvbiIsCiAgICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBh\nLmVlLkludm9jYXRpb25NYW5hZ2VkUnVudGltZSIsIH07CiAgICAgICAgbWFu\nYWdlZFJ1bnRpbWVQbHVnaW4uc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAg\nICBtYW5hZ2VkUnVudGltZVBsdWdpbi5zZXREZWZhdWx0KGFsaWFzZXNbMF0p\nOwogICAgICAgIG1hbmFnZWRSdW50aW1lUGx1Z2luLnNldFN0cmluZyhhbGlh\nc2VzWzBdKTsKICAgICAgICBtYW5hZ2VkUnVudGltZVBsdWdpbgogICAgICAg\nICAgICAuc2V0SW5zdGFudGlhdGluZ0dldHRlcigiZ2V0TWFuYWdlZFJ1bnRp\nbWVJbnN0YW5jZSIpOwoKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4gPSBh\nZGRQbHVnaW4oIlByb3h5TWFuYWdlciIsIHRydWUpOwogICAgICAgIGFsaWFz\nZXMgPQogICAgICAgICAgICBuZXcgU3RyaW5nW10geyAiZGVmYXVsdCIsCiAg\nICAgICAgICAgICAgICAib3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuUHJveHlN\nYW5hZ2VySW1wbCIgfTsKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uc2V0\nQWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4u\nc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBwcm94eU1hbmFnZXJQ\nbHVnaW4uc2V0U3RyaW5nKGFsaWFzZXNbMF0pOwogICAgICAgIHByb3h5TWFu\nYWdlclBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRQcm94eU1h\nbmFnZXJJbnN0YW5jZSIpOwoKICAgICAgICBtYXBwaW5nID0gYWRkU3RyaW5n\nKCJNYXBwaW5nIik7CiAgICAgICAgbWV0YUZhY3RvcnlQbHVnaW4gPSBhZGRQ\nbHVnaW4oIk1ldGFEYXRhRmFjdG9yeSIsIGZhbHNlKTsKCiAgICAgICAgbWV0\nYVJlcG9zaXRvcnlQbHVnaW4gPSBhZGRQbHVnaW4oIk1ldGFEYXRhUmVwb3Np\ndG9yeSIsIGZhbHNlKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAg\nbmV3IFN0cmluZ1tdIHsgImRlZmF1bHQiLAogICAgICAgICAgICAgICAgIm9y\nZy5hcGFjaGUub3BlbmpwYS5tZXRhLk1ldGFEYXRhUmVwb3NpdG9yeSIgfTsK\nICAgICAgICBtZXRhUmVwb3NpdG9yeVBsdWdpbi5zZXRBbGlhc2VzKGFsaWFz\nZXMpOwogICAgICAgIG1ldGFSZXBvc2l0b3J5UGx1Z2luLnNldERlZmF1bHQo\nYWxpYXNlc1swXSk7CiAgICAgICAgbWV0YVJlcG9zaXRvcnlQbHVnaW4uc2V0\nU3RyaW5nKGFsaWFzZXNbMF0pOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9y\neSA9IGFkZE9iamVjdCgiQ29ubmVjdGlvbkZhY3RvcnkiKTsKICAgICAgICBj\nb25uZWN0aW9uRmFjdG9yeS5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRD\nb25uZWN0aW9uRmFjdG9yeSIpOwoKICAgICAgICBjb25uZWN0aW9uRmFjdG9y\neTIgPSBhZGRPYmplY3QoIkNvbm5lY3Rpb25GYWN0b3J5MiIpOwogICAgICAg\nIGNvbm5lY3Rpb25GYWN0b3J5Mi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJn\nZXRDb25uZWN0aW9uRmFjdG9yeTIiKTsKCiAgICAgICAgY29ubmVjdGlvblVz\nZXJOYW1lID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uVXNlck5hbWUiKTsKICAg\nICAgICBjb25uZWN0aW9uUGFzc3dvcmQgPSBhZGRTdHJpbmcoIkNvbm5lY3Rp\nb25QYXNzd29yZCIpOwogICAgICAgIGNvbm5lY3Rpb25VUkwgPSBhZGRTdHJp\nbmcoIkNvbm5lY3Rpb25VUkwiKTsKICAgICAgICBjb25uZWN0aW9uRHJpdmVy\nTmFtZSA9IGFkZFN0cmluZygiQ29ubmVjdGlvbkRyaXZlck5hbWUiKTsKICAg\nICAgICBjb25uZWN0aW9uRmFjdG9yeU5hbWUgPSBhZGRTdHJpbmcoIkNvbm5l\nY3Rpb25GYWN0b3J5TmFtZSIpOwogICAgICAgIGNvbm5lY3Rpb25Qcm9wZXJ0\naWVzID0gYWRkU3RyaW5nKCJDb25uZWN0aW9uUHJvcGVydGllcyIpOwogICAg\nICAgIGNvbm5lY3Rpb25GYWN0b3J5UHJvcGVydGllcyA9IGFkZFN0cmluZygi\nQ29ubmVjdGlvbkZhY3RvcnlQcm9wZXJ0aWVzIik7CiAgICAgICAgY29ubmVj\ndGlvbjJVc2VyTmFtZSA9IGFkZFN0cmluZygiQ29ubmVjdGlvbjJVc2VyTmFt\nZSIpOwogICAgICAgIGNvbm5lY3Rpb24yUGFzc3dvcmQgPSBhZGRTdHJpbmco\nIkNvbm5lY3Rpb24yUGFzc3dvcmQiKTsKICAgICAgICBjb25uZWN0aW9uMlVS\nTCA9IGFkZFN0cmluZygiQ29ubmVjdGlvbjJVUkwiKTsKICAgICAgICBjb25u\nZWN0aW9uMkRyaXZlck5hbWUgPSBhZGRTdHJpbmcoIkNvbm5lY3Rpb24yRHJp\ndmVyTmFtZSIpOwogICAgICAgIGNvbm5lY3Rpb24yUHJvcGVydGllcyA9IGFk\nZFN0cmluZygiQ29ubmVjdGlvbjJQcm9wZXJ0aWVzIik7CiAgICAgICAgY29u\nbmVjdGlvbkZhY3RvcnkyUHJvcGVydGllcyA9CiAgICAgICAgICAgIGFkZFN0\ncmluZygiQ29ubmVjdGlvbkZhY3RvcnkyUHJvcGVydGllcyIpOwogICAgICAg\nIGNvbm5lY3Rpb25GYWN0b3J5Mk5hbWUgPSBhZGRTdHJpbmcoIkNvbm5lY3Rp\nb25GYWN0b3J5Mk5hbWUiKTsKCiAgICAgICAgY29ubmVjdGlvbkZhY3RvcnlN\nb2RlID0gYWRkQm9vbGVhbigiQ29ubmVjdGlvbkZhY3RvcnlNb2RlIik7CiAg\nICAgICAgYWxpYXNlcyA9IG5ldyBTdHJpbmdbXSB7ICJsb2NhbCIsICJmYWxz\nZSIsICJtYW5hZ2VkIiwgInRydWUiLCB9OwogICAgICAgIGNvbm5lY3Rpb25G\nYWN0b3J5TW9kZS5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGNvbm5l\nY3Rpb25GYWN0b3J5TW9kZS5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwoKICAg\nICAgICBvcHRpbWlzdGljID0gYWRkQm9vbGVhbigiT3B0aW1pc3RpYyIpOwog\nICAgICAgIG9wdGltaXN0aWMuc2V0RGVmYXVsdCgidHJ1ZSIpOwogICAgICAg\nIG9wdGltaXN0aWMuc2V0KHRydWUpOwoKICAgICAgICBhdXRvQ2xlYXIgPSBh\nZGRJbnQoIkF1dG9DbGVhciIpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAg\nICAgICBuZXcgU3RyaW5nW10geyAiZGF0YXN0b3JlIiwKICAgICAgICAgICAg\nICAgIFN0cmluZy52YWx1ZU9mKEF1dG9DbGVhci5DTEVBUl9EQVRBU1RPUkUp\nLCAiYWxsIiwKICAgICAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKEF1dG9D\nbGVhci5DTEVBUl9BTEwpLCB9OwogICAgICAgIGF1dG9DbGVhci5zZXRBbGlh\nc2VzKGFsaWFzZXMpOwogICAgICAgIGF1dG9DbGVhci5zZXREZWZhdWx0KGFs\naWFzZXNbMF0pOwogICAgICAgIGF1dG9DbGVhci5zZXQoQXV0b0NsZWFyLkNM\nRUFSX0RBVEFTVE9SRSk7CiAgICAgICAgYXV0b0NsZWFyLnNldEFsaWFzTGlz\ndENvbXByZWhlbnNpdmUodHJ1ZSk7CgogICAgICAgIHJldGFpblN0YXRlID0g\nYWRkQm9vbGVhbigiUmV0YWluU3RhdGUiKTsKICAgICAgICByZXRhaW5TdGF0\nZS5zZXREZWZhdWx0KCJ0cnVlIik7CiAgICAgICAgcmV0YWluU3RhdGUuc2V0\nKHRydWUpOwoKICAgICAgICByZXN0b3JlU3RhdGUgPSBhZGRJbnQoIlJlc3Rv\ncmVTdGF0ZSIpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAgICAgICBuZXcg\nU3RyaW5nW10geyAibm9uZSIsIFN0cmluZy52YWx1ZU9mKFJlc3RvcmVTdGF0\nZS5SRVNUT1JFX05PTkUpLAogICAgICAgICAgICAgICAgImZhbHNlIiwgU3Ry\naW5nLnZhbHVlT2YoUmVzdG9yZVN0YXRlLlJFU1RPUkVfTk9ORSksCiAgICAg\nICAgICAgICAgICAiaW1tdXRhYmxlIiwgU3RyaW5nLnZhbHVlT2YoUmVzdG9y\nZVN0YXRlLlJFU1RPUkVfSU1NVVRBQkxFKSwKICAgICAgICAgICAgICAgIC8v\nICJ0cnVlIiBmb3IgY29tcGF0IHdpdGggamRvIFJlc3RvcmVWYWx1ZXMKICAg\nICAgICAgICAgICAgICJ0cnVlIiwgU3RyaW5nLnZhbHVlT2YoUmVzdG9yZVN0\nYXRlLlJFU1RPUkVfSU1NVVRBQkxFKSwgImFsbCIsCiAgICAgICAgICAgICAg\nICBTdHJpbmcudmFsdWVPZihSZXN0b3JlU3RhdGUuUkVTVE9SRV9BTEwpLCB9\nOwogICAgICAgIHJlc3RvcmVTdGF0ZS5zZXRBbGlhc2VzKGFsaWFzZXMpOwog\nICAgICAgIHJlc3RvcmVTdGF0ZS5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwog\nICAgICAgIHJlc3RvcmVTdGF0ZS5zZXQoUmVzdG9yZVN0YXRlLlJFU1RPUkVf\nSU1NVVRBQkxFKTsKICAgICAgICByZXN0b3JlU3RhdGUuc2V0QWxpYXNMaXN0\nQ29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAgICAgYXV0b0RldGFjaCA9IG5l\ndyBBdXRvRGV0YWNoVmFsdWUoKTsKICAgICAgICBhZGRWYWx1ZShhdXRvRGV0\nYWNoKTsKCiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4gPSBhZGRQbHVnaW4o\nIkRldGFjaFN0YXRlIiwgdHJ1ZSk7CiAgICAgICAgYWxpYXNlcyA9IG5ldyBT\ndHJpbmdbXSB7CiAgICAgICAgICAgICJsb2FkZWQiLCBEZXRhY2hPcHRpb25z\nLkxvYWRlZC5jbGFzcy5nZXROYW1lKCksCiAgICAgICAgICAgICJmZ3MiLCBE\nZXRhY2hPcHRpb25zLkZldGNoR3JvdXBzLmNsYXNzLmdldE5hbWUoKSwKICAg\nICAgICAgICAgImZldGNoLWdyb3VwcyIsIERldGFjaE9wdGlvbnMuRmV0Y2hH\ncm91cHMuY2xhc3MuZ2V0TmFtZSgpLCAKICAgICAgICAgICAgImFsbCIsIERl\ndGFjaE9wdGlvbnMuQWxsLmNsYXNzLmdldE5hbWUoKSwKICAgICAgICB9Owog\nICAgICAgIGRldGFjaFN0YXRlUGx1Z2luLnNldEFsaWFzZXMoYWxpYXNlcyk7\nCiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2Vz\nWzBdKTsKICAgICAgICBkZXRhY2hTdGF0ZVBsdWdpbi5zZXRTdHJpbmcoYWxp\nYXNlc1swXSk7CiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uc2V0SW5zdGFu\ndGlhdGluZ0dldHRlcigiZ2V0RGV0YWNoU3RhdGVJbnN0YW5jZSIpOwoKICAg\nICAgICBpZ25vcmVDaGFuZ2VzID0gYWRkQm9vbGVhbigiSWdub3JlQ2hhbmdl\ncyIpOwoKICAgICAgICBub250cmFuc2FjdGlvbmFsUmVhZCA9IGFkZEJvb2xl\nYW4oIk5vbnRyYW5zYWN0aW9uYWxSZWFkIik7CiAgICAgICAgbm9udHJhbnNh\nY3Rpb25hbFJlYWQuc2V0RGVmYXVsdCgidHJ1ZSIpOwogICAgICAgIG5vbnRy\nYW5zYWN0aW9uYWxSZWFkLnNldCh0cnVlKTsKCiAgICAgICAgbm9udHJhbnNh\nY3Rpb25hbFdyaXRlID0gYWRkQm9vbGVhbigiTm9udHJhbnNhY3Rpb25hbFdy\naXRlIik7CiAgICAgICAgbXVsdGl0aHJlYWRlZCA9IGFkZEJvb2xlYW4oIk11\nbHRpdGhyZWFkZWQiKTsKCiAgICAgICAgZmV0Y2hCYXRjaFNpemUgPSBhZGRJ\nbnQoIkZldGNoQmF0Y2hTaXplIik7CiAgICAgICAgZmV0Y2hCYXRjaFNpemUu\nc2V0RGVmYXVsdCgiLTEiKTsKICAgICAgICBmZXRjaEJhdGNoU2l6ZS5zZXQo\nLTEpOwoKICAgICAgICBtYXhGZXRjaERlcHRoID0gYWRkSW50KCJNYXhGZXRj\naERlcHRoIik7CiAgICAgICAgbWF4RmV0Y2hEZXB0aC5zZXREZWZhdWx0KCIt\nMSIpOwogICAgICAgIG1heEZldGNoRGVwdGguc2V0KC0xKTsKCiAgICAgICAg\nZmV0Y2hHcm91cHMgPSBhZGRTdHJpbmdMaXN0KCJGZXRjaEdyb3VwcyIpOwog\nICAgICAgIGZldGNoR3JvdXBzLnNldERlZmF1bHQoImRlZmF1bHQiKTsKICAg\nICAgICBmZXRjaEdyb3Vwcy5zZXQobmV3IFN0cmluZ1tdIHsgImRlZmF1bHQi\nIH0pOwoKICAgICAgICBmbHVzaEJlZm9yZVF1ZXJpZXMgPSBhZGRJbnQoIkZs\ndXNoQmVmb3JlUXVlcmllcyIpOwogICAgICAgIGFsaWFzZXMgPQogICAgICAg\nICAgICBuZXcgU3RyaW5nW10geyAidHJ1ZSIsIFN0cmluZy52YWx1ZU9mKFF1\nZXJ5Rmx1c2hNb2Rlcy5GTFVTSF9UUlVFKSwKICAgICAgICAgICAgICAgICJm\nYWxzZSIsIFN0cmluZy52YWx1ZU9mKFF1ZXJ5Rmx1c2hNb2Rlcy5GTFVTSF9G\nQUxTRSksCiAgICAgICAgICAgICAgICAid2l0aC1jb25uZWN0aW9uIiwKICAg\nICAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKFF1ZXJ5Rmx1c2hNb2Rlcy5G\nTFVTSF9XSVRIX0NPTk5FQ1RJT04pLCB9OwogICAgICAgIGZsdXNoQmVmb3Jl\nUXVlcmllcy5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGZsdXNoQmVm\nb3JlUXVlcmllcy5zZXREZWZhdWx0KGFsaWFzZXNbMF0pOwogICAgICAgIGZs\ndXNoQmVmb3JlUXVlcmllcy5zZXQoUXVlcnlGbHVzaE1vZGVzLkZMVVNIX1RS\nVUUpOwogICAgICAgIGZsdXNoQmVmb3JlUXVlcmllcy5zZXRBbGlhc0xpc3RD\nb21wcmVoZW5zaXZlKHRydWUpOwoKICAgICAgICBsb2NrVGltZW91dCA9IGFk\nZEludCgiTG9ja1RpbWVvdXQiKTsKICAgICAgICBsb2NrVGltZW91dC5zZXRE\nZWZhdWx0KCItMSIpOwogICAgICAgIGxvY2tUaW1lb3V0LnNldCgtMSk7Cgog\nICAgICAgIHJlYWRMb2NrTGV2ZWwgPSBhZGRJbnQoIlJlYWRMb2NrTGV2ZWwi\nKTsKICAgICAgICBhbGlhc2VzID0KICAgICAgICAgICAgbmV3IFN0cmluZ1td\nIHsKICAgICAgICAgICAgICAgICJyZWFkIiwgU3RyaW5nLnZhbHVlT2YoTG9j\na0xldmVscy5MT0NLX1JFQUQpLAogICAgICAgICAgICAgICAgIndyaXRlIiwg\nU3RyaW5nLnZhbHVlT2YoTG9ja0xldmVscy5MT0NLX1dSSVRFKSwKICAgICAg\nICAgICAgICAgICJub25lIiwgU3RyaW5nLnZhbHVlT2YoTG9ja0xldmVscy5M\nT0NLX05PTkUpLAogICAgICAgICAgICB9OwogICAgICAgIHJlYWRMb2NrTGV2\nZWwuc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAgICAgICByZWFkTG9ja0xldmVs\nLnNldERlZmF1bHQoYWxpYXNlc1swXSk7CiAgICAgICAgcmVhZExvY2tMZXZl\nbC5zZXQoTG9ja0xldmVscy5MT0NLX1JFQUQpOwogICAgICAgIHJlYWRMb2Nr\nTGV2ZWwuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAgICAg\nICAgd3JpdGVMb2NrTGV2ZWwgPSBhZGRJbnQoIldyaXRlTG9ja0xldmVsIik7\nCiAgICAgICAgYWxpYXNlcyA9CiAgICAgICAgICAgIG5ldyBTdHJpbmdbXSB7\nCiAgICAgICAgICAgICAgICAicmVhZCIsIFN0cmluZy52YWx1ZU9mKExvY2tM\nZXZlbHMuTE9DS19SRUFEKSwKICAgICAgICAgICAgICAgICJ3cml0ZSIsIFN0\ncmluZy52YWx1ZU9mKExvY2tMZXZlbHMuTE9DS19XUklURSksCiAgICAgICAg\nICAgICAgICAibm9uZSIsIFN0cmluZy52YWx1ZU9mKExvY2tMZXZlbHMuTE9D\nS19OT05FKSwKICAgICAgICAgICAgfTsKICAgICAgICB3cml0ZUxvY2tMZXZl\nbC5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIHdyaXRlTG9ja0xldmVs\nLnNldERlZmF1bHQoYWxpYXNlc1sxXSk7CiAgICAgICAgd3JpdGVMb2NrTGV2\nZWwuc2V0KExvY2tMZXZlbHMuTE9DS19XUklURSk7CiAgICAgICAgd3JpdGVM\nb2NrTGV2ZWwuc2V0QWxpYXNMaXN0Q29tcHJlaGVuc2l2ZSh0cnVlKTsKCiAg\nICAgICAgc2VxUGx1Z2luID0gbmV3IFNlcVZhbHVlKCJTZXF1ZW5jZSIpOwog\nICAgICAgIHNlcVBsdWdpbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKCJnZXRT\nZXF1ZW5jZUluc3RhbmNlIik7CiAgICAgICAgYWRkVmFsdWUoc2VxUGx1Z2lu\nKTsKCiAgICAgICAgY29ubmVjdGlvblJldGFpbk1vZGUgPSBhZGRJbnQoIkNv\nbm5lY3Rpb25SZXRhaW5Nb2RlIik7CiAgICAgICAgYWxpYXNlcyA9CiAgICAg\nICAgICAgIG5ldyBTdHJpbmdbXSB7CiAgICAgICAgICAgICAgICAib24tZGVt\nYW5kIiwKICAgICAgICAgICAgICAgIFN0cmluZy52YWx1ZU9mKENvbm5lY3Rp\nb25SZXRhaW5Nb2Rlcy5DT05OX1JFVEFJTl9ERU1BTkQpLAogICAgICAgICAg\nICAgICAgInRyYW5zYWN0aW9uIiwKICAgICAgICAgICAgICAgIFN0cmluZy52\nYWx1ZU9mKENvbm5lY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JFVEFJTl9UUkFO\nUyksCiAgICAgICAgICAgICAgICAiYWx3YXlzIiwKICAgICAgICAgICAgICAg\nIFN0cmluZy52YWx1ZU9mKENvbm5lY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JF\nVEFJTl9BTFdBWVMpLAogICAgICAgICAgICAgICAgLy8gZGVwcmVjYXRlZAog\nICAgICAgICAgICAgICAgInBlcnNpc3RlbmNlLW1hbmFnZXIiLAogICAgICAg\nICAgICAgICAgU3RyaW5nLnZhbHVlT2YoQ29ubmVjdGlvblJldGFpbk1vZGVz\nLkNPTk5fUkVUQUlOX0FMV0FZUyksCiAgICAgICAgICAgIH07CiAgICAgICAg\nY29ubmVjdGlvblJldGFpbk1vZGUuc2V0QWxpYXNlcyhhbGlhc2VzKTsKICAg\nICAgICBjb25uZWN0aW9uUmV0YWluTW9kZS5zZXREZWZhdWx0KGFsaWFzZXNb\nMF0pOwogICAgICAgIGNvbm5lY3Rpb25SZXRhaW5Nb2RlLnNldEFsaWFzTGlz\ndENvbXByZWhlbnNpdmUodHJ1ZSk7CiAgICAgICAgY29ubmVjdGlvblJldGFp\nbk1vZGUuc2V0KENvbm5lY3Rpb25SZXRhaW5Nb2Rlcy5DT05OX1JFVEFJTl9E\nRU1BTkQpOwoKICAgICAgICBmaWx0ZXJMaXN0ZW5lclBsdWdpbnMgPSBhZGRQ\nbHVnaW5MaXN0KCJGaWx0ZXJMaXN0ZW5lcnMiKTsKICAgICAgICBmaWx0ZXJM\naXN0ZW5lclBsdWdpbnMKICAgICAgICAgICAgLnNldEluc3RhbnRpYXRpbmdH\nZXR0ZXIoImdldEZpbHRlckxpc3RlbmVySW5zdGFuY2VzIik7CgogICAgICAg\nIGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucyA9IGFkZFBsdWdpbkxpc3QoIkFn\nZ3JlZ2F0ZUxpc3RlbmVycyIpOwogICAgICAgIGFnZ3JlZ2F0ZUxpc3RlbmVy\nUGx1Z2lucwogICAgICAgICAgICAuc2V0SW5zdGFudGlhdGluZ0dldHRlcigi\nZ2V0QWdncmVnYXRlTGlzdGVuZXJJbnN0YW5jZXMiKTsKCiAgICAgICAgcmV0\ncnlDbGFzc1JlZ2lzdHJhdGlvbiA9IGFkZEJvb2xlYW4oIlJldHJ5Q2xhc3NS\nZWdpc3RyYXRpb24iKTsKCiAgICAgICAgY29tcGF0aWJpbGl0eVBsdWdpbiA9\nIGFkZFBsdWdpbigiQ29tcGF0aWJpbGl0eSIsIHRydWUpOwogICAgICAgIGFs\naWFzZXMgPSBuZXcgU3RyaW5nW10geyAiZGVmYXVsdCIsIENvbXBhdGliaWxp\ndHkuY2xhc3MuZ2V0TmFtZSgpIH07CiAgICAgICAgY29tcGF0aWJpbGl0eVBs\ndWdpbi5zZXRBbGlhc2VzKGFsaWFzZXMpOwogICAgICAgIGNvbXBhdGliaWxp\ndHlQbHVnaW4uc2V0RGVmYXVsdChhbGlhc2VzWzBdKTsKICAgICAgICBjb21w\nYXRpYmlsaXR5UGx1Z2luLnNldFN0cmluZyhhbGlhc2VzWzBdKTsKICAgICAg\nICBjb21wYXRpYmlsaXR5UGx1Z2luLnNldEluc3RhbnRpYXRpbmdHZXR0ZXIo\nImdldENvbXBhdGliaWxpdHlJbnN0YW5jZSIpOwogICAgICAgIAogICAgICAg\nIHF1ZXJ5Q29tcGlsYXRpb25DYWNoZVBsdWdpbiA9IG5ldyBRdWVyeUNvbXBp\nbGF0aW9uQ2FjaGVWYWx1ZSgKICAgICAgICAgICAgIlF1ZXJ5Q29tcGlsYXRp\nb25DYWNoZSIpOwogICAgICAgIHF1ZXJ5Q29tcGlsYXRpb25DYWNoZVBsdWdp\nbi5zZXRJbnN0YW50aWF0aW5nR2V0dGVyKAogICAgICAgICAgICAiZ2V0UXVl\ncnlDb21waWxhdGlvbkNhY2hlSW5zdGFuY2UiKTsKICAgICAgICBhZGRWYWx1\nZShxdWVyeUNvbXBpbGF0aW9uQ2FjaGVQbHVnaW4pOwogICAgICAgIAogICAg\nICAgIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3NlcyA9IGFkZEludCgiUnVudGlt\nZVVuZW5oYW5jZWRDbGFzc2VzIik7CiAgICAgICAgcnVudGltZVVuZW5oYW5j\nZWRDbGFzc2VzLnNldEFsaWFzZXMobmV3IFN0cmluZ1tdIHsKICAgICAgICAg\nICAgInN1cHBvcnRlZCIsIFN0cmluZy52YWx1ZU9mKAogICAgICAgICAgICAg\nICAgUnVudGltZVVuZW5oYW5jZWRDbGFzc3Nlc01vZGVzLlNVUFBPUlRFRCks\nCiAgICAgICAgICAgICJ1bnN1cHBvcnRlZCIsIFN0cmluZy52YWx1ZU9mKAog\nICAgICAgICAgICAgICAgUnVudGltZVVuZW5oYW5jZWRDbGFzc3Nlc01vZGVz\nLlVOU1VQUE9SVEVEKSwKICAgICAgICAgICAgIndhcm4iLCBTdHJpbmcudmFs\ndWVPZigKICAgICAgICAgICAgICAgIFJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nz\nZXNNb2Rlcy5XQVJOKSwKICAgICAgICB9KTsKICAgICAgICBydW50aW1lVW5l\nbmhhbmNlZENsYXNzZXMuc2V0RGVmYXVsdCgic3VwcG9ydGVkIik7CiAgICAg\nICAgcnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLnNldFN0cmluZygic3VwcG9y\ndGVkIik7CiAgICAgICAgcnVudGltZVVuZW5oYW5jZWRDbGFzc2VzLnNldEFs\naWFzTGlzdENvbXByZWhlbnNpdmUodHJ1ZSk7CgogICAgICAgIC8vIGluaXRp\nYWxpemUgc3VwcG9ydGVkIG9wdGlvbnMgdGhhdCBzb21lIHJ1bnRpbWVzIG1h\neSBub3Qgc3VwcG9ydAogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9Q\nVElPTl9OT05UUkFOU19SRUFEKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25z\nLmFkZChPUFRJT05fT1BUSU1JU1RJQyk7CiAgICAgICAgc3VwcG9ydGVkT3B0\naW9ucy5hZGQoT1BUSU9OX0lEX0FQUExJQ0FUSU9OKTsKICAgICAgICBzdXBw\nb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fSURfREFUQVNUT1JFKTsKICAgICAg\nICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fVFlQRV9DT0xMRUNUSU9O\nKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fVFlQRV9N\nQVApOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9UWVBF\nX0FSUkFZKTsKICAgICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05f\nTlVMTF9DT05UQUlORVIpOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRk\nKE9QVElPTl9FTUJFRERFRF9SRUxBVElPTik7CiAgICAgICAgc3VwcG9ydGVk\nT3B0aW9ucy5hZGQoT1BUSU9OX0VNQkVEREVEX0NPTExFQ1RJT05fUkVMQVRJ\nT04pOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMuYWRkKE9QVElPTl9FTUJF\nRERFRF9NQVBfUkVMQVRJT04pOwogICAgICAgIHN1cHBvcnRlZE9wdGlvbnMu\nYWRkKE9QVElPTl9JTkNfRkxVU0gpOwogICAgICAgIHN1cHBvcnRlZE9wdGlv\nbnMuYWRkKE9QVElPTl9WQUxVRV9BVVRPQVNTSUdOKTsKICAgICAgICBzdXBw\nb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fVkFMVUVfSU5DUkVNRU5UKTsKICAg\nICAgICBzdXBwb3J0ZWRPcHRpb25zLmFkZChPUFRJT05fREFUQVNUT1JFX0NP\nTk5FQ1RJT04pOwoKICAgICAgICBpZiAoZGVyaXZhdGlvbnMpCiAgICAgICAg\nICAgIFByb2R1Y3REZXJpdmF0aW9ucy5iZWZvcmVDb25maWd1cmF0aW9uTG9h\nZCh0aGlzKTsKICAgICAgICBpZiAobG9hZEdsb2JhbHMpCiAgICAgICAgICAg\nIGxvYWRHbG9iYWxzKCk7CiAgICB9CgogICAgcHVibGljIENvbGxlY3Rpb24g\nc3VwcG9ydGVkT3B0aW9ucygpIHsKICAgICAgICByZXR1cm4gc3VwcG9ydGVk\nT3B0aW9uczsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldFNwZWNpZmlj\nYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIHNwZWM7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gc2V0U3BlY2lmaWNhdGlvbihTdHJpbmcgc3BlYykgewog\nICAgICAgIGlmIChzcGVjID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBm\nYWxzZTsKCiAgICAgICAgaWYgKHRoaXMuc3BlYyAhPSBudWxsKSB7CiAgICAg\nICAgICAgIGlmICghdGhpcy5zcGVjLmVxdWFscyhzcGVjKQogICAgICAgICAg\nICAgICAgJiYgZ2V0Q29uZmlndXJhdGlvbkxvZygpLmlzV2FybkVuYWJsZWQo\nKSkKICAgICAgICAgICAgICAgIGdldENvbmZpZ3VyYXRpb25Mb2coKS53YXJu\nKAogICAgICAgICAgICAgICAgICAgIF9sb2MuZ2V0KCJkaWZmLXNwZWNzIiwg\ndGhpcy5zcGVjLCBzcGVjKSk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsK\nICAgICAgICB9CiAgICAgICAgdGhpcy5zcGVjID0gc3BlYzsKICAgICAgICBQ\ncm9kdWN0RGVyaXZhdGlvbnMuYWZ0ZXJTcGVjaWZpY2F0aW9uU2V0KHRoaXMp\nOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldENsYXNzUmVzb2x2ZXIoU3RyaW5nIGNsYXNzUmVzb2x2ZXIpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGNsYXNzUmVzb2x2\nZXJQbHVnaW4uc2V0U3RyaW5nKGNsYXNzUmVzb2x2ZXIpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0Q2xhc3NSZXNvbHZlcigpIHsKICAgICAgICBy\nZXR1cm4gY2xhc3NSZXNvbHZlclBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRDbGFzc1Jlc29sdmVyKENsYXNzUmVzb2x2\nZXIgY2xhc3NSZXNvbHZlcikgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5\nKCk7CiAgICAgICAgY2xhc3NSZXNvbHZlclBsdWdpbi5zZXQoY2xhc3NSZXNv\nbHZlcik7CiAgICB9CgogICAgcHVibGljIENsYXNzUmVzb2x2ZXIgZ2V0Q2xh\nc3NSZXNvbHZlckluc3RhbmNlKCkgewogICAgICAgIGlmIChjbGFzc1Jlc29s\ndmVyUGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIGNsYXNzUmVz\nb2x2ZXJQbHVnaW4uaW5zdGFudGlhdGUoQ2xhc3NSZXNvbHZlci5jbGFzcywg\ndGhpcyk7CiAgICAgICAgcmV0dXJuIChDbGFzc1Jlc29sdmVyKSBjbGFzc1Jl\nc29sdmVyUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndEJyb2tlckZhY3RvcnkoU3RyaW5nIGZhY3RvcnkpIHsKICAgICAgICBhc3Nl\ncnROb3RSZWFkT25seSgpOwogICAgICAgIGJyb2tlckZhY3RvcnlQbHVnaW4u\nc2V0U3RyaW5nKGZhY3RvcnkpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcg\nZ2V0QnJva2VyRmFjdG9yeSgpIHsKICAgICAgICByZXR1cm4gYnJva2VyRmFj\ndG9yeVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRCcm9rZXJJbXBsKFN0cmluZyBicm9rZXIpIHsKICAgICAgICBhc3Nl\ncnROb3RSZWFkT25seSgpOwogICAgICAgIGJyb2tlclBsdWdpbi5zZXRTdHJp\nbmcoYnJva2VyKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEJyb2tl\nckltcGwoKSB7CiAgICAgICAgcmV0dXJuIGJyb2tlclBsdWdpbi5nZXRTdHJp\nbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgQnJva2VySW1wbCBuZXdCcm9rZXJJ\nbnN0YW5jZShTdHJpbmcgdXNlciwgU3RyaW5nIHBhc3MpIHsKICAgICAgICBC\ncm9rZXJJbXBsIGJyb2tlciA9CiAgICAgICAgICAgIChCcm9rZXJJbXBsKSBi\ncm9rZXJQbHVnaW4uaW5zdGFudGlhdGUoQnJva2VySW1wbC5jbGFzcywgdGhp\ncyk7CiAgICAgICAgaWYgKGJyb2tlciAhPSBudWxsKQogICAgICAgICAgICBi\ncm9rZXIuc2V0QXV0aGVudGljYXRpb24odXNlciwgcGFzcyk7CiAgICAgICAg\ncmV0dXJuIGJyb2tlcjsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREYXRh\nQ2FjaGVNYW5hZ2VyKFN0cmluZyBtZ3IpIHsKICAgICAgICBhc3NlcnROb3RS\nZWFkT25seSgpOwogICAgICAgIGRhdGFDYWNoZU1hbmFnZXJQbHVnaW4uc2V0\nU3RyaW5nKG1ncik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXREYXRh\nQ2FjaGVNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBkYXRhQ2FjaGVNYW5h\nZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldERhdGFDYWNoZU1hbmFnZXIoRGF0YUNhY2hlTWFuYWdlciBkY20pIHsK\nICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGlmIChkY20g\nIT0gbnVsbCkKICAgICAgICAgICAgZGNtLmluaXRpYWxpemUodGhpcywgZGF0\nYUNhY2hlUGx1Z2luLCBxdWVyeUNhY2hlUGx1Z2luKTsKICAgICAgICBkYXRh\nQ2FjaGVNYW5hZ2VyUGx1Z2luLnNldChkY20pOwogICAgfQoKICAgIHB1Ymxp\nYyBEYXRhQ2FjaGVNYW5hZ2VyIGdldERhdGFDYWNoZU1hbmFnZXJJbnN0YW5j\nZSgpIHsKICAgICAgICBEYXRhQ2FjaGVNYW5hZ2VyIGRjbSA9IChEYXRhQ2Fj\naGVNYW5hZ2VyKSBkYXRhQ2FjaGVNYW5hZ2VyUGx1Z2luLmdldCgpOwogICAg\nICAgIGlmIChkY20gPT0gbnVsbCkgewogICAgICAgICAgICBkY20gPQogICAg\nICAgICAgICAgICAgKERhdGFDYWNoZU1hbmFnZXIpIGRhdGFDYWNoZU1hbmFn\nZXJQbHVnaW4uaW5zdGFudGlhdGUoCiAgICAgICAgICAgICAgICAgICAgRGF0\nYUNhY2hlTWFuYWdlci5jbGFzcywgdGhpcyk7CiAgICAgICAgICAgIGRjbS5p\nbml0aWFsaXplKHRoaXMsIGRhdGFDYWNoZVBsdWdpbiwgcXVlcnlDYWNoZVBs\ndWdpbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBkY207CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0RGF0YUNhY2hlKFN0cmluZyBkYXRhQ2FjaGUp\nIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGRhdGFD\nYWNoZVBsdWdpbi5zZXRTdHJpbmcoZGF0YUNhY2hlKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldERhdGFDYWNoZSgpIHsKICAgICAgICByZXR1cm4g\nZGF0YUNhY2hlUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldERhdGFDYWNoZVRpbWVvdXQoaW50IGRhdGFDYWNoZVRpbWVv\ndXQpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRo\naXMuZGF0YUNhY2hlVGltZW91dC5zZXQoZGF0YUNhY2hlVGltZW91dCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0RGF0YUNhY2hlVGltZW91dChJbnRl\nZ2VyIGRhdGFDYWNoZVRpbWVvdXQpIHsKICAgICAgICBpZiAoZGF0YUNhY2hl\nVGltZW91dCAhPSBudWxsKQogICAgICAgICAgICBzZXREYXRhQ2FjaGVUaW1l\nb3V0KGRhdGFDYWNoZVRpbWVvdXQuaW50VmFsdWUoKSk7CiAgICB9CgogICAg\ncHVibGljIGludCBnZXREYXRhQ2FjaGVUaW1lb3V0KCkgewogICAgICAgIHJl\ndHVybiBkYXRhQ2FjaGVUaW1lb3V0LmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFF1ZXJ5Q2FjaGUoU3RyaW5nIHF1ZXJ5Q2FjaGUpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHF1ZXJ5Q2FjaGVQ\nbHVnaW4uc2V0U3RyaW5nKHF1ZXJ5Q2FjaGUpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0UXVlcnlDYWNoZSgpIHsKICAgICAgICByZXR1cm4gcXVl\ncnlDYWNoZVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMg\nYm9vbGVhbiBnZXREeW5hbWljRGF0YVN0cnVjdHMoKSB7CiAgICAgICAgcmV0\ndXJuIGR5bmFtaWNEYXRhU3RydWN0cy5nZXQoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXREeW5hbWljRGF0YVN0cnVjdHMoYm9vbGVhbiBkeW5hbWlj\nKSB7CiAgICAgICAgZHluYW1pY0RhdGFTdHJ1Y3RzLnNldChkeW5hbWljKTsK\nICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXREeW5hbWljRGF0YVN0cnVjdHMo\nQm9vbGVhbiBkeW5hbWljKSB7CiAgICAgICAgc2V0RHluYW1pY0RhdGFTdHJ1\nY3RzKGR5bmFtaWMuYm9vbGVhblZhbHVlKCkpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldExvY2tNYW5hZ2VyKFN0cmluZyBsb2NrTWFuYWdlcikgewog\nICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgbG9ja01hbmFn\nZXJQbHVnaW4uc2V0U3RyaW5nKGxvY2tNYW5hZ2VyKTsKICAgIH0KCiAgICBw\ndWJsaWMgU3RyaW5nIGdldExvY2tNYW5hZ2VyKCkgewogICAgICAgIHJldHVy\nbiBsb2NrTWFuYWdlclBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBw\ndWJsaWMgTG9ja01hbmFnZXIgbmV3TG9ja01hbmFnZXJJbnN0YW5jZSgpIHsK\nICAgICAgICAvLyBkb24ndCB2YWxpZGF0ZSBwbHVnaW4gcHJvcGVydGllcyBv\nbiBpbnN0YW50aWF0aW9uIGJlY2F1c2UgaXQKICAgICAgICAvLyBpcyBsaWtl\nbHkgdGhhdCBiYWNrIGVuZHMgd2lsbCBvdmVycmlkZSBkZWZhdWx0cyB3aXRo\nIHRoZWlyCiAgICAgICAgLy8gb3duIHN1YmNsYXNzZXMgd2l0aCBuZXcgcHJv\ncGVydGllcwogICAgICAgIHJldHVybiAoTG9ja01hbmFnZXIpIGxvY2tNYW5h\nZ2VyUGx1Z2luLmluc3RhbnRpYXRlKExvY2tNYW5hZ2VyLmNsYXNzLAogICAg\nICAgICAgICB0aGlzLCBmYWxzZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0SW52ZXJzZU1hbmFnZXIoU3RyaW5nIGludmVyc2VNYW5hZ2VyKSB7CiAg\nICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBpbnZlcnNlTWFu\nYWdlclBsdWdpbi5zZXRTdHJpbmcoaW52ZXJzZU1hbmFnZXIpOwogICAgfQoK\nICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW52ZXJzZU1hbmFnZXIoKSB7CiAgICAg\nICAgcmV0dXJuIGludmVyc2VNYW5hZ2VyUGx1Z2luLmdldFN0cmluZygpOwog\nICAgfQoKICAgIHB1YmxpYyBJbnZlcnNlTWFuYWdlciBuZXdJbnZlcnNlTWFu\nYWdlckluc3RhbmNlKCkgewogICAgICAgIHJldHVybiAoSW52ZXJzZU1hbmFn\nZXIpIGludmVyc2VNYW5hZ2VyUGx1Z2luLmluc3RhbnRpYXRlKAogICAgICAg\nICAgICBJbnZlcnNlTWFuYWdlci5jbGFzcywgdGhpcyk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0U2F2ZXBvaW50TWFuYWdlcihTdHJpbmcgc2F2ZXBv\naW50TWFuYWdlcikgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAg\nICAgICAgc2F2ZXBvaW50TWFuYWdlclBsdWdpbi5zZXRTdHJpbmcoc2F2ZXBv\naW50TWFuYWdlcik7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRTYXZl\ncG9pbnRNYW5hZ2VyKCkgewogICAgICAgIHJldHVybiBzYXZlcG9pbnRNYW5h\nZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyBTYXZl\ncG9pbnRNYW5hZ2VyIGdldFNhdmVwb2ludE1hbmFnZXJJbnN0YW5jZSgpIHsK\nICAgICAgICBpZiAoc2F2ZXBvaW50TWFuYWdlclBsdWdpbi5nZXQoKSA9PSBu\ndWxsKQogICAgICAgICAgICBzYXZlcG9pbnRNYW5hZ2VyUGx1Z2luLmluc3Rh\nbnRpYXRlKFNhdmVwb2ludE1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAgICAg\nIHJldHVybiAoU2F2ZXBvaW50TWFuYWdlcikgc2F2ZXBvaW50TWFuYWdlclBs\ndWdpbi5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRPcnBoYW5l\nZEtleUFjdGlvbihTdHJpbmcgYWN0aW9uKSB7CiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICBvcnBoYW5lZEtleVBsdWdpbi5zZXRTdHJp\nbmcoYWN0aW9uKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldE9ycGhh\nbmVkS2V5QWN0aW9uKCkgewogICAgICAgIHJldHVybiBvcnBoYW5lZEtleVBs\ndWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgT3JwaGFuZWRL\nZXlBY3Rpb24gZ2V0T3JwaGFuZWRLZXlBY3Rpb25JbnN0YW5jZSgpIHsKICAg\nICAgICBpZiAob3JwaGFuZWRLZXlQbHVnaW4uZ2V0KCkgPT0gbnVsbCkKICAg\nICAgICAgICAgb3JwaGFuZWRLZXlQbHVnaW4uaW5zdGFudGlhdGUoT3JwaGFu\nZWRLZXlBY3Rpb24uY2xhc3MsIHRoaXMpOwogICAgICAgIHJldHVybiAoT3Jw\naGFuZWRLZXlBY3Rpb24pIG9ycGhhbmVkS2V5UGx1Z2luLmdldCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldE9ycGhhbmVkS2V5QWN0aW9uKE9ycGhh\nbmVkS2V5QWN0aW9uIGFjdGlvbikgewogICAgICAgIGFzc2VydE5vdFJlYWRP\nbmx5KCk7CiAgICAgICAgb3JwaGFuZWRLZXlQbHVnaW4uc2V0KGFjdGlvbik7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0UmVtb3RlQ29tbWl0UHJvdmlk\nZXIoU3RyaW5nIHJlbW90ZUNvbW1pdFByb3ZpZGVyKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICByZW1vdGVQcm92aWRlclBsdWdp\nbi5zZXRTdHJpbmcocmVtb3RlQ29tbWl0UHJvdmlkZXIpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0UmVtb3RlQ29tbWl0UHJvdmlkZXIoKSB7CiAg\nICAgICAgcmV0dXJuIHJlbW90ZVByb3ZpZGVyUGx1Z2luLmdldFN0cmluZygp\nOwogICAgfQoKICAgIHB1YmxpYyBSZW1vdGVDb21taXRQcm92aWRlciBuZXdS\nZW1vdGVDb21taXRQcm92aWRlckluc3RhbmNlKCkgewogICAgICAgIHJldHVy\nbiByZW1vdGVQcm92aWRlclBsdWdpbi5pbnN0YW50aWF0ZVByb3ZpZGVyKHRo\naXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlbW90ZUNvbW1pdEV2\nZW50TWFuYWdlcigKICAgICAgICBSZW1vdGVDb21taXRFdmVudE1hbmFnZXIg\ncmVtb3RlRXZlbnRNYW5hZ2VyKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9u\nbHkoKTsKICAgICAgICB0aGlzLnJlbW90ZUV2ZW50TWFuYWdlciA9IHJlbW90\nZUV2ZW50TWFuYWdlcjsKICAgICAgICByZW1vdGVQcm92aWRlclBsdWdpbi5j\nb25maWd1cmVFdmVudE1hbmFnZXIocmVtb3RlRXZlbnRNYW5hZ2VyKTsKICAg\nIH0KCiAgICBwdWJsaWMgUmVtb3RlQ29tbWl0RXZlbnRNYW5hZ2VyIGdldFJl\nbW90ZUNvbW1pdEV2ZW50TWFuYWdlcigpIHsKICAgICAgICBpZiAocmVtb3Rl\nRXZlbnRNYW5hZ2VyID09IG51bGwpIHsKICAgICAgICAgICAgcmVtb3RlRXZl\nbnRNYW5hZ2VyID0gbmV3IFJlbW90ZUNvbW1pdEV2ZW50TWFuYWdlcih0aGlz\nKTsKICAgICAgICAgICAgcmVtb3RlUHJvdmlkZXJQbHVnaW4uY29uZmlndXJl\nRXZlbnRNYW5hZ2VyKHJlbW90ZUV2ZW50TWFuYWdlcik7CiAgICAgICAgfQog\nICAgICAgIHJldHVybiByZW1vdGVFdmVudE1hbmFnZXI7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0VHJhbnNhY3Rpb25Nb2RlKFN0cmluZyB0cmFuc2Fj\ndGlvbk1vZGUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAg\nICAgIHRoaXMudHJhbnNhY3Rpb25Nb2RlLnNldFN0cmluZyh0cmFuc2FjdGlv\nbk1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0VHJhbnNhY3Rp\nb25Nb2RlKCkgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbk1vZGUuZ2V0\nU3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0VHJhbnNhY3Rp\nb25Nb2RlTWFuYWdlZChib29sZWFuIG1hbmFnZWQpIHsKICAgICAgICBhc3Nl\ncnROb3RSZWFkT25seSgpOwogICAgICAgIHRyYW5zYWN0aW9uTW9kZS5zZXQo\nbWFuYWdlZCk7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNUcmFuc2Fj\ndGlvbk1vZGVNYW5hZ2VkKCkgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlv\nbk1vZGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWFuYWdl\nZFJ1bnRpbWUoU3RyaW5nIG1hbmFnZWRSdW50aW1lKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBtYW5hZ2VkUnVudGltZVBsdWdp\nbi5zZXRTdHJpbmcobWFuYWdlZFJ1bnRpbWUpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0TWFuYWdlZFJ1bnRpbWUoKSB7CiAgICAgICAgcmV0dXJu\nIG1hbmFnZWRSdW50aW1lUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoKICAg\nIHB1YmxpYyB2b2lkIHNldE1hbmFnZWRSdW50aW1lKE1hbmFnZWRSdW50aW1l\nIG1hbmFnZWRSdW50aW1lKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHko\nKTsKICAgICAgICBtYW5hZ2VkUnVudGltZVBsdWdpbi5zZXQobWFuYWdlZFJ1\nbnRpbWUpOwogICAgfQoKICAgIHB1YmxpYyBNYW5hZ2VkUnVudGltZSBnZXRN\nYW5hZ2VkUnVudGltZUluc3RhbmNlKCkgewogICAgICAgIGlmIChtYW5hZ2Vk\nUnVudGltZVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBtYW5h\nZ2VkUnVudGltZVBsdWdpbi5pbnN0YW50aWF0ZShNYW5hZ2VkUnVudGltZS5j\nbGFzcywgdGhpcyk7CiAgICAgICAgcmV0dXJuIChNYW5hZ2VkUnVudGltZSkg\nbWFuYWdlZFJ1bnRpbWVQbHVnaW4uZ2V0KCk7CiAgICB9CgogICAgcHVibGlj\nIHZvaWQgc2V0UHJveHlNYW5hZ2VyKFN0cmluZyBwcm94eU1hbmFnZXIpIHsK\nICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHByb3h5TWFu\nYWdlclBsdWdpbi5zZXRTdHJpbmcocHJveHlNYW5hZ2VyKTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nIGdldFByb3h5TWFuYWdlcigpIHsKICAgICAgICBy\nZXR1cm4gcHJveHlNYW5hZ2VyUGx1Z2luLmdldFN0cmluZygpOwogICAgfQoK\nICAgIHB1YmxpYyB2b2lkIHNldFByb3h5TWFuYWdlcihQcm94eU1hbmFnZXIg\ncHJveHlNYW5hZ2VyKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsK\nICAgICAgICBwcm94eU1hbmFnZXJQbHVnaW4uc2V0KHByb3h5TWFuYWdlcik7\nCiAgICB9CgogICAgcHVibGljIFByb3h5TWFuYWdlciBnZXRQcm94eU1hbmFn\nZXJJbnN0YW5jZSgpIHsKICAgICAgICBpZiAocHJveHlNYW5hZ2VyUGx1Z2lu\nLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIHByb3h5TWFuYWdlclBsdWdp\nbi5pbnN0YW50aWF0ZShQcm94eU1hbmFnZXIuY2xhc3MsIHRoaXMpOwogICAg\nICAgIHJldHVybiAoUHJveHlNYW5hZ2VyKSBwcm94eU1hbmFnZXJQbHVnaW4u\nZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWFwcGluZyhTdHJp\nbmcgbWFwcGluZykgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAg\nICAgICAgdGhpcy5tYXBwaW5nLnNldFN0cmluZyhtYXBwaW5nKTsKICAgIH0K\nCiAgICBwdWJsaWMgU3RyaW5nIGdldE1hcHBpbmcoKSB7CiAgICAgICAgcmV0\ndXJuIG1hcHBpbmcuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0TWV0YURhdGFGYWN0b3J5KFN0cmluZyBtZXRhKSB7CiAgICAgICAg\nYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLm1ldGFGYWN0b3J5\nUGx1Z2luLnNldFN0cmluZyhtZXRhKTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldE1ldGFEYXRhRmFjdG9yeSgpIHsKICAgICAgICByZXR1cm4gbWV0\nYUZhY3RvcnlQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGlj\nIE1ldGFEYXRhRmFjdG9yeSBuZXdNZXRhRGF0YUZhY3RvcnlJbnN0YW5jZSgp\nIHsKICAgICAgICByZXR1cm4gKE1ldGFEYXRhRmFjdG9yeSkgbWV0YUZhY3Rv\ncnlQbHVnaW4uaW5zdGFudGlhdGUoCiAgICAgICAgICAgIE1ldGFEYXRhRmFj\ndG9yeS5jbGFzcywgdGhpcyk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nTWV0YURhdGFSZXBvc2l0b3J5KFN0cmluZyBtZXRhKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLm1ldGFSZXBvc2l0b3J5\nUGx1Z2luLnNldFN0cmluZyhtZXRhKTsKICAgIH0KCiAgICBwdWJsaWMgU3Ry\naW5nIGdldE1ldGFEYXRhUmVwb3NpdG9yeSgpIHsKICAgICAgICByZXR1cm4g\nbWV0YVJlcG9zaXRvcnlQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0TWV0YURhdGFSZXBvc2l0b3J5KE1ldGFEYXRhUmVw\nb3NpdG9yeSBtZXRhKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsK\nICAgICAgICBtZXRhUmVwb3NpdG9yeSA9IG1ldGE7CiAgICB9CgogICAgcHVi\nbGljIE1ldGFEYXRhUmVwb3NpdG9yeSBnZXRNZXRhRGF0YVJlcG9zaXRvcnlJ\nbnN0YW5jZSgpIHsKICAgICAgICBpZiAobWV0YVJlcG9zaXRvcnkgPT0gbnVs\nbCkKICAgICAgICAgICAgbWV0YVJlcG9zaXRvcnkgPSBuZXdNZXRhRGF0YVJl\ncG9zaXRvcnlJbnN0YW5jZSgpOwogICAgICAgIHJldHVybiBtZXRhUmVwb3Np\ndG9yeTsKICAgIH0KICAgIAogICAgcHVibGljIGJvb2xlYW4gbWV0YURhdGFS\nZXBvc2l0b3J5QXZhaWxhYmxlKCl7IAogICAgICAgIHJldHVybiBtZXRhUmVw\nb3NpdG9yeSAhPSBudWxsOyAKICAgIH0KCiAgICBwdWJsaWMgTWV0YURhdGFS\nZXBvc2l0b3J5IG5ld01ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCkgewog\nICAgICAgIHJldHVybiAoTWV0YURhdGFSZXBvc2l0b3J5KSBtZXRhUmVwb3Np\ndG9yeVBsdWdpbi5pbnN0YW50aWF0ZSgKICAgICAgICAgICAgTWV0YURhdGFS\nZXBvc2l0b3J5LmNsYXNzLCB0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRDb25uZWN0aW9uVXNlck5hbWUoU3RyaW5nIGNvbm5lY3Rpb25Vc2Vy\nTmFtZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAg\ndGhpcy5jb25uZWN0aW9uVXNlck5hbWUuc2V0U3RyaW5nKGNvbm5lY3Rpb25V\nc2VyTmFtZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0\naW9uVXNlck5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25Vc2Vy\nTmFtZS5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRD\nb25uZWN0aW9uUGFzc3dvcmQoU3RyaW5nIGNvbm5lY3Rpb25QYXNzd29yZCkg\newogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5j\nb25uZWN0aW9uUGFzc3dvcmQuc2V0U3RyaW5nKGNvbm5lY3Rpb25QYXNzd29y\nZCk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uUGFz\nc3dvcmQoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25QYXNzd29yZC5n\nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0\naW9uVVJMKFN0cmluZyBjb25uZWN0aW9uVVJMKSB7CiAgICAgICAgYXNzZXJ0\nTm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25VUkwuc2V0\nU3RyaW5nKGNvbm5lY3Rpb25VUkwpOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0Q29ubmVjdGlvblVSTCgpIHsKICAgICAgICByZXR1cm4gY29ubmVj\ndGlvblVSTC5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRDb25uZWN0aW9uRHJpdmVyTmFtZShTdHJpbmcgZHJpdmVyTmFtZSkgewog\nICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5jb25u\nZWN0aW9uRHJpdmVyTmFtZS5zZXRTdHJpbmcoZHJpdmVyTmFtZSk7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uRHJpdmVyTmFtZSgp\nIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvbkRyaXZlck5hbWUuZ2V0U3Ry\naW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvblBy\nb3BlcnRpZXMoU3RyaW5nIGNvbm5lY3Rpb25Qcm9wZXJ0aWVzKSB7CiAgICAg\nICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmNvbm5lY3Rp\nb25Qcm9wZXJ0aWVzLnNldFN0cmluZyhjb25uZWN0aW9uUHJvcGVydGllcyk7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9uUHJvcGVy\ndGllcygpIHsKICAgICAgICByZXR1cm4gY29ubmVjdGlvblByb3BlcnRpZXMu\nZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVj\ndGlvbkZhY3RvcnlQcm9wZXJ0aWVzKAogICAgICAgIFN0cmluZyBjb25uZWN0\naW9uRmFjdG9yeVByb3BlcnRpZXMpIHsKICAgICAgICBhc3NlcnROb3RSZWFk\nT25seSgpOwogICAgICAgIHRoaXMuY29ubmVjdGlvbkZhY3RvcnlQcm9wZXJ0\naWVzLnNldFN0cmluZyhjb25uZWN0aW9uRmFjdG9yeVByb3BlcnRpZXMpOwog\nICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0Q29ubmVjdGlvbkZhY3RvcnlQ\ncm9wZXJ0aWVzKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9y\neVByb3BlcnRpZXMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRDb25uZWN0aW9uRmFjdG9yeU1vZGUoKSB7CiAgICAgICAgcmV0\ndXJuIGNvbm5lY3Rpb25GYWN0b3J5TW9kZS5nZXRTdHJpbmcoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRmFjdG9yeU1vZGUoU3Ry\naW5nIG1vZGUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAg\nICAgIGNvbm5lY3Rpb25GYWN0b3J5TW9kZS5zZXRTdHJpbmcobW9kZSk7CiAg\nICB9CgogICAgcHVibGljIGJvb2xlYW4gaXNDb25uZWN0aW9uRmFjdG9yeU1v\nZGVNYW5hZ2VkKCkgewogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9y\neU1vZGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29ubmVj\ndGlvbkZhY3RvcnlNb2RlTWFuYWdlZChib29sZWFuIG1hbmFnZWQpIHsKICAg\nICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGNvbm5lY3Rpb25G\nYWN0b3J5TW9kZS5zZXQobWFuYWdlZCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0Q29ubmVjdGlvbkZhY3RvcnlOYW1lKFN0cmluZyBjb25uZWN0aW9u\nRmFjdG9yeU5hbWUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwog\nICAgICAgIHRoaXMuY29ubmVjdGlvbkZhY3RvcnlOYW1lLnNldFN0cmluZyhj\nb25uZWN0aW9uRmFjdG9yeU5hbWUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJp\nbmcgZ2V0Q29ubmVjdGlvbkZhY3RvcnlOYW1lKCkgewogICAgICAgIHJldHVy\nbiBjb25uZWN0aW9uRmFjdG9yeU5hbWUuZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3RvcnkoT2JqZWN0IGZh\nY3RvcnkpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAg\nIGNvbm5lY3Rpb25GYWN0b3J5LnNldChmYWN0b3J5KTsKICAgIH0KCiAgICBw\ndWJsaWMgT2JqZWN0IGdldENvbm5lY3Rpb25GYWN0b3J5KCkgewogICAgICAg\nIGlmIChjb25uZWN0aW9uRmFjdG9yeS5nZXQoKSA9PSBudWxsKQogICAgICAg\nICAgICBjb25uZWN0aW9uRmFjdG9yeS5zZXQoCiAgICAgICAgICAgICAgICBs\nb29rdXBDb25uZWN0aW9uRmFjdG9yeShnZXRDb25uZWN0aW9uRmFjdG9yeU5h\nbWUoKSksIHRydWUpOwogICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9y\neS5nZXQoKTsKICAgIH0KCiAgICAvKioKICAgICAqIExvb2t1cCB0aGUgY29u\nbmVjdGlvbiBmYWN0b3J5IGF0IHRoZSBnaXZlbiBuYW1lLgogICAgICovCiAg\nICBwcml2YXRlIE9iamVjdCBsb29rdXBDb25uZWN0aW9uRmFjdG9yeShTdHJp\nbmcgbmFtZSkgewogICAgICAgIG5hbWUgPSBTdHJpbmdVdGlscy50cmltVG9O\ndWxsKG5hbWUpOwogICAgICAgIGlmIChuYW1lID09IG51bGwpCiAgICAgICAg\nICAgIHJldHVybiBudWxsOwogICAgICAgIHJldHVybiBDb25maWd1cmF0aW9u\ncy5sb29rdXAobmFtZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29u\nbmVjdGlvbjJVc2VyTmFtZShTdHJpbmcgY29ubmVjdGlvbjJVc2VyTmFtZSkg\newogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5j\nb25uZWN0aW9uMlVzZXJOYW1lLnNldFN0cmluZyhjb25uZWN0aW9uMlVzZXJO\nYW1lKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb24y\nVXNlck5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24yVXNlck5h\nbWUuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29u\nbmVjdGlvbjJQYXNzd29yZChTdHJpbmcgY29ubmVjdGlvbjJQYXNzd29yZCkg\newogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5j\nb25uZWN0aW9uMlBhc3N3b3JkLnNldFN0cmluZyhjb25uZWN0aW9uMlBhc3N3\nb3JkKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb24y\nUGFzc3dvcmQoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24yUGFzc3dv\ncmQuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Q29u\nbmVjdGlvbjJVUkwoU3RyaW5nIGNvbm5lY3Rpb24yVVJMKSB7CiAgICAgICAg\nYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmNvbm5lY3Rpb24y\nVVJMLnNldFN0cmluZyhjb25uZWN0aW9uMlVSTCk7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyBnZXRDb25uZWN0aW9uMlVSTCgpIHsKICAgICAgICByZXR1\ncm4gY29ubmVjdGlvbjJVUkwuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVi\nbGljIHZvaWQgc2V0Q29ubmVjdGlvbjJEcml2ZXJOYW1lKFN0cmluZyBkcml2\nZXJOYW1lKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAg\nICB0aGlzLmNvbm5lY3Rpb24yRHJpdmVyTmFtZS5zZXRTdHJpbmcoZHJpdmVy\nTmFtZSk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRDb25uZWN0aW9u\nMkRyaXZlck5hbWUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24yRHJp\ndmVyTmFtZS5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRDb25uZWN0aW9uMlByb3BlcnRpZXMoU3RyaW5nIGNvbm5lY3Rpb24yUHJv\ncGVydGllcykgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAg\nICAgdGhpcy5jb25uZWN0aW9uMlByb3BlcnRpZXMuc2V0U3RyaW5nKGNvbm5l\nY3Rpb24yUHJvcGVydGllcyk7CiAgICB9CgogICAgcHVibGljIFN0cmluZyBn\nZXRDb25uZWN0aW9uMlByb3BlcnRpZXMoKSB7CiAgICAgICAgcmV0dXJuIGNv\nbm5lY3Rpb24yUHJvcGVydGllcy5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRDb25uZWN0aW9uRmFjdG9yeTJQcm9wZXJ0aWVzKAog\nICAgICAgIFN0cmluZyBjb25uZWN0aW9uRmFjdG9yeTJQcm9wZXJ0aWVzKSB7\nCiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmNv\nbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRpZXMKICAgICAgICAgICAgLnNldFN0\ncmluZyhjb25uZWN0aW9uRmFjdG9yeTJQcm9wZXJ0aWVzKTsKICAgIH0KCiAg\nICBwdWJsaWMgU3RyaW5nIGdldENvbm5lY3Rpb25GYWN0b3J5MlByb3BlcnRp\nZXMoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5MlByb3Bl\ncnRpZXMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0\nQ29ubmVjdGlvbkZhY3RvcnkyTmFtZShTdHJpbmcgY29ubmVjdGlvbkZhY3Rv\ncnkyTmFtZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAg\nICAgdGhpcy5jb25uZWN0aW9uRmFjdG9yeTJOYW1lLnNldFN0cmluZyhjb25u\nZWN0aW9uRmFjdG9yeTJOYW1lKTsKICAgIH0KCiAgICBwdWJsaWMgU3RyaW5n\nIGdldENvbm5lY3Rpb25GYWN0b3J5Mk5hbWUoKSB7CiAgICAgICAgcmV0dXJu\nIGNvbm5lY3Rpb25GYWN0b3J5Mk5hbWUuZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0Q29ubmVjdGlvbkZhY3RvcnkyKE9iamVjdCBm\nYWN0b3J5KSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAg\nICBjb25uZWN0aW9uRmFjdG9yeTIuc2V0KGZhY3RvcnkpOwogICAgfQoKICAg\nIHB1YmxpYyBPYmplY3QgZ2V0Q29ubmVjdGlvbkZhY3RvcnkyKCkgewogICAg\nICAgIGlmIChjb25uZWN0aW9uRmFjdG9yeTIuZ2V0KCkgPT0gbnVsbCkKICAg\nICAgICAgICAgY29ubmVjdGlvbkZhY3RvcnkyLnNldCgKICAgICAgICAgICAg\nICAgIGxvb2t1cENvbm5lY3Rpb25GYWN0b3J5KGdldENvbm5lY3Rpb25GYWN0\nb3J5Mk5hbWUoKSksIGZhbHNlKTsKICAgICAgICByZXR1cm4gY29ubmVjdGlv\nbkZhY3RvcnkyLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9w\ndGltaXN0aWMoYm9vbGVhbiBvcHRpbWlzdGljKSB7CiAgICAgICAgYXNzZXJ0\nTm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLm9wdGltaXN0aWMuc2V0KG9w\ndGltaXN0aWMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE9wdGltaXN0\naWMoQm9vbGVhbiBvcHRpbWlzdGljKSB7CiAgICAgICAgaWYgKG9wdGltaXN0\naWMgIT0gbnVsbCkKICAgICAgICAgICAgc2V0T3B0aW1pc3RpYyhvcHRpbWlz\ndGljLmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiBnZXRPcHRpbWlzdGljKCkgewogICAgICAgIHJldHVybiBvcHRpbWlzdGlj\nLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEF1dG9DbGVhcihT\ndHJpbmcgY2xlYXIpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwog\nICAgICAgIGF1dG9DbGVhci5zZXRTdHJpbmcoY2xlYXIpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0QXV0b0NsZWFyKCkgewogICAgICAgIHJldHVy\nbiBhdXRvQ2xlYXIuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0QXV0b0NsZWFyKGludCBjbGVhcikgewogICAgICAgIGFzc2VydE5v\ndFJlYWRPbmx5KCk7CiAgICAgICAgYXV0b0NsZWFyLnNldChjbGVhcik7CiAg\nICB9CgogICAgcHVibGljIGludCBnZXRBdXRvQ2xlYXJDb25zdGFudCgpIHsK\nICAgICAgICByZXR1cm4gYXV0b0NsZWFyLmdldCgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldFJldGFpblN0YXRlKGJvb2xlYW4gcmV0YWluU3RhdGUp\nIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRoaXMu\ncmV0YWluU3RhdGUuc2V0KHJldGFpblN0YXRlKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRSZXRhaW5TdGF0ZShCb29sZWFuIHJldGFpblN0YXRlKSB7\nCiAgICAgICAgaWYgKHJldGFpblN0YXRlICE9IG51bGwpCiAgICAgICAgICAg\nIHNldFJldGFpblN0YXRlKHJldGFpblN0YXRlLmJvb2xlYW5WYWx1ZSgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRSZXRhaW5TdGF0ZSgpIHsK\nICAgICAgICByZXR1cm4gcmV0YWluU3RhdGUuZ2V0KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0UmVzdG9yZVN0YXRlKFN0cmluZyByZXN0b3JlU3Rh\ndGUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRo\naXMucmVzdG9yZVN0YXRlLnNldFN0cmluZyhyZXN0b3JlU3RhdGUpOwogICAg\nfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0UmVzdG9yZVN0YXRlKCkgewogICAg\nICAgIHJldHVybiByZXN0b3JlU3RhdGUuZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0UmVzdG9yZVN0YXRlKGludCByZXN0b3JlU3Rh\ndGUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIHRo\naXMucmVzdG9yZVN0YXRlLnNldChyZXN0b3JlU3RhdGUpOwogICAgfQoKICAg\nIHB1YmxpYyBpbnQgZ2V0UmVzdG9yZVN0YXRlQ29uc3RhbnQoKSB7CiAgICAg\nICAgcmV0dXJuIHJlc3RvcmVTdGF0ZS5nZXQoKTsKICAgIH0KCiAgICBwdWJs\naWMgdm9pZCBzZXRBdXRvRGV0YWNoKFN0cmluZyBhdXRvRGV0YWNoKSB7CiAg\nICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmF1dG9E\nZXRhY2guc2V0U3RyaW5nKGF1dG9EZXRhY2gpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0QXV0b0RldGFjaCgpIHsKICAgICAgICByZXR1cm4gYXV0\nb0RldGFjaC5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRBdXRvRGV0YWNoKGludCBhdXRvRGV0YWNoRmxhZ3MpIHsKICAgICAgICBh\ndXRvRGV0YWNoLnNldENvbnN0YW50KGF1dG9EZXRhY2hGbGFncyk7CiAgICB9\nCgogICAgcHVibGljIGludCBnZXRBdXRvRGV0YWNoQ29uc3RhbnQoKSB7CiAg\nICAgICAgcmV0dXJuIGF1dG9EZXRhY2guZ2V0Q29uc3RhbnQoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBzZXREZXRhY2hTdGF0ZShTdHJpbmcgZGV0YWNo\nU3RhdGUpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAg\nIGRldGFjaFN0YXRlUGx1Z2luLnNldFN0cmluZyhkZXRhY2hTdGF0ZSk7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXREZXRhY2hTdGF0ZSgpIHsKICAg\nICAgICByZXR1cm4gZGV0YWNoU3RhdGVQbHVnaW4uZ2V0U3RyaW5nKCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0RGV0YWNoU3RhdGUoRGV0YWNoT3B0\naW9ucyBkZXRhY2hTdGF0ZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5\nKCk7CiAgICAgICAgZGV0YWNoU3RhdGVQbHVnaW4uc2V0KGRldGFjaFN0YXRl\nKTsKICAgIH0KCiAgICBwdWJsaWMgRGV0YWNoT3B0aW9ucyBnZXREZXRhY2hT\ndGF0ZUluc3RhbmNlKCkgewogICAgICAgIGlmIChkZXRhY2hTdGF0ZVBsdWdp\nbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBkZXRhY2hTdGF0ZVBsdWdp\nbi5pbnN0YW50aWF0ZShEZXRhY2hPcHRpb25zLmNsYXNzLCB0aGlzKTsKICAg\nICAgICByZXR1cm4gKERldGFjaE9wdGlvbnMpIGRldGFjaFN0YXRlUGx1Z2lu\nLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldElnbm9yZUNoYW5n\nZXMoYm9vbGVhbiBpZ25vcmVDaGFuZ2VzKSB7CiAgICAgICAgYXNzZXJ0Tm90\nUmVhZE9ubHkoKTsKICAgICAgICB0aGlzLmlnbm9yZUNoYW5nZXMuc2V0KGln\nbm9yZUNoYW5nZXMpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldElnbm9y\nZUNoYW5nZXMoQm9vbGVhbiBpZ25vcmVDaGFuZ2VzKSB7CiAgICAgICAgaWYg\nKGlnbm9yZUNoYW5nZXMgIT0gbnVsbCkKICAgICAgICAgICAgc2V0SWdub3Jl\nQ2hhbmdlcyhpZ25vcmVDaGFuZ2VzLmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRJZ25vcmVDaGFuZ2VzKCkgewogICAg\nICAgIHJldHVybiBpZ25vcmVDaGFuZ2VzLmdldCgpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldE5vbnRyYW5zYWN0aW9uYWxSZWFkKGJvb2xlYW4gbm9u\ndHJhbnNhY3Rpb25hbFJlYWQpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25s\neSgpOwogICAgICAgIHRoaXMubm9udHJhbnNhY3Rpb25hbFJlYWQuc2V0KG5v\nbnRyYW5zYWN0aW9uYWxSZWFkKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXROb250cmFuc2FjdGlvbmFsUmVhZChCb29sZWFuIG5vbnRyYW5zYWN0aW9u\nYWxSZWFkKSB7CiAgICAgICAgaWYgKG5vbnRyYW5zYWN0aW9uYWxSZWFkICE9\nIG51bGwpCiAgICAgICAgICAgIHNldE5vbnRyYW5zYWN0aW9uYWxSZWFkKG5v\nbnRyYW5zYWN0aW9uYWxSZWFkLmJvb2xlYW5WYWx1ZSgpKTsKICAgIH0KCiAg\nICBwdWJsaWMgYm9vbGVhbiBnZXROb250cmFuc2FjdGlvbmFsUmVhZCgpIHsK\nICAgICAgICByZXR1cm4gbm9udHJhbnNhY3Rpb25hbFJlYWQuZ2V0KCk7CiAg\nICB9CgogICAgcHVibGljIHZvaWQgc2V0Tm9udHJhbnNhY3Rpb25hbFdyaXRl\nKGJvb2xlYW4gbm9udHJhbnNhY3Rpb25hbFdyaXRlKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLm5vbnRyYW5zYWN0aW9u\nYWxXcml0ZS5zZXQobm9udHJhbnNhY3Rpb25hbFdyaXRlKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXROb250cmFuc2FjdGlvbmFsV3JpdGUoQm9vbGVh\nbiBub250cmFuc2FjdGlvbmFsV3JpdGUpIHsKICAgICAgICBpZiAobm9udHJh\nbnNhY3Rpb25hbFdyaXRlICE9IG51bGwpCiAgICAgICAgICAgIHNldE5vbnRy\nYW5zYWN0aW9uYWxXcml0ZShub250cmFuc2FjdGlvbmFsV3JpdGUuYm9vbGVh\nblZhbHVlKCkpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldE5vbnRy\nYW5zYWN0aW9uYWxXcml0ZSgpIHsKICAgICAgICByZXR1cm4gbm9udHJhbnNh\nY3Rpb25hbFdyaXRlLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNl\ndE11bHRpdGhyZWFkZWQoYm9vbGVhbiBtdWx0aXRocmVhZGVkKSB7CiAgICAg\nICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlzLm11bHRpdGhy\nZWFkZWQuc2V0KG11bHRpdGhyZWFkZWQpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldE11bHRpdGhyZWFkZWQoQm9vbGVhbiBtdWx0aXRocmVhZGVkKSB7\nCiAgICAgICAgaWYgKG11bHRpdGhyZWFkZWQgIT0gbnVsbCkKICAgICAgICAg\nICAgc2V0TXVsdGl0aHJlYWRlZChtdWx0aXRocmVhZGVkLmJvb2xlYW5WYWx1\nZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRNdWx0aXRocmVh\nZGVkKCkgewogICAgICAgIHJldHVybiBtdWx0aXRocmVhZGVkLmdldCgpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZldGNoQmF0Y2hTaXplKGludCBm\nZXRjaEJhdGNoU2l6ZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7\nCiAgICAgICAgdGhpcy5mZXRjaEJhdGNoU2l6ZS5zZXQoZmV0Y2hCYXRjaFNp\nemUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZldGNoQmF0Y2hTaXpl\nKEludGVnZXIgZmV0Y2hCYXRjaFNpemUpIHsKICAgICAgICBpZiAoZmV0Y2hC\nYXRjaFNpemUgIT0gbnVsbCkKICAgICAgICAgICAgc2V0RmV0Y2hCYXRjaFNp\nemUoZmV0Y2hCYXRjaFNpemUuaW50VmFsdWUoKSk7CiAgICB9CgogICAgcHVi\nbGljIGludCBnZXRGZXRjaEJhdGNoU2l6ZSgpIHsKICAgICAgICByZXR1cm4g\nZmV0Y2hCYXRjaFNpemUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0TWF4RmV0Y2hEZXB0aChpbnQgbWF4RmV0Y2hEZXB0aCkgewogICAgICAg\nIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgdGhpcy5tYXhGZXRjaERl\ncHRoLnNldChtYXhGZXRjaERlcHRoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9p\nZCBzZXRNYXhGZXRjaERlcHRoKEludGVnZXIgbWF4RmV0Y2hEZXB0aCkgewog\nICAgICAgIGlmIChtYXhGZXRjaERlcHRoICE9IG51bGwpCiAgICAgICAgICAg\nIHNldE1heEZldGNoRGVwdGgobWF4RmV0Y2hEZXB0aC5pbnRWYWx1ZSgpKTsK\nICAgIH0KCiAgICBwdWJsaWMgaW50IGdldE1heEZldGNoRGVwdGgoKSB7CiAg\nICAgICAgcmV0dXJuIG1heEZldGNoRGVwdGguZ2V0KCk7CiAgICB9CgogICAg\ncHVibGljIHZvaWQgc2V0RmV0Y2hHcm91cHMoU3RyaW5nIGZldGNoR3JvdXBz\nKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB0aGlz\nLmZldGNoR3JvdXBzLnNldFN0cmluZyhmZXRjaEdyb3Vwcyk7CiAgICB9Cgog\nICAgcHVibGljIFN0cmluZyBnZXRGZXRjaEdyb3VwcygpIHsKICAgICAgICBy\nZXR1cm4gZmV0Y2hHcm91cHMuZ2V0U3RyaW5nKCk7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZ1tdIGdldEZldGNoR3JvdXBzTGlzdCgpIHsKICAgICAgICBy\nZXR1cm4gZmV0Y2hHcm91cHMuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0RmV0Y2hHcm91cHMoU3RyaW5nW10gZmV0Y2hHcm91cHMpIHsKICAg\nICAgICB0aGlzLmZldGNoR3JvdXBzLnNldChmZXRjaEdyb3Vwcyk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgc2V0Rmx1c2hCZWZvcmVRdWVyaWVzKFN0cmlu\nZyBmbHVzaCkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAg\nICAgZmx1c2hCZWZvcmVRdWVyaWVzLnNldFN0cmluZyhmbHVzaCk7CiAgICB9\nCgogICAgcHVibGljIFN0cmluZyBnZXRGbHVzaEJlZm9yZVF1ZXJpZXMoKSB7\nCiAgICAgICAgcmV0dXJuIGZsdXNoQmVmb3JlUXVlcmllcy5nZXRTdHJpbmco\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRGbHVzaEJlZm9yZVF1ZXJp\nZXMoaW50IGZsdXNoKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsK\nICAgICAgICBmbHVzaEJlZm9yZVF1ZXJpZXMuc2V0KGZsdXNoKTsKICAgIH0K\nCiAgICBwdWJsaWMgaW50IGdldEZsdXNoQmVmb3JlUXVlcmllc0NvbnN0YW50\nKCkgewogICAgICAgIHJldHVybiBmbHVzaEJlZm9yZVF1ZXJpZXMuZ2V0KCk7\nCiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TG9ja1RpbWVvdXQoaW50IHRp\nbWVvdXQpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAg\nIGxvY2tUaW1lb3V0LnNldCh0aW1lb3V0KTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZXRMb2NrVGltZW91dChJbnRlZ2VyIHRpbWVvdXQpIHsKICAgICAg\nICBpZiAodGltZW91dCAhPSBudWxsKQogICAgICAgICAgICBzZXRMb2NrVGlt\nZW91dCh0aW1lb3V0LmludFZhbHVlKCkpOwogICAgfQoKICAgIHB1YmxpYyBp\nbnQgZ2V0TG9ja1RpbWVvdXQoKSB7CiAgICAgICAgcmV0dXJuIGxvY2tUaW1l\nb3V0LmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlYWRMb2Nr\nTGV2ZWwoU3RyaW5nIGxldmVsKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9u\nbHkoKTsKICAgICAgICByZWFkTG9ja0xldmVsLnNldFN0cmluZyhsZXZlbCk7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRSZWFkTG9ja0xldmVsKCkg\newogICAgICAgIHJldHVybiByZWFkTG9ja0xldmVsLmdldFN0cmluZygpOwog\nICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFJlYWRMb2NrTGV2ZWwoaW50IGxl\ndmVsKSB7CiAgICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBy\nZWFkTG9ja0xldmVsLnNldChsZXZlbCk7CiAgICB9CgogICAgcHVibGljIGlu\ndCBnZXRSZWFkTG9ja0xldmVsQ29uc3RhbnQoKSB7CiAgICAgICAgcmV0dXJu\nIHJlYWRMb2NrTGV2ZWwuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZvaWQg\nc2V0V3JpdGVMb2NrTGV2ZWwoU3RyaW5nIGxldmVsKSB7CiAgICAgICAgYXNz\nZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICB3cml0ZUxvY2tMZXZlbC5zZXRT\ndHJpbmcobGV2ZWwpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0V3Jp\ndGVMb2NrTGV2ZWwoKSB7CiAgICAgICAgcmV0dXJuIHdyaXRlTG9ja0xldmVs\nLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFdyaXRl\nTG9ja0xldmVsKGludCBsZXZlbCkgewogICAgICAgIGFzc2VydE5vdFJlYWRP\nbmx5KCk7CiAgICAgICAgd3JpdGVMb2NrTGV2ZWwuc2V0KGxldmVsKTsKICAg\nIH0KCiAgICBwdWJsaWMgaW50IGdldFdyaXRlTG9ja0xldmVsQ29uc3RhbnQo\nKSB7CiAgICAgICAgcmV0dXJuIHdyaXRlTG9ja0xldmVsLmdldCgpOwogICAg\nfQoKICAgIHB1YmxpYyB2b2lkIHNldFNlcXVlbmNlKFN0cmluZyBzZXF1ZW5j\nZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgc2Vx\nUGx1Z2luLnNldFN0cmluZyhzZXF1ZW5jZSk7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyBnZXRTZXF1ZW5jZSgpIHsKICAgICAgICByZXR1cm4gc2VxUGx1\nZ2luLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldFNl\ncXVlbmNlKFNlcSBzZXEpIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgp\nOwogICAgICAgIHNlcVBsdWdpbi5zZXQoc2VxKTsKICAgIH0KCiAgICBwdWJs\naWMgU2VxIGdldFNlcXVlbmNlSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKHNl\ncVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBzZXFQbHVnaW4u\naW5zdGFudGlhdGUoU2VxLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4g\nKFNlcSkgc2VxUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldENvbm5lY3Rpb25SZXRhaW5Nb2RlKFN0cmluZyBjb25uZWN0aW9uUmV0\nYWluTW9kZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAg\nICAgdGhpcy5jb25uZWN0aW9uUmV0YWluTW9kZS5zZXRTdHJpbmcoY29ubmVj\ndGlvblJldGFpbk1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nQ29ubmVjdGlvblJldGFpbk1vZGUoKSB7CiAgICAgICAgcmV0dXJuIGNvbm5l\nY3Rpb25SZXRhaW5Nb2RlLmdldFN0cmluZygpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldENvbm5lY3Rpb25SZXRhaW5Nb2RlKGludCBjb25uZWN0aW9u\nUmV0YWluTW9kZSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAg\nICAgICAgdGhpcy5jb25uZWN0aW9uUmV0YWluTW9kZS5zZXQoY29ubmVjdGlv\nblJldGFpbk1vZGUpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0Q29ubmVj\ndGlvblJldGFpbk1vZGVDb25zdGFudCgpIHsKICAgICAgICByZXR1cm4gY29u\nbmVjdGlvblJldGFpbk1vZGUuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0RmlsdGVyTGlzdGVuZXJzKFN0cmluZyBmaWx0ZXJMaXN0ZW5lcnMp\nIHsKICAgICAgICBhc3NlcnROb3RSZWFkT25seSgpOwogICAgICAgIGZpbHRl\nckxpc3RlbmVyUGx1Z2lucy5zZXRTdHJpbmcoZmlsdGVyTGlzdGVuZXJzKTsK\nICAgIH0KCiAgICBwdWJsaWMgU3RyaW5nIGdldEZpbHRlckxpc3RlbmVycygp\nIHsKICAgICAgICByZXR1cm4gZmlsdGVyTGlzdGVuZXJQbHVnaW5zLmdldFN0\ncmluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEZpbHRlckxpc3Rl\nbmVycyhGaWx0ZXJMaXN0ZW5lcltdIGxpc3RlbmVycykgewogICAgICAgIGFz\nc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgZmlsdGVyTGlzdGVuZXJQbHVn\naW5zLnNldChsaXN0ZW5lcnMpOwogICAgfQoKICAgIHB1YmxpYyBGaWx0ZXJM\naXN0ZW5lcltdIGdldEZpbHRlckxpc3RlbmVySW5zdGFuY2VzKCkgewogICAg\nICAgIGlmIChmaWx0ZXJMaXN0ZW5lclBsdWdpbnMuZ2V0KCkgPT0gbnVsbCkK\nICAgICAgICAgICAgZmlsdGVyTGlzdGVuZXJQbHVnaW5zLmluc3RhbnRpYXRl\nKEZpbHRlckxpc3RlbmVyLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4g\nKEZpbHRlckxpc3RlbmVyW10pIGZpbHRlckxpc3RlbmVyUGx1Z2lucy5nZXQo\nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBzZXRBZ2dyZWdhdGVMaXN0ZW5l\ncnMoU3RyaW5nIGFnZ3JlZ2F0ZUxpc3RlbmVycykgewogICAgICAgIGFzc2Vy\ndE5vdFJlYWRPbmx5KCk7CiAgICAgICAgYWdncmVnYXRlTGlzdGVuZXJQbHVn\naW5zLnNldFN0cmluZyhhZ2dyZWdhdGVMaXN0ZW5lcnMpOwogICAgfQoKICAg\nIHB1YmxpYyBTdHJpbmcgZ2V0QWdncmVnYXRlTGlzdGVuZXJzKCkgewogICAg\nICAgIHJldHVybiBhZ2dyZWdhdGVMaXN0ZW5lclBsdWdpbnMuZ2V0U3RyaW5n\nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0QWdncmVnYXRlTGlzdGVu\nZXJzKEFnZ3JlZ2F0ZUxpc3RlbmVyW10gbGlzdGVuZXJzKSB7CiAgICAgICAg\nYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBhZ2dyZWdhdGVMaXN0ZW5l\nclBsdWdpbnMuc2V0KGxpc3RlbmVycyk7CiAgICB9CgogICAgcHVibGljIEFn\nZ3JlZ2F0ZUxpc3RlbmVyW10gZ2V0QWdncmVnYXRlTGlzdGVuZXJJbnN0YW5j\nZXMoKSB7CiAgICAgICAgaWYgKGFnZ3JlZ2F0ZUxpc3RlbmVyUGx1Z2lucy5n\nZXQoKSA9PSBudWxsKQogICAgICAgICAgICBhZ2dyZWdhdGVMaXN0ZW5lclBs\ndWdpbnMuaW5zdGFudGlhdGUoQWdncmVnYXRlTGlzdGVuZXIuY2xhc3MsIHRo\naXMpOwogICAgICAgIHJldHVybiAoQWdncmVnYXRlTGlzdGVuZXJbXSkgYWdn\ncmVnYXRlTGlzdGVuZXJQbHVnaW5zLmdldCgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFJldHJ5Q2xhc3NSZWdpc3RyYXRpb24oYm9vbGVhbiByZXRy\neSkgewogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgcmV0\ncnlDbGFzc1JlZ2lzdHJhdGlvbi5zZXQocmV0cnkpOwogICAgfQoKICAgIHB1\nYmxpYyB2b2lkIHNldFJldHJ5Q2xhc3NSZWdpc3RyYXRpb24oQm9vbGVhbiBy\nZXRyeSkgewogICAgICAgIGlmIChyZXRyeSAhPSBudWxsKQogICAgICAgICAg\nICBzZXRSZXRyeUNsYXNzUmVnaXN0cmF0aW9uKHJldHJ5LmJvb2xlYW5WYWx1\nZSgpKTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBnZXRSZXRyeUNsYXNz\nUmVnaXN0cmF0aW9uKCkgewogICAgICAgIHJldHVybiByZXRyeUNsYXNzUmVn\naXN0cmF0aW9uLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nQ29tcGF0aWJpbGl0eSgpIHsKICAgICAgICByZXR1cm4gY29tcGF0aWJpbGl0\neVBsdWdpbi5nZXRTdHJpbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBz\nZXRDb21wYXRpYmlsaXR5KFN0cmluZyBjb21wYXRpYmlsaXR5KSB7CiAgICAg\nICAgY29tcGF0aWJpbGl0eVBsdWdpbi5zZXRTdHJpbmcoY29tcGF0aWJpbGl0\neSk7CiAgICB9CgogICAgcHVibGljIENvbXBhdGliaWxpdHkgZ2V0Q29tcGF0\naWJpbGl0eUluc3RhbmNlKCkgewogICAgICAgIGlmIChjb21wYXRpYmlsaXR5\nUGx1Z2luLmdldCgpID09IG51bGwpCiAgICAgICAgICAgIGNvbXBhdGliaWxp\ndHlQbHVnaW4uaW5zdGFudGlhdGUoQ29tcGF0aWJpbGl0eS5jbGFzcywgdGhp\ncyk7CiAgICAgICAgcmV0dXJuIChDb21wYXRpYmlsaXR5KSBjb21wYXRpYmls\naXR5UGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0\nUXVlcnlDb21waWxhdGlvbkNhY2hlKCkgewogICAgICAgIHJldHVybiBxdWVy\neUNvbXBpbGF0aW9uQ2FjaGVQbHVnaW4uZ2V0U3RyaW5nKCk7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgc2V0UXVlcnlDb21waWxhdGlvbkNhY2hlKFN0cmlu\nZyBxdWVyeUNvbXBpbGF0aW9uQ2FjaGUpIHsKICAgICAgICBxdWVyeUNvbXBp\nbGF0aW9uQ2FjaGVQbHVnaW4uc2V0U3RyaW5nKHF1ZXJ5Q29tcGlsYXRpb25D\nYWNoZSk7CiAgICB9CiAgICAKICAgIHB1YmxpYyBNYXAgZ2V0UXVlcnlDb21w\naWxhdGlvbkNhY2hlSW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKHF1ZXJ5Q29t\ncGlsYXRpb25DYWNoZVBsdWdpbi5nZXQoKSA9PSBudWxsKQogICAgICAgICAg\nICBxdWVyeUNvbXBpbGF0aW9uQ2FjaGVQbHVnaW4uaW5zdGFudGlhdGUoTWFw\nLmNsYXNzLCB0aGlzKTsKICAgICAgICByZXR1cm4gKE1hcCkgcXVlcnlDb21w\naWxhdGlvbkNhY2hlUGx1Z2luLmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBT\ndG9yZUZhY2FkZVR5cGVSZWdpc3RyeSBnZXRTdG9yZUZhY2FkZVR5cGVSZWdp\nc3RyeSgpIHsKICAgICAgICByZXR1cm4gX3N0b3JlRmFjYWRlUmVnaXN0cnk7\nCiAgICB9CgogICAgcHVibGljIEJyb2tlckZhY3RvcnlFdmVudE1hbmFnZXIg\nZ2V0QnJva2VyRmFjdG9yeUV2ZW50TWFuYWdlcigpIHsKICAgICAgICByZXR1\ncm4gX2Jyb2tlckZhY3RvcnlFdmVudE1hbmFnZXI7CiAgICB9CgogICAgcHVi\nbGljIFN0cmluZyBnZXRSdW50aW1lVW5lbmhhbmNlZENsYXNzZXMoKSB7CiAg\nICAgICAgcmV0dXJuIHJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3Nlcy5nZXRTdHJp\nbmcoKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFJ1bnRpbWVVbmVuaGFu\nY2VkQ2xhc3Nlc0NvbnN0YW50KCkgewogICAgICAgIHJldHVybiBydW50aW1l\nVW5lbmhhbmNlZENsYXNzZXMuZ2V0KCk7CiAgICB9CgogICAgcHVibGljIHZv\naWQgc2V0UnVudGltZVVuZW5oYW5jZWRDbGFzc2VzKGludCBtb2RlKSB7CiAg\nICAgICAgYXNzZXJ0Tm90UmVhZE9ubHkoKTsKICAgICAgICBydW50aW1lVW5l\nbmhhbmNlZENsYXNzZXMuc2V0KG1vZGUpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFJ1bnRpbWVVbmVuaGFuY2VkQ2xhc3NlcyhTdHJpbmcgbW9kZSkg\newogICAgICAgIGFzc2VydE5vdFJlYWRPbmx5KCk7CiAgICAgICAgcnVudGlt\nZVVuZW5oYW5jZWRDbGFzc2VzLnNldFN0cmluZyhtb2RlKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBpbnN0YW50aWF0ZUFsbCgpIHsKICAgICAgICBzdXBl\nci5pbnN0YW50aWF0ZUFsbCgpOwogICAgICAgIGdldE1ldGFEYXRhUmVwb3Np\ndG9yeUluc3RhbmNlKCk7CiAgICAgICAgZ2V0UmVtb3RlQ29tbWl0RXZlbnRN\nYW5hZ2VyKCk7CiAgICB9CgogICAgcHJvdGVjdGVkIHZvaWQgcHJlQ2xvc2Uo\nKSB7CiAgICAgICAgSW1wbEhlbHBlci5jbG9zZShtZXRhUmVwb3NpdG9yeSk7\nCiAgICAgICAgSW1wbEhlbHBlci5jbG9zZShyZW1vdGVFdmVudE1hbmFnZXIp\nOwogICAgICAgIHN1cGVyLnByZUNsb3NlKCk7CiAgICB9CgogICAgcHVibGlj\nIExvZyBnZXRDb25maWd1cmF0aW9uTG9nKCkgewogICAgICAgIHJldHVybiBn\nZXRMb2coTE9HX1JVTlRJTUUpOwogICAgfQogICAgCiAgICBwdWJsaWMgVmFs\ndWVbXSBnZXREeW5hbWljVmFsdWVzKCkgewogICAgCXJldHVybiBuZXcgVmFs\ndWVbXSB7IGRhdGFDYWNoZVRpbWVvdXQsIGZldGNoQmF0Y2hTaXplLCBsb2Nr\nVGltZW91dCB9OwogICAgfQp9Cg==\n","encoding":"base64"}

