{"sha":"38b194abafa63ae95d18710a6aec01f4c2fb7f51","node_id":"MDQ6QmxvYjIwNjM2NDozOGIxOTRhYmFmYTYzYWU5NWQxODcxMGE2YWVjMDFmNGMyZmI3ZjUx","size":8433,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/38b194abafa63ae95d18710a6aec01f4c2fb7f51","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZGF0YWNhY2hlOwoKaW1wb3J0\nIGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEu\ndGV4dC5EYXRlRm9ybWF0OwppbXBvcnQgamF2YS50ZXh0LlNpbXBsZURhdGVG\nb3JtYXQ7CmltcG9ydCBqYXZhLnV0aWwuQ2FsZW5kYXI7CmltcG9ydCBqYXZh\nLnV0aWwuRGF0ZTsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0\nIGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwuU3RyaW5nVG9rZW5p\nemVyOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5jb25mLk9wZW5KUEFD\nb25maWd1cmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi5s\nb2cuTG9nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51dGlsLkoy\nRG9Qcml2SGVscGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi51\ndGlsLkxvY2FsaXplcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\ndXRpbC5jb25jdXJyZW50LkNvbmN1cnJlbnRIYXNoTWFwOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnV0aWwuSW52YWxpZFN0YXRlRXhjZXB0aW9uOwpp\nbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuVXNlckV4Y2VwdGlvbjsK\naW1wb3J0IHNlcnAudXRpbC5TdHJpbmdzOwoKLyoqCiAqIENyb24tc3R5bGUg\nY2FjaGUgZXZpY3Rpb24uIFVuZGVyc3RhbmRzIHNjaGVkdWxlcyBiYXNlZCBv\nbiBjcm9uIGZvcm1hdDoKICogPGNvZGU+bWludXRlIGhvdXIgbWRheSBtb250\naCB3ZGF5PC9jb2RlPgogKiBGb3IgZXhhbXBsZToKICogPGNvZGU+MTUsMzAg\nNiwxOSAyLDEwIDEgMiA8L2NvZGU+CiAqIFdvdWxkIHJ1biBhdCAxNSBhbmQg\nMzAgcGFzdCB0aGUgNkFNIGFuZCA3UE0sIG9uIHRoZSAybmQgYW5kIDEwdGgK\nICogb2YgSmFudWFyeSB3aGVuIGl0cyBhIE1vbmRheS4KICoKICogQGF1dGhv\nciBTdGV2ZSBLaW0KICovCnB1YmxpYyBjbGFzcyBEYXRhQ2FjaGVTY2hlZHVs\nZXIKICAgIGltcGxlbWVudHMgUnVubmFibGUgewoKICAgIHByaXZhdGUgc3Rh\ndGljIGZpbmFsIExvY2FsaXplciBfbG9jID0gTG9jYWxpemVyLmZvclBhY2th\nZ2UKICAgICAgICAoRGF0YUNhY2hlU2NoZWR1bGVyLmNsYXNzKTsKCiAgICBw\ncml2YXRlIE1hcCBfY2FjaGVzID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwKCk7\nCiAgICBwcml2YXRlIGJvb2xlYW4gX3N0b3AgPSBmYWxzZTsKICAgIHByaXZh\ndGUgaW50IF9pbnRlcnZhbCA9IDI7CiAgICBwcml2YXRlIExvZyBfbG9nOwog\nICAgcHJpdmF0ZSBUaHJlYWQgX3RocmVhZDsKCiAgICBwdWJsaWMgRGF0YUNh\nY2hlU2NoZWR1bGVyKE9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYpIHsKICAg\nICAgICBfbG9nID0gY29uZi5nZXRMb2dGYWN0b3J5KCkuZ2V0TG9nKE9wZW5K\nUEFDb25maWd1cmF0aW9uLkxPR19EQVRBQ0FDSEUpOwogICAgfQoKICAgIC8q\nKgogICAgICogVGhlIGludGVydmFsIHRpbWUgaW4gbWludXRlcyBiZXR3ZWVu\nIGNhY2hlIGNoZWNrcy4gRGVmYXVsdHMgdG8gMi4KICAgICAqLwogICAgcHVi\nbGljIGludCBnZXRJbnRlcnZhbCgpIHsKICAgICAgICByZXR1cm4gX2ludGVy\ndmFsOwogICAgfQoKICAgIC8qKgogICAgICogVGhlIGludGVydmFsIHRpbWUg\naW4gbWludXRlcyBiZXR3ZWVuIGNhY2hlIGNoZWNrcy4gRGVmYXVsdHMgdG8g\nMi4KICAgICAqLwogICAgcHVibGljIHZvaWQgc2V0SW50ZXJ2YWwoaW50IGlu\ndGVydmFsKSB7CiAgICAgICAgX2ludGVydmFsID0gaW50ZXJ2YWw7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBTdG9wIHRoZSBhc3NvY2lhdGVkIHRocmVhZCBp\nZiB0aGVyZSBhbmQgc3RvcCB0aGUgY3VycmVudCBydW5uYWJsZS4KICAgICAq\nLwogICAgcHVibGljIHN5bmNocm9uaXplZCB2b2lkIHN0b3AoKSB7CiAgICAg\nICAgX3N0b3AgPSB0cnVlOwogICAgfQoKICAgIHByaXZhdGUgYm9vbGVhbiBp\nc1N0b3BwZWQoKSB7CiAgICAgICAgcmV0dXJuIF9zdG9wOwogICAgfQoKICAg\nIC8qKgogICAgICogU2NoZWR1bGUgdGhlIGdpdmVuIGNhY2hlIGZvciBldmlj\ndGlvbi4gU3RhcnRzIHRoZSBzY2hlZHVsaW5nIHRocmVhZAogICAgICogaWYg\nbm90IHN0YXJ0ZWQuCiAgICAgKi8KICAgIHB1YmxpYyBzeW5jaHJvbml6ZWQg\ndm9pZCBzY2hlZHVsZUV2aWN0aW9uKERhdGFDYWNoZSBjYWNoZSwgU3RyaW5n\nIHRpbWVzKSB7CiAgICAgICAgaWYgKHRpbWVzID09IG51bGwpCiAgICAgICAg\nICAgIHJldHVybjsKCiAgICAgICAgU2NoZWR1bGUgc2NoZWR1bGUgPSBuZXcg\nU2NoZWR1bGUodGltZXMpOwogICAgICAgIF9jYWNoZXMucHV0KGNhY2hlLCBz\nY2hlZHVsZSk7CiAgICAgICAgX3N0b3AgPSBmYWxzZTsKICAgICAgICBpZiAo\nX3RocmVhZCA9PSBudWxsKSB7CiAgICAgICAgICAgIF90aHJlYWQgPSAoVGhy\nZWFkKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZChKMkRvUHJpdkhl\nbHBlcgogICAgICAgICAgICAgICAgLm5ld0RhZW1vblRocmVhZEFjdGlvbih0\naGlzLCBfbG9jLmdldCgic2NoZWR1bGVyLW5hbWUiKQogICAgICAgICAgICAg\nICAgICAgIC5nZXRNZXNzYWdlKCkpKTsKICAgICAgICAgICAgX3RocmVhZC5z\ndGFydCgpOwogICAgICAgICAgICBpZiAoX2xvZy5pc1RyYWNlRW5hYmxlZCgp\nKQogICAgICAgICAgICAgICAgX2xvZy50cmFjZShfbG9jLmdldCgic2NoZWR1\nbGVyLXN0YXJ0IiwgX3RocmVhZC5nZXROYW1lKCkpKTsKICAgICAgICB9CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZW1vdmUgdGhlIGdpdmVuIGNhY2hlIGZy\nb20gc2NoZWR1bGluZy4KICAgICAqLwogICAgcHVibGljIHN5bmNocm9uaXpl\nZCB2b2lkIHJlbW92ZUZyb21TY2hlZHVsZShEYXRhQ2FjaGUgY2FjaGUpIHsK\nICAgICAgICBfY2FjaGVzLnJlbW92ZShjYWNoZSk7CiAgICAgICAgaWYgKF9j\nYWNoZXMuc2l6ZSgpID09IDApCiAgICAgICAgICAgIHN0b3AoKTsKICAgIH0K\nCiAgICBwdWJsaWMgdm9pZCBydW4oKSB7CiAgICAgICAgaWYgKF9sb2cuaXNU\ncmFjZUVuYWJsZWQoKSkKICAgICAgICAgICAgX2xvZy50cmFjZShfbG9jLmdl\ndCgic2NoZWR1bGVyLWludGVydmFsIiwgX2ludGVydmFsICsgIiIpKTsKCiAg\nICAgICAgRGF0ZSBsYXN0UnVuID0gbmV3IERhdGUoKTsKICAgICAgICBEYXRl\nRm9ybWF0IGZvbSA9IG5ldyBTaW1wbGVEYXRlRm9ybWF0KCJFIEhIOm1tOnNz\nIik7CiAgICAgICAgd2hpbGUgKCFpc1N0b3BwZWQoKSkgewogICAgICAgICAg\nICB0cnkgewogICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKF9pbnRlcnZh\nbCAqIDYwICogMTAwMCk7CgogICAgICAgICAgICAgICAgRGF0ZSBub3cgPSBu\nZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgRGF0YUNhY2hlIGNhY2hlOwog\nICAgICAgICAgICAgICAgU2NoZWR1bGUgc2NoZWR1bGU7CiAgICAgICAgICAg\nICAgICBNYXAuRW50cnkgZW50cnk7CiAgICAgICAgICAgICAgICBmb3IgKEl0\nZXJhdG9yIGkgPSBfY2FjaGVzLmVudHJ5U2V0KCkuaXRlcmF0b3IoKTsgaS5o\nYXNOZXh0KCk7KSB7CiAgICAgICAgICAgICAgICAgICAgZW50cnkgPSAoTWFw\nLkVudHJ5KSBpLm5leHQoKTsKICAgICAgICAgICAgICAgICAgICBjYWNoZSA9\nIChEYXRhQ2FjaGUpIGVudHJ5LmdldEtleSgpOwogICAgICAgICAgICAgICAg\nICAgIHNjaGVkdWxlID0gKFNjaGVkdWxlKSBlbnRyeS5nZXRWYWx1ZSgpOwog\nICAgICAgICAgICAgICAgICAgIGlmIChzY2hlZHVsZS5tYXRjaGVzKGxhc3RS\ndW4sIG5vdykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9sb2cu\naXNUcmFjZUVuYWJsZWQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIF9sb2cudHJhY2UoX2xvYy5nZXQoInNjaGVkdWxlci1jbGVhciIsCiAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGUuZ2V0TmFtZSgpLCBm\nb20uZm9ybWF0KG5vdykpKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXZp\nY3QoY2FjaGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nICAgIH0KICAgICAgICAgICAgICAgIGxhc3RSdW4gPSBub3c7CiAgICAgICAg\nICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICB0\naHJvdyBuZXcgSW52YWxpZFN0YXRlRXhjZXB0aW9uKF9sb2MuZ2V0KCJzY2hl\nZHVsZXItZmFpbCIpLCBlKS4KICAgICAgICAgICAgICAgICAgICBzZXRGYXRh\nbCh0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgX2xv\nZy5pbmZvKF9sb2MuZ2V0KCJzY2hlZHVsZXItc3RvcCIpKTsKICAgICAgICBz\neW5jaHJvbml6ZWQgKHRoaXMpIHsKICAgICAgICAgICAgaWYgKGlzU3RvcHBl\nZCgpKQogICAgICAgICAgICAgICAgX3RocmVhZCA9IG51bGw7IC8vIGJlIHN1\ncmUgdG8gZGVyZWYgdGhlIHRocmVhZCBzbyBpdCBjYW4gcmVzdGFydAogICAg\nICAgIH0KICAgIH0KCiAgICBwcm90ZWN0ZWQgdm9pZCBldmljdChEYXRhQ2Fj\naGUgY2FjaGUpIHsKICAgICAgICBjYWNoZS5jbGVhcigpOwogICAgfQoKICAg\nIC8qKgogICAgICogU2ltcGxlIGNsYXNzIHdoaWNoIHJlcHJlc2VudHMgdGhl\nIGdpdmVuIHRpbWUgc2NoZWR1bGUuCiAgICAgKi8KICAgIHByaXZhdGUgc3Rh\ndGljIGNsYXNzIFNjaGVkdWxlIHsKCiAgICAgICAgc3RhdGljIGZpbmFsIGlu\ndFtdIFdJTERDQVJEID0gbmV3IGludFswXTsKICAgICAgICBzdGF0aWMgZmlu\nYWwgaW50W10gVU5JVFMgPSB7CiAgICAgICAgICAgIENhbGVuZGFyLk1PTlRI\nLAogICAgICAgICAgICBDYWxlbmRhci5EQVlfT0ZfTU9OVEgsCiAgICAgICAg\nICAgIENhbGVuZGFyLkRBWV9PRl9XRUVLLAogICAgICAgICAgICBDYWxlbmRh\nci5IT1VSX09GX0RBWSwKICAgICAgICAgICAgQ2FsZW5kYXIuTUlOVVRFCiAg\nICAgICAgfTsKICAgICAgICBmaW5hbCBpbnRbXSBtb250aDsKICAgICAgICBm\naW5hbCBpbnRbXSBkYXlPZk1vbnRoOwogICAgICAgIGZpbmFsIGludFtdIGRh\neU9mV2VlazsKICAgICAgICBmaW5hbCBpbnRbXSBob3VyOwogICAgICAgIGZp\nbmFsIGludFtdIG1pbjsKCiAgICAgICAgcHVibGljIFNjaGVkdWxlKFN0cmlu\nZyBkYXRlKSB7CiAgICAgICAgICAgIFN0cmluZ1Rva2VuaXplciB0b2tlbiA9\nIG5ldyBTdHJpbmdUb2tlbml6ZXIoZGF0ZSwgIiBcdCIpOwogICAgICAgICAg\nICBpZiAodG9rZW4uY291bnRUb2tlbnMoKSAhPSA1KQogICAgICAgICAgICAg\nICAgdGhyb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoImJhZC1jb3Vu\ndCIsIGRhdGUpKS4KICAgICAgICAgICAgICAgICAgICBzZXRGYXRhbCh0cnVl\nKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIG1pbiA9IHBh\ncnNlKHRva2VuLm5leHRUb2tlbigpLCAwLCA2MCk7CiAgICAgICAgICAgICAg\nICBob3VyID0gcGFyc2UodG9rZW4ubmV4dFRva2VuKCksIDAsIDI0KTsKICAg\nICAgICAgICAgICAgIGRheU9mTW9udGggPSBwYXJzZSh0b2tlbi5uZXh0VG9r\nZW4oKSwgMSwgMzEpOwogICAgICAgICAgICAgICAgbW9udGggPSBwYXJzZSh0\nb2tlbi5uZXh0VG9rZW4oKSwgMSwgMTMpOwogICAgICAgICAgICAgICAgZGF5\nT2ZXZWVrID0gcGFyc2UodG9rZW4ubmV4dFRva2VuKCksIDEsIDgpOwogICAg\nICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICAg\nICAgdGhyb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoImJhZC1zY2hl\nZHVsZSIsIGRhdGUpLCB0KS4KICAgICAgICAgICAgICAgICAgICBzZXRGYXRh\nbCh0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcHJp\ndmF0ZSBpbnRbXSBwYXJzZShTdHJpbmcgdG9rZW4sIGludCBtaW4sIGludCBt\nYXgpIHsKICAgICAgICAgICAgaWYgKCIqIi5lcXVhbHModG9rZW4udHJpbSgp\nKSkKICAgICAgICAgICAgICAgIHJldHVybiBXSUxEQ0FSRDsKICAgICAgICAg\nICAgU3RyaW5nW10gdG9rZW5zID0gU3RyaW5ncy5zcGxpdCh0b2tlbiwgIiwi\nLCAwKTsKICAgICAgICAgICAgaW50IFtdIHRpbWVzID0gbmV3IGludFt0b2tl\nbnMubGVuZ3RoXTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0\nb2tlbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAg\nICAgICAgICAgICAgICAgICAgdGltZXNbaV0gPSBJbnRlZ2VyLnBhcnNlSW50\nKHRva2Vuc1tpXSk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChUaHJvd2Fi\nbGUgdCkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXhj\nZXB0aW9uKF9sb2MuZ2V0KCJub3QtbnVtYmVyIiwgdG9rZW4pKS4KICAgICAg\nICAgICAgICAgICAgICAgICAgc2V0RmF0YWwodHJ1ZSk7CiAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGltZXNbaV0gPCBtaW4gfHwg\ndGltZXNbaV0gPj0gbWF4KQogICAgICAgICAgICAgICAgICAgIHRocm93IG5l\ndyBVc2VyRXhjZXB0aW9uKF9sb2MuZ2V0KCJub3QtcmFuZ2UiLCB0b2tlbiwK\nICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nLnZhbHVlT2YobWluKSwg\nU3RyaW5nLnZhbHVlT2YobWF4KSkpLgogICAgICAgICAgICAgICAgICAgICAg\nICBzZXRGYXRhbCh0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBy\nZXR1cm4gdGltZXM7CiAgICAgICAgfQoKICAgICAgICBib29sZWFuIG1hdGNo\nZXMoRGF0ZSBsYXN0LCBEYXRlIG5vdykgewogICAgICAgICAgICBDYWxlbmRh\nciB0aW1lID0gQ2FsZW5kYXIuZ2V0SW5zdGFuY2UoKTsKICAgICAgICAgICAg\ndGltZS5zZXRUaW1lKG5vdyk7CiAgICAgICAgICAgIHRpbWUuc2V0KENhbGVu\nZGFyLlNFQ09ORCwgMCk7CiAgICAgICAgICAgIHRpbWUuc2V0KENhbGVuZGFy\nLk1JTExJU0VDT05ELCAwKTsKCiAgICAgICAgICAgIGludFtdW10gYWxsID0K\nICAgICAgICAgICAgICAgIG5ldyBpbnRbXVtdeyBtb250aCwgZGF5T2ZNb250\naCwgZGF5T2ZXZWVrLCBob3VyLCBtaW4gfTsKICAgICAgICAgICAgcmV0dXJu\nIG1hdGNoZXMobGFzdCwgbm93LCB0aW1lLCBhbGwsIDApOwogICAgICAgIH0K\nCiAgICAgICAgcHJpdmF0ZSBib29sZWFuIG1hdGNoZXMoRGF0ZSBsYXN0LCBE\nYXRlIG5vdywgQ2FsZW5kYXIgdGltZSwKICAgICAgICAgICAgaW50W11bXSB0\naW1lcywgaW50IGRlcHRoKSB7CiAgICAgICAgICAgIGlmIChkZXB0aCA9PSBV\nTklUUy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIERhdGUgY29tcGFyZSA9\nIHRpbWUuZ2V0VGltZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBh\ncmUuY29tcGFyZVRvKGxhc3QpID49IDAgJiYKICAgICAgICAgICAgICAgICAg\nICBjb21wYXJlLmNvbXBhcmVUbyhub3cpIDwgMDsKICAgICAgICAgICAgfQoK\nICAgICAgICAgICAgaWYgKHRpbWVzW2RlcHRoXSAhPSBXSUxEQ0FSRCkgewog\nICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0aW1lc1tkZXB0\naF0ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICB0aW1lLnNl\ndChVTklUU1tkZXB0aF0sIHRpbWVzW2RlcHRoXVtpXSk7CiAgICAgICAgICAg\nICAgICAgICAgaWYgKG1hdGNoZXMobGFzdCwgbm93LCB0aW1lLCB0aW1lcywg\nZGVwdGggKyAxKSkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRy\ndWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAg\nICAgcmV0dXJuIG1hdGNoZXMobGFzdCwgbm93LCB0aW1lLCB0aW1lcywgZGVw\ndGggKyAxKTsKCQl9Cgl9Cn0K\n","encoding":"base64"}

