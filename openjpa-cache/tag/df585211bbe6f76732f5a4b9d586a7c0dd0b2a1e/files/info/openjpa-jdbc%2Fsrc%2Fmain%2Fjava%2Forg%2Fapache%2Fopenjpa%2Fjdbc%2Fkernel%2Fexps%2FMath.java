{"sha":"f08db8f6da7cf232333842a0047e88d1ae079fc5","node_id":"MDQ6QmxvYjIwNjM2NDpmMDhkYjhmNmRhN2NmMjMyMzMzODQyYTAwNDdlODhkMWFlMDc5ZmM1","size":5073,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f08db8f6da7cf232333842a0047e88d1ae079fc5","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5rZXJuZWwuZXhwczsK\nCmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CgppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmpkYmMubWV0YS5KYXZhU1FMVHlwZXM7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwuUmVzdWx0OwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLmpkYmMuc3FsLlNRTEJ1ZmZlcjsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNxbC5TZWxlY3Q7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEua2VybmVsLkZpbHRlcnM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEua2VybmVsLmV4cHMuRXhwcmVzc2lvblZpc2l0b3I7Cmlt\ncG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5DbGFzc01ldGFEYXRhOwoK\nLyoqCiAqIFZhbHVlIHByb2R1Y2VkIGJ5IGEgbWF0aGVtYXRpY2FsIG9wZXJh\ndGlvbiBvbiB0d28gdmFsdWVzLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQog\nKi8KcHVibGljIGNsYXNzIE1hdGgKICAgIGV4dGVuZHMgQWJzdHJhY3RWYWwg\newoKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFERCA9ICIrIjsK\nICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIFNVQlRSQUNUID0gIi0i\nOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgTVVMVElQTFkgPSAi\nKiI7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBESVZJREUgPSAi\nLyI7CiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBNT0QgPSAiTU9E\nIjsKCiAgICBwcml2YXRlIGZpbmFsIFZhbCBfdmFsMTsKICAgIHByaXZhdGUg\nZmluYWwgVmFsIF92YWwyOwogICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcgX29w\nOwogICAgcHJpdmF0ZSBDbGFzc01ldGFEYXRhIF9tZXRhID0gbnVsbDsKICAg\nIHByaXZhdGUgQ2xhc3MgX2Nhc3QgPSBudWxsOwoKICAgIC8qKgogICAgICog\nQ29uc3RydWN0b3IuIFByb3ZpZGUgdGhlIHZhbHVlcyB0byBvcGVyYXRlIG9u\nLCBhbmQgdGhlIG9wZXJhdG9yLgogICAgICovCiAgICBwdWJsaWMgTWF0aChW\nYWwgdmFsMSwgVmFsIHZhbDIsIFN0cmluZyBvcCkgewogICAgICAgIF92YWwx\nID0gdmFsMTsKICAgICAgICBfdmFsMiA9IHZhbDI7CiAgICAgICAgX29wID0g\nb3A7CiAgICB9CgogICAgcHVibGljIFZhbCBnZXRWYWwxKCkgewogICAgICAg\nIHJldHVybiBfdmFsMTsKICAgIH0KCiAgICBwdWJsaWMgVmFsIGdldFZhbDIo\nKSB7CiAgICAgICAgcmV0dXJuIF92YWwyOwogICAgfQoKICAgIHB1YmxpYyBT\ndHJpbmcgZ2V0T3BlcmF0aW9uKCkgewogICAgICAgIHJldHVybiBfb3A7CiAg\nICB9CgogICAgcHVibGljIENsYXNzTWV0YURhdGEgZ2V0TWV0YURhdGEoKSB7\nCiAgICAgICAgcmV0dXJuIF9tZXRhOwogICAgfQoKICAgIHB1YmxpYyB2b2lk\nIHNldE1ldGFEYXRhKENsYXNzTWV0YURhdGEgbWV0YSkgewogICAgICAgIF9t\nZXRhID0gbWV0YTsKICAgIH0KCiAgICBwdWJsaWMgQ2xhc3MgZ2V0VHlwZSgp\nIHsKICAgICAgICBpZiAoX2Nhc3QgIT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuIF9jYXN0OwogICAgICAgIENsYXNzIGMxID0gX3ZhbDEuZ2V0VHlwZSgp\nOwogICAgICAgIENsYXNzIGMyID0gX3ZhbDIuZ2V0VHlwZSgpOwogICAgICAg\nIHJldHVybiBGaWx0ZXJzLnByb21vdGUoYzEsIGMyKTsKICAgIH0KCiAgICBw\ndWJsaWMgdm9pZCBzZXRJbXBsaWNpdFR5cGUoQ2xhc3MgdHlwZSkgewogICAg\nICAgIF9jYXN0ID0gdHlwZTsKICAgIH0KCiAgICBwdWJsaWMgRXhwU3RhdGUg\naW5pdGlhbGl6ZShTZWxlY3Qgc2VsLCBFeHBDb250ZXh0IGN0eCwgaW50IGZs\nYWdzKSB7CiAgICAgICAgRXhwU3RhdGUgczEgPSBfdmFsMS5pbml0aWFsaXpl\nKHNlbCwgY3R4LCAwKTsKICAgICAgICBFeHBTdGF0ZSBzMiA9IF92YWwyLmlu\naXRpYWxpemUoc2VsLCBjdHgsIDApOwogICAgICAgIHJldHVybiBuZXcgQmlu\nYXJ5T3BFeHBTdGF0ZShzZWwuYW5kKHMxLmpvaW5zLCBzMi5qb2lucyksIHMx\nLCBzMik7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2VsZWN0KFNlbGVjdCBz\nZWwsIEV4cENvbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSwgCiAgICAgICAg\nYm9vbGVhbiBwa3MpIHsKICAgICAgICBzZWwuc2VsZWN0KG5ld1NRTEJ1ZmZl\ncihzZWwsIGN0eCwgc3RhdGUpLCB0aGlzKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBzZWxlY3RDb2x1bW5zKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4\nLCBFeHBTdGF0ZSBzdGF0ZSwgCiAgICAgICAgYm9vbGVhbiBwa3MpIHsKICAg\nICAgICBCaW5hcnlPcEV4cFN0YXRlIGJzdGF0ZSA9IChCaW5hcnlPcEV4cFN0\nYXRlKSBzdGF0ZTsKICAgICAgICBfdmFsMS5zZWxlY3RDb2x1bW5zKHNlbCwg\nY3R4LCBic3RhdGUuc3RhdGUxLCB0cnVlKTsKICAgICAgICBfdmFsMi5zZWxl\nY3RDb2x1bW5zKHNlbCwgY3R4LCBic3RhdGUuc3RhdGUyLCB0cnVlKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBncm91cEJ5KFNlbGVjdCBzZWwsIEV4cENv\nbnRleHQgY3R4LCBFeHBTdGF0ZSBzdGF0ZSkgewogICAgICAgIHNlbC5ncm91\ncEJ5KG5ld1NRTEJ1ZmZlcihzZWwsIGN0eCwgc3RhdGUpKTsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBvcmRlckJ5KFNlbGVjdCBzZWwsIEV4cENvbnRleHQg\nY3R4LCBFeHBTdGF0ZSBzdGF0ZSwgCiAgICAgICAgYm9vbGVhbiBhc2MpIHsK\nICAgICAgICBzZWwub3JkZXJCeShuZXdTUUxCdWZmZXIoc2VsLCBjdHgsIHN0\nYXRlKSwgYXNjLCBmYWxzZSk7CiAgICB9CgogICAgcHJpdmF0ZSBTUUxCdWZm\nZXIgbmV3U1FMQnVmZmVyKFNlbGVjdCBzZWwsIEV4cENvbnRleHQgY3R4LCBF\neHBTdGF0ZSBzdGF0ZSkgewogICAgICAgIGNhbGN1bGF0ZVZhbHVlKHNlbCwg\nY3R4LCBzdGF0ZSwgbnVsbCwgbnVsbCk7CiAgICAgICAgU1FMQnVmZmVyIGJ1\nZiA9IG5ldyBTUUxCdWZmZXIoY3R4LnN0b3JlLmdldERCRGljdGlvbmFyeSgp\nKTsKICAgICAgICBhcHBlbmRUbyhzZWwsIGN0eCwgc3RhdGUsIGJ1ZiwgMCk7\nCiAgICAgICAgcmV0dXJuIGJ1ZjsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0\nIGxvYWQoRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRlLCBSZXN1bHQg\ncmVzKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJl\ndHVybiBGaWx0ZXJzLmNvbnZlcnQocmVzLmdldE9iamVjdCh0aGlzLCBKYXZh\nU1FMVHlwZXMuSkRCQ19ERUZBVUxULCAKICAgICAgICAgICAgbnVsbCksIGdl\ndFR5cGUoKSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgY2FsY3VsYXRlVmFs\ndWUoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgsIEV4cFN0YXRlIHN0YXRl\nLCAKICAgICAgICBWYWwgb3RoZXIsIEV4cFN0YXRlIG90aGVyU3RhdGUpIHsK\nICAgICAgICBCaW5hcnlPcEV4cFN0YXRlIGJzdGF0ZSA9IChCaW5hcnlPcEV4\ncFN0YXRlKSBzdGF0ZTsKICAgICAgICBfdmFsMS5jYWxjdWxhdGVWYWx1ZShz\nZWwsIGN0eCwgYnN0YXRlLnN0YXRlMSwgX3ZhbDIsIGJzdGF0ZS5zdGF0ZTIp\nOwogICAgICAgIF92YWwyLmNhbGN1bGF0ZVZhbHVlKHNlbCwgY3R4LCBic3Rh\ndGUuc3RhdGUyLCBfdmFsMSwgYnN0YXRlLnN0YXRlMSk7CiAgICB9CgogICAg\ncHVibGljIGludCBsZW5ndGgoU2VsZWN0IHNlbCwgRXhwQ29udGV4dCBjdHgs\nIEV4cFN0YXRlIHN0YXRlKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9Cgog\nICAgcHVibGljIHZvaWQgYXBwZW5kVG8oU2VsZWN0IHNlbCwgRXhwQ29udGV4\ndCBjdHgsIEV4cFN0YXRlIHN0YXRlLCAKICAgICAgICBTUUxCdWZmZXIgc3Fs\nLCBpbnQgaW5kZXgpIHsKICAgICAgICBCaW5hcnlPcEV4cFN0YXRlIGJzdGF0\nZSA9IChCaW5hcnlPcEV4cFN0YXRlKSBzdGF0ZTsKICAgICAgICBjdHguc3Rv\ncmUuZ2V0REJEaWN0aW9uYXJ5KCkubWF0aEZ1bmN0aW9uKHNxbCwgX29wLAog\nICAgICAgICAgICBuZXcgRmlsdGVyVmFsdWVJbXBsKHNlbCwgY3R4LCBic3Rh\ndGUuc3RhdGUxLCBfdmFsMSksCiAgICAgICAgICAgIG5ldyBGaWx0ZXJWYWx1\nZUltcGwoc2VsLCBjdHgsIGJzdGF0ZS5zdGF0ZTIsIF92YWwyKSk7CiAgICB9\nCgogICAgcHVibGljIHZvaWQgYWNjZXB0VmlzaXQoRXhwcmVzc2lvblZpc2l0\nb3IgdmlzaXRvcikgewogICAgICAgIHZpc2l0b3IuZW50ZXIodGhpcyk7CiAg\nICAgICAgX3ZhbDEuYWNjZXB0VmlzaXQodmlzaXRvcik7CiAgICAgICAgX3Zh\nbDIuYWNjZXB0VmlzaXQodmlzaXRvcik7CiAgICAgICAgdmlzaXRvci5leGl0\nKHRoaXMpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7CiAgICAg\nICAgcmV0dXJuIFZhbC5NQVRIX1ZBTDsKICAgIH0KfQoK\n","encoding":"base64"}

