{"sha":"7a60a2d72c1179e8f6993d8ffaf9a33fb1baf868","node_id":"MDQ6QmxvYjIwNjM2NDo3YTYwYTJkNzJjMTE3OWU4ZjY5OTNkOGZmYWY5YTMzZmIxYmFmODY4","size":10907,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/7a60a2d72c1179e8f6993d8ffaf9a33fb1baf868","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhOwoKaW1wb3J0\nIGphdmEuc3FsLlNRTEV4Y2VwdGlvbjsKaW1wb3J0IGphdmEudXRpbC5NYXA7\nCgppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVsLkpEQkNT\ndG9yZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNjaGVtYS5D\nb2x1bW47CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hlbWEu\nQ29sdW1uSU87CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hl\nbWEuSW5kZXg7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zY2hl\nbWEuU2NoZW1hczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNx\nbC5SZXN1bHQ7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWwu\nUm93TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLnNx\nbC5TZWxlY3Q7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLk9w\nZW5KUEFTdGF0ZU1hbmFnZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\nbGliLmxvZy5Mb2c7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0\naWwuTG9jYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEu\nTWV0YURhdGFDb250ZXh0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1l\ndGEuTWV0YURhdGFNb2RlczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5t\nZXRhLk1ldGFEYXRhUmVwb3NpdG9yeTsKaW1wb3J0IG9yZy5hcGFjaGUub3Bl\nbmpwYS51dGlsLkludGVybmFsRXhjZXB0aW9uOwoKLyoqCiAqIEhhbmRsZXMg\nb3B0aW1pc3RpYyBsb2NrIHZlcnNpb25pbmcgZm9yIGEgY2xhc3MuCiAqCiAq\nIEBhdXRob3IgQWJlIFdoaXRlCiAqLwpwdWJsaWMgY2xhc3MgVmVyc2lvbgog\nICAgaW1wbGVtZW50cyBWZXJzaW9uU3RyYXRlZ3ksIE1ldGFEYXRhQ29udGV4\ndCwgTWV0YURhdGFNb2RlcyB7CgogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwg\nTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6ZXIuZm9yUGFja2FnZShWZXJzaW9u\nLmNsYXNzKTsKCiAgICBwcml2YXRlIGZpbmFsIENsYXNzTWFwcGluZyBfbWFw\ncGluZzsKICAgIHByaXZhdGUgZmluYWwgVmVyc2lvbk1hcHBpbmdJbmZvIF9p\nbmZvOwogICAgcHJpdmF0ZSBWZXJzaW9uU3RyYXRlZ3kgX3N0cmF0ZWd5ID0g\nbnVsbDsKICAgIHByaXZhdGUgaW50IF9yZXNNb2RlID0gTU9ERV9OT05FOwoK\nICAgIHByaXZhdGUgQ29sdW1uW10gX2NvbHMgPSBTY2hlbWFzLkVNUFRZX0NP\nTFVNTlM7CiAgICBwcml2YXRlIENvbHVtbklPIF9pbyA9IG51bGw7CiAgICBw\ncml2YXRlIEluZGV4IF9pZHggPSBudWxsOwoKICAgIC8qKgogICAgICogQ29u\nc3RydWN0b3IuIFN1cHBseSBvd25pbmcgbWFwcGluZy4KICAgICAqLwogICAg\ncHVibGljIFZlcnNpb24oQ2xhc3NNYXBwaW5nIG1hcHBpbmcpIHsKICAgICAg\nICBfbWFwcGluZyA9IG1hcHBpbmc7CiAgICAgICAgX2luZm8gPSBnZXRNYXBw\naW5nUmVwb3NpdG9yeSgpLm5ld01hcHBpbmdJbmZvKHRoaXMpOwogICAgfQoK\nICAgIHB1YmxpYyBNZXRhRGF0YVJlcG9zaXRvcnkgZ2V0UmVwb3NpdG9yeSgp\nIHsKICAgICAgICByZXR1cm4gX21hcHBpbmcuZ2V0UmVwb3NpdG9yeSgpOwog\nICAgfQoKICAgIHB1YmxpYyBNYXBwaW5nUmVwb3NpdG9yeSBnZXRNYXBwaW5n\nUmVwb3NpdG9yeSgpIHsKICAgICAgICByZXR1cm4gX21hcHBpbmcuZ2V0TWFw\ncGluZ1JlcG9zaXRvcnkoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbiB0aGUgb3duaW5nIG1hcHBpbmcuCiAgICAgKi8KICAgIHB1YmxpYyBDbGFz\nc01hcHBpbmcgZ2V0Q2xhc3NNYXBwaW5nKCkgewogICAgICAgIHJldHVybiBf\nbWFwcGluZzsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBzdHJhdGVneSB1\nc2VkIGZvciB2ZXJzaW9uaW5nLgogICAgICovCiAgICBwdWJsaWMgVmVyc2lv\nblN0cmF0ZWd5IGdldFN0cmF0ZWd5KCkgewogICAgICAgIHJldHVybiBfc3Ry\nYXRlZ3k7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgc3RyYXRlZ3kgdXNl\nZCBmb3IgdmVyc2lvbmluZy4gVGhlIDxjb2RlPmFkYXB0PC9jb2RlPgogICAg\nICogcGFyYW1ldGVyIGRldGVybWluZXMgd2hldGhlciB0byBhZGFwdCB3aGVu\nIG1hcHBpbmcgdGhlIHN0cmF0ZWd5OwogICAgICogdXNlIG51bGwgaWYgdGhl\nIHN0cmF0ZWd5IHNob3VsZCBub3QgYmUgbWFwcGVkLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBzZXRTdHJhdGVneShWZXJzaW9uU3RyYXRlZ3kgc3RyYXRl\nZ3ksIEJvb2xlYW4gYWRhcHQpIHsKICAgICAgICAvLyBzZXQgc3RyYXRlZ3kg\nZmlyc3Qgc28gd2UgY2FuIGFjY2VzcyBpdCBkdXJpbmcgbWFwcGluZwogICAg\nICAgIFZlcnNpb25TdHJhdGVneSBvcmlnID0gX3N0cmF0ZWd5OwogICAgICAg\nIF9zdHJhdGVneSA9IHN0cmF0ZWd5OwogICAgICAgIGlmIChzdHJhdGVneSAh\nPSBudWxsKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBz\ndHJhdGVneS5zZXRWZXJzaW9uKHRoaXMpOwogICAgICAgICAgICAgICAgaWYg\nKGFkYXB0ICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgc3RyYXRlZ3ku\nbWFwKGFkYXB0LmJvb2xlYW5WYWx1ZSgpKTsKICAgICAgICAgICAgfSBjYXRj\naCAoUnVudGltZUV4Y2VwdGlvbiByZSkgewogICAgICAgICAgICAgICAgLy8g\ncmVzZXQgc3RyYXRlZ3kKICAgICAgICAgICAgICAgIF9zdHJhdGVneSA9IG9y\naWc7CiAgICAgICAgICAgICAgICB0aHJvdyByZTsKICAgICAgICAgICAgfQog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJhdyBtYXBwaW5nIGRh\ndGEuCiAgICAgKi8KICAgIHB1YmxpYyBWZXJzaW9uTWFwcGluZ0luZm8gZ2V0\nTWFwcGluZ0luZm8oKSB7CiAgICAgICAgcmV0dXJuIF9pbmZvOwogICAgfQoK\nICAgIC8qKgogICAgICogQ29sdW1ucyB1c2VkIGZvciB2ZXJzaW9uaW5nLgog\nICAgICovCiAgICBwdWJsaWMgQ29sdW1uW10gZ2V0Q29sdW1ucygpIHsKICAg\nICAgICByZXR1cm4gX2NvbHM7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb2x1\nbW5zIHVzZWQgZm9yIHZlcnNpb25pbmcuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldENvbHVtbnMoQ29sdW1uW10gY29scykgewogICAgICAgIGlmIChj\nb2xzID09IG51bGwpCiAgICAgICAgICAgIGNvbHMgPSBTY2hlbWFzLkVNUFRZ\nX0NPTFVNTlM7CiAgICAgICAgX2NvbHMgPSBjb2xzOwogICAgfQoKICAgIC8q\nKgogICAgICogSS9PIGluZm9ybWF0aW9uIG9uIHRoZSB2ZXJzaW9uIGNvbHVt\nbnMuCiAgICAgKi8KICAgIHB1YmxpYyBDb2x1bW5JTyBnZXRDb2x1bW5JTygp\nIHsKICAgICAgICByZXR1cm4gKF9pbyA9PSBudWxsKSA/IENvbHVtbklPLlVO\nUkVTVFJJQ1RFRCA6IF9pbzsKICAgIH0KCiAgICAvKioKICAgICAqIEkvTyBp\nbmZvcm1hdGlvbiBvbiB0aGUgdmVyc2lvbiBjb2x1bW5zLgogICAgICovCiAg\nICBwdWJsaWMgdm9pZCBzZXRDb2x1bW5JTyhDb2x1bW5JTyBpbykgewogICAg\nICAgIF9pbyA9IGlvOwogICAgfQoKICAgIC8qKgogICAgICogSW5kZXggb24g\ndGhlIHZlcnNpb24gY29sdW1ucywgb3IgbnVsbCBpZiBub25lLgogICAgICov\nCiAgICBwdWJsaWMgSW5kZXggZ2V0SW5kZXgoKSB7CiAgICAgICAgcmV0dXJu\nIF9pZHg7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbmRleCBvbiB0aGUgdmVy\nc2lvbiBjb2x1bW5zLCBvciBudWxsIGlmIG5vbmUuCiAgICAgKi8KICAgIHB1\nYmxpYyB2b2lkIHNldEluZGV4KEluZGV4IGlkeCkgewogICAgICAgIF9pZHgg\nPSBpZHg7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbmNyZW1lbnQgdGhlIHJl\nZmVyZW5jZSBjb3VudCBvZiB1c2VkIHNjaGVtYSBjb21wb25lbnRzLgogICAg\nICovCiAgICBwdWJsaWMgdm9pZCByZWZTY2hlbWFDb21wb25lbnRzKCkgewog\nICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX2NvbHMubGVuZ3RoOyBpKysp\nCiAgICAgICAgICAgIF9jb2xzW2ldLnJlZigpOwogICAgfQoKICAgIC8qKgog\nICAgICogQ2xlYXIgbWFwcGluZyBpbmZvcm1hdGlvbiwgaW5jbHVkaW5nIHN0\ncmF0ZWd5LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBjbGVhck1hcHBpbmco\nKSB7CiAgICAgICAgX3N0cmF0ZWd5ID0gbnVsbDsKICAgICAgICBfY29scyA9\nIFNjaGVtYXMuRU1QVFlfQ09MVU1OUzsKICAgICAgICBfaWR4ID0gbnVsbDsK\nICAgICAgICBfaW5mby5jbGVhcigpOwogICAgICAgIHNldFJlc29sdmUoTU9E\nRV9NQVBQSU5HIHwgTU9ERV9NQVBQSU5HX0lOSVQsIGZhbHNlKTsKICAgIH0K\nCiAgICAvKioKICAgICAqIFVwZGF0ZSB7QGxpbmsgTWFwcGluZ0luZm99IHdp\ndGggb3VyIGN1cnJlbnQgbWFwcGluZyBpbmZvcm1hdGlvbi4KICAgICAqLwog\nICAgcHVibGljIHZvaWQgc3luY01hcHBpbmdJbmZvKCkgewogICAgICAgIF9p\nbmZvLnN5bmNXaXRoKHRoaXMpOwoKICAgICAgICAvLyBzZXR1cCB0aGUgdmVy\nc2lvbiBmaWVsZCB3aXRoIG91ciBtYXBwaW5nIGluZm8KICAgICAgICBGaWVs\nZE1hcHBpbmcgZm0gPSBfbWFwcGluZy5nZXRWZXJzaW9uRmllbGRNYXBwaW5n\nKCk7CiAgICAgICAgaWYgKGZtICE9IG51bGwpIHsKICAgICAgICAgICAgLy8g\nZXJhc2UgZXhwbGljaXQgc3RyYXRlZ3kgaWYgaXQgaXMgc3RhbmRhcmQgdmVy\nc2lvbiBzdHJhdGVneSBmb3IKICAgICAgICAgICAgLy8gZmllbGQgdHlwZQog\nICAgICAgICAgICBpZiAoX2luZm8uZ2V0U3RyYXRlZ3koKSAhPSBudWxsCiAg\nICAgICAgICAgICAgICAmJiBfaW5mby5nZXRTdHJhdGVneSgpLmVxdWFscyhn\nZXRNYXBwaW5nUmVwb3NpdG9yeSgpLgogICAgICAgICAgICAgICAgZGVmYXVs\ndFN0cmF0ZWd5KHRoaXMsIGZtKS5nZXRBbGlhcygpKSkKICAgICAgICAgICAg\nICAgIF9pbmZvLnNldFN0cmF0ZWd5KG51bGwpOwoKICAgICAgICAgICAgZm0u\nZ2V0TWFwcGluZ0luZm8oKS5jbGVhcigpOwogICAgICAgICAgICBmbS5nZXRW\nYWx1ZUluZm8oKS5jbGVhcigpOwogICAgICAgICAgICBmbS5nZXRLZXlNYXBw\naW5nKCkuZ2V0VmFsdWVJbmZvKCkuY2xlYXIoKTsKICAgICAgICAgICAgZm0u\nZ2V0RWxlbWVudE1hcHBpbmcoKS5nZXRWYWx1ZUluZm8oKS5jbGVhcigpOwog\nICAgICAgICAgICBmbS5nZXRWYWx1ZUluZm8oKS5jb3B5KF9pbmZvKTsKICAg\nICAgICAgICAgX2luZm8uY2xlYXIoKTsKICAgICAgICB9CiAgICB9CgogICAg\nLyoqCiAgICAgKiBSZXNvbHZlIG1vZGUuCiAgICAgKi8KICAgIHB1YmxpYyBp\nbnQgZ2V0UmVzb2x2ZSgpIHsKICAgICAgICByZXR1cm4gX3Jlc01vZGU7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXNvbHZlIG1vZGUuCiAgICAgKi8KICAg\nIHB1YmxpYyB2b2lkIHNldFJlc29sdmUoaW50IG1vZGUpIHsKICAgICAgICBf\ncmVzTW9kZSA9IG1vZGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXNvbHZl\nIG1vZGUuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFJlc29sdmUoaW50\nIG1vZGUsIGJvb2xlYW4gb24pIHsKICAgICAgICBpZiAobW9kZSA9PSBNT0RF\nX05PTkUpCiAgICAgICAgICAgIF9yZXNNb2RlID0gbW9kZTsKICAgICAgICBl\nbHNlIGlmIChvbikKICAgICAgICAgICAgX3Jlc01vZGUgfD0gbW9kZTsKICAg\nICAgICBlbHNlCiAgICAgICAgICAgIF9yZXNNb2RlICY9IH5tb2RlOwogICAg\nfQoKICAgIC8qKgogICAgICogUmVzb2x2ZSBtYXBwaW5nIGluZm9ybWF0aW9u\nLgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiByZXNvbHZlKGludCBtb2Rl\nKSB7CiAgICAgICAgaWYgKChfcmVzTW9kZSAmIG1vZGUpID09IG1vZGUpCiAg\nICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIGludCBjdXIgPSBfcmVz\nTW9kZTsKICAgICAgICBfcmVzTW9kZSB8PSBtb2RlOwogICAgICAgIGlmICgo\nbW9kZSAmIE1PREVfTUFQUElORykgIT0gMCAmJiAoY3VyICYgTU9ERV9NQVBQ\nSU5HKSA9PSAwKQogICAgICAgICAgICByZXNvbHZlTWFwcGluZygpOwogICAg\nICAgIGlmICgobW9kZSAmIE1PREVfTUFQUElOR19JTklUKSAhPSAwICYmIChj\ndXIgJiBNT0RFX01BUFBJTkdfSU5JVCkgPT0gMCkKICAgICAgICAgICAgX3N0\ncmF0ZWd5LmluaXRpYWxpemUoKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg\nICB9CgogICAgLyoqCiAgICAgKiBTZXR1cCBtYXBwaW5nLgogICAgICovCiAg\nICBwcml2YXRlIHZvaWQgcmVzb2x2ZU1hcHBpbmcoKSB7CiAgICAgICAgLy8g\naWYgdGhlcmUgaXMgYSB2ZXJzaW9uIGZpZWxkLCBjb3B5IG1hcHBpbmcgaW5m\nbyBmcm9tIGl0CiAgICAgICAgRmllbGRNYXBwaW5nIGZtID0gX21hcHBpbmcu\nZ2V0VmVyc2lvbkZpZWxkTWFwcGluZygpOwogICAgICAgIGlmIChmbSAhPSBu\ndWxsKQogICAgICAgICAgICBfaW5mby5jb3B5KGZtLmdldFZhbHVlSW5mbygp\nKTsKCiAgICAgICAgLy8gbWFwIHN0cmF0ZWd5CiAgICAgICAgTWFwcGluZ1Jl\ncG9zaXRvcnkgcmVwb3MgPSBnZXRNYXBwaW5nUmVwb3NpdG9yeSgpOwogICAg\nICAgIGlmIChfc3RyYXRlZ3kgPT0gbnVsbCkKICAgICAgICAgICAgcmVwb3Mu\nZ2V0U3RyYXRlZ3lJbnN0YWxsZXIoKS5pbnN0YWxsU3RyYXRlZ3kodGhpcyk7\nCiAgICAgICAgTG9nIGxvZyA9IHJlcG9zLmdldExvZygpOwogICAgICAgIGlm\nIChsb2cuaXNUcmFjZUVuYWJsZWQoKSkKICAgICAgICAgICAgbG9nLnRyYWNl\nKF9sb2MuZ2V0KCJzdHJhdGVneSIsIHRoaXMsIF9zdHJhdGVneS5nZXRBbGlh\ncygpKSk7CgogICAgICAgIC8vIG1hcmsgY29sdW1ucyBhcyBtYXBwZWQKICAg\nICAgICBDb2x1bW5bXSBjb2xzID0gZ2V0Q29sdW1ucygpOwogICAgICAgIENv\nbHVtbklPIGlvID0gZ2V0Q29sdW1uSU8oKTsKICAgICAgICBmb3IgKGludCBp\nID0gMDsgaSA8IGNvbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYg\nKGlvLmlzSW5zZXJ0YWJsZShpLCBmYWxzZSkpCiAgICAgICAgICAgICAgICBj\nb2xzW2ldLnNldEZsYWcoQ29sdW1uLkZMQUdfRElSRUNUX0lOU0VSVCwgdHJ1\nZSk7CiAgICAgICAgICAgIGlmIChpby5pc1VwZGF0YWJsZShpLCBmYWxzZSkp\nCiAgICAgICAgICAgICAgICBjb2xzW2ldLnNldEZsYWcoQ29sdW1uLkZMQUdf\nRElSRUNUX1VQREFURSwgdHJ1ZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIC8vIFZlcnNp\nb25TdHJhdGVneSBpbXBsZW1lbnRhdGlvbgogICAgLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWxp\nYXMoKSB7CiAgICAgICAgcmV0dXJuIGFzc2VydFN0cmF0ZWd5KCkuZ2V0QWxp\nYXMoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBtYXAoYm9vbGVhbiBhZGFw\ndCkgewogICAgICAgIGFzc2VydFN0cmF0ZWd5KCkubWFwKGFkYXB0KTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKCkgewogICAgICAgIGFz\nc2VydFN0cmF0ZWd5KCkuaW5pdGlhbGl6ZSgpOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIGluc2VydChPcGVuSlBBU3RhdGVNYW5hZ2VyIHNtLCBKREJDU3Rv\ncmUgc3RvcmUsIFJvd01hbmFnZXIgcm0pCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgYXNzZXJ0U3RyYXRlZ3koKS5pbnNlcnQoc20s\nIHN0b3JlLCBybSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgdXBkYXRlKE9w\nZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwgUm93TWFu\nYWdlciBybSkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICBhc3NlcnRTdHJhdGVneSgpLnVwZGF0ZShzbSwgc3RvcmUsIHJtKTsKICAg\nIH0KCiAgICBwdWJsaWMgdm9pZCBkZWxldGUoT3BlbkpQQVN0YXRlTWFuYWdl\nciBzbSwgSkRCQ1N0b3JlIHN0b3JlLCBSb3dNYW5hZ2VyIHJtKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGFzc2VydFN0cmF0ZWd5\nKCkuZGVsZXRlKHNtLCBzdG9yZSwgcm0pOwogICAgfQoKICAgIHB1YmxpYyBC\nb29sZWFuIGlzQ3VzdG9tSW5zZXJ0KE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20s\nIEpEQkNTdG9yZSBzdG9yZSkgewogICAgICAgIHJldHVybiBhc3NlcnRTdHJh\ndGVneSgpLmlzQ3VzdG9tSW5zZXJ0KHNtLCBzdG9yZSk7CiAgICB9CgogICAg\ncHVibGljIEJvb2xlYW4gaXNDdXN0b21VcGRhdGUoT3BlbkpQQVN0YXRlTWFu\nYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAgcmV0dXJuIGFz\nc2VydFN0cmF0ZWd5KCkuaXNDdXN0b21VcGRhdGUoc20sIHN0b3JlKTsKICAg\nIH0KCiAgICBwdWJsaWMgQm9vbGVhbiBpc0N1c3RvbURlbGV0ZShPcGVuSlBB\nU3RhdGVNYW5hZ2VyIHNtLCBKREJDU3RvcmUgc3RvcmUpIHsKICAgICAgICBy\nZXR1cm4gYXNzZXJ0U3RyYXRlZ3koKS5pc0N1c3RvbURlbGV0ZShzbSwgc3Rv\ncmUpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGN1c3RvbUluc2VydChPcGVu\nSlBBU3RhdGVNYW5hZ2VyIHNtLCBKREJDU3RvcmUgc3RvcmUpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgYXNzZXJ0U3RyYXRlZ3ko\nKS5jdXN0b21JbnNlcnQoc20sIHN0b3JlKTsKICAgIH0KCiAgICBwdWJsaWMg\ndm9pZCBjdXN0b21VcGRhdGUoT3BlbkpQQVN0YXRlTWFuYWdlciBzbSwgSkRC\nQ1N0b3JlIHN0b3JlKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewog\nICAgICAgIGFzc2VydFN0cmF0ZWd5KCkuY3VzdG9tVXBkYXRlKHNtLCBzdG9y\nZSk7CiAgICB9CgogICAgcHVibGljIHZvaWQgY3VzdG9tRGVsZXRlKE9wZW5K\nUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSkKICAgICAgICB0\naHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBhc3NlcnRTdHJhdGVneSgp\nLmN1c3RvbURlbGV0ZShzbSwgc3RvcmUpOwogICAgfQoKICAgIHB1YmxpYyB2\nb2lkIHNldFZlcnNpb24oVmVyc2lvbiBvd25lcikgewogICAgICAgIGFzc2Vy\ndFN0cmF0ZWd5KCkuc2V0VmVyc2lvbihvd25lcik7CiAgICB9CgogICAgcHVi\nbGljIGJvb2xlYW4gc2VsZWN0KFNlbGVjdCBzZWwsIENsYXNzTWFwcGluZyBt\nYXBwaW5nKSB7CiAgICAgICAgcmV0dXJuIGFzc2VydFN0cmF0ZWd5KCkuc2Vs\nZWN0KHNlbCwgbWFwcGluZyk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBs\nb2FkKE9wZW5KUEFTdGF0ZU1hbmFnZXIgc20sIEpEQkNTdG9yZSBzdG9yZSwg\nUmVzdWx0IHJlcykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gYXNzZXJ0U3RyYXRlZ3koKS5sb2FkKHNtLCBzdG9yZSwg\ncmVzKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBhZnRlckxvYWQoT3BlbkpQ\nQVN0YXRlTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlKSB7CiAgICAgICAg\nYXNzZXJ0U3RyYXRlZ3koKS5hZnRlckxvYWQoc20sIHN0b3JlKTsKICAgIH0K\nCiAgICBwdWJsaWMgYm9vbGVhbiBjaGVja1ZlcnNpb24oT3BlbkpQQVN0YXRl\nTWFuYWdlciBzbSwgSkRCQ1N0b3JlIHN0b3JlLAogICAgICAgIGJvb2xlYW4g\ndXBkYXRlVmVyc2lvbikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gYXNzZXJ0U3RyYXRlZ3koKS5jaGVja1ZlcnNpb24o\nc20sIHN0b3JlLCB1cGRhdGVWZXJzaW9uKTsKICAgIH0KCiAgICBwdWJsaWMg\naW50IGNvbXBhcmVWZXJzaW9uKE9iamVjdCB2MSwgT2JqZWN0IHYyKSB7CiAg\nICAgICAgcmV0dXJuIGFzc2VydFN0cmF0ZWd5KCkuY29tcGFyZVZlcnNpb24o\ndjEsIHYyKTsKICAgIH0KCiAgICBwcml2YXRlIFZlcnNpb25TdHJhdGVneSBh\nc3NlcnRTdHJhdGVneSgpIHsKICAgICAgICBpZiAoX3N0cmF0ZWd5ID09IG51\nbGwpCiAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEV4Y2VwdGlvbigp\nOwogICAgICAgIHJldHVybiBfc3RyYXRlZ3k7CiAgICB9CgogICAgcHVibGlj\nIFN0cmluZyB0b1N0cmluZygpIHsKICAgICAgICByZXR1cm4gX21hcHBpbmcg\nKyAiPHZlcnNpb24+IjsKICAgIH0KCiAgICAvKioKICAgICAqIEByZXR1cm4g\nYSBNYXA8Q29sdW1uLFN0cmluZz4gc3BlY2lmeWluZyBob3cgdG8gdXBkYXRl\nIGVhY2ggdmVyc2lvbgogICAgICogY29sdW1uIGluIHRoaXMgaW5zdGFuY2Ug\nZHVyaW5nIGEgYnVsayB1cGRhdGUuCiAgICAgKgogICAgICogQHNpbmNlIDEu\nMC4wCiAgICAgKi8KICAgIHB1YmxpYyBNYXAgZ2V0QnVsa1VwZGF0ZVZhbHVl\ncygpIHsKICAgICAgICByZXR1cm4gX3N0cmF0ZWd5LmdldEJ1bGtVcGRhdGVW\nYWx1ZXMoKTsKICAgIH0KfQo=\n","encoding":"base64"}

