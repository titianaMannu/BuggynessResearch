{"sha":"2702aab559ebb8c25a3142c191d18dbe02ec8ded","node_id":"MDQ6QmxvYjIwNjM2NDoyNzAyYWFiNTU5ZWJiOGMyNWEzMTQyYzE5MWQxOGRiZTAyZWM4ZGVk","size":15354,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2702aab559ebb8c25a3142c191d18dbe02ec8ded","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5zcWw7CgppbXBvcnQg\namF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uUmVhZGVyOwpp\nbXBvcnQgamF2YS5tYXRoLkJpZ0RlY2ltYWw7CmltcG9ydCBqYXZhLm1hdGgu\nQmlnSW50ZWdlcjsKaW1wb3J0IGphdmEuc3FsLkFycmF5OwppbXBvcnQgamF2\nYS5zcWwuQmxvYjsKaW1wb3J0IGphdmEuc3FsLkNsb2I7CmltcG9ydCBqYXZh\nLnNxbC5SZWY7CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CmltcG9y\ndCBqYXZhLnNxbC5UaW1lOwppbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wOwpp\nbXBvcnQgamF2YS51dGlsLkNhbGVuZGFyOwppbXBvcnQgamF2YS51dGlsLkNv\nbXBhcmF0b3I7CmltcG9ydCBqYXZhLnV0aWwuRGF0ZTsKaW1wb3J0IGphdmEu\ndXRpbC5Mb2NhbGU7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5qZGJjLmtlcm5lbC5KREJDRmV0Y2hDb25maWd1\ncmF0aW9uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMua2VybmVs\nLkpEQkNTdG9yZTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1l\ndGEuQ2xhc3NNYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpk\nYmMubWV0YS5GaWVsZE1hcHBpbmc7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEuamRiYy5zY2hlbWEuQ29sdW1uOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVu\nanBhLnV0aWwuVW5zdXBwb3J0ZWRFeGNlcHRpb247CgovKioKICogUmVzdWx0\nIHRoYXQgbWVyZ2VzIG11bHRpcGxlIHJlc3VsdCBkZWxlZ2F0ZXMuIFN1cHBv\ncnQgZXhpc3RzIGZvcgogKiBtYWludGFpbmluZyBvcmRlcmluZyBvZiB0aGUg\naW50ZXJuYWxseS1oZWxkIHJlc3VsdHMsIHByb3ZpZGVkIHRoYXQgZWFjaAog\nKiBvZiB0aGUgaW5kaXZpZHVhbCByZXN1bHRzIGlzIGl0c2VsZiBvcmRlcmVk\nLgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKi8KcHVibGljIGNsYXNzIE1l\ncmdlZFJlc3VsdAogICAgaW1wbGVtZW50cyBSZXN1bHQgewoKICAgIHByaXZh\ndGUgc3RhdGljIGZpbmFsIGJ5dGUgTkVYVCA9IDA7CiAgICBwcml2YXRlIHN0\nYXRpYyBmaW5hbCBieXRlIENVUlJFTlQgPSAxOwogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgYnl0ZSBET05FID0gMjsKCiAgICBwcml2YXRlIGZpbmFsIFJl\nc3VsdFtdIF9yZXM7CiAgICBwcml2YXRlIGZpbmFsIGJ5dGVbXSBfc3RhdHVz\nOwogICAgcHJpdmF0ZSBmaW5hbCBSZXN1bHRDb21wYXJhdG9yIF9jb21wOwog\nICAgcHJpdmF0ZSBmaW5hbCBPYmplY3RbXSBfb3JkZXI7CiAgICBwcml2YXRl\nIGludCBfaWR4ID0gMDsKICAgIHByaXZhdGUgYm9vbGVhbiBfcHVzaGVkQmFj\nayA9IGZhbHNlOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBs\neSBkZWxlZ2F0ZXMuCiAgICAgKi8KICAgIHB1YmxpYyBNZXJnZWRSZXN1bHQo\nUmVzdWx0W10gcmVzKSB7CiAgICAgICAgdGhpcyhyZXMsIG51bGwpOwogICAg\nfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0b3I7IHN1cHBseSBkZWxlZ2F0\nZXMgYW5kIGNvbXBhcmF0b3IgZm9yIG9yZGVyaW5nIHJlc3VsdHMuCiAgICAg\nKi8KICAgIHB1YmxpYyBNZXJnZWRSZXN1bHQoUmVzdWx0W10gcmVzLCBSZXN1\nbHRDb21wYXJhdG9yIGNvbXApIHsKICAgICAgICBfcmVzID0gcmVzOwogICAg\nICAgIF9jb21wID0gY29tcDsKICAgICAgICBfb3JkZXIgPSAoY29tcCA9PSBu\ndWxsKSA/IG51bGwgOiBuZXcgT2JqZWN0W3Jlcy5sZW5ndGhdOwogICAgICAg\nIF9zdGF0dXMgPSAoY29tcCA9PSBudWxsKSA/IG51bGwgOiBuZXcgYnl0ZVty\nZXMubGVuZ3RoXTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldEVhZ2Vy\nKEZpZWxkTWFwcGluZyBrZXkpIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4\nXS5nZXRFYWdlcihrZXkpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHB1dEVh\nZ2VyKEZpZWxkTWFwcGluZyBrZXksIE9iamVjdCByZXMpIHsKICAgICAgICBf\ncmVzW19pZHhdLnB1dEVhZ2VyKGtleSwgcmVzKTsKICAgIH0KCiAgICBwdWJs\naWMgSm9pbnMgbmV3Sm9pbnMoKSB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0ubmV3Sm9pbnMoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBjbG9zZSgp\nIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9yZXMubGVuZ3RoOyBp\nKyspCiAgICAgICAgICAgIF9yZXNbaV0uY2xvc2UoKTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBpc0xvY2tpbmcoKSB7CiAgICAgICAgcmV0dXJuIF9y\nZXNbX2lkeF0uaXNMb2NraW5nKCk7CiAgICB9CgogICAgcHVibGljIGJvb2xl\nYW4gc3VwcG9ydHNSYW5kb21BY2Nlc3MoKQogICAgICAgIHRocm93cyBTUUxF\neGNlcHRpb24gewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBw\ndWJsaWMgYm9vbGVhbiBhYnNvbHV0ZShpbnQgcm93KQogICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRl\nZEV4Y2VwdGlvbigpOwogICAgfQoKICAgIHB1YmxpYyBib29sZWFuIG5leHQo\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIGlmIChf\ncHVzaGVkQmFjaykgewogICAgICAgICAgICBfcHVzaGVkQmFjayA9IGZhbHNl\nOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAg\nIGlmIChfY29tcCA9PSBudWxsKSB7CiAgICAgICAgICAgIHdoaWxlICghX3Jl\nc1tfaWR4XS5uZXh0KCkpIHsKICAgICAgICAgICAgICAgIGlmIChfaWR4ID09\nIF9yZXMubGVuZ3RoIC0gMSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4g\nZmFsc2U7CiAgICAgICAgICAgICAgICBfaWR4Kys7CiAgICAgICAgICAgIH0K\nICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICAv\nLyBvcmRlcmluZyBpcyBpbnZvbHZlZDsgZXh0cmFjdCBvcmRlciB2YWx1ZXMg\nZnJvbSBlYWNoIHJlc3VsdAogICAgICAgIGJvb2xlYW4gaGFzVmFsdWUgPSBm\nYWxzZTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9zdGF0dXMubGVu\nZ3RoOyBpKyspIHsKICAgICAgICAgICAgc3dpdGNoIChfc3RhdHVzW2ldKSB7\nCiAgICAgICAgICAgICAgICBjYXNlIE5FWFQ6CiAgICAgICAgICAgICAgICAg\nICAgaWYgKF9yZXNbaV0ubmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAg\nICAgIGhhc1ZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAg\nX3N0YXR1c1tpXSA9IENVUlJFTlQ7CiAgICAgICAgICAgICAgICAgICAgICAg\nIF9vcmRlcltpXSA9IF9jb21wLmdldE9yZGVyaW5nVmFsdWUoX3Jlc1tpXSwg\naSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlCiAgICAgICAgICAgICAg\nICAgICAgICAgIF9zdGF0dXNbaV0gPSBET05FOwogICAgICAgICAgICAgICAg\nICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBDVVJSRU5UOgogICAg\nICAgICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAg\nICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAg\nICAgLy8gYWxsIHJlc3VsdHMgZXhoYXVzdGVkCiAgICAgICAgaWYgKCFoYXNW\nYWx1ZSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAvLyBm\nb3IgYWxsIHJlc3VsdHMgd2l0aCB2YWx1ZXMsIGZpbmQgdGhlICdsZWFzdCcg\nb25lIGFjY29yZGluZyB0bwogICAgICAgIC8vIHRoZSBjb21wYXJhdG9yCiAg\nICAgICAgaW50IGxlYXN0ID0gLTE7CiAgICAgICAgT2JqZWN0IG9yZGVyVmFs\nID0gbnVsbDsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IF9vcmRlci5s\nZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoX3N0YXR1c1tpXSAhPSBD\nVVJSRU5UKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAg\nIGlmIChsZWFzdCA9PSAtMSB8fCBfY29tcC5jb21wYXJlKF9vcmRlcltpXSwg\nb3JkZXJWYWwpIDwgMCkgewogICAgICAgICAgICAgICAgbGVhc3QgPSBpOwog\nICAgICAgICAgICAgICAgb3JkZXJWYWwgPSBfb3JkZXJbaV07CiAgICAgICAg\nICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIG1ha2UgdGhlIGN1cnJlbnQg\ncmVzdWx0IHRoZSBvbmUgd2l0aCB0aGUgbGVhc3QgdmFsdWUsIGFuZCBjbGVh\ncgogICAgICAgIC8vIHRoZSBjYWNoZWQgdmFsdWUgZm9yIHRoYXQgcmVzdWx0\nCiAgICAgICAgX2lkeCA9IGxlYXN0OwogICAgICAgIF9vcmRlcltsZWFzdF0g\nPSBudWxsOwogICAgICAgIF9zdGF0dXNbbGVhc3RdID0gTkVYVDsKICAgICAg\nICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwdXNoQmFj\naygpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgX3B1\nc2hlZEJhY2sgPSB0cnVlOwogICAgfQoKICAgIHB1YmxpYyBpbnQgc2l6ZSgp\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgaW50IHNp\nemUgPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgX3Jlcy5sZW5n\ndGg7IGkrKykKICAgICAgICAgICAgc2l6ZSArPSBfcmVzW2ldLnNpemUoKTsK\nICAgICAgICByZXR1cm4gc2l6ZTsKICAgIH0KCiAgICBwdWJsaWMgYm9vbGVh\nbiBjb250YWlucyhPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNl\ncHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmNvbnRhaW5zKG9i\naik7CiAgICB9CgogICAgcHVibGljIGJvb2xlYW4gY29udGFpbnNBbGwoT2Jq\nZWN0W10gb2JqcykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5jb250YWluc0FsbChvYmpzKTsKICAg\nIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBjb250YWlucyhDb2x1bW4gY29sLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5jb250YWlucyhjb2wsIGpvaW5zKTsK\nICAgIH0KCiAgICBwdWJsaWMgYm9vbGVhbiBjb250YWluc0FsbChDb2x1bW5b\nXSBjb2xzLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5jb250YWluc0FsbChj\nb2xzLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIENsYXNzTWFwcGluZyBn\nZXRCYXNlTWFwcGluZygpIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5n\nZXRCYXNlTWFwcGluZygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldEJh\nc2VNYXBwaW5nKENsYXNzTWFwcGluZyBtYXBwaW5nKSB7CiAgICAgICAgX3Jl\nc1tfaWR4XS5zZXRCYXNlTWFwcGluZyhtYXBwaW5nKTsKICAgIH0KCiAgICBw\ndWJsaWMgRmllbGRNYXBwaW5nIGdldE1hcHBlZEJ5RmllbGRNYXBwaW5nKCkg\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldE1hcHBlZEJ5RmllbGRN\nYXBwaW5nKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0TWFwcGVkQnlG\naWVsZE1hcHBpbmcoRmllbGRNYXBwaW5nIGZpZWxkTWFwcGluZykgewogICAg\nICAgIF9yZXNbX2lkeF0uc2V0TWFwcGVkQnlGaWVsZE1hcHBpbmcoZmllbGRN\nYXBwaW5nKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldE1hcHBlZEJ5\nVmFsdWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0TWFwcGVk\nQnlWYWx1ZSgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldE1hcHBlZEJ5\nVmFsdWUoT2JqZWN0IG1hcHBlZEJ5VmFsdWUpIHsKICAgICAgICBfcmVzW19p\nZHhdLnNldE1hcHBlZEJ5VmFsdWUobWFwcGVkQnlWYWx1ZSk7CiAgICB9Cgog\nICAgcHVibGljIGludCBpbmRleE9mKCkgewogICAgICAgIHJldHVybiBfcmVz\nW19pZHhdLmluZGV4T2YoKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGxv\nYWQoQ2xhc3NNYXBwaW5nIG1hcHBpbmcsIEpEQkNTdG9yZSBzdG9yZSwKICAg\nICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNoKQogICAgICAgIHRo\ncm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhd\nLmxvYWQobWFwcGluZywgc3RvcmUsIGZldGNoKTsKICAgIH0KCiAgICBwdWJs\naWMgT2JqZWN0IGxvYWQoQ2xhc3NNYXBwaW5nIG1hcHBpbmcsIEpEQkNTdG9y\nZSBzdG9yZSwKICAgICAgICBKREJDRmV0Y2hDb25maWd1cmF0aW9uIGZldGNo\nLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5sb2FkKG1hcHBpbmcsIHN0b3Jl\nLCBmZXRjaCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBBcnJheSBnZXRB\ncnJheShPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEFycmF5KG9iaik7CiAg\nICB9CgogICAgcHVibGljIElucHV0U3RyZWFtIGdldEFzY2lpU3RyZWFtKE9i\namVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAg\nICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0QXNjaWlTdHJlYW0ob2JqKTsKICAg\nIH0KCiAgICBwdWJsaWMgQmlnRGVjaW1hbCBnZXRCaWdEZWNpbWFsKE9iamVj\ndCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIF9yZXNbX2lkeF0uZ2V0QmlnRGVjaW1hbChvYmopOwogICAgfQoK\nICAgIHB1YmxpYyBCaWdJbnRlZ2VyIGdldEJpZ0ludGVnZXIoT2JqZWN0IG9i\naikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1\ncm4gX3Jlc1tfaWR4XS5nZXRCaWdJbnRlZ2VyKG9iaik7CiAgICB9CgogICAg\ncHVibGljIElucHV0U3RyZWFtIGdldEJpbmFyeVN0cmVhbShPYmplY3Qgb2Jq\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfcmVzW19pZHhdLmdldEJpbmFyeVN0cmVhbShvYmopOwogICAgfQoKICAg\nIHB1YmxpYyBJbnB1dFN0cmVhbSBnZXRMT0JTdHJlYW0oSkRCQ1N0b3JlIHN0\nb3JlLCBPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldExPQlN0cmVhbShzdG9y\nZSwgb2JqKTsKICAgIH0KICAgIAogICAgcHVibGljIEJsb2IgZ2V0QmxvYihP\nYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJsb2Iob2JqKTsKICAgIH0KCiAg\nICBwdWJsaWMgYm9vbGVhbiBnZXRCb29sZWFuKE9iamVjdCBvYmopCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNb\nX2lkeF0uZ2V0Qm9vbGVhbihvYmopOwogICAgfQoKICAgIHB1YmxpYyBieXRl\nIGdldEJ5dGUoT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRCeXRlKG9iaik7\nCiAgICB9CgogICAgcHVibGljIGJ5dGVbXSBnZXRCeXRlcyhPYmplY3Qgb2Jq\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfcmVzW19pZHhdLmdldEJ5dGVzKG9iaik7CiAgICB9CgogICAgcHVibGlj\nIENhbGVuZGFyIGdldENhbGVuZGFyKE9iamVjdCBvYmopCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0u\nZ2V0Q2FsZW5kYXIob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgY2hhciBnZXRD\naGFyKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0Q2hhcihvYmopOwogICAg\nfQoKICAgIHB1YmxpYyBSZWFkZXIgZ2V0Q2hhcmFjdGVyU3RyZWFtKE9iamVj\ndCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIF9yZXNbX2lkeF0uZ2V0Q2hhcmFjdGVyU3RyZWFtKG9iaik7CiAg\nICB9CgogICAgcHVibGljIENsb2IgZ2V0Q2xvYihPYmplY3Qgb2JqKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVz\nW19pZHhdLmdldENsb2Iob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgRGF0ZSBn\nZXREYXRlKE9iamVjdCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0RGF0ZShvYmopOwog\nICAgfQoKICAgIHB1YmxpYyBqYXZhLnNxbC5EYXRlIGdldERhdGUoT2JqZWN0\nIG9iaiwgQ2FsZW5kYXIgY2FsKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldERhdGUob2JqLCBj\nYWwpOwogICAgfQoKICAgIHB1YmxpYyBkb3VibGUgZ2V0RG91YmxlKE9iamVj\ndCBvYmopCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAg\ncmV0dXJuIF9yZXNbX2lkeF0uZ2V0RG91YmxlKG9iaik7CiAgICB9CgogICAg\ncHVibGljIGZsb2F0IGdldEZsb2F0KE9iamVjdCBvYmopCiAgICAgICAgdGhy\nb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0u\nZ2V0RmxvYXQob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldEludChP\nYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAg\nICAgIHJldHVybiBfcmVzW19pZHhdLmdldEludChvYmopOwogICAgfQoKICAg\nIHB1YmxpYyBMb2NhbGUgZ2V0TG9jYWxlKE9iamVjdCBvYmopCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0uZ2V0TG9jYWxlKG9iaik7CiAgICB9CgogICAgcHVibGljIGxvbmcgZ2V0\nTG9uZyhPYmplY3Qgb2JqKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldExvbmcob2JqKTsKICAg\nIH0KCiAgICBwdWJsaWMgTnVtYmVyIGdldE51bWJlcihPYmplY3Qgb2JqKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBf\ncmVzW19pZHhdLmdldE51bWJlcihvYmopOwogICAgfQoKICAgIHB1YmxpYyBP\nYmplY3QgZ2V0T2JqZWN0KE9iamVjdCBvYmosIGludCBtZXRhVHlwZSwgT2Jq\nZWN0IGFyZykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRPYmplY3Qob2JqLCBtZXRhVHlwZSwg\nYXJnKTsKICAgIH0KCiAgICBwdWJsaWMgT2JqZWN0IGdldFNRTE9iamVjdChP\nYmplY3Qgb2JqLCBNYXAgbWFwKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldFNRTE9iamVjdChv\nYmosIG1hcCk7CiAgICB9CgogICAgcHVibGljIFJlZiBnZXRSZWYoT2JqZWN0\nIG9iaiwgTWFwIG1hcCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsK\nICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRSZWYob2JqLCBtYXApOwog\nICAgfQoKICAgIHB1YmxpYyBzaG9ydCBnZXRTaG9ydChPYmplY3Qgb2JqKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBf\ncmVzW19pZHhdLmdldFNob3J0KG9iaik7CiAgICB9CgogICAgcHVibGljIFN0\ncmluZyBnZXRTdHJpbmcoT2JqZWN0IG9iaikKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRTdHJp\nbmcob2JqKTsKICAgIH0KCiAgICBwdWJsaWMgVGltZSBnZXRUaW1lKE9iamVj\ndCBvYmosIENhbGVuZGFyIGNhbCkKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRUaW1lKG9iaiwg\nY2FsKTsKICAgIH0KCiAgICBwdWJsaWMgVGltZXN0YW1wIGdldFRpbWVzdGFt\ncChPYmplY3Qgb2JqLCBDYWxlbmRhciBjYWwpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0VGlt\nZXN0YW1wKG9iaiwgY2FsKTsKICAgIH0KCiAgICBwdWJsaWMgQXJyYXkgZ2V0\nQXJyYXkoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dz\nIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0\nQXJyYXkoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIElucHV0U3Ry\nZWFtIGdldEFzY2lpU3RyZWFtKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBf\ncmVzW19pZHhdLmdldEFzY2lpU3RyZWFtKGNvbCwgam9pbnMpOwogICAgfQoK\nICAgIHB1YmxpYyBCaWdEZWNpbWFsIGdldEJpZ0RlY2ltYWwoQ29sdW1uIGNv\nbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0QmlnRGVjaW1hbChjb2ws\nIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgQmlnSW50ZWdlciBnZXRCaWdJ\nbnRlZ2VyKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93\ncyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdl\ndEJpZ0ludGVnZXIoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIElu\ncHV0U3RyZWFtIGdldEJpbmFyeVN0cmVhbShDb2x1bW4gY29sLCBKb2lucyBq\nb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICBy\nZXR1cm4gX3Jlc1tfaWR4XS5nZXRCaW5hcnlTdHJlYW0oY29sLCBqb2lucyk7\nCiAgICB9CgogICAgcHVibGljIEJsb2IgZ2V0QmxvYihDb2x1bW4gY29sLCBK\nb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAg\nICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRCbG9iKGNvbCwgam9pbnMpOwog\nICAgfQoKICAgIHB1YmxpYyBib29sZWFuIGdldEJvb2xlYW4oQ29sdW1uIGNv\nbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7\nCiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0Qm9vbGVhbihjb2wsIGpv\naW5zKTsKICAgIH0KCiAgICBwdWJsaWMgYnl0ZSBnZXRCeXRlKENvbHVtbiBj\nb2wsIEpvaW5zIGpvaW5zKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24g\newogICAgICAgIHJldHVybiBfcmVzW19pZHhdLmdldEJ5dGUoY29sLCBqb2lu\ncyk7CiAgICB9CgogICAgcHVibGljIGJ5dGVbXSBnZXRCeXRlcyhDb2x1bW4g\nY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9u\nIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRCeXRlcyhjb2wsIGpv\naW5zKTsKICAgIH0KCiAgICBwdWJsaWMgQ2FsZW5kYXIgZ2V0Q2FsZW5kYXIo\nQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4\nY2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0Q2FsZW5k\nYXIoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIGNoYXIgZ2V0Q2hh\ncihDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRDaGFy\nKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBSZWFkZXIgZ2V0Q2hh\ncmFjdGVyU3RyZWFtKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAgICAg\nIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVzW19p\nZHhdLmdldENoYXJhY3RlclN0cmVhbShjb2wsIGpvaW5zKTsKICAgIH0KCiAg\nICBwdWJsaWMgQ2xvYiBnZXRDbG9iKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5z\nKQogICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBfcmVzW19pZHhdLmdldENsb2IoY29sLCBqb2lucyk7CiAgICB9CgogICAg\ncHVibGljIERhdGUgZ2V0RGF0ZShDb2x1bW4gY29sLCBKb2lucyBqb2lucykK\nICAgICAgICB0aHJvd3MgU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4g\nX3Jlc1tfaWR4XS5nZXREYXRlKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1\nYmxpYyBqYXZhLnNxbC5EYXRlIGdldERhdGUoQ29sdW1uIGNvbCwgQ2FsZW5k\nYXIgY2FsLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FMRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXREYXRlKGNvbCwg\nY2FsLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIGRvdWJsZSBnZXREb3Vi\nbGUoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0RG91\nYmxlKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBmbG9hdCBnZXRG\nbG9hdChDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRG\nbG9hdChjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldElu\ndChDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3MgU1FM\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRJbnQo\nY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIExvY2FsZSBnZXRMb2Nh\nbGUoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0TG9j\nYWxlKGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1YmxpYyBsb25nIGdldExv\nbmcoQ29sdW1uIGNvbCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0TG9u\nZyhjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBwdWJsaWMgTnVtYmVyIGdldE51\nbWJlcihDb2x1bW4gY29sLCBKb2lucyBqb2lucykKICAgICAgICB0aHJvd3Mg\nU1FMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gX3Jlc1tfaWR4XS5nZXRO\ndW1iZXIoY29sLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIE9iamVjdCBn\nZXRPYmplY3QoQ29sdW1uIGNvbCwgT2JqZWN0IGFyZywgSm9pbnMgam9pbnMp\nCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIF9yZXNbX2lkeF0uZ2V0T2JqZWN0KGNvbCwgYXJnLCBqb2lucyk7CiAgICB9\nCgogICAgcHVibGljIE9iamVjdCBnZXRTUUxPYmplY3QoQ29sdW1uIGNvbCwg\nTWFwIG1hcCwgSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2Vw\ndGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0U1FMT2JqZWN0\nKGNvbCwgbWFwLCBqb2lucyk7CiAgICB9CgogICAgcHVibGljIFJlZiBnZXRS\nZWYoQ29sdW1uIGNvbCwgTWFwIG1hcCwgSm9pbnMgam9pbnMpCiAgICAgICAg\ndGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lk\neF0uZ2V0UmVmKGNvbCwgbWFwLCBqb2lucyk7CiAgICB9CgogICAgcHVibGlj\nIHNob3J0IGdldFNob3J0KENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQogICAg\nICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBfcmVz\nW19pZHhdLmdldFNob3J0KGNvbCwgam9pbnMpOwogICAgfQoKICAgIHB1Ymxp\nYyBTdHJpbmcgZ2V0U3RyaW5nKENvbHVtbiBjb2wsIEpvaW5zIGpvaW5zKQog\nICAgICAgIHRocm93cyBTUUxFeGNlcHRpb24gewogICAgICAgIHJldHVybiBf\ncmVzW19pZHhdLmdldFN0cmluZyhjb2wsIGpvaW5zKTsKICAgIH0KCiAgICBw\ndWJsaWMgVGltZSBnZXRUaW1lKENvbHVtbiBjb2wsIENhbGVuZGFyIGNhbCwg\nSm9pbnMgam9pbnMpCiAgICAgICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAg\nICAgICAgcmV0dXJuIF9yZXNbX2lkeF0uZ2V0VGltZShjb2wsIGNhbCwgam9p\nbnMpOwogICAgfQoKICAgIHB1YmxpYyBUaW1lc3RhbXAgZ2V0VGltZXN0YW1w\nKENvbHVtbiBjb2wsIENhbGVuZGFyIGNhbCwgSm9pbnMgam9pbnMpCiAgICAg\nICAgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNb\nX2lkeF0uZ2V0VGltZXN0YW1wKGNvbCwgY2FsLCBqb2lucyk7CiAgICB9Cgog\nICAgcHVibGljIGJvb2xlYW4gd2FzTnVsbCgpCiAgICAgICAgdGhyb3dzIFNR\nTEV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF9yZXNbX2lkeF0ud2FzTnVs\nbCgpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHN0YXJ0RGF0YVJlcXVlc3Qo\nT2JqZWN0IG1hcHBpbmcpIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIF9yZXMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIF9yZXNbaV0uc3RhcnRE\nYXRhUmVxdWVzdChtYXBwaW5nKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBl\nbmREYXRhUmVxdWVzdCgpIHsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8\nIF9yZXMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIF9yZXNbaV0uZW5kRGF0\nYVJlcXVlc3QoKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbXBhcmF0b3Ig\nZm9yIG9yZGVyaW5nIHJlc3VsdCByb3dzLgogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIGludGVyZmFjZSBSZXN1bHRDb21wYXJhdG9yCiAgICAgICAgZXh0\nZW5kcyBDb21wYXJhdG9yIHsKCiAgICAgICAgLyoqCiAgICAgICAgICogUmV0\ndXJuIHRoZSBvcmRlcmluZyB2YWx1ZSBvZiB0aGUgY3VycmVudCByb3cgb2Yg\ndGhlIGdpdmVuIHJlc3VsdC4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMg\nT2JqZWN0IGdldE9yZGVyaW5nVmFsdWUoUmVzdWx0IHJlcywgaW50IGlkeCk7\nCiAgICB9Cn0K\n","encoding":"base64"}

