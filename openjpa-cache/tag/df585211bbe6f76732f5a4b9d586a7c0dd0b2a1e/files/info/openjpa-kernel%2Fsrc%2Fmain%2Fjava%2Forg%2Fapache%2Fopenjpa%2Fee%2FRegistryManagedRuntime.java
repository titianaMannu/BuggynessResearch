{"sha":"eb8350c8cac2c4cf1aa8cf128cbb3513fede34db","node_id":"MDQ6QmxvYjIwNjM2NDplYjgzNTBjOGNhYzJjNGNmMWFhOGNmMTI4Y2JiMzUxM2ZlZGUzNGRi","size":6606,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/eb8350c8cac2c4cf1aa8cf128cbb3513fede34db","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZWU7CgppbXBvcnQgamF2YXgu\nbmFtaW5nLkNvbnRleHQ7CmltcG9ydCBqYXZheC5uYW1pbmcuSW5pdGlhbENv\nbnRleHQ7CmltcG9ydCBqYXZheC50cmFuc2FjdGlvbi5IZXVyaXN0aWNNaXhl\nZEV4Y2VwdGlvbjsKaW1wb3J0IGphdmF4LnRyYW5zYWN0aW9uLkhldXJpc3Rp\nY1JvbGxiYWNrRXhjZXB0aW9uOwppbXBvcnQgamF2YXgudHJhbnNhY3Rpb24u\nSW52YWxpZFRyYW5zYWN0aW9uRXhjZXB0aW9uOwppbXBvcnQgamF2YXgudHJh\nbnNhY3Rpb24uTm90U3VwcG9ydGVkRXhjZXB0aW9uOwppbXBvcnQgamF2YXgu\ndHJhbnNhY3Rpb24uUm9sbGJhY2tFeGNlcHRpb247CmltcG9ydCBqYXZheC50\ncmFuc2FjdGlvbi5TeW5jaHJvbml6YXRpb247CmltcG9ydCBqYXZheC50cmFu\nc2FjdGlvbi5TeXN0ZW1FeGNlcHRpb247CmltcG9ydCBqYXZheC50cmFuc2Fj\ndGlvbi5UcmFuc2FjdGlvbjsKaW1wb3J0IGphdmF4LnRyYW5zYWN0aW9uLlRy\nYW5zYWN0aW9uTWFuYWdlcjsKaW1wb3J0IGphdmF4LnRyYW5zYWN0aW9uLlRy\nYW5zYWN0aW9uU3luY2hyb25pemF0aW9uUmVnaXN0cnk7CmltcG9ydCBqYXZh\neC50cmFuc2FjdGlvbi54YS5YQVJlc291cmNlOwoKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5saWIudXRpbC5Mb2NhbGl6ZXI7CgovKioKICogSW1wbGVt\nZW50YXRpb24gb2YgdGhlIHtAbGluayBNYW5hZ2VkUnVudGltZX0gaW50ZXJm\nYWNlIHRoYXQgdXNlcyAKICogdGhlIHtAbGluayBUcmFuc2FjdGlvblN5bmNo\ncm9uaXphdGlvblJlZ2lzdHJ5fSBpbnRlcmZhY2UgKG5ldyBpbiBKVEEgMS4x\nKQogKiB0byBjcmVhdGUgYSB7QGxpbmsgVHJhbnNhY3Rpb25NYW5hZ2VyfSBm\nYWNhZGUgZm9yIGNvbnRyb2xsaW5nIHRyYW5zYWN0aW9ucy4KICoKICogQGF1\ndGhvciBNYXJjIFBydWQnaG9tbWVhdXgKICogQHNpbmNlIDEuMC4wCiAqLwpw\ndWJsaWMgY2xhc3MgUmVnaXN0cnlNYW5hZ2VkUnVudGltZQogICAgaW1wbGVt\nZW50cyBNYW5hZ2VkUnVudGltZSB7CiAgICBwcml2YXRlIFN0cmluZyBfcmVn\naXN0cnlOYW1lID0KICAgICAgICAiamF2YTpjb21wL1RyYW5zYWN0aW9uU3lu\nY2hyb25pemF0aW9uUmVnaXN0cnkiOwogICAgcHJpdmF0ZSBUcmFuc2FjdGlv\nbk1hbmFnZXJSZWdpc3RyeUZhY2FkZSBfdG0gPSBudWxsOwogICAgCiAgICBw\ncml2YXRlIHN0YXRpYyBMb2NhbGl6ZXIgX2xvYyA9CiAgICAgICAgTG9jYWxp\nemVyLmZvclBhY2thZ2UoUmVnaXN0cnlNYW5hZ2VkUnVudGltZS5jbGFzcyk7\nCgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIGNhY2hlZCBUcmFuc2FjdGlv\nbk1hbmFnZXIgaW5zdGFuY2UuCiAgICAgKi8KICAgIHB1YmxpYyBUcmFuc2Fj\ndGlvbk1hbmFnZXIgZ2V0VHJhbnNhY3Rpb25NYW5hZ2VyKCkgdGhyb3dzIEV4\nY2VwdGlvbiB7CiAgICAgICAgaWYgKF90bSA9PSBudWxsKSB7CiAgICAgICAg\nICAgIENvbnRleHQgY3R4ID0gbmV3IEluaXRpYWxDb250ZXh0KCk7CiAgICAg\nICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBfdG0gPSBuZXcgVHJhbnNh\nY3Rpb25NYW5hZ2VyUmVnaXN0cnlGYWNhZGUKICAgICAgICAgICAgICAgICAg\nICAoKFRyYW5zYWN0aW9uU3luY2hyb25pemF0aW9uUmVnaXN0cnkpIGN0eC4K\nICAgICAgICAgICAgICAgICAgICAgICAgbG9va3VwKF9yZWdpc3RyeU5hbWUp\nKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIGN0\neC5jbG9zZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJl\ndHVybiBfdG07CiAgICB9CgogICAgcHVibGljIHZvaWQgc2V0Um9sbGJhY2tP\nbmx5KFRocm93YWJsZSBjYXVzZSkKICAgICAgICB0aHJvd3MgRXhjZXB0aW9u\nIHsKICAgICAgICAvLyB0aGVyZSBpcyBubyBnZW5lcmljIHN1cHBvcnQgZm9y\nIHNldHRpbmcgdGhlIHJvbGxiYWNrIGNhdXNlCiAgICAgICAgZ2V0VHJhbnNh\nY3Rpb25NYW5hZ2VyKCkuZ2V0VHJhbnNhY3Rpb24oKS5zZXRSb2xsYmFja09u\nbHkoKTsKICAgIH0KCiAgICBwdWJsaWMgVGhyb3dhYmxlIGdldFJvbGxiYWNr\nQ2F1c2UoKQogICAgICAgIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIC8v\nIHRoZXJlIGlzIG5vIGdlbmVyaWMgc3VwcG9ydCBmb3Igc2V0dGluZyB0aGUg\ncm9sbGJhY2sgY2F1c2UKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAg\nICBwdWJsaWMgdm9pZCBzZXRSZWdpc3RyeU5hbWUoU3RyaW5nIHJlZ2lzdHJ5\nTmFtZSkgewogICAgICAgIF9yZWdpc3RyeU5hbWUgPSByZWdpc3RyeU5hbWU7\nCiAgICB9CgogICAgcHVibGljIFN0cmluZyBnZXRSZWdpc3RyeU5hbWUoKSB7\nCiAgICAgICAgcmV0dXJuIF9yZWdpc3RyeU5hbWU7CiAgICB9CgogICAgcHVi\nbGljIE9iamVjdCBnZXRUcmFuc2FjdGlvbktleSgpIHRocm93cyBFeGNlcHRp\nb24sIFN5c3RlbUV4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJuIF90bS5nZXRU\ncmFuc2FjdGlvbktleSgpOwogICAgfQoKICAgIC8qKiAKICAgICAqICBBIHtA\nbGluayBUcmFuc2FjdGlvbk1hbmFnZXJ9IGFuZCB7QGxpbmsgVHJhbnNhY3Rp\nb259IGZhY2FkZQogICAgICogIHRoYXQgZGVsZWdhdGVzIHRoZSBhcHByb3By\naWF0ZSBtZXRob2RzIHRvIHRoZSBpbnRlcm5hbGx5LWhlbGQKICAgICAqICB7\nQGxpbmsgVHJhbnNhY3Rpb25TeW5jaHJvbml6YXRpb25SZWdpc3RyeX0uIFNp\nbmNlIHRoZQogICAgICogIHJlZ2lzdHJ5IGlzIG5vdCBhYmxlIHRvIHN0YXJ0\nIG9yIGVuZCB0cmFuc2FjdGlvbnMsIGFsbCB0cmFuc2FjdGlvbgogICAgICog\nIGNvbnRyb2wgbWV0aG9kcyB3aWxsIGp1c3QgdGhyb3cgYSB7QGxpbmsgU3lz\ndGVtRXhjZXB0aW9ufS4KICAgICAqICAKICAgICAqICBAYXV0aG9yICBNYXJj\nIFBydWQnaG9tbWVhdXgKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBjbGFz\ncyBUcmFuc2FjdGlvbk1hbmFnZXJSZWdpc3RyeUZhY2FkZQogICAgICAgIGlt\ncGxlbWVudHMgVHJhbnNhY3Rpb25NYW5hZ2VyLCBUcmFuc2FjdGlvbiB7CiAg\nICAgICAgcHJpdmF0ZSBmaW5hbCBUcmFuc2FjdGlvblN5bmNocm9uaXphdGlv\nblJlZ2lzdHJ5IF9yZWdpc3RyeTsKCiAgICAgICAgcHVibGljIFRyYW5zYWN0\naW9uTWFuYWdlclJlZ2lzdHJ5RmFjYWRlCiAgICAgICAgICAgIChUcmFuc2Fj\ndGlvblN5bmNocm9uaXphdGlvblJlZ2lzdHJ5IHJlZ2lzdHJ5KSB7CiAgICAg\nICAgICAgIF9yZWdpc3RyeSA9IHJlZ2lzdHJ5OwogICAgICAgIH0KCgogICAg\nICAgIHB1YmxpYyBUcmFuc2FjdGlvbiBnZXRUcmFuc2FjdGlvbigpCiAgICAg\nICAgICAgIHRocm93cyBTeXN0ZW1FeGNlcHRpb24gewogICAgICAgICAgICBy\nZXR1cm4gVHJhbnNhY3Rpb25NYW5hZ2VyUmVnaXN0cnlGYWNhZGUudGhpczsK\nICAgICAgICB9CgoKICAgICAgICBwdWJsaWMgdm9pZCByZWdpc3RlclN5bmNo\ncm9uaXphdGlvbihTeW5jaHJvbml6YXRpb24gc3luYykKICAgICAgICAgICAg\ndGhyb3dzIFJvbGxiYWNrRXhjZXB0aW9uLCBJbGxlZ2FsU3RhdGVFeGNlcHRp\nb24sIFN5c3RlbUV4Y2VwdGlvbiB7CiAgICAgICAgICAgIF9yZWdpc3RyeS5y\nZWdpc3RlckludGVycG9zZWRTeW5jaHJvbml6YXRpb24oc3luYyk7CiAgICAg\nICAgfQoKCiAgICAgICAgcHVibGljIHZvaWQgc2V0Um9sbGJhY2tPbmx5KCkK\nICAgICAgICAgICAgdGhyb3dzIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgU3lz\ndGVtRXhjZXB0aW9uIHsKICAgICAgICAgICAgX3JlZ2lzdHJ5LnNldFJvbGxi\nYWNrT25seSgpOwogICAgICAgIH0KCgogICAgICAgIHB1YmxpYyBpbnQgZ2V0\nU3RhdHVzKCkKICAgICAgICAgICAgdGhyb3dzIFN5c3RlbUV4Y2VwdGlvbiB7\nCiAgICAgICAgICAgIHJldHVybiBfcmVnaXN0cnkuZ2V0VHJhbnNhY3Rpb25T\ndGF0dXMoKTsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBPYmplY3QgZ2V0\nVHJhbnNhY3Rpb25LZXkoKSB7CiAgICAgICAgICAgIHJldHVybiBfcmVnaXN0\ncnkuZ2V0VHJhbnNhY3Rpb25LZXkoKTsKICAgICAgICB9CgogICAgICAgIC8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAgIC8vIFVuc3Vw\ncG9ydGVkIG1ldGhvZHMgZm9sbG93CiAgICAgICAgLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vCgogICAgICAgIHB1YmxpYyB2b2lkIGJlZ2luKCkK\nICAgICAgICAgICAgdGhyb3dzIE5vdFN1cHBvcnRlZEV4Y2VwdGlvbiwgU3lz\ndGVtRXhjZXB0aW9uIHsKICAgICAgICAgICAgdGhyb3cgbmV3IE5vdFN1cHBv\ncnRlZEV4Y2VwdGlvbigpOwogICAgICAgIH0KCgogICAgICAgIHB1YmxpYyB2\nb2lkIGNvbW1pdCgpCiAgICAgICAgICAgIHRocm93cyBSb2xsYmFja0V4Y2Vw\ndGlvbiwgSGV1cmlzdGljTWl4ZWRFeGNlcHRpb24sIFN5c3RlbUV4Y2VwdGlv\nbiwKICAgICAgICAgICAgICAgIEhldXJpc3RpY1JvbGxiYWNrRXhjZXB0aW9u\nLCBTZWN1cml0eUV4Y2VwdGlvbiwKICAgICAgICAgICAgICAgIElsbGVnYWxT\ndGF0ZUV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHRocm93IG5ldyBTeXN0ZW1F\neGNlcHRpb24oKTsKICAgICAgICB9CgoKICAgICAgICBwdWJsaWMgdm9pZCBy\nZXN1bWUoVHJhbnNhY3Rpb24gdG9iaikKICAgICAgICAgICAgdGhyb3dzIElu\ndmFsaWRUcmFuc2FjdGlvbkV4Y2VwdGlvbiwgSWxsZWdhbFN0YXRlRXhjZXB0\naW9uLAogICAgICAgICAgICAgICAgU3lzdGVtRXhjZXB0aW9uIHsKICAgICAg\nICAgICAgdGhyb3cgbmV3IFN5c3RlbUV4Y2VwdGlvbigpOwogICAgICAgIH0K\nCgogICAgICAgIHB1YmxpYyB2b2lkIHJvbGxiYWNrKCkKICAgICAgICAgICAg\ndGhyb3dzIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgU2VjdXJpdHlFeGNlcHRp\nb24sIFN5c3RlbUV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHRocm93IG5ldyBT\neXN0ZW1FeGNlcHRpb24oKTsKICAgICAgICB9CgoKICAgICAgICBwdWJsaWMg\ndm9pZCBzZXRUcmFuc2FjdGlvblRpbWVvdXQoaW50IHNlY29uZHMpCiAgICAg\nICAgICAgIHRocm93cyBTeXN0ZW1FeGNlcHRpb24gewogICAgICAgICAgICB0\naHJvdyBuZXcgU3lzdGVtRXhjZXB0aW9uKCk7CiAgICAgICAgfQoKCiAgICAg\nICAgcHVibGljIFRyYW5zYWN0aW9uIHN1c3BlbmQoKQogICAgICAgICAgICB0\naHJvd3MgU3lzdGVtRXhjZXB0aW9uIHsKICAgICAgICAgICAgdGhyb3cgbmV3\nIFN5c3RlbUV4Y2VwdGlvbigpOwogICAgICAgIH0KCgogICAgICAgIHB1Ymxp\nYyBib29sZWFuIGRlbGlzdFJlc291cmNlKFhBUmVzb3VyY2UgeGFSZXMsIGlu\ndCBmbGFnKQogICAgICAgICAgICB0aHJvd3MgSWxsZWdhbFN0YXRlRXhjZXB0\naW9uLCBTeXN0ZW1FeGNlcHRpb24gewogICAgICAgICAgICB0aHJvdyBuZXcg\nU3lzdGVtRXhjZXB0aW9uKCk7CiAgICAgICAgfQoKCiAgICAgICAgcHVibGlj\nIGJvb2xlYW4gZW5saXN0UmVzb3VyY2UoWEFSZXNvdXJjZSB4YVJlcykKICAg\nICAgICAgICAgdGhyb3dzIFJvbGxiYWNrRXhjZXB0aW9uLCBJbGxlZ2FsU3Rh\ndGVFeGNlcHRpb24sIFN5c3RlbUV4Y2VwdGlvbiB7CiAgICAgICAgICAgIHRo\ncm93IG5ldyBTeXN0ZW1FeGNlcHRpb24oKTsKICAgICAgICB9CiAgICB9CiAg\nICAKICAgIC8qKgogICAgICogPFA+CiAgICAgKiBSZWdpc3RyeU1hbmFnZWRS\ndW50aW1lIGNhbm5vdCBzdXNwZW5kIHRyYW5zYWN0aW9ucy4KICAgICAqIDwv\nUD4KICAgICAqLwogICAgcHVibGljIHZvaWQgZG9Ob25UcmFuc2FjdGlvbmFs\nV29yayhSdW5uYWJsZSBydW5uYWJsZSkKICAgICAgICB0aHJvd3MgTm90U3Vw\ncG9ydGVkRXhjZXB0aW9uIHsKICAgICAgICB0aHJvdyBuZXcgTm90U3VwcG9y\ndGVkRXhjZXB0aW9uKF9sb2MuZ2V0KCJ0c3ItY2Fubm90LXN1c3BlbmQiKQog\nICAgICAgICAgICAuZ2V0TWVzc2FnZSgpKTsKICAgIH0KfQoK\n","encoding":"base64"}

