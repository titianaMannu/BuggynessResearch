{"sha":"8b578368ad881978faa631f3fefc1110242a9050","node_id":"MDQ6QmxvYjIwNjM2NDo4YjU3ODM2OGFkODgxOTc4ZmFhNjMxZjNmZWZjMTExMDI0MmE5MDUw","size":24530,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8b578368ad881978faa631f3fefc1110242a9050","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEuZW5oYW5jZTsKCmltcG9ydCBq\nYXZhLmxhbmcucmVmbGVjdC5BY2Nlc3NpYmxlT2JqZWN0OwppbXBvcnQgamF2\nYS5sYW5nLnJlZmxlY3QuRmllbGQ7CmltcG9ydCBqYXZhLmxhbmcucmVmbGVj\ndC5JbnZvY2F0aW9uVGFyZ2V0RXhjZXB0aW9uOwppbXBvcnQgamF2YS5sYW5n\nLnJlZmxlY3QuTWV0aG9kOwppbXBvcnQgamF2YS5sYW5nLnJlZmxlY3QuTW9k\naWZpZXI7CmltcG9ydCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXI7\nCgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25zLmxhbmcuU3RyaW5nVXRpbHM7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuSjJEb1ByaXZI\nZWxwZXI7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9j\nYWxpemVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnV0aWwuR2VuZXJh\nbEV4Y2VwdGlvbjsgCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5V\nc2VyRXhjZXB0aW9uOyAKCi8qKgogKiBSZWZsZWN0aW9uIHV0aWxpdGllcyB1\nc2VkIHRvIHN1cHBvcnQgYW5kIGF1Z21lbnQgZW5oYW5jZW1lbnQuICBVc2Vk\nIGJvdGgKICogYXQgZW5oYW5jZW1lbnQgdGltZSBhbmQgYXQgcnVudGltZS4K\nICoKICogQGF1dGhvciBBYmUgV2hpdGUKICovCnB1YmxpYyBjbGFzcyBSZWZs\nZWN0aW9uIHsKCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2NhbGl6ZXIg\nX2xvYyA9IExvY2FsaXplci5mb3JQYWNrYWdlCiAgICAgICAgKFJlZmxlY3Rp\nb24uY2xhc3MpOwoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBnZXR0ZXIg\nbWV0aG9kIG1hdGNoaW5nIHRoZSBnaXZlbiBwcm9wZXJ0eSBuYW1lLCBvcHRp\nb25hbGx5CiAgICAgKiB0aHJvd2luZyBhbiBleGNlcHRpb24gaWYgbm9uZS4K\nICAgICAqLwogICAgcHVibGljIHN0YXRpYyBNZXRob2QgZmluZEdldHRlcihD\nbGFzcyBjbHMsIFN0cmluZyBwcm9wLCBib29sZWFuIG11c3RFeGlzdCkgewog\nICAgICAgIHByb3AgPSBTdHJpbmdVdGlscy5jYXBpdGFsaXplKHByb3ApOwog\nICAgICAgIFN0cmluZyBuYW1lID0gImdldCIgKyBwcm9wOwogICAgICAgIE1l\ndGhvZCBtOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIHRoaXMgYWxn\nb3JpdGhtIHNlYXJjaGVzIGZvciBhIGdldDxwcm9wPiBvciBpczxwcm9wPiBt\nZXRob2QgaW4KICAgICAgICAgICAgLy8gYSBicmVhZHRoLWZpcnN0IG1hbm5l\nci4KICAgICAgICAgICAgZm9yIChDbGFzcyBjID0gY2xzOyBjICE9IG51bGwg\nJiYgYyAhPSBPYmplY3QuY2xhc3M7CiAgICAgICAgICAgICAgICBjID0gYy5n\nZXRTdXBlcmNsYXNzKCkpIHsKICAgICAgICAgICAgICAgIG0gPSBnZXREZWNs\nYXJlZE1ldGhvZChjLCBuYW1lLCBudWxsKTsKICAgICAgICAgICAgICAgIGlm\nIChtICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbTsK\nICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAg\nbSA9IGdldERlY2xhcmVkTWV0aG9kKGMsICJpcyIgKyBwcm9wLCBudWxsKTsK\nICAgICAgICAgICAgICAgICAgICBpZiAobSAhPSBudWxsICYmIChtLmdldFJl\ndHVyblR5cGUoKSA9PSBib29sZWFuLmNsYXNzCiAgICAgICAgICAgICAgICAg\nICAgICAgIHx8IG0uZ2V0UmV0dXJuVHlwZSgpID09IEJvb2xlYW4uY2xhc3Mp\nKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbTsKICAgICAgICAg\nICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKEV4Y2Vw\ndGlvbiBlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBHZW5lcmFsRXhjZXB0\naW9uKGUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG11c3RFeGlzdCkKICAg\nICAgICAgICAgdGhyb3cgbmV3IFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoImJh\nZC1nZXR0ZXIiLCBjbHMsIHByb3ApKTsKICAgICAgICByZXR1cm4gbnVsbDsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgc2V0dGVyIG1ldGhv\nZCBtYXRjaGluZyB0aGUgZ2l2ZW4gcHJvcGVydHkgbmFtZSwgb3B0aW9uYWxs\neQogICAgICogdGhyb3dpbmcgYW4gZXhjZXB0aW9uIGlmIG5vbmUuICBUaGUg\ncHJvcGVydHkgbXVzdCBhbHNvIGhhdmUgYSBnZXR0ZXIuCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgTWV0aG9kIGZpbmRTZXR0ZXIoQ2xhc3MgY2xzLCBT\ndHJpbmcgcHJvcCwgYm9vbGVhbiBtdXN0RXhpc3QpIHsKICAgICAgICBNZXRo\nb2QgZ2V0dGVyID0gZmluZEdldHRlcihjbHMsIHByb3AsIG11c3RFeGlzdCk7\nCiAgICAgICAgcmV0dXJuIChnZXR0ZXIgPT0gbnVsbCkgPyBudWxsIAogICAg\nICAgICAgICA6IGZpbmRTZXR0ZXIoY2xzLCBwcm9wLCBnZXR0ZXIuZ2V0UmV0\ndXJuVHlwZSgpLCBtdXN0RXhpc3QpOwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIHRoZSBzZXR0ZXIgbWV0aG9kIG1hdGNoaW5nIHRoZSBnaXZlbiBw\ncm9wZXJ0eSBuYW1lLCBvcHRpb25hbGx5CiAgICAgKiB0aHJvd2luZyBhbiBl\neGNlcHRpb24gaWYgbm9uZS4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBN\nZXRob2QgZmluZFNldHRlcihDbGFzcyBjbHMsIFN0cmluZyBwcm9wLCBDbGFz\ncyBwYXJhbSwKICAgICAgICBib29sZWFuIG11c3RFeGlzdCkgewogICAgICAg\nIFN0cmluZyBuYW1lID0gInNldCIgKyBTdHJpbmdVdGlscy5jYXBpdGFsaXpl\nKHByb3ApOwogICAgICAgIE1ldGhvZCBtOwogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIGZvciAoQ2xhc3MgYyA9IGNsczsgYyAhPSBudWxsICYmIGMgIT0g\nT2JqZWN0LmNsYXNzOwogICAgICAgICAgICAgICAgYyA9IGMuZ2V0U3VwZXJj\nbGFzcygpKSB7CiAgICAgICAgICAgICAgICBtID0gZ2V0RGVjbGFyZWRNZXRo\nb2QoYywgbmFtZSwgcGFyYW0pOwogICAgICAgICAgICAgICAgaWYgKG0gIT0g\nbnVsbCkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbTsKICAgICAgICAg\nICAgfQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAg\nICAgIHRocm93IG5ldyBHZW5lcmFsRXhjZXB0aW9uKGUpOwogICAgICAgIH0K\nCiAgICAgICAgaWYgKG11c3RFeGlzdCkKICAgICAgICAgICAgdGhyb3cgbmV3\nIFVzZXJFeGNlcHRpb24oX2xvYy5nZXQoImJhZC1zZXR0ZXIiLCBjbHMsIHBy\nb3ApKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAg\nICAqIEludm9rZXMgPGNvZGU+Y2xzLmdldERlY2xhcmVkTWV0aG9kcygpPC9j\nb2RlPiwgYW5kIHJldHVybnMgdGhlIG1ldGhvZAogICAgICogdGhhdCBtYXRj\naGVzIHRoZSA8Y29kZT5uYW1lPC9jb2RlPiBhbmQgPGNvZGU+cGFyYW08L2Nv\nZGU+IGFyZ3VtZW50cy4KICAgICAqIEF2b2lkcyB0aGUgZXhjZXB0aW9uIHRo\ncm93biBieSA8Y29kZT5DbGFzcy5nZXREZWNsYXJlZE1ldGhvZCgpPC9jb2Rl\nPgogICAgICogZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuIDxjb2RlPnBhcmFt\nPC9jb2RlPiBtYXkgYmUgbnVsbC4gQWRkaXRpb25hbGx5LAogICAgICogaWYg\ndGhlcmUgYXJlIG11bHRpcGxlIG1ldGhvZHMgd2l0aCBkaWZmZXJlbnQgcmV0\ndXJuIHR5cGVzLCB0aGlzIHdpbGwKICAgICAqIHJldHVybiB0aGUgbWV0aG9k\nIGRlZmluZWQgaW4gdGhlIGxlYXN0LWRlcml2ZWQgY2xhc3MuCiAgICAgKgog\nICAgICogQHNpbmNlIDAuOS44CiAgICAgKi8KICAgIHN0YXRpYyBNZXRob2Qg\nZ2V0RGVjbGFyZWRNZXRob2QoQ2xhc3MgY2xzLCBTdHJpbmcgbmFtZSwKICAg\nICAgICBDbGFzcyBwYXJhbSkgewogICAgICAgIE1ldGhvZFtdIG1ldGhvZHMg\nPSAoTWV0aG9kW10pIEFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKAog\nICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5nZXREZWNsYXJlZE1ldGhvZHNB\nY3Rpb24oY2xzKSk7CiAgICAgICAgTWV0aG9kIGNhbmRpZGF0ZSA9IG51bGw7\nCiAgICAgICAgZm9yIChpbnQgaSA9IDAgOyBpIDwgbWV0aG9kcy5sZW5ndGg7\nIGkrKykgewogICAgCSAgICBpZiAobmFtZS5lcXVhbHMobWV0aG9kc1tpXS5n\nZXROYW1lKCkpKSB7CiAgICAgICAgICAgICAgICBDbGFzc1tdIG1ldGhvZFBh\ncmFtcyA9IG1ldGhvZHNbaV0uZ2V0UGFyYW1ldGVyVHlwZXMoKTsKICAgICAg\nICAgICAgICAgIGlmIChwYXJhbSA9PSBudWxsICYmIG1ldGhvZFBhcmFtcy5s\nZW5ndGggPT0gMCkKICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUgPSBt\nb3N0RGVyaXZlZChtZXRob2RzW2ldLCBjYW5kaWRhdGUpOwogICAgICAgICAg\nICAgICAgZWxzZSBpZiAocGFyYW0gIT0gbnVsbCAmJiBtZXRob2RQYXJhbXMu\nbGVuZ3RoID09IDEKICAgICAgICAgICAgICAgICAgICAmJiBwYXJhbS5lcXVh\nbHMobWV0aG9kUGFyYW1zWzBdKSkKICAgICAgICAgICAgICAgICAgICBjYW5k\naWRhdGUgPSBtb3N0RGVyaXZlZChtZXRob2RzW2ldLCBjYW5kaWRhdGUpOwog\nICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjYW5kaWRh\ndGU7CiAgICB9CgogICAgc3RhdGljIE1ldGhvZCBtb3N0RGVyaXZlZChNZXRo\nb2QgbWV0aDEsIE1ldGhvZCBtZXRoMikgewogICAgICAgIGlmIChtZXRoMSA9\nPSBudWxsKQogICAgICAgICAgICByZXR1cm4gbWV0aDI7CiAgICAgICAgaWYg\nKG1ldGgyID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBtZXRoMTsKICAg\nICAgICAKICAgICAgICBDbGFzcyBjbHMyID0gbWV0aDIuZ2V0RGVjbGFyaW5n\nQ2xhc3MoKTsKICAgICAgICBDbGFzcyBjbHMxID0gbWV0aDEuZ2V0RGVjbGFy\naW5nQ2xhc3MoKTsKCiAgICAgICAgaWYgKGNsczEuZXF1YWxzKGNsczIpKSB7\nCiAgICAgICAgICAgIENsYXNzIHJldDEgPSBtZXRoMS5nZXRSZXR1cm5UeXBl\nKCk7CiAgICAgICAgICAgIENsYXNzIHJldDIgPSBtZXRoMi5nZXRSZXR1cm5U\neXBlKCk7CiAgICAgICAgICAgIGlmIChyZXQxLmlzQXNzaWduYWJsZUZyb20o\ncmV0MikpCiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aDI7CiAgICAgICAg\nICAgIGVsc2UgaWYgKHJldDIuaXNBc3NpZ25hYmxlRnJvbShyZXQxKSkKICAg\nICAgICAgICAgICAgIHJldHVybiBtZXRoMTsKICAgICAgICAgICAgZWxzZQog\nICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2Vw\ndGlvbigKICAgICAgICAgICAgICAgICAgICBfbG9jLmdldCgibW9zdC1kZXJp\ndmVkLXVucmVsYXRlZC1zYW1lLXR5cGUiLCBtZXRoMSwgbWV0aDIpCiAgICAg\nICAgICAgICAgICAgICAgICAgIC5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0g\nZWxzZSB7CiAgICAgICAgICAgIGlmIChjbHMxLmlzQXNzaWduYWJsZUZyb20o\nY2xzMikpCiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aDI7CiAgICAgICAg\nICAgIGVsc2UgaWYgKGNsczIuaXNBc3NpZ25hYmxlRnJvbShjbHMxKSkKICAg\nICAgICAgICAgICAgIHJldHVybiBtZXRoMTsKICAgICAgICAgICAgZWxzZQog\nICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2Vw\ndGlvbigKICAgICAgICAgICAgICAgICAgICBfbG9jLmdldCgibW9zdC1kZXJp\ndmVkLXVucmVsYXRlZCIsIG1ldGgxLCBtZXRoMikKICAgICAgICAgICAgICAg\nICAgICAgICAgLmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIHRoZSBmaWVsZCB3aXRoIHRoZSBnaXZlbiBu\nYW1lLCBvcHRpb25hbGx5IHRocm93aW5nIGFuIGV4Y2VwdGlvbgogICAgICog\naWYgbm9uZS4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBGaWVsZCBmaW5k\nRmllbGQoQ2xhc3MgY2xzLCBTdHJpbmcgbmFtZSwgYm9vbGVhbiBtdXN0RXhp\nc3QpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBGaWVsZCBmOwogICAg\nICAgICAgICBmb3IgKENsYXNzIGMgPSBjbHM7IGMgIT0gbnVsbCAmJiBjICE9\nIE9iamVjdC5jbGFzczsKICAgICAgICAgICAgICAgIGMgPSBjLmdldFN1cGVy\nY2xhc3MoKSkgewogICAgICAgICAgICAgICAgZiA9IGdldERlY2xhcmVkRmll\nbGQoYywgbmFtZSk7CiAgICAgICAgICAgICAgICBpZiAoZiAhPSBudWxsKQog\nICAgICAgICAgICAgICAgICAgIHJldHVybiBmOwogICAgICAgICAgICB9CiAg\nICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgdGhy\nb3cgbmV3IEdlbmVyYWxFeGNlcHRpb24oZSk7CiAgICAgICAgfQoKICAgICAg\nICBpZiAobXVzdEV4aXN0KQogICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4\nY2VwdGlvbihfbG9jLmdldCgiYmFkLWZpZWxkIiwgY2xzLCBuYW1lKSk7CiAg\nICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnZv\na2VzIDxjb2RlPmNscy5nZXREZWNsYXJlZEZpZWxkcygpPC9jb2RlPiwgYW5k\nIHJldHVybnMgdGhlIGZpZWxkCiAgICAgKiB0aGF0IG1hdGNoZXMgdGhlIDxj\nb2RlPm5hbWU8L2NvZGU+IGFyZ3VtZW50LiAgQXZvaWRzIHRoZSBleGNlcHRp\nb24KICAgICAqIHRocm93biBieSA8Y29kZT5DbGFzcy5nZXREZWNsYXJlZEZp\nZWxkKCk8L2NvZGU+IGZvciBwZXJmb3JtYW5jZSByZWFzb25zLgogICAgICoK\nICAgICAqIEBzaW5jZSAwLjkuOAogICAgICovCiAgICBwcml2YXRlIHN0YXRp\nYyBGaWVsZCBnZXREZWNsYXJlZEZpZWxkKENsYXNzIGNscywgU3RyaW5nIG5h\nbWUpIHsKICAgICAgICBGaWVsZFtdIGZpZWxkcyA9IChGaWVsZFtdKSBBY2Nl\nc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICAgICAgICAgICAgSjJEb1By\naXZIZWxwZXIuZ2V0RGVjbGFyZWRGaWVsZHNBY3Rpb24oY2xzKSk7CiAgICAg\nICAgZm9yIChpbnQgaSA9IDAgOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7\nCiAgICAJICAgIGlmIChuYW1lLmVxdWFscyhmaWVsZHNbaV0uZ2V0TmFtZSgp\nKSkKCQkgICAgICAgIHJldHVybiBmaWVsZHNbaV07CiAgICAgICAgfQogICAg\nICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJu\nIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4gdGhlIGdpdmVuIG9i\namVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBPYmplY3QgZ2V0KE9i\namVjdCB0YXJnZXQsIEZpZWxkIGZpZWxkKSB7CiAgICAgICAgaWYgKHRhcmdl\ndCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwpCiAgICAgICAgICAgIHJldHVy\nbiBudWxsOwogICAgICAgIG1ha2VBY2Nlc3NpYmxlKGZpZWxkLCBmaWVsZC5n\nZXRNb2RpZmllcnMoKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0\ndXJuIGZpZWxkLmdldCh0YXJnZXQpOwogICAgICAgIH0gY2F0Y2ggKFRocm93\nYWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhj\nZXB0aW9uKHQpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLyoqCiAgICAg\nKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBuYW1lZCBmaWVsZCBvciBh\nIGNvcnJlc3BvbmRpbmcgZ2V0dGVyIG1ldGhvZC4KICAgICAqIAogICAgICog\nQHJldHVybiBudWxsIGlmIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdCBhbmQg\nbXVzdEV4aXN0IGlzIHNldCB0byBmYWxzZSBvcgogICAgICogdGhlIGdpdmVu\nIHRhcmdldCBpcyBudWxsLgogICAgICogCiAgICAgKiBAZXhjZXB0aW9uIFVz\nZXJFeGNlcHRpb24gaWYgbXVzdEV4aXN0IGlzIHRydWUgYW5kIHRoZSBmaWVs\nZCBvciBnZXR0ZXIgCiAgICAgKiBtZXRob2QgaXMgbm9uLWV4aXN0ZW50CiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0IGdldFZhbHVlKE9iamVj\ndCBvYmosIFN0cmluZyBwcm9wLCBib29sZWFuIG11c3RFeGlzdCkgewogICAg\nCWlmIChvYmogPT0gbnVsbCkKICAgIAkJcmV0dXJuIG51bGw7CiAgICAJQ2xh\nc3MgY2xzID0gb2JqLmdldENsYXNzKCk7CiAgICAJRmllbGQgZmllbGQgPSBm\naW5kRmllbGQoY2xzLCBwcm9wLCBmYWxzZSk7CiAgICAJaWYgKGZpZWxkICE9\nIG51bGwpCiAgICAJCXJldHVybiBnZXQob2JqLCBmaWVsZCk7CiAgICAJTWV0\naG9kIGdldHRlciA9IGZpbmRHZXR0ZXIoY2xzLCBwcm9wLCBmYWxzZSk7CiAg\nICAJaWYgKGdldHRlciAhPSBudWxsKQogICAgCQlyZXR1cm4gZ2V0KG9iaiwg\nZ2V0dGVyKTsKICAgICAgICBpZiAobXVzdEV4aXN0KQogICAgICAgICAgICB0\naHJvdyBuZXcgVXNlckV4Y2VwdGlvbihfbG9jLmdldCgiYmFkLWZpZWxkIiwg\nY2xzLCBwcm9wKSk7CiAgICAgICAgcmV0dXJuIG51bGw7IC8vIHNob3VsZCBu\nb3QgcmVhY2gKICAgIH0KCiAgICAvKioKICAgICAqIE1ha2UgdGhlIGdpdmVu\nIG1lbWJlciBhY2Nlc3NpYmxlIGlmIGl0IGlzbid0IGFscmVhZHkuCiAgICAg\nKi8KICAgIHByaXZhdGUgc3RhdGljIHZvaWQgbWFrZUFjY2Vzc2libGUoQWNj\nZXNzaWJsZU9iamVjdCBhbywgaW50IG1vZHMpIHsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBpZiAoIU1vZGlmaWVyLmlzUHVibGljKG1vZHMpICYmICFh\nby5pc0FjY2Vzc2libGUoKSkKICAgICAgICAgICAgICAgIEFjY2Vzc0NvbnRy\nb2xsZXIuZG9Qcml2aWxlZ2VkKEoyRG9Qcml2SGVscGVyCiAgICAgICAgICAg\nICAgICAgICAgLnNldEFjY2Vzc2libGVBY3Rpb24oYW8sIHRydWUpKTsKICAg\nICAgICB9IGNhdGNoIChTZWN1cml0eUV4Y2VwdGlvbiBzZSkgewogICAgICAg\nICAgICB0aHJvdyBuZXcgVXNlckV4Y2VwdGlvbihfbG9jLmdldCgicmVmbGVj\ndC1zZWN1cml0eSIsIGFvKSkuCiAgICAgICAgICAgICAgICBzZXRGYXRhbCh0\ncnVlKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBXcmFwIHRo\nZSBnaXZlbiByZWZsZWN0aW9uIGV4Y2VwdGlvbiBhcyBhIHJ1bnRpbWUgZXhj\nZXB0aW9uLgogICAgICovCiAgICBwcml2YXRlIHN0YXRpYyBSdW50aW1lRXhj\nZXB0aW9uIHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9uKFRocm93YWJsZSB0KSB7\nCiAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBJbnZvY2F0aW9uVGFyZ2V0RXhj\nZXB0aW9uKQogICAgICAgICAgICB0ID0gKChJbnZvY2F0aW9uVGFyZ2V0RXhj\nZXB0aW9uKSB0KS5nZXRUYXJnZXRFeGNlcHRpb24oKTsgICAgCiAgICAgICAg\naWYgKHQgaW5zdGFuY2VvZiBSdW50aW1lRXhjZXB0aW9uKQogICAgICAgICAg\nICByZXR1cm4gKFJ1bnRpbWVFeGNlcHRpb24pIHQ7CiAgICAgICAgcmV0dXJu\nIG5ldyBHZW5lcmFsRXhjZXB0aW9uKHQpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4gdGhl\nIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBib29s\nZWFuIGdldEJvb2xlYW4oT2JqZWN0IHRhcmdldCwgRmllbGQgZmllbGQpIHsK\nICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwgfHwgZmllbGQgPT0gbnVsbCkK\nICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIG1ha2VBY2Nlc3Np\nYmxlKGZpZWxkLCBmaWVsZC5nZXRNb2RpZmllcnMoKSk7CiAgICAgICAgdHJ5\nIHsKICAgICAgICAgICAgcmV0dXJuIGZpZWxkLmdldEJvb2xlYW4odGFyZ2V0\nKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAg\nICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAgICB9\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRo\nZSBnaXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIGJ5dGUgZ2V0Qnl0ZShPYmplY3QgdGFyZ2V0LCBG\naWVsZCBmaWVsZCkgewogICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBm\naWVsZCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gKGJ5dGUpIDA7CiAg\nICAgICAgbWFrZUFjY2Vzc2libGUoZmllbGQsIGZpZWxkLmdldE1vZGlmaWVy\ncygpKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gZmllbGQu\nZ2V0Qnl0ZSh0YXJnZXQpOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0\nKSB7CiAgICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9u\nKHQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0\naGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmpl\nY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgY2hhciBnZXRDaGFyKE9i\namVjdCB0YXJnZXQsIEZpZWxkIGZpZWxkKSB7CiAgICAgICAgaWYgKHRhcmdl\ndCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwpCiAgICAgICAgICAgIHJldHVy\nbiAoY2hhcikgMDsKICAgICAgICBtYWtlQWNjZXNzaWJsZShmaWVsZCwgZmll\nbGQuZ2V0TW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAg\nIHJldHVybiBmaWVsZC5nZXRDaGFyKHRhcmdldCk7CiAgICAgICAgfSBjYXRj\naCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgd3JhcFJlZmxl\nY3Rpb25FeGNlcHRpb24odCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgog\nICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4g\ndGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBk\nb3VibGUgZ2V0RG91YmxlKE9iamVjdCB0YXJnZXQsIEZpZWxkIGZpZWxkKSB7\nCiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwp\nCiAgICAgICAgICAgIHJldHVybiAwRDsKICAgICAgICBtYWtlQWNjZXNzaWJs\nZShmaWVsZCwgZmllbGQuZ2V0TW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7\nCiAgICAgICAgICAgIHJldHVybiBmaWVsZC5nZXREb3VibGUodGFyZ2V0KTsK\nICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB0\naHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAgICB9CiAg\nICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBn\naXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAgICBw\ndWJsaWMgc3RhdGljIGZsb2F0IGdldEZsb2F0KE9iamVjdCB0YXJnZXQsIEZp\nZWxkIGZpZWxkKSB7CiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IGZp\nZWxkID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiAwRjsKICAgICAgICBt\nYWtlQWNjZXNzaWJsZShmaWVsZCwgZmllbGQuZ2V0TW9kaWZpZXJzKCkpOwog\nICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBmaWVsZC5nZXRGbG9h\ndCh0YXJnZXQpOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAg\nICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9uKHQpOwog\nICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgdmFs\ndWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmplY3QuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgaW50IGdldEludChPYmplY3QgdGFy\nZ2V0LCBGaWVsZCBmaWVsZCkgewogICAgICAgIGlmICh0YXJnZXQgPT0gbnVs\nbCB8fCBmaWVsZCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4gMDsKICAg\nICAgICBtYWtlQWNjZXNzaWJsZShmaWVsZCwgZmllbGQuZ2V0TW9kaWZpZXJz\nKCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBmaWVsZC5n\nZXRJbnQodGFyZ2V0KTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkg\newogICAgICAgICAgICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0\nKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gdGhl\nIHZhbHVlIG9mIHRoZSBnaXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0\nLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGxvbmcgZ2V0TG9uZyhPYmpl\nY3QgdGFyZ2V0LCBGaWVsZCBmaWVsZCkgewogICAgICAgIGlmICh0YXJnZXQg\nPT0gbnVsbCB8fCBmaWVsZCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm4g\nMEw7CiAgICAgICAgbWFrZUFjY2Vzc2libGUoZmllbGQsIGZpZWxkLmdldE1v\nZGlmaWVycygpKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4g\nZmllbGQuZ2V0TG9uZyh0YXJnZXQpOwogICAgICAgIH0gY2F0Y2ggKFRocm93\nYWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhj\nZXB0aW9uKHQpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJl\ndHVybiB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZl\nbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgc2hvcnQgZ2V0\nU2hvcnQoT2JqZWN0IHRhcmdldCwgRmllbGQgZmllbGQpIHsKICAgICAgICBp\nZiAodGFyZ2V0ID09IG51bGwgfHwgZmllbGQgPT0gbnVsbCkKICAgICAgICAg\nICAgcmV0dXJuIChzaG9ydCkgMDsKICAgICAgICBtYWtlQWNjZXNzaWJsZShm\naWVsZCwgZmllbGQuZ2V0TW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAg\nICAgICAgICAgIHJldHVybiBmaWVsZC5nZXRTaG9ydCh0YXJnZXQpOwogICAg\nICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAgICAgIHRocm93\nIHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9uKHQpOwogICAgICAgIH0KICAgIH0K\nCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRo\nZSBnaXZlbiBnZXR0ZXIgaW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwog\nICAgcHVibGljIHN0YXRpYyBPYmplY3QgZ2V0KE9iamVjdCB0YXJnZXQsIE1l\ndGhvZCBnZXR0ZXIpIHsKICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwgfHwg\nZ2V0dGVyID09IG51bGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAg\nICAgIG1ha2VBY2Nlc3NpYmxlKGdldHRlciwgZ2V0dGVyLmdldE1vZGlmaWVy\ncygpKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gZ2V0dGVy\nLmludm9rZSh0YXJnZXQsIChPYmplY3RbXSkgbnVsbCk7CiAgICAgICAgfSBj\nYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgd3JhcFJl\nZmxlY3Rpb25FeGNlcHRpb24odCk7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGdpdmVu\nIGdldHRlciBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIGJvb2xlYW4gZ2V0Qm9vbGVhbihPYmplY3QgdGFyZ2V0LCBN\nZXRob2QgZ2V0dGVyKSB7CiAgICAgICAgT2JqZWN0IG8gPSBnZXQodGFyZ2V0\nLCBnZXR0ZXIpOwogICAgICAgIHJldHVybiAobyA9PSBudWxsKSA/IGZhbHNl\nIDogKChCb29sZWFuKSBvKS5ib29sZWFuVmFsdWUoKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBnaXZl\nbiBnZXR0ZXIgaW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBieXRlIGdldEJ5dGUoT2JqZWN0IHRhcmdldCwgTWV0aG9k\nIGdldHRlcikgewogICAgICAgIE9iamVjdCBvID0gZ2V0KHRhcmdldCwgZ2V0\ndGVyKTsKICAgICAgICByZXR1cm4gKG8gPT0gbnVsbCkgPyAoYnl0ZSkgMCA6\nICgoTnVtYmVyKSBvKS5ieXRlVmFsdWUoKTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBnaXZlbiBnZXR0\nZXIgaW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBjaGFyIGdldENoYXIoT2JqZWN0IHRhcmdldCwgTWV0aG9kIGdldHRl\ncikgewogICAgICAgIE9iamVjdCBvID0gZ2V0KHRhcmdldCwgZ2V0dGVyKTsK\nICAgICAgICByZXR1cm4gKG8gPT0gbnVsbCkgPyAoY2hhcikgMCA6ICgoQ2hh\ncmFjdGVyKSBvKS5jaGFyVmFsdWUoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBnaXZlbiBnZXR0ZXIg\naW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBkb3VibGUgZ2V0RG91YmxlKE9iamVjdCB0YXJnZXQsIE1ldGhvZCBnZXR0\nZXIpIHsKICAgICAgICBPYmplY3QgbyA9IGdldCh0YXJnZXQsIGdldHRlcik7\nCiAgICAgICAgcmV0dXJuIChvID09IG51bGwpID8gMEQgOiAoKE51bWJlcikg\nbykuZG91YmxlVmFsdWUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy\nbiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBnaXZlbiBnZXR0ZXIgaW4gdGhl\nIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmbG9h\ndCBnZXRGbG9hdChPYmplY3QgdGFyZ2V0LCBNZXRob2QgZ2V0dGVyKSB7CiAg\nICAgICAgT2JqZWN0IG8gPSBnZXQodGFyZ2V0LCBnZXR0ZXIpOwogICAgICAg\nIHJldHVybiAobyA9PSBudWxsKSA/IDBGIDogKChOdW1iZXIpIG8pLmZsb2F0\nVmFsdWUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgcmV0\ndXJuIHZhbHVlIG9mIHRoZSBnaXZlbiBnZXR0ZXIgaW4gdGhlIGdpdmVuIG9i\namVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBpbnQgZ2V0SW50KE9i\namVjdCB0YXJnZXQsIE1ldGhvZCBnZXR0ZXIpIHsKICAgICAgICBPYmplY3Qg\nbyA9IGdldCh0YXJnZXQsIGdldHRlcik7CiAgICAgICAgcmV0dXJuIChvID09\nIG51bGwpID8gMCA6ICgoTnVtYmVyKSBvKS5pbnRWYWx1ZSgpOwogICAgfQoK\nICAgIC8qKgogICAgICogUmV0dXJuIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhl\nIGdpdmVuIGdldHRlciBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIGxvbmcgZ2V0TG9uZyhPYmplY3QgdGFyZ2V0LCBN\nZXRob2QgZ2V0dGVyKSB7CiAgICAgICAgT2JqZWN0IG8gPSBnZXQodGFyZ2V0\nLCBnZXR0ZXIpOwogICAgICAgIHJldHVybiAobyA9PSBudWxsKSA/IDBMIDog\nKChOdW1iZXIpIG8pLmxvbmdWYWx1ZSgpOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGdpdmVuIGdldHRl\nciBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIHNob3J0IGdldFNob3J0KE9iamVjdCB0YXJnZXQsIE1ldGhvZCBnZXR0\nZXIpIHsKICAgICAgICBPYmplY3QgbyA9IGdldCh0YXJnZXQsIGdldHRlcik7\nCiAgICAgICAgcmV0dXJuIChvID09IG51bGwpID8gKHNob3J0KSAwIDogKChO\ndW1iZXIpIG8pLnNob3J0VmFsdWUoKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZl\nbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQo\nT2JqZWN0IHRhcmdldCwgRmllbGQgZmllbGQsIE9iamVjdCB2YWx1ZSkgewog\nICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBmaWVsZCA9PSBudWxsKQog\nICAgICAgICAgICByZXR1cm47CiAgICAgICAgbWFrZUFjY2Vzc2libGUoZmll\nbGQsIGZpZWxkLmdldE1vZGlmaWVycygpKTsKICAgICAgICB0cnkgewogICAg\nICAgICAgICBmaWVsZC5zZXQodGFyZ2V0LCB2YWx1ZSk7CiAgICAgICAgfSBj\nYXRjaCAoVGhyb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgd3JhcFJl\nZmxlY3Rpb25FeGNlcHRpb24odCk7CiAgICAgICAgfQogICAgfQoKICAgIC8q\nKgogICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4g\ndGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyB2\nb2lkIHNldChPYmplY3QgdGFyZ2V0LCBGaWVsZCBmaWVsZCwgYm9vbGVhbiB2\nYWx1ZSkgewogICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBmaWVsZCA9\nPSBudWxsKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgbWFrZUFjY2Vz\nc2libGUoZmllbGQsIGZpZWxkLmdldE1vZGlmaWVycygpKTsKICAgICAgICB0\ncnkgewogICAgICAgICAgICBmaWVsZC5zZXRCb29sZWFuKHRhcmdldCwgdmFs\ndWUpOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7CiAgICAgICAg\nICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9uKHQpOwogICAgICAg\nIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhl\nIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0IHRhcmdldCwgRmllbGQg\nZmllbGQsIGJ5dGUgdmFsdWUpIHsKICAgICAgICBpZiAodGFyZ2V0ID09IG51\nbGwgfHwgZmllbGQgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwogICAg\nICAgIG1ha2VBY2Nlc3NpYmxlKGZpZWxkLCBmaWVsZC5nZXRNb2RpZmllcnMo\nKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZmllbGQuc2V0Qnl0ZSh0\nYXJnZXQsIHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkg\newogICAgICAgICAgICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0\nKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZh\nbHVlIG9mIHRoZSBnaXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0Lgog\nICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJn\nZXQsIEZpZWxkIGZpZWxkLCBjaGFyIHZhbHVlKSB7CiAgICAgICAgaWYgKHRh\ncmdldCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwpCiAgICAgICAgICAgIHJl\ndHVybjsKICAgICAgICBtYWtlQWNjZXNzaWJsZShmaWVsZCwgZmllbGQuZ2V0\nTW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZpZWxk\nLnNldENoYXIodGFyZ2V0LCB2YWx1ZSk7CiAgICAgICAgfSBjYXRjaCAoVGhy\nb3dhYmxlIHQpIHsKICAgICAgICAgICAgdGhyb3cgd3JhcFJlZmxlY3Rpb25F\neGNlcHRpb24odCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog\nU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4gdGhlIGdpdmVu\nIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyB2b2lkIHNldChP\nYmplY3QgdGFyZ2V0LCBGaWVsZCBmaWVsZCwgZG91YmxlIHZhbHVlKSB7CiAg\nICAgICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IGZpZWxkID09IG51bGwpCiAg\nICAgICAgICAgIHJldHVybjsKICAgICAgICBtYWtlQWNjZXNzaWJsZShmaWVs\nZCwgZmllbGQuZ2V0TW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAg\nICAgICAgIGZpZWxkLnNldERvdWJsZSh0YXJnZXQsIHZhbHVlKTsKICAgICAg\nICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB0aHJvdyB3\ncmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAgICB9CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBmaWVs\nZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIEZpZWxkIGZpZWxkLCBmbG9h\ndCB2YWx1ZSkgewogICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBmaWVs\nZCA9PSBudWxsKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgbWFrZUFj\nY2Vzc2libGUoZmllbGQsIGZpZWxkLmdldE1vZGlmaWVycygpKTsKICAgICAg\nICB0cnkgewogICAgICAgICAgICBmaWVsZC5zZXRGbG9hdCh0YXJnZXQsIHZh\nbHVlKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAg\nICAgICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAg\nICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRo\nZSBnaXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIEZpZWxk\nIGZpZWxkLCBpbnQgdmFsdWUpIHsKICAgICAgICBpZiAodGFyZ2V0ID09IG51\nbGwgfHwgZmllbGQgPT0gbnVsbCkKICAgICAgICAgICAgcmV0dXJuOwogICAg\nICAgIG1ha2VBY2Nlc3NpYmxlKGZpZWxkLCBmaWVsZC5nZXRNb2RpZmllcnMo\nKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZmllbGQuc2V0SW50KHRh\ncmdldCwgdmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSB0KSB7\nCiAgICAgICAgICAgIHRocm93IHdyYXBSZWZsZWN0aW9uRXhjZXB0aW9uKHQp\nOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgdmFs\ndWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmplY3QuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0IHRhcmdl\ndCwgRmllbGQgZmllbGQsIGxvbmcgdmFsdWUpIHsKICAgICAgICBpZiAodGFy\nZ2V0ID09IG51bGwgfHwgZmllbGQgPT0gbnVsbCkKICAgICAgICAgICAgcmV0\ndXJuOwogICAgICAgIG1ha2VBY2Nlc3NpYmxlKGZpZWxkLCBmaWVsZC5nZXRN\nb2RpZmllcnMoKSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZmllbGQu\nc2V0TG9uZyh0YXJnZXQsIHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChUaHJv\nd2FibGUgdCkgewogICAgICAgICAgICB0aHJvdyB3cmFwUmVmbGVjdGlvbkV4\nY2VwdGlvbih0KTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBT\nZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBmaWVsZCBpbiB0aGUgZ2l2ZW4g\nb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9i\namVjdCB0YXJnZXQsIEZpZWxkIGZpZWxkLCBzaG9ydCB2YWx1ZSkgewogICAg\nICAgIGlmICh0YXJnZXQgPT0gbnVsbCB8fCBmaWVsZCA9PSBudWxsKQogICAg\nICAgICAgICByZXR1cm47CiAgICAgICAgbWFrZUFjY2Vzc2libGUoZmllbGQs\nIGZpZWxkLmdldE1vZGlmaWVycygpKTsKICAgICAgICB0cnkgewogICAgICAg\nICAgICBmaWVsZC5zZXRTaG9ydCh0YXJnZXQsIHZhbHVlKTsKICAgICAgICB9\nIGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB0aHJvdyB3cmFw\nUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAgICB9CiAgICB9CgogICAg\nLyoqCiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBmaWVsZCBp\nbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICogU2FtZSBiZWhhdmlvciBhcyBh\nYm92ZSBtZXRob2RzLCBidXQgcGFyYW1ldGVyIG9yZGVyaW5nIGlzIHJlYXJy\nYW5nZWQKICAgICAqIHRvIHNpbXBsaWZ5IHVzYWdlIGZyb20gZ2VuZXJhdGVk\nIGJ5dGVjb2Rlcy4KICAgICAqCiAgICAgKiBAc2luY2UgMS4wLjAKICAgICAq\nLwogICAgcHVibGljIHN0YXRpYyB2b2lkIHNldChPYmplY3QgdGFyZ2V0LCBP\nYmplY3QgdmFsdWUsIEZpZWxkIGZpZWxkKSB7CiAgICAgICAgc2V0KHRhcmdl\ndCwgZmllbGQsIHZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0\naGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmpl\nY3QuCiAgICAgKiBTYW1lIGJlaGF2aW9yIGFzIGFib3ZlIG1ldGhvZHMsIGJ1\ndCBwYXJhbWV0ZXIgb3JkZXJpbmcgaXMgcmVhcnJhbmdlZAogICAgICogdG8g\nc2ltcGxpZnkgdXNhZ2UgZnJvbSBnZW5lcmF0ZWQgYnl0ZWNvZGVzLgogICAg\nICoKICAgICAqIEBzaW5jZSAxLjAuMAogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIGJvb2xlYW4gdmFsdWUsIEZp\nZWxkIGZpZWxkKSB7CiAgICAgICAgc2V0KHRhcmdldCwgZmllbGQsIHZhbHVl\nKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhl\nIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKiBTYW1l\nIGJlaGF2aW9yIGFzIGFib3ZlIG1ldGhvZHMsIGJ1dCBwYXJhbWV0ZXIgb3Jk\nZXJpbmcgaXMgcmVhcnJhbmdlZAogICAgICogdG8gc2ltcGxpZnkgdXNhZ2Ug\nZnJvbSBnZW5lcmF0ZWQgYnl0ZWNvZGVzLgogICAgICoKICAgICAqIEBzaW5j\nZSAxLjAuMAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9i\namVjdCB0YXJnZXQsIGJ5dGUgdmFsdWUsIEZpZWxkIGZpZWxkKSB7CiAgICAg\nICAgc2V0KHRhcmdldCwgZmllbGQsIHZhbHVlKTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRo\nZSBnaXZlbiBvYmplY3QuCiAgICAgKiBTYW1lIGJlaGF2aW9yIGFzIGFib3Zl\nIG1ldGhvZHMsIGJ1dCBwYXJhbWV0ZXIgb3JkZXJpbmcgaXMgcmVhcnJhbmdl\nZAogICAgICogdG8gc2ltcGxpZnkgdXNhZ2UgZnJvbSBnZW5lcmF0ZWQgYnl0\nZWNvZGVzLgogICAgICoKICAgICAqIEBzaW5jZSAxLjAuMAogICAgICovCiAg\nICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIGNoYXIg\ndmFsdWUsIEZpZWxkIGZpZWxkKSB7CiAgICAgICAgc2V0KHRhcmdldCwgZmll\nbGQsIHZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCB0aGUgdmFs\ndWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZlbiBvYmplY3QuCiAg\nICAgKiBTYW1lIGJlaGF2aW9yIGFzIGFib3ZlIG1ldGhvZHMsIGJ1dCBwYXJh\nbWV0ZXIgb3JkZXJpbmcgaXMgcmVhcnJhbmdlZAogICAgICogdG8gc2ltcGxp\nZnkgdXNhZ2UgZnJvbSBnZW5lcmF0ZWQgYnl0ZWNvZGVzLgogICAgICoKICAg\nICAqIEBzaW5jZSAxLjAuMAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZv\naWQgc2V0KE9iamVjdCB0YXJnZXQsIGRvdWJsZSB2YWx1ZSwgRmllbGQgZmll\nbGQpIHsKICAgICAgICBzZXQodGFyZ2V0LCBmaWVsZCwgdmFsdWUpOwogICAg\nfQoKICAgIC8qKgogICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4g\nZmllbGQgaW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqIFNhbWUgYmVoYXZp\nb3IgYXMgYWJvdmUgbWV0aG9kcywgYnV0IHBhcmFtZXRlciBvcmRlcmluZyBp\ncyByZWFycmFuZ2VkCiAgICAgKiB0byBzaW1wbGlmeSB1c2FnZSBmcm9tIGdl\nbmVyYXRlZCBieXRlY29kZXMuCiAgICAgKgogICAgICogQHNpbmNlIDEuMC4w\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0IHRh\ncmdldCwgZmxvYXQgdmFsdWUsIEZpZWxkIGZpZWxkKSB7CiAgICAgICAgc2V0\nKHRhcmdldCwgZmllbGQsIHZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFNldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGZpZWxkIGluIHRoZSBnaXZl\nbiBvYmplY3QuCiAgICAgKiBTYW1lIGJlaGF2aW9yIGFzIGFib3ZlIG1ldGhv\nZHMsIGJ1dCBwYXJhbWV0ZXIgb3JkZXJpbmcgaXMgcmVhcnJhbmdlZAogICAg\nICogdG8gc2ltcGxpZnkgdXNhZ2UgZnJvbSBnZW5lcmF0ZWQgYnl0ZWNvZGVz\nLgogICAgICoKICAgICAqIEBzaW5jZSAxLjAuMAogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIGludCB2YWx1ZSwg\nRmllbGQgZmllbGQpIHsKICAgICAgICBzZXQodGFyZ2V0LCBmaWVsZCwgdmFs\ndWUpOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0\naGUgZ2l2ZW4gZmllbGQgaW4gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqIFNh\nbWUgYmVoYXZpb3IgYXMgYWJvdmUgbWV0aG9kcywgYnV0IHBhcmFtZXRlciBv\ncmRlcmluZyBpcyByZWFycmFuZ2VkCiAgICAgKiB0byBzaW1wbGlmeSB1c2Fn\nZSBmcm9tIGdlbmVyYXRlZCBieXRlY29kZXMuCiAgICAgKgogICAgICogQHNp\nbmNlIDEuMC4wCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQo\nT2JqZWN0IHRhcmdldCwgbG9uZyB2YWx1ZSwgRmllbGQgZmllbGQpIHsKICAg\nICAgICBzZXQodGFyZ2V0LCBmaWVsZCwgdmFsdWUpOwogICAgfQoKICAgIC8q\nKgogICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZmllbGQgaW4g\ndGhlIGdpdmVuIG9iamVjdC4KICAgICAqIFNhbWUgYmVoYXZpb3IgYXMgYWJv\ndmUgbWV0aG9kcywgYnV0IHBhcmFtZXRlciBvcmRlcmluZyBpcyByZWFycmFu\nZ2VkCiAgICAgKiB0byBzaW1wbGlmeSB1c2FnZSBmcm9tIGdlbmVyYXRlZCBi\neXRlY29kZXMuCiAgICAgKgogICAgICogQHNpbmNlIDEuMC4wCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0IHRhcmdldCwgc2hv\ncnQgdmFsdWUsIEZpZWxkIGZpZWxkKSB7CiAgICAgICAgc2V0KHRhcmdldCwg\nZmllbGQsIHZhbHVlKTsKICAgIH0KCiAgICAvKioKICAgICAqIEludm9rZSB0\naGUgZ2l2ZW4gc2V0dGVyIG9uIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKi8K\nICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQoT2JqZWN0IHRhcmdldCwgTWV0\naG9kIHNldHRlciwgT2JqZWN0IHZhbHVlKSB7CiAgICAgICAgaWYgKHRhcmdl\ndCA9PSBudWxsIHx8IHNldHRlciA9PSBudWxsKQogICAgICAgICAgICByZXR1\ncm47CiAgICAgICAgbWFrZUFjY2Vzc2libGUoc2V0dGVyLCBzZXR0ZXIuZ2V0\nTW9kaWZpZXJzKCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHNldHRl\nci5pbnZva2UodGFyZ2V0LCBuZXcgT2JqZWN0W10geyB2YWx1ZSB9KTsKICAg\nICAgICB9IGNhdGNoIChUaHJvd2FibGUgdCkgewogICAgICAgICAgICB0aHJv\ndyB3cmFwUmVmbGVjdGlvbkV4Y2VwdGlvbih0KTsKICAgICAgICB9CiAgICB9\nCgogICAgLyoqCiAgICAgKiBJbnZva2UgdGhlIGdpdmVuIHNldHRlciBvbiB0\naGUgZ2l2ZW4gb2JqZWN0LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZv\naWQgc2V0KE9iamVjdCB0YXJnZXQsIE1ldGhvZCBzZXR0ZXIsIGJvb2xlYW4g\ndmFsdWUpIHsKICAgICAgICBzZXQodGFyZ2V0LCBzZXR0ZXIsICh2YWx1ZSkg\nPyBCb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gc2V0dGVyIG9uIHRoZSBnaXZl\nbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQo\nT2JqZWN0IHRhcmdldCwgTWV0aG9kIHNldHRlciwgYnl0ZSB2YWx1ZSkgewog\nICAgICAgIHNldCh0YXJnZXQsIHNldHRlciwgbmV3IEJ5dGUodmFsdWUpKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gc2V0dGVy\nIG9uIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0\naWMgdm9pZCBzZXQoT2JqZWN0IHRhcmdldCwgTWV0aG9kIHNldHRlciwgY2hh\nciB2YWx1ZSkgewogICAgICAgIHNldCh0YXJnZXQsIHNldHRlciwgbmV3IENo\nYXJhY3Rlcih2YWx1ZSkpOwogICAgfQoKICAgIC8qKgogICAgICogSW52b2tl\nIHRoZSBnaXZlbiBzZXR0ZXIgb24gdGhlIGdpdmVuIG9iamVjdC4KICAgICAq\nLwogICAgcHVibGljIHN0YXRpYyB2b2lkIHNldChPYmplY3QgdGFyZ2V0LCBN\nZXRob2Qgc2V0dGVyLCBkb3VibGUgdmFsdWUpIHsKICAgICAgICBzZXQodGFy\nZ2V0LCBzZXR0ZXIsIG5ldyBEb3VibGUodmFsdWUpKTsKICAgIH0KCiAgICAv\nKioKICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gc2V0dGVyIG9uIHRoZSBnaXZl\nbiBvYmplY3QuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXQo\nT2JqZWN0IHRhcmdldCwgTWV0aG9kIHNldHRlciwgZmxvYXQgdmFsdWUpIHsK\nICAgICAgICBzZXQodGFyZ2V0LCBzZXR0ZXIsIG5ldyBGbG9hdCh2YWx1ZSkp\nOwogICAgfQoKICAgIC8qKgogICAgICogSW52b2tlIHRoZSBnaXZlbiBzZXR0\nZXIgb24gdGhlIGdpdmVuIG9iamVjdC4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyB2b2lkIHNldChPYmplY3QgdGFyZ2V0LCBNZXRob2Qgc2V0dGVyLCBp\nbnQgdmFsdWUpIHsKICAgICAgICBzZXQodGFyZ2V0LCBzZXR0ZXIsIG5ldyBJ\nbnRlZ2VyKHZhbHVlKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbnZva2Ug\ndGhlIGdpdmVuIHNldHRlciBvbiB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9iamVjdCB0YXJnZXQsIE1l\ndGhvZCBzZXR0ZXIsIGxvbmcgdmFsdWUpIHsKICAgICAgICBzZXQodGFyZ2V0\nLCBzZXR0ZXIsIG5ldyBMb25nKHZhbHVlKSk7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBJbnZva2UgdGhlIGdpdmVuIHNldHRlciBvbiB0aGUgZ2l2ZW4gb2Jq\nZWN0LgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0KE9iamVj\ndCB0YXJnZXQsIE1ldGhvZCBzZXR0ZXIsIHNob3J0IHZhbHVlKSB7CiAgICAg\nICAgc2V0KHRhcmdldCwgc2V0dGVyLCBuZXcgU2hvcnQodmFsdWUpKTsKICAg\nIH0KfQo=\n","encoding":"base64"}

