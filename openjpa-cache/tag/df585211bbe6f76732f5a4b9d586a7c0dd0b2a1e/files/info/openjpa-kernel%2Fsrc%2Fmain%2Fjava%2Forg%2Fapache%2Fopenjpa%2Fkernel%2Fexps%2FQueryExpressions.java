{"sha":"ed59ba8040dc191acb50e6f0aca243dcb80b7f0a","node_id":"MDQ6QmxvYjIwNjM2NDplZDU5YmE4MDQwZGMxOTFhY2I1MGU2ZjBhY2EyNDNkY2I4MGI3ZjBh","size":4460,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/ed59ba8040dc191acb50e6f0aca243dcb80b7f0a","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEua2VybmVsLmV4cHM7CgppbXBv\ncnQgamF2YS5pby5TZXJpYWxpemFibGU7CmltcG9ydCBqYXZhLnV0aWwuQ29s\nbGVjdGlvbnM7CmltcG9ydCBqYXZhLnV0aWwuTGlua2VkSGFzaE1hcDsKaW1w\nb3J0IGphdmEudXRpbC5NYXA7CgppbXBvcnQgb3JnLmFwYWNoZS5jb21tb25z\nLmNvbGxlY3Rpb25zLm1hcC5MaW5rZWRNYXA7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEua2VybmVsLlF1ZXJ5T3BlcmF0aW9uczsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5rZXJuZWwuU3RvcmVRdWVyeTsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5tZXRhLkNsYXNzTWV0YURhdGE7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubWV0YS5GaWVsZE1ldGFEYXRhOwoKLyoqCiAqIFN0\ncnVjdCB0byBob2xkIHRoZSBzdGF0ZSBvZiBhIHBhcnNlZCBleHByZXNzaW9u\nIHF1ZXJ5LgogKgogKiBAYXV0aG9yIEFiZSBXaGl0ZQogKiBAc2luY2UgMC4z\nLjIKICogQG5vamF2YWRvYwogKi8KcHVibGljIGNsYXNzIFF1ZXJ5RXhwcmVz\nc2lvbnMKICAgIGltcGxlbWVudHMgU2VyaWFsaXphYmxlIHsKCiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIGludCBESVNUSU5DVF9BVVRPID0gMiA8PCAwOwog\nICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRElTVElOQ1RfVFJVRSA9IDIg\nPDwgMTsKICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IERJU1RJTkNUX0ZB\nTFNFID0gMiA8PCAyOwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBWYWx1ZVtd\nIEVNUFRZX1ZBTFVFUyA9IG5ldyBWYWx1ZVswXTsKCiAgICAvKioKICAgICAq\nIE1hcCBvZiB7QGxpbmsgRmllbGRNZXRhRGF0YX0se0BsaW5rIFZhbHVlfSBm\nb3IgdXBkYXRlIHN0YXRlbWVudHMuCiAgICAgKi8KICAgIHB1YmxpYyBNYXA8\nUGF0aCwgVmFsdWU+IHVwZGF0ZXMgPSBDb2xsZWN0aW9ucy5FTVBUWV9NQVA7\nCiAgICBwdWJsaWMgaW50IGRpc3RpbmN0ID0gRElTVElOQ1RfQVVUTzsKICAg\nIHB1YmxpYyBTdHJpbmcgYWxpYXMgPSBudWxsOwogICAgcHVibGljIFZhbHVl\nW10gcHJvamVjdGlvbnMgPSBFTVBUWV9WQUxVRVM7CiAgICBwdWJsaWMgU3Ry\naW5nW10gcHJvamVjdGlvbkNsYXVzZXMgPSBTdG9yZVF1ZXJ5LkVNUFRZX1NU\nUklOR1M7CiAgICBwdWJsaWMgU3RyaW5nW10gcHJvamVjdGlvbkFsaWFzZXMg\nPSBTdG9yZVF1ZXJ5LkVNUFRZX1NUUklOR1M7CiAgICBwdWJsaWMgQ2xhc3Mg\ncmVzdWx0Q2xhc3MgPSBudWxsOwogICAgcHVibGljIEV4cHJlc3Npb24gZmls\ndGVyID0gbnVsbDsKICAgIHB1YmxpYyBWYWx1ZVtdIGdyb3VwaW5nID0gRU1Q\nVFlfVkFMVUVTOwogICAgcHVibGljIFN0cmluZ1tdIGdyb3VwaW5nQ2xhdXNl\ncyA9IFN0b3JlUXVlcnkuRU1QVFlfU1RSSU5HUzsKICAgIHB1YmxpYyBFeHBy\nZXNzaW9uIGhhdmluZyA9IG51bGw7CiAgICBwdWJsaWMgVmFsdWVbXSBvcmRl\ncmluZyA9IEVNUFRZX1ZBTFVFUzsKICAgIHB1YmxpYyBib29sZWFuW10gYXNj\nZW5kaW5nID0gU3RvcmVRdWVyeS5FTVBUWV9CT09MRUFOUzsKICAgIHB1Ymxp\nYyBTdHJpbmdbXSBvcmRlcmluZ0NsYXVzZXMgPSBTdG9yZVF1ZXJ5LkVNUFRZ\nX1NUUklOR1M7CiAgICBwdWJsaWMgTGlua2VkTWFwIHBhcmFtZXRlclR5cGVz\nID0gU3RvcmVRdWVyeS5FTVBUWV9QQVJBTVM7CiAgICBwdWJsaWMgaW50IG9w\nZXJhdGlvbiA9IFF1ZXJ5T3BlcmF0aW9ucy5PUF9TRUxFQ1Q7CiAgICBwdWJs\naWMgQ2xhc3NNZXRhRGF0YVtdIGFjY2Vzc1BhdGggPSBTdG9yZVF1ZXJ5LkVN\nUFRZX01FVEFTOwogICAgcHVibGljIFN0cmluZ1tdIGZldGNoUGF0aHMgPSBT\ndG9yZVF1ZXJ5LkVNUFRZX1NUUklOR1M7CiAgICBwdWJsaWMgU3RyaW5nW10g\nZmV0Y2hJbm5lclBhdGhzID0gU3RvcmVRdWVyeS5FTVBUWV9TVFJJTkdTOwog\nICAgcHVibGljIFZhbHVlW10gcmFuZ2UgPSBFTVBUWV9WQUxVRVM7CiAgICBw\ncml2YXRlIEJvb2xlYW4gX2FnZ3JlZ2F0ZSA9IG51bGw7CgogICAgLyoqCiAg\nICAgKiBXaGV0aGVyIHRoaXMgaXMgYW4gYWdncmVnYXRlIHJlc3VsdHMuCiAg\nICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGlzQWdncmVnYXRlKCkgewogICAg\nICAgIGlmIChwcm9qZWN0aW9ucy5sZW5ndGggPT0gMCkKICAgICAgICAgICAg\ncmV0dXJuIGZhbHNlOyAKICAgICAgICBpZiAoX2FnZ3JlZ2F0ZSA9PSBudWxs\nKQogICAgICAgICAgICBfYWdncmVnYXRlID0gKEFnZ3JlZ2F0ZUV4cHJlc3Np\nb25WaXNpdG9yLmlzQWdncmVnYXRlKHByb2plY3Rpb25zKSkKICAgICAgICAg\nICAgICAgID8gQm9vbGVhbi5UUlVFIDogQm9vbGVhbi5GQUxTRTsKICAgICAg\nICByZXR1cm4gX2FnZ3JlZ2F0ZS5ib29sZWFuVmFsdWUoKTsgICAgCiAgICB9\nCgogICAgLyoqCiAgICAgKiBBZGQgYW4gdXBkYXRlLgogICAgICovCiAgICBw\ndWJsaWMgdm9pZCBwdXRVcGRhdGUoUGF0aCBwYXRoLCBWYWx1ZSB2YWwpIHsK\nICAgICAgICBpZiAodXBkYXRlcyA9PSBDb2xsZWN0aW9ucy5FTVBUWV9NQVAp\nCiAgICAgICAgICAgIHVwZGF0ZXMgPSBuZXcgTGlua2VkSGFzaE1hcDxQYXRo\nLCBWYWx1ZT4oKTsKICAgICAgICB1cGRhdGVzLnB1dChwYXRoLCB2YWwpOwog\nICAgfQoKICAgIC8qKgogICAgICogVmlzaXRvciB0byBkZXRlcm1pbmUgd2hl\ndGhlciBvdXIgcHJvamVjdGlvbnMgYXJlIGFnZ3JlZ2F0ZXMuCiAgICAgKi8K\nICAgIHByaXZhdGUgc3RhdGljIGNsYXNzIEFnZ3JlZ2F0ZUV4cHJlc3Npb25W\naXNpdG9yCiAgICAgICAgZXh0ZW5kcyBBYnN0cmFjdEV4cHJlc3Npb25WaXNp\ndG9yIHsKICAgICAgICAKICAgICAgICBwcml2YXRlIFZhbHVlIF9zdWIgPSBu\ndWxsOwogICAgICAgIHByaXZhdGUgYm9vbGVhbiBfYWdnID0gZmFsc2U7Cgog\nICAgICAgIC8qKgogICAgICAgICAqIFJldHVybiB3aGV0aGVyIHRoZSBnaXZl\nbiB2YWx1ZXMgaW5jbHVkZSBwcm9qZWN0aW9ucy4KICAgICAgICAgKi8KICAg\nICAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gaXNBZ2dyZWdhdGUoVmFsdWVb\nXSB2YWxzKSB7CiAgICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PSAwKQog\nICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBBZ2dy\nZWdhdGVFeHByZXNzaW9uVmlzaXRvciB2ID0gbmV3IEFnZ3JlZ2F0ZUV4cHJl\nc3Npb25WaXNpdG9yKCk7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgdmFscy5sZW5ndGggJiYgIXYuX2FnZzsgaSsrKQogICAgICAgICAgICAg\nICAgdmFsc1tpXS5hY2NlcHRWaXNpdCh2KTsKICAgICAgICAgICAgcmV0dXJu\nIHYuX2FnZzsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lkIGVudGVy\nKFZhbHVlIHZhbCkgewogICAgICAgICAgICBpZiAoX2FnZykKICAgICAgICAg\nICAgICAgIHJldHVybjsKICAgICAgICAgICAgaWYgKF9zdWIgPT0gbnVsbCkg\newogICAgICAgICAgICAgICAgaWYgKHZhbC5pc0FnZ3JlZ2F0ZSgpKQogICAg\nICAgICAgICAgICAgICAgIF9hZ2cgPSB0cnVlOwogICAgICAgICAgICB9IGVs\nc2UgaWYgKHZhbCBpbnN0YW5jZW9mIFN1YnF1ZXJ5KQogICAgICAgICAgICAg\nICAgX3N1YiA9IHZhbDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyB2b2lk\nIGV4aXQoVmFsdWUgdmFsKSB7CiAgICAgICAgICAgIGlmICh2YWwgPT0gX3N1\nYikKICAgICAgICAgICAgICAgIF9zdWIgPSBudWxsOwogICAgICAgIH0KICAg\nIH0KfQo=\n","encoding":"base64"}

