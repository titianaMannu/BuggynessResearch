{"sha":"904b330bc4d018dd2b978b204897811290d8d6d8","node_id":"MDQ6QmxvYjIwNjM2NDo5MDRiMzMwYmM0ZDAxOGRkMmI5NzhiMjA0ODk3ODExMjkwZDhkNmQ4","size":10367,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/904b330bc4d018dd2b978b204897811290d8d6d8","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YTsKCmltcG9ydCBqYXZh\nLmlvLkZpbGU7CmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKaW1wb3J0\nIGphdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlcjsKaW1wb3J0IGphdmEu\nc2VjdXJpdHkuUHJpdmlsZWdlZEFjdGlvbkV4Y2VwdGlvbjsKCmltcG9ydCBv\ncmcuYXBhY2hlLmNvbW1vbnMubGFuZy5TdHJpbmdVdGlsczsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5jb25mLlNlcVZhbHVlOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLmtlcm5lbC5TZXE7CmltcG9ydCBvcmcuYXBhY2hlLm9w\nZW5qcGEubGliLmNvbmYuQ29uZmlndXJhdGlvbnM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEubGliLmNvbmYuUGx1Z2luVmFsdWU7CmltcG9ydCBvcmcu\nYXBhY2hlLm9wZW5qcGEubGliLm1ldGEuU291cmNlVHJhY2tlcjsKaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5saWIudXRpbC5DbG9zZWFibGU7CmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuSjJEb1ByaXZIZWxwZXI7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuTG9jYWxpemVy\nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmxpYi54bWwuQ29tbWVudGFi\nbGU7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEudXRpbC5NZXRhRGF0YUV4\nY2VwdGlvbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLk9wZW5K\nUEFFeGNlcHRpb247CgovKioKICogTWV0YWRhdGEgYWJvdXQgYSBuYW1lZCBz\nZXF1ZW5jZS4KICoKICogQGF1dGhvciBBYmUgV2hpdGUKICogQHNpbmNlIDAu\nNC4wCiAqLwpwdWJsaWMgY2xhc3MgU2VxdWVuY2VNZXRhRGF0YQogICAgaW1w\nbGVtZW50cyBTb3VyY2VUcmFja2VyLCBNZXRhRGF0YUNvbnRleHQsIENsb3Nl\nYWJsZSwgQ29tbWVudGFibGUsCiAgICBTZXJpYWxpemFibGUgewoKICAgIC8q\nKgogICAgICogU2VxdWVuY2UgbmFtZSB0aGF0IG1lYW5zIHRvIHVzZSB0aGUg\nc3lzdGVtIGRlZmF1bHQgc2VxdWVuY2UuCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgU3RyaW5nIE5BTUVfU1lTVEVNID0gInN5c3RlbSI7Cgog\nICAgLyoqCiAgICAgKiBEZWZhdWx0IHBsdWdpbiBhbGlhcyBuYW1lOyBldmVy\neSBiYWNrIGVuZCBzaG91bGQgaGF2ZSBzb21lICduYXRpdmUnCiAgICAgKiBz\nZXF1ZW5jZSBpbXBsZW1lbnRhdGlvbi4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBTdHJpbmcgSU1QTF9OQVRJVkUgPSAibmF0aXZlIjsKCiAg\nICAvKioKICAgICAqIFRpbWUtYmFzZWQgc2VxdWVuY2UgdmFsdWVzLgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBJTVBMX1RJTUUg\nPSAidGltZSI7CgogICAgLy8gcGx1Z2luIHByb3BlcnR5IG5hbWVzIGZvciBz\ndGFuZGFyZCBwcm9wcwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5n\nIFBST1BfU0VRVUVOQ0UgPSAiU2VxdWVuY2UiOwogICAgcHJpdmF0ZSBzdGF0\naWMgZmluYWwgU3RyaW5nIFBST1BfSU5JVElBTF9WQUxVRSA9ICJJbml0aWFs\nVmFsdWUiOwogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBST1Bf\nQUxMT0NBVEUgPSAiQWxsb2NhdGUiOwogICAgcHJpdmF0ZSBzdGF0aWMgZmlu\nYWwgU3RyaW5nIFBST1BfSU5DUkVNRU5UID0gIkluY3JlbWVudCI7CgogICAg\ncHJpdmF0ZSBzdGF0aWMgZmluYWwgTG9jYWxpemVyIF9sb2MgPSBMb2NhbGl6\nZXIuZm9yUGFja2FnZQogICAgICAgIChTZXF1ZW5jZU1ldGFEYXRhLmNsYXNz\nKTsKCiAgICBwcml2YXRlIE1ldGFEYXRhUmVwb3NpdG9yeSBfcmVwb3M7CiAg\nICBwcml2YXRlIFNlcXVlbmNlRmFjdG9yeSBfZmFjdG9yeSA9IG51bGw7CiAg\nICAKICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIF9uYW1lOwogICAgcHJpdmF0\nZSBpbnQgX3R5cGUgPSBTZXEuVFlQRV9ERUZBVUxUOwogICAgcHJpdmF0ZSBT\ndHJpbmcgX3BsdWdpbiA9IElNUExfTkFUSVZFOwogICAgcHJpdmF0ZSBGaWxl\nIF9zb3VyY2UgPSBudWxsOwogICAgcHJpdmF0ZSBPYmplY3QgX3Njb3BlID0g\nbnVsbDsKICAgIHByaXZhdGUgaW50IF9zcmNUeXBlID0gU1JDX09USEVSOwog\nICAgcHJpdmF0ZSBTdHJpbmdbXSBfY29tbWVudHMgPSBudWxsOwogICAgcHJp\ndmF0ZSBTdHJpbmcgX3NlcXVlbmNlID0gbnVsbDsKICAgIHByaXZhdGUgaW50\nIF9pbmNyZW1lbnQgPSAtMTsKICAgIHByaXZhdGUgaW50IF9hbGxvY2F0ZSA9\nIC0xOwogICAgcHJpdmF0ZSBpbnQgX2luaXRpYWwgPSAtMTsKCiAgICAvLyBp\nbnN0YW50aWF0ZWQgbGF6aWx5CiAgICBwcml2YXRlIHRyYW5zaWVudCBTZXEg\nX2luc3RhbmNlID0gbnVsbDsKCiAgICAvKioKICAgICAqIENvbnN0cnVjdG9y\nOyBzdXBwbHkgc2VxdWVuY2UgbmFtZS4KICAgICAqLwogICAgcHVibGljIFNl\ncXVlbmNlTWV0YURhdGEoU3RyaW5nIG5hbWUsIE1ldGFEYXRhUmVwb3NpdG9y\neSByZXBvcykgewogICAgICAgIF9uYW1lID0gbmFtZTsKICAgICAgICBfcmVw\nb3MgPSByZXBvczsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBvd25pbmcg\ncmVwb3NpdG9yeS4KICAgICAqLwogICAgcHVibGljIE1ldGFEYXRhUmVwb3Np\ndG9yeSBnZXRSZXBvc2l0b3J5KCkgewogICAgICAgIHJldHVybiBfcmVwb3M7\nCiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgc2VxdWVuY2UgbmFtZS4KICAg\nICAqLwogICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkgewogICAgICAgIHJl\ndHVybiBfbmFtZTsKICAgIH0KCiAgICBwdWJsaWMgRmlsZSBnZXRTb3VyY2VG\naWxlKCkgewogICAgICAgIHJldHVybiBfc291cmNlOwogICAgfQoKICAgIHB1\nYmxpYyBPYmplY3QgZ2V0U291cmNlU2NvcGUoKSB7CiAgICAgICAgcmV0dXJu\nIF9zY29wZTsKICAgIH0KCiAgICBwdWJsaWMgaW50IGdldFNvdXJjZVR5cGUo\nKSB7CiAgICAgICAgcmV0dXJuIF9zcmNUeXBlOwogICAgfQoKICAgIHB1Ymxp\nYyB2b2lkIHNldFNvdXJjZShGaWxlIGZpbGUsIE9iamVjdCBzY29wZSwgaW50\nIHNyY1R5cGUpIHsKICAgICAgICBfc291cmNlID0gZmlsZTsKICAgICAgICBf\nc2NvcGUgPSBzY29wZTsKICAgICAgICBfc3JjVHlwZSA9IHNyY1R5cGU7CiAg\nICB9CgogICAgcHVibGljIFN0cmluZyBnZXRSZXNvdXJjZU5hbWUoKSB7CiAg\nICAgICAgcmV0dXJuIF9uYW1lOwogICAgfQoKICAgIC8qKgogICAgICogVGhl\nIHNlcXVlbmNlIHR5cGUuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0VHlw\nZSgpIHsKICAgICAgICByZXR1cm4gX3R5cGU7CiAgICB9CgogICAgLyoqCiAg\nICAgKiBUaGUgc2VxdWVuY2UgdHlwZS4KICAgICAqLwogICAgcHVibGljIHZv\naWQgc2V0VHlwZShpbnQgdHlwZSkgewogICAgICAgIF90eXBlID0gdHlwZTsK\nICAgIH0KCiAgICAvKioKICAgICAqIE5hdGl2ZSBzZXF1ZW5jZSBuYW1lLgog\nICAgICovCiAgICBwdWJsaWMgU3RyaW5nIGdldFNlcXVlbmNlKCkgewogICAg\nICAgIHJldHVybiBfc2VxdWVuY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBO\nYXRpdmUgc2VxdWVuY2UgbmFtZS4KICAgICAqLwogICAgcHVibGljIHZvaWQg\nc2V0U2VxdWVuY2UoU3RyaW5nIHNlcXVlbmNlKSB7CiAgICAgICAgX3NlcXVl\nbmNlID0gc2VxdWVuY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXF1ZW5j\nZSBpbmNyZW1lbnQsIG9yIC0xIGZvciBkZWZhdWx0LgogICAgICovCiAgICBw\ndWJsaWMgaW50IGdldEluY3JlbWVudCgpIHsKICAgICAgICByZXR1cm4gX2lu\nY3JlbWVudDsKICAgIH0KCiAgICAvKioKICAgICAqIFNlcXVlbmNlIGluY3Jl\nbWVudCwgb3IgLTEgZm9yIGRlZmF1bHQuCiAgICAgKi8KICAgIHB1YmxpYyB2\nb2lkIHNldEluY3JlbWVudChpbnQgaW5jcmVtZW50KSB7CiAgICAgICAgX2lu\nY3JlbWVudCA9IGluY3JlbWVudDsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ncXVlbmNlIHZhbHVlcyB0byBhbGxvY2F0ZSwgb3IgLTEgZm9yIGRlZmF1bHQu\nCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0QWxsb2NhdGUoKSB7CiAgICAg\nICAgcmV0dXJuIF9hbGxvY2F0ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNl\ncXVlbmNlIHZhbHVlcyB0byBhbGxvY2F0ZSwgb3IgLTEgZm9yIGRlZmF1bHQu\nCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldEFsbG9jYXRlKGludCBhbGxv\nY2F0ZSkgewogICAgICAgIF9hbGxvY2F0ZSA9IGFsbG9jYXRlOwogICAgfQoK\nICAgIC8qKgogICAgICogSW5pdGlhbCBzZXF1ZW5jZSB2YWx1ZSwgb3IgLTEg\nZm9yIGRlZmF1bHQuCiAgICAgKi8KICAgIHB1YmxpYyBpbnQgZ2V0SW5pdGlh\nbFZhbHVlKCkgewogICAgICAgIHJldHVybiBfaW5pdGlhbDsKICAgIH0KCiAg\nICAvKioKICAgICAqIEluaXRpYWwgc2VxdWVuY2UgdmFsdWUsIG9yIC0xIGZv\nciBkZWZhdWx0LgogICAgICovCiAgICBwdWJsaWMgdm9pZCBzZXRJbml0aWFs\nVmFsdWUoaW50IGluaXRpYWwpIHsKICAgICAgICBfaW5pdGlhbCA9IGluaXRp\nYWw7CiAgICB9CgogICAgLyoqCiAgICAgKiBQbHVnaW4gc3RyaW5nIGRlc2Ny\naWJpbmcgdGhlIHtAbGluayBTZXF9LgogICAgICovCiAgICBwdWJsaWMgU3Ry\naW5nIGdldFNlcXVlbmNlUGx1Z2luKCkgewogICAgICAgIHJldHVybiBfcGx1\nZ2luOwogICAgfQoKICAgIC8qKgogICAgICogUGx1Z2luIHN0cmluZyBkZXNj\ncmliaW5nIHRoZSB7QGxpbmsgU2VxfS4KICAgICAqLwogICAgcHVibGljIHZv\naWQgc2V0U2VxdWVuY2VQbHVnaW4oU3RyaW5nIHBsdWdpbikgewogICAgICAg\nIF9wbHVnaW4gPSBwbHVnaW47CiAgICB9CgogICAgLyoqCiAgICAgKiBBIGZh\nY3RvcnkgdG8gdHJhbnNmb3JtIHNwZWMgc2VxdWVuY2VzIHByb2R1Y2VkIGJ5\nIHVzZXIgZmFjdG9yaWVzIGludG8KICAgICAqIHRoZSBPcGVuSlBBIHNlcXVl\nbmNlIHR5cGUuCiAgICAgKi8KICAgIHB1YmxpYyBTZXF1ZW5jZUZhY3Rvcnkg\nZ2V0U2VxdWVuY2VGYWN0b3J5KCkgewogICAgICAgIHJldHVybiBfZmFjdG9y\neTsKICAgIH0KCiAgICAvKioKICAgICAqIEEgZmFjdG9yeSB0byB0cmFuc2Zv\ncm0gc3BlYyBzZXF1ZW5jZXMgcHJvZHVjZWQgYnkgdXNlciBmYWN0b3JpZXMg\naW50bwogICAgICogdGhlIE9wZW5KUEEgc2VxdWVuY2UgdHlwZS4KICAgICAq\nLwogICAgcHVibGljIHZvaWQgc2V0U2VxdWVuY2VGYWN0b3J5KFNlcXVlbmNl\nRmFjdG9yeSBmYWN0b3J5KSB7CiAgICAgICAgX2ZhY3RvcnkgPSBmYWN0b3J5\nOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBpbml0aWFsaXpl\nZCBzZXF1ZW5jZSBpbnN0YW5jZS4KICAgICAqLwogICAgcHVibGljIHN5bmNo\ncm9uaXplZCBTZXEgZ2V0SW5zdGFuY2UoQ2xhc3NMb2FkZXIgZW52TG9hZGVy\nKSB7CiAgICAgICAgaWYgKF9pbnN0YW5jZSA9PSBudWxsKQogICAgICAgICAg\nICBfaW5zdGFuY2UgPSBpbnN0YW50aWF0ZShlbnZMb2FkZXIpOwogICAgICAg\nIHJldHVybiBfaW5zdGFuY2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVh\ndGUgYSBuZXcgdW5pbml0aWFsaXplZCBpbnN0YW5jZSBvZiB0aGlzIHNlcXVl\nbmNlLgogICAgICovCiAgICBwcm90ZWN0ZWQgU2VxIGluc3RhbnRpYXRlKENs\nYXNzTG9hZGVyIGVudkxvYWRlcikgewogICAgICAgIGlmIChOQU1FX1NZU1RF\nTS5lcXVhbHMoX25hbWUpKQogICAgICAgICAgICByZXR1cm4gX3JlcG9zLmdl\ndENvbmZpZ3VyYXRpb24oKS5nZXRTZXF1ZW5jZUluc3RhbmNlKCk7CgogICAg\nICAgIHRyeSB7CiAgICAgICAgICAgIFBsdWdpblZhbHVlIHBsdWdpbiA9IG5l\nd1BsdWdpblZhbHVlKCJzZXF1ZW5jZS1wbHVnaW4iKTsKICAgICAgICAgICAg\ncGx1Z2luLnNldFN0cmluZyhfcGx1Z2luKTsKICAgICAgICAgICAgU3RyaW5n\nIGNsc05hbWUgPSBwbHVnaW4uZ2V0Q2xhc3NOYW1lKCk7CgogICAgICAgICAg\nICBDbGFzcyBjbHMgPSBDbGFzcy5mb3JOYW1lKGNsc05hbWUsIHRydWUsCiAg\nICAgICAgICAgICAgICAoQ2xhc3NMb2FkZXIpIEFjY2Vzc0NvbnRyb2xsZXIu\nZG9Qcml2aWxlZ2VkKAogICAgICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVs\ncGVyLmdldENsYXNzTG9hZGVyQWN0aW9uKFNlcS5jbGFzcykpKTsKICAgICAg\nICAgICAgU3RyaW5nQnVmZmVyIHByb3BzID0gbmV3IFN0cmluZ0J1ZmZlcigp\nOwogICAgICAgICAgICBpZiAocGx1Z2luLmdldFByb3BlcnRpZXMoKSAhPSBu\ndWxsKQogICAgICAgICAgICAgICAgcHJvcHMuYXBwZW5kKHBsdWdpbi5nZXRQ\ncm9wZXJ0aWVzKCkpOwogICAgICAgICAgICBhZGRTdGFuZGFyZFByb3BlcnRp\nZXMocHJvcHMpOwoKICAgICAgICAgICAgLy8gYWxsb3cgdXNlci1jbGFzcyBz\ncGVjaWZpY2F0aW9uIG9mIGVpdGhlciBvdXIgc2VxdWVuY2UKICAgICAgICAg\nICAgLy8gaW50ZXJmYWNlIG9yIGEgZmFjdG9yeSBjbGFzcwogICAgICAgICAg\nICBTZXEgc2VxOwogICAgICAgICAgICBpZiAoU2VxLmNsYXNzLmlzQXNzaWdu\nYWJsZUZyb20oY2xzKSkgewogICAgICAgICAgICAgICAgc2VxID0gKFNlcSkg\nQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoCiAgICAgICAgICAgICAg\nICAgICAgSjJEb1ByaXZIZWxwZXIubmV3SW5zdGFuY2VBY3Rpb24oY2xzKSk7\nCiAgICAgICAgICAgICAgICBDb25maWd1cmF0aW9ucy5jb25maWd1cmVJbnN0\nYW5jZShzZXEsCiAgICAgICAgICAgICAgICAgICAgX3JlcG9zLmdldENvbmZp\nZ3VyYXRpb24oKSwgcHJvcHMudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAg\nICBpZihfdHlwZSAhPSBTZXEuVFlQRV9ERUZBVUxUKQogICAgICAgICAgICAg\nICAgICAgIHNlcS5zZXRUeXBlKF90eXBlKTsKICAgICAgICAgICAgfSBlbHNl\nIGlmIChfZmFjdG9yeSAhPSBudWxsKQogICAgICAgICAgICAgICAgc2VxID0g\nX2ZhY3RvcnkudG9TZXF1ZW5jZShjbHMsIHByb3BzLnRvU3RyaW5nKCkpOwog\nICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0\nYURhdGFFeGNlcHRpb24oX2xvYy5nZXQoIm5vdC1zZXEtY2xzIiwgX25hbWUs\nCiAgICAgICAgICAgICAgICAgICAgY2xzKSk7CiAgICAgICAgICAgIHJldHVy\nbiBzZXE7CiAgICAgICAgfSBjYXRjaCAoT3BlbkpQQUV4Y2VwdGlvbiBrZSkg\newogICAgICAgICAgICB0aHJvdyBrZTsKICAgICAgICB9IGNhdGNoIChFeGNl\ncHRpb24gZSkgewogICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFByaXZp\nbGVnZWRBY3Rpb25FeGNlcHRpb24pCiAgICAgICAgICAgICAgICBlID0gKChQ\ncml2aWxlZ2VkQWN0aW9uRXhjZXB0aW9uKSBlKS5nZXRFeGNlcHRpb24oKTsK\nICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGFEYXRhRXhjZXB0aW9uKF9sb2Mu\nZ2V0KCJjYW50LWluaXQtc2VxIiwgX25hbWUpKS4KICAgICAgICAgICAgICAg\nIHNldENhdXNlKGUpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAq\nIENyZWF0ZSBhIG5ldyBwbHVnaW4gdmFsdWUgZm9yIHNlcXVlbmNlcy4gUmV0\ndXJucyBhIHN0YW5kYXJkCiAgICAgKiB7QGxpbmsgU2VxVmFsdWV9IGJ5IGRl\nZmF1bHQuCiAgICAgKi8KICAgIHByb3RlY3RlZCBQbHVnaW5WYWx1ZSBuZXdQ\nbHVnaW5WYWx1ZShTdHJpbmcgcHJvcGVydHkpIHsKICAgICAgICByZXR1cm4g\nbmV3IFNlcVZhbHVlKHByb3BlcnR5KTsKICAgIH0KCiAgICAvKioKICAgICAq\nIEFkZCBzdGFuZGFyZCBwcm9wZXJ0aWVzIHRvIHRoZSBnaXZlbiBwcm9wZXJ0\naWVzIGJ1ZmZlci4KICAgICAqLwogICAgcHJvdGVjdGVkIHZvaWQgYWRkU3Rh\nbmRhcmRQcm9wZXJ0aWVzKFN0cmluZ0J1ZmZlciBwcm9wcykgewogICAgICAg\nIGFwcGVuZFByb3BlcnR5KHByb3BzLCBQUk9QX1NFUVVFTkNFLCBfc2VxdWVu\nY2UpOwogICAgICAgIGFwcGVuZFByb3BlcnR5KHByb3BzLCBQUk9QX0lOSVRJ\nQUxfVkFMVUUsIF9pbml0aWFsKTsKICAgICAgICBhcHBlbmRQcm9wZXJ0eShw\ncm9wcywgUFJPUF9BTExPQ0FURSwgX2FsbG9jYXRlKTsKICAgICAgICBhcHBl\nbmRQcm9wZXJ0eShwcm9wcywgUFJPUF9JTkNSRU1FTlQsIF9pbmNyZW1lbnQp\nOwogICAgfQoKICAgIC8qKgogICAgICogQWRkIGEgc3RyaW5nIHByb3BlcnR5\nIHRvIHRoZSBidWZmZXIuIE5vdGhpbmcgd2lsbCBiZSBhZGRlZCBpZiB2YWx1\nZQogICAgICogaXMgbnVsbCBvciBlbXB0eSBzdHJpbmcuCiAgICAgKi8KICAg\nIHByb3RlY3RlZCB2b2lkIGFwcGVuZFByb3BlcnR5KFN0cmluZ0J1ZmZlciBw\ncm9wcywgU3RyaW5nIG5hbWUsIFN0cmluZyB2YWwpIHsKICAgICAgICBpZiAo\nU3RyaW5nVXRpbHMuaXNFbXB0eSh2YWwpKQogICAgICAgICAgICByZXR1cm47\nCiAgICAgICAgaWYgKHByb3BzLmxlbmd0aCgpID4gMCkKICAgICAgICAgICAg\ncHJvcHMuYXBwZW5kKCIsIik7CiAgICAgICAgcHJvcHMuYXBwZW5kKG5hbWUp\nLmFwcGVuZCgiPSIpLmFwcGVuZCh2YWwpOwogICAgfQoKICAgIC8qKgogICAg\nICogQWRkIGFuIGludCBwcm9wZXJ0eSB0byB0aGUgYnVmZmVyLiBOb3RoaW5n\nIHdpbGwgYmUgYWRkZWQgaWYgdmFsdWUgaXMgLTEuCiAgICAgKi8KICAgIHBy\nb3RlY3RlZCB2b2lkIGFwcGVuZFByb3BlcnR5KFN0cmluZ0J1ZmZlciBwcm9w\ncywgU3RyaW5nIG5hbWUsIGludCB2YWwpIHsKICAgICAgICBpZiAodmFsID09\nIC0xKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHByb3BzLmxl\nbmd0aCgpID4gMCkKICAgICAgICAgICAgcHJvcHMuYXBwZW5kKCIsIik7CiAg\nICAgICAgcHJvcHMuYXBwZW5kKG5hbWUpLmFwcGVuZCgiPSIpLmFwcGVuZCh2\nYWwpOwogICAgfQoKICAgIC8qKgogICAgICogQ2xvc2UgdXNlciBzZXF1ZW5j\nZSBpbnN0YW5jZS4KICAgICAqLwogICAgcHVibGljIHZvaWQgY2xvc2UoKSB7\nCiAgICAgICAgaWYgKF9pbnN0YW5jZSAhPSBudWxsICYmICFOQU1FX1NZU1RF\nTS5lcXVhbHMoX25hbWUpKQogICAgICAgICAgICB0cnkgewogICAgICAgICAg\nICAgICAgX2luc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgICAgIH0gY2F0Y2gg\nKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIH0KICAgIH0KCiAgICBAT3Zl\ncnJpZGUKICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7CiAgICAgICAg\ncmV0dXJuIF9uYW1lOwogICAgfQoKICAgIC8vLy8vLy8vLy8vLy8vLwogICAg\nLy8gQ29tbWVudGFibGUKICAgIC8vLy8vLy8vLy8vLy8vLwoKICAgIHB1Ymxp\nYyBTdHJpbmdbXSBnZXRDb21tZW50cygpIHsKICAgICAgICByZXR1cm4gKF9j\nb21tZW50cyA9PSBudWxsKSA/IEVNUFRZX0NPTU1FTlRTIDogX2NvbW1lbnRz\nOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHNldENvbW1lbnRzKFN0cmluZ1td\nIGNvbW1lbnRzKSB7CiAgICAgICAgX2NvbW1lbnRzID0gY29tbWVudHM7CiAg\nICB9CiAgICAKICAgIC8qKgogICAgICogQWxsb3cgZmFjYWRlcyB0byBzdXBw\nbHkgYWRhcHRlcnMgZnJvbSBhIHNwZWMgc2VxdWVuY2UgdHlwZSB0byB0aGUK\nICAgICAqIE9wZW5KUEEgc2VxdWVuY2UgdHlwZS4KICAgICAqLwogICAgcHVi\nbGljIHN0YXRpYyBpbnRlcmZhY2UgU2VxdWVuY2VGYWN0b3J5IAogICAgICAg\nIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsKCiAgICAgICAgLyoqCiAgICAgICAg\nICogVHJhbnNmb3JtIHRoZSBnaXZlbiBjbGFzcyBuYW1lZCBpbiBtZXRhZGF0\nYSBpbnRvIGEgc2VxdWVuY2UuCiAgICAgICAgICovCgkJcHVibGljIFNlcSB0\nb1NlcXVlbmNlIChDbGFzcyBjbHMsIFN0cmluZyBwcm9wcykKCQkJdGhyb3dz\nIEV4Y2VwdGlvbjsKCX0KfQo=\n","encoding":"base64"}

