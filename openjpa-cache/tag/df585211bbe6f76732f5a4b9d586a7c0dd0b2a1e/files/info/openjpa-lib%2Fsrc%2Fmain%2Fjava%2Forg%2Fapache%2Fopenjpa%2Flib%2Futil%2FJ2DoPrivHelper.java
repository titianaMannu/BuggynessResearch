{"sha":"35b3af3f5a4f23152a3856dd8fbaae82272360bb","node_id":"MDQ6QmxvYjIwNjM2NDozNWIzYWYzZjVhNGYyMzE1MmEzODU2ZGQ4ZmJhYWU4MjI3MjM2MGJi","size":31754,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/35b3af3f5a4f23152a3856dd8fbaae82272360bb","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWw7CgppbXBvcnQg\namF2YS5pby5GaWxlOwppbXBvcnQgamF2YS5pby5GaWxlSW5wdXRTdHJlYW07\nCmltcG9ydCBqYXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlvbjsKaW1wb3J0\nIGphdmEuaW8uRmlsZU91dHB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uSU9F\neGNlcHRpb247CmltcG9ydCBqYXZhLmxhbmcucmVmbGVjdC5BY2Nlc3NpYmxl\nT2JqZWN0OwppbXBvcnQgamF2YS5uZXQuSW5ldEFkZHJlc3M7CmltcG9ydCBq\nYXZhLm5ldC5NYWxmb3JtZWRVUkxFeGNlcHRpb247CmltcG9ydCBqYXZhLm5l\ndC5TZXJ2ZXJTb2NrZXQ7CmltcG9ydCBqYXZhLm5ldC5Tb2NrZXQ7CmltcG9y\ndCBqYXZhLm5ldC5VUkw7CmltcG9ydCBqYXZhLm5ldC5VUkxDb25uZWN0aW9u\nOwppbXBvcnQgamF2YS5uZXQuVW5rbm93bkhvc3RFeGNlcHRpb247CmltcG9y\ndCBqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXI7CmltcG9ydCBqYXZh\nLnNlY3VyaXR5LlByaXZpbGVnZWRBY3Rpb247CmltcG9ydCBqYXZhLnNlY3Vy\naXR5LlByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb247CmltcG9ydCBqYXZhLnV0\naWwuemlwLlppcEZpbGU7CgppbXBvcnQgc2VycC5ieXRlY29kZS5CQ0NsYXNz\nOwppbXBvcnQgc2VycC5ieXRlY29kZS5CQ0NsYXNzTG9hZGVyOwppbXBvcnQg\nc2VycC5ieXRlY29kZS5Db2RlOwppbXBvcnQgc2VycC5ieXRlY29kZS5GaWVs\nZEluc3RydWN0aW9uOwppbXBvcnQgc2VycC5ieXRlY29kZS5Qcm9qZWN0OwoK\nLyoqCiAqIEhlbHBlciBjbGFzcyB0byBvYnRhaW4gdGhlIFByaXZpbGVnZShF\neGNlcHRpb24pQWN0aW9uIG9iamVjdCB0byBwZXJmb3JtCiAqIEphdmEgMiBk\nb1ByaXZpbGVnZSBzZWN1cml0eSBzZW5zaXRpdmUgZnVuY3Rpb24gY2FsbCBp\nbiB0aGUgZm9sbG93aW5nCiAqIG1ldGhvZHM6CiAqIDx1bD4KICogPGxpPkFj\nY2Vzc2libGVPYmplY3Quc2V0QWNjZXNzaWJsZQogKiA8bGk+Q2xhc3MuZm9y\nTmFtZQogKiA8bGk+Q2xhc3MuZ2V0Q2xhc3NMb2FkZXIKICogPGxpPkNsYXNz\nLmdldERlY2xhcmVkRmllbGQKICogPGxpPkNsYXNzLmdldERlY2xhcmVkRmll\nbGRzCiAqIDxsaT5DbGFzcy5nZXREZWNsYXJlZE1ldGhvZAogKiA8bGk+Q2xh\nc3MuZ2V0RGVjbGFyZWRNZXRob2RzCiAqIDxsaT5DbGFzcy5nZXRSZXNvdXJj\nZQogKiA8bGk+Q2xhc3MubmV3SW5zdGFuY2UKICogPGxpPkNsYXNzTG9hZGVy\nLmdldFBhcmVudAogKiA8bGk+Q2xhc3NMb2FkZXIuZ2V0UmVzb3VyY2UKICog\nPGxpPkNsYXNzTG9hZGVyLmdldFJlc291cmNlcwogKiA8bGk+Q2xhc3NMb2Fk\nZXIuZ2V0U3lzdGVtQ2xhc3NMb2FkZXIKICogPGxpPkZpbGUuZGVsZXRlCiAq\nIDxsaT5GaWxlLmV4aXN0cwogKiA8bGk+RmlsZS5nZXRBYnNvbHV0ZUZpbGUK\nICogPGxpPkZpbGUuZ2V0QWJzb2x1dGVQYXRoCiAqIDxsaT5GaWxlLmdldENh\nbm9uaWNhbFBhdGgKICogPGxpPkZpbGUubGlzdEZpbGVzCiAqIDxsaT5GaWxl\nLmxlbmd0aAogKiA8bGk+RmlsZS5pc0RpcmVjdG9yeQogKiA8bGk+RmlsZS5t\na2RpcnMKICogPGxpPkZpbGUucmVuYW1lVG8KICogPGxpPkZpbGUudG9VUkwK\nICogPGxpPkZpbGVJbnB1dFN0cmVhbSBuZXcKICogPGxpPkZpbGVPdXRwdXRT\ndHJlYW0gbmV3CiAqIDxsaT5TeXN0ZW0uZ2V0UHJvcGVydGllcwogKiA8bGk+\nSW5ldEFkZHJlc3MuZ2V0QnlOYW1lCiAqIDxsaT5NdWx0aUNsYXNzTG9hZGVy\nIG5ldwogKiA8bGk+U2VydmVyU29ja2V0IG5ldwogKiA8bGk+U29ja2V0IG5l\ndwogKiA8bGk+U29ja2V0LmFjY2VwdAogKiA8bGk+U3lzdGVtLmdldFByb3Bl\ncnR5CiAqIDxsaT5UaHJlYWQuZ2V0Q29udGV4dENsYXNzTG9hZGVyCiAqIDxs\naT5UaHJlYWQgbmV3CiAqIDxsaT5UZW1wb3JhcnlDbGFzc0xvYWRlciBuZXcK\nICogPGxpPlVSTC5vcGVuU3RyZWFtCiAqIDxsaT5VUkxDb25uZWN0aW9uLmdl\ndENvbnRlbnQKICogPGxpPlppcEZpbGUgbmV3CiAqIDxsaT5zZXJwLmJ5dGVj\nb2RlLkNvZGUgbmV3CiAqIDxsaT5zZXJwLmJ5dGVjb2RlLkJDQ2xhc3NMb2Fk\nZXIgbmV3CiAqIDxsaT5zZXJwLmJ5dGVjb2RlLkJDQ2xhc3Mud3JpdGUKICog\nPGxpPnNlcnAuYnl0ZWNvZGUuQkNDbGFzcy5nZXRGaWVsZHMKICogPGxpPnNl\ncnAuYnl0ZWNvZGUuRmllbGRJbnN0cnVjdGlvbi5nZXRGaWVsZAogKiA8bGk+\nc2VycC5ieXRlY29kZS5Qcm9qZWN0LmxvYWRDbGFzcwogKiA8L3VsPgogKiAK\nICogSWYgdGhlc2UgbWV0aG9kcyBhcmUgdXNlZCwgdGhlIGZvbGxvd2luZyBz\nYW1wbGUgdXNhZ2UgcGF0dGVybnMgc2hvdWxkIGJlCiAqIGZvbGxvd2VkIHRv\nIGVuc3VyZSBwcm9wZXIgcHJpdmlsZWdlIGlzIGdyYW50ZWQ6CiAqIDx4bXA+\nCiAqIDEpIE5vIHNlY3VyaXR5IHJpc2sgbWV0aG9kIGNhbGwuIEUuZy4KICog\nIAogKiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgU0VQID0gSjJE\nb1ByaXZIZWxwZXIuZ2V0TGluZVNlcGFyYXRvcigpOwogKiAKICogMikgTWV0\naG9kcyB3aXRoIG5vIGV4Y2VwdGlvbiB0aHJvd24uIFByaXZpbGVnZWRBY3Rp\nb24gaXMgcmV0dXJuZWQgZnJvbQogKiAgICBKMkRvUHJpdkhlbHBlci4qQWN0\naW9uKCkuIEUuZy4KICogICAgICAKICogICAgQ2xhc3NMb2FkZXIgbG9hZGVy\nID0gKENsYXNzTG9hZGVyKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdl\nZCgKICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIEoyRG9Qcml2SGVs\ncGVyLmdldENsYXNzTG9hZGVyQWN0aW9uKGNsYXp6KSk7CiAqICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIAogKiAgICBDbGFzc0xvYWRlciBsb2Fk\nZXIgPSAoQ2xhc3NMb2FkZXIpIChTeXN0ZW0uZ2V0U2VjdXJpdHlNYW5hZ2Vy\nKCkgPT0gbnVsbCkKICogICAgICAgICAgICAgICAgICAgICAgICAgPyBjbGF6\nei5nZXRDbGFzc0xvYWRlcigpCiAqICAgICAgICAgICAgICAgICAgICAgICAg\nIDogQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoCiAqICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5nZXRDbGFzc0xv\nYWRlckFjdGlvbihjbGF6eikpOwogKiAzKSBNZXRob2RzIHdpdGggZXhjZXB0\naW9uIHRocm93bi4gUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBpcyByZXR1\ncm5lZAogKiAgICBmcm9tIEoyRG9Qcml2SGVscGVyLipBY3Rpb24oKS4gRS5n\nLgogKiAgICAKICogICAgdHJ5IHsKICogICAgICBtZXRob2QgPSAoTWV0aG9k\nKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZCgKICogICAgICAgIEoy\nRG9Qcml2SGVscGVyLmdldERlY2xhcmVkTWV0aG9kQWN0aW9uKGNsYXp6LCBu\nYW1lLCBwYXJhbWV0ZXJUeXBlKSk7CiAqICAgIH0gY2F0Y2ggKFByaXZpbGVn\nZWRBY3Rpb25FeGNlcHRpb24gcGFlKSB7CiAqICAgICAgdGhyb3cgKE5vU3Vj\naE1ldGhvZEV4Y2VwdGlvbikgcGFlLmdldEV4Y2VwdGlvbigpOwogKiAgICB9\nCiAqICAgIAogKiAgICB0cnkgewogKiAgICAgIG1ldGhvZCA9IChTeXN0ZW0u\nZ2V0U2VjdXJpdHlNYW5hZ2VyKCkgPT0gbnVsbCkKICogICAgICAgID8gY2xh\nenouZ2V0RGVjbGFyZWRNZXRob2QobmFtZSxwYXJhbWV0ZXJUeXBlKQogKiAg\nICAgICAgOiAoTWV0aG9kKSBBY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdl\nZCgKICogICAgICAgICAgICBKMkRvUHJpdkhlbHBlci5nZXREZWNsYXJlZE1l\ndGhvZEFjdGlvbigKICogICAgICAgICAgICAgIGNsYXp6LCBuYW1lLCBwYXJh\nbWV0ZXJUeXBlKSk7CiAqICAgIH0gY2F0Y2ggKFByaXZpbGVnZWRBY3Rpb25F\neGNlcHRpb24gcGFlKSB7CiAqICAgICAgICB0aHJvdyAoTm9TdWNoTWV0aG9k\nRXhjZXB0aW9uKSBwYWUuZ2V0RXhjZXB0aW9uKCkKICogICAgfSAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgICAKICogPC94bXA+IAogKiBAYXV0aG9y\nIEFsYmVydCBMZWUKICovCgpwdWJsaWMgYWJzdHJhY3QgY2xhc3MgSjJEb1By\naXZIZWxwZXIgewogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIGxpbmVTZXBh\ncmF0b3IgPSBudWxsOwogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIHBhdGhT\nZXBhcmF0b3IgPSBudWxsOwoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSB2\nYWx1ZSBvZiB0aGUgImxpbmUuc2VwYXJhdG9yIiBzeXN0ZW0gcHJvcGVydHku\nCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeTogCiAg\nICAgKiAgICdwZXJtaXNzaW9uIGphdmEudXRpbC5Qcm9wZXJ0eVBlcm1pc3Np\nb24gInJlYWQiOycKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBT\ndHJpbmcgZ2V0TGluZVNlcGFyYXRvcigpIHsKICAgICAgICBpZiAobGluZVNl\ncGFyYXRvciA9PSBudWxsKSB7CiAgICAgICAgICAgIGxpbmVTZXBhcmF0b3Ig\nPSAoU3RyaW5nKSBBY2Nlc3NDb250cm9sbGVyCiAgICAgICAgICAgICAgICAg\nICAgLmRvUHJpdmlsZWdlZChuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAg\nICAgICAgICAgICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3lzdGVtLmdldFBy\nb3BlcnR5KCJsaW5lLnNlcGFyYXRvciIpOwogICAgICAgICAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAg\nICAgIHJldHVybiBsaW5lU2VwYXJhdG9yOwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgInBhdGguc2VwYXJhdG9yIiBz\neXN0ZW0gcHJvcGVydHkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3Vy\naXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS51dGlsLlBy\nb3BlcnR5UGVybWlzc2lvbiAicmVhZCI7JwogICAgICovCiAgICBwdWJsaWMg\nc3RhdGljIGZpbmFsIFN0cmluZyBnZXRQYXRoU2VwYXJhdG9yKCkgewogICAg\nICAgIGlmIChwYXRoU2VwYXJhdG9yID09IG51bGwpIHsKICAgICAgICAgICAg\ncGF0aFNlcGFyYXRvciA9IChTdHJpbmcpIEFjY2Vzc0NvbnRyb2xsZXIKICAg\nICAgICAgICAgICAgICAgICAuZG9Qcml2aWxlZ2VkKG5ldyBQcml2aWxlZ2Vk\nQWN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWMgT2Jq\nZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVy\nbiBTeXN0ZW0uZ2V0UHJvcGVydHkoInBhdGguc2VwYXJhdG9yIik7CiAgICAg\nICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsK\nICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhdGhTZXBhcmF0b3I7CiAgICB9\nCgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2Jq\nZWN0IGZvciBhT2JqLnNldEFjY2Vzc2libGUoKS4KICAgICAqIAogICAgICog\nUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OiAncGVybWlzc2lvbiBqYXZhLmxh\nbmcucmVmbGVjdC5SZWZsZWN0UGVybWlzc2lvbgogICAgICogInN1cHByZXNz\nQWNjZXNzQ2hlY2tzIjsnCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmlu\nYWwgUHJpdmlsZWdlZEFjdGlvbiBzZXRBY2Nlc3NpYmxlQWN0aW9uKAogICAg\nICAgIGZpbmFsIEFjY2Vzc2libGVPYmplY3QgYU9iaiwgZmluYWwgYm9vbGVh\nbiBmbGFnKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9u\nKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAg\nICAgICAgICAgIGFPYmouc2V0QWNjZXNzaWJsZShmbGFnKTsKICAgICAgICAg\nICAgICAgIHJldHVybiAoT2JqZWN0KSBudWxsOwogICAgICAgICAgICB9CiAg\nICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZp\nbGVnZUFjdGlvbiBvYmplY3QgZm9yIENsYXNzLmZvck5hbWUoKS4KICAgICAq\nIAogICAgICogTm90ZXM6IGRvUHJpdiBvZiBDbGFzcy5mb3JOYW1lIGNhbGwg\naXMgcmVxdWlyZWQgb25seSBpZiB0aGUgaW5wdXQKICAgICAqIGNsYXNzbG9h\nZGVyIGFyZ3VtZW50IGlzIG51bGwuIEUuZy4KICAgICAqIAogICAgICogQ2xh\nc3MuZm9yTmFtZSgieCIsIGZhbHNlLCBDb2xsZWN0aW9uLmNsYXNzLmdldENs\nYXNzTG9hZGVyKCkpOwogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0\neSBwb2xpY3k6ICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlz\nc2lvbgogICAgICogImdldENsYXNzTG9hZGVyIjsnCiAgICAgKiAKICAgICAq\nIEByZXR1cm4gQ2xhc3MKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uPENsYXNzPD8+PiBnZXRGb3JO\nYW1lQWN0aW9uKAogICAgICAgIGZpbmFsIFN0cmluZyBjbGFzc05hbWUsIGZp\nbmFsIGJvb2xlYW4gaW5pdGlhbGl6ZUJvb2xlYW4sCiAgICAgICAgZmluYWwg\nQ2xhc3NMb2FkZXIgY2xhc3NMb2FkZXIpIHsKICAgICAgICByZXR1cm4gbmV3\nIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb248Q2xhc3M8Pz4+KCkgewogICAg\nICAgICAgICBwdWJsaWMgQ2xhc3M8Pz4gcnVuKCkgdGhyb3dzIENsYXNzTm90\nRm91bmRFeGNlcHRpb24gewogICAgICAgICAgICAgICAgcmV0dXJuIENsYXNz\nLmZvck5hbWUoY2xhc3NOYW1lLCBpbml0aWFsaXplQm9vbGVhbiwgY2xhc3NM\nb2FkZXIpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9y\nIGNsYXp6LmdldENsYXNzbG9hZGVyKCkuCiAgICAgKiAKICAgICAqIE5vdGVz\nOiBObyBkb1ByaXZpbGVnZSB3cmFwcGluZyBpcyByZXF1aXJlZCBpbiB0aGUg\nY2FsbGVyIGlmOgogICAgICogICAgICJ0aGUgY2FsbGVyJ3MgY2xhc3MgbG9h\nZGVyIGlzIG5vdCBudWxsIGFuZCB0aGUgY2FsbGVyJ3MgY2xhc3MgbG9hZGVy\nCiAgICAgKiAgICAgIGlzIG5vdCB0aGUgc2FtZSBhcyBvciBhbiBhbmNlc3Rv\nciBvZiB0aGUgY2xhc3MgbG9hZGVyIGZvciB0aGUgY2xhc3MKICAgICAqICAg\nICAgd2hvc2UgY2xhc3MgbG9hZGVyIGlzIHJlcXVlc3RlZCIuIEUuZy4KICAg\nICAqICAgICAgCiAgICAgKiAgICAgICAgIHRoaXMuZ2V0Q2xhc3MoKS5nZXRD\nbGFzc0xvYWRlcigpOwogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0\neSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50\naW1lUGVybWlzc2lvbiAiZ2V0Q2xhc3NMb2FkZXIiOycKICAgICAqICAgCiAg\nICAgKiBAcmV0dXJuIENsYXNzbG9hZGVyCiAgICAgKi8KICAgIHB1YmxpYyBz\ndGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbjxDbGFzc0xvYWRlcj4gZ2V0\nQ2xhc3NMb2FkZXJBY3Rpb24oCiAgICAgICAgZmluYWwgQ2xhc3MgY2xhenop\nIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb248Q2xhc3NM\nb2FkZXI+KCkgewogICAgICAgICAgICBwdWJsaWMgQ2xhc3NMb2FkZXIgcnVu\nKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNsYXp6LmdldENsYXNzTG9h\nZGVyKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8q\nKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBv\nYmplY3QgZm9yIGNsYXp6LmdldERlY2xhcmVkRmllbGQoKS4KICAgICAqIAog\nICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVy\nbWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImFjY2Vzc0Rl\nY2xhcmVkTWVtYmVycyI7JwogICAgICogICAKICAgICAqIEByZXR1cm4gRmll\nbGQKICAgICAqIEBleGNlcHRpb24gTm9TdWNoRmllbGRFeGNlcHRpb24KICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkRXhjZXB0\naW9uQWN0aW9uIGdldERlY2xhcmVkRmllbGRBY3Rpb24oCiAgICAgICAgZmlu\nYWwgQ2xhc3MgY2xhenosIGZpbmFsIFN0cmluZyBuYW1lKSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uKCkgewogICAg\nICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHRocm93cyBOb1N1Y2hGaWVs\nZEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2xhenouZ2V0\nRGVjbGFyZWRGaWVsZChuYW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH07\nCiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rp\nb24gb2JqZWN0IGZvciBjbGFzcy5nZXREZWNsYXJlZEZpZWxkcygpLgogICAg\nICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAg\nICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiYWNj\nZXNzRGVjbGFyZWRNZW1iZXJzIjsnCiAgICAgKiAgIAogICAgICogQHJldHVy\nbiBGaWVsZFtdCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJp\ndmlsZWdlZEFjdGlvbiBnZXREZWNsYXJlZEZpZWxkc0FjdGlvbigKICAgICAg\nICBmaW5hbCBDbGFzcyBjbGF6eikgewogICAgICAgIHJldHVybiBuZXcgUHJp\ndmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBy\ndW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2xhenouZ2V0RGVjbGFy\nZWRGaWVsZHMoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0\naW9uIG9iamVjdCBmb3IgY2xhenouZ2V0RGVjbGFyZWRNZXRob2QoKS4KICAg\nICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5CiAgICAgKiAg\nICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiYWNj\nZXNzRGVjbGFyZWRNZW1iZXJzIjsnCiAgICAgKiAgIAogICAgICogQHJldHVy\nbiBNZXRob2QKICAgICAqIEBleGNlcHRpb24gTm9TdWNoTWV0aG9kRXhjZXB0\naW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdl\nZEV4Y2VwdGlvbkFjdGlvbiBnZXREZWNsYXJlZE1ldGhvZEFjdGlvbigKICAg\nICAgICBmaW5hbCBDbGFzcyBjbGF6eiwgZmluYWwgU3RyaW5nIG5hbWUsIGZp\nbmFsIENsYXNzW10gcGFyYW1ldGVyVHlwZXMpIHsKICAgICAgICByZXR1cm4g\nbmV3IFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24oKSB7CiAgICAgICAgICAg\nIHB1YmxpYyBPYmplY3QgcnVuKCkgdGhyb3dzIE5vU3VjaE1ldGhvZEV4Y2Vw\ndGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2xhenouZ2V0RGVjbGFy\nZWRNZXRob2QobmFtZSwgcGFyYW1ldGVyVHlwZXMpOwogICAgICAgICAgICB9\nCiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFBy\naXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIGNsYXp6LmdldERlY2xhcmVkTWV0\naG9kcygpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xp\nY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVy\nbWlzc2lvbiAiYWNjZXNzRGVjbGFyZWRNZW1iZXJzIjsnCiAgICAgKiAgIAog\nICAgICogQHJldHVybiBNZXRob2RbXQogICAgICovCiAgICBwdWJsaWMgc3Rh\ndGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24gZ2V0RGVjbGFyZWRNZXRob2Rz\nQWN0aW9uKAogICAgICAgIGZpbmFsIENsYXNzIGNsYXp6KSB7CiAgICAgICAg\ncmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAgICAgICBw\ndWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBj\nbGF6ei5nZXREZWNsYXJlZE1ldGhvZHMoKTsKICAgICAgICAgICAgfQogICAg\nICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxl\nZ2VBY3Rpb24gb2JqZWN0IGZvciBjbGF6ei5nZXRSZXNvdXJjZSgpLgogICAg\nICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAg\nICdwZXJtaXNzaW9uIGphdmEuaW8uRmlsZVBlcm1pc3Npb24gInJlYWQiOycK\nICAgICAqICAgCiAgICAgKiBAcmV0dXJuIFVSTAogICAgICovCiAgICBwdWJs\naWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24gZ2V0UmVzb3VyY2VB\nY3Rpb24oCiAgICAgICAgZmluYWwgQ2xhc3MgY2xhenosIGZpbmFsIFN0cmlu\nZyByZXNvdXJjZSkgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFj\ndGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAg\nICAgICAgICAgICAgICByZXR1cm4gY2xhenouZ2V0UmVzb3VyY2UocmVzb3Vy\nY2UpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gb2Jq\nZWN0IGZvciBjbGF6ei5uZXdJbnN0YW5jZSgpLgogICAgICogCiAgICAgKiBS\nZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9u\nIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiZ2V0Q2xhc3NMb2FkZXIi\nOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJuIEEgbmV3IGluc3RhbmNlIG9m\nIHRoZSBwcm92aWRlZCBjbGFzcy4KICAgICAqIEBleGNlcHRpb24gSWxsZWdh\nbEFjY2Vzc0V4Y2VwdGlvbiAKICAgICAqIEBleGNlcHRpb24gSW5zdGFudGlh\ndGlvbkV4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIDxUPiBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uPFQ+IG5ld0luc3RhbmNl\nQWN0aW9uKAogICAgICAgIGZpbmFsIENsYXNzPFQ+IGNsYXp6KSB0aHJvd3Mg\nSWxsZWdhbEFjY2Vzc0V4Y2VwdGlvbiwKICAgICAgICBJbnN0YW50aWF0aW9u\nRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRFeGNl\ncHRpb25BY3Rpb248VD4oKSB7CiAgICAgICAgICAgIHB1YmxpYyBUIHJ1bigp\nIHRocm93cyBJbGxlZ2FsQWNjZXNzRXhjZXB0aW9uLAogICAgICAgICAgICAg\nICAgICAgIEluc3RhbnRpYXRpb25FeGNlcHRpb24gewogICAgICAgICAgICAg\nICAgcmV0dXJuIGNsYXp6Lm5ld0luc3RhbmNlKCk7CiAgICAgICAgICAgIH0K\nICAgICAgICB9OwogICAgfQogICAgCiAgICAvKioKICAgICAqIFJldHVybiBh\nIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIGxvYWRlci5nZXRQYXJlbnQo\nKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5Ogog\nICAgICogICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Np\nb24gImdldENsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVy\nbiBDbGFzc0xvYWRlcgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFByaXZpbGVnZWRBY3Rpb24gZ2V0UGFyZW50QWN0aW9uKAogICAgICAgIGZp\nbmFsIENsYXNzTG9hZGVyIGxvYWRlcikgewogICAgICAgIHJldHVybiBuZXcg\nUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVj\ndCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZGVyLmdldFBh\ncmVudCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9y\nIGxvYWRlci5nZXRSZXNvdXJjZSgpLgogICAgICogCiAgICAgKiBSZXF1aXJl\ncyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEu\naW8uRmlsZVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqICAgCiAgICAgKiBA\ncmV0dXJuIFVSTAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFBy\naXZpbGVnZWRBY3Rpb24gZ2V0UmVzb3VyY2VBY3Rpb24oCiAgICAgICAgZmlu\nYWwgQ2xhc3NMb2FkZXIgbG9hZGVyLCBmaW5hbCBTdHJpbmcgcmVzb3VyY2Up\nIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb24oKSB7CiAg\nICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgewogICAgICAgICAgICAg\nICAgcmV0dXJuIGxvYWRlci5nZXRSZXNvdXJjZShyZXNvdXJjZSk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIGxv\nYWRlci5nZXRSZXNvdXJjZXMoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMg\nc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlv\nLkZpbGVQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAgIAogICAgICogQHJl\ndHVybiBFbnVtZXJhdGlvbgogICAgICogQGV4Y2VwdGlvbiBJT0V4Y2VwdGlv\nbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRF\neGNlcHRpb25BY3Rpb24gZ2V0UmVzb3VyY2VzQWN0aW9uKAogICAgICAgIGZp\nbmFsIENsYXNzTG9hZGVyIGxvYWRlciwgZmluYWwgU3RyaW5nIHJlc291cmNl\nKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVybiBuZXcgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGlj\nIE9iamVjdCBydW4oKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgICAg\nICAgICAgcmV0dXJuIGxvYWRlci5nZXRSZXNvdXJjZXMocmVzb3VyY2UpOwog\nICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAq\nIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIENsYXNzTG9h\nZGVyLmdldFN5c3RlbUNsYXNzTG9hZGVyKCkuCiAgICAgKiAKICAgICAqIFJl\ncXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24g\namF2YS5sYW5nLlJ1bnRpbWVQZXJtaXNzaW9uICJnZXRDbGFzc0xvYWRlciI7\nJwogICAgICogICAKICAgICAqIEByZXR1cm4gQ2xhc3NMb2FkZXIKICAgICAq\nLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uIGdl\ndFN5c3RlbUNsYXNzTG9hZGVyQWN0aW9uKCkgewogICAgICAgIHJldHVybiBu\nZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9i\namVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gQ2xhc3NMb2Fk\nZXIuZ2V0U3lzdGVtQ2xhc3NMb2FkZXIoKTsKICAgICAgICAgICAgfQogICAg\nICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxl\nZ2VBY3Rpb24gb2JqZWN0IGZvciBmLmRlbGV0ZSgpLgogICAgICogCiAgICAg\nKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNz\naW9uIGphdmEuaW8uRmlsZVBlcm1pc3Npb24gImRlbGV0ZSI7JwogICAgICog\nCiAgICAgKiBAcmV0dXJuIEJvb2xlYW4KICAgICAqLwogICAgcHVibGljIHN0\nYXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uIGRlbGV0ZUFjdGlvbihmaW5h\nbCBGaWxlIGYpIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rp\nb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgewogICAg\nICAgICAgICAgICAgcmV0dXJuIGYuZGVsZXRlKCkgPyBCb29sZWFuLlRSVUUg\nOiBCb29sZWFuLkZBTFNFOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAg\nIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBv\nYmplY3QgZm9yIGYuZXhpc3RzKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVz\nIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5p\nby5GaWxlUGVybWlzc2lvbiAicmVhZCI7JwogICAgICogICAKICAgICAqIEBy\nZXR1cm4gQm9vbGVhbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFs\nIFByaXZpbGVnZWRBY3Rpb24gZXhpc3RzQWN0aW9uKGZpbmFsIEZpbGUgZikg\newogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAg\nICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAgICAg\nICB0cnkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmV4aXN0cygp\nID8gQm9vbGVhbi5UUlVFIDogQm9vbGVhbi5GQUxTRTsKICAgICAgICAgICAg\nICAgIH0gY2F0Y2ggKE51bGxQb2ludGVyRXhjZXB0aW9uIG5wZSkgewogICAg\nICAgICAgICAgICAgICAgIHJldHVybiBCb29sZWFuLkZBTFNFOwogICAgICAg\nICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAg\nICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3Qg\nZm9yIGYuZ2V0QWJzb2x1dGVGaWxlKCkuCiAgICAgKiAKICAgICAqIFJlcXVp\ncmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2\nYS51dGlsLlByb3BlcnR5UGVybWlzc2lvbiAicmVhZCI7JwogICAgICogCiAg\nICAgKiBAcmV0dXJuIEZpbGUKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBm\naW5hbCBQcml2aWxlZ2VkQWN0aW9uIGdldEFic29sdXRlRmlsZUFjdGlvbihm\naW5hbCBGaWxlIGYpIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRB\nY3Rpb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgewog\nICAgICAgICAgICAgICAgcmV0dXJuIGYuZ2V0QWJzb2x1dGVGaWxlKCk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5nZXRBYnNv\nbHV0ZVBhdGgoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkg\ncG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLnV0aWwuUHJvcGVy\ndHlQZXJtaXNzaW9uICJyZWFkIjsnCiAgICAgKiAgIAogICAgICogQHJldHVy\nbiBTdHJpbmcKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2\naWxlZ2VkQWN0aW9uIGdldEFic29sdXRlUGF0aEFjdGlvbihmaW5hbCBGaWxl\nIGYpIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb24oKSB7\nCiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgewogICAgICAgICAg\nICAgICAgcmV0dXJuIGYuZ2V0QWJzb2x1dGVQYXRoKCk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEg\nUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIGYuZ2V0Q2Fu\nb25pY2FsUGF0aCgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0\neSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEudXRpbC5Qcm9w\nZXJ0eVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqICAgCiAgICAgKiBAcmV0\ndXJuIFN0cmluZwogICAgICogQGV4Y2VwdGlvbiBJT0V4Y2VwdGlvbgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRFeGNlcHRp\nb25BY3Rpb24gZ2V0Q2Fub25pY2FsUGF0aEFjdGlvbigKICAgICAgICBmaW5h\nbCBGaWxlIGYpIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgcmV0dXJu\nIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uKCkgewogICAgICAgICAg\nICBwdWJsaWMgT2JqZWN0IHJ1bigpIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAg\nICAgICAgICAgICAgICByZXR1cm4gZi5nZXRDYW5vbmljYWxQYXRoKCk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5pc0RpcmVj\ndG9yeSgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xp\nY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEuaW8uRmlsZVBlcm1pc3Np\nb24gInJlYWQiOycKICAgICAqIAogICAgICogQHJldHVybiBCb29sZWFuCiAg\nICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlv\nbiBpc0RpcmVjdG9yeUFjdGlvbihmaW5hbCBGaWxlIGYpIHsKICAgICAgICBy\nZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1\nYmxpYyBPYmplY3QgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGYu\naXNEaXJlY3RvcnkoKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xlYW4uRkFMU0U7\nCiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5pc0Zp\nbGUoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5\nOgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9u\nICJyZWFkIjsnCiAgICAgKiAKICAgICAqIEByZXR1cm4gQm9vbGVhbgogICAg\nICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24g\naXNGaWxlQWN0aW9uKGZpbmFsIEZpbGUgZikgewogICAgICAgIHJldHVybiBu\nZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9i\namVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZi5pc0ZpbGUo\nKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xlYW4uRkFMU0U7CiAgICAgICAgICAg\nIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEg\nUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5sZW5ndGgoKS4KICAgICAq\nIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAn\ncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJtaXNzaW9uICJyZWFkIjsnCiAg\nICAgKiAgIAogICAgICogQHJldHVybiBMb25nCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBsZW5ndGhBY3Rpb24o\nZmluYWwgRmlsZSBmKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2Vk\nQWN0aW9uKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsK\nICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTG9uZyhmLmxlbmd0aCgpKTsK\nICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAg\nKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBmLmxpc3RG\naWxlcygpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xp\nY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEuaW8uRmlsZVBlcm1pc3Np\nb24gInJlYWQiOycKICAgICAqIAogICAgICogQHJldHVybiBGaWxlW10KICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9u\nIGxpc3RGaWxlc0FjdGlvbihmaW5hbCBGaWxlIGYpIHsKICAgICAgICByZXR1\ncm4gbmV3IFByaXZpbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1Ymxp\nYyBPYmplY3QgcnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGYubGlz\ndEZpbGVzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBm\nb3IgZi5ta2RpcnMoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJp\ndHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQ\nZXJtaXNzaW9uICJ3cml0ZSI7JwogICAgICogICAKICAgICAqIEByZXR1cm4g\nQm9vbGVhbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZp\nbGVnZWRBY3Rpb24gbWtkaXJzQWN0aW9uKGZpbmFsIEZpbGUgZikgewogICAg\nICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAg\nICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1\ncm4gZi5ta2RpcnMoKSA/IEJvb2xlYW4uVFJVRSA6IEJvb2xlYW4uRkFMU0U7\nCiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAg\nICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgZi5yZW5h\nbWVUbygpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xp\nY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEuaW8uRmlsZVBlcm1pc3Np\nb24gIndyaXRlIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBCb29sZWFu\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFj\ndGlvbiByZW5hbWVUb0FjdGlvbihmaW5hbCBGaWxlIGZyb20sCiAgICAgICAg\nZmluYWwgRmlsZSB0bykgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdl\nZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7\nCiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbS5yZW5hbWVUbyh0bykgPyBC\nb29sZWFuLlRSVUUgOiBCb29sZWFuLkZBTFNFOwogICAgICAgICAgICB9CiAg\nICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZp\nbGVnZWRFeGNlcHRpb25BY3Rpb24gb2JqZWN0IGZvciBmLnRvVVJMKCkuCiAg\nICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAq\nICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVybWlzc2lvbiAicmVhZCI7\nJwogICAgICogICAKICAgICAqIEByZXR1cm4gQm9vbGVhbgogICAgICogQHRo\ncm93cyBNYWxmb3JtZWRVUkxFeGNlcHRpb24KICAgICAqLwogICAgcHVibGlj\nIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uIHRvVVJM\nQWN0aW9uKGZpbmFsIEZpbGUgZmlsZSkKICAgICAgICB0aHJvd3MgTWFsZm9y\nbWVkVVJMRXhjZXB0aW9uIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVn\nZWRFeGNlcHRpb25BY3Rpb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmpl\nY3QgcnVuKCkgdGhyb3dzIE1hbGZvcm1lZFVSTEV4Y2VwdGlvbiB7CiAgICAg\nICAgICAgICAgICByZXR1cm4gZmlsZS50b1VSTCgpOwogICAgICAgICAgICB9\nCiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFBy\naXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gb2JqZWN0IGZvciBuZXcgRmlsZUlu\ncHV0U3RyZWFtKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVy\nbWlzc2lvbiAicmVhZCI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIEZpbGVJ\nbnB1dFN0cmVhbQogICAgICogQHRocm93cyBGaWxlTm90Rm91bmRFeGNlcHRp\nb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2Vk\nRXhjZXB0aW9uQWN0aW9uIG5ld0ZpbGVJbnB1dFN0cmVhbUFjdGlvbigKICAg\nICAgICBmaW5hbCBGaWxlIGYpIHRocm93cyBGaWxlTm90Rm91bmRFeGNlcHRp\nb24gewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFj\ndGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJv\nd3MgRmlsZU5vdEZvdW5kRXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJl\ndHVybiBuZXcgRmlsZUlucHV0U3RyZWFtKGYpOwogICAgICAgICAgICB9CiAg\nICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZp\nbGVnZWRFeGNlcHRpb25BY3Rpb24gb2JqZWN0IGZvciBuZXcgRmlsZU91dHB1\ndFN0cmVhbSgpLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBw\nb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGphdmEuaW8uRmlsZVBlcm1p\nc3Npb24gIndyaXRlIjsnCiAgICAgKiAKICAgICAqIEByZXR1cm4gRmlsZU91\ndHB1dFN0cmVhbQogICAgICogQHRocm93cyBGaWxlTm90Rm91bmRFeGNlcHRp\nb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2Vk\nRXhjZXB0aW9uQWN0aW9uIG5ld0ZpbGVPdXRwdXRTdHJlYW1BY3Rpb24oCiAg\nICAgICAgZmluYWwgRmlsZSBmKSB0aHJvd3MgRmlsZU5vdEZvdW5kRXhjZXB0\naW9uIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRFeGNlcHRpb25B\nY3Rpb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgdGhy\nb3dzIEZpbGVOb3RGb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICBy\nZXR1cm4gbmV3IEZpbGVPdXRwdXRTdHJlYW0oZik7CiAgICAgICAgICAgIH0K\nICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIG5ldyBGaWxlT3V0\ncHV0U3RyZWFtKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5\nIHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVy\nbWlzc2lvbiAid3JpdGUiOycKICAgICAqIAogICAgICogQHJldHVybiBGaWxl\nT3V0cHV0U3RyZWFtCiAgICAgKiBAdGhyb3dzIEZpbGVOb3RGb3VuZEV4Y2Vw\ndGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVn\nZWRFeGNlcHRpb25BY3Rpb24gbmV3RmlsZU91dHB1dFN0cmVhbUFjdGlvbigK\nICAgICAgICBmaW5hbCBTdHJpbmcgZiwgZmluYWwgYm9vbGVhbiBhcHBlbmQp\nIHRocm93cyBGaWxlTm90Rm91bmRFeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAgICAgICAg\nICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgRmlsZU5vdEZvdW5kRXhj\nZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmlsZU91dHB1\ndFN0cmVhbShmLCBhcHBlbmQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNl\ncHRpb25BY3Rpb24gb2JqZWN0IGZvciBJbmV0QWRyZXNzLmdldEJ5TmFtZSgp\nLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAg\nICAgKiAgICdwZXJtaXNzaW9uIGphdmEubmV0LlNvY2tldFBlcm1pc3Npb24g\nImNvbm5lY3QiOycKICAgICAqIAogICAgICogQHJldHVybiBJbmV0QWRkcmVz\ncwogICAgICogQHRocm93cyBVbmtub3duSG9zdEV4Y2VwdGlvbgogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRFeGNlcHRpb25B\nY3Rpb24gZ2V0QnlOYW1lQWN0aW9uKAogICAgICAgIGZpbmFsIFN0cmluZyBo\nb3N0bmFtZSkgdGhyb3dzIFVua25vd25Ib3N0RXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gbmV3IFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24oKSB7CiAg\nICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgdGhyb3dzIFVua25vd25I\nb3N0RXhjZXB0aW9uIHsKICAgICAgICAgICAgICAgIHJldHVybiBJbmV0QWRk\ncmVzcy5nZXRCeU5hbWUoaG9zdG5hbWUpOwogICAgICAgICAgICB9CiAgICAg\nICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVn\nZWRFeGNlcHRpb25BY3Rpb24gb2JqZWN0IGZvciBuZXcgU29ja2V0KCkuCiAg\nICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAq\nICAgJ3Blcm1pc3Npb24gamF2YS5uZXQuU29ja2V0UGVybWlzc2lvbiAiY29u\nbmVjdCI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIFNvY2tldAogICAgICog\nQHRocm93cyBJT0V4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgc3RhdGlj\nIGZpbmFsIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gbmV3U29ja2V0QWN0\naW9uKAogICAgICAgIGZpbmFsIEluZXRBZGRyZXNzIGhvc3QsIGZpbmFsIGlu\ndCBwb3J0KSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVybiBu\nZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAgICAgICAgICAg\ncHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAg\nICAgICAgICAgICAgcmV0dXJuIG5ldyBTb2NrZXQoaG9zdCwgcG9ydCk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9y\nIG5ldyBTZXJ2ZXJTb2NrZXQoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMg\nc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLm5l\ndC5Tb2NrZXRQZXJtaXNzaW9uICJsaXN0ZW4iOycKICAgICAqIAogICAgICog\nQHJldHVybiBTZXJ2ZXJTb2NrZXQKICAgICAqIEB0aHJvd3MgSU9FeGNlcHRp\nb24KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2Vk\nRXhjZXB0aW9uQWN0aW9uIG5ld1NlcnZlclNvY2tldEFjdGlvbigKICAgICAg\nICBmaW5hbCBpbnQgcG9ydCkgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAg\nICByZXR1cm4gbmV3IFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24oKSB7CiAg\nICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgdGhyb3dzIElPRXhjZXB0\naW9uIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2VydmVyU29ja2V0\nKHBvcnQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAv\nKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24g\nb2JqZWN0IGZvciBTZXJ2ZXJTb2NrZXQuYWNjZXB0KCkuCiAgICAgKiAKICAg\nICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1p\nc3Npb24gamF2YS5uZXQuU29ja2V0UGVybWlzc2lvbiAibGlzdGVuIjsnCiAg\nICAgKiAKICAgICAqIEByZXR1cm4gU29ja2V0CiAgICAgKiBAdGhyb3dzIElP\nRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBhY2NlcHRBY3Rpb24oCiAgICAgICAg\nZmluYWwgU2VydmVyU29ja2V0IHNzKSB0aHJvd3MgSU9FeGNlcHRpb24gewog\nICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigp\nIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgSU9F\neGNlcHRpb24gewogICAgICAgICAgICAgICAgcmV0dXJuIHNzLmFjY2VwdCgp\nOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIFN5c3Rl\nbS5nZXRQcm9wZXJ0aWVzKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNl\nY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS51dGls\nLlByb3BlcnR5UGVybWlzc2lvbiAicmVhZCI7JwogICAgICogICAKICAgICAq\nIEByZXR1cm4gUHJvcGVydGllcwogICAgICovCiAgICBwdWJsaWMgc3RhdGlj\nIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24gZ2V0UHJvcGVydGllc0FjdGlvbigp\nIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rpb24oKSB7CiAg\nICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgewogICAgICAgICAgICAg\nICAgcmV0dXJuIFN5c3RlbS5nZXRQcm9wZXJ0aWVzKCk7CiAgICAgICAgICAg\nIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEg\nUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgU3lzdGVtLmdldFByb3BlcnR5\nKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToK\nICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS51dGlsLlByb3BlcnR5UGVybWlz\nc2lvbiAicmVhZCI7JwogICAgICogICAKICAgICAqIEByZXR1cm4gU3RyaW5n\nCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFj\ndGlvbiBnZXRQcm9wZXJ0eUFjdGlvbihmaW5hbCBTdHJpbmcgbmFtZSkgewog\nICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAg\nICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICBy\nZXR1cm4gU3lzdGVtLmdldFByb3BlcnR5KG5hbWUpOwogICAgICAgICAgICB9\nCiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFBy\naXZpbGVnZUFjdGlvbiBvYmplY3QgZm9yIFRocmVhZC5jdXJyZW50VGhyZWFk\nCiAgICAgKiAgIC5nZXRDb250ZXh0Q2xhc3NMb2FkZXIoKS4KICAgICAqIAog\nICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVy\nbWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImdldENsYXNz\nTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBDbGFzc0xvYWRl\ncgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRB\nY3Rpb248Q2xhc3NMb2FkZXI+IAogICAgICAgICAgICBnZXRDb250ZXh0Q2xh\nc3NMb2FkZXJBY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxl\nZ2VkQWN0aW9uPENsYXNzTG9hZGVyPigpIHsKICAgICAgICAgICAgcHVibGlj\nIENsYXNzTG9hZGVyIHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBU\naHJlYWQuY3VycmVudFRocmVhZCgpLmdldENvbnRleHRDbGFzc0xvYWRlcigp\nOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAg\nICAqIFJldHVybiBhIFByaXZpbGVnZWRBY3Rpb24gb2JqZWN0IGZvciBuZXcg\nVGhyZWFkKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBv\nbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5nLlJ1bnRpbWVQ\nZXJtaXNzaW9uICJtb2RpZnlUaHJlYWRHcm91cCI7JwogICAgICogICAncGVy\nbWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gIm1vZGlmeVRo\ncmVhZCI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIFRocmVhZAogICAgICov\nCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRBY3Rpb24gbmV3\nRGFlbW9uVGhyZWFkQWN0aW9uKAogICAgICAgIGZpbmFsIFJ1bm5hYmxlIHRh\ncmdldCwgZmluYWwgU3RyaW5nIG5hbWUpIHsKICAgICAgICByZXR1cm4gbmV3\nIFByaXZpbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmpl\nY3QgcnVuKCkgewogICAgICAgICAgICAgICAgVGhyZWFkIHRocmVhZCA9IG5l\ndyBUaHJlYWQodGFyZ2V0LCBuYW1lKTsKICAgICAgICAgICAgICAgIHRocmVh\nZC5zZXREYWVtb24odHJ1ZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhy\nZWFkOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioK\nICAgICAqIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gb2Jq\nZWN0IGZvciB1cmwub3BlblN0cmVhbSgpLgogICAgICogCiAgICAgKiBSZXF1\naXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGph\ndmEuaW8uRmlsZVBlcm1pc3Npb24gInJlYWQiOycKICAgICAqIAogICAgICog\nQHJldHVybiBJbnB1dFN0cmVhbQogICAgICogQHRocm93cyBJT0V4Y2VwdGlv\nbgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRF\neGNlcHRpb25BY3Rpb24gb3BlblN0cmVhbUFjdGlvbigKICAgICAgICBmaW5h\nbCBVUkwgdXJsKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAgICAgICAg\nICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgSU9FeGNlcHRpb24gewog\nICAgICAgICAgICAgICAgcmV0dXJuIHVybC5vcGVuU3RyZWFtKCk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0\ndXJuIGEgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgY29uLmdl\ndENvbnRlbnQoKS4KICAgICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkg\ncG9saWN5OgogICAgICogICAncGVybWlzc2lvbiBqYXZhLmlvLkZpbGVQZXJt\naXNzaW9uICJyZWFkIjsnCiAgICAgKiAKICAgICAqIEByZXR1cm4gT2JqZWN0\nCiAgICAgKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAgICAgKi8KICAgIHB1Ymxp\nYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBnZXRD\nb250ZW50QWN0aW9uKAogICAgICAgIGZpbmFsIFVSTENvbm5lY3Rpb24gY29u\nKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVybiBuZXcgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGlj\nIE9iamVjdCBydW4oKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgICAg\nICAgICAgcmV0dXJuIGNvbi5nZXRDb250ZW50KCk7CiAgICAgICAgICAgIH0K\nICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJp\ndmlsZWdlZEV4Y2VwdGlvbkFjdGlvbiBvYmplY3QgZm9yIG5ldyBaaXBGaWxl\nKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNlY3VyaXR5IHBvbGljeToK\nICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5GaWxlUGVybWlzc2lvbiAi\ncmVhZCI7JwogICAgICogCiAgICAgKiBAcmV0dXJuIFppcEZpbGUKICAgICAq\nIEB0aHJvd3MgSU9FeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIHN0YXRp\nYyBmaW5hbCBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0aW9uIG5ld1ppcEZpbGVB\nY3Rpb24oZmluYWwgRmlsZSBmKQogICAgICAgIHRocm93cyBJT0V4Y2VwdGlv\nbiB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkRXhjZXB0aW9uQWN0\naW9uKCkgewogICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHRocm93\ncyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpp\ncEZpbGUoZik7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAg\nIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBm\nb3IgbmV3IHNlcnAuYnl0ZWNvZGUuQ29kZSgpLgogICAgICogCiAgICAgKiBS\nZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9u\nIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiZ2V0Q2xhc3NMb2FkZXIi\nOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJuIHNlcnAuYnl0ZWNvZGUuQ29k\nZQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFByaXZpbGVnZWRB\nY3Rpb24gbmV3Q29kZUFjdGlvbigpIHsKICAgICAgICByZXR1cm4gbmV3IFBy\naXZpbGVnZWRBY3Rpb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3Qg\ncnVuKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2RlKCk7CiAg\nICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICog\nUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9uIG9iamVjdCBmb3IgbmV3IFRlbXBv\ncmFyeUNsYXNzTG9hZGVyKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNl\nY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5sYW5n\nLlJ1bnRpbWVQZXJtaXNzaW9uICJjcmVhdGVDbGFzc0xvYWRlciI7JwogICAg\nICogICAKICAgICAqIEByZXR1cm4gVGVtcG9yYXJ5Q2xhc3NMb2FkZXIKICAg\nICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9u\nIG5ld1RlbXBvcmFyeUNsYXNzTG9hZGVyQWN0aW9uKAogICAgICAgIGZpbmFs\nIENsYXNzTG9hZGVyIHBhcmVudCkgewogICAgICAgIHJldHVybiBuZXcgUHJp\ndmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAgICAgcHVibGljIE9iamVjdCBy\ndW4oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRlbXBvcmFyeUNs\nYXNzTG9hZGVyKHBhcmVudCk7CiAgICAgICAgICAgIH0KICAgICAgICB9Owog\nICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGEgUHJpdmlsZWdlQWN0aW9u\nIG9iamVjdCBmb3IgbmV3IE11bHRpQ2xhc3NMb2FkZXIoKS4KICAgICAqIAog\nICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICogICAncGVy\nbWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImNyZWF0ZUNs\nYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBNdWx0aUNs\nYXNzTG9hZGVyCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJp\ndmlsZWdlZEFjdGlvbiBuZXdNdWx0aUNsYXNzTG9hZGVyQWN0aW9uKCkgewog\nICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAg\nICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICBy\nZXR1cm4gbmV3IE11bHRpQ2xhc3NMb2FkZXIoKTsKICAgICAgICAgICAgfQog\nICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2\naWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBuZXcgQkNDbGFzc0xvYWRlcigpLgog\nICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAg\nKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAi\nY3JlYXRlQ2xhc3NMb2FkZXIiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJu\nIEJDQ2xhc3NMb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5h\nbCBQcml2aWxlZ2VkQWN0aW9uIG5ld0JDQ2xhc3NMb2FkZXJBY3Rpb24oCiAg\nICAgICAgZmluYWwgUHJvamVjdCBwcm9qZWN0LCBmaW5hbCBDbGFzc0xvYWRl\nciBwYXJlbnQpIHsKICAgICAgICByZXR1cm4gbmV3IFByaXZpbGVnZWRBY3Rp\nb24oKSB7CiAgICAgICAgICAgIHB1YmxpYyBPYmplY3QgcnVuKCkgewogICAg\nICAgICAgICAgICAgcmV0dXJuIG5ldyBCQ0NsYXNzTG9hZGVyKHByb2plY3Qs\nIHBhcmVudCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEFjdGlvbiBuZXdCQ0Ns\nYXNzTG9hZGVyQWN0aW9uKAogICAgICAgIGZpbmFsIFByb2plY3QgcHJvamVj\ndCkgewogICAgICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsK\nICAgICAgICAgICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAg\nICAgICByZXR1cm4gbmV3IEJDQ2xhc3NMb2FkZXIocHJvamVjdCk7CiAgICAg\nICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAgCiAgICAvKioKICAgICAq\nIFJldHVybiBhIFByaXZpbGVnZWRFeGNlcHRpb25BY3Rpb24gb2JqZWN0IGZv\nciBCQ0NsYXNzLndyaXRlKCkuCiAgICAgKiAKICAgICAqIFJlcXVpcmVzIHNl\nY3VyaXR5IHBvbGljeToKICAgICAqICAgJ3Blcm1pc3Npb24gamF2YS5pby5G\naWxlUGVybWlzc2lvbiAid3JpdGUiOycKICAgICAqIAogICAgICogQHJldHVy\nbiBGaWxlCiAgICAgKiBAdGhyb3dzIElPRXhjZXB0aW9uCiAgICAgKi8KICAg\nIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlv\nbiBiQ0NsYXNzV3JpdGUoCiAgICAgICAgZmluYWwgQkNDbGFzcyBiYywgZmlu\nYWwgRmlsZSBmKSB0aHJvd3MgSU9FeGNlcHRpb24gewogICAgICAgIHJldHVy\nbiBuZXcgUHJpdmlsZWdlZEV4Y2VwdGlvbkFjdGlvbigpIHsKICAgICAgICAg\nICAgcHVibGljIE9iamVjdCBydW4oKSB0aHJvd3MgSU9FeGNlcHRpb24gewog\nICAgICAgICAgICAgICAgYmMud3JpdGUoZik7CiAgICAgICAgICAgICAgICBy\nZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9Cgog\nICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxlZ2VBY3Rpb24gb2JqZWN0\nIGZvciBCQ0NsYXNzLmdldEZpZWxkcygpLgogICAgICogCiAgICAgKiBSZXF1\naXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAgICdwZXJtaXNzaW9uIGph\ndmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiZ2V0Q2xhc3NMb2FkZXIiOycK\nICAgICAqICAgCiAgICAgKiBAcmV0dXJuIEJDRmllbGQKICAgICAqLwogICAg\ncHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxlZ2VkQWN0aW9uIGdldEJDQ2xh\nc3NGaWVsZHNBY3Rpb24oCiAgICAgICAgZmluYWwgQkNDbGFzcyBiY0NsYXNz\nLCBmaW5hbCBTdHJpbmcgZmllbGROYW1lKSB7CiAgICAgICAgcmV0dXJuIG5l\ndyBQcml2aWxlZ2VkQWN0aW9uKCkgewogICAgICAgICAgICBwdWJsaWMgT2Jq\nZWN0IHJ1bigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBiY0NsYXNzLmdl\ndEZpZWxkcyhmaWVsZE5hbWUpOwogICAgICAgICAgICB9CiAgICAgICAgfTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBhIFByaXZpbGVnZUFjdGlv\nbiBvYmplY3QgZm9yIEZpZWxkSW5zdHJ1Y3Rpb24uZ2V0RmllbGQoKS4KICAg\nICAqIAogICAgICogUmVxdWlyZXMgc2VjdXJpdHkgcG9saWN5OgogICAgICog\nICAncGVybWlzc2lvbiBqYXZhLmxhbmcuUnVudGltZVBlcm1pc3Npb24gImdl\ndENsYXNzTG9hZGVyIjsnCiAgICAgKiAgIAogICAgICogQHJldHVybiBCQ0Zp\nZWxkCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgUHJpdmlsZWdl\nZEFjdGlvbiBnZXRGaWVsZEluc3RydWN0aW9uRmllbGRBY3Rpb24oCiAgICAg\nICAgZmluYWwgRmllbGRJbnN0cnVjdGlvbiBpbnN0cnVjdGlvbikgewogICAg\nICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAg\nICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1\ncm4gaW5zdHJ1Y3Rpb24uZ2V0RmllbGQoKTsKICAgICAgICAgICAgfQogICAg\nICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQcml2aWxl\nZ2VBY3Rpb24gb2JqZWN0IGZvciBQcm9qZWN0LmxvYWRDbGFzcygpLgogICAg\nICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAgICAgKiAg\nICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lvbiAiY3Jl\nYXRlQ2xhc3NMb2FkZXIiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJuIEJD\nQ2xhc3MKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2aWxl\nZ2VkQWN0aW9uIGxvYWRQcm9qZWN0Q2xhc3NBY3Rpb24oCiAgICAgICAgZmlu\nYWwgUHJvamVjdCBwcm9qZWN0LCBmaW5hbCBDbGFzcyBjbGF6eikgewogICAg\nICAgIHJldHVybiBuZXcgUHJpdmlsZWdlZEFjdGlvbigpIHsKICAgICAgICAg\nICAgcHVibGljIE9iamVjdCBydW4oKSB7CiAgICAgICAgICAgICAgICByZXR1\ncm4gcHJvamVjdC5sb2FkQ2xhc3MoY2xhenopOwogICAgICAgICAgICB9CiAg\nICAgICAgfTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBSZXR1cm4gYSBQ\ncml2aWxlZ2VBY3Rpb24gb2JqZWN0IGZvciBQcm9qZWN0LmxvYWRDbGFzcygp\nLgogICAgICogCiAgICAgKiBSZXF1aXJlcyBzZWN1cml0eSBwb2xpY3k6CiAg\nICAgKiAgICdwZXJtaXNzaW9uIGphdmEubGFuZy5SdW50aW1lUGVybWlzc2lv\nbiAiZ2V0Q2xhc3NMb2FkZXIiOycKICAgICAqICAgCiAgICAgKiBAcmV0dXJu\nIEJDQ2xhc3MKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBQcml2\naWxlZ2VkQWN0aW9uIGxvYWRQcm9qZWN0Q2xhc3NBY3Rpb24oCiAgICAgICAg\nZmluYWwgUHJvamVjdCBwcm9qZWN0LCBmaW5hbCBTdHJpbmcgY2xhenpOYW1l\nKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcml2aWxlZ2VkQWN0aW9uKCkgewog\nICAgICAgICAgICBwdWJsaWMgT2JqZWN0IHJ1bigpIHsKICAgICAgICAgICAg\nICAgIHJldHVybiBwcm9qZWN0LmxvYWRDbGFzcyhjbGF6ek5hbWUpOwogICAg\nICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KfQo=\n","encoding":"base64"}

