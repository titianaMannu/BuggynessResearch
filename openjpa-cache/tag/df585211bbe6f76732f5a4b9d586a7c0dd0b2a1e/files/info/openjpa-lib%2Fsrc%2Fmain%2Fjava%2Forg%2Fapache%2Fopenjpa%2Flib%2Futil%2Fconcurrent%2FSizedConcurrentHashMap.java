{"sha":"c31e26ddcd1ec3546f8b101e744d4deab55d41ba","node_id":"MDQ6QmxvYjIwNjM2NDpjMzFlMjZkZGNkMWVjMzU0NmY4YjEwMWU3NDRkNGRlYWI1NWQ0MWJh","size":4129,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/c31e26ddcd1ec3546f8b101e744d4deab55d41ba","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5saWIu\ndXRpbC5jb25jdXJyZW50Ow0KDQppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJl\nbnQuQ29uY3VycmVudEhhc2hNYXA7DQppbXBvcnQgamF2YS51dGlsLk1hcDsN\nCmltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7DQppbXBvcnQgamF2YS51dGls\nLlNldDsNCmltcG9ydCBqYXZhLmlvLk9iamVjdE91dHB1dFN0cmVhbTsNCmlt\ncG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uOw0KaW1wb3J0IGphdmEuaW8uT2Jq\nZWN0SW5wdXRTdHJlYW07DQppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7\nDQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLnV0aWwuU2l6ZWRN\nYXA7DQoNCi8qKg0KICogQW4gaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIFNp\nemVkTWFwfSB0aGF0IHVzZXMgSkRLMS41IGNvbmN1cnJlbmN5IHByaW1pdGl2\nZXMNCiAqDQogKiBAc2luY2UgMS4xLjANCiAqLw0KcHVibGljIGNsYXNzIFNp\nemVkQ29uY3VycmVudEhhc2hNYXANCiAgICBleHRlbmRzIE51bGxTYWZlQ29u\nY3VycmVudEhhc2hNYXANCiAgICBpbXBsZW1lbnRzIFNpemVkTWFwLCBDb25j\ndXJyZW50TWFwLCBTZXJpYWxpemFibGUgew0KDQogICAgcHJpdmF0ZSBpbnQg\nbWF4U2l6ZTsNCg0KICAgIC8qKg0KICAgICAqIEBwYXJhbSBzaXplIHRoZSBt\nYXhpbXVtIHNpemUgb2YgdGhpcyBtYXAuIElmIGFkZGl0aW9uYWwgZWxlbWVu\ndHMgYXJlDQogICAgICogcHV0IGludG8gdGhlIG1hcCwgb3ZlcmZsb3cgd2ls\nbCBiZSByZW1vdmVkIHZpYSBjYWxscyB0bw0KICAgICAqIHtAbGluayAjb3Zl\ncmZsb3dSZW1vdmVkfS4NCiAgICAgKiBAcGFyYW0gbG9hZCB0aGUgbG9hZCBm\nYWN0b3IgZm9yIHRoZSB1bmRlcmx5aW5nIG1hcA0KICAgICAqIEBwYXJhbSBj\nb25jdXJyZW5jeUxldmVsIHRoZSBjb25jdXJyZW5jeSBsZXZlbCBmb3IgdGhl\nIHVuZGVybHlpbmcgbWFwDQogICAgICoNCiAgICAgKiBAc2VlIENvbmN1cnJl\nbnRIYXNoTWFwDQogICAgICovDQogICAgcHVibGljIFNpemVkQ29uY3VycmVu\ndEhhc2hNYXAoaW50IHNpemUsIGZsb2F0IGxvYWQsIGludCBjb25jdXJyZW5j\neUxldmVsKSB7DQogICAgICAgIHN1cGVyKHNpemUsIGxvYWQsIGNvbmN1cnJl\nbmN5TGV2ZWwpOw0KICAgICAgICBzZXRNYXhTaXplKHNpemUpOw0KICAgIH0N\nCg0KICAgIEBPdmVycmlkZQ0KICAgIHB1YmxpYyBPYmplY3QgcHV0SWZBYnNl\nbnQoT2JqZWN0IGtleSwgT2JqZWN0IHZhbHVlKSB7DQogICAgICAgIGlmICht\nYXhTaXplICE9IEludGVnZXIuTUFYX1ZBTFVFKQ0KICAgICAgICAgICAgcmVt\nb3ZlT3ZlcmZsb3codHJ1ZSk7DQogICAgICAgIHJldHVybiBzdXBlci5wdXRJ\nZkFic2VudChrZXksIHZhbHVlKTsNCiAgICB9DQoNCiAgICBAT3ZlcnJpZGUN\nCiAgICBwdWJsaWMgT2JqZWN0IHB1dChPYmplY3Qga2V5LCBPYmplY3QgdmFs\ndWUpIHsNCiAgICAgICAgaWYgKG1heFNpemUgIT0gSW50ZWdlci5NQVhfVkFM\nVUUpDQogICAgICAgICAgICByZW1vdmVPdmVyZmxvdyh0cnVlKTsNCiAgICAg\nICAgcmV0dXJuIHN1cGVyLnB1dChrZXksIHZhbHVlKTsNCiAgICB9DQoNCiAg\nICBwdWJsaWMgaW50IGdldE1heFNpemUoKSB7DQogICAgICAgIHJldHVybiBt\nYXhTaXplOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHNldE1heFNpemUo\naW50IG1heCkgew0KICAgICAgICBpZiAobWF4IDwgMCkNCiAgICAgICAgICAg\nIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oU3RyaW5nLnZh\nbHVlT2YobWF4KSk7DQogICAgICAgIG1heFNpemUgPSBtYXg7DQoNCiAgICAg\nICAgcmVtb3ZlT3ZlcmZsb3coZmFsc2UpOw0KICAgIH0NCg0KICAgIC8qKg0K\nICAgICAqIEVxdWl2YWxlbnQgdG8gPGNvZGU+cmVtb3ZlT3ZlcmZsb3coZmFs\nc2UpPC9jb2RlPi4NCiAgICAgKi8NCiAgICBwcm90ZWN0ZWQgdm9pZCByZW1v\ndmVPdmVyZmxvdygpIHsNCiAgICAgICAgcmVtb3ZlT3ZlcmZsb3coZmFsc2Up\nOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFJlbW92ZXMgb3ZlcmZsb3cu\nIElmIDxjb2RlPmZvclB1dDwvY29kZT4gaXMgPGNvZGU+dHJ1ZTwvY29kZT4s\nIHRoZW4NCiAgICAgKiB0aGlzIHVzZXMgPGNvZGU+c2l6ZSgpICsgMTwvY29k\nZT4gd2hlbiBjb21wdXRpbmcgc2l6ZS4NCiAgICAgKi8NCiAgICBwcm90ZWN0\nZWQgdm9pZCByZW1vdmVPdmVyZmxvdyhib29sZWFuIGZvclB1dCkgew0KICAg\nICAgICBpbnQgc2l6ZVRvQ29tcGFyZVRvID0gZm9yUHV0ID8gbWF4U2l6ZSAt\nIDEgOiBtYXhTaXplOw0KICAgICAgICB3aGlsZSAoc2l6ZSgpID4gc2l6ZVRv\nQ29tcGFyZVRvKSB7DQogICAgICAgICAgICBFbnRyeSBlbnRyeSA9IHJlbW92\nZVJhbmRvbSgpOw0KICAgICAgICAgICAgLy8gaWYgcmVtb3ZlUmFuZG9tKCkg\ncmV0dXJucyBudWxsLCBicmVhayBvdXQgb2YgdGhlIGxvb3AuIE9mIGNvdXJz\nZSwNCiAgICAgICAgICAgIC8vIHNpbmNlIHdlJ3JlIG5vdCBsb2NraW5nLCB0\naGUgc2l6ZSBtaWdodCBub3QgYWN0dWFsbHkgYmUgbnVsbA0KICAgICAgICAg\nICAgLy8gd2hlbiB3ZSBkbyB0aGlzLiBCdXQgdGhpcyBwcmV2ZW50cyB3ZWly\nZCByYWNlIGNvbmRpdGlvbnMgZnJvbQ0KICAgICAgICAgICAgLy8gcHV0dGlu\nZyB0aGlzIHRocmVhZCBpbnRvIG1vcmUgbG9vcHMuDQogICAgICAgICAgICBp\nZiAoZW50cnkgPT0gbnVsbCkNCiAgICAgICAgICAgICAgICBicmVhazsNCiAg\nICAgICAgICAgIG92ZXJmbG93UmVtb3ZlZChlbnRyeS5nZXRLZXkoKSwgZW50\ncnkuZ2V0VmFsdWUoKSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJs\naWMgYm9vbGVhbiBpc0Z1bGwoKSB7DQogICAgICAgIHJldHVybiBzaXplKCkg\nPj0gbWF4U2l6ZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBUaGlzIGlt\ncGxlbWVudGF0aW9uIGRvZXMgbm90aGluZy4NCiAgICAgKi8NCiAgICBwdWJs\naWMgdm9pZCBvdmVyZmxvd1JlbW92ZWQoT2JqZWN0IGtleSwgT2JqZWN0IHZh\nbHVlKSB7DQogICAgfQ0KDQogICAgcHJpdmF0ZSB2b2lkIHdyaXRlT2JqZWN0\nKE9iamVjdE91dHB1dFN0cmVhbSBvdXQpIHRocm93cyBJT0V4Y2VwdGlvbiB7\nDQogICAgICAgIG91dC5kZWZhdWx0V3JpdGVPYmplY3QoKTsNCiAgICAgICAg\nb3V0LndyaXRlSW50KG1heFNpemUpOw0KICAgIH0NCg0KICAgIHByaXZhdGUg\ndm9pZCByZWFkT2JqZWN0KE9iamVjdElucHV0U3RyZWFtIGluKQ0KICAgICAg\nICB0aHJvd3MgSU9FeGNlcHRpb24sIENsYXNzTm90Rm91bmRFeGNlcHRpb24g\new0KICAgICAgICBpbi5kZWZhdWx0UmVhZE9iamVjdCgpOw0KICAgICAgICBt\nYXhTaXplID0gaW4ucmVhZEludCgpOw0KICAgIH0NCn0NCg==\n","encoding":"base64"}

