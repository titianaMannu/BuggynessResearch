{"sha":"b40f614a6e9f9a8b58991cb6ad4053542204c8ce","node_id":"MDQ6QmxvYjIwNjM2NDpiNDBmNjE0YTZlOWY5YThiNTg5OTFjYjZhZDQwNTM1NDIyMDRjOGNl","size":7053,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/b40f614a6e9f9a8b58991cb6ad4053542204c8ce","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nY29uZjsNCg0KaW1wb3J0IGphdmEudXRpbC5Qcm9wZXJ0aWVzOw0KDQppbXBv\ncnQgamF2YXgucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlcjsNCmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyRmFjdG9yeTsNCmltcG9y\ndCBqYXZheC5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTsNCmltcG9ydCBqYXZh\neC5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZUV4Y2VwdGlvbjsNCg0KaW1wb3J0\nIGp1bml0LmZyYW1ld29yay5Bc3NlcnRpb25GYWlsZWRFcnJvcjsNCmltcG9y\ndCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7DQoNCmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQVBlcnNpc3RlbmNlOw0K\naW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS51dGlsLlVzZXJFeGNlcHRpb247\nDQoNCi8qKg0KICogVmVyaWZpZXMgYXBwcm9wcmlhdGUgZXhjZXB0aW9uIGlz\nIHRocm93biB3aGVuIGFuIGluY29ycmVjdCBwcm90b2NvbCBvcg0KICogc3Vi\nLXByb3RvY29sIGlzIHNwZWNpZmllZCBpbiB0aGUgSkRCQyBVUkwuIFBlciB0\naGUgSkRCQyBzcGVjaWZpY2F0aW9uLCB0aGUNCiAqIERyaXZlciBzaG91bGQg\ncmV0dXJuIGEgbnVsbCBjb25uZWN0aW9uIHVwb24gZ2V0Q29ubmVjdGlvbigp\nIHdoZW4gYSBiYWQgZHJpdmVyDQogKiBpcyBzcGVjaWZpZWQgb24gdGhlIFVS\nTC4gT3BlbkpQQSBtdXN0IGJlIGFibGUgdG8gaGFuZGxlIHRoaXMgY29uZGl0\naW9uIGFuZA0KICogcmV0dXJuIGFuIGFwcHJvcHJpYXRlIG1lc3NhZ2UuDQog\nKiANCiAqIE9wZW5KUEEgSklSQToge0BsaW5rIGh0dHA6Ly9pc3N1ZXMuYXBh\nY2hlLm9yZy9qaXJhL2Jyb3dzZS9PUEVOSlBBLTY1Nn0NCiAqIA0KICogQGF1\ndGhvciBKZXJlbXkgQmF1ZXINCiAqIEBhdXRob3IgUGluYWtpIFBvZGRhcg0K\nICogDQogKi8NCnB1YmxpYyBjbGFzcyBUZXN0QmFkSmRiY1VybCBleHRlbmRz\nIFRlc3RDYXNlIHsNCglwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBHT09E\nX1VSTCA9ICJqZGJjOmRlcmJ5OnRhcmdldC9kYXRhYmFzZS9vcGVuanBhLWRl\ncmJ5LWRhdGFiYXNlO2NyZWF0ZT10cnVlIjsNCglwdWJsaWMgc3RhdGljIGZp\nbmFsIFN0cmluZyBHT09EX0RSSVZFUiA9ICJvcmcuYXBhY2hlLmRlcmJ5Lmpk\nYmMuRW1iZWRkZWREcml2ZXIiOw0KCXB1YmxpYyBzdGF0aWMgZmluYWwgU3Ry\naW5nIEdPT0RfREFUQVNPVVJDRSA9ICJvcmcuYXBhY2hlLmNvbW1vbnMuZGJj\ncC5CYXNpY0RhdGFTb3VyY2UiOw0KDQoJcHVibGljIHN0YXRpYyBmaW5hbCBT\ndHJpbmcgQkFEX0RSSVZFUiA9ICJiYWQuZHJpdmVyIjsNCglwdWJsaWMgc3Rh\ndGljIGZpbmFsIFN0cmluZyBCQURfVVJMX1BST1RPQ09MID0gImJhZC51cmwu\ncHJvdG9jb2wiOw0KCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEJBRF9V\nUkxfU1VCUFJPVE9DT0wgPSAiYmFkLnVybC5zdWIucHJvdG9jb2wiOw0KCXB1\nYmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEJBRF9DT05OX1BST1BTID0gImNv\nbm5lY3Rpb25Vcmw9YmFkLGNvbm5lY3Rpb25Ecml2ZXI9YmFkIjsNCg0KCS8q\nDQoJICogVGVzdCBzcGVjaWZ5aW5nIFVSTCB3aXRoIGJhZCBwcm90b2NvbCBi\ndXQgYSB2YWxpZCBEcml2ZXIuDQoJICovDQoJcHVibGljIHZvaWQgdGVzdEJh\nZFVybFByb3RvY29sVmFsdWVXaXRoVmFsaWREcml2ZXJDbGFzcygpIHsNCgkJ\nUHJvcGVydGllcyBwID0gbmV3IFByb3BlcnRpZXMoKTsNCgkJcC5wdXQoIm9w\nZW5qcGEuQ29ubmVjdGlvbkRyaXZlck5hbWUiLCBHT09EX0RSSVZFUik7DQoJ\nCXAucHV0KCJvcGVuanBhLkNvbm5lY3Rpb25VUkwiLCBCQURfVVJMX1BST1RP\nQ09MKTsNCgkJdmVyaWZ5Q29ubmVjdEV4Y2VwdGlvbihwLCBQZXJzaXN0ZW5j\nZUV4Y2VwdGlvbi5jbGFzcywNCgkJCQlVc2VyRXhjZXB0aW9uLmNsYXNzLCBH\nT09EX0RSSVZFUiwgQkFEX1VSTF9QUk9UT0NPTCk7DQoJfQ0KDQoJLyoNCgkg\nKiBUZXN0IHNwZWNpZnlpbmcgVVJMIHdpdGggYmFkIHByb3RvY29sIGJ1dCBh\nIHZhbGlkIERhdGFTb3VyY2UuDQoJICovDQoJcHVibGljIHZvaWQgdGVzdEJh\nZFVybFByb3RvY29sVmFsdWVXaXRoVmFsaWREYXRhU291cmNlKCkgew0KCQlQ\ncm9wZXJ0aWVzIHAgPSBuZXcgUHJvcGVydGllcygpOw0KCQlwLnB1dCgib3Bl\nbmpwYS5Db25uZWN0aW9uRHJpdmVyTmFtZSIsIEdPT0RfREFUQVNPVVJDRSk7\nDQoJCXAucHV0KCJvcGVuanBhLkNvbm5lY3Rpb25VUkwiLCBCQURfVVJMX1BS\nT1RPQ09MKTsNCgkJcC5wdXQoIm9wZW5qcGEuQ29ubmVjdGlvblByb3BlcnRp\nZXMiLCBCQURfQ09OTl9QUk9QUyk7DQoJCXZlcmlmeUNvbm5lY3RFeGNlcHRp\nb24ocCwgUGVyc2lzdGVuY2VFeGNlcHRpb24uY2xhc3MsDQoJCQkJbnVsbCwg\nKFN0cmluZ1tdKW51bGwpOw0KCX0NCg0KCS8qDQoJICogVGVzdCBzcGVjaWZ5\naW5nIFVSTCB3aXRoIGJhZCBzdWItcHJvdG9jb2wgYnV0IGEgdmFsaWQgRHJp\ndmVyLg0KCSAqLw0KCXB1YmxpYyB2b2lkIHRlc3RCYWRVcmxTdWJwcm90b2Nv\nbFZhbHVlV2l0aFZhbGlkRHJpdmVyQ2xhc3MoKSB7DQoJCVByb3BlcnRpZXMg\ncCA9IG5ldyBQcm9wZXJ0aWVzKCk7DQoJCXAucHV0KCJvcGVuanBhLkNvbm5l\nY3Rpb25Ecml2ZXJOYW1lIiwgR09PRF9EUklWRVIpOw0KCQlwLnB1dCgib3Bl\nbmpwYS5Db25uZWN0aW9uVVJMIiwgQkFEX1VSTF9TVUJQUk9UT0NPTCk7DQoJ\nCXZlcmlmeUNvbm5lY3RFeGNlcHRpb24ocCwgUGVyc2lzdGVuY2VFeGNlcHRp\nb24uY2xhc3MsDQoJCQkJVXNlckV4Y2VwdGlvbi5jbGFzcywgR09PRF9EUklW\nRVIsIEJBRF9VUkxfU1VCUFJPVE9DT0wpOw0KCX0NCg0KCS8qDQoJICogVGVz\ndCBzcGVjaWZ5aW5nIFVSTCB3aXRoIGJhZCBzdWItcHJvdG9jb2wgYnV0IGEg\ndmFsaWQgRHJpdmVyLg0KCSAqLw0KCXB1YmxpYyB2b2lkIHRlc3RCYWRVcmxT\ndWJwcm90b2NvbFZhbHVlV2l0aFZhbGlkRGF0YVNvdXJjZSgpIHsNCgkJUHJv\ncGVydGllcyBwID0gbmV3IFByb3BlcnRpZXMoKTsNCgkJcC5wdXQoIm9wZW5q\ncGEuQ29ubmVjdGlvbkRyaXZlck5hbWUiLCBHT09EX0RSSVZFUik7DQoJCXAu\ncHV0KCJvcGVuanBhLkNvbm5lY3Rpb25VUkwiLCBCQURfVVJMX1NVQlBST1RP\nQ09MKTsNCgkJdmVyaWZ5Q29ubmVjdEV4Y2VwdGlvbihwLCBQZXJzaXN0ZW5j\nZUV4Y2VwdGlvbi5jbGFzcywNCgkJCQlVc2VyRXhjZXB0aW9uLmNsYXNzLCBH\nT09EX0RSSVZFUiwgQkFEX1VSTF9TVUJQUk9UT0NPTCk7DQoJfQ0KDQoJLyoN\nCgkgKiBUZXN0IHNwZWNpZnlpbmcgVmFsaWQgVVJMIHdpdGggYW4gaW52YWxp\nZCBEcml2ZXIuDQoJICovDQoJcHVibGljIHZvaWQgdGVzdFZhbGlkVXJsV2l0\naEludmFsaWREcml2ZXIoKSB7DQoJCVByb3BlcnRpZXMgcCA9IG5ldyBQcm9w\nZXJ0aWVzKCk7DQoJCXAucHV0KCJvcGVuanBhLkNvbm5lY3Rpb25Ecml2ZXJO\nYW1lIiwgQkFEX0RSSVZFUik7DQoJCXAucHV0KCJvcGVuanBhLkNvbm5lY3Rp\nb25VUkwiLCBHT09EX1VSTCk7DQoJCXZlcmlmeUNvbm5lY3RFeGNlcHRpb24o\ncCwgUGVyc2lzdGVuY2VFeGNlcHRpb24uY2xhc3MsDQoJCQkJVXNlckV4Y2Vw\ndGlvbi5jbGFzcywgR09PRF9VUkwsIEJBRF9EUklWRVIpOw0KCX0NCg0KCS8q\nKg0KCSAqIEF0dGVtcHRzIHRvIGNvbm5lY3Qgd2l0aCBnaXZlbiBwcm9wZXJ0\naWVzIGFuZCBhbmFseXplIGV4Y2VwdGlvbiBmb3IgdGhlDQoJICogZXhpc3Rl\nbmNlIG9mIGdpdmVuIHRhcmdldCBleGNlcHRpb24gYW5kIGVycm9yIG1lc3Nh\nZ2Ugc3RyaW5ncy4NCgkgKiANCgkgKiBAcGFyYW0gcHJvcHMNCgkgKiAgICAg\nICAgICAgIHRoZSBwcm9wZXJ0aWVzIHRvIGluaXRpYWxpemUgdGhlIHBlcnNp\nc3RlbmNlIHVuaXQNCgkgKiBAcGFyYW0gdGFyZ2V0DQoJICogICAgICAgICAg\nICB0aGUgdHlwZSBleHBlY3RlZCBleGNlcHRpb24gdG8gYmUgcmFpc2VkLg0K\nCSAqIEBwYXJhbSBuZXN0ZWQNCgkgKiAgICAgICAgICAgIHRoZSB0eXBlIGV4\ncGVjdGVkIG5lc3RlZCBleGNlcHRpb24uIG51bGwgaW1wbGllcyBub3QgdG8g\nbG9vaw0KCSAqICAgICAgICAgICAgZm9yIGFueS4NCgkgKiBAcGFyYW0ga2V5\ncw0KCSAqICAgICAgICAgICAgdGhlIHN0cmluZ3MgdGhhdCBtdXN0IG9jY3Vy\nIGluIHRoZSBleGNlcHRpb24gbWVzc2FnZS4NCgkgKi8NCglwcml2YXRlIHZv\naWQgdmVyaWZ5Q29ubmVjdEV4Y2VwdGlvbihQcm9wZXJ0aWVzIHByb3BzLCBD\nbGFzcyB0YXJnZXRUeXBlLA0KCQkJQ2xhc3MgbmVzdGVkVHlwZSwgU3RyaW5n\nLi4uIGtleXMpIHsNCgkJRW50aXR5TWFuYWdlckZhY3RvcnkgZW1mID0gbnVs\nbDsNCgkJRW50aXR5TWFuYWdlciBlbSA9IG51bGw7DQoJCXRyeSB7DQoJCQll\nbWYgPSBQZXJzaXN0ZW5jZS5jcmVhdGVFbnRpdHlNYW5hZ2VyRmFjdG9yeSgi\ndGVzdCIsIHByb3BzKTsNCgkJCWVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFn\nZXIoKTsNCgkJCU9wZW5KUEFQZXJzaXN0ZW5jZS5jYXN0KGVtKS5nZXRDb25u\nZWN0aW9uKCk7DQoJCQlmYWlsKCJTaG91bGQgaGF2ZSBjYXVnaHQgYSAiICsg\ndGFyZ2V0VHlwZS5nZXROYW1lKCkpOw0KCQl9IGNhdGNoIChUaHJvd2FibGUg\ndCkgew0KCQkJYXNzZXJ0RXhjZXB0aW9uKHQsIHRhcmdldFR5cGUsIG5lc3Rl\nZFR5cGUpOw0KCQkJYXNzZXJ0TWVzc2FnZSh0LCBrZXlzKTsNCgkJfSBmaW5h\nbGx5IHsNCgkJCWlmIChlbSAhPSBudWxsKQ0KCQkJCWVtLmNsb3NlKCk7DQoJ\nCQlpZiAoZW1mICE9IG51bGwpDQoJCQkJZW1mLmNsb3NlKCk7DQoJCX0NCgl9\nDQoNCgkvKioNCgkgKiBBc3NlcnRzIHRoYXQgdGhlIGdpdmVuIHRhcmdldFR5\ncGUgaXMgYXNzaWduYWJsZSBmcm9tIGFjdHVhbC4gQXNzZXJ0cyB0aGF0DQoJ\nICogdGhlIG5lc3RlZFR5cGUgaXMgYSBuZXN0ZWQgd2l0aGluIHRoZSBnaXZl\nbiBhY3R1YWwgVGhyb3dhYmxlDQoJICogDQoJICogQHBhcmFtIGFjdHVhbA0K\nCSAqIEBwYXJhbSB0YXJnZXRUeXBlDQoJICogQHBhcmFtIG5lc3RlZFR5cGUN\nCgkgKi8NCgl2b2lkIGFzc2VydEV4Y2VwdGlvbihmaW5hbCBUaHJvd2FibGUg\nYWN0dWFsLCBDbGFzcyB0YXJnZXRUeXBlLA0KCQkJQ2xhc3MgbmVzdGVkVGFy\nZ2V0VHlwZSkgew0KCQlpZiAodGFyZ2V0VHlwZSA9PSBudWxsKQ0KCQkJcmV0\ndXJuOw0KCQlhc3NlcnROb3ROdWxsKGFjdHVhbCk7DQoJCUNsYXNzIGFjdHVh\nbFR5cGUgPSBhY3R1YWwuZ2V0Q2xhc3MoKTsNCgkJaWYgKCF0YXJnZXRUeXBl\nLmlzQXNzaWduYWJsZUZyb20oYWN0dWFsVHlwZSkpIHsNCgkJCWFjdHVhbC5w\ncmludFN0YWNrVHJhY2UoKTsNCgkJCWZhaWwodGFyZ2V0VHlwZS5nZXROYW1l\nKCkgKyAiIGlzIG5vdCBhc3NpZ25hYmxlIGZyb20gIg0KCQkJCQkrIGFjdHVh\nbFR5cGUuZ2V0TmFtZSgpKTsNCgkJfQ0KDQoJCWlmIChuZXN0ZWRUYXJnZXRU\neXBlICE9IG51bGwpIHsNCgkJCVRocm93YWJsZSBuZXN0ZWQgPSBhY3R1YWwu\nZ2V0Q2F1c2UoKTsNCgkJCUNsYXNzIG5lc3RlZFR5cGUgPSAobmVzdGVkID09\nIG51bGwpID8gbnVsbCA6IG5lc3RlZC5nZXRDbGFzcygpOw0KCQkJd2hpbGUg\nKG5lc3RlZFR5cGUgIT0gbnVsbCkgew0KCQkJCWlmIChuZXN0ZWRUeXBlLmlz\nQXNzaWduYWJsZUZyb20obmVzdGVkVGFyZ2V0VHlwZSkpIHsNCgkJCQkJcmV0\ndXJuOw0KCQkJCX0gZWxzZSB7DQoJCQkJCVRocm93YWJsZSBuZXh0ID0gbmVz\ndGVkLmdldENhdXNlKCk7DQoJCQkJCWlmIChuZXh0ID09IG51bGwgfHwgbmV4\ndCA9PSBuZXN0ZWQpDQoJCQkJCQlicmVhazsNCgkJCQkJbmVzdGVkVHlwZSA9\nIG5leHQuZ2V0Q2xhc3MoKTsNCgkJCQkJbmVzdGVkICAgICA9IG5leHQ7DQoJ\nCQkJfQ0KCQkJfQ0KCQkJYWN0dWFsLnByaW50U3RhY2tUcmFjZSgpOw0KCQkJ\nZmFpbCgiTm8gbmVzdGVkIHR5cGUgIiArIG5lc3RlZFRhcmdldFR5cGUgKyAi\nIGluICIgKyBhY3R1YWwpOw0KCQl9DQoJfQ0KDQoJLyoqDQoJICogQXNzZXJ0\nIHRoYXQgZWFjaCBvZiBnaXZlbiBrZXlzIGFyZSBwcmVzZW50IGluIHRoZSBt\nZXNzYWdlIG9mIHRoZSBnaXZlbg0KCSAqIFRocm93YWJsZS4NCgkgKi8NCgl2\nb2lkIGFzc2VydE1lc3NhZ2UoVGhyb3dhYmxlIGFjdHVhbCwgU3RyaW5nLi4u\nIGtleXMpIHsNCgkJaWYgKGFjdHVhbCA9PSBudWxsIHx8IGtleXMgPT0gbnVs\nbCkNCgkJCXJldHVybjsNCgkJU3RyaW5nIG1lc3NhZ2UgPSBhY3R1YWwuZ2V0\nTWVzc2FnZSgpOw0KCQlmb3IgKFN0cmluZyBrZXkgOiBrZXlzKSB7DQoJCQlh\nc3NlcnRUcnVlKGtleSArICIgaXMgbm90IGluICIgKyBtZXNzYWdlLCBtZXNz\nYWdlLmNvbnRhaW5zKGtleSkpOw0KCQl9DQoJfQ0KfQ0K\n","encoding":"base64"}

