{"sha":"e8949649b227480a0747662fc315531c3ccb5fdf","node_id":"MDQ6QmxvYjIwNjM2NDplODk0OTY0OWIyMjc0ODBhMDc0NzY2MmZjMzE1NTMxYzNjY2I1ZmRm","size":4565,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e8949649b227480a0747662fc315531c3ccb5fdf","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\nY29uZjsNCg0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eU1hbmFn\nZXI7DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubGliLmNvbmYuVmFs\ndWU7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuQ2xhc3NNZXRh\nRGF0YTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2Uu\nT3BlbkpQQUVudGl0eU1hbmFnZXJGYWN0b3J5Ow0KaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlckZh\nY3RvcnlTUEk7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmRhdGFjYWNoZS5jb21tb24uYXBwcy5QT2JqZWN0Ow0KaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRl\nc3RDYXNlOw0KDQovKioNCiAqIFRlc3RzIGR5bmFtaWMgbW9kaWZpY2F0aW9u\nIG9mIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkuDQogKiANCiAqIEBhdXRob3Ig\nUGluYWtpIFBvZGRhcg0KICoNCiAqLw0KcHVibGljIGNsYXNzIFRlc3REeW5h\nbWljQ29uZmlndXJhdGlvbiBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsN\nCg0KCXB1YmxpYyB2b2lkIHNldFVwKCkgdGhyb3dzIEV4Y2VwdGlvbiB7DQoJ\nCXN1cGVyLnNldFVwKFBPYmplY3QuY2xhc3MpOw0KCX0NCgkNCiAgICBwdWJs\naWMgdm9pZCB0ZXN0Q29uZmlndXJhdGlvbklzRXF1YWxCeVZhbHVlQW5kSGFz\naENvZGUoKSB7DQoJCU9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSSBl\nbWYxID0gY3JlYXRlRU1GKCk7DQoJCWFzc2VydE5vdE51bGwoZW1mMSk7DQoJ\nCU9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYxID0gZW1mMS5nZXRDb25maWd1\ncmF0aW9uKCk7DQoJCQ0KCQlPcGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlT\nUEkgZW1mMiA9IGNyZWF0ZUVNRigpOw0KCQlhc3NlcnROb3ROdWxsKGVtZjIp\nOw0KCQlPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25mMiA9IGVtZjIuZ2V0Q29u\nZmlndXJhdGlvbigpOw0KCQkNCgkJYXNzZXJ0RmFsc2UoZW1mMT09ZW1mMik7\nDQoJCWFzc2VydEZhbHNlKGVtZjEuZXF1YWxzKGVtZjIpKTsNCgkJYXNzZXJ0\nRmFsc2UoY29uZjE9PWNvbmYyKTsNCgkJYXNzZXJ0RXF1YWxzKGNvbmYxLCBj\nb25mMik7DQoJCWFzc2VydEVxdWFscyhjb25mMS5oYXNoQ29kZSgpLCBjb25m\nMi5oYXNoQ29kZSgpKTsNCgkJYXNzZXJ0RXF1YWxzKGNvbmYxLnRvUHJvcGVy\ndGllcyhmYWxzZSksIGNvbmYyLnRvUHJvcGVydGllcyhmYWxzZSkpOw0KCX0N\nCgkNCglwdWJsaWMgdm9pZCB0ZXN0Q29uZmlndXJhdGlvbklzUmVhZE9ubHlB\nZnRlckZpcnN0Q29uc3RydWN0aW9uKCkgew0KCQlPcGVuSlBBQ29uZmlndXJh\ndGlvbiBjb25mID0gZW1mLmdldENvbmZpZ3VyYXRpb24oKTsNCgkJYXNzZXJ0\nRmFsc2UoY29uZi5pc1JlYWRPbmx5KCkpOw0KCQllbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOw0KCQlhc3NlcnRUcnVlKGNvbmYuaXNSZWFkT25seSgpKTsN\nCgl9DQoJDQoJcHVibGljIHZvaWQgdGVzdE5vbkR5bmFtaWNWYWx1ZXNDYW5O\nb3RCZUNoYW5nZWQoKSB7DQoJCWVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7\nDQoJCU9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYgPSBlbWYuZ2V0Q29uZmln\ndXJhdGlvbigpOw0KCQkNCgkJU3RyaW5nIG9sZFZhbHVlID0gY29uZi5nZXRD\nb25uZWN0aW9uVVJMKCk7DQoJCVN0cmluZyBuZXdWYWx1ZSA9ICJqZGJjOi8v\nbXlkYjo4MDg3L0RCRG9lc05vdEV4aXN0IjsNCgkJdHJ5IHsNCgkJCWNvbmYu\nc2V0Q29ubmVjdGlvblVSTChuZXdWYWx1ZSk7DQoJCQlmYWlsKCJFeHBlY3Rl\nZCBleGNlcHRpb24gdG8gbW9kaWZ5IGNvbmZpZ3VyYXRpb24iKTsNCgkJfSBj\nYXRjaCAoRXhjZXB0aW9uIGV4KSB7IC8vIGdvb2QNCgkJCWFzc2VydEVxdWFs\ncyhvbGRWYWx1ZSwgY29uZi5nZXRDb25uZWN0aW9uVVJMKCkpOw0KCQl9DQoJ\nfQ0KCQ0KCXB1YmxpYyB2b2lkIHRlc3REeW5hbWljVmFsdWVzQ2FuQmVDaGFu\nZ2VkKCkgew0KCQlPcGVuSlBBQ29uZmlndXJhdGlvbiBjb25mID0gZW1mLmdl\ndENvbmZpZ3VyYXRpb24oKTsNCgkJDQoJCWludCBvbGRWYWx1ZSA9IGNvbmYu\nZ2V0TG9ja1RpbWVvdXQoKTsNCgkJaW50IG5ld1ZhbHVlID0gb2xkVmFsdWUg\nKyAxMDsNCgkJDQoJCWNvbmYuc2V0TG9ja1RpbWVvdXQobmV3VmFsdWUpOw0K\nCQlhc3NlcnRFcXVhbHMobmV3VmFsdWUsIGNvbmYuZ2V0TG9ja1RpbWVvdXQo\nKSk7DQoJfQ0KDQoJcHVibGljIHZvaWQgdGVzdER5bmFtaWNWYWx1ZXNBcmVD\nb3JyZWN0bHlTZXQoKSB7DQoJCU9wZW5KUEFDb25maWd1cmF0aW9uIGNvbmYg\nPSBlbWYuZ2V0Q29uZmlndXJhdGlvbigpOw0KCQkNCgkJVmFsdWUgbG9ja1Rp\nbWVvdXRWYWx1ZSA9IGNvbmYuZ2V0VmFsdWUoIkxvY2tUaW1lb3V0Iik7DQoJ\nCWFzc2VydE5vdE51bGwobG9ja1RpbWVvdXRWYWx1ZSk7DQoJCWFzc2VydFRy\ndWUobG9ja1RpbWVvdXRWYWx1ZS5pc0R5bmFtaWMoKSk7DQoJCQ0KCQlWYWx1\nZSBjb25uZWN0aW9uVVJMVmFsdWUgPSBjb25mLmdldFZhbHVlKCJDb25uZWN0\naW9uVVJMIik7DQoJCWFzc2VydE5vdE51bGwoY29ubmVjdGlvblVSTFZhbHVl\nKTsNCgkJYXNzZXJ0RmFsc2UoY29ubmVjdGlvblVSTFZhbHVlLmlzRHluYW1p\nYygpKTsNCgl9DQoJDQoJcHVibGljIHZvaWQgdGVzdER5bmFtaWNDaGFuZ2VE\nb2VzTm90Q2hhbmdlSGFzaENvZGUoKSB7DQoJCU9wZW5KUEFDb25maWd1cmF0\naW9uIGNvbmYxID0gZW1mLmdldENvbmZpZ3VyYXRpb24oKTsNCgkJDQoJCWlu\ndCBvbGRWYWx1ZSA9IGNvbmYxLmdldExvY2tUaW1lb3V0KCk7DQoJCWludCBu\nZXdWYWx1ZSA9IG9sZFZhbHVlKzEwOw0KCQlpbnQgb2xkSGFzaCA9IGNvbmYx\nLmhhc2hDb2RlKCk7DQoJCWNvbmYxLnNldExvY2tUaW1lb3V0KG5ld1ZhbHVl\nKTsNCgkJaW50IG5ld0hhc2ggPSBjb25mMS5oYXNoQ29kZSgpOw0KCQkNCgkJ\nYXNzZXJ0RXF1YWxzKG9sZEhhc2gsIG5ld0hhc2gpOw0KCX0NCgkNCglwdWJs\naWMgdm9pZCB0ZXN0Q2xhc3NNZXRhRGF0YVJlY29nbml6ZXNEYXRhQ2FjaGVU\naW1lb3V0VmFsdWVDaGFuZ2UoKSB7DQoJCU9wZW5KUEFDb25maWd1cmF0aW9u\nIGNvbmYgPSBlbWYuZ2V0Q29uZmlndXJhdGlvbigpOw0KCQkNCgkJLy8gZW5z\ndXJlIHRoYXQgUE9iamVjdCBpcyBpbiBtZXRhZGF0YSByZXBvc2l0b3J5DQoJ\nCUVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5TWFuYWdlcigp\nOw0KCQllbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7DQoJCVBPYmplY3Qg\ncGMgPSBuZXcgUE9iamVjdCgpOw0KCQllbS5wZXJzaXN0KHBjKTsNCgkJDQoJ\nCWludCBvbGRWYWx1ZSA9IGNvbmYuZ2V0RGF0YUNhY2hlVGltZW91dCgpOw0K\nCQkNCgkJQ2xhc3NNZXRhRGF0YSBtZXRhID0gY29uZi5nZXRNZXRhRGF0YVJl\ncG9zaXRvcnlJbnN0YW5jZSgpDQoJCQkuZ2V0Q2FjaGVkTWV0YURhdGEoUE9i\namVjdC5jbGFzcyk7DQoJCWFzc2VydE5vdE51bGwobWV0YSk7DQoJCWFzc2Vy\ndEVxdWFscyhvbGRWYWx1ZSwgbWV0YS5nZXREYXRhQ2FjaGVUaW1lb3V0KCkp\nOw0KCQkNCgkJaW50IG5ld1ZhbHVlID0gb2xkVmFsdWUgKyAxMDsNCgkJY29u\nZi5zZXREYXRhQ2FjaGVUaW1lb3V0KG5ld1ZhbHVlKTsNCgkJYXNzZXJ0RXF1\nYWxzKG5ld1ZhbHVlLCBjb25mLmdldERhdGFDYWNoZVRpbWVvdXQoKSk7DQoJ\nCWFzc2VydEVxdWFscyhuZXdWYWx1ZSwgbWV0YS5nZXREYXRhQ2FjaGVUaW1l\nb3V0KCkpOw0KCQkNCgl9DQp9DQo=\n","encoding":"base64"}

